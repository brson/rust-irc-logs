[00:00:07] *** Quits: m-r-r (mrr@moz-rgc.1s5.174.37.IP) (Connection closed)
[00:00:10] *** Quits: derek_c (derek@moz-urjjta.cit.cornell.edu) (Ping timeout: 121 seconds)
[00:00:32] *** Quits: brontron4k (brontron@moz-c9crms.ph.cox.net) (Ping timeout: 121 seconds)
[00:01:23] *** Joins: envi_u (envi@moz-ih5.olo.169.121.IP)
[00:02:44] *** Quits: achanda (achanda@moz-fr1.spq.217.162.IP) (Connection closed)
[00:03:03] *** Joins: cjwelborn (cjwelborn@moz-np6hed.al.charter.com)
[00:03:17] *** Quits: fabianvf (fabianvf@moz-fjqmui.va.comcast.net) (Ping timeout: 121 seconds)
[00:04:22] *** Joins: colinsurprenant (colin@moz-lu9sne.92.electronicbox.net)
[00:05:15] *** Joins: ismaelga (ismaelga@moz-l8230r.rev.vodafone.pt)
[00:05:24] *** Joins: saml_ (saml@moz-rkfmct.res.rr.com)
[00:05:45] *** Joins: dzyp (dzyp@moz-97od8c.client.mchsi.com)
[00:06:46] <dzyp> i'm attempting to run a bench and i keep getting results that say 0 ns/iteration
[00:06:53] *** Quits: system64 (uid17738@moz-7c4aav.uxbridge.irccloud.com) (Quit: Connection closed for inactivity)
[00:07:01] *** Joins: gsingh93 (gulshan@moz-qnbukr.mi.comcast.net)
[00:07:03] *** Joins: choplin (choplin@moz-qkm9un.ap.nuro.jp)
[00:07:12] *** AutomatedTester is now known as AutomatedTester|AFK
[00:07:14] <isak> dzyp: that's pretty great performance
[00:07:33] <dzyp> it is inf better than golang :)
[00:07:36] <dzyp> https://gist.github.com/dustinhiatt-wf/0186ae4478bba2109987
[00:07:38] <dzyp> there's a gist
[00:07:56] <dzyp> i'm guessing that call might be getting optimized out?
[00:08:13] <bstrie> dzyp: almost certainly, there's a black box function somewhere that should prevent that
[00:08:15] *** Quits: Chef (Chef@moz-vk0.67t.196.69.IP) (Ping timeout: 121 seconds)
[00:08:35] *** Quits: laogao (laogao@moz-k1t.k7v.78.124.IP) (Connection closed)
[00:08:36] <bstrie> dzyp: http://doc.rust-lang.org/test/fn.black_box.html
[00:09:06] *** Quits: hjr3 (hradtke@moz-e235ok.fios.verizon.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[00:09:24] *** Joins: new_one (new_one@moz-0f2.eq9.42.128.IP)
[00:09:34] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[00:09:44] *** Joins: rouma (zack@moz-2rnd3r.pekn.hg8m.2000.2604.IP)
[00:09:57] *** Joins: nawfel (Mibbit@moz-l5u.nf1.118.197.IP)
[00:10:47] <nawfel> how does one import TypedArena in nightlies: use std::arena::TypedArena;
[00:10:49] *** Quits: jnicklas (jonasnickla@moz-0ou5lc.bredband.comhem.se) (Client exited)
[00:11:03] <nawfel> <anon>:2:5: 2:27 error: unresolved import `std::arena::TypedArena`. Could not find `arena` in `std`
[00:11:05] *** Quits: choplin (choplin@moz-qkm9un.ap.nuro.jp) (Ping timeout: 121 seconds)
[00:11:10] <nawfel> in playpen
[00:12:27] *** Quits: nowhere_man (pierre@moz-ml89mq.abo.wanadoo.fr) (Ping timeout: 121 seconds)
[00:12:27] *** Quits: dfinninger (dfinninger@moz-6a9v7n.res.rr.com) (Connection closed)
[00:12:27] <dzyp> so using the black box, you'll be happy to know that rust is only ~50% faster than Go :)
[00:12:49] <dzyp> doing really basic bitwise operations too, i was expecting it to be closer
[00:12:58] <bluss> nawfel: it's a separate crate, does extern crate arena work in the nightlies?
[00:13:12] *** Joins: dfinninger (dfinninger@moz-6a9v7n.res.rr.com)
[00:14:11] *** Quits: dsantiago (santiago@moz-5dsjre.dsl-w.verizon.net) (Quit: Computer has gone to sleep.)
[00:14:38] <notallama> i feel like this is the wrong way to check the length of a slice. is there a more direct way? "if slice.iter().count() > 0 { ... }"
[00:14:46] <XMPPwocky> notallama: .len() :P
[00:14:55] <nawfel> thanks bluss 
[00:15:05] <notallama> XMPPwocky: thanks!
[00:15:20] *** Joins: eric_lagergren (barsonme@moz-e0h.6s0.39.134.IP)
[00:15:23] *** Joins: Rym (y@moz-rmaga4.range86-187.btcentralplus.com)
[00:15:39] *** Quits: sargas (sargas@moz-863roc.hfc.comcastbusiness.net) (Quit: Leaving)
[00:17:02] <dzyp> so i've tried black box and using assert, both show 0 ns/iter
[00:17:03] <dzyp> https://gist.github.com/dustinhiatt-wf/021d4fe5c2161a32626d
[00:17:13] <dzyp> decode however, black box shows a real value now
[00:17:24] <dzyp> note: these operations will be fast, decode is 72 ns/op
[00:17:42] <dzyp> surely the assert will prevent optimization, right?
[00:18:08] <dzyp> i can confirm asserting the wrong value results in expected behavior
[00:18:09] *** Quits: dfinninger (dfinninger@moz-6a9v7n.res.rr.com) (Connection closed)
[00:18:34] <XMPPwocky> dzyp: if it can prove that encode(&1, &1) is 2, it can optimize everything away
[00:18:38] *** Joins: dfinninger (dfinninger@moz-6a9v7n.res.rr.com)
[00:19:06] <XMPPwocky> tiny functions that call longer ones will usually get the longer ones inlined, so then it's all just
[00:20:09] <dzyp> and this: https://gist.github.com/dustinhiatt-wf/d27e29d86f56319667f8
[00:20:24] <dzyp> results in the same
[00:20:35] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[00:20:41] <XMPPwocky> dzyp: that optimizes away too? yeah, that's because it'll just call black_box with 2 every time :P
[00:20:52] <XMPPwocky> you need to run the *arguments* through black_box, i think
[00:20:56] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[00:21:04] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[00:21:44] <gsingh93> so i want to reuse a few constant, heap allocated structs in various places in my program. in other languages, I could make the static, constant, global variables. is that possible in rust, and if not, is the only solution to pass some struct containing these values around?
[00:22:39] *** Quits: Layl (Layl@moz-65hqmf.direct-adsl.nl) (Quit: Leaving)
[00:22:44] <scp> gsingh93:https://github.com/Kimundi/lazy-static.rs
[00:22:53] <scp> oops, should be a space there, sry
[00:23:13] <dzyp> XMPPwocky: solution became obvious when you said that :)
[00:23:15] <dzyp> https://gist.github.com/dustinhiatt-wf/0e28cc608c61a70b189b
[00:23:26] *** Quits: Rym (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[00:23:32] <gsingh93> scp: this looks awesome, thanks
[00:23:36] <scp> np
[00:23:59] <XMPPwocky> dzyp: yeah, although make sure to do the same thing in Go
[00:24:23] <dzyp> i do, go is a bit easier because their "Bencher" has a number attached to it to represent its iteration
[00:24:53] <dzyp> it'd be nice if the function passed to iter received a usize representing the iteration it is on
[00:24:59] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[00:24:59] <XMPPwocky> dzyp: anyways, bitwise-math heavy stuff is actually the sort of thing Rust can win big at- llvm's peephole optimizations are just way more powerful than go's (partially by design, because go emphasizes compiletime)
[00:25:12] <XMPPwocky> well, not the *only* sort of thing, but it helps
[00:25:21] <dzyp> ~68% faster finding hilbert indices
[00:25:26] *** Joins: choplin (choplin@moz-2t6dtl.t6mc.g9m6.001a.240d.IP)
[00:25:27] <dzyp> is what i'm seeing
[00:25:43] *** Quits: jimb (user@moz-09a.i8g.126.207.IP) (Ping timeout: 121 seconds)
[00:25:44] <XMPPwocky> there was a really impressive example where this big match statement with bitmasks and bitwise ops
[00:25:56] <bluss> dzyp: you can count yourself in the closure(?)
[00:25:57] <XMPPwocky> compiled down into like 5 operations with bizarre "magic numbers"
[00:26:17] <dzyp> bluss: that's what it's doing now
[00:26:36] <dzyp> but it'd also be nice to know on the bencher itself how many times it intends to run
[00:27:13] *** Quits: nawfel (Mibbit@moz-l5u.nf1.118.197.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[00:28:20] <talchas> I think it may not itself know
[00:28:41] <talchas> (ie to let it run longer if it's needed to get better results)
[00:28:51] <talchas> (or at least they might want to allow that sort of thing)
[00:29:15] *** Joins: nowhere_man (pierre@moz-9c0pjt.abo.wanadoo.fr)
[00:29:21] <dzyp> i had assumed it worked like go's where it picked a number, ran the benchmark function, looked at the result and decided whether or not to change N for the next run
[00:29:49] <XMPPwocky> dzyp: iirc, it runs 10 or something times, then using that timing data runs again for "about" N seconds
[00:29:52] <XMPPwocky> i forget what N is
[00:30:09] <talchas> dzyp: yeah, that does seem to be what it does
[00:30:12] <talchas> so it could provide that info
[00:30:21] *** Quits: rootnode (rootnode@moz-go1ut4.ip1.george24.com) (Ping timeout: 121 seconds)
[00:30:31] <talchas> it'll just run the whole thing several times
[00:30:40] <bluss> it runs just once the first time
[00:30:44] <bluss> it looks like
[00:31:01] <dzyp> yeah, it'd just be nice to have that if i need to set up some items before the actual timed loop
[00:31:45] <brson> users.rlo and internals.rlo support https now
[00:31:56] *** Joins: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp)
[00:32:00] <bstrie> brson: awesome! is it the default?
[00:32:00] *** Joins: joneshf-laptop (joneshf@moz-l4h.b5s.208.98.IP)
[00:32:04] <bluss> that's great news
[00:32:21] <brson> bstrie: looks like it? I get redirected to https
[00:33:02] *** Quits: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp) (Connection closed)
[00:33:07] <XMPPwocky> sorry this is really silly
[00:33:11] *** Quits: bren2010 (bren2010@moz-356.o3d.198.71.IP) (Quit: )
[00:33:12] <XMPPwocky> but how do you call i32::min_value
[00:33:17] <XMPPwocky> rusti: i32::min_value()
[00:33:18] -playbot- -2147483648
[00:33:18] *** Joins: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp)
[00:33:21] <XMPPwocky> okay i give up
[00:33:27] *** Quits: marcusklaas (marcus@moz-14bm7d.upc-g.chello.nl) (Client exited)
[00:33:46] *** dmu is now known as dmu|away
[00:33:48] <XMPPwocky> oh
[00:34:07] <XMPPwocky> rusti: match 42 { i32::min_value() => (), _ => () }
[00:34:08] -playbot- <anon>:9:35: 9:36 error: nullary enum variants are written with no trailing `( )`
[00:34:08] -playbot- <anon>:9         match 42 { i32::min_value() => (), _ => () }
[00:34:08] -playbot- output truncated; full output at: http://bit.ly/1Gzxwla
[00:34:15] <XMPPwocky> that error message :(
[00:34:16] *** Quits: chmanchester (Chris@moz-ha9kvr.2rkg.9kg1.0101.2620.IP) (Ping timeout: 121 seconds)
[00:34:17] *** Quits: Havvy (Havvy@moz-aas.m8a.237.67.IP) (Ping timeout: 121 seconds)
[00:34:22] *** Joins: jdm (jdm@moz-ilbt2e.cable.teksavvy.com)
[00:34:23] *** ChanServ sets mode: +o jdm
[00:34:29] *** Joins: santiago (santiago@moz-ro2mm9.res.rr.com)
[00:34:46] <bluss> well it expects you to know you can't put expressions there
[00:34:46] *** Quits: dfinninger (dfinninger@moz-6a9v7n.res.rr.com) (Connection closed)
[00:34:47] <XMPPwocky> oh and it's not a const so i can't even
[00:34:57] <bluss> playbot: std::i32::MIN
[00:34:59] -playbot- -2147483648
[00:35:06] <XMPPwocky> .... great, that's not documented apparently
[00:35:15] *** Joins: dfinninger (dfinninger@moz-6a9v7n.res.rr.com)
[00:35:19] <bluss> XMPPwocky: std::i32 is a module.. :/
[00:35:22] <XMPPwocky> oh, i was on the primitive page
[00:35:26] <XMPPwocky> asdf
[00:35:38] <XMPPwocky> brb crying
[00:35:40] <bluss> the module page is much easier to read through
[00:35:44] <brandonson> anyone know of any pathfinding libraries?
[00:35:49] *** Quits: kgrandon (Adium@moz-3d8iju.2rkg.9kg1.0101.2620.IP) (Quit: Leaving.)
[00:36:13] <bluss> XMPPwocky: just today some awesome contributor had a PR for associated constants merged. which means.. i32::MIN can be a reality in the future
[00:36:16] <dzyp> graph pathfinding?
[00:36:57] *** Quits: Wild_Cat (Max@moz-ijo.rq2.175.184.IP) (Ping timeout: 121 seconds)
[00:36:57] <brandonson> dzyp: yeah, that's what I'm thinking of.  mostly looking to avoid implementing A* myself
[00:37:05] *** Joins: Chef (Chef@moz-1trbhq.dsl.teksavvy.com)
[00:37:08] *** Joins: Guest5 (textual@moz-hnb58r.oc.cox.net)
[00:37:24] <brandonson> guessing we don't have anything, but I thought I'd give it a shot
[00:38:44] *** Quits: brson (brson@moz-cfhap5.mtv2.mozilla.com) (Quit: leaving)
[00:39:04] *** Joins: brson (brson@moz-ib4.pdv.48.37.IP)
[00:39:05] *** ChanServ sets mode: +ao brson brson
[00:39:57] *** Quits: errordeveloper (ilya@moz-bnq.bui.199.90.IP) (Ping timeout: 121 seconds)
[00:40:35] *** Joins: bren2010 (bren2010@moz-hmvb13.redstation.co.uk)
[00:40:45] <dwrensha> Question about DerefMut: http://is.gd/8FOFU5
[00:41:11] <dwrensha> can I use the "*" syntax if it's not in an lvalue?
[00:41:19] *** Quits: nowhere_man (pierre@moz-9c0pjt.abo.wanadoo.fr) (Ping timeout: 121 seconds)
[00:41:29] <XMPPwocky> dwrensha: yes, but you won't get a reference
[00:41:44] <XMPPwocky> deref_mut gives a reference, the * op will secretly dereference that, but
[00:41:52] <dwrensha> wha
[00:41:52] <XMPPwocky> you can just match &mut *foo.borrow_mut()
[00:42:03] <dwrensha> ah
[00:42:10] <XMPPwocky> dwrensha: so in rust there isn't really a way to return a lvalue, right?
[00:42:18] <XMPPwocky> so instead, stuff like deref or index returns an &
[00:42:30] *** Quits: Temur (Tarmashirin@moz-f5i.59e.201.117.IP) (Connection closed)
[00:42:30] <XMPPwocky> and the operator dereferences that internally, to use it as an lvalue
[00:43:41] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[00:43:49] <XMPPwocky> dwrensha: also, i think you could even
[00:44:01] <dwrensha> I'm a bit fuzzy on the difference between an lvalue and a &mut T
[00:44:06] *** Joins: Temur (Tarmashirin@moz-f5i.59e.201.117.IP)
[00:44:13] <XMPPwocky> no, you can't, nvm
[00:44:14] <XMPPwocky> disregard
[00:44:19] <bluss> XMPPwocky: yeah, deref bug
[00:44:27] <bluss> with matches
[00:45:03] *** Quits: Savago (Savago@moz-8hd.3b6.246.162.IP) (Client exited)
[00:46:49] *** Quits: _petr (petr@moz-2pi.7q8.248.178.IP) (Ping timeout: 121 seconds)
[00:46:58] *** Quits: atomic (atomic@moz-kvs6fc.torservers.net) (Quit: Leaving)
[00:47:36] *** Joins: kkus (kkus@moz-baj4jj.74.srtnet.com)
[00:48:29] <dwrensha> yeah, makes sense.  `std::cellRefMut<'a, T>` is simulating a `&'a mut T`, and `&mut *` is how to convert
[00:48:55] *** Joins: laogao (laogao@moz-m3ssu7.members.linode.com)
[00:48:56] *** Quits: grobinson (grobinson@moz-10vhk6.dynamic.fusionbroadband.com) (Quit: )
[00:49:47] <dwrensha> sorry, `std::cell::RefMut<'a, T>`
[00:49:50] *** Joins: atomic (atomic@moz-ch53jc.jager.io)
[00:50:06] *** Joins: marsel (user@moz-o7o.qr2.147.46.IP)
[00:50:26] *** Quits: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp) (Connection closed)
[00:50:47] *** Joins: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp)
[00:51:15] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[00:52:11] *** Joins: EsBe (EsBe@moz-tr2dkp.res.rr.com)
[00:52:12] *** Joins: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com)
[00:52:57] *** Quits: laogao (laogao@moz-m3ssu7.members.linode.com) (Ping timeout: 121 seconds)
[00:53:00] *** Joins: jgallagher (john@moz-6ge.dhn.131.24.IP)
[00:53:36] *** Quits: willem (willem@moz-facs2s.dynamic.upc.nl) (Quit: leaving)
[00:54:49] *** Quits: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp) (Ping timeout: 121 seconds)
[00:55:43] *** Quits: qrlpx (smuxi@moz-n7t.3nb.211.95.IP) (Ping timeout: 121 seconds)
[00:56:09] *** Joins: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp)
[00:56:57] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Client exited)
[00:58:17] *** Quits: choplin (choplin@moz-2t6dtl.t6mc.g9m6.001a.240d.IP) (Connection closed)
[00:59:02] *** Joins: lenstr (lenstr@moz-njm.vju.25.171.IP)
[00:59:39] *** Quits: lenstr (lenstr@moz-njm.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[00:59:51] *** Joins: lenstr (lenstr@moz-njm.vju.25.171.IP)
[00:59:53] *** Joins: choplin (choplin@moz-2t6dtl.t6mc.g9m6.001a.240d.IP)
[01:00:11] *** Quits: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp) (Ping timeout: 121 seconds)
[01:00:43] *** Joins: qrlpx (smuxi@moz-n70fkn.dip0.t-ipconnect.de)
[01:01:11] *** Joins: kgrandon (Adium@moz-3mljhf.hjek.d045.0009.2601.IP)
[01:01:14] *** Joins: choplin_ (choplin@moz-qkm9un.ap.nuro.jp)
[01:01:22] *** Quits: lenstr (lenstr@moz-njm.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[01:01:28] *** Quits: logan_e (logan_e@moz-ltn.qg3.218.73.IP) (Client exited)
[01:03:55] *** Quits: choplin (choplin@moz-2t6dtl.t6mc.g9m6.001a.240d.IP) (Ping timeout: 121 seconds)
[01:03:57] <mystor> I know that `Option<Box<T>>` will be optimized to use the null value of the box to represent `None`, but will `Box<Option<T>>` also be optimized that way? I assume it won't, I am just curious
[01:04:08] *** Joins: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp)
[01:04:09] <FreeFull> mystor: It won't
[01:04:15] <mystor> FreeFull: kk, cool
[01:04:25] <mystor> makes sense
[01:04:41] *** Quits: Astrologos (n_i_l@moz-90i7qc.access.hol.gr) (Quit: )
[01:04:57] *** Quits: mcoffee (mcoffee@moz-a1c74g.vc.shawcable.net) (A TLS packet with unexpected length was received.)
[01:05:15] *** Quits: dzyp (dzyp@moz-97od8c.client.mchsi.com) (Connection closed)
[01:05:20] *** Joins: nil (nil@moz-153mse.p5sj.b1d9.0003.2601.IP)
[01:06:37] <FreeFull> playbot: std::mem::size_of::<Option<Option<(Box<u8>,Box<u8>)>>>()
[01:06:39] -playbot- 24
[01:06:52] <FreeFull> playbot: std::mem::size_of::<Option<(Box<u8>,Box<u8>)>>()
[01:06:53] -playbot- 16
[01:06:57] <gsingh93> i have an Rc<T>, when I deref it, the docs say I should get a &T, but I get a T
[01:07:11] <WindowsBunny> FreeFull: sadness
[01:07:16] <FreeFull> WindowsBunny: Yeah
[01:07:26] <WindowsBunny> gsingh93: * dereffing implicitly derefs the &
[01:07:27] *** Joins: jvshahid (jvshahid@moz-8o45ja.res.rr.com)
[01:07:34] <WindowsBunny> gsingh93: So you have to re-ref it to get &T
[01:07:45] *** Quits: choplin_ (choplin@moz-qkm9un.ap.nuro.jp) (Connection closed)
[01:07:56] <gsingh93> WindowsBunny: why does * deref twice?
[01:08:17] *** Quits: jdm (jdm@moz-ilbt2e.cable.teksavvy.com) (Quit: )
[01:08:27] <WindowsBunny> So that you can do &*thing or &mut*thing to choose between Deref and DerefMut
[01:08:39] <FreeFull> gsingh93: Otherwise you'd have to do  **foo to go from Box<T> to T, and that'd be confusing too
[01:08:56] <FreeFull> Especially since it's not clear if it should go through Deref or DerefMut
[01:09:34] <gsingh93> ok, and this applies even when there's more than two pointers, it'll go up the entire chain?
[01:10:04] *** Quits: wldcordeiro (wldcordeiro@moz-metlmh.hmj8.a2nn.0007.2601.IP) (Ping timeout: 121 seconds)
[01:10:04] *** Quits: dfinninger (dfinninger@moz-6a9v7n.res.rr.com) (Connection closed)
[01:10:28] *** Joins: envi_un (envi@moz-ih5.olo.169.121.IP)
[01:10:46] *** Joins: dfinninger (dfinninger@moz-6a9v7n.res.rr.com)
[01:10:47] *** Joins: nowhere_man (pierre@moz-6hqrib.abo.wanadoo.fr)
[01:11:05] <WindowsBunny> gsingh93: * does a single invocation of Deref::deref
[01:11:10] <FreeFull> gsingh93: If foo is Box<Box<T>> *foo will be Box<T>
[01:11:10] *** Joins: Twinklebear (Twinklebear@moz-13g.gpi.27.76.IP)
[01:11:14] <WindowsBunny> and then gives you T instead of &T
[01:11:17] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[01:11:35] <FreeFull> *foo is equivalent to  *foo.deref() or *foo.deref_mut()
[01:11:45] <gsingh93> ok, got it
[01:11:45] <FreeFull> Where the dereference on & is built in
[01:11:45] <WindowsBunny> What function do I have to break on in gdb for panics?
[01:11:46] *** Quits: isak (isak@moz-vunbu1.dyn.plus.net) (Ping timeout: 121 seconds)
[01:11:48] <gsingh93> thanks
[01:12:12] <WindowsBunny> Any gdb experts out there? D:
[01:12:53] *** Joins: davebettin_ (davebettin@moz-acc.cl4.35.72.IP)
[01:13:34] *** Quits: envi_u (envi@moz-ih5.olo.169.121.IP) (Ping timeout: 121 seconds)
[01:13:41] <comex> WindowsBunny: rust_panic
[01:14:36] *** Quits: envi_un (envi@moz-ih5.olo.169.121.IP) (Ping timeout: 121 seconds)
[01:14:41] *** Joins: Brochacho (alberto@moz-p39.q5h.156.131.IP)
[01:14:54] <WindowsBunny> comex: the backtrace I got was.... less than helpful http://i.imgur.com/FH7PGHb.png
[01:15:09] *** Quits: sysko (bst@moz-cpv.glf.227.116.IP) (Ping timeout: 121 seconds)
[01:15:45] <comex> probably a gdb/windows issue
[01:15:59] <FreeFull> WindowsBunny: Usually when faced with that message I inspect all the .unwrap()s in my code
[01:16:13] *** Quits: davebettin (davebettin@moz-acc.cl4.35.72.IP) (Ping timeout: 121 seconds)
[01:16:15] *** Quits: idegen (greg@moz-9c4nle.or.frontiernet.net) (Connection closed)
[01:16:29] <FreeFull> If it's not directly in your code then it's harder
[01:16:45] *** Quits: jbcurtin (jbcurtin@moz-lskisb.LosAngeles1.Level3.net) (Ping timeout: 121 seconds)
[01:16:46] <WindowsBunny> Okay, I narrowed down the issue to this line
[01:16:46] *** Joins: _td (tatterdemal@moz-a0dnkb.ca.comcast.net)
[01:16:47] <WindowsBunny> let mut out = term::stdout().unwrap();
[01:16:55] <WindowsBunny> Now let's figure out why its returning None
[01:17:46] *** Joins: idegen (greg@moz-9c4nle.or.frontiernet.net)
[01:17:49] *** Quits: Altazimuth_ (Altazimuth@moz-rb7u6p.skybroadband.com) (Ping timeout: 121 seconds)
[01:17:54] <WindowsBunny> ah ha
[01:18:06] <FreeFull> Was it because you were running it in gdb?
[01:18:10] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[01:18:14] *** Joins: Wild_Cat (Max@moz-na0tak.dsl.teksavvy.com)
[01:19:04] <WindowsBunny> FreeFull: no
[01:19:15] <WindowsBunny> It's because GetConsoleScreenBufferInfo is failing
[01:19:21] <FreeFull> Ok
[01:19:48] *** Joins: derek_c (derek@moz-uei18e.cit.cornell.edu)
[01:20:06] <FreeFull> On Option<T>, it's often handy to use .expect("something") instead of .unwrap()
[01:20:39] <WindowsBunny> Hmmm
[01:20:48] <WindowsBunny> Ah ha
[01:20:56] <WindowsBunny> I just needed to give the handle GENERIC_READ
[01:21:03] <WindowsBunny> otherwise it couldn't write screen buffer info
[01:21:10] *** Quits: dfinninger (dfinninger@moz-6a9v7n.res.rr.com) (Connection closed)
[01:21:11] *** Joins: Riastradh (riastradh@moz-m49.pl4.163.109.IP)
[01:21:12] <FreeFull> Ok
[01:21:27] *** Joins: sargas (sargas@moz-863roc.hfc.comcastbusiness.net)
[01:22:53] *** Joins: aatch (james@moz-ciignl.bmm3.j08e.e000.2406.IP)
[01:23:18] *** Joins: choplin (choplin@moz-pvkp2j.t6mc.g9m6.001a.240d.IP)
[01:24:02] *** Joins: danv (danv@moz-0js00c.iinet.net.au)
[01:24:29] *** Joins: laogao (laogao@moz-m3ssu7.members.linode.com)
[01:24:38] *** Quits: Temur (Tarmashirin@moz-f5i.59e.201.117.IP) (Ping timeout: 121 seconds)
[01:24:59] *** Quits: JagaJaga (JagaJaga@moz-ua8.hhl.62.178.IP) (Ping timeout: 121 seconds)
[01:27:31] *** Joins: mib_a0dzub (Mibbit@moz-620cp8.fios.verizon.net)
[01:28:03] *** Quits: choplin (choplin@moz-pvkp2j.t6mc.g9m6.001a.240d.IP) (Connection closed)
[01:28:26] *** Joins: KallDrexx (KallDrexx@moz-4fqk30.dybhfl.sbcglobal.net)
[01:28:45] *** Quits: mib_a0dzub (Mibbit@moz-620cp8.fios.verizon.net) (Quit: http://www.mibbit.com ajax IRC Client)
[01:29:02] *** Joins: Temur (Tarmashirin@moz-f5i.59e.201.117.IP)
[01:30:06] *** Joins: choplin (choplin@moz-qkm9un.ap.nuro.jp)
[01:30:38] *** Quits: sargas (sargas@moz-863roc.hfc.comcastbusiness.net) (Quit: Leaving)
[01:31:02] *** Quits: Nextra (Nextra@moz-7ndqru.dip.osnanet.de) (Connection closed)
[01:32:50] *** Quits: nowhere_man (pierre@moz-6hqrib.abo.wanadoo.fr) (Ping timeout: 121 seconds)
[01:33:03] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[01:33:51] *** Joins: logan_e (logan_e@moz-ltn.qg3.218.73.IP)
[01:36:50] *** Joins: errordeveloper (ilya@moz-bnq.bui.199.90.IP)
[01:38:22] *** Parts: talchas (user@moz-8ubbgk.ca.comcast.net) ("ERC Version 5.3 (IRC client for Emacs)")
[01:38:24] *** Joins: talchas (user@moz-8ubbgk.ca.comcast.net)
[01:38:38] <hoverbear> WindowsBunny, FreeFull: On Result<T,E> if you want a custom error message you can do `.ok().expect("Foo")`
[01:38:44] *** Joins: matp_ (matp@moz-rvt9hl.matp.at)
[01:40:06] *** Quits: matp (matp@moz-rvt9hl.matp.at) (Ping timeout: 121 seconds)
[01:40:23] *** Quits: choplin (choplin@moz-qkm9un.ap.nuro.jp) (Connection closed)
[01:40:47] *** Quits: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp) (Connection closed)
[01:40:49] <FreeFull> hoverbear: Or .map_err(|x| format!("Oh no! {}", x)).unwrap() if you want to preserve/use the original error too
[01:41:00] <hoverbear> FreeFull: +1 Yes!
[01:41:04] *** Quits: errordeveloper (ilya@moz-bnq.bui.199.90.IP) (Ping timeout: 121 seconds)
[01:41:09] *** Joins: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp)
[01:41:23] *** Joins: nowhere_man (pierre@moz-a61bc3.abo.wanadoo.fr)
[01:42:14] *** Quits: brson (brson@moz-ib4.pdv.48.37.IP) (Quit: leaving)
[01:43:21] *** Quits: claudiu (claudiu@moz-3ej.9o0.201.199.IP) (Connection closed)
[01:43:39] *** Joins: choplin (choplin@moz-qkm9un.ap.nuro.jp)
[01:44:26] *** Quits: }ls{ (uhelp@moz-giot3h.dip0.t-ipconnect.de) (Quit: User terminated by real life interrupt)
[01:45:12] *** Quits: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp) (Ping timeout: 121 seconds)
[01:46:25] *** Joins: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp)
[01:46:33] *** Quits: aatch (james@moz-ciignl.bmm3.j08e.e000.2406.IP) (Connection closed)
[01:46:44] *** Quits: brontron5k (brontron@moz-c9crms.ph.cox.net) (Ping timeout: 121 seconds)
[01:46:54] <scp> is it safe to assume that a rust bool is 1 byte?
[01:47:33] *** Joins: aatch (james@moz-ciignl.bmm3.j08e.e000.2406.IP)
[01:47:59] *** Joins: sysko (bst@moz-g9d.6sp.95.211.IP)
[01:47:59] <scp> (if so, how would I find that out?)
[01:48:15] <niconii> playbot: std::mem::size_of::<bool>()
[01:48:16] -playbot- 1
[01:48:26] *** Joins: ty (ty@moz-i6c4to.wa.comcast.net)
[01:48:29] <XMPPwocky> it's safe in practice
[01:48:29] <niconii> that's in bytes, so
[01:48:31] <XMPPwocky> it could change
[01:48:34] *** Joins: Havvy (Havvy@moz-v55a22.5euu.k9bm.0007.2601.IP)
[01:48:34] <scp> yes, it's a 1 byte on the machine playbot is running on
[01:48:43] *** Quits: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp) (Connection closed)
[01:48:47] *** Joins: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp)
[01:48:56] <ty> How do multi-crate cargo packages work?  Is there one Cargo.toml in the root and then others in the sub-crates?
[01:49:12] <niconii> playbot: std::mem::size_of::<[bool; 8]>()
[01:49:13] -playbot- 8
[01:49:14] <XMPPwocky> you can be safe and just put unsafe { let _ = std::mem::transmute<u8, bool>(0); }
[01:49:23] <XMPPwocky> then, if it ever changes, your code won't compile
[01:49:55] <niconii> hmm, so [bool; 8] is eight bytes, but it's conceivable that they could, like, bit-pack that at some point
[01:49:56] *** Quits: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[01:50:08] <niconii> probably not, since memory's cheap, but
[01:50:44] <FreeFull> There is BitVec, but it's unstable
[01:50:58] *** Joins: da-kid (da@moz-gl1l6v.dip0.t-ipconnect.de)
[01:51:17] *** Quits: choplin (choplin@moz-qkm9un.ap.nuro.jp) (Connection closed)
[01:51:20] <Murarth> niconii: They could not bit-pack because each one needs to have a distinct address.
[01:51:20] <bluss> niconii: it's not conceivable to pack, because the ability to take pointers to the bools individually is part of the "API"
[01:51:44] <niconii> Murarth, bluss: mmm, right
[01:51:45] *** Quits: shawnadelic (shawn@moz-u5o3kk.res.rr.com) (Quit: leaving)
[01:52:01] *** Joins: popow (Thunderbird@moz-03f.kd0.252.223.IP)
[01:52:46] *** Joins: choplin (choplin@moz-pvkp2j.t6mc.g9m6.001a.240d.IP)
[01:52:55] *** Quits: bollu (bollu@moz-7mp.5p1.216.117.IP) (Quit: Leaving.)
[01:53:11] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[01:53:47] *** Quits: da-kid_ (da@moz-2ubrrl.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[01:53:50] *** Quits: srh_ (User@moz-7hrfs3.unps.r1c6.fb90.2607.IP) (Quit: Leaving)
[01:53:53] *** Quits: warmwaffles (warmwaffles@moz-6gpnl1.res.rr.com) (Quit: Leaving...)
[01:54:03] <huon> niconii: (C++ implicitly bitpacking std::vector<bool> is often regarded as a bad design decision)
[01:54:23] <niconii> huon: gotcha
[01:55:51] *** Joins: playjax (chatzilla@moz-gkl57r.optusnet.com.au)
[01:56:55] *** Joins: if_e1se (uid16886@moz-js7dlj.uxbridge.irccloud.com)
[01:57:40] *** Joins: winding-lines (textual@moz-g7k4j8.ca.comcast.net)
[01:59:23] <ty> C++ bitbacking is used as the primary example that C++ template specialization is bad
[01:59:55] <sam113101> does rust have that?
[02:00:19] <ty> sam: nope
[02:00:34] <ChrisMorgan> huon: why?
[02:00:36] <Havvy> bitbacking?
[02:00:43] <ChrisMorgan> bitpacking.
[02:00:43] <sam113101> (I mean template specialization, although I don't know how it would be called in rust)
[02:00:46] <Havvy> Ah, nevermind.
[02:01:09] <ChrisMorgan> huon: I would have thought that scrunching it down like that would be a *good* thing; why isn’t it?
[02:01:22] *** Joins: mytochar (Thunderbird@moz-ap4cku.wa.comcast.net)
[02:01:28] <ty> Rust does have bitpacking, std::collections::{BitSet, BitVec} (I think), rust does not have template specialization
[02:01:33] *** Quits: choplin (choplin@moz-pvkp2j.t6mc.g9m6.001a.240d.IP) (Connection closed)
[02:01:34] <Havvy> ChrisMorgan:  Because how to do you point to a single boolean?
[02:01:39] *** Quits: kazimuth (james@moz-h7l.35b.189.18.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[02:02:14] <ty> ChrisMorgan: it makes the rest of the API really poorly designed.  Havvy points out the main issue
[02:02:24] <ChrisMorgan> Havvy: I guess you couldn’t take a reference to it, you’d be stuck needing to copy it.
[02:02:28] *** Joins: Feyn (Feyn@moz-e06.k93.115.42.IP)
[02:02:44] *** Quits: qrlpx (smuxi@moz-n70fkn.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[02:03:17] *** Joins: sjj (sjj@moz-7s3.mbd.125.202.IP)
[02:03:29] *** Joins: brontron4k (brontron@moz-0pqlmn.ph.cox.net)
[02:03:31] <gsingh93> if i have an Arc, how can I move the data out of it and get rid of the Arc?
[02:04:15] <gsingh93> oh, i guess that doesn't make sense if it's being shared...
[02:04:22] <gsingh93> sorry, still new to this
[02:04:54] *** Joins: rootnode (rootnode@moz-iusrla.vpn.rwth-aachen.de)
[02:05:16] <ty> gsingh93: You can do something similar if you make sure that you are the only owner
[02:05:22] <Havvy> let gsingh93 = rust::programmer::new();
[02:05:32] *** Quits: zzmp (zzmp@moz-5p1.h2b.247.173.IP) (Quit: )
[02:06:01] <gsingh93> ty: if you're the only owner how can you do it?
[02:06:09] <ty> gsingh93: if you have Arc<Option<Foo>>, you can do `my_arc.make_unique().take()` to get the value out of it.
[02:06:19] <XMPPwocky> isn't make_unique cloning
[02:06:22] <ty> this does require that Foo is Clone, and you 
[02:06:34] <XMPPwocky> there's another method that just checks the refcount and doesn't require clone
[02:06:37] <ty> *and you aren't told if it was the original copy or not 
[02:07:02] <ty> XMPPwocky: there certainly is for Rc, but I can't find it for Arc
[02:07:06] *** Quits: dmac_ (dmac@moz-4kcd1c.ca.comcast.net) (Ping timeout: 121 seconds)
[02:07:09] <XMPPwocky> that's obnoxious
[02:07:17] *** Joins: kimundi_ (kimundi@moz-qie1ht.dip0.t-ipconnect.de)
[02:07:35] <talchas> that would require much worse ops for normal use
[02:07:43] <talchas> or two-word cmpxchg
[02:07:44] *** Joins: qrlpx (smuxi@moz-n7t.3nb.211.95.IP)
[02:07:51] <bluss> alloc::arc::get_mut ?
[02:08:10] <gsingh93> i don't see any method other than make_unique for Rc
[02:08:45] <bluss> alloc::rc::try_unwrap
[02:08:58] <ty> gsingh93: there is an unstable function (not a method) called `std::rc::try_unwrap`
[02:09:22] <gsingh93> ah, that's why i missed it
[02:09:36] <talchas> oh right, it's actually safe because 1-ref, duh
[02:10:17] <aji> what do people usually put in mio tokens?
[02:10:40] <aji> i'm thinking of holding a vector of objects and using the index as the token value
[02:10:46] <gsingh93> ok, in my case i have an Arc, and .make_unique() returns a &mut T
[02:10:50] <talchas> though actually I think arc::get_mut is unsafe
[02:10:57] *** Quits: kimundi (kimundi@moz-7st4bq.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[02:10:57] *** kimundi_ is now known as kimundi
[02:12:04] <gsingh93> oh, get_mut is what i need
[02:12:07] <gsingh93> it doesn't say it's unsafe
[02:12:27] <talchas> yeah, I'm saying I think it's wrong
[02:12:34] *** Joins: sayan (sayan@moz-ip8.595.51.106.IP)
[02:12:46] <Mutabah> talchas: get_mut makes the Arc unique
[02:12:55] <bluss> no
[02:13:01] *** Quits: rmgk_ (ragnar@moz-l9udp8.dyn.telefonica.de) (Ping timeout: 121 seconds)
[02:13:05] <bluss> returns None if it isn't unique
[02:13:07] <talchas> I think it's wrong because it reads strong and weak separately
[02:13:10] <Mutabah> Oh, right
[02:13:11] <ty> Mutabah: no it doesn't, it returns Option<&mut T>
[02:13:15] <talchas> and a weak pointer could be promoted to strong in between
[02:13:23] <talchas> it needs to double-check strong
[02:13:34] <Mutabah> talchas: Mistook it for make_unique
[02:13:49] <talchas> make_unique has the same bug I think
[02:13:51] <XMPPwocky> talchas: then the strong could be demoted to weak...
[02:13:55] <XMPPwocky> it's still racy
[02:14:03] <ty> talchas: if you have Arc<Option<T>>, then you could write `get_mut(my_arc).map(|v| v.take())` in order to move the value out 
[02:14:21] *** Joins: KLP (KLP@moz-qdcjho.res.rr.com)
[02:14:23] <XMPPwocky> make_unique is cloning
[02:14:29] <talchas> XMPPwocky: no, because strong == 1 == self
[02:14:46] <talchas> oh, I see, yes
[02:14:54] <XMPPwocky> oh but not all the time, i think
[02:14:58] <XMPPwocky> it may check the rcs
[02:15:12] <XMPPwocky> talchas: but Send != 'static, so you could have two & in different threads to one Arc
[02:15:16] <XMPPwocky> and race
[02:15:41] <XMPPwocky> http://doc.rust-lang.org/src/alloc/arc.rs.html#347 yep thaaat's racy
[02:16:02] <talchas> well, non &mut ones are irrelevant
[02:16:16] <XMPPwocky> talchas: no, because you could be promoting / demoting / cloning
[02:16:19] <talchas> but you could promote for the weak check and then demote again for the second strong check
[02:16:21] <talchas> so you still lose
[02:16:28] <talchas> hmm
[02:16:30] *** kimundi is now known as zz_kimundi
[02:17:06] <talchas> ok, so it's really totally broken then :P
[02:17:08] *** Quits: KLP (KLP@moz-qdcjho.res.rr.com) (Quit: http://www.kiwiirc.com/ - A hand crafted IRC client)
[02:17:09] <XMPPwocky> make_unique takes &mut though, actually
[02:17:10] <XMPPwocky> so
[02:17:10] <XMPPwocky> nvm
[02:17:32] *** Quits: akawaka (akawaka@moz-0bb8q8.irvnca.sbcglobal.net) (Ping timeout: 121 seconds)
[02:17:34] <XMPPwocky> so self isn't aliased by any other thread (or anything)
[02:17:40] <XMPPwocky> the Arc, that is, not the contents
[02:17:58] <XMPPwocky> so if the strong count is 1, it'll never increase unless a weak pointer is promoted
[02:17:58] *** Joins: akawaka (akawaka@moz-0bb8q8.irvnca.sbcglobal.net)
[02:18:05] <talchas> anyway, my race is still there, so I'll file a bug
[02:18:57] <gsingh93> so it looks like neither get_mut or make_unique is what I want, since I can't get the data by value
[02:19:34] <XMPPwocky> gsingh93: oh
[02:19:36] <XMPPwocky> that's .clone()
[02:19:37] <XMPPwocky> :P
[02:19:46] * bluss . o O ( Maybe Arc could have a type parameter for using Weak pointers or not Arc<T, Weak=No> )
[02:19:48] <XMPPwocky> er, (*x).clone() or you'll get a new Arc
[02:19:54] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[02:19:59] <gsingh93> XMPPwocky: i was hoping to not clone and just throw away the arc if i only had a refcount of 1
[02:20:21] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[02:21:03] <talchas> XMPPwocky: actually, I'm wrong because weak is actually weak+strong
[02:21:10] *** Joins: DerisiveLogic (smuxi@moz-lok4tg.dyn.optonline.net)
[02:21:24] <bluss> yay
[02:21:39] *** Joins: rmgk (ragnar@moz-ph3cu5.dyn.telefonica.de)
[02:22:00] <talchas> or... not, I'm confused. :atomics:
[02:22:12] *** Quits: fengshaun (fengshaun@moz-rf0qk5.cable.teksavvy.com) (Quit: bye bye!)
[02:22:16] *** Joins: fengshaun (fengshaun@moz-rf0qk5.cable.teksavvy.com)
[02:22:36] *** Quits: fengshaun (fengshaun@moz-rf0qk5.cable.teksavvy.com) (Quit: bye bye!)
[02:22:42] *** Joins: fengshaun (fengshaun@moz-rf0qk5.cable.teksavvy.com)
[02:23:11] <XMPPwocky> clearly, we should destabilize multithreading
[02:23:26] *** Joins: pylist (Mibbit@moz-gonfrq.rev.dyxnet.com)
[02:23:53] *** zz_kimundi is now known as kimundi
[02:23:54] <talchas> yeah, I just forgot how arc/rc worked for a bit :P
[02:23:58] *** Quits: DerisiveLogic (smuxi@moz-lok4tg.dyn.optonline.net) (Connection closed)
[02:24:05] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[02:24:12] <XMPPwocky> you forgot, i just didn't know :P
[02:24:21] *** Quits: Anupkumar (uid16774@moz-cf8smb.uxbridge.irccloud.com) (Quit: Connection closed for inactivity)
[02:24:23] *** Joins: v21 (vee@moz-07pghd.asianet.co.th)
[02:25:26] *** Quits: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[02:25:46] *** Quits: agjacome (agjacome@moz-ma9sfa.dynamic.jazztel.es) (Quit: leaving)
[02:25:59] *** Joins: DerisiveLogic (smuxi@moz-lok4tg.dyn.optonline.net)
[02:26:09] *** Joins: Guest74 (textual@moz-lmfinb.fios.verizon.net)
[02:26:19] <ty> I'm just waiting for HashMap to be marked unstable 
[02:26:29] <ty> it would make my beta-ification journey complete 
[02:28:23] * WindowsBunny marks ty unstable
[02:28:47] <talchas> c.c
[02:29:13] *** Quits: hydraidm801 (django@moz-3fgk5s.ut.comcast.net) (Quit: Leaving)
[02:29:37] *** Quits: erz (erz@moz-n2p94l.broadband.corbina.ru) (Quit: My Mac has gone to sleep. ZZZzzz…)
[02:31:38] *** Joins: dfinninger (dfinninger@moz-6a9v7n.res.rr.com)
[02:31:42] *** Joins: dylan_ (dylan@moz-h9d.d0d.43.100.IP)
[02:33:32] *** Joins: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net)
[02:33:32] *** ChanServ sets mode: +ao pcwalton pcwalton
[02:33:39] *** Quits: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net) (A TLS packet with unexpected length was received.)
[02:33:54] *** Joins: soma (Mibbit@moz-ef5.7ab.191.107.IP)
[02:33:57] *** Quits: Guest5 (textual@moz-hnb58r.oc.cox.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[02:34:23] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[02:34:52] *** Joins: kazimuth (james@moz-h7l.35b.189.18.IP)
[02:35:40] *** Quits: dfinninger (dfinninger@moz-6a9v7n.res.rr.com) (Ping timeout: 121 seconds)
[02:36:03] *** Quits: kazimuth (james@moz-h7l.35b.189.18.IP) (Connection closed)
[02:38:10] <soma> Hello! Does rust support inherit from struct?
[02:38:10] *** Joins: KLP (KLP@moz-qdcjho.res.rr.com)
[02:38:18] <Havvy> soma:  Not at this time.
[02:38:28] <Mutabah> soma: No structural inheritance at the moment
[02:38:41] <Mutabah> soma: However, a form of it can be done with Deref and members
[02:38:48] <Mutabah> soma: Depends on why you want it
[02:39:55] *** Joins: dpc__ (dpc@moz-t6gr4b.ca.comcast.net)
[02:42:03] *** Quits: veddan (viktor@moz-e5s0ai.cust6.csbnet.se) (Ping timeout: 121 seconds)
[02:42:32] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[02:43:00] <soma> Mutabah:ok. Currently I have a bunch of tree-like objects:http://is.gd/yILPH1.  All of them have similar methods. How can I make my code cleaner?
[02:43:50] <WindowsBunny> if its just similar methods, you could perhaps use a trait
[02:44:31] *** Joins: summerlight_ (summerlight@moz-99k.2mj.130.121.IP)
[02:44:42] *** Quits: EsBe (EsBe@moz-tr2dkp.res.rr.com) (Connection closed)
[02:44:42] *** Quits: Chef (Chef@moz-1trbhq.dsl.teksavvy.com) (Quit: Quit)
[02:45:07] *** Quits: rmgk (ragnar@moz-ph3cu5.dyn.telefonica.de) (Ping timeout: 121 seconds)
[02:45:53] *** Joins: EsBe (EsBe@moz-tr2dkp.res.rr.com)
[02:46:00] *** Joins: choplin (choplin@moz-q517gi.u-tokyo.ac.jp)
[02:46:45] *** Quits: new_one (new_one@moz-0f2.eq9.42.128.IP) (Quit: WeeChat 1.1.1)
[02:46:52] *** Quits: Ralith (ralith@moz-tiaj7p.customer.broadstripe.net) (Ping timeout: 121 seconds)
[02:46:54] *** Joins: lenstr (lenstr@moz-njm.vju.25.171.IP)
[02:47:25] *** Quits: DerisiveLogic (smuxi@moz-lok4tg.dyn.optonline.net) (Ping timeout: 121 seconds)
[02:47:31] *** Quits: lenstr (lenstr@moz-njm.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[02:47:43] *** Joins: lenstr (lenstr@moz-njm.vju.25.171.IP)
[02:47:49] *** Joins: kagari (kagari@moz-jtek0d.eonet.ne.jp)
[02:48:13] *** Quits: sjj (sjj@moz-7s3.mbd.125.202.IP) (Connection closed)
[02:48:29] *** Joins: rmgk (ragnar@moz-47v8hs.dyn.telefonica.de)
[02:48:32] *** Quits: KallDrexx (KallDrexx@moz-4fqk30.dybhfl.sbcglobal.net) (Ping timeout: 121 seconds)
[02:48:33] *** Quits: eric_lagergren (barsonme@moz-e0h.6s0.39.134.IP) (Ping timeout: 121 seconds)
[02:48:41] *** Quits: lenstr (lenstr@moz-njm.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[02:48:44] *** Joins: eric_lagergren (barsonme@moz-e0h.6s0.39.134.IP)
[02:48:47] *** Joins: Ralith (ralith@moz-tiaj7p.customer.broadstripe.net)
[02:48:49] *** Joins: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se)
[02:48:55] <gsingh93> there should be a lint to tell you when you're calling .clone() but don't need to
[02:50:36] *** Quits: rootnode (rootnode@moz-iusrla.vpn.rwth-aachen.de) (Ping timeout: 121 seconds)
[02:51:12] <soma> Hello! Does rust's trait support data fields?
[02:51:31] <FreeFull> Traits don't support associated data right now
[02:51:31] <Mutabah> soma: No, but you can use getter methods
[02:51:46] <FreeFull> I think it is planned for the future, not sure
[02:51:53] <FreeFull> There are associated types
[02:52:06] <bluss> and associated constants ^^
[02:52:07] <Amaranth> I think all of the current lints are enabled by default things and I don't think a lint for an unneeded clone would fit
[02:52:24] <Amaranth> Because you may have wanted to clone for other reasons
[02:52:25] *** Quits: kmcguire (kmcguire@moz-c955nf.res.rr.com) (Ping timeout: 121 seconds)
[02:52:27] <gsingh93> Amaranth: i didn't say a lint in the standard library
[02:52:35] <soma> Mutabah: will that cause performance issues?
[02:52:35] <gsingh93> it could be in another lib
[02:52:41] <FreeFull> playbot: 3u8.clone().clone().clone()
[02:52:43] -playbot- 3
[02:53:00] <Mutabah> soma: It would cost a call, yes
[02:53:12] <gsingh93> it'd probably get inlined though, right?
[02:53:25] <reem> yes
[02:53:28] <Brochacho> Is there an easy way to check if a path is a hidden file? When ever I use starts_with on a relative PathBuf I always get false
[02:53:29] <Amaranth> Wouldn't that be a virtual call?
[02:53:30] <reem> if it’s short almost definitely
[02:53:38] <Mutabah> soma: Assuming that you're calling via a &Trait object, not using monomorphisation
[02:53:40] <reem> Amaranth: no, the only virtual calls in rust are through trait objects
[02:53:50] <Amaranth> Aren't we talking about trait objects?
[02:53:53] <reem> are we?
[02:54:04] <gsingh93> not necessarily...
[02:54:06] <reem> it looks like we are just talking about traits
[02:54:10] *** Quits: jvshahid (jvshahid@moz-8o45ja.res.rr.com) (Quit: leaving)
[02:54:22] <reem> which have many uses not involving trait objects :)
[02:54:55] <Amaranth> He wants to do something tree like with inheritance. Unless he has a fixed structure of what types can be the parent/child of other types he would need trait objects
[02:55:13] *** Joins: pirateking (Mibbit@moz-g399d9.fios.verizon.net)
[02:55:13] <gsingh93> Amaranth: no, you can do T: Trait
[02:55:18] <gsingh93> instead of passing a Trait
[02:55:37] <gsingh93> passing a Trait directly would be an example of Trait objects
[02:55:40] <reem> it really depends on exactly what they are doing
[02:55:40] *** Quits: Guest74 (textual@moz-lmfinb.fios.verizon.net) (Connection closed)
[02:55:48] *** Joins: Guest74 (textual@moz-lmfinb.fios.verizon.net)
[02:55:53] *** Quits: Guest74 (textual@moz-lmfinb.fios.verizon.net) (Connection closed)
[02:56:08] <reem> whether generics or trait objects would be appropriate
[02:56:12] *** Quits: pylist (Mibbit@moz-gonfrq.rev.dyxnet.com) (Quit: http://www.mibbit.com ajax IRC Client)
[02:56:15] <pirateking> hey guys, when something like this http://rustbyexample.com/borrow/ref.html says "copy", is it like copy/paste or cut/paste? can I use the old variable again?
[02:56:24] <Amaranth> gsingh93: So you'd do struct Foo<P: Trait, C: Trait> { parent: P; child: C; }?
[02:56:44] <gsingh93> yea, looks right
[02:56:45] <Mutabah> pirateking: A copy is a distinct version
[02:56:45] <Amaranth> Hmm, I wonder if that would actually work
[02:56:53] <gsingh93> idk, try it
[02:56:56] <reem> Amaranth: well, parent pointers usually don’t really work without something more involved
[02:57:01] *** Joins: errordeveloper (ilya@moz-bnq.bui.199.90.IP)
[02:57:04] <reem> but if you have only one child type, sure
[02:57:52] <Amaranth> I don't think it would work, you'd have to specify the full type hierarchy for parent and child all the way up and down the tree
[02:57:53] <Amaranth> I think
[02:58:02] <reem> well, rustc would know
[02:58:06] <Amaranth> In each node, I mean
[02:58:19] <reem> but through the power of generics, you will not need to specif
[02:58:30] *** Quits: mytochar (Thunderbird@moz-ap4cku.wa.comcast.net) (Client exited)
[02:58:47] <Amaranth> Like, to store your parent you'd have to know its type but its type includes its parent and so on
[02:58:59] <Amaranth> *shrug*
[02:59:00] *** streblo|away is now known as streblo
[02:59:45] *** Joins: hydraidm801 (django@moz-3fgk5s.ut.comcast.net)
[03:00:45] *** Quits: Izacht13 (Izacht13@moz-gee645.atsnmeam.ccmaine.net) (Quit: Leaving)
[03:01:02] <Brochacho> Hmm, using Path's `starts_with` to filter hidden paths returns true even if the path's leading character is "."
[03:01:16] *** Quits: errordeveloper (ilya@moz-bnq.bui.199.90.IP) (Ping timeout: 121 seconds)
[03:01:23] <pirateking> Mutabah thank you
[03:02:23] <reem> Amaranth: there are more complex issues with parent pointers than the types really; ownership concerns will stop you from using a naive scheme where the child attempts to own the parent
[03:02:39] *** Joins: sp0 (seth@moz-m97a3k.internode.on.net)
[03:02:39] <reem> the recursive type is a red herring to the real issue there
[03:02:41] *** Joins: kvsari (kvsari@moz-fgsnv9.bbtec.net)
[03:02:55] *** Quits: pirateking (Mibbit@moz-g399d9.fios.verizon.net) (Quit: http://www.mibbit.com ajax IRC Client)
[03:03:12] <Amaranth> reem: Well, wouldn't it be the same for the children? To store your child you'd have to specify its type which include the type of its child and so on
[03:03:30] <reem> Amaranth: yes, but you do not need to specify the type, just be generic
[03:03:40] <reem> at no point do you actually have to write out the full type of this thing
[03:03:53] *** nsm|away is now known as nsm
[03:04:14] <reem> you probably want to do something a bit more subtle than struct Foo<C> { child: C }, but if you have a common child type you can definitely use generics here rather than needing trait objects
[03:04:59] *** Joins: rootnode (rootnode@moz-dp33mg.vpn.rwth-aachen.de)
[03:05:16] <rootnode> I think I found a bug in std::process::Command
[03:05:36] <bstrie> rootnode: what is it?
[03:05:42] <rootnode> http://is.gd/qeMuzw
[03:05:47] <rootnode> this is my testcase
[03:06:01] <rootnode> "ls" is correctly spawned, but then hangs around as a zombie process
[03:06:07] <rootnode> or am I doing something wrong?
[03:06:09] *** Quits: zeebo (zeebo@moz-qtpltq.ut.vivintwireless.net) (Ping timeout: 121 seconds)
[03:06:23] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[03:06:26] <rootnode> noticed this in my WM. every terminal or program I started stuck around as a zombie
[03:06:45] *** Joins: zeebo (zeebo@moz-6rqv1a.ut.comcast.net)
[03:06:46] <rootnode> makes for a very long htop output after a long worksession
[03:07:16] <Brochacho> Is there a behavioral difference between `String`'s starts_with and `Path`'s starts_with? When ever I convert the path to a string and use `String`s I get true for hidden paths but false for `Path`s
[03:07:18] <Murarth> rootnode: spawn returns Child. Child does not implicitly wait on destruction. You have to call wait or kill.
[03:07:26] *** Joins: p1start (p1start@moz-nftjhe.org)
[03:07:27] *** Quits: dylan_ (dylan@moz-h9d.d0d.43.100.IP) (Ping timeout: 121 seconds)
[03:08:19] <rootnode> hm, calling wait isn't really an option. kill neither. darn. don't wanna spawn a thread for each command
[03:08:22] <rootnode> it used to work
[03:09:50] *** Quits: v21 (vee@moz-07pghd.asianet.co.th) (Ping timeout: 121 seconds)
[03:10:15] <gsingh93> Brochacho: idk, but you can take a look, it doesn't seem to complicated: http://doc.rust-lang.org/src/std/path.rs.html#1462
[03:10:34] *** Quits: idegen (greg@moz-9c4nle.or.frontiernet.net) (Quit: Leaving.)
[03:10:39] <Murarth> Generally (on *nix), catching SIGCHLD is an option, but Rust hasn't figured out signals yet. :\
[03:11:41] *** Joins: borromakot (Adium@moz-j6pi1a.il.comcast.net)
[03:12:26] <borromakot> what is this error message: http://is.gd/LqIcH2 ?
[03:12:35] *** Joins: kerrick (kerrick@moz-fub7j7.hfc.comcastbusiness.net)
[03:12:50] <rootnode> calling wait() isn't really an option unless I create a separate thread for each Child
[03:12:56] <Brochacho> gsingh93: I'm using it as described in the documentation though either I'm misunderstanding its use or I've run into a bug
[03:12:57] <borromakot> I've tried using the syntax they are talking about, but it didn't seem to work.
[03:13:01] <rootnode> Kinda wanted to run them detached
[03:13:20] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[03:13:35] <mbrubeck> borromakot: Weird - piped doesn't seem to be a trait method...
[03:13:36] <scp> What am I doing wrong here: http://is.gd/8E2GO8?
[03:13:37] <borromakot> oh
[03:14:00] *** Quits: cdidd_ (cdidd@moz-qa5fqk.broadband.corbina.ru) (Quit: Leaving)
[03:14:12] <borromakot> is it the way I'm using a function in the function signature
[03:14:28] <borromakot> I picked that out of some example somewhere, but that doesn't look right
[03:14:34] *** Joins: ucarion_ (ulyssecario@moz-c10ppr.c3v0.fbki.f140.2607.IP)
[03:14:53] <borromakot> yeah I think that just needs to be Stdio
[03:14:55] <mbrubeck> scp: `pub use self::c` conflicts with `mod c`
[03:15:35] <mbrubeck> scp: You could do something like `pub use self::c as pub_c`
[03:15:50] <scp> mbrubeck: it's self::c::*
[03:16:33] <scp> mbrubeck: this works: http://is.gd/ZtFkeh
[03:16:38] *** Quits: _td (tatterdemal@moz-a0dnkb.ca.comcast.net) (Ping timeout: 121 seconds)
[03:16:52] <Amaranth> https://github.com/rust-lang/rust/issues/11203 is the issue for some sort of signal handling
[03:16:54] <mbrubeck> scp: Huh, yeah.
[03:17:08] <Amaranth> For now I guess you'd just have to call out to libc to handle it
[03:17:38] *** Joins: cdidd (cdidd@moz-m698fs.broadband.corbina.ru)
[03:17:53] <scp> it's really weird that it's an unresolved import.
[03:18:07] <zamabe> scp: the use inside of mod `c` adds a `b` to the scope, but you're pulling it into the scope which defines `b`
[03:18:26] <zamabe> s/you're pulling it/you're pulling `c`/
[03:18:36] <zamabe> well, `c`'s contents
[03:18:42] <zamabe> which includes a `b`
[03:18:50] *** Quits: cjwelborn (cjwelborn@moz-np6hed.al.charter.com) (Quit: sys.exit(1))
[03:19:07] <scp> zamabe: http://is.gd/jL8Mgs
[03:20:02] <scp> `use self::c::*;` only brings exported identifiers into scope. The use inside of c is `use super::b`, not `pub use super::b`, so what you're saying doesn't apply
[03:20:04] <zamabe> ah :/
[03:20:27] <scp> to me this seems like... a bug
[03:21:35] *** Quits: winding-lines (textual@moz-g7k4j8.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[03:21:37] <scp> if I remove the `use self::c::*;` then it builds. But I don't want to remove that, and I don'
[03:21:37] <zamabe> scp: you're declaring pub use on private c
[03:21:44] *** Quits: saml_ (saml@moz-rkfmct.res.rr.com) (Quit: Leaving)
[03:21:52] <scp> t want to
[03:21:53] <zamabe> looks like that to me :/
[03:22:31] <scp> zamabe: that is allowed. http://is.gd/ZtFkeh
[03:22:33] <Brochacho> Shouldn't I expect this to be evaluated correctly? "rel_path" as a dotfile: http://is.gd/ISDVSU
[03:22:36] <zamabe> I don't think the pub use can resolve things that it can't access
[03:22:53] <zamabe> scp: http://is.gd/21fNW3
[03:23:15] <zamabe> scp: huh, so it is
[03:23:58] <scp> your example is odd too, given that it works if I don't rename it
[03:24:09] *** Joins: rbranson (rbranson@moz-ga0.9o0.201.199.IP)
[03:24:13] <scp> but making it `pub mod c` doesn't make my problem go away
[03:24:38] <mbrubeck> Brochacho: Path::starts_with is based on path components, not characters
[03:24:43] *** Joins: forgottenone (forgottenon@moz-7c3.s8g.45.92.IP)
[03:25:00] <borromakot> so I have this line right here: `let process = try!(Command::new(parsed_command.command).stdin(stdin).stdout(Stdio::piped()).spawn());`  The thing is that `stdin` in this context is currently an Option<Stdio>, but I need it to be just a Stdio.  I can match on it, and things like that, but it is already within an appropriate try!.  Is there a canonical way to do this?  Should I wrap the the `stdin` in a try! as well?
[03:25:04] *** Joins: druzac (druzac@moz-hn17us.vc.shawcable.net)
[03:25:18] <zamabe> scp: head scratchy, I am. Sorry
[03:25:18] <mbrubeck> Brochacho: So `Path::new("./foo").starts_with(".")` but `Path::new(".bar")` does not.
[03:25:47] <Brochacho> mbrubeck: The documentation does not make that clear at all
[03:25:49] <scp> zamabe: np =]. I'll report a bug and see what people say
[03:26:10] *** Joins: dmac (dmac@moz-2ig65r.ca.comcast.net)
[03:26:20] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[03:26:22] <mbrubeck> Brochacho: I agree! File an issue?
[03:26:42] <Brochacho> Going to, thanks mbrubeck was kicking myself over this
[03:27:29] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[03:28:12] <mbrubeck> borromakot: If you want to use try with an option, you could do something like `let stdin = try!(stdin.ok_or(SomeError));`
[03:28:29] <mbrubeck> where `SomeError` is whatever you want to return if `stdin` is `None`
[03:29:10] <borromakot> hmmm…
[03:29:14] <borromakot> I like that.
[03:29:21] <borromakot> mbrubeck: thanks :D
[03:29:46] <mkomitee> Does anyone have a few minutes to take a look at my first "complete" rust program and let me know how I can improve it? It's a "clone" of the coreutils wc program, not that big, and available at https://github.com/mkomitee/wc.rs
[03:30:33] *** streblo is now known as streblo|away
[03:30:56] <reem> What are my options for doing rpc in rust right now?
[03:31:06] *** Joins: konsolebox (konsolebox@moz-lpd.tgb.198.112.IP)
[03:31:15] <reem> or just generally communicating between processes
[03:31:49] *** Quits: adu (adu@moz-d3un5a.ms5a.74ae.000a.2601.IP) (Ping timeout: 121 seconds)
[03:32:01] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[03:32:02] <gsingh93> mkomitee: you probably want const instead of static for those global variables
[03:33:03] <mbrubeck> reem: Here's what pcwalton did with Unix sockets: https://github.com/pcwalton/servo/commit/fd175b6dfdb555a553c8df92ffe485ec24e11dad
[03:34:38] <mkomitee> For all of them, or just the non &str ones?
[03:35:04] <reem> mbrubeck: hmm, cool
[03:35:09] *** Quits: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com) (Ping timeout: 121 seconds)
[03:36:09] <gsingh93> mkomitee: seems like all of them
[03:36:29] <mkomitee> K. I'm going to read the rf. on const vs static.
[03:36:48] *** Joins: Guest__ (textual@moz-rtn.fg7.77.192.IP)
[03:36:54] <mkomitee> s/rf./rfc
[03:37:02] *** Quits: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[03:37:02] *** Joins: GGist (Mibbit@moz-st7v59.wa.comcast.net)
[03:37:25] *** Quits: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp) (Connection closed)
[03:37:46] *** Joins: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp)
[03:38:46] *** streblo|away is now known as streblo
[03:38:49] <mkomitee> so a const can be inlined by the compiler, placed in read-only memory, and is guaranteed immutable?
[03:39:20] *** Joins: erz (erz@moz-n2p94l.broadband.corbina.ru)
[03:39:31] *** Joins: aholler_ (aholler@moz-3tmgfc.dip0.t-ipconnect.de)
[03:40:03] <aatch> mkomitee, yeah, const is basically the Rust version of `#define FOO val`, though obviously a little different.
[03:40:04] *** Quits: erz (erz@moz-n2p94l.broadband.corbina.ru) (Quit: My Mac has gone to sleep. ZZZzzz…)
[03:41:48] *** Quits: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp) (Ping timeout: 121 seconds)
[03:42:23] <mkomitee> I appreciate the tips (and explanation)
[03:42:25] *** Quits: ismaelga (ismaelga@moz-l8230r.rev.vodafone.pt) (Connection closed)
[03:42:28] *** Quits: aholler (aholler@moz-qrflid.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[03:42:33] *** Quits: chc4 (chc4@moz-pdo0at.ma.comcast.net) (Quit: AHHHHH BEES)
[03:43:15] *** Joins: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp)
[03:44:08] <mkomitee> I'd like to hear suggestions on style as well. I don't know if there's a such thing as idiomatic rust, but if there is, I'm pretty sure this isn't it.
[03:44:42] *** Joins: gandalf (zbraniecki@moz-cp7c4m.ca.comcast.net)
[03:45:43] *** Joins: mib_yo051b (Mibbit@moz-ejhggg.il.comcast.net)
[03:46:12] *** Joins: sjj_ (sjj@moz-4v2ea8.asianet.co.th)
[03:46:22] <mkomitee> btw I just discovered it doesn't build on beta3. It did on beta2. The problem is with the locked version of rustc-serialize. I'll be committing a new lock file momentarily.
[03:46:34] <gsingh93> mkomitee: from just looking at it for a minute, it looks good
[03:46:50] <FreeFull> There is a beta3 now?
[03:47:14] <mkomitee> Yep. They don't appear to make much of an announcement :)
[03:47:17] *** Quits: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp) (Ping timeout: 121 seconds)
[03:47:20] *** Joins: warmwaffles (warmwaffles@moz-6gpnl1.res.rr.com)
[03:47:22] <gsingh93> since like 2 days ago i think
[03:48:08] *** Joins: tsudot (tsudot@moz-cnr.57i.73.182.IP)
[03:48:30] <gsingh93> for someone on the core team, the ICE i reported wasn't tagged as an ICE: https://github.com/rust-lang/rust/issues/24819
[03:48:37] *** Joins: brainproxy (michael@moz-9vjtig.mo.charter.com)
[03:48:42] <gsingh93> just want to make sure that gets looked at before 1.0
[03:48:47] <gsingh93> fairly trivial ICE
[03:49:12] *** Joins: lenstr (lenstr@moz-njm.vju.25.171.IP)
[03:49:50] *** Quits: lenstr (lenstr@moz-njm.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[03:49:59] *** Joins: lenstr (lenstr@moz-njm.vju.25.171.IP)
[03:50:07] <mkomitee> gsingh93: I'm surprised nothing jumps out at you. Thanks for looking.
[03:51:01] *** Quits: lenstr (lenstr@moz-njm.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[03:51:26] <rootnode> was waitpid removed?
[03:51:51] *** Quits: mib_yo051b (Mibbit@moz-ejhggg.il.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[03:52:43] *** Joins: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp)
[03:53:12] *** Quits: derek_c (derek@moz-uei18e.cit.cornell.edu) (Ping timeout: 121 seconds)
[03:53:14] *** Joins: Jesse (jruderman@moz-pqc1f5.ca.comcast.net)
[03:54:06] <FreeFull> Default, IntoIterator and ToOwned are in the prelude now. Cool
[03:54:33] *** Quits: ytain (ytain@moz-ge9fgi.dsl.teksavvy.com) (Quit: Textual IRC Client: www.textualapp.com)
[03:54:42] <gsingh93> why can i hash a BTreeSet and not a HashSet?
[03:55:00] *** Quits: Dylan16807 (dylan@moz-62uibl.cntmoh.sbcglobal.net) (Ping timeout: 121 seconds)
[03:55:01] <gsingh93> any fundamental reason Hash isn't implemented for HashSet?
[03:55:22] <huon> gsingh93: it's hard
[03:55:29] <aatch> gsingh93, well one reason is that there's no defined ordering for a HashSet
[03:55:33] <huon> (any given hashset may have elements in different orders)
[03:56:12] <gsingh93> ah, so lots of "obvious" implementations would give different hashes for the same hashset
[03:56:29] *** Quits: EsBe (EsBe@moz-tr2dkp.res.rr.com) (Ping timeout: 121 seconds)
[03:56:31] <gsingh93> i wonder if someones come up with some non-obvious way though
[03:56:41] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[03:56:41] *** ChanServ sets mode: +o erickt
[03:56:42] <FreeFull> BTreeSet on the other hand is guaranteed to always be in sorted order
[03:56:42] <aatch> you can sort the elements first.
[03:56:45] *** Quits: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp) (Ping timeout: 121 seconds)
[03:56:57] <aatch> Or use an order-independent hashing method.
[03:57:03] *** Quits: meh (meh@moz-p5gc2m.42-151.net24.it) (Ping timeout: 121 seconds)
[03:57:07] <gsingh93> aatch: is there a reason we don't currently do that?
[03:57:14] *** Quits: borromakot (Adium@moz-j6pi1a.il.comcast.net) (Quit: Leaving.)
[03:57:31] <huon> I believe the latter makes it easy to get hash collisions
[03:57:35] *** Joins: Dylan16807 (dylan@moz-62uibl.cntmoh.sbcglobal.net)
[03:57:47] *** Joins: smohan (smohan@moz-so4.f0d.244.121.IP)
[03:57:55] <gsingh93> and sorting is too slow?:
[03:58:01] <aatch> And the first would be fairly slow, especially as the set got bigger.
[03:58:05] *** Joins: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp)
[03:58:05] *** Joins: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net)
[03:58:11] <FreeFull> I think sorting changes the algorithmic complexity
[03:58:22] <gsingh93> yea, makes sense now
[03:59:03] <FreeFull> Adds a log(n) term and probably uses extra space
[03:59:29] *** Quits: choplin (choplin@moz-q517gi.u-tokyo.ac.jp) (Connection closed)
[03:59:38] *** Joins: fabiand (fabiand@moz-1inn61.dip0.t-ipconnect.de)
[03:59:41] <aatch> Oh yeah, and an allocation each time to store the elements (or references to at least) for sorting.
[03:59:51] <JustAPerson> Is heavy usage of Result/try!() measurably slower than exceptions?
[03:59:53] *** Joins: pirateking (Mibbit@moz-g399d9.fios.verizon.net)
[04:01:47] <mkomitee> Isn't try! a macro? Wouldn't those get inlined by the compiler?
[04:02:00] <aatch> JustAPerson, not sure, exception handling/unwinding techncially has less overhead, but unwinding can limit the amount of optimisation that can be done.
[04:02:05] <mkomitee> s/inlined/expanded -- I really don't know what I'm talking about.
[04:02:07] *** Quits: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp) (Ping timeout: 121 seconds)
[04:03:38] <pirateking> ok i've been at this for an hour. how does one simply make a variable? "cannot move out of borrowed content" attempt 1 http://is.gd/WkxBQo attempt 2 http://is.gd/tgg5jp attempt 3 http://is.gd/LyRxGm
[04:03:42] <aatch> JustAPerson, chances are that the branching from using try! would be slower than using exceptions, but I'd expect profile-guided optimisation to reduce that difference to zero, or maybe even reverse it.
[04:04:07] <JustAPerson> mkomitee: yes, but adding branches all over the place kills performance
[04:04:26] <JustAPerson> aatch: hadn't thought of optimizations that exceptions prevent
[04:04:29] *** Quits: rbranson (rbranson@moz-ga0.9o0.201.199.IP) (Ping timeout: 121 seconds)
[04:04:29] <JustAPerson> need to look more into that
[04:04:36] *** Joins: dcuddeback (textual@moz-3j9.r12.234.98.IP)
[04:04:41] <JustAPerson> does LLVM have profile-guided optimizations?
[04:04:48] <JustAPerson> I saw something about it in GCC
[04:05:05] *** Joins: rbranson (rbranson@moz-oeg7f0.ca.comcast.net)
[04:05:14] <aatch> JustAPerson, LLVM does, I dont know much about it though
[04:05:39] *** Quits: Wild_Cat (Max@moz-na0tak.dsl.teksavvy.com) (Ping timeout: 121 seconds)
[04:06:08] <aatch> JustAPerson, anyway, it's not the branches that are the issue, generally, it's the mispredictions that are killer.
[04:06:17] <mkomitee> pirateking: what's Resources defined as?
[04:06:41] <gsingh93> pirateking: you need to make sure your variable is Copy or it will be moved
[04:06:47] <pirateking> http://is.gd/iz5oCz
[04:06:52] <gsingh93> and you can't move out of borrrowed content
[04:06:55] <JustAPerson> aatch: indeed, I was simplifying a bit. Just curious in general because I like low level details :)
[04:06:56] <gsingh93> alternatively, call .clone()
[04:06:59] *** Quits: logan_e (logan_e@moz-ltn.qg3.218.73.IP) (Connection closed)
[04:07:03] <pirateking> oh. copy sounds nice
[04:07:07] <gsingh93> (and make sure the type implements Clone)
[04:07:11] <aatch> JustAPerson, Hence why PGO would probably help a lot, since it'd re-order blocks and add hints to branches to make mispredictions less common.
[04:07:33] <pirateking> rustbyexample had it in some of its code, but didn't explain it (yet, maybe)
[04:07:35] <gsingh93> pirateking: I like to just implement clone most of the time
[04:07:40] <gsingh93> instead of Copy
[04:07:47] <pirateking> what's the diff
[04:08:07] <aatch> JustAPerson, as for exceptions hindering optimisations, the effect is greatest in loops, since LLVM can't assume that you'll actually complete the loop.
[04:08:09] <rootnode> ok, solved the zombieprocess problem. ugly, but it works
[04:08:12] <gsingh93> clone you have to explicitly call .clone(), it won't be copied automatically
[04:08:22] <gsingh93> if you have some big data structure
[04:08:23] <JustAPerson> aatch: in a lot of places, you could naively annotate the Ok path as hot and the Err path as cold. For most use cases I imagine
[04:08:29] <warmwaffles> is there a way I can have sub projects within the working dir? example, `myapp/server/src/main.rs` `myapp/client/src/main.rs` and be able to run `cargo` from `myapp` to do `cargo build:client` 
[04:08:32] <gsingh93> it's nice to be able to know when things are getting cloned
[04:08:45] *** Joins: borromakot (Adium@moz-j6pi1a.il.comcast.net)
[04:08:56] *** Quits: polyfractal (polyfractal@moz-v88dif.artists.westelcom.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[04:09:04] <JustAPerson> aatch: ahh okay, that's reasonable. neato
[04:09:07] <aatch> JustAPerson, well we have an intrinsic for hinting branches.
[04:09:07] *** Quits: rbranson (rbranson@moz-oeg7f0.ca.comcast.net) (Ping timeout: 121 seconds)
[04:09:29] <JustAPerson> there are #[hot]/#[cold] aren't there?
[04:09:30] <aatch> JustAPerson, you could make your own version of the try! macro that uses it.
[04:09:31] *** Joins: hjr3 (hradtke@moz-e235ok.fios.verizon.net)
[04:09:38] <aatch> JustAPerson, that's for functions.
[04:09:45] *** Joins: nott (nott@moz-to4.06o.57.86.IP)
[04:10:00] <JustAPerson> ah okay. I'd only seen them once or twice, never used
[04:10:18] <pirateking> gsingh93 thank you, and http://rustbyexample.com/clone.html will fix all my problems
[04:10:20] <mkomitee> If you clone (or copy) mutating the data in the method won't actually mutate the original, right? You'd need to borrow the original instead?
[04:10:47] <gsingh93> mkomitee: yes, you'd need a &mut reference
[04:11:02] *** Joins: rbranson (rbranson@moz-ga0.9o0.201.199.IP)
[04:11:59] <mkomitee> so for show() it probably doesn't matter, but if you have something like attack() which will need to mutate the Hero or Enemy's hit points, clone() won't help.
[04:11:59] <aatch> JustAPerson, I used it once to stop LLVM from inlining a function that just wraps a panic!
[04:12:36] <aatch> JustAPerson, the code for doing string formatting is quite large and it noticeably hurt performance.
[04:12:51] *** Joins: acgtyrant (acgtyrant@moz-3kd.b79.160.124.IP)
[04:13:03] <aatch> JustAPerson, well, by "noticeably" I mean "non-random drop in the benchmark times"
[04:13:11] <aatch> Or increase in times, I guess
[04:13:26] <aatch> This was very much me micro-optimising though.
[04:13:37] *** Quits: streblo (streblo@moz-s8cslq.ca.comcast.net) (Connection closed)
[04:13:37] <pirateking> mkomitee for that I can use let ref mut enemy = in_game_data.enemy; right? and clone for reading
[04:14:19] *** Joins: mindtree (Mitch@moz-e9kolh.iprimus.net.au)
[04:14:26] <gsingh93> pirateking: if you just want to read, just derefence with *. only use clone if you need to clone it
[04:14:49] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[04:15:19] *** Joins: winding-lines (textual@moz-g7k4j8.ca.comcast.net)
[04:15:58] <pirateking> my problem arises when I try to read one part of the struct and write another part of the struct
[04:16:20] *** Quits: hydraidm801 (django@moz-3fgk5s.ut.comcast.net) (Quit: Leaving)
[04:16:39] <mkomitee> You'll need your borrow to end before you can mutate it.
[04:17:47] *** Joins: choplin (choplin@moz-hoh94p.rev.vmobile.jp)
[04:17:59] <Brochacho> Is `make doc` used to build the rustc documentation?
[04:18:26] <pirateking> my read is on the same line as my write http://is.gd/WyJJpu
[04:18:34] <pirateking> is there some other way to do it?
[04:18:41] *** Quits: orangeshark (erik@moz-ljlpbn.44tj.56ot.0306.2602.IP) (Quit: Leaving)
[04:18:46] *** Joins: dylan_ (dylan@moz-h9d.d0d.43.100.IP)
[04:19:25] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[04:19:45] <mkomitee> Yes. But with these snippets that I can't actually evaluate, it's hard for me to show you something that will work.
[04:19:46] <gsingh93> pirateking: if you could make a simplified example that compiles, that would help us help you
[04:21:03] *** Quits: nott (nott@moz-to4.06o.57.86.IP) (Ping timeout: 121 seconds)
[04:21:51] *** Joins: skade (skade@moz-6athcr.pools.vodafone-ip.de)
[04:22:11] *** Quits: winding-lines (textual@moz-g7k4j8.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[04:23:19] *** Joins: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp)
[04:24:09] <warmwaffles> are there any example of multi-crate projects?
[04:24:21] *** Quits: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp) (Connection closed)
[04:24:23] *** Joins: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp)
[04:24:31] *** Quits: rfnash (weechat@moz-ulk8um.in.comcast.net) (Ping timeout: 121 seconds)
[04:24:46] <Brochacho> warmwaffles: What do you mean, multiple modules or external crates?
[04:25:06] <ty> warmwaffles: glium is 1-package multi-crate 
[04:25:15] <pirateking> gsingh93 http://is.gd/XTTpCZ + http://is.gd/naz5h9
[04:25:18] <warmwaffles> I have a project where I have a client and a server living in the same project
[04:25:32] <mkomitee> pirateking: does this help? http://is.gd/pGKWpd
[04:25:32] *** Quits: skade (skade@moz-6athcr.pools.vodafone-ip.de) (Connection closed)
[04:25:54] <Brochacho> warmwaffles: Are trying to compile them both as binaries?
[04:26:09] <warmwaffles> yes with a shared lib between the two
[04:26:19] <ty> warmwaffles: heres an example: https://github.com/tomaka/hlua
[04:26:45] *** Joins: skade (skade@moz-6athcr.pools.vodafone-ip.de)
[04:26:53] <warmwaffles> so the project root can't have a Cargo.toml
[04:26:57] <Brochacho> warmwaffles: Set the `[[bin]]` sections in your Cargo.toml to the name of the binaries and the path to their sources. 
[04:27:16] <borromakot> hey guys.  So I've been struggling with a few different implementations here, but I think I just don't really understand io and pipes well enough at the moment.  This is a simplified version of things, but say I have two Commands.  I want to pipe stdout from the first to stdin on the second.  What I've been trying to do is create a Stdio::piped() and pass that to the corresponding fields on both structs (stdout, stdin, respectively).  There has to b
[04:27:27] <borromakot> sorry ^ I haven't been able to get the above working either.
[04:27:41] *** Quits: eric_lagergren (barsonme@moz-e0h.6s0.39.134.IP) (Ping timeout: 121 seconds)
[04:28:05] <mkomitee> pirateking: I'm new to rust, so I could be way off, but your Hero and Unit types are both Sized, so I don't know why you need to Box them.
[04:28:09] <pirateking> and replace deal_damage() with http://is.gd/B2i7wE
[04:28:17] <pirateking> for a working version
[04:28:35] <Brochacho> warmwaffles: http://doc.crates.io/manifest.html#configuring-a-target
[04:28:38] <warmwaffles> ty: thanks, I think that is sort of what I am looking for. Specifying dependencies relative to the directory it is in. 
[04:29:01] <warmwaffles> can I define multiple [lib] in one Cargo.toml
[04:29:27] <Brochacho> warmwaffles: I would assume so, haven't done it. Should be able to specify them as you do with [[bin]]
[04:30:36] <borromakot> I think I've figured out my own question actually.  Commands appear to start with a writeable pipe, so I'm going to try and create a command, and just refer to its stdout, as one's stdin.
[04:31:13] *** Joins: ryanhiebert (ryanhiebert@moz-nsd5kl.ks.cox.net)
[04:31:16] <warmwaffles> Brochacho: PERFECT
[04:31:16] <ty> warmwaffles, Brochacho: you can _not_ declare multiple libs
[04:31:26] <ty> one lib per crate
[04:31:32] <ty> multiple crates per package
[04:32:08] *** Quits: dylan_ (dylan@moz-h9d.d0d.43.100.IP) (Ping timeout: 121 seconds)
[04:32:09] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[04:32:12] <Brochacho> ty: Ah
[04:32:19] *** Quits: Diggsey (diggsey@moz-urivu8.dsl.pipex.com) (Ping timeout: 121 seconds)
[04:32:26] <warmwaffles> this isn't a package that will be distributed on crates but yea I defined two [[bin]] name="client" path="client/src/main.rs"
[04:32:34] <warmwaffles> that wont work ?
[04:33:06] <Brochacho> warmwaffles: That's how I've been using it but I might be wrong. ty: Is there another way?
[04:33:21] *** Quits: dwrensha (chatzilla@moz-46o4hi.pa.comcast.net) (Ping timeout: 121 seconds)
[04:33:28] *** Quits: skade (skade@moz-6athcr.pools.vodafone-ip.de) (Connection closed)
[04:34:20] *** Joins: derek_c (derek@moz-urjjta.cit.cornell.edu)
[04:34:40] *** Quits: kalail (uid62296@moz-5ck9vu.charlton.irccloud.com) (Quit: Connection closed for inactivity)
[04:35:02] <warmwaffles> does cargo pickup the dependencies in the sub crate's Cargo.toml?
[04:35:27] <Brochacho> warmwaffles: You have to specify them under `package`
[04:36:35] *** Joins: skade (skade@moz-6athcr.pools.vodafone-ip.de)
[04:36:37] *** Quits: smohan (smohan@moz-so4.f0d.244.121.IP) (Quit: Leaving...)
[04:36:39] *** Quits: skade (skade@moz-6athcr.pools.vodafone-ip.de) (Connection closed)
[04:36:42] *** Quits: pirateking (Mibbit@moz-g399d9.fios.verizon.net) (Quit: http://www.mibbit.com ajax IRC Client)
[04:38:46] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[04:42:05] *** Joins: skade (skade@moz-6athcr.pools.vodafone-ip.de)
[04:42:53] *** Joins: anders (andars@moz-bsldst.sntcca.sbcglobal.net)
[04:43:03] *** Joins: pirateking (Mibbit@moz-g399d9.fios.verizon.net)
[04:43:48] *** Quits: dpc__ (dpc@moz-t6gr4b.ca.comcast.net) (Ping timeout: 121 seconds)
[04:43:50] *** Joins: achanda (achanda@moz-qv7q4n.ca.comcast.net)
[04:44:05] *** Quits: pirateking (Mibbit@moz-g399d9.fios.verizon.net) (Quit: http://www.mibbit.com ajax IRC Client)
[04:44:36] *** Joins: dpc__ (dpc@moz-t6gr4b.ca.comcast.net)
[04:44:38] <warmwaffles> ah ty: I see https://github.com/tomaka/hlua/blob/master/.travis.yml#L9 I guess I could build a simple little shell script that will work on the project root
[04:44:44] <warmwaffles> --manifest-path
[04:45:49] *** Quits: choplin (choplin@moz-hoh94p.rev.vmobile.jp) (Ping timeout: 121 seconds)
[04:46:03] *** Joins: errordeveloper (ilya@moz-bnq.bui.199.90.IP)
[04:47:31] *** Quits: psy (psy@moz-ous.ntd.6.103.IP) (Ping timeout: 121 seconds)
[04:49:22] *** Joins: smohan (smohan@moz-m6j.f0d.244.121.IP)
[04:49:40] *** Quits: zaeleus (zaeleus@moz-r5abra.cpe.cableone.net) (Quit: Leaving...)
[04:49:42] *** Quits: marsel (user@moz-o7o.qr2.147.46.IP) (Ping timeout: 121 seconds)
[04:50:17] *** Quits: errordeveloper (ilya@moz-bnq.bui.199.90.IP) (Ping timeout: 121 seconds)
[04:51:20] *** Joins: lenstr (lenstr@moz-njm.vju.25.171.IP)
[04:51:23] *** Joins: ascarter (ascarter@moz-i0dnmd.wa.comcast.net)
[04:52:09] *** Quits: lenstr (lenstr@moz-njm.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[04:52:21] *** Joins: lenstr (lenstr@moz-njm.vju.25.171.IP)
[04:52:33] <Brochacho> warmwaffles: Are you looking to eventually publish to crates with each as an individual crate?
[04:52:38] *** Quits: gandalf (zbraniecki@moz-cp7c4m.ca.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[04:53:02] *** Joins: gandalf (zbraniecki@moz-cp7c4m.ca.comcast.net)
[04:53:19] *** Quits: lenstr (lenstr@moz-njm.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[04:53:28] *** Joins: errordeveloper (ilya@moz-bnq.bui.199.90.IP)
[04:53:53] *** Joins: frankmcsherry (frankmcsher@moz-cutn3c.dyn.telefonica.de)
[04:55:05] *** Quits: Guest__ (textual@moz-rtn.fg7.77.192.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[04:55:06] *** Quits: KLP (KLP@moz-qdcjho.res.rr.com) (Quit: http://www.kiwiirc.com/ - A hand crafted IRC client)
[04:55:23] *** Joins: choplin (choplin@moz-kv3.4df.82.157.IP)
[04:55:34] *** Joins: KLP (KLP@moz-qdcjho.res.rr.com)
[04:56:12] *** Quits: lutter1 (lutter@moz-7v7ueu.PUBLIC.monkeybrains.net) (Quit: Leaving.)
[04:56:40] *** Joins: kamilc__ (kamil@moz-u843uu.play-internet.pl)
[04:57:55] *** Quits: KLP (KLP@moz-qdcjho.res.rr.com) (Quit: http://www.kiwiirc.com/ - A hand crafted IRC client)
[04:59:50] *** Quits: druzac (druzac@moz-hn17us.vc.shawcable.net) (Ping timeout: 121 seconds)
[04:59:59] *** Joins: montezuma (Mibbit@moz-pm8in3.irvnca.sbcglobal.net)
[05:00:37] *** Quits: montezuma (Mibbit@moz-pm8in3.irvnca.sbcglobal.net) (Quit: http://www.mibbit.com ajax IRC Client)
[05:01:11] *** Joins: jcarpenter (jcarpenter@moz-1sqnvb.sntcca.sbcglobal.net)
[05:02:00] *** Joins: hoony (Thunderbird@moz-1s8.g7l.7.39.IP)
[05:02:45] *** Quits: Brochacho (alberto@moz-p39.q5h.156.131.IP) (Client exited)
[05:05:06] *** Joins: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com)
[05:05:54] *** Quits: tsudot (tsudot@moz-cnr.57i.73.182.IP) (Connection closed)
[05:07:09] *** Joins: djcb (user@moz-nqdj21.elisa-laajakaista.fi)
[05:08:22] *** Quits: fengshaun (fengshaun@moz-rf0qk5.cable.teksavvy.com) (Ping timeout: 121 seconds)
[05:08:24] *** Joins: dylan_ (dylan@moz-h9d.d0d.43.100.IP)
[05:09:39] *** Joins: andresv (textual@moz-4r9jdi.ca.comcast.net)
[05:09:45] *** Joins: druzac (druzac@moz-hn17us.vc.shawcable.net)
[05:10:15] *** Joins: borromakot1 (Adium@moz-j6pi1a.il.comcast.net)
[05:10:17] *** Quits: borromakot (Adium@moz-j6pi1a.il.comcast.net) (Ping timeout: 121 seconds)
[05:11:06] <andresv> Err(format!("{} isn't a valid value for --location\n\t[use as: lat=58.64560,lon=23.15163,alt=8]", location).to_string()), if I print this error message later \n and \t are not doing what I expect them to do
[05:12:31] *** Quits: dylan_ (dylan@moz-h9d.d0d.43.100.IP) (Ping timeout: 121 seconds)
[05:13:11] *** Joins: borromakot (Adium@moz-j6pi1a.il.comcast.net)
[05:14:17] *** Quits: borromakot1 (Adium@moz-j6pi1a.il.comcast.net) (Ping timeout: 121 seconds)
[05:14:56] <Mutabah> andresv: Define later? And what does it do (and what do you expect)?
[05:17:09] <andresv> Mutabah: http://is.gd/ic3pzy
[05:17:31] *** Quits: hoony (Thunderbird@moz-1s8.g7l.7.39.IP) (Client exited)
[05:17:56] <andresv> I hoped to see newline and tab in terminal
[05:18:26] <Mutabah> :/ playpen isn't liking me
[05:18:38] <mbrubeck> andresv: You should match on the Result and print the String using {} instead of {:?}
[05:19:39] *** Quits: ra4king (ra4king@moz-iitem7.com) (Quit: Take a byte out of this!)
[05:19:47] <mbrubeck> andresv: http://is.gd/dAjj6X
[05:20:17] <mbrubeck> {:?} formats output using the Debug trait, which is not generally meant for human consumption.
[05:20:41] *** Joins: ra4king (ra4king@moz-iitem7.com)
[05:20:53] *** Joins: yeahnoob (Xanadu@moz-ela.b10.248.89.IP)
[05:20:57] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[05:21:07] <andresv> mbrubeck, thanks i will try that
[05:21:16] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[05:21:36] *** Quits: dardevelin (dardevelin@moz-a3ode1.adslplus.ch) (Quit: Leaving)
[05:21:42] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[05:21:44] <aatch> mbrubeck, well, not intended for user consumption. It's not like debug is supposed to be nice for machines.
[05:21:53] <mbrubeck> right
[05:22:04] <niconii> playbot-mini: fn main() { println!("{:?}", "test\n1 2 3"); }
[05:22:05] -playbot-mini- "test\n1 2 3"
[05:22:10] <niconii> playbot-mini: fn main() { println!("{}", "test\n1 2 3"); }
[05:22:11] -playbot-mini- test
[05:22:11] -playbot-mini- 1 2 3
[05:22:39] *** Quits: ra4king (ra4king@moz-iitem7.com) (Quit: Take a byte out of this!)
[05:24:08] *** Quits: O01eg (o01eg@moz-vo3hvq.pku3.4n8f.2698.2a02.IP) (Client exited)
[05:24:30] *** Joins: _td (tatterdemal@moz-a0dnkb.ca.comcast.net)
[05:24:33] *** Joins: ra4king (ra4king@moz-iitem7.com)
[05:26:37] *** Joins: borromakot1 (Adium@moz-j6pi1a.il.comcast.net)
[05:26:56] *** Quits: borromakot (Adium@moz-j6pi1a.il.comcast.net) (Connection closed)
[05:27:38] *** Quits: kagari (kagari@moz-jtek0d.eonet.ne.jp) (Quit: Konversation terminated!)
[05:30:29] *** Quits: ra4king (ra4king@moz-iitem7.com) (Quit: Take a byte out of this!)
[05:30:34] *** Quits: dpc__ (dpc@moz-t6gr4b.ca.comcast.net) (Ping timeout: 121 seconds)
[05:31:09] *** Joins: ra4king (ra4king@moz-iitem7.com)
[05:31:30] *** Joins: munksgaard (munksgaard@moz-478pev.u.parknet.dk)
[05:32:10] *** Quits: nil (nil@moz-153mse.p5sj.b1d9.0003.2601.IP) (Quit: Leaving)
[05:32:38] <warmwaffles> Brochacho: no I don't plan on publishing these crates
[05:33:37] <soma> Hello! What's wrong with my code : http://is.gd/dDZgIQ ?
[05:35:03] *** Quits: borromakot1 (Adium@moz-j6pi1a.il.comcast.net) (Quit: Leaving.)
[05:36:01] <mbrubeck> soma: http://is.gd/DcaSUj 
[05:36:05] *** Quits: choplin (choplin@moz-kv3.4df.82.157.IP) (Connection closed)
[05:36:41] *** Joins: daschl (Adium@moz-oirn1i.vie.surfer.at)
[05:37:59] <mbrubeck> soma: Looks like $T should be `ident` since it doesn't name an existing type
[05:38:09] *** Quits: skade (skade@moz-6athcr.pools.vodafone-ip.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[05:38:10] <mbrubeck> also Vec[$R] should be Vec<$R>
[05:38:24] <mbrubeck> this compiles: http://is.gd/kFO0KM
[05:38:54] <warmwaffles> since cargo doesn't do this for me, I figured I'd hack it
[05:38:54] <warmwaffles> https://gist.github.com/warmwaffles/90d822eb6ed00b319480
[05:39:23] <soma> mbrubeck : thank you
[05:39:33] <warmwaffles> though I should just probably throw this shit into a makefile
[05:39:40] *** Quits: reed (reed@tech.monkey) (RecvQ exceeded)
[05:40:02] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[05:40:04] *** Joins: reed (reed@tech.monkey)
[05:42:00] *** Joins: choplin (choplin@moz-kv3.4df.82.157.IP)
[05:42:27] *** Quits: errordeveloper (ilya@moz-bnq.bui.199.90.IP) (Ping timeout: 121 seconds)
[05:42:46] *** Quits: niconii (nicole@moz-5e9nqt.frgo.qwest.net) (Quit: leaving)
[05:44:18] *** Joins: maedhroz (maedhroz@moz-4jk5ho.res.rr.com)
[05:44:28] *** Quits: ascarter (ascarter@moz-i0dnmd.wa.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[05:44:38] *** Joins: jviereck (Adium@moz-ab7v54.dclient.hispeed.ch)
[05:46:02] *** Quits: choplin (choplin@moz-kv3.4df.82.157.IP) (Connection closed)
[05:46:52] *** Quits: andresv (textual@moz-4r9jdi.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[05:46:58] *** Quits: colinsurprenant (colin@moz-lu9sne.92.electronicbox.net) (Client exited)
[05:47:00] *** Joins: loyd (loyd@moz-uft.32f.108.213.IP)
[05:48:44] *** Quits: jviereck (Adium@moz-ab7v54.dclient.hispeed.ch) (Ping timeout: 121 seconds)
[05:48:58] *** Joins: giucam (giucam@moz-iv0nnc.bb.dnainternet.fi)
[05:49:15] *** Joins: guewen (guewen@moz-ftf7u4.cust.swisscom.ch)
[05:50:11] *** Quits: frankmcsherry (frankmcsher@moz-cutn3c.dyn.telefonica.de) (Connection closed)
[05:51:29] *** Quits: notallama (Mibbit@moz-uur7pt.eastlink.ca) (Quit: http://www.mibbit.com ajax IRC Client)
[05:51:36] <aji> this is kind of a contrived example, but is there an easy way around the borrow errors here?
[05:51:37] <aji> http://is.gd/XMvTzP
[05:52:05] *** Quits: gandalf (zbraniecki@moz-cp7c4m.ca.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[05:53:19] <Sgeo_> The Mozilla QDB is public, right? So I can post links to it?
[05:53:50] *** Joins: rmdashrf (rmdashrf@moz-n1r.cr0.54.128.IP)
[05:53:51] *** Joins: lenstr (lenstr@moz-njm.vju.25.171.IP)
[05:54:18] *** Joins: orclev (Mibbit@moz-chu341.res.bhn.net)
[05:54:25] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[05:54:29] *** Quits: lenstr (lenstr@moz-njm.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[05:54:41] *** Joins: lenstr (lenstr@moz-njm.vju.25.171.IP)
[05:55:07] *** Quits: aatch (james@moz-ciignl.bmm3.j08e.e000.2406.IP) (Connection closed)
[05:55:38] *** Quits: lenstr (lenstr@moz-njm.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[05:55:45] *** Joins: choplin (choplin@moz-kv3.4df.82.157.IP)
[05:55:50] <orclev> so this "this feature may not be used in the beta release channel" thing is driving me up a wall here, seems like everything I've tried is gated by that same error
[05:56:33] <Mutabah> orclev: What features are you trying to use?
[05:56:39] *** Joins: dstrbad (dstrbad@moz-30hd9v.dsl.iskon.hr)
[05:56:57] *** Quits: hjr3 (hradtke@moz-e235ok.fios.verizon.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[05:57:03] <orclev> initially clib, but I worked around that by pulling it in via cargo, but not it's the link_args feature that's dieing
[05:57:20] *** Joins: jnicklas (jonasnickla@moz-0ou5lc.bredband.comhem.se)
[05:57:48] <orclev> unfortunately I've yet to find a way to work around not using link_args
[05:58:04] <Mutabah> orclev: Why do you need link_args?
[05:58:26] *** Joins: arBmind (Andreas@moz-bi5moq.adsl.alicedsl.de)
[05:58:44] *** Joins: errordeveloper (ilya@moz-bnq.bui.199.90.IP)
[05:59:03] <orclev> because if I don't use link_args it dies on linking with an error complaining that it needs "needs isa option -m32 -msse4.2 -mcrc32"
[05:59:30] *** Quits: ixti (ixti@moz-i3d.dae.119.188.IP) (Ping timeout: 121 seconds)
[06:00:20] *** Joins: nott (nott@moz-to4.06o.57.86.IP)
[06:01:18] *** Quits: warmwaffles (warmwaffles@moz-6gpnl1.res.rr.com) (Connection closed)
[06:02:20] *** Quits: smohan (smohan@moz-m6j.f0d.244.121.IP) (Quit: Leaving...)
[06:02:25] *** kimundi is now known as zz_kimundi
[06:02:42] <orclev> I nearly had all this working a couple days ago with the alpha channel, but I made the mistake of updating to the beta channel and I've been fighting with it for a couple hours now, I'm tempted to just roll backto alpha for now
[06:03:15] *** Quits: bren2010 (bren2010@moz-hmvb13.redstation.co.uk) (Ping timeout: 121 seconds)
[06:03:29] *** Joins: Dr-Emann (holoirc@moz-cpo.0ac.11.74.IP)
[06:03:39] *** Quits: Dr-Emann (holoirc@moz-cpo.0ac.11.74.IP) (Connection closed)
[06:03:39] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[06:04:29] <orclev> I was kind of hoping someone would be able to offer a quick workaround, if nothing else maybe a way to tell rustc/cargo "yes, I really do want to use link_args, and yes I know it's unstable"
[06:04:53] *** Joins: brianloveswords (brianlovesw@moz-tq78gs.fios.verizon.net)
[06:06:01] *** Joins: bren2010 (bren2010@moz-356.o3d.198.71.IP)
[06:06:07] *** Joins: gandalf (zbraniecki@moz-cp7c4m.ca.comcast.net)
[06:06:25] *** Joins: Guest5 (textual@moz-hnb58r.oc.cox.net)
[06:06:30] *** Joins: Dr-Emann (Dr-Emann@moz-f8hd1t.tvh.ptd.net)
[06:06:30] <bstrie> orclev: if you need nightly features, you must be on nightly
[06:07:33] <bstrie> orclev: if you would like to see some specific language feature stabilized, leave a comment at https://github.com/rust-lang/rust/issues/24028
[06:07:47] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[06:07:58] <orclev> hmm, I thought alpha was an older release than beta?
[06:08:10] <bstrie> orclev: nightly releases happen every night
[06:08:49] <bstrie> orclev: are you familiar with the release model for firefox and chrome? rust is using the same one
[06:09:17] *** Joins: hjr3 (hradtke@moz-e235ok.fios.verizon.net)
[06:09:41] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Quit: It's a joke, it's all a joke.)
[06:09:43] <bstrie> unstable features hang out on the nightly branch, then once they're baked they get promoted to the beta branch to make sure they're solid, then the beta branch promotes to the stable branch and becomes a new release
[06:10:01] *** Quits: rbranson (rbranson@moz-ga0.9o0.201.199.IP) (Ping timeout: 121 seconds)
[06:10:21] <orclev> yes, but I suppose my confusion was that I was on the 1.0.0 alpha release, and I upgraded to the 1.0.0 beta release (a newer version) but a previously working feature (that's still documented in the official beta docs) is apparently disabled now
[06:10:57] *** Quits: derek_c (derek@moz-urjjta.cit.cornell.edu) (Ping timeout: 121 seconds)
[06:11:08] <orclev> if I was on the nightly and downgraded to a stable release I suppose I could understand, but it seems weird that a newer build has fewer features
[06:11:09] *** Joins: derek_c (derek@moz-urjjta.cit.cornell.edu)
[06:11:44] *** Quits: sayan (sayan@moz-ip8.595.51.106.IP) (Ping timeout: 121 seconds)
[06:12:11] *** Joins: SneakySnake (nya@moz-i9is4u.pool.telekom.hu)
[06:12:12] <bstrie> orclev: at the end of the alpha release cycle, the compiler split into two: nightly and beta
[06:12:19] <bstrie> both nightly and beta are newer than alpha
[06:12:37] <bstrie> you just happened to upgrade to the version that's more stable :P
[06:13:03] <orclev> lovely... guess I'll go look at installing the nightly then
[06:13:08] <SneakySnake> Huh... Didn't nightly exist before end of alpha?
[06:13:18] *** Quits: jnicklas (jonasnickla@moz-0ou5lc.bredband.comhem.se) (Client exited)
[06:13:23] <bstrie> SneakySnake: there wasn't really a *branch* concept then, just tagged releases
[06:13:27] <SneakySnake> Oh.
[06:13:38] *** Quits: achanda (achanda@moz-qv7q4n.ca.comcast.net) (Connection closed)
[06:13:46] <orclev> yes, but I was on the "stabler" branch, namely the alpha branch, which apparently became so stable it lost a bunch of features I was counting on
[06:13:59] *** Joins: achanda (achanda@moz-qv7q4n.ca.comcast.net)
[06:14:19] <bstrie> orclev: releases before 1.0 have no stability guarantees whatsoever
[06:14:34] <bstrie> the alpha release was only "stabler" because it was never ever updated :P
[06:15:08] <SneakySnake> orclev: Alpha wasn't really a branch, only a tagged release, like bstrie said
[06:15:12] *** Joins: jnicklas (jonasnickla@moz-0ou5lc.bredband.comhem.se)
[06:15:37] <bstrie> basically it was just a code dump
[06:15:47] <bstrie> "here's what our code looks like today, let's call this alpha because hey why not"
[06:15:57] *** Quits: soma (Mibbit@moz-ef5.7ab.191.107.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[06:16:04] <huon> because hey look at the calendar* ;P
[06:17:07] *** Quits: hjr3 (hradtke@moz-e235ok.fios.verizon.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[06:17:12] <bstrie> our current beta branches differs in that it is actually being updated, though it still has no stability guarantees
[06:18:01] *** Quits: achanda (achanda@moz-qv7q4n.ca.comcast.net) (Ping timeout: 121 seconds)
[06:19:26] *** Joins: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net)
[06:19:27] *** ChanServ sets mode: +o pnkfelix
[06:19:52] *** Quits: basicdays (basicdays@moz-vreeoj.cable.rcn.com) (Ping timeout: 121 seconds)
[06:20:02] *** Joins: squiddy (squiddy@moz-md4.pm3.19.178.IP)
[06:20:16] *** Quits: dstrbad (dstrbad@moz-30hd9v.dsl.iskon.hr) (A TLS packet with unexpected length was received.)
[06:20:31] *** Quits: druzac (druzac@moz-hn17us.vc.shawcable.net) (Ping timeout: 121 seconds)
[06:20:33] <SneakySnake> I was wondering... For semantic versioning to make sense, you must expose a public API. For a language, this would probably be a formal language specification. But Rust doesn't have one yet, does it? Is the API "what the compiler allows to compile"? Shouldn't a backwards incompatible bugfix e.g. fixing some bug in the compiler that allowed something to compile that shouldn't have compiled raise the major version?
[06:21:26] <orclev> ok, new error now on the nightly, but at least this one sounds like it's my fault... still not sure how to fix it though
[06:21:38] <ChrisMorgan> SneakySnake: pretty much.
[06:21:41] *** Joins: druzac (druzac@moz-hn17us.vc.shawcable.net)
[06:22:01] *** Quits: maedhroz (maedhroz@moz-4jk5ho.res.rr.com) (Connection closed)
[06:22:07] *** Joins: MaxV (MaxV@moz-3essje.rev.sfr.net)
[06:22:34] <ChrisMorgan> SneakySnake: in practice, the Rust developers reserve the right to make backwards-incompatible changes without a major version bump in case of a significant soundness bug that they believe after due investigation shouldn’t actually affect anyone, or something similar to that.
[06:22:51] <SneakySnake> Hmm.
[06:23:48] <orclev> in fairness to the rust devs, semantic versioning also says that releases prior to 1.0.0 aren't real releases (basically anything goes), once 1.0.0 is released for real then you can start following semantic versioning
[06:24:18] <SneakySnake> Yeah, my question was concerned about post-1.0
[06:24:34] <SneakySnake> Which is approaching quick
[06:24:53] *** Quits: kkus (kkus@moz-baj4jj.74.srtnet.com) (Connection closed)
[06:25:04] *** Quits: c0170 (c0170@moz-4stj9o.cable.virginm.net) (Ping timeout: 121 seconds)
[06:25:19] *** Quits: ellinokon (ellinokon@moz-gh5.r2h.62.178.IP) (A TLS packet with unexpected length was received.)
[06:25:22] *** Joins: ellinokon (ellinokon@moz-gh5.r2h.62.178.IP)
[06:29:08] <orclev> I think the main issue is whether the bug was documented or not, if something was compiling even though it was against what's in the documentation that's clearly a bug and doesn't need a major version bump... if it's documented, that seems like a breaking change... if it isn't documented, that's undefined behavior and I don't know where that falls...
[06:29:58] *** Quits: genbattle_ (genbattle@moz-4v0.gkd.16.182.IP) (Ping timeout: 121 seconds)
[06:32:11] *** Quits: Twinklebear (Twinklebear@moz-13g.gpi.27.76.IP) (Quit: Leaving)
[06:32:58] <SneakySnake> That's why I mentioned having a formal language specification. It would be tedious work writing up one, but someone has to do it.
[06:33:04] *** Quits: MaxV (MaxV@moz-3essje.rev.sfr.net) (Connection closed)
[06:33:12] <SneakySnake> inb4 I should volunteer
[06:33:23] *** Quits: Shackra (Jorge@moz-7bh.ng6.177.186.IP) (Connection closed)
[06:33:40] *** Quits: rouma (zack@moz-2rnd3r.pekn.hg8m.2000.2604.IP) (Ping timeout: 121 seconds)
[06:33:49] *** Quits: davebettin_ (davebettin@moz-acc.cl4.35.72.IP) (Ping timeout: 121 seconds)
[06:35:03] *** Joins: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP)
[06:35:05] *** Joins: smohan (smohan@moz-m6j.f0d.244.121.IP)
[06:37:09] *** Quits: Temur (Tarmashirin@moz-f5i.59e.201.117.IP) (Connection closed)
[06:37:23] *** Quits: jnicklas (jonasnickla@moz-0ou5lc.bredband.comhem.se) (Client exited)
[06:37:52] *** Quits: kushal (kdas@moz-brdadn.103.sitibroadband.in) (Quit: Leaving)
[06:38:47] <orclev> I think at this point the closest thing is the rust reference, if you asked me to point at the spec for the rust language that's the best answer I'd be able to give, bearing in mind that I'm nobody, and all I know about rust is what I've read on rust-lang.org and experienced messing around with it
[06:39:35] *** Joins: Temur (Tarmashirin@moz-f5i.59e.201.117.IP)
[06:39:52] <SneakySnake> Yeah, the closest thing is the reference.
[06:39:57] *** Joins: Nickleu (sailfish@moz-qvk.ii8.96.112.IP)
[06:40:11] *** Quits: nott (nott@moz-to4.06o.57.86.IP) (Ping timeout: 121 seconds)
[06:40:29] <SneakySnake> It's not quite complete or up-to-date though, from what I've heard. I think there is a tracking issue somewhere about giving it some love before 1.0
[06:40:35] <orclev> which is also part of why I was a bit annoyed about the whole link_args thing because it _is_ documented in the rust reference for the beta release even though it also says something to the effect "this is strongly discouraged and likely to be deprecated"... I guess the docs are just lagging behind the actual release a bit
[06:41:43] *** Quits: gopar (gopar@moz-5039uj.ca.comcast.net) (Quit: Leaving)
[06:41:47] *** Quits: gandalf (zbraniecki@moz-cp7c4m.ca.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[06:42:20] <orclev> my current problem really seems to be there's a bit more friction at the FFI layer than I was expecting... apparently the library I'm trying to link against requires some flags that other libraries rust is linked against are not happy with :|
[06:43:00] *** Joins: c0170 (c0170@moz-bb29a4.cambridge.arm.com)
[06:43:57] *** Joins: Telth (Telth@moz-jl53on.cable.rcn.com)
[06:45:25] *** Joins: hebz0rl (hebz0rl@moz-cfcrtj.static.qsc.de)
[06:46:05] *** Joins: Gabriel_7 (Gabriel@moz-po3t0n.loria.fr)
[06:46:11] *** Quits: Telth (Telth@moz-jl53on.cable.rcn.com) (Quit: Leaving)
[06:46:14] *** Quits: gsingh93 (gulshan@moz-qnbukr.mi.comcast.net) (Ping timeout: 121 seconds)
[06:47:09] *** Joins: Telth (Telth@moz-jl53on.cable.rcn.com)
[06:47:26] *** Joins: sillesta (sillesta@moz-501od2.business.telia.com)
[06:47:51] *** Quits: silven (quassel@moz-0roor3.priv.bahnhof.se) (Ping timeout: 121 seconds)
[06:48:01] *** Quits: giucam (giucam@moz-iv0nnc.bb.dnainternet.fi) (Ping timeout: 121 seconds)
[06:48:02] *** Joins: silven (quassel@moz-0roor3.priv.bahnhof.se)
[06:48:55] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Client exited)
[06:49:49] *** Quits: Guest5 (textual@moz-hnb58r.oc.cox.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[06:51:44] *** Quits: jauhien (jauhien@moz-5d7eof.95.16clouds.com) (Ping timeout: 121 seconds)
[06:52:25] *** Joins: Guest5 (textual@moz-hnb58r.oc.cox.net)
[06:52:41] *** Joins: squiddy_ (squiddy@moz-md4.pm3.19.178.IP)
[06:52:45] *** Quits: squiddy (squiddy@moz-md4.pm3.19.178.IP) (Connection closed)
[06:52:46] *** Joins: jauhien (jauhien@moz-5d7eof.95.16clouds.com)
[06:52:51] *** Joins: iopq (Mibbit@moz-a8acdc.ca.comcast.net)
[06:53:07] *** Quits: jaen (jaen@moz-ifmik2.copit.pl) (Connection closed)
[06:53:27] <iopq> how do I check if foo.bar() returns an enum variant baz(i32) without having to know what that i32 is?
[06:53:49] *** Joins: aatch (james@moz-is4j4r.cable.telstraclear.net)
[06:53:51] <iopq> in other words, how do I check that foo.bar() is baz(...)
[06:54:19] *** Joins: debu (debu@moz-cesna1.dyn.telefonica.de)
[06:54:23] <XMPPwocky> match foo.bar() { Baz(_) => /* it's a baz! */ }
[06:55:33] *** Quits: kgrandon (Adium@moz-3mljhf.hjek.d045.0009.2601.IP) (Quit: Leaving.)
[06:55:34] <iopq> that's very... heavy handed
[06:55:50] <ChrisMorgan> The pattern Baz(_) will match a tuple variant with one field; there’s also Baz(..) which will match against any number of fields.
[06:55:59] *** Joins: lenstr (lenstr@moz-njm.vju.25.171.IP)
[06:56:17] *** Joins: ebel (rory@moz-l1ldq7.hsi4.kabel-badenwuerttemberg.de)
[06:56:19] <ChrisMorgan> iopq: there’s also `if let Baz(_) = foo.bar() { … }`
[06:56:27] *** Quits: anders (andars@moz-bsldst.sntcca.sbcglobal.net) (Ping timeout: 121 seconds)
[06:56:47] *** Quits: lenstr (lenstr@moz-njm.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[06:57:01] *** Joins: lenstr (lenstr@moz-njm.vju.25.171.IP)
[06:57:04] <ChrisMorgan> Who knows, perhaps at some point something like `if foo.bar() is Baz` will come along.
[06:57:22] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[06:57:25] *** nsm is now known as nsm|away
[06:57:32] <druzac> erm… can’t macros do this sort of thing?
[06:57:57] *** Quits: lenstr (lenstr@moz-njm.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[06:58:02] <ChrisMorgan> druzac: syntactically they tend to end up fairly ugly, too.
[06:59:02] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[07:01:16] *** Joins: warmwaffles (warmwaffles@moz-6gpnl1.res.rr.com)
[07:01:54] <iopq> maybe if macros supported syntax like if foo.bar() is! Baz
[07:01:56] *** Joins: alonlevy (alon@moz-p48.q13.159.94.IP)
[07:01:58] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[07:01:58] *** Joins: Tobba (Tobba@moz-6oh.7ki.21.217.IP)
[07:01:59] *** Joins: warmwaffles_ (warmwaffles@moz-6gpnl1.res.rr.com)
[07:02:53] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[07:03:07] *** Joins: sonder (chatzilla@moz-nt8r49.idi.ntnu.no)
[07:03:54] *** Joins: hhhhhhhhhh (mike@moz-969kuj.cable.virginm.net)
[07:05:08] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[07:05:11] *** Quits: Porkepix (Porkepix@moz-e1bv2v.rev.sfr.net) (Quit: My laptop has gone to sleep. ZZZzzz…)
[07:05:13] *** Quits: munksgaard (munksgaard@moz-478pev.u.parknet.dk) (Ping timeout: 121 seconds)
[07:05:19] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[07:05:57] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[07:06:01] *** Quits: warmwaffles_ (warmwaffles@moz-6gpnl1.res.rr.com) (Ping timeout: 121 seconds)
[07:06:10] <ville> reads wonderfully like is-not
[07:06:32] *** Joins: giucam (giucam@moz-u9jnsc.c665.0nib.2060.2001.IP)
[07:06:57] *** Quits: brianloveswords (brianlovesw@moz-tq78gs.fios.verizon.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[07:07:02] <bstrie> SneakySnake orclev: semver allows each project to define what "public API" and therefore "breaking change" mean for that project. for rust, that is definitely not "does this compile". for example, unsafe blocks allow you to invoke undefined behavior
[07:07:07] *** Quits: dmac (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[07:07:16] <iopq> ville and assert!(true) doesn't?
[07:07:36] *** Quits: alonlevy (alon@moz-p48.q13.159.94.IP) (Ping timeout: 121 seconds)
[07:08:00] *** Quits: Gamecubic__ (cubic@moz-bglmk5.mc.videotron.ca) (Quit: Leaving)
[07:08:08] <ville> not quite to the extent but sure. i don't exactly like the use of ! for macros
[07:11:57] *** Joins: rkruppe_ (chatzilla@moz-3nj.rnu.131.95.IP)
[07:12:11] *** Joins: eklavya (textual@moz-9ru.cjj.204.117.IP)
[07:12:26] <eklavya> why not match and use if let?
[07:12:36] <eklavya> any cases where if let is better?
[07:12:41] *** Joins: m104ru (m104ru@moz-j4k.8g6.153.93.IP)
[07:12:56] *** Quits: jcarpenter (jcarpenter@moz-1sqnvb.sntcca.sbcglobal.net) (Quit: Leaving...)
[07:13:09] *** Joins: MaxV (MaxV@moz-1nu.kln.167.83.IP)
[07:13:14] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Ping timeout: 121 seconds)
[07:13:24] *** rkruppe_ is now known as rkruppe
[07:14:52] *** Joins: nicoch (nicoch@moz-g02d7k.be)
[07:15:12] <bstrie> eklavya: are you aware that the normal `let` in Rust lets you use patterns? so you can do stuff like `let (x, y) = foo()` if foo returns a tuple
[07:15:35] <eklavya> bstrie yes
[07:15:44] <eklavya> I saw this today though
[07:15:54] <bstrie> eklavya: but importantly, `let` does not allow you to use patterns that can *fail* to match, like `let Some(foo) = bar()`, because `bar()` might return None instead of Some
[07:16:03] *** Joins: laparca (laparca@moz-rgcs06.mgob.kh00.0488.2a01.IP)
[07:16:13] <eklavya> if let Some(s) = returnsOption
[07:16:22] <bstrie> eklavya: patterns that always match are called irrefutable patterns, and patterns that can fail to match are called refutable patterns
[07:16:36] <bstrie> eklavya: what `if let` does is let you match on refutable patterns
[07:16:36] <eklavya> why use this and not match returnsOption { case Some case None } ?
[07:17:16] <eklavya> ok
[07:17:27] *** Quits: Temur (Tarmashirin@moz-f5i.59e.201.117.IP) (Connection closed)
[07:17:43] <eklavya> but why use if let and not match, is it better in some cases?
[07:17:45] *** Quits: derek_c (derek@moz-urjjta.cit.cornell.edu) (Quit: Leaving)
[07:18:07] <aatch> eklavya, if let is just syntactic sugar.
[07:18:17] <eklavya> ok
[07:18:18] *** Quits: james4k (james@moz-ao8aj6.consolidated.net) (Ping timeout: 121 seconds)
[07:18:28] <aatch> eklavya, it literally just get turned into the equivalent match expression
[07:18:42] <aatch> most of the compiler just pretends that `if let` doesn't exist.
[07:18:53] <eklavya> not that it's important, I was just wondering if using if let would make the code more readable in some cases
[07:18:58] <aatch> (and normally throws an error if it sees one)
[07:19:01] <eklavya> ok
[07:19:18] *** Quits: crazysim (crazysim@moz-ir8.6s3.199.198.IP) (Quit: ZNC - http://znc.in)
[07:19:19] <aatch> eklavya, it's pretty common to only care about one variant of an enum.
[07:19:25] *** Joins: Temur (Tarmashirin@moz-f5i.59e.201.117.IP)
[07:19:28] <aatch> eklavya, Option is the main example.
[07:19:31] <bstrie> eklavya: the idea of if-let is that it makes code more readable, yes
[07:19:45] *** Joins: mzabaluev (Thunderbird@moz-3bijqs.bb.dnainternet.fi)
[07:19:52] *** Joins: grant (grant@moz-jfh.0nq.187.64.IP)
[07:20:13] <bstrie> a match is always strictly more powerful, but can obscure your code if you would be better served by if-let
[07:20:13] *** Quits: Telth (Telth@moz-jl53on.cable.rcn.com) (Quit: Leaving)
[07:20:35] <aatch> Since otherwise you have `match foo { Some(bar) => { ... } None => {} }`, with the `None` case just being noise.
[07:20:52] <eklavya> hmm
[07:20:54] <eklavya> right
[07:20:58] <Mutabah> What happens if you reassign to a moved value?
[07:21:03] <eklavya> thanks bstrie aatch :)
[07:21:06] <Mutabah> ... rubber duck, it's safe
[07:21:37] <aatch> Mutabah, assuming the compiler isn't complaining at you, it should be fine.
[07:22:06] *** Joins: bjz (bjz@moz-b43.1aa.161.202.IP)
[07:22:12] *** Joins: areski (areski@moz-tijh72.user.ono.com)
[07:22:17] *** Quits: errordeveloper (ilya@moz-bnq.bui.199.90.IP) (Ping timeout: 121 seconds)
[07:22:39] <Mutabah> aatch: Yeah
[07:22:50] *** Quits: m104ru (m104ru@moz-j4k.8g6.153.93.IP) (Ping timeout: 121 seconds)
[07:24:32] *** Quits: choplin (choplin@moz-kv3.4df.82.157.IP) (Connection closed)
[07:24:35] *** Quits: zeebo (zeebo@moz-6rqv1a.ut.comcast.net) (Connection closed)
[07:24:52] *** Joins: khades1 (Thunderbird@moz-u45.3vk.74.212.IP)
[07:25:56] *** Quits: smohan (smohan@moz-m6j.f0d.244.121.IP) (Quit: Leaving...)
[07:26:09] *** Quits: bjz (bjz@moz-b43.1aa.161.202.IP) (Ping timeout: 121 seconds)
[07:26:27] *** Quits: happy-dude_ (uid62780@moz-jt3517.charlton.irccloud.com) (Quit: Connection closed for inactivity)
[07:26:39] *** Joins: slomo (slomo@moz-p8m0g2.net)
[07:26:43] *** Quits: khades (Thunderbird@moz-u45.3vk.74.212.IP) (Ping timeout: 121 seconds)
[07:27:58] *** Joins: lenstr (lenstr@moz-njm.vju.25.171.IP)
[07:29:15] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[07:32:09] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[07:32:16] *** Joins: zaeleus (zaeleus@moz-r5abra.cpe.cableone.net)
[07:34:45] *** Quits: playjax (chatzilla@moz-gkl57r.optusnet.com.au) (Ping timeout: 121 seconds)
[07:35:20] *** Quits: orclev (Mibbit@moz-chu341.res.bhn.net) (Quit: http://www.mibbit.com ajax IRC Client)
[07:37:47] *** Joins: Nickleoi (sailfish@moz-6b7.i1i.96.112.IP)
[07:37:57] *** Quits: Nickleu (sailfish@moz-qvk.ii8.96.112.IP) (Ping timeout: 121 seconds)
[07:38:03] *** Quits: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[07:38:22] *** Quits: GGist (Mibbit@moz-st7v59.wa.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[07:39:07] *** Quits: grant (grant@moz-jfh.0nq.187.64.IP) (Client exited)
[07:39:33] *** Quits: debu (debu@moz-cesna1.dyn.telefonica.de) (Ping timeout: 121 seconds)
[07:39:34] *** Quits: Temur (Tarmashirin@moz-f5i.59e.201.117.IP) (Connection closed)
[07:39:40] <ChrisMorgan> huon: you should really turn hyphenation inside <code> off on your site.
[07:40:01] <ChrisMorgan> code { -moz-hyphens: none; } &c.
[07:40:01] *** Joins: oberstet (quassel@moz-48cn0t.dynamic.mnet-online.de)
[07:41:38] *** Joins: autra (augustin@moz-d100go.mcg1.od8l.0e35.2a01.IP)
[07:41:46] *** Joins: playjax (chatzilla@moz-haj81n.optusnet.com.au)
[07:42:07] *** Quits: Guest5 (textual@moz-hnb58r.oc.cox.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[07:42:19] *** Quits: Nickleoi (sailfish@moz-6b7.i1i.96.112.IP) (Quit: IRC for Sailfish 0.9)
[07:43:34] *** Joins: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net)
[07:44:12] *** Joins: smarks (smarks@moz-btr.2j1.77.109.IP)
[07:44:29] *** Joins: Temur (Tarmashirin@moz-f5i.59e.201.117.IP)
[07:45:12] *** Quits: hhhhhhhhhh (mike@moz-969kuj.cable.virginm.net) (Quit: WeeChat 1.1.1)
[07:45:34] *** Quits: fmtq (fmtq@moz-d08itp.tpgi.com.au) (Ping timeout: 121 seconds)
[07:46:05] *** Quits: arBmind (Andreas@moz-bi5moq.adsl.alicedsl.de) (Quit: Leaving.)
[07:47:28] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[07:47:29] *** Joins: munksgaard (munksgaard@moz-3v9.hq0.225.130.IP)
[07:48:39] *** Joins: Ms2ger (Ms2ger@moz-m2p.r4q.180.91.IP)
[07:50:28] *** Quits: warmwaffles (warmwaffles@moz-6gpnl1.res.rr.com) (Quit: Leaving)
[07:51:32] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[07:51:55] <XMPPwocky> The oldest open bug in rust is E-Easy
[07:51:55] <XMPPwocky> heh
[07:53:30] *** Joins: crazysim (crazysim@moz-330.unp.241.192.IP)
[07:53:47] <Mutabah> XMPPwocky: E-easy, because it's just re-enabling the output :D
[07:53:51] <Mutabah> I guess nobody can be bothered
[07:54:30] *** Joins: Kxepal832 (Miranda@moz-vu2q70.pppoe.mtu-net.ru)
[07:54:36] *** Joins: ray1 (ray@moz-ngs.t3f.66.59.IP)
[07:54:58] *** Quits: autra (augustin@moz-d100go.mcg1.od8l.0e35.2a01.IP) (Ping timeout: 121 seconds)
[07:56:06] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[07:56:29] *** Joins: rkruppe_ (chatzilla@moz-3nj.rnu.131.95.IP)
[07:57:12] <Tobba> what should I replace #[derive(FromPrimitive)] with?
[07:57:13] *** Parts: Tobba (Tobba@moz-6oh.7ki.21.217.IP) ("Leaving")
[07:57:18] *** Joins: Tobba (Tobba@moz-6oh.7ki.21.217.IP)
[07:57:25] *** Quits: Kxepal (Miranda@moz-p58ma4.pppoe.mtu-net.ru) (Ping timeout: 121 seconds)
[07:57:26] <Tobba> #[derive(From)]?
[07:57:45] *** Joins: mewp (quassel@moz-fustfj.dynamic.chello.pl)
[07:57:48] <Tobba> I'll try that, I guess
[07:58:12] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Ping timeout: 121 seconds)
[07:58:24] <SneakySnake> Tobba: FromPrimitive is not in the standard library anymore. It's in the num crate on crates.io. Don't know if there is a replacement for #derive(FromPrimitive)
[07:58:26] *** rkruppe_ is now known as rkruppe
[07:58:34] <Tobba> :/
[07:58:37] <Tobba> fuck
[07:58:53] <SneakySnake> I implemented it manually for my type
[07:58:56] <Tobba> I cant use the num crate (which is kinda terrible anyways)
[07:58:59] <Tobba> I guess
[08:00:53] *** Joins: ryanlevick (ryanlevick@moz-a4h.ous.120.37.IP)
[08:00:57] *** Quits: ryanlevick (ryanlevick@moz-a4h.ous.120.37.IP) (Connection closed)
[08:00:58] *** Joins: ryanlevick (ryanlevick@moz-a4h.ous.120.37.IP)
[08:01:53] *** Joins: _petr (petr@moz-2pi.7q8.248.178.IP)
[08:02:09] *** Joins: zeebo (zeebo@moz-6rqv1a.ut.comcast.net)
[08:02:49] *** Joins: warmwaffles (warmwaffles@moz-6gpnl1.res.rr.com)
[08:05:34] *** Quits: andschwa (andschwa@moz-v32.q66.42.104.IP) (Quit: ZNC - http://znc.in)
[08:06:51] *** Quits: warmwaffles (warmwaffles@moz-6gpnl1.res.rr.com) (Ping timeout: 121 seconds)
[08:07:18] <ChrisMorgan> Tobba: FromPrimitive was -> Option<Self>, From is -> Self.
[08:07:37] <Tobba> ~fun~
[08:08:08] <ChrisMorgan> And you can’t do things like implement From<i32> for Option<X> because both i32 and Option are in another crate.
[08:08:36] *** Joins: dylan_ (dylan@moz-h9d.d0d.43.100.IP)
[08:09:27] *** Joins: arBmind (Andreas@moz-1svgvd.adsl.alicedsl.de)
[08:09:42] *** Joins: andschwa (andschwa@moz-v32.q66.42.104.IP)
[08:10:04] <Tobba> ~~fun~~
[08:10:18] <Tobba> I'll just replace it with some manual impls
[08:11:07] <Tobba> although theres no obvious type to convert from
[08:12:00] *** Joins: kkimdev (kkimdev@moz-4l7.add.135.104.IP)
[08:13:34] *** Quits: ChrisMorgan (ChrisMorgan@moz-g6osuq.tpgi.com.au) (Ping timeout: 121 seconds)
[08:13:49] *** Quits: dylan_ (dylan@moz-h9d.d0d.43.100.IP) (Ping timeout: 121 seconds)
[08:14:24] *** Joins: mkurkov (mk@moz-7tl.thh.9.195.IP)
[08:15:58] *** Quits: cptroot (Mibbit@moz-n169l8.caltech.edu) (Quit: http://www.mibbit.com ajax IRC Client)
[08:18:31] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[08:18:36] <johnsoft> can anyone explain to me why the 'static bound is required in this code?
[08:18:39] <johnsoft> http://is.gd/NymZeu
[08:22:00] <druzac> do sockets support timeouts?
[08:22:08] *** Quits: areski (areski@moz-tijh72.user.ono.com) (Ping timeout: 121 seconds)
[08:22:11] <klutzy> johnsoft: because `Box<Read>` implies it's actually `Box<Read + 'static>`. non-'static variant is: http://is.gd/yOB0Jv
[08:22:15] <druzac> I can’t find any timeout knobs on TcpStreams
[08:22:20] *** Joins: xororor (sinkuu@moz-plko6e.eonet.ne.jp)
[08:23:15] *** Joins: zyphrus (David@moz-nhi.pas.98.101.IP)
[08:23:16] <druzac> unless set_keepalive does it, I guess
[08:24:09] <johnsoft> klutzy- that works, thanks. why was I still able to call new with stdin(), which is a non-'static value?
[08:24:45] <johnsoft> if 'static means "life of the program", what was the value that lives forever?
[08:24:55] *** Quits: gyng (faux@moz-67fidm.singnet.com.sg) (Ping timeout: 121 seconds)
[08:24:56] <Ms2ger> druzac, no timeouts at this point
[08:25:08] <druzac> that’s… pretty bad. ok
[08:26:10] *** Joins: CustosLimen (CustosLimen@moz-43o.etd.160.41.IP)
[08:26:31] *** Quits: kerrick (kerrick@moz-fub7j7.hfc.comcastbusiness.net) (Ping timeout: 121 seconds)
[08:29:07] <aatch> druzac, if I remember correctly it's an API issue and we don't want to lock in bad APIs for 1.0
[08:30:19] *** Quits: DemonOne (Avi@moz-mnit5j.red.bezeqint.net) (Ping timeout: 121 seconds)
[08:31:04] *** Joins: bjz (bjz@moz-puppgq.tpgi.com.au)
[08:31:25] *** Joins: nott (nott@moz-to4.06o.57.86.IP)
[08:31:31] *** Quits: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp) (Quit: Bye)
[08:32:17] *** Joins: gyng (faux@moz-67fidm.singnet.com.sg)
[08:32:41] *** Joins: laumann (thomas@moz-3v9.hq0.225.130.IP)
[08:34:15] *** Joins: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp)
[08:34:58] *** Joins: smohan (smohan@moz-m6j.f0d.244.121.IP)
[08:38:22] *** Quits: Havvy (Havvy@moz-v55a22.5euu.k9bm.0007.2601.IP) (Ping timeout: 121 seconds)
[08:41:30] *** Quits: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp) (Quit: Bye)
[08:42:30] *** Joins: rkruppe_ (chatzilla@moz-3nj.rnu.131.95.IP)
[08:42:45] *** Joins: tcard (tcard@moz-5eb1g3.staticIP.rima-tde.net)
[08:43:14] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Ping timeout: 121 seconds)
[08:43:16] *** Quits: druzac (druzac@moz-hn17us.vc.shawcable.net) (Ping timeout: 121 seconds)
[08:43:26] *** rkruppe_ is now known as rkruppe
[08:43:29] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[08:44:29] *** Joins: espadrine_ (tyl@moz-qfr4fg.abo.wanadoo.fr)
[08:45:14] *** Joins: ucarion (ulyssecario@moz-t3m0hc.c3v0.fbki.f140.2607.IP)
[08:45:40] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[08:46:16] *** Joins: xav (xav@moz-5tfec1.mobi)
[08:46:30] *** Quits: mzabaluev (Thunderbird@moz-3bijqs.bb.dnainternet.fi) (Ping timeout: 121 seconds)
[08:47:39] *** Quits: ucarion_ (ulyssecario@moz-c10ppr.c3v0.fbki.f140.2607.IP) (Ping timeout: 121 seconds)
[08:47:42] <Blub\w> assume I have an &mut T (or *mut T) to a mem::uninitialized<T> with T:Drop; how would I initialize it without it running drop? (as assignment runs drop before replacing the value)
[08:48:11] <Blub\w> oh I haven't tried the obvious way...
[08:48:12] *** Joins: tigrou3tac (fabien@moz-gdonfo.fbx.proxad.net)
[08:48:14] * Blub\w tries
[08:48:34] *** Joins: egor-laufer (uid78368@moz-ptdej8.uxbridge.irccloud.com)
[08:49:18] *** Quits: ucarion (ulyssecario@moz-t3m0hc.c3v0.fbki.f140.2607.IP) (Ping timeout: 121 seconds)
[08:49:41] <Ms2ger> ptr::write?
[08:50:16] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[08:50:56] *** Joins: Havvy (Havvy@moz-7eif1i.5euu.k9bm.0007.2601.IP)
[08:51:09] <Blub\w> ah I was thinking there was a way to use mem::forget, but yeah ptr::write seems like the right choice
[08:51:10] <Blub\w> thanks
[08:51:15] *** Quits: tunnuz (tunnuz@moz-e25.h7r.199.128.IP) (Quit: Leaving)
[08:51:25] <Ms2ger> Np
[08:51:31] *** Joins: slomo_ (slomo@moz-p8m0g2.net)
[08:51:35] *** Joins: frankmcsherry (frankmcsher@moz-jna.j5l.19.178.IP)
[08:52:24] *** Quits: poga (poga@moz-o2pspd.bo6r.4bjo.8900.2400.IP) (Quit: WeeChat 1.1)
[08:53:05] *** Joins: skade (skade@moz-4eh.d50.201.212.IP)
[08:53:09] *** zz_kimundi is now known as kimundi
[08:54:24] *** Joins: errordeveloper (ilya@moz-8jq.ge6.157.37.IP)
[08:55:16] *** Joins: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se)
[08:55:26] *** Quits: Havvy (Havvy@moz-7eif1i.5euu.k9bm.0007.2601.IP) (Ping timeout: 121 seconds)
[08:56:04] *** Quits: laparca (laparca@moz-rgcs06.mgob.kh00.0488.2a01.IP) (Quit: Leaving.)
[08:56:06] *** Joins: laparca (laparca@moz-rgcs06.mgob.kh00.0488.2a01.IP)
[08:56:11] *** Joins: ucarion (ulyssecario@moz-7b29q5.ResHall.Berkeley.EDU)
[08:57:07] *** Joins: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp)
[08:57:38] <faern> Hello. I'm trying to do some accurate benchmarking of my library for a report. I have started looking at criterion.rs but it does not seem to compile. Does anyone know if it's broken or if I need a specific rustc version maybe? Or any other recommendation for doing good benchmarking?
[08:58:06] <bstrie> faern: if you're using nightly rust, you can use the built-in benchmarking tool
[08:58:38] <bstrie> faern: http://rustbyexample.com/bench.html
[08:58:50] <faern> bstrie: Ok, is it as advanced/accurate? Doing warmup etc.
[08:59:01] <faern> I have looked a little bit at that one too.
[08:59:28] *** Quits: smarks (smarks@moz-btr.2j1.77.109.IP) (A TLS packet with unexpected length was received.)
[08:59:31] *** Joins: thiblahute (tsaunier@moz-68f5rr.rev.sfr.net)
[09:00:57] <bstrie> faern: it runs the loop like a zillion times, I don't think warmup is an issue there
[09:00:57] *** Joins: erz (erz@moz-n2p94l.broadband.corbina.ru)
[09:00:57] <faern> Haha. Ok
[09:01:16] <bstrie> uses weird statistical techniques to determine exactly how many times to run the loop, I don't know myself
[09:01:35] *** Joins: Havvy (Havvy@moz-7eif1i.5euu.k9bm.0007.2601.IP)
[09:02:13] *** Quits: ucarion (ulyssecario@moz-7b29q5.ResHall.Berkeley.EDU) (Ping timeout: 121 seconds)
[09:02:26] *** Quits: robertknight_ic (sid15951@moz-qs7057.uxbridge.irccloud.com) (Ping timeout: 121 seconds)
[09:02:26] *** Quits: bruceadams (sid15869@moz-gcaej2.uxbridge.irccloud.com) (Ping timeout: 121 seconds)
[09:02:30] *** Joins: Lilly (Lilly@moz-pfkvo9.bredband.comhem.se)
[09:02:39] *** Quits: forgottenone (forgottenon@moz-7c3.s8g.45.92.IP) (Quit: Konversation terminated!)
[09:02:50] *** Quits: zzing (textual@moz-jucm1n.cpe.distributel.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[09:02:56] <faern> Yeah, I read something about that. Ok, I will give it a shot. I just backlogged this channel and it seemed people were saying that #[bench] was mostly for small unit benchmarks and they linked criterion.rs for everything else.
[09:03:10] *** Quits: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp) (Quit: Bye)
[09:03:10] *** Joins: steffenomak (steffenomak@moz-3g6ikm.student.uu.se)
[09:03:43] <Blub\w> Is there a recommended way to express (assume `let var: T = ...;`): `if not method1(var) then method2(var)` where var gets moved out into whichever method succeeds? The problem there being that if methodX takes a T, I can't use var in method2() as it's already been moved out, if they take an &mut T then I "cannot move out of a borrowed content"; my first thoughts are making them provide a pointer
[09:03:46] <Blub\w> I ptr::write to afterwards. I'm just wondering if there are nicer ways. (passing a pointer and mem::forget()ing var afterwards would be the other solution I had in mind)
[09:03:48] <bstrie> faern: I've never heard of criterion, I agree that bench is only for small things
[09:03:54] *** Joins: casey (casey@moz-v0ns05.tpgi.com.au)
[09:04:26] *** Quits: casey (casey@moz-v0ns05.tpgi.com.au) (Connection closed)
[09:04:28] *** Joins: casey (casey@moz-v0ns05.tpgi.com.au)
[09:04:50] *** Joins: bruceadams (sid15869@moz-gcaej2.uxbridge.irccloud.com)
[09:04:58] *** Joins: robertknight_ic (sid15951@moz-3cdkda.irccloud.com)
[09:05:02] <bstrie> Blub\w: so you want to call several functions one after the other on the same variable?
[09:05:03] <faern> bstrie: Ok. Criterion for Haskell is very good at least. I want to do a lot of comparison benchmarks between algorithms in my library for a thesis report. But I will give bench a shot and see what it can do.
[09:05:17] *** Quits: smohan (smohan@moz-m6j.f0d.244.121.IP) (Ping timeout: 121 seconds)
[09:05:17] <bluss> Blub\w: you can't do that at all
[09:05:28] <bstrie> Blub\w: just make each function give ownership back
[09:05:40] <Blub\w> I can actually avoid it altogether, I was just wondering if this situation has any general solution to it
[09:05:46] *** Joins: rkruppe_ (chatzilla@moz-3nj.rnu.131.95.IP)
[09:06:00] <Blub\w> bstrie: how do you mean?
[09:06:01] <bstrie> Blub\w: can you write it out in rust syntax?
[09:06:15] <bluss> Blub\w: well, borrowing :)
[09:06:26] <Blub\w> bluss: can't move out of that safely though
[09:06:33] *** Joins: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp)
[09:06:52] <bstrie> Blub\w: the example really doesn't make sense to me
[09:07:11] *** Joins: lenstr_ (lenstr@moz-njm.vju.25.171.IP)
[09:07:11] *** Quits: lenstr (lenstr@moz-njm.vju.25.171.IP) (Connection closed)
[09:07:13] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Ping timeout: 121 seconds)
[09:07:27] *** rkruppe_ is now known as rkruppe
[09:07:40] *** Quits: yeahnoob (Xanadu@moz-ela.b10.248.89.IP) (Connection closed)
[09:08:22] <bstrie> Blub\w: specifically it's the "moved into whichever method succeeds" part which I can't parse
[09:08:28] <bstrie> what does it mean to succeed
[09:09:18] <ekarlso> is there any good guides on error handling ? :)
[09:09:27] *** Quits: xificurC_ (xificurC@moz-3u7gmd.chello.sk) (Quit: WeeChat 1.1.1)
[09:09:36] *** Joins: xificurC (xificurC@moz-3u7gmd.chello.sk)
[09:09:50] <bstrie> ekarlso: read all of http://doc.rust-lang.org/nightly/book/error-handling.html
[09:09:54] *** Quits: iopq (Mibbit@moz-a8acdc.ca.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[09:10:35] *** Joins: kmicu (kmicu@moz-uga.edn.218.91.IP)
[09:10:43] *** Joins: Altazimuth_ (Altazimuth@moz-rb7u6p.skybroadband.com)
[09:11:04] *** Quits: lenstr_ (lenstr@moz-njm.vju.25.171.IP) (Connection closed)
[09:12:50] *** Joins: timonv (timonv@moz-7btgcn.dynamic.ziggo.nl)
[09:13:02] <ekarlso> no exceptions I guess bstrie ? :p
[09:13:10] <bstrie> ekarlso: heck no :)
[09:13:39] *** Joins: anders (andars@moz-bsldst.sntcca.sbcglobal.net)
[09:14:44] <bluss> Blub\w: if the first function you call with the value needs to be able to move out of its argument, your only option is cloning the value
[09:14:54] <bluss> if you want to both pass it and keep it
[09:14:58] *** Quits: Jesse (jruderman@moz-pqc1f5.ca.comcast.net) (Client exited)
[09:15:12] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Ping timeout: 121 seconds)
[09:15:26] <bluss> there is no way around that. But the general solution is to use borrowing in all functions that can. But if you can't, you'll need to copy/clone
[09:15:33] <Blub\w> actually, I'm thinking of better designs now...     pub fn alloc(&mut self, width: usize, height: usize, payload: T)
[09:15:34] *** Joins: mkpankov (user@moz-h0n.sma.198.91.IP)
[09:15:36] <Blub\w>         -> Option<(usize, usize)>
[09:15:38] <Blub\w>     {
[09:15:40] <Blub\w> ah damn 
[09:15:46] <Blub\w> I hate this touchpad :|
[09:16:06] <kkimdev> After reading this, http://b.atch.se/posts/non-constant-constant-expressions/ , I'm now curious, can Rust do the same thing? e.g. compile time counter, is that something that syntax extension can do?
[09:16:26] <Ms2ger> Syntax extension can do plenty :)
[09:16:35] <Blub\w> anyway as I was saying: rust's forcing me to make better design choices ;)
[09:16:45] <bstrie> Blub\w: basically, if you resort to unsafe code just to do this then I will be so annoyed, you have no idea :P
[09:17:02] <kkimdev> Ms2ger, I would believe that :) (have 0 knowledge about it though)
[09:17:15] <Blub\w> bstrie: that failpaste was something else :p
[09:17:17] <Ms2ger> Me neither
[09:17:57] <kkimdev> well actually, Rust doesn't even have constexpr concept yet.. what am I talking..
[09:18:09] *** Joins: soma (Mibbit@moz-ef5.7ab.191.107.IP)
[09:19:22] *** Quits: xificurC (xificurC@moz-3u7gmd.chello.sk) (Quit: WeeChat 1.1.1)
[09:19:24] *** Joins: alonlevy (alon@moz-4jqdpb.telavivmakers.org)
[09:19:27] *** Joins: xificurC (xificurC@moz-3u7gmd.chello.sk)
[09:23:45] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[09:24:19] *** Joins: Phaiax (Phaiax@moz-aqopsj.hsi8.kabel-badenwuerttemberg.de)
[09:25:30] *** Quits: ryanlevick (ryanlevick@moz-a4h.ous.120.37.IP) (Quit: )
[09:25:55] *** Joins: Guest63 (textual@moz-qfs.570.70.83.IP)
[09:25:58] *** Quits: eklavya (textual@moz-9ru.cjj.204.117.IP) (Ping timeout: 121 seconds)
[09:26:24] *** Joins: yeahnoob (Xanadu@moz-ku8.ugi.122.118.IP)
[09:27:04] *** Joins: choplin (choplin@moz-qkm9un.ap.nuro.jp)
[09:28:49] *** Quits: choplin (choplin@moz-qkm9un.ap.nuro.jp) (Connection closed)
[09:30:22] *** Quits: kkimdev (kkimdev@moz-4l7.add.135.104.IP) (Quit: Leaving)
[09:31:18] <flaki> hi! is there a point in taking an immutable ref binding to any part of say, a struct? http://rustbyexample.com/borrow/ref.html
[09:31:23] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[09:32:00] <flaki> as opposed to a ref mut which has clear uses for ie mutating the fields of said struct
[09:32:15] <Mutabah> flaki: It avoids moving out of the source
[09:33:57] <bstrie> flaki: never use a &mut if you don't need it
[09:34:53] *** Quits: zyphrus (David@moz-nhi.pas.98.101.IP) (Quit: Bye bye)
[09:35:07] *** Joins: zyphrus (David@moz-nhi.pas.98.101.IP)
[09:36:10] *** Joins: choplin (choplin@moz-qkm9un.ap.nuro.jp)
[09:36:11] *** Quits: Palmik (palmik@moz-7pku2p.net.upcbroadband.cz) (Ping timeout: 121 seconds)
[09:37:29] *** Quits: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net) (Ping timeout: 121 seconds)
[09:38:12] *** Joins: Palmik (palmik@moz-rlhm05.vpn.muni.cz)
[09:38:17] *** Quits: slomo_ (slomo@moz-p8m0g2.net) (Quit: Ex-Chat)
[09:39:24] *** Quits: Rusky (russell@moz-pob0l8.slkc.qwest.net) (Ping timeout: 121 seconds)
[09:39:37] <flaki> what I'm saying is that I don't see the point in using ref (as immutable) in this: http://is.gd/R9HuPP
[09:39:47] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[09:39:54] *** Joins: jaen (jaen@moz-ifmik2.copit.pl)
[09:40:15] *** Joins: areski (areski@moz-erfa2b.dynamicIP.rima-tde.net)
[09:40:34] <flaki> if there actually is a point which I do not see, or you could show me a different example when the above two is indeed different (leaving ref off of the binding) that would be much appreciated ^^
[09:41:08] <Ms2ger> For something like an i32, there's not really a point
[09:41:13] <Ms2ger> Try with String fields
[09:41:13] *** Joins: Rusky (russell@moz-du8evc.slkc.qwest.net)
[09:43:02] *** Quits: choplin (choplin@moz-qkm9un.ap.nuro.jp) (Connection closed)
[09:43:44] <flaki> ah I see! so this works basically b/c i32 is Copy?
[09:44:23] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[09:44:47] <Ms2ger> Yep
[09:45:01] *** Joins: choplin (choplin@moz-qkm9un.ap.nuro.jp)
[09:45:17] <flaki> makes perfect sense, thank you ^^
[09:45:20] <Ms2ger> Np
[09:46:10] *** Quits: choplin (choplin@moz-qkm9un.ap.nuro.jp) (Connection closed)
[09:46:30] *** Joins: Hannibal_Smith (Nicola@moz-ucg29b.retail.telecomitalia.it)
[09:48:09] *** Joins: TheMue (Mibbit@moz-mmt2rr.dip0.t-ipconnect.de)
[09:48:58] *** Joins: ucarion (ulyssecario@moz-54bf7t.c3v0.fbki.f140.2607.IP)
[09:50:37] *** Quits: erz (erz@moz-n2p94l.broadband.corbina.ru) (Quit: My Mac has gone to sleep. ZZZzzz…)
[09:51:20] *** Joins: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr)
[09:53:02] *** Quits: ucarion (ulyssecario@moz-54bf7t.c3v0.fbki.f140.2607.IP) (Ping timeout: 121 seconds)
[09:53:34] *** Quits: ptx (ptx@moz-989.5up.104.87.IP) (Ping timeout: 121 seconds)
[09:54:13] *** Joins: Nextra (Nextra@moz-u5d4re.dip.osnanet.de)
[09:55:30] *** Joins: jud (jud@moz-6p3qn8.res.rr.com)
[09:56:55] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[09:57:03] <tomaka> File::open works on directories T_T
[09:57:14] <tomaka> rusti: std::fs::File::open("/").unwrap()
[09:57:15] -playbot- <anon>:8:5: 8:9 error: the trait `core::fmt::Debug` is not implemented for the type `std::fs::File` [E0277]
[09:57:15] -playbot- <anon>:8     show({
[09:57:15] -playbot- output truncated; full output at: http://bit.ly/1A9ZT4M
[09:57:18] <tomaka> rusti: std::fs::File::open("/").unwrap();
[09:57:19] -playbot- ()
[09:57:24] *** Joins: shellac (textual@moz-ph9m9v.bris.ac.uk)
[09:57:33] <bluss> Ms2ger: I managed to set you up for quote of the week
[09:57:47] <bluss> Ms2ger: which is strange, because there was a really funny quote suggested
[09:58:19] <Ms2ger> Go us :)
[09:58:22] <VShell> tomaka: what does it actually do on directories?
[09:58:31] <bluss> Ms2ger: you're the brains hehe
[09:58:38] <tomaka> VShell: it errors when you read
[09:58:44] <VShell> weird.
[09:58:53] <tomaka> rusti: let file = std::fs::File::open("/").unwrap(); let mut buf = vec![0; 5]; file.read(&mut buf).unwrap();
[09:58:54] -playbot- output truncated; full output at: http://bit.ly/1EySr8P
[09:58:55] *** Quits: khades1 (Thunderbird@moz-u45.3vk.74.212.IP) (Client exited)
[09:58:57] *** Joins: pnkfelix (pnkfelix@moz-6v5.3nd.202.89.IP)
[09:58:58] *** ChanServ sets mode: +o pnkfelix
[09:58:59] *** Joins: khades (Thunderbird@moz-u45.3vk.74.212.IP)
[09:59:19] <tomaka> rusti: use std::io::Read; let mut file = std::fs::File::open("/").unwrap(); let mut buf = vec![0; 5]; file.read(&mut buf).unwrap();
[09:59:21] -playbot- output truncated; full output at: http://bit.ly/1Aa0dR6
[09:59:21] *** Quits: Nosprawls (Mibbit@moz-74t0cs.virginmediabusiness.co.uk) (Quit: http://www.mibbit.com ajax IRC Client)
[09:59:39] <tomaka> well, that gives os error 21
[09:59:54] *** Joins: ptx (ptx@moz-s2r.jnl.143.78.IP)
[10:00:00] <tomaka> rusti: use std::io::Read; let mut file = std::fs::File::open("/etc/passwd").unwrap(); let mut buf = vec![0; 5]; file.read(&mut buf).unwrap();
[10:00:02] -playbot- ()
[10:00:31] *** Quits: Tobba (Tobba@moz-6oh.7ki.21.217.IP) (Ping timeout: 121 seconds)
[10:00:46] *** Quits: terpstra (terpstra@moz-290p6a.gsi.de) (Quit: Leaving)
[10:02:31] *** Quits: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp) (Connection closed)
[10:02:46] *** Joins: erz (erz@moz-n2p94l.broadband.corbina.ru)
[10:03:07] *** Joins: m_kato (m_kato@moz-86b4bs.bitcat.net)
[10:06:26] *** Joins: }ls{ (uhelp@moz-i99b3p.dip0.t-ipconnect.de)
[10:08:36] <VShell> tomaka: so, std::fs::File::open() eventually backs onto the Linux open system call directly, which can open directories (i.e. to pass to "watch this directory" syscalls, etc). you then need to call fstat() on it to check that it is a regular file, apparently.
[10:09:07] *** Quits: khades (Thunderbird@moz-u45.3vk.74.212.IP) (Client exited)
[10:09:51] *** Quits: anders (andars@moz-bsldst.sntcca.sbcglobal.net) (Ping timeout: 121 seconds)
[10:10:11] *** Joins: Tobba (Tobba@moz-6oh.7ki.21.217.IP)
[10:10:28] *** Quits: frankmcsherry (frankmcsher@moz-jna.j5l.19.178.IP) (Ping timeout: 121 seconds)
[10:10:34] *** Joins: khades (Thunderbird@moz-u45.3vk.74.212.IP)
[10:10:54] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Connection closed)
[10:10:57] *** Joins: _petr` (petr@moz-2pi.7q8.248.178.IP)
[10:11:57] *** Joins: eddyb (eddyb@moz-mj8.sgj.26.188.IP)
[10:12:12] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[10:12:27] *** Joins: Tuba (Tobba@moz-65g.7ki.21.217.IP)
[10:13:03] *** Joins: dstrbad (dstrbad@moz-30hd9v.dsl.iskon.hr)
[10:14:25] *** Joins: egor (egor@moz-dbb.3j0.166.192.IP)
[10:14:28] *** Quits: _petr (petr@moz-2pi.7q8.248.178.IP) (Ping timeout: 121 seconds)
[10:14:36] <egor> hello, rusters
[10:15:42] *** Quits: Tobba (Tobba@moz-6oh.7ki.21.217.IP) (Ping timeout: 121 seconds)
[10:16:20] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[10:17:00] *** Joins: Akagi201 (Akagi201@moz-8lg.fvd.81.101.IP)
[10:17:44] *** Quits: Hannibal_Smith (Nicola@moz-ucg29b.retail.telecomitalia.it) (Connection closed)
[10:17:59] *** Joins: edlothiol (user@moz-chhfor.hsi02.unitymediagroup.de)
[10:18:01] *** Quits: egor (egor@moz-dbb.3j0.166.192.IP) (Quit: WeeChat 0.4.2)
[10:19:13] *** Quits: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com) (Ping timeout: 121 seconds)
[10:20:04] *** Joins: Jesse (jruderman@moz-pqc1f5.ca.comcast.net)
[10:20:13] *** Joins: Tobba (Tobba@moz-6oh.7ki.21.217.IP)
[10:20:26] *** Quits: yeahnoob (Xanadu@moz-ku8.ugi.122.118.IP) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[10:20:36] *** Joins: eddyb_ (eddyb@moz-mj8.sgj.26.188.IP)
[10:20:58] *** Quits: eddyb (eddyb@moz-mj8.sgj.26.188.IP) (Ping timeout: 121 seconds)
[10:21:13] *** Quits: Tuba (Tobba@moz-65g.7ki.21.217.IP) (Ping timeout: 121 seconds)
[10:21:23] *** Quits: nott (nott@moz-to4.06o.57.86.IP) (Ping timeout: 121 seconds)
[10:22:13] *** Quits: Temur (Tarmashirin@moz-f5i.59e.201.117.IP) (Ping timeout: 121 seconds)
[10:22:26] *** Joins: jviereck (Adium@moz-46mgu8.ethz.ch)
[10:23:49] *** Joins: mahdi (mahdi@moz-8oo.182.244.151.IP)
[10:24:09] *** Joins: kakefabrikken (Mibbit@moz-9m21i0.studby.ntnu.no)
[10:24:26] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[10:26:04] *** Joins: rkruppe (chatzilla@moz-9d8alg.hrz.tu-darmstadt.de)
[10:26:55] *** Quits: Tobba (Tobba@moz-6oh.7ki.21.217.IP) (Ping timeout: 121 seconds)
[10:28:29] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[10:29:21] <bluss> egrep: hi
[10:29:53] * bluss is somewhat shocked that traits have changed color in rustdoc
[10:29:59] <bluss> my nerves can't handle this upset
[10:31:33] *** Quits: sysko (bst@moz-g9d.6sp.95.211.IP) (Ping timeout: 121 seconds)
[10:31:54] *** Joins: Temur (Tarmashirin@moz-f5i.59e.201.117.IP)
[10:32:08] *** Joins: jwatt (roslea@jwatt.irc.users.mozilla.org)
[10:32:24] *** Quits: Temur (Tarmashirin@moz-f5i.59e.201.117.IP) (Quit: Leaving)
[10:32:26] *** Joins: zv (user@moz-eb6cs8.ca.comcast.net)
[10:32:29] *** Joins: Temur (Tarmashirin@moz-f5i.59e.201.117.IP)
[10:32:50] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[10:33:52] *** Joins: kieran (kieran@moz-c5gk5j.ihug.co.nz)
[10:34:01] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[10:35:46] <kieran> hey is anyone around? simple q: is there a stable way to run `cargo bench` in beta channel? `extern crate test;` is marked unstable?
[10:35:59] <aji> are there event IO frameworks that allow private data to be passed to handlers? mio only has the tokens and they're proving pretty difficult to work with
[10:36:05] <bluss> kieran: there is no way
[10:36:11] <kieran> bluss: cheers
[10:36:13] *** Quits: erz (erz@moz-n2p94l.broadband.corbina.ru) (Quit: My Mac has gone to sleep. ZZZzzz…)
[10:36:17] *** Joins: jkbbwr (jakob@moz-n8t64u.angrykittens.co.uk)
[10:36:22] *** Quits: kieran (kieran@moz-c5gk5j.ihug.co.nz) (Quit: leaving)
[10:36:22] <jkbbwr> Does rust have multiprocess primitives?
[10:36:26] <aji> i'm considering just using threads
[10:36:27] <jkbbwr> or fork?
[10:36:38] *** Quits: Temur (Tarmashirin@moz-f5i.59e.201.117.IP) (Ping timeout: 121 seconds)
[10:36:45] *** Quits: Akagi201 (Akagi201@moz-8lg.fvd.81.101.IP) (Quit: Leaving...)
[10:36:52] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[10:37:03] *** Joins: Temur (Tarmashirin@moz-f5i.59e.201.117.IP)
[10:37:42] *** Joins: ptalbot (ptalbot@moz-g2mokk.ircam.fr)
[10:37:44] *** Quits: loyd (loyd@moz-uft.32f.108.213.IP) (Ping timeout: 121 seconds)
[10:37:46] *** Joins: tsurai (tsurai@moz-c8j.c6s.94.194.IP)
[10:38:19] *** Quits: mahdi (mahdi@moz-8oo.182.244.151.IP) (Ping timeout: 121 seconds)
[10:38:22] <tsurai> where did unicode dissapear to? I can't seem to find it on crates.io and neither in std
[10:38:33] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[10:39:04] <bluss> tsurai: there are several crates that you should find by searching for unicode
[10:39:14] *** Quits: skade (skade@moz-4eh.d50.201.212.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[10:39:19] <bluss> tsurai: that's where the more advanced unicode stuff from libstd went
[10:39:35] <tsurai> so there is no "official" crate anymore?
[10:40:22] <bluss> I don't know about what's official
[10:40:38] *** Quits: zyphrus (David@moz-nhi.pas.98.101.IP) (Quit: Bye bye)
[10:40:45] <bluss> the code in libstd move out to particular cartes, for example this https://crates.io/crates/unicode-segmentation
[10:40:45] *** Quits: jviereck (Adium@moz-46mgu8.ethz.ch) (Quit: Leaving.)
[10:40:55] <bluss> just hit the unicode keyword for more, I'd guess
[10:41:52] *** Joins: mahdi (mahdi@moz-8oo.182.244.151.IP)
[10:44:18] *** Quits: nrc (nrc@moz-9v1svd.xtra.co.nz) (Ping timeout: 121 seconds)
[10:46:08] *** Quits: mahdi (mahdi@moz-8oo.182.244.151.IP) (Ping timeout: 121 seconds)
[10:47:51] <soma> Hello! how can I make unwrap() to print its line number?
[10:48:08] *** Quits: thatsamguy_ (thatsamguy@moz-6oibep.optusnet.com.au) (Quit: Konversation terminated!)
[10:49:05] *** Quits: playjax (chatzilla@moz-haj81n.optusnet.com.au) (Connection closed)
[10:49:17] *** Joins: Tobba (Tobba@moz-65g.7ki.21.217.IP)
[10:49:36] *** Quits: rootnode (rootnode@moz-dp33mg.vpn.rwth-aachen.de) (Quit: WeeChat 1.2-dev)
[10:49:57] *** Quits: alonlevy (alon@moz-4jqdpb.telavivmakers.org) (Ping timeout: 121 seconds)
[10:50:23] <bluss> running with RUST_BACKTRACE=1 should do it (compile with debug info)
[10:50:30] *** Quits: shellac (textual@moz-ph9m9v.bris.ac.uk) (Ping timeout: 121 seconds)
[10:50:34] *** Quits: Temur (Tarmashirin@moz-f5i.59e.201.117.IP) (Connection closed)
[10:50:38] *** Joins: smarks (smarks@moz-btr.2j1.77.109.IP)
[10:50:39] <bluss> which cargo build / run does by default
[10:50:47] *** Quits: sonder (chatzilla@moz-nt8r49.idi.ntnu.no) (Ping timeout: 121 seconds)
[10:51:02] *** Quits: kakefabrikken (Mibbit@moz-9m21i0.studby.ntnu.no) (Quit: http://www.mibbit.com ajax IRC Client)
[10:51:38] *** Joins: Temur (Tarmashirin@moz-f5i.59e.201.117.IP)
[10:52:07] *** Joins: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com)
[10:52:12] *** Joins: mahdi (mahdi@moz-8oo.182.244.151.IP)
[10:54:44] *** Quits: flacko (chatzilla@moz-qbv.53c.135.82.IP) (Quit: ChatZilla 0.9.91.1 [Firefox 37.0.2/20150415140819])
[10:55:07] <soma> thank you
[10:56:15] *** Joins: Quanttek (quassel@moz-25k96c.6fkd.dvrb.8108.2a02.IP)
[10:56:35] *** Quits: mahdi (mahdi@moz-8oo.182.244.151.IP) (Ping timeout: 121 seconds)
[10:56:35] *** Quits: errordeveloper (ilya@moz-8jq.ge6.157.37.IP) (Ping timeout: 121 seconds)
[10:57:11] *** Parts: jkbbwr (jakob@moz-n8t64u.angrykittens.co.uk) ()
[10:59:40] *** Quits: TheMue (Mibbit@moz-mmt2rr.dip0.t-ipconnect.de) (Quit: http://www.mibbit.com ajax IRC Client)
[11:00:13] *** Joins: aepsil0n (eduard@moz-6491ha.mv2h.pepi.8071.2a02.IP)
[11:02:14] *** Quits: khades (Thunderbird@moz-u45.3vk.74.212.IP) (Connection closed)
[11:02:15] *** Quits: arBmind (Andreas@moz-1svgvd.adsl.alicedsl.de) (Quit: Leaving.)
[11:03:10] *** Quits: steffenomak (steffenomak@moz-3g6ikm.student.uu.se) (Quit: WeeChat 1.1.1)
[11:04:28] *** Joins: Tarmashirin (Tarmashirin@moz-rue.8s5.91.59.IP)
[11:04:43] *** Joins: arBmind (Andreas@moz-1svgvd.adsl.alicedsl.de)
[11:06:11] *** Joins: yuja (yuja@moz-5pp8ro.so-net.ne.jp)
[11:07:41] *** Quits: Temur (Tarmashirin@moz-f5i.59e.201.117.IP) (Ping timeout: 121 seconds)
[11:08:37] *** Quits: Tarmashirin (Tarmashirin@moz-rue.8s5.91.59.IP) (Quit: Leaving)
[11:09:35] *** Quits: Guest63 (textual@moz-qfs.570.70.83.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[11:12:49] *** Joins: kkimdev (kkimdev@moz-hcjfkg.59gh.vk5s.0000.2620.IP)
[11:12:50] <soma> Hello! How can I find the module in parent directory?
[11:13:07] *** Parts: tsurai (tsurai@moz-c8j.c6s.94.194.IP) ()
[11:13:13] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[11:13:14] *** Joins: nrc (nrc@moz-9v1svd.xtra.co.nz)
[11:13:14] *** ChanServ sets mode: +o nrc
[11:13:53] <kkimdev> Q: should I prefer underscore or hyphen for rust library name? e.g. fixed-point vs fixed_point 
[11:15:59] <tomaka> kkimdev: hyphens are forbidden in library names I think
[11:16:29] <tomaka> kkimdev: you can put a hyphen in a Cargo package name, in which case it will be turned into an underscore in the library name
[11:16:32] *** Joins: _petr`` (petr@moz-2pi.7q8.248.178.IP)
[11:16:33] *** Joins: duncan (paul@moz-9vabq7.sgnwmi.sbcglobal.net)
[11:16:42] <tomaka> for example the package "foo-sys" would have a library named "foo_sys"
[11:17:21] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[11:17:56] *** Joins: qwerty_nor (Thunderbird@moz-vuo.d5a.248.5.IP)
[11:18:13] *** Quits: nrc (nrc@moz-9v1svd.xtra.co.nz) (Ping timeout: 121 seconds)
[11:18:43] *** Joins: arBmind1 (Andreas@moz-1svgvd.adsl.alicedsl.de)
[11:18:46] <kkimdev> tomaka, yeah I still see a lot of libraries with hyphen, e.g., https://github.com/rust-lang/rustc-serialize , if I start a new lib, then is it recommended to use underscore because it will be underscore anyways?
[11:19:46] *** Quits: arBmind (Andreas@moz-1svgvd.adsl.alicedsl.de) (Ping timeout: 121 seconds)
[11:19:52] <kali> kkimdev: the dash is here to stay, so you can use it for the repository and crate name
[11:19:59] *** Joins: marcusklaas (marcus@moz-14bm7d.upc-g.chello.nl)
[11:20:03] *** Quits: _petr` (petr@moz-2pi.7q8.248.178.IP) (Ping timeout: 121 seconds)
[11:20:04] <kali> kkimdev: many people find the _ ugly 
[11:20:30] *** Joins: errordeveloper (ilya@moz-8jq.ge6.157.37.IP)
[11:21:37] <kkimdev> kali, hmm. ok I guess we don't have a de-facto way of naming yet. But I guess "-" has a risk that it might be deprecated in the future
[11:21:42] *** Quits: sjj_ (sjj@moz-4v2ea8.asianet.co.th) (Ping timeout: 121 seconds)
[11:22:11] <kali> kkimdev: very little risk. most people will use -, including major rusts contributors...
[11:22:35] <bluss> I think it's settled now. - is fine in crate names but it turns into _ where it has to be an identifier
[11:22:42] <bluss> in extern crate foo_crate
[11:23:27] <kkimdev> just curious, if most people preferred -, what was the reason choosing _ for crate name?
[11:23:54] <kali> kkimdev: it was leading to ambiguities in the grammar
[11:23:55] <aatch> kkimdev, '-' is not a valid identifier character
[11:24:10] <kkimdev> oh I see!
[11:24:11] <tomaka> more precisely you can't write `extern crate foo-bar`
[11:24:13] *** Joins: mahdi (mahdi@moz-ipf.n3s.129.78.IP)
[11:24:18] <tomaka> but `extern crate foo_bar` is valid
[11:24:27] *** Joins: colinsurprenant (colin@moz-q9ee1n.74.electronicbox.net)
[11:24:39] <kkimdev> well, I guess I'll just do what most people do... thanks! :)
[11:25:12] *** Joins: bitonic (bitonic@moz-cdh3tf.28-151.libero.it)
[11:26:05] *** Joins: Temur (Tarmashirin@moz-rue.8s5.91.59.IP)
[11:26:55] *** Quits: _td (tatterdemal@moz-a0dnkb.ca.comcast.net) (Ping timeout: 121 seconds)
[11:27:52] *** Joins: jshs (jshs@moz-u32f91.dip0.t-ipconnect.de)
[11:28:09] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[11:28:09] *** Joins: jviereck (Adium@moz-8950tu.bmup.g469.067c.2001.IP)
[11:28:32] *** Quits: Jesse (jruderman@moz-pqc1f5.ca.comcast.net) (Client exited)
[11:29:38] *** Quits: Enjolras (enjolras@moz-p7mo8q.ovh) (Quit: leaving)
[11:30:15] *** Joins: mib_grsnkv (Mibbit@moz-m8p.3vq.203.31.IP)
[11:30:17] *** Quits: mib_grsnkv (Mibbit@moz-m8p.3vq.203.31.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[11:30:28] *** Quits: mahdi (mahdi@moz-ipf.n3s.129.78.IP) (Ping timeout: 121 seconds)
[11:30:53] *** Quits: brontron4k (brontron@moz-0pqlmn.ph.cox.net) (Ping timeout: 121 seconds)
[11:31:02] *** Quits: jviereck (Adium@moz-8950tu.bmup.g469.067c.2001.IP) (Connection closed)
[11:31:02] *** Quits: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net) (Ping timeout: 121 seconds)
[11:31:03] *** Joins: mahdi (mahdi@moz-ipf.n3s.129.78.IP)
[11:32:03] *** Joins: Guest63 (textual@moz-qfs.570.70.83.IP)
[11:32:43] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[11:32:44] *** Quits: Tobba (Tobba@moz-65g.7ki.21.217.IP) (Ping timeout: 121 seconds)
[11:33:07] *** Joins: psy (psy@moz-ous.ntd.6.103.IP)
[11:33:23] *** Joins: polyfractal (polyfractal@moz-v88dif.artists.westelcom.com)
[11:33:30] *** Joins: khades (Thunderbird@moz-u45.3vk.74.212.IP)
[11:33:35] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[11:33:38] *** Joins: mdibaiee (mahdi@moz-ipf.n3s.129.78.IP)
[11:35:14] *** Quits: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr) (Connection closed)
[11:35:18] *** Quits: mahdi (mahdi@moz-ipf.n3s.129.78.IP) (Ping timeout: 121 seconds)
[11:37:34] *** Quits: daschl (Adium@moz-oirn1i.vie.surfer.at) (Quit: Leaving.)
[11:37:37] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[11:38:57] *** Quits: kkimdev (kkimdev@moz-hcjfkg.59gh.vk5s.0000.2620.IP) (Quit: Leaving)
[11:39:29] *** Quits: cdidd (cdidd@moz-m698fs.broadband.corbina.ru) (Ping timeout: 121 seconds)
[11:40:40] *** Joins: killercup (killercup@moz-4udt1b.dip0.t-ipconnect.de)
[11:41:20] *** Joins: erz (erz@moz-8v4.af0.232.213.IP)
[11:43:02] *** Joins: hoony (Thunderbird@moz-0oo.sbr.128.121.IP)
[11:43:09] *** Joins: andre (andre@moz-rnd.3qv.76.201.IP)
[11:43:20] *** Joins: mib_3gi18g (Mibbit@moz-vr1hbo.wlan.uni-bremen.de)
[11:43:35] *** Quits: hoony (Thunderbird@moz-0oo.sbr.128.121.IP) (Client exited)
[11:44:33] *** Quits: mib_3gi18g (Mibbit@moz-vr1hbo.wlan.uni-bremen.de) (Quit: http://www.mibbit.com ajax IRC Client)
[11:45:14] *** Quits: mdibaiee (mahdi@moz-ipf.n3s.129.78.IP) (Ping timeout: 121 seconds)
[11:46:10] *** Joins: mdibaiee (mahdi@moz-ipf.n3s.129.78.IP)
[11:46:14] *** Joins: asQuirreL (asQuirreL@moz-c3g.der.255.85.IP)
[11:46:55] *** Joins: saml_ (saml@moz-rkfmct.res.rr.com)
[11:47:19] *** Quits: erz (erz@moz-8v4.af0.232.213.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[11:48:10] *** Joins: skade (skade@moz-4eh.d50.201.212.IP)
[11:49:00] *** Joins: mib_rjk618 (Mibbit@moz-j8n.79o.84.92.IP)
[11:50:07] *** Quits: mib_rjk618 (Mibbit@moz-j8n.79o.84.92.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[11:50:44] *** Quits: mdibaiee (mahdi@moz-ipf.n3s.129.78.IP) (Ping timeout: 121 seconds)
[11:51:37] *** Joins: mdibaiee (mahdi@moz-ipf.n3s.129.78.IP)
[11:54:34] *** Joins: Enjolras (enjolras@moz-p7mo8q.ovh)
[11:54:51] *** Joins: Kynes (Kynes@moz-j2us35.mit.edu)
[11:56:12] *** Joins: mjboa (mike@moz-gfdglf.hsi06.unitymediagroup.de)
[11:57:06] *** Joins: Wild_Cat (Max@moz-na0tak.dsl.teksavvy.com)
[11:58:18] *** Quits: Enjolras (enjolras@moz-p7mo8q.ovh) (Quit: leaving)
[11:58:36] *** Joins: Tobba (Tobba@moz-65g.7ki.21.217.IP)
[11:58:50] *** Quits: tcard (tcard@moz-5eb1g3.staticIP.rima-tde.net) (Client exited)
[11:59:19] *** Joins: sonder (chatzilla@moz-nt8r49.idi.ntnu.no)
[12:02:02] *** Quits: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu) (A TLS packet with unexpected length was received.)
[12:02:32] *** Joins: ascarter (ascarter@moz-i0dnmd.wa.comcast.net)
[12:03:09] *** Quits: Temur (Tarmashirin@moz-rue.8s5.91.59.IP) (Connection closed)
[12:03:10] *** Joins: Temur (Tarmashirin@moz-rue.8s5.91.59.IP)
[12:03:30] *** Quits: Kingsquee (kingsley@moz-qq7ns6.bchsia.telus.net) (Quit: Konversation terminated!)
[12:03:40] <polyfractal> is there a way to use a configuration attribute to gate a feature attribute?  e.g. #[cfg(test)] #![feature(test)] ... only use feature(test) if we are running tests?
[12:03:50] *** Joins: dwrensha (chatzilla@moz-46o4hi.pa.comcast.net)
[12:03:50] *** Joins: warmwaffles (warmwaffles@moz-6gpnl1.res.rr.com)
[12:04:37] *** Joins: Enjolras (enjolras@moz-p7mo8q.ovh)
[12:05:06] <jshs> #[cfg_attr(test, feature(test))]
[12:05:29] <polyfractal> awesome, thanks jshs 
[12:06:17] *** Joins: Tarmashirin (Tarmashirin@moz-rue.8s5.91.59.IP)
[12:06:20] *** Quits: SneakySnake (nya@moz-i9is4u.pool.telekom.hu) (Quit: Leaving)
[12:06:27] *** Quits: Temur (Tarmashirin@moz-rue.8s5.91.59.IP) (Connection closed)
[12:07:28] *** Joins: SneakySnake (nya@moz-i9is4u.pool.telekom.hu)
[12:07:29] *** Joins: marsel (user@moz-fh8.4n9.234.188.IP)
[12:07:31] *** Joins: m_khvoinitsky (quassel@moz-bkl6sn.d57a.lq23.04f8.2a01.IP)
[12:07:36] *** Joins: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr)
[12:07:52] *** Quits: warmwaffles (warmwaffles@moz-6gpnl1.res.rr.com) (Ping timeout: 121 seconds)
[12:08:21] *** Joins: tcard (tcard@moz-5eb1g3.staticIP.rima-tde.net)
[12:11:56] *** Quits: Tarmashirin (Tarmashirin@moz-rue.8s5.91.59.IP) (Connection closed)
[12:11:56] *** Quits: tcard (tcard@moz-5eb1g3.staticIP.rima-tde.net) (Connection closed)
[12:12:02] *** Joins: alonlevy (alon@moz-hsidit.cablep.bezeqint.net)
[12:12:07] *** Joins: jeffasinger (jeff@moz-1j1qti.cable.mindspring.com)
[12:13:02] *** Joins: tcard (tcard@moz-5eb1g3.staticIP.rima-tde.net)
[12:13:05] <jeffasinger> Very new to rust, and I’m wondering if someone could explain why the following causes a lifetime issue: http://is.gd/rDBeej
[12:13:37] * Ms2ger has a look
[12:13:39] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[12:13:52] *** Joins: rishav_ (Mibbit@moz-1t4tem.nitt.edu)
[12:14:44] <Ms2ger> jeffasinger, the problem is that the compiler can't tell that do_write doesn't modify self.objects
[12:14:53] *** Joins: erz (erz@moz-8v4.af0.232.213.IP)
[12:15:27] *** Quits: pnkfelix (pnkfelix@moz-6v5.3nd.202.89.IP) (Ping timeout: 121 seconds)
[12:15:46] <Enjolras> hi
[12:16:16] <Enjolras> where should i search for/open a feature request to add opensearch to doc.rust-lang.org ?
[12:16:23] <Ms2ger> jeffasinger, http://is.gd/Oy0Sa8 could work
[12:16:34] *** Quits: ascarter (ascarter@moz-i0dnmd.wa.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[12:16:34] *** Parts: rishav_ (Mibbit@moz-1t4tem.nitt.edu) ()
[12:16:36] <Ms2ger> Enjolras, file an issue in rust-lang/rust, cc steveklabnik 
[12:16:43] <Enjolras> k thanks
[12:17:47] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[12:18:02] <jeffasinger> Ms2ger, okay that does look like it does what I need
[12:18:24] <Ms2ger> Np
[12:18:33] <jeffasinger> Thanks a lot
[12:18:43] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[12:20:11] *** Quits: jud (jud@moz-6p3qn8.res.rr.com) (Quit: Leaving)
[12:21:24] *** Joins: happy-dude_ (uid62780@moz-jt3517.charlton.irccloud.com)
[12:22:17] *** Joins: smtudor (smtudor@moz-ijq.d3e.55.45.IP)
[12:22:19] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[12:24:25] *** Quits: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr) (Connection closed)
[12:24:48] *** Joins: Temur (Tarmashirin@moz-rue.8s5.91.59.IP)
[12:26:08] *** Quits: duncan (paul@moz-9vabq7.sgnwmi.sbcglobal.net) (Connection closed)
[12:26:18] *** Joins: tav_ (tav@moz-fs0s4r.range31-52.btcentralplus.com)
[12:26:32] *** Joins: jdm (jdm@moz-ilbt2e.cable.teksavvy.com)
[12:26:32] *** ChanServ sets mode: +o jdm
[12:26:53] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[12:27:14] <Ilari> Oh, yay: ICE.
[12:27:16] *** Joins: ahal (ahal@moz-b8e0a0.cpe.pppoe.ca)
[12:27:30] *** Quits: bjz (bjz@moz-puppgq.tpgi.com.au) (Connection closed)
[12:28:01] *** Joins: duncan (paul@moz-9vabq7.sgnwmi.sbcglobal.net)
[12:28:09] *** Quits: asQuirreL (asQuirreL@moz-c3g.der.255.85.IP) (Connection closed)
[12:28:25] *** AutomatedTester|AFK is now known as AutomatedTester
[12:29:18] *** Joins: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr)
[12:31:11] *** Joins: killercu_ (killercup@moz-4udt1b.dip0.t-ipconnect.de)
[12:31:39] *** Joins: deadc0de (chsitter@moz-lrh.035.31.94.IP)
[12:32:16] *** Quits: Wild_Cat (Max@moz-na0tak.dsl.teksavvy.com) (Connection closed)
[12:32:40] *** Joins: mib_8v3pis (Mibbit@moz-epdk9t.broadband.corbina.ru)
[12:33:17] *** Quits: yuja (yuja@moz-5pp8ro.so-net.ne.jp) (Ping timeout: 121 seconds)
[12:33:24] *** Quits: killercup (killercup@moz-4udt1b.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[12:34:17] *** Joins: penguin42 (dg@moz-0v8anh.cable.virginm.net)
[12:34:20] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[12:34:45] *** Quits: aepsil0n (eduard@moz-6491ha.mv2h.pepi.8071.2a02.IP) (Ping timeout: 121 seconds)
[12:34:45] *** Joins: rkruppe_ (chatzilla@moz-nge5tq.uopk.14d9.41b8.2001.IP)
[12:34:51] *** Joins: DerisiveLogic (smuxi@moz-lok4tg.dyn.optonline.net)
[12:35:22] *** Quits: Guest67 (textual@moz-gfs9v0.fios.verizon.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[12:36:00] <Ilari> The code: http://codepad.org/n4FRTiH2 ... And I guess there is currently no good way to get code like that to work...
[12:36:44] *** Quits: rkruppe (chatzilla@moz-9d8alg.hrz.tu-darmstadt.de) (Ping timeout: 121 seconds)
[12:36:47] *** Quits: smtudor (smtudor@moz-ijq.d3e.55.45.IP) (Connection closed)
[12:36:56] *** rkruppe_ is now known as rkruppe
[12:36:57] *** Joins: asQuirreL (asQuirreL@moz-c3g.der.255.85.IP)
[12:37:03] *** Joins: ai (ai@moz-pqofrl.sunline.net.ua)
[12:38:11] *** Quits: mark_edward (mark@moz-dg4mrp.in.comcast.net) (Ping timeout: 121 seconds)
[12:38:23] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[12:38:56] *** Quits: mib_8v3pis (Mibbit@moz-epdk9t.broadband.corbina.ru) (Quit: http://www.mibbit.com ajax IRC Client)
[12:39:19] <folsen> How do I get a &str from a String? I can't use as_str() because it's unstable (apparently)
[12:39:24] *** Joins: gonzaloserrano (Adium@moz-1nv.3t7.97.62.IP)
[12:39:41] * penguin42 is a newbie and is just reading the 'book';   fun  looking language - is it possible for the type in an impl to be a type - e.g.   impl Foo for XXX where XXX is itself a trait?
[12:40:46] <huon> folsen: &your_string often coerces
[12:41:20] <huon> folsen: but &*your_string is the explicit way (both of these are because String implements Deref<str>)
[12:41:53] *** Quits: tristanseifert (tristanseif@moz-r0t7ns.res.rr.com) (Ping timeout: 121 seconds)
[12:42:21] *** Quits: laogao (laogao@moz-m3ssu7.members.linode.com) (Connection closed)
[12:43:40] <folsen> huon: &* did it, thanks :)
[12:43:40] *** Joins: bjz (bjz@moz-puppgq.tpgi.com.au)
[12:43:40] *** Quits: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr) (Quit: )
[12:43:40] <folsen> I couldn't find a way to read from a file directly into a str, went by the example of the docs to read into a mutable String and then try to convert
[12:45:41] *** Quits: popow (Thunderbird@moz-03f.kd0.252.223.IP) (Connection closed)
[12:45:53] *** Quits: ogoffart (ogoffart@moz-qiotv4.woboq.com) (Quit: http://quassel-irc.org - Chat comfortably. Anywhere.)
[12:46:13] *** Quits: Quanttek (quassel@moz-25k96c.6fkd.dvrb.8108.2a02.IP) (Ping timeout: 121 seconds)
[12:46:22] <Enjolras> penguin42: yes, it is. 
[12:46:22] *** Joins: yuja (yuja@moz-5pp8ro.so-net.ne.jp)
[12:46:23] *** Quits: Tobba (Tobba@moz-65g.7ki.21.217.IP) (Ping timeout: 121 seconds)
[12:46:37] *** Joins: _petr``` (petr@moz-2pi.7q8.248.178.IP)
[12:46:38] <penguin42> Enjolras: Thanks, it seemed to make sense that would be possible
[12:46:41] <Enjolras> penguin42: but it will use dynamic dispatch for the method on Foo
[12:46:50] <Enjolras> that is, a vtable 
[12:46:54] *** Joins: idegen (greg@moz-9c4nle.or.frontiernet.net)
[12:46:55] <huon> Enjolras: it's more subtle than that
[12:46:58] *** Joins: smtudor (smtudor@moz-ijq.d3e.55.45.IP)
[12:47:10] <Enjolras> huon: is it ? how ?
[12:47:18] <huon> it will use dynamic dispatch for any methods on the XXX trait
[12:47:29] <huon> i.e. inside the impl of Foo
[12:47:30] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[12:47:36] *** Joins: mark_edward (mark@moz-dg4mrp.in.comcast.net)
[12:47:43] *** Quits: rkruppe (chatzilla@moz-nge5tq.uopk.14d9.41b8.2001.IP) (Ping timeout: 121 seconds)
[12:47:43] <Enjolras> I see. Indeed, it makes sense
[12:47:48] <huon> but call the Foo methods on an XXX will be statically dispatched, XXX is behaving like a 'normal' type there
[12:47:51] <huon> *calling
[12:48:20] *** Quits: smtudor (smtudor@moz-ijq.d3e.55.45.IP) (Connection closed)
[12:48:26] <Enjolras> yeah i get it. so impl Foo for XXX is 0 cost if you don't call anything from XXX
[12:48:36] <Enjolras> thanks for the explaination
[12:48:51] *** Joins: smtudor (smtudor@moz-ijq.d3e.55.45.IP)
[12:50:02] *** Joins: scialex (scialex@moz-j5mi8i.cs.brown.edu)
[12:50:08] *** Quits: _petr`` (petr@moz-2pi.7q8.248.178.IP) (Ping timeout: 121 seconds)
[12:50:35] *** Quits: sp0 (seth@moz-m97a3k.internode.on.net) (Quit: Lost terminal)
[12:50:53] *** Joins: kushal (kdas@moz-623.k50.51.106.IP)
[12:51:20] *** Joins: JosiahOne|Work (Thunderbird@moz-f2hp7h.biz.rr.com)
[12:51:32] *** Joins: jud (jud@moz-6p3qn8.res.rr.com)
[12:52:04] *** Quits: saml_ (saml@moz-rkfmct.res.rr.com) (Ping timeout: 121 seconds)
[12:52:57] *** Joins: brontron4k (brontron@moz-0pqlmn.ph.cox.net)
[12:53:10] *** Quits: fabiand (fabiand@moz-1inn61.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[12:54:11] *** Quits: mark_edward (mark@moz-dg4mrp.in.comcast.net) (Ping timeout: 121 seconds)
[12:54:11] *** Quits: Temur (Tarmashirin@moz-rue.8s5.91.59.IP) (Connection closed)
[12:54:27] *** Joins: Guest74 (textual@moz-lmfinb.fios.verizon.net)
[12:54:34] *** Joins: Temur (Tarmashirin@moz-rue.8s5.91.59.IP)
[12:55:46] *** Joins: mark_edward (mark@moz-dg4mrp.in.comcast.net)
[12:55:54] *** Quits: maraoz (maraoz@moz-1d0.g5p.29.181.IP) (Ping timeout: 121 seconds)
[12:56:38] *** Quits: Nextra (Nextra@moz-u5d4re.dip.osnanet.de) (Connection closed)
[12:57:16] *** Quits: asQuirreL (asQuirreL@moz-c3g.der.255.85.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[12:57:37] *** Joins: Nextra (Nextra@moz-u5d4re.dip.osnanet.de)
[12:57:49] *** Joins: frankmcsherry (frankmcsher@moz-rkbskv.airspot.airfy.com)
[13:00:45] *** Joins: ismaelga (ismaelga@moz-rjm.jv4.251.188.IP)
[13:01:20] *** Quits: bjz (bjz@moz-puppgq.tpgi.com.au) (Connection closed)
[13:02:02] *** Joins: Guest63_ (textual@moz-6gq.t8s.78.166.IP)
[13:03:15] <penguin42> and can a trait definition be based on another trait - i.e. to compound features of things?
[13:03:45] <polyfractal> i think i spend more time fighting rustdoc than rustcc :(
[13:04:13] <kimundi> penguin42: yes, traits can inhert from each other and you can also implement a trait generically for all things that implement another trait
[13:04:33] <penguin42> kimundi: Nice
[13:04:51] *** Quits: Guest63 (textual@moz-qfs.570.70.83.IP) (Ping timeout: 121 seconds)
[13:06:36] *** Quits: m_kato (m_kato@moz-86b4bs.bitcat.net) (Quit: Leaving...)
[13:07:14] *** Joins: fabiand (fabiand@moz-05mhcn.dip0.t-ipconnect.de)
[13:07:28] *** Joins: pnkfelix (pnkfelix@moz-6v5.3nd.202.89.IP)
[13:07:28] *** ChanServ sets mode: +o pnkfelix
[13:07:38] *** Joins: dzyp (hiatt@moz-ofiasr.static.qwest.net)
[13:08:07] <penguin42> kimundi: While you expect something like that, I don't see it in the 5.21 section on Traits
[13:08:19] *** Joins: bjz (bjz@moz-puppgq.tpgi.com.au)
[13:08:42] <penguin42> kimundi: Not that I need to understand it now, just an observation on the docs
[13:09:12] <kimundi> penguin42: You can file a bug for stuff like that :)
[13:10:05] *** Joins: Guest67 (textual@moz-8aocg9.ri.cox.net)
[13:10:07] <penguin42> kimundi: Probably; but I'd like to understand a bit more of the language before filing newbie bugs
[13:10:19] <steveklabnik> penguin42: there's a bug open
[13:10:20] *** Joins: ascarter (ascarter@moz-i0dnmd.wa.comcast.net)
[13:10:24] <steveklabnik> for inheritance
[13:10:29] <frankmcsherry> hi folks; I have a perf question about how to best "copy" one vector into another.
[13:10:34] <steveklabnik> actually, i thought i added it...
[13:10:39] *** Joins: c0170_ (c0170@moz-bb29a4.cambridge.arm.com)
[13:10:51] <steveklabnik> penguin42: yeah: http://doc.rust-lang.org/nightly/book/traits.html#inheritance
[13:11:12] <kimundi> frankmcsherry: copy as in replace, or copy as in pusing everthing from one onto the other?
[13:11:27] *** Joins: ChrisMorgan (ChrisMorgan@moz-g6osuq.tpgi.com.au)
[13:11:39] <frankmcsherry> from a &Vec source and a &mut target, I'd love to essentially do a memcpy, but struggling to figure out how to do it. With Write::write_all I can get about 40GB/s, but can't get extend() to go that fast.
[13:12:06] *** Quits: c0170 (c0170@moz-bb29a4.cambridge.arm.com) (Ping timeout: 121 seconds)
[13:12:18] <kimundi> frankmcsherry: hm, you could try target.clone_from(&source)
[13:12:20] <penguin42> steveklabnik: Ah excellent - I'm reading the 1.0.0-beta.3 linked from the main page
[13:12:43] *** Joins: ixti (ixti@moz-i3d.dae.119.188.IP)
[13:12:52] <kimundi> frankmcsherry: also, there is a actual memcpy exposed, just not named that way.
[13:12:58] <frankmcsherry> kimundi: hrm. lemme figure out if that is cheating. 
[13:12:59] <kimundi> std::ptr::copy
[13:13:39] <frankmcsherry> kimundi: sorry, "goal" here is to understand more, so that my data exchange code goes fast when it is a pipeline; I have "iterator-like" interfaces at the moment, and I'm trying to figure out if they are broken.
[13:13:43] <kimundi> frankmcsherry: "cheating" in what way?
[13:13:52] *** Joins: hoony (Thunderbird@moz-0oo.sbr.128.121.IP)
[13:14:10] <steveklabnik> penguin42: ah yeah, so the book doesn't get per-beta updates at the moment, it'll all get imported right before 1.0
[13:14:13] <kimundi> hm...
[13:14:19] <steveklabnik> penguin42: this release cycle is a bit weird
[13:14:21] * penguin42 finds the lack of ducks in the Trait documentation surprising
[13:14:22] <frankmcsherry> kimundi: just, that I have some interfaces for sanity/abstraction, and if that does end up being the only way (passing an array and saying "clone") it means my interfaces are wrong.
[13:14:24] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[13:14:45] *** Joins: asQuirreL (asQuirreL@moz-ro1qqu.ox.ac.uk)
[13:15:03] <folsen> why is it that I sometimes get the same error message repeated hundreds of times? https://dl.dropboxusercontent.com/spa/3iijrtj1ei5hd1k/0yl0l8q1.png
[13:15:12] <frankmcsherry> kimundi: I was hoping that there was a nice iterator with a correct length hint that would compile down to a memcpy, but .. maybe Drain is the only one?
[13:15:22] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[13:15:22] <kimundi> frankmcsherry: well afaik the iterator approach is meant to be as fast as possible (though it might not yet be) - for stuff like bulk copies, Iterator has a size_hint to preallocate the right amount of memory
[13:15:24] *** Quits: amir (amir@moz-jnohkj.3bcq.01f6.0168.2a02.IP) (Ping timeout: 121 seconds)
[13:15:33] *** Quits: erz (erz@moz-8v4.af0.232.213.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[13:16:11] *** Joins: winding-lines (textual@moz-g7k4j8.ca.comcast.net)
[13:16:20] <bluss> folsen: nice! :)  well rustc triest to report all errors of the given phase it is erroring in
[13:16:24] <kimundi> frankmcsherry: in theory a extend() of a iterator that just yields elements out of a slice of memoroy should optimize to a memcpy. Wether it does in practice is a different question of course
[13:16:30] <frankmcsherry> kimundi: so if I have a Vec<u8>, what iterator (other than Drain) would I use? IntoIter seems wrong (I don't want to move the array) and Iter() gives &u8 which when I follow with a .map(|&x| x) results in not obviously memcpy'ing code (slow, at least)
[13:16:32] <bluss> folsen: sometimes that's helpful, in this case, clearly not
[13:17:38] <kimundi> frankmcsherry: "theoretically" the iter() approach should be fine, as llvm should be able to see that the reference is a unneccessary pointer indirection
[13:17:54] <bluss> frankmcsherry: why would the map result in obviously not memcpy? That's a mistaken assumption
[13:18:03] *** Joins: gonzaloserrano1 (Adium@moz-1nv.3t7.97.62.IP)
[13:18:19] <frankmcsherry> bluss: in that it moves about 1.2GB/s in cargo bench.
[13:18:32] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[13:18:34] <frankmcsherry> bluss: whereas Write::write_all moves about 43GB/s.
[13:18:35] <folsen> bluss: not sure I understand what the "difference" is between these errors, even if just semantically (since it obviously boils down to the same message in the end)
[13:18:49] <folsen> bluss: what's the phase in this case?
[13:18:59] <kimundi> frankmcsherry: what is the exact type you are copying around?
[13:19:03] <frankmcsherry> u8
[13:19:04] <bluss> folsen: type checking phase? I'm not sure
[13:19:19] <bluss> folsen: anyway, are you repeating that line in a macro?
[13:19:19] <kimundi> hm, okay
[13:19:21] <frankmcsherry> kimundi: trying something simple first. :)
[13:19:29] <bluss> folsen: What does the code look like?
[13:19:40] *** Quits: Temur (Tarmashirin@moz-rue.8s5.91.59.IP) (Ping timeout: 121 seconds)
[13:19:54] <folsen> bluss: hmm no.. but i'm using the function that calls that thing in a try! macro, maybe that's related
[13:19:58] <frankmcsherry> kimundi: buffer.write_all(data).unwrap() : 43GB/s, buffer.extend(data.iter().map(|&x| x)) : 1.2GB/s.
[13:20:01] *** Quits: gonzaloserrano (Adium@moz-1nv.3t7.97.62.IP) (Ping timeout: 121 seconds)
[13:20:12] <folsen> bluss: i'll push the code to github, although it's very ugly :P
[13:20:36] *** Quits: bjz (bjz@moz-puppgq.tpgi.com.au) (Ping timeout: 121 seconds)
[13:20:37] *** Joins: eibwen (eibwen@moz-7rm68g.dip0.t-ipconnect.de)
[13:21:11] <frankmcsherry> kimundi: so, I do know how to move bytes around fast (not the problem), but I'm not confident that I can cause other things to go fast in other parts of my code. :)
[13:21:18] *** Quits: p1start (p1start@moz-nftjhe.org) (Ping timeout: 121 seconds)
[13:21:32] <folsen> bluss: https://github.com/folsen/epl2rust/blob/master/src/parser.rs#L84
[13:21:50] <kimundi> frankmcsherry: yeah, that definitely sounds wrong. Theoretically there can be codegen that results in both behaving identically, you'd have to look at the IR or asm to see where it goes wrong
[13:22:13] *** Joins: gambi (gambi@moz-qvs.isu.201.87.IP)
[13:22:41] <kimundi> frankmcsherry: Same results with buffer.extend(data.iter().cloned()) ?
[13:22:47] <frankmcsherry> sec
[13:23:06] *** Joins: bjz (bjz@moz-puppgq.tpgi.com.au)
[13:23:08] <frankmcsherry> kimundi: yar
[13:23:10] <frankmcsherry> yes*
[13:23:22] *** Joins: erz (erz@moz-8v4.af0.232.213.IP)
[13:23:25] <aatch> frankmcsherry, LLVM's loop vectorizer is pretty sensitive, it'll often refuse to vectorize loops for no apparent reason.
[13:23:34] *** bentley|away is now known as bentley
[13:23:48] *** Quits: brontron4k (brontron@moz-0pqlmn.ph.cox.net) (Ping timeout: 121 seconds)
[13:24:19] <frankmcsherry> aatch: oof. buffer.extend(data.iter().map(|&x| x)) and buffer.extend(data.iter().cloned()) are pretty simple cases, though, right?
[13:24:20] <aatch> I vaguely remember extend being slower than some other methods, for no apparent reason.
[13:24:25] *** Joins: Hannibal_Smith (nico@moz-ucg29b.retail.telecomitalia.it)
[13:24:56] <aatch> frankmcsherry, in theory. But my experience is that even simple cases can stump LLVM sometimes.
[13:25:02] *** Joins: daschl (Adium@moz-oirn1i.vie.surfer.at)
[13:25:58] *** Joins: mib_m7bjb0 (Mibbit@moz-mhe.96p.49.209.IP)
[13:26:22] <aatch> frankmcsherry, for example, I could easily get a copy loop to vectorize using unsafe code to avoid the bounds check, but an iterator-based solution, that also didn't have bounds checks, didn't vectorize.
[13:26:56] *** Joins: Temur (Tarmashirin@moz-rue.8s5.91.59.IP)
[13:27:16] <aatch> Though in this case, I believe it's the the "trusted iterator" problem.
[13:27:36] <frankmcsherry> kimundi, aatch: Drain doesn't even seem to turn in to a memcpy/memmove. >.<
[13:27:59] <aatch> where we can't necessarily rely on the size hints from the iterator.
[13:28:36] * penguin42 hasn't quite understood the point of the ' lifetype annotations yet
[13:28:47] *** Quits: mnemnion (mnemnion@moz-e8rfii.ca.comcast.net) (Connection closed)
[13:29:10] *** Joins: twipeD (wipeD@moz-9dd5pf.dip0.t-ipconnect.de)
[13:29:28] *** Quits: mdibaiee (mahdi@moz-ipf.n3s.129.78.IP) (Ping timeout: 121 seconds)
[13:30:02] *** Joins: amir (amir@moz-qbf4gg.fiber7.init7.net)
[13:30:37] <aatch> frankmcsherry, for what it's worth, the problem isn't in the `data.iter().map()` part, it's in the extend size.
[13:31:30] <frankmcsherry> aatch, kimundi: well, the good news is that my dataflow stuff is "mostly zero-overhead", thanks to Rust. Pagerank on a 6GB file takes 17.5s with for-loops, and 18.5s with dataflow computing it behind it. Only overhead is the data movement, which is ... surprisingly expensive... :)
[13:31:37] *** Quits: duncan (paul@moz-9vabq7.sgnwmi.sbcglobal.net) (Quit: Leaving.)
[13:32:01] *** Joins: fabianvf (fabianvf@moz-j12.dim.197.216.IP)
[13:32:06] *** Quits: ascarter (ascarter@moz-i0dnmd.wa.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[13:32:21] *** Quits: madmalik (uid13697@moz-lfin5p.brockwell.irccloud.com) (Quit: Connection closed for inactivity)
[13:32:25] <aatch> frankmcsherry, you could potentially write your own equivalent to extend that's a little less robust in edge cases, but much faster.
[13:32:29] <kimundi> penguin42: The compiler reasons about lifetimes everywhere, and there are many possible configurations. The annotations allow the programmer to pick the one they want in an API, which the compiler can then verify to be a correct one and subsequently allows the code to compile.
[13:32:37] *** bentley is now known as bentley|away
[13:32:54] <frankmcsherry> aatch: I'll probably just change my apis to move Vec<...>s around, rather than try to integrate with iterators. I feel bad, but ...
[13:33:02] *** Joins: ainieco (ainieco@moz-h7u.qih.162.188.IP)
[13:33:04] <ainieco> hello
[13:33:12] *** Quits: Temur (Tarmashirin@moz-rue.8s5.91.59.IP) (Connection closed)
[13:33:27] *** Quits: Guest (textual@moz-e2cv3d.res.rr.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[13:33:32] <ainieco> when do you plan to land http://doc.rust-lang.org/nightly/book/references-and-borrowing.html ?
[13:33:36] <aatch> frankmcsherry, I guess the thing is, do you actually need the composibility that iterator's would give you?
[13:34:23] <sillesta> steveklabnik ^
[13:34:24] <frankmcsherry> aatch: the Vec<>s mean batching at some system-parameter granularity, and iterators would be cleaner if they worked at endpoint-agreed-on granularities, if that makes sense.
[13:34:30] <steveklabnik> ainieco: there's a PR open, but for now, the ownership chapter has all three parts
[13:35:05] <ainieco> steveklabnik: i'd like to read up-to-date info on Rc, Arc and other pointer stuff in book/tutorial format with examples of use cases
[13:35:07] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[13:35:28] *** Joins: maraoz (maraoz@moz-7fc9s6.fibertel.com.ar)
[13:35:29] <ainieco> steveklabnik: which PR is that?
[13:35:45] <steveklabnik> ainieco: that stuff has moved into the documentation of Rc and Arc, though the concurrency chapter uses Arc a bit
[13:35:56] <steveklabnik> https://github.com/rust-lang/rust/pull/24782
[13:35:58] <frankmcsherry> aatch: and it is a bit silly to stage data in Vec<>s to call a map to re-stage it in different Vec<>s, to filter down to third Vec<>s, etc. Iterators seem smart, but missing this key feature. I await TrustedIteratorLengthMumble!
[13:36:12] *** Quits: gambi (gambi@moz-qvs.isu.201.87.IP) (Quit: )
[13:36:14] *** Quits: thiblahute (tsaunier@moz-68f5rr.rev.sfr.net) (Ping timeout: 121 seconds)
[13:36:21] <penguin42> kimundi: Yes, I just haven't figured out cases where the explicit annotations are needed or in a function what makes sense for the annotation on the return; would you generally want them if you wanted the return values lifetime to match the lifetime of one of the parameters?
[13:36:23] *** Joins: Temur (Tarmashirin@moz-rue.8s5.91.59.IP)
[13:36:40] <ainieco> steveklabnik: thanks, going to look at it
[13:37:03] <aatch> frankmcsherry, have you looked into itertools?
[13:37:19] * aatch tries to remember who's working on that.
[13:37:44] <aatch> Ah, bluss
[13:37:45] *** Joins: wei2912 (wei2912@moz-i44.ats.156.175.IP)
[13:38:00] <frankmcsherry> I haven't, but I'd guess bluss would know when things are fast and when they aren't. :)
[13:38:17] <kimundi> penguin42: that is one situation where you need them, yes. Though for function signatures specifically Rust supports "lifetime elision", which is basically a short set of rules of how Rust automatically determines where a lt parameter goes
[13:38:19] *** Joins: _td (tatterdemal@moz-a0dnkb.ca.comcast.net)
[13:39:05] <penguin42> kimundi: Yes I've seen the stuff about elision and that makes sense to me; the bit that's not clicked yet are the cases where that won't work
[13:39:09] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[13:39:18] <kimundi> penguin42: eg, compare `fn foo<'a>(a: &'a T, b: &'a T) -> &'a T` to `fn foo<'a, 'b>(a: &'a T, b: &'b T) -> &'b T`
[13:39:28] *** Joins: miyagi (blabla@moz-q9c9b2.tubit.tu-berlin.de)
[13:39:39] <scott> penguin42: elision won't kick in if there isn't exactly one input reference
[13:39:44] <steveklabnik> penguin42: one area elision doesn't apply is struct definitions
[13:39:51] <kimundi> or `fn foo<'a>(a: &'a T, b: &'a T) -> (&'a T, &'a T)` vs `fn foo<'a, 'b>(a: &'a T, b: &'b T) -> (&'a T, &'b T)`
[13:40:01] <miyagi> hey. is there any way to get rustc to unwrap macros for proper debugging? i.e. i'm trying to figure out what line exactly i'm using a try! macro on 
[13:40:04] <scott> penguin42: e.g. fn f() -> &str or fn g(x: &str, y: &str) -> &str // neither of these will work
[13:40:37] <miyagi> (that is failing)
[13:41:02] *** Joins: xilec (Mibbit@moz-g6k.oht.161.46.IP)
[13:41:32] <penguin42> scott/kimundi: I suppose what doesn't quite make sense to me in the case of the return value of a function is that I'd expect the lifetime to be related to the scope where the function is called from
[13:41:40] *** Joins: __mark__ (mark@moz-pb9mc5.dynamic.chello.pl)
[13:41:47] *** Quits: Temur (Tarmashirin@moz-rue.8s5.91.59.IP) (Connection closed)
[13:41:51] <frankmcsherry> aatch: related: do you know a good place to look in to when LLVM is good at removing bounds checks? I have a few sort routines, and I'm sure some can be optimized out and some can't (radix sort just has an array of offsets); trying to grok where I should use unsafe access and where not.
[13:42:34] <aatch> frankmcsherry, unless it's really obvious, LLVM tends to have difficulty removing the bounds checks.
[13:42:45] <kimundi> penguin42: oh, but thats not necessarily the case. The calling function might itself take a reference form the outside and just pass it temporary down into the inner function
[13:42:52] *** Joins: dschatzberg (dschatz@moz-nk1clf.bu.edu)
[13:43:10] <aatch> frankmcsherry, if it's a performance-sensitive routine, I'd err on the side of using `get_unchecked[_mut]`
[13:43:12] <mbrubeck> miyagi: `rustc -Z unstable-options --pretty=expanded` will print macro expansions, if that helps.
[13:43:42] <aatch> frankmcsherry, assuming that you've already ensured that the index is in range elsewhere.
[13:43:47] *** AutomatedTester is now known as AutomatedTester|AFK
[13:43:58] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[13:44:03] <scott> penguin42: functions like fn get_str(s: &String) -> &str which really mean fn get_str<'a>(s: &'a String) -> &'a str mean that they work "for all lifetimes 'a" just like <T> means "for all types T"
[13:44:04] <frankmcsherry> aatch: I will look in to that. Are there unchecked analogues of slice::swap() or &slice[a..b] ?
[13:44:05] *** Joins: apocryph (apocryph@moz-mhe.96p.49.209.IP)
[13:44:35] <scott> penguin42: the purpose of it is to tie the lifetime of the reference passed to get_str to its result, so when you say let x = get_str(y), then x counts as a borrow of y
[13:44:41] <miyagi> mbrubeck: yeah, i know about that one... but in this case a parse::<f32>() is failing somewhere when I'm trying to construct a struct (lots of try!'s) and I'm a bit at a loss
[13:44:44] *** Quits: casey (casey@moz-v0ns05.tpgi.com.au) (Connection closed)
[13:44:50] <kimundi> penguin42: Something like `fn foo<'a, 'b>(a: &'a T, b: &'b T) -> &'b T` could be called by a function that puts in a reference to something local, and a reference to a thing further up the stack and receive a reference that still lives as long as that out scope
[13:44:59] <penguin42> scott: Ah! That's what I was missing
[13:45:02] <aatch> frankmcsherry, I don't believe so, though it'd be easy enough to do.
[13:45:30] *** Quits: winding-lines (textual@moz-g7k4j8.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[13:46:05] *** Quits: marsel (user@moz-fh8.4n9.234.188.IP) (Ping timeout: 121 seconds)
[13:46:06] <aatch> frankmcsherry, it may even be worth using `as_mut_ptr` and using ptr::offset
[13:46:17] <penguin42> scott/kimundi: Thanks
[13:46:20] <frankmcsherry> aatch: cool, I will dive in to this and learn something exciting! :D
[13:46:42] <kimundi> frankmcsherry: there is slice_unchecked at least
[13:48:28] *** Quits: Feyn (Feyn@moz-e06.k93.115.42.IP) (Quit: Leaving)
[13:48:29] <nox> How can I emit LLVM IR from Cargo for a specific file in a library crate?
[13:48:46] <aatch> nox, you can't emit LLVM IR for a specific file.
[13:48:49] <scott> nox: crates are built as a single unit
[13:49:11] *** Joins: rootnode (rootnode@moz-go1ut4.ip1.george24.com)
[13:49:19] *** Quits: c0170_ (c0170@moz-bb29a4.cambridge.arm.com) (Connection closed)
[13:49:50] <aatch> frankmcsherry, glad to help. Now, I'm going to dive into bed.
[13:50:04] <nox> Well then, how do I do that for a whole crate I guess?
[13:50:08] *** Joins: Temur (Tarmashirin@moz-rue.8s5.91.59.IP)
[13:50:11] *** Quits: aatch (james@moz-is4j4r.cable.telstraclear.net) (Quit: Leaving)
[13:50:14] *** bentley|away is now known as bentley
[13:50:35] *** Quits: _td (tatterdemal@moz-a0dnkb.ca.comcast.net) (Ping timeout: 121 seconds)
[13:50:41] <kimundi> and for emitting ir for the whole library, afaik you have to do cargo build -v, note down the exact command, and then issue it manually with a --emit=llvm-ir added/changed
[13:51:15] <scott> is there no way to pass rustc flags through cargo?
[13:52:43] *** Joins: Diggsey (diggsey@moz-oatv88.dsl.pipex.com)
[13:52:50] <kimundi> afaik no, for some philosophical reasons
[13:52:56] *** Quits: idegen (greg@moz-9c4nle.or.frontiernet.net) (Quit: Leaving.)
[13:53:01] *** Joins: idegen (greg@moz-9c4nle.or.frontiernet.net)
[13:53:04] <scott> I see
[13:53:30] *** Joins: fiyarburst (fiyarburst@moz-ikj.teg.241.192.IP)
[13:53:37] <scott> I was aware they didn't want to allow them in Cargo.toml for the purpose of simpler or less fragile builds
[13:53:54] <steveklabnik> but see https://github.com/rust-lang/cargo/issues/595
[13:54:01] <huon> they're more likely to be allowed in Cargo.toml than on the command line
[13:54:18] *** Quits: mjboa (mike@moz-gfdglf.hsi06.unitymediagroup.de) (Ping timeout: 121 seconds)
[13:54:26] *** Joins: alex-abreu (alex@moz-j54ho8.biz.rr.com)
[13:54:27] <huon> the goal is to ensure that everything needed to build a project is recorded, no need to munge around the right commandline flags
[13:54:27] *** Quits: Temur (Tarmashirin@moz-rue.8s5.91.59.IP) (Connection closed)
[13:54:30] <scott> hmm
[13:54:52] *** Joins: v21 (vee@moz-fcd.kug.204.223.IP)
[13:55:00] <scott> I can see the reasoning there. the alternate argument is that commandline flag passing is really useful for debugging
[13:55:06] <scott> emitting IR, ASM, or macro expanding
[13:55:10] <huon> right
[13:55:12] *** Quits: xilec (Mibbit@moz-g6k.oht.161.46.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[13:55:23] *** Joins: Temur (Tarmashirin@moz-rue.8s5.91.59.IP)
[13:55:26] <miyagi> mbrubeck: in the end, copying the relevant expanded macros and recompiling the app helped me debug things. I wish that rustc would add better debug information for macros though so that a try! call is not listed in the backtrace as occuring at <std macros>:6
[13:55:39] <huon> (I'm *totally* for allowing diagnostics flags like that: https://github.com/rust-lang/cargo/issues/1204 )
[13:56:02] <scott> that would be nice, to have them directly supported
[13:56:10] <penguin42> (One nasty thing with the HTML of the book is the way the index side bar always jumps back to the top whenever you follow the forward/backward links)
[13:56:18] <kimundi> could you allow command line in a way that makes the result not useful for depending on? like setting a don't-depend-on-flag or such?
[13:56:36] *** Quits: killercu_ (killercup@moz-4udt1b.dip0.t-ipconnect.de) (Quit: Bye)
[13:56:59] <scott> that might be a pretty smart idea. "can't build 'foo' because dependency 'bar' was custom-built"
[13:57:05] <scott> or a warning at least
[13:57:18] <steveklabnik> penguin42: open issue about it. needs javascript to not do that.
[13:57:31] <steveklabnik> penguin42: (not that we're against JS, mind you, it's just someone would need to put that together)
[13:57:55] *** Joins: nobell (nobell@moz-9fr.3ug.41.14.IP)
[13:58:06] <freefall> and please don't end up with something that requires js to even read
[13:58:51] <penguin42> steveklabnik: Do the issues for the book go on the github?
[13:59:09] <steveklabnik> yes
[13:59:11] *** Quits: aftershave (textual@moz-jbfg59.priv.bahnhof.se) (Quit: Textual IRC Client: www.textualapp.com)
[13:59:29] <penguin42> steveklabnik: Against rust-www ?
[13:59:43] <huon> rust-lang/rust (the docs are in src/doc)
[13:59:55] <steveklabnik> huon is correct
[13:59:59] *** Joins: sbditto85 (Mibbit@moz-n21.sls.50.216.IP)
[14:00:00] <penguin42> huon: Thanks
[14:00:04] <freefall> the book should probably make it obvious how to report issues with the book
[14:00:13] *** Quits: apocryph (apocryph@moz-mhe.96p.49.209.IP) (Ping timeout: 121 seconds)
[14:00:34] *** Quits: jdm (jdm@moz-ilbt2e.cable.teksavvy.com) (Quit: )
[14:00:37] <penguin42> freefall: But then you'd need to report an issue on the book to say how to report issues?
[14:00:50] *** Joins: apocryph (apocryph@moz-mhe.96p.49.209.IP)
[14:01:08] <mkpankov> freefall: how about filing an issue about mentioning how to file issues about the book?
[14:02:08] <steveklabnik> freefall: there's a bug open for that too!
[14:02:16] <steveklabnik> or at least, there was
[14:02:18] <mkpankov> hehe
[14:02:18] <steveklabnik> at some point
[14:02:27] <steveklabnik> A-rustbook ;)
[14:02:29] <steveklabnik> brb
[14:03:03] *** Joins: aftershave (textual@moz-jbfg59.priv.bahnhof.se)
[14:04:29] *** Joins: dstrbad_ (dstrbad@moz-6an0vh.dsl.iskon.hr)
[14:05:00] <soma> Hello! If I define fn foo<T>(); Could I match over T?
[14:05:15] *** Quits: marcusklaas (marcus@moz-14bm7d.upc-g.chello.nl) (A TLS packet with unexpected length was received.)
[14:05:21] *** Joins: Guest (textual@moz-o0j.d41.27.64.IP)
[14:05:28] *** Quits: lotia (lotia@moz-tht24n.monkey.org) (Ping timeout: 121 seconds)
[14:05:40] *** Joins: _ixti_ (ixti@moz-i3d.dae.119.188.IP)
[14:05:52] *** Quits: nedp (nedp@moz-vg6vvt.bigpond.net.au) (Connection closed)
[14:06:08] <ChrisMorgan> soma: no
[14:06:29] *** Joins: lotia (lotia@moz-tht24n.monkey.org)
[14:06:32] *** Joins: basicdays (basicdays@moz-vreeoj.cable.rcn.com)
[14:06:36] <ChrisMorgan> soma: the most you can do is constrain it to require that it implement certain traits.
[14:06:38] *** Joins: thiblahute (tsaunier@moz-68f5rr.rev.sfr.net)
[14:07:05] *** Quits: dstrbad (dstrbad@moz-30hd9v.dsl.iskon.hr) (Ping timeout: 121 seconds)
[14:07:24] *** Quits: errordeveloper (ilya@moz-8jq.ge6.157.37.IP) (Ping timeout: 121 seconds)
[14:07:45] *** Quits: ixti (ixti@moz-i3d.dae.119.188.IP) (Ping timeout: 121 seconds)
[14:07:46] <soma> ChrisMorgan: could I get the size of T?
[14:07:49] *** Quits: squiddy_ (squiddy@moz-md4.pm3.19.178.IP) (Quit: Leaving)
[14:08:02] <ChrisMorgan> soma: dynamically, yes: std::mem::size_of::<T>().
[14:08:55] <soma> ChrisMorgan: Why cannot we do it staticly
[14:09:07] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[14:09:26] *** Quits: Guest63_ (textual@moz-6gq.t8s.78.166.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[14:09:35] <ChrisMorgan> soma: numbers cannot be represented in the type system. That is, there’s no way of encoding “8” in types only.
[14:09:41] *** Quits: colinsurprenant (colin@moz-q9ee1n.74.electronicbox.net) (Client exited)
[14:10:05] *** Quits: alex-abreu (alex@moz-j54ho8.biz.rr.com) (Ping timeout: 121 seconds)
[14:10:08] *** brachy is now known as breiska
[14:10:22] *** Joins: Guest63 (textual@moz-qfs.570.70.83.IP)
[14:11:14] <Ms2ger> Associated constant? :)
[14:11:20] <frankmcsherry> ChrisMorgan: Church numerals!
[14:11:33] <soma> Ms2ger: yes
[14:12:00] <ChrisMorgan> frankmcsherry: I was thinking of that very thing even as I wrote it, but decided not to say anything about it.
[14:12:08] <frankmcsherry> ChrisMorgan: <3
[14:12:13] *** Joins: alex-abreu (alex@moz-j54ho8.biz.rr.com)
[14:12:34] *** Quits: Gabriel_7 (Gabriel@moz-po3t0n.loria.fr) (Connection closed)
[14:12:36] <penguin42> the type system feels like it's turing complete, I'm sure there are very silly things that can be done with it
[14:12:37] <ChrisMorgan> Ms2ger: there’s no way of *using* such things at compile time even if the feature existed. It’d require more features than just that.
[14:12:43] <steveklabnik> penguin42: it technically is
[14:12:43] <Ms2ger> ChrisMorgan is showing the better judgment here :)
[14:13:04] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[14:13:06] <ChrisMorgan> penguin42: there are, there definitely are some very silly things that can be done with it.
[14:13:08] *** Quits: mib_m7bjb0 (Mibbit@moz-mhe.96p.49.209.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[14:13:22] *** bentley is now known as bentley|away
[14:13:25] <ChrisMorgan> There are also some really awesome things you can do with it.
[14:15:08] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[14:15:44] *** Joins: agjacome (agjacome@moz-ma9sfa.dynamic.jazztel.es)
[14:17:19] *** Joins: thelastinuit (thelastinui@moz-doh.aqt.240.148.IP)
[14:17:52] *** Joins: laogao (laogao@moz-k1t.k7v.78.124.IP)
[14:18:14] *** Joins: housl (housl@moz-qnjt4k.ut.comcast.net)
[14:19:16] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[14:20:04] *** Joins: ucarion (ulyssecario@moz-muh9gi.c3v0.fbki.f140.2607.IP)
[14:21:24] *** Joins: grncdr (Adium@moz-m1g.e47.90.95.IP)
[14:24:08] *** Quits: ucarion (ulyssecario@moz-muh9gi.c3v0.fbki.f140.2607.IP) (Ping timeout: 121 seconds)
[14:26:47] *** Quits: thelastinuit (thelastinui@moz-doh.aqt.240.148.IP) (Quit: Textual IRC Client: www.textualapp.com)
[14:26:59] <grncdr> I get that all the stable things should remain stable for 1.0, but is there potential for any of the currently unstable things to become stable?
[14:27:31] <grncdr> I'm specifically looking at https://github.com/rust-lang/rust/blob/da2276e293359708b62bb489801cb9872d19d32f/src/libstd/env.rs#L468
[14:27:54] *** Joins: Gamecubic (cubic@moz-bglmk5.mc.videotron.ca)
[14:28:53] <grncdr> that seems like a very big thing to omit from 1.0.0 (or there's another way of setting the exit status that I'm unaware of)
[14:29:40] <hugod> grncdr: http://doc.rust-lang.org/std/process/fn.exit.html
[14:30:16] <grncdr> hugod: thanks
[14:30:27] <grncdr> I was unaware of that
[14:30:46] *** Quits: miyagi (blabla@moz-q9c9b2.tubit.tu-berlin.de) (Quit: leaving)
[14:30:52] *** Joins: claudiop (claudiop@moz-sqo2tm.cpe.netcabo.pt)
[14:31:09] *** bentley|away is now known as bentley
[14:32:07] *** Joins: veqz (veqz@moz-nvr8g6.209.getinternet.no)
[14:32:22] *** Quits: halosghost (halosghost@moz-fvb.hlb.3.192.IP) (Ping timeout: 121 seconds)
[14:33:07] *** Joins: errordeveloper (ilya@moz-8jq.ge6.157.37.IP)
[14:33:12] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[14:33:12] *** Joins: halosghost (halosghost@moz-fvb.hlb.3.192.IP)
[14:34:16] *** Joins: mnemnion (mnemnion@moz-e8rfii.ca.comcast.net)
[14:34:19] *** Joins: madmalik (uid13697@moz-lfin5p.brockwell.irccloud.com)
[14:34:49] <hugod> I'm trying to create a struct to hide an implementation detail (parse_sess), but can't get the lifetimes to work http://is.gd/LapvWZ (obviously can't work as written, but I don't know how to make it work).  Any clues?
[14:34:57] *** Joins: colinsurprenant (colin@moz-rmn4e2.169.electronicbox.net)
[14:35:19] *** Joins: hkr (hkr@moz-df8.2sb.216.117.IP)
[14:35:21] *** Quits: sbditto85 (Mibbit@moz-n21.sls.50.216.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[14:36:04] *** Joins: btobolaski (btobolaski@moz-ltbh80.va.comcast.net)
[14:36:16] <hkr> Hiya
[14:38:00] <kimundi> hugod: In line 42 you are creating the sess value locally in the function, and then want to return a reference to that stack value. That won't work, you have to take a sess reference withe lifetime 'a in the constructor to return the Context<'a>
[14:39:08] *** Joins: Quanttek (quassel@moz-il23im.dynamic.kabel-deutschland.de)
[14:40:25] *** Quits: laogao (laogao@moz-k1t.k7v.78.124.IP) (Connection closed)
[14:42:19] *** Quits: tcard (tcard@moz-5eb1g3.staticIP.rima-tde.net) (Connection closed)
[14:42:31] *** Joins: ucarion (ulyssecario@moz-1tj21f.c3v0.fbki.f140.2607.IP)
[14:42:36] *** Joins: Guest58 (textual@moz-tb1fm9.us.xo.net)
[14:42:43] *** Joins: tcard (tcard@moz-5eb1g3.staticIP.rima-tde.net)
[14:43:25] *** Joins: mjboa (mike@moz-gfdglf.hsi06.unitymediagroup.de)
[14:43:37] *** Joins: kvark (Mibbit@moz-p3c.rcb.221.216.IP)
[14:44:07] *** Joins: mdibaiee (mahdi@moz-8oo.182.244.151.IP)
[14:44:17] *** Joins: jdm (jdm@moz-4vu.06r.98.75.IP)
[14:44:17] *** ChanServ sets mode: +o jdm
[14:44:17] *** Quits: Guest58 (textual@moz-tb1fm9.us.xo.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[14:44:20] <kvark> Hello! I need a zero lifetime. Please tell me it exists, or at least planned.
[14:44:28] <simias> kvark: what does it mean?
[14:44:30] <simias> zero lifetime
[14:44:31] *** Joins: new_one (new_one@moz-ick.9e1.42.128.IP)
[14:44:36] <hugod> kimundi: I was trying to avoid passing sess to Context::new, and somehow create it and keep it alive in Context.
[14:44:44] *** Joins: terpstra (terpstra@moz-290p6a.gsi.de)
[14:45:07] <kimundi> hugod: thats not possible to do with references
[14:45:16] <kvark> simias: a lifetime of objects that don't exist, a lifetime included in any other lifetime (so that you don't need to specify it as a type bound if a type is generic)
[14:45:20] *** Quits: terpstra (terpstra@moz-290p6a.gsi.de) (Quit: Leaving)
[14:45:21] *** Joins: Guest58 (textual@moz-tb1fm9.us.xo.net)
[14:45:23] *** Joins: terpstra (terpstra@moz-290p6a.gsi.de)
[14:46:02] *** Joins: sfusco (Adium@moz-io3.np5.78.208.IP)
[14:46:22] <hugod> kimundi: ok, thanks
[14:46:35] *** Quits: ucarion (ulyssecario@moz-1tj21f.c3v0.fbki.f140.2607.IP) (Ping timeout: 121 seconds)
[14:46:47] <kimundi> kvark: I don't think there is a way to get such a lifetime in Rust
[14:47:02] <scott> kvark: why do you want that? a &'nonexistent T reference would be unconstructable
[14:47:15] *** Joins: agarie (agarie@moz-coa.g2h.32.177.IP)
[14:47:15] <kvark> scott: for an empty vector of references
[14:47:31] <kvark> kimundi: that makes me very sad... why do you think so?
[14:47:58] <scott> you can just make it whatever lifetime it needs to be, why make it 'nonexistent?
[14:48:03] <mkpankov> kvark: why just vec![] doesn't suit you?
[14:48:07] <kimundi> kvark: well as scott said, it would not be useful - its impossible to ever have such a value
[14:48:28] <kvark> kimundi: I don't have any references of such a value, so there is no contradiction
[14:48:40] <kvark> I only have a type that uses the references
[14:48:44] <scott> if you want an empty Vec of unconstructable values, then define enum Void {} and use Vec<Void>
[14:49:06] <scott> not sure why you would, though
[14:49:23] <kvark> Vec<&'a T>
[14:49:38] <kvark> I want to re-use it with different lifetimes
[14:49:42] *** bentley is now known as bentley|away
[14:50:00] <kvark> eddyb already suggested to go with Vec::with_capacity_from(Vec<T>) -> Vec<U> method, which sounds promising
[14:50:03] <kimundi> Ah, that makes sense
[14:50:22] <kimundi> would be unsafe internals either way though, right?
[14:50:33] <kvark> right, isolated though
[14:50:38] <kimundi> yeah
[14:50:39] *** Joins: ytain (ytain@moz-ge9fgi.dsl.teksavvy.com)
[14:50:41] *** Quits: Guest58 (textual@moz-tb1fm9.us.xo.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[14:50:45] *** Joins: Guest58 (textual@moz-tb1fm9.us.xo.net)
[14:50:46] <scott> hmm, with_capacity_from is cool. I hadn't heard of that before
[14:51:23] *** Joins: Tarmashirin (Tarmashirin@moz-rue.8s5.91.59.IP)
[14:51:29] *** Joins: Jackneill (Jackneill@moz-j386q9.pool.digikabel.hu)
[14:52:21] *** Quits: Temur (Tarmashirin@moz-rue.8s5.91.59.IP) (Connection closed)
[14:52:30] <kvark> I'll make a discourse topic anyway. Something tells me that with_capacity_from is not going to save me
[14:53:51] <scott> kvark: why do you want to reuse an empty Vec?
[14:54:07] <kvark> scott: it has capacity
[14:54:13] <scott> ah ok
[14:54:39] *** Joins: nott (nott@moz-to4.06o.57.86.IP)
[14:54:58] <dschatzberg> is there an unsafe option.unwrap() that I'm not seeing?
[14:55:13] <kimundi> dschatzberg: afaik no, but there could be
[14:55:30] *** Joins: winding-lines (textual@moz-40l.ob1.22.8.IP)
[14:55:32] <scott> what would it do?
[14:55:50] *** Quits: arBmind1 (Andreas@moz-1svgvd.adsl.alicedsl.de) (Ping timeout: 121 seconds)
[14:55:52] <scott> not check the variant?
[14:55:55] <kimundi> probably be undefined for None values
[14:55:58] <dschatzberg> ^
[14:56:01] <kimundi> and not check variant, yeah
[14:56:05] <scott> seems reasonable
[14:56:06] <kimundi> hmmm
[14:56:14] <scott> LLVM can optimize the check out in some cases
[14:56:50] <kimundi> playbot: fn unwrap<T>(v: Option<T>) -> T { match v { Some(v) => v, None => loop {} } } unwrap(Some(5))
[14:56:52] -playbot- 5
[14:56:55] <kimundi> dschatzberg: ^
[14:57:15] * kimundi wonders if that ends up optimizing well
[14:57:19] *** Joins: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net)
[14:57:24] <dschatzberg> need that unreachable intrinsic
[14:58:01] <dschatzberg> that won't optimize out the conditional
[14:58:18] <kimundi> yeah, I guess
[14:58:40] <kimundi> we have that intrinsic now, right?
[14:58:42] *** Quits: kvsari (kvsari@moz-fgsnv9.bbtec.net) (Connection closed)
[14:58:45] *** Quits: Guest58 (textual@moz-tb1fm9.us.xo.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[14:58:52] <dschatzberg> core::intrinsics::unreachable is unstable
[14:59:05] <kimundi> ah
[14:59:11] *** Quits: winding-lines (textual@moz-40l.ob1.22.8.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[14:59:18] <dschatzberg> is there a reason not to have it as a method of Option?
[14:59:30] *** Joins: nano (nano@moz-00j6et.dynamic.kabel-deutschland.de)
[14:59:39] <kimundi> none that I know off except low demand
[14:59:50] <kimundi> ie, you might just get away with openening a PR for it
[14:59:56] *** Quits: nott (nott@moz-to4.06o.57.86.IP) (Ping timeout: 121 seconds)
[14:59:56] *** Quits: xororor (sinkuu@moz-plko6e.eonet.ne.jp) (Quit: WeeChat 1.1.1)
[15:00:10] <kimundi> unwrap_unchecked()
[15:00:19] *** Joins: Guest58 (textual@moz-tb1fm9.us.xo.net)
[15:00:44] <scott> there is an unreachable!() macro iirc
[15:00:50] <dschatzberg> that panics
[15:00:53] <dschatzberg> its not what we want
[15:00:59] *** Quits: sonder (chatzilla@moz-nt8r49.idi.ntnu.no) (Ping timeout: 121 seconds)
[15:00:59] <scott> doesn't it only panic in debug mode?
[15:01:06] <soma> Hello! How can I import all items except Foo?
[15:01:07] *** Quits: idegen (greg@moz-9c4nle.or.frontiernet.net) (Quit: Leaving.)
[15:01:17] <dschatzberg> scott: "This will always panic."
[15:01:19] *** Joins: idegen (greg@moz-9c4nle.or.frontiernet.net)
[15:01:22] <scott> hm
[15:01:42] *** Parts: kvark (Mibbit@moz-p3c.rcb.221.216.IP) ()
[15:02:09] <kimundi> soma: there is not way to do that in one line
[15:02:29] <kimundi> you'd have to manually import all items except Foo
[15:02:35] <folsen> If anyone feels proficient in the parser_combinators library I'd appreciate some help on this thing: http://stackoverflow.com/questions/29922918/using-parser-combinators-to-parse-string-with-escaped-characters
[15:02:42] <kimundi> (I expect that such a feature gets added at soem point though)
[15:03:50] *** Joins: nott (nott@moz-to4.06o.57.86.IP)
[15:04:09] *** Joins: Izacht13 (Izacht13@moz-oqb.nch.45.199.IP)
[15:04:10] *** Quits: Quanttek (quassel@moz-il23im.dynamic.kabel-deutschland.de) (Ping timeout: 121 seconds)
[15:04:18] <scott> dschatzberg: if you do something simple like let x = Some(y); let z = x.as_ref().unwrap(); like someone asked about the other day, that surely optimizes out the check. but fair enough if you're doing something more complicated where you know for sure and LLVM doesn't
[15:04:27] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Connection closed)
[15:04:33] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[15:04:43] *** Quits: if_e1se (uid16886@moz-js7dlj.uxbridge.irccloud.com) (Quit: Connection closed for inactivity)
[15:04:48] *** Quits: Guest67 (textual@moz-8aocg9.ri.cox.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[15:05:31] <dschatzberg> scott: yeah, I'm concerned about cases where I know that two options can either both be Some or both be None, but not one or the other
[15:06:05] *** Quits: wei2912 (wei2912@moz-i44.ats.156.175.IP) (Quit: Lost terminal)
[15:06:20] *** Joins: dfinninger (dfinninger@moz-fe6.5n7.235.207.IP)
[15:06:37] *** Joins: Guest67 (textual@moz-8aocg9.ri.cox.net)
[15:06:46] *** Joins: _queue (queue@moz-k2g.0bf.2.129.IP)
[15:07:36] *** Quits: laumann (thomas@moz-3v9.hq0.225.130.IP) (Ping timeout: 121 seconds)
[15:08:24] *** Quits: Tarmashirin (Tarmashirin@moz-rue.8s5.91.59.IP) (Connection closed)
[15:08:45] *** Joins: nico (nico@moz-69jj7k.dip0.t-ipconnect.de)
[15:08:57] <hkr> So is rust a good first language?
[15:09:12] <Hyeon> I think so
[15:09:16] <hkr> I know basic C... thats all.
[15:09:18] *** Quits: fabianvf (fabianvf@moz-j12.dim.197.216.IP) (Connection closed)
[15:09:27] <kimundi> hkr: then its good enough I'd say
[15:09:36] <hkr> great
[15:09:54] <hkr> should I try out rust by example or the rust docs first?
[15:10:15] *** Joins: sysko (bst@moz-cpv.glf.227.116.IP)
[15:10:18] <kimundi> I wouldn't necessarily recommend Rust for people that don't know anything about programming yet, but basic C is certainly enough
[15:10:36] <kimundi> hkr: rust by example is a bit unmaintained atm, so I'd go through the book first
[15:10:41] *** Quits: Izacht13 (Izacht13@moz-oqb.nch.45.199.IP) (Quit: Leaving)
[15:10:44] *** Quits: dstrbad_ (dstrbad@moz-6an0vh.dsl.iskon.hr) (A TLS packet with unexpected length was received.)
[15:10:55] <Manishearth> tomaka: just got a notification for https://www.elance.com/j/rust-phonegap/72231047/ . You might be interested since you're good with the android stuff
[15:11:03] <hkr> how fast are the docs updates with the changes? 
[15:11:06] <kimundi> "book" as in the rust docs, preferably the nightly ones to be up to date
[15:11:14] <hkr> if a new version comes out, will the docs be immediately updated
[15:11:20] <steveklabnik> so
[15:11:30] <steveklabnik> rust is a few weeks away from not changing things
[15:11:38] <steveklabnik> so that kind of thing doesn't happen anymore
[15:11:43] <hkr> :D I know 
[15:11:47] *** Joins: dstrbad (dstrbad@moz-6an0vh.dsl.iskon.hr)
[15:11:51] <hkr> I'm waiting for 1.0 to start learning anyways.
[15:11:57] <hkr> Becuase I have some shitty exams now :(
[15:12:02] <steveklabnik> we _generally_ will want docs as part of landing features
[15:12:08] <steveklabnik> historically that hasn't always happneed
[15:12:23] <kimundi> hkr: at this point its not so much keeping up with changes anymore as properly writing up whats there
[15:12:24] <steveklabnik> but, nothing in the book should be _wrong_ as new things come out
[15:12:28] <steveklabnik> yeah
[15:13:00] <tomaka> Manishearth: thanks
[15:13:02] <kimundi> right now all new doc stuff lands in the nighly docs though, it doesn't get automatically backported to the beta/stable release yet
[15:13:24] <tomaka> Manishearth: I'm not interested, but I appreciate the message :)
[15:13:43] <hkr> kimundi: so the nightly docs are updated?
[15:13:49] <kimundi> yes
[15:13:52] <steveklabnik> they're automatically updated every evning
[15:14:06] *** Quits: mdibaiee (mahdi@moz-8oo.182.244.151.IP) (Ping timeout: 121 seconds)
[15:14:08] <hkr> and what other open source projects are there besides servo that uses rust exclusively
[15:14:33] <kimundi> hkr: depends on how you count... :)
[15:14:53] <claudiop> Hello. I want to use std::net to test something, yet it has a note on its api page "This module is very much a work in progress and is under active development". Is it better to go with rust nightly or beta is fine?
[15:15:14] <kimundi> seeing how RUst itself is a open source project using rust, and there i a growing library ecosystem around RUst that all also use RUst exclusivly
[15:15:48] <hkr> no thanks
[15:15:51] <steveklabnik> claudiop: each particular API has a stability marker
[15:15:55] <hkr> hope 1.0 makes rust super popular
[15:15:57] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[15:15:57] <hkr> like go
[15:16:18] <Wqer> Go is popular?
[15:16:24] <scott> kimundi: did you just make the same typo 3 times? :P
[15:16:25] <steveklabnik> claudiop: if it says nothing, it's stable. if it's unstable, it will look like this: http://doc.rust-lang.org/nightly/std/net/struct.TcpStream.html#method.set_keepalive
[15:16:35] <hkr> well a lot more people know of it
[15:16:38] <steveklabnik> claudiop: if it's unstable, you have to use nightly
[15:16:40] <hkr> than rust or swift, I hear
[15:16:45] *** Joins: Temur (Tarmashirin@moz-rue.8s5.91.59.IP)
[15:16:46] <claudiop> steveklabnik, std::net is tagged stable, but that note is concerning me
[15:16:57] <steveklabnik> claudiop: i'm gonna go remove it right now
[15:16:59] *** Quits: soma (Mibbit@moz-ef5.7ab.191.107.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[15:17:07] *** Joins: druzac (druzac@moz-hn17us.vc.shawcable.net)
[15:17:11] <Wqer> hkr: https://github.com/search?utf8=%E2%9C%93&q=language%3ARust
[15:17:43] <claudiop> steveklabnik, Okey... Then I guess i can go with beta :)
[15:18:11] <kimundi> scott: Yes :P Thats not that unexpected actually, seeing how this typo is a result of me being uncoordinated pressing and releasing shift. I really need to take a proper ten finger typing course, instead of my self-taught mess of key smashing...
[15:19:16] *** Joins: duncan (paul@moz-dst.ms6.225.173.IP)
[15:21:08] *** Quits: tcard (tcard@moz-5eb1g3.staticIP.rima-tde.net) (Connection closed)
[15:21:17] *** Quits: vodik (simon@moz-86ind4.dedicated.allstream.net) (Connection closed)
[15:21:31] *** Joins: tcard (tcard@moz-5eb1g3.staticIP.rima-tde.net)
[15:21:31] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[15:21:48] *** Quits: Temur (Tarmashirin@moz-rue.8s5.91.59.IP) (Ping timeout: 121 seconds)
[15:22:02] *** Quits: Lilly (Lilly@moz-pfkvo9.bredband.comhem.se) (Quit: bajs)
[15:22:47] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[15:23:03] <Manishearth> kimundi: RUst is a perfect acronym for Rust's compilation speed
[15:23:04] *** Quits: hebz0rl (hebz0rl@moz-cfcrtj.static.qsc.de) (Quit: Leaving)
[15:23:07] <Manishearth> i.e., RU still there?
[15:23:14] <kimundi> haha
[15:23:17] *** Joins: Temur (Tarmashirin@moz-rue.8s5.91.59.IP)
[15:23:39] *** Quits: agarie (agarie@moz-coa.g2h.32.177.IP) (Connection closed)
[15:24:29] *** Joins: NuKeeSiMoHD (NuKeeSiMoH@moz-lo7.81g.235.95.IP)
[15:24:35] <NuKeeSiMoHD> ciao
[15:24:40] <NuKeeSiMoHD> !lista
[15:25:16] *** Joins: tomprogrammer (thomas@moz-cj6g1f.tr5r.qept.4dd0.2001.IP)
[15:25:56] *** Parts: NuKeeSiMoHD (NuKeeSiMoH@moz-lo7.81g.235.95.IP) ()
[15:26:27] *** Quits: happy-dude_ (uid62780@moz-jt3517.charlton.irccloud.com) (Quit: Connection closed for inactivity)
[15:27:24] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[15:28:57] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Ping timeout: 121 seconds)
[15:28:57] *** Quits: tcard (tcard@moz-5eb1g3.staticIP.rima-tde.net) (Connection closed)
[15:29:09] *** Quits: nott (nott@moz-to4.06o.57.86.IP) (Ping timeout: 121 seconds)
[15:29:32] *** Joins: debuuu (debuuu@moz-pt8.ma2.149.80.IP)
[15:29:56] *** Joins: tcard (tcard@moz-5eb1g3.staticIP.rima-tde.net)
[15:31:01] *** Joins: laumann (thomas@moz-n9e72h.0.fullrate.dk)
[15:33:00] *** Joins: mib_n9hdjw (Mibbit@moz-jrnkuk.cordernet.com)
[15:33:05] *** Joins: m104ru (m104ru@moz-sje.6lq.205.109.IP)
[15:33:10] *** Quits: konsolebox (konsolebox@moz-lpd.tgb.198.112.IP) (Ping timeout: 121 seconds)
[15:33:10] *** Joins: jbcurtin (jbcurtin@moz-lskisb.LosAngeles1.Level3.net)
[15:33:43] *** Joins: hjr3 (hradtke@moz-lei.av4.169.69.IP)
[15:33:58] *** Joins: JagaJaga (JagaJaga@moz-ua8.hhl.62.178.IP)
[15:34:54] *** Joins: sayan (sayan@moz-623.k50.51.106.IP)
[15:35:18] *** Joins: brontron4k (brontron@moz-0pqlmn.ph.cox.net)
[15:35:33] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[15:36:03] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[15:36:17] *** Quits: hkr (hkr@moz-df8.2sb.216.117.IP) (Quit: WeeChat 1.1.1)
[15:36:54] *** Joins: vodik (simon@moz-86ind4.dedicated.allstream.net)
[15:36:58] *** Joins: rfnash (weechat@moz-ulk8um.in.comcast.net)
[15:37:00] *** Joins: nil (nil@moz-71pd10.p5sj.b1d9.0003.2601.IP)
[15:37:04] *** Quits: bitonic (bitonic@moz-cdh3tf.28-151.libero.it) (Connection closed)
[15:37:11] *** Joins: agarie (agarie@moz-coa.g2h.32.177.IP)
[15:37:14] <mindtree> would an EnumSet be a preferable type-safe replacement for bit flags? or do they serve very different roles?
[15:37:40] *** Joins: lenstr (lenstr@moz-s8k.vju.25.171.IP)
[15:37:43] *** Joins: aepsil0n (eduard@moz-g8ss54.mv2h.pepi.8071.2a02.IP)
[15:37:46] <mkpankov> hey, another issue of "Lost in Translation" here
[15:37:51] <mkpankov> why crate was named so?
[15:37:52] *** Joins: gandalf (zbraniecki@moz-cp7c4m.ca.comcast.net)
[15:37:53] *** Joins: kgrandon (Adium@moz-9o8gp0.hjek.d045.0009.2601.IP)
[15:37:57] <mkpankov> why not, say, container?
[15:38:04] <mkpankov> or "package"?
[15:38:05] *** Quits: mib_n9hdjw (Mibbit@moz-jrnkuk.cordernet.com) (Quit: http://www.mibbit.com ajax IRC Client)
[15:38:11] *** Quits: Palmik (palmik@moz-rlhm05.vpn.muni.cz) (Ping timeout: 121 seconds)
[15:38:16] *** Quits: lenstr (lenstr@moz-s8k.vju.25.171.IP) (Quit: Leaving...)
[15:38:30] *** Quits: ebel (rory@moz-l1ldq7.hsi4.kabel-badenwuerttemberg.de) (Connection closed)
[15:38:40] *** Quits: jgallagher (john@moz-6ge.dhn.131.24.IP) (Ping timeout: 121 seconds)
[15:38:40] <Ms2ger> Why not?
[15:39:01] <mkpankov> well, dunno, maybe there's specific reason?
[15:39:12] <mkpankov> usually terms are more-or-less the same in all languages
[15:39:13] *** Joins: Palmik (palmik@moz-ggdnvc.vpn.muni.cz)
[15:39:21] <mindtree> mkpankov: gems?
[15:39:34] <mkpankov> mindtree: nice example
[15:39:35] <mindtree> eggs?
[15:39:37] <mindtree> haha
[15:39:43] <mkpankov> yeah, forgot about that
[15:39:51] *** Quits: frankmcsherry (frankmcsher@moz-rkbskv.airspot.airfy.com) (Connection closed)
[15:40:06] <mkpankov> but these are interpreted languages
[15:40:09] <kimundi> mkpankov: It seems that many languages invent their own thematic vocabulary about these things
[15:40:20] <mindtree> cr8s
[15:40:23] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Quit: It's a joke, it's all a joke.)
[15:40:25] <mkpankov> lol
[15:41:02] <Ms2ger> cr9s
[15:41:12] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[15:41:33] <mkpankov> we just got into argument of "you shouldn't translate crates as containers", because containers are data structures, virtualization containers, media format containers and so on
[15:41:39] <mkpankov> trying to get around this
[15:42:24] <Ms2ger> Krat?
[15:42:41] <mkpankov> err what? :)
[15:42:47] <Ms2ger> Misguessed :)
[15:42:55] *** Quits: alonlevy (alon@moz-hsidit.cablep.bezeqint.net) (Ping timeout: 121 seconds)
[15:43:13] <mkpankov> yep, translating to Russian, in case guessing that was your intention :)
[15:43:19] *** Joins: ucarion (ulyssecario@moz-j781cq.c3v0.fbki.f140.2607.IP)
[15:43:20] <mkpankov> so no Krat
[15:44:31] *** Quits: brontron4k (brontron@moz-0pqlmn.ph.cox.net) (Ping timeout: 121 seconds)
[15:45:44] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[15:46:29] *** Quits: pnkfelix (pnkfelix@moz-6v5.3nd.202.89.IP) (Ping timeout: 121 seconds)
[15:46:35] *** Quits: agarie (agarie@moz-coa.g2h.32.177.IP) (Connection closed)
[15:46:40] *** Joins: agarie (agarie@moz-coa.g2h.32.177.IP)
[15:47:15] *** Joins: happy-dude_ (uid62780@moz-jt3517.charlton.irccloud.com)
[15:47:23] *** Quits: ucarion (ulyssecario@moz-j781cq.c3v0.fbki.f140.2607.IP) (Ping timeout: 121 seconds)
[15:47:52] *** Quits: MaxV (MaxV@moz-1nu.kln.167.83.IP) (Connection closed)
[15:47:57] *** Joins: fabianvf (fabianvf@moz-j12.dim.197.216.IP)
[15:48:11] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[15:48:11] *** ChanServ sets mode: +o erickt
[15:48:33] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[15:49:10] *** Joins: andresv (textual@moz-4r9jdi.ca.comcast.net)
[15:49:47] *** Quits: daschl (Adium@moz-oirn1i.vie.surfer.at) (Quit: Leaving.)
[15:52:07] *** Quits: yuja (yuja@moz-5pp8ro.so-net.ne.jp) (Ping timeout: 121 seconds)
[15:52:07] *** Quits: tcard (tcard@moz-5eb1g3.staticIP.rima-tde.net) (Connection closed)
[15:52:34] *** Joins: tcard (tcard@moz-5eb1g3.staticIP.rima-tde.net)
[15:53:12] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[15:53:50] *** Joins: ZenSword (ZenSword@moz-hlrta3.pools.vodafone-ip.de)
[15:53:51] *** Joins: pnkfelix (pnkfelix@moz-6v5.3nd.202.89.IP)
[15:53:52] *** ChanServ sets mode: +o pnkfelix
[15:54:15] *** Quits: agarie (agarie@moz-coa.g2h.32.177.IP) (Connection closed)
[15:55:19] *** Joins: rbranson (rbranson@moz-oeg7f0.ca.comcast.net)
[15:56:09] *** Joins: Gabriel_7 (Gabriel@moz-hue0qb.mtgr.92aj.0e35.2a01.IP)
[15:56:28] *** Quits: debuuu (debuuu@moz-pt8.ma2.149.80.IP) (Ping timeout: 121 seconds)
[15:56:37] *** Joins: mdibaiee (mahdi@moz-ipf.n3s.129.78.IP)
[15:56:39] *** Quits: Guest58 (textual@moz-tb1fm9.us.xo.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[15:57:20] *** Quits: Guest63 (textual@moz-qfs.570.70.83.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[15:57:21] *** Joins: Guest58 (textual@moz-tb1fm9.us.xo.net)
[15:57:59] *** Joins: _td (tatterdemal@moz-a0dnkb.ca.comcast.net)
[15:58:15] *** Joins: Guest63 (textual@moz-qfs.570.70.83.IP)
[15:58:48] <hugod> erickt: is it possible to use aster and quasi with syntex?
[15:59:04] <erickt> hugod: I'm literally working on that right now :)
[15:59:21] *** Quits: rbranson (rbranson@moz-oeg7f0.ca.comcast.net) (Ping timeout: 121 seconds)
[15:59:21] *** Joins: Tarmashirin (Tarmashirin@moz-rue.8s5.91.59.IP)
[15:59:21] <hugod> erickt: goodie :)
[15:59:32] *** Quits: druzac (druzac@moz-hn17us.vc.shawcable.net) (Ping timeout: 121 seconds)
[15:59:40] *** Quits: Guest63 (textual@moz-qfs.570.70.83.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[15:59:43] *** Quits: Temur (Tarmashirin@moz-rue.8s5.91.59.IP) (Connection closed)
[15:59:54] *** Quits: andresv (textual@moz-4r9jdi.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[16:00:17] *** Joins: tomleb (tomleb@moz-7n1.40h.168.198.IP)
[16:00:55] *** Joins: andresv (textual@moz-4r9jdi.ca.comcast.net)
[16:00:56] *** Joins: SilverKey (SilverKey@moz-b7q751.biz.rr.com)
[16:01:26] *** Joins: lutter1 (lutter@moz-7v7ueu.PUBLIC.monkeybrains.net)
[16:01:31] <erickt> hugod: I'm very much so not done, but I've pushed up syntex branches to aster and quasi that kinda-sorta-maybe-work
[16:01:47] <erickt> branches named "syntex", should have been more clear
[16:01:53] <hoverbear> Slightly off topic, but if anyone here hasn't used Mosh it's incredible, I haven't had to re-connect to my SSH session in days!
[16:01:57] *** Quits: mnemnion (mnemnion@moz-e8rfii.ca.comcast.net) (Connection closed)
[16:01:58] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[16:02:29] <hugod> erickt: thanks - I'll take a look
[16:02:36] *** Joins: Douman (Douman@moz-70r6na.dynamic.mts-nn.ru)
[16:02:38] <tomleb> What does extern { #[link_name = "_open"] ... } means ? 
[16:03:10] <kimundi> tomleb: I assume that attribute is followed by a function?
[16:03:18] <tomleb> kimundi: Yeah
[16:03:21] <erickt> hugod: theoretically it should be possible to have aster and quasi optionally compile against either libsyntax or syntex, at least until we diverge from the upstream library
[16:03:34] <Ms2ger> So I think it's really cool that cargo encourages small packages
[16:03:44] <Ms2ger> What's not cool is 1200-line Cargo.locks
[16:03:45] *** Quits: _td (tatterdemal@moz-a0dnkb.ca.comcast.net) (Ping timeout: 121 seconds)
[16:03:54] <kimundi> tomleb: the link name attribute is used to tell rustc to use a different symbol name than the identifier used for the name
[16:04:00] <Ms2ger> What's worse is rebasing changes to one
[16:04:07] *** Joins: meh (meh@moz-p5gc2m.42-151.net24.it)
[16:04:14] *** Quits: qwerty_nor (Thunderbird@moz-vuo.d5a.248.5.IP) (Connection closed)
[16:04:22] <steveklabnik>  id never do that by hand
[16:04:25] *** Joins: qwerty_nor (Thunderbird@moz-vuo.d5a.248.5.IP)
[16:04:31] <steveklabnik> i'd nuke the lock and just re-build
[16:04:33] *** Quits: pnkfelix (pnkfelix@moz-6v5.3nd.202.89.IP) (Connection closed)
[16:04:42] *** Quits: hoony (Thunderbird@moz-0oo.sbr.128.121.IP) (Ping timeout: 121 seconds)
[16:04:42] *** Quits: andresv (textual@moz-4r9jdi.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[16:04:43] <kimundi> tomleb: that is, #[link_name = "_open"] fn foo() {} means rust code sees a function named foo, while extern code and such export/see a function named _open
[16:04:47] <hoverbear> steveklabnik: That doesn't work so well when they're all broken on nightly. :-P
[16:04:53] <steveklabnik> :)
[16:04:59] *** Quits: laumann (thomas@moz-n9e72h.0.fullrate.dk) (Ping timeout: 121 seconds)
[16:04:59] <Ms2ger> The only thing that's worse is rebasing changes to three of them
[16:05:08] *** Quits: acgtyrant (acgtyrant@moz-3kd.b79.160.124.IP) (Ping timeout: 121 seconds)
[16:05:24] <kimundi> Ms2ger: Why are you rebasing changes to a Cargo.lock?
[16:05:32] <hoverbear> Ms2ger: Why not 4?
[16:05:37] <tomleb> kimundi: Ok, but where does it find that function? because I believe it's a C function, since I'm in the libc lib.rs
[16:05:44] <Ms2ger> kimundi, Servo rustup
[16:05:56] *** Joins: daschl (Adium@moz-oirn1i.vie.surfer.at)
[16:06:30] <Ms2ger> It's not like we update to tip of master for all those
[16:06:30] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[16:06:51] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[16:06:58] <kimundi> tomleb: right, extern blocks are for telling rustc that there is a function with that signature linked in to the executable that you want to call. the actual function will not be visible inside the rust source, its some kind of compiled library that is bassed to rustc as a command line argument
[16:07:17] *** Quits: Hannibal_Smith (nico@moz-ucg29b.retail.telecomitalia.it) (Quit: Leaving)
[16:08:22] <kimundi> tomleb: in the case of liblibc, rustc links with a C std lib
[16:08:50] <tomleb> So if I understand correctly, the open function with a link name of _open would find an external library named open?
[16:09:43] *** Quits: guewen (guewen@moz-ftf7u4.cust.swisscom.ch) (Quit: Leaving...)
[16:09:44] *** Quits: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[16:09:48] *** Joins: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net)
[16:09:50] *** Quits: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net) (Connection closed)
[16:09:55] *** Quits: munksgaard (munksgaard@moz-3v9.hq0.225.130.IP) (Ping timeout: 121 seconds)
[16:10:00] <Ms2ger> No, _open
[16:10:02] *** Joins: munksgaard (munksgaard@moz-3v9.hq0.225.130.IP)
[16:10:02] *** Joins: Fiveside (fiveside@moz-t2eatg.vsp.com)
[16:10:15] *** Joins: hoony (Thunderbird@moz-0oo.sbr.128.121.IP)
[16:10:22] *** Joins: O01eg (o01eg@moz-vdhhdg.f0so.4n8f.2698.2a02.IP)
[16:10:40] <kimundi> tomleb: not really - extern crate { #[link_name="_open"] fn open() } would look for a linked-in function symbol "_open" and allow Rust code to call it as the function "open"
[16:10:50] *** Quits: timonv (timonv@moz-7btgcn.dynamic.ziggo.nl) (Ping timeout: 121 seconds)
[16:10:51] *** Joins: ryanxcharles (ryan@moz-lcf.eq6.124.64.IP)
[16:10:53] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[16:10:59] <kimundi> and the name of the library that exposes the _open symbol is irrelevant
[16:12:25] <kimundi> err, just `extern { ... }`, not `extern crate { ... }`
[16:12:41] <tomleb> kimundi: Why is it irrelevant? Does that function  links the C open function that Unix has to the open function for rust?
[16:12:44] *** Quits: reed (reed@tech.monkey) (RecvQ exceeded)
[16:13:10] *** Joins: reed (reed@tech.monkey)
[16:13:38] <tomleb> kimundi: Yeah it's just extern, you can find the line I'm looking in rustsrc/liblibc/lib.rs at line 5360
[16:13:44] <kimundi> tomleb: its irrelevant because the compiler does not care where the _open symbol comes from. Its either there or not.
[16:13:57] *** Quits: sayan (sayan@moz-623.k50.51.106.IP) (Ping timeout: 121 seconds)
[16:13:57] <tomleb> Oh I see
[16:14:11] *** Quits: munksgaard (munksgaard@moz-3v9.hq0.225.130.IP) (Ping timeout: 121 seconds)
[16:14:21] *** Joins: Quanttek (quassel@moz-il23im.dynamic.kabel-deutschland.de)
[16:15:08] *** Joins: debuuu (debuuu@moz-pt8.ma2.149.80.IP)
[16:15:25] *** Joins: dylan (dylan@moz-l63.iv5.240.50.IP)
[16:15:45] *** dylan is now known as Guest34215
[16:16:01] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[16:16:22] *** Quits: edu (ed@moz-tfl2qt.cust.tele2.at) (Ping timeout: 121 seconds)
[16:16:41] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[16:17:09] *** Joins: GaryOak_ (GaryOak_@moz-etoj16.hfc.comcastbusiness.net)
[16:17:10] <tomleb> I just want to make sure I understand correctly, when I compiled rust, an attribute name or wtv named "_open" was given to the compiler which linked to the C library from my os. This linked to the function to rust?
[16:17:15] *** Quits: scialex (scialex@moz-j5mi8i.cs.brown.edu) (Quit: Leaving)
[16:17:17] *** Quits: dstrbad (dstrbad@moz-6an0vh.dsl.iskon.hr) (A TLS packet with unexpected length was received.)
[16:17:39] <hugod> erickt: looks like quasi_macros will need syntex to implement register_macro
[16:17:52] <tomleb> which is why it is irrelevant where that links to, because it was linked when it compiled and now it does not matter.
[16:17:58] <erickt> hugod: oops, forgot to also push that up
[16:18:23] *** Joins: dstrbad (dstrbad@moz-6an0vh.dsl.iskon.hr)
[16:18:29] <kimundi> tomleb: I'm not really sure if thats right or not, the way you formulated it. :)
[16:19:36] *** ahal is now known as ahal|lunch
[16:19:40] <tomleb> kimundi: Should I reformulate? ahah
[16:20:32] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[16:20:34] <tomleb> I just wanted to know how it "open" a file using "open". So basically open actually call a C function right? lol
[16:20:48] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[16:20:51] *** Joins: pcwalton (pcwalton@moz-nh2.o1i.216.216.IP)
[16:20:51] *** ChanServ sets mode: +ao pcwalton pcwalton
[16:20:58] *** Joins: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net)
[16:22:10] <kimundi> tomleb: when the compiler compiled liblibc, it got also instructed to link that liblibc library to the actual C library libc. That C library exposed the symbol name "_open". In the liblibc library, the extern { #[link_name="_open"] fn open() {  } } exposes the C lib function "_open" as a Rust function named "open", which can then be called from Rust code
[16:22:39] *** Quits: dstrbad (dstrbad@moz-6an0vh.dsl.iskon.hr) (Ping timeout: 121 seconds)
[16:23:01] <tomleb> kimundi: Alright, that's what I said in a less comprehensible way, thank you a lot. :)
[16:23:02] <kimundi> So if you do in Rust code libc::open() or whatever, it ends up calling the C function _open()
[16:23:09] <kimundi> Heh, okay :)
[16:23:21] <erickt> hugod: pushed up the other registration methods
[16:23:35] *** Joins: jgallagher (john@moz-6ge.dhn.131.24.IP)
[16:24:05] *** Quits: fabianvf (fabianvf@moz-j12.dim.197.216.IP) (Connection closed)
[16:24:08] *** Joins: alonlevy (alon@moz-nop.plq.19.46.IP)
[16:25:04] *** Joins: pnkfelix (pnkfelix@moz-6v5.3nd.202.89.IP)
[16:25:05] *** ChanServ sets mode: +o pnkfelix
[16:25:25] *** Joins: fabianvf (fabianvf@moz-j12.dim.197.216.IP)
[16:26:14] *** Joins: edu (ed@moz-tfl2qt.cust.tele2.at)
[16:26:34] *** Joins: laumann (thomas@moz-n9e72h.0.fullrate.dk)
[16:27:04] <kimundi> tomleb: If you want a one-function example, https://github.com/Kimundi/long_strings_without_repeats contains a C++ source file that exposes a single C function that gets compiled and linked into the remaining Rust code by a build script
[16:27:39] *** Joins: GGist (Mibbit@moz-ijla36.seattleu.edu)
[16:28:54] *** Quits: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[16:29:44] <tomleb> right the lswr_naive_cpp_ffi
[16:29:54] <kimundi> yep
[16:30:46] *** Quits: fabianvf (fabianvf@moz-j12.dim.197.216.IP) (Connection closed)
[16:31:31] *** Quits: jevin (jevin@moz-sra.ovp.12.72.IP) (Ping timeout: 121 seconds)
[16:31:49] *** Quits: pnkfelix (pnkfelix@moz-6v5.3nd.202.89.IP) (Ping timeout: 121 seconds)
[16:31:52] *** Quits: CustosLimen (CustosLimen@moz-43o.etd.160.41.IP) (Ping timeout: 121 seconds)
[16:32:02] *** Quits: Tarmashirin (Tarmashirin@moz-rue.8s5.91.59.IP) (Connection closed)
[16:32:18] <tomleb> what is libcpp_lswr.a?
[16:32:31] *** Joins: Temur (Tarmashirin@moz-rue.8s5.91.59.IP)
[16:32:38] *** Quits: hoony (Thunderbird@moz-0oo.sbr.128.121.IP) (Ping timeout: 121 seconds)
[16:32:55] *** Joins: jevin (jevin@moz-sra.ovp.12.72.IP)
[16:32:55] *** Quits: Guest34215 (dylan@moz-l63.iv5.240.50.IP) (Connection closed)
[16:33:38] <kimundi> tomleb: the name of the static library that the C++ code gets compiled to. The same library will then automatically get passed to the rustc invocation that builds the rest of the code
[16:33:53] *** Joins: dylan (dylan@moz-l63.iv5.240.50.IP)
[16:34:05] <kimundi> its analog the the original libc library in your original question
[16:34:13] *** Quits: jbcurtin (jbcurtin@moz-lskisb.LosAngeles1.Level3.net) (Ping timeout: 121 seconds)
[16:34:13] *** dylan is now known as Guest50481
[16:34:20] *** Quits: jdm (jdm@moz-4vu.06r.98.75.IP) (Quit: )
[16:34:25] *** Quits: Ralith (ralith@moz-tiaj7p.customer.broadstripe.net) (Ping timeout: 121 seconds)
[16:34:53] <tomleb> Ohhhh
[16:35:25] <tomleb> I see
[16:36:10] *** Quits: laparca (laparca@moz-rgcs06.mgob.kh00.0488.2a01.IP) (Quit: Leaving.)
[16:36:35] *** espadrine_ is now known as espadrine
[16:37:40] <tomleb> Can't wait to finish this semester so I can actually learn stuff.
[16:37:44] *** Joins: jbcurtin (jbcurtin@moz-lskisb.LosAngeles1.Level3.net)
[16:38:01] *** Quits: Guest50481 (dylan@moz-l63.iv5.240.50.IP) (Ping timeout: 121 seconds)
[16:38:34] *** Quits: Temur (Tarmashirin@moz-rue.8s5.91.59.IP) (Connection closed)
[16:38:55] *** Joins: Temur (Tarmashirin@moz-rue.8s5.91.59.IP)
[16:39:09] <hugod> erickt: thanks - I had to fiddle with the quasi build.rs to get it to build, and am now trying to get the build script to link properly
[16:39:23] *** Joins: agarie (agarie@moz-coa.g2h.32.177.IP)
[16:39:31] <erickt> hugod: cool!
[16:40:05] <simias> for my emulator I'd like to make my memory access functions generic over the width of the access. Something like read::<u8>(addr) -> u8; read::<u16>() -> u16; read::<u32>() -> u32 etc...
[16:40:22] <erickt> hugod: I wasn't quite sure how to approach cleanly building the test suite with and without syntex, so please come up with some clever way to do it for me :)
[16:40:24] <simias> but I'm not sure how I would implement the actual reading
[16:40:41] <simias> like, if I have an array of [u8] and I must extract either an u8, u16 or u32
[16:40:47] <simias> depending on the generic type
[16:40:57] <mindtree> Gankro: 
[16:41:00] *** Quits: tcard (tcard@moz-5eb1g3.staticIP.rima-tde.net) (Ping timeout: 121 seconds)
[16:41:11] <simias> I guess I could wrap those types in a custom Trait
[16:41:41] <mindtree> Gankro: woops
[16:41:55] <simias> I can implement a custom trait for the primitive integer types right?
[16:42:33] <simias> let's try that
[16:42:51] *** Joins: tsudot (tsudot@moz-545.gq1.76.171.IP)
[16:42:56] <mindtree> Gankro: actually while i've accidentally pinged you - is `EnumSet` a worthy replacement for bit flags?
[16:43:11] <tsudot> how do I resolve this build error? - https://gist.github.com/tsudot/0c12088a4dad13ec0c35
[16:43:28] <tsudot> regex v0.1.30 fails to build
[16:43:32] <Ilari> Woot, another ICE...
[16:43:39] *** Joins: pnkfelix (pnkfelix@moz-6v5.3nd.202.89.IP)
[16:43:39] *** ChanServ sets mode: +o pnkfelix
[16:43:46] <tsudot> I'm trying to build this - https://github.com/ogham/exa
[16:43:46] <steveklabnik> tsudot: 'cargo update -p regex'
[16:43:58] *** Joins: tcard (tcard@moz-5eb1g3.staticIP.rima-tde.net)
[16:44:03] <steveklabnik> oh
[16:44:13] <steveklabnik> well, there's also stable vs unstable stuff...
[16:44:18] <steveklabnik> regex _should_ compile on beta
[16:44:22] *** Joins: ianj (ianjneu@moz-03gv4a.ccs.neu.edu)
[16:44:30] *** Quits: nico (nico@moz-69jj7k.dip0.t-ipconnect.de) (Connection closed)
[16:44:43] <steveklabnik> exa in general though: https://github.com/ogham/exa/blob/master/src/main.rs#L1
[16:44:45] *** Quits: skade (skade@moz-4eh.d50.201.212.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[16:44:46] <steveklabnik> requires a nightly compiler
[16:45:03] <steveklabnik> so, tsudot , which rust are you using? rustc -v will tell you if you don't know
[16:45:18] <tsudot> steveklabnik: still fails - note: this feature may not be used in the beta release channel I'm on rustc 1.0.0-beta.3 (5241bf9c3 2015-04-25) (built 2015-04-25)
[16:45:27] *** Joins: jcarpenter (jcarpenter@moz-kndt1m.2rkg.9kg1.0101.2620.IP)
[16:45:47] *** Quits: gonzaloserrano1 (Adium@moz-1nv.3t7.97.62.IP) (Quit: Leaving.)
[16:45:50] <steveklabnik> yeah. so to compile exa, you'll need a nightly Rust, rather than the beta
[16:45:57] <steveklabnik> because exa relies on features that aren't stable yet
[16:46:03] <steveklabnik> and so are only available in nightly builds
[16:46:27] <tsudot> ok i'm trying it out now.
[16:48:47] *** Joins: Porkepix (Porkepix@moz-e1bv2v.rev.sfr.net)
[16:49:09] *** Quits: tomleb (tomleb@moz-7n1.40h.168.198.IP) (Quit: leaving)
[16:49:35] *** Quits: areski (areski@moz-erfa2b.dynamicIP.rima-tde.net) (Ping timeout: 121 seconds)
[16:49:50] *** Joins: sonder (chatzilla@moz-nt8r49.idi.ntnu.no)
[16:50:10] *** Quits: alonlevy (alon@moz-nop.plq.19.46.IP) (Connection closed)
[16:50:10] *** Quits: Guest74 (textual@moz-lmfinb.fios.verizon.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[16:50:24] *** Quits: Florob (Florob@moz-je09t8.de) (Quit: leaving)
[16:50:31] *** Joins: nico (nico@moz-69jj7k.dip0.t-ipconnect.de)
[16:50:48] *** Quits: Temur (Tarmashirin@moz-rue.8s5.91.59.IP) (Connection closed)
[16:51:30] *** Joins: Guest__ (textual@moz-rtn.fg7.77.192.IP)
[16:51:45] *** Quits: alex-abreu (alex@moz-j54ho8.biz.rr.com) (Ping timeout: 121 seconds)
[16:51:46] *** Quits: harikb (harikb@moz-te5530.compute.amazonaws.com) (Quit: ZNC - http://znc.in)
[16:51:56] *** Quits: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[16:52:35] *** Joins: woowe (holoirc@moz-m92.ll8.181.166.IP)
[16:52:47] *** Joins: alex-abreu (alex@moz-j54ho8.biz.rr.com)
[16:53:10] *** Joins: chronoslynx (chronoslynx@moz-q32.838.207.130.IP)
[16:53:46] *** Joins: wooowe (holoirc@moz-4bc997.166.in-addr.arpa)
[16:53:56] *** Quits: basicdays (basicdays@moz-vreeoj.cable.rcn.com) (Quit: I'm out)
[16:54:02] *** Quits: mdibaiee (mahdi@moz-ipf.n3s.129.78.IP) (Ping timeout: 121 seconds)
[16:54:06] *** Joins: frankmcsherry (frankmcsher@moz-9ohmiq.adsl.alicedsl.de)
[16:54:23] *** Joins: mdibaiee (mahdi@moz-8oo.182.244.151.IP)
[16:54:25] *** Quits: wooowe (holoirc@moz-4bc997.166.in-addr.arpa) (Connection closed)
[16:55:13] *** Quits: pnkfelix (pnkfelix@moz-6v5.3nd.202.89.IP) (Ping timeout: 121 seconds)
[16:55:48] *** Joins: Temur (Tarmashirin@moz-rue.8s5.91.59.IP)
[16:56:16] <tsudot> ok the regex build worked. thanks @steveklabnik 
[16:56:27] *** Joins: james4k (james@moz-ao8aj6.consolidated.net)
[16:56:33] *** Joins: niconii (nicole@moz-5e9nqt.frgo.qwest.net)
[16:56:37] <tsudot> is the crate unicode changed to something else? - I get this now - error: can't find crate for `unicode`
[16:56:37] *** Quits: woowe (holoirc@moz-m92.ll8.181.166.IP) (Ping timeout: 121 seconds)
[16:57:26] *** Joins: Ralith (ralith@moz-miv.lne.251.63.IP)
[16:57:43] <tsudot> this line here - https://github.com/ogham/exa/blob/master/src/main.rs#L16
[16:58:18] *** Joins: minot (minot@moz-r0m4ta.minotstateu.edu)
[16:58:22] *** Joins: brianloveswords (brianlovesw@moz-tq78gs.fios.verizon.net)
[16:58:35] *** Quits: Riastradh (riastradh@moz-m49.pl4.163.109.IP) (Ping timeout: 121 seconds)
[16:58:35] *** Quits: giucam (giucam@moz-u9jnsc.c665.0nib.2060.2001.IP) (Ping timeout: 121 seconds)
[16:58:46] *** Quits: debuuu (debuuu@moz-pt8.ma2.149.80.IP) (Ping timeout: 121 seconds)
[16:58:54] *** Joins: debuuu (debuuu@moz-pt8.ma2.149.80.IP)
[16:58:55] <tsudot> maybe its not needed - atleast from the discussion here - https://github.com/rust-lang/regex/issues/41
[16:59:59] *** Quits: daschl (Adium@moz-oirn1i.vie.surfer.at) (Quit: Leaving.)
[17:00:00] *** Joins: Guest74 (textual@moz-lmfinb.fios.verizon.net)
[17:00:05] <Ms2ger> tsudot, unicode was split up
[17:00:46] *** Quits: brianloveswords (brianlovesw@moz-tq78gs.fios.verizon.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[17:00:49] *** Quits: SilverKey (SilverKey@moz-b7q751.biz.rr.com) (Quit: Cheerio!)
[17:00:59] *** Quits: espadrine (tyl@moz-qfr4fg.abo.wanadoo.fr) (Ping timeout: 121 seconds)
[17:01:22] <tsudot> Ms2ger, split up into?
[17:01:35] <Ms2ger> Multiple crates called unicode-something
[17:01:35] *** Quits: Guest__ (textual@moz-rtn.fg7.77.192.IP) (Ping timeout: 121 seconds)
[17:01:48] *** Quits: turtil (turtil@moz-gfc.es4.23.103.IP) (Ping timeout: 121 seconds)
[17:02:14] *** Joins: bfisher-fleig (chatzilla@moz-qbdpvi.office.zencoderdns.net)
[17:02:56] <ianj> Any idea why rust says some use of HashMap leads to an error claiming HashMap doesn't implement `get`?
[17:03:25] <aepsil0n> what does #[unsafe_destructor] do exactly?
[17:03:48] <Ms2ger> #[unsafe_destructor] is the attribute that cried "Wolf!"
[17:03:55] *** Joins: hhhhhhhhhh (mike@moz-969kuj.cable.virginm.net)
[17:05:26] *** Joins: jimb (user@moz-09a.i8g.126.207.IP)
[17:05:33] <aepsil0n> uhm, that doesn't really help…
[17:05:53] *** Joins: brontron4k (brontron@moz-c9crms.ph.cox.net)
[17:06:37] <apoelstra> aepsil0n: it is (was?) required for a wiide range of things
[17:06:49] <apoelstra> i am trying to find some in my old code, i don't recall exactly..
[17:06:50] *** Quits: pcwalton (pcwalton@moz-nh2.o1i.216.216.IP) (Ping timeout: 121 seconds)
[17:07:08] <aepsil0n> i stumbled over it in some code and it is the only unstable feature in there
[17:07:16] <aepsil0n> removing it appears not to change anything
[17:07:21] <mindtree> I'm fairly sure it was made obsolete wasn't it?
[17:07:22] <steveklabnik> it should be gone now, i thought
[17:07:36] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[17:07:38] <mindtree> I remember removing it from stuff and being like "ahh, that looks much nicer"
[17:08:00] <mbrubeck> aepsil0n: If it still compiles after removing it, you don't need it.
[17:08:17] <simias> is there a way to extract a [T; 4] from a [T; n] ?
[17:08:17] <aepsil0n> ok, the crate where i found it is about 3 months old, so then it's just legacy i guess
[17:08:26] <simias> instead of just a &[T}
[17:08:27] <jgallagher> aepsil0n: it used to be required to impl Drop for things with references, among other things. now the compiler checks that that is safe in other ways
[17:08:30] <simias> &[T]
[17:08:59] <apoelstra> simias: you mean a &[T] which has length 4? or an actual array?
[17:09:03] *** Quits: mdibaiee (mahdi@moz-8oo.182.244.151.IP) (Ping timeout: 121 seconds)
[17:09:06] <simias> an actual array
[17:09:06] <aepsil0n> great, thanks for the explanations ^^
[17:09:25] <simias> like, copy the 4 elements in a new array
[17:09:29] *** Joins: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net)
[17:09:54] *** Quits: xuu (xuu@moz-9h1gkh.ktc.sour.is) (Ping timeout: 121 seconds)
[17:09:57] <apoelstra> simias: you can get an actual array with memcpy'ing, cf https://github.com/apoelstra/rust-secp256k1/blob/master/src/key.rs#L68-L87
[17:10:11] <apoelstra> specifically the `copy_nonoverlapping` function
[17:10:11] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[17:10:28] <ianj> Is there a difference between *x and &**x (assuming both typecheck?)
[17:10:29] <simias> okay thanks
[17:10:33] <apoelstra> i'm not sure if there is a cleaner way to do this ... almost all my code newtypes arrays and i just have macros which implement from_slice() like this :/
[17:10:42] *** Quits: g5pw (g5pw@moz-4e9gb9.me) (Ping timeout: 121 seconds)
[17:10:50] <niconii> ianj: & and * can be overloaded, so they're not guaranteed to be opposites
[17:10:51] <steveklabnik> ianj: depends on the Deref impl that x has, and what it points to
[17:10:53] <apoelstra> ianj: yeah, &* indicates a reborrow which might change the lifetime
[17:10:58] <apoelstra> ah, that too
[17:10:59] <simias> apoelstra: newtypes are fun aren't they? :)
[17:11:12] <apoelstra> simias: :P yup
[17:11:31] *** Joins: mahdi (mahdi@moz-8oo.182.244.151.IP)
[17:11:38] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[17:11:54] *** Quits: Temur (Tarmashirin@moz-rue.8s5.91.59.IP) (Ping timeout: 121 seconds)
[17:12:00] *** Joins: dmac_ (dmac@moz-4kcd1c.ca.comcast.net)
[17:12:16] *** Joins: fabianvf (fabianvf@moz-j12.dim.197.216.IP)
[17:12:20] *** Joins: giucam (giucam@moz-iv0nnc.bb.dnainternet.fi)
[17:12:21] *** Quits: madmalik (uid13697@moz-lfin5p.brockwell.irccloud.com) (Quit: Connection closed for inactivity)
[17:12:31] <apoelstra> it is cool, i can use them to enforce type invariants on my data ... i wrapped libsecp256k1 for rust and in my bindings i actually had to debug_assert! that the FFI functions won't fail
[17:12:42] <apoelstra> since rust's typeck prevents the user from actually causing the FFI functions to fail
[17:12:48] <niconii> ianj: for instance, if you have a &Box<T>, *x would give you Box<T> and &**x would give you &T
[17:13:03] *** Quits: brontron4k (brontron@moz-c9crms.ph.cox.net) (Ping timeout: 121 seconds)
[17:13:07] <ianj> steveklabnik: ah. Is there a writeup somewhere that explains the rationale behind the notions of equality for Box and RefCell? IMO they should both be pointer equality, but the libraries defer to the contained type's eq implementation.
[17:13:07] *** Quits: erz (erz@moz-8v4.af0.232.213.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[17:13:12] <ianj> niconii: thanks for the example.
[17:13:15] <niconii> ianj: (not that you're really gonna *want* a &Box<T>, but...)
[17:13:25] *** Parts: nico (nico@moz-69jj7k.dip0.t-ipconnect.de) ("Leaving...")
[17:13:34] <steveklabnik> ianj: rust almost _never_ uses pointer equality
[17:14:05] *** Quits: tcard (tcard@moz-5eb1g3.staticIP.rima-tde.net) (Client exited)
[17:14:10] *** Joins: James (quassel@moz-9kp9p2.range86-148.btcentralplus.com)
[17:14:12] <apoelstra> ianj: you can convert to rawptrs if you want pointer equality..
[17:14:22] <apoelstra> but like, you never have two Boxes referring to the same thing
[17:14:29] *** Joins: rbranson (rbranson@moz-i7m.9o0.201.199.IP)
[17:14:32] <ianj> apoelstra: not when I want to reuse library functionality.
[17:14:32] <steveklabnik> yeah, that just can't happen
[17:14:34] *** Joins: Temur (Tarmashirin@moz-rue.8s5.91.59.IP)
[17:14:43] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[17:14:44] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[17:14:50] <frankmcsherry> Box::new(4); Box::new(4);
[17:14:56] *** Quits: alex-abreu (alex@moz-j54ho8.biz.rr.com) (Ping timeout: 121 seconds)
[17:15:23] *** Joins: mgottschlag (quassel@moz-pfs1s8.scc.kit.edu)
[17:16:19] *** Joins: dylan (dylan@moz-5ol.6j4.9.153.IP)
[17:16:39] *** dylan is now known as Guest32742
[17:16:55] <ianj> I'm trying to convert a program analysis that I wrote into rust. It has some very cyclic mutable data structures, where two structures are considered the same only when they are the same object.
[17:17:18] <apoelstra> ianj: you almost certainly are gonna be using unsafe code and rawptrs to keep that straight..
[17:17:26] *** Quits: thiblahute (tsaunier@moz-68f5rr.rev.sfr.net) (Ping timeout: 121 seconds)
[17:17:39] <terpstra> if i write slice[slice.len()-1], rust will test for index < slice.len()-1. if rust is allowed to assume usize never underflows, this test should be optimized away. does rust make this assumption?
[17:17:40] <niconii> playbot: let a = &*Box::new(4i32) as *const i32; let b = &*Box::new(4i32) as *const i32; println!("{:p} {:p}", a, b);
[17:17:42] -playbot- 0x7fe625423008 0x7fe625423018
[17:17:42] -playbot- ()
[17:17:50] <apoelstra> so you'll wind up with a safe API but most of the code won't be much safer than it was in the original languag e:/
[17:18:14] *** Quits: mgottschlag (quassel@moz-pfs1s8.scc.kit.edu) (Connection closed)
[17:18:45] *** Quits: v21 (vee@moz-fcd.kug.204.223.IP) (Quit: Leaving)
[17:18:53] <ianj> apoelstra: I was hoping Rc<RefCell<HashMap<Vec<u32>,HashSet<Closure<'a>>>>> would work for my main representation of a binder (and closures hold binders)
[17:18:58] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[17:19:13] *** Joins: dstrbad (dstrbad@moz-6an0vh.dsl.iskon.hr)
[17:19:25] *** Quits: chronoslynx (chronoslynx@moz-q32.838.207.130.IP) (Quit: Textual IRC Client: www.textualapp.com)
[17:19:38] *** Joins: Racquetball (namestolenw@moz-dnlovt.cpe.twtelecom.net)
[17:19:44] <ianj> I like Scheme and Racket's notion of a hasheq, where keys are hashed based on their object identity.
[17:19:56] *** Quits: Guest58 (textual@moz-tb1fm9.us.xo.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[17:20:11] <steveklabnik> (ruby's hash does that too)
[17:20:25] <ianj> I've never touched ruby.
[17:20:59] *** Joins: hhhhhhhh1 (mike@moz-969kuj.cable.virginm.net)
[17:21:07] *** Quits: hhhhhhhhhh (mike@moz-969kuj.cable.virginm.net) (Quit: WeeChat 1.1.1)
[17:21:11] <ianj> Racket also has hashes based on structural equality. I use those too in my analysis.
[17:22:12] *** Joins: mnemnion (mnemnion@moz-e8rfii.ca.comcast.net)
[17:22:17] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[17:22:30] <hoverbear> join #firefox
[17:22:31] <ianj> I guess I'll rip apart the recursive knot with BitSet.
[17:22:34] <hoverbear> Sigh.
[17:22:34] *** Quits: laumann (thomas@moz-n9e72h.0.fullrate.dk) (Ping timeout: 121 seconds)
[17:23:06] *** Joins: jherms (jherms@moz-o8d.9ba.189.46.IP)
[17:23:19] *** Joins: chronoslynx (chronoslynx@moz-q32.838.207.130.IP)
[17:23:21] *** Parts: chronoslynx (chronoslynx@moz-q32.838.207.130.IP) ("Textual IRC Client: www.textualapp.com")
[17:23:26] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[17:23:54] *** Quits: dstrbad (dstrbad@moz-6an0vh.dsl.iskon.hr) (Ping timeout: 121 seconds)
[17:24:06] *** Joins: mgottschlag (quassel@moz-pfs1s8.scc.kit.edu)
[17:24:06] <penguin42> hmm, the macros are funky
[17:24:17] *** Quits: gandalf (zbraniecki@moz-cp7c4m.ca.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[17:24:56] *** Joins: xuu (xuu@moz-9h1gkh.ktc.sour.is)
[17:25:23] *** Joins: g5pw (g5pw@moz-4e9gb9.me)
[17:26:16] *** Joins: chmanchester (Chris@moz-ha9kvr.2rkg.9kg1.0101.2620.IP)
[17:27:32] *** ahal|lunch is now known as ahal
[17:27:36] *** Quits: mindtree (Mitch@moz-e9kolh.iprimus.net.au) (Ping timeout: 121 seconds)
[17:27:39] *** Joins: alonlevy (alon@moz-4jqdpb.telavivmakers.org)
[17:28:03] *** Joins: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net)
[17:29:19] *** Joins: bitonic (bitonic@moz-cdh3tf.28-151.libero.it)
[17:31:00] *** Joins: alex-abreu (alex@moz-j54ho8.biz.rr.com)
[17:31:01] *** Quits: xuu (xuu@moz-9h1gkh.ktc.sour.is) (Ping timeout: 121 seconds)
[17:31:13] *** Quits: tsudot (tsudot@moz-545.gq1.76.171.IP) (Quit: Leaving...)
[17:31:34] *** Joins: LysanderAkili (LysanderAki@moz-e2h9er.co.comcast.net)
[17:32:02] <terpstra> is there a quick way to impl a custom Ord for a type? Having to impl Ord, Eq, PartialEq, PartialOrd ... is a pain
[17:32:13] <liamfraser> how can I assign a &str to a String?
[17:32:21] *** Joins: Izacht13 (Izacht13@moz-gee645.atsnmeam.ccmaine.net)
[17:32:34] <liamfraser> I'm iterating through a string vector which is giving me a &str
[17:32:49] <duncan> playbot: String::from_str("test str");
[17:32:50] -playbot- <anon>:9:9: 9:25 error: use of unstable library feature 'collections': needs investigation to see if to_string() can match perf
[17:32:51] -playbot- <anon>:9         String::from_str("test str");
[17:32:51] -playbot- output truncated; full output at: http://bit.ly/1ENPBPc
[17:32:51] *** Quits: mahdi (mahdi@moz-8oo.182.244.151.IP) (Ping timeout: 121 seconds)
[17:32:53] *** Joins: eerie (eerie@moz-joilui.red.bezeqint.net)
[17:33:05] <talchas> "foo".to_owned()
[17:33:10] <talchas> (or .to_string())
[17:33:29] *** Joins: zzing (textual@moz-jucm1n.cpe.distributel.net)
[17:33:30] <liamfraser> thanks
[17:33:46] *** Quits: g5pw (g5pw@moz-4e9gb9.me) (Ping timeout: 121 seconds)
[17:34:06] <posix4e> carllerche: Howdy dude, i was going to tell you  about the work to port kj to rust but github tells me you are one step ahead of me
[17:34:08] <posix4e> seems like a good idea
[17:34:29] *** Quits: Guest32742 (dylan@moz-5ol.6j4.9.153.IP) (Connection closed)
[17:34:30] *** Joins: mahdi (mahdi@moz-8oo.182.244.151.IP)
[17:34:36] *** Joins: laumann (thomas@moz-n9e72h.0.fullrate.dk)
[17:35:39] *** Joins: gsingh93 (gulshan@moz-qnbukr.mi.comcast.net)
[17:36:28] *** Quits: alex-abreu (alex@moz-j54ho8.biz.rr.com) (Ping timeout: 121 seconds)
[17:36:45] <gsingh93> is the minus sign at the top of each documentation page not working for anyone else?
[17:37:11] *** Joins: thiblahute (tsaunier@moz-68f5rr.rev.sfr.net)
[17:37:19] *** Joins: mou (donwilliam@moz-lq9kg8.cpe.webspeed.dk)
[17:37:33] <steveklabnik> gsingh93: it doesn't work for anyone, it's broken
[17:37:44] *** Joins: jdm (jdm@moz-br6siv.cpe.teksavvy.com)
[17:37:44] *** ChanServ sets mode: +o jdm
[17:38:40] <niconii> er, what version of the documentation? because it's... working fine for me, somehow...
[17:39:03] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[17:39:08] *** Quits: eerie (eerie@moz-joilui.red.bezeqint.net) (Ping timeout: 121 seconds)
[17:39:24] *** Quits: errordeveloper (ilya@moz-8jq.ge6.157.37.IP) (Ping timeout: 121 seconds)
[17:39:52] <gsingh93> i just found the javascript and copied that pasted it into the console for now
[17:39:55] <gsingh93> lol
[17:40:00] *** Quits: rfnash (weechat@moz-ulk8um.in.comcast.net) (Ping timeout: 121 seconds)
[17:40:01] *** Joins: dylan (dylan@moz-5ol.6j4.9.153.IP)
[17:40:03] *** Quits: ray1 (ray@moz-ngs.t3f.66.59.IP) (Connection closed)
[17:40:05] <gsingh93> copied and pasted*
[17:40:05] <steveklabnik> oh huh, i saw a bug filed about it, i didn't know it imght only affect some poeple
[17:40:11] <steveklabnik> there was a patch to it recently
[17:40:12] <niconii> oh, no, never mind
[17:40:15] <steveklabnik> and i assume that broke it
[17:40:21] <niconii> you mean *this* minus sign
[17:40:21] *** dylan is now known as Guest6377
[17:40:23] *** Quits: ismaelga (ismaelga@moz-rjm.jv4.251.188.IP) (Connection closed)
[17:40:25] *** Quits: ainieco (ainieco@moz-h7u.qih.162.188.IP) (Quit: leaving)
[17:40:28] <niconii> i was clicking on a different one :P
[17:40:41] *** dmu|away is now known as dmu
[17:40:57] *** Quits: jeffasinger (jeff@moz-1j1qti.cable.mindspring.com) (Client exited)
[17:41:31] *** Quits: jgallagher (john@moz-6ge.dhn.131.24.IP) (Client exited)
[17:41:37] *** Quits: james4k (james@moz-ao8aj6.consolidated.net) (Ping timeout: 121 seconds)
[17:41:59] *** Quits: Temur (Tarmashirin@moz-rue.8s5.91.59.IP) (Connection closed)
[17:42:14] *** Quits: bfisher-fleig (chatzilla@moz-qbdpvi.office.zencoderdns.net) (Quit: ChatZilla 0.9.91.1 [Firefox 39.0a2/20150427004010])
[17:42:17] *** Quits: mou (donwilliam@moz-lq9kg8.cpe.webspeed.dk) (Quit: leaving)
[17:42:29] *** Joins: Temur (Tarmashirin@moz-rue.8s5.91.59.IP)
[17:42:56] *** Joins: stjahns (stjahns@moz-mbofdn.uws.ualberta.ca)
[17:42:56] *** Quits: stjahns (stjahns@moz-mbofdn.uws.ualberta.ca) (Connection closed)
[17:42:57] *** Joins: stjahns (stjahns@moz-mbofdn.uws.ualberta.ca)
[17:43:52] *** Quits: veqz (veqz@moz-nvr8g6.209.getinternet.no) (Quit: Konversation terminated!)
[17:43:55] *** Joins: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net)
[17:43:55] *** ChanServ sets mode: +o pnkfelix
[17:44:23] *** Joins: veqz (veqz@moz-nvr8g6.209.getinternet.no)
[17:45:26] *** Joins: mou (donwilliam@moz-lq9kg8.cpe.webspeed.dk)
[17:45:52] *** Joins: xuu (xuu@moz-a0r8ua.ipv6.he.net)
[17:46:19] *** Quits: agarie (agarie@moz-coa.g2h.32.177.IP) (Connection closed)
[17:46:25] *** Joins: g5pw (g5pw@moz-4e9gb9.me)
[17:46:59] *** Joins: jeffasinger (jeff@moz-1j1qti.cable.mindspring.com)
[17:47:17] *** Quits: laumann (thomas@moz-n9e72h.0.fullrate.dk) (Ping timeout: 121 seconds)
[17:48:52] *** Joins: laumann (thomas@moz-n9e72h.0.fullrate.dk)
[17:49:00] *** Quits: kgrandon (Adium@moz-9o8gp0.hjek.d045.0009.2601.IP) (Quit: Leaving.)
[17:49:13] *** Joins: Guest58 (textual@moz-tb1fm9.us.xo.net)
[17:49:27] *** Joins: sayan (sayan@moz-623.k50.51.106.IP)
[17:50:08] *** Quits: Guest58 (textual@moz-tb1fm9.us.xo.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[17:50:18] *** Joins: Tarmashirin (Tarmashirin@moz-rue.8s5.91.59.IP)
[17:50:28] *** Quits: debuuu (debuuu@moz-pt8.ma2.149.80.IP) (Ping timeout: 121 seconds)
[17:51:26] *** Quits: Temur (Tarmashirin@moz-rue.8s5.91.59.IP) (Connection closed)
[17:52:08] *** Joins: Guest58 (textual@moz-tb1fm9.us.xo.net)
[17:52:15] *** Quits: Izacht13 (Izacht13@moz-gee645.atsnmeam.ccmaine.net) (Quit: Leaving)
[17:52:33] <LysanderAkili> Hi. I am running into very fustrating error. When I compile, it demands me to put a version in Cargo.toml. So I type version = "*" under dependencies that was asking for a version. Reran it, same error. I tried adding rev = "insert bunch of char" below of git = "insert weburl".  Still request a version. Well version is there, rev is there, git is there. What else does it need?!    
[17:53:04] *** Joins: Izacht13 (Izacht13@moz-gee645.atsnmeam.ccmaine.net)
[17:53:06] *** Quits: reed (reed@tech.monkey) (RecvQ exceeded)
[17:53:08] <steveklabnik> LysanderAkili: can you send the error and the Cargo.toml, in a gist or something?
[17:53:20] <LysanderAkili> Updating git repository `https://github.com/PistonDevelopers/opengl_graphics.git`
[17:53:20] <LysanderAkili> no matching package named `piston2d_opengl_graphics` found (required by `OSGL`)
[17:53:20] <LysanderAkili> location searched: https://github.com/PistonDevelopers/opengl_graphics.git?rev=c5d22694c53d58290b9e58e3411053d39250da89
[17:53:23] <LysanderAkili> version required: *
[17:53:23] *** Joins: reed (reed@tech.monkey)
[17:53:24] <LysanderAkili> oops
[17:53:29] *** Quits: fabianvf (fabianvf@moz-j12.dim.197.216.IP) (Connection closed)
[17:53:45] *** Joins: fabianvf (fabianvf@moz-j12.dim.197.216.IP)
[17:53:53] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[17:54:15] *** Joins: agarie (agarie@moz-coa.g2h.32.177.IP)
[17:54:25] *** Quits: chmanchester (Chris@moz-ha9kvr.2rkg.9kg1.0101.2620.IP) (A TLS packet with unexpected length was received.)
[17:54:59] *** Joins: mzabaluev (Thunderbird@moz-3bijqs.bb.dnainternet.fi)
[17:55:07] *** Joins: brson (brson@moz-cfhap5.mtv2.mozilla.com)
[17:55:07] *** ChanServ sets mode: +ao brson brson
[17:55:33] *** Joins: chmanchester (Chris@moz-k2b6dp.rgd2.9kg1.0101.2620.IP)
[17:55:42] *** Quits: Kynes (Kynes@moz-j2us35.mit.edu) (Quit: Leaving)
[17:55:53] <niconii> LysanderAkili: the crate is called "piston2d-opengl_graphics", not "piston2d_opengl_graphics"
[17:56:05] *** Joins: scialex (scialex@moz-j5mi8i.cs.brown.edu)
[17:56:34] *** Quits: summerlight_ (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[17:56:35] *** Joins: mib_bxepru (Mibbit@moz-68f3od.gatchina.ru)
[17:56:50] <niconii> LysanderAkili: which is why it's not finding it there
[17:57:01] <LysanderAkili> niconii: I had to put undermark because main.rs won't recongize extern crate opengl_graphics, or piston2d-opengl_graphics
[17:58:09] *** Joins: achanda (achanda@moz-qv7q4n.ca.comcast.net)
[17:58:13] <niconii> LysanderAkili: looks like you need to use piston2d-opengl_graphics in your Cargo.toml, and opengl_graphics in your code
[17:58:17] *** Joins: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net)
[17:58:26] <SneakySnake> There is a distinction between the package name and the crate name
[17:58:29] <niconii> LysanderAkili: (and it won't recognize opengl_graphics in your code until you fix your Cargo.toml)
[17:58:58] *** Quits: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net) (Quit: rcirc on GNU Emacs 24.5.1)
[17:59:02] <SneakySnake> The package name is piston2d-opengl_graphics, which must go in the [dependencies] section
[17:59:09] *** Quits: jherms (jherms@moz-o8d.9ba.189.46.IP) (Ping timeout: 121 seconds)
[17:59:18] <SneakySnake> The crate name is opengl_graphics, which goes to main.rs
[17:59:26] *** Quits: fabianvf (fabianvf@moz-j12.dim.197.216.IP) (Connection closed)
[17:59:32] <LysanderAkili> [dev-dependencies.piston2d-opengl_graphics]
[17:59:32] <LysanderAkili> git = "https://github.com/PistonDevelopers/opengl_graphics.git"
[17:59:50] <LysanderAkili> right
[17:59:51] *** Joins: _td (tatterdemal@moz-a0dnkb.ca.comcast.net)
[17:59:53] <LysanderAkili> I did all of that
[18:00:19] *** Joins: rbrandao (uid30340@moz-89qrca.ealing.irccloud.com)
[18:00:22] <LysanderAkili> I even remove "dev-" from the title, and it still gives the same error
[18:00:35] *** Quits: veqz (veqz@moz-nvr8g6.209.getinternet.no) (Quit: Konversation terminated!)
[18:01:10] <niconii> you did cargo update after fixing your Cargo.toml, right
[18:01:11] *** Joins: veqz (veqz@moz-nvr8g6.209.getinternet.no)
[18:01:34] <LysanderAkili> cargo build?
[18:01:36] *** Quits: mkpankov (user@moz-h0n.sma.198.91.IP) (Ping timeout: 121 seconds)
[18:01:38] <niconii> cargo update
[18:01:42] <LysanderAkili> Ohhhh
[18:02:25] <LysanderAkili> still give the same error
[18:02:30] *** Joins: tcard (tcard@moz-jdrdbk.ddns.jazztel.es)
[18:02:52] *** Joins: ucarion (ulyssecario@moz-7b29q5.ResHall.Berkeley.EDU)
[18:03:08] <LysanderAkili> [dev-dependencies.piston2d-opengl_graphics]
[18:03:08] <LysanderAkili> git = "https://github.com/PistonDevelopers/opengl_graphics.git"
[18:03:13] <niconii> can you paste the error you're getting right now
[18:03:16] <LysanderAkili> er...
[18:03:20] *** Joins: wooowe (Mibbit@moz-499ogh.wi.charter.com)
[18:03:51] <LysanderAkili> src/main.rs:4 extern crate opengl_graphics; ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~
[18:04:02] <LysanderAkili> that's the error
[18:04:20] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[18:04:24] *** Joins: MaxV (MaxV@moz-5rjbeb.abo.wanadoo.fr)
[18:04:24] <wooowe> Hey guys, is there a function similar to python's select.select, that will let me select either a tcp stream or stdin
[18:04:31] *** Quits: mathu (matt@moz-eps.1qk.236.104.IP) (Quit: leaving)
[18:04:36] <LysanderAkili> can't find opengl_graphics
[18:04:37] <niconii> LysanderAkili: but you're not getting an error about "no matching package" anymore?
[18:05:06] <LysanderAkili> it says can't find the crate for opengl_graphics
[18:05:36] <niconii> LysanderAkili: also, dev-dependencies aren't used for main.rs, they're only used for tests and benchmarks
[18:06:10] <LysanderAkili> if I prefix piston2d-, then it would give an error "-". so you can't use - in extern
[18:06:15] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Quit: )
[18:06:25] <niconii> LysanderAkili: if you want your actual program to depend on it, you want to just make it a dependency, not a dev-dependency
[18:06:37] <SneakySnake> LysanderAkili: Again, the crate name is opengl_graphics, there is no piston2d-, that's only in the package name
[18:06:51] <niconii> LysanderAkili: (and then `cargo update` again if you change your Cargo.toml)
[18:06:54] *** Quits: ucarion (ulyssecario@moz-7b29q5.ResHall.Berkeley.EDU) (Ping timeout: 121 seconds)
[18:07:11] *** Joins: eerie (eerie@moz-joilui.red.bezeqint.net)
[18:07:20] *** Joins: Lilly (Lilly@moz-pfkvo9.bredband.comhem.se)
[18:07:29] *** Quits: polyfractal (polyfractal@moz-v88dif.artists.westelcom.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[18:07:35] *** Quits: aepsil0n (eduard@moz-g8ss54.mv2h.pepi.8071.2a02.IP) (Connection closed)
[18:07:36] <simias> grrr, LLVM won't optimize my code as I want him to
[18:07:59] *** Joins: nrc (nrc@moz-9v1svd.xtra.co.nz)
[18:07:59] *** ChanServ sets mode: +o nrc
[18:08:23] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[18:08:23] *** ChanServ sets mode: +ao pcwalton pcwalton
[18:08:53] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[18:10:00] <LysanderAkili> well I decided to remove "dev-" from the title, and rerun cargo update, then cargo build. I got same error. 
[18:10:06] <LysanderAkili> but it's for different crate now
[18:11:13] *** Joins: munksgaard (munksgaard@moz-3v9.hq0.225.130.IP)
[18:11:13] *** Quits: stjahns (stjahns@moz-mbofdn.uws.ualberta.ca) (Connection closed)
[18:11:21] *** Joins: stjahns (stjahns@moz-mbofdn.uws.ualberta.ca)
[18:11:26] <niconii> LysanderAkili: are there other crates you have as dev-dependencies which shouldn't be?
[18:11:53] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[18:11:55] *** Joins: Temur (Tarmashirin@moz-rue.8s5.91.59.IP)
[18:12:07] *** Quits: Tarmashirin (Tarmashirin@moz-rue.8s5.91.59.IP) (Connection closed)
[18:12:25] <niconii> LysanderAkili: again, most of the time you just want dependencies; dev-dependencies are only made available to tests and benchmarks, not your actual program
[18:12:59] *** Quits: tcard (tcard@moz-jdrdbk.ddns.jazztel.es) (Client exited)
[18:13:05] *** Quits: nrc (nrc@moz-9v1svd.xtra.co.nz) (Ping timeout: 121 seconds)
[18:13:08] <LysanderAkili> yeah I removed them all. Ah I figured it out. Cool thanks
[18:13:29] <LysanderAkili> one letter should been removed from the list, and now it works. thanks again
[18:13:39] <niconii> LysanderAkili: alright then, no problem
[18:14:39] *** Parts: mib_bxepru (Mibbit@moz-68f3od.gatchina.ru) ()
[18:14:58] *** Quits: Guest6377 (dylan@moz-5ol.6j4.9.153.IP) (Connection closed)
[18:15:26] *** Quits: isomarcte (isomarcte@moz-vqvrcl.hfc.comcastbusiness.net) (Ping timeout: 121 seconds)
[18:15:27] *** Quits: hjr3 (hradtke@moz-lei.av4.169.69.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[18:16:09] *** Quits: frankmcsherry (frankmcsher@moz-9ohmiq.adsl.alicedsl.de) (Ping timeout: 121 seconds)
[18:16:38] *** Joins: Tarmashirin (Tarmashirin@moz-rue.8s5.91.59.IP)
[18:16:45] *** Quits: Temur (Tarmashirin@moz-rue.8s5.91.59.IP) (Connection closed)
[18:17:09] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[18:17:17] *** Quits: Phaiax (Phaiax@moz-aqopsj.hsi8.kabel-badenwuerttemberg.de) (Quit: Leaving.)
[18:17:53] *** Quits: MaxV (MaxV@moz-5rjbeb.abo.wanadoo.fr) (Quit: Leaving...)
[18:17:57] *** Quits: dcrewi (david@moz-3u3d5k.gyrae.net) (Ping timeout: 121 seconds)
[18:18:30] *** Quits: munksgaard (munksgaard@moz-3v9.hq0.225.130.IP) (Ping timeout: 121 seconds)
[18:19:14] <apoelstra> is there a nice way to get a 32-byte array which is 1 in the first entry and all 0's otherwise?
[18:19:24] *** Joins: isomarcte (isomarcte@moz-vqvrcl.hfc.comcastbusiness.net)
[18:19:52] *** Joins: vfetwnuncszu (david@moz-3u3d5k.gyrae.net)
[18:20:05] *** vfetwnuncszu is now known as dcrewi
[18:20:19] *** Joins: dylan (dylan@moz-5ol.6j4.9.153.IP)
[18:20:22] *** Joins: dstrbad (dstrbad@moz-6an0vh.dsl.iskon.hr)
[18:20:43] *** dylan is now known as Guest53538
[18:20:49] *** Joins: fyolnish (fyolnish@moz-3gjd0b.so-net.ne.jp)
[18:21:35] *** Joins: debu (debu@moz-cesna1.dyn.telefonica.de)
[18:22:20] <scott> apoelstra: let a = [0u8; 32]; a[0] = 1;
[18:23:27] *** Joins: nott (nott@moz-to4.06o.57.86.IP)
[18:24:21] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[18:24:21] *** ChanServ sets mode: +o erickt
[18:24:35] *** Quits: dstrbad (dstrbad@moz-6an0vh.dsl.iskon.hr) (Ping timeout: 121 seconds)
[18:24:41] <simukis> you need a to be mutable :)
[18:24:56] <scott> right, sorry
[18:25:10] *** Joins: kard (-@moz-t3sf6f.dip0.t-ipconnect.de)
[18:26:01] *** Joins: Guest5 (textual@moz-hnb58r.oc.cox.net)
[18:26:01] *** Joins: Guest63 (textual@moz-qfs.570.70.83.IP)
[18:26:53] *** Quits: laumann (thomas@moz-n9e72h.0.fullrate.dk) (Ping timeout: 121 seconds)
[18:27:54] *** Joins: laumann (thomas@moz-n9e72h.0.fullrate.dk)
[18:28:53] <liamfraser> this is probably really obvious, but I can't see an obvious way of checking if a string contains some substring
[18:29:00] *** Joins: FrozenCow (FrozenCow@moz-i2tvv4.chello.nl)
[18:29:00] <liamfraser> the substring is known at compile time
[18:29:16] <bluss> either a.contains(b) or a.find(b).is_some()
[18:29:29] <bluss> playbot: "abc".contains("b")
[18:29:30] -playbot- true
[18:29:41] <bluss> playbot: "abc".find("bc")
[18:29:43] -playbot- Some(1)
[18:30:01] <bluss> callable on both String and &str
[18:30:39] <liamfraser> thanks
[18:30:58] <liamfraser> I did google it but there's a lot of conflicting results, presumably because of how the language has changed
[18:31:20] <scott> liamfraser: search the docs directly instead of using google: http://doc.rust-lang.org/1.0.0-beta.3/std/
[18:32:16] *** Quits: Guest63 (textual@moz-qfs.570.70.83.IP) (Ping timeout: 121 seconds)
[18:32:44] <simukis> well, you can’t search for “how to search for substring in string in rust”, but if you are capable of making a few well educated guesses, like “might be called substring or contains” or “probably a method on str or String, perhaps on string related trait”, you’ll do well
[18:33:16] <liamfraser> I did assume it would be called .contains
[18:33:19] <liamfraser> but google told me no
[18:33:22] <liamfraser> should have just tried it
[18:34:01] *** Joins: hjr3 (hradtke@moz-lei.av4.169.69.IP)
[18:34:15] *** Quits: achanda (achanda@moz-qv7q4n.ca.comcast.net) (Ping timeout: 121 seconds)
[18:34:49] *** Joins: achanda (achanda@moz-qv7q4n.ca.comcast.net)
[18:34:51] *** Joins: Savago (Savago@moz-8hd.3b6.246.162.IP)
[18:35:15] *** Joins: kgrandon (Adium@moz-oeb0cd.2rkg.9kg1.0101.2620.IP)
[18:35:53] *** Joins: stjahns_ (stjahns@moz-mbofdn.uws.ualberta.ca)
[18:35:53] *** Quits: stjahns (stjahns@moz-mbofdn.uws.ualberta.ca) (Connection closed)
[18:36:22] *** Quits: jevin (jevin@moz-sra.ovp.12.72.IP) (Connection closed)
[18:36:44] *** Joins: jevin (jevin@moz-sra.ovp.12.72.IP)
[18:36:54] <bluss> google can't keep up with Rust's awesome progress
[18:37:32] *** Joins: tcard (tcard@moz-jdrdbk.ddns.jazztel.es)
[18:37:41] *** Joins: eerie_ (eerie@moz-joilui.red.bezeqint.net)
[18:38:28] *** Quits: _td (tatterdemal@moz-a0dnkb.ca.comcast.net) (Ping timeout: 121 seconds)
[18:38:32] *** Joins: alex-abreu (alex@moz-j54ho8.biz.rr.com)
[18:38:43] *** Joins: frankmcsherry (frankmcsher@moz-9ohmiq.adsl.alicedsl.de)
[18:39:05] <frankmcsherry> hey what the ... I just "cargo new"'d, and it set my version to be 0.1.0. What. is. that.
[18:40:21] <erickt> frankmcsherry: you "cargo new"ed a new package, or over an old one?
[18:40:21] *** Quits: stjahns_ (stjahns@moz-mbofdn.uws.ualberta.ca) (Connection closed)
[18:40:30] *** Joins: fabianvf (fabianvf@moz-j12.dim.197.216.IP)
[18:40:33] *** Joins: stjahns (stjahns@moz-mbofdn.uws.ualberta.ca)
[18:40:48] <frankmcsherry> sorry, I just mean, I made a new package, and it wants me to be a non-0.0.1 grown-up now.
[18:40:51] *** Quits: achanda (achanda@moz-qv7q4n.ca.comcast.net) (Ping timeout: 121 seconds)
[18:41:06] *** Quits: eerie (eerie@moz-joilui.red.bezeqint.net) (Ping timeout: 121 seconds)
[18:41:51] *** Joins: agoforth (agoforth@moz-0iuau4.netcologne.de)
[18:41:56] <steveklabnik> eah
[18:41:58] <steveklabnik> the defaults changed
[18:41:59] <erickt> frankmcsherry: how cruel of cargo! making your crate grow up before it's ready
[18:42:00] <steveklabnik> to 0.10
[18:42:03] <steveklabnik> err 0.1.0
[18:42:05] <FreeFull> Why?
[18:42:12] *** Quits: hjr3 (hradtke@moz-lei.av4.169.69.IP) (Ping timeout: 121 seconds)
[18:42:16] <scott> I just googled that a bit. the reasoning is that the third number is for bugfixes
[18:42:26] <erickt> scott++
[18:42:30] *** Joins: ptc (textual@moz-93hhba.fios.verizon.net)
[18:42:35] <steveklabnik> yeah, i mean, semver doesn't define anyhting pre 1.0, but if it did, 0.1.0 would be the first release
[18:42:38] <scott> going from nothing to something non-breaking is featurework, so you increment the minor version
[18:42:39] <bluss> it makes sense. and you can change it
[18:42:45] *** Joins: jnicklas (jonasnickla@moz-0ou5lc.bredband.comhem.se)
[18:42:47] <scott> is non-breaking*
[18:42:48] <FreeFull> Computer scientists count from 0 though
[18:43:09] *** Quits: sprang (sprang@moz-d0kmvi.12d9.sm5v.0009.2601.IP) (Ping timeout: 121 seconds)
[18:43:10] <scott> correct, 0.0.0 -> 0.1.0 is the first increment you make ;)
[18:43:25] <ptc> question: how do I insert key/value into hashmap overwriting key if previously existing?
[18:43:26] <frewsxcv> semantic versioning is not a computer scientist
[18:43:35] <bluss> ptc: just .insert
[18:43:49] *** Joins: Temur (Tarmashirin@moz-rue.8s5.91.59.IP)
[18:43:55] *** Quits: Tarmashirin (Tarmashirin@moz-rue.8s5.91.59.IP) (Connection closed)
[18:44:02] <ptc> bluss: k, so it'll insert either way, just returns the old value if it had one, k.
[18:44:06] <ptc> thx
[18:44:07] <frankmcsherry> erickt: I'm getting ready to ship some timely dataflow at crates.io soon!
[18:44:22] *** Joins: hjr3 (hradtke@moz-lei.av4.169.69.IP)
[18:44:22] <erickt> frankmcsherry: woohoo! you should come back to the US and talk about it!
[18:44:25] <erickt> I need speakers
[18:44:26] *** Quits: mkurkov (mk@moz-7tl.thh.9.195.IP) (Ping timeout: 121 seconds)
[18:44:46] <frankmcsherry> erickt: can you smell what the Berlin meet-up is cooking, btw?
[18:44:57] *** Quits: Izacht13 (Izacht13@moz-gee645.atsnmeam.ccmaine.net) (Quit: Leaving)
[18:45:03] *** AutomatedTester|AFK is now known as AutomatedTester
[18:45:06] *** Quits: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com) (Connection closed)
[18:45:13] *** Quits: hjr3 (hradtke@moz-lei.av4.169.69.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[18:45:23] *** Joins: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com)
[18:45:33] <erickt> sadly not from here. I will actually be in berlin early june though. I wonder if there's a meetup happening then...
[18:46:09] *** Joins: Jesse (jruderman@moz-vhjd7l.ujol.1ibb.0101.2620.IP)
[18:46:36] <fjh> erickt: depends, are you willing to give a talk? ;-)
[18:46:48] <erickt> nooo that's my trick!
[18:47:14] *** Quits: ptc (textual@moz-93hhba.fios.verizon.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[18:47:22] *** Quits: jcarpenter (jcarpenter@moz-kndt1m.2rkg.9kg1.0101.2620.IP) (Quit: Leaving...)
[18:47:26] *** Joins: is (Mibbit@moz-b8fehj.cust.telenor.se)
[18:47:39] <ianj> Is there a shortlist somewhere of planned/desired (by core team) rust features?
[18:47:50] <frankmcsherry> 1. holiday
[18:47:51] <erickt> fjh: I first need to figure out what my schedule is. I'm on a family trip, so I need to check with them
[18:48:00] <steveklabnik> ianj: http://internals.rust-lang.org/t/priorities-after-1-0/1901/
[18:48:09] *** Quits: Temur (Tarmashirin@moz-rue.8s5.91.59.IP) (Connection closed)
[18:48:13] *** Quits: alex-abreu (alex@moz-j54ho8.biz.rr.com) (Ping timeout: 121 seconds)
[18:48:15] *** Joins: Temur (Tarmashirin@moz-rue.8s5.91.59.IP)
[18:48:24] <ianj> steveklabnik: thanks.
[18:49:17] *** Joins: druxtan (Mibbit@moz-0svdiv.abo.wanadoo.fr)
[18:49:59] *** Joins: hjr3 (hradtke@moz-lei.av4.169.69.IP)
[18:50:16] *** Joins: pheleas_frog (Mibbit@moz-i1f.v29.87.24.IP)
[18:50:25] *** Joins: munksgaard (munksgaard@moz-33d.hq0.225.130.IP)
[18:50:54] *** Joins: avikpal (avikpal@moz-rvg.cvs.194.117.IP)
[18:51:41] *** Quits: fyolnish (fyolnish@moz-3gjd0b.so-net.ne.jp) (Connection closed)
[18:51:52] *** Quits: m_khvoinitsky (quassel@moz-bkl6sn.d57a.lq23.04f8.2a01.IP) (Client exited)
[18:51:56] *** Joins: m_khvoinitsky (quassel@moz-bkl6sn.d57a.lq23.04f8.2a01.IP)
[18:52:17] *** Quits: Porkepix (Porkepix@moz-e1bv2v.rev.sfr.net) (Ping timeout: 121 seconds)
[18:52:35] *** Joins: rfnash (weechat@moz-ulk8um.in.comcast.net)
[18:53:14] *** Quits: Racquetball (namestolenw@moz-dnlovt.cpe.twtelecom.net) (Ping timeout: 121 seconds)
[18:53:14] *** Quits: oberstet (quassel@moz-48cn0t.dynamic.mnet-online.de) (Connection closed)
[18:55:02] *** Quits: jbcurtin (jbcurtin@moz-lskisb.LosAngeles1.Level3.net) (Ping timeout: 121 seconds)
[18:56:25] *** Quits: isomarcte (isomarcte@moz-vqvrcl.hfc.comcastbusiness.net) (Ping timeout: 121 seconds)
[18:56:25] *** Joins: tomleb (tomleb@moz-7n1.40h.168.198.IP)
[18:56:45] *** Joins: mkpankov (mkpankov@moz-n33.u5t.23.84.IP)
[18:58:07] *** Quits: agarie (agarie@moz-coa.g2h.32.177.IP) (Connection closed)
[18:58:14] <is> Hi
[18:58:21] *** Joins: Porkepix (Porkepix@moz-e1bv2v.rev.sfr.net)
[18:58:50] *** Quits: Jesse (jruderman@moz-vhjd7l.ujol.1ibb.0101.2620.IP) (Client exited)
[18:59:09] *** Joins: autra (augustin@moz-d100go.mcg1.od8l.0e35.2a01.IP)
[18:59:12] *** Joins: eric_lagergren (barsonme@moz-add4ru.fomj.2174.0008.2601.IP)
[18:59:13] <dschatzberg> kimundi: added an RFC: https://github.com/rust-lang/rfcs/pull/1095
[18:59:16] *** Joins: Racquetball (namestolenw@moz-dnlovt.cpe.twtelecom.net)
[18:59:23] <Manishearth> > All in I love this--I tire a bit of posts that are like "I wrote a toy program [or not even that]; here's Why Everyone Else Is Wrong" (because anyone could give an opinion that informed given a day or two, and hot takes are getting old). But it's cool to see someone who, by virtue of working on Rust (and seeing it evolve) has unusual perspective on tradeoffs and seems to have written, you know, pretty thoughtfully and maturely about them.
[18:59:31] <Manishearth> steveklabnik: hey, HN isn't so bad after all :D
[18:59:38] *** Quits: Guest58 (textual@moz-tb1fm9.us.xo.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[18:59:38] <Manishearth> nice comments exist :p
[18:59:57] <steveklabnik> Manishearth: hehe, yeah, but that one guy was a jerk to you first too :p
[19:00:05] <steveklabnik> but yes, that comment was pretty great :)
[19:00:09] <is> I have strange behavior of my code. I suspect a bug in the compiler but don't know exactly. Could anyone take a quick look?
[19:00:13] <Manishearth> true
[19:00:24] <Manishearth> but other people covered for me there, so that worked out :P
[19:00:24] *** Joins: agarie (agarie@moz-coa.g2h.32.177.IP)
[19:00:25] <steveklabnik> is: whats the code?
[19:00:30] *** Joins: Guest58 (textual@moz-tb1fm9.us.xo.net)
[19:00:34] *** Quits: hjr3 (hradtke@moz-lei.av4.169.69.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[19:00:48] *** Joins: jbcurtin (jbcurtin@moz-lskisb.LosAngeles1.Level3.net)
[19:01:01] *** Joins: alex-abreu (alex@moz-j54ho8.biz.rr.com)
[19:01:10] *** Quits: Guest58 (textual@moz-tb1fm9.us.xo.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[19:01:46] *** Joins: avikpal_ (avikpal@moz-sv2.nmc.194.117.IP)
[19:01:58] *** Quits: avikpal (avikpal@moz-rvg.cvs.194.117.IP) (Ping timeout: 121 seconds)
[19:02:06] *** Quits: kushal (kdas@moz-623.k50.51.106.IP) (Quit: Leaving)
[19:02:25] <mbrubeck> is: certainly
[19:02:26] *** Joins: Guest58 (textual@moz-tb1fm9.us.xo.net)
[19:02:51] <rovar> Manishearth,  > "I wrote a toy program [or not even that]; here's Why Everyone Else Is Wrong"  >  You just described half of news.ycombinator.com articles
[19:03:12] <is> steveklabnik, mbrubeck: https://gist.github.com/istaheev/0535d17297af52713ecf
[19:03:13] *** Joins: arBmind (Andreas@moz-bi5moq.adsl.alicedsl.de)
[19:03:13] *** Quits: Racquetball (namestolenw@moz-dnlovt.cpe.twtelecom.net) (Quit: leaving)
[19:03:32] <Manishearth> rovar: hahaha
[19:03:40] *** Joins: espadrine (tyl@moz-l019mn.fbx.proxad.net)
[19:03:42] *** Quits: mahdi (mahdi@moz-8oo.182.244.151.IP) (Ping timeout: 121 seconds)
[19:03:50] <steveklabnik> not a bug, is
[19:03:51] <mbrubeck> playpen link to is's code http://is.gd/Ra7XP0
[19:04:02] <Manishearth> rovar: note, that wasn't me, that was 
[19:04:05] <Manishearth> https://news.ycombinator.com/item?id=9454232
[19:04:18] <mbrubeck> is: https://www.reddit.com/r/rust/comments/2zj34k/why_doesnt_the_compiler_figure_this_borrowing_out/
[19:04:42] <Manishearth> is: that's a known bug due to evaluation order
[19:05:10] *** Joins: mahdi (mahdi@moz-ipf.n3s.129.78.IP)
[19:06:02] *** Joins: Guest___ (textual@moz-rtn.fg7.77.192.IP)
[19:06:08] *** Quits: avikpal_ (avikpal@moz-sv2.nmc.194.117.IP) (Ping timeout: 121 seconds)
[19:06:22] *** Joins: daschl (Adium@moz-oirn1i.vie.surfer.at)
[19:06:34] <is> mbrubeck: Aha, I see. Thank you!
[19:07:17] <scp> lazy-static is the best
[19:08:31] *** Joins: nrc (nrc@moz-9v1svd.xtra.co.nz)
[19:08:31] *** ChanServ sets mode: +o nrc
[19:10:24] *** Quits: kmicu (kmicu@moz-uga.edn.218.91.IP) (Connection closed)
[19:10:28] *** Quits: tcard (tcard@moz-jdrdbk.ddns.jazztel.es) (Client exited)
[19:10:40] *** Quits: ptalbot (ptalbot@moz-g2mokk.ircam.fr) (Ping timeout: 121 seconds)
[19:10:41] *** Joins: kmicu (kmicu@moz-uga.edn.218.91.IP)
[19:10:46] *** Quits: eerie_ (eerie@moz-joilui.red.bezeqint.net) (Ping timeout: 121 seconds)
[19:10:49] *** Quits: dschatzberg (dschatz@moz-nk1clf.bu.edu) (Quit: Leaving)
[19:10:51] *** Quits: Temur (Tarmashirin@moz-rue.8s5.91.59.IP) (Ping timeout: 121 seconds)
[19:12:54] *** Joins: cptroot (Mibbit@moz-n169l8.caltech.edu)
[19:12:57] *** Joins: Temur (Tarmashirin@moz-rue.8s5.91.59.IP)
[19:13:08] *** Joins: TheLemonMan (lemonboy@moz-hugusq.45-151.net24.it)
[19:13:39] *** Joins: hjr3 (hradtke@moz-lei.av4.169.69.IP)
[19:14:04] *** Joins: mib_9njhx0 (Mibbit@moz-ie3.dtg.144.77.IP)
[19:14:52] *** Joins: dstrbad (dstrbad@moz-6an0vh.dsl.iskon.hr)
[19:15:09] *** Joins: agarie_ (agarie@moz-coa.g2h.32.177.IP)
[19:15:16] *** Quits: agarie (agarie@moz-coa.g2h.32.177.IP) (Connection closed)
[19:16:09] *** Joins: jaga (JagaJaga@moz-gd9.blu.205.109.IP)
[19:16:30] *** Joins: mib_2qci97 (Mibbit@moz-m5thmg.static.zebra.lt)
[19:16:50] <tomaka> In my crate A, I put "pub extern crate B;"
[19:17:04] <tomaka> then in A's tests, I try to use "A::B::something"
[19:17:12] <tomaka> but it doesn't work, because "A::B" is unresolved
[19:17:19] <tomaka> is it a bug in rustc or am I doing something impossible?
[19:17:59] *** Quits: JagaJaga (JagaJaga@moz-ua8.hhl.62.178.IP) (Ping timeout: 121 seconds)
[19:18:14] *** Joins: kralyk (kralyk@moz-ote.edj.146.88.IP)
[19:18:36] <kralyk> How do I initialize variable of type enum Foo {} ?
[19:19:01] <niconii> tomaka: er, i think you need something like "pub use B;" iirc
[19:19:43] <tomaka> niconii: if I add "pub use B;", the name conflicts with the "extern crate B;"
[19:19:56] <tomaka> I'm trying to put "extern crate B;" in a submodule to see if it works
[19:20:13] *** Quits: jaga (JagaJaga@moz-gd9.blu.205.109.IP) (Ping timeout: 121 seconds)
[19:20:16] *** Joins: pato (alcuadrado@moz-po8.fg5.194.190.IP)
[19:20:16] *** Quits: agarie_ (agarie@moz-coa.g2h.32.177.IP) (Connection closed)
[19:20:43] *** Joins: rbrs (rbrs@moz-m5thmg.static.zebra.lt)
[19:20:45] *** Joins: Racquetball (namestolenw@moz-dnlovt.cpe.twtelecom.net)
[19:20:50] <bstrie> kralyk: you can't and that's a feature :)
[19:20:56] *** Quits: daschl (Adium@moz-oirn1i.vie.surfer.at) (Quit: Leaving.)
[19:21:54] <niconii> tomaka: `extern crate B as B_; pub use B_ as B;` maybe?
[19:22:18] <kralyk> bstrie: Ok, well, how do I represent and opaque struct for FFI C interface then?
[19:22:19] *** Joins: forgottenone (forgottenon@moz-7c3.s8g.45.92.IP)
[19:22:19] *** Quits: druxtan (Mibbit@moz-0svdiv.abo.wanadoo.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[19:22:29] *** Quits: autra (augustin@moz-d100go.mcg1.od8l.0e35.2a01.IP) (Ping timeout: 121 seconds)
[19:22:33] *** Joins: cdidd (cdidd@moz-llmnnu.broadband.corbina.ru)
[19:23:01] *** Joins: JagaJaga (JagaJaga@moz-ua8.hhl.62.178.IP)
[19:23:01] *** Quits: JagaJaga (JagaJaga@moz-ua8.hhl.62.178.IP) (Quit: WeeChat 1.1.1)
[19:23:07] *** Joins: JagaJaga (JagaJaga@moz-ua8.hhl.62.178.IP)
[19:23:09] <niconii> tomaka: i see there's this issue here about this which is still open: https://github.com/rust-lang/rust/issues/21757
[19:23:40] *** Quits: fabiand (fabiand@moz-05mhcn.dip0.t-ipconnect.de) (Quit: Verlassend)
[19:24:26] *** Joins: Porkepix_ (Porkepix@moz-e1bv2v.rev.sfr.net)
[19:24:40] <kimundi> tomaka: if `pub extern crate` is accepted, but you need the _B -> B pub use to actually access the values in it, then thats definitly a compiler bug
[19:25:02] *** Quits: Guest53538 (dylan@moz-5ol.6j4.9.153.IP) (Connection closed)
[19:25:10] *** Quits: Porkepix (Porkepix@moz-e1bv2v.rev.sfr.net) (Ping timeout: 121 seconds)
[19:25:51] *** Quits: jnicklas (jonasnickla@moz-0ou5lc.bredband.comhem.se) (Client exited)
[19:26:03] <tomaka> nicoch: ah thanks
[19:26:06] <tomaka> nicoch: oops
[19:26:10] <tomaka> niconii: ah thanks
[19:26:39] *** Joins: gopar (gopar@moz-5039uj.ca.comcast.net)
[19:27:36] *** Quits: sayan (sayan@moz-623.k50.51.106.IP) (Ping timeout: 121 seconds)
[19:27:40] *** Joins: vmeson (rmacleod@moz-hq5.1km.224.128.IP)
[19:28:08] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[19:28:12] *** Quits: sysko (bst@moz-cpv.glf.227.116.IP) (Ping timeout: 121 seconds)
[19:28:12] *** Joins: kkus (kkus@moz-baj4jj.74.srtnet.com)
[19:28:12] *** Quits: Jackneill (Jackneill@moz-j386q9.pool.digikabel.hu) (Connection closed)
[19:28:26] <kralyk> Suppose I have a struct Foo; in a C .h file for which I have a Rust interface. How do I represent the `struct Foo` in Rust?
[19:28:45] <kralyk> I mean an opaque pointer to `struct Foo`
[19:28:46] <tomaka> kralyk: usually, type Foo = libc::c_void;
[19:29:12] <kralyk> tomaka: ok thanks
[19:30:33] *** Joins: dylan (dylan@moz-5ol.6j4.9.153.IP)
[19:30:44] *** Joins: errordeveloper (ilya@moz-33s.nlr.200.90.IP)
[19:30:55] *** dylan is now known as Guest30577
[19:31:12] *** Joins: turtil (turtil@moz-gfc.es4.23.103.IP)
[19:31:30] *** Quits: eternaleye (eternaleye@moz-7ps.ehi.245.50.IP) (Ping timeout: 121 seconds)
[19:31:49] <kralyk> tomaka: How I hold this c_void value? In a Box? Or Option?
[19:31:52] *** Quits: mib_9njhx0 (Mibbit@moz-ie3.dtg.144.77.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[19:32:18] <talchas> now, you could also do this with enum Foo{}; since you'd be using *const/mut Foo all the time
[19:32:45] <tomaka> kralyk: if it's an opaque type, your C library should only communicate with *const/*mut pointers to it
[19:33:00] <talchas> now, if you have a struct Foo { whatever } with the definition, and want to use that, you probably want a #[repr(C)] struct Foo { etc } in rust too
[19:33:13] *** Joins: eternaleye (eternaleye@moz-7ps.ehi.245.50.IP)
[19:33:51] <kralyk> No it's an empty struct and yes it's only communicated via const/mut pointers
[19:34:08] <FreeFull> I've used enum Foo {}
[19:34:27] <kralyk> I've tried that too but ran into the same problem of being unable to initialize a variable holding the pointer
[19:35:19] *** Quits: qwerty_nor (Thunderbird@moz-vuo.d5a.248.5.IP) (Ping timeout: 121 seconds)
[19:35:27] <brandonson> what happened to rustup?  it's trampling all over my disk quota now :/
[19:35:42] *** Quits: hjr3 (hradtke@moz-lei.av4.169.69.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[19:35:48] <brandonson> never used to have a problem...
[19:37:26] *** Quits: tomleb (tomleb@moz-7n1.40h.168.198.IP) (Connection closed)
[19:37:38] *** Joins: eerie (eerie@moz-joilui.red.bezeqint.net)
[19:37:42] <kralyk> Here's my code. http://is.gd/rk9MJO  I'm trying to wrap the thing in a more Rust-friendly interface. 
[19:37:58] <kralyk> I keep getting an error that the screen variable is not initialized.
[19:38:27] *** Joins: madmalik (uid13697@moz-lfin5p.brockwell.irccloud.com)
[19:38:56] <steveklabnik> it isn
[19:38:57] <steveklabnik> t
[19:39:34] *** Quits: twipeD (wipeD@moz-9dd5pf.dip0.t-ipconnect.de) (Connection closed)
[19:39:35] <steveklabnik>     assert_eq!(sth . x + sth2 . y , 9);
[19:39:36] <steveklabnik> }
[19:39:37] *** Parts: Yorhel (Ayo@moz-eesd82.adsl.xs4all.nl) ("WeeChat 0.4.3")
[19:39:38] <steveklabnik> dammit
[19:39:43] *** Joins: Shackra (Jorge@moz-7bh.ng6.177.186.IP)
[19:39:49] <steveklabnik> ... line 14. you declare it, with no initialization.
[19:40:02] *** Quits: mib_2qci97 (Mibbit@moz-m5thmg.static.zebra.lt) (Quit: http://www.mibbit.com ajax IRC Client)
[19:40:05] <steveklabnik> line 17, you try to take a &mut of it
[19:40:21] <FreeFull> kralyk: Maybe  let mut screen = std::mem::uninitialized();
[19:40:27] <steveklabnik> ... FreeFull beat me to it
[19:40:33] <steveklabnik> when you have this kind of c pattern
[19:40:35] <kralyk> Yeah I understand why rustc is complaining, but I don't know how to do what I wanna do :)
[19:40:38] <steveklabnik> you need to use uninitialized
[19:40:45] <kralyk> Oooohh
[19:40:47] <talchas> kralyk: oh if it's empty (ie C struct Foo{}), then struct Foo; in rust
[19:41:06] *** Joins: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net)
[19:41:07] *** ChanServ sets mode: +o pnkfelix
[19:41:14] <kralyk> No, it's forward-declared in C, as in struct foo;
[19:41:16] *** Joins: ismaelga (ismaelga@moz-fppv6r.cpe.netcabo.pt)
[19:41:27] <talchas> oh, you're asking about init, yeah, like FreeFull said
[19:41:59] <kralyk> Brb trying it out...
[19:42:06] *** Quits: Guest30577 (dylan@moz-5ol.6j4.9.153.IP) (Connection closed)
[19:42:23] *** Joins: Hiroghkk (maxxie@moz-3trfs4.31-151.libero.it)
[19:42:28] <talchas> though Screen probably wants to be { screen: *mut tsm_screen, } I suspect
[19:42:29] <tomaka> tsm_screen_new requests a pointer to a pointer
[19:42:42] <tomaka> it's probably so that it can write a pointer to an existing tsm_screen
[19:42:55] <talchas> and that you can init to null (though uninit is probably fine too)
[19:42:58] <tomaka> you shouldn't create a tsm_screen yourself
[19:43:33] <kralyk> tomaka: No, it's just a way to return a pointer from a function.
[19:43:36] *** Joins: lenstr (lenstr@moz-s8k.vju.25.171.IP)
[19:43:46] <kralyk> tomaka: The function also returns some kind of an int status...
[19:43:57] <kralyk> talchas: Is that safe?
[19:44:03] *** Quits: __mark__ (mark@moz-pb9mc5.dynamic.chello.pl) (Client exited)
[19:44:10] <talchas> usually it's so it can return a probably-malloced pointer and and also return error codes
[19:44:10] *** Joins: Firesi (Mibbit@moz-5tq.qas.207.65.IP)
[19:44:22] <kralyk> Yeah exactly
[19:44:33] <talchas> kralyk: well, it's as safe as the C code would be :P
[19:44:42] <Firesi> I was reading through the Sprocketnes code, and I saw the following comment: https://github.com/pcwalton/sprocketnes/blob/master/cpu.rs#L114
[19:44:49] <kralyk> I meant as in not unsafe so I can use Screen in rust-safe code :)
[19:44:54] <Firesi> "This is implemented as a macro so that both the disassembler and the emulator can use it."
[19:44:56] *** Joins: hhhhhhhhhh (mike@moz-969kuj.cable.virginm.net)
[19:45:08] <Firesi> I don't understand that -- why did he implement the decode function as a macro?
[19:45:17] <talchas> yes, though all the stuff implement on Screen is going to use unsafe code to call into C of course
[19:45:20] *** Quits: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net) (Ping timeout: 121 seconds)
[19:45:21] *** Quits: nano (nano@moz-00j6et.dynamic.kabel-deutschland.de) (Connection closed)
[19:45:47] <kralyk> talchas: Yeah, that was the plan, ok, gonna try with *mut
[19:46:11] *** Parts: Hiroghkk (maxxie@moz-3trfs4.31-151.libero.it) ()
[19:46:44] <talchas> Firesi: hmm, that looks like it ought to be able to be done with disas-or-emulator as a trait and decode_op! as a generic function
[19:46:44] *** Quits: Guest58 (textual@moz-tb1fm9.us.xo.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[19:47:06] *** Quits: ismaelga (ismaelga@moz-fppv6r.cpe.netcabo.pt) (Connection closed)
[19:47:33] *** Joins: Guest58 (textual@moz-tb1fm9.us.xo.net)
[19:47:39] *** Joins: dylan (dylan@moz-5ol.6j4.9.153.IP)
[19:47:42] *** Quits: eerie (eerie@moz-joilui.red.bezeqint.net) (Connection closed)
[19:47:54] <talchas> Firesi: there might be issues with the AddressingMode stuff, particularly if it was pre-associated-types?
[19:48:01] *** dylan is now known as Guest22984
[19:48:03] *** Joins: eerie (eerie@moz-joilui.red.bezeqint.net)
[19:48:27] <steveklabnik> it was
[19:49:20] *** Joins: Izacht13 (Izacht13@moz-gee645.atsnmeam.ccmaine.net)
[19:49:53] <kralyk> Okay guys, my code finally works with `struct Screen { screen: *mut tsm_screen }` and the uninitilized function, thanks!
[19:49:53] *** Joins: GBGamer (npm@moz-71q.g5g.156.168.IP)
[19:50:09] <kralyk> ("works" as in "can be compiled" :D)
[19:50:59] *** Joins: dlc (dlc@moz-ijetde.res.rr.com)
[19:51:04] *** Quits: tno (tomas@moz-v4fu2i.7pm2.so41.08a0.2001.IP) (Connection closed)
[19:51:11] *** Quits: eternaleye (eternaleye@moz-7ps.ehi.245.50.IP) (Ping timeout: 121 seconds)
[19:51:30] *** Joins: tcard (tcard@moz-jdrdbk.ddns.jazztel.es)
[19:51:42] *** Joins: eternaleye (eternaleye@moz-7ps.ehi.245.50.IP)
[19:51:51] *** Quits: edlothiol (user@moz-chhfor.hsi02.unitymediagroup.de) (Connection closed)
[19:52:05] *** Quits: eerie (eerie@moz-joilui.red.bezeqint.net) (Ping timeout: 121 seconds)
[19:52:17] <Firesi> talchas: can you explain that a little more?  I'm still not fully understanding what you mean.  This is because disasm.rs also needs to access this decode method?
[19:52:23] *** Quits: mahdi (mahdi@moz-ipf.n3s.129.78.IP) (Quit: Leaving)
[19:52:54] <talchas> Firesi: I /think/ it could use a trait now
[19:53:18] *** Joins: Hannibal_Smith (Nicola@moz-ucg29b.retail.telecomitalia.it)
[19:53:31] <talchas> but it's possible that you couldn't write the necessary trait in the past (or maybe even still can't)
[19:53:42] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[19:53:43] *** Quits: lenstr (lenstr@moz-s8k.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[19:53:45] *** Joins: Torun (Torun@moz-k4lrv0.dip0.t-ipconnect.de)
[19:54:29] *** Quits: Palmik (palmik@moz-ggdnvc.vpn.muni.cz) (Ping timeout: 121 seconds)
[19:55:54] *** Joins: avikpal (avikpal@moz-scs.1ud.98.59.IP)
[19:56:03] *** Quits: hhhhhhhhhh (mike@moz-969kuj.cable.virginm.net) (Quit: WeeChat 1.1.1)
[19:56:18] *** Quits: hhhhhhhh1 (mike@moz-969kuj.cable.virginm.net) (Quit: WeeChat 1.1.1)
[19:56:20] *** Quits: Torun (Torun@moz-k4lrv0.dip0.t-ipconnect.de) (Quit: Leaving)
[19:56:29] <talchas> it would probably require some changes if it's possible - the disas code returns Strings for everything, and the interpreter has some generics around AddressingMode that the disassembler does not
[19:56:31] *** Joins: Palmik (palmik@moz-7pku2p.net.upcbroadband.cz)
[19:57:15] *** Quits: GBGamer (npm@moz-71q.g5g.156.168.IP) (Connection closed)
[19:57:21] *** Joins: GBGamer (npm@moz-urd.pod.125.50.IP)
[19:58:16] *** Quits: fabianvf (fabianvf@moz-j12.dim.197.216.IP) (Connection closed)
[19:58:25] *** Joins: genbattle (genbattle@moz-4v0.gkd.16.182.IP)
[19:59:19] *** Joins: fabianvf (fabianvf@moz-j12.dim.197.216.IP)
[19:59:35] <pcwalton> Firesi: talchas: it was indeed the addressing mode stuff and it was pre-associated-types
[19:59:39] <pcwalton> it might not need to be a macro today
[20:00:09] *** Joins: ebel (rory@moz-0lehdb.m4r4.nqcu.0470.2001.IP)
[20:00:12] <kralyk> Out of curiosity, why does rust-bindgen generate functions with the `()` return type for C functions returning void? Why not simply have no return?
[20:00:24] <kralyk> *no return type
[20:00:34] *** Quits: eddyb_ (eddyb@moz-mj8.sgj.26.188.IP) (Connection closed)
[20:00:35] *** Joins: eddyb_ (eddyb@moz-mj8.sgj.26.188.IP)
[20:00:47] <GBGamer> pcwalton: ping for PR?
[20:01:03] *** Joins: Riastradh (riastradh@moz-6odf4a.exit.babylon.network)
[20:01:05] <wooowe> Hey guys, is there a way to use a TcpStream in the select! macro?
[20:01:06] *** Quits: Temur (Tarmashirin@moz-rue.8s5.91.59.IP) (Ping timeout: 121 seconds)
[20:01:08] <pcwalton> could you link me?
[20:01:23] <bluss> kralyk: () is the default return type in Rust. fn() and fn() -> () are the same
[20:01:41] <kralyk> bluss: Oh, ok, ty
[20:01:41] <talchas> kralyk: I'm guessing it was easier to not bother special casing the printing code
[20:01:45] <GBGamer> GitHub.com/rust-lang/rust/pull/24886
[20:01:51] <kralyk> Yeah that makes sense...
[20:02:21] *** Joins: Temur (Tarmashirin@moz-rue.8s5.91.59.IP)
[20:02:26] *** chmanchester is now known as chmanchester|afk
[20:02:59] <GBGamer> I was told I didn't have to make an rfc for intrinsics
[20:03:21] *** Joins: loyd (loyd@moz-uft.32f.108.213.IP)
[20:03:26] *** Joins: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP)
[20:03:40] <wooowe> I am looking at the select! macro but it seems to only work for threads
[20:03:53] <wooowe> or at least, channels
[20:04:07] <seanmonstar> yep, select! is to select on receivers
[20:04:26] *** Parts: duncan (paul@moz-dst.ms6.225.173.IP) ()
[20:04:28] <wooowe> so no way to get it to select on a tcpstream?
[20:04:31] *** Quits: Firesi (Mibbit@moz-5tq.qas.207.65.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[20:04:39] <seanmonstar> like, libc::select?
[20:05:06] <wooowe> I am not sure, I am only looking at the select! macro
[20:05:10] *** Joins: sysko (bst@moz-cpv.glf.227.116.IP)
[20:05:20] <wooowe> trying to find something similar to the select.select that python has
[20:05:38] <seanmonstar> i dont know select.select :)
[20:06:01] <seanmonstar> guessing you want to be able to try to read on multiple tcp streams, and return on the first response?
[20:06:18] <wooowe> Oh lol, basically it looks like this select.select([socket, sys.stdin], [], [], None)
[20:06:29] *** Joins: nico (nico@moz-69jj7k.dip0.t-ipconnect.de)
[20:07:17] <wooowe> Not really, just trying to make it so if the tcpstream has data waiting to be read, it will read it, same with stdin
[20:07:47] <seanmonstar> a non-blocking read?
[20:08:02] <wooowe> Yeah, I think that is what it is called. Lol
[20:08:20] <seanmonstar> std::io/net doesnt have a non-blocking read yet
[20:08:33] <wooowe> oh
[20:08:35] <wooowe> bummer
[20:08:40] <seanmonstar> you could look at mio
[20:08:44] *** Quits: mzabaluev (Thunderbird@moz-3bijqs.bb.dnainternet.fi) (Ping timeout: 121 seconds)
[20:08:55] <FreeFull> mio doesn't handle stdin/file descriptors either
[20:08:58] <FreeFull> So it won't help
[20:09:04] <seanmonstar> nevermind :)
[20:09:20] *** Quits: xav (xav@moz-5tfec1.mobi) (Ping timeout: 121 seconds)
[20:09:22] <wooowe> So, do I have to just wait until I get the full response back from the router I am talking to?
[20:09:31] <wooowe> And then read the stuff in stdin?
[20:09:35] <FreeFull> Or have separate threads
[20:09:45] *** Quits: untitaker (untitaker@moz-v5462d.highway.telekom.at) (Ping timeout: 121 seconds)
[20:09:47] <FreeFull> And have them both send messages on the same channel
[20:10:04] <seanmonstar> read on a tcpstream wont necessarily mean the full response is back
[20:10:04] <wooowe> That sounds interesting
[20:10:10] <FreeFull> Which is a heavy-weight solution, but there isn't really a better option right now
[20:10:31] *** Quits: nico (nico@moz-69jj7k.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[20:10:32] *** Quits: eddyb_ (eddyb@moz-mj8.sgj.26.188.IP) (Connection closed)
[20:10:36] *** Joins: eddyb_ (eddyb@moz-mj8.sgj.26.188.IP)
[20:10:46] <wooowe> Yeah, seanmonstar. That is why I wish select! could work with it v.v
[20:10:50] <FreeFull> So the main program would block on the Receiver, and then you'd have a stdin thread, and a tcp thread
[20:10:58] <FreeFull> Which would have Senders
[20:11:18] *** Quits: sysko (bst@moz-cpv.glf.227.116.IP) (Ping timeout: 121 seconds)
[20:11:20] <seanmonstar> wooowe: ^
[20:11:32] <seanmonstar> and then you could use select! on the receivers
[20:11:39] *** Joins: sprang (sprang@moz-0jh.c9m.56.172.IP)
[20:11:45] *** Joins: Matthias247 (Miranda@moz-49li60.hsi14.kabel-badenwuerttemberg.de)
[20:11:51] <wooowe> Lol
[20:11:55] <FreeFull> And you'd have an enum to distinguish between receiving TCP data and stdin data. Or you could have two Receivers and use select! to distinguish
[20:12:07] <wooowe> Thank you guys so much.
[20:12:07] *** Joins: slurps-mad-rips (slurps-mad-@moz-o2c.uaj.44.17.IP)
[20:12:18] *** Joins: sysko (bst@moz-cpv.glf.227.116.IP)
[20:12:22] *** Joins: untitaker (untitaker@moz-bp4l2l.highway.telekom.at)
[20:12:31] <FreeFull> This is a sub-par solution because the C equivalent wouldn't use any threads at all
[20:12:37] <wooowe> I have a lot of reading to do on these channels and stuff
[20:12:56] <tamird> cargo question: is it possible to have a build script for tests? i want to use the crate to generate code, and i need the compiled result of that for the tests to run, so the generate must be a prestep to compilation
[20:13:00] <wooowe> Is there any reason that select! on works on receivers?
[20:13:02] <seanmonstar> yea, you could try to implement this stuff using libc::select and AsRawFd
[20:13:26] <simias> yay, I simplified my code and ended up making it faster
[20:13:29] <simias> thank you LLVM
[20:14:08] *** Joins: brontron4k (brontron@moz-c9crms.ph.cox.net)
[20:14:15] *** Quits: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP) (Connection closed)
[20:14:41] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[20:15:42] *** Quits: vmeson (rmacleod@moz-hq5.1km.224.128.IP) (Ping timeout: 121 seconds)
[20:16:04] <seanmonstar> wooowe: that select! macro was built for channels. having select on file descriptors requires work on non-blocking io, and 1.0 didnt have time to design a proper api for that
[20:16:06] *** Quits: shammancer (shammancer@moz-mn8fch.abhsia.telus.net) (Ping timeout: 121 seconds)
[20:16:21] *** Joins: wilsonk-laptop (kvirc@moz-a3a.hfa.64.184.IP)
[20:16:24] *** Quits: sysko (bst@moz-cpv.glf.227.116.IP) (Ping timeout: 121 seconds)
[20:17:42] *** Joins: sysko (bst@moz-cpv.glf.227.116.IP)
[20:18:31] <kimundi> Hm, are there efficient ways to have N threads iterate and mutate the same array in lockstep? eg [ ... [ a ] ... [ b ] ... [ c ] ... ] where a, b, c are slices accessed by threads and a,b,c continously move to the right
[20:19:14] <kimundi> I'm thinking of kinda a rolling lock, than ensures that the thread further in front never gets slower than the one behind it
[20:19:29] <kimundi> BUt I can'T imagine a efficient way to uphold that syncronozation
[20:19:54] *** Joins: CactusCommander (fiveside@moz-t2eatg.vsp.com)
[20:20:19] *** Joins: dpc__ (dpc@moz-t6gr4b.ca.comcast.net)
[20:20:20] <bstrie> Manishearth: didn't you write this article months ago, or am I having some weird deja vu
[20:20:25] *** Quits: ebel (rory@moz-0lehdb.m4r4.nqcu.0470.2001.IP) (Quit: Leaving)
[20:20:30] *** Joins: shammancer (shammancer@moz-mn8fch.abhsia.telus.net)
[20:20:34] *** Joins: agarie (agarie@moz-coa.g2h.32.177.IP)
[20:21:12] <kralyk> Anyone knows what this linking error means?
[20:21:14] <kimundi> bstrie: Wheew, I'm not crazy after all
[20:21:14] <kralyk> relocation R_X86_64_32S against `.rodata' can not be used when making a shared object; recompile with -fPIC
[20:21:24] *** Quits: giucam (giucam@moz-iv0nnc.bb.dnainternet.fi) (Ping timeout: 121 seconds)
[20:21:33] *** Joins: p1start (p1start@moz-nftjhe.org)
[20:21:40] <wooowe> Is there a way to test if the tcpstream has anything to read :p?
[20:21:47] *** Joins: mkpankov` (mkpankov@moz-2ji.jvq.149.83.IP)
[20:21:53] *** Quits: Fiveside (fiveside@moz-t2eatg.vsp.com) (Ping timeout: 121 seconds)
[20:23:36] <wilsonk-laptop> kralyk: you need to pass '-fPIC' to the compiler because that will make the compiler produce 'position independent code' and that should get rid of that error
[20:23:44] *** Joins: rajat (rajat@moz-fq5.l4p.189.205.IP)
[20:24:22] <mbrubeck> bstrie: yes - https://news.ycombinator.com/item?id=9453465
[20:24:22] *** Joins: gng (faux@moz-67fidm.singnet.com.sg)
[20:24:30] *** Quits: mkpankov (mkpankov@moz-n33.u5t.23.84.IP) (Ping timeout: 121 seconds)
[20:24:36] *** Quits: agarie (agarie@moz-coa.g2h.32.177.IP) (Ping timeout: 121 seconds)
[20:25:32] *** Quits: sonder (chatzilla@moz-nt8r49.idi.ntnu.no) (Ping timeout: 121 seconds)
[20:25:40] *** Quits: Guest22984 (dylan@moz-5ol.6j4.9.153.IP) (Connection closed)
[20:25:41] <kralyk> wilsonk-laptop: Ok, so I suppose that's a trouble with a native dependency, not Rust code...
[20:25:54] *** efaust|pto is now known as efaust
[20:26:12] *** Quits: gyng (faux@moz-67fidm.singnet.com.sg) (Ping timeout: 121 seconds)
[20:26:12] <wilsonk-laptop> kralyk: I would imagine, yes :)
[20:26:27] *** Joins: npm (npm@moz-71q.g5g.156.168.IP)
[20:26:38] <kralyk> wilsonk-laptop: Ok, thanks.
[20:27:01] <wilsonk-laptop> kralyk: np
[20:27:11] *** Joins: borromakot (Adium@moz-d7t.h3t.104.38.IP)
[20:27:15] *** Quits: jbcurtin (jbcurtin@moz-lskisb.LosAngeles1.Level3.net) (Ping timeout: 121 seconds)
[20:27:22] *** Quits: npm (npm@moz-71q.g5g.156.168.IP) (Connection closed)
[20:27:32] <borromakot> what is the simplest way to link the stdout of one Command to the stdin of another Command?
[20:27:45] <pcwalton> GBGamer: I punted your PR over to aturon and/or acrichto since they're the library gurus; they should be on it shortly
[20:27:53] *** Joins: npm (npm@moz-urd.pod.125.50.IP)
[20:27:54] <borromakot> I've tried a lot of things, and I haven't been able to get something satisfactory.
[20:28:05] <borromakot> bstrie: thanks for reminding me of the official channel :D
[20:28:24] *** Quits: GBGamer (npm@moz-urd.pod.125.50.IP) (Connection closed)
[20:28:46] <Manishearth> bstrie: yeah, I reposted it to Polyglot weekly
[20:28:47] *** Joins: veddan (viktor@moz-6qttr5.cust6.csbnet.se)
[20:28:55] *** Quits: andre (andre@moz-rnd.3qv.76.201.IP) (Quit: leaving)
[20:28:56] <Manishearth> it went through an editorial process which was fun
[20:29:04] <seanmonstar> borromakot: io::copy?
[20:29:49] *** Joins: polyfractal (polyfractal@moz-io7gj2.hfc.comcastbusiness.net)
[20:30:14] *** Joins: Guest63 (textual@moz-9ct.il3.161.192.IP)
[20:30:20] <borromakot> seanmonstar: I will explore.
[20:30:28] *** Quits: p1start (p1start@moz-nftjhe.org) (Ping timeout: 121 seconds)
[20:30:32] *** chmanchester|afk is now known as chmanchester
[20:30:43] <talchas> borromakot: I think the only way without shenanigans atm is to use piped and have a thread doing forwarding
[20:31:07] *** Joins: claudiu (claudiu@moz-gqds22.0ekj.kp93.010d.2620.IP)
[20:31:07] <talchas> the Right way is to set up a pipe between them, but I don't think rust exposes that in any useful way
[20:31:10] *** Joins: ucarion (ulyssecario@moz-7b29q5.ResHall.Berkeley.EDU)
[20:31:11] *** Joins: dylan (dylan@moz-5ol.6j4.9.153.IP)
[20:31:35] *** dylan is now known as Guest54104
[20:32:01] *** Quits: claudiu (claudiu@moz-gqds22.0ekj.kp93.010d.2620.IP) (Connection closed)
[20:32:09] <borromakot> talchas: yeah I've noticed that the types between stdout and stdin on command fields can't really be passed around usefully.  In the docs it says that a Command starts with stdout and stdin fields that contain a Stdio::pipe().  What I thought I could do, in that case, was just reference them as the stdin/stdout of another process.
[20:32:25] *** Parts: rbrs (rbrs@moz-m5thmg.static.zebra.lt) ()
[20:32:32] <borromakot> talchas: but I think that might have been naive.
[20:32:32] *** Quits: mkpankov` (mkpankov@moz-2ji.jvq.149.83.IP) (Connection closed)
[20:32:38] *** Joins: mkpankov (mkpankov@moz-g8b.4ms.23.84.IP)
[20:32:44] <talchas> borromakot: you can on linux, and I suspect windows too
[20:32:49] <talchas> but rust doesn't expose how
[20:33:15] *** Joins: claudiu (claudiu@moz-3ej.9o0.201.199.IP)
[20:34:14] *** Quits: munksgaard (munksgaard@moz-33d.hq0.225.130.IP) (Ping timeout: 121 seconds)
[20:34:21] *** Quits: JosiahOne|Work (Thunderbird@moz-f2hp7h.biz.rr.com) (Client exited)
[20:34:22] <talchas> (if it had a Stdio::inherit_fd(RawFd) and ChildStd{in,out,err} had AsRawFd, then it would work)
[20:34:29] *** Joins: larhat (Adium@moz-tb1ulb.cable.virginm.net)
[20:34:34] *** Quits: chmanchester (Chris@moz-k2b6dp.rgd2.9kg1.0101.2620.IP) (Ping timeout: 121 seconds)
[20:34:40] <talchas> (and both of these are implementable on linux)
[20:35:11] *** Quits: thiblahute (tsaunier@moz-68f5rr.rev.sfr.net) (Ping timeout: 121 seconds)
[20:35:14] *** Quits: ucarion (ulyssecario@moz-7b29q5.ResHall.Berkeley.EDU) (Ping timeout: 121 seconds)
[20:35:37] *** Quits: avikpal (avikpal@moz-scs.1ud.98.59.IP) (Connection closed)
[20:36:05] <borromakot> talchas: I mean…worst case I could just have execute the command, and read the output into a String and write that to the next one.
[20:36:17] <borromakot> talchas: but that feels dirty.
[20:36:36] <borromakot> like gather the output ahead of time.
[20:36:55] *** Joins: ismaelga (ismaelga@moz-65bbe1.rev.vodafone.pt)
[20:37:18] *** Joins: hhhhhhhhhh (mike@moz-969kuj.cable.virginm.net)
[20:37:40] *** Joins: Kingsquee (kingsley@moz-qq7ns6.bchsia.telus.net)
[20:37:44] *** Joins: ptalbot (ptalbot@moz-j4gnuh.fbx.proxad.net)
[20:37:57] *** Quits: ismaelga (ismaelga@moz-65bbe1.rev.vodafone.pt) (Connection closed)
[20:38:00] *** Quits: kamilc__ (kamil@moz-u843uu.play-internet.pl) (Quit: Linkinus - http://linkinus.com)
[20:38:50] *** Joins: essem2 (Thunderbird@moz-f9p.4ol.7.74.IP)
[20:38:59] *** Joins: erz (erz@moz-n2p94l.broadband.corbina.ru)
[20:39:02] <talchas> borromakot: ok, yeah, there's that too if they don't need to actually be running at the same time
[20:39:11] *** Quits: tigrou3tac (fabien@moz-gdonfo.fbx.proxad.net) (Ping timeout: 121 seconds)
[20:39:15] *** Joins: ismaelga (ismaelga@moz-65bbe1.rev.vodafone.pt)
[20:39:16] *** Quits: sprang (sprang@moz-0jh.c9m.56.172.IP) (Ping timeout: 121 seconds)
[20:39:34] <mbrubeck> borromakot: Does this work? http://is.gd/vUqEcG
[20:39:35] *** Quits: brontron4k (brontron@moz-c9crms.ph.cox.net) (Ping timeout: 121 seconds)
[20:39:44] *** Joins: vmeson (rmacleod@moz-hs5cri.cable.teksavvy.com)
[20:39:50] *** Quits: fabianvf (fabianvf@moz-j12.dim.197.216.IP) (Connection closed)
[20:40:42] *** Quits: jml (jml@moz-mqpurn.178.in-addr.arpa) (Ping timeout: 121 seconds)
[20:40:51] *** Joins: chmanchester (Chris@moz-smnb3q.2rkg.9kg1.0101.2620.IP)
[20:40:56] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[20:42:02] *** Joins: jml (jml@moz-mqpurn.178.in-addr.arpa)
[20:43:01] *** Quits: mnemnion (mnemnion@moz-e8rfii.ca.comcast.net) (Connection closed)
[20:43:40] <locks> any rustache contributors in here? I'm curious as to the status of the lib
[20:43:44] *** Quits: ismaelga (ismaelga@moz-65bbe1.rev.vodafone.pt) (Connection closed)
[20:44:45] <tamird> acrichto: is it possible to run a build script when testing a crate? i'm working on rust-bindgen and want to codegen a bunch of stuff just before the tests are compiled.
[20:44:55] *** Quits: chmanchester (Chris@moz-smnb3q.2rkg.9kg1.0101.2620.IP) (A TLS packet with unexpected length was received.)
[20:44:59] *** Quits: nott (nott@moz-to4.06o.57.86.IP) (Ping timeout: 121 seconds)
[20:45:05] *** Joins: ismaelga (ismaelga@moz-fppv6r.cpe.netcabo.pt)
[20:45:29] <mbrubeck> borromakot: http://is.gd/aAcsqp
[20:45:32] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[20:46:05] *** Joins: chmanchester (Chris@moz-v6t8hm.rgd2.9kg1.0101.2620.IP)
[20:46:34] <borromakot> sorry, checked out for a second guys
[20:46:45] <borromakot> lemme look at the links you sent
[20:46:50] *** Quits: mgottschlag (quassel@moz-pfs1s8.scc.kit.edu) (Connection closed)
[20:46:56] *** Quits: kard (-@moz-t3sf6f.dip0.t-ipconnect.de) (A TLS packet with unexpected length was received.)
[20:46:59] <mbrubeck> My last link was a fixed version of my first one.
[20:47:44] <talchas> yeah, that's the impl for "copy from one fd to the other in the background"
[20:48:03] <mbrubeck> Yup - it doesn't pipe them directly together; everything goes through the parent process.
[20:48:27] *** Quits: npm (npm@moz-urd.pod.125.50.IP) (Ping timeout: 121 seconds)
[20:48:33] <mbrubeck> and it'll block the thread where copy is running
[20:48:36] <borromakot> mbrubeck: I think this is exactly what I need.  I have a recursive structure, whereby each command that pipes its stdout to some other command knows about the next one.  So if I just pass the command along to the next call, I can use the std::io::copy perfectly.
[20:48:40] *** Joins: Layl (Layl@moz-65hqmf.direct-adsl.nl)
[20:49:23] *** Quits: arBmind (Andreas@moz-bi5moq.adsl.alicedsl.de) (Quit: Leaving.)
[20:49:29] *** Joins: npm (npm@moz-urd.pod.125.50.IP)
[20:49:30] <talchas> and of course there's horrible option you should never use: construct a shell command line and call libc::system!
[20:49:41] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[20:49:52] <acrichto> tamird: unfortunately no, it's only available to build the crate itself
[20:50:00] *** Quits: Skyler (Skyler@moz-rv949t.sd.cox.net) (Client exited)
[20:50:28] *** Joins: james4k (james@moz-ao8aj6.consolidated.net)
[20:50:31] *** Quits: Esption (Esption@moz-3gitvr.dynamic.tds.net) (Connection closed)
[20:50:44] <tamird> acrichto arg, that's a problem, because the crate itself is also not available during build, right?
[20:51:03] <borromakot> mbrubeck: so say I had a bunch of calls to Command…..spawn(), and then kept copying the stdout to the stdin on the next, then I call .output() on the last one, they should all have essentially executed serially correct?
[20:51:11] <borromakot> because the thread is blocked while copying is happening?
[20:51:19] *** Joins: basicdays (basicdays@moz-vreeoj.cable.rcn.com)
[20:51:45] *** Quits: zyga (zyga@moz-84t.g3u.7.89.IP) (Ping timeout: 121 seconds)
[20:51:49] <talchas> borromakot: yeah
[20:52:06] <talchas> if you want the all in parallel properly you can spawn off a bunch of threads to do all the copies
[20:52:27] <talchas> (or doing horrible hacks with libc and dup2)
[20:52:48] *** Quits: TheLemonMan (lemonboy@moz-hugusq.45-151.net24.it) (Ping timeout: 121 seconds)
[20:52:55] <borromakot> from what I can tell, if I'm feeding stdout of one process to another, then I can't imagine a situation where I would want one command to start without the full stdout of the previous.
[20:53:09] *** Joins: zyga (zyga@moz-84t.g3u.7.89.IP)
[20:53:10] <borromakot> talchas: with my use case at least.
[20:53:20] *** Joins: duesenfranz_ (jona@moz-711djm.tirol.surfer.at)
[20:53:21] <talchas> yeah, if you don't need it, it's much simpler
[20:53:38] <scott> unix pipes often run many commands in parallel even though it's sequential data passing
[20:53:42] *** Joins: kazagistar (jgedeon@moz-08c7kl.coe.montana.edu)
[20:54:04] *** Joins: lenstr (lenstr@moz-s8k.vju.25.171.IP)
[20:54:04] *** Joins: Tarmashirin (Tarmashirin@moz-rue.8s5.91.59.IP)
[20:54:09] *** Quits: Temur (Tarmashirin@moz-rue.8s5.91.59.IP) (Connection closed)
[20:54:12] <scott> depends on the nature of the programs whether it's worthwhile
[20:54:29] *** Quits: kralyk (kralyk@moz-ote.edj.146.88.IP) (Ping timeout: 121 seconds)
[20:54:33] <kazagistar> I am not sure what this error means "the trait `core::convert::AsRef<[_]>` is not implemented for the type ..."
[20:54:34] <borromakot> scott: is that just so that the thread can get everything done up to the point where it wants to read stdin?
[20:54:36] *** Quits: Guest54104 (dylan@moz-5ol.6j4.9.153.IP) (Ping timeout: 121 seconds)
[20:54:54] *** Quits: lenstr (lenstr@moz-s8k.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[20:55:03] *** Joins: lenstr (lenstr@moz-s8k.vju.25.171.IP)
[20:55:30] <scott> take `ls | grep foo | wc -l` for example. when ls is half-done printing its file list, grep may already have filtered that half and wc counted the results of the filter, before ls prints the second half
[20:55:34] <talchas> well, if you're doing a bunch traditional unix-style line-editing, each can do things in parallel
[20:55:51] <scott> this is very useful when there's a lot of data going through the pipes
[20:55:51] *** Joins: fabianvf (fabianvf@moz-j12.dim.197.216.IP)
[20:55:56] *** Joins: TheLemonMan (lemonboy@moz-hugusq.45-151.net24.it)
[20:56:03] *** Quits: lenstr (lenstr@moz-s8k.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[20:56:30] *** Quits: happy-dude_ (uid62780@moz-jt3517.charlton.irccloud.com) (Quit: Connection closed for inactivity)
[20:57:00] <talchas> kazagistar: some function wants "anything that's equivalent to &[something]" and whatever you're passing it doesn't qualify
[20:57:22] <borromakot> scott: thats a pretty excellent use of pipes.  I'm writing a shell.  Wouldn't you have to have some guarantees about whether or not the command can handle data as a stream before you set it up that way?
[20:57:31] *** Quits: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net) (Quit: rcirc on GNU Emacs 24.5.1)
[20:57:45] <scott> every command handles data the same way
[20:57:46] <talchas> borromakot: well, normally you just set it up that way for everything
[20:57:47] *** Joins: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net)
[20:57:48] *** ChanServ sets mode: +o pnkfelix
[20:57:55] *** Quits: ahal (ahal@moz-b8e0a0.cpe.pppoe.ca) (A TLS packet with unexpected length was received.)
[20:58:02] <talchas> and if they read until eof they get no benefit, but that's fine
[20:58:04] <scott> it's just only a win for the ones that print before they're done reading
[20:58:19] *** Quits: rajat (rajat@moz-fq5.l4p.189.205.IP) (Client exited)
[20:58:22] <kazagistar> talchas: the place its pointing to is where it is being declared, as opposed to where that trait is required I think...
[20:58:29] <scott> e.g. the tail command can't print anything until it hits EOF, so anything piped after tail will have to wait
[20:59:01] <scott> but many commands can do partial reads, do some work, and then write the partial results
[20:59:55] <borromakot> scott: interesting.  Okay, so I wouldn't I want to do the io::copy *before* I spawn() the Command process?  Because some commands do just fine with no stdin.
[21:00:04] *** Quits: rprichard (rprichard@moz-qkai33.en8f.d045.0009.2601.IP) (Connection closed)
[21:00:54] <scott> not sure what you mean. mbrubeck's example uses io::copy on readers/writers you get from spawn, so how would it be done before spawn?
[21:01:48] *** Joins: datazombie (Mibbit@moz-ss0.02d.243.173.IP)
[21:01:50] <borromakot> scott: I thought the command has fields for the IO structs on stdio and stdout.  Aren't they accessible before you do '.spawn()'
[21:01:51] *** Quits: TheLemonMan (lemonboy@moz-hugusq.45-151.net24.it) (Quit: "It's now safe to turn off your computer.")
[21:01:56] *** Joins: kralyk (kralyk@moz-ote.edj.146.88.IP)
[21:01:57] *** Quits: scialex (scialex@moz-j5mi8i.cs.brown.edu) (Quit: Leaving)
[21:02:04] <duesenfranz_> ..can anybody explain to me why this doesn't work?: http://is.gd/qeYGBF
[21:02:09] <datazombie> hello I am getting this error thread '<main>' panicked at 'error retrieving column 6: WrongType(Numeric)'
[21:02:14] <duesenfranz_> since the function should only life as long as 'a, shouldn't this be correct?
[21:02:20] *** Joins: Jesse (jruderman@moz-cfhap5.mtv2.mozilla.com)
[21:02:23] <datazombie> can someone tell what the correct type is for Numeric
[21:02:24] <debu> I'm getting a warning when using a loop name, like 'blah : loop {}
[21:02:24] *** Joins: brontron4k (brontron@moz-c9crms.ph.cox.net)
[21:02:24] <scott> borromakot: Command has no public fields
[21:02:30] <debu> Says something about shadowing
[21:03:00] <scott> borromakot: and before you .spawn, no child process actually exists yet, so you can't read or write anything
[21:03:56] *** Quits: chmanchester (Chris@moz-v6t8hm.rgd2.9kg1.0101.2620.IP) (Ping timeout: 121 seconds)
[21:04:03] * duesenfranz_ was really stupid :)
[21:04:15] *** Quits: zyga (zyga@moz-84t.g3u.7.89.IP) (Ping timeout: 121 seconds)
[21:04:51] *** Quits: darkowlzz|afk (Elite12883@moz-kue6ah.elitebnc.org) (Ping timeout: 121 seconds)
[21:05:07] *** Joins: jbcurtin (jbcurtin@moz-lskisb.LosAngeles1.Level3.net)
[21:05:08] <scott> duesenfranz_: just needs the move keyword: http://is.gd/NmP3JI
[21:05:28] *** Quits: kralyk (kralyk@moz-ote.edj.146.88.IP) (Quit: WeeChat 1.1.1)
[21:05:42] <duesenfranz_> scott: yeah thanks, compiler even told me :) I was just _very_ confused about data being a reference
[21:05:47] *** Joins: darkowlzz|afk (Elite12883@moz-kue6ah.elitebnc.org)
[21:06:16] <scott> yeah, closures normally take references but the syntax doesn't show that explicitly
[21:06:57] <duesenfranz_> scott: references to everything with the lifetime of the current scope, right?
[21:06:58] <scott> so returning a non-move closure that mentions a local variable (or an argument) is always an error
[21:07:32] *** Joins: brontron5k (brontron@moz-c9crms.ph.cox.net)
[21:07:55] <scott> duesenfranz_: I'm not sure exactly what the lifetimes would look like on a closure type, but that sounds right
[21:08:19] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Connection closed)
[21:08:28] *** Quits: sillesta (sillesta@moz-501od2.business.telia.com) (A TLS packet with unexpected length was received.)
[21:08:36] <borromakot> scott: Sorry, so when I call .spawn() on a Command, the docs say that it "executes the command as a child process, inheriting stdin stdout and stderr from the parent.  So how would it work to spawn the process and *then* copy stdout to stdin?
[21:08:54] *** Joins: sillesta (sillesta@moz-501od2.business.telia.com)
[21:09:05] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[21:09:09] <scott> borromakot: see mbrubeck's second link
[21:09:26] <borromakot> oh, does saying that it is a pipe fix that?
[21:09:33] <scott> spawns two child processes, then reads from the first's stdout and writes that data to the second's stdin
[21:09:34] *** Quits: brontron4k (brontron@moz-c9crms.ph.cox.net) (Ping timeout: 121 seconds)
[21:09:53] *** Quits: ellinokon (ellinokon@moz-gh5.r2h.62.178.IP) (Ping timeout: 121 seconds)
[21:10:03] *** Quits: essem2 (Thunderbird@moz-f9p.4ol.7.74.IP) (Client exited)
[21:10:12] <scott> io::copy is just a rust-land loop that reads from a reader and writes to a writer until EOF
[21:10:25] *** Quits: polyfractal (polyfractal@moz-io7gj2.hfc.comcastbusiness.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[21:10:30] <borromakot> scott: alright, it just clicked.  We're good :D.  Feel a bit dumb!
[21:10:31] *** Quits: kkus (kkus@moz-baj4jj.74.srtnet.com) (Connection closed)
[21:11:01] *** Joins: noikou (Mibbit@moz-3eakk5.adsl.xs4all.nl)
[21:11:22] *** Quits: duesenfranz_ (jona@moz-711djm.tirol.surfer.at) (Client exited)
[21:11:24] <scott> process stuff can be a bit complicated. I don't even know why the Stdio::piped is necessary, but presumably the docs say somewhere
[21:11:29] *** Joins: zyga (zyga@moz-84t.g3u.7.89.IP)
[21:11:35] *** Quits: djcb (user@moz-nqdj21.elisa-laajakaista.fi) (Connection closed)
[21:11:56] <scott> oh, I see. inheriting is default and piped lets the parent read/write from/to the child
[21:12:08] *** Quits: santiago (santiago@moz-ro2mm9.res.rr.com) (Quit: Computer has gone to sleep.)
[21:12:28] *** Quits: sfusco (Adium@moz-io3.np5.78.208.IP) (Quit: Leaving.)
[21:13:14] *** Joins: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com)
[21:13:19] *** Joins: actual (Mibbit@moz-vavbv0.ct.comcast.net)
[21:14:01] *** Quits: frankmcsherry (frankmcsher@moz-9ohmiq.adsl.alicedsl.de) (Connection closed)
[21:14:03] *** Quits: wooowe (Mibbit@moz-499ogh.wi.charter.com) (Quit: http://www.mibbit.com ajax IRC Client)
[21:14:09] *** Quits: Guest63 (textual@moz-9ct.il3.161.192.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[21:14:16] *** Joins: skade (skade@moz-6athcr.pools.vodafone-ip.de)
[21:14:49] *** Quits: Izacht13 (Izacht13@moz-gee645.atsnmeam.ccmaine.net) (Connection closed)
[21:15:02] *** Joins: Izacht13 (Izacht13@moz-gee645.atsnmeam.ccmaine.net)
[21:15:34] <borromakot> scott: thanks :D
[21:15:55] *** Quits: dstrbad (dstrbad@moz-6an0vh.dsl.iskon.hr) (A TLS packet with unexpected length was received.)
[21:16:26] <bstrie> cmr: I like the betawatch section of twir, this is a good idea
[21:18:16] *** Joins: chmanchester (Chris@moz-nie1j1.2rkg.9kg1.0101.2620.IP)
[21:18:38] *** Quits: glennpratt (glennpratt@moz-neq2gf.dsl-w.verizon.net) (A TLS packet with unexpected length was received.)
[21:18:45] *** bvssvni_ is now known as bvssvni
[21:19:04] *** Quits: noikou (Mibbit@moz-3eakk5.adsl.xs4all.nl) (Quit: http://www.mibbit.com ajax IRC Client)
[21:19:07] *** Joins: glennpratt (glennpratt@moz-neq2gf.dsl-w.verizon.net)
[21:19:30] *** Joins: TheLemonMan (lemonboy@moz-hugusq.45-151.net24.it)
[21:19:32] *** Quits: actual (Mibbit@moz-vavbv0.ct.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[21:19:49] *** Quits: brontron5k (brontron@moz-c9crms.ph.cox.net) (Ping timeout: 121 seconds)
[21:20:04] *** Joins: junseok (junseok@moz-pbo4ce.ca.comcast.net)
[21:20:30] *** Quits: Crandom (Crandom__@moz-9bm9pi.us) (Ping timeout: 121 seconds)
[21:20:39] *** Quits: glennpratt (glennpratt@moz-neq2gf.dsl-w.verizon.net) (Connection closed)
[21:20:41] <veddan> any nice way of doing printf-debugging in generic code without adding Debug bounds everywhere?
[21:20:42] *** Joins: glennpratt (glennpratt@moz-neq2gf.dsl-w.verizon.net)
[21:20:46] <junseok> hello! i have a vector of objects, and I'd like to sort of zip it with a map over those same objects
[21:20:48] *** Quits: Tarmashirin (Tarmashirin@moz-rue.8s5.91.59.IP) (Connection closed)
[21:20:54] *** Quits: jdm (jdm@moz-br6siv.cpe.teksavvy.com) (Quit: )
[21:21:02] <junseok> I.e., i have Vec<A> and i want to map with A->B, then zip so I end up with Vec<(A,B)>
[21:21:23] *** Quits: pato (alcuadrado@moz-po8.fg5.194.190.IP) (Quit: (null))
[21:21:39] *** Joins: essem2 (Thunderbird@moz-f9p.4ol.7.74.IP)
[21:21:39] <bluss> junseok: v.into_iter().map(|x| {let b = f(&x); (x, b)} ).collect()
[21:21:41] *** Quits: essem2 (Thunderbird@moz-f9p.4ol.7.74.IP) (Client exited)
[21:21:42] <bluss> basically
[21:21:52] <junseok> ooh wow thats great
[21:21:53] <veddan> junseok: you mean like .map(|x| (x, f(x))) ?
[21:22:04] <junseok> before I was trying to get a separate iter and zip it together witht original
[21:22:14] <junseok> thanks bluss and veddan!
[21:22:15] <bluss> depending on Copying or cloning you may be able to use similar to veddan instead
[21:22:21] *** Quits: chmanchester (Chris@moz-nie1j1.2rkg.9kg1.0101.2620.IP) (Ping timeout: 121 seconds)
[21:22:41] *** Joins: Temur (Tarmashirin@moz-rue.8s5.91.59.IP)
[21:22:44] *** Joins: sprang (sprang@moz-d0kmvi.12d9.sm5v.0009.2601.IP)
[21:22:54] *** Joins: mkpankov` (user@moz-g8b.4ms.23.84.IP)
[21:23:06] *** Quits: Quanttek (quassel@moz-il23im.dynamic.kabel-deutschland.de) (Connection closed)
[21:23:14] *** Joins: chmanchester (Chris@moz-nie1j1.2rkg.9kg1.0101.2620.IP)
[21:23:20] <veddan> yeah, bluss solution is more generic and useful, I just wanted to show the idea
[21:23:25] <veddan> and I was late as well
[21:23:37] *** Quits: Guest67 (textual@moz-8aocg9.ri.cox.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[21:23:38] *** Quits: Rusky (russell@moz-du8evc.slkc.qwest.net) (Ping timeout: 121 seconds)
[21:23:45] <bluss> but yours is more beautiful, when applicable
[21:23:57] *** Quits: claudiu (claudiu@moz-3ej.9o0.201.199.IP) (Quit: Leaving...)
[21:24:56] *** Quits: GaryOak_ (GaryOak_@moz-etoj16.hfc.comcastbusiness.net) (Connection closed)
[21:25:35] *** Joins: Crandom (Crandom__@moz-9bm9pi.us)
[21:25:50] <veddan> any ideas about the debug printing?
[21:26:05] <veddan> it's a bit annoying to add +Debug everywhere when you have a deep call graph of generic functions
[21:26:12] <datazombie> anyone here worked with the postgres numeric type system?
[21:27:04] *** Joins: monsieur_squirrel (Mibbit@moz-bjk.vu3.92.84.IP)
[21:29:01] *** Quits: SneakySnake (nya@moz-i9is4u.pool.telekom.hu) (Connection closed)
[21:29:21] <monsieur_squirrel> hi all, I'm having trouble using ?Sized in a where clause
[21:29:26] <monsieur_squirrel> is this possible?
[21:29:28] <monsieur_squirrel> http://is.gd/lchoOc
[21:30:01] <Ms2ger> Curious
[21:30:13] <Ms2ger> You may wish to file an issue about that
[21:31:13] <monsieur_squirrel> is github the place to do that?
[21:31:44] <Ms2ger> Yep
[21:32:04] *** Quits: VShell (shell@moz-hh5bpk.hackr.org.uk) (Ping timeout: 121 seconds)
[21:32:10] *** Joins: ucarion (ulyssecario@moz-s8mn0n.c3v0.fbki.f140.2607.IP)
[21:32:28] *** Quits: cers (cers@geeksbynature.dk) (Ping timeout: 121 seconds)
[21:32:34] <geofft> monsieur_squirrel: fn foo<B: ?Sized> seems to work for me 
[21:32:35] <bluss> there is probably an issue on that
[21:32:42] <geofft> (though I don't understand when you need where clauses and when you don't) 
[21:32:45] <talchas> yeah, I don't know if that's intentional, a known issue, or what
[21:33:07] <bluss> here it is https://github.com/rust-lang/rust/issues/20503
[21:33:52] <monsieur_squirrel> ok, thanks
[21:34:21] *** Joins: essem2 (Thunderbird@moz-f9p.4ol.7.74.IP)
[21:34:47] <monsieur_squirrel> geofft: i only really use where clauses to tidy up verbose lists of bounds
[21:34:57] *** Quits: dpc__ (dpc@moz-t6gr4b.ca.comcast.net) (Ping timeout: 121 seconds)
[21:34:57] *** Quits: essem2 (Thunderbird@moz-f9p.4ol.7.74.IP) (Client exited)
[21:35:07] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[21:35:14] *** Quits: espadrine (tyl@moz-l019mn.fbx.proxad.net) (Ping timeout: 121 seconds)
[21:35:21] <bluss> I try to put everything in where
[21:35:24] *** Joins: npm_ (npm@moz-urd.pod.125.50.IP)
[21:35:31] *** npm_ is now known as GBGamer
[21:36:13] *** Quits: ucarion (ulyssecario@moz-s8mn0n.c3v0.fbki.f140.2607.IP) (Ping timeout: 121 seconds)
[21:36:33] *** Joins: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu)
[21:36:37] *** Joins: agarie (agarie@moz-coa.g2h.32.177.IP)
[21:37:41] *** Quits: pheleas_frog (Mibbit@moz-i1f.v29.87.24.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[21:38:15] <rillian> so https://notabug.org/rillian/mp4parse-rust/src/master/src/lib.rs gives me a dead code warning on the fields of Mp4FileTypeBox, but not, e.g on Mp4Box. I can't figure out why.
[21:38:33] <pcwalton> an mp4 parser in pure Rust! <3
[21:39:02] <rillian> shouldn't marking it 'pub' be enough to avoid the warning
[21:39:15] *** Quits: ianj (ianjneu@moz-03gv4a.ccs.neu.edu) (Ping timeout: 121 seconds)
[21:39:18] <rillian> pcwalton: well, we'll see how full-featured it gets. :)
[21:39:27] <talchas> rillian: the fields would also need to be pub I believe
[21:39:38] *** Joins: cers (cers@geeksbynature.dk)
[21:39:40] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[21:40:22] *** Joins: Rusky (russell@moz-du8evc.slkc.qwest.net)
[21:40:33] *** Quits: FrozenCow (FrozenCow@moz-i2tvv4.chello.nl) (Quit: Leaving)
[21:40:39] *** Quits: agarie (agarie@moz-coa.g2h.32.177.IP) (Ping timeout: 121 seconds)
[21:40:39] <rillian> talchas: hmm. is it because fmt::Display is implemented for Mp4Box but not Mp4FileTypeBox?
[21:40:45] <rovar> rillian, you impl Display for Mp4Box but not Mp4FileTypeBox
[21:40:59] <rovar> so you're referencing all of the fields of one but not the other
[21:41:16] *** Quits: Hannibal_Smith (Nicola@moz-ucg29b.retail.telecomitalia.it) (Quit: Leaving)
[21:41:35] *** Quits: fabianvf (fabianvf@moz-j12.dim.197.216.IP) (Connection closed)
[21:41:39] *** Joins: Ericson2314 (user@moz-j5mi8i.cs.brown.edu)
[21:41:57] *** Joins: Hannibal_Smith (nico@moz-ucg29b.retail.telecomitalia.it)
[21:42:00] *** Quits: claudiop (claudiop@moz-sqo2tm.cpe.netcabo.pt) (Quit: Leaving)
[21:42:09] *** Joins: Guest67 (textual@moz-gfs9v0.fios.verizon.net)
[21:42:57] *** Quits: ismaelga (ismaelga@moz-fppv6r.cpe.netcabo.pt) (Connection closed)
[21:43:06] *** Joins: GaryOak_ (GaryOak_@moz-etoj16.hfc.comcastbusiness.net)
[21:43:21] <rillian> rovar: but calling the ctor doesn't count as a reference?
[21:43:43] <borromakot> mbrubeck: you still around?
[21:43:44] *** Quits: Temur (Tarmashirin@moz-rue.8s5.91.59.IP) (Ping timeout: 121 seconds)
[21:43:54] <talchas> rillian: only reads in general
[21:43:56] <Ms2ger> rillian, I think you're getting a set-but-never-read warning
[21:44:10] *** Quits: m104ru (m104ru@moz-sje.6lq.205.109.IP) (Ping timeout: 121 seconds)
[21:44:16] *** Joins: areski (areski@moz-tijh72.user.ono.com)
[21:44:16] <saml> does valgrind find all leaks?
[21:45:05] <mbrubeck> borromakot: Just got back
[21:45:55] *** Quits: eibwen (eibwen@moz-7rm68g.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[21:47:10] <borromakot> mbrubeck: I think I figured it out, but I got everything figured out regarding copying the stdin/stdout, except for on the last process, because I wanted to return the output() of the last command.  What I'm doing now is spawning the last process, and returning a handle to it, and then just letting the caller handle how it wants the stdout of that process handled.
[21:47:30] <mbrubeck> Yeah, that sounds fine.
[21:47:56] *** Quits: jshs (jshs@moz-u32f91.dip0.t-ipconnect.de) (Client exited)
[21:48:05] *** Joins: agarie (agarie@moz-coa.g2h.32.177.IP)
[21:48:10] *** Quits: monsieur_squirrel (Mibbit@moz-bjk.vu3.92.84.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[21:48:22] *** Quits: debu (debu@moz-cesna1.dyn.telefonica.de) (Ping timeout: 121 seconds)
[21:49:15] *** Quits: alonlevy (alon@moz-4jqdpb.telavivmakers.org) (Ping timeout: 121 seconds)
[21:51:38] <talchas> the one issue with that is it is likely to cause problems if you try to run things that expect their output to be a tty (or do things differently in that case)
[21:52:15] *** Quits: ai (ai@moz-pqofrl.sunline.net.ua) (Quit: Leaving.)
[21:52:18] *** Joins: fyolnish (fyolnish@moz-3gjd0b.so-net.ne.jp)
[21:52:52] *** Joins: VShell (shell@moz-hh5bpk.hackr.org.uk)
[21:53:30] *** Joins: mnemnion (mnemnion@moz-e8rfii.ca.comcast.net)
[21:53:50] *** Quits: ZenSword (ZenSword@moz-hlrta3.pools.vodafone-ip.de) (Quit: quit)
[21:53:53] *** Quits: yota (Sebastien@moz-g8coh9.3iqc.r856.0e35.2a01.IP) (Quit: Leaving)
[21:54:21] *** Joins: choplin (choplin@moz-qkm9un.ap.nuro.jp)
[21:54:51] <borromakot> talchas: but you would basically ignore that, and they would only have stdin to deal with right?  Or do you mean that they wouldn't ever feed their stdout to the next process?
[21:55:17] <borromakot> also, I'm getting this weird error: `src/main.rs:33:28: 33:49 error: type `std::process::Child` does not implement any method in scope named `read_to_end``  What is strange is this says otherwise https://doc.rust-lang.org/std/process/struct.Child.html
[21:55:39] <borromakot> oh wait nevermind haha.  That doesn't say otherwise "D
[21:55:41] <borromakot> :D
[21:55:46] *** Joins: nico (nico@moz-69jj7k.dip0.t-ipconnect.de)
[21:55:48] *** Quits: choplin (choplin@moz-qkm9un.ap.nuro.jp) (Connection closed)
[21:56:21] *** Quits: fyolnish (fyolnish@moz-3gjd0b.so-net.ne.jp) (Ping timeout: 121 seconds)
[21:56:36] *** Joins: lenstr (lenstr@moz-s8k.vju.25.171.IP)
[21:57:14] *** Quits: lenstr (lenstr@moz-s8k.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[21:57:19] *** Quits: Douman (Douman@moz-70r6na.dynamic.mts-nn.ru) (Quit: )
[21:57:27] *** Joins: lenstr (lenstr@moz-s8k.vju.25.171.IP)
[21:57:30] *** Joins: jtdowney (jtdowney@moz-gh1isj.static.twtelecom.net)
[21:57:32] *** Quits: mnemnion (mnemnion@moz-e8rfii.ca.comcast.net) (Ping timeout: 121 seconds)
[21:58:03] <talchas> borromakot: if you're saying that for the last program in a pipeline you're doing Stdio::piped() and then copying it to stdout(), then it may not work for things that want to use tty stuff
[21:58:14] <talchas> (because their output is now a pipe, not a tty)
[21:58:26] *** Quits: lenstr (lenstr@moz-s8k.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[21:58:40] <borromakot> no for the last one, I'm just returning a handle to the final process, that has just been spawned.
[21:58:48] *** Quits: agarie (agarie@moz-coa.g2h.32.177.IP) (Quit: Leaving...)
[21:58:48] <talchas> ah, ok
[21:58:58] <talchas> I just misunderstood then
[21:59:02] <borromakot> I haven't really done anything to prepare for that though.
[21:59:05] <borromakot> hmm.
[21:59:09] *** Quits: gopar (gopar@moz-5039uj.ca.comcast.net) (Quit: Leaving)
[21:59:48] *** Quits: nico (nico@moz-69jj7k.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[22:00:52] *** Joins: wiiittttt (Mibbit@moz-d8ea45.noc.cv.net)
[22:01:20] *** Quits: kmicu (kmicu@moz-uga.edn.218.91.IP) (Client exited)
[22:01:42] *** Joins: choplin (choplin@moz-qkm9un.ap.nuro.jp)
[22:02:06] *** Joins: fabianvf (fabianvf@moz-j12.dim.197.216.IP)
[22:02:44] *** Quits: datazombie (Mibbit@moz-ss0.02d.243.173.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[22:02:48] *** Quits: wiiittttt (Mibbit@moz-d8ea45.noc.cv.net) (Quit: http://www.mibbit.com ajax IRC Client)
[22:02:51] <borromakot> so in a function when I generate a process, I want to return it for the caller to own, how would I do that?
[22:02:59] <borromakot> putting up a playpen example
[22:04:00] <borromakot> http://is.gd/et5JG8
[22:04:46] *** Quits: colinsurprenant (colin@moz-rmn4e2.169.electronicbox.net) (Client exited)
[22:05:09] <borromakot> that probably won't compile, but i very much paraphrased my code.  The issue I get when I try to return it is that it can't be moved because it has a type `core::result::Result<std::process::Child, std::io::error::Error>` which is non copyable.
[22:05:30] <rillian> Ms2ger: src/lib.rs:17:5: 17:14 warning: struct field is never used: `name`, #[warn(dead_code)] on by default
[22:05:33] <rillian> src/lib.rs:17     name: u32,
[22:06:03] *** Joins: thelastinuit (thelastinui@moz-doh.aqt.240.148.IP)
[22:06:10] <seanmonstar> Gankro: ive got a HashMap<K, Vec<T>>. whatcha think is the best way to remove the vec once it's empty?
[22:06:17] *** Joins: hoony (Thunderbird@moz-0oo.sbr.128.121.IP)
[22:06:27] <rillian> I guess I have my answer though. I was just surprised by the private-by-default members.
[22:06:32] <seanmonstar> cant seem to find a way without hashing the key again :/
[22:06:45] *** Joins: tristanseifert (tristanseif@moz-r0t7ns.res.rr.com)
[22:06:58] <FreeFull> seanmonstar: Maybe with the Entry API?
[22:07:29] <seanmonstar> FreeFull: requires me to have an owned key
[22:07:51] <mbrubeck> borromakot: I don't get an error trying to return that result - http://is.gd/2NQ4rL
[22:08:12] *** Quits: stjahns (stjahns@moz-mbofdn.uws.ualberta.ca) (Connection closed)
[22:08:20] <mbrubeck> borromakot: If you want a Child, you need to match on the Result, or unwrap it.
[22:08:29] <borromakot> oh, I see.
[22:08:51] <borromakot> well…hm.  Maybe it is something else I'm doing.
[22:08:59] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[22:09:44] *** Quits: Guest___ (textual@moz-rtn.fg7.77.192.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[22:10:01] *** Joins: willem (willem@moz-facs2s.dynamic.upc.nl)
[22:10:22] <borromakot> I do want it to return the result, not the child, so I think it has to do with using references to struct fields when creating the command.
[22:10:28] <Sgeo_> Although I can't say I've had much actual experience, I think the thing that irks me about monkey-patching is that methods still aren't namespaced. So thank you Rust for doing that <3
[22:11:32] <ptalbot> Does someone know why http://is.gd/GyedsI generates the error in comment (it's about libsyntax)? (a recent change in the compiler broke my code.)
[22:11:40] *** Quits: fabianvf (fabianvf@moz-j12.dim.197.216.IP) (Connection closed)
[22:12:35] <seanmonstar> associated constants just landed, must be related
[22:12:41] *** Joins: fabianvf (fabianvf@moz-j12.dim.197.216.IP)
[22:12:41] <borromakot> mbrubeck: actually the issue is here. I'm trying to return the process, but it was moved for this line `let _ = io::copy(&mut feed_command.stdout.unwrap(), &mut process.unwrap().stdin.unwrap());`
[22:12:59] <borromakot> can I just not use the results of the io::copy function?
[22:13:12] *** Quits: dzyp (hiatt@moz-ofiasr.static.qwest.net) (Ping timeout: 121 seconds)
[22:13:18] <borromakot> nope, still happens.
[22:13:21] <seanmonstar> borromakot: pass a ref to copy?
[22:13:34] <seanmonstar> borromakot: command.stdout.as_mut().unwrap()?
[22:13:40] <mystor> Is there any way for me to make `Box<TraitObject>` implement Clone, such that I can `#[derive(Clone)]` on the enclosing struct? I've tried adding Clone as a trait bound to `TraitObject`, but it doesn't seem to be working :(
[22:13:40] <seanmonstar> im guessing stdout is an Option
[22:13:50] <borromakot> yes it is
[22:13:57] *** Joins: Skyler (Skyler@moz-nu4i4b.sd.cox.net)
[22:14:15] <bluss> mystor: you can impl Clone on Box<TraitObject> manually
[22:14:17] <seanmonstar> borromakot: then what i suggest will pass a &mut, instead of consuming it
[22:14:30] <borromakot> very cool.
[22:14:31] <mystor> bluss: Ah, that will work? Awesome.
[22:14:32] <borromakot> lemme try that out
[22:14:49] <bluss> mystor: you'll need help from the trait itself I think, so add some kind of method to return a Box<TraitObject> and use it in your Clone impl
[22:15:06] *** Joins: chc4 (chc4@moz-pdo0at.ma.comcast.net)
[22:15:33] *** Quits: ryanhiebert (ryanhiebert@moz-nsd5kl.ks.cox.net) (Connection closed)
[22:16:06] <mystor> bluss: Yeah, that makes sense. Otherwise the box won't know how much space to allocate
[22:16:11] <seanmonstar> mystor: i ended up doing something like this: https://github.com/hyperium/hyper/blob/master/src/header/mod.rs#L64-L74
[22:16:20] *** Quits: fabianvf (fabianvf@moz-j12.dim.197.216.IP) (Connection closed)
[22:16:32] <bluss> yes. maybe that -> Box<TraitObject> thing can be a default method on the trait? hmm I'd experiment
[22:16:33] *** Quits: choplin (choplin@moz-qkm9un.ap.nuro.jp) (Connection closed)
[22:16:58] <seanmonstar> i think that might not work
[22:17:31] <borromakot> seanmonstar: I ended up having to do that for both options. lol `process.as_mut().unwrap().stdin.as_mut().unwrap()`
[22:17:54] <seanmonstar> ah sure
[22:18:08] *** Joins: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net)
[22:18:14] * hoverbear can't wait to develop web apps on rust
[22:18:35] <seanmonstar> borromakot: unwrap() will move the value *out* of the Option. so as_mut() will create a new Option that has &mut T, and then you can move the reference around willy nilly
[22:18:38] <Sgeo_> Why did no one tell me that this works? And why wasn't my macro working then: https://github.com/rust-lang/rust/blob/master/src/test/run-pass/macro-multiple-items.rs
[22:18:43] <seanmonstar> *until the borrow checker yells
[22:19:01] *** Quits: Guest5 (textual@moz-hnb58r.oc.cox.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[22:19:02] <ptalbot> seanmonstar, was your message for me (about associated constants)?
[22:19:08] <seanmonstar> ptalbot: yes
[22:19:15] <seanmonstar> sorry, forgot the mention
[22:19:19] *** Quits: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net) (Quit: rcirc on GNU Emacs 24.5.1)
[22:19:26] <seanmonstar> ptalbot: https://github.com/rust-lang/rust/pull/23606
[22:19:33] <ptalbot> seanmonstar, oh ok^^' I don't see how it's related through
[22:19:49] <ptalbot> seanmonstar, ok gonna give it a glance
[22:19:51] <seanmonstar> may have fiddled with the parsing/allowed tokens in a trait
[22:20:06] <ptalbot> ok thx!
[22:20:08] *** Quits: laumann (thomas@moz-n9e72h.0.fullrate.dk) (Ping timeout: 121 seconds)
[22:20:56] *** Quits: bjz (bjz@moz-puppgq.tpgi.com.au) (Quit: My Mac has gone to sleep. ZZZzzz…)
[22:21:51] *** Quits: dalarmmst (dalarmmst@moz-mb21j4.bredband.comhem.se) (Ping timeout: 121 seconds)
[22:21:59] *** Joins: rajat (rajat@moz-fq5.l4p.189.205.IP)
[22:22:04] *** Quits: sillesta (sillesta@moz-501od2.business.telia.com) (A TLS packet with unexpected length was received.)
[22:22:13] *** Quits: Racquetball (namestolenw@moz-dnlovt.cpe.twtelecom.net) (Quit: leaving)
[22:22:14] <rajat> hi, what is the issue with f2 in the following example - http://is.gd/d23MSz
[22:22:21] *** Joins: brontron4k (brontron@moz-c9crms.ph.cox.net)
[22:22:23] <bluss> mystor: well the boilerplate per trait impl is probably needed. but it's manageble http://is.gd/eRw60T
[22:22:26] *** Joins: ismaelga (ismaelga@moz-rjm.jv4.251.188.IP)
[22:22:46] *** Quits: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[22:23:14] *** Quits: veqz (veqz@moz-nvr8g6.209.getinternet.no) (Ping timeout: 121 seconds)
[22:23:21] *** Quits: coryforsyth (coryforsyth@moz-hpsim2.fios.verizon.net) (Client exited)
[22:23:52] <bluss> rajat: &[&[u8]] has element type &[u8], but the iterator's element type is &&[u8] since it's .iter() which is by-ref
[22:23:58] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[22:24:15] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[22:24:16] <bluss> rajat: so you need to dereference each iterator element
[22:24:17] <mystor> bluss: awesome, thanks a bunch
[22:24:28] *** Joins: dylan (dylan@moz-h9d.d0d.43.100.IP)
[22:24:49] *** dylan is now known as Guest7523
[22:25:11] <rajat> bluss: thanks…in that case shouldn’t it error out while calling f2
[22:25:31] *** Joins: DemonOne (Avi@moz-h20h51.cablep.bezeqint.net)
[22:25:35] *** Joins: davebettin (davebettin@moz-acc.cl4.35.72.IP)
[22:25:35] <rajat> because the type of K doesn’t match
[22:25:59] *** Quits: jfredett (Adium@moz-a9ilmn.fios.verizon.net) (Quit: Leaving.)
[22:26:06] <bluss> rajat: isn't that what happened after you fixed f1?
[22:26:12] <bluss> you can do this http://is.gd/blfOGz
[22:26:44] *** Quits: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[22:26:48] <bluss> oh that's probably a bad transformation of f2 by me
[22:26:51] *** Quits: hoony (Thunderbird@moz-0oo.sbr.128.121.IP) (Client exited)
[22:27:12] <bluss> because it makes it less general. But it makes the Vec<&[u8]> case work
[22:27:32] <brson> https://users.rust-lang.org/t/a-list-of-rust-1-0-launch-meetups/1171
[22:28:31] <bluss> brson: awesome. Some cities have messed up links. Copenhagen, Paris
[22:28:40] *** Joins: mib_unigay (Mibbit@moz-3at.uq2.76.178.IP)
[22:28:46] <mib_unigay> Hi huys.
[22:28:55] <mib_unigay> Is there any IDE for Rust?
[22:28:55] *** Quits: npm (npm@moz-urd.pod.125.50.IP) (Connection closed)
[22:28:58] *** Joins: npm (npm@moz-ims.mg6.56.172.IP)
[22:29:01] *** Joins: colinsurprenant (colin@moz-q9ee1n.74.electronicbox.net)
[22:29:09] *** Joins: yota (Sebastien@moz-gunu6t.3iqc.r856.0e35.2a01.IP)
[22:29:15] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[22:29:30] <rajat> bluss: thanks…let me try feeding in more inputs and see if it works with other kind of inputs (the goal is to make method work with more types so that we dont have to convert to &[&[u8]] at each callsite)
[22:29:36] <seanmonstar> ptalbot: sorry, just slinging issues at you, but looks like quasiquote also recently landed some changes https://github.com/rust-lang/rust/pull/23085
[22:29:50] <Gankro> seanmonstar: Ineresting usecase. No better way than a seperate `remove` call right now
[22:30:12] *** Joins: stjahns (stjahns@moz-lt41k6.uws.ualberta.ca)
[22:30:15] <hugod> erickt: I'm getting close to having quasi running with syntex, but currently stuck on building quasi itself with syntex (https://github.com/hugoduncan/rust-quasi/tree/use-syntex-from-git) due to the with_hygiene/interpolating quote changes.
[22:30:18] *** Quits: jeffasinger (jeff@moz-1j1qti.cable.mindspring.com) (Connection closed)
[22:30:26] <brson> bluss: nah, i just love that atomicptr link ;p
[22:31:02] <bluss> rajat: the reason f2 didn't work before is that you get an iterator element K by value, into the .map() closure. Then you call v.as_ref() on it and get a &[u8] from it, borrowed from the value. The &[u8] can't leave the closure's scope because it only references the K value
[22:31:03] <Gankro> seanmonstar: Have any thoughts on Entry taking IntoCow?
[22:31:21] <bluss> rajat: the iterator element K is passed by value into the map closure so you can't borrow it in any useful way
[22:31:35] <ptalbot> seanmonstar, ok thanks ^^' I was reading this endless commit trying to find I-don't-know-what.
[22:31:39] <seanmonstar> Gankro: is there a downside i'm missing?
[22:31:53] <mib_unigay> Is there any IDE for Rust?
[22:32:04] <seanmonstar> ptalbot: may be worth just filing an issue
[22:32:08] <brson> bluss: fixed thanks
[22:32:39] *** Quits: Hannibal_Smith (nico@moz-ucg29b.retail.telecomitalia.it) (Quit: Leaving)
[22:32:43] <Gankro> seanmonstar: Might want a more dedicated tool/concept. Potentially a branch on the Cow enum, but that should get const-folded away
[22:32:59] <steveklabnik> mib_unigay: there are plugins for some existing ones, and we have one just for Rust: SolidOak
[22:33:13] *** Quits: npm (npm@moz-ims.mg6.56.172.IP) (Ping timeout: 121 seconds)
[22:33:19] *** Joins: npm (npm@moz-urd.pod.125.50.IP)
[22:33:23] <ptalbot> seanmonstar, I'll decide after having read the PR you just pointed to me
[22:33:36] *** Quits: brontron4k (brontron@moz-c9crms.ph.cox.net) (Ping timeout: 121 seconds)
[22:33:51] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[22:34:37] *** Joins: fengshaun (fengshaun@moz-rf0qk5.cable.teksavvy.com)
[22:35:39] *** Quits: Ms2ger (Ms2ger@moz-m2p.r4q.180.91.IP) (Quit: nn)
[22:35:43] *** Quits: mib_unigay (Mibbit@moz-3at.uq2.76.178.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[22:35:48] *** Quits: tomprogrammer (thomas@moz-cj6g1f.tr5r.qept.4dd0.2001.IP) (Quit: WeeChat 1.1.1)
[22:36:01] *** Quits: dhole (dhole@moz-nlt5fr.dynamic.jazztel.es) (Ping timeout: 121 seconds)
[22:36:15] <ChrisMorgan> scott: you say I should use c_int instead of isize in the ASM version on my fizzbuzz article; all I can say in response is that all the #[start] examples in the main Rust repository use isize for argc and the return type.
[22:36:33] *** Joins: Hannibal_Smith (nico@moz-ucg29b.retail.telecomitalia.it)
[22:36:41] *** Quits: borromakot (Adium@moz-d7t.h3t.104.38.IP) (Quit: Leaving.)
[22:36:55] *** Quits: hhhhhhhhhh (mike@moz-969kuj.cable.virginm.net) (Quit: WeeChat 1.1.1)
[22:37:01] <seanmonstar> Gankro: hm, i guess if knew i was going to insert a value, i'd want to just provide the Owned, to prevent the path... but then, if i know i'm inserting, would i be using the entry() api anyways?
[22:37:12] <seanmonstar> path==branch
[22:37:22] *** Quits: skade (skade@moz-6athcr.pools.vodafone-ip.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[22:37:43] <kmcguire> anyone have any trouble with current_directory for Command, it seems like it changes the path on linux?
[22:37:49] <kmcguire> current_dir
[22:37:56] *** Quits: npm (npm@moz-urd.pod.125.50.IP) (Connection closed)
[22:38:05] <erickt> hugod: oh cool!
[22:38:14] <rajat> bluss: thanks..one more quick question … in this situation there are two errors 1. lifetime 2. input.iter() is not of the right type(T) .. - http://is.gd/e82vdt
[22:38:17] <ChrisMorgan> scott and others: so, are all the #[start] examples wrong?
[22:38:24] *** Joins: npm (npm@moz-urd.pod.125.50.IP)
[22:38:31] <FreeFull> ChrisMorgan: That's because the actual non-mangled main symbol translates the i32 to isize
[22:39:02] <rajat> so does this mean lifetime pass happens before type match..or does input.iter() satisfy type constraint T
[22:39:18] <ChrisMorgan> All the examples are fn(isize, *const *const u8 -> isize.
[22:39:19] <scott> oh, I had assumed #[start] was like C's main
[22:39:28] <scott> FreeFull: why does it do that translation?
[22:39:37] *** Quits: jtdowney (jtdowney@moz-gh1isj.static.twtelecom.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[22:39:38] <FreeFull> No idea
[22:40:02] *** Quits: btobolaski (btobolaski@moz-ltbh80.va.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[22:40:08] <ChrisMorgan> FreeFull: translates what i32 to isize?
[22:40:18] <bluss> rajat: but it does pass type check, but not borrow check
[22:40:30] <bluss> rajat: so we could say it is of a correct type
[22:40:39] *** Joins: borromakot (Adium@moz-d7t.h3t.104.38.IP)
[22:40:48] *** Joins: dhole (dhole@moz-m2uusa.dynamic.jazztel.es)
[22:40:57] <rajat> ok
[22:41:02] <FreeFull> ChrisMorgan: If you do #![no_main] and have a #[no_mangle] extern fn main then it's fn(i32, *const *const i8) -> i32
[22:41:04] *** Quits: loyd (loyd@moz-uft.32f.108.213.IP) (Ping timeout: 121 seconds)
[22:41:14] <FreeFull> Woops, u8 not i8
[22:41:49] <Gankro> seanmonstar: The branch is just on "is the type they passed in owned or not", which *should* get folded away since basically every type is statically owned or not
[22:41:57] *** Quits: TheLemonMan (lemonboy@moz-hugusq.45-151.net24.it) (Quit: "It's now safe to turn off your computer.")
[22:42:13] <Gankro> seanmonstar: I wouldn't expect any benefit for pre-cloning or whatever
[22:42:33] <seanmonstar> Gankro: right. and i was also just pondering out loud, that if i wanted to skip the branch, i'd likely be calling .insert() directly anyways
[22:42:39] <scott> FreeFull: shouldn't it be c_int and c_char respectively?
[22:42:42] <ChrisMorgan> FreeFull: I’m talking about the start lang item, not no_main
[22:42:50] <Gankro> seanmonstar: Oh, yeah
[22:43:06] <ptalbot> seanmonstar, as I understand the PR, this is just special tokens encapuslating already parsed data (to avoid reparsing). So my code has no reason to fail? Maybe `quote_item!` don't take into account these new tokens?
[22:43:10] <FreeFull> ChrisMorgan: Yes, the actual main symbol calls the start item
[22:43:33] <seanmonstar> ptalbot: sorry, no clue. i've never even used quote! myself. i was just browsing through recently merged PRs
[22:43:50] *** Quits: jaen (jaen@moz-ifmik2.copit.pl) (Quit: WeeChat 1.1.1)
[22:44:21] <seanmonstar> Gankro: so yea, i'm in favor of sticking IntoCow in there
[22:44:50] * WindowsBunny imagines a rusty factory full of cows
[22:44:51] <ptalbot> seanmonstar, okay, I'm going to fill a ticket then
[22:45:09] <seanmonstar> WindowsBunny: its not that far from the truth
[22:45:09] <ptalbot> seanmonstar, thanks for help, it was time-saving :-)
[22:45:10] <scott> FreeFull: where can I find the standard low-level main function source?
[22:45:12] <ChrisMorgan> So are you saying that when using the start lang item it basically puts in an unmangled `fn main(argc: i32, argv: *const *const u8) -> i32 { start(argc as isize, argv) as i32 }`?
[22:45:16] <Gankro> seanmonstar: Not sure if it needs an RFC or if you can just send a PR or what. Process in flux with the trains running
[22:45:42] <seanmonstar> Gankro: changing the bounds is a breaking change, no? :(
[22:46:05] <Gankro> seanmonstar: T is IntoCow<T>
[22:46:40] <seanmonstar> Gankro: also, is there still IntoCow? or is it Into<Cow>?
[22:47:01] <Gankro> seanmonstar: Oh god I have no idea how that stuff has evolved :)
[22:47:05] *** Quits: jesse99 (jjones@moz-iu7.is7.137.67.IP) (Quit: Leaving.)
[22:47:18] <scott> FreeFull: huh... is this it? https://github.com/rust-lang/rust/blob/master/src/libstd/rt/mod.rs#L59
[22:47:36] <scott> wait, no, that's slightly higher level
[22:47:44] <seanmonstar> Gankro: separately, i have an interest in receiving the hash along with the value, and short circuiting the hashing on subsequent lookups...
[22:47:47] <Gankro> seanmonstar: This is all from memory when we were stabilizing the API. Didn't push for IntoCow since it's backcompat
[22:48:25] *** Joins: GBGamer_ (npm@moz-71q.g5g.156.168.IP)
[22:48:29] *** Quits: maraoz (maraoz@moz-7fc9s6.fibertel.com.ar) (Ping timeout: 121 seconds)
[22:49:30] <Gankro> seanmonstar: That... should be feasible... but would be a big API explosion
[22:49:37] <seanmonstar> i know
[22:49:51] <seanmonstar> i recall there being methods similar to this a long time ago
[22:50:48] *** Quits: GBGamer (npm@moz-urd.pod.125.50.IP) (Ping timeout: 121 seconds)
[22:51:02] *** Quits: forgottenone (forgottenon@moz-7c3.s8g.45.92.IP) (Quit: Konversation terminated!)
[22:51:02] *** Quits: gingermusketeer (gingermuske@moz-8et0q0.compute.amazonaws.com) (Connection closed)
[22:51:10] <gsingh93> how do i get some code to not run in a release build? it seems like not(ndebug) is true even in release builds
[22:51:19] *** Joins: mib_l5cfie (Mibbit@moz-v8q.fbv.200.177.IP)
[22:51:20] *** Quits: npm (npm@moz-urd.pod.125.50.IP) (Ping timeout: 121 seconds)
[22:51:21] *** Joins: gingermusketeer (gingermuske@moz-v16kmu.compute.amazonaws.com)
[22:51:31] <ChrisMorgan> gsingh93: ndebug is gone in favour of something else
[22:51:44] *** Quits: Ericson2314 (user@moz-j5mi8i.cs.brown.edu) (Connection closed)
[22:51:44] *** Quits: larhat (Adium@moz-tb1ulb.cable.virginm.net) (Quit: Leaving.)
[22:51:45] <gsingh93> ChrisMorgan: what's the something else?
[22:51:53] <ChrisMorgan> gsingh93: cfg(debug_assertions)
[22:52:00] <ChrisMorgan> https://github.com/rust-lang/rfcs/pull/563
[22:52:09] *** Joins: Behold (behold@moz-763sr8.cust.bredbandsbolaget.se)
[22:52:17] <ChrisMorgan> https://github.com/rust-lang/rfcs/blob/master/text/0563-remove-ndebug.md
[22:52:27] *** Joins: npm (npm@moz-ims.mg6.56.172.IP)
[22:52:31] *** Joins: orangeshark (erik@moz-8bq9j4.44tj.56ot.0306.2602.IP)
[22:52:33] <Gankro> seanmonstar: Would you want to exclusively use the hash-memoize-api or mix-n-match a lot?
[22:52:42] <gsingh93> thanks
[22:53:03] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[22:53:13] *** Quits: _petr``` (petr@moz-2pi.7q8.248.178.IP) (Ping timeout: 121 seconds)
[22:54:23] <seanmonstar> Gankro: my current use case: i pull a V out of the hashmap, by looking up via K. I don't want to keep K around however, while I use V. And I don't want to create a whole new K just to put the V back in once i'm done. since the HashMap is the same, I could just re-insert with the pre-hashed value
[22:54:41] <seanmonstar> er, pre-hashed K
[22:54:54] *** Quits: GBGamer_ (npm@moz-71q.g5g.156.168.IP) (Ping timeout: 121 seconds)
[22:55:31] *** Joins: borromakot1 (Adium@moz-rdo.h3t.104.38.IP)
[22:55:39] *** Quits: Guest58 (textual@moz-tb1fm9.us.xo.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[22:55:58] <Gankro> seanmonstar: So you still need K for hash collisions
[22:56:11] *** Joins: Azdle (Azdle@moz-fv6arh.mn.comcast.net)
[22:56:44] <scott> ChrisMorgan: FreeFull: http://is.gd/iLNEkK generate the LLVM IR from this. it emits the #[start] fn as the 'main' symbol directly
[22:57:08] <FreeFull> scott: I was wrong then
[22:57:21] <Gankro> seanmonstar: Especially in RHH which has many "soft" ways to get a hash collision
[22:57:40] <FreeFull> Still, #[start] expects a Rust function rather than extern "C", so the signature is different in that way too
[22:57:56] <Gankro> seanmonstar: Scratch that, doesn't matter. Only true hash collisions matter, I think
[22:58:05] <seanmonstar> Gankro: oh carps
[22:58:07] <scott> ChrisMorgan: FreeFull: oh, may have just been inlining
[22:58:18] <Gankro> 1/2^63 odds of a collision or something, but still possible
[22:58:48] *** Quits: borromakot (Adium@moz-d7t.h3t.104.38.IP) (Ping timeout: 121 seconds)
[22:59:00] *** Joins: lenstr (lenstr@moz-s8k.vju.25.171.IP)
[22:59:04] <Gankro> seanmonstar: hacking it with rawptrs doable?
[22:59:23] <ChrisMorgan> scott: -O0 and you get a new function @main
[22:59:26] *** Joins: fabianvf (fabianvf@moz-j12.dim.197.216.IP)
[22:59:35] <scott> rustc disallows changing the type of the #[start] item at all
[22:59:41] <scott> and it generates i64 @main(i64, i8**) regardless
[22:59:47] <seanmonstar> Gankro: i doubt the performance is that bad :)
[22:59:47] *** Joins: bfisher-fleig (chatzilla@moz-ksn.m0h.116.199.IP)
[22:59:47] <FreeFull> scott: What happens with #[inline(never)]?
[22:59:52] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[22:59:57] <scott> which doesn't match the C types, unless C magicks it
[22:59:57] *** Quits: lenstr (lenstr@moz-s8k.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[23:00:04] *** Joins: lenstr (lenstr@moz-s8k.vju.25.171.IP)
[23:00:05] <bfisher-fleig> is it possible store a function in a struct?
[23:00:15] *** Joins: kralyk (kralyk@moz-ote.edj.146.88.IP)
[23:00:28] <bfisher-fleig> s/function/fn/
[23:00:30] <seanmonstar> bfisher-fleig: struct Foo { foo: fn(u8) -> bool }
[23:00:38] <bfisher-fleig> thanks!
[23:00:56] <niconii> hmm, how would i go about printing an array of chars (whether that means converting it to a string first or what have you)
[23:01:16] *** Quits: lenstr (lenstr@moz-s8k.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[23:02:04] <kralyk> Does Rust's Command provide something line Qt's QProcess::setupChildProcess()?  (see http://doc.qt.io/qt-5/qprocess.html#setupChildProcess)
[23:02:05] <mbrubeck> bfisher-fleig: Note that to call it you need to say `(x.foo)(7)`
[23:02:10] <kralyk> *like
[23:02:18] <FreeFull> scott: Would have to see what happens after linking too
[23:02:19] <mbrubeck> since `x.foo(7)` looks for a method
[23:02:40] <bfisher-fleig> mbrubeck: interesting, thanks for the heads up!
[23:03:13] <scott> FreeFull: well, types don't matter in linking. the main possibility for failure here is wrong-sized argument mucking up the calling convention
[23:03:17] *** Quits: borromakot1 (Adium@moz-rdo.h3t.104.38.IP) (Quit: Leaving.)
[23:03:17] *** Joins: tno (tomas@moz-12jfmn.7pm2.so41.08a0.2001.IP)
[23:03:35] *** Joins: mib_5vn9w1 (Mibbit@moz-o8r38e.or.comcast.net)
[23:04:11] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[23:04:34] *** Quits: areski (areski@moz-tijh72.user.ono.com) (Ping timeout: 121 seconds)
[23:04:38] *** Quits: Hannibal_Smith (nico@moz-ucg29b.retail.telecomitalia.it) (Quit: Leaving)
[23:04:39] <FreeFull> scott: Yeah, but linking itself could do something special with main
[23:04:43] *** Joins: Guest___ (textual@moz-rtn.fg7.77.192.IP)
[23:04:50] *** Quits: Matthias247 (Miranda@moz-49li60.hsi14.kabel-badenwuerttemberg.de) (Connection closed)
[23:04:58] <FreeFull> One would have to compare final executables generated by gcc, clang and rust
[23:05:11] *** Quits: Guest7523 (dylan@moz-h9d.d0d.43.100.IP) (Ping timeout: 121 seconds)
[23:05:11] *** Quits: Behold (behold@moz-763sr8.cust.bredbandsbolaget.se) (Quit: Leaving)
[23:05:13] *** Parts: bfisher-fleig (chatzilla@moz-ksn.m0h.116.199.IP) ("")
[23:05:35] <scott> linking should do nothing special with main, since it's still not the entry point (that's in something like libcrt0, which calls main)
[23:05:37] *** Quits: asQuirreL (asQuirreL@moz-ro1qqu.ox.ac.uk) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[23:07:17] *** Joins: saml_ (saml@moz-rkfmct.res.rr.com)
[23:07:54] *** Quits: ptalbot (ptalbot@moz-j4gnuh.fbx.proxad.net) (Ping timeout: 121 seconds)
[23:08:28] <talchas> kralyk: no (the "doesn't work on windows" bit probably makes it unlikely to be added to the main api)
[23:09:10] *** Joins: Murph (bill@moz-mch.r1r.179.71.IP)
[23:09:16] *** Joins: ucarion (ulyssecario@moz-8ddlk2.c3v0.fbki.f140.2607.IP)
[23:09:40] *** Quits: Guest (textual@moz-o0j.d41.27.64.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[23:10:20] <kralyk> Hm yeah, Windows don't really allow that kind of thing...
[23:11:05] *** Joins: choplin (choplin@moz-gmvajh.t6mc.g9m6.001a.240d.IP)
[23:11:33] *** Quits: sam113101 (sam@moz-5mq5dc.mc.videotron.ca) (Quit: WeeChat 1.1.1)
[23:11:41] <seanmonstar> niconii: hrm, i looked throughout the docs, and couldn't find anything. so something like this http://is.gd/lUranj
[23:12:34] <niconii> seanmonstar: alright
[23:13:18] <niconii> seanmonstar: yeah that should work, thanks
[23:13:38] *** Quits: Azdle (Azdle@moz-fv6arh.mn.comcast.net) (Ping timeout: 121 seconds)
[23:14:46] *** Quits: fabianvf (fabianvf@moz-j12.dim.197.216.IP) (Connection closed)
[23:14:59] *** Quits: brson (brson@moz-cfhap5.mtv2.mozilla.com) (Quit: leaving)
[23:16:02] *** Quits: jimb (user@moz-09a.i8g.126.207.IP) (Ping timeout: 121 seconds)
[23:17:01] *** Joins: fabianvf (fabianvf@moz-j12.dim.197.216.IP)
[23:18:32] *** Joins: sam113101 (sam@moz-5mq5dc.mc.videotron.ca)
[23:19:38] *** Quits: choplin (choplin@moz-gmvajh.t6mc.g9m6.001a.240d.IP) (Connection closed)
[23:19:46] *** Joins: kalail (uid62296@moz-5ck9vu.charlton.irccloud.com)
[23:20:13] *** Joins: sbanwart (IceChat9@moz-ijl990.biz.rr.com)
[23:20:44] *** Quits: fabianvf (fabianvf@moz-j12.dim.197.216.IP) (Connection closed)
[23:21:11] *** Joins: fabianvf (fabianvf@moz-j12.dim.197.216.IP)
[23:21:47] *** Quits: Murarth (Murarth@moz-mpmr8r.phnx.qwest.net) (Quit: Screw you guys. I'm going home.)
[23:22:15] *** Joins: Murarth (Murarth@moz-eb5009.dyn.nltelcom.net)
[23:22:49] *** Joins: munksgaard (munksgaard@moz-478pev.u.parknet.dk)
[23:22:49] *** Quits: Axord (axo@moz-p6in57.ca.charter.com) (Quit: What's the worst that could ha-)
[23:23:47] *** Quits: fabianvf (fabianvf@moz-j12.dim.197.216.IP) (Connection closed)
[23:24:22] *** Quits: mib_l5cfie (Mibbit@moz-v8q.fbv.200.177.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[23:24:47] *** Joins: Axord (axo@moz-p6in57.ca.charter.com)
[23:24:54] *** Joins: erikj (erikj@moz-dsm7da.skybroadband.com)
[23:25:26] *** Joins: swgillespie (swgillespie@moz-1i5.3un.220.167.IP)
[23:25:36] *** Joins: kkus (kkus@moz-baj4jj.74.srtnet.com)
[23:26:03] *** Quits: matp_ (matp@moz-rvt9hl.matp.at) (Ping timeout: 121 seconds)
[23:26:55] *** Joins: fabianvf (fabianvf@moz-j12.dim.197.216.IP)
[23:27:45] *** Joins: ucarion_ (ulyssecario@moz-210r6f.c3v0.fbki.f140.2607.IP)
[23:27:59] *** Quits: alex-abreu (alex@moz-j54ho8.biz.rr.com) (Ping timeout: 121 seconds)
[23:28:36] *** Quits: dfinninger (dfinninger@moz-fe6.5n7.235.207.IP) (Connection closed)
[23:28:57] *** Joins: dfinninger (dfinninger@moz-fe6.5n7.235.207.IP)
[23:28:57] <aji> are there good async io libraries other than mio?
[23:29:03] <aji> i'm a little frustrated with mio at the moment
[23:29:04] *** Quits: munksgaard (munksgaard@moz-478pev.u.parknet.dk) (Ping timeout: 121 seconds)
[23:29:06] *** Joins: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net)
[23:29:42] *** Joins: alex-abreu (alex@moz-j54ho8.biz.rr.com)
[23:30:07] <erikj> I want to pass a std::iter::Enumerate<I> object to a function, how do I pin the associated type Item for I? I.e., I want to do something like: http://is.gd/hLTu9I
[23:30:18] *** Quits: ucarion (ulyssecario@moz-8ddlk2.c3v0.fbki.f140.2607.IP) (Ping timeout: 121 seconds)
[23:30:59] *** Quits: fabianvf (fabianvf@moz-j12.dim.197.216.IP) (Connection closed)
[23:31:00] *** Joins: ucarion (ulyssecario@moz-7b29q5.ResHall.Berkeley.EDU)
[23:31:22] <aji> https://gist.github.com/aji/e46f4e905f93b3a5b287 getting a borrow error on line 81
[23:31:23] *** Joins: santiago (santiago@moz-5dsjre.dsl-w.verizon.net)
[23:31:49] *** Quits: ucarion_ (ulyssecario@moz-210r6f.c3v0.fbki.f140.2607.IP) (Ping timeout: 121 seconds)
[23:32:39] <aji> i understand why i'm getting the error, but this is the 3rd or 4th architecture i've tried, working with mio
[23:32:58] *** Joins: borromakot (Adium@moz-j6pi1a.il.comcast.net)
[23:32:59] *** Quits: dfinninger (dfinninger@moz-fe6.5n7.235.207.IP) (Ping timeout: 121 seconds)
[23:33:06] *** Quits: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com) (Ping timeout: 121 seconds)
[23:33:18] *** Quits: Murph (bill@moz-mch.r1r.179.71.IP) (Connection closed)
[23:34:41] <brandonson> aji: http://is.gd/SnDoub ?
[23:35:05] *** Joins: choplin (choplin@moz-qkm9un.ap.nuro.jp)
[23:35:07] *** Quits: borromakot (Adium@moz-j6pi1a.il.comcast.net) (Quit: Leaving.)
[23:35:18] <brandonson> er wait sorry
[23:35:24] <brandonson> that should be erikj
[23:35:57] * brandonson starts nickcolor
[23:36:58] <erikj> Aha! Thanks :)
[23:37:04] *** Joins: brontron4k (brontron@moz-c9crms.ph.cox.net)
[23:37:16] <erikj> I think our nick colours might clash too...
[23:37:26] *** Joins: bbills (fUD@moz-ngj.dh6.140.144.IP)
[23:37:29] *** Quits: kralyk (kralyk@moz-ote.edj.146.88.IP) (Quit: WeeChat 1.1.1)
[23:37:52] *** bbills is now known as fUD
[23:37:58] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[23:38:03] *** Joins: Murph (bill@moz-b27bat.fios.verizon.net)
[23:38:22] *** Quits: Guest___ (textual@moz-rtn.fg7.77.192.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[23:38:28] *** Quits: mjboa (mike@moz-gfdglf.hsi06.unitymediagroup.de) (Ping timeout: 121 seconds)
[23:38:30] *** Parts: fUD (fUD@moz-ngj.dh6.140.144.IP) ()
[23:38:50] *** Joins: fUD (fUD@moz-ngj.dh6.140.144.IP)
[23:39:18] *** Quits: divius (dtantsur@moz-16g.ma8.175.213.IP) (Ping timeout: 121 seconds)
[23:39:32] *** Quits: rbrandao (uid30340@moz-89qrca.ealing.irccloud.com) (Quit: Connection closed for inactivity)
[23:39:56] *** Joins: brson (brson@moz-0i1.c9m.56.172.IP)
[23:39:56] *** ChanServ sets mode: +ao brson brson
[23:40:39] *** Joins: divius (dtantsur@moz-rgm.jp8.132.209.IP)
[23:40:39] *** Joins: e91432a7d2089dd (bzlandfill@moz-o8r38e.or.comcast.net)
[23:40:41] *** Quits: GGist (Mibbit@moz-ijla36.seattleu.edu) (Quit: http://www.mibbit.com ajax IRC Client)
[23:43:13] *** Joins: Guest (textual@moz-rtn.fg7.77.192.IP)
[23:43:41] *** Quits: James (quassel@moz-9kp9p2.range86-148.btcentralplus.com) (Ping timeout: 121 seconds)
[23:44:14] *** bentley|away is now known as bentley
[23:44:42] *** Quits: divius (dtantsur@moz-rgm.jp8.132.209.IP) (Ping timeout: 121 seconds)
[23:45:05] *** Quits: e91432a7d2089dd (bzlandfill@moz-o8r38e.or.comcast.net) (Quit: CGI:IRC)
[23:45:47] *** Joins: divius (dtantsur@moz-16g.ma8.175.213.IP)
[23:46:09] <hugod> erickt: http://is.gd/drgtY4 is the consuming code fwiw
[23:46:52] *** bentley is now known as bentley|away
[23:49:07] *** Quits: errordeveloper (ilya@moz-33s.nlr.200.90.IP) (Ping timeout: 121 seconds)
[23:49:38] *** Quits: stjahns (stjahns@moz-lt41k6.uws.ualberta.ca) (Connection closed)
[23:50:17] *** Quits: chmanchester (Chris@moz-nie1j1.2rkg.9kg1.0101.2620.IP) (Ping timeout: 121 seconds)
[23:53:08] <erikj> RE http://is.gd/SnDoub: Is there a way of saying I::Item must be a char?
[23:55:30] <ChrisMorgan> erikj: I: Iterator<Item = char>
[23:55:45] *** Quits: willem (willem@moz-facs2s.dynamic.upc.nl) (Quit: leaving)
[23:56:07] <mib_5vn9w1> it doesn't work http://is.gd/9QM9Ts
[23:56:33] <ChrisMorgan> mib_5vn9w1: because Vec<char>.iter() produces a &char iterator, not a char iterator.
[23:56:45] <ChrisMorgan> a.iter().map(|&c| c).enumerate() will do it.
[23:56:51] <erickt> hugod: I'm getting an access denied with that url
[23:57:23] <scott> you can replace .map(|&c| c) with .cloned()
[23:58:56] *** Quits: rajat (rajat@moz-fq5.l4p.189.205.IP) (Client exited)
[23:59:39] *** Joins: fabianvf (fabianvf@moz-fjqmui.va.comcast.net)
[23:59:51] <erikj> Woo, thanks. My fault for forgetting to ask for &char. ( http://is.gd/JTSp4E )
