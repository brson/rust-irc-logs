[00:00:35] <Ilari> Would need slightly nonstandard API, but AFAICT not as bad as double-hash.
[00:25:55] *** Quits: atomic (atomic@moz-e4rh2f.7by7.de) (Ping timeout: 121 seconds)
[00:29:04] *** Joins: atomic (atomic@moz-qpd.aq7.187.37.IP)
[00:30:58] *** Quits: dpc (dpc@moz-t6gr4b.ca.comcast.net) (Connection closed)
[00:31:09] *** Joins: dpc (dpc@moz-t6gr4b.ca.comcast.net)
[00:34:01] <Ilari> Hmm... I wonder if it is possible to hack a certificate format out of JOSE. :->
[00:38:09] *** Quits: atomic (atomic@moz-qpd.aq7.187.37.IP) (Ping timeout: 121 seconds)
[01:32:36] *** skeuomor1 is now known as skeuomorf
[01:48:02] *** Quits: dpc (dpc@moz-t6gr4b.ca.comcast.net) (Ping timeout: 121 seconds)
[02:43:09] <bascule> Ilari: nooooooooooo
[02:45:05] <bascule> :D
[02:46:00] <bascule> Ilari: I'm just like... maybe the packed Cap'n Proto format? Or go full LANGSEC and use a regular, unambiguous format
[02:47:12] *** Quits: skeuomorf (skeuomorf@moz-j60.sa8.32.197.IP) (Ping timeout: 121 seconds)
[04:00:36] <Elaine> bascule: don't be ridiculous.
[05:19:05] <Ilari> Well, at lest it would likely be better than X.509, right? :-)
[05:32:56] *** Joins: dpc (dpc@moz-t6gr4b.ca.comcast.net)
[06:13:04] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[06:23:16] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[07:06:01] *** Quits: dpc (dpc@moz-t6gr4b.ca.comcast.net) (Connection closed)
[07:06:13] *** Joins: dpc (dpc@moz-t6gr4b.ca.comcast.net)
[07:08:05] *** Quits: dpc (dpc@moz-t6gr4b.ca.comcast.net) (Connection closed)
[07:08:16] *** Joins: dpc (dpc@moz-t6gr4b.ca.comcast.net)
[07:15:46] *** Quits: dpc (dpc@moz-t6gr4b.ca.comcast.net) (Connection closed)
[07:15:57] *** Joins: dpc (dpc@moz-t6gr4b.ca.comcast.net)
[08:49:58] *** Quits: dpc (dpc@moz-t6gr4b.ca.comcast.net) (Connection closed)
[08:50:09] *** Joins: dpc (dpc@moz-t6gr4b.ca.comcast.net)
[10:05:01] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[10:08:33] *** Joins: skeuomorf (skeuomorf@moz-j60.sa8.32.197.IP)
[11:10:47] *** Quits: eddyb (eddyb@moz-h7s.q07.26.188.IP) (Connection closed)
[11:14:44] *** Joins: eddyb (eddyb@moz-h7s.q07.26.188.IP)
[14:20:22] *** Quits: blank_name (blank_name@moz-p4egrb.mi.frontiernet.net) (Ping timeout: 121 seconds)
[14:20:32] *** Joins: blank_name (blank_name@moz-kdq.fli.183.192.IP)
[17:50:50] *** Quits: dpc (dpc@moz-t6gr4b.ca.comcast.net) (Connection closed)
[17:51:01] *** Joins: dpc (dpc@moz-t6gr4b.ca.comcast.net)
[18:16:03] <Ilari> bascule: Okay, the 4th one came.
[18:20:23] *** Quits: blank_name (blank_name@moz-kdq.fli.183.192.IP) (Ping timeout: 121 seconds)
[18:33:41] <Ilari> By DJB and friends (and Simon).
[18:34:18] <Tiffany> what are the requirements of a certificate format?
[18:35:49] <Tiffany> it seems to me like the only requirements are an rsa signature of a document which specifies some type of resource
[18:36:00] <Tiffany> the complexity being in specifying resources
[18:36:04] <Tiffany> domain names are easy, though..
[18:37:50] <Tiffany> it seems like ldap is already doing a pretty good job at specifying resources, but I don't suppose that would make for a very good certificate format because of the complexity
[18:43:21] *** Quits: dpc (dpc@moz-t6gr4b.ca.comcast.net) (Ping timeout: 121 seconds)
[18:55:23] *** Joins: dpc (dpc@moz-t6gr4b.ca.comcast.net)
[19:57:46] <eternaleye> Tiffany: Well, there is this uniform framework for identifiers and locators of resources... :P
[19:57:52] <eternaleye> Tiffany: URI, URL, etc.
[19:58:30] <eternaleye> Tiffany: A list of URI prefixes sorted in Unicode codepoint order would probably serve Pretty Well
[19:59:09] <eternaleye> Actually, urlencode them properly, then every codepoint is in ASCII
[19:59:11] <Elaine> Ilari: http://eprint.iacr.org/2015/677 ?
[19:59:30] <Ilari> Elaine: I think so.
[19:59:43] <Tiffany> oh
[20:13:15] *** Quits: dpc (dpc@moz-t6gr4b.ca.comcast.net) (Ping timeout: 121 seconds)
[20:50:20] <Ilari> The things I don't like about DJB&co proposal: 1) Needs replace IVs for SHA-512, 2) Excess lanes for E-521. 3) Basepoint could be curve448-compatible. 4) No contexts. 5) Putting prehash into keys (instead of variable firewalled).
[20:50:45] *** Joins: blank_name (blank_name@moz-crs.fli.183.192.IP)
[20:59:22] *** Parts: jesopo (jess@lolnerd.net) ("Leaving")
[21:33:15] *** Joins: brson (brson@moz-cfhap5.mtv2.mozilla.com)
[21:43:46] <Tiffany> so, fun facts
[21:44:04] <Tiffany> it's impossible to disable sslv3 without modifying source when using openssl in inspircd (though you can disable it under gnutls)
[21:44:17] <Tiffany> the default configuration for openssl enables DES
[21:44:24] <Tiffany> I have not yet figured out how to change the default configuration
[21:44:26] <Elaine> DES, not 3DES?
[21:44:32] <Elaine> or just in inspircd
[21:44:35] <Tiffany> DES, not 3DES
[21:44:52] <Tiffany> RSA_WITH_DES_CBC_SHA
[21:44:56] <Tiffany> DHE_RSA_WITH_DES_CBC_SHA
[21:45:11] <Tiffany> (3DES is also supported)
[21:45:45] <bascule> can I do ECDHE_ECDSA w\ DES?
[21:45:47] <bascule> that'd be awesome
[21:46:00] <Tiffany> ECDH support is a compile time option in inspircd
[21:46:04] <Tiffany> I am not sure if ECDHE can be enabled
[21:46:27] <Ilari> bascule: No ECDHE, but one can do ECDSA with 1DES. :-)
[21:46:45] <Tiffany> you can get ECDH with NULL
[21:46:49] <Tiffany> oh, ECDHE too
[21:47:16] <Ilari> Needs TLS 1.2 tho.
[21:48:59] <Tiffany> I /think/ that you can add an <sslprofile name="this is required for some reason" provider="openssl" ciphers="openssl cipher string here"  dhfile="dh.pem" hash="defaults to MD5" ecdhcurve="if ecdh is enabled, defaults to prime256v1">
[21:49:06] <Tiffany> but it's hard to tell
[21:49:28] <Tiffany> I'm currently reading the source to the openssl module because the documentation is either non-existent or down
[21:49:39] <Tiffany> the inspircd wiki is currently down
[21:49:50] <Ilari> This is why one needs to _deimplement_ the insecure stuff, not just "disable" by default.
[21:50:00] <Tiffany> it has an invalid certificate, redirects http to https, and if you ignore the cert warnings, you get a 404
[21:50:29] <Tiffany> TLS 1.2 is supported, is it possible to turn off in openssl?
[21:50:31] <Tiffany> oh god, it probably is
[21:51:01] <Tiffany> is prime256v1 any good?
[21:51:14] <Elaine> no.
[21:51:24] <Tiffany> thought so
[21:51:29] <Ilari> Tiffany: Very difficult to implement and not quite optimal performance-wise, but otherwise decent.
[21:52:14] <Elaine> it's not a SafeCurve(TM)!
[21:52:49] <Ilari> Hence "very difficult to implement".
[21:54:00] <Ilari> It is sure better than the DHE stuff, which just can't be implemented safely in TLS 1.2 (besides having nasty attacks).
[21:56:03] <Ilari> Tiffany: Oh, it is possible to really screw version negotiation on OpenSSL serverside. Such that if client supports TLS 1.2, it picks TLS 1.1, despite supporting TLS 1.2.
[21:57:23] <Ilari> Tiffany: Oh, and I rencently ran into obviously unupdated server in SSL labs recent worst list: Had both Heartbleed and EarlyCCS.
[21:57:44] <Tiffany> nice
[22:02:11] <Ilari> SSL pulse has 146,676 sites surveyed. 385 are vulernable to heartbleed, 2,729 are exploitable with EarlyCSS.
[22:04:00] <Ilari> Looking at recent worst list: SSL 2, Vulernable to FREAK and POODLE TLS.
[22:04:51] <Ilari> Another: SSL 2, FREAK and renego bug.
[22:05:57] <Ilari> Also, haha... Server with "secure" in name... Vulernable to POODLE TLS.
[22:06:23] *** Joins: dpc (dpc@moz-t6gr4b.ca.comcast.net)
[22:08:54] <Ilari> Also, found one server in recent best that supports 1.1/1.2 only (no 1.0).
[22:24:00] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[22:24:16] <Tiffany> so it looks like the documentation doesn't line up with the source
[22:24:27] <Tiffany> I tested it to make sure - it does not do what the documentation says it should
[22:24:48] <Tiffany> ( https://webcache.googleusercontent.com/search?q=cache:http://wiki.inspircd.org/Modules/ssl_openssl )
[22:25:52] <Ilari> One of the scariest words in security: OpenSSL :-)
[22:34:08] <Tiffany> okay
[22:34:17] <Tiffany> so apparently the documentation is right after all
[22:34:23] <Tiffany> <openssl ciphers="..."> works
[22:34:24] <Tiffany> somehow
[22:34:40] <Tiffany> this is just getting ridiculous
[22:35:58] <Tiffany> the sslv3 attribute doesn't work
[22:36:21] <Tiffany> oh
[22:36:22] <Tiffany> it's inverted
[22:36:39] <Tiffany> no, it's not
[22:43:29] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[22:45:42] *** Quits: dpc (dpc@moz-t6gr4b.ca.comcast.net) (Ping timeout: 121 seconds)
[22:47:58] *** Quits: brson (brson@moz-cfhap5.mtv2.mozilla.com) (Quit: leaving)
[22:59:31] <Tiffany> I managed to disable sslv3
[22:59:37] <Tiffany> you have to turn on another option for the sslv3 option to be respected
[22:59:40] <Tiffany> which is ridiculous
[23:01:08] <Tiffany> going to see if I can enable ECDH
[23:01:18] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[23:01:48] <Tiffany> right now the only ciphers are DHE_RSA_WITH_AES{128,256}_{CBC,GCM}_SHA{,256,384}
[23:03:33] *** Joins: dpc (dpc@moz-t6gr4b.ca.comcast.net)
[23:06:23] *** Joins: smkz (a@moz-gdd4un.fs1g.619c.a880.2604.IP)
[23:40:41] <Ilari> <20min to UTC midnight...
[23:41:20] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[23:51:39] *** Quits: blank_name (blank_name@moz-crs.fli.183.192.IP) (Ping timeout: 121 seconds)
[23:51:58] *** Quits: smkz (a@moz-gdd4un.fs1g.619c.a880.2604.IP) (Quit: x)
[23:52:04] *** Joins: smkz (a@moz-gdd4un.fs1g.619c.a880.2604.IP)
[23:58:01] *** Joins: blank_name (blank_name@moz-r8p.iv2.183.192.IP)
