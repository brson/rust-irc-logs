[00:00:03] <benh> because it only counts as a real line once consuming the next character past the newline, which seems to match wc -l's count, but makes for confusing squiggly lines in error messages
[00:01:47] <acrichto> olsonjeffery: atually it might be kinda nice to not raise OtherIoError type-things when raising on making a directory that already exists
[00:01:51] <brson> Eridius: I opened an issue related to your fourcc patch
[00:01:52] *** Joins: hjr3 (hradtke@1A0AE795.28A5F6C3.A2D40ED2.IP)
[00:01:55] <brson> Eridius: https://github.com/mozilla/rust/issues/9303
[00:02:00] <pcwalton> engla: yes please
[00:02:04] <pcwalton> access through closures is an anti-pattern
[00:02:13] <pcwalton> I want to remove as much of it as possible
[00:02:23] <pcwalton> it's especially bad in Servo
[00:02:38] <acrichto> pcwalton: is that mainly b/c of things like Cell as workarounds?
[00:03:17] <Eridius> brson: ok
[00:03:24] <pcwalton> it's because of (a) rightward drift, (b) loss of flexibility of when you want to surrender your reference, (c) more work on LLVM's optimizer to devirtualize
[00:03:42] <Eridius> brson: I wish we could just use 'FOUR' but that's ambiguous with lifetimes
[00:03:42] <acrichto> makes sense
[00:03:43] <engla> pcwalton: the wrapped borrowed pointers (wrapped so that they can reset the Reading/Writing status on drop)  are an annoyance as well, but at least you can use them like normal borrowed pointers
[00:03:55] <pcwalton> how are they annoying?
[00:04:19] *** Joins: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[00:04:27] <strcat> engla: yeah, it should be fine like that - @mut already allows it
[00:04:37] <engla> just an extra layer, like  let read_ptr = mut_obj.borrow();  let value = *read_ptr.get()
[00:04:46] <Eridius> I mean I suppose we could define the grammar to make 'FOUR' allowed, but then we get crap errors for things like 'FOU'
[00:04:56] <pcwalton> engla: if they're newtype structs they do autoderef though, no?
[00:05:27] <engla> I don't think they can be newtype structs. In my test impls they wrap a borrowed pointer to the Mut<T>
[00:05:45] <engla> struct Mut<T> { value: T, status: BorrowStatus }
[00:06:03] *** Quits: Jesse (jruderman@moz-537BCF9.hsd1.ca.comcast.net) (Quit: Jesse)
[00:06:09] <engla> struct ReadPtr<'self, T> { priv parent: &'self Mut<T> }
[00:06:33] <pcwalton> oh, I see
[00:06:39] <pcwalton> we need to think about autoderef
[00:06:42] <sfackler> generic newtypes don't work cross crate right now anyway
[00:06:50] <pcwalton> sfackler: what
[00:07:01] <pcwalton> we should fix that :)
[00:07:13] <sfackler> https://github.com/mozilla/rust/issues/9155 and https://github.com/mozilla/rust/issues/7899
[00:07:22] <pcwalton> haven't we fixed that bug like 3 times :)
[00:07:32] *** Quits: snadon (chatzilla@5C4F0E42.98A48E9F.47C41102.IP) (Quit: ChatZilla 0.9.90.1 [Firefox 24.0/20130909203154])
[00:07:33] <pcwalton> oh well
[00:07:36] <mcpherrin> is there an in-place map for vectors?
[00:07:41] <pcwalton> maybe we could add a "deref to this field" thing
[00:07:52] <cmr> pcwalton: there's an issue open for that
[00:07:53] <Eridius> mcpherrin: just use .move_iter().map().to_owned_vec()
[00:07:54] <pcwalton> that would also accommodate Go-like "unnamed field" use cases
[00:08:26] <mcpherrin> Eridius: Oh, didn't realize move_iter was a thing. Cool.
[00:08:48] <cmr> pcwalton: https://github.com/mozilla/rust/issues/8353
[00:08:48] *** Quits: eternaleye (eternaleye@moz-76321711.hsd1.wa.comcast.net) (Connection reset by peer)
[00:09:40] <pcwalton> nooo, debuginfo has another @fn added
[00:10:28] <Eridius> oh no that's right 'FOUR' is still ambiguous even if we explicitly define it, because of 'FOU '
[00:10:33] *** jorendorff is now known as jorendorff_away
[00:12:09] *** Joins: Shaladdle_ (anonymous@1C2FA4C8.3B4A6B80.689607DE.IP)
[00:12:14] <dbaupp> mcpherrin: in-place map would require fn(T) -> T, right? You can probably do something just with `for x in v.mut_iter() { *x = f(*x) }` (which will only work with T being implicitly copyable)
[00:12:56] <mcpherrin> dbaupp: so that's what I was going to do (T is u8 in my case)
[00:13:29] *** Joins: eternaleye (eternaleye@moz-76321711.hsd1.wa.comcast.net)
[00:13:50] *** Quits: Shaladdle_ (anonymous@1C2FA4C8.3B4A6B80.689607DE.IP) (Ping timeout)
[00:13:52] <Eridius> what is the reason why we can't say `x = f(x)` for a non-implicitly-copyable x?
[00:14:06] <dbaupp> strcat: you were struggling to get LLVM to eliminate bounds checks because we're storing the length in bytes, yeah? would it be helped by slicing as (start ptr, end ptr) rather than (start ptr, len)?
[00:14:09] <mcpherrin> well it's under 1k elements so it's mostly irrellevant anyways, who cares if I copy :P
[00:14:33] <dbaupp> Eridius: f(*x) will (attempt to) move out of x if it isn't implicitly copyable
[00:14:46] <strcat> dbaupp: I don't think that's the whole issue
[00:14:49] <Eridius> oh right, the problem there is x is a pointer
[00:14:53] <strcat> it's part of it
[00:15:15] <Eridius> although it still seems that since it can ensure you're putting something back, that it could be made tow ork anyway
[00:16:12] *** Quits: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP) (Ping timeout)
[00:16:30] <dbaupp> Eridius: very hard to be safe if `f` fails
[00:16:31] *** Quits: joshua_ (joshua@moz-45967CBE.emarhavil.com) (Ping timeout)
[00:16:51] <Eridius> dbaupp: yeah, it also occurred to me that &const would cause problems too, even if that's no longer part of the syntax
[00:16:57] <dbaupp> (i.e. I think it's impossible in general to avoid running destructors twice.)
[00:17:08] *** Joins: tautologico (shung@72FFECE3.691D28F8.C27E1635.IP)
[00:18:23] *** jorendorff_away is now known as jorendorff
[00:18:29] *** Quits: eternaleye (eternaleye@moz-76321711.hsd1.wa.comcast.net) (Quit: ZNC - http://znc.in)
[00:18:30] *** Joins: eatkinson (eatkinson@moz-D86C5DB2.airbears2.berkeley.edu)
[00:18:59] *** Joins: eternaleye (eternaleye@moz-76321711.hsd1.wa.comcast.net)
[00:20:13] *** Joins: garthk (garth@moz-B118B14A.static.internode.on.net)
[00:20:20] *** Quits: nik_ (nik@moz-6A09505.pool.mediaways.net) (Client exited)
[00:21:10] <mcpherrin> how to gdb break on task failure?
[00:21:21] <cmr> mcpherrin: b rust_begin_unwind
[00:21:39] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[00:21:46] *** Quits: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net) (Quit: dave1629)
[00:22:06] *** Quits: gandalf (zbraniecki@moz-BE33DA21.fw1.sfo1.mozilla.net) (Quit: My lid went down)
[00:22:44] <mcpherrin> cmr: thanks!  turns out I was crashing in a leftover debug print :P
[00:22:44] *** Quits: eternaleye (eternaleye@moz-76321711.hsd1.wa.comcast.net) (Connection reset by peer)
[00:23:59] <pnkfelix> mcpherrin: also, I think `catch throw` works in gdb too
[00:24:10] <pnkfelix> (i find the latter easier to remember/type)
[00:24:18] <cmr> I didn't even know that was a thing
[00:24:34] <cmr> "catchpoints" -- these look useful!
[00:26:19] <mcpherrin> pnkfelix: Oh, I didn't realize that would work (thought it was c++ only)
[00:26:38] <cmr> mcpherrin: we use c++ exceptions, last I looked into it (~1-2 months ago)
[00:27:00] <cmr> But the itanium exception abi is language-agnostic.
[00:27:22] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[00:27:29] *** Joins: eternaleye (eternaleye@moz-76321711.hsd1.wa.comcast.net)
[00:28:19] *** Quits: bent (chatzilla@moz-BE33DA21.fw1.sfo1.mozilla.net) (Quit: ChatZilla 0.9.90.1-rdmsoft [XULRunner 22.0/20130619132145])
[00:28:34] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[00:29:00] <cmr> dbaupp: Heh, so the disk space problem is that it's cloning and building LLVM separately in each :\
[00:29:24] *** Joins: lkuper_ (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[00:30:06] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[00:30:34] <dbaupp> cmr: oh, hm
[00:30:35] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Connection reset by peer)
[00:30:37] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[00:31:14] *** Quits: eternaleye (eternaleye@moz-76321711.hsd1.wa.comcast.net) (Quit: ZNC - http://znc.in)
[00:31:17] <cmr> I'll try using git-new-workdir
[00:31:27] <strcat> is there a good MIT-style licensed crypto library we could use? openssl isn't GPL compatible
[00:31:59] <cmr> Or maybe using a single directory as the "refernce" build dir, that's updated every N commits, that gets built and rsync'd from.
[00:32:32] *** Joins: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com)
[00:32:42] <dbaupp> cmr: new-workdir sounds better
[00:32:48] <dbaupp> (does it share submodules)
[00:32:51] *** Joins: Yurume_ (yurume@AC58A8CE.8A059B47.E313B915.IP)
[00:32:55] <mcpherrin> strcat: NSS?
[00:33:00] <strcat> NSS is MPL
[00:33:08] <cmr> dbaupp: that, I don't know
[00:33:14] *** Joins: eternaleye (eternaleye@moz-76321711.hsd1.wa.comcast.net)
[00:33:15] <strcat> that's like LGPL, makes people who use static linking have to distribute source
[00:33:23] <strcat> afaik
[00:33:33] <mcpherrin> strcat: No, you only have to distribute modified files
[00:33:47] *** Quits: Yurume (yurume@AC58A8CE.8A059B47.E313B915.IP) (Ping timeout)
[00:33:51] <mcpherrin> MPL was designed so netscape could release a proprietary browser based on open sauce Mozilla code
[00:34:04] *** Quits: huseby (huseby@moz-4E8C421A.husebyhome.com) (Quit: Leaving)
[00:34:07] <mcpherrin> it is per-source-file license
[00:34:08] <cmr> submodules were a problem with new-workdir too iirc
[00:34:13] <pnkfelix> kimundi: did you mean to ping me on issue #9290 ?
[00:34:51] <strcat> mcpherrin: so this isn't an accurate description? "The licensee must ensure access to or provide all source code files covered by the MPL, even if the software is offered as an executable or combined with other code under a proprietary license."
[00:35:14] <strcat> that's not really okay for a programming language
[00:35:28] <dbaupp> cmr: this is actually why I implemented the output option: you can just copy the <triples>/stage2 and src/lib{rustc,std,extra,syntax} (well, whatever code you want to benchmark with).
[00:35:32] <strcat> unless it just means you can link to upstream
[00:35:39] <dbaupp> cmr: (and then the old dir is deleted, saving all that space.)
[00:35:53] <strcat> but even then, that means everyone using rust has to worry about it
[00:37:18] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[00:37:29] <benh> If you figure out how I can use git-new-workdir without rebuilding a lot of unnecessary things, that'd be great :D
[00:38:34] <dbaupp> benh: use ccache so that the rebuilds are fast enough anyway?
[00:38:47] <dbaupp> (assuming you're talking about LLVM builds.)
[00:38:54] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[00:39:31] <benh> does that work despite the different paths of the build dirs?
[00:39:56] <cmr> benh: yes, it hashes the preprocessed output
[00:40:15] *** Quits: tjc (tjc@8E4CD96C.1698A9A3.42E94045.IP) (Quit: Places to go, people to annoy)
[00:40:33] <engla> strcat: well libsodium is unfortunately still relatively new https://github.com/jedisct1/libsodium
[00:41:29] *** Quits: canhtak (jeremy@moz-8CBCE134.wl.t.ulaval.ca) (Quit: canhtak)
[00:41:29] *** Quits: eternaleye (eternaleye@moz-76321711.hsd1.wa.comcast.net) (Connection reset by peer)
[00:42:35] <kimundi> pnkfelix: whoops. No Idea how I turned alexcrichton into pnkfelix :P
[00:43:31] <dbaupp> kimundi: cast::transmute
[00:44:01] <cmr> dbaupp: I think I will just copy the stage2 stuff, yeah. I can always checkout the source later, and git is fast.
[00:44:07] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.1)
[00:44:19] <kimundi> dbaupp: I don't understand?
[00:44:27] <kimundi> Ah . haha
[00:44:31] <kimundi> I understand
[00:44:36] <kimundi> :D
[00:44:40] <dbaupp> cmr: ok
[00:45:13] <dbaupp> brson: added a section about as/to/into casting names to the detailed release notes and style guide.
[00:45:53] *** Joins: nejucomo (Adium@moz-434492BB.dsl.static.sonic.net)
[00:46:14] *** Joins: eternaleye (eternaleye@moz-76321711.hsd1.wa.comcast.net)
[00:46:29] *** Quits: jgilbert (jgilbert@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[00:47:07] *** Quits: hjr3 (hradtke@1A0AE795.28A5F6C3.A2D40ED2.IP) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[00:47:41] *** Joins: jgilbert (jgilbert@moz-BBE3ABD.mv.mozilla.com)
[00:47:58] *** Joins: Ralith (ralith@moz-A7071297.customer.broadstripe.net)
[00:50:37] <Eridius> what the heck? My path-rewrite branch, which built just fine last time I touched it, is suddenly failing to build now
[00:50:40] <Eridius> I didn't rebase it or anything
[00:51:16] *** Joins: hoverbear (andrew@moz-86FCBF4B.gv.shawcable.net)
[00:51:17] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[00:52:55] *** Quits: eternaleye (eternaleye@moz-76321711.hsd1.wa.comcast.net) (Ping timeout)
[00:53:14] *** Joins: eternaleye (eternaleye@moz-76321711.hsd1.wa.comcast.net)
[00:53:34] *** Joins: slack1256 (slack@moz-8ED2C465.baf.movistar.cl)
[00:53:44] <brson> dbaupp: thank you so much!
[00:55:42] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[00:56:43] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[00:56:59] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[00:57:10] <slack1256> On impl when a parameter (is that the correct term?) is 'self
[00:57:20] <slack1256> as opposed to Self and self, what does it mean?
[00:58:23] <benh> 'self isn't the parameter itself, it's a lifetime
[00:58:54] <slack1256> oh, the lifetime of the self
[00:58:57] <strcat> no
[00:59:00] *** Quits: eatkinson (eatkinson@moz-D86C5DB2.airbears2.berkeley.edu) (Quit: eatkinson)
[00:59:05] <strcat> it's unrelated to the self parameter
[00:59:10] <strcat> the 'self naming is a legacy thing
[00:59:18] <strcat> the naming restriction will go away afaik
[00:59:41] <aatch> strcat, probably when we get multiple-lifetime support
[01:00:14] *** Quits: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Input/output error)
[01:01:44] *** Quits: tautologico (shung@72FFECE3.691D28F8.C27E1635.IP) (Quit: tautologico)
[01:01:51] *** Joins: skoizza (Mibbit@moz-5AF9AA47.hsd1.va.comcast.net)
[01:01:54] *** Joins: ksev (DrunkenPan@745B767B.989A61DC.CA5B6332.IP)
[01:02:10] <benh> Eridius: Could I ask you for another look-over? :)
[01:02:17] <benh> https://github.com/ben0x539/rust/compare/lexer-error-spans before I file a PR
[01:02:38] <Eridius> benh: I'll try but I'm healing a duty in FFXIV at the moment ;)
[01:02:52] *** Joins: ozten (ozten@moz-DD3B00B4.hsd1.wa.comcast.net)
[01:03:34] *** Quits: ksev (DrunkenPan@745B767B.989A61DC.CA5B6332.IP) (Ping timeout)
[01:03:47] <strcat> engla: did you start on a Mut type?
[01:04:52] <dbaupp> strcat: didn't there used to be a Mut that was removed?
[01:05:12] <engla> yeah, to test doing it without the closures yes
[01:05:24] <Eridius> benh: nothing looks obviously wrong to me, although I'd want to verify that the spans actually look correct in errors to be comfortable
[01:05:28] <Eridius> (but I'm not going to do that ;) )
[01:05:30] <strcat> dbaupp: yes
[01:05:53] <benh> Looks correct in my test cases, barring what I'm blaming on multibyte character errors and vaguely defined end-of-file+newline interaction
[01:06:04] * brson pretty bored with transcribing release notes
[01:06:14] <benh> Eridius: Are you convinced that my BytePos-subtraction isn't going to mess up the unicode characters?
[01:06:42] <engla> strcat: i'm sorry, I just love experimenting :|
[01:06:42] <Eridius> benh: I only noticed 1 subtraction, and I assume you're doing that because you know the previous chars are ascii or something? I need more context there
[01:06:46] <benh> (in the doc comments case where I skip backwards over /* and the unterminated character literal case where i skip over the ')
[01:06:59] <benh> err, non-doc block comment
[01:07:01] *** Joins: zippy314 (Mibbit@moz-75C20CD4.dsl1.rtr.chat.fpma.frpt.net)
[01:07:05] <strcat> engla: don't be sorry, I just wanted to know if you had something started
[01:07:08] <engla> strcat: https://gist.github.com/anonymous/f007d9b907509c03c17f
[01:07:10] <strcat> because I'd rather not start from scratch
[01:07:20] <engla> well it's not much code
[01:07:26] <skoizza> anyone know how to start a background process using the module run?
[01:07:37] *** Quits: olsonjeffery (pf@B8927AE1.CFEFA148.239A1A9E.IP) (Input/output error)
[01:07:41] <skoizza> it seems like you have to wait for processes to terminate with the methods provided
[01:07:51] *** Joins: brendan (brendaneic@94AF0F73.905E63C7.8B701BEE.IP)
[01:07:59] <strcat> engla: I don't think we need to keep a count, btw
[01:08:10] <strcat> since they will always follow a stack discipline
[01:08:23] <dbaupp> skoizza: `do std::task::spawn_sched(std::task::SingleThreaded) { std::run::whatever }` works
[01:08:41] <engla> strcat: that's to allow creating many ReadPtr
[01:08:50] <strcat> engla: yeah, you can do that without a count
[01:08:53] <dbaupp> skoizza: (this does spawn a whole new thread where the process runs in the forground)
[01:08:57] <dbaupp> *foreground
[01:09:08] <slack1256> It's some kind of meme that C mapping to hardware is poor on anything that isn't a pdp11, but llvm IR with its generic assambler should provide a better alternative right?
[01:09:11] <strcat> engla: the readptr struct needs to store the previous state
[01:09:16] <strcat> I guess it's close to the same thing
[01:09:29] <zippy314> HI folks.  I'm a rust newbie here, trying to add a "shuffle" method to vec.  Following how I see swap implemented for vectors in the std library I tried this: https://gist.github.com/zippy/6617909  but this gibes me a "error: no region bound is allowed on `MutableVector`, which is not declared as containing region pointers" error.  What am I doing wrong?
[01:09:34] <strcat> but I think it might be lighter to just restore
[01:09:37] <pcwalton> I prefer GIMPLE to LLVM IR really
[01:09:45] <pcwalton> except that the tooling around LLVM IR is so much better
[01:09:47] <skoizza> dbaupp so that does foreground? Anyway to do background?
[01:09:51] <dbaupp> strcat: does that work with std::ignore(..)
[01:10:01] <dbaupp> skoizza: it is background for the rest of the program
[01:10:07] <strcat> dbaupp: ah. maybe not ;[
[01:10:13] <strcat> with closures it's simpler
[01:10:18] <engla> I think it needs a count to allow readptrs with independent lifes yes
[01:10:31] *** Quits: carllerche (carllerche@6B070D22.7E6A0813.1428D117.IP) (Quit: carllerche)
[01:10:34] <dbaupp> skoizza: i.e. the thread runs the external program is in the background and the rest of the program keeps running
[01:10:39] <dbaupp> *running
[01:10:49] <skoizza> dbaupp alright thanks, ill have to play around with that
[01:10:49] <Eridius> zippy314: unless you're doing this for your own edification, rand already has a shuffle
[01:10:56] <engla> these have convenience .release() methods that just do the consumption. that can be convenience just for my tests though
[01:11:08] <strcat> pcwalton: LLVM IR will be a lot nicer when they finish first-class aggregates
[01:11:17] <strcat> so you can just pass/return by-value and have it lowered properly
[01:11:32] <pcwalton> philosophically I like the idea of exposing loops instead of just branches/phi nodes/labels
[01:11:38] <strcat> makes it so unreadable to have all the indirect params...
[01:11:48] <dbaupp> skoizza: wait; Process::new(...) seems to spawn it in the background
[01:11:57] <pcwalton> so many loop passes have to reconstruct "what is a loop"
[01:12:00] <pcwalton> instead of just having it in the IR
[01:12:52] *** Quits: heftig (heftig@moz-5D7BB4C1.dip0.t-ipconnect.de) (Ping timeout)
[01:12:57] <skoizza> it doesnt seem like it says anything about it, just that it spawns a new process
[01:13:01] <zippy314> Eridius: I was doing it for my edification, but also haven't seen examples on how to use shuffle in rand.  Will look for them.
[01:13:01] <skoizza> at least the doc I am looking at
[01:13:08] <dbaupp> skoizza: I'm looking at the code
[01:13:23] <skoizza> dpaupp that would do it
[01:13:26] *** Joins: heftig (heftig@moz-5D7BB4C1.dip0.t-ipconnect.de)
[01:13:29] *** Quits: jgilbert (jgilbert@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[01:13:40] <dbaupp> skoizza: https://github.com/mozilla/rust/blob/master/src/libstd/run.rs#L150
[01:14:09] <dbaupp> zippy314: https://github.com/mozilla/rust/blob/master/src/libstd/rand.rs#L1108
[01:14:24] *** Joins: Jesin (Jessin_@moz-CE9E5E72.cc.lehigh.edu)
[01:15:39] <zippy314> dbaupp: thanks
[01:15:51] <dbaupp> zippy314: also, http://static.rust-lang.org/doc/master/std/rand.html#method-shuffle
[01:16:38] *** Quits: eternaleye (eternaleye@moz-76321711.hsd1.wa.comcast.net) (Ping timeout)
[01:18:34] *** Joins: MrOrdinaire (Mibbit@1A659656.A607747.FD383126.IP)
[01:18:45] <nejucomo> Since types and mods live in the same namespace, does this mean it's not possible to "augment" a type path with module items?  Ie: struct T {}; mod T { static thing: int = 42 }
[01:19:50] <benh> maybe like struct T_ {}; type T = T_; mod T { ... }?
[01:19:51] <engla> strcat: I think Mut<T> needs to use NonCopyable too
[01:20:11] <strcat> engla: why?
[01:20:20] * pcwalton wonders if Mut<T> should be Mutable<T> or Slot<T> or something
[01:20:21] <nejucomo> benh: Why would type aliases and struct names live in separate namespaces?
[01:20:31] <pcwalton> just because mut and Mut is a subtle typographical/speech difference
[01:20:32] <nejucomo> s/Why would/Why? Do/
[01:20:40] <pcwalton> brson: r? https://github.com/mozilla/rust/pull/9310
[01:20:46] <engla> strcat: the borrow status is not reset on implicit copy
[01:20:55] <strcat> engla: makes sense
[01:21:09] <engla> strcat: also the fail!() case inside that fn unwrap(self)  can happen with implicit copy right now
[01:21:11] <benh> nejucomo: type aliases apparently only live in the type namespace and don't alias the implicit-ish mod-ish thing of the same name
[01:21:15] <benh> i dunno
[01:21:16] <engla> but it should be statically prevented
[01:21:39] <benh> https://github.com/mozilla/rust/pull/9308 review, anyone? :)
[01:22:30] <nejucomo> benh: Huhâ€¦  After reading the Trunk manual, I had thought all items ...
[01:22:53] <dbaupp> pcwalton: there's (temporarily) no replacement for @fn, right?
[01:22:59] <pcwalton> there's @Trait
[01:23:02] <pcwalton> that's the long term replacement
[01:23:13] <benh> nejucomo: I might be getting it wrong :/
[01:23:19] <nejucomo> Oh, I just reread it: "If a path has multiple components, it refers to an item." - I misunderstood to think that meant a single namespace for all items.
[01:23:37] <dbaupp> pcwalton: ah! thanks
[01:24:23] <nejucomo> "Modules and types share the same namespace. Declaring a named type that has the same name as a module in scope is forbidden: that is, a type definition, trait, struct, enumeration, or type parameter can't shadow the name of a module in scope, or vice versa."
[01:25:07] <nejucomo> Is this something that changed recently?  I thought I recalled people suggesting types and modules could share a name yesterday on this channel.
[01:25:26] <strcat> type aliases don't have namespaces
[01:25:59] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[01:25:59] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/KO177g
[01:25:59] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[01:27:42] <kimundi> rusti: struct foo { data: uint }; fn foo(); static foo: uint = 5;
[01:27:43] -rusti- <anon>:7:44: 7:45 error: expected `{` but found `;`
[01:27:43] -rusti- <anon>:7          struct foo { data: uint }; fn foo(); static foo: uint = 5;
[01:27:43] -rusti-                                                      ^
[01:27:43] -rusti- application terminated with error code 101
[01:27:55] <kimundi> rusti: struct foo { data: uint }; fn foo(){}; static foo: uint = 5;
[01:28:31] <kimundi> rusti: struct foo { data: uint }; fn foo(){}; static foo: uint = 5u; "?"
[01:28:53] *** Quits: skoizza (Mibbit@moz-5AF9AA47.hsd1.va.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[01:29:03] <kimundi> rusti: "?"
[01:29:05] *** Quits: maxli (maxli@moz-A607CA26.student.cs.uwaterloo.ca) (Quit: Leaving.)
[01:29:12] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Client exited)
[01:29:21] <strcat> I think sprunge died
[01:29:22] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[01:29:31] <cmr> Aren't you using ix?
[01:29:37] <strcat> cmr: no, it got banned
[01:29:39] * cmr doesn't remember, he just clicks links
[01:29:40] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[01:29:41] <cmr> Ah
[01:29:41] *** Joins: postmodern (postmodern@moz-762B9D04.hsd1.or.comcast.net)
[01:29:43] <benh> aw
[01:29:48] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[01:29:50] *** Quits: ozten (ozten@moz-DD3B00B4.hsd1.wa.comcast.net) (Quit: ozten)
[01:29:50] <strcat> it made too many pastes
[01:29:52] <strcat> rusti: 2
[01:29:53] -rusti- 2
[01:29:57] <strcat> rusti: aaaa + aaaaa + aaaaa
[01:29:58] -rusti- pastebinned 11 lines of output: http://sprunge.us/BKTh
[01:30:00] <kimundi> rusti: struct foo { data: uint }; fn foo(){}; static foo: uint = 5u; "?"
[01:30:01] -rusti- pastebinned 8 lines of output: http://sprunge.us/ZGDI
[01:30:05] <postmodern> hello, im looking to compile a static binary using zero.rs, how do I go about doing that?
[01:30:22] <kimundi> postmodern: Don't need zero.rs anymore
[01:30:36] <postmodern> kimundi, cool, tell me more
[01:30:57] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[01:30:57] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/P-LUzw
[01:30:57] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[01:30:58] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[01:30:58] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/PmWA2g
[01:30:58] <ghrust> 13rust/06auto 14cb7756a 15Alex Crichton: Implement process bindings to libuv...
[01:30:58] <ghrust> 13rust/06auto 144dacd73 15bors: auto merge of #9260 : alexcrichton/rust/libuv-processes, r=brson...
[01:30:58] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[01:31:11] <postmodern> kimundi, also i installed rust-0.7, should I use trunk or specify some config options?
[01:31:19] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Ping timeout)
[01:31:36] <kimundi> postmodern: Well, all I know is that you can compile without the standard lib, and only need to define the lang items that your code uses. No idea about the 'static' part of your question
[01:31:44] <kimundi> postmodern: trunk definitly trunk
[01:31:55] <kimundi> postmodern: heck, we're a few days away from 0.8
[01:32:07] <postmodern> kimundi, i know you can do `rustc -Z static`
[01:32:17] *** Joins: huseby (huseby@moz-4E8C421A.husebyhome.com)
[01:32:18] <postmodern> kimundi, awesome looking forward to a new version
[01:32:20] <cmr> postmodern: iirc -Z static doesn't quite work.
[01:32:40] <cmr> postmodern: I think the most surefire way is using rustc -c and linking it yourself
[01:32:59] <kimundi> postmodern: No config necessary for regular rust compilation. Just use trunk and update often.
[01:33:30] <kimundi> postmodern: If you're using arch you get daily builds ;)
[01:33:53] <strcat> cmr: or you can output IR/bytecode and compile it with clang
[01:33:59] <cmr> that too!
[01:34:00] <nejucomo> rusti: fn foo(){}; static foo: int = 7; &foo
[01:34:00] -rusti- pastebinned 8 lines of output: http://sprunge.us/eeOU
[01:34:06] <strcat> cmr: that lets you do LTO with C libs
[01:34:10] <cmr> cool
[01:34:22] <postmodern> yikes trunk has llvm as a submodule :|
[01:34:31] <strcat> so does 0.7
[01:34:38] <kimundi> postmodern: yeah, no way to get around that currently
[01:34:50] <postmodern> kimundi, you could vendor it
[01:34:56] <strcat> postmodern: it's patched
[01:35:07] <postmodern> strcat, more reason to vendor it instead of submoduling
[01:35:15] <kimundi> postmodern: On the bright side, it won't recompile llvm everytime you update the trunk git checkout
[01:35:27] <strcat> postmodern: we need the LLVM history intact
[01:35:33] <strcat> to rebase the patches
[01:35:47] <postmodern> good point
[01:35:53] <strcat> it's also much bigger than the rust repo
[01:36:05] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[01:37:45] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[01:41:18] *** Joins: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com)
[01:43:10] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Quit: Leaving.)
[01:43:32] *** Joins: maik (maik@moz-53663244.dip0.t-ipconnect.de)
[01:43:33] <amatus> is anyone working on porting rust to arm?
[01:44:21] <slack1256> isn't that a matter of llvm (which rust targets)?
[01:44:48] <kimundi> amatus: rustc supports arm already
[01:45:21] <kimundi> slack1256: No this is also rusts area, as llvm alone can not giv you cross platform compatibility
[01:46:03] <kimundi> still need to emit target-specific IR  etc
[01:46:24] <slack1256> Mmm. compilers are haaaard, but noted :-)
[01:50:36] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[01:50:43] <postmodern> hmm im trying to compile rust with ./configure --disable-sharedstd
[01:50:48] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[01:50:50] <postmodern> but I'm getting make: *** No rule to make target `x86_64-unknown-linux-gnu/stage0/lib/libstd.rlib', needed by `x86_64-unknown-linux-gnu/stage0/lib/rustc/x86_64-unknown-linux-gnu/bin/rustc'.
[01:51:03] <kimundi> postmodern: that won't work probably
[01:51:18] <postmodern> kimundi, how do i use the option correctly?
[01:51:19] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[01:51:25] <amatus> kimundi: is it easier to compile nativly or cross-compile for arm?
[01:51:42] <kimundi> postmodern: We dont support anything else than shared libraries at the moment in the makefiles
[01:52:00] <postmodern> kimundi, then why does that option exist :P
[01:52:06] <kimundi> amatus: well we don't have arm snapshots, so cross compile is the only thing possible atm
[01:52:11] <slack1256> future.
[01:52:19] <kimundi> postmodern: legacy cruft
[01:52:35] <postmodern> kimundi, ok, still trying to figure out how to compile a static binary
[01:52:48] <postmodern> kimundi, ideally i need libstd.a
[01:52:50] *** Quits: riley (riley@8BA43816.9AA11D69.65DDFA89.IP) (Client exited)
[01:53:02] <kimundi> postmodern: Still gonna keep telling you that that doesn't work right now :)
[01:53:22] <postmodern> getting mixed messages here
[01:53:29] <kimundi> At least not in a nice just-set-an-flag kind of way
[01:53:35] <postmodern> is it, or is it not, possible to compile a static executable with rustc?
[01:53:58] <kimundi> strcat and cmr mentioned things eariler that might work
[01:54:10] *** Quits: zippy314 (Mibbit@moz-75C20CD4.dsl1.rtr.chat.fpma.frpt.net) (Quit: http://www.mibbit.com ajax IRC Client)
[01:54:20] <strcat> kimundi: they do work
[01:54:33] *** Quits: maik (maik@moz-53663244.dip0.t-ipconnect.de) (Ping timeout)
[01:54:34] <strcat> I often compile rustc's output with clang
[01:54:42] <postmodern> strcat, could you give me a small paste to get me started?
[01:54:47] <kimundi> postmodern: Honest answer: I do not know. But strcat seems to know :)
[01:55:19] <kimundi> I just always hear that static linking doesn't work etc
[01:55:40] <postmodern> appears i need __morestack and io::println::....
[01:55:53] <strcat> postmodern: http://ix.io/89u minimal example
[01:56:21] <strcat> rustc foo.rs -c && clang foo.o && ./a.out
[01:56:24] <strcat> or
[01:56:40] <postmodern> strcat, ah, so I would be using Rust syntax, but only using libc
[01:56:56] <strcat> postmodern: well, all the rust language features will work
[01:57:04] <strcat> you just need to fill in the lang items
[01:57:07] *** Quits: aatch (James@moz-B437F499.pocketrent.com) (Ping timeout)
[01:57:24] <strcat> (#[start] is an example of that)
[01:57:28] <kimundi> r? https://github.com/mozilla/rust/pull/9267
[01:57:32] <postmodern> strcat, that's where zero.rs would come in?
[01:57:32] <engla> brson: is it ok to insert inline comments in your release notes PR?
[01:57:44] <strcat> postmodern: no, it's obsolete now
[01:57:55] <strcat> too far behind
[01:57:55] <postmodern> strcat, so how would I fill in the language features
[01:58:12] <strcat> when you need one, it will tell you 
[01:58:20] <strcat> and you can look at the implementations in libstd
[01:58:28] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[01:58:29] <strcat> how you define them depends on your use case
[01:58:50] <postmodern> strcat, so I would copy/paste them in?
[01:58:53] <strcat> no
[01:58:59] <strcat> they likely use runtime features
[01:59:12] <strcat> are you sure you don't just want to use non-runtimeless rust? ;p
[01:59:13] *** Joins: maxli (maxli@moz-A607CA26.student.cs.uwaterloo.ca)
[01:59:28] <postmodern> strcat, what does that entail?
[01:59:34] <nejucomo> I have xs: ~[T] and I'm doing: for x in xs.iter() { assert_eq!(*x, thing) }
[01:59:46] <postmodern> strcat, i basically need to compile a portable executable, that has no dependencies on rust
[01:59:48] *** Joins: aatch (James@moz-B437F499.pocketrent.com)
[02:00:07] <nejucomo> I get "cannot move out of dereference of & pointer".  Is this a borrow check error?
[02:00:20] <cmr> nejucomo: move checking, but it's a legitimate error.
[02:00:32] <nejucomo> I don't want to move, I want to copy.
[02:00:33] <cmr> assert_eq moves, you can't move out of the dereference of a & pointer (*x)
[02:00:34] <engla> assert_eq! will move out its arguments
[02:00:36] <strcat> postmodern: well... we currently don't build static versions of the libs so you wouldn't be able to use them
[02:00:39] <nejucomo> (T is some int type...)
[02:00:42] <cmr> nejucomo: then call .clone()
[02:00:52] <strcat> but you aren't going to have much fun writing runtimeless rust when you don't truly need it
[02:00:55] <nejucomo> (*x).clone() ?
[02:00:56] *** Quits: maxli (maxli@moz-A607CA26.student.cs.uwaterloo.ca) (Ping timeout)
[02:01:14] <strcat> it requires a level of a familiarity with the language implementation
[02:01:36] *** Quits: Yurume_ (yurume@AC58A8CE.8A059B47.E313B915.IP) (Ping timeout)
[02:01:37] <postmodern> strcat, ok, so you currently cannot compile a static executable with rust
[02:01:44] <strcat> you can compile a static executable with rust
[02:01:49] <nejucomo> Thanks.
[02:01:51] <postmodern> strcat, er you can't make use of the stdlib
[02:01:55] <strcat> the rust makefiles do not build static versions of the stdlib
[02:01:58] <strcat> they could
[02:01:59] <strcat> but they don't
[02:02:14] <postmodern> strcat, so you currently cannot
[02:02:28] <kimundi> nejucomo: instead of assert_eq!(*x, thing), you could also try assert_eq!(x, &thing)
[02:02:29] *** Quits: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com) (Ping timeout)
[02:02:40] <strcat> postmodern: that's not what I'm saying
[02:02:44] <strcat> I'm saying the makefiles won't help you
[02:03:19] <nejucomo> So it seems like the type of (==), if it were a function is: fn equals<T: EqualityTrait>(a: T, b: T) -> bool   -but wouldn't (a: &T, b: &T) be preferable for large objects?
[02:03:31] <strcat> I'm sure you could build a libstd.a
[02:03:37] <nejucomo> kimundi: Ahâ€¦  Yes, I wondered if that would do what I want.
[02:03:44] <kimundi> nejucomo: == is &T &T
[02:03:45] <nejucomo> I was afraid that would do pointer address equality.
[02:03:52] <postmodern> strcat, ok how would I go about building a .a of the std?
[02:04:05] <cmr> nejucomo: https://github.com/mozilla/rust/blob/master/src/libstd/cmp.rs#L37
[02:04:05] <kimundi> nejucomo: assert_eq! just isn't implemented that way
[02:04:10] <nejucomo> Hrm.  I'm confused.  I'll go look at the equality stuff in cmp.
[02:04:17] <nejucomo> Ah, ok.
[02:04:26] <nejucomo> I'll read cmp first then look up assert_eq!
[02:04:42] <kimundi> nejucomo: You can look at how assert_eq expands in libsyntax/ext/expand.rs
[02:05:07] <cmr> nejucomo: https://github.com/mozilla/rust/blob/master/src/libsyntax/ext/expand.rs#L776
[02:05:12] <strcat> postmodern: you would need to build a librustrt.a (the non-rust code) and make std.a via rustc -c std.rs
[02:05:23] <strcat> and then link them to the application
[02:05:30] <strcat> not going to be very fun, since the makefile doesn't know how
[02:05:53] <strcat> well I guess it does make a big archive for librustrt already
[02:05:57] <nejucomo> cmr: Thanks.  I see that fn eq is what I thought it "should" be.
[02:06:48] <nejucomo> Now I'm curious if the compiler can optimize 3u == 3u without using pointer dereferencesâ€¦  but that's sort of beyond my study scope, atm.  ;-)
[02:07:16] <strcat> nejucomo: yes, it can
[02:07:36] <nejucomo> strcat: Cool.  I'll have to learn how that works some day.
[02:07:50] <strcat> it can do much more complex optimizations
[02:08:02] <nejucomo> So, could assert_eq! be improved by borrowing pointers instead of move/copy assignment for the locals?
[02:08:02] <strcat> like turning a bunch of chained iterator adaptors into a vectorized loop
[02:08:17] <strcat> don't know, macros are weird
[02:08:22] <cmr> nejucomo: not sure, haven't tried.
[02:08:38] <cmr> When I went through them I figured it was a case of "there's probably a good reason for this, I won't change it"
[02:08:43] <luisbg> strcat, if I wanted to study the implementation of the language. what would be a good place to start?
[02:08:54] <cmr> luisbg: big question
[02:08:58] <nejucomo> So (a == b) must not translate directly to a.eq(b)â€¦  otherwise we'd have to write &7 == &7, right?
[02:08:59] <strcat> luisbg: dunno, what about the implementation do you want to study?
[02:09:10] <cmr> nejucomo: auto-borrow saves us for that
[02:09:26] <cmr> luisbg: might start with http://cmr.github.io/blog/2013/06/30/structure-and-organisation-of-rustc/ for an overview
[02:09:28] <luisbg> strcat, I want to hep with some contributions but a lot of the bugs in github go a bit above my reach
[02:09:48] <luisbg> cmr, nice! I guess I should start learning the parsing first
[02:09:49] <nejucomo> Hm.  I was unaware of auto-borrow...
[02:09:57] <cmr> luisbg: only if that's what you're interested in
[02:10:08] <aatch> cmr, oh, btw you inspired me to write a bit how trans works
[02:10:17] <cmr> aatch: thanks, much appreciated!
[02:10:22] *** Quits: fyolnish (fyolnish@moz-967716B8.uqwimax.jp) (Client exited)
[02:10:36] *** Joins: Jesse_ (jruderman@moz-BBE3ABD.mv.mozilla.com)
[02:10:41] <luisbg> cmr, what are you interested in? maybe that would give me an idea of what you are thinking
[02:10:46] *** Quits: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[02:10:47] <cmr> luisbg: so, you could start with https://github.com/mozilla/rust/issues/9312
[02:11:03] <cmr> It's fairly simple, mostly just a find-and-replace, but you'll get to see a bunch of code.
[02:11:11] <kimundi> rusti: 7u.eq(&7u)
[02:11:11] -rusti- true
[02:11:12] <luisbg> cmr, nice! :))
[02:11:23] <luisbg> cmr, should I reply saying "me me me! assign it to me"?
[02:11:26] <aatch> cmr, I've got as far as representing enums
[02:11:32] <cmr> luisbg: just a note that you're working on it is fine.
[02:11:32] <engla> brson is on a roll of registering cleanup issues
[02:11:37] <luisbg> in other bugs I just see people give a Pull Request
[02:11:44] <luisbg> but I won't be able to tackle it until tomorrow
[02:11:51] *** Quits: Earnestly (earnest@moz-BE290A2B.dyn.plus.net) (Ping timeout)
[02:12:39] <nejucomo> It looks like Iterator.next() will copy an element (it returns Option<A>), whereas the type of the for-variables is &Aâ€¦  What's going on in between these two?
[02:13:31] <cmr> nejucomo: depends on the iterator
[02:13:37] <cmr> like, the vector iterator yields &T
[02:13:41] <cmr> References into the vector
[02:13:41] * nejucomo looks at vec again.
[02:14:25] <strcat> std::iter just uses a generic element type parameter
[02:14:46] <strcat> it doesn't care if you yield &int, &mut int, int, ~[int], or something more complex
[02:14:51] <kimundi> move_iter gives you the T directly, iter() &T and mut_iter() &mut T
[02:15:21] <kimundi> Those are all different iterator implementations
[02:15:34] *** Joins: jclements (jclements@moz-3CA4E1EA.static.stls.mo.charter.com)
[02:15:56] <cmr> Uh, did I do a TWiR?
[02:15:58] * cmr looks
[02:16:28] <cmr> Yes, ok
[02:19:24] <nejucomo> Okâ€¦  I see the parts connecting &[T] to VecIteratorâ€¦
[02:19:30] <nejucomo> kimundi: Nice.  Good to know.
[02:20:04] <strcat> it also has iterators for stuff like splitting
[02:20:23] <strcat> nejucomo: http://static.rust-lang.org/doc/master/tutorial-container.html#iterators
[02:20:45] <nejucomo> strcat: Thanks.
[02:21:35] *** Joins: lmandel (lmandel@moz-76CE9D51.cable.teksavvy.com)
[02:22:01] <nejucomo> Hm.  Vectors have "O(1) amortized insertion." ?
[02:22:09] *** Quits: huseby (huseby@moz-4E8C421A.husebyhome.com) (Quit: Leaving)
[02:22:34] <strcat> nejucomo: that's wrong... not sure why it says that
[02:22:38] * strcat doesn't remember writing it
[02:22:51] <strcat> anyway I just meant the iterator section
[02:23:25] <Eridius> I'm going to guess that meant pushing, not insertion
[02:23:35] <strcat> nejucomo: well
[02:23:42] <strcat> I think I meant 'insertion at the end'
[02:23:58] <strcat> but it got messed up during reformatting/rewording
[02:24:04] * strcat will clarify it
[02:24:11] *** Joins: Larry (larryfox@moz-8D6C9B2A.nycmny.fios.verizon.net)
[02:24:11] <nejucomo> Right.
[02:24:32] <nejucomo> I thought either my mental model of vector layout was wrong, or I missed an important data structures class in college.  ;-)
[02:24:33] *** Quits: brendan (brendaneic@94AF0F73.905E63C7.8B701BEE.IP) (Quit: brendan)
[02:25:19] <strcat> nejucomo: they can have O(1) push/pop from both ends, but that's extra::deque ;p
[02:25:33] <strcat> er
[02:25:35] <strcat> ringbuf
[02:25:40] * strcat forgot it was renamed
[02:26:17] <nejucomo> Yeah.  I'm using a ringbuf in this learn-rust project.
[02:28:39] *** Joins: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp)
[02:29:01] *** Joins: fyolnish_ (fyolnish@moz-BE2BAE5B.miinet.jp)
[02:29:01] *** Quits: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp) (Connection reset by peer)
[02:29:56] *** Joins: tautologico (shung@72FFECE3.691D28F8.C27E1635.IP)
[02:30:06] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[02:30:31] *** Joins: eholk (eholk@moz-F70D5031.hsd1.in.comcast.net)
[02:30:44] <nejucomo> The containers tutorial is brainwashing me into a rust fanatic.
[02:31:25] <engla> oh, how?
[02:31:35] <engla> we should try to incorporate that into all our documentation
[02:32:27] <engla> oh it still uses the old name in the tutorial
[02:32:28] <engla> .(
[02:32:32] <nejucomo> heheâ€¦  I think it's just the combination of low-level high performance data structures with high-level iterator composition...
[02:32:34] *** Quits: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com) (Quit: )
[02:32:35] <cmr> Well the tutorials kinda are part of the documentation, aren't they?
[02:32:36] <nejucomo> Also static freezing is awesome.
[02:33:14] *** Joins: brendan (brendaneic@94AF0F73.905E63C7.8B701BEE.IP)
[02:33:23] *** Quits: brendan (brendaneic@94AF0F73.905E63C7.8B701BEE.IP) (Quit: brendan)
[02:33:24] <nejucomo> I'm coming from python and haskell and C, and it feels like rust is in a sweet spot.
[02:34:09] <nejucomo> Maybe that tutorial is less impressive for modern C++ users?
[02:34:16] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[02:34:37] <strcat> nejucomo: well the iterator part should be impressive for C++ users
[02:34:53] <strcat> it should be incredibly dull and familiar to D users, except iterator invalidation not being possible
[02:35:18] *** Joins: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca)
[02:35:44] <cmr> nejucomo: I come from a predominantly python and C background, I feel similarly.
[02:36:05] <tiffany> I've been programming in almost solely C for the past year and oh how I love rust's memory safety
[02:36:29] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[02:38:00] <nejucomo> The type system seems slightly more clunky than haskell; otoh being able to reason about the runtime layout and operation in a C-ish way is incredibly refreshing.
[02:38:10] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[02:38:55] <luisbg> tiffany, \o/
[02:39:01] <nejucomo> I shouldn't say clunkyâ€¦ I mean it's missing various haskell features, and it's more complicated by the memory management concerns.
[02:39:12] <tiffany> it is missing a few things yeah
[02:39:31] <tiffany> higher kinded polymorphism, GADTs, etc.
[02:39:56] <tiffany> the type system is understandably complex though
[02:40:22] <strcat> engla: https://github.com/mozilla/rust/issues/9314
[02:40:59] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[02:40:59] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/PmWA2g
[02:40:59] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[02:41:40] *** Joins: thewonderidiot (mstewart@moz-FD1FD938.hsd1.al.comcast.net)
[02:43:28] *** Quits: kimundi (kimundi@moz-ED244214.dip0.t-ipconnect.de) (Ping timeout)
[02:43:48] <engla> that sounds good
[02:44:16] *** Joins: mark_edward (quassel@moz-97E995A.hsd1.in.comcast.net)
[02:44:25] <engla> I'm fixing up the containers part since ringbuf had its old name in there
[02:44:42] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[02:45:22] <engla> maybe the What next? section last in the tutorial should be more visible, those tutorials are all pretty interesting
[02:45:59] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[02:45:59] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/oM0_fQ
[02:45:59] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[02:46:08] <engla> also to rust users who may know rust to some extent but didn't learn conditions yet and so on
[02:46:36] *** Joins: kimundi (kimundi@moz-2B3B2A0D.dip0.t-ipconnect.de)
[02:46:42] <luisbg> engla, +1 to making the "what next?" more visible
[02:46:49] *** Joins: skoizza (Mibbit@moz-C3630477.hsd1.va.comcast.net)
[02:47:39] *** Quits: jclements (jclements@moz-3CA4E1EA.static.stls.mo.charter.com) (Connection reset by peer)
[02:48:11] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[02:48:44] <amatus> kimundi: do i need to specify --host-tripples or --target-tripples to build a cross-compiler?
[02:48:53] *** Quits: mark_edward (quassel@moz-97E995A.hsd1.in.comcast.net) (Ping timeout)
[02:48:58] <Luqman> amatus: target
[02:49:36] <cmr> amatus: host is the systems it will run on, target is the systems it will compile for.
[02:49:53] <amatus> hrm, it doesn't like armv6l-unknown-linux-gnueabihf
[02:50:28] <Luqman> amatus: you want arm-unknown-linux-gnueabihf
[02:50:31] <cmr> engla: perhaps it should be at the *top* of the tutorial, like "Other tutorials"
[02:50:36] <engla> amatus: make sure to spell it "triple"
[02:50:41] <engla> or triples
[02:50:50] <cmr> engla: just to make it unmissable
[02:50:55] <amatus> Luqman: thanks, that works
[02:51:01] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[02:51:01] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/oM0_fQ
[02:51:01] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[02:51:03] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[02:51:03] <ghrust> 01[13rust01] 15bors pushed 3 new commits to 06auto: 02http://git.io/0kf22g
[02:51:03] <ghrust> 13rust/06auto 145ab843f 15Erick Tryzelaar: std: Remove Option.or_{default,zero}...
[02:51:03] <ghrust> 13rust/06auto 141a90f24 15Erick Tryzelaar: extra: minor cleanup of Zero and Default syntax extension
[02:51:03] <ghrust> 13rust/06auto 140f3849d 15bors: auto merge of #9279 : erickt/rust/master, r=alexcrichton...
[02:51:05] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[02:51:13] <slack1256> can we call rust from C code?
[02:51:17] <strcat> yes
[02:51:18] *** kimundi is now known as zz_kimundi
[02:51:58] <engla> cmr: yes, something like that. or a link to that list on the front page "Tutorials by Topic" or so
[02:52:03] <cmr> yeah
[02:53:39] <engla> strcat: I have some edits in the container tutorial as well, to fix the deque -> ringbuf issue, but also printfln -> println all over
[02:54:18] <slack1256> %s/printfln/println/ ?
[02:54:33] <engla> the format syntax is different
[02:55:07] <engla> printfln!("%d %s", x, y)  can  be replaced by  println!("{} {}", x, y)  and so on
[02:56:30] <Jesse_> {} %?
[02:56:34] <thewonderidiot> hey guys, quick question: is there a preferred way to swap the endianness of a number other than doing it manually in an unsafe block?
[02:56:46] <Eridius> thewonderidiot: you can swap it safely too
[02:56:48] <engla> Jesse_: {} is the default format. %?  corresponds to {:?} now
[02:57:01] <Eridius> thewonderidiot: there's also functions for the signed integral types in unstable/intrinsics
[02:57:11] <engla> rusti: format!("{} {:?}", 1i64, 1i64)
[02:57:12] -rusti- ~"1 1i64"
[02:57:17] <Eridius> although that's more for converting to a specific endianness than merely swapping
[02:57:25] <Eridius> though there are intrinsics for swapping too
[02:57:41] <thewonderidiot> ah, converting to a specific endianness sounds exactly like what I want
[02:57:47] <Jesse_> engla: what do {} and {:?} do in general?
[02:57:49] <Eridius> I don't know why they're in unstable/intrinsics
[02:58:08] <Eridius> somewhere like num really ought to have the full set of endianness funcs
[02:58:12] *** zz_kimundi is now known as kimundi
[02:58:38] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[02:58:41] <engla> Jesse_: {:?} is the repr ("debug") presentation, for any value.  {} is the type's default (if implemented) formatting mode
[02:58:51] <thewonderidiot> I saw a page listing ByteSwap as a trait but it doesn't seem to have been implemented
[02:59:09] <strcat> Jesse_: {:?} is implemented via reflection
[02:59:15] <strcat> it's very slow and not a stable output format
[02:59:21] <engla> Jesse_: integers can be formatted both in decimal and hex, and {} is the decimal formatter. the hex version can be used explicitly with {:x}
[02:59:22] <strcat> it's incredibly useful as a debugging tool
[02:59:30] <Jesse_> can types override {:?} ?
[02:59:33] <strcat> no
[02:59:36] <strcat> it's reflection
[02:59:57] <Eridius> thewonderidiot: I don't see a ByteSwap anywhere in std
[03:00:06] <strcat> a whole compiler feature exists for {:?}
[03:00:08] <Jesse_> reflection, as opposed to deriving?
[03:00:49] <Jesse_> i'm curious how much of it happens at compile-time vs run-time
[03:01:21] <strcat> when you use {:?}, the compiler will generate visit glue
[03:01:24] <strcat> to visit the types
[03:01:29] <thewonderidiot> Eridius: https://github.com/mozilla/rust/wiki/Bikeshed-Numeric-Traits was the page that I found referencing it. I did a grep for it in std and couldn't find it, which is why I asked
[03:01:36] <strcat> it will recursively walk the visit glue
[03:01:43] <thewonderidiot> Eridius: the stuff in unstable/intrinsics looks great, thanks!
[03:01:47] <engla> format! does a lot at compile time, everything except {:?} is entirely safe and gives error messages for type mismatches
[03:02:11] <strcat> it was decided {:?} is safe
[03:02:22] <strcat> you're not allowed to store invalid values in types, even in priv fields
[03:02:29] <engla> oh. that explains some of the stuff you put on the forbidden list
[03:02:46] <strcat> engla: well some of it is also there because of range asserts on loads
[03:03:17] <strcat> (looking at you, std::io)
[03:03:37] <SiegeLord> Heh, so you can now read private fields by parsing the output of {:?}?
[03:03:38] <engla> is that something for enums?
[03:04:01] <strcat> engla: and bools, and soon char
[03:04:10] <engla> ok
[03:04:17] <strcat> engla: range metadata tells LLVM the value loaded from the LLVM register is always in a specific range
[03:04:25] <strcat> (it's just on the enum discriminants and bools atm)
[03:04:48] <strcat> maybe we could even tell it borrowed pointer parameters must be non-null that way
[03:04:51] *** Joins: tikue_ (tkuehn@7AB14988.2ACBBF24.689607DE.IP)
[03:04:54] <engla> so if {:?} is safe, should it be the default format mode again?
[03:05:00] <strcat> engla: no
[03:05:04] <strcat> it's still just for debugging
[03:05:20] <strcat> types can't override it, it exposes private implementation details (will never be stable), and is very slow/bloated
[03:05:46] *** Joins: canhtak (jeremy@moz-8CBCE134.wl.t.ulaval.ca)
[03:05:58] <strcat> imo it should be unsafe, but that's what the collective decision was in a meeting
[03:06:17] <strcat> (anyway I really don't care about it very much)
[03:06:20] *** Joins: eternaleye (eternaleye@moz-76321711.hsd1.wa.comcast.net)
[03:06:51] *** Quits: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca) (Ping timeout)
[03:07:06] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[03:07:43] <Jesse_> wouldn't want to make developers write unsafe{} around their temporary debugging code
[03:08:18] <Jesse_> would it be faster if it were implemented with a 'deriving' trait?
[03:08:26] <strcat> the debug! macros could just expand to having inner unsafe blocks
[03:08:31] * strcat shrugs
[03:08:42] <strcat> (that's a bad idea ;p)
[03:09:00] <strcat> Jesse_: it can't be
[03:09:11] <strcat> the point is that it's compiler-generated reflection code
[03:09:20] <strcat> if it was trait-based, it would be {}
[03:09:24] <strcat> (that's what {} is)
[03:09:42] <nejucomo> Hm.  I don't understand why I can borrow here: http://sebsauvage.net/paste/?1fd8551b63dc648a#0rk7NeqPoUf0r70StoGpoG3Ttzua0MpMkLk2L5upmWM=
[03:10:00] <engla> strcat: doc changes to the same doc (one section after, maybe it merges) https://github.com/mozilla/rust/pull/9316
[03:10:12] <strcat> engla: I'll cherry-pick it
[03:10:29] *** Quits: jesseray (Mibbit@moz-EE907FB2.dhcp.insightbb.com) (Quit: http://www.mibbit.com ajax IRC Client)
[03:10:31] <nejucomo> Is a "dereference" an expression that is following a pointer?  Such as: *x  ?
[03:10:36] <strcat> nejucomo: & borrows an &T
[03:10:39] <strcat> you want &mut foo
[03:10:45] <nejucomo> Ah, thanks.
[03:10:48] <engla> great
[03:11:04] <Jesse_> strcat: well, there could be one trait for 'normal string representation' and one trait for 'structural string representation'
[03:11:12] <nejucomo> One reason I'm confused is that I think the expression "&x" is not a "dereference".  What is the dereference in this case?
[03:11:24] <strcat> oooo, coursera is running ml-class again
[03:11:50] <strcat> nejucomo: &x is a reference, *x is a dereference
[03:12:36] <nejucomo> strcat: Ok, that fits my understandingâ€¦  But I'm still confused by the compiler error.
[03:12:53] <nejucomo> Which "immutable dereference" â€¦  Oh wait...
[03:13:15] <strcat> nejucomo: it's saying you can't convert &T to &mut T
[03:13:56] <nejucomo> When I have: let mut x = â€¦ ; f(&x)    -and f takes (&mut T), then there's an attempt to dereference the argument in order to create a new borrow on it?
[03:14:01] *** Quits: eternaleye (eternaleye@moz-76321711.hsd1.wa.comcast.net) (Quit: ZNC - http://znc.in)
[03:14:14] <strcat> nejucomo: no, it's just too generic of an error check
[03:14:19] <strcat> to give a precise message
[03:14:25] <strcat> it probably needs a rewrite
[03:14:32] *** Joins: eternaleye (eternaleye@moz-76321711.hsd1.wa.comcast.net)
[03:14:33] <strcat> I'm guessing that's a formatted message
[03:14:46] <nejucomo> If we flip this around, would this work:  let mut x = â€¦ ; f(&mut x)   -where f takes (&T)â€¦  Will that compile?
[03:14:47] <strcat> as in 'cannot borrow {} of {} pointer as {}'
[03:15:04] <strcat> nejucomo: yes, &mut will coerce into & by-move
[03:15:23] <strcat> rusti: let mut x = 5; let y = &mut x; let z: &int = y; *z
[03:15:24] -rusti- 5
[03:15:40] <strcat> rusti: let mut x = 5; let y = &mut x; let _: &int = y; y /* error, was moved from */
[03:15:41] -rusti- pastebinned 16 lines of output: http://sprunge.us/SZXa
[03:15:42] <nejucomo> What is moved in that case?
[03:15:47] <strcat> nejucomo: the &mut ptr
[03:15:51] <strcat> they are non-copyable
[03:16:12] <strcat> (non-copyable: things with destructors, &fn, &mut)
[03:16:36] *** Quits: slack1256 (slack@moz-8ED2C465.baf.movistar.cl) (Quit: Konversation terminated!)
[03:17:17] <nejucomo> Is &T copyable?
[03:17:31] * nejucomo ponders why &mut T is not copyable...
[03:17:49] <strcat> nejucomo: yes &T is copyable
[03:18:10] <nejucomo> I'm still not sure why &mut T is not copyable.
[03:18:20] <strcat> memory safety
[03:18:35] <nejucomo> heheâ€¦  ok, but I don't understand the safety issue...
[03:18:49] <strcat> plain old iterator/reference invalidation
[03:18:54] <strcat> one simple example
[03:19:29] <strcat> nejucomo: let mut xs = ~[1, 2, 3]; let y = &mut xs; let z = &mut y[0]; y.clear()
[03:19:31] <strcat> z is dangling
[03:19:33] <strcat> or
[03:19:34] <nejucomo> let x: &mut T = â€¦ ; f(x); f(x)   -this is not possible, where f takes (&mut x)  ?  Or do I misunderstand where moves occur?
[03:19:59] <sfackler> r anyone? https://github.com/mozilla/rust/pull/9285
[03:20:15] *** Quits: Azdle (patrick@moz-8C723B60.hsd1.mn.comcast.net) (Ping timeout)
[03:20:24] <strcat> nejucomo: you're right, that's not possible
[03:20:36] <nejucomo> strcat: Thanks for the example.  (I'm often an example-driven learner.)
[03:21:04] <strcat> nejucomo: so basically, if you have an &mut reference + another reference (&mut or &) you could invalidate the other reference
[03:21:17] <strcat> since you are allowed to take references *deeper* into &/&mut
[03:21:37] <strcat> the variant stored in an enum may change, the size of a container may change, and so on
[03:24:19] *** Quits: Liothen (liothen@moz-1B8DE1FF.spkn.qwest.net) (Ping timeout)
[03:26:57] <nejucomo> I guess I had assumed that: let x: &mut T = â€¦; f(x); g(x); would be possible, by assuming all mutations in f are complete by the time the stack enters g...
[03:27:35] <nejucomo> Perhaps lifetimes violate that, such as if f returns a derived borrow?
[03:27:40] <strcat> nejucomo: yep
[03:27:48] <strcat> although in theory that case might work...
[03:27:58] <strcat> it might even work now
[03:28:01] * strcat doubts it
[03:28:08] <strcat> as long as there was no lifetime annotation on the parameter
[03:28:20] <nejucomo> Well, your example with references to sub-structures clarifies the danger.
[03:33:14] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[03:33:16] *** Quits: RageOfThou (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP) (Ping timeout)
[03:33:49] <MrOrdinaire> hi, is there anyway to cast an int back to a C-like enum?
[03:34:00] <strcat> MrOrdinaire: a match expr
[03:34:10] <strcat> storing arbitrary ints in an enum wouldn't be safe
[03:34:51] <MrOrdinaire> strcat: I see. I am casting enum values to ints, and then casting them back
[03:35:02] *** Joins: alisdair (textual@1697D94C.7742FB18.FBC8476D.IP)
[03:35:14] <strcat> MrOrdinaire: why? FFI?
[03:35:37] <MrOrdinaire> strcat: I'm trying to write a wrapper for libuv's signal
[03:36:06] <strcat> so what does the enum represent? the signal type?
[03:36:39] <strcat> MrOrdinaire: if you can provide an absolutely certain guarantee the int is always one of the enum variants, you can use cast::transmute
[03:36:49] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[03:37:14] *** Quits: eternaleye (eternaleye@moz-76321711.hsd1.wa.comcast.net) (Quit: ZNC - http://znc.in)
[03:37:25] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[03:37:25] *** Quits: Jesin (Jessin_@moz-CE9E5E72.cc.lehigh.edu) (Broken pipe)
[03:37:45] *** Joins: eternaleye (eternaleye@moz-76321711.hsd1.wa.comcast.net)
[03:37:49] <MrOrdinaire> strcat: that's awesome! I don't want to repeat the constituent values of the enum. Thanks a bunch!
[03:38:11] *** Quits: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net) (Connection reset by peer)
[03:38:30] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[03:39:40] *** Quits: Larry (larryfox@moz-8D6C9B2A.nycmny.fios.verizon.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[03:40:16] *** Quits: postmodern (postmodern@moz-762B9D04.hsd1.or.comcast.net) (Quit: Leaving)
[03:40:45] <MrOrdinaire> strcat: I got this `error: transmute called on types with different sizes: i32 (32 bits) to rt::uv::Signum (64 bits)`
[03:40:57] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[03:40:58] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 140f3849d to 144dacd73: 02http://git.io/N3iJvQ
[03:40:58] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[03:40:59] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[03:40:59] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/-hrOaA
[03:40:59] <ghrust> 13rust/06auto 14dd4f8a2 15Alex Crichton: Remove rust_run_program.cpp...
[03:40:59] <ghrust> 13rust/06auto 14bc07c3c 15bors: auto merge of #9280 : alexcrichton/rust/less-c++, r=brson...
[03:41:00] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[03:41:16] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Connection reset by peer)
[03:41:51] <nejucomo> Where can I read about "auto-borrowing", such as happens when (a == b) is translated to ((&a).eq(&b)) ?
[03:41:55] <strcat> MrOrdinaire: well, enums are always 64-bit right now but it will change
[03:42:09] <strcat> MrOrdinaire: you could do 'as i64' for now
[03:42:26] <MrOrdinaire> strcat: okay, thanks
[03:42:35] <strcat> I think they're 64-bit on 32-bit too.. could be wrong
[03:43:18] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[03:43:34] <MrOrdinaire> strcat: that's bad ... is #[cfg()] usable on a line of code?
[03:43:45] *** Joins: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net)
[03:43:47] *** Quits: Yeri (jasonjasmi@41C91A8A.CE609BA5.E39FBF79.IP) (Quit: Yeri)
[03:43:56] <Luqman> MrOrdinaire: there's cfg!(...)
[03:44:05] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[03:44:16] <Luqman> so something like if cfg!(debug) { ... }
[03:44:26] <nejucomo> Or, another question: How can I perform pointer equality tests?
[03:45:20] <MrOrdinaire> Luqman: thanks! I'll see if it fails on 32-bit arch and then add that later
[03:45:31] *** Joins: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca)
[03:47:46] *** Quits: eternaleye (eternaleye@moz-76321711.hsd1.wa.comcast.net) (Connection reset by peer)
[03:50:15] <MrOrdinaire> could anyone tell me how the types in `src/libstd/rt/uv` are used in libstd? grep-ing for them doesn't really help...
[03:51:15] *** Joins: aeqwa (aeqwa@moz-A1C312ED.dsl.tropolys.de)
[03:51:25] <ChrisMorgan> Those are only used elsewhere in std::rt, where they are wrapped up in suitable ways for public consumption.
[03:52:00] <MrOrdinaire> ChrisMorgan: could you please point me to an example?
[03:52:14] <ChrisMorgan> Got a particular example in mind?
[03:52:45] <MrOrdinaire> ChrisMorgan: TimerWatcher and TcpWatcher come to mind
[03:53:46] *** Joins: eternaleye (eternaleye@moz-76321711.hsd1.wa.comcast.net)
[03:54:19] <brson> MrOrdinaire: they are used in rt::uv::uvio to implement the traits in rt::rtio, which are in turn used by rt::io to implement I/O
[03:54:23] <ChrisMorgan> I think those are actually entirely internal to std::rt::uv, supporting other things which are then made public.
[03:55:57] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[03:55:57] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14bc07c3c to 144dacd73: 02http://git.io/N3iJvQ
[03:55:57] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[03:55:59] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[03:55:59] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/gvN5NA
[03:55:59] <ghrust> 13rust/06auto 144757631 15Jimmy Zelinskie: Remove and replace cond! Closes #9282.
[03:55:59] <ghrust> 13rust/06auto 14f7b04c8 15bors: auto merge of #9291 : jzelinskie/rust/remove-cond, r=alexcrichton...
[03:55:59] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[03:56:01] *** Quits: eternaleye (eternaleye@moz-76321711.hsd1.wa.comcast.net) (Connection reset by peer)
[03:56:16] *** Quits: alisdair (textual@1697D94C.7742FB18.FBC8476D.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[03:57:00] *** Joins: alisdair (textual@1697D94C.7742FB18.FBC8476D.IP)
[03:57:10] *** Quits: Jesse_ (jruderman@moz-BBE3ABD.mv.mozilla.com) (Quit: Jesse_)
[03:58:33] <MrOrdinaire> brson, ChrisMorgan, thanks. I'm reading uvio.rs now.
[03:59:14] <ChrisMorgan> Why are {float,f32,f64}.is_NaN named thus rather than is_nan?
[03:59:26] <jzelinskie> :)
[03:59:37] *** jorendorff is now known as jorendorff_away
[04:00:30] *** Joins: tjc (tjc@moz-6EB4E533.dsl.tsoft.com)
[04:00:30] *** ChanServ sets mode: +o tjc
[04:01:02] *** Quits: tjc (tjc@moz-6EB4E533.dsl.tsoft.com) (Quit: Places to go, people to annoy)
[04:05:40] <ChrisMorgan> Then too, there's the NaN() static method.
[04:06:10] <ChrisMorgan> RFC: rename Float::NaN() to Float::nan() and Float.is_NaN() to Float.is_nan()
[04:06:44] *** Joins: eternaleye (eternaleye@moz-76321711.hsd1.wa.comcast.net)
[04:10:36] <brson> ChrisMorgan: I agree, can you open an issue?
[04:10:49] <ChrisMorgan> Yep :-)
[04:11:19] <ChrisMorgan> And then I'll implement it.
[04:11:20] *** Quits: robn (robn@moz-76B0302C.static.internode.on.net) (Ping timeout)
[04:11:45] * ChrisMorgan should get on and decide to acquire a new laptop so he can do these things more conveniently
[04:13:01] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[04:14:28] <ChrisMorgan> What? The latest snapshot is from over a month ago?
[04:14:31] *** Quits: skoizza (Mibbit@moz-C3630477.hsd1.va.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[04:15:08] * ChrisMorgan wants to be able to get on with the second part of his std::util::unreachable -> unreachable! patch
[04:15:10] <brson> ChrisMorgan: there was a snapshot registered today
[04:15:24] <ChrisMorgan> Ah, OK. I need to rebuild then :-)
[04:15:34] <ChrisMorgan> s/rebuild then/rebuild, then/
[04:17:17] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[04:17:59] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[04:19:15] *** Joins: robn (robn@moz-76B0302C.static.internode.on.net)
[04:19:18] *** Quits: robn (robn@moz-76B0302C.static.internode.on.net) (Quit: robn)
[04:19:21] *** Joins: robn (robn@moz-76B0302C.static.internode.on.net)
[04:22:54] *** Joins: ww (Mibbit@moz-DFAED48A.lightspeed.sntcca.sbcglobal.net)
[04:23:10] *** Quits: garthk (garth@moz-B118B14A.static.internode.on.net) (Quit: garthk)
[04:25:18] *** Quits: Ralith (ralith@moz-A7071297.customer.broadstripe.net) (Ping timeout)
[04:25:39] <brson> ChrisMorgan: I didn't realize you were working on unreachable! still. luisbg said he wanted to remove util::unreachable: https://github.com/mozilla/rust/issues/9312
[04:25:43] <tautologico> should I use std::str::eq for string comparison? It always needs &~str, is there a more direct way?
[04:26:14] <bjz_> tautologico: ==?
[04:26:23] *** Joins: Ralith (ralith@moz-A7071297.customer.broadstripe.net)
[04:26:34] <ChrisMorgan> brson: it was simply that until a new snapshot was made, unreachable!() couldn't be used, so unreachable() had to stay around until the next snapshot
[04:26:42] <ww> is something wrong with http://static.rust-lang.org?  can't access the rust documents at it.  got access denied error.
[04:26:44] <bjz_> rusti: ~"hi" == ~"hi"
[04:26:44] -rusti- true
[04:26:55] <bjz_> tautologico: ^
[04:27:13] <tautologico> == is not identity then
[04:27:43] <bjz_> what do you mean?
[04:27:59] <bjz_> same pointer?
[04:28:04] <tautologico> object identity vs. object equality
[04:28:11] <tautologico> yes, same ptr
[04:28:26] <bjz_> yeah, it's equality
[04:28:31] <aatch> tautologico, there is a function for identity.
[04:28:46] <tautologico> scheme has eq? eqv? equal? and so on
[04:29:00] <dolphinling> Am I correct in thinking that ptr::set_memory() on a c_void will do nothing because size_of<c_void> == 0?
[04:29:02] <aatch> tautologico, though it's only useful for @ and &.
[04:29:22] *** Quits: penguin_dan (dan_johnsi@6902762D.11B071D.FB9A45AF.IP) (Ping timeout)
[04:29:25] <tautologico> yeah I imagine it isn't useful very often
[04:29:53] <aatch> since ~str same-as ~str is always false.
[04:30:02] <aatch> (and same for all other ~-ptrs)
[04:30:20] *** Joins: penguin_dan (dan_johnsi@6902762D.11B071D.FB9A45AF.IP)
[04:30:25] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[04:30:38] *** Quits: cdidd (cdidd@moz-F34BA2DD.broadband.corbina.ru) (Input/output error)
[04:30:46] <bjz_> rusti: let v = ~"hi"; (std::borrow::ref_eq(v, v), std::borrow::ref_eq(v, ~"hi"))
[04:30:47] -rusti- pastebinned 14 lines of output: http://sprunge.us/ceDD
[04:31:00] <strcat> dolphinling: right
[04:31:18] <strcat> dolphinling: you can cast to *u8 to zero by byte
[04:31:20] <bjz_> rusti: let v = @"hi"; (std::borrow::ref_eq(v, v), std::borrow::ref_eq(v, @"hi"))
[04:31:21] -rusti- pastebinned 14 lines of output: http://sprunge.us/TDgR
[04:31:29] <bjz_> rusti: let v = "hi"; (std::borrow::ref_eq(v, v), std::borrow::ref_eq(v, "hi"))
[04:31:30] -rusti- pastebinned 14 lines of output: http://sprunge.us/XPiE
[04:31:33] *** Joins: Jesin (Jessin_@moz-CE9E5E72.cc.lehigh.edu)
[04:31:33] <dolphinling> strcat: thanks, was about to ask if that was the normal way
[04:31:34] *** Joins: Jesse (jruderman@moz-537BCF9.hsd1.ca.comcast.net)
[04:31:42] <bjz_> aatch: ?
[04:32:02] *** Quits: Sorella (queen@9D963F5D.DF5D8AE7.54BCAB54.IP) (Quit: G'night everynyan~!)
[04:32:02] <aatch> bjz_, ~str is not a pointer
[04:32:07] <bjz_> ohhh
[04:32:20] <bjz_> *facepalm
[04:33:04] <ChrisMorgan> str and [T] are confusing things. Sadly, every language has confusing primitive types. Python is probably the closest to non-confusing that I've seen.
[04:33:16] *** Quits: Ralith (ralith@moz-A7071297.customer.broadstripe.net) (Ping timeout)
[04:33:17] *** Quits: Jesin (Jessin_@moz-CE9E5E72.cc.lehigh.edu) (Ping timeout)
[04:33:18] <aatch> rusti: let a = ~1; let b = ~1; (std::borrow::ref_eq(a, a), std::borrow::ref_eq(a, b))
[04:33:18] -rusti- (true, false)
[04:33:34] *** Joins: Jesin (Jessin_@moz-CE9E5E72.cc.lehigh.edu)
[04:33:42] <aatch> ChrisMorgan, well there was a proposal for sized/unsized types to help with that.
[04:34:16] <aatch> but it stalled on the issue that so many generic functions would need to have a Sized bound, especially on return values.
[04:34:19] <bjz_> aatch: seems like std::borrow would be better called std::ref
[04:34:21] *** Quits: penguin_dan (dan_johnsi@6902762D.11B071D.FB9A45AF.IP) (Ping timeout)
[04:34:23] <jeaye> So drop take &mut self now. I thought the plan was to take self by value.
[04:34:23] <brson> luisbg: I think ChrisMorgan is going to do the removal of util::unreachable(). I hope you haven't gotten too deep into it yet
[04:34:34] *** Joins: penguin_dan (dan_johnsi@6902762D.11B071D.FB9A45AF.IP)
[04:34:48] <ChrisMorgan> Yeah, sorry about that. I already had it done, I'm just needing to recompile it now.
[04:34:48] <engla> bjz_: but it's not valid
[04:34:51] <engla> rusti: use ref = std::borrow;
[04:34:51] -rusti- <anon>:7:9: 7:12 error: found `ref` in ident position
[04:34:52] -rusti- <anon>:7          use ref = std::borrow;
[04:34:52] -rusti-                   ^~~
[04:34:52] -rusti- error: aborting due to previous error
[04:34:52] -rusti- application terminated with error code 101
[04:34:54] <jeaye> (not complaining, it frees up an issue of mine -- just a bit unexpected)
[04:34:59] <bjz_> ohh
[04:35:04] <bjz_> haha
[04:35:14] *** Joins: eatkinson (eatkinson@moz-E57448EF.airbears2.berkeley.edu)
[04:35:21] *** Joins: Jessin (Jessin_@moz-971F1FB4.cc.lehigh.edu)
[04:35:56] <bjz_> engla: std::ref_ then! x)
[04:36:01] <aatch> bjz_, also, technically ~str -> &str isn't auto-borrowing, it's auto slicing.
[04:36:02] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[04:36:02] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14f7b04c8 to 144dacd73: 02http://git.io/N3iJvQ
[04:36:02] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[04:36:03] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[04:36:03] <ghrust> 01[13rust01] 15bors pushed 3 new commits to 06auto: 02http://git.io/Dir2mQ
[04:36:03] <ghrust> 13rust/06auto 145ab843f 15Erick Tryzelaar: std: Remove Option.or_{default,zero}...
[04:36:03] <ghrust> 13rust/06auto 141a90f24 15Erick Tryzelaar: extra: minor cleanup of Zero and Default syntax extension
[04:36:04] <ghrust> 13rust/06auto 14cea37ab 15bors: auto merge of #9279 : erickt/rust/master, r=alexcrichton...
[04:36:06] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[04:36:16] <tautologico> docs are still offline?
[04:36:20] <sfackler> are struct-like enums too fragile to be used in stuff for libextra?
[04:36:23] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[04:36:34] *** Quits: Jesin (Jessin_@moz-CE9E5E72.cc.lehigh.edu) (Ping timeout)
[04:36:37] <jeaye> tautologico: http://static.rust-lang.org/doc/master/std/index.html works for me
[04:36:43] <sfackler> if all of the variants are private?
[04:37:09] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[04:37:27] <strcat> sfackler: you mean variants with named fields? should be fine
[04:37:43] *** Joins: Ralith (ralith@moz-A7071297.customer.broadstripe.net)
[04:37:43] <tikue_> sfackler: what do you mean fragile?
[04:38:37] <sfackler> struct like enums were one of the things brson proposed to require an opt-in #[feature] thing for
[04:38:51] <tikue_> to what end?
[04:38:51] <sfackler> I assume because there are issues with them?
[04:38:55] <tikue_> ah
[04:39:04] *** Quits: Jessin (Jessin_@moz-971F1FB4.cc.lehigh.edu) (Quit: Leaving)
[04:39:11] <sfackler> along side macro_rules and once fns iirc
[04:39:12] *** Joins: Jesin (Jessin_@moz-971F1FB4.cc.lehigh.edu)
[04:39:15] *** Joins: cdidd (cdidd@moz-4810CCCE.broadband.corbina.ru)
[04:39:29] <tikue_> so macros can't be created without opting in now?
[04:39:37] <tautologico> jeaye: yeah, this works; the ones linked from rust-lang.com are offline
[04:39:39] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[04:39:53] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[04:40:00] <jeaye> Never been to rust-lang.com before.
[04:40:02] <ww> is it possible to use vec::from_elem() to build a vector of vectors?  i want to build a vector of empty vector of str ref.  ~[ ~[&str] ]
[04:40:33] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[04:40:39] <tautologico> I mean .org
[04:40:40] <SiegeLord> What issues do struct-like variants have?
[04:40:41] <sfackler> tikue_: I don't think any of it's been decided upon https://github.com/mozilla/rust/issues/9306
[04:40:52] <thewonderidiot> http://static.rust-lang.org/doc/master/std/index.html works, http://static.rust-lang.org/doc/std/index.html doesn't. The latter is what's linked from rust-lang.org
[04:41:20] <sfackler> SiegeLord: not sure, there are some open bugs about issues matching cross-crate, but I'm not sure if they've been fixed
[04:41:35] <thewonderidiot> scratch that, *was* linked until I cleared my cache
[04:42:07] <thewonderidiot> tautologico: clear your cache!
[04:42:11] <tikue_> ww: the element has to be copyable, i believe
[04:42:11] <engla> ww: sure, you can
[04:42:12] <tautologico> duh
[04:42:24] <tautologico> thewonderidiot: thanks
[04:42:37] <tikue_> ww: nvm, yeah that should work
[04:42:52] <sfackler> ww: if from_elem doesn't work, from_fn should
[04:43:09] <engla> ww: if type inference fails, this works std::vec::from_elem::<~[&str]>(5, ~[])
[04:43:17] <tikue_> ww: 
[04:43:18] <tikue_> rusti: let ss: ~[&str] = ~[]; std::vec::from_elem(5, ss)
[04:43:19] -rusti- ~[~[], ~[], ~[], ~[], ~[]]
[04:44:41] <ww> tikue: thx.  i was trying to do it without the let ss
[04:45:00] <ww> vec::from_elem(array_count, ~[&str])
[04:45:06] <tikue_> ww: i think engla is right though, you don't need it
[04:45:30] *** Quits: indirect (indirect_m@moz-22FDA25B.hsd1.ca.comcast.net) (Ping timeout)
[04:45:35] <tikue_> ww: 
[04:45:36] <tikue_> rusti: std::vec::from_elem::<~[&str]>(5, ~[])
[04:45:37] -rusti- ~[~[], ~[], ~[], ~[], ~[]]
[04:45:50] <engla> rusti:  let mut v = std::vec::from_elem(5, ~[]); v[0].push(""); v
[04:45:51] -rusti- ~[~[""], ~[], ~[], ~[], ~[]]
[04:45:51] <sfackler> ww: ~[&str] is a type, not a value
[04:45:58] <ww> engla, i see.  need to specify the type in vec::from_elem::<>
[04:46:11] <engla> not necessarily see above^
[04:46:14] <ww> ok, thanks!
[04:46:55] *** Quits: aeqwa (aeqwa@moz-A1C312ED.dsl.tropolys.de) (Ping timeout)
[04:47:03] *** Quits: MrOrdinaire (Mibbit@1A659656.A607747.FD383126.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[04:49:08] *** Joins: indirect (indirect_m@moz-22FDA25B.hsd1.ca.comcast.net)
[04:49:51] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[04:53:06] *** Joins: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP)
[04:53:36] *** Joins: postmodern (postmodern@moz-BCA95A4C.war.clearwire-wmx.net)
[04:53:59] <postmodern> so im trying these instructions: http://dl.rust-lang.org/doc/tutorial-ffi.html
[04:54:00] <SiegeLord> I guess I'm not really seeing any open issues (except the cross crate issue which I believe is fixed) with struct-like variants...
[04:54:05] <postmodern> but they are not working with rust trunk
[04:54:13] <strcat> postmodern: that's really, really old
[04:54:18] <SiegeLord> Maybe it's some elsewhere-discussed design issue
[04:54:27] <strcat> brson: still around?
[04:54:27] <postmodern> strcat, where are the docs for trunk?
[04:54:39] <brson> strcat: yep
[04:54:51] <brson> does anybody know why llvm-mc wouldn't be found when building rt
[04:54:53] <strcat> brson: can you see if you can clear out the dl.rust-lang.org stuff?
[04:54:59] <acrichto> brson: re-run make
[04:55:01] <strcat> at least the stuff not prefixed with a version
[04:55:12] <strcat> maybe it's not on S3
[04:55:19] <brson> strcat: I don't have access to that machine. I'll send graydon an email to remove the CNAME
[04:55:23] <strcat> ah
[04:55:39] <brson> I think dl.rust-lang.org is mapped to graydon's personal s3 account
[04:55:46] <strcat> postmodern: it's at http://static.rust-lang.org/doc/master/tutorial-ffi.html
[04:55:50] <brson> or maybe it's on one of the bots
[04:56:09] <brson> no, it's an s3 bucket
[04:56:09] *** Quits: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com) (Client exited)
[04:56:17] * strcat doesn't know what that means :)
[04:58:59] <ChrisMorgan> Amazon Web Services static file host.
[04:59:08] <strcat> I meant bucket
[04:59:11] <brendanc> kind of like a dropbox folder
[04:59:23] <brendanc> can't remember whether or not dropbox is on s3
[04:59:23] <ChrisMorgan> A root directory.
[04:59:36] <ChrisMorgan> Definitely not!
[04:59:51] <brendanc> it was when it started wasn't it?
[04:59:54] <ChrisMorgan> They couldn't turn a profit on AWS.
[05:00:01] <strcat> ChrisMorgan: they claim to be on S3
[05:00:04] <ChrisMorgan> Not sure. I doubt it, though.
[05:00:11] <strcat> ChrisMorgan: https://www.dropbox.com/help/7/en
[05:00:35] <strcat> but by "secure" they mean "we store the key, along with the data, and do not need your passphrase to decrypt it"
[05:00:48] <strcat> because they had a login bug where you could see anyone's files :)
[05:01:34] <ChrisMorgan> Uh oh. Mea culpa.
[05:01:34] *** Quits: tautologico (shung@72FFECE3.691D28F8.C27E1635.IP) (Ping timeout)
[05:02:09] *** Joins: ksev (DrunkenPan@745B767B.989A61DC.CA5B6332.IP)
[05:02:15] <tikue_> strcat: i've been told that dropbox has direct access to your data if they so chose
[05:02:23] <strcat> tikue_: they definitely do
[05:02:30] <tikue_> by told i mean by dropbox employees
[05:02:31] <tikue_> >_>
[05:02:35] <strcat> there was a bug where you didn't need a passphrase to login
[05:02:42] <strcat> and all data was there, unencrypted
[05:03:26] *** Quits: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP) (Connection reset by peer)
[05:03:31] <strcat> encryption would have to be client-side, by an open-source application you could audit to be really called secure anyway
[05:03:57] *** Quits: ksev (DrunkenPan@745B767B.989A61DC.CA5B6332.IP) (Ping timeout)
[05:04:18] <brendanc> that's tahoe, but spideroak and wuala I think both work that way
[05:06:18] <doublec> mega works that way too (client side encryption)
[05:07:13] <strcat> doublec: they store the key on their server though :)
[05:07:25] <strcat> your passphrase just decrypts the key, and they can know your password if they want
[05:07:31] <doublec> strcat: right
[05:08:16] *** Quits: Shaladdle (Shaladdle@moz-424BC304.hsd1.pa.comcast.net) (Client exited)
[05:08:21] <strcat> I think they encrypt it client-side to protect themselves rather than users
[05:08:22] <doublec> strcat: if by "they can know your password" they steal it via JS
[05:08:37] <doublec> much like how spideroak could do it
[05:08:53] <doublec> strcat: they take that approach so users can change passwords without decrypting/encrypting everything
[05:09:34] <engla> dropbox also indexes your files
[05:09:48] *** Joins: tautologico (shung@728514FC.311240BA.7B974E06.IP)
[05:10:01] <strcat> no doubt they do de-duplication too ;p
[05:10:18] <doublec> dropbox dedups, mega does not
[05:10:21] * strcat looks for rust-fuse
[05:10:54] *** Quits: cdidd (cdidd@moz-4810CCCE.broadband.corbina.ru) (Input/output error)
[05:11:29] *** Joins: Shaladdle (anonymous@moz-424BC304.hsd1.pa.comcast.net)
[05:14:09] *** Joins: jesseray (Mibbit@moz-EE907FB2.dhcp.insightbb.com)
[05:14:11] * ChrisMorgan is surprised Dropbox would still be using AWS
[05:15:10] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[05:16:01] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[05:16:01] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14cea37ab to 144dacd73: 02http://git.io/N3iJvQ
[05:16:01] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[05:16:02] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[05:16:02] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/VEil3g
[05:16:02] <ghrust> 13rust/06auto 14c3ad785 15Alex Crichton: Remove rust_run_program.cpp...
[05:16:02] <ghrust> 13rust/06auto 143c00131 15bors: auto merge of #9280 : alexcrichton/rust/less-c++, r=brson...
[05:16:02] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[05:18:55] <ChrisMorgan> cmr: any ETA on the restoration of http://huonw.github.io/isrustfastyet/mem/?
[05:22:42] <postmodern> im trying to use `rust sketch` but nothing seems to work
[05:22:51] <postmodern> when i define a function: fn test() { 0; }
[05:22:59] <postmodern> calling test() segfaults the REPL
[05:23:27] <tikue_> what is rust sketch O.o
[05:23:33] <strcat> rusti
[05:23:36] <tikue_> oh
[05:23:46] <strcat> postmodern: known to not work, thus the header warning
[05:24:05] <tikue_> postmodern: http://strcat.zapto.org:8000/
[05:24:30] <tikue_> not the same thing but you may find it convenient
[05:25:56] *** Joins: glyc (Mibbit@moz-20CEEF38.hsd1.ca.comcast.net)
[05:26:30] <tikue_> intuition tells me fixing rusti will be a really long and arduous process
[05:26:41] <tikue_> idk
[05:26:58] <tikue_> even something like `let x;` doesn't work right now
[05:27:07] <Eridius> clearly instead of trying to serialize the values from each previous line, it should just re-compile the entire program to date
[05:27:22] <Eridius> (of course that will introduce non-determinism)
[05:27:33] *** Quits: nejucomo (Adium@moz-434492BB.dsl.static.sonic.net) (Quit: Leaving.)
[05:27:35] <tikue_> Eridius: then it's not a repl though
[05:27:37] <Eridius> let x = get_time(); x; x; // why did it just print two values!
[05:27:49] <Eridius> tikue_: yeah I know, but serializing causes problems
[05:28:34] <tikue_> Eridius: yeah, and I have no idea what it'd take to fix it heh
[05:28:41] <tikue_> but just thinking about it, it seems like a hard problem
[05:29:04] <engla> maybe it could help us make sure everything is properly serializable
[05:29:17] <engla> at least that :)
[05:29:22] <tikue_> engla: but rust isn't serializable
[05:29:25] <tikue_> right?
[05:29:41] *** Joins: cdidd (cdidd@moz-B1ADA45B.broadband.corbina.ru)
[05:29:46] <tikue_> rusti: struct Foo { bar: Bar } struct Bar;
[05:29:46] -rusti- ()
[05:29:48] <engla> certain types are
[05:30:01] <glyc> tikue_: we are looking at fixing rusti
[05:30:04] *** Quits: cdidd (cdidd@moz-B1ADA45B.broadband.corbina.ru) (Input/output error)
[05:30:36] <tikue_> glyc: i saw something on the mailing list about that. i wish you all the best hah, i would _love_ for a true rust repl
[05:30:57] <Eridius> I don't think a true rust repl is doable based on the type system
[05:31:12] <glyc> Eridius: interesting. Can you elaborate
[05:31:28] <Eridius> glyc: in order to be able to catch fails on each line, every line has to be evaluated in its own task
[05:31:32] <Eridius> which means values need to propogate from task to task
[05:31:38] <Eridius> but a failed task must not consume any values
[05:31:46] <Eridius> which means that values either need to be copyable, or in this case, serializable
[05:32:15] <glyc> Eridius: okay. I haven't look at serializable. Are some things not?
[05:32:22] <Eridius> correct
[05:32:28] <glyc> for instance?
[05:32:38] <Eridius> although upon thinking about it some more, I wonder if you could throw the entire environment in an RcMut and use that to share it among tasks?
[05:32:50] <Eridius> err Arc
[05:32:52] <Eridius> not Rc
[05:33:04] <Eridius> glyc: for instance, `struct { a: int }` is not serializable
[05:33:19] <tikue_> Eridius: that wouldn't compile
[05:33:39] <Eridius> tikue_: ?
[05:33:47] <tikue_> rusti: struct { a: int }
[05:33:47] -rusti- <anon>:7:16: 7:17 error: expected ident, found `{`
[05:33:47] -rusti- <anon>:7          struct { a: int }
[05:33:47] -rusti-                          ^
[05:33:47] -rusti- application terminated with error code 101
[05:33:52] <glyc> Eridius: intriguing.  I'm not sure what the criteria are for serialization.
[05:33:55] <Eridius> sorry I forgot the name
[05:33:57] <tikue_> ah
[05:34:08] <Eridius> glyc: well it has to implement the Serializable trait (assuming that's the name of it)
[05:34:09] <glyc> Why can't a struct be serialized?
[05:34:13] <engla> glyc: to be blunt, implementing Encodable, Decodable
[05:34:17] <Eridius> ah right, that's what it's called
[05:34:44] <glyc> engla: okay. Is it just choosing among the many possible encodings that seems to present the difficulty?
[05:34:50] <tikue_> rusti: #[deriving(Encodable)] struct Foo { a: int }
[05:34:51] -rusti- ()
[05:35:23] <glyc> tikue_: apparently no free lunch there.
[05:35:32] <Eridius> glyc: no that actually compiled
[05:35:34] <tikue_> glyc: what do you mean
[05:35:42] <Eridius> if your struct contains only Encodable values, then you can derive Encodable for the struct
[05:35:49] <glyc> very good
[05:36:18] <engla> now deriving can't implement decodable for borrowed pointers
[05:36:22] <Eridius> but lets say your struct actually contains an fd, and implements Drop to close the fd. There's no sensible serialization, because the deserialized value may not end up with a valid fd
[05:36:36] <postmodern> grumble google keeps sending me to the old rust docs from S3 which are gone now
[05:36:57] <glyc> postmodern: yeah, its a little annoying
[05:37:46] <glyc> Eriduis: let us suppose then that the serialization is needless. We can do without multiple tasks, could we not?
[05:37:47] <Peng> Set up redirects on S3?
[05:38:29] <glyc> Eridius: and simply handle the error rollback cleanly ourselves, instead of relying on the task system
[05:38:42] <tikue_> glyc: how would you handle the error rollback without tasks
[05:38:43] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[05:38:52] <tikue_> rust doesn't have exception handling
[05:38:56] <strcat> Peng: or just wait a week ;p
[05:39:07] *** Quits: lmandel (lmandel@moz-76CE9D51.cable.teksavvy.com) (Quit: lmandel)
[05:39:10] <Eridius> glyc: the only way to handle failure is via tasks
[05:39:41] <glyc> Eridius: then do not fail.
[05:39:52] <Eridius> glyc: so you've solved the halting problem?
[05:40:07] *** Quits: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca) (Ping timeout)
[05:40:18] <glyc> Eridius: lol. Poetic license. 
[05:40:23] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[05:40:28] <tikue_> Eridius: trick question! halting problem is undecidable! jokes on you!
[05:40:31] <glyc> Eridius: the point is, you don't have to use fail!
[05:40:41] <Eridius> glyc: you're calling into arbitrary code
[05:40:48] <Eridius> rusti wouldn't fail, obviously, but the code it's compiling might
[05:41:19] <glyc> Eridius: yes. Most LLVM JIT interpreters that I have studied are single threaded.
[05:41:35] <engla> strcat: can you cherry-pick one more doc change? very simple to fix one link  https://github.com/blake2-ppc/rust/compare/tut-fix-2
[05:41:53] <Eridius> glyc: if you're suggesting that you replace a user-supplied call to fail!() with something else, that won't help when they're calling code from an already-compiled library
[05:42:09] <engla> git cherry-pick is one of those commands with a weird long name
[05:42:22] <strcat> engla: yeah
[05:42:33] <Eridius> engla: that's weird long?
[05:42:47] <engla> it has a hyphen..
[05:42:52] <Eridius> git format-patch
[05:42:57] <glyc> Eridius: ah, I see. You are thinking about how to compile code itself that calls fail!, as opposed to the use of fail! within the interpreter itself, is that right?
[05:43:06] <Eridius> glyc: yeah
[05:43:17] <Eridius> engla: there's more with long names but they're not usually porcelain
[05:43:29] <ChrisMorgan> r? https://github.com/mozilla/rust/pull/9320 (unreachable!) https://github.com/mozilla/rust/pull/9321 (lowercase nan methods)
[05:43:40] <Eridius> git-get-tar-commit-id
[05:43:43] <engla> format-patch tab completes on 'fo' cherry-pick only on 'cherry-' :)
[05:43:52] <glyc> Eridius: interesting thought. How is fail! implemented?
[05:43:59] <Eridius> glyc: it throws a C++ exception
[05:44:05] <engla> thanks strcat 
[05:45:26] <glyc> Eridius: would it suffice then, to simply return to the toplevel if a function called fail! ?
[05:45:41] <glyc> Eridius: toplevel being the outermost repl
[05:46:05] <Eridius> glyc: you say that like that's some easily-accomplished thing
[05:47:01] <glyc> Eridius: well, you would have to in C++ make the compiler do the work for you. I thought rust was self-hosting though. Does it really use C++ exceptions still?
[05:47:18] *** Quits: Voomer (Voomer@moz-CC05FF5E.hsd1.wa.comcast.net) (Connection reset by peer)
[05:47:47] <Eridius> glyc: src/rt/rust_builtin.cpp
[05:47:52] <ww> what does .to_owned() do internally?  does it make a copy of the object in the heap?
[05:47:57] <Eridius> the function rust_begin_unwind()
[05:48:01] <Eridius> which purely consists of a call to `throw`
[05:48:03] <glyc> Eridius: thx, looking...
[05:48:28] <Eridius> ww: .to_owned() isn't implemented on generic values. It's provided by a few specific types. notably &str and &[T]
[05:48:32] <Eridius> and in that case it makes a copy
[05:48:56] <ww> ok
[05:49:46] *** Quits: thewonderidiot (mstewart@moz-FD1FD938.hsd1.al.comcast.net) (Client exited)
[05:49:52] <glyc> Eridius: so the rust_try function in rust_builtin.cpp:521, could be used to catch the c++ exception?
[05:50:37] <glyc> Eridius: but I'm starting to see some of the difficulties 
[05:50:50] <glyc> Eridius: so I appreciate your thoughts
[05:51:37] *** Quits: postmodern (postmodern@moz-BCA95A4C.war.clearwire-wmx.net) (Quit: Leaving)
[05:52:48] <Eridius> rusti: use std::libc::c_void; extern { fn rust_try(f: extern "C" fn(*c_void, *c_void), fptr: *c_void, env: *c_void); } extern "C" fn foo() { fail!("failed") } unsafe { rust_try(foo, std::ptr::null(), std::ptr::null()) }
[05:52:49] -rusti- pastebinned 5 lines of output: http://sprunge.us/BfZI
[05:53:03] *** Joins: tjc (tjc@moz-6EB4E533.dsl.tsoft.com)
[05:53:04] *** ChanServ sets mode: +o tjc
[05:53:08] <Eridius> rusti: use std::libc::c_void; extern { fn rust_try(f: extern "C" fn(*c_void, *c_void), fptr: *c_void, env: *c_void); } extern "C" fn foo(_: *c_void, _: *c_void) { fail!("failed") } unsafe { rust_try(foo, std::ptr::null(), std::ptr::null()) }
[05:53:09] -rusti- pastebinned 5 lines of output: http://sprunge.us/hIJc
[05:53:12] *** Joins: fabiand (fabiand@moz-2887F4D0.adsl.alicedsl.de)
[05:53:33] <Eridius> rusti: use std::libc::c_void; extern { fn rust_try(f: extern "C" fn(*c_void, *c_void), fptr: *c_void, env: *c_void); } extern "C" fn foo(_: *c_void, _: *c_void) { fail!("failed") } fn run() { #[fixed_stack_segment]; unsafe { rust_try(foo, std::ptr::null(), std::ptr::null()) } } run()
[05:53:34] -rusti- task <unnamed> failed at 'failed', <anon>:7
[05:53:34] -rusti- ()
[05:53:34] -rusti- application terminated with error code 101
[05:53:39] <Eridius> glyc: looks like it still doesn't work
[05:53:53] <Eridius> oh wait, it spit out () too
[05:54:03] <tikue_> Eridius: fail probably just prints something right
[05:54:07] *** Quits: tjc (tjc@moz-6EB4E533.dsl.tsoft.com) (Quit: Places to go, people to annoy)
[05:54:10] <tikue_> rusti: let x: uint = fail!();
[05:54:11] -rusti- pastebinned 13 lines of output: http://sprunge.us/cYJi
[05:54:29] <tikue_> rusti: let x: uint = fail!(); 5
[05:54:30] -rusti- pastebinned 16 lines of output: http://sprunge.us/gMIX
[05:54:33] *** Quits: cubic (cubic@moz-FE5AD6C7.mc.videotron.ca) (Quit: Leaving)
[05:54:35] <Eridius> rusti: use std::libc::c_void; extern { fn rust_try(f: extern "C" fn(*c_void, *c_void), fptr: *c_void, env: *c_void) -> uint; } extern "C" fn foo(_: *c_void, _: *c_void) { fail!("failed") } fn run() -> uint { #[fixed_stack_segment]; unsafe { rust_try(foo, std::ptr::null(), std::ptr::null()) } } run()
[05:54:36] -rusti- pastebinned 6 lines of output: http://sprunge.us/GbOf
[05:55:07] *** Joins: squiddy (squiddy@moz-91AA0922.adsl.alicedsl.de)
[05:55:14] <glyc> Eridius: it seems that we don't really want serialization do we. Rather, we want movables. So that stuff that succeeds after running a successful "compile this expression/statement" gets moved back to the parent.
[05:55:32] *** Quits: Shaladdle (anonymous@moz-424BC304.hsd1.pa.comcast.net) (Quit: Shaladdle)
[05:55:40] <Eridius> rusti: use std::libc::{c_void, c_uint}; extern { fn rust_try(f: extern "C" fn(*c_void, *c_void), fptr: *c_void, env: *c_void) -> c_uint; } extern "C" fn foo(_: *c_void, _: *c_void) { fail!("failed") } fn run() -> c_uint { #[fixed_stack_segment]; unsafe { rust_try(foo, std::ptr::null(), std::ptr::null()) } } run()
[05:55:41] -rusti- task <unnamed> failed at 'failed', <anon>:7
[05:55:41] -rusti- 839147u32
[05:55:41] -rusti- application terminated with error code 101
[05:55:45] <Eridius> interesting
[05:55:53] <glyc> would that not solve the struct a { filedescriptor: int, } problem?
[05:55:55] <Eridius> glyc: except task failure would cause anything moved into the task to be destroyed
[05:56:18] <Eridius> hrm, so if rust_try() exists, what's stopping us from using that?
[05:56:31] <glyc> Eridius: not sure
[05:57:32] <tikue_> I'd like to know the answer as well...
[05:57:34] <glyc> Eridius: interesting. So we actually want stuff that is used by the task to be still owned by parent, and only borrowed by the task.... yes?
[05:57:54] <strcat> it's not memory safe except at task boundaries
[05:57:57] <Eridius> glyc: except you can't borrow across task boundaries. And borrowed values would be the wrong type anyway for a lot of things
[05:58:02] <strcat> it's an implementation detail
[05:58:08] <Eridius> strcat: ah true.
[05:58:45] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[06:00:18] <glyc> Eridius: interesting. You can't borrow across task boundaries, for mutable things?  wouldn't immutable things be borrowable?
[06:00:26] *** Joins: jaen (jaen@moz-64C5D3D2.play-internet.pl)
[06:01:18] *** Joins: maik (maik@moz-53663244.dip0.t-ipconnect.de)
[06:01:50] <Eridius> glyc: the only way that could even approach safe is if you "paused" the source task while the value was borrowed. But even that isn't memory safe; let's say the borrowing task fails. Now who's to say the value wasn't corrupted some way?
[06:02:10] <ww> how do i turn a ~[~str] into &[&str]?
[06:02:16] <brson> Immutable values stored in an Arc can be shared via atomic reference counting
[06:02:24] <Eridius> ww: you can turn it into a ~[&str] by mapping it, and then that can be borrowed
[06:02:37] <ww> ok
[06:02:43] <Eridius> ww: foo.iter().map(|x| x.as_slice()).to_owned_vec()
[06:03:01] <Eridius> rusti: let x = ~[~"a", ~"b", ~"c"]; let y = x.iter().map(|s| s.as_slice()).to_owned_vec(); y
[06:03:02] -rusti- pastebinned 16 lines of output: http://sprunge.us/aHAJ
[06:03:05] <Eridius> oops borrow error
[06:03:11] <Eridius> rusti: let x = ~[~"a", ~"b", ~"c"]; let y = x.iter().map(|s| s.as_slice()).to_owned_vec(); println!("{}", y.as_slice())
[06:03:12] -rusti- pastebinned 10 lines of output: http://sprunge.us/WGgM
[06:03:19] <Eridius> bah
[06:03:22] <Eridius> rusti: let x = ~[~"a", ~"b", ~"c"]; let y = x.iter().map(|s| s.as_slice()).to_owned_vec(); println!("{:?}", y.as_slice())
[06:03:23] -rusti- &["a", "b", "c"]
[06:03:23] -rusti- ()
[06:03:31] <Eridius> ww: there ya go, y is a &[&str]
[06:03:41] <Eridius> well no, y is a ~[&str], but I sliced it
[06:03:44] *** Quits: quksw_ (quksw@moz-CD41E5C8.red.bezeqint.net) (Ping timeout)
[06:04:09] <jeaye> Is @ guaranteed to be dropped at the end of its scope (assuming only one reference)?
[06:04:09] <ww> one thing difficult about rust is to getting all the references and ownership straighten out.
[06:04:32] *** Joins: BizarreCake (BizarreCak@moz-361FE9B2.dynamic.barak-online.net)
[06:04:45] <Eridius> jeaye: as long as it's a reference-counting implementation, but if it becomes truly garbage-collected again you don't know when it will be collected
[06:04:48] *** Joins: nsf (nsf@moz-EEF3238A.convex.ru)
[06:04:54] <glyc> Eridius: let's put fail! aside for the moment, just to check to see if there are other issues. Does anything else come to mind as making it difficult to implement rusti efficiently?
[06:05:07] <jeaye> hmm
[06:05:25] <Eridius> glyc: if you put fail!() aside, you don't need to use multiple tasks at all
[06:05:48] <glyc> Eridius: yes, it would seem that it simplies things considerably
[06:05:55] <glyc> simplifies
[06:08:04] <Eridius> of course you still need some way to store these values
[06:08:16] <Eridius> which means you need to be able to associate a type with the value storage
[06:08:55] <glyc> Eridius: I thought there was an rtti equivalent
[06:09:37] <glyc> brson: thanks for pointing out the Arc option, I'll have to explore that further
[06:10:16] <strcat> there is no reflection beyond the type walking repr needs
[06:10:48] <glyc> strcat: ok
[06:10:53] <strcat> you can get type names and fn ptrs to glue
[06:10:57] *** Quits: maik (maik@moz-53663244.dip0.t-ipconnect.de) (Ping timeout)
[06:11:49] <glyc> strcat: what does glue mean here
[06:13:03] <strcat> drop glue (destructor), visit glue (type walking, what repr uses), etc.
[06:13:17] *** Quits: tikue_ (tkuehn@7AB14988.2ACBBF24.689607DE.IP) (Quit: tikue_)
[06:14:14] *** Joins: nielsle_ (nielsle@moz-5CE8ECCD.boa.fiberby.dk)
[06:15:01] <glyc> strcat: libstd/repr.rs ?
[06:15:35] <strcat> that's the consumer of visit glue
[06:15:48] <strcat> librustc/middle/trans/reflect.rs is the compiler side
[06:15:59] <glyc> okay
[06:16:02] <strcat> and some stdlib bits are in libstd/reflect.rs and libstd/unstable/intrinsics.rs
[06:16:10] <strcat> it's not incredibly useful
[06:16:15] *** Joins: tikue_ (tkuehn@7AB14988.2ACBBF24.689607DE.IP)
[06:16:30] <glyc> strcat: it vanishes at runtime ?
[06:16:43] <strcat> what do you mean vanishes?
[06:17:20] <strcat> rusti: format!("{:?}", 5)
[06:17:21] -rusti- ~"5"
[06:17:22] <strcat> that uses repr
[06:17:32] <strcat> the ? formatter
[06:17:36] <glyc> got it
[06:17:49] <strcat> it makes the compiler generate a tree of visit glue function pointers
[06:17:59] <strcat> it is very high overhead ;p
[06:18:04] <strcat> but the types aren't known at runtime
[06:18:12] <strcat> there are just functions for visiting them
[06:18:20] <glyc> ok
[06:18:38] <strcat> afaik the only use case is likely to be repr...
[06:18:41] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Quit: leaving)
[06:18:55] *** Quits: jeaye (Jeaye@moz-34FEF2BB.hsd1.ca.comcast.net) (Quit: zzz)
[06:20:17] *** Quits: hoverbear (andrew@moz-86FCBF4B.gv.shawcable.net) (Quit: hoverbear)
[06:23:44] *** Quits: jaen (jaen@moz-64C5D3D2.play-internet.pl) (Ping timeout)
[06:24:44] *** Joins: echristo (echristo@moz-1892C634.hsd1.ca.comcast.net)
[06:26:04] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[06:26:04] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/VEil3g
[06:26:04] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[06:28:05] *** Quits: eatkinson (eatkinson@moz-E57448EF.airbears2.berkeley.edu) (Quit: eatkinson)
[06:30:12] *** Quits: glyc (Mibbit@moz-20CEEF38.hsd1.ca.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[06:31:06] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[06:31:06] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/2iErlw
[06:31:06] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[06:31:07] *** Joins: eatkinson (eatkinson@moz-E57448EF.airbears2.berkeley.edu)
[06:31:07] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[06:31:07] <ghrust> 01[13rust01] 15bors pushed 3 new commits to 06auto: 02http://git.io/zoBJ9A
[06:31:07] <ghrust> 13rust/06auto 145ab843f 15Erick Tryzelaar: std: Remove Option.or_{default,zero}...
[06:31:07] <ghrust> 13rust/06auto 141a90f24 15Erick Tryzelaar: extra: minor cleanup of Zero and Default syntax extension
[06:31:08] <ghrust> 13rust/06auto 14ac3f001 15bors: auto merge of #9279 : erickt/rust/master, r=alexcrichton...
[06:31:10] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[06:32:37] <tikue_> why was Option.or_default removed? is it just Option.or(def: T) now?
[06:32:44] *** Joins: echristo_ (echristo@60A74940.D6CCE4AE.77834EAA.IP)
[06:32:50] <ChrisMorgan> Yes.
[06:33:03] <ChrisMorgan> Shorter, also avoids any confusion with the Default trait.
[06:33:06] <tikue_> yeah
[06:33:07] *** Quits: echristo (echristo@moz-1892C634.hsd1.ca.comcast.net) (Ping timeout)
[06:33:07] *** echristo_ is now known as echristo
[06:33:28] *** Quits: eatkinson (eatkinson@moz-E57448EF.airbears2.berkeley.edu) (Quit: eatkinson)
[06:33:31] <tikue_> personally think or_else should be or_apply but nbd
[06:34:17] <Eridius> or_else is a nice counterpart to .and_then
[06:34:43] <tikue_> Eridius: yes, but I would also argue for and_apply :P
[06:35:02] <Eridius> bikeshedding :P
[06:35:05] <tikue_> true
[06:35:07] * tikue_ surrenders
[06:37:34] *** Joins: int3_ (int3_@4842B69F.5D0BC8D3.EF853518.IP)
[06:37:37] *** Quits: int3_ (int3_@4842B69F.5D0BC8D3.EF853518.IP) (Client exited)
[06:37:37] *** Joins: Voomer (Voomer@moz-CC05FF5E.hsd1.wa.comcast.net)
[06:37:39] *** Joins: int3_ (int3_@4842B69F.5D0BC8D3.EF853518.IP)
[06:37:41] *** Quits: int3_ (int3_@4842B69F.5D0BC8D3.EF853518.IP) (Client exited)
[06:39:02] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[06:40:43] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[06:42:32] *** Joins: maik (maik@moz-53663244.dip0.t-ipconnect.de)
[06:43:59] *** Quits: victorporof_ (victorporo@DD69D5EC.67CDC207.79933D60.IP) (Quit: victorporof_)
[06:44:29] <ChrisMorgan> tikue_: note that there *is* actually an Option.or_defaultâ€”but it's impl<T: Default> for Option<T> fn or_default(self), which makes sense.
[06:45:20] <tikue_> ChrisMorgan: you mean impl<T: Default> Default for Option<T> ?
[06:45:37] <ChrisMorgan> tikue_: no, I mean what I wrote.
[06:45:44] <tikue_> i didn't know that was valid syntax
[06:46:07] <ChrisMorgan> That's just a standard impl block for the basic type, but requires T to satisfy Default.
[06:46:22] <tikue_> ChrisMorgan: standard impl blocks don't have `for` usually
[06:46:24] <ChrisMorgan> Sorry, I should have removed the word for
[06:46:26] <tikue_> ah ok
[06:46:45] <tikue_> yeah, that does make sense now
[06:48:39] *** Quits: maik (maik@moz-53663244.dip0.t-ipconnect.de) (Ping timeout)
[06:53:45] <Eridius> oh neat, -Z debug-info causes extra warnings
[06:54:22] <ChrisMorgan> Eridius: "debuginfo: Could not find namespace node for function with name X"?
[06:54:50] <Eridius> yeah
[06:55:12] <ChrisMorgan> rust-http hit that and the guy that saw it first reported it.
[06:55:12] <Eridius> damn, I thought -Z debug-info would give gdb line numbers
[06:55:20] <ChrisMorgan> It does.
[06:55:43] <Eridius> nope
[06:55:50] <Eridius> #14 0x00000001007daba6 in path2::windows::tests::test_with_helpers::hc640d4595c8e53a4a3::v0.8$x2dpre ()
[06:56:07] <Eridius> and sadly, doing `frame 14` followed by `list` triggered the gdb internal-error that I got last time I tried to use gdb
[06:56:21] *** Quits: alisdair (textual@1697D94C.7742FB18.FBC8476D.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[06:56:44] *** Quits: aatch (James@moz-B437F499.pocketrent.com) (Ping timeout)
[06:57:37] <Eridius> rusti: macro_rules! q(() => (t!())) macro_rules! t(() => (println("t!"))) q!()
[06:57:37] -rusti- t!
[06:57:37] -rusti- ()
[06:58:20] <Eridius> rusti: macro_rules! t(() => (println("outer"))) { macro_rules! q(() => (t!())) macro_rules! t(() => (println("inner"))) q!() }
[06:58:21] -rusti- inner
[06:58:21] -rusti- ()
[06:58:28] <Eridius> rusti: macro_rules! t(() => (println("outer"))) { macro_rules! q(() => (t!())) { macro_rules! t(() => (println("inner"))) } q!() }
[06:58:29] -rusti- outer
[06:58:29] -rusti- ()
[06:58:33] <Eridius> rusti: macro_rules! t(() => (println("outer"))) { macro_rules! q(() => (t!())) { macro_rules! t(() => (println("inner"))) q!() } }
[06:58:33] -rusti- inner
[06:58:34] -rusti- ()
[06:58:39] <Eridius> interesting
[06:59:09] <Eridius> rusti: fn foo() { println("outer") } { fn bar() { foo() } fn foo() { println("inner") } bar() }
[06:59:09] -rusti- inner
[06:59:10] -rusti- ()
[06:59:16] <Eridius> rusti: fn foo() { println("outer") } { fn bar() { foo() } { fn foo() { println("inner") } } bar() }
[06:59:16] -rusti- outer
[06:59:17] -rusti- ()
[06:59:20] <Eridius> rusti: fn foo() { println("outer") } { fn bar() { foo() } { fn foo() { println("inner") } bar() } }
[06:59:20] -rusti- outer
[06:59:20] -rusti- ()
[06:59:29] <Eridius> yeah ok that's what I thought. macros don't follow the same name lookup
[07:01:23] *** Quits: a__ (a__@moz-25043B93.nycmny.fios.verizon.net) (Ping timeout)
[07:02:37] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[07:04:05] <ChrisMorgan> #[allow(missing_doc)] on a trait means that an *implementation* of that trait doesn't need to have doc, I guess?
[07:04:27] <Eridius> ChrisMorgan: I thought trait impls don't need docs anyway
[07:04:32] <Eridius> since the documentation is typically found on the trait
[07:04:43] * ChrisMorgan doesn't know, he's just guessing based on some usage of it
[07:04:46] *** Joins: cdidd (cdidd@moz-C221DD30.broadband.corbina.ru)
[07:05:32] <Eridius> ChrisMorgan: I would assume an #[allow(missing_doc)] on a trait means the trait methods don't need docs. If you see one on a fully-documented trait, it's probably just rot
[07:05:54] <ChrisMorgan> Oh yeah, forgot about the actual method inside it :-/
[07:06:21] <ChrisMorgan> (In this case, it's std::fmt::{Default, &c.}, which all have an obvious fmt() method.)
[07:07:12] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[07:07:17] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Ping timeout)
[07:08:20] <ChrisMorgan> Why does the new formatting stuff go for each trait having a fn fmt(&Self, &mut Formatter) with &Self (i.e. static method with explicit argument) rather than &self (i.e. the normal self)? I can't think of any syntax whereby one might call an instance method from a particular trait; is that why it's thus?
[07:08:23] <Eridius> I really wish rust could spit out a backtrace for me
[07:08:28] *** Joins: alisdair (textual@1697D94C.7742FB18.FBC8476D.IP)
[07:08:33] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[07:08:51] <Eridius> ChrisMorgan: that would be my guess
[07:09:06] <Eridius> I think there are plans for being able to reference instance methods from traits, but nothing is implemented right now
[07:10:34] *** Joins: sebcrozet (sebcrozet@6D44F695.940A4703.BA2F4534.IP)
[07:11:00] *** Joins: Palmik (palmik@moz-11EA685D.pks.muni.cz)
[07:11:02] <Eridius> ChrisMorgan: it may also have something to do with preventing auto-deref
[07:11:04] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[07:11:04] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14ac3f001 to 143c00131: 02http://git.io/N3iJvQ
[07:11:04] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[07:11:05] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[07:11:05] <ghrust> 01[13rust01] 15bors pushed 5 new commits to 06auto: 02http://git.io/yEKfSQ
[07:11:05] <ghrust> 13rust/06auto 14ce9338e 15Steven Fackler: Removed future's destructor...
[07:11:05] <ghrust> 13rust/06auto 1487b8718 15Steven Fackler: Modernize extra::future API
[07:11:06] <ghrust> 13rust/06auto 14260af05 15Steven Fackler: Add Future::spawn_with
[07:11:07] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[07:11:11] <ChrisMorgan> Eek.
[07:11:25] *** Quits: tautologico (shung@728514FC.311240BA.7B974E06.IP) (Quit: tautologico)
[07:13:31] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Quit: Konversation terminated!)
[07:13:34] <ChrisMorgan> I want to implement a formatting trait in terms of more formatting traits (specific case: fmt::Default for HTTP status, which is made up of "{code} {reason}"). Is there any way more efficient than f.pad(format!(...))?
[07:14:22] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Client exited)
[07:14:58] *** Quits: canhtak (jeremy@moz-8CBCE134.wl.t.ulaval.ca) (Quit: canhtak)
[07:15:10] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[07:18:10] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Client exited)
[07:19:55] *** Quits: sebcrozet (sebcrozet@6D44F695.940A4703.BA2F4534.IP) (Ping timeout)
[07:22:15] *** Joins: six600110 (six600110@moz-2FA48202.neo.res.rr.com)
[07:22:21] <acrichto> ChrisMorgan: why are you thinking ou need f.pad?
[07:22:30] *** Joins: sebcrozet (sebcrozet@1B59DD30.940A4703.BA2F4534.IP)
[07:22:31] <acrichto> that's only needed if you want to respect formatting flags and whatnot
[07:22:41] <acrichto> which you probably don't, so you can just write directly to f.buf
[07:23:34] *** Joins: victorporof (victorporo@CFB98BB1.77B8163B.2B3D3D4.IP)
[07:23:47] *** Quits: bbouvier (bnjbouv@moz-63AFAFBF.gagahome.fr) (Ping timeout)
[07:23:48] <ChrisMorgan> True.
[07:25:04] <ChrisMorgan> Still... format! would produce a ~str, where all I want is (as a consequence of wanting to feed it into another buf) bytes.
[07:25:32] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[07:25:34] *** Joins: aatch (James@moz-B437F499.pocketrent.com)
[07:25:38] <acrichto> write!
[07:25:47] <acrichto> write!(f.buf, "my format", "my args")
[07:25:58] <ChrisMorgan> Oh yeah. That'll teach me not to read the docs *fully*.
[07:26:01] <ChrisMorgan> Thanksl
[07:26:09] <acrichto> don't worry it's been in flux recently
[07:26:15] <ChrisMorgan> s/l/./, or decide how to pronounce it yourself.
[07:28:10] <ChrisMorgan> So it'd end up with fn fmt(...) { write!(f.buf, "{} {}", s.code(), s.reason()); }
[07:28:41] <Eridius> acrichto: how are we going to switch the logging macros over to format? Doing it as one big flip seems like a rather fragile patch
[07:29:16] <acrichto> Eridius: it's going to be after 0.8
[07:29:22] <acrichto> but it'll just be really painful for me :P
[07:29:29] <acrichto> there's debug2 and friends to transition to
[07:29:32] <ChrisMorgan> When is fmt! disappearing?
[07:29:35] <acrichto> then we snapshot a deletion of debug!
[07:29:40] <acrichto> then we go debug2 => debug
[07:29:43] <acrichto> ChrisMorgan: some time after 0.8
[07:29:46] <acrichto> (when I get some free time)
[07:30:18] * ChrisMorgan wishes he had more ("more"? What I have I'm stealing from Uni work :P) spare time to help out
[07:30:56] <acrichto> we all wish we did lol
[07:31:00] <acrichto> theres so much to do!
[07:31:05] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[07:31:05] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14d421c5c to 143c00131: 02http://git.io/N3iJvQ
[07:31:05] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[07:31:07] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[07:31:07] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/_mMmzw
[07:31:07] <ghrust> 13rust/06auto 144757631 15Jimmy Zelinskie: Remove and replace cond! Closes #9282.
[07:31:07] <ghrust> 13rust/06auto 14a7cf7b7 15bors: auto merge of #9291 : jzelinskie/rust/remove-cond, r=alexcrichton...
[07:31:07] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[07:31:48] * ChrisMorgan wonders whether he should impl fmt::Unsigned for an HTTP status, including just the code (fmt::Default is code and reason)
[07:32:31] <Eridius> acrichto: it's a shame there weren't multiple open positions on the Rust team
[07:32:45] <acrichto> Eridius: I wish there were dozens :(
[07:32:46] *** Joins: StarLight (StarLight@moz-47A2F49B.dynamic.avangarddsl.ru)
[07:34:01] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[07:34:07] <ChrisMorgan> Someone go find an eccentric billionaire and get him to sponsor Mozilla to develop the language and hire us all.
[07:34:35] <Eridius> wtb working debugger...
[07:34:42] <aatch> Does anybody have Elon Musk's number?
[07:35:22] <tikue_> jobs are for wussies :P
[07:35:30] <tikue_> fight the man, man!
[07:36:11] <ChrisMorgan> acrichto: would it be correct, given fn code(&self) -> u16, to impl Unsigned::fmt as ``fmt::Unsigned::fmt(s.code(), f)``?
[07:36:15] <aatch> tikue_, you staging a rally at your cardboard box?
[07:36:48] <acrichto> ChrisMorgan: &s.code()
[07:36:50] <acrichto> otherwise yes
[07:37:11] *** Joins: nkoep (nik@moz-6797B832.pool.mediaways.net)
[07:37:25] <ChrisMorgan> Good :-)
[07:37:56] *** Quits: tikue_ (tkuehn@7AB14988.2ACBBF24.689607DE.IP) (Ping timeout)
[07:38:38] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[07:39:22] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[07:40:39] *** Quits: nkoep (nik@moz-6797B832.pool.mediaways.net) (Ping timeout)
[07:41:02] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[07:41:28] <ww> what are some of the timing api for doing benchmark in rust
[07:41:40] <Eridius> ww: Check out #[bench]
[07:42:16] *** Quits: sebcrozet (sebcrozet@1B59DD30.940A4703.BA2F4534.IP) (Ping timeout)
[07:42:34] <ww> i google search on it and got too many noise :)
[07:42:46] <Eridius> ww: I mean look how it's used in rust source
[07:43:02] <ww> oh ok
[07:43:03] <ChrisMorgan> See also https://github.com/mozilla/rust/wiki/Doc-unit-testing#benchmarking
[07:43:13] <ChrisMorgan> (You've probably already seen that?)
[07:44:08] <ww> not yet.  thanks!
[07:44:40] <aatch> Hurrah, I managed to tune my computer so it doesn't lock up under low-memory conditions
[07:44:51] *** Joins: sebcrozet (sebcrozet@3796AE34.940A4703.BA2F4534.IP)
[07:45:30] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[07:45:35] *** Joins: ceninan (ceninan@moz-6BD43586.a370.priv.bahnhof.se)
[07:45:51] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[07:46:20] <Eridius> aatch: \o/
[07:46:21] *** Joins: tikue_ (tkuehn@7AB14988.2ACBBF24.689607DE.IP)
[07:46:39] <ChrisMorgan> Given fn(foo: &Foo), does match *foo { A => ..., B => ..., C(ref s) => ... } involve any copying of foo?
[07:46:48] <aatch> Eridius, this was an issue while trying to build HipHop.
[07:46:50] <aatch> ChrisMorgan, no
[07:46:55] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[07:47:07] <tikue_> aatch: it could
[07:47:30] <aatch> tikue_, it doesn't normally unless you do something to copy foo in the arms
[07:47:33] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[07:47:35] <ChrisMorgan> Would that be exactly equivalent to `match foo { &A => ..., &B => ..., &C(ref s) => ... }`?
[07:48:23] <tikue_> rusti: let x = ~1; fn foo(x: &int) { match *foo { i => printfln!(i) } } foo(x)
[07:48:24] -rusti- <anon>:7:45: 7:49 error: type extern "Rust" fn(&int) cannot be dereferenced
[07:48:24] -rusti- <anon>:7          let x = ~1; fn foo(x: &int) { match *foo { i => printfln!(i) } } foo(x)
[07:48:24] -rusti-                                                       ^~~~
[07:48:24] -rusti- error: aborting due to previous error
[07:48:24] -rusti- application terminated with error code 101
[07:48:50] <aatch> tikue_, but that's binding.
[07:49:02] <aatch> I assumes that A, B, C(...) where enum variants
[07:49:23] <tikue_> aatch: if it's implicitly copyable and you bind anywhere, it will copy
[07:49:37] <aatch> tikue_, but if it's not binding, then there isn't a copy.
[07:49:45] <tikue_> agreed
[07:49:54] <tikue_> ChrisMorgan: yeah but the first is better probably
[07:50:05] <tikue_> match *foo better practice according to pcwalton
[07:50:32] *** Quits: sebcrozet (sebcrozet@3796AE34.940A4703.BA2F4534.IP) (Ping timeout)
[07:50:36] * ChrisMorgan should just man up and look at the generated LLVM IR.
[07:50:46] <tikue_> lol
[07:50:56] <Eridius> boy I really wish lldb could get past the 2nd stack frame when breaking on rust_begin_unwind
[07:51:09] <Eridius> since gdb 7.6 doesn't behave properly for me on this system
[07:52:09] *** Joins: sebcrozet (sebcrozet@66832158.940A4703.BA2F4534.IP)
[07:54:52] *** Joins: SingingBoyo (singingboy@DAC9C672.CE76D40F.4F048BDC.IP)
[07:55:04] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[07:56:06] *** Joins: MrOrdinaire (Mibbit@1A659656.A607747.FD383126.IP)
[07:56:29] *** Joins: nkoep (nik@moz-26B7076E.vpn.rwth-aachen.de)
[07:58:50] *** Quits: sebcrozet (sebcrozet@66832158.940A4703.BA2F4534.IP) (Ping timeout)
[08:00:55] *** Quits: alisdair (textual@1697D94C.7742FB18.FBC8476D.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[08:01:26] *** Joins: sebcrozet (sebcrozet@945FCD68.940A4703.BA2F4534.IP)
[08:03:54] <kimundi> r? https://github.com/mozilla/rust/pull/9267
[08:05:45] <tikue_> kimundi: nice, that annoyed me
[08:05:45] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Client exited)
[08:06:27] <hansjorg> Anybody know of a current working example of a simple echo server or similar?
[08:06:29] <ChrisMorgan> dbaupp: sorry https://github.com/chris-morgan/rust-http/pull/7 took so long to be merged, but I've finally done it
[08:06:48] <tikue_> hansjorg: sure, one sec
[08:06:54] <ChrisMorgan> hansjorg: https://github.com/shaladdle/learnrust/blob/master/echoserver.rs
[08:07:04] <tikue_> haha, was going to link the same thing
[08:07:10] <tikue_> not sure if it compiles to HEAD right now tho 
[08:07:39] <Eridius> ChrisMorgan: when parsing a Windows path, should I parse `\\a` as a malformed UNC path, or just normalize it to `\a`?
[08:07:46] * ChrisMorgan took care to add a comment linking to it at http://stackoverflow.com/questions/17445485/example-tcp-server-written-in-rust which makes it very easy to access
[08:08:11] * Eridius is tempted to require `\\[1+ letters]\[1+ letters]` to parse as UNC
[08:08:37] <ChrisMorgan> Eridius: I dunno. I think I'd say it's not a complete valid path. But then againâ€”it could be useful as a starting point. But in such cases, it's quite reasonable to tell people: "sorry, you've got to use strings for that as it ain't valid path"
[08:09:08] <tikue_> hansjorg: just checked, and that does indeed still compile heh
[08:09:17] <ChrisMorgan> Aww, ``rust run https://github.com/shaladdle/learnrust/raw/master/echoserver.rs`` doesn't work :P
[08:09:27] <hansjorg> ChrisMorgan, tikue_: great, thanks!
[08:09:28] <tikue_> ChrisMorgan: really? i have commit access. what's wrong?
[08:09:37] * tikue_ needs to update his rust
[08:09:51] <Eridius> ChrisMorgan: yeah I was parsing `\\a` as a malformed UNC path with the intention of normalizing it to `\\a\` by itself and, when another componenti s pushed, `\\a\\b`, but that's pretty much nonsense
[08:09:54] <aatch> tikue_, I think it's more that it doesn't pull from a remote source.
[08:10:10] <Eridius> and it's causing problems right now because I run off the end of the string at one point when I assume there's a \ after the server component
[08:10:12] <tikue_> aatch: ohh
[08:10:13] <ChrisMorgan> tikue_: no HTTP support.
[08:10:30] <tikue_> ChrisMorgan: I thought you meant the code didnt' compile heh 
[08:10:34] <aatch> tikue_, hence the :P at the end
[08:10:42] <tikue_> aatch: yeah, *woosh*
[08:10:45] *** Joins: a__ (a__@moz-4CC03B10.nycmny.fios.verizon.net)
[08:10:50] <ChrisMorgan> Eridius: do whate'er you will, I won't complain as I don't have to use Windows often at all any more :P
[08:11:08] <ChrisMorgan> tikue_: it just says "error: error opening https:/github.com/shaladdle/learnrust/raw/master/echoserver.rs"
[08:11:30] * tikue_ should update with the inherent Stream trait
[08:11:40] <tikue_> Strea mis in std:;rt::io::net::tcp yes?
[08:12:51] *** Quits: victorporof (victorporo@CFB98BB1.77B8163B.2B3D3D4.IP) (Ping timeout)
[08:12:54] <tikue_> Stream*
[08:13:04] <ChrisMorgan> Stream is in std::rt::io.
[08:13:11] *** Joins: moot (Mibbit@moz-5256162B.hsd1.ca.comcast.net)
[08:13:13] <tikue_> ah ok
[08:13:13] <ChrisMorgan> TcpStream is in ...::net::tcp.
[08:13:14] <tikue_> thank you
[08:14:07] *** Quits: Jesin (Jessin_@moz-971F1FB4.cc.lehigh.edu) (Ping timeout)
[08:14:48] *** Quits: flowsnake (flowsnake@moz-1918C33E.aztw.cable.virginmedia.com) (Connection reset by peer)
[08:14:49] *** Quits: eholk (eholk@moz-F70D5031.hsd1.in.comcast.net) (Quit: eholk)
[08:16:20] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[08:17:35] *** Joins: jensnockert (jensnocker@moz-398BA79B.wireless.lu.se)
[08:17:58] *** flaper87|afk is now known as flaper87
[08:19:25] *** Joins: flowsnake (flowsnake@moz-1918C33E.aztw.cable.virginmedia.com)
[08:19:45] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.1)
[08:20:38] *** Quits: robarnold (rob@moz-59F6B5.hfc.comcastbusiness.net) (Ping timeout)
[08:21:21] *** Quits: tikue_ (tkuehn@7AB14988.2ACBBF24.689607DE.IP) (Ping timeout)
[08:21:47] *** Joins: tikue_ (tkuehn@7AB14988.2ACBBF24.689607DE.IP)
[08:25:26] *** Quits: bjz_ (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Quit: Leaving...)
[08:25:37] *** Joins: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[08:28:28] *** Joins: CarpNet (ac@moz-FD24B77.sohonet.co.uk)
[08:29:48] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Client exited)
[08:30:13] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[08:30:18] *** Joins: Blub\w (wry@7E3BB9D.71150E1A.237AE2BA.IP)
[08:30:34] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Client exited)
[08:31:45] *** Joins: victorporof (victorporo@CFB98BB1.77B8163B.2B3D3D4.IP)
[08:31:53] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[08:33:23] <Eridius> the heck? I just took an arg f: &fn(char)->bool and I can't call it twice? Says it's moved the second time
[08:33:57] <Eridius> and says I should use `|x| f(x)` instead. wtf
[08:34:42] *** Quits: ww (Mibbit@moz-DFAED48A.lightspeed.sntcca.sbcglobal.net) (Quit: http://www.mibbit.com ajax IRC Client)
[08:35:58] *** Quits: tiffany (kawaii@moz-EB8B0C08.dhcp.embarqhsd.net) (Ping timeout)
[08:36:31] *** Joins: frau (NEAT@moz-C616DA0A.hsd1.ca.comcast.net)
[08:39:43] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[08:41:04] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[08:41:04] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/_mMmzw
[08:41:04] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[08:41:23] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[08:42:28] *** Quits: Jesse (jruderman@moz-537BCF9.hsd1.ca.comcast.net) (Quit: Jesse)
[08:43:18] *** Quits: sebcrozet (sebcrozet@945FCD68.940A4703.BA2F4534.IP) (Ping timeout)
[08:46:03] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[08:46:03] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/Il7lag
[08:46:03] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[08:46:24] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[08:47:19] *** Joins: robertknight (robertknig@moz-54528EE0.wby.mendeley.com)
[08:49:55] *** Joins: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP)
[08:50:35] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[08:50:59] *** flaper87 is now known as flaper87|afk
[08:52:04] <kimundi> Eridius: Stack closures are non-copyable
[08:52:14] *** Quits: ceninan (ceninan@moz-6BD43586.a370.priv.bahnhof.se) (Client exited)
[08:53:10] <kimundi> r? https://github.com/mozilla/rust/pull/9267
[08:54:25] *** Quits: tikue_ (tkuehn@7AB14988.2ACBBF24.689607DE.IP) (Ping timeout)
[08:54:58] *** Joins: Jesse (jruderman@moz-537BCF9.hsd1.ca.comcast.net)
[08:56:29] <dbaupp> kimundi: I take it you made those private functions public?
[08:56:33] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[08:56:47] <kimundi> dbaupp: For now, yeah
[08:57:06] <kimundi> dbaupp: Had the option between that or copying them as is into rustpkg
[08:57:30] <dbaupp> kimundi: ok, yeah, that seems reasonable.
[08:57:48] <kimundi> dbaupp: Couldn't _decide_ if they should be public because I don'T understand them :P
[08:58:13] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[08:58:21] <dbaupp> kimundi: yeah, looking at the code now I can't work out what they do eithe
[08:58:22] <dbaupp> r
[08:58:51] <kimundi> so many allocations and [0] indexing...
[08:59:10] <dbaupp> <3 iterators
[08:59:15] <dbaupp> </3 allocations
[09:00:35] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[09:01:53] *** Joins: tikue_ (tkuehn@7AB14988.2ACBBF24.689607DE.IP)
[09:04:23] *** Joins: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP)
[09:07:50] *** Joins: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp)
[09:08:18] *** Quits: fyolnish_ (fyolnish@moz-BE2BAE5B.miinet.jp) (Ping timeout)
[09:09:30] *** Quits: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp) (Ping timeout)
[09:11:33] *** Quits: tikue_ (tkuehn@7AB14988.2ACBBF24.689607DE.IP) (Ping timeout)
[09:11:58] *** Joins: tikue_ (tkuehn@7AB14988.2ACBBF24.689607DE.IP)
[09:13:45] <MrOrdinaire> aatch: could you tell me how select would work?
[09:14:43] *** Quits: frau (NEAT@moz-C616DA0A.hsd1.ca.comcast.net) (Quit: out)
[09:18:01] *** Joins: sebcrozet (sebcrozet@moz-3CE49532.lrde.epita.fr)
[09:21:03] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[09:21:03] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 143a4c552 to 14a7cf7b7: 02http://git.io/N3iJvQ
[09:21:03] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[09:21:03] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[09:21:03] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/C6QGGA
[09:21:03] <ghrust> 13rust/06auto 1406d1dcc 15Marvin LÃ¶bel: Turned extra::getopts functions into methods...
[09:21:03] <ghrust> 13rust/06auto 14ecd38be 15bors: auto merge of #9267 : Kimundi/rust/master, r=huonw
[09:21:04] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[09:21:19] <dbaupp> MrOrdinaire: for signals?
[09:24:01] *** Quits: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu) (Ping timeout)
[09:25:44] *** Quits: tikue_ (tkuehn@7AB14988.2ACBBF24.689607DE.IP) (Quit: tikue_)
[09:27:21] <MrOrdinaire> dbaupp: yes
[09:27:59] <MrOrdinaire> dbaupp: are you thestinger on github?
[09:28:09] *** Quits: lkuper_ (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Quit: lkuper_)
[09:29:15] *** Quits: rossm (rossm@moz-EE3BB1DC.br.br.cox.net) (Ping timeout)
[09:29:17] *** Quits: fread2281 (zcarterc@moz-CB181B42.dia.static.qwest.net) (Ping timeout)
[09:29:53] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[09:30:09] *** Joins: rossm (rossm@moz-EE3BB1DC.br.br.cox.net)
[09:31:26] <dbaupp> MrOrdinaire: no, that's strcat; I'm huonw on gh
[09:32:11] <MrOrdinaire> dbaupp: i see. any ideas on signal select?
[09:32:23] <kimundi> Let irc(dbaupp, strcat) == github(huonw, thestinger); // :D
[09:32:54] *** Quits: squiddy (squiddy@moz-91AA0922.adsl.alicedsl.de) (Ping timeout)
[09:32:56] <dbaupp> MrOrdinaire: in any case, modelling it after go would be something like `enum Signal { INT, KILL, ... }` `fn register(Chan<Signal>, [Signal]) and any time a signal happens it gets sent to all the Chan's that have registered for it
[09:32:57] <kimundi> ... Boy did I buther rust syntax there...
[09:33:07] <kimundi> butcher* ... whatever
[09:33:25] <dbaupp> rusti: let Irc(kimundi) = madman; // :P
[09:33:27] -rusti- pastebinned 8 lines of output: http://sprunge.us/ggbB
[09:34:10] <dbaupp> MrOrdinaire: that is, the second argument is the list of signals that the channel is registering for
[09:35:29] <dbaupp> so handling ^C would be something like `let (p, c) = stream(); signal::register(c, [signal::INT]); do spawn { let wait_for_signal = p.recv(); }`
[09:38:18] <MrOrdinaire> dbaupp: libuv's signals need a uv_loop_t*
[09:40:03] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[09:40:06] <MrOrdinaire> dbaupp: so along that line, I need a global variable to save away the uv_signal_t* to do clean up later
[09:40:58] *** Quits: SingingBoyo (singingboy@DAC9C672.CE76D40F.4F048BDC.IP) (Ping timeout)
[09:41:14] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[09:41:43] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[09:42:54] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Ping timeout)
[09:44:02] <kimundi> Hm, trying to build current master. I get 'x86_64-unknown-linux-gnu/stage0/bin/rustc: error while loading shared libraries: libtinfo.so.5: cannot open shared object file: No such file or directory'
[09:44:42] *** Joins: donri (donri@moz-9BB61102.tbcn.telia.com)
[09:45:01] *** Quits: tefter (tefter@B5D119DC.B856A0A1.73804765.IP) (Ping timeout)
[09:45:13] *** Joins: tefter (tefter@B5D119DC.B856A0A1.73804765.IP)
[09:46:20] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Quit: Gone to save the world!)
[09:46:44] *** Joins: tikue_ (tkuehn@moz-FEADCD38.hsd1.pa.comcast.net)
[09:49:41] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[09:51:07] *** Joins: mihneadb (mihneadb@41E65AA5.B2E373EA.FCAAE698.IP)
[09:51:56] *** Quits: mihneadb (mihneadb@41E65AA5.B2E373EA.FCAAE698.IP) (Input/output error)
[09:52:27] *** Joins: mihneadb (mihneadb@41E65AA5.B2E373EA.FCAAE698.IP)
[09:53:52] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[09:54:35] <kaeso> kimundi: `ldd rust` ? here latest snapshot seems not to be linked with it
[09:58:46] *** Joins: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP)
[09:59:04] <pnkfelix> nmatsakis: ping
[09:59:49] *** Joins: fyolnish (fyolnish@moz-6D49F6E.uqwimax.jp)
[10:00:30] *** Quits: jensnockert (jensnocker@moz-398BA79B.wireless.lu.se) (Input/output error)
[10:01:09] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[10:01:09] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14ecd38be to 14a7cf7b7: 02http://git.io/N3iJvQ
[10:01:09] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[10:01:42] <kaeso> kimundi: ah no, sorry, the x86_64 rustc is while the i386 is not
[10:05:17] *** Quits: m_kato (m_kato@moz-C286AD9A.bitcat.net) (Quit: Leaving...)
[10:07:18] *** Joins: sk (sk@BC280AA6.273A3D3C.78DD174B.IP)
[10:09:34] <nmatsakis> pnkfelix: pong
[10:09:54] <pnkfelix> nmatsakis: I wanted to snag your ear at some point to discuss https://github.com/mozilla/rust/issues/4691
[10:10:45] <pnkfelix> nmatsakis: I tried to hack something into borrowck last night, but then I realized that I was far too conservative in my approach.
[10:11:14] *** Quits: mihneadb (mihneadb@41E65AA5.B2E373EA.FCAAE698.IP) (Input/output error)
[10:11:15] <nmatsakis> pnkfelix: how so?
[10:11:49] *** Joins: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP)
[10:12:30] *** Joins: Earnestly (earnest@moz-BE290A2B.dyn.plus.net)
[10:12:46] <nmatsakis> pnkfelix: I guess that to be consistent, an FSU like that must be considered a move of s0.f for every f that is not assigned
[10:13:26] <pnkfelix> nmatsakis: I hacked in an analysis that treated the presence of `..s0` as a move of arbitrary content of s0, without regard for what fields were in the rest of the struct literal.  
[10:13:30] <pnkfelix> nmatsakis: i.e. I hadn't looked at the example of compile-fail/moves-sru-moved-field.rs  (which really should have a run-pass analogue for some of its interesting cases).
[10:13:40] <pnkfelix> nmatsakis: So, that was far too conservative.
[10:14:23] <nmatsakis> pnkfelix: yet another case that would be SO MUCH EASIER if we would just desugar in the AST...
[10:14:36] <nmatsakis> pnkfelix: ...though our current analysis would freak out
[10:14:40] <pnkfelix> nmatsakis: (By "hacked in an analysis", I mean, I put in a new case for InteriorKind)
[10:14:45] <nmatsakis> oh dear god no
[10:14:54] <nmatsakis> ;)
[10:15:01] <nmatsakis> that may *actually* be reasonable, but I'd prefer not to
[10:15:21] <nmatsakis> particularly a catch-all kind
[10:15:50] *** kimundi is now known as zz_kimundi
[10:15:59] <nmatsakis> pnkfelix: so, I think the best fix would be to treat it as moves of the individual fields, 
[10:16:13] <pnkfelix> nmatsakis: It sort of was a catch-all kind: https://github.com/pnkfelix/rust/commit/8cf5e4ffc09f7f59aa6f7aaad1448fddd0005b18#diff-1
[10:16:33] <nmatsakis> I'd rather maintain the invariant that if ik1 != ik2 then the paths are disjoint
[10:16:42] <tikue> it'd be nice if more things implemented Default
[10:16:45] <nmatsakis> otherwise comparing loan paths becomes quite complicated
[10:16:48] <pnkfelix> nmatsakis: Yes, at this point, I agree that the best fix is to treat it as moves of the individual fields
[10:17:07] <nmatsakis> pnkfelix: I have to briefly review the code, but,
[10:17:08] <pnkfelix> nmatsakis: but I don't understand how to express that properly 
[10:17:24] *** Joins: mihneadb (mihneadb@6DD7A473.1E0204BE.FCAAE698.IP)
[10:17:24] <nmatsakis> pnkfelix: ah. That would probabbly require some tweaks to borrowck/gather_loans/gather_moves.rs
[10:17:42] *** zz_kimundi is now known as kimundi
[10:18:03] <pnkfelix> nmatsakis: but would you put anything into mem_categorization?
[10:18:03] <nmatsakis> pnkfelix: the question is, will it consider it an error because x.a and x.b are both moved out of, and hence x is invalidated twice -- if you did those sequentially, it would consider it an error, which is a bug, but one that is a bit more involved to fix (I'm doing some of the prelim work right now)
[10:18:08] <nmatsakis> pnkfelix: no
[10:18:16] <nmatsakis> pnkfelix: I wouldn't touch mem_categorization at all
[10:18:23] *** Quits: fyolnish (fyolnish@moz-6D49F6E.uqwimax.jp) (Client exited)
[10:18:38] <MrOrdinaire> rusti: ~[1,2,3].find(20
[10:18:39] -rusti- <anon>:8:4: 8:5 error: incorrect close delimiter: `}`
[10:18:39] -rusti- <anon>:8     };
[10:18:39] -rusti-              ^
[10:18:39] -rusti- application terminated with error code 101
[10:18:40] <pnkfelix> nmatsakis: okay.  I guess my mistake was trying to implement this by analogy with how the other two cases in #4691 seemed like they were handled
[10:18:46] <MrOrdinaire> rusti: ~[1,2,3].find(2)
[10:18:47] -rusti- <anon>:7:10: 8:5 error: type `[<VI2>, .. 3]` does not implement any method in scope named `find`
[10:18:47] -rusti- <anon>:7          ~[1,2,3].find(2)
[10:18:47] -rusti- <anon>:8     };
[10:18:47] -rusti- error: aborting due to previous error
[10:18:47] -rusti- application terminated with error code 101
[10:18:54] <pnkfelix> nmatsakis: (which, from what I read, was purely layered on top of mem_categorization)
[10:18:55] <MrOrdinaire> rusti: ~[1,2,3].iter().find(2)
[10:18:56] -rusti- <anon>:7:30: 7:31 error: mismatched types: expected `&fn<no-bounds>(&&<VI2>) -> bool` but found `<VI3>` (expected fn but found integral variable)
[10:18:56] -rusti- <anon>:7          ~[1,2,3].iter().find(2)
[10:18:56] -rusti-                                        ^
[10:18:56] -rusti- error: aborting due to previous error
[10:18:58] -rusti- application terminated with error code 101
[10:19:06] <pnkfelix> MrOrdinaire: rusti supports private messages
[10:19:10] <nmatsakis> pnkfelix: right, I think this case is different than those two,
[10:19:31] <MrOrdinaire> pnkfelix: sorry
[10:19:34] <nmatsakis> pnkfelix: in that those cases were moves that are illegal because of whta is being moved out of,
[10:19:40] <nmatsakis> pnkfelix: whereas this is moves that are not being recognized
[10:19:44] <pnkfelix> nmatsakis: can you change the Title ("Topic"? "Subject"?) for the channel to include the fact that rusi supports private messages?
[10:19:51] <nmatsakis> sure...
[10:20:02] * nmatsakis wonders who reads the topic
[10:20:26] <pnkfelix> nmatsakis: it may not do any good, but until I or someone else puts together a PR for strcat to make rusti more proactive on the subject ...
[10:20:29] *** Joins: mark_edward (AndChat414@moz-97E995A.hsd1.in.comcast.net)
[10:20:49] *** Quits: mihneadb (mihneadb@6DD7A473.1E0204BE.FCAAE698.IP) (Ping timeout)
[10:20:52] *** nmatsakis changes topic to 'Note: Prefer private messages for rusti | http://www.rust-lang.org | logs at https://botbot.me/mozilla/rust and http://irclog.gr/#browse/irc.mozilla.org/rust  | Code of conduct: https://github.com/mozilla/rust/wiki/Note-development-policy#conduct | http://huonw.github.io/isrustfastyet/mem |  landings http:'
[10:20:55] <pnkfelix> MrOrdinaire: No worries.  Lots of people do it, and the rusti UI does not do anything to discourage it.  :)
[10:20:58] <nmatsakis> cna't hurt
[10:21:03] <NiccosSystem> I'm new to rust... What do you mean by a "mutable" variable?
[10:21:24] <nmatsakis> NiccosSystem: one which can be reassigned from its initial value
[10:21:28] *** Quits: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[10:21:44] <pnkfelix> nmatsakis: Interesting point regarding the difference between these cases.
[10:21:50] <mark_edward> aatch: have a random question about the AST that I think you'd be able to answer.
[10:22:16] <NiccosSystem> so a "let" without "mut" is basically a final/const?
[10:22:28] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[10:22:34] <pnkfelix> nmatsakis: From my perusal of gather_moves.rs, I had such a change would be a signfiicant rewrite.  But now I must go to lunch with the office; I'll look at this again later.
[10:22:54] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[10:22:58] <mark_edward> Does the AST contain enough information to hypothetically regenerate the source code?
[10:23:16] *** Joins: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[10:23:43] <nmatsakis> pnkfelix: I think it'd be a relatively minor change, some added code? I have to re-examine though, haven't looked at this stuff in a while
[10:23:48] <tikue> NiccosSystem: basically yeah. rust likes to encourage safe coding practice by making you be explicit about things that are inherently more prone to error
[10:24:08] <tikue> or that just aren't necessary in the base case
[10:24:25] <NiccosSystem> Ok! I'm coming from Java. Someone told me about Rust and I thought it lookes pretty sleek
[10:24:35] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[10:24:48] <tikue> NiccosSystem: :) it's pretty great imo
[10:24:49] <klutzy> you can define variable with same name e.g. let a = 1; let a = a + 1;
[10:24:56] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[10:24:59] <klutzy> it reduces usage of mut
[10:25:17] <klutzy> let a = if cond { a * 2 } else { a };
[10:25:18] <NiccosSystem> mhm
[10:25:26] <tikue> klutzy: though you can get into trouble with that if a is implicitly copyable and someone's borrowed it
[10:26:09] <mark_edward> nmatsakis: does the AST contains enough information to hypothetically regenerate source code?
[10:26:36] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[10:26:50] <tikue> i like shadowing variables when putting things into cells :3 
[10:26:57] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[10:29:43] <nmatsakis> mark_edward: sort of; it lacks comments, whitespace information. pretty printer combines the AST with original source to recover comments at least
[10:30:57] <mark_edward> Thanks for answering! Where is the pretty printer located in thr source tree? Id like to give it's look.
[10:31:36] <doomlord__> mark_edward - thanks again for that PR, as far as i can tell it works :)
[10:31:45] <nmatsakis> mark_edward: libsyntax::print
[10:32:08] <mark_edward> nmatsakis: thank you! 
[10:34:04] <mark_edward> doomlord__: good to hear! That was the most fun id had writing anything in a good while, I learned a lot! That match arm that I changed tto always return None didn't break anything?
[10:34:22] <doomlord__> ah let me check that..
[10:34:36] <doomlord__> well it works better than it did not compiling, for sure ;)
[10:37:06] <mark_edward> I'm wasn't sure exactly what you wanted from the method_object think. If you check the source, it has two different Idents that can be returned I think, so I didn't know what would be semantically correct
[10:37:27] *** Quits: tikue_ (tkuehn@moz-FEADCD38.hsd1.pa.comcast.net) (Quit: tikue_)
[10:37:49] <NiccosSystem> What is the practical use of fmt!?
[10:39:01] *** Joins: z0w0 (zack@moz-F83C02B5.lns5.woo.bigpond.net.au)
[10:40:05] <kimundi> NiccosSystem: Generating an formated string. Though fmt! is currently being replaced with a new formating syntax and syntax extension format!
[10:40:23] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[10:40:24] <NiccosSystem> okay
[10:40:34] <kimundi> rusti: format!("Hello {:s}!", "world")
[10:40:35] -rusti- ~"Hello world!"
[10:40:46] <kimundi> rusti: println!("Hello {:s}!", "world")
[10:40:47] -rusti- Hello world!
[10:40:47] -rusti- ()
[10:40:50] <NiccosSystem> huh
[10:41:19] <NiccosSystem> rusti, format!("Hello %s", "Test")
[10:41:32] <myname> you need to :
[10:41:36] <NiccosSystem> ah
[10:41:37] <kimundi> (only listens to the "rusti: " prefix)
[10:41:40] <NiccosSystem> rusti: format!("Hello %s", "Test")
[10:41:40] -rusti- <anon>:7:29: 7:35 error: argument never used
[10:41:40] -rusti- <anon>:7          format!("Hello %s", "Test")
[10:41:40] -rusti-                                       ^~~~~~
[10:41:40] -rusti- error: aborting due to previous error
[10:41:40] -rusti- application terminated with error code 101
[10:41:50] <kimundi> That's the old syntax
[10:41:57] <NiccosSystem> okay
[10:42:00] <kimundi> rusti: fmt!("Hello %s!", "world")
[10:42:01] -rusti- ~"Hello world!"
[10:42:03] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[10:42:08] <kimundi> rusti: printfln!("Hello %s!", "world")
[10:42:08] <NiccosSystem> Why did they change it?
[10:42:09] -rusti- Hello world!
[10:42:09] -rusti- ()
[10:42:36] <kimundi> NiccosSystem: Internationalisation. The new one allows nesting of options, useful for plural forms etc
[10:42:57] <NiccosSystem> Could you give an example?
[10:43:14] * kimundi is looking it up right now
[10:43:20] <NiccosSystem> :P
[10:44:24] <NiccosSystem> uhm, giv eme some minutes
[10:44:31] <NiccosSystem> Will be back in 5-10 mins
[10:44:51] *** Quits: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Ping timeout)
[10:46:11] *** Quits: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP) (Ping timeout)
[10:47:51] *** Joins: tgummerer (tgummerer@moz-72C87DDF.kthopen.kth.se)
[10:48:23] *** Quits: Jesse (jruderman@moz-537BCF9.hsd1.ca.comcast.net) (Quit: Jesse)
[10:48:37] <kimundi> rusti: println!("How many? - {0, plural =1{just one} two{a pair} many{many!} other{uh...}}!", 0)
[10:48:37] -rusti- <anon>:7:18: 7:94 error: `plural` must be followed by `,`
[10:48:38] -rusti- <anon>:7          println!("How many? - {0, plural =1{just one} two{a pair} many{many!} other{uh...}}!", 0)
[10:48:38] -rusti-                            ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
[10:48:38] -rusti- error: aborting due to previous error
[10:48:38] -rusti- application terminated with error code 101
[10:48:46] <kimundi> rusti: println!("How many? - {0, plural, =1{just one} two{a pair} many{many!} other{uh...}}!", 0)
[10:48:47] -rusti- How many? - uh...!
[10:48:48] -rusti- ()
[10:48:55] <kimundi> rusti: println!("How many? - {0, plural, =1{just one} two{a pair} many{many!} other{uh...}}", 1)
[10:48:56] -rusti- How many? - just one
[10:48:56] -rusti- ()
[10:49:00] <kimundi> rusti: println!("How many? - {0, plural, =1{just one} two{a pair} many{many!} other{uh...}}", 2)
[10:49:01] -rusti- How many? - a pair
[10:49:01] -rusti- ()
[10:49:12] <kimundi> rusti: print!("How many? - {0, plural, =1{just one} two{a pair} many{many!} other{uh...}}", 3)
[10:49:13] -rusti- How many? - uh...()
[10:49:18] <kimundi> rusti: print!("How many? - {0, plural, =1{just one} two{a pair} many{many!} other{uh...}}", 100)
[10:49:19] -rusti- How many? - many!()
[10:51:18] <mark_edward> How does format! decide what is many vs other vs two vs one?
[10:51:49] <kimundi> mark_edward: According to http://seld.be/rustdoc/master/std/fmt/index.html it'S currently hardcoded, but in theory decided by your locale
[10:52:30] <myname> that's great
[10:52:41] <mark_edward> I see... what is the purpose of such a thing???? Seems like stuff for code, not printing!
[10:52:56] <kimundi> mark_edward: Internationalisation
[10:53:12] <kimundi> mark_edward: People that want to translate just need to learn this formating language
[10:53:28] <myname> you can do 99 bottles of beer with a loop and a print :D
[10:53:54] <myname> also, can't you reorganize the data?
[10:54:01] <mark_edward> Yes but what about Internationalization requires you to say many vs few vs two when you could do that in code?
[10:54:03] <kimundi> mark_edward: And instead of N line of case-by-case code, it's just one formating call with a predefined string
[10:54:19] <myname> rusti: print!("{0}{1}", ~"a", ~"b")
[10:54:19] -rusti- ab()
[10:54:24] <dbaupp> nmatsakis, pnkfelix: would it be possible to "desugar" an FSU as `Struct { a: 1, .. x }` => `let Struct { a, b, c } = x; Struct { a: 1, b: b, c: c }`?
[10:54:25] <myname> rusti: print!("{1}{0}", ~"a", ~"b")
[10:54:26] -rusti- ba()
[10:54:34] <benh> mark_edward: It's so translators only have to edit format strings, potentially even separated from the source code, rather than editing code
[10:54:35] <myname> impossible with % syntax
[10:54:35] <kimundi> mark_edward: Becasuse you don't want to do that in code
[10:54:37] *** Joins: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP)
[10:54:44] <NiccosSystem> I'm back!
[10:54:57] <kimundi> NiccosSystem: great! :D Just read scrollback :P
[10:55:07] <mark_edward> Ah I see that makes sense now! !Hank you for explaining
[10:55:08] <myname> mark_edward: example: you want to translate software with currencys
[10:55:13] <myname> *ie
[10:55:25] <benh> kimundi: do you have joins turned off in your irc client? :)
[10:55:25] <myname> $ ammount VS ammount â‚¬
[10:55:34] <myname> you may have to reorder stuff
[10:55:46] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[10:55:53] *** Joins: mib_if6l5b (Mibbit@A05ED603.7179CDFD.EEBBAFDA.IP)
[10:55:54] <NiccosSystem> kimundi sounds like a Sahili word
[10:55:59] <kimundi> benh: ... hu. No I haven't but I didn't notice that NiccosSystem left, and didn't look for the join message :P
[10:56:02] <NiccosSystem> Swahili even
[10:56:16] <dbaupp> MrOrdinaire: I would think that the signal API abstracts all that out, that is, the uv_signal_t is *entirely* local to the function that hands the signals to the various channels and gets transformed into a pure Rust representation.
[10:56:22] <mib_if6l5b> kimundi are the loggin option changed in rust
[10:56:31] <kimundi> NiccosSystem: Haha! The real origin is a bit less interesting ... :P
[10:56:49] <NiccosSystem> Oh :(
[10:56:51] <kimundi> rusti: print!("How many? - {0, plural, =1{just one} two{a pair} many{many!} other{uh...}}", 0)
[10:56:52] -rusti- How many? - uh...()
[10:56:55] <kimundi> rusti: print!("How many? - {0, plural, =1{just one} two{a pair} many{many!} other{uh...}}", 1)
[10:56:56] -rusti- How many? - just one()
[10:56:57] <kimundi> rusti: print!("How many? - {0, plural, =1{just one} two{a pair} many{many!} other{uh...}}", 2)
[10:56:58] -rusti- How many? - a pair()
[10:56:58] <NiccosSystem> What is it then?
[10:57:01] <kimundi> rusti: print!("How many? - {0, plural, =1{just one} two{a pair} many{many!} other{uh...}}", 3)
[10:57:02] -rusti- How many? - uh...()
[10:57:04] <mib_if6l5b> kimundi previously use RUST_LOG=<filenames> was working
[10:57:05] <kimundi> rusti: print!("How many? - {0, plural, =1{just one} two{a pair} many{many!} other{uh...}}", 100)
[10:57:05] -rusti- How many? - many!()
[10:57:17] <dbaupp> rusti: print!("How many? - {0, plural, =1{just one} two{a pair} few{a few} many{many!} other{uh...}}", 3)
[10:57:18] -rusti- How many? - a few()
[10:57:27] <dbaupp> rusti: print!("How many? - {0, plural, one{just one} two{a pair} few{a few} many{many!} other{uh...}}", 1)
[10:57:28] -rusti- How many? - just one()
[10:57:29] <kimundi> mib_if6l5b: Need to pass --cfg debug now to compile with debug statements
[10:57:56] <dbaupp> rusti: print!("How many? - {0, plural, zero{none} one{just one} two{a pair} few{a few} many{many!} other{uh...}}", 0)
[10:57:56] -rusti- How many? - none()
[10:58:21] <mib_if6l5b> kimundi: what if we want to see rust_log , after running servo(its failing , so just want to back trace)
[10:59:33] <kimundi> NiccosSystem: It all began a long time ago, as I was in the need for my first online nick name. I did choose this: http://starwars.wikia.com/wiki/Ki-Adi-Mundi - It quickly degenerated to something easier to write, and I never bothered to change it. :P
[10:59:35] <NiccosSystem> I don't even
[10:59:57] <NiccosSystem> gtg
[11:00:13] <kimundi> bye! :)
[11:01:36] *** Quits: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP) (Ping timeout)
[11:01:51] <kimundi> mib_if6l5b: If you want to see debug! output, compile the executable with --cfg debug and set RUST_LOG while running it. If you want to use gdb or such, compile the executable with debug metadata enabled.
[11:02:20] <Seldaek> kimundi: I hope you're only a fan and don't look like this Ki-Adi-Mundi dude
[11:02:31] *** Quits: dew (Instantbir@moz-D2FA52B6.static.stls.mo.charter.com) (Ping timeout)
[11:02:53] <kimundi> Seldaek: haha. I assure you there is no similarity ;)
[11:02:55] *** Joins: dew (Instantbir@moz-D2FA52B6.static.stls.mo.charter.com)
[11:02:59] <dbaupp> Seldaek: he doesn't just look like him
[11:03:11] <dbaupp> he *is* him. (Why else would he have the name?)
[11:03:44] *** Quits: mib_if6l5b (Mibbit@A05ED603.7179CDFD.EEBBAFDA.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[11:05:18] <Seldaek> what's the cut-off between few and many 
[11:05:44] <myname> some *g*
[11:06:03] <dbaupp> Seldaek: locale defined, but currently hardcoded to be...
[11:06:53] <dbaupp> ... 8
[11:07:14] <dbaupp> rusti: println!("How many? - {0, plural, zero{none} one{just one} two{a pair} few{a few} many{many!} other{uh...}}", 7); rusti: print!("How many? - {0, plural, zero{none} one{just one} two{a pair} few{a few} many{many!} other{uh...}}", 8)
[11:07:15] -rusti- pastebinned 4 lines of output: http://sprunge.us/bEZC
[11:07:23] <dbaupp> rusti: println!("How many? - {0, plural, zero{none} one{just one} two{a pair} few{a few} many{many!} other{uh...}}", 7); print!("How many? - {0, plural, zero{none} one{just one} two{a pair} few{a few} many{many!} other{uh...}}", 8)
[11:07:24] -rusti- How many? - a few
[11:07:24] -rusti- How many? - many!()
[11:07:30] <myname> there is no some?
[11:07:46] <dbaupp> Seldaek: (that is, it should be locale defined, but that's not implemented yet.)
[11:07:55] <kimundi> rusti: for i in range(0, 100){ let (a, b) = (format!("How many? - {0, plural, few{few} many{many} other{x}}", i), format!("How many? - {0, plural, few{few} many{many} other{x}}", i+1)); if a != b { printf!(i); } }
[11:07:56] -rusti- pastebinned 16 lines of output: http://sprunge.us/QhQc
[11:08:02] <Seldaek> dbaupp: got it, thanks
[11:08:26] <Seldaek> we need "couple" too, I had a long argument about how many couple means recently :p
[11:08:38] <kimundi> rusti: for i in range(0u, 100){ let (a, b) = (format!("How many? - {0, plural, few{few} many{many} other{x}}", i), format!("How many? - {0, plural, few{few} many{many} other{x}}", i+1)); if a != b { printf!(i); } }
[11:08:40] -rusti- 7u()
[11:08:44] <kimundi> Indeed
[11:08:52] <kimundi> Empirical tested :P
[11:09:26] <dbaupp> kimundi: haha, you need to repeat the experiment a few times, so you can get confidence intervals and a p-value.
[11:10:08] <kimundi> :D
[11:12:18] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[11:14:04] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[11:14:32] *** Joins: Cromulent (Cromulent@moz-983B638D.cable.virginmedia.com)
[11:16:01] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[11:16:01] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/pytGsQ
[11:16:01] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[11:21:01] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[11:21:01] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/uaC67w
[11:21:01] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[11:21:03] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[11:21:03] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/q6YMfQ
[11:21:03] <ghrust> 13rust/06auto 142f845a5 15Alex Crichton: Renumber the lang items correctly...
[11:21:03] <ghrust> 13rust/06auto 14deac95b 15bors: auto merge of #9295 : alexcrichton/rust/fix-lang-items, r=thestinger...
[11:21:03] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[11:22:21] <kimundi> dbaupp: Could you @bors: retry ? https://github.com/mozilla/rust/pull/9267
[11:24:01] <dbaupp> kimundi: haha, I just did it, without seeing that message
[11:24:10] <kimundi> :D
[11:27:04] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[11:29:01] *** Joins: Jesse (jruderman@moz-537BCF9.hsd1.ca.comcast.net)
[11:30:26] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[11:31:22] *** Joins: tikue_ (tkuehn@moz-FEADCD38.hsd1.pa.comcast.net)
[11:31:56] *** Joins: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com)
[11:32:20] *** Quits: tikue_ (tkuehn@moz-FEADCD38.hsd1.pa.comcast.net) (Quit: tikue_)
[11:34:10] *** Joins: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP)
[11:35:51] <NiccosSystem> How does the compiler understand "two" "many" and "other"?
[11:36:02] <NiccosSystem> kimundi, 
[11:36:12] <dbaupp> NiccosSystem: because format! is specially coded to understand them
[11:40:43] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[11:42:13] *** Quits: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP) (Ping timeout)
[11:42:23] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[11:45:47] *** Joins: mark_edward_ (quassel@moz-97E995A.hsd1.in.comcast.net)
[11:48:12] <mark_edward_> doomlord__: ping
[11:50:32] *** Joins: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net)
[11:51:59] *** Quits: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net) (Quit: dave1629)
[11:56:13] *** Quits: tgummerer (tgummerer@moz-72C87DDF.kthopen.kth.se) (Ping timeout)
[12:00:25] <doomlord__> hi
[12:03:56] *** Joins: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca)
[12:06:02] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[12:06:02] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14deac95b to 144904bc3: 02http://git.io/N3iJvQ
[12:06:02] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[12:06:03] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[12:06:03] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/U43Rhg
[12:06:03] <ghrust> 13rust/06auto 1406d1dcc 15Marvin LÃ¶bel: Turned extra::getopts functions into methods...
[12:06:03] <ghrust> 13rust/06auto 1499ec14d 15bors: auto merge of #9267 : Kimundi/rust/master, r=huonw
[12:06:04] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[12:06:36] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[12:08:58] *** Joins: Azdle (patrick@moz-8C723B60.hsd1.mn.comcast.net)
[12:09:29] *** Quits: z0w0 (zack@moz-F83C02B5.lns5.woo.bigpond.net.au) (Client exited)
[12:09:39] <mark_edward_> doomlord__: pong
[12:18:10] <moot> when you get a value out of a Result, can you change it to managed?
[12:18:41] <kimundi> moot: Nothing prevents you from wrapping it in an managed box
[12:18:45] <cmr> rusti: let x: Result<uint, int> = Ok(5u); @x.unwrap()
[12:18:46] -rusti- @5u
[12:19:44] <dbaupp> cmr: got more disk space?
[12:19:52] <cmr> dbaupp: just shuffled htings around
[12:19:55] *** Quits: eagen (eagen@8737942B.7A99C13A.B7961A98.IP) (Client exited)
[12:20:03] <cmr> I forgot I had a 500G partition for the previous incarnation of the bencher
[12:20:17] <cmr> My homedir is no longer crying 
[12:20:23] <dbaupp> hahaha
[12:20:32] * dbaupp has a ~ that is crying
[12:20:38] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[12:20:45] <dbaupp> (the pains of smallish SSDs)
[12:22:09] *** Quits: veddan (viktor@moz-C79BC80B.csbnet.se) (Ping timeout)
[12:23:47] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[12:23:48] <Seldaek> dbaupp: hear hear. I can't wait for http://shop.lenovo.com/us/en/laptops/thinkpad/t-series/t440s/ to become available so I can finally upgrade my 120GB to a new laptop with 512GB SSD
[12:24:51] *** Parts: lex (lex@moz-12347B81.bootp.virginia.edu) ()
[12:25:06] <dbaupp> Seldaek: that'd be nice
[12:25:11] <moot> kimundi: I figured, but I cant seem to get the syntax right to get the contained type managed rather than the result itself
[12:25:17] <dbaupp> I used to be on a 120GB HDD... that was the worst of both worlds :(
[12:26:02] <Seldaek> dbaupp: I offload all my music to VPN & huge media store at home, it helps a bit, but I'm a bit struggling to keep free space 
[12:26:04] <dbaupp> ChrisMorgan: thanks for merging that... I'm now officially a contributor to the best rust http client/server in existence \o/
[12:26:25] <dbaupp> Seldaek: yeah, I'm not that organised.
[12:26:25] <ChrisMorgan> Great! Now work to make it even better :P
[12:26:42] * dbaupp could probably fix that by being more organised
[12:26:52] <dbaupp> ChrisMorgan: haha :D
[12:27:01] <pnkfelix> dbaupp: re you FSU suggestion, I suspect something like that is what nmatsakis was alluding to when he said "yet another case that would be SO MUCH EASIER if we would just desugar in the AST..."
[12:27:16] <ChrisMorgan> My 160GB hard disk drive has been tending to have 0.05-1.5GB free, this past month or two.
[12:27:21] <pnkfelix> dbaupp: https://botbot.me/mozilla/rust/msg/6163887/
[12:27:29] *** Joins: olsonjeffery (pf@B8927AE1.CFEFA148.239A1A9E.IP)
[12:27:34] <dbaupp> pnkfelix: yup, I saw that, and was picking up on it.
[12:27:50] <ChrisMorgan> And over 40GB of that is in a couple of Windows VMs.
[12:28:12] <dbaupp> pnkfelix: (I guess desugaring that straight in the AST wouldn't work; since libsyntax doesn't have info about field names, etc.)
[12:28:17] <dbaupp> ChrisMorgan: very very similar
[12:28:30] * dbaupp had to delete/move a pile of stuff to be able to build servo
[12:28:35] *** Quits: victorporof (victorporo@CFB98BB1.77B8163B.2B3D3D4.IP) (Quit: victorporof)
[12:29:19] <pnkfelix> dbaupp: there's also the problem that you might need to increase the precision of other analyses in order to make that generated code pass through.  But that's not necessarily a drawback, as long as the change doesn't incur an asymptotic blowup.
[12:29:41] <ChrisMorgan> Currently planning to get a http://www.logicalblueone.com.au/store/543-horize-w550eu-ultranote.html with 128GB mSATA SSD, then pull the disk out of this present one and thus get ~288GB of storage.
[12:29:50] <dbaupp> pnkfelix: blow up of pass adjustments?
[12:30:15] <pnkfelix> dbaupp: blow up of running time for analyses ?
[12:30:18] * ChrisMorgan had to shift several gigabytes of stuff shortly after building Rust in the first place.
[12:30:20] <dbaupp> pnkfelix: aha
[12:30:48] <kimundi> moot: Did you figure it out/ See cmr's comment?
[12:31:09] <dbaupp> pnkfelix: I believe using pattern matching like that would mean no adjustments are necessary (not like { a: 1, b: x.b, c: x.c }), but I haven't thought about it hard enough/aren't knowledgeable enough to be sure
[12:31:45] *** Quits: Azdle (patrick@moz-8C723B60.hsd1.mn.comcast.net) (Ping timeout)
[12:33:02] <pnkfelix> dbaupp: to be honest its probably more an issue of internal rustc development policy than something motivated by running time considerations.
[12:33:04] *** Joins: sw17ch (sw17ch@moz-39D8564F.wndsny.tds.net)
[12:33:19] <pnkfelix> dbaupp: (as implied by niko's comment)
[12:34:10] <dbaupp> pnkfelix: oh, is there a "ban" on AST-sugar?
[12:34:27] <pnkfelix> dbaupp: I don't know, I'm just making inferences.
[12:34:53] *** Joins: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net)
[12:34:54] <dbaupp> ChrisMorgan: neat; even comes without a preinstalled windows.
[12:35:20] <bstrie> moot: looking to rewrite 4chan's backend in rust, eh
[12:35:36] <ChrisMorgan> dbaupp: indeed, which helps to make the price so low. When I first came across it a few weeks ago I assumed it was either a brief special or a mistake, expecting those sorts of features to be at around $999 rather than $799...
[12:36:26] <pnkfelix> dbaupp: avoiding AST-sugar probably makes it easier to write sane compiler error mesages, right?  Everything is in terms of some bit of source that appears *somewhere* (even if only in a macro_rules! def'n...)
[12:38:11] *** Joins: eagen (eagen@8737942B.7A99C13A.B7961A98.IP)
[12:38:16] <dbaupp> pnkfelix: yeah, it is; although attaching spans like syntax::ext does seems to work in a reasonable way.
[12:38:51] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[12:39:51] *** Quits: sw17ch (sw17ch@moz-39D8564F.wndsny.tds.net) (Quit: sw17ch)
[12:40:09] *** Joins: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net)
[12:41:03] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[12:41:03] <dbaupp> https://github.com/mozilla/rust/pull/9325 r? (just a documentation fix)
[12:42:23] *** Joins: Ferreus (daniel@moz-46BC77CB.dyn.telefonica.de)
[12:42:43] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[12:42:48] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[12:46:18] *** Quits: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net) (Quit: dave1629)
[12:46:30] *** Joins: lmandel (lmandel@moz-76CE9D51.cable.teksavvy.com)
[12:52:32] *** Joins: victorporof (victorporo@DD69D5EC.67CDC207.79933D60.IP)
[12:57:55] *** Joins: aeqwa (aeqwa@moz-A9A4460A.dsl.tropolys.de)
[13:00:26] *** Quits: lmandel (lmandel@moz-76CE9D51.cable.teksavvy.com) (Quit: lmandel)
[13:01:47] *** Quits: darkf (darkf@moz-F9058B8A.net) (Quit: WeeChat 0.4.1)
[13:01:58] *** Joins: maik (maik@moz-53663244.dip0.t-ipconnect.de)
[13:04:49] *** Quits: maik (maik@moz-53663244.dip0.t-ipconnect.de) (Ping timeout)
[13:05:42] *** Joins: brendan (brendaneic@7549D0F3.8C4047A8.7E5C23C9.IP)
[13:07:42] *** Quits: brendan (brendaneic@7549D0F3.8C4047A8.7E5C23C9.IP) (Quit: brendan)
[13:10:11] *** Joins: brendan (brendaneic@7549D0F3.8C4047A8.7E5C23C9.IP)
[13:13:20] *** Quits: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca) (Client exited)
[13:13:45] *** Joins: dave1629 (dave@6450DFC9.6925E1D4.DDE5D3F6.IP)
[13:16:01] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[13:16:01] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/U43Rhg
[13:16:01] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[13:17:01] *** Quits: brendan (brendaneic@7549D0F3.8C4047A8.7E5C23C9.IP) (Quit: brendan)
[13:20:14] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[13:21:00] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[13:21:00] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/dXV4xA
[13:21:00] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[13:21:01] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[13:21:01] <ghrust> 01[13rust01] 15bors pushed 4 new commits to 06auto: 02http://git.io/jp4nNw
[13:21:01] <ghrust> 13rust/06auto 1482ce5d0 15U-NOV2010\eugals: optimized trans_to_datum::auto_borrow_obj code generation in case some trivial cases where simple copying can be applied
[13:21:01] <ghrust> 13rust/06auto 14f96edfd 15U-NOV2010\eugals: minor Type::opaque_trait code cleanup
[13:21:02] <ghrust> 13rust/06auto 147ccd71f 15U-NOV2010\eugals: will not copy trait_callee on stack if it's source expr is a plain borrowed ref
[13:21:04] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[13:21:32] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Client exited)
[13:25:16] *** Joins: maik (maik@moz-53663244.dip0.t-ipconnect.de)
[13:26:03] *** Quits: Cromulent (Cromulent@moz-983B638D.cable.virginmedia.com) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[13:27:05] *** Joins: fread2281 (zcarterc@moz-CB181B42.dia.static.qwest.net)
[13:27:59] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[13:30:12] *** Joins: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca)
[13:31:34] *** Quits: Houm (Houm@moz-25669AA8.fbx.proxad.net) (Ping timeout)
[13:32:37] <cmr> Hm
[13:32:44] <cmr> I'm thinking of an AsStr to complement ToStr
[13:32:53] *** Quits: Amaranth (travis@moz-F81BB56A.cpe.cableone.net) (Quit: Leaving...)
[13:32:56] <cmr> For things that can return a borrowed pointer to a string, rather than allocating.
[13:33:03] *** Joins: Amaranth (travis@moz-F81BB56A.cpe.cableone.net)
[13:33:05] <cmr> Very useful for C-like enums, which can use &'static str
[13:33:08] <cmr> Or bools
[13:33:17] <cmr> Or things that can cache their stringification (like paths)
[13:33:53] <kimundi> cmr: you mean, like, as_slice() ?
[13:33:59] *** Quits: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com) (Quit: )
[13:34:18] <cmr> kimundi: Oh, I suppose the Str trait *does* already cover that.
[13:34:29] <cmr> That's a very poor name though
[13:34:46] *** Quits: nsf (nsf@moz-EEF3238A.convex.ru) (Quit: WeeChat 0.4.1)
[13:36:22] <dbaupp> cmr: caching stringification would require &mut self, right?
[13:36:23] *** Joins: canhtak (jeremy@moz-44AEB22E.wl.t.ulaval.ca)
[13:37:18] <cmr> dbaupp: hm, so it would
[13:37:36] <cmr> not as useful as my first thoughtcycles would have had me believe.
[13:38:43] *** Joins: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP)
[13:39:40] *** Joins: ceninan (ceninan@moz-6BD43586.a370.priv.bahnhof.se)
[13:39:48] *** Joins: ahal (ahal@13F2CEC5.7672369.D8E68FF6.IP)
[13:41:23] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[13:42:04] <afrey71> Egad, I'm getting rusty. I have ["a", "b", "c"] and want every possible, but no repetitive combination of it, i.e.: ["abc", "ab", "ac", "bc", "a", "b", "c"]. How do I do that? Or maybe just: what do I google? Polynominal something?
[13:42:05] *** Joins: bjz_ (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[13:42:08] <cmr> if mkdir.status != 0 { // meh, it's late.
[13:42:10] <cmr>         fail2!("<error message>")
[13:42:12] <cmr> }
[13:42:18] <cmr> dbaupp: c'mon :P
[13:42:19] *** Quits: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[13:42:32] <cmr> at least they're differentiable
[13:42:43] <benh> What is fail2?
[13:42:53] <cmr> benh: fail, but with the new format! rather than fmt!
[13:43:03] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[13:43:06] <cmr> afrey71: so, we have http://seld.be/rustdoc/master/std/vec/struct.Permutations.html
[13:43:09] <benh> ah
[13:43:32] <cmr> afrey71: altough you want combinations, not permutations, so nevermind.
[13:43:57] <cmr> afrey71: http://en.wikipedia.org/wiki/Combination#Enumerating_k-combinations
[13:44:09] <dbaupp> cmr: hey, at least it's valid-ish xml.
[13:44:23] * dbaupp has totally brilliant excuses
[13:44:27] *** Joins: sigma (sigma@51C589B3.EF2694B5.DFAC6AA7.IP)
[13:44:37] <benh> hmm
[13:44:44] <benh> rusti: fail!{ "welp" }
[13:44:51] <benh> rusti?
[13:44:52] <myname> isn't what he want just a superset
[13:45:02] <benh> powerset?
[13:45:06] <afrey71> cmr, dbaupp: thanks, that should get me back on my feet. ;-)
[13:45:10] <myname> maybe
[13:45:26] <benh> It does rather look like the power set; now, where's my creepy haskell list comprehension for that...
[13:46:24] <dbaupp> afrey71: no problem, I'm happy to help you with nothing again any time :P
[13:46:28] *** Quits: aeqwa (aeqwa@moz-A9A4460A.dsl.tropolys.de) (Ping timeout)
[13:46:39] <cmr> mm, that is the powerset on a closer inspection
[13:46:54] <cmr> Powerseterator
[13:46:59] <benh> :D
[13:47:11] <cmr> (Is there an iterator that *doesn't* obey that pattern?
[13:47:13] <cmr> )
[13:47:28] <dbaupp> Vecerator?
[13:47:31] <cmr> Orderator, Reverator, Vecorator, Globerator, Moverator,
[13:47:31] *** jorendorff_away is now known as jorendorff
[13:47:43] <cmr> Vectorator, actually
[13:48:10] <cmr> OptionIterator has defeated me.
[13:48:16] <dbaupp> Opterator?
[13:48:18] <cmr> Opterator, maybe
[13:48:20] <cmr> Yeah :p
[13:48:21] <dbaupp> heh
[13:48:27] <afrey71> Opinionator? ;-)
[13:48:28] <dbaupp> Porterator
[13:48:46] <dbaupp> Utf8Iterator?
[13:48:48] <cmr> RingBufMuterator
[13:49:02] <cmr> hm
[13:49:09] <dbaupp> cmr: just flows off the tongue :P
[13:49:16] <cmr> Encoderator<Utf8>
[13:49:18] <cmr> :P
[13:49:29] <ChrisMorgan> *inator.
[13:49:56] <cmr> ChrisMorgan: we're iterating, not terminating.
[13:50:33] <ChrisMorgan> Well, if you really want to quibble... at least it doesn't stop us from having Dropinator :P
[13:50:44] <cmr> heh
[13:51:42] *** Quits: Ferreus (daniel@moz-46BC77CB.dyn.telefonica.de) (Connection reset by peer)
[13:53:17] <ChrisMorgan> On the AsStr suggestion, I've considered implementing Str on a couple of types of my own, but it simply doesn't *feel* right. I guess if it was done for more than just ~str and &str I'd be willing to do it.
[13:53:34] <cmr> bool at the very least should do it
[13:53:55] <ChrisMorgan> How?
[13:54:16] <cmr> fn as_slice(&self) -> &str { match self { true => "true", false => "false" } }
[13:54:18] <kimundi> rusti: "foo".to_send_str().as_slice()
[13:54:25] <dbaupp> ChrisMorgan: it's implemented for @str too :P
[13:54:44] <NiccosSystem> Is & a reference and ~ a pointer in Rust?
[13:54:53] <cmr> NiccosSystem: they're both pointers.
[13:54:53] <kimundi> NiccosSystem: Yes and no
[13:54:56] <ChrisMorgan> dbaupp: I yield to your subtlety.
[13:55:12] <NiccosSystem> Then please explain :)
[13:55:17] <cmr> NiccosSystem: http://cmr.github.io/blog/2013/08/13/rust-by-concept/
[13:55:18] <ChrisMorgan> &str and ~str are MAGIC.
[13:55:24] <NiccosSystem> :P
[13:55:27] <kimundi> NiccosSystem: Both are implemented as pointers. The big difference is the semantic in regard to ownership
[13:55:35] <NiccosSystem> ok
[13:55:39] <dbaupp> ChrisMorgan, cmr, kimundi: I guess if Str were to be made more general then renaming it and the methods would be a decent idea
[13:55:41] <cmr> (everything up to mutability is solid)
[13:55:57] <pnkfelix> afrey71: FYI, knuth's most recent chapters of TAOCP has many pages dedicated to these topics.  You can see pre-fascicles here: http://www.cs.utsa.edu/~wagner/knuth/ (e.g. "7.2.1.3. Generating all combinations")
[13:56:09] <kimundi> If you have a ~T, you own that memory. Only you decide when it ceases to exist
[13:56:34] <cmr> (Some for T, but ~T is on t he other side of a heap allocation)
[13:56:59] <kimundi> If you have a &T, then you have borrowed a reference to some memory. You can't take the data away through the &, and you can't cause it to get deleted.
[13:57:20] *** Quits: maik (maik@moz-53663244.dip0.t-ipconnect.de) (Ping timeout)
[13:57:44] <kimundi> But you can be sure that the data is always valid while you have the &T to it
[13:58:03] <kimundi> And will in fact not change at all, because &T means immutable reference
[13:58:11] <kimundi> You can also have a &mut T.
[13:58:34] <kimundi> That will mean that you alone can change the data through that one &mut reference
[14:01:25] <ChrisMorgan> r? https://github.com/mozilla/rust/pull/9321 (it went stale a few hours ago, rebased it)
[14:01:28] *** Joins: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net)
[14:01:49] <benh> The temptation to commit --amend and push --force is too strong with git :(
[14:03:32] * ChrisMorgan only rebased because that's what's requested in the contribution guidelines
[14:04:07] <ChrisMorgan> I much prefer Mercurial to Git; Mercurial has strong opinions about immutability. Once it's in there, *it's in there for good*.
[14:06:06] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[14:06:06] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14852645e to 1499ec14d: 02http://git.io/N3iJvQ
[14:06:06] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[14:06:07] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[14:06:07] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/iLF6Hw
[14:06:07] <ghrust> 13rust/06auto 14040f1c0 15Alex Crichton: Allow trailing commas in format!...
[14:06:07] <ghrust> 13rust/06auto 14da29a8e 15bors: auto merge of #9299 : alexcrichton/rust/fmt-trailing-comma, r=huonw...
[14:06:08] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[14:06:13] <dbaupp> ChrisMorgan: which thing's requested?
[14:06:17] *** Joins: Ferreus (daniel@moz-46BC77CB.dyn.telefonica.de)
[14:06:48] <ChrisMorgan> dbaupp: ?
[14:06:50] <NiccosSystem> oh is lowercase with underscores the naming convention
[14:07:07] <dbaupp> ChrisMorgan: "* ChrisMorgan only rebased because that's what's requested in the contribution guidelines"
[14:07:12] <dbaupp> ChrisMorgan: oh, "that"
[14:07:18] <dbaupp> not "of"
[14:07:31] <engla> NiccosSystem: yes, but title case types and traits
[14:07:34] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[14:07:41] <dbaupp> ChrisMorgan: git is immutable too... just branch pointers might jump around a little more fluidly
[14:07:45] <benh> and enum variants~
[14:07:58] *** Joins: fbhwfg9w6y8 (hvbeuveigv@81F035B2.1E7D5F9A.521C0519.IP)
[14:08:13] <NiccosSystem> ok. I'm so used to camelcase
[14:08:23] *** Quits: fbhwfg9w6y8 (hvbeuveigv@81F035B2.1E7D5F9A.521C0519.IP) (Excess Flood)
[14:10:50] <ChrisMorgan> dbaupp: and if you have no reference to it, it'll probably disappear in a month's time.
[14:11:11] <dbaupp> ChrisMorgan: meh, a month is close to forever.
[14:11:17] <dbaupp> :P
[14:11:54] <ChrisMorgan> That attitude is part of why I'm writing a blog post on the problems with GitHub's link management.
[14:12:32] <ChrisMorgan> (I'm also writing it to see if I can get anyone interested in the automated link checking software I'm writing and to start building an audience. Anyone here even interested in such a thing?)
[14:13:09] <ChrisMorgan> GitHub has the second worst frequency (perhaps now the worst) of any site I've ever come across. Microsoft is the only one in their class.
[14:13:16] <amatus> if you drop a reference to something, it means you don't care about it
[14:13:38] <ChrisMorgan> dbaupp: CONTRIBUTING.md: "Rebase your local changes against the master branch. Resolve any conflicts that arise."
[14:13:39] <dbaupp> ChrisMorgan: frequency of dead links?
[14:13:49] <ChrisMorgan> Yep.
[14:13:56] *** Joins: Larry (larryfox@moz-343B6F0C.nyc.biz.rr.com)
[14:14:00] *** Joins: yeri (yeri@437FA687.22C63A3C.A15D986E.IP)
[14:14:01] *** Joins: lmandel (lmandel@moz-76CE9D51.cable.teksavvy.com)
[14:14:45] <ChrisMorgan> And their 404 page is *almost* supremely useless. Just think of all the useful content they could have on it... why this doesn't work, what it is that's actually missing (repository no longer exists? Changeset? Fileâ€”oh, it's available in this other changeset?)
[14:15:36] <benh> If you rebase for a pull request, do you just force-push to the existing branch and the pull request updates automatically?
[14:15:42] <ChrisMorgan> Yes.
[14:16:11] <benh> Then surely no one will notice that I had some formatting errors last night!
[14:16:14] <ChrisMorgan> Anyway, if you're interested in *seriously good* automated link checking at all, please contact me (PM, email, whatever)
[14:16:46] *** Quits: lmandel (lmandel@moz-76CE9D51.cable.teksavvy.com) (Quit: lmandel)
[14:16:59] <benh> should (lexer) error messages reproduce the erroneous sequence of code despite it being pointed to in the span? Like, if you use an undefined identifier the error names the identifier and then shows your code with a squiggly line under the identifier in question, should all lexer errors do that?
[14:17:01] *** Quits: yeri (yeri@437FA687.22C63A3C.A15D986E.IP) (Quit: Colloquy for iPhone - http://colloquy.mobi)
[14:17:13] <ChrisMorgan> dbaupp knows every time I rebase my augmented-assignment branch (can anyone help me fix it up?) because one of the changesets' messages includes "@huonw"...
[14:18:00] <benh> My commit msg refers an issue and it's building up quite the long tail of "ben0x539 refered this issue in a commit" notes :(
[14:19:42] <pnkfelix> benh: I would prefer it if they did.  Redundancy does not seem like a bad thing here.
[14:20:07] <pnkfelix> benh: (I mean, I'd prefer if they did when possible/reasonable, of course)
[14:20:34] *** Quits: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Quit: Leaving)
[14:20:41] *** Joins: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[14:22:35] *** Joins: dherman (dherman@moz-BDCCF091.hfc.comcastbusiness.net)
[14:22:35] *** ChanServ sets mode: +ao dherman dherman
[14:22:59] *** Joins: skoizza (Mibbit@7EE7F610.63B79338.DDE5D3F6.IP)
[14:25:47] <cmr> ChrisMorgan: yeah. I think the allure of github is more convenience than quality (though quality was certainly a factor for a while)
[14:26:01] *** Quits: kuuranne (kuuranne@moz-C4357EA7.kapsi.fi) (Ping timeout)
[14:26:42] <cmr> ChrisMorgan: As for the bencher, Any Day Now.
[14:27:04] <ChrisMorgan> Aww, I was hoping it'd be done this year. :P
[14:27:37] <cmr> No, really any day now!
[14:27:50] <cmr> I have 382 builds and more on the way as soon as I fix the disk space problem.
[14:28:22] <ChrisMorgan> Everyone's running out of disk space :-)
[14:28:52] *** Quits: a__ (a__@moz-4CC03B10.nycmny.fios.verizon.net) (Ping timeout)
[14:29:46] <cmr> dbaupp: any problem with me changing the Config.to_move to be a glob?
[14:31:14] *** Joins: a__ (a__@moz-4CC03B10.nycmny.fios.verizon.net)
[14:31:55] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[14:33:37] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Ping timeout)
[14:34:00] *** Quits: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se) (Ping timeout)
[14:36:59] *** Quits: mark_edward_ (quassel@moz-97E995A.hsd1.in.comcast.net) (Quit: http://quassel-irc.org - Chat comfortably. Anywhere.)
[14:38:27] *** Joins: kuuranne (kuuranne@moz-C4357EA7.kapsi.fi)
[14:39:20] *** Joins: mihneadb (mihneadb@C2E95B11.18650252.A5830293.IP)
[14:39:41] <benh> http://ix.io/89X lexer errors :)
[14:41:07] <cmr> benh: did you add all those?
[14:41:28] <benh> They were there, but I added most of the "...: <actual bad code>" bits and fixed the spans
[14:41:43] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[14:42:55] *** Quits: a__ (a__@moz-4CC03B10.nycmny.fios.verizon.net) (Ping timeout)
[14:43:24] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[14:45:31] *** Joins: a__ (a__@moz-4CC03B10.nycmny.fios.verizon.net)
[14:45:42] <ChrisMorgan> RFC: scrap std::rt::io::extensions::{ReaderUtil,{Reader,Writer}ByteConversions}, putting them as default methods on Reader and Writer (as appropriate).
[14:46:54] <cmr> ChrisMorgan: I don't see why not
[14:47:06] *** Joins: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net)
[14:47:42] *** Joins: mark_edward_ (quassel@FA215F65.8CBA6D28.848BB095.IP)
[14:47:46] <bstrie> ChrisMorgan: iirc all the Util traits are supposed to be default methods, yeah
[14:48:16] <ChrisMorgan> ReaderUtil I believe that to be the case for, at least. Not certain about the ByteConversions ones, but I hope so.
[14:48:50] *** Joins: ksev (DrunkenPan@745B767B.989A61DC.CA5B6332.IP)
[14:49:05] <ChrisMorgan> Default methods also has the advantage of being able to provide the likes of a more efficient read_byte than turning it into `read(~[0u8])`, if it's possible.
[14:49:15] <benh> Right now you can bring the util traits into scope separately, right?
[14:49:32] <mark_edward_> why is ReaderUtil notimplemented using default methods?
[14:49:49] <benh> it predates default methods working
[14:49:51] <ChrisMorgan> mark_edward_: default methods are a recent addition
[14:49:59] <mark_edward_> oh, i see!
[14:50:13] <cmr> well
[14:50:16] <cmr> they existed for a while
[14:50:28] * ChrisMorgan joined up to Rust at 0.7, at which point default methods still *just* required an attribute to enable them
[14:50:40] <cmr> they were just buggy as hell
[14:50:42] <bstrie> pretty sure they didn't work in 0.7
[14:50:47] <cmr> yay sully <3
[14:50:48] <bstrie> hence the attribute
[14:51:21] *** Quits: nkoep (nik@moz-26B7076E.vpn.rwth-aachen.de) (Ping timeout)
[14:51:29] <ChrisMorgan> I found a couple of ICEy bugs in the implementation in my early rust-http work.
[14:51:43] *** Joins: maik (maik@moz-53663244.dip0.t-ipconnect.de)
[14:51:48] * ChrisMorgan likes being able to feel valued in the Rust community by producing bug reports
[14:52:53] *** Joins: cubic (cubic@moz-FE5AD6C7.mc.videotron.ca)
[14:53:30] *** Quits: maik (maik@moz-53663244.dip0.t-ipconnect.de) (Ping timeout)
[14:53:53] *** Quits: dave1629 (dave@6450DFC9.6925E1D4.DDE5D3F6.IP) (Quit: dave1629)
[14:55:55] *** ahal is now known as ahal|afk
[14:57:39] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[15:03:20] <NiccosSystem> Are there any IRC libraries for Rust yet?
[15:03:42] <bstrie> NiccosSystem: possibly very, very old bindings
[15:03:57] <NiccosSystem> I say pcwalton's but it is over a year old
[15:04:18] <bstrie> right, that's what I was thinking of
[15:06:14] *** Quits: skoizza (Mibbit@7EE7F610.63B79338.DDE5D3F6.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[15:06:42] <NiccosSystem> Maybe I should try making my own.. Not sure if that's a good idea having never dealed with the IRC protocol before really
[15:06:49] <NiccosSystem> And being new to Rust
[15:08:29] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[15:08:31] *** Quits: naq (naq@D5C2D2DF.E4265FCD.E481B5B.IP) (Ping timeout)
[15:09:00] <mark_edward_> is there a way to make a directory in rust without using std::run
[15:09:41] <pnkfelix> mark_edward: std::os::make_dir ?
[15:10:05] <NiccosSystem> Are there any suggested IDEs for Rust?
[15:10:07] *** Joins: nkoep (nik@moz-6797B832.pool.mediaways.net)
[15:10:56] *** Joins: naq (naq@D5C2D2DF.E4265FCD.E481B5B.IP)
[15:11:01] <bstrie> NiccosSystem: right now I think everyone gets by on vim, emacs, and sublime text
[15:11:08] <NiccosSystem> Ok
[15:11:19] <bstrie> ide support will come once features stabilize
[15:12:04] <mark_edward_> pnkfelix: thanks!
[15:13:25] *** Quits: penguin_dan (dan_johnsi@6902762D.11B071D.FB9A45AF.IP) (Ping timeout)
[15:13:35] *** Joins: penguin_dan (dan_johnsi@6902762D.11B071D.FB9A45AF.IP)
[15:13:40] *** Quits: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Ping timeout)
[15:15:25] *** Quits: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP) (Connection reset by peer)
[15:15:32] *** Joins: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP)
[15:16:08] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[15:16:08] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/iLF6Hw
[15:16:08] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[15:16:10] <bstrie> anyone here want to submit a one-line patch and get their name in the 0.8 contributors list? :)
[15:16:22] <bstrie> there's a broken link in the README
[15:16:42] <NiccosSystem> What about me? The guy who hasn't made a Rust program yet
[15:16:48] <bstrie> NiccosSystem: do it!
[15:16:50] <bstrie> fix the link
[15:16:53] *** Quits: ksev (DrunkenPan@745B767B.989A61DC.CA5B6332.IP) (Ping timeout)
[15:16:53] <benh> :D
[15:16:55] <bstrie> get your name forever immortalized
[15:17:11] <NiccosSystem> I need to find the broken link first
[15:17:15] <bstrie> NiccosSystem: https://github.com/mozilla/rust/blob/master/README.md
[15:17:18] <bstrie> NiccosSystem: the "tutorial" link
[15:17:27] <bstrie> NiccosSystem: should be http://static.rust-lang.org/doc/0.7/tutorial.html
[15:17:40] <benh> uh, should it really hardcode the last release number?
[15:17:42] <kimundi> 0.7?
[15:17:44] <bstrie> you can honestly probably even use github's in-browser editor
[15:17:49] <NiccosSystem> yeah
[15:17:51] <NiccosSystem> Gonna do that
[15:17:52] <bstrie> kimundi: that's what the download link is for, right above it
[15:17:55] <bstrie> so just keeping it consistent
[15:17:59] <kimundi> ah, okay
[15:18:04] <benh> ok
[15:18:10] * kimundi didn't actually click it
[15:18:27] *** Joins: nejucomo (Adium@moz-434492BB.dsl.static.sonic.net)
[15:18:29] *** Joins: yeri (yeri@437FA687.22C63A3C.A15D986E.IP)
[15:20:14] <NiccosSystem> https://github.com/mozilla/rust/pull/9326
[15:20:25] *** Joins: Yurume (yurume@AC58A8CE.8A059B47.E313B915.IP)
[15:20:59] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[15:20:59] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/p1kkTQ
[15:20:59] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[15:21:00] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[15:21:00] <ghrust> 01[13rust01] 15bors pushed 4 new commits to 06auto: 02http://git.io/4kDPFA
[15:21:00] <ghrust> 13rust/06auto 149621156 15Luqman Aden: librustc/libstd: No longer pass crate_map to start.
[15:21:00] <ghrust> 13rust/06auto 14133200a 15Luqman Aden: libstd/librustc: Make the crate_map a weak symbol that libstd links against.
[15:21:01] <ghrust> 13rust/06auto 14d3309eb 15Luqman Aden: tests: Remove crate_map from start.
[15:21:03] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[15:21:09] <bstrie> NiccosSystem: awesome, thanks!
[15:21:15] <NiccosSystem> No, thank you
[15:21:27] <bstrie> NO! THANK YOU.
[15:21:32] <bstrie> :|
[15:21:39] <NiccosSystem> My name, on a big programming language's contributor list? hell yes.
[15:22:11] <kimundi> :D
[15:22:54] *** Joins: ksev (DrunkenPan@745B767B.989A61DC.CA5B6332.IP)
[15:23:14] *** Joins: jeaye (Jeaye@moz-34FEF2BB.hsd1.ca.comcast.net)
[15:23:25] *** Joins: jdm (jdm@13F2CEC5.7672369.D8E68FF6.IP)
[15:23:25] *** ChanServ sets mode: +o jdm
[15:23:38] <NiccosSystem> is r+ like a voting thing?
[15:23:56] <bstrie> NiccosSystem: it just tells the integration bot that someone with authority has reviewed the patch
[15:24:04] <NiccosSystem> ah, okay
[15:24:24] <bstrie> NiccosSystem: you can observe the integration queue here: http://buildbot.rust-lang.org/bors/bors.html
[15:24:58] *** Quits: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net) (Ping timeout)
[15:25:30] <benh> How many people have authority these days?
[15:26:47] <bstrie> I've forgotten how to check
[15:27:14] *** Quits: MrOrdinaire (Mibbit@1A659656.A607747.FD383126.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[15:30:54] <bstrie> thought for a second that rust was he most popular of mozilla's github repositories, but then realized that PDF.js is twice as popular ;_;
[15:32:11] *** Joins: lkuper (lkuper@9BB8F9B3.B3B038F7.A810CD69.IP)
[15:32:16] <NiccosSystem> http://puu.sh/4v6Kx.png
[15:32:21] <NiccosSystem> dat lowercase 'a'...
[15:33:24] *** Quits: StarLight (StarLight@moz-47A2F49B.dynamic.avangarddsl.ru) (Ping timeout)
[15:33:35] *** ahal|afk is now known as ahal
[15:34:13] <bstrie> NiccosSystem: all the cool kids these days speak only in lowercase
[15:34:19] *** Joins: nsf (nsf@moz-EEF3238A.convex.ru)
[15:34:56] <NiccosSystem> Too bad :-\
[15:36:15] <benh> Hopefully we can upgrade from PDF.js to PDF.rs soon~
[15:37:18] *** Joins: MrOrdinaire (Mibbit@1A659656.A607747.FD383126.IP)
[15:37:32] *** Joins: StarLight (StarLight@moz-7FA5607.dynamic.avangarddsl.ru)
[15:37:37] *** Joins: SingingBoyo (singingboy@DAC9C672.CE76D40F.4F048BDC.IP)
[15:38:20] *** jorendorff is now known as jorendorff-away
[15:41:01] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[15:41:01] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14061d497 to 14da29a8e: 02http://git.io/N3iJvQ
[15:41:01] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[15:41:03] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[15:41:03] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/hRYT3g
[15:41:03] <ghrust> 13rust/06auto 143bd0eb9 15Brian Anderson: 0.8 release notes
[15:41:03] <ghrust> 13rust/06auto 14068e042 15bors: auto merge of #9313 : brson/rust/relnotes, r=thestinger
[15:41:03] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[15:42:08] *** Quits: moot (Mibbit@moz-5256162B.hsd1.ca.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[15:44:51] *** Quits: ksev (DrunkenPan@745B767B.989A61DC.CA5B6332.IP) (Ping timeout)
[15:44:55] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[15:47:05] *** Joins: huseby (huseby@19BD73A1.5D8BCA3A.A0C1B52F.IP)
[15:47:19] *** Quits: Ralith (ralith@moz-A7071297.customer.broadstripe.net) (Ping timeout)
[15:50:31] <amatus> i seem to be calling rustc incorrectly for cross-compiling: https://gist.github.com/amatus/6625495
[15:51:00] *** Quits: MrOrdinaire (Mibbit@1A659656.A607747.FD383126.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[15:51:27] <bstrie> amatus: hm, I'm not sure who here has experience compiling for arm
[15:51:51] *** Quits: lkuper (lkuper@9BB8F9B3.B3B038F7.A810CD69.IP) (Ping timeout)
[15:51:57] *** Quits: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP) (Ping timeout)
[15:52:02] *** Joins: lkuper (lkuper@F7BFB51E.A0D37E9B.51B6877.IP)
[15:52:18] *** Joins: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP)
[15:52:39] <amatus> my arm-unknown-linux-gnueabihf-gcc understands -marm
[15:52:43] <amatus> i don't know what cc it's trying to run
[15:54:14] *** Quits: nejucomo (Adium@moz-434492BB.dsl.static.sonic.net) (Quit: Leaving.)
[15:54:26] <pnkfelix> amatus: probably the one on your PATH, if any is there
[15:54:53] <pnkfelix> amatus: if you do `rustc -Z print-link-args â€¦` then you'll see the command line that rustc is using
[15:55:02] <amatus> thanks
[15:55:23] *** Joins: Ralith (ralith@moz-A7071297.customer.broadstripe.net)
[15:55:30] <pnkfelix> amatus: and you can use `â€”linker` and `-link-args` to override that
[15:55:31] *** Joins: Shaladdle (anonymous@3A2BA856.CD72397.689607DE.IP)
[15:56:28] <amatus> pnkfelix: that just printed out the same args from the error message, no arg[0]
[15:56:41] <pnkfelix> amatus: you don't see `cc` in the message?
[15:56:58] <pnkfelix> amatus: oh you're right
[15:57:23] <pnkfelix> amatus: okay, fallback plan: use `strace` to find out which file its opening as the linker.  :(
[15:57:30] <amatus> actually, i do have a 'cc' command
[15:57:50] <pnkfelix> amatus: you'll probably want to override the `â€”linker` in any case
[15:59:09] <amatus> is that supposed to be --linker? or does an em dash really work?
[15:59:25] <pnkfelix> amatus: my IRC client is "auto-correcting"
[15:59:31] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[15:59:57] *** Joins: hoverbear (andrew@EBFA78B5.F19E5E7B.E74D50F2.IP)
[15:59:59] <amatus> yay, now i get an internal compiler error
[16:00:34] *** Quits: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP) (Ping timeout)
[16:00:48] <bstrie> haha
[16:00:49] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[16:00:54] <amatus> gist updated
[16:00:56] <bstrie> progress!
[16:01:01] *** Quits: ahal (ahal@13F2CEC5.7672369.D8E68FF6.IP) (Input/output error)
[16:01:41] <pnkfelix> amatus: it might be that `rustc` isn't prepared to handle a linker returning non-zero exit status.
[16:01:47] *** Quits: Shaladdle (anonymous@3A2BA856.CD72397.689607DE.IP) (Quit: Shaladdle)
[16:02:10] *** Quits: echristo (echristo@60A74940.D6CCE4AE.77834EAA.IP) (Quit: echristo)
[16:02:37] *** Joins: ahal (ahal@13F2CEC5.7672369.D8E68FF6.IP)
[16:02:45] *** Quits: yeri (yeri@437FA687.22C63A3C.A15D986E.IP) (Quit: Colloquy for iPhone - http://colloquy.mobi)
[16:02:47] <amatus> RUST_LOG=rustc=1 reveals note: task <unnamed> failed at 'failure in execvp: No such file or directory', /home/amatus/rust/src/libstd/run.rs:693
[16:03:08] *** Quits: SingingBoyo (singingboy@DAC9C672.CE76D40F.4F048BDC.IP) (Ping timeout)
[16:04:06] <amatus> oh... my fault
[16:04:37] *** Joins: nejucomo (Adium@moz-A94CACD5.dsl.pltn13.sbcglobal.net)
[16:04:39] <amatus> SUCCESS!!!
[16:04:46] <kimundi> !
[16:04:55] *** Joins: nano (nano@moz-74CAD1CA.superkabel.de)
[16:04:56] <bstrie> huzzah
[16:05:40] *** Quits: sebcrozet (sebcrozet@moz-3CE49532.lrde.epita.fr) (Ping timeout)
[16:05:52] *** Joins: carllerche (carllerche@6B070D22.7E6A0813.1428D117.IP)
[16:06:36] *** Joins: MrOrdinaire (Mibbit@1A659656.A607747.FD383126.IP)
[16:06:39] <amatus> shall i create an issue on github that ./configure should probably bake the correct linker into rustc?
[16:07:12] <bstrie> please do
[16:07:30] <pnkfelix> i dunno, I feel like that could be a rathole
[16:07:41] <pnkfelix> but certainly the current situation is not good
[16:08:03] <bstrie> then I'd prefer to have an issue that's closed with the comment "this is a rathole" than to not have an issue at all
[16:08:03] <amatus> most people don't have a multiarch 'cc' and instead have seperate toolchains
[16:08:22] *** Joins: bent (chatzilla@moz-BE33DA21.fw1.sfo1.mozilla.net)
[16:08:29] *** Joins: ozten (ozten@19BD73A1.5D8BCA3A.A0C1B52F.IP)
[16:08:34] *** Quits: bent (chatzilla@moz-BE33DA21.fw1.sfo1.mozilla.net) (Quit: ChatZilla 0.9.90.1-rdmsoft [XULRunner 22.0/20130619132145])
[16:08:45] *** Joins: binroot (Mibbit@91498D7F.DFC22EFB.DDE5D3F6.IP)
[16:09:28] *** Quits: Larry (larryfox@moz-343B6F0C.nyc.biz.rr.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[16:09:45] *** Quits: binroot (Mibbit@91498D7F.DFC22EFB.DDE5D3F6.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[16:13:34] <amatus> issue created
[16:13:41] <amatus> https://github.com/mozilla/rust/issues/9328
[16:13:45] <bstrie> thanks
[16:13:56] *** Joins: bent (chatzilla@moz-BE33DA21.fw1.sfo1.mozilla.net)
[16:14:32] *** jorendorff-away is now known as jorendorff_away
[16:15:00] <benh> Is it intentional that rustpkg tests(?) leave directories with files behind in /tmp?
[16:15:32] <bstrie> not sure
[16:15:34] <benh> not sure what the etiquette regarding temporary files is
[16:15:44] <amatus> :( the armhf binary does not execute on my rasberry pi: Illegal instruction
[16:15:51] <cmr> benh: no, someone had cleaned up all the leftovers, but it seems more leaked out :(
[16:16:16] <pnkfelix> amatus: I thought the rasberry pi did not have hardware floating point ?
[16:16:39] <pnkfelix> amatus: i.e. I think you would need gnuabi-blahblah-arm, not armhf ?
[16:17:17] <amatus> it does, they just weren't using it by default for some reason, the default rasbian is not armhf
[16:17:25] <amatus> s/not/now/
[16:17:38] <pnkfelix> amatus: ah, I'll have to upgrade
[16:17:41] <benh> I had like ~20M worth of dirs ending in _workspace in /tmp, and there's still like 38M in randomly named dirs :(
[16:18:07] <amatus> let's see what gdb says about this illegal instruction
[16:18:59] <amatus> => 0xb6a59d24 <call_gmon_start+8>: cbz r3, 0xb6a59d2a <call_gmon_start+14>
[16:19:18] <pnkfelix> amatus: oh wait, there's also the issue that the raspberry pi uses arm v6
[16:19:39] <pnkfelix> amatus: What arm version do we target by default?
[16:19:51] <amatus> idk @_@
[16:20:12] *** Joins: Larry (larryfox@moz-343B6F0C.nyc.biz.rr.com)
[16:20:26] *** Quits: MrOrdinaire (Mibbit@1A659656.A607747.FD383126.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[16:20:51] *** Quits: nano (nano@moz-74CAD1CA.superkabel.de) (Connection reset by peer)
[16:21:45] <pnkfelix> amatus: I think we target armv7.  I'm trying to determine ...
[16:22:31] *** Quits: KindOne (KindOne@moz-8A3F01C3.dynamic.ip.windstream.net) (Ping timeout)
[16:22:34] <amatus> hrm, i wonder if the problem is that we're trying to branch to a thumb instruction
[16:23:17] <klutzy> amatus: did you passed --linker= option to rustc?
[16:23:30] <amatus> klutzy: yes
[16:23:50] <amatus> my command line was: rustc --linker arm-linux-gnueabihf-gcc --target arm-unknown-linux-gnueabihf x.rs
[16:24:06] <amatus> then i copied x and the arm-unknown-linux-gnueabihf libs to the target
[16:24:28] *** Joins: dave1629 (dave@moz-64AFC496.bootp.virginia.edu)
[16:24:32] *** Joins: eugals (Miranda@4EAF0513.DB0130CE.2613BDDB.IP)
[16:25:21] <klutzy> if I remember correctly, rustc will use custom linker instead of "cc" if --linker is given explicitly
[16:25:59] <amatus> yes, i passed the correct linker and it worked
[16:26:20] <amatus> now i'm having cpu mismatch issues :(
[16:26:37] *** Joins: KindOne (KindOne@moz-789BE10E.dynamic.ip.windstream.net)
[16:26:55] *** Quits: dave1629 (dave@moz-64AFC496.bootp.virginia.edu) (Quit: dave1629)
[16:27:06] <klutzy> so issue 9328 means.. we should use other linker even if only --target is given, right?
[16:27:18] <amatus> oh, yes
[16:27:27] <amatus> it should key off of --target to pick the right linker
[16:28:10] *** jorendorff_away is now known as jorendorff
[16:28:24] <amatus> and FYI, the --target option should be renamed to --host
[16:29:45] <amatus> or... that's the nomenclature configure scripts use, i actually don't know what compilers normally use
[16:30:26] *** Quits: paulproteus (quassel@rose.makesad.us) (Ping timeout)
[16:31:01] <pnkfelix> amatus: I think our goal has to been to get to a Canadian Cross: http://en.wikipedia.org/wiki/Cross_compiler#Canadian_Cross but I do not remember how well the configure options match/fail-to-match the Makefile internals.
[16:31:21] *** Joins: paulproteus (quassel@moz-E86A3B42.makesad.us)
[16:31:21] *** Joins: sinma (sinma@moz-6A11C47C.fbx.proxad.net)
[16:31:29] <amatus> i think the options so your configure script are named right
[16:31:40] <klutzy> on cpu mismatch: rpi has hard float, but it is only available if your os permits
[16:31:53] <klutzy> if you installed debian and not raspbian, it uses soft float
[16:32:06] <amatus> since i'm on x86, i want rustc to run on x86, but i want it to build for arm, i would specify build=x86 host=x86 target=arm
[16:32:30] *** ahal is now known as ahal|lunch
[16:32:31] <sinma> hello, anybody what features will be added to Rust in the near future to 0.9?
[16:32:55] <amatus> but when i'm configuring my rust program, i would say build=x86 host=arm and not specify target because my rust program does not emit code
[16:32:58] *** Joins: riley (riley@8BA43816.9AA11D69.65DDFA89.IP)
[16:33:08] <sinma> That would be very nice to have an overview of what is being worked on
[16:33:43] <amatus> klutzy: i installed raspbian and encoded some mp3s at speeds indicitive of hardware float support :)
[16:34:46] *** Quits: Ralith (ralith@moz-A7071297.customer.broadstripe.net) (Ping timeout)
[16:35:29] <eugals> I've made my first Pull Request on GitHub. (https://github.com/mozilla/rust/pull/9297)
[16:35:30] <eugals> My problem is, for some reason, I don't receive any e-mail notifications when @bors comments it with "repo collab".
[16:35:30] <eugals> Everything worked well when @pcwalton and @alexcrichton made their comments though.
[16:35:30] <eugals> Is it a GitHub bug or am I doing something wrong?
[16:36:20] *** Joins: echristo (echristo@60A74940.D6CCE4AE.77834EAA.IP)
[16:36:36] <cmr> sinma: whatever people work on. there was a site where the core devs put what they did during the week, but I can't find it atm
[16:37:29] <cmr> Oh, here it is! http://benjamin.smedbergs.us/weekly-updates.fcgi/
[16:37:37] <cmr> http://benjamin.smedbergs.us/weekly-updates.fcgi/project/rust
[16:38:26] <amatus> hrm, rpi should have thumb2 instructions
[16:39:14] *** Joins: tgummerer (tgummerer@51D3B54.FEF996EA.EA6FEF3D.IP)
[16:39:25] <cmr> eugals: looks all good to me, probably github
[16:39:29] <amatus> it's armv6 with thumb2 and security extensions
[16:39:34] *** Quits: heftig (heftig@moz-5D7BB4C1.dip0.t-ipconnect.de) (Ping timeout)
[16:40:26] *** Joins: eholk (eholk@moz-F70D5031.hsd1.in.comcast.net)
[16:40:29] *** Joins: heftig (heftig@moz-5D7BB4C1.dip0.t-ipconnect.de)
[16:40:54] *** Joins: Ralith (ralith@moz-A7071297.customer.broadstripe.net)
[16:41:21] <nejucomo> The macro tutorial doesn't explain the scope of macros.  Are they valid within their entire definition file?  Only after their definition?  Within the defining crate?  Something else?
[16:41:42] <cmr> nejucomo: currently, innermost enclosing scope
[16:41:52] <cmr> But you can smack on the #[macro_escape] attribute to leak by one scope.
[16:42:00] <nejucomo> cmr: Thanks.
[16:42:03] <pauls> It's ongoing work to do macro scope/export/import right.
[16:42:10] <kimundi> nejucomo: ^ that + the ability to let it escape that scope as a hack around not being able to import/export them
[16:42:40] <sinma> cmr: great!
[16:42:43] *** Quits: Ralith (ralith@moz-A7071297.customer.broadstripe.net) (Ping timeout)
[16:42:49] <nejucomo> Is there a goal to make "exportable" macros that appear to live in a crate path?  ie: extern mod somelib; somelib::foo::thingy!( â€¦ )
[16:42:58] <kimundi> nejucomo: plan yes
[16:43:19] <kimundi> nejucomo: We definitly want to be able to just import/export macros
[16:43:36] <kimundi> It's just ... complicated to do the way the compiler is structured 
[16:44:00] <nejucomo> Would the relevant tickets be mostly tagged with A-syntaxext ?
[16:44:06] <nejucomo> -or A-parser ?
[16:44:09] <pauls> nejucomo: the former
[16:44:34] <pauls> (some of them used to be tagged A-macos...
[16:44:34] <jorendorff> does this cause an ICE for anyone else?
[16:44:35] <jorendorff> https://gist.github.com/jorendorff/6626220
[16:44:37] <nejucomo> Ok.
[16:44:53] *** Quits: Earnestly (earnest@moz-BE290A2B.dyn.plus.net) (Ping timeout)
[16:44:56] <pauls> ...until someone pointed out that was an operating system, not a typo for "macros")
[16:44:59] <jorendorff> rebuilding rust now to see.
[16:45:39] <pauls> (actually I'm not even sure I thought it was a typo. I may have thought I was tagging them "A-macros")
[16:46:15] *** Joins: MrOrdinaire (Mibbit@1A659656.A607747.FD383126.IP)
[16:46:43] *** Quits: Larry (larryfox@moz-343B6F0C.nyc.biz.rr.com) (Quit: Textual IRC Client: www.textualapp.com)
[16:47:06] <MrOrdinaire> hi, I'm trying to #[deriving(IterBytes)] on an enum but got multiple applicable methods. Could anyone help me with this?
[16:47:43] <nejucomo> Does #[macro_escape] allow macros to be used outside of a crate?  (ie: Is it possible to make a "macro library"?)
[16:50:19] *** Joins: Larry (larryfox@moz-343B6F0C.nyc.biz.rr.com)
[16:50:52] * nejucomo adds https://github.com/mozilla/rust/issues/9329
[16:51:02] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[16:51:03] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/hRYT3g
[16:51:03] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[16:52:43] <amatus> cbz is supposedly ARMv6T2, should be supported
[16:53:43] *** Quits: eholk (eholk@moz-F70D5031.hsd1.in.comcast.net) (Quit: eholk)
[16:54:21] <kimundi> MrOrdinaire: Do you already implement IterBytes manually?
[16:54:29] <MrOrdinaire> kimundi: no, I don't
[16:54:33] <kimundi> nejucomo: No
[16:54:45] <kimundi> nejucomo: It'S only a hack
[16:54:47] <MrOrdinaire> kimundi: I thought #[deriving] is for auto deriving?
[16:55:05] <kimundi> MrOrdinaire: It is, but I just wanted to make sure that'S not it :)
[16:55:23] <kimundi> MrOrdinaire: Can you paste the complete error message somewhere?
[16:56:01] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[16:56:01] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/fYXJhA
[16:56:01] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[16:56:01] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[16:56:01] <ghrust> 01[13rust01] 15bors pushed 3 new commits to 06auto: 02http://git.io/zhZgCA
[16:56:01] <ghrust> 13rust/06auto 145ab843f 15Erick Tryzelaar: std: Remove Option.or_{default,zero}...
[16:56:01] <ghrust> 13rust/06auto 141a90f24 15Erick Tryzelaar: extra: minor cleanup of Zero and Default syntax extension
[16:56:02] <ghrust> 13rust/06auto 14755f622 15bors: auto merge of #9279 : erickt/rust/master, r=alexcrichton...
[16:56:04] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[16:56:27] <MrOrdinaire> kimundi: I got a fix. I added i to the constants. Some thing like this.
[16:56:33] <MrOrdinaire> rusti: #[deriving(Eq, IterBytes)] pub enum Signum {     Interrupt = 2i,     Break = 21i,     HangUp = 1i,     WindowSizeChange = 28i, }
[16:57:04] *** Joins: skoiza (Mibbit@743AE9BC.225D6113.DDE5D3F6.IP)
[16:57:07] *** Quits: skoiza (Mibbit@743AE9BC.225D6113.DDE5D3F6.IP) (Quit: skoiza)
[16:57:18] *** Joins: skoizza (Mibbit@743AE9BC.225D6113.DDE5D3F6.IP)
[16:57:21] *** Joins: nano (nano@moz-74CAD1CA.superkabel.de)
[16:57:24] <kimundi> MrOrdinaire: Ah, yeah. There are still bugs with custom set discriminants.
[16:58:09] <skoizza> Im getting an error that says mutable variables cannot be implicitly captured, anyone know whats causing this?
[16:58:40] <kimundi> skoizza: You're capturing an 'let mut' binding inside of a owned closure
[16:59:42] <skoizza> is there anyway to do that? Currently I have let mut argv where argv is a list of arguments, and I need to pass that vector to a new thread via std::task::spawn_sched
[17:00:12] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[17:00:21] <kimundi> which is forbidenn because a capture moves/implicitly copies the thing into the closure. The mutability of the original location is irrelevant, but people might think that they can mutate the original element if they capture an let mut, so that's been explicitly forbidden.
[17:00:26] <josh> is there no longer a function to convert a string to lower case?
[17:00:40] *** Joins: miza (miza@moz-908EA8DE.home.otenet.gr)
[17:01:24] <kimundi> josh: Not on string itself. We don't support full unicode case folding yet, the old ones just did horrible things with the libc upper/lower case functions
[17:01:52] *** Quits: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP) (Quit: Leaving.)
[17:01:54] <MrOrdinaire> kimundi: thanks anyway :)
[17:02:06] *** Joins: tjc (tjc@moz-6EB4E533.dsl.tsoft.com)
[17:02:06] *** ChanServ sets mode: +o tjc
[17:02:18] <kimundi> josh: Right now you have the option of converting the whole string to a ~[Ascii], and changing it to upper/lower, or to only map the ascii codepoints in it to upper/lower. For both, look into std::ascii
[17:02:50] <josh> kimundi: thanks
[17:02:54] <jorendorff> yup, it's still an ICE
[17:03:15] *** Joins: ksev (DrunkenPan@745B767B.989A61DC.CA5B6332.IP)
[17:03:31] <kimundi> skoizza: Passing it to the task should work without problem, as long as you move the ownership into that new task
[17:03:47] <skoizza> kimundi how do I move ownership?
[17:03:56] *** Joins: brendan (brendaneic@7549D0F3.8C4047A8.7E5C23C9.IP)
[17:03:58] <kimundi> skoizza: Just need to rebind it as an immutable variable beforehand, and maybe rebind it as mutable again inside the task body
[17:04:13] <nejucomo> Anyone care to help me understand a home-made macro expansion warning: http://sebsauvage.net/paste/?1ec0768be7bca2f9#U2+2Rj019PxKeRdnArh3fAQWQwQGHcUJooUnS7KFDZg=
[17:04:41] <skoizza> kimundi rebind as in declare a new var or whats the syntax for rebinding, just let argv = ...?
[17:04:45] <kimundi> let x = ~[1, 2, 3]; do task::spawn { let y = x; // captured and transfered ownership of x int the task here }
[17:05:02] <skoizza> kimundi ah thanks
[17:05:19] *** sankha93 is now known as sankha93|afk
[17:05:21] *** Joins: maik (maik@moz-F4777195.dip0.t-ipconnect.de)
[17:05:35] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[17:06:02] *** Joins: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP)
[17:06:04] <pauls> odd
[17:06:08] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[17:06:08] *** ChanServ sets mode: +ao brson brson
[17:06:39] *** Quits: fread2281 (zcarterc@moz-CB181B42.dia.static.qwest.net) (Ping timeout)
[17:07:12] *** Joins: Kruppe (user@moz-33B62233.net.uwaterloo.ca)
[17:07:14] *** Joins: robarnold (rob@moz-59F6B5.hfc.comcastbusiness.net)
[17:07:26] <pauls> nejucomo: My first thought is that this is a bug in hygiene. But the uses of `v` aren't undefined??
[17:07:32] <nejucomo> Well, one issue might be that the function is receiving an &(T, K) -but binds the argument as (a, b).  Is that possible?
[17:07:42] <kimundi> skoizza: Note that only types with an destructor actually _move_. If you try that above with a simple, implicit copyable type it will still work, but you can still access the original x.
[17:07:43] *** Quits: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP) (Quit: Leaving.)
[17:07:44] *** Quits: mihneadb (mihneadb@C2E95B11.18650252.A5830293.IP) (Input/output error)
[17:07:46] <pauls> nejucomo: could you paste the `--pretty expanded` version?
[17:07:47] *** Joins: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[17:07:57] <jorendorff> filed #9330
[17:08:07] <kimundi> skoizza: outside the task body, that is
[17:08:31] <nejucomo> pauls: I renamed v to a_very_unique_identifier_found_nowhere_else_in_this_file and get the same warning.
[17:08:37] <nejucomo> pauls: ok.
[17:08:55] *** Joins: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP)
[17:09:22] <pauls> nejucomo: my thinking was that hygiene was mistakenly separating the two `v`s because it doesn't interpret the `let` correctly or something.
[17:09:26] <pauls> Hm.
[17:09:47] <pauls> nejucomo: Oh, you're hitting a different, known, bug!
[17:10:20] *** Joins: fread2281 (zcarterc@moz-CB181B42.dia.static.qwest.net)
[17:10:37] <nejucomo> Hmâ€¦  two things surprise me about the expansion: http://sebsauvage.net/paste/?27be052b33d324e0#CY8py3vsQuDFEeVLP2LjOGXLh7azxi372/KUUwSmE5g=
[17:10:43] <pauls> nejucomo: https://github.com/mozilla/rust/issues/8012 https://github.com/mozilla/rust/issues/4375
[17:11:09] * nejucomo reads tickets...
[17:11:16] *** Joins: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP)
[17:11:21] <pauls> nejucomo: As a workaround (actually, this may be required, even after the bugs in question are fixed), add another layer of {} around the RHS of the macro definition.
[17:12:46] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[17:13:43] <nejucomo> Hm.  Can the thing to the right of => be wrapped *either* in () or {}?  Is that delimitation part of the macro definition and not part of the expansion?
[17:14:04] <pauls> nejucomo: Yes. The former.
[17:14:09] *** ahal|lunch is now known as ahal
[17:14:28] <pauls> Which is confusing, but sort of necessary for technical parsing reasons that I don't remember.
[17:14:51] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[17:15:18] *** Joins: eatkinson (eatkinson@moz-D86C5DB2.airbears2.berkeley.edu)
[17:15:59] <pauls> Oh, right, it's because macros sometimes expand into things (currently only statements, but there may be more in the future) that cannot be safely wrapped in either `()` or `{}`.
[17:16:58] *** Quits: fread2281 (zcarterc@moz-CB181B42.dia.static.qwest.net) (Ping timeout)
[17:17:07] <nejucomo> Hrm.  What' the correct syntax for what I'm attempting:  |(a: uint, b: uint)| { a < b }
[17:17:54] <nejucomo> Ahâ€¦  It's this:  |(t, b): (uint, uint)| { t < b }
[17:18:08] *** Quits: sinma (sinma@moz-6A11C47C.fbx.proxad.net) (Ping timeout)
[17:18:14] *** Joins: dave1629 (dave@B46FF292.65B70227.DDE5D3F6.IP)
[17:19:44] <skoizza> what module should I use if I am trying to listen for key strokes, say control+c?
[17:20:43] *** Joins: sinma (sinma@moz-6A11C47C.fbx.proxad.net)
[17:20:53] *** Quits: brendan (brendaneic@7549D0F3.8C4047A8.7E5C23C9.IP) (Quit: brendan)
[17:21:10] *** Joins: brendan (brendaneic@7549D0F3.8C4047A8.7E5C23C9.IP)
[17:23:07] *** Joins: tiffany (kawaii@moz-EB8B0C08.dhcp.embarqhsd.net)
[17:24:57] *** Quits: brendan (brendaneic@7549D0F3.8C4047A8.7E5C23C9.IP) (Quit: brendan)
[17:25:15] *** Quits: canhtak (jeremy@moz-44AEB22E.wl.t.ulaval.ca) (Quit: canhtak)
[17:25:17] *** Joins: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com)
[17:25:17] *** ChanServ sets mode: +ao pcwalton pcwalton
[17:27:53] *** Quits: nejucomo (Adium@moz-A94CACD5.dsl.pltn13.sbcglobal.net) (Quit: Leaving.)
[17:31:19] *** Quits: fabiand (fabiand@moz-2887F4D0.adsl.alicedsl.de) (Quit: Verlassend)
[17:32:15] *** Quits: echristo (echristo@60A74940.D6CCE4AE.77834EAA.IP) (Quit: echristo)
[17:32:37] *** Quits: CarpNet (ac@moz-FD24B77.sohonet.co.uk) (Quit: Leaving)
[17:32:47] *** Quits: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP) (Quit: Leaving.)
[17:33:05] <josh> frustrating that iterating over a ~[u8] with a for loop means dealing with a variable of type &u8, is there a cleaner way to do this so the variable is just the contents, the u8?
[17:33:47] <olsonjeffery> josh: you're getting a &u8 because other you'd have to copy the contents for every iteration
[17:33:58] <olsonjeffery> and you can't move each value of the vec as you iterate through it
[17:34:03] *** Quits: tgummerer (tgummerer@51D3B54.FEF996EA.EA6FEF3D.IP) (Ping timeout)
[17:34:11] <josh> is there a clean way if you don't care about the copy?
[17:35:16] *** sankha93|afk is now known as sankha93
[17:37:27] *** Joins: steven_is_false (user@C5B76363.1FF1EBF8.1ECA502.IP)
[17:38:33] *** Joins: tgummerer (tgummerer@51D3B54.FEF996EA.EA6FEF3D.IP)
[17:38:35] *** Joins: echristo (echristo@DCF57675.D6CCE4AE.77834EAA.IP)
[17:38:46] <kimundi> josh: For implicit copyable types like u8, you can just dereference the &u8. It will give you a copy, which in this case wouldn't make any difference
[17:39:22] <olsonjeffery> josh: what do you need a u8 value? have you ccrafted functions that take u8 by-val?
[17:39:22] <josh> yeah, just wish there was a way to avoid this pattern:
[17:39:42] <olsonjeffery> if so, maybe look at making your fns take &u8 as well..?
[17:39:46] <josh>         for i in b.iter() {
[17:39:46] <josh>             let i_deref = *i;
[17:39:59] <kimundi> for i in range(0u8, 200u8) { ... *i ... } or for &i in range(0u8, 200u8) { ... i ... }
[17:40:03] <olsonjeffery> not trying to get caught up in semantics or distract from your question..
[17:40:18] *** Quits: echristo (echristo@DCF57675.D6CCE4AE.77834EAA.IP) (Ping timeout)
[17:40:19] <kimundi> josh: No need for an explicit local variable
[17:40:23] <josh> my functions already take &[u8]
[17:40:39] <josh> if I don't write the explicit local variable I have to write *i everywhere
[17:40:57] <kimundi> josh: OR you pattern match on the binding
[17:41:09] <kimundi> josh: see the second for loop above
[17:41:39] <josh> thanks for your help
[17:41:39] <kimundi> let &i = &5u8; == let i = 5u8;
[17:41:45] *** Joins: Shaladdle (anonymous@15BAB5A9.50DE5ADF.689607DE.IP)
[17:41:48] <kimundi> or rather
[17:41:49] <josh> I think I get it now
[17:41:56] <kimundi> let &i = &5u8; == let i = *&5u8;
[17:42:26] *** Quits: MrOrdinaire (Mibbit@1A659656.A607747.FD383126.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[17:42:26] <kimundi> anyway, it only dereferences and copies once, at the point of the binding
[17:42:31] *** Joins: canhtak (jeremy@moz-44AEB22E.wl.t.ulaval.ca)
[17:42:51] *** Quits: robertknight (robertknig@moz-54528EE0.wby.mendeley.com) (Ping timeout)
[17:43:28] *** Quits: ksev (DrunkenPan@745B767B.989A61DC.CA5B6332.IP) (Ping timeout)
[17:44:42] *** Joins: nejucomo (Adium@moz-434492BB.dsl.static.sonic.net)
[17:49:06] *** Joins: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP)
[17:50:31] *** Quits: skoizza (Mibbit@743AE9BC.225D6113.DDE5D3F6.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[17:51:12] *** Quits: Kruppe (user@moz-33B62233.net.uwaterloo.ca) (Ping timeout)
[17:52:10] *** Quits: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[17:52:59] *** Joins: voxpopuli (fanservice@3E0CB620.A20172C.689607DE.IP)
[17:53:33] *** Joins: fread2281 (zcarterc@moz-CB181B42.dia.static.qwest.net)
[17:56:15] *** Quits: heftig (heftig@moz-5D7BB4C1.dip0.t-ipconnect.de) (Ping timeout)
[17:56:53] *** Joins: heftig (heftig@moz-5D7BB4C1.dip0.t-ipconnect.de)
[17:56:55] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[17:57:22] <tjc> 7981
[17:57:25] <tjc> oops sry
[17:57:43] *** Quits: maik (maik@moz-F4777195.dip0.t-ipconnect.de) (Ping timeout)
[17:57:54] *** Joins: tikue_ (tkuehn@787D2D52.F3E8A984.689607DE.IP)
[17:58:42] *** Quits: eatkinson (eatkinson@moz-D86C5DB2.airbears2.berkeley.edu) (Quit: eatkinson)
[17:59:35] <cmr> It's nice for there to be a traige meeting and I don't get dozens of emails from github.
[17:59:48] <cmr> Also nice nto spending two hours a week on triage :p
[18:00:13] *** Joins: Kruppe (user@moz-253119B0.esg.uwaterloo.ca)
[18:00:54] *** Joins: aeqwa (aeqwa@moz-ABA21D72.dsl.tropolys.de)
[18:00:57] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[18:05:23] *** Joins: yeri (yeri@437FA687.22C63A3C.A15D986E.IP)
[18:05:59] *** Quits: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com) (Quit: pcwalton)
[18:06:02] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[18:06:02] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/zhZgCA
[18:06:02] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[18:06:12] *** Quits: heftig (heftig@moz-5D7BB4C1.dip0.t-ipconnect.de) (Ping timeout)
[18:08:05] *** Joins: heftig (heftig@moz-5D7BB4C1.dip0.t-ipconnect.de)
[18:08:19] *** Quits: yeri (yeri@437FA687.22C63A3C.A15D986E.IP) (Quit: Colloquy for iPhone - http://colloquy.mobi)
[18:10:05] *** Quits: heftig (heftig@moz-5D7BB4C1.dip0.t-ipconnect.de) (Ping timeout)
[18:11:03] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[18:11:03] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/OdDnLQ
[18:11:03] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[18:11:03] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[18:11:03] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/rMJWcQ
[18:11:03] <ghrust> 13rust/06auto 142f845a5 15Alex Crichton: Renumber the lang items correctly...
[18:11:03] <ghrust> 13rust/06auto 1485c0fb7 15bors: auto merge of #9295 : alexcrichton/rust/fix-lang-items, r=thestinger...
[18:11:04] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[18:11:05] *** Joins: heftig (heftig@moz-5D7BB4C1.dip0.t-ipconnect.de)
[18:11:15] <tjc> brson: r? https://github.com/mozilla/rust/pull/9322
[18:11:52] *** Quits: nielsle_ (nielsle@moz-5CE8ECCD.boa.fiberby.dk) (Quit: Ex-Chat)
[18:12:10] *** Quits: ceninan (ceninan@moz-6BD43586.a370.priv.bahnhof.se) (Client exited)
[18:13:02] *** Joins: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com)
[18:13:02] *** ChanServ sets mode: +ao pcwalton pcwalton
[18:13:06] *** Quits: Kruppe (user@moz-253119B0.esg.uwaterloo.ca) (Client exited)
[18:18:17] *** Joins: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP)
[18:19:51] *** Joins: Kruppe (user@moz-253119B0.esg.uwaterloo.ca)
[18:20:15] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[18:20:27] *** Quits: six600110 (six600110@moz-2FA48202.neo.res.rr.com) (Ping timeout)
[18:20:57] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[18:20:57] *** Quits: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca) (Ping timeout)
[18:21:05] *** Joins: jviereck (Adium@moz-2E6DC681.dip0.t-ipconnect.de)
[18:21:28] *** Quits: tikue_ (tkuehn@787D2D52.F3E8A984.689607DE.IP) (Quit: tikue_)
[18:21:53] *** Quits: Yurume (yurume@AC58A8CE.8A059B47.E313B915.IP) (Ping timeout)
[18:22:59] *** Joins: tikue_ (tkuehn@787D2D52.F3E8A984.689607DE.IP)
[18:24:53] *** Quits: tikue_ (tkuehn@787D2D52.F3E8A984.689607DE.IP) (Quit: tikue_)
[18:25:08] *** Joins: tikue_ (tkuehn@787D2D52.F3E8A984.689607DE.IP)
[18:26:04] *** Quits: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP) (Ping timeout)
[18:27:38] *** Quits: tgummerer (tgummerer@51D3B54.FEF996EA.EA6FEF3D.IP) (Ping timeout)
[18:29:30] *** Joins: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP)
[18:29:46] *** Joins: ksev (DrunkenPan@745B767B.989A61DC.CA5B6332.IP)
[18:32:32] *** Quits: sigma (sigma@51C589B3.EF2694B5.DFAC6AA7.IP) (Quit: Leaving.)
[18:34:57] *** Joins: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP)
[18:35:13] *** Quits: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP) (Quit: Leaving)
[18:36:07] *** Joins: six600110 (six600110@moz-2FA48202.neo.res.rr.com)
[18:39:21] <tikue_> hey guys, what did getopts::fail_str become?
[18:39:38] <kimundi> tikue_: .to_err_msg()
[18:39:43] <tikue_> kimundi: thanks :)
[18:41:29] <jdm> by the way, everyone: http://mxr.mozilla.org/rust/
[18:41:31] *** Quits: ozten (ozten@19BD73A1.5D8BCA3A.A0C1B52F.IP) (Quit: ozten)
[18:41:39] *** Quits: huseby (huseby@19BD73A1.5D8BCA3A.A0C1B52F.IP) (Quit: lunch)
[18:42:24] *** Quits: tjc (tjc@moz-6EB4E533.dsl.tsoft.com) (Quit: Places to go, people to annoy)
[18:47:10] <brson> jdm: woah
[18:47:31] <olsonjeffery> what exactly is this for... searching the rust src tree?
[18:47:48] <jdm> olsonjeffery: yeah, and being able to link people to searches
[18:48:00] *** Quits: Shaladdle (anonymous@15BAB5A9.50DE5ADF.689607DE.IP) (Quit: Shaladdle)
[18:48:25] <jdm> it's slightly less useful than things like mxr.mozilla.org/mozilla-central/ since it doesn't have clickable identifiers (no rust comprehension)
[18:48:30] <brson> :-/ without cross-references it doesn't provide anything more than github
[18:48:46] <jdm> brson: does github do free-text search?
[18:48:54] <olsonjeffery> huh, neat.
[18:49:02] <olsonjeffery> i guess this is easier than using find + grep
[18:49:33] <doomlord__> i wondered if i could set something up to automatically publish the html rustfind generates
[18:49:36] <jdm> I guess github does
[18:49:41] <jdm> still, I like using mxr
[18:50:17] <jdm> it also find a lot more than github
[18:50:24] <jdm> http://mxr.mozilla.org/rust/search?string=CrateContext&filter=[Cc]rateContext vs https://github.com/mozilla/rust/search?q=cratecontext&ref=cmdform
[18:51:39] *** Quits: voxpopuli (fanservice@3E0CB620.A20172C.689607DE.IP) (Ping timeout)
[18:51:52] <tikue_> is it idiomatic to fail if proper arguments aren't passed to a rust program? or match on Option and just print the problem, and return?
[18:52:09] <tikue_> i ask because this isn't particularly user-friendly:
[18:52:10] <tikue_> task <unnamed> failed at 'Usage: ./echoserver --addr <ip_addr>:<port>', /Users/tkuehn/rust/src/libstd/option.rs:351
[18:52:36] <tikue_> (from optstr.expect(USAGE) essentially)
[18:52:59] <Eridius> tikue_: failing seems nasty, I would prefer to just print usage and exist with code 1
[18:53:04] <Eridius> *exit
[18:53:07] <sfackler> == Eridius
[18:53:22] <tikue_> Eridius: yeah, seems better. but I wonder because getopts() fails
[18:53:27] <tikue_> e.g.
[18:53:32] <Eridius> yeah getopts isn't designed very well
[18:53:35] <tikue_> task <unnamed> failed at 'Argument to option 'addr' missing.', echoserver.rs:62
[18:54:06] <brson> i put a link to mxr on the wiki https://github.com/mozilla/rust/wiki/Notes
[18:54:33] *** Joins: anshin (anshin@CD85F10D.F21429E2.354459FA.IP)
[18:55:47] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[18:56:05] <tikue_> it'd be nice if argument parsing didn't take 10 lines of code for a single argument :P
[18:56:21] <pcwalton> that code was written before methods worked
[18:56:23] <tikue_> https://gist.github.com/tikue/c8c38cfa5d9710b8024b
[18:56:27] <tikue_> pcwalton: it has methods now though
[18:56:32] <pcwalton> yeah, I noticed that
[18:56:35] <pcwalton> it bitrotted my change ;)
[18:56:38] <tikue_> hah
[18:56:47] <kimundi> pcwalton: sorry :|
[18:56:48] <pcwalton> also &str didn't exist at the time
[18:56:54] <pcwalton> no problem, it's unavoidable
[18:56:57] *** Quits: nejucomo (Adium@moz-434492BB.dsl.static.sonic.net) (Quit: Leaving.)
[18:57:06] <tikue_> i know argument parsing is never exactly *trivial*, but 10 lines for a single required argument seems like it'd be possible to improve upon
[18:57:29] <pcwalton> I like optimist's API
[18:57:34] <tikue_> pcwalton: link?
[18:57:35] <kimundi> tikue_: I plan to sometime implement something like docopts
[18:57:35] <pcwalton> if someone can write rust-optimist I'd be happy
[18:57:47] <pcwalton> https://github.com/substack/node-optimist
[18:58:02] <kimundi> http://docopt.org/
[18:58:28] *** Joins: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP)
[19:00:07] <Luqman> brson: it seems that on x ld is not happy about the weak symbol https://gist.github.com/luqmana/6628211 i can compile this fine on linux but gcc/clang on mac fails at the linking step
[19:00:16] <bjz_> kimundi: yes, docopt is quite awesome
[19:00:30] <Luqman> brson: it seems like we need to pass -Wl,-flat_namespace,-undefined,dynamic_lookup on mac at least
[19:00:39] <bjz_> pcwalton: have you seen it?
[19:00:59] <pcwalton> I haven't
[19:01:36] <Luqman> brson: or perhaps just -Wl,-undefined,dynamic_lookup
[19:04:42] *** Joins: Earnestly (earnest@moz-BE290A2B.dyn.plus.net)
[19:04:55] *** Quits: flowsnake (flowsnake@moz-1918C33E.aztw.cable.virginmedia.com) (Quit: ZNC - http://znc.in)
[19:06:01] *** Joins: flowsnake (flowsnake@moz-1918C33E.aztw.cable.virginmedia.com)
[19:07:02] *** Joins: msingle (Thunderbir@moz-930E5D97.hr.hr.cox.net)
[19:09:08] *** Joins: nejucomo (Adium@moz-A94CACD5.dsl.pltn13.sbcglobal.net)
[19:09:10] <Eridius> after dealing with windows paths, I really want some form of "raw" string. Have there been any syntactic proposals yet for this?
[19:09:11] *** Joins: maik (maik@moz-F4777195.dip0.t-ipconnect.de)
[19:09:57] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[19:10:05] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[19:10:18] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[19:10:26] *** Quits: jez0990 (quassel@moz-3BA8545E.kimsufi.com) (Quit: http://quassel-irc.org - Chat comfortably. Anywhere.)
[19:10:28] *** Joins: tgummerer (tgummerer@moz-5DC8FA44.tbcn.telia.com)
[19:10:47] <brson> Luqman: can the linker args go in the std crate, or do we need to start linking everything with these args?
[19:10:56] <nejucomo> Eridius: What do you mean by raw string?  Do you mean stack allocation?
[19:11:02] *** Quits: ksev (DrunkenPan@745B767B.989A61DC.CA5B6332.IP) (Ping timeout)
[19:11:15] <acrichto> does anyone have an opinion on forbidding 'impl A;' and instead requiring it to be 'impl A {}'
[19:11:25] <Eridius> nejucomo: I mean string literals that don't process escapes
[19:11:32] *** Joins: tcsc (tcsc@275DA605.2C3FD901.36DDB9BB.IP)
[19:11:46] <nejucomo> I see.  Those are indeed handy.
[19:11:46] <Eridius> acrichto: what's the benefit of an empty impl?
[19:11:49] <SiegeLord> A general heredoc syntax may be nice... but might not play well with the desired complexity of the parser
[19:11:56] <benh> Does anyone have an opinion on forbidding trait A {} and instead requiring trait A;? :)
[19:11:58] <acrichto> Eridius: mostly it's seen as 'impl A for B;'
[19:12:02] <SiegeLord> *complexity of the grammar
[19:12:22] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[19:12:27] <Eridius> SiegeLord: we already allow newlines in string literals, though there's an issue suggesting that we disallow that. But I'm not looking for full heredoc, just string literals that don't process escapes
[19:12:33] <acrichto> benh: this is in reference to #7981, and imo it's better to just require {} everywhere for consistency
[19:12:42] <Eridius> acrichto: I think requiring the {} makes sense.
[19:13:04] <benh> acrichto: I agree, I was surprised that the impl A; form even works.
[19:13:05] <SiegeLord> Eridius: Why don't people like the newlines?
[19:13:10] <benh> (or even impl A for B;)
[19:13:13] <Eridius> raw string literals are useful anywhere that \ has meaning within the string itself, such as regexes, or as in #9161, format strings
[19:13:35] <Eridius> SiegeLord: probably because other languages typically don't allow raw newlines, at least not without a \ (which strips the newline from the resulting string)
[19:13:44] *** Quits: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP) (Ping timeout)
[19:13:46] <Eridius> #7053 is the relevant issue for that
[19:13:47] <SiegeLord> Well, the one time I wanted heredocs was when I wanted a whole bunch of " inside my literal
[19:13:48] <tikue_> I'm wondering about style with match blocks. It seems to me that always using { } improves readability and prevents future mistakes. Thoughts?
[19:13:52] <benh> It's not unconceivable that people might need escape sequences in their format strings as well though
[19:13:53] <SiegeLord> Other languages suck :P
[19:14:10] <Eridius> tikue_: I disagree. a lot of match expressions are easier to read without the {} when the arm is simple
[19:14:15] <Eridius> Foo => true, Bar => false
[19:14:26] <tikue_> Eridius: in simple cases match is usually not the solution though
[19:14:32] <benh> tikue_: https://github.com/mozilla/rust/wiki/Note-style-guide suggests to "only omit braces for single expressions"
[19:14:37] <Eridius> benh: issue #9161 is actually precisely that. Escaping { in a format!() string requires \
[19:14:40] *** Joins: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP)
[19:14:51] <tikue_> benh: even in that case though, you might later need to add to that expression and have it become a block
[19:14:54] <Eridius> benh: hah, you cannot omit it for multi-expression arms :P
[19:15:09] <tikue_> and i think mixing ',' with { } is bad because then the eyes have to change focus points
[19:15:11] <tikue_> as it skims down
[19:15:12] <Eridius> I use braces if the expression is long enough that I want to put it on a second line
[19:15:19] <Eridius> or if I need to squelch the return value with ;
[19:15:30] <Eridius> but short expressions that have a meaningful return value (or that return () already) I omit {}
[19:15:43] <tikue_> Eridius: if any of them need braces i feel it's best for all to have braces, or at the very least Pat => \n \t expr,
[19:15:48] <Eridius> tikue_: is the context here pretty-printing? If so, I'd probably leave the style of the arm as written
[19:16:02] <tikue_> Eridius: no, just readability and long-term productivity
[19:16:08] *** Quits: carllerche (carllerche@6B070D22.7E6A0813.1428D117.IP) (Quit: carllerche)
[19:16:11] <SiegeLord> Eridius: That issue is wrong anyway... I wish issues weren't based on flawed LWN articles :P
[19:16:20] <SiegeLord> D allows newlines in basic string literals
[19:16:35] <tikue_> i likehttps://gist.github.com/tikue/fe1bb7d3d2f98d5516ac
[19:16:38] <tikue_> sorry, https://gist.github.com/tikue/fe1bb7d3d2f98d5516ac
[19:16:52] <Eridius> SiegeLord: yeah I think the issue is wrong too, which is what bstrie says. perhaps it should be closed
[19:16:57] <tikue_> because it is consistent regardless of {} or ,
[19:17:11] <Eridius> tikue_: eh, that's not terrible, but those arms are so short you shouldn't have the newline
[19:17:20] *** Joins: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP)
[19:17:41] <tikue_> Eridius: in that case yes, but in general for anything not completely trivial i think it's better than keeping it on one line
[19:17:48] <tikue_> it keeps two consistent gaze points
[19:18:06] <Eridius> tikue_: if you want consistent gaze points, then just align the =>
[19:18:33] <tikue_> Eridius: that wouldn't stand up to refactors and is a lot of effort
[19:18:43] *** Quits: BizarreCake (BizarreCak@moz-361FE9B2.dynamic.barak-online.net) (Ping timeout)
[19:18:53] <pcwalton> tikue_: that's the old syntax
[19:18:58] <Eridius> tikue_: which is why I don't bother. In practice I don't find it hard to distinguish the patterns from the arms
[19:19:02] <pcwalton> it was changed to use the => and not require {} because of one-liners
[19:19:44] <tikue_> pcwalton: what do you think of using a newline? not enforced ofc, just as a style guideliine
[19:20:05] <pcwalton> a newline where?
[19:20:12] <tikue_> https://gist.github.com/tikue/fe1bb7d3d2f98d5516ac
[19:20:14] <tikue_> to that effect
[19:20:47] <pcwalton> hmm
[19:20:50] <pcwalton> I usually brace those
[19:21:05] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[19:21:05] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/rMJWcQ
[19:21:05] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[19:21:20] <tikue_> when mixing braces with commas, it seems that keeping the tabs consistent is nicer than saving the newline imo
[19:21:49] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[19:23:51] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[19:24:06] <pcwalton> attempt 4 to land @fn removal
[19:24:15] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[19:24:15] *** ChanServ sets mode: +o pnkfelix
[19:24:50] <Eridius> good luck!
[19:25:39] <NiccosSystem> Grr
[19:25:47] <NiccosSystem> My pul request is controversial grr
[19:25:50] *** Joins: sebcrozet (sebcrozet@moz-C27D92D8.w193-252.abo.wanadoo.fr)
[19:25:54] <tikue_> NiccosSystem: link?
[19:26:00] <benh> I sympathise ;)
[19:26:03] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[19:26:03] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/BtS9ww
[19:26:03] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[19:26:04] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[19:26:04] <ghrust> 01[13rust01] 15bors pushed 18 new commits to 06auto: 02http://git.io/OeNxUQ
[19:26:04] <ghrust> 13rust/06auto 14f364683 15Patrick Walton: librustc: Change fold to use traits instead of `@fn`.
[19:26:04] <ghrust> 13rust/06auto 14788fb39 15Patrick Walton: librustc: Remove garbage collected functions from front/{config,test} and metadata/{tydecode,tyencode}
[19:26:05] <ghrust> 13rust/06auto 14574c3e9 15Patrick Walton: librutsc: Port the pretty printer annotation infrastructure to use traits instead of garbage collected functions.
[19:26:07] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[19:26:14] <NiccosSystem> https://github.com/mozilla/rust/pull/9326
[19:26:36] <NiccosSystem> The thing is, I put 0.7 because someone told me to + the links above also point to 0.7
[19:26:46] <acrichto> pcwalton: godspeed
[19:26:55] <tikue_> heh
[19:27:00] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[19:27:24] <brson> NiccosSystem: good points. 0.7 is fine
[19:29:23] *** Joins: ksev (DrunkenPan@745B767B.989A61DC.CA5B6332.IP)
[19:29:45] <pnkfelix> pcwalton: if this attempt fails, do you want help switching to a piecemeal incremental approach?  i.e. incrementally tear out the old uses of @fn before finally disabling it ?
[19:29:59] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[19:30:01] <pcwalton> I already kind of did that in the patchset
[19:30:10] <pcwalton> it's not too far away, I think it's best to keep landing
[19:30:11] <pnkfelix> pcwalton: right, I meant as separate PR's.
[19:30:14] <pnkfelix> pcwalton: okay
[19:30:21] <pcwalton> prior experience says it'll be probably 10 attempts to land it
[19:30:29] <pcwalton> since this is attempt 4 it'll probably be done today
[19:30:32] *** Quits: dave1629 (dave@B46FF292.65B70227.DDE5D3F6.IP) (Quit: dave1629)
[19:31:42] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[19:31:42] *** Quits: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl) (Connection reset by peer)
[19:32:10] *** Joins: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca)
[19:32:19] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[19:32:55] <Eridius> I would really like to hash out a raw string literal syntax to make an RFC. Does anyone currently present have any interest in this?
[19:33:04] *** Quits: dju (dju@moz-83BD5EC.dmz.me) (Quit: ZNC - http://znc.in)
[19:35:31] <acrichto> brson: it does appear that the snapshot has a dependence on tinfo/ncurses now, although I think that sfackler is right in that this was probably introduced through the llvm changes
[19:36:47] *** Quits: anshin (anshin@CD85F10D.F21429E2.354459FA.IP) (Client exited)
[19:36:47] <Eridius> does this mean nobody cares about raw string literals, or should I take it to the ML?
[19:36:53] *** Joins: anshin (anshin@CD85F10D.F21429E2.354459FA.IP)
[19:37:53] <acrichto> Eridius: I don't think that an issue currently exists, but I agree that the ML is probably the best place to start this
[19:39:13] <Eridius> acrichto: as someone who's been spending the past couple of weeks, off and on, poking at windows file paths, the lack of raw string literals is very painful
[19:39:35] <Eridius> if we get regex into the standard libraries, users of that will also want raw string literals
[19:39:59] <acrichto> Eridius: yeah I can see where the current syntax is just painful
[19:40:03] <SiegeLord> I kind of worry about not going the whole way to docstrings... but I suppose D1 managed without them reasonably well
[19:40:09] <dolphinling> I have a *mut c_void from a C library representing a region of memory I need to write into. The C program I'm copying iterates through with pointer arithmetic, what's the rust way of doing it?
[19:40:10] <SiegeLord> *docstrings=heredocs
[19:40:32] <Eridius> SiegeLord: we already allow newlines in string literals. What else do you want?
[19:40:43] <SiegeLord> "
[19:41:04] *** Joins: dju (dju@moz-83BD5EC.dmz.me)
[19:41:32] <SiegeLord> Although, depending on the raw string syntax, that may be taken care of too
[19:41:39] <SiegeLord> E.g. if you use ` or """ or w/e
[19:41:58] <Eridius> yeah I want our raw string syntax to allow for embedding quotes
[19:42:07] <Eridius> which apparently D's doesn't, and Python's does in a really truly crappy fashion
[19:42:38] <Eridius> C++11 has a nice solution, but I think it's a bit syntactically overcomplicated. I'm tempted to just say something like R"this is a raw string literal ""that embeds quotes by repeating the token""."
[19:42:45] <Eridius> s/token/char/
[19:42:48] *** Quits: jviereck (Adium@moz-2E6DC681.dip0.t-ipconnect.de) (Ping timeout)
[19:42:50] *** Joins: dave1629 (dave@B46FF292.65B70227.DDE5D3F6.IP)
[19:43:28] <SiegeLord> D's raw strings can embed " in them
[19:43:39] *** Quits: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP) (Client exited)
[19:43:40] <SiegeLord> But they can't emebed the delimeters used to define them (`)
[19:43:53] <Eridius> SiegeLord: D has two syntaxes, one is `` the other is r""
[19:44:12] <Eridius> according to http://dlang.org/lex.html#StringLiteral at least
[19:44:38] *** Joins: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP)
[19:45:10] <SiegeLord> I figured you were talking about ``
[19:45:38] <Eridius> `` doesn't allow for embedding `, and r"" doesn't allow for embedding "
[19:45:38] *** Quits: dherman (dherman@moz-BDCCF091.hfc.comcastbusiness.net) (Quit: dherman)
[19:45:44] <SiegeLord> Oh wait... r""... Never saw that one before
[19:45:52] <SiegeLord> Anyway, D has heredocs so there's no need to use raw strings
[19:46:43] *** Quits: hoverbear (andrew@EBFA78B5.F19E5E7B.E74D50F2.IP) (Quit: hoverbear)
[19:47:13] <olsonjeffery> dolphinling: that's a good question, and one that depends on your situation..
[19:47:18] <Eridius> SiegeLord: the heredocs are its delimited strings?
[19:47:41] <SiegeLord> Eridius: Yes
[19:47:47] <olsonjeffery> first: pointer arithmetic is obviously one of those things Rust wants to discourage, because: it's dangerous. simultaneously: hey, interop. gotta deal with it.
[19:47:50] *** Joins: steveklabnik (steveklabn@1E2EB9E3.186539A3.965084DF.IP)
[19:48:04] <olsonjeffery> you can do pointer arithmetic in rust, but it's definitely not desirable..
[19:48:21] <olsonjeffery> dolphinling: if you have access to the src tree, id recommend chceking out /src/libstd/ptr.rs
[19:48:31] *** Quits: maik (maik@moz-F4777195.dip0.t-ipconnect.de) (Ping timeout)
[19:48:37] <olsonjeffery> that has a number of raw ptr operations, including copying elements from one location to another
[19:48:53] <dolphinling> olsonjeffery: thanks, I'll look there
[19:49:23] <Seldaek> wilmoore: ohai, are you around? 
[19:49:36] <dolphinling> olsonjeffery: I'm kind of wondering what the most idiomatic rust way would be though
[19:49:57] *** Quits: nano (nano@moz-74CAD1CA.superkabel.de) (Connection reset by peer)
[19:50:02] <wilmoore> Seldaek: hola
[19:50:04] <olsonjeffery> dolphinling: as i said.. it depends.
[19:50:21] <olsonjeffery> strictly speaking, i would say that having to do pointer arithmetic is something that rust's semantics would make non-neccesary
[19:50:29] <olsonjeffery> and it only really comes up in the context of interacting with C libraries, imo
[19:50:29] <wilmoore> Seldaek: long time no see/talk. 
[19:50:32] <steveklabnik> yeah, what are you trying to actually _do_?
[19:50:57] <dolphinling> olsonjeffery: Like could I treat my *mut c_void as a vector and write into it that way? I'm strugling to figure out exactly how I'd do that though
[19:51:00] *** Joins: jgilbert (jgilbert@moz-BBE3ABD.mv.mozilla.com)
[19:51:32] <olsonjeffery> dolphinling: what does point to? who created it and is responsible for freeing it? do you know how much total memory is allocated for that pointer?
[19:51:47] <olsonjeffery> as i said twice before: there's a lot of missing context in your scenario, as presented
[19:51:57] <olsonjeffery> and im not trying to distract or push you in a certain direction because of dogma
[19:52:17] <Seldaek> wilmoore: yessir. what are you up to here? doing any rust or lurking?
[19:52:49] <dolphinling> No problem, I'm still learning so sometimes I have trouble even knowing the details of what I wrote ;)
[19:53:07] <dolphinling> I do know the size of the memory allocated at the pointer
[19:53:23] <kimundi> dolphinling: Does the pointer point at an array, an struct, and union etc?
[19:53:34] <dolphinling> Checking on exactly who allocated it and who's responsible for it...
[19:53:40] *** jdm is now known as jdm|busy
[19:53:46] *** Quits: penguin_dan (dan_johnsi@6902762D.11B071D.FB9A45AF.IP) (Quit: Leaving)
[19:54:22] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[19:54:54] *** Joins: spider-mario (spidermari@moz-2F72F6FF.dsl.quantic-telecom.net)
[19:55:57] *** Joins: carllerche (carllerche@moz-CDE5367B.dsl.static.sonic.net)
[19:56:04] *** Quits: dave1629 (dave@B46FF292.65B70227.DDE5D3F6.IP) (Quit: dave1629)
[19:56:22] *** Joins: dave1629 (dave@B46FF292.65B70227.DDE5D3F6.IP)
[19:56:39] <dolphinling> Okay, so it's not actually from the library I'm using. I created a file (by calling out to c, since I couldn't find a mkostemp implementation in rust), and my pointer comes from mmap
[19:57:00] *** Quits: tgummerer (tgummerer@moz-5DC8FA44.tbcn.telia.com) (Ping timeout)
[19:58:08] *** Quits: heftig (heftig@moz-5D7BB4C1.dip0.t-ipconnect.de) (Ping timeout)
[19:58:31] *** Joins: jviereck (Adium@moz-2E6DC681.dip0.t-ipconnect.de)
[19:58:33] <dolphinling> The file is actually being used as a region of shared memory to communicate graphics buffers
[19:59:13] <wilmoore> Seldaek: Just checking in, trying to get a handle one what my next fun language will be :)
[19:59:37] <steveklabnik> nice
[19:59:40] <steveklabnik> rust is fun :)
[20:00:10] <wilmoore> Seldaek: playing a bit with Go and Elixir -- seems natural that I'd look at Rust ATM too.
[20:00:17] <bstrie> no rust is srs business :|
[20:00:18] <steveklabnik> elixir is also super cool
[20:00:26] <steveklabnik> bstrie: srs bsns isn't fun?
[20:00:52] <bstrie> we have a strict quota of fun that we must meet daily
[20:01:00] <bstrie> exceeding this quota is discouraged
[20:02:34] *** Joins: hoverbear (andrew@EBFA78B5.F19E5E7B.E74D50F2.IP)
[20:04:16] <dolphinling> Hmm, I think I'll try with vec::from_buf, it looks promising
[20:04:32] *** Quits: anshin (anshin@CD85F10D.F21429E2.354459FA.IP) (Quit: leaving)
[20:04:54] <olsonjeffery> dolphinling: so you're just reading from it?
[20:05:24] *** Joins: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se)
[20:05:25] <kimundi> dolphinling: So it's an just an array?
[20:06:40] <afrey71> Where has rusti gone?
[20:07:08] *** Joins: Shaladdle (anonymous@400E34DE.F3E8A984.689607DE.IP)
[20:07:26] <dolphinling> olsonjeffery: No, I'm writing into it
[20:07:44] <steveklabnik> afrey71: it's always been a bit... off. src/librusti
[20:07:45] <kimundi> afrey71: To where ever processes go if strcat turn off his laptop
[20:08:07] <dolphinling> kimundi: It's being treated as an array of pixels, in a sense
[20:08:43] <kimundi> dolphinling: Then I'd try creating an &mut[u8] or whatever type fits best into it
[20:08:54] <kimundi> pointing into it*
[20:09:16] <kimundi> Need to know the length, or an lower bound of the length for that though7
[20:09:38] *** Joins: tjc (tjc@moz-CC24D9B1.tmodns.net)
[20:09:38] *** ChanServ sets mode: +o tjc
[20:09:38] <Seldaek> wilmoore: ok cool, you should definitely try it out, it's (serious) fun 
[20:09:51] <NiccosSystem> I have fun programming until I have to think about what I'm doing
[20:09:52] *** Quits: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca) (Ping timeout)
[20:09:59] <afrey71> kimundi: oh, it's run from a ... laptop?!? Wow, okay.
[20:10:21] <afrey71> Let's do without rusti, then: http://pastebin.com/bb9KHiTU
[20:10:22] *** Quits: bfrog (tburdick@moz-3D8544DC.members.linode.com) (Ping timeout)
[20:10:24] <wilmoore> Seldaek: built from source last night...was planning to play with it tonight or this weekend :)
[20:10:29] <kimundi> afrey71: No one bothered setting up a proper server for it yet :)
[20:10:38] <afrey71> Took me quite a while to realize *why* the println isn't executed.
[20:10:49] <afrey71> IMO this should really emit a warning of some kind...
[20:10:55] <afrey71> (at compile time, that is)
[20:11:00] <kimundi> afrey71: But all necessary software exists on github already, so anyone could, in theory
[20:11:04] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[20:11:04] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14dae9e67 to 1485c0fb7: 02http://git.io/N3iJvQ
[20:11:04] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[20:11:06] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[20:11:06] <ghrust> 01[13rust01] 15bors pushed 5 new commits to 06auto: 02http://git.io/QMSeXw
[20:11:06] <ghrust> 13rust/06auto 142df5a13 15Steven Fackler: Removed future's destructor...
[20:11:06] <ghrust> 13rust/06auto 14a391d5c 15Steven Fackler: Modernize extra::future API
[20:11:07] <ghrust> 13rust/06auto 1488a9cb5 15Steven Fackler: Add Future::spawn_with
[20:11:08] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[20:11:24] <NiccosSystem> I have a server..
[20:11:26] <kimundi> afrey71: ... You're talking about the rusti here, right?
[20:11:38] *** Joins: tgummerer (tgummerer@51D3B54.FEF996EA.EA6FEF3D.IP)
[20:12:07] <afrey71> kimundi: well, yeah, the rusti bot that was on IRC...
[20:12:11] <afrey71> github link?
[20:12:13] *** Quits: dave1629 (dave@B46FF292.65B70227.DDE5D3F6.IP) (Quit: dave1629)
[20:12:24] <steveklabnik> ... has anyone implemented gzip decompression in rust yet?
[20:12:25] <kimundi> NiccosSystem: Oh, I bet Mozilla has too :) It's more an organizational low priority
[20:12:35] <NiccosSystem> :P
[20:12:40] *** Joins: dave1629 (dave@B46FF292.65B70227.DDE5D3F6.IP)
[20:12:49] <afrey71> They probably own one or two, yes...
[20:13:08] <NiccosSystem> I thought all of their stuff ran off a VPS!
[20:13:15] <afrey71> ;-)
[20:13:39] <kimundi> afrey71: search for playpen
[20:13:43] <kimundi> on github
[20:13:51] <afrey71> kimundi: alright, thx.
[20:14:08] <Seldaek> wilmoore: anyways, I couldn't resist and submitted to confoo so maybe I'll see you there 
[20:14:28] <afrey71> Oh, wait, the ISP for my server blocks IRC... :-(
[20:15:02] <NiccosSystem> I forgot for a moment Rust is Mozilla's thing :P
[20:15:24] <afrey71> Anyways. Please take a look at my complaint here: http://pastebin.com/bb9KHiTU
[20:15:34] <afrey71> I'm missing a warning.
[20:15:39] <wilmoore> Seldaek: I didn't this time. Too much going on but will submit again next year.
[20:16:16] <afrey71> The fix is in line 5:  saying v.len() as int makes _ a singed "variable".
[20:16:39] <wilmoore> Seldaek: Wish I could make it; would love you hang out again sooner than next year, but perhaps I'll catch another conference mid-next-year.
[20:16:59] <afrey71> I realize the documentation says for terminates on overflow. But...
[20:17:03] <wilmoore> Seldaek: err, "love to hang out".... haha.
[20:17:45] <Seldaek> wilmoore: hah, well yes sure, I hope to maybe do tek or zendcon this year.. depends if dates conflict
[20:18:23] <wilmoore> Seldaek: right on...I'll make sure to keep you posted.
[20:18:25] *** Quits: dave1629 (dave@B46FF292.65B70227.DDE5D3F6.IP) (Quit: dave1629)
[20:18:34] <Seldaek> wilmoore: also see PM 
[20:19:06] *** Quits: six600110 (six600110@moz-2FA48202.neo.res.rr.com) (Ping timeout)
[20:19:28] *** Joins: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[20:22:24] *** Joins: chris2006 (Mibbit@moz-62DFCB1E.hsd1.va.comcast.net)
[20:23:16] <engla> afrey71: I don't think range_step supports a -1 step with uint
[20:23:39] <chris2006> Hi all, I installed rust 0.8 while I still had 0.7 installed on mac os, could anyone help me either removing both versions or specifying which version to use? 
[20:24:24] <engla> afrey71: basically you need a signed counter, or you use range() and reverse it
[20:24:43] <mcpherrin> chris2006: I think you can "make uninstall" if you have the source dir you "make install"ed from
[20:25:00] <engla> afrey71: range_inclusive(0, v.len()).invert() => 3, 2, 1, 0
[20:25:36] <benh> acrichto: I'm confused, which verbose lexer errors do you want to keep?
[20:25:45] <benh> (thanks for helping with the PR by the way)
[20:25:46] <steveklabnik> chris2006: where did you install it to? do you remember?
[20:26:18] <sfackler> steveklabnik: zlib bindings should be easy to write if no one's done it yet
[20:26:24] <steveklabnik> sfackler: that's true
[20:26:31] <steveklabnik> sfackler: i'll have to check that out, thanks!
[20:27:03] *** Quits: eugals (Miranda@4EAF0513.DB0130CE.2613BDDB.IP) (Quit: Miranda IM! Smaller, Faster, Easier. http://miranda-im.org)
[20:27:04] <chris2006> steveklabnik: I used configure and then make, so I didn't specify where to install it to. Although I do have the original source folders where I ran ./configure
[20:27:31] <acrichto> benh: the ones with character literals I think are fine
[20:27:39] <acrichto> benh: I think the others are probably just redundant
[20:27:43] <steveklabnik> chris2006: if you didn't 'make install' then it shouldn't be a big deal. what does 'which rustc' say?
[20:28:18] <benh> I'm removing the ones for unterminated strings/comments and numbers including the scan_exponent ones then
[20:28:28] <chris2006> steveklabnik: I did use make install. It says: /usr/local/bin/rustc
[20:28:42] *** Joins: mihneadb_ (mihneadb@C2E95B11.18650252.A5830293.IP)
[20:29:06] <dolphinling> So it looks like vec::from_buf(ptr, elts) makes a copy of the data at ptr and returns a whole new vector, so that won't work :(
[20:29:18] <steveklabnik> chris2006: ah! so what _I_ do in this situation is just rm /usr/local/bin/rust* , and then compile a new one
[20:29:19] <benh> and leaving the ones for escape sequences in either kind of literal
[20:29:33] <steveklabnik> chris2006: i'm not sure the rm is actually needed, I think it might overwrite it.
[20:29:40] <steveklabnik> chris2006: this may not be optimal.
[20:30:25] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[20:30:31] <chris2006> steveklabnik: sounds good! what about the libs? 
[20:30:42] <steveklabnik> when it complains aobut having two libs I just rm the old one
[20:30:50] <brson> acrichto: that's a bummer. I wonder if there's an llvm module we can turn off to remove it, or if it really matters
[20:31:10] <steveklabnik> but since it's a newer version it shouldn't matter, I dont think. i just leave old ones lying around, i'm not hard-up for disk space.
[20:31:25] <brson> the dist-snap bot is running an old valgrind that doesn't work with the new flags i added to work around the jemalloc valgrind errors :-/
[20:31:26] <steveklabnik> again, quite possibly not optimal. /me shrugs
[20:32:02] <acrichto> brson: yeah I was looking into that, and it looks like we can omit building the runtime/docs (whatever the runtime is), but omitting other things may get harder
[20:32:05] *** Joins: ozten (ozten@19BD73A1.5D8BCA3A.A0C1B52F.IP)
[20:32:09] <chris2006> steveklabnik: thank you!
[20:32:58] *** Joins: bheylin_ (brianheyli@moz-8255E94E.adsl.online.nl)
[20:33:54] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[20:34:04] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[20:34:22] <tikue_> is using spawn_with better than using a cell and spawn when moving captured variables out of a heap closure?
[20:34:45] *** Joins: six600110 (six600110@moz-2FA48202.neo.res.rr.com)
[20:34:56] *** Joins: huseby (huseby@19BD73A1.5D8BCA3A.A0C1B52F.IP)
[20:35:07] <sfackler> that's what it's there for, iirc
[20:35:29] <tikue_> sfackler: heh, good to know :P
[20:35:36] <steveklabnik> chris2006: any time
[20:35:44] *** jdm|busy is now known as jdm
[20:36:18] <Luqman> tikue_: spawn_with uses a cell anyways
[20:36:37] <tikue_> Luqman: and tasks use unsafe code
[20:36:50] <tikue_> abstracting it away is better presumably
[20:37:25] <Luqman> yea, and it does make it clearer when you're reading it
[20:37:36] <tikue_> yeah i agree
[20:38:00] <pauls> rusti: macro_rules! sl( ($h:stmt )=>( $h ; 1 )) { sl!(let x = 1)}
[20:38:10] <tikue_> pauls: rusti isn't here right now
[20:38:11] *** Quits: jgilbert (jgilbert@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[20:38:14] <pauls> ) :
[20:38:20] *** Joins: jgilbert (jgilbert@moz-BBE3ABD.mv.mozilla.com)
[20:39:07] <Eridius> for anyone who might care about raw string literals: https://mail.mozilla.org/pipermail/rust-dev/2013-September/005635.html
[20:39:17] <benh> acrichto: http://ix.io/8aj how is this set?
[20:39:19] <cyndis> dolphinling: look at vec::raw
[20:40:02] *** Quits: jviereck (Adium@moz-2E6DC681.dip0.t-ipconnect.de) (Quit: Leaving.)
[20:40:24] *** Quits: Shaladdle (anonymous@400E34DE.F3E8A984.689607DE.IP) (Quit: Shaladdle)
[20:40:31] *** Joins: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca)
[20:41:04] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[20:41:04] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 1449b3ccc to 1485c0fb7: 02http://git.io/N3iJvQ
[20:41:04] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[20:41:07] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[20:41:07] <ghrust> 01[13rust01] 15bors pushed 4 new commits to 06auto: 02http://git.io/b2Ij3w
[20:41:07] <ghrust> 13rust/06auto 14d12e030 15Daniel Micay: clarify vector stub in the container tutorial...
[20:41:07] <ghrust> 13rust/06auto 14bf0e2a6 15blake2-ppc: doc: Update container tutorial with new names of methods and macros...
[20:41:07] <ghrust> 13rust/06auto 14f0630fd 15blake2-ppc: doc: Fix the tutorial's link to rustpkg docs
[20:41:07] *** Quits: spider-mario (spidermari@moz-2F72F6FF.dsl.quantic-telecom.net) (Connection reset by peer)
[20:41:09] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[20:41:43] <bstrie> steveklabnik: pinging for proof
[20:42:53] <sfackler> uh, auto-linux-64-nopt segfaulted right at the beginning of extratest :/ http://buildbot.rust-lang.org/builders/auto-linux-64-nopt-t/builds/690/steps/test/logs/stdio
[20:42:56] <dolphinling> cyndis: Thanks, but I've been looking there and I'm not seeing anything I can use
[20:43:57] <dolphinling> cyndis: Unless I'm misunderstanding (mut_)buf_as_slice
[20:44:07] <cyndis> you wanted to mutate a C array given to you as a pointer, right? mut_buf_as_slice should do it
[20:44:18] *** Joins: jviereck (Adium@moz-2E6DC681.dip0.t-ipconnect.de)
[20:44:42] *** Quits: jviereck (Adium@moz-2E6DC681.dip0.t-ipconnect.de) (Quit: Leaving.)
[20:44:44] <acrichto> benh: awesome!
[20:44:47] <acrichto> benh: looks good to me
[20:44:50] *** Joins: jviereck (Adium@moz-2E6DC681.dip0.t-ipconnect.de)
[20:44:54] <dolphinling> cyndis: What do I do with the third argument? I can't figure it out
[20:44:55] *** Quits: jviereck (Adium@moz-2E6DC681.dip0.t-ipconnect.de) (Client exited)
[20:44:57] <benh> note the floating point exponent thing is just the span now, not in the error msg
[20:45:12] <benh> running make check, then will force-push my branch
[20:45:26] <cyndis> dolphinling: you give it a closure that it calls with the slice as a parameter
[20:45:30] <acrichto> benh: cool, ping me when you've done that
[20:45:59] <cyndis> so: do vec::raw::mut_buf_as_slice |v| { do stuff with v }
[20:46:15] <cyndis> erm, with the parameters to mut_buf_as_slice there
[20:46:15] *** Joins: _Y_ (Mibbit@moz-643103FF.dynamic.isp.telekom.rs)
[20:46:19] <Luqman> brson: is there a minimum os x & xcode version we support?
[20:46:22] *** Quits: tcsc (tcsc@275DA605.2C3FD901.36DDB9BB.IP) (Quit: computer sleeping)
[20:46:32] <_Y_> Hi rusties :)
[20:46:47] <brson> Luqman: 10.6 is the minimum os x. idk about xcode
[20:46:49] <_Y_> I'm in need of clarification of Unicode on rust
[20:47:26] *** Quits: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP) (Quit: Leaving)
[20:47:53] <_Y_> when do I represent Unicode U+2028?
[20:48:09] <engla> when?
[20:48:12] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[20:48:54] <_Y_> as a char?
[20:49:15] <_Y_> which one of prefix should I use? \x \u \U?
[20:49:18] <engla> yes, you can use \u2028 in a char or str
[20:49:28] *** Joins: Jesin (Jessin_@moz-CDB412A.cc.lehigh.edu)
[20:49:28] <sinma> Hello, Iâ€™m searching interesting librairies project in Rust (not bindings). Itâ€™s for a Rust presentation
[20:49:34] <engla> \x for 2-digit hex, \u for 4-digit hex, \U for 8-digit hex
[20:49:41] <_Y_> is \U00002028 same as \u2028?
[20:49:49] <engla> it should be _Y_ 
[20:49:52] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[20:50:03] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[20:50:05] *** Quits: tgummerer (tgummerer@51D3B54.FEF996EA.EA6FEF3D.IP) (Ping timeout)
[20:50:23] <engla> and you can use either '\u2028' for a char or "\u2028" as a &'static str
[20:50:28] <sinma> I mean, a big introduction document for Rust in french (history, syntax & std lib, and community â€” which include Rust projects)
[20:50:39] <_Y_> sinma, you can search github for rust project no?
[20:50:45] <_Y_> also I remember there being a list of them
[20:51:16] <bstrie> sinma: interesting libraries, or interesting rust projects in general?
[20:51:25] <bstrie> like, sprocketnes is interesting, but it's not a library
[20:51:53] <steveklabnik> sinma: nice!
[20:52:09] <steveklabnik> sinma: there is a bug tracker called 'evict'
[20:52:10] <sinma> _Y_, bestrie: Iâ€™ve already found intersting Rust softwares
[20:52:16] <bstrie> steveklabnik still waitin for that proof!
[20:52:25] <steveklabnik> sinma: i would go check around reddit.com/r/rust for past links
[20:52:27] <steveklabnik> bstrie: which one?
[20:52:32] <sinma> _Y_, bestrie: and bindings, but no lib written in Rust
[20:52:35] <steveklabnik> bstrie: oh that it's me on reddit?
[20:52:36] *** Joins: lmandel (lmandel@moz-76CE9D51.cable.teksavvy.com)
[20:52:41] <bstrie> steveklabnik: indeed
[20:52:45] <steveklabnik> bstrie: i didn't remember who was the mods
[20:52:51] <steveklabnik> trying to do too many things at once here
[20:52:54] <steveklabnik> i am in fact, steveklabnik1
[20:52:55] <steveklabnik> lol
[20:53:09] <bstrie> steveklabnik: ok now prove that you steveklabnik are the real Steve Klabnik
[20:53:13] <sinma> bestrie: Iâ€™ve already seen sprocketnes :p
[20:53:51] <bstrie> steveklabnik: preferably drive to my house with a copy of your birth certificate
[20:54:04] <bstrie> don't send it through the mail. can't trust the mail.
[20:54:18] <steveklabnik> bstrie: done. :p
[20:54:21] <steveklabnik> bstrie: but also https://twitter.com/steveklabnik/status/380796970257756160
[20:54:21] <sinma> It seems most Rust library works have been bindings and std libÃ©
[20:54:23] <sinma> *lib
[20:54:37] <steveklabnik> sinma: i'm working on something that speaks directly to redis but it's nowhere near done yet
[20:54:46] <steveklabnik> sinma: it's not a bidning, it sends the right wire protocol through tcp
[20:55:46] <bstrie> steveklabnik: flattery will get you everywhere
[20:56:54] <dolphinling> cyndis: Thank you! I'm still not 100% sure I understand, but I've got output so I'm on the path now :)
[20:57:13] <_Y_> there is RustyXml
[20:57:21] <_Y_> it's pure rust XML library
[20:57:28] <sinma> steveklabnik: I will publish the document soon after 0.8 release
[20:57:34] <cyndis> dolphinling: :)
[20:57:58] <sinma> _Y_: thereâ€™s no xml parser in Rust std lib the last time I checked, if I remind correctly
[20:57:59] <_Y_> I'm working on XmlParser as well
[20:58:14] <sinma> _Y_: it explains why itâ€™s an external library right?
[20:58:16] <_Y_> not in std lib, but as a library on Github
[20:58:33] <sebcrozet> sinma: If you need someone to review you document, I can help (Iâ€™m French too).
[20:58:50] *** Quits: miza (miza@moz-908EA8DE.home.otenet.gr) (Input/output error)
[20:59:20] <_Y_> https://github.com/Florob/RustyXML
[20:59:38] <_Y_> It has helped me tremendously when writing my own parser :)
[20:59:57] <sinma> sebcrozet: do you have a good knowledge of Rust? Because I know many basic things, but I know basically almost nothing on generics, closures, and details of Rust internals
[21:00:18] <sinma> _Y_: awesome, thx for the link
[21:00:47] <doomlord__> some people are making gl-based game engines in rust, (i dont think commercially.)
[21:00:48] *** Quits: msingle (Thunderbir@moz-930E5D97.hr.hr.cox.net) (Ping timeout)
[21:01:09] *** Quits: steven_is_false (user@C5B76363.1FF1EBF8.1ECA502.IP) (Ping timeout)
[21:01:11] <_Y_> oh yeah
[21:01:14] <_Y_> there is Q3
[21:01:22] <sebcrozet> sinma: well, I know generics and closures quite well.
[21:01:48] <sebcrozet> sinma: I dont know Rust internals though.
[21:01:59] <sinma> sebcrozet: I write the news on Linuxfr.org. If your are signed and loged in, you can edit it with me too. If not, thereâ€™s no way to simple way to collaborate (possible though).
[21:02:17] *** Joins: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu)
[21:02:18] <sinma> _Y_: yes, q3 is on my list :p
[21:02:26] <sebcrozet> sinma: Also, Iâ€™m working on a fiew pure-rust libraries (nphysics, ncollide, nalgebra, kiss3d)
[21:02:32] <sebcrozet> few*
[21:02:46] <sinma> sebcrozet: nphysics and kiss3d are on my list too
[21:03:12] *** Quits: Ferreus (daniel@moz-46BC77CB.dyn.telefonica.de) (Quit: WeeChat 0.4.1)
[21:03:20] <sinma> (but not ncollide and nalgebra: one is referenced by the first and I will not put everything thatâ€™s done in Rust, because itâ€™s too many things!)
[21:03:41] *** Quits: Jesin (Jessin_@moz-CDB412A.cc.lehigh.edu) (Quit: Leaving)
[21:04:02] *** Joins: Jesin (Jessin_@moz-CDB412A.cc.lehigh.edu)
[21:04:14] <steveklabnik> tjc: ping!
[21:05:43] <tjc> steveklabnik: pong
[21:05:44] *** Quits: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net) (Quit: sw17ch)
[21:06:36] <steveklabnik> tjc: we should talk about setting up that example rustpkg repo under the mozilla org, if you have some time
[21:06:41] <_Y_> rust needs an xml parser right?
[21:06:51] <tjc> steveklabnik: Yeahâ€¦ (trying to decide whether I have time right now ;-)
[21:07:06] <steveklabnik> no worries then! i'll be around a lot over the next few days
[21:07:12] <steveklabnik> at a conf i speak at the end of
[21:07:24] *** Quits: chris2006 (Mibbit@moz-62DFCB1E.hsd1.va.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[21:07:24] <steveklabnik> well, i will be starting tomorrow
[21:07:30] <steveklabnik> so that means tons of open source and irc time
[21:08:18] *** Joins: robertknight (robertknig@moz-54528EE0.wby.mendeley.com)
[21:08:31] <steveklabnik> so rustpkg: i have an 'extern mod libzlib;', but it says it cant find it, but I do have .rust/build/x86_64-unknown-linux-gnu/github.com/steveklabnik/rust-zlib/libzlib-15fb3a718ea23983-0.1.1.so
[21:08:36] <steveklabnik> is that a bug? do I have the name wrong?
[21:09:07] <engla> the name would be zlib, not libzlib
[21:09:22] <steveklabnik> same deal
[21:09:35] <steveklabnik> ~[std::path::PosixPath{is_absolute: true, components: ~[~"home", ~"steveklabnik", ~"src", ~"geminstall", ~".rust"]
[21:09:38] <steveklabnik> is in the RUST_PATH
[21:09:59] *** Quits: robertknight (robertknig@moz-54528EE0.wby.mendeley.com) (Ping timeout)
[21:10:13] <steveklabnik> ('same deal' meaning "i get the same error with just extern mod zlib")
[21:11:01] *** Joins: eatkinson (eatkinson@moz-3CD3C4A7.airbears2.berkeley.edu)
[21:11:40] *** Quits: _Y_ (Mibbit@moz-643103FF.dynamic.isp.telekom.rs) (Quit: http://www.mibbit.com ajax IRC Client)
[21:13:09] *** Quits: aatch (James@moz-B437F499.pocketrent.com) (Ping timeout)
[21:14:11] *** Joins: aatch (James@moz-B437F499.pocketrent.com)
[21:14:59] <tjc> steveklabnik: it looks like you only built it and didn't install it
[21:15:14] <tjc> it looks for dependencies under .rust/lib/x86_64-unknown-linux-gnu etc.
[21:15:31] *** Quits: carllerche (carllerche@moz-CDE5367B.dsl.static.sonic.net) (Quit: carllerche)
[21:15:39] <steveklabnik> tjc: i did a 'rustpkg install github.com/steveklabnik/rust-zlib
[21:15:58] <steveklabnik> and that's what it gave me
[21:16:12] <steveklabnik> is there another step?
[21:16:14] <tjc> steveklabnik: what are the contents of .rust/lib/x86_64-unknown-linux-gnu ?
[21:16:40] <sfackler> has anyone seen this running running rt tests? fatal runtime error: thread-local pointer is null. bogus!
[21:16:51] <steveklabnik> tjc: there... is no lib directory. hrm.
[21:16:59] <steveklabnik> just bin build and src
[21:17:09] <tjc> steveklabnik: hmm
[21:17:11] <steveklabnik> i wonder if the zlib bindings repo is bad.
[21:17:18] <steveklabnik> i updated it to be rustpkg compatible
[21:17:40] <steveklabnik> https://github.com/steveklabnik/rust-zlib/commit/4b1865f3bea501f094d78d3a07a48dfa52f8ca78
[21:17:52] <steveklabnik> it's src/zlib/lib.rs, so that should be right
[21:19:16] <tjc> steveklabnik: I'm looking
[21:19:31] <steveklabnik> cool, i appreciate it, especially since you said you didn't have a ton of time right now
[21:21:08] *** Joins: carllerche (carllerche@6B070D22.7E6A0813.1428D117.IP)
[21:21:12] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[21:21:12] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14fb05ff4 to 1485c0fb7: 02http://git.io/N3iJvQ
[21:21:12] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[21:21:13] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[21:21:14] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/yMOiBw
[21:21:14] <ghrust> 13rust/06auto 14e2807a4 15Chris Morgan: Replace unreachable() calls with unreachable!()....
[21:21:14] <ghrust> 13rust/06auto 14467f12f 15bors: auto merge of #9320 : chris-morgan/rust/unreachable-macro-part-two-of-two-containing-the-destruction-of-the-unreachable-function, r=alexcrichton...
[21:21:15] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[21:22:10] *** Quits: aatch (James@moz-B437F499.pocketrent.com) (Ping timeout)
[21:23:36] <tjc> steveklabnik: oh, I see your problem
[21:24:01] <tjc> steveklabnik: #[link(name = "zlib")] should be disallowed when using rustpkg, but it's not
[21:24:21] <tjc> I guess it does pay attention to the link name, but what happens is it builds it with the link name you specified, but then the "install" step doesn't find it because the link name is different from the package ID
[21:24:47] *** Joins: aatch (James@moz-B437F499.pocketrent.com)
[21:24:53] <tjc> So if you take out the name attribute, it should install; then you can do `extern mod zlib = "github.com/steveklabnik/rust-zlib";`
[21:25:10] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Quit: Gone to save the world!)
[21:25:20] <steveklabnik> tjc: ahhhhh i was trying not to tweak things too much, that was there by the person who wrote rust-zlib. word
[21:25:29] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[21:25:51] <steveklabnik> tjc: i've been thinking about rustpkg having some kind of dependencies manifest, with a command to install them all. have you given any thought to that?
[21:25:51] <tjc> steveklabnik: Yeah, it needs to be documented better that you shouldn't use an explicit link name; also see https://github.com/mozilla/rust/issues/8523
[21:26:22] <tjc> steveklabnik: can you say more? in general rustpkg is supposed to infer dependencies, given that when you have a separate document describing dependencies, it usually gets out of date
[21:27:27] <steveklabnik> in ruby-land we have a tool called bundler. we make files like this: https://github.com/hacketyhack/hackety-hack.com/blob/master/Gemfile
[21:27:29] <benh> acrichto: pushed!
[21:27:37] *** Quits: sinma (sinma@moz-6A11C47C.fbx.proxad.net) (Ping timeout)
[21:27:49] <steveklabnik> you then say 'install please' and it goes and figures out compatibility between all the versions, then writes out a file like this: https://github.com/hacketyhack/hackety-hack.com/blob/master/Gemfile.lock
[21:28:05] *** Quits: ahal (ahal@13F2CEC5.7672369.D8E68FF6.IP) (Ping timeout)
[21:28:08] <steveklabnik> when someone else says 'install', it looks for the lock, then installs all the exact same versions.
[21:28:11] *** Quits: aatch (James@moz-B437F499.pocketrent.com) (Ping timeout)
[21:28:19] <steveklabnik> if there's no lock it goes through the dep resolution process and writes one out
[21:28:24] *** Quits: Blub\w (wry@7E3BB9D.71150E1A.237AE2BA.IP) (Quit: night)
[21:28:35] *** Quits: nejucomo (Adium@moz-A94CACD5.dsl.pltn13.sbcglobal.net) (Quit: Leaving.)
[21:28:47] <tjc> steveklabnik: This sort of gets at https://github.com/mozilla/rust/issues/8673 ...
[21:28:58] <tjc> in general, we want people to write their dependencies directly in the source files with `extern mod`...
[21:29:14] <tjc> there is a problem that you can end up writing out long strings multiple times and making mistakes, which the manifest files would address
[21:29:17] <tjc> it's still sort of an open question
[21:29:24] *** Joins: aatch (James@moz-B437F499.pocketrent.com)
[21:29:34] *** Joins: sinma (sinma@moz-6A11C47C.fbx.proxad.net)
[21:29:40] <steveklabnik> tjc: ahhh nice, yeah. 
[21:29:54] <steveklabnik> cool. i'll read some stuff and write up a real proposal and we'll see how it goes, then.
[21:29:57] <tjc> cool
[21:29:59] <steveklabnik> automatically inferring would be neat
[21:30:43] *** Quits: ozten (ozten@19BD73A1.5D8BCA3A.A0C1B52F.IP) (Quit: ozten)
[21:31:00] <tjc> well, rustpkg does automatically infer dependencies already
[21:31:05] <acrichto> benh: lgtm
[21:31:19] <tjc> only problem is having to write the same URL-fragment-plus-revision over and over
[21:31:29] <steveklabnik> task <unnamed> failed at 'rustpkg failed to install dependency github.com/steveklabnik/rust-zlib', /home/steveklabnik/src/rust/src/libstd/option.rs:351
[21:31:30] <benh> acrichto: hooray, thank you for your help :)
[21:31:32] <steveklabnik> task <unnamed> failed at 'killed by linked failure', /home/steveklabnik/src/rust/src/libstd/rt/kill.rs:627
[21:31:38] <steveklabnik> :(
[21:31:42] <acrichto> benh: now bors is just going to fail it a bunch of times :(
[21:32:11] <acrichto> brson: there has been a large increase in failures on the bots due to "Interrupted system calls", are there some bots that are more heavily loaded right now then there used to be?
[21:32:46] <sfackler> acrichto: I just ran into an interrupted system call failure running tests locally
[21:32:59] <benh> acrichto: and then it'll make your 'must escape char literals' pull request fail ;)
[21:33:04] <acrichto> sfackler: was it one of the 'run' tests?
[21:33:11] <acrichto> benh: <3 merge conflicts
[21:33:32] <sfackler> acrichto: looks like something in the rt tests
[21:33:41] <Luqman> brson: okay, i believe i've got the magic incantations for mac now (glandium's blog post was really useful)
[21:33:43] <steveklabnik> ah!
[21:33:44] <steveklabnik> got it!
[21:33:47] <steveklabnik> thanks tjc 
[21:33:48] <steveklabnik> :)
[21:33:53] <acrichto> sfackler: did one test specifically fail or was there a segfault?
[21:34:07] <sfackler> double fail -> abort
[21:34:14] <sfackler> and fatal runtime error: thread-local pointer is null. bogus!
[21:34:15] <tjc> steveklabnik: no problem!
[21:34:17] *** Joins: brendan (brendaneic@45A3491F.A5FB4ABA.FE58E87C.IP)
[21:34:47] <acrichto> sfackler: hmm... if it's new runtime stuff it should actually handle the interrupted value
[21:35:05] <acrichto> sfackler: old io stuff is all going to be removed anyway (needs to transition from std::run to std::rt::io::process)
[21:35:08] <sfackler> acrichto: here's the last bit of the console output http://sprunge.us/SSOE
[21:35:34] <acrichto> sfackler: oh ok good, that's an error from std::io
[21:35:43] <engla> Is it possible to mark std::io deprecated?
[21:35:46] <acrichto> once we switch to libuv stdio/stdout it'll be all good
[21:35:52] <sfackler> the future cleanup stuff also segfaulted like 5 tests into stdtest on linux-64-nopt :(
[21:36:06] <sfackler> not sure what's going on there
[21:36:13] <acrichto> engla: right now there's not a fantastic replacement for stdio
[21:36:15] <acrichto> sfackler: just re-run it
[21:36:23] <acrichto> not sure why we've seen an uptick in these failures though
[21:36:41] <engla> acrichto: right, but std::io still has lots of issues that are unfixed because it's all basically deprectaed
[21:36:47] <acrichto> true
[21:36:57] *** Joins: LIV3N (IceChat9@moz-C89FADF7.hsd1.or.comcast.net)
[21:37:19] <steveklabnik> do we have a file io example witht hte new runtime io yet?
[21:37:23] <brson> acrichto: do you have an example?
[21:37:32] *** Quits: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[21:37:32] <acrichto> steveklabnik: std::rt::io::file
[21:37:50] <steveklabnik> awesome, thanks!
[21:37:55] *** Joins: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP)
[21:38:12] <acrichto> brson: http://buildbot.rust-lang.org/builders/auto-mac-64-nopt-t/builds/690/steps/test/logs/stdio
[21:38:21] <acrichto> brson: also occasional segfaults in the runtime http://buildbot.rust-lang.org/builders/auto-linux-64-nopt-t/builds/690/steps/test/logs/stdio
[21:38:59] <steveklabnik> acrichto: those examples are great, thank you!
[21:39:27] <acrichto> steveklabnik: np :), long live newrt!
[21:39:37] <acrichto> brson: 3/5 of the past bors failures have been false negatives
[21:40:49] *** Quits: bheylin_ (brianheyli@moz-8255E94E.adsl.online.nl) (Quit: bheylin_)
[21:41:08] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[21:41:11] <acrichto> brson: http://buildbot.rust-lang.org/grid?branch=auto&width=20 only 3 of those failures are actually legit failures, you basically have a 50/50 chance of getting a false negative right now
[21:41:12] *** Joins: nejucomo (Adium@moz-434492BB.dsl.static.sonic.net)
[21:41:42] <brson> acrichto: are they all os x?
[21:42:08] <acrichto> brson: nah they're all spread out
[21:42:11] <acrichto> linux/osx
[21:42:25] <acrichto> at least from what I can tell
[21:43:09] *** Joins: maik (maik@moz-F4777195.dip0.t-ipconnect.de)
[21:43:40] <brson> acrichto: should our waitpid call handle EINTR?
[21:43:57] <acrichto> brson: yeah that may be the best patch for now
[21:44:05] <acrichto> I'll just do that
[21:44:06] *** Quits: victorporof (victorporo@DD69D5EC.67CDC207.79933D60.IP) (Ping timeout)
[21:44:34] <brson> acrichto: is it always waitpid that's interrupted?
[21:44:36] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Client exited)
[21:44:50] *** Joins: msingle (Thunderbir@moz-20675462.nrflva.fios.verizon.net)
[21:45:03] <acrichto> sometimes it's write() on the stdout descriptor
[21:45:32] <acrichto> let me find an example
[21:45:38] *** Quits: Amanieu (amanieu@10FEE2FD.ECEF57A4.2CFD4520.IP) (Quit: reboot)
[21:45:40] *** Quits: Kruppe (user@moz-253119B0.esg.uwaterloo.ca) (Ping timeout)
[21:45:56] <acrichto> tjc: http://buildbot.rust-lang.org/builders/auto-linux-64-nopt-t/builds/675/steps/test/logs/stdio was a false negative fyi
[21:46:14] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[21:46:19] *** Joins: Amanieu (amanieu@10FEE2FD.ECEF57A4.2CFD4520.IP)
[21:46:20] <acrichto> brson: http://buildbot.rust-lang.org/builders/auto-bsd-64-opt/builds/1356/steps/test/logs/stdio failed due to stdio writing
[21:46:25] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[21:46:29] <sfackler> acrichto: shouldn't SA_RESTART handle EINTR?
[21:46:41] <acrichto> brson: or wait rather in reading
[21:46:43] *** Joins: Houm (Houm@moz-25669AA8.fbx.proxad.net)
[21:47:00] <acrichto> sfackler: hmmm... maybe something broke that
[21:47:31] <brson> acrichto: these all seem to be in std::run. were there changes there recently?
[21:47:33] <sfackler> it's on by default for most signals, iirc so maybe libuv is doing something weird
[21:47:38] <tjc> acrichto: thanks for checking
[21:48:09] <acrichto> brson: hmm, I fiddled around with removing some C++ code, but that should only have touched the current process args
[21:48:23] *** Joins: Shaladdle (anonymous@400E34DE.F3E8A984.689607DE.IP)
[21:48:25] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[21:48:29] *** Joins: maxli (maxli@moz-A607CA26.student.cs.uwaterloo.ca)
[21:48:44] <brson> maybe that caused a regression somehow?
[21:48:53] <acrichto> yeah lemme look into that
[21:49:10] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[21:50:31] *** Quits: Shaladdle (anonymous@400E34DE.F3E8A984.689607DE.IP) (Quit: Shaladdle)
[21:50:44] *** Joins: bheylin_ (brianheyli@moz-8255E94E.adsl.online.nl)
[21:51:41] *** Quits: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu) (Ping timeout)
[21:51:42] *** Quits: nsf (nsf@moz-EEF3238A.convex.ru) (Quit: WeeChat 0.4.1)
[21:53:29] <jeaye> Anyone have info on who was working on the ncurses bindings?
[21:54:02] *** Quits: tjc (tjc@moz-CC24D9B1.tmodns.net) (Quit: Places to go, people to annoy)
[21:54:04] <cmr> jeaye: eevee was working on something at one point.
[21:54:05] *** Quits: maik (maik@moz-F4777195.dip0.t-ipconnect.de) (Ping timeout)
[21:54:17] <cmr> Eridius and I wrote the termcap stuff.
[21:54:37] <jeaye> cmr: termcap?
[21:54:42] <cmr> terminfo, sorry.
[21:54:46] <jeaye> ah
[21:54:51] <jeaye> That's just the coloring, right?
[21:54:56] <jeaye> formatting, anyway
[21:55:02] <cmr> No, it parses ncurses-generated terminfo files
[21:55:04] <acrichto> brson: yeah actually I think that it was the libuv-process bindings, the first two tries of that pull bounced for interrupted syscalls and then ever since it landed we've been having problems
[21:55:10] <acrichto> jeez these libuv bindings will be the end of me
[21:55:10] <jeaye> ah
[21:55:14] <cmr> For all terminal escape codes.
[21:55:18] <cmr> And various things
[21:56:16] <jeaye> Ah. I'm interested in making a curses-based UI. If eevee doesn't have a repo to fork, I s'pose I could make my own. :P
[21:56:30] <Eridius> jeaye: I have a fork of pnkfelix's rust-curses that's been updated to recent master: https://github.com/kballard/rust-curses
[21:56:40] <Eridius> it's just a thin wrapper around ncurses calls though
[21:57:07] <jeaye> All it needs to be. Thanks, mate.
[21:57:21] <acrichto> brson: yeah as soon as we turn on libuv signal handling (which processes do implicitly), then we lose SA_RESTART
[21:57:51] <jeaye> Ahh, very thin indeed.
[21:58:35] <Luqman> brson: yep, confirmed that it works on os x
[22:00:16] <brson> acrichto: interesting!
[22:00:30] <brson> acrichto: how did you find that out?
[22:01:11] *** Quits: Larry (larryfox@moz-343B6F0C.nyc.biz.rr.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[22:01:12] <acrichto> brson: oh well "figured it out" has strong implications :P, I'm mostly guessing (I don't know for sure)
[22:03:21] <eevee> i was working on a totally curses-less tui lib
[22:03:41] <jeaye> eevee: Have a link?
[22:03:43] <eevee> it's not terribly useful at the moment but if you feel like figuring out how such a thing would work then that's great  :)  https://github.com/eevee/amulet
[22:03:52] <jeaye> cheers
[22:04:01] <jeaye> I'm not limited to curses; just looking for tui
[22:04:26] <eevee> so far the most you can do is draw manually on one big canvas
[22:06:24] *** Quits: eatkinson (eatkinson@moz-3CD3C4A7.airbears2.berkeley.edu) (Quit: eatkinson)
[22:08:58] *** Quits: bheylin_ (brianheyli@moz-8255E94E.adsl.online.nl) (Quit: bheylin_)
[22:10:08] *** Quits: jgilbert (jgilbert@moz-BBE3ABD.mv.mozilla.com) (Connection reset by peer)
[22:10:14] *** Quits: KindOne (KindOne@moz-789BE10E.dynamic.ip.windstream.net) (Ping timeout)
[22:10:24] <acrichto> brson: I was just looking at the logs and I didn't see any failures until the libuv processes started to land, and then once they landed there was lots of problems, and then that's also a change that probably deals with signal-like things
[22:10:48] <acrichto> brson: also, SIGCHLD is an async signal, and I looked at libuv and didn't find any mention of SA_RESTART, so that's probably what's happening (SIGCHLD during a syscall)
[22:11:05] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[22:11:05] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14467f12f to 1485c0fb7: 02http://git.io/N3iJvQ
[22:11:05] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[22:11:05] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[22:11:06] <ghrust> 01[13rust01] 15bors pushed 19 new commits to 06auto: 02http://git.io/h5iI5A
[22:11:06] <ghrust> 13rust/06auto 14f364683 15Patrick Walton: librustc: Change fold to use traits instead of `@fn`.
[22:11:06] <ghrust> 13rust/06auto 14788fb39 15Patrick Walton: librustc: Remove garbage collected functions from front/{config,test} and metadata/{tydecode,tyencode}
[22:11:06] <ghrust> 13rust/06auto 14574c3e9 15Patrick Walton: librutsc: Port the pretty printer annotation infrastructure to use traits instead of garbage collected functions.
[22:11:08] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[22:11:34] *** Quits: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP) (Quit: Leaving)
[22:11:42] *** Joins: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP)
[22:12:05] *** Quits: steveklabnik (steveklabn@1E2EB9E3.186539A3.965084DF.IP) (Ping timeout)
[22:12:06] *** Quits: LimeBurst (me@247D1419.D73964AC.27A8748.IP) (Ping timeout)
[22:12:16] *** Joins: jgilbert (jgilbert@moz-BBE3ABD.mv.mozilla.com)
[22:12:21] <pnkfelix> Eridius: holy cow I forgot i did that
[22:12:41] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[22:12:57] <sfackler> acrichto: what boots up the libuv signal stuff? I straced a program with an empty main and didn't see any calls to sigaction
[22:13:03] <Eridius> pnkfelix: :D
[22:13:28] <acrichto> sfackler: uv_spawn
[22:13:36] *** Quits: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP) (Quit: Leaving)
[22:14:11] <strcat> sfackler: on linux it should be using signalfd
[22:14:39] <strcat> afaik it's not possible to use those old signal handling APIs to write truly thread-safe signal handling
[22:14:40] <acrichto> sfackler: it's only because the tests actually exercise the libuv process bindings
[22:14:52] *** Quits: ksev (DrunkenPan@745B767B.989A61DC.CA5B6332.IP) (Ping timeout)
[22:15:05] <strcat> I think on non-linux OSes it would have to use hacks with pselect and masking signals, if it's safe
[22:15:27] <acrichto> strcat: I think libuv needs some work...
[22:16:26] *** Joins: LimeBurst (me@247D1419.D73964AC.27A8748.IP)
[22:16:55] *** Joins: ercxx__ (ercan@moz-7CFF3469.dyn.optonline.net)
[22:18:22] <acrichto> brson: https://github.com/mozilla/rust/pull/9342
[22:18:42] <pnkfelix> brson: wait, why does sizeof need to be a keyword?  Is that because we need something special for const-expressions?
[22:19:04] <strcat> because we don't have CTFE so we're going to keep adding more and more workarounds :(
[22:19:18] <brson> pnkfelix: yes
[22:20:33] * strcat wonders if an eval!() without the ability to refer to other things in the module would be enough
[22:20:35] *** Joins: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP)
[22:21:36] *** Quits: mihneadb_ (mihneadb@C2E95B11.18650252.A5830293.IP) (Ping timeout)
[22:21:57] <sfackler> acrichto: re-r? https://github.com/mozilla/rust/pull/9285 I am bad and didn't run a full make check until now c.c
[22:21:58] <tikue_> strcat: slippery slope fallacy
[22:22:24] <acrichto> sfackler: haha I never do that :P
[22:22:32] <acrichto> bors is excellent at running make check for me
[22:22:35] <strcat> tikue_: adding another feature to the language to work around it isn't a slippery slope
[22:22:40] <strcat> it's the pit of mud at the bottom ;p
[22:23:01] <tikue_> strcat: wait how many things are already in the language to work around ctfe? i wasn't aware of too many at this point
[22:23:05] <strcat> 'as'
[22:23:11] *** Quits: ercxx__ (ercan@moz-7CFF3469.dyn.optonline.net) (Quit: WeeChat 0.4.1)
[22:23:19] *** Joins: KindOne (KindOne@moz-AA6338CF.dynamic.ip.windstream.net)
[22:23:34] <strcat> primitive types having special operators
[22:23:40] <Eridius> strcat: 'as' is a workaround? Surely casting of integral types should be a language feature and not a function
[22:23:52] <strcat> Eridius: why?
[22:24:18] <tikue_> strcat: how is operator syntax related to ctfe? 
[22:24:22] <strcat> we have `as` because we need casts in constant expressions, I'm sure it would have been removed if we could evaluate any code at compile-time
[22:24:24] <strcat> tikue_: it's not operator syntax
[22:24:31] <sfackler> Eridius: C++'s static_cast at least visually resembles ctfe
[22:24:31] <Eridius> well I suppose you could make it an intrinsic, but how is that any better?
[22:24:43] <Eridius> sfackler: sure but it's not 
[22:24:49] <strcat> Eridius: because it doesn't special-case syntax for certain types
[22:25:03] <strcat> it doesn't special-case one kind of downcasting (truncating)
[22:25:06] <Eridius> strcat: clearly we just need to add operator overloading for 'as' ;)
[22:25:15] *** Joins: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net)
[22:25:21] <strcat> Eridius: clearly that would make things worse, because truncating is not what people expect ;p
[22:25:25] <doomlord__> github shows tabsize=8 ? is it configurable per language (it has some basic syntax highlighting, right)
[22:25:32] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[22:25:38] <strcat> rusti: 0b100000000
[22:25:39] -rusti- 256
[22:25:42] <strcat> rusti: 0b100000000 as u8
[22:25:42] -rusti- 0u8
[22:25:47] <strcat> is that really what you expect 'as' to do?
[22:25:49] <doomlord__> i know this is why people argue for spaces instead of tabs :(
[22:25:49] <Eridius> strcat: yep
[22:25:52] <strcat> rusti: 0b100000100 as u8
[22:25:52] -rusti- 4u8
[22:26:01] <Eridius> strcat: that's precisely what I expect 'as' to do
[22:26:04] <cmr> doomlord__: I don't think it's configurable.
[22:26:05] <strcat> for big integer -> uint, is that what you expect it to do?
[22:26:19] <strcat> Eridius: so why doesn't it do that for floats?
[22:26:22] <Eridius> the only exception is casting to bool, because bool is thought of as different than just 1-bit integral type
[22:26:26] <jeaye> doomlord__: spaces <3
[22:26:32] <strcat> Eridius: casting as bool is gone
[22:26:34] <doomlord__> i'll start searching for their suggestions box ..    TABS <3
[22:26:35] <Eridius> well ok, casting to float too obviously doesn't truncate
[22:26:42] <strcat> Eridius: casting from float doesn't either
[22:26:46] <Eridius> strcat: true, I forgot that was removed
[22:26:46] <doomlord__> :)
[22:26:57] <Eridius> strcat: what happens if you cast from a float to an out-of-bounds type?
[22:27:06] <strcat> rusti: 0b1_0000_0000_0000_0000
[22:27:06] -rusti- 65536
[22:27:15] <strcat> Eridius: pretty sure it clamps
[22:27:20] <Eridius> rusti: 12345678901234.0 as int
[22:27:21] -rusti- 12345678901234
[22:27:25] <Eridius> rusti: 12345678901234.0 as int32
[22:27:25] -rusti- <anon>:7:29: 7:34 error: use of undeclared type name `int32`
[22:27:25] -rusti- <anon>:7          12345678901234.0 as int32
[22:27:26] -rusti-                                       ^~~~~
[22:27:26] -rusti- error: aborting due to previous error
[22:27:26] -rusti- application terminated with error code 101
[22:27:28] <Eridius> rusti: 12345678901234.0 as i32
[22:27:28] -rusti- 2147483647i32
[22:27:35] <Eridius> well that's.. interesting
[22:27:40] <strcat> yeah, it's not consistent
[22:27:41] <myname> i don't get 10000000 becoming 0
[22:27:49] <strcat> myname: because it chops off the upper bits
[22:27:54] <strcat> I don't think it's what people expect
[22:28:03] <myname> why should it?
[22:28:04] <strcat> it's just what 'as' does because 'as' is hardcoded to use a specific LLVM feature
[22:28:04] <andrew-d_w> rusti: 3.4e38
[22:28:04] -rusti- 340000000000000000000002880604240206488
[22:28:11] <andrew-d_w> rusti: 3.4e38 as i32
[22:28:11] -rusti- 2147483647i32
[22:28:14] <andrew-d_w> rusti: 3.4e38 as u32
[22:28:15] -rusti- 4294967295u32
[22:28:23] <Eridius> strcat: who are these "people" you refer to? Truncating when casting from one integral type to another seems normal to me
[22:28:31] <strcat> users of the language, me
[22:28:42] <strcat> truncating isn't what I want in 99% of cases
[22:28:47] <myname> Eridius: but u8 should work with 8 bits, no?
[22:28:50] <strcat> or what I expect, because it's not what other high-level languages do
[22:28:58] <andrew-d_w> strcat: what do you expect, instead?
[22:29:13] <tikue_> strcat: what do other high-level languages do? 
[22:29:37] <Eridius> strcat: any C user should expect truncation
[22:29:42] <strcat> rust isn't C
[22:29:50] <myname> oh, i misscounted
[22:29:51] <myname> nvmd
[22:30:44] <tikue_> how would one cast a number > 2**8 to u8 without truncation  
[22:30:54] <sp3d> modulus
[22:31:01] <sp3d> well
[22:31:02] <strcat> clamping to the max, like converting floats to integers does
[22:31:05] <strcat> or modulus
[22:31:08] <strcat> depends on the use case
[22:31:08] <sp3d> "truncating" bits or "truncating" values? :P
[22:31:12] <Eridius> strcat: clamping to max would be extremely surprising to me
[22:31:16] <myname> strcat: about your "just use one single var" thing, how would you change a value in a tuple?
[22:31:19] <cmr> I would expect truncation as well.
[22:31:24] <strcat> Eridius: so are you surprised that converting a float to an integer will clamp to the max?
[22:31:25] <Eridius> and truncation is the same thing as modulus for unsigned powers of two
[22:31:32] <strcat> we have both behaviours
[22:31:34] <Eridius> strcat: eh, I'm not sure what else it would do tbh
[22:31:41] <Eridius> converting float -> int is a weird case to begin with
[22:31:47] <engla> isn't modular arithmetic expected of u8 to u64?  the uint type is the one that could be different
[22:31:55] <strcat> Eridius: so why is it hard-coded in the language with syntax?
[22:31:56] <sp3d> what's "NaN as u8"?
[22:32:10] <myname> sp3d: go try
[22:32:33] <myname> rusti: 5.0 / 0.0
[22:32:34] -rusti- inf
[22:32:35] *** Quits: kmc (keegan@moz-D2A53639.compute-1.amazonaws.com) (Ping timeout)
[22:32:35] *** Quits: aeqwa (aeqwa@moz-ABA21D72.dsl.tropolys.de) (Quit: Lost terminal)
[22:32:37] <myname> damn
[22:32:41] <myname> rusti: 0.0 / 0.0
[22:32:42] -rusti- NaN
[22:32:43] <Eridius> strcat: because people expect to be able to convert it? it's really useful
[22:32:45] *** Quits: maxli (maxli@moz-A607CA26.student.cs.uwaterloo.ca) (Quit: Leaving.)
[22:32:50] <myname> rusti: (0.0 / 0.0) as u8
[22:32:53] -rusti- 0u8
[22:32:54] *** Joins: maxli (maxli@moz-A607CA26.student.cs.uwaterloo.ca)
[22:32:58] <strcat> Eridius: it doesn't have to be in the language as syntax to do it
[22:33:17] *** Joins: kmc (keegan@moz-BE33DA21.fw1.sfo1.mozilla.net)
[22:33:17] *** ChanServ sets mode: +o kmc
[22:33:19] <strcat> why do we have truncate behaviour for some, and clamping for others?
[22:33:26] <strcat> if it's overloadable, which should we ask users to do?
[22:33:35] <Eridius> strcat: technically we don't need any operator, we could use functions for everything. div(3,2)
[22:33:48] <strcat> I never suggested we should remove /
[22:33:51] *** Joins: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com)
[22:33:57] <Eridius> so why is 'as' worthy of removing and not /?
[22:34:00] *** Joins: eatkinson (eatkinson@moz-E57448EF.airbears2.berkeley.edu)
[22:34:06] <strcat> 'as' doesn't exist in math notation anyway
[22:34:15] <strcat> it is not familiar, there's no benefit to it over a method imo
[22:34:27] <cmr> I agree that `as` is a good candidate for remvoal.
[22:34:28] <strcat> what's the precedence of 'as'?
[22:34:32] <strcat> no one remembers
[22:34:35] <cmr> Mostly because there are lots of possible conversions.
[22:34:38] <tikue_> imo remove `as` and use it for pattern matching in place of @ a la sml
[22:34:40] <tikue_> :)
[22:34:47] <cmr> tikue_: I'd go for that.
[22:34:50] *** Quits: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP) (Quit: Leaving)
[22:34:51] <strcat> tikue_: we can use 'in' for that
[22:34:54] <strcat> x in pattern
[22:34:56] <tikue_> strcat: good point
[22:34:56] <Eridius> @ > 'as' for pattern matching
[22:34:57] <tikue_> that'd be nice
[22:35:02] <pnkfelix> tikue_: the point of the conversation is that the reason we still have `as` is for const expressions
[22:35:02] <SiegeLord> I don't remember the precedence of & and | and they are still around :P
[22:35:14] <tikue_> pnkfelix: i know, i was being facetious
[22:35:21] <tikue_> :\
[22:35:23] *** Joins: kmc_ (keegan@moz-D2A53639.compute-1.amazonaws.com)
[22:35:26] *** Joins: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP)
[22:35:49] *** Quits: kmc (keegan@moz-BE33DA21.fw1.sfo1.mozilla.net) (Quit: Leaving)
[22:35:53] *** kmc_ is now known as kmc
[22:35:54] <myname> SiegeLord: what, that's common knowledge
[22:35:56] <Eridius> FWIW, Haskell appears to truncate when converting between integral types
[22:36:04] <Eridius> so it's not just "low-level" languages like C
[22:36:13] <strcat> Eridius: how are you converting them?
[22:36:13] <pnkfelix> tikue: sorry, my humor meter is malfunctioning
[22:36:23] <Eridius> strcat: (fromIntegral 257) :: Int8
[22:36:46] <Eridius> or just (257 :: Int8) but I wanted to construct a valid larger-sized integer first
[22:37:00] <tikue_> pnkfelix: haha it's ok. I think I was the one who started this topic, when adding sizeof in lieu of a CTFE solution was being discussed
[22:38:28] *** Quits: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP) (Quit: Leaving)
[22:38:30] <tikue_> what if we got rid of ALL builtin operators, added infix notation, and then shoved them into libstd
[22:38:44] <tikue_> and the prelude
[22:38:57] <Eridius> interestingly, converting an out-of-bounds float to an Integral using `floor` in Haskell appears to yield 0
[22:38:59] * tikue_ is half-serious
[22:39:01] <strcat> built-in operators and things special-cased for const exprs aren't the same topic
[22:39:12] <strcat> an overload of + doesn't work in a const expr
[22:39:18] <strcat> you're stuck with rust's numeric types
[22:39:25] <Eridius> well no, actually I just constructed a float that's a power of 2. silly me
[22:39:27] <tikue_> strcat: why?
[22:39:30] *** Joins: gareth0 (gareth0@7C428FA9.3FD5F917.1A294DCF.IP)
[22:39:32] <strcat> tikue_: because we don't have CTFE
[22:39:35] <tikue_> i know
[22:39:37] <tikue_> but we should
[22:39:43] <tikue_> and then we could do that
[22:40:04] *** Quits: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net) (Quit: dave1629)
[22:40:06] <Eridius> converting out of bounds float -> integer appears to behave as converting it to a bignum, and then truncating that
[22:40:09] <strcat> so why are we moving in the opposite direction?
[22:40:13] <strcat> and adding more special cases
[22:40:13] <Eridius> (in Haskell)
[22:40:15] <strcat> :s
[22:40:47] *** Quits: Palmik (palmik@moz-11EA685D.pks.muni.cz) (Quit: Lost terminal)
[22:40:52] <tikue_> strcat: i don't disagree with you, fundamentally. i just think that until we can do that, having sizeof isn't exactly a deal breaker. no slippery slope her
[22:40:53] <tikue_> here*
[22:41:02] <strcat> not saying it's a slippery slope
[22:41:10] <strcat> I am saying we shouldn't add workarounds to the language
[22:41:11] *** Joins: rlbaker (rlbaker@moz-D05907D4.hfc.comcastbusiness.net)
[22:41:19] <strcat> we should fix the problems necessitating the workarounds
[22:41:23] <tikue_> I don't disagree
[22:41:29] <strcat> we shouldn't have more and more special cased types
[22:41:47] <tikue_> strcat: what do you mean by "more and more" ? i'm not aware of that many right now
[22:42:01] *** Joins: slack1256 (slack@moz-542CA772.baf.movistar.cl)
[22:42:01] <strcat> C++11 has generic container initialization and C++14 will add much more powerful CTFE
[22:42:08] <SiegeLord> How would sizeof be implemented as a CT function?
[22:42:08] <strcat> that's what we're competing with
[22:42:21] <strcat> SiegeLord: you could call the already existing size_of
[22:42:32] <SiegeLord> It should be a associated constant anyway, imo
[22:42:57] <pnkfelix> nmatsakis: I think I've gotten something working for #4691
[22:43:02] <tikue_> strcat: isn't the main problem that rust doesn't have the man power to accomplish this all in a timely fashion?
[22:43:19] <strcat> tikue_: we don't have to
[22:43:22] *** Joins: ksev (DrunkenPan@745B767B.989A61DC.CA5B6332.IP)
[22:43:26] <pnkfelix> nmatsakis: (the thing to disallow moves via FSU for Droppable structs)
[22:43:37] <tikue_> strcat: that's not true
[22:43:39] <strcat> 2 years from now, we can add CTFE
[22:44:02] <tikue_> strcat: ok, but in the meantime, how do you get to 1.0 without some type of sizeof
[22:44:15] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[22:44:16] <strcat> what's the use case?
[22:44:27] <strcat> we've gotten this far without it
[22:44:29] <tikue_> *shrug* i didn't add it, but presumably the consensus is that there are use cases
[22:44:41] <strcat> like what?
[22:44:45] *** Quits: kmc (keegan@moz-D2A53639.compute-1.amazonaws.com) (Ping timeout)
[22:44:54] <strcat> I know there are use cases for alignas/alignof too
[22:45:07] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[22:45:07] <strcat> but C got to 2011 without them
[22:45:16] *** Joins: gandalf (zbraniecki@moz-BE33DA21.fw1.sfo1.mozilla.net)
[22:45:31] <tikue_> strcat: is sizeof in master right now?
[22:45:40] <strcat> not as a constant expression
[22:45:54] *** Quits: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca) (Ping timeout)
[22:46:00] <tikue_> so then maybe there's still time to prevent its inclusion :)
[22:46:12] <strcat> well that's what we're talking about
[22:46:31] <tikue_> ah, i didn't realize. i assumed this was more of a lamentation.
[22:46:32] *** Quits: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP) (Ping timeout)
[22:46:35] <pnkfelix> tikue_: yeah, sorry, I didn't supply the context for the question when I asked it
[22:46:51] <pnkfelix> tikue_: its issue #9333
[22:47:13] <brson> the sizeof issue is just to reserve the word as a precaution
[22:47:15] <tikue_> pnkfelix: thank you
[22:47:26] *** Joins: kmc (keegan@moz-D2A53639.compute-1.amazonaws.com)
[22:47:26] *** ChanServ sets mode: +o kmc
[22:47:46] <pnkfelix> (Personally, I'm with Siegelord: Lets focus effort on adding associated constants, and then we can implement sizeof that way.  But I don't mind reserving the keyword, though other people seem to get so antsy about our keyword count...)
[22:48:21] <tikue_> i think the argument in favor of CTFE is sound. however, it doesn't seem like a loss to me to reserve it just in case
[22:48:38] *** Quits: lkuper (lkuper@F7BFB51E.A0D37E9B.51B6877.IP) (Quit: lkuper)
[22:49:14] *** Quits: ksev (DrunkenPan@745B767B.989A61DC.CA5B6332.IP) (Ping timeout)
[22:49:41] *** Quits: eatkinson (eatkinson@moz-E57448EF.airbears2.berkeley.edu) (Quit: eatkinson)
[22:50:26] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[22:50:28] <engla> reserving keywords is a sane precaution. you hardly lose anything
[22:51:41] <brson> pnkfelix: how do you do sizeof with associated constants?
[22:52:02] <strcat> brson: you make it an associated constant on the Sized kind (assuming we do DST)
[22:52:07] <strcat> T::size
[22:52:12] <strcat> or whatever
[22:52:16] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[22:52:21] <strcat> well....
[22:52:24] <strcat> :: isn't magical
[22:52:26] <strcat> so
[22:52:27] <brson> oh, so it's still compiler magic?
[22:52:29] <strcat> Sized::<for int>::size
[22:52:32] <engla> isn't it  Sized::<for T>::size_of ?
[22:52:34] <engla> right
[22:52:53] <doomlord__> i would have thought its better to over-reserve keywords and release some after 1.0. more keywords = less ambiguities in syntax, right?
[22:52:56] <brson> we don't have any other magic methods like that now do we?
[22:52:57] *** Quits: LIV3N (IceChat9@moz-C89FADF7.hsd1.or.comcast.net) (Quit: Some folks are wise, and some otherwise.)
[22:53:42] <engla> associated constants are not implemented
[22:53:53] <brson>  *magic constants
[22:54:06] *** Quits: msingle (Thunderbir@moz-20675462.nrflva.fios.verizon.net) (Ping timeout)
[22:54:08] <strcat> brson: well, it wouldn't be that magical since you'd only be able to access it via the trait
[22:54:19] <strcat> user code would be able to define a similar trait
[22:54:24] <benh> Still think T::trait_member should resolve to Trait::<for T>::trait_member where it's unambiguous :D
[22:54:36] <brson> it would be a new mechanism for accessing a compiler intrinsic
[22:54:39] *** Quits: tefter (tefter@B5D119DC.B856A0A1.73804765.IP) (Quit: Leaving)
[22:55:15] *** Quits: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net) (Client exited)
[22:56:02] <pnkfelix> brson: strcat's summary is what I had in mind, I think.  (So you'd have to be able to write associated constants within a constant expression, or else the problem's not solved)
[22:56:04] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[22:56:04] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 142fba54a to 1485c0fb7: 02http://git.io/N3iJvQ
[22:56:04] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[22:56:05] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[22:56:05] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/j7rZ-g
[22:56:05] <ghrust> 13rust/06auto 145165ecd 15Alex Crichton: Ignore io::process tests...
[22:56:05] <ghrust> 13rust/06auto 14570431f 15bors: auto merge of #9342 : alexcrichton/rust/ignore-libuv-signal-tests, r=brson...
[22:56:06] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[22:57:17] <strcat> trait Foo { static x: uint } impl<T> Foo for T { static x: uint = 0 } static y: uint = Foo::<for int>::x;
[22:57:22] <strcat> is what user code would be able to do
[22:57:23] <engla> the Primitive trait and its suggested  ::bits  constant is similar, except it should be implemented in libstd
[22:57:23] *** Quits: tikue_ (tkuehn@787D2D52.F3E8A984.689607DE.IP) (Ping timeout)
[22:57:44] <strcat> yeah, bits would be just library code
[22:57:47] *** Quits: nkoep (nik@moz-6797B832.pool.mediaways.net) (Client exited)
[22:57:59] <strcat> Sized is a kind so it would need compiler support
[22:58:26] <pnkfelix> has anyone else on OS X seen weirdness with the src/etc/pkg/rust-logo.ico file?  I'm worried somethings gone on with the eol=lf gitattributes business, but I'm nto sure...
[22:58:29] *** Quits: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[22:59:35] <strcat> pnkfelix: seems okay on linux
[22:59:55] <lbergstrom> pnkfelix: happened to me on OS X as well (marked as modified, but I haven't touched it)
[23:00:11] <pnkfelix> git keeps telling me its been editted, and git diff warns me: warning: CRLF will be replaced by LF in src/etc/pkg/rust-logo.ico.
[23:01:31] <strcat> ..
[23:01:34] <strcat> hm
[23:01:37] <engla> I think .gitattributes marks all files as text
[23:01:48] <strcat> yup
[23:01:53] <strcat> I had it on auto before
[23:01:57] <strcat> looks like it was changed
[23:02:03] *** Joins: tikue_ (tkuehn@787D2D52.F3E8A984.689607DE.IP)
[23:02:17] <benh> I had that problem too and 'solved' it by nuking all my changes with reset --hard ;)
[23:02:28] <tikue_> i can't wait for https://github.com/mozilla/rust/pull/9250 to land. anyone else want to back up dbaupp's approval?
[23:02:33] *** Quits: huseby (huseby@19BD73A1.5D8BCA3A.A0C1B52F.IP) (Quit: Leaving)
[23:02:38] <strcat> pnkfelix: I think it should be text=auto again
[23:02:38] <benh> (on linux)
[23:02:51] <strcat> not 'text'
[23:03:28] *** Joins: Larry (larryfox@moz-B8648F0F.nycmny.fios.verizon.net)
[23:03:51] <strcat> brson: btw do you know what the process will be for marking stuff as stable? open an RFC + it gets discussed in a meeting?
[23:04:23] <pnkfelix> adding `*.ico binary` to .gitattributes might also solve the problem
[23:04:42] <strcat> pnkfelix: we should still be using the auto-detection though
[23:04:50] *** Joins: eatkinson (eatkinson@moz-261EDE03.hsd1.ca.comcast.net)
[23:04:50] <strcat> did we disable it to fix a bug?
[23:05:17] <pnkfelix> strcat: I think so,  #7723
[23:05:28] <engla>  git log -- .gitattributes  => that issue ^
[23:05:30] <strcat> ah I didn't notice that it slipped through a change from text=auto to text
[23:05:35] <strcat> I thought it just added eof=lf
[23:05:41] * strcat is bad at reviewing apparently
[23:06:15] <strcat> well I'll make a PR for a fix and if it breaks windows, someone will notice ;p
[23:06:44] *** Quits: tikue_ (tkuehn@787D2D52.F3E8A984.689607DE.IP) (Quit: tikue_)
[23:07:25] *** Quits: donri (donri@moz-9BB61102.tbcn.telia.com) (Client exited)
[23:07:35] <strcat> https://github.com/mozilla/rust/pull/9344 r?
[23:08:24] <pnkfelix> strcat: Should we go ahead and add `*.ico binary` anyway, as a defensive measure?
[23:08:42] <brson> strcat: We don't know what the process is yet. Probably first prioritize by module: we know for sure that vast parts of vec/str, numerics, core traits, option/result, need to be stable. Then probably have somebody responsible for proposing promotions and leading the discussion, either on the ml or via pr. Some sort of consensus. I really want the tooling around stability tags to be solid so that the tags have some meaningful enforcement, but we could 
[23:08:45] <strcat> pnkfelix: git knows it's binary
[23:09:09] <strcat> brson: (I think your message got cut off)
[23:09:14] <strcat> your irc client doesn't wrap automatically :)
[23:09:18] *** Joins: tikue_ (tkuehn@787D2D52.F3E8A984.689607DE.IP)
[23:09:24] *** Quits: sinma (sinma@moz-6A11C47C.fbx.proxad.net) (Quit: Konversation terminated!)
[23:09:32] <bstrie> brson: ended at "but we could"
[23:09:41] <brson>  probably start the 
[23:09:43] <pnkfelix> strcat: true, I guess as long as no one makes the same mistake again in the .gitattributes file ...
[23:09:43] <brson>                process before
[23:09:51] <brson> that's it
[23:09:59] <strcat> pnkfelix: I could add a comment
[23:10:09] *** Quits: sebcrozet (sebcrozet@moz-C27D92D8.w193-252.abo.wanadoo.fr) (Quit: Gone)
[23:10:24] <pnkfelix> eh, don't worry about it
[23:10:26] <strcat> I think I was the one to review that PR.... and I knew it was supposed to be text=auto >.<
[23:10:47] <strcat> I was the one who added the gitattributes file ;p
[23:10:59] * strcat sighs
[23:11:01] <engla> perfection comes with iteration strcat 
[23:11:11] <brson> strcat: I guess we should get this process nailed down and started soon. There are a few language changes that could essentially still destabilize everything, but 'stable' can be fairly relative until we hit a major release. We do need attain some discipline about what stable means though or else it's pointless
[23:11:31] <engla> can't demand every review to be perfect
[23:11:56] *** Joins: Ralith (ralith@moz-A7071297.customer.broadstripe.net)
[23:12:18] <bstrie> brson: I've been holding off doing anything in rust because of both GC-in-a-lib and because of DST
[23:12:55] <brson> bstrie: yes, there's a big chain of interrelated pointer changes that will shake the very foundations of rust!
[23:13:02] <bstrie> those seem disruptive enough to discourage anything
[23:13:02] <bstrie> :)
[23:13:12] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[23:13:15] <bstrie> brson: I'm definitely in favor of them!
[23:13:45] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[23:13:46] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[23:14:28] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[23:14:52] <gareth0> what is DST?
[23:14:57] <Eridius> daylight savings time
[23:15:24] <Eridius> brson: what's going on with pointers?
[23:15:26] <gareth0> :p
[23:16:22] *** Quits: canhtak (jeremy@moz-44AEB22E.wl.t.ulaval.ca) (Quit: canhtak)
[23:16:29] *** Joins: tefter (tefter@B5D119DC.B856A0A1.73804765.IP)
[23:16:34] <sp3d> are those going to happen soonish? :D
[23:16:48] *** Quits: Ralith (ralith@moz-A7071297.customer.broadstripe.net) (Ping timeout)
[23:17:11] *** Joins: dave1629 (dave@moz-17578A1A.hsd1.va.comcast.net)
[23:18:59] <kimundi> gareth0: dynamic sized types
[23:19:13] <tikue_> kimundi: would that allow pointerless linked lists
[23:19:25] <kimundi> gareth0: In short, making str and [u8] real types
[23:19:37] *** Joins: ofeldt (ofeldt@moz-95AE0D55.dip0.t-ipconnect.de)
[23:19:42] <Eridius> kimundi: oh is that actually happening?
[23:19:51] <kimundi> tikue_: I... don't ... think so? How would taht even work?
[23:20:01] <tikue_> kimundi: i dunno ._____. dynamic stuff?
[23:20:06] <Eridius> tikue_: I don't think there's such a thing as "pointerless linked lists"
[23:20:16] <Eridius> even conceptually
[23:20:23] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[23:20:24] <tikue_> Eridius: how about
[23:20:31] <engla> if every list length is its own type. Node(Node(Node(Nil)))
[23:20:33] <kimundi> a chain without links is not a chain :P
[23:20:34] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[23:20:37] <tikue_> struct Foo { next: Option<Foo> }
[23:20:43] *** Quits: ofeldt- (ofeldt@moz-ED5D7E12.dip0.t-ipconnect.de) (Ping timeout)
[23:20:44] <tikue_> no pointer
[23:20:50] <kimundi> tikue_: That'S an infinite sided type
[23:20:50] <Eridius> tikue_: that's a recursive datatype and you can't construct it
[23:20:53] <Eridius> because it has infinite size
[23:20:55] <tikue_> i know
[23:21:04] <tikue_> i thought dynamic sized types might be relevant
[23:21:08] <kimundi> tikue_: That wouldn't be possible with dst either
[23:21:09] <tikue_> i suppose it's a different thing :P
[23:21:12] *** Joins: Ralith (ralith@moz-36466B9F.customer.broadstripe.net)
[23:21:29] <Eridius> tikue_: even if you could construct it, you'd have just created a very awkward vector
[23:21:32] <Eridius> and not a linked list at all
[23:21:32] <pnkfelix> tikue_: nmatsakis has blog posts explaining what DST means
[23:21:46] <gareth0> ah, i see kimundi, thanks
[23:21:50] <kimundi> tikue_: dst is about being able to 'impl str', and having &self be an slice for example
[23:21:51] <tikue_> pnkfelix: ah ok
[23:22:05] <tikue_> kimundi: gotcha
[23:22:09] <engla> tikue_: this could be a linked list without pointers:  (1, (2, (3, (4, ()))))  :-)
[23:22:24] <pnkfelix> tikue_: this is as good a place to start as any: http://smallcultfollowing.com/babysteps/blog/2013/04/30/dynamically-sized-types/
[23:22:39] <tikue_> pnkfelix: thanks!
[23:22:51] <tikue_> engla: how would you define append for such a type :)
[23:22:58] <tikue_> tuples depend on the size
[23:23:07] <strcat> tikue_: you only prepend
[23:23:10] *** Quits: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com) (Ping timeout)
[23:23:12] <tikue_> strcat: semantics
[23:23:13] <tikue_> !
[23:23:14] <Eridius> engla: without pointers means without links
[23:23:19] *** Quits: eatkinson (eatkinson@moz-261EDE03.hsd1.ca.comcast.net) (Quit: eatkinson)
[23:23:22] <Eridius> can't have a linked list without pointers.
[23:23:31] <Eridius> a linked list without pointers has none of the unique properties of linked lists
[23:23:34] <kimundi> tikue_: Basically, str, [T], Trait etc would be come types without compile-time known size, which can not be stored anywhere except by indirection over an ~ or & ptr, which would store the necessarry size information as a slice, or traitobject etc...
[23:23:41] <amatus> looks like rustc is generating armv7 instructions
[23:23:59] <pnkfelix> amatus: its almost certainly due to how LLVM is being configured
[23:24:07] <strcat> amatus: can you use --target-cpu ?
[23:24:10] <tikue_> i suppose it'd be as easy as fn append<H, T>(head: H, tail: T) -> { (H, T) }
[23:24:43] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[23:24:51] <kimundi> tikue_: The problem is that that basically ends up as an fixed sized vector :P
[23:25:21] <amatus> strcat: my guesses at valid cpus all failed
[23:25:26] <kimundi> tikue_: Like, memory identical
[23:25:29] <engla> Eridius: inclusion could be said to be a link
[23:25:33] *** Joins: ozten (ozten@moz-DD3B00B4.hsd1.wa.comcast.net)
[23:25:37] <tikue_> kimundi: why is that a problem :P
[23:25:46] <strcat> amatus: llc -mcpu=help will list them
[23:26:12] <amatus> where do i find llc? it's not in my path
[23:26:22] <strcat> amatus: do you have the dir where you built rust around?
[23:26:30] <strcat> we don't install the LLVM tools but we build them
[23:26:30] <amatus> i do
[23:26:47] <strcat> target-triple-dir/llvm/Release+Asserts/bin
[23:27:49] *** Quits: rlbaker (rlbaker@moz-D05907D4.hfc.comcastbusiness.net) (Ping timeout)
[23:28:13] <amatus> seems to be listing only x86 processors
[23:28:28] *** Quits: ozten (ozten@moz-DD3B00B4.hsd1.wa.comcast.net) (Ping timeout)
[23:28:34] <kimundi> tikue_: Well, fixed sized types are an problem as is :P
[23:28:43] <kimundi> vectors*
[23:29:32] <kimundi> tikue_: Every different length of the list becomes an different types, which makes it kinda hard to do anything like iteration over it
[23:29:59] <kimundi> [T, ..N] can at least be sliced to an &[T] :P
[23:30:07] *** Joins: ozten (ozten@moz-DD3B00B4.hsd1.wa.comcast.net)
[23:30:23] <strcat> amatus: I think you also need -mtriple=target-triple
[23:30:40] <strcat> or it will show you just for the host's target triple
[23:30:51] *** Quits: jgilbert (jgilbert@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[23:30:55] <amatus> yes, that worked
[23:31:13] <engla> kimundi: so transmute it to [T, ..N], and call  .iter() ?  :)
[23:31:41] <kimundi> engla: Yeah, my point. Why have it at all then ;)
[23:32:39] <strcat> engla: it might not be aligned the same way as a fixed-size array
[23:32:42] <strcat> due to C compatibility
[23:32:44] <Jesse> "Default methods definitely mostly work." https://github.com/mozilla/rust/commit/068e04231ded7fccca349babb1ba58ab3d796f40
[23:33:04] <pnkfelix> amatus: I hope you're taking great notes that I can crib off of when I get around to pulling out my Rasp Pi again
[23:33:10] <pnkfelix> amatus: :)
[23:33:26] <strcat> "Default methods work except some edge cases with trait objects" ;p
[23:33:30] *** Joins: jgilbert (jgilbert@moz-BBE3ABD.mv.mozilla.com)
[23:33:32] <amatus> i'll throw up a gist or something
[23:33:42] *** Joins: rlbaker (rlbaker@moz-D05907D4.hfc.comcastbusiness.net)
[23:34:17] <amatus> i tried --target-cpu arm1176jz-s, still getting illegal instructions
[23:34:29] <strcat> hm
[23:34:44] <pcwalton> we still have default method bugs? :\
[23:34:58] <engla> "std: `DoubleEndedIterator` can yield elements in two directions. "     how to describe this properly? You can't go back and forth, but you can pick off elements either from the front or the back
[23:35:07] <pcwalton> brson: I like the "recommended for use" language that we earlier used for borrowed pointers
[23:35:10] <strcat> pcwalton: trait objects + inheritance or trait objects + default methods are still broken-ish, afaik
[23:35:16] <strcat> never without trait objects
[23:35:25] <pcwalton> I've been using them all the time
[23:35:27] <pcwalton> with the visitor
[23:35:32] * strcat shrugs
[23:35:33] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[23:35:36] <strcat> pcwalton: might only be xcrate
[23:35:47] <pcwalton> cross-crate
[23:35:48] <pnkfelix> engla: Its a Deque?  (i.e. Double-ended Queue) 
[23:35:50] <pcwalton> I've been using them
[23:36:02] *** Joins: eatkinson (eatkinson@moz-E57448EF.airbears2.berkeley.edu)
[23:36:03] <pnkfelix> engla: As in, that's a nice short description.
[23:36:08] <strcat> sully seemed to think there were a few problems left when I last talked to him about it
[23:36:08] <pcwalton> the new visit stuff uses cross crate default methods through boxed trait objects
[23:36:10] *** Joins: canhtak (jeremy@moz-44AEB22E.wl.t.ulaval.ca)
[23:36:12] <pcwalton> ok
[23:36:20] <strcat> pcwalton: are you using inheritance?
[23:36:24] <pcwalton> no
[23:36:29] <strcat> it might only be the combination of all 3
[23:36:32] <pcwalton> ah, ok
[23:36:44] <strcat> or just inheritance + trait objects in general
[23:36:57] <aatch> inheritance is kinda buggy anyway.
[23:37:02] <engla> pnkfelix: a very reduced version of a Deque. You can take elements from both the front and the back.
[23:37:10] <aatch> There are also other issues with trait objects
[23:37:12] <pnkfelix> engla: true, I guess you cannot enqueue anything
[23:37:15] <strcat> aatch: I think it essentially works when you aren't using trait objects though
[23:37:45] <aatch> strcat, true. It works when you are just using them as bounds
[23:37:47] * strcat is annoyed by the snapshot linking against this non-existent libtinfo lib
[23:38:04] <kimundi> engla: "An Iterator for advancing both ends of a list of elements"?
[23:38:11] <pcwalton> brson: typo: hygenic -> hygienic
[23:38:30] <engla> kimundi: something like that without the list
[23:38:48] <kimundi> engla: "An Iterator for advancing both ends of a sequence of elements"?
[23:38:57] <strcat> not necessarily a sequence
[23:39:03] *** Quits: rlbaker (rlbaker@moz-D05907D4.hfc.comcastbusiness.net) (Quit: rlbaker)
[23:39:11] <strcat> a trait representing an Iterator you can consume from either end
[23:39:38] *** Quits: Jesin (Jessin_@moz-CDB412A.cc.lehigh.edu) (Ping timeout)
[23:39:51] <kimundi> but the ends are logically start and end point of some kind of range of values between
[23:40:02] <engla> but the range might be infinitely long
[23:40:10] <engla> (then the two ends never meet)
[23:40:11] <kimundi> and if they meet somewhere between, iteration'S over
[23:40:29] <engla> for example std::iter::Repeat(1)
[23:40:32] <kimundi> engla: still two ends in my book then :P
[23:40:40] <engla> yes
[23:41:07] <Jesse> +      * std: `range_rev` no longer exists. Since range is an iterator it can be
[23:41:07] <Jesse> +        reversed with `range(lo, hi).invert()`.
[23:41:09] <engla> *Repeat::new(1)
[23:41:39] <Jesse> does range.invert() use more memory than range_rev?
[23:41:41] <strcat> no
[23:41:44] <strcat> invert() just replaces next() with next_back() and next_back() with next()
[23:42:03] <kimundi> completly static optimizable
[23:42:12] <strcat> std::iter doesn't do memory allocation anywhere atm
[23:42:19] <strcat> cycle just clones the iterator state
[23:42:25] <Jesse> are all iterators double-ended like that?
[23:42:33] <strcat> some are
[23:42:43] <strcat> most containers can have double-ended iterators
[23:43:49] *** Joins: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com)
[23:44:52] <Jesse> maybe it should say "since range is a double-ended iterator..."
[23:47:00] <engla> Seldaek: rustdoc_ng now has methods for Option, that's a nice thing!
[23:47:13] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: Leaving)
[23:49:13] *** Quits: tikue_ (tkuehn@787D2D52.F3E8A984.689607DE.IP) (Ping timeout)
[23:49:18] <brson> 'ready for use' re: default methods?
[23:49:23] *** Joins: tikue_ (tkuehn@787D2D52.F3E8A984.689607DE.IP)
[23:49:24] <brson> pcwalton: ^?
[23:50:06] *** Joins: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP)
[23:50:06] <pcwalton> yeah I'd say so
[23:50:09] <pcwalton> we use them for the visitor
[23:50:14] <strcat> everyone is using them via std::iter ;p
[23:50:15] <jdm> error: cannot pack type `@mut T`, which does not fulfill `'static`, as a trait bounded by 'static
[23:50:18] <jdm> wat
[23:50:50] <jdm> pub fn WrapCallThisObject<T: CallbackContainer + CacheableWrapper>(cx: *JSContext, scope: *JSObject, p: @mut T) -> *JSObject {
[23:50:56] <jdm>         obj = WrapNativeParent(cx, scope, Some(p as @mut CacheableWrapper));
[23:51:02] <jdm> ^ error line
[23:51:06] <pcwalton> jdm: did you try <T:'static + CallbackContainer + CacheableWrapper> ?
[23:51:14] <jdm> nope
[23:51:18] <jdm> didn't realize that was a thing
[23:51:29] <pcwalton> yeah, things that you intend to put in @ boxes have to have 'static
[23:51:32] <jdm> but now that I read the error and see that, it makes sense
[23:51:52] <pcwalton> that's needed for soundness when we transition away from do foo.with_base { ... } stuff
[23:51:59] <brson> isn't 'static the only type of region pointer that can go into @ now?
[23:52:04] <pcwalton> yes
[23:52:07] *** kimundi is now known as zz_kimundi
[23:52:09] *** Quits: hoverbear (andrew@EBFA78B5.F19E5E7B.E74D50F2.IP) (Quit: hoverbear)
[23:52:30] <brson> oh, but the generic bound is still needed
[23:52:38] <pcwalton> right
[23:52:46] <pcwalton> it doesn't infer anything on T just because it saw it in an @
[23:52:50] <pcwalton> in the function signature
[23:52:54] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[23:53:30] <sfackler> pcwalton: what's the schedule on that transition? should things that can transition now start? or has that not been fully decided yet?
[23:53:39] <pcwalton> you mean de-@ing?
[23:53:51] <sfackler> de-foo.with_thing {}
[23:53:52] <pcwalton> we have a meeting next week to discuss what we're going to do
[23:53:56] <pcwalton> oh, that
[23:54:03] <pcwalton> I don't have time myself
[23:54:04] *** Quits: bent (chatzilla@moz-BE33DA21.fw1.sfo1.mozilla.net) (Quit: ChatZilla 0.9.90.1-rdmsoft [XULRunner 22.0/20130619132145])
[23:54:09] <pcwalton> but it has consensus
[23:54:13] <pcwalton> as far as I know
[23:54:18] <pcwalton> so feel free to submit PRs
[23:54:41] <sfackler> cool
[23:55:47] *** Quits: Larry (larryfox@moz-B8648F0F.nycmny.fios.verizon.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[23:58:01] *** Joins: Jesin (Jessin_@moz-C8BB4444.cc.lehigh.edu)
[23:58:12] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
