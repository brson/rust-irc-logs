[00:29:13] *** Quits: achanda (achanda@moz-fr1.spq.217.162.IP) (Connection closed)
[00:51:55] *** Quits: barosl (barosl@moz-tmp.qma.67.220.IP) (Ping timeout: 121 seconds)
[00:54:03] <Gankro> acrichto: Oh weird; if you define CC `configure` specifically seems to disable ccache!?
[01:12:45] *** Quits: brson (brson@moz-cfhap5.mtv2.mozilla.com) (Ping timeout: 121 seconds)
[01:24:21] *** Joins: winding-lines (winding-lin@moz-g7k4j8.ca.comcast.net)
[01:46:45] *** Quits: winding-lines (winding-lin@moz-g7k4j8.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz‚Ä¶)
[02:24:12] *** Joins: ericholscher (ericholsche@moz-5ti26e.or.comcast.net)
[03:09:16] <Gankro> This is the worst makefile
[03:10:14] *** Joins: achanda (achanda@moz-qv7q4n.ca.comcast.net)
[03:56:22] *** Quits: achanda (achanda@moz-qv7q4n.ca.comcast.net) (Quit: Leaving...)
[04:35:41] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[04:38:41] *** Joins: barosl (barosl@moz-tmp.qma.67.220.IP)
[04:46:07] *** Joins: Pierre_M (Pierre_M@moz-l5anv0.slkc.qwest.net)
[05:49:08] <acrichto> Gankro: whoa... what's weird :\
[05:51:24] <Gankro> acrichto: Yeah I basically give up. Maybe this will be more coherent with the new cargo system or something
[05:53:02] <Gankro> acrichto: As I noted on the PR, it looks like ccache would only be a thing on rebuilds of a PR
[05:53:13] <Gankro> So ccache probably isn't that important
[05:56:12] <acrichto> :(
[05:57:17] <Gankro> Oh no wait!
[05:57:19] <Gankro> > Currently Pull Requests will use the cache of the branch they are supposed to be merged into.
[05:57:31] <Gankro> There's like a tier of caches, I guess
[06:00:24] <Gankro> Still the makefile is really fighting me here
[06:06:04] <Gankro> acrichto: any clue what ultimately specifies what compiler LLVM should use?
[06:06:25] <acrichto> Gankro: not really
[06:06:30] <acrichto> it's mostly connected to the configure script
[06:06:32] <acrichto> where we configure llvm
[06:06:37] <acrichto> and it's some possible combination of CC
[06:06:43] <acrichto> there's no real ultimate source of truth I thin
[06:06:47] <acrichto> it's drawn from a few locations
[06:09:29] <Gankro> Oh holy shit I actually triggered ccache with my last change
[06:12:16] <Gankro> acrichto: wait does llvm only use CC? Not CXX?
[06:13:14] <acrichto> Gankro: nah it probably uses both
[06:13:39] <Gankro> I am cautiously optimistic that I ifdef'd my way to victory
[06:15:52] <Gankro> oh my god it's happening
[06:15:57] <Gankro> Every file is building instantly
[06:17:43] <Gankro> LLVM built with 6 mins of starting the travis build
[06:17:49] <Gankro> acrichto: the dream is real
[06:18:07] <acrichto> Gankro: \o/
[06:18:10] <acrichto> nice!
[06:30:22] <Gankro> acrichto: good to go, then?
[06:30:44] <acrichto> Gankro: I'll take a look tmw
[06:30:47] <acrichto> but I suspect so
[06:30:56] <Gankro> üëç
[06:31:07] <Gankro> build is 18 mins now
[07:31:41] *** Quits: garndt (sid7486@moz-914hec.brockwell.irccloud.com) (*.net *.split)
[07:31:41] *** Quits: vadimcn (uid46608@moz-0d43u8.highgate.irccloud.com) (*.net *.split)
[07:31:41] *** Quits: aturon (sid379@moz-hhfc8n.0j4i.jtu0.0101.2620.IP) (*.net *.split)
[07:31:41] *** Quits: huon (huon@moz-hj272o.8rnv.rggd.6180.2400.IP) (*.net *.split)
[07:31:41] *** Quits: reem (sid78397@moz-octfcu.brockwell.irccloud.com) (*.net *.split)
[07:31:41] *** Quits: jimicy (sid338@moz-osdatg.0j4i.jtu0.0101.2620.IP) (*.net *.split)
[07:31:41] *** Quits: wycats (sid79@moz-b4lrm3.brockwell.irccloud.com) (*.net *.split)
[07:31:41] *** Quits: Gankro (sid71432@moz-sc2bd6.charlton.irccloud.com) (*.net *.split)
[07:31:41] *** Quits: nrc (sid365@moz-3taf2s.0j4i.jtu0.0101.2620.IP) (*.net *.split)
[07:32:03] *** Joins: vadimcn (uid46608@moz-0d43u8.highgate.irccloud.com)
[07:32:03] *** Joins: wycats (sid79@moz-b4lrm3.brockwell.irccloud.com)
[07:32:03] *** Joins: Gankro (sid71432@moz-sc2bd6.charlton.irccloud.com)
[07:32:03] *** Joins: reem (sid78397@moz-octfcu.brockwell.irccloud.com)
[07:32:03] *** Joins: garndt (sid7486@moz-914hec.brockwell.irccloud.com)
[07:32:03] *** Joins: jimicy (sid338@moz-osdatg.0j4i.jtu0.0101.2620.IP)
[07:32:03] *** Joins: aturon (sid379@moz-hhfc8n.0j4i.jtu0.0101.2620.IP)
[07:32:03] *** Joins: nrc (sid365@moz-3taf2s.0j4i.jtu0.0101.2620.IP)
[07:32:03] *** Joins: huon (huon@moz-hj272o.8rnv.rggd.6180.2400.IP)
[07:32:03] *** bruford.mozilla.org sets mode: +aoaoao vadimcn vadimcn wycats wycats nrc nrc
[08:12:22] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[08:51:10] *** Quits: Pierre_M (Pierre_M@moz-l5anv0.slkc.qwest.net) (Connection closed)
[11:44:18] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[16:07:31] *** Joins: brson (brson@moz-cfhap5.mtv2.mozilla.com)
[16:07:31] *** ChanServ sets mode: +ao brson brson
[17:39:39] <Gankro> augh acrichto I think cache: ccache only works if your lang is a C derivative
[17:39:45] * Gankro throws up hands in disgust
[17:57:18] <acrichto> Gankro: welp
[17:57:19] <acrichto> thanks travis
[17:57:45] <Gankro> There is so much implicit state between travis and our build system
[17:57:49] <Gankro> and it's all totally arbitrary
[19:00:43] <brson> acrichto edunham: buildbot looks like it's not making progress. i can't investigate until after lunch
[19:18:14] * edunham peruses the infra docs to establish precisely what was supposed to demand the AWS Linux buildslaves
[19:26:32] <edunham> I guess the errors in the end of the twistd.log (https://pastebin.mozilla.org/8839622) would be symptoms rather than causes of the slaves' failure to start
[19:56:40] <acrichto> edunham: wut
[21:08:34] <edunham> acrichto: I don't know, and I had to run off to grab a lunch in case the conference took them away after they thought everyone had them
[21:15:50] *** Quits: barosl (barosl@moz-tmp.qma.67.220.IP) (Quit: Leaving)
[21:53:32] <Gankro> acrichto: would it be plausible to set me up with access to https://staging-crates-io.herokuapp.com/ to mash out the teams design?
[22:02:09] <brson> Gankro: what is the teams design for crates.io?
[22:02:21] <Gankro> brson: https://github.com/rust-lang/crates.io/issues/137#issuecomment-121339871
[22:02:38] <Gankro> Err, that hash crap wasn't intended
[22:02:41] <Gankro> that thread in general
[22:05:08] <acrichto> brson: btw I poked a bit at buildbot and can't figure out why all the slaves are offline
[22:05:13] <acrichto> restarted once or twice to no avail
[22:05:31] <acrichto> Gankro: sure, but you can probably also just run the server locally
[22:05:43] <acrichto> Gankro: you can run a local html server and hook it up to the remote API server
[22:06:00] <Gankro> acrichto: Yeah but this needs DB changes, right?
[22:08:30] <Gankro> "TODO: this is racy, but it looks like any other solution is... interesting!"
[22:08:33] <Gankro> oh god
[22:08:36] <Gankro> I am all regrets
[22:49:14] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[23:14:02] <Gankro> acrichto: Are all schema definitions in migrate.rs?
[23:22:26] <acrichto> Gankro: ah yeah if you need db changes then the api server won't cut it
[23:22:30] <acrichto> and yeah all schema stuff is in migrate.rs
[23:22:49] <acrichto> Gankro: I can give you access to staging, but it may make more sense for you to set something up locally
[23:22:52] <acrichto> deploying takes forever
[23:23:10] <Gankro> acrichto: Willing to walk me through a local setup?
[23:23:24] <acrichto> Gankro: sure!
[23:23:29] <Gankro> brt
[23:24:46] <brson> acrichto: ok, i'll look at it now
[23:46:58] <brson> acrichto: some of the buildslaves have come back online. did you do it?
[23:47:32] <brson> oh nvm
[23:48:23] <brson> edunham: dhuseby said this earlier <huseby> it seems like the verify=3 in the stunnel config is the problem
[23:48:38] <brson> if he changed 'verify' to some other value in the stunnel config it worked
[23:48:51] <brson> he thought it was a cert problem
[23:49:30] <brson> i'll try to follow that lead
[23:50:50] <brson> i bet this rust-bot-privkey.pem that has been in use for years has expired
[23:50:56] <edunham> brson: has he locally installed the certs?
[23:51:23] <brson> edunham: i believe so since it was working for him before
[23:53:53] <brson> i guess this rust-bot-privkey.pem is an ssl cert?
[23:53:58] <brson> anybody know how to 'show' it?
[23:54:19] <brson> if it was gpg i'd just import it and then read through the gpg manpage until i figured it out
[23:54:53] <edunham> http://www.shellhacks.com/en/HowTo-Check-SSL-Certificate-Expiration-Date-from-the-Linux-Shell 
[23:55:00] <vadimcn> acrichto:ping
[23:55:20] <edunham> shouldn't need the entire thing; it'll look something like `openssl x509 -noout -issuer -subject -dates` 
