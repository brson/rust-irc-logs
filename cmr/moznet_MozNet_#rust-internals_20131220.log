[00:04:03] *** Quits: canhtak (canhtak@moz-258236CD.wl.t.ulaval.ca) (Quit: canhtak)
[00:09:19] *** Joins: canhtak (canhtak@moz-258236CD.wl.t.ulaval.ca)
[00:16:35] *** nrc|lunch is now known as nrc
[00:16:48] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[00:16:48] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/lOMAAg
[00:16:48] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[00:17:05] *** nrc is now known as nrc|postlunchcoffee
[00:18:00] <cmr> acrichto: can you clump https://github.com/mozilla/rust/pull/11079 into one of your PRs?
[00:18:29] <acrichto> eh it's almost a weekend and it's not super urgent
[00:18:36] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[00:21:43] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[00:21:43] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/MRCdJg
[00:21:43] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[00:22:12] *** nrc|postlunchcoffee is now known as nrc
[00:26:05] *** Quits: canhtak (canhtak@moz-258236CD.wl.t.ulaval.ca) (Quit: canhtak)
[00:37:58] *** Joins: canhtak (canhtak@moz-258236CD.wl.t.ulaval.ca)
[00:53:40] *** Joins: vky (chatzilla@moz-4F2E17BF.dsl.dynamic.sonic.net)
[00:54:07] *** vky is now known as vk
[01:02:35] *** Joins: vk_ (chatzilla@moz-4F2E17BF.dsl.dynamic.sonic.net)
[01:03:00] *** Quits: vk (chatzilla@moz-4F2E17BF.dsl.dynamic.sonic.net) (Ping timeout)
[01:03:04] *** vk_ is now known as vk
[01:09:00] *** Quits: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[01:09:59] *** Joins: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com)
[01:11:42] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[01:11:42] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14a4065fe to 14d069d58: 02http://git.io/N3iJvQ
[01:11:42] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[01:35:29] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[01:46:08] *** kimundi is now known as zz_kimundi
[01:50:39] <jack> error: internal compiler error: debuginfo::set_members_of_composite_type() - Already completed forward declaration re-encountered.
[01:50:43] <jack> i'm finding all the fun bugs.
[01:51:36] <larsberg> That happens to you every upgrade :(
[01:53:06] <cmr> jack: you really do
[01:53:16] <cmr> I haven't seen most of these at all
[01:53:30] <cmr> brson: no, if that's all of it, than it's fine.
[01:55:18] <brson> cmr: do you have an example of these logos you are making?
[01:55:45] <cmr> brson: I have one sitting on my desk! Unfortunately I left my camera at school :( Lemme charge my phone...
[02:00:09] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Quit: Leaving...)
[02:08:26] *** Quits: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com) (Quit: Jesse)
[02:11:36] *** Joins: lpy (lpy@7360AA58.F09091A8.1348A864.IP)
[02:14:25] <jack> anybody care to try and help me track this down? https://github.com/metajack/glfw-rs/tree/servo-rustup
[02:14:46] <jack> i get that error compiling this upgraded glfw-rs. i'm trying to switch it form ~Trait callbacks to stack closures
[02:18:39] <larsberg> jack: I hadn't thought about it until now (despite scribe'ing the meetings), but it seems sort of rude that library designers get to decide whether providers of callbacks are allowed to have state in their provided functions or not.
[02:18:59] <larsberg> It seems a little weird for glfw-rs to decide if your error callback is allowed to have state or not.
[02:19:03] <cmr> Wait wait, what?
[02:19:20] <larsberg> cmr: Maybe I'm overanalysing.
[02:19:27] <jack> larberg: well they can all have state.
[02:19:28] <cmr> With trait objects you have state.
[02:19:37] <cmr> It's the struct the trait is implemented on and then casted to the object.
[02:19:39] <jack> it's just really inconvenient.
[02:19:54] <cmr> jack: looking now.
[02:20:07] <jack> i figured i'd leave the error callback as ~Trait because it might outlive any particular window
[02:20:20] <jack> but the window callbacks are just stack closures. that seems like it will work.
[02:20:30] <jack> i haven't tried using it yet. still trying to finish converting :)
[02:20:47] <larsberg> jack: I don't mean to block your conversion - please, blow away whatever you want to land that :-)
[02:21:13] <cmr> jack: so, what error are you getting?
[02:21:25] <cmr> oh it's with extra-debug-info
[02:22:59] <larsberg> I was more worrying about if the library is deciding between a ~Trait and stack closure for the callbacks, that could have a big impact on clients of the library.
[02:23:46] <jack> if you have opinions aobut which it should be i'm all ears. i figured stack closures are the easiest to deal with since they capture nicely
[02:24:38] <cmr> the issue with using stack closures is now you can't return the Window from anything.
[02:25:29] <jack> you can, just not after ou put a closure in it.
[02:25:35] <jack> Do you need to?
[02:25:39] <jack> Maybe this isn't going to work
[02:26:48] <cmr> Hm, maybe it's not so bad actually.
[02:27:08] <cmr> I take that back
[02:27:29] *** Quits: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net) (Quit: Textual IRC Client: www.textualapp.com)
[02:28:10] <cmr> I don't know.
[02:28:31] <larsberg> jack: Yeah, I thought we return the Window to servo. I had sort of assumed in those conversations (during the Rust meetings) that basically everybody was going to use ~Trait for all callback/event-style methods they exposed from libraries and that the other interesting types were only for optimizing syntactic forms to make the borrow checker happy.
[02:29:05] <jack> larsberg: i converted the html parser to stack closures. it worked very nicely
[02:29:26] <jack> but there you have a clear lifetime on the parser.
[02:29:37] <larsberg> jack: yeah, that's what I was wondering - would it work for all possible clients?
[02:29:41] <jack> you make a parser, it parsers, you throw it away and keep whatever it produced.
[02:29:45] <jack> glfw isn't as clear.
[02:30:02] <cmr> I can see an argument for "if you think you want to be returning a new window, you actually want to hoist that window up a stack frame or few"
[02:30:03] <larsberg> I'm worried that libraries will have to move to traits because they don't know what goofy things clients will do.
[02:30:19] <jack> but man the traits are verbose.
[02:30:33] <jack> each of these callbacks (there's like 9 or 10 for glfw) takes a different trait.
[02:30:45] <jack> so you have ot make a state struct, impl the trait, etc for each one
[02:31:02] <cmr> I imagine a nice macro could soothe the pain.
[02:31:10] <jack> maybe.
[02:31:22] <jack> bjz's not shy of macros and there wasn't one already :)
[02:31:40] <cmr> callback! { var_list, { ... body ... } }
[02:31:45] <cmr> although body would need to use self.var
[02:31:51] <cmr> so maybe you're not actually winning much there.
[02:32:12] <jack> hmm. maybe i'll go back to upstream glfw and try to macroize.
[02:32:57] * dbaupp wants unboxed closures, so we can return things containing them
[02:34:26] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[02:34:55] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[02:36:40] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[02:36:45] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[02:36:45] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/jY7HTg
[02:36:45] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[02:37:57] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[02:38:32] <jack> dbaupp: how's that different than the three things we have?
[02:39:02] <dbaupp> jack: our stack closures are essentially a trait object of the form &Fn<A,B,Return>
[02:39:17] <dbaupp> jack: we're missing the non-trait-object form of that
[02:40:10] <dbaupp> i.e. we could have |A,B| -> Ret be sugar for a struct + a trait impl, without the (currently implicit) `as &Fn<A,B,Ret>` cast
[02:40:48] <dbaupp> C++ does this; they have to explicitly box functions/pointers via std::function to get a (heap allocated) equivalent of ||
[02:40:57] <dbaupp> s/pointers/closures/
[02:41:37] <dbaupp> this would like require some sort of return type inference to actually be sane, since it gives every unboxed closure a different type
[02:41:40] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[02:41:40] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/r1nABA
[02:41:40] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[02:41:40] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[02:41:41] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/Da4Lww
[02:41:41] <ghrust> 13rust/06auto 1495248db 15Alex Crichton: uv: Suppress a warning by using an absolute path...
[02:41:41] <ghrust> 13rust/06auto 140b4142e 15bors: auto merge of #11069 : alexcrichton/rust/issue-11067, r=brson...
[02:41:41] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[02:42:23] <dbaupp> (well, to be precise; they are trait objects of the form `&mut Fn<...>`
[02:42:25] <dbaupp> )
[02:43:21] <dbaupp> if we had this, then closures would act like any other struct, since they would then be precisely a struct containing the captured variables.
[02:44:47] <dbaupp> I imagine we'd need some way to explicitly dictate how variables were captured like C++ (since capturing everything by-ref as we do now for stack closures, would stop them being returned anyway)... so this is a hive of complexity :(
[02:46:20] *** Quits: doomlord_ (servitor@moz-D40D68D6.range86-184.btcentralplus.com) (Connection reset by peer)
[02:46:31] <larsberg> dbaupp: Yes, I was just going to point that out as well. Handling of the captured variables is a huge mess of complexity and unpredictable performance / behavior in ML & Haskell compilers, even with monomorphization.
[02:46:48] <larsberg> e.g. most ML compilers will notice if your closures are never larger than two arguments and do the equivalent of lambda-lifting
[02:46:58] <larsberg> and just pass the variables back in registers
[02:47:12] <larsberg> That sort of completely breaks the "straightforward reasoning" that rust has about the compilation model :-)
[02:51:39] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[02:51:39] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 140b4142e to 145c24bfa: 02http://git.io/N3iJvQ
[02:51:39] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[02:51:40] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[02:51:40] <ghrust> 01[13rust01] 15bors pushed 3 new commits to 06auto: 02http://git.io/OfhXKA
[02:51:40] <ghrust> 13rust/06auto 14c00104f 15Huon Wilson: std: silence warnings when compiling test.
[02:51:40] <ghrust> 13rust/06auto 14f13d57f 15Huon Wilson: extra: silence warnings during testing.
[02:51:41] <ghrust> 13rust/06auto 14415e55a 15bors: auto merge of #11071 : huonw/rust/quiet-test, r=cmr
[02:51:43] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[03:03:37] <cmr> brson: http://i.imgur.com/49v5ynp.jpg
[03:05:36] * ChrisMorgan imagines producing thus-branded sprockets for his bicycle
[03:05:57] <jack> do we have a 3d model i can feed to my printerbot?
[03:06:15] <cmr> jack: I could make on lickity split
[03:06:25] <ChrisMorgan> jack: outline at https://github.com/graydon/rust-www/blob/gh-pages/logos/rust-logo-blk.svg
[03:08:46] *** Quits: gwty (gwtypc@2E2F71B6.36BA38AF.F44414AF.IP) (Ping timeout)
[03:11:00] <jack> can i put a block into a macro?
[03:11:15] <cmr> $x:block iirc
[03:11:49] <ChrisMorgan> Yep, that's it.
[03:12:11] <ChrisMorgan> But blocks aren't very useful in general; expr is far more useful.
[03:13:39] <cmr> jack: https://github.com/cmr/rust-logo-3d/blob/master/rlogo.stl
[03:14:01] <cmr> The size is probably very wrong... I scaled it so it was big enough for me to see.
[03:14:06] <cmr> Dunno if the file format cares.
[03:15:00] <jack> did we fix macros expanding to multiple items?
[03:15:13] <aatch> jack, yep
[03:15:27] <cmr> ... in item position, not in expression position.
[03:15:35] <cmr> ie, inside a function it don't work too well
[03:15:53] <aatch> cmr, eh, one thing at a time :D
[03:16:08] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Client exited)
[03:16:14] <ChrisMorgan> Nor can you do things like expand to a method in an impl block.
[03:16:41] <aatch> Not that a method is *technically* an item, from a parsing/ast point of view.
[03:16:44] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[03:16:44] *** ChanServ sets mode: +ao dherman dherman
[03:18:35] <ChrisMorgan> But in expressions, the block expression doctrine means you don't normally need to worry about its not expanding to multiple expressions (at least it now warns you if it is dropping stuff rather than ignoring it silently as it used to). e.g. macro_rules! foo(() => ({statement; statement; statement}))
[03:19:26] <dbaupp> s/warns/errors/
[03:20:56] <ChrisMorgan> Ah, what do non-programmers do in IRC when they need to correct things? They probably have to do things so very inefficiently, writing "Actually, it doesn't warn, it makes an error." s/warns/errors/ is *so* much briefer :-)
[03:21:17] <cmr> *errors (ftfy)
[03:21:19] <cmr> probably :p
[03:22:28] <dbaupp> Does anyone feel like writing an optimised version of timsort, btw?
[03:22:42] * ChrisMorgan feels like doing everything but doesn't have time :-(
[03:22:44] <jack> foo::Bar doesn't count as an ident?
[03:22:59] <cmr> jack: it's a path
[03:23:44] <jack> and _ isn't an ident?
[03:24:00] <cmr> hm
[03:24:06] <dbaupp> no, that's a pat
[03:24:22] <dbaupp> (i.e. a pattern.
[03:24:24] <dbaupp> )
[03:24:30] <cmr> is lone _ explicitly disallowed as an identifier?
[03:24:32] <jack> well that sucks.
[03:24:37] <dbaupp> cmr: yes
[03:24:45] <cmr> makes sense.
[03:24:56] <jack> _win doesn't work either
[03:25:07] <dbaupp> as an ident?
[03:25:09] <jack> maybe the macro is at fault here.
[03:26:10] <jack> https://gist.github.com/metajack/8050001
[03:26:18] <jack> it's yelling about _ or _win
[03:26:29] <jack> at the point of use
[03:26:54] <ChrisMorgan> jack: you probably want expr rather than block
[03:27:39] <jack> why's that?
[03:27:46] <jack> can block not return a value?
[03:28:04] <aatch> jack, it can, but blocks *are* expressions
[03:28:13] <jack> oh i see. i forget $ on arg
[03:28:37] <jack> sweet. this worked!
[03:28:52] <jack> now to do the state capturing version.
[03:29:55] <ChrisMorgan> jack: block is specifically for do, if, else, for, &c.; expr is the more general thing and means that you don't need the { } if you don't want it.
[03:39:45] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[03:48:35] <jack> Sigh. Now I'm getting "cannot move out of captured outer variable" in a proc
[03:49:57] <dbaupp> do you have two layers of procs?
[03:51:40] <jack> proc and a stack closure
[03:51:52] <ChrisMorgan> Which inside the other?
[03:51:56] <cmr> is the proc trying to move from the closures environment?
[03:52:59] <jack> let nodes = ....; spawn(proc() { ... foo.with_something(|...| { for node in nodes.move_iter() { ... } }) })
[03:53:17] *** Quits: zz_kimundi (kimundi@moz-31F6BD2.dip0.t-ipconnect.de) (Ping timeout)
[03:53:22] <cmr> move_iter moves, can't move in the closure.
[03:53:35] <jack> why can't i pass it through a refcell?
[03:56:29] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[03:56:29] <ghrust> 01[13rust01] 15alexcrichton 04force-pushed 06try from 14147d40d to 144a7bb87: 02http://git.io/k471pw
[03:56:29] <ghrust> 13rust/06try 144a7bb87 15Alex Crichton: rustc: Optimize reading metadata by 4x...
[03:56:29] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[03:56:31] <jack> there seems to be no way to move nodes into the closure
[03:56:50] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[03:57:12] *** Joins: zz_kimundi (kimundi@moz-BD8FA620.dip0.t-ipconnect.de)
[03:57:14] *** zz_kimundi is now known as kimundi
[03:57:15] <jack> Why can't I move in the closure?
[03:57:22] <jack> oh becuase it might be called more than once
[03:57:43] <jack> but then why doesn't let nodes = RefCell::new(nodes);  and then let nodes = nodes.unwrap() work?
[03:57:52] *** Quits: ktt3ja (ktt3ja@moz-54586A12.washdc.fios.verizon.net) (Quit: Leaving)
[03:57:59] <jack> isn't that exaclty what Cell::new() and .take() would do?
[03:58:16] <ChrisMorgan> pcwalton has been changing a lot of the `with_x(|x| ...)` things to RAII-style `x = foo.as_x(); ...`, that pattern works a lot better for such cases.
[03:58:17] <acrichto> jack: you probably want Option and take_unwrap()
[03:59:11] <jack> cannot borrow immutalbe outer as mutable
[03:59:12] <jack> hmm
[03:59:25] <ChrisMorgan> (pcwalton in particular is resisting &once fn strongly for the moment, seeing if the RAII style can do it, and I'm finding myself becoming optimistic about it.)
[04:00:22] <jack> i have it as let mut nodes. do procs always capture as immutable?
[04:00:32] <dbaupp> for the moment, yes
[04:00:39] <jack> oh wow.
[04:00:40] <dbaupp> although there's a bug open about allowing it
[04:00:44] <jack> let mut nodes = nodes;
[04:00:46] <jack> that fixed it
[04:00:51] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[04:01:12] <jack> acrichto: why does Option work but not RefCell?
[04:01:58] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[04:01:58] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/OfhXKA
[04:01:58] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[04:02:02] <acrichto> jack: that's just not what RefCell is for
[04:02:10] <acrichto> RefCell is for mutable borrows checked at runtime
[04:02:14] <acrichto> not transferrance of onwershipt
[04:02:24] <jack> What is Cell for now?
[04:03:50] <acrichto> Cell is for changing POD data
[04:03:56] <acrichto> it can never be unwrapped
[04:04:00] <acrichto> but it's always memcpy'able
[04:04:32] <dbaupp> Cell only offers .get and .set, doesn't it? (no borrowing, and so no dynamic borrow failures.)
[04:05:06] <acrichto> yes
[04:05:48] <jack> why wouldn't you change pod data with direct access to struct fields?
[04:06:36] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[04:06:36] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/FZvbdw
[04:06:36] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[04:06:38] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[04:06:38] <ghrust> 01[13rust01] 15bors pushed 3 new commits to 06auto: 02http://git.io/HemfAg
[04:06:38] <ghrust> 13rust/06auto 142afa97a 15klutzy: rustc: Handle `#[link(name = "")]` error
[04:06:38] <ghrust> 13rust/06auto 14da818e9 15klutzy: mklldeps.py: Ignore extra whitespaces of argument
[04:06:38] <ghrust> 13rust/06auto 14bb02d14 15bors: auto merge of #11073 : klutzy/rust/issue-10978, r=alexcrichton...
[04:06:40] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[04:07:11] <dbaupp> jack: it's like @mut and RefCell, i.e. you can mutate it even when inside an otherwise immutable object
[04:11:21] <jack> Why do you need Cell if you have RefCell?
[04:11:28] <jack> does pod data not need borrow checks?
[04:12:37] <dbaupp> Cell doesn't need borrow checks because it doesn't offer a -> &mut or -> & method... I don't quite understand how this connects to POD, though.
[04:17:39] <jack> dead_code still has some bugs.
[04:17:58] <jack> it's flagged the whole Quadtree in servo as dead 
[04:18:19] <jack> oh. maybe we don't use those methods internally even though it's an internally public API
[04:18:31] <jack> i figured `pub` would mark all code as live
[04:19:21] <ChrisMorgan> If it's not accessible from outside (e.g. in a private mod and not returned from anything externally public) I would expect it to be marked as dead, inaccessible.
[04:20:02] <jack> kind of sucks for internal libraries :)
[04:20:30] <dbaupp> if it's not accessible outside the crate, and not used inside the crate, then it sounds like its dead?
[04:20:31] <ChrisMorgan> I don't see why. If nothing inside the crate is using it and it's not accessible to any other crate, it's dead code, right?
[04:20:37] <dbaupp> (is it used inside the crate?)
[04:20:59] <ChrisMorgan> Of course, it's quite possible that you *do* have a genuine bug. But it's fairly good now, I think.
[04:21:24] <bjz> jack larsberg: back!
[04:21:45] <jack> bjz: i have a nice macro for you now, but decided against the stack closure deisgn.
[04:21:47] <bjz> sorry, was out getting pantry stuff after my holidays
[04:21:53] <bjz> nice
[04:22:09] <bjz> yeah, I'm still working on that context server design
[04:22:18] <bjz> sorry it's taking a while
[04:22:31] <bjz> it's abit intimidating all the functions
[04:23:14] <jack> bjz: https://gist.github.com/metajack/8050390
[04:24:47] *** nrc is now known as nrc|Christmas
[04:24:50] <bjz> ohwait, why are we talking on #rust-internals
[04:25:02] * bjz gets confused with all the channels
[04:25:13] * bjz heads to #rust-gamedev
[04:28:03] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[04:28:28] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Connection reset by peer)
[04:29:37] <jack> dead_code triggers on #[start]
[04:29:45] <jack> because that's only called by the invisible runtime
[04:29:58] <cmr> hm, it should count it as an entry point
[04:30:36] <jack> if i make it pub it's happy, but seems like i shouldn't have to
[04:30:48] <cmr> agree. file a bug!
[04:32:54] <dbaupp> I thought dead_code registered the entry point as used always
[04:33:04] <jack> weird. the minimal version o f that doesn't exhibit the problem
[04:33:07] <jack> but the #[start] in servo does.
[04:35:44] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[04:37:00] <dbaupp> https://github.com/mozilla/rust/blob/master/src/librustc/middle/dead.rs#L213 , fwiw
[04:37:30] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[04:38:23] *** Quits: canhtak (canhtak@moz-258236CD.wl.t.ulaval.ca) (Quit: canhtak)
[04:38:26] <jack> task 'rustc' failed at 'index out of bounds: the len is 0 but the index is 0', /Users/jack/src/servo/src/compiler/rust/src/libsyntax/codemap.rs:440
[04:38:40] <cmr> jack: goes away without debuginfo?
[04:38:45] <cmr> I hit that recently
[04:38:48] <cmr> couldn't repro
[04:39:06] <jack> i'll recompile without debug. one sec
[04:41:40] <jack> there is a ton of dead_cone warnings in servo.
[04:42:18] *** Quits: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com) (Quit: pcwalton)
[04:44:06] <jack> cmr: same error
[04:44:17] <cmr> ok, not the same thing then
[04:44:37] <jack> hm.. seems to still have -Z debug-info
[04:44:42] <jack> maybe a bug in configure
[04:45:59] <jack> ah. we turn on debug-info always. --enable-debug just controsl extra-debug-info
[04:48:33] *** Joins: jdm (jdm@moz-AC9499B2.cable.teksavvy.com)
[04:50:53] *** Joins: doomlord_ (servitor@moz-D40D68D6.range86-184.btcentralplus.com)
[04:53:07] <jack> oh this is interesting.
[04:53:15] <jack> without debugging, it fails to link
[04:53:24] <jack> the thing it can't find is something dead_code reported as dead!
[04:55:04] <cmr> heh
[04:56:25] <cmr> sounds like reachability knows something the rest of the compiler doesn't.
[04:58:16] <jack> specifically it's this: https://github.com/mozilla/servo/blob/cf537469b18224e2c6dda120d1db00009f8cd885/src/components/script/dom/htmliframeelement.rs#L46-L55
[04:58:54] <cmr> hm
[04:59:00] <cmr> that sounds like a bug
[04:59:12] <cmr> it's not seeing the path to IFrameSize through HTMLIFrameElement
[04:59:14] <jack> and that is most definitely called!
[04:59:46] <cmr> I wonder if reachability/dead code is ignoring type parameters.
[04:59:49] <cmr> acrichto: ^ ?
[04:59:50] <jack> HTMLIFrameElement.size is Option<IFrameSize>
[05:01:17] <jack> called from: https://github.com/mozilla/servo/blob/2ecafee5a56dee7920802feebdf321c19a228613/src/components/main/layout/block.rs#L488-L491
[05:04:57] <cmr> jack: minimal repro: https://gist.github.com/cmr/07c920d1e72017e8b6ee
[05:05:27] <cmr> it is what I suspected; it seems to be ignoring the type parameter of the Option
[05:05:38] <jack> are you on today's master?
[05:05:50] <jack> #11006 might solve it but i'm trying to see if i have it locally
[05:06:05] <cmr> I'm on b6933f8
[05:07:02] <cmr> yes, I do have it.
[05:07:47] <ChrisMorgan> cmr: does that need to be compiled as a separate crate?
[05:08:03] <cmr> ChrisMorgan: what do you mean?
[05:08:09] <jack> i didn't have that locally.
[05:08:18] <jack> maybe all these other dead_code warnings will disappear now
[05:08:34] <ChrisMorgan> cmr: your gist can't be compiled as it is
[05:08:43] <cmr> ChrisMorgan: fixed
[05:08:51] * cmr assumes --lib when there isn't a fn main
[05:09:24] <cmr> rust+lib://pkgid_as_exists_today
[05:24:20] <acrichto> cmr: it used to, but ktt3ja fixed it
[05:27:37] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[05:27:38] *** ChanServ sets mode: +qo brson brson
[05:31:36] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[05:31:54] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[05:31:54] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/HemfAg
[05:31:54] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[05:36:36] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[05:36:36] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/6lQeAQ
[05:36:36] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[05:36:38] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[05:36:38] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/KNtA-w
[05:36:38] <ghrust> 13rust/06auto 14bfb760c 15Alex Crichton: Accept trailing commas in struct patterns...
[05:36:38] <ghrust> 13rust/06auto 1449fc9c9 15bors: auto merge of #11075 : alexcrichton/rust/issue-10392, r=brson...
[05:36:38] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[05:39:52] *** bstrie is now known as bstrie_on_vacation
[05:44:48] <ChrisMorgan> bstrie_on_vacation: you really think that'll work?
[05:46:47] <dbaupp> ChrisMorgan: of course it'll work, it's in his name!
[05:47:02] * ChrisMorgan is disappointed that he hasn't bitten yet
[05:55:18] <jack> where did as_imm_buf go?
[05:55:28] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[05:56:16] <dbaupp> jack: it's now just .as_ptr() and .len(), no closure
[05:56:57] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[05:57:18] <jack> isn't .len() the chars?
[05:59:51] <dbaupp> no
[06:00:21] <jack> &'static str doesn't have to_ptr? :)
[06:00:22] <dbaupp> .len() is byte len (O(1)), .char_len() is chars (O(n))
[06:00:25] <dbaupp> as_ptr
[06:01:26] <Yurume> "char" len is a bit misnomer though :)
[06:02:55] <dbaupp> yeah
[06:03:12] * dbaupp wouldn't disagree with changing `char` to `codepoint` everywhere
[06:03:18] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[06:03:18] *** ChanServ sets mode: +ao dherman dherman
[06:16:21] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[06:17:01] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Client exited)
[06:36:36] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[06:36:36] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 1449fc9c9 to 14bb02d14: 02http://git.io/N3iJvQ
[06:36:36] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[06:36:37] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[06:36:37] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/tvnDHw
[06:36:37] <ghrust> 13rust/06auto 14555e580 15Alex Crichton: rustc: Optimize reading metadata by 4x...
[06:36:37] <ghrust> 13rust/06auto 143565d71 15bors: auto merge of #11017 : alexcrichton/rust/faster-read, r=thestinger...
[06:36:38] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[06:36:39] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[06:38:33] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[06:43:23] *** Joins: canhtak (canhtak@moz-258236CD.wl.t.ulaval.ca)
[06:46:31] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[06:49:29] *** Quits: aatch (James@moz-B437F499.pocketrent.com) (Client exited)
[06:55:45] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[07:01:55] *** Joins: ktt3ja (ktt3ja@moz-54586A12.washdc.fios.verizon.net)
[07:04:08] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[07:04:38] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[07:06:29] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[07:26:38] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[07:26:38] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 143565d71 to 14bb02d14: 02http://git.io/N3iJvQ
[07:26:38] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[07:27:24] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[07:32:30] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Ping timeout)
[07:33:05] <jack> i think we broke rustpkg somehow.
[07:33:14] <jack> it's not even generating output now
[07:35:11] *** Joins: eddyb (eddy@moz-68E0B7D0.residential.rdsnet.ro)
[07:37:31] *** Quits: lpy (lpy@7360AA58.F09091A8.1348A864.IP) (Ping timeout)
[07:39:44] *** Quits: nrc|Christmas (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Ping timeout)
[07:45:07] <sfackler> jack: it seems to work for me on d069d58
[08:06:34] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[08:06:34] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14873a9dd to 14bb02d14: 02http://git.io/N3iJvQ
[08:06:34] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[08:36:36] *** flaper87|afk is now known as flaper87
[08:45:47] *** Quits: canhtak (canhtak@moz-258236CD.wl.t.ulaval.ca) (Ping timeout)
[08:51:39] *** Joins: canhtak (canhtak@moz-258236CD.wl.t.ulaval.ca)
[08:53:21] *** Quits: canhtak (canhtak@moz-258236CD.wl.t.ulaval.ca) (Ping timeout)
[09:01:50] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[09:01:50] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 145a7eedc to 14bb02d14: 02http://git.io/N3iJvQ
[09:01:50] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[09:05:33] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[09:07:21] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[09:11:34] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[09:11:34] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14adb1f9a to 14bb02d14: 02http://git.io/N3iJvQ
[09:11:34] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[09:11:35] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[09:11:35] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/MMWxJQ
[09:11:35] <ghrust> 13rust/06auto 14bfb760c 15Alex Crichton: Accept trailing commas in struct patterns...
[09:11:35] <ghrust> 13rust/06auto 14237344d 15bors: auto merge of #11075 : alexcrichton/rust/issue-10392, r=brson...
[09:11:36] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[09:38:27] *** Quits: vk (chatzilla@moz-4F2E17BF.dsl.dynamic.sonic.net) (Quit: ChatZilla 0.9.90.1 [Firefox 27.0/20131216183647])
[10:06:13] *** kimundi is now known as zz_kimundi
[10:06:36] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[10:06:36] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/JPhSbQ
[10:06:36] <ghrust> 13rust/06auto 1464faafb 15Alex Crichton: rustc: Optimize reading metadata by 4x...
[10:06:36] <ghrust> 13rust/06auto 146023350 15bors: auto merge of #11017 : alexcrichton/rust/faster-read, r=thestinger...
[10:06:37] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[11:06:41] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[11:08:31] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[11:16:36] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[11:16:36] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/JPhSbQ
[11:16:36] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[11:18:05] *** Joins: lpy (lpy@7360AA58.F09091A8.1348A864.IP)
[11:21:34] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[11:21:34] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/Dw045Q
[11:21:34] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[11:21:36] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[11:21:36] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/_yTvaQ
[11:21:36] <ghrust> 13rust/06auto 147a8e8c8 15Alex Crichton: rustc: Improve crate id extraction...
[11:21:36] <ghrust> 13rust/06auto 1423f3029 15bors: auto merge of #11077 : alexcrichton/rust/crate-id, r=cmr...
[11:21:36] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[11:24:10] *** Joins: gwty (gwtypc@F845B194.A388EA24.F44414AF.IP)
[11:34:41] *** Joins: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP)
[11:45:22] *** Quits: gwty (gwtypc@F845B194.A388EA24.F44414AF.IP) (Ping timeout)
[11:45:46] *** Joins: gwty (gwtypc@F845B194.A388EA24.F44414AF.IP)
[11:55:27] *** Quits: gwty (gwtypc@F845B194.A388EA24.F44414AF.IP) (Ping timeout)
[11:55:48] *** Joins: gwty (gwtypc@F845B194.A388EA24.F44414AF.IP)
[11:56:34] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[11:56:34] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 1423f3029 to 146023350: 02http://git.io/N3iJvQ
[11:56:34] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[11:58:21] *** Quits: gwty (gwtypc@F845B194.A388EA24.F44414AF.IP) (Ping timeout)
[12:02:06] *** Quits: acrichto (acrichto@moz-B63D64BD.res.cmu.edu) (Ping timeout)
[12:03:15] *** Joins: gwty (gwtypc@F845B194.A388EA24.F44414AF.IP)
[12:05:05] *** Quits: gwty (gwtypc@F845B194.A388EA24.F44414AF.IP) (Ping timeout)
[12:05:40] *** Joins: gwty (gwtypc@F845B194.A388EA24.F44414AF.IP)
[12:07:29] *** Quits: gwty (gwtypc@F845B194.A388EA24.F44414AF.IP) (Ping timeout)
[12:07:41] *** Joins: acrichto (acrichto@moz-B63D64BD.res.cmu.edu)
[12:07:42] *** ChanServ sets mode: +o acrichto
[12:08:35] *** Joins: gwty (gwtypc@F845B194.A388EA24.F44414AF.IP)
[12:21:25] *** Quits: jdm (jdm@moz-AC9499B2.cable.teksavvy.com) (Quit: Lost terminal)
[12:31:14] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[12:36:37] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[12:36:37] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14a070f82 to 146023350: 02http://git.io/N3iJvQ
[12:36:37] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[12:36:39] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[12:36:39] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/kwE9oQ
[12:36:39] <ghrust> 13rust/06auto 14f89b61b 15Alex Crichton: Get comm_adapters building again...
[12:36:39] <ghrust> 13rust/06auto 145399c82 15bors: auto merge of #11081 : alexcrichton/rust/comm-adapters, r=huonw...
[12:36:39] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[13:03:22] *** zz_kimundi is now known as kimundi
[13:07:36] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[13:09:31] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[13:20:37] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[13:46:33] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[13:46:33] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/kwE9oQ
[13:46:33] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[13:54:29] <bstrie_on_vacation> ChrisMorgan: I can't hear you because as you may have noticed I am on vacation
[13:54:53] <ChrisMorgan> bstrie_on_vacation: don't worry, I can't hear you either.
[13:55:16] <dbaupp> did someone say something?
[13:55:23] *** kimundi is now known as zz_kimundi
[13:55:23] <bstrie_on_vacation> to remedy this, I've been working on an extension to IRC to allow voice communication
[13:56:13] <bstrie_on_vacation> but only in one direction
[13:56:23] <bstrie_on_vacation> and literally only on ChrisMorgan's computer
[13:56:37] <ChrisMorgan> â€¦ which direction?
[13:57:02] <bstrie_on_vacation> ChrisMorgan: your life is about to become a cacophony of join/parts
[14:06:37] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[14:06:37] *** ChanServ sets mode: +ao dherman dherman
[14:12:32] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[14:23:01] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[14:23:29] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Client exited)
[14:32:44] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[14:32:44] *** ChanServ sets mode: +ao dherman dherman
[14:42:08] *** Quits: eddyb (eddy@moz-68E0B7D0.residential.rdsnet.ro) (Ping timeout)
[14:44:54] *** Joins: eddyb (eddy@moz-68E0B7D0.residential.rdsnet.ro)
[14:45:57] *** zz_kimundi is now known as kimundi
[15:01:20] *** Quits: lpy (lpy@7360AA58.F09091A8.1348A864.IP) (Ping timeout)
[15:08:41] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[15:10:32] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[15:11:21] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[15:25:50] *** Parts: dcrewi (david@moz-AB8667CE.gyrae.net) ()
[15:26:00] *** Joins: dcrewi (david@moz-AB8667CE.gyrae.net)
[15:36:40] <cmr> acrichto: fixed when? I can still reproduce on d069d58
[15:37:25] *** flaper87 is now known as flaper87|afk
[15:48:14] *** flaper87|afk is now known as flaper87
[15:57:45] *** Joins: lpy (lpy@12172131.F09091A8.1348A864.IP)
[15:58:21] *** dherman is now known as dherman-breakfast
[16:02:49] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[16:12:01] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[16:16:47] <jack> cmr: i think I didn't update the pkgid parser in rustpkg
[16:17:24] <cmr> jack: it doesn't use syntax::pkgid?
[16:17:36] <cmr> no it doesn't
[16:17:39] <cmr> I remember this
[16:17:40] <jack> nope :)
[16:18:07] <jack> it has all this fancy version inference stuff and i didn't want to pull that into libsyntax.
[16:25:50] *** bstrie_on_vacation is now known as bstrie_dont_let_me_talk_on_irc
[16:33:03] *** Joins: jdm (jdm@moz-AC9499B2.cable.teksavvy.com)
[16:35:21] <jack> working on a fix.
[16:43:48] *** dherman-breakfast is now known as dherman
[17:05:08] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.2)
[17:07:30] <acrichto> cmr: 05a41dc75f499e5e78e2bee6de6d0634ce8a03c9
[17:09:39] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[17:11:34] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[17:11:34] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/2ZlQJw
[17:11:34] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[17:11:34] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[17:11:34] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/4rxHYQ
[17:11:34] <ghrust> 13rust/06auto 14bfb760c 15Alex Crichton: Accept trailing commas in struct patterns...
[17:11:34] <ghrust> 13rust/06auto 14810c4de 15bors: auto merge of #11075 : alexcrichton/rust/issue-10392, r=brson...
[17:11:35] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[17:11:38] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[17:23:19] <jack> cmr: https://github.com/mozilla/rust/pull/11086
[17:23:22] <jack> r?
[17:23:59] <cmr> jack: needstest
[17:27:33] *** Quits: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP) (Quit: rcirc on GNU Emacs 24.3.1)
[17:40:50] *** Joins: canhtak (canhtak@38266F07.7A8E554D.FC900DAF.IP)
[17:46:02] *** Quits: lpy (lpy@12172131.F09091A8.1348A864.IP) (Quit: Leaving...)
[17:50:36] <jack> cmr: i'll just change the pkgids in the tests to use the new syntax in a few places.
[17:58:58] <cmr> sounds fine
[18:00:31] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[18:00:31] *** ChanServ sets mode: +ao pcwalton pcwalton
[18:06:10] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[18:06:10] *** ChanServ sets mode: +qo brson brson
[18:08:40] <jack> cmr: re-r?
[18:09:31] <cmr> jack: r+
[18:21:36] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[18:21:36] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/4rxHYQ
[18:21:36] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[18:26:32] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[18:26:32] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/qxclrw
[18:26:32] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[18:26:36] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[18:26:36] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/Ge-mOQ
[18:26:36] <ghrust> 13rust/06auto 1479fb227 15Alex Crichton: uv: Suppress a warning by using an absolute path...
[18:26:36] <ghrust> 13rust/06auto 14c518a73 15bors: auto merge of #11069 : alexcrichton/rust/issue-11067, r=brson...
[18:26:36] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[18:36:33] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[18:36:33] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14c518a73 to 14810c4de: 02http://git.io/N3iJvQ
[18:36:33] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[18:36:34] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[18:36:34] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/m9DfNQ
[18:36:34] <ghrust> 13rust/06auto 1487add53 15Alex Crichton: rustc: Improve crate id extraction...
[18:36:34] <ghrust> 13rust/06auto 14ce438fa 15bors: auto merge of #11077 : alexcrichton/rust/crate-id, r=cmr...
[18:36:34] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[18:43:29] <acrichto> brson: for start_on_main_task, what do you think about https://gist.github.com/alexcrichton/8058728
[18:45:28] <jack> holy crap. irccloud just inlined your gist.
[18:45:30] <jack> that is awesome!
[18:48:25] <brson> acrichto: i think that's reasonable. we'll need to communicate it clearly. this pattern probably belongs in the cookbook. most gui cases will probably be content with just just using spawn and not setting up a green thread pool - it may only be servo at this point that really wants to do this
[18:49:37] <acrichto> brson: well hm I forgot we still have the problem that native::start doesn't run code on the main thread
[18:49:40] <acrichto> which is problematic...
[18:49:50] <brson> oh, yeah, that won't work for guis
[18:50:07] <brson> it would *probably* be better if native::start was just on the main thread
[18:50:29] <acrichto> stack bounds :(
[18:51:04] <brson> leave it up to the caller and make a conservative guess in `boot`?
[18:56:24] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Connection reset by peer)
[18:58:17] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[19:08:12] *** Quits: jdm (jdm@moz-AC9499B2.cable.teksavvy.com) (Quit: Lost terminal)
[19:11:03] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[19:12:47] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[19:25:27] *** Quits: gwty (gwtypc@F845B194.A388EA24.F44414AF.IP) (Ping timeout)
[19:30:12] <brson> cmr: what are the two materials in your rust logo?
[19:30:27] <brson> and what process produced it
[19:30:45] <cmr> it's a copper-clad PCB
[19:31:05] <cmr> I used a laserjet printer and a magazine and a clothes iron to transfer the pattern onto the board
[19:31:08] *** Quits: tedh (tedh@moz-F3B34318.hsd1.il.comcast.net) (Quit: Textual IRC Client: www.textualapp.com)
[19:31:12] <cmr> Then ferric chloride to dissolve the copper
[19:31:26] <cmr> and then acetone to wipe off the toner
[19:36:34] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[19:36:34] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14ce438fa to 14810c4de: 02http://git.io/N3iJvQ
[19:36:34] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[19:36:35] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[19:36:35] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/VD2ewA
[19:36:35] <ghrust> 13rust/06auto 1487add53 15Alex Crichton: rustc: Improve crate id extraction...
[19:36:35] <ghrust> 13rust/06auto 142aa1db6 15bors: auto merge of #11077 : alexcrichton/rust/crate-id, r=cmr...
[19:36:35] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[19:36:38] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[19:36:56] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[19:36:58] <cmr> brson: made reply on reddit; link in #rust too
[19:37:03] *** Quits: eddyb (eddy@moz-68E0B7D0.residential.rdsnet.ro) (Ping timeout)
[19:38:46] <brson> cmr: i may want one of those for my name plaque. my current one has a *firefox* logo
[19:39:20] <cmr> heh
[19:39:37] <cmr> I was going to make a name plaque but my 4x6 copper boards aren't the right size for it.
[19:40:08] *** Joins: eddyb (eddy@moz-68E0B7D0.residential.rdsnet.ro)
[19:40:11] <acrichto> brson: we really need to turn on coredups on the bots
[19:40:11] *** Joins: gwty (gwtypc@76EA0583.D155B7DB.F44414AF.IP)
[19:40:17] <acrichto> we're getting lots of segfaults and I can't reproduce
[19:40:56] <brson> acrichto: uhoh
[19:41:04] <brson> how do we turn on core dumps?
[19:41:39] <acrichto> I've locally been running ulimit -c unlimited
[19:41:46] <acrichto> that only applies to the local shell though I think
[19:41:59] <acrichto> and buildbot probably creates a new shell process each time it runs something
[19:42:25] <acrichto> brson: http://unix.stackexchange.com/questions/31187/how-to-enable-crash-reports-core-dumps-stack-trace-logging-globally
[19:44:17] <brson> and then we probably need to collect the core dumps somewhere?
[19:44:34] <acrichto> if we could just shove them in a directory that's all we'd need
[19:44:43] <acrichto> unsure on how that works though
[19:46:08] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[19:46:08] *** ChanServ sets mode: +ao dherman dherman
[19:46:09] <acrichto> brson: apparently     /proc/sys/kernel/core_pattern is magical
[19:46:19] <acrichto> if you put a pipe in front if the contnets of that file it'll run that program
[19:46:26] <acrichto> so "|cat > /tmp/last_coredump"
[19:46:35] <cmr> brson: I can make you one, any size up to 4x4 inches, though it will be a bit because I need to order some more etchant
[19:46:35] <acrichto> that should have the last coredump always in /tmp/last_coredump
[19:46:59] <brson> cmr: hm, my nameplate may be longer than 4 inches
[19:47:54] <cmr> I can order larger copper plates too
[19:48:21] <cmr> this is just what I had on hand from an old project
[19:48:39] <brson> acrichto: are linux coredumps enough?
[19:49:18] <acrichto> brson: ugh apparently not, all the segfaults have been on mac
[19:50:08] <acrichto> brson: "You can enable core dumps on a system-wide basis by adding the line limit core unlimited to your /etc/launchd.conf file, creating it if necessary, and then restarting. For more information about this, see the launchd.conf man page"
[19:50:22] <acrichto> "limit core unlimited" is what they're referring to
[19:50:47] <acrichto> unsure if that only enables it for things launched through launchd
[19:50:51] <brson> acrichto: and on os x coredumps apparently go into /cores
[19:50:58] <acrichto> that's perfect
[19:51:03] <acrichto> we can clean it out if we really need to
[19:51:22] <acrichto> hm, maybe I should test that locally
[19:51:25] <acrichto> before we restart the bots
[19:51:38] <acrichto> brb restarting
[19:55:54] <acrichto> brson: it worked
[19:56:05] <acrichto> brson: as in modifying that file and then restarting, now I'm getting coredumps without any extra configuration
[19:56:13] <brson> acrichto: and they're in /cores?
[19:56:16] <acrichto> yep
[19:56:33] <acrichto> it does mean a crashing process takes like 20s to exit
[19:56:48] <acrichto> 401MB coredump files
[19:56:55] <acrichto> we may want to watch the disk usage...
[19:57:35] <brson> ok. i'll modify the bots
[19:57:52] <brson> we could set up a cron job to wipe /cores every night
[19:58:03] <acrichto> ah that's a good idea
[19:58:12] <acrichto> it may need some finesse though
[19:58:17] <acrichto> they're not removable by default
[19:58:23] <acrichto> rm /cores/core.XXX asks for confirmation
[19:58:31] <acrichto> I think rm -f would work, but the cron should probably run as root
[19:59:21] <brson> hm mac3 has a mistake in it's launchd.conf
[19:59:34] <acrichto> how so?
[19:59:57] <brson> i bet they all do!
[20:00:06] <brson> the first line is '-e limit maxfiles 8192 20480'
[20:00:09] <brson> the -e is bogus
[20:00:20] <acrichto> huh
[20:00:29] <acrichto> well that would explain why we had to do it manually
[20:00:46] <brson> we do?
[20:00:57] <acrichto> yeah
[20:01:20] <acrichto> https://github.com/mozilla/rust/blob/master/src/libstd/rt/test.rs#L115
[20:01:43] <brson> well, it needs to be done manually for non-bots anyway
[20:02:02] <acrichto> yeah it's fine
[20:02:10] <acrichto> I don't think it's much of a problem any more though
[20:02:17] <acrichto> I think we ended up getting the cause of it under control
[20:02:21] *** flaper87 is now known as flaper87|afk
[20:03:27] <acrichto> brson: was I talking with you about porting my kernel to rust yesterday or was that someon else?
[20:05:35] <brson> acrichto: we talked about it yes
[20:05:55] <acrichto> brson: ah, so last night I was curious about starting by just writing a bare-metal game, and so far I have a rust kernel printing on the console: https://dl.dropboxusercontent.com/s/hdngro3pp70bqov/Screenshot%202013-12-20%2011.35.23.png
[20:06:10] <acrichto> writing kernels is so much fun, and doing it in rust is just even more amazing
[20:08:02] <brson> acrichto: wow!
[20:08:13] <brson> everybody's got a rust kernel these days
[20:09:26] <brson> ok i'm adding '0 0 * * * rm -f /cores/*' to root's crontab and going on vacation tonight
[20:09:32] * brson crosses fingers
[20:09:35] <acrichto> haha
[20:09:54] <brson> shutting down the buildmaster
[20:11:06] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[20:17:59] <acrichto> jack: ping
[20:18:13] <jack> acrichto: pong
[20:18:23] <acrichto> jack: I think that the generated .d file doesn't handle when you delete files
[20:18:39] <acrichto> I just got "no rule to make kern/arch.rs" when I removed it
[20:18:49] <acrichto> I think that the way gcc solves this is by providing an empty target for all files
[20:18:57] <acrichto> but maybe they have an option to disable/enable that?
[20:19:08] <acrichto> but I'm curious what you think of just writing out all files as empty targets in the .d file
[20:19:25] <acrichto> so like "libfoo-hash.a: lib.rs\nlib.rs:\nfoo.rs:\n"
[20:19:54] <jack> i thougth about doing that
[20:20:11] <jack> i did read that they did that, but i guess i forgot during writing the patch
[20:28:34] <brson> acrichto: builders are all restarted now
[20:28:40] <jack> i think writing out the empty targets is fine.
[20:28:45] <jack> if that wasn't clear.
[20:28:48] <acrichto> brson: cool, I'll watch out for segfaults and see if I can find core files
[20:28:55] <acrichto> jack: ok, I'll open a PR soon
[20:29:59] *** Joins: nrc|Christmas (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[20:41:35] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[20:41:35] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/fHO44Q
[20:41:35] <ghrust> 13rust/06auto 14bf5f2f2 15Adrien TÃ©tar: doc: forward-port the conditions tutorial + fixup libstd example
[20:41:35] <ghrust> 13rust/06auto 14d5d5c50 15bors: auto merge of #10986 : adridu59/rust/patch-new, r=alexcrichton...
[20:41:35] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[20:41:37] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[20:41:37] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 142aa1db6 to 14810c4de: 02http://git.io/N3iJvQ
[20:41:37] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[21:01:50] *** Joins: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net)
[21:01:50] *** ChanServ sets mode: +o tjc
[21:02:21] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[21:02:22] *** ChanServ sets mode: +ao pcwalton pcwalton
[21:10:47] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[21:12:03] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[21:13:45] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[21:31:28] *** Joins: jdm (jdm@13F2CEC5.7672369.D8E68FF6.IP)
[21:37:51] *** Quits: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net) (Ping timeout)
[21:43:06] *** Joins: tjc (tjc@ECE7CC57.2D024FDB.284344F5.IP)
[21:43:06] *** ChanServ sets mode: +o tjc
[21:44:35] *** Quits: Kxepal (Miranda@moz-FDC1ADF0.pppoe.mtu-net.ru) (Ping timeout)
[21:47:55] *** Joins: Kxepal (Miranda@moz-BCAF7DE0.pppoe.mtu-net.ru)
[21:52:47] *** Quits: tjc (tjc@ECE7CC57.2D024FDB.284344F5.IP) (Ping timeout)
[21:56:42] *** Joins: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net)
[21:56:42] *** ChanServ sets mode: +o tjc
[22:01:10] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[22:11:29] *** Joins: aatch (aatch@moz-2BB0AC01.cable.telstraclear.net)
[22:21:35] *** Quits: ktt3ja (ktt3ja@moz-54586A12.washdc.fios.verizon.net) (Quit: Leaving)
[22:28:59] *** Joins: glaebhoerl (glaebhoerl@moz-B5B88D72.catv.broadband.hu)
[22:35:33] *** bstrie_dont_let_me_talk_on_irc is now known as bstrie_get_a_better_irc_client
[22:35:44] *** bstrie_get_a_better_irc_client is now known as bstrie_vacation
[22:36:31] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[22:36:31] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/fHO44Q
[22:36:31] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[22:38:30] *** Quits: dbaupp (Thunderbir@moz-EB2EFE6F.lns20.syd6.internode.on.net) (Ping timeout)
[22:41:31] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[22:41:31] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/sTsIZg
[22:41:31] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[22:41:32] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[22:41:32] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/ORxwdQ
[22:41:32] <ghrust> 13rust/06auto 145cf2f54 15Jan Niklas Hasse: Support ANSI colors in msys terminals. See #2807
[22:41:32] <ghrust> 13rust/06auto 14cf43f5d 15bors: auto merge of #11031 : jhasse/rust/patch-msys-3, r=cmr...
[22:41:32] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[22:52:51] *** Quits: canhtak (canhtak@38266F07.7A8E554D.FC900DAF.IP) (Quit: canhtak)
[23:01:21] *** Joins: tedh (tedh@moz-F3B34318.hsd1.il.comcast.net)
[23:02:30] *** Joins: canhtak (canhtak@38266F07.7A8E554D.FC900DAF.IP)
[23:09:51] <jack> tjc: does rust-path-hack affect how pkgid's are determined?
[23:11:16] <tjc> jack: It shouldn't
[23:11:21] <tjc> at least not as far as I can recall
[23:11:29] <tjc> does it seem like it is affecting that?
[23:12:55] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[23:13:21] <jack> well it prints out the wrong package id
[23:13:26] <jack> but uses the write one during build
[23:13:35] <jack> it tells me it installed something, but there is no lib dir
[23:13:44] <jack> s/write/right/
[23:13:52] <tjc> hmm
[23:14:07] <tjc> does the debug message say what path it installed it too?
[23:14:39] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[23:16:04] <jack> warning: library_in_workspace didn't find a library in /Users/jack/src/tmp/workspace/build/x86_64-apple-darwin/something for something
[23:16:21] <jack> but:
[23:16:21] <jack> ../workspace//build/x86_64-apple-darwin/something/libsomehing-cfb15ec8-1.2.dylib
[23:16:37] <jack> so somewhere there is this wrong pkgid that i think is confusing it.
[23:17:08] <jack> I probably broke some invariant somewhere that I now need to patch up.
[23:17:31] <tjc> Hmm, it's possible it was already broken :-) Are you testing a scenario that's different than usual?
[23:20:12] <acrichto> brson: ping
[23:21:10] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[23:21:10] *** ChanServ sets mode: +ao dherman dherman
[23:21:34] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[23:21:34] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14cf43f5d to 14d5d5c50: 02http://git.io/N3iJvQ
[23:21:34] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[23:21:35] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[23:21:35] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/Po3w1g
[23:21:35] <ghrust> 13rust/06auto 1487add53 15Alex Crichton: rustc: Improve crate id extraction...
[23:21:35] <ghrust> 13rust/06auto 149d1de0b 15bors: auto merge of #11077 : alexcrichton/rust/crate-id, r=cmr...
[23:21:35] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[23:23:52] <jack> tjc: did you see my recent changes for pkgid attr (now crate_id)?
[23:24:04] <jack> I ported these to rustpkg but I have clearly not covered all the bases.
[23:24:05] <tjc> jack: I saw that you made some changes but I didn't look at them closely
[23:24:55] <tjc> Did you look at the code that's printing out the incorrect package ID in the debug message?
[23:25:06] <tjc> as in, to see if it's just printing out the wrong thing, or is passed something that's wrong and that's what it's printing out
[23:25:33] <brson> acrichto: pong
[23:25:42] <acrichto> brson: ah it was jut mac5's ip
[23:26:35] <jack> tjc: i think the case where there is a crate_id in the crate it doesn't start using it. or that knowledge comes too late. i'll dig through the code path around where it's wrong in a bit. out for a run for a bit.
[23:27:16] <tjc> jack: sure. the reason why this code is dubious in the first place is b/c of the unpredictable library names
[23:27:27] <tjc> I saw some discussion go by on the mailing list about making the hashes in the library names predictable
[23:27:32] <tjc> so I don't know if a decision got made on that
[23:27:38] <tjc> but if it did, it'll help with making that code less flaky
[23:29:54] *** Quits: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net) (Ping timeout)
[23:30:29] *** Joins: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net)
[23:30:29] *** ChanServ sets mode: +o tjc
[23:30:57] <acrichto> brson: hm, this coredump is not very useful at all
[23:31:12] <acrichto> oh wait
[23:31:29] *** Quits: jdm (jdm@13F2CEC5.7672369.D8E68FF6.IP) (Quit: Lost terminal)
[23:31:52] <acrichto> hm this might be dying in libuv
[23:31:54] <acrichto> which would be bad
[23:32:46] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[23:35:33] <brson> i do like that the compiler knows valid attributes now
[23:35:57] <acrichto> #[mutable_doc] is no longer there :(
[23:36:16] <brson> what is mutable_doc?!
[23:36:25] * brson boggles
[23:36:49] <acrichto> oh it was just an attribute we had around by accident
[23:36:51] <acrichto> like staticant
[23:36:58] <acrichto> I miss our staticants
[23:37:25] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[23:37:46] <brson> lol
[23:38:41] <acrichto> mov (a,b,c), d
[23:38:46] <acrichto> what is (a,b,c) again?
[23:38:48] <acrichto> a+b*c?
[23:40:47] <brson> is "The link attribute has been superceded by the crate_id attribute, which has the format #[crate_id = \"name#version\"] or #[crate_id = \"package#na\
[23:40:50] <brson> me:version\"]"
[23:40:52] <brson> a fair description?
[23:41:08] <brson> the distinction between package/name is not exact
[23:41:33] <acrichto> I'm fine with only saying name#version for now
[23:41:36] <brson> it's more like package_with_embedded_name#version or package#name#version
[23:41:39] <acrichto> we ourselves are unclear about packages
[23:41:41] <brson> ok
[23:42:28] <ChrisMorgan> The question is whether we want to promote the URL-style paths or not yet; my vague feeling is that it might be better to wait for a while and sort out rustpkg more generally before promoting that way of doing it. Prevents people from getting their hopes up, perhaps?
[23:51:16] *** Quits: canhtak (canhtak@38266F07.7A8E554D.FC900DAF.IP) (Quit: canhtak)
[23:52:29] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[23:52:29] *** ChanServ sets mode: +ao dherman dherman
[23:58:06] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[23:58:43] *** Joins: canhtak (canhtak@38266F07.7A8E554D.FC900DAF.IP)
