[00:00:10] *** Quits: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu) (Ping timeout)
[00:01:57] *** Joins: ricepuddin (graham@moz-7D68765A.cable.virginm.net)
[00:03:00] *** Quits: pedantech (quassel@moz-5B428D44.msl-mt.client.bresnan.net) (Client exited)
[00:03:50] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[00:04:01] *** Joins: eholk (eholk@moz-58C5EE6F.wavecable.com)
[00:04:10] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[00:05:09] *** Quits: z0w0 (zack@D80AA51.4F58607A.2CE63F58.IP) (Quit: z0w0)
[00:05:33] <socksy> can enum variants have generics?
[00:05:58] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[00:07:36] <olsonjeffery> socksy: yes
[00:07:51] <olsonjeffery> enum Foo<T> { DoesntHaveIt, DoesHaveA(T) }
[00:08:05] *** Joins: z0w0 (zack@D80AA51.4F58607A.2CE63F58.IP)
[00:08:17] <socksy> so the whole enum needs to have that generic?
[00:09:12] <olsonjeffery> yes
[00:09:30] <olsonjeffery> because Foo<int> and Foo<uint> or what-have-you aren't the same type
[00:10:37] <socksy> ok, I guess I don't want to use enums in this situation then. Cheers for the help
[00:11:12] <rntz_> socksy: what are you trying to do?
[00:11:58] *** Joins: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu)
[00:12:39] <socksy> I'm writing a simulated garbage collector for a school project. Trying to figure out how I'm going to represent boxed values and boxed pointers
[00:14:10] <rntz_> well, if all your data is tagged, and without being very clever that's what you'll have to do, an enum seems like the right way to do it to me.
[00:14:46] <socksy> if I'm using actual owned pointers inside of the structs for pointer values, then those pointer values will need to be parametized with the value they're pointing at
[00:15:00] <socksy> if I play a little dumber, just keeping an int for my virtual heap, it's not so important
[00:15:45] <olsonjeffery> do you have a finite number of types that the GC will track?
[00:15:51] <rntz_> well, I was imagining that you'd just have a "Value" type that represents things in your language.
[00:15:54] *** Quits: alan_andrade (alan_andra@8AB4864E.75F2E118.B7838CA6.IP) (Input/output error)
[00:16:00] <rntz_> and then all your pointers would be Value*
[00:16:13] <rntz_> er, *Value. whatever rust uses for unsafe pointers
[00:16:16] <rntz_> since you're doing the gc yourself
[00:16:18] <socksy> ah interesting
[00:16:25] <socksy> olsonjeffery: yes
[00:16:41] <rntz_> honestly this is the kind of thing I would do in C, which is not to say it couldn't be done in rust, I'm just no expert on how you'd want to do it.
[00:16:48] <olsonjeffery> then why not represent each of the possible types within a variant and skip the parameterizing altogether?
[00:17:52] <socksy> rntz_: I thought I'd use the opportunity to learn rust
[00:18:16] *** Joins: ercxx (ercan@moz-5B55241D.dyn.optonline.net)
[00:18:19] <socksy> olsonjeffery: I don't understand. Do you mean have a different type for each variant of pointer possible?
[00:19:08] <olsonjeffery> i mean one enum, with each variant representing a box over the different types of values in your language. that's why i asked if you had a finite list of types in your language to support
[00:19:56] <socksy> hmm, I think I see what you mean now
[00:20:00] <socksy> the only problem was pointers
[00:20:15] <socksy> but as rntz_ says, I could recursively refer to the enum...
[00:20:42] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[00:21:22] *** Joins: ofeldt (ofeldt@moz-D63CF0B9.dip0.t-ipconnect.de)
[00:22:31] *** Quits: ofeldt- (ofeldt@moz-B0843512.dip0.t-ipconnect.de) (Ping timeout)
[00:25:10] *** Joins: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca)
[00:25:41] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[00:25:59] *** Quits: pyon (user@D883E380.480D3EC1.1C8C8CE9.IP) (Ping timeout)
[00:26:40] *** Joins: pyon (user@D883E380.480D3EC1.1C8C8CE9.IP)
[00:26:59] <olsonjeffery> yeah. rustpkg is still pretty confusing. pretty sure im circumventing its intended workflow.
[00:27:51] *** Quits: klutzy (th@BA61F396.8E859986.ECA1BB11.IP) (Ping timeout)
[00:27:52] <zq> how do i instruct rustc to not link against libmorestack?
[00:28:34] <SiegeLord> I don't know what the intended workflow is...
[00:28:37] <arrrrrrrrr> #[repr(char)]enum { A, B }     let x = buf.read_u8(); match x as char { A => ... B => ... _ => ... }  doesn't work. how do I make it work?
[00:28:41] <SiegeLord> Luckily, it's getting looked at
[00:28:42] <olsonjeffery> zq: #[nostd]; in your, iirc?
[00:28:49] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[00:29:02] <olsonjeffery> in your main()
[00:29:12] <olsonjeffery> and have to use a #[start] fn
[00:29:17] *** Quits: io2 (io2@moz-34E8FDD4.home.otenet.gr) (Quit: )
[00:30:10] <zq> olsonjeffery: #[no_std], you mean?
[00:30:31] *** Joins: klutzy (th@BA61F396.8E859986.ECA1BB11.IP)
[00:31:35] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[00:32:34] *** Quits: jvns_ (bork@moz-DE62990.nyc.res.rr.com) (Ping timeout)
[00:33:19] *** Quits: bheylin (textual@moz-8255E94E.adsl.online.nl) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[00:33:34] <arrrrrrrrr> pls respond
[00:35:31] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[00:36:05] <Earnestly> Please stop this in the MLs: "[-- Type: multipart/alternative, Encoding: 7bit ..."
[00:36:22] <Earnestly> :(
[00:36:50] *** Quits: sigma1 (sigma@moz-6E1846A2.range86-184.btcentralplus.com) (Quit: Leaving.)
[00:38:16] *** Joins: jlong (jlong@moz-6DFDE846.socal.res.rr.com)
[00:40:02] <killerswan> Is there a reason rustc's `--crate-file-name` flag just prints the same output twice?
[00:41:53] *** Quits: bmu (chatzilla@moz-A87574A6.hsd1.pa.comcast.net) (Ping timeout)
[00:42:07] *** Quits: aeqwa (aeqwa@moz-8EF28476.dsl.tropolys.de) (Quit: WeeChat 0.4.3-dev)
[00:42:42] <jack> killerswan: did you tell it to build tow different libs? :)
[00:42:59] <jack> it prints one for every output it's going to generate
[00:44:33] *** Joins: bmu (chatzilla@moz-A87574A6.hsd1.pa.comcast.net)
[00:45:05] <ercxx> anybody familiar with libupnp?
[00:45:12] <killerswan> no, no i didn't
[00:46:20] <killerswan> also, in another example, I just discovered that when you use `pkgid` instead of `crate_id` in your source, you get an ICE
[00:48:39] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[00:52:32] <killerswan> or when I do, and call rustc from another program, I get one
[00:54:57] <ercxx> what's the best way of dealing with big/nested structs in a c lib while writing a wrapper?
[00:55:52] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Input/output error)
[00:56:12] <ercxx> do I have to re-create all of them on the rust side?
[00:56:13] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[00:57:57] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[00:58:40] *** Quits: synackse (synackse__@moz-DFB8ED3B.lightspeed.wepbfl.sbcglobal.net) (Ping timeout)
[01:04:20] *** Joins: synackse (synackse__@moz-DFB8ED3B.lightspeed.wepbfl.sbcglobal.net)
[01:04:40] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[01:05:42] <killerswan> my ICE: https://github.com/mozilla/rust/issues/11107
[01:06:10] <killerswan> >_>
[01:07:06] *** Quits: jlong (jlong@moz-6DFDE846.socal.res.rr.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[01:07:24] *** Quits: brson (brson@981AA104.E81F12CD.76F66111.IP) (Ping timeout)
[01:08:46] <killerswan> I actually don't know how to run with "RUST_LOG=rustc=1"
[01:08:52] <killerswan> is that broken somehow?
[01:08:59] *** Quits: Lurk_ (chatzilla@moz-F088D030.hsd1.in.comcast.net) (Quit: ChatZilla 0.9.90.1-rdmsoft [XULRunner 22.0/20130619132145])
[01:09:02] <killerswan> or am I doing it wrong?
[01:14:31] *** Joins: brson (brson@981AA104.E81F12CD.76F66111.IP)
[01:14:32] *** ChanServ sets mode: +ao brson brson
[01:17:42] *** Joins: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net)
[01:18:52] *** Quits: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[01:21:20] *** Joins: fournm (Aria@moz-ABB60BA0.austin.res.rr.com)
[01:23:30] *** Quits: arrrrrrrrr (arrrrrrrrr@moz-BCE2F538.dynamic.qsc.de) (Ping timeout)
[01:25:41] *** Joins: doomlord_ (servitor@moz-D40D68D6.range86-184.btcentralplus.com)
[01:26:18] *** Joins: alan_andrade (alan_andra@8AB4864E.75F2E118.B7838CA6.IP)
[01:26:58] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[01:28:02] *** Quits: alan_andrade (alan_andra@8AB4864E.75F2E118.B7838CA6.IP) (Ping timeout)
[01:33:09] *** Joins: hacker_sam (hacker_sam@2EE27BB6.661C02A7.B0CE379A.IP)
[01:35:01] *** Joins: jvns_ (bork@moz-DE62990.nyc.res.rr.com)
[01:36:15] *** Quits: synackse (synackse__@moz-DFB8ED3B.lightspeed.wepbfl.sbcglobal.net) (Ping timeout)
[01:36:36] *** kimundi is now known as zz_kimundi
[01:39:39] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[01:39:51] *** Joins: synackse (synackse__@moz-DFB8ED3B.lightspeed.wepbfl.sbcglobal.net)
[01:40:15] *** Quits: pyon (user@D883E380.480D3EC1.1C8C8CE9.IP) (Quit: ERC Version 5.3 (IRC client for Emacs))
[01:45:02] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[01:45:29] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[01:45:43] *** Quits: smodo (tadnr@moz-6398EFDF.dclient.hispeed.ch) (Input/output error)
[01:47:20] *** Quits: ricepuddin (graham@moz-7D68765A.cable.virginm.net) (Ping timeout)
[01:49:27] *** Quits: Krymise (Nietzsche@moz-CA789EF5.nwrknj.fios.verizon.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[01:49:32] *** Joins: Krymise (Nietzsche@moz-CA789EF5.nwrknj.fios.verizon.net)
[01:52:40] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[01:56:44] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[01:58:31] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[01:58:41] *** Joins: Florob (florian@moz-9CC7D549.netcologne.de)
[02:01:03] *** Quits: andreypopp (andreypopp@moz-7261DC60.net) (Quit: andreypopp)
[02:05:04] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[02:05:55] *** Quits: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com) (Quit: )
[02:06:28] *** Joins: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com)
[02:06:46] *** Joins: pyon (user@D883E380.480D3EC1.1C8C8CE9.IP)
[02:06:53] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[02:12:44] *** Quits: eholk (eholk@moz-58C5EE6F.wavecable.com) (Ping timeout)
[02:13:23] *** Joins: eholk (eholk@moz-58C5EE6F.wavecable.com)
[02:13:44] *** Quits: ianj (ianjneu@moz-7BA002E.hsd1.ma.comcast.net) (Quit: leaving)
[02:15:04] *** jld|32 is now known as jld
[02:17:25] *** Quits: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net) (Quit: killerswan)
[02:17:34] *** Joins: alan_andrade (alan_andra@8AB4864E.75F2E118.B7838CA6.IP)
[02:18:07] *** Joins: arrrrrrrrr (arrrrrrrrr@moz-BCE2F538.dynamic.qsc.de)
[02:20:06] *** Quits: c-a (c-a@moz-57C82A9.a163.priv.bahnhof.se) (Quit: Ex-Chat)
[02:20:52] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[02:21:46] *** Joins: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net)
[02:22:36] *** Joins: dbaupp (Thunderbir@moz-B267564E.pa.nsw.optusnet.com.au)
[02:24:18] *** Quits: dbaupp (Thunderbir@moz-B267564E.pa.nsw.optusnet.com.au) (Ping timeout)
[02:24:40] *** Joins: dbaupp (Thunderbir@moz-B267564E.pa.nsw.optusnet.com.au)
[02:24:48] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[02:28:52] *** Quits: arrrrrrrrr (arrrrrrrrr@moz-BCE2F538.dynamic.qsc.de) (Ping timeout)
[02:30:49] *** Joins: smodo (tadnr@moz-6398EFDF.dclient.hispeed.ch)
[02:31:34] *** Quits: jvns_ (bork@moz-DE62990.nyc.res.rr.com) (Ping timeout)
[02:32:40] *** Quits: smodo (tadnr@moz-6398EFDF.dclient.hispeed.ch) (Ping timeout)
[02:38:01] *** Joins: ricepuddin (graham@moz-7D68765A.cable.virginm.net)
[02:38:21] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[02:39:38] *** Quits: ercxx (ercan@moz-5B55241D.dyn.optonline.net) (Quit: WeeChat 0.4.2)
[02:40:09] *** Joins: csherratt (csherratt@moz-CAF331EA.cable.teksavvy.com)
[02:40:23] *** Joins: smodo (tadnr@moz-6398EFDF.dclient.hispeed.ch)
[02:41:19] *** Quits: dbaupp (Thunderbir@moz-B267564E.pa.nsw.optusnet.com.au) (Ping timeout)
[02:47:04] <jeaye> phil_: Merged. Thanks!
[02:48:14] *** Quits: Earnestly (earnest@88884C6.A3735F9C.39C00A7A.IP) (Ping timeout)
[02:50:18] <phil_> :D
[02:50:20] <phil_> hooray
[02:50:24] <phil_> my first pull request
[02:55:08] *** Quits: klutzy (th@BA61F396.8E859986.ECA1BB11.IP) (Ping timeout)
[02:55:37] *** Joins: klutzy (th@BA61F396.8E859986.ECA1BB11.IP)
[02:56:46] *** Quits: eholk (eholk@moz-58C5EE6F.wavecable.com) (Ping timeout)
[02:57:23] *** Joins: eholk (eholk@moz-58C5EE6F.wavecable.com)
[02:57:37] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[02:58:32] *** Quits: klutzy (th@BA61F396.8E859986.ECA1BB11.IP) (Ping timeout)
[02:59:30] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[03:00:40] *** Joins: klutzy (th@BA61F396.8E859986.ECA1BB11.IP)
[03:05:34] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[03:06:39] *** Quits: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com) (Quit: pcwalton)
[03:06:56] <achin> if i've got my code rustpkg-ified (in WS/src/name/lib.rs), do i need to put #[crate_type="lib"]; in lib.rs?
[03:07:00] *** Quits: Jesin (Jesin@moz-4B662E55.washdc.fios.verizon.net) (Ping timeout)
[03:07:20] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[03:07:22] *** Joins: Jesin (Jesin@moz-4B662E55.washdc.fios.verizon.net)
[03:08:34] *** Joins: lenstr (lenstr@F51627A8.9636F313.7A27613B.IP)
[03:14:24] <bjz> phil_: woot! \o/
[03:14:41] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[03:15:28] *** Joins: vk (chatzilla@moz-4F2E17BF.dsl.dynamic.sonic.net)
[03:25:02] *** Joins: jaebaek (jaebaek@4D10E9F2.E551553C.7544CABF.IP)
[03:26:20] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[03:26:32] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[03:28:01] *** Quits: gwty (gwtypc@177091FB.18989014.F44414AF.IP) (Ping timeout)
[03:28:05] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Connection reset by peer)
[03:33:02] <achin> hansjorg: i've got a question about rust-ci.org
[03:34:43] *** vk is now known as vky
[03:35:22] *** Joins: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net)
[03:35:36] *** Quits: jaebaek (jaebaek@4D10E9F2.E551553C.7544CABF.IP) (Ping timeout)
[03:35:45] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[03:37:30] *** Quits: hacker_sam (hacker_sam@2EE27BB6.661C02A7.B0CE379A.IP) (Connection reset by peer)
[03:37:40] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Quit: Leaving...)
[03:39:53] *** Joins: hacker_sam (hacker_sam@2EE27BB6.661C02A7.B0CE379A.IP)
[03:40:24] *** Quits: synackse (synackse__@moz-DFB8ED3B.lightspeed.wepbfl.sbcglobal.net) (Ping timeout)
[03:41:10] *** Quits: brson (brson@981AA104.E81F12CD.76F66111.IP) (Ping timeout)
[03:41:49] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[03:43:04] *** Quits: Florob (florian@moz-9CC7D549.netcologne.de) (Quit: leaving)
[03:48:52] *** Joins: ercxx (ercan@moz-5B55241D.dyn.optonline.net)
[03:51:03] *** Quits: Krymise (Nietzsche@moz-CA789EF5.nwrknj.fios.verizon.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[03:51:31] *** Quits: zz_kimundi (kimundi@moz-94542831.dip0.t-ipconnect.de) (Ping timeout)
[03:53:45] <pyon> If I allocate some linked container in an extra::arena::Arena, are its nodes allocated in the extra::arena::Arena too?
[03:54:16] *** Joins: synackse (synackse__@moz-DFB8ED3B.lightspeed.wepbfl.sbcglobal.net)
[03:54:43] *** Joins: zz_kimundi (kimundi@moz-570D84D2.dip0.t-ipconnect.de)
[03:55:12] *** zz_kimundi is now known as kimundi
[04:01:43] *** Quits: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca) (Quit: Leaving.)
[04:04:06] *** Joins: cmeiklejohn (sid1900@moz-31ABA2C0.irccloud.com)
[04:06:00] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[04:06:56] <bjz> cmeiklejohn: o/
[04:06:58] <bjz> ohai
[04:07:26] <bjz> jack: cmeiklejohn is interested in interfacing Rust with Erlang
[04:07:50] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[04:08:18] <bjz> cmeiklejohn: jack is an erlanger - dunno if he is online atm
[04:09:00] <achin> pyon: what's extra::arena::Arena?
[04:09:40] <pyon> achin: An arena allocator... basically, you can allocate all sorts of objects there, and they all will have the same lifetime.
[04:10:27] <pyon> achin: http://static.rust-lang.org/doc/master/extra/arena/struct.Arena.html
[04:11:26] <achin> yeah, i found the API docs, but there's no description :)
[04:11:53] <pyon> achin: Look at the method alloc.
[04:12:00] <cmeiklejohn> More loping to just play around and see what's possible, right now :)
[04:12:02] <cmeiklejohn> looking*
[04:12:52] <alan_andrade> Hey Cristobal bienvenido.
[04:13:00] <pyon> achin: Besides the self parameter, it takes a function that constructs an object of any type, and gives you a borrowed pointer to the object. You do not need a owned pointer because the object is owned by the arena.
[04:13:58] <achin> what are some use-cases when you want a bunch of different objects to be owned by the arena, and not some other (more specific) structure?
[04:14:32] <cmeiklejohn> haha, hello!
[04:14:34] <bjz> cmeiklejohn: have you seen the rust tutorial?
[04:14:40] <cmeiklejohn> yeah, working through it now.
[04:14:46] <cmeiklejohn> thanks.
[04:14:50] <bjz> not sure what state its in
[04:14:56] *** Joins: gwty (gwtypc@1E08CE54.358CB4E4.F44414AF.IP)
[04:15:03] <pyon> achin: For example, if you are writing a server that processes complex transactions, and you have no idea how many objects of every type will have to be allocated... but you know you want to free them all when the transaction is done.
[04:15:20] <bjz> cmeiklejohn: they normally try to brush it up for the point releases, but it can get a little messy in the middle
[04:15:41] <bjz> cmeiklejohn: we are currently a few weeks off till 0.9 apparently
[04:16:15] *** Quits: Ferreus (ferreus@moz-FEC408DC.pools.arcor-ip.net) (Quit: WeeChat 0.4.2)
[04:16:26] <bjz> cmeiklejohn: the code examples are unit-tested though - it's just the words that can get out of sync
[04:16:38] <achin> pyon: makes sense.  thanks for the description
[04:16:40] <pyon> achin: It is basically an optimization to prevent memory fragmentation - if lots of objects will have the same lifetime, you can put them all in the same memory block, which you only need fo free() once - even if each object has its own destruction logic.
[04:16:57] <achin> pyon: is this a pattern used in other languages?
[04:17:20] <o11c> hm ... if Rust starts letting templates take constant values as well as types, there will be a conflict with the lifetime syntax ...
[04:17:45] <o11c> achin: there's obstack in C ...
[04:17:47] <pyon> achin: Done manually, the hard way in C. As for C++, I think Boost.Pool is similar, but Rust's arenas look more flexible.
[04:18:02] <pyon> o11c: oh
[04:18:21] * achin is learning something new today.  i <3 #rust
[04:18:46] <pyon> Anyway, I do not want to use C... RAII all the way. :-)
[04:19:58] *** Joins: jeff_ (jeff@moz-E6A9E8C9.hsd1.or.comcast.net)
[04:21:36] <bjz> o11c: yeah, it's going to be tricky, which is why I hope the sort it pre-1.0
[04:22:27] <o11c> that said, I think it just looks really funny to see lifetimes inside the <>
[04:22:59] * o11c is still annoyed that it's not []
[04:23:18] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[04:29:55] <bjz> o11c: yeah :[
[04:39:05] *** Quits: alan_andrade (alan_andra@8AB4864E.75F2E118.B7838CA6.IP) (Input/output error)
[04:41:09] *** Quits: paulproteus (quassel@199.199.210.158) (Ping timeout)
[04:43:15] *** Joins: lpy (lpy@7360AA58.F09091A8.1348A864.IP)
[04:43:25] *** Joins: paulproteus (quassel@458FE134.3EC36C88.CBDCF1DC.IP)
[04:44:09] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[04:46:10] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[04:46:33] <jack> cmeiklejohn, bjz: i've done erlang stuff from java and python before. it's not too hard. you just need to write something that understands the protocol
[04:46:45] <jack> then build an api around the common things
[04:46:58] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[04:46:58] *** ChanServ sets mode: +ao brson brson
[04:47:00] <jack> twotp and the JNI stuff that ships with erlang are what i used
[04:47:08] <cmeiklejohn> cool!
[04:48:26] <jack> here's an example in ruby:  https://github.com/mojombo/bert
[04:48:40] <jack> that's just the term format
[04:48:46] <jack> but that's a reasonable place to start.
[04:48:58] <cmeiklejohn> yeah, i've looked at that before
[04:49:02] <jack> Erlang also ships with C libraries for integration, so you could use Rust to wrap that.
[04:49:11] <jack> but it would be nicer to do it in pure rust
[04:49:37] *** Quits: Yurumechan (23f9939a@B2F514.E4420F21.EEF52F3A.IP) (Client exited)
[04:51:07] <bjz> cmeiklejohn: yeah, it'd be nice to take advantage of rust's semantics
[04:51:20] <bjz> like ADTs and traits and such
[04:53:24] *** Joins: santiago (santiago@moz-F2B734D2.c3-0.sbo-ubr1.sbo.ma.cable.rcn.com)
[04:54:22] *** Quits: fournm (Aria@moz-ABB60BA0.austin.res.rr.com) (Connection reset by peer)
[04:54:33] *** Joins: fournm (Aria@moz-ABB60BA0.austin.res.rr.com)
[04:55:12] *** Joins: Yurumechan (23f9939a@B2F514.E4420F21.EEF52F3A.IP)
[04:57:48] *** Quits: jeff_ (jeff@moz-E6A9E8C9.hsd1.or.comcast.net) (Quit: jeff_)
[04:59:02] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Quit: Busying myself...)
[04:59:27] *** Quits: pyon (user@D883E380.480D3EC1.1C8C8CE9.IP) (Quit: brb)
[05:00:55] *** Quits: ricepuddin (graham@moz-7D68765A.cable.virginm.net) (Ping timeout)
[05:01:21] *** Joins: pyon (user@D883E380.480D3EC1.1C8C8CE9.IP)
[05:04:34] *** Quits: lenstr (lenstr@F51627A8.9636F313.7A27613B.IP) (Client exited)
[05:06:49] *** Quits: synackse (synackse__@moz-DFB8ED3B.lightspeed.wepbfl.sbcglobal.net) (Ping timeout)
[05:09:28] *** Joins: alan_andrade (alan_andra@8AB4864E.75F2E118.B7838CA6.IP)
[05:10:07] *** Joins: mib_vjomb9 (Mibbit@moz-59CE1191.dhcp.oxfr.ma.charter.com)
[05:14:46] *** Quits: alan_andrade (alan_andra@8AB4864E.75F2E118.B7838CA6.IP) (Ping timeout)
[05:23:12] <aatch> Yay for crazy pointer fiddling and cast::transmute!
[05:27:50] *** Quits: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com) (Quit: )
[05:29:23] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[05:29:23] *** ChanServ sets mode: +ao pcwalton pcwalton
[05:29:25] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[05:31:46] *** Quits: mib_vjomb9 (Mibbit@moz-59CE1191.dhcp.oxfr.ma.charter.com) (Quit: http://www.mibbit.com ajax IRC Client)
[05:35:11] *** Joins: lenstr (lenstr@F51627A8.9636F313.7A27613B.IP)
[05:36:18] *** Joins: sankha93 (Instantbir@810A2DB1.A06F18D1.EFB84E89.IP)
[05:36:41] *** Quits: lenstr (lenstr@F51627A8.9636F313.7A27613B.IP) (No route to host)
[05:37:07] *** Joins: lenstr (lenstr@F51627A8.9636F313.7A27613B.IP)
[05:38:52] *** Quits: lenstr (lenstr@F51627A8.9636F313.7A27613B.IP) (Ping timeout)
[05:39:17] *** Quits: Jesin (Jesin@moz-4B662E55.washdc.fios.verizon.net) (Ping timeout)
[05:41:30] <bjz> aatch: transmute ftw
[05:41:41] <bjz> take THAT type system!
[05:42:00] <bjz> ...and then segfault
[05:42:07] <aatch> bjz, lol. I don't actually have that much usage of cast::transmute it seems.
[05:42:22] <aatch> Lot of pointer-type casting though
[05:42:36] <bjz> naughty naughty
[05:42:40] <bjz> tut tut tut
[05:43:45] <aatch> bjz, it's the only way to do this efficiently. It seems a waste to have a protocol that deliberately sends back data in the endianess you want and then pull off bytes one at a time.
[05:44:05] <aatch> Rather than reading straight into an already-allocated structure.
[05:44:27] *** Quits: csherratt (csherratt@moz-CAF331EA.cable.teksavvy.com) (Quit: csherratt)
[05:45:20] *** Joins: Jesin (Jesin@moz-4B662E55.washdc.fios.verizon.net)
[05:53:52] <bjz> aatch: indeed
[05:54:17] <bjz> that's why having escape hatches are important
[05:55:17] <aatch> bjz, also, I have the annoying issue that most data has a "header" with the size, so the most efficient way to work with everything is to use stuff like realloc, since actual data can also be in those first bytes.
[06:00:56] *** Quits: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu) (Ping timeout)
[06:02:26] *** Joins: alonlevy (alon@moz-B406282A.bb.netvision.net.il)
[06:03:01] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[06:03:20] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[06:03:40] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[06:04:37] *** Quits: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net) (Quit: ziad)
[06:04:42] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[06:07:01] *** Joins: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com)
[06:08:36] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[06:10:30] *** Joins: tricus (Mibbit@moz-3B5D9D7C.dsl.hrlntx.sbcglobal.net)
[06:10:51] *** Joins: nielsle (nielsle@moz-C46DA772.boa.fiberby.dk)
[06:11:17] *** Quits: tricus (Mibbit@moz-3B5D9D7C.dsl.hrlntx.sbcglobal.net) (Quit: http://www.mibbit.com ajax IRC Client)
[06:12:23] *** Quits: hacker_sam (hacker_sam@2EE27BB6.661C02A7.B0CE379A.IP) (Connection reset by peer)
[06:12:36] *** Quits: nielsle (nielsle@moz-C46DA772.boa.fiberby.dk) (Ping timeout)
[06:12:44] *** Joins: hacker_sam (hacker_sam@2EE27BB6.661C02A7.B0CE379A.IP)
[06:12:54] *** Joins: brson (brson@6A848D32.C1B840DD.76F66111.IP)
[06:12:54] *** ChanServ sets mode: +ao brson brson
[06:13:36] *** Joins: csherratt (csherratt@moz-CAF331EA.cable.teksavvy.com)
[06:14:16] *** Joins: alan_andrade (alan_andra@8AB4864E.75F2E118.B7838CA6.IP)
[06:15:48] *** Quits: alan_andrade (alan_andra@8AB4864E.75F2E118.B7838CA6.IP) (Connection reset by peer)
[06:16:04] *** Joins: alan_andrade (alan_andra@8AB4864E.75F2E118.B7838CA6.IP)
[06:17:48] *** Quits: alan_andrade (alan_andra@8AB4864E.75F2E118.B7838CA6.IP) (Ping timeout)
[06:18:25] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[06:22:20] *** Joins: etrepum (sid763@moz-5F4AA75A.irccloud.com)
[06:23:03] *** Quits: sankha93 (Instantbir@810A2DB1.A06F18D1.EFB84E89.IP) (Quit: Gone to save the world!)
[06:31:09] *** Joins: lenstr (lenstr@F51627A8.9636F313.7A27613B.IP)
[06:32:55] *** Quits: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net) (Quit: Taking a nap.)
[06:32:58] *** Quits: lenstr (lenstr@F51627A8.9636F313.7A27613B.IP) (Ping timeout)
[06:33:07] *** Joins: Guest_ (textual@moz-E3E59704.ptr.us.xo.net)
[06:34:59] *** Guest_ is now known as Scruff
[06:35:08] *** Joins: dbaupp (Thunderbir@moz-6F08F091.pa.nsw.optusnet.com.au)
[06:37:18] *** Quits: Scruff (textual@moz-E3E59704.ptr.us.xo.net) (Quit: Textual IRC Client: www.textualapp.com)
[06:37:53] *** Quits: carter (carter@moz-3589B90B.c.ircrelay.com) (Ping timeout)
[06:39:00] *** Quits: indirect (indirect@moz-3589B90B.c.ircrelay.com) (Ping timeout)
[06:39:32] *** Joins: indirect (indirect@moz-3589B90B.c.ircrelay.com)
[06:40:08] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[06:40:52] *** Joins: carter (carter@moz-3589B90B.c.ircrelay.com)
[06:43:52] *** Quits: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com) (Ping timeout)
[06:45:22] *** Joins: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net)
[06:46:43] *** Quits: z0w0 (zack@D80AA51.4F58607A.2CE63F58.IP) (Ping timeout)
[07:06:12] *** Quits: csherratt (csherratt@moz-CAF331EA.cable.teksavvy.com) (Ping timeout)
[07:07:09] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[07:08:52] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[07:13:52] *** Joins: csherratt (csherratt@moz-CAF331EA.cable.teksavvy.com)
[07:15:18] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Ping timeout)
[07:15:22] *** Quits: nathan7 (nathan@moz-60FC7746.nathan7.eu) (Ping timeout)
[07:18:47] *** Quits: TobiasFar (tm@moz-A929D162.flosoft-servers.net) (Ping timeout)
[07:20:03] *** Quits: brson (brson@6A848D32.C1B840DD.76F66111.IP) (Ping timeout)
[07:21:48] *** Quits: dbaupp (Thunderbir@moz-6F08F091.pa.nsw.optusnet.com.au) (Ping timeout)
[07:22:27] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[07:23:41] *** Quits: LRN (LRN@moz-50DF30B.nationalcablenetworks.ru) (Quit: Leaving.)
[07:25:22] *** Joins: lenstr (lenstr@F51627A8.9636F313.7A27613B.IP)
[07:26:01] *** Joins: LRN (LRN@moz-50DF30B.nationalcablenetworks.ru)
[07:27:02] *** Quits: lenstr (lenstr@F51627A8.9636F313.7A27613B.IP) (Ping timeout)
[07:28:22] *** Joins: alan_andrade (alan_andra@8AB4864E.75F2E118.B7838CA6.IP)
[07:30:09] *** Quits: alan_andrade (alan_andra@8AB4864E.75F2E118.B7838CA6.IP) (Ping timeout)
[07:35:55] *** Joins: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net)
[07:42:26] *** Joins: Ms2ger (Ms2ger@F98499EB.6D359A20.187A1082.IP)
[07:42:54] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[07:45:42] *** Joins: hacker_s_ (hacker_sam@2EE27BB6.661C02A7.B0CE379A.IP)
[07:45:42] *** Quits: hacker_sam (hacker_sam@2EE27BB6.661C02A7.B0CE379A.IP) (Connection reset by peer)
[07:51:11] *** Joins: klaus (koz@moz-E49E7C4B.hsd1.wa.comcast.net)
[07:52:15] *** Quits: vky (chatzilla@moz-4F2E17BF.dsl.dynamic.sonic.net) (Quit: ChatZilla 0.9.90.1 [Firefox 27.0/20131216183647])
[07:52:30] *** Joins: c-a (c-a@moz-57C82A9.a163.priv.bahnhof.se)
[07:52:49] *** Quits: klaus (koz@moz-E49E7C4B.hsd1.wa.comcast.net) (Quit: klaus)
[07:53:23] *** Joins: eddyb (eddy@moz-68E0B7D0.residential.rdsnet.ro)
[07:53:45] *** Joins: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP)
[07:57:29] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[08:07:40] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[08:08:31] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[08:09:29] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[08:19:14] *** Joins: klaus (koz@moz-E49E7C4B.hsd1.wa.comcast.net)
[08:19:44] *** Joins: lenstr (lenstr@F51627A8.9636F313.7A27613B.IP)
[08:21:02] *** Joins: dbaupp (Thunderbir@moz-6F08F091.pa.nsw.optusnet.com.au)
[08:21:27] *** Quits: lenstr (lenstr@F51627A8.9636F313.7A27613B.IP) (Ping timeout)
[08:28:00] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[08:29:29] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Client exited)
[08:30:32] *** Joins: andreypopp (andreypopp@moz-7261DC60.net)
[08:32:08] *** Quits: alonlevy (alon@moz-B406282A.bb.netvision.net.il) (Ping timeout)
[08:35:12] *** Quits: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net) (Ping timeout)
[08:40:45] *** Quits: dbaupp (Thunderbir@moz-6F08F091.pa.nsw.optusnet.com.au) (Ping timeout)
[08:41:47] *** Quits: bmu (chatzilla@moz-A87574A6.hsd1.pa.comcast.net) (Ping timeout)
[08:42:14] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[08:50:06] *** Joins: nathan7 (nathan@moz-60FC7746.nathan7.eu)
[08:53:43] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[08:54:58] *** Joins: nano (nano@moz-ED77243C.superkabel.de)
[08:56:44] *** Joins: victorporof (victorporo@221F1DFA.9004F55.9B1E38F4.IP)
[09:03:47] *** Joins: eliovir (Mibbit@moz-AF0AD0CA.w92-144.abo.wanadoo.fr)
[09:04:30] <eliovir> hi!
[09:08:07] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[09:09:59] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[09:11:27] *** Quits: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net) (Quit: killerswan)
[09:12:04] *** Quits: gareth0 (gareth0@moz-BF38AE9B.dynamic.dsl.as9105.com) (Ping timeout)
[09:13:50] *** Joins: lenstr (lenstr@F51627A8.9636F313.7A27613B.IP)
[09:14:03] *** Joins: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net)
[09:15:08] *** Joins: mark_edward (quassel@96AA16C1.78A885A5.FA72ABB8.IP)
[09:15:44] *** Quits: lenstr (lenstr@F51627A8.9636F313.7A27613B.IP) (Ping timeout)
[09:19:45] *** Joins: pao (pao@moz-AF905E87.fbx.proxad.net)
[09:21:21] *** Quits: c-a (c-a@moz-57C82A9.a163.priv.bahnhof.se) (Quit: Ex-Chat)
[09:22:34] *** Joins: rca (rcatolino@moz-60C1810D.adsl.proxad.net)
[09:25:58] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Input/output error)
[09:26:10] *** Joins: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org)
[09:28:35] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[09:31:40] *** Joins: mib_wiev1s (Mibbit@moz-375D2C.lightspeed.wepbfl.sbcglobal.net)
[09:31:54] *** Joins: sigma1 (sigma@moz-6E1846A2.range86-184.btcentralplus.com)
[09:34:08] *** Joins: nielsle (nielsle@moz-C46DA772.boa.fiberby.dk)
[09:37:45] *** Quits: nielsle (nielsle@moz-C46DA772.boa.fiberby.dk) (Ping timeout)
[09:39:55] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[09:41:35] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Ping timeout)
[09:44:40] *** Quits: glaebhoerl (glaebhoerl@moz-B5B88D72.catv.broadband.hu) (Quit: )
[09:44:43] *** Joins: ninechars (glaebhoerl@moz-B5B88D72.catv.broadband.hu)
[09:45:16] *** Quits: fournm (Aria@moz-ABB60BA0.austin.res.rr.com) (Quit: Leaving)
[09:46:54] *** Quits: ercxx (ercan@moz-5B55241D.dyn.optonline.net) (Quit: WeeChat 0.4.2)
[09:55:37] *** Joins: nielsle (nielsle@moz-C46DA772.boa.fiberby.dk)
[09:58:22] *** Joins: oberstet (quassel@moz-C2F963A3.dynamic.mnet-online.de)
[09:59:48] *** Joins: Earnestly (earnest@88884C6.A3735F9C.39C00A7A.IP)
[10:02:02] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[10:02:21] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[10:04:17] *** Quits: nielsle (nielsle@moz-C46DA772.boa.fiberby.dk) (Ping timeout)
[10:04:23] <geomyidae__> can people see me?
[10:04:34] <geomyidae__> Am I identified for mozilla or did they unrequire the registration?
[10:05:06] <geomyidae__> My real reason for being here, I have a token as a match case... that is not found elsewhere in my source, and I'm not getting a build error
[10:05:18] <geomyidae__> and the mathc is nonexhaustive, unless I'm exhausted and making a mistake
[10:05:41] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[10:05:42] <aatch> geomyidae__, I can see you
[10:05:49] *** Joins: bheylin (textual@moz-8255E94E.adsl.online.nl)
[10:05:52] <geomyidae__> Thanks
[10:06:09] *** Joins: nielsle (nielsle@moz-C46DA772.boa.fiberby.dk)
[10:06:26] <aatch> geomyidae__, if the variant doesn't exist, then it will bind the value of the match to it.
[10:07:28] <geomyidae__> But I have another match setup the exact same way as far as I can tell
[10:07:45] <geomyidae__> and it makes me be exhaustive and would give me an error if I wasn't using a variant of my enum for the field I'm matching on.
[10:08:00] <geomyidae__> I don't blame you for not wanting to look at my crappy code, but I'm staring at this right now, https://github.com/colemickens/pcapfe/blob/master/pcapfe.rs#L230
[10:08:42] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[10:09:29] *** Joins: amey (user@EA8D8655.7575CC79.BE90E62C.IP)
[10:09:39] <amey> Are `let` statements not allowed inside for loops?
[10:10:13] <aatch> amey, they are.
[10:10:20] *** Quits: nielsle (nielsle@moz-C46DA772.boa.fiberby.dk) (Ping timeout)
[10:10:29] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[10:10:59] <aatch> geomyidae__, it's likely because you don't have any other arms in that match
[10:11:19] <amey> aatch: http://pastebin.com/M9xbvG0w Could you please have a look and tell me what I'm doing wrong?
[10:11:26] <amey> aatch: I thought it was the let inside the loop
[10:11:38] <geomyidae__> so it's binding to that as a name, hrm
[10:11:50] *** Joins: moostik (Icedove@moz-654D48E3.w83-202.abo.wanadoo.fr)
[10:12:07] <aatch> amey, is that in a function at all?
[10:12:18] <amey> aatch: yeah, fn main()
[10:12:47] <amey> aatch: the whole thing http://pastebin.com/ZVGdBeNT
[10:13:15] <aatch> amey, wait, that's from inside format_args!, why are you using format_args! ?
[10:13:35] <aatch> Or not.
[10:13:35] <amey> aatch: Because the docs page says so :P http://static.rust-lang.org/doc/master/std/fmt/fn.format.html
[10:14:01] <aatch> It's failing on that 'let prompt =...' it even gives you the line...
[10:14:23] <amey> aatch: Oh, I'm a complete idiot, sorry
[10:14:44] <aatch> You can't use `let` there, use `static` instead.
[10:14:52] <amey> aatch: thanks!
[10:15:33] *** Joins: saf (Mibbit@moz-A378BFE8.vc.shawcable.net)
[10:16:01] *** Joins: nielsle (nielsle@moz-C46DA772.boa.fiberby.dk)
[10:16:01] <saf> I have updated to rust 0.9pre and now I am getting this error while doing map on a vector:
[10:16:02] <saf> color/mod.rs:128:22: 148:5 error: last argument in `do` call has non-procedure type: |&f32| -> <V102> color/mod.rs:128     let rgb = do tmp3.map |component| { color/mod.rs:129       let mut hue = component; color/mod.rs:130 color/mod.rs:131       if(near_zero_or_less(hue)) { color/mod.rs:132         hue += 1f32; color/mod.rs:133       }
[10:16:38] <saf> And 148:5 error: mismatched types: expected `|&f32| -> <V102>` but found `|f32| -> f32` (expected &-ptr but found f32)
[10:17:05] <saf> I understand sometimes things like map will return a &value, but that does not fix it.
[10:17:48] * geomyidae__ grumbles
[10:17:57] <geomyidae__> It's still unhappy with me. It really, really wants to bind to that variable name.
[10:18:12] <geomyidae__> I think the compiler err should be different
[10:18:45] <geomyidae__> actually, no, I fixed the intentional typo, I'm stuck again I guess. :/ It's telling me I have unreachable patterns now that I put the IPv6 and the _ {} case back in
[10:19:32] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[10:19:54] *** Quits: nielsle (nielsle@moz-C46DA772.boa.fiberby.dk) (Ping timeout)
[10:20:05] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[10:22:10] <eddyb> saf: the error about do is because it no longer works with closures
[10:23:06] <saf> I thought that was the entire sugar about do, was for passing closures.  Is do totally gone now?
[10:23:24] <eddyb> it only works with procs, and its main function is "do spawn"
[10:23:49] <saf> So, in order to use map with a vector, how is that done now?
[10:23:55] <eddyb> there have been some discussions on the mailing list about it
[10:24:00] <eddyb> saf: exactly the same
[10:24:28] <eddyb> s/exactly/almost identically
[10:24:33] <eddyb> saf: you have to call the function with the closure as its argument - tmp3.map(|component| {...}) - fwiw, I hope you find a better name than "tmp3" - and "if(near_zero_or_less(hue))" should be "if near_zero_or_less(hue)"
[10:24:43] <eddyb> (I was writing that long message after my first one :P)
[10:24:54] <rca> geomyidae__: where is IPv6 defined ?
[10:25:03] <Ms2ger> In some RFC?
[10:25:12] <geomyidae__> higher up in that file.
[10:25:18] <geomyidae__> It's in an enum
[10:25:28] <geomyidae__> OH crap on a crap stick
[10:25:32] <rca> Ms2ger: :)
[10:25:51] <saf> tmp3 came from some code I was porting from ruby and I did not rename it yet
[10:26:03] <geomyidae__> yeah, so if you don't use an enum variant in the match{} block, it assumes you're binding and then gives error messages based on that
[10:26:45] <geomyidae__> rca, thanks :)
[10:27:10] <saf> Ah I as having trouble leaving the () off if statements before
[10:27:20] *** Joins: jviereck (Adium@moz-80E87D4F.dip0.t-ipconnect.de)
[10:27:27] *** Quits: sigma1 (sigma@moz-6E1846A2.range86-184.btcentralplus.com) (Ping timeout)
[10:28:32] <rca> geomyidae__: I did the same thing yesterday, happy to save you some time.
[10:31:52] <eddyb> saf: keep in mind () can be used to create a tuple, so if(foo, bar) is valid syntax (though invalid semantically because that tuple is not a bool)
[10:32:13] *** Quits: smodo (tadnr@moz-6398EFDF.dclient.hispeed.ch) (Ping timeout)
[10:34:34] *** Joins: jviereck1 (Adium@moz-2BFD589D.dip0.t-ipconnect.de)
[10:34:35] <saf> Ah, so it is the parens that make the tuple in Rust, not the comma (as in python)
[10:34:42] *** Joins: rrust (Mibbit@37E82762.D4BA1E0E.3BD9FE04.IP)
[10:34:58] <saf> I will happily remove all those extra parens, also thanks the closure is not working correctly
[10:35:03] <saf> now
[10:35:05] *** Quits: jviereck (Adium@moz-80E87D4F.dip0.t-ipconnect.de) (Ping timeout)
[10:35:11] <saf> Is now working correctly.
[10:37:15] <saf> Am I understanding right that there is no more 'float' primitive and I now must choose either f32 or f64?
[10:37:59] <eddyb> just commas would be really confusing for people coming from other languages (there's a lot using "," like C does it)
[10:38:01] *** Joins: Matthias (Mibbit@moz-7B1710C8.rev.sfr.net)
[10:38:08] <Matthias> hi
[10:38:12] <eddyb> saf: yes. choose between precision and size
[10:38:43] <eddyb> also, how can you express () with just commas :))?
[10:39:29] *** Joins: Skrylar (Skrylar@moz-F692F728.austin.res.rr.com)
[10:40:35] *** Quits: mib_wiev1s (Mibbit@moz-375D2C.lightspeed.wepbfl.sbcglobal.net) (Quit: http://www.mibbit.com ajax IRC Client)
[10:41:10] <Matthias> I'm trying to refactor my code in a functional way
[10:41:12] <geomyidae__> Yeah pulling a tuple from Some  Some(val1, val2) actually is Some((val1, val2))
[10:41:13] <saf> I don't know, I don't use python very much, but I know that (1,) makes a 1-tuple in it and is sort of confusing
[10:41:40] <saf> Or just 1,2 makes a 2-tuple without parens
[10:41:47] <Matthias> if I have an iter block, how can I refactor it using a lambda ?
[10:42:22] <Skrylar> am i the only one who is lost as to how to replace @ references with Rc? i tried replacing @x to Rc<x> and the compiler doesn't like it; yet the manual still shows all the samples using @ *pulls hair*
[10:43:51] <amey> How do I initialize a variable of type `**c_char`?
[10:44:15] <Matthias> amey: are you sure that type exists ?
[10:44:34] <Matthias> because in Rust IIRC * is only a dereferencing operator
[10:44:38] <amey> Matthias: http://static.rust-lang.org/doc/master/std/libc/types/os/arch/c95/typedef.c_char.html
[10:44:55] <amey> Matthias: I'm trying to call this: http://static.rust-lang.org/doc/master/std/libc/funcs/posix88/unistd/ffi.execvp.html
[10:45:06] <Matthias> ok
[10:45:26] <Matthias> I don't know
[10:45:32] <amey> damn, ok :|
[10:46:13] <Matthias> it's only that to me, in Rust, you could have @foo, ~foo, &foo but not *foo
[10:46:16] <Matthias> nevermind
[10:46:36] <amey> Matthias: It's part of the FFI
[10:46:45] <Skrylar> Matthias: @foo is disabled and throws errors as of the nightly
[10:46:58] <dkeenaghan> you can get the raw pointer using std::ptr::to_unsafe_ptr
[10:47:00] <Matthias> i didn't know that
[10:47:22] <Matthias> ** is a pointer to a pointer in C
[10:47:24] <Skrylar> yeah, i was using 0.8 until i needed some bindings; switched to 0.9 and now my pointers are busted :\
[10:47:33] <Matthias> so a two-dimensioned array
[10:47:43] <dkeenaghan> really **char is goingto be an array of strings
[10:47:43] <geomyidae__> amey: std::unstable::intrinsics::uninit();
[10:47:44] *** Joins: lenstr (lenstr@592A44AF.9636F313.7A27613B.IP)
[10:48:13] <geomyidae__> that will let it start out uninitialized if you're passing it to a c func that will initialize it
[10:48:31] <amey> geomyidae__: I need to initialize it myself
[10:48:32] <Matthias> grrr
[10:48:37] <Matthias> my ghost is still there
[10:48:45] <amey> geomyidae__: I'm writing a basic shell in rust for learning
[10:48:50] <geomyidae__> might have to do `as` casting. I've had to do some with my raw ptr manip
[10:48:54] <geomyidae__> fun!
[10:49:40] <Skrylar> i also noticed that the compiler continues to suggest i use a broken syntax. o_o
[10:50:20] <Matthias> you should file a bug report
[10:50:41] <Skrylar> @Trait -> "this is deprecated" -> Rc<Trait> -> "Try @Trait?" -> :glare:
[10:51:12] <Matthias> definitely a bug
[10:51:12] *** Joins: spider-mario (spidermari@moz-81131DB6.fbx.proxad.net)
[10:53:56] <rca> Skrylar: from what i understand you can't currently implement the exact same stuff as @ptr using Rc. Until then you can still use @ptr but you need to enable them for your crate.
[10:54:43] <Skrylar> rca: i think making managed boxes a gated feature was a massive error in that case
[10:54:55] <eddyb> Skrylar: Rc<~Trait>
[10:55:10] <eddyb> Skrylar: you need the extra indirection because we don't have DST yet - Trait is not a type
[10:55:40] *** Quits: rrust (Mibbit@37E82762.D4BA1E0E.3BD9FE04.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[10:56:34] <rca> Skrylar: why? since it's going away, you need a way to prevent people from using it in new code.
[10:58:17] <Matthias> does someone have an op's email here ?
[10:58:45] <Matthias> I need my ghost to be kicked so that I can register
[10:59:06] <Skrylar> rca: as it was explained when i read an earlier post; @ is supposed to reduce the need for shared_ptr everywhere, but putting it back as a library type just brings back the excessive typing again. Another post says @ is supposed to be refcounted instead of GC'd now, so it didn't sound like it was removed as undecided
[11:00:01] <FreeFull> Language design is hard
[11:00:21] <FreeFull> Especially with multiple people, where everyone has their own ideas
[11:00:26] <Skrylar> rca: there's also some derpage because i had a function return a @str, did @"foo" and now its acting agitating trying to get it to build. I tried Rc(~"foo") and it just said "no", then tried ~"foo" to see if it would deduce the type and went "no"
[11:00:47] *** Quits: ninechars (glaebhoerl@moz-B5B88D72.catv.broadband.hu) (Quit: )
[11:00:54] *** Joins: ninechars (glaebhoerl@moz-B5B88D72.catv.broadband.hu)
[11:02:15] <Skrylar> it also seems to complicate let bindings, since i have to let x : Rc = ..., which uglifies up a common thing.
[11:02:47] <Matthias> FreeFull: everything is hard unless you're alone
[11:02:59] <Skrylar> admittedly this is probably just a documentation issue *shrug*
[11:03:04] <Matthias> or if you do like Torvalds does
[11:03:12] <eddyb> Skrylar: it's Rc::new
[11:04:15] <eddyb> Skrylar: I suggest having the documentation open at all times
[11:04:20] <Skrylar> eddyb: unresolved name 'Rc' :P
[11:04:32] <eddyb> Skrylar: use std::rc::Rc;
[11:04:35] <geomyidae__> use
[11:04:43] <Skrylar> line 5: use std::rc::Rc;
[11:04:48] <eddyb> haha
[11:04:52] <Skrylar> line 33: let x = Rc.new(...);
[11:04:56] <eddyb> Rc::new
[11:04:59] <geomyidae__> ::
[11:05:06] * geomyidae__ gives up
[11:05:14] <Skrylar> alright
[11:05:49] <Skrylar> eddyb: i have the docs up but i was used to 0.8; and to be fair the 0.9 manual doesn't tell you how to use the new boxes :)
[11:05:51] <FreeFull> Matthias: Not always
[11:06:29] <eddyb> Skrylar: the manual is outdated. the tutorial is lacking. the docs are good because you can search "Rc" and get somewhere
[11:07:30] <eddyb> Skrylar: there's not much, really http://static.rust-lang.org/doc/master/std/rc/struct.Rc.html
[11:07:30] <FreeFull> Well, the docs are generated from the comments, which hopefully reflect the code
[11:08:00] <Skrylar> i actually didn't find the tutorial for 0.8 lacking, but.. yeah
[11:08:14] *** Quits: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net) (Quit: killerswan)
[11:08:19] <eddyb> the tutorial has improved, but it's still considered lacking
[11:09:15] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[11:09:35] <eddyb> I see rusty stuff here http://www.ibelieveicanfry.com/2010/12/reconditioning-re-seasoning-cast-iron.html
[11:09:42] *** Joins: Netromen (Mibbit@55B3D5F.E469B408.C5945A15.IP)
[11:09:53] *** Quits: Netromen (Mibbit@55B3D5F.E469B408.C5945A15.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[11:10:14] <Skrylar> i'm still trying to decide my opinion on the @/rc change atm... so far i think i hate it, since the error messages are tons less useful *nods*
[11:10:59] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[11:13:30] <FreeFull> I think Rc<T> and Gc<T> are a good idea to have
[11:13:50] <FreeFull> s/idea/thing/
[11:13:58] *** Joins: TobiasFar (tm@moz-A929D162.flosoft-servers.net)
[11:14:17] <Skrylar> FreeFull: yeah.. its not the *idea* that I mind, mostly just looking at the current implementation like its a nightmare in comparison
[11:14:45] <Skrylar> e.g. "act.borrow().trigger();" vs "act.trigger();" puts a LOT of C++-esque boilerplating back in
[11:14:55] <FreeFull> The implementation should be improved, I agree
[11:15:27] <FreeFull> Someone has to figure out how to do it better though
[11:15:37] <Skrylar> D did ._.
[11:16:09] <Skrylar> -> opForward could return an object where failed calls would be forwarded to, so smart pointers could be treated as though they were regular pointers through it (and were)
[11:16:32] <Skrylar> some of the C++ smart pointers do this too
[11:19:03] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[11:19:03] <aatch> Skrylar, FreeFull, there's plans for a Pointer trait to make implementing smart pointers easier.
[11:19:18] <Skrylar> aatch: that will make this a lot less painful then
[11:19:29] <eddyb> Skrylar: Rust has more powerful dereferencing, it's just not overridable yet
[11:20:07] <eddyb> let x = ~~~~~~~~~~~~"foo"; x.as_slice() // that works
[11:20:31] <Skrylar> eddyb: i was just telling FreeFull that people did it; so it wasn't exotic
[11:20:32] *** Joins: dbaupp|ph (~dbauppph@moz-DCCD5303.pa.nsw.optusnet.com.au)
[11:21:09] <eddyb> Skrylar: oh, I see. I thought it was just operator -> from C++
[11:21:14] *** Quits: dbaupp|ph (~dbauppph@moz-DCCD5303.pa.nsw.optusnet.com.au) (Client exited)
[11:21:40] <Skrylar> eddyb: no, opforward in D is actually an override that works like: you call x.blah(), it tries to resolve x::blah(self)
[11:21:53] <Skrylar> eddyb: if that fails, it tries x::opForward(self).blah()
[11:22:16] <Skrylar> eddyb: it doesn't dereference, its a fallback
[11:22:25] <aatch> Servo uses a number of smart-pointers for various things, so they would like better support for smart pointers.
[11:22:42] <aatch> Which is a major drive for this change.
[11:23:17] <eddyb> Skrylar: Rust would be doing it as long as it's possible
[11:23:23] *** Quits: eliovir (Mibbit@moz-AF0AD0CA.w92-144.abo.wanadoo.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[11:23:30] <Skrylar> i might not mind if the exclamation mark was optional for macro invocations, though there's probably a decent reason its there
[11:23:48] <eddyb> yes, macro expansion happens after parsing
[11:23:50] <Skrylar> mostly because Rc<~X> requires a massive amount of shift key pressing
[11:24:11] <aatch> Skrylar, you shouldn't need to write it that often.
[11:24:11] <eddyb> where X is a Trait?
[11:24:59] <Skrylar> eddyb: yeah; i was attempting to write a GUI system in rust before upgrading, so I was testing using traits for a form of signals&slots
[11:25:00] *** Joins: jackneill (jackneill@moz-C693862A.pool.digikabel.hu)
[11:25:26] <eddyb> Skrylar: hehe. you might want Rc<RefCell<~Trait>>
[11:25:43] <Skrylar> eddyb: i may just turn back on managed boxes, lol
[11:25:50] <eddyb> they will disappear
[11:25:58] <amey> I'm getting an "error: borrowed value does not live long enough" for a one-line function call, could someone please help me out? http://pastebin.com/DeSQT75v
[11:26:20] <Skrylar> eddyb: they might, but i suspect the syntax nightmares without using them will disappear around the same time
[11:26:33] <rca> eddyb: this one's a pain to use, let a = borrow().borrow_mut(); a.get(); grrrrrr
[11:26:51] <eddyb> hehehe
[11:27:12] *** Joins: dbaupp (Thunderbir@moz-DCCD5303.pa.nsw.optusnet.com.au)
[11:27:54] <eddyb> amey: there surely is an easier way to get a *c_char
[11:28:14] <amey> eddyb: I'd love an easier way
[11:28:24] <dbaupp> Skrylar: btw, you only rarely need to write the type in `let x: Rc<...> = foo;`, type inference lets you write `let x = foo;` almost always
[11:28:26] <eddyb> FFI does this a lot
[11:29:02] <eddyb> amey: http://static.rust-lang.org/doc/master/std/c_str/trait.ToCStr.html#method.with_c_str
[11:29:02] <Skrylar> you need to type the nightmares in on function declarations
[11:29:03] <dbaupp> amey: you need `let c_str = "ls".to_c_str(); ...`
[11:29:16] <eddyb> dbaupp: nope, just using the wrong methods :P
[11:29:24] <eddyb> or rather, the long way around methods
[11:29:28] <dbaupp> eddyb: what I said would still work
[11:29:54] <dbaupp> Skrylar: yes (I just saw that you mentioned `let`, so just wanted to make sure you knew about Rust's type inference :) )
[11:30:10] <eddyb> sure, but that's not what amey needs, it's how to fix what they're using. oh I'm too picky :P
[11:30:37] <aatch> Skrylar, if you do it often, you can define type aliases.
[11:30:52] <amey> eddyb: Yeah, it needs an [*i8] only
[11:31:00] <dbaupp> eddyb: with_c_str doesn't fix it directly at all.
[11:31:12] <amey> dbaupp: Thanks, so the c_str vector needs to live longer than the pointer returned by as_ptr() ?
[11:31:20] <aatch> `type Foo = Rc<~Bar<Baz>>`
[11:31:31] <dbaupp> amey: you *need* to make sure you don't let the * pointer escape from the with_c_str call (if you use with_c_str)
[11:31:36] <Skrylar> dbaupp: yeah, but before finding Rc::new it wasn't doing it, though weirdly let x : Rc = some value.. *does* type infer to Rc::new
[11:32:02] <eddyb> Skrylar: wait, that doesn't make sense
[11:32:07] <aatch> It shouldn't...
[11:32:09] <dbaupp> Skrylar: what was the full code?
[11:32:20] <aatch> `Rc` isn't a type.
[11:32:39] <amey> dbaupp: How would it escape? I figured the closure variable (if that's what it is called) would be valid only inside the closure?
[11:32:41] <eddyb> Skrylar: the only way to create an Rc is through Rc::new or something which calls Rc::new
[11:32:50] <dbaupp> amey: yes, the lifetime of temporary values is currently not well defined
[11:32:57] <eddyb> amey: sadly, no. because it's an unsafe pointer
[11:33:04] <dbaupp> amey: the compiler doesn't enforce lifetimes of types without lifetimes
[11:33:10] <amey> Ah, ok, thanks
[11:33:15] *** Joins: Blei (philipp@moz-B2F9E4BD.cust.bluewin.ch)
[11:33:19] <dbaupp> amey: so, you can (senisbly) let an `int` escape, or a `(int, uint)`
[11:33:21] <dbaupp> or a *int
[11:33:31] <aatch> dbaupp, that sounds almost tautological
[11:33:45] <eddyb> I did think of optional lifetime restriction on unsafe pointers
[11:33:47] <Skrylar> dbaupp: let x : Rc = StructName // compiles
[11:33:51] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[11:33:55] <dbaupp> only &T, and &mut T (and other types with lifetimes) are checked for validity of regions by the compiler
[11:34:04] <dbaupp> Skrylar: that seems *very* surprising!
[11:34:07] * dbaupp tries
[11:34:22] <eddyb> Skrylar: smells of a nasty bug
[11:34:56] *** Quits: moostik (Icedove@moz-654D48E3.w83-202.abo.wanadoo.fr) (Ping timeout)
[11:35:03] <eddyb> let x: Rc<T> = box some_T_value; is what *might* work in the future
[11:35:04] <dbaupp> Skrylar: I get "wrong number of type arguments: expected 1 but found 0" for `use std::rc::Rc; fn main() { let x: Rc = 1; }`
[11:35:22] <Skrylar> try with a unit struct?
[11:35:24] <aatch> I get the same thing.
[11:35:26] <Skrylar> thats what my code did
[11:35:27] *** Joins: jlong (jlong@moz-6DFDE846.socal.res.rr.com)
[11:35:27] *** Joins: jaen (jaen@moz-74B6810C.play-internet.pl)
[11:35:36] *** Joins: arrrrrrrrr (arrrrrrrrr@moz-317D4522.dynamic.qsc.de)
[11:35:44] <aatch> same thing.
[11:35:46] <dbaupp> aatch: it might be tautological to someone with Rust experience, but maybe not to a beginner :)
[11:36:41] <aatch> dbaupp, oh, I get that, just sounded funny to my ears.
[11:36:49] <eddyb> Skrylar: keep in mind let () = (); is valid syntax
[11:36:49] <dbaupp> Skrylar: was your unit struct called `Rc`?
[11:37:07] <Skrylar> dbaupp: no, i'm trying it in a separate file
[11:37:09] <dbaupp> eddyb: non-sequitur?
[11:37:31] <dbaupp> eddyb: also, `let():()=();` is more fun :P
[11:37:33] <Skrylar> dbaupp: it wasn't issuing errors about that (though it was other syntax),  though it may have also just buried the problem behind some of the other compile errors
[11:37:52] <eddyb> Skrylar: ah. errors are in stages
[11:38:20] <eddyb> so if you won't get lifetime errors if you don't pass type checking
[11:38:20] <dbaupp> Skrylar: hm, if there were other errors, maybe some earlier ones caused the compiler to stop before it got to type-checking that part of the code
[11:38:48] <eddyb> and here I was, waiting for a wtfjs-like trick
[11:39:33] <Skrylar> yeah that was it
[11:39:40] <Skrylar> eddyb: i was going to be surprised too
[11:39:47] <aatch> Just for the people that might not know it yet, but the initial stage of implementing `box` has been done. So you can write `let a = box 1`
[11:40:01] <eddyb> aatch: still missing the trait
[11:40:30] <Skrylar> seems like a really common word to be a keyword IMO
[11:40:33] <aatch> eddyb, it's equivalent to `let a = ~1` right now though.
[11:40:40] <eddyb> I know
[11:40:48] <dbaupp> aatch: you can also write `box(GC) 1`
[11:40:52] <dbaupp> wait... that may not have landed...
[11:41:05] <eddyb> Skrylar: better choice than new. it also makes sense with values
[11:41:12] <aatch> dbaupp, I don't think so, unless it landed more recently than I last pulled.
[11:41:37] <Skrylar> eddyb: might make using box2d awkward ;)
[11:41:39] <dbaupp> aatch: I guess it's still under review
[11:42:01] <dbaupp> (ah, here it is: https://github.com/mozilla/rust/pull/11055 )
[11:42:38] <amey> unistd::execvp works fine, but unistd::fork is giving an "error: unresolved name". libc.rs has a `pub fn fork` right below `execvp` under `pub mod unistd`, what might be going wrong?
[11:43:40] <Skrylar> alright.. i'll have to write down some notes on this and then go back to fiddling
[11:43:43] <dbaupp> amey: everything is libc is reexported directly from libc, so you can write `use std::libc;` and just use `libc::execvp` and `libc::fork`
[11:43:57] <Skrylar> just have to figure out how to convert the "x as @Y" part
[11:44:08] <dbaupp> amey: (are you looking at the unistd with the correct config flags?)
[11:44:19] <dbaupp> Skrylar: that will have to be `Rc::new(x as ~Y)`
[11:44:23] <eddyb> Skrylar: you have ~Trait. so Rc::new(x as ~Y)
[11:44:34] <amey> dbaupp: Ok, now it's giving unresolved name for libc::fork. How do I check whether I'm looking at the correct config flags?
[11:44:44] <dbaupp> amey: hm, that's weird
[11:45:02] <eddyb> dbaupp: I don't like how it's using magic tokens, I was expecting box(Gc) i.e the std::gc::Gc type
[11:45:21] <dbaupp> eddyb: yeah, so was I
[11:45:26] <dbaupp> eddyb: although it's not actually a magic token
[11:45:35] <amey> dbaupp: Ok, so I think fork is not exposed on win32?
[11:45:45] <amey> dbaupp: Because under #[cfg(target_os = "win32")], there is no fork
[11:45:48] <aatch> It's to support allocators properly.
[11:45:49] <eddyb> dbaupp: it's a static () with an attr, yes it's a magic token :P
[11:45:51] <amey> dbaupp: But execvp is there
[11:45:57] <dbaupp> eddyb: it's a value, because we'll want to be able to write `box (arena) foo` and `box (vec.emplace_back()) foo`
[11:46:09] <dbaupp> eddyb: no, not magic token... normal value.
[11:46:31] *** Joins: Mathuin (Mibbit@moz-7B1710C8.rev.sfr.net)
[11:46:33] <eddyb> it's what we do in JS with {} and identity equality
[11:46:35] *** Parts: Mathuin (Mibbit@moz-7B1710C8.rev.sfr.net) ()
[11:46:42] <dbaupp> eddyb: (with a magic lang-item attribute, and a magic reexport from the magic prelude)
[11:46:46] *** Parts: Matthias (Mibbit@moz-7B1710C8.rev.sfr.net) ()
[11:46:48] <dbaupp> eddyb: but not actually magic beyond that
[11:46:58] <dbaupp> amey: I'm really confused
[11:47:00] <eddyb> the lang-item is the magic I was referring to
[11:47:03] <Skrylar> eddyb: i had put the original X in an Rc box (i thought it needed to be), it looks like the base struct can't be boxed now
[11:47:05] <dbaupp> amey: I see fork there too :(
[11:47:18] <amey> dbaupp: Huh
[11:47:20] <eddyb> Skrylar: oh, you want to cast the whole Rc?
[11:47:27] <amey> dbaupp: Let me check in the repo, maybe it was updated recently
[11:47:33] <dbaupp> amey: wait... yeah, if the #[cfg] for windows lacks fork that means that win32 doesn't have fork
[11:47:51] <dbaupp> amey: (iirc windows doesn't actually offer an (cheap) equivalent to fork...)
[11:47:53] <Skrylar> eddyb: i figured that the struct would be long-lived so i put it in an rc, but then you can't map that through a trait interface like in @
[11:48:01] <eddyb> Skrylar: well...
[11:48:09] <Skrylar> eddyb: in this particular case it might be inappropriate to box the original callback struct, but..
[11:48:12] <bjz> does the rust runtime do preemption like in erlang?
[11:48:18] *** Joins: Mathuin (matthias@62DC781C.87D2502A.F90A1032.IP)
[11:48:24] <bjz> just curious
[11:48:35] * dbaupp -> bed
[11:48:38] <amey> dbaupp: Yeah, missing in the repos too. So.. no forking on windows, making the exec calls useless?
[11:48:38] <Mathuin> I finally killed my ghost !
[11:48:38] <eddyb> Skrylar: you can relatively easily obtain a &Trait
[11:48:40] <Mathuin> \o/
[11:48:53] <aatch> bjz, nope
[11:49:04] <aatch> Rust tasks are cooperative.
[11:49:07] <bjz> aatch: might it in the future?
[11:49:09] *** Quits: dbaupp (Thunderbir@moz-DCCD5303.pa.nsw.optusnet.com.au) (Quit: dbaupp)
[11:49:17] <bjz> aatch: oh, is that incompatible?
[11:49:25] <eddyb> Skrylar: but we need more pointer magic/DST to make casting Rc<~X> to Rc<~Trait> work
[11:49:28] <Skrylar> there is a yield inserted within loops though, so it "seems" pre-emptive
[11:49:32] <aatch> bjz, unlikely to be in the main green-threads runtime.
[11:49:41] <cmr> bjz: #[no_uv]; now your tasks are native threads :)
[11:50:03] <Skrylar> eddyb: thats why i was mentioning the deprecation might have been premature earlier; if things like that aren't resolved yet (and thus the old syntax is still useful)
[11:50:17] <eddyb> cmr: how would one do this?
[11:50:20] <ninechars> how does erlang do preemption?
[11:50:25] *** ninechars is now known as glaebhoerl
[11:50:27] <Skrylar> erlang runs in a VM
[11:50:28] <cmr> eddyb: it's a crate attr
[11:50:34] <eddyb> not that
[11:50:38] <kimundi> Skrylar: Well, that's the reason why you can still reenable it :P
[11:50:42] <eddyb> does transmute_copy allow one to copy a ~T?
[11:50:47] <eddyb> but then the Rc is not identical
[11:51:00] * cmr isn't really paying attention; writing TWiR
[11:51:02] <eddyb> Skrylar: you can't do this with Rc<~X> and Rc<~Trait>, it's actually not safe :(
[11:51:15] <eddyb> you need Rc<Trait> i.e. DST
[11:51:45] <bjz> aatch: yeah I was talking to somebody in another channel. they were saying: "Most languages only do cooperative scheduling of their resources, so a process has to voluntarily give up the core. In Erlang, you can't make progress without doing function calls. Every 2000 funcalls, you are switched off the core"
[11:51:48] <eddyb> Skrylar: if you box the structure as a trait in the first place, or get &Trait from the box, both of those work
[11:51:49] <Skrylar> i unboxed the unit struct and the callback trait, it might work for this particular case
[11:52:14] <glaebhoerl> Skrylar: ok, but more specifically? :)
[11:52:16] <glaebhoerl> (GHC preempts on allocation, which makes sense for Haskell which does computation-by-allocation, but not so much for Rust)
[11:52:20] <aatch> bjz, that sounds like cooperative.
[11:52:33] <glaebhoerl> bjz: so erlang does it on function calls?
[11:52:47] <Skrylar> its supposed to be an 'action' object which has a label/button press command, and then any menu/toolbar/command button with the same action accesses it through that
[11:53:00] <bjz> glaebhoerl: I believe so, according to these folks (they seem to be experienced erlangers)
[11:53:11] <eddyb> Skrylar: do you need more than one trait from one struct?
[11:53:13] <Skrylar> so in this particular case, yeah, it seems appropriate to hand out the trait as a refcount box and keep the original action object static somewhere
[11:53:23] <Mathuin> how can I use iter or map in a functional way ?
[11:53:31] <Mathuin> i.e by passing a lambda
[11:53:35] <Skrylar> eddyb: there may be multiple parts (e.g. a menu item and a toolbar button) that reference the same action definition
[11:53:41] <aatch> Mathuin, you're gonna have to be more specific than that.
[11:53:41] *** Quits: lenstr (lenstr@592A44AF.9636F313.7A27613B.IP) (Client exited)
[11:53:45] *** Joins: dbaupp (dbaupp@moz-DCCD5303.pa.nsw.optusnet.com.au)
[11:53:52] <cmr> Mathuin: foo.iter().map(|x| foo(x))
[11:53:54] <bjz> aatch: not calling for it - I assume there must be some sort of overhead, just thought it was interesting
[11:54:00] <cmr> well
[11:54:02] <cmr> poor naming
[11:54:06] <cmr> but along those lines?
[11:54:57] <eddyb> Skrylar: you can't refcount just the one of the things. you have to choose which one of the structure and the trait you want to keep alive
[11:55:01] <aatch> bjz, Well I consider pre-emptive scheduling to be what most kernels do, meaning that any thread of execution can be stopped and started at any time.
[11:55:04] *** Quits: jviereck1 (Adium@moz-2BFD589D.dip0.t-ipconnect.de) (Quit: Leaving.)
[11:55:17] <aatch> not just on some boundary.
[11:55:47] <Mathuin> thanks cmr
[11:55:50] <aatch> If erlang switches based on funcalls, then that's no more pre-emptive than rust tasks switching on IO or channel activity.
[11:55:57] <glaebhoerl> aatch, what would you call systems like Erlang's and GHC's which are technically cooperative, but don't require cooperation from the programmer?
[11:56:26] *** Quits: a__ (a__@moz-56DB9895.nycmny.fios.verizon.net) (Ping timeout)
[11:56:37] <Skrylar> eddyb: well the action object itself assumedly lives for the whole task (its just a callback + some properties), but the trait to it might be used more than once; all though it sounds like i could just clone the trait object since its just a pointer as it is
[11:56:51] <aatch> glaebhoerl, cooperative has little to do with "cooperation" with the programmer. It's to do with whether the threads/tasks cooperate with each other.
[11:56:58] *** Joins: aeqwa (aeqwa@moz-3026A4E.dsl.tropolys.de)
[11:57:05] <eddyb> Skrylar: is there only one trait?
[11:57:19] <eddyb> Skrylar: if you only need the structure through one trait, that makes things easier
[11:57:27] <Mathuin> i'm trying to implement caesar's cipher
[11:57:30] <Skrylar> eddyb: yes, its just used through the Actionable trait
[11:58:02] <eddyb> Skrylar: Rc<~Actionable> is what you want
[11:58:04] *** Quits: jlong (jlong@moz-6DFDE846.socal.res.rr.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[11:58:21] <eddyb> Skrylar: Rc::new(~Struct as ~Actionable)
[11:58:22] <glaebhoerl> aatch: OK. is it making a distinction between systems where the programmer is expected to explicitly call yield() at appropriate points, and ones where they're not?
[11:58:27] <glaebhoerl> *worth making
[11:58:32] <Mathuin> and I do s.iter().map(|x| x + 13)
[11:58:45] <Skrylar> eddyb: whats the nightmare if you want to toss out different traits (curious)?
[11:58:48] <Mathuin> and type `~str` does not implement any method in scope named `iter`
[11:59:08] <cmr> Mathuin: well it doesn't
[11:59:18] <cmr> Mathuin: http://static.rust-lang.org/doc/master/std/str/trait.StrSlice.html
[11:59:21] *** Joins: jlong (jlong@moz-6DFDE846.socal.res.rr.com)
[11:59:32] <cmr> Mathuin: you probably want bytes()
[11:59:46] <aatch> glaebhoerl, not really, since the point is more that tasks/threads willingly stop at some point to let other tasks/threads execute.
[12:00:12] <cmr> Mathuin: but you probably also want to use std::ascii, since that's not really a valid operation on strings in general. it will make invalid utf8
[12:00:20] <eddyb> Skrylar: you can have one trait which has one fn get_foo_trait_opt(&self) -> Option<&FooTrait> { None } per trait you need - or something along those lines
[12:00:34] <aatch> in a pre-emptive system, some external system just stops and starts the threads without them knowing about it.
[12:00:56] <Skrylar> eddyb: sounds like how most game engines handle their components, heh
[12:01:35] <aatch> In rust, you can lock up all the threads by having a bunch of busy-looping tasks. They'll never yield because they never do anything that causes a yield.
[12:01:41] *** Joins: ehsanul (Mibbit@29896722.D02B26E5.A36C57B9.IP)
[12:01:57] <Skrylar> huh; a unit struct apparently doesn't count as freezable
[12:02:20] <Skrylar> i tried Rc::new(~x as ~T) and it borked about not fulfilling freeze despite having zero data
[12:02:20] <ehsanul> Hi everyone. Having trouble buiding rust, any ideas? https://gist.github.com/ehsanul/8081404
[12:02:42] <eddyb> Skrylar: it sounds like you're casting a &'static
[12:02:58] <eddyb> Skrylar: or not. I don't know
[12:03:03] <cmr> Skrylar: yes they are.
[12:03:11] <cmr> Skrylar: fn assert_freeze<T: Freeze>(_: &T) { } struct Foo; fn main() { assert_freeze(&Foo); } compiles
[12:03:36] <Skrylar> eddyb: its defined as "struct Spud;", then later, "let boxx = Rc::new(~Spud as ~Potato)" *scratches head*
[12:03:42] <eddyb> Skrylar: Rc<Trait> would make it kinda trivial to work with multiple traits, fwiw
[12:03:54] <cmr> Skrylar: Oh, trait objects aren't Freeze, no.
[12:03:59] <cmr> Skrylar: you need to write ~Potato:Freeze
[12:04:21] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Quit: Leaving...)
[12:04:24] <cmr> Skrylar: you need the bounds on the trait object so they carry through to the concrete impl
[12:04:25] <aatch> Skrylar, or you can use from_send
[12:04:31] <cmr> ehsanul: are you building master?
[12:04:35] <bjz> what is Freeze again?
[12:04:36] <glaebhoerl> aatch: right, that's technically true in GHC (and I assume Erlang) as well... just very unlikely to happen in practice
[12:04:39] <glaebhoerl> probably less unlikely in Rust
[12:04:43] <cmr> bjz: deeply immutable
[12:05:14] <Mathuin> cmr: I can't use the + operator on an ascii character
[12:05:15] <Skrylar> aatch: i was just trying the Rc::new(~struct as ~trait) as was suggested
[12:05:17] <ehsanul> cmr: yes
[12:05:38] <cmr> ehsanul: open an issue, cc @alexcrichton
[12:05:48] <ehsanul> ok
[12:05:49] *** Quits: bheylin (textual@moz-8255E94E.adsl.online.nl) (Quit: Textual IRC Client: www.textualapp.com)
[12:06:07] <cmr> Mathuin: no, but it has a .to_byte method
[12:06:08] <Skrylar> aatch: `from_send` did work
[12:06:30] <aatch> glaebhoerl, oh yeah, there's nothing *wrong* with cooperative scheduling, it's just important to know the difference between cooperative and pre-emptive.
[12:07:14] <glaebhoerl> aatch: I'm not disagreeing :)
[12:07:16] <cmr> Mathuin: (x.to_byte() + 13).to_ascii()
[12:07:23] <Skrylar> alright, thanks at aatch & eddyb 
[12:07:32] <Skrylar> i should be able to continue clueless bumbling around the language now, haha
[12:07:56] <aatch> Also, on Linux at least, there is a cooperative aspect to it. Linux will de-schedule threads if they do stuff that would make the thread block anyway.
[12:08:38] <aatch> Linux threads are practically pre-emptive green-threads nowadays anyways.
[12:09:46] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[12:10:51] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[12:11:08] <Skrylar> i wouldn't mind helping with the docs when the syntax is stabilized, which i heard was something soon-ish
[12:11:39] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[12:11:40] <Skrylar> i was poking around with 0.8 for a week or two and i like rust for the most part
[12:11:47] <aatch> Skrylar, the syntax is mostly stable. I haven't had to learn new syntax in months.
[12:11:51] <cmr> Skrylar: I imagine we're just going to use pandoc to convert it.
[12:12:02] <cmr> aatch: I think they are referring to doc syntax?
[12:12:13] <Skrylar> cmr: rust syntax :P
[12:12:16] <cmr> oh
[12:12:24] <cmr> yeah the syntax is basically stable
[12:12:30] <cmr> only addition I see is box
[12:12:48] <aatch> Adding `box` is the biggest one recently.
[12:13:03] <aatch> *Library* stability is the next big one.
[12:13:42] <Skrylar> i was poking with 0.8 for a few weeks; i like the language for the most part; especially macros and static dispatch for traits
[12:13:48] *** Joins: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP)
[12:14:10] <aatch> Skrylar, Rust is great, once you know it well.
[12:14:18] <Skrylar> and that the 'hard problems' actually get addressed (threading/exception handling) which Go and a lot of new langs just go "uuuh its hard! *hides*"
[12:14:44] <Skrylar> whenever i see a GIL or no threading at all i immediately disregard a language from serious use. :B
[12:14:54] *** Quits: q66_ (q66@6EE9DE40.46454B5D.33AABD5F.IP) (Ping timeout)
[12:14:57] <aatch> GIT?
[12:15:00] <aatch> GIL*?
[12:15:03] <cmr> global interpreter lock
[12:15:04] <Skrylar> global interpreter lock
[12:15:06] <cmr> python phrase
[12:15:07] <aatch> Ugh.
[12:15:10] <Skrylar> ruby too
[12:15:25] <Skrylar> Squeak doesn't even have threading
[12:15:37] <Skrylar> their version of threading a seaside web server? run multiple squeaks and put nginx infront of it O_O
[12:15:42] <tiffany> how much overhead is there for real threads on linux? I find it hard to imagine it can be very much, especially seeing as you need syscalls regardless
[12:15:44] *** Joins: nical (nico@moz-4754F405.fbx.proxad.net)
[12:15:45] * aatch has an aversion to interpreters
[12:15:57] <cmr> tiffany: not much
[12:16:09] <Skrylar> yeah.. linux threads *and* processes are cheap
[12:16:15] <tiffany> are there actual numbers though?
[12:16:21] <Skrylar> not quite as cheap as erlang threads but, well. 
[12:16:22] <saf> Has anyone got an example of writing binary to a file?  I have managed to open a file with let path = Path::new("filename"), and left file = File::create(path), and also file.write(bytes!("literal string")).  But I'm unable to to give anything to bytes! which was created by format!
[12:16:22] <cmr> numbers about what?
[12:16:24] <tiffany> I know processes are expensive on windows, are threads cheap there?
[12:16:25] <aatch> Skrylar, they're pretty much the same thing.
[12:16:30] <Skrylar> cmr: benchmarks
[12:16:35] *** Quits: gwty (gwtypc@1E08CE54.358CB4E4.F44414AF.IP) (Ping timeout)
[12:16:37] <cmr> well I know benchmarks
[12:16:47] <cmr> but what do you want benchmarked? creation?
[12:16:57] <Skrylar> probably creation and task switching overheads
[12:17:25] <cmr> saf: bytes! is for byte-string literals. Strings have an .as_bytes() method that you can use.
[12:17:33] <Skrylar> i seem to recall linux and bsd having an order of magnitude over windows in that regard
[12:17:39] <bjz> Skrylar: are you still using 0.8?
[12:17:39] <cmr> saf: but if you're using format!, you can say write!(file, "...", ...)
[12:17:45] *** Quits: dbaupp (dbaupp@moz-DCCD5303.pa.nsw.optusnet.com.au) (Client exited)
[12:17:57] <Skrylar> and freebsd/kpoll are even faster at network IO than linux, which is faster than windows... lol
[12:18:12] <Skrylar> bjz: no, i just upgraded to 0.9 (and the mindache of converting the boxes over to rc)
[12:18:14] <saf> cmr, I saw that method to_bytes but it is always an unresolved name for some reason.
[12:18:21] <bjz> oh good
[12:18:30] <bjz> yeah, ick
[12:18:36] <aatch> Amusingly, spawning a process and spawning a thread are the same syscall on linux.
[12:18:38] <cmr> saf: .as_bytes(), not to_bytes
[12:18:42] <aatch> Just different flags.
[12:18:45] <saf> As ok.
[12:18:48] <aatch> (`clone`)
[12:18:53] <cmr> aatch: and creating a new sandbox too ;p
[12:19:03] <aatch> cmr, lol yeah.
[12:19:21] <Skrylar> bjz: i dislike the syntax downgrade for it, but well. as long as they trait it out i'll be happy *nods*
[12:19:45] <bjz> it will get better
[12:19:48] <bjz> thankfully
[12:19:52] <Skrylar> yeah
[12:19:56] <aatch> I get around it by not using `@`
[12:20:12] <Skrylar> thats what made me lose total faith in D
[12:20:25] <saf> Thank you cmr that works.
[12:20:26] <Skrylar> they had all these good ideas for a better C, and then walter let a C++ guy take over
[12:20:49] <Skrylar> totally ruined the syntax, started making concessions to syntax because of a badly written library, ick
[12:20:52] <aatch> Skrylar, yeah, I had the same experience with D.
[12:20:58] <Skrylar> D1... great language.
[12:21:06] <Skrylar> D2... Whoever put Andrei in charge should be shot. >_>
[12:21:29] <aatch> I always the feeling that Andrei just uses D as a test-bed for C++<YY> features.
[12:21:32] <cmr> Skrylar: plz to not bash D, kthx
[12:21:35] <FreeFull> I think Rust will be a very nice language once it hits 1.0
[12:21:41] <FreeFull> Probably even nicer at 2.0
[12:21:57] <Skrylar> cmr: i liked walter's D for what its worth
[12:22:09] <aatch> cmr, it's not really bashing, this is actually criticism.
[12:22:20] <Skrylar> cmr: i just don't like the java-ness that happened when they decided new/free were "bad" because and I quote
[12:22:23] <cmr> aatch: saying someone should be shot?
[12:22:39] <aatch> Bashing being more: "D suckz ballz, Rust FTW"
[12:22:41] <Skrylar> "phobos makes assumptions that many pointers will live for the duration of the program" and so removed new/free because of bad code
[12:23:03] <cmr> Amusingly, I have a copy of Empire sitting on my desk right here
[12:23:03] *** Quits: Skrylar (Skrylar@moz-F692F728.austin.res.rr.com) (Connection reset by peer)
[12:23:04] *** Quits: pao (pao@moz-AF905E87.fbx.proxad.net) (Quit: pao)
[12:23:04] *** Joins: Skrylar (Skrylar@moz-F692F728.austin.res.rr.com)
[12:23:23] <aatch> cmr, Empire?
[12:23:41] <cmr> aatch: http://en.wikipedia.org/wiki/Classic_Empire_%28video_game%29
[12:23:50] <cmr> walter bright wrote it
[12:24:14] <aatch> cmr, oh yeah. I remember that.
[12:24:31] <Skrylar> walters a pretty legit guy from what i read
[12:24:58] *** Joins: Krymise (Nietzsche@moz-CA789EF5.nwrknj.fios.verizon.net)
[12:24:58] <cmr> I haven't gotten the disk drives for the commodore working quite yet, but when I do, fun will be had.
[12:25:19] <Skrylar> well if all else fails theres emulation
[12:26:00] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[12:26:05] <aatch> Didn't Walter write the first actual C++ compiler? That didn't compile to C first?
[12:26:13] <Skrylar> yeah
[12:26:34] <Skrylar> D was just him removing the things he hated about writing C++ compilers
[12:27:07] <Mathuin> chr.to_byte() + offset).to_ascii())
[12:27:07] <nical> hi there, what's the popular way to keep up with language changes for library authors?
[12:27:07] <Mathuin> caesar.rs:7 }
[12:27:09] <Skrylar> i'm not well read in rust's history yet
[12:27:15] <Mathuin> sorry
[12:27:19] <Mathuin> paste fail
[12:27:31] <nical> Are most people using master or do they use the latest stable?
[12:27:33] <cmr> nical: http://rust-ci.org/
[12:27:36] <cmr> nical: master
[12:27:40] <aatch> nical, master.
[12:27:55] <Skrylar> i was using the latest stable <_<
[12:28:07] <aatch> Unless I'm actually doing compiler work, in which case master+ :P
[12:28:20] <cmr> it's misleading to call them stable, since they aren't really supported
[12:28:41] <Skrylar> its a decent way to start, the tutorial and manual are correct for what the compiler will do
[12:28:44] <aatch> Latest release (which I think is what they're called anyway)
[12:29:08] <Mathuin> if I write s.to_ascii().iter().map(|chr| (chr.to_byte() + offset).to_ascii() with s a ~str and offset an u8, I get «mismatched types: expected `~str` but found `std::iter::Map<,&std::ascii::Ascii,std::ascii::Ascii,std::vec::VecIterator<,std::ascii::Ascii>>` (expected ~str but found struct std::iter::Map)»
[12:29:13] <Mathuin> any ideas ?
[12:29:29] <nical> thanks
[12:29:37] *** Quits: jlong (jlong@moz-6DFDE846.socal.res.rr.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[12:29:50] *** Quits: mark_edward (quassel@96AA16C1.78A885A5.FA72ABB8.IP) (Ping timeout)
[12:29:59] <cmr> Mathuin: you want a .collect().to_str() at the end.
[12:30:01] <kimundi> s.to_ascii().iter().map(|chr| (chr.to_byte() + offset).to_owned_vec().to_ascii()
[12:30:21] <Earnestly> So, about that syntax bikeshedding
[12:30:33] <Skrylar> for some reason that line reminds me of Io. mostly because Io has a lot of function chaining
[12:30:47] <aatch> Anyway, I have now written the specifications for 26 of the 120 core X11 requests. Time for bed.
[12:30:57] <Skrylar> aatch: g'night
[12:31:13] <kimundi> s.to_ascii().iter().map(|chr| (chr.to_byte() + offset) as char).collect::<~str>()
[12:31:23] <Skrylar> speaking of rust and pandoc
[12:31:34] <cmr> kimundi: ohh, ~str has a FromIterator<Ascii>?
[12:31:35] <kimundi> ^ That one might work
[12:31:47] <kimundi> No, though it probably should
[12:31:47] <Skrylar> is there a pandoc-compatible highlighter or are separate processors needed
[12:31:57] <kimundi> It has one for char though, hence the cast there :P
[12:32:05] <cmr> oh
[12:32:07] <cmr> yes, I see
[12:32:15] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[12:32:32] <Mathuin> kimundi: your code fixed it
[12:32:37] <Mathuin> but why ?
[12:32:49] <kimundi> (Though I'm still unsure what code exactly require to unconditionally add 13 to all ascii codepoints)
[12:33:14] <kimundi> Mathuin: Which part of it do you not understand?
[12:33:25] <kimundi> And before that, what do you even want to do :)
[12:33:40] <Mathuin> I'm trying to implement caesar's cipher
[12:33:42] <kimundi> (Is very suspect of that + 13)
[12:33:47] <kimundi> Ah
[12:33:54] <Mathuin> ROT13
[12:34:00] <utkarsh> Is it possible to remove an entry from a HashMap while iterating over it? `.mut_iter() { .remove }` doesn't work. Is there any other way?
[12:34:05] <utkarsh> https://gist.github.com/ee9b15141fd56fbc069e
[12:34:20] <Mathuin> and I don't understand the need for iter()
[12:34:21] <cmr> utkarsh: no
[12:34:31] <kimundi> Mathuin: How do you deal with all characters that are not a-z or A-Z ?
[12:34:32] <cmr> Mathuin: iter is needed to create an iterator
[12:34:32] <Mathuin> isn't a str defined as [char] ?
[12:34:37] <cmr> Mathuin: no, it isn't.
[12:34:51] <cmr> ~str is represented as a ~[u8]
[12:34:52] <Earnestly> (fwiw, Caesar's Cipher is not an arbitrary shift, it is specifically a left shift of 3)
[12:35:04] <cmr> but that doesn't make them the same type
[12:35:09] <kimundi> Mathuin: A str is defined as utf8, which is a sequence of variable width byte sequences
[12:35:16] <Mathuin> kimundi: I now my implementation is contrived
[12:35:31] <Mathuin> but that's for a hacking challenge
[12:35:45] <rca> cmr, utkarsh : wait isn't that what move_iter() does ?
[12:35:48] <Mathuin> I wrote it in C, it worked perfectly, then I'm doing the same in rust
[12:36:05] <kimundi> Mathuin: That's okay, just want to know where you are, because depending on how you're doing it there a a lot of idfferent ways to implement it :)
[12:36:41] <kimundi> Mathuin: Could you outline how your approach in C was ?
[12:37:02] <cmr> rca: no? move_iter yields items by value, destroying the map
[12:37:06] <kimundi> Then I can explain whats different in rust
[12:37:55] <rca> cmr: if you want to remove the entries, do you car if it also destroys the map?
[12:37:56] <Mathuin> kimundi: I'm pastebinning the code
[12:38:03] <Mathuin> it's ultra-short and readable
[12:38:18] <kimundi> Great, cause I don't have much C experience :)
[12:38:43] <cmr> rca: well it's not removing *an* entry from the hashmap if there's no hashmap to remove from?
[12:38:53] <Mathuin> http://paste.awesom.eu/Mathuin/Z9Y&ln
[12:38:55] <Mathuin> there
[12:38:56] *** Joins: a__ (a__@moz-56DB9895.nycmny.fios.verizon.net)
[12:39:55] <kimundi> Mathuin: What data does ch7_bin represent?
[12:40:09] <Mathuin> a string
[12:40:17] <kimundi> ... Oh, it'S the string xD
[12:40:22] <Mathuin> but which contained non-printable characters
[12:40:31] <rca> cmr: hum, ok. It's a way to remove all entries but not just one.
[12:40:43] <Mathuin> (it was given as a .bin file, then xxd -i powaa)
[12:41:20] <kimundi> Mathuin: So, it shifts the whole _byte_ by a value between 0 and 25 ?
[12:41:27] <Mathuin> yep
[12:41:53] <Mathuin> modulo 255 so I don't get ugly stuff
[12:42:32] *** Quits: saf (Mibbit@moz-A378BFE8.vc.shawcable.net) (Quit: http://www.mibbit.com ajax IRC Client)
[12:42:37] *** Quits: Blei (philipp@moz-B2F9E4BD.cust.bluewin.ch) (Quit: WeeChat 0.4.2)
[12:42:41] <kimundi> Hum. Well... porting that to rust as is is impossible, becuase you would get invalid string data that way
[12:43:04] <cmr> kimundi: well using a string, but not using Ascii or a u8 vec
[12:43:17] <kimundi> YOu can write something that only shifts all Ascii values (0 - 127) that way, but that would leave alone all the thousands of uncidoe characters above that range
[12:43:52] <Mathuin> isn't Rust supposed to be a systems programming language ?
[12:44:07] <cmr> Mathuin: how is that related?
[12:44:10] <cmr> (yes)
[12:44:25] <Mathuin> cmr: in no way :p
[12:44:51] <Mathuin> I'll do that with u8 then
[12:45:30] <FreeFull> A caesar's cipher only applies to letters anyway, not to any other characters
[12:45:41] <Mathuin> yes
[12:45:52] <kimundi> Mathuin: It is perfectly possible to write a line oif rust code that transforms a rust string into a byte array, and then performs the same operation as in that C snippet. But the result can not be converted back to a string without reversing the ROT13, because the bytes would be an invalid utf8 encoding
[12:46:19] <Mathuin> FreeFull: but the challenge's made so
[12:46:35] <Mathuin> ok kimundi 
[12:46:40] <Earnestly> (seriously, rot13 is not caesar's cipher)
[12:47:05] <kimundi> So, I see two options: write the ceaser letter so that it only applies to the characters a-z and A-Z, which means you can put in a string and get out a string, or write it so that it works on the raw bytes, which means you put in a string and get out a raw byte vector
[12:47:06] <Ke> how come?
[12:47:32] <Mathuin> so if I want to do the same stuff, I'll have to take a [u8], shift it and then print only printable chars ?
[12:47:40] <Mathuin> (is_ascii?)
[12:47:52] <kimundi> Mathuin: You can not print anything
[12:48:57] <kimundi> Mathuin: If you transform the raw bytes in that way, its not a valid utf8 encoding anymore - you might be able to identify some of the ascii values with .is_ascii(), but you wiill also get false positives
[12:49:20] <Mathuin> pretty much of a pain in the ass
[12:49:22] *** Joins: moostik (Icedove@moz-654D48E3.w83-202.abo.wanadoo.fr)
[12:49:26] <Mathuin> but it makes sense
[12:49:45] <Mathuin> so I'll resort to printing hex values
[12:50:02] <kimundi> That would work, yeah
[12:50:39] <Mathuin> you know, the goal behind my C version was to get the shit done :p
[12:50:45] <Mathuin> and quickly
[12:51:02] <cmr> isn't correctness a pain? :)
[12:51:14] <Earnestly> Oh snap
[12:51:22] <Mathuin> when you're used to C yes cmr 
[12:51:29] <kimundi> haha, yeah. Rust pats you on the finger if you want to do it quickly in a wrong way :P
[12:51:30] <Mathuin> (just kidding)
[12:52:12] <TeXitoi> Mathuin: you can just raw printing the [u8]
[12:52:41] <TeXitoi> stdio().write(raw);
[12:52:55] <Mathuin> yeah
[12:53:01] <Mathuin> thanks
[12:53:10] <TeXitoi> rusti is in vacation?
[12:53:26] <eddyb> with bstrie_vacation?
[12:53:45] <Mathuin> but now I know Rust enforces cleanness
[12:54:09] <Mathuin> next step: BF interpreter
[12:54:19] <eddyb> Mathuin: try a JIT :D
[12:54:24] <eddyb> then you can do it unsafe
[12:54:39] <Mathuin> Just In Time Compiler ?
[12:55:18] <eddyb> well, probably a bad name for BF. runtime codegen & execution, that's all I meant
[12:55:31] <Mathuin> ah ok
[12:58:29] <Mathuin> so far I've got a struct which models the BF CPU
[12:58:47] <glaebhoerl> is there any difference between the old `Copy` and the new `Pod`?
[12:58:48] <Mathuin> inside, I've got the memory defined as ~[u8]
[12:58:58] <Mathuin> is the ~ necessary ?
[12:58:59] *** Joins: pao (pao@moz-AF905E87.fbx.proxad.net)
[12:59:20] <cmr> glaebhoerl: not really, no.
[13:00:12] * glaebhoerl thinks the name should be less cryptic
[13:00:17] * glaebhoerl thinks that about many things...
[13:00:29] <cmr> well it's for POD types... makes sense to me
[13:00:51] <glaebhoerl> yeah, the name I was thinking of was `PlainOldData` :)
[13:03:14] <FreeFull> POD an adjective rather than a verb though
[13:04:04] *** Joins: Pain (Pain@moz-48A438B6.rn.hr.cox.net)
[13:05:09] *** Quits: Pain (Pain@moz-48A438B6.rn.hr.cox.net) (Input/output error)
[13:07:03] *** Quits: Skrylar (Skrylar@moz-F692F728.austin.res.rr.com) (Quit: naptime)
[13:07:44] *** Quits: machunter (Mibbit@moz-A0BF94DA.hsd1.ca.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[13:09:03] *** Quits: pao (pao@moz-AF905E87.fbx.proxad.net) (Quit: pao)
[13:10:21] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[13:12:06] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[13:13:20] *** Joins: ianj (ianjneu@moz-7BA002E.hsd1.ma.comcast.net)
[13:13:35] *** Joins: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca)
[13:15:12] <Mathuin> so, how do I initialize an array ?
[13:16:09] <Mathuin> for instance, an array of size n with all cells set to 
[13:17:08] <Mathuin> oops, found the answer
[13:17:15] <kimundi> Mathuin: You have the option between a fixed sized array, and a dynamically growable vector
[13:17:27] <Mathuin> fixed-size array
[13:17:34] *** Joins: mark_edward (quassel@96AA16C1.78A885A5.FA72ABB8.IP)
[13:17:40] <Mathuin> I found the answer
[13:22:13] *** Joins: smodo (tadnr@moz-6398EFDF.dclient.hispeed.ch)
[13:24:57] <FreeFull> No rusti?
[13:25:03] <Mathuin> nope
[13:25:07] <FreeFull> ):
[13:25:21] * FreeFull is a REPL addict
[13:28:10] * Mathuin can relate to FreeFull 
[13:28:58] <Mathuin> hrmm
[13:29:06] <FreeFull> It's just so easy to query the REPL for whatever you want
[13:29:29] <Earnestly> FreeFull: Well, good REPLs
[13:29:31] <Mathuin> isn't there an iterator on a vector which returns the value and the index ?
[13:29:54] <cmr> Mathuin: .iter().enumerate()
[13:30:39] <Mathuin> thanks cmr 
[13:30:43] <Mathuin> phew
[13:31:00] <Mathuin> the doc ...
[13:35:08] <eddyb> cmr: I want an Iterable trait
[13:35:43] <arrrrrrrrr> eddyb: We all do :)
[13:36:17] <Mathuin> even me as a complete and utterly hopeless newbie
[13:36:59] *** Joins: sigma1 (sigma@moz-6E1846A2.range86-184.btcentralplus.com)
[13:44:21] *** Joins: six600110 (six600110@moz-C663577C.hsd1.il.comcast.net)
[13:46:20] *** Joins: BizarreCake (BizarreCak@moz-361FE9B2.dynamic.barak-online.net)
[13:46:45] *** Joins: samnardoni (samnardoni@moz-6E63ABD.dyn.plus.net)
[13:46:52] *** Joins: gwty (gwtypc@152A05EF.5E0B0525.F44414AF.IP)
[13:51:45] *** Joins: jviereck (Adium@moz-2BFD589D.dip0.t-ipconnect.de)
[13:59:16] *** Quits: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP) (Ping timeout)
[14:02:20] *** Joins: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP)
[14:06:47] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[14:09:21] *** Quits: jviereck (Adium@moz-2BFD589D.dip0.t-ipconnect.de) (Quit: Leaving.)
[14:10:06] *** Joins: lpy_ (lpy@12172131.F09091A8.1348A864.IP)
[14:10:09] *** Quits: lpy_ (lpy@12172131.F09091A8.1348A864.IP) (Client exited)
[14:10:19] *** Quits: lpy (lpy@7360AA58.F09091A8.1348A864.IP) (Ping timeout)
[14:10:22] *** Quits: csherratt (csherratt@moz-CAF331EA.cable.teksavvy.com) (Ping timeout)
[14:10:59] *** Joins: squiddy (squiddy@moz-BF739A18.adsl.alicedsl.de)
[14:14:44] *** Quits: moostik (Icedove@moz-654D48E3.w83-202.abo.wanadoo.fr) (Ping timeout)
[14:15:38] *** Quits: kvanb (kvanb@moz-1C09EC1.lnse1.win.bigpond.net.au) (Quit: kvanb)
[14:28:51] *** Joins: ricepuddin (graham@moz-7D68765A.cable.virginm.net)
[14:30:42] *** Quits: nano (nano@moz-ED77243C.superkabel.de) (Connection reset by peer)
[14:34:23] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[14:37:43] *** Joins: q66_ (q66@6EE9DE40.46454B5D.33AABD5F.IP)
[14:38:43] *** Quits: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP) (Ping timeout)
[14:38:52] *** Quits: eholk (eholk@moz-58C5EE6F.wavecable.com) (Ping timeout)
[14:39:51] *** Joins: eholk (eholk@moz-58C5EE6F.wavecable.com)
[14:41:02] *** Quits: pyon (user@D883E380.480D3EC1.1C8C8CE9.IP) (Quit: ERC Version 5.3 (IRC client for Emacs))
[14:41:35] *** Joins: synackse (synackse__@moz-DFB8ED3B.lightspeed.wepbfl.sbcglobal.net)
[14:41:54] *** Quits: bvssvni (Mibbit@moz-CBD76C21.bb.online.no) (Quit: http://www.mibbit.com ajax IRC Client)
[14:44:09] *** Quits: BizarreCake (BizarreCak@moz-361FE9B2.dynamic.barak-online.net) (Ping timeout)
[14:45:32] <arrrrrrrrr> test
[14:45:51] <sigma1> arrrrrrrrr: seems to have worked
[14:46:07] <arrrrrrrrr> yeah
[14:49:08] *** Quits: dsirenko (mitra@8E712A0.54C21BA0.9F317420.IP) (Ping timeout)
[14:50:37] *** Joins: dsirenko (mitra@8E712A0.54C21BA0.9F317420.IP)
[14:57:10] *** Quits: squiddy (squiddy@moz-BF739A18.adsl.alicedsl.de) (Ping timeout)
[14:57:42] *** Quits: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca) (Quit: Leaving.)
[14:58:40] *** Joins: alan_andrade (alan_andra@8AB4864E.75F2E118.B7838CA6.IP)
[15:03:39] *** Joins: pao (pao@moz-AF905E87.fbx.proxad.net)
[15:09:00] *** Quits: hacker_s_ (hacker_sam@2EE27BB6.661C02A7.B0CE379A.IP) (Connection reset by peer)
[15:10:00] *** Joins: hacker_sam (hacker_sam@2EE27BB6.661C02A7.B0CE379A.IP)
[15:11:01] *** Quits: synackse (synackse__@moz-DFB8ED3B.lightspeed.wepbfl.sbcglobal.net) (Ping timeout)
[15:11:23] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[15:13:10] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[15:13:46] *** Quits: LU324 (weechat@9AF4F288.83671C58.1B5D53D7.IP) (Input/output error)
[15:14:02] *** Joins: LU324 (weechat@9AF4F288.83671C58.1B5D53D7.IP)
[15:14:47] *** Quits: samnardoni (samnardoni@moz-6E63ABD.dyn.plus.net) (Client exited)
[15:16:50] *** Joins: synackse (synackse__@moz-DFB8ED3B.lightspeed.wepbfl.sbcglobal.net)
[15:20:39] *** Quits: synackse (synackse__@moz-DFB8ED3B.lightspeed.wepbfl.sbcglobal.net) (Ping timeout)
[15:22:29] *** Joins: synackse (synackse__@moz-DFB8ED3B.lightspeed.wepbfl.sbcglobal.net)
[15:22:49] *** Joins: sebcrozet (sebcrozet@moz-A855F6C0.w82-127.abo.wanadoo.fr)
[15:27:18] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[15:27:19] *** Quits: synackse (synackse__@moz-DFB8ED3B.lightspeed.wepbfl.sbcglobal.net) (Ping timeout)
[15:28:37] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[15:30:19] *** Joins: Ferreus (ferreus@moz-487F6125.pools.arcor-ip.net)
[15:34:02] <nical> I think I am missing something with how to use rustpkg: it seems to be ignoring the RUST_PATH environment variable and always install in the current workspace when I run rustpkg install foo
[15:34:21] <nical> is that the expected behavior?
[15:36:29] *** Joins: jviereck (Adium@moz-885B3AD1.dip0.t-ipconnect.de)
[15:41:58] *** Quits: alan_andrade (alan_andra@8AB4864E.75F2E118.B7838CA6.IP) (Input/output error)
[15:44:55] <cmr> nical: I don't think so, no.
[15:45:03] *** Joins: samnardoni (samnardoni@moz-6E63ABD.dyn.plus.net)
[15:46:50] *** Quits: mark_edward (quassel@96AA16C1.78A885A5.FA72ABB8.IP) (Ping timeout)
[15:48:57] *** Quits: jviereck (Adium@moz-885B3AD1.dip0.t-ipconnect.de) (Quit: Leaving.)
[15:51:11] *** Quits: samnardoni (samnardoni@moz-6E63ABD.dyn.plus.net) (Ping timeout)
[15:53:45] *** Quits: ricepuddin (graham@moz-7D68765A.cable.virginm.net) (Ping timeout)
[15:55:52] *** Joins: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com)
[15:57:36] *** Joins: bmu (chatzilla@moz-A87574A6.hsd1.pa.comcast.net)
[16:06:40] *** Joins: raek (raek@moz-F9AE42FF.a328.priv.bahnhof.se)
[16:07:13] *** Joins: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net)
[16:08:18] *** Joins: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca)
[16:10:01] *** Joins: jviereck (Adium@moz-885B3AD1.dip0.t-ipconnect.de)
[16:10:12] *** Quits: jviereck (Adium@moz-885B3AD1.dip0.t-ipconnect.de) (Connection reset by peer)
[16:10:13] *** Joins: jviereck (Adium@moz-885B3AD1.dip0.t-ipconnect.de)
[16:12:02] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[16:13:44] *** Quits: jviereck (Adium@moz-885B3AD1.dip0.t-ipconnect.de) (Ping timeout)
[16:13:54] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[16:14:45] *** Quits: mitsuhiko (mitsuhiko-@moz-BC29B73E.srv.pocoo.org) (Ping timeout)
[16:22:13] *** Quits: sebcrozet (sebcrozet@moz-A855F6C0.w82-127.abo.wanadoo.fr) (Quit: Gone)
[16:24:13] <cmr> http://cmr.github.io/blog/2013/12/22/this-week-in-rust/
[16:24:22] <diverse> cmr: thank you :)
[16:30:35] *** Joins: Blei (philipp@moz-B2F9E4BD.cust.bluewin.ch)
[16:30:40] <diverse> oh wow, this is cool: http://i.imgur.com/iH9Dw6J.jpg
[16:30:50] <diverse> cmr: nice one
[16:31:22] <cmr> My birthday is in a week, ChrisMorgan's suggestion of a rust-themed cake is a good one :)
[16:31:37] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[16:33:23] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[16:35:51] <diverse> cmr: did he knew your birthday was coming up? Otherwise his mention had excellent timing.
[16:36:04] <cmr> diverse: I can't imagine how he would.
[16:36:33] *** Joins: alan_andrade (alan_andra@8AB4864E.75F2E118.B7838CA6.IP)
[16:38:32] *** Joins: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net)
[16:40:23] <Ms2ger> Ohai, TWiS
[16:44:44] <Ms2ger> We don't like Either anymore?
[16:44:56] <cmr> Ms2ger: well we never liked Either
[16:45:02] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[16:45:13] *** Joins: jedestep (Mibbit@moz-22EC00EB.lightspeed.stlsmo.sbcglobal.net)
[16:45:39] <jedestep> hello hello
[16:45:49] <Ms2ger> Poor Either
[16:46:05] <cmr> Left and Right are just plain ugly names :p
[16:46:31] <cmr> jedestep: welcome back :)
[16:46:47] <jedestep> @cmr good to be back, finally off school for a while
[16:47:01] <jedestep> also not remembering how to use IRC apparently
[16:50:02] *** Joins: samnardoni (samnardoni@moz-6E63ABD.dyn.plus.net)
[16:50:50] <alan_andrade> @cmr would you please trigger the build on this one https://github.com/mozilla/rust/pull/11106
[16:50:51] <jedestep> when is 0.9 planned for?
[16:51:07] <diverse> jedestep: early January
[16:51:27] <jedestep> ah perfect, thanks :)
[16:51:36] <tedh> mildly relevant: http://xkcd.com/1306/
[16:51:43] <cmr> alan_andrade: can you squash the merge commit with a rebase?
[16:51:44] *** Quits: samnardoni (samnardoni@moz-6E63ABD.dyn.plus.net) (Ping timeout)
[16:51:51] <alan_andrade> Sure
[16:52:23] *** Quits: jaen (jaen@moz-74B6810C.play-internet.pl) (Ping timeout)
[16:53:16] *** Quits: jedestep (Mibbit@moz-22EC00EB.lightspeed.stlsmo.sbcglobal.net) (Quit: http://www.mibbit.com ajax IRC Client)
[16:53:48] <alan_andrade> cmr, ready
[16:55:43] *** Joins: DasIch (dasich@moz-5EDA591.de)
[16:56:00] *** Quits: six600110 (six600110@moz-C663577C.hsd1.il.comcast.net) (Client exited)
[16:57:05] *** Joins: six600110 (six600110@moz-C663577C.hsd1.il.comcast.net)
[17:01:52] *** Joins: mitsuhiko (mitsuhiko-@moz-BC29B73E.srv.pocoo.org)
[17:06:11] <alan_andrade> :( tests wont pass after my changes and I'm not sure what's wrong. Could someone help me figuring it out ?
[17:06:12] <alan_andrade> https://github.com/mozilla/rust/pull/11106
[17:06:40] <alan_andrade> I get different errors on each build.
[17:07:28] *** Joins: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com)
[17:08:16] *** Quits: dcrewi (david@moz-AB8667CE.gyrae.net) (Ping timeout)
[17:08:18] <kimundi> Does it work locally?
[17:08:26] <cmr> alan_andrade: bors seems to be broken right now.
[17:08:32] <cmr> he always has to die on the weekend :(
[17:09:27] <FreeFull> alan_andrade: Are you sure your changes are at fault?
[17:09:36] <cmr> I know for a fact that they aren't
[17:09:40] <alan_andrade> I don't think so
[17:09:54] <FreeFull> Then you have nothing to worry about
[17:10:02] <cmr> https://github.com/mozilla/rust/issues/11116
[17:10:40] <alan_andrade> It makes me wonder though, I did touch the Makefile.
[17:10:50] <alan_andrade> oh wait
[17:10:58] <cmr> it has been doing it to almost every PR
[17:10:59] <alan_andrade> no no, was a different Makefile, not the main one.
[17:11:12] <alan_andrade> Got it.
[17:11:46] <alan_andrade> Thanks guys :)  ( *sighs* with relief )
[17:11:54] *** Joins: jaen (jaen@moz-1BA77DF5.play-internet.pl)
[17:12:00] <FreeFull> -429792791 [sig] sh 4968 sig_dispatch_pending: Win32 error 298 releasing sigcatch_nosync(0xEC)
[17:12:19] *** Joins: jviereck (Adium@moz-5FBF440D.dip0.t-ipconnect.de)
[17:12:33] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[17:12:57] <alan_andrade> Where's the website code at ?
[17:13:23] <alan_andrade> I mean the homepage html
[17:13:43] <cmr> https://github.com/graydon/rust-www
[17:14:13] *** Joins: vfetwnuncszu (david@moz-AB8667CE.gyrae.net)
[17:14:19] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[17:14:23] *** vfetwnuncszu is now known as dcrewi
[17:14:33] <alan_andrade> Thanks
[17:16:01] *** Quits: eholk (eholk@moz-58C5EE6F.wavecable.com) (Ping timeout)
[17:16:19] <alan_andrade> hmm, there's only 1 commit with an empty readme
[17:16:36] <cmr> gh-pages branch
[17:16:53] <alan_andrade> I apologize ! got it!
[17:17:01] *** Joins: eholk (eholk@moz-58C5EE6F.wavecable.com)
[17:19:29] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Connection reset by peer)
[17:19:41] *** Joins: jlong (jlong@moz-6DFDE846.socal.res.rr.com)
[17:20:28] <achin> what do i use if i want async IO?
[17:20:37] <cmr> achin: tasks
[17:21:13] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[17:21:48] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[17:22:27] <achin> related: how can i see if a stream (a TcpStream in my case) has a byte to be read?  can i select() on it?
[17:23:21] <cmr> no
[17:24:15] *** Quits: amey (user@EA8D8655.7575CC79.BE90E62C.IP) (Ping timeout)
[17:24:21] <cmr> still a rough area atm
[17:25:11] <achin> so perhaps i would spin up a task with my Stream, try to do a read on it, and if i don't get anything in a certain amount of time, i'd kill the task?
[17:32:53] *** Quits: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net) (Ping timeout)
[17:34:28] *** Quits: nical (nico@moz-4754F405.fbx.proxad.net) (Client exited)
[17:34:43] <SiegeLord> Hmm... f64::to_str_digits doesn't output correct values...
[17:35:06] <SiegeLord> Maybe that's why I've been having issues with making things based on it work accurately
[17:35:09] *** Quits: dsirenko (mitra@8E712A0.54C21BA0.9F317420.IP) (Ping timeout)
[17:35:17] <cmr> I find that unsurprising.
[17:35:31] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[17:35:36] <cmr> strconv is pretty bad
[17:35:47] <achin> tutorial-tasks.html says that spawn() is how i create tasks.  but there's a bunch of stuff in std::rt::task::Task .  what's the difference?
[17:36:20] *** Joins: mib_ibugx2 (Mibbit@D405681D.5E380364.4ABF101.IP)
[17:36:22] <eddyb> rt should be marked "implementation detail" or something
[17:36:34] <eddyb> it means "runtime"
[17:36:47] <cmr> achin: you really don't want to be touching rt::task
[17:36:47] *** Quits: mib_ibugx2 (Mibbit@D405681D.5E380364.4ABF101.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[17:36:50] <cmr> achin: use std::task
[17:37:08] <cmr> http://static.rust-lang.org/doc/master/std/task/index.html
[17:37:37] *** Joins: dsirenko (mitra@8E712A0.54C21BA0.9F317420.IP)
[17:39:27] <achin> got it.  /me keeps his nose out of std::rt
[17:40:09] *** Quits: jlong (jlong@moz-6DFDE846.socal.res.rr.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[17:42:24] *** Quits: dsirenko (mitra@8E712A0.54C21BA0.9F317420.IP) (Ping timeout)
[17:43:05] *** Joins: pepper_chico (pepper_chi@moz-95A5633B.dsl.telesp.net.br)
[17:43:14] *** Quits: jviereck (Adium@moz-5FBF440D.dip0.t-ipconnect.de) (Quit: Leaving.)
[17:43:27] <achin> are there any proposal docs for how async IO might work in the future?
[17:43:42] <cmr> I don't think so, no.
[17:44:00] *** Joins: dsirenko (mitra@8E712A0.54C21BA0.9F317420.IP)
[17:44:23] <achin> ok, no problem
[17:44:30] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[17:46:47] *** Quits: pepper_chico (pepper_chi@moz-95A5633B.dsl.telesp.net.br) (Quit: Ex-Chat)
[17:50:08] *** Joins: lhk (Mibbit@moz-4F323774.dip0.t-ipconnect.de)
[17:50:19] <lhk> which editor do you use for rust ?
[17:50:30] <achin> vim !
[17:50:34] <cmr> lhk: many people use vim or emacs.
[17:50:56] <lhk> are there good plugins for rust for vim or emacs ?
[17:51:11] <FreeFull> I use vim, without any plugins
[17:51:12] <cmr> https://github.com/mozilla/rust/tree/master/src/etc/
[17:51:21] <cmr> (https://github.com/mozilla/rust/wiki/Doc-packages,-editors,-and-other-tools)
[17:51:29] <lhk> thanks for the links
[17:51:47] <lhk> FreeFull, vim without anything ? that's hardcore mode
[17:51:56] <achin> i symlink those src/etc/ files into ~/.vim/ so whenever i do a git-pull they get updated automatically
[17:52:56] <lhk> achin, interesting
[17:53:17] <lhk> ill try to set that up
[17:54:29] *** Quits: eholk (eholk@moz-58C5EE6F.wavecable.com) (Ping timeout)
[17:55:24] *** Joins: eholk (eholk@moz-58C5EE6F.wavecable.com)
[18:01:26] *** Joins: synackse (synackse__@moz-DFB8ED3B.lightspeed.wepbfl.sbcglobal.net)
[18:02:28] *** Joins: lenstr (lenstr@8A35E972.9636F313.7A27613B.IP)
[18:07:04] *** Quits: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org) (Ping timeout)
[18:07:41] <lhk> achin, im having a few problems with those vim plugins
[18:07:54] <lhk> under src/etc/vim are various folders with .vim files
[18:08:00] <achin> yep
[18:08:09] <lhk> do i copy symlinks to each of these .vim files into ~/.vim ?
[18:08:15] <lhk> or do i copy the folders ?
[18:08:44] <achin> i would only symlink the files
[18:08:52] <achin> since the folders might already exist in ~/.vim/
[18:09:08] <lhk> ok, but doesn't that create duplicates ?
[18:09:16] <lhk> both src/etc/vim/after
[18:09:17] <lhk> and
[18:09:21] <achin> duplicates of what?
[18:09:27] <lhk> of those rust.vim files ?
[18:09:41] <achin> no.  i don't follow.  
[18:09:41] <lhk> the two folders
[18:10:06] <lhk> there are two files rust.vim in /after/ and in /syntax/
[18:10:19] <achin> oh.  no, keep the directory structure
[18:10:29] <achin> so src/etc/vim/ftdetect/rust.vim will go into ~/.vim/ftdetect/rust.vim
[18:10:31] <kimundi> lhk: I'm just using kate + syntax higlining, for what it's worth :P
[18:10:34] <lhk> so just a symlink to src/etc/vim/
[18:10:35] <lhk> ?
[18:10:45] <lhk> ok
[18:10:48] <lhk> i get it
[18:10:49] <achin> and src/etc/vim/syntax/rust.vim  goes into ~/.vim/syntax/rust.vim
[18:10:52] <lhk> thank you very much
[18:11:05] <achin> and do the same for the rest of the files
[18:12:55] <lhk> great, now it works
[18:13:01] <lhk> thanks again
[18:13:03] <achin> excellent
[18:13:09] <achin> glad to help
[18:14:12] *** Joins: mib_5yn49l (Mibbit@moz-B234C23B.rev.numericable.fr)
[18:15:50] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Ping timeout)
[18:22:23] *** Joins: dwrensha (chatzilla@moz-39B4ACCD.hrbgpa.fios.verizon.net)
[18:23:26] *** Quits: lhk (Mibbit@moz-4F323774.dip0.t-ipconnect.de) (Quit: http://www.mibbit.com ajax IRC Client)
[18:31:02] *** Quits: sigma1 (sigma@moz-6E1846A2.range86-184.btcentralplus.com) (Ping timeout)
[18:31:36] *** Quits: alan_andrade (alan_andra@8AB4864E.75F2E118.B7838CA6.IP) (Input/output error)
[18:34:04] *** Quits: arrrrrrrrr (arrrrrrrrr@moz-317D4522.dynamic.qsc.de) (Quit: arrrrrrrrr)
[18:35:01] *** Joins: tjc (tjc@moz-6EB4E533.dsl.tsoft.com)
[18:35:01] *** ChanServ sets mode: +o tjc
[18:35:57] *** Quits: ash_ (ash@15DEC023.DFC68827.9C33A531.IP) (Ping timeout)
[18:36:30] *** Joins: alonlevy (alon@moz-61A0AD83.red.bezeqint.net)
[18:36:38] *** Joins: ash_ (ash@15DEC023.DFC68827.9C33A531.IP)
[18:38:17] *** Quits: alonlevy (alon@moz-61A0AD83.red.bezeqint.net) (Ping timeout)
[18:38:59] *** Quits: LimeBurst (me@247D1419.D73964AC.27A8748.IP) (Ping timeout)
[18:43:26] *** Quits: lenstr (lenstr@8A35E972.9636F313.7A27613B.IP) (Client exited)
[18:43:59] *** Joins: lenstr (lenstr@8A35E972.9636F313.7A27613B.IP)
[18:45:44] *** Quits: lenstr (lenstr@8A35E972.9636F313.7A27613B.IP) (Ping timeout)
[18:47:00] *** Quits: mib_5yn49l (Mibbit@moz-B234C23B.rev.numericable.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[18:51:04] *** Quits: paulproteus (quassel@199.199.210.158) (Client exited)
[18:52:23] *** Quits: eholk (eholk@moz-58C5EE6F.wavecable.com) (Ping timeout)
[18:52:39] *** Quits: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com) (Input/output error)
[18:53:15] *** Joins: eholk (eholk@moz-58C5EE6F.wavecable.com)
[18:59:04] *** Quits: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net) (Connection reset by peer)
[19:00:01] *** Joins: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net)
[19:00:33] *** Joins: alan_andrade (alan_andra@8AB4864E.75F2E118.B7838CA6.IP)
[19:04:58] *** Quits: apoelstra (username@moz-B7040E82.vs.shawcable.net) (Ping timeout)
[19:06:07] *** Quits: heftig (heftig@moz-A3C925B5.dip0.t-ipconnect.de) (Ping timeout)
[19:13:35] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[19:14:53] *** Joins: paulproteus (quassel@458FE134.3EC36C88.CBDCF1DC.IP)
[19:15:22] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[19:16:00] *** Quits: synackse (synackse__@moz-DFB8ED3B.lightspeed.wepbfl.sbcglobal.net) (Ping timeout)
[19:17:21] *** Quits: paulproteus (quassel@199.199.210.158) (Ping timeout)
[19:17:45] *** Joins: heftig (heftig@moz-ABF3B79A.dip0.t-ipconnect.de)
[19:17:53] *** Joins: synackse (synackse__@moz-DFB8ED3B.lightspeed.wepbfl.sbcglobal.net)
[19:20:30] *** Quits: dwrensha (chatzilla@moz-39B4ACCD.hrbgpa.fios.verizon.net) (Ping timeout)
[19:20:59] *** Joins: samnardoni (samnardoni@moz-6E63ABD.dyn.plus.net)
[19:21:27] *** Quits: robn (robn@moz-76B0302C.static.internode.on.net) (Ping timeout)
[19:21:59] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Input/output error)
[19:21:59] *** Quits: oberstet (quassel@moz-C2F963A3.dynamic.mnet-online.de) (Client exited)
[19:22:03] *** Joins: paulproteus (quassel@458FE134.3EC36C88.CBDCF1DC.IP)
[19:22:23] *** Joins: robn (robn@moz-76B0302C.static.internode.on.net)
[19:22:36] *** Quits: hacker_sam (hacker_sam@2EE27BB6.661C02A7.B0CE379A.IP) (Connection reset by peer)
[19:22:42] *** Quits: samnardoni (samnardoni@moz-6E63ABD.dyn.plus.net) (Ping timeout)
[19:22:56] *** Joins: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net)
[19:24:11] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[19:24:58] *** Joins: hacker_sam (hacker_sam@2EE27BB6.661C02A7.B0CE379A.IP)
[19:30:22] *** Quits: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com) (Client exited)
[19:30:40] *** Joins: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com)
[19:32:20] *** Quits: tjc (tjc@moz-6EB4E533.dsl.tsoft.com) (Ping timeout)
[19:32:46] <glaebhoerl> would having 4 cores give me any speedup over having 2 for bootstrapping rustc?
[19:35:31] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[19:35:45] *** Joins: tjc (tjc@moz-6EB4E533.dsl.tsoft.com)
[19:35:45] *** ChanServ sets mode: +o tjc
[19:36:14] *** Quits: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com) (Quit: )
[19:38:11] <rca> glaebhoerl: it should if you use -j4, however it might not be a significant speedup since only the c++ stuff can be build concurently.
[19:38:25] <rca> oh, and the tests probably
[19:39:35] <glaebhoerl> rca: the rust stuff is per-crate parallelized too
[19:39:40] *** Joins: ricepuddin (graham@moz-7D68765A.cable.virginm.net)
[19:40:03] <glaebhoerl> i just don't if the number/size of the crates makes that useful with >2 cores
[19:40:07] <glaebhoerl> *don't know
[19:40:09] *** Quits: alan_andrade (alan_andra@8AB4864E.75F2E118.B7838CA6.IP) (Input/output error)
[19:40:33] *** Joins: awidegreen (awidegreen@moz-B0B75607.dip0.t-ipconnect.de)
[19:41:18] <rca> can they always be parallelized ? if libextra depends on libstd can you build them concurently ?
[19:41:29] *** Joins: csherratt (csherratt@moz-CAF331EA.cable.teksavvy.com)
[19:42:21] *** Quits: awidegreen (awidegreen@moz-B0B75607.dip0.t-ipconnect.de) (Ping timeout)
[19:43:01] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[19:43:32] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[19:43:37] <rca> you know what i'll try to time a build with -j2 and a build with -j4. You picked my curiosity.
[19:43:58] *** Quits: jaen (jaen@moz-1BA77DF5.play-internet.pl) (Ping timeout)
[19:44:36] <glaebhoerl> rca: no idea about that, I'd guess not
[19:44:39] <glaebhoerl> and thanks :)
[19:45:40] <cmr> glaebhoerl: 4 compared to 2 isn't going to be a big deal
[19:48:54] <kimundi> all relevant rust crates are serially dependant on each other, so multible cores don't matter much, sadly
[19:50:27] <Ms2ger> rca, it only really helps when compiling the c++ code :)
[19:51:37] <glaebhoerl> kimundi: hm, last time I tried, whenever I checked `htop`, it had a rustc at 100% on both cores
[19:52:05] <rca> Ms2ger: yep, and the tests.
[19:52:27] <glaebhoerl> (might've been the tests or something else though? idunreallyknow)
[19:52:29] *** Joins: dwrensha (chatzilla@moz-39B4ACCD.hrbgpa.fios.verizon.net)
[19:52:37] <kimundi> glaebhoerl: The test use all cores
[19:52:47] <kimundi> glaebhoerl: But they run after everything got compiled
[19:53:24] <glaebhoerl> does compiling the tests use many cores or just running them?
[19:53:33] <cmr> both
[19:53:43] <cmr> the test runner will use all the cores you have to build+run
[19:53:54] <csherratt> For a language that one of it's goals is to enable greater amounts of concurrency. I find it ironic that compiling a crate is mostly a single threaded affair.
[19:54:19] <cmr> note that -j2 or more *hurts* the testrunner, since you'll have N jobs each using N cores..
[19:54:23] <glaebhoerl> sadly I can't remember which part of the process I was checking `htop` during, but I'll try to pay closer attention next time
[19:54:26] <cmr> s/j2/jN/
[19:54:59] <cmr> csherratt: the serial parts of the build aren't the slow parts
[19:55:12] <cmr> Sure, we could get an 8x speedup on the part of the build that takes < 10% of the time...
[19:55:16] <cmr> (for 8 cores)
[19:55:25] <cmr> worth the effort? not entirely obvious.
[19:55:48] *** Joins: jviereck (Adium@moz-5FBF440D.dip0.t-ipconnect.de)
[19:56:01] *** Quits: synackse (synackse__@moz-DFB8ED3B.lightspeed.wepbfl.sbcglobal.net) (Ping timeout)
[19:56:10] <cmr> certainly I prefer the core devs who have written most of the compiler to be working on language features, fixing bugs, and working towards 1.0 in general :)
[19:56:21] <csherratt> so what are the slow parts of the build?
[19:56:28] <cmr> llvm
[19:56:33] <cmr> and linking
[19:56:38] <cmr> mostly llvm
[19:56:48] <csherratt> The whole binary optimizations?
[19:57:30] *** Quits: jviereck (Adium@moz-5FBF440D.dip0.t-ipconnect.de) (Ping timeout)
[19:57:31] <cmr> run -Z time-passes and -Z time-llvm-passes to see where the time is being spent.
[19:57:35] *** Joins: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net)
[20:01:08] *** Quits: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl) (Quit: Leaving)
[20:02:57] *** Joins: spacetime (quassel@moz-CAB487E6.rishab.in)
[20:03:10] <csherratt> The low hanging fruit for improving parallelism in builds is probably in improving rustpkg. I can't see a reason why rustpkg can't start parallel builds of dependent crates.
[20:03:13] *** Joins: jviereck (Adium@moz-5FBF440D.dip0.t-ipconnect.de)
[20:03:28] <csherratt> won't help with compiling rust tho.
[20:03:31] *** Quits: jviereck (Adium@moz-5FBF440D.dip0.t-ipconnect.de) (Connection reset by peer)
[20:03:32] *** Joins: jviereck1 (Adium@moz-5FBF440D.dip0.t-ipconnect.de)
[20:04:28] *** Quits: tjc (tjc@moz-6EB4E533.dsl.tsoft.com) (Ping timeout)
[20:06:00] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[20:06:21] *** Quits: jviereck1 (Adium@moz-5FBF440D.dip0.t-ipconnect.de) (Ping timeout)
[20:06:22] <csherratt> I wanted to get some advice on working around the borrow checker. https://gist.github.com/csherratt/8087391
[20:06:22] *** Joins: jviereck (Adium@moz-5FBF440D.dip0.t-ipconnect.de)
[20:09:32] <csherratt> the gist is a contrived example. The problem is doing an operation on two values in an array that modifies both.
[20:10:54] <cmr> csherratt: afaik it's not possible with safe code
[20:11:08] <cmr> not that it's an unsafe operation; just no way to do it with the exposed methods...
[20:11:12] <cmr> maybe something has been added though
[20:11:27] <cmr> One easy way would be to do.. mut_split I think it is, somewhere between the two elements
[20:12:22] *** Quits: pao (pao@moz-AF905E87.fbx.proxad.net) (Quit: pao)
[20:14:08] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[20:14:09] *** Quits: hacker_sam (hacker_sam@2EE27BB6.661C02A7.B0CE379A.IP) (Connection reset by peer)
[20:14:29] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[20:14:33] *** Joins: awidegreen (awidegreen@moz-B0B75607.dip0.t-ipconnect.de)
[20:14:43] *** Joins: hacker_sam (hacker_sam@2EE27BB6.661C02A7.B0CE379A.IP)
[20:15:55] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[20:16:16] <cmr> mut_split_at, yeah
[20:18:01] *** Joins: arrrrrrrrr (arrrrrrrrr@moz-317D4522.dynamic.qsc.de)
[20:19:30] *** Quits: awidegreen (awidegreen@moz-B0B75607.dip0.t-ipconnect.de) (Ping timeout)
[20:19:31] <csherratt> That is a bit nicer.
[20:23:49] *** Joins: awidegreen (awidegreen@moz-3FE0A1F.a357.priv.bahnhof.se)
[20:27:24] <glaebhoerl> csherratt: would https://github.com/mozilla/rust/issues/8636#issuecomment-29184137 help your case?
[20:27:41] *** Quits: awidegreen (awidegreen@moz-3FE0A1F.a357.priv.bahnhof.se) (Ping timeout)
[20:28:03] <glaebhoerl> (i.o.w, I guess, are the elements you want to mutate at a fixed offset from either end of the vector?)
[20:28:07] <cmr> glaebhoerl: hah, clever nick!
[20:28:43] <glaebhoerl> cmr: hmm? thanks :)
[20:28:48] <csherratt> they are always beside each other, so this would be the perfect fix.
[20:30:19] <glaebhoerl> csherratt: being beside each other is one thing, but if they're both at some unknown point in the middle you can't get to them with pattern matching
[20:30:29] <glaebhoerl> though I guess you could still `.mut_slice()` and then match
[20:31:05] *** Joins: awidegreen (awidegreen@moz-B0B75607.dip0.t-ipconnect.de)
[20:31:29] <csherratt> A perfect fix if it wasn't for the fact that it was a compiler bug right now.
[20:31:50] *** Joins: alonlevy (alon@moz-61A0AD83.red.bezeqint.net)
[20:32:00] *** Joins: lhk (nobody@moz-4F323774.dip0.t-ipconnect.de)
[20:32:10] <lhk> hi
[20:32:25] <lhk> im afraid ive got a very basic question
[20:32:45] <lhk> what exactly is the difference between the various pointers
[20:32:55] <lhk> managed, owned and borrowed
[20:33:00] <glaebhoerl> ownership semantics
[20:33:00] <lhk> for example:
[20:33:02] <cmr> that's a very simple question with a very complex answer
[20:33:33] <cmr> http://static.rust-lang.org/doc/master/tutorial.html#more-on-boxes
[20:33:42] <glaebhoerl> the simple and incomplete answer is managed => "our", owned => "my", borrowed => "their" :)
[20:33:43] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[20:34:02] *** Quits: awidegreen (awidegreen@moz-B0B75607.dip0.t-ipconnect.de) (Ping timeout)
[20:34:03] <lhk> cmr, thanks for the link
[20:34:23] <lhk> somehow i find the tutorial organisation rather confusing
[20:34:25] *** Joins: jlong (jlong@moz-6DFDE846.socal.res.rr.com)
[20:34:55] <lhk> theres the tutorial on the main website but thats rather short
[20:35:13] <csherratt> Patrick had a good article on it http://pcwalton.github.io/blog/2013/03/09/which-pointer-should-i-use/
[20:35:29] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[20:37:27] <rca> glaebhoerl: ha! so the j2 took 24min01 at 98%CPU average, and the j4 took 23min at 102%CPU. Then I realized I had ccached enabled anyway, which must have totaly screwed with the llvm stuff build time. So, hum, the morale is, if you're not using ccache already, try it. Otherwise don't bother with more cores.
[20:37:38] *** Quits: arrrrrrrrr (arrrrrrrrr@moz-317D4522.dynamic.qsc.de) (Quit: arrrrrrrrr)
[20:40:50] <glaebhoerl> rca: in a real-world scenario I *am* going to be using ccache (am already), so that's the more useful test :-)
[20:41:09] <glaebhoerl> rca: what was the specific test? make clean followed by make -jN?
[20:41:18] <rca> yep
[20:41:41] *** Joins: synackse (synackse__@moz-DFB8ED3B.lightspeed.wepbfl.sbcglobal.net)
[20:41:43] <glaebhoerl> rca: ok, thanks. seems like cmr was completely correct
[20:41:59] <glaebhoerl> the silver lining is that dual core CPUs are probably considerably cheaper
[20:42:57] <rca> also make sure not to swap out while building.
[20:43:06] <rca> ram is so cheap that would be a shame
[20:43:35] <rca> but that's kind of obvious
[20:43:47] <glaebhoerl> yeah. not a problem thankfully
[20:43:58] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Quit: Busying myself...)
[20:44:09] <lhk> csherrat i just read the article you posted
[20:44:24] <lhk> really great
[20:44:24] <lhk> thank you very much for the link
[20:46:14] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[20:46:31] <glaebhoerl> rca: hmm, and what CPU do you have specifically? :)
[20:47:06] *** Joins: LimeBurst (me@247D1419.D73964AC.27A8748.IP)
[20:47:10] <rca> lscpu: Intel(R) Core(TM) i7-2760QM CPU @ 2.40GHz
[20:47:45] <glaebhoerl> (I haven't timed it but I think mine takes an hour or more, so 20-ish minutes would already be way better)
[20:47:50] <glaebhoerl> danke schön
[20:48:03] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Quit: Leaving...)
[20:48:10] <rca> you're welcome
[20:48:53] <glaebhoerl> TIL you can write `let mut ref mut foo = ...`
[20:48:59] <lhk> glaebhoerl, du bist auch deutsch ?
[20:49:07] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[20:50:16] *** Joins: trecer (trecer@80EE59D.F2C0876.7A0AECD4.IP)
[20:50:34] *** Joins: alan_andrade (alan_andra@8AB4864E.75F2E118.B7838CA6.IP)
[20:50:56] <glaebhoerl> lhk, nein, ich only finde es amusing to occasionally sprache in the sehr wenig deutsch I know
[20:51:33] <kimundi> It always feels wrong to me if people in english speaking communities start to talk in german (I'm german too :P)
[20:51:34] <lhk> glabhoerl, nice
[20:52:08] *** Quits: eholk (eholk@moz-58C5EE6F.wavecable.com) (Ping timeout)
[20:52:18] *** Quits: alan_andrade (alan_andra@8AB4864E.75F2E118.B7838CA6.IP) (Ping timeout)
[20:52:47] <lhk> im happy if i hear someone speaking german
[20:52:57] <lhk> but i have to admit
[20:53:17] <lhk> if i were english, i would prefer to learn spanish or french
[20:53:22] <lhk> spanish is much easier
[20:53:25] *** Joins: eholk (eholk@moz-58C5EE6F.wavecable.com)
[20:53:50] <lhk> and french has a better reputation ;)
[20:53:55] <rca> lhk: don't learn french. way too complicated. I've been trying to learn it for the past 23 years.
[20:54:09] <glaebhoerl> german wouldn't be so bad if nouns weren't gendered :(
[20:54:29] <lhk> rca, german is worse
[20:54:39] <lhk> french got two genders
[20:54:44] <lhk> we have three
[20:54:49] <lhk> and they are completely random
[20:54:55] <rca> that's not a problem. the declinations are.
[20:55:01] <lhk> now ay to memorise them
[20:55:16] <lhk> rca, in german or in french ?
[20:55:21] <rca> in german
[20:55:32] <lhk> uh
[20:55:52] <lhk> i tink french is more complicated
[20:56:06] <lhk> in german you only really need to learn te present
[20:56:07] <rca> globaly i agree
[20:56:12] <lhk> future is rather simple
[20:56:27] <lhk> just werden + infinitiv
[20:56:28] <glaebhoerl> TIL also that those word ending things are called declinations
[20:56:31] <Blei> just learn japanese, only 2 tenses
[20:56:41] <lhk> and for past tense you can get pretty far with perfect
[20:56:46] <glaebhoerl> wouldn't they be not nearly as complicated without genders?
[20:57:06] <lhk> actually in colloqial german you'll never really use amy past tense but perfect
[20:57:46] <lhk> glaebhoerl, without genders you would have to learn much less
[20:58:06] <lhk> and it sounds really strange if someone mixes up genders
[20:58:18] <glaebhoerl> (though I guess even if nouns in general didn't have genders, they might still be complicated for e.g. people with genders...)
[20:58:18] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[20:58:19] <lhk> Blei you speak japanese .
[20:58:24] <lhk> ?
[20:58:33] <Blei> a little bit
[20:58:39] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[20:58:49] <lhk> wow
[20:58:59] <lhk> how did you start ?
[20:59:09] <lhk> in school or by yourself
[20:59:15] <Blei> a course in university, one semester
[20:59:30] <Blei> but then i was too lazy to continue to do homework and continued learning on my own
[21:00:28] *** Joins: samnardoni (samnardoni@moz-6E63ABD.dyn.plus.net)
[21:00:30] <Blei> i can't even imagine starting to learn german, it must be horrible
[21:00:45] <lhk> this is probably a bad question, but why did you pick japanese over chinese
[21:00:46] <Blei> all the cases and genders and tenses
[21:01:01] <Edwards> Blei: Try Latin sometime. Holy shit.
[21:01:36] <Blei> yeah, economically it doesn't make sense. but i like anime and manga (or at least liked, not really much a fan anymore) and i don't like china, censorship etc
[21:01:42] <lhk> chinese should be all over the globe in a matter of years
[21:02:07] <lhk> censorship is big in japan, too
[21:02:17] *** Quits: Ms2ger (Ms2ger@F98499EB.6D359A20.187A1082.IP) (Quit: nn)
[21:02:18] <lhk> though certainly not as present as in china
[21:02:19] <Blei> but it's funny, based on my japanese knowledge, i can guess many easier chinese phrases
[21:02:40] <lhk> ive been in peking last autumn
[21:02:45] <lhk> really interesting experience
[21:02:56] <Blei> at least japan has access to the internet :)
[21:03:01] <lhk> there's this german political magazine, called der spiegel
[21:03:11] <lhk> rather well known
[21:03:20] *** Quits: alonlevy (alon@moz-61A0AD83.red.bezeqint.net) (Ping timeout)
[21:03:30] <lhk> and you could buy it in the hotel, if you were a tourist
[21:03:36] <glaebhoerl> one of those german magazines even a non-german such as I have heard of (on multiple occasions)
[21:03:51] <lhk> but there were strict orders that this magazine must not be read in the lobby
[21:03:56] <lhk> only in te rooms
[21:04:11] <lhk> really strange
[21:04:17] <glaebhoerl> w.r.t. learning german, I've been meaning to link this http://www.crossmyt.com/hc/linghebr/awfgrmlg.html which is one of my favorite things ever.
[21:04:40] *** Joins: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com)
[21:04:42] *** Quits: samnardoni (samnardoni@moz-6E63ABD.dyn.plus.net) (Client exited)
[21:05:34] <Edwards> Heh. Yeah, glancing over that, I get flashbacks to Latin class.
[21:06:10] <Edwards> https://en.wikipedia.org/wiki/Latin_declension
[21:07:10] <kimundi> I was absolutely horrible in latin - still, what little I lerned isw occasional useful to guess the meaning of words in other languages :P
[21:08:27] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[21:08:29] <Edwards> kimundi Yeah, I flunked out of Latin 2, so it's not exactly an expertise of mine or anything.
[21:09:01] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[21:09:18] <Edwards> But even just studying Latin 1 as little as I did helped me understand English in a lot of unexpected ways.
[21:10:41] <kimundi> I always have trouble with these discussions, because the german and english school system is just to different, so I never know what maps to what :P
[21:12:08] <lhk> uh, im afraid i got the same problem, but i can help on the german side:
[21:12:18] <lhk> first we got four years of basic school
[21:12:28] <lhk> then you have three choices
[21:12:38] <lhk> hauptschule
[21:12:42] <o11c> the thing is, declensions are really no harder than using a separate word ...
[21:12:43] <lhk> realschule
[21:12:48] <lhk> gymnasium
[21:13:08] <lhk> the first two will qualify you for an apprenticeship
[21:13:23] <lhk> only at the gymnasium you can receive the abitur
[21:13:42] <Edwards> Nice. American schools don't really have "choices"
[21:13:48] <lhk> this is the final exam which allows you to enter university
[21:14:08] <lhk> you will finish gymnasium after 13 years of education
[21:14:23] <lhk> that is, probably, at the age of 18 or 19
[21:14:31] <Edwards> Interesting
[21:14:37] <lhk> at this time, you are an adult
[21:14:39] <Edwards> When does basic school start?
[21:14:42] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[21:14:48] <Edwards> At what age?
[21:14:58] <lhk> basic school starts at the age of 6
[21:15:00] <glaebhoerl> wait, so you can't go to a university unless your parents sent you to a gymnasium?
[21:15:01] <kimundi> 4 year grundschule + 9 years gymnasium
[21:15:08] <Edwards> Oh I see
[21:15:34] <lhk> in germany we do not have the concept of college and university
[21:15:37] <glaebhoerl> (I'm guessing when you're <18 it's your parents making the relevant choices, not you)
[21:15:48] <eddyb> fwiw, .ro: 4 years of primary school + 4 years of middle school (gymnasium) + 4 years of high school =(Bacalaureat - a "final" exam)> university
[21:15:48] <lhk> i never really inderstood where one begins and the other ends
[21:15:54] <Edwards> Yeah, it sounds like the American school system is basically grundschule + gymnasium, with no choices until you select a university.
[21:16:05] <lhk> instead there is the university
[21:16:09] <Edwards> (Or rather, until a university selects you, or some combination thereof.)
[21:16:19] <lhk> education is completely free in germany
[21:16:25] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[21:16:36] <lhk> places at the university are granted like this:
[21:17:10] <lhk> 60%  of the places go to those applicants with the best abitur
[21:17:45] <lhk> 20% are reserved for those who have waited or have special handicaps
[21:17:55] *** Joins: trecer_ (trecer@C009041.6BCC1A65.7A0AECD4.IP)
[21:18:06] <lhk> 20% are given away at the universities decision
[21:18:18] *** Quits: trecer (trecer@80EE59D.F2C0876.7A0AECD4.IP) (Ping timeout)
[21:18:43] <lhk> in most cases these last 20% are distributed on behalf of abitur grades, too
[21:18:58] <lhk> but social work is often a factor, too
[21:19:13] <lhk> sports and scholarships are unimportant
[21:19:23] <lhk> except if you study sport
[21:19:33] <lhk> maybe as a teacher for sport
[21:19:41] *** Quits: trecer_ (trecer@C009041.6BCC1A65.7A0AECD4.IP) (Ping timeout)
[21:19:51] <Edwards> Heh, yeah, that's very different from over here.
[21:19:57] <lhk> of course, money is an issue in germany, too
[21:20:17] <lhk> for poor families, there's bafoeg
[21:20:29] <Edwards> Even if a student is selected for the best university for what they want to study, there's still the question of whether they can afford it.
[21:20:29] <lhk> an interest free monetary aid
[21:20:40] <lhk> given away rather generously
[21:20:49] <lhk> many of my friends receive bafoug
[21:21:13] <Edwards> Sounds like our Pell Grant
[21:21:33] <Edwards> https://en.wikipedia.org/wiki/Pell_Grant
[21:21:33] <lhk> as i already said education is free, so money is not essential
[21:21:41] <Edwards> Right
[21:21:51] <lhk> there is a nominal fee, called sozialbeitrag
[21:22:11] <lhk> which is used to fund social projects and finance social care
[21:22:21] <lhk> but that is extremely low
[21:22:22] *** Quits: doublec (farv@moz-EC11DA4D.members.linode.com) (Quit: leaving)
[21:22:25] <Edwards> For perspective, I go to a state school, which is relatively inexpensive, and I live in the same state, so my tuition is discounted significantly already.
[21:22:40] <Edwards> Plus my mom works for the university system, so I get an additional 50% off tuition
[21:22:45] <lhk> after 3 years you receive the bachelor
[21:22:48] <Edwards> And I get Pell Grants of around $2000 per semester
[21:22:54] <lhk> after 2 more years the master
[21:22:54] <Edwards> And I'm $60k in debt. \o/
[21:23:19] *** Joins: slimer (Mibbit@moz-DEF859BF.hsd1.wa.comcast.net)
[21:23:30] <lhk> the biggest cultural difference are probably those student loans
[21:23:43] *** Joins: doublec (farv@moz-EC11DA4D.members.linode.com)
[21:23:44] <Edwards> Yeah.
[21:23:55] <lhk> they are very uncommon in germany
[21:24:04] <lhk> bafoeg is interest free
[21:24:14] <lhk> and if you graduate you get a big discount
[21:24:25] <Edwards> It's weird. Culturally it's expected that most people will go to university. But at the same time, university is still treated as a financial investment in a high-paying career.
[21:24:41] <Edwards> Even though most people should not be making such an investment (but should be receiving the education)
[21:25:19] <lhk> yes, education should be free
[21:25:34] <lhk> just as healtcare
[21:25:39] <lhk> and social care
[21:25:45] <Edwards> Agreed.
[21:25:51] *** Joins: trecer_ (trecer@EC4A2488.5E7A241.9B0F0B9E.IP)
[21:26:01] <Edwards> Younger people in this country tend to think that way.
[21:26:01] <Earnestly> (Fwiw, you do still pay for that)
[21:26:16] <lhk> Earnestly, sure
[21:26:22] <lhk> someone has to pay
[21:26:37] <lhk> but the payment should be distributed
[21:26:38] <Earnestly> "Someone", you do.  I do, we all do
[21:26:49] <lhk> in germany there are two types of health insurance
[21:26:57] *** Quits: Blei (philipp@moz-B2F9E4BD.cust.bluewin.ch) (Quit: WeeChat 0.4.2)
[21:26:58] <lhk> gesetzlich
[21:27:08] <lhk> which translates loosely to
[21:27:13] <lhk> mandatory
[21:27:48] <lhk> you pay a fixed amount per month regardless of your needs
[21:28:03] <lhk> this money is given to an organisation called
[21:28:08] <lhk> krankenkasse
[21:28:13] <lhk> which pays doctors
[21:28:23] <lhk> its a system of distribution
[21:28:33] <lhk> which is rather complicated
[21:28:38] <lhk> for the doctors
[21:28:53] <lhk> He problem is that many people develop a notion of entitlement
[21:29:17] *** Quits: trecer_ (trecer@EC4A2488.5E7A241.9B0F0B9E.IP) (Ping timeout)
[21:29:27] <lhk> healthcare is indeed "free" meaning that theres no additional cost if you visit a doctor
[21:29:52] <lhk> german doctors are flooded with patients that are actually not really ill
[21:30:02] <lhk> and everything is treated
[21:30:12] <lhk> the system is rather broken
[21:30:22] <lhk> since doctors work insane shifts
[21:30:27] <lhk> for relatively little money
[21:30:45] <Edwards> We have the opposite problem. People who are actually definitely obviously ill don't see a doctor because they don't want to put their family through years of crippling debt.
[21:31:03] *** Joins: trecer_ (trecer@moz-C0C44473.dyn.centurytel.net)
[21:31:39] <lhk> thats a shame
[21:32:08] <Edwards> Yeah, there's a huge debate around healthcare going on over here right now
[21:32:33] <Edwards> I don't know how much anyone has heard about it outside the US.
[21:32:40] <lhk> pretty much
[21:32:46] *** Quits: trecer_ (trecer@moz-C0C44473.dyn.centurytel.net) (Ping timeout)
[21:33:11] <lhk> my father is a radiologist
[21:33:22] <lhk> and has just visited the rsna in chicago
[21:33:27] <Edwards> Ah
[21:33:30] *** Quits: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com) (Ping timeout)
[21:33:32] *** Joins: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com)
[21:33:37] <lhk> there are brokers that organise healtcare ?
[21:33:37] <lhk> like,
[21:33:52] <lhk> the cheapest mrt is 290 miles from here ?
[21:34:12] <lhk> radiology was defined as a commodity
[21:34:22] <lhk> he was rathwr shocked ;)
[21:34:27] *** Joins: alonlevy (alon@moz-B406282A.bb.netvision.net.il)
[21:34:42] <lhk> but it surely is a step in the right direction
[21:34:44] <Edwards> Basically they passed a law that says everyone must purchase private healthcare, and in exchange, sets minimum standards for health insurance plans.
[21:35:04] <lhk> that actually sounds rather good
[21:35:12] <Edwards> So health insurance companies pay out more for people who need it, but they have more customers who don't.
[21:35:12] <lhk> sounds much better than in germany
[21:35:32] <lhk> thats our system, too
[21:35:52] <lhk> but te problem is that once these companies have grown too big, they can dompretty much what they want
[21:36:07] <lhk> in germany this doesnt mean that patients arent treated
[21:36:07] <glaebhoerl> (which is similar to the swiss system from what I've heard)
[21:36:09] <Edwards> Right. And they have been in this country for a long time
[21:36:25] <lhk> that would cause painful lawsuits
[21:36:29] <lhk> but insteqd doctors are screwed
[21:36:40] <lhk> it is outrageous
[21:37:00] <lhk> the system that was designed to be a mere tool for distribution of money is misused
[21:37:00] *** Quits: eddyb (eddy@moz-68E0B7D0.residential.rdsnet.ro) (Ping timeout)
[21:37:00] *** Quits: dwrensha (chatzilla@moz-39B4ACCD.hrbgpa.fios.verizon.net) (Ping timeout)
[21:37:20] <lhk> those krankenkassen save huge amounts of money
[21:37:22] <Edwards> There was a term, "pre-existing condition", which basically meant that if you had the illness prior to your health insurance plan, your plan didn't have to cover it.
[21:37:33] <lhk> what ?
[21:37:34] <Edwards> That's illegal now. Your plan has to cover it.
[21:38:05] <lhk> hood
[21:38:10] <lhk> * good
[21:38:15] <lhk> oh
[21:38:20] <lhk> i got to go
[21:38:25] <lhk> sorry
[21:38:25] <lhk>  bye
[21:38:30] *** Parts: lhk (nobody@moz-4F323774.dip0.t-ipconnect.de) ()
[21:40:22] *** Joins: moostik (Icedove@moz-6AF08E46.w92-135.abo.wanadoo.fr)
[21:40:38] *** Quits: moostik (Icedove@moz-6AF08E46.w92-135.abo.wanadoo.fr) (Quit: moostik)
[21:42:08] *** Joins: moostik (Icedove@moz-6AF08E46.w92-135.abo.wanadoo.fr)
[21:45:00] <slimer> Hi All, can someone explain what is wrong with this code?
[21:45:11] <slimer> let gr: Grid { };
[21:45:13] <slimer> where
[21:45:16] <slimer> struct Grid {
[21:45:27] <slimer>   inner: ~[~[Cell]],
[21:45:28] <slimer> }
[21:45:33] *** Quits: Kxepal (Miranda@moz-4DD94850.pppoe.mtu-net.ru) (Ping timeout)
[21:45:41] <kimundi> well, "let gr: Grid {}" is illegal syntax
[21:45:42] <slimer> enum Cell { alive, dead }
[21:45:56] <slimer> I dropped the { }, and get the following error
[21:46:13] *** Quits: victorporof (victorporo@221F1DFA.9004F55.9B1E38F4.IP) (Quit: victorporof)
[21:46:15] <slimer> let gr: Grid;
[21:46:26] <kimundi> Either let gr = Grid { inner: ... }; or let gr: Grid = Grid { inner: ...};
[21:46:27] <slimer> Whic, I get an unitialized error if I try to use gr
[21:47:03] <kimundi> Or option three and four: let gr: Grid; gr = Grid { ... } and let gr; gr = Grid { ... }
[21:47:05] <slimer> Can I not mention inner (I'm going to make it private probably)
[21:47:42] <kimundi> no
[21:47:53] <kimundi> All structs need to be initialized with their value
[21:48:07] *** Joins: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[21:48:10] *** Quits: gwty (gwtypc@152A05EF.5E0B0525.F44414AF.IP) (Ping timeout)
[21:48:17] <kimundi> if you want to hide a private filed from initilisation, write a constructor function :)
[21:48:20] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[21:48:41] *** Joins: Kxepal (Miranda@moz-94D630A3.pppoe.mtu-net.ru)
[21:48:42] <slimer> Ok, thanks. I guess I need to unlearn C++ more. Thankx!
[21:49:13] <kimundi> np
[21:53:52] *** Joins: StarLight (StarLight@moz-19781CC6.dynamic.avangarddsl.ru)
[21:55:43] *** Quits: jackneill (jackneill@moz-C693862A.pool.digikabel.hu) (Ping timeout)
[21:56:03] *** Quits: alonlevy (alon@moz-B406282A.bb.netvision.net.il) (Ping timeout)
[22:14:50] *** Joins: jputnam (Mibbit@moz-9A5095BD.hsd1.ut.comcast.net)
[22:17:55] *** Quits: eholk (eholk@moz-58C5EE6F.wavecable.com) (Ping timeout)
[22:18:42] *** Quits: synackse (synackse__@moz-DFB8ED3B.lightspeed.wepbfl.sbcglobal.net) (Ping timeout)
[22:18:53] *** Joins: eholk (eholk@moz-58C5EE6F.wavecable.com)
[22:19:10] <SiegeLord> Heh, I like irust... why is it so slow though >_<
[22:19:17] *** Quits: andreypopp (andreypopp@moz-7261DC60.net) (Client exited)
[22:19:21] *** Quits: Krymise (Nietzsche@moz-CA789EF5.nwrknj.fios.verizon.net) (Quit: Textual IRC Client: www.textualapp.com)
[22:19:31] *** Joins: Krymise (Nietzsche@moz-CA789EF5.nwrknj.fios.verizon.net)
[22:19:45] <cmr> it recompiles every time
[22:19:48] <cmr> also, ruby ;p
[22:20:21] <SiegeLord> I wish rustc wasn't so slow at compiling things...
[22:20:30] *** Joins: andreypopp (andreypopp@moz-7261DC60.net)
[22:22:05] <cmr> if it isn't, it should be using -Z prefer-dynamic
[22:23:05] <cmr> 100ms vs 87ms
[22:23:05] *** Joins: synackse (synackse__@moz-DFB8ED3B.lightspeed.wepbfl.sbcglobal.net)
[22:23:08] <cmr> for fn main(){}
[22:23:51] <cmr> SiegeLord: clang on a `return 1;` main with iostream and algorithm included is 175ms, dynamic, so we're not doing that bad.
[22:24:09] <cmr> though without any includes it's 46ms
[22:24:43] <SiegeLord> -Z prefer-dynamic doesn't make it that much faster
[22:24:58] <SiegeLord> It takes 0.9 seconds to compile the file irust uses
[22:25:24] <TobiasFar> is there a way to create a variable of a struct without initializing it, since you have a FFI function which does it?
[22:25:45] <cmr> TobiasFar: std::unstable::intrinsics::uninit() creates an uninitialized value
[22:29:35] *** Joins: maxiepoo (Max@moz-D66F3D4E.atvci.net)
[22:29:45] <SiegeLord> Switching from {:?} to {} nearly halves the compillation time
[22:30:59] <SiegeLord> But it doesn't really go below about 0.4 seconds
[22:31:48] <SiegeLord> Clang/GCC/LDC2 all manage about 0.15 seconds for a hello world (LDC2 is D's LLVM compiler)
[22:32:52] <cmr> yeah, irust's does about 0.4 for me (with :?)
[22:32:56] *** Quits: synackse (synackse__@moz-DFB8ED3B.lightspeed.wepbfl.sbcglobal.net) (Ping timeout)
[22:34:18] *** Quits: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net) (Quit: Taking a nap.)
[22:35:08] <cmr> For hellow world I get 82ms rust, 46ms clang C, 156ms clang++ C++, 44ms gcc C, 172ms g++ C++
[22:35:10] *** Joins: synackse (synackse__@moz-DFB8ED3B.lightspeed.wepbfl.sbcglobal.net)
[22:35:54] <jputnam> You could try adding #include<iostream> and see how C++ takes...
[22:37:29] <o11c> give me stats for a file of about 1000 lines, that's a more meaningful comparison
[22:39:27] <jputnam> cpp testc.cxx | wc -l gives me 15270.  All that has is #include<iostream> and return 1.
[22:39:53] *** Joins: vodik (simon@moz-26C1A9B8.home.cgocable.net)
[22:40:37] *** Quits: StarLight (StarLight@moz-19781CC6.dynamic.avangarddsl.ru) (Ping timeout)
[22:41:42] <jputnam> It runs for about 0.25s and then gives me an error message, because I haven't got gcc's invocation syntax perfect.
[22:44:53] *** Joins: StarLight (StarLight@moz-663A7363.dynamic.avangarddsl.ru)
[22:46:46] *** Joins: ercxx (ercan@moz-5B55241D.dyn.optonline.net)
[22:49:32] <cmr> jputnam: well the c++ hello world is of course using iostreams
[22:49:39] <cmr> otherwise it'd just be the puts I used in C :p
[22:50:17] *** Quits: jviereck (Adium@moz-5FBF440D.dip0.t-ipconnect.de) (Quit: Leaving.)
[22:51:48] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[22:53:08] <SiegeLord> cmr: Do you have an SSD?
[22:53:34] <cmr> of course
[22:53:38] <cmr> but this is also on /tmp
[22:53:43] <SiegeLord> That'd explain why it's faster overall
[22:53:43] <cmr> which is a tmpfs
[22:53:57] <cmr> well I'm running it a few times to get the cache warm before taking a number
[22:54:01] *** Quits: synackse (synackse__@moz-DFB8ED3B.lightspeed.wepbfl.sbcglobal.net) (Ping timeout)
[22:54:11] <SiegeLord> Well, I assume a big part of it is reading libstd... which I assume is not in /tmp
[22:54:16] *** Joins: pnkfelix (pnkfelix@D838C10A.B7215B9.7C695BC6.IP)
[22:54:24] *** Quits: pnkfelix (pnkfelix@D838C10A.B7215B9.7C695BC6.IP) (Input/output error)
[22:54:27] *** Joins: awidegreen (awidegreen@moz-B0B75607.dip0.t-ipconnect.de)
[22:54:27] <cmr> -Z time-passes and see
[22:55:23] <cmr> http://pcpartpicker.com/user/cmr/saved/Cs6 is all the parts that have ended up in my desktop
[22:55:34] <SiegeLord> time: 0.238 s   external crate/lib resolution
[22:55:43] <cmr> wow, ram price has gone up a lot
[22:55:45] <SiegeLord> So roughly a 3rd
[22:55:50] <SiegeLord> It has... it's nuts
[22:56:01] <SiegeLord> Nearly 2x in my experience
[22:56:19] <cmr> did a factory explode or something?
[22:56:23] *** Quits: awidegreen (awidegreen@moz-B0B75607.dip0.t-ipconnect.de) (Ping timeout)
[22:56:25] <SiegeLord> Yes, a fire
[22:57:53] *** Quits: rca (rcatolino@moz-60C1810D.adsl.proxad.net) (Ping timeout)
[22:58:08] *** Joins: synackse (synackse__@moz-DFB8ED3B.lightspeed.wepbfl.sbcglobal.net)
[22:58:23] *** Joins: kvanb (kvanb@moz-1C09EC1.lnse1.win.bigpond.net.au)
[22:58:30] <cmr> so for me everything is 0ms except macro injection (1ms), expansions (2ms), coherence (2ms), trans (1ms), then codegen and llvm is is 4ms, then 36ms linking..
[22:59:24] <SiegeLord> Heh, I'm not getting an SSD just to get rustc to compile faster :P
[22:59:28] *** Joins: awidegreen (awidegreen@moz-3FE0A1F.a357.priv.bahnhof.se)
[23:01:33] <TobiasFar> can one turn of dead code warnings?
[23:02:15] <cmr> -A dead-code
[23:02:23] <cmr> see rustc --help
[23:02:29] <ercxx> How do I deal with stuff that might be defined in C preprocessor macros while writing a wrapper?
[23:02:53] <cmr> ercxx: bindgen generates bindings after macro expansion.
[23:02:58] <cmr> well, preprocessing.
[23:03:20] <ercxx> So don't write it manually?
[23:03:34] <cmr> if you don't have to, why do the work?
[23:03:35] <cmr> :)
[23:03:47] <ercxx> I'll try bindgen, I remember not being able to compile it a while ago.
[23:03:52] *** Joins: ktt3ja (ktt3ja@moz-54586A12.washdc.fios.verizon.net)
[23:04:11] <cmr> you may have had an older libclang?
[23:04:26] <ercxx> It compiled.
[23:04:47] *** Quits: robn (robn@moz-76B0302C.static.internode.on.net) (Ping timeout)
[23:06:51] <ercxx> Well bindgen complains about stddef.h not being found.
[23:07:04] <cmr> ah yes that problem
[23:07:11] <cmr> SiegeLord: do you remember how to fix that one?
[23:07:25] <cmr> I remember having to do something to the search path
[23:08:22] <ercxx> hmm
[23:08:39] <SiegeLord> It does... but I don't recall exactly what to specify
[23:08:46] <ercxx> It says any extra parameters will be sent to clang.
[23:10:13] <ercxx> ll
[23:10:18] <ercxx> ooops
[23:10:48] *** Quits: kvanb (kvanb@moz-1C09EC1.lnse1.win.bigpond.net.au) (Quit: kvanb)
[23:11:00] *** Joins: kvanb (kvanb@moz-1C09EC1.lnse1.win.bigpond.net.au)
[23:11:07] *** Quits: jlong (jlong@moz-6DFDE846.socal.res.rr.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[23:11:29] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[23:12:12] *** Quits: Jesin (Jesin@moz-4B662E55.washdc.fios.verizon.net) (Quit: Leaving)
[23:12:24] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[23:13:32] *** Quits: bmu (chatzilla@moz-A87574A6.hsd1.pa.comcast.net) (Ping timeout)
[23:16:07] *** Joins: robn (robn@moz-76B0302C.static.internode.on.net)
[23:18:13] <glaebhoerl> so I just got done with time make -j3 and it was 84m
[23:20:15] *** Joins: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net)
[23:21:48] *** Joins: dew1 (Instantbir@moz-E4452B8F.static.stls.mo.charter.com)
[23:22:08] *** Quits: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com) (Ping timeout)
[23:22:34] *** Joins: bmu (chatzilla@moz-A87574A6.hsd1.pa.comcast.net)
[23:23:32] <cmr> glaebhoerl: with fresh llvm?
[23:24:08] *** Quits: spider-mario (spidermari@moz-81131DB6.fbx.proxad.net) (Input/output error)
[23:25:42] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[23:27:01] <glaebhoerl> cmr: make clean followed by make -j3, with ccache enabled
[23:27:22] <cmr> glaebhoerl: well was it the first ccache build?
[23:27:30] <glaebhoerl> cmr: nope
[23:27:44] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[23:27:45] <cmr> ah
[23:27:50] <cmr> that's really slow!
[23:27:54] <glaebhoerl> I know!
[23:29:08] <glaebhoerl> when I got this I was thinking I wouldn't be compiling big things much anyway
[23:33:25] *** Joins: Ralith (ralith@moz-132F2FD4.sea.wa.customer.broadstripe.net)
[23:43:41] *** Joins: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com)
[23:50:25] *** Quits: smodo (tadnr@moz-6398EFDF.dclient.hispeed.ch) (Input/output error)
[23:50:31] <aatch> Man, Rust-based parsers are so nice to write.
[23:51:24] <aatch> I keep tweaking syntax and it ends up being really easy to alter the parser.
[23:52:25] <cmr> Is this code you can keep public?
[23:52:27] <cmr> or
[23:52:29] <cmr> make public
[23:52:45] <cmr> I have want to write a parser but everytime I try I end up with a mess of unworking spaghetti
[23:53:32] <aatch> cmr, I can, it's part of some unfinished code, but the parser is fine, give me a moment, I'll throw it up somewhere.
[23:53:51] <aatch> It's not particularly well commented atm.
[23:54:16] <cmr> <3
[23:54:18] *** Quits: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com) (Ping timeout)
[23:54:40] *** Joins: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com)
[23:56:19] *** Quits: jputnam (Mibbit@moz-9A5095BD.hsd1.ut.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[23:58:56] <aatch> cmr, here: https://gist.github.com/Aatch/8089884 Making it a gist was pretty much the easiest way.
[23:59:16] <aatch> But you should be able to just copy each rust file into the same directory and have it build.
[23:59:23] *** Quits: aeqwa (aeqwa@moz-3026A4E.dsl.tropolys.de) (Quit: WeeChat 0.4.3-dev)
