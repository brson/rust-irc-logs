[00:07:08] *** Quits: int3_ (int3_@moz-432A7121.public.wayport.net) (Ping timeout)
[00:09:03] *** Joins: jack (jack@moz-F1B36F9F.hsd1.nm.comcast.net)
[00:14:24] *** Quits: Jesin (Jessin_@moz-1866A4CC.cc.lehigh.edu) (Ping timeout)
[00:18:32] *** Joins: int3_ (int3_@moz-432A7121.public.wayport.net)
[00:22:58] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[00:22:58] <ghrust> 01[13rust01] 15bors merged 06auto into 06incoming: 02http://git.io/ua5L-w
[00:22:58] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[00:23:04] *** Joins: Jesin (Jessin_@moz-1866A4CC.cc.lehigh.edu)
[00:25:56] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[00:25:56] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/mhs5uA
[00:25:56] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[00:25:58] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[00:25:58] <ghrust> 01[13rust01] 15bors pushed 1 new commit to 06auto: 02http://git.io/SNm6kg
[00:25:58] <ghrust> 13rust/06auto 14dd5b1de 15bors: auto merge of #6082 : catamorphism/rust/mkdir_recursive, r=brson...
[00:25:58] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[00:32:43] *** Quits: Axord (xord@moz-C3CCF156.lsanca.dsl-w.verizon.net) (Quit: I'm sure it's perfectly safe)
[00:35:08] <ssbr> Bleh, I've tried it on my own, but I'm stuck. What do I do with the output of rustc -c ? If I try, for example, rustc --lib -c foo.rs -o foo.o && gcc foo.o bar.c -lmorestack , then I getget this: http://www.bpaste.net/show/weoYFW6eOfJ2WfJoZJfL/
[00:35:35] <ssbr> I don't know where else to take this. I don't see anything else I can link with in the rust directory, so I don't know what I'm missing.
[00:35:56] <cmr> librustrt
[00:36:29] <cmr> I think
[00:36:30] *** Quits: dherman (dherman@moz-BE33DA21.fw1.sfo1.mozilla.net) (Quit: dherman)
[00:36:39] <ssbr> That's a DLL. Can I tell GCC what it should link with dynamically?
[00:36:45] <cmr> Yes, with -l
[00:36:49] <ssbr> (I have a poor understanding of the linking process)
[00:37:09] <ssbr> I thought that told it to link statically with a thing
[00:37:10] *** Joins: thou (thou@moz-D1EE62D4.sumnetsol.com)
[00:37:10] <ssbr> erp :(
[00:37:16] <cmr> No, just link in general.
[00:39:21] <cmr> I don't know all the lowlevel details of rust though, I'm just getting started, someone else prolly knows all the things you need to link to.
[00:39:50] <ssbr> No, it looks like you're right
[00:39:53] <ssbr> that and core.dll are what I needed
[00:40:05] <ssbr> but it's trying to link with a core.dll that is completely empty, that exists on my install, for some reason
[00:40:17] <ssbr> I'm not sure if it's safe to delete that dll or if it has a reason to exist. :p
[00:40:31] <cmr> It's not empty here, *shrug*
[00:41:19] <ssbr> The core.dll in Rust\bin is fine, the core.dll in Rust\bin\i686-pc-mingw32\bin has 0 bytes
[00:41:24] <cmr> ah
[00:41:57] <ssbr> or not
[00:41:59] <ssbr> c:/Program Files (x86)/Rust/bin/core.dll: file not recognized: File truncated
[00:42:21] <ssbr> now they both have 0 bytes
[00:42:29] <ssbr> looks like my gcc command is somehow doing terrible things
[00:42:32] <ssbr> ugh
[00:43:00] <strcat> ssbr: it's no core.dll you want to link against
[00:43:08] <strcat> it's the one with a hash
[00:43:18] <strcat> the empty ones shouldn't be installed, they aren't on *nix
[00:43:36] <ssbr> It wasn't empty a second ago. I think.
[00:44:17] <ssbr> so I have to do -lcore-c3ca5d77d81b46c1-0.6 ? that doesn't seem likely to still work when I update my system
[00:44:34] <cmr> No, it won't work, but there's not a stable ABI
[00:44:43] <Luqman> ssbr: why are you trying to link it manually?
[00:45:02] <ssbr> Luqman: I want to embed rust in a python extension module
[00:45:42] <ssbr> Python has a bunch of link settings and so on it passes in when you build an extension module, AIUI? it was between reproducing the behavior of rustc to work in distutils, or reproducing the behavior of distutils to work with rustc
[00:45:53] <ssbr> the former approach looked cleaner, since it didn't involve automatically generate crate files
[00:46:23] <ssbr> anyway, you're right, it was always empty, I just read the wrong thing
[00:46:26] <ssbr> er, not you
[00:46:29] <ssbr> strcat: you! thank you.
[00:46:35] <ssbr> e.g. std.dll is empty.
[00:47:01] <Luqman> ssbr: doing `RUST_LOG=rustc=1,rustc::back::link rustc foo.rs` will output how rustc does the linking itself
[00:47:03] <ssbr> cmr: I wasn't going to rely on there being a stable ABI
[00:47:39] <strcat> rusti: 1
[00:47:43] <rusti> 1
[00:49:03] <ssbr> Luqman: should I try and pull that information automatically, or is that a bit much?
[00:49:24] <ssbr> I mean if I hardcode it but someone specifies additional things to link to in a crate file, then it'd no longer compile
[00:50:04] *** Quits: heftig (heftig@817651.264529FD.140136CA.IP) (Quit: Quitting)
[00:50:23] *** Joins: heftig (heftig@moz-5DC6F736.dip0.t-ipconnect.de)
[00:51:46] <jrfeenst> when there is an ICE, is there any way to see what source file/function was being processed?
[00:54:20] <ssbr> Woooooo! I called rust from C. Awesome!
[00:54:35] <ssbr> Thank you #rust for your unending patience and support, even though I am not very good at this :)
[00:56:05] <ssbr> I was a little surprised that `extern "C"` made a function callable form C if it was linked in dynamically, but if I'm compiling it this way (rust to an object file, and then compiling the object file together with C), then I need #[no_mangle]
[00:56:15] <ssbr> I guess I don't really understand what `extern "C"` does
[00:57:17] <cmr> ssbr: extern "FOO" specifies the ABI that the function will be called with.
[00:57:42] <cmr> ssbr: http://smallcultfollowing.com/babysteps/blog/2013/02/22/interfacing-with-c-functions-in-rust/
[00:59:08] <ssbr> Then did I accidentally do something else that resulted in a nonmangled name?
[00:59:36] <ssbr> maybe I'm not controlling my environment tightly enough to make conclusions based on my experiments. Possibly was accidentally still using an old DLL from when I was just doing #[no_mangle] :(
[00:59:38] <cmr> You used #[no_mangle] didn't you?
[00:59:42] *** Joins: DanC (connolly@1BF57F76.56AB27A3.6F26FCB4.IP)
[00:59:51] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Client exited)
[00:59:51] <ssbr> cmr: I did first, then I switched to extern "C", now I'm apparently doing both.
[00:59:51] <cmr> I don't know all the details of name mangling
[01:00:09] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[01:01:54] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[01:02:18] *** Quits: engla (engla@moz-E4A8CEF5.customer.cdi.no) (Ping timeout)
[01:04:42] *** Joins: kvark (Mibbit@moz-46F48A13.cpe.distributel.net)
[01:07:08] *** Joins: Sodel_the_V (user@moz-853663E1.va.shawcable.net)
[01:08:15] *** Quits: FrozenCow (FrozenCow@moz-9DF5D010.dynamic.upc.nl) (Quit: Leaving)
[01:10:16] *** Quits: wilsonk-laptop (kvirc@moz-39EFBFC2.cg.shawcable.net) (Quit: KVIrc 4.0.4 Insomnia http://www.kvirc.net/)
[01:14:24] <kvark> could someone please look at https://gist.github.com/kvark/5475394
[01:14:38] <kvark> I checked the current open ICE bugs and didn't find this one
[01:14:54] *** Quits: RagingDave (RagingDave@moz-3F31ACEF.pools.arcor-ip.net) (Quit: Ex-Chat)
[01:15:46] <cmr> kvark: it works on incoming
[01:15:55] <kvark> thanks cmr
[01:16:12] <cmr> https://gist.github.com/cmr/f91e0dc8dd011615d1f2
[01:17:02] <kvark> I see... rust-0.6 is not as smart, unfortunately. On the test case it reports errors, then ICE. On my project it was just ICE...
[01:19:55] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[01:19:55] <ghrust> 01[13rust01] 15bors merged 06auto into 06incoming: 02http://git.io/o8bF2A
[01:19:55] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[01:20:59] <bjz> kvark: pong
[01:22:34] <kvark> bjz: https://gist.github.com/kvark/5475420
[01:22:39] *** Joins: wilsonk-laptop (kvirc@moz-39EFBFC2.cg.shawcable.net)
[01:22:57] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[01:22:57] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/8-i__Q
[01:22:57] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[01:22:58] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[01:22:58] <ghrust> 01[13rust01] 15bors pushed 14 new commits to 06auto: 02http://git.io/PXeTPQ
[01:22:58] <ghrust> 13rust/06auto 14394f0d4 15Tim Chevalier: Revert libcore: unify `gen_<type>` methods on `rand::RngUtil` into the generic `gen`....
[01:22:58] <ghrust> 13rust/06auto 14472ea0b 15Tim Chevalier: Revert "libcore: remove unnecessary deref"...
[01:23:00] <ghrust> 13rust/06auto 14d72ca65 15bors: auto merge of #6067 : catamorphism/rust/revert, r=catamorphism...
[01:23:00] <kvark> bjz: did you test any code with ProjectorSym.to_mat4() ?
[01:23:02] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[01:23:14] <bjz> O_O
[01:23:25] <bjz> wow that's an impressive error
[01:23:26] <bjz> :)
[01:23:52] <kvark> 'option::get none' is confusing
[01:24:21] <bjz> yeah?
[01:24:37] <bjz> just do foo.get()
[01:24:44] <kvark> hmm
[01:24:45] <kvark> ok
[01:24:46] <bjz> it's impled on Option
[01:24:58] <kvark> but that Result, not Option
[01:25:05] <kvark> *thats
[01:25:08] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[01:25:31] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[01:25:31] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[01:25:55] <bjz> oh
[01:25:59] <bjz> unwrap
[01:26:07] <bjz> foo.unwrap()
[01:26:11] <EXetoC> presents?
[01:26:16] <kvark> bjz: it crashes the same way with get()
[01:26:16] <bjz> or foo.get_ref()
[01:26:24] <bjz> if you don't want to copy
[01:26:33] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[01:26:45] <bjz> hmm
[01:26:52] <kvark> bjz: same for unwrap...
[01:28:00] <bjz> I don't think I do get/unwrap/get_ref in the actual code
[01:28:22] <bjz> very straange
[01:28:41] <bjz> oh
[01:29:03] <bjz> actually no
[01:29:05] <bjz> :S
[01:29:08] <kvark> :)
[01:29:47] <kvark> can you try it on incoming?
[01:29:55] <bjz> 'option::get none' could be coming from within the compiler
[01:30:24] *** Quits: thou (thou@moz-D1EE62D4.sumnetsol.com) (Input/output error)
[01:30:40] <bjz> I need to update lmath for incoming. I've almost transferred all the functionality from numeric into core::num
[01:31:03] <aatch> Yay! possibly blocking issue for me! ._.
[01:31:08] <bjz> ?
[01:31:11] <aatch> https://github.com/mozilla/rust/issues/6091
[01:31:59] <bjz> kvark: do you mind if I spend some time updating lmath for incoming?
[01:32:05] <bjz> it was next on my list
[01:32:18] <kvark> bjz: as you wish
[01:32:24] *** Quits: MrFahrenheit (RageOfThou@moz-CF7139ED.dynamic.telemach.ba) (Ping timeout)
[01:32:34] *** Joins: youknowone (youknowone@A826BD81.8A0DEF81.38747683.IP)
[01:32:34] *** Quits: youknowone (youknowone@A826BD81.8A0DEF81.38747683.IP) (Z:lined (Open Proxy found on your host. Please visit www.blitzed.org/proxy?ip=115.68.131.49 for more information.))
[01:32:35] <bjz> kvark: we might run into some issues though
[01:32:39] <kvark> if only I had a workaround
[01:32:45] <bjz> aye
[01:33:03] <bjz> you could use the perspective function from lmath
[01:33:25] <kvark> bjz: ok, good idea, will try that
[01:33:30] <bjz> cyndis alerted me to a mistake in my code on that though
[01:33:42] <bjz> I don't know if I fixed it after the tag
[01:33:46] <bjz> I'll check
[01:34:16] <bjz> oh yeah
[01:34:27] <bjz> I fixed it before the 0.6 tag
[01:34:32] <SiegeLord> aatch, How about as *mut S;
[01:34:36] <bjz> so it should be allright
[01:35:09] <bjz> kvark: sorry for all the trouble
[01:35:09] <aatch> SiegeLord, dammit..
[01:35:19] <bjz> kvark: difficult juggling things
[01:35:23] <aatch> I didn't even think that would be a thing
[01:35:32] <bjz> kvark: did you figure out your glcore issues?
[01:35:36] <kvark> bjz: no worries
[01:35:43] <bjz> kvark: was it a problem with the regex?
[01:35:48] <aatch> It's still not consistent though, so I'll just adjust my issue
[01:35:51] <kvark> I had to supply the glcore extensions manually
[01:35:55] <SiegeLord> aatch, It probably didn't work as & either
[01:35:57] <bjz> kvark: dang
[01:36:17] <bjz> kvark: oh well, at least we will be able to say goodbye to it at some stage
[01:36:27] <bjz> kvark: hopefully in time for 0.7
[01:36:33] <aatch> SiegeLord, I kinda understand &mut though
[01:36:35] <kvark> bjz: ok, glad to hear that
[01:36:36] <bjz> kvark: but we'll see :)
[01:36:40] <aatch> Since & is a borrowed pointer.
[01:36:48] <bjz> kvark: (awaiting features)
[01:37:11] <SiegeLord> aatch, It doesn't work with @ either
[01:37:17] <SiegeLord> It only works with ~, I think
[01:38:00] <aatch> Ok, I almost never use @ so I wouldn't know
[01:39:52] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[01:42:52] <cmr> What is a *foo? I've only see &foo, @foo, and ~foo
[01:43:02] <Jeaye> A raw pointer.
[01:43:13] <Jeaye> Like a C pointer.
[01:43:14] <cmr> I thought & was "raw"
[01:43:21] <Jeaye> & is borrowed
[01:43:58] <aatch> cmr, dereferencing a raw pointer is an unsafe action
[01:43:59] <cmr> I was under the impression they were regular pointers at runtime, and had compiletime checks.
[01:44:10] <cmr> Ah
[01:44:10] <aatch> cmr, that is mostly true
[01:44:26] <Jeaye> &foo (borrowed), @foo (shared/managed), ~foo (owned/unique), *foo (raw)
[01:44:34] <aatch> But the fact is that it is impossible to safely construct a raw pointer.
[01:45:00] <aatch> At runtime, &, ~ and * are effectively identical.
[01:45:08] <bjz> cmr: but don't be cofused when '*' is used for dereferencing
[01:45:13] <aatch> @ is special because it's garbage collected.
[01:45:19] <cmr> Right, dereferencing didn't throw me.
[01:47:15] <cmr> https://github.com/mozilla/rust/issues/6068 is blocking me from doing work. Is there a way I can trace what/where (source code) the compiler is when it explodes?
[01:48:44] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Client exited)
[01:51:16] <Sodel_the_V> cmr: I'm spelunking for a bug, too. I grepped the source code for the error message.
[01:51:37] <aatch> Sodel_the_V, llvm assertions don't help
[01:51:40] <cmr> Sodel_the_V: Unfortunately I don't get an error message, it just explodes in llvm
[01:51:51] <Sodel_the_V> cmr: Ohhhhh
[01:51:53] <Sodel_the_V> Yow.
[01:51:56] <aatch> cmr, I think it might be the `self as uint`
[01:51:57] <cmr> I havbe a backtrace, and a coredump, but I have no idea where it's happening.
[01:52:17] <cmr> aatch: what line of reasoning brought you to that?
[01:52:22] <aatch> I know that self-by-value has some issues
[01:52:29] <aatch> the error is a pointer cast
[01:52:44] <cmr> hm
[01:52:52] <aatch> I think that self is passed in a really weird way atm.
[01:53:03] <bjz> kvark: how did you go?
[01:53:15] <cmr> Is there a way to skip stage0/not use the snapshot compiler?
[01:53:32] *** Joins: arun (Mibbit@moz-38DCC98D.cable.mindspring.com)
[01:53:49] *** Quits: arun (Mibbit@moz-38DCC98D.cable.mindspring.com) (Quit: http://www.mibbit.com ajax IRC Client)
[01:54:02] *** Joins: whidgle (Mibbit@moz-38DCC98D.cable.mindspring.com)
[01:54:07] <cmr> (I'm not familiar witht he build process at all)
[01:54:11] <aatch> cmr, not sure. You could try using a local rust.
[01:54:20] <aatch> But that might fail too...
[01:54:28] <cmr> But it might not, which is progress! :)
[01:55:15] <aatch> Yep, you can re-configure with --enable-local-rust
[01:55:29] <cmr> mm. let's see if it properly builds incoming
[01:55:32] <cmr> aatch: thanks
[01:55:45] <aatch> Which may or may not force llvm to rebuild
[01:55:55] <aatch> I haven't figured out what triggers that yet.
[01:56:10] * aatch doesn't have the patience to investigate
[01:56:16] <cmr> yeah llvm is rebuilt
[01:56:50] <Luqman> using --enable-local-rust probably won't work due to snapshot changes
[01:57:15] *** Quits: whidgle (Mibbit@moz-38DCC98D.cable.mindspring.com) (Quit: http://www.mibbit.com ajax IRC Client)
[02:00:25] *** Quits: Sodel_the_V (user@moz-853663E1.va.shawcable.net) (Ping timeout)
[02:04:14] *** Joins: devbug (quassel@moz-E1DE087C.bchsia.telus.net)
[02:06:13] *** Joins: z0w0 (zack@moz-A579E449.lnse2.cha.bigpond.net.au)
[02:10:57] *** Joins: doomlord_ (servitor@moz-92EDFF3A.range31-52.btcentralplus.com)
[02:11:57] <doomlord_> debug prints... whats the common way - a trait enabling string conversion? print array of strings ? convert each item tostring ?
[02:12:11] <doomlord_> is it possible avoiding macros
[02:12:28] <strcat> brson: https://github.com/mozilla/rust/pull/6075 r?
[02:12:35] <strcat> doomlord_: fmt!("%?", anything)
[02:12:41] <strcat> uses reflection
[02:13:09] <doomlord_> strangely i find myself after a version without the format string (although i use that a lot in C)
[02:13:22] *** Joins: Erik (Erik@moz-252DBA2.hsd1.co.comcast.net)
[02:13:49] <strcat> well there's a ToStr trait but it won't magically work with everything
[02:13:49] *** Joins: Russ (Mibbit@moz-1DFB45D.dhcp.trlk.ca.charter.com)
[02:14:01] <strcat> rusti: let mut xs = std::treeset::TreeSet::new(); xs.insert(2); insert.insert(5); xs
[02:14:02] <doomlord_> i just need to impl ToStr .. on what i want
[02:14:03] <rusti> more than 5 lines of output, pastebinned: http://sprunge.us/bPVg
[02:14:15] <strcat> rusti: let mut xs = std::treemap::TreeSet::new(); xs.insert(2); insert.insert(5); xs
[02:14:17] <rusti> more than 5 lines of output, pastebinned: http://sprunge.us/PEOK
[02:14:24] <strcat> heh
[02:14:31] <strcat> rusti: let mut xs = std::treemap::TreeSet::new(); xs.insert(2); xs.insert(5); xs
[02:14:33] <rusti> line longer than 100 columns, pastebinned: http://sprunge.us/SPPI
[02:14:42] <strcat> that's just using fmt!("%?"
[02:19:41] *** Joins: Sodel_the_V (user@moz-853663E1.va.shawcable.net)
[02:19:56] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[02:19:57] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 144a8c4e0 to 14dd5b1de: 02http://git.io/N3iJvQ
[02:19:57] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[02:19:59] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[02:19:59] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/WCR8kw
[02:19:59] <ghrust> 13rust/06auto 14f792bab 15Daniel Micay: only use #[no_core] in libcore
[02:19:59] <ghrust> 13rust/06auto 145f7947a 15bors: auto merge of #6075 : thestinger/rust/no-no_core, r=brson...
[02:20:00] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[02:20:39] <cmr> aatch: yeah, doesn't build with a more recent rustc
[02:20:46] <cmr> is there a way to just flat-out skip stage0?
[02:20:56] <cmr> I already have a compiler built with the snapshot
[02:21:34] <doomlord_> ok "to_str()" ...
[02:21:44] <cmr> Or, should I be using something other than self-by-value at https://github.com/cmr/rust/blob/methodize/char/src/libcore/char.rs#L58 ?
[02:22:09] <doomlord_> hmm. so i have print(~[foo.to_str(),baz.to_str(), ... ] )
[02:23:19] *** Joins: pseudoku (quassel@4C3E7F68.1137763F.C28326FD.IP)
[02:23:31] *** Quits: EXetoC (ex@moz-2DBEB1E4.customer.t3.se) (Quit: WeeChat 0.4.0)
[02:23:41] <strcat> doomlord_: vectors implement ToStr
[02:23:51] <strcat> rusti: [1, 2, 3].to_str()
[02:23:53] <rusti> ~"[1, 2, 3]"
[02:24:23] <doomlord_> ok so i can just say  io::println([.......].to_str()) , fair enough
[02:24:52] <doomlord_> what i'm really doing is using the vector for an n-ary function call
[02:25:29] <doomlord_> i'd want to distinguish between printing a vector and just applying a function to a several things without typing it out each time
[02:25:52] <Sodel_the_V> doomlord: vec::map()?
[02:25:54] <cmr> doomlord_: vec::map
[02:26:29] <doomlord_> this is telling me more about rust but just trying to settle on something convininet for debug prints :)
[02:26:51] *** Joins: lieshidden (lieshidden@moz-1DFB45D.dhcp.trlk.ca.charter.com)
[02:26:54] <doomlord_> [yada ...... ] .map(|x|{io::println(x)} ?
[02:27:03] <cmr> yup
[02:27:09] <cmr> well
[02:27:12] <cmr> x.to_str()
[02:27:14] *** Quits: Russ (Mibbit@moz-1DFB45D.dhcp.trlk.ca.charter.com) (Quit: http://www.mibbit.com ajax IRC Client)
[02:27:17] <cmr> or fmt!("%?", x)
[02:27:49] <doomlord_> i think i saw a log!( .. ) macro somewhere , thats probably what i want
[02:27:58] <strcat> debug!()
[02:28:52] <strcat> rusti: core::run::run_program(~"uname", ~["-a"]);
[02:28:54] <rusti> more than 5 lines of output, pastebinned: http://sprunge.us/MFjS
[02:29:04] <strcat> rusti: core::run::run_program(~"uname", [~"-a"]);
[02:29:05] <rusti> Linux sandbox 3.8.8-2-ARCH #1 SMP PREEMPT Tue Apr 23 10:28:14 CEST 2013 x86_64 GNU/Linux
[02:29:19] <strcat> hm
[02:32:09] <bjz> Erik: how does this look? https://gist.github.com/bjz/a0a5b1ff862fa396b3ac
[02:32:25] <bjz> Erik: should I have some NaN checks?
[02:33:52] <pseudoku> I'm not able to build master. I get the following error:
[02:33:54] <pseudoku> compile_and_link: x86_64-unknown-linux-gnu/stage1/lib/rustc/x86_64-unknown-linux-gnu/lib/libcore.so
[02:33:54] <pseudoku> rust: task 196e2a0 ran out of stack
[02:34:29] <pseudoku> Is this because of https://github.com/mozilla/rust/issues/6061
[02:34:31] <pseudoku> ?
[02:34:53] *** Joins: kiro (Mibbit@moz-10CABA48.cpe.distributel.net)
[02:35:03] *** Quits: kiro (Mibbit@moz-10CABA48.cpe.distributel.net) (Quit: http://www.mibbit.com ajax IRC Client)
[02:35:22] *** Joins: kiro (Mibbit@moz-10CABA48.cpe.distributel.net)
[02:36:02] *** Quits: dumitru (dgherman@moz-7C253BEB.getcadre.com) (Ping timeout)
[02:36:07] <kiro> Is there a site that lists rust libs/projects? I'm looking for GUI+3D lib for linux
[02:36:18] *** Quits: reed (reed@tech.monkey) (Ping timeout)
[02:36:22] *** Joins: dumitru (dgherman@moz-7C253BEB.getcadre.com)
[02:36:23] <bjz> kiro: what 3D stuff?
[02:36:43] <kiro> Something kinda like ogre, or bindings
[02:37:02] <bjz> kiro: we don't really have anything like ogre yet
[02:37:03] *** Joins: reed (reed@tech.monkey)
[02:37:10] <bjz> kiro: we have SDL and GLFW
[02:37:12] <doomlord_> most existing engines will be C++ , i guess they will be hard to emit bindings for
[02:37:24] <doomlord_> i have NIH and want to write a new 3D lib if that helps
[02:37:39] <doomlord_> i haven't mastered rust yet though lol
[02:37:56] <bjz> doomlord_: what kind of 3D lib?
[02:38:19] <doomlord_> everything. i'm an ex console developper
[02:38:33] <doomlord_> i've done driving games
[02:38:34] <bjz> kiro: I have a maths library, but to be honest I have trouble keeping it up to date with the language
[02:39:18] <kiro> I'd be interested in using and contributing to a 3D lib... I'm working on a game, the server is in Go... but Go has no 3D projects so I'm using plain GL, which is a pain
[02:39:36] <doomlord_> i was thinking of porting a model converter to rust as an excercise in learning the language, i've got an FBX reader that doesn't use the autodesk sdk
[02:39:46] <kvark> I can't resist pointing to my engine: https://code.google.com/p/claymore-game/source/browse/#hg%2Fengine
[02:39:52] <bjz> kiro: yeah, I'm interested in 3d libs, not so much frameworks/engines
[02:40:32] <cmr> 3d libs like as in irrlicht?
[02:40:40] <kiro> cmr: ya
[02:40:40] <cmr> or is that considered engine
[02:40:54] <kiro> Well... 3d lib'engine is a fuzzy line
[02:41:10] <doomlord_> engine/lib/framework..hmmm.
[02:41:22] <cmr> I've never done any 3d work except toying with opengl, it probably shows ;)
[02:41:29] <doomlord_> a framework is a collection of libs, an engine is somewhere between ?
[02:41:49] <cmr> As I understand it, engine is code you call, frameworks call the code you write.
[02:42:03] <bjz> kiro: https://github.com/bjz/glfw-rs https://github.com/bjz/lmath-rs https://github.com/Jeaye/q3
[02:42:09] <Jeaye> Well, there're plenty of OpenGL bindings. I recommend rust-opengles.
[02:42:16] *** Quits: dumitru (dgherman@moz-7C253BEB.getcadre.com) (Ping timeout)
[02:42:16] <bjz> kiro: lmath is broken at the moment
[02:42:25] <kiro> A pure lib would just be a wrap for GL... but touching gl directly is a pain, the simplest "engine" just makes it GL OO style "here's stuff, render it"
[02:42:33] *** Joins: dumitru (dgherman@moz-7C253BEB.getcadre.com)
[02:42:40] <cmr> scene graph dealeo?
[02:43:25] <doomlord_> has anyone here come from C++ and is finding rust more productive yet or is it all alpha teething and learning
[02:43:35] <kiro> ya, although OSG is C++ and not C.. whic is annoyying
[02:43:50] <Jeaye> doomlord_: I program C++ for a living, and I find Rust very enjoyable.
[02:43:52] <cmr> I haven't used rust to be productive, but I already prefer it a lot to C++
[02:44:21] <doomlord_> i have stockholm syndrome i think. i love the idea of rust but keep bumping into little things i miss about my captor
[02:45:05] <doomlord_> still new territory is interesting in itself
[02:45:13] <Jeaye> Aye.
[02:45:16] *** Quits: reed (reed@tech.monkey) (Ping timeout)
[02:45:20] <kiro> Go, ObjC, C#, Python, Ruby.... pretty much everything is better than C++ when it comes to being programmer friendly... if you wanted verbose, java lol
[02:46:00] <Jeaye> Eh
[02:46:02] <doomlord_> i wondered how much effort it would be to make a custom version of clang where you can declare member functions outside the class - this alone would eliminate 50% of my C++ frustration
[02:46:05] * Jeaye doesn't take the bait.
[02:46:08] <kiro> I program C but can't stand C++... also people who do not nicely format their code... Go is a formatting nazi which is nice for readability 
[02:46:42] <doomlord_> i can't stand the interaction of classes & header files in C++
[02:46:47] *** Joins: reed (reed@tech.monkey)
[02:46:55] <kiro> rust seems like a more lax, down to earth Go...
[02:47:08] <cmr> I don't terribly mind c++, but I find it too complex.
[02:47:08] *** Quits: jrfeenst (jrfeenst@moz-3265BD65.cpe.norwoodlight.com) (Quit: jrfeenst)
[02:47:10] <doomlord_> i think rust is more complex than go, more generic
[02:47:17] <bjz> aye
[02:47:22] <doomlord_> i like my subset of C++, i hate the mainstream..
[02:47:39] *** Quits: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP) (Client exited)
[02:47:40] <bjz> some complexity is neccsary though, to achieve rust's goals
[02:47:57] <doomlord_> complexity is not bad. building on broken features is bad
[02:48:02] <bjz> Go has different priorities, which is perfectly fine
[02:48:04] <cmr> The only thing I miss from rust right now is a working compiler and associated items ;)
[02:48:12] <bjz> hah
[02:48:16] <bjz> :)
[02:48:24] <doomlord_> there's still things i would want added to C++, if anyone thinks its "too complex" :)
[02:48:34] <bjz> modules?
[02:48:36] <bjz> :P
[02:48:42] <doomlord_> some sort of reflection
[02:48:42] <cmr> I enjoy that the project is young enough that I can start sending in patches on day 2 of learning it though
[02:48:47] <doomlord_> compile time only
[02:48:51] <kiro> Is there a fmt-like(go fmt) tool for rust?
[02:48:58] <cmr> kiro: rustc --pretty
[02:49:06] <kiro> ahh, nice
[02:49:15] <cmr> I think
[02:49:43] <cmr> yeah
[02:50:09] <doomlord_> it seems i like C++ overloading, this is what i keep missing; even before 11 you could hack n-ary functions and so on
[02:51:21] <doomlord_> reflection: is there a way to automate generating a function to turn a struct into JSON
[02:51:47] <Jeaye> Yeah, I miss overloads, too.
[02:51:59] <kiro> I like to confuse java and javascript things to enrage people... like json
[02:53:42] <lieshidden> wow this takes forever to compile lol
[02:54:40] *** Joins: umbridge (Mibbit@E248DB08.9470356F.5B864609.IP)
[02:54:41] *** Quits: zz_kimundi (kimundi@moz-D3120F35.dip0.t-ipconnect.de) (Ping timeout)
[02:54:50] <kiro> Go has spoiled my with it's quick compiles... I don't even save binaries anymore... just run from source
[02:55:24] <doomlord_> so rust is a lot longer to compile because its got generic functions ?
[02:55:25] <cmr> How quick is quick? Milliseconds?
[02:55:55] <cmr> doomlord_: the compiler isn't really optimized yet, afaik.
[02:56:01] <doomlord_> oh and it must do work at compile time for pointers... rust switches the work to runtime
[02:56:03] <strcat> haven't seen any numbers
[02:56:10] <cmr> but compiling the rust compiler itself really does take quite some time
[02:56:19] <doomlord_> yeah i noticed...
[02:56:31] <kiro> cmr: My biggest thing takes 1 second, the only slow thing is when you're using a pile of C libs
[02:56:34] <doomlord_> how do you manage that working on it
[02:56:37] <lieshidden> Yes it does.  However, if it's half of what I've read about it, it will be well worth it.
[02:56:51] <strcat> doomlord_: it's 12 mins - not that bad
[02:57:08] <bjz> doomlord_: I do like overloading too
[02:57:08] <kiro> I'm guessing rust is more for portability and speed than compile time... whick is nice, but not super practical irl
[02:57:20] <strcat> the tests are another 15-20 though
[02:57:44] <strcat> kiro: have you measured the compile-time of something vs other languages?
[02:57:45] <cmr> kiro: it's still very young
[02:58:06] <Sodel_the_V> Hey, seize the opportunities that slow compiles give you! http://xkcd.com/303/
[02:58:10] <doomlord_> http://pastebin.com/FNMD8wtY
[02:58:29] <cmr> A simple base64 encoder/decoder I have takes 0.43s to build, which isn't bad
[02:58:35] <doomlord_> does rust have anything to automate this.. reflection / macros ..
[02:58:39] *** Joins: zz_kimundi (kimundi@moz-9DF20B41.dip0.t-ipconnect.de)
[02:59:00] <kvark> does anyone know an XML parser on Rust?
[02:59:04] *** zz_kimundi is now known as kimundi
[02:59:09] *** Quits: doener (doener@moz-724BBC7C.unitymediagroup.de) (Ping timeout)
[02:59:30] <kiro> xml is evil, i wish it weren't so popular
[02:59:34] <bjz> doomlord_: we have macros. can't export them yet though, which is a pain
[02:59:38] <doomlord_> +1, xml ...
[02:59:51] <kvark> you advocate for json instead?
[03:00:02] <doomlord_>  i much prefer json to xml
[03:00:07] <bjz> s-expressions ftw
[03:00:16] <kiro> ya i use json... and my own formats because i'm a hipster
[03:00:28] <bjz> :)
[03:00:31] <doomlord_> i'd rather use s-expressions than xml
[03:00:41] <cmr> s-exps ain't bad at all!
[03:00:56] <tiffany> I like yaml
[03:01:02] *** Quits: brson (brson@2557E599.66715431.D25A875A.IP) (Quit: leaving)
[03:01:02] <kiro> I can't use s-expressions, i have flashbacks of regular-expressions
[03:01:02] <kvark> thanks for the pointers
[03:01:05] <doomlord_> i like what clojure does, s-expressions plus [] and {} for vectors & maps
[03:01:14] * bjz tries to find the Rebol fellows rant against xml
[03:02:10] <tiffany> xml doesn't map very well to data structures, and at the same time offers no benefit for human readers
[03:02:36] <cmr> What more could you need than acyclic trees?
[03:03:02] <kvark> tiffany: I used Json but then realised my data is a document, and JSON is not for that, but XML is
[03:03:34] <kvark> is there anything (libs/examples) with s-exps on Rust?
[03:03:44] <bjz> http://www.rebol.com/article/0108.html http://www.rebol.com/cgi-bin/blog.r?view=0522
[03:03:54] <bjz> kvark: highly doubt it
[03:04:05] <bjz> kvark: it wouldn't be too hard to make though
[03:04:40] *** Quits: kiro (Mibbit@moz-10CABA48.cpe.distributel.net) (Quit: http://www.mibbit.com ajax IRC Client)
[03:05:25] <Sodel_the_V> I've written sexp parsers before. If nobody else does it, I might make that my next project.
[03:06:26] <bjz> Sodel_the_V: that would be cool
[03:06:28] <bjz> :)
[03:06:57] <bjz> a peg lib would be nice
[03:07:05] <cmr> mm, yes it would
[03:07:13] <bjz> http://www.youtube.com/watch?v=t5X3ljCOFSY
[03:07:28] <bjz> nice talk on parsely^
[03:07:36] <bjz> (python peg lib)
[03:07:42] <Sodel_the_V> Oo, I'll watch that!
[03:07:47] <cmr> I wonder if a snobol-like peg library
[03:07:53] <cmr> is feasible in rust*
[03:08:03] <cmr> (like lpeg)
[03:08:05] <doomlord_> is there anything to aid writing serializers
[03:08:10] <doomlord_> (reflection)
[03:08:14] <bjz> https://pypi.python.org/pypi/Parsley
[03:08:36] <Sodel_the_V> cmr: Any good references on PEG in SNOBOL?
[03:09:06] <cmr> Sodel_the_V: http://en.wikipedia.org/wiki/SNOBOL it had patterns as a first-class type
[03:09:26] <bjz> Sodel_the_V: sorta like perl 6?
[03:09:42] <bjz> *cmr
[03:10:01] <cmr> bjz: no idea, I know nothing about perl
[03:10:09] <cmr> http://www.inf.puc-rio.br/~roberto/lpeg/
[03:10:09] <bjz> cmr: perl6 has grammars in the language
[03:10:50] *** Joins: wilma (Mibbit@moz-B03810ED.fai.dsl.dynamic.acsalaska.net)
[03:10:57] *** Joins: dylukes (dylukes@moz-E4DF3FED.pitbpa.fios.verizon.net)
[03:11:23] *** Quits: themgt (themgt@moz-12C18812.dhcp.gnvl.sc.charter.com) (Quit: themgt)
[03:15:49] *** Joins: cuemin (Quemin@10C68FF8.8F293D07.59A90BC7.IP)
[03:15:53] <cuemin> evening
[03:15:57] <bjz> hoy
[03:16:58] <cuemin> how do people currently implement linking to external rust libraries? for instance, your bindings to sdl
[03:16:58] <Sodel_the_V> Hail!
[03:17:14] <cmr> "extern mod foo;"?
[03:17:28] <cuemin> and then just supply the path to where that library exists?
[03:17:39] <bjz> -L <path>
[03:17:49] <cuemin> oh okay
[03:17:54] <strcat> if you have it installed with rustpkg it will find it
[03:17:58] <strcat> without a switch
[03:18:08] <bjz> does rustpkg work?
[03:18:10] *** Quits: wilma (Mibbit@moz-B03810ED.fai.dsl.dynamic.acsalaska.net) (Quit: http://www.mibbit.com ajax IRC Client)
[03:18:12] <strcat> bjz: yes
[03:18:15] <cuemin> ah yeah, just got rustpkg to compile on windows
[03:18:15] <strcat> works well enough
[03:19:55] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[03:19:57] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[03:19:57] <ghrust> 01[13rust01] 15bors merged 06auto into 06incoming: 02http://git.io/WCR8kw
[03:19:57] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[03:21:29] <lieshidden> wow, still compiling and linking lol
[03:21:38] <doomlord_> <kvark> tiffany: I used Json but then realised my data is a document, and JSON is not for that, but XML is
[03:21:39] <doomlord_> <kvark> is there anything (libs/examples) with s-exps on Rust?
[03:21:39] <doomlord_> <bjz> http://www.rebol.com/article/0108.html http://w
[03:21:45] <doomlord_> oops
[03:21:54] <doomlord_> http://smallcultfollowing.com/babysteps/blog/2012/02/09/auto-serialization-in-rust/
[03:22:09] <doomlord_> ^^^ is this out of date... "iface"... and anonymous structs
[03:22:11] * lieshidden chuckles
[03:22:29] <cmr> Feb 9, 2012
[03:22:33] <cmr> What do you think? :P
[03:23:08] <doomlord_> https://github.com/mozilla/rust/issues/3714
[03:23:25] <doomlord_> ^^^ "visitor-based reflection facilities" ... does such a thing exist ?
[03:23:33] *** Joins: steven_is_false (quassel@moz-CC7A2623.bchsia.telus.net)
[03:24:00] <strcat> yes that's what fmt("%? %?", a, b) uses
[03:24:07] <strcat> doomlord_: it's runtime reflection
[03:24:26] <strcat> in core::reflect
[03:24:33] <doomlord_> ok but how do i step through the members of a struct
[03:25:24] <cmr> What order does bors process PRs in?
[03:25:45] <cmr> FIFO?
[03:25:52] <strcat> cmr: when someone reviews, they can set a priority
[03:25:54] <strcat> with p=#
[03:26:12] <strcat> when stuff has the same priority, it deals with the oldest first
[03:26:34] <strcat> if it has 4 pulls queued up and an older one gets reviewed, the older one will be dealt with first
[03:26:49] <strcat> it's not really a queue at all
[03:27:15] <cmr> mm
[03:27:17] <cmr> strcat: thanks
[03:27:49] <strcat> I guess you could say it's a priority queue with (priority, age) as the key ;p
[03:27:50] *** Quits: steven_is_false (quassel@moz-CC7A2623.bchsia.telus.net) (Ping timeout)
[03:27:59] *** Joins: akashj87 (akash@A18A283A.2BC2F975.35E3DDC8.IP)
[03:28:13] <kvark> tiffany: I found YAML interesting, in particular due to the ability to add custom types. The wiki page doesn't mention any bindings for Rust though.
[03:29:30] <bjz> kvark: I doubt you'll find anything bar the json support in std
[03:30:00] <strcat> C libraries are easy enough to use from rust
[03:30:06] <kvark> was hoping for some user libs
[03:30:06] <bjz> yah
[03:30:29] <bjz> that's alot to hope for at this stage :)
[03:30:51] *** Joins: akashj87_ (akash@216F4CFC.B8B0670E.35E3DDC8.IP)
[03:31:07] <doomlord_> interesting that with C being used in FFI, there is a need for C wrappers for C++ libraries when usually C++ programmers would be doing the reverse
[03:31:11] *** Quits: akashj87_ (akash@216F4CFC.B8B0670E.35E3DDC8.IP) (Connection reset by peer)
[03:31:25] *** Quits: akashj87 (akash@A18A283A.2BC2F975.35E3DDC8.IP) (Ping timeout)
[03:31:29] <cmr> well C is a hell of a lot easier to call and use
[03:31:50] <doomlord_> its good that C lives on - its good to be able to peel back some of the complexity
[03:32:00] *** Quits: dylukes (dylukes@moz-E4DF3FED.pitbpa.fios.verizon.net) (Quit: ["Textual IRC Client: www.textualapp.com"])
[03:32:32] *** Joins: catpiggest (catpig@moz-48B9B5A3.dip0.t-ipconnect.de)
[03:32:55] *** Quits: btipling (btipling@moz-5413CFA4.hsd1.ca.comcast.net) (Quit: Computer has gone to sleep.)
[03:33:42] *** Quits: catpigger (catpig@moz-92DE9901.dip0.t-ipconnect.de) (Ping timeout)
[03:34:20] <heftig> writing a stable interface making good use of C++'s features is also hard
[03:35:13] <heftig> you don't want to have to recompile all users of the library just because you changed some internal details that aren't really part of the API
[03:35:21] <cuemin> So if I load a module in the main crate file of a project, can I use methods exposed by module A loaded in the crate in module B without explicitly declaring "mod A"?
[03:35:44] <doomlord_> ^^^ i find this too, C++ puts way more in the headers hence more recompiling
[03:36:07] *** Joins: themgt (themgt@moz-692B8AEF.dhcp.gnvl.sc.charter.com)
[03:36:32] *** Quits: themgt (themgt@moz-692B8AEF.dhcp.gnvl.sc.charter.com) (Client exited)
[03:36:37] <cmr> cuemin: TIAS?
[03:36:54] <cuemin> cmr: "TIAS"?
[03:36:58] <cmr> try it and see
[03:37:01] <strcat> heftig: well you essentially can't use any of the features for an ABI meant to be called from other languages ;p
[03:37:10] <cuemin> I'm doing that, and it seem to do so, but it doesn't make intuitive sense
[03:37:25] <heftig> strcat: no, that applies even if you're only using C++
[03:37:58] <cmr> cuemin: can you make an example gist? I can't really follow your question
[03:38:29] <cuemin> sorry, I realize it's a trainwreak of a sentence :P 
[03:39:18] <strcat> heftig: it's the same stuff that applies to C though - either you expose struct size in the headers or you pay the overhead of PIMPL
[03:39:29] <strcat> and you can't use macros/templates unless you're absolutely sure they won't change
[03:40:16] <strcat> C++ encourages you to allocate more on the stack since it has 'private', which ofc means it's more tempting to not make a stable ABI
[03:41:00] <doomlord_> you can have some structs in the headers where you need them.. just the structs used in interfaces
[03:41:15] <strcat> if you want a stable ABI you have to commit the struct sizes
[03:41:15] <doomlord_> most objects are things that you create getting a pointer to them
[03:41:28] <strcat> private fields are still part of the public API
[03:41:36] <strcat> commit to the struct sizes*
[03:42:01] <doomlord_> Foo.h:struct Foo;  Foo* NewFoo(...);  void DeleteFoo(Foo*); 
[03:42:07] <strcat> doomlord_: well sure, if you use PIMPL everywhere - wrap every struct in an allocation and stop them from allocating it on the stack
[03:42:40] *** Quits: jack (jack@moz-F1B36F9F.hsd1.nm.comcast.net) (Quit: Leaving.)
[03:42:48] <doomlord_> but there's the case of not using PIMPL, and just requiring that a library user takes pointers
[03:43:10] <doomlord_> not good for fine grain things of course
[03:43:21] <strcat> so you aren't using templates, you aren't using visibility specifiers, you aren't using the stdlib because the different implementations have different ABIs and change them now and then
[03:43:24] <heftig> could this have been fixed by making struct sizes symbols of the library?
[03:44:01] <strcat> heftig: dunno, it would be hard to fix
[03:44:14] <strcat> because if you know the size of the struct, you end up with a bunch of functions/structs depending on it
[03:44:18] *** Quits: reed (reed@tech.monkey) (Ping timeout)
[03:44:27] *** Joins: reed (reed@tech.monkey)
[03:44:41] <cmr> libpng went through that hell and now have only getters/setters that take an opaque pointers
[03:44:49] <strcat> putting as much as possible on the stack is nice but the opposite of ABI stability
[03:44:59] <strcat> cmr: gtk/glib did too
[03:45:05] <strcat> that's pretty much the big change from gtk2 -> gtk3
[03:45:21] <heftig> now gtk3 breaks theming with every minor release
[03:45:37] <heftig> i suppose the engines use internal API
[03:45:51] <heftig> and ABi
[03:48:01] <strcat> and then you have plan9/go that just reject dynamic linking and don't worry about all that work for the sake of ABI compat ;P
[03:48:04] *** Quits: kvark (Mibbit@moz-46F48A13.cpe.distributel.net) (Quit: http://www.mibbit.com ajax IRC Client)
[03:51:04] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.0)
[03:52:02] *** Joins: jack (jack@moz-F1B36F9F.hsd1.nm.comcast.net)
[03:54:25] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[03:56:23] *** Quits: Benvie (brandon@155E3330.3C2A3393.D4A9B473.IP) (Ping timeout)
[03:57:39] *** Joins: Benvie (brandon@155E3330.3C2A3393.D4A9B473.IP)
[03:58:04] *** Joins: wilsonk|2 (kvirc@moz-39EFBFC2.cg.shawcable.net)
[03:58:04] *** Quits: int3_ (int3_@moz-432A7121.public.wayport.net) (Client exited)
[03:58:53] *** Quits: wilsonk-laptop (kvirc@moz-39EFBFC2.cg.shawcable.net) (Ping timeout)
[03:59:13] <lieshidden> Finally installed :) tested and working.  Now, to learn a new language!
[04:01:17] *** Quits: reed (reed@tech.monkey) (Ping timeout)
[04:01:28] *** Joins: reed (reed@tech.monkey)
[04:02:49] <bjz> lieshidden: yay!
[04:02:53] <bjz> gl!
[04:03:06] <bjz> feel free to ask questions
[04:03:14] *** Quits: reed (reed@tech.monkey) (Ping timeout)
[04:03:31] <lieshidden> Will Mozilla be hiring in about a year when I graduate college? :P
[04:03:48] <bjz> lieshidden: have you seen the Tutorial?
[04:03:58] *** Joins: int3_ (int3_@moz-B987FF6E.subnet-248.amherst.edu)
[04:04:01] <lieshidden> Yes, I'm reading through it again. :)
[04:04:13] <bjz> good
[04:04:25] *** Quits: Erik (Erik@moz-252DBA2.hsd1.co.comcast.net) (Ping timeout)
[04:04:27] <bjz> remember, some of the text might be out of date
[04:04:39] *** Joins: reed (reed@tech.monkey)
[04:04:46] <bjz> but the code is up to date, because it's covered by tests
[04:05:04] <doomlord_> can't seem to find docs explaining rust reflection
[04:05:18] <bjz> there probably isn't any :)
[04:05:40] <bjz> you could write some?
[04:05:51] <doomlord_> i could, if i understood rust reflection 
[04:05:51] <bjz> I'd like to know how reflection works
[04:06:34] *** Joins: lmandel (lmandel@FE1F74.86ED00A7.971E19F6.IP)
[04:06:45] <bjz> well, we spend a while figuring this stuff out ourselves, then share the knowledge
[04:06:47] <bjz> :)
[04:07:03] <lieshidden> You could always experiment, doomlord  :)
[04:07:11] <doomlord_> i think i read that some of the macros are actually built into the language itself
[04:07:39] <doomlord_> eg hardcoded in the compiler (using features they dont yet have a language interface for )
[04:08:16] <doomlord_> i wonder if rust can do better than the "x-macros" technique in C for this...
[04:09:01] <cmr> doomlord_: have you seen rust macros? they're pretty great.
[04:09:10] <cmr> I suggest poking through the rust source code.
[04:09:18] <cmr> Best examples of rust you'll find :)
[04:10:17] *** Quits: reed (reed@tech.monkey) (Ping timeout)
[04:10:57] <doomlord_> i supose it might be able to match this sort of thing. #define STRUCT3(name0,type0,name1,type1,name2,type2) /* declare the struct with 3 elements*/ .. /* delcare the serializer for those*/ ... but that kind of C  mess is what makes you search for a new language 
[04:11:34] *** Joins: reed (reed@tech.monkey)
[04:11:35] <doomlord_> ok i will work through the macros tutorial..
[04:15:37] *** Quits: pseudoku (quassel@4C3E7F68.1137763F.C28326FD.IP) (Ping timeout)
[04:16:23] <aatch> Hmm, whats a good way to do a string-keyed hashmap without copying the key for lookup?
[04:16:28] *** Joins: brson (brson@E9CDE21E.991753BB.CA4D1600.IP)
[04:16:28] *** ChanServ sets mode: +o brson
[04:17:33] *** Joins: pseudoku (quassel@5A794827.E432F19B.C28326FD.IP)
[04:20:19] *** Quits: reed (reed@tech.monkey) (Ping timeout)
[04:20:34] *** Joins: reed (reed@tech.monkey)
[04:23:15] <aatch> Godammit, I really don't want to copy strings just for key lookups
[04:26:23] *** Quits: reed (reed@tech.monkey) (Ping timeout)
[04:26:32] *** Joins: reed (reed@tech.monkey)
[04:30:39] *** Joins: BizarreCake (BizarreCak@32C9829A.151E84E7.561471F8.IP)
[04:31:45] <Sodel_the_V> I'm refactoring a bit of functionality in the compiler into a function, to avoid code duplication. It returns a vector of a trait's methods, along with the methods of its supertraits. I'm leaning towards naming it trait_and_super_methods() (so it's similar to trait_methods(), which already exists). Anyone object, or have a better idea?
[04:33:03] <Sodel_the_V> or, should trait_methods() actually be returning supertraits?
[04:33:12] <Sodel_the_V> supertraits' methods*
[04:34:17] *** Quits: brson (brson@E9CDE21E.991753BB.CA4D1600.IP) (Ping timeout)
[04:35:08] <doomlord_> ok it seems rust macros can do my desired "n-ary print" quite ok. i'm happy.
[04:38:43] *** Joins: brson (brson@58B3E13.EF2694B5.DFAC6AA7.IP)
[04:38:43] *** ChanServ sets mode: +o brson
[04:44:06] *** Joins: johnmurray (jmurray@ACD2FD1.1781649A.A0D3DFE2.IP)
[04:44:52] <lieshidden> I'd like to point out that the tutorial gets real complicated real quickly lol.
[04:45:03] <lieshidden> really* quickly
[04:45:31] <cmr> yeah
[04:45:38] <bjz> lieshidden: any suggestions?
[04:46:49] *** Quits: pseudoku (quassel@5A794827.E432F19B.C28326FD.IP) (Ping timeout)
[04:47:07] <lieshidden> At this time, no, but I'll keep them in mind.  I figured I'd point that out, though, because it might be something to work on.
[04:47:49] <bjz> cool
[04:47:57] <bjz> that'd be really helpful
[04:48:15] <bjz> having feedback from newcomers is really valuable
[04:48:46] *** Joins: pseudoku (quassel@D4779829.3A2BE5E6.C28326FD.IP)
[04:49:05] <bjz> doomlord_: atan2 is specific to floating-points right? ie. it wouldn't be something you'd add to Reals, right?
[04:49:13] <bjz> doomlord_: abit like fma
[04:49:26] <doomlord_> it needs fractional numers
[04:49:32] <doomlord_> it needs fractional numbers, 
[04:49:43] <doomlord_> isn't Real a superset of float
[04:50:05] <doomlord_> eg if you had fixed point numbers, or "fractions", etc .... you could still implement atan2 for those
[04:50:33] <doomlord_> . The real numbers include all the rational numbers, such as the integer âˆ’5 and the fraction 4/3, and all the irrational numbers such as âˆš2 (1.41421356â€¦ the square root of two, an irrational algebraic number) and Ï€ (3.14159265â€¦, a 
[04:50:40] <doomlord_> ^^ from wikipedia. 
[04:50:54] <bjz> but is the motivation hardware wise?
[04:50:58] <bjz> like fma?
[04:51:06] <doomlord_> oh sure. if you want FAST atan2... thats floats
[04:51:18] <bjz> yeah, thought so
[04:51:36] <bjz> I think atan2 is on Haskell's Floating type class
[04:51:38] <doomlord_> that would be the priority for support. (i think for completeness, it would be nice to be able to implement the same named function generically ? )
[04:51:56] <bjz> I had it on Real
[04:52:03] <doomlord_> i dont know my way around either haskell or rusts' typeclass heirachy 
[04:52:10] <bjz> but I'm considering moving it to Float
[04:52:11] *** Joins: mzabaluev (mzabaluev@moz-F3BF265C.dhcp.inet.fi)
[04:52:38] <doomlord_> let me understand the implmications of a trait..
[04:53:13] <doomlord_> could you put it in its own trait - transcendental operations
[04:53:27] <bjz> ?
[04:53:35] <doomlord_> then Real and Float implement ("derive"?) transcendental operations
[04:53:41] <bjz> transcendental operations?
[04:53:58] <doomlord_> sin, cos, exp ,atan2 etc
[04:54:20] <doomlord_> http://en.wikipedia.org/wiki/Transcendental_function
[04:54:40] <bjz> hmm, with default impls?
[04:54:46] <doomlord_> yeah. 
[04:54:50] *** Quits: lmandel (lmandel@FE1F74.86ED00A7.971E19F6.IP) (Quit: lmandel)
[04:54:51] <bjz> yes
[04:54:56] <bjz> but not yet :(
[04:55:01] <doomlord_> plain old series implementation, then you replace it with efficient hardware implementation
[04:55:06] <doomlord_> for the float type :)
[04:55:11] <bjz> (because default impls are broked)
[04:55:15] <bjz> ahh
[04:55:29] <doomlord_> ah so you just need to put it somewhere temporarily.. 
[04:55:46] <bjz> so you reackon keep atan2 on Real?
[04:56:11] <doomlord_> can you confirm/deny if trait inheritance works
[04:56:24] <bjz> trait inheritance works
[04:56:32] <doomlord_> trait Real : Add+Multiply+Divide+Sub+Transcendental ... { .... }
[04:56:39] <bjz> aye
[04:57:15] <doomlord_> trait Transcentental: Add+Mu... {    fn atan2()->  ;... fn sin()->; /* TODO: default imps*/} 
[04:57:28] * bjz wonders if we need a Transcendental trait
[04:58:05] <doomlord_> i dont have experteise to comment, (not having worked with a trait/typeclass language seriously), but
[04:58:18] <doomlord_> .. if you just break the traits up... do you really lose anything maintainance wise
[04:58:23] <johnmurray> lieshidden: There is a "Rust for Rubyists" that might be a more gentle introduction: http://www.rustforrubyists.com/
[04:58:31] <doomlord_> you expose the ability to implement a subset
[04:58:35] <bjz> doomlord_: here's it in num: https://github.com/mozilla/rust/blob/master/src/libcore/num/num.rs
[04:58:44] <johnmurray> lieshidden: You don't really have to know Ruby for the guide to be useful
[04:58:44] <bjz> doomlord_: not really I don't think
[04:59:02] <lieshidden> I think I'm absorbing most of it, might need to go over it a time or two more though, especially the last half.
[04:59:03] <doomlord_> and thats the beauty of traits versus inheritance
[04:59:31] <bjz> doomlord_: some of those operations will be removed from Num
[04:59:50] <bjz> doomlord_: probably just have Add+Sub+Mul
[05:00:28] <doomlord_> and not 'Div' because that doesn't necaserily work for integers ? (Div means strict inverse of multiply)
[05:00:46] *** Joins: pnathan (pnathan@moz-F1EB55E5.pools.spcsdns.net)
[05:00:55] <doomlord_> (a/b)*b must  equal a ... which it doesn't for ints
[05:01:03] <bjz> yep
[05:01:30] <bjz> Hmm
[05:01:37] <bjz> that makes me think
[05:01:59] <doomlord_> are you "on the rust team" and authorized to change all this around
[05:02:22] <bjz> I'm not on the rust team, but I seem to be the one working on core::num
[05:02:26] <doomlord_> something as fundemental as math/num .. is this controlled beyond a free for all comit what you like
[05:02:36] *** Quits: pnathan (pnathan@moz-F1EB55E5.pools.spcsdns.net) (Ping timeout)
[05:02:39] <bjz> no, it needs to be reviewed
[05:02:59] <bjz> doomlord_: eg. https://github.com/mozilla/rust/pull/6094
[05:03:11] <bjz> we have an issue: https://github.com/mozilla/rust/issues/4819
[05:03:25] <bjz> please get involved if it interests you
[05:03:36] <doomlord_> yeah this all interests me
[05:03:43] <doomlord_> thanks for the info
[05:04:01] <bjz> doomlord_: could you review this? https://github.com/mozilla/rust/pull/6094
[05:04:27] <bjz> my interest in this is I'm making a 3d math library
[05:04:40] <bjz> and I needed better generic support for numbers
[05:04:47] <doomlord_> i "do 3d math" , but haven't done anything in rust as yet
[05:04:55] <bjz> neat!
[05:05:15] <doomlord_> i've done console driving games. car physics , toolchains, rendering
[05:05:25] <bjz> doomlord_: here's my lib atm: https://github.com/bjz/lmath-rs
[05:05:33] <bjz> but there's plenty I could improve
[05:05:49] *** Joins: pnathan (pnathan@moz-F1EB55E5.pools.spcsdns.net)
[05:05:51] <bjz> pretty much started out as a learning exercise
[05:06:06] <doomlord_> this seems like an exciting time to be in the language, able to get input into the standard library.. :)
[05:06:13] <bjz> aye
[05:06:21] <bjz> so yes
[05:06:25] <bjz> speak now
[05:06:39] <doomlord_> http://en.wikipedia.org/wiki/Bizarre_Creations <<< i was technical director here , RIP
[05:06:45] <bjz> or forever hold your peace :D
[05:06:59] <bjz> nice!
[05:07:22] <doomlord_> i have a lot of C++ angst, i've seen C++ failings in our environment..
[05:07:34] <bjz> yeah it's good to be able to hear from experienced folk like you
[05:07:42] <doomlord_> i absolutely despise the way class heirachies and methods work in C++. 
[05:08:03] <bjz> traits do have their problems too
[05:08:05] <doomlord_> after many years i came to realize C and plain functions really were better.
[05:08:17] <bjz> although they are being ironed out slowly
[05:09:26] <doomlord_> What i saw was the problem refered to as "gorrilla banana".. once you build classes that refer to eachother, the headers bring in so much context, you can't change components
[05:09:38] <bjz> ha
[05:09:45] <doomlord_> so we had teams and individuals fightin over rewrites of the  *classes*
[05:09:57] <doomlord_> in plain C, you just take it on a function by function basis. 
[05:09:59] <bjz> gorilla banana? like the game?
[05:10:19] <doomlord_> "gorrilla banana problem": you ask for a banana, you get the gorilla holding it, and the jungle
[05:10:28] <doomlord_> "gorilla banana problem of OOP"
[05:10:29] *** Quits: pnathan (pnathan@moz-F1EB55E5.pools.spcsdns.net) (Quit: Colloquy for iPhone - http://colloquy.mobi)
[05:10:31] <bjz> ahh
[05:10:40] <bjz> never heard of it
[05:10:46] *** Quits: noam_ (noam@F6B530A7.720527A7.416762B.IP) (Ping timeout)
[05:10:58] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[05:10:58] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/DJlD3Q
[05:10:58] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[05:11:06] <doomlord_> and the irony of it is , everyone is trained in OOP jargonm, they think that by making classes they are making code "modular" , "reusable" etc
[05:11:14] <doomlord_> its the exact opposite as far as i've seen.
[05:11:26] <bjz> doomlord_: I thought you were talking about this
[05:11:28] <bjz> http://en.wikipedia.org/wiki/Gorillas_%28video_game%29
[05:11:28] <doomlord_> C++ has so many good features though, overloading and templates. hence i dont go back to C
[05:11:31] <bjz> :P
[05:11:32] *** Quits: tcsc (tcsc@moz-A838B260.dhcp.nwtn.ct.charter.com) (Quit: bye!)
[05:11:35] <doomlord_> no :)
[05:12:17] <lieshidden> I think it's time to let my mind settle before I finish reading this tutorial lol... too much information trying to vie for limited space in my noggin :P
[05:12:38] <Jeaye> :P
[05:12:38] <bjz> doomlord_: well we'll see how rust goes. hopefully people won't be cursing it in five or ten years time
[05:12:58] <Jeaye> bjz: They'll either be cursing it, or they won't be using it. :)
[05:13:06] <doomlord_> lol
[05:13:07] <bjz> heh
[05:13:25] <Jeaye> Such is life.
[05:13:27] <lieshidden> I was going to say, if they're cursing it, that means they find it invaluable, but flawed, yet are still using it. :)
[05:13:40] <bjz> doomlord_: there are real challenges I see with traits, but at least they're being hit at this stage
[05:14:00] <doomlord_> tahts the thing i can't really say i hate C++, because i dont go back to C. there's more that i like. its just purist OOP i dislike
[05:14:28] <doomlord_> the basic  idea of traits makes perfect sense to me
[05:15:21] <Jeaye> Well, there's very little need for C, given C++.
[05:15:33] <Jeaye> As Stroustrup said, they should be one language.
[05:15:57] <doomlord_> i like the fact it lives on, i.e. you dont need all the complexity of C++ if you want C alongside 'a.n.other' high level language
[05:16:07] <doomlord_> i think its great you can peel back the complexity
[05:16:28] <SiegeLord> Wonder what Stroustrup meant... because that's seems a silly statement
[05:16:39] <doomlord_> i would like to see C as a strict subset of C++ though (they should make void* work the same in C++ as in C :) )
[05:17:02] <doomlord_> you've got non void* types for safety, you'd just not use void* for typesafe c++ code
[05:17:53] <Jeaye> SiegeLord: https://www.youtube.com/watch?v=KlPC3O1DVcg
[05:19:50] *** Joins: noam (noam@F6B530A7.720527A7.416762B.IP)
[05:21:23] <SiegeLord> I see... well, not going to agree with him on that one
[05:21:33] <bjz> heh
[05:21:42] <Jeaye> Many don't.
[05:22:37] <doomlord_> http://pastebin.com/R5tu4J3T
[05:23:06] <doomlord_> ^^^ macro hacking.. i'm trying to generate a struct along with a 'to_str()' (i'll do a visitor thing eventually)
[05:23:30] <doomlord_> however i can't get it to work (i've found it builds the structs fine)
[05:23:30] <bjz> that's an unfortunate thing that still hasn't been fixed
[05:23:33] *** Quits: pseudoku (quassel@D4779829.3A2BE5E6.C28326FD.IP) (Ping timeout)
[05:23:34] <SiegeLord> That's the macros can only do one statement at a time
[05:23:49] <doomlord_> ahhh.
[05:23:49] <bjz> doomlord_: https://github.com/mozilla/rust/issues/4375
[05:24:15] <bjz> I've been waiting for a while. eventually they'll get to it. just a lot on their plate atm.
[05:24:25] <doomlord_> fair enough
[05:24:34] <bjz> same with macro exporting
[05:24:46] <bjz> but yeah, it'll get there eventually
[05:24:54] <bjz> :)
[05:24:57] <doomlord_> is there a way to hack around it i wonder
[05:25:08] <bjz> you can put the in a mod
[05:25:11] <bjz> *tem
[05:25:14] <bjz> *them
[05:25:29] *** Joins: pseudoku (quassel@90D15956.2BEDFD3D.520CDC98.IP)
[05:26:31] *** Quits: cuemin (Quemin@10C68FF8.8F293D07.59A90BC7.IP) (Quit: Leaving)
[05:26:40] <Jeaye> doomlord_: Like so: https://github.com/Jeaye/q3/blob/master/src/math/vec3.rs
[05:27:47] * Jeaye hasn't yet, admittedly, warmed up to Rust's generics.
[05:27:59] <Jeaye> Still latching onto my C++ habits for those.
[05:30:42] <doomlord_> i might just cut/paste a bit - "make_struct()" and "struct_to_str(*args cut/pasted from the 'make-struct')" .. and wait for the macro system to be fixed
[05:31:09] <cmr> doomlord_: might send a message to the mailing list asking for help
[05:31:17] <cmr> People aren't always online
[05:31:51] <doomlord_> i'm guessing this is just a case of priorities , they can probably judge what the most pressing issues are
[05:32:15] <cmr> won't hurt
[05:32:45] <doomlord_> i dont think i'll find the time to learn the compiler sourcebase enough to fix it myself :)
[05:32:55] <bjz> yeah
[05:33:07] <bjz> that's a difficult thing
[05:33:31] <bjz> I'm mainly a library guy, the compiler stuff is rather magical
[05:33:36] *** Quits: catpiggest (catpig@moz-48B9B5A3.dip0.t-ipconnect.de) (Quit: Verlassend)
[05:34:05] <doomlord_> can people vote on the issues in github
[05:34:33] <cmr> Other than saying "+1" or voicing their agreement, no.
[05:34:41] <bjz> )
[05:34:43] <bjz> :)
[05:34:58] <katis> btw, is it possible to create something like $ident.foo_$ident($ident) with macros? I tried but concat_ident! seems to cause an error if it there is even a hint of a dot anywhere near it
[05:35:00] <cmr> Someone on the list might have a better way to do serialization though
[05:35:18] <bjz> katis: no, not at the moment
[05:35:19] <doomlord_> yeah that is my ultimate goal
[05:35:27] <bjz> concat_itents is broken :(
[05:35:31] <katis> bjz: aww =/
[05:35:50] <bjz> katis: yup
[05:35:59] <bjz> katis: lots of things work though!
[05:36:08] <bjz> :D
[05:36:23] <cmr> I'm off to bed, 'night
[05:36:35] <katis> bjz: yeah, unfortunately that was the last feature I needed for my macro to work :P
[05:36:40] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Client exited)
[05:36:55] <bjz> katis: believe me, I know the feeling
[05:37:53] <bjz> katis: but you have to be prepared to roll up your sleeves and get hacking on the compiler if you want it to get fixed any faster
[05:38:07] * aatch did that
[05:38:25] * bjz finds it abit over his head
[05:38:58] <aatch> Oh, it won't build on my machine with clang. I wonder why? -> Removes dependency on unwind.h, builds on everything.
[05:39:28] <aatch> Unfortunately, the compiler code isn't particularly nice...
[05:39:55] <aatch> I might just try my hand at refactoring it.
[05:41:39] *** Joins: akashj87 (akash@14C1B749.3BEEE978.35E3DDC8.IP)
[05:41:56] <doomlord_> is there a way to get a string literal from an identifier in a macro, i just tried "$arg" and that doesn't do it :)
[05:42:22] <katis> doomlord_: stringify! ?
[05:43:06] <lieshidden> Aiight, 2nd pass complete.. lol, actually, 1st time FULLY through it, the other time I read that, I stopped after I got through the basics, to see if I would like it.
[05:44:04] <Jeaye> Yeah, stringify! is what you want.
[05:44:05] <doomlord_> thanks ! that works
[05:45:41] *** Quits: tiffany (kawaii@moz-1E0FE6E8.dhcp.embarqhsd.net) (Ping timeout)
[05:46:57] *** Joins: akashj87_ (akash@2263D5AF.45379F4E.35E3DDC8.IP)
[05:47:22] *** Quits: akashj87_ (akash@2263D5AF.45379F4E.35E3DDC8.IP) (Connection reset by peer)
[05:47:24] *** Quits: akashj87 (akash@14C1B749.3BEEE978.35E3DDC8.IP) (Ping timeout)
[05:47:24] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[05:49:31] <johnmurray> should initializing an empty array always follow the following form? https://gist.github.com/anonymous/5476034
[05:49:49] <johnmurray> I feel like this should (and probably can) be done in a single line.
[05:50:16] <johnmurray> except that a should be mutable (not in the gist)
[05:51:22] <Jeaye> johnmurray: vec::with_capacity
[05:52:03] <johnmurray> Jeaye: Oh nice, didn't see that one. Thanks!
[05:52:08] <Jeaye> Cheers.
[05:52:58] *** Quits: mzabaluev (mzabaluev@moz-F3BF265C.dhcp.inet.fi) (Ping timeout)
[06:06:46] *** Joins: jviereck (Adium@moz-ED09EB7F.dip0.t-ipconnect.de)
[06:07:04] *** Quits: echristo (echristo@4DCD7CCA.C774595A.5EFB9497.IP) (Ping timeout)
[06:08:28] *** Joins: haplas (Mibbit@moz-42F1B946.atw.dyn.suddenlink.net)
[06:09:19] *** Quits: haplas (Mibbit@moz-42F1B946.atw.dyn.suddenlink.net) (Quit: http://www.mibbit.com ajax IRC Client)
[06:09:19] *** Joins: echristo (echristo@4DCD7CCA.C774595A.5EFB9497.IP)
[06:11:53] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[06:15:03] *** Quits: umbridge (Mibbit@E248DB08.9470356F.5B864609.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[06:15:18] *** Quits: BizarreCake (BizarreCak@32C9829A.151E84E7.561471F8.IP) (Quit: Leaving)
[06:23:46] *** Quits: Jeaye (Jeaye@moz-FD505E54.hsd1.ca.comcast.net) (Quit: zzzZZZzzz)
[06:24:06] <johnmurray> Jeaye: So to understand, when I allocate space in an array, I can't immediately assign into it? Such as: https://gist.github.com/JohnMurray/5476089
[06:28:09] *** Joins: bheylin_ (brianheyli@3B9F3652.B972B104.DC30C6D1.IP)
[06:28:39] *** Joins: cuemin (Quemin@10C68FF8.8F293D07.59A90BC7.IP)
[06:29:01] <cuemin> it doesn't look like vec has a method for taking the first/last N elements of itself; am I missing it or is it not there?
[06:29:26] <cuemin> taking as in returning an owned vector to that memory, not a borrowed slice
[06:31:37] <Luqman> cuemin: you can just call .to_owned() on the slice
[06:32:12] <cuemin> wouldn't that result in the slice copying what it points to though?
[06:33:00] <cuemin> I don't want to prematurly optimize, but I'd like to avoid unneeded overhead
[06:34:38] <SiegeLord> johnmurray, Length and capacity are different things. Maybe you want vec::from_elem instead?
[06:35:38] <johnmurray> Okay, that is exactly what I'm looking for. But now that I've been reading through vec.rs, it's good to get an understanding of both. Thanks!
[06:36:08] <Luqman> cuemin: oh, i don't think that method exists right now. i suppose you could do it manually with shift/pop
[06:37:47] *** Quits: blitter (blitter@moz-48397EA8.dyn.centurytel.net) (Ping timeout)
[06:41:48] <doomlord_> do i have to declare macros with 'pub' to use in another module
[06:47:04] <cuemin> is there some way to imply that a struct is Copyable without having to impl Clone for it? for instance, if it's just a struct of numbers...
[06:47:30] <cuemin> I remember seeing something about a static trait that says it doesn't hold references to other things, which I guess would make it implcitly copyable
[06:50:24] <doomlord_> does "use foo::*" bring in the appropriate module, or do you also need to say "mod foo; use foo::*;"
[06:51:09] *** Quits: cuemin (Quemin@10C68FF8.8F293D07.59A90BC7.IP) (Connection reset by peer)
[06:53:54] *** Quits: bheylin_ (brianheyli@3B9F3652.B972B104.DC30C6D1.IP) (Quit: bheylin_)
[06:57:48] <doomlord_> mod foo; use foo::*; <<<< doesn't work ;     use foo::*; mod foo; <<< does work, seems odd to me
[07:01:00] <aatch> Hmm, anybody here have any idea how to call a callback from inside a task?
[07:01:40] <aatch> As in have a function that takes a callback, which spawns tasks that call the given closure
[07:01:46] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[07:02:21] *** Joins: cdidd (cdidd@moz-5374722.broadband.corbina.ru)
[07:03:09] *** Quits: jviereck (Adium@moz-ED09EB7F.dip0.t-ipconnect.de) (Quit: Leaving.)
[07:05:40] <doomlord_> i'm having difficulty getting it to see macros from one module in another; it will see functions fine.. what might i be doing wrong, should this work?
[07:06:14] *** Joins: Bernkastel (suckmy@7F352483.A9B419CB.1C8C8CE9.IP)
[07:06:44] *** Quits: Bernkastel (suckmy@7F352483.A9B419CB.1C8C8CE9.IP) (Quit: Brain.sys has encountered a problem and needs to close. We are sorry for the inconvenience.)
[07:06:44] <Sodel_the_V> doomlord_: Apparently, you can't export macros yet
[07:06:57] <doomlord_> not even between modules?
[07:07:10] <doomlord_> i'm not trying to do it between crates
[07:07:13] <Sodel_the_V> Seems not
[07:07:25] <Sodel_the_V> Though, that I don't know
[07:07:35] <doomlord_> oh ok.so this is what they mean by macros built-in... they have the common ones built into the compiler ..
[07:07:47] <doy> you should be able to use macros between modules
[07:07:52] <doy> just not between crates
[07:07:53] <aatch> doomlord_, you can use #[macro_escape]
[07:08:03] <aatch> to make them visible between modules
[07:08:23] <aatch> #[macro_escape]; to be precise
[07:08:37] *** Joins: mzabaluev (mzabaluev@moz-F3BF265C.dhcp.inet.fi)
[07:08:37] *** Joins: doener (doener@moz-724BBC7C.unitymediagroup.de)
[07:09:11] <doy> https://github.com/pcwalton/sprocketnes/blob/master/cpu.rs https://github.com/pcwalton/sprocketnes/blob/master/disasm.rs for instance (decode_op!)
[07:10:16] <doomlord_> yikes, i'm getting "attrs on macros are not yet supported" :(
[07:10:25] <doomlord_> rustc 0.6
[07:11:02] <aatch> doomlord_, it's a module attribute
[07:11:09] <aatch> so you need the semicolon at the end
[07:11:57] <Luqman> You can try adding #[macro_escape] to the mod with the macro
[07:12:48] <doomlord_> initially i just tried sticking that in as the first line of my macro source file, now i'm trying creating a module within that sourcefile tagged as you suggest
[07:14:27] *** Quits: mzabaluev (mzabaluev@moz-F3BF265C.dhcp.inet.fi) (Ping timeout)
[07:15:00] <doomlord_> ok thanks, that worked... #[macro_escape];  at the start of my macro source file, i didn't need the inner module
[07:15:04] *** Joins: Blei (philipp@moz-96D25F7A.cust.bluewin.ch)
[07:16:37] <bjz> Luqman: what does #[macro_escape] do?
[07:16:58] <doomlord_> allows macros to be used in other modules
[07:17:16] *** Joins: mzabaluev (mzabaluev@moz-F3BF265C.dhcp.inet.fi)
[07:17:21] *** Quits: Blei (philipp@moz-96D25F7A.cust.bluewin.ch) (Quit: WeeChat 0.4.0)
[07:17:26] <bjz> !!!
[07:17:27] <bjz> wow
[07:17:42] <doomlord_> it seems to compile with "pub macro_rules! ..." but that doesn't work, you need #[macro_escape]; it seems
[07:21:04] *** Joins: tiffany (kawaii@moz-1E0FE6E8.dhcp.embarqhsd.net)
[07:21:23] *** Joins: Blei (philipp@moz-96D25F7A.cust.bluewin.ch)
[07:22:16] *** Joins: engla (engla@moz-E4A8CEF5.customer.cdi.no)
[07:23:43] *** Joins: Blub\w (wry@7E3BB9D.71150E1A.237AE2BA.IP)
[07:26:44] *** Quits: devbug (quassel@moz-E1DE087C.bchsia.telus.net) (Client exited)
[07:27:16] <doomlord_> it seems macros can patch over the need for n-ary functions most of the time
[07:29:18] <bjz> mm
[07:29:28] <bjz> can't do for methods though
[07:29:56] <doomlord_> i find myself fumbling around clumsily less at least.
[07:30:09] <bjz> :)
[07:30:35] <bjz> what are you working on right now?
[07:30:38] <doomlord_> till i tried macros i was constantly missing conversion operators in c++
[07:30:57] *** Quits: johnmurray (jmurray@ACD2FD1.1781649A.A0D3DFE2.IP) (Quit: johnmurray)
[07:31:01] <bjz> ?
[07:31:06] <bjz> conversion operators?
[07:31:37] <doomlord_> class Foo {    operator (Bar)() const { .... convert a Foo to a Bar } .. }
[07:31:45] <doomlord_> class Foo {    operator Bar() const { .... convert a Foo to a Bar } .. }^^^
[07:32:04] <doomlord_> operator= aswell , and constructors... c++ would infer those for you to change between types
[07:32:48] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[07:32:50] <bjz> doomlord_: you could +1 these: https://github.com/mozilla/rust/issues/6016
[07:32:58] <bjz> https://github.com/mozilla/rust/issues/5992
[07:33:27] <doomlord_> i'm in 2 minds about these though, such hidden conversions are difficult to
[07:33:44] <doomlord_> see. they're responsible for some funny patterns in c++ 
[07:34:07] <doomlord_> while (file>>value) { .... } /* not immiediately apparent, thats calling file::operator bool() to test if the file is empty ...! */
[07:34:29] <bjz> heh
[07:34:43] <bjz> you should see haskell
[07:34:57] <doomlord_> yeah, i have tried it , and gave up at some point...
[07:35:14] <doomlord_> "not immiediately apparent" is something you think a LOT when looking at haskell code
[07:35:19] <doomlord_> well for me at least
[07:42:15] <bjz> at least the code is far more concise
[07:42:21] <doomlord_> between conversion operators and multiple macro body statements - i'd +2 the latter and +1 the former
[07:42:34] *** Quits: Sodel_the_V (user@moz-853663E1.va.shawcable.net) (Quit: 'Night, y'all)
[07:44:44] *** Joins: dbaupp (Thunderbir@moz-53CF57B9.lns20.syd6.internode.on.net)
[07:44:59] <bjz> doomlord_: but did the experience of using haskell alter the way you think about programming?
[07:45:22] <doomlord_> yes, that often said statement is true. 
[07:45:34] <bjz> :)
[07:46:32] <doomlord_> i've seen other ideas for how to control side-effects which look easier than monads, a special type that can only be used once
[07:46:55] <doomlord_> but its true haskell generally is really elegant
[07:47:42] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[07:47:59] <doomlord_> the currying is awesome. "$" is ok, i prefer F# 's "|>" .. that combined with partial application is responsible for really concise code..
[07:48:04] *** Joins: SimonSapin (simon@moz-C4A83ED9.net-89-2-126.rev.numericable.fr)
[07:51:16] <doomlord_> amongst other things the fact basic structures are a little broken in haskel put me off
[07:52:49] *** Joins: akashj87 (akash@7375F2C3.46EB02D4.35E3DDC8.IP)
[07:53:38] *** Quits: wilsonk|2 (kvirc@moz-39EFBFC2.cg.shawcable.net) (Ping timeout)
[07:57:46] <ssbr> So, uh, for compiling crates in another build system -- is there something less crazy than this? http://www.bpaste.net/show/Ts0KaItPZ7pZCbsyXt57/
[07:58:00] *** Joins: wilsonk-laptop (kvirc@moz-39EFBFC2.cg.shawcable.net)
[07:58:12] *** Quits: brson (brson@58B3E13.EF2694B5.DFAC6AA7.IP) (Quit: leaving)
[07:58:25] <ssbr> gist of it is that to get the linker options I use RUST_LOG=rustc=1,rustc::back::link , and parse stderr
[07:58:30] <ssbr> ("parse")
[08:06:32] *** Quits: pseudoku (quassel@90D15956.2BEDFD3D.520CDC98.IP) (Connection reset by peer)
[08:09:05] *** Quits: SiegeLord (sl@moz-56D7E78.bstnma.fios.verizon.net) (Quit: It's a joke. It's all a joke.)
[08:09:41] *** Joins: pseudoku (quassel@E0C6A2FD.96D08489.C28326FD.IP)
[08:10:10] *** Joins: jviereck (Adium@moz-ED09EB7F.dip0.t-ipconnect.de)
[08:17:33] *** Quits: mzabaluev (mzabaluev@moz-F3BF265C.dhcp.inet.fi) (Quit: Ð£Ñ…Ð¾Ð¶Ñƒ Ñ Ð¾Ñ‚ Ð²Ð°Ñ)
[08:18:26] *** Joins: Axord (xord@moz-C3CCF156.lsanca.dsl-w.verizon.net)
[08:29:47] <aatch> ssbr, what are you trying to achieve?
[08:32:59] *** Quits: pseudoku (quassel@E0C6A2FD.96D08489.C28326FD.IP) (Ping timeout)
[08:44:19] <engla> doomlord_: function composition and currying together
[08:45:33] *** Joins: tgt (tgt@moz-D59EE478.aztw.cable.virginmedia.com)
[08:45:33] *** Quits: tiffany (kawaii@moz-1E0FE6E8.dhcp.embarqhsd.net) (Ping timeout)
[08:49:48] *** Quits: akashj87 (akash@7375F2C3.46EB02D4.35E3DDC8.IP) (Ping timeout)
[08:51:34] *** Joins: akashj87 (akash@7375F2C3.46EB02D4.35E3DDC8.IP)
[08:51:35] *** Joins: Cromulent (Cromulent@moz-5EAC0C2F.cable.virginmedia.com)
[08:51:36] <doomlord> yes of course
[08:52:16] <doomlord> and laziness really let you use it in ways you couldn't traditionally
[08:53:28] *** Quits: akashj87 (akash@7375F2C3.46EB02D4.35E3DDC8.IP) (Ping timeout)
[08:55:28] *** Joins: akashj87 (akash@7375F2C3.46EB02D4.35E3DDC8.IP)
[08:55:46] *** Quits: akashj87 (akash@7375F2C3.46EB02D4.35E3DDC8.IP) (Connection reset by peer)
[09:01:39] *** Joins: akashj87 (akash@7375F2C3.46EB02D4.35E3DDC8.IP)
[09:09:35] *** Joins: spider-mario (spidermari@moz-EE4B8A09.rev.sfr.net)
[09:16:42] *** Quits: libertas (libertas@3CBD0449.418C4A1B.593B3862.IP) (Ping timeout)
[09:16:50] *** Quits: doublec (doublec@moz-4DA4FA7C.cd.pn) (Quit: Bye )
[09:22:19] <kimundi> doomlord: Not sure if you figured that out already, but your 'macro for defining a struct with serilisation impls' can be written as #[deriving(Encode,Decode)] struct ... { ... } today, I think
[09:23:19] *** Quits: Benvie (brandon@155E3330.3C2A3393.D4A9B473.IP) (Ping timeout)
[09:24:14] *** Joins: Benvie (brandon@155E3330.3C2A3393.D4A9B473.IP)
[09:24:18] <kimundi> I haven't used that interface yet, so I'm not sure, but I think that defines a interface that can be used to (de)serialise to/from json, xml, yaml etc, with json currently implemented
[09:32:09] *** Joins: BizarreCake (BizarreCak@32C9829A.151E84E7.561471F8.IP)
[09:32:25] *** Joins: gareth0 (gareth0@moz-418D118F.dynamic.dsl.as9105.com)
[09:32:31] *** Quits: gareth0 (gareth0@moz-418D118F.dynamic.dsl.as9105.com) (Connection reset by peer)
[09:32:35] *** Joins: jviereck1 (Adium@moz-ED09EB7F.dip0.t-ipconnect.de)
[09:32:45] *** Quits: jviereck (Adium@moz-ED09EB7F.dip0.t-ipconnect.de) (Connection reset by peer)
[09:35:04] *** Quits: jviereck1 (Adium@moz-ED09EB7F.dip0.t-ipconnect.de) (Quit: Leaving.)
[09:35:15] *** Quits: tgt (tgt@moz-D59EE478.aztw.cable.virginmedia.com) (Quit: Computer has gone to sleep.)
[09:36:14] *** Quits: engla (engla@moz-E4A8CEF5.customer.cdi.no) (Ping timeout)
[09:37:32] *** Joins: snowmantw (snowmantw@moz-6EF46498.dynamic.hinet.net)
[09:38:50] *** Joins: victorporof (victorporo@BB6F74E4.9F23B8E6.79933D60.IP)
[09:41:41] *** Joins: doublec (doublec@moz-4DA4FA7C.cd.pn)
[09:42:09] *** Joins: tgt (tgt@moz-D59EE478.aztw.cable.virginmedia.com)
[09:51:52] *** Quits: Cromulent (Cromulent@moz-5EAC0C2F.cable.virginmedia.com) (Ping timeout)
[09:53:20] <aatch> Gah, whats the function I should break on to get a decent backtrace?
[09:58:05] *** Quits: akashj87 (akash@7375F2C3.46EB02D4.35E3DDC8.IP) (Ping timeout)
[10:14:13] *** Joins: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP)
[10:18:41] <kimundi> lol
[10:18:55] <kimundi> f32.rs, line 180: 'staticants'
[10:19:04] <kimundi> search and replace fail
[10:19:52] *** Quits: dforsyth (dforsyth@AC76BBB4.5FDB5121.EE6E63A5.IP) (Ping timeout)
[10:23:13] *** Joins: dforsyth (dforsyth@AC76BBB4.5FDB5121.EE6E63A5.IP)
[10:25:05] *** Quits: dforsyth (dforsyth@AC76BBB4.5FDB5121.EE6E63A5.IP) (Ping timeout)
[10:28:23] *** Joins: dforsyth (dforsyth@AC76BBB4.5FDB5121.EE6E63A5.IP)
[10:30:24] *** Quits: SimonSapin (simon@moz-C4A83ED9.net-89-2-126.rev.numericable.fr) (Ping timeout)
[10:31:41] <doomlord> kimundi, thanks for the info, i must look into that
[10:32:30] <doomlord> is this #deriving(encode,decode) some specific feature in the compiler ...
[10:32:48] <doomlord> some sort of reflection / auto generator
[10:34:13] <kimundi> doomlord: Yes, but the goul is to have stuff like that be user extensible
[10:34:50] <kimundi> doomlord: You can find all compiler defined macros and attributes in libsyntax
[10:35:50] <kimundi> Look here: https://github.com/mozilla/rust/tree/incoming/src/libsyntax/ext
[10:36:23] *** Quits: tgt (tgt@moz-D59EE478.aztw.cable.virginmedia.com) (Quit: Computer has gone to sleep.)
[10:37:11] *** Joins: tgt (tgt@moz-D59EE478.aztw.cable.virginmedia.com)
[10:37:43] <kimundi> There was a recent push to reuse more code for the deriving stuff, prior to that there were standalon attributes #[auto_encode] and #[auto_decode], which are apparently almos gone, it seems the auto_encode.rs there needs a snapshot and can be removed then
[10:39:26] <kimundi> For example, some of the more simple build in macros are litterally just included in each source file here: https://github.com/mozilla/rust/blob/incoming/src/libsyntax/ext/expand.rs#L401
[10:40:02] *** Joins: donri (dag@moz-9BB61102.tbcn.telia.com)
[10:40:47] <kimundi> If it is still unclear how attributes, user defined macros and compiler defined macros relate to each other just ask :)
[10:43:22] <aatch> Ok, since I keep running into annoying bugs with my current project. New Project time!
[10:46:04] *** Quits: tgt (tgt@moz-D59EE478.aztw.cable.virginmedia.com) (Ping timeout)
[10:50:13] *** Joins: tgt (tgt@moz-D59EE478.aztw.cable.virginmedia.com)
[10:53:36] <aatch> What's better: type parameters with trait bounds, or trait objects?
[10:54:26] *** Quits: victorporof (victorporo@BB6F74E4.9F23B8E6.79933D60.IP) (Quit: victorporof)
[10:58:14] <doomlord> hardcoded features sound like a good compromise at the minute
[10:58:42] <doomlord> ah i've seen 'expand.rs' in my grepping around the sourcebase 
[11:01:55] *** Quits: robn (robn@moz-76B0302C.static.internode.on.net) (Ping timeout)
[11:05:55] *** Joins: berak (chatzilla@A6931E03.5E545589.16E13E53.IP)
[11:06:24] *** Joins: mzabaluev (mzabaluev@moz-F3BF265C.dhcp.inet.fi)
[11:07:10] <mzabaluev> What's the new way to declare self lifetime: impl A { fn cast<T>(&self) -> &'self T; } ?
[11:09:05] <dbaupp> rusti: struct A; impl<'self> A { fn cast<T>(&self) -> &'self T { fail!() } }
[11:09:09] *** Joins: CarpNet (Alasdair@moz-EF831A5E.cable.virginmedia.com)
[11:09:50] *** Joins: BitPuffin (isak@moz-F3DFD361.bredband.tre.se)
[11:09:51] <mzabaluev> dbaupp: thanks
[11:10:02] <dbaupp> rusti: "i'm alive"
[11:10:14] <dbaupp> :(
[11:10:49] <dbaupp> mzabaluev: np
[11:10:51] *** Quits: dbaupp (Thunderbir@moz-53CF57B9.lns20.syd6.internode.on.net) (Quit: dbaupp)
[11:10:56] *** Joins: dbaupp (Thunderbir@moz-53CF57B9.lns20.syd6.internode.on.net)
[11:11:45] <aatch> Are there any issues with returning trait objects?
[11:12:02] <aatch> As a general-usage api thing
[11:15:06] *** Parts: berak (chatzilla@A6931E03.5E545589.16E13E53.IP) ()
[11:15:50] *** Joins: robn (robn@moz-76B0302C.static.internode.on.net)
[11:16:13] <mzabaluev> dbaupp: apparently I can no longer just return a borrowed pointer to struct member as a &'self Foo?
[11:16:52] *** Joins: fabiand (fabiand@moz-6F16874A.adsl.alicedsl.de)
[11:17:14] <Blei> dbaupp: code?
[11:19:18] <dbaupp> Blei: sorry, could I have some context?
[11:19:32] <Blei> sorry, i meant mzabaluev :S
[11:19:50] <dbaupp> mzabaluev: you may have to use &'self self
[11:20:19] <dbaupp> or actually use an entirely different lifetime, fn cast<'r,T>(&'r self) -> &'r T
[11:20:28] <dbaupp> Blei: haha :)
[11:20:45] *** Joins: btipling (btipling@moz-5413CFA4.hsd1.ca.comcast.net)
[11:20:46] <dbaupp> mzabaluev: (without the <'self> on the impl)
[11:20:47] <mzabaluev> Blei: https://gist.github.com/mzabaluev/5476612
[11:21:24] *** Joins: vosen (vosen@moz-266BA656.icpnet.pl)
[11:21:25] *** Joins: akashj87 (akash@57396DE5.CC3AFE9E.35E3DDC8.IP)
[11:22:08] <mzabaluev> dbaupp: &'self self does not work
[11:22:37] <mzabaluev> I'm not using the rustc from master, though... had a build problem with recent commits
[11:22:51] <dbaupp> mzabaluev: are you on mac?
[11:22:53] <Blei> mzabaluev: https://gist.github.com/mzabaluev/5476612#comment-822604
[11:23:07] <Blei> this works here (on incoming)
[11:23:31] <Luqman> mzabaluev: &'self self works on incoming
[11:23:32] <mzabaluev> dbaupp: Linux, x86-32
[11:24:01] <dbaupp> mzabaluev: oh... is the error similar to https://github.com/mozilla/rust/issues/6061 ?
[11:24:14] <dbaupp> (the build problem)
[11:24:37] <mzabaluev> dbaupp: no, it's https://github.com/mozilla/rust/issues/6096
[11:25:30] <dbaupp> Oh, good(?). A different problem to the one I caused.
[11:26:53] *** Quits: heftig (heftig@moz-5DC6F736.dip0.t-ipconnect.de) (Ping timeout)
[11:26:54] <aatch> dbaupp, was that you?
[11:27:13] <aatch> I got hit by that...
[11:27:56] <dbaupp> aatch: yep
[11:28:01] <dbaupp> soorrrryyy :(
[11:28:22] <dbaupp> (does Blei's suggested fix work for you?)
[11:28:28] <aatch> Oh well. I fixed it in my build and hit a completely unrelated bug
[11:28:31] <aatch> Yes it did
[11:29:19] <dbaupp> yay!
[11:29:19] <dbaupp> Blei: open a pull request quick, so I can forget about this incident as fast as possible. :P
[11:29:42] <Blei> haha, will do!
[11:29:59] <aatch> I've thrown in the towel for the moment on my current project. Instead I've decided to tackle the date time library
[11:30:27] *** Joins: FrozenCow (FrozenCow@moz-9DF5D010.dynamic.upc.nl)
[11:30:33] *** Joins: heftig (heftig@moz-3A9374C2.dip0.t-ipconnect.de)
[11:31:40] *** Quits: fabiand (fabiand@moz-6F16874A.adsl.alicedsl.de) (Ping timeout)
[11:31:41] <dbaupp> aatch: your window manager thing?
[11:31:46] <dbaupp> Blei: :)
[11:31:52] <aatch> dbaupp, yep/
[11:32:08] <dbaupp> was it meeting too many compiler bugs?
[11:32:29] <aatch> I keep running into odd behaviour because I'm trying to avoid too much indirection and copying
[11:33:15] <aatch> I want it to be fast, but that means fighting the compiler constantly because of lifetimes and stuff
[11:33:41] <aatch> add in the fact that I need to be careful that the C-provided resources I have don't get accidentally freed...
[11:34:28] <mzabaluev> aatch: refcount them, but then you'll have a problem of accessing migrated references from different threads :)
[11:35:03] <aatch> mzabaluev, Well XCB connection objects are already thread-safe
[11:35:31] <aatch> so just wrapping it up in a ARC works fine
[11:35:49] <mzabaluev> aatch: you can actually call any object from multiple threads simultaneously?
[11:36:24] <mzabaluev> It's causing me a lot of brain twisting to avoid this in GObject
[11:36:29] *** Quits: tgt (tgt@moz-D59EE478.aztw.cable.virginmedia.com) (Quit: Computer has gone to sleep.)
[11:36:50] <mzabaluev> thankfully, they already have all the primitives and conventions to do it
[11:36:50] <aatch> mzabaluev, the xcb connection object is the core object that everything runs through.
[11:37:23] <mzabaluev> aatch: so you make that non-copyable?
[11:37:37] *** Joins: tgt (tgt@moz-D59EE478.aztw.cable.virginmedia.com)
[11:37:47] <aatch> Well I implemented Drop on it, which made it non-copyable
[11:38:32] <aatch> But technically I still wanted to copy the reference, hence wrapping in an ARC, but thats in my application code, the xcb bindings just provide a wrapper.
[11:39:04] <mzabaluev> aatch: right, and no Clone. I want my objects to be cloneable by refcounting, but there's no #[non_owned] yet, so I have to deal with possible task migration
[11:39:53] <aatch> mzabaluev, what is non_owned supposed to do again?
[11:40:27] <aatch> Just force a struct to be non_owned, despite otherwise being owned?
[11:40:29] <mzabaluev> aatch: forbid an object to be used in owned values
[11:41:00] <mzabaluev> while keeping it otherwise copyable
[11:41:26] <aatch> I think I get it.
[11:43:51] *** Joins: youknowone (youknowone@A826BD81.8A0DEF81.38747683.IP)
[11:43:51] *** Quits: youknowone (youknowone@A826BD81.8A0DEF81.38747683.IP) (Z:lined (Open Proxy found on your host. Please visit www.blitzed.org/proxy?ip=115.68.131.49 for more information.))
[11:49:59] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[11:49:59] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/DJlD3Q
[11:49:59] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[11:50:02] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[11:50:02] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/8Vw6Fw
[11:50:02] <ghrust> 13rust/06auto 148627fc9 15Philipp BrÃ¼schweiler: rand: Fix infinite recursion...
[11:50:02] <ghrust> 13rust/06auto 14cdd342b 15bors: auto merge of #6097 : Blei/rust/fix-rand, r=pnkfelix...
[11:50:04] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[11:50:24] <Blei> that was quick
[11:51:14] *** Joins: MrFahrenheit (RageOfThou@moz-CF7139ED.dynamic.telemach.ba)
[11:51:27] *** Joins: RagingDave (RagingDave@moz-3F31ACEF.pools.arcor-ip.net)
[11:51:45] <mzabaluev> Hmm, the bisected-building compiler hits an llvm assertion... Should wait for the build fix.
[11:54:20] <dbaupp> Blei: :D
[11:56:42] <aatch> Oh, can somebody try https://github.com/mozilla/rust/pull/5646 for a third time
[11:57:00] <aatch> I'm resisting the urge to just press the big green button
[11:57:37] <aatch> And I think that r+-ing it myself is a bad idea too
[11:58:14] <dbaupp> aatch: I think the r+ has to go on the last commit for bors to pick it up
[11:58:49] <aatch> That would be it then.
[11:59:12] <aatch> Still, I'm not sure that I should approve it myself.
[11:59:24] <aatch> Despite the fact that it's already been approved by brson.
[11:59:46] <dbaupp> Is there anyone else with review capability online now?
[12:00:10] <aatch> Well pnkfelix is online, but not here.
[12:00:35] <dbaupp> nmatsakis: ping
[12:01:43] *** Joins: jrfeenst (jrfeenst@moz-3265BD65.cpe.norwoodlight.com)
[12:04:38] <kimundi> aatch: Re trait bounds vs trait objects. generally trait bounds are prefered because they result in guaranteed compile time optimsations, and also trait objects have still some bugs that make only @Trait somewhat reliable at the moment
[12:05:00] <aatch> kimundi, yeah, thought so
[12:05:08] <kimundi> trait objects geberally should only be necessary if you need runtime polymorphism
[12:05:57] <aatch> kimundi, unfortunately, that may well be the case.
[12:06:33] <aatch> I figured that bounds were I can, then objects everywhere else.
[12:06:53] <kimundi> Yeah, then better use @Trait for now, I think. Haven't tried any of them myself though, so...
[12:07:01] <kimundi> yeah
[12:07:13] <aatch> Specifically, I'm thinking objects that aren't used much anyway
[12:07:41] <aatch> Though some of it depends on how go about implementing this anyway.
[12:07:45] *** Joins: EXetoC (ex@moz-2DBEB1E4.customer.t3.se)
[12:12:18] *** Joins: akashj87_ (akash@8DF64C27.4C445EBF.35E3DDC8.IP)
[12:12:42] *** Quits: BitPuffin (isak@moz-F3DFD361.bredband.tre.se) (Ping timeout)
[12:12:55] *** Quits: EXetoC (ex@moz-2DBEB1E4.customer.t3.se) (Quit: WeeChat 0.4.0)
[12:13:01] *** Quits: akashj87 (akash@57396DE5.CC3AFE9E.35E3DDC8.IP) (Ping timeout)
[12:15:07] *** Joins: akash__ (akash@5026C3E3.7FACFDC5.35E3DDC8.IP)
[12:15:32] *** Quits: akashj87_ (akash@8DF64C27.4C445EBF.35E3DDC8.IP) (Ping timeout)
[12:16:36] *** Joins: BitPuffin (isak@moz-C08C43D3.bredband.tre.se)
[12:18:08] *** Quits: donri (dag@moz-9BB61102.tbcn.telia.com) (Client exited)
[12:19:00] *** Joins: donri (dag@moz-9BB61102.tbcn.telia.com)
[12:19:14] *** Joins: catpig (catpig@moz-48B9B5A3.dip0.t-ipconnect.de)
[12:19:18] *** Quits: BitPuffin (isak@moz-C08C43D3.bredband.tre.se) (Ping timeout)
[12:19:27] <snowmantw> hello, I've encountered building error with disable-optimize option in incoming branch
[12:19:56] <kimundi> snowmantw: What kind of error
[12:19:58] <snowmantw> without the option the make step will pass but it's slow
[12:20:18] <snowmantw> compile_and_link: x86_64-unknown-linux-gnu/stage1/lib/rustc/x86_64-unknown-linux-gnu/lib/libcore.so
[12:20:21] <snowmantw> near there
[12:20:30] <snowmantw> rust: task 23f62c0 ran out of stack Aborted (core dumped)
[12:20:38] <kimundi> snowmantw: Well building rust always takes some time
[12:20:43] <snowmantw> I've made it with RUST_LOG=rustc=1
[12:21:01] <kimundi> snowmantw: Ah that has nothing todo with disable optimise i think
[12:21:30] <snowmantw> oh... but if I configure without the option, it will pass
[12:21:35] <kimundi> snowmantw: THere is currently an problem with that, a patch to fix that is currently being tested
[12:21:55] <kimundi> snowmantw: Well, it mifht also  be unrelated, not sure
[12:21:59] <dbaupp> (assuming it is the same problem)
[12:22:31] <snowmantw> my major problem is it's slow to make the rustc, so I followed the dev guide to add that option
[12:22:59] <kimundi> snowmantw: How slow?
[12:23:11] <snowmantw> about 20 mins even with -j8
[12:23:26] <snowmantw> and not first time build
[12:23:27] <kimundi> pfff, thats normal :P
[12:23:36] <snowmantw> oh ok
[12:23:44] <kimundi> Takes longer on my pc
[12:23:46] <dbaupp> snowmantw: the parallelism doesn't do anything :)
[12:24:08] <snowmantw> thanks...at least you let me know that's a  normal situation
[12:24:18] <dbaupp> (the build is entirely single core after building llv and the runtime)
[12:24:21] <kimundi> yeah, rustc doasn't paralelisize, so the j option only works for the llvm buil
[12:24:26] <dbaupp> llbm*
[12:24:28] <dbaupp> llvm**
[12:24:36] <snowmantw> I've found it slow at linking stage
[12:24:42] <snowmantw> not compile stage
[12:24:54] <aatch> snowmantw, the stage is compile_and_link
[12:24:58] <snowmantw> it will get stuck while "cp .... libcore"
[12:25:02] <aatch> and it always takes a while
[12:25:14] <kimundi> snowmantw: Well, in those 20mib rusc rebuilds itself almost three times, so...
[12:25:33] <aatch> Including llvm, I think it takes ~1 hour on my machine
[12:25:44] <aatch> maybe longer
[12:25:44] <dbaupp> snowmantw: I think that message just appears after the "compile " message, but it's the compile that takes an age
[12:26:15] <dbaupp> i.e. it's doing the copy in parallel.
[12:26:36] <dbaupp> (so i actually lied, there is some parallelism: of the copies and building the docs.)
[12:26:43] <snowmantw> lol
[12:26:48] <aatch> "compile_and_link: x86_64-unknown-linux-gnu/stage0/lib/rustc/x86_64-unknown-linux-gnu/lib/librustc.so"
[12:27:03] <aatch> I'm guessing this is where it gets to?
[12:27:09] <snowmantw> yes
[12:27:20] <aatch> Yeah, it just takes a while.
[12:27:38] <aatch> Especially because it's using the snapshot compiler.
[12:27:46] <kimundi> lel start the next one, and does the copy command, which results in the copy command to be printed last while it waits on the other job
[12:28:44] <kimundi> ... God I'm being extra incomprehensil today... 
[12:28:44] <snowmantw> or is it possible to compile only one file and inject it into existing rustc ? I'm trying to get understand rustc and need to insert some testing codes..
[12:29:01] <kimundi> snowmantw: Not possible in general
[12:29:51] <kimundi> snowmantw: The fastes you can get is using the compiler it produced in stage1
[12:30:05] <kimundi> after it build everything once
[12:31:11] <snowmantw> but in theory, make will only compile the different part, right ?
[12:31:19] <dbaupp> `make rustc-stage1`
[12:31:30] <dbaupp> snowmantw: yes, and all its dependencies
[12:31:53] <snowmantw> oh..I will try it
[12:32:00] *** Joins: bheylin_ (brianheyli@8A447F1B.E7BADBF1.B0C2132F.IP)
[12:32:07] <snowmantw> thanks !
[12:32:09] <kimundi> snowmantw: it will compile the whole libary you changed one source file from, and all things that depend on it
[12:36:29] *** Joins: akashj87 (akash@4337AC3D.3F448B27.35E3DDC8.IP)
[12:36:49] *** Quits: akash__ (akash@5026C3E3.7FACFDC5.35E3DDC8.IP) (Ping timeout)
[12:37:49] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[12:37:59] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[12:37:59] <ghrust> 01[13rust01] 15bors merged 06auto into 06incoming: 02http://git.io/8Vw6Fw
[12:37:59] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[12:38:13] <doomlord> i recall seeing some talk about simd here... would rust be able to get explicit simd intrinsics like C in additon to whatever the compiler may do automatically (for whatever reason you may want them - for example i've encountered dot-product that has different precision to the equivalent C float arithmetic
[12:38:46] <Boreeas> I thought an expression without semicolon returned that value of the expression? Does that no longer work, or why do I get this error: http://pastebin.com/2LHcAThY?
[12:39:43] <kimundi> doomlord: There will likely be both intrinsics and ways to do or not do it automatically
[12:39:53] *** Joins: engla (engla@moz-D79B048A.dialup.ice.net)
[12:40:16] <dbaupp> Boreeas: it's just the value of the expression itself, not the value of the function
[12:40:44] <doomlord> i should look into what the llvm interface isliek
[12:40:48] <dbaupp> (and if is only an expression if it has an else branch, otherwise it is a statement, which is forced to have value ().)
[12:40:54] <kimundi> Boreeas: It only returns at the end of the block. for early return you need to use the return keyword
[12:41:07] *** Quits: KindOne (KindOne@moz-A7230136.dynamic.ip.windstream.net) (Ping timeout)
[12:41:14] <Boreeas> Ah, alright
[12:41:19] <Boreeas> Thanks
[12:44:16] *** Joins: akashj87_ (akash@1DD30021.D8B89461.35E3DDC8.IP)
[12:44:39] <doomlord> v3f32 type perhaps or whatever you'd call it (float is potentially not f32i think here?)
[12:44:58] *** Quits: akashj87 (akash@4337AC3D.3F448B27.35E3DDC8.IP) (Ping timeout)
[12:45:26] <dbaupp> doomlord: there is this https://github.com/mozilla/rust/wiki/Lib-simd
[12:45:39] *** Joins: KindOne (KindOne@moz-CF72A13B.dynamic.ip.windstream.net)
[12:45:40] <kimundi> doomlord: See also this recent pr: https://github.com/mozilla/rust/pull/5841 
[12:46:40] *** Quits: tgt (tgt@moz-D59EE478.aztw.cable.virginmedia.com) (Ping timeout)
[12:47:11] *** Joins: tgt (tgt@moz-D59EE478.aztw.cable.virginmedia.com)
[12:47:39] *** Quits: bheylin_ (brianheyli@8A447F1B.E7BADBF1.B0C2132F.IP) (Quit: bheylin_)
[12:49:09] <doomlord>  There should be a way to load from vectors to SIMD vector (since terminology is confusing, let's call this "multi"), which needs design.
[12:49:14] <doomlord> ^^^ heh agree
[12:49:38] <doomlord> vectors of vectors ..which is which
[12:50:26] <doomlord> T^N syntax is a rather interesting idea
[12:57:30] <doomlord> maybe there is a bikeshed on it to get involved in
[12:58:05] *** Quits: engla (engla@moz-D79B048A.dialup.ice.net) (Ping timeout)
[12:59:34] *** Joins: bheylin_ (brianheyli@C709828D.E7BADBF1.B0C2132F.IP)
[12:59:47] *** Joins: engla (engla@moz-D79B048A.dialup.ice.net)
[13:01:39] *** Quits: engla (engla@moz-D79B048A.dialup.ice.net) (Ping timeout)
[13:02:11] *** Quits: spider-mario (spidermari@moz-EE4B8A09.rev.sfr.net) (Input/output error)
[13:02:41] *** Joins: an0nymous (an0nymous@moz-9127FDEC.torservers.net)
[13:04:52] *** Joins: engla (engla@moz-D79B048A.dialup.ice.net)
[13:09:37] <engla> the borrow checker does not allow   "q.push(q.pop())" but it does allow "let o = q.pop(); q.push(o)".. this must be a limitation that can be lifted right? (Rust 0.6)
[13:14:50] <dbaupp> Is there a way to convert copylessly ~[Newtype] -> ~[f64] without transmute? (with `struct Newtype(f64);`)
[13:16:48] <kimundi> dbaupp: If there where, it would make newtypes kinda pointless ;)
[13:17:27] <kimundi> dbaupp: But seeing how they have the same size, a transmute should do fine
[13:17:27] <dbaupp> kimundi: well, not really, they can be used for getting custom behaviour with traits
[13:17:53] *** Quits: igl (igl@moz-2518CC98.adsl.alicedsl.de) (Ping timeout)
[13:18:35] <dbaupp> yeah, transmute works, but the conversion itself is safe, so being forced to use an unsafe functions is mildly annoying. but only mildly, so it's fine.
[13:18:57] *** Joins: igl (igl@moz-2D54B972.adsl.alicedsl.de)
[13:19:39] <kimundi> dbaupp: Yeah, there are a few operations that would be safe, but that go entirely against the type system
[13:21:24] <kimundi> dbaupp: In this case: each newtype is a new type that has conceptually nothing todo with the type it wraps, so writing a libary function to convert each possible newtype to the thing it wraps is kinda inpossible without transmute
[13:22:17] <dbaupp> kimundi: that's reasonable.
[13:25:45] *** Quits: igl (igl@moz-2D54B972.adsl.alicedsl.de) (Ping timeout)
[13:25:48] *** Joins: igl (igl@moz-3CDB1597.adsl.alicedsl.de)
[13:28:49] *** Joins: EXetoC (ex@moz-2DBEB1E4.customer.t3.se)
[13:31:00] *** Quits: akashj87_ (akash@1DD30021.D8B89461.35E3DDC8.IP) (Quit: Leaving)
[13:39:02] *** Quits: jrfeenst (jrfeenst@moz-3265BD65.cpe.norwoodlight.com) (Ping timeout)
[13:39:24] *** Quits: engla (engla@moz-D79B048A.dialup.ice.net) (Ping timeout)
[13:39:32] *** Joins: engla (engla@moz-D79B048A.dialup.ice.net)
[13:40:02] *** Joins: jrfeenst (jrfeenst@moz-3265BD65.cpe.norwoodlight.com)
[13:46:44] *** Quits: Blub\w (wry@7E3BB9D.71150E1A.237AE2BA.IP) (Quit: bbtm)
[13:55:11] *** Joins: _Vi (vi@527C345F.497AA854.B16B3BE6.IP)
[14:02:22] *** Quits: bheylin_ (brianheyli@C709828D.E7BADBF1.B0C2132F.IP) (Quit: bheylin_)
[14:02:47] *** Quits: engla (engla@moz-D79B048A.dialup.ice.net) (Ping timeout)
[14:08:50] *** Joins: engla (engla@moz-19AEAF9C.dialup.ice.net)
[14:11:32] *** Quits: engla (engla@moz-19AEAF9C.dialup.ice.net) (Ping timeout)
[14:13:37] *** Joins: engla (engla@moz-19AEAF9C.dialup.ice.net)
[14:16:16] *** Quits: mzabaluev (mzabaluev@moz-F3BF265C.dhcp.inet.fi) (Ping timeout)
[14:17:51] *** Quits: Jesin (Jessin_@moz-1866A4CC.cc.lehigh.edu) (Ping timeout)
[14:21:31] *** Quits: busylizzy (lisa@85228838.12D0DC84.211374C4.IP) (Ping timeout)
[14:25:13] *** Joins: Yurume (yurume@AC58A8CE.8A059B47.E313B915.IP)
[14:30:57] *** Joins: FrozenCow_ (FrozenCow@moz-9DF5D010.dynamic.upc.nl)
[14:30:57] *** Quits: FrozenCow (FrozenCow@moz-9DF5D010.dynamic.upc.nl) (Connection reset by peer)
[14:30:58] *** Joins: busylizzy (lisa@85228838.12D0DC84.211374C4.IP)
[14:36:42] *** Quits: engla (engla@moz-19AEAF9C.dialup.ice.net) (Ping timeout)
[14:36:49] *** Joins: engla (engla@moz-19AEAF9C.dialup.ice.net)
[14:37:59] *** Quits: z0w0 (zack@moz-A579E449.lnse2.cha.bigpond.net.au) (Quit: Leaving.)
[14:40:22] *** Quits: tgt (tgt@moz-D59EE478.aztw.cable.virginmedia.com) (Quit: Computer has gone to sleep.)
[14:43:06] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[14:45:15] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[14:45:27] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[14:46:29] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[14:46:29] *** ChanServ sets mode: +o dherman
[14:49:38] *** Joins: lmandel (lmandel@FE1F74.86ED00A7.971E19F6.IP)
[14:52:25] *** Quits: Benvie (brandon@155E3330.3C2A3393.D4A9B473.IP) (Ping timeout)
[14:53:30] *** Joins: Benvie (brandon@155E3330.3C2A3393.D4A9B473.IP)
[14:53:52] *** Quits: engla (engla@moz-19AEAF9C.dialup.ice.net) (Ping timeout)
[14:57:19] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[14:57:33] *** Joins: kvark (Mibbit@moz-46F48A13.cpe.distributel.net)
[14:59:01] *** Joins: johnmurray (jmurray@ACD2FD1.1781649A.A0D3DFE2.IP)
[14:59:34] <kvark> I'm getting a SIGSEGV on Rust-0.6 vector. Someone please take a look here:
[14:59:35] <kvark> https://gist.github.com/anonymous/5477111
[15:00:02] <strcat> kvark: by-value self doesn't work
[15:00:45] <kvark> strcat: I'm not using by-value self
[15:00:53] <strcat> vec::consume must
[15:01:07] <kvark> I'm calling vec::filter
[15:01:16] <kvark> does that mean that vec::filter is broken in Rust-0.6?
[15:01:28] <strcat> pub fn filter<T>(v: ~[T], f: &fn(t: &T) -> bool) -> ~[T] {
[15:01:32] <strcat> hm
[15:01:33] <kimundi> kvark: fiter cosumes, fitered doesn't
[15:01:34] <cmr> yeah, vec::consume is self-by-value
[15:01:44] <strcat> kvark: are you calling it with a method?
[15:01:53] <strcat> or via the free function
[15:01:59] <kvark> nope, a closure
[15:02:04] <kimundi> 'filter' vs 'filtered'
[15:02:12] <strcat> kvark: I mean the vector function/method
[15:02:12] <dbaupp> strcat: is rusti dead? :(
[15:02:24] <strcat> dbaupp: no but my internet is acting up ;p
[15:02:26] *** Quits: DanC (connolly@1BF57F76.56AB27A3.6F26FCB4.IP) (Ping timeout)
[15:02:26] <strcat> rusti: 1
[15:02:30] <rusti> 1
[15:03:10] <strcat> it was running overnight but got dc'ed and didn't reconnect
[15:03:26] <dbaupp> rusti: print(~"str" + "cat: oh, ok")
[15:03:26] <rusti> strcat: oh, ok
[15:04:14] *** Quits: Axord (xord@moz-C3CCF156.lsanca.dsl-w.verizon.net) (Quit: I'm sure it's perfectly safe)
[15:07:28] *** Quits: johnmurray (jmurray@ACD2FD1.1781649A.A0D3DFE2.IP) (Quit: johnmurray)
[15:09:25] *** Joins: johnmurray (jmurray@ACD2FD1.1781649A.A0D3DFE2.IP)
[15:09:48] <kvark> rust: task failed at 'Unable to parse int', /build/src/rust-0.6/src/libcore/option.rs:300
[15:09:58] <kvark> strcat: a known issue? ^^
[15:10:13] <strcat> what are you getting it from?
[15:10:30] <kvark> from my app
[15:11:03] <strcat> from what code?
[15:11:16] <strcat> it's just some_option.expect("Unable to parse int") afaik
[15:11:30] <kvark> Idk, need to bisect it to find out... unfortunately Rust doesn't report the stack
[15:12:04] <kimundi> kvark: ARe you per chanch trying to parse a to big integer?
[15:12:07] <strcat> you have to use gdb to get a stack trace
[15:12:18] <kimundi> as in: would cause a overflow
[15:12:51] <strcat> wouldn't that just return None? assuming it's from_int
[15:14:18] <kvark> stack trace: https://gist.github.com/anonymous/5477159
[15:14:23] <kvark> doesn't look like my code at all
[15:14:48] <dbaupp> Doesn't `RUST_LOG=::rt::backtrace ./program` work too?
[15:15:13] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[15:15:40] <kvark> dbaupp: that's better, thanks
[15:15:48] *** Quits: johnmurray (jmurray@ACD2FD1.1781649A.A0D3DFE2.IP) (Quit: johnmurray)
[15:15:49] <strcat> kvark: use 'catch upcall_rust_personality'
[15:15:55] <strcat> or that ;p
[15:16:15] *** Quits: ILyoan (ILyoan@B4104EBB.3CC170B1.1E14B209.IP) (Ping timeout)
[15:16:32] <kvark> https://gist.github.com/anonymous/5477171
[15:18:02] <dbaupp> kvark: looks like it happens in "read_armature"
[15:18:10] <kvark> I can see that, yes
[15:18:34] *** Joins: engla (engla@moz-19AEAF9C.dialup.ice.net)
[15:19:25] *** Joins: pyrac (pyrac@moz-2FEC2239.w92-149.abo.wanadoo.fr)
[15:20:18] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[15:20:46] *** Quits: dbaupp (Thunderbir@moz-53CF57B9.lns20.syd6.internode.on.net) (Ping timeout)
[15:21:58] <kvark> I guess I'll be fine from here, thanks guys!
[15:22:05] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[15:24:02] *** Joins: ILyoan (ILyoan@B4104EBB.3CC170B1.1E14B209.IP)
[15:24:54] *** Joins: victorporof (victorporo@BB6F74E4.9F23B8E6.79933D60.IP)
[15:27:20] *** Quits: KindOne (KindOne@moz-CF72A13B.dynamic.ip.windstream.net) (Ping timeout)
[15:30:13] *** Joins: tgt (tgt@moz-D59EE478.aztw.cable.virginmedia.com)
[15:34:31] *** Joins: BitPuffin (isak@moz-C08C43D3.bredband.tre.se)
[15:34:57] <BitPuffin> Are there any benchmarks of rust? :)
[15:37:18] <doener> BitPuffin: http://pcwalton.github.io/blog/2013/04/18/performance-of-sequential-rust-programs/
[15:37:34] *** Quits: kvark (Mibbit@moz-46F48A13.cpe.distributel.net) (Quit: http://www.mibbit.com ajax IRC Client)
[15:42:33] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[15:44:08] <BitPuffin> doener: cool
[15:44:35] <BitPuffin> I'm a bit confused about match
[15:45:24] <BitPuffin> can I do this?: match x { 2 => io::println(x), _ => io::println("whatever") }
[15:45:32] <cmr> Yes
[15:45:33] <BitPuffin> ignore syntax errors
[15:45:39] <BitPuffin> I mean reffering to x later
[15:45:55] <BitPuffin> so why when matching a struct do you name a match?
[15:46:06] <engla> BitPuffin: here is one http://attractivechaos.wordpress.com/2013/04/06/performance-of-rust-and-dart-in-sudoku-solving/
[15:46:12] <cmr> rusti: let x = 2; match x { 2 => println(x.to_str()), _ => println("whatever") }
[15:46:15] <rusti> more than 5 lines of output, pastebinned: http://sprunge.us/fjNj
[15:46:32] <strcat> BitPuffin: you can destructure anything out of it
[15:46:33] <BitPuffin> like the mypoint example from  the tutorial, why does it use yy insead of just y
[15:46:37] <cmr> rusti: let x = 2u; match x { 2 => println(x.to_str()), _ => println("whatever") }
[15:46:38] <Yurume> rusti: let x=2i; match  x { 2 => println(x.to_str()), _ => println("whatever") }
[15:46:38] <rusti> 2
[15:46:39] <rusti> 2
[15:46:42] <strcat> and if x is something with a destructor you can't refer to it if you moved out of it
[15:47:01] <Yurume> so...
[15:47:14] *** Joins: jfredett (jfredett@moz-C01C350.bstnma.fios.verizon.net)
[15:47:26] <Yurume> I have accidentally spoiled some drink to my laptop and I couldn't join this channel recently
[15:47:27] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Client exited)
[15:47:37] <Yurume> (that costed me a fine bit of money)
[15:47:52] <strcat> BitPuffin: if you have something like (int, int) you can match (2, x)
[15:47:58] <BitPuffin> engla: that's interesting!
[15:48:44] <strcat> or matching out of enums, which is one of the most common use cases
[15:48:48] <strcat> no alternative to that
[15:48:58] <engla> great. Note that in this benchmark, the author posted worse numbers for rust originally and then received a better implementation from someone more familiar with rust
[15:49:09] <BitPuffin> strcat: But in the example y and yy is the same thing
[15:49:22] <Yurume> so meanwhile I was writing a draft of a post titled "Translating a certain music game to Rust, or a guide to advanced programming in Rust"
[15:49:24] <BitPuffin> strcat: Is it possible to also write y? in place of yy
[15:49:24] <strcat> BitPuffin: it's an example, it's just supposed to be introducing it
[15:49:29] <strcat> BitPuffin: yes, in that special case
[15:50:04] <Yurume> not sure if I can ever finish writing it though ;)
[15:50:12] <BitPuffin> strcat: Hm, well I guess I need to know more about rust destructing
[15:50:14] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[15:50:32] <strcat> rusti: enum Value { String(~str), Number(f64) }; let x = String(~"foo"); match x { String(s) => println(s), Number(n) => println(n.to_str()) }
[15:50:33] <rusti> foo
[15:51:19] <Yurume> rusti: enum Value { String(~str), Number(f64) }; let x = String(~"foo"); match x { String(s) => println(s), Number(n) => println(n.to_str()) }; match x { String(s) => println(s), Number(n) => println(n.to_str()) }
[15:51:20] <rusti> more than 5 lines of output, pastebinned: http://sprunge.us/RgES
[15:51:36] <Blei> Yurume: please do!
[15:51:42] <Yurume> it is a typical problem with auto destructuring
[15:52:19] <Yurume> Blei, I'm still figuring out what would be "do"s, "may do"s and "don't"s
[15:52:36] <strcat> BitPuffin: the tutorial can't give very good examples because it has to introduce concepts in an order
[15:52:46] <engla> destructuring with borrows, mut borrow etc are tricky (to me)
[15:52:53] <BitPuffin> strcat: will it be more clear at the end?
[15:52:56] <strcat> it can't use tuple/enum/struct destructuring before they are introduced
[15:52:57] <Yurume> for example I would consider fixed-size integers as "don't"s but others wouldn't
[15:52:59] <strcat> BitPuffin: hopefully
[15:53:06] <strcat> dunno if it really goes into depth about that
[15:53:06] <BitPuffin> we'll see :)
[15:53:22] <strcat> BitPuffin: the 'match' cases are 'patterns'
[15:53:31] <strcat> you can match anything about the structure of the value
[15:54:02] <strcat> and when you're extracting something from the structure, the pattern variable name won't correspond to what you matched
[15:54:10] <strcat> and you can't do it any other way for enums
[15:54:28] *** Joins: quibbit (Mibbit@E248DB08.9470356F.5B864609.IP)
[15:54:49] <strcat> rusti: match Some(5) { Some(x) => x.to_str(), None => ~"Nothing" }
[15:54:51] <rusti> more than 5 lines of output, pastebinned: http://sprunge.us/XXQH
[15:54:59] <strcat> rusti: match Some(5u) { Some(x) => x.to_str(), None => ~"Nothing" }
[15:55:00] <rusti> ~"5"
[15:55:31] <strcat> no other way to extract data from enum variants, at a language level
[15:55:47] <BitPuffin> strcat: I guess giving it a name becomes useful when it's nested? like structs within structs
[15:56:01] <strcat> BitPuffin: or just integers in a struct
[15:56:04] <strcat> or *any* enum
[15:56:14] <BitPuffin> strcat: Why integers?
[15:56:55] <strcat> rusti: match (false, true) { (true, true) => 0, (true, false) => 1, (false, false) => 2, (false, true) => 3 }
[15:56:57] <rusti> 3
[15:57:34] <engla> is it intentional that newtypes "inherit" methods? I guess it's explainable since the dot (.) operator automatically dereferences
[15:57:38] <strcat> rusti: match (false, true) { (true, x) => !x, (false, y) => y }
[15:57:39] <rusti> true
[15:57:53] <strcat> engla: they don't, afaik
[15:57:58] <strcat> engla: 'type' isn't a newtype
[15:58:17] <engla> I'm talking about newtypeas in    struct Q<T>(~[T])  for example
[15:58:21] <Yurume> engla, well, that's just because x.foo == (*x).foo == (**x).foo etc.
[15:58:23] <engla> it will support vec methods
[15:58:36] <strcat> oh evil autoderef
[15:58:44] <Yurume> so it is rather autoderef than auto inheritance
[15:59:21] <Yurume> strcat, that's a necessary evil though
[15:59:37] <strcat> why is it necessary?
[15:59:44] <BitPuffin> strcat: If I'm matching an integer, why not just use the base variable name? Or the field name of a struct
[15:59:48] <Yurume> and C/C++ already supported an autoderef on function pointers..
[16:00:09] <Blei> C?
[16:00:15] <Blei> oh, right
[16:00:24] <strcat> BitPuffin: because if you're moving out of the value that doesn't work
[16:00:37] <strcat> BitPuffin: and because there's *no other way* to get values out of enums
[16:00:42] <BitPuffin> strcat: moving out of?
[16:00:57] <strcat> BitPuffin: it's covered in the tutorial in the move semantics section
[16:01:16] <BitPuffin> okay I'll be back eventually lol :)
[16:01:20] <engla> rusti: struct Q(~[int]); let mut q = Q(~[1,2,3]); q.clear(); println(q.len().to_str())
[16:01:21] <rusti> 0
[16:01:31] <Yurume> strcat, pro: that greatly simplifies operations on borrowed pointers (that's actually most pointers we would see in the typical Rust program) / con: that makes several methods asymmetric
[16:01:50] <Yurume> I guess pros are important enough to justify autoderefs
[16:03:22] <strcat> Yurume: auto-deref and auto-borrow are two different things
[16:03:37] <engla> I think it makes sense
[16:03:49] <engla> (to keep the methods)
[16:04:36] <Yurume> strcat, maybe I got them mixed up, can you provide an example differentiating them?
[16:05:07] <strcat> x.foo() where foo takes &self, &mut self, self, ~self, @self - all works the same
[16:05:15] <strcat> that's essentially auto-borrowing
[16:05:22] <strcat> with &self and &mut self
[16:05:50] <Yurume> yes, but you meant there is auto-deref which does not auto-borrow
[16:05:56] <Yurume> so that was my question
[16:05:56] <strcat> x.bar() where x implements bar -> calls bar
[16:06:19] <strcat> x.bar() where x *does not implement bar* but dereferencing it can reach something that does
[16:06:22] <strcat> is auto-deref
[16:06:33] <strcat> like ~T where T implements the trait but ~T does not
[16:06:36] <Yurume> aha
[16:06:38] <strcat> so for example
[16:06:42] <strcat> Clone before it had a ~T impl
[16:06:47] <Yurume> huh, that is a good point I haven't thought of
[16:06:53] <strcat> let i = 5u; x.clone()
[16:07:00] <strcat> let i = ~5u; x.clone()
[16:07:03] <strcat> would return 5u
[16:07:07] <strcat> it would auto-deref the ~
[16:07:12] <strcat> now... we changed Clone to have an ~T impl
[16:07:18] <strcat> had to go update *all the code*
[16:07:24] <strcat> since now x.clone() would return ~tu
[16:07:26] <strcat> ~5u
[16:07:37] <strcat> I really hate auto-deref :\
[16:07:48] <strcat> it's syntactic sugar that changes the obvious meaning of code
[16:08:18] <strcat> and you know that out-of-stack error that happened in master recently?
[16:08:20] <strcat> caused by auto-deref
[16:08:35] <Yurume> strcat, I guess it is more like a problem of catch-all traits like Clone
[16:08:36] <strcat> from an infinite cycle
[16:08:52] <strcat> Yurume: not just that
[16:09:00] <strcat> it can loop forever
[16:09:06] <Yurume> right
[16:09:25] <Yurume> I have experienced similar problem with Ord
[16:09:32] <Yurume> so it is quite painful indeed
[16:09:45] <Yurume> (I just didn't know how to refer that kind of problems)
[16:09:49] <strcat> all to save typing (*foo).bar() when you have &T instead of T
[16:10:17] <strcat> at least imo, clarity should trump how pretty the code is for this case
[16:10:22] <strcat> auto-deref is very confusing
[16:10:44] <strcat> and it makes what should be a backwards-compatible change incompatible
[16:10:50] <strcat> like on newtypes or ~T, @T
[16:11:01] <Yurume> but I still think removing auto-derefs discourage the uses of borrowed pointers
[16:11:16] <Yurume> that's why I'm contending that it is a problem of catch-all traits
[16:11:26] <strcat> if you have & & & & & & & & & &T
[16:11:35] <strcat> I don't see why it should act like there's no indirection
[16:11:45] <Yurume> in most cases you'd have &T however
[16:11:51] <strcat> it's hard to see where pointer walking happens - it *should* discourage you from doing that
[16:12:12] <Yurume> ah, wait
[16:12:27] <strcat> Yurume: &T will still work for a &self method afaik
[16:12:28] <Yurume> are parentheses around (*a).foo() required in Rust?
[16:12:34] <strcat> Yurume: yes
[16:12:39] <strcat> and C
[16:12:44] <strcat> (and C++)
[16:12:46] <Yurume> (and that's why C/C++ had ->)
[16:12:54] <strcat> -> doesn't help when you have **T though
[16:13:00] <strcat> still need (*foo)->bar()
[16:13:18] <Yurume> **T is rare enough to require explicit indirection
[16:13:32] *** Joins: mib_udl0yu (Mibbit@E248DB08.9470356F.5B864609.IP)
[16:13:45] <strcat> C++ references are always 'auto-deref'ed'
[16:13:58] <strcat> but unlike rust you can't implement something on &T
[16:14:00] <strcat> that's different from T
[16:15:26] *** Quits: btipling (btipling@moz-5413CFA4.hsd1.ca.comcast.net) (Quit: Computer has gone to sleep.)
[16:16:20] <Yurume> strcat, would that problem be solved by making *some* traits unable to auto-deref?
[16:16:45] <Yurume> (I know it would be very confusing, yes, but I wanted to see how can it be solved in long term)
[16:17:07] <strcat> Yurume: exists with every trait or non-trait methods as a problem
[16:17:18] <strcat> when you consider newtypes
[16:17:25] <strcat> I hadn't realized that auto-deref applied to them.
[16:17:41] *** Quits: engla (engla@moz-19AEAF9C.dialup.ice.net) (Ping timeout)
[16:20:27] <Yurume> I never had a problem with realizing newtypes can also auto-deref
[16:21:17] <Yurume> but dereference on newtypes is a bit awkward at first glance :S
[16:21:49] <Yurume> (I *did* know newtypes support deference when I can have an auto-deref problem with newtypes)
[16:22:26] *** Joins: Erik (Erik@moz-252DBA2.hsd1.co.comcast.net)
[16:26:20] *** Quits: geomyidae__ (uid214@moz-D8B63698.irccloud.com) (Ping timeout)
[16:27:46] *** Quits: jaws (uid2871@moz-D8B63698.irccloud.com) (Ping timeout)
[16:28:01] *** Joins: jaws (uid2871@moz-D8B63698.irccloud.com)
[16:44:07] *** Joins: blitter (blitter@moz-48397EA8.dyn.centurytel.net)
[16:46:40] *** Quits: victorporof (victorporo@BB6F74E4.9F23B8E6.79933D60.IP) (Quit: victorporof)
[16:50:20] <strcat> heh type inference really hates me
[16:50:27] <strcat> it doesn't work with internal iterator adaptors either \o/
[16:50:37] *** Joins: libertas (libertas@3CBD0449.418C4A1B.593B3862.IP)
[16:54:36] *** Joins: paulproteus (quassel@moz-E86A3B42.makesad.us)
[16:57:48] *** Quits: paulproteus (quassel@rose.makesad.us) (Ping timeout)
[16:59:13] *** Quits: doener (doener@moz-724BBC7C.unitymediagroup.de) (Quit: leaving)
[16:59:39] *** Quits: pyrac (pyrac@moz-2FEC2239.w92-149.abo.wanadoo.fr) (Quit: pyrac)
[17:00:02] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Client exited)
[17:01:22] *** Joins: paulproteus (quassel@moz-E86A3B42.makesad.us)
[17:03:28] <strcat> nmatsakis: https://github.com/mozilla/rust/pull/6056 r?
[17:05:05] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:05:06] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:05:08] *** Joins: pyrac (pyrac@moz-2FEC2239.w92-149.abo.wanadoo.fr)
[17:05:13] *** Joins: danluu (danluu@B0917C22.F689A8C9.EB438161.IP)
[17:05:34] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:05:38] *** Quits: BitPuffin (isak@moz-C08C43D3.bredband.tre.se) (Ping timeout)
[17:07:20] <danluu> How do I create an owned closure that I can pass to a task? The tutorial says they exist, but doesn't really explain how to make one or give an example, and I can't find anything in the manual, either.
[17:08:20] <kimundi> danluu: Generally you just use the closure syntax and let the compiler infere wether its going to be a stack, owned or managed closure
[17:08:29] <strcat> rusti: let x: ~fn(int) -> int = |x| x;
[17:08:31] <rusti> foo.rs:5:13: 5:15 warning: unused variable: `x`
[17:08:31] <rusti> foo.rs:5          let x: ~fn(int) -> int = |x| x;
[17:08:31] <rusti>                       ^~
[17:08:31] <rusti> note: in expansion of fmt!
[17:08:31] <rusti> foo.rs:4:12: 6:7 note: expansion site
[17:08:50] <danluu> Ahh, thanks!
[17:10:20] <ssbr> aatch: oops, I went to bed, sorry. I'll try asking again now.
[17:10:52] <ssbr> So, uh, for compiling crates in another build system -- is there something less crazy than this? http://www.bpaste.net/show/Ts0KaItPZ7pZCbsyXt57/
[17:11:01] <ssbr> gist of it is that to get the linker options I use RUST_LOG=rustc=1,rustc::back::link , and "parse" stderr
[17:11:20] <ssbr> What I want to do is make it relatively easy to develop python extension modules using Rust
[17:11:38] <ssbr> so I'm writing stuff for Python's distutils that calls rustc
[17:15:00] *** Joins: steven_is_false (quassel@moz-40FEC2ED.bchsia.telus.net)
[17:19:38] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Ping timeout)
[17:20:05] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[17:20:36] <steven_is_false> rusti: let x : *fn () = || { }; "Type Checks"
[17:20:38] <rusti> foo.rs:5:22: 5:23 error: obsolete syntax: bare function type
[17:20:38] <rusti> foo.rs:5          let x : *fn () = || { }; "Type Checks"
[17:20:38] <rusti>                                ^
[17:20:38] <rusti> note: use `&fn` or `extern fn` instead
[17:20:38] <rusti> error: aborting due to previous error
[17:20:52] <steven_is_false> rusti: let x : extern fn () = || { }; "Type Checks"
[17:20:54] <rusti> more than 5 lines of output, pastebinned: http://sprunge.us/jQhX
[17:21:25] <kimundi> steven_is_false: raw function pointers don't exist yet in a working state
[17:21:46] <steven_is_false> rusti: fn func() { } let func_pointer : extern fn () = func;
[17:21:48] <rusti> foo.rs:5:27: 5:41 warning: unused variable: `func_pointer`
[17:21:48] <rusti> foo.rs:5          fn func() { } let func_pointer : extern fn () = func;
[17:21:48] <rusti>                                     ^~~~~~~~~~~~~~
[17:21:48] <rusti> note: in expansion of fmt!
[17:21:48] <rusti> foo.rs:4:12: 6:7 note: expansion site
[17:22:04] <steven_is_false> kimundi: extern function_signature seems to work fine
[17:22:16] *** Joins: btipling (btipling@moz-5413CFA4.hsd1.ca.comcast.net)
[17:22:53] <kimundi> hmm.... well i have no idea
[17:24:29] <steven_is_false> kimundi: The docs should clarify things better. I don't really know if extern fn_sig is the "right" way to do things.
[17:26:09] *** Quits: tgt (tgt@moz-D59EE478.aztw.cable.virginmedia.com) (Quit: Computer has gone to sleep.)
[17:28:21] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[17:28:37] <steven_is_false> rusti: fn func() { } let func_pointer : extern "C" fn () = func;
[17:28:38] <rusti> more than 5 lines of output, pastebinned: http://sprunge.us/GjaS
[17:29:08] <steven_is_false> rusti: extern "C" { fn func() { } } let func_pointer : extern "C" fn () = func;
[17:29:09] <rusti> foo.rs:5:32: 5:33 error: expected `;` but found `{`
[17:29:09] <rusti> foo.rs:5          extern "C" { fn func() { } } let func_pointer : extern "C" fn () = func;
[17:29:09] <rusti>                                          ^
[17:31:48] *** Quits: pyrac (pyrac@moz-2FEC2239.w92-149.abo.wanadoo.fr) (Quit: pyrac)
[17:32:49] *** Joins: pyrac (pyrac@moz-2FEC2239.w92-149.abo.wanadoo.fr)
[17:33:19] *** Joins: SiegeLord (sl@moz-56D7E78.bstnma.fios.verizon.net)
[17:33:25] *** Joins: Jesin (Jessin_@moz-1866A4CC.cc.lehigh.edu)
[17:34:03] *** Quits: snowmantw (snowmantw@moz-6EF46498.dynamic.hinet.net) (Client exited)
[17:40:48] <steven_is_false> rusti: #[abi = "stdcall"] fn func() { } let func_pointer : extern "C" fn () = func;
[17:40:50] <rusti> more than 5 lines of output, pastebinned: http://sprunge.us/IaZJ
[17:45:32] *** Joins: spider-mario (spidermari@moz-2F72F6FF.dsl.quantic-telecom.net)
[17:56:27] *** Joins: jviereck (Adium@moz-ED09EB7F.dip0.t-ipconnect.de)
[17:56:33] *** Quits: jviereck (Adium@moz-ED09EB7F.dip0.t-ipconnect.de) (Client exited)
[17:56:55] *** Joins: jviereck (Adium@moz-ED09EB7F.dip0.t-ipconnect.de)
[17:57:36] *** Quits: int3_ (int3_@moz-B987FF6E.subnet-248.amherst.edu) (Client exited)
[17:59:01] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[17:59:01] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/WpUIyA
[17:59:01] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[17:59:02] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[17:59:02] <ghrust> 01[13rust01] 15bors pushed 15 new commits to 06auto: 02http://git.io/jBeflA
[17:59:02] <ghrust> 13rust/06auto 148422235 15Tim Chevalier: Revert "libcore: remove unnecessary deref"...
[17:59:02] <ghrust> 13rust/06auto 14c908943 15Patrick Walton: librustc: Remove `ptr::addr_of`.
[17:59:02] <ghrust> 13rust/06auto 148f9f212 15Patrick Walton: librustc: Implement `reinterpret_cast` in terms of `transmute`.
[17:59:05] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[17:59:22] *** Quits: jviereck (Adium@moz-ED09EB7F.dip0.t-ipconnect.de) (Quit: Leaving.)
[18:00:36] *** Joins: judder (maradukewa@DABDEEA3.F2C0D0AC.78E362FE.IP)
[18:01:29] <cmr> Was that the demoding patch that just landed?
[18:01:47] <cmr> er wait, that was to auto
[18:01:56] <lieshidden> is there a way to get a cumulative patch?
[18:02:18] <cmr> lieshidden: https://github.com/mozilla/rust/compare/cdd342bd34a7...54864d698284.diff
[18:02:33] <lieshidden> awesome, thank you :)
[18:02:49] <cmr> https://github.com/blog/967-github-secrets
[18:06:43] <steven_is_false> I'm trying to install the Rust Eclipse plugin but I'm having trouble
[18:09:45] *** Quits: Erik (Erik@moz-252DBA2.hsd1.co.comcast.net) (Ping timeout)
[18:11:04] <kimundi> there in a rust eclipse plugin?
[18:11:25] <steven_is_false> kimundi: Yes, it's listed on the wiki.
[18:11:31] <kimundi> hu
[18:11:47] <steven_is_false> kimundi: Rusty Cage - http://reidarsollid.github.com/RustyCage/updatesite/site.xml
[18:14:53] *** Joins: Nisstyre (wes@moz-FD86289.netflash.net)
[18:15:12] <SiegeLord> rusti: "abc" == "abc"
[18:15:13] <rusti> true
[18:15:19] <SiegeLord> rusti: ~"abc" == "abc"
[18:15:21] <rusti> more than 5 lines of output, pastebinned: http://sprunge.us/SNRQ
[18:20:00] *** Joins: int3_ (int3_@moz-B987FF6E.subnet-248.amherst.edu)
[18:20:32] <SiegeLord> rusti: *( ~"abc") == "abc"
[18:20:33] <rusti> more than 5 lines of output, pastebinned: http://sprunge.us/SLOW
[18:21:01] *** Joins: wilsonk|2 (kvirc@moz-39EFBFC2.cg.shawcable.net)
[18:21:39] *** Quits: wilsonk-laptop (kvirc@moz-39EFBFC2.cg.shawcable.net) (Ping timeout)
[18:22:26] <steven_is_false> rusti: "abc" == "abc"
[18:22:27] <rusti> true
[18:22:30] *** Quits: btipling (btipling@moz-5413CFA4.hsd1.ca.comcast.net) (Quit: Computer has gone to sleep.)
[18:26:33] *** Joins: geomyidae__ (uid214@moz-D8B63698.irccloud.com)
[18:27:05] *** Quits: BizarreCake (BizarreCak@32C9829A.151E84E7.561471F8.IP) (Ping timeout)
[18:28:57] *** Quits: pyrac (pyrac@moz-2FEC2239.w92-149.abo.wanadoo.fr) (Quit: pyrac)
[18:29:22] <strcat> rusti: "foo" == ~"foo" /* works because it borrows the ~str as a slice */
[18:29:24] <rusti> true
[18:31:00] <SiegeLord> Why can't == always take a borrowed pointer?
[18:31:13] <SiegeLord> rusti: ~"abc" == @"abc"
[18:31:15] <rusti> more than 5 lines of output, pastebinned: http://sprunge.us/hAKP
[18:33:06] *** Joins: tiffany (kawaii@moz-1E0FE6E8.dhcp.embarqhsd.net)
[18:33:18] *** Joins: pyrac (pyrac@moz-2FEC2239.w92-149.abo.wanadoo.fr)
[18:36:02] *** Joins: Jeaye (Jeaye@moz-FD505E54.hsd1.ca.comcast.net)
[18:38:01] *** Quits: burntsushi (burntsushi@moz-27A1B1D8.dhcp.oxfr.ma.charter.com) (Quit: Konversation terminated!)
[18:38:09] <strcat> SiegeLord: &str isn't a borrowed pointer
[18:38:16] <strcat> ~str isn't a str in an owned box, there's no 'str' type
[18:38:22] *** Quits: jrfeenst (jrfeenst@moz-3265BD65.cpe.norwoodlight.com) (Ping timeout)
[18:38:29] <strcat> the issue is specific to strings/vectors, doesn't happen with any other types
[18:38:35] *** Joins: DanC (connolly@1BF57F76.56AB27A3.6F26FCB4.IP)
[18:38:40] <DanC> I'm catching up with the changes from 0.5 to 0.6... not sure what to make of this:
[18:38:42] <DanC> mmfsm.rs:91:31: 91:32 error: obsolete syntax: const or mutable owned pointer
[18:38:42] <SiegeLord> Well, why can't == take a slice then?
[18:38:46] <DanC> mmfsm.rs:91     let mut tok_list: ~mut[~str] = ~mut[];
[18:38:50] <strcat> SiegeLord: == takes the same type on both sides
[18:38:54] <strcat> it's not special
[18:38:58] <strcat> ops::Eq
[18:39:03] <strcat> it doesn't use a type parameter
[18:39:29] <strcat> rusti: let x = ~"foo"; let y: &str = x; x == @"foo"
[18:39:30] <rusti> more than 5 lines of output, pastebinned: http://sprunge.us/gbMh
[18:39:37] <SiegeLord> rusti: &~"abc" == &@"abc"
[18:39:38] <rusti> more than 5 lines of output, pastebinned: http://sprunge.us/CIaO
[18:39:39] <strcat> rusti: let x = ~"foo"; let y: &str = x; y == @"foo"
[18:39:40] <rusti> true
[18:39:51] <strcat> SiegeLord: &~"abc" is &~str
[18:39:59] <strcat> the type on each side of == has to be the same right now
[18:40:13] <kimundi> DanC, a ~mut in not a thing that exists anymore
[18:40:31] <strcat> you can compare &str to &str and ~str/@str can be borrowed as &str - but that doesn't help for generic code
[18:40:32] *** Joins: jrfeenst (jrfeenst@moz-3265BD65.cpe.norwoodlight.com)
[18:40:35] <strcat> thus the existence of Equiv
[18:40:41] <strcat> which is essentially Eq with a type parameter
[18:41:00] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[18:41:00] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 1454864d6 to 14cdd342b: 02http://git.io/N3iJvQ
[18:41:00] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[18:41:00] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[18:41:00] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/o_84jQ
[18:41:00] <ghrust> 13rust/06auto 14ca49f47 15Daniel Micay: make way for a new iter module
[18:41:00] <ghrust> 13rust/06auto 143e6d952 15bors: auto merge of #6056 : thestinger/rust/iter, r=graydon...
[18:41:00] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[18:41:05] <DanC> kimundi, suggested replacement? I want a mutable list of strings
[18:41:23] <strcat> DanC: let mut xs = [~"foo", ~"bar"];
[18:41:41] <DanC> it's initially empty
[18:41:51] <strcat> well same thing
[18:42:24] <DanC> let mut xs = []; <- that will work?
[18:42:27] <strcat> rusti: let mut xs = ~[]; xs.push(~"foo"); xs.push(~"bar");
[18:42:32] <strcat> rusti: let mut xs = ~[]; xs.push(~"foo"); xs.push(~"bar"); xs
[18:42:33] <rusti> ~[~"foo", ~"bar"]
[18:42:37] <strcat> DanC: [] is a fixed-size array
[18:42:48] <kimundi> DanC: Mutability is now completly determined by the owner of a value. There are two possible owners: A local variable, and a @
[18:42:58] <DanC> how did the compiler know xs contained strings?
[18:43:06] <kimundi> inference
[18:43:07] <strcat> DanC: inferred from the usage
[18:43:26] <DanC> suppose I wanted to be explicit. is there a way?
[18:43:32] <strcat> yes
[18:43:45] <strcat> rusti: let mut xs: ~[~str] = ~[];
[18:43:46] <rusti> foo.rs:5:17: 5:20 warning: unused variable: `xs`
[18:43:46] <rusti> foo.rs:5          let mut xs: ~[~str] = ~[];
[18:43:46] <rusti>                           ^~~
[18:43:46] <rusti> note: in expansion of fmt!
[18:43:46] <rusti> foo.rs:4:12: 6:7 note: expansion site
[18:43:59] <just_bstrie> maybe rusti should not show warnings
[18:44:17] <strcat> or I should just be more clever and anticipate them ;p
[18:44:25] <strcat> rusti: let mut _xs: ~[~str] = ~[]; xs
[18:44:25] <rusti> more than 5 lines of output, pastebinned: http://sprunge.us/fSRQ
[18:44:27] *** Quits: sp3d (a@moz-17CB39F1.fidnet.com) (Ping timeout)
[18:44:31] <strcat> rusti: let mut xs: ~[~str] = ~[]; xs
[18:44:32] <rusti> ~[]
[18:44:32] * strcat sighs
[18:44:34] <DanC> ah. ok. that's what I was looking for: let mut xs: ~[~str] = ~[]
[18:44:54] <strcat> DanC: you only *have* to put an explicit type if you aren't using it though
[18:45:31] <DanC> I suppose
[18:45:40] <strcat> or if you're not using it in a way that tells it the type
[18:46:50] * DanC works through bare function... assert as macro...
[18:47:29] <steven_is_false> let x : int = read (); show (x) ?
[18:49:16] <strcat> steven_is_false: yeah in a case like that you have to use a type hint
[18:49:26] <DanC> is fail a macro now too? not clear from the tutorial...
[18:49:34] <strcat> DanC: yes
[18:50:14] <strcat> DanC: http://ix.io/5oq it's just that
[18:50:53] *** Joins: chaynie (cary@moz-F817A28B.static.twtelecom.net)
[18:50:56] *** Joins: engla (engla@moz-19AEAF9C.dialup.ice.net)
[18:51:41] <DanC> error: multiple matching crates for `core` ... I guess I need to clean up my 0.5 install. strange that the core library metadata hasn't changed
[18:51:54] <DanC> that is: its uuid
[18:53:50] <DanC> std::rope unresolved name
[18:54:07] <strcat> DanC: link against libstd (extern mod std;)
[18:54:20] <DanC> I got an error about extern mod std
[18:54:42] <DanC> error: "extern mod" declarations are not allowed here
[18:54:48] <strcat> DanC: needs to be at the top
[18:55:30] <DanC> documented? ah. yes... "extern mod can appear at the top of a crate file or at the top of modules"
[18:56:47] <strcat> kimundi: https://github.com/mozilla/rust/blob/3e6d95251fc56993d5e3a2221b00ca013efbaaad/src/libcore/iter.rs this is landing btw :), I'll fill out the other adaptors later
[18:57:04] <strcat> mostly just wanted to get it properly documented...
[18:57:11] <DanC> hmm... some type names that used to be visible in my mod test {} no longer are.
[18:57:31] * DanC is conflicted... volleyball or more rust catch-up...
[18:57:34] <strcat> DanC: use super::*;
[18:57:58] <strcat> they just don't have the parent module stuff in scope by default
[18:58:06] <strcat> anyway g2g
[18:58:07] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.0)
[18:58:09] *** Joins: Guest (textual@moz-EBE9F394.bchsia.telus.net)
[18:58:43] <DanC> thanks, strcat. more later, I hope
[19:05:03] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Quit: Textual IRC Client: www.textualapp.com)
[19:09:03] *** Quits: echristo (echristo@4DCD7CCA.C774595A.5EFB9497.IP) (Ping timeout)
[19:09:12] *** Quits: chaynie (cary@moz-F817A28B.static.twtelecom.net) (Quit: chaynie)
[19:09:20] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Client exited)
[19:10:03] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[19:11:05] *** Quits: igl (igl@moz-3CDB1597.adsl.alicedsl.de) (Ping timeout)
[19:11:49] *** Joins: igl (igl@moz-1E83D773.adsl.alicedsl.de)
[19:12:38] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[19:14:01] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[19:14:01] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 143e6d952 to 14cdd342b: 02http://git.io/N3iJvQ
[19:14:01] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[19:14:03] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[19:14:03] <ghrust> 01[13rust01] 15bors pushed 29 new commits to 06auto: 02http://git.io/dYxb7g
[19:14:03] <ghrust> 13rust/06auto 14a2493ad 15John Clements: change stage1,stage2,stage2 into not(stage0)...
[19:14:03] <ghrust> 13rust/06auto 14c73a9c9 15John Clements: refactoring mod.rs
[19:14:03] <ghrust> 13rust/06auto 142b7f1a4 15John Clements: parser comments only
[19:14:04] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[19:15:12] *** Quits: engla (engla@moz-19AEAF9C.dialup.ice.net) (Ping timeout)
[19:21:09] *** Quits: Blei (philipp@moz-96D25F7A.cust.bluewin.ch) (Quit: WeeChat 0.4.0)
[19:21:49] *** Joins: tgt (tgt@moz-D59EE478.aztw.cable.virginmedia.com)
[19:22:14] *** Joins: engla (engla@moz-19AEAF9C.dialup.ice.net)
[19:24:13] *** Joins: mzabaluev (mzabaluev@moz-F3BF265C.dhcp.inet.fi)
[19:26:51] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Client exited)
[19:27:15] *** Joins: devbug (quassel@moz-E1DE087C.bchsia.telus.net)
[19:28:08] *** Quits: engla (engla@moz-19AEAF9C.dialup.ice.net) (Ping timeout)
[19:31:46] *** Quits: pyrac (pyrac@moz-2FEC2239.w92-149.abo.wanadoo.fr) (Quit: pyrac)
[19:37:14] *** Quits: donri (dag@moz-9BB61102.tbcn.telia.com) (Quit: Leaving)
[19:41:34] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[19:45:04] *** Quits: Jesin (Jessin_@moz-1866A4CC.cc.lehigh.edu) (Quit: Leaving)
[19:48:53] *** Quits: Jeaye (Jeaye@moz-FD505E54.hsd1.ca.comcast.net) (Connection reset by peer)
[19:49:39] *** Joins: SimonSapin (simon@moz-C4A83ED9.net-89-2-126.rev.numericable.fr)
[19:50:30] *** Joins: btipling (btipling@moz-5413CFA4.hsd1.ca.comcast.net)
[19:52:59] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[19:52:59] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 144f28a5c to 14cdd342b: 02http://git.io/N3iJvQ
[19:52:59] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[19:53:02] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[19:53:02] <ghrust> 01[13rust01] 15bors pushed 3 new commits to 06auto: 02http://git.io/X7AN5w
[19:53:02] <ghrust> 13rust/06auto 1401b3490 15gifnksm: libstd: impl Integer for BigUint/BigInt....
[19:53:02] <ghrust> 13rust/06auto 1492f0dc6 15gifnksm: libstd: inlining almost every methods in bigint module.
[19:53:02] <ghrust> 13rust/06auto 141f98233 15bors: auto merge of #6092 : gifnksm/rust/impl-integer-bigint, r=graydon...
[19:53:04] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[19:55:15] *** Joins: pyrac (pyrac@moz-2FEC2239.w92-149.abo.wanadoo.fr)
[20:00:18] *** Joins: engla (engla@moz-BFD53D48.selucle.dyn.perspektivbredband.net)
[20:03:42] *** Quits: busylizzy (lisa@85228838.12D0DC84.211374C4.IP) (Ping timeout)
[20:06:47] *** Joins: busylizzy (lisa@85228838.12D0DC84.211374C4.IP)
[20:06:53] *** Quits: Guest (textual@moz-EBE9F394.bchsia.telus.net) (Quit: Textual IRC Client: www.textualapp.com)
[20:07:09] *** kimundi is now known as zz_kimundi
[20:09:45] *** Quits: mzabaluev (mzabaluev@moz-F3BF265C.dhcp.inet.fi) (Quit: Ð£Ñ…Ð¾Ð¶Ñƒ Ñ Ð¾Ñ‚ Ð²Ð°Ñ)
[20:10:27] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Client exited)
[20:13:45] <doomlord> would anyone here be interested if there was a patch/fork of clang which added the ability to declare "member functons" outside the class
[20:14:07] *** Joins: brson (brson@2557E599.66715431.D25A875A.IP)
[20:14:07] *** ChanServ sets mode: +o brson
[20:14:42] <steven_is_false> doomlord: You would only be able to add support for non-virtual member functions, and I don't see what the use case for that would be.
[20:14:44] <doomlord> such a thing would reduce about half my frustration with C++ i think.. i figure people here might be interested in the same issue ( with rusts struct/impl design)
[20:15:03] <doomlord> steven_is_false,  the use case is symetry between free functions and member functions
[20:15:14] <doomlord> the use case is the motivation for struct/impl in rust
[20:15:29] <steven_is_false> doomlord: I personally think it's bad style to use non virtual member functions.
[20:15:51] <doomlord> yes. and yet everyone does, because the language syntax herds you toward it
[20:15:57] <doomlord> http://www.drdobbs.com/cpp/how-non-member-functions-improve-encapsu/184401197
[20:16:02] *** Quits: pyrac (pyrac@moz-2FEC2239.w92-149.abo.wanadoo.fr) (Quit: pyrac)
[20:16:29] <steven_is_false> doomlord: Can't you just use the friend keyword?
[20:16:39] <doomlord> doesn't solve the problem
[20:17:14] <doomlord> the problem is the asymetry .. the inconsistent,messy loooking code - what happens when you refactor
[20:17:28] <steven_is_false> doomlord: The article appears to agree with my point of view somewhat.
[20:17:29] <doomlord> details emerge when you're coding and its frequent to change back & forth
[20:17:40] <doomlord> yes
[20:17:56] <doomlord> same here- i've come to despise class methods basically
[20:18:13] <doomlord> they increase coupling. thats what rust struct / impl is solving
[20:18:52] <doomlord> the thing about method syntax though is, its popular for readability and IDEs 
[20:19:02] <steven_is_false> doomlord: Which is why you want to be able to add as an extension to clang the ability to create member functions outside of the class.
[20:19:03] <doomlord> you get the dropdown list of potential functions in the IDE
[20:19:12] <doomlord> yes
[20:19:31] <doomlord> there should be no difference between a.foo(b) and foo(a,b) really.
[20:19:41] <steven_is_false> doomlord: The IDE you're thinking about would get the info from clang right? So you wouldn't have to code the extension twice?
[20:19:50] <doomlord> another use case for member syntax is it approximates functional |>
[20:20:35] <doomlord> a.foo(b).bar(c).baz(d)   versus    baz(bar(foo(a,b),c),d)
[20:20:52] <doomlord> F#  you'd just say  a |> foo b |> bar c |> d
[20:20:54] <steven_is_false> doomlord: It seems like a reasonable extension some people would want.
[20:21:01] <doomlord> F#  you'd just say  a |> foo b |> bar c  ^^
[20:21:09] <doomlord> yeah i figure i can't be alone
[20:21:21] <EXetoC> won't D's approach make for more readable code though? being able to call free functions as though they were methods that is
[20:21:29] <doomlord> oh thats nice too
[20:21:34] *** Quits: Benvie (brandon@155E3330.3C2A3393.D4A9B473.IP) (Ping timeout)
[20:21:47] <EXetoC> if that's even the same thing
[20:21:49] <doomlord> but realistically, we're stuck with C++ 
[20:21:58] <doomlord> EXetoC,   i like D's approch for sure
[20:22:21] <steven_is_false> doomlord: I think it'd be easier to implement calling free functions as methods than to implement creating methods outside of a class.
[20:22:30] *** Joins: Benvie (brandon@155E3330.3C2A3393.D4A9B473.IP)
[20:22:41] <doomlord> i haven't even tried this yet;
[20:22:52] <doomlord> i'm weighing up in my head - what is the biggest potential "waste of time"...
[20:23:21] <doomlord> learning clang and making my pet fork of C++.  or learning  a new langauge (like Rust) which may never catch on.
[20:23:43] <doomlord> at least with "pet fork of C++" - i'm still interacting with "mainstream code".... learning C++ libraries
[20:24:18] <doomlord> basically this issue is the main cause of my interest in rust
[20:24:20] *** Joins: KindOne (KindOne@moz-5AF20289.dynamic.ip.windstream.net)
[20:24:32] <EXetoC> yeah. bar(baz, ohai).foo(apples) instead of foo(bar(baz, ohai), apples)
[20:24:39] <EXetoC> if I even got that right
[20:25:14] <doomlord> just to do that - people are encouraged to put too much in the classes, hence the pain of OOP ... gorilla banana problem,increased coupling
[20:25:29] <doomlord> (pain of C++ OOP rather.. )
[20:25:52] <steven_is_false> EXetoC: But isn't that better solved with composition operators?
[20:25:55] *** Joins: echristo (echristo@4DCD7CCA.C774595A.5EFB9497.IP)
[20:26:09] <steven_is_false> Like f# |>
[20:26:10] <doomlord> composition operators - you mean like F#  |>  ?
[20:26:12] <EXetoC> I have no idea
[20:26:22] <doomlord> i'm in agreement there
[20:26:37] <lieshidden> I love the pipe forward operator
[20:27:12] <doomlord> i figure the 'declare-member-anywhere' would be the simplest retrofit to a C++ compiler.. (find the error message,disable it? :)  )
[20:28:03] <doomlord> adding |> to C++ would be nice too... but i figure that would be way more complex
[20:28:16] <doomlord> does anyone here have a similar dilemna?
[20:28:28] <steven_is_false> doomlord: Would it be possible to use template magic to implement compose (bar, foo, gar, baz, too) ?
[20:28:36] <lieshidden> There is a Functional C++ library, I believe it has a pipe operator, though I'm not 100% on that, I haven't used it much.
[20:29:12] <steven_is_false> lieshidden: So it'd work like pipe (foo) | pipe (bar) | baz ?
[20:29:42] <lieshidden> Let me double check to see if I can find the library and see if it has that.
[20:29:58] <doomlord> its an interesting idea but those sorts of things always seem a bit clumsy 
[20:34:24] <lieshidden> hmm, no pipe operator, but it does have a compose() function.
[20:34:34] <lieshidden> The compose() operator composes two unary functions,
[20:34:34] <lieshidden> that is, compose(f, g) yields a new function h such
[20:34:34] <lieshidden> that h(x) is the same as f(g(x)).
[20:35:13] <lieshidden> direct quote from the handbook.
[20:36:12] *** Quits: danluu (danluu@B0917C22.F689A8C9.EB438161.IP) (Quit: danluu)
[20:36:53] <doomlord> ive implemented something like partial application myself, with a mess of maccros and templates lol
[20:37:28] <doomlord> some#defines to declare overloaded functions which curry themselves when you pass fewer arguments
[20:37:43] <doomlord> all seems very kludgy though
[20:38:25] *** zz_kimundi is now known as kimundi
[20:38:56] <lieshidden> Check out the FC++ framework.  There also seems to be an actual pipeline framework available for C++, looking into it now.
[20:40:09] *** Quits: jack (jack@moz-F1B36F9F.hsd1.nm.comcast.net) (Quit: Leaving.)
[20:40:19] *** Joins: jack (jack@moz-F1B36F9F.hsd1.nm.comcast.net)
[20:41:32] *** Joins: pyrac (pyrac@moz-2FEC2239.w92-149.abo.wanadoo.fr)
[20:41:36] *** Quits: pyrac (pyrac@moz-2FEC2239.w92-149.abo.wanadoo.fr) (Quit: pyrac)
[20:42:59] *** kimundi is now known as zz_kimundi
[20:44:00] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[20:44:00] <ghrust> 01[13rust01] 15bors merged 06auto into 06incoming: 02http://git.io/X7AN5w
[20:44:00] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[20:54:21] *** Joins: lkuper (lkuper@moz-D6AAFF3.cs.indiana.edu)
[20:54:34] *** Joins: jviereck (Adium@moz-340574DC.dclient.hispeed.ch)
[21:01:10] <lieshidden> Hey, doomlord, have you ever tried to put something like that into a binary tree, so that as you walk the tree, you perform the first operation, then take the result and perform the next, etc, until the last node left is the final result?
[21:01:11] <steven_is_false> I'm confused about conditions. Are there any examples of good code demonstrating Rust's condition system?
[21:06:15] <benh> rust: task failed at 'enum value matched no variant', [...]/rust/src/libcore/repr.rs:628 <- My program fails with this after executing a couple dozen lines, is that a user code error?
[21:06:26] <benh> Can I get, like, a trace for that?
[21:09:51] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[21:11:46] *** Quits: steven_is_false (quassel@moz-40FEC2ED.bchsia.telus.net) (Client exited)
[21:22:29] <doomlord> lieshidden: ( no, i have not)
[21:22:56] *** Joins: tjc (tjc@moz-E289BB50.pathcom.ca)
[21:23:43] <lieshidden> it might work
[21:24:48] *** Quits: dcamp (dcamp@moz-930D5B64.hsd1.wa.comcast.net) (Ping timeout)
[21:25:07] <SiegeLord> rusti: ~"abc".slice(0, ~"abc".len()) == "abc"
[21:25:10] <rusti> more than 5 lines of output, pastebinned: http://sprunge.us/XDFb
[21:25:45] <SiegeLord> rusti: (~"abc").slice(0, (~"abc").len()) == "abc"
[21:25:46] <rusti> more than 5 lines of output, pastebinned: http://sprunge.us/jRJi
[21:25:54] <ssbr> What mailing list would I use for help with Rust? rust-dev seems inappropriate.
[21:25:56] *** Quits: echristo (echristo@4DCD7CCA.C774595A.5EFB9497.IP) (Quit: echristo)
[21:26:11] <fread2281> rusti: (~"abc").slice(0, (~"abc").len()-1) == "abc"
[21:26:13] <rusti> more than 5 lines of output, pastebinned: http://sprunge.us/cZaW
[21:26:15] <fread2281> rusti: (~"abc").slice(0, (~"abc").len()-1) == ~"abc"
[21:26:17] <rusti> more than 5 lines of output, pastebinned: http://sprunge.us/PEQG
[21:30:11] <jack> ssbr: rust-dev is fine. right now we only have the one list, and all questions are welcome.
[21:30:24] <ssbr> jack: Gotcha, thanks. I'll subscribe and post then :)
[21:30:47] *** Quits: SimonSapin (simon@moz-C4A83ED9.net-89-2-126.rev.numericable.fr) (Ping timeout)
[21:32:43] <SiegeLord> rusti: let a = (~"abc").slice(0, "abc".len()); match a { "abc" => true, _ => false }
[21:32:45] <rusti> more than 5 lines of output, pastebinned: http://sprunge.us/KaZi
[21:33:23] *** Joins: sp3d (a@moz-17CB39F1.fidnet.com)
[21:34:50] *** Joins: Sodel_the_V (user@moz-853663E1.va.shawcable.net)
[21:35:15] *** Quits: tjc (tjc@moz-E289BB50.pathcom.ca) (Quit: zzzzzzzzzz)
[21:37:50] <doomlord> http://www.drdobbs.com/cpp/uniform-function-call-syntax/232700394
[21:38:41] <doomlord> (r.e. my C++ frustration )^^^ the D solution looks ok, but i suppose rust traits allow you to organize the ad hoc additions better and they interact better with generic programming..
[21:40:47] *** Quits: engla (engla@moz-BFD53D48.selucle.dyn.perspektivbredband.net) (Ping timeout)
[21:40:54] *** Quits: RagingDave (RagingDave@moz-3F31ACEF.pools.arcor-ip.net) (Quit: Ex-Chat)
[21:42:15] *** Joins: tjc (tjc@moz-E289BB50.pathcom.ca)
[21:43:36] *** Quits: spider-mario (spidermari@moz-2F72F6FF.dsl.quantic-telecom.net) (Input/output error)
[21:46:04] *** Joins: engla (engla@moz-BFD53D48.selucle.dyn.perspektivbredband.net)
[21:48:58] *** Joins: Jeaye (Jeaye@moz-FD505E54.hsd1.ca.comcast.net)
[21:50:00] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Client exited)
[21:53:58] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[21:58:50] *** Quits: tjc (tjc@moz-E289BB50.pathcom.ca) (Ping timeout)
[22:01:10] *** Joins: tjc (tjc@moz-E289BB50.pathcom.ca)
[22:01:10] *** ChanServ sets mode: +o tjc
[22:05:11] *** Quits: tgt (tgt@moz-D59EE478.aztw.cable.virginmedia.com) (Quit: Computer has gone to sleep.)
[22:07:22] *** Joins: tgt (tgt@moz-D59EE478.aztw.cable.virginmedia.com)
[22:11:40] *** Quits: btipling (btipling@moz-5413CFA4.hsd1.ca.comcast.net) (Quit: Computer has gone to sleep.)
[22:13:52] *** Quits: jviereck (Adium@moz-340574DC.dclient.hispeed.ch) (Quit: Leaving.)
[22:14:52] *** Quits: DasIch (dasich@moz-756B08B1.clients.your-server.de) (Ping timeout)
[22:18:09] *** Joins: DasIch (dasich@moz-756B08B1.clients.your-server.de)
[22:19:21] <aatch> brson, https://github.com/mozilla/rust/pull/5646 - You r+'d the wrong commit.
[22:20:39] <EXetoC> oh shit. ruuuuuuun!
[22:23:13] <aatch> EXetoC, lol.
[22:23:27] <aatch> It just would be nice to be able to build with clang on incoming.
[22:25:09] *** Quits: DasIch (dasich@moz-756B08B1.clients.your-server.de) (Ping timeout)
[22:34:31] <brson> aatch: I did it on purpose to see if that merge commit wasn't needed. was there a merge conflict?
[22:34:56] <aatch> I though that bors only picked up the latest commit?
[22:35:36] <brson> i did not know that
[22:36:03] <brson> ok, I r+d again
[22:36:08] <aatch> brson, thanks.
[22:37:29] <Sodel_the_V> Compiler question: When constructing the method_origin of a supertrait's method (so, when constructing a method_trait), should the def ID be that of the trait, or the supertrait?
[22:38:02] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[22:38:02] <ghrust> 01[13rust01] 15bors pushed 3 new commits to 06auto: 02http://git.io/LDS9nA
[22:38:02] <ghrust> 13rust/06auto 14286e571 15James Miller: Remove rust_unwind.h...
[22:38:02] <ghrust> 13rust/06auto 14507c200 15James Miller: Merge branch 'incoming' of git://github.com/mozilla/rust into unwind-fix
[22:38:02] <ghrust> 13rust/06auto 149f03d45 15bors: auto merge of #5646 : Aatch/rust/unwind-fix, r=brson...
[22:38:04] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[22:38:08] <Sodel_the_V> I'm trying to fix #4100, but it's a tangly one.
[22:39:16] <ssbr> aatch: since we're possibly both online and awake now, want to continue yesterday's conversation where we left off?
[22:39:28] <ssbr> (nobody else has offered to help :<)
[22:39:48] <aatch> Oh, sure
[22:40:14] <ssbr> aatch: to answer your question, what I want to do is make it relatively easy to develop python extension modules using Rust. So I'm writing stuff for Python's distutils (build system for python packages) that can compile rust crates.
[22:40:21] <aatch> I'm guessing I'm one of the few antipodean people here.
[22:40:25] <tjc> Sodel_the_V: I think that was one of the questions that's not handledâ€¦ very consistentlyâ€¦ in the existing code
[22:40:27] *** Joins: DasIch (dasich@moz-756B08B1.clients.your-server.de)
[22:40:31] <tjc> it may well be the root of the bug you're working on
[22:40:45] <tjc> my advice is to pick a convention and document it, then use it consistently
[22:41:17] <aatch> ssbr, ok, so why do you need to build it in that way?
[22:41:54] <Sodel_the_V> tjc: Alright, thanks. It probably is related.
[22:41:59] <ssbr> aatch: I don't need to. What needs to happen is that rust gets compiled (together with maybe some wrapping C code) with linker options that rust likes, and that connect it to the relevant Python library
[22:42:49] <ssbr> aatch: so I either need to hack away to get rustc to produce object files for distutils, or I need to hack away to get distutils to tell me the linker options to give rustc
[22:43:30] <ssbr> The second option is fine except that: A) AFAIK, the only way to give extra stuff like that to rustc is to write it in the crate (massive hackery), B) this makes it less convenient as a way of writing extension modules from Python, since it doesn't properly integrate into the build system
[22:44:11] <ssbr> B is really the more compelling reason. Either approach I seem to end up needing to do something insane.
[22:44:59] <aatch> Well presumably the idea is to build a rust crate that can be loaded from python as a python extension, right?
[22:45:41] *** Quits: CarpNet (Alasdair@moz-EF831A5E.cable.virginmedia.com) (Quit: Leaving)
[22:45:53] <ssbr> aatch: Yes. To do that, I don't think it has to do much more than link against the relevant version of Python
[22:46:10] <ssbr> well
[22:46:29] <ssbr> aatch: you also have to write some C code that tells Python how to load your module, and it might not be easy from Rust since there's lots of macros there
[22:46:57] <ssbr> but AFAIK the _actual_ extension could be a second DLL that links with python and the build crate?
[22:46:57] <aatch> Well you can use #[link_args] attribute on an extern "C" {} block to tell rustc how to link foreign functions
[22:47:12] <ssbr> aatch: the link args depend on what python you build against
[22:47:27] <ssbr> so they're generated dynamically by distutils
[22:47:33] *** Quits: tjc (tjc@moz-E289BB50.pathcom.ca) (Ping timeout)
[22:48:20] <aatch> Ah.
[22:48:35] <ssbr> the "natural" thing to me seems to be to compile the rust crate to an object file, and link that with some (perhaps automatically generated) C code that can define the modulefor Python, and then let distutils also link that with the relevant Python DLL and whatever else it wants to do
[22:49:06] <aatch> ssbr, I think the issue is that rustc doesn't take -l args on the command line
[22:49:10] <ssbr> but rust isn't very nice about that, because it doesn't tell me what to link the object file with to satisfy the build dependencies, unless I pass in weird undocumented config settings
[22:49:12] <aatch> (I think, I'm checking now)
[22:49:19] <ssbr> aatch: if it doesn, it ain't documented
[22:50:04] <ssbr> I'd be happier if it could just tell me what I need to link the object file to when I call rustc -c
[22:50:12] <ssbr> (since then I can integrate it with distutils perfectly)
[22:50:18] <ssbr> but that also works.
[22:50:26] <ssbr> (more work for me though.)
[22:50:47] <aatch> ssbr, unfortunately rustc uses the library name as part of versioning
[22:50:55] *** Joins: tjc (tjc@moz-E289BB50.pathcom.ca)
[22:51:24] <ssbr> aatch: What's the problem with that?
[22:51:40] <aatch> well clang/gcc isn't aware of it
[22:52:00] <aatch> so you would need rustc to output the exact linker flags
[22:52:34] <aatch> which could be useful, but seems like a bit of a hack tbh
[22:52:44] <aatch> for this case at any rate
[22:53:21] <ssbr> I don't see what's really hacky about it. I mean, there's two build systems: rust, and distutils. No matter _what_ happens I'll need one of them to give the exact linker flags needed to "work right" to the other
[22:53:26] <ssbr> either distutils tells rustc, or rustc tells distutils
[22:53:41] <ssbr> the difference is that distutils actually has support for being told extra linker flags
[22:53:56] <ssbr> and in addition, is the build system I most care about using
[22:54:07] *** Quits: tjc (tjc@moz-E289BB50.pathcom.ca) (Ping timeout)
[22:54:09] <aatch> Well doesn't distutils already know the linker flags for python?
[22:54:21] *** Quits: doomlord (doomlod@moz-92EDFF3A.range31-52.btcentralplus.com) (Connection reset by peer)
[22:54:27] <ssbr> aatch: Somewhere, yeah.
[22:54:40] <ssbr> And rustc already knows the linker flags for the crate
[22:55:00] <ssbr> (at least, it does by the time it's produced an object file)
[22:55:02] <ssbr> (I hope.)
[22:55:29] *** Joins: doomlord (doomlod@moz-92EDFF3A.range31-52.btcentralplus.com)
[22:55:38] <aatch> Well if rustc took extra linker flags, then that would allow distutils to tell it how to link to python, right?
[22:55:54] *** Joins: tjc (tjc@moz-E289BB50.pathcom.ca)
[22:56:08] <ssbr> aatch: Yes, but then I would also have to reproduce a lot of distutils' functionality to work with rustc if I want this to be convenient
[22:56:14] <aatch> something like --linker="<flags here>" or something.
[22:56:46] <ssbr> Right.
[22:58:34] <aatch> If I do it right, I might be able to make it easier to do things like statically link against object files too
[22:58:41] *** Quits: tjc (tjc@moz-E289BB50.pathcom.ca) (Ping timeout)
[22:59:14] <aatch> so you can pass --linker="python_shim.o -lpython2" or something
[23:00:56] <ssbr> aatch: Yes. This is not a solution that appeals to me, because distutils does more work in compiling things than rustc does, and makes it harder to get at intermediate results, so it requires much more effort :(
[23:01:04] <ssbr> If that's what you want to do, it'll still work though.
[23:01:21] <ssbr> and would mean not parsing rustc's debug output in stderr
[23:01:24] <ssbr> which is definitely good
[23:01:36] <aatch> ssbr, why do you need the intermediate results?
[23:02:51] <ssbr> aatch: for example, consider the extension module that results from compiling the source files 'myrust.rc', 'myc.c', 'mycython.pyx'. I should separately compile each of those to an object file and then link them together, yes?
[23:03:10] <ssbr> aatch: the object files are intermediate results, though.
[23:03:39] <aatch> ssbr, yes, but you could combine compiling and linking the crate at the end though
[23:03:44] <aatch> if that is possible.
[23:04:07] <ssbr> If it is, then it wouldn't be hard.
[23:04:27] <ssbr> it's certainly undocumented if so :(
[23:04:44] <aatch> So you compile myc.o mycpython.o(?) and then rustc myrust.rs --linker="<args from distutils> myc.o mycpython.o"
[23:04:47] *** Joins: tjc (tjc@moz-E289BB50.pathcom.ca)
[23:04:47] *** ChanServ sets mode: +o tjc
[23:04:52] <ssbr> distutils supports taking in an object file from someone else, but doesn't support giving an object file to someone else -- explicitly
[23:05:07] <ssbr> aatch: right, but only if it's easy to get those object files
[23:05:15] <aatch> Ah, right
[23:05:23] *** Quits: cdidd (cdidd@moz-5374722.broadband.corbina.ru) (Input/output error)
[23:05:43] <aatch> Well getting it to output linker flags shouldn't actually be hard, looking at it.
[23:07:19] <ssbr> Having --linker would also be really nice.
[23:07:37] <aatch> I'll look into both.
[23:07:48] <ssbr> For example, I'm going to write a rust binding for the Python C-API. This can be used from an extension module, but you can also use it to write a program that embeds python
[23:08:04] <ssbr> in the former case, what I link to depends on distutils. In the latter case, I link to whatever python I want to embed
[23:08:20] <ssbr> it can't really be done within a crate file, with what I've seen
[23:08:54] <ssbr> aatch: thanks for looking into it, then :>
[23:09:12] <ssbr> please let me know what you end up deciding
[23:10:12] *** Quits: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP) (Client exited)
[23:16:39] <Jeaye> A macro ident can be 'foo.bar'?
[23:16:54] <Jeaye> can't* it seems
[23:16:54] <aatch> Jeaye, I don't think so
[23:17:03] <Jeaye> Any way around this?
[23:17:06] <aatch> Since an ident can't have a'.'
[23:17:13] <aatch> Is this a matching pattern?
[23:17:26] <Jeaye> axis_test_x01!(e0.z, e0.y, fez, fey);
[23:17:38] <aatch> You can use expr instead
[23:17:48] <aatch> since that's actually a field expression
[23:18:06] <Jeaye> e0 is an ident, e0.z is an expr?
[23:18:22] <aatch> Well it depends, e0 can be parsed as an ident, yes
[23:18:35] <aatch> but e0 by itself is also a valid expression
[23:18:44] <Jeaye> Gotcha.
[23:18:50] <Jeaye> I'll try expr. Thanks. :)
[23:20:35] *** Quits: mib_udl0yu (Mibbit@E248DB08.9470356F.5B864609.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[23:21:36] *** Quits: quibbit (Mibbit@E248DB08.9470356F.5B864609.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[23:21:40] *** Joins: mr_wibble (Mibbit@moz-BF82CC8C.hsd1.va.comcast.net)
[23:22:38] *** Quits: mr_wibble (Mibbit@moz-BF82CC8C.hsd1.va.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[23:26:01] <Sodel_the_V> I'm thinking method_origins for supertrait calls should be something like method_trait_super, since method_self, and method_super are different.
[23:27:17] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Client exited)
[23:27:20] <Sodel_the_V> Trait inheritance in the compiler is already kind of tangly, so we might as well be explicit when we're trying to do it.
[23:28:49] *** Quits: jrfeenst (jrfeenst@moz-3265BD65.cpe.norwoodlight.com) (Quit: jrfeenst)
[23:31:16] <tjc> Sodel_the_V: anything to make it more explicit would be great
[23:31:25] *** Quits: EXetoC (ex@moz-2DBEB1E4.customer.t3.se) (Quit: WeeChat 0.4.0)
[23:31:29] <tjc> I have a branch where I tried to do something like that, but it's long bit-rotted and I never finished what I was trying to do anyway
[23:34:22] *** Joins: EXetoC (ex@moz-2DBEB1E4.customer.t3.se)
[23:38:01] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[23:38:01] <ghrust> 01[13rust01] 15bors merged 06auto into 06incoming: 02http://git.io/LDS9nA
[23:38:01] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[23:38:05] *** Quits: libertas (libertas@3CBD0449.418C4A1B.593B3862.IP) (Quit: Lost terminal)
[23:38:42] *** Quits: vosen (vosen@moz-266BA656.icpnet.pl) (Quit: Leaving)
[23:38:50] <Sodel_the_V> tjz: Well, a fresh effort it is!
[23:39:45] *** Joins: Jesin (Jessin_@moz-1866A4CC.cc.lehigh.edu)
[23:39:48] <Sodel_the_V> tjz: Though, is that branch still kicking around? It might give me an idea of some of the other places I need to be aware of.
[23:42:44] *** Quits: tjc (tjc@moz-E289BB50.pathcom.ca) (Ping timeout)
[23:43:58] *** Joins: tjc (tjc@moz-E289BB50.pathcom.ca)
[23:45:38] *** Joins: btipling (btipling@moz-5413CFA4.hsd1.ca.comcast.net)
[23:45:40] <ssbr> Umf, I don't know what to do here: http://www.bpaste.net/show/VvNP1jVrV6wcfMI1AwaF/ -- this fails since I haven't done "use raw", AIUI, but I can't put "use raw" inside a foreign module. So what do I do?
[23:45:57] <DanC> suggestions on what to use instead of vec.view()?
[23:46:14] *** Quits: kripton (kripton-mo@moz-B2051A72.kripserver.net) (Ping timeout)
[23:47:00] *** Joins: steven_is_false (quassel@moz-9B148C35.bchsia.telus.net)
[23:47:18] *** Quits: btipling (btipling@moz-5413CFA4.hsd1.ca.comcast.net) (Quit: Computer has gone to sleep.)
[23:47:21] * DanC reads https://github.com/mozilla/rust/wiki/Doc-detailed-release-notes
[23:48:06] <aatch> ssbr, extern mod doesn't work that way, does it?
[23:48:16] <ssbr> aatch: It doesn't?
[23:48:24] <tjc> Sodel_the_V: I'm not sure if I still have the branch, let me check...
[23:48:28] <ssbr> I don't know. I haven't actually built this successfully yet.
[23:48:42] <aatch> I think you need to have mod functions { extern "C" { ... } }
[23:48:56] <aatch> I think extern mod is for specifying external crates.
[23:49:04] <ssbr> aatch: that's a different extern mod
[23:49:05] *** Quits: FrozenCow_ (FrozenCow@moz-9DF5D010.dynamic.upc.nl) (Quit: Leaving)
[23:49:11] <ssbr> "extern" means like four different things AIUI
[23:49:23] <aatch> At any rate, just extern "C" { } works 
[23:49:42] <ssbr> aatch: then what's the point of foreign modules?
[23:49:44] <ssbr> http://static.rust-lang.org/doc/rust.html#foreign-modules
[23:49:51] <ssbr> just the automatic linking?
[23:50:10] <aatch> I don't know anymore.
[23:50:17] <ssbr> :(
[23:50:53] *** Joins: kripton (kripton-mo@moz-B2051A72.kripserver.net)
[23:50:57] <aatch> At any rate, refactoring it down to a mod and an extern block separately works
[23:50:58] *** Quits: tgt (tgt@moz-D59EE478.aztw.cable.virginmedia.com) (Quit: Computer has gone to sleep.)
[23:51:23] <steven_is_false> Question. Is it possible now, or will it be possible later to access code documentation at runtime?
[23:51:46] *** Joins: DasIch_ (DasIch@moz-20349966.dip0.t-ipconnect.de)
[23:51:52] *** Joins: dcamp (dcamp@moz-930D5B64.hsd1.wa.comcast.net)
[23:51:54] <aatch> steven_is_false, it's not possible (practically) and likely won't be.
[23:52:08] <steven_is_false> practically?
[23:52:19] *** Quits: DasIch_ (DasIch@moz-20349966.dip0.t-ipconnect.de) (Quit: DasIch_)
[23:52:23] *** Joins: DasIch_ (DasIch@moz-20349966.dip0.t-ipconnect.de)
[23:52:26] *** Quits: DasIch_ (DasIch@moz-20349966.dip0.t-ipconnect.de) (Quit: DasIch_)
[23:53:09] *** Quits: twm (twm@moz-13417AD3.dsl.static.sonic.net) (Ping timeout)
[23:53:11] <doomlord> what sort of use did you have in mind for that, just curious
[23:53:14] <aatch> Well you could parse the crate to get at the documention
[23:53:15] <tjc> Sodel_the_V: Sorry, couldn't find it :-(
[23:53:34] <aatch> It's an attribute, so it /might/ be stored in the metadata
[23:53:36] <Sodel_the_V> tjc: No worries. :-)
[23:53:41] <steven_is_false> doomlord: I was thinking of something in the style of Emacs docstrings.
[23:53:42] <aatch> heavy emphasis on might though
[23:53:42] <Sodel_the_V> Thanks for looking!
[23:53:51] <doomlord> for scripting bindings ?
[23:54:14] <doomlord> or UI bindings to functions within the rust language?
[23:54:24] <steven_is_false> I'm already experimenting with using my dlfcn bindings to dynamically load rust crates at runtime.
[23:55:00] *** Quits: tjc (tjc@moz-E289BB50.pathcom.ca) (Ping timeout)
[23:55:08] <steven_is_false> It'd be cool if as well as loading the Rust functions that are exported I could load the accompanying documentation.
[23:55:11] <doomlord> something i'd always wanted is the abiilty to capture variable arguments in a structure easily for that sort ofthing, i think rust macros might be helpful
[23:55:35] <doomlord> this is the sort of thing that has me lusting after lisp's macros
[23:55:36] *** Joins: tjc (tjc@moz-E289BB50.pathcom.ca)
[23:55:36] *** ChanServ sets mode: +o tjc
[23:56:15] <ssbr> aatch: http://www.bpaste.net/show/PcmveB0uUxtYoQ3YSIp4/
[23:56:27] <ssbr> aatch: apparently I need to do 'pub extern "C"'. Why?
[23:57:18] <ssbr> if I do `extern "C" { pub fn foo(...);}`, then foo is private. If I do `pub extern "C" { fn foo(...);}` then foo is public
[23:57:20] <steven_is_false> Why I a was thinking accessing documentation at runtime would be possible is that apparently it is just sugar for the attribute #[doc = "documentation"]
[23:57:20] <aatch> ssbr, thats just because of the normal default visibility rules
[23:57:42] *** Quits: brson (brson@2557E599.66715431.D25A875A.IP) (Client exited)
[23:58:18] <aatch> steven_is_false, it depends on what you mean. I guess it could be exposed via reflection
[23:58:21] <ssbr> aatch: I want to read up on that, but the docs are broken, or my browser is
[23:58:32] <ssbr> http://static.rust-lang.org/doc/rust.html#visibility-modifiers <-- doesn't go anywhere, but is linked to from "Structure types"
[23:59:33] *** Quits: tjc (tjc@moz-E289BB50.pathcom.ca) (Quit: zzzzzzzzzz)
