[00:00:06] <acrichto> I think that we don't want libstd to start referencing all other crates
[00:00:11] <cmr> strcat: not third party, just the officially sanctioned ones.
[00:00:12] <acrichto> but there should be a location to discover all other crates
[00:00:21] <cmr> I really don't see why not.
[00:00:33] <cmr> Even if it's a toggle in the docs to display external implementors.
[00:01:01] <acrichto> if we did more dynamic stuff in the html this may be possible
[00:01:18] <acrichto> but is all seems kinda hacky to just expect libstd dox to be lying around
[00:01:28] <acrichto> like almost no crates can edit libstd dox b/c they're online
[00:02:10] <acrichto> it is a serious problem of crate discovery though
[00:02:19] <acrichto> everyone knows where to find libstd/extra dox
[00:02:25] <acrichto> but where do you find libnum dox?
[00:02:26] <acrichto> libio?
[00:02:28] <acrichto> libgreen?
[00:02:59] <acrichto> I think the search index is actually merge-able in that if you know the location of N crate search indexes you can merge them all into one
[00:02:59] <cmr> docs.rust-lang.org/master/$CRATE_NAME
[00:03:14] <acrichto> docs.rust-lang.org/master/index.html
[00:03:18] <acrichto> that's whate everyone will expect
[00:03:28] <cmr> ok, and that'd have the all-crate index.
[00:03:44] <acrichto> ideally generated by rustdoc
[00:05:50] <larsberg> acrichto: unfortunately no luck on the change to use the dlopen-style crate_map_toplevel loading
[00:06:04] <acrichto> larsberg: that's terrifying
[00:06:11] <acrichto> that should have worked guaranteed
[00:06:13] <larsberg> added some debug spew, though, and it looks like we're just getting back NULL 
[00:06:29] <acrichto> so nm reported a leading underscore, right?
[00:06:29] <larsberg> is it possible that dl::open_internal() is using libstd instead of libservo, where the symbol is? 
[00:06:34] * larsberg is grasping at straws
[00:06:41] *** Quits: bytewise (bytewise@moz-4B2383CA.adsl.alicedsl.de) (Quit: Leaving)
[00:06:50] <larsberg> acrichto: yes, I ensured that the symbol we attempt to load matches the one in nm character-for-character
[00:07:05] <acrichto> larsberg: oh so you're loading "_rust_crate_map_toplevel"?
[00:07:12] <acrichto> or dlsym'ing that
[00:07:18] <larsberg> acrichto: yes
[00:07:23] <acrichto> try dropping the leading underscore
[00:07:32] <larsberg> well, that's what get_crate_map is using
[00:07:37] <acrichto> I never understood where the implicit stuff works
[00:07:40] <acrichto> hmm...
[00:07:48] <acrichto> maybe ti wouldn't matter
[00:09:30] *** Quits: luziie (lucy@moz-CD18B14B.customer.cdi.no) (Connection reset by peer)
[00:10:06] <larsberg> do you think the module argument is correct?
[00:10:20] <acrichto> of null() ?
[00:10:31] *** Joins: luz (lucy@moz-CD18B14B.customer.cdi.no)
[00:10:53] <larsberg> yeah, won't that be the executable, which will have nothing?
[00:10:59] <larsberg> or does dlsym do magic?
[00:12:13] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[00:12:17] <acrichto> unsure
[00:12:30] <acrichto> this has worked before... but only in other contexts?
[00:12:48] <larsberg> oh, NULL = RTLD_DEFAULT
[00:12:59] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[00:13:00] <larsberg> and if you RTLD_DEFAULT to dlsym, it'll search in all the things
[00:13:43] <larsberg> hrmph, as long as they weren't loaded with LOCAL specified, but that's under the hood in android_dlopen (which is how we dlopen there)
[00:13:46] <larsberg> I'll keep poking around
[00:25:35] *** Quits: ecr (chatzilla@moz-1FE08DA0.dhcp4.washington.edu) (Quit: ChatZilla 0.9.90.1 [Firefox 27.0/20140113161826])
[00:27:05] *** Joins: new_one (new_one@9C883110.CCA5821A.B3C0173E.IP)
[00:29:09] <strcat> acrichto: how hard would switching to mingw-w64 be?
[00:33:53] <acrichto> strcat: I think the process would be to make a snapshot builder cross compiling from some host, then set up a new bot with the configuration
[00:34:01] <acrichto> the hard part is that dealing with the builders is hard :\
[00:40:58] <dbaupp> acrichto: can you delete your r+ on https://github.com/mozilla/rust/pull/11632 please?
[00:41:56] <acrichto> dbaupp: done
[00:42:10] <acrichto> oh whoops
[00:42:14] <acrichto> good catch
[01:02:41] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[01:02:41] <ghrust> 01[13rust01] 15alexcrichton merged 06auto into 06snap-stage3: 02http://git.io/ALmmAA
[01:02:41] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[01:06:59] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[01:06:59] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/sIQKhQ
[01:06:59] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[01:09:59] <strcat> acrichto: hm, we already need a snapshot
[01:10:01] <strcat> ?
[01:10:12] <acrichto> #3511 and syntax extensions
[01:10:15] <strcat> ah
[01:10:21] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Quit: Leaving...)
[01:10:22] <acrichto> we don't realy "need" it but we may as well
[01:11:18] *** Quits: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[01:11:45] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[01:11:45] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/oNZe3w
[01:11:45] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[01:12:56] *** Quits: TimAbraldes (quassel@125EF623.B2666F0E.66399531.IP) (Connection reset by peer)
[01:17:09] <brson> acrichto: i will get at least one of these concurrency prs reviewed tonight
[01:17:26] <acrichto> brson: no rush of course
[01:25:53] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Quit: leaving)
[01:26:13] *** Joins: brson (brson@981AA104.E81F12CD.76F66111.IP)
[01:26:13] *** ChanServ sets mode: +qo brson brson
[01:30:51] *** Quits: dbaupp (Thunderbir@moz-EE10A658.lns20.syd6.internode.on.net) (Ping timeout)
[01:31:58] *** Joins: dbaupp (Thunderbir@moz-CD216EE4.lns20.syd6.internode.on.net)
[01:36:36] *** Quits: dbaupp (Thunderbir@moz-CD216EE4.lns20.syd6.internode.on.net) (Ping timeout)
[01:40:46] *** Joins: dbaupp (Thunderbir@moz-54209D42.lns20.syd6.internode.on.net)
[01:45:35] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[01:45:35] <ghrust> 01[13rust01] 15thestinger 04deleted 06snapshot at 1429840ad: 02http://git.io/xLHW_A
[01:45:35] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[01:45:43] * strcat isn't sure why he pushed that to rust instead of origin
[01:47:27] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[01:52:23] *** Quits: acrichto (acrichto@moz-B63D64BD.res.cmu.edu) (Quit: leaving)
[01:52:58] *** Joins: acrichto (acrichto@moz-B63D64BD.res.cmu.edu)
[01:52:58] *** ChanServ sets mode: +o acrichto
[01:56:43] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[01:56:43] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 1478d58f2 to 142ff358c: 02http://git.io/N3iJvQ
[01:56:43] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[02:00:21] *** Quits: Edwards (MeltdownMo@moz-B62E1D6B.members.linode.com) (Quit: ZNC - http://znc.in)
[02:02:06] *** Quits: brson (brson@981AA104.E81F12CD.76F66111.IP) (Ping timeout)
[02:02:34] *** Joins: Edwards (MeltdownMo@moz-B62E1D6B.members.linode.com)
[02:02:44] *** Joins: lpy (lpy@7360AA58.F09091A8.1348A864.IP)
[02:04:58] *** Joins: tjc (tjc@moz-6EB4E533.dsl.tsoft.com)
[02:04:58] *** ChanServ sets mode: +o tjc
[02:05:25] *** Joins: brson (brson@981AA104.E81F12CD.76F66111.IP)
[02:05:25] *** ChanServ sets mode: +qo brson brson
[02:05:44] *** bstrie_disappeared_again is now known as bstrie_oh_hai_there_siegelord
[02:06:34] *** bstrie_oh_hai_there_siegelord is now known as bstrie_nope
[02:09:37] <strcat> acrichto: https://github.com/mozilla/rust/pull/11635 r? I found some unsound mutability issues (mutating immutable variables) but I've left those alone for now (1 thing at a time)
[02:10:14] *** Quits: doomlord_ (servitor@moz-CA917A47.range86-184.btcentralplus.com) (Ping timeout)
[02:11:14] *** Joins: doomlord_ (servitor@moz-D9C46C01.range86-184.btcentralplus.com)
[02:11:35] <dbaupp> woah, there's a lot of approved things in the queue
[02:11:55] <cmr> s/whoa/yay/
[02:12:15] *** Quits: doomlord_ (servitor@moz-D9C46C01.range86-184.btcentralplus.com) (Quit: Leaving)
[02:13:48] <dbaupp> it means my PRs will take days to go in :'(
[02:13:55] * dbaupp <- greedy
[02:13:57] <dbaupp> ;P
[02:15:22] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[02:16:01] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[02:16:01] <ghrust> 01[13rust01] 15thestinger 04force-pushed 06try from 14d538c18 to 14b746a77: 02http://git.io/k471pw
[02:16:01] <ghrust> 13rust/06try 14b746a77 15Daniel Micay: handle zero-size allocations correctly...
[02:16:01] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[02:17:33] <acrichto> strcat: I'm not sure that anything other than updating malloc_raw itself is the thing we should be doing
[02:17:55] <strcat> acrichto: we'll want to print an error on OOM before abort so it should go through the same path
[02:17:57] <acrichto> also, are we guaranteed to be able to free(NULL) ?
[02:18:02] <strcat> acrichto: yes that's standard
[02:18:09] <strcat> acrichto: thus why realloc/malloc are allowed to return null
[02:18:20] <strcat> it requires that they either return null or another pointer valid to pass to free
[02:18:26] <acrichto> are we not guaranteed that malloc returns null on a 0-sized allocation?
[02:18:29] <acrichto> why do we need this at all?
[02:18:37] <strcat> acrichto: malloc may or may not return null on a 0-size allocation
[02:18:51] <strcat> atm we abort on ~() with some C libraries
[02:18:55] <cmr> malloc can return whatever it wants.
[02:19:01] <strcat> acrichto: and we waste memory by allocating with ~()
[02:19:21] <strcat> acrichto: I found this with rust-core's vector because I was testing zero-size types and had musl built without the glibc-malloc-compatibility
[02:19:50] <strcat> was making a vector of zero-size types and it would abort, since it got back null
[02:20:10] <acrichto> why change everywhere else though?
[02:20:18] <acrichto> what's to stop new malloc() from being introduced?
[02:20:19] <strcat> acrichto: anyway malloc_raw/realloc_raw are just intended to be malloc/realloc with centralized OOM handling, so I don't think it makes sense to call malloc/realloc directly
[02:20:23] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[02:20:49] <strcat> acrichto: I'm not replacing other places to handle 0-size types, but rather so we can print an OOM error in a central place and so a check won't be deleted by accident
[02:20:56] <acrichto> hmm, we're gonna need to make sure others understand to not let more malloc() in
[02:21:04] *** Joins: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp)
[02:21:14] *** Quits: geoffhill (geoffhill@moz-738DC0DB.org) (Quit: )
[02:21:32] <acrichto> seems weird to malloc_raw and not free_raw?
[02:21:42] <strcat> acrichto: well, malloc_raw/realloc_raw actually do stuff
[02:21:45] <strcat> free_raw would just call free
[02:21:50] * strcat shrugs
[02:21:56] <strcat> acrichto: free has the wrong signature anyway
[02:22:02] <strcat> should be *mut c_void
[02:22:19] <acrichto> I don't understand that
[02:22:23] <strcat> acrichto: the *mut thing?
[02:22:24] <acrichto> literally everything should be *mut c_void
[02:22:38] <strcat> not literally everything
[02:22:43] <strcat> just non-const C parameters
[02:22:50] <acrichto> why does * vs *mut matter?
[02:23:04] <strcat> acrichto: because if you don't get mutability right at the bottom layer, you get it wrong as you build up
[02:23:04] <acrichto> we've talked about removing *mut in the past I think...
[02:23:14] <strcat> want dozens and dozens of examples of unsound mutability issues in libstd? ;p
[02:23:28] <acrichto> c functions are unsafe, this isn't really helping at all
[02:23:36] <strcat> it does help
[02:23:43] <acrichto> how?
[02:23:46] <strcat> acrichto: giving C functions the wrong types makes it harder to write correct code
[02:23:53] <strcat> acrichto: because if you use *mut, it won't let you just coerce &T to it
[02:24:02] <strcat> and then you won't be able to accidentally mutate an &T
[02:24:02] <acrichto> if you're calling C code you're already transmuting things all over the plae
[02:24:06] <strcat> which can point to an immutable local var
[02:24:08] <strcat> acrichto: doesn't matter
[02:24:15] <strcat> acrichto: there are literally hundreds of mistakes from this in the stdlib
[02:24:30] <acrichto> so this is an argument for removing auto-coercion
[02:24:34] <strcat> no
[02:24:39] <strcat> it's an argument for using the right types
[02:24:44] <strcat> acrichto: removing auto-coercion won't help...
[02:24:47] <strcat> acrichto: ok so...
[02:24:51] <strcat> you translate the C API correctly
[02:24:59] <strcat> rust helps you pass &mut when it can mutate
[02:25:01] <strcat> & when it can't
[02:25:05] <strcat> if you don't, it throws an error
[02:25:16] <cmr> I'm really with strcat on this one.
[02:25:18] <strcat> it's like saying lints are useless, const is useless in C, C compiler warnings are useless
[02:25:20] <cmr> I prefer having *mut
[02:25:25] <strcat> acrichto: it doesn't need to be 100% safe to be useful
[02:25:45] <cmr> We can't do tbaa if you accidentally have poor mutability.
[02:25:47] <strcat> C APIs are correctly marked as const/non-const and if you translate them correctly, rustc helps you get the &/&mut right
[02:25:55] <strcat> acrichto: libstd is blocking alias analysis
[02:25:57] <cmr> We shouldn't be making it *harder* to write correct code.
[02:26:08] <strcat> acrichto: I'd have submitted a few things by now if it didn't do this..
[02:26:10] * strcat shrugs
[02:26:11] <cmr> *correct unsafe code)
[02:26:12] <strcat> so
[02:26:14] <strcat> it does this
[02:26:41] <strcat> extern { fn foo(x: *mut u32); } let x = 5; foo(&x) // type error
[02:26:44] <acrichto> like honestly this is a reason to remove auto coercion
[02:26:50] <strcat> acrichto: I don't
[02:26:53] <acrichto> so you're worried about writing declarations safely
[02:26:54] <strcat> acrichto: then you'll just use transmute
[02:26:58] <strcat> people will still get it wrong
[02:27:02] <acrichto> there is *nothing* preventing you from translating the c funciton incorrectly
[02:27:07] <acrichto> which means it will continue to happen
[02:27:12] <strcat> acrichto: rust-bindgen does it correctly 
[02:27:14] <acrichto> which means you still can't to tbaa what not
[02:27:16] <strcat> it uses *mut for non-const
[02:27:19] <acrichto> ok so one thing does it right
[02:27:21] <acrichto> that's not enough
[02:27:30] <strcat> acrichto: that's enough, writing definitions by hand is bad
[02:27:41] <strcat> rustc should be reading headers with libclang anyway for portability
[02:27:44] <acrichto> that's what we have right now
[02:27:50] <strcat> acrichto: I write my definitions by hand
[02:27:57] <strcat> don't punish me with mutability soundness issues in my code
[02:28:00] <strcat> because libstd is unable to do it
[02:28:07] * strcat shrugs
[02:28:19] <acrichto> so * vs *mut needs broader discussion
[02:28:24] <strcat> call * *const
[02:28:30] <strcat> it is very useful
[02:28:41] <strcat> libstd doesn't do mutability correctly
[02:28:47] <strcat> so it's a bad place to point at for justifying anything
[02:28:57] <strcat> it does lots of this
[02:29:40] <strcat> extern { fn foo(x: *output); /* wrong */ } let x = uninit(); foo(&x) /* undefined with alias analysis and currently unsound per the docs */
[02:29:40] <acrichto> regardless, realloc() is leaking right now if the new size is 0
[02:29:45] <acrichto> you need to free the previous thing
[02:29:49] <strcat> acrichto: sorry I did it wrong in my PR
[02:29:56] <strcat> https://github.com/thestinger/rust-core/commit/f53f4c57af5d1564d7993ccf7e00d61b7fba998e
[02:29:58] <strcat> it's proper there ;p
[02:30:03] <strcat> silly mistake..
[02:30:21] <strcat> ah
[02:30:32] <strcat> I think it's because I discovered free has the wrong type signature and got sidetracked
[02:31:46] <strcat> acrichto: anyway I think it's important to get it right in the definitions so that it's not really harder to get & vs. &mut right
[02:31:59] <strcat> and then it becomes hard to get mut vs. non-mut variables right
[02:32:09] <strcat> s/really harder/much harder/
[02:32:12] <acrichto> how does this affect alias analysis?
[02:32:21] <strcat> acrichto: let x = 5; foo(&x)
[02:32:23] <strcat> where foo mutates `x`
[02:32:28] <strcat> is very common in libstd
[02:32:40] <acrichto> that doesn't answer my question
[02:33:09] <strcat> acrichto: a pointer that's immutable doesn't alias any other pointer, in LLVM terms
[02:33:18] <strcat> alias means 'has a memory dependency with' for LLVM
[02:33:31] <strcat> for NoAlias
[02:33:46] <acrichto> ok, so *mut vs * will not help
[02:33:50] <strcat> acrichto: &T with T: Freeze would be marked as not aliasing with other pointers
[02:33:54] <strcat> acrichto: *mut vs * will help
[02:34:01] <strcat> I don't understand why you think it won't
[02:34:07] <acrichto> not at all, have a C identity function
[02:34:13] <acrichto> takes a pointer returns a pointer
[02:34:19] <acrichto> the returned pointer aliases the local pointer
[02:34:27] <acrichto> and you can make any number of new local pointers
[02:34:28] <strcat> acrichto: not a problem
[02:34:30] <strcat> again
[02:34:31] <acrichto> &mut -> *mut isn't a borrow
[02:34:41] <strcat> acrichto: doesn't matter
[02:34:44] <strcat> acrichto: ok
[02:34:47] <strcat> so in your opinion
[02:34:53] <strcat> C compiler warnings and static analysis are useless
[02:34:55] <strcat> great
[02:35:07] <acrichto> you realize that's completely wrong? you're just saying things?
[02:35:07] <strcat> lacking 100% verification of safety != not useful
[02:35:16] <strcat> acrichto: ok so how is const in C not useful?
[02:35:19] <strcat> it doesn't do borrow checking
[02:35:23] <strcat> it certainly helps you get mutability right
[02:35:32] <strcat> there are compiler warnings/errors
[02:35:32] <acrichto> so right now I'm trying to understand how this affects tbaa
[02:35:43] <strcat> acrichto: because libstd doesn't mark these APIs correctly
[02:35:50] <strcat> and therefore, it has widespread misuse of immutability
[02:35:52] <acrichto> that does not answer my question
[02:35:58] <strcat> it mutates through &T and mutates local variables
[02:36:12] <strcat> that's unsound per the language definition and undefined behaviour if we communicate aliasing info to LLVM
[02:36:26] <larsberg> acrichto: dlsym was not searching all of the loaded libraries
[02:36:39] <larsberg> when I horribly hacked the code to instead search for it in a hardcoded libservo.so
[02:36:41] <larsberg> It found it
[02:36:53] <acrichto> larsberg: weird? is there an option we can pass through to dlopen or dlsym?
[02:37:05] <dbaupp> if we communicate that x is immutable in `let x = 5; foo(&x as *int); return x;`, that may get optimised to `foo(&5) return 5;`
[02:37:21] <acrichto> so then every transmute is unsound in the face of optimizations?
[02:37:26] <dbaupp> yes
[02:37:26] <strcat> acrichto: no
[02:37:34] <larsberg> acrichto: we're already passing NULL to dlopen, which should return a handle that tells dlsym calls to search all of the loaded libaries
[02:37:39] <larsberg> I assume this is just an android thing
[02:37:41] <strcat> acrichto: breaking the mutability rules via transmute is wrong
[02:37:45] <strcat> most transmutes don't do that
[02:38:00] <acrichto> strcat: transmute_copy on a &mut pointer
[02:38:02] <larsberg> acrichto: maybe it will go away if we generate a library that we can statically link into our binary?
[02:38:14] <acrichto> larsberg: that should probably help y eah
[02:38:20] <strcat> acrichto: that's not 'all transmutes'
[02:38:28] <strcat> 'some transmutes are wrong' doesn't mean 'all transmutes are wrong'
[02:38:37] <strcat> making aliasing &mut ptrs is viewed as wrong already
[02:38:58] <strcat> mutating an immutable local that's a Freeze type should certainly be viewed as wrong
[02:39:04] <strcat> otherwise why do we need mutability at all?
[02:39:06] <acrichto> strcat: so you want to fix *all* libc apis to enable tbaa being sound, but that means you *also* need to go fix all transmutes
[02:39:16] <strcat> acrichto: no, I don't need to fix them
[02:39:18] <acrichto> like changing the apis is fine, but it doesn't magically enable everything
[02:39:20] <strcat> rust-core does it right
[02:39:27] <strcat> stuff I build on rust-core will do it right
[02:40:05] <dbaupp> how does people using transmute incorrectly justify disabling optimisations? surely that's a fundamental problem with transmute, rather than the optimisations.
[02:40:22] <strcat> if we don't care about libstd following the mutability rules, we can introduce an attribute to disable alias analysis if you use libstd
[02:40:52] * strcat shrugs
[02:41:07] <acrichto> so my worry is that we can go on these large crusades to go fix everything
[02:41:16] <acrichto> but there's nothing make sure that everything stays fixed
[02:41:21] *** Quits: tjc (tjc@moz-6EB4E533.dsl.tsoft.com) (Quit: Textual IRC Client: www.textualapp.com)
[02:41:34] <acrichto> like we can certainly go over all libc apis and change * to *mut where necessary
[02:41:42] <acrichto> and we can go fix all transmutes to not alias &mut properly
[02:41:46] <strcat> not using so much unsafe code
[02:41:49] <acrichto> but nothing is keeping it that way
[02:42:01] <dbaupp> that's why `unsafe` is unsafe
[02:42:08] <acrichto> you'll have the exact same amount of unsafe code
[02:42:21] <dbaupp> it needs to be written very carefully written.
[02:42:22] <cmr> we could have transmute_nomut instead of just using an unlimited transmute everywhere.
[02:42:39] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[02:42:43] <strcat> cmr: what exactly would it check for though?
[02:43:02] <cmr> strcat: it wouldn't be allowed to change mutability
[02:43:11] <cmr> it'd be transmute xor transmute_mut
[02:43:12] <dbaupp> yes: I much prefer using one of the restricted specialisation of transmute to full transmute, e.g. *int -> &int via &*
[02:44:02] <strcat> imo, * should be called *const
[02:44:06] <strcat> and *mut should coerce to *const
[02:44:15] <strcat> and then we'd have a foundation for helping people get mutability right
[02:44:17] <dbaupp> just remove * all together?
[02:44:22] <strcat> no please don't
[02:44:35] <dbaupp> I meant remove the plain *
[02:44:39] <strcat> oh, yes
[02:44:40] <dbaupp> i.e. just ahve *const and *mut
[02:44:42] <strcat> yes
[02:44:46] <strcat> corresponding to C
[02:45:16] <strcat> you wouldn't *have* to follow it.... but like C, it's there to help you
[02:45:54] <strcat> i.e. as long as you get the libc bindings right (which can and should be automatic ASAP), then you have as much help as you do in C from the start
[02:46:05] <strcat> atm it's harder to write correct unsafe code than it is to write C
[02:46:11] <strcat> in C, you start with the definitions from headers
[02:46:17] <strcat> and you have compiler warnings
[02:46:26] <strcat> for lots of stuff
[02:46:39] <strcat> and you have address sanitizer, memory sanitizer, etc.
[02:46:50] *** Parts: a_m0d (a_m0d@moz-322A4DE4.acanac.net) ()
[02:47:34] * dbaupp is in violent agreement
[02:47:45] * cmr is too
[02:48:22] <strcat> acrichto: anyway I know it's problematic, we don't do good enough review
[02:48:29] <strcat> we don't treat unsafe as something to carefully audit
[02:48:57] <cmr> (servo does this already)
[02:49:00] <acrichto> I'm all for using libclang and whatnot
[02:49:06] <strcat> but I don't think removing *mut is going to help, it just makes it harder to write low-level code imo
[02:49:12] <acrichto> but it's important to remember that there's no silver bullet here
[02:49:18] <strcat> it's true that *since libstd does it wrong*, *mut isn't helping libstd
[02:49:30] <strcat> but I certainly think it helps a lot
[02:49:33] <strcat> as much as const in C
[02:50:34] <strcat> fn foo(input: *u32, output: *mut u32)
[02:50:48] <strcat> foo(&mut output, &input) /* error */
[02:50:59] <strcat> foo(&input, &output) /* error */
[02:51:02] * strcat shrugs
[02:51:21] <strcat> it's like warn_unused_result - it doesn't add verifiable safety, but it adds a tool to help you
[02:51:39] <acrichto> I'd almost like to switch the two
[02:51:40] <SiegeLord> Why does * need const, but & doesn't for the purposes of elucidating their mutability?
[02:51:43] <acrichto> *const and *, not * and *mut
[02:52:00] <acrichto> it mirrors C a little more closely?
[02:52:04] <acrichto> there's kinda downsides all around
[02:52:13] <strcat> acrichto: yes, but I like *mut because it corresponds to rust's conventions
[02:52:16] <SiegeLord> * and *mut mirrors the rest of Rust
[02:52:27] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[02:52:34] <strcat> acrichto: tbh, *I* don't have issues with *T, I strongly associated it with immutable
[02:52:46] <strcat> but since it's a problem, I think renaming it to *const T would help
[02:52:55] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[02:53:17] <strcat> I make a lot of mistakes in my code but that isn't one I do ;p
[02:53:42] *** Joins: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[02:54:47] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[02:55:48] <strcat> acrichto: . If size is 0, either a null pointer or a unique pointer that can be successfully passed to free() shall be returned.
[02:55:56] <strcat> it's funny that they give the 'unique pointer' guarantee at all
[02:56:15] <strcat> so, you can return null, but you can't return the same pointer each time instead and make free(zero_size_alloc_ptr) a no-op
[02:56:17] * strcat shrugs
[02:56:25] <strcat> C!
[02:57:31] <jack> what's with all the sporadic test failure?
[02:59:21] <cmr> jack: I think external syntax extensions are a bit shaky cross-compiling atm.
[03:02:29] <strcat> acrichto: https://github.com/mozilla/rust/pull/11635 updated
[03:02:47] <strcat> acrichto: could reference the C standard but POSIX is freely available online so that's better imo
[03:02:55] <strcat> it has the same requirements for these
[03:04:58] <strcat> ah missed on in libextra
[03:06:22] <strcat> acrichto: heh, github fixed the bug I reported :)
[03:06:30] <strcat> acrichto: they preserve commit comments after rebase now!
[03:06:35] <acrichto> plz tell me that was chronological ordering!
[03:06:36] <acrichto> aww
[03:06:50] <strcat> they emailed me back saying they would fix it but I didn't check
[03:07:01] <acrichto> wait they did?
[03:07:08] <strcat> acrichto: no I mean for preserving :(
[03:07:12] <strcat> acrichto: they refused to fix ordering
[03:07:19] <acrichto> what comment was preserved?
[03:07:23] <cmr> they've emailed me when they've fixed bugs I've reported before.
[03:07:26] <acrichto> the one I made was on the PR diff, not on a commit
[03:07:32] <strcat> acrichto: oh nvm
[03:07:35] <acrichto> :(
[03:07:36] <strcat> I thought it was the r+
[03:07:38] * strcat cries
[03:07:46] <acrichto> lol
[03:07:51] <strcat> well, derp
[03:07:53] <strcat> I thought they fixed it
[03:07:56] <strcat> so much for that...
[03:08:26] <strcat> I really hate their ordering thing
[03:08:45] <strcat> git is *all about* rebasing local branches to make life easy for the reviewer and keep history clean :(
[03:08:55] <strcat> yet their response to that was 'rebasing is bad, mmkay'
[03:09:50] <strcat> acrichto: https://help.github.com/articles/why-are-my-commits-in-the-wrong-order
[03:10:05] <acrichto> they *really* don't want to fix it
[03:10:11] <strcat> To prevent this from happening, we recommend not using git rebase.
[03:10:18] <strcat> To prevent this from happening, we recommend not using git. *
[03:10:30] <cmr> I mean I can understand it, kinda.
[03:10:34] <strcat> I can't
[03:10:38] <cmr> The github workflow is very incompatible with ours.
[03:10:45] <strcat> what if someone's system time is off
[03:10:46] <cmr> Github isn't meant to be a code review tool.
[03:10:50] <strcat> you reorder their commit before?
[03:10:59] <strcat> cmr: so what is the code review tooling for? 
[03:11:03] <acrichto> dbaupp routinely makes commits in the future relative to us :P
[03:11:03] <strcat> commit comments, etc.
[03:11:22] * strcat shrugs
[03:11:26] <acrichto> comments are lost though on rebasings
[03:11:28] <strcat> I find it to be nonsense ;p
[03:11:33] <acrichto> there's no notifications on rebasings
[03:11:41] <acrichto> no way to see what changed after a rebasing
[03:11:42] <strcat> imo someone made the decision because they hate rebasing and should really be using subversion
[03:11:44] <acrichto> (diffs of diffs)
[03:11:47] <cmr> strcat: hell if I know, surely not for code review :P
[03:11:48] * dbaupp is a time traveller
[03:12:04] <strcat> and the person who made the decision is probably their CTO or something
[03:12:10] *** Quits: kimundi (kimundi@moz-646723D.dip0.t-ipconnect.de) (Ping timeout)
[03:12:12] <strcat> so their word is law and it must be enforced on everyone
[03:12:33] <strcat> so...
[03:12:45] <strcat> the only way your commits would be out-of-order is rebasing
[03:12:54] <strcat> so this *only* impacts people who rebased
[03:13:10] <strcat> I can't see it as anything other than trying to make life harder for when you do that
[03:13:12] * strcat shrugs
[03:13:50] <strcat> unless it's based on when you authored in and not commit time, in which case it gets the order wrong just by cherry picking patches...
[03:15:39] * cmr likes the email patches workflow.
[03:15:46] *** Joins: kimundi (kimundi@moz-EAE0F638.dip0.t-ipconnect.de)
[03:16:32] <strcat> cmr: I don't ;p
[03:16:51] <strcat> I like having a web UI tracking all open stuff so it doesn't just get missed 
[03:17:00] <strcat> cmr: try contributing to LLVM
[03:17:04] *** Joins: summerlight_ (summerligh@327FC32B.2C956A45.501EFF44.IP)
[03:17:06] <strcat> in most cases patches just sit there
[03:17:12] <strcat> you have to bump it a dozen times
[03:17:31] <strcat> if it's not a very important fix, it probably won't land...
[03:17:42] <strcat> cmr: someone fixed mergefunc and they still didn't apply it :|
[03:17:44] <strcat> |
[03:17:49] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[03:17:53] <strcat> maybe lkml isn't like that
[03:17:55] <strcat> dunno
[03:18:05] * strcat thinks it's probably worse
[03:18:23] <strcat> I don't think submitting trivial patches directly is viewed as appropriate
[03:18:56] <cmr> mesa is really nice.
[03:19:01] *** Quits: summerlight_ (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[03:19:31] <strcat> mesa is a small group of people though
[03:20:00] *** kimundi is now known as zz_kimundi
[03:21:11] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[03:21:11] <ghrust> 01[13rust01] 15thestinger 04force-pushed 06try from 14b746a77 to 14a2b0068: 02http://git.io/k471pw
[03:21:11] <ghrust> 13rust/06try 14a2b0068 15Daniel Micay: handle zero-size allocations correctly...
[03:21:11] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[03:26:40] *** zz_kimundi is now known as kimundi
[03:29:16] <cmr> yeah
[03:30:04] *** Quits: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp) (Client exited)
[03:30:26] *** Joins: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp)
[03:31:58] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[03:31:58] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/H0S2iQ
[03:31:58] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[03:32:15] *** Quits: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp) (Ping timeout)
[03:33:55] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[03:33:55] <ghrust> 01[13rust01] 15thestinger 04force-pushed 06try from 14a2b0068 to 14dea3818: 02http://git.io/k471pw
[03:33:55] <ghrust> 13rust/06try 14dea3818 15Daniel Micay: handle zero-size allocations correctly...
[03:33:55] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[03:34:47] <sfackler> does anyone have any idea why this wouldn't work? https://gist.github.com/sfackler/58d5f1280ebf182b0793
[03:35:21] <sfackler> nmatsakis: ^
[03:37:02] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[03:37:02] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/lbCyYg
[03:37:02] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[03:37:04] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[03:37:04] <ghrust> 01[13rust01] 15bors pushed 4 new commits to 06auto: 02http://git.io/3D5nyg
[03:37:04] <ghrust> 13rust/06auto 14363fa51 15Jack Moffitt: Use the libsyntax PkgId parser in Rustpkg, but keep Rustpkg's version smarts....
[03:37:04] <ghrust> 13rust/06auto 14f7088ed 15Jack Moffitt: Change some rustpkg tests to use new crate_id syntax.
[03:37:04] <ghrust> 13rust/06auto 147fb712e 15Jack Moffitt: Warning police.
[03:37:05] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[03:37:35] <cmr> sfackler: bugs :p
[03:37:43] <sfackler> :(
[03:39:08] *** Joins: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp)
[03:39:11] *** Quits: [o__o] (~o__o@moz-24EBFAC7.me) (Input/output error)
[03:44:00] *** kimundi is now known as zz_kimundi
[03:44:11] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[03:51:57] *** Joins: [o__o] (~o__o@604A2740.DB688352.F4ADE383.IP)
[04:05:17] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Connection reset by peer)
[04:05:32] *** Joins: Jesse_ (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[04:19:36] *** Quits: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp) (Client exited)
[04:19:59] *** Joins: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp)
[04:21:16] *** Quits: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp) (Client exited)
[04:21:16] *** Joins: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp)
[04:25:09] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[04:35:00] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[04:36:52] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[04:36:52] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/fSc28w
[04:36:52] <ghrust> 13rust/06auto 14ed7e576 15Flavio Percoco: Add a generic power function...
[04:36:52] <ghrust> 13rust/06auto 14c58d2ba 15bors: auto merge of #11503 : FlaPer87/rust/master, r=huonw...
[04:36:52] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[04:48:16] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[04:52:10] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[04:52:10] *** ChanServ sets mode: +ao dherman dherman
[04:53:36] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[04:55:21] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[04:55:29] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[04:57:27] <nrc> how do I find the crate_num for the crate currently being checked?
[04:57:43] <nrc> as in the crate_num which other crates will see, I realise it is 0, internally
[04:59:05] <cmr> nrc: it's not global.
[04:59:40] <nrc> cmr: how does it work?
[04:59:41] <cmr> as in, it's different depending on the crate that contains it.
[04:59:46] <cmr> nrc: "extern mod foo;"
[04:59:56] <cmr> foo has crate_num 1 if it's the first crate linked in
[05:00:18] <nrc> oh
[05:00:23] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[05:00:40] <nrc> cmr: so is it the nth crate per file or per crate?
[05:01:20] <cmr> per crate.
[05:01:34] <cmr> files aren't a concept rust cares about.
[05:02:03] <nrc> I thought |use| had file scope?
[05:02:15] <cmr> module, not file.
[05:02:41] <nrc> oh, you can put use inside modules?
[05:02:45] <nrc> interesting
[05:02:48] <cmr> mod foo { mod bar { ... } }
[05:02:53] <cmr> put that in a baz.rs
[05:03:07] <cmr> `mod baz;` expands to `mod baz { ... contents of baz.rs ... }`
[05:03:14] <cmr> nrc: you can't put it outside of modules :p
[05:03:22] <cmr> *everything* in rust is contained in a module.
[05:03:26] <cmr> it's the top-level item.
[05:03:46] <nrc> heh, I meant inside a non-top level module in a file
[05:04:11] <nrc> so mod foo { use zog; mod bar {...} }
[05:04:51] <cmr> sure.
[05:04:58] <nrc> cool
[05:04:59] <cmr> files aren't special, and aren't treated specially.
[05:07:41] <nrc> cmr, so, back to extern mod, if I extern mod another crate, is that external crate visible in the whole crate or just the current module?
[05:08:04] <nrc> cmr: and is there a map in rustc from extern mod ids to crate_nums?
[05:08:18] *** Quits: Kxepal (Miranda@moz-5483AA93.pppoe.mtu-net.ru) (Ping timeout)
[05:10:38] <cmr> nrc: you can have an `extern mod foo;` in any module.
[05:10:46] <cmr> it's like defining a regular module in terms of scope.
[05:11:57] *** Joins: Kxepal (Miranda@moz-B7304D9C.pppoe.mtu-net.ru)
[05:13:03] <cmr> I can't tell if there's a mapping anywhere of included crates and their id.
[05:13:10] <cmr> it's not in the ast map
[05:13:23] <cmr> might be in the tycx somewhere.
[05:13:25] <cmr> maybe in metadata
[05:14:22] <nrc> ok
[05:14:30] <nrc> cmr: thanks for you help!
[05:15:16] <cmr> hm
[05:15:26] <cmr> cstore::cnum_map looks almost related.
[05:16:01] <cmr> hah here it is.
[05:16:03] <cmr> extern_mod_crate_map
[05:16:08] <cmr> in cstore
[05:16:24] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[05:16:30] <nrc> perfect
[05:17:13] <cmr> you'll need the NodeId of the extern mod
[05:19:58] <nrc> thanks again :-)
[05:34:40] <cmr> here to help :)
[05:41:49] *** Joins: gwty (gwtypc@BB945ACB.C0910E88.137C914F.IP)
[05:49:22] *** Quits: new_one (new_one@9C883110.CCA5821A.B3C0173E.IP) (Quit: leaving)
[06:02:00] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[06:02:00] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/fSc28w
[06:02:00] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[06:02:19] *** Joins: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP)
[06:02:19] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Connection reset by peer)
[06:03:51] *** Quits: gwty (gwtypc@BB945ACB.C0910E88.137C914F.IP) (Ping timeout)
[06:05:06] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[06:06:47] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[06:06:47] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/fr0EiQ
[06:06:47] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[06:17:13] <brson> so many approved PRs! bors is going to have a busy weekend
[06:18:37] <bjz> indeed
[06:19:51] <dbaupp> https://github.com/mozilla/rust/pull/11001 seems ready to go, any last minute objections?
[06:20:08] <cmr> objection: why doesn't it have a p=1 already? :p
[06:21:20] <cmr> brson: can you merge your two android PRs?
[06:36:44] <brson> cmr: done https://github.com/mozilla/rust/pull/11629
[06:54:29] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[06:56:07] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[06:56:07] *** Quits: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP) (Connection reset by peer)
[06:56:16] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[06:58:27] *** Quits: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Quit: lkuper)
[07:02:45] <Eridius> has anyone tried `make check-stage1-std` lately? I'm seeing 6 failures in std::io
[07:02:45] <erickt> anyone want to do a quick r? https://github.com/mozilla/rust/pull/11642
[07:03:18] * Eridius is assuming the failures are due to being stage1
[07:04:34] <dbaupp> Eridius: possibly something to do with external syntax extensions
[07:06:22] <sfackler> shouldn't affect std::io though
[07:06:51] <dbaupp> might be fixed after the next snap
[07:07:23] <dbaupp> which failed :(
[07:07:48] <Eridius> oh good `make check-stage2-std` passed
[07:08:34] <Eridius> r? https://github.com/mozilla/rust/pull/11643
[07:19:41] <erickt> Eridius: looks good, but it'd be nice to explain the logic of this change in the PR body
[07:20:03] *** Joins: deen (deen@moz-7B78EB6B.dip0.t-ipconnect.de)
[07:20:40] *** Quits: deen_ (deen@moz-E59E3C65.dip0.t-ipconnect.de) (Ping timeout)
[07:26:18] <Eridius> erickt: the logic is, it should have been doing this all along?
[07:28:24] <erickt> Oh it's far too late. You're right. r+-ing
[07:29:38] <erickt> btw, make check-stage1-std just passed for me on OS X 10.9 on commit f4498c71 
[07:30:56] <erickt> dbaupp: re-r? https://github.com/mozilla/rust/pull/11642
[07:36:53] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[07:36:53] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/xmt2Kw
[07:36:53] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[07:38:13] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[07:41:46] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[07:41:46] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/H6h0Dg
[07:41:46] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[07:41:47] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[07:41:47] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/8bT9hA
[07:41:47] <ghrust> 13rust/06auto 143fd8c8b 15Palmer Cox: Rename iterators for consistency...
[07:41:47] <ghrust> 13rust/06auto 141da2962 15bors: auto merge of #11001 : DaGenix/rust/iter-renaming, r=alexcrichton...
[07:41:48] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[07:52:03] *** Quits: Sharp (Sharp@moz-EEC85237.hsd1.ca.comcast.net) (Ping timeout)
[08:21:06] *** Joins: gwty (gwtypc@BB945ACB.C0910E88.137C914F.IP)
[08:29:28] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[08:38:41] *** Quits: gwty (gwtypc@BB945ACB.C0910E88.137C914F.IP) (Ping timeout)
[08:42:12] *** Quits: brson (brson@981AA104.E81F12CD.76F66111.IP) (Quit: leaving)
[08:55:22] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[08:57:21] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[08:58:46] *** Quits: canhtak (canhtak@moz-4B5B3414.wl.t.ulaval.ca) (Quit: canhtak)
[09:01:59] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[09:01:59] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/8bT9hA
[09:01:59] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[09:02:24] *** Joins: eddyb (eddy@EDE07015.D51DAF03.FB866788.IP)
[09:06:51] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[09:06:51] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/PfUVow
[09:06:51] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[09:06:51] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[09:06:51] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/iOHcVg
[09:06:51] <ghrust> 13rust/06auto 14afa392a 15Alex Crichton: Forbid coercing unsafe functions to closures...
[09:06:51] <ghrust> 13rust/06auto 1488dd987 15bors: auto merge of #11605 : alexcrichton/rust/issue-9582, r=brson...
[09:06:52] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[09:07:46] *** Joins: c-a (c-a@moz-57C82A9.a163.priv.bahnhof.se)
[09:08:42] *** Quits: eddyb (eddy@EDE07015.D51DAF03.FB866788.IP) (Ping timeout)
[09:18:52] <dbaupp> r? https://github.com/mozilla/rust/pull/11644
[09:29:38] *** Joins: eddyb (eddy@EDE07015.D51DAF03.FB866788.IP)
[09:38:07] *** Quits: eddyb (eddy@EDE07015.D51DAF03.FB866788.IP) (Quit: Konversation terminated!)
[09:38:13] *** Joins: eddyb (eddy@EDE07015.D51DAF03.FB866788.IP)
[09:49:02] *** Quits: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Ping timeout)
[09:58:31] *** Quits: acrichto (acrichto@moz-B63D64BD.res.cmu.edu) (Ping timeout)
[10:07:50] *** Quits: pauls (pauls@moz-7140CF01.ccs.neu.edu) (Ping timeout)
[10:09:00] *** Joins: ferminter (Mibbit@A8B22390.4B4F262F.1C37C358.IP)
[10:09:41] *** Quits: ferminter (Mibbit@A8B22390.4B4F262F.1C37C358.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[10:10:22] *** Joins: pauls (pauls@moz-7140CF01.ccs.neu.edu)
[10:10:58] *** Joins: rca (rcatolino@moz-AF428BD0.adsl.proxad.net)
[10:25:45] *** zz_kimundi is now known as kimundi
[10:26:49] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[10:26:49] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/iOHcVg
[10:26:49] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[10:31:59] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[10:31:59] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/sYvGRg
[10:31:59] <ghrust> 13rust/06auto 14de9a998 15Alex Crichton: Add a test for closed issue #9259...
[10:31:59] <ghrust> 13rust/06auto 1481dc5d5 15bors: auto merge of #11606 : alexcrichton/rust/issue-9259, r=brson...
[10:31:59] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[10:37:20] *** Joins: gwty (gwtypc@BB945ACB.C0910E88.137C914F.IP)
[10:43:01] <eddyb> nmatsakis: why did you remove my mutable binding logic?
[10:56:19] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[10:56:29] *** Quits: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp) (Client exited)
[10:56:51] *** Joins: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp)
[10:58:23] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[10:58:35] *** Quits: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp) (Ping timeout)
[11:01:10] *** Quits: eddyb (eddy@EDE07015.D51DAF03.FB866788.IP) (Ping timeout)
[11:06:46] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[11:06:46] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 1481dc5d5 to 1488dd987: 02http://git.io/N3iJvQ
[11:06:46] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[11:06:46] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[11:06:46] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/5OhI0A
[11:06:46] <ghrust> 13rust/06auto 1482d906c 15Alex Crichton: Forbid unnecessary visibility on view items...
[11:06:46] <ghrust> 13rust/06auto 141e1c435 15bors: auto merge of #11607 : alexcrichton/rust/issue-9957, r=cmr...
[11:06:48] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[11:13:58] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Ping timeout)
[11:16:02] *** Joins: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp)
[11:17:29] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[11:19:21] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[11:35:47] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[11:37:21] *** Quits: rca (rcatolino@moz-AF428BD0.adsl.proxad.net) (Ping timeout)
[11:39:56] *** Joins: rca (rcatolino@moz-AF428BD0.adsl.proxad.net)
[11:41:42] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[11:41:43] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 141e1c435 to 1488dd987: 02http://git.io/N3iJvQ
[11:41:43] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[11:41:43] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[11:41:43] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/SHkBeQ
[11:41:43] <ghrust> 13rust/06auto 14c6ad2de 15Petter Remen: Fixup in guide-testing.md...
[11:41:43] <ghrust> 13rust/06auto 14fb40bdb 15bors: auto merge of #11614 : remen/rust/patch-1, r=alexcrichton...
[11:41:44] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[11:45:03] *** Quits: rca (rcatolino@moz-AF428BD0.adsl.proxad.net) (Ping timeout)
[12:03:22] *** Joins: rca (rcatolino@moz-AF428BD0.adsl.proxad.net)
[12:11:01] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[12:11:33] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[12:13:16] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[12:30:17] *** Quits: gwty (gwtypc@BB945ACB.C0910E88.137C914F.IP) (Connection reset by peer)
[12:33:33] *** Joins: gwty (gwtypc@B797F58D.2BA2E9C0.4A82DA79.IP)
[12:56:43] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[12:56:43] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/SHkBeQ
[12:56:43] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[13:01:53] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[13:01:53] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/nJbq1A
[13:01:53] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[13:01:54] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[13:01:54] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/4eQAdA
[13:01:54] <ghrust> 13rust/06auto 14d8908b5 15Huon Wilson: syntax: convert ast_map to use a SmallIntMap....
[13:01:54] <ghrust> 13rust/06auto 147fd27cc 15bors: auto merge of #11616 : huonw/rust/ast_map, r=pnkfelix...
[13:01:54] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[13:02:36] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[13:02:48] *** Joins: doener (doener@moz-C68F600D.unity-media.net)
[13:07:37] *** Joins: canhtak (canhtak@moz-4B5B3414.wl.t.ulaval.ca)
[13:12:48] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[13:13:20] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[13:15:08] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[13:18:54] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[13:25:31] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[13:26:44] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[13:26:44] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/aNefOw
[13:26:44] <ghrust> 13rust/06auto 14442673d 15Alex Crichton: rustc: Clean up error reporting...
[13:26:44] <ghrust> 13rust/06auto 14f97f2b7 15bors: auto merge of #11620 : alexcrichton/rust/rustc-silent, r=brson...
[13:26:44] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[13:26:46] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[13:26:46] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 147fd27cc to 14fb40bdb: 02http://git.io/N3iJvQ
[13:26:46] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[13:36:51] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[13:36:51] <ghrust> 01[13rust01] 15bors pushed 3 new commits to 06auto: 02http://git.io/estiKA
[13:36:51] <ghrust> 13rust/06auto 14472dfe7 15Brendan Zabarauskas: Simplify std::num::Primitive trait definition...
[13:36:51] <ghrust> 13rust/06auto 14f125b71 15Brendan Zabarauskas: Add FIXME comments regarding issue #11526.
[13:36:51] <ghrust> 13rust/06auto 142952685 15bors: auto merge of #11622 : bjz/rust/simplify-primitive-trait, r=brson...
[13:36:53] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[13:46:03] *** Quits: canhtak (canhtak@moz-4B5B3414.wl.t.ulaval.ca) (Quit: canhtak)
[13:52:09] *** Quits: gwty (gwtypc@B797F58D.2BA2E9C0.4A82DA79.IP) (Ping timeout)
[13:58:15] *** Quits: rca (rcatolino@moz-AF428BD0.adsl.proxad.net) (Ping timeout)
[13:58:31] *** Joins: rca (rcatolino@moz-AF428BD0.adsl.proxad.net)
[14:08:34] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[14:09:06] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.2)
[14:14:57] *** Quits: c-a (c-a@moz-57C82A9.a163.priv.bahnhof.se) (Quit: Ex-Chat)
[14:15:48] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[14:20:21] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[14:21:07] *** Quits: lpy (lpy@7360AA58.F09091A8.1348A864.IP) (Ping timeout)
[14:39:48] *** Joins: eddyb (eddy@EDE07015.D51DAF03.FB866788.IP)
[14:41:12] <eddyb> nmatsakis: if you don't want to block Deref on lifetimes-in-traits, we can just have trait Deref<T> {fn deref(self) -> T;} and impl<'a, T> Deref<Ref<'a, T>> for &'a RefCell<T>
[14:41:56] <dbaupp> eddyb: wrong deref
[14:42:14] <dbaupp> it'd be `Deref<&'a T> for Ref<'a, T>`
[14:42:58] <eddyb> dbaupp: no, I want at least .borrow().get() to be gone
[14:43:01] <dbaupp> since part of the problem with @mut was the dynamic borrow check failures, which were hidden from view
[14:43:17] <eddyb> I can live with .borrow_mut() otherwise
[14:43:22] <eddyb> dbaupp: hmpf...
[14:44:17] <eddyb> but it's still a good idea to have self-by-value in the definition of the trait, I guess
[14:44:44] <dbaupp> erm, why??
[14:44:59] <eddyb> dbaupp: because what you wrote wouldn't be valid
[14:45:01] <dbaupp> Deref for Rc<T> ... oh, oops I consumed your Rc ;P
[14:45:23] <eddyb> impl Deref<&'a T> for &'a Rc<T>
[14:45:57] <dbaupp> would that mean that `let x = Rc::new(1); *x` would work
[14:46:06] <dbaupp> or would it have to be `*&x` or something
[14:46:09] <eddyb> with autoref before deref, yes
[14:46:23] <dbaupp> (in any case &T kinda already has it's own deref-ing :P )
[14:46:49] <eddyb> (if you link &'a self and &'a T in the definition of the trait, then you can't do the Ref example you mentioned)
[14:47:57] <eddyb> dbaupp: bah, the (semantically) cleanest way to do this is the trait Deref<'a, T> {fn deref(&'a self) -> T;} I just gave up on (because we want Deref soon and I don't know how easy it is to fix the lifetimes-in-traits issue)
[14:48:21] <eddyb> self already has autoref, so it would "just work"
[14:48:59] <eddyb> rusti: trait Foo {fn foo(self){}} impl Foo for &uint {} 5.foo();
[14:49:04] -rusti- pastebinned 7 lines of output: http://ix.io/9Xw
[14:49:20] <eddyb> rusti: trait Foo {fn foo(self){}} impl<'a> Foo for &'a uint {} 5.foo();
[14:49:23] -rusti- ()
[14:49:38] <eddyb> dbaupp: hah, it would already work :)
[14:49:57] <eddyb> (that is, it doesn't have to be &self for the autoref to take place)
[14:51:18] <eddyb> and we can clean it up later
[14:56:48] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[14:56:48] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/estiKA
[14:56:48] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[14:59:05] <eddyb> dbaupp: from what I understand, both PRs (the env/self one and the default type params) are blocked on a meeting
[14:59:35] <eddyb> I guess I can fiddle around in std::fmt or rustc::middle, in the meanwhile
[14:59:47] <eddyb> dbaupp: did you use SmallIntMap for anything else?
[15:01:44] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[15:01:44] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/NeR8Qg
[15:01:44] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[15:01:48] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[15:01:49] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/wpwgGQ
[15:01:49] <ghrust> 13rust/06auto 14ce202b5 15Alex Crichton: Disallow implementation of cross-crate priv traits...
[15:01:49] <ghrust> 13rust/06auto 145392ae5 15bors: auto merge of #11628 : alexcrichton/rust/issue-11593, r=brson...
[15:01:49] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[15:11:00] *** flaper87|afk is now known as flaper87
[15:11:52] <dbaupp> eddyb: nope, just the AST map
[15:13:04] <eddyb> dbaupp: did it land?
[15:13:15] <dbaupp> no not yet
[15:13:45] <dbaupp> I imagine every other NodeId map in the compiler will be sparser than the AST map
[15:16:49] <eddyb> dbaupp: some of them will be less sparse :P
[15:17:53] <eddyb> dbaupp: may I should add some sort of debugging for every SmallIntMap I add so we know how bad it is
[15:21:12] <dbaupp> why will they be less sparse?
[15:21:53] <eddyb> dbaupp: the AST map doesn't map callee_id's. some parts of middle do
[15:36:47] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[15:36:47] <ghrust> 01[13rust01] 15bors pushed 3 new commits to 06auto: 02http://git.io/_yPPcw
[15:36:47] <ghrust> 13rust/06auto 144a3a61b 15Brian Anderson: xfail shootout-reverse-complement on android
[15:36:47] <ghrust> 13rust/06auto 1450f4a0e 15Brian Anderson: Move macro-crate to run-pass-fulldeps and force-host the aux build
[15:36:47] <ghrust> 13rust/06auto 14bf07c80 15bors: auto merge of #11629 : brson/rust/whattayaknowitsmoreandroidfixes, r=cmr
[15:36:49] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[15:37:41] *** Joins: lpy (lpy@12172131.F09091A8.1348A864.IP)
[15:38:37] <dbaupp> eddyb: but those parts of middle miss a pile of other things, right?
[15:41:47] *** Joins: c-a (c-a@moz-57C82A9.a163.priv.bahnhof.se)
[15:43:05] <eddyb> dbaupp: I'm not actually sure
[15:46:52] *** Joins: gwty (gwtypc@B797F58D.2BA2E9C0.4A82DA79.IP)
[15:47:15] *** Joins: csp (textual@moz-45878A98.in-addr.arpa)
[15:48:33] *** Quits: csp (textual@moz-45878A98.in-addr.arpa) (Quit: Textual IRC Client: www.textualapp.com)
[15:53:49] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Ping timeout)
[16:00:15] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[16:07:37] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[16:16:54] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[16:18:55] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[16:46:17] *** Quits: rca (rcatolino@moz-AF428BD0.adsl.proxad.net) (Ping timeout)
[16:50:35] *** Joins: rca (rcatolino@moz-AF428BD0.adsl.proxad.net)
[16:51:01] *** Joins: new_one (new_one@moz-3F39CBBB.rice.edu)
[16:56:42] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[16:56:42] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/_yPPcw
[16:56:42] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[17:01:46] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[17:01:47] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/tlonlg
[17:01:47] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[17:05:29] *** Quits: gwty (gwtypc@B797F58D.2BA2E9C0.4A82DA79.IP) (Ping timeout)
[17:07:59] *** Quits: lpy (lpy@12172131.F09091A8.1348A864.IP) (Client exited)
[17:09:27] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[17:16:38] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[17:20:04] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[17:20:36] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[17:22:23] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[17:27:47] *** Joins: canhtak (canhtak@moz-4B5B3414.wl.t.ulaval.ca)
[17:29:41] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[17:30:36] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[17:38:12] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[17:45:21] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[17:53:05] <erickt> sfackler: ping
[17:56:07] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[17:56:12] *** Quits: canhtak (canhtak@moz-4B5B3414.wl.t.ulaval.ca) (Quit: canhtak)
[18:05:24] <erickt> anyone around today?
[18:06:17] * cmr is
[18:08:11] <erickt> cmr: good morning! so last night Eridius pointed out that a couple of our system interface methods are wrong, so I filed this bug: https://github.com/mozilla/rust/issues/11650
[18:08:48] <erickt> to fix it, I was thinking about extracting much of the path::BytesContainer into it's own trait
[18:08:57] <cmr> iirc there are various fixmes around for that too.
[18:09:07] <cmr> (that is, it's not an unknown problem)
[18:09:18] <cmr> I think *every* interaction with the OS is broken right now :(
[18:09:20] <erickt> and rather than cluttering up `vec.rs` more, I was thinking about making a top level std::bytes module
[18:09:23] <cmr> (involving strings)
[18:09:25] <erickt> probably!
[18:10:04] <cmr> erickt: what else would live in std::bytes?
[18:10:22] <erickt> cmr: there is a small vec::bytes module I could extract
[18:10:59] *** Joins: jdm (jdm@CAB30FBD.8F96AEA7.2D179A7D.IP)
[18:10:59] <cmr> ah yes. I think I'd be fine with that.
[18:11:00] <erickt> but mainly I wanted to ask if anyone was aware of anything else that would make sense to go into a bytes module
[18:11:14] <cmr> I can't think of anything, really.
[18:11:49] <erickt> okay, thanks :)
[18:12:12] <erickt> I'll poke around and see if anyone else has made something that'd be more appropriate in std::bytes
[18:12:26] <sfackler> erickt: pong
[18:13:02] <erickt> cmr: I could merge std::to_bytes and std::bytes
[18:13:09] <erickt> cmr: that's probably worthwhile too
[18:13:42] <erickt> sfackler: hey there! I can't remember if you were around last night, but I think the interface for `dynamic_library` is wrong: https://github.com/mozilla/rust/issues/11650
[18:13:52] <sfackler> yeah, I just saw that
[18:14:10] <sfackler> switching it to a not-Path makes sense
[18:14:42] <cmr> erickt: maybe. https://github.com/mozilla/rust/issues/8038 is related.
[18:14:48] <sfackler> but it'd be nice if there were some utility methods for things like "take a path and prepend a ./ if necessary" to help out with exec and dlopen
[18:15:04] <cmr> I'm not sure if to_bytes should be promoted. If anything I think it should be moved into std::hash
[18:15:05] <erickt> yeah
[18:16:17] <erickt> that yeah was to sfackler not to cmr :)
[18:16:38] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[18:16:38] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/5h2OiA
[18:16:38] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[18:18:09] *** Quits: new_one (new_one@moz-3F39CBBB.rice.edu) (Client exited)
[18:21:40] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[18:21:40] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/Qa3fzA
[18:21:40] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[18:21:41] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[18:21:41] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/j88VmA
[18:21:41] <ghrust> 13rust/06auto 14f52bd5e 15Brian Anderson: rustc: Feature gate `log_syntax!`. Closes #11602
[18:21:41] <ghrust> 13rust/06auto 148438087 15bors: auto merge of #11632 : brson/rust/issue-11602, r=huonw
[18:21:41] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[18:22:29] <eddyb> nmatsakis: I am sad to see my logic be removed, but I would have to change things in _match and I don't feel comfortable with that
[18:24:15] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[18:26:09] *** Quits: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp) (Client exited)
[18:26:31] *** Joins: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp)
[18:28:18] *** Quits: ssira (ssira@moz-DC71C200.kanagawa.ocn.ne.jp) (Ping timeout)
[18:44:58] *** Joins: acrichto (acrichto@moz-B63D64BD.res.cmu.edu)
[18:44:58] *** ChanServ sets mode: +o acrichto
[18:55:20] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[19:15:34] *** Quits: doener (doener@moz-C68F600D.unity-media.net) (Quit: leaving)
[19:21:41] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[19:21:41] <ghrust> 01[13rust01] 15bors pushed 3 new commits to 06auto: 02http://git.io/mSbpZw
[19:21:41] <ghrust> 13rust/06auto 14e1089fe 15thomas: Switched both non_camel_case_type and non_uppercase_constants lints to warn...
[19:21:41] <ghrust> 13rust/06auto 1464ab884 15thomas: Added changes of b64697d and dealt with rebasing issues
[19:21:41] <ghrust> 13rust/06auto 1481d2ea3 15bors: auto merge of #11457 : TisButMe/rust/disallow_stylistic_lint, r=alexcrichton...
[19:21:44] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[19:32:08] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[19:32:08] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 1481d2ea3 to 14f3f2e69: 02http://git.io/N3iJvQ
[19:32:08] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[19:32:09] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[19:32:10] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/gJBWzQ
[19:32:10] <ghrust> 13rust/06auto 144d5da45 15Alex Crichton: Add a test for closed issue #9259...
[19:32:10] <ghrust> 13rust/06auto 14c5d05ac 15bors: auto merge of #11606 : alexcrichton/rust/issue-9259, r=brson...
[19:32:10] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[19:40:54] <eddyb> Luqman, nmatsakis: ping (rebased my PR)
[19:42:41] <eddyb> Luqman: from what I understand, I have to wait for the meeting, feel free to push it to try in the meanwhile ;)
[19:43:25] <Luqman> oh right, i was reading through it yesterday, but i seem to have lost that tab...
[19:43:38] <Luqman> but sure, i'll push to try, just gimmie a sec
[19:43:56] <eddyb> https://github.com/mozilla/rust/pull/11595 if you need the link
[19:44:50] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[19:44:50] <ghrust> 01[13rust01] 15luqmana 04force-pushed 06try from 14dea3818 to 14b479ae6: 02http://git.io/k471pw
[19:44:50] <ghrust> 13rust/06try 14b479ae6 15Eduard Burtescu: Demote self to an (almost) regular argument and remove the env param....
[19:44:50] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[19:45:03] <Luqman> just a matter of juggling the remotes properly :P
[19:45:23] <eddyb> Luqman: thanks :)
[19:50:37] *** Quits: c-a (c-a@moz-57C82A9.a163.priv.bahnhof.se) (Connection reset by peer)
[19:51:35] *** Joins: c-a (c-a@moz-57C82A9.a163.priv.bahnhof.se)
[19:53:08] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[19:53:08] <ghrust> 01[13rust01] 15cmr 04force-pushed 06try from 14b479ae6 to 1419f89e7: 02http://git.io/k471pw
[19:53:08] <ghrust> 13rust/06try 143115968 15Corey Richardson: Add support for arbitrary flags to MemoryMap....
[19:53:08] <ghrust> 13rust/06try 14461ae48 15Corey Richardson: Use `mmap` to map in task stacks and guard page...
[19:53:08] <ghrust> 13rust/06try 14b222c3e 15Corey Richardson: Update task-perf-one-million
[19:53:10] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[19:55:23] <eddyb> cmr: hmm, what happened there?
[19:55:32] <cmr> eddyb: what happened where?
[19:55:59] <eddyb> cmr: with try
[19:56:05] <cmr> eddyb: I pushed to it.
[19:56:26] <eddyb> cmr: does that cancel the previous one, by Luqman?
[19:56:30] <Luqman> no
[19:56:47] <eddyb> phew :)
[19:56:56] <cmr> buildbot is smart(ish)
[19:57:34] <Luqman> eddyb: you can check on it http://buildbot.rust-lang.org/console?branch=try&refresh=15
[19:57:47] <Luqman> it's building both now
[19:58:07] <eddyb> both?
[19:58:18] <Luqman> your's and cmr's
[19:58:56] <eddyb> aaaah, I'm at the bottom here http://buildbot.rust-lang.org/builders/try-bsd/builds/669
[20:06:12] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[20:08:53] *** Joins: ktt3ja (ktt3ja@moz-54586A12.washdc.fios.verizon.net)
[20:19:55] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[20:19:55] <ghrust> 01[13rust01] 15cmr pushed 1 new commit to 06try: 02http://git.io/6dYoHg
[20:19:55] <ghrust> 13rust/06try 143c26cd9 15Corey Richardson: more output
[20:19:55] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[20:21:03] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[20:21:03] <ghrust> 01[13rust01] 15cmr pushed 1 new commit to 06try: 02http://git.io/DedHiw
[20:21:03] <ghrust> 13rust/06try 147b6d942 15Corey Richardson: maybe fix windows
[20:21:03] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[20:22:15] *** Quits: c-a (c-a@moz-57C82A9.a163.priv.bahnhof.se) (Connection reset by peer)
[20:23:57] *** Joins: c-a (c-a@moz-57C82A9.a163.priv.bahnhof.se)
[20:33:16] *** Quits: c-a (c-a@moz-57C82A9.a163.priv.bahnhof.se) (Connection reset by peer)
[20:33:53] <eddyb> http://buildbot.rust-lang.org/tgrid?branch=try&refresh=15
[20:35:55] <eddyb> Luqman: looks like it works :D http://buildbot.rust-lang.org/builders/try-linux/builds/786
[20:36:08] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[20:36:08] <ghrust> 01[13rust01] 15cmr pushed 1 new commit to 06try: 02http://git.io/HWvQiA
[20:36:08] <ghrust> 13rust/06try 14dda3e69 15Corey Richardson: windows fix again
[20:36:08] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[20:36:15] *** Joins: c-a (c-a@moz-57C82A9.a163.priv.bahnhof.se)
[20:36:29] <cmr> eugh why is freebsd trying to create a stack of size 0
[20:36:46] <Luqman> eddyb: sweet, looks like bsd and win are about done too
[20:36:51] <eddyb> cmr: non-empty stacks are too mainstream
[20:37:02] <Luqman> eddyb: oh, but mac failed
[20:37:15] <Luqman> "fatal: Could not parse object 'b479ae65eedcac657c95c58bcd37335cd5751d94'.
[20:37:17] <Luqman> "
[20:37:18] <Luqman> :/
[20:37:25] <cmr> current_stack_segment: Stack::new(0),
[20:37:26] <eddyb> Luqman: not my fault
[20:37:28] <cmr> that's why.
[20:37:48] <Luqman> eddyb: yea, some sort of git failure
[20:38:15] <eddyb> Luqman: thanks. can it be mentioned somewhere, that it passes all tests and whatnot?
[20:38:31] <eddyb> may get me a r+ faster :P
[20:51:58] <cmr> bah how do I cancel a build.
[20:52:12] <cmr> I don't remember the credentials :(
[20:52:18] <cmr> there we are
[20:52:23] * cmr 's memory won.
[20:56:41] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[20:56:41] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/gJBWzQ
[20:56:41] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[20:56:45] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[20:56:50] *** Joins: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[20:58:31] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[21:01:49] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[21:01:49] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/3aJ_4Q
[21:01:49] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[21:01:50] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[21:01:50] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/SkRl2A
[21:01:50] <ghrust> 13rust/06auto 144a78364 15Alex Crichton: Forbid unnecessary visibility on view items...
[21:01:50] <ghrust> 13rust/06auto 14b5a110c 15bors: auto merge of #11607 : alexcrichton/rust/issue-9957, r=cmr...
[21:01:50] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[21:07:22] *** Quits: jdm (jdm@CAB30FBD.8F96AEA7.2D179A7D.IP) (Connection reset by peer)
[21:07:29] *** Joins: jdm (jdm@CAB30FBD.8F96AEA7.2D179A7D.IP)
[21:16:50] <cmr> Receiving objects:  63% (1659382/2610067), 812.89 MiB | 8.22 MiB/s
[21:16:56] <cmr> Ah the wonders of university internet.
[21:17:32] <cmr> (that's from github!)
[21:21:37] *** Quits: jdm (jdm@CAB30FBD.8F96AEA7.2D179A7D.IP) (Input/output error)
[21:23:51] *** Joins: jdm (jdm@CAB30FBD.8F96AEA7.2D179A7D.IP)
[21:26:11] *** Joins: canhtak (canhtak@moz-6C22A50C.wl.t.ulaval.ca)
[21:28:21] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Client exited)
[21:29:42] <Luqman> cmr: it's also very nice when there's a mirror on campus (i.e. for debian or arch) so you're pretty much downloading something from down the hall :P
[21:30:03] <cmr> Luqman: yeah, we have a ton of various mirrors.
[21:33:33] *** Joins: new_one (new_one@DE471074.940F5E39.B3C0173E.IP)
[21:40:56] <cmr> yikes
[21:40:58] <cmr> "If len is zero, mmap() shall fail and no mapping shall be established."
[21:41:03] <cmr> (http://pubs.opengroup.org/onlinepubs/9699919799/functions/mmap.html)
[21:41:12] *** Quits: jdm (jdm@CAB30FBD.8F96AEA7.2D179A7D.IP) (Input/output error)
[21:41:16] <cmr> We *depend* on implementations ignoring that!
[21:41:26] <cmr> FreeBSD is the only platform we support that implements that correctly.
[21:41:53] <cmr> it returns the wrong error code though.
[21:42:19] <cmr> actually no it doesn't
[21:42:22] <cmr> our libc binding must be bad.
[21:43:03] <eddyb> strcat wasn't complaining without reason :P
[21:43:42] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[21:43:42] *** ChanServ sets mode: +qo brson brson
[21:43:50] <cmr> acrichto: ping.
[21:44:44] <acrichto> cmr: pong
[21:45:20] <cmr> acrichto: does Coroutine::empty need a valid stack, and is it used such taht a stack of size 1 would be bad, perf-wise?
[21:45:29] *** Quits: rca (rcatolino@moz-AF428BD0.adsl.proxad.net) (Ping timeout)
[21:45:33] <cmr> acrichto: (mmap doesn't allow 0-length allocations)
[21:45:49] <acrichto> it shouldn't need a stack
[21:45:54] <acrichto> it should just be None I though
[21:46:03] <cmr> it's not an option.
[21:46:08] <cmr> if it can be, I can make it one.
[21:46:33] <acrichto> green tasks have an Option<Couroutine>, right?
[21:46:57] <cmr> yes.
[21:47:02] <cmr> Coroutine::empty is used during bootstrap
[21:47:13] <cmr> "// Create a task for the scheduler with an empty context."
[21:48:36] <acrichto> oh they need a register context
[21:48:41] <acrichto> they don't need a stack
[22:09:21] *** flaper87 is now known as flaper87|afk
[22:13:17] <sfackler> acrichto: is this a semi-reasonably way to do submodule builds properly? I was using the makefile for jba as a reference but I don't really know what I'm doing. https://github.com/sfackler/rust-postgres/blob/master/Makefile
[22:16:22] <acrichto> sfackler: hehe I was just basing mine off rustc's makefiles :P
[22:16:31] <acrichto> I'm unaware of any official way to build them
[22:17:15] <sfackler> I feel a little weird doing the print-targets things in rust-openssl and rust-phf, but I dont' really knwo a better way to figure out what got built
[22:17:55] <acrichto> print-target?
[22:17:56] <acrichto> weird
[22:18:01] <acrichto> why not rustc --crate-file-name?
[22:18:45] <sfackler> acrichto: the postgres makefile needs to figure out the path to the targets
[22:18:52] <sfackler> plus rust-mph makes 2 crates
[22:18:58] <acrichto> ah
[22:26:11] *** new_one is now known as new_one_afk
[22:31:56] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[22:31:56] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/SkRl2A
[22:31:56] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[22:36:39] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[22:36:42] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[22:36:42] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/0bs4iw
[22:36:42] <ghrust> 13rust/06auto 142784313 15Alex Crichton: rustc: Clean up error reporting...
[22:36:42] <ghrust> 13rust/06auto 14d0f6ef0 15bors: auto merge of #11620 : alexcrichton/rust/rustc-silent, r=brson...
[22:36:43] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[22:36:45] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[22:36:45] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/PFwCkw
[22:36:45] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[22:42:41] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[22:51:00] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[22:51:00] <ghrust> 01[13rust01] 15cmr pushed 1 new commit to 06try: 02http://git.io/Iv_GOg
[22:51:00] <ghrust> 13rust/06try 14f9fda06 15Corey Richardson: Fix zero-sized memory mapping
[22:51:00] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[22:57:25] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[22:59:20] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[23:05:03] <nrc> so, if I do |extern mod extra;| Rust magically knows about libextra - are there any other crates this works for?
[23:05:26] <nrc> (std is done by default without even the extern mod)
[23:05:42] <nrc> and whereabouts in the compiler does this magic live?
[23:05:47] <sfackler> nrc: all crates work that way
[23:05:58] <sfackler> you may need to use -L <DIR> to tell rustc where to search
[23:06:33] <cmr> nrc: it looks for libNAME-*, and then tries to find its metadata.
[23:06:40] <nrc> and it si just because extra is distributed with rust that it always worls?
[23:06:43] <sfackler> librustc::metadata::creader is where the lookup logic lives
[23:07:06] <sfackler> nrc: it's because it's always going to be sitting in /usr/lib or wherever and rustc will automatically search that directory
[23:08:06] <nrc> I meant that it will always be in /usr/lib because it ships with Rust?
[23:08:13] <sfackler> yeah
[23:09:09] <nrc> are there other crates which ship with rust, or just std and extra?
[23:09:31] <cmr> std, extra, native, green, syntax, rustc
[23:09:47] <cmr> rustpkg, rustdoc, rustuv
[23:09:57] <cmr> that's it
[23:10:25] <nrc> is there a canonical place to find that info? It looks like it will change from time to time
[23:10:40] <cmr> the makefiles :(
[23:10:50] <nrc> :-( indeed
[23:11:09] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[23:11:10] <ghrust> 01[13rust01] 15cmr pushed 1 new commit to 06try: 02http://git.io/v6YvnA
[23:11:10] <ghrust> 13rust/06try 14290beb0 15Corey Richardson: workaround in destructor
[23:11:10] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[23:11:20] <nrc> thanks for all the info!
[23:11:52] <cmr> this guard pages PR is being a pita
[23:12:09] * cmr should stand up some VMs to test locally.
[23:25:12] *** Quits: Jesse_ (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Quit: Jesse_)
[23:26:27] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[23:27:42] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Quit: Lost terminal)
[23:27:53] <nrc> does anyone have an example of code in the wild which uses extern mod to load a remote crate (e.g., from github)?
[23:27:59] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[23:27:59] *** ChanServ sets mode: +qo brson brson
[23:29:14] <cmr> nrc: so the way that works is that rustpkg pulls in the dependency, builds it, and then links against that.
[23:29:27] <cmr> also I think it's broken right now so any given example of it wouldn't work
[23:30:13] <nrc> heh, fair enough
[23:38:08] <sfackler> nrc: in theory: "extern mod foo = "github.com/blah/foo";"
[23:39:43] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[23:47:20] <bjz> uughhh, why is the IEEE 754 behind a pay wall! :@ :@ :@
[23:47:39] * bjz has acess to it via his uni, but not everyone does
[23:47:42] <dbaupp> bjz: you may be able to get access via your university library
[23:47:44] <dbaupp> oh, heh
[23:47:56] <bjz> so stupid - such an important doc
[23:48:42] <cmr> wait, it is?
[23:48:47] <bjz> YES
[23:48:52] <bjz> >:[
[23:48:53] <cmr> I feel like I"ve read it before, when I didn't have access to academic things.
[23:49:35] <bjz> http://ieeexplore.ieee.org/xpl/login.jsp?tp=&arnumber=4610935
[23:49:49] <cmr> what a pain.
[23:49:50] <dbaupp> eddyb: http://llvm-reviews.chandlerc.com/D2034 is strcat's LLVM patch
[23:50:02] <eddyb> dbaupp: thanks :)
[23:50:37] <dbaupp> eddyb: and, if you can find strcat, he knows about a patch that fixes mergefunc that hasn't been merged, but would be really nice to
[23:50:55] * bjz has the standard downloaded, but can't share it with folks
[23:51:17] <eddyb> dbaupp: hmm, I didn't know about this site, I just posted to the mailing list
[23:51:40] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[23:51:40] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/0bs4iw
[23:51:40] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[23:51:57] <dbaupp> eddyb: I think mailing list patches get routed to the review site for review, or something like that
[23:52:03] * dbaupp has no idea
[23:52:25] *** Quits: canhtak (canhtak@moz-6C22A50C.wl.t.ulaval.ca) (Quit: canhtak)
[23:55:40] <bjz> jensnockert: ping
[23:55:46] <jensnockert> pong
[23:55:57] <eddyb> dbaupp: #llvm people said "tell strcat to ping it again"
[23:56:30] <eddyb> telling you so you can tell him if he shows up while I'm not around :)
[23:56:40] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[23:56:40] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/E_0qXw
[23:56:40] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[23:56:54] <bjz> jensnockert: so. IEEE 754. what to do
[23:57:32] <bjz> jensnockert: any idea how to deal with exceptions for example?
[23:57:55] <jensnockert> They are optional, so we don't have to support them.
[23:58:12] <bjz> ahh
[23:58:15] <jensnockert> But in certain cases, supporting them could be nice.
[23:58:36] <dbaupp> eddyb: okay
[23:58:47] <bjz> we are thingking of having some kind of IEEE trait
[23:59:01] <dbaupp> eddyb: we could spam rusti, to make his computer very noisy to wake him up
[23:59:03] <jensnockert> bjz: I'm sure someone would like to have a trap-on-division-by-zero mode that they can enable.
[23:59:06] <dbaupp> ;P
[23:59:17] <eddyb> rusti: loop {}
[23:59:20] -rusti- pastebinned 10 lines of output: http://ix.io/9RZ
[23:59:25] <eddyb> rusti: loop {};
[23:59:27] -rusti- pastebinned 10 lines of output: http://ix.io/9RZ
[23:59:31] <eddyb> err, what?
[23:59:31] <bjz> jensnockert: yep
[23:59:38] <cmr> rusti: loop {} 42
[23:59:41] -rusti- pastebinned 10 lines of output: http://ix.io/9RZ
[23:59:46] <cmr> wut
[23:59:50] <eddyb> cmr: !
[23:59:52] <cmr> rusti: loop { 42 }
[23:59:54] <eddyb> as in, ty_bot
[23:59:55] -rusti- pastebinned 13 lines of output: http://ix.io/9Yc
[23:59:56] <bjz> jensnockert: does that require some kind of global setting though
