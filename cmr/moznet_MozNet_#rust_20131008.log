[00:00:02] <kmc> yeah
[00:00:07] <kmc> I think we need to fill that gap with more tutorials and examples
[00:00:11] <lkuper_> yeah, I think this is a known issue with the docs (cc: cmr)
[00:00:45] <kmc> examples and API docs are both important but I think API docs tend to get written more because there's a straightforward incremental approach and you do it as you code
[00:00:53] <doomlord_> one suggestion i had was to add tags to searchable items (eg, you could tag methods with synonyms from other langauges) 
[00:01:09] <kmc> there's been some good work on the tutorials recently though, so I'm hopeful
[00:01:14] <cmr> joelteon: The str/vec page isn't a page for the type, it's a page for the module.
[00:01:15] <kmc> heh
[00:01:21] <pcwalton> pet peeve: trailing commas aren't allowed in record patterns
[00:01:25] <joelteon> right, but that's where people *look*
[00:01:31] * pcwalton needs to fix
[00:01:43] <cmr> ok, so submit a PR adding more comments to the module doc.
[00:01:50] <joelteon> good idea
[00:01:59] <kmc> doomlord_: wearing my Haskell hat I would really object to tagging synonyms, because so many things are *kinda* like something in another language, but subtly different, and it causes confusion
[00:02:08] <kmc> Rust probably has less of that
[00:02:30] <engla> the vec module docs has a few lines about iterators
[00:02:37] <doomlord_> you might go round in circles with 'map' i guess :)
[00:02:47] *** Quits: hjr3 (hradtke@1A0AE795.28A5F6C3.A2D40ED2.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[00:02:50] <engla> maybe it should refer to std::iter or the iterator tutorial
[00:02:50] <lkuper_> I was thinking of it as more of a systemic issue with how docs are organized
[00:03:17] <lkuper_> but I'm not sure what the right way to fix it is
[00:03:33] <kmc> and really, that objection applies more to core language features (e.g. typeclasses vs Java interfaces)... at the end of the day people will want a string split function and it's probably fair to describe it as analagous to other languages' string split functions
[00:04:11] <cmr> lkuper_: there is a rustdoc bug about the builtin types, but I don't think it's the only problem.
[00:04:46] * lkuper_ nods
[00:07:13] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[00:07:30] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Client exited)
[00:07:52] *** Quits: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net) (Ping timeout)
[00:09:10] *** Joins: Yurume (yurume@AC58A8CE.8A059B47.E313B915.IP)
[00:09:22] *** Quits: eholk_ (eholk@moz-BA312F07.crest.iu.edu) (Quit: eholk_)
[00:11:25] *** Quits: jordyd (jordyd@moz-D8C0C984.seg173.ucf.edu) (Ping timeout)
[00:12:26] <Sorella> Hoogle in Haskell is a wonderful thing for finding things (as long as you have some idea of what you're trying to find)
[00:12:51] <doomlord_> its definitely the most impressive code search feature i've seen
[00:13:02] <cmr> Sorella: we had rustle for a while, which was a hoogle-for-rust
[00:13:09] *** Joins: w3lcome (Mibbit@moz-2A50DB79.home.otenet.gr)
[00:13:10] <cmr> hasn't been updated since 0.5days
[00:13:37] <lkuper_> I like Hayoo for Haskell, too
[00:13:58] <lkuper_> it's better for some things
[00:14:51] *** Quits: sebcrozet (sebcrozet@moz-D8879CC3.w80-13.abo.wanadoo.fr) (Quit: Gone)
[00:15:00] <Sorella> Oh, I did not know Hayoo.
[00:15:25] <Sorella> Interestingly, it also seems to search Hackage
[00:16:30] <Earnestly> Sorella: You can actually go quite far with Hoogle without having a clue what you’re searching for.  You will certainly find plenty of things heh
[00:18:35] *** Quits: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com) (Ping timeout)
[00:19:59] *** Joins: brendan (brendaneic@moz-96BBAE38.public.wayport.net)
[00:20:58] <kmc> i like when Hoogle suggests unsafeCoerce for everything because its type (a -> b) unifies with any function type
[00:21:35] <lkuper_> haha
[00:22:27] <joelteon> "type &[(uint,uint)] does not implement any method in scope named move_iter"
[00:22:31] <joelteon> but i neeeeeeeeeed it
[00:22:50] <kmc> can't move out of a slice, cause you're borrowing it from elsewhere
[00:22:55] <lkuper_> off-topic, but while we're talking about tools of that nature -- this was demoed at ICFP and it's really slick: http://nautilus.cs.miyazaki-u.ac.jp/~skata/MagicHaskeller.html
[00:22:56] <kmc> why do you need it?
[00:23:00] <joelteon> I'm literally defining the vec in the function body
[00:23:06] <joelteon> I'm trying to filter it based on which elements are positive
[00:23:09] *** Quits: fran (fran@moz-E90E413A.telecom.net.ar) (Ping timeout)
[00:23:29] <kmc> lkuper_: nice! reminds me of QuickSpec maybe, but backwards
[00:23:42] <joelteon> but it doesn't support move_iter, and in iter().filter(...), the filter body has an argument of type &&(uint, uint)
[00:23:43] <ChrisMorgan> joelteon: if you defined it in the form `let x = [(1, 2)];`, put the ~ sigil before the [
[00:23:43] *** Joins: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com)
[00:24:02] <kmc> joelteon: you just have to dereference those tuples
[00:24:14] <kmc> er, dereference the pointer-to-tuple I mean
[00:24:24] <joelteon> but && is an "obsolete argument type"
[00:24:27] <kmc> often you'd do that with pattern-matching e.g.  .filter(|&x| ...)
[00:24:33] <joelteon> right
[00:24:39] <kmc> oh, what? suddenly I have no idea what's going on.
[00:24:41] <joelteon> but the argument is type &&(uint,uint) and I can't dereference that
[00:24:47] <joelteon> because && is invalid
[00:24:55] <ChrisMorgan> Space in between, & &
[00:25:07] <cmr> lkuper_: that font is entirely unreadable :\
[00:25:08] <lkuper_> it thinks && is a mode, I guess?
[00:25:14] <joelteon> ok
[00:25:16] <joelteon> that worked
[00:25:37] <lkuper_> cmr: looks okay for me
[00:25:38] <ChrisMorgan> But for the type &[(uint, uint)], the iterator would be yielding &(uint, uint) values, surely?
[00:26:04] <joelteon> you'd think
[00:26:04] <cmr> Hm, I wonder if it's just this box.
[00:26:05] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[00:26:42] <joelteon> https://gist.github.com/6877473, with "Coords" being a type synonym for (uint, uint)
[00:26:50] <lkuper_> cmr: perhaps "content="text/html; charset=euc-jp"" is the culprit?
[00:27:09] *** Quits: kasey (Kasey@64200777.9F2295A6.43BD6885.IP) (Quit: Leaving.)
[00:27:48] <cmr> lkuper_: ah yes that did it.
[00:27:55] *** Joins: kasey (Kasey@64200777.9F2295A6.43BD6885.IP)
[00:28:01] *** Quits: maik (maik@moz-49A9B12C.dip0.t-ipconnect.de) (Client exited)
[00:28:44] <ChrisMorgan> joelteon: ~[...].iter() means an owned pointer to the final result, not of the vector.
[00:28:55] <ChrisMorgan> You want (~[...]), then you can use move_iter().
[00:29:59] *** Joins: fran (fran@moz-46330AE5.telecom.net.ar)
[00:30:07] *** Joins: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net)
[00:30:33] <joelteon> oh, weird
[00:31:06] <aatch> joelteon, the '.' operator has higher precedence than '~'
[00:31:14] <joelteon> interesting
[00:31:44] <cmr> not really. if you say ~foo.bar(), you don't expect it to box up foo before calling the method.
[00:31:49] <cmr> it's only unexpected with vectors.
[00:31:57] <cmr> because vectors are a huge special case.
[00:32:12] <Sorella> lkuper_, that's interesting. I also like how \ becomes a yen sign on SHIFT_JIS :P
[00:32:32] <eevee> maybe i should be ambitious and actually try implementing my half-baked kwarg proposal
[00:32:48] *** Quits: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se) (Ping timeout)
[00:32:53] <doomlord_> kwarg - keyword args ?
[00:32:54] <ChrisMorgan> joelteon: and filter takes fn(&A) rather than fn(A), which makes sense if you think about it.
[00:32:55] <eevee> worst case i'll find out exactly why it won't work  8)
[00:32:56] <eevee> yeah
[00:33:00] <joelteon> yeah, it makes sense
[00:33:06] <doomlord_> they've just closed the issue saying dont
[00:33:07] <doomlord_> :(
[00:33:13] <doomlord_> https://github.com/mozilla/rust/issues/6973#issuecomment-25854978
[00:33:58] <joelteon> is there a "contains" method for vecs
[00:34:05] <ChrisMorgan> As far as a reference-to-a-reference is concerned, both `& &x` and `&(&x)` will work; from what I've seen the former is preferred (and avoiding it altogether is preferred significantly more)
[00:34:18] <doomlord_> eevee the difficult bit is making the type inference work with it
[00:34:22] <ChrisMorgan> joelteon: yes
[00:34:28] <eevee> doomlord_: howso
[00:34:50] <doomlord_> eevee i started on trying to do default args - i had those in the AST ok
[00:35:29] <ChrisMorgan> joelteon: observe the traits in http://static.rust-lang.org/doc/master/std/vec/index.html; http://static.rust-lang.org/doc/master/std/vec/trait.ImmutableEqVector.html is the one you're looking for.
[00:35:40] <strcat> doomlord_: there were too many different proposals there
[00:35:53] <strcat> it belongs on the mailing list until it's something concrete
[00:36:37] <doomlord_> i wish github had voting to sample opinions
[00:37:10] <strcat> it's not really relevant what random people on github think ;p
[00:37:14] <ChrisMorgan> joelteon: note that in those cases, Immutable means "immutable or mutable" (i.e. both &[T] and ~[T]) while Mutable means "only mutable" (i.e. ~[T]). This is backwards from how some languages may work.
[00:37:15] <SiegeLord> I don't think language design should be done through voting ;)
[00:37:15] *** Parts: clusterfoo (computer@moz-A81F9872.cable.teksavvy.com) ()
[00:37:31] <ChrisMorgan> (&mut [T] also being mutable.)
[00:37:49] <doomlord_> you want to make something people want to use, right?
[00:38:40] <kmc> but partly, that's accomplished by making something good and then convincing people that it's good
[00:38:46] <kmc> it's a super difficult balancing act, of course
[00:38:52] <cmr> doomlord_: no 1.0 is perfect: look at any language to see that. hell, most of them aren't even worth using anymore, even though they were a great improvement at the tim.
[00:38:55] *** Joins: xAndy (xandy@moz-E129C9.unity-media.net)
[00:39:30] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[00:39:39] <aatch> cmr, good ol' Tim
[00:39:40] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Client exited)
[00:39:44] <strcat> ideas win on merit, not popularity
[00:39:45] <cmr> *time
[00:39:58] <strcat> if there's a *concrete proposal* with consensus behind it, the developers have something to make a decision on
[00:40:00] <Sorella> SiegeLord, JS is designed like that, look at how it turned out :P
[00:40:06] <doomlord_> doesn't something gain popularity through merit :)
[00:40:14] <eevee> is : still potentially type ascription because that would kinda wreck my proposal
[00:40:25] <cmr> eevee: not even potentially, pcwalton wants it for 1.0
[00:40:39] <strcat> doomlord_: you need a 'something' first
[00:40:43] <strcat> a proposal with the details thought out
[00:40:43] *** Joins: judder (maradukewa@1BB87CE.111872A8.950D3BB5.IP)
[00:41:14] <joelteon> how do you append to a vector?
[00:41:20] <cmr> joelteon: .push
[00:41:20] <strcat> the grammar, the semantics, how much complexity does it add, where would we use it, does the expressiveness outweigh the added complexity
[00:41:21] <joelteon> oh, wait
[00:41:22] <eevee> pcwalton: i'll fight you for it
[00:41:22] <Sorella> Oh, wait, it wasn't SiegeLord which said PL design should be done through voting.
[00:41:24] <joelteon> oh, push
[00:41:26] <doomlord_> default args work in c++, with templates and overloading
[00:41:37] <SiegeLord> Sorella: I said the opposite ;)
[00:41:55] <Sorella> SiegeLord, yeah, sorry ahaha
[00:41:57] <strcat> doomlord_: and lots of languages like Go explicitly choose not to implement either, due to the complexity and negative readability they add
[00:42:04] <strcat> and it needs to be considered in the context of Rust
[00:42:09] <eevee> i suppose : is pretty overloaded either way, but that leaves me lacking a kwarg punctuation
[00:42:12] <strcat> Rust isn't C++, or Python, or Haskell - it's Rust
[00:42:16] *** Quits: BitPuffin (isak@moz-98F8BF74.cust.tele2.se) (Ping timeout)
[00:42:16] <cmr> eevee: ... = ?
[00:42:29] <eevee> cmr: same problem.  = can also be part of an expression
[00:42:33] <cmr> fn foo(a: int = 50
[00:42:34] <pcwalton> there's also just that regardless of how good it is the question is not "do we want X" it's "do we want to hold 1.0 for X"
[00:42:47] <cmr> pcwalton++
[00:42:53] <strcat> pcwalton: well, if we had a concrete proposal with consensus it could go behind an experimental flag
[00:42:54] <pcwalton> at least I have started thinking in terms of "is this feature important enough to block 1.0"
[00:43:01] <pcwalton> I'm fine with experimental flags
[00:43:04] <cmr> although i think valoric or whomever had a good point about API compat.
[00:43:09] <doomlord_> +1
[00:43:19] <pcwalton> right, that is something that has to weigh into the decision for 1.0 blocking
[00:43:22] <strcat> I don't think we're going to reach agreement on how this feature would be implemented
[00:43:40] <strcat> too many ways to do it, and I've never felt it was missing
[00:43:40] <doomlord_> coming up with names is just a PITA, but expression through types and parameters is unambiguous
[00:44:00] <cmr> eevee: oh kwargs, nevermind
[00:44:02] <doomlord_> i can see it might be hard to imlement though
[00:44:04] <strcat> there are things I actually feel are *missing*, and this has never been one ;p
[00:44:18] *** Quits: eholk (eric@moz-F70D5031.hsd1.in.comcast.net) (Quit: Konversation terminated!)
[00:44:26] <doomlord_> i'm just so used to them in C++, i definitely feel it missing
[00:44:33] <cmr> it's pure sugar for function call, what subtlty is there?
[00:44:40] <eevee> cmr: yeah my thing was https://github.com/mozilla/rust/issues/6973#issuecomment-24625976 and would piggyback off of hypothetical struct defaults.  no changes to function definitions, only to calls
[00:45:02] <doomlord_> is it more difficult with 2way type inference perhaps
[00:45:23] <doomlord_> other than that i'd say the existence of default args in C++ where it can be used in templated functions proves its possible
[00:45:43] <cmr> i don't care about kwargs, but I do care about default args.
[00:45:49] <eevee> doomlord_: i gotta say i'm not enthralled by anything defended with "C++'s type system makes it work"
[00:45:49] <strcat> templates aren't type-checked from their definition
[00:45:53] <strcat> so it doesn't really prove anything
[00:45:54] <pcwalton> I think C++ templates don't really prove anything since they're so different
[00:46:01] <pcwalton> the fact that OCaml has them I think is more relevant
[00:46:02] <doomlord_> C++ type system is very powerful
[00:46:12] <pcwalton> however I'd like better syntax than OCaml
[00:46:23] <pcwalton> for these
[00:46:41] <strcat> ocaml doesn't have type classes though
[00:46:50] <pcwalton> it has ML modules, but yeah
[00:46:59] *** Joins: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net)
[00:47:01] <strcat> haskell has a bunch of experimental ghc language features and optional parameters aren't one of them
[00:47:12] <doomlord_> they're very useful as generic arguments aswell
[00:47:20] <pcwalton> (one of these days I'll learn about the difference between applicative and generative functors...)
[00:47:27] <doomlord_> (default args for generic/template parameters)^
[00:48:12] <doomlord_> i can see default args are at loggerheads with currying
[00:48:42] *** Joins: findow (Mibbit@8800368A.AC8DE96C.8B824544.IP)
[00:48:56] <doomlord_> haskell has a different way of using the same function name with a differnt number of arguments
[00:49:03] <pcwalton> one of the reasons Rust does not use curried arguments is that default args and optional args don't really work with it
[00:49:09] <pcwalton> we're leaving room for that
[00:49:31] *** Quits: findow (Mibbit@8800368A.AC8DE96C.8B824544.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[00:49:31] <cmr> pcwalton: what are the thoughts on overloading?
[00:49:34] <eevee> they would work with default/named-as-struct, though actually adding more struct args would be a bit ugly
[00:49:48] <cmr> that's the only feature I really want to champion, even if I have to do it myself
[00:49:57] <jason_> java does just fine without default args (though they use overloading as a work-around) and while they might seem useful in c++, they're also a common source of confusion and bugs
[00:50:09] <strcat> C++ default parameters don't solve any combinatorial naming explosion issues because you have to provide them in order
[00:50:09] <cmr> the current workarounds with traits don't really cut it
[00:50:11] <pcwalton> cmr: I always kind of found a strange overlap between overloading and default args
[00:50:13] *** Parts: judder (maradukewa@1BB87CE.111872A8.950D3BB5.IP) ()
[00:50:18] <strcat> so I don't think that style of default parameter buys you anything
[00:50:37] <pcwalton> I've gotta say I have never really missed default or keyword arguments in Rust
[00:50:44] <pcwalton> maybe I'm just too much of an ML head
[00:50:46] *** Quits: kasey (Kasey@64200777.9F2295A6.43BD6885.IP) (Quit: Leaving.)
[00:50:50] <pcwalton> or C head
[00:50:54] <eevee> i missed them /immediately/
[00:51:00] * ski . o O ( Optional arguments in OCaml <http://caml.inria.fr/pub/docs/manual-ocaml-4.01/lablexamples.html#sec43> )
[00:51:04] <pcwalton> that's not to say no of course
[00:51:14] <strcat> I like them in python because it's sugar for receiving a dict
[00:51:42] <strcat> not just a pre-created list of keywords
[00:51:47] <doomlord_> i missed them and look enviously at kwargs .. i hold hope for the fact rusts' syntax might have room for the latter, being designed with the benefit of hindsight looking at other languages
[00:51:56] *** Joins: jordyd (jordyd@moz-B37CE5C8.seg58.ucf.edu)
[00:52:05] <doomlord_> kw args are good for readability because you can mix meaning and parameters
[00:52:25] *** Quits: carllerche (carllerche@6B070D22.7E6A0813.1428D117.IP) (Quit: carllerche)
[00:52:26] <pcwalton> anyway I'm fine with having them in the future if there's a concrete proposal, something like OCaml's looks pretty sane except for the syntax
[00:52:28] <doomlord_> (IMO)
[00:52:42] <jason_> keyword args seems more important than default args to me. keyword args actually helps prevent bugs, default args just adds another place bugs can sneak by unnoticed
[00:52:58] <doomlord_> i would have seen default args as a stepping stone to keyword args. low hanging fruit first
[00:53:00] <strcat> we can just add an alternative parameter passing syntax
[00:53:01] <mcpherrin> Kw args are a reasonable solution to the foo(true, true, false, true) problem
[00:53:17] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[00:53:22] <eevee> they go hand-in-hand imo, and dash has convinced me that they should be the same thing
[00:53:25] * kmc worked somewhere with a 20-bool C++ constructor
[00:53:38] <kmc> some of which defaulted to 'true', some to 'false'
[00:53:44] <strcat> kmc: should be an option struct
[00:53:45] <jason_> kmc: builder pattern, what is it?
[00:53:46] <eevee> er or at least that optional should be a subset of keyword
[00:53:49] <aatch> kmc, to be fair, a 20-arg constructor is overkill
[00:54:09] <kmc> yeah there are many reasonable solutions and this was not one ;)
[00:54:10] <pcwalton> in OCaml they're integrated
[00:54:18] <kmc> but it started out with just two or three args, right...
[00:54:54] <strcat> option struct with required things as params + default things get initialized, but you can override
[00:55:14] * strcat shrugs
[00:55:32] <strcat> way more flexible than being able to omit the last parameter N times (but not a specific one)
[00:55:38] *** Quits: jordyd (jordyd@moz-B37CE5C8.seg58.ucf.edu) (Ping timeout)
[00:55:49] *** Quits: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com) (Quit: )
[00:56:00] <eevee> strcat: hence my proposed sugar
[00:56:05] <SiegeLord> I, myself, kind of liked using structs for it
[00:56:05] <doomlord_> on the subject of overloading is it possible rust might get something like multi-parameter typeclasses
[00:56:13] <jason_> kmc: that is a good example of why default args is a dangerous feature. if most of those 20 bools have defaults it isn't very painful to just keep adding args with defaults. i'm for languages making dumb things painful
[00:56:36] <kmc> *nod*
[00:56:40] <doomlord_> default args are great for funtions with 2-3 args
[00:56:42] <strcat> the C++ default style will only let you omit them from the end
[00:56:50] <kmc> I agree that you need keywords to have good default args
[00:56:52] *** Quits: alisdair (textual@moz-DBA2EB65.vc.shawcable.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[00:56:56] <aatch> I like default args for cases where an argument is almost always the same value.
[00:57:00] <strcat> foo(true, false, true /* I want to omit this one - too bad */, false)
[00:57:25] <kmc> C++ has a lot of "half measure" features which are unpleasant... another example is letting people override a small set of built-in operators but not define new ones with more sensible precedence etc
[00:57:40] <strcat> kmc: I really hate user defined operators ;p
[00:57:42] <doomlord_> C++ programmers are used to sorting the arguments to make the trailing defaults useful
[00:57:55] <aatch> kmc, that's not a fair example.
[00:58:06] <kmc> doomlord_: which is extra painful when you also want to put a closure last
[00:58:15] <strcat> kmc: there's no way a human can remember the existing 17-layer precendence
[00:58:16] * pcwalton is just happy everyone is arguing over keyword arguments and not over pointer types ;)
[00:58:17] <jeaye> kmc: We have such large boolean functions here. I call it "creeping booleanism", where people want to keep adding special-case bools to a given function.
[00:58:23] <strcat> kmc: http://en.cppreference.com/w/cpp/language/operator_precedence
[00:58:29] <pcwalton> makes me feel that the language is pretty usable
[00:58:41] <strcat> most people probably don't even know the member pointer things exist
[00:58:41] <cmr> pcwalton: yup!
[00:58:44] <eevee> pcwalton: i'll be sure to get back to that when i try to fix clio again
[00:59:00] <kmc> strcat: exactly, which is why a library overloading operators needs to be able to set the precedence to make sense in context, so you don't have to memorize the table
[00:59:00] <cmr> pointer-to-member is really really useful, for the exactly one time I've seen it used.
[00:59:11] <ski> strcat : ooc, what is "member pointer things" ?
[00:59:19] <eevee> ->* right?
[00:59:20] <kmc> my rule is that in any case where you'd maybe need to consult the table, put in parentheses instead
[00:59:25] <strcat> ski: .* and ->*
[00:59:29] <strcat> are C++ operators
[00:59:45] <strcat> but they don't really work as you'd expect so they added new ways to do that stuff in C++11
[00:59:48] <strcat> mem_fn and so on
[00:59:49] <ski> use for members which are pointers ?
[00:59:52] <eevee> oh good, more features
[00:59:53] <cmr> ski: no
[00:59:55] *** Joins: robertknight (robertknig@moz-54528EE0.wby.mendeley.com)
[00:59:59] <cmr> ski: they're really weird and hard to grok
[01:00:02] <aatch> strcat, I only know about those from the clang source code.
[01:00:04] <eevee> it's pretty telling that C++'s operator overloading is crazier than perl's
[01:00:14] *** Joins: Yeri (jasonjasmi@41C91A8A.CE609BA5.E39FBF79.IP)
[01:00:17] <strcat> C++ lets you overload the comma operator
[01:00:20] <eevee> yes.
[01:00:25] <doomlord_> eevee what is your favourite language outside of rust
[01:00:31] <eevee> python
[01:00:33] <jeaye> But doesn't allow overloading of operator .
[01:00:35] <jeaye> :(
[01:00:49] <jason_> pcwalton: its very useable. i picked some hard problems to solve in rust and was able to. my biggest issue was not being able to compute the size of a type at compile time.
[01:01:35] <strcat> jeaye: meh, you can overload ->
[01:01:46] *** Quits: robertknight (robertknig@moz-54528EE0.wby.mendeley.com) (Ping timeout)
[01:01:52] <strcat> and ->*
[01:01:56] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[01:02:02] <aatch> strcat, I do really like that you can overload ->, makes smart pointers so much nicer to work with.
[01:02:03] <eevee> isn't there something even wackier than , that you can overload
[01:02:15] <SiegeLord> If you overload . and -> how are you going to get at the type's members :P
[01:02:27] <aatch> eevee, casting operators?
[01:02:29] <jeaye> strcat: Not good enough. :|
[01:02:31] <jason_> SiegeLord: :: ?
[01:02:36] <strcat> eevee: new and delete
[01:03:05] <aatch> strcat, at least there's a valid use case there for placement new and custom allocators.
[01:03:06] <strcat> and if you define a constructor with 1 parameter not marked explicit, you overloaded conversion
[01:03:08] *** Quits: brendan (brendaneic@moz-96BBAE38.public.wayport.net) (Quit: brendan)
[01:03:40] <aatch> strcat, that one is a major gotcha
[01:03:53] <strcat> aatch: meh, it's incredibly stupid that objects are allowed to depend on their address in C++
[01:03:59] <eevee> oh right you can overload unary * and &
[01:04:00] <strcat> and it leads to super complexity
[01:04:02] <kmc> yeah it's super weird that both A and B can define the implicit conversion from A to B
[01:04:07] <kmc> I don't remember who wins...
[01:04:32] <kmc> fun C++ trivia: how do you take the actual address of an object which overloads operator&
[01:04:55] <eevee> uh
[01:05:03] *** Joins: binroot (Mibbit@4DA2317B.4F63199.DDE5D3F6.IP)
[01:05:18] <eevee> wait i feel like i might actually know this
[01:05:34] <aatch> kmc, cast and then take the address?
[01:05:36] <benh> I think I know!
[01:05:37] <strcat> use boost? ;p
[01:05:38] <kmc> cast to what?
[01:05:44] <eevee> it could overload the cast too
[01:05:48] <aatch> kmc, magic?
[01:06:05] <eevee> wait it can't overload reinterpret_cast right?
[01:06:06] <benh> reinterpret_cast to reference to char or something?
[01:06:10] <kmc> benh has it
[01:06:17] <jason_> kmc: std::addressof ? ;)
[01:06:27] <jason_> http://en.cppreference.com/w/cpp/memory/addressof
[01:06:36] <eevee> object.__addressof__(obj)
[01:06:42] <benh> I spent years in ##c++ and I didn't even get a stupid t-shirt :))
[01:06:49] <eevee> real_&obj
[01:07:01] <jason_> benh: i read that as t->shirt
[01:07:07] <binroot> I have a trait impl on ~[~str] called 'run'. when I do myVectors.run<~str>("test"), it gives the error that ~str is not found. Any advice?
[01:07:07] <ski> cmr : hm, seems to be more or less offset of member from object start (in terms of probable implementation)
[01:07:24] <eevee> jason_: that is rather more casts than expected
[01:07:24] <strcat> kmc: http://ix.io/8no yay boost ;p
[01:07:37] <strcat> kmc: and it only depends on a tree of ~50 headers
[01:07:39] <strcat> ;p
[01:08:20] <binroot> run is defined as generic, but I still get the error
[01:08:48] <kmc> maybe the syntax is myVectors.run::<~str>("test") ... not sure though
[01:08:52] *** Quits: lfox (larryfox@moz-B8648F0F.nycmny.fios.verizon.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[01:09:04] <strcat> so..... I find myself about to write Fn1, Fn2, Fn3, Fn4, ...
[01:09:06] <kmc> strcat: nice
[01:09:10] <kmc> oh, that's not nice
[01:09:13] <strcat> ;p
[01:09:31] <strcat> kmc: well, it's nicer than not having them
[01:09:35] <binroot> kmc: where is that in the documentations? 
[01:09:39] <strcat> can make compiler sugar one day
[01:09:44] <strcat> T: fn(int, int) -> bool
[01:09:46] <strcat> until then
[01:09:53] <strcat> T: Fn2<int, int, bool>
[01:09:57] <strcat> ;s
[01:10:08] <ross> C# does the same thing iirc
[01:10:21] <ross> except they all have the same name
[01:10:41] <strcat> need to make iterators accept extern fn and ~fn (and whatever replaces ~fn) too
[01:10:43] <jason_> strcat: just use BOOST_PP_ENUM_PARAMS ;)
[01:11:02] *** Quits: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net) (Ping timeout)
[01:11:24] <Amaranth> Hey it took until C++11 for it to get variadic templates and while they have obvious benefits people seem to be uncomfortable with them existing
[01:11:26] <benh> can't we have the return type in the first position :(
[01:11:26] <kmc> binroot: I'm not sure...
[01:11:44] <binroot> kmc: hmm.
[01:11:46] <strcat> if it was C++, you wouldn't have to do anything because you could use a templated parameter and make the 60KiB template stack trace the user's problem ;p
[01:11:59] <binroot> kmc: it works though.
[01:12:00] <strcat> template<typename T> void foo(T f) { f(1, 2, 3) }
[01:12:15] <strcat> foo([](int x, int y, int z) {})
[01:12:29] <ross> makes more sense for the return to be last doesn't it?
[01:12:50] <ross> The return type is last here too: fn foo(x: int) -> bool
[01:12:51] <benh> I feel like since every FnN has the return type, it ought to not move
[01:13:03] <benh> but I'm solidly in the bikeshed right now, I know ;)
[01:13:04] <strcat> benh: I could probably make Fn2<(int, int), bool> work
[01:13:15] <benh> strcat: really?
[01:13:21] <strcat> yes
[01:13:34] <ross> I don't really have any intuition about it other than the return is last in C#'s Func type
[01:13:46] <benh> hmm
[01:13:51] <ross> but what you're saying makes sense too
[01:13:53] <strcat> std::function<void(int, int)> is the C++ way but don't ask me how that's valid C++
[01:13:54] <Amaranth> strcat: I haven't looked under the covers to see how ugly it is but in C++ you'd just use std::function :)
[01:14:02] <Amaranth> Oh, too late
[01:14:04] <benh> void(int, int) is just a funtion type :)
[01:14:11] <ross> I put my non-moving function parameters first in overloaded functions
[01:14:25] <strcat> Amaranth: yeah, this would be a bit different though since Fn2 would be a trait (which in C++ would just be an implicit stated assumption)
[01:14:27] <benh> and they use their ridiculous template pattern matching to get the individual types out later
[01:14:34] <strcat> Amaranth: std::function is basically ~fn
[01:14:43] <benh> which I thought we didn't have, hence my suprise at being able to do anything useful with (int, int)
[01:14:52] <kmc> they don't have to be uniquely owned or in the heap, do they?
[01:14:59] *** Joins: brendan (brendaneic@moz-539C8887.public.wayport.net)
[01:15:00] <strcat> kmc: they are, though
[01:15:05] <strcat> kmc: it always allocates and has indirection
[01:15:10] <kmc> huh
[01:15:25] <strcat> kmc: lambdas each have a unique type, the idiomatic way to deal with them is using templated parameters
[01:15:26] <kmc> that's to support the virtual operator() I guess
[01:15:33] <kmc> yeah
[01:16:21] *** Joins: p_adams (p_adams@moz-EB08CC70.dhcp.stls.mo.charter.com)
[01:16:55] <strcat>   template<typename LeftF, typename RightF>
[01:16:57] <strcat>   auto match(LeftF leftf, RightF rightf) -> decltype(leftf(left)) {
[01:16:59] <strcat>     return is_left ? leftf(left) : rightf(right);
[01:17:01] <strcat>   }
[01:17:03] <strcat> ;p
[01:17:05] *** Joins: ruzu (ruzu@moz-2AAEC710.austin.res.rr.com)
[01:17:15] <strcat> (this still segfaults clang...)
[01:17:19] *** p_adams is now known as yrdz
[01:17:40] <benh> I hope one day rust will be as expressively segfault-inducing as C++!
[01:17:42] <strcat> I have to admit I never reported it because I don't really care about C++ anymore
[01:18:14] *** Quits: maxli (maxli@moz-A607CA26.student.cs.uwaterloo.ca) (Quit: Leaving.)
[01:18:16] *** Joins: maxli (maxli@moz-A607CA26.student.cs.uwaterloo.ca)
[01:19:02] <benh> template<class T> struct Loop { Loop<T*> operator->(); }; Loop<int> i, j = i->hooray; seems to trap clang in a loop indefinitely too
[01:19:17] *** Quits: brendan (brendaneic@moz-539C8887.public.wayport.net) (Ping timeout)
[01:20:02] <strcat> I wonder what happens with -std=c++1y if you leave off the type...
[01:20:42] *** Joins: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net)
[01:21:17] *** Joins: lfox (larryfox@moz-B8648F0F.nycmny.fios.verizon.net)
[01:21:42] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[01:21:59] *** Quits: eiz (eiz@moz-9518AEF.hsd1.ga.comcast.net) (Ping timeout)
[01:22:35] *** Quits: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net) (Ping timeout)
[01:23:04] <strcat> hrm
[01:23:56] *** Quits: w3lcome (Mibbit@moz-2A50DB79.home.otenet.gr) (Quit: http://www.mibbit.com ajax IRC Client)
[01:25:04] *** Joins: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net)
[01:25:42] <ruzu> so, newbie here... i wasn't able to use the win binaries, so tried a config/make in mingw, but it fails due to some bootstrapping or something, saying _gxx_personality_v0 not found in rustrt.dll
[01:26:41] *** Quits: maxli (maxli@moz-A607CA26.student.cs.uwaterloo.ca) (Quit: Leaving.)
[01:26:44] *** Joins: maxli (maxli@moz-A607CA26.student.cs.uwaterloo.ca)
[01:27:07] <ruzu> is there some way to build without whatever bootrapping is going on, or is there a config issue?
[01:27:08] *** Quits: riley (riley@8BA43816.9AA11D69.65DDFA89.IP) (Client exited)
[01:28:21] <klutzy> ruzu: what version of mingw do you use?
[01:29:05] <klutzy> I have no clue yet, so just for a clarification
[01:30:20] <ruzu> not sure how to tell, if it's based on the gcc version, it's 4.8.1
[01:30:35] <ruzu> 32bit
[01:31:30] <klutzy> installed from mingw.org installer?
[01:31:40] <ruzu> yes
[01:32:09] <joelteon> is there a builtin map that's designed to return an Option and collects Some values?
[01:32:28] *** Joins: yichoi (yichoi@B4104EBB.3CC170B1.1E14B209.IP)
[01:32:31] *** Quits: yichoi (yichoi@B4104EBB.3CC170B1.1E14B209.IP) (Quit: yichoi)
[01:32:44] <strcat> joelteon: hm?
[01:32:52] *** Joins: yichoi (yichoi@B4104EBB.3CC170B1.1E14B209.IP)
[01:32:55] <ruzu> ./configure ran through fine ostensibly, and make bailed at this:  compile_and_link: i686-pc-mingw32/stage0/bin/rustc/i686-pc-mingw32/bin/std.dll
[01:33:16] <ruzu> (bailed as in complained about the missing entry point)
[01:34:18] <klutzy> ruzu: did you install libstdc++ package? it is /mingw/libstdc++-6.dll
[01:34:59] *** Quits: drrb (drrb@13ED09A7.1CD80665.FD1ABB54.IP) (Ping timeout)
[01:35:09] <binroot> What's the trait for to_owned? I can't seem to find it
[01:35:28] *** Joins: carllerche (carllerche@6B070D22.7E6A0813.1428D117.IP)
[01:36:02] <joelteon> strcat: I want to iterate over a collection and only yield results for some of the values
[01:36:20] <strcat> joelteon: filter_map or filter + map
[01:36:41] <strcat> filter is (&A) -> bool, filter_map is (A) -> Option<B>
[01:37:57] *** Quits: nkoep (nik@moz-6334A92.vpn.rwth-aachen.de) (Client exited)
[01:37:59] <joelteon> oh, filter_map
[01:37:59] <ruzu> yea it looks like it's there
[01:39:28] *** Joins: drrb (drrb@13ED09A7.1CD80665.FD1ABB54.IP)
[01:40:33] <klutzy> ruzu: could you paste make error log at pastebin.com or somewhere?
[01:45:56] <ruzu> not sure if there's an outputted log anywhere, but this is the buffer and messagebox: http://pastebin.com/fV3wH3TV
[01:48:06] *** Joins: DAddYE_ (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[01:49:13] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Ping timeout)
[01:49:42] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[01:49:52] *** Quits: DAddYE_ (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Ping timeout)
[01:49:53] *** Quits: maxli (maxli@moz-A607CA26.student.cs.uwaterloo.ca) (Quit: Leaving.)
[01:51:59] *** Joins: MrOrdinaire (Mibbit@3749AFFF.391F484.FD383126.IP)
[01:52:24] *** Joins: ryeguy (ryeguy@9C569A0.5D1143CD.E8644521.IP)
[01:53:38] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[01:54:15] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[01:55:43] <ercxx__> Is there a special rule about using macros in modules?
[01:55:57] <kmc> all rust code is in a module, what do you mean though?
[01:56:34] <ercxx__> modulename::macro!(stuff) complains : expected macro name without module separators
[01:56:57] <ercxx__> I'm trying to write a small macro and it's in a different file.
[01:59:52] *** Quits: binroot (Mibbit@4DA2317B.4F63199.DDE5D3F6.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[02:02:06] *** Quits: santiago (santiago@moz-8ADE82B4.socal.res.rr.com) (Connection reset by peer)
[02:02:22] *** Joins: santiago (santiago@moz-8ADE82B4.socal.res.rr.com)
[02:07:50] <Eridius> ercxx__: macros are not currently visible outside the module in which they're defined
[02:08:09] <Eridius> there's no visibility controls and no way to bring them in scope
[02:08:14] <ercxx__> Thank you.
[02:08:47] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: sleep)
[02:11:37] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[02:11:39] *** Quits: fyolnish (fyolnish@moz-F8DB0074.uqwimax.jp) (Client exited)
[02:11:41] <joelteon> is there not a flat_map_move
[02:12:00] *** Joins: fyolnish (fyolnish@moz-F8DB0074.uqwimax.jp)
[02:13:50] *** Quits: fyolnish (fyolnish@moz-F8DB0074.uqwimax.jp) (Ping timeout)
[02:14:17] <joelteon> oh wait, move_iter().flat_map
[02:14:31] *** Quits: pcwalton (pcwalton@moz-BE33DA21.fw1.sfo1.mozilla.net) (Quit: pcwalton)
[02:14:34] <joelteon> why isn't there an Iterator instance for ~[~[(int, int)]]?
[02:16:01] *** Joins: sw17ch (sw17ch@moz-675AFBCF.hsd1.mi.comcast.net)
[02:16:03] *** Quits: yrdz (p_adams@moz-EB08CC70.dhcp.stls.mo.charter.com) (Quit: WeeChat 0.4.1)
[02:18:17] *** Quits: doomlord__ (servitor@moz-728E30A7.range109-151.btcentralplus.com) (Ping timeout)
[02:18:53] *** Quits: doomlord_ (servitor@moz-728E30A7.range109-151.btcentralplus.com) (Ping timeout)
[02:18:53] *** Joins: dignan (dignan@37A38C73.9CE91D06.839F6EC0.IP)
[02:28:51] *** Joins: gandalf (zbraniecki@moz-BE33DA21.fw1.sfo1.mozilla.net)
[02:28:54] *** Quits: carllerche (carllerche@6B070D22.7E6A0813.1428D117.IP) (Quit: carllerche)
[02:29:00] *** Quits: gandalf (zbraniecki@moz-BE33DA21.fw1.sfo1.mozilla.net) (Input/output error)
[02:31:41] *** Quits: spott (spott@moz-9B11536C.hsd1.co.comcast.net) (Client exited)
[02:32:17] *** Joins: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com)
[02:32:26] <klutzy> ruzu: ah, forgot to ask this at first: do you have libgcc_s_dw2-1.dll? it is also at /mingw/
[02:34:52] *** Quits: zz_kimundi (kimundi@moz-F7EA7A97.dip0.t-ipconnect.de) (Ping timeout)
[02:35:10] *** Joins: carllerche (carllerche@6B070D22.7E6A0813.1428D117.IP)
[02:36:42] *** Quits: mark_edward (quassel@moz-DCB0B750.lightspeed.cicril.sbcglobal.net) (Client exited)
[02:37:45] *** Joins: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp)
[02:38:00] *** Joins: zz_kimundi (kimundi@moz-8F5873D8.dip0.t-ipconnect.de)
[02:38:17] *** zz_kimundi is now known as kimundi
[02:41:58] <joelteon> solve.rs:58:4: 59:3 error: failed to find an implementation of trait std::iter::Iterator<<V129>> for ~[~[(int,int)]] -- why is this happening
[02:42:40] <Eridius> joelteon: because that's not an iterator. You have to call .iter() or .move_iter()
[02:42:54] <Eridius> (the former will yield &~[(int,int)], the latter will consume the vec and yield ~[(int,int)])
[02:42:55] <joelteon> hmm.
[02:43:05] <joelteon> i'll gist it
[02:43:11] <joelteon> that arises from a use of move_iter
[02:43:25] <joelteon> https://gist.github.com/joelteon/6878612#file-solve-rs-L58
[02:44:58] <Eridius> joelteon: your error message makes it seem like the result of .flat_map() is a ~[T] vec, as if you'd called std::vec::flat_map(). Are you sure that's the code you're compiling?
[02:45:22] *** Joins: riley (riley@moz-E40BCEED.hsd1.ca.comcast.net)
[02:45:27] <joelteon> yeah, i'm sure.
[02:46:16] <Eridius> hrm you're right
[02:46:22] <joelteon> just double checked, but i'm not sure why it wouldn't
[02:48:27] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[02:48:59] <Eridius> oooooohhhh
[02:49:07] <Eridius> the error is compalining about the result type of the closure
[02:49:21] <Eridius> .flat_map()'s closure needs to return an Iterator. It's returning a ~[]
[02:49:50] <Eridius> slap a .move_iter() on the result of listify
[02:50:14] <Eridius> or make listify return an iterator itself
[02:52:04] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[02:52:41] <joelteon> brilliant
[02:54:41] *** Quits: sw17ch (sw17ch@moz-675AFBCF.hsd1.mi.comcast.net) (Quit: sw17ch)
[02:59:51] *** Quits: Earnestly (earnest@moz-BE290A2B.dyn.plus.net) (Ping timeout)
[03:00:30] *** Joins: sw17ch (sw17ch@moz-675AFBCF.hsd1.mi.comcast.net)
[03:01:02] *** Quits: drrb (drrb@13ED09A7.1CD80665.FD1ABB54.IP) (Quit: drrb)
[03:02:19] *** Quits: Yeri (jasonjasmi@41C91A8A.CE609BA5.E39FBF79.IP) (Quit: Yeri)
[03:03:44] *** Joins: spott (spott@moz-9B11536C.hsd1.co.comcast.net)
[03:05:34] *** Joins: drrb (drrb@13ED09A7.1CD80665.FD1ABB54.IP)
[03:06:24] *** Quits: spott (spott@moz-9B11536C.hsd1.co.comcast.net) (Ping timeout)
[03:06:39] *** Quits: dew (Instantbir@moz-EEE6B2F8.dhcp.stls.mo.charter.com) (Ping timeout)
[03:14:27] *** Quits: Shaladdle (Shaladdle@moz-424BC304.hsd1.pa.comcast.net) (Quit: Leaving)
[03:17:07] *** Quits: drrb (drrb@13ED09A7.1CD80665.FD1ABB54.IP) (Quit: drrb)
[03:17:28] *** Joins: doomlord_ (servitor@moz-728E30A7.range109-151.btcentralplus.com)
[03:19:01] *** Joins: jordyd (jordyd@B8DD47EA.9B8B0AD2.BB6D8913.IP)
[03:24:17] *** Joins: JanC_ (janc@moz-EC5CEC67.dsl.scarlet.be)
[03:25:05] *** Quits: JanC (janc@moz-ACD6C7B2.dsl.scarlet.be) (Ping timeout)
[03:26:57] *** Joins: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se)
[03:28:24] *** Quits: tiffany (kawaii@moz-28A8742A.dhcp.embarqhsd.net) (Input/output error)
[03:28:43] *** Quits: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net) (Ping timeout)
[03:30:43] *** Quits: sw17ch (sw17ch@moz-675AFBCF.hsd1.mi.comcast.net) (Quit: sw17ch)
[03:43:44] *** Quits: ryeguy (ryeguy@9C569A0.5D1143CD.E8644521.IP) (Quit: )
[03:45:50] *** Joins: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net)
[03:48:43] *** Joins: Shaladdle (Shaladdle@moz-424BC304.hsd1.pa.comcast.net)
[03:48:54] *** Quits: StarLight (StarLight@moz-4A9C441D.dynamic.avangarddsl.ru) (Ping timeout)
[03:49:43] <joelteon> this is REALLY confusing me https://gist.github.com/joelteon/6878612
[03:50:05] *** Joins: mitchty (mitchty@moz-9F527C8F.net)
[03:51:03] <benh> you can probably fix it like let args = std::os::args(); let args = args.slice_from(1).to_owned();
[03:51:27] <joelteon> why is that necessary?
[03:51:30] <benh> or just let mut args = std::os::args(); args.shift(); let args = args;
[03:51:31] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[03:52:28] <benh> I'm not really sure, there's a temporary ~-ptr and then you only have a slice anymore and it's not really clear how long a ~ is kept around if no one references it
[03:52:38] <joelteon> I see
[03:53:10] *** Joins: StarLight (StarLight@moz-4FA7CF40.dynamic.avangarddsl.ru)
[03:55:03] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[03:55:43] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[03:55:57] *** Joins: drrb (drrb@13ED09A7.1CD80665.FD1ABB54.IP)
[03:56:03] <joelteon> is there a guide to pattern matching with vecs?
[03:57:40] *** Quits: canhtak (jeremy@moz-B3204E72.wl.t.ulaval.ca) (Quit: canhtak)
[03:58:53] *** Quits: jordyd (jordyd@B8DD47EA.9B8B0AD2.BB6D8913.IP) (Ping timeout)
[04:01:12] <SiegeLord> Is the ctags generator that comes with Rust considered to be good?
[04:01:51] *** Quits: barosl (barosl@3DE683B6.E551553C.7544CABF.IP) (Ping timeout)
[04:04:17] *** Joins: barosl (barosl@3DE683B6.E551553C.7544CABF.IP)
[04:05:09] <mitchty> so i've a question that i don't quite see answered in the wiki or docs (that or i totally missed it), but are there any gotchas to running rust on older linuxen? or should i just try it and find out? thanks!
[04:06:37] <benh> maybe if running older linuxen is correlated with low memory
[04:06:52] <benh> not really aware of anything else, but I haven't tried
[04:07:22] <benh> there's some weird dependencies required to build the docs, not sure if those are a problem on some old distros
[04:08:15] <mitchty> benh: nope, in this case just ancient suse I need to support for a bit so I was curious if it has anything like dependence upon something like a pipe2 call or whatever in the kernel
[04:09:41] <benh> can't say, sorry
[04:10:04] <mitchty> no worries, i'll poke about and find out 
[04:11:08] *** Joins: Valentin (Valentin@185C7798.83764248.55CD930E.IP)
[04:11:08] *** Joins: Adhaa (Adhaa@185C7798.83764248.55CD930E.IP)
[04:11:31] <mitchty> in the first stage of rewriting some internal tools (aka: prototype that got ab-used), go has issues with kernels below 2.6.23 and while I hacked around it with some copious c, its somewhat unpleasant, back to the tutorial
[04:13:07] *** Quits: carllerche (carllerche@6B070D22.7E6A0813.1428D117.IP) (Quit: carllerche)
[04:13:17] *** Quits: lfox (larryfox@moz-B8648F0F.nycmny.fios.verizon.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[04:17:48] *** Joins: lfox (larryfox@moz-B8648F0F.nycmny.fios.verizon.net)
[04:22:17] *** Quits: Sorella (quildreen@9D963F5D.DF5D8AE7.54BCAB54.IP) (Quit: Ex-Chat)
[04:22:21] *** Joins: carllerche (carllerche@6B070D22.7E6A0813.1428D117.IP)
[04:24:05] *** Joins: steveklabnik (steveklabn@moz-E4698C6D.red.bezeqint.net)
[04:26:10] *** Quits: lfox (larryfox@moz-B8648F0F.nycmny.fios.verizon.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[04:26:58] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[04:27:34] *** Joins: pnathan (Adium@moz-BDC3EE62.tukw.qwest.net)
[04:29:08] *** Joins: stevekla1nik (steveklabn@moz-E4698C6D.red.bezeqint.net)
[04:30:33] *** Joins: ecr (Mibbit@7C463196.5BB0586B.11F8506F.IP)
[04:31:13] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Quit: Konversation terminated!)
[04:32:04] *** Quits: cubic (cubic@moz-FE5AD6C7.mc.videotron.ca) (Quit: Leaving)
[04:32:29] *** Quits: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP) (Ping timeout)
[04:33:00] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[04:33:41] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[04:34:11] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[04:35:57] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[04:40:45] *** Quits: Jesse (jruderman@moz-537BCF9.hsd1.ca.comcast.net) (Quit: Jesse)
[04:41:04] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[04:43:16] *** Quits: MrOrdinaire (Mibbit@3749AFFF.391F484.FD383126.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[04:49:49] *** Joins: Qibbit (Qibbit@B7BFB858.FAB07856.1A968954.IP)
[04:49:58] *** Joins: lucian (lucian@moz-22A14C6A.cable.virginmedia.com)
[04:51:35] *** Quits: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu) (Ping timeout)
[04:51:41] *** Quits: lucian (lucian@moz-22A14C6A.cable.virginmedia.com) (Ping timeout)
[04:51:57] *** Joins: sanxiyn (tinuviel@B4104EBB.3CC170B1.1E14B209.IP)
[04:54:43] *** Quits: drrb (drrb@13ED09A7.1CD80665.FD1ABB54.IP) (Quit: drrb)
[04:58:13] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[05:04:52] *** Joins: chandru (Mibbit@774FC17C.E74FED97.41D542A3.IP)
[05:05:45] <chandru> I was reading http://research.swtch.com/generic and was wondering which approach rust chose for its generics implementation. I couldn't find any documentation on it. Can someone help me?
[05:05:45] *** Quits: steveklabnik (steveklabn@moz-E4698C6D.red.bezeqint.net) (Ping timeout)
[05:05:45] *** Quits: stevekla1nik (steveklabn@moz-E4698C6D.red.bezeqint.net) (Ping timeout)
[05:06:35] *** Joins: mohawk23 (Mibbit@7E16A489.350275ED.F3D1E4EE.IP)
[05:06:49] <heftig> chandru: the compile-time specialization approach
[05:07:13] <chandru> heftig: Does it do anything interesting to avoid the drawbacks of that approach?
[05:08:13] <sanxiyn> chandru: No, it does normal things
[05:08:25] <sanxiyn> "needs a good linker to eliminate duplicate copies"
[05:08:50] <sanxiyn> chandru: If you can eliminate duplicate copies, most drawbacks don't apply
[05:09:35] *** Quits: carllerche (carllerche@6B070D22.7E6A0813.1428D117.IP) (Quit: carllerche)
[05:09:37] <sanxiyn> chandru: It currently is not satisfactory, but we are working on it: #9536 is an issue to eliminate duplicate copies
[05:09:59] <SiegeLord> The ability to nearly seamlessly use trait objects does alleviate the problem, if you choose to go that route
[05:10:11] *** Quits: mohawk23 (Mibbit@7E16A489.350275ED.F3D1E4EE.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[05:10:22] <sanxiyn> Ah right
[05:10:30] <sanxiyn> chandru: You can use "Java approach" in Rust too
[05:11:05] <chandru> sanxiyn: heftig: SiegeLord: Thanks a lot. I'm new to the rust community. Where can I find the language spec? What's a good place to look in to learn about the implementation specifics?
[05:11:28] <sanxiyn> chandru: Unfortunately, for implementation specifics you basically need to read compiler source
[05:11:29] <benh> good news, both questions have the same answer. bad news, ...
[05:11:30] <sanxiyn> Or ask here :)
[05:12:14] <heftig> also read the manual http://static.rust-lang.org/doc/master/rust.html
[05:12:45] <benh> It's known to be inaccurate though. You probably want to read the tutorial too which is sometimes more recent.
[05:12:50] <chandru> thanks. SiegeLord: How do traits help with duplicate elimination?
[05:14:32] <heftig> chandru: a boxed trait links a vtable to the type, so you get dynamic method dispatch
[05:15:23] <chandru> heftig: ah thanks
[05:15:55] <SiegeLord> It doesn't quite work yet, because trait objects don't implement the traits they come from, but I think its going to be resolved one day
[05:15:56] <chandru> so all instances share the same code
[05:16:28] <SiegeLord> Yes, same code that does the dynamic dispatch
[05:17:28] *** Quits: riley (riley@moz-E40BCEED.hsd1.ca.comcast.net) (Client exited)
[05:17:52] *** Joins: spott (spott@moz-9B11536C.hsd1.co.comcast.net)
[05:22:11] *** Quits: spott (spott@moz-9B11536C.hsd1.co.comcast.net) (Client exited)
[05:22:41] *** Joins: isenmann (isenmann@moz-B656BA79.science-computing.de)
[05:23:17] *** Joins: nrc (nrc@moz-3576D163.cable.virginmedia.com)
[05:24:23] *** Joins: frau (frau@moz-3F7DB997.hsd1.ca.comcast.net)
[05:25:18] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[05:26:27] <frau> so I have ./a.rs containing "pub struct A {...}" and ./b.rs in the same dir. Can b.rs do "use A = a::A;" or something? I can't get it to work.
[05:27:01] *** Quits: tdc (santegoeds@moz-5892B7CA.range86-135.btcentralplus.com) (Ping timeout)
[05:27:15] <cmr> frau: `mod a; use A = a::A;`
[05:27:18] <klutzy> `mod a;` if you want to create one executable from two files
[05:27:20] <frau> oh, mod a
[05:27:28] <klutzy> if they are separate, build a then `extern mod a`
[05:27:37] <frau> and "use a::A" is fine too right
[05:27:47] <cmr> After the mod, yes.
[05:27:51] *** Quits: chandru (Mibbit@774FC17C.E74FED97.41D542A3.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[05:29:37] <frau> grr I keep getting "failed to resolve import `a::A`" and "unresolved import. maybe a missing `extern mod a`?"
[05:29:45] <frau> but it's the same crate
[05:29:52] <cmr> Can you gist your code?
[05:30:05] <benh> try ::a::A
[05:30:26] <benh> or just ::A. an extra :: somewhere is what i'm saying
[05:30:27] <frau> gisting will require some cleanup... will try that
[05:31:38] <frau> whenever I try to put "mod a;" first, I get "`use` and `extern mod` declarations must precede items"
[05:31:49] <cmr> Yeah, `mod a;` needs to go after the `use`
[05:31:56] <cmr> It's because use will shadow mod.
[05:32:02] <cmr> It is a bit weird
[05:33:04] <frau> "use ::" didn't work
[05:33:14] <frau> okay I'll try to distill it to a gist
[05:34:39] *** Quits: ecr (Mibbit@7C463196.5BB0586B.11F8506F.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[05:34:44] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[05:38:23] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[05:40:21] <frau> OK I think I figured out what went wrong
[05:40:41] <frau> I needed to put "mod a;" in c.rs, which included b.rs, which included a.rs
[05:41:08] <cmr> frau: Ehhh sounds like your crate is turning into a mess of dependencies.
[05:41:34] <cmr> Usually the way crates are structured is that almost every `mod foo;` is in your crate file, and you `use` the mods you need in submodules.
[05:41:55] <cmr> For example, https://github.com/mozilla/rust/blob/master/src/libstd/std.rs
[05:41:55] <frau> crate file, eh
[05:41:56] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Input/output error)
[05:42:01] <cmr> Crate file is the file you pass to rustc
[05:42:08] <cmr> `rustc foo.rs`, foo.rs is your crate file
[05:42:13] <frau> cool
[05:42:34] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[05:42:44] <frau> so I don't have to worry about maintaining mod item dependencies everywhere
[05:42:53] <cmr> exactly
[05:43:00] <frau> sounds good!
[05:43:06] *** Quits: valenting (Thunderbir@moz-416F9035.residential.rdsnet.ro) (Ping timeout)
[05:43:09] <frau> thanks
[05:43:38] <cmr> If you want to breakup a large module into further submoudles, you can still say `mod foo;` in your crate file, but it will look for `foo/mod.rs` if `foo.rs` doesn't exist, and you can do other mods in that `mod.rs`
[05:43:47] <cmr> It's kinda confusing. Did you read the module system tutorial?
[05:44:06] <frau> I read the manual section on modules and crates
[05:44:28] <cmr> http://static.rust-lang.org/doc/master/tutorial.html#crates-and-the-module-system
[05:44:44] <cmr> Much more useful than the manual.
[05:45:13] <cuttle> I'm also having trouble with crates
[05:45:19] <frau> nice, that 18.4 looks helpful
[05:45:22] <joelteon> why is everything here fail! ing? https://github.com/mozilla/rust/blob/master/src/libstd/rt/io/stdio.rs
[05:45:23] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Ping timeout)
[05:45:27] <cuttle> I have main.rs, lex.rs, and parse.rs, and parse needs to see lex's data types
[05:45:32] <cmr> joelteon: it's unimplemented.
[05:45:35] <joelteon> hi cuttle
[05:45:38] <cuttle> so in main.rs I have mod lex; and mod parse;
[05:45:43] <cuttle> oh hi joelteon 
[05:45:52] <cmr> cuttle: needs to be a `pub mod ..;` at the moment.
[05:45:57] <cuttle> cuttle: oh ok
[05:45:59] <joelteon> but there's a working "stderr" somewhere, isn't there
[05:46:01] <joelteon> what happened
[05:46:18] <cmr> cuttle: it's a bug in the module system, fixed with https://github.com/mozilla/rust/pull/9735
[05:46:27] <joelteon> oh
[05:46:28] <cmr> joelteon: it uses write(2), not libuv.
[05:46:39] <joelteon> right
[05:46:42] <joelteon> ok
[05:46:47] <cmr> doesn't integrate with the scheduler etc
[05:46:49] <joelteon> i thought i'd gone insane for a second
[05:46:56] <cmr> It'd probably be super easy to implement, if you want to tackle it :)
[05:47:14] <cuttle> cmr: ok, that worked
[05:47:27] <SiegeLord> Does rustdoc require the code to pass some of the higher passes, like borrowcheck?
[05:47:35] <cmr> SiegeLord: unfortunately yes
[05:47:53] <cmr> it's a compiler bug, it shouldn't be running anything past typeck, the analysis passes just need to be split up.
[05:48:11] <SiegeLord> I see...
[05:52:21] *** Joins: ilyoan (ilyoan@B4104EBB.3CC170B1.1E14B209.IP)
[05:55:47] <cuttle> I made a ToStr implementation for my AST data type, and then I call .to_str() on a ~AST, and it says I haven't implemented it for ~AST
[05:58:58] <cuttle> well actually I call to_str() on an Option<~AST>
[06:06:19] *** Joins: valenting (Thunderbir@moz-416F9035.residential.rdsnet.ro)
[06:08:52] *** Joins: nsf (nsf@moz-EEF3238A.convex.ru)
[06:10:02] *** Joins: Cromulent (Cromulent@moz-983B638D.cable.virginmedia.com)
[06:11:27] *** Joins: bheylin (brianheyli@moz-8255E94E.adsl.online.nl)
[06:18:55] <frau> thanks all!
[06:18:57] *** Quits: frau (frau@moz-3F7DB997.hsd1.ca.comcast.net) (Quit: out)
[06:19:22] *** Quits: bheylin (brianheyli@moz-8255E94E.adsl.online.nl) (Quit: bheylin)
[06:19:43] <joelteon> is there a flatten method for vectors
[06:19:48] <cmr> flat_map
[06:19:59] <cmr> it's weird to use though, at least I think so, and I don't really understand it :p
[06:20:26] *** Joins: jaen (jaen@600350A1.C79D1C03.43DC2829.IP)
[06:20:27] *** Quits: jaen (jaen@600350A1.C79D1C03.43DC2829.IP) (Quit: jaen)
[06:20:40] *** Joins: jaen (jaen@600350A1.C79D1C03.43DC2829.IP)
[06:20:53] *** Quits: jaen (jaen@600350A1.C79D1C03.43DC2829.IP) (Quit: WeeChat 0.4.1)
[06:22:32] <joelteon> yeah, but I mean a method that does flat_map(|x|x)
[06:23:13] <benh> that seems like a reasonable addition imo
[06:26:18] *** Quits: pnathan (Adium@moz-BDC3EE62.tukw.qwest.net) (Quit: Leaving.)
[06:27:11] *** Joins: tgummerer (tgummerer@moz-5DC8FA44.tbcn.telia.com)
[06:27:27] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[06:27:30] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[06:30:13] <tikue_> cmr, what is weird about it?
[06:30:15] <tikue_> i haven't used it
[06:30:29] <cmr> tikue_: I dunno, I just couldn't really grok the interface.
[06:30:34] <tikue_> H
[06:30:36] <tikue_> ah
[06:30:51] <cmr> it doesn't just flatten it, it runs a closure on each vec and then flattens the results :\
[06:31:53] <joelteon> right
[06:31:57] *** Joins: jensnockert (jensnocker@moz-C4B24C3.customers.ownit.se)
[06:32:57] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[06:37:38] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[06:37:43] *** Quits: jensnockert (jensnocker@moz-C4B24C3.customers.ownit.se) (Input/output error)
[06:37:50] *** Quits: jeaye (Jeaye@moz-34FEF2BB.hsd1.ca.comcast.net) (Quit: zzz)
[06:38:20] *** Joins: jensnockert (jensnocker@moz-C4B24C3.customers.ownit.se)
[06:39:38] *** Quits: Cromulent (Cromulent@moz-983B638D.cable.virginmedia.com) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[06:41:55] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[06:50:29] *** Quits: tgummerer (tgummerer@moz-5DC8FA44.tbcn.telia.com) (Ping timeout)
[06:51:34] *** Parts: sanxiyn (tinuviel@B4104EBB.3CC170B1.1E14B209.IP) (Leaving)
[06:51:38] *** Quits: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net) (Ping timeout)
[06:54:22] *** Joins: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net)
[06:54:41] *** Quits: ross (ross@moz-5EA04060.br.br.cox.net) (Quit: )
[07:05:00] *** Joins: threecreepio (jdp@moz-1A9F0A3C.cust.bredband2.com)
[07:05:49] <thewonderidiot> cmr: around?
[07:05:54] <cmr> thewonderidiot: yep
[07:06:02] <thewonderidiot> I figured out what's going on with rustpkg in /tmp
[07:06:42] <thewonderidiot> after rustpkg clones the github repo to /tmp, it tries to use os::rename to move it to `pwd`/.rust
[07:06:58] <thewonderidiot> but libc::rename() is failing with errno 18, cross-device link
[07:07:07] *** Quits: jensnockert (jensnocker@moz-C4B24C3.customers.ownit.se) (Input/output error)
[07:07:45] <thewonderidiot> so it would probably be better to either clone into `pwd`/.rust directly, or copy from /tmp instead of trying to use rename
[07:08:32] <Eridius> perhaps there should be a dir in .rust that it clones in to, e.g. `.src` (to keep it hidden). It can use a lockfile as well, so subsequent invocations of rustpkg can detect stale half-clones, and tell from the lockfile that their owning rustpkg is dead
[07:09:52] <thewonderidiot> that would be cool
[07:10:51] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[07:11:34] <thewonderidiot> well, it's all already moved (or attempted to be moved) into .rust/src, including all the git metadata
[07:11:52] <thewonderidiot> I don't think there'd be much of a point of keeping two copies around, especially with larger libs
[07:13:06] <thewonderidiot> unless you mean using .src as a staging area as a whole, with a singular lock?
[07:15:44] <thewonderidiot> Eridius: ?
[07:17:27] <cmr> thewonderidiot: Could you open an issue and tag @catamorphism? I'm sure he'd be interested in this. Also what rustpkg version is it? He recently fixed remote fetching, I thought (as in, over the weekend)
[07:18:12] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[07:18:41] <thewonderidiot> cmr: just built  the lastest about an hour ago.
[07:18:50] <cmr> thewonderidiot: Alright
[07:19:02] <thewonderidiot> cmr: He fixed the extern mod foo = "github.com/asdf/foo"; which was previously not even working in /tmp
[07:19:13] <cmr> thewonderidiot: ah.
[07:19:21] <thewonderidiot> his change fixed that in /tmp for me but not outside of it
[07:20:43] <thewonderidiot> cmr: should I just leave a comment on https://github.com/mozilla/rust/issues/9482 ?
[07:21:16] <cmr> thewonderidiot: sure, that works. Just be sure to @mention him, github can be weird about the emails it sends out.
[07:21:55] <thewonderidiot> alright, will do, thanks!
[07:31:11] <benh> Can assert!(f()) ever be configured into a no-op that doesn't run f(0?
[07:31:12] <benh> f()*
[07:31:37] <cmr> benh: no, but there's debug_assert!() for that.
[07:31:47] <cmr> assert!() is used to verify invariants.
[07:32:02] <benh> wasn't sure whether it was for side-effect free invariants :)
[07:34:04] *** Quits: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net) (Connection reset by peer)
[07:34:20] <engla> I don't think debug_assert actually exists
[07:34:45] <dbaupp> rusti: debug_assert!(false)
[07:34:45] -rusti- <anon>:7:9: 7:21 error: macro undefined: 'debug_assert'
[07:34:45] -rusti- <anon>:7          debug_assert!(false)
[07:34:45] -rusti-                   ^~~~~~~~~~~~
[07:34:45] -rusti- application terminated with error code 101
[07:35:22] *** Quits: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net) (Ping timeout)
[07:40:05] *** Joins: eiz (eiz@moz-9518AEF.hsd1.ga.comcast.net)
[07:40:46] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[07:44:20] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[07:44:36] <tikue_> how is there no List.sum() method in java >_<
[07:44:41] * tikue_ can't go back
[07:45:55] <benh> It's probably vector.iter().some_more_generic_sum_like_fn(|x| x)!
[07:46:29] <benh> rusti: let v = [1, 2, 3]; v.iter().sum()
[07:46:29] -rusti- <anon>:7:28: 8:5 error: type `std::vec::VecIterator<,<VI2>>` does not implement any method in scope named `sum`
[07:46:29] -rusti- <anon>:7          let v = [1, 2, 3]; v.iter().sum()
[07:46:31] -rusti- <anon>:8     };
[07:46:31] -rusti- error: aborting due to previous error
[07:46:31] -rusti- application terminated with error code 101
[07:47:23] <dbaupp> benh: does java even have an "iterator" idea?
[07:47:28] <benh> yeah!
[07:47:45] <benh> iirc that's how their foreach-loops work too!
[07:48:31] <benh> I'm not actually sure why .iter().sum() that doesn't work, there is an AdditiveIterator trait with a sum function that is impl'd for A: Add<A, A> iterators?
[07:48:54] <dbaupp> rusti: use std::iter::AdditiveIterator; let v = [1, 2, 3]; v.iter().sum()
[07:48:55] -rusti- <anon>:7:61: 8:5 error: failed to find an implementation of trait std::ops::Add<&int,&int> for &int
[07:48:55] -rusti- <anon>:7          use std::iter::AdditiveIterator; let v = [1, 2, 3]; v.iter().sum()
[07:48:55] -rusti- <anon>:8     };
[07:48:55] -rusti- application terminated with error code 101
[07:49:05] <dbaupp> rusti: use std::iter::AdditiveIterator; let v = [1, 2, 3]; v.iter().map(|&x| x).sum()
[07:49:06] -rusti- 6
[07:49:13] <benh> oh boo
[07:49:15] <dbaupp> benh: imports!
[07:49:27] <engla> and map from &int to int
[07:49:27] <benh> Would've worked in Haskell!
[07:49:31] <benh> kinda!
[07:49:43] *** flaper87|afk is now known as flaper87
[07:49:46] <dbaupp> well, yeah, but Haskell has uniform representation/boxing of values :P
[07:49:54] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[07:49:55] <dbaupp> the price of unabstraction!
[07:50:01] <benh> I meant the thing where haskell implicitly imports instances
[07:50:22] <dbaupp> oh, I see
[07:50:40] <benh> Also I remain irked that &5u + 5u works but not &5u + &5u evidently
[07:51:23] <dbaupp> bugs!
[07:51:34] *** Joins: nkoep (nik@moz-2AD6C587.pool.mediaways.net)
[07:51:42] <tikue_> benh, because &5u auto dereferences to 5 and takes &5u by reference which is & &5u
[07:51:45] <dbaupp> the former is just a quirk of how + desugars
[07:52:06] <engla> methods are asymmetrical like that
[07:52:13] *** Joins: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net)
[07:52:16] <benh> then + shouldn't be a method, imo
[07:52:47] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[07:52:56] *** Quits: nrc (nrc@moz-3576D163.cable.virginmedia.com) (Ping timeout)
[07:53:45] *** Joins: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP)
[07:54:50] *** Joins: fabiand (fabiand@moz-1AEA40E0.adsl.alicedsl.de)
[07:55:29] *** Joins: lucian (lucian@moz-22A14C6A.cable.virginmedia.com)
[07:57:04] *** Quits: nkoep (nik@moz-2AD6C587.pool.mediaways.net) (Ping timeout)
[07:57:21] *** Quits: lucian (lucian@moz-22A14C6A.cable.virginmedia.com) (Ping timeout)
[08:02:20] *** Joins: jensnockert (jensnocker@moz-C4B24C3.customers.ownit.se)
[08:03:22] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[08:04:17] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Client exited)
[08:07:06] *** Quits: cdidd (cdidd@moz-6E6CF2A.broadband.corbina.ru) (Input/output error)
[08:07:39] *** Quits: jensnockert (jensnocker@moz-C4B24C3.customers.ownit.se) (Input/output error)
[08:09:08] *** Joins: cdidd (cdidd@moz-1B77725B.broadband.corbina.ru)
[08:11:34] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[08:11:53] <benh> What happens if you fail! during unwinding?
[08:12:06] <cmr> benh: fireworks.
[08:12:21] *** Joins: avsej (avsej@DF1824D5.EFF97412.48F984E6.IP)
[08:12:33] <benh> Does it at least print my error message? Is it better to fail silently inside drop() for the most part?
[08:12:42] *** Joins: nkoep (nik@moz-2DB89EE4.vpn.rwth-aachen.de)
[08:12:45] <cmr> rusti: struct Foo; impl Drop for Foo { fn drop(&mut self) { fail!("oh noez!"); } } let x = Foo;  fail!()
[08:12:47] -rusti- pastebinned 10 lines of output: http://sprunge.us/BFEN
[08:12:55] <cmr> rusti: struct Foo; impl Drop for Foo { fn drop(&mut self) { fail!("oh noez!"); } } let x = Foo;  fail!(); 42
[08:12:57] -rusti- pastebinned 10 lines of output: http://sprunge.us/VeGj
[08:13:40] <benh> Also what is fail2!() and debug2!() etc?
[08:13:49] <benh> is that like fail and debug with format instead of fmt?
[08:13:53] <klutzy> yep
[08:13:55] <dbaupp> benh: https://github.com/mozilla/rust/issues/910
[08:14:05] * dbaupp wonders if that is the oldest bug still open
[08:14:23] *** Joins: skade (skade@30BBD5E6.505237C9.CAE22B62.IP)
[08:14:35] <klutzy> dbaupp: this https://github.com/mozilla/rust/issues/415
[08:15:22] *** Joins: Ferreus (ferreus@moz-205629CC.dip0.t-ipconnect.de)
[08:16:06] *** Quits: nkoep (nik@moz-2DB89EE4.vpn.rwth-aachen.de) (Ping timeout)
[08:16:09] <benh> I certainly appreciate the unexpected prose during particularly hard failure cases ;)
[08:16:17] <benh> rusti: error!("welp")
[08:16:18] -rusti- "welp"
[08:16:18] -rusti- ()
[08:16:29] <benh> rusti: error2!("{}", "welp")
[08:16:30] -rusti- welp
[08:16:30] -rusti- ()
[08:17:10] *** Quits: Amaranth (travis@moz-F81BB56A.cpe.cableone.net) (Ping timeout)
[08:17:28] *** Joins: Amaranth (travis@moz-F81BB56A.cpe.cableone.net)
[08:17:38] <dbaupp> klutzy: oh! (that looks like that might be solvable by something with a Drop impl?)
[08:19:28] *** Quits: ofeldt (ofeldt@moz-96B4EBD.dip0.t-ipconnect.de) (Ping timeout)
[08:27:26] *** Joins: Ms2ger (Ms2ger@4C3AB550.528524A1.F15B0BB3.IP)
[08:29:03] *** Joins: alp (alp@moz-D1CEC204.com)
[08:31:15] *** Joins: steffenomak (steffenoma@moz-FB0A4BEB.student.uu.se)
[08:31:23] *** Joins: tefter (tefter@B5D119DC.B856A0A1.73804765.IP)
[08:31:35] *** Quits: ercxx__ (ercan@moz-7CFF3469.dyn.optonline.net) (Quit: WeeChat 0.4.1)
[08:32:02] *** Joins: CarpNet (ac@moz-FD24B77.sohonet.co.uk)
[08:32:51] *** Parts: lazyden (lazyden@47A36AC9.35CBBBD0.F246D1AF.IP) ()
[08:33:46] *** Quits: fabiand (fabiand@moz-1AEA40E0.adsl.alicedsl.de) (Ping timeout)
[08:34:19] *** Quits: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net) (Quit: Leaving)
[08:34:45] *** Joins: nkoep (nik@moz-2AD6C587.pool.mediaways.net)
[08:34:46] *** Quits: timot_ (timot@moz-3B3A0794.cust.tele2.se) (Connection reset by peer)
[08:35:14] *** Joins: timot_ (timot@moz-3B3A0794.cust.tele2.se)
[08:36:20] *** Quits: timot_ (timot@moz-3B3A0794.cust.tele2.se) (Quit: Konversation terminated!)
[08:36:32] *** Joins: timot_ (timot@moz-3B3A0794.cust.tele2.se)
[08:36:39] *** Joins: ogi (ogi@B89478CB.25AB63C4.549B3E4F.IP)
[08:37:00] *** Parts: ogi (ogi@B89478CB.25AB63C4.549B3E4F.IP) (rcirc on GNU Emacs 24.3.1)
[08:38:00] *** Quits: timot_ (timot@moz-3B3A0794.cust.tele2.se) (Quit: Konversation terminated!)
[08:38:25] *** Joins: timot_ (timot@moz-3B3A0794.cust.tele2.se)
[08:39:04] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Client exited)
[08:39:17] *** Quits: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com) (Ping timeout)
[08:41:42] *** Joins: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com)
[08:42:01] *** Quits: andrew-d (andrew-d@6C6C9B53.23518FA3.CE794808.IP) (Ping timeout)
[08:42:11] *** Joins: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP)
[08:42:48] *** Quits: Ms2ger (Ms2ger@4C3AB550.528524A1.F15B0BB3.IP) (Quit: bbl)
[08:44:08] *** Quits: nkoep (nik@moz-2AD6C587.pool.mediaways.net) (Ping timeout)
[08:45:06] *** Joins: fabiand (fabiand@moz-1AEA40E0.adsl.alicedsl.de)
[08:47:08] *** Joins: andrew-d (andrew-d@6C6C9B53.23518FA3.CE794808.IP)
[08:48:01] *** kimundi is now known as zz_kimundi
[08:49:44] *** Quits: LRN (LRN@moz-50DF30B.nationalcablenetworks.ru) (Ping timeout)
[08:53:37] <benh> Is there a better way to see if one absolute path is located within another than foo.to_str().starts_with(bar.to_str())?
[08:54:11] <benh> oh i found is_parent_of, that's the opposite of what i was looking for!
[08:54:18] *** Joins: LRN (LRN@moz-50DF30B.nationalcablenetworks.ru)
[08:54:30] *** Joins: donri (donri@moz-9BB61102.tbcn.telia.com)
[08:54:34] <skade> http://static.rust-lang.org/doc/master/std/path/trait.GenericPath.html#method.is_ancestor_of
[08:54:46] <benh> ah!
[08:55:48] <benh> thanks!
[08:56:08] <skade> you're welcome
[08:56:43] <benh> huh, that allocates
[08:57:03] <benh> that seems vaguely unnecessary
[08:57:04] <cmr> There's a path rewrite going on.
[08:57:07] <cmr> by Eridius
[08:58:03] *** Joins: netfeed (netfeed@moz-59CB720.members.linode.com)
[08:58:15] <benh> Right :)
[08:58:32] <benh> i thought that just landed earlier because I saw discussion :))
[08:59:29] *** Joins: nkoep (nik@moz-3DC94B9.vpn.rwth-aachen.de)
[09:02:38] *** Joins: mib_ii4sbo (Mibbit@EEF5D8A7.AB90FD70.31FD74A3.IP)
[09:05:15] *** Joins: blinky (Mibbit@moz-CC885B97.nyc.res.rr.com)
[09:09:40] *** Quits: blinky (Mibbit@moz-CC885B97.nyc.res.rr.com) (Quit: http://www.mibbit.com ajax IRC Client)
[09:10:58] *** Joins: nrc (nrc@88F51059.F3BBB17D.144F44FA.IP)
[09:13:51] *** Quits: yichoi (yichoi@B4104EBB.3CC170B1.1E14B209.IP) (Ping timeout)
[09:32:42] *** Joins: Ms2ger (Ms2ger@moz-E23B4CAB.ugent.be)
[09:35:48] *** Quits: youknowone (youknowone@A826BD81.8A0DEF81.38747683.IP) (Ping timeout)
[09:36:33] *** Joins: youknowone (youknowone@A826BD81.8A0DEF81.38747683.IP)
[09:36:50] *** Joins: five (five@moz-F457AAE6.v4.ngi.it)
[09:37:01] *** Quits: tikue_ (tikue_star@80E31A8C.E6CB677E.689607DE.IP) (Client exited)
[09:37:04] <steffenomak> Hi, was wondering if somebody could help me a bit. I'm trying to make rustpkg build rust-sdl2 instead of the supplied make file. That went all dendy and fine, but one thing that bothered me greatly was the namespace convention in the binding. It looks something like this to create a Window: sdl2::video::Window::new, thats 4 modules to create just the window. So I tried in the lib.rs file use: pub
[09:37:06] <steffenomak> use video::*; but I get a lot of errors. Could someone explain why that doesn't work.
[09:38:22] *** Quits: youknowone (youknowone@A826BD81.8A0DEF81.38747683.IP) (Ping timeout)
[09:39:14] <steffenomak> the code is located on https://github.com/steffenomak/rust-sdl2/tree/test
[09:39:35] <steffenomak> I just forked the original repo to try making it work.
[09:41:05] *** Joins: youknowone (youknowone@A826BD81.8A0DEF81.38747683.IP)
[09:44:17] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[09:44:44] *** Joins: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP)
[09:45:00] <steffenomak> ?
[09:46:03] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[09:52:03] <libfud> what's the method to see if a vector has a value as one of its elements?
[09:52:24] <libfud> nevermind
[09:52:27] <libfud> just thought to search contains
[09:52:28] <skade> steffenomak: where do you have the problem?
[09:52:35] <skade> when using this as a library?
[09:55:59] <steffenomak> skade: I don't have a problem with the original or when I remade it to use rustpkg to build, but I want to be able to call sdl2::Window::new instead of sdl2::video::Window::new
[09:57:00] <ChrisMorgan> steffenomak: I think the subsystem distinction is valuable.
[09:57:20] <ChrisMorgan> More to the point, are there any name collisions across different SDL modules?
[09:57:28] <steffenomak> skade: so I tried in lib.rs that was formaly called sdl2.rc, to add pub use video::*;
[09:57:29] <steffenomak> the first error I get is unresolved import
[09:57:57] <skade> steffenomak: that only means that sdl2 exposes video. So it makes sdl2::video known to the world
[09:58:01] <steffenomak> I don't think so because there is no conflict with SDL2
[09:59:07] <ChrisMorgan> steffenomak: what's wrong with people writing `use sdl2::video::Window;`?
[09:59:56] <steffenomak> skade: Down in the file there is a pub mod video; that does that also, but I thought if I write pub use video::*; I could call all functions in video with ex sdl2::Window instead to sdl2::video::Window
[10:00:32] <dbaupp> steffenomak: what's the error message(s) with `pub use video::*`?
[10:00:32] <steffenomak> nothing wrong with it, just uneccessary.
[10:00:36] *** Quits: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp) (Ping timeout)
[10:04:05] <steffenomak> http://pastebin.com/vEW4RWsa
[10:04:20] <steffenomak> btw im using rust 0.8 and not master
[10:04:46] <steffenomak> im just started compiling form master and going to see if I get a different result
[10:07:14] <dbaupp> steffenomak: ah, it looks like video might have things with the same names as others at the top level of the crate
[10:07:27] <dbaupp> (e.g. is there a `video::controller`?)
[10:08:39] <steffenomak> nothing that I can find in video.rs
[10:10:04] <dbaupp> steffenomak: it's probably the `pub mod ll` that's in both sdl and video
[10:10:22] * dbaupp isn't sure
[10:11:03] *** Joins: mihneadb (mihneadb@E39B02D2.F5D5DDE0.7A932F41.IP)
[10:11:04] <steffenomak> aahh maybe, but if I dont have pub mod ll, and use pub mod video, will ll be public then or private?
[10:11:30] <benh> Can I make a test runner list all the tests it can run? I want to run them one by one because I suspect I made one of them misbehave, but it's hard to tell which.
[10:11:50] <dbaupp> steffenomak: if you have `mod ll` rather than `pub mod ll` in video.rs it'll be private to video
[10:12:00] *** Quits: five (five@moz-F457AAE6.v4.ngi.it) (Quit: leaving)
[10:12:43] <steffenomak> dbaupp: I'm going to try that. But i'll have to see if other modules use anything in ll
[10:15:10] <skade> benh listing seems to be a problem, but you can run single tests with `test-binary module::nesting::mytest`
[10:15:34] <benh> mhm
[10:15:42] <benh> I'll ruby them out of the source I guess
[10:16:37] <skade> :D
[10:17:05] <skade> first time i've seen ruby used as a verb - and this year is my 10th anniversary as a rubyist ;0
[10:17:58] <benh> Well, I was going to use grep and grep is clearly a verb, but I couldn't figure out an obvious way to do it ;)
[10:18:22] <steffenomak> dbaupp: 'sad face' the binding uses ll from differend modulse so I guess I'll just write a minimal binding of sdl2 of functions I need...
[10:18:23] * dbaupp wonders why benh isn't using the other language beginning with ru :P
[10:18:32] <dbaupp> steffenomak: ah :(
[10:18:37] *** Joins: fyolnish (fyolnish@moz-42A384CF.uqwimax.jp)
[10:18:54] <steffenomak> dbaupp: but thx for the help
[10:19:48] <benh> dbaupp: not fluid enough in its string manipulation yet :>
[10:22:05] <dbaupp> benh: fix it! :P
[10:23:04] *** Quits: fyolnish (fyolnish@moz-42A384CF.uqwimax.jp) (No route to host)
[10:23:06] *** Joins: fyolnish (fyolnish@moz-42A384CF.uqwimax.jp)
[10:23:53] *** flaper87 is now known as flaper87|afk
[10:26:46] *** Quits: mihneadb (mihneadb@E39B02D2.F5D5DDE0.7A932F41.IP) (Input/output error)
[10:34:00] <myname> can i implement something for a vector of a specific struct?
[10:34:49] *** Joins: Axord (xord@moz-1B228827.lsanca.dsl-w.verizon.net)
[10:35:27] <dbaupp> rusti: struct Foo; trait Bar {} impl Bar for ~[Foo] {}
[10:35:27] -rusti- ()
[10:36:28] *** Joins: dew (Instantbir@moz-EEE6B2F8.dhcp.stls.mo.charter.com)
[10:37:14] <myname> great
[10:43:53] *** Quits: Ms2ger (Ms2ger@moz-E23B4CAB.ugent.be) (Ping timeout)
[10:44:43] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[10:45:10] *** Quits: fabiand (fabiand@moz-1AEA40E0.adsl.alicedsl.de) (Quit: Verlassend)
[10:45:50] <ChrisMorgan> myname: you can also implement for &'self [Foo] and &'self mut [Foo]. ~[Foo] also satisfies &'self [Foo] and, if in a mutable slot (I think) &'self mut [Foo].
[10:46:28] <dbaupp> yes to both
[10:47:09] <dbaupp> rusti: struct Foo; trait Bar { fn bar(&self) { println("calling bar"); } } impl<'self> Bar for &'self mut [Foo] {} let mut x = ~[Foo]; x.bar()
[10:47:10] -rusti- calling bar
[10:47:10] -rusti- ()
[10:48:15] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[10:48:55] <ChrisMorgan> Thus, I think you will most often not want to impl things for ~[Foo]. Mostly it should only be consuming methods like into_*.
[10:50:15] *** Joins: Earnestly (earnest@moz-BE290A2B.dyn.plus.net)
[10:50:15] * dbaupp agrees
[10:51:12] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[10:52:36] *** Joins: fabiand (fabiand@moz-1AEA40E0.adsl.alicedsl.de)
[10:57:06] *** Quits: nsf (nsf@moz-EEF3238A.convex.ru) (Quit: WeeChat 0.4.1)
[10:57:42] *** zz_kimundi is now known as kimundi
[11:03:52] *** Joins: mihneadb (mihneadb@D7D81414.AC822840.5BC07656.IP)
[11:06:30] <benh> Do we have any conventions for naming/use of RAII helpers/wrappers?
[11:08:05] *** Joins: Palmik (palmik@moz-11EA685D.pks.muni.cz)
[11:09:19] <myname> rusti: let mut a = 5i8; a = 7
[11:09:21] -rusti- pastebinned 7 lines of output: http://sprunge.us/SUef
[11:09:42] <myname> rusti: let mut _a = 5i8; _a = 7
[11:09:42] -rusti- ()
[11:09:55] <myname> oh
[11:10:09] <myname> so = does not return anything
[11:10:31] <myname> is this on purpose?
[11:13:36] *** Joins: dew1 (Instantbir@moz-EEE6B2F8.dhcp.stls.mo.charter.com)
[11:13:56] *** Quits: dew (Instantbir@moz-EEE6B2F8.dhcp.stls.mo.charter.com) (Ping timeout)
[11:16:41] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[11:17:11] <engla> I suppose it is
[11:17:14] <engla> rusti: let x; let y = (x = 3); (x, y)
[11:17:14] -rusti- (3, ())
[11:26:40] <engla> myname: it doesn't make sense with the move semantics of Rust. every value can be moved but only some can be copied
[11:33:27] <ChrisMorgan> let x; let y = { x = 3; x}; (x, y)
[11:33:28] <ChrisMorgan> rusti: let x; let y = { x = 3; x}; (x, y)
[11:33:29] -rusti- (3, 3)
[11:33:52] <ChrisMorgan> (Hopefully people won't write code like that often.)
[11:34:56] *** Quits: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se) (Ping timeout)
[11:35:33] <myname> is there something like haskells @ in pattern matching?
[11:35:38] <myname> i.e.
[11:36:03] <dbaupp> myname: exactly tat
[11:36:05] <dbaupp> *that
[11:36:10] <myname> match someoption { Some('X'@ch) | Some('Y'@ch) => { function(ch) }
[11:36:14] <myname> oh, great
[11:36:38] <dbaupp> rusti: let a @ (b,c @ (d,e) ) = (1,(2, 3)); (a,b,c,d,e)
[11:36:39] -rusti- ((1, (2, 3)), 1, (2, 3), 2, 3)
[11:36:58] <dbaupp> myname: (note that the "outer" name goes on the left)
[11:37:17] <myname> so it's ch@'X'
[11:37:44] <dbaupp> yeah
[11:41:17] *** kimundi is now known as zz_kimundi
[11:44:16] <libfud> ok, I tried going through the documentation, the tutorial and the manual and couldn't figure out this
[11:44:26] *** Joins: canhtak (jeremy@moz-B3204E72.wl.t.ulaval.ca)
[11:44:34] <libfud> is there a method to see if something matches one of the elements in a vector?
[11:45:18] <myname> i'd say iterate it, make a filter, check if result is empty
[11:45:22] *** Joins: tgummerer (tgummerer@moz-5DC8FA44.tbcn.telia.com)
[11:45:35] <libfud> ok
[11:47:29] *** Joins: exobit_ (textual@moz-E06F46F0.corp.bitshelter.com)
[11:47:59] <myname> rusti: let foo = ~[1,2,3,4,5]; foo.iter().filter(|x| x == 4).is_none()
[11:48:00] -rusti- pastebinned 8 lines of output: http://sprunge.us/EMJY
[11:48:34] <myname> rusti: let foo = ~[1,2,3,4,5]; foo.iter().filter(|&x| x == 4).next().is_none()
[11:48:34] -rusti- <anon>:7:61: 7:62 error: mismatched types: expected `&<VI4>` but found `<VI5>` (expected &-ptr but found integral variable)
[11:48:34] -rusti- <anon>:7          let foo = ~[1,2,3,4,5]; foo.iter().filter(|&x| x == 4).next().is_none()
[11:48:34] -rusti-                                                                       ^
[11:48:34] -rusti- error: aborting due to previous error
[11:48:35] -rusti- application terminated with error code 101
[11:48:45] *** Quits: heftig (heftig@moz-584F8497.dip0.t-ipconnect.de) (Ping timeout)
[11:48:48] <dbaupp> rusti: let foo = ~[1,2,3,4]; foo.iter().find(|&x| x == 2)
[11:48:49] -rusti- <anon>:7:57: 7:58 error: mismatched types: expected `&<VI3>` but found `<VI4>` (expected &-ptr but found integral variable)
[11:48:49] -rusti- <anon>:7          let foo = ~[1,2,3,4]; foo.iter().find(|&x| x == 2)
[11:48:49] -rusti-                                                                   ^
[11:48:49] -rusti- error: aborting due to previous error
[11:48:49] -rusti- application terminated with error code 101
[11:48:54] <myname> oh
[11:49:00] <dbaupp> rusti: let foo = ~[1,2,3,4]; foo.iter().find(|& &x| x == 2)
[11:49:01] -rusti- pastebinned 16 lines of output: http://sprunge.us/FXLf
[11:49:01] <myname> didn't know about find
[11:49:13] <myname> is there a list of the predefined iterator methods?
[11:49:22] <dbaupp> rusti: let foo = ~[1,2,3,4]; foo.iter().find(|& &x| x == 2).is_some()
[11:49:22] <strcat> yes, it's documented
[11:49:23] -rusti- true
[11:49:35] <dbaupp> http://static.rust-lang.org/doc/master/std/iter/trait.Iterator.html
[11:49:38] <dbaupp> myname: ^
[11:49:54] <strcat> and the other traits
[11:49:56] *** Quits: tgummerer (tgummerer@moz-5DC8FA44.tbcn.telia.com) (Ping timeout)
[11:49:57] <myname> ah
[11:50:31] <myname> what's the difference between find and filter here`
[11:50:32] <myname> ?
[11:51:21] <dbaupp> find is basically .filter().next()
[11:51:54] <dbaupp> filter returns a new iterator with all the elements for which the predicate is true
[11:51:59] <myname> i see
[11:52:04] <dbaupp> (i.e. it's lazy)
[11:52:16] <dbaupp> .find consumes the iterator to return the first one for which the predicate is true
[11:52:28] <dbaupp> (partially consumes)
[11:54:46] *** Quits: steffenomak (steffenoma@moz-FB0A4BEB.student.uu.se) (Quit: WeeChat 0.4.1)
[11:55:02] *** Joins: Ms2ger (Ms2ger@moz-46D712E7.ugent.be)
[11:55:54] <benh> Any ideas how I can write http://ix.io/8nZ without the intermediate vectors with to_alphabet_offsets just returning an iterator?
[11:56:27] <strcat> remove collect and use 'extern fn' instead of closures
[11:56:57] <dbaupp> closures without captures should work
[11:57:07] <strcat> maybe
[11:57:19] <strcat> a new binary was added
[11:57:42] <strcat> oh nvm
[11:57:45] <strcat> not a real binary
[11:58:02] <benh> Was that my test?
[11:58:13] *** Joins: jdm (jdm@88F51059.F3BBB17D.144F44FA.IP)
[11:58:14] *** ChanServ sets mode: +o jdm
[11:58:59] *** Joins: fyolnish_ (fyolnish@moz-42A384CF.uqwimax.jp)
[11:59:15] *** Quits: fyolnish (fyolnish@moz-42A384CF.uqwimax.jp) (Ping timeout)
[11:59:22] *** Joins: heftig (heftig@moz-584F8497.dip0.t-ipconnect.de)
[11:59:48] <dbaupp> rusti: fn foo<'a>(s: &'a str) -> std::iter::Map<'a, char, bool, std::str::CharIterator<'a>> { s.iter().map(|c| c.is_alphabetic()) } foo("foo bar baz 1234").map(|b| !b).to_owned_vec()
[11:59:49] -rusti- ~[false, false, false, true, false, false, false, true, false, false, false, true, true, true, true, true]
[12:00:08] <dbaupp> returning closure without captures works fine ^
[12:00:27] * dbaupp doesn't like the types of iterators :'(
[12:00:45] <benh> Another problem is that the iterator isn't clonable for use with .cycle()
[12:01:38] <myname> i don't get the difference between collect and to_owned_vec
[12:01:41] <strcat> because there's no Clone implementation for &'static fn
[12:01:42] <strcat> could add one
[12:01:46] <strcat> myname: there isn't a difference
[12:01:50] <myname> i see
[12:01:58] <strcat>     fn to_owned_vec(&mut self) -> ~[A] {
[12:02:00] <strcat>         self.collect()
[12:02:02] <strcat>     }
[12:02:23] <strcat> I don't think it should have been added
[12:02:42] <strcat> https://github.com/mozilla/rust/issues/9508
[12:05:01] *** Joins: tgummerer (tgummerer@51D3B54.FEF996EA.EA6FEF3D.IP)
[12:07:01] *** Joins: nsf (nsf@moz-EEF3238A.convex.ru)
[12:09:25] <benh> strcat: std::iter::Map<...Filter<...CharIterator>> needs a Clone impl in the first place, doesn't it?
[12:09:56] <strcat> the iterators are generally all marked deriving(Clone)
[12:10:07] <strcat> not the ones taking &fn *because* it can never be cloned atm
[12:10:17] *** Quits: canhtak (jeremy@moz-B3204E72.wl.t.ulaval.ca) (Quit: canhtak)
[12:10:38] <benh> ah
[12:14:42] *** Quits: mihneadb (mihneadb@D7D81414.AC822840.5BC07656.IP) (Ping timeout)
[12:20:01] *** Joins: canhtak (jeremy@moz-B3204E72.wl.t.ulaval.ca)
[12:23:48] *** Quits: JakeDust (jake@moz-61F66639.dsl.telesp.net.br) (Ping timeout)
[12:23:48] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[12:24:19] *** Joins: engla (engla@moz-BFD53D48.selucle.dyn.perspektivbredband.net)
[12:24:42] *** Quits: eiz (eiz@moz-9518AEF.hsd1.ga.comcast.net) (Ping timeout)
[12:25:56] *** Joins: JakeDust (jake@B058C83.2E9F275F.F546FA5F.IP)
[12:29:25] *** Quits: Ms2ger (Ms2ger@moz-46D712E7.ugent.be) (Ping timeout)
[12:31:54] *** Joins: Heather (Heather@19663F6.F53BAACC.9C17E900.IP)
[12:32:59] <Heather> how to remove an element from array?
[12:33:12] *** Joins: eiz (eiz@B49E36E9.6C697A7D.D1800747.IP)
[12:35:38] <bstrie> Heather: you mean turn [1,2,3] into [1,2] ?
[12:35:51] *** Joins: BizarreCake (BizarreCak@moz-361FE9B2.dynamic.barak-online.net)
[12:36:03] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[12:36:28] <bstrie> or are you looking to nullify a position, like turning [1,2,3] into [1,nothing,3]
[12:36:46] <Heather> bstrie [1,2,3] int [1,3]
[12:36:50] <Heather> into*
[12:36:57] *** Joins: [squiddy] (squiddy@moz-F6D7ED3B.dynamic.cablesurf.de)
[12:36:59] <bstrie> a good question
[12:37:17] <myname> .iter.filter.collect *ducks*
[12:37:20] <pnkfelix> Heather: maybe swap the elemtns and then pop the end
[12:37:40] <pnkfelix> Heather: i mean, swap with the end element and then pop.  Its how the vec iterators work, IIRC
[12:37:55] *** Joins: Ms2ger (Ms2ger@moz-AB49BE4D.ugent.be)
[12:37:58] <Heather> :S
[12:38:04] <pnkfelix> Heather: wait, that makes no sense
[12:38:07] <pnkfelix> Heather: ignore me
[12:38:10] <bstrie> haha
[12:38:15] <bstrie> there's gotta be a delete method or something
[12:38:21] <myname> you had to swap up to n times
[12:38:29] <myname> not funny
[12:38:48] <dbaupp> rusti: let mut x = ~[1,2,3,4,5]; x.remove(2); x
[12:38:49] -rusti- ~[1, 2, 4, 5]
[12:39:00] <dbaupp> rusti: let mut x = ~[1,2,3,4,5]; x.swap_remove(2); x
[12:39:01] -rusti- ~[1, 2, 5, 4]
[12:39:05] <bstrie> ah, that was my problem
[12:39:12] <bstrie> I was trying to do .remove on a stack vector
[12:39:14] <dbaupp> (note the 2 is the index, not the elem)
[12:39:35] * pnkfelix consults vec.rs.  Indeed, it swaps up to n times and then pops.
[12:40:22] <Heather> dbaupp thanks
[12:40:41] <Heather> dbaupp how can I find elem? :)
[12:40:58] <Heather> 01rusti: let mut x = ~[1,2,3,4,5]; x.find(2)01
[12:41:08] <Heather> 01oh, fonts -_-'
[12:42:07] <myname> is this really faster than .iter.take(n).skip(1).collect?
[12:42:11] *** Joins: Sorella (quildreen@9D963F5D.DF5D8AE7.54BCAB54.IP)
[12:42:21] <bstrie> test it!
[12:42:31] <bstrie> if it's slower, then change the implementation :P
[12:42:38] <Earnestly> filter (/= 2) [1,2,3] ¬_¬
[12:42:54] <myname> filter checks for the element value, not position
[12:43:00] <bstrie> Earnestly: my that's an interesting operator on the end there
[12:43:06] <Heather> 01Earnestly it will return element or index?
[12:43:09] <Earnestly> bstrie: It’s also not rust
[12:43:14] <bstrie> yes obviously :P
[12:43:17] <Earnestly> :<
[12:43:31] <Earnestly> I assume Rust has something that operates in the same manner, no?
[12:43:33] <myname> is there even a take?
[12:43:41] <Earnestly> Removing specific elements is a tricky business indeed
[12:43:42] <bstrie> there's a take on iterators, yeah
[12:43:44] <strcat> myname: yes
[12:44:02] <myname> i may check that later
[12:44:13] <strcat> http://static.rust-lang.org/doc/master/std/iter/trait.Iterator.html it's there
[12:44:15] <myname> although i'm quite unsure on how to benchmark
[12:44:18] <Earnestly> bstrie: Someone should make monads out of japanese emoticons
[12:44:23] <Earnestly> bstrie: As in, the operator
[12:44:39] <myname> Earnestly: tableflip as alias for fail!?
[12:44:43] <dbaupp> myname: https://github.com/mozilla/rust/wiki/Doc-unit-testing#benchmarking
[12:44:47] <Earnestly> Exactly
[12:45:02] <Heather> 01I need to get element index, not just element :S
[12:45:21] <Heather> 01I think, to feed delete
[12:45:33] <Heather> 01e.g. remove01
[12:45:36] <bstrie> Heather: for some reason my irc client doesn't want to render anything that you're saying
[12:45:40] <myname> why is declaration of multiple locals at once obsolete?
[12:45:59] <Heather> bstrie now too?
[12:46:23] <engla> myname: it was decided it is clearer to not allow it. You can still declare a tuple
[12:46:42] <myname> engla: what about mutability?
[12:47:03] <pnkfelix> myname: In particular, the scoping of what `mut` affects in `let mut a = 3, b = 4;`  was deemed unclear.
[12:47:06] <engla> it will be fixed to allow  let (mut a, mut b) = (0, 0)
[12:47:25] <myname> pnkfelix: it is not in let mut a = 3, mut b = 4 :p
[12:47:25] * dbaupp thinks that fix an happen *right now*, if someone wants to experiment
[12:48:03] <pnkfelix> myname: but no matter what it *is* in `let mut a = 3, b = 4;`
[12:48:23] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[12:48:46] <pnkfelix> myname: the syntax from engla's note above is unambiguous
[12:49:02] <dbaupp> Heather: vector.iter().position(closure)
[12:49:09] <jfbk> i want to add some logging statements to rustc, what's the quickest way to recompile just the last stage?
[12:49:28] <dbaupp> Heather: (this is all listed in the documentation strcat linked above)
[12:50:48] <Earnestly> Heather: Are you not using utf-8?
[12:51:10] *** Joins: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP)
[12:51:53] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[12:52:15] <myname> what do do instead of continue?
[12:52:32] <myname> in a while
[12:52:37] <strcat> continue
[12:52:45] <myname> huh
[12:52:52] <strcat> rusti: for i in range(0, 10) { continue }
[12:52:53] -rusti- <anon>:7:13: 7:14 warning: unused variable: `i` [-W unused-variable (default)]
[12:52:53] -rusti- <anon>:7          for i in range(0, 10) { continue }
[12:52:53] -rusti-                       ^
[12:52:53] -rusti- ()
[12:52:57] <dbaupp> or `loop`, if you're using 0.8
[12:52:58] <strcat> rusti: for _ in range(0, 10) { continue }
[12:52:58] -rusti- ()
[12:53:05] <pnkfelix> myname: on an older version of rust, the statement `loop;` has the effect that `continue;` currently does.
[12:53:12] *** Parts: libfud (libfud@moz-83E31AE2.res-cmts.eph2.ptd.net) ()
[12:53:22] <myname> while i < size { i += 1; if foo { continue; }
[12:53:25] *** Joins: io2 (io2@moz-A6202C16.home.otenet.gr)
[12:53:31] <myname> error: unresolved name `continue`
[12:53:55] <strcat> update
[12:53:57] <pnkfelix> myname: what does `rustc --version` say?
[12:54:14] <myname> 0.8
[12:54:44] <klutzy> continue is after 0.8
[12:54:58] <pnkfelix> myname: okay.  Then like dbaupp said, you'll need to use `loop;`.  If you update to the post-0.8 versions on github master branch, then you use `continue;`
[12:55:38] <myname> one cannot make impls for types?
[12:57:19] *** Quits: Heather (Heather@19663F6.F53BAACC.9C17E900.IP) (Quit: ~ Trillian - www.trillian.im ~)
[12:57:57] <dbaupp> myname: that question needs to be more specific :)
[12:59:47] <myname> type Board = [char, ..9];
[12:59:53] <myname> impl Board { ...
[13:00:11] <myname> error: cannot associate methods with a type outside the crate the type is defined in
[13:00:21] *** Quits: onix (Mibbit@moz-4058A5B9.ge-0-2-0-712.arcnqu2.dk.customer.tdc.net) (Quit: http://www.mibbit.com ajax IRC Client)
[13:00:33] <myname> error: type `&[char, ..9]` does not implement any method in scope named ...
[13:01:07] <bstrie> myname: `type` doesn't actually create a new type, it's just an alias
[13:01:24] <myname> what's the easiest way to deal with this?
[13:01:26] <bstrie> you can use the `struct` keyword to make an actual new type
[13:01:43] <dbaupp> rusti: struct Foo; type Bar = Foo; impl Bar { fn foo(&self) {} } Foo.foo()
[13:01:43] -rusti- pastebinned 5 lines of output: http://sprunge.us/UNgb
[13:01:49] <myname> i had that before, i just found a struct of one element pretty ugly
[13:01:53] <pnkfelix> myname: [char, ..9] is an instance of a fixed-size vec type, which is not a type you've defined in your crate.
[13:02:06] <dbaupp> hm, the error appears to be incorrect
[13:02:30] *** Quits: dew1 (Instantbir@moz-EEE6B2F8.dhcp.stls.mo.charter.com) (Ping timeout)
[13:02:37] <jfbk> is there a target/technique to just build a stage2 rustc w/o going through the whole bootstrap process?
[13:03:08] <pnkfelix> dbaupp: hmm, that is interesting.
[13:03:09] <dbaupp> jfbk: no, but you can often just build stage1-rustc and use that
[13:03:19] <bstrie> myname: static.rust-lang.org/doc/master/tutorial.html#tuple-structs
[13:03:31] <dbaupp> jfbk: `make stage1-rustc` or `rustc-stage1`, iirc
[13:03:43] <bstrie> myname: see the paragraph there on newtypes
[13:03:44] <klutzy> rustc-stage1
[13:04:18] <strcat> dbaupp: https://github.com/mozilla/rust/pull/9766 r?
[13:04:18] <jfbk> dbaupp: ok, thanks
[13:04:45] <pnkfelix> dbaupp: I had thought we allowed one to use names bound by `type` items just as aliases for the original expression in contexts like this, but clearly that's not currently the case...
[13:05:41] <bstrie> I'm tempted now to call normal tuples "structural tuples" for maximum confusion with tuple structs
[13:05:45] *** Quits: [squiddy] (squiddy@moz-F6D7ED3B.dynamic.cablesurf.de) (Ping timeout)
[13:06:28] <dbaupp> pnkfelix: it's weird/wrong that the error is referencing "outside the crate the type is defined in"
[13:06:39] <pnkfelix> dbaupp: yep, definitely agree about that.
[13:06:54] *** Joins: sw17ch (sw17ch@moz-39D8564F.wndsny.tds.net)
[13:06:58] <pnkfelix> dbaupp: i'll look to see if this is already filed as an issue
[13:08:27] <pnkfelix> dbaupp: this might be relevant: https://github.com/mozilla/rust/pull/6087
[13:08:51] <pnkfelix> dbaupp: as well as this post: https://mail.mozilla.org/pipermail/rust-dev/2013-April/003866.html
[13:09:05] <pnkfelix> dbaupp: (namely that type impls are internally implemented as modules)
[13:10:00] * dbaupp finds it very hard to extract any information from pcwalton's PR :(
[13:10:17] <dbaupp> *PRs
[13:11:01] <klutzy> dbaupp: seems that checker only sees whether the type is defined locally or not, but `type` does not define as usual
[13:11:17] <strcat> `type` doesn't define a type
[13:11:35] <dbaupp> klutzy: that'd explain the weird error message
[13:13:44] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[13:14:04] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[13:17:55] *** Joins: nejucomo (Adium@moz-434492BB.dsl.static.sonic.net)
[13:20:34] *** Joins: Jackneill (Jackneill@moz-523C6191.pool.digikabel.hu)
[13:21:35] *** zz_kimundi is now known as kimundi
[13:31:51] *** Joins: sk (sk@61A494B3.BA40E8A.AAC02D62.IP)
[13:38:25] *** jorendorff_away is now known as jorendorff
[13:43:50] *** Joins: wippler (Mibbit@moz-4A19983C.ip227.fastwebnet.it)
[13:46:12] *** Quits: timot_ (timot@moz-3B3A0794.cust.tele2.se) (Quit: Konversation terminated!)
[13:46:38] *** Joins: timot_ (timot@moz-3B3A0794.cust.tele2.se)
[13:50:10] *** Joins: lfox (larryfox@moz-343B6F0C.nyc.biz.rr.com)
[13:51:15] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[13:54:40] *** Quits: sw17ch (sw17ch@moz-39D8564F.wndsny.tds.net) (Quit: sw17ch)
[13:54:53] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[13:58:28] *** Joins: ianj (ianjneu@moz-7140CF01.ccs.neu.edu)
[14:01:17] *** Quits: wippler (Mibbit@moz-4A19983C.ip227.fastwebnet.it) (Quit: http://www.mibbit.com ajax IRC Client)
[14:04:23] <bstrie> the bors queue
[14:04:26] <bstrie> is too damn long
[14:06:53] <engla> no?
[14:07:03] <engla> the PR list is long but bors has a short queue
[14:09:26] *** Joins: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net)
[14:09:54] <bstrie> that's what I mean :)
[14:10:01] <bstrie> I consider the whole PR queue to be bors' queue
[14:10:08] <bstrie> bors is hungry
[14:10:12] <bstrie> it will starve
[14:10:18] <bstrie> bors is like a tamagotchi
[14:10:38] <pnkfelix> bstrie: r? https://github.com/mozilla/rust/pull/9768
[14:10:51] <pnkfelix> bstrie: (since you seem eager to feed bors ...)
[14:11:02] <benh> Now that sounds like a fun productivity app, a tamagotchi-like that dies if you don't push enough code to github :v
[14:11:34] <klutzy> benh: I know that. it's called github contribution graph
[14:11:50] <benh> well, it doesn't make sad faces when it dies
[14:11:54] <bstrie> pnkfelix: what does (prefill de-dupes) mean
[14:12:14] <pnkfelix> bstrie: prefill filters out duplicate entries during interning
[14:12:44] <pnkfelix> bstrie: I wasn't sure whether "de-dupe" actually means "deduplicate", but google and wikipedia support it.
[14:12:55] <dbaupp> bstrie: interner.prefill
[14:12:56] <bstrie> ok, I couldn't tell which of those was supposed to be the noun and which was supposed to be the verb :)
[14:12:57] *** Quits: Scriptor (historium@moz-E06F46F0.corp.bitshelter.com) (Quit: Scriptor)
[14:13:01] *** Joins: Scriptor (historium@moz-E06F46F0.corp.bitshelter.com)
[14:13:13] <pnkfelix> bstrie: hmm.  that's true.
[14:13:21] <bstrie> not saying it needs changed
[14:13:37] <bstrie> I presume someone making edits would know what prefill is?
[14:13:42] <bstrie> so not a problem
[14:13:54] *** Quits: max (maxime@moz-478B7011.fr) (Ping timeout)
[14:14:00] <benh> I've edited token.rs but I don't know what prefill is, ymmv ;)
[14:14:32] <pnkfelix> benh: yeah, but this is in the context of a specific function that is about to invoke prefill.  :)
[14:14:39] *** Joins: nano (nano@moz-74CAD1CA.superkabel.de)
[14:14:48] <bstrie> pnkfelix: why is it that RESERVED_KEYWORD_FINAL is 71, but replaces a value of 70
[14:15:09] <pnkfelix> bstrie: that's what "fixed latent bug that inspired this change: the pattern in is_any_keyword had not been updated to match the new range of reserved keyword identifiers" is
[14:15:16] <bstrie> ah ok
[14:15:21] <bstrie> I see it used as 71 down below
[14:15:40] <pnkfelix> bstrie: right.  I consider posting a separate pull request that replaces the 70 with a 71
[14:15:51] <benh> to keep bors busy!
[14:15:55] <bstrie> r+
[14:15:55] <pnkfelix> bstrie: but since I could not make a test for the bug that was fixing, I decided it would be silly
[14:20:08] *** Quits: JakeDust (jake@B058C83.2E9F275F.F546FA5F.IP) (Ping timeout)
[14:25:55] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[14:27:40] *** Joins: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net)
[14:27:41] *** Quits: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net) (Client exited)
[14:27:41] *** Joins: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net)
[14:29:04] *** Joins: lmandel (lmandel@13F2CEC5.7672369.D8E68FF6.IP)
[14:30:25] <benh> rusti: let x: std::vec::ChunkIter<int> = 42;
[14:30:26] -rusti- pastebinned 5 lines of output: http://sprunge.us/HVXU
[14:30:35] *** Joins: JakeDust (jake@B058C83.2E9F275F.F546FA5F.IP)
[14:30:43] <benh> So sad about that <,int>
[14:31:08] *** Joins: Jesse (jruderman@moz-537BCF9.hsd1.ca.comcast.net)
[14:31:15] <benh> Apparently the region in that type is a re_infer which means it doesn't get printed but I'm not sure what that means :D
[14:31:58] *** Quits: skade (skade@30BBD5E6.505237C9.CAE22B62.IP) (Ping timeout)
[14:32:00] *** Quits: avsej (avsej@DF1824D5.EFF97412.48F984E6.IP) (Client exited)
[14:33:22] *** Joins: mihneadb (mihneadb@A64FDE7E.7E118222.89C0DD0D.IP)
[14:35:34] *** Quits: engla (engla@moz-BFD53D48.selucle.dyn.perspektivbredband.net) (Ping timeout)
[14:36:33] *** Joins: skade (skade@30BBD5E6.505237C9.CAE22B62.IP)
[14:37:29] <bstrie> ChrisMorgan: your github avatar really amuses me for some reason
[14:37:32] <bstrie> it's like
[14:37:40] <bstrie> the logo for Chris Morgan magazine
[14:38:02] <ChrisMorgan> It's a simple monogram I devised when I figured I needed *something*. It works.
[14:39:11] <bstrie> ChrisMorgan: actually your identicon isn't too bad: https://identicons.github.com/chris-morgan.png
[14:39:12] *** Quits: fran (fran@moz-46330AE5.telecom.net.ar) (Ping timeout)
[14:39:48] <ChrisMorgan> bstrie: I'd be more likely to go with a RoboHash: https://robohash.org/chris-morgan
[14:40:04] <bstrie> haha
[14:41:58] *** Joins: fran (fran@moz-6628087C.telecom.net.ar)
[14:42:36] *** Joins: jordyd (jordyd@moz-F392131C.seg39.ucf.edu)
[14:43:28] <ChrisMorgan> Anyway, I find my CM monogram stands out against most things. More than a mugshot, though perhaps the high-viz orange shirt I'm wearing would make it a little more distinctive.
[14:43:29] <ChrisMorgan> I just wish with things like Gravatar that I could specify different images at different sizes; the full-vector form isn't perfect at 16×16, so I made the pixel-perfect http://chrismorgan.info/media/images/favicon.png, but can't use it as I want :-(
[14:44:17] *** Joins: pnathan (Adium@moz-BDC3EE62.tukw.qwest.net)
[14:44:23] *** Quits: jordyd (jordyd@moz-F392131C.seg39.ucf.edu) (Ping timeout)
[14:45:18] <kimundi> Clearly you should define a new standard that will solve that problem once and for all. ;)
[14:47:55] *** Joins: jordyd (jordyd@moz-F392131C.seg39.ucf.edu)
[14:49:33] *** Quits: mihneadb (mihneadb@A64FDE7E.7E118222.89C0DD0D.IP) (Input/output error)
[14:49:56] <xAndy> can i define a extern "c" function inside a struct? 
[14:50:04] <kimundi> define no
[14:50:33] <kimundi> definitions are not nestable, except for function bodies
[14:50:53] <xAndy> not define i mean as part of an impl of course
[14:51:39] *** Joins: sebcrozet (sebcrozet@C60611A0.C20AE592.BA2F4534.IP)
[14:51:48] <kimundi> you mean using a extern "C" fn as either an assoziated function or method in an impl block for a type?
[14:52:13] <xAndy> i want the extern c inside an impl so i can call functions that are not pun
[14:52:16] <xAndy> *pub
[14:52:34] <xAndy> yes kimundi 
[14:52:37] <kimundi> That's also no. YOu have to declare the extern "C" fn seperately, and then call them in the method/function of the type
[14:53:02] <kimundi> I don't understand what privacy problem you want to workaround there?
[14:53:13] *** Quits: jordyd (jordyd@moz-F392131C.seg39.ucf.edu) (Ping timeout)
[14:53:40] <kimundi> If you don't want to expose the extern fn, don'T mark it pub
[14:53:51] <kimundi> then it will be module private
[14:54:21] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[14:54:36] <xAndy> i need a extern c function that will be called by a c api. that extern c function sould call a private method of a struct because i do not want to export the structs method
[14:55:49] *** Joins: jordyd (jordyd@moz-F392131C.seg39.ucf.edu)
[14:56:55] <kimundi> then make the extern fn public, and the type and/or the function in the impl private?
[14:58:47] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[15:00:22] *** Joins: Kruppe (user@moz-253119B0.esg.uwaterloo.ca)
[15:01:34] <bstrie> xAndy: our private/public rules are a little confusing right now
[15:01:53] <bstrie> they're actually in the process of getting overhauled
[15:02:34] <strcat> xAndy: make both of them private
[15:02:41] <xAndy> nevermind. i assumed the pub part in impl function definitions was like c++ public/private
[15:02:54] <strcat> a function only needs to be public if you're calling it externally
[15:02:55] <pnkfelix> bstrie: I think the revision to privacy has just landed recently
[15:03:07] <pnkfelix> bstrie: do you know/think there are more changes coming?
[15:03:25] <strcat> you can pass a function pointer to a private function somewhere else, privacy doesn't matter when it comes to that
[15:03:40] <bstrie> pnkfelix: I'm not sure, I was never clear on the deficiencies of the current system
[15:03:54] <bstrie> there very well may be more changes in the works
[15:04:01] <bstrie> including changing what is pub/priv by default
[15:04:20] *** Joins: [squiddy] (squiddy@moz-F6D7ED3B.dynamic.cablesurf.de)
[15:04:36] <pnkfelix> bstrie: I think the main problem was that previously, the semantics of resolve was dictated by pub/priv in *some* cases
[15:05:07] <pnkfelix> bstrie: one of the main points of acrichto's changes was to make it so that the semantics of resolve can be defined on their own, without thinking about pub/priv.
[15:07:41] <pnkfelix> bstrie: (I think there's an exception made for glob imports though; pub/priv may still have an effect on resolve semantics there.)
[15:08:16] <bstrie> pnkfelix: I hadn't read the PR closely, does it turn privacy resolution into its own pass?
[15:09:55] *** Quits: threecreepio (jdp@moz-1A9F0A3C.cust.bredband2.com) (Quit: threecreepio)
[15:10:01] *** Joins: sanxiyn (tinuviel@B4104EBB.3CC170B1.1E14B209.IP)
[15:10:40] <pnkfelix> bstrie: it tries to, but it is a separate pass that still needs to use data that is fed to it from resolve.  So I'm not sure if that qualifies as "its own pass" ...
[15:10:46] *** Quits: lfox (larryfox@moz-343B6F0C.nyc.biz.rr.com) (Ping timeout)
[15:11:25] *** Quits: Ms2ger (Ms2ger@moz-AB49BE4D.ugent.be) (Ping timeout)
[15:11:41] <dbaupp> bstrie: (there was actually a separate privacy.rs file before acrichto's PR, but I guess it wasn't very well detached from resolve.rs)
[15:13:11] *** Quits: jack (jack@moz-DF5A9AA3.members.linode.com) (Quit: ZNC - http://znc.in)
[15:18:46] <saati> how can i get stack traces on failiures?
[15:19:49] <pnkfelix> saati: If you run under gdb, you can do `catch throw` and it will break the debugger when fail! occurs
[15:20:41] *** Joins: lex (lex@6B49297F.9EA65473.DDE5D3F6.IP)
[15:21:05] <lex> Hi, student here. Quick question. Is there a way to tell is a mutex is busy? I didn't notice anything in the documentation.
[15:21:36] <saati> pnkfelix: thanks
[15:22:05] <sanxiyn> lex: Mutex, as in extra::sync::Mutex?
[15:22:26] <lex> sanxiyn: yes
[15:23:02] <bstrie> lex: I've never actually seen someone use a mutex in rust before! for what are you using it?
[15:23:05] <lex> sanxiyn:  the goal is the find out if a spawned task is busy.
[15:23:10] <lex> bstrie: ^
[15:23:33] <lex> bstrie, sanxiyn: it may be that a mutex isn't the best choice. i'm open to suggestions
[15:23:59] *** Quits: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net) (Quit: sw17ch)
[15:24:55] <bstrie> lex: for what purpose are you asking if a task is busy?
[15:25:04] *** Joins: engla (engla@moz-14524F0F.selucle.dyn.perspektivbredband.net)
[15:25:40] <bstrie> in general I'd say that a task willing to take on more work would send a message to its parent and then block on a message coming back with more work, or something... but I'm really bad at concurrent stuff :)
[15:26:42] *** Quits: tgummerer (tgummerer@51D3B54.FEF996EA.EA6FEF3D.IP) (Ping timeout)
[15:26:54] <lex> bstrie: I'd like to keep K out of N cores on a machine busy. So, I was thinking I'd try to create something with X mutexes and then lock up K of them with a spawned process that loops forever.
[15:26:59] *** Joins: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net)
[15:27:31] <bstrie> lex: iirc the eventual goal of rust is to do all that for you, via automatic work-stealing
[15:27:38] <bstrie> not sure if work-stealing is implemented yet though
[15:27:56] <lex> bstrie: hm...okay. i'll play around with it some more
[15:28:08] <lex> bstrie: wanted to make sure I wasn't missing something in the li
[15:28:11] <bstrie> it should also be eventually possible to say, "use N of the cores on my machine, and run M tasks on each of those"
[15:28:54] *** Joins: bent (chatzilla@moz-2CD73AA6.triad.res.rr.com)
[15:29:04] <bstrie> lex: you say you're a student, is this for the UVA class?
[15:29:41] <lex> bstrie: it is
[15:29:56] <jdm> bstrie: pretty sure we've got work stealing in 0.8
[15:30:08] <bstrie> jdm: ah, but the UVA class is using 0.7! noooooo
[15:30:13] <bstrie> the horror
[15:30:28] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Ping timeout)
[15:30:48] <pnkfelix> bstrie: I thought they told the students they could (should? must?) upgrade to 0.8 
[15:31:01] <bstrie> ah, that's a joy I'm sure
[15:31:02] *** Quits: engla (engla@moz-14524F0F.selucle.dyn.perspektivbredband.net) (Ping timeout)
[15:31:13] <lex> bstrie: actually, a lot of the students have switched to 0.8
[15:31:23] <sanxiyn> Quick poll: which version of Rust you started with?
[15:31:25] <bstrie> when I was in college we weren't even allowed to install things on our machines in the CS department
[15:31:25] <sanxiyn> 0.5
[15:31:30] <bstrie> 0.0
[15:31:32] <lex> bstrie: or...just cloned the git repo :D
[15:31:35] <sanxiyn> bstrie: Heh
[15:31:37] <lex> 0.7
[15:31:59] <bstrie> the only thing more leet than 0.0 is starting in the rustboot era
[15:32:07] <skade> played around with 0.6 for 20 minutes, but only started with pre-0.8 master
[15:32:21] <ChrisMorgan> sanxiyn: 0.7 (though I'd been following Rust loosely since 0.4 and had paid quite a bit more attention to 0.6)
[15:32:28] <bstrie> lex: well I am happy to infer that it was painless
[15:32:55] <bstrie> lex: is there a link to the assignment? can I see it?
[15:33:05] <sanxiyn> bstrie: Ah so 0.0 is any pre-0.1 rustc?
[15:33:20] *** Quits: nkoep (nik@moz-3DC94B9.vpn.rwth-aachen.de) (Ping timeout)
[15:33:23] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[15:33:41] <bstrie> yeah
[15:33:44] <dbaupp> 0.5
[15:33:45] <bstrie> weren't versions back then
[15:34:07] <bstrie> amusingly, even though I've been here longer than most people I'm also worse at rust than most people :P
[15:34:07] <jdm> I started shortly after the first bootstrapped version
[15:34:17] <lex> bstrie: The last part of http://rust-class.org/pages/challenges.html
[15:34:38] <lex> bstrie: some students already did the second one.
[15:34:56] <dbaupp> woah, it has it's own domain!
[15:35:07] <bstrie> lex: how are people getting on with the language? I remember my hatred for scheme when I had to use it for my CS course :P
[15:36:02] <sanxiyn> bstrie: Heh, I enjoyed Scheme
[15:36:16] <bstrie> yeah, I was just young and stupid
[15:36:20] <lex> bstrie: Most of us have a good amount of experience with C or C++, so syntax isn't too much of an issue. Getting used to the memory restrictions takes a while though :P
[15:36:26] <bstrie> now I am a methuselah, and slightly less stupid
[15:36:32] <dbaupp> apparently https://github.com/mozilla/rust/pull/9658 means we can now -run -Zdebug-info on the stdlib! \o/
[15:36:35] <ChrisMorgan> "Several students suggested clever ways to do this that involve first identifying the machine you are running on  (e.g., use uname -a) and then running different code based on that. This is worthy of some respect, but not enough to satisfy the intent of the challenge." I get the strong feeling I would like that class.
[15:36:44] <jdm> heh
[15:36:47] <bstrie> lex: ah, glad to hear they didn't dump systems programming on you after a lifetime of e.g. java
[15:37:16] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Ping timeout)
[15:37:19] <sanxiyn> dbaupp: How about extra-debug-info?
[15:37:46] <bstrie> dbaupp: does that mean it's time to move debug-info out of the -Z flag?
[15:37:48] <dbaupp> sanxiyn: don't know, haven't tried
[15:37:57] <sanxiyn> bstrie: Probably
[15:38:01] <dbaupp> sanxiyn: wait... mw says that it works in the PR description
[15:38:13] <dbaupp> "With the changes in this PR I am able to compile all of rust with extra-debug-info:"
[15:38:23] <sanxiyn> Woohoo
[15:38:38] <sanxiyn> By the way, what is the difference between debug-info and extra-debug-info?
[15:38:42] <dbaupp> bstrie: sounds good
[15:39:02] <bstrie> lex: I'd be curious to hear if you find that rust actually helps you avoid the pitfalls of C and C++, or if we're all just wasting our time here :)
[15:39:13] <dbaupp> sanxiyn: I think extra- enables a one or two of the flakier parts of debuginfo emission.
[15:39:17] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[15:39:22] <ChrisMorgan> During my almost-completed Software Engineering degree, I've had to work mostly in Java; one unit used Eiffel and one unit comprised a fair amount of C (and Vim, where I showed up the lecturer and tutor who were both emacs users) and in a couple I've been able to select a language of my own (Python in each case). Not much diversity. New students doing the degree will get a little more Python, but still mostly Java.
[15:39:23] <bstrie> dbaupp: I'll make a bug for it
[15:39:34] * dbaupp would have to check the source to be sure
[15:39:57] <lex> bstrie: I wouldn't exactly say that I miss tracking down segfaults
[15:40:11] <dbaupp> bstrie: sounds good, cc @michealwoerister to get his say on it, I guess :)
[15:40:26] <bstrie> ChrisMorgan: my school was almost all java as well. one class had C, one class had scheme, and I got to choose a language for my senior project (I chose R)
[15:40:34] <ChrisMorgan> lex: when I was starting writing rust-http (against Rust 0.7), segfaults were rather common!
[15:41:08] <jdm> sanxiyn: extra enables local variables, types, arguments, etc.
[15:41:17] <jdm> everything that's not line numbers and file names
[15:41:53] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Ping timeout)
[15:42:12] <lex> ChrisMorgan: A classmate and I actually got a segfault in 0.7, but it turns out it was caused by calling fopen
[15:42:12] <sanxiyn> jdm: Ah
[15:42:16] <ChrisMorgan> I made a recommendation of Rust for one unit at the end of last semester, one which had been using Java but for which Rust would already be a much better match. (And that was before I'd started using Rust myself, as a matter of fact. Now I'd really _strongly_ recommend it, though with the same caveats as I placed on it then.)
[15:42:27] <lex> bstrie: R is so much fun!
[15:42:43] <dbaupp> rusti: let mut x = ~1; x = x; x
[15:42:44] -rusti- application terminated abnormally with signal 11 (Segmentation fault)
[15:42:55] <dbaupp> lex: ^ there's one for you :P
[15:43:14] <ChrisMorgan> lex: if you touch the TCP layer (new or old RT, but especially new rt), 0.7 is really easy to segfault.
[15:43:23] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[15:43:52] <ChrisMorgan> I'm pleased to be able to say that I haven't had a segfault in well over a month now.
[15:44:52] <myname> okay, because of the return value of vec.remove, my idea will not work if the elements aren't copyable
[15:46:09] <sanxiyn> I had C, C++, Java, C#, Python, Scheme, and Prolog used in my classes
[15:46:53] <sanxiyn> It was like "class is class, you learn needed language yourself" which was quite demanding
[15:47:25] *** Joins: nkoep (nik@moz-2AD6C587.pool.mediaways.net)
[15:51:36] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Ping timeout)
[15:52:03] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[15:52:52] *** Quits: pnathan (Adium@moz-BDC3EE62.tukw.qwest.net) (Quit: Leaving.)
[15:54:53] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[15:56:40] *** Quits: sebcrozet (sebcrozet@C60611A0.C20AE592.BA2F4534.IP) (Quit: Konversation terminated!)
[15:56:42] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Ping timeout)
[15:57:08] *** Joins: arodier74 (Thunderbir@moz-25EB015.in-addr.btopenworld.com)
[15:57:12] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[15:57:54] *** Joins: Cromulent (Cromulent@moz-983B638D.cable.virginmedia.com)
[15:58:09] *** Joins: tiffany (kawaii@moz-28A8742A.dhcp.embarqhsd.net)
[15:59:53] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[16:00:22] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[16:00:28] *** bent is now known as bent|away
[16:01:50] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[16:02:29] *** Quits: Cromulent (Cromulent@moz-983B638D.cable.virginmedia.com) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[16:06:10] *** Joins: dandy (Dandy@moz-84CC8377.hsd1.co.comcast.net)
[16:10:14] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[16:12:29] *** Parts: lex (lex@6B49297F.9EA65473.DDE5D3F6.IP) ()
[16:12:36] *** Quits: Adhaa (Adhaa@185C7798.83764248.55CD930E.IP) (Connection reset by peer)
[16:12:37] *** Quits: Valentin (Valentin@185C7798.83764248.55CD930E.IP) (Quit: Leaving)
[16:12:43] <bstrie> dbaupp: do you know what michael woerister's github name is?
[16:15:21] <sanxiyn> bstrie: michaelwoerister
[16:15:27] <bstrie> oh good, servo finally has enough rust code that github no longer considers it a python project
[16:16:19] *** Quits: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Quit: leaving)
[16:17:40] <sanxiyn> bstrie: Yeah DOM binding generator Servo uses is written in Python and is over 20K lines
[16:17:54] <bstrie> hilarious
[16:18:20] <jdm> bstrie: :D
[16:18:34] <jdm> bstrie: in github's defense, there's the rust codegenerator, as well as a copy of the gecko one
[16:19:00] *** Joins: Ms2ger (Ms2ger@4C3AB550.528524A1.F15B0BB3.IP)
[16:19:09] <jdm> also my next bindings change may well push the python code up over rust again
[16:19:19] <sanxiyn> lol
[16:21:02] *** Joins: devbug (quassel@2D4E172D.4C8B6099.9B57EA59.IP)
[16:21:48] <myname> is there something like .iter_with_index?
[16:21:58] <strcat> myname: enumerate adaptor
[16:22:11] <myname> i.e.?
[16:22:28] <strcat> myname: http://static.rust-lang.org/doc/master/std/iter/trait.Iterator.html#method.enumerate
[16:22:38] <bstrie> for (i, e) in [1,2,3].iter().enumerate() {
[16:22:44] <bstrie> basically
[16:23:04] <bstrie> that exact example probably fails because of rvalue stuff
[16:28:24] *** Quits: Addle (quassel@moz-89E971E4.cable.teksavvy.com) (Client exited)
[16:32:54] *** Joins: hjr3 (hradtke@76463E20.615B56E6.43362C16.IP)
[16:33:36] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[16:34:28] *** Quits: tiffany (kawaii@moz-28A8742A.dhcp.embarqhsd.net) (Ping timeout)
[16:35:48] <heftig> rusti: let a = [6,9,12]; a.iter().enumerate().map(|(i,e)|format!("{:?} {:?}",i,e)).to_owned_vec()
[16:35:49] -rusti- ~[~"0u &6", ~"1u &9", ~"2u &12"]
[16:35:59] *** Joins: lex (lex@moz-738B3E34.bootp.virginia.edu)
[16:36:34] *** Joins: tiffany (kawaii@moz-28A8742A.dhcp.embarqhsd.net)
[16:38:12] *** Joins: ercx__ (ercan@moz-7CFF3469.dyn.optonline.net)
[16:38:14] <lex> Hi again, I have another question. I'm trying to make a struct with mutable fields (which is covered in the tutorial). The thing I'm confused about is how to modify a value from within the structs implementation (e.g. `self.counter += 1`). I think the error is happening because, since I haven't yet created a mutable instance of the struct at this point, the compiler thinks everything is immutable.
[16:38:44] <bstrie> lex: ...where in the tutorial does it mention mutable fields
[16:38:48] <sanxiyn> lex: Can you paste the code somewhere?
[16:38:56] <bstrie> because we haven't had those for a long time!
[16:39:15] <lex> sanxiyn: sure, give me a moment. bstrie: I think it mentions mutable structs in the structs section.
[16:39:19] <ercx__> hi, I just got my dailyt build of rust and have http-rust complaining about macros even after I added #[feature(macro_rules)]
[16:39:21] <heftig> you probably need to defined the method with a &mut self argument
[16:39:27] *** Quits: skade (skade@30BBD5E6.505237C9.CAE22B62.IP) (Ping timeout)
[16:39:33] <BossKonaSegway> wait? I'm confused you can no longer define a field on a structure as mutable?
[16:39:35] <heftig> s/ned/ne/
[16:39:41] *** Joins: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net)
[16:39:49] <bstrie> BossKonaSegway: nope, mutability is inherited from the struct
[16:39:51] <sanxiyn> BossKonaSegway: Yes that changed quite a while ago
[16:40:00] <dandy> ercx__, you forgot the ; at the end
[16:40:07] <bstrie> BossKonaSegway: it's impossible to call a struct immutable if it has a mutable field
[16:40:07] <lex> heftig: that did the trick!
[16:40:07] <BossKonaSegway> grrr that is what I get for not staying up to date ><
[16:40:28] <sanxiyn> lex: Ah yeah, &mut self
[16:41:06] <lex> sanxiyn, heftig, bstrie: Thanks! Back to coding!  :D
[16:41:08] *** Quits: Ferreus (ferreus@moz-205629CC.dip0.t-ipconnect.de) (Ping timeout)
[16:41:21] <dandy> ercx__, it seems weird that you don't get an error when forgetting ; but that is because it is valid but has a different meaning, there is an issue to change that
[16:41:48] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[16:41:50] *** Joins: sebcrozet (sebcrozet@moz-F96421F3.w80-13.abo.wanadoo.fr)
[16:41:54] <bstrie> ercx__: we all hate the ; thing on attributes. gonna change
[16:42:25] <ercx__> I added the `;` but still the same error message
[16:42:43] <dandy> gist?
[16:42:47] <bstrie> weird
[16:43:15] *** Joins: skade (skade@moz-4D9CB8A6.sys11.net)
[16:43:52] *** Quits: nrc (nrc@88F51059.F3BBB17D.144F44FA.IP) (Ping timeout)
[16:43:54] <ercx__> I've never used gist.
[16:44:17] <ercx__> Give me a mon
[16:44:18] <ercx__> min
[16:44:22] <Eridius> bstrie: we do? I don't hate it
[16:44:26] <bstrie> ercx__: do you have a github account? also there exist pastebins that don't require you to log in
[16:44:26] <dandy> or anything?
[16:44:40] <dandy> Eridius, I hate it, thats enough for a "we"
[16:44:51] <ercx__> pastebin is better
[16:45:00] <bstrie> Eridius: the fact that the trailing ; changes an attribute from inner to outer? yeah, we all hate it :) too easy to miss
[16:45:01] <Eridius> ercx__: no it's not
[16:45:01] *** Joins: tjc (tjc@moz-BBE3ABD.mv.mozilla.com)
[16:45:02] *** ChanServ sets mode: +o tjc
[16:45:04] <pnkfelix> Eridius: https://github.com/mozilla/rust/issues/2569
[16:45:18] <Eridius> bstrie: the fact that ; changes an expression from returning a value to returning ()? :P
[16:45:24] <bstrie> Eridius: no, on attributes
[16:45:29] <Eridius> I know
[16:45:30] <bstrie> we all love the ; thing in return position
[16:45:33] <pnkfelix> Eridius: I suspect we'll go with something like: https://github.com/mozilla/rust/issues/2569#issuecomment-24707375
[16:45:55] <Eridius> pnkfelix: that looks wacky to me
[16:45:59] *** Joins: riley (riley@8BA43816.9AA11D69.65DDFA89.IP)
[16:46:06] <ercx__> or even better: https://github.com/chris-morgan/rust-http/blob/master/src/libhttp/codegen/branchify.rs#L59-66
[16:46:06] <dandy> bstrie, ; having significant meaning as it does in Rust messes with my head coming from other languages
[16:46:30] <ercx__> That's the part the compiler is complaining about.
[16:46:57] <Eridius> hrm nobody suggested ##[inner(attr)]
[16:47:21] <ercx__> I tried adding it in that file, and then in the main crate file, but still the same error.
[16:47:56] <dandy> what is the error?
[16:48:14] <bstrie> dandy: what makes the semicolong thing work for return values is 1) that it only works if it's the *last* expression in the function, so forgetting a semicolon elsewhere is never an issue, 2) rust forces you to explicitly type your function signatures, so returning a thing when you meant to return nil always gets caught
[16:48:27] <dandy> I want to say that issue is becuse you have multuple items in the macro but I have never seen a macro wil multiple macros inside, not sure if thats a thing ot not
[16:48:46] <dandy> bstrie, still feels bad to me
[16:48:52] <ercx__> dandy: http://pastebin.mozilla.org/3218558
[16:49:00] <bstrie> I hated it too. grew on my after using it
[16:49:03] <bstrie> *me
[16:49:15] <Eridius> ercx__: the error message tells you precisely how to fix it
[16:49:15] <bstrie> still hate the attributes thing though :)
[16:49:22] <dandy> bstrie, yeah I tolerate it because I can't mess up
[16:49:26] <ercx__> what is #[macro_escape] ?
[16:49:42] <dandy> over my head....
[16:49:46] <Eridius> ercx__: it prevents the following module from establishing a new macro context
[16:49:49] <Eridius> it's basically a huge hack
[16:50:02] <ercx__> ok
[16:50:03] <Ms2ger> bstrie, I think it makes sense if you only have one expression in the function, much less if you have more
[16:51:22] <dandy> Eridius, https://github.com/chris-morgan/rust-http/blob/master/src/libhttp/codegen/branchify.rs#L1
[16:52:19] <dandy> Hey Rust, whats with this syntax: https://github.com/chris-morgan/rust-http/blob/master/src/libhttp/codegen/branchify.rs#L59 does that mean it matches one of the listed macros inside branchify?
[16:53:32] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[16:53:32] *** ChanServ sets mode: +ao dherman dherman
[16:53:37] <sfackler> it's similar to a match statement. It means that you can do branchify!(case sensitive, stuff...) or branchify!(case insensitive, stuff...)
[16:54:42] <dandy> neato
[16:55:02] <ercx__> there's a 'fn branchify(options: &[(&str, &str)], case_sensitive: bool) -> ~[ParseBranch]'
[16:55:50] *** Parts: lex (lex@moz-738B3E34.bootp.virginia.edu) ()
[16:56:09] *** Quits: sanxiyn (tinuviel@B4104EBB.3CC170B1.1E14B209.IP) (Quit: Leaving)
[16:56:16] *** Joins: mib_fq2nez (Mibbit@16878446.B8F05B23.4D92EDC2.IP)
[16:56:26] *** Joins: huseby (huseby@moz-4E8C421A.husebyhome.com)
[16:56:30] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[16:57:50] <ercx__> anybody able to compile rust-http?
[16:59:44] *** Quits: tiffany (kawaii@moz-28A8742A.dhcp.embarqhsd.net) (Quit: probably going to bed)
[17:00:11] *** Joins: tiffany (kawaii@moz-28A8742A.dhcp.embarqhsd.net)
[17:00:18] *** Quits: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP) (Quit: Leaving.)
[17:01:20] *** Joins: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP)
[17:03:01] <nejucomo> ercx__: I haven't tried before, but I just cloned it and I see errors due to using the deprecated std::num::IntConvertible.
[17:03:18] <ercx__> try this one : https://github.com/eerden/rust-http
[17:03:44] <ercx__> That should be ok witn std::num::IntConvertible.
[17:04:16] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[17:04:16] *** ChanServ sets mode: +ao brson brson
[17:05:24] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[17:05:34] <cuttle> I have created a Parser struct, with a Port<lex::Token> field, so that I can write a recursive-descent parser where all the functions share it as state
[17:06:33] *** bent|away is now known as bent
[17:06:35] <cuttle> but when I try to create it like this: fn parse(input : Port<lex::Token>) { ... Parser { input: input } ... }
[17:06:37] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[17:06:41] <cuttle> it complains about moving input
[17:07:24] <kmc> what's the exact error message?
[17:08:17] *** Quits: fyolnish_ (fyolnish@moz-42A384CF.uqwimax.jp) (Client exited)
[17:09:33] *** Joins: mikezaby (mikezaby@moz-908EA8DE.home.otenet.gr)
[17:11:14] *** Quits: timot_ (timot@moz-3B3A0794.cust.tele2.se) (Connection reset by peer)
[17:11:34] *** Joins: timot_ (timot@moz-3B3A0794.cust.tele2.se)
[17:12:10] *** Quits: lkuper_ (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Ping timeout)
[17:14:08] *** Joins: lht (lht@A1371695.366ACFAA.7BA1798C.IP)
[17:16:04] <bstrie> strcat: you mentioned wanting to write a new rust-specific pass for llvm, what would that entail?
[17:16:28] <strcat> figuring out how to integrate it into the build system mostly
[17:16:45] <bstrie> are we already generating the code that would make use of it?
[17:16:49] <strcat> you have to build LLVM passes inside the LLVM source tree (you don't need to build them *with* LLVM though)
[17:16:53] <strcat> bstrie: no, but that's easy
[17:16:54] *** Quits: eevee (eevee@moz-59EA9CA5.evrt.wa.frontiernet.net) (Ping timeout)
[17:16:57] <strcat> you can output arbitrary metadata
[17:17:00] <strcat> and then consume it from a pass
[17:17:07] <strcat> and you can load passes dynamically into LLVM
[17:17:27] <strcat> the hard part is integrating it into the build sys
[17:17:45] <strcat> if you put something in the LLVM source tree it will make the submodule dirty
[17:17:53] <strcat> so I don't really know how you'd deal with it
[17:17:53] *** Joins: brendan (brendaneic@1DA4CBB6.897ED74E.4EA770CF.IP)
[17:18:04] <bstrie> strcat: is an optimization pass something that wouldn't need to be upstreamed?
[17:18:11] <bstrie> you mention dynamic loading...
[17:18:13] <strcat> wouldn't need to be upstreamed
[17:18:18] <bstrie> that's cool
[17:18:33] <bstrie> I just wanted to see if we could do it before the next stable release, but I guess we don't have to :)
[17:18:50] <cuttle> actually I think I have resolve my error
[17:18:58] <strcat> our LLVM patches aren't going to make it into the next LLVM release anyway
[17:19:05] <strcat> because no one is working on getting them in
[17:19:14] <cuttle> kmc: it was complaining about my using input.try_recv() *after* moving it to the Parser struct, so I can just deliberately do that beforehand
[17:19:16] <strcat> and some are questionable
[17:19:28] <strcat> they all seem to lack tests
[17:19:34] <strcat> wouldn't be accepted
[17:19:46] <cuttle> so yeah that fixed it
[17:19:46] <bstrie> cuttle: cool
[17:20:30] *** Joins: carter (carter@moz-BDFE46F6.nyc.biz.rr.com)
[17:20:31] <bstrie> strcat: I thought the reason that we weren't sweating about upstreaming the patches was because we didn't know if we'd still need more of them
[17:20:46] <kmc> cuttle: ah, yeah
[17:20:58] <bstrie> I still don't know what our current patches do, aside from split-stack stuff
[17:21:07] <strcat> bstrie: they don't meet the quality requirements to be upstreamed
[17:21:16] *** Joins: eevee (eevee@moz-59EA9CA5.evrt.wa.frontiernet.net)
[17:21:24] <strcat> and they are not completely justified, they aren't going to accept ones that aren't necessarily the right way of doing stuff
[17:23:03] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Connection reset by peer)
[17:23:14] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[17:23:19] *** Joins: rusti_ (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[17:23:27] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[17:23:34] <strcat> bstrie: they aren't going to accept a new feature without tests, for *sure*
[17:23:41] *** Joins: bheylin_ (brianheyli@moz-3D24C757.static.chello.nl)
[17:23:49] <strcat> and you are going to need to be able to justify that feature existing
[17:25:30] *** Quits: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP) (Input/output error)
[17:25:59] *** Joins: lucian (lucian@moz-D82F7974.zone16.bethere.co.uk)
[17:26:33] *** Joins: ryeguy (Mibbit@EC0380F4.1C43967E.E9A87632.IP)
[17:27:01] <strcat> bstrie: anyway it looks like the gc stuff was dropped
[17:27:08] <strcat> so there's really just fixed-stack-segment
[17:27:10] <strcat> not as bad as before
[17:27:46] *** Quits: lucian (lucian@moz-D82F7974.zone16.bethere.co.uk) (Ping timeout)
[17:28:55] *** Joins: jeaye (Jeaye@moz-34FEF2BB.hsd1.ca.comcast.net)
[17:30:03] <ryeguy> Is there any way I can make this work without resorting to copying or managed pointers? http://pastebin.com/f5qfX0P5
[17:32:11] *** Quits: CarpNet (ac@moz-FD24B77.sohonet.co.uk) (Quit: Leaving)
[17:32:24] <ryeguy> (oops, there is a missing closing curly on line 24 in that paste)
[17:32:42] <kmc> I don't think there's a way to construct a struct with some fields which borrow other fields
[17:33:14] <kmc> maybe you could make it an Option<&'self Thing> and then set it after the struct is first built
[17:34:48] <kmc> also you can use Rc<T> or Arc<T> as an alternative to @T
[17:34:51] *** Quits: skade (skade@moz-4D9CB8A6.sys11.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[17:35:13] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[17:35:45] *** Joins: clusterfoo (computer@moz-A81F9872.cable.teksavvy.com)
[17:35:53] *** Quits: arodier74 (Thunderbir@moz-25EB015.in-addr.btopenworld.com) (Quit: arodier74)
[17:35:54] *** Joins: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com)
[17:35:54] *** ChanServ sets mode: +ao pcwalton pcwalton
[17:36:00] <cuttle> is there some sort of lazy and() for Options, that takes closures or something?
[17:36:25] <cuttle> ah and_thej
[17:36:28] <cuttle> and_then*
[17:36:28] <cuttle> perfect!
[17:36:32] <cuttle> <3 rust
[17:36:45] *** Quits: bheylin_ (brianheyli@moz-3D24C757.static.chello.nl) (Quit: bheylin_)
[17:37:07] <strcat> bstrie: I'm not really sure what to do about segmented stacks, it's a major performance issue even right now without runtime support for them
[17:37:26] <myname> did someone got a solution to the list comprehension question? i.e. every (x,y)-tuple for a given range of x and y
[17:37:29] <strcat> due to lack of libcall optimizations, slow FFI, and the bloat from the preludes everywhere
[17:37:45] <kmc> myname: chaining iterators I think
[17:38:02] *** Joins: skade (skade@moz-4D9CB8A6.sys11.net)
[17:38:02] *** Quits: hjr3 (hradtke@76463E20.615B56E6.43362C16.IP) (Ping timeout)
[17:38:25] <myname> i remember something like map_iter
[17:38:31] *** Joins: hjr3 (hradtke@76463E20.615B56E6.43362C16.IP)
[17:39:00] <kmc> er yeah, flat_map not chain
[17:41:02] <kmc> which I guess would be something like  range(0,4).flat_map(|x| range(0,2).map(|y| (x,y)))
[17:41:13] <kmc> but that's pretty ugly and it upsets the borrowchecker too
[17:41:20] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[17:41:57] *** Quits: rusti_ (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[17:42:01] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[17:42:05] <myname> any better way?
[17:43:20] *** Quits: sebcrozet (sebcrozet@moz-F96421F3.w80-13.abo.wanadoo.fr) (Ping timeout)
[17:43:42] *** Joins: sebcrozet (sebcrozet@moz-A855F6C0.w82-127.abo.wanadoo.fr)
[17:45:29] *** Quits: dandy (Dandy@moz-84CC8377.hsd1.co.comcast.net) (Quit: Leaving)
[17:45:59] *** Joins: voxpopuli (fanservice@814775CD.6ED3ADAB.689607DE.IP)
[17:46:04] *** Quits: jdm (jdm@88F51059.F3BBB17D.144F44FA.IP) (Ping timeout)
[17:47:21] *** Joins: jdm (jdm@88F51059.F3BBB17D.144F44FA.IP)
[17:47:21] *** ChanServ sets mode: +o jdm
[17:47:34] <ryeguy> kmc: thanks
[17:48:42] *** Quits: jdm (jdm@88F51059.F3BBB17D.144F44FA.IP) (Quit: Lost terminal)
[17:48:53] *** Quits: sebcrozet (sebcrozet@moz-A855F6C0.w82-127.abo.wanadoo.fr) (Ping timeout)
[17:49:45] *** Joins: sebcrozet (sebcrozet@moz-F96421F3.w80-13.abo.wanadoo.fr)
[17:50:32] *** Quits: mib_fq2nez (Mibbit@16878446.B8F05B23.4D92EDC2.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[17:50:57] <strcat> bstrie: https://github.com/mozilla/rust/issues/8981 this is the biggest perf issue I know about atm.
[17:51:12] <strcat> I should add a column for OptVec too
[17:51:32] <strcat> since it becomes obsolete
[17:51:45] *** Joins: jbb (AndChat303@moz-A1B861AB.threembb.co.uk)
[17:51:51] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.1)
[17:53:20] *** Quits: Amaranth (travis@moz-F81BB56A.cpe.cableone.net) (Ping timeout)
[17:53:22] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[17:53:30] <benh> I thought our inline-date vecs were a good thing :(
[17:54:09] <cuttle> it looks like Option::and() is not as polymorphic as it could be
[17:54:14] <cuttle> and_then is fine, but and() isn't
[17:54:17] *** Quits: brendan (brendaneic@1DA4CBB6.897ED74E.4EA770CF.IP) (Quit: brendan)
[17:54:54] *** Quits: jbb (AndChat303@moz-A1B861AB.threembb.co.uk) (Ping timeout)
[17:55:03] <bstrie> cuttle: if you can improve it, submit a patch?
[17:55:10] <cuttle> bstrie: ok i will try
[17:55:14] <bstrie> :)
[17:55:30] <cuttle> haven't poked inside rust at all yet, but now's as good a time to start as any :p
[17:55:35] <bstrie> cuttle: what about it could be more polymorphic?
[17:55:54] <cuttle> bstrie: it seems like it could be
[17:56:02] <cuttle> a : Option<T>
[17:56:09] <cuttle> b: Option<U>
[17:56:13] *** Joins: brendan (brendaneic@1DA4CBB6.897ED74E.4EA770CF.IP)
[17:56:15] <cuttle> a.and(b) : Option<U>
[17:56:21] <cuttle> because there's no chance of returning the T
[17:56:24] <cuttle> it's either None or the U
[17:56:40] <cuttle> .or() has to have both be T
[17:56:40] *** Joins: jbb (AndChat303@moz-A1B861AB.threembb.co.uk)
[17:57:10] <cuttle> as you can see in .or_else, both types are T, but .and_then has T and U
[17:57:29] *** Quits: doomlord_ (servitor@moz-728E30A7.range109-151.btcentralplus.com) (Connection reset by peer)
[17:57:50] *** Quits: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP) (Ping timeout)
[17:58:15] *** Quits: dbaupp (Thunderbir@moz-EAA09AEF.lns20.syd7.internode.on.net) (Ping timeout)
[17:58:50] *** Quits: jbb (AndChat303@moz-A1B861AB.threembb.co.uk) (Quit: Bye)
[17:59:08] *** Joins: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP)
[18:00:31] <nmatsakis> win 21
[18:00:36] <nmatsakis> (oops)
[18:01:22] *** Joins: mercury (Mercury@moz-F93EF569.range31-48.btcentralplus.com)
[18:01:23] *** Quits: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP) (Quit: Leaving.)
[18:01:29] *** Joins: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP)
[18:01:51] <kimundi> cuttle: Sounds like something you could do a PR for :)
[18:01:57] *** Parts: mercury (Mercury@moz-F93EF569.range31-48.btcentralplus.com) (Leaving)
[18:02:03] *** Joins: dbaupp (Thunderbir@moz-4301A13F.lns20.syd6.internode.on.net)
[18:02:16] <BossKonaSegway> Hey I have a kinda dumb question 
[18:02:17] <BossKonaSegway> I have an enum T {A=0, B=1} will  fn f(i: int) -> T { i % 2 as T} work or will it freak out its not like its not an easy change code wise to make it an if else just sorta curious 
[18:02:19] *** Quits: [squiddy] (squiddy@moz-F6D7ED3B.dynamic.cablesurf.de) (Ping timeout)
[18:02:32] <kimundi> BossKonaSegway: Won't work directly
[18:03:15] *** Quits: ercx__ (ercan@moz-7CFF3469.dyn.optonline.net) (Quit: WeeChat 0.4.1)
[18:03:19] <Ms2ger> BossKonaSegway, shouldn't be too hard to make it an if/else expression, I'd think
[18:03:50] <kimundi> BossKonaSegway: Casting to a enum variant would be unsafe, because what happens if it's not the right value, like eg 3?
[18:04:19] <BossKonaSegway> Oh no the if else isn't hard or anything was just curious but yea the undefined behaviour issues pop up and can be a pain
[18:04:37] <kimundi> But I think there will be/is a derving mode that would allow for T::from_int(...) or so
[18:04:41] <Ms2ger> What if it's -1? :)
[18:04:50] *** Joins: [squiddy] (squiddy@moz-F6D7ED3B.dynamic.cablesurf.de)
[18:06:51] *** Joins: doomlord_ (servitor@moz-728E30A7.range109-151.btcentralplus.com)
[18:07:28] <BossKonaSegway> lol if its minus 1 for some reason u64 is broken
[18:07:42] <BossKonaSegway> loll
[18:08:02] <Ms2ger> You did say i : int ;)
[18:08:14] *** Quits: sebcrozet (sebcrozet@moz-F96421F3.w80-13.abo.wanadoo.fr) (Ping timeout)
[18:08:27] <kimundi> well, -1 can still be valid for uint :)
[18:08:44] <BossKonaSegway> lol oh up there yea I did.  Anyway I was only curious because I'm working on a quick rust chess engine and am trying to cut out as many branching conditionals as possible
[18:08:45] <kimundi> if you store it as two's complement it'S just maxvalue
[18:09:31] <kimundi> For code clarity or for optimization?
[18:09:47] *** Quits: lkuper (lkuper@moz-D862222C.dhcp-bl.indiana.edu) (Quit: Leaving)
[18:09:57] *** Joins: lkuper (lkuper@moz-D862222C.dhcp-bl.indiana.edu)
[18:10:08] <Ms2ger> llvm might be able to optimize that branch away
[18:10:08] *** Joins: lenstr (lenstr@E0E80B8D.ED45D46B.DFEAE789.IP)
[18:10:11] <Ms2ger> Worth testing
[18:10:12] <sw17ch> Pretty sure I know the answer two this: is it possible to have borrowed more than one slice of a single array at a time?
[18:10:19] <sw17ch> to this*
[18:10:20] <nejucomo> Does "as" translate to a Trait method call?
[18:10:21] <Ms2ger> sw17ch, yes
[18:10:25] <sw17ch> \o/!
[18:10:30] <kimundi> as long as it's immutable
[18:10:38] * nejucomo wonders if that's even possible without multi-parameter traits...
[18:10:42] <Ms2ger> And/or non-overlapping
[18:10:49] <sw17ch> This is *not* the case when working with immutable structures though, correct?
[18:10:57] *** Quits: [squiddy] (squiddy@moz-F6D7ED3B.dynamic.cablesurf.de) (Ping timeout)
[18:11:00] <sw17ch> (or i'm mixing up my experiences)
[18:11:12] <kimundi> mutable works too, but you need to split a &mut[T] into two or more disjoint &mut[T] with a library function first
[18:11:12] <Ms2ger> Do you mean mutable?
[18:11:18] <sw17ch> no
[18:11:37] <Ms2ger> If it's immutable, I'd assume you can get as many references as you like
[18:11:46] <nejucomo> Oh, awhile ago someone mentioned how they didn't see why multi-parameter typeclasses (a la haskell) were different from traits with type parameters, but they are different in terms of coherence…  I wish I had realized that at the time.
[18:11:58] <myname> i like how you can remove the source of the last error message in a file and get like a dozen new errors
[18:11:58] <sw17ch> Ms2ger: Thanks.
[18:12:03] <sw17ch> I'll play with it a bit more.
[18:12:19] *** Quits: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP) (Quit: Leaving.)
[18:12:27] <Ms2ger> myname, last syntax error?
[18:12:56] <myname> Ms2ger: last unresolved name error
[18:12:59] <Ms2ger> Mm
[18:13:02] *** Quits: lenstr (lenstr@E0E80B8D.ED45D46B.DFEAE789.IP) (Client exited)
[18:13:11] <Ms2ger> That sounds fixable
[18:13:16] *** Joins: tikue_ (tikue_star@49825264.28259105.689607DE.IP)
[18:13:20] <Ms2ger> (Not that I know anything about the compiler)
[18:13:39] *** Joins: lenstr (lenstr@E0E80B8D.ED45D46B.DFEAE789.IP)
[18:13:51] <nejucomo> Does anyone know if "higher order" type parameters are supported or have planned support?  ie: fn<A: Set, B> f(x: B) -> A<B>
[18:13:55] *** Quits: skade (skade@moz-4D9CB8A6.sys11.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[18:14:16] <kmc> not supported, but we talk about it a lot :)
[18:14:42] <nejucomo> "talk about it a lot" doesn't sound like it's on any milestones…  so "wishlist" then?
[18:14:44] *** Quits: Yurume (yurume@AC58A8CE.8A059B47.E313B915.IP) (Ping timeout)
[18:14:50] <kmc> afaik yes
[18:14:52] <nejucomo> I just realized a case where I wanted it yesterday.
[18:15:09] <cuttle> kimundi: currently doing that :)
[18:15:25] *** Quits: lenstr (lenstr@E0E80B8D.ED45D46B.DFEAE789.IP) (Ping timeout)
[18:15:33] <Ms2ger> Probably worth mentioning it in an issue, if there's one
[18:15:34] <nejucomo> I wanted an abstraction that can use any map implementation, so struct T<M, K, V> that has an M<K, V>
[18:15:42] <cuttle> kimundi: should i modify docs along with it?
[18:15:58] <cmr> nejucomo: T<K, V, M: Map<K, V>> ?
[18:16:37] <kimundi> cuttle: Sure
[18:18:34] <kimundi> nejucomo: higher kinded type parameters are a "we accept patches, but won't actively try to implement it right now" - kindo of feature
[18:19:32] *** Quits: hjr3 (hradtke@76463E20.615B56E6.43362C16.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[18:20:09] *** Joins: brianloveswords (brianloves@moz-CB223D1E.members.linode.com)
[18:21:10] <cuttle> kimundi: if all I change is a type, does it auto-generate the docs for that?
[18:21:56] <brianloveswords> brson: good to meet you, however briefly, on the way to Brussels! I was the Other Brian at JFK.
[18:23:52] *** Quits: canhtak (jeremy@moz-B3204E72.wl.t.ulaval.ca) (Quit: canhtak)
[18:24:25] <brson> brianloveswords: likewise! you reignited my interest in setting up rust badges
[18:24:27] <kimundi> cuttle: Ah, yeah the actual html pages are autogenerated. Just change the doccomment above the function if it contains anything that might have changed
[18:24:35] <cuttle> kimundi: all right, cool
[18:25:27] <bstrie> brson: how about a badge for hitting an ICE
[18:25:52] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[18:25:54] <bstrie> "ICE to meet you"
[18:26:09] *** Quits: ryeguy (Mibbit@EC0380F4.1C43967E.E9A87632.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[18:26:13] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[18:26:42] <cuttle> made a pull request! :D
[18:26:52] <jason_> who should i discuss the rust io/scheduler with? i'm trying to make an improvement but i've been reading the code and i need some background on why certain things work the way they do
[18:26:59] <cmr> jason_: brson
[18:27:24] <kimundi> cuttle: yay! :)
[18:27:36] <cuttle> literally my first pull request ever on github :p
[18:27:38] <myname> okay, my first ever lifetime issue
[18:27:42] <cuttle> or on any open-source project
[18:27:51] <cmr> cuttle: congratulations!
[18:27:52] <brianloveswords> cuttle: Congratulations!! :D
[18:27:53] <myname> i want to make a method that returns self
[18:28:00] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[18:28:00] <cuttle> haha thanks :D
[18:28:08] <jason_> brson: got a sec?
[18:28:28] <brianloveswords> brson: awesome! We'll hopefully have some tools and infrastructure in place within the next few months to make that really easy.
[18:28:34] <Ms2ger> myname, fn x(&'self self) -> &'self Foo?
[18:28:38] <cmr> brianloveswords: ohh, do you work on open badges?
[18:28:39] <myname> ah
[18:28:44] <brianloveswords> cmr: yep!
[18:28:46] <cmr> awesome!
[18:29:00] <Ms2ger> myname, that was just off the top of my head, though :)
[18:29:20] *** Joins: [squiddy] (squiddy@moz-A441D2CD.dynamic.cablesurf.de)
[18:29:20] <myname> Ms2ger: illegal lifetime 'self, the self lifetime must be declared
[18:29:31] *** Quits: JakeDust (jake@B058C83.2E9F275F.F546FA5F.IP) (Ping timeout)
[18:29:35] *** Quits: brendan (brendaneic@1DA4CBB6.897ED74E.4EA770CF.IP) (Quit: brendan)
[18:29:35] <cmr> myname: fn x<'a>(&'a self) -> &'a Foo
[18:30:15] <myname> looks fine
[18:30:17] *** Joins: rusti (rusti@moz-61B073BC.cpe.net.cable.rogers.com)
[18:30:19] <myname> thanks
[18:30:23] *** Joins: strcat (strcat@moz-61B073BC.cpe.net.cable.rogers.com)
[18:31:16] <brson> bstrie: maybe reporting an ICE?
[18:31:30] <brson> bstrie: for hitting an ICE we really would just have to take your word for it
[18:31:38] <brson> but maybe that's good enough - it would just be for fun
[18:32:07] <brson> anybody who complains about an ICE on IRC gets 'ICE to meet you'. would be everybody's first badge
[18:32:15] <cmr> hah
[18:32:27] <cmr> ICEs are fairly rare now
[18:32:32] <cmr> Mostly round 'self handlingl.
[18:32:44] *** Joins: JakeDust (jake@B058C83.2E9F275F.F546FA5F.IP)
[18:33:10] <cuttle> is there a non-async version of spawn_with like call_with?
[18:33:20] *** Quits: victorporof (victorporo@35F65A40.E0F96B01.D111398B.IP) (Quit: victorporof)
[18:33:35] <kimundi> cuttle: ... That would be a function call ;)
[18:33:54] <cuttle> kimundi: well, doesn't spawn_with do something about ownership that normal argument-passing doesn't?
[18:34:02] <kimundi> no
[18:34:04] <cuttle> oh ok
[18:34:07] <cuttle> haha
[18:34:32] *** Joins: sebcrozet (sebcrozet@moz-F96421F3.w80-13.abo.wanadoo.fr)
[18:34:36] <kimundi> spawn_with is just a normal function that makes it easier to move values into a heap closure
[18:34:43] <cuttle> ok
[18:35:00] <cuttle> how would I solve this then? I'm doing this: .and_then(|result| { self.consume(lex::RightParen).and_then(|_| Some(result)) })
[18:35:05] <cuttle> and it complains about moving result into the closure
[18:36:27] *** Joins: lucian (lucian@moz-22A14C6A.cable.virginmedia.com)
[18:36:36] <kmc> the workaround I usually see is to move result into a Cell outside the closure, and then .take() it from within the closure
[18:36:42] <kimundi> hm, yeah that seems to be the thing spawn_with makes easier. You need to use a Cell for that
[18:36:56] <kimundi> right, what kmc said
[18:37:41] <kimundi> let cell_value = Cell::new(value); .... |...| { ...  let val = cell_value.take(); ...  }
[18:37:58] <cuttle> ok
[18:38:07] * cuttle decides to just use match{} instead of and_then() :p
[18:38:10] *** Quits: lucian (lucian@moz-22A14C6A.cable.virginmedia.com) (Ping timeout)
[18:38:29] <kimundi> The problem with closures in this case is basically just that we can't make sure that they get called more than once
[18:38:34] * cuttle nods
[18:38:47] *** Joins: canhtak (jeremy@moz-B3204E72.wl.t.ulaval.ca)
[18:38:53] <kimundi> And because you can't move a thing more than once, those operations aren't allowed
[18:40:17] <cuttle> makes sense
[18:40:27] <kimundi> Cell basically wraps that as a runtime check. You move a value into the Cell once, and in theory can call .take()  any number of times on it afterwards. But only the first take() will return the value, all other will will cause a runtime failure
[18:40:45] <cuttle> ah so Cells just circumvent the type system since it's technically too restrictive
[18:41:04] <cuttle> but making the type system check it would require theorem-proving/halting problem stuff
[18:41:07] <kimundi> And if the closure get's called only once at most, take() will never fail.
[18:41:16] <brson> jason_: yes
[18:42:23] <tikue_> From r/programming's post to cmr's "state of rust": This is the first I've seen this and I am knocked on my ass. I am doing mostly apps in JS now and this language is really beautiful to see and captures many of the things I love about JS. So much nicer than Dart. Thank you for this, mystery Reddit poster.
[18:42:32] <tikue_> thought that was nice
[18:42:53] <tjc> tikue_: Link? I'd love to tweet a link to that comment from @rustlang :-)
[18:43:04] <cmr> tikue_: they're completely confused, but I suppose it's nice :P
[18:43:13] <tikue_> tjc, http://www.reddit.com/r/programming/comments/1nxs2i/the_state_of_rust_08/ccna4f9
[18:43:18] <tikue_> cmr, are they? I didn't read further
[18:43:31] <cmr> You don't need to read further to see their confusion!
[18:43:41] <tjc> cmr: well, they're saying "it's nicer than Dart", which may be true
[18:43:50] <tjc> and also "it shares some nice things with JS", which may also be true
[18:43:53] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[18:43:57] *** Quits: fabiand (fabiand@moz-1AEA40E0.adsl.alicedsl.de) (Quit: Verlassend)
[18:44:04] <tjc> Rust certainly isn't intended to do the same things JS is used for, but the person isn't saying that, at least not outright :-)
[18:44:24] <cmr> I thought it was implicit, especially if they're comparing to Dart
[18:45:27] <tikue_> I don't know, I suppose blind flattery isn't always flattering :P anyway, it was a cute comment
[18:45:29] *** Quits: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com) (Ping timeout)
[18:48:34] <thewonderidiot> hmm, so I've been thinking about std::libc. Last night I was debugging an issue with std::os::rename_file failing, because libc::rename was failing
[18:48:46] <thewonderidiot> rename() returns -1 on fail but also sets errno
[18:49:11] <thewonderidiot> and I had to write a C program to emulate the behavior so I could actually check what errno was being set to
[18:49:26] <thewonderidiot> as far as I can tell there isn't a way to access errno through std::libc
[18:49:41] <tikue_> cmr, re: ICE's being rare, I think I have one that isn't on anyone's radar
[18:49:46] <tikue_> not sure though...let me gist it
[18:49:57] <cmr> thewonderidiot: std::os::erno
[18:50:00] <cmr> errno*
[18:50:16] *** Quits: nejucomo (Adium@moz-434492BB.dsl.static.sonic.net) (Ping timeout)
[18:50:34] <thewonderidiot> oh there it is, heh
[18:50:54] <thewonderidiot> but anyways, I feel like os::rename_file should be checking errno instead of just returning boolean failure
[18:51:06] <thewonderidiot> maybe as a Result or something
[18:51:16] <Yoric> That sounds very likely.
[18:51:24] <Yoric> cmr: What's the semantics of errno under Windows?
[18:51:39] *** Quits: voxpopuli (fanservice@814775CD.6ED3ADAB.689607DE.IP) (Ping timeout)
[18:51:42] <myname> gnaaaaa
[18:51:44] <Ms2ger> Eww, errno
[18:51:54] <Yoric> That's what I feared.
[18:52:16] <Yoric> I seem to remember that errno is practically always false under Windows.
[18:52:21] <strcat> thewonderidiot: the error handling needs to be overhauled, it's a known issue
[18:52:26] <myname> mismatched types: expected foo::bar::Bar but found bar::Bar
[18:52:30] <strcat> we need an enum of the error types like C++11 does
[18:52:32] <myname> how do i avoid this?
[18:52:34] <strcat> and just return that
[18:52:49] <myname> i have mod bar; at the top of foo.rs
[18:52:57] <strcat> or Result<Foo, ErrorTypeEnum>
[18:53:02] <myname> if i don't, i get errors about unknown types
[18:53:13] <thewonderidiot> oh yeah, that would be nice
[18:53:16] <cmr> Yoric: GetError or something silly.
[18:53:25] <cmr> GetLastError
[18:53:26] <myname> if i do, it starts complaining about arbitrary deep definitions
[18:53:45] <cmr> myname: Do you have two `mod bar`?
[18:53:56] <tikue_> https://gist.github.com/tikue/c02b3ed8af0522123691
[18:54:01] <tikue_> ^ as minimal as i could make it with the ICE
[18:54:06] <cmr> Oh vector matching.
[18:54:09] <cmr> Yeah I buy it
[18:54:19] <myname> cmr: yes, in two different files
[18:54:42] <cmr> myname: that is why. It's creating two *separate* modules, with the same contents, at different points in the module tree.
[18:54:51] <myname> ah
[18:54:54] <cmr> http://static.rust-lang.org/doc/master/tutorial.html#crates-and-the-module-system
[18:54:56] <tikue_> cmr, is there a related issue?
[18:55:03] <cmr> 18.4
[18:55:06] <cmr> tikue_: no idea
[18:55:24] <myname> very confusing that it can use bar::Bar if the main.rs has mod bar, but it cannot use Bar if it is inside main.rs
[18:55:50] *** Joins: ceninan (ceninan@moz-78F4449A.cust.telenor.se)
[18:56:47] <myname> cmr: so, now i get "unresolved name: bar::Bar in foo.rs
[18:57:44] *** Joins: engla (engla@moz-9B69FE7C.selucle.dyn.perspektivbredband.net)
[18:58:57] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[19:00:31] *** Quits: Kruppe (user@moz-253119B0.esg.uwaterloo.ca) (Ping timeout)
[19:01:31] *** Quits: [squiddy] (squiddy@moz-A441D2CD.dynamic.cablesurf.de) (Ping timeout)
[19:02:00] <myname> :/
[19:02:34] <jason_> error: macro definitions are not stable enough for use and are subject to change
[19:03:25] *** Joins: victorporof (victorporo@35F65A40.E0F96B01.D111398B.IP)
[19:03:39] <sw17ch> Could some one who knows what ICE means add it to this? https://github.com/mozilla/rust/wiki/The-Rusticon
[19:03:56] <brson> https://github.com/mozilla/rust/wiki/Meeting-weekly-2013-10-08
[19:04:51] *** Joins: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com)
[19:04:51] *** ChanServ sets mode: +ao pcwalton pcwalton
[19:04:54] *** Quits: nattofriends (tsutsumi@moz-4CEEC7AA.warosu.org) (Ping timeout)
[19:04:54] *** Quits: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net) (Ping timeout)
[19:04:54] *** Quits: [o__o] (~o__o@moz-24EBFAC7.me) (Ping timeout)
[19:04:54] *** Quits: ldlework (ldlework@6AEB83D1.B92A0FC.176AC772.IP) (Ping timeout)
[19:04:54] *** Quits: rossm (rossm@moz-EE3BB1DC.br.br.cox.net) (Ping timeout)
[19:04:54] *** Quits: sp3d (a@6361F3B1.19CD1E54.8354FB35.IP) (Ping timeout)
[19:05:02] <Ms2ger> sw17ch, done
[19:05:02] *** Quits: oldmanstan (glesica@moz-CA910636.net) (Ping timeout)
[19:05:02] *** Quits: bblum (bblum@moz-2B41ACB5.andrew.cmu.edu) (Ping timeout)
[19:05:04] *** Joins: bblum (bblum@moz-2B41ACB5.andrew.cmu.edu)
[19:05:06] *** Quits: mjrosenb (mjrosenb@moz-B3592BDA.club.cc.cmu.edu) (Ping timeout)
[19:05:07] *** Quits: tikue_ (tikue_star@49825264.28259105.689607DE.IP) (Connection reset by peer)
[19:05:12] *** Joins: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net)
[19:05:14] *** Quits: dignan (dignan@37A38C73.9CE91D06.839F6EC0.IP) (Ping timeout)
[19:05:14] *** Quits: madmoose (Hat@moz-E1973371.nerp.net) (Ping timeout)
[19:05:14] *** Quits: flu_ (flu@1B44C715.B5AB1363.2E11A1C0.IP) (Ping timeout)
[19:05:15] *** Joins: dignan (dignan@37A38C73.9CE91D06.839F6EC0.IP)
[19:05:15] *** Joins: madmoose (Hat@moz-E1973371.nerp.net)
[19:05:16] *** Joins: flu_ (flu@1B44C715.B5AB1363.2E11A1C0.IP)
[19:05:17] *** Joins: rossm (rossm@moz-EE3BB1DC.br.br.cox.net)
[19:05:17] *** Joins: mjrosenb (mjrosenb@moz-B3592BDA.club.cc.cmu.edu)
[19:05:18] *** Quits: ruzu (ruzu@moz-2AAEC710.austin.res.rr.com) (Connection reset by peer)
[19:05:21] <nsf> hehe, LLVM is good, that's std::make_tuple(7, 42) in asm: movabsq $30064771114, %rax
[19:05:23] *** Quits: teratorn (teratorn@moz-5363C32C.teratorn.org) (Ping timeout)
[19:05:24] *** Joins: [o__o] (~o__o@moz-24EBFAC7.me)
[19:05:24] *** Joins: oldmanstan (glesica@moz-CA910636.net)
[19:05:24] *** Quits: pjenvey (pjenvey@moz-B23F7990.org) (Ping timeout)
[19:05:25] *** Joins: pjenvey (pjenvey@moz-B23F7990.org)
[19:05:26] *** Quits: TD-Linux (TD-Linux@E338EB99.2B4F0AE0.A0A36CCE.IP) (Ping timeout)
[19:05:26] *** Joins: tikue_ (tikue_star@49825264.28259105.689607DE.IP)
[19:05:28] *** Joins: [squiddy] (squiddy@moz-A441D2CD.dynamic.cablesurf.de)
[19:05:32] *** Quits: acrichto (acrichto@moz-69F2E428.ugrad.cs.cmu.edu) (Ping timeout)
[19:05:33] *** Joins: teratorn (teratorn@moz-5363C32C.teratorn.org)
[19:05:34] *** Joins: nattofriends (tsutsumi@moz-4CEEC7AA.warosu.org)
[19:05:36] *** Quits: lkuper (lkuper@moz-D862222C.dhcp-bl.indiana.edu) (Ping timeout)
[19:05:37] *** Joins: acrichto (acrichto@moz-69F2E428.ugrad.cs.cmu.edu)
[19:05:41] *** Joins: TD-Linux (TD-Linux@E338EB99.2B4F0AE0.A0A36CCE.IP)
[19:05:43] *** Joins: ldlework (ldlework@6AEB83D1.B92A0FC.176AC772.IP)
[19:05:44] *** Joins: ruzu (ruzu@moz-2AAEC710.austin.res.rr.com)
[19:05:47] <nsf> I got lost at first trying to find 42 in the asm output :D
[19:05:52] *** Joins: lkuper (lkuper@moz-D862222C.dhcp-bl.indiana.edu)
[19:06:08] <nsf> 30064771114 is 0x70000002a in hex ;)
[19:06:27] *** Quits: strcat (strcat@moz-61B073BC.cpe.net.cable.rogers.com) (Ping timeout)
[19:06:39] *** Quits: nano (nano@moz-74CAD1CA.superkabel.de) (Connection reset by peer)
[19:06:41] <nsf> sorry for the offtopic
[19:06:45] *** Joins: strcat (strcat@moz-61B073BC.cpe.net.cable.rogers.com)
[19:06:55] *** Quits: lht (lht@A1371695.366ACFAA.7BA1798C.IP) (Quit: lht)
[19:07:06] *** Joins: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com)
[19:08:05] *** Quits: sebcrozet (sebcrozet@moz-F96421F3.w80-13.abo.wanadoo.fr) (Ping timeout)
[19:08:21] <sw17ch> Ms2ger: thank you
[19:08:27] * myname cannot seperate code properly :(
[19:08:45] *** Joins: sebcrozet (sebcrozet@moz-F96421F3.w80-13.abo.wanadoo.fr)
[19:08:47] <brson> there are 74 bay area rustafarians so far!
[19:09:00] <cuttle> i am learning to do the rust scope dance
[19:09:13] <cuttle> to satisfy the the type system wrt references
[19:09:39] *** Quits: BizarreCake (BizarreCak@moz-361FE9B2.dynamic.barak-online.net) (Ping timeout)
[19:10:01] *** Quits: victorporof (victorporo@35F65A40.E0F96B01.D111398B.IP) (Ping timeout)
[19:10:57] <tjc> TBH, I don't like "rustafarian" -- it's cute, but Rastafari is a real religion that some people are serious about and I feel like making a pun based on it is not respectful to that
[19:11:08] <tjc> if there was a Rust pun involving, like, "Catholic" or "Jewish", we probably wouldn't use it
[19:11:13] <tjc> I should probably be telling erickt that, though =P
[19:11:42] *** Quits: nsf (nsf@moz-EEF3238A.convex.ru) (Quit: WeeChat 0.4.1)
[19:12:30] <Ms2ger> Rustolic?
[19:12:32] <SiegeLord> It's hard to make a pun with Catholic and Jewish...
[19:12:48] <SiegeLord> That sounds like a pun on alcoholic
[19:12:52] <sw17ch> Rustian
[19:13:14] <Ms2ger> Rustish
[19:13:21] <Ms2ger> No, that doesn't have as much of a ring to it
[19:13:23] <SiegeLord> I think silly names for people using thing X are silly anyway :P
[19:13:28] <sw17ch> {Americ, Candai, Floridi}an
[19:13:58] <Ms2ger> Candaian sounds nice
[19:14:27] <ianj> b
[19:14:29] <sw17ch> Maybe it's best just to say Programmers use Rust, but not all of them.
[19:18:48] <myname> rusty
[19:20:12] <sw17ch> Re: the notes (https://github.com/mozilla/rust/wiki/Meeting-weekly-2013-10-08). When dealing with the function type syntax update, would it be awful to also have closures be representable as `closure(T,U) -> R` or something similar? The syntax suggestions as listed in the notes leave closures just a little bit jarring when compared to the other types.
[19:21:33] *** Quits: mikezaby (mikezaby@moz-908EA8DE.home.otenet.gr) (Input/output error)
[19:23:18] <SiegeLord> Pretty exciting to see all that discussion about closures
[19:23:42] <SiegeLord> I don't get what "fn fB> { ... }" means though
[19:23:45] *** Joins: mib_r5jw18 (Mibbit@moz-FCF1ABDB.icpnet.pl)
[19:23:55] <sw17ch> Procs are a particularly neat idea in that context, SiegeLord 
[19:27:56] *** Quits: sebcrozet (sebcrozet@moz-F96421F3.w80-13.abo.wanadoo.fr) (Ping timeout)
[19:28:25] *** Quits: ceninan (ceninan@moz-78F4449A.cust.telenor.se) (Client exited)
[19:30:10] *** Joins: sebcrozet (sebcrozet@moz-F96421F3.w80-13.abo.wanadoo.fr)
[19:30:53] <bstrie> tjc: has hell frozen over, or is that really you on reddit
[19:31:03] *** Joins: Skif_ (emschwar@moz-CA025D57.ip.mcleodusa.net)
[19:31:48] *** Quits: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net) (Ping timeout)
[19:34:00] <tjc> bstrie: I've been using reddit since 2006 *waves cane* *suggests that the youths should get off his personal area of Poa pratensis
[19:34:33] *** Quits: Jackneill (Jackneill@moz-523C6191.pool.digikabel.hu) (Input/output error)
[19:36:42] *** Joins: lfox (larryfox@moz-343B6F0C.nyc.biz.rr.com)
[19:36:52] *** Joins: hjr3 (hradtke@1A0AE795.28A5F6C3.A2D40ED2.IP)
[19:38:00] *** Joins: Clinteger (Clint@9F6C6756.C240DEE8.A430FDC1.IP)
[19:38:20] *** Quits: Palmik (palmik@moz-11EA685D.pks.muni.cz) (Quit: Lost terminal)
[19:38:41] *** Quits: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com) (Quit: pcwalton)
[19:39:18] *** Joins: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com)
[19:39:18] *** ChanServ sets mode: +ao pcwalton pcwalton
[19:39:31] <kimundi> cuttle: Re earlier: closures being callable more than once isn't even a big problem. In fact, we already have support for once closures behind a compiler flag that would encapsulate just that. The problem is that closures are currently a bit in design-flux, so no energie get's thrown into improving something that might get thrown out later
[19:39:59] <cuttle> kimundi: ah, so things will get better
[19:41:07] <kimundi> Well... That's subjective xD. We're converging on something stable and maintainable for the 1.0 release, but there are quite a few nice features that won't make it till after 1.0
[19:41:56] <cuttle> haha all right
[19:46:10] *** Joins: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net)
[19:47:50] <SiegeLord> I dunno, unification of closures and traits sounds awesome... traits are one of the best features of Rust
[19:48:36] *** Quits: Clinteger (Clint@9F6C6756.C240DEE8.A430FDC1.IP) (Ping timeout)
[19:48:42] *** Quits: sebcrozet (sebcrozet@moz-F96421F3.w80-13.abo.wanadoo.fr) (Ping timeout)
[19:49:27] *** Joins: sebcrozet (sebcrozet@moz-A855F6C0.w82-127.abo.wanadoo.fr)
[19:49:38] *** Quits: sebcrozet (sebcrozet@moz-A855F6C0.w82-127.abo.wanadoo.fr) (Quit: Gone)
[19:50:04] <myname> http://pastebin.com/eUCVTMKJ no idea how to do it right
[19:50:05] <SiegeLord> Is fn foo<T, K<T>> valid syntax in Rust?
[19:50:43] <engla> no
[19:51:36] <kimundi> SiegeLord: Unification is nice, but not what happens in short term :P
[19:51:58] <SiegeLord> Oh right, it's foo<T, K: T2<T>>
[19:52:18] <SiegeLord> So I wonder how that will interact with ability to be generic of constants
[19:52:27] <SiegeLord> E.g. foo<1 < 2, T>
[19:52:52] <SiegeLord> If that feature is added, there'll have to be new syntax for it
[19:52:56] *** Joins: Amaranth (travis@moz-F81BB56A.cpe.cableone.net)
[19:53:12] <SiegeLord> kimundi: I think with focused work it is possible
[19:53:15] <sw17ch> are there plans for type-level naturals?
[19:53:20] <sw17ch> because that would be great.
[19:53:32] <myname> i'm feeling a bit ignored xD
[19:53:46] *** Joins: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net)
[19:53:52] <kmc> hi myname
[19:54:00] <myname> lol
[19:54:17] <SiegeLord> myname: Add a use bar; in foo.rs
[19:54:30] *** Joins: nejucomo (Adium@moz-A1B9243C.static-ip.telepacific.net)
[19:54:47] <kmc> is that "WITH mod bar" in foo.rs? cause then it makes sense and yes, it should be 'use' instead
[19:54:55] <SiegeLord> Alternatively, ::bar::Bar should work too
[19:54:57] *** Quits: Skif_ (emschwar@moz-CA025D57.ip.mcleodusa.net) (Ping timeout)
[19:55:00] *** Quits: tjc (tjc@moz-BBE3ABD.mv.mozilla.com) (Quit: zzzzzzzzzz)
[19:55:01] <myname> unresolved import: found bar in ??? bt it is private
[19:55:03] <SiegeLord> And yeah, mod bar; stays
[19:55:26] <myname> failed to resolve import bar
[19:56:29] *** Quits: Ms2ger (Ms2ger@4C3AB550.528524A1.F15B0BB3.IP) (Quit: nn)
[19:56:36] <SiegeLord> Oh, need to make the module public for use bar;
[19:56:45] *** Quits: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Ping timeout)
[19:56:53] <myname> how do i do that?
[19:56:54] <kmc> so I'm building a library crate and would like to expose some of its C code to inlining by users of the crate, a la https://github.com/mozilla/rust/wiki/Mixed-language-link-time-optimization
[19:57:03] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[19:57:04] <SiegeLord> I actually think it's a bug, myname
[19:57:13] <kmc> do you think there would be any hope of getting the clang output into the Rust metadata so that it can be imported as a normal Rust library crate
[19:57:15] <SiegeLord> But anyway, just do pub mod bar;
[19:57:15] *** Joins: carllerche (carllerche@6B070D22.7E6A0813.1428D117.IP)
[19:57:36] <kmc> or will all the users of that library need a special link step with clang
[19:58:33] <myname> okay, pub mod in main + use in foo seems to work
[19:58:37] <myname> interesting
[19:59:10] <kmc> I wonder if 'mod' vs 'use' would be less confusing if the syntax for 'mod foo;' were something like 'mod foo = extern;'
[19:59:12] <SiegeLord> I don't think you should have to make the module public for that to work... but that's the way it is now
[19:59:56] * kmc considers posing his inlining question to the mailing list instead
[20:00:08] <cmr> The new privacy/visibility changes landed.
[20:00:09] <kimundi> The module system is described in the tutorial, it covers stuff like "difference between mod and use" and "don'T mod twice"
[20:00:37] <SiegeLord> I guess I should update my compiler... maybe it'll fix this issue
[20:02:54] *** Quits: nkoep (nik@moz-2AD6C587.pool.mediaways.net) (Ping timeout)
[20:03:15] <kimundi> nmatsakis: Reading the meeting notes, I'd have a naming proposal for prop 
[20:03:21] <kimundi> proc*
[20:03:53] <kimundi> That is: sendfn, or maybe sndfn to keep it short
[20:04:58] <kimundi> Wait... ~fn are not always :Send, right? Nevermind then. :P
[20:06:58] <nmatsakis> kimundi: funny, sendfn was my original keyword way back when for ~fn :)
[20:07:09] <kimundi> haha
[20:07:32] *** Quits: exobit_ (textual@moz-E06F46F0.corp.bitshelter.com) (Quit: )
[20:07:45] <kimundi> hm... with the do-change... dofn?
[20:08:10] <kimundi> Just thinking out loud :P
[20:08:20] <SiegeLord> No more do 5.times ?
[20:08:32] <kimundi> Nope, apparently
[20:09:29] *** Joins: CarpNet (Alasdair@moz-EF831A5E.cable.virginmedia.com)
[20:09:46] <kimundi> The change makes sense in context... But it's kinda sad how we're rapidly loosing that kind of higher order fn call sugar...
[20:10:51] *** Joins: nsf (nsf@moz-EEF3238A.convex.ru)
[20:11:06] *** Quits: jordyd (jordyd@moz-F392131C.seg39.ucf.edu) (Ping timeout)
[20:12:45] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Input/output error)
[20:13:11] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[20:15:00] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Ping timeout)
[20:17:20] *** Joins: nkoep (nik@moz-58B371D.vpn.rwth-aachen.de)
[20:19:27] *** Quits: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net) (Quit: sw17ch)
[20:20:30] *** Quits: lfox (larryfox@moz-343B6F0C.nyc.biz.rr.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[20:20:36] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[20:20:36] *** ChanServ sets mode: +o pnkfelix
[20:20:36] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[20:21:27] *** Joins: Kruppe (user@moz-253119B0.esg.uwaterloo.ca)
[20:23:17] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Ping timeout)
[20:23:51] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[20:25:14] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[20:25:44] *** Joins: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[20:26:10] *** Joins: eholk (eholk@moz-BA312F07.crest.iu.edu)
[20:29:50] <cmr> Announcement: IRFY is now back to a roughly ~20 minute delay after a PR lands.
[20:29:52] *** Quits: carter (carter@moz-BDFE46F6.nyc.biz.rr.com) (Ping timeout)
[20:30:50] *** Joins: john_ (john@moz-93854A70.in-addr.arpa)
[20:30:50] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[20:32:02] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[20:32:22] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[20:32:28] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[20:32:30] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Input/output error)
[20:32:57] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[20:34:04] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[20:34:52] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Ping timeout)
[20:37:49] *** Joins: jgilbert (jgilbert@moz-BBE3ABD.mv.mozilla.com)
[20:38:06] *** Joins: andrew-__ (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[20:38:43] *** Joins: victorporof (victorporo@35F65A40.E0F96B01.D111398B.IP)
[20:39:19] *** Quits: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Ping timeout)
[20:41:17] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[20:42:01] *** Joins: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu)
[20:42:35] *** Quits: mib_r5jw18 (Mibbit@moz-FCF1ABDB.icpnet.pl) (Quit: http://www.mibbit.com ajax IRC Client)
[20:45:08] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[20:45:09] *** Quits: victorporof (victorporo@35F65A40.E0F96B01.D111398B.IP) (Ping timeout)
[20:46:04] *** Joins: mib_0qglu4 (Mibbit@553AB9BD.CCC087F6.8AB1CE22.IP)
[20:46:44] *** Quits: mib_0qglu4 (Mibbit@553AB9BD.CCC087F6.8AB1CE22.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[20:47:50] *** Joins: tjc (tjc@moz-7B0110AD.mv.mozilla.com)
[20:47:50] *** ChanServ sets mode: +o tjc
[20:48:38] *** Quits: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com) (Quit: pcwalton)
[20:49:03] *** Joins: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com)
[20:49:03] *** ChanServ sets mode: +ao pcwalton pcwalton
[20:50:28] *** Quits: tjc (tjc@moz-7B0110AD.mv.mozilla.com) (Ping timeout)
[20:54:36] *** Joins: tjc (tjc@moz-BBE3ABD.mv.mozilla.com)
[20:54:36] *** ChanServ sets mode: +o tjc
[20:57:40] *** Quits: engla (engla@moz-9B69FE7C.selucle.dyn.perspektivbredband.net) (Ping timeout)
[20:57:53] *** Quits: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net) (Ping timeout)
[20:58:14] *** Joins: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net)
[20:59:03] *** Joins: Cage (Cage@moz-A969897A.telkomadsl.co.za)
[21:00:54] *** Quits: tikue_ (tikue_star@49825264.28259105.689607DE.IP) (Quit: Leaving)
[21:00:58] *** Joins: tikue_ (tikue_star@49825264.28259105.689607DE.IP)
[21:01:05] *** Joins: lucian (lucian@moz-22A14C6A.cable.virginmedia.com)
[21:01:15] *** Quits: tikue_ (tikue_star@49825264.28259105.689607DE.IP) (Client exited)
[21:01:31] *** Joins: tikue_ (tikue_star@49825264.28259105.689607DE.IP)
[21:02:13] *** Joins: bjz_ (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[21:02:22] *** Quits: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[21:04:11] <tjc> brson: r? https://github.com/mozilla/rust/pull/9732 (I r?'ed jack at first, but I think he's probably still traveling)
[21:07:00] *** Joins: tgummerer (tgummerer@moz-5DC8FA44.tbcn.telia.com)
[21:08:35] *** Joins: lex (lex@moz-738B3E34.bootp.virginia.edu)
[21:09:51] *** Parts: Cage (Cage@moz-A969897A.telkomadsl.co.za) (Leaving...)
[21:12:16] *** Joins: robertknight (robertknig@moz-54528EE0.wby.mendeley.com)
[21:12:41] *** Quits: lmandel (lmandel@13F2CEC5.7672369.D8E68FF6.IP) (Quit: lmandel)
[21:13:10] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[21:13:16] *** Quits: andrew-__ (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Ping timeout)
[21:13:42] <SiegeLord> myname: Just so you know, the trunk version of rustc doesn't need that module to be pub anymore
[21:14:12] <lex> Hi, is there a way to specify which version of rust is used to compile a file?
[21:14:28] <myname> yeah nice, i'm still at debugging stuff *g*
[21:14:33] <lex> The 0.8 Manual and tutorial don't seem to mention anything.
[21:14:35] <tjc> lex: Not right now, but we plan to develop that
[21:14:49] <myname> it's kinda frustrating how you shrink the errors message by message
[21:14:55] <myname> you think it's the last one
[21:14:58] <lex> tjc: alright, thanks.
[21:14:59] *** Quits: heftig (heftig@moz-584F8497.dip0.t-ipconnect.de) (Ping timeout)
[21:15:01] *** Parts: lex (lex@moz-738B3E34.bootp.virginia.edu) ()
[21:15:06] <tjc> lex: https://github.com/mozilla/rust/issues/3392 - language version markers
[21:15:12] <myname> BAM 20 new ones which you don'2 know how to solve
[21:15:19] <tjc> alas, the person it's assigned to has left the team, but it is on the second milestone
[21:15:43] <cmr> tjc: is that official, graydon has moved on?
[21:15:45] <tjc> myname: "99 compile errors to fix, 99 compile errors, fix an error, recompile, 100 compile errors to fix"
[21:15:45] *** Quits: robertknight (robertknig@moz-54528EE0.wby.mendeley.com) (Ping timeout)
[21:15:56] <Amaranth> Oh my, glob use and macros have to be turned on now
[21:15:57] <tjc> cmr: graydon announced it on the mailing list -- he will remain at Mozilla but on a different team (not Rust)
[21:15:59] <myname> i.e. i'm matching on State(foo) with foo being a vector of pointers to something
[21:16:09] <Amaranth> Time to go fix everything
[21:16:10] <myname> and i get a message about foo not being mutable
[21:16:20] *** Joins: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[21:16:21] <myname> no idea how to work with that
[21:16:56] <dbaupp> myname: code?
[21:17:15] <myname> when i'm back home
[21:19:00] *** Quits: Kruppe (user@moz-253119B0.esg.uwaterloo.ca) (Ping timeout)
[21:19:43] <bstrie> is siphash the hash used for hashmaps?
[21:19:58] <strcat> yes
[21:20:02] *** Joins: lex (lex@moz-738B3E34.bootp.virginia.edu)
[21:20:22] *** Joins: heftig (heftig@moz-208CB75C.dip0.t-ipconnect.de)
[21:21:52] <bstrie> strcat: I'm not familiar with C++ enough to know if there's a "default" hashmap construct, but if so, does it use that silly not-actually-a-hash hash?
[21:22:01] <lex> Sorry, want to make sure I asked my question correctly. When compiling on another machine, rustc gives an error saying there's a conflict between 0.7 and 0.8 versions of extra. Is there a way to specify which version to use?
[21:22:15] <strcat> bstrie: libc++ and libstdc++ use the identity function as the hash for integers
[21:22:25] <strcat> and something hokey for strings
[21:22:32] <bstrie> lex: generally I just erase the old ones, but there might be a flag you can pass
[21:22:34] <lex> The specific error is "multiple matching crates"
[21:23:19] <bstrie> strcat: right, but I'm curious if STL or boost contain hashmaps, and if they use that hash
[21:23:30] <bstrie> i.e. if they're vulnerable to hash collision attacks by default
[21:23:33] <kimundi> lex: OLd libraries are still around in the filesystem. rustc is smart enough to find them all, but not smart enough to know which it should use
[21:23:49] *** Quits: eiz (eiz@B49E36E9.6C697A7D.D1800747.IP) (Ping timeout)
[21:23:53] <strcat> bstrie: libc++/libstdc++/boost all use the identity function for integers and a hokey hash like FNV for strings
[21:24:00] <strcat> and they don't use a keyed hash for strings
[21:24:10] <strcat> so yes they are vulnerable
[21:24:11] <bstrie> haha, so they don't even provide a safe option?
[21:24:14] <strcat> no
[21:24:26] <strcat> python doesn't either, because their randomization doesn't work and only applies for strings
[21:24:32] <lex> kimundi: so, is there a way to tell rustc which to use?
[21:24:39] <bstrie> strcat: what, even in 3.3?
[21:24:43] <bstrie> I thought they fixed that
[21:24:44] <strcat> bstrie: even in 3.3
[21:24:47] <strcat> nope
[21:24:52] <strcat> they added randomization for string hashes
[21:24:54] <strcat> but it's incorrect
[21:24:57] <bstrie> haha
[21:25:02] <bstrie> is there an article about this?
[21:25:06] <bstrie> how did they not notice?
[21:25:11] <strcat> they were told to use siphash but refused because it was something like 5% slower on small strings
[21:25:15] <strcat> bstrie: they don't care
[21:25:17] <kimundi> lex: Not right now. Well technically there is, but that's not fined graded enough for all thoses errors
[21:25:25] <strcat> it's security theater ;p, they can say they fixed it but they really didn't
[21:25:27] <bstrie> strcat: do you think we shouldn't care?
[21:25:29] <kimundi> lex: Just delte the old libraries
[21:25:32] <strcat> it's "harder" to DoS python now
[21:25:35] <strcat> bstrie: we should care
[21:25:35] <lex> kimundi: what about `extern mod extra(vers=
[21:25:38] <bstrie> kk
[21:25:45] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[21:26:06] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[21:26:17] <kimundi> lex: That's what I mean, it works in principle for versions.... But we change the version only once all three months, so it'S useless for day-to-day work
[21:26:53] <kimundi> because two identical versions with different hash still conflict the same way afaik
[21:27:53] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[21:28:01] <Thiez> so why does this work:
[21:28:04] <Thiez> rusti: fn foo<T: Sized>(_:T) {} foo(5)
[21:28:04] -rusti- ()
[21:28:10] <Thiez> but I can't do this:
[21:28:14] <Thiez> ~5 as ~Sized
[21:28:18] <Thiez> rusti: ~5 as ~Sized
[21:28:18] -rusti- <anon>:7:9: 7:21 error: failed to find an implementation of trait std::kinds::Sized for int
[21:28:18] -rusti- <anon>:7          ~5 as ~Sized
[21:28:19] -rusti-                   ^~~~~~~~~~~~
[21:28:19] -rusti- application terminated with error code 101
[21:28:32] <kimundi> Thiez: Because Sized is a kind/buildin trait
[21:28:45] <Thiez> yes but int still implements it, or foo wouldn't work
[21:28:50] <kimundi> Thiez: Afaik as ~Send and as ~Freeze doesn't work either
[21:28:55] <Thiez> no I tried those too :)
[21:29:15] <lex> kimundi: oh ok. gotcha. 
[21:29:20] <kimundi> Well if those work, then it'S just because SIzed is not done yet :P
[21:29:31] <Thiez> they don't work :)
[21:29:43] <kimundi> It'S part of DST after all, which did not yet land yet
[21:29:51] <Thiez> DST?
[21:29:56] <lex> kimundi, bstrie: thanks for the pointers! you can have them back now ... :P
[21:29:59] <Thiez> ah, dynamically sized types
[21:30:00] <kimundi> Ah, they don't work
[21:30:09] <kimundi> Then it's by design I think
[21:30:19] <tiffany> I think this is the first time anyone has hit on me in private message
[21:30:22] <Thiez> but I think it would make sense for the built-in traits to act like traits in this case
[21:30:24] <tiffany> on this network, that is
[21:30:40] <bstrie> lex: thanks, I'm glad that I can give this pointer to someone else now
[21:30:50] <kimundi> Dynamic sized types: Making [T] and Trait exist in the type system outside of ~[T] and ~Trait (And also & and @)
[21:31:11] <kimundi> Thiez: Well, what would it buy you? They don't offer any methods
[21:31:30] <Thiez> not much I suppose, but it would be slightly more consistent
[21:31:47] <kimundi> Yeah
[21:31:59] <Thiez> I was wondering if it would make sense for a custom type to declare that it implements such a built-in trait
[21:32:03] <kimundi> There I agree :)
[21:32:38] <Thiez> MySendablePointer<T> implements Send<T> {} <- or something along those lines
[21:32:54] *** Joins: brendan (brendaneic@2D24BE81.5E7911EA.DA40C4B3.IP)
[21:32:58] <kimundi> The point of them is that they automatically get implemented for types and it being correct
[21:33:23] <kimundi> Being able to implement them yourself would invalidate the reason we have them at all
[21:33:25] <Thiez> https://github.com/mozilla/rust/issues/9509 <- I was looking at strcats commentshere
[21:34:22] *** Joins: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se)
[21:35:22] <kimundi> Yeah, but that's more an issue that seems to be solvable with an unsafe attribute or so
[21:35:47] <Thiez> that unsafe attribute would be equal to just implementing the built-in trait, would it not? :p
[21:35:54] <kimundi> No
[21:36:09] <kimundi> The issue is not implementing vs not impp
[21:36:32] <kimundi> The issue is not implementing vs not implementing, it's "only implement if those other T implements"
[21:36:57] <kimundi> Basically, telling rustc to not throw away Send/Freeze inheritance through T pointer
[21:37:02] *** Quits: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com) (Ping timeout)
[21:37:47] <tiffany> thiez: is there any reason you need dynamic dispatch for kinds?
[21:37:50] <dbaupp> rusti: let f: f64 = std::num::Bounded::min_value(); f
[21:37:51] -rusti- 0f64
[21:38:08] <strcat> wat
[21:38:11] <Thiez> tiffany: not particularly, I was merely curious
[21:38:18] <strcat> dbaupp: shouldn't that be -inf?
[21:38:21] <dbaupp> that^ seems incorrect, yeah? (https://github.com/mozilla/rust/pull/9774)
[21:38:31] <kimundi> I guess one could imagine something like "impl<T: Send> Send for Foo<T>", but... Seems messy
[21:38:31] *** Quits: lucian (lucian@moz-22A14C6A.cable.virginmedia.com) (Input/output error)
[21:38:50] *** Quits: tgummerer (tgummerer@moz-5DC8FA44.tbcn.telia.com) (Ping timeout)
[21:38:50] <dbaupp> strcat:prsomething like that (it's 1e-308 orwhever the smallest representable value is)
[21:38:53] *** Joins: lucian (lucian@moz-22A14C6A.cable.virginmedia.com)
[21:38:55] <dbaupp> *or whatever
[21:38:56] <Thiez> I can't rust at the moment as my desktop is broken and compiling on my notebook is not really an option :(
[21:39:09] <strcat> dbaupp: I think it would be -inf
[21:39:11] <strcat> or it's not right
[21:39:37] <dbaupp> rusti: let f: f64 = std::num::Bounded::min_value(); println!("{:.40f}", f) //it doesn't even print correctly
[21:39:38] -rusti- 0.0000000000000000000000000000000000000000
[21:39:38] -rusti- ()
[21:39:44] <strcat> dbaupp: just remove the impl for floats
[21:39:48] <strcat> they aren't really bounded
[21:39:52] <dbaupp> (hm, it probably does)
[21:40:02] <dbaupp> strcat: I agree
[21:40:11] <kimundi> rusti: let f: f64 = std::num::Bounded::min_value(); f.to_str()
[21:40:12] -rusti- ~"0"
[21:40:16] *** Quits: rhelmer (rhelmer@moz-DB4A9C19.scl3.mozilla.com) (Ping timeout)
[21:40:25] <kimundi> rusti: let f: f64 = std::num::Bounded::min_value(); f.to_str_digits(100)
[21:40:25] -rusti- <anon>:7:54: 8:5 error: type `f64` does not implement any method in scope named `to_str_digits`
[21:40:26] -rusti- <anon>:7          let f: f64 = std::num::Bounded::min_value(); f.to_str_digits(100)
[21:40:26] -rusti- <anon>:8     };
[21:40:26] -rusti- error: aborting due to previous error
[21:40:26] -rusti- application terminated with error code 101
[21:40:36] *** Quits: lucian (lucian@moz-22A14C6A.cable.virginmedia.com) (Ping timeout)
[21:40:38] <strcat> we're going to have to remove most of the number stuff
[21:41:20] *** Quits: john_ (john@moz-93854A70.in-addr.arpa) (Quit: Leaving)
[21:41:41] *** Joins: skade (skade@moz-4865967C.pools.arcor-ip.net)
[21:41:53] *** Quits: tefter (tefter@B5D119DC.B856A0A1.73804765.IP) (Ping timeout)
[21:42:05] *** Joins: tefter (tefter@B5D119DC.B856A0A1.73804765.IP)
[21:43:39] *** Joins: victorporof (victorporo@35F65A40.E0F96B01.D111398B.IP)
[21:45:12] *** Quits: [squiddy] (squiddy@moz-A441D2CD.dynamic.cablesurf.de) (Quit: Leaving)
[21:45:22] * nejucomo semi-facetiously points out http://www.haskell.org/haskellwiki/Numeric_Prelude
[21:45:47] *** Quits: victorporof (victorporo@35F65A40.E0F96B01.D111398B.IP) (Ping timeout)
[21:45:51] <nejucomo> Probably couldn't fit rusts "pay only for what you use" requirement.
[21:46:26] <nejucomo> -also, looks like it relies on type features rust doesn't have…  (At least multi-param typeclasses.)
[21:46:34] <kmc> we... kind of have those
[21:47:28] *** Joins: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net)
[21:48:06] <kmc> but yeah, translating a Haskell MPTC design is not likely to go well
[21:49:42] *** Quits: bent (chatzilla@moz-2CD73AA6.triad.res.rr.com) (Quit: ChatZilla 0.9.90.1-rdmsoft [XULRunner 22.0/20130619132145])
[21:49:48] *** Joins: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net)
[21:49:52] <doomlord_> multi-param typeclasses, as i've understood if you want to overload and specialize for multiple parameters you need to do something like double dispatch at the minute, is anything like multi-param typeclasses on the roadmap
[21:51:54] *** Quits: brendan (brendaneic@2D24BE81.5E7911EA.DA40C4B3.IP) (Quit: brendan)
[22:00:40] *** Joins: themgt (themgt@moz-83F07CDA.cm.vtr.net)
[22:02:05] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Client exited)
[22:05:29] *** Parts: lex (lex@moz-738B3E34.bootp.virginia.edu) ()
[22:06:54] *** Joins: sw17ch (sw17ch@moz-675AFBCF.hsd1.mi.comcast.net)
[22:08:49] *** Quits: derboi_c (derboi_c@510621FB.DF3CA0D0.BA2F4534.IP) (Ping timeout)
[22:10:06] *** Joins: alisdair (textual@BD70E91E.603F78BB.4F048BDC.IP)
[22:10:24] *** Quits: nejucomo (Adium@moz-A1B9243C.static-ip.telepacific.net) (Quit: Leaving.)
[22:11:38] *** Joins: derboi_c (derboi_c@5D958CB2.DF3CA0D0.BA2F4534.IP)
[22:12:09] *** Joins: Yeri (jasonjasmi@41C91A8A.CE609BA5.E39FBF79.IP)
[22:12:18] *** Quits: devbug (quassel@2D4E172D.4C8B6099.9B57EA59.IP) (Ping timeout)
[22:13:35] <SiegeLord> Why does rustdoc require a link_name attribute?
[22:14:06] *** Quits: CarpNet (Alasdair@moz-EF831A5E.cable.virginmedia.com) (Quit: Leaving)
[22:15:43] *** Quits: tiffany (kawaii@moz-28A8742A.dhcp.embarqhsd.net) (Ping timeout)
[22:15:44] *** Joins: anshin (anshin@CD85F10D.F21429E2.354459FA.IP)
[22:19:08] *** Joins: tiffany (kawaii@moz-28A8742A.dhcp.embarqhsd.net)
[22:19:13] *** Quits: donri (donri@moz-9BB61102.tbcn.telia.com) (Client exited)
[22:19:25] <sfackler> it's now it figures out the name of the crate right now. it should probably end up integrating into rustpkg's logic though
[22:19:31] <sfackler> *how
[22:20:03] <SiegeLord> It ended up generating invalid JSON anyway... so not a problem anymore
[22:23:07] *** Quits: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se) (Ping timeout)
[22:23:32] *** Joins: nejucomo (Adium@moz-434492BB.dsl.static.sonic.net)
[22:26:08] <nejucomo> doomlord_: I have no idea but I would guess multi-param traits are on the "if you submit a patch we'll consider it" milestone.  ;-)
[22:27:07] <doomlord_> maybe some macros can ease the double-dispatch stuff at the minute
[22:30:00] *** Joins: jordyd (jordyd@moz-2C974F36.seg154.ucf.edu)
[22:30:03] *** Quits: alisdair (textual@BD70E91E.603F78BB.4F048BDC.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[22:31:12] *** Joins: pepper_chico (pepper_chi@moz-29CFA00C.dsl.telesp.net.br)
[22:33:20] *** Joins: eiz (eiz@moz-9518AEF.hsd1.ga.comcast.net)
[22:35:12] *** Quits: bholley (anonymous@moz-D5EB36E2.rev.numericable.fr) (Ping timeout)
[22:35:12] *** Quits: eiz (eiz@moz-9518AEF.hsd1.ga.comcast.net) (Ping timeout)
[22:35:45] *** Quits: jordyd (jordyd@moz-2C974F36.seg154.ucf.edu) (Ping timeout)
[22:36:15] *** Parts: clusterfoo (computer@moz-A81F9872.cable.teksavvy.com) ()
[22:36:36] <eholk> does rust have, or might rust someday have, a Call trait that can be used to make new callable things?
[22:37:19] <strcat> eholk: it will eventually
[22:37:28] <strcat> I have an issue open about this but it's a long-term goal
[22:37:38] <eholk> strcat: ok, cool
[22:37:43] <strcat> it's also required for stack closures in the type system, since each would have a unique type
[22:38:19] <eholk> oh, weird
[22:39:13] <strcat> lets you move them around instead of being tied to a stack frame forever
[22:39:38] <eholk> you mean move them past when the stack frame is still there?
[22:39:49] <eholk> that is, could you return a stack closure?
[22:39:52] <strcat> eholk: yeah
[22:40:00] <eholk> how's that work?
[22:40:10] <strcat> eholk: each one would have a unique type and implement the call trait
[22:40:26] <strcat> it'd be hard/impossible to return one from a normal function, you need inference
[22:40:40] <strcat> but easy to pass them by-value or store them by-value
[22:40:45] <strcat> for example
[22:40:53] <strcat> range(1, 10).map(|x| x * y)
[22:40:58] <strcat> where `y` is captured
[22:41:09] <strcat> would be something you could pass around by-value
[22:41:22] <eholk> it would have to copy y out of the stack frame though, right?
[22:41:35] <strcat> eholk: yes, shallow copy of the env
[22:41:41] *** Joins: steveklabnik (steveklabn@moz-E4698C6D.red.bezeqint.net)
[22:41:53] <eholk> i feel like that makes them no longer stack closures
[22:42:03] <strcat> well, "value" closures :)
[22:42:08] <eholk> ok :)
[22:42:22] <strcat> it's how C++11 lambdas were done, because C++ had operator() overloading before it had closure syntax
[22:42:29] <strcat> so they're just a unique type overloading the call syntax
[22:42:59] <tikue_> so then fn foo() -> &fn() would become syntactic sugar for fn foo<T>() -> Callable<T> ?
[22:43:05] <eholk> when you said it would be hard to return one from a normal function i thought, "oh, like C++"
[22:43:19] <strcat> eholk: C++14 picks up return type inference for that reason ;p
[22:43:34] *** Joins: jdm (jdm@moz-E4B91594.zone16.bethere.co.uk)
[22:43:34] *** ChanServ sets mode: +o jdm
[22:43:51] <strcat> (clang has a full C++14 draft implementation already)
[22:44:10] *** Joins: victorporof (victorporo@35F65A40.E0F96B01.D111398B.IP)
[22:44:59] <strcat> tikue_: well, &fn is essentially an '&mut Callable'
[22:45:04] <strcat> it's a bit weird
[22:46:09] <eholk> i'm reading the C++14 wikipedia page.. I feel like eventually C++ will just have one type, auto
[22:46:18] *** Quits: victorporof (victorporo@35F65A40.E0F96B01.D111398B.IP) (Ping timeout)
[22:46:30] <eholk> except you'll still have to declare everything as auto.
[22:46:33] <strcat> I think they added another way to do 'auto x = foo()' ;p
[22:46:43] <strcat> decltype(auto) x = foo(); or something...
[22:46:44] *** Joins: stevekla1nik (steveklabn@moz-E4698C6D.red.bezeqint.net)
[22:47:02] <eholk> oh, even better!
[22:47:14] <strcat> something to do with the type of resolution/inference/coercion
[22:47:19] <eholk> decltype(foo()) x = foo()
[22:47:21] *** Quits: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com) (Input/output error)
[22:47:31] <eholk> actually, i think I've written macros that do that before...
[22:47:37] <doomlord_> typeof in gcc
[22:47:41] <strcat> eholk: well you actually write decltype(auto) now
[22:47:50] <strcat> I have no idea how it differs from normal auto
[22:48:00] <strcat> eholk: http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2013/n3638.html
[22:48:16] <doomlord_> decltype is needed for type signatures ?
[22:48:23] <strcat> 'plain auto never deduces to a reference, and auto&& always deduces to a reference'
[22:48:33] <balpert> acrichto: reading through meeting notes: I've been super happy with http://phabricator.org/ for code review -- there's a small learning curve but I like it much more than github. it isn't really made for projects with lots of external contributions though (you're generally expected to land your own diffs)
[22:48:36] <strcat> so I guess the behaviour is different there...
[22:48:47] <doomlord_> eg auto foo(A a, B b)-> decltype(...something using a,b)  { ....}
[22:49:01] <acrichto> balpert: that's actually one of my favorite code review tools as well
[22:49:15] <acrichto> balpert: I think the worry is that we don't want "one more thing" and it's also a service we'd have to maintain
[22:49:18] <doomlord_> auto mul (A a, B b)->decltype(a*b) {  return a*b; }
[22:49:27] *** Joins: lucian (lucian@moz-22A14C6A.cable.virginmedia.com)
[22:49:40] <balpert> acrichto: yeah, makes sense.
[22:49:48] <acrichto> balpert: I would love to set it up, but I got the feeling that there's not a lot of others who would also want it, so I think for now I'll just learn to live :)
[22:50:14] <balpert> people don't know what they're missing
[22:50:18] <balpert> I used to think github was fine too
[22:50:48] <doomlord_> what beats github 
[22:51:07] *** Quits: lucian (lucian@moz-22A14C6A.cable.virginmedia.com) (Ping timeout)
[22:51:20] <acrichto> balpert: there was a suggestion that I should at least talk to github, so I might send them a line just asking if they have anything planned
[22:51:22] <balpert> doomlord_: for code review, http://phabricator.org/
[22:52:32] <balpert> acrichto: github's code reviews haven't changed in years so I'm not that hopeful
[22:52:39] <balpert> you'd think they could at least add side-by-side diffs
[22:53:33] *** Quits: eholk (eholk@moz-BA312F07.crest.iu.edu) (Quit: eholk)
[22:54:38] <acrichto> I wish you didn't just blow away all history with a force-push
[22:54:56] <acrichto> it's a really difficult problem (code reviews on an arbitrary git repo) though, so they may just be doing the best they can
[22:55:27] <balpert> yeah, but you figure that that might require infrastructure changes
[22:55:28] <balpert> whereas there are a bunch of small things that they haven't fixed
[22:55:29] *** Joins: jordyd (jordyd@moz-2C974F36.seg154.ucf.edu)
[22:55:50] *** Joins: ofeldt (ofeldt@moz-85C8745C.dip0.t-ipconnect.de)
[22:55:52] <balpert> and then the email notification frequency is annoying too
[22:56:11] <balpert> oh well
[22:56:14] <acrichto> there's no real way to "batch comments" b/c often I write something, and then 500 lines later I want to amend it
[22:56:36] <balpert> yup, that goes with my email complaint too
[22:57:17] <balpert> I love arc, but I wish it wasn't necessary since lots of people understand git branches and don't want to install more stuff
[22:57:23] <balpert> oh well
[22:57:26] <balpert> nothing's perfect
[22:57:30] *** Joins: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com)
[22:57:30] *** ChanServ sets mode: +ao pcwalton pcwalton
[22:59:41] *** Quits: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net) (Client exited)
[22:59:54] *** Quits: jdm (jdm@moz-E4B91594.zone16.bethere.co.uk) (Quit: Lost terminal)
[23:00:02] *** Quits: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com) (Ping timeout)
[23:01:04] *** Joins: ktt3ja (Mibbit@moz-6B6EE8C0.hsd1.va.comcast.net)
[23:01:53] *** Joins: alisdair (textual@moz-DBA2EB65.vc.shawcable.net)
[23:02:55] *** Joins: pcwalton (pcwalton@moz-BBE3ABD.mv.mozilla.com)
[23:02:55] *** ChanServ sets mode: +ao pcwalton pcwalton
[23:03:47] *** Quits: tiffany (kawaii@moz-28A8742A.dhcp.embarqhsd.net) (Ping timeout)
[23:05:43] *** Joins: tiffany (kawaii@moz-EB8B0C08.dhcp.embarqhsd.net)
[23:05:59] <jason_> gerrit is what google uses for android, chromium, and go code review
[23:07:28] *** Quits: io2 (io2@moz-A6202C16.home.otenet.gr) (Quit: )
[23:08:54] <anshin> how up-to-date is the 0.8 tutorial?
[23:08:55] <acrichto> I've heard good things about gerrit, never used it myself though
[23:09:14] <acrichto> anshin: a week or so old at this point (0.8 was released a week or so ago)
[23:09:21] <acrichto> anshin: it was up-to-date when 0.8 was released, however
[23:09:25] <anshin> wasn't the float keyword removed?
[23:09:37] <strcat> wasn't ever a keyword, was just a type
[23:09:47] *** Quits: nsf (nsf@moz-EEF3238A.convex.ru) (Quit: WeeChat 0.4.1)
[23:09:49] <strcat> but yes it was removed
[23:10:00] <acrichto> anshin: the master tutorial should stay up to date with the language, so it should reflect that the float type doesn't exist
[23:10:08] <strcat> it does
[23:10:22] <anshin> was the float type removed as of 0.8? or was that afterward?
[23:10:33] <acrichto> after 0.8
[23:10:33] *** Quits: jordyd (jordyd@moz-2C974F36.seg154.ucf.edu) (Ping timeout)
[23:10:39] <anshin> oh ok
[23:10:54] <anshin> I saw `let x: float = 4.0;` and got a bit worried that I was reading outdated information
[23:11:00] <anshin> thanks
[23:11:23] <strcat> it is outdated information, because 0.8 is outdated ;p
[23:11:36] <strcat> they aren't supported releases with stuff backported
[23:11:47] <strcat> they're just time-based tags on master to use as milestones
[23:12:22] *** Joins: dew (Instantbir@moz-8EDFD40B.static.stls.mo.charter.com)
[23:12:25] <anshin> I figure the safest approach to using Rust right now would be to use the tags and update based on the release notes of each new tag
[23:13:12] <kmc> in Servo we update every month-ish, not to particular tags
[23:13:32] *** Quits: heftig (heftig@moz-208CB75C.dip0.t-ipconnect.de) (Ping timeout)
[23:13:33] *** Joins: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com)
[23:13:55] *** Quits: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[23:14:05] <kmc> and we do have to pay attention to language changes as they happen, but we mostly just run the compiler and fix the errors it discovers
[23:14:40] <kmc> I'm going to use this example on the next person who tells me that static types are bad for rapidly evolving codebases :)
[23:15:11] <strcat> if someone said that they're nuts ;p
[23:15:27] *** Joins: jordyd (jordyd@moz-2C974F36.seg154.ucf.edu)
[23:15:30] <strcat> you can only argue that dynamic types make the initial implementation faster (maybe)
[23:15:35] <kmc> people say this all the time
[23:15:45] <kmc> I don't want to derail the channel with trolling-by-proxy, though =)
[23:15:51] <strcat> how do they refactor or even rename stuff? ;p
[23:16:04] <kmc> they write lots and lots of trivial tests by hand, to make up for not having static checking
[23:16:11] <strcat> even with 100% branch coverage it won't catch them all
[23:16:23] <kmc> and they have lots of errors in production
[23:16:47] <kmc> there are entire startups devoted to helping you analyze your webapp's routine stack backtraces and gather statistics about which ones you should fix
[23:16:56] <strcat> lol
[23:17:27] <doomlord_> static typing and type inference ftw
[23:19:28] <myname> "cannot move out of dereference of & pointer" at "pub fn rate(&mut self) { *self = match *self { State(trees) => ..."
[23:19:39] <myname> why?
[23:19:47] *** Quits: tjc (tjc@moz-BBE3ABD.mv.mozilla.com) (Quit: zzzzzzzzzz)
[23:20:36] <kmc> you can't move out of a borrow because the code you're borrowing from can expect the value to remain valid
[23:20:41] *** Joins: heftig (heftig@moz-208CB75C.dip0.t-ipconnect.de)
[23:20:52] <myname> i.e.?
[23:21:07] <myname> where is the move there?
[23:21:15] <kmc> probably when you match 'trees'
[23:21:19] <kmc> maybe you want State(ref trees) ?
[23:22:34] <myname> not i get the same at _ => *self
[23:22:57] *** Quits: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP) (Quit: Leaving)
[23:23:00] <kmc> *self = *self; counts as a move
[23:23:24] <myname> :S
[23:23:52] <kmc> you should probably reorganize it to code which modifies self "in-place", unless you are okay making a copy
[23:24:17] <kmc> e.g. self.x = y;
[23:24:38] <kmc> though harder with an enum
[23:27:22] *** Joins: eiz (eiz@moz-9518AEF.hsd1.ga.comcast.net)
[23:28:03] <myname> can i change stuff in enums?
[23:28:14] *** Quits: themgt (themgt@moz-83F07CDA.cm.vtr.net) (Quit: themgt)
[23:29:22] *** Quits: jordyd (jordyd@moz-2C974F36.seg154.ucf.edu) (Ping timeout)
[23:29:31] <myname> enum foo { bar(int) } impl foo { fn f(&mut self) { i want to change the int here
[23:29:45] *** Joins: themgt (themgt@moz-83F07CDA.cm.vtr.net)
[23:31:11] *** Quits: Scriptor (historium@moz-E06F46F0.corp.bitshelter.com) (Quit: Scriptor)
[23:31:13] <strcat> myname: sure
[23:31:20] <myname> how?
[23:31:28] <strcat> match on it and use ref mut
[23:31:35] <myname> ah!
[23:31:50] *** Quits: themgt (themgt@moz-83F07CDA.cm.vtr.net) (Quit: themgt)
[23:32:06] <myname> that kinda makes sense
[23:33:17] *** Joins: jack (jack@moz-DF5A9AA3.members.linode.com)
[23:37:13] *** Joins: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com)
[23:37:26] *** Joins: jordyd (jordyd@moz-2C974F36.seg154.ucf.edu)
[23:41:53] <myname> i am a bit disappoint about pattern matching with vars
[23:42:14] *** Joins: riley_ (riley@8BA43816.9AA11D69.65DDFA89.IP)
[23:42:15] <kimundi> why?
[23:42:37] <myname> i.e. let bar = 'a'; match foo { Some(bar) => ..., Some(_) => ...
[23:42:52] <myname> complains about Some(_) being an unreachable statement
[23:43:18] *** Quits: riley (riley@8BA43816.9AA11D69.65DDFA89.IP) (Ping timeout)
[23:43:32] <myname> which has to say Some(bar) does not actually matches Some('a') but matches any Some and makes it accessible as a different bar
[23:43:55] *** Joins: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net)
[23:44:05] *** Joins: adam---- (adam@moz-D439942A.dsl.wchtks.swbell.net)
[23:44:21] <strcat> myname: you would write that as Some(x) if x == bar
[23:44:28] <myname> it kinda makes sense, but is not what i expected
[23:44:44] *** Joins: Jesin (Jessin_@moz-B0698978.cc.lehigh.edu)
[23:44:46] *** Joins: victorporof (victorporo@35F65A40.E0F96B01.D111398B.IP)
[23:45:45] *** Joins: rhelmer (rhelmer@moz-DB4A9C19.scl3.mozilla.com)
[23:46:06] <kimundi> Yeah, pattern matching has the problem that half the features of rusts syntax meet in there
[23:46:32] <pnkfelix> myname: … match baz { BazOne(x, y, z) => …, BazTwo(w, a, z) => … }
[23:46:49] *** rhelmer is now known as IRCMonkey33463
[23:46:54] *** Quits: victorporof (victorporo@35F65A40.E0F96B01.D111398B.IP) (Ping timeout)
[23:46:56] *** Quits: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[23:47:07] <kimundi> myname: Btw, the bar = 'a' example works if you make it a static ;)
[23:47:08] *** Quits: hjr3 (hradtke@1A0AE795.28A5F6C3.A2D40ED2.IP) (Ping timeout)
[23:47:11] <pnkfelix> myname: the above code has the unfortunate property in your hypothetical semantics that there is no visual distinction there between variable bindings and variable references
[23:47:15] <kimundi> static bar = 'a'
[23:47:19] <strcat> pcwalton: http://lists.cs.uiuc.edu/pipermail/llvm-commits/Week-of-Mon-20131007/190372.html !
[23:47:26] <strcat> we need that ;p
[23:47:34] <pcwalton> oh hey awesome
[23:47:43] <myname> kimundi: well, i got it as an argument
[23:47:55] *** IRCMonkey33463 is now known as rhelmer_
[23:47:56] <pcwalton> http://lists.cs.uiuc.edu/pipermail/llvm-commits/Week-of-Mon-20131007/190401.html
[23:47:57] *** Quits: bjz_ (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Quit: Leaving...)
[23:48:02] <kimundi> Yeah, then that doesn't help you :)
[23:48:05] * pcwalton cannot express how much I dislike this stop energy
[23:48:09] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[23:48:59] *** Quits: stevekla1nik (steveklabn@moz-E4698C6D.red.bezeqint.net) (Ping timeout)
[23:48:59] *** Quits: steveklabnik (steveklabn@moz-E4698C6D.red.bezeqint.net) (Ping timeout)
[23:49:06] *** Joins: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP)
[23:49:33] <myname> oh dear
[23:49:43] <myname> match arms have to have the same mutability
[23:49:45] <myname> interesting
[23:50:13] *** Quits: jgilbert (jgilbert@moz-BBE3ABD.mv.mozilla.com) (Quit: Leaving)
[23:50:15] <Amaranth> Dang, macros happen before memoization
[23:50:18] <kimundi> myname: Well they have to be the same type. ref is &T, ref mut is &mut T
[23:50:42] *** Joins: hjr3 (hradtke@1A0AE795.28A5F6C3.A2D40ED2.IP)
[23:51:26] <Amaranth> Tried getting clever and doing trait Component<T> { fn name(&self) -> &'static str { stringify!(T) } } but it returns "T"
[23:51:40] *** Joins: tjc (tjc@moz-7B0110AD.mv.mozilla.com)
[23:51:40] *** ChanServ sets mode: +o tjc
[23:53:07] *** Quits: valenting (Thunderbir@moz-416F9035.residential.rdsnet.ro) (Ping timeout)
[23:53:18] *** Quits: fhahn (fhahn@moz-7924DB5C.vie.surfer.at) (Ping timeout)
[23:53:31] *** Joins: valenting (Thunderbir@moz-416F9035.residential.rdsnet.ro)
[23:53:31] *** Quits: xAndy (xandy@moz-E129C9.unity-media.net) (Ping timeout)
[23:53:37] *** Joins: fhahn (fhahn@moz-7924DB5C.vie.surfer.at)
[23:53:44] *** Joins: xAndy (xandy@moz-E129C9.unity-media.net)
[23:54:02] <Amaranth> Is there any way to do something like I was attempting there that isn't writing a separate name method for each type?
[23:54:45] *** Quits: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP) (Quit: http://quassel-irc.org - Chat comfortably. Anywhere.)
[23:55:40] *** Joins: jgilbert (jgilbert@moz-7B0110AD.mv.mozilla.com)
[23:55:50] *** Quits: ianj (ianjneu@moz-7140CF01.ccs.neu.edu) (Quit: leaving)
[23:56:26] *** Joins: tjc_ (tjc@moz-BBE3ABD.mv.mozilla.com)
[23:56:47] *** Quits: tjc (tjc@moz-7B0110AD.mv.mozilla.com) (Ping timeout)
[23:56:47] *** tjc_ is now known as tjc
[23:57:09] <pnkfelix> Amaranth: use a macro (i.e. macro_rules!) to generate the impls of interest?
[23:57:48] <pnkfelix> Amaranth: though I guess you'd still have to write an invocation of the macro for each type you want to apply it to.
[23:57:56] <Amaranth> pnkfelix: Isn't that just making shorthand for still having to manually write the name method?
[23:58:18] *** Joins: mib_yvojdq (Mibbit@C9E3D232.A145F281.9BC11B05.IP)
[23:59:32] *** Quits: mib_yvojdq (Mibbit@C9E3D232.A145F281.9BC11B05.IP) (Quit: http://www.mibbit.com ajax IRC Client)
