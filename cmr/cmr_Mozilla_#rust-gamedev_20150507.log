[00:03:30] *** Quits: aepsil0n (eduard@moz-g8ss54.mv2h.pepi.8071.2a02.IP) (Connection closed)
[00:03:45] *** Quits: kaphka (kaphka@moz-n100uj.dip0.t-ipconnect.de) (Client exited)
[00:10:25] *** Quits: mark_edward (mark@moz-dg4mrp.in.comcast.net) (Ping timeout: 121 seconds)
[00:10:27] *** Quits: kmcguire_ (kmcguire@moz-pg1gb9.biz.rr.com) (Ping timeout: 121 seconds)
[00:18:40] *** Parts: tyoverby (tyoverby@moz-qo3495.cs.washington.edu) ()
[00:21:00] *** Joins: Twinklebear (Twinklebear@moz-ttrcn3.ut.comcast.net)
[00:23:39] *** Joins: mark_edward (mark@moz-dg4mrp.in.comcast.net)
[00:36:21] *** Joins: Cifram (Cifram@moz-l63.9pu.126.76.IP)
[00:43:10] *** Joins: harrisonclarke (harrisoncla@moz-b21rr4.eastlink.ca)
[00:47:19] *** Joins: nstoddard (nstoddard@moz-urhoua.resnet.purdue.edu)
[00:47:44] *** Quits: harrisonclarke (harrisoncla@moz-b21rr4.eastlink.ca) (Connection closed)
[00:49:26] *** Joins: lenstr (lenstr@moz-h5k.vju.25.171.IP)
[00:50:15] *** Quits: lenstr (lenstr@moz-h5k.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[00:50:30] *** Joins: lenstr (lenstr@moz-h5k.vju.25.171.IP)
[00:51:22] *** Quits: lenstr (lenstr@moz-h5k.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[00:57:41] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[01:10:00] *** Joins: kmcguire (kmcguire@moz-bbqf14.res.bhn.net)
[01:13:18] *** Quits: Rym_ (y@moz-a44.2as.55.31.IP) (Ping timeout: 121 seconds)
[01:15:16] *** Joins: harrisonclarke (harrisoncla@moz-b21rr4.eastlink.ca)
[01:19:15] *** Joins: summerlight__ (summerlight@moz-99k.2mj.130.121.IP)
[01:19:51] *** Quits: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu) (Quit: Leaving)
[01:22:11] *** Quits: summerlight_ (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[01:27:25] *** Quits: davebettin (davebettin@moz-hde.5e5.136.67.IP) (Ping timeout: 121 seconds)
[01:44:34] *** Joins: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net)
[01:44:42] *** Quits: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net) (Client exited)
[01:51:54] *** Joins: lenstr (lenstr@moz-h5k.vju.25.171.IP)
[01:52:54] *** Quits: lenstr (lenstr@moz-h5k.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[01:53:37] *** Joins: lenstr (lenstr@moz-h5k.vju.25.171.IP)
[01:54:14] *** Quits: lenstr (lenstr@moz-h5k.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[01:55:03] *** Quits: harrisonclarke (harrisoncla@moz-b21rr4.eastlink.ca) (Connection closed)
[01:55:21] *** Quits: dmac (dmac@moz-4kcd1c.ca.comcast.net) (Ping timeout: 121 seconds)
[02:12:57] *** Joins: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu)
[02:18:35] *** Joins: Wild_Cat (Max@moz-fa8mvt.dsl.teksavvy.com)
[02:19:11] *** Quits: dougxxx (dougxxx@moz-507os5.adam.com.au) (Ping timeout: 121 seconds)
[02:20:53] *** Quits: zz_kimundi (kimundi@moz-136e94.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[02:22:16] *** Joins: zz_kimundi (kimundi@moz-l2r.uqm.188.87.IP)
[02:22:22] *** zz_kimundi is now known as kimundi
[02:25:42] *** Quits: summerlight__ (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[02:27:46] *** Joins: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com)
[02:31:49] *** Quits: Guest74 (textual@moz-lmfinb.fios.verizon.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[02:35:17] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[02:35:50] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[02:38:04] *** Quits: Layl (Layl@moz-65hqmf.direct-adsl.nl) (Quit: Leaving)
[02:42:23] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[02:52:06] *** Quits: kvark (Mibbit@moz-8egann.cpe.pppoe.ca) (Quit: http://www.mibbit.com ajax IRC Client)
[02:52:18] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[02:54:46] *** Joins: lenstr (lenstr@moz-h5k.vju.25.171.IP)
[02:55:24] *** Quits: lenstr (lenstr@moz-h5k.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[02:55:33] *** Joins: lenstr (lenstr@moz-h5k.vju.25.171.IP)
[02:56:07] *** Joins: dougxxx (dougxxx@moz-b1rrjh.iinet.net.au)
[02:56:32] *** Quits: lenstr (lenstr@moz-h5k.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[02:57:10] *** Joins: davebettin (davebettin@moz-499k0m.bhak.dqhm.0007.2601.IP)
[03:02:48] *** Joins: Verdagon (Verdagon@moz-ff302e.ca.comcast.net)
[03:07:23] *** Quits: chc4 (chc4@moz-pdo0at.ma.comcast.net) (Quit: AHHHHH BEES)
[03:13:43] *** Quits: davebettin (davebettin@moz-499k0m.bhak.dqhm.0007.2601.IP) (Connection closed)
[03:14:31] *** Joins: davebettin_ (davebettin@moz-ip635p.or.comcast.net)
[03:16:11] *** Joins: mib_mjfb6b (Mibbit@moz-31n.ra7.193.111.IP)
[03:17:13] *** Quits: saml_ (saml@moz-rkfmct.res.rr.com) (Connection closed)
[03:18:38] *** Joins: davebettin (davebettin@moz-ip635p.or.comcast.net)
[03:20:48] *** Quits: davebettin_ (davebettin@moz-ip635p.or.comcast.net) (Ping timeout: 121 seconds)
[03:22:03] <eddyb> https://www.reddit.com/r/rust/comments/353pfv/need_input_on_some_design_decisions_for_a_window/ I wonder what they think of glutin, if they're even aware of it
[03:22:36] *** Quits: mib_mjfb6b (Mibbit@moz-31n.ra7.193.111.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[03:22:43] *** Joins: davebettin_ (davebettin@moz-f7t5as.bhak.dqhm.0007.2601.IP)
[03:23:15] *** Joins: davebettin__ (davebettin@moz-ip635p.or.comcast.net)
[03:26:26] *** Quits: davebettin (davebettin@moz-ip635p.or.comcast.net) (Ping timeout: 121 seconds)
[03:26:44] *** Quits: davebettin_ (davebettin@moz-f7t5as.bhak.dqhm.0007.2601.IP) (Ping timeout: 121 seconds)
[03:43:34] *** Joins: p1start (p1start@moz-nftjhe.org)
[03:47:14] *** Joins: Kingsquee (kingsley@moz-3fm07c.bchsia.telus.net)
[03:50:51] *** Quits: Boscop (me@moz-mng.1d2.131.183.IP) (Ping timeout: 121 seconds)
[03:51:07] *** Joins: kazimuth (james@moz-n85.696.189.18.IP)
[03:51:11] *** Joins: Boscop (me@moz-mng.1d2.131.183.IP)
[03:51:39] *** Joins: AngelOfSol (AngelOfSol@moz-dj58kc.rh.rit.edu)
[03:57:05] *** Joins: lenstr (lenstr@moz-h5k.vju.25.171.IP)
[03:57:28] *** Quits: orangeshark (erik@moz-shfg20.44tj.56ot.0306.2602.IP) (Quit: Leaving)
[03:57:43] *** Quits: lenstr (lenstr@moz-h5k.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[03:57:49] *** Joins: lenstr (lenstr@moz-h5k.vju.25.171.IP)
[03:58:51] *** Quits: lenstr (lenstr@moz-h5k.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[04:01:49] <eddyb> bvssvni_: this condition is broken btw https://github.com/PistonDevelopers/graphics/blob/master/src/triangulation.rs#L283
[04:02:16] <eddyb> bvssvni_: wait, no, it isn't
[04:02:31] <eddyb> gaaah, that awkwardly placed increment
[04:04:12] *** Quits: dougxxx (dougxxx@moz-b1rrjh.iinet.net.au) (Ping timeout: 121 seconds)
[04:07:53] *** Joins: dougxxx (dougxxx@moz-nt32ha.iinet.net.au)
[04:08:32] <eddyb> bvssvni_: the rest of the file isn't as good, but I think this is as optimal as I can get it https://gist.github.com/eddyb/de6b6fd246cf8e790b9e#file-triangulation-rs-L93-L95
[04:09:12] <eddyb> bvssvni_: optimal in terms of code readibility, sorry for using an ambiguous term
[04:11:56] <eddyb> bvssvni_: sorry, https://gist.github.com/eddyb/de6b6fd246cf8e790b9e#file-triangulation-rs-L92-L94
[04:13:04] <eddyb> bvssvni_: I believe that with "triangle fan", this polygon thing can be encoded at one vertex per triangle
[04:20:05] *** Quits: eddyb (Mibbit@moz-9pm.kjd.26.188.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[04:24:36] *** Quits: lu324 (lu324___@moz-3v8ljg.dhcp.embarqhsd.net) (Ping timeout: 121 seconds)
[04:24:59] *** Quits: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com) (Connection closed)
[04:25:21] *** Quits: tomaka (Pierre@moz-anun95.abo.wanadoo.fr) (Ping timeout: 121 seconds)
[04:25:32] *** Joins: tomaka (Pierre@moz-anun95.abo.wanadoo.fr)
[04:27:10] *** Joins: lu324 (lu324___@moz-3v8ljg.dhcp.embarqhsd.net)
[04:28:08] *** Joins: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com)
[04:38:24] *** Quits: Verdagon (Verdagon@moz-ff302e.ca.comcast.net) (Client exited)
[04:52:30] *** Quits: davebettin__ (davebettin@moz-ip635p.or.comcast.net) (Quit: Leaving)
[04:53:34] *** Quits: bdero (bran@moz-lbs.91h.47.73.IP) (Ping timeout: 121 seconds)
[04:54:19] *** Quits: kmcguire (kmcguire@moz-bbqf14.res.bhn.net) (Ping timeout: 121 seconds)
[04:59:12] *** Joins: lenstr (lenstr@moz-h5k.vju.25.171.IP)
[05:00:01] *** Quits: lenstr (lenstr@moz-h5k.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[05:00:16] *** Joins: lenstr (lenstr@moz-h5k.vju.25.171.IP)
[05:01:15] *** Quits: lenstr (lenstr@moz-h5k.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[05:02:55] *** Quits: csherratt (colin@moz-357qdq.cable.teksavvy.com) (Quit: Konversation terminated!)
[05:03:25] *** Quits: tomaka (Pierre@moz-anun95.abo.wanadoo.fr) (Ping timeout: 121 seconds)
[05:09:40] *** Joins: dmac (dmac@moz-2ig65r.ca.comcast.net)
[05:10:20] *** Quits: Wild_Cat (Max@moz-fa8mvt.dsl.teksavvy.com) (Ping timeout: 121 seconds)
[05:11:01] *** Joins: Verdagon (Verdagon@moz-ff302e.ca.comcast.net)
[05:16:56] *** Joins: guewen (guewen@moz-ftf7u4.cust.swisscom.ch)
[05:17:00] *** Joins: tomaka (Pierre@moz-8lbrro.abo.wanadoo.fr)
[05:17:47] *** Joins: SHC (quassel@moz-vel.65a.241.117.IP)
[05:27:03] *** Joins: csherratt (colin@moz-357qdq.cable.teksavvy.com)
[05:28:12] *** Quits: SHC (quassel@moz-vel.65a.241.117.IP) (Ping timeout: 121 seconds)
[05:34:32] *** Quits: mark_edward (mark@moz-dg4mrp.in.comcast.net) (Ping timeout: 121 seconds)
[05:34:49] *** Joins: SneakySnake (nya@moz-i9is4u.pool.telekom.hu)
[05:35:37] *** Joins: mark_edward (mark@moz-dg4mrp.in.comcast.net)
[05:36:30] *** Quits: O01eg (o01eg@moz-hpr2gc.ci24.4n8f.2698.2a02.IP) (Client exited)
[05:36:56] *** Joins: ty (ty@moz-i6c4to.wa.comcast.net)
[05:37:13] <ty> tomaka: Can you update the version of Glutin on crates.io?
[05:37:19] *** Quits: aatch (james@moz-ciignl.bmm3.j08e.e000.2406.IP) (Connection closed)
[05:38:13] <ty> tomaka: Apparently glium only looks at crates.io for Glutin
[05:44:28] *** Quits: Boscop (me@moz-mng.1d2.131.183.IP) (Ping timeout: 121 seconds)
[05:48:07] *** Quits: mark_edward (mark@moz-dg4mrp.in.comcast.net) (Ping timeout: 121 seconds)
[05:48:21] *** Joins: mark_edward (mark@moz-dg4mrp.in.comcast.net)
[05:52:44] *** Joins: summerlight__ (summerlight@moz-99k.2mj.130.121.IP)
[05:54:11] *** kimundi is now known as zz_kimundi
[05:54:12] *** Quits: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu) (Quit: Leaving)
[05:56:58] <tomaka> ty: what's the error?
[05:58:29] *** Joins: Boscop (me@moz-5ac.5rj.126.98.IP)
[06:01:43] *** Joins: lenstr (lenstr@moz-h5k.vju.25.171.IP)
[06:02:40] *** Quits: lenstr (lenstr@moz-h5k.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[06:02:54] *** Joins: lenstr (lenstr@moz-h5k.vju.25.171.IP)
[06:03:36] *** Quits: kazimuth (james@moz-n85.696.189.18.IP) (Quit: Textual IRC Client: www.textualapp.com)
[06:04:05] *** Quits: lenstr (lenstr@moz-h5k.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[06:08:50] *** Joins: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu)
[06:11:18] *** Quits: mark_edward (mark@moz-dg4mrp.in.comcast.net) (Ping timeout: 121 seconds)
[06:11:32] *** Joins: mark_edward (mark@moz-dg4mrp.in.comcast.net)
[06:12:59] *** Quits: Verdagon (Verdagon@moz-ff302e.ca.comcast.net) (Client exited)
[06:14:00] *** Quits: Gamecubic (cubic@moz-bglmk5.mc.videotron.ca) (Quit: Leaving)
[06:14:02] *** Joins: Verdagon (Verdagon@moz-ff302e.ca.comcast.net)
[06:14:16] *** Quits: guycook (quassel@moz-rpa0ek.snap.net.nz) (Connection closed)
[06:15:11] <tomaka> ah it's because of x11
[06:15:24] *** Quits: Verdagon (Verdagon@moz-ff302e.ca.comcast.net) (Client exited)
[06:15:43] <tomaka> some people are not as conscientious as me when it comes to semver
[06:18:42] *** Quits: genbattle (genbattle@moz-4v0.gkd.16.182.IP) (Ping timeout: 121 seconds)
[06:20:04] *** Joins: eddyb (Mibbit@moz-gua2rr.lbi.ro)
[06:22:34] *** Joins: SHC (quassel@moz-tfu.ncr.91.59.IP)
[06:25:48] *** Joins: theme (theme@moz-i3mhhb.asianet.co.th)
[06:25:52] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Quit: It's a joke, it's all a joke.)
[06:27:48] *** Quits: Twinklebear (Twinklebear@moz-ttrcn3.ut.comcast.net) (Quit: Leaving)
[06:31:57] *** Quits: csherratt (colin@moz-357qdq.cable.teksavvy.com) (Quit: Konversation terminated!)
[06:35:42] *** Quits: zimbatm (zimbatm@moz-f37kde.com) (Quit: Bye)
[06:36:03] *** Joins: zimbatm (zimbatm@moz-f37kde.com)
[06:36:36] *** Quits: niconii (nicole@moz-5gqgia.frgo.qwest.net) (Quit: leaving)
[06:48:24] *** Quits: p1start (p1start@moz-nftjhe.org) (Ping timeout: 121 seconds)
[06:52:21] *** Quits: SHC (quassel@moz-tfu.ncr.91.59.IP) (Connection closed)
[06:52:53] *** Joins: fkaa (tundmatu@moz-501od2.business.telia.com)
[06:56:00] *** Joins: SHC (quassel@moz-tfu.ncr.91.59.IP)
[07:02:02] *** Quits: lu324 (lu324___@moz-3v8ljg.dhcp.embarqhsd.net) (Ping timeout: 121 seconds)
[07:04:36] *** Joins: lenstr (lenstr@moz-h5k.vju.25.171.IP)
[07:05:13] *** Quits: lenstr (lenstr@moz-h5k.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[07:05:26] *** Joins: lenstr (lenstr@moz-h5k.vju.25.171.IP)
[07:05:31] *** Joins: squiddy (squiddy@moz-md4.pm3.19.178.IP)
[07:06:22] *** Quits: lenstr (lenstr@moz-h5k.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[07:09:20] *** Joins: jaen (jaen@moz-ifmik2.copit.pl)
[07:10:47] *** Joins: chris3 (chris@moz-ci61eb.nj.comcast.net)
[07:12:39] *** Joins: p1start (p1start@moz-nftjhe.org)
[07:13:22] *** Quits: chris (chris@moz-ci61eb.nj.comcast.net) (Ping timeout: 121 seconds)
[07:14:03] *** Quits: Boscop (me@moz-5ac.5rj.126.98.IP) (Ping timeout: 121 seconds)
[07:14:07] <fkaa> morning!
[07:15:26] <WindowsBunny> sup peeps
[07:17:43] *** Joins: gonzaloserrano (Adium@moz-2bv.1og.147.159.IP)
[07:19:30] <eddyb> bvssvni_: hahaha my with_round_rectangle_tri_list is now 16 lines and I hope I can make it smaller
[07:20:58] *** Joins: lu324 (lu324___@moz-3v8ljg.dhcp.embarqhsd.net)
[07:22:49] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Client exited)
[07:23:53] <eddyb> bvssvni_: and with_round_rectangle_border_tri_list can then reuse some common circle building functionality
[07:25:46] *** Quits: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com) (Connection closed)
[07:26:56] <fkaa> can't use textures for that?
[07:29:31] <eddyb> fkaa: eh
[07:30:03] <eddyb> it might be cheaper for some of these to render a quarter on the CPU
[07:32:50] <tomaka> in my game I have a small UI thingy with two icons, three circles and two progress bars
[07:32:57] <tomaka> I coded it as a single shader
[07:33:15] <tomaka> much more efficient
[07:35:06] *** Quits: eddyb (Mibbit@moz-gua2rr.lbi.ro) (Quit: http://www.mibbit.com ajax IRC Client)
[07:36:25] *** Quits: gonzaloserrano (Adium@moz-2bv.1og.147.159.IP) (Quit: Leaving.)
[07:36:35] *** Joins: bjz (bjz@moz-9f0.5r7.26.203.IP)
[07:37:56] *** Joins: mindtree (Mitch@moz-lst6vr.iprimus.net.au)
[07:44:27] *** Joins: Rym (y@moz-o80acm.range86-189.btcentralplus.com)
[07:44:35] *** Quits: AngelOfSol (AngelOfSol@moz-dj58kc.rh.rit.edu) (Connection closed)
[07:45:55] *** Joins: genbattle (genbattle@moz-ikj3l8.xtra.co.nz)
[07:49:32] *** Quits: bjz (bjz@moz-9f0.5r7.26.203.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[07:51:26] *** Joins: eddyb (Mibbit@moz-gua2rr.lbi.ro)
[07:52:13] <eddyb> tomaka: is it a good idea to check x²+y² in the fragment shader?
[07:52:32] <eddyb> (actually, that sounds very cheap for a shader)
[07:52:34] <tomaka> why not?
[07:52:38] <fkaa> check?
[07:52:45] <tomaka> there's a length function though
[07:52:49] <tomaka> or length2 or something
[07:53:03] <eddyb> hah, that's really cool
[07:53:17] <eddyb> the main disadvantage that I can see is that you need to undo any projection
[07:53:29] *** Joins: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net)
[07:53:38] <tomaka> hmm, can't find any function that returns the square of the length
[07:53:41] <eddyb> (or pass the coordinates from the vertex shader)
[07:55:20] <eddyb> I still want to clean up this graphics::triangulation code, because rendering arbitrary polygons seems useful
[07:59:06] *** Joins: bjz (bjz@moz-9f0.5r7.26.203.IP)
[08:03:41] *** Quits: bjz (bjz@moz-9f0.5r7.26.203.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[08:04:43] *** Quits: kalail (uid62296@moz-5ck9vu.charlton.irccloud.com) (Quit: Connection closed for inactivity)
[08:06:36] *** Quits: squiddy (squiddy@moz-md4.pm3.19.178.IP) (Ping timeout: 121 seconds)
[08:06:49] *** Joins: lenstr (lenstr@moz-h5k.vju.25.171.IP)
[08:07:02] *** Quits: fmtq (fmtq@moz-d08itp.tpgi.com.au) (Ping timeout: 121 seconds)
[08:07:33] *** Quits: lenstr (lenstr@moz-h5k.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[08:07:37] *** Joins: lenstr (lenstr@moz-h5k.vju.25.171.IP)
[08:09:12] *** Quits: lenstr (lenstr@moz-h5k.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[08:09:39] *** Joins: fmtq (fmtq@moz-d08itp.tpgi.com.au)
[08:09:51] *** Quits: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[08:10:11] *** Joins: Boscop (me@moz-mng.1d2.131.183.IP)
[08:14:30] <eddyb> with_round_rectangle_border_tri_list is 18 lines and with_round_rectangle_tri_list is 13, with 11 lines being identical
[08:15:08] *** Quits: Boscop (me@moz-mng.1d2.131.183.IP) (Ping timeout: 121 seconds)
[08:16:04] <eddyb> there's no easy way to extract the 10 lines of duplicated iterator code into another function because Rust doesn't have anonymized return types
[08:22:40] *** Joins: gonzaloserrano (Adium@moz-1nv.3t7.97.62.IP)
[08:24:58] <eddyb> tomaka: is there such a thing as "quad strip"?
[08:25:35] <fkaa> not sure you should be using quads eddyb 
[08:26:24] *** zz_kimundi is now known as kimundi
[08:26:47] <eddyb> just trying to figure whether I can encode this neat pattern with just one vertex per step instead of 6
[08:26:50] <tomaka> eddyb: there's tessellation, but it's an advanced feature
[08:27:06] <tomaka> you have to write a tessellation control and a tessellation evaluation shader
[08:27:24] <eddyb> ehh, I'm not doing that now
[08:27:27] *** Joins: Boscop (me@moz-5ac.5rj.126.98.IP)
[08:27:32] <tomaka> but a triangle strip should be pretty much the same as a "quad strip"
[08:28:01] <fkaa> ^
[08:28:11] <eddyb> oh I guess it would be 2 vertices, not one, in the optimal case
[08:28:48] <eddyb> tomaka: that gets me from 6 to 4, I believe
[08:29:31] <eddyb> it might be fun to write an immediate mode renderer. Windows comes with an OpenGL 1.1 software renderer
[08:29:38] <fkaa> not like vertex count is a issue in this case
[08:30:52] <eddyb> https://www.opengl.org/wiki/Primitive#Quads heh, that's the exact behaviour in graphics::triangulation
[08:31:30] *** Joins: erz (erz@moz-45hupr.broadband.corbina.ru)
[08:34:04] *** Quits: dmac (dmac@moz-2ig65r.ca.comcast.net) (Connection closed)
[08:35:07] *** Joins: dmac (dmac@moz-2ig65r.ca.comcast.net)
[08:39:12] *** Quits: dmac (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[08:40:51] *** Joins: lenstr (lenstr@moz-h5k.vju.25.171.IP)
[08:46:41] <eddyb> bvssvni_: https://gist.github.com/eddyb/de6b6fd246cf8e790b9e
[08:47:38] *** Joins: aatch (james@moz-is4j4r.cable.telstraclear.net)
[08:49:07] *** Quits: dougxxx (dougxxx@moz-nt32ha.iinet.net.au) (Quit: )
[08:51:43] *** Quits: eddyb (Mibbit@moz-gua2rr.lbi.ro) (Quit: http://www.mibbit.com ajax IRC Client)
[08:55:45] *** Quits: theme (theme@moz-i3mhhb.asianet.co.th) (Quit: Leaving)
[09:08:23] *** Joins: gonzaloserrano1 (Adium@moz-1nv.3t7.97.62.IP)
[09:08:51] *** Quits: gonzaloserrano (Adium@moz-1nv.3t7.97.62.IP) (Connection closed)
[09:19:33] *** Quits: Rym (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[09:26:52] *** Joins: Rym (y@moz-o80acm.range86-189.btcentralplus.com)
[09:29:25] *** Joins: aepsil0n (eduard@moz-6491ha.mv2h.pepi.8071.2a02.IP)
[09:30:22] *** Joins: eddyb (Mibbit@moz-gua2rr.lbi.ro)
[09:35:49] *** Joins: dmac (dmac@moz-2ig65r.ca.comcast.net)
[09:38:45] *** Joins: harrisonclarke (harrisoncla@moz-b21rr4.eastlink.ca)
[09:39:55] *** Quits: dmac (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[09:50:16] *** Joins: tog (Mibbit@moz-tpjl46.co.comcast.net)
[09:50:29] *** Quits: aatch (james@moz-is4j4r.cable.telstraclear.net) (Ping timeout: 121 seconds)
[09:51:26] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[10:02:54] *** Joins: bjz (bjz@moz-4l6.mjm.52.113.IP)
[10:06:38] *** Quits: lenstr (lenstr@moz-h5k.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[10:09:55] *** Quits: fmtq (fmtq@moz-d08itp.tpgi.com.au) (Ping timeout: 121 seconds)
[10:12:30] *** Joins: fmtq (fmtq@moz-d08itp.tpgi.com.au)
[10:17:48] *** Joins: stjahns_ (stjahns@moz-9oh245.ed.shawcable.net)
[10:19:05] *** Joins: b4283 (b4283@moz-vcu0af.EMOME-IP.hinet.net)
[10:20:29] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[10:20:41] *** Quits: bjz (bjz@moz-4l6.mjm.52.113.IP) (Ping timeout: 121 seconds)
[10:20:50] *** Joins: askalski (akuda@moz-857tih.warszawa.vectranet.pl)
[10:22:49] *** Joins: twipeD (wipeD@moz-hcr.7gc.225.79.IP)
[10:27:39] *** Quits: erz (erz@moz-45hupr.broadband.corbina.ru) (Quit: My Mac has gone to sleep. ZZZzzz…)
[10:28:08] *** Quits: eddyb (Mibbit@moz-gua2rr.lbi.ro) (Quit: http://www.mibbit.com ajax IRC Client)
[10:29:02] *** Quits: harrisonclarke (harrisoncla@moz-b21rr4.eastlink.ca) (Connection closed)
[10:35:06] *** Joins: lenstr (lenstr@moz-h5k.vju.25.171.IP)
[10:36:33] *** Joins: dmac (dmac@moz-2ig65r.ca.comcast.net)
[10:36:52] *** Joins: harrisonclarke (harrisoncla@moz-b21rr4.eastlink.ca)
[10:40:39] *** Quits: dmac (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[10:42:51] *** Quits: mindtree (Mitch@moz-lst6vr.iprimus.net.au) (Ping timeout: 121 seconds)
[10:43:53] *** Joins: mindtree (Mitch@moz-maa.quv.240.116.IP)
[10:44:13] *** Joins: bjz (bjz@moz-puppgq.tpgi.com.au)
[10:49:30] *** Quits: p1start (p1start@moz-nftjhe.org) (Ping timeout: 121 seconds)
[10:50:15] *** Quits: b4283 (b4283@moz-vcu0af.EMOME-IP.hinet.net) (Quit: Konversation terminated!)
[10:53:22] *** Quits: harrisonclarke (harrisoncla@moz-b21rr4.eastlink.ca) (Connection closed)
[10:54:19] *** Joins: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com)
[10:54:26] *** Joins: erz (erz@moz-45hupr.broadband.corbina.ru)
[11:00:44] *** Joins: aatch (james@moz-is4j4r.cable.telstraclear.net)
[11:01:04] *** Quits: aatch (james@moz-is4j4r.cable.telstraclear.net) (Connection closed)
[11:14:03] *** Quits: stjahns_ (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[11:14:44] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[11:15:19] *** Joins: Raven67854 (Raven67854@moz-8fl3ql.unassigned.ntelos.net)
[11:18:46] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[11:20:01] *** Joins: harrisonclarke (harrisoncla@moz-th044a.ns.bellaliant.net)
[11:22:22] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[11:23:58] *** Quits: nstoddard (nstoddard@moz-urhoua.resnet.purdue.edu) (Ping timeout: 121 seconds)
[11:27:12] *** Quits: genbattle (genbattle@moz-ikj3l8.xtra.co.nz) (Ping timeout: 121 seconds)
[11:27:23] *** Joins: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net)
[11:33:22] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[11:33:44] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[11:34:17] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[11:34:18] *** Joins: eddyb (Mibbit@moz-9pm.kjd.26.188.IP)
[11:34:35] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[11:36:27] *** Joins: nstoddard (nstoddard@moz-8rd.t27.211.128.IP)
[11:37:20] *** Joins: dmac (dmac@moz-2ig65r.ca.comcast.net)
[11:41:26] *** Quits: dmac (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[11:43:37] *** Quits: fmtq (fmtq@moz-d08itp.tpgi.com.au) (Ping timeout: 121 seconds)
[11:43:42] *** Joins: squiddy (squiddy@moz-md4.pm3.19.178.IP)
[11:44:49] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[11:45:11] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[11:46:01] *** Joins: stjahns_ (stjahns@moz-9oh245.ed.shawcable.net)
[11:46:01] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[11:47:00] *** Joins: fmtq (fmtq@moz-d08itp.tpgi.com.au)
[11:51:02] *** Quits: fmtq (fmtq@moz-d08itp.tpgi.com.au) (Ping timeout: 121 seconds)
[11:54:49] *** Quits: nstoddard (nstoddard@moz-8rd.t27.211.128.IP) (Ping timeout: 121 seconds)
[11:56:10] *** Quits: stjahns_ (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[11:56:36] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[11:57:19] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[11:57:22] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[11:59:02] *** Quits: harrisonclarke (harrisoncla@moz-th044a.ns.bellaliant.net) (Connection closed)
[11:59:45] *** Joins: ytain (ytain@moz-pr2.aip.175.108.IP)
[12:00:43] <tomaka> glutin on the raspi: http://i.imgur.com/obPFmeq.jpg
[12:01:16] *** Joins: Wild_Cat (Max@moz-fa8mvt.dsl.teksavvy.com)
[12:01:31] <tomaka> and glium's teapot: http://i.imgur.com/YgUDtBI.jpg
[12:01:36] *** Joins: saml_ (saml@moz-rkfmct.res.rr.com)
[12:01:58] <SneakySnake> Really nice.
[12:02:16] <eddyb> tomaka: is that a touch panel?
[12:02:21] <tomaka> Yeah
[12:02:34] <tomaka> when you touch somewhere it's like a mouse click
[12:02:49] <fkaa> aewsome :D
[12:04:31] *** Quits: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[12:05:49] <tomaka> the poor quality is because I have a very old crappy phone
[12:05:57] *** Joins: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net)
[12:05:58] <tomaka> and I can't even take a picture without moving
[12:07:21] *** Joins: fmtq (fmtq@moz-d08itp.tpgi.com.au)
[12:07:51] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[12:07:57] *** kimundi is now known as zz_kimundi
[12:08:19] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[12:11:23] *** Quits: fmtq (fmtq@moz-d08itp.tpgi.com.au) (Ping timeout: 121 seconds)
[12:12:23] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[12:15:22] *** Joins: fmtq (fmtq@moz-d08itp.tpgi.com.au)
[12:25:58] *** Quits: untitaker (untitaker@moz-lcvhbq.highway.telekom.at) (Ping timeout: 121 seconds)
[12:28:34] *** Joins: untitaker (untitaker@moz-tasggu.highway.telekom.at)
[12:30:55] *** Joins: harrisonclarke (harrisoncla@moz-p78oth.eastlink.ca)
[12:32:01] *** Quits: harrisonclarke (harrisoncla@moz-p78oth.eastlink.ca) (Connection closed)
[12:33:57] *** Quits: lu324 (lu324___@moz-3v8ljg.dhcp.embarqhsd.net) (Quit: Leaving)
[12:34:08] *** Joins: lu324 (lu324___@moz-3v8ljg.dhcp.embarqhsd.net)
[12:35:54] *** Quits: Kingsquee (kingsley@moz-3fm07c.bchsia.telus.net) (Quit: Konversation terminated!)
[12:36:48] *** Quits: fmtq (fmtq@moz-d08itp.tpgi.com.au) (Ping timeout: 121 seconds)
[12:38:05] *** Joins: dmac (dmac@moz-2ig65r.ca.comcast.net)
[12:39:30] *** Joins: fmtq (fmtq@moz-d08itp.tpgi.com.au)
[12:42:11] *** Quits: dmac (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[12:42:21] *** Joins: nstoddard (nstoddard@moz-8rd.t27.211.128.IP)
[12:48:27] *** Joins: bdero (bran@moz-mqs.7dh.189.18.IP)
[12:49:31] *** Quits: bdero (bran@moz-mqs.7dh.189.18.IP) (Connection closed)
[12:50:03] *** Joins: bdero (bran@moz-mqs.7dh.189.18.IP)
[12:53:20] <eddyb> bvssvni_: Pentium III had 16KB of L1 cache, why are you optimising for under 3KB?
[12:53:44] *** bvssvni_ is now known as bvssvni
[12:54:03] <bvssvni> eddyb: can you open issues for this on piston-graphics? I prefer to work uninterrupted
[12:55:01] <eddyb> I was mostly curious, I am going to hardcode 8KB, I think
[12:56:07] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[12:56:17] <bvssvni> eddyb: you have to consider all the buffers, not just the one you write to
[12:56:49] <bvssvni> eddyb: I’ve tried to work it out with a spreadsheet, but finally gave up and will benchmark it instead and set a value accordingly
[12:57:14] <eddyb> so the current value doesn't have any particular meaning? or was it benchmarked into existence?
[12:57:32] <bvssvni> eddyb: it hasn’t been benchmarked yet
[12:57:51] <eddyb> fair enough
[12:58:55] *** Quits: nstoddard (nstoddard@moz-8rd.t27.211.128.IP) (Ping timeout: 121 seconds)
[13:00:09] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[13:00:20] <bvssvni> gosh, I love working on piston-meta :)
[13:05:45] *** Quits: askalski (akuda@moz-857tih.warszawa.vectranet.pl) (Quit: Wychodzi)
[13:07:36] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[13:08:42] *** Joins: Guest74 (textual@moz-lmfinb.fios.verizon.net)
[13:09:42] *** Quits: Wild_Cat (Max@moz-fa8mvt.dsl.teksavvy.com) (Connection closed)
[13:11:55] *** Quits: aepsil0n (eduard@moz-6491ha.mv2h.pepi.8071.2a02.IP) (Connection closed)
[13:12:30] *** Quits: Boscop (me@moz-5ac.5rj.126.98.IP) (Ping timeout: 121 seconds)
[13:17:54] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[13:18:30] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[13:22:35] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[13:24:19] *** Joins: Boscop (me@moz-mng.1d2.131.183.IP)
[13:25:06] *** Joins: wippler (Mibbit@moz-galk7o.pools.vodafone-ip.de)
[13:25:36] *** Quits: saml_ (saml@moz-rkfmct.res.rr.com) (Ping timeout: 121 seconds)
[13:26:24] *** Joins: steshaw (uid30841@moz-eom82r.uxbridge.irccloud.com)
[13:26:34] *** Joins: nstoddard (nstoddard@moz-urhoua.resnet.purdue.edu)
[13:30:53] *** Quits: erz (erz@moz-45hupr.broadband.corbina.ru) (Quit: My Mac has gone to sleep. ZZZzzz…)
[13:31:49] *** Quits: Rym (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[13:32:32] <datalus> I am trying to retrieve the glutin window from glium via this line:
[13:32:35] <datalus> let window = *display.get_window().unwrap();
[13:33:01] <datalus> I get this compile error: cannot move out of borrowed content
[13:33:24] <datalus> I understand why it's happening, but I can't clone the borrowed content so I'm kind of stuck.
[13:34:17] <tomaka> hmm, yeah you can't do that
[13:34:42] *** Quits: Guest74 (textual@moz-lmfinb.fios.verizon.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[13:34:46] <tomaka> let me check something
[13:35:14] <datalus> Okay. I'm hoping there is a way to get the window, because I'd like to wrap it up in a struct I've made and will be returning that struct.
[13:35:56] <tomaka> The problem is that glium takes ownership of the window to prevent you from doing anything stupid like calling "window.make_current()" for example
[13:36:08] <datalus> Ah
[13:36:15] <datalus> I may need to rethink my design then.
[13:36:47] <tomaka> however glium also has an unsafe API
[13:36:53] <tomaka> that you can use
[13:37:15] <tomaka> In which case you could pass an `Rc<Window>` to glium and keep a copy of the Rc
[13:37:57] <datalus> Okay, thanks I'll explore that.
[13:37:58] <tomaka> totally unrelated, but I need this: https://www.youtube.com/watch?v=LQ5I3YDam0w
[13:38:22] <datalus> Also, the winref may just work for me if I just pass the display with the struct and then call the get window in methods I need it.
[13:38:50] *** Joins: dmac (dmac@moz-2ig65r.ca.comcast.net)
[13:38:53] <datalus> Oh wow that's awesome :)
[13:38:56] <tomaka> Why do you need the window in particular, and not just the Display?
[13:39:14] <datalus> I'm trying to use glium with piston's event loop
[13:39:19] <tomaka> ah
[13:40:05] <datalus> I'm pretty new with doing anything more complicated in Rust than say what's in the book :)
[13:40:28] <datalus> So I could just be going about this all wrong, but I was writing what is essentially a glium based window back end
[13:40:34] <datalus> so I can use it in piston's event loop.
[13:40:47] <tomaka> You could take a look at glium_graphics as well
[13:40:53] <datalus> I think glium_graphics does something like this.
[13:40:53] <tomaka> it's a piston backend for glium
[13:41:06] <tomaka> though I don't know piston enough to know the whereabouts of everything
[13:41:32] <datalus> I'd rather have glium figure out the OpenGL particulars as well
[13:41:58] <datalus> In Piston you pass the GL version in explicitly to the windows backend
[13:42:20] <tomaka> The design of glium is the following
[13:42:30] <tomaka> There's a Backend trait that is implemented on glutin
[13:42:56] *** Quits: dmac (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[13:43:00] <tomaka> There's a Context struct that is passed though an Rc<Context> everywhere in glium's objects and that has a Box<Backend>
[13:43:19] <tomaka> and there's a Facade trait whose only method is "fn get_context(&self) -> &Rc<Context>;"
[13:43:39] <tomaka> the "Display" struct implements the "Facade"
[13:43:40] <tomaka> trait
[13:43:44] *** SHC is now known as SHC[Dinner]
[13:44:09] <tomaka> hmm, wait a second
[13:44:47] <tomaka> yeah I could provide a function in "Display" to retreive a "Rc<Option<RefCell<Rc<GlutinWindowBackend>>>>"
[13:44:53] <tomaka> but it's a bit hacky
[13:45:20] <eddyb> glium_graphics can wrap any GL-capable window
[13:46:03] <eddyb> it
[13:46:37] <eddyb> *it's not very complicated, see back_end.rs
[13:47:52] <tomaka> the other tricky point is that you can switch the backend at any time
[13:48:01] <tomaka> if you create a new backend that shares list with the previous one
[13:48:29] <tomaka> that's why the backend is stored in a weird fashion
[13:48:32] <tomaka> Rc<Option<RefCell<Rc<GlutinWindowBackend>>>>
[13:50:46] <eddyb> tomaka: why is the option outside?
[13:51:11] <tomaka> I don't remember :x
[13:51:20] <eddyb> it's an anti-pattern at a first glance
[13:51:52] <eddyb> if you need to change it, put it inside the RefCell. if you want to pass around something which may not have a backend... put it around the outer Rc
[13:52:19] <eddyb> in the former case, it's not working and in the latter one, it's wasting memory
[13:52:53] <tomaka> oh
[13:52:55] <eddyb> also, Cell would be a good fit
[13:53:07] <tomaka> it's because for headless contexts it contains None
[13:53:26] <tomaka> but yeah it makes no sense to have it inside
[13:54:21] <eddyb> I wonder what GlutinWindowBackend contains
[13:54:38] <tomaka> just the glutin Window
[13:54:43] <tomaka> it's a newtype
[13:56:01] <tomaka> so the window is inside an Rc
[13:56:15] <eddyb> I would almost move the inner Rc into GlutinWindowBackend
[13:56:20] <tomaka> the context contains basically a RefCell<Rc<Window>>
[13:56:34] <tomaka> and the facade contains this Rc<Option<RefCell<Rc<Window>>>
[13:57:04] <tomaka> I'll rework this system when you'll be able to write Rc<Trait>
[13:57:25] <eddyb> that patch is taking its time
[13:57:47] <tomaka> hopefully it's released before 1.0 so that we can have it in 1.1
[13:57:51] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[13:57:53] <eddyb> (says the guy who ran away before it got merged)
[13:58:07] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[13:58:16] *** Joins: Rym (y@moz-o80acm.range86-189.btcentralplus.com)
[14:02:28] *** SHC[Dinner] is now known as SHC
[14:02:44] *** Quits: Rym (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[14:03:48] <eddyb> tomaka: I meant to link to this, about RefCell<Rc<T>> https://github.com/rust-lang/rfcs/issues/1106
[14:05:47] <eddyb> tomaka: also, if I want to build polygons in a buffer and draw when the buffer is full, I need to allocate my own memory and pass it to glium to update a VertexBuffer?
[14:06:06] <tomaka> well, you can just map the buffer
[14:06:27] <eddyb> can I do that in 2.1?
[14:06:31] <tomaka> Yeah
[14:06:34] <eddyb> is it even a good idea?
[14:06:35] *** Quits: Boscop (me@moz-mng.1d2.131.183.IP) (Ping timeout: 121 seconds)
[14:06:36] <tomaka> yes
[14:06:50] <tomaka> It's safe and fast
[14:07:28] <tomaka> mapping is the only operation that takes a `&mut Buffer` instead of a `&Buffer`
[14:07:30] *** Joins: Rym (y@moz-o80acm.range86-189.btcentralplus.com)
[14:07:41] <tomaka> so you are guaranteed that no other operation can take palce while the buffer is mapped
[14:07:43] <eddyb> now, the slice API didn't have any mapping, so I assume I need a full buffer?
[14:07:47] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[14:07:48] <eddyb> ah, cool
[14:08:03] <tomaka> hmm
[14:08:09] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[14:08:16] <tomaka> I don't remember why the slice doesn't have mapping
[14:08:20] <tomaka> there was a good reason though
[14:08:30] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[14:08:31] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[14:08:41] <eddyb> "This operation is much faster if the buffer is persistent." what does that mean?
[14:08:42] <tomaka> oh yeah, it's because glMapBufferRange is not available in 2.1
[14:08:55] <tomaka> so you have to map the full buffer anyway in OpenGL 2.1
[14:09:14] <tomaka> I could implement mapping a slice, but that would internally map the whole buffer and return just the slice of the mapping
[14:09:20] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[14:09:23] <tomaka> eddyb: I should remove this comment
[14:09:43] <cmr> eddyb: persistent buffers in modern GL versions don't need to be unmapped etc before used.
[14:09:44] <tomaka> eddyb: basically you were able to create a buffer that is permanently mapped
[14:09:47] <eddyb> mapping the whole buffer is actually fine
[14:09:50] <cmr> I'm not sure why it would be faster though
[14:10:13] <tomaka> eddyb: but now that's the case whenever you create a buffer with ::dynamic(...)
[14:10:15] <eddyb> cmr: presumably glium cached the mapping?
[14:10:36] <eddyb> tomaka: oh, so it's actually resident in RAM?
[14:10:50] <eddyb> (why am I using a different word :P?)
[14:10:58] <eddyb> tomaka: even if I never call .map, I mean
[14:11:00] <tomaka> eddyb: well, not in *RAM* but in memory
[14:11:09] <eddyb> ugh
[14:11:13] <eddyb> CPU-visible virtual memory
[14:12:07] <eddyb> tomaka: right, well then, thanks, I'll see about finishing this rewrite
[14:12:58] <eddyb> at least now the closure-taking API makes sense
[14:13:44] <tomaka> hmm
[14:13:55] <tomaka> in piston's situation, persistent buffers are actually detrimental
[14:14:07] *** Joins: mib_ugzl83 (Mibbit@moz-39h.pd9.149.49.IP)
[14:14:16] <tomaka> and maybe even mapping
[14:14:20] <eddyb> the blocking thing is slightly annoying
[14:14:23] <eddyb> tomaka: oh, why?
[14:14:26] *** Quits: fmtq (fmtq@moz-d08itp.tpgi.com.au) (Ping timeout: 121 seconds)
[14:14:36] <tomaka> because if you just upload data, the driver will copy the data in a temporary buffer
[14:14:41] <tomaka> and then copy from this buffer to the real buffer
[14:14:42] <cmr> tomaka: how does glium handle synchronization/fences?
[14:14:57] <tomaka> but if you use a mapped buffer, it uses the actual buffer immediatly
[14:14:59] *** Joins: kvark (Mibbit@moz-p3c.rcb.221.216.IP)
[14:15:05] <tomaka> and if the buffer is still being used by the GPu, it has to wait
[14:15:10] <eddyb> oh
[14:15:18] <tomaka> cmr: each buffer that uses persistent mapping has a Vec<Fence>
[14:15:37] <tomaka> cmr: and whenever the buffer is used for drawing, it creates a fence and adds it to this list
[14:15:50] <tomaka> and when you do an operation on the buffer, it clears the list by waiting on each fence
[14:15:54] <cmr> Mm, ok.
[14:15:58] <eddyb> so copying can be better? do you know whether it actually is?
[14:16:23] <cmr> eddyb: basically you want to double-buffer.
[14:16:26] <tomaka> for sea snake escape, I went from 9 to around 13 FPS by using regular uploads
[14:16:44] <eddyb> cmr: but... tomaka removed a double-buffer
[14:16:47] *** Joins: fmtq (fmtq@moz-d08itp.tpgi.com.au)
[14:16:52] <tomaka> even with double buffers, waiting on fences took a lot of time
[14:17:37] <eddyb> so... build in RAM and upload?
[14:17:46] <tomaka> I'll probably add a third option for building a buffer
[14:17:57] *** Quits: SneakySnake (nya@moz-i9is4u.pool.telekom.hu) (Quit: Leaving)
[14:18:10] <eddyb> tomaka: which is?
[14:18:14] <tomaka> ::new() for immutable buffers, ::dynamic, and ::persistent
[14:18:33] <eddyb> where dynamic is not persistent?
[14:18:36] <tomaka> yeah
[14:19:00] *** Joins: SneakySnake (nya@moz-i9is4u.pool.telekom.hu)
[14:19:19] *** Joins: Boscop (me@moz-5ac.5rj.126.98.IP)
[14:24:56] <eddyb> tomaka: what does VertexBuffer::empty do?
[14:25:17] <tomaka> it draws a car
[14:25:26] <tomaka> actually it builds an empty vertex buffer
[14:26:06] <eddyb> is it a dynamic one? what data does it have if I read it?
[14:26:18] <tomaka> there's empty and empty_dynamic, you chooes which one you want
[14:26:27] <tomaka> and it has undefined data if you read it
[14:26:27] <eddyb> (and why is glium_graphics not using it?)
[14:26:39] <tomaka> it's not using it because the function didn't exist when glium_graphics was written
[14:26:42] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[14:26:53] <eddyb> did it exist when you changed it from new to dynamic?
[14:27:03] <tomaka> yeah
[14:27:19] <eddyb> I'm asking because it has a comment about creating empty buffers whenever that's possible
[14:27:20] <tomaka> but I changed from new to dynamic with an edit directly on github
[14:27:33] <tomaka> changing to empty would require cloning the repo and stuff
[14:27:35] <tomaka> much longer to do
[14:27:49] <eddyb> hehe
[14:28:17] <tomaka> by the way, "immutable buffers" doesn't mean its content is immutable
[14:28:25] <tomaka> it means that the buffer won't move in the video memory
[14:28:42] <eddyb> confusing!
[14:28:53] <tomaka> you can still upload data to it and stuff
[14:29:00] <tomaka> but it's slower than with a dynamic one
[14:29:34] <eddyb> is it faster for data that doesn't change often because its address can be inlined in places and its contents cached?
[14:29:44] <eddyb> (or data derived from its contents)
[14:29:51] <tomaka> no, the rate at which data changes doesn't matter
[14:30:24] <tomaka> but the driver knows in advance what the size of the buffer will be, and that you won't do anything fancy with it
[14:30:27] <tomaka> so it can optimize better
[14:30:36] <eddyb> isn't the dynamic buffer also fixed size?
[14:30:45] <tomaka> I gained a few percentages by using immutable buffers, not huge but it's still an improvement
[14:30:52] <tomaka> yeah but only according to glium
[14:31:00] <eddyb> oh, that would explain it
[14:31:02] <tomaka> opengl doesn't know that it's fixed size
[14:31:32] <eddyb> I don't mind it - if I could, I would plug a constant size in as a type parameter
[14:32:28] *** Joins: AngelOfSol (AngelOfSol@moz-dj58kc.rh.rit.edu)
[14:32:57] *** Quits: lenstr (lenstr@moz-h5k.vju.25.171.IP) (Connection closed)
[14:33:29] *** Joins: lenstr (lenstr@moz-h5k.vju.25.171.IP)
[14:34:41] *** Quits: RC9 (RCIX@moz-vnmep7.ph.cox.net) (Ping timeout: 121 seconds)
[14:34:51] <eddyb> tomaka: if I want to split my buffers, do I just pass (slice_of_xy, slice_of_uv) instead of slice_of_xyuv and it will combine the fields of both structures?
[14:37:32] *** Joins: xilec (Mibbit@moz-g6k.oht.161.46.IP)
[14:38:31] *** Joins: lenstr_ (lenstr@moz-pm1.vju.25.171.IP)
[14:39:35] *** Joins: dmac (dmac@moz-2ig65r.ca.comcast.net)
[14:39:36] <tomaka> yeah
[14:39:43] <tomaka> eddyb: yeah
[14:40:31] *** Quits: lenstr (lenstr@moz-h5k.vju.25.171.IP) (Ping timeout: 121 seconds)
[14:43:05] <eddyb> thanks :D
[14:43:41] *** Quits: dmac (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[14:44:03] *** Quits: guewen (guewen@moz-ftf7u4.cust.swisscom.ch) (Quit: Leaving...)
[14:52:40] *** Joins: Guest74 (textual@moz-il1.n6s.204.65.IP)
[14:53:53] *** Quits: Guest74 (textual@moz-il1.n6s.204.65.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[14:55:31] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[14:56:30] *** Joins: Guest74 (textual@moz-il1.n6s.204.65.IP)
[14:57:44] *** Quits: Guest74 (textual@moz-il1.n6s.204.65.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[15:01:13] *** Quits: lenstr_ (lenstr@moz-pm1.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[15:01:22] *** Quits: squiddy (squiddy@moz-md4.pm3.19.178.IP) (A TLS packet with unexpected length was received.)
[15:01:29] *** Joins: lenstr (lenstr@moz-pm1.vju.25.171.IP)
[15:01:41] *** Quits: lenstr (lenstr@moz-pm1.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[15:01:55] *** Joins: lenstr (lenstr@moz-pm1.vju.25.171.IP)
[15:05:10] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[15:05:23] *** zz_kimundi is now known as kimundi
[15:05:33] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[15:06:55] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[15:08:30] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[15:09:36] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[15:15:41] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[15:24:44] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[15:29:15] *** Quits: mib_ugzl83 (Mibbit@moz-39h.pd9.149.49.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[15:36:45] *** Quits: summerlight__ (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[15:36:52] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Quit: It's a joke, it's all a joke.)
[15:40:24] *** Joins: dmac (dmac@moz-2ig65r.ca.comcast.net)
[15:41:24] *** Quits: Rym (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[15:41:55] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Client exited)
[15:42:49] *** Quits: ty (ty@moz-i6c4to.wa.comcast.net) (Quit: leaving)
[15:44:29] *** Quits: dmac (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[15:50:29] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[15:54:12] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[15:54:35] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[15:54:59] *** Joins: Rym (y@moz-o80acm.range86-189.btcentralplus.com)
[15:56:17] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[15:57:20] <bvssvni> mindtree: the idea is to make widgets generate `Element`?
[16:01:22] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[16:03:20] *** Joins: erz (erz@moz-45hupr.broadband.corbina.ru)
[16:08:24] *** Joins: dmac (dmac@moz-2ig65r.ca.comcast.net)
[16:09:06] *** Joins: Gabriel_7 (Gabriel@moz-shj839.mtgr.92aj.0e35.2a01.IP)
[16:10:33] *** Joins: Gamecubic (cubic@moz-bglmk5.mc.videotron.ca)
[16:15:58] <fkaa> kvark: i went crazy with markdown https://gist.github.com/fkaa/a2142c162b7ab2d2548e
[16:17:29] *** Quits: Rym (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[16:17:43] <kvark> fkaa: wait... did you just... rewrite our README?
[16:18:13] <fkaa> an attempt to, at least
[16:18:19] <kvark> we had a bug about it
[16:18:19] <kvark> https://github.com/gfx-rs/gfx-rs/issues/542
[16:18:22] *** Quits: dmac (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[16:18:26] <fkaa> yeah i read it :)
[16:19:01] <fkaa> felt like the only issue i could handle as of now
[16:19:13] <kvark> fkaa: thank you! Your version looks very clean and appealing
[16:19:19] <kvark> a couple of spots to fix
[16:19:21] <kvark> 1) See the triangle example for a typical context initialization with glfw, or glutin example for glutin.
[16:19:27] <kvark> this is totally wrong now
[16:19:58] <kvark> 2) gfx-rs is still in the early stages of development. Help is most appreciated.
[16:22:15] <kvark> it's not the early stages any more. We may rewrite it as "gfx-rs still has a long way to go, in particular to support more graphics APIs. It also needs the user libraries, frameworks, and applications built on top of it."
[16:22:30] * fkaa takes notes
[16:23:09] <kvark> 3) we need to mention somewhere that gfx needs rust nightly at the moment
[16:23:32] <eddyb> time for my first use of associated constants :D
[16:25:07] *** Joins: Astrum|Lap (Astrum|Lap@moz-7enfbr.co.comcast.net)
[16:25:08] <mindtree> kvark: in what ways does gfx_macros require nightly? does it look like the required features will be stabilised any time soon?
[16:25:13] <cmr> I hear they're icey.
[16:25:18] <kvark> fkaa: 4) the documentation has been broken for a long time (because of Rust-CI, AFAIK, but there are ways to work around it), thus putting a bold link to it would be misleading
[16:25:19] <cmr> mindtree: it's a syntax extension.
[16:25:30] <mindtree> cmr: ahh, right
[16:25:32] <cmr> kvark: I think we should dump rust-ci and use github pages.
[16:25:39] <cmr> mindtree: it could be ported to syntex probably!
[16:25:47] <kvark> cmr: sure, we just need someone to take care of it
[16:25:57] <eddyb> cmr: the implementation is incomplete. I think I can avoid all the ICEs if I don't stick them in patterns or types
[16:25:58] <cmr> kvark: I can take care of it later today (in ~2 hours)
[16:26:02] <bvssvni> eddyb: ooh…
[16:26:10] <bvssvni> eddyb: associated constants!
[16:26:18] <eddyb> bvssvni: btw, have you seen my gist?
[16:26:24] <bvssvni> eddyb: no
[16:26:47] <kvark> cmr: you sound like it's a 5 min job :)
[16:26:49] <bvssvni> eddyb: link?
[16:26:52] <eddyb> bvssvni: https://gist.github.com/eddyb/de6b6fd246cf8e790b9e
[16:26:57] <fkaa> would also be nice to have a place to put a "real" "getting started" section
[16:27:07] <fkaa> coupled with some walkthroughs of the examples
[16:27:28] <kvark> fkaa: yeah... if we had some
[16:27:28] * mindtree wishes he was familiar with syntex, so he could stabilise gfx
[16:27:32] <fkaa> gfx-rs.github.io perhaps?
[16:27:40] <fkaa> or gfx.rs, if possible :p
[16:27:53] <kvark> fkaa: that's all we got in terms of walkthroughs, I suppose
[16:27:57] <eddyb> bvssvni: I'm working on making it generic over the component type so I can use it to generate UVs as well
[16:28:02] <kvark> fkaa: and it's outdated
[16:28:28] <bvssvni> eddyb: looks nice
[16:29:00] <eddyb> such that you can take any texture and cut it to a convex polygon
[16:29:01] *** Joins: Guest74 (textual@moz-il1.n6s.204.65.IP)
[16:29:26] <kvark> mindtree: strictly speaking, gfx_macros is optional... Though, it's not the only problem with rust-1.0 at the moment. For instance, resource cleanup doesn't work.
[16:30:03] <eddyb> kvark: what does resource cleanup need?
[16:30:14] <kvark> Arc magic
[16:30:19] <bvssvni> eddyb: that’s a good idea
[16:30:19] <kvark> let me check...
[16:30:21] <eddyb> Weak?
[16:30:53] <kvark> eddyb: is_unique()
[16:31:35] <eddyb> that seems racy
[16:31:44] <kvark> eddyb: a radical way to work around it would be to switch rust-1.0 branch to Rc, effectively forbidding multi-threading, but I'd rather not do that
[16:32:03] <eddyb> I don't think it's possible to do it without using Weak
[16:32:32] <kvark> eddyb: why racy? why is Weak required?
[16:32:53] <eddyb> ah, no, I see what's going on
[16:33:27] <eddyb> if it returns true, there is no way for another reference to turn up unless the one you're using gets cloned
[16:34:06] <eddyb> kvark: is_unique must check both strong and weak counts, though, because weak pointers could be upgraded between the check and the cleanup
[16:34:28] <kvark> eddyb: that's what it does in nightly
[16:34:43] <kvark> even though, it was discovered to be racy lately
[16:34:52] <eddyb> welp
[16:35:08] <bvssvni> mindtree: I think these are no longer needed https://github.com/PistonDevelopers/conrod/blob/master/.travis.yml#L26-L28
[16:35:24] <mindtree> bvssvni: ahh ok, i'll get rid of 'em
[16:39:28] *** Quits: tog (Mibbit@moz-tpjl46.co.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[16:44:01] *** Joins: davebettin (davebettin@moz-ip635p.or.comcast.net)
[16:45:46] *** Quits: SHC (quassel@moz-tfu.ncr.91.59.IP) (Connection closed)
[16:50:53] *** Joins: O01eg (o01eg@moz-pr9fvp.pbl2.4n8f.2698.2a02.IP)
[16:50:55] *** Joins: Rym (y@moz-o80acm.range86-189.btcentralplus.com)
[16:51:42] *** Quits: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[16:51:43] *** Quits: Guest74 (textual@moz-il1.n6s.204.65.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[16:52:50] *** Joins: dmac (dmac@moz-4kcd1c.ca.comcast.net)
[16:55:25] *** Quits: Rym (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[16:58:18] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[16:58:22] *** Joins: Rym (y@moz-o80acm.range86-189.btcentralplus.com)
[16:58:37] *** Quits: lenstr (lenstr@moz-pm1.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[17:01:07] *** Quits: fmtq (fmtq@moz-d08itp.tpgi.com.au) (Ping timeout: 121 seconds)
[17:02:20] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[17:02:52] *** Quits: Rym (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[17:03:13] *** Joins: brson (brson@moz-4cm.c9m.56.172.IP)
[17:03:39] *** Quits: dmac (dmac@moz-4kcd1c.ca.comcast.net) (Quit: WeeChat 0.4.3)
[17:03:44] *** Joins: dmac (dmac@moz-4kcd1c.ca.comcast.net)
[17:04:21] *** Joins: fmtq (fmtq@moz-d08itp.tpgi.com.au)
[17:04:23] *** Joins: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net)
[17:05:45] *** Quits: erz (erz@moz-45hupr.broadband.corbina.ru) (Quit: My Mac has gone to sleep. ZZZzzz…)
[17:08:15] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[17:08:43] *** Joins: Lilly (Lilly@moz-pfkvo9.bredband.comhem.se)
[17:12:20] *** Joins: niconii (nicole@moz-5gqgia.frgo.qwest.net)
[17:12:38] *** Joins: Rym (y@moz-o80acm.range86-189.btcentralplus.com)
[17:15:26] *** Joins: James (quassel@moz-225vcm.range86-148.btcentralplus.com)
[17:22:37] *** Joins: hhhhhhhhhh (mike@moz-969kuj.cable.virginm.net)
[17:23:37] <Lilly> tomaka: did you fix the thing with programs sneaking in gl calls crashing glium?
[17:23:41] <Lilly> or was it glutin
[17:23:49] <tomaka> hmm, how would I fix it?
[17:23:50] *** Joins: Guest74 (textual@moz-il1.n6s.204.65.IP)
[17:24:07] *** Joins: brson_ (brson@moz-cfhap5.mtv2.mozilla.com)
[17:24:13] <tomaka> the problem is not that programs inject gl calls, it's that they inject *bad* gl calls
[17:24:16] <tomaka> that trigger OpenGL errors
[17:24:33] <tomaka> and glium is programmed to detect all OpenGL errors and panic, because an OpenGL error is a bug
[17:24:41] <Lilly> tomaka: aah
[17:24:59] <Lilly> I was just asking because I had no problems with it yesterday, so I thought you had maybe "fixed" it
[17:25:07] <Lilly> but it doesn't sound like something you can really fix
[17:25:13] <tomaka> yeah
[17:25:59] <tomaka> you can disable it with an environment variable, but that's a hacky solution
[17:26:16] <Lilly> it kinda breaks glium's promise too, right?
[17:27:33] *** Quits: brson (brson@moz-4cm.c9m.56.172.IP) (Ping timeout: 121 seconds)
[17:27:48] <tomaka> well, glium's promise is that it doesn't trigger OpenGL errors
[17:27:57] <tomaka> detecting them is the bonus
[17:28:01] <tomaka> but it doesn't break the promise
[17:28:07] <Lilly> ah true
[17:31:28] *** Joins: Codenator (Mibbit@moz-mkk.391.198.81.IP)
[17:31:58] *** Parts: Codenator (Mibbit@moz-mkk.391.198.81.IP) ()
[17:32:14] *** Joins: Codenator (Mibbit@moz-mkk.391.198.81.IP)
[17:32:19] *** Parts: Codenator (Mibbit@moz-mkk.391.198.81.IP) ()
[17:33:22] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[17:33:47] *** Quits: brson_ (brson@moz-cfhap5.mtv2.mozilla.com) (Quit: leaving)
[17:33:56] *** Joins: brson (brson@moz-cfhap5.mtv2.mozilla.com)
[17:37:13] *** Quits: nstoddard (nstoddard@moz-urhoua.resnet.purdue.edu) (Ping timeout: 121 seconds)
[17:37:37] <eddyb> naming is annoying
[17:38:05] <eddyb> tomaka: what should I call a pair of coordinate components, which can be either (x, u) or (y, v)?
[17:38:31] <eddyb> the type of the individual component is Px, which maybe I shouldn't use for UV but whatever
[17:39:26] <eddyb> src/lib.rs:10:1: 10:23 error: can't find crate for `graphics`
[17:39:36] <eddyb> yay, finally got past the syntax errors :P
[17:43:03] *** Joins: dcase (dcase@moz-qv4df2.bb.dnainternet.fi)
[17:43:49] *** Quits: Boscop (me@moz-5ac.5rj.126.98.IP) (Ping timeout: 121 seconds)
[17:44:20] <eddyb> use std::f32::consts::FRAC_PI_2 as QUARTER_TAU;
[17:48:28] *** Quits: SneakySnake (nya@moz-i9is4u.pool.telekom.hu) (Connection closed)
[17:48:46] *** Joins: sargas (sargas@moz-863roc.hfc.comcastbusiness.net)
[17:50:13] *** Joins: SneakySnake (nya@moz-i9is4u.pool.telekom.hu)
[17:51:12] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[17:53:19] *** Joins: Boscop (me@moz-5ac.5rj.126.98.IP)
[17:54:27] *** Joins: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr)
[17:58:00] *** Quits: Rym (y@moz-o80acm.range86-189.btcentralplus.com) (Connection closed)
[17:58:18] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[17:58:39] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[17:59:06] *** Joins: Rym (y@moz-o80acm.range86-189.btcentralplus.com)
[17:59:15] *** Joins: lenstr (lenstr@moz-pm1.vju.25.171.IP)
[18:02:33] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Connection closed)
[18:02:41] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[18:04:44] *** Joins: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com)
[18:07:02] *** Quits: Rym (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[18:07:52] *** Quits: lenstr (lenstr@moz-pm1.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[18:08:40] *** Joins: lenstr (lenstr@moz-pm1.vju.25.171.IP)
[18:10:09] *** Quits: silven (quassel@moz-0roor3.priv.bahnhof.se) (Ping timeout: 121 seconds)
[18:10:10] *** Joins: nstoddard (nstoddard@moz-urhoua.resnet.purdue.edu)
[18:10:37] *** Joins: silven (quassel@moz-0roor3.priv.bahnhof.se)
[18:13:50] *** Joins: chc4 (chc4@moz-pdo0at.ma.comcast.net)
[18:13:58] *** Joins: canhtak (canhtak@moz-1a9fh1.luxdsl.pt.lu)
[18:17:05] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[18:19:52] *** Joins: erz (erz@moz-45hupr.broadband.corbina.ru)
[18:22:58] *** Quits: James (quassel@moz-225vcm.range86-148.btcentralplus.com) (Ping timeout: 121 seconds)
[18:28:07] *** Joins: w4ffles (textual@moz-g7g.toe.144.12.IP)
[18:33:51] *** Joins: rbrs (rbrs@moz-m5thmg.static.zebra.lt)
[18:37:45] *** Quits: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr) (Connection closed)
[18:38:02] *** Quits: sargas (sargas@moz-863roc.hfc.comcastbusiness.net) (Quit: This computer has gone to sleep)
[18:38:14] *** Joins: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr)
[18:41:51] <kvark> does anyone know if stepancheg is here and under what nickname?
[18:42:12] <cmr> they are here sometimes
[18:42:14] <cmr> I thin
[18:42:16] <cmr> k
[18:42:18] <cmr> under that name
[18:42:24] <kvark> "they"?
[18:42:42] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[18:43:09] <kvark> I'm listening to him now, he was a special guest for T-radio podcast (russian), defending Rust (against harsh attacks)  - http://www.radio-t.com/p/2015/05/02/podcast-442/
[18:45:43] <niconii> kvark: "they" can be used to refer to a single person in a gender-neutral way, so cmr means "stepancheg"
[18:46:01] <kvark> niconii: uh oh, I didn't know this
[18:48:01] <fkaa> kvark: can you summarize? what were the big points against rust?
[18:49:23] <kvark> fkaa: let me try. 1) the main guy has a very practical/CEO/business point of view. He values programmers time over anything else. He says no one is going to learn Rust instead of programming on "their" Java/Python/Go/etc
[18:49:41] <fkaa> ah
[18:49:57] <fkaa> i can sort of understand that
[18:50:02] <kvark> Even though, he admit that things like Linux kernel or database engines could be well-written in Rust, he is convinced that this is a very tiny niche, and there are already good C++ programmers covering it
[18:50:30] <kvark> I'm just trying to come up with a decent Rust defending strategy in case I participate in more of these arguments
[18:51:02] <fkaa> hehe
[18:51:14] <kvark> what I find interesting is that everyone from Rust community has their own view on what Rust is trying to replace/accomplish
[18:51:21] <fkaa> well it's hard to argue with rust being a pretty hefty investment for a company
[18:51:41] <kvark> yeah, it makes next to no sense *at this point* to invest
[18:52:00] <mindtree> I'm investing!
[18:52:05] * mindtree is his only programmer
[18:52:05] <ytain> well he is trying to avoid/minimize the risk
[18:52:29] <kvark> mindtree: you are investing into Rust in a commercial business?
[18:52:31] <ytain> he would rather see a large sized project entirely done in rust
[18:52:50] <kvark> ytain: you listened to the podcast too? O_o
[18:52:56] <ytain> no
[18:53:22] <ytain> he wants a frame of reference
[18:53:42] <mindtree> kvark: my own business (generative music framework for designing interactive, generative music systems for games / installations)
[18:53:51] <kvark> mindtree: sweet lord
[18:54:19] <ytain> mindtree fractal like music generator?
[18:54:34] <ytain> based on the context contained in the game levels?
[18:54:40] <mindtree> kvark: it is pretty much why I do RustAudio/conrod and help out with stuff here and there haha
[18:55:13] <fkaa> haha :p
[18:55:17] <mindtree> ytain: the framework specifies some generic `HighLevelInput` which I can define uniquely for whatever game/application/installation i'm working with
[18:55:50] <ytain> kvark the russian main guy would like to see the metrics of doing a large sized project entirely in rust so I understand his POV
[18:55:53] <mindtree> ytain: the framework is designed to make custom applications as simple as possible, with custom pattern generators, instruments, phrase generators etc
[18:56:03] <ytain> mindtree oh ok
[18:56:41] <ytain> http://www.auralfractals.net/
[18:57:17] <mindtree> ytain: it's kind of like a huuuge markov chain atm I guess, but further down the track I'd like to look into applying machine learning for smarter automated mixing and whatnot 
[18:57:31] <ytain> look at aural fractals
[18:57:35] <mindtree> ytain: oh nice, I haven't seen this
[18:58:33] *** Joins: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP)
[18:58:54] *** Joins: nil (nil@moz-nh2oqk.cghv.b1d9.0003.2601.IP)
[19:00:07] <ytain> well I would like that done dynamically in realtime during the game
[19:00:28] <ytain> so probably using the shaders on the gpu to generate the patterns etc
[19:00:40] * eddyb kicks rustc
[19:00:43] <eddyb> error: cannot infer an appropriate lifetime for lifetime parameter `'a` due to conflicting requirements
[19:00:53] *** Quits: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr) (Connection closed)
[19:00:54] *** Joins: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr)
[19:00:55] <eddyb> what are the requirements?!
[19:00:59] <eddyb> Y U NO TELL ME
[19:01:00] <mindtree> ytain: i'll link you to some demos that I generated about a year ago
[19:01:33] <ytain> mindtree thank you, but I'm unable to hear anything (born deaf)
[19:01:33] <mindtree> ytain: https://dl.dropboxusercontent.com/u/13703122/JenDemosAprilMay.zip
[19:01:35] <fkaa> kvark: i tried finding things to do in gfx-rs and the gl device, everything looked perfect :o
[19:01:48] <fkaa> (couldn't think of anything to do)
[19:02:39] *** Joins: avikpal (avikpal@moz-al7.cvs.194.117.IP)
[19:02:46] *** Quits: w4ffles (textual@moz-g7g.toe.144.12.IP) (Connection closed)
[19:03:02] <eddyb> fkaa: here's a suggestion: gfx-rs doesn't work with VirtualBox's crappy 2.1 support
[19:03:05] <mindtree> ytain: ahhh
[19:03:21] <fkaa> eddyb: does it work with normal 2.1?
[19:03:31] <eddyb> I don't have normal 2.1 to test it with
[19:03:41] <ytain> the reason I ask for fractal music generators is that someday I want to develop a game and the sound/music is the only part that holds me back
[19:03:50] <eddyb> where "normal" presumably means "real hardware"
[19:04:01] <tomaka> fkaa: if there's nothing to do on gfx, come work on glium, I have plenty of things to do
[19:04:04] <eddyb> fkaa: but glium works fine
[19:04:10] <fkaa> :p
[19:04:23] <eddyb> fkaa: or, you know, you could write a glium device for gfx-rs
[19:04:26] *** Joins: avikpal_ (avikpal@moz-6dp.6u9.79.112.IP)
[19:04:27] <tomaka> oh, right
[19:04:59] <eddyb> right now there's tiny differences all over the place in terms of what works and what doesn't and it's annoying
[19:06:41] *** Quits: avikpal (avikpal@moz-al7.cvs.194.117.IP) (Ping timeout: 121 seconds)
[19:08:07] *** Quits: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr) (Connection closed)
[19:08:33] *** Joins: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr)
[19:09:12] <fkaa> tomaka: you're right, tons of issues \o/
[19:09:20] *** Quits: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr) (Connection closed)
[19:09:21] *** Joins: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr)
[19:09:23] *** Quits: avikpal_ (avikpal@moz-6dp.6u9.79.112.IP) (Ping timeout: 121 seconds)
[19:09:45] <eddyb> was there a feature I wanted?
[19:12:47] <nil> blargh, one dependency is fixed, another breaks.
[19:12:57] <nil> one day everything will compile cleanly.. one day.
[19:14:23] *** Quits: gonzaloserrano1 (Adium@moz-1nv.3t7.97.62.IP) (Quit: Leaving.)
[19:15:12] *** Joins: vortex (vortex@moz-skqfhn.novotelecom.ru)
[19:17:27] *** Quits: svenstaro (svenstaro@moz-6uaj59.net) (Quit: WeeChat 1.1.1)
[19:17:28] *** Joins: svenstaro (svenstaro@moz-6uaj59.net)
[19:19:12] *** Quits: erz (erz@moz-45hupr.broadband.corbina.ru) (Ping timeout: 121 seconds)
[19:21:41] *** Quits: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[19:22:55] <kvark> fkaa: there is tons of work to do in gfx land. If not internally, we need more user apps/libraries and more feedback (like what Layl does)
[19:23:13] *** Joins: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com)
[19:23:33] *** Quits: lenstr (lenstr@moz-pm1.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[19:24:04] <fkaa> perhaps i need to start doing something cool graphics-wise then
[19:24:33] <mindtree> fkaa: nahh make a nice reverb!
[19:24:40] <kvark> fkaa: what OS are you on?
[19:24:46] <fkaa> osx
[19:28:12] <kvark> fkaa: I was hoping for windows, since we need someone to start working on DirectX
[19:28:25] <kvark> fkaa: but there is a lot of other issues too
[19:28:45] <fkaa> most of the issues felt pretty major
[19:29:09] *** Quits: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[19:30:09] *** Joins: p1start (p1start@moz-nftjhe.org)
[19:31:10] <kvark> fkaa: help on this would be especially appreciated https://github.com/gfx-rs/gfx-rs/issues/641
[19:31:23] <kvark> it consists of a number of sub-issues, maybe you could tackle one or two
[19:33:13] <fkaa> how do you set it up for emscripten?
[19:33:22] <fkaa> i'm a bit confused as to how it works actually
[19:33:27] <kvark> fkaa: you can just ask Glutin for the ES 2 context
[19:33:29] <fkaa> does it convert llvm ir into javascript?
[19:33:42] <tomaka> hum, yeah, emscripten not trivial to setup
[19:33:44] <kvark> that should give the same effect. I don't need you really need emscripten to fix this
[19:33:48] <fkaa> there's no es context in osx :/
[19:33:57] <kvark> no? ah
[19:34:50] <kvark> fkaa: there is also this - https://github.com/gfx-rs/gfx-rs/issues/591
[19:34:54] <kvark> should be straightforward
[19:35:03] *** Quits: p1start (p1start@moz-nftjhe.org) (Ping timeout: 121 seconds)
[19:35:31] <fkaa> juicy issues :)
[19:36:00] <kvark> fkaa: it has a number of small things, each should be rather trivial
[19:37:12] *** Joins: lenstr (lenstr@moz-pm1.vju.25.171.IP)
[19:38:44] <kvark> fkaa: if you start writing something for gfx (or gfx_scene for the matter), you'll surely find places that need improvement
[19:39:14] <nil> well poop
[19:39:42] <kvark> fkaa: if I was looking for a small graphics demo to start, I'd do some fractals (expanding to 3D ones). E.g. a Julia fractal that uses your mouse position as a reference point - should be beautiful
[19:39:43] <nil> have a dependency that'll only compile on the 1.1 nightly, and another that fails to compile on the 1.1 nightly
[19:39:44] *** Quits: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[19:39:48] <nil> \o/
[19:40:03] <kvark> nil: /o\
[19:40:15] <nil> maybe if i ignore it for a few days it'll sort itself out
[19:41:58] <fkaa> fractals!
[19:42:02] <nil> tomaka, glutin and glium are built on the beta currently aye?
[19:42:12] <fkaa> my friend did 16k x 16k fractals
[19:42:38] *** Joins: gonzaloserrano (Adium@moz-2mr.44g.147.159.IP)
[19:43:18] *** Quits: Lilly (Lilly@moz-pfkvo9.bredband.comhem.se) (Quit: bajs)
[19:43:23] <tomaka> nil: yeah
[19:43:57] <nil> suppose i'll switch over to building on the beta then, those are my two largest dependencies still
[19:45:08] *** Joins: gonzaloserrano1 (Adium@moz-2mr.44g.147.159.IP)
[19:46:41] *** Quits: gonzaloserrano (Adium@moz-2mr.44g.147.159.IP) (Ping timeout: 121 seconds)
[19:47:25] *** Joins: erz (erz@moz-n26c5c.broadband.corbina.ru)
[19:47:49] <kvark> stepancheg didn't manage to convince the podcast masters. it's hard...
[19:48:17] <kvark> we need a well-thought line of defense/attack
[19:48:30] *** Quits: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu) (Quit: Leaving)
[19:49:22] <fkaa> operation rustarossa
[19:49:31] <kvark> lol :)
[19:50:33] <kvark> how are the english-lang podcasts doing? I've listened to YahudaK and SteveK one, but no one actually tried to attack them there. Were there any real debates?
[19:50:54] *** Quits: twipeD (wipeD@moz-hcr.7gc.225.79.IP) (Connection closed)
[19:50:55] <fkaa> i've only heard steve's interview
[19:51:13] <fkaa> not really sure about what podcasts there are even
[19:51:35] <ytain> kvark you need to get a book to read about argumentation/rethoric and find real use cases examples etc as a proof, that's the only way to defend rust
[19:51:36] <chc4> what podcast is this?
[19:51:52] <kvark> chc4: http://www.radio-t.com/p/2015/05/02/podcast-442/
[19:52:17] * chc4 doesn't speak russian
[19:52:36] *** Quits: bdero (bran@moz-mqs.7dh.189.18.IP) (Ping timeout: 121 seconds)
[19:52:48] <chc4> too bad
[19:53:01] <nil> think i may halt development on my game until 1.0 hits, tired of fighting dependencies and things -should- stabalize then.
[19:53:06] <kvark> ytain: I feel that it just requires a conscious effort to construct a strategy. Of course, a book would never hurt, but I don't find myself reading anything lately (to shame...)
[19:53:13] <nil> time to write endless irc bots and other silly things instead
[19:53:14] *** Joins: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com)
[19:53:55] <ytain> kvark what it needs is on the feet strategy and being able to provide proofs
[19:53:55] *** Quits: rbrs (rbrs@moz-m5thmg.static.zebra.lt) (Ping timeout: 121 seconds)
[19:54:09] <fkaa> servo is a big proof of rust i think
[19:54:18] <cmr> kvark: I feel like english development podcasting is pretty much dead
[19:54:33] <kvark> cmr: wat? that'd be weird. why?
[19:54:51] <kvark> cmr: maybe it's calling for YOU!
[19:55:03] <cmr> heh :)
[19:55:13] <cmr> I dunno, I just feel like there aren't nearly as many podcasts as there used to be.
[19:55:15] <bvssvni> fkaa: maybe 2000 crates counts as a little proof as well
[19:55:42] <bvssvni> fkaa: but what should it prove? that Rust works?
[19:55:56] <ytain> kvark https://www.gutenberg.org/ebooks/6473
[19:56:20] <fkaa> that rust can build complex applications that perform well and are safe? i'm not so sure about specifics of servo however
[19:56:21] <kvark> ytain: thanks
[19:56:39] *** Joins: kalail (uid62296@moz-5ck9vu.charlton.irccloud.com)
[19:56:42] <ytain> kvark you can use text to speech to listen to ebook, your choice
[19:57:19] <kvark> the podcasters mention the responsiveness of the Visual Studio Code. I wonder when we can get a Rust plugin for it...
[19:57:33] <cmr> yeah, it's SUPER annoying that it's not open for extension.
[19:57:35] *** Joins: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu)
[19:57:45] <nil> where's a good writeup for dealing how to write optional, compile time features/dependencies?
[19:57:51] <nil> detailing*
[19:58:40] <bvssvni> nil: what’s your problem?
[19:59:17] <nil> none! thinking about writing an irc bot with either a plugin architecture or some sort of optional featureset, just not sure how best to go about it.
[19:59:35] <cmr> nil: I can write something up.
[19:59:44] <cmr> I want to tweak the layout on crates.io's docs anyway...
[20:00:02] <nil> just didn't see much info regarding such in the rust book / rust by example, or similar places
[20:01:53] *** Quits: Guest74 (textual@moz-il1.n6s.204.65.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[20:03:03] <bvssvni> how do you make doc examples compile if they use a dev dependency that depends on the library?
[20:03:46] <bvssvni> I get `the trait `graphics::graphics::Graphics` is not implemented for the type `opengl_graphics::back_end::GlGraphics`
[20:05:16] <kvark> bvssvni: you can have external crates in the doc examples too
[20:05:39] <bvssvni> kvark: yes, but can you have external crates that depends on the library?
[20:06:39] <bvssvni> I’ll just use ```ignore instead
[20:06:44] <kvark> bvssvni: I'm puzzled between not understanding the question and not being able to answer it
[20:08:36] <mindtree> kvark: /r/rust already has over a 3rd subscribers as /r/cpp << strong scientific evidence
[20:08:42] <eddyb> bvssvni: if I were you, I'd hide a dummy implementation in the crate providing the abstractions
[20:09:42] <bvssvni> eddyb: haha… wait I need to tune up my imagination…
[20:09:51] *** Joins: genbattle (genbattle@moz-4v0.gkd.16.182.IP)
[20:10:22] <bvssvni> eddyb: nope, can’t figure out how you did that
[20:10:34] <bvssvni> eddyb: explain!
[20:10:49] <eddyb> bvssvni: how I did what?
[20:11:08] <eddyb> are you talking about the suggestions above?
[20:11:13] <bvssvni> eddyb: how do you hide the dummy implementation?
[20:11:30] <eddyb> #[doc(hidden)]
[20:11:51] <eddyb> and you can hide parts of a doc example
[20:12:01] <eddyb> by putting # at the start of the line, I believe
[20:12:10] <bvssvni> eddyb: ooh
[20:12:44] <eddyb> so you can bring in some type which doesn't do anything at runtime, but which implements the right interface
[20:13:32] <bvssvni> #[doc(hidden)] fn foo() { … } will hide `foo`?
[20:14:18] *** Joins: Guest74 (textual@moz-il1.n6s.204.65.IP)
[20:20:55] <eddyb> bvssvni: in the documentation, yes
[20:21:13] *** Quits: davebettin (davebettin@moz-ip635p.or.comcast.net) (Connection closed)
[20:21:18] <eddyb> oh boy, my thing here might be compiling
[20:21:47] *** Joins: davebettin (davebettin@moz-ip635p.or.comcast.net)
[20:21:51] <kvark> eddyb: next thing you know - it's gonna be running. just like kids :)
[20:22:49] *** Quits: gonzaloserrano1 (Adium@moz-2mr.44g.147.159.IP) (Quit: Leaving.)
[20:22:54] <bvssvni> does rustdoc set some cfg parameter I can use?
[20:23:56] <cmr> what the fuck travis, I've been waiting 12 minutes for this build to run :(
[20:24:06] <eddyb> bvssvni: haha I see what you're trying to do, but I'm pretty sure doc examples use the library as it would be built outside of rustdoc
[20:24:45] <bvssvni> have anybody notices that r/rust_gamedev stays at roughly 10% of r/rust in number of subscribers?
[20:24:50] <bvssvni> *noticed
[20:25:34] <eddyb> kvark: I was going to say "I'm expecting surprises"
[20:25:48] <cmr> bvssvni: I hadn't noticed that...
[20:25:49] <eddyb> well, it looks like shit =)))
[20:25:50] <kvark> bvssvni: I'd rather have us migrating to discourse...
[20:26:11] <bvssvni> assuming that reddit subscribers is a random selection of the general population, it means 1 of 10 rust developers are interested in using it for gamedev
[20:26:23] <eddyb> time to figure out where in the thousands of changes I went wrong
[20:27:50] *** Quits: canhtak (canhtak@moz-1a9fh1.luxdsl.pt.lu) (Client exited)
[20:28:21] *** Quits: lenstr (lenstr@moz-pm1.vju.25.171.IP) (Quit: Leaving...)
[20:32:33] <kvark> bvssvni: I did a similar observation recently: about every third rust gamedev is interested in gfx-rs. Or, at least, was interested at some point and forgot to un-star it since then :)
[20:33:32] *** Quits: Boscop (me@moz-5ac.5rj.126.98.IP) (Ping timeout: 121 seconds)
[20:34:02] *** Quits: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu) (Quit: Leaving)
[20:35:28] <eddyb> y1: x
[20:35:32] <eddyb> yupp, that would cause issues
[20:36:36] <bvssvni> kvark: I guess that people interested in gfx-rs are mostly gamedevs
[20:37:05] <fkaa> i don't think i've ever unstarred a project ever
[20:37:17] <cmr> I recently went through and unstarred everything..
[20:37:24] *** Joins: filsmick_ (filsmick@moz-tj8j41.abo.wanadoo.fr)
[20:37:52] <fkaa> tomaka: does glium's `displacement_mapping` example work for you?
[20:38:07] <fkaa> fixed a bug, still nothing but black color
[20:38:26] <kvark> cmr: what is travis-cargo?
[20:38:43] <cmr> kvark: it's a huon project that automates a lot of stuff, apparently!.
[20:38:47] <tomaka> fkaa: well yes, it's supposed to work
[20:39:09] <tomaka> what did you "fix"?
[20:39:17] <fkaa> changing the fragment shader output to solid color did nothing either
[20:39:34] *** Quits: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr) (Ping timeout: 121 seconds)
[20:39:36] <fkaa> frag shader was using gl_FragColor, and i wasn't in a compatibility context
[20:40:32] <kvark> cmr: and the "unstable" feature. What is it for?
[20:41:41] *** Quits: fmtq (fmtq@moz-d08itp.tpgi.com.au) (Ping timeout: 121 seconds)
[20:41:43] <cmr> kvark: it's a thing that travis-cargo passes unconditionally for the nightly build, so you can have cfg-gated stuff on the nightly.
[20:41:53] <cmr> I'm not sure I'm a fan of it...
[20:42:13] <kvark> cmr: perhaps, we could merge with rust-1.0 branch and use cfg(unstable)?
[20:42:23] <cmr> kvark: oh, good idea!
[20:42:53] <eddyb> bvssvni: https://github.com/eddyb/r3/commit/186431b2991d982d9522cf15bc65cae7a23610b3
[20:44:08] *** Joins: fmtq (fmtq@moz-d08itp.tpgi.com.au)
[20:45:16] *** Joins: RC9 (RCIX@moz-vnmep7.ph.cox.net)
[20:45:32] <bvssvni> eddyb: :)
[20:46:04] <eddyb> the code has become very generic
[20:46:24] <eddyb> to the point where you can add back matrix translation
[20:47:02] <eddyb> and use whichever floating-point representation you want
[20:47:47] <eddyb> and implement Buffer in the backend so it can deal with its own vertex types and whatnot
[20:48:04] <bvssvni> eddyb: I hope you can make it work for more APIs than Glium
[20:48:21] <eddyb> bvssvni: it can work with any API
[20:48:50] <eddyb> bvssvni: look at the Buffer trait, the only thing it's tied to is multiplication by Px
[20:48:59] <eddyb> which can be replaced with Scalar in your design
[20:49:35] *** Joins: bdero (bran@moz-lbs.91h.47.73.IP)
[20:50:17] <cmr> Tiffany: so is the doom 3 text rendering supposed to be revolutionary? it's, like, exactly what I expected/
[20:51:27] *** Quits: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[20:52:02] <eddyb> bvssvni: fun fact, I didn't even need to split the buffers into xy and uv! the Buffer implementation for that could just as well write to an array of TexturedVertex or whatever
[20:53:41] <bvssvni> eddyb: need to check if those shaders work on osx
[20:53:49] <bvssvni> eddyb: I’m updating now
[20:54:01] <eddyb> OSX better not ruin my style :P
[20:54:14] <eddyb> I know it does something weird
[20:54:20] *** Quits: filsmick_ (filsmick@moz-tj8j41.abo.wanadoo.fr) (Quit: )
[20:54:23] <eddyb> what was I saying...
[20:54:55] <eddyb> bvssvni: and now that I understand what the functions do and they have appropriate names... I can write, e.g. an ellipse polygon and then change it slightly to get an ellipse border
[20:55:09] *** Joins: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net)
[20:55:59] <eddyb> if we had anonymized return types, I could factor out the common parts for circle quarters and full circles
[20:56:18] *** Quits: vortex (vortex@moz-skqfhn.novotelecom.ru) (Quit: Lost terminal)
[20:58:04] <bvssvni> eddyb: you could try tri strips
[20:58:59] <eddyb> yeah, that's an option
[20:59:14] <bvssvni> eddyb: you removed the part with draw state, but I guess you don’t need it
[20:59:59] <eddyb> if you were to use this design, you would add back all the details you need :P
[21:00:36] <bvssvni> eddyb: what’s the `i` for? https://github.com/eddyb/r3/blob/186431b2991d982d9522cf15bc65cae7a23610b3/src/ui/render.rs#L171
[21:01:47] <eddyb> position within the buffer
[21:02:00] *** Quits: dcase (dcase@moz-qv4df2.bb.dnainternet.fi) (Quit: Miranda IM! Smaller, Faster, Easier. http://miranda-im.org)
[21:02:19] <eddyb> I should switch away from the hacky tuples to something that can store state
[21:02:31] <eddyb> bvssvni: does it run on OSX?
[21:03:00] <eddyb> I'm waiting on that answer to go to sleep :)
[21:03:00] <bvssvni> eddyb: wait a minute, it cargo stopped at updating the registry
[21:03:08] <eddyb> lol
[21:05:16] <bvssvni> eddyb: https://github.com/eddyb/r3/blob/186431b2991d982d9522cf15bc65cae7a23610b3/src/ui/render.rs#L255
[21:05:29] <bvssvni> eddyb: you need an #[inline(always)] here
[21:05:47] <eddyb> it's same-crate
[21:06:03] <eddyb> and in a trait, so it's treated as a generic
[21:06:30] <bvssvni> it doesn’t mean it gets inlined?
[21:06:30] *** Quits: SneakySnake (nya@moz-i9is4u.pool.telekom.hu) (Quit: Leaving)
[21:06:46] <eddyb> wait, no, you linked to the signature of triangle
[21:07:13] <eddyb> bvssvni: if automatic inlining doesn't happen, it's likely a bad idea to force its hand
[21:07:19] <eddyb> sure, there are exceptions
[21:08:05] <bvssvni> eddyb: the tests I’ve done inlining has not worked so well, so I had to force it
[21:08:15] <bvssvni> eddyb: but that’s old tests, it could be different now
[21:08:45] <eddyb> you have a million function calls
[21:09:00] *** Quits: Guest74 (textual@moz-il1.n6s.204.65.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[21:09:46] <bvssvni> eddyb: what do you mean?
[21:10:23] <bvssvni> eddyb: running now...
[21:10:34] <eddyb> welp
[21:10:35] <eddyb>    2.04%  rid3     rid3                         [.] _ZN4hash3sip9SipHasher5write20hc0cc9a640b97d6afHRGE
[21:10:52] <bvssvni> eddyb: it works!
[21:10:53] <eddyb> that wasn't there before, what's using a HashMap?
[21:11:03] <eddyb> bvssvni: hah, so 2.1 is fine
[21:11:09] <bvssvni> eddyb: yes
[21:11:16] <bvssvni> eddyb: at least on my computer
[21:11:32] <bvssvni> eddyb: are you requesting 2.1?
[21:12:24] <eddyb> yes
[21:12:44] <bvssvni> eddyb: :(
[21:12:52] <bvssvni> eddyb: it doesn’t work with 3.2
[21:12:59] <eddyb> what do you mean?
[21:13:12] <bvssvni> eddyb: when requesting 3.2, the shaders doesn’t work
[21:13:12] <eddyb> you changed the version in rid3?
[21:13:16] <eddyb> ah that's fine
[21:13:49] <eddyb> I would need a second set of shaders to have that working
[21:13:50] <cmr> bvssvni: of course not, the forward-compatible core profile that OS X requires doesn't suppor tthe old shader version
[21:14:16] <bvssvni> cmr: yes
[21:14:44] <bvssvni> eddyb: shader_version has a version detector which you can use
[21:15:34] <cmr> why does the GL version matter?
[21:15:56] <ytain> for choosing the correct shader
[21:16:07] <cmr> well, obviously.
[21:16:12] <cmr> but why not use 2.1, I mean.
[21:16:29] <bvssvni> it doesn’t matter when running the application standalone, but if you are running it with something else it matters
[21:16:59] <eddyb> bvssvni: I know about shader_version, it's a dependency I removed at some point :P
[21:17:06] *** Joins: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu)
[21:17:22] <bvssvni> eddyb: it’s still there, because glium_window is using it
[21:17:22] <eddyb> cmr: can you use a newer shader version with 2.1?
[21:17:32] <eddyb> glium...window?
[21:17:35] <cmr> eddyb: not usually. definitely not on os x
[21:17:43] <eddyb> you mean glutin_window?
[21:17:49] <bvssvni> eddyb: yes
[21:17:54] <ytain> on osx I can use glsl 3.30 
[21:18:00] <ytain> on intel hd3000
[21:18:04] <eddyb> the only reason I haven't removed glutin_window yet is because I need to figure out events
[21:18:13] <ytain> also I can use glsl 1.50
[21:18:40] *** Joins: Kingsquee (kingsley@moz-3fm07c.bchsia.telus.net)
[21:18:55] <eddyb> even if you're requesting 2.1?
[21:19:02] <cmr> ytain: in a 2.1 context?
[21:19:15] <ytain> cmr in a 3.3 context
[21:19:20] <cmr> ok, sure, obviously..
[21:20:04] <bvssvni> eddyb: it’s not that hard to figure out events
[21:20:16] <bvssvni> eddyb: look in the events and event_loop library
[21:20:26] <ytain> I can't seem to be able to initiate the compatible mode for opengl in osx so I don't know if it works 
[21:21:46] <fkaa> osx only support 2.1, 3.2 core and 4.1 core
[21:22:05] <ytain> 3.2?
[21:22:16] <fkaa> 150 is 3.2
[21:22:26] <ytain> here it is 3.3
[21:22:34] <fkaa> 3.3 is 330?
[21:22:38] <ytain> yes
[21:22:57] <ytain> yet i can use 150 on 3.3
[21:23:26] <fkaa> you can use previous versions even on higher versions
[21:23:30] <fkaa> as long as it's core
[21:23:40] <ytain> ok
[21:24:01] *** Quits: hhhhhhhhhh (mike@moz-969kuj.cable.virginm.net) (Quit: WeeChat 1.1.1)
[21:24:08] <bvssvni> eddyb: I am not trying to convince you to use piston, because you won’t get the point anyway
[21:25:25] <eddyb> there isn't a point, just look at that compact code :P
[21:25:45] <bvssvni> eddyb: it’s not the code
[21:26:04] <bvssvni> eddyb: it’s supporting future hardware and make it work with other libraries
[21:26:33] <eddyb> there's no way I could've produced something like that by fiddling with piston2d-graphics
[21:26:39] *** Joins: hhhhhhhhhh (mike@moz-969kuj.cable.virginm.net)
[21:26:56] <eddyb> bvssvni: I can support gfx-rs with my own abstractions much easier than I can with graphics
[21:27:36] <bvssvni> eddyb: yes you can, by copying piston
[21:27:37] *** Joins: Rym (y@moz-o80acm.range86-189.btcentralplus.com)
[21:27:44] <kvark> eddyb: perhaps, you could split it out in a separate library, to get some competition for piston/graphics?
[21:28:32] <bvssvni> eddyb: you use piston to make the application and piston is designed to make it easy to swap things out
[21:29:04] <eddyb> using piston with this was a PITA
[21:29:27] <eddyb> and it's hard to impossible to fix it in-place
[21:30:41] <eddyb> I don't hate piston and it's pretty nice for a game. if I was still working on hematite, I would keep it there
[21:31:19] *** Quits: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com) (Connection closed)
[21:31:51] <bvssvni> eddyb: you don’t open issues on piston
[21:32:01] <eddyb> lol, so this shows up on the profile
[21:32:06] *** Joins: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com)
[21:32:10] <eddyb>   6.45 │        cmp    %fs:0x70,%r11
[21:32:42] <cmr> cache miss?
[21:32:46] <cmr> smack it with vtune :)
[21:33:13] <eddyb> maybe tomorrow
[21:33:37] <kvark> cmr: is it a part of the Parallel Studio XE, or did you request vtune by email?
[21:33:45] *** Quits: mindtree (Mitch@moz-maa.quv.240.116.IP) (Ping timeout: 121 seconds)
[21:34:00] <cmr> kvark: it's part of Parallel Studio XE, yeah.
[21:34:22] <cmr> eddyb: it's a few gigs, might want to start the download while you're away if you can
[21:34:46] <eddyb> bvssvni: what should the issue say, "piston doesn't work for something it wasn't designed to do"? I'm not trying to be hypocritical here
[21:35:26] <bvssvni> eddyb: I want to help you but yesterday you complained about things that wasn’t piston-graphics fault
[21:37:18] <bvssvni> eddyb: I do my best to help people, that’s what I want
[21:39:15] <bvssvni> eddyb: if you want to develop a standalone app, that’s fine the way you do it
[21:40:03] <bvssvni> eddyb: if you want to use it as a widget, you need an abstraction, and you need separate libs for glue code
[21:40:08] *** Joins: mcanders (carter@moz-nl0.g9o.171.216.IP)
[21:41:08] <eddyb> bvssvni: except that *really* doesn't pull its weight
[21:41:57] <eddyb> I could make another Qt if I were crazy enough... or at least attempt to. not in my time budget anyways
[21:42:12] <bvssvni> eddyb: that’s not the point
[21:42:16] <eddyb> and I do not see the point of reinventing things we know to be suboptimal at best
[21:42:59] <kvark> eddyb: I'm curious, where exactly piston-graphics design diverge with what you are building?
[21:43:00] <eddyb> frankly, I sense some emotional overload here, and you should remember that this is a demo
[21:43:05] *** Quits: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP) (Connection closed)
[21:43:19] <bvssvni> eddyb: I don’t want to go through every little lesson learned from piston and duplicate that work for r3
[21:43:36] <bvssvni> eddyb: that costs me time
[21:43:48] <eddyb> who said anything about wasting your time?
[21:44:02] *** Quits: Gabriel_7 (Gabriel@moz-shj839.mtgr.92aj.0e35.2a01.IP) (Connection closed)
[21:44:21] <bvssvni> eddyb: I’m helping you because I want r3 to succeed
[21:44:43] <bvssvni> eddyb: but that takes longer time because there is more overlap
[21:45:39] <eddyb> kvark: fixed shaders, f64 + matrix transforms all over the place, no nice way to get at the guts of something and turn it upside down (figuratively)
[21:46:24] <eddyb> kvark: the glyph cache for glium_graphics is outright unusable and gfx_graphics is deferred
[21:46:43] <kvark> eddyb: what are your shaders doing?
[21:46:47] <eddyb> so I had to reimplement that to get fonts working
[21:47:16] <eddyb> kvark: right now, pixelspace -> screenspace
[21:47:40] <mcanders> Im trying to add uniforms to a glium::uniforms::UniformsStorage at runtime in a for loop but it seems impossible because its type changes with each .add(). has anyone been able to do this?
[21:47:50] <eddyb> but I want to experiment with layer visualization and accelerated text rendering
[21:47:57] <eddyb> among many other things
[21:48:18] <kvark> eddyb: I see. Text rendering would indeed require a lot of guts to be accessible
[21:48:42] <kvark> eddyb: I think I can make the gfx_graphics immediate
[21:49:28] <eddyb> a shader for cheap circles would be handy... even though I don't want to throw away my pretty polygon-based code
[21:49:53] <eddyb> I guess I can keep it for an OpenGL 1.1 implementation if I ever feel like making one of those
[21:50:17] <cmr> you can do it with a single branch and a multiply/compare :P
[21:50:53] <eddyb> yeah, I know how to do it, but I couldn't do it at all in the context of piston-graphics
[21:50:54] <cmr> if you need a filled circle, that is.
[21:50:55] <mcanders> I also tried implementing my own UniformsStorage similar to the old glium implementation, but I dont think it is possible due to the removal of IntoUniformValue<'a>
[21:51:00] <cmr> sure, yeah.
[21:52:04] <eddyb> cmr: two branches for hollow (a circle-shaped border, effectively)?
[21:52:26] <cmr> yeah
[21:52:35] <cmr> or, one branch on an AND
[21:52:36] <eddyb> though there might be a nice way to test that a value is in a range
[21:53:12] <cmr> no branches if you do a lookup in a 1D texture based on the position.
[21:53:32] <cmr> offset from center in [0,1]
[21:53:39] <cmr> could probably do some nice effects with that
[21:54:01] <eddyb> gradients?
[21:55:12] <eddyb> anyways, it's getting really late for me here. thanks for all the fish^W fun and good night :)
[21:55:24] <bvssvni> eddyb: good night!
[21:56:42] <kvark> mcanders: I briefly looked at the code and didn't find a solution for dynamically added uniforms
[21:57:40] <kvark> cmr: where are the gfx docs now?
[21:58:23] <tomaka> mcanders: all you need is a struct that implements the "Uniforms" trait
[21:58:36] <tomaka> mcanders: but you can actually use a for loop
[21:58:47] <tomaka> mcanders: oh wait no, since the type changes
[22:00:55] *** Quits: eddyb (Mibbit@moz-9pm.kjd.26.188.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[22:06:58] <mcanders> tomaka: yeah i've been struggling with this for awhile now
[22:07:40] <mcanders> tomaka: yeah i've been struggling with this for awhile now
[22:07:47] <mcanders> haha whoops
[22:11:01] *** Quits: Rym (y@moz-o80acm.range86-189.btcentralplus.com) (Connection closed)
[22:12:24] *** Joins: Rym (y@moz-o80acm.range86-189.btcentralplus.com)
[22:17:59] *** Joins: stjahns (stjahns@moz-lt41k6.uws.ualberta.ca)
[22:20:00] *** Joins: canhtak (canhtak@moz-1a9fh1.luxdsl.pt.lu)
[22:22:47] *** Joins: summerlight (summerlight@moz-99k.2mj.130.121.IP)
[22:32:05] *** Quits: jaen (jaen@moz-ifmik2.copit.pl) (Connection closed)
[22:33:37] *** Joins: Boscop (me@moz-mng.1d2.131.183.IP)
[22:38:12] *** Quits: Boscop (me@moz-mng.1d2.131.183.IP) (Ping timeout: 121 seconds)
[22:40:46] *** Quits: bjz (bjz@moz-puppgq.tpgi.com.au) (Quit: My Mac has gone to sleep. ZZZzzz…)
[22:41:02] *** Quits: wippler (Mibbit@moz-galk7o.pools.vodafone-ip.de) (Quit: http://www.mibbit.com ajax IRC Client)
[22:43:11] *** Quits: nil (nil@moz-nh2oqk.cghv.b1d9.0003.2601.IP) (Quit: Leaving)
[22:45:46] *** Quits: summerlight (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[22:48:43] *** Quits: hhhhhhhhhh (mike@moz-969kuj.cable.virginm.net) (Quit: WeeChat 1.1.1)
[22:51:52] *** Joins: Boscop (me@moz-5ac.5rj.126.98.IP)
[22:53:49] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[22:54:39] <kvark> congrats to the piston/image team! exciting to see it used in (production?) servo
[22:55:27] <fkaa> nice
[22:55:43] <fkaa> still stumped they implemented webp in rust entirely
[22:55:58] <kvark> oh did they? that's cool
[22:58:07] <fkaa> goodnight
[22:58:16] <kvark> 'night fkaa
[22:59:10] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[23:01:47] *** Joins: saml_ (saml@moz-rkfmct.res.rr.com)
[23:03:37] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[23:06:55] *** Quits: canhtak (canhtak@moz-1a9fh1.luxdsl.pt.lu) (Client exited)
[23:09:18] <cmr> kvark: gfx-rs.github.io/gfx-rs
[23:17:01] *** Joins: harrisonclarke (harrisoncla@moz-b21rr4.eastlink.ca)
[23:20:10] *** Quits: mirgatroid (Mibbit@moz-1an.tvi.50.65.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[23:21:58] <kvark> cmr: thanks
[23:22:03] *** Quits: harrisonclarke (harrisoncla@moz-b21rr4.eastlink.ca) (Ping timeout: 121 seconds)
[23:22:16] <cmr> Sorry, meant to update the readme but forgot...
[23:22:42] <kvark> fkaa had some nice documentation badge in his README version
[23:22:49] <kvark> gtg
[23:22:53] *** Quits: kvark (Mibbit@moz-p3c.rcb.221.216.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[23:23:12] *** Quits: stjahns (stjahns@moz-lt41k6.uws.ualberta.ca) (Connection closed)
[23:26:57] <mcanders> tomaka: if you are still here, I settled on this (in the short term... i have a deadline i need to meet).  Its the worst thing ive ever written but it works. http://is.gd/IXXP8Z
[23:28:35] *** Joins: harrisonclarke (harrisoncla@moz-b21rr4.eastlink.ca)
[23:28:45] <mcanders> ignore that UVal on line 13.  http://is.gd/MCkxRg
[23:30:33] *** Joins: dlc (dlc@moz-ijetde.res.rr.com)
[23:30:42] *** Quits: dlc (dlc@moz-ijetde.res.rr.com) (Connection closed)
[23:32:09] *** Joins: orangeshark (erik@moz-ajq3v2.44tj.56ot.0306.2602.IP)
[23:32:45] *** Quits: chris3 (chris@moz-ci61eb.nj.comcast.net) (Ping timeout: 121 seconds)
[23:32:48] *** Joins: chris3 (chris@moz-ci61eb.nj.comcast.net)
[23:34:15] *** kimundi is now known as zz_kimundi
[23:34:41] *** Joins: chris4 (chris@moz-ci61eb.nj.comcast.net)
[23:36:52] *** Quits: chris3 (chris@moz-ci61eb.nj.comcast.net) (Ping timeout: 121 seconds)
[23:48:48] *** Joins: Wild_Cat (Max@moz-fa8mvt.dsl.teksavvy.com)
[23:49:32] *** Quits: Astrum|Lap (Astrum|Lap@moz-7enfbr.co.comcast.net) (Client exited)
[23:59:03] *** Quits: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
