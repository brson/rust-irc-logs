[00:00:05] <myname> there is no "null" as in "value-free thing that matches every type" in rust, is there?
[00:00:06] <dbaupp> myname: what version of rustc do you have?
[00:00:20] <myname> 0.8, why?
[00:00:29] <strcat> myname: no, types aren't nullable unless it's part of what they are
[00:00:31] <strcat> like Option
[00:00:44] <dbaupp> myname: because push_fast used to be a method and was moved to be internal to .push at some point
[00:01:03] <dbaupp> (so if you're still seeing .push_fast as a method on ~[] then that's probably the reason)
[00:01:14] <Luqman> dbaupp: the problem with that was how we keep track of destructors for structs
[00:01:19] <myname> i don't, i'm looking at the source
[00:01:37] <ruzu> is github.com/mozilla-servo "official"?
[00:02:00] <myname> what is ""official""?
[00:02:05] <ruzu> first party
[00:02:12] *** Joins: Sorella (user@9D963F5D.DF5D8AE7.54BCAB54.IP)
[00:02:24] <dbaupp> ruzu: yes, that's the official mozilla organisation for servo stuff
[00:03:07] <myname> if it's not official it wouldn't label themself mozilla, i guess
[00:03:25] *** Joins: matt-r (mattr@8B499E37.E81D922B.BECC6F7D.IP)
[00:03:27] <ruzu> you'd hope, but it is the wild interwebz out there :P
[00:03:34] <dbaupp> myname: it could be a squatter pretending to be mozilla ;)
[00:03:41] <kmc> it is official, but a few of those repos are forks, so some bugs etc. should be submitted upstream
[00:04:07] *** Parts: jeffb (jeffbelg@moz-ABCAA64B.efi.com) ()
[00:05:14] *** Quits: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net) (Quit: jmgrosen)
[00:06:37] <brson> Eridius: fyi I still haven't received confirmation of your committer agreement. sorry for the delay
[00:08:09] *** Quits: lht (lht@A1371695.366ACFAA.7BA1798C.IP) (Quit: lht)
[00:11:22] *** Joins: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net)
[00:11:26] *** Joins: ianj (ianjneu@moz-7BA002E.hsd1.ma.comcast.net)
[00:13:12] <strcat> huh
[00:13:22] <strcat> http://blog.frama-c.com/index.php?post/2013/10/09/Overflow-float-integer I wonder if this is an issue for us
[00:13:24] <strcat> need to check
[00:14:08] *** Quits: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl) (Client exited)
[00:14:26] *** Quits: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net) (Quit: jmgrosen)
[00:14:47] *** Quits: maik (maik@moz-36BC9EB6.dip0.t-ipconnect.de) (Ping timeout)
[00:16:04] *** kimundi is now known as zz_kimundi
[00:16:42] <kmc> rusti: struct Foo { x: ~str }; fn f() { let y = Foo { x: ~"foo" }; match y { Foo { ref x } => x } }
[00:16:42] -rusti- pastebinned 7 lines of output: http://sprunge.us/XdLP
[00:16:52] *** Joins: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net)
[00:16:58] <kmc> is there syntax to make that "ref x" work?
[00:17:13] <strcat> kmc: x: ref x
[00:17:33] <kmc> ok
[00:17:54] *** Joins: Yeri (jasonjasmi@41C91A8A.CE609BA5.E39FBF79.IP)
[00:18:02] *** Quits: alon (alon@moz-AC8C0D22.bb.netvision.net.il) (Ping timeout)
[00:18:08] *** Joins: maik (maik@moz-36BC9EB6.dip0.t-ipconnect.de)
[00:18:13] <kmc> thanks
[00:18:14] <dbaupp> kmc: https://github.com/mozilla/rust/issues/6137, fwiw
[00:18:28] <kmc> how did you find that so quickly
[00:18:51] * dbaupp is magic
[00:18:58] <kmc> :O
[00:19:09] <kmc> also is there something like 'ref' which matches a ~str as &str (rather than &~str)
[00:19:13] <kmc> or do I have to call .as_slice()
[00:19:13] <dbaupp> nah, I'd filed a duplicate bug, and triaged that one, so I knew exactly what I was looking for
[00:19:14] *** Quits: riley (riley@8BA43816.9AA11D69.65DDFA89.IP) (Client exited)
[00:19:17] <dbaupp> .as_slice
[00:19:21] <kmc> ok
[00:20:48] <ruzu> error: Couldn't find package std in any of the workspaces in the RUST_PATH  :'(
[00:21:52] <tjc> ruzu: what command line are you typing in, first of all?
[00:22:30] <ruzu> rustpkg build
[00:22:59] <tjc> what does `which rustpkg` say?
[00:23:11] *** Quits: maik (maik@moz-36BC9EB6.dip0.t-ipconnect.de) (Ping timeout)
[00:23:31] <ruzu> .     /e/rust/bin/rustpkg.exe
[00:23:53] <tjc> hmm
[00:24:02] <ruzu> same in msys or from cmd
[00:24:15] <ruzu> rustc works fine (ostensibly, i haven't taxed it much)
[00:24:20] <tjc> and you installed using the usual build instructions for Windows?
[00:24:33] <ruzu> aye
[00:24:47] <ruzu> downgraded gcc, copied the dlls, upgraded again
[00:24:51] <ruzu> everything seems great
[00:25:16] <tjc> Can you set RUST_LOG to "rustpkg", re-do the same command again, and gist the output
[00:25:19] <tjc> ?
[00:27:28] <Eridius> brson: yeah, I noticed the ticket hadn't been updated yet. Is there something I should do at this point?
[00:28:21] *** Quits: tiffany (kawaii@moz-28A8742A.dhcp.embarqhsd.net) (Ping timeout)
[00:29:02] *** Joins: tiffany (kawaii@moz-28A8742A.dhcp.embarqhsd.net)
[00:29:15] <ruzu> http://pastebin.com/W3N8Mbna
[00:29:30] <ruzu> that's from cmd, msys was the same
[00:30:11] <tjc> ruzu: looking at it
[00:31:22] *** Quits: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net) (Ping timeout)
[00:31:30] <ruzu> i wonder if the bit where it says listing rust/lib 0 entries is bad :3
[00:31:56] *** Joins: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net)
[00:32:38] *** Parts: tefter (tefter@B5D119DC.B856A0A1.73804765.IP) (Leaving)
[00:33:11] *** Quits: gyutyuglf (gyutyuglft@5B8EAF5B.FEED97F.B88AD130.IP) (Ping timeout)
[00:33:45] *** Quits: nkoep (nik@moz-3669E081.vpn.rwth-aachen.de) (Ping timeout)
[00:36:01] *** Joins: Yurume (yurume@AC58A8CE.8A059B47.E313B915.IP)
[00:36:08] *** jorendorff is now known as jorendorff_away
[00:37:11] *** jorendorff_away is now known as jorendorff
[00:37:31] *** Joins: lfox (larryfox@moz-B8648F0F.nycmny.fios.verizon.net)
[00:38:03] *** Quits: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net) (Quit: jmgrosen)
[00:39:25] *** Quits: gandalf (zbraniecki@moz-BE33DA21.fw1.sfo1.mozilla.net) (Quit: My lid went down)
[00:41:27] *** jorendorff is now known as jorendorff_away
[00:45:47] *** Joins: spott (spott@moz-9B11536C.hsd1.co.comcast.net)
[00:45:51] *** Joins: p_adams (p_adams@moz-EB08CC70.dhcp.stls.mo.charter.com)
[00:47:21] *** Quits: dandy (Dandy@moz-84CC8377.hsd1.co.comcast.net) (Quit: Leaving)
[00:47:30] *** Quits: spott (spott@moz-9B11536C.hsd1.co.comcast.net) (Ping timeout)
[00:52:14] *** Joins: nkoep (nik@moz-F97E4EB2.pool.mediaways.net)
[00:54:26] *** jorendorff_away is now known as jorendorff
[00:55:06] *** Quits: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net) (Quit: Leaving.)
[00:55:41] <brson> Eridius: nah. I updated the ticket so hopefully someone will get pinged
[00:55:47] <Eridius> brson: thanks
[00:56:00] <Eridius> brson: btw, regarding Path, I'm not happy about removing the &mut functions
[00:56:04] *** Quits: tjc (tjc@moz-7B0110AD.mv.mozilla.com) (Quit: Places to go, people to annoy)
[00:56:05] <hoverbear> Ada is super interesting. Huh.
[00:56:17] <ruzu> ada...
[00:56:39] <Eridius> I recognize the desire to reduce the API surface, but it seems like forcing Path's public API to be purely immutable is an unnecessary performance waste
[00:57:19] <Eridius> for example, in at least two places in our source base, we have `path.pop(); path.pop(); path.pop(); path`. It seems like a huge waste to produce 3 extra copies of the Path just so we don't modify the original
[00:58:04] <Eridius> also in terms of code reduction, all the non-mutating functions are almost exclusively written as simple wrappers around the mutation functions, operating on a clone of the receiver. So it would be a very small reduction in code size to remove the mutation methods
[00:58:14] <Eridius> (in fact, I'd probably do so merely by making them priv, so no reduction in code size at all)
[00:58:58] * Eridius goes back to work, is happy to discuss this later if you want
[00:59:03] *** Joins: mib_9v3qpv (Mibbit@EEF5D8A7.AB90FD70.31FD74A3.IP)
[00:59:12] <hoverbear> ruzu: Have you used it?
[00:59:20] *** Quits: mib_9v3qpv (Mibbit@EEF5D8A7.AB90FD70.31FD74A3.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[01:00:43] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[01:04:19] *** jorendorff is now known as jorendorff_away
[01:05:07] *** Quits: dbaupp (Thunderbir@moz-4301A13F.lns20.syd6.internode.on.net) (Ping timeout)
[01:05:19] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[01:07:34] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Client exited)
[01:07:55] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[01:08:47] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Connection reset by peer)
[01:08:49] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[01:09:26] <brson> Eridius: ok, understood
[01:10:10] <brson> Eridius: do you have a sense for how this api compares to other languages? are there features we're implementing that are uncommon?
[01:10:32] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Ping timeout)
[01:10:38] <ruzu> hoverbear, admittedly no :]
[01:11:37] <Eridius> brson: most languages I'm used to using represent paths using strings
[01:11:51] <Eridius> but typically have functions that provide most of the same functionality we're doing here
[01:11:57] <brson> there's an unusally large amount of conversation on the open pull requests
[01:12:03] *** Joins: jmgrosen (jmgrosen@moz-F947D1B7.cs.ucsb.edu)
[01:12:05] <brson> I wonder what that indicates
[01:12:34] *** Quits: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com) (Ping timeout)
[01:12:37] <cmr> That we're actually closely reviewing changes? ;)
[01:12:42] <Eridius> here are some things I find uncommon about my path impl:
[01:13:03] <Eridius> 1) a full set of functions that return a modified clone instead of mutating the receiver. e.g. obj-c has some of these operations, but not all of them
[01:13:20] <Eridius> 2) the ability to set the dirname seems odd to me, but the old path had it
[01:13:33] <Eridius> (I'm not sure what languages provide that functionality, but I've certainly never used it before)
[01:14:03] * cmr doesn't know what a dirname is
[01:14:04] <Eridius> 3) add_extension() is unusual. Actually, I should probably just remove it
[01:14:15] <Eridius> cmr: filename and dirname, a/b/c: c is the filename, a/b is the dirname
[01:14:17] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[01:14:45] <cmr> Ah, that dirname.
[01:14:51] <cmr> It lets you modify that separately? Weird
[01:14:51] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Input/output error)
[01:15:06] <Eridius> 4) file_path() seems slightly odd to me
[01:15:07] *** Quits: jmgrosen (jmgrosen@moz-F947D1B7.cs.ucsb.edu) (Quit: jmgrosen)
[01:15:19] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[01:15:52] *** Quits: mib_cfgjtx (Mibbit@96AC98ED.4BDE79FD.86CC3CCD.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[01:15:55] <Eridius> .path_relative_from() and .ends_with_path() are also a bit unusual, but useful so we should definitely keep them
[01:16:03] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Ping timeout)
[01:16:23] <Eridius> .root_path() is also unusual, but it exists because of WindowsPath. I think it's unusual because I haven't actually seen a good Path implementation in another language that handles windows paths well
[01:16:33] <brson> Eridius: I thought that all those mutators that allowed one to edit parts of the path were a little odd
[01:17:10] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Ping timeout)
[01:17:22] <Eridius> so I guess I'm inclined to say we should remove .set/with_dirname(), .add_extension(), and .file_path()
[01:17:40] <Eridius> .dir_path() is useful, so we keep it, although I'm also inclined to remove .pop() and rename .dir_path() to be .pop()
[01:17:42] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Client exited)
[01:17:54] <Eridius> oops that's not quite right, that's mutable vs non-mutable
[01:18:00] <Eridius> ok yeah, keep .dir_path().
[01:18:17] <Eridius> but I'm going to remove the return value from .pop(), since I think it's ignored more often than it's used in our source base (and it allocates)
[01:19:07] <Eridius> setting filename and extension, useful. Setting filestem.. I dunno. Maybe remove?
[01:19:57] <Eridius> ok so that's 6 functions to remove. .set_dirname(), .with_dirname(), .set_filestem(), .with_filestem(), .add_extension(), and .file_path()
[01:20:26] <Eridius> brson: does that sound reasonable?
[01:22:29] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[01:23:45] *** Joins: nejucomo (Adium@moz-B62B9944.public.monkeybrains.net)
[01:24:11] <hoverbear> ruzu It's… interesting.
[01:24:13] <brson> Eridius: I think so. Can you propose it on the PR and see what acrichto thinks?
[01:24:54] <nejucomo> Is it possible to reflect on a function to determine its argument types?  It it possible to determine if those types implement a particular trait?
[01:24:56] <Eridius> brson: typing it up right now
[01:24:57] <brson> Eridius: so is it true that most languages don't deal with non-utf8 paths corretly?
[01:25:53] <klutzy> on python, path is either unicode or bytes
[01:26:05] <klutzy> so you can use non-utf8 paths via bytes on unix
[01:26:26] <Eridius> brson: I don't know. I think most languages are less strict about their string types
[01:26:34] <klutzy> on windows it is reversed :o bytes are just locale-dependent strings, not arbitrary ones
[01:26:41] <Eridius> Rust is fairly special in that it refuses to allow a non-utf8 string value
[01:27:08] *** Joins: jeaye (Jeaye@moz-34FEF2BB.hsd1.ca.comcast.net)
[01:27:12] <nejucomo> It allows non-utf8 string values…  They're just not in the stdlib.  ;-p
[01:27:13] *** Quits: lfox (larryfox@moz-B8648F0F.nycmny.fios.verizon.net) (Quit: )
[01:27:17] *** p_adams is now known as yrdz
[01:27:30] <klutzy> so (on win) you can't represent unicode paths which cannot be encoded as system locale
[01:27:34] *** Quits: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net) (Quit: Textual IRC Client: www.textualapp.com)
[01:27:38] *** Joins: brson_ (brson@63DCD950.E4213B29.318DADF5.IP)
[01:28:08] <klutzy> using bytes.
[01:28:26] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[01:28:37] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[01:28:37] *** ChanServ sets mode: +ao brson brson
[01:29:50] *** Quits: brson_ (brson@63DCD950.E4213B29.318DADF5.IP) (Ping timeout)
[01:30:16] <Eridius> brson: PR updated
[01:30:20] <klutzy> and I guess non-utf16 ~[u16] paths are just unusable on python+win
[01:30:22] *** Joins: brson_ (brson@981AA104.E81F12CD.76F66111.IP)
[01:30:48] * nejucomo is reminded of the complexity of managing file path encodings on multiple platforms faced by tahoe-lafs: https://tahoe-lafs.org/trac/tahoe-lafs/ticket/534#comment:47
[01:31:25] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[01:32:14] *** Quits: jeffreybaird (jeffreybai@moz-ED3EF543.static.twtelecom.net) (Quit: jeffreybaird)
[01:32:20] <nejucomo> Hrm…  I wonder how/if pyfilesystem grapples with the complexity: http://code.google.com/p/pyfilesystem/ 
[01:32:35] <nejucomo> "Differences in path formats between platforms are abstracted away"
[01:32:41] <nejucomo> That makes me worry.
[01:32:49] *** Quits: ianj (ianjneu@moz-7BA002E.hsd1.ma.comcast.net) (Input/output error)
[01:32:49] *** Joins: jeffreybaird (jeffreybai@moz-ED3EF543.static.twtelecom.net)
[01:33:00] <nejucomo> Actually I think the phrase "abstracted away" always worries me.
[01:33:25] <myname> in this case you might not want to write anything but assembly
[01:34:48] *** jorendorff_away is now known as jorendorff
[01:35:12] *** jorendorff is now known as jorendorff_away
[01:36:10] <klutzy> nejucomo: they seem to assume unicode path
[01:36:27] *** Joins: LimeBurst (me@247D1419.D73964AC.27A8748.IP)
[01:36:39] <klutzy> (pyfilesystem)
[01:37:43] *** Quits: jordyd (jordyd@7DAC4ACE.77F880E0.D9401097.IP) (Input/output error)
[01:38:00] *** Joins: eholk (eholk@moz-F70D5031.hsd1.in.comcast.net)
[01:38:20] *** Quits: pcwalton (pcwalton@moz-BE33DA21.fw1.sfo1.mozilla.net) (Quit: pcwalton)
[01:39:50] *** Joins: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net)
[01:40:53] <nejucomo> myname: I'm fine with "abstracted", so long as the underlying complexity is well acknowledged.
[01:41:38] *** Joins: maik (maik@moz-36BC9EB6.dip0.t-ipconnect.de)
[01:42:16] <nejucomo> For example "abstracing away" filename encodings …  what happens when a linux user uses pyfilesystem to interact with files/directories written with different locale settings?
[01:42:34] <nejucomo> *abstracting*
[01:45:22] *** Joins: pnathan1 (Adium@moz-BDC3EE62.tukw.qwest.net)
[01:46:25] *** Quits: brson_ (brson@981AA104.E81F12CD.76F66111.IP) (Ping timeout)
[01:47:20] *** Joins: TheGag96 (Mibbit@moz-B6973CF1.lightspeed.stlsmo.sbcglobal.net)
[01:48:12] <TheGag96> Hi guys, pretty new to Rust here. I'd just like to ask: What editor do you prefer coding in with Rust?
[01:48:52] <doomlord_> emacs for me
[01:49:00] <TheGag96> Do you have syntax highlighting?
[01:49:04] <doomlord_> yes
[01:49:10] <kmc> we have it for vim too
[01:49:13] <SiegeLord> I like geany, although it's syntax highlighting isn't quite there yet
[01:49:21] <mcpherrin> Rust ships with highlighting for Kate, emacs, vim, gedit
[01:49:45] <mcpherrin> (assuming I didn't miss any in src/etc)
[01:49:46] *** Joins: jmgrosen (jmgrosen@moz-F947D1B7.cs.ucsb.edu)
[01:51:01] *** Joins: brson (brson@63DCD950.E4213B29.318DADF5.IP)
[01:51:01] *** ChanServ sets mode: +ao brson brson
[01:51:07] <TheGag96> I'm stuck on Windows at the moment. RustyCage is alright, but I really don't want to have to open Eclipse all the time lol
[01:52:42] <aatch> TheGag96, gvim on windows isn't too bad
[01:52:53] <aatch> (assuming you don't mind Vim)
[01:53:59] <kmc> we recently got good Eclipse debugger integration: http://michaelwoerister.github.io/2013/09/27/what-you-call-the-present.html
[01:54:02] <TheGag96> Eh... Personally I never understood the appeal of using command-line editors
[01:54:18] <aatch> TheGag96, gvim isn't really command-line though.
[01:54:19] <strcat> vim isn't a 'command-line editor'
[01:54:42] <aatch> I use my mouse all of the time to browse through code.
[01:54:43] <doomlord_> debugger integration ? breakpoints,stepping thorugh source ?
[01:54:59] <mcpherrin> I only use command line editors
[01:55:01] <mcpherrin> Ed for the win
[01:55:02] <strcat> there is vim gdb integration
[01:55:04] <TheGag96> Well gvim isn't exactly, but vim is, right?
[01:55:06] <strcat> with breakpoints in the margin
[01:55:18] <mcpherrin> Depends if you consider a terminal to be command line ;)
[01:55:21] <aatch> TheGag96, it's in a terminal, yes.
[01:55:35] <mcpherrin> ncurses is a gui! a guiiiiii1!!
[01:55:41] * mcpherrin leaves
[01:55:43] <strcat> it doesn't use ncurses anyway
[01:56:00] <TheGag96> shit did i fail some test about terminals vs command lines
[01:56:05] <mcpherrin> You see the point I'm making anyways ;)
[01:56:20] <mcpherrin> TheGag96: I'm just being pedantic.  Ignore it.
[01:56:32] <aatch> TheGag96, well if all you have to go by is the Windows command line, then you don't have a very good view of terminals
[01:56:39] <strcat> but yes, it's a graphical user interface rendered in something that's not text-based or a command-line
[01:56:58] <strcat> the terminal is essentially a GUI toolkit from vim's POV
[01:57:06] *** Quits: eholk (eholk@moz-F70D5031.hsd1.in.comcast.net) (Quit: eholk)
[01:57:14] <strcat> it listens to raw events, and sends render commands
[01:57:52] *** Quits: nkoep (nik@moz-F97E4EB2.pool.mediaways.net) (Client exited)
[01:58:32] <TheGag96> Ah, ok. And lol thanks mcpherrin. Don't worry, I've used the Linux terminal loads of times before, but never anything advanced.
[01:58:40] <kmc> but gvim is a full gui windows app... http://portablegvim.sourceforge.net/images/gvimportable.png
[01:59:26] <TheGag96> Just mostly compiling things from source and other general things when using Linux
[02:00:18] <TheGag96> kmc: I did see that but it seems almost like a simulated terminal within a GUI to me, at least from this image
[02:00:27] <TheGag96> Lemme just try it out, I guess lol
[02:01:14] <kmc> shrug
[02:01:35] <myname> well, text editors should be mosly text, shouldn't they?
[02:01:40] *** Joins: sanxiyn (tinuviel@B4104EBB.3CC170B1.1E14B209.IP)
[02:01:45] <kmc> anything where you're editing code in a fixed width font will look a lot like a terminal
[02:02:03] <strcat> myname: colors and stuff they draw (tabs, borders for splits, status, code completion)
[02:02:29] <strcat> gvim isn't at all a terminal
[02:03:22] <TheGag96> My god, I just happened to download gvim from softonic and if you're not careful, the installer downloads AVG and some Quickshare bullshit
[02:03:37] <strcat> why not download the official gvim windows build?
[02:04:03] *** Quits: maik (maik@moz-36BC9EB6.dip0.t-ipconnect.de) (Ping timeout)
[02:05:21] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[02:06:37] <TheGag96> i just went to the first link google gave me
[02:06:58] <sanxiyn> Generally a bad idea :(
[02:07:04] <sanxiyn> (For software download, at least)
[02:07:05] <TheGag96> Yeah, yeah...
[02:07:55] <TheGag96> I'm sorta tired tonight, I hardly care lol
[02:08:06] <TheGag96> Now I have to learn how the hell to use vim, which I could never figure out
[02:08:13] <TheGag96> Never spend too much time with it either
[02:08:38] <aatch> TheGag96, heh. When I started learning it, I disabled the arrows keys.
[02:08:44] <myname> vimtutor helps a lot
[02:09:09] <cmr> teree's also that vim adventure thingy
[02:09:29] <TheGag96> Why do you need to go on an adventure to learn how to use a text editor
[02:09:52] <SiegeLord> Don't use vim if you don't like climbing cliffs :P
[02:10:02] <myname> because vim is awesome
[02:10:13] <aatch> SiegeLord, fortunately, I'm a fan of EvE and dwarf fortress
[02:10:28] <SiegeLord> I mastered DF, still can't figure out vim
[02:10:31] <strcat> vimtutor takes 5 mins but doesn't leave you with anything but extreme basics
[02:10:33] <TheGag96> you see this is what i just don't understand
[02:10:39] <myname> aatch: ever heard of cataclysm dda?
[02:10:51] <aatch> myname, nope, should I have?
[02:10:59] <aatch> (I've not played EvE for a while)
[02:11:00] <devbug> So, zero.rs is outdated
[02:11:04] <TheGag96> what benefits does vim have that give it an excuse to be really really unituitive
[02:11:14] <devbug> and I want freestanding w/ all the stdlib goodies
[02:11:15] <aatch> TheGag96, being really intuitive
[02:11:18] <kmc> this is getting off-topic
[02:11:20] <myname> aatch: it's a pretty complex roguelike with zombie apocalypse setting
[02:11:24] <devbug> So, options?
[02:11:32] <strcat> devbug: you can't have freestanding and the stdlib
[02:11:32] <kmc> arguing about editors is the prototypical distraction for programmers :)
[02:11:33] *** Quits: fyolnish_ (fyolnish@moz-2C250486.uqwimax.jp) (Client exited)
[02:11:35] <kmc> error: internal compiler error: ty::Region#subst(): Reference to self region when given substs with no self region: substs(regions=[], self_ty=None, tps=[<V780>])
[02:11:41] <strcat> devbug: zero.rs became obsolete
[02:11:47] <kmc> ^--- known issue? should I try to get a minimal example?
[02:11:48] <devbug> strcat: yes, yes, I know
[02:11:59] <devbug> I'll clarify
[02:12:01] <strcat> well, you're not going to get both the stdlib and freestanding rust
[02:12:11] <devbug> What's the bare-minimum I need to get stdlib going
[02:12:19] <devbug> (I don't need tasks and the such)
[02:12:24] <devbug> Just god damn iterators
[02:12:48] <strcat> devbug: you pretty much just have to copy-paste the parts you need at this point
[02:12:59] <devbug> strcat: just what I feared
[02:13:00] <strcat> in fact I just started a little stub stdlib that will only depend on libc
[02:13:07] <strcat> mostly for benchmarking purposes
[02:13:18] <devbug> strcat: link?
[02:13:24] <strcat> I really mean just started
[02:13:26] <strcat> ;p
[02:13:38] <devbug> strcat: might as well contribute
[02:14:47] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[02:16:05] *** Quits: nejucomo (Adium@moz-B62B9944.public.monkeybrains.net) (Quit: Leaving.)
[02:16:21] *** Joins: kasey (Kasey@moz-9BD6B08.resnet.ucla.edu)
[02:17:30] <strcat> devbug: well, I'll make a git repo soon
[02:17:41] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[02:17:55] <mcpherrin> strcat: it would be amazing if the set of things from the c lib also happened to be in newlib
[02:18:13] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[02:18:13] <mcpherrin> Would make rust's embedded story happier
[02:18:27] <strcat> well I'm not going to depend on anything that's not in libc at first
[02:18:41] <strcat> I'll make an optional posix extension, and I guess a linux one
[02:19:03] *** Quits: tiffany (kawaii@moz-28A8742A.dhcp.embarqhsd.net) (Ping timeout)
[02:19:07] *** Quits: yrdz (p_adams@moz-EB08CC70.dhcp.stls.mo.charter.com) (Quit: WeeChat 0.4.1)
[02:19:18] <strcat> I guess I could even separate the part depending on libc
[02:19:22] <mcpherrin> I've always joked that newlib is redhat making amends for glibc
[02:20:46] <TheGag96> So, now that I've more or less learned how to type things with vim, how do I get Rust's syntax highlighting for it?
[02:21:19] <strcat> TheGag96: the vim stuff is in src/etc/vim
[02:21:23] <strcat> in rust's repo
[02:21:30] <strcat> syntax highlighting, indenting, etc.
[02:21:58] <TheGag96> Ah, thanks, there it is!
[02:22:02] <strcat> and you'll need 'filetype indent plugin on' and 'syntax on' at least, in the vim config
[02:23:35] *** Quits: jdm (jdm@moz-25D04F84.zone16.bethere.co.uk) (Quit: Lost terminal)
[02:24:11] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Input/output error)
[02:24:15] *** Quits: BitPuffin (isak@moz-98F8BF74.cust.tele2.se) (Ping timeout)
[02:24:40] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[02:24:43] <TheGag96> It shows up now in gvim without doing that.
[02:25:43] <strcat> there's probably a default config
[02:25:49] <strcat> it might not enable the indent plugin though
[02:26:05] *** Quits: jmgrosen (jmgrosen@moz-F947D1B7.cs.ucsb.edu) (Ping timeout)
[02:26:23] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Ping timeout)
[02:27:21] *** Joins: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp)
[02:27:57] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[02:28:29] *** Quits: kasey (Kasey@moz-9BD6B08.resnet.ucla.edu) (Connection reset by peer)
[02:30:01] *** Quits: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com) (Quit: )
[02:30:58] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[02:30:59] <devbug> strcat: your github username?
[02:31:04] <strcat> thestinger
[02:31:16] <strcat> I didn't create a repo yet
[02:31:16] *** Joins: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se)
[02:31:24] <strcat> and it's really not going to have anything at first ;p
[02:31:27] <TheGag96> strcat: Where is this file you speak of?
[02:32:02] <devbug> strcat: create a god damn empty repo
[02:32:03] <strcat> TheGag96: I don't remember where it is on windows, it's called _vimrc though
[02:32:13] <devbug> strcat: that way I can fork
[02:32:20] *** Quits: zz_kimundi (kimundi@moz-2C31D0BE.dip0.t-ipconnect.de) (Ping timeout)
[02:32:58] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[02:33:15] <devbug> wait, wait. I can drive by create
[02:34:09] <TheGag96> Well, there's vimrc_example.vim
[02:34:52] <devbug> awh
[02:34:54] <kmc> how do I get the length of a str in bytes
[02:35:08] <devbug> It sends a request :(
[02:35:30] *** Joins: spott (spott@moz-9B11536C.hsd1.co.comcast.net)
[02:35:42] *** Joins: zz_kimundi (kimundi@moz-ED7978E9.dip0.t-ipconnect.de)
[02:35:45] <devbug> kmc: transmute? might not be idiomatic
[02:35:49] <strcat> devbug: https://github.com/thestinger/rust-core
[02:36:09] *** zz_kimundi is now known as kimundi
[02:36:12] <kmc> i guess .as_bytes().len()
[02:36:13] <devbug> strcat: cool. Thanks!
[02:38:35] <devbug> strcat: safe "wrappers"/declarations in symbols.rs
[02:39:03] <devbug> then libc.rs maps them to libc?
[02:39:04] <kmc> the fact that so many str ops take byte indices makes me sad :/
[02:39:51] <kmc> slash byte counts
[02:40:45] <TheGag96> Ok, so I have a dilemma:
[02:41:20] <TheGag96> I'm on Windows, and I have a MinGW installation with Rust 0.8 compiled and everything, works great
[02:41:40] <TheGag96> however, I have no way to automate using it in Eclipse or otherwise with a cmd script
[02:42:13] <sanxiyn> Automate what?
[02:42:15] <TheGag96> Using the Rust installer's rustc, which I COULD automate, I get a bunch of push/pop errors
[02:42:22] <TheGag96> well like
[02:42:22] <strcat> hrm
[02:42:32] <TheGag96> say i had some ide/editor, like eclipse or vim
[02:42:52] <TheGag96> I don't really have a way to easily compile it without lugging out the command line and doing it manually
[02:43:02] <sanxiyn> Ah
[02:43:20] * sanxiyn manually compiles on the command line, so doesn't know, sorry
[02:43:53] <TheGag96> u dont kno tru pain until u cant compile with one click </3
[02:44:14] <SiegeLord> Eclipse has ways to specify arbitrary building commands... used it back in the day for D
[02:44:23] *** Quits: pnathan1 (Adium@moz-BDC3EE62.tukw.qwest.net) (Ping timeout)
[02:44:35] <SiegeLord> I'm sure the other editors have that option too...
[02:44:37] * Sorella doesn't use an IDE, and running make inside Emacs is simple enough.
[02:44:40] <TheGag96> Oooh, D. I always wanted to get into it but kind of lost interest, went back to Java, then found Rust.
[02:44:58] <TheGag96> Anyhoo, how could I do that, SiegeLord?
[02:45:05] <SiegeLord> I don't recall
[02:45:11] <TheGag96> damn
[02:45:35] *** Quits: spott (spott@moz-9B11536C.hsd1.co.comcast.net) (Client exited)
[02:45:54] *** Quits: Yeri (jasonjasmi@41C91A8A.CE609BA5.E39FBF79.IP) (Quit: Yeri)
[02:45:55] *** Joins: pnathan1 (Adium@moz-BDC3EE62.tukw.qwest.net)
[02:47:31] <strcat> devbug: I'm not sure how big of a scope I want to do yet
[02:47:35] * strcat needs to think about it
[02:47:56] <devbug> fair enough
[02:48:01] *** Quits: Voomer (Voomer@moz-CC05FF5E.hsd1.wa.comcast.net) (Connection reset by peer)
[02:48:11] * devbug is just going to do his 'own' thing
[02:48:55] *** Quits: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu) (Ping timeout)
[02:50:27] *** Quits: Jesin (Jessin_@moz-635065E4.cc.lehigh.edu) (Input/output error)
[02:51:31] *** Joins: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net)
[02:52:48] <TheGag96> Oooohh, sweet, Sublime Text has a Rust plugin!
[02:53:42] *** Quits: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net) (Quit: jmgrosen)
[02:53:47] *** Joins: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net)
[02:58:02] <TheGag96> Sorry to keep asking questions of you guys, but what does "Error: invalid instruction suffix for `push'" and the like mean when I try to compile?
[02:58:30] <Eridius> instruction suffix? That sounds like a problem while assembling
[02:58:58] <TheGag96> Maybe there's 32-bit/64-bit confusion going on?
[03:00:22] *** Joins: ross (ross@moz-5EA04060.br.br.cox.net)
[03:02:32] *** Quits: sanxiyn (tinuviel@B4104EBB.3CC170B1.1E14B209.IP) (Quit: Leaving)
[03:04:40] *** Joins: dbaupp (Thunderbir@8D0E22F1.D5A1DCF.37681C44.IP)
[03:04:52] *** Joins: spott (spott@moz-9B11536C.hsd1.co.comcast.net)
[03:07:34] <kmc> that's my guess too
[03:07:55] <heftig> strcat: will the core runtime support all language features?
[03:07:58] <kmc> gnu assembly will write e.g. pushl or pushq for a 32- or 64-bit push respectively
[03:08:36] <strcat> heftig: I'm not sure exactly what it will do yet
[03:09:04] <strcat> I want to support different profiles, like an environment where you want an allocation failure to unwind
[03:09:30] <heftig> strcat: I assume the base profile will have no allocation support
[03:09:33] <TheGag96> welp, okay, so basically rust only works when i launch it from mingw
[03:09:36] <strcat> heftig: correct
[03:09:57] <heftig> so i guess you could write a kernel in it and link in your own allocator for the exchange heap
[03:10:44] <strcat> yeah, and it could have something like #[cfg(heap)] to handle a user-defined exchange malloc/free
[03:11:08] <strcat> anyway just keeping it simple for now
[03:11:20] <heftig> strcat: what would a fail do in the base case?
[03:11:51] <strcat> dunno
[03:12:01] <strcat> the only things it's used for are division and indexing of slices
[03:12:49] *** Joins: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com)
[03:14:13] <strcat> actually fail_bounds_check is separate
[03:14:15] <heftig> strcat: hrm. is the BOUND instruction used?
[03:15:03] <strcat> heftig: no
[03:15:19] *** Quits: cubic (cubic@moz-FE5AD6C7.mc.videotron.ca) (Quit: Leaving)
[03:15:44] <heftig> it generates a hardware interrupt on failure, which linux userspace gets as a SIGSEGV, I think
[03:16:22] <heftig> i suppose that would be ideal for kernel code?
[03:16:41] <kmc> the BOUND instruction doesn't exist in AMD64 long mode
[03:16:49] <devbug> heftig: nope
[03:17:11] <heftig> kmc: ah, too bad
[03:17:24] <kmc> I think it was slow anyway
[03:17:25] <devbug> The best thing is just being able to handle it yourself
[03:17:39] <kmc> features don't get used => chip makers don't optimize them => features don't get used
[03:17:40] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[03:18:11] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[03:18:23] *** Quits: Sorella (user@9D963F5D.DF5D8AE7.54BCAB54.IP) (Client exited)
[03:19:20] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[03:19:40] *** Joins: nejucomo (Adium@moz-434492BB.dsl.static.sonic.net)
[03:21:59] *** Joins: netoarmando (uid10138@moz-E77DEB21.irccloud.com)
[03:29:28] *** Quits: brson (brson@63DCD950.E4213B29.318DADF5.IP) (Quit: leaving)
[03:38:00] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[03:38:07] *** Joins: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net)
[03:39:32] *** Joins: dherman (dherman@5B1A6D85.D6F172E7.2A2F4638.IP)
[03:39:32] *** ChanServ sets mode: +ao dherman dherman
[03:39:51] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.1)
[03:42:36] *** Joins: steveklabnik (steveklabn@moz-E4698C6D.red.bezeqint.net)
[03:43:56] <jix> is there some way to use rust's type system to keep track of a handle/manager relationship? (like STRef / ST in haskell does for example)
[03:44:51] <devbug> Hmm...
[03:44:54] <devbug> Looking into this
[03:45:03] <devbug> I think rust's stdlib should be pulled out
[03:45:07] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[03:45:09] <devbug> then "stub" implemented
[03:45:27] <devbug> (some refactoring)
[03:45:45] <devbug> then have behaviour documented and clarified.
[03:46:15] <dbaupp> devbug: are you volunteering?
[03:46:20] <devbug> dbaupp: perhaps
[03:46:27] <TheGag96> ugh fuck
[03:46:38] * dbaupp wills devbug to make it awesome \o/
[03:46:48] <devbug> then just provide target_stdlib instead target_libc?
[03:47:04] <devbug> dbaupp: heh
[03:47:12] <TheGag96> I've almost got this figured out... I just have to have sublime text somehow change windows paths into linux style paths 
[03:47:20] <TheGag96> then finally i can one click compile with rust
[03:47:39] *** Joins: stevekla1nik (steveklabn@moz-E4698C6D.red.bezeqint.net)
[03:47:41] <TheGag96> i'll try tomorrow. thanks for the help guys!
[03:47:43] <devbug> I'm not the most acquainted with Rust, so the code will most likely be a "mess" 
[03:47:44] *** Quits: TheGag96 (Mibbit@moz-B6973CF1.lightspeed.stlsmo.sbcglobal.net) (Quit: http://www.mibbit.com ajax IRC Client)
[03:49:28] <devbug> Well, that was fast.
[03:49:38] <devbug> a lot of rewriting, though :P
[03:49:51] <devbug> (git rewriting)
[03:52:02] <devbug> Can you tag attributes onto imports/uses?
[03:53:35] <dbaupp> devbug: you mean like `#[cfg(foo)] use bar;` ?
[03:53:40] <dbaupp> (if so, yes)
[03:53:40] <devbug> dbaupp: yep
[03:53:46] <devbug> right on!
[03:54:14] *** Joins: ecr (Mibbit@E940BDD3.FBC7597F.11F8506F.IP)
[03:54:59] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[03:55:43] *** Quits: steveklabnik (steveklabn@moz-E4698C6D.red.bezeqint.net) (Ping timeout)
[03:55:56] *** Quits: stevekla1nik (steveklabn@moz-E4698C6D.red.bezeqint.net) (Ping timeout)
[03:55:59] <devbug> dbaupp: no negation?
[03:56:49] <aatch> devbug, there is
[03:56:56] <devbug> aatch: hmm, really?
[03:57:01] <aatch> #[cfg(not(foo))]
[03:58:04] <aatch> Also, multiple cfg attributes are or'd together, and you can comma-seperate ones inside a cfg attribute to 'and' then together.
[03:58:28] <devbug> aatch: are all lang-items avail?
[03:58:42] <aatch> devbug, what do you mean?
[03:59:14] *** Joins: jstevans (Instantbir@355D9FA8.7FDDA9B5.B7830B68.IP)
[03:59:32] <devbug> aatch: add, sub, etc.
[04:00:06] <aatch> devbug, is this still in the context of cfg?
[04:00:14] *** Quits: jstevans (Instantbir@355D9FA8.7FDDA9B5.B7830B68.IP) (Quit: Instantbird 1.4 -- http://www.instantbird.com)
[04:00:22] <devbug> aatch: yep
[04:00:29] <devbug> and more generally attributes, I suppose
[04:00:59] <Luqman> what does it mean to add there?
[04:01:17] <aatch> I was just pointing out that you can cfg over multiple attributes
[04:01:37] <aatch> so `(hasX & hasY) | hasZ`
[04:02:08] <aatch> but it's #[cfg(X,Y)] #[cfg(Z)]
[04:02:27] <devbug> well, greather than/less thans would be more useful
[04:02:34] <devbug> s/greather/greater/
[04:03:28] <devbug> You could get away w/ multiple #[cfg]s, but that gets tedious rather fast
[04:04:03] <devbug> I suppose I'd need an actual use case, though
[04:04:06] *** Quits: dbaupp (Thunderbir@8D0E22F1.D5A1DCF.37681C44.IP) (Ping timeout)
[04:05:38] *** Quits: canhtak (jeremy@moz-5B47EFA.wl.t.ulaval.ca) (Quit: canhtak)
[04:06:03] <SiegeLord> It's kind of weird that #[cfg]#[cfg] is or and not and
[04:06:16] <SiegeLord> I'm sure there was a reason for this though...
[04:06:38] *** Joins: pcwalton (pcwalton@moz-B51927E9.hsd1.ca.comcast.net)
[04:06:38] *** ChanServ sets mode: +ao pcwalton pcwalton
[04:06:42] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[04:07:07] <aatch> SiegeLord, it's an artifact of the way the stripping works.
[04:07:18] <SiegeLord> That sounds like a good reason, hah
[04:07:21] <devbug> SiegeLord: really? Seems more intuitive to me.
[04:08:32] <SiegeLord> It depends on your mental model of how #[cfg] works
[04:08:33] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Input/output error)
[04:08:49] <devbug> Though, to be fair, I could see it being a pain when dealing with two rather different #[cfg]'s. You'd epect them to both stick.
[04:08:57] <Luqman> SiegeLord: er, i'm pretty sure it's a bit arbitrary :P
[04:09:01] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[04:09:05] <SiegeLord> If you follow the CPP way, with cfg being replaced by #if then #[cfg]#[cfg] gets replaced by #if A #if B
[04:09:24] <devbug> SiegeLord: you can still use && and ||
[04:09:40] <SiegeLord> devbug: In Rust?
[04:09:44] <devbug> SiegeLord: CPP
[04:09:52] <SiegeLord> That doesn't matter, since you can't in Rust
[04:10:02] <SiegeLord> We're mapping from Rust to CPP not vice versa
[04:10:12] <devbug> What about making it explict (in Rust)?
[04:10:44] <SiegeLord> Still have to define what #[cfg]#[cfg] means, unless you disallow duplicate attributes
[04:10:45] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Ping timeout)
[04:10:59] <SiegeLord> Which I guess you could?
[04:11:38] <devbug> Assuming there are no side-effects--which would be insane, if there were!--then yes.
[04:12:05] *** Quits: dherman (dherman@5B1A6D85.D6F172E7.2A2F4638.IP) (Ping timeout)
[04:12:55] <devbug> SiegeLord: thinking about it, having #[cfg]#[cfg] == and makes much more sense
[04:14:12] <cmr> I don't think it does make more sense
[04:14:19] <cmr> It's applying multiple attributes.
[04:14:33] <cmr> If it sees a cfg enabled, it doesn't remove the item.
[04:15:42] <SiegeLord> I'd prefer it spelled out... I don't think there's an expectation that it doesn't check for all cfg's to be enabled just as well
[04:17:08] <devbug> #[does_foo] #[does_bar] pub fn foobar() {}
[04:17:18] <SiegeLord> Like what does #[inline(always)]#[inline(never)] do?
[04:17:35] <devbug> implies that foobar does foo and does bar
[04:17:51] *** Quits: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP) (Ping timeout)
[04:18:00] <devbug> the current behaviour of #[cfg]#[cfg] seems contrary to that
[04:18:17] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[04:18:20] <SiegeLord> Anyway, once we get CTFE and fixed macros, I'm sure people might switch over to enable_if!
[04:18:35] <SiegeLord> A macro would allow ||, && etc syntax
[04:18:52] <devbug> SiegeLord: related issue?
[04:19:47] <SiegeLord> I don't know of a CTFE issue, but the macro issue I'm thinking of is the inability to expand to several items
[04:20:08] *** Joins: DanC (connolly@moz-CAC8C247.dyn.everestkc.net)
[04:20:34] <DanC> I thought there was a community hub around rustpkg, but I'm struggling to find it... clues?
[04:20:51] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Quit: Konversation terminated!)
[04:21:20] <devbug> SiegeLord: https://github.com/mozilla/rust/issues/4375 ?
[04:21:34] <SiegeLord> Yes
[04:21:36] <aatch> DanC, that's news to me. Closest there is is #rust, /r/rust and the mailing list
[04:21:44] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[04:21:49] *** Quits: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com) (Ping timeout)
[04:21:52] <aatch> But nothing specific to rustpkg
[04:22:05] <devbug> DanC: make one?
[04:22:10] <DanC> oh. so there's nothing like CPAN/CRAN/pypi?
[04:22:20] <aatch> DanC, nope.
[04:22:32] <aatch> DanC, rustpkg is barely stable (if stable at all)
[04:22:41] * DanC has less and less of a grip on his sanity all the time. sigh.
[04:22:49] <aatch> DanC, unless you
[04:23:00] <aatch> you're thinking of the very old, obsolete cargo?
[04:23:06] <devbug> Why was cargo replaced?
[04:23:18] <SiegeLord> I thought it will work kind of differently anway... more like a redirection service
[04:23:33] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[04:23:56] <DanC> cargo... that rings a bell
[04:23:59] <SiegeLord> rust-lang.org/rustpkg/some_package redirects to github.com/blah/blah
[04:24:30] <devbug> SiegeLord: I'm thinking more of something like http://rubygems.org/
[04:24:58] <SiegeLord> rustpkg folks are really pushing for a decentralized design
[04:25:03] <DanC> it would be nice to be able to just browse around code that others are writing... the data about what's popular in npm is particularly handy
[04:25:20] <SiegeLord> I guess you could still have a centralized directory, I suppose...
[04:25:34] <aatch> DanC, right now rust is small enough that just searching on github for "rust" works well.
[04:25:44] <DanC> decentralized... that's The Right Thing... but community leadership and market-makers are good too
[04:25:59] *** Quits: pcwalton (pcwalton@moz-B51927E9.hsd1.ca.comcast.net) (Connection reset by peer)
[04:26:17] *** Joins: pcwalton (pcwalton@moz-B51927E9.hsd1.ca.comcast.net)
[04:26:17] *** ChanServ sets mode: +ao pcwalton pcwalton
[04:26:17] <devbug> SiegeLord: iirc there are quite a few "gem" repositories/directories
[04:26:27] <SiegeLord> But a directory wouldn't be a repostiory... there'll never be a rustpkg update
[04:27:16] <SiegeLord> rustpkg is based on go's pkg manager, and they are unique afaik
[04:27:22] <aatch> SiegeLord, good. I don't need another system-level package manager
[04:27:32] <devbug> SiegeLord: I don't mean a code repo
[04:27:38] *** Joins: canhtak (jeremy@moz-5B47EFA.wl.t.ulaval.ca)
[04:27:42] <SiegeLord> I think this is a radical new idea... I don't know how it'll work out :P
[04:27:57] <SiegeLord> Glad there's servo though to straighten these things out
[04:28:06] * DanC struggles to figure out how to search on github for "rust". Maybe I should just go to bed.
[04:28:07] <devbug> Though, being able to just git push for package updates is mighty nice
[04:28:41] <devbug> DanC: https://github.com/trending?l=rust
[04:28:52] <SiegeLord> I heard of replacement package manages for go, so hopefully this won't happen with Rust
[04:29:05] <devbug> Q3 is worth a look
[04:29:07] <DanC> ah. spif, devug
[04:29:52] <DanC> cool... an operating kernal that "paints the screen bright red and then hangs" :)
[04:29:57] <DanC> kernel, even
[04:30:01] <devbug> "kernel"
[04:30:45] *** Quits: jgilbert (jgilbert@moz-7B0110AD.mv.mozilla.com) (Ping timeout)
[04:31:26] <devbug> DanC: Shamless self-promotion: https://github.com/mtwilliams/iron
[04:31:46] <devbug> I get to write a microkernel in rust for a senior project :)
[04:31:46] <DanC> hmm
[04:31:55] <SiegeLord> rusti: let export = 1;
[04:31:56] -rusti- <anon>:7:13: 7:19 warning: unused variable: `export` [-W unused-variable (default)]
[04:31:56] -rusti- <anon>:7          let export = 1;
[04:31:56] -rusti-                       ^~~~~~
[04:31:56] -rusti- ()
[04:32:18] *** Joins: jeffb (jeff@moz-D13B6004.hsd1.ca.comcast.net)
[04:32:43] <DanC> the reason I'm asking about rustpkg markets is that I'm looking at resuscitating some code I wrote in the 0.5 era; it used https://github.com/jesse99/rparse , which seems to have gone fallow
[04:33:23] *** Quits: pcwalton (pcwalton@moz-B51927E9.hsd1.ca.comcast.net) (Quit: .)
[04:34:38] <DanC> devbug, iron seems to consist of loop {}. Or did I miss something?
[04:34:53] <devbug> DanC: I've only had a few hours to work on it
[04:35:09] <DanC> I see.
[04:35:09] <devbug> and grub wasn't playing nice
[04:35:20] <DanC> I don't envy you in your battle with grub.
[04:35:33] <devbug> Don't blame you.
[04:36:07] *** Quits: KindOne (KindOne@moz-60C9F0C2.dynamic.ip.windstream.net) (Connection reset by peer)
[04:36:38] <DanC> I guess it takes a twisted mind to work on bootloaders, but ... man... using grub is just scary. Literally. I am frightened to use it.
[04:36:58] <devbug> DanC: eh, it's not that bad
[04:37:07] <DanC> I struggle to conceive of the design process around grub.
[04:37:55] <devbug> DanC: That's 'cause there is none, silly. You just rewirite it for every major version.
[04:38:00] *** Quits: ecr (Mibbit@E940BDD3.FBC7597F.11F8506F.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[04:38:32] <DanC> :)
[04:38:38] <devbug> Grub just implements the Multiboot Spec. (http://www.gnu.org/software/grub/manual/multiboot/multiboot.html)
[04:38:58] <DanC> NOO! Not the grub docs! Don't make me!
[04:39:08] <devbug> lol
[04:39:24] <devbug> I absouletly detest the Grub docs.
[04:40:19] <DanC> maybe it's not grub's fault... maybe I'm just conditioned to hate it because every time I use grub, I'm trying to recover my system and hoping I haven't screwed it up to the point where I have to spend the next two weeks rebuilding it, never knowing how much data I lost.
[04:40:55] <DanC> (meanwhile, I assume the machine I'm using will go kerflewey at any moment; I email or commit anything important.)
[04:41:08] <devbug> There's really not much to writing a bootloader though, at least for x86.  You just need to chain-load some stages, so you don't have to worry about 510 bytes, and then setup some dummy GDTs, A20, PM etc.
[04:42:22] <SiegeLord> Man... glob imports are so broken
[04:42:27] <DanC> but there's guid partitions and some gremlin that makes my screen go black and USB thumb drive booting that works on odd phases of the moon and BIOS settings from hell and... and... and...
[04:42:32] <SiegeLord> Maybe I should think about dedicating some time to helping fix them
[04:42:42] <devbug> DanC: do you have /etc/rc.local /dev/random > /boot/grub/grub.cfg?
[04:42:58] <DanC> :)
[04:43:30] <devbug> iirc GUID partitions are actually less of a pain to work with
[04:43:42] *** Quits: heftig (heftig@moz-CFB9DAF0.dip0.t-ipconnect.de) (Quit: Quitting)
[04:43:47] <devbug> Perhaps not as user, especially with what it implies
[04:43:56] <devbug> UEFI, man, UEFI.
[04:44:58] <DanC> GUID partitions seem pretty cool, but I'm never sure how widely they're supported
[04:45:00] *** Quits: nejucomo (Adium@moz-434492BB.dsl.static.sonic.net) (Quit: Leaving.)
[04:45:25] *** Quits: spott (spott@moz-9B11536C.hsd1.co.comcast.net) (Client exited)
[04:46:14] *** Joins: KindOne (KindOne@moz-1CB1A924.dynamic.ip.windstream.net)
[04:46:50] <devbug> DanC: I would assume _widely_, especially as we progress into the era of 10TiB hdds
[04:46:54] <DanC> I suppose this fix for the black screen should have been obvious: look for the line that says: GRUB_CMDLINE_LINUX_DEFAULT="quiet splash" and change it too: GRUB_CMDLINE_LINUX_DEFAULT="quiet splash nomodeset" 
[04:47:11] <devbug> :)
[04:47:20] <devbug> DanC: intel chipset?
[04:47:45] <DanC> er... yes, I think so, as of my last upgrade.
[04:48:12] <aatch> I have a dream, that one day graphics on linux will work without having to perform a sacrifice
[04:48:20] <devbug> aatch: soon.
[04:48:25] <devbug> DanC: yep
[04:48:32] <aatch> (once they work, it's fine, it's getting there that's a bitch)
[04:48:32] <DanC> but my notes are scattered all over... I really don't want to remember the whole fiasco. It was sort of a "shortcut is the longest distance between two points" exercise with adding an SSD to an LVM setup.
[04:48:57] <devbug> I can't touch anything >3.5 due to accepted patches that broke the intel chipset drivers
[04:49:22] <devbug> I just get greeted by a black screen :S
[04:49:38] <devbug> aatch: Hopefully SteamOS will help
[04:50:02] <devbug> Valve has been pretty good @ whipping Intel & nVidia into gear
[04:50:16] <aatch> devbug, eh, intel have always been pretty good on linux
[04:50:17] <devbug> AMD, though, AMD. That's going to be a challenge.
[04:50:27] <devbug> aatch: Yep, but they're getting way better
[04:50:32] * DanC resumes reading https://github.com/schaars/simple-web-server/blob/master/evaluation/README.md
[04:51:01] <DanC> SteamOS blows my mind. in a good way.
[04:51:45] <mcpherrin> We still don't know what it really is yet; keep it in your pants :P
[04:51:47] *** Quits: themgt (themgt@moz-946F6947.baf.movistar.cl) (Ping timeout)
[04:51:47] <Amaranth> devbug: What's wrong with AMD's open source driver? Other than not supporting the latest GL standards which is a general mesa problem
[04:52:10] <devbug> Amaranth: I want 3D performance.  So, uhm, closed-source for me.
[04:52:15] <devbug> I think we all know how that goes...
[04:52:16] <Amaranth> Heck for things as recent as the Radeon HD 4000 series the open source driver is even competitive with catalyst
[04:52:17] *** jorendorff_away is now known as jorendorff
[04:52:28] <mcpherrin> competitive at GL1.4 maybe....
[04:52:32] <devbug> lol
[04:52:33] <Amaranth> Newer stuff is all over the place of course
[04:52:46] *** Joins: themgt (themgt@moz-B7517B97.baf.movistar.cl)
[04:52:49] <mcpherrin> I consider GL3 manditory
[04:52:55] <devbug> 3.1**
[04:53:07] <devbug> + some extensions
[04:53:10] <mcpherrin> 3.2 really
[04:53:13] <Amaranth> Mesa is up to 3.2 iirc
[04:53:19] * DanC double-checks what channel he's in ;-)
[04:53:38] <mcpherrin> oh, I thought I wa in -gamedev :P
[04:53:50] <devbug> mcpherrin: nope. ##circlejerk
[04:54:00] <mcpherrin> haha
[04:54:19] <devbug> Whatever the case, OpenGL can go die
[04:54:22] <mcpherrin> 3.2 for dem geometry shaders
[04:54:23] <devbug> Long live Mantle
[04:54:33] <Amaranth> s/Mantle/Glide/
[04:54:38] <devbug> lolno
[04:54:39] <DanC> gamedev seems to be one of the main application areas of rust at this stage
[04:54:50] <devbug> DanC: Have you checked out Q3 yet?
[04:54:57] <DanC> I browsed by it
[04:54:59] <mcpherrin> areas of interest, but I haven't seen any games in it yet :P
[04:55:12] <devbug> mcpherrin: just bug noct
[04:55:33] <doomlord_> would be nice to get rust on the PS4 :)
[04:55:49] <mcpherrin> I'm working on a secret project to get rust on the NES
[04:56:16] <devbug> mcpherrin: are you going to emulate your rust game using that NES emulator built with rust?
[04:56:27] * DanC tries building q3... begins the hunt-the-wompus dependency game... cmake...
[04:56:30] <mcpherrin> nope, running on a real NES
[04:56:32] <devbug> http://static1.fjcdn.com/comments/4357535+_682d709ffe90dbfc707472cc2944ae6f.jpg
[04:56:39] <mcpherrin> just ... with a special game cartridge
[04:57:34] <devbug> mcpherrin: Can I get you to add dreamcast support?
[04:57:45] <DanC> "The RandR library and headers were not found"
[04:57:55] <doomlord_> is there SH4 support in LLVM
[04:58:08] <doomlord_> i worked on the dreamcast in anger
[04:58:12] *** Quits: canhtak (jeremy@moz-5B47EFA.wl.t.ulaval.ca) (Quit: canhtak)
[04:58:28] <devbug> doomlord_: No idea.
[04:59:05] <SiegeLord> I wonder what happened to the mailing list... I used to never get my emails, and now I do
[04:59:17] <devbug> There's a rust mailing list?!
[05:00:15] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Input/output error)
[05:00:27] <SiegeLord> Yes
[05:00:38] <DanC> q3 still gripes about RandR after `sudo apt-get install libxrandr-dev-lts-quantal`. I interpret that as "go to bed. NOW."
[05:00:43] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[05:00:45] <SiegeLord> devbug: https://mail.mozilla.org/listinfo/rust-dev
[05:00:56] <devbug> SiegeLord: Just signed up
[05:01:25] <SiegeLord> It's pretty good... I love the moderation
[05:02:28] <devbug> Well, I didn't get an auto-generated password
[05:02:34] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Ping timeout)
[05:07:11] *** Quits: jeaye (Jeaye@moz-34FEF2BB.hsd1.ca.comcast.net) (Quit: cheers)
[05:08:42] *** Joins: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[05:14:35] *** Joins: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca)
[05:20:19] <Ralith> devbug: what's so great about Mantle?
[05:20:55] <devbug> Ralith: I can't really comment on the API (not yet)
[05:21:02] <devbug> OpenGL is just a mess, though
[05:21:08] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[05:21:36] <devbug> state, silly clip-space, (along with DX) not enough low-level access
[05:22:07] <Ralith> why do you assume mantle will be less of a mess?
[05:22:50] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[05:23:45] <Ralith> we already know it's not going to be manufacturer-portable and may well not be forward-compatible, which are pretty big issues
[05:25:19] *** Quits: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net) (Quit: jmgrosen)
[05:28:35] *** Joins: StarLight (StarLight@moz-DE02A92A.dynamic.avangarddsl.ru)
[05:37:56] *** Quits: hoverbear (andrew@moz-86FCBF4B.gv.shawcable.net) (Quit: hoverbear)
[05:40:47] *** Joins: [squiddy] (squiddy@moz-A441D2CD.dynamic.cablesurf.de)
[05:40:54] <devbug> Ralith: we don't know that
[05:41:08] <Ralith> devbug: we don't know what?
[05:41:22] *** Quits: jeffb (jeff@moz-D13B6004.hsd1.ca.comcast.net) (Quit: jeffb)
[05:41:22] <devbug> "we already know it's not going to be manufacturer-portable and may well not be forward-compatible, which are pretty big issues"
[05:41:30] <Ralith> those are two different things.
[05:42:51] *** Joins: jeffb (jeff@moz-D13B6004.hsd1.ca.comcast.net)
[05:43:17] *** Joins: Uther (Instantbir@moz-834083A8.hfc.dyn.abo.bbox.fr)
[05:49:06] <devbug> Ralith: we don't know either
[05:49:34] <Ralith> devbug: we know it's specific to AMD's hardware.
[05:49:42] <Ralith> nvidia's hardware is not AMD's hardware, so we know the former
[05:49:57] <Ralith> AMD's hardware is likely to change in the future as GPU tech advances, so we know the latter.
[05:50:46] <mcpherrin> Having lower level APIs for graphics hardware allows new abstraction APIs to be built on top
[05:50:47] <devbug> Ralith: it's GCN & forward
[05:50:52] <mcpherrin> That's what I'm excited about.
[05:51:14] <Ralith> devbug: GCN?
[05:51:20] <devbug> hardware specific details might be exposed through "extensions"
[05:51:35] <devbug> Ralith: AMD's 7000s (and 8000s?) arch
[05:51:40] <Ralith> mcpherrin: that's an interesting perspective--it could move more of the brains into common open libraries
[05:51:49] <Ralith> devbug: ...what's your point?
[05:52:15] <devbug> Ralith: it's forward compatible
[05:52:18] <Ralith> if it can't even run on older GL4 hw, that seems to confirm my expectations.
[05:52:28] <mcpherrin> OpenGL is way too much up and down the stack
[05:52:46] <mcpherrin> some super high level features, some lower
[05:52:51] <mcpherrin> not uniform, and too big
[05:52:54] <devbug> Plus, you can't justify developing mantle to mangement if it's only for 7000s and 8000s
[05:52:55] <Ralith> devbug: them saying '7000+' does not mean the API is forward compatible with respect to significant changes to the hardware.
[05:53:08] <devbug> Ralith: I would damn well assume so
[05:53:22] <devbug> It's all conjecture, really
[05:53:34] <devbug> The only thing we can do is wait for Battlefield 4 to come out
[05:53:53] <Ralith> I can't imagine why you think that's relevant
[05:53:55] <devbug> Then peruse the the spec. that AMD will release
[05:54:13] <Ralith> oh, AMD's withholding the spec specifically until after BF4?
[05:54:20] <Ralith> that seems strange and unnecessary.
[05:54:29] <devbug> Ralith: iirc they're releasing matnle (and all the goodies) on the same day as BF4
[05:54:31] <devbug> Ralith: not really
[05:54:41] *** Quits: tikue_ (tikue_star@95AFD936.21C37D63.689607DE.IP) (Ping timeout)
[05:54:50] <devbug> They might still find bugs or things they need to clear up
[05:55:26] <Ralith> which I'm sure just so conveniently happens to coincide with the exact release date of a game.
[05:55:45] <Ralith> do you have a source for this, even?
[05:55:46] *** Joins: spott (spott@moz-9B11536C.hsd1.co.comcast.net)
[05:55:47] <devbug> Ralith: DICE and AMD partnered on it
[05:56:03] <devbug> Ralith: iirc it was announced by repi
[05:56:09] <devbug> or was in one of the slides
[05:57:09] <devbug> Ah, my mistake
[05:57:09] <Ralith> mcpherrin: what are the super high level features you have in mind?
[05:57:19] <devbug> No idea when BF4 releases
[05:57:19] <devbug> https://twitter.com/repi/status/387640689275580416
[05:57:26] *** Quits: spott (spott@moz-9B11536C.hsd1.co.comcast.net) (Ping timeout)
[05:57:28] <mcpherrin> Ralith: Things like THREE.js level APIs
[05:57:39] <Ralith> mcpherrin: not sure what that means
[05:57:51] <mcpherrin> THREE currently works by generating shader programs
[05:57:52] <devbug> Ralith: ever worked with gcm?
[05:57:52] <Ralith> devbug: ooh, specs in 6 days? cool
[05:57:54] <mcpherrin> it's kinda  a hack
[05:58:08] <devbug> Ralith: seems like it
[05:58:14] <Ralith> devbug: you mean GCN?
[05:58:27] <devbug> w/ impl shipping december
[05:58:47] <devbug> Ralith: mhm
[05:58:54] *** Joins: dbaupp (Thunderbir@moz-4301A13F.lns20.syd6.internode.on.net)
[05:59:02] <devbug> Southern Islands or w/e it's refered to as
[05:59:13] <Ralith> devbug: no, I generally consider myself fortunate to target GL3.2 level hardware.
[05:59:25] <devbug> Ralith: beats OpenGL 2.1
[05:59:27] *** Joins: bheylin_ (brianheyli@moz-8255E94E.adsl.online.nl)
[05:59:30] <Ralith> indeed
[05:59:41] <devbug> OpenGL 3+ & extensions isn't that bad
[05:59:44] <Ralith> sadly that's what I'm stuck with at present
[05:59:47] <devbug> Just a lot of cruft here and there
[05:59:48] <Ralith> webgl is a pain.
[06:00:07] <devbug> lack of memory control, bad multithreading, etc.
[06:00:07] <Ralith> mcpherrin: APIs such as?
[06:00:24] <devbug> Ralith, mcpherrin: ever worked w/ libgcm?
[06:00:28] <mcpherrin> Ralith: I'm not really sure.
[06:00:45] <Ralith> mcpherrin: ...so why exactly do you say that OpenGL has 'super high level APIs'?
[06:00:59] <devbug> It's not a high-level API, really
[06:01:02] <mcpherrin> Ralith: Oh, I misunderstood what you were asking
[06:01:07] <Ralith> devbug: as I implied, I don't work with that level of hardware. I don't even know what libgcm is, even.
[06:01:24] <devbug> Ralith: the graphics api of choice for PS3 dev
[06:01:39] <devbug> you might be able to muscle up some pdffs
[06:01:41] <Ralith> oh, now I remember hearing about it before
[06:01:44] <Ralith> but yeah no
[06:01:54] <devbug> It's darn awesome
[06:02:02] <Ralith> in what regard?
[06:02:13] <devbug> Ralith: not as "abstracted"
[06:02:29] <Ralith> I don't know what exactly that means, let alone whether it's a good thing
[06:02:32] <devbug> you get to manage your command lists/buffers & all your memory
[06:02:51] <devbug> you can build command list in parellel (multithreaded) and modify them w/ SPUs
[06:03:04] <devbug> lower-level control over display modes & textures, etc.
[06:03:04] <cmr> Sounds tricky.
[06:03:41] <devbug> neat tricks like aliasing an 1/2x1/2 sized MSAA surface
[06:03:49] <mcpherrin> Ralith: like lighting and immediate mode stuff are more high level
[06:03:54] *** Quits: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca) (Ping timeout)
[06:04:01] <devbug> mcpherrin: fixed-function is gone
[06:04:04] <Ralith> ^
[06:04:14] <mcpherrin> Yeah, they are *now*
[06:04:21] <devbug> for a while
[06:04:24] <Ralith> quite a while
[06:04:27] <mcpherrin> but they're still convenient apis sometimes
[06:04:30] <Ralith> if you want to talk seriously about modern opengl, consider GL3.2 core at earliest
[06:04:39] <mcpherrin> Yeah, 3.2+ for sure
[06:04:44] *** Quits: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Quit: lkuper)
[06:04:47] <Ralith> core, specifically
[06:04:50] <Ralith> wherein those do not exist
[06:04:52] <mcpherrin> yeah
[06:05:05] <mcpherrin> anyways, this is offtopic for #rust
[06:05:25] <cmr> #rust-gamedev :)
[06:05:27] <mcpherrin> more ontopic in #rust-gamedev
[06:07:48] *** Quits: bheylin_ (brianheyli@moz-8255E94E.adsl.online.nl) (Quit: bheylin_)
[06:09:56] <SiegeLord> Hmm... is pub use'ing of enums broken?
[06:10:10] <cmr> SiegeLord: might be! pub use seems to have got a beating with the privacy changes.
[06:10:19] <cmr> If you can make minimal testcase that'd be cool
[06:10:30] <devbug> cmr: can enums take a beating?
[06:10:33] <bjz> wut. is there an unsafe numeric cast?
[06:10:44] <cmr> bjz: transmute? `as`?
[06:10:53] <bjz> like, num::cast now is Option
[06:11:04] <bjz> generic cast I mean
[06:11:10] <cmr> Hm, I feel like I participated in that conversation.
[06:11:10] *** Quits: pnathan1 (Adium@moz-BDC3EE62.tukw.qwest.net) (Quit: Leaving.)
[06:11:14] <cmr> But cannot recall any details.
[06:11:20] <cmr> Caffeine and sleep deprivation ftl :(
[06:11:31] <bjz> having cast(2) be an Option is uneccsary
[06:12:03] <bjz> gahh
[06:12:20] <dbaupp> bjz: it's for out-of-range casts
[06:12:34] <bjz> I know, but why is there no alternative
[06:12:37] <dbaupp> cast(1000000) : u8 ==> None
[06:12:38] *** Joins: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP)
[06:12:39] <cmr> Shouldn't it be, like, checked_cast ?
[06:12:43] <dbaupp> cast(1000).unwrap() ?
[06:12:53] <bjz> I need this for generic code
[06:12:57] <dbaupp> so?
[06:13:06] <dbaupp> unwrap still works generically
[06:13:14] <bjz> but I don't want runtime cost for cast(2)
[06:13:23] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[06:13:31] <dbaupp> presumably it'll be constant folded out
[06:13:35] <dbaupp> with opts
[06:13:44] <bjz> I want it to inline, and llvm to optimise out the 'as'
[06:13:49] <SiegeLord> cmr: https://gist.github.com/SiegeLord/6913821
[06:13:58] <bjz> but do llvm do conditionals at compile time?
[06:14:02] <bjz> *does
[06:14:17] <cmr> SiegeLord: C and B are very different
[06:14:25] <cmr> B is a value (constructor), C is a type.
[06:14:29] <cmr> Did that previously work?
[06:14:43] <SiegeLord> Hmm
[06:14:49] <SiegeLord> Maybe I'm being silly
[06:15:01] <dbaupp> bjz: if you mean, will it detect `if 0 <= (your 2) &&  (your 2) <= whatever::max_value` and remove the else branch, then yes
[06:15:03] <cmr> I think you're being silly, but it's possible that used to be (invalidly) accepted :P
[06:15:06] <bjz> we have checked_add, why not make it checked_cast?
[06:15:13] <cmr> +1
[06:15:44] <SiegeLord> Yeah, I'm being silly... wish that worked though... it's a pain to write all the variants to re-export them :\
[06:15:48] <dbaupp> the implementation of unchecked_cast would just be cast().unwrap()
[06:15:57] <dbaupp> *checked_cast().unwrap()
[06:16:01] <bjz> no, it would use 'as'
[06:16:02] <cmr> SiegeLord: I agree!
[06:16:07] <dbaupp> bjz: in generic code?
[06:16:16] <engla> so unchecked cast could fail!()?
[06:16:37] <bjz> as a cast between builtin numerics, yes?
[06:16:51] <cmr> It'd be interesting seeing what LLVM actually does with that IR
[06:17:00] <bjz> use 'as'
[06:17:13] <SiegeLord> And now I get linker errors >_<
[06:17:32] <bjz> not checked_cast
[06:17:37] <SiegeLord> Hopefully that's https://github.com/mozilla/rust/issues/9790
[06:17:53] <dbaupp> bjz: ... have you benchmarked the difference between `as` and the current cast?
[06:18:10] <cmr> SiegeLord: add your testcase to it!
[06:18:12] <cmr> acrichto: see ^
[06:18:34] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Input/output error)
[06:18:44] <SiegeLord> Yeah, let me do that...
[06:18:46] <bjz> dbaupp: heh, no. and you're probably right about `if 0 <= (your 2) &&  (your 2) <= whatever::max_value`
[06:19:03] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[06:19:19] <dbaupp> bjz: well, shut up and #[bench] :P
[06:20:07] <bjz> dbaupp: :P
[06:20:17] <devbug> dbaupp: #[do_you_even_lift]?
[06:20:26] *** Joins: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com)
[06:20:49] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Ping timeout)
[06:21:09] <bjz> dbaupp: sorry, must be tired. but would have been good to have it pop up on the numerics issue at least
[06:21:45] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[06:23:01] <dbaupp> bjz: I think erickt did?
[06:23:18] <dbaupp> bjz: https://github.com/mozilla/rust/issues/4819#issuecomment-24525777
[06:24:00] * bjz wonders why that did not ping his email
[06:25:21] *** Joins: tgummerer (tgummerer@moz-5DC8FA44.tbcn.telia.com)
[06:26:00] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[06:27:21] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[06:27:38] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[06:34:06] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[06:34:06] *** ChanServ sets mode: +o pnkfelix
[06:34:08] *** Joins: skade (skade@moz-4865967C.pools.arcor-ip.net)
[06:45:05] *** Joins: alon (alon@moz-D22C29D3.bb.netvision.net.il)
[06:45:16] *** Quits: tgummerer (tgummerer@moz-5DC8FA44.tbcn.telia.com) (Ping timeout)
[06:45:30] *** Parts: isenmann (isenmann@moz-B656BA79.science-computing.de) ()
[06:45:40] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[06:50:25] <netfeed> i'm trying to learn some rust and i'm messing around with the tcp-stuff, but it seems like my read from a stream is reading forever(http://pastebin.ca/2465111), am i doing something wrong here? it works like a charm if i add string.ends_with("\r\n\r\n") { break; } after the append
[06:50:54] <netfeed> but that shouldn't be necessary, correct?
[06:51:54] <cmr> netfeed: "let to_append = match client.read(buf)"
[06:52:04] <cmr> That will only fail if the connection closes or otherwise terminates.
[06:52:18] <cmr> Of course you need to break on the \r\n\r\n :)
[06:53:02] *** Joins: nsf (nsf@moz-EEF3238A.convex.ru)
[06:53:36] <netfeed> ah, so i need to break out of it manually? roger
[06:53:59] <cmr> netfeed: where do you think it would break automatically?
[06:55:30] <netfeed> i'm not really sure honestly. just thought thought i would get an eof once the data stopped comming, but i guess i just missunderstood it
[06:55:43] <cmr> Data doesn't stop coming though, that's not how HTTP works
[06:55:53] <cmr> It sends its data, ends it with an \r\n\r\n, and waits for a response.
[06:55:57] <cmr> EOF happens when the socket is closed.
[06:56:04] <cmr> Can't send a response on a closed socket :)
[06:56:49] <netfeed> i guess, i think i got confused by looking at an echo-server example
[06:56:51] <netfeed> thanks
[06:56:57] <cmr> was it my echo server example?
[06:57:07] <cmr> https://github.com/cmr/rust-examples/blob/master/echo_server.rs ?
[06:57:48] <netfeed> no, https://github.com/shaladdle/learnrust/blob/master/
[06:58:02] <netfeed> almost the same though :)
[06:58:05] <cmr> ah
[06:58:38] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[07:02:15] *** Joins: jaen (jaen@138A5D71.4C038AE9.C4431F0E.IP)
[07:02:37] *** Quits: dsirenko (mitra@8E712A0.54C21BA0.9F317420.IP) (Ping timeout)
[07:03:03] *** Joins: Ms2ger (Ms2ger@B7B2FF50.C60A97A6.F9FB0584.IP)
[07:03:55] *** jorendorff is now known as jorendorff_away
[07:04:11] *** Quits: skade (skade@moz-4865967C.pools.arcor-ip.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[07:04:57] *** Joins: nrc (nrc@moz-3576D163.cable.virginmedia.com)
[07:06:24] *** Joins: Ferreus (ferreus@moz-C92E8F55.dip0.t-ipconnect.de)
[07:09:15] *** Quits: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net) (Connection reset by peer)
[07:14:58] <SiegeLord> I wish you could make re-export private methods
[07:15:27] <cmr> If you want to reexport them, why are they private in the first place?
[07:16:16] *** flaper87|afk is now known as flaper87
[07:18:11] <pnkfelix> cmr: maybe he's trying to reexport them to a controlled scope?  Like trying to re-express C++ friend ?
[07:18:24] <SiegeLord> Well, you can do it with trait implementations
[07:19:00] <cmr> pnkfelix: not knowing what that is, I'll defer
[07:19:01] <cmr> :)
[07:19:24] <SiegeLord> Like you do this with functions: mod a { pub fn foo(); }
[07:19:42] <SiegeLord> foo is only visible to descendants of a
[07:19:59] <SiegeLord> But if you do impl S { pub fn foo() } it'll be visible everywhere S is visible
[07:20:10] <cmr> ah, ok
[07:20:37] <SiegeLord> The current workaround is to use a trait, as now the visibility is tied to the trait and not the type
[07:20:46] <SiegeLord> But... you have to declare the API
[07:21:14] *** Quits: tikue (quassel@moz-FEADCD38.hsd1.pa.comcast.net) (Connection reset by peer)
[07:21:26] <cmr> I'm beginning to think that inference of method signature when implementating a trait isn't a bad thing.
[07:21:36] <cmr> (as a pseudorandom aside)
[07:21:46] * dbaupp doesn't think cmr's RNG is very good
[07:22:14] <cmr> dbaupp: with a sample size of 1 :P
[07:24:10] <SiegeLord> Maybe he had a very low prior belief in it's quality
[07:24:12] <SiegeLord> *its
[07:24:23] <dbaupp> or that evidence was strong
[07:24:29] *** Quits: derboi_c (derboi_c@4585C218.B5A77373.BA2F4534.IP) (Ping timeout)
[07:24:35] <dbaupp> (or I only thing it's good, not very good)
[07:24:40] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[07:25:55] <dbaupp> SiegeLord: you could have an internal type that does all the crate-local stuff: e.g. pub struct Exported { priv inner: Internal } struct Internal { field: Type } and you implement public things on Exported and private ones on Internal
[07:26:08] *** Joins: derboi_c (derboi_c@9543C4F.C20AE592.BA2F4534.IP)
[07:26:19] <SiegeLord> I guess that works
[07:26:23] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[07:26:23] *** Quits: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com) (Ping timeout)
[07:27:35] *** Joins: dsirenko (mitra@8E712A0.54C21BA0.9F317420.IP)
[07:27:44] <pnkfelix> kimundi: ping
[07:29:34] <SiegeLord> I wonder... can you pattern match on self...
[07:29:39] <cmr> Yep!
[07:29:49] <SiegeLord> Like fn method(Wrapper(self)
[07:30:22] <cmr> that, I don't know
[07:30:24] <pnkfelix> how much do we care about supporting #! comments ?
[07:30:32] <cmr> pnkfelix: I care about it very much.
[07:30:41] <cmr> Module documentation in the module is nice.
[07:30:47] <cmr> Unless you mean something else
[07:30:51] <pnkfelix> no, I mean, literally
[07:30:55] <dbaupp> pnkfelix: you mean shebangs?
[07:31:10] <pnkfelix> Right now '#! foo foo <end-of-line>' is treated as a comment
[07:31:11] <dbaupp> SiegeLord: it's not possible
[07:31:17] <pnkfelix> dbaupp: yeah, shebangs
[07:31:17] <cmr> Oh, that.
[07:31:21] <dbaupp> rusti: #! foo
[07:31:22] -rusti- <anon>:7:9: 7:10 error: unexpected token: `#`
[07:31:22] -rusti- <anon>:7          #! foo
[07:31:22] -rusti-                   ^
[07:31:22] -rusti- application terminated with error code 101
[07:31:24] <cmr> I don't care about that.
[07:31:28] <cmr> dbaupp: only at the start of file
[07:31:29] <SiegeLord> No, it only works on the first line
[07:31:41] <dbaupp> (just checking)
[07:31:49] <dbaupp> rusti: r#""#
[07:31:49] -rusti- <anon>:7:10: 7:11 error: expected one of `;`, `}` but found `#`
[07:31:50] -rusti- <anon>:7          r#""#
[07:31:50] -rusti-                    ^
[07:31:50] -rusti- application terminated with error code 101
[07:31:55] <dbaupp> :( rusti's not updated?
[07:32:10] <pnkfelix> hmm, from reading the source, it seemed like it would work on any line in the file.  let me double check myself...
[07:32:56] *** Joins: bholley (anonymous@moz-D5EB36E2.rev.numericable.fr)
[07:33:27] <pnkfelix> you all are 100% right, only the first line.  How does this code work ...
[07:33:53] <cmr> rusti: r""
[07:33:54] -rusti- <anon>:7:10: 7:12 error: expected one of `;`, `}` but found `""`
[07:33:54] -rusti- <anon>:7          r""
[07:33:54] -rusti-                    ^~
[07:33:54] -rusti- application terminated with error code 101
[07:33:59] <cmr> rusti: version
[07:34:00] -rusti- "rustc 0.9-pre (8eb28bb 2013-10-06 14:41:28 -0700)"
[07:34:02] <pnkfelix> (oh, I made the mistake of looking at consume_comment in isolation..)
[07:34:09] <cmr> nope, guess not.
[07:34:14] <cmr> weird, the package is being updated
[07:35:06] <dbaupp> hm, println! doesn't work in std?
[07:35:49] * dbaupp wonders why there are so many PR, but so few that are ready to go :(
[07:38:47] <SiegeLord> It's a little late... but given struct A; struct B(A) can you construct some form of B from &A?
[07:39:16] <benh> no
[07:39:23] <benh> Unless A: Clone ;)
[07:39:58] *** Quits: StarLight (StarLight@moz-DE02A92A.dynamic.avangarddsl.ru) (Ping timeout)
[07:40:24] <benh> wait, unit-like structs are implicitly copyable, so it works
[07:40:40] <benh> "B(*some_A_ptr)"?
[07:40:41] <SiegeLord> Well, in the real case it's not a unit struct
[07:40:59] <benh> right, you need a value, you can't move out of a &-ptr, so you need to make a copy
[07:41:05] <SiegeLord> So I guess I'll have to do struct B(&A) and struct B(&mut A)
[07:41:24] <SiegeLord> And maybe that'll work... but it's getting a bit less clean
[07:41:41] <benh> and you'll need <'self> everywhere, I guess
[07:41:48] <SiegeLord> Yes, naturally
[07:42:06] <benh> best of luck!
[07:42:10] <SiegeLord> That's par for the course with Rust though ;)
[07:43:08] <SiegeLord> Sometimes one feels like an escape artist escaping from a straight jacket... dislocate a joint here... move that limb there...
[07:44:09] <SiegeLord> And then one ends up walking like in that one Monty Python sketch I can't seem to find
[07:47:02] *** Quits: jeffb (jeff@moz-D13B6004.hsd1.ca.comcast.net) (Quit: jeffb)
[07:47:13] <cmr> SiegeLord: http://www.youtube.com/watch?v=IqhlQfXUk7w ?
[07:47:23] <SiegeLord> No, not that one
[07:48:18] *** Joins: jgilbert (jgilbert@moz-4C088FCE.hsd1.ca.comcast.net)
[07:50:02] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[07:51:57] *** Quits: jeffreybaird (jeffreybai@moz-ED3EF543.static.twtelecom.net) (Quit: jeffreybaird)
[07:54:18] *** Quits: anshin (anshin@CD85F10D.F21429E2.354459FA.IP) (Quit: anshin)
[07:57:59] *** Quits: nsf (nsf@moz-EEF3238A.convex.ru) (Ping timeout)
[07:58:31] *** Joins: nsf (nsf@moz-EEF3238A.convex.ru)
[08:01:08] *** Joins: skade (skade@30BBD5E6.505237C9.CAE22B62.IP)
[08:07:51] *** Quits: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP) (Connection reset by peer)
[08:10:09] *** Joins: mib_2533pe (Mibbit@moz-4058A5B9.ge-0-2-0-712.arcnqu2.dk.customer.tdc.net)
[08:15:07] *** Joins: fabiand (fabiand@moz-527A4033.pool.mediaways.net)
[08:18:32] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[08:19:58] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[08:20:14] *** Joins: ofeldt- (ofeldt@moz-82D56A93.dip0.t-ipconnect.de)
[08:20:56] *** Quits: jgilbert (jgilbert@moz-4C088FCE.hsd1.ca.comcast.net) (Ping timeout)
[08:21:21] *** Quits: ofeldt (ofeldt@moz-1999F869.dip0.t-ipconnect.de) (Ping timeout)
[08:21:52] *** Joins: sergi (textual@moz-DB55470C.upc-a.chello.nl)
[08:24:12] *** Joins: arodier74 (Thunderbir@moz-25EB015.in-addr.btopenworld.com)
[08:25:08] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Client exited)
[08:25:09] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[08:27:55] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[08:28:42] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[08:29:38] *** Quits: nrc (nrc@moz-3576D163.cable.virginmedia.com) (Ping timeout)
[08:33:11] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Client exited)
[08:33:48] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[08:34:02] *** Joins: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP)
[08:35:30] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Ping timeout)
[08:36:44] *** pmoore|away is now known as pmoore
[08:37:03] *** Quits: arodier74 (Thunderbir@moz-25EB015.in-addr.btopenworld.com) (Quit: arodier74)
[08:37:28] *** Joins: arodier74 (Thunderbir@moz-25EB015.in-addr.btopenworld.com)
[08:37:36] *** Joins: CarpNet (ac@moz-FD24B77.sohonet.co.uk)
[08:38:31] *** Joins: avsej (avsej@DF1824D5.EFF97412.48F984E6.IP)
[08:39:25] *** Quits: dew (Instantbir@moz-8EDFD40B.static.stls.mo.charter.com) (Connection reset by peer)
[08:39:32] *** Joins: mib_uo6nz7 (Mibbit@moz-5C75A8B0.sa.adsl.internode.on.net)
[08:39:49] *** Quits: mib_uo6nz7 (Mibbit@moz-5C75A8B0.sa.adsl.internode.on.net) (Quit: http://www.mibbit.com ajax IRC Client)
[08:41:55] *** Quits: Earnestly (earnest@moz-BE290A2B.dyn.plus.net) (Ping timeout)
[08:47:41] *** Joins: heftig (heftig@moz-E8E2034C.inf.fh-bonn-rhein-sieg.de)
[08:50:34] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Ping timeout)
[08:51:32] *** Quits: sergi (textual@moz-DB55470C.upc-a.chello.nl) (Quit: Computer has gone to sleep.)
[08:51:44] *** Joins: nrc (nrc@88F51059.F3BBB17D.144F44FA.IP)
[08:53:15] *** Joins: maik (maik@moz-36BC9EB6.dip0.t-ipconnect.de)
[08:55:17] *** Quits: arodier74 (Thunderbir@moz-25EB015.in-addr.btopenworld.com) (Quit: arodier74)
[08:55:41] *** Joins: arodier74 (Thunderbir@moz-25EB015.in-addr.btopenworld.com)
[08:56:42] *** Joins: sergi (textual@moz-DB55470C.upc-a.chello.nl)
[09:00:42] *** Joins: z0w0 (zack@64F0E14B.3C29B4A9.2CE63F58.IP)
[09:00:52] *** Quits: nsf (nsf@moz-EEF3238A.convex.ru) (Quit: WeeChat 0.4.1)
[09:01:32] * dbaupp really wants a BitCast trait at the moment :(
[09:02:05] <dbaupp> bjz: {amusing,ironical}ly, I'm meeting NumCast problems now too
[09:02:21] <bjz> what kind?
[09:02:45] <bjz> :P
[09:02:50] *** Quits: maik (maik@moz-36BC9EB6.dip0.t-ipconnect.de) (Ping timeout)
[09:03:58] <dbaupp> I basically need to generically convert a primitive integer to a u64 and vice versa via something that would be a bitcast (i.e just treating the bottom 16 bits of the u64 as an i16), but it's resulting in a horrible monstrosity
[09:07:02] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[09:09:03] <dbaupp> bjz: I guess it's actually a sign that I'm doing it wrong, so I'll do it properly now
[09:09:05] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Quit: Gone to save the world!)
[09:09:36] <dbaupp> (i.e. even if I had a generic bitcast available, it's incorrect)
[09:09:47] <bjz> ah
[09:12:16] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[09:12:52] *** Quits: timot_ (timot@moz-3B3A0794.cust.tele2.se) (Ping timeout)
[09:13:17] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[09:13:17] *** ChanServ sets mode: +o pnkfelix
[09:17:56] *** Quits: csherratt (csherratt@moz-CAF331EA.cable.teksavvy.com) (Quit: csherratt)
[09:21:16] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[09:23:27] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Client exited)
[09:23:59] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[09:24:59] *** Joins: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com)
[09:26:10] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Client exited)
[09:26:35] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[09:26:45] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[09:28:06] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[09:28:17] *** Joins: maik (maik@moz-36BC9EB6.dip0.t-ipconnect.de)
[09:28:45] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Client exited)
[09:28:51] *** Quits: arodier74 (Thunderbir@moz-25EB015.in-addr.btopenworld.com) (Quit: arodier74)
[09:29:29] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[09:29:43] *** Quits: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net) (Ping timeout)
[09:29:57] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[09:39:02] *** Quits: maik (maik@moz-36BC9EB6.dip0.t-ipconnect.de) (Ping timeout)
[09:43:27] *** Joins: steffenomak (steffenoma@moz-FB0A4BEB.student.uu.se)
[09:48:40] *** Joins: graememcc (chatzilla@moz-CE628128.range81-157.btcentralplus.com)
[09:51:12] *** Joins: timot_ (timot@moz-66456A93.mobile.tre.se)
[09:54:19] *** Joins: arodier74 (Thunderbir@moz-25EB015.in-addr.btopenworld.com)
[10:10:04] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Quit: Leaving.)
[10:10:50] *** Quits: jaen (jaen@138A5D71.4C038AE9.C4431F0E.IP) (Ping timeout)
[10:13:12] <avsej> i've tried to add -static to link_args macro, but it doesn't work: https://gist.github.com/avsej/50453a2f0aec752433e7#file-snappy-rs-L3
[10:13:25] <avsej> does it mean that i cannot use static linkage?
[10:13:26] *** Joins: donri (donri@moz-9BB61102.tbcn.telia.com)
[10:14:11] *** Joins: lenstr (lenstr@E0E80B8D.ED45D46B.DFEAE789.IP)
[10:16:28] *** Joins: nsf (nsf@moz-EEF3238A.convex.ru)
[10:17:10] *** Quits: Ms2ger (Ms2ger@B7B2FF50.C60A97A6.F9FB0584.IP) (Quit: bbl)
[10:18:38] *** Quits: fabiand (fabiand@moz-527A4033.pool.mediaways.net) (Quit: Verlassend)
[10:19:45] *** Joins: fabiand (fabiand@29799B04.5291F4C0.16E13E53.IP)
[10:22:02] *** Quits: fabiand (fabiand@29799B04.5291F4C0.16E13E53.IP) (Ping timeout)
[10:24:03] *** Quits: fmt (fmt@moz-5769BD38.static.tpgi.com.au) (Ping timeout)
[10:25:02] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Ping timeout)
[10:25:09] *** Joins: Palmik (palmik@moz-11EA685D.pks.muni.cz)
[10:28:36] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[10:29:06] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[10:32:18] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[10:33:12] <acrichto> avsej: static linking is known to be pretty broken right now
[10:34:16] <avsej> okay, I see, but the direction is correct? I mean it should be just about link arguments and nothing more
[10:35:50] <acrichto> none of the standard libraries are built as static libraries
[10:35:59] <acrichto> libstd/librustrt/libextra
[10:36:03] <acrichto> they're all only dynamic libraries
[10:36:14] <acrichto> which I think is why it's complaining about librustrt
[10:36:17] <acrichto> b/c it can't find a static version
[10:38:56] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Ping timeout)
[10:39:28] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[10:41:39] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Client exited)
[10:42:03] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[10:43:37] *** Joins: timot (timot@moz-66456A93.mobile.tre.se)
[10:43:49] *** Quits: timot_ (timot@moz-66456A93.mobile.tre.se) (Ping timeout)
[10:46:06] *** Joins: timot_ (timot@moz-A3009AB5.mobile.tre.se)
[10:46:29] *** Quits: timot (timot@moz-66456A93.mobile.tre.se) (Ping timeout)
[10:50:03] *** Joins: dherman (dherman@moz-EA765158.midsouth.biz.rr.com)
[10:50:03] *** ChanServ sets mode: +ao dherman dherman
[10:52:05] *** Quits: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp) (Client exited)
[10:55:58] *** Joins: fabiand (fabiand@29799B04.5291F4C0.16E13E53.IP)
[11:00:21] *** Joins: GeorgeH (George@moz-FB5F2302.hsd1.nj.comcast.net)
[11:00:28] *** Quits: derboi_c (derboi_c@9543C4F.C20AE592.BA2F4534.IP) (Ping timeout)
[11:03:26] *** Joins: derboi_c (derboi_c@F9D9DD4F.F54B176A.BA2F4534.IP)
[11:05:35] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[11:05:57] *** Quits: fabiand (fabiand@29799B04.5291F4C0.16E13E53.IP) (Ping timeout)
[11:07:37] *** Joins: dallas62 (dallas62@moz-4C1E443F.clients.kiwiirc.com)
[11:08:49] *** Quits: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se) (Ping timeout)
[11:11:03] *** Joins: jdm (jdm@88F51059.F3BBB17D.144F44FA.IP)
[11:11:03] *** ChanServ sets mode: +o jdm
[11:12:04] <avsej> acrichto, i've solved it with --whole-archive, because my problem was: "how to use library which ships only static archive": https://gist.github.com/avsej/3da05b3da3eea52cdff3#file-deep_thought-rs-L3
[11:12:20] *** Quits: lenstr (lenstr@E0E80B8D.ED45D46B.DFEAE789.IP) (Client exited)
[11:12:30] <avsej> thanks anyway
[11:14:55] *** Joins: BitPuffin (isak@moz-98F8BF74.cust.tele2.se)
[11:15:25] *** Joins: canhtak (jeremy@moz-5B47EFA.wl.t.ulaval.ca)
[11:17:13] <klutzy> avsej: I sometimes use #[link_args = "answer.o"] for static linking
[11:17:20] <klutzy> I think it's hack though
[11:17:39] <avsej> :)
[11:19:06] *** Quits: dallas62 (dallas62@moz-4C1E443F.clients.kiwiirc.com) (Quit: http://www.kiwiirc.com/ - A hand crafted IRC client)
[11:20:16] *** Joins: Earnestly (earnest@moz-BE290A2B.dyn.plus.net)
[11:20:21] *** Joins: fabiand (fabiand@moz-F6154332.adsl.alicedsl.de)
[11:21:15] *** Joins: lenstr (lenstr@E0E80B8D.ED45D46B.DFEAE789.IP)
[11:21:28] *** Joins: robertknight (robertknig@moz-54528EE0.wby.mendeley.com)
[11:22:17] *** Joins: novabyte (novabyte@91E276A6.70DD2D14.E7727734.IP)
[11:23:17] *** Quits: robertknight (robertknig@moz-54528EE0.wby.mendeley.com) (Ping timeout)
[11:25:31] *** Quits: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl) (Ping timeout)
[11:27:21] *** Joins: nkoep (nik@moz-E163922.pool.mediaways.net)
[11:27:31] *** Joins: tgummerer (tgummerer@moz-EAB0B40D.kthopen.kth.se)
[11:29:42] *** Quits: sergi (textual@moz-DB55470C.upc-a.chello.nl) (Quit: Computer has gone to sleep.)
[11:29:59] *** Joins: ChrisMorgan (ChrisMorga@moz-6AC741CA.static.tpgi.com.au)
[11:31:49] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[11:32:03] *** Joins: sergi (textual@moz-DB55470C.upc-a.chello.nl)
[11:33:01] <ChrisMorgan> Something just occurred to me with assert! et al.; I don't think assert_eq! is necessary: instead, have a rule for assert! which takes ($lhs:expr == $rhs:expr) and is equivalent to the current assert_eq!. Then do the same for all the operators (or have $op:tt instead of == if that works?) and you're in a better position still!
[11:33:33] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[11:34:06] <dbaupp> ChrisMorgan: I don't think the parser'll accept that, because it's too greedy
[11:34:36] <dbaupp> rusti: macro_rules! foo ( ($lhs:expr == $rhs:expr) => { 1 } ); foo!(1 == 2)
[11:34:37] -rusti- pastebinned 8 lines of output: http://sprunge.us/MGbW
[11:34:47] <dbaupp> :(
[11:34:54] <ChrisMorgan> I was afraid that might be the answer; in that case, the parser needs fixing!
[11:35:27] * ChrisMorgan went fixing rust-http to use #[feature(macro_rules)] yesterday
[11:36:42] <ChrisMorgan> I don't have rustc handy; where's cmr's online REPL?
[11:36:53] <dbaupp> strcat's :P
[11:36:54] <ChrisMorgan> http://playground.octayn.net:?/ I think, but not sure of the port
[11:37:01] <dbaupp> http://strcat.zapto.org:8000/
[11:37:04] <ChrisMorgan> Yeah, strcat. Wrong person.
[11:37:11] <ChrisMorgan> Thanks
[11:37:11] <dbaupp> hm
[11:37:14] <dbaupp> it's down for me
[11:37:23] <ChrisMorgan> Ditto :-(
[11:37:32] * dbaupp 's history must be lying to him
[11:37:57] <ChrisMorgan> No, that certainly sounds right. Much more likely to be down.
[11:37:58] <dbaupp> https://github.com/thestinger/rust-playpen/pull/1 fwiw
[11:38:06] *** Quits: myname (myname@F6BC1CBC.2C5F047.A0197E77.IP) (Ping timeout)
[11:38:48] <ChrisMorgan> Anyway, `assert!(a == b)` *is* much nicer than `assert_eq!(a, b)`.
[11:39:12] * dbaupp agrees
[11:39:30] <dbaupp> I have a feeling that overhauling the parser & the macro parser to get it to work would be a lot of work
[11:39:35] <dbaupp> a *lot*
[11:39:38] * ChrisMorgan observes that dbaupp is fairly fast
[11:39:49] <ChrisMorgan> Just ask cmr to do it next week :P
[11:40:03] <dbaupp> acrichto's the current powerhouse around here :P
[11:40:44] <ChrisMorgan> Yeah, I've been noticing that. If this is the effect it gets, Mozilla need to hire another person!
[11:41:09] *** Quits: lenstr (lenstr@E0E80B8D.ED45D46B.DFEAE789.IP) (Client exited)
[11:42:09] <dbaupp> "undefined macro `person`"
[11:42:12] <ChrisMorgan> acrichto: I've been *really* appreciating seeing some of the things you've been doing; the way you've been fixing issues a day or two before I find I need them fixed has been great. Have you been borrowing Guido's time machine?
[11:49:08] *** Joins: Sphax (sphax@moz-3555CF28.dsl.sta.abo.bbox.fr)
[11:50:46] *** Joins: timot (timot@moz-A3009AB5.mobile.tre.se)
[11:51:08] *** Quits: timot_ (timot@moz-A3009AB5.mobile.tre.se) (Ping timeout)
[11:51:47] *** jdm is now known as jdm|f00d
[11:53:48] *** Quits: TD-Linux (TD-Linux@E338EB99.2B4F0AE0.A0A36CCE.IP) (Ping timeout)
[11:54:55] *** Joins: ChrisMorgan1 (chris@moz-6AC741CA.static.tpgi.com.au)
[11:56:13] *** AutomatedTester is now known as AutomatedTester|away
[11:56:41] *** Quits: ChrisMorgan (ChrisMorga@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[11:56:56] *** Joins: lenstr (lenstr@E0E80B8D.ED45D46B.DFEAE789.IP)
[11:57:52] <ChrisMorgan1> dbaupp: as I suspected from before I suggested it, you were right about the greediness causing a problem. By splitting it into something that's not a valid expression you could do it (e.g. $a:expr Z== $b:expr), but that's not exactly nice.
[11:58:17] *** Quits: lenstr (lenstr@E0E80B8D.ED45D46B.DFEAE789.IP) (Client exited)
[11:58:18] <ChrisMorgan1> I guess it'd need to be done at the syntax extension level rather than the macro rules level.
[11:58:38] <dbaupp> yeah, and even then it'd be a little peculiar/hacky
[11:59:13] <dbaupp> I think it'd get to the point of having to reimplement the expr parser to be able to hook in new behaviour for the == token
[11:59:29] *** Joins: myname (myname@F6BC1CBC.2C5F047.A0197E77.IP)
[11:59:31] <dbaupp> but it'd make assert!(all == are == equal) possible
[11:59:32] *** ChrisMorgan1 is now known as ChrisMorgan
[12:00:16] <ChrisMorgan> And that's something that I like in Python.
[12:00:29] <kaeso> something pointed me to https://github.com/pcmattman/rustic today
[12:00:35] <kaeso> *somebody
[12:00:37] <ChrisMorgan> (It's most used as `a < b < c`.)
[12:01:18] <dbaupp> ChrisMorgan: yeah, I like that too
[12:01:49] * dbaupp wonders why Rust is attracting so many OS-authors
[12:02:27] <benh> Couldn't you do something like do the regular parsing for assert!(a == b) and then inspect the resulting ast to see if it happens to be an equality binop expression at the top level?
[12:02:43] <benh> instead of reimplementing all expression parsing
[12:02:58] <dbaupp> benh: oh, that would work
[12:03:18] * ChrisMorgan goes and creates an issue for it
[12:04:16] <dbaupp> It might be a little peculiar special-casing certain AST constructs?
[12:04:43] <dbaupp> there's also this: https://github.com/mozilla/rust/issues/2367 fwiw
[12:04:47] <benh> Yeah I'm not sure about a == b == c
[12:05:02] <benh> But I figure it's okay for the a==b case since you aren't changing the meaning, really? Just adding some more diagnostics in a specific context I guess?
[12:05:05] *** Joins: TD-Linux (TD-Linux@E338EB99.2B4F0AE0.A0A36CCE.IP)
[12:05:07] <dbaupp> it could just do it recursively
[12:05:32] <dbaupp> (thinking about it, I think that 2367 would be the best-case solution to this)
[12:06:21] * dbaupp doesn't think it would be very hard for the arithmetic/comparison operators at least
[12:06:33] <dbaupp> (since they are guaranteed to take the values by ref)
[12:07:44] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Input/output error)
[12:08:32] *** Joins: mindcat (mindcat@E6DCC6FE.69E5AD7C.D6E1F3C4.IP)
[12:08:33] *** Quits: timot (timot@moz-A3009AB5.mobile.tre.se) (Connection reset by peer)
[12:08:33] *** Joins: timot_ (timot@moz-A3009AB5.mobile.tre.se)
[12:09:50] *** Quits: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com) (Ping timeout)
[12:10:52] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[12:11:25] *** Quits: nkoep (nik@moz-E163922.pool.mediaways.net) (Ping timeout)
[12:13:04] *** Joins: Ms2ger (Ms2ger@moz-9CE68E83.ugent.be)
[12:15:35] *** Quits: tgummerer (tgummerer@moz-EAB0B40D.kthopen.kth.se) (Ping timeout)
[12:16:30] *** Quits: heftig (heftig@moz-E8E2034C.inf.fh-bonn-rhein-sieg.de) (Ping timeout)
[12:17:25] *** Joins: tgummerer (tgummerer@moz-EAB0B40D.kthopen.kth.se)
[12:18:12] *** Quits: sergi (textual@moz-DB55470C.upc-a.chello.nl) (Quit: Computer has gone to sleep.)
[12:18:54] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[12:18:56] <myname> rusti: " " * 2
[12:18:57] -rusti- <anon>:7:9: 7:16 error: binary operation * cannot be applied to type `&'static str`
[12:18:57] -rusti- <anon>:7          " " * 2
[12:18:57] -rusti-                   ^~~~~~~
[12:18:57] -rusti- error: aborting due to previous error
[12:18:57] -rusti- application terminated with error code 101
[12:19:00] <myname> :/
[12:19:45] <dbaupp> rusti: " ".repeat(2)
[12:19:46] -rusti- ~"  "
[12:20:10] *** Quits: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[12:20:20] *** Joins: Jackneill (Jackneill@moz-9DD2C0AA.pool.digikabel.hu)
[12:20:26] *** Joins: clement (clement@moz-D3DDF83F.delafargue.name)
[12:20:40] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[12:25:35] *** Joins: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net)
[12:25:42] *** Joins: nkoep (nik@moz-F75A14DF.vpn.rwth-aachen.de)
[12:26:11] <benh> rusti: match &[1, 2, 3] { &[ref a, ref b, ref c] => (a, b, c), _ => (0, 0, 0) }
[12:26:11] -rusti- <anon>:7:28: 7:50 error: mismatched types: expected `&[<VI2>]` but found an &-pointer pattern
[12:26:12] -rusti- <anon>:7          match &[1, 2, 3] { &[ref a, ref b, ref c] => (a, b, c), _ => (0, 0, 0) }
[12:26:12] -rusti-                                      ^~~~~~~~~~~~~~~~~~~~~~
[12:26:12] -rusti- error: aborting due to previous error
[12:26:12] -rusti- application terminated with error code 101
[12:26:23] <benh> boo, i guess
[12:27:45] *** jdm|f00d is now known as jdm
[12:29:39] <dbaupp> rusti: match &[1, 2, 3] { [ref a, ref b, ref c] => (a, b, c), _ => (0, 0, 0) }
[12:29:40] -rusti- pastebinned 5 lines of output: http://sprunge.us/UYZC
[12:29:56] <dbaupp> rusti: match &[1, 2, 3] { [ref a, ref b, ref c] => (*a, *b, *c), _ => (0, 0, 0) }
[12:29:57] -rusti- (1, 2, 3)
[12:32:25] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[12:32:29] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[12:34:02] *** Joins: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[12:34:54] *** Joins: BizarreCake (BizarreCak@moz-361FE9B2.dynamic.barak-online.net)
[12:36:01] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[12:38:13] *** AutomatedTester|away is now known as AutomatedTester
[12:39:53] *** Joins: sergi (textual@moz-DB55470C.upc-a.chello.nl)
[12:40:57] *** Quits: timot_ (timot@moz-A3009AB5.mobile.tre.se) (Ping timeout)
[12:41:23] *** Joins: timot_ (timot@moz-FC8D988C.mobile.tre.se)
[12:42:16] *** Joins: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com)
[12:42:43] *** pmoore is now known as pmoore|away
[12:44:07] *** Joins: maik (maik@moz-79F83A35.uni-koblenz.de)
[12:45:19] *** Quits: Sphax (sphax@moz-3555CF28.dsl.sta.abo.bbox.fr) (Ping timeout)
[12:45:51] *** pmoore|away is now known as pmoore
[12:45:56] *** Quits: maik (maik@moz-79F83A35.uni-koblenz.de) (Ping timeout)
[12:49:13] *** Quits: eagen (eagen@8737942B.7A99C13A.B7961A98.IP) (Quit: Leaving)
[12:56:54] <acrichto> ChrisMorgan: I'm glad I can help out! I'm just doing what I love to do :)
[12:57:21] *** jorendorff_away is now known as jorendorff
[12:57:41] *** Quits: z0w0 (zack@64F0E14B.3C29B4A9.2CE63F58.IP) (Client exited)
[12:57:56] <acrichto> avsej: interesting... so that doesn't work without the --whole-archive related options?
[12:57:59] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[12:58:19] <acrichto> we should certainly be able to link against static libraries created by others
[12:58:46] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[12:59:47] <avsej> acrichto, yeah, that works
[12:59:58] <avsej> i just didn't tried without that
[13:00:01] <avsej> thanks
[13:00:34] * dbaupp knows what rust has been missing: methods called 'cow'
[13:01:00] <myname> magicaltrevor.cow.hide()
[13:02:12] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[13:02:20] <dbaupp> (https://github.com/mozilla/rust/pull/9786)
[13:03:03] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[13:03:25] <acrichto> that's a pretty clever pull, I kinda like it
[13:03:45] <acrichto> I'm not sure how useful it would be in terms of real-world applications, but I'm sure someone can think of something cool to do with it
[13:03:51] *** Joins: Sphax (sphax@moz-6AC47A5C.net-81-220-209.rev.numericable.fr)
[13:04:50] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[13:05:53] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[13:09:22] *** Quits: timot_ (timot@moz-FC8D988C.mobile.tre.se) (Ping timeout)
[13:10:31] *** Joins: victorporof (victorporo@A8FF5052.5E882C5.D111398B.IP)
[13:10:49] *** Joins: lenstr (lenstr@E0E80B8D.ED45D46B.DFEAE789.IP)
[13:11:39] *** Quits: victorporof_ (victorporo@A8FF5052.5E882C5.D111398B.IP) (Ping timeout)
[13:12:33] *** Quits: sergi (textual@moz-DB55470C.upc-a.chello.nl) (Quit: Computer has gone to sleep.)
[13:12:47] *** Quits: lenstr (lenstr@E0E80B8D.ED45D46B.DFEAE789.IP) (Client exited)
[13:14:44] *** Joins: hoverbear (andrew@moz-86FCBF4B.gv.shawcable.net)
[13:18:35] *** Joins: sergi (textual@moz-DB55470C.upc-a.chello.nl)
[13:18:55] *** jorendorff is now known as jorendorff_away
[13:19:53] <acrichto> interesting, a statically linked runtime to std has just finished bootstrapping
[13:19:57] <acrichto> I did not expect that
[13:20:23] <acrichto> sizeof(static librustc) == sizeof(dynamic librustc) + sizeof(dynamic rustllvm) to boot
[13:20:28] *** Quits: Lovot_ (root@AE31FB56.8153C3BF.F3C9A2D9.IP) (Ping timeout)
[13:23:41] <Earnestly> (please quite urls with spaces or <> since ( and ) are valid in URLs)
[13:23:48] <Earnestly> s/quote
[13:25:38] <dbaupp> ok
[13:25:57] * ChrisMorgan is loving the reduced memory drain of Rust compilation now; now Firefox can normally continue running while it builds
[13:25:58] *** Quits: dherman (dherman@moz-EA765158.midsouth.biz.rr.com) (Quit: dherman)
[13:26:19] <ChrisMorgan> And that will mean that I compile Rust more frequently.
[13:26:25] * Yoric cannot run Firefox normally while Firefox builds :/
[13:26:32] * dbaupp hugs acrichto for ChrisMorgan
[13:26:44] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[13:26:46] *** jorendorff_away is now known as jorendorff
[13:26:46] * ChrisMorgan high-fives both dbaupp and acrichto
[13:26:56] <ChrisMorgan> And jensnockert, for the fun of it :-)
[13:27:01] <acrichto> :D
[13:27:19] * dbaupp hugs jensnockert, 'cause he just missed it
[13:27:20] <jensnockert> o/\o
[13:27:27] * jensnockert hugs dbaupp.
[13:27:58] *** Joins: timot_ (timot@moz-FC8D988C.mobile.tre.se)
[13:28:43] <dbaupp> "pub trait SampleRange" ... "error: trait `SampleRange` is private"
[13:28:44] * ChrisMorgan finally decides to be sensible and goes to bed comparatively early (12:30am rather than 2am or 3am :-/)
[13:28:46] <dbaupp> :'(
[13:28:59] *** Quits: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com) (Ping timeout)
[13:29:08] *** jorendorff is now known as jorendorff_away
[13:29:12] <dbaupp> ooooh, the module that SampleRange comes from isn't pub.
[13:29:18] <dbaupp> that's not a very useful error message
[13:30:08] *** jorendorff_away is now known as jorendorff
[13:30:27] <acrichto> dbaupp: privacy has all of that information and it knows exactly what the break in the chain is, so feel free to open an issue on it
[13:30:36] <acrichto> I'm always a fan of better error messages
[13:30:48] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[13:35:06] <dbaupp> acrichto: https://github.com/mozilla/rust/issues/9793
[13:35:15] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[13:35:27] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Client exited)
[13:35:55] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[13:36:58] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[13:37:03] *** Joins: tetsuhar_ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[13:37:23] <jorendorff> Hmm. this stuff under std::u32::generated, what does the "generated" mean and am I supposed to use that directly?
[13:37:55] *** Joins: tetsuha__ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[13:38:07] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[13:38:27] *** Quits: tetsuha__ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Client exited)
[13:38:27] <acrichto> jorendorff: it's all generated with a macro, and right now macros can only expand to one item, which in this case is a `mod generated` with a `pub use self::generated::*` above it
[13:38:34] <acrichto> everything inside generated should be usable through std::u32
[13:38:40] <dbaupp> jorendorff: https://github.com/mozilla/rust/issues/4375
[13:38:50] <jorendorff> thanks.
[13:38:52] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[13:38:55] <dbaupp> acrichto: (another use case of globs! :P )
[13:39:07] <acrichto> still not a fan of globs lol
[13:39:16] *** Quits: tetsuhar_ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[13:39:46] <jorendorff> acrichto: did you mean "should" in the sense of "it would be nice if you could someday" or in the sense of "i think that works now"?
[13:39:50] <acrichto> although that's purely from a resolve perspective, if you take a look at how they're implemented it's scary
[13:39:52] <jorendorff> because http://static.rust-lang.org/doc/0.8/std/u32/index.html
[13:39:52] *** Quits: Ralith (ralith@moz-BD8F2783.vc.shawcable.net) (Ping timeout)
[13:39:53] *** Joins: tetsuhar_ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[13:40:02] <jorendorff> looks thin-ish
[13:40:20] <dbaupp> rusti: std::u32::bits
[13:40:21] -rusti- 32u
[13:40:25] <dbaupp> it works now
[13:40:28] <acrichto> jorendorff: I don't think that the docs will change a whole lot b/c the pub use is visible, but the generation of the items should change in the future to not require these inner modules
[13:40:38] <jorendorff> ok
[13:40:42] <acrichto> jorendorff: I agree though that the dox page is a little depressing
[13:40:43] *** Quits: huseby (huseby@moz-4E8C421A.husebyhome.com) (Quit: Leaving)
[13:40:43] *** Joins: tetsuha__ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[13:40:52] <acrichto> that should get fixed once we get maros that can expand to multiple items though
[13:41:02] *** Joins: Sorella (quildreen@9D963F5D.DF5D8AE7.54BCAB54.IP)
[13:41:06] <acrichto> b/c then we'll just generate everything inline into the u32 modules instead of having to lump it all into one generated module
[13:41:08] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[13:41:08] <dbaupp> rusti: the `pub use` means that the contents of generated is accessible from that module (i.e. it's almost equivalent to defining them in the same module as the `pub use`)
[13:41:08] -rusti- pastebinned 4 lines of output: http://sprunge.us/IYIi
[13:41:17] <dbaupp> *jorendorff 
[13:41:18] <dbaupp> oops
[13:41:26] * dbaupp has a rusti habit :/
[13:41:35] <acrichto> maybe we should call the generated modules 'mod please_look_inside_me'
[13:41:41] *** Quits: tetsuhar_ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[13:41:47] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[13:42:03] <jorendorff> heh, 'mod README'
[13:42:37] <jorendorff> ok, one more question, now regarding the type system: so now there are several modules offering parse_bytes; is the idea that I must specify which one I mean using either 'use' or a qualified name
[13:42:48] *** Joins: tetsuhar_ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[13:42:56] *** Quits: tetsuha__ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[13:42:59] <jorendorff> or, is the idea that I could import everything and some traits-like type inference will figure out the type
[13:43:10] <jorendorff> from what i do with the result downstream
[13:43:17] <dbaupp> mod most_useful_things_are_defined_here_but_reexported_from_the_parent { .. }
[13:43:47] <acrichto> jorendorff: if it's a trait method I think you'll get "conflicting implementations" errors, but if it's just a normal function name qualification and/or selective imports is the way to go
[13:43:52] *** Joins: tetsuha__ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[13:43:58] <jorendorff> mod So_let_me_briefly_explain_how_this_works___Once_upon_a_time_there_was_a_language_...
[13:43:59] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[13:44:53] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[13:45:01] *** Quits: tetsuhar_ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[13:45:20] *** Joins: tetsuhar_ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[13:45:40] *** Quits: tetsuha__ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[13:46:18] *** Joins: tetsuha__ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[13:46:42] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[13:47:18] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[13:47:38] *** Quits: tetsuhar_ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[13:48:03] <jorendorff> ok
[13:48:17] <jorendorff> i discovered i don't know what i mean when i say traits-like
[13:48:23] *** Joins: tetsuhar_ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[13:48:30] *** Quits: tetsuha__ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[13:49:23] *** Joins: tetsuha__ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[13:49:31] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[13:49:46] <jorendorff> what i really meant was how in haskell the type of some expressions depends on context, like...        :t 12         Num a => a,
[13:49:51] *** Quits: sergi (textual@moz-DB55470C.upc-a.chello.nl) (Quit: Computer has gone to sleep.)
[13:50:08] <jorendorff> but in a program it's often a particular type, as in 12 + .1
[13:50:19] <jorendorff> er, 0.1
[13:50:27] * acrichto goes and hides in a corner (doesn't know any haskell)
[13:50:27] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[13:50:33] *** Quits: tetsuhar_ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[13:50:34] *** Joins: sergi (textual@moz-DB55470C.upc-a.chello.nl)
[13:51:28] *** Joins: tetsuhar_ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[13:51:48] *** Quits: tetsuha__ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[13:52:28] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[13:52:31] *** Joins: tetsuha__ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[13:52:40] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[13:53:33] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[13:53:42] *** Quits: tetsuhar_ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[13:54:36] *** Joins: tetsuhar_ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[13:54:47] *** Quits: tetsuha__ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[13:55:36] *** Joins: tetsuha__ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[13:55:56] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[13:56:40] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[13:56:50] *** Quits: tetsuhar_ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[13:57:02] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[13:57:13] *** Joins: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se)
[13:57:20] *** Joins: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP)
[13:57:40] *** Joins: tetsuhar_ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[13:57:50] *** Quits: tetsuha__ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[13:58:01] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[13:58:03] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[13:58:09] *** Joins: tetsuha__ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[13:58:11] *** Joins: ComputerDruid (CDruid@86542073.13F0649.5AEB50C4.IP)
[13:58:51] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[13:59:06] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[13:59:22] *** Quits: tetsuhar_ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[14:00:08] *** Joins: tetsuhar_ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[14:00:30] *** Quits: tetsuha__ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[14:01:06] <strcat> rusti: use std::*;
[14:01:09] -rusti- <anon>:9:13: 9:20 warning: unused import [-W unused-imports (default)]
[14:01:09] -rusti- <anon>:9          use std::*;
[14:01:09] -rusti-                       ^~~~~~~
[14:01:09] -rusti- ()
[14:01:12] <dbaupp> \o/
[14:01:12] *** Joins: tetsuha__ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[14:01:25] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[14:02:13] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[14:02:28] *** Quits: tetsuhar_ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[14:02:35] *** Quits: hoverbear (andrew@moz-86FCBF4B.gv.shawcable.net) (Quit: hoverbear)
[14:03:00] *** Quits: tetsuha__ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[14:03:15] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[14:03:16] *** Joins: tetsuhar_ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[14:03:42] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[14:03:56] <kimundi> rusti: r"hello"
[14:03:56] -rusti- <anon>:9:10: 9:17 error: expected one of `;`, `}` but found `"hello"`
[14:03:57] -rusti- <anon>:9          r"hello"
[14:03:57] -rusti-                    ^~~~~~~
[14:03:57] -rusti- application terminated with error code 101
[14:04:09] <kimundi> rusti: let x = r"hello"; x
[14:04:09] -rusti- <anon>:9:18: 9:25 error: expected `;` but found `"hello"`
[14:04:09] -rusti- <anon>:9          let x = r"hello"; x
[14:04:09] -rusti-                            ^~~~~~~
[14:04:09] -rusti- application terminated with error code 101
[14:04:14] <dbaupp> rusti: version
[14:04:15] -rusti- "rustc 0.9-pre (8eb28bb 2013-10-06 14:41:28 -0700)"
[14:04:17] *** Joins: tetsuha__ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[14:04:18] <dbaupp> kimundi: too old
[14:04:21] <kimundi> hmm
[14:04:25] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[14:04:47] * kimundi though strcats test and dbaupp's \o/ implied that rusti updated
[14:05:12] <dbaupp> kimundi: no, just https://github.com/thestinger/rust-playpen/pull/1
[14:05:20] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[14:05:31] *** Quits: tetsuhar_ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[14:05:31] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Ping timeout)
[14:05:37] <kimundi> ah, selftest if it works at all, I see :)
[14:06:21] *** Joins: tetsuhar_ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[14:06:27] *** Quits: timot_ (timot@moz-FC8D988C.mobile.tre.se) (Ping timeout)
[14:06:32] *** Quits: tetsuha__ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[14:07:24] *** Joins: tetsuha__ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[14:07:31] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[14:08:26] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[14:08:44] *** Quits: tetsuhar_ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[14:08:44] *** Quits: fran (fran@moz-8AC36ECB.telecom.net.ar) (Ping timeout)
[14:09:29] *** Joins: tetsuhar_ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[14:09:34] *** Quits: tetsuha__ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[14:10:29] *** Joins: tetsuha__ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[14:10:44] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[14:11:13] *** Quits: tetsuhar_ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[14:11:22] *** Joins: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com)
[14:11:34] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[14:12:33] *** Joins: tetsuhar_ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[14:12:48] *** Quits: tetsuha__ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[14:13:20] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[14:13:37] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[14:14:35] *** Joins: clusterfoo (computer@moz-A81F9872.cable.teksavvy.com)
[14:14:40] *** Joins: tetsuha__ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[14:14:45] *** Quits: tetsuhar_ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[14:14:47] *** Joins: dherman (dherman@moz-EA765158.midsouth.biz.rr.com)
[14:14:47] *** ChanServ sets mode: +ao dherman dherman
[14:14:56] *** Joins: lkuper (lkuper@moz-D862222C.dhcp-bl.indiana.edu)
[14:15:44] *** Joins: tetsuhar_ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[14:15:53] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[14:16:42] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[14:16:55] *** Quits: tetsuha__ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[14:16:58] *** Joins: fran (fran@moz-14E717A5.telecom.net.ar)
[14:17:39] *** Quits: tetsuhar_ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[14:17:46] *** Joins: tetsuhar_ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[14:18:48] *** Joins: tetsuha__ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[14:18:57] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[14:19:15] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[14:19:58] *** Quits: tetsuhar_ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[14:20:13] *** Joins: tetsuhar_ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[14:20:37] *** Quits: tetsuha__ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[14:21:16] *** Joins: tetsuha__ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[14:21:28] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[14:21:40] *** Joins: ogi (ogi@B89478CB.25AB63C4.549B3E4F.IP)
[14:22:17] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[14:22:17] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[14:22:22] *** Quits: tetsuhar_ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[14:22:54] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[14:23:18] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[14:23:19] *** Joins: tetsuhar_ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[14:23:20] *** Joins: bent (chatzilla@moz-2CD73AA6.triad.res.rr.com)
[14:23:29] *** Quits: tetsuha__ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[14:24:10] <strcat> hm
[14:24:18] <strcat> you can't use #[feature] per-module
[14:24:22] *** Joins: tetsuha__ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[14:24:29] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[14:24:58] *** Quits: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com) (Ping timeout)
[14:25:23] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[14:25:40] *** Quits: tetsuhar_ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[14:26:26] *** Joins: tetsuhar_ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[14:26:39] *** Quits: tetsuha__ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[14:27:15] *** Joins: pnathan1 (Adium@moz-BDC3EE62.tukw.qwest.net)
[14:27:25] *** Joins: Scriptor (historium@moz-E06F46F0.corp.bitshelter.com)
[14:27:27] *** Joins: tetsuha__ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[14:27:36] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[14:28:31] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[14:28:47] *** Quits: tetsuhar_ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[14:29:01] <benh> How does hygiene in syntax extension expansion work?
[14:29:31] *** Joins: tetsuhar_ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[14:29:47] *** Quits: tetsuha__ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[14:29:59] *** Quits: nkoep (nik@moz-F75A14DF.vpn.rwth-aachen.de) (Ping timeout)
[14:30:09] *** Joins: timot_ (timot@moz-FC8D988C.mobile.tre.se)
[14:30:37] *** Joins: tetsuha__ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[14:30:46] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[14:31:00] *** Joins: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net)
[14:31:35] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[14:31:45] *** Quits: tetsuhar_ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[14:31:48] *** Joins: kendle (Mibbit@49996DC.6176FEB5.D39F610C.IP)
[14:31:54] *** Quits: kendle (Mibbit@49996DC.6176FEB5.D39F610C.IP) (Quit: kendle)
[14:32:10] *** Quits: timot_ (timot@moz-FC8D988C.mobile.tre.se) (Quit: Konversation terminated!)
[14:32:15] *** Joins: timot_ (timot@moz-FC8D988C.mobile.tre.se)
[14:32:23] *** Quits: tetsuha__ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[14:32:41] *** Joins: tetsuhar_ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[14:32:44] *** Quits: tgummerer (tgummerer@moz-EAB0B40D.kthopen.kth.se) (Ping timeout)
[14:33:43] *** Joins: tetsuha__ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[14:33:55] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[14:34:24] *** Quits: tetsuhar_ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[14:34:44] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[14:34:49] <jdm> tetsuharu: :(
[14:35:08] <jdm> your client is throwing a temper tantrum
[14:35:27] *** Parts: ogi (ogi@B89478CB.25AB63C4.549B3E4F.IP) (rcirc on GNU Emacs 24.3.1)
[14:35:36] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[14:35:44] *** Joins: tetsuhar_ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[14:35:55] *** Quits: tetsuha__ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[14:36:09] *** jdm sets mode: +b *!tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp
[14:36:30] <AlexMax> jdm: howso?
[14:36:52] <jdm> well, maybe not the client
[14:36:54] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[14:37:12] <AlexMax> oh is he join/part spamming?
[14:37:17] <AlexMax> i have join/parts filtered
[14:37:21] <AlexMax> except for people who talk
[14:37:21] <ross> I turn those off for this channel
[14:37:23] <jdm> AlexMax: ping timeouts every 20 seconds
[14:38:01] *** Quits: tetsuhar_ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[14:38:28] *** jdm sets mode: -b *!tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp
[14:38:55] *** Joins: tetsuhar_ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[14:39:35] *** Quits: ross (ross@moz-5EA04060.br.br.cox.net) (Quit: )
[14:39:52] *** Joins: tetsuha__ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[14:39:54] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[14:40:38] *** Quits: tetsuhar_ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[14:40:56] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[14:41:13] *** Joins: lmandel (lmandel@moz-76CE9D51.cable.teksavvy.com)
[14:41:13] *** Quits: eiz (eiz@moz-9518AEF.hsd1.ga.comcast.net) (Ping timeout)
[14:41:20] *** Joins: timot (timot@moz-FC8D988C.mobile.tre.se)
[14:41:22] *** Quits: timot_ (timot@moz-FC8D988C.mobile.tre.se) (Quit: Konversation terminated!)
[14:41:57] *** Joins: tetsuhar_ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[14:42:06] *** Quits: tetsuha__ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[14:42:18] *** jdm sets mode: +b *!tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp
[14:43:06] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[14:44:11] *** Quits: tetsuhar_ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[14:45:50] *** Joins: StarLight (StarLight@moz-9A720B6E.dynamic.avangarddsl.ru)
[14:46:10] *** Quits: timot (timot@moz-FC8D988C.mobile.tre.se) (Ping timeout)
[14:46:27] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[14:47:33] *** Joins: timot (timot@moz-FC8D988C.mobile.tre.se)
[14:47:51] <josh> Anyone know why my rust compiler suddenly has a problem with the type "float"?
[14:47:51] <josh> error: use of undeclared type name `float`
[14:48:03] <benh> float got removed, use f64 or f32
[14:48:34] *** Joins: nkoep (nik@moz-E163922.pool.mediaways.net)
[14:49:39] *** Joins: eiz (eiz@B49E36E9.6C697A7D.D1800747.IP)
[14:51:18] *** Quits: dherman (dherman@moz-EA765158.midsouth.biz.rr.com) (Quit: dherman)
[14:53:02] <josh> Thanks. Are we now supposed to check for NaN by doing == NaN instead of an is_NaN() function?
[14:53:20] *** Joins: csherratt (csherratt@moz-CAF331EA.cable.teksavvy.com)
[14:54:40] *** Quits: sergi (textual@moz-DB55470C.upc-a.chello.nl) (Quit: Computer has gone to sleep.)
[14:56:29] *** Joins: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net)
[14:57:14] *** Quits: paulproteus (quassel@199.199.210.158) (Ping timeout)
[14:57:14] *** Quits: timot (timot@moz-FC8D988C.mobile.tre.se) (Ping timeout)
[14:57:32] *** Joins: paulproteus (quassel@458FE134.3EC36C88.CBDCF1DC.IP)
[14:57:37] *** Quits: nkoep (nik@moz-E163922.pool.mediaways.net) (Ping timeout)
[14:59:34] <Ms2ger> Don't think that'll work
[14:59:35] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Ping timeout)
[15:01:00] *** Joins: timot (timot@moz-FC8D988C.mobile.tre.se)
[15:02:07] <kimundi> josh: Still need value.is_nan() for that
[15:02:22] <kimundi> because NaN != NaN always
[15:02:43] <josh> f32 doesn't seem to have an is_nan function
[15:03:19] *** Joins: timot_ (timot@moz-FC8D988C.mobile.tre.se)
[15:03:20] *** Quits: timot (timot@moz-FC8D988C.mobile.tre.se) (Ping timeout)
[15:03:21] <kimundi> How are you invoking it?
[15:03:22] *** Quits: avsej (avsej@DF1824D5.EFF97412.48F984E6.IP) (Client exited)
[15:03:32] <josh> I guess there is one here, actually
[15:03:33] <josh> std::num::Float
[15:04:07] <josh> I was doing this, where result is f32
[15:04:09] <josh> result.is_NaN()
[15:04:12] <kimundi> rusti: let x = 1.0f64; x.is_nan()
[15:04:14] -rusti- pastebinned 7 lines of output: http://sprunge.us/FPTX
[15:04:24] <kimundi> rusti: use std::num::Float; let x = 1.0f64; x.is_nan()
[15:04:25] -rusti- false
[15:04:28] *** Joins: kyod (Mibbit@moz-85BE88EF.ens.fr)
[15:04:32] <kimundi> hm, why is that not in the prelude...
[15:04:51] <kimundi> Anyway, need to import the trait then
[15:04:56] <kimundi> As I did above
[15:05:01] <josh> thanks
[15:05:38] *** Joins: Cromulent (Cromulent@moz-983B638D.cable.virginmedia.com)
[15:06:01] *** Quits: timot_ (timot@moz-FC8D988C.mobile.tre.se) (Ping timeout)
[15:06:27] *** Joins: timot_ (timot@moz-FC8D988C.mobile.tre.se)
[15:06:57] *** Joins: samnardoni (Mibbit@F889EF52.38924046.A86B7D63.IP)
[15:07:40] *** Quits: Cromulent (Cromulent@moz-983B638D.cable.virginmedia.com) (Ping timeout)
[15:07:48] *** Quits: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net) (Ping timeout)
[15:08:04] *** Joins: nkoep (nik@moz-E163922.pool.mediaways.net)
[15:08:46] *** Quits: Ms2ger (Ms2ger@moz-9CE68E83.ugent.be) (Quit: bbl)
[15:08:49] *** Joins: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net)
[15:08:50] <AlexMax> did this go anywhere?
[15:08:52] <AlexMax> http://pcwalton.github.io/blog/2013/06/02/removing-garbage-collection-from-the-rust-language/
[15:08:58] <kimundi> AlexMax: Not yet
[15:09:04] <kimundi> AlexMax: But still planned
[15:09:11] <kimundi> AlexMax: @fn got removed revently
[15:09:21] <kimundi> recently*
[15:12:47] *** Quits: timot_ (timot@moz-FC8D988C.mobile.tre.se) (Ping timeout)
[15:13:06] *** Quits: kyod (Mibbit@moz-85BE88EF.ens.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[15:13:31] *** Joins: timot_ (timot@moz-FC8D988C.mobile.tre.se)
[15:18:03] *** Joins: tiffany (kawaii@moz-28A8742A.dhcp.embarqhsd.net)
[15:21:02] <myname> where can i read about the two heaps?
[15:21:10] <strcat> there aren't two heaps
[15:21:16] <myname> what?
[15:21:27] <strcat> it was a made up thing to explain unique pointers and wasn't right
[15:21:55] *** Joins: nejucomo (Adium@moz-434492BB.dsl.static.sonic.net)
[15:22:04] *** Joins: robertknight (robertknig@moz-54528EE0.wby.mendeley.com)
[15:22:05] *** Quits: nejucomo (Adium@moz-434492BB.dsl.static.sonic.net) (Quit: Leaving.)
[15:22:28] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[15:22:48] <kimundi> There is one heap, but subsets of the allocations in it can be seen as containing only allocations that are owned by types in one task
[15:23:15] *** Quits: skade (skade@30BBD5E6.505237C9.CAE22B62.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[15:23:18] <strcat> eventually, when there's a task-local garbage collector for Gc<T> pointers, it will allocate a big chunk of memory to work with
[15:23:40] <strcat> but there isn't a gc atm
[15:23:49] *** Quits: robertknight (robertknig@moz-54528EE0.wby.mendeley.com) (Ping timeout)
[15:25:30] <strcat> seems like as good a time as any to move the subset of extra::rc I want to keep to std ;p
[15:29:23] <benh> quote_expr! is too hygienic, oh no :(
[15:29:32] <benh> I miss Nemerle
[15:29:33] <jix> there is no GC?
[15:29:54] <kimundi> jix: Right now garbage collected pointers are actually implemented as reference counting
[15:30:28] <jix> but as long as I avoid cycles stuff will get collected?
[15:30:30] <strcat> jix: @/@mut pointers (eventually just Gc<T>) are in theory gc'ed, but aren't really
[15:30:37] <kimundi> jix: We have a garbage collector ready for a few months, but couldn'T deploy it because it made rustc use to much memory to compile itself under 32bit systems
[15:31:06] <kimundi> Well, the gc is probably bitrotted now, and the dev who wrote it left the team...
[15:31:12] *** Joins: jeffb (jeff@moz-D13B6004.hsd1.ca.comcast.net)
[15:31:28] <strcat> jix: as long as you don't use @, you don't have to worry about it ;p
[15:31:35] <strcat> if you want a reference-counted box, use Rc
[15:31:48] *** Quits: steffenomak (steffenoma@moz-FB0A4BEB.student.uu.se) (Ping timeout)
[15:32:08] <jix> I would want to have GC, but if I only get refcounting it would be fine right now too... can I still use @ then?
[15:32:35] <strcat> sure, but it will be removed from the syntax in all likelihood and become Gc<T>
[15:32:38] *** Quits: derboi_c (derboi_c@F9D9DD4F.F54B176A.BA2F4534.IP) (Ping timeout)
[15:32:41] <jix> well I guess if @ will be replaced with Gc using Rc for now... yeah exactly
[15:32:47] <strcat> @ cycles will leak until the task ends
[15:32:56] <strcat> fwiw, Rc is *much* faster than the @ implementation
[15:33:11] <jix> I'm porting code that used shared_ptr in C++ so it cannot get worse really
[15:33:22] <strcat> jix: ah yeah, shared_ptr is really slow
[15:33:28] *** Parts: csherratt (csherratt@moz-CAF331EA.cable.teksavvy.com) ()
[15:33:29] <strcat> because it does atomic refcounting and supports weak pointers
[15:33:30] <jix> also wrt cycles
[15:33:34] <benh> Why is Rc faster than @?
[15:33:44] *** Joins: spott (spott@moz-9B11536C.hsd1.co.comcast.net)
[15:33:51] *** Quits: spott (spott@moz-9B11536C.hsd1.co.comcast.net) (Client exited)
[15:33:51] <strcat> benh: because it's implemented sanely - it has a 1-word header (the count), and has move semantics
[15:34:04] <strcat> passing it by-value is a ptr copy - not a refcount
[15:34:10] <benh> right
[15:34:15] <strcat> it only does a refcount on clone()
[15:34:22] <strcat> so it also gets freed much earlier
[15:34:30] <strcat> for example consider
[15:34:34] <strcat> let x = @5; foo(x)
[15:34:36] <strcat> by-value
[15:34:53] <strcat> it won't be freed until all references made in foo() are gone, *and* `x` is gone
[15:34:56] <strcat> with Rc
[15:34:58] <benh> with Rc, it'd potentially get free'd inside foo? right
[15:35:09] <strcat> it will be freed inside foo (unless foo returns a reference)
[15:35:15] *** Joins: derboi_c (derboi_c@26A6BF87.940A4703.BA2F4534.IP)
[15:35:22] <strcat> it will move from `x`
[15:35:34] <strcat> since you pick when you clone, it's freed as soon as possible
[15:35:46] <strcat> would cut rustc memory usage a lot
[15:37:35] *** Quits: samnardoni (Mibbit@F889EF52.38924046.A86B7D63.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[15:38:23] *** Quits: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net) (Ping timeout)
[15:38:46] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[15:39:07] *** Quits: pnathan1 (Adium@moz-BDC3EE62.tukw.qwest.net) (Quit: Leaving.)
[15:39:24] <AlexMax> There is a "Rust for C++ programmers" primer
[15:39:36] *** Joins: tgummerer (tgummerer@moz-5DC8FA44.tbcn.telia.com)
[15:39:42] <AlexMax> is there a "Rust for dynamic language programmers" primer?
[15:40:21] <strcat> well, the Rust for C++ programmers one exists because if you're an experienced C++ programmer there aren't really new concepts to learn
[15:40:30] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[15:40:39] <strcat> the regular tutorials would be fine if you're coming from any other language
[15:40:40] <kimundi> AlexMax: There is one ebook, rust for rubyists
[15:40:41] <AlexMax> Rust introduces a lot of concepts and vocabularity that I can see easily sailing over people's heads
[15:40:46] <jix> is it possible to have a Rc self pointer?
[15:41:00] <kimundi> jix: Not currently
[15:41:03] <strcat> jix: no, but it's questionable whether @/@mut self pointers are useful at all
[15:41:08] <AlexMax> "What's the stack?  What's the heap?  Boxing?  Pointers?  Why do I have to worry about this?"
[15:41:17] <strcat> AlexMax: it explains why
[15:41:22] *** Quits: timot_ (timot@moz-FC8D988C.mobile.tre.se) (Ping timeout)
[15:41:27] <strcat> I think the new boxes section I wrote does a really good job
[15:41:29] *** Quits: nsf (nsf@moz-EEF3238A.convex.ru) (Quit: WeeChat 0.4.1)
[15:41:42] *** Joins: Cromulent (Cromulent@moz-983B638D.cable.virginmedia.com)
[15:41:43] <strcat> http://static.rust-lang.org/doc/master/tutorial.html#boxes
[15:41:58] <strcat> you don't really need to know what the 'heap' is
[15:42:02] <AlexMax> I'm going through the tutorial though, and that's something that occured to me as i was reading it.
[15:42:08] <strcat> the heap isn't a real thing anyway
[15:42:09] <jix> Ah yeah, if I put the Rc into a struct and use that in the public API it will be nicer anyway
[15:42:10] <strcat> it's a concept
[15:42:23] *** Joins: timot_ (timot@moz-FC8D988C.mobile.tre.se)
[15:42:30] <strcat> AlexMax: the old boxes stuff was quite confusing, I agree
[15:42:40] <kimundi> jix: Right, can always wrap is so that self or &self works
[15:42:41] <strcat> but I think the section in master is great ;p
[15:42:42] <AlexMax> I'm reading the 0.8 docs
[15:42:47] <strcat> AlexMax: ah, read the master ones
[15:42:52] <AlexMax> Will do
[15:43:17] <jix> kimundi: that way client code also doesn't have to change should I move to Gc or something else (modulo changes needed because rust itself changes)
[15:43:23] <strcat> AlexMax: I replaced the old boxes and owned boxes sections with one explaining *exactly* why they exist, and what they are
[15:43:30] <AlexMax> But stuff like "ownership semantics" might not seem important to a php programmer
[15:43:35] *** Joins: jeffreybaird (jeffreybai@moz-ED3EF543.static.twtelecom.net)
[15:43:40] <strcat> AlexMax: well, it is important outside of rust
[15:43:40] <AlexMax> "I just define a variable, works for me."
[15:43:44] * kimundi thinks we need to up the fontsize of the master doc link a bit, and decrease the font size of the 0.8 doc link by the same amount :P
[15:43:59] <strcat> foo = open("foo.txt"); bar(foo)
[15:44:05] <strcat> does bar take ownership of foo?
[15:44:10] <strcat> if it does, it's responsible for closing it
[15:44:14] <strcat> otherwise, the caller is
[15:44:18] <AlexMax> strcat: Oh yeah.  I got my start with Java and PHP, but I've been toying with C++ over the past year or two and it has REALLY opened my eyes to those sorts of questions.
[15:44:19] *** Joins: Kruppe (user@moz-253119B0.esg.uwaterloo.ca)
[15:44:41] <AlexMax> But it might not occur to someone who didn't have the patience for C/C++.
[15:44:51] <strcat> AlexMax: the ownership section really needs work
[15:44:54] <strcat> but Boxes is great now ;p
[15:44:57] <AlexMax> yay
[15:45:02] <AlexMax> thank you strcat :)
[15:45:03] * strcat wrote all of those sections in the first place so... ;p
[15:45:36] <kimundi> Rust has the advantage that is forces the Programmer to learn about those things. It's also its greatest hurdler for newcomers :)
[15:45:40] <AlexMax> Maybe I'm not a good judge of the tutorial because of the angle I'm approaching it from
[15:45:49] *** Quits: jeffreybaird (jeffreybai@moz-ED3EF543.static.twtelecom.net) (Quit: jeffreybaird)
[15:45:53] <AlexMax> Maybe it DOES make sense to a dynamic-only programmer and my concerns are overblown
[15:46:06] <kimundi> Well, the Tutorial still needs a rewrite in many parts
[15:46:51] <kimundi> As docs go, in decreasing quality: #rust, tutorial, manual, wiki :P
[15:47:17] <strcat> AlexMax: well, I am aiming high with those sections and trying to explain the entire semantics of the language
[15:47:22] <strcat> rather than just skimming over it
[15:47:24] *** Joins: jeffreybaird (jeffreybai@moz-ED3EF543.static.twtelecom.net)
[15:47:28] <jason_> strcat: do you happen to know the bug # for the drop/move flag issue you mentioned yesterday
[15:47:30] <strcat> so it took a while to get it to the point where it was simple
[15:48:00] <strcat> (it doesn't go into lawyer-speak details, but it does explain the entire high-level concept)
[15:48:06] *** Joins: alan (alan@moz-FE02DD30.sat6.rackspace.com)
[15:48:31] <strcat> in the olden days before I rewrote them, they just made up some weird/incorrect exchange/local heap nonsense and didn't explain why you would ever need one
[15:48:36] <strcat> ;p
[15:49:01] <strcat> they evolved with the language though... so it ended up that way over time
[15:50:50] *** Joins: spott (spott@moz-9B11536C.hsd1.co.comcast.net)
[15:50:59] *** Joins: spider-mario (spidermari@moz-2F72F6FF.dsl.quantic-telecom.net)
[15:51:09] *** Quits: spott (spott@moz-9B11536C.hsd1.co.comcast.net) (Client exited)
[15:52:29] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[16:01:24] *** Quits: jeffb (jeff@moz-D13B6004.hsd1.ca.comcast.net) (Quit: jeffb)
[16:05:13] *** Quits: [squiddy] (squiddy@moz-A441D2CD.dynamic.cablesurf.de) (Ping timeout)
[16:05:59] <benh> so not only is quote_expr! too hygienic to just let me use it to return a block that references local variables from outside the block, my syntax extension also ICEs if I use the formatting bits of fail!()/fail2!() :(
[16:06:41] <benh> And I haven't figured out how hygiene works if I construct an ast for a block by hand
[16:07:06] *** Quits: GeorgeH (George@moz-FB5F2302.hsd1.nj.comcast.net) (Ping timeout)
[16:10:52] *** Quits: nrc (nrc@88F51059.F3BBB17D.144F44FA.IP) (Ping timeout)
[16:11:02] *** Quits: barosl (barosl@3DE683B6.E551553C.7544CABF.IP) (Quit: 랜덤은 쇠퇴했습니다.)
[16:12:14] *** Joins: nrc (nrc@88F51059.F3BBB17D.144F44FA.IP)
[16:14:29] *** Quits: Sphax (sphax@moz-6AC47A5C.net-81-220-209.rev.numericable.fr) (Quit: Quitte)
[16:17:14] *** Joins: skade (skade@moz-4865967C.pools.arcor-ip.net)
[16:17:41] *** Quits: nkoep (nik@moz-E163922.pool.mediaways.net) (Ping timeout)
[16:18:30] *** Quits: skade (skade@moz-4865967C.pools.arcor-ip.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[16:19:00] *** Joins: skade (skade@moz-4865967C.pools.arcor-ip.net)
[16:20:21] *** flaper87 is now known as flaper87|afk
[16:21:39] *** Quits: eevee (eevee@moz-59EA9CA5.evrt.wa.frontiernet.net) (Ping timeout)
[16:21:57] *** Joins: spott (spott@moz-5158CBDE.colorado.edu)
[16:23:34] *** Joins: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com)
[16:25:55] *** Joins: eevee (eevee@moz-59EA9CA5.evrt.wa.frontiernet.net)
[16:26:09] *** Joins: carllerche (carllerche@6B070D22.7E6A0813.1428D117.IP)
[16:26:36] *** Quits: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se) (Ping timeout)
[16:27:03] *** Joins: nano (nano@moz-74CAD1CA.superkabel.de)
[16:29:19] *** Quits: Ferreus (ferreus@moz-C92E8F55.dip0.t-ipconnect.de) (Ping timeout)
[16:29:28] *** Quits: skade (skade@moz-4865967C.pools.arcor-ip.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[16:32:33] *** Joins: CurlyBrace (Mibbit@DF25F755.4D74B5A0.DDE5D3F6.IP)
[16:33:05] *** Joins: nkoep (nik@moz-F3CF5B6F.vpn.rwth-aachen.de)
[16:33:35] *** Joins: robert (robert@moz-C7DC1A73.lin.openzula.org)
[16:34:59] *** Joins: tav (tav@moz-196E6F10.sohonet.co.uk)
[16:35:40] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[16:35:40] *** ChanServ sets mode: +ao brson brson
[16:37:09] <CurlyBrace> Hello
[16:37:35] <jason_> i was wondering if trait Move { fn move(&mut self, &mut from) } had been proposed as a solution to the drop/move flag being added to structs that implement Drop trait. if you implement Move+Drop you don't get the flag added to your struct
[16:37:59] <robert> how do I go about getting the sizeof a struct? In C you'd do sizeof(foobar_t), and from some Googling it seems in Rust this should be std::sys::size_of<foobar_t>() but I can't seem to get it to work (rust 0.8)
[16:38:15] <kimundi> robert: syntax error
[16:38:23] <kimundi> std::sys::size_of::<foobar_t>(
[16:38:24] <jason_> robert: std::sys::size_of::<foobar_t>()
[16:38:26] <strcat> rusti: std::sys::size_of::<int>()
[16:38:27] -rusti- 8u
[16:38:36] <strcat> rusti: 1.0 * 1.0
[16:38:37] -rusti- 1f64
[16:39:35] <robert> ah, I didn't realise :: was required before the types - thanks :)
[16:39:42] <jdm> few people do
[16:40:06] <kimundi> jason_: Hm. It's not obvious to me what this Move trait would allow. Would you like to explain? :)
[16:40:14] <kimundi> robert: It's only required in expressions
[16:40:34] <kimundi> robert: If it's a type, then leave of the :: there
[16:40:44] *** Quits: nrc (nrc@88F51059.F3BBB17D.144F44FA.IP) (Connection reset by peer)
[16:41:24] *** Joins: nrc (nrc@88F51059.F3BBB17D.144F44FA.IP)
[16:41:54] <strcat> jason_: doing that would lead to safety issues
[16:42:21] *** Quits: tgummerer (tgummerer@moz-5DC8FA44.tbcn.telia.com) (Ping timeout)
[16:42:27] <strcat> unless there were very strict requirements on what move() was allowed to do
[16:42:46] <strcat> it wouldn't be allowed to fail
[16:42:50] *** Quits: dcolish (dcolish@1DB472A5.BE69FB10.416A0103.IP) (Ping timeout)
[16:43:05] <strcat> this is why C++11 has noexcept - because move constructors weren't forbidden from throwing
[16:43:24] <strcat> so they have to have a programmable way of checking if a generic type can be moved without throwing
[16:43:32] <strcat> to fall back to copying if it can
[16:43:44] <AlexMax> Hrm, so the trunk docs have not been updated to reflect the fact that @ is going away
[16:43:59] <strcat> they'll be updated when it actually happens
[16:44:18] <cmr> ChrisMorgan: school has done this to me, isn't it sad? :(
[16:44:19] <AlexMax> strcat: Past that thing I linked earler, is there a more clearly defined roadmap for what's actually going to change?
[16:44:23] <cmr> (re: powerhouse)
[16:44:33] <AlexMax> or did that blog post get posted, everybody agreed, and nothing else
[16:44:52] <benh> I heard niko matsakis is going to start blogging more again, so maybe there'll be one soon ;)
[16:46:04] *** Joins: dcolish (dcolish@1DB472A5.BE69FB10.416A0103.IP)
[16:46:37] *** Joins: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net)
[16:47:14] *** Quits: spider-mario (spidermari@moz-2F72F6FF.dsl.quantic-telecom.net) (Ping timeout)
[16:47:37] *** Joins: spider-mario (spidermari@moz-2F72F6FF.dsl.quantic-telecom.net)
[16:48:23] *** Quits: jeffreybaird (jeffreybai@moz-ED3EF543.static.twtelecom.net) (Quit: jeffreybaird)
[16:48:33] <strcat> AlexMax: well, I think it's likely that it will be removed from the syntax in favour of Gc<T>
[16:49:59] <mindcat> rusti: 1.0f32 * 1.0
[16:50:00] -rusti- 1f32
[16:50:11] <mindcat> rusti: 1.0f32 * 1
[16:50:11] -rusti- pastebinned 7 lines of output: http://sprunge.us/NjcL
[16:50:41] <mindcat> rusti: 1.0f32 * 1.
[16:50:42] -rusti- 1f32
[16:50:50] *** Joins: huseby (huseby@19BD73A1.5D8BCA3A.A0C1B52F.IP)
[16:51:35] *** pmoore is now known as pmoore|afk
[16:52:02] <AlexMax> Yeah, the idea of being unopinionated on garbage collection sounds good.  From what I've toyed with C++, I'm really excited that someone took a step back and instead of doing "Here's C++++, we added these features, we removed these other features, enjoy", someone seems to be taking a serious look at some basic assumptions of how the language ought to work.
[16:52:32] <AlexMax> It being a credible alternative to C++
[16:52:53] <strcat> it wasn't really developed by starting from C++ or looking at C++
[16:53:28] <AlexMax> Yeah, it looks that way.
[16:53:56] <AlexMax> but from what I'm reading, you guys are kinda slouching towards the same kinds of niches
[16:54:31] <AlexMax> seems like you guys are kind of discovering as you going along that the language could possibly end up there
[16:54:44] <robert> I'm interfacing with some C code, how do I take the address of a variable? &foo doesn't seem to work
[16:54:55] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[16:55:16] <Eridius> robert: the address of a rust variable?
[16:55:20] <Eridius> &foo should work just fine
[16:55:27] <Eridius> and it should convert to a *foo implicitly
[16:55:48] *** Quits: spott (spott@moz-5158CBDE.colorado.edu) (Client exited)
[16:56:27] *** Quits: timot_ (timot@moz-FC8D988C.mobile.tre.se) (Ping timeout)
[16:56:34] <strcat> AlexMax: it's meant to be competitive with C++ in terms of performance, latency and memory-usage - yeah
[16:56:47] *** Quits: nkoep (nik@moz-F3CF5B6F.vpn.rwth-aachen.de) (Ping timeout)
[16:56:58] *** Joins: tgummerer (tgummerer@51D3B54.FEF996EA.EA6FEF3D.IP)
[16:57:05] <strcat> it has many similarities to C++11, but it's also very similar to ML/Haskell
[16:57:08] *** Joins: timot_ (timot@moz-FC8D988C.mobile.tre.se)
[16:57:14] <robert> hmm, maybe that's not my issue then
[16:58:01] <strcat> if you're comparing to C++98/C++03 (which was the standard when Rust development started, and what graydon had used) it doesn't really overlap as much as you'd think
[16:58:39] <AlexMax> What is something that C++98/C++03 would be useful for that Rust is less than ideal for?
[16:58:43] *** Joins: tjc (tjc@moz-6EB4E533.dsl.tsoft.com)
[16:58:43] *** ChanServ sets mode: +o tjc
[16:58:49] <strcat> AlexMax: I don't mean in terms of niche
[16:58:54] <strcat> I mean in terms of language features
[16:58:59] <jorendorff> where graydon started out was very much not C++ish, but I think the language has certainly evolved in that direction, in terms of predictable performance of basic things
[16:59:10] <Eridius> AlexMax: err, interfacing with other C++ code? ;)
[16:59:52] <AlexMax> well yeah, C++98/C++03 didn't have std::unique_ptr
[16:59:56] *** Quits: timot_ (timot@moz-FC8D988C.mobile.tre.se) (Ping timeout)
[17:00:01] *** Joins: timot_ (timot@moz-F8EE0933.mobile.tre.se)
[17:00:06] <strcat> Rust doesn't have object inheritance + virtual methods, and it uses type classes instead of templates - so from a polymorphism POV it's much different
[17:00:17] <strcat> C++98/C++03 didn't have move semantics, and Rust moves by-default
[17:00:39] <jorendorff> ~ is so rad
[17:01:13] <strcat> both use destructors for resource management, so they end up with a heavy emphasis on the concept of ownership
[17:02:13] <jorendorff> rust lifetime checking is a feature I really want to like. I sure wish the rules were written down somewhere!
[17:02:16] <benh> both have people ranting about compile times :))
[17:02:20] <strcat> the emphasis on type classes (including default methods, and trait inheritance hierarchies), sum types and pattern matching makes it a lot different
[17:02:26] <Eridius> jorendorff: the only rule you need to know, is that borrowck hates you ;)
[17:02:43] <jorendorff> i know something hates me, but i didn't know what it was called
[17:02:51] <strcat> jorendorff: they're written down in huge block comments nmatsakis wrote :P
[17:02:54] <benh> they're written down in a huge c--- yeah
[17:03:15] <benh> https://github.com/mozilla/rust/blob/master/src/librustc/middle/borrowck/doc.rs this, probably
[17:03:43] <Eridius> that's quite the comment
[17:05:23] <AlexMax> pattern matching is really freaking cool
[17:05:43] <jorendorff> benh: is stuff like this rendered anywhere? i mean i can copy and paste into a gist but...
[17:05:49] <cmr> jorendorff: not that I know of
[17:06:19] <jorendorff> well ok then https://gist.github.com/jorendorff/6921930
[17:07:09] *** Joins: vmx (vmx@moz-32B78225.pools.arcor-ip.net)
[17:07:16] *** Joins: jeffreybaird (jeffreybai@moz-ED3EF543.static.twtelecom.net)
[17:07:32] <robert> does rust have a do while loop?
[17:07:46] <jdm> robert: unfortunately no
[17:07:58] <jorendorff> benh: so, can you understand the Overview in that file?
[17:08:01] <robert> okie dokie, I'll cheat :)
[17:08:06] <benh> Nope
[17:08:07] <jdm> robert: loop { ... if whatever { break; } }
[17:08:23] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[17:08:36] <kimundi> tjc: ping
[17:08:50] <tjc> kimundi: triage meeting right now, ping me again in 50 minutes?
[17:08:56] <kimundi> AH, sure :)
[17:09:21] <benh> I'm still surprised by what innocent-looking code doesn't borrow-check, and muddle along by intuition, and try to avoid clever &-shenanigans :(
[17:09:45] <sfackler> jorendorff: there is a borrowed pointer tutorial that goes over the basics: http://static.rust-lang.org/doc/master/tutorial-borrowed-ptr.html
[17:11:30] <robert> jdm: ooh, that's nicer than my way, thanks :)
[17:13:15] *** Quits: nrc (nrc@88F51059.F3BBB17D.144F44FA.IP) (Quit: ChatZilla 0.9.90.1 [Firefox 24.0/20130812173056])
[17:13:21] *** Joins: sergi (textual@moz-DB55470C.upc-a.chello.nl)
[17:14:02] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[17:14:07] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Client exited)
[17:14:17] *** Quits: jdm (jdm@88F51059.F3BBB17D.144F44FA.IP) (Quit: Lost terminal)
[17:14:28] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[17:15:14] *** Joins: nkoep (nik@moz-E163922.pool.mediaways.net)
[17:17:01] *** Joins: heftig (heftig@moz-CFB9DAF0.dip0.t-ipconnect.de)
[17:17:03] <robert> is it possible to access C's errno from Rust? if so, how?
[17:17:27] <kimundi> benh: hm, & doesn't seem that magical to me
[17:17:29] <strcat> errno_location (and be careful not to call anything that could yield or overwrite it, in between)
[17:17:38] <strcat> os::errno_location *
[17:17:44] <CurlyBrace> Hey, guys
[17:18:00] <CurlyBrace> I'm trying to pipe from one process to another in rust 0.7, but I can't get it to work, even with os::Pipe
[17:18:05] <robert> strcat: lovely, thank you :)
[17:18:13] <CurlyBrace> let mut piper: Pipe = os::Pipe{..}; gives me 'expected ;'
[17:18:26] <jason_> strcat: maybe a #[nofail] for move? fail! in drop seems to be allowed, but i'm having a hard time seeing how it is safer than throwing in a destructor?
[17:18:32] *** Quits: fabiand (fabiand@moz-F6154332.adsl.alicedsl.de) (Client exited)
[17:18:33] <CurlyBrace> When I am just trying ti make a default Pipe struct
[17:18:51] <kimundi> jason_: It's not
[17:18:57] <kimundi> safer, that is
[17:19:09] <strcat> jason_: https://github.com/mozilla/rust/issues/5016
[17:19:13] <strcat> the long-term plan
[17:19:14] <benh> kimundi: I always think "hm, clearly this is going to work because clearly this &-ptr is outlived by this other object etc" and it never works ;)
[17:19:40] *** Joins: mikezaby (mikezaby@moz-908EA8DE.home.otenet.gr)
[17:19:48] <kimundi> benh: heh :) 
[17:21:30] *** Parts: mikezaby (mikezaby@moz-908EA8DE.home.otenet.gr) ()
[17:21:36] *** Joins: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca)
[17:23:06] <strcat> rusti: &*&5
[17:23:08] -rusti- pastebinned 18 lines of output: http://sprunge.us/MbWI
[17:23:16] <strcat> rusti: println!("{}", &*&5)
[17:23:17] -rusti- pastebinned 12 lines of output: http://sprunge.us/NUXO
[17:23:20] <CurlyBrace> let mut piper: std::os::Pipe = std::os::Pipe(0, 1);   error: unresolved name 'pipe'
[17:23:24] <strcat> rusti: println!("{:?}", &*&5)
[17:23:25] -rusti- &5
[17:23:26] -rusti- ()
[17:23:31] <CurlyBrace> rusti: let mut piper: std::os::Pipe = std::os::Pipe(0, 1);
[17:23:32] -rusti- pastebinned 7 lines of output: http://sprunge.us/IXPM
[17:23:47] *** Quits: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com) (Ping timeout)
[17:24:00] <CurlyBrace> gah
[17:26:05] *** Joins: spott (spott@moz-5158CBDE.colorado.edu)
[17:26:15] <CurlyBrace> Any advice?
[17:26:56] *** Quits: Cromulent (Cromulent@moz-983B638D.cable.virginmedia.com) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[17:27:34] *** Quits: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net) (Quit: sw17ch)
[17:27:57] <sfackler> rusti: let mut piper = std::os::pipe()
[17:27:57] -rusti- pastebinned 6 lines of output: http://sprunge.us/dVEH
[17:28:03] <sfackler> rusti: let mut piper = std::os::pipe();
[17:28:04] -rusti- pastebinned 7 lines of output: http://sprunge.us/EPiR
[17:28:32] <sfackler> alternatively, let mut piper = std::os::Pipe { input: 0, output: 1 };
[17:29:13] *** Joins: orshem (orshem@94E07E96.588A166C.E3D28531.IP)
[17:30:17] *** Joins: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu)
[17:30:27] *** Quits: jeffreybaird (jeffreybai@moz-ED3EF543.static.twtelecom.net) (Quit: jeffreybaird)
[17:30:43] *** Joins: nsf (nsf@moz-EEF3238A.convex.ru)
[17:30:43] *** Joins: raspy (Mibbit@moz-D0FAF29E.static.rvsd.ca.charter.com)
[17:30:57] *** Quits: raspy (Mibbit@moz-D0FAF29E.static.rvsd.ca.charter.com) (Quit: http://www.mibbit.com ajax IRC Client)
[17:31:22] <CurlyBrace> ah
[17:31:23] <CurlyBrace> that works
[17:31:35] *** Quits: spott (spott@moz-5158CBDE.colorado.edu) (Client exited)
[17:31:36] <CurlyBrace> I tried buidling the struct that way earlier, but I must have made some other mistake
[17:32:06] *** Joins: spott (spott@moz-5158CBDE.colorado.edu)
[17:32:14] <orshem> it's really not intuitive how to work with enums values without glob imports 
[17:32:15] *** Quits: CarpNet (ac@moz-FD24B77.sohonet.co.uk) (Quit: Leaving)
[17:32:26] *** Joins: nrc (nrc@88F51059.F3BBB17D.144F44FA.IP)
[17:32:35] <CurlyBrace> hmm
[17:32:42] <orshem> are glob imports going away?
[17:33:51] *** Quits: spott (spott@moz-5158CBDE.colorado.edu) (Ping timeout)
[17:34:40] *** Joins: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net)
[17:35:05] *** Joins: rab (rab@993DE0B4.AA18ECD0.580BDDEE.IP)
[17:36:59] <cmr> orshem: no
[17:37:02] <cmr> maybe
[17:37:04] *** Joins: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net)
[17:37:09] *** cade is now known as cade_away
[17:37:16] <rab> silly problem. rust 0.8 linux, rustc command not found. where does rusts live?
[17:37:18] <cmr> anyway, use mod::{EnumValue1, EnumValue2, ...}
[17:37:26] <cmr> rab: where'd you install it?
[17:38:07] <rab> i don't see it in the dir. it is in rust-0.8 in Downloads
[17:38:07] *** Joins: spott (spott@moz-5158CBDE.colorado.edu)
[17:38:16] *** Quits: canhtak (jeremy@moz-5B47EFA.wl.t.ulaval.ca) (Quit: canhtak)
[17:38:18] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[17:38:27] <cmr> That's just the source tarball, you need to build it.
[17:39:28] *** Joins: jeffreybaird (jeffreybai@moz-ED3EF543.static.twtelecom.net)
[17:39:36] <rab> I ran ./configure and it finished without errors (I have been trying to get it to compile since 0.6)
[17:39:56] <cmr> you need to run `make` and then `make install`
[17:40:45] <rab> ah. it is underway. thx
[17:40:57] *** Quits: spott (spott@moz-5158CBDE.colorado.edu) (Client exited)
[17:40:59] *** Joins: ecr (Mibbit@E940BDD3.FBC7597F.11F8506F.IP)
[17:41:15] *** Joins: anshin (anshin@CD85F10D.F21429E2.354459FA.IP)
[17:41:44] *** Joins: Ms2ger (Ms2ger@4C3AB550.528524A1.F15B0BB3.IP)
[17:42:22] *** Joins: ren (Mibbit@4C80E764.8878667B.DDE5D3F6.IP)
[17:45:14] <CurlyBrace> *yawn*
[17:45:27] *** Quits: orshem (orshem@94E07E96.588A166C.E3D28531.IP) (Ping timeout)
[17:45:58] *** Joins: jmgrosen (jmgrosen@moz-A3814C08.sd.sd.cox.net)
[17:46:06] *** Joins: spott (spott@moz-5158CBDE.colorado.edu)
[17:46:14] *** Joins: [squiddy] (squiddy@moz-A441D2CD.dynamic.cablesurf.de)
[17:51:17] *** Joins: pcwalton (pcwalton@moz-BBE3ABD.mv.mozilla.com)
[17:51:17] *** ChanServ sets mode: +ao pcwalton pcwalton
[17:52:14] *** Joins: lucian_ (lucian@moz-D82F7974.zone16.bethere.co.uk)
[17:52:59] *** Quits: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP) (Ping timeout)
[17:53:00] *** Quits: bent (chatzilla@moz-2CD73AA6.triad.res.rr.com) (Quit: ChatZilla 0.9.90.1-rdmsoft [XULRunner 22.0/20130619132145])
[17:53:20] *** Quits: anshin (anshin@CD85F10D.F21429E2.354459FA.IP) (Quit: anshin)
[17:53:22] *** Joins: anshin (anshin@CD85F10D.F21429E2.354459FA.IP)
[17:54:01] *** Quits: lucian_ (lucian@moz-D82F7974.zone16.bethere.co.uk) (Ping timeout)
[17:56:32] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[17:56:54] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[17:57:01] <CurlyBrace> I'm now trying to connect two Processes with that pipe
[17:57:12] <CurlyBrace> but of course, the Pipe struct only takes c_ints as inputs
[17:57:20] <CurlyBrace> am I to convert the Processes to c_ints?
[17:57:21] *** Quits: jmgrosen (jmgrosen@moz-A3814C08.sd.sd.cox.net) (Quit: jmgrosen)
[17:58:22] *** Quits: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu) (Ping timeout)
[17:58:36] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[17:58:48] <strcat> rusti: fn foo<T: Drop>(_: T) {}
[17:58:49] -rusti- ()
[17:58:53] <strcat> heh
[17:58:57] *** Joins: rusty (Mibbit@moz-D0FAF29E.static.rvsd.ca.charter.com)
[17:59:03] <strcat> rusti: fn foo<T: Drop>(_: T) {} foo(~5)
[17:59:04] -rusti- pastebinned 6 lines of output: http://sprunge.us/WKDQ
[17:59:30] <rusty> Hey all, sorry if I completely missed something, but is there a simple way to make a struct inherit from another in Rust?
[17:59:40] *** Quits: sergi (textual@moz-DB55470C.upc-a.chello.nl) (Quit: Computer has gone to sleep.)
[18:00:04] *** Joins: ahal_ (ahal@moz-94F07FF4.cable.teksavvy.com)
[18:00:08] <tjc> rusty: nope, you didn't miss anything -- that's by design
[18:00:10] *** Quits: ahal_ (ahal@moz-94F07FF4.cable.teksavvy.com) (Connection reset by peer)
[18:00:12] <tjc> traits can inherit from other traits
[18:00:23] <tjc> but structs can't; so, there's no inheritance of fields, only methods
[18:00:34] <tjc> (This should be in the hypothetical traits tutorial...)
[18:00:38] <rusty> ok, cool. I was reading this: http://cs.lmu.edu/~ray/notes/introconcurrency/
[18:00:44] *** Quits: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net) (Ping timeout)
[18:01:03] <rusty> and I was just looking to get around the redundancy of defining all of the structs in that way
[18:01:12] <tjc> the workaround is to have getter methods
[18:01:16] <tjc> those can be inherited
[18:02:05] <tjc> kimundi: what's up?
[18:02:25] *** Quits: rusty (Mibbit@moz-D0FAF29E.static.rvsd.ca.charter.com) (Quit: http://www.mibbit.com ajax IRC Client)
[18:02:46] <CurlyBrace> If I want to pipe one Process to another, how to I use them in a Pipe struct?
[18:02:46] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[18:02:53] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[18:02:58] <nmatsakis> pcwalton / brson: I realized a problem with |T| -> U syntax for closures
[18:03:20] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[18:03:24] <nmatsakis> in particular, it's not clear where to put bound lifetimes... <'a> |&'a Foo| -> &'a Bar
[18:03:35] <nmatsakis> starts to get up there on the old line noise meter
[18:04:04] <nmatsakis> though fn<'a>(&'a Foo) -> &'a Bar has its problems too -- not especially compatible with Trait<T>,
[18:04:05] *** Quits: pcwalton (pcwalton@moz-BBE3ABD.mv.mozilla.com) (Quit: pcwalton)
[18:04:10] <nmatsakis> since in the former 'a is a binder, but in the latter T is a reference to a type T
[18:04:37] *** Joins: pcwalton (pcwalton@moz-BBE3ABD.mv.mozilla.com)
[18:04:37] *** ChanServ sets mode: +ao pcwalton pcwalton
[18:04:54] <pcwalton> nmatsakis: ah, bummer
[18:05:30] <pcwalton> well, I think &fn has the nice property that it makes it feel like &Trait
[18:05:31] *** Joins: GeorgeH (George@moz-FB5F2302.hsd1.nj.comcast.net)
[18:05:38] <pcwalton> and if it eventually becomes &Trait
[18:05:43] <pcwalton> that's even better
[18:06:03] <pcwalton> brb, switching to linux
[18:06:36] <kimundi> tjc: So, as I said I'm looking into making fail! send the failure cause to it's parent task
[18:06:37] <robert> is there a trick to using multiple modules that I'm missing? I've just moved mod foo {} into a separate file (foo.rs), and replaced it with use foo::*; mod foo; and I'm not getting lots of unresolved names
[18:06:48] *** Quits: huseby (huseby@19BD73A1.5D8BCA3A.A0C1B52F.IP) (Input/output error)
[18:07:07] *** Joins: onix (Mibbit@moz-7BD0516A.entero.com)
[18:07:19] <acrichto> robert: if you're running off of master, glob imports won't bring in anything private, only public things
[18:07:35] <kimundi> tjc: And I'm not sure what the best solution for multible tasks reacting to one failure would be
[18:07:45] <kimundi> tjc: As would be the case in, ege, linked failure
[18:07:46] <tjc> kimundi: interesting point
[18:07:50] *** Quits: onix (Mibbit@moz-7BD0516A.entero.com) (Quit: http://www.mibbit.com ajax IRC Client)
[18:07:51] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Ping timeout)
[18:07:57] <benh> CurlyBrace: The os::pipe() function gives you a pipe, the two fields of the Pipe struct are the two file descriptors that are the ends of the pipe, one for reading, one for writing, respectively. You have to call pipe() before you fork your processes so that each process has the fd that it needs, it can't be done after the fact with existing processes. The Pipe struct itself isn't good for anything, it's just so pipe() can return two fds that are clearly labeled i
[18:07:59] <robert> acrichto: I'm using 0.8, and everything is marked as pub
[18:08:12] <Luqman> robert: you don't need to add mod foo {} since foo.rs is implicity a mod named foo
[18:08:31] <tjc> kimundi: At least in my use case (rustpkg), all of the scenarios like that that I can envision are ones where the parent tasks would want to propagate the error message upwards
[18:08:35] *** Joins: huseby (huseby@19BD73A1.5D8BCA3A.A0C1B52F.IP)
[18:08:45] <tjc> But, I'm limiting myself to the ~str case in my thinking and not the ~Any case
[18:08:50] <tjc> since for what I'm doing, I don't need ~Any
[18:08:53] <robert> oooh, that'd do it - so I've effectively managed to create foo::foo rather than foo, right? :)
[18:09:01] <Luqman> yep
[18:09:24] <kimundi> tjc: So, an idea that I had is to write an special Arc type that contains Option<FailCause>, and that preallocates it's box at task creation, so that it can be used on task failure to hsare the cause among N recievers without needing to allocate
[18:09:28] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[18:09:33] <robert> cool, thanks =]
[18:09:36] <CurlyBrace> benh: Thanks... Since I am trying to pipe from one Process to another, I need to somehow make a filedescriptor instead of a Process, for input in the pipe() function?
[18:10:22] <benh> CurlyBrace: No, you get the file descriptors from the pipe funtion
[18:10:37] *** Joins: riley (riley@8BA43816.9AA11D69.65DDFA89.IP)
[18:10:37] <kimundi> tjc: Well, I'm currently working with a enum FailCause(FailCauseStr(SendStr), FailCauseAny(~Any))
[18:10:51] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[18:11:11] <benh> let my_pipe = std::os::pipe();, now you have my_pipe.input and my_pipe.out, and ought to pass them to your processes as you create them
[18:11:19] <kimundi> seeing how owned vectors will probably be not compatible with DST trait objects
[18:11:20] *** Quits: timot_ (timot@moz-F8EE0933.mobile.tre.se) (Ping timeout)
[18:12:12] <CurlyBrace> benh: I see what you are saying
[18:12:17] <tjc> kimundi: hmm, thinking (about the Arc type)
[18:12:32] <kimundi> Sure :)
[18:12:42] <CurlyBrace> benh: Thanks, I will try that
[18:13:40] *** Quits: ecr (Mibbit@E940BDD3.FBC7597F.11F8506F.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[18:13:59] *** Joins: timot_ (timot@moz-F8EE0933.mobile.tre.se)
[18:14:03] <tjc> kimundi: My personal style is to implement the minimum necessary for doing the thing I need to do, then build on that incrementally...
[18:14:17] <tjc> not pushing for you to do the same, it's a matter of discretion, but
[18:14:29] <kimundi> yeah, but a ~str has the same problem too
[18:14:49] <tjc> What I mean is also implementing the simplest case (one parent task, one child task) first
[18:14:56] <tjc> then building on that
[18:15:10] <CurlyBrace> Thanks, that's doing what we need it to.
[18:15:16] *** Quits: spott (spott@moz-5158CBDE.colorado.edu) (Client exited)
[18:15:19] <tjc> Again, reasonable people can disagree on this, just saying what my intuition is here
[18:15:27] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[18:15:37] <kimundi> Hm. Well, I'm currently just working backwards from sys::begin_unwind and task::try and try to make them meet in the middle :)
[18:16:08] <kimundi> I don't understand the runtime enough to really get a big picture and see easier shortcuts
[18:16:24] <tjc> Heh, I really don't, either
[18:16:29] <tjc> I'm trying to learn more about it by doing this :-)
[18:16:37] <kimundi> haha :)
[18:17:36] *** cade_away is now known as cade
[18:18:11] <kimundi> tjc: Well, to me at least the task failure implementation is a bit confusing... It's scattered over ~5 modules :)
[18:18:29] <tjc> kimundi: Yeah, my understanding is that linked failure is still somewhat here-there-be-dragons
[18:19:26] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[18:20:13] <ComputerDruid> I'm reading the master tutorial, and I came across "...for example, an @Circle may not be cast ..." How is one supposed to pronounce "@Circle"?
[18:20:20] <tjc> ComputerDruid: at-circle
[18:20:24] <tjc> although that syntax is going to change
[18:20:32] <benh> "Gee cee less-than circle greater-than"
[18:20:41] <ComputerDruid> haha
[18:20:45] <tjc> kimundi: I should head out to the office, but offhand I don't see any problem with your idea; I'm probably still going to try implementing the simpler (~str, one-child-task) version until I convince myself it's a bad idea
[18:20:52] <ComputerDruid> right, forgot about that
[18:20:53] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Quit: Gone to save the world!)
[18:20:54] <kimundi> ComputerDruid: or just garbage collected Circle
[18:20:56] <tjc> since I'm hoping that will get me up to speed with rustpkg tests quicker
[18:21:01] <tjc> or "managed Circle"
[18:21:08] <tjc> (whether it's GC'ed is basically an implementation detail)
[18:21:34] <tjc> kimundi: but don't let that stop you from implementing the Right Thing in general :-) brson is probably the best person to ask about runtime internals
[18:21:51] <ComputerDruid> I like "managed Circle", personally, but then calling it _an_ @Circle doesn't make sense
[18:22:01] <kimundi> tjc: Sure, who am I to stop you. xD I can always adapt the ~Any stuff on to of that if neccessary
[18:22:20] <tjc> kimundi: Maybe, or else my code will be kludgy and you'll want to throw it away and replace it with your better version :-)
[18:23:05] <ComputerDruid> it also goes on to say "cast to an ~Drawable", although I guess that would be "owned Drawable" and therefore be gramatically correct?
[18:23:15] <kimundi> Heh, "better"... I only consider my changes good if I understand why they works, and I'm not entirely there yet :)
[18:23:17] *** Quits: timot_ (timot@moz-F8EE0933.mobile.tre.se) (Ping timeout)
[18:23:26] <kimundi> ComputerDruid: Yeah
[18:23:57] <tjc> kimundi: write comments as you go along! that's the biggest thing I can think of to make sure it will be a net win :-)
[18:24:03] <tjc> I mean, in existing code too when you learn new things about it
[18:24:04] <kimundi> ComputerDruid: Well, technically every Circle would be an owned Circle :P
[18:24:05] <benh> any chance I could get some feedback or even ideas for an interface for https://github.com/mozilla/rust/issues/9763 ?
[18:24:25] <tjc> benh: my feedback is that yes, we need this!
[18:24:28] <kimundi> ComputerDruid: Circle in a owned box / Circle in a managed Box
[18:24:54] <tjc> benh: I don't think it needs to be too complicated? something simple that's analogous to as_c_str or whatever it's called now
[18:25:04] <ComputerDruid> Maybe the tutorial needs a pronunciation guide, haha. Both of those uses of "an" really threw me off.
[18:25:09] <tjc> ComputerDruid: Good point
[18:25:10] <benh> Oh, that's an RAII wrapper and doesn't take a closure?
[18:25:22] <kimundi> tjc: Yeah I try that, there problem is more if there is a huge codebase (std::rt) with a lot of stuff that I don't know what it is for :)
[18:25:35] <benh> I was hoping there's precedent for a simple wrapper that people are happy with, gonna look at that
[18:25:40] <robert> is it possible to default initialize a struct? how do I do that?
[18:25:41] <kimundi> Like, I never know if I'm missing something
[18:25:46] <tjc> benh: No, it does take a closure, sorry...
[18:25:51] <tjc> I guess I didn't understand what you meant
[18:25:57] *** Joins: lucian (lucian@moz-22A14C6A.cable.virginmedia.com)
[18:26:07] *** Joins: lucian_ (lucian@moz-22A14C6A.cable.virginmedia.com)
[18:26:10] *** Quits: lucian (lucian@moz-22A14C6A.cable.virginmedia.com) (Connection reset by peer)
[18:26:10] *** Joins: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net)
[18:26:21] <tjc> kimundi: Yeah, you don't have to do everything; my usual rule of thumb is that if I'm trying to understand an existing function and I have to think a non-trivial amount but then feel like I understood, then I should write a comment
[18:26:25] <tjc> so the next person doesn't have to think :-)
[18:26:29] *** Joins: eagen (eagen@15B176CF.7A99C13A.B7961A98.IP)
[18:26:35] *** Quits: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net) (Ping timeout)
[18:26:38] *** Quits: eagen (eagen@15B176CF.7A99C13A.B7961A98.IP) (Connection reset by peer)
[18:26:50] <tjc> benh: I kinda thought the "best thing" that was possible was taking a closure, but maybe I've missed a new development
[18:26:55] <kimundi> robert: No defaults per se, but you can implement the Default trait for it and just do let x: StructFoo = Defaul::Default();
[18:27:06] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Input/output error)
[18:27:06] <benh> tjc: yeah, I'd have gone with a closure too but I thought we were trying to avoid the "do with_blah { ... }" blocks for fear of indentation
[18:27:27] <benh> I seem to recall someon saying that they'd rather not see more of that kind of pattern
[18:27:28] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[18:27:32] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[18:27:53] <tjc> benh: For sure, I just don't know the state of progress towards that goal
[18:28:00] *** Joins: canhtak (jeremy@moz-5B47EFA.wl.t.ulaval.ca)
[18:28:19] *** Joins: mib_v6l4qd (Mibbit@moz-13D5D55D.ip228.fastwebnet.it)
[18:28:20] <kimundi> Hehe, it seems with what I'm planning for that Arc type I get to use Phantom types for once :)
[18:28:21] <tjc> I definitely think it's needed here, though, I was looking at my /tmp directory and noticed centuries of accumulated temp directories from rustpkg tests :P
[18:28:35] *** Joins: timot_ (timot@moz-F8EE0933.mobile.tre.se)
[18:28:35] <benh> yeah, that's how I found out about mkdtemp in the first place :D
[18:28:39] <tjc> haha
[18:28:48] <tjc> I had assumed that the OS cleans out the /tmp directory on reboot
[18:28:54] <tjc> probably not a universally true assumption
[18:28:59] <robert> kimundi: hrrm, that's a bit annoying - I'm interfacing with some C code and there's a lot of declare struct -> pass pointer to function to initialize kind of code... it's not a problem in C as you aren't required to initialize variables there, but rust enforces it
[18:29:21] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Ping timeout)
[18:29:28] *** Joins: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net)
[18:29:53] <kimundi> robert: If you can ensure a safe interface, there are intrinsics that allow you to create a value that is either completly zeroed out, or even completly uninitilaized for any type
[18:30:23] <mib_v6l4qd> give a fn compute<T>(x: T) -> T, how does one implement an fn compute_in_place<T>(x: &mut T) that does *x = compute(*x) without angering the borrow checker? is it possible without unsafe blocks?
[18:30:36] <robert> kimundi: could you point me in the right direction please? :)
[18:30:57] <tjc> mib_v6l4qd: That's not safe in general
[18:31:03] *** Quits: Amaranth (travis@moz-F81BB56A.cpe.cableone.net) (Ping timeout)
[18:31:09] <mib_v6l4qd> why?
[18:31:11] <tjc> mib_v6l4qd: think of it as like: if you have permission to read a location, that doesn't mean you have permission to write to it too
[18:31:29] <benh> rusti: do "foo".as_c_string |cs| { format!("{:?}", cs) }
[18:31:31] -rusti- pastebinned 13 lines of output: http://sprunge.us/OUhN
[18:31:35] <kimundi> robert: std::unstable::intrinsics::{init, uninit}
[18:31:36] <tjc> in more detail, one of the reasons it could be unsafe is interior pointers
[18:31:45] <tjc> so, suppose that in one case, T gets replaced with Option<int>
[18:31:54] <robert> kimundi: lovely, thank you :)
[18:32:09] <tjc> And suppose compute gets called on Some(foo), and someone else has a borrowed pointer to foo
[18:32:13] <mib_v6l4qd> but there aren't any, because I hold an &mut; but I guess &const is the issue
[18:32:20] <tjc> if compute_in_place writes a None into its argument instead...
[18:32:24] <tjc> now that borrowed pointer is dangling
[18:32:49] <benh> Don't we have something in std::util maybe?
[18:32:57] *** Quits: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net) (Quit: sw17ch)
[18:33:00] <tjc> actually, I misunderstood your question, but I think the answer is more or less the same
[18:33:18] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Connection reset by peer)
[18:33:26] <tjc> What you're given is actually a function that takes x by-ownership. That's `compute`...
[18:33:37] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[18:33:43] <tjc> You want to implement a function that takes x by mutable reference. Taking x by mutable reference gives you weaker guarantees
[18:33:50] *** Joins: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net)
[18:33:54] <benh> ((i guess not, nevermind))
[18:34:20] <tjc> I haven't had enough coffee, someone else should finish this train of thought for me :P
[18:35:00] *** pmoore|afk is now known as pmoore
[18:36:13] <mib_v6l4qd> is there really any fundamental issue with that if &const were banned from the language?
[18:36:27] <benh> rusti: std::sys::size_of::<Option<PosixPath>>()
[18:36:27] -rusti- 24u
[18:36:45] <benh> rusti: std::sys::size_of::<PosixPath>()
[18:36:46] -rusti- 16u
[18:37:10] *** Quits: lucian_ (lucian@moz-22A14C6A.cable.virginmedia.com) (Input/output error)
[18:37:12] <benh> There's a pointer inside a PosixPath, why doesn't it shrink it! :v
[18:37:32] *** Joins: lucian (lucian@moz-22A14C6A.cable.virginmedia.com)
[18:37:37] *** Quits: mindcat (mindcat@E6DCC6FE.69E5AD7C.D6E1F3C4.IP) (Quit: Lost terminal)
[18:37:45] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[18:38:02] <kimundi> benh: That optimization doesn'T get applied automatically yet I think
[18:38:07] <tjc> mib_v6l4qd: Yes, there's still an issue. compute_in_place would be the only *writer* to x, it's true, if it has a &mut -- but it's not the only reader, necessarily
[18:38:17] <tjc> "raising the privilege" from &mut to owned would still be unsafe
[18:38:36] <Luqman> benh: PosixPath is a struct isn't it?
[18:38:42] <benh> yeah
[18:38:48] <benh> it has a bool and a ~[~str]
[18:39:16] *** Quits: lucian (lucian@moz-22A14C6A.cable.virginmedia.com) (Ping timeout)
[18:39:34] <Luqman> benh: so yea, that optimization only applied to enums
[18:39:41] <tiffany> are there any plans for separate reader/writer for TcpStream?
[18:39:42] <benh> ah
[18:39:51] <tjc> mib_v6l4qd: Maybe a simpler way to think about it is: if you could implement the function you want, then why would the language need to have &mut T in it? Having a &mut T would be equivalent to owning T
[18:40:51] <mib_v6l4qd> but &mut is unaliasable, so there cannot be other readers other than &const, no?
[18:41:10] <mib_v6l4qd> &mut seems equivalent to owning T AND having to give back another T
[18:41:14] <benh> tjc: I think your reasoning is wrong though, the problem is the moving out, not the overwriting, and you can overwrite a &mut Option with a None just fine
[18:42:10] <mib_v6l4qd> i.e. it should be OK to move out as long as you move in something else before the &mut goes out of scope or is passed somewhere else, etc.
[18:43:45] <kmc> that sounds like https://mail.mozilla.org/pipermail/rust-dev/2013-August/005424.html
[18:43:58] <benh> I was just looking for that too :)
[18:44:03] *** Quits: Yurume (yurume@AC58A8CE.8A059B47.E313B915.IP) (Ping timeout)
[18:44:48] *** Quits: huseby (huseby@19BD73A1.5D8BCA3A.A0C1B52F.IP) (Quit: Leaving)
[18:45:37] *** Quits: timot_ (timot@moz-F8EE0933.mobile.tre.se) (Ping timeout)
[18:45:38] <mib_v6l4qd> yes: it seems checkable statically though in the basic cases
[18:46:13] <benh> I think it's probably one of these "might be desirable but nmatsakis hasn't gotten around to it yet" situations
[18:46:22] *** Quits: nkoep (nik@moz-E163922.pool.mediaways.net) (Ping timeout)
[18:47:02] *** Joins: timot_ (timot@moz-F8EE0933.mobile.tre.se)
[18:47:04] * nmatsakis reads a bit of backscroll
[18:48:10] <nmatsakis> mib_v6l4qd: currently that is not possible, and &mut is not precisely equivalent to "taking and giving back" --
[18:48:35] <nmatsakis> as you pointed out, &const aliases, though even if those are removed, @mut (and possibly Mut<T> in the future) aliases can still occur
[18:48:51] <nmatsakis> in the absence of any aliasing, then yes, it should be ok,
[18:49:15] <mib_v6l4qd> but those should work anyway even if the body of @mut has been moved out, since the borrow flag will prevent accessing it
[18:49:22] <nmatsakis> in some cases the language could perhaps figure out that there are no possible accessible aliases, based on the types of what is in scope, but we don't have any rules that reason in that way, and it makes me nervous
[18:49:28] <mib_v6l4qd> though the issue with fail! and drop that Micah Chalmer points out might be fatal
[18:49:28] <nmatsakis> no, the borrow flag does not prevent reads
[18:49:40] <nmatsakis> yes, fail! is another issue
[18:49:53] <nmatsakis> at least wiht @mut, one can read fields without any check of the borrow flags
[18:49:58] <nmatsakis> which was an important design criteria
[18:50:09] <nmatsakis> I guess that gets lost with Mut<T>, which is interesting
[18:50:15] <nmatsakis> I hadn't considered that
[18:50:37] <nmatsakis> or at least I thought it was important to permit reads without checking flags, since read barriers seemed expensive -- but there is no data backing that up
[18:50:53] *** Quits: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net) (Quit: sw17ch)
[18:53:20] *** Quits: ren (Mibbit@4C80E764.8878667B.DDE5D3F6.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[18:53:36] *** Quits: nrc (nrc@88F51059.F3BBB17D.144F44FA.IP) (Ping timeout)
[18:55:43] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[18:55:55] *** Quits: timot_ (timot@moz-F8EE0933.mobile.tre.se) (Ping timeout)
[18:56:01] *** Joins: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net)
[18:56:23] *** Quits: robarnold (rob@moz-59F6B5.hfc.comcastbusiness.net) (Ping timeout)
[18:56:29] *** Joins: sergi (textual@moz-DB55470C.upc-a.chello.nl)
[18:58:20] *** Joins: robarnold (rob@moz-59F6B5.hfc.comcastbusiness.net)
[18:58:25] *** Joins: timot_ (timot@moz-F8EE0933.mobile.tre.se)
[19:00:13] *** Quits: petantik (oz@moz-20EC2160.net) (Input/output error)
[19:00:46] *** Joins: oz (oz@moz-20EC2160.net)
[19:00:58] *** Joins: nkoep (nik@moz-5806EA17.vpn.rwth-aachen.de)
[19:01:42] <mib_v6l4qd> I suppose the @mut issue could be fixed by only allowing to read non-pointer things without checking flags (i.e. primitives and enum/structs made of them)
[19:01:45] <mib_v6l4qd> the fail! issue however seems worse, and seems to prevent moving out of anything containing Drop or unique boxes
[19:02:26] *** oz is now known as petantik
[19:03:25] <mib_v6l4qd> unless one adds an "initialized flag" to all of them or has the compiler automatically swap in a Default instance, but both of those seem to be quite problematic
[19:04:07] *** Joins: Amaranth (travis@moz-F81BB56A.cpe.cableone.net)
[19:04:25] *** Quits: pcdummy (pcdummy@moz-CF4CA865.page4me.ch) (Ping timeout)
[19:05:31] *** Joins: pcdummy (pcdummy@moz-CF4CA865.page4me.ch)
[19:05:48] <Ms2ger> So what's the difference between Foo(_) and Foo(*) in match arms?
[19:06:57] <Luqman> Foo(_) would match Foo(int) but not Foo(int, int). Foo(*) matches any number
[19:08:31] <Ms2ger> Ah, interesting
[19:09:38] *** Joins: lucian (lucian@moz-22A14C6A.cable.virginmedia.com)
[19:10:21] *** Quits: busylizzy (lisa@85228838.12D0DC84.211374C4.IP) (Ping timeout)
[19:10:28] <mib_v6l4qd> hmm, maybe one could forbid taking &mut pointers to the interior of things implementing Drop, and have a task-local list of ranges of uninitialized memory that gets ignored when fail! frees unique boxes
[19:11:02] *** Joins: busylizzy (lisa@85228838.12D0DC84.211374C4.IP)
[19:12:26] *** Quits: timot_ (timot@moz-F8EE0933.mobile.tre.se) (Ping timeout)
[19:12:27] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[19:12:55] <tjc> mib_v6l4qd: If you haven't seen it, http://smallcultfollowing.com/babysteps/blog/2012/11/18/imagine-never-hearing-the-phrase-aliasable/ is good to read to get an idea for the principles behind this particular part of Rust's design
[19:13:02] <tjc> It describes the proposal that we ended up implementing later on
[19:13:09] *** Joins: timot_ (timot@moz-F8EE0933.mobile.tre.se)
[19:13:56] *** Quits: lucian (lucian@moz-22A14C6A.cable.virginmedia.com) (Ping timeout)
[19:14:09] *** Quits: jeffreybaird (jeffreybai@moz-ED3EF543.static.twtelecom.net) (Quit: jeffreybaird)
[19:14:28] <benh> hm, os::make_dir doesn't even tell why it failed, so mkdtemp spins for 1000 syscalls if you just give it a bogus directory :D
[19:14:42] <tjc> benh: funtimes
[19:15:10] <benh> abstracting over errno and uh whatever the windows api does for errors is probably fun, too
[19:15:10] *** Quits: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net) (Connection reset by peer)
[19:15:14] *** Joins: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net)
[19:15:32] <rab> installing rust 0.8. got through make successfully. make install can't find certain docs and fails. shouldn't it be ok without the docs?
[19:15:34] *** Joins: devbug (quassel@2D4E172D.4C8B6099.9B57EA59.IP)
[19:15:42] *** Joins: robertknight (robertknig@moz-54528EE0.wby.mendeley.com)
[19:16:03] <rab> linux 64
[19:16:33] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[19:16:50] <benh> should be fine, i dunno. you can also go without installing it and just run rustc from within the build directory, in some arch-specific dir / stage2/bin/rustc
[19:17:38] *** Quits: BizarreCake (BizarreCak@moz-361FE9B2.dynamic.barak-online.net) (Ping timeout)
[19:18:57] *** Joins: jeaye (Jeaye@moz-34FEF2BB.hsd1.ca.comcast.net)
[19:20:04] *** pmoore is now known as pmoore|away
[19:20:44] *** Joins: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se)
[19:22:33] *** Joins: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com)
[19:23:10] *** Joins: dherman (dherman@1BB0349.FEF91D35.59163313.IP)
[19:23:11] *** ChanServ sets mode: +ao dherman dherman
[19:25:38] *** Joins: spott (spott@moz-5158CBDE.colorado.edu)
[19:26:07] <nmatsakis> pcwalton: have you given any thought to value of a `scope` keyword?
[19:26:52] <nmatsakis> pcwalton: I'm kind of convinced that if we plan to push on RAII, we will want it
[19:26:54] <acrichto> nmatsakis: if I remember correctly, isn't that just used for "let dummy = expr();" so that dummy lives for the rest of the scope?
[19:27:20] *** Quits: spott (spott@moz-5158CBDE.colorado.edu) (Ping timeout)
[19:27:21] <nmatsakis> acrichto: I would probably allow two forms: scope expr(); // equivalent to let _dummy = expr();
[19:27:31] <nmatsakis> acrichto: scope expr() { ... } // equivalent to { let_dummy = expr(); ... }
[19:27:37] <nmatsakis> but I just remembered for the umpteenth time,
[19:27:42] <nmatsakis> that I might rather do this as a macro
[19:28:01] <acrichto> I was hoping we could just make "let foo = bar" not emit a warning if the type has a destructor
[19:28:06] <acrichto> but it looks like scope does more fancy things
[19:28:21] <benh> let _foo = bar doesn't warn and works fine, doesn't it?
[19:28:28] <nmatsakis> we could do that, giving a dummy name feels hokey though
[19:28:39] <nmatsakis> but yeah this is a purely eye candy feature :)
[19:28:53] <acrichto> nmatsakis: yeah I dunno how much of a crackdown we want to put on keywords
[19:29:06] <acrichto> we let continue and in creep in since we last tried to remove keywords
[19:29:34] <nmatsakis> I lack a strong feeling about keywords, though I guess you don't want to go nuts. as pnkfelix once said, if you don't have 0, who cares how many you have?
[19:29:51] <nmatsakis> but sometimes it's annoying if all the good identifiers are taken :)
[19:30:18] <acrichto> I'd be fine with adding scope as a keyword, especially if it has extra fanciness
[19:30:36] <nmatsakis> well, it can certainly wait; we could always reserve it.
[19:30:37] <acrichto> scope lock.lock() { ... } seems cool
[19:30:58] <kmc> having 'scope' as a keyword mostly sounds annoying for compiler writers ;)
[19:31:06] *** Quits: Palmik (palmik@moz-11EA685D.pks.muni.cz) (Quit: Lost terminal)
[19:31:20] <acrichto> it's not like rust was ever intended to have a compiler written in it :)
[19:32:07] <kmc> the fact that we have both continuation-based resource acquisition and RAII gets more confusing as the syntax for the two gets closer
[19:32:14] <kmc> but I'm not sure what if anything to do about that
[19:32:24] <kmc> other than convert everything to RAII :)
[19:32:37] <benh> I'm a bit jealous of go's "defer" too :)
[19:32:47] <rossm> defer is pretty great
[19:33:05] <SiegeLord> Every usage of scope(exit) from D could be replaced with a macro in Rust, for me
[19:33:08] <nmatsakis> kmc: I'm...generally pushing for converting things into RAII
[19:33:09] <benh> fairly sure it should be possible as a macro, give or take some enhancements to macro_rules!
[19:33:31] <nmatsakis> benh: defer should become fairly easy to implement
[19:33:41] <SiegeLord> I don't like the scope() {} idea though
[19:33:42] <nmatsakis> and in fact would be the easier alternative to finally, I guess
[19:34:07] <SiegeLord> That's liable to lead to lots of nested blocks
[19:34:17] <benh> scope() { ... } is really the same thing  as { scope(); ... }, isn't it
[19:34:24] <nmatsakis> SiegeLord: { scope x(); scope y(); ... } would be the non-nesting alternative
[19:35:11] <SiegeLord> The scope() {} is the only thing that requires a keyword, scope (); can be done with a macro
[19:35:22] <nmatsakis> well they can both be done with a macro,
[19:35:25] <kimundi> what's the usecase for scope foo(); ?
[19:35:28] <nmatsakis> but you'd have to write scope!(expr() { ... });
[19:35:31] <SiegeLord> It won't look as good
[19:35:34] <kmc> 'defer' is like C++ ScopeGuard right?
[19:35:34] <SiegeLord> Yeah
[19:35:49] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[19:35:53] <kmc> http://channel9.msdn.com/Shows/Going+Deep/C-and-Beyond-2012-Andrei-Alexandrescu-Systematic-Error-Handling-in-C has some interesting stuff with that
[19:35:55] <nmatsakis> kimundi: the use case is when you want something that continues till the end of the current block, no need to indent.
[19:36:09] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[19:36:11] *** Joins: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com)
[19:36:16] <nmatsakis> might be that { scope!(foo()); ... } is good enough
[19:36:32] <SiegeLord> It's the same reason why we have let a = x; and not let a = x { }
[19:36:50] <SiegeLord> What language does it like that... OCaml?
[19:37:01] <devbug> strcat: So, uhm, I guess rust-core needs to implement everything in libstd
[19:37:24] <kimundi> nmatsakis: Right, I understand what it desugars too, I just don't know what usage of having a local variable that you won't access is
[19:37:27] <kmc> there are pdf slides somewhere too (strcat has the link i think)
[19:37:51] <nmatsakis> kimundi: oh, if it carries a destructor.
[19:37:53] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[19:37:59] <kimundi> ah
[19:38:04] <SiegeLord> Well, the point is that it's scope expr... and expr can be a nice block of code
[19:38:06] <kimundi> so it get's destroyed later
[19:38:38] <kimundi> nmatsakis: HM, but still
[19:38:47] *** Joins: sw17ch_ (sw17ch@moz-39D8564F.wndsny.tds.net)
[19:38:56] <nmatsakis> kimundi: "HM"?
[19:39:03] *** Quits: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net) (Ping timeout)
[19:39:03] *** sw17ch_ is now known as sw17ch
[19:39:06] <kimundi> nmatsakis: Having the destructor run at the end of the block is the only thing it enables?
[19:39:19] <strcat> defer only works at a function level, it's not as useful compared to scope guards
[19:39:20] <Ms2ger> Hacker Mews?
[19:39:34] <kimundi> Just a typo of "Hm..." :P
[19:39:43] <kimundi> Sorry
[19:39:48] <nmatsakis> kimundi: ah... yes, it'd just be some syntacitc sugar to make raii read nicer
[19:40:01] <nmatsakis> idea being to push RAII as the alternative to once fns
[19:40:07] <nmatsakis> in a bid to simplify
[19:40:20] <SiegeLord> scope! will take a once fn, though, right?
[19:40:26] <kimundi> Right, raii. I'd assume that raii involves actually accessing the thing that gets destroyed later, no?
[19:40:28] *** Joins: lex (lex@moz-738B3E34.bootp.virginia.edu)
[19:40:40] <nmatsakis> kimundi: not necessarily. frequently not.
[19:40:55] <kimundi> Hu... Example?
[19:41:12] *** Joins: jmgrosen (jmgrosen@moz-A3814C08.sd.sd.cox.net)
[19:41:24] <nmatsakis> kimundi: e.g., in C++, one often writes "AutoLock lock(someLockableThing);", where the ctor acquires the lock and the dtor releases it, but the `lock` variable itself not useful
[19:41:43] <nmatsakis> kimundi: or, in Rust, replacing "do task::unkillable { ... }" with `scope task::unkillable() { ... }`
[19:41:48] <strcat> they'll frequently have a method to release it early though
[19:41:57] <kimundi> Hm, those are valid uses, indeed :)
[19:42:06] <strcat> which is what being able to call drop early would do
[19:42:12] <nmatsakis> strcat: sure, but the option to give the returned thing a name remains valid.
[19:42:16] <jason_> so i've added #[feature(macro_rules)] to the top of my file, but i still get an error asking me to add it :/
[19:42:28] <Ms2ger> The fun part in C++ is that "AutoLock(someLockableThing);" won't work
[19:42:33] <nmatsakis> yes :)
[19:42:36] <kimundi> Guess I underestimated how much can get done if all you have is an constructor and destructor
[19:42:38] <Ms2ger> It'll compile, but won't lock
[19:42:43] <nmatsakis> well, it'll lock :)
[19:42:47] <nmatsakis> it just releases the lock awfully fast
[19:42:54] <Ms2ger> Right
[19:43:04] <Ms2ger> It doesn't usefully lock :)
[19:43:05] <nmatsakis> but seriously this is one downside to pushing RAII vs once fns
[19:43:19] *** Quits: robertknight (robertknig@moz-54528EE0.wby.mendeley.com) (Ping timeout)
[19:43:21] <nmatsakis> and one argument for having some syntactic sugar, to make it less likely that one gets it wrong
[19:43:37] <Ms2ger> (I don't know what the conversation is about, but that's a fun fact I like to mention :))
[19:43:43] <nmatsakis> I've been wondering about it lately for that reason
[19:43:52] *** Joins: valenting (Thunderbir@moz-416F9035.residential.rdsnet.ro)
[19:44:32] *** Quits: tjc (tjc@moz-6EB4E533.dsl.tsoft.com) (Quit: Places to go, people to annoy)
[19:45:01] <kimundi> hm, I wonder if a syntax like "scope foo() in bar { ... }" == "{ let bar = foo() }" would be useful in that case
[19:45:17] <kmc> that's getting even closer to Python's "with" syntax
[19:45:22] <kmc> but totally different semantics
[19:45:40] <kmc> anyway I don't think that's necessary
[19:45:52] <kmc> putting a 'let' inside the block if you want to use the variable is fine
[19:46:08] <kmc> it follows naturally from existing syntax/semantics and it's idiomatic C++ too
[19:46:15] <kimundi> yeah
[19:47:08] * kimundi just likes exploring hypothetical syntax constructs
[19:47:38] <SiegeLord> That's a nice way to put it :)
[19:47:40] <strcat> devbug: yeah, it basically needs to reimplement libstd
[19:47:57] <devbug> strcat: fun
[19:48:01] <devbug> Okay, and building?
[19:48:12] <strcat> hm?
[19:48:15] <devbug> I suppose it link errors if you don't specify --libc
[19:48:35] <strcat> it will have resolve errors
[19:48:53] <strcat> all it really offers right now is ~ and Rc
[19:49:17] <kmc> out of curiosity, why are raw pointers in the core of Rust rather than a library type + intrinsics? is it just the idea that Rust should never be more painful than C, even if you're doing unsafe things?
[19:49:32] <strcat> it is more painful than C to do unsafe things
[19:49:32] *** Joins: hjr3 (hradtke@moz-C10F8D20.z195-90-67.customer.algx.net)
[19:49:37] *** Quits: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl) (Client exited)
[19:50:17] <strcat> at least pointer arithmetic is
[19:50:23] <kmc> true
[19:51:10] *** Quits: jmgrosen (jmgrosen@moz-A3814C08.sd.sd.cox.net) (Quit: jmgrosen)
[19:51:52] *** Quits: pcwalton (pcwalton@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[19:52:21] <nmatsakis> kmc: there is some debate about whether they belong there
[19:53:27] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[19:53:57] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[19:54:21] <devbug> strcat: shouldn't rust-core follow the workspaces fmt?
[19:54:30] <strcat> hm?
[19:54:34] <strcat> it's not a crate
[19:54:45] <devbug> but, but, my --lib
[19:54:58] <strcat> not meant to be used that way
[19:55:31] *** Joins: bheylin_ (brianheyli@moz-8255E94E.adsl.online.nl)
[19:55:47] <devbug> strcat: Why not?
[19:56:21] <strcat> because if you can dynamically link against a rust crate, you're already outside of the use case for it
[19:56:44] *** Quits: Kruppe (user@moz-253119B0.esg.uwaterloo.ca) (Client exited)
[19:57:04] *** Joins: Kruppe (user@moz-253119B0.esg.uwaterloo.ca)
[19:57:34] *** Quits: Jackneill (Jackneill@moz-9DD2C0AA.pool.digikabel.hu) (Quit: Leaving)
[19:57:38] <kmc> nmatsakis: I think I'm in favor of having it in the core; was just curious
[19:58:36] *** Joins: tjc (tjc@moz-7B0110AD.mv.mozilla.com)
[19:58:36] *** ChanServ sets mode: +o tjc
[19:59:15] *** Quits: nano (nano@moz-74CAD1CA.superkabel.de) (Connection reset by peer)
[20:00:18] <rab> rab@knolltop ~/Downloads/rust-0.8 $ make install
[20:00:18] <rab> cfg: build triple x86_64-unknown-linux-gnu
[20:00:18] <rab> cfg: host triples x86_64-unknown-linux-gnu
[20:00:18] <rab> cfg: target triples x86_64-unknown-linux-gnu
[20:00:18] <rab> cfg: enabling more debugging (CFG_ENABLE_DEBUG)
[20:00:20] <rab> cfg: host for x86_64-unknown-linux-gnu is x86_64
[20:00:23] <rab> cfg: os for x86_64-unknown-linux-gnu is unknown-linux-gnu
[20:00:25] <rab> cfg: using gcc
[20:00:28] <rab> cfg: no pandoc found, omitting docs
[20:00:30] <rab> cfg: no node found, omitting docs
[20:00:33] <rab> cfg: no llnextgen found, omitting grammar-verification
[20:00:35] <rab> cfg: no pandoc found, omitting library doc build
[20:00:38] <rab> cfg: including install rules
[20:00:40] <rab> mkdir: cannot create directory ‘/usr/local/share/man/man1’: Permission denied
[20:00:43] <rab> make: *** [install-host] Error 1
[20:01:13] *** Quits: timot_ (timot@moz-F8EE0933.mobile.tre.se) (Ping timeout)
[20:01:17] *** Quits: Kruppe (user@moz-253119B0.esg.uwaterloo.ca) (Client exited)
[20:01:37] *** Joins: Kruppe (user@moz-253119B0.esg.uwaterloo.ca)
[20:01:55] *** Quits: rbancroft (rumble@moz-4E8E0D7F.cg.shawcable.net) (Ping timeout)
[20:01:58] *** Joins: huseby (huseby@19BD73A1.5D8BCA3A.A0C1B52F.IP)
[20:02:35] <strcat> something about failure changed and it generates more code bloat now
[20:04:25] *** Quits: hjr3 (hradtke@moz-C10F8D20.z195-90-67.customer.algx.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[20:05:02] <tjc> rab: sounds like you need to either `sudo make install` or configure with a different destination directory?
[20:05:25] *** Joins: hjr3 (hradtke@moz-C10F8D20.z195-90-67.customer.algx.net)
[20:06:03] <strcat> make DESTDIR=foo install
[20:06:19] *** Quits: hjr3 (hradtke@moz-C10F8D20.z195-90-67.customer.algx.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[20:06:55] <strcat> we should really fix methods to not pass the object in such a terrible way
[20:07:17] <rab> tjc thanks that was what i needed.
[20:07:31] *** Quits: CurlyBrace (Mibbit@DF25F755.4D74B5A0.DDE5D3F6.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[20:07:51] <tjc> rab: you're welcome!
[20:07:57] *** Joins: lucian (lucian@moz-22A14C6A.cable.virginmedia.com)
[20:08:14] *** Joins: jmgrosen (jmgrosen@moz-A3814C08.sd.sd.cox.net)
[20:09:44] *** Joins: timot_ (timot@moz-F8EE0933.mobile.tre.se)
[20:10:56] *** Joins: rbancroft (rumble@moz-4E8E0D7F.cg.shawcable.net)
[20:15:03] *** Joins: tikue_ (tikue_star@8E84FE3F.F3E8A984.689607DE.IP)
[20:15:12] *** Quits: spider-mario (spidermari@moz-2F72F6FF.dsl.quantic-telecom.net) (Input/output error)
[20:15:16] *** Joins: ecr (Thunderbir@moz-8329D39F.dhcp4.washington.edu)
[20:17:03] *** Quits: timot_ (timot@moz-F8EE0933.mobile.tre.se) (Ping timeout)
[20:17:23] *** Joins: timot_ (timot@moz-49BF760B.bredband.tre.se)
[20:17:51] *** Quits: anri (solancile@moz-E49E7C4B.hsd1.wa.comcast.net) (Ping timeout)
[20:18:01] *** Joins: pepper_chico (pepper_chi@moz-29CFA00C.dsl.telesp.net.br)
[20:18:22] *** Joins: jeffreybaird (jeffreybai@moz-ED3EF543.static.twtelecom.net)
[20:18:32] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[20:20:20] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[20:20:59] <Ms2ger> Fun: https://twitter.com/raganwald
[20:22:43] *** Quits: eiz (eiz@B49E36E9.6C697A7D.D1800747.IP) (Connection reset by peer)
[20:23:24] *** Quits: jmgrosen (jmgrosen@moz-A3814C08.sd.sd.cox.net) (Quit: jmgrosen)
[20:25:33] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[20:25:37] *** Quits: derboi_c (derboi_c@26A6BF87.940A4703.BA2F4534.IP) (Ping timeout)
[20:26:34] *** Quits: dherman (dherman@1BB0349.FEF91D35.59163313.IP) (Quit: dherman)
[20:26:50] *** Quits: valenting (Thunderbir@moz-416F9035.residential.rdsnet.ro) (Ping timeout)
[20:28:28] *** Joins: derboi_c (derboi_c@5018BD2B.1844BF5A.BA2F4534.IP)
[20:29:15] *** Parts: lex (lex@moz-738B3E34.bootp.virginia.edu) ()
[20:30:07] *** Joins: adridu59 (Mibbit@moz-6C393FDD.rev.numericable.fr)
[20:30:15] <strcat> hrm
[20:30:22] <strcat> I wonder what changed recently to cause this regression
[20:30:27] <adridu59> Am I the only one regretting that pdflatex doc disappeared?
[20:31:16] <devbug> Can #[path = "..."]s be relative?
[20:31:59] <devbug> Oh, woops!
[20:32:03] <devbug> God damn semi-colons
[20:32:04] *** Quits: dbaupp (Thunderbir@moz-4301A13F.lns20.syd6.internode.on.net) (Ping timeout)
[20:32:11] <devbug> Oh, wait, no.
[20:32:24] <strcat> yeah major regression between 0.8.331.g6db8899 and 0.8.369.g62812f1
[20:33:07] <strcat> yeah major regression between 0.8-331-g6db8899 and 0.8-369-g62812f1 (ids that work with git)
[20:33:46] <myname> huh?
[20:34:04] *** Quits: Ms2ger (Ms2ger@4C3AB550.528524A1.F15B0BB3.IP) (Ping timeout)
[20:35:11] *** Joins: timot (timot@moz-3225771.mobile.tre.se)
[20:35:15] *** Quits: timot_ (timot@moz-49BF760B.bredband.tre.se) (Ping timeout)
[20:35:45] <brson> adridu59: what do you mean disappeared?
[20:35:45] *** Quits: sw17ch (sw17ch@moz-39D8564F.wndsny.tds.net) (Quit: sw17ch)
[20:37:18] *** Joins: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net)
[20:37:28] *** Quits: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca) (Ping timeout)
[20:37:55] * strcat doesn't understand what could have changed
[20:38:03] *** Quits: rab (rab@993DE0B4.AA18ECD0.580BDDEE.IP) (Ping timeout)
[20:38:13] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[20:38:36] <strcat> test bench::push_preallocated ... bench: 6786 ns/iter (+/- 404)
[20:38:58] <strcat> 2 days ago
[20:39:05] <strcat> test bench::push_preallocated ... bench: 27794 ns/iter (+/- 678)
[20:39:07] <strcat> and now
[20:39:18] <myname> wooot
[20:39:29] *** Quits: Kruppe (user@moz-253119B0.esg.uwaterloo.ca) (Client exited)
[20:40:48] *** Quits: bheylin_ (brianheyli@moz-8255E94E.adsl.online.nl) (Quit: bheylin_)
[20:43:31] <strcat> don't really see a difference in the IR
[20:43:45] <adridu59> brson: I don't see the pdf tutorial
[20:43:50] <adridu59> on the main website
[20:44:18] <tjc> adridu59: true, it's not on the main web site, but it is a click away --
[20:44:19] <tjc> https://github.com/mozilla/rust/wiki/Docs
[20:44:38] <tjc> (linked as "Other docs" under Documentation)
[20:44:46] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[20:45:06] *** Quits: AutomatedTester (David@moz-DB4A9C19.scl3.mozilla.com) (Client exited)
[20:45:10] <strcat> acrichto: any idea what could have caused a major change in performance in the past few days?
[20:45:15] <strcat> anything with llvm/libuv?
[20:46:24] <adridu59> tjc: thanks, but the only pdf I can see there is for the manual, I don't see any for the tutorial :(
[20:46:50] <brson> i don't think we've ever made tutorial pdfs
[20:46:54] <tjc> adridu59: Oh, sorry. Did we have pdfs for the tutorial before?
[20:46:55] *** Joins: bheylin_ (brianheyli@moz-8255E94E.adsl.online.nl)
[20:47:02] <tjc> (I've never happened to see them, if so :-)
[20:47:24] <adridu59> uh, did I mix up with the manual?
[20:47:36] <adridu59> well then, would be good to have it as a pdf too :)
[20:48:48] <devbug> Found a typo on the docs
[20:49:08] <devbug> What do?
[20:49:27] *** Quits: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net) (Quit: sw17ch)
[20:49:32] <kimundi> devbug:  Fix it! :)
[20:49:40] <devbug> Pull request, I assume?
[20:49:42] <adridu59> making a pdf would probably imply stacking all the md files... that's maybe why it's not there right now
[20:49:46] <adridu59> devbug: y
[20:49:49] <kimundi> devbug: YEAH
[20:49:56] <kimundi> er, yeah
[20:50:03] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[20:50:09] *** Quits: jeffreybaird (jeffreybai@moz-ED3EF543.static.twtelecom.net) (Quit: jeffreybaird)
[20:50:14] <tjc> devbug: either report it at https://github.com/mozilla/rust/issues or fix it yourself and submit a pull request using https://github.com/mozilla/rust/wiki/Note-development-policy
[20:50:17] <tjc> up to you which one :-)
[20:50:28] <tjc> there are a few notes at the second link about conventions for submitting a Rust pull request
[20:50:56] <devbug> Okay, thanks.
[20:51:01] *** Joins: AutomatedTester (David@moz-DB4A9C19.scl3.mozilla.com)
[20:52:32] *** Joins: Ms2ger (Ms2ger@4C3AB550.528524A1.F15B0BB3.IP)
[20:52:58] <adridu59> btw, brson: I have polished my changes https://github.com/graydon/rust-www/pull/12 and you can see it in action there http://adrientetar.legtux.org/cached/rust-www/ :)
[20:54:42] <adridu59> mainly it can stack down a bit further and the bold titles on the bottom get right-aligned only if they are next to the tables (that means at full-width)
[20:54:52] <adridu59> that is*
[20:56:49] *** Quits: tav (tav@moz-196E6F10.sohonet.co.uk) (Quit: tav)
[20:57:03] *** Quits: timot (timot@moz-3225771.mobile.tre.se) (Ping timeout)
[20:57:27] *** Joins: timot (timot@moz-BB657AAD.mobile.tre.se)
[20:57:56] *** Joins: infynyxx_ (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[20:58:16] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[20:58:29] *** Quits: adridu59 (Mibbit@moz-6C393FDD.rev.numericable.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[20:58:30] *** Quits: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[20:58:31] *** Joins: dherman (dherman@1BB0349.FEF91D35.59163313.IP)
[20:58:31] *** ChanServ sets mode: +ao dherman dherman
[21:00:49] *** Joins: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu)
[21:01:04] *** Joins: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net)
[21:02:54] <devbug> https://github.com/mozilla/rust/pull/9798
[21:02:58] <devbug> Nothing fancy.
[21:04:09] <kmc> can I use bytes!() to write literals containing bytes above 127?
[21:05:55] *** Joins: jeffreybaird (jeffreybai@moz-ED3EF543.static.twtelecom.net)
[21:06:20] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.1)
[21:06:26] <benh> rusti: bytes!("grüß gott")
[21:06:29] -rusti- &[103u8, 114u8, 195u8, 188u8, 195u8, 159u8, 32u8, 103u8, 111u8, 116u8, 116u8]
[21:12:36] *** Joins: lex (lex@moz-738B3E34.bootp.virginia.edu)
[21:12:53] *** Quits: tgummerer (tgummerer@51D3B54.FEF996EA.EA6FEF3D.IP) (Ping timeout)
[21:13:06] *** Quits: dherman (dherman@1BB0349.FEF91D35.59163313.IP) (Quit: dherman)
[21:13:07] <lex> Hey, I wrote up a Rust solution to the Dining Philosophers. Anyone interested in seeing it?
[21:13:56] *** Quits: novabyte (novabyte@91E276A6.70DD2D14.E7727734.IP) (Quit: Leaving.)
[21:14:31] *** Quits: heftig (heftig@moz-CFB9DAF0.dip0.t-ipconnect.de) (Ping timeout)
[21:14:34] *** Joins: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com)
[21:14:57] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[21:17:24] <tjc> lex: Sure!
[21:17:49] <brson> lex: very
[21:18:20] <lex> tjc, brson: How should I get the code to you guys? Pastebin?
[21:18:32] <tjc> lex: we usually use gist.github.com, but it's all good
[21:18:47] <lex> tjc: Okay, I'll do gist. One second..
[21:20:12] *** Joins: heftig (heftig@moz-4B41666A.dip0.t-ipconnect.de)
[21:21:06] *** Joins: Soft (soft@moz-EC8D39F.yok.fi)
[21:22:43] *** Joins: eholk (eric@moz-F70D5031.hsd1.in.comcast.net)
[21:23:26] <lex> tjc, brson: tjc, brson: https://gist.github.com/aml3/6925857
[21:23:30] *** Joins: mib_76qcko (Mibbit@moz-23289A74.net.upcbroadband.cz)
[21:23:45] <lex> feedback or suggestions on how to improve it would be great
[21:24:02] <Soft> Is there material somewhere about calling rust code from c
[21:24:57] *** Quits: infynyxx_ (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[21:25:11] <tjc> Soft: I don't think so -- calling Rust from C isn't that well-supported yet. Calling C from Rust is supported well, though
[21:25:17] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[21:26:05] <lex> tjc, brson: I tried to follow Dijkstra's solution (from wikipedia) as closely as possible.
[21:26:06] <Soft> I found one example that seemed to work but It disabled the standard library importing
[21:26:12] <tjc> lex: on a high level, looks good -- I know the classical "dining philosophers" problem is usually phrased with mutexs and locks, but...
[21:26:17] <tjc> …ah, that gets at what I was going to say...
[21:26:27] <tjc> which was "I wonder if there's a way to do it with Rust's higher-level concurrency abstractions too"
[21:26:57] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[21:27:10] <myname> yeah, it looks pretty lowlevel
[21:27:13] *** Quits: ecr (Thunderbir@moz-8329D39F.dhcp4.washington.edu) (Ping timeout)
[21:27:14] <lex> tjc: What are the higher level ones? I only know of Arcs and Mutexes.
[21:28:10] <tjc> lex: pipes are one of them -- see http://static.rust-lang.org/doc/master/tutorial-tasks.html
[21:28:25] <tjc> or maybe you're already doing that
[21:28:26] <tjc> hmm
[21:28:30] <lex> tjc: Actually, now that I think about it. I think the mutexes are unnecessary. 
[21:28:38] <lex> tjc: Couldn't the entire thing be done with RWArcs?
[21:28:47] <brson> Soft: I have a blog post on it but it's pretty old http://brson.github.io/2013/03/10/embedding-rust-in-ruby/
[21:28:49] <tjc> lex: hmm… let me look at it again
[21:29:11] *** Quits: mib_76qcko (Mibbit@moz-23289A74.net.upcbroadband.cz) (Quit: http://www.mibbit.com ajax IRC Client)
[21:29:32] <tjc> lex: yeah, I think port and chan should already be doing that for you
[21:29:35] <tjc> it's harmless, but redundant
[21:29:41] <tjc> well, probably harmless, anyway :-)
[21:29:44] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[21:30:15] <lex> tjc: I'll try to simplify it later.
[21:30:20] <lex> tjc: thanks for the feedback :)
[21:31:30] *** Quits: timot (timot@moz-BB657AAD.mobile.tre.se) (Ping timeout)
[21:31:30] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[21:31:42] <tjc> lex: no problem! consider writing a blog post about it once you've thought about whether you can simplify the code :-)
[21:31:51] <tjc> more introductory-Rust example expositions = awesome
[21:31:59] <lex> tjc: I was thinking about adding it to RosettaCode
[21:32:13] <tjc> lex: great!
[21:32:17] *** Quits: Ms2ger (Ms2ger@4C3AB550.528524A1.F15B0BB3.IP) (Quit: nn)
[21:32:20] *** Quits: ComputerDruid (CDruid@86542073.13F0649.5AEB50C4.IP) (Quit: Leaving)
[21:32:22] <lex> tjc: I don't have a site to host said blog post
[21:32:27] *** Joins: spott (spott@moz-9B11536C.hsd1.co.comcast.net)
[21:32:29] *** Joins: timot (timot@moz-E3C52487.mobile.tre.se)
[21:32:49] <cmr> lex: A guest post to cmr.github.io would be very welcome
[21:33:12] <lex> cmr: Thanks. I'll look into it!
[21:33:13] *** Quits: bheylin_ (brianheyli@moz-8255E94E.adsl.online.nl) (Quit: bheylin_)
[21:33:38] <cmr> (It just needs to be markdown, preferably github-flavored)
[21:33:50] <eholk> tjc: i'm playing with rustpkg for the first time today. It seems really cool so far!
[21:33:50] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[21:33:51] <lex> cmr: Roger.
[21:34:04] <tjc> eholk: Thanks! 
[21:34:58] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[21:35:45] *** Joins: tautologico (linf@4065F479.A046D081.AB599759.IP)
[21:37:42] *** Quits: sergi (textual@moz-DB55470C.upc-a.chello.nl) (Quit: Computer has gone to sleep.)
[21:38:32] *** Joins: ecr (Thunderbir@moz-8329D39F.dhcp4.washington.edu)
[21:39:49] *** Joins: bheylin_ (brianheyli@moz-8255E94E.adsl.online.nl)
[21:40:17] *** Joins: jgilbert (jgilbert@moz-BBE3ABD.mv.mozilla.com)
[21:41:23] <Soft> brson: thanks, I'll take a look at it
[21:44:44] *** Quits: ecr (Thunderbir@moz-8329D39F.dhcp4.washington.edu) (Quit: ecr)
[21:44:58] *** Joins: sergi (textual@moz-DB55470C.upc-a.chello.nl)
[21:50:20] *** Parts: lex (lex@moz-738B3E34.bootp.virginia.edu) ()
[21:51:10] <vmx> is there a way to divide two integers and get a float back?
[21:51:11] *** Joins: reuben (reuben@moz-DB4A9C19.scl3.mozilla.com)
[21:51:57] <aatch> vmx, you have to cast one of the operands to a float first
[21:51:58] *** Joins: barosl (barosl@3DE683B6.E551553C.7544CABF.IP)
[21:51:59] <tjc> vmx: one way is to cast the two integers to float first
[21:52:00] <tjc> yeah
[21:52:21] <aatch> since fpdiv is its own instruction.
[21:52:50] <vmx> that's what i did, just wondered if there's an easier way. but it's good that i need to cast only one. let me try
[21:53:08] <aatch> rusti: 1 / (2.0)
[21:53:09] -rusti- pastebinned 7 lines of output: http://sprunge.us/QSiV
[21:53:26] <aatch> Oops, looks like I was wrong
[21:53:27] <tjc> rusti: 1.0 / 2
[21:53:29] -rusti- pastebinned 7 lines of output: http://sprunge.us/UfSJ
[21:53:36] <tjc> Yup, I guess I was right
[21:53:38] <aatch> rusti: (1.0) / (2.0)
[21:53:39] -rusti- 0.5f64
[21:53:40] <tjc> that's surprising ;-)
[21:54:01] <aatch> Some languages will automatically promote an integral argument to a floating point value
[21:54:05] <tjc> Yes
[21:54:20] <tjc> I think Lisp and Haskell will both accept it so long as one of the operands is floating-point
[21:54:29] <aatch> tjc, I think C does too
[21:54:35] <Earnestly> It does
[21:54:36] <tjc> well, C accepts many things ;-)
[21:54:58] <Earnestly> C has specific rules for promotion
[21:55:09] <vmx> and a follow up newbie question. do i normally cast like this, or is there an easier way: myint.to_f64().unwrap()
[21:55:29] <jeaye> Looks like the visibility rules changed (existing q3 is 
[21:55:31] <aatch> vmx, if you know it's an integer you can just to (myint as f64)
[21:55:45] <jeaye> busted. Are there docs on this?
[21:55:50] <aatch> rusti: let a : int = 1; a as f64
[21:55:51] -rusti- 1f64
[21:56:12] <aatch> jeaye, I think so. acrichto made a point of documenting it.
[21:56:22] <SiegeLord> jeaye: http://static.rust-lang.org/doc/master/rust.html#visibility-and-privacy
[21:56:22] <aatch> I don't know where those docs *are*
[21:56:28] <jeaye> Thanks, SiegeLord 
[21:56:36] *** Joins: dbaupp (Thunderbir@B11E503F.D5A1DCF.37681C44.IP)
[21:57:20] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[21:57:23] <tautologico> there are even examples
[21:57:24] *** Joins: Florob (Florob@moz-39532932.de)
[21:57:40] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[21:58:31] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Connection reset by peer)
[21:58:39] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[21:58:50] <vmx> thanks for the friendly help on newbie questions. g'night
[21:58:51] *** Joins: jaen (jaen@moz-E5B18A83.catv.broadband.hu)
[21:59:42] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[21:59:47] *** Quits: tautologico (linf@4065F479.A046D081.AB599759.IP) (Quit: tautologico)
[21:59:48] <kmc> so when my module contains a #[cfg(test)] mod tests { ... }, I can't import private stuff from the outer module into the tests module
[21:59:52] <kmc> is there a standard solution for this problem?
[22:00:04] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[22:00:37] <dbaupp> kmc: with a master-compiler you should be able to
[22:00:52] <dbaupp> the privacy changes fixed that use case, I believe.
[22:01:07] <kmc> okay
[22:01:24] *** Quits: vmx (vmx@moz-32B78225.pools.arcor-ip.net) (Quit: Leaving)
[22:01:44] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[22:03:22] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Quit: Gone to save the world!)
[22:03:51] *** Quits: derboi_c (derboi_c@5018BD2B.1844BF5A.BA2F4534.IP) (Ping timeout)
[22:04:21] *** Quits: myname (myname@F6BC1CBC.2C5F047.A0197E77.IP) (Ping timeout)
[22:04:38] *** Quits: dbaupp (Thunderbir@B11E503F.D5A1DCF.37681C44.IP) (Ping timeout)
[22:04:39] *** Joins: myname (myname@F6BC1CBC.2C5F047.A0197E77.IP)
[22:06:40] *** Parts: Soft (soft@moz-EC8D39F.yok.fi) (WeeChat 0.4.2-dev)
[22:08:14] *** Joins: derboi_c (derboi_c@9EFD18B2.940A4703.BA2F4534.IP)
[22:09:17] *** Quits: devbug (quassel@2D4E172D.4C8B6099.9B57EA59.IP) (Ping timeout)
[22:09:28] *** Quits: bheylin_ (brianheyli@moz-8255E94E.adsl.online.nl) (Quit: bheylin_)
[22:12:47] *** Quits: canhtak (jeremy@moz-5B47EFA.wl.t.ulaval.ca) (Quit: canhtak)
[22:13:04] *** Quits: TD-Linux (TD-Linux@E338EB99.2B4F0AE0.A0A36CCE.IP) (Ping timeout)
[22:13:20] *** Joins: bent (chatzilla@moz-8913BD79.midsouth.biz.rr.com)
[22:14:39] *** Joins: nrc (nrc@moz-3576D163.cable.virginmedia.com)
[22:15:28] *** Quits: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu) (Ping timeout)
[22:15:38] *** Quits: carllerche (carllerche@6B070D22.7E6A0813.1428D117.IP) (Quit: carllerche)
[22:15:41] *** Joins: canhtak (jeremy@moz-5B47EFA.wl.t.ulaval.ca)
[22:16:49] *** Joins: skade (skade@moz-4865967C.pools.arcor-ip.net)
[22:17:11] *** Joins: Yeri (jasonjasmi@41C91A8A.CE609BA5.E39FBF79.IP)
[22:17:13] *** Quits: [squiddy] (squiddy@moz-A441D2CD.dynamic.cablesurf.de) (Ping timeout)
[22:24:44] *** Joins: cubic (cubic@moz-FE5AD6C7.mc.videotron.ca)
[22:25:15] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[22:26:46] *** Quits: Florob (Florob@moz-39532932.de) (Client exited)
[22:26:55] *** Parts: clusterfoo (computer@moz-A81F9872.cable.teksavvy.com) ()
[22:29:18] *** Joins: pcwalton (pcwalton@moz-BBE3ABD.mv.mozilla.com)
[22:29:18] *** ChanServ sets mode: +ao pcwalton pcwalton
[22:29:46] *** Quits: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com) (Ping timeout)
[22:32:20] *** Quits: skade (skade@moz-4865967C.pools.arcor-ip.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[22:36:59] *** Joins: jdm (jdm@moz-25D04F84.zone16.bethere.co.uk)
[22:36:59] *** ChanServ sets mode: +o jdm
[22:37:11] *** Joins: TD-Linux (TD-Linux@E338EB99.2B4F0AE0.A0A36CCE.IP)
[22:37:30] *** Joins: Jesin (Jessin_@moz-D63AB1FC.cc.lehigh.edu)
[22:39:46] *** Quits: jaen (jaen@moz-E5B18A83.catv.broadband.hu) (Ping timeout)
[22:42:08] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Connection reset by peer)
[22:42:16] *** Quits: huseby (huseby@19BD73A1.5D8BCA3A.A0C1B52F.IP) (Quit: Leaving)
[22:42:16] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[22:42:25] *** Quits: TD-Linux (TD-Linux@E338EB99.2B4F0AE0.A0A36CCE.IP) (Ping timeout)
[22:43:24] *** Quits: jeffreybaird (jeffreybai@moz-ED3EF543.static.twtelecom.net) (Quit: jeffreybaird)
[22:45:12] *** Quits: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[22:45:15] *** Quits: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net) (Client exited)
[22:45:42] *** Joins: TD-Linux (TD-Linux@E338EB99.2B4F0AE0.A0A36CCE.IP)
[22:47:05] *** Quits: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com) (Ping timeout)
[22:49:09] *** Joins: jeffreybaird (jeffreybai@moz-ED3EF543.static.twtelecom.net)
[22:51:39] *** Quits: TD-Linux (TD-Linux@E338EB99.2B4F0AE0.A0A36CCE.IP) (Ping timeout)
[22:52:19] *** Quits: tjc (tjc@moz-7B0110AD.mv.mozilla.com) (Ping timeout)
[22:54:17] *** Quits: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Quit: Leaving...)
[22:54:45] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[22:55:59] <eholk> what's the current preferred way to deal with Rust code that needs to call into non-threadsafe libraries?
[22:56:09] *** Quits: Jesin (Jessin_@moz-D63AB1FC.cc.lehigh.edu) (Ping timeout)
[22:56:18] *** Joins: tjc (tjc@moz-BBE3ABD.mv.mozilla.com)
[22:56:18] *** ChanServ sets mode: +o tjc
[22:56:36] *** Quits: lucian (lucian@moz-22A14C6A.cable.virginmedia.com) (Input/output error)
[22:56:44] <myname> isn't it te same as always? an unsafe block?
[22:56:58] *** Joins: lucian (lucian@moz-22A14C6A.cable.virginmedia.com)
[22:57:08] *** Quits: timot (timot@moz-E3C52487.mobile.tre.se) (Ping timeout)
[22:57:11] <brson> eholk: depends on the nature of the thread-unsafety. if you need to guarantee that you always run on the same thread then spawn_sched(SingleThreaded)
[22:57:14] *** Joins: TD-Linux (TD-Linux@E338EB99.2B4F0AE0.A0A36CCE.IP)
[22:57:27] *** Joins: Jesin (Jessin_@moz-D63AB1FC.cc.lehigh.edu)
[22:57:56] <SiegeLord> Restrict access to the library through a struct, and then make sure to create only a single instance of that struct
[22:58:01] <SiegeLord> I'm not sure how to do the last part
[22:58:42] <tikue_> spawn a task for making all calls to that library?
[22:58:42] *** Quits: lucian (lucian@moz-22A14C6A.cable.virginmedia.com) (Ping timeout)
[22:58:44] <eholk> brson: i think the code i'm using can be called from many threads, but just not at the same time
[22:58:47] <myname> you may use static mut, but that shouldn't be a good way to do that
[23:00:00] <brson> eholk: unfortunately we don't have a way to statically allocate a mutex right now. i can imagine some schemes to create a global mutex dynamically though
[23:00:05] *** Quits: Jesin (Jessin_@moz-D63AB1FC.cc.lehigh.edu) (Quit: Leaving)
[23:00:42] <SiegeLord> I'd love to see an example of that
[23:00:56] <brson> maybe with a static AtomicOption<Mutex>, paired with global init/cleanup functions
[23:01:16] *** Quits: nkoep (nik@moz-5806EA17.vpn.rwth-aachen.de) (Ping timeout)
[23:01:19] <eholk> brson: hmm.. so the main issue is that I have a bunch of tests, and the test runner spawns a task for each thread
[23:01:25] *** Joins: timot (timot@moz-E3C52487.mobile.tre.se)
[23:01:39] *** Quits: nrc (nrc@moz-3576D163.cable.virginmedia.com) (Ping timeout)
[23:01:47] <eholk> so if i could just guarantee that only one test ran at a time, i'd be okay with that
[23:02:09] <eholk> right now i get around this by using RUST_THREADS=1, but that's less than ideal
[23:03:08] *** Quits: Scriptor (historium@moz-E06F46F0.corp.bitshelter.com) (Quit: Scriptor)
[23:04:12] *** Quits: Shaladdle (Shaladdle@moz-424BC304.hsd1.pa.comcast.net) (Ping timeout)
[23:04:12] *** Quits: lkuper (lkuper@moz-D862222C.dhcp-bl.indiana.edu) (Ping timeout)
[23:04:37] *** Quits: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com) (Quit: brendan)
[23:04:40] *** Quits: bholley (anonymous@moz-D5EB36E2.rev.numericable.fr) (Quit: bholley)
[23:05:07] <brson> eholk: this is a common problem for unthreadsafe libs. i don't have a good solution besides hacking together a global mutex somehow. when std needs a global mutex we create them in C++ atm. if you wanted a mean hack you could just use one of those - e.g. rust_take_env_lock/rust_drop_env_lock
[23:05:47] <brson> though that one has some risk of deadlock. maybe rust_take_linenoise_lock/rust_drop_linenoise_lock
[23:06:56] <brson> although, hm, those will play very bad if your task is descheduled
[23:07:28] <brson> since they are pthread mutexes and don't know about the scheduler
[23:07:37] *** Quits: timot (timot@moz-E3C52487.mobile.tre.se) (Connection reset by peer)
[23:07:58] <eholk> is there static mutable data? that might work...
[23:08:10] *** Joins: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net)
[23:08:10] <brson> eholk: yes `static mut`
[23:08:24] *** Joins: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com)
[23:08:45] *** Quits: donri (donri@moz-9BB61102.tbcn.telia.com) (Client exited)
[23:09:06] <eholk> brson: that might work, with some clever refcounting or something
[23:09:41] <eholk> or.. i suppose just a mutex is all we really need
[23:09:43] <brson> I'd suggest trying a static AtomicOption<Mutex> though I'm not sure how well Mutex will cope with simultaneous access from  multiple threads
[23:09:45] *** Joins: timot (timot@moz-E3C52487.mobile.tre.se)
[23:10:01] <brson> eholk: Mutex can't be constructed statically
[23:10:04] <brson> it does allocation
[23:11:12] *** Joins: ChrisMorgan (chris@moz-6E17E753.its.monash.edu.au)
[23:11:20] *** Quits: graememcc (chatzilla@moz-CE628128.range81-157.btcentralplus.com) (Quit: ChatZilla 0.9.90.1 [Firefox 24.0/20130911164256])
[23:12:54] *** Quits: nsf (nsf@moz-EEF3238A.convex.ru) (Quit: WeeChat 0.4.1)
[23:15:10] *** Quits: tjc (tjc@moz-BBE3ABD.mv.mozilla.com) (Quit: zzzzzzzzzz)
[23:15:50] *** Quits: sergi (textual@moz-DB55470C.upc-a.chello.nl) (Quit: Computer has gone to sleep.)
[23:15:59] *** Joins: nkoep (nik@moz-E163922.pool.mediaways.net)
[23:16:33] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[23:17:57] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[23:17:58] *** Quits: alan (alan@moz-FE02DD30.sat6.rackspace.com) (Ping timeout)
[23:17:58] *** Quits: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP) (Quit: Leaving)
[23:18:38] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[23:19:16] *** Joins: nejucomo (Adium@moz-434492BB.dsl.static.sonic.net)
[23:21:20] *** Quits: pepper_chico (pepper_chi@moz-29CFA00C.dsl.telesp.net.br) (Quit: Ex-Chat)
[23:23:11] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[23:24:46] *** bent is now known as bent|away
[23:25:17] <sfackler> brson: AtomicOption can't be statically initialized :(
[23:25:23] <sfackler> as far as I can tell
[23:25:33] *** Joins: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP)
[23:27:08] *** Joins: sergi (textual@moz-DB55470C.upc-a.chello.nl)
[23:27:14] <sfackler> eholk: you can roll your own crappy statically initialized mutex with two atomic booleans
[23:27:29] *** Joins: lucian (lucian@moz-22A14C6A.cable.virginmedia.com)
[23:27:30] <sfackler> eholk: https://github.com/sfackler/rust-ssl/blob/master/src/ssl/lib.rs#L12
[23:27:48] <sfackler> I guess for a mutex you only need one
[23:27:55] *** Quits: sergi (textual@moz-DB55470C.upc-a.chello.nl) (Quit: Computer has gone to sleep.)
[23:28:01] <sfackler> AtomicFlag
[23:28:10] <eholk> sfackler: ah, cool. thanks!
[23:28:19] *** Quits: timot (timot@moz-E3C52487.mobile.tre.se) (Ping timeout)
[23:29:13] <brson> sfackler: hm, seems like INIT_ATOMIC_OPTION_NONE could be easily defined
[23:29:14] <aatch> Hmm, I'm not sure why I didn't add a static initializer for AtomicOption
[23:29:20] <brson> or just INIT_ATOMIC_OPTION
[23:29:49] <aatch> Seems like an oversight.
[23:29:55] <sfackler> is it possible to get a NULL raw pointer without calling anything?
[23:30:11] <aatch> Oh wait. it's because it's generic
[23:30:11] <pcwalton> 0 as *T?
[23:30:22] *** Joins: timot (timot@moz-E3C52487.mobile.tre.se)
[23:30:28] <aatch> same reason as why there's no AtomicPtr static initializer
[23:30:51] <nejucomo> Is the "as" expression baked into the language, or can user code overload it?
[23:31:10] <pcwalton> it's baked into the language
[23:31:16] <aatch> nejucomo, currently not overloadable. Whether it should be is an open question (last I knew anyway)
[23:31:28] <pcwalton> it would be somewhat cleaner to just use NumCast and use compile-time function evaluation
[23:31:32] *** Quits: jdm (jdm@moz-25D04F84.zone16.bethere.co.uk) (Ping timeout)
[23:31:36] <pcwalton> but that's going to be deferred to Rust.next
[23:31:58] * nejucomo hunts for a reference for as expressions.
[23:32:13] <aatch> the grammar is <expr> as <Type>
[23:32:45] <aatch> Pretty much only works for scalar types and trait objects.
[23:32:57] <pcwalton> (the trait object part is going to be removed once I unbitrot that patch)
[23:33:03] <pcwalton> it'll just be unnecessary and will coerce
[23:33:13] <nejucomo> Oh…  Yeah, the manual doesn't mention traits at all here: http://static.rust-lang.org/doc/0.8/rust.html#type-cast-expressions
[23:33:20] <pcwalton> so just scalars
[23:33:33] *** Quits: lucian (lucian@moz-22A14C6A.cable.virginmedia.com) (Ping timeout)
[23:34:05] <nejucomo> I wish that section described what happens with overflow: 0x1234u16 as u8
[23:34:13] <eholk> has anyone tried building a program that has a rustpkg github dependency?
[23:34:17] <benh> rusti: 0x1234u16 as u8
[23:34:18] <nejucomo> rusti: 260 as u8
[23:34:20] -rusti- 52u8
[23:34:20] -rusti- 4u8
[23:34:22] <pcwalton> truncation
[23:34:30] <pcwalton> that should be documented, please file a bug :)
[23:34:36] <nejucomo> Will do.
[23:34:44] <eholk> rustpkg is telling me it can't interpret my path as a URI fragment
[23:34:55] *** Joins: tjc (tjc@moz-7B0110AD.mv.mozilla.com)
[23:34:55] *** ChanServ sets mode: +o tjc
[23:34:58] <aatch> unsigned overflow in Rust is defined though, so it's not completely arbitrary.
[23:35:02] <nejucomo> I have an itchy trigger finger for doc bugs, but I may be overly noisy.
[23:35:18] <aatch> rusti: 1234i16 as i8
[23:35:19] -rusti- -46i8
[23:35:27] <sfackler> eholk: https://github.com/mozilla/rust/issues/9781
[23:35:30] <aatch> That ^^ however, should also be documented.
[23:35:41] <nejucomo> aatch: +1
[23:36:39] <eholk> sfackler: thanks. My rust is a few days out of date anyway
[23:36:39] *** Quits: tjc (tjc@moz-7B0110AD.mv.mozilla.com) (Ping timeout)
[23:37:03] <aatch> rusti: -1i8 as i32
[23:37:04] -rusti- -1i32
[23:37:07] *** Joins: jdm (jdm@moz-25D04F84.zone16.bethere.co.uk)
[23:37:07] *** ChanServ sets mode: +o jdm
[23:37:14] <aatch> rusti: -1i8 as u32
[23:37:15] -rusti- 4294967295u32
[23:37:52] <aatch> nejucomo, probably worth adding signed-extension vs zero-extension for widening casts too.
[23:38:03] *** Joins: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net)
[23:38:30] <ChrisMorgan> nejucomo: the easiest way to avoid being considered overly noisy (which I can't imagine happening, anyway) is to fix the problems and submit ready patches.
[23:39:11] <aatch> Overly noisy is having one issue for each tiny thing.
[23:39:38] <aatch> If you find 3 typos, we don't need 3 issues. (For example)
[23:40:26] *** Quits: lerc (quassel@B2E8CAD3.A8D14E52.788638A4.IP) (Ping timeout)
[23:41:01] * nejucomo files https://github.com/mozilla/rust/issues/9801
[23:41:15] *** Joins: tjc (tjc@moz-BBE3ABD.mv.mozilla.com)
[23:41:16] *** ChanServ sets mode: +o tjc
[23:41:31] <nejucomo> ChrisMorgan: Yeah, I try to keep my patch/revue -to- issues-filed ratio healthy, but so far it's not too balanced for rust.
[23:42:04] <nejucomo> The last time I tried to start a doc patch, I failed at running "make" on rustc due to memory consumption, so I'm glad to see the recent improvements in memory requirements.
[23:42:11] *** Quits: timot (timot@moz-E3C52487.mobile.tre.se) (Ping timeout)
[23:42:25] <ChrisMorgan> For small patches like in docs that don't need testing, GitHub's online editing is probably quite handy.
[23:42:47] <aatch> Hmm, so it looks like signed -> unsigned is sext and unsigned -> signed is zext
[23:42:50] <benh> but code examples in docs are tested, so be careful ;)
[23:42:55] *** Joins: robertknight (robertknig@moz-54528EE0.wby.mendeley.com)
[23:43:17] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[23:43:27] <nejucomo> ChrisMorgan: I read a contribution guideline that says you must run unittests even for doc PRs, so I'm just trying to follow the conventions.
[23:43:43] <aatch> rusti: (1000u16 as i8, 1000i16 as u8)
[23:43:43] -rusti- (-24i8, 232u8)
[23:43:51] <ChrisMorgan> nejucomo: that examples in those docs are run is actually not true at present.
[23:44:00] <nejucomo> Perhaps I should be more pragmattic and less OCD.
[23:44:00] <benh> but they're compiled
[23:44:04] <tjc> nejucomo: we should probably change those guidelines. now that we have bors, it's more okay to make small changes w/ o running all the tests locally
[23:44:08] <benh> well, depends on the docs
[23:44:15] <tjc> nejucomo: OCD is an actual disease that's really hard to live with and not a metaphor, but that said...
[23:44:20] <benh> I remember my syntax examples for raw strings in rust.md breaking make check :)
[23:44:20] * ChrisMorgan was also doing that at the start but fairly rapidly went for pragmatism
[23:44:34] <tjc> nejucomo: my advice is if you're just changing docs, and not code examples -- I mean, just prose -- just run `make tidy`
[23:44:37] <tjc> and submit a pull request
[23:44:37] *** Quits: robertknight (robertknig@moz-54528EE0.wby.mendeley.com) (Ping timeout)
[23:44:39] <tjc> it saves time :-)
[23:44:47] <aatch> rusti: (-10i8 as i16, -10i8 as u16)
[23:44:48] -rusti- (-10i16, 65526u16)
[23:44:57] *** Joins: timot (timot@moz-E3C52487.mobile.tre.se)
[23:45:01] <mcpherrin> I think my first pull request was a doc fix that I didn't run tests for thinking it couldn't possibly have broken anything, but it did  :(
[23:45:08] <benh> :D
[23:45:08] <tjc> mcpherrin: Yeah, that always happens :-)
[23:45:09] <nejucomo> tjc: Good point.  I didn't intend to belittle that condition. 
[23:45:18] <tjc> nejucomo: np, just making folks aware :-)
[23:45:36] <tjc> if you submit a pull request, it gets r+ed, and then bors says tests failed, it's not a big deal
[23:45:42] <tjc> since bors will keep it from getting integrated
[23:45:49] <tjc> no one will think less of you :-)
[23:46:03] <tjc> obviously, it's good to run tests first for actual code changes. but for things like docs it can be skipped
[23:47:12] *** Quits: jdm (jdm@moz-25D04F84.zone16.bethere.co.uk) (Ping timeout)
[23:47:38] *** Quits: timot (timot@moz-E3C52487.mobile.tre.se) (Ping timeout)
[23:48:03] *** jorendorff is now known as jorendorff_away
[23:48:27] *** Quits: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net) (Ping timeout)
[23:48:40] *** Quits: derboi_c (derboi_c@9EFD18B2.940A4703.BA2F4534.IP) (Ping timeout)
[23:48:49] <nejucomo> tjc: Ok, good to know.  So does bors build/test PRs automatically?
[23:49:24] <sfackler> when a PR gets r+'d, bors will add it to the test queue
[23:49:35] <nejucomo> Let me flip this around a bit: If I submit 10 PRs in the same day for the same feature changes because the first 9 have test failures, will that be costly to anyone else's attention?
[23:49:42] *** Joins: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[23:49:51] <nejucomo> I'm not sure what r+ means.
[23:49:57] <jeaye> Request approved
[23:50:08] <nejucomo> Ah, ok, so humans look at a PR before bors?
[23:50:15] <jason_> nejucomo: yeah
[23:50:18] *** Joins: timot (timot@moz-E3C52487.mobile.tre.se)
[23:50:24] <jeaye> Humans approve it so that bors can test it.
[23:50:35] * nejucomo wonders about switching that order…  Wouldn't that save people's time?
[23:50:40] *** Quits: eholk (eric@moz-F70D5031.hsd1.in.comcast.net) (Quit: Konversation terminated!)
[23:50:58] <tjc> nejucomo: There is a certain amount of cost to submitting a PR --
[23:51:02] <tjc> because a test cycle takes time
[23:51:08] <jeaye> I vote glob imports bring in private items, since it's a much better error to see that something is private versus it not being existent.
[23:51:12] *** Joins: jdm (jdm@moz-E4B91594.zone16.bethere.co.uk)
[23:51:12] *** ChanServ sets mode: +o jdm
[23:51:14] <tjc> you may or may not have noticed that sometimes it can take 24 hours just to land a PR even if it passes the first time
[23:51:18] <tjc> So it *is* good to be considerate
[23:51:36] <tjc> Just use judgment, basically. If you think something is likely to break, run make check first. If you think there might be platform-dependent things, push to try first --
[23:51:40] <tjc> I know most people don't have try access
[23:51:46] <nejucomo> Ok, makes sense.
[23:51:46] <tjc> but we're working on getting try access for more contributors
[23:52:14] *** Quits: tupshin (quassel@moz-E7B03838.c3-0.nyr-ubr1.nyr.ny.cable.rcn.com) (Client exited)
[23:52:31] *** Joins: derboi_c (derboi_c@E8C2F046.940A4703.BA2F4534.IP)
[23:54:09] *** Quits: ChrisMorgan (chris@moz-6E17E753.its.monash.edu.au) (Ping timeout)
[23:54:30] <mitchty> going through the tutorial, i'm confused about this https://gist.github.com/mitchty/6927534 not sure whats wrong because I don't know enough rust to be sure
[23:55:09] *** Joins: skade (skade@moz-4865967C.pools.arcor-ip.net)
[23:55:39] *** Joins: tupshin (quassel@moz-E7B03838.c3-0.nyr-ubr1.nyr.ny.cable.rcn.com)
[23:55:45] <aatch> mitchty, needs to be in a function
[23:55:47] <tjc> mitchty: "let" has to be inside a function
[23:55:52] *** Quits: jdm (jdm@moz-E4B91594.zone16.bethere.co.uk) (Input/output error)
[23:55:54] <aatch> wrap it in fn main() { ... }
[23:55:57] <tjc> mitchty: at the top level, you would say "static" instead of "let"
[23:56:01] <tjc> (but in this case it should be "let")
[23:56:01] *** Joins: jdm (jdm@moz-E4B91594.zone16.bethere.co.uk)
[23:56:01] *** ChanServ sets mode: +o jdm
[23:56:04] *** Quits: skade (skade@moz-4865967C.pools.arcor-ip.net) (Quit: Textual IRC Client: www.textualapp.com)
[23:56:05] <mitchty> oh yeah, derp, danke all :)
[23:57:16] <mitchty> so also second question, is there an equivalent to say go fmt that i can hack into emacs to auto indent things so I can be lazy?
[23:57:25] *** Quits: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com) (Quit: brendan)
[23:58:23] *** Joins: dbaupp (Thunderbir@B11E503F.D5A1DCF.37681C44.IP)
[23:58:45] <sp3d> mitchty: there's a vim indenting file or such I think, but "rustc --pretty normal" isn't production-ready yet
[23:59:20] *** Quits: dbaupp (Thunderbir@B11E503F.D5A1DCF.37681C44.IP) (Quit: dbaupp)
[23:59:47] *** Joins: ChrisMorgan (chris@moz-78D42982.its.monash.edu.au)
