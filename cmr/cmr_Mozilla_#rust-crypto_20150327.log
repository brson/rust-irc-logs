[00:00:06] <Ilari> bascule: Remember "lp0: on fire" (I think I have seen that message once)? :->
[00:02:20] <tiffany> https://en.wikipedia.org/wiki/Lp0_on_fire
[00:02:32] <tiffany> I've never had a line printer, so I wouldn't have gotten a chance to see it
[00:02:53] <bascule> lololol
[00:03:34] <tiffany> that example of a printer that can catch fire
[00:04:12] <tiffany> "if the printer continued to operate, it would essentially stoke the oven with fresh paper at high speed."
[00:04:20] <tiffany> were these printers designed to be as dangerous as possible?
[00:05:20] <Ilari> I actually have printer appear as usb/lp0 (I lack the proper cable to connect it as lp0).
[00:05:53] <tiffany> I don't think I've ever actually attached a working printer to a linux system
[00:06:21] <tiffany> I have only managed to successfully operate a printer without it jamming approximately once
[00:06:22] <mcpherrin> I have a printer that *is* a working linux system...
[00:06:35] <mcpherrin> For some value of working at least
[00:07:43] <Ilari> Also, on bad program design: Not considering the output on invalid inputs: One air quality monitoring page had air quality index and textual description. Now, AQI caps out at 500. The part that did number-to-text translation reacted to invalid input by text "crazy bad". Now, when readings were bad enough to trip that case, authorities were not amused.
[00:08:35] <Ilari> And the scary thing is: It wasn't an measurement error...
[00:08:41] <Ilari> *a
[00:15:00] <Ilari> Also, there are multiple incidents where things have gone badly wrong because systems do not indicate out-of-scale values properly.
[00:16:00] <Ilari> ... Hey, let's fly through that gap in storm system (except it is not a gap, but area where radar returns are out of scale)...
[00:18:26] <Ilari> Even worse if the system caps values to some believeable value. Then when one gets truly ridiculous value due to error (like car moving at 999mph or something), it gets capped to some believeable value.
[00:21:03] <tiffany> there was a wikipedia page describing this problem
[00:21:12] <tiffany> of trying to cram meaningful non-numerical values into an integer
[00:21:22] <tiffany> it's amazing how easily ADTs fix it
[00:21:48] <cmr> yea, they reduce the pain level below the lazy threshhold.
[00:22:20] <bascule> someone else should respond to this: http://internals.rust-lang.org/t/alternatives-to-volatile-set-memory/1758/1
[00:22:23] <bascule> plztks
[00:22:47] *** Quits: BigE (BigE@moz-ke9rv2.nos-oignons.net) (Connection closed)
[00:24:12] <cmr> bascule: I'm not sure Zeroing<T> can actually be implemented.
[00:24:21] <cmr> at least when T itself is Drop
[00:24:35] <cmr> you'd need to ptr::read to drop the value, and zero the original value, but then you need to also zero the stack.
[00:24:39] <Ilari> So are programs that are supposed to reliably clear memory supposed to 1) Stay on nightly. 2) Write the memory clear routines in assembly?
[00:24:56] <cmr> which just plain isn't possible right now
[00:25:30] <cmr> although I guess you could scrub everything below the stack after calling drop(foo)....
[00:32:27] <bascule> cmr: just a strawman proposal
[00:32:34] <bascule> I want something of that nature
[00:32:37] <cmr> right
[00:33:15] *** Joins: BigE (BigE@moz-7i4ghi.snydernet.net)
[00:36:43] <eternaleye> cmr: And Zeroing<T> could exist as a lang item, much like NonZero<T> does
[00:37:31] <cmr> http://internals.rust-lang.org/t/alternatives-to-volatile-set-memory/1758/3?u=cmr
[00:37:53] <eternaleye> Heh
[00:38:07] <eternaleye> When I loaded it, that post wasn't there :P
[00:38:12] <cmr> :D
[00:48:29] <bascule> cmr: FWIW, everything I want to zero is a Vec<u8> so something special cased for that is totally fine by me
[00:48:46] <cmr> bascule: that's what I figured.
[00:49:00] <bascule> doing it generically is gravy
[00:54:16] <cmr> bascule: do you want to implement/RFC it? I can if not.
[01:02:26] *** Quits: Tuba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[01:06:04] <bascule> cmr: umm, not sure I'm qualified, lol
[01:06:07] <bascule> I just want to use the results
[01:07:03] <cmr> bascule: ok, that's fine.
[01:09:40] *** Quits: brson (brson@moz-cfhap5.mtv2.mozilla.com) (Quit: leaving)
[01:10:57] *** Joins: brson (brson@moz-o67.m43.48.37.IP)
[01:50:19] *** Quits: brson (brson@moz-o67.m43.48.37.IP) (Ping timeout: 121 seconds)
[01:57:09] *** Joins: brson (brson@moz-5i1.d2v.211.95.IP)
[02:39:05] *** Quits: brson (brson@moz-5i1.d2v.211.95.IP) (Quit: leaving)
[02:48:11] *** Joins: adu (ajr@moz-vu6seg.hfc.comcastbusiness.net)
[02:50:05] *** Quits: gsingh93 (gulshan@moz-3fu4am.mi.comcast.net) (Ping timeout: 121 seconds)
[02:53:52] *** Quits: adu (ajr@moz-vu6seg.hfc.comcastbusiness.net) (Client exited)
[03:01:35] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[03:03:44] *** Joins: gsingh93 (gulshan@moz-3fu4am.mi.comcast.net)
[05:44:55] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[06:09:58] <bascule> https://twitter.com/jruderman/status/580888265642770433
[06:10:00] <bascule> ooh
[06:18:42] <eternaleye> I, for one, welcome our new MST3K-browser overlords :P
[07:02:50] <bascule> oh yeah
[07:02:51] <bascule> http://www.metzdowd.com/pipermail/cryptography/2015-March/025210.html
[07:02:52] <bascule> o_O
[07:03:10] <bascule> while I'm linkspamming
[07:03:15] <bascule> https://raw.githubusercontent.com/mbroz/PHCtest/master/output/Lenovo_X230_i5_4G/m_cost/mcost_memory.png
[07:03:20] <bascule> https://raw.githubusercontent.com/mbroz/PHCtest/master/output/Lenovo_X230_i5_4G/m_cost/mcost_time.png
[07:09:45] *** Joins: gsingh93_ (uid22642@moz-aq0iah.charlton.irccloud.com)
[07:42:50] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[07:58:49] *** Quits: gsingh93 (gulshan@moz-3fu4am.mi.comcast.net) (Ping timeout: 121 seconds)
[07:58:49] *** gsingh93_ is now known as gsingh93
[07:59:03] *** Joins: ttaubert (uid2620@moz-6d2u0s.uxbridge.irccloud.com)
[08:39:51] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[08:45:53] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[08:47:16] *** Joins: Tobba|Laptop (Tobba@moz-1hh.7ki.21.217.IP)
[08:52:48] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[09:42:25] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[09:46:53] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[10:45:38] *** Quits: gsingh93 (uid22642@moz-aq0iah.charlton.irccloud.com) (Quit: Connection closed for inactivity)
[10:48:45] *** Quits: LinuxBunny (Retep998@moz-7f2st1.east.verizon.net) (Connection closed)
[11:00:50] <Ilari> In Saag meeting: Someone blasts Chrome guys for misrepresenting https for QUIC. Then MNot (HTTPBIS WG chair) says that it is specwise ok to have https:// be something else than HTTP-over-TLS. Then EKR agrees with MNot's comment.
[11:44:01] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[11:48:44] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[12:00:07] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[12:08:20] *** Quits: Tobba|Laptop (Tobba@moz-1hh.7ki.21.217.IP) (Ping timeout: 121 seconds)
[12:11:41] *** Quits: acharles (acharles@moz-ulbdcn.ca.comcast.net) (Ping timeout: 121 seconds)
[12:11:44] *** Joins: acharles_ (acharles@moz-ulbdcn.ca.comcast.net)
[13:30:18] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[13:34:30] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[14:15:33] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[14:21:34] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[14:25:46] <Ilari> Wonder how fast AE key exchange would be on general-purpose CPUs. Probably helluva fast. The problem with AE is the parameter backdoor problem (alongside with newness of the underlying problem).
[14:26:14] <Ilari> Also, doesn't look very constant-time-friendly.
[14:27:49] <Dcoder> AE?
[14:29:30] <cmr> authenticated encryption I assume.
[14:37:49] <Dcoder> ah, "algebraic eraser"
[14:38:53] <Dcoder> yeah, i wouldn't trust this thing very much
[14:45:47] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[14:57:02] *** Joins: Tuba (Tobba@moz-o13d22.bredband.telia.com)
[15:07:27] *** Tuba is now known as Tobba
[15:08:59] <Ilari> Gaah, can't upgrade to latest rustc because of caching fsckup. :-/
[16:00:40] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[16:34:08] <bascule>  13_4__8__ 9_11__12_  13_4__ 8_9__11_    13_ 4_8_   11__12_ 13_ 4_ 
[16:34:11] <bascule> 4|  8_9__11|  12_ 13\4|_ 8_9|  11_ 12\  4/ 8\\ 9\ 11/ 12/ 13| 4| 8|
[16:34:14] <bascule> 8| 9|_  12| 13|_4) 8|| 9|11| 12| 13| 4|/ 8_ 9\11\ 12V 13/| 4| 8| 9|
[16:34:17] <bascule> 9|  11_12| 13|  4_ 8< 9| 11|12| 13|_4| 8/ 9__11_ 12\| 13| 4|8_|9_|11_|
[16:34:20] <bascule> 11|_12|   4|_8| 9\_11\_12__13|_4__8_/9_/   12\13_\4_| 8(9_|11_|12_)
[16:34:23] <bascule>                                         
[16:44:02] *** Joins: gsingh93 (gulshan@moz-3fu4am.mi.comcast.net)
[16:51:44] <frewsxcv> fixed width fonts in irc are overrated
[16:54:55] <Ilari> Just don't try to use variable-fixed fonts as fixed-width fonts (the result looks infernal).
[16:58:21] *** Joins: brson (brson@moz-cfhap5.mtv2.mozilla.com)
[17:00:26] *** Quits: c74d (c74d3a4ebb6@moz-1rc5g6.mggc.hibn.4404.2002.IP) (Connection closed)
[17:01:29] *** Joins: c74d (c74d3a4ebb6@moz-iclfcj.mggc.hibn.4404.2002.IP)
[17:44:40] <Ilari> "There's an incredible proliferation of amateur crypto design going on in both industry & academia. What the hell is going on?" ---> TLS is pile of shit?
[17:46:44] <Ilari> (And PGP and such are too)
[17:48:22] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[17:49:01] <Ilari> And the real killer is when the protocol being pile of shit leaks through APIs, resulting application programmers having to deal with the mess.
[17:50:25] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[17:56:33] <Ilari> I have dealt with TLS library APIs... Once. And that was with allegedly one of the better ones.
[17:57:08] <Ilari> Oh, I think I dealt with that stuff twice. Blech.
[18:04:10] *** Quits: c74d (c74d3a4ebb6@moz-iclfcj.mggc.hibn.4404.2002.IP) (Connection closed)
[18:05:18] <tiffany> frewsxcv: I tried using a sans serif font but it always feels like the inter-line width is too high or the kerning is too tight in comparison
[18:05:37] <tiffany> er, inter-line width is too low*
[18:06:45] <tiffany> the strange thing is that I use source sans pro as my default font everywhere else
[18:06:59] <tiffany> maybe it's just years of using monospace
[18:07:09] *** Joins: c74d (c74d3a4ebb6@moz-iclfcj.mggc.hibn.4404.2002.IP)
[18:11:39] <tiffany> I kind of want a sans-serif font which has all the symbols pulled from source code pro but all the lettering pulled from source sans pro
[18:26:04] <eternaleye> tiffany: frewsxcv: Personally, I'm a fan of Inconsolata
[18:30:35] <tiffany> bascule's ascii art looks absolutely dreadful under source sans pro
[18:30:53] <tiffany> it's really easy to see that it's doing subpixel anti aliasing
[18:31:12] <tiffany> aside from being a mangled mess, that is
[19:03:50] <bascule> hahaha
[19:56:51] *** Quits: c74d (c74d3a4ebb6@moz-iclfcj.mggc.hibn.4404.2002.IP) (Ping timeout: 121 seconds)
[20:09:28] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Connection closed)
[20:14:21] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[20:23:29] *** Joins: c74d (c74d3a4ebb6@moz-h8buis.mggc.hibn.4404.2002.IP)
[20:24:21] *** Quits: c74d (c74d3a4ebb6@moz-h8buis.mggc.hibn.4404.2002.IP) (Connection closed)
[20:26:02] *** Joins: c74d (c74d3a4ebb6@moz-h8buis.mggc.hibn.4404.2002.IP)
[20:44:05] *** Quits: c74d (c74d3a4ebb6@moz-h8buis.mggc.hibn.4404.2002.IP) (Client exited)
[21:08:20] <Tobba> apparently vim has built-in encryption
[21:08:44] <Tobba> it only supports legacy broken schemes and blowfish/twofish
[21:08:50] <Tobba> this doesn't seem like a good idea at all
[21:09:08] <Ilari> Let me guess, no authentication (i.e. totally broken)?
[21:09:35] <Tobba> it actually has authentication
[21:09:49] <Tobba> but it doesn't store any checksums or anything so if you mistype the password and accidently save you corrupt the file
[21:10:30] <Tobba> it does look pretty broken though
[21:11:34] <Ilari> Can you load the file with wrong password and get garbage?
[21:11:50] <Tobba> yep
[21:12:02] <Ilari> So no authentication.
[21:12:32] <Tobba> oh, like that, yeah
[21:12:46] <eternaleye> Tobba: If it had authentication, there'd be a MAC that failed, or similar. Garbage is just using the password as the key directly (or after stretching)
[21:12:58] <eternaleye> I wonder what mode it's in.
[21:13:02] <Tobba> yeah it just uses the password as the key directly it seems
[21:13:05] <eternaleye> I give even odds it's ECB.
[21:13:32] <eternaleye> Tobba: Use it to encrypt a picture of Tux!
[21:13:46] <Tobba> heh, thats a classic
[21:13:58] <Ilari> Tobba: If you want to test if it is ECB: Type lots of one character and encrypt. Look if you got repeating patterns.
[21:14:02] <Tobba> why does having no authentication mean that it's totally broken
[21:14:13] <Tobba> and not just badly implemented
[21:14:13] <eternaleye> Tobba: Because it's likely malleable
[21:14:26] <eternaleye> Tobba: Someone could change a block undetected
[21:14:33] <eternaleye> Tobba: with ECB it's even worse
[21:14:44] <Tobba> oh yeah, that's really broken
[21:16:10] <Ilari> If it for some reason isn't ECB, it is probably CBC, which is quite broken too.
[21:17:03] <Tobba> it doesn't look like ECB
[21:17:25] <Ilari> Then I would guess CBC (which does require IV, hmm...)
[21:17:38] <Tobba> it does look a bit... fishy though
[21:18:49] <Ilari> You could try flipping some bit in the "encrypted" file and check what it does to the plaintext.
[21:19:41] <Tobba> I looked at the output of encrypting a repeating string of "a" and the output looks statistically improbable
[21:19:48] <Tobba> but... randomness
[21:21:20] <Ilari> What does flipping a bit in hex editor do to the plaintext?
[21:21:47] <Tobba> I'm testing that now
[21:22:22] <Tobba> turns everything after that block into gibberish, so it isn't EBC
[21:22:43] <Tobba> but
[21:22:45] <Tobba> https://dl.dropboxusercontent.com/u/4838268/ShareX/2015/03/2015-03-27_22-22-27.png
[21:23:02] <Tobba> that doesnt' look right, at all
[21:23:19] <Ilari> Nor it is CTR or that another XOR-based mode.
[21:24:55] <Ilari> Actually, it can't be CBC either, because single-bit corruption corrupts single block totally, plus the matching bit in next block.
[21:25:53] <eternaleye> OFB?
[21:26:08] <Tobba> I'll just check the source code
[21:26:19] <eternaleye> Mm, no, not ofb
[21:26:26] <Tobba> though looking at it this way is pretty interesting
[21:28:22] <Tobba> looking at the code it seems like OFB
[21:30:37] <Ilari> OFB has CTR-like "propagation" characteristics.
[21:30:59] <Tobba> looks like it picks a random salt and IV for each file and stores them in the header
[21:31:46] <eternaleye> Ilari: I wonder if it's doing some absolutely insane thing, like encrypting the first block and then using the ciphertext as the key of the next...
[21:32:03] <eternaleye> Ilari: Or XORing the ciphertext with the plaintext of the next block, or some such.
[21:32:05] <Ilari> There's PCBC too...
[21:32:16] <Tobba> source code refers to "OFB" a lot
[21:32:54] <Tobba> oh, the comment on the top says that as well, apparently it's some modified version of the reference impl (oh dear)
[21:33:01] <eternaleye> ...oh lord.
[21:33:27] <cmr> reference impl of what?
[21:33:48] <Tobba> blowfish
[21:34:03] <cmr> ah
[21:34:15] *** Joins: Pereba (UserNick@moz-n16.p8h.59.187.IP)
[21:34:46] <Ilari> I presume modified in more involved ways than modified version of IANA AEAD #29 (Chacha20-Poly1305) I have done?
[21:35:05] <Tobba> I presume modified in the "broke it" way
[21:35:52] <Tobba> the code is really hard to decipher but it does weird things to the buffer in place, what
[21:35:52] <Ilari> Yeah, those changes probably broke it.
[21:40:20] *** Quits: ttaubert (uid2620@moz-6d2u0s.uxbridge.irccloud.com) (Quit: Connection closed for inactivity)
[21:47:56] <Tobba> Ilari: ruh roh, it runs *both* ECB and OFB mode, kind of
[21:48:11] <cmr> um?
[21:48:26] <Tobba> it generates 8 blowfish blocks, XORs that with the cleartext, XORs the results with the cleartext and feeds it back
[21:49:29] <Tobba> so it's more like... input feedback
[21:51:23] <Tobba> if I'm reading this right, anyways, which means that it's immeasurably broken
[22:01:15] <Tobba> it looks like it's essentially using blowfish as a stream cipher, what the hell
[22:04:18] <Tobba> I figured out what it does, zeroes out a buffer of 64 bytes, encrypts it with blowfish in ECB mode, XORs it with the input and outputs it, then encrypts that with ECB blowfish and it all starts over again
[22:04:57] <Tobba> I can't actually see a way that is immedietely broken, but it certainly doesn't seem right
[22:06:21] <Tobba> oh sorry, it doesn't zero it, it uses the IV
[22:08:57] <Ilari> Could it be PCBC or is it some cooked up mode?
[22:10:19] <Tobba> it's a cocked up PCBC
[22:11:30] <Tobba> it encrypts the IV, XORs it with the output, then encrypts the output and XORs it with the next block
[22:11:41] <Tobba> err
[22:12:06] <Tobba> it encrypts the IV, XORs that with the plaintext, then uses the output of that as the IV for the next block
[22:12:20] <Tobba> and each "block" is 8 blocks of blowfish in ECB mode
[22:13:41] <Tobba> oh, thats CFB
[22:14:44] <Tobba> so it's a combined version of ECB and CFB, sorry about the rambling, but it's really hard to tell what is going on with this code
[22:15:06] *** Joins: Pereba_ (UserNick@moz-8ao.5c1.158.177.IP)
[22:15:10] <Ilari> *this broken code
[22:15:12] <Ilari> :-)
[22:17:35] *** Quits: Pereba (UserNick@moz-n16.p8h.59.187.IP) (Ping timeout: 121 seconds)
[22:17:43] *** Pereba_ is now known as Pereba
[22:23:13] <Tobba> I just noticed why it wasn't giving me ECB or CFB-like output
[22:23:18] <Tobba> the default mode is... PKZIP
[22:23:20] <Tobba> I didn't even check
[22:27:57] *** Quits: brson (brson@moz-cfhap5.mtv2.mozilla.com) (Quit: leaving)
[22:28:04] *** Joins: Pereba_ (UserNick@moz-9e3.ctv.113.187.IP)
[22:28:28] *** Quits: Pereba (UserNick@moz-8ao.5c1.158.177.IP) (Ping timeout: 121 seconds)
[22:29:22] *** Pereba_ is now known as Pereba
[22:33:36] <Ilari> Also, what's with some accidentially PGP-encrypted mails to IETF lists (I have seen 2 recently, but none before)?
[22:37:13] <Tobba> Ilari: it gets worse actually, this is the default mode: http://www.opensource.apple.com/source/vim/vim-48.1/src/misc2.c (search for UPDATE_KEYS_ZIP)
[22:56:45] <Ilari> Oh, some draft-ietf-tokbind-* documents (tokbind = unbearable).
[22:58:58] <Ilari> Okay, am I misunderstanding this, or is this totally screwed up?
[23:00:46] <Ilari> Well, not as fucked up as I first read it, but still looks plenty screwed.
[23:14:52] *** Quits: randati (antti@moz-jue3vb.763s.ieq4.0708.2001.IP) (Ping timeout: 121 seconds)
[23:48:29] <Ilari> ALPN can resume across protocols. Wonderful.
[23:50:19] <bascule> lol vim encryption
[23:50:26] <bascule> Ilari: o_O
[23:50:50] <bascule> Tobba: https://github.com/neovim/neovim/issues/694
[23:51:05] <Tobba> yeeep
[23:51:13] <bascule> I got neovim to remove the encryption feature! :D
[23:51:36] <Tobba> hooray
[23:51:41] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (A TLS packet with unexpected length was received.)
[23:51:44] <bascule> except I don't use neovim
[23:51:45] <bascule> heh
[23:51:48] <Tobba> still
[23:52:07] <Tobba> bascule: did they remove the other (default) mode as well? I hope so
[23:52:20] <Tobba> it's so blatantly broken I could probably break it over the weekend and I have no idea what I'm doing
[23:52:58] <tiffany> I've been keeping an eye on neovim
[23:53:07] <tiffany> haven't actually tried it
