[00:00:01] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[00:03:20] *** Quits: azita (Azita@2557E599.66715431.D25A875A.IP) (Quit: azita)
[00:05:37] <acrichto> brson: your mk-wildcard patch helpts windows get a bit further, but have you seen this kind of error before http://buildbot.rust-lang.org/builders/try-win/builds/512/steps/compile/logs/stdio ?
[00:06:10] <cmr> acrichto: Are you drying to use valgrind?
[00:06:13] <cmr> *trying
[00:06:31] <acrichto> cmr: just a normal try build, and as far as I know valgrind is never run on windows
[00:06:44] <cmr> Those are valgrind symbol names afaik
[00:07:10] <acrichto> odd... maybe windows needs the llvm --disable-pthread flag after all
[00:07:21] <cmr> http://llvm.org/docs/doxygen/html/Valgrind_8cpp_source.html
[00:07:58] <acrichto> hmm... I'll look into that, thanks cmr!
[00:08:08] <cmr> (they're at the bottom)
[00:08:20] <cmr> It's wrapped in a #if LLVM_ENABLE_THREADS != 0 && !defined(NDEBUG)
[00:13:44] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[00:19:49] *** Quits: steveklabnik (steve@moz-5EF6C37C.socal.res.rr.com) (Quit: Lost terminal)
[00:20:19] *** Joins: Sorella (queen@B12A78F5.BA14766C.95C8B7C6.IP)
[00:21:02] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[00:21:02] <ghrust> 01[13rust01] 15bors merged 06auto into 06incoming: 02http://git.io/Peot6g
[00:21:02] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[00:21:43] *** Joins: burg (burg@moz-3CAE03BD.ipnetworksinc.net)
[00:23:33] *** Quits: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca) (Ping timeout)
[00:25:28] *** Joins: jclements (jclements@2557E599.66715431.D25A875A.IP)
[00:29:43] *** Joins: victorporof (victorporo@96E478A3.6D2FB7A4.79933D60.IP)
[00:30:22] *** Joins: sawrubh (uid6719@moz-C944F5EC.irccloud.com)
[00:31:48] *** Quits: victorporof (victorporo@96E478A3.6D2FB7A4.79933D60.IP) (Ping timeout)
[00:32:16] <cmr> graydon: so https://github.com/cmr/rust/tree/static_assert is where I'm at, specifically https://github.com/cmr/rust/blob/static_assert/src/librustc/middle/static_assert.rs. I think if I can get a def_id from the item, I can pass that to middle::trans::consts::get_const_val, but 1. I don't know what a def_id is or where to get it, 2. I don't know how to extract the value from a ValueRef or if
[00:32:18] <cmr> that's even possible
[00:32:30] *** Joins: davelnewton (Mibbit@moz-593E2C90.hsd1.nj.comcast.net)
[00:32:49] <graydon> cmr: right
[00:32:54] *** Quits: jeff (jeff@93F4F120.DC47D717.3D1CA460.IP) (Quit: jeff)
[00:33:26] *** Quits: tiffany (kawaii@moz-1E0FE6E8.dhcp.embarqhsd.net) (Ping timeout)
[00:34:00] <graydon> cmr: so .. is this running in trans phase, or earlier? IIRC the last vague hand-waving-design I suggested ran in trans phase
[00:34:30] *** Quits: davelnewton (Mibbit@moz-593E2C90.hsd1.nj.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[00:36:52] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[00:39:34] *** Quits: jclements (jclements@2557E599.66715431.D25A875A.IP) (Quit: jclements)
[00:41:35] *** Joins: samx (sami@moz-4F80CE8B.dyn.optonline.net)
[00:41:51] *** Quits: samx (sami@moz-4F80CE8B.dyn.optonline.net) (Quit: Leaving)
[00:44:52] *** Joins: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com)
[00:46:33] *** Quits: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com) (Ping timeout)
[00:49:40] *** Joins: samx (sami@moz-4F80CE8B.dyn.optonline.net)
[00:51:26] *** Quits: samx (sami@moz-4F80CE8B.dyn.optonline.net) (Ping timeout)
[00:51:57] *** Joins: samx (sami@moz-4F80CE8B.dyn.optonline.net)
[00:52:05] *** Joins: int3_ (int3_@moz-B7B5F043.singnet.com.sg)
[00:52:55] *** Joins: SimonSapin (simon@8ACF1000.5EFFC0B8.24454B25.IP)
[00:53:51] *** Quits: int3_ (int3_@moz-B7B5F043.singnet.com.sg) (Ping timeout)
[00:54:41] *** Quits: wting (wting@moz-250C027.csres.utexas.edu) (Ping timeout)
[00:54:44] *** Joins: wting (wting@moz-250C027.csres.utexas.edu)
[00:56:07] *** Quits: samx (sami@moz-4F80CE8B.dyn.optonline.net) (Ping timeout)
[00:57:44] <cmr> graydon: it's a pass after const checking, in driver/driver.rs
[00:57:50] <cmr> I don't actually know where that is :)
[00:58:03] <cmr> Earlier, I think
[00:58:07] *** Joins: samx (sami@moz-4F80CE8B.dyn.optonline.net)
[00:58:08] <cmr> trans is the last phase, yeah?
[00:58:22] <graydon> cmr: ok. trans runs pretty late in the game, yeah, just before LLVM and linkage
[00:58:40] <aatch> trans is AST->IR
[00:58:44] <aatch> more-or-less
[00:59:26] <graydon> you will want to hook into it, probably. like rustc::middle::trans::trans_constant say
[01:00:28] <graydon> or, hm
[01:00:45] <graydon> maybe get_item_val? I never remember how that cycle of calls is organized
[01:01:06] *** Quits: samx (sami@moz-4F80CE8B.dyn.optonline.net) (Ping timeout)
[01:01:48] <graydon> mm, rustc::middle::trans::consts::trans_const I think
[01:01:53] *** Quits: SimonSapin (simon@8ACF1000.5EFFC0B8.24454B25.IP) (Ping timeout)
[01:02:19] <graydon> (note: "static" used to be "const", and a lot of the compiler hasn't been renamed to reflect that change)
[01:03:35] *** Quits: burg (burg@moz-3CAE03BD.ipnetworksinc.net) (Quit: burg)
[01:03:48] <graydon> and .. I _believe_ you can read 1/0 back out of a boolean using LLVMConstIntGetZExtValue
[01:03:55] <graydon> (a boolean const ValueRef)
[01:04:50] <cmr> Do the cases in trans_const correspond to middle::const_eval::constness at all?
[01:05:01] *** Joins: MaikKlein (Mibbit@moz-B7FC022D.dip0.t-ipconnect.de)
[01:05:40] <MaikKlein> hi @ all
[01:06:02] <graydon> MaikKlein: hi
[01:06:17] *** Quits: alisdair (textual@moz-EA60A466.dedicated.allstream.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[01:06:32] <cmr> oh wait
[01:06:35] <cmr> I'm looking in adt
[01:06:37] <cmr> whoops
[01:07:06] *** Joins: samx (sami@moz-4F80CE8B.dyn.optonline.net)
[01:08:02] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[01:08:44] <MaikKlein> I just discovered Rust today and I am really excited. It's really amazing. But do you know if there are more advanced examples? Maybe some showcases of design patterns or some simple programs like a pizza store?
[01:09:22] <cmr> MaikKlein: you could look through https://github.com/languages/Rust for some real programs/libraries
[01:09:42] <aatch> MaikKlein, well rustc is probably the most advanced example you'll find
[01:09:51] <aatch> But it also isn't the best rust code.
[01:09:53] <MaikKlein> I already read though several libs
[01:10:20] <Eridius> MaikKlein: what is a pizza store? I assume you're not talking about a physical restaurant
[01:10:31] <MaikKlein> yeah I am doing :D
[01:10:49] <Eridius> pcwalton wrote a NES emulator in Rust. I haven't looked at it yet, but it might be an interesting example: https://github.com/pcwalton/sprocketnes
[01:10:49] <MaikKlein> i jsut read though a design patter book and they always had some sort of real life application 
[01:11:00] <MaikKlein> with pizza stores books stores etc
[01:11:07] <pcwalton> there is also Servo
[01:11:16] <cmr> Design patterns are themselves anti-patterns ;)
[01:11:17] <MaikKlein> thanks I'll have a look
[01:11:22] <pcwalton> http://github.com/mozilla/servo
[01:11:27] <pcwalton> look in src/components/
[01:11:39] <MaikKlein> thanks i will
[01:11:39] *** Joins: klapaucius (klapaucius@272B8F8B.5692770D.BB41F968.IP)
[01:11:47] <aatch> I generally find that the appropriate patterns fall out in my code if I do it well.
[01:12:30] *** Joins: jgilbert (jgilbert@moz-2B13D048.dynamic.hinet.net)
[01:12:32] <aatch> Knowing the patterns just means I recognise them faster and can be aware of the flaws
[01:12:49] <MaikKlein> I am really interested in object composition how I would do inheritance etc
[01:12:57] <MaikKlein> because the tutorial wasn't very clear about this
[01:13:00] <pcwalton> look at layout/flow
[01:13:11] <pcwalton> servo/src/components/servo/layout/flow.rs
[01:13:21] <pcwalton> that has a good example of an inheritance like pattern
[01:13:24] <pcwalton> using enums and structs
[01:13:25] <aatch> MaikKlein, inheritance isn't particularly useful in Rust though.
[01:13:36] <MaikKlein> that's what i thought :D
[01:13:37] <pcwalton> it's useful for heterogeneous doubly linked trees
[01:13:40] <cmr> MaikKlein: composition is different than inheritance (has-a vs is-a). rust has good composition, not-so-good inheritance
[01:13:41] <pcwalton> which the web platform is full of
[01:13:51] <aatch> So try not to think about Java/C++ style solutions too much
[01:13:52] <pcwalton> but Rust does that OK if you use the right pattern
[01:13:57] <brson> I'm going to change the Cell constructor to Cell::new
[01:14:00] <pcwalton> brson: +1
[01:14:12] <aatch> brson, it wasn't before?
[01:14:22] <pcwalton> nope, it was using the old style constructor naming conventions
[01:14:29] <MaikKlein> problem is i never really used a functional language
[01:14:31] <brson> A lot of times I find it unfortunate. Cell(foo) reads better, but it's not consistent
[01:14:32] *** Quits: jgilbert (jgilbert@moz-2B13D048.dynamic.hinet.net) (Ping timeout)
[01:14:40] <aatch> Oh, so now it'll be Cell::new and Cell::new_empty?
[01:14:45] <brson> Cell::empty
[01:14:54] <cmr> MaikKlein: http://lwn.net/Articles/548560/
[01:14:55] <brson> imo
[01:14:59] <MaikKlein> also does data hiding exist?
[01:15:11] <aatch> MaikKlein, yup, you can mark fields with priv
[01:15:15] <MaikKlein> thanks @ cmr haven't seen this article yet
[01:18:45] *** Quits: klapaucius (klapaucius@272B8F8B.5692770D.BB41F968.IP) (Ping timeout)
[01:19:06] *** Joins: jaguilar (Mibbit@moz-5182E345.hfc.comcastbusiness.net)
[01:20:24] *** Quits: brendan (brendaneic@45A3491F.A5FB4ABA.FE58E87C.IP) (Ping timeout)
[01:20:38] *** Joins: klapaucius (klapaucius@272B8F8B.5692770D.BB41F968.IP)
[01:22:17] *** Joins: sonwow (sonwow@5AB4884B.FCC4549.14D5B978.IP)
[01:23:19] *** Quits: klapaucius (klapaucius@272B8F8B.5692770D.BB41F968.IP) (Ping timeout)
[01:23:31] *** Quits: samx (sami@moz-4F80CE8B.dyn.optonline.net) (Ping timeout)
[01:25:33] *** Joins: samx (sami@moz-4F80CE8B.dyn.optonline.net)
[01:29:28] *** Joins: jgilbert (jgilbert@moz-99690620.hinet-ip.hinet.net)
[01:29:33] *** Quits: pcwalton (pcwalton@moz-BE33DA21.fw1.sfo1.mozilla.net) (Quit: pcwalton)
[01:29:35] *** Quits: samx (sami@moz-4F80CE8B.dyn.optonline.net) (Ping timeout)
[01:30:11] *** Joins: victorporof (victorporo@96E478A3.6D2FB7A4.79933D60.IP)
[01:30:55] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke. It's all a joke.)
[01:31:09] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[01:31:56] *** Quits: tikue (tkuehn@moz-BE33DA21.fw1.sfo1.mozilla.net) (Quit: tikue)
[01:32:00] *** Quits: eatkinson (eatkinson@moz-BE33DA21.fw1.sfo1.mozilla.net) (Quit: eatkinson)
[01:32:23] *** Quits: victorporof (victorporo@96E478A3.6D2FB7A4.79933D60.IP) (Ping timeout)
[01:32:23] *** Quits: bnicholson (bnicholson@2557E599.66715431.D25A875A.IP) (Ping timeout)
[01:33:42] <jaguilar> Hey dudes, is there any way to implement trait Zero for (float, float)? I tried it but I got a weird error: cannot provide an extension implementation for a trait not defined in this crate
[01:33:43] *** Quits: brson (brson@moz-BE33DA21.fw1.sfo1.mozilla.net) (Ping timeout)
[01:35:03] <aatch> jaguilar, how are you trying to implement it?
[01:35:32] <jaguilar> impl Zero for (float, float) { fn zero() -> (float, float) { (0., 0.) } }
[01:35:55] <aatch> rusti: impl Zero for (float, float) { fn zero() -> (float, float) { (0., 0.) } }
[01:35:55] <cmr> rusti: let a: (float, float) = (0, 0); a
[01:35:58] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/OBaJ
[01:35:58] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/DEdP
[01:36:12] <cmr> aw, no float inference?
[01:36:20] <aatch> rusti: impl num::Zero for (float, float) { fn zero() -> (float, float) { (0., 0.) } }
[01:36:23] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/jSWj
[01:37:43] <aatch> rusti: impl num::Zero for (float, float) { fn zero() -> (float, float) { (0., 0.) } fn is_zero(_:&(float,float)) -> bool { true } }
[01:37:49] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/cZDN
[01:38:09] <aatch> rusti: impl num::Zero for (float, float) { fn zero() -> (float, float) { (0., 0.) } fn is_zero(_:&self) -> bool { true } } 
[01:38:10] -rusti- foo.rs:5:99: 5:100 error: found `self` in ident position
[01:38:10] -rusti- foo.rs:5          impl num::Zero for (float, float) { fn zero() -> (float, float) { (0., 0.) } fn is_zero(_:&self) -> bool { true } } 
[01:38:10] -rusti-                                                                                                             ^
[01:38:10] -rusti- error: aborting due to previous error
[01:38:17] <aatch> rusti: impl num::Zero for (float, float) { fn zero() -> (float, float) { (0., 0.) } fn is_zero(&self) -> bool { true } } 
[01:38:18] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/iKNh
[01:38:40] <jaguilar> yeah, that's the same error i got
[01:38:41] <cmr> You can only implement traits you define, or on types you define, isn't it?
[01:38:59] <MaikKlein> I am trying to compile a rust library but I get the following error "use core::local_data unresolved name" is this not are rust core library?
[01:39:04] <aatch> cmr, I think it's related to the fact that Zero has Self as a type
[01:39:26] <cmr> MaikKlein: What version of rust are you using? local_data landed the other day, I think
[01:39:26] <aatch> which alters its semantics slightly
[01:39:38] <engla> cmr: either the trait or the type is "yours"
[01:39:43] <engla> for an impl
[01:39:56] <jaguilar> OK, so basically I'm up a creek if i want to call sum on a tuple?
[01:40:16] <MaikKlein> I got Rust today but not from the trunk
[01:40:25] <MaikKlein> its version 0.6
[01:40:33] <cmr> Yeah, 0.6 is rather out of date at this point.
[01:40:37] <aatch> MaikKlein, build from either incoming or master.
[01:40:43] <MaikKlein> ok thanks
[01:40:58] <aatch> (master is currently about a week behind incoming)
[01:41:34] *** Joins: Sodel_the_V (user@moz-853663E1.va.shawcable.net)
[01:41:52] <engla> jaguilar: I think you must make a wrapper type
[01:42:30] <jaguilar> OK, something like struct fpair : (float, float) {}?
[01:42:32] <jaguilar> that could work
[01:45:24] <engla> no
[01:45:31] *** Joins: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com)
[01:46:13] <MaikKlein> btw how fast does rust code compile compared to other languages such as java c# etc? I am happy with a very rough approximation :)
[01:46:24] *** Quits: tjc (tjc@A5087023.2354C43D.D8E68FF6.IP) (Quit: Places to go, people to annoy)
[01:47:02] *** Joins: seth (seth@moz-99690620.hinet-ip.hinet.net)
[01:47:21] *** Quits: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com) (Ping timeout)
[01:48:04] *** Joins: kvark (Mibbit@9A8A5739.49975FB2.AE2D72A6.IP)
[01:48:29] <cmr> comparing to java or c# isn't exactly sane because they compile to bytecode without doing any instruction selection etc.
[01:48:30] <MaikKlein> I mean do you think it will take as long as c++? or is it too early to make some decisions?
[01:48:32] <aatch> rust, it's hard to compare because there isn't any incremental compilation in rust
[01:49:10] <aatch> MaikKlein, rather.
[01:49:54] <kvark> Hi! Why is "@mut A as @mut T" bad while "@A as @T" is fine? Getting error: non-scalar cast: `@mut A` as `@mut T`
[01:49:55] <aatch> And unfortunately, my experience is either small toys or test cases, or rust itself
[01:50:33] *** Joins: bnicholson (bnicholson@moz-E98974C1.hsd1.ca.comcast.net)
[01:51:02] <cmr> MaikKlein: I don't think there are any apples-to-apples comparisons right now.
[01:51:11] <cmr> You might be able to compare compliation of the shootout benchmarks
[01:52:19] *** Quits: thomaslee_ (thomaslee@moz-6C3931E3.static.twtelecom.net) (Client exited)
[01:52:28] <kvark> rusti: struct A(int); trait T{} impl T for A{} @mut A(0) as @mut T
[01:54:01] <MaikKlein> where can I find those shootout benchmarks?
[01:54:27] <cmr> /src/test/bench/
[01:54:52] *** Joins: SimonSapin (simon@moz-99690620.hinet-ip.hinet.net)
[01:54:57] <MaikKlein> ah ok thanks
[01:56:48] *** Quits: paulproteus (quassel@rose.makesad.us) (Ping timeout)
[01:57:01] *** Joins: paulproteus (quassel@moz-E86A3B42.makesad.us)
[02:00:56] <MaikKlein> I am doing a ./configure and it does a submodule update. It now downloaded over 300mb, can this be right?
[02:01:09] <cmr> yes.
[02:01:13] <cmr> it's downloading llvm
[02:01:19] <cmr> and libuv (but that's fairly small)
[02:03:07] <jaguilar> one last question: is there any way to find out if the contents of two borrowed pointers are the same object? I don't mean logically equivalent. I mean exactly the same object.
[02:03:13] <jaguilar> well, maybe not last
[02:08:50] *** Quits: jgilbert (jgilbert@moz-99690620.hinet-ip.hinet.net) (Ping timeout)
[02:11:26] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Client exited)
[02:11:52] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[02:13:25] <cmr> graydon: I can definitely hook into trans_const to get the value of a constant like you said. However, I don't know if I can get an item, and thus its associated attributes, from there, given I only have an ast::expr and ast::node_id
[02:13:42] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Ping timeout)
[02:13:55] <engla> jaguilar: there is core::ptr::ref_eq
[02:14:47] <graydon> cmr: pub struct def_id { crate: crate_num, node: node_id }
[02:15:06] <graydon> cmr: pub static local_crate: crate_num = 0;
[02:15:25] *** Joins: int3_ (int3_@moz-B7B5F043.singnet.com.sg)
[02:15:38] <cmr> graydon: Is that enough to get the item?
[02:15:57] <graydon> oh, um..
[02:16:17] <graydon> possibly not. you might need to grab it from the calling side, that'd be .. 
[02:16:26] <cmr> (http://cdn.memegenerator.net/instances/400x/37735934.jpg)
[02:17:08] <graydon> rustc::middle::trans::base -> trans_item
[02:17:34] <cmr> Ohhh, and ast::item_const?
[02:17:43] <graydon> there's a branch at the end:      ast::item_const(_, expr) => consts::trans_const(ccx, expr, item.id), 
[02:17:49] <graydon> yeah
[02:17:57] <cmr> Alright, I see now.
[02:18:07] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[02:18:09] <cmr> This has the added benefit of not needing to walk the whole ast again :)
[02:18:21] <graydon> you could probably arrange to either pass the attrs in to trans_const and check in there; or get the ValueRef after it's translated on the calling side (trans_item) and check there
[02:18:31] <graydon> yes
[02:18:59] <cmr> Well I can just use get_item_val directly, I think?
[02:19:26] <graydon> oh, perhaps
[02:19:35] <graydon> there's a  bit of a feedback loop between the two, but it might work!
[02:19:43] <cmr> there's nothing in it that, to me, suggests it's not idempotent
[02:19:44] *** Joins: lmandel (lmandel@FE1F74.86ED00A7.971E19F6.IP)
[02:19:45] <graydon> (don't worry, I feel like that dog most of the time too)
[02:20:26] <cmr> it also seems it caches, so no big deal
[02:20:29] <graydon> I think trans_const and get_item_val call each other in a recursive relationship that somewhat cleverly incrementally updates a cache holding computed ValueRefs
[02:20:30] <graydon> but yeah
[02:20:44] <graydon> I mean, you'll know if it doesn't work
[02:20:50] <graydon> because everything will explode
[02:20:55] <cmr> heh
[02:21:52] *** Joins: samx (sami@moz-4F80CE8B.dyn.optonline.net)
[02:22:19] *** Quits: EXetoC (ex@moz-C741B177.customer.t3.se) (Quit: WeeChat 0.4.1)
[02:24:28] *** Quits: Sodel_the_V (user@moz-853663E1.va.shawcable.net) (Ping timeout)
[02:24:57] *** Quits: MaikKlein (Mibbit@moz-B7FC022D.dip0.t-ipconnect.de) (Quit: http://www.mibbit.com ajax IRC Client)
[02:25:01] *** Quits: samx (sami@moz-4F80CE8B.dyn.optonline.net) (Ping timeout)
[02:25:34] *** Quits: jaguilar (Mibbit@moz-5182E345.hfc.comcastbusiness.net) (Quit: http://www.mibbit.com ajax IRC Client)
[02:26:54] <zxcdw> I'm a bit lost here, if I have an impl for some type(say a struct in this case) and a fn with &self as a parameter, it seems that any assignment to a field of self, like "self.foo = bar;" is forbidden due to the field of self being immutable. How can I work around this so that I can assign to the field in self?
[02:26:54] *** Joins: rodumani (rodumani@EDE84898.F3F264D6.8C90971.IP)
[02:27:20] <cmr> zxcdw: &mut self
[02:28:07] *** Joins: jgilbert (jgilbert@moz-2B13D048.dynamic.hinet.net)
[02:28:53] *** Joins: alisdair (textual@moz-EBE9F394.bchsia.telus.net)
[02:29:08] <zxcdw> Ha, no wonder mut &self didn't work. Thanks. :)
[02:29:11] <cmr> graydon: How much do you care about #[static_assert("foo")]?
[02:29:46] *** Joins: samx (sami@moz-62B7FC03.dyn.optonline.net)
[02:29:49] *** Quits: catpig (catpig@moz-9B6886CA.dip0.t-ipconnect.de) (Quit: Verlassend)
[02:30:34] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[02:30:43] *** Joins: victorporof (victorporo@96E478A3.6D2FB7A4.79933D60.IP)
[02:32:41] *** Quits: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP) (Client exited)
[02:32:55] *** Quits: victorporof (victorporo@96E478A3.6D2FB7A4.79933D60.IP) (Ping timeout)
[02:32:56] <graydon> cmr: not too much at this point.
[02:33:12] <cmr> alright, makes it a lot simpler to implement
[02:35:02] *** Joins: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca)
[02:41:10] <Yurumechan> are there any examples of functional applications (not libraries) written in Rust, besides from rustc, servo, sprocketnes and rustray?
[02:45:59] <aatch> Yurumechan, if you don't mind semi-toys, theres a window manager called Cog on github
[02:46:09] *** Joins: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com)
[02:47:40] *** Joins: kimundi_ (kimundi@moz-5043E167.dip0.t-ipconnect.de)
[02:48:01] *** Quits: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com) (Ping timeout)
[02:48:11] *** Quits: kimundi (kimundi@moz-7D8AC97.dip0.t-ipconnect.de) (Ping timeout)
[02:48:11] *** kimundi_ is now known as kimundi
[02:48:28] *** Joins: a_m0d (a_m0d@moz-9F925EFA.hm.shawcable.net)
[02:52:57] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[02:53:12] *** Quits: rodumani (rodumani@EDE84898.F3F264D6.8C90971.IP) (Client exited)
[02:53:16] *** Joins: rodumani (Mibbit@EDE84898.F3F264D6.8C90971.IP)
[02:57:02] *** Joins: solancile (solancile@moz-A1CFFAE5.hsd1.wa.comcast.net)
[02:59:52] <bjz> Jeaye: ping
[03:00:13] <bjz> cyndis: hoya
[03:01:49] *** Joins: MaikKlein (Mibbit@moz-B7FC022D.dip0.t-ipconnect.de)
[03:01:57] *** Quits: BitPuffin (quassel@moz-8370D1B9.bredband.comhem.se) (Client exited)
[03:02:16] <cmr> graydon: should it be a fatal error?
[03:02:21] <cmr> Or just an error
[03:02:22] <MaikKlein> again I got a build error " error: type `*ll::GLFWmonitor` does not implement any method in scope named `to_option`" is to_option new too?
[03:03:06] <fread2281> Yurumechan: a rougelike, but for 0.5: https://github.com/eevee/clio
[03:03:14] <fread2281> *roguelike
[03:05:02] <cmr> MaikKlein: That's not a rust thing, that's a glfw-rs thing
[03:05:22] <cmr> MaikKlein: https://github.com/bjz/glfw-rs/blob/master/src/ll.rs#L28 it doesn't look like it implements anything
[03:05:30] <Jeaye> bjz: pong
[03:06:44] <bjz> MaikKlein: check you have the latest rust from incoming
[03:07:30] <MaikKlein> I only used the master
[03:07:58] <bjz> MaikKlein: yeah glfw-rs is based on incoming
[03:08:24] <MaikKlein> okay
[03:08:30] <MaikKlein> I will try it tomorow
[03:08:31] <MaikKlein> thanks
[03:08:35] <MaikKlein> good night @ all
[03:09:03] <cmr> bjz: how does that work? :s
[03:09:07] <bjz> Jeaye: have you had a chance to test it, or are you still at work?
[03:09:08] <cmr> where is to_option
[03:09:18] <bjz> cmr: core::ptr
[03:09:32] <Jeaye> bjz: Just got home. I'm updating Rust right now.
[03:09:32] <cmr> ah
[03:12:43] <cmr> 8 levels of indentation
[03:13:23] <bjz> ?
[03:13:46] <cmr> in this code in trans
[03:13:56] <bjz> heh
[03:14:37] *** Quits: a_make (a__@moz-250D9B4.nycmny.fios.verizon.net) (Ping timeout)
[03:14:44] *** Quits: MaikKlein (Mibbit@moz-B7FC022D.dip0.t-ipconnect.de) (Quit: http://www.mibbit.com ajax IRC Client)
[03:17:12] *** Joins: a_make (a__@moz-250D9B4.nycmny.fios.verizon.net)
[03:18:27] *** Quits: yong (chatzilla@74DA0C97.4E87ADC2.263D9828.IP) (Ping timeout)
[03:20:45] *** Joins: yong (chatzilla@74DA0C97.4E87ADC2.263D9828.IP)
[03:21:17] *** Quits: rodumani (Mibbit@EDE84898.F3F264D6.8C90971.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[03:21:18] <cmr> graydon: Well, it doesn't explode, that's good!
[03:21:34] <cmr> in stage2 now
[03:22:26] *** Joins: wilsonk|2 (kvirc@moz-39EFBFC2.cg.shawcable.net)
[03:22:27] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[03:22:59] *** Quits: wilsonk-laptop (kvirc@moz-39EFBFC2.cg.shawcable.net) (Ping timeout)
[03:26:45] *** Quits: telotortium (rmi1@moz-90BFA359.dhcp.mdsn.wi.charter.com) (Ping timeout)
[03:27:18] <zxcdw> I have a vector ~[~str] and call .len() on it, which works fine, but .capacity() isn't implemented for some reason? Something like this: https://gist.github.com/anonymous/5e9ddb8885daaaf5f8b8
[03:27:58] *** Quits: Sorella (queen@B12A78F5.BA14766C.95C8B7C6.IP) (Quit: (quit))
[03:28:05] <cmr> zxcdw: yeah, it's just vec::capacity, not a method
[03:28:21] <Yurumechan> fread2281: yeah, anything else?
[03:29:00] <aatch> its a free function because ~[] is implemented as a pointer to {len, data} pair
[03:29:25] <aatch> or possibly {len, capacity, data}, I forget exactly.
[03:30:19] <zxcdw> So it should be something like vec::capacity(s) instead of s.capacity()?
[03:30:26] <aatch> zxcdw, yep
[03:31:02] <zxcdw> Hmm, that however throws me "error: mismatched types: expected `&const ~[<V11>]` but found `~[~str]` (expected &-ptr but found vector)" :(
[03:31:13] *** Joins: victorporof (victorporo@96E478A3.6D2FB7A4.79933D60.IP)
[03:31:25] <aatch> oh, it should be &s
[03:31:51] <aatch> rusti: let v : ~[int] = ~[1,2,3]; vec::capacity(&v)
[03:31:53] -rusti- 4
[03:31:57] <zxcdw> Oh indeed! Thanks
[03:32:08] <aatch> rusti: let v : ~[int] = ~[1,2,3]; &v
[03:32:10] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/KTCO
[03:32:20] <aatch> rusti: let v : ~[int] = ~[1,2,3]; let a = &v; a
[03:32:21] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/NGiE
[03:32:40] <bjz> zxcdw: core::vec needs some TLC, lots of inconsistencies
[03:33:09] <aatch> bjz, unforunately, I'm not sure that it one that you can change easily
[03:33:10] <zxcdw> What would TLC stand for? :)
[03:33:20] *** Quits: victorporof (victorporo@96E478A3.6D2FB7A4.79933D60.IP) (Ping timeout)
[03:33:34] <bjz> zxcdw: Tender Love and Care :)
[03:33:40] <bjz> aatch: aye
[03:33:51] <zxcdw> Owh, ack!
[03:34:02] <bjz> ?
[03:34:06] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[03:34:18] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[03:34:55] <zxcdw> acknowledged :P
[03:38:28] <cmr> My rust build time dropped 2 minutes, that is pleasing.
[03:39:40] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[03:46:47] *** Joins: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com)
[03:48:28] *** Quits: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com) (Ping timeout)
[03:49:17] *** Quits: int3_ (int3_@moz-B7B5F043.singnet.com.sg) (Connection reset by peer)
[03:49:21] *** Joins: int3__ (int3_@moz-B7B5F043.singnet.com.sg)
[03:52:08] *** Quits: int3__ (int3_@moz-B7B5F043.singnet.com.sg) (Connection reset by peer)
[03:52:25] *** Joins: int3_ (int3_@moz-B7B5F043.singnet.com.sg)
[03:52:49] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[03:57:08] *** Joins: tikue (tkuehn@moz-CF8BEBEF.dia.static.qwest.net)
[04:02:50] *** Quits: jgilbert (jgilbert@moz-2B13D048.dynamic.hinet.net) (Ping timeout)
[04:07:33] <bjz> nmatsakis: when is TLS cleaned up?
[04:07:56] <bjz> nmatsakis: after all the destructors have been called?
[04:09:07] <bjz> nmatsakis: also, I have been trying to store a ~str in a @mut HashMap<*GLFWwindow, @mut WindowData> in TLS
[04:09:23] <bjz> the string being a field in @mut WindowData
[04:09:51] <bjz> but I get a memory error when I change it, then access it again
[04:11:33] *** Joins: dbaupp (Thunderbir@4A8A33CA.D5A1DCF.37681C44.IP)
[04:12:13] *** Joins: Sodel_the_V (user@moz-853663E1.va.shawcable.net)
[04:12:41] *** Quits: samx (sami@moz-62B7FC03.dyn.optonline.net) (Quit: This computer has gone to sleep)
[04:17:32] *** Joins: jgilbert (jgilbert@moz-99690620.hinet-ip.hinet.net)
[04:19:44] *** Quits: Sodel_the_V (user@moz-853663E1.va.shawcable.net) (Quit: Eaten by a grue)
[04:23:01] *** Joins: samx (sami@moz-62B7FC03.dyn.optonline.net)
[04:23:06] *** Quits: a_m0d (a_m0d@moz-9F925EFA.hm.shawcable.net) (Quit: Leaving.)
[04:23:23] *** Quits: samx (sami@moz-62B7FC03.dyn.optonline.net) (Quit: This computer has gone to sleep)
[04:26:31] *** Joins: heftig_ (heftig@moz-1493AB3.dip0.t-ipconnect.de)
[04:27:21] *** Quits: heftig (heftig@moz-C25BB677.dip0.t-ipconnect.de) (Ping timeout)
[04:29:55] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[04:30:29] *** Quits: dbaupp (Thunderbir@4A8A33CA.D5A1DCF.37681C44.IP) (Ping timeout)
[04:31:46] *** Joins: victorporof (victorporo@96E478A3.6D2FB7A4.79933D60.IP)
[04:32:48] *** Quits: tikue (tkuehn@moz-CF8BEBEF.dia.static.qwest.net) (Quit: tikue)
[04:33:55] *** Quits: victorporof (victorporo@96E478A3.6D2FB7A4.79933D60.IP) (Ping timeout)
[04:43:39] <cmr> graydon: \o/ it works!
[04:43:45] <cmr> graydon: thanks for the sheparding :)
[04:43:51] <cmr> Now to write more thorough tests
[04:44:03] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[04:44:43] *** Joins: steven_is_false (user@moz-144077DE.bchsia.telus.net)
[04:45:47] *** Quits: graydon (graydon@3853DDD.39EEDBB3.D758B1AA.IP) (Quit: Leaving.)
[04:45:50] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[04:47:24] *** Joins: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com)
[04:47:26] *** Joins: brson (brson@E9CDE21E.991753BB.CA4D1600.IP)
[04:47:26] *** ChanServ sets mode: +o brson
[04:48:00] <steven_is_false> Hi! I was curious, does it make sense to have the spawn function take a closure of type ~fn : Owned ()? (Of course, there'd have to be an automatic coercion as suggested by Issue #6599 if this was done.) It seems to make sense to me that the spawn function would only ever use it's function once but I don't know if I'm missing anything.
[04:49:08] <cmr> steven_is_false: what would happen if: for int::range(0, 10) { do spawn { 1+1 } }?
[04:49:14] *** Quits: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com) (Ping timeout)
[04:49:54] <cmr> (Genuine question; I don't know the semantics of a once fn)
[04:49:59] <steven_is_false> cmr: In that example each spawn function takes a different function. Furthermore, run many times functions should be automatically coercable to run once functions in my opinion.
[04:50:26] <cmr> steven_is_false: Erm, I'm not sure that's right. Closures aren't constructed at runtime.
[04:50:48] <cmr> What *is* a run once function, and what is the name if it can be run many times?
[04:50:48] <aatch> steven_is_false, as far as I am aware, one-shot functions aren't actually implemented at the moment
[04:50:59] <steven_is_false> rusti: for int::range(0, 10) { do spawn { println (fmt! ("%?", 1 + 1)) } }
[04:51:00] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/hHbK
[04:51:03] <aatch> one-shot closures rather.
[04:51:30] <steven_is_false> aatch: They're a bit buggy but they seem to work.
[04:51:53] <steven_is_false> rusti: let x : &fn :Owned () = || {}; "Works?"
[04:51:54] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/NARV
[04:52:14] <aatch> when did this happen?
[04:52:14] <cmr> strcat should really turn off some of the warnings
[04:52:26] <steven_is_false> rusti: let x : &fn :Owned () = || println ("FOO"); x (); x ()
[04:52:28] -rusti- FOO
[04:52:28] -rusti- FOO
[04:52:55] <steven_is_false> That's not right? I thought :Owned was the syntax for one shot functions?
[04:52:58] <aatch> So basically, they don't work.
[04:53:29] <steven_is_false> aatch: I guess not, unless I'm misunderstanding something.
[04:53:32] <cmr> Like I asked: one shot/once implies to me you can only call them once. Is that wrong?
[04:53:33] <bjz> Jeaye: sorry to nag, but did you manage to test it?
[04:54:04] *** Joins: pyrac (pyrac@moz-D851FA22.w92-149.abo.wanadoo.fr)
[04:54:18] <aatch> steven_is_false, also, the parser seems to suggest that ~once fn is for "onceness"
[04:54:52] <steven_is_false> rusti: let x : ~once fn () = || {}; "works?"
[04:54:54] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/fFeG
[04:55:21] <steven_is_false> rusti: let x : ~once fn () = || println ("works?"); x ()
[04:55:23] -rusti- works?
[04:55:29] <steven_is_false> rusti: let x : ~once fn () = || println ("works?"); x (); x ();
[04:55:31] -rusti- works?
[04:55:31] -rusti- works?
[04:55:47] <steven_is_false> rusti: let x : &once fn () = || println ("works?"); x (); x ();
[04:55:48] -rusti- works?
[04:55:48] -rusti- works?
[04:56:27] <steven_is_false> Okay, so once once functions are properly implemented does anybody think it'd make sense to have spawn take one?
[04:56:59] <steven_is_false> rusti: let x : &fn () = ||; let y : &once fn () = x; "works?"
[04:56:59] -rusti- foo.rs:5:28: 5:29 error: unexpected token: `;`
[04:56:59] -rusti- foo.rs:5          let x : &fn () = ||; let y : &once fn () = x; "works?"
[04:56:59] -rusti-                                      ^
[04:57:04] <steven_is_false> rusti: let x : &fn () = || { }; let y : &once fn () = x; "works?"
[04:57:06] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/gdWC
[04:57:07] <aatch> steven_is_false, seems like it
[04:57:43] <steven_is_false> aatch: okay
[05:00:01] <Jeaye> bjz: I did.
[05:00:08] <bjz> same error?
[05:00:12] <aatch> steven_is_false, hmm, looks like once-closures have some actual semantics after all.
[05:00:15] <Jeaye> bjz: glfw-rs seems to be fine (maybe).
[05:00:19] <bjz> yay
[05:00:23] <Jeaye> I'm getting a segfault after closing my app though
[05:00:29] <bjz> Jeaye: yikes
[05:00:32] <bjz> :(
[05:01:06] <Jeaye> Narrowing it down now
[05:01:24] <bjz> Jeaye: let me know if it's me
[05:01:28] <bjz> Jeaye: :)
[05:01:34] <steven_is_false> I really wish that Rust had debug-info working on incoming.
[05:01:42] <Jeaye> hehe, alright
[05:01:42] <cmr> I was just thinking the same thing
[05:01:47] <bjz> Jeaye: I'm sure you will :)
[05:02:08] <Jeaye> :P
[05:02:24] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[05:02:47] *** Joins: tikue (tkuehn@moz-CF8BEBEF.dia.static.qwest.net)
[05:04:28] <bjz> Jeaye: with glfw, you can unset callbacks by handing it a null pointer
[05:04:32] <aatch> steven_is_false: Ok, a small thing with once vs not-once that I have found:
[05:04:40] <aatch> rusti: let a = ~1u; let x : @fn () = || println(fmt!("%u", *a)); let y = x; x(); x(); y();
[05:04:42] -rusti- 1
[05:04:42] -rusti- 1
[05:04:42] -rusti- 1
[05:04:45] <aatch> rusti: let a = ~1u; let x : @once fn () = || println(fmt!("%u", *a)); let y = x; x(); x(); y();
[05:04:46] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/ehfC
[05:04:47] <bjz> Jeaye: should the callback functions take an option?
[05:04:54] <bjz> cyndis: ^
[05:05:29] <Jeaye> For what?
[05:05:43] <bjz> ie. the callback setters
[05:05:49] <steven_is_false> aatch: strange.
[05:06:15] <bjz> Jeaye: `fn set_key_callback(&self, cbfun: Option<KeyFun>)` instead of `fn set_key_callback(&self, cbfun: KeyFun)`
[05:06:43] <bjz> Jeaye: would mean you couldn't use the 'do' notation for setting the callback though
[05:07:02] <Jeaye> I like the 'do' syntax. :P
[05:07:13] <aatch> onceness seems to affect what can be aliased into a closure
[05:07:45] <bjz> Jeaye: I know :(
[05:08:07] <bjz> Jeaye: maybe I could have a 'remove_key_callback()' function
[05:08:20] <Jeaye> hmm
[05:08:25] <bjz> Jeaye: I just feel like I have a heap of methods
[05:08:33] <Jeaye> You do. :P
[05:10:28] <bjz> Jeaye: would window.set_cursor_pos_callback(Some(|_, x, y| camera.mouse_moved(x, y))); be that bad?
[05:10:53] <Jeaye> hmm
[05:10:59] <Jeaye> That's not too bad.
[05:11:08] *** Quits: int3_ (int3_@moz-B7B5F043.singnet.com.sg) (Client exited)
[05:12:03] <bjz> this is uglier though:
[05:12:04] <bjz> window.set_key_callback(Some(
[05:12:05] <bjz>     |window, key, action| {
[05:12:05] <bjz>         camera.key_action(key, action);
[05:12:05] <bjz>         key_callback(window, key, action);
[05:12:05] <bjz>     }
[05:12:05] <bjz> ))
[05:12:27] <Jeaye> This code seems so familiar. :P
[05:12:30] <bjz> but I assume many people will use free-standing functions
[05:12:45] <bjz> window.set_key_callback(Some(key_callback))
[05:12:50] <bjz> hehe
[05:13:27] * bjz is feeling like he is spending a huge amount of time on a wrapper
[05:13:35] <Jeaye> It's true.
[05:13:39] <cmr> You are
[05:13:44] <Jeaye> I'd say it's fine as it is, mate.
[05:13:49] <bjz> ok
[05:13:53] <Jeaye> Work on that game, or some numbers.
[05:14:05] *** Quits: ssbr (scorchsabe@A9D9D38C.B6F034AC.72A31D6.IP) (Connection reset by peer)
[05:14:05] <bjz> heh
[05:14:08] <cmr> or debug-info
[05:14:09] <Jeaye> We'll tell you if there are problems with glfw-rs. :P
[05:14:10] <cmr> ;)
[05:14:18] <Jeaye> Yeah, or debug-info
[05:14:18] <bjz> :)
[05:14:22] <Jeaye> Or static libs
[05:14:35] *** Joins: ssbr (scorchsabe@A9D9D38C.B6F034AC.72A31D6.IP)
[05:14:47] * bjz is too much of a perfectionist
[05:15:31] <bjz> trouble is the numbers are broken :)
[05:16:11] <bjz> can't do much else, so I'm shifting the furniture :)
[05:16:33] <Jeaye> lmath?
[05:16:46] <bjz> indeed
[05:16:53] <bjz> awaiting pcwalton's fix
[05:16:59] <aatch> Ok, so a copied upvar is considered non-aliasable in once closures. This means that it won't do the same checks for aliasing that it would otherwise
[05:18:11] <bjz> :(
[05:18:39] <bjz> Jeaye: I guess I could do som lmath docs
[05:19:07] <Jeaye> I might have some glfw-rs work for you if this shit ends up on your end. :(
[05:19:17] <Jeaye> I'm pretty close to narrowing it down
[05:19:25] <bjz> cool
[05:19:41] <bjz> probably will
[05:20:04] <Jeaye> *** Error in `./bin/q3': corrupted double-linked list: 0x090eef30 ***
[05:20:09] <Jeaye> Getting that a low
[05:20:12] <Jeaye> lot
[05:20:21] <bjz> the changes I made are important though, the way I had it before wasn't correct
[05:20:28] <Jeaye> Narrowed it down to the callbacks
[05:20:34] <bjz> awesome
[05:20:53] <bjz> I'm guessing something is being destroyed before it should
[05:23:53] <aatch> Ok, so it also looks like once fn's are non-copyable
[05:24:20] <Jeaye> bjz: You've a compiler error on the latest glfw-rs master
[05:25:53] <bjz> Jeaye: fixed, pushed
[05:26:00] <Jeaye> cheers
[05:26:14] *** Quits: rfw (rfw@moz-C65A114.rfw.name) (Ping timeout)
[05:27:09] <Jeaye> Changed window hints, eh?
[05:27:36] <bjz> yeah
[05:27:42] <bjz> documented too
[05:27:57] <bjz> I'm trying to add notes on where I diverge from the API
[05:28:29] <Jeaye> So what did the syntax change to?
[05:28:40] <bjz> it didn't
[05:28:51] <Jeaye> The old code doesn't work. :|
[05:28:52] <bjz> exactly the same
[05:29:00] <bjz> huh?
[05:29:17] <bjz> OH
[05:29:19] <Jeaye> src/main.rs:47:4: 47:44 error: unresolved name `glfw::window_hint::opengl_forward_compat`.
[05:29:20] <bjz> fffff
[05:29:20] <Jeaye> src/main.rs:47     glfw::window_hint::opengl_forward_compat(true);
[05:29:27] <bjz> they aren't public
[05:29:32] <Jeaye> heh
[05:30:27] <bjz> sorry, I forgot to build the examples before I pushed :(
[05:31:06] <bjz> fixed!
[05:31:35] <Jeaye> That's what I'm for. :P
[05:31:38] <Jeaye> Thanks!
[05:32:11] *** Joins: victorporof (victorporo@96E478A3.6D2FB7A4.79933D60.IP)
[05:32:40] *** Quits: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se) (Ping timeout)
[05:32:56] *** Quits: jgilbert (jgilbert@moz-99690620.hinet-ip.hinet.net) (Ping timeout)
[05:34:14] *** Quits: victorporof (victorporo@96E478A3.6D2FB7A4.79933D60.IP) (Ping timeout)
[05:34:36] *** Quits: lmandel (lmandel@FE1F74.86ED00A7.971E19F6.IP) (Ping timeout)
[05:34:56] <aatch> steven_is_false, fwiw, once fn's are considered a subtype of "many" fns
[05:36:16] <steven_is_false> aatch: okay
[05:36:28] <benh> I can never remember which way sub/super works
[05:36:32] <aatch> It just looks like they aren't fully done
[05:36:41] <benh> Shouldn't they be a supertype?
[05:36:55] *** Joins: rfw (rfw@moz-C65A114.rfw.name)
[05:37:06] <aatch> benh, if you follow Liskov's substitution principle, a subtype can be used anywhere a supertype can be used
[05:37:38] <benh> So a once-fn can be used anywhere a "many" fn can be used, like in |f| {f(); f();}
[05:37:41] <benh> ?
[05:37:56] <aatch> You can use a once type where a many type is expected, but you cannot use many type where are once type is expected.
[05:38:02] <aatch> benh, right.
[05:38:09] <benh> so... i... get to call once-fns twice?
[05:38:11] <aatch> Though I imagine that it will get more complicated.
[05:38:23] <aatch> benh, it's not finished yet, unfortunately.
[05:38:33] * aatch double checks the type-checking code.
[05:38:42] <Jeaye> bjz: Narrowed to one function
[05:38:49] *** Joins: lmandel (lmandel@FE1F74.86ED00A7.971E19F6.IP)
[05:38:49] <bjz> yay
[05:39:10] *** Quits: lmandel (lmandel@FE1F74.86ED00A7.971E19F6.IP) (Input/output error)
[05:39:39] <Jeaye> Ok, nailed it down to one thing.
[05:39:48] <Jeaye> But it looks like a Rust problem, honestly.
[05:40:09] <bjz> really?
[05:40:16] <bjz> what's wrong?
[05:40:19] <Jeaye> https://github.com/Jeaye/q3/blob/ui/src/main.rs#L63
[05:40:33] <Jeaye> That line, which captures camera and calls the function.
[05:40:51] <Jeaye> Even if I comment out the entire implementation of the mouse_moved function, I still get it.
[05:41:09] <Jeaye> Which means it's actually the act of calling the function on the camera object within the closure.
[05:41:52] <aatch> benh, you were right, I had it the wrong way round
[05:41:53] <cmr> r? https://github.com/mozilla/rust/pull/6670
[05:42:15] <Jeaye> brson: Know about it at all?
[05:43:14] <Jeaye> Invoking a function on a managed object captured in a closure? 
[05:43:27] <Jeaye> Function signature: https://github.com/Jeaye/q3/blob/ui/src/gl/camera.rs#L103
[05:47:25] <brson> Jeaye: that's new to me. I rarely use objects though.
[05:47:54] *** Joins: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com)
[05:49:06] <aatch> brson, do you have any pointers for implementing the scheduler handles?
[05:49:42] *** Parts: steven_is_false (user@moz-144077DE.bchsia.telus.net) (ERC Version 5.3 (IRC client for Emacs))
[05:49:43] *** Quits: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com) (Ping timeout)
[05:50:50] <Jeaye> Is there a Rust XML parser?
[05:52:28] <aatch> Jeaye, not as far as I know
[05:54:09] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[05:54:09] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/-yENKQ
[05:54:09] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[05:54:11] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[05:54:11] <ghrust> 01[13rust01] 15bors pushed 18 new commits to 06auto: 02http://git.io/ZtHAtQ
[05:54:11] <ghrust> 13rust/06auto 14f311010 15Patrick Walton: librustc: Disallow `use` from reaching into impls or traits....
[05:54:11] <ghrust> 13rust/06auto 148304c1c 15Patrick Walton: librustc: Disable borrow check debugging even when rustc is compiled with -O0....
[05:54:11] <ghrust> 13rust/06auto 14596f079 15Patrick Walton: test: Fix tests.
[05:54:12] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[06:01:54] *** Joins: webber46 (webber46@moz-F6310FF0.lha.sgsnet.se)
[06:03:06] *** Joins: int3_ (int3_@moz-B7B5F043.singnet.com.sg)
[06:03:29] *** Joins: berak (chatzilla@9CEB8D63.4742BCFA.1A5CC7E5.IP)
[06:03:34] *** Quits: pyrac (pyrac@moz-D851FA22.w92-149.abo.wanadoo.fr) (Quit: pyrac)
[06:03:40] *** Quits: Caseus (bacon@moz-9F046088.members.linode.com) (Ping timeout)
[06:03:40] *** Quits: friggle (friggle@moz-A607EAFA.members.linode.com) (Ping timeout)
[06:03:55] *** Quits: ivan (ivan@moz-531C3EC9.members.linode.com) (Ping timeout)
[06:03:55] *** Quits: bstrie (ben@moz-D5A1D0F5.members.linode.com) (Ping timeout)
[06:03:55] *** Quits: reed (reed@tech.monkey) (Ping timeout)
[06:03:56] *** Joins: bstrie (ben@moz-D5A1D0F5.members.linode.com)
[06:03:57] *** Joins: friggle (friggle@moz-A607EAFA.members.linode.com)
[06:03:58] *** Joins: Caseus (bacon@moz-9F046088.members.linode.com)
[06:04:23] *** Quits: dumitru (dgherman@moz-7C253BEB.getcadre.com) (Ping timeout)
[06:04:24] <bjz> oooh, yay!
[06:04:36] <bjz> pcwalton's thingy landed
[06:05:00] <bjz> a step towards lmath being fixed :)
[06:05:09] *** Joins: reed (reed@tech.monkey)
[06:05:16] <bjz> actually, not landed
[06:05:19] <bjz> being tested
[06:05:25] <aatch> landing
[06:05:27] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Connection reset by peer)
[06:05:27] *** Joins: ivan (ivan@moz-531C3EC9.members.linode.com)
[06:05:38] <bjz> neeeeowwwwwrrrr
[06:07:41] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[06:08:05] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[06:09:53] *** Joins: dumitru (dgherman@311ED075.DD6131A9.A746F37F.IP)
[06:11:06] *** Joins: haard (fredrik@moz-6A86987C.dynamic.se.alltele.net)
[06:12:53] *** Quits: webber46 (webber46@moz-F6310FF0.lha.sgsnet.se) (Quit: webber46)
[06:14:38] *** Joins: eatkinson (eatkinson@moz-5CF47426.dia.static.qwest.net)
[06:18:31] *** Joins: jviereck (Adium@moz-340574DC.dclient.hispeed.ch)
[06:20:23] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[06:20:45] *** Quits: jviereck (Adium@moz-340574DC.dclient.hispeed.ch) (Quit: Leaving.)
[06:23:33] <strcat> rusti: 5
[06:23:34] -rusti- 5
[06:25:04] *** Quits: Luqman (laden@moz-DCEF6040.csclub.uwaterloo.ca) (Ping timeout)
[06:26:07] *** Quits: Jeaye (Jeaye@moz-FD505E54.hsd1.ca.comcast.net) (Connection reset by peer)
[06:27:05] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[06:27:05] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14a15164a to 1415e4438: 02http://git.io/N3iJvQ
[06:27:05] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[06:27:08] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[06:27:08] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/fncIYw
[06:27:08] <ghrust> 13rust/06auto 14499b022 15Jyun-Yan You: fix arm stack alignment
[06:27:08] <ghrust> 13rust/06auto 148a4bffc 15bors: auto merge of #6667 : crabtw/rust/arm-rt, r=brson...
[06:27:08] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[06:31:36] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[06:32:34] *** Joins: fabiand (fabiand@moz-EEAE8A83.adsl.alicedsl.de)
[06:32:43] *** Joins: victorporof (victorporo@96E478A3.6D2FB7A4.79933D60.IP)
[06:34:47] *** Quits: victorporof (victorporo@96E478A3.6D2FB7A4.79933D60.IP) (Ping timeout)
[06:40:46] *** Joins: MaHtA (BaNoO@5782D19B.D733CE9D.EC076404.IP)
[06:41:34] *** Parts: MaHtA (BaNoO@5782D19B.D733CE9D.EC076404.IP) (1,1.12,12.11,11.0,0.11,11.12,12.1,1...7,7.8,8.0,0.8,8.7,7.1,1...4,4.13,13.0,0.13,13.4,4.1,1...3,3.9,9.0,0.9,9.3,3.2,2.13,1 â€¢^v^â€“[WiZarD ScRiPt By DeMoN ]â€“^v^â€¢   2,2.3,3.9,9.0,0.9,9.3,3.1,1...4,4.13,13.0,0.13,13.4,4.11,1...7,7.8,8.0,0.8,8.7,7.1,1...12,12.11,11.0,0.11,11.12,12.1,1.)
[06:43:32] *** Quits: tikue (tkuehn@moz-CF8BEBEF.dia.static.qwest.net) (Quit: tikue)
[06:44:15] *** Joins: deLta30 (quassel@85E736D9.D9426E46.622A08E2.IP)
[06:44:25] *** Joins: Palmik (palmik@moz-DADC71F0.pks.muni.cz)
[06:47:21] *** Quits: sonwow (sonwow@5AB4884B.FCC4549.14D5B978.IP) (Quit: leaving)
[06:48:31] *** Joins: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com)
[06:48:41] *** Joins: tikue (tkuehn@moz-CF8BEBEF.dia.static.qwest.net)
[06:48:47] *** Joins: webber46 (webber46@moz-F6310FF0.lha.sgsnet.se)
[06:50:23] *** Quits: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com) (Ping timeout)
[06:52:10] *** Joins: pyrac (pyrac@F9CC429.73C89388.AD05C589.IP)
[06:53:57] *** Quits: rpearl (rpearl@moz-2B41ACB5.andrew.cmu.edu) (Ping timeout)
[06:54:04] *** Quits: bblum (bblum@moz-2B41ACB5.andrew.cmu.edu) (Ping timeout)
[06:54:04] *** Quits: acrichto (acrichto@moz-17CABEB0.wv.cc.cmu.edu) (Ping timeout)
[06:54:04] *** Quits: rntz (rntz@moz-C76A8D96.sp.cs.cmu.edu) (Ping timeout)
[06:54:12] *** Quits: alisdair (textual@moz-EBE9F394.bchsia.telus.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[06:54:27] *** Joins: bblum (bblum@moz-2B41ACB5.andrew.cmu.edu)
[06:54:31] *** Joins: acrichto (acrichto@moz-17CABEB0.wv.cc.cmu.edu)
[06:54:37] *** Joins: rntz (rntz@moz-C76A8D96.sp.cs.cmu.edu)
[06:54:44] *** Joins: rpearl (rpearl@moz-2B41ACB5.andrew.cmu.edu)
[06:55:18] *** Joins: Jeaye (Jeaye@moz-FD505E54.hsd1.ca.comcast.net)
[06:55:41] <Jeaye> Best profiling solution for Rust on Linux?
[06:59:09] *** Quits: solancile (solancile@moz-A1CFFAE5.hsd1.wa.comcast.net) (Quit: Leaving)
[07:00:46] *** Quits: eatkinson (eatkinson@moz-5CF47426.dia.static.qwest.net) (Quit: eatkinson)
[07:01:13] <brson> Jeaye: perf
[07:01:23] *** Quits: int3_ (int3_@moz-B7B5F043.singnet.com.sg) (Client exited)
[07:02:20] *** Joins: int3_ (int3_@moz-B7B5F043.singnet.com.sg)
[07:03:28] *** Joins: jviereck (Adium@moz-A2DCE0DD.dclient.hispeed.ch)
[07:03:29] *** Quits: bent (chatzilla@moz-932324BF.hsd1.ca.comcast.net) (Quit: ChatZilla 0.9.90-rdmsoft [XULRunner 18.0.2/20130201065344])
[07:04:24] *** Quits: int3_ (int3_@moz-B7B5F043.singnet.com.sg) (Ping timeout)
[07:05:04] *** Quits: reed (reed@tech.monkey) (Ping timeout)
[07:06:45] *** Joins: reed (reed@tech.monkey)
[07:08:02] *** Quits: seth (seth@moz-99690620.hinet-ip.hinet.net) (Input/output error)
[07:08:10] *** Quits: tikue (tkuehn@moz-CF8BEBEF.dia.static.qwest.net) (Quit: tikue)
[07:08:55] *** Joins: seth (seth@moz-99690620.hinet-ip.hinet.net)
[07:10:35] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[07:12:02] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[07:13:48] *** kimundi is now known as zz_kimundi
[07:16:55] <eevee> whoops i didn't realize i hadn't pushed 0.6 for amulet yet
[07:17:14] *** Quits: paulproteus (quassel@rose.makesad.us) (Ping timeout)
[07:17:43] *** Joins: paulproteus (quassel@moz-E86A3B42.makesad.us)
[07:21:10] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[07:21:10] <ghrust> 01[13rust01] 15bors merged 06auto into 06incoming: 02http://git.io/fncIYw
[07:21:10] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[07:21:50] *** zz_kimundi is now known as kimundi
[07:24:02] *** Joins: int3_ (int3_@moz-B7B5F043.singnet.com.sg)
[07:24:27] *** Parts: berak (chatzilla@9CEB8D63.4742BCFA.1A5CC7E5.IP) ()
[07:25:46] *** Quits: webber46 (webber46@moz-F6310FF0.lha.sgsnet.se) (Quit: webber46)
[07:30:10] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Client exited)
[07:33:11] *** Joins: victorporof (victorporo@96E478A3.6D2FB7A4.79933D60.IP)
[07:34:13] *** Joins: BizarreCake (BizarreCak@32C9829A.151E84E7.561471F8.IP)
[07:34:33] *** Quits: devbug (quassel@moz-E1DE087C.bchsia.telus.net) (Connection reset by peer)
[07:35:30] *** Quits: victorporof (victorporo@96E478A3.6D2FB7A4.79933D60.IP) (Ping timeout)
[07:37:10] *** Quits: int3_ (int3_@moz-B7B5F043.singnet.com.sg) (Client exited)
[07:39:20] *** Joins: brendan (brendaneic@45A3491F.A5FB4ABA.FE58E87C.IP)
[07:40:25] *** Joins: doener (bs@moz-AA189A5A.unitymedia.biz)
[07:43:44] *** Quits: pyrac (pyrac@F9CC429.73C89388.AD05C589.IP) (Ping timeout)
[07:46:39] *** Joins: int3_ (int3_@moz-B7B5F043.singnet.com.sg)
[07:47:35] *** Joins: pyrac (pyrac@moz-7EFE8FFD.math.u-bordeaux1.fr)
[07:49:01] *** Joins: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com)
[07:49:31] *** Joins: donri (dag@moz-9BB61102.tbcn.telia.com)
[07:50:46] *** Quits: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com) (Ping timeout)
[07:55:26] *** Quits: int3_ (int3_@moz-B7B5F043.singnet.com.sg) (Client exited)
[07:56:38] *** Quits: haard (fredrik@moz-6A86987C.dynamic.se.alltele.net) (Ping timeout)
[07:56:53] *** Quits: Jeaye (Jeaye@moz-FD505E54.hsd1.ca.comcast.net) (Quit: zzzZZZzzz)
[07:57:42] *** Quits: brson (brson@E9CDE21E.991753BB.CA4D1600.IP) (Quit: leaving)
[08:06:03] *** Joins: dbaupp (Thunderbir@moz-856B3C14.lns20.syd6.internode.on.net)
[08:08:32] *** Quits: seth (seth@moz-99690620.hinet-ip.hinet.net) (Input/output error)
[08:08:46] *** Joins: Blub\w (wry@moz-D251D76.wireless.dyn.drei.com)
[08:09:04] *** Quits: SimonSapin (simon@moz-99690620.hinet-ip.hinet.net) (Ping timeout)
[08:10:50] *** Joins: seth (seth@moz-99690620.hinet-ip.hinet.net)
[08:11:01] *** Joins: tgt (tgt@moz-D59EE478.aztw.cable.virginmedia.com)
[08:11:10] *** Joins: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com)
[08:11:15] *** Quits: anshin (nbs@441B8B9E.2055B963.D2A6B5.IP) (Quit: Lost terminal)
[08:11:30] *** Quits: dbaupp (Thunderbir@moz-856B3C14.lns20.syd6.internode.on.net) (Quit: dbaupp)
[08:12:21] *** Quits: rfw (rfw@moz-C65A114.rfw.name) (Ping timeout)
[08:12:28] *** Joins: victorporof (victorporo@96E478A3.6D2FB7A4.79933D60.IP)
[08:12:39] *** Quits: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com) (Client exited)
[08:15:38] *** Joins: rfw (rfw@moz-C65A114.rfw.name)
[08:15:55] *** Joins: dbaupp (Thunderbir@moz-856B3C14.lns20.syd6.internode.on.net)
[08:19:26] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[08:20:11] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[08:24:04] *** Joins: SimonSapin (simon@moz-99690620.hinet-ip.hinet.net)
[08:25:29] *** Joins: CarpNet (ac@moz-FD24B77.sohonet.co.uk)
[08:28:09] *** Quits: Yurumechan (23f9939a@B2F514.E4420F21.EEF52F3A.IP) (Ping timeout)
[08:29:23] *** Joins: Yurumechan (23f9939a@B2F514.E4420F21.EEF52F3A.IP)
[08:30:34] *** Joins: haard (fredrik@moz-6A86987C.dynamic.se.alltele.net)
[08:37:50] *** Joins: rapha (Mibbit@moz-9B8221B3.rivrw1.nsw.optusnet.com.au)
[08:37:55] <rapha> hello
[08:38:08] <rapha> quick question about ReaderUtil
[08:39:09] <rapha> rusti: io::BytesReader{ bytes: ~[], pos:0 }.read_be_u32()
[08:39:10] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/aGDO
[08:40:45] <rapha> rusti: io::BytesReader{ bytes: ~[], mut pos:0 }.read_be_u32()
[08:40:46] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/iNBZ
[08:42:07] <rapha> okay, I'm using version 0.6, and it seams BytesReader is happy to return garbage when there are not enough bytes in its buffer to represent the appropriate number
[08:43:42] <rapha> what's the recommended way to handle this? Should I just check compare the pos to vec::len(reader.bytes) before each read?
[08:44:25] *** Quits: xenocons (otk@moz-C675529E.members.linode.com) (Ping timeout)
[08:44:27] *** Joins: xenocons (otk@moz-C675529E.members.linode.com)
[08:45:00] <dbaupp> rapha: that would work
[08:45:42] <rapha> Hmm, okay, is there something that'd give me a Result, or Option or something?
[08:45:43] <dbaupp> there hasn't been much work on the corner cases of the io library, because it's a dinosaur, and is going to be replaced with a completely new version of io
[08:46:07] <dbaupp> nope, don't think so, but you could write one yourself
[08:46:18] <rapha> yeah, I'll do that
[08:46:32] <rapha> where can I find info about the new io API?
[08:46:34] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Client exited)
[08:46:56] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[08:47:55] <dbaupp> rapha: nothing actually implemented, but there are few documents lying around
[08:48:21] <dbaupp> I think https://github.com/mozilla/rust/wiki/Lib-io (plus the stuff it links to) basically summarises the situation
[08:48:30] *** Joins: davbo (dave@moz-3FFA637C.oucs.ox.ac.uk)
[08:48:56] <dbaupp> also, https://github.com/mozilla/rust/tree/incoming/src/libcore/rt/io
[08:49:27] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Ping timeout)
[08:50:30] *** Quits: xenocons (otk@moz-C675529E.members.linode.com) (Ping timeout)
[08:50:59] <rapha> great, thanks a lot!
[08:53:25] *** Quits: rapha (Mibbit@moz-9B8221B3.rivrw1.nsw.optusnet.com.au) (Quit: http://www.mibbit.com ajax IRC Client)
[08:54:48] *** Quits: brendan (brendaneic@45A3491F.A5FB4ABA.FE58E87C.IP) (Quit: brendan)
[08:55:45] *** Joins: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP)
[08:56:01] *** Quits: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca) (Quit: ChatZilla 0.9.90 [Firefox 22.0/20130514181517])
[08:57:40] *** Joins: xenocons (otk@moz-C675529E.members.linode.com)
[09:14:16] *** Quits: tgt (tgt@moz-D59EE478.aztw.cable.virginmedia.com) (Quit: Computer has gone to sleep.)
[09:14:16] *** Quits: pyrac (pyrac@moz-7EFE8FFD.math.u-bordeaux1.fr) (Ping timeout)
[09:15:16] *** Joins: hoelzro (hoelzro@moz-937642A5.ro)
[09:17:06] <hoelzro> hi Rust developers, users, and enthusiasts!  I've been playing with Rust the last few days, and I was wondering if there is a way to get a raw pointer from a vector? (ex. ~[u8] -> *u8)
[09:18:40] <bjz> hoelzro: core::vec::raw::to_ptr?
[09:18:49] *** Quits: deLta30 (quassel@85E736D9.D9426E46.622A08E2.IP) (Connection reset by peer)
[09:19:07] <hoelzro> ah, I hadn't seen that =/
[09:19:25] *** Joins: deLta30 (quassel@59C67571.BB5F66CB.A05B35DF.IP)
[09:19:27] <bjz> :)
[09:19:31] <bjz> that's ok
[09:19:44] <thiez> the docs are fairly unreadable :D
[09:19:45] <cyndis> or vec::as_imm_buf
[09:19:51] <cyndis> i wonder what the difference is
[09:20:35] *** Joins: pyrac (pyrac@A9EC89DE.73C89388.AD05C589.IP)
[09:20:37] <cyndis> as_imm_buf seems to be safe
[09:20:58] <cyndis> ..but to_ptr is also.
[09:21:03] <thiez> let x: ~[u8] = ~[1,2]; core::vec::raw::to_ptr(x) as uint :)
[09:21:10] <thiez> rusti: let x: ~[u8] = ~[1,2]; core::vec::raw::to_ptr(x) as uint // :)
[09:21:11] -rusti- 140141295307120
[09:21:23] <doener> the as_*_buf functions accept a closure that takes the data pointer and the array size
[09:21:34] <doener> to_ptr just returns the pointer
[09:21:47] <cyndis> yes. i guess it's just a wrapper.
[09:25:33] <bjz> II think the butf ones might be safer due to the closure
[09:26:08] <bjz> I think it ensures the pointer is valid
[09:26:14] <thiez> rusti: let x: ~[u8] = ~[1,2]; let x_ptr = core::vec::raw::to_ptr(x) as uint; let mut x_imm = 0; do core::vec::as_imm_buf(x) |xx,_len|{x_imm = xx as uint} (x_ptr,x_imm) // cute, it works
[09:26:16] -rusti- (139972315187568, 139972315187568)
[09:26:22] <bjz> but don't take my word for it
[09:28:37] <thiez> it doesn't really matter, does it? you're going to be operating on an unsafe pointer anyway
[09:28:47] <cyndis> yes, they take a & so the data is frozen during the closure
[09:29:04] <thiez> cyndis: but you can easily let the pointer escape the closure, as can be seen in the above example
[09:29:25] <cyndis> ah, yeah
[09:29:28] <cyndis> that's true
[09:29:44] <strcat> the vec/str modules are full of duplication, cruft and bugs ;p
[09:30:25] <thiez> we're like perl, "there's multiple ways to do it" :p
[09:30:37] <hoelzro> thiez: then I'll feel right at home with Rust =)
[09:31:04] <kimundi> "there's multiple ways to do it, but there shouldn't be, and we're very sorry about that"
[09:31:07] * thiez throws some garlic and holy water at hoelzro.
[09:31:13] <strcat> thiez: not out of choice, just the old crufty modules
[09:31:28] <strcat> I guarantee you that 80% of the stuff in str/vec will go away
[09:31:52] <strcat> it's just a pain to work on them because the compiler uses them everywhere
[09:31:58] <thiez> I hope we don't drop the good stuff
[09:32:02] <strcat> other stuff is easier to modernize
[09:32:09] *** Quits: TD-Linux (TD-Linux@E338EB99.2B4F0AE0.A0A36CCE.IP) (Ping timeout)
[09:32:17] <strcat> thiez: ofc not... there's hardly anything done right in those modules though
[09:32:26] *** Quits: sk (sk@61A494B3.BA40E8A.AAC02D62.IP) (Input/output error)
[09:32:30] <thiez> on one hand I really like python's "there's one way to do it" philosophy, but then they chose all the wrong ways to do it :p
[09:32:31] *** Joins: TD-Linux (TD-Linux@E338EB99.2B4F0AE0.A0A36CCE.IP)
[09:32:48] <strcat> thiez: for example?
[09:33:31] <strcat> vectors shouldn't reimplement all of these functions that are already implemented for all iterables
[09:33:53] <kimundi> Ideally there should be one way to do it, but composable enough so that you can still use it in many ways
[09:34:04] <strcat> they shouldn't have two versions of everything (as a function and as a method)
[09:34:13] <thiez> strcat: I exaggerate, most of my problems with python are whitespace sensitivity and dynamic typing
[09:34:18] <strcat> and the stdlib shouldn't be using Copy at all - it should be using Clone if at all
[09:34:37] <strcat> 90% of the functions using Copy should just be removed though
[09:34:37] <kimundi> Like using an Iteraton so you can do both 'for iter.advance' and 'iter.to_vec()' for example
[09:35:26] *** Joins: EXetoC (ex@moz-C741B177.customer.t3.se)
[09:35:28] <strcat> list(iter), for x in iter: xs.append(x), [x for x in iter], list(x for x in iter)
[09:36:01] <thiez> perhaps you can make a bug of that, 'replace uses of vec.{some function that is also in iter} by their iter-equivalent'
[09:36:36] <thiez> I don't think iterators will change significantly?
[09:37:08] <strcat> core::iterator won't change
[09:37:58] <strcat> it will get bigger...
[09:38:16] <thiez> that's okay
[09:38:23] <thiez> iterators are nice
[09:38:47] *** Quits: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[09:38:47] *** Joins: bjz_ (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[09:41:46] *** Quits: pyrac (pyrac@A9EC89DE.73C89388.AD05C589.IP) (Quit: pyrac)
[09:44:29] *** Joins: brendan (brendaneic@9343535F.FC95818.5EFB9497.IP)
[09:48:51] *** Quits: KindOne (KindOne@A8739416.256A6F8A.EC6A1518.IP) (Ping timeout)
[09:49:02] *** Joins: z0w0 (zack@moz-780F7535.lns9.cha.bigpond.net.au)
[09:51:55] *** Joins: KindOne (KindOne@A8739416.256A6F8A.EC6A1518.IP)
[10:02:42] *** Quits: bjz_ (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[10:03:18] *** Quits: jviereck (Adium@moz-A2DCE0DD.dclient.hispeed.ch) (Quit: Leaving.)
[10:03:37] *** Joins: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[10:04:24] *** Quits: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Client exited)
[10:04:37] *** Joins: Mowah (Mowah@moz-B9D06A8A.cust.bredbandsbolaget.se)
[10:15:11] <indutny> rusti: fn p() -> uint { let x = ~[1]; for x.each() |_| { return break; } }; p()
[10:15:13] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/MUJA
[10:15:40] <indutny> rusti: fn p() -> uint { let x = ~[1]; for x.each() |_| { return if (true) { break } else { return 0} } return 1 }; p()
[10:15:41] -rusti- 139953754726800
[10:15:45] <indutny> hoya! :)
[10:15:56] <indutny> rusti: fn p() -> uint { let x = ~[1]; for x.each() |_| { return if (true) { break } else { 0} } return 1 }; p()
[10:15:57] -rusti- 140458280063376
[10:16:39] <kimundi> what is happening there?
[10:16:51] <dbaupp> woah
[10:16:54] *** Joins: tcsc (tcsc@moz-A838B260.dhcp.nwtn.ct.charter.com)
[10:18:08] <dbaupp> rusti: fn p() -> uint { for 1.times { return break; } 0 }; p()
[10:18:09] -rusti- 139710920335760
[10:18:42] <indutny> I think its returning undefined
[10:18:47] <kimundi> rusti: 0u - 1u
[10:18:48] -rusti- 18446744073709551615
[10:18:59] <indutny> its different each time
[10:19:02] <indutny> rusti: fn p() -> uint { let x = ~[1]; for x.each() |_| { return if (true) { break } else { 0} } return 1 }; p()
[10:19:03] <indutny> rusti: fn p() -> uint { let x = ~[1]; for x.each() |_| { return if (true) { break } else { 0} } return 1 }; p()
[10:19:03] -rusti- 139806896873872
[10:19:04] -rusti- 140478097228176
[10:19:11] <dbaupp> indutny: looks like it's returning a pointer
[10:19:12] <doener> rusti fn p() -> uint { for 1.times { return break; } 0 }; p() - p()
[10:19:17] <indutny> ah
[10:19:19] <doener> rusti: fn p() -> uint { for 1.times { return break; } 0 }; p() - p()
[10:19:21] -rusti- 0
[10:19:23] <indutny> even pointer
[10:19:25] <indutny> nice
[10:19:32] *** Joins: int3_ (int3_@moz-8B4FDD19.singnet.com.sg)
[10:19:42] <dbaupp> I'm having a look at the asm now
[10:19:54] <indutny> cool
[10:20:18] *** Joins: judder (maradukewa@CF01B517.FDE2B133.950D3BB5.IP)
[10:20:39] *** Joins: MaikKlein (Mibbit@moz-B7FC022D.dip0.t-ipconnect.de)
[10:20:54] <MaikKlein> is there something more up to date than incoming?
[10:20:59] <dbaupp> MaikKlein: nope
[10:21:22] <dbaupp> that's the first branch that each pull request gets merged into
[10:22:07] <dbaupp> rusti: fn p() -> uint { for 1.times { return break; } 0 }; p().to_str()
[10:22:08] -rusti- ~"140126307316112"
[10:22:20] <dbaupp> rusti: fn p() -> uint { for 1.times { return break; } 0 }; println(p().to_str())
[10:22:21] -rusti- 139833171186064
[10:23:05] <dbaupp> okay, compiling with optimisations makes it return the 0
[10:23:25] <MaikKlein> I get the following error in incoming while doing ./configure "configure: error: LLVM" probably a bug right?
[10:24:28] <dbaupp> MaikKlein: what platform?
[10:24:45] <MaikKlein> configuring LLVM for x86_64-unknown-linux-gnu
[10:24:50] <MaikKlein> its fedora 18
[10:26:07] *** Joins: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP)
[10:26:55] *** Joins: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[10:29:12] *** Joins: Maik_Klein (Mibbit@moz-AF3D0659.dip0.t-ipconnect.de)
[10:29:13] *** Joins: tiffany (kawaii@moz-1E0FE6E8.dhcp.embarqhsd.net)
[10:30:18] *** kimundi is now known as zz_kimundi
[10:30:25] <cmr> MaikKlein: can you paste the log somewhere? do you have a C++ compiler and all that jazz?
[10:30:26] <Maik_Klein> yeah old branches still build
[10:30:48] <Maik_Klein> yes i have gcc 4.7 and clang
[10:31:33] *** Quits: MaikKlein (Mibbit@moz-B7FC022D.dip0.t-ipconnect.de) (Quit: http://www.mibbit.com ajax IRC Client)
[10:31:56] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[10:32:07] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[10:32:28] <Maik_Klein> http://pastebin.com/aWb7igjh
[10:32:32] <Maik_Klein> this is in the terminal
[10:32:42] <Maik_Klein> is there an extra logfile somewhere?
[10:33:39] <cmr> no but that's good
[10:34:07] <cmr> It looks like LLVM wasn't cloned?
[10:34:14] <cmr> At least not properly
[10:34:18] *** Quits: int3_ (int3_@moz-8B4FDD19.singnet.com.sg) (Client exited)
[10:35:33] <Maik_Klein> yeah in the folder llvm there is just and empty build folder
[10:35:43] <Maik_Klein> called unknow linux gnu 
[10:35:44] <cmr> yeah that's not good!
[10:36:13] <dbaupp> indutny: have you filed a bug, or should I?
[10:36:21] <indutny> I can
[10:36:22] <indutny> one sec
[10:36:41] <dbaupp> I've got asm to quote and stuff, if you'd prefer me to?
[10:36:46] <indutny> ah
[10:36:50] <indutny> ok, do it :)
[10:37:04] <cmr> Maik_Klein: Try 'git submodule sync' and 'git submodule update'
[10:37:37] <cmr> git submodule update --init, that is
[10:37:45] <cmr> configure should have run those steps already though :s
[10:39:01] <Maik_Klein> I also havent cloned the reo I just downloaded the zip
[10:39:08] <Maik_Klein> how would I clone https://github.com/mozilla/rust/tree/incoming directly?
[10:39:12] <cmr> You don't
[10:39:27] <cmr> 'git clone https://github.com/mozilla/rust.git', 'git checkout incoming'
[10:40:32] *** Quits: SimonSapin (simon@moz-99690620.hinet-ip.hinet.net) (Ping timeout)
[10:40:34] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.1)
[10:42:10] *** Quits: Excureo (c@moz-DE8C33F1.static.yakm.wa.charter.com) (Ping timeout)
[10:42:24] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[10:43:29] *** zz_kimundi is now known as kimundi
[10:44:05] *** Quits: dbaupp (Thunderbir@moz-856B3C14.lns20.syd6.internode.on.net) (Ping timeout)
[10:47:57] *** Joins: dbaupp (Thunderbir@moz-C83F6225.lns20.syd6.internode.on.net)
[10:49:59] *** Joins: sk (sk@5F3B8500.CB2CB346.78DD174B.IP)
[10:51:09] *** Joins: jviereck (Adium@moz-A2DCE0DD.dclient.hispeed.ch)
[10:52:38] <Maik_Klein> i think this should also work git clone -b incoming https://github.com/mozilla/rust.git
[10:53:31] <cmr> Ah, yeah
[10:53:34] <cmr> it's equivalent though
[10:56:21] *** Joins: vmx (vmx@moz-72879273.pools.arcor-ip.net)
[10:57:39] *** Joins: Excureo (c@moz-DE8C33F1.static.yakm.wa.charter.com)
[11:00:08] <Maik_Klein> okay now it is working thanks
[11:06:46] <Maik_Klein> btw how do you keep your rust up to date? if I compile the newest branch and do sudo make install, I still have the old files, so I have to manually delete them. Is it possible to automate this process? 
[11:07:21] <dbaupp> Maik_Klein: `make install` will overwrite them
[11:07:38] <dbaupp> the only problem is when there is a version upgrade, then you do have to delete the old ones
[11:07:45] <dbaupp> indutny: https://github.com/mozilla/rust/issues/6675
[11:08:22] *** Joins: hjr3 (hradtke@AF4FC8FE.D2A4E84D.523CBD62.IP)
[11:14:13] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[11:14:59] *** Joins: pyrac (pyrac@moz-92E98DFD.math.u-bordeaux1.fr)
[11:15:47] *** Quits: pyrac (pyrac@moz-92E98DFD.math.u-bordeaux1.fr) (Quit: pyrac)
[11:16:04] <Maik_Klein> btw how long do you need for a full compile?
[11:16:58] <kimundi> Maik_Klein: make install overwrites, make uninstall deletes the files, git pull upgrades the git repo
[11:17:16] *** Joins: Sodel_the_V (user@moz-853663E1.va.shawcable.net)
[11:17:16] <kimundi> Maik_Klein: it always takes long
[11:17:30] *** Joins: pyrac (pyrac@moz-92E98DFD.math.u-bordeaux1.fr)
[11:17:36] <dbaupp> Maik_Klein: the fastest is about 15(?) for LLVM + 10-15 minutes for rustc, but it's not unusual to be an hour
[11:17:45] <kimundi> But especially long on first build because llvm
[11:18:01] <dbaupp> depends on the computer, particularly on if it has more than 2.5 GB of RAM free
[11:18:07] *** Quits: pyrac (pyrac@moz-92E98DFD.math.u-bordeaux1.fr) (Quit: pyrac)
[11:18:14] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[11:18:14] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/wSzGpg
[11:18:14] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[11:18:17] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[11:18:17] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/EVf84g
[11:18:17] <ghrust> 13rust/06auto 14da94580 15kud1ing: "Type :help for help", similar to ghci
[11:18:17] <ghrust> 13rust/06auto 14b6a0d40 15bors: auto merge of #6671 : kud1ing/rust/patch-1, r=z0w0
[11:18:18] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[11:18:33] <Maik_Klein> yeah i have an i7 ssd and 8gb ram it usally takes 45min with llvm 
[11:19:00] <dbaupp> hm, maybe the 15 minutes was some rosy-eyed glasses on my part
[11:19:21] <Maik_Klein> does  "make" make use of multicores?
[11:19:37] <dbaupp> but, yeah, rustc should be about 20 minutes (that's what it is on my laptop with i7, ssd and 8gb of ram ;) )
[11:19:48] <benh> make -j9 buys you something when building llvm, but nothing for the rustc bits afaik
[11:19:56] <dbaupp> For LLVM yes, but rustc bootstrapping is single threaded
[11:19:57] <benh> for varying values of 9
[11:21:45] <Maik_Klein> ok now i let a timer run
[11:22:07] <benh> It's like laptops with i7 and 8gb of ram are some sort of universal standard in here
[11:22:47] *** Quits: KindOne (KindOne@A8739416.256A6F8A.EC6A1518.IP) (Connection reset by peer)
[11:22:56] <tiffany> I have an i3 with 4gb of ram
[11:22:58] <Maik_Klein> :D
[11:23:26] <Maik_Klein> let me guess -> asus ultrabook?
[11:23:41] <dbaupp> yup, asus ux31a
[11:23:41] <tiffany> acer, actually
[11:23:48] <tiffany> oh, you didn't mean me
[11:23:54] <Maik_Klein> i mean the one with the i7 ;D
[11:24:15] *** Joins: KindOne (KindOne@A8739416.256A6F8A.EC6A1518.IP)
[11:24:20] <Diablo-D3> [07:20:22] <benh> It's like laptops with i7 and 8gb of ram are some sort of universal standard in here
[11:24:27] *** Quits: brendan (brendaneic@9343535F.FC95818.5EFB9497.IP) (Quit: brendan)
[11:24:28] <Diablo-D3> I have a mbp 13" retina
[11:24:35] <Diablo-D3> so ivy bridge + 8gb.
[11:24:40] <benh> :D
[11:25:08] *** Parts: z0w0 (zack@moz-780F7535.lns9.cha.bigpond.net.au) ()
[11:25:15] <benh> mine is from some embarassing german clevo reseller that was the only place i could find 1080p screens at the time...
[11:25:36] <Maik_Klein> :D also have a retina
[11:25:44] <Maik_Klein> "retina" like
[11:25:57] *** Joins: Yurume (yurume@AC58A8CE.8A059B47.E313B915.IP)
[11:25:58] <dbaupp> why is it so hard to find 1080p screens!? </rant>
[11:26:05] *** Quits: Jesin (Jessin_@moz-5654D37.washdc.fios.verizon.net) (Ping timeout)
[11:26:13] <Maik_Klein> kinda abandoned my real pc 
[11:26:49] <benh> dbaupp: how else are they going to sell you a huge tv that you plug your fancy media station into
[11:30:10] *** Quits: Sodel_the_V (user@moz-853663E1.va.shawcable.net) (Quit: Eaten by a grue)
[11:30:28] *** Quits: fabiand (fabiand@moz-EEAE8A83.adsl.alicedsl.de) (Ping timeout)
[11:30:40] *** Joins: fabiand (fabiand@moz-EEAE8A83.adsl.alicedsl.de)
[11:32:01] <Maik_Klein> the rust compiler is so good in finding potential errors, kinda blows my mind 
[11:32:31] <dbaupp> have you tried Haskell? ;D
[11:32:43] <Maik_Klein> nope :D
[11:32:46] <dbaupp> (your head will be past jupiter :P )
[11:33:07] <benh> Haskell needs a borrow checker so I'm not tempted to let values escape from those withFoo $ \f -> ... blocks all the time!
[11:33:33] <dbaupp> heh
[11:33:38] *** Quits: noam__ (noam@F6B530A7.720527A7.416762B.IP) (Connection reset by peer)
[11:33:50] *** Quits: heftig_ (heftig@moz-1493AB3.dip0.t-ipconnect.de) (Ping timeout)
[11:33:54] *** Quits: kimundi (kimundi@moz-5043E167.dip0.t-ipconnect.de) (Ping timeout)
[11:34:10] <Maik_Klein> the only reason why I haven't tried haskell is that I am mainly programming real time applications and I am scared of haskells gc
[11:34:21] <benh> (this Disciple thing sounded fairly scary, but I haven't looked at it...)
[11:34:27] *** Joins: noam (noam@F6B530A7.720527A7.416762B.IP)
[11:34:30] *** Joins: heftig_ (heftig@moz-1493AB3.dip0.t-ipconnect.de)
[11:34:31] <Maik_Klein> but i always was into functional languages
[11:34:36] *** Quits: wuwei`lab (wuwei@1A513F49.818D7924.FAA9ED67.IP) (Ping timeout)
[11:35:07] *** Quits: noam (noam@F6B530A7.720527A7.416762B.IP) (Connection reset by peer)
[11:35:18] *** Joins: noam (noam@F6B530A7.720527A7.416762B.IP)
[11:35:21] *** Joins: zz_kimundi (kimundi@moz-5043E167.dip0.t-ipconnect.de)
[11:35:26] *** zz_kimundi is now known as kimundi
[11:35:29] <Maik_Klein> btw have you seen https://air.mozilla.org/rust-gc/ ?
[11:35:42] <dbaupp> Haskell compilers are pretty smart (specifically, GHC) and with some finesse, you can get it to avoid GC mostly
[11:35:58] *** Joins: wuwei`lab (wuwei@1A513F49.818D7924.FAA9ED67.IP)
[11:36:06] <dbaupp> (ok, often, some finesse == a lot of skill and hackery)
[11:36:07] *** Quits: noam (noam@F6B530A7.720527A7.416762B.IP) (Connection reset by peer)
[11:36:14] <Maik_Klein> :D
[11:36:20] *** Joins: brendan (brendaneic@9343535F.FC95818.5EFB9497.IP)
[11:36:22] *** Joins: noam (noam@F6B530A7.720527A7.416762B.IP)
[11:36:23] <Maik_Klein> does it also stop your code?
[11:37:08] <dbaupp> Well, I don't know everything, but I think it stops on a per-thread basis
[11:37:27] <dbaupp> *everything about GHC
[11:37:34] <dbaupp> (clearly I don't know everything)
[11:37:38] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[11:37:40] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[11:38:05] <benh> The ghc scheduler basically uses cooperative multitasking with yield points in gc calls, right...?
[11:38:39] <benh> Do they track whether memory escapes over thread boundaries for the gc?
[11:39:23] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[11:39:26] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[11:39:28] *** Quits: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[11:40:05] <Maik_Klein> I just watched https://air.mozilla.org/rust-gc/ yesterday and it seems like a really good approach but I am very inexperienced.  It kinda seems like a win win situation but I am still looking for the catch.
[11:40:40] *** Joins: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[11:41:47] <dbaupp> benh: I've got no idea
[11:43:36] *** Quits: wuwei`lab (wuwei@1A513F49.818D7924.FAA9ED67.IP) (Ping timeout)
[11:44:00] *** Joins: wuwei`lab (wuwei@1A513F49.818D7924.FAA9ED67.IP)
[11:44:50] <strcat> Maik_Klein: 9 months ago is pretty ancient in rust time, what specifically is it about?
[11:45:54] *** Quits: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[11:46:24] <Maik_Klein> if i understood it correctly the gc doesn't stop your code at all (or only 1 thread?)
[11:46:56] <Maik_Klein> btw does the standard library use the @?
[11:47:13] <dbaupp> Maik_Klein: yes, but it's being removed as much as possible
[11:48:33] <dbaupp> I think the worst offender is `core::io`, i.e. it's entirely @'d, but io's being rewritten and (I think/hope) the new version won't have @'s
[11:48:41] <lucian> Maik_Klein: there are only a few cases where @ is necessary (like persistent data structures) and there's a lint mode for banning @
[11:48:46] *** Quits: thiez (thiez@moz-BF669398.student.utwente.nl) (Ping timeout)
[11:49:03] <strcat> Maik_Klein: it's stop-the-task, since @ is task-local
[11:49:15] <strcat> well, will be - it's not landed yet
[11:49:31] <benh> "currently, the gc takes 0% execution time"!
[11:49:51] <Maik_Klein> so they are doing reference counting atm?
[11:50:03] <strcat> Maik_Klein: yes and cycles are freed at the end of the task
[11:50:09] <strcat> not how it's intended to be, just how it's implemented atm
[11:50:17] <dbaupp> strcat: nmatsakis just sent an email proposing some @'s could be shared between tasks (as far as I understand)
[11:50:20] <Maik_Klein> ok
[11:50:25] <benh> gasp
[11:50:30] <dbaupp> Maik_Klein: graydon's got a fancy new GC almost complete
[11:50:43] <dbaupp> but getting it to land is meeting problems
[11:51:26] <Maik_Klein> @dbaupp  I don't think that @ can be shared between tasks, at least the tutorial that I read told me that, only the ~ can be "shared"
[11:51:50] <dbaupp> Maik_Klein: yup, that is correct. (this is a proposed feature)
[11:52:03] <benh> I didn't realie fn:Const() (or however you spell it) was going to be a thing
[11:53:18] <Maik_Klein> btw rust uses tasks and not actors right?
[11:53:44] *** Quits: KindOne (KindOne@A8739416.256A6F8A.EC6A1518.IP) (Ping timeout)
[11:54:19] *** Joins: KindTwo (KindOne@40FC3A40.256A6F8A.EC6A1518.IP)
[11:54:21] <lucian> Maik_Klein: they're called tasks. do you mean some semantic difference?
[11:54:28] *** KindTwo is now known as KindOne
[11:55:26] <Maik_Klein> I know that tasks exit but I never really used them, I only heard about Actors several months ago and it kinda looks like actors to me.
[11:55:37] <Maik_Klein> exists*
[11:55:48] <benh> re: Share/Const: Herb Sutter (I think) had a presentation on how const in C++11 basically means threadsafe now, so that seems seasonable :)
[11:56:06] <lucian> Maik_Klein: the tasks share no memory implicitly and are scheduled M:N by default (although 1:1 is possible)
[11:56:34] <Maik_Klein> so actors can share memory?
[11:57:18] <lucian> not in most models i know of, no
[11:57:50] <lucian> they're quite similar. it depends on which definition of "actor" you use
[11:58:55] <strcat> benh: Const is unrelated to 'const' in C
[11:58:56] <Maik_Klein> I only know haskells actor model
[11:59:07] <strcat> (and C++)
[11:59:37] <benh> shrug. sutter said it describes bits that can be shared between threads without running into problems, with seems like what Share wants to suggest
[11:59:54] <benh> i just think it's apropos ;)
[12:00:39] *** Quits: KindOne (KindOne@40FC3A40.256A6F8A.EC6A1518.IP) (Ping timeout)
[12:00:40] <strcat> benh: it doesn't actually describe that in C though
[12:00:58] <strcat> because const only means read-only *through that pointer/reference*, not read-only
[12:01:31] <strcat> it can catch some mistakes but it doesn't provide safety
[12:01:34] *** Joins: KindOne (KindOne@40FC3A40.256A6F8A.EC6A1518.IP)
[12:02:30] <benh> ( http://media.ch9.ms/ch9/b648/6ebef5c4-c798-4856-8e28-88439928b648/CB2012HerbSutterYouDontKnow_mid.mp4 fwiw)
[12:02:57] <benh> (looking at around 7 minutes in)
[12:03:06] <Maik_Klein> hm if I compile a lib say libglfw-12312313123131.so and the example code tells me "extern mod glfw;" where would I have to put the .so file?
[12:03:07] <cmr> strcat: As to @ not leaking: it might not leak past the task boundary, but it certainly does within the task
[12:03:08] <lucian> Maik_Klein: it's very much like haskell's model, then
[12:03:17] <strcat> cmr: gc isn't any different
[12:03:31] <strcat> cmr: the worst-case is that it doesn't do anything, and everything is cleaned up at the end of the task
[12:03:31] <Maik_Klein> @lucian okay thanks
[12:03:42] <cmr> Maik_Klein: Anywhere. Pass -L that_directory to rustc.
[12:04:21] <dbaupp> Maik_Klein: (in theory, rustpkg will soon start helping you manage all that... something to look forward too :) )
[12:04:24] <cmr> strcat: oh, I see what you're saying now
[12:04:40] <strcat> and it will be conservative on the stack so it will "leak" more
[12:04:57] <strcat> cycles are usually pretty rare
[12:05:13] <Maik_Klein> okay nice :)
[12:05:55] <Maik_Klein> could I also put in in my /usr/lib folder and just do a -lglfw-1231231 ?
[12:06:17] <kimundi> Not sure if rustc looks in there
[12:06:21] <strcat> Maik_Klein: if it's in your library path you don't need to do anything special
[12:06:22] <strcat> kimundi: it does
[12:06:26] <kimundi> okay
[12:06:31] *** Joins: lucian_ (lucian@moz-D82F7974.zone16.bethere.co.uk)
[12:06:33] <Maik_Klein> ah okay cool
[12:06:38] * kimundi has no idea how that stuff works
[12:06:41] <strcat> rust just asks gcc to link
[12:06:47] <cmr> Maik_Klein: YOu really shouldn't be mucking up /usr with your own stuff, at the very least you should be using /usr/local as your prefix
[12:06:48] <strcat> -L just adds a linker path
[12:06:54] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[12:06:54] *** Quits: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP) (Ping timeout)
[12:07:00] <strcat> cmr: easy enough to package stuff
[12:07:02] <Maik_Klein> ah ok well I am on fedora
[12:07:05] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[12:07:17] <Maik_Klein> and there I have to link everything explicitly 
[12:07:31] <cmr> Not if you add it to your path in /etc/ld.so.conf :)
[12:08:08] <cmr> (or LD_LIBRARY_PATH if you don't want it global)
[12:08:31] <strcat> Maik_Klein: the distro doesn't really matter
[12:08:38] <strcat> rustc calls the linker appropriately
[12:08:46] <strcat> the code contains the instructions needed to link it
[12:08:58] *** Quits: Blub\w (wry@moz-D251D76.wireless.dyn.drei.com) (Quit: bbl)
[12:10:15] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[12:10:15] *** ChanServ sets mode: +o dherman
[12:12:17] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[12:12:17] <ghrust> 01[13rust01] 15bors merged 06auto into 06incoming: 02http://git.io/EVf84g
[12:12:17] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[12:12:29] <Maik_Klein> do I need to use rustc? and not something like rust build -lglfw-13f753cda49c681f-0.1 hello.rs 
[12:13:16] <cmr> rust build is an alias for rustc, they're equivalent
[12:13:50] <cmr> You don't need -lglfw... though, it will pull in what it needs.
[12:15:47] <EXetoC> oh right, it only needs to be in the path. kinda neat
[12:16:26] <kimundi> nmatsakis: ping
[12:17:43] *** Joins: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se)
[12:18:14] <Maik_Klein> hm I only could build it like this "rustc -L/home/maik/glfw-rs/lib hello.rs "
[12:18:34] <Maik_Klein> but if I try to run it I get "./hello: error while loading shared libraries: libglfw.so.3: cannot open shared object file: No such file or directory"
[12:19:05] <dbaupp> do you have the glfw package installed?
[12:19:05] <strcat> Maik_Klein: -L doesn't tell it to link
[12:19:12] <strcat> Maik_Klein: it adds a path to the linker search path
[12:19:22] <kimundi> Maik_Klein: Do you have glfw3 itself installed?
[12:19:28] <Maik_Klein> @dbaupp yes I also compiled the .so files
[12:19:32] <Maik_Klein> yes
[12:19:38] <Maik_Klein> with compiled .so files
[12:19:54] <strcat> gcc only looks in the paths from /etc/ld.so.conf, /etc/ld.so.conf.d/ and the hardcoded ones by default
[12:20:17] <strcat> so it won't find a library in an arbitrary directory without being given that directory path
[12:22:03] *** Joins: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[12:23:21] <Maik_Klein> http://stackoverflow.com/a/16638134/944430 I think in fedora I also have to link the libglfw.so.3 somehow
[12:23:54] <strcat> Maik_Klein: it already links it
[12:24:01] <strcat> the linking instructions are in the source code
[12:25:19] <Maik_Klein> so what do I have to do? also add the -l ?
[12:25:38] <strcat> are you getting an error?
[12:26:07] <Maik_Klein> not if I do rustc -L/home/maik/glfw-rs/lib hello.rs
[12:27:01] <strcat> ok so you don't need to add anything
[12:27:36] <strcat> if it was in a directory already in the search path you wouldn't need -L
[12:27:54] <benh> is it a bug or by now a feature that lines that are just /// are not doc comments and consequently you can't have ///-doc comments with multiple paragraphs?
[12:28:04] <strcat> benh: bug
[12:28:59] <benh> it seems like a trivial change of adding "s.len() > 3" to the definition of not-really-doc-comments but instead everybody is happily using /**-doc comments when they want multiple paragraphs
[12:30:00] <kimundi> benh: If you know how to fix it, please do ;)
[12:30:17] <benh> well i have a suspicion :D
[12:31:04] *** Joins: MaikKlein (Mibbit@moz-5F822E06.dip0.t-ipconnect.de)
[12:31:13] <MaikKlein> damn disconnect :X
[12:32:55] <benh> also is it a bug that the pretty printer changes the order of comments if some of them are doc comments that come before comments that come before the item the doc comments apply to?
[12:33:26] <benh> i recall /** foo */ /* bar */ fn f() {} got turned into /* bar */ /** foo */ fn f() {}
[12:34:46] *** Quits: Maik_Klein (Mibbit@moz-AF3D0659.dip0.t-ipconnect.de) (Quit: http://www.mibbit.com ajax IRC Client)
[12:37:21] <MaikKlein> okay
[12:37:22] <MaikKlein> strange
[12:37:38] <MaikKlein> I had to do rustc -L/usr/local/lib hello.rs 
[12:37:45] <MaikKlein> and now it works
[12:40:14] <benh> whoops, i made a two lines change and I'm rebuilding everything
[12:40:23] <benh> I just asked yesterday or so how to avoid that :(
[12:40:31] <kimundi> benh: Anything that changes the order if there is no good reason for it is a bug
[12:42:16] <benh> I really miss the new issue button on the issue search
[12:45:47] <MaikKlein> btw how efficient is it to call c code? there is probably an overhead right?
[12:45:53] <benh> I'm filing the pettiest issues here ;)
[12:46:17] <dbaupp> MaikKlein: yes, but it's getting smaller and smaller
[12:46:31] <benh> Does anyone else feel like multiple successive lines of doc comments with only non-\n spaces between them should be a single lexical token?
[12:46:38] <benh> i mean ///-ones
[12:47:24] <MaikKlein> also can I also call c++ code yet? if not is this planed?
[12:48:19] <benh> only if the C++ code masquerades as C code, right now ;) it's not *planned* but I think sanxiyn has indicated interest in implementing a limited C++ FFI 
[12:48:46] *** Joins: maxli (maxli@F2D29657.F60B0462.67AC9B1.IP)
[12:50:01] <MaikKlein> okay nice because I really want to port http://glm.g-truc.net/ to rust
[12:50:41] <MaikKlein> or I will make a native port
[12:52:06] <kimundi> MaikKlein: The only problem with calling C code is that C assumes an 'infinite' large continious stack, while rusts stacks are fairly small and segemented. So, if you call a C function rust has to make sure that a big stack segmented is used, which might mean allocating memory for the call. 
[12:55:02] <kimundi> MaikKlein: calling C++ would have the same problems and additionally the problem of different call and type modells. It would be possible to map a subset of C++ to rusts system, like D does (and which sanxiyn is planning to do), but you probably will always need to write some binding code manually.
[12:55:37] <kimundi> At the moment, if you want to use C++ libs, write C wrappers for them and call those with rust.
[12:56:53] <MaikKlein> ok thanks
[13:02:20] *** Joins: saml (sam@moz-14C16814.cst.lightpath.net)
[13:02:22] *** Joins: jeff (jeff@4231C034.745B261B.F12515B4.IP)
[13:03:11] *** Quits: yong (chatzilla@74DA0C97.4E87ADC2.263D9828.IP) (No route to host)
[13:03:33] *** Joins: yong (chatzilla@74DA0C97.4E87ADC2.263D9828.IP)
[13:11:16] *** Joins: pyrac (pyrac@moz-7EFE8FFD.math.u-bordeaux1.fr)
[13:11:32] <cmr> MaikKlein: Add /usr/local/lib to /etc/ld.so.conf and run ldconfig as root
[13:11:48] <cmr> Then you don't need -L /usr/local/lib
[13:12:43] *** Joins: LLckfan (LLckfan@6706A050.572DD02C.78F40505.IP)
[13:12:45] <LLckfan> Does any1 know how to stop Shockwave flash from crashing? I have uninstalled both Flash and my browser (Chrome), installed both from a fresh download, and scanned my computer (come up clean). Everything is updated
[13:13:30] <cmr> LLckfan: I don't think this is the channel you are looking for. First off, this is mozilla.org, second, this is the channel for the rust programming language
[13:14:42] <EXetoC> I don't know, but I think they messed up the latest version..
[13:14:47] *** Joins: tgt (tgt@moz-D59EE478.aztw.cable.virginmedia.com)
[13:16:00] *** Quits: MaikKlein (Mibbit@moz-5F822E06.dip0.t-ipconnect.de) (Quit: http://www.mibbit.com ajax IRC Client)
[13:17:37] <benh> Is there a thing like diff for formatted html? I'm looking at 1000 lines changed in docs and piping the diff output into firefox isn't looking too good ;)
[13:17:56] <strcat> benh: yes
[13:18:09] <strcat> benh: lxml can generate diffs, sec
[13:18:24] * strcat implemented a silly little wiki with visual diffs like that
[13:18:29] <benh> strcat: i mean, a linewise diff is fine
[13:18:41] <strcat> benh: is highlighting old in red and new in green fine?
[13:18:46] *** Quits: deLta30 (quassel@59C67571.BB5F66CB.A05B35DF.IP) (Connection reset by peer)
[13:19:07] <benh> strcat: sounds good
[13:19:20] <cmr> Can use pygmentize -l diff
[13:19:51] *** Joins: deLta30 (quassel@1670B179.633013DD.ADE57C3C.IP)
[13:19:53] <strcat> I think he wants the diff of the formatted html though, not the markdown source
[13:19:55] <benh> ah no i don't want a prettyprinted diff
[13:20:07] *** Quits: rhodesd (none@3646D136.4C5731DA.F395EA5B.IP) (Ping timeout)
[13:20:13] <benh> I was hoping for a webapp that, I dunno, somehow diffs the dom and makes backgrounds red and green
[13:20:20] <cmr> oh
[13:20:20] <benh> or something of the sort
[13:20:41] *** Parts: LLckfan (LLckfan@6706A050.572DD02C.78F40505.IP) ()
[13:20:46] <benh> but i guess scrolling through the pygmentized html diff is quick enough
[13:20:46] <dbaupp> benh: there's a pile of things listed here http://www.w3.org/wiki/HtmlDiff
[13:20:53] <benh> thanks
[13:21:43] * strcat likes lxml's
[13:21:44] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[13:22:34] <benh> huh, is either::t the old name for either::Either
[13:22:38] <strcat> >>> from lxml.html.diff import htmldiff
[13:22:40] *** Quits: bytbox (s@moz-D83E9B31.wireless.umd.edu) (Ping timeout)
[13:22:41] <strcat> >>> a = "<p>foo bar baz</p><p>foo bar baz</p>"
[13:22:42] <strcat> >>> b = "<p>foo baz bar</p><p>foo baz bar</p>"
[13:22:44] <strcat> >>> print(htmldiff(a, b))
[13:22:46] <strcat> <p><ins>foo baz bar</ins></p><p><ins>foo baz bar</ins></p> <p><del>foo bar baz</del></p><p><del>foo bar baz</del></p>
[13:22:48] <strcat> benh: just need to make css to highlight ins/del with green/red bg
[13:22:53] <benh> cool
[13:23:16] <strcat> it can actually deal with changes *within* a block/paragraph but it's not very smart... ;p
[13:23:35] <strcat> not as smart as git diff --color-words
[13:23:49] *** Joins: MaikKlein (Mibbit@moz-5F822E06.dip0.t-ipconnect.de)
[13:24:11] <benh> i think i'm already pushing it with how smart an automation i want ;)
[13:24:49] <MaikKlein> has anyone here used opengl in rust?
[13:25:27] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[13:25:43] <cmr> MaikKlein: yeah. there's a bunch of examples around too, and the q3 engine, and someone has a voxel engine somewhere
[13:26:24] *** Joins: rhodesd (none@3646D136.4C5731DA.F395EA5B.IP)
[13:30:03] <cmr> oh, q3 is the voxel engine, heh
[13:30:06] <cmr> https://github.com/Jeaye/q3
[13:30:29] *** Joins: bytbox (s@moz-D83E9B31.wireless.umd.edu)
[13:30:31] <MaikKlein> already saw it :D
[13:31:18] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[13:31:20] <MaikKlein> but it uses opengl es I was wondering if anyone has experience with opengl3.3 -4.3. I found this https://github.com/bjz/glLoadGen
[13:31:30] <MaikKlein> but it really confuses me
[13:31:46] <MaikKlein> it still generates .c and .h
[13:32:40] <strcat> cmr: seems like that LLckfan person was a troll
[13:32:47] <strcat> they've asked the same thing in hundreds of other channels
[13:32:48] *** Quits: TD-Linux (TD-Linux@E338EB99.2B4F0AE0.A0A36CCE.IP) (Ping timeout)
[13:32:51] <kimundi> MaikKlein: glLoadgen is wip, use https://github.com/bjz/glcore-rs
[13:33:18] <kimundi> glcore generates a 'hardcoded' gl binding (no es).
[13:33:23] <cmr> strcat: oh, my
[13:33:47] <kimundi> That is, it generates a binding for all extensions and gl versions supported by you system, but not a generally usable one
[13:33:55] <strcat>  01:18 <LLckfan> I have an HP C5180 Printer that when I go to see what is printing it says printer is offline. Drivers are updated and I know the printer is good because I printed from it about an hour before this started. Printer is on and no settings have changed. How can I get the printer online to print? 
[13:34:06] <strcat>  01:29 <coderanger> LLckfan: I think you are in the wrong place 
[13:34:09] <strcat> maybe it's even a bot
[13:34:37] <kimundi> That is what glLoadGen is going to be for. But bjz is still wainting for a patch to rust that allows c function pointers to work for that.
[13:34:40] <EXetoC> maybe it extracts stuff from some website. who knows
[13:35:17] <bjz> no, glcore is the old one
[13:35:42] <bjz> MaikKlein: there's a rust target
[13:35:58] <kimundi> Oh, sorry I thought it was that way round :P
[13:36:08] <bjz> MaikKlein: with glLoadGen
[13:36:24] <bjz> MaikKlein: but it doesn't work at the moment
[13:36:35] <bjz> MaikKlein: it should do soon though
[13:36:58] *** Joins: TD-Linux (TD-Linux@E338EB99.2B4F0AE0.A0A36CCE.IP)
[13:37:03] <kimundi> bjz: So, you deperecated glcore in favor of waiting for the almost-there fn ptr fix?
[13:37:23] <bjz> kimundi: pretty much
[13:37:27] <kimundi> kay
[13:37:41] <bjz> kimundi: I haven't been able to work on cg stuff because lmath was broken
[13:37:50] <kimundi> yeah
[13:37:53] <bjz> waiting for a fix
[13:38:01] <strcat> cmr: yeah they're banned from a bunch of servers and freenode admins know about him... not a bot, just a really poor troll
[13:38:19] <MaikKlein> @bjz I also fixed your glcore
[13:38:22] <MaikKlein> it is now mod linkhack{extern{}}
[13:38:26] <benh> strcat: that workss great
[13:38:41] <MaikKlein> should i submit a patch or sth?
[13:38:44] <bjz> MaikKlein: oh nice
[13:38:48] <strcat> benh: :)
[13:38:58] <bjz> MaikKlein: you can actually remove the mod now
[13:39:04] <MaikKlein> oh
[13:39:04] *** Quits: jviereck (Adium@moz-A2DCE0DD.dclient.hispeed.ch) (Quit: Leaving.)
[13:39:11] <MaikKlein> well the compiler told me this :D
[13:39:20] <bjz> MaikKlein: so just extern{} with the attribute
[13:39:58] <bjz> MaikKlein: I should really just push an initial version of my generated loader
[13:41:04] <MaikKlein> I really looking forward to it :)
[13:42:16] *** Joins: jviereck (Adium@moz-A2DCE0DD.dclient.hispeed.ch)
[13:42:59] <cmr> strcat: r? https://github.com/mozilla/rust/pull/6670
[13:45:44] <bjz> MaikKlein: https://github.com/bjz/gl-rs
[13:45:54] <MaikKlein> btw in which editor do you write your rust code?
[13:45:56] *** Quits: dbaupp (Thunderbir@moz-C83F6225.lns20.syd6.internode.on.net) (Ping timeout)
[13:46:20] *** Quits: jld (jld@moz-B94C75AD.xlerb.net) (Ping timeout)
[13:46:25] <cmr> most use vim or emacs
[13:46:26] *** Joins: jld (jld@moz-B94C75AD.xlerb.net)
[13:46:26] <bjz> sublime text for me
[13:46:34] <MaikKlein> @bjz thank you so much, I'll try it now
[13:46:44] <bjz> MaikKlein: it doesn't work
[13:46:45] <bjz> :)
[13:48:01] <MaikKlein> oh ok :D
[13:49:09] <bjz> As you'll note from the first bit of the readme :)
[13:49:47] <MaikKlein> haha my brain always skips cursive text :D
[13:49:53] <bjz> I need to make the instructions read better
[13:49:54] *** Joins: mcomella (mcomella@moz-B10FF54F.ri.ri.cox.net)
[13:50:11] <bjz> I should make it a h1 :)
[13:50:13] <benh> ran make check without hitting save after writing my test
[13:50:21] <benh> i made a _two lines_ change. this is really hard!
[13:50:23] <bjz> ouchie
[13:50:26] <bjz> ><
[13:50:54] <MaikKlein> btw whats up with this _text_?
[13:51:03] <benh> nothing much
[13:51:05] <MaikKlein> _ text _
[13:51:22] <strcat> they are just conventions used on irc and plain text emails
[13:51:45] <MaikKlein> hm ok
[13:51:54] <MaikKlein> for what purpose?
[13:51:55] <strcat> *emphasis*, _underline_, and so on
[13:52:01] <MaikKlein> ah
[13:52:43] <strcat> although...
[13:52:52] <strcat> you can already do that ;p
[13:53:20] <benh> but that always ends with some unportable formatting tragedies
[13:53:27] <MaikKlein> http://mibpaste.com/3CIXh7 
[13:53:38] <MaikKlein> wow cool integrated pastebin
[13:53:39] <MaikKlein> :D
[14:02:05] *** Joins: mye (mye@moz-CB7B60C9.dip0.t-ipconnect.de)
[14:03:27] *** Quits: tcsc (tcsc@moz-A838B260.dhcp.nwtn.ct.charter.com) (Quit: computer sleeping)
[14:05:18] *** Quits: pyrac (pyrac@moz-7EFE8FFD.math.u-bordeaux1.fr) (Ping timeout)
[14:06:07] *** Joins: pyrac (pyrac@moz-92E98DFD.math.u-bordeaux1.fr)
[14:07:32] <kimundi> MaikKlein: It's also Markdown syntax
[14:07:52] *** Joins: pnathan (pnathan@DB849214.31A7A48D.B1142EBE.IP)
[14:08:22] <kimundi> strcat, benh: Lol, I first read your last messages on my phone... they didn't look any different xD.
[14:08:39] <kimundi> So yeah, what benh said :P
[14:09:02] <benh> apparently some irc clients do this for italics, while it seems to be inverted colors on irssi, it's very irritating :(
[14:09:18] <strcat> benh: reverse video on weechat too
[14:09:22] <kimundi> benh: well in xchat that is inverted colors
[14:09:41] <Yoric> italics for LimeChat
[14:10:30] *** Joins: wizeman (quassel@moz-C1AB58EC.dyn.user.ono.com)
[14:12:47] *** Quits: EXetoC (ex@moz-C741B177.customer.t3.se) (Quit: WeeChat 0.4.1)
[14:13:45] *** Quits: jeff (jeff@4231C034.745B261B.F12515B4.IP) (Quit: jeff)
[14:17:36] *** Quits: pnathan (pnathan@DB849214.31A7A48D.B1142EBE.IP) (Quit: Colloquy for iPhone - http://colloquy.mobi)
[14:18:14] *** Quits: jc-denton (nils@moz-C5E8B5EA.ethz.ch) (Ping timeout)
[14:19:07] <jensnockert> Is it just my computer, or is the macro expander really slow even for simple macros?
[14:20:29] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[14:21:15] *** Joins: BitPuffin (quassel@moz-8370D1B9.bredband.comhem.se)
[14:22:21] *** Quits: tgt (tgt@moz-D59EE478.aztw.cable.virginmedia.com) (Quit: Computer has gone to sleep.)
[14:22:42] *** Joins: Guest_ (textual@BBE7C46A.B4F11D08.8612FA94.IP)
[14:22:49] <Guest_> hey everyone
[14:22:53] *** Guest_ is now known as tbrock
[14:23:04] *** Quits: BitPuffin (quassel@moz-8370D1B9.bredband.comhem.se) (Ping timeout)
[14:23:27] *** Joins: jc-denton (nils@moz-C5E8B5EA.ethz.ch)
[14:23:31] *** Joins: BitPuffin (quassel@moz-8370D1B9.bredband.comhem.se)
[14:23:31] <tbrock> Myself and 2 others from 10gen are going to start working on a mongodb driver
[14:23:37] <tbrock> is anyone else working on this yet
[14:23:38] <tbrock> ?
[14:23:44] *** Joins: jorendorff (jorendorff@moz-2F32ACA3.hsd1.tn.comcast.net)
[14:25:30] *** Joins: SimonSapin (simon@769A76F5.45500B72.24454B25.IP)
[14:26:07] *** Joins: novabyte (Instantbir@moz-26FD9035.ip.redstone-isp.net)
[14:28:45] *** Quits: MaikKlein (Mibbit@moz-5F822E06.dip0.t-ipconnect.de) (Quit: http://www.mibbit.com ajax IRC Client)
[14:28:53] <tbrock> its going to start as an intern project we are mentoring but will eventually be maintained by myself or andrew here
[14:29:09] <tbrock> anyway, just wanted to introduce myself and say hello
[14:31:37] <benh> hi :)
[14:33:13] <bstrie> tbrock: hello!
[14:33:21] <tbrock> hey bstrie
[14:33:29] *** Quits: wuwei`lab (wuwei@1A513F49.818D7924.FAA9ED67.IP) (Input/output error)
[14:33:40] <bstrie> does anyone know how you'd go about freezing/thawing ~self ?
[14:33:50] <tbrock> i love what i've seen of rust so far, we are really excited to start work on this
[14:34:05] <tbrock> we will likely begin in 2 weeks when the interns arrive here
[14:34:27] <tbrock> so you might hear more from me :-)
[14:34:44] <bstrie> it would be really great to start getting database drivers
[14:34:57] <bstrie> though we don't really have any... standardized API or anything
[14:35:41] *** Joins: tgt (tgt@moz-D59EE478.aztw.cable.virginmedia.com)
[14:40:10] <bstrie> so I guess `~mut self` is still legal syntax within method signatures? but then it becomes impossible to return self because that isn't actually a type
[14:42:02] <bstrie> hm, I guess I technically don't need to be returning self in this case
[14:42:08] <bstrie> still a weird thing
[14:42:40] *** Joins: anshin (nbs@441B8B9E.2055B963.D2A6B5.IP)
[14:42:41] *** Joins: Scriptor (historium@moz-E06F46F0.corp.bitshelter.com)
[14:43:18] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[14:43:40] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[14:45:29] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Ping timeout)
[14:46:49] *** Quits: jviereck (Adium@moz-A2DCE0DD.dclient.hispeed.ch) (Quit: Leaving.)
[14:48:43] *** Quits: bytbox (s@moz-D83E9B31.wireless.umd.edu) (Ping timeout)
[14:50:30] *** Quits: tgt (tgt@moz-D59EE478.aztw.cable.virginmedia.com) (Quit: Computer has gone to sleep.)
[14:59:32] *** Quits: SimonSapin (simon@769A76F5.45500B72.24454B25.IP) (Ping timeout)
[15:01:26] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[15:01:36] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[15:01:37] *** Joins: jviereck (Adium@moz-A2DCE0DD.dclient.hispeed.ch)
[15:03:06] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[15:09:03] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[15:09:35] *** Joins: Luqman (laden@moz-DCEF6040.csclub.uwaterloo.ca)
[15:15:58] *** Quits: novabyte (Instantbir@moz-26FD9035.ip.redstone-isp.net) (Quit: bye bye)
[15:20:53] *** Joins: jclements (jclements@2557E599.66715431.D25A875A.IP)
[15:23:03] *** Joins: MaikKlein (Mibbit@moz-5F822E06.dip0.t-ipconnect.de)
[15:23:21] *** Joins: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP)
[15:23:23] *** Joins: jdm (jdm@DB05BBF2.BB1F48F2.971E19F6.IP)
[15:23:38] *** Quits: hjr3 (hradtke@AF4FC8FE.D2A4E84D.523CBD62.IP) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[15:24:05] *** Quits: lucian_ (lucian@moz-D82F7974.zone16.bethere.co.uk) (Ping timeout)
[15:24:21] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[15:24:29] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[15:25:50] <kvark> Hello! Why Rust doesn't allow casting "@mut A as @mut T", where A is a struct that implements trait T?
[15:27:10] *** Joins: int3_ (int3_@moz-B7B5F043.singnet.com.sg)
[15:28:34] <bjz> there's a heading in the tutorial "12.4 Trait objects and dynamic method dispatch"
[15:28:52] <bjz> but that's for immutable vars, it seems
[15:29:25] <kvark> bjz: a link?
[15:29:28] <bstrie> kvark: not sure if it's intended to be possible, but it also might just not be implemented yet
[15:29:36] <bjz> http://dl.rust-lang.org/doc/tutorial.html
[15:29:50] <bjz> if it's an issue, make an issue :)
[15:30:09] <kvark> bjz: ha! that tutorial seems very different from Rust-0.6 one
[15:30:37] <bjz> yes... as I've told you before, rust changes and gets better :)
[15:31:19] <bjz> maybe you should frame the question like, why can I do `@A as @T`, but not `@mut A as @mut T`
[15:31:55] <kvark> bjz: well I did ask like that initially, this time I was too lazy though :)
[15:31:55] *** Quits: MaikKlein (Mibbit@moz-5F822E06.dip0.t-ipconnect.de) (Quit: http://www.mibbit.com ajax IRC Client)
[15:32:08] <kvark> could someone plz check "https://gist.github.com/kvark/5628493" on latest rust?
[15:32:48] <bjz> kvark: wait, wrong tutorial: http://static.rust-lang.org/doc/tutorial.html
[15:33:10] <bjz> :P
[15:33:24] <Luqman> kvark: works on incoming
[15:33:27] <kvark> bjz: ok, that tutorial clearly doesn't have 12.4
[15:33:41] <kvark> Luqman: thanks!
[15:33:50] *** Joins: Sodel_the_V (user@moz-853663E1.va.shawcable.net)
[15:33:53] <bjz> kvark: indeed it does not
[15:34:31] <bjz> kvark: the latter one I posted was updated 5 days ago, the first one I posted was update 6 months ago -_-
[15:34:48] <kvark> hmmm
[15:34:55] <bjz> kvark: ahh, it's now in 16.4
[15:35:15] *** Joins: jensnockert (jensnocker@22C3B08D.7F474121.A94117DA.IP)
[15:35:39] <kvark> bjz: yeah, no mention on mutability here
[15:35:46] <bjz> yeah
[15:35:57] <bjz> but apparently it works on incoming
[15:36:25] <Luqman> yea, it was fixed post-0.6 by jdm iirc
[15:37:04] <bjz> rusti: let x  = @mut 12f as @mut ToStr; x.to_str()
[15:37:05] -rusti- error: internal compiler error: unexpected failure
[15:37:06] -rusti- note: the compiler hit an unexpected failure path. this is a bug
[15:37:06] -rusti- note: try running with RUST_LOG=rustc=1,::rt::backtrace to get further details and report the results to github.com/mozilla/rust/issues
[15:37:12] <bjz> ha
[15:37:24] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[15:37:39] <bjz> tat's interesting
[15:37:48] <bjz> *that's
[15:38:19] *** Joins: SimonSapin (simon@769A76F5.45500B72.24454B25.IP)
[15:38:19] <bjz> rusti: let x  = @mut 12f as @mut Float; x.sqrt()
[15:38:20] <kvark> rusti: (@12f as @ToStr).to_str()
[15:38:21] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/UCDX
[15:38:22] -rusti- error: internal compiler error: unexpected failure
[15:38:22] -rusti- note: the compiler hit an unexpected failure path. this is a bug
[15:38:22] -rusti- note: try running with RUST_LOG=rustc=1,::rt::backtrace to get further details and report the results to github.com/mozilla/rust/issues
[15:38:37] <bjz> rusti: let x  = (@mut 12f) as @mut Float; x.sqrt()
[15:38:39] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/dZeY
[15:39:14] *** Joins: EXetoC (ex@moz-C741B177.customer.t3.se)
[15:39:33] <kvark> makes me wonder how it works on incoming, if 'rusti' fails to do it either
[15:39:49] <bjz> rusti: let x  = (@mut 12f) as @mut ToStr; x.to_str()
[15:39:50] -rusti- error: internal compiler error: unexpected failure
[15:39:50] -rusti- note: the compiler hit an unexpected failure path. this is a bug
[15:39:50] -rusti- note: try running with RUST_LOG=rustc=1,::rt::backtrace to get further details and report the results to github.com/mozilla/rust/issues
[15:40:07] <bjz> Luqman: does that work?
[15:40:30] <bjz> ie. does the above work for you?
[15:41:06] <bjz> rusti: let x  = (@mut 12f) as @mut ToStr; (*x).to_str()
[15:41:08] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/WaRY
[15:41:10] *** Quits: wizeman (quassel@moz-C1AB58EC.dyn.user.ono.com) (Ping timeout)
[15:41:45] <bjz> rusti: let x  = @12f as @Float; x.sqrt()
[15:41:46] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/IFAV
[15:42:00] <bjz> rusti: let x  = @12f as @ToStr; x.to_str()
[15:42:01] -rusti- error: internal compiler error: unexpected failure
[15:42:01] -rusti- note: the compiler hit an unexpected failure path. this is a bug
[15:42:01] -rusti- note: try running with RUST_LOG=rustc=1,::rt::backtrace to get further details and report the results to github.com/mozilla/rust/issues
[15:42:20] <bjz> oh, well it's not just @mut there
[15:44:14] *** Joins: wizeman (quassel@moz-21152EEA.dyn.user.ono.com)
[15:44:44] *** Joins: bytbox (s@moz-D83E9B31.wireless.umd.edu)
[15:44:54] *** Quits: jensnockert (jensnocker@22C3B08D.7F474121.A94117DA.IP) (Ping timeout)
[15:45:08] *** kimundi is now known as zz_kimundi
[15:46:42] <kvark> bjz: sorry, but it seems that your advice to stick with latest code doesn't hold here :)
[15:46:55] *** Quits: wizeman (quassel@moz-21152EEA.dyn.user.ono.com) (Ping timeout)
[15:47:04] <bjz> does this work for you? let x  = @12f as @ToStr; x.to_str()
[15:47:24] <kvark> yeah
[15:47:42] <bjz> yikes
[15:47:48] <bjz> needs an issue then
[15:47:53] <doener> rusti: trait M { fn m(self) -> Self; } impl M for ~int { fn m(self) -> ~int { self } } (~1).m()
[15:47:56] *** Joins: wizeman (quassel@moz-C1AB58EC.dyn.user.ono.com)
[15:48:05] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[15:48:07] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[15:48:15] <EXetoC> :>
[15:49:05] *** Quits: wizeman (quassel@moz-C1AB58EC.dyn.user.ono.com) (Client exited)
[15:49:36] *** zz_kimundi is now known as kimundi
[15:51:04] *** Joins: jensnockert (jensnocker@22C3B08D.7F474121.A94117DA.IP)
[15:52:24] *** Joins: MaikKlein (Mibbit@moz-5F822E06.dip0.t-ipconnect.de)
[15:52:33] <MaikKlein> btw is FRP possible in rust?
[15:53:09] <MaikKlein> http://en.wikipedia.org/wiki/Functional_reactive_programming
[15:53:16] *** Quits: fabiand (fabiand@moz-EEAE8A83.adsl.alicedsl.de) (Quit: Verlassend)
[15:57:58] *** Quits: pyrac (pyrac@moz-92E98DFD.math.u-bordeaux1.fr) (Ping timeout)
[15:59:51] *** Quits: bytbox (s@moz-D83E9B31.wireless.umd.edu) (Ping timeout)
[16:00:59] *** Quits: brendan (brendaneic@9343535F.FC95818.5EFB9497.IP) (Quit: brendan)
[16:01:24] *** Joins: bent (chatzilla@moz-932324BF.hsd1.ca.comcast.net)
[16:01:36] *** Quits: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Quit: Bye!)
[16:01:43] *** Joins: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[16:01:44] *** Quits: Yurume (yurume@AC58A8CE.8A059B47.E313B915.IP) (Ping timeout)
[16:05:59] *** Quits: [o__o] (~o__o@moz-24EBFAC7.me) (Input/output error)
[16:09:38] *** Joins: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP)
[16:09:44] *** Joins: Jeaye (Jeaye@moz-FD505E54.hsd1.ca.comcast.net)
[16:11:17] *** Quits: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[16:12:45] *** Quits: tbrock (textual@BBE7C46A.B4F11D08.8612FA94.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[16:13:41] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Client exited)
[16:14:01] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[16:14:14] *** Joins: bytbox (s@moz-D83E9B31.wireless.umd.edu)
[16:14:44] *** Quits: Sodel_the_V (user@moz-853663E1.va.shawcable.net) (Quit: Eaten by a grue)
[16:15:45] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Ping timeout)
[16:18:44] *** Joins: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP)
[16:19:28] *** Joins: erickt1 (erickt@8C9ECD8F.3A598286.F12515B4.IP)
[16:20:31] *** Quits: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[16:21:07] *** Quits: doener (bs@moz-AA189A5A.unitymedia.biz) (Client exited)
[16:21:10] *** Joins: doener (doener@moz-121949B3.unitymediagroup.de)
[16:21:42] *** Quits: int3_ (int3_@moz-B7B5F043.singnet.com.sg) (Client exited)
[16:23:30] *** Joins: thomaslee_ (thomaslee@moz-6C3931E3.static.twtelecom.net)
[16:24:24] *** Joins: Guest_ (textual@BBE7C46A.B4F11D08.8612FA94.IP)
[16:26:33] *** Joins: int3_ (int3_@moz-B7B5F043.singnet.com.sg)
[16:26:50] *** Joins: eatkinson (eatkinson@2557E599.66715431.D25A875A.IP)
[16:27:02] *** Quits: int3_ (int3_@moz-B7B5F043.singnet.com.sg) (Connection reset by peer)
[16:27:20] *** Joins: azita (Azita@2557E599.66715431.D25A875A.IP)
[16:27:52] *** Joins: int3_ (int3_@moz-B7B5F043.singnet.com.sg)
[16:29:46] <kimundi> MaikKlein, hm, from a first glance that looks like having an event que and reacting to events? Or what exactly is FRP about?
[16:31:30] <sp3d> as I understand it, it's about not having to manually implement the logic to update the various things which are dependent on an input when that input changes; you specify the logical relations once and get update logic for "free"
[16:32:18] *** Quits: bytbox (s@moz-D83E9B31.wireless.umd.edu) (Ping timeout)
[16:33:43] <kimundi> Isn't that just a special form of event handling?
[16:33:54] *** Joins: tgt (tgt@moz-D59EE478.aztw.cable.virginmedia.com)
[16:35:26] *** Joins: lmandel (lmandel@F2D29657.F60B0462.67AC9B1.IP)
[16:35:34] <sp3d> yeah, it seems like something that would be doable as a library or framework
[16:35:57] *** Quits: mye (mye@moz-CB7B60C9.dip0.t-ipconnect.de) (Quit: mye)
[16:36:11] *** Joins: bytbox (s@moz-D83E9B31.wireless.umd.edu)
[16:36:44] <MaikKlein> okay
[16:39:46] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[16:40:01] *** Quits: Ralith (ralith@moz-50F3C77.vc.shawcable.net) (Ping timeout)
[16:43:27] *** Quits: tupshin (quassel@moz-E7B03838.c3-0.nyr-ubr1.nyr.ny.cable.rcn.com) (Ping timeout)
[16:43:46] *** Joins: blitter (blitter@moz-E761A52F.dyn.centurytel.net)
[16:47:00] <cmr> It wouldn't be as pretty though'
[16:47:03] <cmr> It'd require syntax.
[16:47:16] <cmr> Or, actually, maybe macros could reduce that at alot
[16:53:07] *** Joins: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[16:55:04] <zxcdw> When implementing something like a linked list, the "right" or preferred way in a node to store a 'next' pointer to a node would be using Option<[~|@]node> (set to None in constructor), right? Or am I misunderstanding Option?
[16:55:55] <strcat> zxcdw: yes that's how you would do it
[16:56:22] <strcat> and the compiler knows how to optimize 'enum Foo<T> { Bar(~T), Baz }' to a nullable pointer now
[16:57:07] <zxcdw> so in essence it abstracts a nullable pointer from the programmer although it retains similar semantics?
[16:57:23] <Diablo-D3> I have discovered the best part of erlang
[16:57:45] <Diablo-D3> I can ask a question in #erlang, which has 280 people, a simple question
[16:57:50] <strcat> zxcdw: well you can't ever actually dereference it when it's null, but it has similar semantics
[16:57:50] <Diablo-D3> it has now been 2 hours
[16:57:53] <Diablo-D3> no answer.
[16:58:22] <sp3d> distributed systems improve throughput, not necessarily latency
[16:58:23] <erickt1> strcat: when did that option optimization land? that's awesome!
[16:58:33] <strcat> erickt1: jld did it iirc
[16:58:57] <strcat> my biggest annoyance is the useless headers on non-managed ~ allocations
[16:58:58] <erickt1> ++ jld. I knew he was working on it, glad to hear it landed
[16:59:14] * strcat hopes the gc lands soon just so the headers can die...
[16:59:51] <erickt1> strcat: I agree, it's rather hard to read the llvm bitcode when debugging code generation
[17:00:08] <strcat> erickt1: and slow ;p
[17:00:17] <MaikKlein> are constructors just static functions?
[17:00:42] <strcat> MaikKlein: the language doesn't have a concept of a constructor, so you'd just use a static function
[17:01:06] <MaikKlein> ok thanks that's what I thought
[17:02:08] <Luqman> erickt1: you were working on making it so  self is no longer passed via the environment pointer right?
[17:02:16] *** Quits: anshin (nbs@441B8B9E.2055B963.D2A6B5.IP) (Quit: leaving)
[17:02:20] <friggle> strcat: is graydon still blocked on the excessive heap usage during build?
[17:02:21] *** Joins: anshin (nbs@441B8B9E.2055B963.D2A6B5.IP)
[17:02:25] <erickt1> Luqman: yep, it's been taking a while though
[17:02:27] <strcat> friggle: yes
[17:02:34] <strcat> friggle: there is excessive heap usage without his gc though
[17:02:42] <strcat> the gc just makes memory usage increase as you would expect
[17:02:54] <erickt1> Luqman: librustc can be a littleâ€¦ tricky
[17:03:10] <strcat> friggle: compiling librustc peaks at 2500MiB RES right now.
[17:03:35] *** Joins: mzabaluev (mzabaluev@moz-91FFD755.dhcp.inet.fi)
[17:03:50] <Luqman> erickt1: yea, i've been trying to fix by-value self and have run into various issues
[17:04:05] *** Joins: Ralith (ralith@moz-6809779E.wireless.sfu.ca)
[17:05:45] <cmr> strcat: and even with all this, my rustc build time dropped two minutes the past week or so
[17:05:52] *** Joins: echristo (echristo@D423593A.D6CCE4AE.77834EAA.IP)
[17:07:31] *** Joins: Earnestly (earnest@6A917A59.5E1FD793.39C00A7A.IP)
[17:07:39] *** Joins: sawyer (sawyer@moz-F8DBF066.barbara.ds.polsl.pl)
[17:07:51] *** Joins: graydon (Adium@A5087023.2354C43D.D8E68FF6.IP)
[17:07:51] *** ChanServ sets mode: +qo graydon graydon
[17:08:55] <engla> the whole core::rt  module.. will it move down into core:: itself soon?
[17:09:28] *** Quits: lmandel (lmandel@F2D29657.F60B0462.67AC9B1.IP) (Ping timeout)
[17:09:36] *** Quits: jviereck (Adium@moz-A2DCE0DD.dclient.hispeed.ch) (Quit: Leaving.)
[17:10:41] <cmr> graydon: r? https://github.com/mozilla/rust/pull/6670 :)
[17:11:00] <doener> cmr: how long does the build take for you?
[17:11:25] <cmr> doener: Timing incoming now, but it was ~17 minutes the other day
[17:11:33] <cmr> (it's usually 19-20)
[17:11:56] *** Quits: jensnockert (jensnocker@22C3B08D.7F474121.A94117DA.IP) (Input/output error)
[17:12:20] *** Joins: jensnockert (jensnocker@moz-836C6E6F.wireless.lu.se)
[17:13:15] *** Joins: pcwalton (pcwalton@43CB6079.66715431.D25A875A.IP)
[17:13:15] *** ChanServ sets mode: +o pcwalton
[17:13:16] <graydon> cmr: r+ if you can cut out the warn!() call
[17:13:22] <graydon> cmr: awesome work, thanks
[17:13:24] <cmr> oops did I leave that in
[17:13:29] <graydon> yeah, small thing
[17:13:52] <graydon> just rebase -i a fixup in, force-push to the same branch
[17:13:53] <MaikKlein> today it was 21 min for me
[17:14:10] *** Quits: jensnockert (jensnocker@moz-836C6E6F.wireless.lu.se) (Ping timeout)
[17:14:11] *** Joins: mye (mye@moz-CB7B60C9.dip0.t-ipconnect.de)
[17:14:17] *** Joins: catpig (catpig@moz-2BE53924.dip0.t-ipconnect.de)
[17:14:30] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[17:15:19] *** Quits: SimonSapin (simon@769A76F5.45500B72.24454B25.IP) (Ping timeout)
[17:15:20] <cmr> graydon: done
[17:16:50] *** Quits: anshin (nbs@441B8B9E.2055B963.D2A6B5.IP) (Quit: leaving)
[17:16:53] *** Joins: anshin (nbs@441B8B9E.2055B963.D2A6B5.IP)
[17:17:13] *** Joins: Blub\w (wry@moz-A9259B70.wireless.dyn.drei.com)
[17:18:21] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[17:18:22] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/2nNotw
[17:18:22] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[17:18:25] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[17:18:25] <ghrust> 01[13rust01] 15bors pushed 3 new commits to 06auto: 02http://git.io/ClO3tQ
[17:18:25] <ghrust> 13rust/06auto 14e643396 15Corey Richardson: Implement static_assert attribute...
[17:18:25] <ghrust> 13rust/06auto 14acf920f 15Corey Richardson: Add static_assert doc blurb
[17:18:26] <ghrust> 13rust/06auto 143d82a0a 15bors: auto merge of #6670 : cmr/rust/static_assert, r=graydon...
[17:18:27] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[17:18:32] *** Quits: erickt1 (erickt@8C9ECD8F.3A598286.F12515B4.IP) (Quit: Leaving.)
[17:18:57] <pcwalton> whoa, static_assert
[17:19:10] <cmr> it's not quite as awesome as it sounds
[17:19:13] <graydon> I asked for it :)
[17:19:20] <pcwalton> no, I know what it does
[17:19:22] <pcwalton> per the conversation
[17:19:25] <pcwalton> it's still awesome.
[17:19:29] <graydon> \o/
[17:19:34] *** Joins: lmandel (lmandel@F2D29657.F60B0462.67AC9B1.IP)
[17:19:48] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[17:19:49] *** Joins: mschifer (Adium@2557E599.66715431.D25A875A.IP)
[17:19:57] <cmr> I still fail to see any use of it, the only thing I want to use it in my code won't work (asserting two &'static vecs are the same length)
[17:20:02] <cmr> but, if you say so :p
[17:20:07] *** Quits: deLta30 (quassel@1670B179.633013DD.ADE57C3C.IP) (Ping timeout)
[17:20:21] <pcwalton> ah, we need that elusive sizeof operator that works in consts
[17:20:29] *** Quits: tgt (tgt@moz-D59EE478.aztw.cable.virginmedia.com) (Quit: Textual IRC Client: www.textualapp.com)
[17:20:46] *** Joins: deLta30_ (quassel@B7E704D0.EC74C100.110F01C1.IP)
[17:20:51] <strcat> pcwalton: eval!() ;p
[17:21:10] <pcwalton> there actually *is* a clean way to do compile time function evaluation if we need it in the future
[17:21:20] <cmr> it would be very useful
[17:21:21] <pcwalton> you just stage it with the macro system so that you can call functions that were imported-for-syntax
[17:21:58] <pcwalton> a procedural macro system will need an "import-for-syntax" form anyway
[17:22:07] <pcwalton> and you can just say, OK, you can CTFE any function that was imported-for-syntax
[17:22:18] <pcwalton> but this is a Rust 2.0 thing
[17:22:20] *** Quits: lmandel (lmandel@F2D29657.F60B0462.67AC9B1.IP) (Ping timeout)
[17:22:53] *** Joins: lmandel (lmandel@F2D29657.F60B0462.67AC9B1.IP)
[17:23:11] *** Quits: Ralith (ralith@moz-6809779E.wireless.sfu.ca) (Ping timeout)
[17:24:17] <EXetoC> I'm guessing that byte offsets of fields will be queryable one day
[17:25:26] *** Joins: brson (brson@2557E599.66715431.D25A875A.IP)
[17:25:26] *** ChanServ sets mode: +o brson
[17:25:53] *** Joins: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP)
[17:25:56] *** Quits: victorporof (victorporo@96E478A3.6D2FB7A4.79933D60.IP) (Quit: victorporof)
[17:26:03] *** Quits: deLta30_ (quassel@B7E704D0.EC74C100.110F01C1.IP) (Ping timeout)
[17:27:21] *** Joins: [o__o] (~o__o@moz-24EBFAC7.me)
[17:27:38] *** Quits: azita (Azita@2557E599.66715431.D25A875A.IP) (Quit: azita)
[17:28:50] *** Joins: tgt (tgt@moz-D59EE478.aztw.cable.virginmedia.com)
[17:28:52] *** Joins: erickt1 (erickt@8C9ECD8F.3A598286.F12515B4.IP)
[17:29:48] <kimundi> pcwalton: Each time I hear 'not for Rust 1.0' or 'for Rust 2.0' I wonder how the fast the work on that will happen after the 1.0 release.
[17:30:14] *** Quits: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[17:30:15] <pcwalton> depends on prioritization
[17:30:36] <pcwalton> have to balance language feature work with bug fixing, compiler performance, runtime performance, library work...
[17:31:46] *** Joins: deLta30 (quassel@6737F9E5.1C3F20FA.3FEEFD97.IP)
[17:31:51] *** Quits: lmandel (lmandel@F2D29657.F60B0462.67AC9B1.IP) (Ping timeout)
[17:31:51] *** Quits: robertknight (robertknig@moz-54528EE0.wby.mendeley.com) (Quit: Computer has gone to sleep.)
[17:32:03] <friggle> and I imagine it's going to depend how the contributor community grows/scales
[17:32:29] <erickt1> Luqman: by-value self is tied in with what I'm working on
[17:32:56] *** Joins: robertknight (robertknig@moz-54528EE0.wby.mendeley.com)
[17:33:05] <erickt1>  Luqman: that's what I was originally trying to fix.
[17:34:31] *** Joins: lmandel (lmandel@F2D29657.F60B0462.67AC9B1.IP)
[17:34:42] <erickt1> Luqman: have you made much progress?
[17:35:30] *** Quits: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP) (Ping timeout)
[17:35:52] *** Quits: noam (noam@F6B530A7.720527A7.416762B.IP) (Ping timeout)
[17:36:04] *** Joins: noam (noam@F6B530A7.720527A7.416762B.IP)
[17:36:27] *** Quits: wilkie (wilkie@moz-57D49853.pitbpa.fios.verizon.net) (Ping timeout)
[17:37:09] <cmr> Yup, 16:03.24 build time (sans llvm, but with runtime)
[17:37:11] *** Joins: wilkie (wilkie@moz-57D49853.pitbpa.fios.verizon.net)
[17:37:26] <cmr> 2411304K peak RES
[17:37:30] *** Joins: wilsonk-laptop (kvirc@moz-39EFBFC2.cg.shawcable.net)
[17:37:59] *** Quits: wilsonk|2 (kvirc@moz-39EFBFC2.cg.shawcable.net) (Ping timeout)
[17:38:19] *** Quits: robertknight (robertknig@moz-54528EE0.wby.mendeley.com) (Quit: Computer has gone to sleep.)
[17:39:30] *** Quits: CarpNet (ac@moz-FD24B77.sohonet.co.uk) (Quit: Leaving)
[17:39:54] *** Quits: int3_ (int3_@moz-B7B5F043.singnet.com.sg) (Client exited)
[17:40:24] *** Joins: int3_ (int3_@moz-B7B5F043.singnet.com.sg)
[17:40:25] <brson> nmatsakis: what is going to be involved in fixing ~ traits? I need them badly
[17:42:10] *** Quits: int3_ (int3_@moz-B7B5F043.singnet.com.sg) (Ping timeout)
[17:43:22] <pcwalton> erickt1: are you fixing it by not stuffing self into the environment pointer?
[17:46:17] <nmatsakis> kimundi: pcwalton: pong
[17:46:29] <nmatsakis> brson: good question. I... don't know, probably not that much.
[17:47:21] *** Joins: tjc (tjc@A5087023.2354C43D.D8E68FF6.IP)
[17:47:21] *** ChanServ sets mode: +o tjc
[17:48:18] *** Quits: mzabaluev (mzabaluev@moz-91FFD755.dhcp.inet.fi) (Ping timeout)
[17:48:43] <erickt1> pcwalton: yeah. I've been stymied by my difficulty of tracing how the various method side tables are used. So now my current attempt is to try to convert methods into functions as early as possible 
[17:48:46] *** erickt1 is now known as erickt
[17:48:49] <kimundi> nmatsakis: I just wantet to discuss that fn/proc proposal a bit.
[17:49:00] <nmatsakis> kimundi: shoot.
[17:49:46] <kimundi> I've read your blog posts, and it seems to reduce complexity, but I'm unsure if it's really 'the right' thing to do
[17:50:05] <erickt> pcwalton: my first part is to move ast::expr's callee_id field into the variants that actually need it, because I'm finding it confusing when one is supposed to use expr.id and when to use expr.callee_id
[17:50:18] <nmatsakis> kimundi: in what sense?
[17:50:38] <jdm> to unstage changes but keep them around, is that just git reset file?
[17:50:58] <kimundi> Basically my main objection is having two different names for 'A unit of rust code', if the difference is just in the environments visible to it
[17:51:08] <erickt> pcwalton: and it's also silly that non-callable expr nodes have a nonsensical callee_id field
[17:51:15] *** Quits: lmandel (lmandel@F2D29657.F60B0462.67AC9B1.IP) (Ping timeout)
[17:52:03] <nmatsakis> kimundi: I see. Well, that doesn't seem like a small difference to me...
[17:52:21] *** Joins: mzabaluev (mzabaluev@moz-91FFD755.dhcp.inet.fi)
[17:52:21] <nmatsakis> kimundi: there are actually three names, though, since "extern fns" (no environment) are a type of their own too
[17:52:34] <nmatsakis> kimundi: not to mention object types, which are "multiple units of rust code"
[17:52:39] <graydon> indeed. but they're still called 'fn'
[17:52:42] <nmatsakis> kimundi: not sure if that makes things better or worse.
[17:52:45] <kimundi> yeah, but their are still a 'fn'
[17:52:45] *** Joins: Ralith (ralith@moz-50F3C77.vc.shawcable.net)
[17:52:56] <nmatsakis> sure, but in the type system they have no relationship.
[17:53:04] <nmatsakis> so maybe we're just talking names here.
[17:53:31] <graydon> I concur that adding a new _name_ is more-likely to make more cognitive load than other options. though the fusion-with-the-sigil was hardly obvious.
[17:53:33] *** Joins: lmandel (lmandel@F2D29657.F60B0462.67AC9B1.IP)
[17:53:48] <kimundi> I just think it's confusing to have an entirely different name if there are already 3 different things that are just as distinct with the same name
[17:54:35] <kimundi> static item fn, extern fn, closure fn and ... proc.
[17:54:37] <graydon> I'm curious about the use-cases
[17:54:51] *** Joins: doomlord (doomlod@moz-B63745D8.range86-176.btcentralplus.com)
[17:54:56] <graydon> in particular, how much "environment capture" per se is essential
[17:55:01] <cmr> tjc: Are you going through and cleaning up warnings right now?
[17:55:21] <tjc> cmr: I have a branch that's not passing tests yet, but I'll try to submit it today
[17:55:37] *** Joins: doomlord1 (walter@moz-B63745D8.range86-176.btcentralplus.com)
[17:55:47] <cmr> tjc: Alright, thanks
[17:57:01] <kimundi> Maybe have a 'env fn' form for closures/procedures? [env[:['r] [Bounds]]] [once] fn  <'a...> (S*) -> S?
[17:57:05] *** Quits: jclements (jclements@2557E599.66715431.D25A875A.IP) (Quit: jclements)
[17:57:11] <nmatsakis> pcwalton: so I guess you can categorize our current types into three groups: owned, borrowed, 
[17:57:29] <kimundi> ~env fn, @env fn etc...
[17:57:42] <nmatsakis> pcwalton: oops, sorry, nm, had an internet lapse there
[17:57:48] *** Quits: brson (brson@2557E599.66715431.D25A875A.IP) (Ping timeout)
[17:57:50] <kimundi> with env fn being unsized
[17:58:10] <nmatsakis> kimundi: graydon: sorry, lost internet for a while
[17:58:24] <nmatsakis> kimundi: graydon: I ... don't know whether "prefix" fn is easier to understand vs distinct names
[17:58:31] <nmatsakis> I tend to think that it's easier to hvae more words
[17:58:35] <nmatsakis> that is, fn vs proc
[17:58:37] <nmatsakis> than to have adjectives
[17:58:54] <nmatsakis> but... maybe not. I guess it depends on how familiar you are with everything
[17:58:56] <graydon> it's a fair stance; just that we have not done that in the other cases
[17:59:04] <kimundi> nmatsakis: Yeah, but its unsymmetric because static item fn, extern fn, closure fn and ... proc.
[17:59:17] <doomlord> proc and fn... nostalgia for bbc basic
[17:59:19] <nmatsakis> kimundi: I don't know what "closure fn" is... I just say "closure"
[17:59:22] *** Quits: eatkinson (eatkinson@2557E599.66715431.D25A875A.IP) (Quit: eatkinson)
[17:59:25] <graydon> also we tend to get push-back on keywords because they pull an identifier out of use for everyone, everywhere
[17:59:26] <nmatsakis> kimundi: but that doesn't match the syntax :)
[17:59:57] <kimundi> nmatsakis: Those werent supposed to be actual types, sorry :)
[18:00:35] <doomlord> having seen what the world ended up with in c++ , i think reserving more keywords isn't a bad thing, you can always capitalize, use camel case etc for your own identifiers
[18:00:54] *** Joins: brson (brson@2557E599.66715431.D25A875A.IP)
[18:00:54] *** ChanServ sets mode: +o brson
[18:01:06] <nmatsakis> kimundi graydon: truth is, I don't really care if we call it proc or env fn or something else.
[18:01:18] <nmatsakis> if we want to remove owned environments altogether, that's another story
[18:01:24] <graydon> nmatsakis: heh. yeah, no kidding.
[18:01:29] <nmatsakis> all closure types are sugar.
[18:01:34] <nmatsakis> so in a sense you don't need them
[18:01:41] <doomlord> i'd rather lose proc than env as a potential variable name
[18:01:44] <nmatsakis> also there are objects, which are more fundamental
[18:01:49] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[18:01:53] <MaikKlein> what are some common design patterns that I can use in rust?
[18:01:56] <graydon> oh you're one of those! :)
[18:01:59] *** Joins: solancile (solancile@moz-A1CFFAE5.hsd1.wa.comcast.net)
[18:02:06] <graydon> I wondered a bit about that, actually
[18:02:08] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[18:02:19] <nmatsakis> well, it seems obvious. objects have multiple things you can "call". functions have "one".
[18:02:26] <nmatsakis> but that's not really what I'm driving at
[18:02:31] <cmr> I prefer env fn to proc, as far as syntax goes... more obvious what it actually means
[18:02:35] <nmatsakis> I guess what I'm saying is: 
[18:03:02] <nmatsakis> conceivably we could remove procs altogether and replace them with macros for the important cases (spawn, future) and extern fns with userdata or objects for the others 
[18:03:32] <Jeaye> strcat: It would be awesome if rusti could run the code from a given http link (gist, codepad, etc).
[18:03:34] *** Joins: eatkinson (eatkinson@2557E599.66715431.D25A875A.IP)
[18:03:47] *** Joins: azita (Azita@2557E599.66715431.D25A875A.IP)
[18:03:50] <graydon> yeah, I think I'm getting at something similar: to what extent is the struct-constructor form (that copies, potentially de-initializing its args) + extern fns a more appropriate building block?
[18:04:27] <graydon> it comes down to the environment-capture sugar, and how much that's used in the idioms people do spawn / future in
[18:04:31] <nmatsakis> graydon: on a related note, I have been thinking that in the compiler (long term)
[18:04:38] <nmatsakis> graydon: we could transform to a lower-level IR after type checking
[18:04:43] <nmatsakis> graydon: that excludes closures and numerous other things
[18:04:52] <nmatsakis> graydon: this subset (let's call it Patina) we could then use for borrow checking, trans
[18:04:57] <nmatsakis> graydon: and could even be completely formalized
[18:04:57] <graydon> loooooooong term :)
[18:04:59] <nmatsakis> graydon: and proven sound
[18:05:05] <nmatsakis> yes, loooong :)
[18:05:27] <nmatsakis> but basically what I'm saying is that more and more I realize that our lifetime system is expressive enough
[18:05:34] <nmatsakis> to model a lot of things we've previously considered "builtin"
[18:05:41] <nmatsakis>  or will be once we fix a bunch of bugs :)
[18:05:52] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[18:06:06] <nmatsakis> (which is not to say that these things should not be built-in---there's a need for convenience)
[18:06:10] <graydon> perhaps. you're still tasked with the trick of reporting errors usefully and avoiding the loss of important micro-optimizations in special cases.
[18:06:12] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[18:06:20] <graydon> but yeah, I can see it being possible
[18:06:21] <nmatsakis> yes.
[18:06:26] <nmatsakis> those are the challenges.
[18:06:38] <nmatsakis> anyway, it'd be an...incremental process, maybe it winds up not working out.
[18:07:44] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[18:08:12] <kimundi> nmatsakis, graydon: Maybe it would make sense to generalise the environment capturing into some mechanism to transform it into a state struct, similar to how a hypothetical 'yield' would basically capture all local variables and put them in an state struct.
[18:08:27] *** Quits: BizarreCake (BizarreCak@32C9829A.151E84E7.561471F8.IP) (Ping timeout)
[18:09:16] <kimundi> So there would just be stack closures, and sugar for such an abstraction
[18:12:15] <kimundi> The question is how to get that into a form thats as nice to use as the current ~fn and @fn literal forms...
[18:12:21] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[18:12:21] <ghrust> 01[13rust01] 15bors merged 06auto into 06incoming: 02http://git.io/ClO3tQ
[18:12:21] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[18:12:21] *** Joins: fabiand (fabiand@moz-EEAE8A83.adsl.alicedsl.de)
[18:13:45] *** Joins: ssn (ssn@moz-FB2CDEE1.lightspeed.snjsca.sbcglobal.net)
[18:15:00] *** Parts: ssn (ssn@moz-FB2CDEE1.lightspeed.snjsca.sbcglobal.net) (Leaving)
[18:15:20] *** Quits: solancile (solancile@moz-A1CFFAE5.hsd1.wa.comcast.net) (Ping timeout)
[18:15:22] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[18:15:22] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/KPby9Q
[18:15:22] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[18:15:27] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[18:15:27] <ghrust> 01[13rust01] 15bors pushed 19 new commits to 06auto: 02http://git.io/PSAfxg
[18:15:27] <ghrust> 13rust/06auto 147843e1a 15Patrick Walton: librustc: Disallow `use` from reaching into impls or traits....
[18:15:28] <ghrust> 13rust/06auto 144ac7477 15Patrick Walton: librustc: Disable borrow check debugging even when rustc is compiled with -O0....
[18:15:28] <ghrust> 13rust/06auto 14c27a797 15Patrick Walton: test: Fix tests.
[18:15:28] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[18:15:40] <erickt> nmatsakis: I've been thinking about a lower level IR too. I've found it confusing (and potentially a source of bugs) that multple ast variants can map to a single concept in trans. methods/functions being the main one, but also how expr_{field,index,binary,unary,etc} can also map to methods in some cases.
[18:15:55] *** Quits: noam (noam@F6B530A7.720527A7.416762B.IP) (Ping timeout)
[18:17:36] <nmatsakis> erickt: yes, it's very problematic not just in trans but elsewhere. 
[18:17:57] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[18:17:58] <jack> graydon: how do i tell bors to redo an integration attempt?
[18:18:06] <jack> just a new r+ on the same commit?
[18:18:16] <graydon> "@bors: retry"
[18:18:18] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[18:18:18] <erickt> I've got no idea how to map the ast to an IR and preserve good error messaging though. Maybe we could draw inspiration from javascript source maps?
[18:18:20] <graydon> a comment saying that
[18:19:08] <cmr> erickt: isn't that what codemap is?
[18:19:10] <nmatsakis> erickt: I have some concrete ideas. spans are obviously part of it.
[18:20:05] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[18:20:05] *** ChanServ sets mode: +o dherman
[18:20:35] <erickt> cmr: without having a good example in mind, I worry that some error messages would require a proper ast, rather than just converting a span into text.
[18:21:23] *** Joins: Sodel_the_V (user@moz-853663E1.va.shawcable.net)
[18:23:27] <erickt> Maybe if we encode the lower level IR in our crates, that could make things difficult for typeck/trans which may need the AST to do type inference, linking, and inlining
[18:24:11] <cmr> I'm working on https://github.com/mozilla/rust/issues/6596 but am getting https://gist.github.com/cmr/b5c85579a193c86af09c and don't know how to fix it (https://github.com/cmr/rust/commit/1ad4b59a6c551a8d8f9e7278dd976ae97efbcc66)
[18:25:18] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[18:25:56] *** Joins: noam (noam@F6B530A7.720527A7.416762B.IP)
[18:26:09] *** Joins: victorporof (victorporo@96E478A3.6D2FB7A4.79933D60.IP)
[18:30:19] <erickt> cmr: you could try doing "let s = match r.interpolations.get(&name) { Some(s) => s, None => r.sp_diag.span_fatal(r.cur_span, "â€¦") }; lookup_cur_matched_by_matched(r, *s)"
[18:31:23] *** Joins: tikue (tkuehn@2557E599.66715431.D25A875A.IP)
[18:32:23] *** Quits: victorporof (victorporo@96E478A3.6D2FB7A4.79933D60.IP) (Ping timeout)
[18:32:31] *** Joins: solancile (solancile@moz-A1CFFAE5.hsd1.wa.comcast.net)
[18:37:17] *** Quits: MaikKlein (Mibbit@moz-5F822E06.dip0.t-ipconnect.de) (Quit: http://www.mibbit.com ajax IRC Client)
[18:40:54] <tikue> what is the fmt! directive for vectors?
[18:41:01] *** Joins: brendan (brendaneic@9E9221B0.60D98710.CE12DF22.IP)
[18:41:12] * strcat doubts there is one
[18:41:18] <strcat> just %? for anything
[18:41:18] *** Quits: mye (mye@moz-CB7B60C9.dip0.t-ipconnect.de) (Ping timeout)
[18:41:19] *** Quits: sk (sk@5F3B8500.CB2CB346.78DD174B.IP) (Input/output error)
[18:41:44] *** Joins: mye (mye@moz-B1A48CF6.dip0.t-ipconnect.de)
[18:41:49] <tikue> ah ok, thank you
[18:42:54] *** Quits: anshin (nbs@441B8B9E.2055B963.D2A6B5.IP) (Quit: Lost terminal)
[18:43:59] <kimundi> Does any notation for rusts macro 'signatures' exist?
[18:45:23] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[18:45:23] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 1402236ce to 143d82a0a: 02http://git.io/N3iJvQ
[18:45:23] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[18:45:24] <kimundi> like, for example 'fmt!(str lit [, expr]) -> ~str'
[18:45:27] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[18:45:27] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/pLWocQ
[18:45:27] <ghrust> 13rust/06auto 146c33f50 15Jihyun Yu: Fix #6342
[18:45:27] <ghrust> 13rust/06auto 144bbbae6 15bors: auto merge of #6672 : yjh0502/rust/fix_6342, r=graydon...
[18:45:27] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[18:45:52] *** Joins: anshin (nbs@441B8B9E.2055B963.D2A6B5.IP)
[18:48:50] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[18:49:11] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[18:50:57] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[18:52:10] *** Quits: Blub\w (wry@moz-A9259B70.wireless.dyn.drei.com) (Ping timeout)
[18:55:10] <cmr> erickt: nah, same error
[18:55:39] *** Joins: jviereck (Adium@moz-340574DC.dclient.hispeed.ch)
[18:56:35] *** Quits: brendan (brendaneic@9E9221B0.60D98710.CE12DF22.IP) (Quit: brendan)
[18:59:31] *** Quits: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP) (Quit: Leaving.)
[19:01:27] <doener> why does the borrow checker complain about bad(), but not about good()? https://gist.github.com/dotdash/5630010
[19:03:04] <strcat> doener: I guess it's not aware of temporary values in expressions yet
[19:03:18] <strcat> nmatsakis: ^ bug, or just the same known limitation from before?
[19:03:27] <nmatsakis> doener: you must "unnest" method calls when &mut self is involved.
[19:03:27] *** Quits: azita (Azita@2557E599.66715431.D25A875A.IP) (Quit: azita)
[19:03:34] <nmatsakis> doener: there is an issue on generalizing this, it's tricky, in progress
[19:03:43] <doener> ok, thanks
[19:04:28] <cmr> nmatsakis: is that the same thing I came across?
[19:05:37] <nmatsakis> cmr: I don't remember what it is you came across
[19:05:53] *** Quits: ssbr (scorchsabe@A9D9D38C.B6F034AC.72A31D6.IP) (Ping timeout)
[19:05:53] *** Quits: ssbr_ (ssbr@A9D9D38C.B6F034AC.72A31D6.IP) (Ping timeout)
[19:06:16] <nmatsakis> doener: https://github.com/mozilla/rust/issues/6268?source=c
[19:06:39] <cmr> nmatsakis: https://gist.github.com/cmr/b5c85579a193c86af09c at https://github.com/cmr/rust/blob/1ad4b59a6c551a8d8f9e7278dd976ae97efbcc66/src/libsyntax/ext/tt/transcribe.rs#L121
[19:07:56] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[19:08:01] *** Joins: ssbr (scorchsabe@A9D9D38C.B6F034AC.72A31D6.IP)
[19:08:04] <nmatsakis> cmr: no, that's a different issue. That is probably just...not a bug. You should use the find_copy method
[19:08:07] *** Joins: ssbr_ (ssbr@A9D9D38C.B6F034AC.72A31D6.IP)
[19:08:15] *** Quits: mye (mye@moz-B1A48CF6.dip0.t-ipconnect.de) (Quit: mye)
[19:08:17] <cmr> oh
[19:08:44] <nmatsakis> cmr: there is an issue on this, though, one sec
[19:08:55] <nmatsakis> cmr: https://github.com/mozilla/rust/issues/6393
[19:09:02] <nmatsakis> cmr: it's just that it's even harder to fix soundly :)
[19:09:49] *** Quits: ssbr (scorchsabe@A9D9D38C.B6F034AC.72A31D6.IP) (Ping timeout)
[19:10:06] *** Quits: ssbr_ (ssbr@A9D9D38C.B6F034AC.72A31D6.IP) (Ping timeout)
[19:10:24] *** Joins: ssbr (scorchsabe@A9D9D38C.B6F034AC.72A31D6.IP)
[19:10:42] *** Joins: ssbr_ (ssbr@A9D9D38C.B6F034AC.72A31D6.IP)
[19:11:10] *** Quits: Earnestly (earnest@6A917A59.5E1FD793.39C00A7A.IP) (Ping timeout)
[19:11:19] <cmr> nmatsakis: I don't really see why find_copy works but find does not, but it does indeed work
[19:12:34] <doener> cmr: find() gives you a borrowed pointer to an element in the hashmap. If the hashmap gets modified, that might get invalidated. If you get a copy of the value, that can't happen
[19:12:41] <nmatsakis> cmr: the reason is that the borrow checker reasons about scopes in a lexical way. find returns a pointer that must be valid for the entire match statement, so that winds up freezing the map for the entire match statement. find_copy does not return a pointer into the map at all.
[19:12:45] <nmatsakis> more or less what doener said
[19:12:45] *** Quits: solancile (solancile@moz-A1CFFAE5.hsd1.wa.comcast.net) (Ping timeout)
[19:13:10] <nmatsakis> cmr: basically, when you have Some(p) <-- the map is frozen for the scope of that p
[19:13:31] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[19:14:01] <nmatsakis> because p is a pointer into the map; we don't try to reason about the precise dataflow, so the only way we know for sure that the pointer p is gone, it that is has gone out of scope
[19:14:19] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[19:16:55] *** Quits: brson (brson@2557E599.66715431.D25A875A.IP) (Ping timeout)
[19:18:57] <cmr> mm
[19:19:02] <cmr> that makes sense
[19:19:14] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[19:19:42] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[19:20:47] *** Quits: Sodel_the_V (user@moz-853663E1.va.shawcable.net) (Quit: Eaten by a grue)
[19:23:44] *** Quits: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Quit: lkuper)
[19:28:44] *** Quits: jviereck (Adium@moz-340574DC.dclient.hispeed.ch) (Ping timeout)
[19:29:36] *** Joins: jviereck (Adium@moz-BA1D85DC.dclient.hispeed.ch)
[19:29:42] *** Joins: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP)
[19:30:51] *** Joins: victorporof (victorporo@96E478A3.6D2FB7A4.79933D60.IP)
[19:32:17] *** Quits: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[19:32:19] <kimundi> nmatsakis: Are there other problems with the current '&fn' needing to be '&mut fn' for consistency in your DST proposal apart from increased verbosity?
[19:32:29] *** Joins: steven_is_false (user@moz-144077DE.bchsia.telus.net)
[19:32:37] <nmatsakis> kimundi: no.
[19:32:53] <nmatsakis> kimundi: well, there is the fact that I think the current model conflates two different things (by ref capture and by copy capture)
[19:33:02] *** Quits: victorporof (victorporo@96E478A3.6D2FB7A4.79933D60.IP) (Ping timeout)
[19:34:13] <zxcdw> I'm trying to play around with generics a bit and can't seem to make sense out of this. Say ( https://gist.github.com/anonymous/d7305e3430c7747f0c5d ) 
[19:34:23] <zxcdw> eh, wrong button D: But the important goes!
[19:34:38] <zxcdw> (I wanted to elaborate before acidentally hitting enter)
[19:35:34] <kimundi> nmatsakis: yeah... I'm still thinking about my 'env fn' thing and wether I can find a way to make that work without loosing the distinction of fn/proc
[19:35:42] *** Joins: q66_ (q66@6EE9DE40.46454B5D.33AABD5F.IP)
[19:35:43] *** Quits: q66_ (q66@6EE9DE40.46454B5D.33AABD5F.IP) (Client exited)
[19:35:47] <steven_is_false> rusti: struct typestore <T> { store : T }; typestore { store : "FOo" }
[19:35:48] -rusti- {store: "FOo"}
[19:35:59] <steven_is_false> rusti: struct typestore <T> { store : T }; typestore::<()> { store : () }
[19:36:00] -rusti- {store: ()}
[19:36:31] <strcat> zxcdw: in expressions, ::<T, U> is used to avoid ambiguity
[19:38:03] *** Joins: mflamer (Mibbit@moz-FE8B7976.dsl.pltn13.sbcglobal.net)
[19:38:39] *** Quits: sawyer (sawyer@moz-F8DBF066.barbara.ds.polsl.pl) (Quit: WeeChat 0.4.1)
[19:39:21] <steven_is_false> How would I print out what an automatically inferred type is? For instance, suppose I have the value "foo". The value "foo" should default to a borrowed static string but is there a way to print out the value at runtime? Something like let x = "foo"; type_name:: <type_of! (x)> ()?
[19:39:28] <engla> <T> is used where a type parameter is syntactically required, ::<T> where it's optional.
[19:39:44] <mflamer> I'm new to Rust. Is rusti installed on windows along with rustc? Thanks.
[19:39:56] *** Quits: eatkinson (eatkinson@2557E599.66715431.D25A875A.IP) (Quit: eatkinson)
[19:41:53] <nmatsakis> steven_is_false: maybe make a fn "fn foo<T>(x: &T) -> ~str { type_name::<T>() }"?
[19:41:57] <nmatsakis> steven_is_false: and call it foo(&x)?
[19:42:30] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[19:42:30] <ghrust> 01[13rust01] 15bors merged 06auto into 06incoming: 02http://git.io/pLWocQ
[19:42:30] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[19:42:49] <steven_is_false> nmatsakis: Okay, that'd get rid of the type_of! part but is it possible to get the type name at compile time?
[19:42:56] <nmatsakis> steven_is_false: no.
[19:43:03] <mflamer> Or, more generally how would I get rusti running. Do I need to pull the code and compile myself?
[19:43:06] <steven_is_false> nmatsakis: Okay.
[19:44:14] *** Quits: tgt (tgt@moz-D59EE478.aztw.cable.virginmedia.com) (Quit: Computer has gone to sleep.)
[19:44:47] <zxcdw> strcat: Gah I'm lost. :( So what am I doing wrong? :P
[19:45:14] <cmr> mflamer: it should be installed alongside rustc, last I knew.
[19:45:24] <strcat> zxcdw: constructing the struct is either Foo{x: y} (the type will be inferred) for Foo::<T>{x: y}
[19:45:43] *** Quits: deLta30 (quassel@6737F9E5.1C3F20FA.3FEEFD97.IP) (Ping timeout)
[19:45:44] *** Quits: tikue (tkuehn@2557E599.66715431.D25A875A.IP) (Quit: tikue)
[19:46:31] *** Quits: tef (tef@moz-67B68E00.printf.net) (Client exited)
[19:47:08] <zxcdw> strcat: Oh yeah indeed, and now I get what steven_is_false was after, thanks. :)
[19:47:10] *** Quits: fabiand (fabiand@moz-EEAE8A83.adsl.alicedsl.de) (Quit: Verlassend)
[19:47:12] *** Joins: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP)
[19:47:46] <cmr> r? https://github.com/mozilla/rust/pull/6686
[19:48:01] *** Quits: Guest_ (textual@BBE7C46A.B4F11D08.8612FA94.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[19:48:34] *** Joins: erickt1 (erickt@8C9ECD8F.3A598286.F12515B4.IP)
[19:48:49] <steven_is_false> Hmm, it's not possible to create an instance of the type struct Rec (@Rec); without using unsafe magic. But once created it is a valid object right? Does that mean the Rec struct should be allowed?
[19:48:50] *** Joins: deLta30 (quassel@6737F9E5.1C3F20FA.3FEEFD97.IP)
[19:48:58] <erickt1> cmr: did you figure out your problem?
[19:49:18] <cmr> erickt1: yeah, just need a find_copy
[19:49:31] <erickt1> great
[19:49:39] *** Joins: azita (Azita@2557E599.66715431.D25A875A.IP)
[19:49:39] *** Quits: BitPuffin (quassel@moz-8370D1B9.bredband.comhem.se) (Ping timeout)
[19:49:46] *** Quits: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[19:49:51] <cmr> I don't know any of the macro terminology, though, so "macro variable" was the best I could come up with
[19:50:00] *** erickt1 is now known as erickt
[19:50:24] <erickt> cmr: can you add a test for this?
[19:50:30] <cmr> erickt: I was just doing that now
[19:50:40] <erickt> thanks
[19:51:16] <erickt> cmr: does this also close 3850?
[19:51:33] <erickt> nope, that's a bigger issue
[19:51:53] <engla> are there buffering (blocking) implementations of comm::stream() ?
[19:52:13] *** Joins: BitPuffin (quassel@moz-8370D1B9.bredband.comhem.se)
[19:52:25] *** Quits: deLta30 (quassel@6737F9E5.1C3F20FA.3FEEFD97.IP) (Connection reset by peer)
[19:52:32] *** Joins: deLta30 (quassel@6737F9E5.1C3F20FA.3FEEFD97.IP)
[19:54:27] *** Joins: Earnestly (earnest@6A917A59.5E1FD793.39C00A7A.IP)
[19:54:32] <steven_is_false> So a cyclic data structure like in:
[19:54:35] <steven_is_false> rusti: struct Rec (Option <@mut Rec>); let  x = @mut Rec (None); *x = Rec (Some (x)); x
[19:54:36] -rusti- /usr/local/bin/rust.sh: line 21:    13 Killed                  ./foo
[19:55:10] <strcat> fmt! doesn't cycle check
[19:55:35] <strcat> the operator overloads for @ are buggy (too broad) too
[19:55:44] *** Quits: deLta30 (quassel@6737F9E5.1C3F20FA.3FEEFD97.IP) (Ping timeout)
[19:55:58] <steven_is_false> Would be constructable for struct Rec2 (@mut Rec); using unsafe magic, and valid once constructed. Shouldn't that structure be allowed then? Or are we expected to just use unsafe pointers if we're going to do that kind of stuff?
[19:57:23] <naq> is it possible to statically compile rust code?
[19:57:38] <mflamer> cmr: thanks, I don't see it on my machine.
[19:57:53] <cmr> mflamer: It might not be :(
[19:57:53] <mflamer> I'll try to build it myself
[19:58:03] <strcat> naq: rust is primarily ahead-of-time compiled
[19:58:19] <cmr> mflamer: There's build instructions for windows on the wiki, Thad Guidry updated them for windows recently.
[19:58:23] <steven_is_false> naq: You mean like some kind of compile! ("STUFF") macro? I really don't see the use of that. Can you explain?
[19:58:32] <cmr> naq: you mean statically link?
[19:58:49] <naq> steven_is_false: no, I just meant a statically compiled binary like go does
[20:00:22] <mflamer> sweet. I'll take a look. Rust looks like a nice compromise between modern language features and practical usability.   
[20:00:26] <steven_is_false> How does one decay a managed pointer into an unsafe pointer?
[20:00:45] <naq> cmr: yes
[20:00:46] *** Joins: FrozenCow (FrozenCow@moz-9DF5D010.dynamic.upc.nl)
[20:01:30] <jdm> engla: do you mean making send block until the message is received?
[20:01:45] <jdm> steven_is_false: ptr::to_mut_ptr, I think
[20:02:00] <strcat> would it really ever be useful to do that?
[20:02:08] <steven_is_false> rusti: let x = @5; ptr::to_mut_ptr (x)
[20:02:10] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/JHBj
[20:02:21] <steven_is_false> rusti: let x = @5; core::ptr::to_mut_ptr (x)
[20:02:22] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/LbLR
[20:02:23] <jdm> steven_is_false: oh, then ptr::to_mut_ptr(&*x)
[20:02:42] <strcat> how long does an & borrow into @ root it for?
[20:02:47] <steven_is_false> jdm: &*x seems really weird.
[20:02:49] <jdm> er, to_unsafe_ptr
[20:03:15] <jdm> steven_is_false: actually, are you looking for an unsafe pointer to the box, or the contents?
[20:03:18] * strcat doesn't see how to_unsafe_ptr could be safe ;\\
[20:03:48] <strcat> and by safe I mean ever used in a correct way
[20:04:25] <jdm> strcat: it's great for pointers to static data for C code
[20:04:31] <jdm> no thinking necessary
[20:04:33] <engla> jdm: block send if buffer is full
[20:04:39] <strcat> jdm: specifically with @
[20:04:56] <strcat> jdm: and what if the gc frees it?
[20:05:06] <jdm> strcat: sure, that's the whole danger of unsafe pointers.
[20:05:13] <jdm> it's expected that you know what you're doing.
[20:05:21] <strcat> jdm: I'm not talking about that
[20:05:28] <strcat> jdm: I don't think it can *ever* be correct
[20:05:39] <strcat> borrowing & roots the @
[20:05:58] <strcat> if there's a function converting right to *, you can never use the * ptr
[20:06:11] <strcat> and I don't think going & -> * in a function would work
[20:06:16] <strcat> the scope of the & is that function
[20:06:29] <strcat> so I don't see how to_unsafe_ptr could be correct for @
[20:07:02] *** Quits: azita (Azita@2557E599.66715431.D25A875A.IP) (Quit: azita)
[20:07:06] <jdm> I don't follow. The location of the contents isn't going to change; the pointer will remain valid as long as the box stays alive, despite the borrow lifetime ending.
[20:07:41] <jdm> I mean, if we're talking about a moving GC I can imagine that being a problem.
[20:07:44] *** Quits: steven_is_false (user@moz-144077DE.bchsia.telus.net) (Ping timeout)
[20:07:45] <strcat> you don't know how long the box will stay alive
[20:08:00] <strcat> jdm: there's no reason the gc can't be moving, @mut borrows are already tracked
[20:08:13] <jdm> strcat: sure, so you don't use this unless you actually ensure the box stays alive as long as you need it.
[20:08:19] *** Joins: azita (Azita@2557E599.66715431.D25A875A.IP)
[20:08:25] <jdm> it's not going to be safe by default.
[20:08:44] *** Joins: deLta30 (quassel@6737F9E5.1C3F20FA.3FEEFD97.IP)
[20:08:51] *** Joins: lkuper (lkuper@290F781E.FFCF2A3B.51B6877.IP)
[20:08:55] <strcat> well you could ensure that it stays alive with an & borrow
[20:08:55] <cmr> erickt: test added
[20:09:10] <strcat> but then you have an & borrow that will implicitly coerce to *, so you don't need to_unsafe_ptr
[20:09:34] <strcat> jdm: borrowing & into @ adds the & as a root afaik
[20:18:15] *** Quits: jdm (jdm@DB05BBF2.BB1F48F2.971E19F6.IP) (Ping timeout)
[20:21:11] *** Quits: mflamer (Mibbit@moz-FE8B7976.dsl.pltn13.sbcglobal.net) (Quit: http://www.mibbit.com ajax IRC Client)
[20:22:44] *** Quits: diegoyam (quassel@FF9B1514.A4EC3D18.3A1EC144.IP) (Ping timeout)
[20:23:29] *** Quits: FrozenCow (FrozenCow@moz-9DF5D010.dynamic.upc.nl) (Client exited)
[20:24:13] *** Joins: FrozenCow (FrozenCow@moz-9DF5D010.dynamic.upc.nl)
[20:24:46] *** Joins: diegoyam (quassel@FF9B1514.A4EC3D18.3A1EC144.IP)
[20:25:35] *** Quits: FrozenCow (FrozenCow@moz-9DF5D010.dynamic.upc.nl) (Client exited)
[20:25:41] *** Joins: FrozenCow (FrozenCow@moz-9DF5D010.dynamic.upc.nl)
[20:28:25] *** Quits: anshin (nbs@441B8B9E.2055B963.D2A6B5.IP) (Quit: Lost terminal)
[20:28:48] <erickt> cmr: can you change the error message to be along the lines of "unknown macro variable `nonexistent`"?
[20:28:57] *** Quits: FrozenCow (FrozenCow@moz-9DF5D010.dynamic.upc.nl) (Client exited)
[20:29:03] *** Joins: FrozenCow (FrozenCow@moz-9DF5D010.dynamic.upc.nl)
[20:29:21] *** Joins: sk (sk@61A494B3.BA40E8A.AAC02D62.IP)
[20:30:17] *** Joins: steven_is_false (user@moz-144077DE.bchsia.telus.net)
[20:31:29] *** Joins: victorporof (victorporo@96E478A3.6D2FB7A4.79933D60.IP)
[20:31:52] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[20:31:52] <steven_is_false> For issue https://github.com/mozilla/rust/issues/6616 how big is the crate metadata? As I understand it, the pull request adds another form of inline hint but I don't see why this shouldn't just be applied to all functions automatically.
[20:32:05] *** Quits: FrozenCow (FrozenCow@moz-9DF5D010.dynamic.upc.nl) (Client exited)
[20:32:13] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[20:32:26] <strcat> steven_is_false: ABI implications
[20:32:52] *** Joins: FrozenCow (FrozenCow@moz-9DF5D010.dynamic.upc.nl)
[20:32:58] <steven_is_false> strcat: I don't understand what you mean.
[20:33:36] <strcat> steven_is_false: if you have #[inline(maybe)], you can no longer just upgrade a library without rebuilding
[20:33:40] *** Quits: victorporof (victorporo@96E478A3.6D2FB7A4.79933D60.IP) (Ping timeout)
[20:33:49] *** Joins: mschifer1 (Adium@2557E599.66715431.D25A875A.IP)
[20:33:58] *** Quits: mschifer (Adium@2557E599.66715431.D25A875A.IP) (Connection reset by peer)
[20:34:01] <steven_is_false> strcat: Okay! So it's the difference between macros, and normal functions basically.
[20:34:01] <strcat> there's no longer just a defined ABI exposed
[20:34:01] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[20:34:10] <strcat> steven_is_false: yes, essentially
[20:34:21] <strcat> same kind of thing
[20:34:55] <steven_is_false> So for statically linked libraries it would make sense to have that stuff happen automatically though?
[20:36:14] <strcat> yes, if size isn't a concern - afaik
[20:36:42] *** Quits: FrozenCow (FrozenCow@moz-9DF5D010.dynamic.upc.nl) (Client exited)
[20:37:50] *** Joins: FrozenCow (FrozenCow@moz-9DF5D010.dynamic.upc.nl)
[20:37:52] <steven_is_false> So jitter languages don't care about this problem?
[20:38:11] *** Joins: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net)
[20:39:06] <strcat> steven_is_false: yeah, I don't think they would experience it
[20:39:12] <strcat> it only really applies to dynamic linking
[20:39:25] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[20:39:25] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/LbAwLA
[20:39:25] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[20:39:27] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[20:39:27] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/Zs8LRg
[20:39:27] <ghrust> 13rust/06auto 148327900 15Tim Chevalier: testsuite: Add passing test for #4107
[20:39:27] <ghrust> 13rust/06auto 14c4ab340 15bors: auto merge of #6483 : catamorphism/rust/issue-4107, r=catamorphism
[20:39:27] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[20:39:30] <strcat> another related issue is object size
[20:39:35] <strcat> private fields are still public ABI
[20:39:53] <strcat> add a field -> you changed the struct size, you have to recompile all the code using it
[20:39:53] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[20:40:26] <steven_is_false> strcat: Does that mean one might want to use idiom where one returns a pointer to a class instead of the actual class? 
[20:40:34] *** Joins: eatkinson (eatkinson@2557E599.66715431.D25A875A.IP)
[20:40:41] <strcat> steven_is_false: yes it's called PIMPL (pointer to implementation)
[20:40:44] <strcat> an example is FILE in C
[20:40:51] <strcat> it's a struct, but you're only given a pointer to it
[20:41:07] <strcat> you can't actually allocate a FILE yourself because you don't know what's in it
[20:42:06] <strcat> C doesn't have private fields but you can use PIMPL to implement privacy
[20:42:15] <strcat> and it's also ABI privacy
[20:42:37] <strcat> private fields encourage you to have more stuff unboxed, so you gain performance and lose forwards compatibility
[20:42:43] *** Joins: tikue (tkuehn@2557E599.66715431.D25A875A.IP)
[20:43:33] <strcat> dynamic linking arguably hurts a lot more than it helps ;p
[20:43:49] <steven_is_false> strcat: A really heavy weight alternative is do an Erlangish style where one passes messages to an object/thread.
[20:45:17] *** Joins: lucian (lucian@moz-22A14C6A.cable.virginmedia.com)
[20:46:19] <erickt> steven_is_false: Or Objective C and Smalltalk's message passing to instances. Not as heavyweight as Erlang (AFAIK) but not as efficient as a static vtable method resolution
[20:46:36] *** Joins: deLta30_ (quassel@C21CFF25.61F70D02.F7B44A7.IP)
[20:46:40] <steven_is_false> erickt: Only sense they implemented the non fragile abi but yes.
[20:46:58] *** Quits: deLta30 (quassel@6737F9E5.1C3F20FA.3FEEFD97.IP) (Ping timeout)
[20:47:16] <Eridius> erickt: obj-c actually has a mini-vtable for the 10 or so most common messages
[20:47:17] *** Quits: kvark (Mibbit@9A8A5739.49975FB2.AE2D72A6.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[20:47:41] <Eridius> the ones that are a) called a lot, and b) almost never overridden, such as -retain and -release
[20:47:54] <Eridius> and each class also has a method cache to make lookup of recently-used methods really fast
[20:48:01] <erickt> Eridius: In the style of a polymorphic cache? Or does the compiler compute what's the most likely used methods?
[20:48:16] <erickt> neat
[20:48:23] <Eridius> erickt: the 10 or so that I mentioned is a static compile-time cache
[20:50:14] *** Joins: brson (brson@2557E599.66715431.D25A875A.IP)
[20:50:14] *** ChanServ sets mode: +o brson
[20:50:18] *** Joins: deLta30 (quassel@D8B0DBA5.D91D66A0.622A08E2.IP)
[20:50:26] <steven_is_false> I can never remember, is it Port, or Chan that is written to?
[20:50:37] <brson> steven_is_false: Chan
[20:50:48] <steven_is_false> brson: Thank you!
[20:50:50] *** Quits: deLta30_ (quassel@C21CFF25.61F70D02.F7B44A7.IP) (Ping timeout)
[20:52:43] *** Quits: lucian (lucian@moz-22A14C6A.cable.virginmedia.com) (Input/output error)
[20:53:09] <acrichto> brson: did you get a chance to see my latest comment on https://github.com/mozilla/rust/pull/6570 ?
[20:54:15] <brson> acrichto: no. I'll log into the try bot and delete things
[20:54:28] <acrichto> brson: thanks!
[20:54:42] <brson> acrichto: keep in mind that there are multiple bots, so multiple builds aren't necessarily running in the same workspace
[20:55:11] *** Quits: deLta30 (quassel@D8B0DBA5.D91D66A0.622A08E2.IP) (Client exited)
[20:55:51] <acrichto> brson: this wouldn't have to do with the llvm sources being in a folder called 'lib' instead of 'src' would it ? https://github.com/mozilla/rust/blob/66bd0f6c00811cd81b95d805f9eda0de4a6a5301/mk/llvm.mk#L17
[20:57:48] *** Quits: haard (fredrik@moz-6A86987C.dynamic.se.alltele.net) (Ping timeout)
[20:57:52] <bjz> Jeaye: https://github.com/glfw/glfw/compare/a8a69006ff70...0b5de6dd2836 ?
[20:58:29] <Jeaye> Oh, that looks promising.
[20:59:08] *** Joins: isaac (Mibbit@moz-E36B33FE.dfw.dsl-w.verizon.net)
[20:59:17] <acrichto> brson: I just remembered to look at the clean-llvm logs, http://buildbot.rust-lang.org/builders/try-win/builds/514/steps/clean-llvm/logs/stdio the removal of the previous objects is failing due to permissions issues
[20:59:27] <brson> acrichto: I don't think so, but good catch. the patch is wrong
[20:59:52] <brson> huh
[20:59:53] <brson> ok
[21:02:36] *** Quits: isaac (Mibbit@moz-E36B33FE.dfw.dsl-w.verizon.net) (Quit: http://www.mibbit.com ajax IRC Client)
[21:03:11] *** Quits: Palmik (palmik@moz-DADC71F0.pks.muni.cz) (Quit: Lost terminal)
[21:03:18] <brson> acrichto: I deleted the try workspace. can you start another build?
[21:03:29] <acrichto> brson: will do
[21:04:25] <acrichto> brson: didn't seem to get very far http://buildbot.rust-lang.org/builders/try-win/builds/515/steps/configure/logs/stdio
[21:05:39] *** Quits: eatkinson (eatkinson@2557E599.66715431.D25A875A.IP) (Quit: eatkinson)
[21:05:51] *** Joins: igl (igl@moz-E2A4CD7.adsl.alicedsl.de)
[21:07:18] <engla> jdm:  I made a prototype buffered/blocking stream this way: http://paste.debian.net/plainh/247bd169   the only reason is that if you block on send (when buffer is full), you can make go-like iterators that feed in one thread and iterate on the results in another.
[21:08:07] <bjz> Jeaye: news just in from #glfw, it seems like the final gommits to glfw 3.0 have been pushed
[21:08:23] <Jeaye> Nice. :D
[21:08:26] <brson> acrichto: once more. I guess this permission denied thing is fallout from running builds manually on the bot
[21:08:34] <brson> now i literally deleted everything
[21:09:33] *** Joins: spider-mario (spidermari@moz-2F72F6FF.dsl.quantic-telecom.net)
[21:11:46] *** Joins: eatkinson (eatkinson@2557E599.66715431.D25A875A.IP)
[21:11:55] <acrichto> brson: looking good so far, it's gotten to compiling and I didn't see errors in clean-llvm
[21:12:03] *** Quits: spider-mario (spidermari@moz-2F72F6FF.dsl.quantic-telecom.net) (Input/output error)
[21:12:33] <tjc> brson: along those lines, do you know what's going on here? http://buildbot.rust-lang.org/builders/auto-win/builds/1364/steps/test/logs/stdio
[21:13:58] <acrichto> tjc: I think that the test needs to have the main function as 'pub fn main'
[21:14:14] <tjc> acrichto: ah ok, thanks! I remember this happening before but I forgot that that was the reason
[21:14:37] <steven_is_false> So here's a link to a simple erlang style oop example https://gist.github.com/sstewartgallus/5630954 .
[21:15:29] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[21:15:29] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14c4ab340 to 144bbbae6: 02http://git.io/N3iJvQ
[21:15:29] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[21:15:32] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[21:15:32] <ghrust> 01[13rust01] 15bors pushed 19 new commits to 06auto: 02http://git.io/THlnvA
[21:15:32] <ghrust> 13rust/06auto 143d9697b 15Patrick Walton: librustc: Disallow `use` from reaching into impls or traits....
[21:15:32] <ghrust> 13rust/06auto 143c71ef8 15Patrick Walton: librustc: Disable borrow check debugging even when rustc is compiled with -O0....
[21:15:32] <ghrust> 13rust/06auto 145f1b7a9 15Patrick Walton: test: Fix tests.
[21:15:33] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[21:17:03] <bjz> pcwalton: dang, still trying to get that `use` thing through :(
[21:17:12] <bjz> pcwalton: difficult test?
[21:17:40] <pcwalton> there's a lot of stuff here
[21:18:11] <pcwalton> lots of test failures, yeah
[21:18:13] <pcwalton> usually due to merge conflicts
[21:18:19] <pcwalton> basically I'm in merge hell
[21:18:44] <bjz> dang :(
[21:21:29] *** Quits: saml (sam@moz-14C16814.cst.lightpath.net) (Quit: Leaving)
[21:23:31] *** Quits: bleibig (bleibig@moz-58EF3B3A.rochester.res.rr.com) (Quit: bleibig)
[21:26:30] *** Joins: bjz_ (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[21:26:51] *** Quits: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[21:28:39] *** Joins: jdm (jdm@CAB30FBD.8F96AEA7.2D179A7D.IP)
[21:30:33] <tikue> bjz_: do you know if there's a sum function for vectors?
[21:30:54] <bjz_> tikue: as in numeric sum?
[21:30:59] <tikue> yes
[21:31:06] <bjz_> tikue: there is not
[21:31:14] *** Quits: pcwalton (pcwalton@43CB6079.66715431.D25A875A.IP) (Quit: pcwalton)
[21:31:22] <tikue> bjz_: ok, thank you
[21:31:22] <bjz_> but you can easily do it with a fold
[21:31:32] <tikue> bjz_: ah good point
[21:31:58] <bjz_> rusti: [1, 2, 3].foldl(0, |a, b| a + b)
[21:32:00] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/GJYi
[21:32:10] <brson> strcat: you have a sum function in the iterator module. how does that work with vectors?
[21:32:11] *** Quits: Benvie_ (brandon@5FD20F9A.53D07D95.EFF8B7BF.IP) (Ping timeout)
[21:32:12] <bjz_> rusti: [1, 2, 3].foldl(0, |&a, &b| a + b)
[21:32:13] -rusti- 6
[21:32:23] <bjz_> tikue: ^ :)
[21:32:49] <strcat> rusti: [1u, 2, 3].iter().sum()
[21:32:50] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/UZGf
[21:33:09] <strcat> rusti: use core::iterator::IteratorUtil; [1u, 2, 3].iter().sum()
[21:33:10] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/LghU
[21:33:20] *** Joins: Benvie_ (brandon@5FD20F9A.53D07D95.EFF8B7BF.IP)
[21:33:31] <strcat> huh
[21:33:31] *** Joins: pcwalton (pcwalton@2557E599.66715431.D25A875A.IP)
[21:33:31] *** ChanServ sets mode: +o pcwalton
[21:33:39] <strcat> oh
[21:33:40] *** Joins: rocode (rocode@moz-64C1010D.rocode.net)
[21:33:44] <strcat> rusti: use core::iterator::*; [1u, 2, 3].iter().sum()
[21:33:45] -rusti- foo.rs:5:32: 6:5 error: failed to find an implementation of trait core::ops::Add<&uint,&uint> for &uint
[21:33:45] -rusti- foo.rs:5          use core::iterator::*; [1u, 2, 3].iter().sum()
[21:33:45] -rusti- foo.rs:6     });
[21:33:45] -rusti- note: in expansion of fmt!
[21:33:45] -rusti- foo.rs:4:12: 6:7 note: expansion site
[21:33:51] * strcat sighs ;p
[21:34:06] *** Quits: bnicholson (bnicholson@moz-E98974C1.hsd1.ca.comcast.net) (Input/output error)
[21:34:16] <strcat> rusti: use core::iterator::*; [1u, 2, 3].iter().transform(|&x| x).sum()
[21:34:17] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/cEdO
[21:34:53] <tikue> hmmm
[21:34:56] <strcat> brson: well rustc hates me apparently ;p
[21:35:06] *** Joins: Jesin (Jessin_@moz-A03A364F.cc.lehigh.edu)
[21:35:16] <tikue> strcat: let me know if you figure it out; I'll use fold for now
[21:35:17] <strcat> rusti: iter::sum(|f| [1u, 2, 3].each(f))
[21:35:18] -rusti- 6
[21:35:33] <robarnold> strcat: so...any more thoughts on making that bot not use notice?
[21:36:44] <strcat> I don't really understand the reasoning for making it not use it
[21:36:47] <strcat> it's what NOTICE is for
[21:37:13] <tjc> graydon: can you render an opinion here? ^
[21:37:16] <strcat> irssi may default to highlighting it but that's really silly and can be turned off, other clients don't
[21:37:26] <robarnold> strcat: we went over this last time. I do not wish to spend another 30 minutes on it again.
[21:37:26] <EXetoC> fine with me
[21:37:30] *** Joins: bnicholson (bnicholson@moz-E98974C1.hsd1.ca.comcast.net)
[21:37:43] <sp3d> it might be nice to have a guide for irssi users, as I understand configuring it can be a matter of obscure incantations
[21:38:02] <graydon> isn't notice for posting stuff everyone is supposed to pay attention to?
[21:38:15] <robarnold> graydon: that was my understanding but the spec and strcat disagree
[21:38:18] <strcat> graydon: no, it's for messages that shouldn't be automatically replied to
[21:38:31] <strcat> it's used by freenode services/bots for that reason
[21:38:33] <sp3d> afaik it's intended as an explicit *reply* that shouldn't generate other replies
[21:38:37] <graydon> "There is also another command to send messages, called NOTICE. Unlike MSGs, NOTICEs are surrounded by â€˜-â€™ when printed, and no automated responses, (such as generated by IGNORE or an automaton), will be sent in reply. Services, (robots), on IRC often use this form of interaction"
[21:38:39] <graydon> ok then
[21:38:52] <graydon> sounds like NOTICE is correct
[21:39:11] <strcat> it means rusti can't get in a loop with another bot, which happened in another channel I have it in
[21:39:17] <graydon> that sounds bad
[21:39:22] <tikue> lol
[21:39:25] <strcat> it wasn't malicious, but someone felt like messing around it with and it looped until it got kicked/banned
[21:39:28] <strcat> so I switched to NOTICE
[21:39:46] <strcat> I don't think they expected it to work...
[21:39:48] <graydon> sure. so .. the problem is that some clients make NOTICE really .. noticable?
[21:40:04] <strcat> apparently irssi treats it as a ping by default
[21:40:12] <robarnold> graydon: yes. we've only used notice on Mozilla for things of channel-wide or server-wide importance afaik
[21:40:15] <brendanc> (psychoanalyze-rusti)
[21:40:33] *** Quits: naq (naq@D5C2D2DF.E4265FCD.E481B5B.IP) (Ping timeout)
[21:41:57] *** Quits: lkuper (lkuper@290F781E.FFCF2A3B.51B6877.IP) (Ping timeout)
[21:42:03] <graydon> um. so is mozilla IRC network just weird? or is irssi just weird?
[21:42:14] *** Quits: doomlord1 (walter@moz-B63745D8.range86-176.btcentralplus.com) (Ping timeout)
[21:42:14] *** Quits: doomlord (doomlod@moz-B63745D8.range86-176.btcentralplus.com) (Ping timeout)
[21:42:15] <robarnold> I've never seen the other use on Freenode or Facebook
[21:42:17] *** Joins: naq (naq@D5C2D2DF.E4265FCD.E481B5B.IP)
[21:42:33] <robarnold> so my experience suggested that the usage was weird
[21:42:35] <bjz_> graydon: irssi I'm guessing
[21:42:55] <bjz_> I don't have any issues
[21:43:26] <robarnold> Yeah, it's just me as far as I know.
[21:43:36] <jdm> irssi doesn't do anything weird for me with the notices
[21:43:39] *** Quits: Jesin (Jessin_@moz-A03A364F.cc.lehigh.edu) (Ping timeout)
[21:43:45] * strcat shrugs
[21:43:50] <robarnold> jdm: it doesn't colorize them?
[21:43:57] <strcat> afaik it's just supposed to look slightly different
[21:44:04] <jdm> but I also turned down a lot of the importance levels for things I didn't care about
[21:44:04] <jdm> robarnold: it does do that
[21:44:15] <strcat> rusti: 2
[21:44:16] -rusti- 2
[21:45:17] <strcat> http://i.imgur.com/6A1z6lA.png that's all it does in weechat
[21:45:20] *** Quits: maxli (maxli@F2D29657.F60B0462.67AC9B1.IP) (Quit: Leaving.)
[21:45:21] *** Joins: lkuper (lkuper@290F781E.FFCF2A3B.51B6877.IP)
[21:45:26] <steven_is_false> Is rust every going to have circular imports?
[21:45:29] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[21:45:29] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 146d65205 to 144bbbae6: 02http://git.io/N3iJvQ
[21:45:29] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[21:46:05] *** Quits: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net) (Ping timeout)
[21:47:50] *** Joins: Jesin (Jessin_@moz-A03A364F.cc.lehigh.edu)
[21:47:52] *** Quits: lkuper (lkuper@290F781E.FFCF2A3B.51B6877.IP) (Ping timeout)
[21:52:02] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.1)
[21:52:45] <graydon> steven_is_false: as globs, I think pcwalton feels they cannot be made to make sense.
[21:52:49] <graydon> perhaps I am wrong
[21:54:54] <steven_is_false> okay
[21:59:28] <pcwalton> it'd complicate resolve.
[21:59:41] <pcwalton> that said maybe it can make sense
[22:00:22] <pcwalton> but I'd rather fix resolve to handle the cases we have right now
[22:00:58] *** Joins: tcsc (tcsc@moz-A838B260.dhcp.nwtn.ct.charter.com)
[22:03:04] *** Joins: lucian (lucian@moz-22A14C6A.cable.virginmedia.com)
[22:03:27] *** Joins: MaikKlein (Mibbit@moz-5F822E06.dip0.t-ipconnect.de)
[22:04:47] *** Quits: lucian (lucian@moz-22A14C6A.cable.virginmedia.com) (Ping timeout)
[22:11:10] *** Quits: igl (igl@moz-E2A4CD7.adsl.alicedsl.de) (Ping timeout)
[22:11:39] *** Joins: lkuper (lkuper@moz-D6AAFF3.cs.indiana.edu)
[22:15:50] *** Quits: donri (dag@moz-9BB61102.tbcn.telia.com) (Client exited)
[22:16:10] *** Joins: hjr3 (hradtke@moz-AE3056B9.static.stls.mo.charter.com)
[22:18:28] *** Quits: tcsc (tcsc@moz-A838B260.dhcp.nwtn.ct.charter.com) (Quit: computer sleeping)
[22:19:23] *** Joins: tgt (tgt@moz-D59EE478.aztw.cable.virginmedia.com)
[22:19:51] *** Joins: Guest_ (textual@BBE7C46A.B4F11D08.8612FA94.IP)
[22:21:20] *** Joins: anshin (nbs@441B8B9E.2055B963.D2A6B5.IP)
[22:22:53] *** Quits: mcomella (mcomella@moz-B10FF54F.ri.ri.cox.net) (Connection reset by peer)
[22:23:28] *** Joins: mcomella (mcomella@moz-B10FF54F.ri.ri.cox.net)
[22:24:18] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Client exited)
[22:25:45] *** Quits: noam (noam@F6B530A7.720527A7.416762B.IP) (Ping timeout)
[22:27:09] *** Quits: ssbr (scorchsabe@A9D9D38C.B6F034AC.72A31D6.IP) (Ping timeout)
[22:27:22] *** Quits: ssbr_ (ssbr@A9D9D38C.B6F034AC.72A31D6.IP) (Ping timeout)
[22:27:36] *** Joins: ssbr_ (ssbr@A9D9D38C.B6F034AC.72A31D6.IP)
[22:27:40] *** Joins: ssbr (scorchsabe@A9D9D38C.B6F034AC.72A31D6.IP)
[22:29:13] *** Quits: FrozenCow (FrozenCow@moz-9DF5D010.dynamic.upc.nl) (Client exited)
[22:29:24] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[22:29:24] *** Joins: SiegeLord (siege@moz-CAF07B4C.hsd1.ma.comcast.net)
[22:29:44] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[22:30:45] *** Joins: noam (noam@F6B530A7.720527A7.416762B.IP)
[22:31:01] *** Quits: bytbox (s@moz-D83E9B31.wireless.umd.edu) (Ping timeout)
[22:31:29] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[22:35:39] *** Quits: noam (noam@F6B530A7.720527A7.416762B.IP) (Ping timeout)
[22:36:09] *** Joins: noam (noam@F6B530A7.720527A7.416762B.IP)
[22:38:26] *** Joins: devbug (quassel@moz-E1DE087C.bchsia.telus.net)
[22:39:21] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[22:39:21] <ghrust> 01[13rust01] 15bors merged 06auto into 06incoming: 02http://git.io/r-zYvA
[22:39:21] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[22:40:16] <MaikKlein> are exception
[22:40:30] <MaikKlein> is exception handling already in the language?
[22:40:59] <erickt> MaikKlein: I expect we won't ever have exceptions
[22:41:14] <steven_is_false> MaikKlein: There are two schemes of exception handling. Heavyweight (per-task), and lighweight (returning sum types.)
[22:41:36] <steven_is_false> Also, there is the conditions system.
[22:41:37] <aatch> There are also conditions, but that is more general to error handling
[22:41:56] *** Joins: igl (igl@moz-EE4B3E2F.adsl.alicedsl.de)
[22:41:57] <erickt> MaikKlein: here's graydon's explanation of why no exceptions: https://mail.mozilla.org/pipermail/rust-dev/2013-May/004117.html
[22:42:11] <MaikKlein> okay thanks couldn't find anything about this topic
[22:42:41] <aatch> catchable exceptions are hard (maybe impossible) to do well.
[22:42:55] <steven_is_false> Someone should make a post about this. Why u no have exceptions? Well, actually we have 3!
[22:43:40] <aatch> I like sum types. I come from a predominantly C background, so I haven't used exceptions much
[22:44:46] <aatch> sum types are like "error codes done right"
[22:45:12] <steven_is_false> Oh, finally there's also continuation passing style which is sort of like a hybrid between the tasking approach, and the sum type approach. (Sum types can be implemented using CPS, and the task system IS implemented by passing closures around.) 
[22:45:20] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[22:45:21] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/HxymyA
[22:45:21] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[22:45:21] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[22:45:21] <ghrust> 01[13rust01] 15bors pushed 19 new commits to 06auto: 02http://git.io/oYiOcQ
[22:45:21] <ghrust> 13rust/06auto 143d9697b 15Patrick Walton: librustc: Disallow `use` from reaching into impls or traits....
[22:45:21] <ghrust> 13rust/06auto 143c71ef8 15Patrick Walton: librustc: Disable borrow check debugging even when rustc is compiled with -O0....
[22:45:21] <ghrust> 13rust/06auto 145f1b7a9 15Patrick Walton: test: Fix tests.
[22:45:22] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[22:47:37] *** Quits: mzabaluev (mzabaluev@moz-91FFD755.dhcp.inet.fi) (Ping timeout)
[22:49:42] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[22:49:53] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[22:50:28] *** Quits: alexrp (zor@moz-180BED6.rfw.name) (Client exited)
[22:51:12] <Jeaye> I propose %s/rustc/rustic/g
[22:51:24] <acrichto> brson: try-win passed some time ago for the threadsafe-llvm pull req, so it should be good to go for merging. I imagine that pcwalton's massive renaming should land first though
[22:52:25] <cmr> erickt: No, I cannot.
[22:52:42] <cmr> erickt: unfortunately, there's no way I could see to find that information.
[22:52:47] <cmr> erickt: I could be wrong though! :)
[22:53:09] *** Joins: tcsc (tcsc@moz-A838B260.dhcp.nwtn.ct.charter.com)
[22:53:13] *** Joins: alexrp (zor@moz-180BED6.rfw.name)
[22:53:43] <brson> acrichto: ok
[22:54:51] *** Joins: bytbox (s@moz-D83E9B31.wireless.umd.edu)
[22:56:39] *** Joins: nooy (user@moz-2458675D.a146.priv.bahnhof.se)
[22:56:48] *** Quits: tcsc (tcsc@moz-A838B260.dhcp.nwtn.ct.charter.com) (Quit: computer sleeping)
[22:57:12] *** Quits: Jeaye (Jeaye@moz-FD505E54.hsd1.ca.comcast.net) (Ping timeout)
[22:57:56] *** Joins: Jeaye (Jeaye@moz-FD505E54.hsd1.ca.comcast.net)
[22:58:33] *** Quits: MaikKlein (Mibbit@moz-5F822E06.dip0.t-ipconnect.de) (Quit: http://www.mibbit.com ajax IRC Client)
[22:59:06] *** Quits: Guest_ (textual@BBE7C46A.B4F11D08.8612FA94.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[23:00:03] <bjz_> Jeaye: fixes on the way for glfw
[23:00:13] <Jeaye> For?
[23:00:25] <bjz_> Jeaye: ie. updates based on updates to GLFW
[23:00:34] <Jeaye> Nice.
[23:00:36] <h3r3tic> neat
[23:00:41] <Jeaye> Let me know when it's all set.
[23:01:04] <bjz_> Just need to figure out some bitfields and fix up the examples
[23:01:14] *** Quits: hjr3 (hradtke@moz-AE3056B9.static.stls.mo.charter.com) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[23:01:20] <bjz_> but yeah have to head out for a bit
[23:03:21] <bjz_> Jeaye: so you still get that seg fault?
[23:03:23] <bjz_> :(
[23:03:55] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[23:04:31] *** Joins: robertknight (robertknig@moz-54528EE0.wby.mendeley.com)
[23:06:19] *** Quits: robertknight (robertknig@moz-54528EE0.wby.mendeley.com) (Quit: Computer has gone to sleep.)
[23:06:19] <cmr> erickt: hm, maybe I can use the ident interner? testing
[23:07:27] *** Quits: vmx (vmx@moz-72879273.pools.arcor-ip.net) (Quit: Leaving)
[23:07:39] *** Joins: wizeman (quassel@moz-C1AB58EC.dyn.user.ono.com)
[23:08:50] *** Quits: jdm (jdm@CAB30FBD.8F96AEA7.2D179A7D.IP) (Quit: Lost terminal)
[23:11:37] *** Quits: Jesin (Jessin_@moz-A03A364F.cc.lehigh.edu) (Ping timeout)
[23:15:11] *** Quits: devbug (quassel@moz-E1DE087C.bchsia.telus.net) (Ping timeout)
[23:15:34] *** Joins: dbaupp (Thunderbir@moz-C83F6225.lns20.syd6.internode.on.net)
[23:16:18] *** Quits: jviereck (Adium@moz-BA1D85DC.dclient.hispeed.ch) (Quit: Leaving.)
[23:19:04] <cmr> erickt: hey it worked!
[23:19:27] <cmr> I don't think I can get a useful span out of it though
[23:20:02] <brson> nmatsakis: i could use some help in trans. I've narrowed down the first ~object bug to something simple - moved ~objects have dtors run twice - and need to know where to fix
[23:20:09] <brson> nmatsakis: here's a test case https://gist.github.com/brson/5631695
[23:20:31] *** Quits: judder (maradukewa@CF01B517.FDE2B133.950D3BB5.IP) (Ping timeout)
[23:21:18] <cmr> r? https://github.com/mozilla/rust/pull/6686
[23:21:43] *** Quits: sk (sk@61A494B3.BA40E8A.AAC02D62.IP) (Quit: Leaving)
[23:22:12] <Jeaye> bjz_: Yup
[23:22:22] <Jeaye> It's only on close, so it's not a blocker right now.
[23:22:33] <Jeaye> But I can pinpoint it to one line.
[23:22:55] <Jeaye> I might try setting the callbacks as free functions instead of closures.
[23:22:58] <steven_is_false> How would I get a Port <~str> to command line input so I can combine it with another Port?
[23:23:18] *** Quits: nooy (user@moz-2458675D.a146.priv.bahnhof.se) (Client exited)
[23:24:24] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[23:24:24] <ghrust> 01[13rust01] 15bors pushed 3 new commits to 06auto: 02http://git.io/JgbgwQ
[23:24:24] <ghrust> 13rust/06auto 147ccc97e 15Corey Richardson: Fix ICE in macros
[23:24:25] <ghrust> 13rust/06auto 145118d2f 15Corey Richardson: Add test
[23:24:25] <ghrust> 13rust/06auto 14f517ed0 15bors: auto merge of #6686 : cmr/rust/fix-6596, r=catamorphism...
[23:24:25] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[23:24:26] <cmr> tjc: thanks :)
[23:24:35] <tjc> cmr: you're welcome!
[23:24:58] *** Joins: devbug (quassel@moz-E1DE087C.bchsia.telus.net)
[23:25:18] <brson> steven_is_false: create another task using spawn_sched(SingleThreaded), then in that task read from stdin and send it over a channel to your port
[23:25:44] <brson> steven_is_false: the task needs to be in its own thread because the reads from stdin will block
[23:26:13] <steven_is_false> brson: Wow, that's really kludgy.
[23:26:36] <cmr> Why is it kludgy?
[23:27:10] <steven_is_false> cmr: Why should I have to spin up a whole new task to combine the input with another tasks?
[23:27:23] <cmr> steven_is_false: because of blocking i/o?
[23:27:39] <steven_is_false> cmr: Yeah the blocking i/o isn't nice.
[23:27:47] *** Quits: Scriptor (historium@moz-E06F46F0.corp.bitshelter.com) (Quit: Scriptor)
[23:28:13] <EXetoC> h3r3tic: pie
[23:28:28] <brson> steven_is_false: it will be easier someday
[23:28:35] <h3r3tic> EXetoC: yes, please.
[23:29:51] <steven_is_false> brson: So will we eventually have a valu stdin : Port <~str>, and a function union Port <A> -> Port <B> -> Port <Either <A, B>>?
[23:29:55] *** Joins: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca)
[23:36:02] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[23:36:36] *** kimundi is now known as zz_kimundi
[23:39:55] <graydon> r? anyone on https://github.com/mozilla/rust/pull/6688 ?
[23:40:12] <graydon> and r? brson on https://github.com/mozilla/rust/pull/6689 ?
[23:40:32] <cmr> mystery bugs, yay!
[23:42:00] <steven_is_false> How does one set a task to quit automatically if it's parent task dies?
[23:42:13] <aatch> steven_is_false, supervised
[23:42:20] <aatch> graydon, r'd
[23:43:29] <dbaupp> steven_is_false: I think that happens with task::spawn as well as task::spawn_supervised
[23:43:35] <brson> steven_is_false: maybe. converting (Port<A>, Port<B>) into Port<Either<A, B>> is easy to do if you are willing to pay for another task, but not otherwise. I want some way to wait for events on arbitrary blocking types, so if stdin is Reader and you have a Port<A> you can wait on both
[23:43:46] <aatch> dbaupp, I think spawn is just linked
[23:43:57] <aatch> so child failure causes parent failure too
[23:44:48] <dbaupp> aatch: yes
[23:44:58] <steven_is_false> How can one make a value unsendable?
[23:45:18] <cmr> Drop trait, iirc
[23:45:19] <aatch> steven_is_false, #[non_owned] on the type
[23:45:29] <cmr> Or that. What does Drop do?
[23:45:38] <aatch> cmr, makes it non-copyable
[23:45:44] <cmr> Ah
[23:45:50] <steven_is_false> aatch: That's ugly. Why can't we have something like NonSendable in the vein of NonCopyable?
[23:46:34] <aatch> steven_is_false, presumably you simply want to mark something as unsendable that would normally otherwise be sendable, correct?
[23:46:42] <steven_is_false> aatch: yes.
[23:47:33] <aatch> So #[non_owned] is a signal to the type inferrer that says "ignore that, it isn't sendable anyway"
[23:47:53] <aatch> As for the naming, it's in flux atm.
[23:48:34] *** Quits: SiegeLord (siege@moz-CAF07B4C.hsd1.ma.comcast.net) (Connection reset by peer)
[23:49:39] *** Quits: [o__o] (~o__o@moz-24EBFAC7.me) (Input/output error)
[23:49:43] *** Joins: [o__o] (~o__o@moz-24EBFAC7.me)
[23:50:03] <aatch> What's NonCopyable, btw? I don't remember seeing it anywhere.
[23:50:29] <steven_is_false> DOes non owned imply non copyable?
[23:50:41] <aatch> steven_is_false, don't know
[23:51:01] <aatch> Don't think so
[23:51:02] *** Quits: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP) (Ping timeout)
[23:52:55] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[23:53:15] *** Quits: doener (doener@moz-121949B3.unitymediagroup.de) (Quit: leaving)
[23:54:04] *** Quits: mschifer1 (Adium@2557E599.66715431.D25A875A.IP) (Quit: Leaving.)
[23:54:40] <cmr> rusti: let x.y::<int>.z foo;
[23:54:41] -rusti- foo.rs:5:14: 5:15 error: expected `;` but found `.`
[23:54:41] -rusti- foo.rs:5          let x.y::<int>.z foo;
[23:54:41] -rusti-                        ^
[23:55:00] *** Joins: maxli (maxli@C03F2759.C70D537E.2FA4EA88.IP)
[23:55:10] <aatch> cmr, what are you doing?
[23:55:14] *** Quits: maxli (maxli@C03F2759.C70D537E.2FA4EA88.IP) (Quit: Leaving.)
[23:55:55] <cmr> aatch: Trying to find a test for the fuzzy type name suggester thing (when you use a nonexistent type and it suggests what you might have meant)
[23:56:14] *** Quits: brson (brson@2557E599.66715431.D25A875A.IP) (Ping timeout)
[23:56:22] <aatch> cmr, ah. Might help to start with something that parses lol
[23:56:33] <cmr> yeah, I didn't know if that was it or not :p
[23:56:40] <cmr> It was named bad-name.rs, figured I'd try ;)
[23:57:45] *** Joins: Sorella (queen@B12A78F5.BA14766C.95C8B7C6.IP)
[23:58:59] *** Quits: pcwalton (pcwalton@2557E599.66715431.D25A875A.IP) (Quit: pcwalton)
[23:59:07] <cmr> rusti: struct foo(int); let a = fo(4);
[23:59:08] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/OeBD
[23:59:24] <cmr> rusti: struct foo(int); let a: fo;
[23:59:26] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/gPEM
[23:59:47] <cmr> I'm not hallucinating, right? There is a feature that suggests type names you might have wanted?
