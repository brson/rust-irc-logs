[00:00:43] *** Quits: johnLate (johnlate@moz-tnr6fo.scnr.net) (Ping timeout: 121 seconds)
[00:00:56] <mbrubeck> Actually http://is.gd/1s8PFd is closer to robojeb's original code
[00:01:05] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Ping timeout: 121 seconds)
[00:01:16] <Thiez> mbrubeck: or you can even just call Add::add(x,y) :p
[00:01:33] <robojeb> Cool, Thank you guys. I am enjoying rust but I am not used to being this explicit with the typesystem.
[00:01:39] <tcard> sorry people, I'm going a little crazy over something
[00:01:42] <tcard> https://github.com/PistonDevelopers/conrod/blob/master/examples/all_widgets.rs#L319-L325
[00:01:46] <tcard> that works fine
[00:02:00] <tcard> demo.bool_matrix is a Vec<Vec<bool>>
[00:02:03] <tcard> now, this
[00:02:15] *** Quits: Guest_ (textual@moz-rtn.fg7.77.192.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[00:02:44] <tcard> https://gist.github.com/tcard/33330901f3501ef76b7b#file-thingy-rs-L5-L14
[00:02:47] *** Quits: swgillespie (swgillespie@moz-1i5.3un.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[00:03:08] <Thiez> perhaps 'thingy' should also return the error message :)
[00:03:12] <tcard> complains with this: https://gist.github.com/tcard/33330901f3501ef76b7b#comment-1453312
[00:03:30] <tcard> sorry, I was on it :)
[00:03:35] <Thiez> I spoke too soon :D
[00:03:43] <tcard> and I can't see how they are different
[00:03:59] *** Quits: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net) (A TLS packet with unexpected length was received.)
[00:04:24] <tcard> state.grid is a struct CellGrid(Vec<Option<String>>);
[00:05:02] <aatch> tcard, you're borrowing the label out of the grid though.
[00:05:02] *** Joins: erz (erz@moz-n26c5c.broadband.corbina.ru)
[00:05:33] *** Joins: steshaw (uid30841@moz-eom82r.uxbridge.irccloud.com)
[00:05:38] <mbrubeck> tcard: change .as_str() to .clone() ?
[00:05:48] <aatch> tcard, which is preventing it's capture in the closure you're passing to `react`
[00:06:06] *** Joins: johnLate (johnlate@moz-tnr6fo.scnr.net)
[00:06:17] <aatch> mbrubeck, tcard, even better, destructure `state` into seperate `grid` and `editing` variables.
[00:06:44] <tcard> uuuhm, let me process that
[00:06:53] <aatch> `let State { ref grid, ref mut editing, ..} = state;` should work.
[00:06:57] *** Quits: tyrion-mx (tyrion@moz-e4rh2f.7by7.de) (Quit: Leaving)
[00:07:08] <aatch> (Obviously I'm guessing at the type of `state`
[00:07:08] *** Quits: zzmp (zzmp@moz-4ds.959.14.76.IP) (Connection closed)
[00:07:09] <aatch> )
[00:07:18] *** Joins: daheise (Mibbit@moz-gl1dm6.knvltn.sbcglobal.net)
[00:09:19] *** Quits: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP) (A TLS packet with unexpected length was received.)
[00:09:45] <tcard> OK, cool
[00:09:48] <tcard> thanks
[00:09:58] <tcard> but I still don't understand why the first link works
[00:10:15] <mbrubeck> tcard: because bool is Copy
[00:10:15] <tcard> https://github.com/PistonDevelopers/conrod/blob/master/examples/all_widgets.rs#L319-L325
[00:10:17] <aatch> tcard, well you say they're the same, but they're clearly not.
[00:10:28] <tcard> aaah, ok
[00:10:42] <insaneinside> When are the "nightly" tarballs built?
[00:10:48] <tcard> thanks! :)
[00:11:51] <daheise> I am continuing my quest to get a C char * into a String. Based on suggestions I got here I wrote hi2() here  http://miburl.com/HJUrsQ  My question now is this: hello() calls strdup, am I right to call libc::free() in my code?
[00:12:41] <daheise> minify does not like me https://github.com/daheise/tidbits/blob/master/c_str_rs/src/hellors.rs
[00:12:46] <aatch> Ok, does miburl.com work for anyone else or is it just me that it fails for?
[00:12:50] <panicbit> Corrected url: https://github.com/daheise/tidbits/blob/master/c_str_rs/src/hellors.rs
[00:12:56] <panicbit> aatch: Just a missing colon
[00:13:00] <panicbit> Oh wait
[00:13:10] *** Joins: zhoeon (fc@moz-cuhqb2.cable.teksavvy.com)
[00:13:12] <panicbit> No, exactly what I said :)
[00:13:23] <insaneinside> daheise: yes, `strdup` probably uses libc's allocator.
[00:13:39] <aatch> panicbit, no, I mean that I get redirected to `home-improvement.com`
[00:13:41] <mbrubeck> insaneinside: http://static.rust-lang.org/dist/2015-05-13/index.html has timestamps, but I don't know for sure what time zone they are in...
[00:13:59] <panicbit> aatch: When opening http://miburl.com/HJUrsQ ?
[00:14:16] <aatch> panicbit, yep
[00:14:21] <panicbit> aatch: You should probably dump your dns provider then...
[00:14:22] <insaneinside> mbrubeck: I guess I get to download and find out. :)
[00:14:27] <daheise> insaneinside: I know it uses malloc(), but I wanted to make sure CStr's Drop/destructor doesn't call free() for me
[00:14:31] <aatch> panicbit, happened the other day too.
[00:14:37] *** Joins: hjr3 (hradtke@moz-lei.av4.169.69.IP)
[00:14:42] <daheise> aatch: I had that happen earlier today
[00:14:55] *** Quits: ogham (rally@moz-gl5.06e.6.31.IP) (Connection closed)
[00:14:57] <panicbit> aatch: It's either your DNS or your browser redirecting you but it's most likely the DNS
[00:14:59] *** Joins: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP)
[00:15:10] <insaneinside> daheise: in that case I've no idea, and someone else should tell you.
[00:15:27] *** Joins: colinsurprenant (colin@moz-q9ee1n.74.electronicbox.net)
[00:15:53] *** Quits: fkaa_ (tundmatu@moz-501od2.business.telia.com) (Ping timeout: 121 seconds)
[00:15:55] *** Quits: dpc (dpc@moz-t6gr4b.ca.comcast.net) (Connection closed)
[00:16:05] <aatch> daheise, CStr does not assume anything about where the string came from.
[00:16:09] *** Joins: kngl (Adium@moz-rmgnkh.dynamic.voo.be)
[00:16:16] <Thiez> CStr does not free
[00:16:24] <aatch> That would be mad. What if it's a static string?
[00:16:41] <aatch> Or part of a larger allocated block?
[00:16:51] <insaneinside> aatch: what if the Cat tries to play with it?
[00:17:07] * insaneinside suddenly wants to create a Cat type.
[00:17:11] <aatch> What if the C library isn't using the glibc allocator?
[00:17:13] *** Quits: }ls{ (uhelp@moz-ugaqf0.dip0.t-ipconnect.de) (Quit: User terminated by real life interrupt)
[00:17:35] <Thiez> daheise: better not to call 'free' in those functions at all, and let the caller deal with it
[00:18:10] <insaneinside> But we *know* the string came from libc's `strdup`, correct?
[00:18:13] *** Joins: dpc (dpc@moz-a8v.6sn.162.73.IP)
[00:18:19] <panicbit> Curl shows me that the miburl by daheise points to "http://https://…".
[00:18:22] <bstrie> insaneinside: would go well with Cow
[00:18:28] <bstrie> we can have a whole zoo
[00:18:30] <geofft> daheise: CStr is intentionally a non-owning type, and non-owning means someone else bears the responsibility of freeing 
[00:18:32] <insaneinside> bstrie: exactly. :)
[00:18:50] <daheise> geofft: ok, that was what I thought it meant
[00:18:54] <geofft> daheise: also, your C library, if it hands you allocated objects, should tell you how to free them 
[00:19:25] <daheise> geofft: I mean, I'm writing it right now. I'm just getting a feel for the FFI before I write a wrapper around someone else's code .
[00:19:46] <aatch> Or, if it's a decent C library, handle it itself. Telling API clients to free stuff you allocate is just wrong.
[00:19:46] <geofft> as a simple example, the (Linux) manpage for strdup says, "Memory for the new string is obtained with malloc(3), and can be freed with free(3)." 
[00:20:01] <geofft> or that, yes -- providing a foo_free() function is pretty standard 
[00:20:01] *** Joins: griff (griff@moz-bf2.sbd.199.62.IP)
[00:20:18] <geofft> yeah, if you're writing a C library (or a C-ABI library in Rust), then you should specify that to your callers :) 
[00:20:39] *** Joins: pgonda (peter@moz-s36.0tp.134.75.IP)
[00:21:01] <daheise> ok, that's good to know
[00:21:19] <aatch> I'd argue that people shouldn't be using strdup. The only thing it does that memcpy doesn't is allocate memory.
[00:21:21] <daheise> I suppose this is why CString doesn't have a `from_ptr` like CStr does?
[00:21:34] *** Quits: robojeb (Mibbit@moz-su0f9k.fios.verizon.net) (Quit: http://www.mibbit.com ajax IRC Client)
[00:21:38] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[00:22:06] *** Quits: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[00:22:31] *** Joins: choplin (choplin@moz-qkm9un.ap.nuro.jp)
[00:22:56] <insaneinside> aatch: it also doesn't require an explicit value for length. (ewww.)
[00:23:46] <aatch> insaneinside, yep, cos there's nothing like memory corruption from unterminated strings.
[00:23:47] <mbrubeck> daheise: Right - though you can use http://doc.rust-lang.org/collections/vec/struct.Vec.html#method.from_raw_parts if you want to construct a Vec from a pointer.  (And then you can make a CString from the Vec.)
[00:23:50] *** Quits: psy (psy@moz-93g.ntd.6.103.IP) (Ping timeout: 121 seconds)
[00:24:37] <mbrubeck> or http://doc.rust-lang.org/collections/vec/struct.Vec.html#method.from_raw_buf if you want to copy from the original memory instead of taking ownership of it.
[00:24:46] <daheise> mbrubeck: My first iteration was to attempt that. I didn't get it to work.
[00:25:41] <mbrubeck> Yeah, you might also need to transmute from c_char to u8 somewhere.
[00:26:24] <Soni> is it ok to use 2 spaces instead of 4 spaces?
[00:26:33] *** Quits: choplin (choplin@moz-qkm9un.ap.nuro.jp) (Ping timeout: 121 seconds)
[00:26:44] <insaneinside> aatch: an unterminated string is just someone mistaking a computer for an ideal Turing machine. ;)
[00:27:23] <panicbit> I'm still terrified by the horror that is `*mut *mut *mut c_char`
[00:27:27] *** Quits: apdapreturns (Davi_@moz-fsddcr.gvt.net.br) (Connection closed)
[00:27:51] <GBGamer> panicbit: http://c2.com/cgi/wiki?ThreeStarProgrammer
[00:28:38] <panicbit> GBGamer: Thanks, nice article
[00:28:56] <mbrubeck> Soni: 4 spaces is the standard style, and is what you'll generally find in Rust projects.  On the other hand, rustc won't complain if you use something different.
[00:29:06] <GBGamer> it's mostly people complaining about those who don't know pointers
[00:29:22] <Soni> ok, so I'll use 2 spaces because that's easier to work with in nano
[00:29:22] <GBGamer> but I thought it was relevant, and there are a few interesting points made
[00:29:27] <mbrubeck> There's an in-progress style guide at http://doc.rust-lang.org/nightly/style/
[00:30:03] <panicbit> GBGamer: Well, *** is no problem in C but wrapping that piece of *** in Rust is very annoying.
[00:30:23] <GBGamer> I... disagree
[00:30:30] <GBGamer> *** is a bad problem in C
[00:30:55] <panicbit> GBGamer: What are the alternatives?
[00:31:00] <GBGamer> I can maybe understand **, for a vector of strings, for example
[00:31:06] <GBGamer> what are you attempting to do?
[00:31:45] *** Joins: kazimuth (james@moz-n85.696.189.18.IP)
[00:31:48] *** Joins: kefan (kefan@moz-ljgn4c.ma.comcast.net)
[00:31:55] <kefan> hi all
[00:31:58] <panicbit> GBGamer: The API I'm wrapping uses *** to return a vec of strings as a parameter...
[00:32:06] *** Joins: eric_lagergren (barsonme@moz-e0h.6s0.39.134.IP)
[00:32:16] <GBGamer> what API?
[00:32:27] <panicbit> GBGamer: Because the actual return type is already used for returning errors and number of elements 'n stuff
[00:32:30] <panicbit> GBGamer: Augeas
[00:32:41] <GBGamer> okay, I can understand that
[00:32:52] <GBGamer> Don't like it very much, but I can understand that
[00:33:05] <panicbit> GBGamer: https://github.com/hercules-team/augeas/blob/release-1.3.0/src/augeas.h#L268
[00:33:24] <Soni> ... why does rust not support emoji identifiers?
[00:33:36] <panicbit> GBGamer: I can't imagine another use case for ***
[00:33:55] *** Quits: zyphrus (David@moz-1a4.urk.98.101.IP) (Ping timeout: 121 seconds)
[00:33:55] <kefan> I have a very nobody and hopefully very quick question. What is the "Rust" way of handling a function that can return multiple different errors. For example both FromUtf8Error and FromHexError?
[00:33:56] <panicbit> GBGamer: Or rather: I don't like to...
[00:33:57] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[00:34:01] <GBGamer> yeah, okay, that makes sens
[00:34:04] <GBGamer> e
[00:34:33] <GBGamer> I always forget that people do that :P
[00:34:46] <kefan> I used to do it with defining new MyModuleError Struct which would implement FromError
[00:34:50] <insaneinside> Soni: is that a serious question?
[00:34:50] <aatch> The problem in C is when you want to add `const` to your pointers. I can never remember which const applies to which pointer.
[00:34:52] <GBGamer> I much prefer Rust's Result<T, E>
[00:35:10] <kefan> but that looks like it's gone in 1.0
[00:35:11] <Soni> insaneinside, we have emoji-only programming languages
[00:35:12] *** Quits: Wild_Cat (Max@moz-fa8mvt.dsl.teksavvy.com) (Ping timeout: 121 seconds)
[00:35:23] <insaneinside> Soni: Rust is not a joke language.
[00:35:24] <GBGamer> aatch: just remember it's exactly like Rust
[00:35:41] <GBGamer> wait, no it's not
[00:35:42] <Soni> insaneinside, but swift supports emoji
[00:35:44] <GBGamer> nvm
[00:35:49] <mbrubeck> Soni: unicode identifiers weren't ready yet for 1.0
[00:36:53] <GBGamer> a *const c_char == char const *
[00:37:04] <kefan> beyond emoji it would also allow for greek characters for mathsy stuff
[00:37:07] <panicbit> GBGamer: Btw, this is the spell I have to cast to convert a ***char to Vec<String>: https://github.com/panicbit/rust-augeas/blob/master/src/lib.rs#L61-L81
[00:37:36] <Soni> mbrubeck, I don't really care about the rest of unicode... may I have my emoji tho? (no idea what the plural of emoji is)
[00:37:40] <mbrubeck> Soni: See also https://github.com/rust-lang/rust/issues/666
[00:37:48] <niconii> Soni: the plural of emoji is emoji
[00:38:19] <aatch> We aren't likely to get emoji identifiers as I don't think they have the XID_Start/XID_Continue properties.
[00:38:34] <niconii> Soni: (because japanese basically doesn't have plural forms in general)
[00:38:43] <Soni> niconii, it has modifiers no?
[00:39:05] <GBGamer> panicbit: shouldn't you check for errors from aug_match?
[00:39:12] <panicbit> GBGamer: Yes :)
[00:39:17] <aatch> If we're going to have unicode identifiers, they're going to be done properly, dammit!
[00:39:21] <panicbit> GBGamer: But who does that nowadays? ;P
[00:39:23] *** Quits: tcard (tcard@moz-jdrdbk.ddns.jazztel.es) (Client exited)
[00:39:23] <niconii> Soni: well, there's -tachi, like watashi-tachi would mean "me and others" (i.e. we)
[00:39:33] <mbrubeck> kefan: FromError is now From<Error>
[00:39:34] <GBGamer> argh, whyyyyy?
[00:39:52] <Soni> niconii, and for emoji?
[00:39:55] <niconii> Soni: and other stuff along those lines for pronouns... but for general nouns not really
[00:39:57] <GBGamer> C programmers do that nowadays
[00:39:59] <kefan> oh I see, it moved to std::convert
[00:40:03] <Soni> oh
[00:40:03] *** Quits: aepsil0n (eduard@moz-6491ha.mv2h.pepi.8071.2a02.IP) (Connection closed)
[00:40:10] <Soni> I see
[00:40:15] <mbrubeck> kefan: or rather From<E> where E is some other Error
[00:40:27] <GBGamer> we found out that not checking error codes is a Bad Thing
[00:40:30] <aatch> niconii, plurality is normally inferred from context, right?
[00:40:38] <niconii> aatch: right
[00:40:48] <kefan> thanks mbrubeck 
[00:40:55] <niconii> aatch: (of course, you can also just say how many explicitly)
[00:40:55] <Soni> well ok I really wish rust would take emoji tho...
[00:41:06] <GBGamer> I am very annoyed at you right now
[00:41:13] <mbrubeck> Soni: write a syntax extension for it!
[00:41:22] *** Quits: mindtree (Mitch@moz-fog.g9r.240.116.IP) (Quit: leaving)
[00:41:28] <panicbit> GBGamer: Well, thanks for pointing that out. I'll have to overhaul this wrapper anyway. This was my first attempt at FFI and I was pretty lazy after getting the FFI to work at all :)
[00:41:46] <Soni> mbrubeck, but I want it to store them as UTF-8 encoded emoji
[00:41:53] <Soni> not translate them into ASCII
[00:41:59] <aatch> Soni, we are very, very unlikely to get emoji identifiers.
[00:42:07] *** Joins: mindtree (Mitch@moz-fog.g9r.240.116.IP)
[00:42:37] <Soni> :(
[00:42:57] <aatch> Simply because they aren't likely to be valid characters for identifiers. I haven't checked, but I'd be surprised if they are in the XID_Start+XID_Continue set
[00:43:41] *** Joins: envi_u (envi@moz-ih5.olo.169.121.IP)
[00:44:37] <GBGamer> panicbit: personally, I do a sort of thing where I have multiple layers of functions
[00:45:09] *** Quits: Manishearth (manishearth@moz-8puj7k.net) (Ping timeout: 121 seconds)
[00:45:20] <GBGamer> like a rust function that maps one-to-one with a C function, and just does error checking, returning a Result<T, E>
[00:45:31] <daheise> Is there any word on if FFI will be stable for 1.0?
[00:45:36] <GBGamer> And, inside that rust function is the exter {} block
[00:45:44] <GBGamer> daheise: it is stable?
[00:45:50] <GBGamer> it's been stable forever
[00:45:53] *** Quits: Rachael (Mibbit@moz-v60o51.ca.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[00:46:08] <daheise> oh, I guess it's my libc stuff that isn't stable.
[00:46:21] <GBGamer> Oh yeah, you gotta use the crates.io version of libc
[00:46:30] <panicbit> GBGamer: I've thought about doing that. (Some time after doing this wrapper though)
[00:46:53] <GBGamer> panicbit: it works pretty well, at least for me
[00:46:54] <daheise> GBGamer: I did not know about this
[00:47:11] <GBGamer> in your Cargo.toml, under dependencies
[00:47:16] <GBGamer> libc = "*"
[00:47:51] <panicbit> GBGamer: The abstration for this library is straight forward though, so I think splitting the functions in that way would just add more unneccessary code.
[00:47:53] *** Quits: vegai (vegai@moz-uj3bb6.dhcp.inet.fi) (Ping timeout: 121 seconds)
[00:48:04] *** Joins: joneshf-laptop (joneshf@moz-5q88jj.ucdavis.edu)
[00:48:12] <GBGamer> panicbit: you would just do this in your raw mod
[00:48:21] <daheise> GBGamer: Thanks for mentioning that, now I can use beta :-)
[00:48:27] <GBGamer> daheise: np
[00:48:27] *** Quits: sargas (sargas@moz-863roc.hfc.comcastbusiness.net) (Quit: Leaving)
[00:48:48] <GBGamer> panicbit: I'm just suggesting it, it works well for me :)
[00:49:16] *** Quits: arBmind1 (Andreas@moz-2taknk.dyn.telefonica.de) (Quit: Leaving.)
[00:49:22] <panicbit> GBGamer: But I should definitely add functions for passing "returning parameters" (OUT params?) to the C API
[00:49:32] *** Quits: kngl (Adium@moz-rmgnkh.dynamic.voo.be) (Quit: Leaving.)
[00:49:47] <panicbit> GBGamer: Like ***char
[00:49:56] <GBGamer> yes, probably
[00:50:01] *** Quits: eibwen (eibwen@moz-uadegq.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[00:51:12] <GBGamer> I would do it like `unsafe fn aug_match(aug: Aug, path: CStr) -> Result<(*mut *mut c_char), Error>`
[00:51:20] *** Joins: nico (nico@moz-u00aae.dip0.t-ipconnect.de)
[00:51:36] <GBGamer> take out the extra ()s :P
[00:52:56] *** Joins: lyc (lyc@moz-sgi.pqd.150.123.IP)
[00:53:25] *** Joins: swgillespie (swgillespie@moz-1i5.3un.220.167.IP)
[00:53:49] *** Quits: Fiveside (fiveside@moz-t2eatg.vsp.com) (Ping timeout: 121 seconds)
[00:54:22] *** Joins: indefini (indefini@moz-4p4v25.ucom.ne.jp)
[00:54:30] *** Quits: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP) (A TLS packet with unexpected length was received.)
[00:54:40] <GBGamer> also, I would suggest not transmuting, just using `as *mut ...`
[00:54:50] <GBGamer> (that's just my position, up to you)
[00:55:07] *** Joins: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP)
[00:55:20] <GBGamer> and match_ptr should be a *mut c_char
[00:55:22] *** Quits: nico (nico@moz-u00aae.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[00:55:23] <panicbit> GBGamer: Yeah, I'll try to avoid using transmute as much as possible.
[00:55:50] <GBGamer> but otherwise, cool beans
[00:55:58] <GBGamer> I really need to eat
[00:56:02] <GBGamer> :/
[00:56:20] <panicbit> GBGamer: Thanks for pointing out all of these things :)
[00:56:27] <shep-home> Hmmph. There's no way of writing the concrete type of a specific function, is there? Instead of a generic function pointer?
[00:57:00] *** Quits: lyc (lyc@moz-sgi.pqd.150.123.IP) (Ping timeout: 121 seconds)
[00:57:04] <mbrubeck> shep-home: Well, a type like `fn(i32) -> i32` is a concrete type, not a generic one
[00:57:16] <mbrubeck> but there's more than one value of that type...
[00:57:24] *** Quits: JagaJaga (JagaJaga@moz-ua8.hhl.62.178.IP) (Ping timeout: 121 seconds)
[00:57:24] *** Joins: lyc (lyc@moz-jft.nr8.226.207.IP)
[00:57:46] <mbrubeck> shep-home: If you mean closures, then no, you can't write the type of a specific closure.
[00:57:55] *** Joins: kazagistar (kazagistar@moz-1jum1i.client.bresnan.net)
[00:57:58] <panicbit> GBGamer: I only wish I had a project that would need this wrapper because currently I don't really feel motivated to work on it.
[00:58:06] *** Joins: lenstr (lenstr@moz-el8.vju.25.171.IP)
[00:58:41] <GBGamer> panicbit: I understand completely
[00:58:41] <GBGamer> you just need to find someone who wants to use it, then pass it off
[00:58:42] <GBGamer> :P
[00:59:01] <shep-home> mbrubeck: I do mean a function. I'm seeing a large difference in how things are inlined if I use `fn(i32) -> i32` vs `fn(i32) -> i32 { function_name }`
[00:59:01] <panicbit> :P
[00:59:02] <GBGamer> (it's what I did with my readline-rs library)
[00:59:12] *** Quits: jtdowney (jtdowney@moz-obnifk.il.comcast.net) (Quit: )
[00:59:18] *** Quits: lenstr (lenstr@moz-el8.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[00:59:25] *** Joins: atj (uid1964@moz-abp81b.ealing.irccloud.com)
[00:59:27] *** Joins: lenstr (lenstr@moz-el8.vju.25.171.IP)
[00:59:54] <shep-home> i.e., the second one has to be implicitly generated, the first can have its type written
[00:59:55] <panicbit> GBGamer: I'm already happy that someone forked my fork of the rust mongo driver... Now it's their problem...
[01:00:07] <GBGamer> exactement!
[01:00:28] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[01:00:32] <panicbit> GBGamer: It wasn't compiling since ages (it's Rust 0.7 code!)
[01:00:35] *** Quits: lenstr (lenstr@moz-el8.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[01:00:42] <GBGamer> hoh damn
[01:00:45] <shep-home> mbrubeck: and I see like 300 MB/s -> 1500 MB/s speedup for the inlining. so I'm interested in a fix :-)
[01:00:49] <GBGamer> I wanna see that
[01:01:17] <GBGamer> I got in around 0.12
[01:01:20] <panicbit> GBGamer: In case of 0.7 don't look at the sigils...
[01:01:20] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[01:01:45] <aatch> shep-home, wait, so `fn(i32) -> i32 { function_name }` works?
[01:02:06] <aatch> shep-home, as in. you can write that as the type?
[01:02:11] <shep-home> aatch: not "work" in the sense that I can type it
[01:02:13] <shep-home> sadly
[01:02:20] <panicbit> GBGamer: It's close enough to current rust to recognize it but different enough to be very annoying to port
[01:02:40] <GBGamer> shep-home: how are you seeing it then
[01:02:41] <GBGamer> ?
[01:03:01] <aatch> shep-home, ah. Well the thing is, you're basically asking for static dispatch in a context where we don't know the function to call.
[01:03:34] <panicbit> GBGamer: 0.7 even had threads with certain semantics that you can't easily replicate in current Rust
[01:03:52] <GBGamer> the green threads?
[01:03:58] <panicbit> GBGamer: No
[01:04:04] <shep-home> aatch, mbrubeck: http://is.gd/Kgd6O2 for example
[01:04:12] <panicbit> GBGamer: Supervised tasks: http://doc.rust-lang.org/0.7/std/task.html#function-spawn_supervised
[01:04:24] <panicbit> GBGamer: "Creates a child task supervised by the current one. If the child task fails, the parent will not be killed, but if the parent fails, the child will be killed."
[01:04:28] *** Quits: DemonOne (Avi@moz-b6r7nm.cablep.bezeqint.net) (Ping timeout: 121 seconds)
[01:04:34] <shep-home> GBGamer: you can have the compiler print the type of the function (usually when you forget `as fn(u8) -> bool` for example)
[01:04:38] *** Quits: wilfredh (uid159@moz-md9so9.brockwell.irccloud.com) (Quit: Connection closed for inactivity)
[01:04:49] <GBGamer> panicbit: weird...
[01:05:12] <shep-home> aatch: that's the sticky thing. I don't *want* dynamic dispatch.
[01:05:30] *** Quits: Ralith (ralith@moz-miv.lne.251.63.IP) (Ping timeout: 121 seconds)
[01:05:32] <datalus> In cargo, is there a way to only build lib.rs and not main.rs?
[01:05:55] *** Joins: jtdowney (jtdowney@moz-obnifk.il.comcast.net)
[01:06:00] *** Quits: Gabriel_7 (Gabriel@moz-its6n2.mtgr.92aj.0e35.2a01.IP) (Connection closed)
[01:06:08] <panicbit> GBGamer: What... "rekillable: The inverse of unkillable."
[01:06:09] <GBGamer> shep-home: could you do, for example, struct Type<F> { f: F } where F: Fn?
[01:06:13] <insaneinside> datalus: cargo build --lib
[01:06:31] *** Quits: swgillespie (swgillespie@moz-1i5.3un.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[01:06:35] <datalus> thanks, thats easy =)
[01:06:37] *** Quits: mnemnion (mnemnion@moz-kf3boi.ca.comcast.net) (Connection closed)
[01:06:51] <insaneinside> datalus: also, `cargo --help` and `cargo build --help` :)
[01:06:56] <shep-home> GBGamer: if I understand you, I am doing so. But it doesn't help - http://is.gd/Kgd6O2
[01:06:58] *** Joins: mnemnion (mnemnion@moz-kf3boi.ca.comcast.net)
[01:07:13] <GBGamer> panicbit: just everything about it
[01:07:13] <GBGamer> shep-home: and, you know, make Fn the correct type?
[01:07:13] <GBGamer> (I don't know how to do it)
[01:07:39] *** Quits: matp (matp@moz-rvt9hl.matp.at) (Connection closed)
[01:07:57] <panicbit> GBGamer: I was refering to "rekillable" but, eh, I agree :)
[01:08:44] <GBGamer> shep-home: then I do not know
[01:08:55] <GBGamer> panicbit: I much prefer today's :)
[01:09:02] <aatch> shep-home, the thing is that the versions inside `main` have the functions coerced to closures.
[01:09:06] *** Joins: Wild_Cat (Max@moz-fa8mvt.dsl.teksavvy.com)
[01:09:19] <mbrubeck> What if you write it like http://is.gd/N8gnPd ?
[01:09:27] *** Quits: dmac_ (dmac@moz-4kcd1c.ca.comcast.net) (Ping timeout: 121 seconds)
[01:09:41] * mbrubeck is just taking random stabs, and has no idea whether this impacts inlining.
[01:10:32] <panicbit> GBGamer: Then you'd better not use yesterday's nightlies ;P
[01:11:00] *** Quits: mnemnion (mnemnion@moz-kf3boi.ca.comcast.net) (Ping timeout: 121 seconds)
[01:11:04] *** Quits: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net) (Ping timeout: 121 seconds)
[01:11:06] *** Joins: Guest22 (textual@moz-jt9juk.fibertel.com.ar)
[01:11:46] <shep-home> aatch: whaaa? the functions become closures?
[01:12:27] *** Quits: dpc (dpc@moz-a8v.6sn.162.73.IP) (Ping timeout: 121 seconds)
[01:12:33] *** Joins: mnemnion (mnemnion@moz-kf3boi.ca.comcast.net)
[01:12:47] *** Joins: codingcampbell (Adium@moz-svs8n7.fios.verizon.net)
[01:12:51] *** Joins: jyeo (uid12229@moz-hv3ndn.charlton.irccloud.com)
[01:12:57] *** Joins: gsingh93 (uid22642@moz-aq0iah.charlton.irccloud.com)
[01:13:29] <shep-home> mbrubeck: I'll give a shot, but my gut says it wouldn't help. I'm afraid that `fn(u8) -> bool` is going to have a level of indirection and thus can't be inlined.
[01:14:02] *** Joins: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net)
[01:14:06] *** Joins: fr444 (Mibbit@moz-als.nhl.10.176.IP)
[01:14:10] *** Parts: fr444 (Mibbit@moz-als.nhl.10.176.IP) ()
[01:14:19] <mbrubeck> yeah
[01:14:21] <aatch> shep-home, yeah. Sort of anyway.
[01:14:39] <kefan> another nooby question. as_slice is gone and as_str is unstable and unusable in the non-nightly channel what's the alternative?
[01:14:58] *** Joins: m10e (mblbruce@moz-onbacj.fagotten.org)
[01:15:22] <Murarth> kefan: &thing[..] works for both Vec and String.
[01:15:38] <kefan> thanks
[01:15:46] *** Joins: guacamole (Mibbit@moz-d8v.hnl.166.46.IP)
[01:15:48] <gsingh93> shouldn't Condvar be Sync?
[01:16:04] <kefan> perfect was that always the case?
[01:16:06] *** Quits: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net) (A TLS packet with unexpected length was received.)
[01:16:07] *** Joins: cgh (cgh@moz-hsa.m96.63.36.IP)
[01:16:07] *** Joins: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net)
[01:16:12] *** Quits: mkpankov (mkpankov@moz-o5n.evt.23.84.IP) (Ping timeout: 121 seconds)
[01:16:33] <mbrubeck> kefan: No - .as_slice was around before the [..] notation and current cross-borrowing rules.
[01:16:34] <GBGamer> shep-home: it works here
[01:16:49] <GBGamer> (if I could get it to share)
[01:17:05] <kefan> yeah I like this. Not touching something after a while and trying to get it to compile is a bit of an adventure
[01:17:09] *** Joins: jadbaires (jadrian@moz-bghnjr.dsl.telepac.pt)
[01:17:10] <kefan> but it's all part of the fun
[01:17:30] *** Joins: logan_e (logan_e@moz-ltn.qg3.218.73.IP)
[01:18:08] <panicbit> kefan: I agree, it's fun. But it can be kind of annoying if you need to patch dependencies as well :/
[01:18:18] *** Joins: Manishearth (manishearth@moz-8puj7k.net)
[01:18:22] *** Quits: Savago (Savago@moz-8hd.3b6.246.162.IP) (Client exited)
[01:18:49] *** chmanchester is now known as chmanchester|afk
[01:19:01] *** Joins: frankmcsherry (frankmcsher@moz-la1m3v.adsl.alicedsl.de)
[01:19:40] *** Parts: codingcampbell (Adium@moz-svs8n7.fios.verizon.net) ()
[01:20:19] *** Quits: Jesse (jruderman@moz-pqc1f5.ca.comcast.net) (Client exited)
[01:20:36] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[01:20:36] *** Quits: naerbnic (naerbnic@moz-ad7.4ra.239.216.IP) (Client exited)
[01:20:50] <mbrubeck> kefan: My life became empty and meaningless when nightly stopped breaking my code every day.  :)
[01:21:43] <mindtree> mbrubeck: can't wait till I feel the same about all my libraries and deps!
[01:21:44] <huon> https://github.com/rust-lang/rust/issues/24928
[01:22:15] *** Joins: jophish (jophish@moz-epocft.broadband.tesco.net)
[01:22:20] *** Joins: tkellen (tkellen@moz-f5ji1n.vt.comcast.net)
[01:22:27] <mindtree> huon: this is great
[01:22:57] *** Joins: fkaa (tundmatu@moz-501od2.business.telia.com)
[01:22:59] <m10e> I'm playing around with rustc_serialize but I've run into a type error that I feel like I really should get, but just don't right now. Maybe it's just 3 AM in my brain, but I'd love it if someone could explain my mistake: https://gist.github.com/m10e/91230760cc6a3eefa695
[01:23:03] *** Quits: frankmcsherry (frankmcsher@moz-la1m3v.adsl.alicedsl.de) (Ping timeout: 121 seconds)
[01:23:08] <mbrubeck> huon: Time to create a 2.0 branch. :)
[01:23:47] *** Joins: choplin (choplin@moz-96vu56.t6mc.g9m6.001a.240d.IP)
[01:24:20] <mbrubeck> m10e: Presumably the "D" in `-> Result<A, D>` should be something else, like Self::Error
[01:24:36] *** Joins: DerisiveLogic (smuxi@moz-g93io6.res.rr.com)
[01:25:25] <mbrubeck> ...or maybe not?
[01:25:30] * mbrubeck reads the rustc-serialize docs
[01:25:35] *** Joins: annodomini (lambda@moz-qgii5v.ma.comcast.net)
[01:25:35] <gsingh93> why doesn't Condvar implement sync: http://doc.rust-lang.org/std/sync/struct.Condvar.html? isn't it being shared between threads in the example?
[01:25:37] <GBGamer> ping japaric
[01:25:56] <mbrubeck> m10e: fn decode<D: Decoder>(d: &mut D) -> Result<A, D::Error>
[01:26:17] *** Quits: jophish (jophish@moz-epocft.broadband.tesco.net) (Ping timeout: 121 seconds)
[01:26:20] <mbrubeck> m10e: I think there's some sort of rustdoc bug that makes the signature wrong on http://doc.rust-lang.org/rustc-serialize/rustc_serialize/trait.Decodable.html
[01:26:20] *** Quits: hjr3 (hradtke@moz-lei.av4.169.69.IP) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[01:26:56] <mbrubeck> m10e: similarly: `fn encode<S: Encoder>(&self, s: &mut S) -> Result<(), S::Error>`
[01:27:21] *** Quits: lucian (lucian@moz-2c3pda.cable.virginm.net) (A TLS packet with unexpected length was received.)
[01:27:27] <m10e> mbrubeck: Ohâ€¦ So you think the docs are wrong? Because it really confused me to return something of the same type as the decoder as error data in the Result.
[01:27:49] *** Quits: choplin (choplin@moz-96vu56.t6mc.g9m6.001a.240d.IP) (Ping timeout: 121 seconds)
[01:28:25] *** Quits: cgh (cgh@moz-hsa.m96.63.36.IP) (Quit: ç¦»å¼€)
[01:28:26] <mbrubeck> m10e: Yeah, the docs are definitely wrong.  Click the "[src]" link to see the actual trait definition.
[01:28:31] *** Joins: kngl (Adium@moz-rmgnkh.dynamic.voo.be)
[01:28:33] *** Joins: csherratt (textual@moz-357qdq.cable.teksavvy.com)
[01:28:53] <mbrubeck> m10e: https://github.com/rust-lang/rust/issues/24417
[01:29:29] *** Quits: tilpner (tilpner@moz-6vhgm3.de) (Ping timeout: 121 seconds)
[01:30:38] *** Quits: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net) (A TLS packet with unexpected length was received.)
[01:30:45] *** Joins: arfy (arfy@moz-qpq7ka.tpgi.com.au)
[01:31:16] *** Joins: lucian (lucian@moz-2c3pda.cable.virginm.net)
[01:31:16] *** Quits: dawehner (quassel@moz-id4.bjg.78.66.IP) (Ping timeout: 121 seconds)
[01:31:44] *** GBGamer is now known as npm
[01:31:58] *** Joins: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net)
[01:32:00] <shep-home> aatch: I think I was wrong. *Only* closures can be inlined. Does that seem right to you?
[01:32:00] <m10e> mbrubeck: Got past that error now, onto new exciting ones. Thanks for helping out. =o)
[01:32:33] *** Quits: kngl (Adium@moz-rmgnkh.dynamic.voo.be) (Ping timeout: 121 seconds)
[01:32:34] *** Joins: GBGamer (npm@moz-92sbjt.wa.comcast.net)
[01:33:01] <aatch> shep-home, not exactly. It's that we emit static calls for closures, which can be inlined.
[01:33:07] *** Joins: tilpner (tilpner@moz-6vhgm3.de)
[01:33:21] *** Joins: zyphrus (David@moz-1a4.urk.98.101.IP)
[01:33:40] *** Joins: acgtyrant (acgtyrant@moz-3kd.b79.160.124.IP)
[01:34:52] <shep-home> aatch: http://is.gd/TJEuYf
[01:35:10] <zhoeon> Does anyone have rust_sdl2 running in version 2.3? I get compilations errors with nalgebra 2.13
[01:35:40] <shep-home> Valgrind says that both versions with the fn cause the method to be called many times. 
[01:37:38] *** Quits: lucian (lucian@moz-2c3pda.cable.virginm.net) (A TLS packet with unexpected length was received.)
[01:37:39] *** Quits: tkellen (tkellen@moz-f5ji1n.vt.comcast.net) (Client exited)
[01:39:26] *** Joins: Rym_ (y@moz-ife.8p4.39.217.IP)
[01:39:35] *** Joins: Gamecubic (cubic@moz-bglmk5.mc.videotron.ca)
[01:39:41] *** Joins: dpc (dpc@moz-t6gr4b.ca.comcast.net)
[01:39:45] *** Joins: Rym__ (y@moz-odvbki.in-addr.btopenworld.com)
[01:39:54] *** Quits: GBGamer (npm@moz-92sbjt.wa.comcast.net) (Ping timeout: 121 seconds)
[01:40:04] *** Joins: Rym___ (y@moz-gqu.fea.39.217.IP)
[01:40:12] *** Parts: insaneinside (user@moz-dgv9mb.customer.broadstripe.net) ("bye")
[01:40:22] *** Joins: Rym____ (y@moz-nnr.gec.39.217.IP)
[01:40:43] *** Joins: Rym_____ (y@moz-bul.d1r.39.217.IP)
[01:41:01] *** Joins: Rym______ (y@moz-dhb.0vk.38.217.IP)
[01:41:05] <shep-home> aatch: I just wish I could put a closure in a static item ^_^
[01:41:28] <shep-home> a closure with no captured variables, of course
[01:41:54] *** Joins: dmac (dmac@moz-2ig65r.ca.comcast.net)
[01:42:14] *** Quits: Rym (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[01:42:41] *** Joins: mkpankov (mkpankov@moz-bid.0jj.23.84.IP)
[01:43:09] *** Quits: Gamecubic__ (cubic@moz-bglmk5.mc.videotron.ca) (Ping timeout: 121 seconds)
[01:43:31] *** Quits: Rym_ (y@moz-ife.8p4.39.217.IP) (Ping timeout: 121 seconds)
[01:43:50] *** Quits: Rym__ (y@moz-odvbki.in-addr.btopenworld.com) (Ping timeout: 121 seconds)
[01:43:55] *** Quits: Guest22 (textual@moz-jt9juk.fibertel.com.ar) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[01:44:05] *** Quits: zhoeon (fc@moz-cuhqb2.cable.teksavvy.com) (Quit: leaving)
[01:44:07] *** Quits: Rym___ (y@moz-gqu.fea.39.217.IP) (Ping timeout: 121 seconds)
[01:44:23] <starless> so, if I have some variable s: String, and I compare it with a string literal using ==, should that compile? will it do string comparison, as in checking if they "have the same characters"?
[01:44:30] *** Quits: Rym____ (y@moz-nnr.gec.39.217.IP) (Ping timeout: 121 seconds)
[01:44:42] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[01:44:46] *** Quits: Rym_____ (y@moz-bul.d1r.39.217.IP) (Ping timeout: 121 seconds)
[01:44:47] <huon> yes and yes
[01:44:56] <shep-home> playbot: let s: String = "foo".to_owned(); s == "foo"
[01:44:58] -playbot- true
[01:45:04] *** Joins: Bira (bira@moz-sq6.nc4.106.187.IP)
[01:45:15] * shep-home waves at huon 
[01:45:18] <huon> Rust essentially never does identity comparison (like java), everything compares based on the semantic contents by default
[01:45:29] <huon> hey shep-home
[01:45:55] *** Joins: munksgaard (munksgaard@moz-478pev.u.parknet.dk)
[01:45:56] <starless> huon: gotcha. should've figured. Rust takes after his pappy ML
[01:47:12] *** Quits: Choruptian (chris@moz-f8n276.jg29.ljo4.dcc0.2a00.IP) (Ping timeout: 121 seconds)
[01:47:20] <starless> huon: interesting mistake I just made; if you grab std::env::args() and call next() on it, and then grab it again (by calling std::env::args()) and call next() again, you still get the first program argument
[01:47:33] *** Joins: Ralith (ralith@moz-tiaj7p.customer.broadstripe.net)
[01:48:30] <starless> args() appears to be a shallow iterator of some sort
[01:48:41] <huon> yep!
[01:50:03] <shep-home> otherwise it'd be really tough to process the arguments multiple times ;-)
[01:50:19] *** Quits: grantdefayette (grantdefaye@moz-c2phg3.ct.charter.com) (Quit: This computer has gone to sleep)
[01:51:43] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[01:51:49] *** Joins: iiixtiii (ixti@moz-21k.dae.119.188.IP)
[01:52:55] <ChrisMorgan> Argh, it appears to be impossible to get the simple thing that I want for play.rl.o with <meta name=viewport> for mobile browsers: a minimum width of 700, so that screens smaller than that go for 700, but screens larger than that go with device-width.
[01:53:52] <shep-home> ChrisMorgan: use the giant JS hammer? :-)
[01:54:37] *** Quits: __ixti__ (ixti@moz-21k.dae.119.188.IP) (Ping timeout: 121 seconds)
[01:57:51] <m10e> Is there any reason (except for mistakes on my part) that I am able to match but not unwrap() the results of http://doc.rust-lang.org/rustc-serialize/rustc_serialize/trait.Encoder.html#tymethod.emit_str and http://doc.rust-lang.org/rustc-serialize/rustc_serialize/trait.Decoder.html#tymethod.read_str ?
[01:58:39] <starless> We have args! :D
[01:59:19] *** Quits: munksgaard (munksgaard@moz-478pev.u.parknet.dk) (Ping timeout: 121 seconds)
[01:59:28] <shep-home> m10e: you can only `unwrap` a Result if the error type implements Debug
[01:59:35] <shep-home> http://doc.rust-lang.org/nightly/core/result/enum.Result.html#method.unwrap
[01:59:43] <shep-home> specifically impl<T, E: Debug> Result<T, E>
[01:59:44] *** Quits: guacamole (Mibbit@moz-d8v.hnl.166.46.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[02:00:03] <shep-home> So does your error type implement that?
[02:00:35] <shep-home> starless: \o/ what's next?
[02:00:37] *** Joins: Choruptian (chris@moz-f8n276.jg29.ljo4.dcc0.2a00.IP)
[02:00:56] *** Joins: demilux (demilux@moz-73qa6c.wa.comcast.net)
[02:01:02] *** Joins: lenstr (lenstr@moz-el8.vju.25.171.IP)
[02:01:29] *** Quits: colinsurprenant (colin@moz-q9ee1n.74.electronicbox.net) (Client exited)
[02:02:00] *** Quits: lenstr (lenstr@moz-el8.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[02:02:12] *** Joins: lenstr (lenstr@moz-el8.vju.25.171.IP)
[02:02:25] *** Quits: ygrek (user@moz-8j9aeu.org.ua) (Ping timeout: 121 seconds)
[02:03:22] <m10e> shep-home: Ah, thanks! I was looking at the docs, so I should have caught that, sorryâ€¦ Didnâ€™t see that type constraint.
[02:03:23] *** Quits: lenstr (lenstr@moz-el8.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[02:03:25] *** Joins: colinsurprenant (colin@moz-q9ee1n.74.electronicbox.net)
[02:04:58] <starless> shep-home: sockets!
[02:05:53] <starless> shep-home: and probably confusion because I didn't read the "Lifetimes" article thoroughly! :P
[02:05:58] *** Joins: tkellen (tkellen@moz-f5ji1n.vt.comcast.net)
[02:06:49] *** Joins: Fiveside (fiveside@moz-t2eatg.vsp.com)
[02:07:21] *** Joins: FallingAlways (FallingTime@moz-ruksei.cable.rogers.com)
[02:08:07] *** Quits: jethrogb (jethrob@moz-p2iedd.scintilla.utwente.nl) (Ping timeout: 121 seconds)
[02:08:20] <shep-home> m10e: no worries. That one was a recent-ish change and confused the heck outta me. Also make me implement Debug a lot more often ;-)
[02:08:48] *** Quits: lyc (lyc@moz-jft.nr8.226.207.IP) (Connection closed)
[02:09:02] *** Quits: jtdowney (jtdowney@moz-obnifk.il.comcast.net) (Quit: )
[02:09:05] <shep-home> starless: to toot my own horn... I've had good feedback from this SO answer - http://stackoverflow.com/a/29837514/155423
[02:09:22] *** Quits: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP) (A TLS packet with unexpected length was received.)
[02:09:53] *** Joins: eataix (uid37918@moz-79aeif.ealing.irccloud.com)
[02:10:35] *** Quits: mcoffin (mcoffin@moz-8l6.usq.54.128.IP) (Ping timeout: 121 seconds)
[02:10:53] *** Quits: Fiveside (fiveside@moz-t2eatg.vsp.com) (Ping timeout: 121 seconds)
[02:11:26] *** Quits: capcar (mathieu@moz-mi55kn.mc.videotron.ca) (Ping timeout: 121 seconds)
[02:11:59] *** Quits: zz_kimundi (kimundi@moz-mmvhvu.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[02:12:20] <FallingAlways> I'm trying to impl Read for a struct so i can sink it to a file with copy(), right now it copys the data from the source to the endlessly, never returning
[02:13:19] <Mutabah> FallingAlways: Read requires that you maintain an internal read position
[02:13:47] *** Quits: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net) (A TLS packet with unexpected length was received.)
[02:14:07] *** Joins: zz_kimundi (kimundi@moz-ol7m65.dip0.t-ipconnect.de)
[02:14:16] *** Joins: fenster (Mibbit@moz-p0l.q36.8.24.IP)
[02:14:27] <aatch> I made a thing: https://gist.github.com/Aatch/5aad060daf4f5bd5946e
[02:14:30] <FallingAlways> ahh I get it now i think, i was trying to shove ascii 4 into the data to signal the end
[02:14:32] <FallingAlways> thanks
[02:14:34] *** zz_kimundi is now known as kimundi
[02:15:01] *** Joins: popow (Thunderbird@moz-03f.kd0.252.223.IP)
[02:15:10] *** Joins: Kingsquee (kingsley@moz-3fm07c.bchsia.telus.net)
[02:15:39] <Kingsquee> http://is.gd/7rY97u what's this thing on about
[02:16:06] *** Joins: KLP (KLP@moz-qdcjho.res.rr.com)
[02:16:06] *** nrc|afk is now known as nrc
[02:17:04] <shep-home> Kingsquee: you can't reverse a search that uses a string
[02:17:23] *** Joins: mib_3f3m9z (Mibbit@moz-vvc.fqr.69.68.IP)
[02:17:24] <shep-home> and that's required by trim_matches (as DoubleEndedSearcher)
[02:17:51] <shep-home> to see why, consider searching the haystack "baaab" with the needle "aa"
[02:18:02] *** Quits: colinsurprenant (colin@moz-q9ee1n.74.electronicbox.net) (Client exited)
[02:18:19] *** Quits: mib_3f3m9z (Mibbit@moz-vvc.fqr.69.68.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[02:18:33] <shep-home> if you go forwards, you get ["b", "aa", "ab"], and backwards it would be ["b", "aa", "ba"]
[02:18:39] <ChrisMorgan> Kingsquee: trim_matches is thus more or less constrained to use chars only.
[02:18:52] *** Quits: d_rezzer (chatzilla@moz-t0fmuj.hfc.comcastbusiness.net) (Connection closed)
[02:18:58] <ChrisMorgan> See https://doc.rust-lang.org/core/str/pattern/trait.DoubleEndedSearcher.html for more explanation
[02:19:20] *** Quits: fenster (Mibbit@moz-p0l.q36.8.24.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[02:19:24] *** Joins: Guest22 (textual@moz-jt9juk.fibertel.com.ar)
[02:19:43] <aatch> Why not use `trim_right_matches` anyway?
[02:19:52] <aatch> Since you're removing suffixes
[02:19:57] <Kingsquee> okay, that makes sense
[02:20:05] <shep-home> aatch: you don't put "'s" all up in your strings?
[02:20:18] *** Joins: frankmcsherry (frankmcsher@moz-la1m3v.adsl.alicedsl.de)
[02:20:21] <shep-home> 'shknow what I mean
[02:20:26] *** Joins: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net)
[02:20:36] <Kingsquee> aatch: could do
[02:20:48] *** Joins: robojeb (Mibbit@moz-su0f9k.fios.verizon.net)
[02:20:53] *** Quits: qrlpx (smuxi@moz-n7t.3nb.211.95.IP) (Ping timeout: 121 seconds)
[02:21:02] *** Joins: GBGamer (npm@moz-92sbjt.wa.comcast.net)
[02:21:16] *** Joins: senderista (tdbaker@moz-6nsjqs.wa.comcast.net)
[02:21:24] <Kingsquee> the left and right example code seems a bit odd though 
[02:21:26] <Kingsquee> http://doc.rust-lang.org/std/string/struct.String.html#method.trim_right_matches
[02:22:01] <Kingsquee> what if I wanted to remove all occurrences of a substring, from a given direction?
[02:22:11] *** Quits: senderista (tdbaker@moz-6nsjqs.wa.comcast.net) (Client exited)
[02:22:33] <Kingsquee> the description implies that'd happen, but the example code only shows the first match in that direction being caught
[02:22:35] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[02:23:01] <Kingsquee> first matches
[02:23:03] *** Joins: senderista (tdbaker@moz-6nsjqs.wa.comcast.net)
[02:23:09] <Kingsquee> something like that :I
[02:23:59] * mindtree downloads a stable version of rust for the first time ever
[02:24:01] <Kingsquee> assert_eq!("11foo1bar11".trim_right_matches('1'), "11foo1bar");
[02:24:20] *** Quits: frankmcsherry (frankmcsher@moz-la1m3v.adsl.alicedsl.de) (Ping timeout: 121 seconds)
[02:24:20] <huon> playbot: "11foo1bar11".trim_right_matches('1')
[02:24:21] -playbot- "11foo1bar"
[02:24:26] <huon> playbot: "11foo1bar11".trim_right_matches("1")
[02:24:27] -playbot- "11foo1bar"
[02:24:58] <Kingsquee> "Returns a string with all suffixes that match a pattern repeatedly removed."
[02:25:03] <Kingsquee> why wouldn't that match all the 1's?
[02:25:24] <huon> because only two of them are suffixes?
[02:25:37] <GBGamer> key word suffixes
[02:25:49] <Kingsquee> ech
[02:25:59] <GBGamer> its useful for, for example, trimming whitespace
[02:26:22] <Kingsquee> but what if I want to match all occurrences of a substring starting from a given direction? 
[02:26:35] <huon> don't use .trim_... ?
[02:26:38] *** Quits: pgonda (peter@moz-s36.0tp.134.75.IP) (Ping timeout: 121 seconds)
[02:26:43] <GBGamer> well, you would have to create an owned string
[02:26:50] <Kingsquee> huon: heresy
[02:26:53] <GBGamer> and figure out how to remove from that
[02:26:58] *** Quits: starless (starless@moz-u9gmm1.res.rr.com) (Quit: Leaving)
[02:27:03] <huon> http://doc.rust-lang.org/nightly/std/primitive.str.html#method.matches
[02:27:24] *** Joins: rmgk_ (ragnar@moz-94o96f.dyn.telefonica.de)
[02:27:44] *** Quits: joneshf-laptop (joneshf@moz-5q88jj.ucdavis.edu) (Ping timeout: 121 seconds)
[02:27:51] <Kingsquee> huh, okay
[02:27:56] <Kingsquee> I expected the naming to be the same
[02:28:44] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Ping timeout: 121 seconds)
[02:29:21] *** Quits: sam113101 (sam@moz-5mq5dc.mc.videotron.ca) (Quit: WeeChat 1.1.1)
[02:29:40] <shep-home> I am a little sad that String::replace doesn't take a pattern
[02:30:10] <huon> it can probably be generalised back-compat?
[02:30:11] *** Joins: mcoffin (mcoffin@moz-8l6.usq.54.128.IP)
[02:30:11] *** Quits: dpc (dpc@moz-t6gr4b.ca.comcast.net) (Connection closed)
[02:30:19] *** Quits: LysanderAkili (LysanderAki@moz-e2h9er.co.comcast.net) (Ping timeout: 121 seconds)
[02:30:43] <shep-home> mmm, yeah
[02:30:45] *** Joins: choplin (choplin@moz-96vu56.t6mc.g9m6.001a.240d.IP)
[02:30:50] <shep-home> and maybe a replace_all
[02:30:50] *** Quits: rmgk (ragnar@moz-6s3rhm.dyn.telefonica.de) (Ping timeout: 121 seconds)
[02:31:03] <shep-home> playbot: "foofoo".replace("foo", "bar")
[02:31:04] -playbot- "barbar"
[02:31:08] <shep-home> oh
[02:31:15] <shep-home> maybe a replace_one then :-)
[02:31:41] <aatch> shep-home, I think "replace_first" and "replace_last" would be better in that case
[02:31:41] *** Quits: senderista (tdbaker@moz-6nsjqs.wa.comcast.net) (Client exited)
[02:31:50] <shep-home> and then a replace_n too
[02:31:52] <Kingsquee> trim_matches is bidirectional while matches is from the left?
[02:32:05] <shep-home> aatch: you mean rreplace, to fit with rfind ;-)
[02:32:08] <Kingsquee> pls
[02:32:16] <shep-home> rrrrrreplace has rrrrridges
[02:32:21] *** Joins: LysanderAkili (LysanderAki@moz-e2h9er.co.comcast.net)
[02:32:32] *** Joins: dpc (dpc@moz-t6gr4b.ca.comcast.net)
[02:32:42] *** Joins: sam113101 (sam@moz-5mq5dc.mc.videotron.ca)
[02:33:04] *** Joins: kngl (Adium@moz-rmgnkh.dynamic.voo.be)
[02:33:04] *** Quits: tamird (textual@moz-ti3.9hm.3.173.IP) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[02:33:06] *** Quits: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net) (A TLS packet with unexpected length was received.)
[02:33:10] <aatch> shep-home, i guess? it's more that `replace_one` doesn't *tachnically* give much indication as to which occurence it will replace.
[02:33:21] <aatch> technically*
[02:33:33] <shep-home> yeah, definitely
[02:33:45] <huon> Kingsquee: matches returns an double-ended iterator
[02:33:50] <huon> so it is also from both directions
[02:33:58] <Kingsquee> oh?
[02:34:07] <aatch> huon, only if the pattern allows it.
[02:34:11] *** Joins: summerlight (summerlight@moz-99k.2mj.130.121.IP)
[02:34:20] <aatch> huon, that's why there's a rmatches too
[02:34:28] <huon> right, but trim_matches only works if the pattern allows it too :)
[02:34:32] <Kingsquee> rmatches is a 'reverse searcher' though
[02:34:45] <Kingsquee> how can it be reverse of matches if matches is double ended :I
[02:35:08] <huon> matches can give different results for different search directions, depending on the pattern
[02:35:08] *** Quits: dpc (dpc@moz-t6gr4b.ca.comcast.net) (Connection closed)
[02:35:50] <Kingsquee> I understand that, I'm just trying to figure out what directions the functions use
[02:35:58] <Kingsquee> or are you saying the pattern they accept defines that somehow?
[02:36:16] *** Joins: zxq9 (ceverett@moz-qsm369.mesh.ad.jp)
[02:36:48] *** Joins: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP)
[02:37:11] *** Joins: mahdi (mahdi@moz-ehn.506.244.151.IP)
[02:37:32] *** Joins: dpc (dpc@moz-t6gr4b.ca.comcast.net)
[02:38:09] <aatch> Kingsquee, Pattern has an associated type "Searcher", which can implement DoubleEndedSearcher and/or ReverseSearcher
[02:38:26] *** Quits: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP) (A TLS packet with unexpected length was received.)
[02:38:31] *** Joins: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP)
[02:39:09] *** Quits: kngl (Adium@moz-rmgnkh.dynamic.voo.be) (Quit: Leaving.)
[02:40:32] <Kingsquee> that is really confusing.
[02:40:57] *** Quits: khades (Thunderbird@moz-s8b.3vk.74.212.IP) (Ping timeout: 121 seconds)
[02:41:13] *** Quits: mahdi (mahdi@moz-ehn.506.244.151.IP) (Ping timeout: 121 seconds)
[02:42:46] *** Joins: ixti (ixti@moz-21k.dae.119.188.IP)
[02:42:51] *** Quits: kefan (kefan@moz-ljgn4c.ma.comcast.net) (Client exited)
[02:43:28] *** Joins: Tassiegirl (tassiegirl@moz-09pldd.iinet.net.au)
[02:43:38] *** Joins: psy (psy@moz-9rn.ntd.6.103.IP)
[02:43:52] *** Joins: tamird (textual@moz-gkumi9.dyn.optonline.net)
[02:43:52] *** Quits: dpc (dpc@moz-t6gr4b.ca.comcast.net) (Connection closed)
[02:44:00] *** Joins: d356 (d@moz-ilmmgc.cpe.distributel.net)
[02:44:21] *** Quits: Guest22 (textual@moz-jt9juk.fibertel.com.ar) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[02:44:25] *** Quits: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp) (Quit: Bye)
[02:44:33] *** Quits: choplin (choplin@moz-96vu56.t6mc.g9m6.001a.240d.IP) (Connection closed)
[02:44:48] *** Quits: Tassiegirl (tassiegirl@moz-09pldd.iinet.net.au) (Connection closed)
[02:44:55] *** Joins: Tassiegirl (tassiegirl@moz-09pldd.iinet.net.au)
[02:45:31] *** Quits: iiixtiii (ixti@moz-21k.dae.119.188.IP) (Ping timeout: 121 seconds)
[02:46:02] *** Quits: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP) (A TLS packet with unexpected length was received.)
[02:46:11] *** Quits: Tassiegirl (tassiegirl@moz-09pldd.iinet.net.au) (Quit: Colloquy for iPad - http://colloquy.mobi)
[02:46:21] *** Joins: Tassiegirl (tassiegirl@moz-09pldd.iinet.net.au)
[02:46:33] *** Joins: dpc (dpc@moz-t6gr4b.ca.comcast.net)
[02:48:28] *** Quits: acgtyrant (acgtyrant@moz-3kd.b79.160.124.IP) (Connection closed)
[02:48:38] *** Joins: r_rios (luizromario@moz-6cr.edh.214.186.IP)
[02:48:44] *** Quits: Tassiegirl (tassiegirl@moz-09pldd.iinet.net.au) (Quit: Colloquy for iPad - http://colloquy.mobi)
[02:49:03] <wca> hi, how does one build rust from scratch without a stage0?  someone suggested to me the other day to configure --build --host with the target triple, but it still downloads the stage0 blob for me :-/
[02:49:13] *** Quits: KLP (KLP@moz-qdcjho.res.rr.com) (Quit: http://www.kiwiirc.com/ - A hand crafted IRC client)
[02:49:29] *** Joins: ty (ty@moz-i6c4to.wa.comcast.net)
[02:49:51] <ty> Why am I getting 'error: the trait `core::ops::Rem<_>` is not implemented for the type `f32`' when it obviously is implemented for f32?
[02:49:59] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[02:50:03] <mbrubeck> wca: Rust is written in Rust, so you need a Rust compiler to compile the Rust compiler.
[02:50:07] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[02:50:15] *** Joins: closures999 (closures999@moz-hbi.gpd.70.118.IP)
[02:51:31] <mbrubeck> wca: Very early versions of rustc were written in OCaml, so with a lot of work you could use an OCaml compiler to build the last OCaml Rust compiler, then use that to build the first self-hosted version of the compiler, and then use each version you build to build a later version, up to 1.0.
[02:51:38] *** Joins: fenster (Mibbit@moz-6dc.alp.236.165.IP)
[02:51:42] *** Joins: senderista (tdbaker@moz-6nsjqs.wa.comcast.net)
[02:51:54] *** Joins: acgtyrant (acgtyrant@moz-3kd.b79.160.124.IP)
[02:52:07] <mbrubeck> ty: You might need to use a literal like `1.0f32` as the other operand instead of a generic one like `1.0`
[02:52:21] <ChrisMorgan> wca: what is the triple youâ€™re trying to build for?
[02:52:23] <fenster> this may have been asked before, but how does one safely pull a str (or String) from a &mut [u8]?
[02:52:29] <wca> mbrubeck: ok, so future triples will require iteration from the original version?
[02:52:38] <ChrisMorgan> fenster: str::from_utf8
[02:52:43] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[02:52:56] <fenster> thanks - that seems easy enough
[02:53:23] *** Quits: closures999 (closures999@moz-hbi.gpd.70.118.IP) (Quit: Leaving...)
[02:53:24] <wca> ChrisMorgan: <foo>-unknown-freebsd where <foo> != x86_64, say i386 or arm
[02:53:41] <mbrubeck> wca: Future triples could be cross-compiled from a current stage0 snapshot.
[02:53:51] <mbrubeck> wca: But you want to do it without a stage0?  I'm not sure how you want it to work.
[02:54:13] <mbrubeck> playbot: 1.0f32 % 1.0
[02:54:14] -playbot- 0
[02:54:16] <wca> mbrubeck: I'm not that familiar with the bootstrapping process, so I'm just trying to understand what the standard is.  :)
[02:54:16] <mbrubeck> playbot: 1.0f32 % 1
[02:54:18] -playbot- <anon>:9:9: 9:19 error: the trait `core::ops::Rem<_>` is not implemented for the type `f32` [E0277]
[02:54:18] -playbot- <anon>:9         1.0f32 % 1
[02:54:18] -playbot- output truncated; full output at: http://bit.ly/1HiaYIS
[02:54:24] <ty> mbrubeck: that was the issue.  thanks!
[02:54:32] *** Joins: Guest22 (textual@moz-jt9juk.fibertel.com.ar)
[02:55:02] <ChrisMorgan> wca: for a platform for which there is no functioning rustc, you need to cross-compile, which can be a somewhat fiddly thing. You need LLVM for that platform and a cross-compiler, to start with.
[02:55:05] <wca> mbrubeck: so I guess what you're saying is if you want to support a new triple, it just needs to be cross-compilable from an existing triple?
[02:55:12] <ChrisMorgan> Yep.
[02:55:19] <wca> ChrisMorgan: ok, makes sense
[02:55:21] *** Quits: fenster (Mibbit@moz-6dc.alp.236.165.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[02:56:31] *** Quits: bjz (bjz@moz-puppgq.tpgi.com.au) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[02:57:45] *** Joins: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net)
[02:57:59] *** Quits: viel (zeroknowled@moz-2k31nn.retail.telecomitalia.it) (Ping timeout: 121 seconds)
[02:58:50] *** Quits: erz (erz@moz-n26c5c.broadband.corbina.ru) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[02:59:39] <wca> ChrisMorgan: Is there a canonical source for the bootstrap requirements?  e.g. version 1.0 requires version 2015-04-01 stage0 to build, etc?
[03:00:16] <wca> Perhaps there's an rfc about that?
[03:00:28] *** Quits: senderista (tdbaker@moz-6nsjqs.wa.comcast.net) (Client exited)
[03:00:32] <acgtyrant> there is a c function: int foo(), i want to write the alike rust function, but how do i decide the the type of return value while the size of int is undefined?
[03:00:45] <ChrisMorgan> wca: snapshots are registered in src/snapshots.txt
[03:01:04] <Murarth> acgtyrant: Using the libc crate, libc::c_int.
[03:01:14] <acgtyrant> Murarth, thank you!
[03:01:30] <ChrisMorgan> e.g. the line â€œS 2015-04-27 857ef6eâ€ says â€œthere is a snapshot from 015-04-27 which is of the commit 857ef6eâ€.
[03:01:38] *** Joins: davebettin_ (davebettin@moz-ip635p.or.comcast.net)
[03:01:52] <Kingsquee> http://is.gd/TsN4Nj ...
[03:02:20] *** Joins: senderista (tdbaker@moz-6nsjqs.wa.comcast.net)
[03:03:13] <wca> ChrisMorgan: ok, I did find that; the listing suggests that each snapshot requires the previous snapshot to build.  It could be more explicit about that if so.
[03:03:27] <dpc> I'm compiling an mio example, and even though one variable is clearly marked as mio::tcp::TcpSteam, rustc prints an error that std::net::tcp::TcpStream does not implement something (for this variable)
[03:03:31] *** Joins: jminer (Instantbird@moz-b1u.qch.163.66.IP)
[03:03:48] *** Joins: KLP (KLP@moz-qdcjho.res.rr.com)
[03:03:54] *** Quits: davebettin (davebettin@moz-ip635p.or.comcast.net) (Ping timeout: 121 seconds)
[03:03:56] *** Joins: lenstr (lenstr@moz-el8.vju.25.171.IP)
[03:04:33] *** Quits: lenstr (lenstr@moz-el8.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[03:04:48] *** Quits: Guest22 (textual@moz-jt9juk.fibertel.com.ar) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[03:04:49] *** Joins: lenstr (lenstr@moz-el8.vju.25.171.IP)
[03:04:49] *** Quits: Guest__ (textual@moz-6um9co.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[03:04:54] <dpc> http://sprunge.us/Egfi How is this possible?
[03:05:08] <Kingsquee> you had one job, trim_right_matches
[03:05:10] <Kingsquee> one job
[03:05:21] <ChrisMorgan> wca: if you wish to build a given snapshot revision from source, you will need the previous snapshot to do so.
[03:05:27] <Murarth> dpc: mio TcpStream and std TcpStream are no longer the same thing.
[03:05:40] <dpc> Murarth: Yes, I know. 
[03:05:42] *** Quits: lenstr (lenstr@moz-el8.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[03:05:54] <dpc> I use only mio::tcp::TcpStream.
[03:05:55] *** Quits: robojeb (Mibbit@moz-su0f9k.fios.verizon.net) (Quit: http://www.mibbit.com ajax IRC Client)
[03:06:06] <ChrisMorgan> wca: these things are perfectly standard for bootstrapped environments, so for people â€œin the knowâ€ thereâ€™s no need to specify it. Itâ€™s just for those not in the knowâ€”
[03:06:24] <Murarth> dpc: Apparently not. That's an error about std::net::TcpStream.
[03:06:40] <wca> fair enough
[03:06:46] <dpc> Murarth, but this type is not used there.
[03:07:11] <huon> Kingsquee: trim_right_matches doesn't mutate anything
[03:07:37] <huon> Kingsquee: http://is.gd/VV1zDg
[03:07:57] *** Quits: brson (brson@moz-cfhap5.mtv2.mozilla.com) (Quit: leaving)
[03:07:59] <Kingsquee> augh
[03:08:06] <Kingsquee> thanks
[03:08:22] * Kingsquee is never coding after manual labour again
[03:08:49] <Murarth> dpc: Okay, that's weird. Are you sure you've updated to the latest version of mio?
[03:09:00] <dpc> cargo update, multirust update, everything is recent
[03:09:03] *** Quits: m10e (mblbruce@moz-onbacj.fagotten.org) (Client exited)
[03:09:12] <dpc> That is super weird.
[03:10:26] *** Quits: r_rios (luizromario@moz-6cr.edh.214.186.IP) (Quit: Konversation terminated!)
[03:11:57] *** Quits: LeSingingTree (SingingTree@moz-sh9.0dv.37.202.IP) (Connection closed)
[03:12:02] *** Quits: nonsensickle_ (nonsensickl@moz-4v0.gkd.16.182.IP) (Connection closed)
[03:12:15] *** Quits: senderista (tdbaker@moz-6nsjqs.wa.comcast.net) (Client exited)
[03:12:23] *** Joins: LeSingingTree (SingingTree@moz-sh9.0dv.37.202.IP)
[03:12:24] *** Joins: nonsensickle_ (nonsensickl@moz-4v0.gkd.16.182.IP)
[03:13:21] <Murarth> dpc: Got it. The crates.io version of mio isn't kept updated. It's suggested to use the dependency through the GitHub repo instead.
[03:13:41] *** Quits: egrep (egrep@moz-vqao7u.org) (Ping timeout: 121 seconds)
[03:14:29] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[03:14:29] *** ChanServ sets mode: +o erickt
[03:15:07] <dpc> Murarth, You're right!
[03:15:11] <dpc> Thank you.
[03:17:20] *** Quits: GBGamer (npm@moz-92sbjt.wa.comcast.net) (Connection closed)
[03:17:58] *** Joins: egrep (egrep@moz-vqao7u.org)
[03:19:05] *** Joins: khades (Thunderbird@moz-ual.b31.186.31.IP)
[03:19:08] *** Quits: d356 (d@moz-ilmmgc.cpe.distributel.net) (Client exited)
[03:19:20] *** Quits: mkpankov (mkpankov@moz-bid.0jj.23.84.IP) (Ping timeout: 121 seconds)
[03:19:24] *** Quits: idegen (greg@moz-9c4nle.or.frontiernet.net) (Quit: Leaving.)
[03:20:41] *** Quits: housl (housl@moz-qnjt4k.ut.comcast.net) (Quit: WeeChat 1.1.1)
[03:22:10] *** Quits: khades (Thunderbird@moz-ual.b31.186.31.IP) (Connection closed)
[03:23:08] *** Joins: mib_eiqrg5 (Mibbit@moz-c57.80o.10.218.IP)
[03:23:59] <JustAPerson> What's the best way to get a Box<Read> from a String
[03:24:25] <JustAPerson> really just anything that implements Read
[03:25:03] <XMPPwocky> Cursor::new(my_string.as_bytes()) ?
[03:25:57] <JustAPerson> XMPPwocky: Looks like what I was looking for, thank you :)
[03:27:46] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[03:28:30] *** Joins: raisin (Mibbit@moz-5b1527.dyn.optonline.net)
[03:30:07] *** Joins: __mark__ (mark@moz-udut16.dynamic.chello.pl)
[03:30:23] <raisin> i'm trying to write a rust lib that exposes a C API, and can't find docs or an example on how i can let a C caller create and destroy a struct i've defined. anyone know something i can read?
[03:31:01] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[03:31:01] *** ChanServ sets mode: +o erickt
[03:31:15] *** Joins: mib_9sumbg (Mibbit@moz-e4uvrn.dyn.optonline.net)
[03:31:26] <reem> raisin: you should expose t_create and t_destroy methods or equivalent probably
[03:32:14] *** Quits: mib_9sumbg (Mibbit@moz-e4uvrn.dyn.optonline.net) (Quit: http://www.mibbit.com ajax IRC Client)
[03:34:03] *** Quits: new_one (new_one@moz-suj.lcf.15.50.IP) (Quit: WeeChat 1.1.1)
[03:34:08] *** Joins: choplin (choplin@moz-qkm9un.ap.nuro.jp)
[03:34:43] *** Joins: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net)
[03:34:43] *** ChanServ sets mode: +ao pcwalton pcwalton
[03:34:51] *** Quits: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net) (Client exited)
[03:35:26] *** Quits: aatch (james@moz-ciignl.bmm3.j08e.e000.2406.IP) (Connection closed)
[03:35:42] *** Joins: davebettin (davebettin@moz-ip635p.or.comcast.net)
[03:35:56] *** Quits: davebettin_ (davebettin@moz-ip635p.or.comcast.net) (Ping timeout: 121 seconds)
[03:36:39] *** Quits: KLP (KLP@moz-qdcjho.res.rr.com) (Quit: http://www.kiwiirc.com/ - A hand crafted IRC client)
[03:39:01] *** Quits: zeph (zeph@moz-jn4cjt.3nlo.p53a.ffda.2602.IP) (Ping timeout: 121 seconds)
[03:39:55] *** Quits: benbangert (bbangert@moz-t8r7ci.org) (Ping timeout: 121 seconds)
[03:40:03] *** Quits: frecel (quassel@moz-qme.p1t.254.162.IP) (Connection closed)
[03:42:17] *** Joins: frecel (quassel@moz-qme.p1t.254.162.IP)
[03:43:08] *** Quits: davebettin (davebettin@moz-ip635p.or.comcast.net) (Ping timeout: 121 seconds)
[03:44:03] *** Joins: zeph (zeph@moz-jn4cjt.3nlo.p53a.ffda.2602.IP)
[03:44:25] *** Joins: tiago1 (tiago@moz-o8qt0p.dsl.telepac.pt)
[03:44:45] *** Quits: kalail (uid62296@moz-5ck9vu.charlton.irccloud.com) (Quit: Connection closed for inactivity)
[03:46:02] *** Joins: c74d3 (c74d3a4ebb6@moz-s0g0co.mggc.hibn.4404.2002.IP)
[03:46:02] *** Joins: kerrick (kerrick@moz-fub7j7.hfc.comcastbusiness.net)
[03:46:09] *** Quits: c74d (c74d3a4ebb6@moz-0ersgu.oc.cox.net) (Ping timeout: 121 seconds)
[03:46:27] *** Joins: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP)
[03:46:51] *** Joins: playjax (chatzilla@moz-js8ej4.optusnet.com.au)
[03:47:06] *** Quits: raisin (Mibbit@moz-5b1527.dyn.optonline.net) (Quit: http://www.mibbit.com ajax IRC Client)
[03:47:12] *** Quits: tiago (tiago@moz-o57a2g.dsl.telepac.pt) (Ping timeout: 121 seconds)
[03:47:22] *** Quits: jadbaires (jadrian@moz-bghnjr.dsl.telepac.pt) (Ping timeout: 121 seconds)
[03:47:29] *** c74d3 is now known as c74d
[03:47:37] *** Quits: choplin (choplin@moz-qkm9un.ap.nuro.jp) (Connection closed)
[03:48:16] *** Quits: Excureo (c@moz-7mf6lg.wa.charter.com) (Ping timeout: 121 seconds)
[03:48:45] *** Joins: KLP (KLP@moz-qdcjho.res.rr.com)
[03:50:21] *** Joins: fleabay (Mibbit@moz-kr7nid.ip.windstream.net)
[03:50:26] *** Quits: logan_e (logan_e@moz-ltn.qg3.218.73.IP) (Client exited)
[03:50:47] *** Quits: KLP (KLP@moz-qdcjho.res.rr.com) (Quit: http://www.kiwiirc.com/ - A hand crafted IRC client)
[03:51:29] <JustAPerson> Can you not impl traits from the stdlib (e.g. Into<T>) for your own types? that's kinda lame..
[03:51:42] <bstrie> JustAPerson: you can
[03:52:05] <bstrie> JustAPerson: are you having problems doing so?
[03:52:16] <eddyb> JustAPerson: you impl From, not Into, just because of that
[03:52:28] *** Quits: __mark__ (mark@moz-udut16.dynamic.chello.pl) (Client exited)
[03:52:54] *** Joins: maedhroz (maedhroz@moz-4jk5ho.res.rr.com)
[03:53:08] <JustAPerson> bstrie: yes, "Othe impl does not reference any types defined in this crate; only traits defined in the current crate can be implemented for arbitrary types"
[03:53:26] <JustAPerson> eddyb: I don't think that conveys the same thing, at least not what I infered from the docs
[03:53:47] <eddyb> JustAPerson: you impl From<U> for T and get Into<T> for U
[03:53:50] *** Joins: davebettin (davebettin@moz-ip635p.or.comcast.net)
[03:54:04] <JustAPerson> eddyb: ooooooooh
[03:54:07] <eddyb> JustAPerson: it's a directionality reversal to help with coherence
[03:54:19] *** Quits: efaust (efaust@moz-4u9k4j.ca.comcast.net) (Ping timeout: 121 seconds)
[03:54:22] <eddyb> the docs should definitely mention this
[03:54:28] *** Quits: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP) (Ping timeout: 121 seconds)
[03:54:30] *** Joins: pgonda (peter@moz-s36.0tp.134.75.IP)
[03:54:43] *** Quits: summerlight (summerlight@moz-99k.2mj.130.121.IP) (Connection closed)
[03:54:54] *** Joins: efaust (efaust@moz-4u9k4j.ca.comcast.net)
[03:55:31] *** Joins: lucian (lucian@moz-2c3pda.cable.virginm.net)
[03:57:12] <JustAPerson> eddyb: could you help here please? http://is.gd/fi3ylV
[03:58:08] *** Quits: tristanseifert (tristanseif@moz-r0t7ns.res.rr.com) (Ping timeout: 121 seconds)
[03:59:33] *** Quits: lucian (lucian@moz-2c3pda.cable.virginm.net) (Ping timeout: 121 seconds)
[04:02:32] <chowmeined> So is the awesome new building with msvc stuff making it into the 1.0 release?
[04:02:45] *** Quits: Wild_Cat (Max@moz-fa8mvt.dsl.teksavvy.com) (Ping timeout: 121 seconds)
[04:02:56] *** Joins: summerlight (summerlight@moz-99k.2mj.130.121.IP)
[04:03:40] *** Joins: wldcordeiro (wldcordeiro@moz-pvsror.ut.comcast.net)
[04:03:46] *** Joins: KLP (KLP@moz-qdcjho.res.rr.com)
[04:03:54] *** Joins: svr (Mibbit@moz-7llnf7.ca.comcast.net)
[04:04:38] *** Joins: anders (andars@moz-bsldst.sntcca.sbcglobal.net)
[04:04:46] *** Quits: svr (Mibbit@moz-7llnf7.ca.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[04:04:52] *** Joins: bombela (Mibbit@moz-mu0.s74.170.68.IP)
[04:05:38] *** Quits: annodomini (lambda@moz-qgii5v.ma.comcast.net) (Client exited)
[04:06:00] *** Joins: dellavg (dellavg@moz-9lesb5.retail.telecomitalia.it)
[04:06:13] *** Joins: lenstr (lenstr@moz-el8.vju.25.171.IP)
[04:06:51] *** Quits: lenstr (lenstr@moz-el8.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[04:07:07] *** Joins: lenstr (lenstr@moz-el8.vju.25.171.IP)
[04:07:28] *** Joins: logan_e (logan_e@moz-ltn.qg3.218.73.IP)
[04:07:47] <bombela> hello, I have some data structure, with get(key) and get_mut(key) functions. They share the same code, except the first takes &self and returns a &result, while the second takes &mut self and returns &result. How can I reduce the code duplication?
[04:07:54] *** Joins: choplin (choplin@moz-q517gi.u-tokyo.ac.jp)
[04:08:01] *** Quits: lenstr (lenstr@moz-el8.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[04:08:07] *** Quits: choplin (choplin@moz-q517gi.u-tokyo.ac.jp) (Connection closed)
[04:08:09] *** Joins: choplin (choplin@moz-q517gi.u-tokyo.ac.jp)
[04:09:57] *** Joins: mkpankov (mkpankov@moz-plu.0jj.23.84.IP)
[04:10:22] <ChrisMorgan> bombela: common code can sometimes be shifted into another method.
[04:10:26] <ChrisMorgan> (A private method.)
[04:10:49] <ChrisMorgan> For the most part, though, rust doesnâ€™t help you with such questions.
[04:10:54] *** Quits: maedhroz (maedhroz@moz-4jk5ho.res.rr.com) (Connection closed)
[04:11:08] <bombela> yes, but this method would need a magic self and magic return, that in one case works as & and the other as &mut
[04:11:43] <XMPPwocky> /win/win 13
[04:11:58] *** Quits: pgonda (peter@moz-s36.0tp.134.75.IP) (Ping timeout: 121 seconds)
[04:12:17] <bombela> basically, there is two ways the "get_internal" could be implemented
[04:12:45] *** Quits: orangeshark (erik@moz-d2eenc.44tj.56ot.0306.2602.IP) (Quit: Leaving)
[04:13:17] <bombela> the simple solution: it takes &self, and returns some sort of index, then get and get_mut use this index to perform the right shared borrow or mutable borrow
[04:14:15] *** Joins: benbangert (bbangert@moz-t8r7ci.org)
[04:14:20] *** Quits: drasa (drasa@moz-9b2lcs.io) (Connection closed)
[04:14:47] *** Quits: danv (danv@moz-0js00c.iinet.net.au) (Ping timeout: 121 seconds)
[04:15:00] <JustAPerson> bstrie: you mentioned that it should be possible to implement a stdlib trait for a user defined type, can you help me out here? http://is.gd/ezkcZc
[04:15:23] <ChrisMorgan> JustAPerson: Program is purely a type alias.
[04:16:05] *** Joins: dawehner (quassel@moz-84r.uga.249.209.IP)
[04:16:25] <ChrisMorgan> JustAPerson: so youâ€™re trying to implement From<&String> for Vec<Opcode>, which would clash with an implementation from libstd of From<&String> for Vec<T> where T: From<u8>, for example.
[04:17:10] <JustAPerson> Well since using `Vec<Opcode>` in its place also fails, do I have to creaate an actual type `struct Program { opcodes: Vec<Opcode> }` ?
[04:17:29] <bombela> JustAPerson: ChrisMorgan  and the type aliased by Program is not in the local crate, so it cannot work.
[04:17:39] *** Joins: aatch (james@moz-is4j4r.cable.telstraclear.net)
[04:17:41] <ChrisMorgan> JustAPerson: yes.
[04:17:42] <bombela> JustAPerson: if you create your own type you can impl it
[04:18:01] *** Quits: carlcolglazier (uid64399@moz-118bsh.ealing.irccloud.com) (Quit: Connection closed for inactivity)
[04:18:10] *** Joins: bjz (bjz@moz-0j4.2c9.87.203.IP)
[04:18:14] * bombela just hope he is not saying too much shit with his fresh knowledge of rust ;)
[04:18:21] *** Quits: choplin (choplin@moz-q517gi.u-tokyo.ac.jp) (Quit: )
[04:18:23] *** Joins: m_kato (m_kato@moz-86b4bs.bitcat.net)
[04:18:24] *** Quits: saterus (saterus@moz-rutqj0.res.rr.com) (Connection closed)
[04:18:40] *** Joins: excessive (Mibbit@moz-p0l.q36.8.24.IP)
[04:18:45] *** Joins: saterus (saterus@moz-rutqj0.res.rr.com)
[04:18:45] *** Joins: colinsurprenant (colin@moz-q9ee1n.74.electronicbox.net)
[04:18:48] *** Joins: starless (starless@moz-u9gmm1.res.rr.com)
[04:18:51] <ChrisMorgan> JustAPerson: `type X = Y;` is *purely an alias*. It is substituted in every place you use it, nothing else.
[04:19:16] <ChrisMorgan> (I speak, of course, of the item `type X = Y;`, not the associated type `type X = Y;`.)
[04:19:43] *** Quits: colinsurprenant (colin@moz-q9ee1n.74.electronicbox.net) (Client exited)
[04:19:52] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[04:19:54] *** Joins: joneshf-laptop (joneshf@moz-l4h.b5s.208.98.IP)
[04:20:15] *** Joins: khades (Thunderbird@moz-ual.b31.186.31.IP)
[04:20:21] <bombela> ChrisMorgan: I think my question could be, how can I write a generic function, get(&self OR &mut self) -> &T if &self else &mut T
[04:20:27] <excessive> Hi all.  Is there a good place where I can find the rationale about when you are (and are not) allowed to add a trait to std type (like i16 and f64)?
[04:20:46] *** Quits: wldcordeiro (wldcordeiro@moz-pvsror.ut.comcast.net) (Connection closed)
[04:20:48] <ChrisMorgan> bombela: as I said, you canâ€™t.
[04:21:08] *** Joins: wldcordeiro (wldcordeiro@moz-pvsror.ut.comcast.net)
[04:21:31] <excessive> I think it's really weird that I can't impl a generic trait, but I can explicitly implement one for specific types which are not in my crate.
[04:21:45] <bombela> ChrisMorgan: ok, I thought you were initially talking at the design level, like rust wont help you to solve a design problem magically :) thanks for your answer
[04:21:54] *** Joins: dougxxx (dougxxx@moz-0js00c.iinet.net.au)
[04:22:46] <geofft> bombela: if you really want, you can define a private macro and call it twice 
[04:22:47] *** Quits: saterus (saterus@moz-rutqj0.res.rr.com) (Ping timeout: 121 seconds)
[04:23:07] <geofft> but unless the common code is, like, 100 lines long with only two changes, I probably wouldn't 
[04:23:10] <ChrisMorgan> bombela: you could go the convoluted way of `trait Get { type Output; fn get(self) -> Self::Output; } impl<'a> Get for &'a Foo { type Output = &'a T; fn get(self) -> &'a T { â€¦ } } impl<'a> Get for &'a mut Foo { type Output = &'a mut T; fn get(self) -> &'a mut T { â€¦ } }`, but that still has minor issues.
[04:24:00] <bombela> geofft: good point, and yeah its like 10 lines, with only 2 line change each time. I just like to avoid duplicated logic.
[04:24:23] <ChrisMorgan> excessive: itâ€™s for reasons of coherence. The goal is that adding code upstream will never break downstream code. Without these restrictions, that could not be achieved.
[04:24:29] *** Quits: griff (griff@moz-bf2.sbd.199.62.IP) (Client exited)
[04:25:04] <bombela> ChrisMorgan: oh yeah, thats pretty cool
[04:25:22] <ChrisMorgan> bombela: cool maybe, but you probably shouldnâ€™t do it â˜º
[04:25:26] *** Quits: detsak (darren@moz-804egb.dyn.optonline.net) (Quit: WeeChat 1.1.1)
[04:25:39] <bombela> ChrisMorgan: yep, hence the word cool ;)
[04:25:49] <niconii> excessive: it either needs to be your trait, your type, or both (and generics don't count as your type because they can include types that aren't yours)
[04:26:48] <niconii> excessive: if a lib has lib::Trait and lib::Type, you can't `impl lib::Trait for lib::Type` because one day lib might want to impl it themselves
[04:27:01] <niconii> excessive: which would conflict with your implementation, which would break your code
[04:27:50] <XMPPwocky> worse yet, another library could implement it
[04:28:05] <XMPPwocky> now you can get bizarre conflicts between libraries
[04:28:16] <niconii> right
[04:28:21] <niconii> so that's why it's forbidden
[04:28:35] *** Joins: nico (nico@moz-ni68vq.dip0.t-ipconnect.de)
[04:28:35] <excessive> ChrisMorgan and bombella and niconii, but the nightly /is/ letting me add a trait to f64 (and f32, and u16, etc...).  I'm implementing "Add<MyGeneric<f64>> for f64".  I just can't do it generically with Add<MyGeneric<T>> for T.
[04:28:49] *** Quits: csherratt (textual@moz-357qdq.cable.teksavvy.com) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[04:29:00] *** Quits: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu) (Quit: Leaving)
[04:29:05] <bombela> btw, to any core rust developer here, I find rust deliciously enlightening. So far its everything I wanted everytime I wrote code in C++. Its so refreshing to focus on the business code, and not basically having to re-read the C++ standard after typing every semi-colon in fear of undefined behavior or other shit.
[04:29:35] <arfy> hi. if I install the 64-bit version of rust in windows, does it include support for compiling 32-bit apps, or will I need both versions?
[04:29:35] <bombela> so, a big THANK YOU for making rust
[04:29:58] <ChrisMorgan> excessive: what if libstd adds a blanket implementation like `impl<T> Add<T> for SomeConcreteType`? Your implementation clashes.
[04:30:28] <ChrisMorgan> Hang onâ€¦ let me think.
[04:30:42] *** Quits: jminer (Instantbird@moz-b1u.qch.163.66.IP) (Ping timeout: 121 seconds)
[04:31:02] <ChrisMorgan> Oh, thatâ€™s OK, Iâ€™m right.
[04:31:15] *** Joins: maxilz (Mibbit@moz-9j8.nuv.59.187.IP)
[04:31:25] <mcoffin> Any reason that a staticlib crate compiled for a different platform would cause rustc to complain about "dylib outputs [not being] available for <triple>"? I ensured cargo is passing --crate-type staticlib and there are no crate_type attributes for the crate. https://github.com/mcoffin/zinc. I'm building with `--target=thumbv7m-none-eabi'
[04:31:50] <excessive> ChrisMorgan, this might be easier if I pin this down to specifics because I'm having trouble dragging the general case back to my level.
[04:32:05] *** Joins: Guest_ (textual@moz-rtn.fg7.77.192.IP)
[04:32:31] <excessive> I'm implementing a Complex<T> type, and I'd like to do:  "Complex<T> + Complex<T>", "Complex<T> + T", and "T + Complex<T>" with sensible implementatings
[04:32:35] <excessive> implemenations*
[04:32:37] *** Quits: nico (nico@moz-ni68vq.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[04:32:44] <maxilz> hey is there a specific reason for /r/rust having Termina's moon in the background? Or is it just here? Maybe there's a thread about it I'm not really finding?
[04:32:46] <ChrisMorgan> excessive: the goal in figuring out why it wonâ€™t let you do something is to find a case that would blow up if it did let you.
[04:32:50] *** Joins: d_rezzer (chatzilla@moz-t0fmuj.hfc.comcastbusiness.net)
[04:32:59] *** Quits: davebettin (davebettin@moz-ip635p.or.comcast.net) (Ping timeout: 121 seconds)
[04:33:48] <niconii> (hmm, i guess i should say, the coherence rules are more complicated than "your trait and/or your type", that's more just for basic cases)
[04:33:48] <ChrisMorgan> If you allow `impl<T> Add<Complex<T>> for T`, upstream can add `impl<T> Add<T> for SomeConcreteTypeUpstream` and your scheme falls apart.
[04:33:49] <excessive> I like that.  So now that I've given the specific case, how could it blow up?  The compiler lets me do the first two with generics, but not the third.  However, I can do the third non-generically.
[04:34:30] <excessive> sorry, simultaneous send - gonna read your thing carefully
[04:34:33] <ChrisMorgan> Because then there are two implementations of Add<Complex<T>> for SomeConcreteTypeUpstream, your one and the completely generic one upstream.
[04:34:55] <starless> shep-home: I don't know if I came back and thanked you for your link/answer on SO
[04:35:09] <XMPPwocky> maxilz: release impending
[04:35:10] <starless> shep-home: good summary on lifetimes; helped me a lo
[04:35:11] <starless> lot*
[04:36:03] <mcoffin> Ok... would listing a syntax extension (obviously a dylib) mess cargo up on platforms where dylibs aren't allowed? It should be fine though as long as its just a syntax extension...
[04:36:33] *** Quits: eric_lagergren (barsonme@moz-e0h.6s0.39.134.IP) (Ping timeout: 121 seconds)
[04:37:32] <eddyb> mcoffin: what platforms are those?
[04:38:21] *** Quits: Diggsey (diggsey@moz-e3pv94.dsl.pipex.com) (Ping timeout: 121 seconds)
[04:38:35] *** Quits: Gamecubic (cubic@moz-bglmk5.mc.videotron.ca) (Quit: Leaving)
[04:39:23] <maxilz> XMPPwocky: 3 days?
[04:39:51] <aatch> maxilz, well ~1-2 days now
[04:40:16] <excessive> I'm still not getting it, but I appreciate your patience.  How come I /can/ do:   impl Add<Complex<f64>> for f64       Doesn't that still get me in trouble if upstream later implements:   impl<T> Add<T> for f64
[04:40:56] <aatch> excessive, except an upstream crate can't write `impl<T> Add<T> for f64`
[04:41:10] <aatch> excessive, coherence rules prevent such an implementation
[04:41:54] *** Quits: frecel (quassel@moz-qme.p1t.254.162.IP) (Ping timeout: 121 seconds)
[04:42:12] <excessive> I thought you meant the std rust library when you said "upstream".  I need to catch up on the nomenclature, heh
[04:42:55] *** Joins: frecel (quassel@moz-qme.p1t.254.162.IP)
[04:42:55] <mcoffin> eddyb: bare metal. thumbv7-none-eabi
[04:42:59] *** Joins: deontologician (user@moz-l7i479.nc.charter.com)
[04:43:23] <aatch> excessive, well, you would be in trouble if the standard library decided to do `impl<T> Add<T> for f64`, but that's an separate issue.
[04:43:32] <deontologician> Hey, in stable rust, what's the best way to turn a &[u8] into a [u8; x] ?
[04:43:52] <mcoffin> eddyb: And by the way, that is the answer, if you list a sytax extension as a cargo dependency, then it runs the dylib check on the extension even though it isn't technically being built for the target platform.
[04:44:08] <aatch> deontologician, the only way to do that specific conversion is to copy from the &[u8] into the [u8; x]
[04:44:24] <deontologician>  ok, so I just need to copy it byte by byte myself
[04:44:26] <excessive> I'll search for some docs on coherence rules, but let me ask a similar question:  If another crate implements "Decimal128" or "QuadDouble" (things which would compose in to perfectly fine Complex<T>), is there a way I can provide them a left-add?
[04:44:34] <deontologician> aatch: thanks
[04:44:40] *** Quits: anders (andars@moz-bsldst.sntcca.sbcglobal.net) (Ping timeout: 121 seconds)
[04:46:18] <datalus> Ugh, I about tore out my hair trying to figure out why two string variables I had were failinng the compiler due to being moved
[04:46:45] <datalus> I kept overlooking fs::copy right there in the middle of the function which moves Strings, haha I feel dumb.
[04:47:08] <eddyb> datalus: fs::copy takes anything that converts to paths, no?
[04:47:09] <aatch> datalus, the compiler should've pointed at the location it moved to.
[04:47:22] *** Joins: Shados_ (shados@moz-7qnm64.net)
[04:47:26] <eddyb> so passing in &String should work
[04:47:31] <eddyb> or &str
[04:47:33] *** Quits: Shados (shados@moz-7qnm64.net) (Connection closed)
[04:48:17] <datalus> yeah i passed in &String
[04:48:23] <datalus> which coerces to &str
[04:48:36] <datalus> Yeah I wasn't really reading the compiler :)
[04:48:44] <datalus> I needed a break an hour ago xD
[04:49:21] *** Quits: maxilz (Mibbit@moz-9j8.nuv.59.187.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[04:49:40] *** Joins: c74d3 (c74d3a4ebb6@moz-nvc5h7.mggc.hibn.4404.2002.IP)
[04:50:20] *** Quits: c74d (c74d3a4ebb6@moz-s0g0co.mggc.hibn.4404.2002.IP) (Ping timeout: 121 seconds)
[04:50:55] *** Quits: lutter1 (lutter@moz-7v7ueu.PUBLIC.monkeybrains.net) (Quit: Leaving.)
[04:50:57] *** Joins: eric_lagergren (barsonme@moz-lr1hrn.wa.comcast.net)
[04:51:08] *** c74d3 is now known as c74d
[04:51:31] *** Quits: Selemur (chatzilla@moz-tpgfbn.kawo1.rwth-aachen.de) (Quit: ChatZilla 0.9.91.1 [Firefox 38.0/20150508094354])
[04:51:47] *** Quits: d_rezzer (chatzilla@moz-t0fmuj.hfc.comcastbusiness.net) (Ping timeout: 121 seconds)
[04:52:33] *** Quits: amir_ (amir@moz-jnohkj.3bcq.01f6.0168.2a02.IP) (Ping timeout: 121 seconds)
[04:53:25] *** Quits: mib_eiqrg5 (Mibbit@moz-c57.80o.10.218.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[04:54:47] *** Quits: dellavg (dellavg@moz-9lesb5.retail.telecomitalia.it) (Ping timeout: 121 seconds)
[04:55:26] *** Quits: eevee (eevee@moz-snfe52.qot6.ifqp.0470.2001.IP) (Quit: installin some ram)
[04:55:46] *** Quits: eddyb (eddyb@moz-egg.q07.26.188.IP) (Ping timeout: 121 seconds)
[04:57:14] *** Joins: _ixti_ (ixti@moz-21k.dae.119.188.IP)
[04:57:29] *** Quits: ixti (ixti@moz-21k.dae.119.188.IP) (Connection closed)
[04:58:42] *** Quits: logan_e (logan_e@moz-ltn.qg3.218.73.IP) (Client exited)
[04:59:03] *** Joins: acharles (acharles@moz-mi1459.static.qwest.net)
[04:59:07] *** Joins: frankmcsherry (frankmcsher@moz-la1m3v.adsl.alicedsl.de)
[04:59:18] *** Joins: Robozman (quassel@moz-m9s.jom.188.24.IP)
[04:59:46] *** Quits: bombela (Mibbit@moz-mu0.s74.170.68.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[04:59:51] *** Joins: davebettin (davebettin@moz-ip635p.or.comcast.net)
[04:59:52] *** Quits: wldcordeiro (wldcordeiro@moz-pvsror.ut.comcast.net) (Ping timeout: 121 seconds)
[05:00:52] *** Quits: frankmcsherry (frankmcsher@moz-la1m3v.adsl.alicedsl.de) (Connection closed)
[05:01:27] *** Quits: tkellen (tkellen@moz-f5ji1n.vt.comcast.net) (Client exited)
[05:05:47] *** Joins: amir (amir@moz-qbf4gg.fiber7.init7.net)
[05:06:26] *** Quits: mkpankov (mkpankov@moz-plu.0jj.23.84.IP) (Ping timeout: 121 seconds)
[05:06:31] *** Quits: excessive (Mibbit@moz-p0l.q36.8.24.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[05:07:57] *** Joins: p1start (p1start@moz-nftjhe.org)
[05:08:33] *** Joins: lenstr (lenstr@moz-el8.vju.25.171.IP)
[05:09:11] *** Quits: lenstr (lenstr@moz-el8.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[05:09:20] *** Joins: lenstr (lenstr@moz-el8.vju.25.171.IP)
[05:10:16] *** Joins: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp)
[05:10:21] *** Quits: lenstr (lenstr@moz-el8.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[05:11:07] *** Joins: srjek (srjek@moz-gg7i72.ece.uic.edu)
[05:11:07] *** Quits: srjek_ (srjek@moz-gg7i72.ece.uic.edu) (Connection closed)
[05:12:10] *** Joins: bailey (uid86962@moz-0mj20e.uxbridge.irccloud.com)
[05:13:58] *** Quits: deontologician (user@moz-l7i479.nc.charter.com) (Ping timeout: 121 seconds)
[05:14:58] <_habnabit> is there a way to annotate rust source to see the type of every subexpression? it's something i found useful when writing ocaml
[05:15:19] <_habnabit> (tuareg-mode, in fact, has a function that shows you the type of the subexpression under the point)
[05:16:23] <Mutabah> _habnabit: --pretty=typed might give you what you want...
[05:16:48] *** Quits: kerrick (kerrick@moz-fub7j7.hfc.comcastbusiness.net) (Ping timeout: 121 seconds)
[05:17:03] <bstrie> I think it might be behind a -Z flag now, but yeah
[05:17:05] <_habnabit> Mutabah, is that a flag to rustc?
[05:17:20] <_habnabit> .32
[05:17:22] <_habnabit> oops
[05:18:02] *** Joins: muellero (muellero@moz-7il339.dyn.telefonica.de)
[05:18:02] *** Quits: niconii (nicole@moz-ojt2sa.frgo.qwest.net) (Quit: leaving)
[05:18:20] <Mutabah> _habnabit: Yes it is
[05:18:30] <Mutabah> _habnabit: You may need to pass -Z unstable-options to use it
[05:18:58] *** Quits: Robozman (quassel@moz-m9s.jom.188.24.IP) (Ping timeout: 121 seconds)
[05:19:13] <bstrie> I can't seem to get it to work, or see it in the -Z help
[05:19:18] *** Quits: posborne (posborne@moz-9hioom.mn.comcast.net) (Ping timeout: 121 seconds)
[05:19:23] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[05:19:38] *** Parts: arfy (arfy@moz-qpq7ka.tpgi.com.au) ()
[05:19:53] *** Joins: Robozman (quassel@moz-rvl.apa.236.104.IP)
[05:20:01] *** Quits: basicdays (basicdays@moz-f3e.15a.49.72.IP) (Quit: I'm out)
[05:20:29] <Mutabah> bstrie: -Z unstable-options --pretty typed
[05:20:33] <Mutabah> bstrie: Might need nightly too
[05:20:53] *** Joins: xorcon (Mibbit@moz-7il339.dyn.telefonica.de)
[05:21:01] <_habnabit> hm
[05:21:09] <_habnabit> how can i pass those options through cargo?
[05:21:46] *** Quits: gingermusketeer (gingermuske@moz-4b0kga.compute.amazonaws.com) (Connection closed)
[05:21:51] *** Joins: gingermusketeer (gingermuske@moz-5i04hg.compute.amazonaws.com)
[05:22:04] <Mutabah> _habnabit: you can't, but you can get cargo to print the command it runs, and run it yourself
[05:22:15] <_habnabit> oh
[05:22:16] <_habnabit> drat
[05:22:24] *** Quits: gopar (gopar@moz-5039uj.ca.comcast.net) (Connection closed)
[05:22:30] <Mutabah> As you might ahve guessed, this is an unstable part of the compiler
[05:22:42] *** Joins: Jesin (Jesin@moz-34r.q2b.180.128.IP)
[05:22:47] <_habnabit> i'm just surprised you can't pass arbitrary extra arguments to rustc via cargo
[05:23:04] <bstrie> _habnabit: common request, coming eventually
[05:23:08] <_habnabit> okay
[05:23:15] *** Quits: summerlight (summerlight@moz-99k.2mj.130.121.IP) (Connection closed)
[05:24:14] <_habnabit> aha, that did it
[05:24:21] *** Quits: Bira (bira@moz-sq6.nc4.106.187.IP) (Connection closed)
[05:25:13] *** Quits: rustbot (havvy@moz-u0e4io.net) (Quit: Gaining CTCP VERSION)
[05:25:26] <_habnabit> anyway, thanks
[05:25:35] <_habnabit> it's human-readable, at least
[05:25:39] *** Joins: rbranson (rbranson@moz-oeg7f0.ca.comcast.net)
[05:25:42] *** Joins: rustbot (havvy@moz-3sq.vdk.239.23.IP)
[05:25:53] <_habnabit> maybe i could/should submit a feature request for machine-parsable type annotation output?
[05:26:24] *** Quits: Robozman (quassel@moz-rvl.apa.236.104.IP) (Ping timeout: 121 seconds)
[05:27:02] <xorcon> hello, not sure if this is the right place for my question: I'm trying to get the content type of a http HEAD request done with hyper but can't figure out the correct way (http://is.gd/lnKEcT0)
[05:27:03] *** Joins: Robozman (quassel@moz-dgqcft.dyn.optonline.net)
[05:27:23] <reem> xorcon: link errors :(
[05:27:56] <xorcon> sorry...I had to install the crate, here is my Error: rror: ambiguous associated type; specify the type using the syntax `<hyper::header::HeaderFormat as Trait>::ContentType` [E0223]
[05:28:29] <seanmonstar> xorcon: the link you pasted doesn't resolve
[05:29:42] <seanmonstar> even just a gist.github.com would be fine
[05:30:28] *** Quits: dougxxx (dougxxx@moz-0js00c.iinet.net.au) (Quit: Leaving...)
[05:30:58] <xorcon> https://gist.github.com/marcmo/31b09a73e3f42227b391
[05:31:14] *** Joins: mkpankov (mkpankov@moz-6mm.83e.23.84.IP)
[05:31:24] <seanmonstar> ah, remove the HeaderFormat:: part
[05:31:30] <reem> yup
[05:32:15] <xorcon> results in error: use of undeclared type name `ContentType`
[05:32:27] <seanmonstar> xorcon: must import ContentType from hyper::header :)
[05:32:40] *** Joins: summerlight (summerlight@moz-99k.2mj.130.121.IP)
[05:32:44] *** Quits: murz (murz@moz-nr2kro.wa.comcast.net) (Quit: Be back later ...)
[05:32:46] *** Quits: bjz (bjz@moz-0j4.2c9.87.203.IP) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[05:33:24] *** Joins: sp3d (sp3d@moz-ik970v.enn1.s22b.000d.2601.IP)
[05:34:11] *** Joins: jwilm_ (jwilm@moz-84q.eju.236.104.IP)
[05:34:20] *** Quits: Rym______ (y@moz-dhb.0vk.38.217.IP) (Ping timeout: 121 seconds)
[05:34:36] <sp3d> if I have an Iterator<Item=u8>, what are the most efficient and idiomatic ways to dump those bytes to stdout?
[05:35:04] <xorcon> seanmonstar: thanks...a little better, but: `core::option::Option<&hyper::header::common::content_type::ContentType>` cannot be formatted with the default formatter; try using `:?` instead if you are using a format string
[05:35:05] <_habnabit> oh okay 'break' and 'continue' are expressions with a type, but the type is inferred from e.g. other cases in the match
[05:35:15] <_habnabit> and if i do `let var = break;` it has type ()
[05:35:21] <xorcon> ups...
[05:35:28] *** Joins: dstrbad (dstrbad@moz-gme.pmq.217.31.IP)
[05:35:46] <seanmonstar> xorcon: yea, you're using {} in the println!, but Option<Anything> doesnt output with {}
[05:36:03] <reem> xorcon: use {:?}, to use the Debug trait
[05:36:10] *** Joins: flavius (flavius@moz-pik2l3.tmpp.le52.8388.2a02.IP)
[05:36:15] <seanmonstar> xorcon: you could {:?}, which will show a Debug format, or you could match the Option, and only println if its Some
[05:36:42] <xorcon> seanmonstar: thanks so much! I was tearing my hair out! ;)
[05:36:57] *** Quits: rbranson (rbranson@moz-oeg7f0.ca.comcast.net) (Quit: Computer has gone to sleep.)
[05:36:57] <xorcon> still very new to rust
[05:37:26] *** Quits: minot2 (kkus@moz-baj4jj.74.srtnet.com) (Connection closed)
[05:37:33] *** Joins: posborne (posborne@moz-9hioom.mn.comcast.net)
[05:37:41] <seanmonstar> xorcon: yea, i get the desire to jump straight into web stuff, but reading the 'book' will help a lot before you try hyper
[05:37:42] *** Joins: rprichard (rprichard@moz-0nj8tl.en8f.d045.0009.2601.IP)
[05:38:14] *** Quits: dstrbad (dstrbad@moz-gme.pmq.217.31.IP) (Connection closed)
[05:38:22] <seanmonstar> for example, that exact part is in 4.2: http://doc.rust-lang.org/1.0.0-beta.5/book/
[05:38:36] *** Joins: dstrbad (dstrbad@moz-gme.pmq.217.31.IP)
[05:38:59] <seanmonstar> lol which says coming soon
[05:39:05] <dpc> self.buf.advance::<Buf>(r);
[05:39:23] <dpc> multiple applicable methods in scope [E0034] 
[05:39:44] *** Quits: nham (nham@moz-755.bu3.214.98.IP) (Ping timeout: 121 seconds)
[05:39:45] <dpc> Isn't <Buf> already telling Compiler which version do I want?
[05:39:46] <xorcon> seanmonstar: I just started with the book...amazing how good the resources are...!
[05:40:00] *** Joins: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP)
[05:40:16] <Havvy> xorcon:  You can thank steveklabnik for that book.
[05:40:31] <seanmonstar> dpc: its that `buf` has .advance() from multiple traits in scope
[05:41:09] <dpc> Yes. And I want the one from here: https://github.com/carllerche/bytes/blob/master/src/buf/ring.rs#L159
[05:41:15] <dpc> So I've added <Buf>
[05:41:17] <seanmonstar> dpc: to differentiate, you can use UFSC: SomeSpecificTrait::advance(&self.buf, r)
[05:41:17] <sp3d> specifically, `for i in iter { bufwriter.write(&[i]); }` seems like it might not be the best solution
[05:41:25] <xorcon> cool...than thanks to steveklabnik  where ever you are ;)
[05:41:55] <sp3d> (where bufwriter is a BufWriter around stdout)
[05:42:22] *** Joins: frogmella (Mibbit@moz-j8m.3p1.53.116.IP)
[05:42:22] *** Joins: ai (ai@moz-pqofrl.sunline.net.ua)
[05:42:36] *** Joins: murz (murz@moz-nr2kro.wa.comcast.net)
[05:42:50] <seanmonstar> sp3d: thats actually probably good
[05:42:55] *** Quits: Shackra (Jorge@moz-7bh.ng6.177.186.IP) (Connection closed)
[05:43:01] <dpc> seanmonstar: I see. Works. Thanks!
[05:43:50] <seanmonstar> sp3d: or, you could create a stack array, and push .next() onto it a few times, and then write(&arr)
[05:44:09] <sp3d> there's no buffering iterator adapter which would do something of that sort?
[05:44:15] <seanmonstar> but with a BufWriter, you're pretty much getting taht anyway...
[05:44:57] <seanmonstar> sp3d: writing a byte at a time to a BufWriter is essentially `buf.push(byte)`
[05:45:27] <seanmonstar> perhaps a few more if checks that the buffer isnt full yet
[05:45:28] *** Quits: muellero (muellero@moz-7il339.dyn.telefonica.de) (Client exited)
[05:45:39] <sp3d> hm
[05:46:09] <seanmonstar> sp3d: if you like asm or llvm-ir, you could write it in play.rust-lang.org and see what it outputs
[05:46:52] *** Quits: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP) (Ping timeout: 121 seconds)
[05:46:58] *** Joins: xd1le (xd1le@moz-u0df4e.unsw.edu.au)
[05:47:34] *** Quits: dstrbad (dstrbad@moz-gme.pmq.217.31.IP) (Connection closed)
[05:47:56] *** Joins: dstrbad (dstrbad@moz-gme.pmq.217.31.IP)
[05:48:25] <sp3d> right now my throughput is pretty bad
[05:48:37] <sp3d> about 1MB/s
[05:48:48] *** Quits: fengshaun (fengshaun@moz-rf0qk5.cable.teksavvy.com) (Ping timeout: 121 seconds)
[05:49:02] *** Joins: ygrek (user@moz-8j9aeu.org.ua)
[05:49:12] <sp3d> strace says the only syscalls are read/write of 64k blocks which should be fine
[05:49:20] *** Joins: jminer (Instantbird@moz-b1u.qch.163.66.IP)
[05:49:57] *** Quits: xorcon (Mibbit@moz-7il339.dyn.telefonica.de) (Quit: http://www.mibbit.com ajax IRC Client)
[05:51:08] *** Quits: dstrbad (dstrbad@moz-gme.pmq.217.31.IP) (A TLS packet with unexpected length was received.)
[05:51:18] *** Joins: xorcon (muellero@moz-7il339.dyn.telefonica.de)
[05:51:55] <seanmonstar> could try something like `let mut v = Vec::with_capacity(32); loop { v.extend(iter.take(32)); wrt.write(&v); v.clear(); }
[05:52:26] *** Joins: kmcguire (kmcguire@moz-bbqf14.res.bhn.net)
[05:52:29] <seanmonstar> i'm missing things, but thats the idea
[05:52:37] <seanmonstar> sp3d: ^
[05:52:57] *** Quits: murz (murz@moz-nr2kro.wa.comcast.net) (Quit: Be back later ...)
[05:53:00] <sp3d> yeah, I'll see if that does anything
[05:53:09] <seanmonstar> 32 was just picked at random
[05:54:13] <aatch> Items inside functions are always private, right?
[05:54:32] *** Joins: thiblahute (tsaunier@moz-68f5rr.rev.sfr.net)
[05:54:33] <seanmonstar> Items?
[05:54:41] <seanmonstar> like, `use foo;`?
[05:54:41] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Quit: It's a joke, it's all a joke.)
[05:54:58] <aatch> seanmonstar, functions, specifically.
[05:55:23] <aatch> seanmonstar, you can define items (functions, types, even modules) inside functions.
[05:55:32] <seanmonstar> aatch: so an internal fn? fn foo() { fn bar() {} bar(); }
[05:55:37] <aatch> seanmonstar, correct
[05:55:38] *** Quits: rprichard (rprichard@moz-0nj8tl.en8f.d045.0009.2601.IP) (Connection closed)
[05:55:55] <seanmonstar> i want to say that it only exists inside the scope of foo
[05:56:02] <seanmonstar> but i dont have proof
[05:56:09] <aatch> seanmonstar, I'm pretty sure that's the case.
[05:56:13] <npm> agree with seanmonstar here
[05:56:19] *** Quits: frogmella (Mibbit@moz-j8m.3p1.53.116.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[05:56:33] <npm> they are 99% definitely scoped
[05:56:42] <aatch> I mean, there's an error message if you put `pub` on them.
[05:56:58] <aatch> Looks like I found a bug in the compiler then, since the internal functions are being exported.
[05:57:18] <npm> ooh
[05:57:21] <npm> cool
[05:57:25] <seanmonstar> they're usable outside?
[05:57:30] *** Quits: Twinklebear (Twinklebear@moz-ttrcn3.ut.comcast.net) (Quit: Leaving)
[05:57:35] <npm> I'm curious... how?
[05:58:00] <seanmonstar> playbot: fn foo() { fn bar() { println!("bar"); } } bar();
[05:58:01] -playbot- <anon>:9:52: 9:55 error: unresolved name `bar`
[05:58:02] -playbot- <anon>:9         fn foo() { fn bar() { println!("bar"); } } bar();
[05:58:02] -playbot- output truncated; full output at: http://bit.ly/1FfFelr
[05:58:05] <aatch> seanmonstar, nope, they're just emitted in the output binary.
[05:58:22] <npm> aatch: well of course, how else would they work?
[05:58:23] <seanmonstar> but mangled
[05:58:42] <aatch> npm, they're marked as inline(always), nothing calls them.
[05:58:55] <npm> do you have an optimization >0?
[05:58:57] <seanmonstar> aatch: at -O3?
[05:59:03] <seanmonstar> or even O2
[05:59:07] <aatch> As in, nothing calls them once optimisation happens.
[05:59:13] *** Quits: xorcon (muellero@moz-7il339.dyn.telefonica.de) (Client exited)
[05:59:29] <aatch> And yes, this is with optimisations. Guys, I do work on the compiler itself, I know these kinds of things.
[05:59:40] *** Quits: xd1le (xd1le@moz-u0df4e.unsw.edu.au) (Ping timeout: 121 seconds)
[05:59:46] <npm> do you have a small thingy?
[05:59:47] *** Joins: charmander (Mibbit@moz-j8m.3p1.53.116.IP)
[05:59:52] <sp3d> seanmonstar: with a 4k buffer I get about 25MB/s
[05:59:58] <npm> s/thingy/example/
[06:00:12] <aatch> Forcing them to be marked internal stops them from being emitted as symbols in the library.
[06:00:58] *** Joins: Rym______ (y@moz-dhb.0vk.38.217.IP)
[06:01:01] <seanmonstar> sp3d: do you have to use an iterator?
[06:01:07] *** Joins: danv (danv@moz-0js00c.iinet.net.au)
[06:01:09] *** Joins: frankmcsherry (frankmcsher@moz-la1m3v.adsl.alicedsl.de)
[06:01:26] <sp3d> well, I wrote the program logic as an iterator, assuming llvm would be able to optimize it into something reasonably efficient...
[06:01:26] <seanmonstar> its always going to be slower emitting 1 byte at a time
[06:01:29] <aatch> npm, just have a library with a `pub fn foo() { #[inline(always)] fn foo_impl() { .. } foo_impl() }`
[06:01:39] <ChrisMorgan> Yay! I made the results pane for the playground use the editorâ€™s theme, *including* rehighlighting ASM/LLVM IR appropriately. http://temp.chrismorgan.info/rust-playpen/static/web.html updated.
[06:01:52] <sp3d> said iterator does one byte at a time with some conditionals but no heap allocation or big function calls in its path
[06:02:00] <sp3d> or even loops
[06:02:46] <npm> argh, I hate how llvm optimizes stuff away
[06:02:47] <seanmonstar> sp3d: yea, but to output a lot of bytes, it'd be faster to be able to unwind the conditionals some
[06:02:47] *** Joins: kushal (kdas@moz-plp31c.202.sitibroadband.in)
[06:02:48] *** Joins: zmack (zmack@moz-j05.1kc.25.188.IP)
[06:03:03] <aatch> npm, you trying it in playpen? Cos that won't work.
[06:03:03] <sp3d> what do you mean, unwind?
[06:03:14] <npm> my compiler is compiling tho
[06:03:33] <npm> (plus, can't you just #![crate-type = "rlib"])
[06:04:09] *** Joins: griff (griff@moz-bf2.sbd.199.62.IP)
[06:04:10] <seanmonstar> sp3d: loop unwinding. lifting the conditional to only check ever 8 or 16 etc
[06:04:29] <npm> aatch: what foo_impl() specifically are you seeing it with
[06:04:34] <seanmonstar> derp, unrolling
[06:05:11] *** Quits: frankmcsherry (frankmcsher@moz-la1m3v.adsl.alicedsl.de) (Ping timeout: 121 seconds)
[06:05:12] <npm> aatch: and what type of crate is it
[06:05:13] <sp3d> unrolling the inner loop could do something but I think there's enough conditional logic in one iteration that it isn't what I'd reach for first
[06:05:18] *** Joins: smohan (smohan@moz-m6j.f0d.244.121.IP)
[06:05:28] <aatch> npm, oooh, interesting. It doesn't happen for the simple example. I wonder if it's the inline asm that's doing it.
[06:05:32] *** Quits: Rym______ (y@moz-dhb.0vk.38.217.IP) (Ping timeout: 121 seconds)
[06:05:33] <sp3d> probably I should be doing insn-level profiling and avoiding io for throughput numbers atm
[06:05:37] *** Joins: c0170_ (c0170@moz-bb29a4.cambridge.arm.com)
[06:05:42] <npm> now I'm interested
[06:05:49] <npm> what's it look like?
[06:06:00] *** Joins: nercury (nercury@moz-fbs.e0f.20.5.IP)
[06:06:02] <sp3d> some slowness could definitely be coming from using an input iterator of "buffered_stdin.bytes().map(|x| x.unwrap()),"
[06:06:44] <sp3d> considering how much of a win it was to manually convert the output to buffer rather than writing one-byte slices to a buffered stdout
[06:07:11] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[06:07:48] *** Quits: c0170 (c0170@moz-dev.ffi.127.79.IP) (Ping timeout: 121 seconds)
[06:08:09] *** Joins: BageDev (BageDevimo@moz-og7.cn8.251.116.IP)
[06:08:17] <seanmonstar> sp3d: yea, i believe that speed up was because writing 1 byte at a time meant for each byte, check if buf is full, also check if buf + bytes.len() will overflow, etc
[06:08:33] <seanmonstar> instead of checking once ever 4000 bytes
[06:08:38] <BageDev> Anyone here had a play with some UDP broadcast stuff in Rust?
[06:09:07] *** Quits: AngelOfSol (AngelOfSol@moz-dj58kc.rh.rit.edu) (Quit: Remember to close the door when you're done!)
[06:09:07] <seanmonstar> sp3d: also, checking your throughput with --release?
[06:09:14] <sp3d> "rustc -O"
[06:09:31] *** Joins: James (quassel@moz-225vcm.range86-148.btcentralplus.com)
[06:09:31] <seanmonstar> yea
[06:10:21] *** Quits: popow (Thunderbird@moz-03f.kd0.252.223.IP) (Connection closed)
[06:10:25] *** Joins: popow (Thunderbird@moz-03f.kd0.252.223.IP)
[06:10:44] *** Joins: lenstr (lenstr@moz-el8.vju.25.171.IP)
[06:11:13] <sp3d> hmm
[06:11:15] *** Quits: w4ffles (textual@moz-34v1r4.res.rr.com) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[06:11:31] <aatch> npm, can't seem to replicate it on playpen.
[06:11:32] *** Quits: lenstr (lenstr@moz-el8.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[06:11:44] *** Joins: lenstr (lenstr@moz-el8.vju.25.171.IP)
[06:12:30] *** Joins: frankmcsherry (frankmcsher@moz-la1m3v.adsl.alicedsl.de)
[06:12:40] *** Quits: lenstr (lenstr@moz-el8.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[06:12:42] <npm> hrmm
[06:12:49] <npm> maybe it's a bug with master?
[06:12:58] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[06:12:59] <npm> do you have a gist?
[06:13:01] *** Quits: davebettin (davebettin@moz-ip635p.or.comcast.net) (Ping timeout: 121 seconds)
[06:13:09] *** Quits: Guest_ (textual@moz-rtn.fg7.77.192.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[06:13:33] <sp3d> there's nothing like a Bytes iterator adapter for stdin that hands back raw u8 instead of result?
[06:13:56] <Mutabah> sp3d: You can use .map though
[06:13:58] <npm> argh why does clang/llvm use at&t by default :'(
[06:14:01] <npm> so ugly!
[06:14:27] <Mutabah> because gcc and gnu
[06:14:29] <sp3d> Mutabah: I'm doing that now, but I think it might be a bottleneck
[06:14:37] <npm> I much prefer my beautiful intel, but it means I have to add 3 colons :/
[06:14:39] <geofft> at least it's not at&mut t 
[06:15:10] <npm> geofft: ðŸ˜’
[06:15:18] <Manishearth> Zr40: huh. perhaps it shouldn't be dev-dependencies?
[06:15:19] <sp3d> if I already have a BufferedReader around stdin, it seems like unwrapping each byte individually is imposing extra branches
[06:15:20] *** Quits: psy (psy@moz-9rn.ntd.6.103.IP) (Ping timeout: 121 seconds)
[06:15:27] *** Quits: nercury (nercury@moz-fbs.e0f.20.5.IP) (Client exited)
[06:15:53] *** Quits: gsingh93 (uid22642@moz-aq0iah.charlton.irccloud.com) (Quit: Connection closed for inactivity)
[06:16:32] *** Joins: mvyskocil (mvyskocil@moz-1fo.p0p.7.31.IP)
[06:16:46] <Manishearth> Zr40: please file an issue with your cargo.toml though -- I'll have a look at it later :)
[06:16:47] *** Joins: nham (nham@moz-755.bu3.214.98.IP)
[06:16:54] *** Quits: zmack (zmack@moz-j05.1kc.25.188.IP) (Connection closed)
[06:18:00] *** Joins: nico (nico@moz-ni68vq.dip0.t-ipconnect.de)
[06:18:16] *** Joins: nwin (textual@moz-r1aari.pools.arcor-ip.net)
[06:19:18] <Sgeo> If I want to use something similar to Haskell where clauses, should I just use named functions even though I'm forced to pass in arguments explicitly (which at least helps the decision of passing in arguments vs. close over stuff), or should I make a closure?
[06:19:47] *** Joins: skade (skade@moz-m9ib3m.pools.vodafone-ip.de)
[06:20:14] <npm> Sgeo: up to you, whichever you like better
[06:20:18] *** Joins: kamilc__ (kamil@moz-sh222i.play-internet.pl)
[06:20:32] <Sgeo> Does move|| vs not move change the actual type of the resulting closure?
[06:20:51] <Manishearth> Sgeo: I think mvoe is inferred sometimes
[06:21:16] <npm> IIRC (and I probably don't), move || means only generate the FnOnce impl
[06:21:30] <npm> so you're forced to use it as an FnOne
[06:21:36] <npm> *FnOnce
[06:21:38] <Sgeo> I mean, if move|| can be used in contexts that || cannot, then that must mean that functions that only accept move|| have some kind of narrower type that they accept
[06:21:40] *** Joins: psy (psy@moz-9rn.ntd.6.103.IP)
[06:22:02] *** Quits: nico (nico@moz-ni68vq.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[06:22:04] <npm> one sec, there was a really good article about this
[06:22:16] <Sgeo> npm, http://is.gd/DrhTEh
[06:22:24] <Manishearth> Sgeo: no, not really
[06:22:27] <Manishearth> not exactly anyway
[06:22:51] <sp3d> perf is showing "iter::Map<I, F>.Iterator::next" as top cycles by a large margin... though if I compile with -g I see "_fini" as the hottest symbol :|
[06:22:52] <Manishearth> it's a lifetime thing
[06:23:00] *** Joins: tmtwd (tmtwd@moz-0kkm5n.cable.rogers.com)
[06:23:06] <npm> Sgeo: http://huonw.github.io/blog/2015/05/finding-closure-in-rust/
[06:23:09] <Manishearth> without move|| your closure will have a limited lifetime if it has a capture
[06:23:29] <Sgeo> Manishearth, and move|| is 'static in that circumstance?
[06:23:34] <tmtwd> can we develop a port of nodejs to the servo engine?
[06:24:17] <sp3d> tmtwd: Servo doesn't have its own javascript engine, it just uses Spidermonkey
[06:24:26] <Manishearth> Sgeo: well, sometimes
[06:24:48] *** Quits: alonlevy (alon@moz-p48.q13.159.94.IP) (Ping timeout: 121 seconds)
[06:25:04] <Manishearth> Sgeo: move || is more about how the closure internals work
[06:25:44] *** Joins: Stents (Stents@moz-r8d.u6c.187.68.IP)
[06:25:46] <tmtwd> well, for spidermonkey then 
[06:26:19] <sp3d> tmtwd: it's been done in the past, but I don't know if there's a compelling reason to revive such efforts
[06:26:20] *** Quits: mvyskocil (mvyskocil@moz-1fo.p0p.7.31.IP) (Ping timeout: 121 seconds)
[06:26:44] *** Joins: kgrandon (Adium@moz-ilv.ukc.122.2.IP)
[06:27:02] *** Quits: kgrandon (Adium@moz-ilv.ukc.122.2.IP) (Connection closed)
[06:27:29] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[06:27:32] *** Joins: rprichard (rprichard@moz-5v7oqc.en8f.d045.0009.2601.IP)
[06:27:51] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[06:28:08] *** Joins: sin8h (Adium@moz-f0u.cn5.51.106.IP)
[06:28:10] *** Joins: mvyskocil (mvyskocil@moz-1fo.p0p.7.31.IP)
[06:28:15] *** Quits: Stents_ (Stents@moz-r8d.u6c.187.68.IP) (Ping timeout: 121 seconds)
[06:28:42] *** Quits: charmander (Mibbit@moz-j8m.3p1.53.116.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[06:30:38] *** Joins: xorcon (coldgrnd@moz-7il339.dyn.telefonica.de)
[06:30:47] <tmtwd> why, too much effort?
[06:31:03] *** Joins: domgetter (Mibbit@moz-gkq5ir.res.bhn.net)
[06:31:38] <domgetter> Hey all, is there a way to know if a rustc compilation resulted in an error other than reading what's printed to the output?
[06:31:59] <domgetter> I'm trying to make a rake task to compile and only run my ruby script if rust correctly compiled.
[06:32:17] *** Joins: Shackra (Jorge@moz-7bh.ng6.177.186.IP)
[06:32:27] *** Joins: eddyb (eddyb@moz-hdr.5ot.166.109.IP)
[06:32:28] <domgetter> but my `rustc thing.rs --crate-type=dylib` returns an empty string
[06:32:51] <npm> domgetter: doesn't rustc have a non-zero exit when it fails?
[06:33:08] <npm> 101, iirc
[06:33:33] <domgetter> It may, and I might be trying to get it's return incorrectly.  I'll gist my rakefile one sec
[06:34:13] <npm> (honestly I don't know anything about rake, so take my words with a grain of salt)
[06:34:36] <domgetter> https://gist.github.com/domgetter/6fc13a28a3167ec38870
[06:34:42] *** Quits: _ixti_ (ixti@moz-21k.dae.119.188.IP) (Ping timeout: 121 seconds)
[06:34:49] <domgetter> fair enough, thanks for answering :)
[06:35:23] *** Quits: xorcon (coldgrnd@moz-7il339.dyn.telefonica.de) (Client exited)
[06:35:46] *** Quits: playjax (chatzilla@moz-js8ej4.optusnet.com.au) (Ping timeout: 121 seconds)
[06:37:04] <Manishearth> it sets a nonzero exit code
[06:37:04] <domgetter> got it!
[06:37:31] <domgetter> I have to use system('rustc p.rs --crate-type=dylib') instead of the backtick version.
[06:37:42] <domgetter> it returns false when there's an error :)
[06:37:48] <npm> cool :)
[06:38:17] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[06:39:01] *** Joins: jedireza (jedireza@moz-allpoi.ca.comcast.net)
[06:39:02] *** Joins: nercury (nercury@moz-fbs.e0f.20.5.IP)
[06:39:35] <npm> do we currently use the C calling convention for external functions?
[06:39:59] *** Joins: giucam (giucam@moz-iv0nnc.bb.dnainternet.fi)
[06:40:01] *** Joins: areski (areski@moz-prr0dt.user.ono.com)
[06:40:22] <domgetter> I put pub extern "C" fn whatever() for Ruby to load them through the fiddle gem
[06:40:27] <swgillespie> npm: "extern fn" defaults to C I think
[06:40:36] <swgillespie> but you can explicitly state it with extern "C" fn
[06:40:44] <npm> no I was just wondering from a codegen perspective
[06:40:49] <npm> normal rust functions
[06:41:00] <npm> probably better to ask in internals :P
[06:41:17] <npm> swgillespie: yeah, extern fn defaults to C
[06:41:38] *** Quits: Shackra (Jorge@moz-7bh.ng6.177.186.IP) (Ping timeout: 121 seconds)
[06:41:41] <swgillespie> npm: well, LLVM defaults to C if you don't tell it what to use explicitly
[06:41:48] <swgillespie> but I dunno any more than that
[06:41:48] *** Joins: eevee (eevee@moz-buleoj.veekun.com)
[06:42:02] <npm> yeah, I think we currently do use ccc
[06:42:26] *** Quits: kazimuth (james@moz-n85.696.189.18.IP) (Quit: Textual IRC Client: www.textualapp.com)
[06:42:53] *** Quits: frankmcsherry (frankmcsher@moz-la1m3v.adsl.alicedsl.de) (Connection closed)
[06:43:23] <datalus> well i can reload code dynamically now
[06:43:25] *** Joins: SneakySnake (nya@moz-i9is4u.pool.telekom.hu)
[06:43:35] <datalus> but i have to sleep 100 ms after i compile the dylib
[06:43:39] <datalus> before i reload it
[06:43:42] <datalus> or else i crash
[06:43:46] *** Quits: ksh (username@moz-pcs.hnl.166.46.IP) (Ping timeout: 121 seconds)
[06:44:07] <datalus> oops thought i was in gamedev :D
[06:44:28] *** Joins: slomo (slomo@moz-p8m0g2.net)
[06:44:32] *** Quits: pyon (pyon@moz-v9d.mdl.7.179.IP) (Ping timeout: 121 seconds)
[06:46:36] *** Joins: murz (murz@moz-nr2kro.wa.comcast.net)
[06:47:26] *** Joins: qdbhg (qdbhg@moz-lp2.qtm.104.223.IP)
[06:47:36] *** Quits: Kingsquee (kingsley@moz-3fm07c.bchsia.telus.net) (Quit: Konversation terminated!)
[06:47:37] <sp3d> replacing my stdin iterator with "iter::repeat(0).take(200M)" I go from 25M/s to 128M/s
[06:47:43] *** Joins: owickstrom (owickstrom@moz-dq04n8.bredband.comhem.se)
[06:47:58] *** Joins: yati (yati@moz-1oo.sua.227.110.IP)
[06:48:03] <sp3d> iterators and IO don't get along very well :(
[06:49:01] *** Quits: qdbhg (qdbhg@moz-lp2.qtm.104.223.IP) (Connection closed)
[06:49:48] *** Joins: hjr3 (hradtke@moz-e235ok.fios.verizon.net)
[06:50:25] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[06:50:40] <yati> Hi. I stumbled across the iron web framework, and saw this bit of code: `Chain::new(|&: _: &mut Request| {...});` How to interpret the stuff in the closure's arglist?
[06:52:21] *** Joins: Shackra (Jorge@moz-4l6.7m5.96.186.IP)
[06:52:43] *** Quits: dpc (dpc@moz-t6gr4b.ca.comcast.net) (Ping timeout: 121 seconds)
[06:53:37] *** Joins: mib_s0ekbg (Mibbit@moz-bfg.t7o.108.202.IP)
[06:54:49] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Client exited)
[06:54:52] <Havvy> The `&:` is something...
[06:55:06] *** Joins: Rym______ (y@moz-dhb.0vk.38.217.IP)
[06:55:11] <Havvy> But it takes a &mut Request that it does nothing with.
[06:55:37] <Havvy> (Since it's name "_" which is conventionally used for unused arguments.)
[06:55:52] *** Joins: davebettin (davebettin@moz-ip635p.or.comcast.net)
[06:56:04] *** Joins: alonlevy (alon@moz-ofv.tgc.142.37.IP)
[06:56:08] *** Joins: Kingsquee (kingsley@moz-3fm07c.bchsia.telus.net)
[06:56:12] *** Joins: lucian (lucian@moz-2c3pda.cable.virginm.net)
[06:56:19] *** Quits: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp) (Ping timeout: 121 seconds)
[06:56:39] *** Joins: frankmcsherry (frankmcsher@moz-la1m3v.adsl.alicedsl.de)
[06:56:44] *** Joins: ksh (username@moz-3ki2u6.dyn.nltelcom.net)
[06:56:47] *** Joins: zmack (zmack@moz-htpein.home.aster.pl)
[06:57:02] *** Quits: James (quassel@moz-225vcm.range86-148.btcentralplus.com) (Ping timeout: 121 seconds)
[06:57:05] *** ksh is now known as Guest7619
[06:57:17] *** Joins: fyolnish (fyolnish@moz-h6767j.panda-world.ne.jp)
[06:57:45] *** Quits: frankmcsherry (frankmcsher@moz-la1m3v.adsl.alicedsl.de) (Connection closed)
[06:57:57] *** Joins: kgrandon (Adium@moz-772b7u.nemh.1887.0450.2001.IP)
[06:57:59] *** Quits: silven (quassel@moz-0roor3.priv.bahnhof.se) (Ping timeout: 121 seconds)
[06:58:00] *** Quits: domgetter (Mibbit@moz-gkq5ir.res.bhn.net) (Quit: http://www.mibbit.com ajax IRC Client)
[06:58:05] *** Quits: skade (skade@moz-m9ib3m.pools.vodafone-ip.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[06:58:05] *** Joins: silven (quassel@moz-0roor3.priv.bahnhof.se)
[06:58:19] *** Joins: frankmcsherry (frankmcsher@moz-la1m3v.adsl.alicedsl.de)
[06:58:22] <scp> Does anyone have an example of a lifetime that they've given a real name? That is used throughout their code for some special purpose?
[06:58:36] <scp> for example, if you were writing a game, you might have lifetime 'frame, or something
[06:59:18] <Manishearth> scp: 'tcx, 'blk
[06:59:20] <Manishearth> in rustc
[06:59:23] <scp> the use I usually see is something like `struct Foo<'x> { ... }` where 'x basically means "something that outlives this struct"
[06:59:23] *** Joins: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se)
[06:59:27] <Manishearth> 'tcx is used everywhere
[06:59:31] *** Quits: mib_s0ekbg (Mibbit@moz-bfg.t7o.108.202.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[06:59:33] <scp> Manishearth: cool, I'll look into that
[06:59:40] *** Quits: Rym______ (y@moz-dhb.0vk.38.217.IP) (Ping timeout: 121 seconds)
[06:59:42] *** Joins: wipeD (wipeD@moz-ldqjdv.dip0.t-ipconnect.de)
[06:59:44] *** Quits: KLP (KLP@moz-qdcjho.res.rr.com) (Quit: http://www.kiwiirc.com/ - A hand crafted IRC client)
[07:00:00] <scp> Manishearth: what does 'tcx stand for?
[07:00:02] <Manishearth> (tcx is the type context, it contains data about types and resolve and whatnot)
[07:00:12] <scp> ah, cool, thanks
[07:00:13] <Manishearth> basically
[07:00:14] *** Quits: lucian (lucian@moz-2c3pda.cable.virginm.net) (Ping timeout: 121 seconds)
[07:00:26] <Manishearth> there is a ctxt (rustc::middle::ty::ctxt I think)
[07:00:31] <Manishearth> that contains all the data
[07:00:42] <Manishearth> it itself has a 'tcx param
[07:00:49] <Manishearth> and it hands out references with the same lifetime
[07:01:01] <Manishearth> eg Ty<'tcx> = &'tcx TyS<'tcx>
[07:01:02] <Manishearth> etc
[07:02:22] *** Quits: frankmcsherry (frankmcsher@moz-la1m3v.adsl.alicedsl.de) (Ping timeout: 121 seconds)
[07:03:42] *** Quits: hjr3 (hradtke@moz-e235ok.fios.verizon.net) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[07:03:43] *** Quits: nonsensickle_ (nonsensickl@moz-4v0.gkd.16.182.IP) (Quit: Leaving)
[07:04:44] *** Quits: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net) (A TLS packet with unexpected length was received.)
[07:05:43] *** Joins: zcourts (zcourts@moz-gel.tgg.11.195.IP)
[07:07:43] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[07:08:46] *** Quits: dawehner (quassel@moz-84r.uga.249.209.IP) (Ping timeout: 121 seconds)
[07:11:03] *** Quits: psy (psy@moz-9rn.ntd.6.103.IP) (Connection closed)
[07:11:55] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Ping timeout: 121 seconds)
[07:11:56] <Sgeo> yati, Havvy &: is obsolete syntax
[07:12:19] <Havvy> Sgeo:  I thought as much, I just wasn't sure.
[07:13:01] *** Joins: lenstr (lenstr@moz-el8.vju.25.171.IP)
[07:13:50] *** Quits: lenstr (lenstr@moz-el8.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[07:13:53] *** Joins: lenstr (lenstr@moz-el8.vju.25.171.IP)
[07:13:53] *** Joins: qdbhg (qdbhg@moz-lp2.qtm.104.223.IP)
[07:14:43] *** Quits: qdbhg (qdbhg@moz-lp2.qtm.104.223.IP) (Connection closed)
[07:14:52] *** Joins: qdbhg (qdbhg@moz-lp2.qtm.104.223.IP)
[07:15:03] *** Quits: lenstr (lenstr@moz-el8.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[07:15:32] *** Joins: simonoram (simonoram@moz-pllbvg.cable.virginm.net)
[07:16:36] *** Quits: davebettin (davebettin@moz-ip635p.or.comcast.net) (Ping timeout: 121 seconds)
[07:16:37] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[07:16:56] *** Joins: zebrazebra (Mibbit@moz-6164lc.oc.cox.net)
[07:17:24] *** Quits: njn (chatzilla@moz-6gdjm4.iinet.net.au) (Quit: ChatZilla 0.9.91.1 [Firefox 40.0a1/20150510205108])
[07:17:38] *** Joins: rcx (rcx@moz-r9i.sqe.174.217.IP)
[07:20:07] *** Quits: BageDev (BageDevimo@moz-og7.cn8.251.116.IP) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[07:20:16] *** Quits: qdbhg (qdbhg@moz-lp2.qtm.104.223.IP) (Connection closed)
[07:20:26] <Sgeo> What do I do if I want to impl Iterator for Rc<RefCell<MyType>>?
[07:20:31] <Sgeo> Won't coherence block that?
[07:21:42] *** Joins: jaen (jaen@moz-ifmik2.copit.pl)
[07:21:51] *** Quits: mkpankov (mkpankov@moz-6mm.83e.23.84.IP) (Ping timeout: 121 seconds)
[07:22:07] *** Joins: vidot_j (vidot_j@moz-qpf1at.abo.wanadoo.fr)
[07:23:20] *** Joins: laparca (laparca@moz-rgcs06.mgob.kh00.0488.2a01.IP)
[07:23:53] <Manishearth> yes, iirc
[07:24:49] *** Quits: sin8h (Adium@moz-f0u.cn5.51.106.IP) (Quit: Leaving.)
[07:24:52] *** Joins: laumann (thomas@moz-n9e72h.0.fullrate.dk)
[07:25:37] <aatch> Sgeo, actually, it should be fine.
[07:25:38] *** Quits: fyolnish (fyolnish@moz-h6767j.panda-world.ne.jp) (Connection closed)
[07:25:52] *** Joins: kmicu (kmicu@moz-uga.edn.218.91.IP)
[07:25:54] <aatch> Sgeo, since you have a local type in there.
[07:26:19] <Manishearth> aatch: new coherence rules?
[07:26:31] <Manishearth> or wait
[07:26:32] <Manishearth> no
[07:26:34] <Manishearth> this is fine
[07:26:44] *** Joins: fyolnish (fyolnish@moz-8c3d0f.au-net.ne.jp)
[07:27:01] <bluss> I'd guess it's not ok with the new rules. We should try
[07:27:19] <aatch> Remember, the point of coherence is to prevent the mere act of linking a new crate causing compilation failures.
[07:27:24] *** Joins: frankmcsherry (frankmcsher@moz-la1m3v.adsl.alicedsl.de)
[07:28:09] <bluss> it doesn't compile.
[07:28:20] <bluss> http://is.gd/uJOW5b
[07:28:48] *** Joins: dstrbad (dstrbad@moz-756bkd.cable.xnet.hr)
[07:29:03] <aatch> Huh, apparently it isn't ok.
[07:29:48] *** Quits: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com) (Ping timeout: 121 seconds)
[07:30:18] *** Quits: vidot_j (vidot_j@moz-qpf1at.abo.wanadoo.fr) (Connection closed)
[07:30:19] *** Quits: eddyb (eddyb@moz-hdr.5ot.166.109.IP) (Connection closed)
[07:30:58] *** Joins: mkpankov (mkpankov@moz-6mm.83e.23.84.IP)
[07:31:51] <bluss> Sgeo: what about using a newtype wrapper?
[07:32:09] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[07:32:17] *** Joins: eibwen (eibwen@moz-0oubi8.dip0.t-ipconnect.de)
[07:32:51] *** Joins: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP)
[07:32:56] *** ayonix_ is now known as ayonix
[07:36:42] *** Quits: DerisiveLogic (smuxi@moz-g93io6.res.rr.com) (Ping timeout: 121 seconds)
[07:37:02] *** Quits: mkpankov (mkpankov@moz-6mm.83e.23.84.IP) (Ping timeout: 121 seconds)
[07:38:41] *** Joins: TobiasFar (tfar@moz-a3q9ag.clients.your-server.de)
[07:39:19] <zebrazebra> hi
[07:39:40] *** Joins: agjacome (agjacome@moz-acoq63.dynamic.jazztel.es)
[07:39:44] <zebrazebra> if i want to do "string".split(), but want to actually allocate a new string for the split
[07:39:50] <zebrazebra> not borrow from "string"
[07:39:58] <zebrazebra> can I do that?
[07:40:00] *** Joins: ptalbot (ptalbot@moz-j4gnuh.fbx.proxad.net)
[07:40:33] *** Quits: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP) (Ping timeout: 121 seconds)
[07:40:44] *** Quits: murz (murz@moz-nr2kro.wa.comcast.net) (Quit: Be back later ...)
[07:40:54] <zebrazebra> basically i want to have something like this code working -- http://is.gd/L135UY
[07:41:09] <zebrazebra> but unlss i comment out all the code to map, it wont compile
[07:41:27] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[07:41:46] <zebrazebra> so im guessing "for s in line.split()" and putting that into map, the map has an immutable reference to string owned
[07:42:10] *** Quits: agjacome (agjacome@moz-acoq63.dynamic.jazztel.es) (Quit: leaving)
[07:42:23] <zebrazebra> sorry if im talking complete bs btw lol i just startd rust today~
[07:42:25] *** Joins: eddyb (eddyb@moz-hdr.5ot.166.109.IP)
[07:43:09] *** Quits: jedireza (jedireza@moz-allpoi.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[07:43:20] *** Quits: Shackra (Jorge@moz-4l6.7m5.96.186.IP) (Ping timeout: 121 seconds)
[07:44:04] <kimundi> zebrazebra: you can not do it without borrowing "string" at all. But you can just borrow, and then create new Strings from the slices and let the original borrow end
[07:44:55] <bluss> zebrazebra: just use s.to_string()
[07:44:55] <kimundi> zebrazebra: Ah, I see. you run into the non-lexical-lifetime issue
[07:45:27] <bluss> zebrazebra: oh and by the way, you may want to clear the line at the end of the loop. line.clear() after the for loop
[07:45:39] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Ping timeout: 121 seconds)
[07:45:44] *** Joins: nicoch (nicoch@moz-g02d7k.be)
[07:45:50] <kimundi> zebrazebra: http://is.gd/FWh98g
[07:45:51] <zebrazebra>  bluss: how come i'd want to clear it? 
[07:46:03] *** Joins: mkpankov (mkpankov@moz-573.u5t.23.84.IP)
[07:46:12] <bluss> .read_line adds to the end of the string
[07:46:31] *** Quits: rouma (zack@moz-p8e0re.res.rr.com) (Ping timeout: 121 seconds)
[07:46:32] <kimundi> zebrazebra: The line gets used as a buffer to read into - if you don't clear it, the old data will be kept around
[07:46:59] <kimundi> zebrazebra: so on each loop you will split the same data you splitted last loop, plus the new data
[07:49:17] *** Joins: Rym______ (y@moz-dhb.0vk.38.217.IP)
[07:49:35] *** Quits: daheise (Mibbit@moz-gl1dm6.knvltn.sbcglobal.net) (Quit: http://www.mibbit.com ajax IRC Client)
[07:50:04] *** Quits: JanC_ (janc@moz-fp4nu2.dsl.scarlet.be) (Ping timeout: 121 seconds)
[07:50:07] <zebrazebra> kimundi: oh I see - I expected read_line to just overwrite the previous value but I see now thats wrong
[07:50:08] <zebrazebra> append_to_string(buf, |b| read_until(self, b'\n', b))
[07:50:33] <kimundi> zebrazebra: Also, you should not do `.ok().unwrap()` - just doing `.unwrap()` directly is ebtter because it will give an actual error message
[07:50:34] <zebrazebra> so what would be idiomatic way to loop over stdin
[07:50:44] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[07:50:44] *** Joins: esgeh (sg@moz-1qrptu.dyn.telefonica.de)
[07:50:46] *** Joins: edlothiol (user@moz-i70j4f.dynamic.kabel-deutschland.de)
[07:51:09] *** Joins: sin8h (Adium@moz-f0u.cn5.51.106.IP)
[07:51:44] <zebrazebra> kimundi: makes sense
[07:51:49] *** Quits: owickstrom (owickstrom@moz-dq04n8.bredband.comhem.se) (Ping timeout: 121 seconds)
[07:52:55] *** Joins: shellac (textual@moz-9b49cr.cable.virginm.net)
[07:53:32] *** Joins: mkpankov` (mkpankov@moz-rl4.dee.149.83.IP)
[07:53:33] <zebrazebra> i feel like i should really be able to implement my program as statement, iterating over stdin and then collecting split into hashmap. i guess let me finish my version first though lol
[07:53:51] *** Quits: Rym______ (y@moz-dhb.0vk.38.217.IP) (Ping timeout: 121 seconds)
[07:56:10] *** Quits: mkpankov (mkpankov@moz-573.u5t.23.84.IP) (Ping timeout: 121 seconds)
[07:56:25] <bluss> zebrazebra: this is one way, probably the simplest http://is.gd/RssoYG
[07:56:31] <bluss> to iterate by lines
[07:57:02] *** Quits: mnemnion (mnemnion@moz-kf3boi.ca.comcast.net) (Connection closed)
[07:57:03] <bluss> but using .read_line is more efficient, less allocations
[07:59:16] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[07:59:16] *** Quits: mark_edward (mark@moz-dg4mrp.in.comcast.net) (Ping timeout: 121 seconds)
[07:59:24] *** Quits: mindtree (Mitch@moz-fog.g9r.240.116.IP) (Ping timeout: 121 seconds)
[07:59:30] *** Joins: mark_edward (mark@moz-dg4mrp.in.comcast.net)
[07:59:53] *** Joins: mgottschlag (quassel@moz-j4umq0.scc.kit.edu)
[08:00:01] <zebrazebra> bliss: so why would read_line be more efficient? does lines() all of stdin before returning or where are the extra allocations in this your version
[08:00:07] *** Joins: domgetter (Mibbit@moz-gkq5ir.res.bhn.net)
[08:00:30] <domgetter> Okay I have another issue.  If I take out a println! it causes the compiler to error out: https://gist.github.com/domgetter/c1b10f50f31b239d7e66
[08:00:41] <bluss> zebrazebra: just a new String per line for .lines()
[08:00:42] <domgetter> if I leave it in, it compiles correctly.
[08:03:01] <zebrazebra> bluss: hmm but i i were to just look at code id think its not allocating a new string per line for lines(), that its just using the one "line" you alllocate at start of program
[08:03:04] <scp> Is there any way to accomplish this: I have a multi-line String, I want to create a Vec which contains a bunch of &str which are the lines of that String
[08:03:05] *** Joins: JanC_ (janc@moz-gjbtvd.dsl.scarlet.be)
[08:03:12] <scp> I want to pass these two things around together
[08:03:35] *** Joins: mindtree (Mitch@moz-rchrgl.iprimus.net.au)
[08:03:37] <bluss> zebrazebra: no, I just forgot to remove that
[08:03:54] *** Joins: Pieter (Mibbit@moz-7bjs3j.ftth.telfortglasvezel.nl)
[08:03:57] <bluss> zebrazebra: the let line at the start is unused
[08:03:59] <aatch> scp, you can't do that.
[08:04:02] *** Joins: murz (murz@moz-nr2kro.wa.comcast.net)
[08:04:10] *** Quits: ayonix (quassel@moz-4i0eh6.xyz) (Connection closed)
[08:04:20] <zebrazebra> bluss: oh ok, thx
[08:04:23] <aatch> scp, since the compiler has no way of knowing that moving the String doesn't invalidate the pointers into it.
[08:04:32] <Pieter> How can I have a nested method in a trait default method that takes self? Example at http://is.gd/UJ8q2K. It complains that the trait isn't Sized.
[08:04:41] *** Joins: ayonix (quassel@moz-4i0eh6.xyz)
[08:05:29] <scp> aatch: ya, I get that... is there any common substitute for this?
[08:05:47] <scp> I guess I can store a slice of character ranges
[08:06:05] <scp> but that opens a whole new can of worms
[08:06:08] <bluss> Pieter: it's a limitiation that I think will be fixed. You can't do this cast from &Self (concrete type implementing the trait) to &A right now
[08:06:10] <aatch> scp, using index pairs is common.
[08:06:25] <Pieter> Ok, thanks.
[08:06:28] *** Quits: ayonix (quassel@moz-4i0eh6.xyz) (Connection closed)
[08:06:37] *** Joins: ayonix (quassel@moz-63kgq4.cn6d.r4i0.4000.2a03.IP)
[08:06:38] <bluss> Pieter: you can use a generic function for do_a instead
[08:07:27] *** Joins: tcard (tcard@moz-5eb1g3.staticIP.rima-tde.net)
[08:07:31] <scp> aatch: thanks
[08:07:33] *** Quits: mkpankov` (mkpankov@moz-rl4.dee.149.83.IP) (Quit: Bye)
[08:08:12] *** Joins: mkpankov (user@moz-h0n.sma.198.91.IP)
[08:08:57] <aatch> Hmm, I guess the issue is that Self already a be a trait object.
[08:09:06] *** Joins: ecogiko (ecogiko@moz-p59qrv.chello.nl)
[08:09:11] *** Quits: starless (starless@moz-u9gmm1.res.rr.com) (Quit: Leaving)
[08:09:34] *** Quits: LysanderAkili (LysanderAki@moz-e2h9er.co.comcast.net) (Quit: Lost terminal)
[08:10:39] <aatch> Yeah, looks like it needs to be able to decide there and then whether or not a coercion is required.
[08:10:51] <benh> lol who broke play.rust-lang.org
[08:10:57] <aatch> And whether or not the coercion is possible.
[08:11:05] <aatch> benh, broke? It's working fine for me.
[08:11:15] <bluss> aatch: yeah and what if Self is &(A + Send)
[08:11:50] <benh> It only scrolls sometimes :V
[08:12:06] <aatch> Putting `where Self : Sized` on the method makes it work.
[08:12:21] <aatch> benh, could you be more specific?
[08:12:27] *** Quits: frankmcsherry (frankmcsher@moz-la1m3v.adsl.alicedsl.de) (Connection closed)
[08:12:46] *** Quits: ptalbot (ptalbot@moz-j4gnuh.fbx.proxad.net) (Ping timeout: 121 seconds)
[08:13:45] <benh> aatch: as i type enough newlines for the code to not fit, vertically, into the editor window, it just goes offscreen instead of scrolling down, providing a scrollbar, or anything like that
[08:14:01] <benh> but it stopped doing it after i closed the tab and opened a new one
[08:14:15] *** Joins: fenster (Mibbit@moz-rpuq3k.members.linode.com)
[08:14:25] <scp> sounds like you broke it =P
[08:14:38] <aatch> benh, might have been fixed. There's been like 5-6 PRs on it today. ChrisMorgan has been hard at work.
[08:15:15] <WindowsBunny> benh: Just do a hard refresh if it seems wonky
[08:15:24] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[08:15:31] *** Joins: lenstr (lenstr@moz-el8.vju.25.171.IP)
[08:16:14] *** Quits: lenstr (lenstr@moz-el8.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[08:16:25] *** Joins: lenstr (lenstr@moz-el8.vju.25.171.IP)
[08:16:35] *** Quits: fenster (Mibbit@moz-rpuq3k.members.linode.com) (Quit: http://www.mibbit.com ajax IRC Client)
[08:17:22] *** Quits: lenstr (lenstr@moz-el8.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[08:17:23] *** Joins: csoriano_ (csoriano@moz-g6rkdc.net.upcbroadband.cz)
[08:17:32] *** Joins: asQuirreL (asQuirreL@moz-ro1qqu.ox.ac.uk)
[08:17:35] *** Quits: csoriano_ (csoriano@moz-g6rkdc.net.upcbroadband.cz) (Client exited)
[08:18:39] *** Quits: eddyb (eddyb@moz-hdr.5ot.166.109.IP) (Connection closed)
[08:18:59] *** Quits: fyolnish (fyolnish@moz-8c3d0f.au-net.ne.jp) (Connection closed)
[08:19:05] *** Quits: tmtwd (tmtwd@moz-0kkm5n.cable.rogers.com) (Quit: Leaving)
[08:19:10] *** Quits: laumann (thomas@moz-n9e72h.0.fullrate.dk) (Ping timeout: 121 seconds)
[08:19:13] *** Joins: eddyb (eddyb@moz-hdr.5ot.166.109.IP)
[08:19:58] *** Joins: sommoyogurt (sommoyogurt@moz-d0d6tp.nch.it)
[08:20:19] <kimundi> zebrazebra: Btw, here is one possible way to make it one statement: http://is.gd/sDBHtE
[08:23:02] <bluss> kimundi: cool, I haven't though of the intoiterator form of flat_map before. That's great
[08:23:56] *** Quits: oblique (oblique@moz-9re3oa.2f30.org) (Ping timeout: 121 seconds)
[08:25:36] <zebrazebra> thx kimundi. i follow the flat map and the next map
[08:25:56] <zebrazebra> but how do the 2 collects and we have map?
[08:26:05] <zebrazebra> the inner map maps into tuples it seems?
[08:26:24] *** Joins: frankmcsherry (frankmcsher@moz-la1m3v.adsl.alicedsl.de)
[08:26:58] <kimundi> zebrazebra: right, the inner map() turns a &str into a (String, i32), which is the type needed to collect into a HashMap
[08:27:13] *** Joins: tigrou3tac (fabien@moz-gdonfo.fbx.proxad.net)
[08:27:22] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[08:27:57] <zebrazebra> kimundi - so you collect into a vector of tuples, and then collect that into a hashmap?
[08:27:59] <kimundi> zebrazebra: The inner collect() is theoretically not needed, but without it there are lifetime errors because the flat_map closure itself would return a iterator type who would only be valid for the body of the flat_map closure
[08:28:01] *** Quits: areski (areski@moz-prr0dt.user.ono.com) (Ping timeout: 121 seconds)
[08:28:06] *** Quits: TankC (TankC@moz-403.51d.194.66.IP) (Connection closed)
[08:28:28] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[08:28:40] <kimundi> zebrazebra: right, the vector of tuples gets turned into an iterator that yields those tuples, and then all those elements are concatenated and tuned into a HashMap basically
[08:29:27] <kimundi> Its a bit inefficient due to more heap allocations than necessary, but it works
[08:29:29] *** Joins: tno (tomas@moz-qnb0qi.7pm2.so41.08a0.2001.IP)
[08:29:48] *** Joins: oblique (oblique@moz-9re3oa.2f30.org)
[08:30:44] *** Joins: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp)
[08:30:55] *** Joins: kaeluka (kaeluka@moz-tn3lqd.cust.bredbandsbolaget.se)
[08:31:41] *** Joins: timonv (timonv@moz-1qu311.dynamic.ziggo.nl)
[08:32:18] *** Quits: Church (hatter@moz-7jrea0.dyn.optonline.net) (Ping timeout: 121 seconds)
[08:35:53] *** Quits: shellac (textual@moz-9b49cr.cable.virginm.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[08:36:57] *** Joins: }ls{ (uhelp@moz-8u7rut.dip0.t-ipconnect.de)
[08:36:58] <benh> Does the Share button on play.rust-lang.org work for anyone under Firefox?
[08:37:22] <ChrisMorgan> benh: yes
[08:38:04] <mkpankov> behn: works for me, too
[08:38:12] <mkpankov> *benh ^
[08:39:18] <zebrazebra> btw kimundi - im still working on my example, trying to get it to actually count (not just return a ton of 1s lol, i could have just used set then)
[08:39:30] <zebrazebra> having some issue with attempting to match but i guess ill work it out
[08:39:43] *** Quits: asQuirreL (asQuirreL@moz-ro1qqu.ox.ac.uk) (Ping timeout: 121 seconds)
[08:39:44] <zebrazebra> basically what I want to end up is something like this equivalent java code...
[08:39:46] <zebrazebra> Map<String, Long> counts = words.stream().map(s -> s.split(" ")).flatMap(Arrays::stream).collect(Collectors.groupingBy(Function.identity(), Collectors.counting()));
[08:39:52] <kimundi> zebrazebra: AH, hm. counting will be harder to do in one statement :D
[08:39:57] *** Joins: eddyb_ (eddyb@moz-jm7.2kg.166.109.IP)
[08:40:26] <kimundi> hmm...
[08:40:55] *** Quits: eddyb (eddyb@moz-hdr.5ot.166.109.IP) (Ping timeout: 121 seconds)
[08:40:59] *** Joins: killercup (killercup@moz-qj5qhi.dip0.t-ipconnect.de)
[08:41:09] <zebrazebra> do you think youd have to declare the map beforehand? and mutate it while you iterate over
[08:41:17] <zebrazebra> or is there some other way
[08:41:19] *** eddyb_ is now known as eddyb
[08:41:20] <kimundi> I think so
[08:41:22] *** Quits: yati (yati@moz-1oo.sua.227.110.IP) (Ping timeout: 121 seconds)
[08:41:30] <zebrazebra> so if you declared it beforehand
[08:41:40] <zebrazebra> in the flat map could you put in a lambda that bascailly did counting?
[08:42:15] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[08:42:18] <zebrazebra> back in my noob land i was trying to get something like this working  - http://is.gd/XkSPHq
[08:42:27] <zebrazebra> but running into compilation errors about scope of counts
[08:42:33] *** Joins: nullmove (user@moz-dbg.u3c.234.180.IP)
[08:43:26] *** Joins: Rym______ (y@moz-dhb.0vk.38.217.IP)
[08:44:03] *** Quits: rcx (rcx@moz-r9i.sqe.174.217.IP) (Quit: Leaving)
[08:44:03] *** Quits: murz (murz@moz-nr2kro.wa.comcast.net) (Quit: Be back later ...)
[08:44:36] <kimundi> zebrazebra: yeah, this kind of stuff is tricky to do naively - the whole "look up a value and conditionally modify/create/delete it" pattern with HashMaps results in a gordian knot of a lifetime mess :P. THere is a special API for this: the .entry() method
[08:44:45] <Kingsquee> is it possible to remove the current element in an iterator?
[08:45:09] <Kingsquee> like, 'for foo in foos.iter_mut() { foos.remove(foo) }' ?
[08:45:10] <kimundi> Kingsquee: No, atz least not with a standard Iterator
[08:45:22] <Kingsquee> hmm
[08:45:25] *** Joins: mfs (mfs@moz-g35m6n.sda.io)
[08:45:37] *** Joins: martinhath (martin@moz-mbkero.wlan.ntnu.no)
[08:45:38] <Kingsquee> Vec::remove taking an index makes me fall back to while loops most of the time :\
[08:45:46] <kimundi> Kingsquee: And that way of calling such a method would usually not work anyway due to aliasing &mut
[08:45:47] <zebrazebra> kimundi would that be because 2 mutable references to foo cant be in scope?
[08:45:51] *** Quits: domgetter (Mibbit@moz-gkq5ir.res.bhn.net) (Quit: http://www.mibbit.com ajax IRC Client)
[08:45:52] <kimundi> zebrazebra: yep
[08:46:27] <zebrazebra> Kingsqueue - why are you trying to delete element while iterating over?
[08:46:29] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Ping timeout: 121 seconds)
[08:47:30] *** Joins: casey (casey@moz-v0ns05.tpgi.com.au)
[08:48:02] *** Quits: Rym______ (y@moz-dhb.0vk.38.217.IP) (Ping timeout: 121 seconds)
[08:48:52] <kimundi> zebrazebra: With the entry() API, the counting would look kinda like this: `*map.entry(string).or_insert(0) += 1;`
[08:50:16] <kimundi> "get mutable reference to counter vale if string exists in map, or insert a 0 as a start value first. Then add 1 to the value"
[08:50:23] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[08:50:31] <ChrisMorgan> Kingsquee: consider also the drain method
[08:50:32] *** Quits: giucam (giucam@moz-iv0nnc.bb.dnainternet.fi) (Connection closed)
[08:50:46] <zebrazebra> thx kimundi - im reading about it now. useful thing lol. still somehow running into problems but probably just something dumb I have wrong
[08:50:54] *** Joins: mahdi (mahdi@moz-jva.lv9.244.151.IP)
[08:51:10] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[08:51:11] <kimundi> zebrazebra: SO I guess you would combine this with a for loop over all splitted strings of all lines
[08:51:23] *** Joins: giucam (giucam@moz-iv0nnc.bb.dnainternet.fi)
[08:51:41] *** Quits: timonv (timonv@moz-1qu311.dynamic.ziggo.nl) (Ping timeout: 121 seconds)
[08:51:41] *** Joins: Guest63 (textual@moz-qfs.570.70.83.IP)
[08:52:49] <zebrazebra> oh was foregetting to deference 
[08:54:00] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[08:54:56] *** Quits: mahdi (mahdi@moz-jva.lv9.244.151.IP) (Ping timeout: 121 seconds)
[08:55:15] *** Joins: areski (areski@moz-erfa2b.dynamicIP.rima-tde.net)
[08:55:15] *** Joins: larhat1 (Adium@moz-egv.ld6.128.213.IP)
[08:55:48] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[08:55:55] <zebrazebra> btw not sure if its just b/c im on windows
[08:56:01] <zebrazebra> can i not pipe?
[08:56:21] <zebrazebra> wc.exe < hamlet.txt (works)
[08:56:31] <zebrazebra> $ wc.exe < hamlet.txt  | head
[08:56:32] <zebrazebra> fails
[08:56:49] <zebrazebra> also exits with 0 status code even though fails
[08:56:53] <kimundi> depends on the shell used I guess
[08:56:59] <zebrazebra> thread '<main>' panicked at 'failed printing to stdout: The pipe is being closed.
[08:57:06] <mkpankov> \whois steveklabnik
[08:57:15] <mkpankov> oh.. duh
[08:58:26] <kimundi> zebrazebra: So, this would be my naive solution if you are interested: http://is.gd/Qikgqh
[08:58:52] <bluss> Kingsquee: also consider Vec::retain
[08:59:24] *** Quits: nercury (nercury@moz-fbs.e0f.20.5.IP) (Client exited)
[08:59:25] *** Quits: larhat1 (Adium@moz-egv.ld6.128.213.IP) (Ping timeout: 121 seconds)
[08:59:33] *** Joins: gonzaloserrano (Adium@moz-1nv.3t7.97.62.IP)
[09:02:04] *** Joins: Lilly (Lilly@moz-pfkvo9.bredband.comhem.se)
[09:03:18] <zebrazebra> thx kimundi
[09:03:23] <zebrazebra> so you still keep the collect to vector
[09:03:24] <zebrazebra> ?
[09:03:50] <kimundi> yeah, its needed because you get lifetiem errors without it - try removing the inner collect
[09:04:13] <kimundi> alternativly you can also just do this as nested for loops, in which case the collect is unneeded
[09:05:09] *** Joins: agjacome (agjacome@moz-gki9i8.ei.uvigo.es)
[09:05:36] <towler1>  why
[09:06:56] <aatch> towler1, why indeed! It's the question that has haunted many a philosopher.
[09:07:00] <zebrazebra> i dont get why its complaining about line not being alive long enough
[09:07:13] <zebrazebra> you use s.to_owned() which should make a copy
[09:07:39] <towler1> why  struct  must  expicit add  lifetime  on  its item?
[09:07:43] <aatch> zebrazebra, ah, you may have a &&T in there, which means it's cloning the reference, not the lower level thing.
[09:07:52] <Zr40> Manishearth: I figured it out, clippy should indeed be in [dependencies], not [dev-dependencies] (at least for cargo build)
[09:08:15] <zebrazebra> sry aatch, i dont follow
[09:08:39] <bluss> zebrazebra: I think we can fix it
[09:09:09] <aatch> zebrazebra, so calling `clone` on a type like `&&T`, i.e., where there's two references, it doesn't clone the `T`, it clones the `&T`.
[09:09:36] *** Joins: genbattle (genbattle@moz-r09mao.xtra.co.nz)
[09:09:51] <ChrisMorgan> huon: I diagnosed one of the bugs in Chromium: @media queries inside @supports donâ€™t trigger.
[09:10:02] <ChrisMorgan> (on viewport changes, that is)
[09:10:03] *** Joins: hayashi (Mibbit@moz-1g1053.york.ac.uk)
[09:10:26] <aatch> zebrazebra, oh, sorry, I missed a step. So `to_owned` is implemented for all types that implement clone.
[09:10:51] <huon> ChrisMorgan: oh, but it works outside supports?
[09:10:56] <ChrisMorgan> Yep.
[09:11:18] <huon> weird
[09:11:19] <ChrisMorgan> So Iâ€™ll just duplicate the @supports and invert the two thusly.
[09:11:23] <bluss> aatch: all types that implement clone? is that right
[09:11:28] <hayashi> hey guys, sorry to drop in again with yet another question, but is it possible to install the rust nightly alongside beta without it clobbering the existing beta install?
[09:11:31] <huon> ChrisMorgan: filed a bug?
[09:11:37] <kimundi> aatch, bluss: Assuming this is the code I posted above, this has nothing to do with cloning a reference
[09:11:39] <ChrisMorgan> Not yet.
[09:11:41] <bluss> aatch: I had no idea
[09:11:56] <huon> hayashi: one can use https://github.com/brson/multirust for managing versions easily
[09:12:00] <hayashi> huon: cheers
[09:12:08] * ChrisMorgan wonders where he should file a bug
[09:12:27] *** Quits: jix (jix@moz-dojrhi.de) (Connection closed)
[09:12:28] *** Quits: tiago1 (tiago@moz-o8qt0p.dsl.telepac.pt) (Quit: WeeChat 1.1.1)
[09:13:12] <huon> ChrisMorgan: maybe https://code.google.com/p/chromium/issues/list
[09:13:26] *** Joins: jix (jix@moz-dojrhi.de)
[09:13:38] <ChrisMorgan> huon: thatâ€™s what Iâ€™m guessing, I was wondering at first whether theyâ€™ve shifted somewhere else yet, what with Google Code shutting down soon.
[09:13:43] *** Quits: popow (Thunderbird@moz-03f.kd0.252.223.IP) (Connection closed)
[09:13:48] *** Joins: popow (Thunderbird@moz-03f.kd0.252.223.IP)
[09:14:08] <kimundi> zebrazebra: SO, you are right that the .to_owned() creates a copy that doesn't borrow the original string anymore - but the issue is that split()  returns a iterator that borrows the "line" vairable, and calling map() on it creates a wrapper around this, so the closure would return a Map<Split<'a, ...>, ...> that borrows the "line" variable - and this is equivalent to returning a  reference to the insode of the function
[09:14:20] <hayashi> incidentally, what's the easiest way of sharing out access to a piece of memory between threads?  currently, due to being somewhat dense, I'm using statics (because thread::scoped is unstable), but idk if you can use things like cell/rc
[09:14:46] *** Quits: jminer (Instantbird@moz-b1u.qch.163.66.IP) (Ping timeout: 121 seconds)
[09:14:52] <hayashi> obviously statics is a horrifically awful idea and I'd rather not :p
[09:14:57] <kimundi> zebrazebra: That is why I collect to a vector there - it results in a return type Vec<String> of the closure, which does _not_ borrow "line" anymore
[09:15:06] *** Joins: lucian (lucian@moz-iuo.htl.74.194.IP)
[09:15:06] *** Quits: wipeD (wipeD@moz-ldqjdv.dip0.t-ipconnect.de) (Connection closed)
[09:15:13] <aatch> hayashi, you can't use RefCell and Rc, but you can you the thread-safe equivalents `Mutex` and `Arc`.
[09:15:17] *** Joins: wipeD (wipeD@moz-ldqjdv.dip0.t-ipconnect.de)
[09:15:18] *** Joins: qwerty_nor (Thunderbird@moz-vuo.d5a.248.5.IP)
[09:15:24] <aatch> s/you can you/you can use/
[09:15:27] <hayashi> ah ok
[09:15:35] <huon> ChrisMorgan: oh, hadn't thought of that
[09:15:42] <kimundi> zebrazebra: (I had to stare at this code for 10 minutes till I understood this though :P)
[09:15:59] *** Quits: lucian (lucian@moz-iuo.htl.74.194.IP) (A TLS packet with unexpected length was received.)
[09:16:00] *** Joins: lucian (lucian@moz-iuo.htl.74.194.IP)
[09:16:00] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[09:16:04] *** Quits: panicbit (panicbit@moz-r4ks4s.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[09:16:26] <zebrazebra> thx a lot kimundi - im going to stare it for a bit now too lol 
[09:16:46] <zebrazebra> i guess ill work out sorting it tomorrow as its late here - thx all for all your help with noob questions ^^
[09:16:47] <aatch> hayashi, though obviously if you don't need to mutate it concurrently, you can forgo the Mutex.
[09:16:57] <kimundi> zebrazebra: bye :)
[09:17:00] <hayashi> kinda annoying that thread::scoped won't be stable for 1.0 afaik, but istr it was a sudden unexpected unsoundness result that isn't necessarily anywhere near trivial to fix?  :<
[09:17:03] <bluss> hayashi: Arc to share an object, and either pass it through thread::spawn or channels
[09:17:07] *** Joins: anom (anhedonia@moz-oadaam.torservers.net)
[09:17:24] *** Quits: Kxepal832 (Miranda@moz-u0omr9.pppoe.mtu-net.ru) (Ping timeout: 121 seconds)
[09:17:26] * hayashi hasn't been following rust development well at all since alpha
[09:17:54] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[09:17:54] <bluss> there is no finished design of a replacement
[09:17:55] *** Joins: lenstr (lenstr@moz-el8.vju.25.171.IP)
[09:18:00] <ChrisMorgan> Seriously, Chromiumâ€™s handling of this flexbox layout seems more and more buggy the longer I look at itâ€¦
[09:18:20] *** Quits: zebrazebra (Mibbit@moz-6164lc.oc.cox.net) (Quit: http://www.mibbit.com ajax IRC Client)
[09:18:26] <ChrisMorgan> Iâ€™m almost to the stage where I slap Chromium users down to the position: absolute; layout and forbid them the display: flex; layout.
[09:18:38] *** Quits: martinhath (martin@moz-mbkero.wlan.ntnu.no) (Ping timeout: 121 seconds)
[09:18:47] *** Quits: lenstr (lenstr@moz-el8.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[09:19:01] *** Joins: lenstr (lenstr@moz-el8.vju.25.171.IP)
[09:19:03] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[09:19:39] <kimundi> hayashi: It wasn't really that big of a deal, it just amounted to a bug in the scoped() API because implementors forgot that destructors might not run. The bigger deal was the huge amount of discussion afterwards of whether to fix it by changing the language so that destructors always run, or by changing all problematic types that can lead to the not-running to ebgin with, etc.
[09:19:48] <ChrisMorgan> Or at the very least, donâ€™t hide the results pane at all.
[09:20:11] *** Quits: lenstr (lenstr@moz-el8.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[09:20:26] *** Quits: james4k_ (james@moz-e6no8q.consolidated.net) (Ping timeout: 121 seconds)
[09:20:34] *** Joins: larhat (Adium@moz-egv.ld6.128.213.IP)
[09:21:10] *** Joins: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net)
[09:21:10] <kimundi> hayashi: I guess the new scoped not being in 1.0 is just a conservative step to not accidentally release with another bug - I expect it to have a new stable API in 1.1/1.2, or at least a cargo package that enables the same API soon
[09:21:13] *** Joins: laumann (thomas@moz-n9e72h.0.fullrate.dk)
[09:21:44] *** Joins: nercury (nercury@moz-fbs.e0f.20.5.IP)
[09:22:03] <VShell> for the record, I poked about at kimundi's code a bit and made it use fold (cos I wanted to figure out how ergonomic fold is). http://is.gd/eqMtOa :p
[09:22:11] *** Joins: Matthias247 (Miranda@moz-49li60.hsi14.kabel-badenwuerttemberg.de)
[09:22:38] <kimundi> VShell: Heh, nice
[09:23:39] <kimundi> VShell: printing the HashMap directly with {:?} gives you all entries btw
[09:23:54] *** Joins: oal (oal@moz-0lm.qc2.255.130.IP)
[09:24:04] <VShell> oh, right. shiny n.n
[09:24:05] *** Quits: aatch (james@moz-is4j4r.cable.telstraclear.net) (Ping timeout: 121 seconds)
[09:24:37] *** Quits: larhat (Adium@moz-egv.ld6.128.213.IP) (Ping timeout: 121 seconds)
[09:24:52] *** Joins: martinhath (martin@moz-mbkero.wlan.ntnu.no)
[09:25:36] *** Joins: panicbit (panicbit@moz-r4ks4s.dip0.t-ipconnect.de)
[09:26:03] <mitsuhiko> I find {:?} really awkward to type :(
[09:26:08] *** Joins: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP)
[09:26:20] *** Quits: mcoffin (mcoffin@moz-8l6.usq.54.128.IP) (Ping timeout: 121 seconds)
[09:26:58] <huon> mitsuhiko: are you on a non-US keyboard layout?
[09:27:23] <mitsuhiko> huon: no, us layout. it's terrible on a german though
[09:27:25] <huon> (I find it awkward to type on a US too, I'm just wondering if it's exacerbated by other keyboards)
[09:27:27] <mitsuhiko> needs like 8 keypresses
[09:27:35] <huon> oh, lots of altgr?
[09:27:38] <mitsuhiko> yeah
[09:27:38] *** Joins: pylbrecht (pylbrecht@moz-b4nhkg.dynamic.kabel-deutschland.de)
[09:27:43] <huon> :(
[09:27:58] <huon> is it the {}'s?
[09:28:10] <mitsuhiko> yep, they are i think alt gr + 7 / 0
[09:28:23] <kimundi> altgr-7 shift-. shift-ÃŸ altgr-0
[09:28:24] <huon> those being hard to type seem fundamentally annoying for any C-like languages
[09:28:24] *** Joins: owickstrom (owickstrom@moz-dq04n8.bredband.comhem.se)
[09:28:25] <mitsuhiko> and : and ? need shift instead
[09:28:47] <Manishearth> huh, for me it's shift for all four
[09:28:50] <Mutabah> At least on US it's hold shift and hit four random-ish keys on the right
[09:28:56] *** Joins: Nextra (Nextra@moz-8vtoj2.ewe-ip-backbone.de)
[09:29:07] <huon> Manishearth: keyboard?
[09:29:13] <genbattle> So i'm doing a sort of impromptu "A taste of Rust" talk at my work tomorrow to celebrate 1.0...
[09:29:18] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[09:29:33] <Manishearth> huon: I think I use US
[09:29:33] <mitsuhiko> genbattle: want my slides?
[09:29:39] <mitsuhiko> i made them for a meetup that probably will not really happen
[09:30:09] <Manishearth> http://manishearth.github.io/Presentations/Rust/
[09:30:11] <genbattle> what would be some critical things to cover? so far i've got borrowing, traits, mutability, move semantics, pattern matching
[09:30:22] <Manishearth> slightly outdated though; make sure everything still compiles (or faisl where it should)
[09:30:26] <genbattle> mitsuhiko, thanks, but i've already written a bunch of slides :)
[09:30:30] *** Quits: veqz (veqz@moz-nvr8g6.209.getinternet.no) (Quit: Konversation terminated!)
[09:30:40] <Manishearth> awesome
[09:30:51] <mitsuhiko> oh, it's one of those presentations again. how do you navigate them?
[09:31:05] *** Joins: Gabriel_7 (Gabriel@moz-qvum64.mtgr.92aj.0e35.2a01.IP)
[09:31:38] *** Joins: aepsil0n (eduard@moz-6491ha.mv2h.pepi.8071.2a02.IP)
[09:31:48] *** Joins: erz (erz@moz-n26c5c.broadband.corbina.ru)
[09:32:32] *** Joins: veqz (veqz@moz-nvr8g6.209.getinternet.no)
[09:32:51] *** Quits: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP) (Ping timeout: 121 seconds)
[09:33:08] <huon> mitsuhiko: arrow keys
[09:33:12] <genbattle> I've just got mine in google slides. Haven't been able to find a good way to get syntax highlighting across.
[09:33:13] <huon> mitsuhiko: or space
[09:33:16] *** Joins: mib_yxqg4g (Mibbit@moz-3th.j97.85.66.IP)
[09:33:19] <mitsuhiko> ah, you need to go down
[09:33:55] *** Joins: marc_ (uid5324@moz-t3einu.ealing.irccloud.com)
[09:34:05] <genbattle> Manishearth, cool pres, there's tons of content there
[09:34:19] *** Joins: nano (nano@moz-00j6et.dynamic.kabel-deutschland.de)
[09:34:29] *** Quits: frankmcsherry (frankmcsher@moz-la1m3v.adsl.alicedsl.de) (Connection closed)
[09:34:38] <genbattle> I'm gonna try and do my code-examples in-editor
[09:35:23] *** Joins: Zr40_ (zr40@moz-92llkv.adsl.xs4all.nl)
[09:35:23] *** Quits: Zr40 (zr40@moz-92llkv.adsl.xs4all.nl) (Connection closed)
[09:35:29] *** Zr40_ is now known as Zr40
[09:35:55] *** Quits: nullmove (user@moz-dbg.u3c.234.180.IP) (Quit: Leaving)
[09:36:59] *** Joins: sommoyog_ (sommoyogurt@moz-d0d6tp.nch.it)
[09:36:59] *** Quits: sommoyogurt (sommoyogurt@moz-d0d6tp.nch.it) (Connection closed)
[09:37:36] *** Quits: owickstrom (owickstrom@moz-dq04n8.bredband.comhem.se) (Ping timeout: 121 seconds)
[09:37:38] <Manishearth> genbattle: yeah, I basically did that
[09:37:39] *** Joins: Rym______ (y@moz-dhb.0vk.38.217.IP)
[09:37:42] <Manishearth> I would copy the code to the editor
[09:37:59] <Manishearth> (I had a fun splitscreen setup using sublime's "new view into file")
[09:38:07] <ChrisMorgan> Argh, I finally observed one of the issues in Chromium in Firefox (though it doesnâ€™t normally happen, where it does on Chromium), so I guess it really is an ACE issue and not a browser issue â˜¹
[09:38:23] <ChrisMorgan> Guess result pane hiding will be disappearing for a while.
[09:38:27] <mib_yxqg4g> is there a good intro to rust talk/video you can recommend? background: some python & ruby, not much experience with systems languages
[09:39:36] *** Joins: mib_ljsq02 (Mibbit@moz-gp5ov9.ip.telfort.nl)
[09:40:39] *** Joins: debu (debu@moz-6momm3.adsl.alicedsl.de)
[09:41:02] *** Joins: Ms2ger (Ms2ger@moz-0smvhf.isp.belgacom.be)
[09:41:02] *** Quits: cptroot (Mibbit@moz-n169l8.caltech.edu) (Quit: http://www.mibbit.com ajax IRC Client)
[09:42:12] *** Quits: Rym______ (y@moz-dhb.0vk.38.217.IP) (Ping timeout: 121 seconds)
[09:42:22] *** Quits: ygrek (user@moz-8j9aeu.org.ua) (Ping timeout: 121 seconds)
[09:43:30] *** Quits: giucam (giucam@moz-iv0nnc.bb.dnainternet.fi) (Ping timeout: 121 seconds)
[09:44:36] <pylbrecht> mib_yxqg4g: https://www.youtube.com/watch?v=agzf6ftEsLU
[09:44:45] <genbattle> https://www.youtube.com/watch?v=3CwJ0MH-4MA
[09:44:50] <genbattle> https://www.youtube.com/watch?v=O5vzLKg7y-k
[09:44:53] *** Quits: mkoskar (mkoskar@moz-skq614.dfri.se) (Client exited)
[09:45:24] *** Joins: ptalbot (ptalbot@moz-1gn7gb.eu0n.jcdj.0660.2001.IP)
[09:46:04] <mkpankov> mib_yxqg4g: I liked this one https://www.youtube.com/watch?v=agzf6ftEsLU
[09:46:22] <mkpankov> although it's a bit outdated
[09:46:45] <mib_ljsq02> Hi, I am currently learning rust. Wondering how I would improve this to a more idiomatic version: http://pastebin.com/Lf1t5kUJ
[09:47:40] *** Quits: Johannes (Johannes@moz-4et8d7.ocn.ne.jp) (Connection closed)
[09:47:58] <mib_yxqg4g> mkpankov: thanks
[09:48:08] <Havvy> !mib @ mib_ljsq02 
[09:48:09] <rustbot> mib_ljsq02: Hello, Mibbit user with a â€œmib_<random>â€ nickname. Please change your nickname to something less confusing by saying `/nick NEW_NAME_HERE`.
[09:48:13] <Havvy> & mib_yxqg4g ^^
[09:48:27] *** Quits: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp) (Connection closed)
[09:48:38] *** mib_yxqg4g is now known as tosh
[09:48:52] *** mib_ljsq02 is now known as tincan
[09:49:03] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[09:49:08] *** Joins: giucam (giucam@moz-iv0nnc.bb.dnainternet.fi)
[09:49:09] *** Joins: shellac (textual@moz-9b49cr.cable.virginm.net)
[09:49:38] *** Joins: tomprogrammer (thomas@moz-k12l4i.tr5r.qept.4dd0.2001.IP)
[09:50:04] *** Joins: lenstr (lenstr@moz-el8.vju.25.171.IP)
[09:50:19] <tincan> Is it possible to initialize an array with a length known at runtime?
[09:50:48] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[09:50:52] *** Joins: adwhit (Mibbit@moz-qsp.47b.204.109.IP)
[09:51:16] <tosh> thanks for the talk recommendations, I'll be back :)
[09:51:40] <tomprogrammer> tincan: In that case you want to use `Vec`
[09:51:49] <mkpankov> tincan: I think you already do that
[09:52:18] *** Quits: nano (nano@moz-00j6et.dynamic.kabel-deutschland.de) (Connection closed)
[09:52:37] *** Quits: tosh (Mibbit@moz-3th.j97.85.66.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[09:53:16] <tincan> Yep, that's true. But aren't there any downsides to using Vec over a standard array?
[09:54:10] *** Quits: giucam (giucam@moz-iv0nnc.bb.dnainternet.fi) (Ping timeout: 121 seconds)
[09:54:13] <mkpankov> tincan: there are, but you can't use naked array here, since it's size would need to be known at compile-time
[09:54:23] *** Joins: giucam (giucam@moz-iv0nnc.bb.dnainternet.fi)
[09:54:41] *** Joins: fyolnish (fyolnish@moz-h6767j.panda-world.ne.jp)
[09:55:13] *** Joins: nico (nico@moz-ni68vq.dip0.t-ipconnect.de)
[09:55:50] <tomprogrammer> tincan: If you can somehow foresee which capacity is needed Vec can be very fast and avoid many allocations.
[09:56:08] <tincan> mkpankov: Thanks, that answers my question
[09:56:23] <tomprogrammer> tincan: Did you read the docs about it, they cover some of these points?
[09:56:38] <tincan> tomprogrammer: Yes, i've read the whole docs.
[09:57:52] *** Quits: killercup (killercup@moz-qj5qhi.dip0.t-ipconnect.de) (Connection closed)
[09:58:03] *** Joins: killercup (killercup@moz-qj5qhi.dip0.t-ipconnect.de)
[09:58:11] *** Joins: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net)
[09:58:14] <tincan> tomprogrammer: I don't think i've read explicitly that it's not possible to initialise arrays at runtime.
[09:58:35] <adwhit> Hi there, got a question - is there a way to create a HashMap which takes a boxed trait object as it's value, but any particular hashmap will only store one particular trait type?
[09:59:15] *** Quits: nico (nico@moz-ni68vq.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[09:59:32] *** Joins: ogham (rally@moz-udk.d7f.6.31.IP)
[10:00:04] <adwhit> I thought about abstracting the trait over the hashmap eg impl MyTrait for HashMap<i32, TypeA>, impl MyTrait for HashMap<i32, TypeB>...
[10:00:09] <Ms2ger> adwhit, then why use a trait object at all?
[10:00:15] <mindtree> tincan: if you want to allocate an array at runtime, you should be able to do so with Box
[10:00:28] <adwhit> But the I can't use the hashmap methods
[10:00:43] <Ms2ger> You can impl<T: Trait> OtherTrait for HashMap<i32, T> {}
[10:00:54] <mindtree> tincan: if you don't know how many elements it will contain at compile time, you'll have to use Vec
[10:01:41] *** Joins: qdbhg (qdbhg@moz-lp2.qtm.104.223.IP)
[10:02:02] *** Joins: Marvin (Marvin@moz-aikc5m.cpe.webspeed.dk)
[10:02:13] <Marvin> How do I use unstable features without the error?
[10:02:22] <mkpankov> mindtree: what's the point of boxed raw array? it's almost the same as Vec except w/o the nicities
[10:02:33] <mkpankov> Marvin: you have to use nightly compiler for that
[10:02:48] <Marvin> ok
[10:02:53] <Marvin> When will BitVec become stable?
[10:03:36] <mkpankov> who knows :P
[10:03:50] <tincan> mindtree: By saying I could use box, you mean I make some kind of recursive datastructure (like lists in functional programming)?
[10:04:08] <tincan> mindtree: like in this example? https://doc.rust-lang.org/std/boxed/
[10:04:08] *** Quits: c74d (c74d3a4ebb6@moz-nvc5h7.mggc.hibn.4404.2002.IP) (Connection closed)
[10:04:31] *** Joins: c74d (c74d3a4ebb6@moz-0ersgu.oc.cox.net)
[10:05:01] <panicbit> Eh, some doc comments seem to be broken (http://doc.rust-lang.org/nightly/std/str/struct.Split.html)
[10:05:34] <panicbit> Also, I can't access the sourcecode for that page anymore. (I could just a minute ago!)
[10:05:40] <mkpankov> tincan: actually I doubt it's possible for raw array
[10:06:14] *** Quits: kazagistar (kazagistar@moz-1jum1i.client.bresnan.net) (Quit: Leaving.)
[10:06:22] <mindtree> mkpankov: you can just be more explicit I guess - if it's always going to be the same size, it makes its purpose a little more obvious - I don't know tincan's use case though
[10:06:51] <ogham> Hey #rust, is there anything I can do to help track down where a stack overflow is occurring? When I run my program all I see is "thread '<main>' has overflowed its stack" which isn't very helpful.
[10:07:03] <mkpankov> mindtree: I can't come up with working version that would box a fixed-size array
[10:07:08] <ogham> Also, googling it just returns results for the stackoverflow website. some name collision going on there
[10:07:11] <Mutabah> ogham: Run with gdb or valgrind?
[10:07:25] <Mutabah> ogham: A stack overflow usually means you have runaway recursion
[10:07:39] <tincan> mindtree: I'm toying around with generating fibonacci numbers. So I want a statically sized array, that is known at runtime. See http://pastebin.com/Lf1t5kUJ
[10:07:51] <ogham> Mutabah: I ran it with gdb but it just returned the asm instruction where it occurred
[10:08:08] <ogham> I know I have recursion, I'd just like to find the specific places where it runs away :)
[10:09:01] *** Quits: nham (nham@moz-755.bu3.214.98.IP) (Quit: leaving)
[10:09:28] <Mutabah> ogham: Once gdb breaks, type 'bt' to get a backtrace
[10:09:28] <panicbit> Does the doc have issues with doc comments generated in macros? http://doc.rust-lang.org/nightly/src/core/str/mod.rs.html#641
[10:09:29] *** Joins: flaub (flaub@moz-68dhjg.reverse.softlayer.com)
[10:09:49] *** Joins: mkpankov` (mkpankov@moz-rl4.dee.149.83.IP)
[10:09:49] <ogham> Mutabah: Ah, all I knew was to type 'r'. then 's'. thanks
[10:10:13] <liamfraser> what is the deal with thread::scoped. Is that expected to be fixed in a 1.1 release?
[10:10:26] <mindtree> tincan: not referring to any recursiveness, I just mean making a `Box<[i64; 2048]>` by doing something like `Box::new([0; 2048])` - that way it's dynamically allocated rather than stack allocated (without the box)
[10:10:39] <Mutabah> liamfraser: Hopefully
[10:10:49] <mindtree> mkpankov: hmm? http://is.gd/Z6wSnH
[10:10:55] *** Joins: tincan_ (tincan@moz-gp5ov9.ip.telfort.nl)
[10:10:56] *** Quits: acgtyrant (acgtyrant@moz-3kd.b79.160.124.IP) (Quit: å •å…¥ /dev/null)
[10:11:02] *** Quits: tincan (Mibbit@moz-gp5ov9.ip.telfort.nl) (Quit: http://www.mibbit.com ajax IRC Client)
[10:11:08] <liamfraser> Mutabah: is there already a release schedule for 1.1?
[10:11:08] *** tincan_ is now known as tincan
[10:11:26] *** Joins: mib_xf5c1m (Mibbit@moz-gp5ov9.ip.telfort.nl)
[10:11:37] *** Quits: mib_xf5c1m (Mibbit@moz-gp5ov9.ip.telfort.nl) (Quit: http://www.mibbit.com ajax IRC Client)
[10:11:39] *** Quits: mkpankov (user@moz-h0n.sma.198.91.IP) (Connection closed)
[10:11:42] *** Quits: nwin (textual@moz-r1aari.pools.arcor-ip.net) (Quit: My Mac Mini has gone to sleep. ZZZzzzâ€¦)
[10:11:46] <mindtree> mkpankov: oh sorry, I didn't see the specific example
[10:11:53] *** Joins: acgtyrant (acgtyrant@moz-3kd.b79.160.124.IP)
[10:12:07] <flaub> any idea on what's the story with select-able I/O? I can't seem to find a robust way to cancel a thread that is blocking on a UdpSocket::recv_from() call
[10:12:20] <mindtree> yeah, that'll have to be a Vec as the size of the array isn't known exactly 'till runtime
[10:12:23] <mkpankov`> mindtree: yeah, that works, I was rather talking about variable size raw array
[10:13:02] *** Joins: davebettin (davebettin@moz-ip635p.or.comcast.net)
[10:13:08] <mkpankov`> otherwise it's like dependent types or something
[10:13:36] <tincan> mkpankov`, I could always leave #rust for #agda
[10:13:41] *** Joins: errordeveloper (ilya@moz-8jq.ge6.157.37.IP)
[10:14:13] <mindtree> idris!
[10:14:31] <mkpankov`> they both are Haskell based? 
[10:14:35] *** Joins: nwin (textual@moz-r1aari.pools.arcor-ip.net)
[10:15:00] <mindtree> idris is its own thing (though very haskelly syntax)
[10:16:44] *** Joins: mkpankov (user@moz-nleeis.partnertech.ru)
[10:17:04] *** Quits: davebettin (davebettin@moz-ip635p.or.comcast.net) (Ping timeout: 121 seconds)
[10:17:34] <mkpankov`> ðŸ‘
[10:18:07] *** Quits: killercup (killercup@moz-qj5qhi.dip0.t-ipconnect.de) (Quit: Bye)
[10:18:53] *** Quits: martinhath (martin@moz-mbkero.wlan.ntnu.no) (Ping timeout: 121 seconds)
[10:18:57] <tincan> Never heard of Idris. Looks a lot like Agda though.
[10:19:29] *** Joins: arBmind (Andreas@moz-2taknk.dyn.telefonica.de)
[10:19:40] <mindtree> tincan: http://stackoverflow.com/questions/9472488/differences-between-agda-and-idris
[10:19:45] <Marvin> How much memory overhead is there on a HashSet per element?
[10:20:07] *** Quits: eddyb (eddyb@moz-jm7.2kg.166.109.IP) (Connection closed)
[10:20:10] <tincan> mindtree, yeah, I was reading that. It seems it is less for academic purposes
[10:20:14] <mkpankov> Marvin: a single hash itself?
[10:20:25] <Marvin> oof
[10:20:28] <Marvin> u64?
[10:20:48] <mkpankov> don't know what's its length
[10:20:58] <Marvin> Anything more efficient?
[10:21:15] <mkpankov> you need set interface?
[10:21:16] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[10:21:19] <anom> can someone explain me the difference between the Display and Debug traits?
[10:21:22] <Marvin> mkpankov, what?
[10:21:32] <Manishearth> anom: Display is for formatting a string to display to the user
[10:21:36] <Manishearth> Debug is for debugging
[10:21:37] *** Quits: acgtyrant (acgtyrant@moz-3kd.b79.160.124.IP) (Quit: å •å…¥ /dev/null)
[10:21:40] <mkpankov> Marvin: like, you want to store/check the presence of elements?
[10:21:43] <Marvin> yes
[10:21:45] <Manishearth> Debug generally will show all of its transitive contents
[10:22:02] <mkpankov> Marvin: sometimes stupid Vec will do
[10:22:05] <WindowsBunny> aw yiss
[10:22:10] <WindowsBunny> VisualRust 0.1 released
[10:22:11] <Marvin> ok
[10:22:21] <Marvin> how can I set an element in a vec?
[10:22:34] <Mutabah> Marvin: vec[idx] = val
[10:22:44] <mkpankov> Marvin: and in some cases you can store Option in Vec w/o overhead
[10:23:13] <Marvin> I literally just need a BitVec but for some reason they are unstable 
[10:23:28] <tincan> WindowsBunny, YES! I was looking for something like this, coming from c#
[10:23:43] <mkpankov> WindowsBunny: hmm, how does it compare to RustDT?
[10:23:55] *** Joins: bharadwaj (bharadwaj@moz-sd6.35d.72.182.IP)
[10:24:14] *** Quits: irobevjodu (irobevjodu@moz-c73e2q.static-ro.twistednetworks.net) (Ping timeout: 121 seconds)
[10:24:19] <WindowsBunny> Well uh, you can press the build button and it'll build your code
[10:24:22] <WindowsBunny> it has racer integrated
[10:24:30] <WindowsBunny> and it has some form of syntax highlighting?
[10:24:37] <mkpankov> WindowsBunny: same thing then
[10:24:46] *** Quits: bharadwaj (bharadwaj@moz-sd6.35d.72.182.IP) (Connection closed)
[10:24:46] <mkpankov> RustDT also integrates debugging
[10:25:13] <WindowsBunny> I'm not sure if VisualRust integrated debugging yet
[10:25:49] <WindowsBunny> yeah, that's far in the future because VS uses PDB info for debugging while Rust emits dwarf
[10:26:04] <mkpankov> oh that's a pity
[10:26:24] <WindowsBunny> so VR would have to either get gdb integration working, or rust needs to emit pdb info
[10:26:40] <WindowsBunny> the former Microsoft is actually working on
[10:26:47] <mkpankov> oh?
[10:26:50] <WindowsBunny> the latter Rust is working on with the new msvc target
[10:27:06] <mkpankov> Microsoft works on gdb integration?
[10:27:09] <WindowsBunny> and in the meantime, you can use cv2pdb to convert dwarf to pdb and debug it
[10:27:12] <mkpankov> is this real world?
[10:27:14] <WindowsBunny> yes
[10:27:34] <mkpankov> interesting. they intend to have it native?
[10:27:44] <mkpankov> because right now you only can have MinGW
[10:27:47] <WindowsBunny> They need it for their android/ios integration
[10:28:13] <WindowsBunny> They're also working on more tightly integrating clang into their toolchain
[10:28:28] <mkpankov> maybe that all is not that far, rustc already supports being compiled with MSVC after all
[10:28:42] <Marvin> How good is racer atm?
[10:28:45] <WindowsBunny> mkpankov: http://blogs.msdn.com/b/vcblog/archive/2015/04/29/open-sourcing-visual-studio-s-gdb-lldb-debug-engine.aspx
[10:28:59] <mkpankov> WindowsBunny: :thumbsup:
[10:29:21] <mkpankov> Marvin: pretty good, but last time I checked it didn't understand external crates
[10:29:30] <Levans> Hmm... Is there a way to achieve this ? :
[10:29:32] <Levans> playbot: Box::new(move |_| {}) as Box<Fn(&u8)>;
[10:29:34] -playbot- output truncated; full output at: http://bit.ly/1FfW7wz
[10:29:34] <Marvin> any way to get proper panic stack traces?
[10:29:43] <WindowsBunny> mkpankov: And of course https://github.com/rust-lang/rust/pull/25350
[10:29:45] *** Joins: bkircher (bkircher@moz-oh2i80.dip0.t-ipconnect.de)
[10:30:04] <mkpankov> WindowsBunny: yeah, that's what I mentioned above
[10:30:58] <WindowsBunny> Being able to go back to using VS to program, and having debugging, it'll be nice
[10:31:04] <WindowsBunny> maybe even using VS's profiler
[10:31:06] * WindowsBunny dreams
[10:31:27] <panicbit> Marvin: I think you had to use RUSTC_BACKTRACE=1
[10:31:45] *** Joins: Rym______ (y@moz-dhb.0vk.38.217.IP)
[10:32:17] <Marvin> what about with cargo?
[10:32:34] <panicbit> Marvin: Same deal. Just use "RUSTC_BACKTRACE=1 cargo …"
[10:32:37] <mkpankov> Marvin: the same, if you mean cargo run
[10:32:44] <WindowsBunny> Marvin: Unless you're on windows
[10:32:49] <Marvin> I am :)
[10:32:53] <mkpankov> :|
[10:32:55] <WindowsBunny> oh, then you're screwed
[10:32:57] <WindowsBunny> gotta use gdb
[10:32:58] *** Joins: frankmcsherry (frankmcsher@moz-la1m3v.adsl.alicedsl.de)
[10:33:09] <Marvin> thanks...
[10:33:13] *** Joins: bharadwaj (bharadwaj@moz-sd6.35d.72.182.IP)
[10:33:15] *** Quits: khades (Thunderbird@moz-ual.b31.186.31.IP) (Ping timeout: 121 seconds)
[10:33:45] <panicbit> WindowsBunny: Why is that exactly?
[10:33:47] *** Quits: m_kato (m_kato@moz-86b4bs.bitcat.net) (Quit: Leaving...)
[10:33:57] <WindowsBunny> panicbit: Because we ask the OS for the stack trace
[10:34:02] <WindowsBunny> panicbit: And the OS doesn't understand dwarf
[10:34:07] <panicbit> WindowsBunny: Ok
[10:34:16] * WindowsBunny shakes his fist at dwarf
[10:34:24] <WindowsBunny> Not dwarves though, I'm totally okay with them
[10:34:46] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[10:34:55] <woboats> why doesn't this conflict? http://is.gd/lj0RBJ
[10:35:05] *** Joins: mpk (mpk@moz-m0q.67q.47.195.IP)
[10:35:14] *** Quits: mpk (mpk@moz-m0q.67q.47.195.IP) (Client exited)
[10:35:18] *** Joins: jtdowney (jtdowney@moz-obnifk.il.comcast.net)
[10:36:10] *** Quits: p1start (p1start@moz-nftjhe.org) (Ping timeout: 121 seconds)
[10:36:14] <WindowsBunny> Did I mention how much I hate msys?
[10:36:21] *** Quits: Rym______ (y@moz-dhb.0vk.38.217.IP) (Ping timeout: 121 seconds)
[10:36:41] *** Quits: jtdowney (jtdowney@moz-obnifk.il.comcast.net) (Connection closed)
[10:36:53] <WindowsBunny> I just tried doing `reg /?` to get help with a windows command line utility and because I was in an msys shell it munged that to `reg C:/msysg64/?`
[10:36:56] *** Joins: jtdowney (jtdowney@moz-obnifk.il.comcast.net)
[10:37:16] *** Joins: rubberduck (Mibbit@moz-pltiof.dip0.t-ipconnect.de)
[10:37:23] <Yurumechan> heuristic failure
[10:39:26] *** Quits: slomo (slomo@moz-p8m0g2.net) (Quit: Ex-Chat)
[10:41:23] *** Quits: kaeluka (kaeluka@moz-tn3lqd.cust.bredbandsbolaget.se) (Client exited)
[10:41:43] <Marvin> Is there a way to see how much memory a specific thing is using?
[10:41:53] <Marvin> Like, how many megs a specific vector takes up
[10:42:13] <Ms2ger> njn has been working on that for Servo
[10:43:47] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[10:43:50] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[10:44:31] <mkpankov> Marvin: you'll have to calculate that
[10:44:45] <Marvin> mkpankov, how?
[10:44:51] <simias> Marvin: std::mem::size_of
[10:44:55] <mkpankov> Marvin: with .size() + mem::size_of<T>, approximately
[10:45:01] <simias> right
[10:45:09] <simias> well, plus the size of the vector itself
[10:45:17] <simias> the container, that is
[10:45:31] <simias> capacity() instead of size() maybe?
[10:45:46] <simias> depends what you're looking for
[10:45:50] <mkpankov> well, yes
[10:47:19] <Marvin> so .capacity() would return the amount in bytes?
[10:47:26] *** Quits: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[10:48:02] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Ping timeout: 121 seconds)
[10:48:13] <simias> http://is.gd/kgIwll
[10:48:17] <simias> no, in number of elements
[10:48:20] *** Quits: Slava_I (slava@moz-a7c.n0g.135.88.IP) (Quit: leaving)
[10:48:31] *** Quits: npm (npm@moz-92sbjt.wa.comcast.net) (Quit: process:exit(EXIT_TIRED_AF))
[10:48:33] *** Quits: anom (anhedonia@moz-oadaam.torservers.net) (Ping timeout: 121 seconds)
[10:48:35] *** Joins: mnemnion (mnemnion@moz-kf3boi.ca.comcast.net)
[10:48:44] *** Joins: Slava_I (slava@moz-a7c.n0g.135.88.IP)
[10:48:53] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[10:49:06] <simias> I think this code should tell you how much space in RAM the vector takes
[10:49:17] *** Quits: atj (uid1964@moz-abp81b.ealing.irccloud.com) (Quit: Connection closed for inactivity)
[10:49:30] <Marvin> thanks
[10:49:31] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[10:49:33] <simias> note that it will crash if the vector is empty
[10:49:36] *** Joins: random_guy (bzlandfill@moz-r50mch.ip.telfort.nl)
[10:49:44] <simias> since v[0] will be out of bounds
[10:50:08] <mkpankov> so it might be better to use size_of::<T>
[10:50:44] <simias> mkpankov: yeah but I didn't know how to make it infer the types
[10:51:30] <simias> there's no "typeof" in rust AFAIK
[10:51:55] *** Joins: anom (anhedonia@moz-r7m2fk.snydernet.net)
[10:52:37] *** Quits: mnemnion (mnemnion@moz-kf3boi.ca.comcast.net) (Ping timeout: 121 seconds)
[10:52:58] *** Quits: lenstr (lenstr@moz-el8.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[10:53:24] *** Joins: wei2912 (wei2912@moz-5rs.krr.156.175.IP)
[10:53:26] *** Quits: giucam (giucam@moz-iv0nnc.bb.dnainternet.fi) (Ping timeout: 121 seconds)
[10:53:29] *** Joins: jadbaires (jadrian@moz-bghnjr.dsl.telepac.pt)
[10:53:38] *** Joins: giucam (giucam@moz-iv0nnc.bb.dnainternet.fi)
[10:53:46] *** Joins: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net)
[10:53:46] *** ChanServ sets mode: +o pnkfelix
[10:54:58] *** Joins: andre_ (andre@moz-rnd.3qv.76.201.IP)
[10:55:06] *** Joins: jethrogb (jethrob@moz-p2iedd.scintilla.utwente.nl)
[10:56:10] *** Quits: anom (anhedonia@moz-r7m2fk.snydernet.net) (Ping timeout: 121 seconds)
[10:56:13] *** Quits: dstrbad (dstrbad@moz-756bkd.cable.xnet.hr) (A TLS packet with unexpected length was received.)
[10:58:02] *** Quits: jtdowney (jtdowney@moz-obnifk.il.comcast.net) (Quit: )
[10:58:36] *** Quits: Lilly (Lilly@moz-pfkvo9.bredband.comhem.se) (Quit: bajs)
[11:01:23] *** Joins: m10e (mblbruce@moz-onbacj.fagotten.org)
[11:02:25] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[11:02:39] *** Quits: dmac (dmac@moz-2ig65r.ca.comcast.net) (Connection closed)
[11:03:41] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[11:04:13] *** Quits: indefini (indefini@moz-4p4v25.ucom.ne.jp) (Connection closed)
[11:04:22] *** Joins: ncarrillo (Mibbit@moz-mke7jn.cable.rcn.com)
[11:04:42] <random_guy> Does Rust allow VLAs like in C?
[11:04:49] *** Joins: dstrbad (dstrbad@moz-bv5ihq.dsl.iskon.hr)
[11:05:05] *** Joins: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net)
[11:05:22] *** Joins: slomo (slomo@moz-p8m0g2.net)
[11:05:35] *** Joins: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net)
[11:06:11] <Ms2ger> random_guy, no
[11:06:26] <Ms2ger> And standard C doesn't really allow it, doe it?
[11:07:02] <random_guy> Ms2ger: I think C99 supports it.
[11:07:02] *** Quits: simonoram (simonoram@moz-pllbvg.cable.virginm.net) (Client exited)
[11:07:16] <gsnedders> It's optional in C11.
[11:07:48] <VShell> it was part of C99 but optional in C11.
[11:07:49] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[11:08:20] <Mutabah> random_guy: Rust only supports VLAs (I take that to mean '...') in FFI, i.e. when calling C code
[11:08:35] <VShell> Mutabah: variable length arrays, not arguments, I think.
[11:08:39] <Mutabah> Oh, yeah
[11:08:45] <VShell> Rust has Vec.
[11:08:54] <Mutabah> Still, speaking of that, I should stick my va_list impl on crates.io
[11:09:11] *** Joins: lyc (lyc@moz-sgi.pqd.150.123.IP)
[11:09:14] <VShell> yay :)
[11:09:17] *** Quits: hstefan (quassel@moz-hnlou0.yuriks.net) (Ping timeout: 121 seconds)
[11:09:22] *** Quits: yuriks (quassel@moz-hnlou0.yuriks.net) (Ping timeout: 121 seconds)
[11:09:36] <Ms2ger> Mutabah, ew :)
[11:09:38] *** Quits: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net) (Ping timeout: 121 seconds)
[11:09:41] <mkpankov> Mutabah: aren't macros idiomatic in Rust for this?
[11:09:54] *** Joins: ytain (ytain@moz-07c3h9.dsl.teksavvy.com)
[11:10:09] *** Quits: genbattle (genbattle@moz-r09mao.xtra.co.nz) (Quit: Leaving)
[11:10:18] <Mutabah> mkpankov: For FFI
[11:10:23] <mkpankov> VShell: optional, like standard doesn't mandate that implementation supports it?
[11:10:32] *** Quits: Guest63 (textual@moz-qfs.570.70.83.IP) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[11:10:33] <mkpankov> Mutabah: ah, got it
[11:10:37] *** Joins: d_rezzer (chatzilla@moz-t0fmuj.hfc.comcastbusiness.net)
[11:10:40] <random_guy> I will simply create a Vec as a buffer then, thank you for your help
[11:11:09] *** Quits: Pieter (Mibbit@moz-7bjs3j.ftth.telfortglasvezel.nl) (Quit: http://www.mibbit.com ajax IRC Client)
[11:11:18] *** Quits: random_guy (bzlandfill@moz-r50mch.ip.telfort.nl) (Quit: CGI:IRC (EOF))
[11:12:39] <gsnedders> mkpankov: yeah
[11:12:52] <gsnedders> mkpankov: C99 implementations are /required/ to support it, C11 ones aren't
[11:13:01] <mkpankov> gsnedders: thanks
[11:13:14] *** Quits: lyc (lyc@moz-sgi.pqd.150.123.IP) (Ping timeout: 121 seconds)
[11:13:15] *** Quits: kamilc__ (kamil@moz-sh222i.play-internet.pl) (Quit: Leaving...)
[11:13:53] *** Quits: kgrandon (Adium@moz-772b7u.nemh.1887.0450.2001.IP) (Quit: Leaving.)
[11:15:05] *** Joins: Guest63 (textual@moz-qfs.570.70.83.IP)
[11:16:05] *** Quits: fyolnish (fyolnish@moz-h6767j.panda-world.ne.jp) (Connection closed)
[11:16:31] *** Quits: Guest63 (textual@moz-qfs.570.70.83.IP) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[11:16:53] *** Joins: Nekit1234007 (nekit@moz-jpa.hli.189.91.IP)
[11:17:03] *** Quits: nrc (nrc@moz-9luh02.xtra.co.nz) (Ping timeout: 121 seconds)
[11:17:33] *** Quits: adwhit (Mibbit@moz-qsp.47b.204.109.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[11:18:07] *** Quits: bkircher (bkircher@moz-oh2i80.dip0.t-ipconnect.de) (A TLS packet with unexpected length was received.)
[11:18:16] *** Joins: ConnorDoyle (ConnorDoyle@moz-edrulj.static.monkeybrains.net)
[11:19:36] *** Joins: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP)
[11:21:34] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[11:23:17] *** Joins: owickstrom (owickstrom@moz-dq04n8.bredband.comhem.se)
[11:23:54] *** Quits: rubberduck (Mibbit@moz-pltiof.dip0.t-ipconnect.de) (Quit: http://www.mibbit.com ajax IRC Client)
[11:25:29] *** Quits: ConnorDoyle (ConnorDoyle@moz-edrulj.static.monkeybrains.net) (Ping timeout: 121 seconds)
[11:25:55] *** Joins: Rym______ (y@moz-dhb.0vk.38.217.IP)
[11:26:19] *** Joins: simonoram (simonoram@moz-pllbvg.cable.virginm.net)
[11:27:12] *** Joins: martinhath (martin@moz-mbkero.wlan.ntnu.no)
[11:27:41] *** Quits: agjacome (agjacome@moz-gki9i8.ei.uvigo.es) (Quit: leaving)
[11:27:44] *** Joins: Guest63 (textual@moz-qfs.570.70.83.IP)
[11:28:29] *** Joins: kefan (kefan@moz-ljgn4c.ma.comcast.net)
[11:28:31] *** Joins: anom (anhedonia@moz-p76.o9j.219.91.IP)
[11:29:11] *** Joins: acgtyrant (acgtyrant@moz-3kd.b79.160.124.IP)
[11:30:31] *** Quits: Rym______ (y@moz-dhb.0vk.38.217.IP) (Ping timeout: 121 seconds)
[11:31:00] *** Quits: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net) (Ping timeout: 121 seconds)
[11:31:08] *** Quits: d_rezzer (chatzilla@moz-t0fmuj.hfc.comcastbusiness.net) (Ping timeout: 121 seconds)
[11:31:29] *** Joins: dinfuehr (dinfuehr@moz-5kt7gr.highway.telekom.at)
[11:31:42] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[11:33:11] *** Quits: dinfuehr (dinfuehr@moz-5kt7gr.highway.telekom.at) (Connection closed)
[11:33:16] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[11:34:57] *** Joins: mkoskar (mkoskar@moz-kvs6fc.torservers.net)
[11:35:25] *** Quits: mgottschlag (quassel@moz-j4umq0.scc.kit.edu) (Ping timeout: 121 seconds)
[11:36:39] *** Quits: smohan (smohan@moz-m6j.f0d.244.121.IP) (Quit: Leaving...)
[11:37:23] *** Joins: tincan_ (tincan@moz-gp5ov9.ip.telfort.nl)
[11:37:33] *** Quits: tincan_ (tincan@moz-gp5ov9.ip.telfort.nl) (Quit: Leaving)
[11:37:53] *** Quits: slomo (slomo@moz-p8m0g2.net) (Ping timeout: 121 seconds)
[11:38:03] *** Joins: nrc (nrc@moz-9luh02.xtra.co.nz)
[11:38:04] *** ChanServ sets mode: +o nrc
[11:40:10] *** Joins: khades (Thunderbird@moz-s8b.3vk.74.212.IP)
[11:40:10] *** Quits: dstrbad (dstrbad@moz-bv5ihq.dsl.iskon.hr) (A TLS packet with unexpected length was received.)
[11:41:53] *** Joins: lht (lht@moz-f8r.k6r.240.220.IP)
[11:42:14] *** Quits: martinhath (martin@moz-mbkero.wlan.ntnu.no) (Ping timeout: 121 seconds)
[11:42:29] *** Quits: shellac (textual@moz-9b49cr.cable.virginm.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[11:42:45] *** Joins: slomo (slomo@moz-p8m0g2.net)
[11:42:48] *** Quits: nrc (nrc@moz-9luh02.xtra.co.nz) (Ping timeout: 121 seconds)
[11:42:52] *** Quits: tamird (textual@moz-gkumi9.dyn.optonline.net) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[11:43:32] *** Joins: yuja (yuja@moz-kqflcs.so-net.ne.jp)
[11:44:28] *** Joins: skade (skade@moz-m9ib3m.pools.vodafone-ip.de)
[11:46:43] *** Quits: edlothiol (user@moz-i70j4f.dynamic.kabel-deutschland.de) (Connection closed)
[11:48:38] *** Joins: mme (mme@moz-osl5of.de)
[11:49:09] *** Joins: jarrednicholls (uid19542@moz-s0evcl.uxbridge.irccloud.com)
[11:49:09] *** Quits: tincan (tincan@moz-gp5ov9.ip.telfort.nl) (Connection closed)
[11:49:43] *** Quits: mkoskar (mkoskar@moz-kvs6fc.torservers.net) (Client exited)
[11:50:02] *** Joins: new_one (new_one@moz-suj.lcf.15.50.IP)
[11:50:22] <jarrednicholls> I almost feel that we should make an exception for the std crate and be able to extend one trait to another type that both reside in std
[11:50:27] *** Joins: DerisiveLogic (smuxi@moz-g93io6.res.rr.com)
[11:50:48] <jarrednicholls> I'm sure there's still an elegant way around that (dummy type in one's own crate)
[11:51:02] *** Joins: Stents_ (Stents@moz-r8d.u6c.187.68.IP)
[11:51:15] *** Joins: jevin (jevin@moz-sra.ovp.12.72.IP)
[11:52:02] <jarrednicholls> I have a use case: I want to extend all io::Write types to also impl fmt::Write
[11:53:09] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[11:53:44] *** Quits: skade (skade@moz-m9ib3m.pools.vodafone-ip.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[11:54:01] *** Quits: Stents (Stents@moz-r8d.u6c.187.68.IP) (Ping timeout: 121 seconds)
[11:54:03] *** Quits: jevin_ (jevin@moz-sra.ovp.12.72.IP) (Ping timeout: 121 seconds)
[11:54:08] *** Joins: nrc (nrc@moz-9luh02.xtra.co.nz)
[11:54:08] *** ChanServ sets mode: +o nrc
[11:54:31] *** Quits: DerisiveLogic (smuxi@moz-g93io6.res.rr.com) (Ping timeout: 121 seconds)
[11:55:43] *** Quits: erz (erz@moz-n26c5c.broadband.corbina.ru) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[11:56:21] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[11:58:59] *** Joins: samnmax (samnmax@moz-1vk.aq9.27.72.IP)
[11:59:03] *** Quits: nrc (nrc@moz-9luh02.xtra.co.nz) (Ping timeout: 121 seconds)
[11:59:19] *** Quits: fleabay (Mibbit@moz-kr7nid.ip.windstream.net) (Quit: http://www.mibbit.com ajax IRC Client)
[11:59:45] *** Quits: Boscop (me@moz-5ac.5rj.126.98.IP) (Ping timeout: 121 seconds)
[12:00:23] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Ping timeout: 121 seconds)
[12:02:11] *** Quits: zcourts (zcourts@moz-gel.tgg.11.195.IP) (Client exited)
[12:02:14] *** Joins: logan_e (logan_e@moz-ltn.qg3.218.73.IP)
[12:02:59] *** Joins: hstefan (quassel@moz-hnlou0.yuriks.net)
[12:03:03] *** Joins: yuriks (quassel@moz-hnlou0.yuriks.net)
[12:03:05] *** Joins: Wild_Cat (Max@moz-fa8mvt.dsl.teksavvy.com)
[12:03:24] *** Quits: logan_e (logan_e@moz-ltn.qg3.218.73.IP) (Client exited)
[12:03:59] *** Joins: logan_e (logan_e@moz-ltn.qg3.218.73.IP)
[12:04:05] *** Joins: jeffasinger (jeff@moz-jeubl6.res.rr.com)
[12:04:26] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[12:04:39] <woboats> jarrednicholls, that's not restricted by the orphan impl rules.
[12:05:50] <woboats> It's restricted by the trait coherence rules.
[12:07:10] *** Joins: lyc (lyc@moz-sgi.pqd.150.123.IP)
[12:07:28] *** Joins: meh (meh@moz-2vi7cf.42-151.net24.it)
[12:08:34] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[12:08:44] *** Joins: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP)
[12:10:00] *** Joins: tristanseifert (tristanseif@moz-r0t7ns.res.rr.com)
[12:10:05] *** Joins: daze (daze@moz-tc29eq.static.zebra.lt)
[12:10:14] *** Joins: csherratt (textual@moz-357qdq.cable.teksavvy.com)
[12:10:36] *** Quits: csherratt (textual@moz-357qdq.cable.teksavvy.com) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[12:11:12] *** Quits: lyc (lyc@moz-sgi.pqd.150.123.IP) (Ping timeout: 121 seconds)
[12:11:59] *** Joins: martinhath (martin@moz-mbkero.wlan.ntnu.no)
[12:12:39] *** Joins: jophish (jophish@moz-epocft.broadband.tesco.net)
[12:12:41] *** Joins: lyc (lyc@moz-jft.nr8.226.207.IP)
[12:14:13] *** Joins: kgrandon (Adium@moz-i6u.sut.111.217.IP)
[12:15:43] *** Quits: popow (Thunderbird@moz-03f.kd0.252.223.IP) (Ping timeout: 121 seconds)
[12:16:06] *** Joins: popow (Thunderbird@moz-03f.kd0.252.223.IP)
[12:16:22] *** Joins: kendle (Mibbit@moz-l2oqcf.unity-media.net)
[12:17:15] <kendle> hey, is there a way to initialize a 'const TTL: Duration = Duration::minutes(15);' ? I get an error: function calls in constants are limited to struct and enum constructors 
[12:17:39] <kimundi> kendle: Not possible in the current language
[12:17:48] <kendle> hm, ok, thanks!
[12:17:52] *** Quits: ogham (rally@moz-udk.d7f.6.31.IP) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[12:17:53] *** Quits: new_one (new_one@moz-suj.lcf.15.50.IP) (Quit: WeeChat 1.1.1)
[12:17:56] <jarrednicholls> woboats yes, that's what I'm referring to.
[12:18:46] <jarrednicholls> i.e. maybe an exception should be made when impl a trait on a type when both exist in std and not in "my" crate
[12:18:56] *** Joins: Hannibal_Smith (nico@moz-hacth9.retail.telecomitalia.it)
[12:18:57] *** Joins: dstrbad (dstrbad@moz-756bkd.cable.xnet.hr)
[12:19:00] *** Quits: kgrandon (Adium@moz-i6u.sut.111.217.IP) (Ping timeout: 121 seconds)
[12:19:03] *** Quits: oblique (oblique@moz-9re3oa.2f30.org) (Quit: leaving)
[12:19:28] <jarrednicholls> that's a slippery slope, so I'm not totally on board with that...but man it would be nice if I could solve my io::Write -> fmt::Write issue in about 5 lines of code :-D
[12:20:06] *** Joins: Rym______ (y@moz-dhb.0vk.38.217.IP)
[12:20:29] *** Quits: FreeFull (freefull@moz-f65lp3.skybroadband.com) (Quit: Rebooting)
[12:20:33] *** Quits: panicbit (panicbit@moz-r4ks4s.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[12:21:06] <jarrednicholls> instead I think the solution would be to have a sub trait, e.g. my::Write : io::Write, and impl my::Write for all io::Write types, and then impl fmt::Write for all my::Write types
[12:21:12] *** Joins: daheise (Mibbit@moz-2urad3.dz.ornl.gov)
[12:21:15] <jarrednicholls> I'm curious, gonna try that and see what happens
[12:21:30] *** Joins: Kynes (Kynes@moz-j2us35.mit.edu)
[12:22:10] *** Joins: pgonda (peter@moz-s36.0tp.134.75.IP)
[12:22:34] *** Joins: tkellen (tkellen@moz-f5ji1n.vt.comcast.net)
[12:22:37] *** Joins: fengshaun (fengshaun@moz-rf0qk5.cable.teksavvy.com)
[12:22:39] *** Quits: tav (tav@moz-ivrq8h.range31-52.btcentralplus.com) (Connection closed)
[12:23:11] *** Quits: jophish (jophish@moz-epocft.broadband.tesco.net) (Connection closed)
[12:24:40] *** Quits: Rym______ (y@moz-dhb.0vk.38.217.IP) (Ping timeout: 121 seconds)
[12:26:02] *** Quits: errordeveloper (ilya@moz-8jq.ge6.157.37.IP) (Ping timeout: 121 seconds)
[12:26:11] *** Quits: logan_e (logan_e@moz-ltn.qg3.218.73.IP) (Client exited)
[12:26:12] *** Joins: panicbit (panicbit@moz-r4ks4s.dip0.t-ipconnect.de)
[12:26:22] *** Quits: Kingsquee (kingsley@moz-3fm07c.bchsia.telus.net) (Quit: Konversation terminated!)
[12:26:40] *** Quits: zyphrus (David@moz-1a4.urk.98.101.IP) (Ping timeout: 121 seconds)
[12:26:49] *** Joins: FreeFull (freefull@moz-f65lp3.skybroadband.com)
[12:27:24] <ChrisMorgan> acrichto, huon: r? https://github.com/rust-lang/rust-playpen/pull/96 (fixes the layout/scrolling issues people have been reporting in Chromium)
[12:27:29] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[12:28:27] *** Joins: jjthrash (jjthrash@moz-gsigbq.res.rr.com)
[12:28:29] <ChrisMorgan> Whoops, donâ€™t approve that yet.
[12:29:55] *** Quits: jyeo (uid12229@moz-hv3ndn.charlton.irccloud.com) (Quit: Connection closed for inactivity)
[12:30:09] <ChrisMorgan> OK, fixed the bit I missed.
[12:31:44] *** Quits: anom (anhedonia@moz-p76.o9j.219.91.IP) (Ping timeout: 121 seconds)
[12:31:48] *** Joins: ahal (ahal@moz-b8e0a0.cpe.pppoe.ca)
[12:32:32] *** Joins: e_svedang (e_svedang@moz-p1r4ve.bredband.comhem.se)
[12:32:33] *** Quits: SneakySnake (nya@moz-i9is4u.pool.telekom.hu) (Quit: Leaving)
[12:33:19] *** Quits: martinhath (martin@moz-mbkero.wlan.ntnu.no) (Quit: WeeChat 1.1.1)
[12:33:29] *** Joins: anom (anhedonia@moz-pefcoq.torproxy-readme-arachnide-fr-35.fr)
[12:33:50] *** Joins: SneakySnake (nya@moz-i9is4u.pool.telekom.hu)
[12:33:52] *** Quits: debu (debu@moz-6momm3.adsl.alicedsl.de) (Ping timeout: 121 seconds)
[12:33:57] *** Quits: lyc (lyc@moz-jft.nr8.226.207.IP) (Connection closed)
[12:36:16] *** Joins: smohan (smohan@moz-vm4.rkb.167.122.IP)
[12:38:10] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[12:40:35] *** Joins: capcar (mathieu@moz-mi55kn.mc.videotron.ca)
[12:43:15] *** Joins: maximih (maximih@moz-0r2bjb.bredband.telia.com)
[12:43:29] *** Quits: tristanseifert (tristanseif@moz-r0t7ns.res.rr.com) (Ping timeout: 121 seconds)
[12:44:08] *** Joins: eddyb (eddyb@moz-uo6.6db.166.109.IP)
[12:45:37] *** Joins: ronslow (Mibbit@moz-1hl.ksg.185.31.IP)
[12:46:40] *** Quits: ncarrillo (Mibbit@moz-mke7jn.cable.rcn.com) (Quit: http://www.mibbit.com ajax IRC Client)
[12:46:58] *** Joins: spider-mario (spidermario@moz-coblcf.fbx.proxad.net)
[12:47:35] *** Joins: kamilc__ (kamil@moz-sh222i.play-internet.pl)
[12:47:42] <Fenhl> trying to write a trait with a required method that returns an iterable, but getting this error:
[12:47:57] *** Quits: panicbit (panicbit@moz-r4ks4s.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[12:47:58] <Fenhl> https://www.irccloud.com/pastebin/8xw3mBlr
[12:48:24] *** Quits: sin8h (Adium@moz-f0u.cn5.51.106.IP) (Quit: Leaving.)
[12:48:45] <Fenhl> how do I solve this without restricting implementations of the trait to a specific type of iterable?
[12:48:58] <ChrisMorgan> Fenhl: you canâ€™t.
[12:49:11] *** Quits: kendle (Mibbit@moz-l2oqcf.unity-media.net) (Quit: http://www.mibbit.com ajax IRC Client)
[12:49:11] <Fenhl> :/
[12:49:25] <ChrisMorgan> Fenhl: IntoIterator.into_iter() produces a concrete type which would vary on a case by case basis.
[12:49:27] *** Joins: errordeveloper (ilya@moz-8jq.ge6.157.37.IP)
[12:49:46] <ChrisMorgan> Something might be able to be achieved with a bit of indirection, let me try something out.
[12:50:12] <Fenhl> all I care about is that this type implements Iterator, which is guaranteed
[12:50:59] *** Quits: slomo (slomo@moz-p8m0g2.net) (Ping timeout: 121 seconds)
[12:51:06] <ChrisMorgan> Fenhl: do you see from what I said what the problem is?
[12:51:33] <Fenhl> not really
[12:51:55] *** Joins: carlcolglazier (uid64399@moz-118bsh.ealing.irccloud.com)
[12:52:01] <ChrisMorgan> You want your iterable to produce a type that implements Iterator, but an arbitrary IntoIterator instance will produce arbitrary types of iterators. You need something that produces a Box<Iterator> instead.
[12:52:07] *** Quits: LeSingingTree (SingingTree@moz-sh9.0dv.37.202.IP) (Connection closed)
[12:52:27] *** Joins: LeSingingTree (SingingTree@moz-sh9.0dv.37.202.IP)
[12:52:40] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[12:54:14] *** Quits: flaub (flaub@moz-68dhjg.reverse.softlayer.com) (Connection closed)
[12:54:15] *** Quits: eddyb (eddyb@moz-uo6.6db.166.109.IP) (Ping timeout: 121 seconds)
[12:54:19] *** Quits: timsim (timsim_mozi@moz-n6ajqr.7g0d.lipn.4802.2001.IP) (Ping timeout: 121 seconds)
[12:54:23] *** Joins: eddyb (eddyb@moz-egg.q07.26.188.IP)
[12:55:00] *** Quits: bltavares (bltavares@moz-u6pgnh.7l10.lipn.4802.2001.IP) (Ping timeout: 121 seconds)
[12:55:09] *** Quits: jaster (jaster@moz-trk099.u42v.sj0n.5300.2607.IP) (Ping timeout: 121 seconds)
[12:56:08] <ChrisMorgan> Fenhl: http://is.gd/pNFSKk
[12:56:21] <maximih> what happened to connect in the latest beta?  error: type `collections::vec::Vec<&collections::string::String>` does not implement any method in scope named `connect`
[12:57:11] <mkpankov> maximih: guess: you have &String, not String, in a Vec
[12:57:31] <maximih> it was working before the rustup
[12:57:39] *** Joins: timsim (timsim_mozi@moz-n6ajqr.7g0d.lipn.4802.2001.IP)
[12:57:54] <eddyb> why do you have &String?
[12:57:59] <mkpankov> maybe deref coercions got stricter
[12:58:05] <maximih> not sure but was working before
[12:58:06] <mkpankov> don't know actually
[12:58:08] <maximih> that is the point
[12:58:51] <eddyb> look at the changelog?
[12:58:53] <XMPPwocky> you can't coerce Vec<&T> to Vec<&U>
[12:59:13] <maximih> yeah, I am checking now but not sure how to find the commits that were cherrypicked to beta
[12:59:16] *** Joins: larhat1 (Adium@moz-64mvae.outplay.com)
[12:59:17] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Connection closed)
[12:59:37] <eddyb> maximih: there should be a compiled changelog
[12:59:37] *** Joins: idegen (greg@moz-9c4nle.or.frontiernet.net)
[12:59:46] <eddyb> for humans :P
[12:59:53] *** Joins: colinsurprenant (colin@moz-e8e9v8.dedicated.allstream.net)
[12:59:57] <maximih> eddyb: where do I find it?
[13:00:17] <mkpankov> maximih: works for me: http://is.gd/zOrlCs
[13:00:21] <eddyb> maybe the beta branch?
[13:00:38] *** Joins: bltavares (bltavares@moz-u6pgnh.7l10.lipn.4802.2001.IP)
[13:00:39] <eddyb> or the discuss forums
[13:00:41] *** Joins: rkruppe_ (chatzilla@moz-3nj.rnu.131.95.IP)
[13:00:47] <mkpankov> both in nightly and beta, on playpen
[13:00:56] *** Joins: fyolnish (fyolnish@moz-8c3d0f.au-net.ne.jp)
[13:01:03] *** Quits: Dr-Emann (Dr-Emann@moz-f8hd1t.tvh.ptd.net) (Ping timeout: 121 seconds)
[13:01:10] <maximih> is playpen using the latest beta?
[13:01:27] <mkpankov> I doubt it's latest
[13:01:32] <mkpankov> some time ago it was beta.3
[13:01:38] <maximih> it broke after updating to beta 5
[13:01:44] <mkpankov> playbot: give_me_error_please
[13:01:45] -playbot- <anon>:9:9: 9:29 error: unresolved name `give_me_error_please`
[13:01:46] -playbot- <anon>:9         give_me_error_please
[13:01:46] -playbot- output truncated; full output at: http://bit.ly/1PlijMj
[13:01:47] <ChrisMorgan> Fenhl: so with that additional trait that I just showed you, youâ€™d be working with a return type of Box<IntoBoxIterator<Item = PrecedenceGroup>>, from Box::new(iterable.into_box_iter())
[13:01:47] *** Joins: lyc (lyc@moz-2pd.uqu.186.118.IP)
[13:01:59] <ChrisMorgan> playbot: VERSION
[13:02:00] -playbot- "rustc 1.0.0-beta.3 (5241bf9c3 2015-04-25) (built 2015-04-25)"
[13:02:07] <mkpankov> yeah seems it's still .3
[13:02:17] <mkpankov> maximih: works in nightly, though
[13:02:30] <mkpankov> ChrisMorgan: oh that's nice, I'm stupid :P
[13:02:39] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Ping timeout: 121 seconds)
[13:02:53] *** rkruppe_ is now known as rkruppe
[13:03:07] *** Quits: anom (anhedonia@moz-pefcoq.torproxy-readme-arachnide-fr-35.fr) (Ping timeout: 121 seconds)
[13:03:18] *** Joins: erz (erz@moz-8v4.af0.232.213.IP)
[13:03:29] *** Joins: Dr-Emann (Dr-Emann@moz-f8hd1t.tvh.ptd.net)
[13:03:37] <mkpankov> maximih: I confirm, broken in beta.4
[13:03:40] <mkpankov> *beta.5
[13:03:44] *** Joins: shellac (textual@moz-9b49cr.cable.virginm.net)
[13:04:12] *** Joins: logan_e (logan_e@moz-mpr4r7.lsrhs.net)
[13:04:47] <mkpankov> and local nightly also has it broken
[13:04:59] *** Quits: fyolnish (fyolnish@moz-8c3d0f.au-net.ne.jp) (Ping timeout: 121 seconds)
[13:05:12] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[13:05:17] *** Joins: vmeson (rmacleod@moz-hs5cri.cable.teksavvy.com)
[13:05:37] *** Quits: erz (erz@moz-8v4.af0.232.213.IP) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[13:05:51] *** Quits: lyc (lyc@moz-2pd.uqu.186.118.IP) (Ping timeout: 121 seconds)
[13:06:22] <mkpankov> I believe it really is because deref coercions changed
[13:06:34] <mkpankov> simple Vec<String> works
[13:06:37] <Fenhl> ChrisMorgan: it's still not entirely clear to me why this is needed, but it looks like it works
[13:06:54] <eddyb> mkpankov: changed when?
[13:07:07] <eddyb> DST was implemented, but that is not in 1.0
[13:07:08] <maximih> mkpankov: do you know the commit changing deref coercions?
[13:07:10] <Fenhl> (I'll have to fix a couple other compile errors first to be sure)
[13:07:12] <eddyb> or is it?
[13:07:15] *** Joins: tadh (quassel@moz-iq6hhs.biz.rr.com)
[13:07:25] <ChrisMorgan> Fenhl: just as you need to box the IntoIterator trait object because it could be of many different types, you need to box the Iterator trait object because it could be of many different types.
[13:07:27] <mkpankov> I don't know, this is just wild guess
[13:07:34] *** Joins: BageDev (BageDevimo@moz-og7.cn8.251.116.IP)
[13:07:50] <BageDev> Hey, anyone got any idea how I can set SO_REUSEPORT on a UDP socket?
[13:07:54] <mkpankov> it's just that Vec<&String> doesn't match Vec<String> somehow
[13:07:58] <eddyb> just find the damn changelog :P
[13:08:00] <mkpankov> anymore
[13:08:01] <ChrisMorgan> Fenhl: IntoIterator doesnâ€™t give you that power; it produces concrete types rather than a boxed trait object, Box<Iterator>, which is what you need.
[13:08:08] <eddyb> mkpankov: it never did
[13:08:12] *** Joins: tamird (textual@moz-gkumi9.dyn.optonline.net)
[13:08:26] *** Quits: colinsurprenant (colin@moz-e8e9v8.dedicated.allstream.net) (Client exited)
[13:08:27] <mkpankov> eddyb: it works in beta.3 or nightly at playpen
[13:08:28] <maximih> eddyb: I cannot find it :)
[13:08:33] <ChrisMorgan> Fenhl: IntoBoxIterator is the glue that allows you to provide, for every type implementing IntoIterator, a method that produces the boxed trait object you need.
[13:08:40] <mkpankov> eddyb: I linked it above
[13:08:51] *** Joins: lyc (lyc@moz-jft.nr8.226.207.IP)
[13:08:55] * eddyb unpacks his laptop
[13:09:20] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[13:09:48] *** Joins: eddyb_ (eddyb@moz-egg.q07.26.188.IP)
[13:10:24] *** Joins: fyolnish (fyolnish@moz-8c3d0f.au-net.ne.jp)
[13:10:25] *** Joins: sin8h (Adium@moz-f0u.cn5.51.106.IP)
[13:10:32] <eddyb_> https://github.com/rust-lang/rust/commit/f245929834543ca9a00278827a82d29ae3b2770f
[13:10:34] *** Quits: Wild_Cat (Max@moz-fa8mvt.dsl.teksavvy.com) (Connection closed)
[13:10:52] <eddyb_> 10 seconds after opening https://github.com/rust-lang/rust/commits/beta
[13:10:57] <Fenhl> ChrisMorgan: and iiuc, requiring that each implementation of my trait return a specific iterable type from its `operators` method, so that it can use static dispatch, is not currently possible?
[13:11:08] *** Joins: ConnorDoyle (ConnorDoyle@moz-edrulj.static.monkeybrains.net)
[13:11:22] <eddyb_> so concat/connect changed the set of types they work on
[13:11:52] *** Joins: amukiza (user@moz-gvv.fcf.125.189.IP)
[13:11:57] <ChrisMorgan> Fenhl: if you never wish to use it in a trait object, then it is easily possibleâ€”thatâ€™s the very thing that IntoIterator does, for example.
[13:12:00] <eddyb_> this should have been detected as a regression
[13:12:25] <ChrisMorgan> Fenhl: itâ€™s when you want to use trait objects that you need to start worrying about this sort of glue.
[13:13:01] *** Joins: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net)
[13:13:23] <maximih> eddyb: multumesc :P
[13:13:26] <amukiza> when will the alapha-5 brew formula be published? I am on alpha-4 and I was curious to upgrade but it seems like the alpha-5 formula is not available yet. 
[13:13:33] *** Joins: manenko_ (manenko@moz-7ql.lk1.111.213.IP)
[13:13:54] <maximih> eddyb: what to do about it?
[13:13:58] <Fenhl> ChrisMorgan: well I will have to use the trait in a trait object at some point, because I'm sending it over channels
[13:14:03] <eddyb_> maximih: y u Romanian
[13:14:07] *** Joins: joel1 (joel@moz-6ampnk.gtri.gatech.edu)
[13:14:10] *** Joins: jophish (jophish@moz-epocft.broadband.tesco.net)
[13:14:14] *** Joins: Rym______ (y@moz-dhb.0vk.38.217.IP)
[13:14:15] <eddyb_> maximih: still trying to find whether it's an intentional regression or not
[13:14:27] *** Quits: fyolnish (fyolnish@moz-8c3d0f.au-net.ne.jp) (Ping timeout: 121 seconds)
[13:14:29] <ChrisMorgan> Fenhl: then using a thing like this IntoBoxIterator is probably what you want.
[13:14:41] *** Joins: dschatzberg (dschatz@moz-nk1clf.bu.edu)
[13:14:51] *** Joins: fabianvf (fabianvf@moz-j12.dim.197.216.IP)
[13:15:01] <Fenhl> now to make my trait object safeâ€¦
[13:15:23] *** Joins: anom (anhedonia@moz-qpd.aq7.187.37.IP)
[13:15:24] <eddyb_> maximih: https://github.com/rust-lang/rust/pull/25162
[13:15:45] *** Quits: ConnorDoyle (ConnorDoyle@moz-edrulj.static.monkeybrains.net) (Ping timeout: 121 seconds)
[13:15:49] *** Joins: fyolnish (fyolnish@moz-8c3d0f.au-net.ne.jp)
[13:15:52] <eddyb_> maximih: anyways, you should have &str, not &String (the latter is an antipattern)
[13:16:03] *** Joins: grantdefayette (grantdefaye@moz-c2phg3.ct.charter.com)
[13:16:38] *** Quits: BageDev (BageDevimo@moz-og7.cn8.251.116.IP) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[13:16:57] *** Joins: zcourts (zcourts@moz-7ms809.cable.virginm.net)
[13:17:41] *** Quits: casey (casey@moz-v0ns05.tpgi.com.au) (Connection closed)
[13:18:44] *** Joins: larhat (Adium@moz-egv.ld6.128.213.IP)
[13:18:50] *** Quits: Rym______ (y@moz-dhb.0vk.38.217.IP) (Ping timeout: 121 seconds)
[13:19:54] *** Quits: fyolnish (fyolnish@moz-8c3d0f.au-net.ne.jp) (Ping timeout: 121 seconds)
[13:20:07] *** Quits: larhat (Adium@moz-egv.ld6.128.213.IP) (Quit: Leaving.)
[13:20:14] *** Joins: nano (nano@moz-00j6et.dynamic.kabel-deutschland.de)
[13:21:18] *** Joins: fyolnish (fyolnish@moz-8c3d0f.au-net.ne.jp)
[13:21:42] *** Joins: mugen (Mibbit@moz-o5920d.fios.verizon.net)
[13:23:15] *** Joins: freiguy1 (Mibbit@moz-pk0.3db.236.192.IP)
[13:23:19] *** Quits: owickstrom (owickstrom@moz-dq04n8.bredband.comhem.se) (Ping timeout: 121 seconds)
[13:25:01] <dschatzberg> where can I read about RUST_PATH and the meaning of other env variables?
[13:25:21] *** Quits: fyolnish (fyolnish@moz-8c3d0f.au-net.ne.jp) (Ping timeout: 121 seconds)
[13:26:02] *** Quits: logan_e (logan_e@moz-mpr4r7.lsrhs.net) (Client exited)
[13:26:03] <mugen> hello! I have a dumb question but I can't figure it out...
[13:26:22] <mugen> I can't manage to use try!... like in 'try!(File::create("foo.txt"));'
[13:26:32] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[13:26:44] <mugen> <std macros>:5:8: 6:42 error: mismatched types:  expected `()`,     found `core::result::Result<_, _>` (expected (),     found enum `core::result::Result`) [E0308]
[13:26:56] *** Quits: Hannibal_Smith (nico@moz-hacth9.retail.telecomitalia.it) (Quit: Leaving)
[13:26:59] *** Joins: Lilly (Lilly@moz-pfkvo9.bredband.comhem.se)
[13:27:11] <tilpner> mugen - Your function must return Result<...>.
[13:27:20] *** Quits: vmeson (rmacleod@moz-hs5cri.cable.teksavvy.com) (Ping timeout: 121 seconds)
[13:27:36] *** Joins: geri (Mibbit@moz-8hb0t5.highway.telekom.at)
[13:27:39] <tilpner> mugen - (The containing function, that is)
[13:27:39] <geri> hi
[13:27:49] <tilpner> mugen - Look at the expansion of try! to understand why this is needed.
[13:27:52] <geri> how can i cross compile my executable for arm?
[13:29:00] <maximih> eddyb: thanks. I changed to &str and it was a small change after all. somehow it only broke one use of connect in my code, even if I use it a lot
[13:29:03] *** Joins: dinfuehr (dinfuehr@moz-vjrefd.highway.telekom.at)
[13:30:01] <tilpner> mugen - http://doc.rust-lang.org/nightly/std/macro.try!.html
[13:30:04] <mugen> but fn create<P: AsRef<Path>>(path: P) -> Result<File>
[13:30:11] <mugen> return a Result no?
[13:30:45] *** Joins: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp)
[13:30:47] <tilpner> It seems so. Do you maybe have a semicolon after the try!?
[13:30:56] <tilpner> Ehh..
[13:31:07] <tilpner> That's nonsense, that can't affect it.
[13:31:12] <VShell> oh.
[13:31:18] <tilpner> mugen - How about you show the whole function?
[13:31:43] <mugen> sure, that's very simple
[13:31:44] <VShell> mugen: the function you're using try!() in has to return Result, *and* the function you call inside try!() has to return Result.
[13:31:45] <mugen> fn main() {   try!(File::create("foo.txt")); }
[13:32:03] <tilpner> mugen - main doesn't return a Result.
[13:32:40] *** Joins: essem2 (Thunderbird@moz-0g3v4k.biz.rr.com)
[13:32:47] <freiguy1> mugen: in main, you actually need to handle errors.  They can't possibly bubble up any higher. main() is where you decided what to do when something breaks @ runtime.
[13:32:57] * tilpner misread the function signature above. :S
[13:33:01] *** Joins: slomo (slomo@moz-p8m0g2.net)
[13:33:06] *** Joins: d_rezzer (chatzilla@moz-t0fmuj.hfc.comcastbusiness.net)
[13:33:48] *** Quits: amukiza (user@moz-gvv.fcf.125.189.IP) (Ping timeout: 121 seconds)
[13:34:28] <freiguy1> mugen: decide*
[13:34:40] <VShell> mugen: http://is.gd/qth9pi for example, works.
[13:34:40] <mugen> ok thanks that kind of make sense
[13:34:50] *** Quits: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp) (Ping timeout: 121 seconds)
[13:34:58] *** Quits: simonoram (simonoram@moz-pllbvg.cable.virginm.net) (Client exited)
[13:36:06] *** Joins: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp)
[13:36:37] *** Joins: asQuirreL (asQuirreL@moz-hr018k.oxuni.org.uk)
[13:36:41] *** Joins: larhat (Adium@moz-egv.ld6.128.213.IP)
[13:37:14] <eddyb_> so sad fn main() -> Result<...> didn't make it into 1.0
[13:37:15] <mugen> ah amazing!
[13:37:35] <eddyb_> or 1.1 for that matter
[13:37:46] *** Quits: larhat (Adium@moz-egv.ld6.128.213.IP) (Quit: Leaving.)
[13:38:09] <mugen> eddyb_: just out of curiosity what would it change?
[13:38:12] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Connection closed)
[13:38:22] <VShell> eddyb_: it really feels like it should, it's ergonomically weird for smaller programs as it is now.
[13:38:39] <SneakySnake> Would it panic if the result was Err or just print the error to stderr and exit with non-zero exit status?
[13:39:00] <eddyb_> mugen: you'd design your application so that the standard library reports errors
[13:39:06] <eddyb_> and you just need to bubble them up
[13:39:16] *** Joins: gonzaloserrano1 (Adium@moz-1nv.3t7.97.62.IP)
[13:39:30] *** Quits: gonzaloserrano (Adium@moz-1nv.3t7.97.62.IP) (Ping timeout: 121 seconds)
[13:39:30] <eddyb_> for most small programs io::Result<()> could work
[13:39:56] <mkomitee> So try! In main?
[13:40:08] *** Quits: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp) (Ping timeout: 121 seconds)
[13:40:17] *** Joins: kgrandon (Adium@moz-i6u.sut.111.217.IP)
[13:40:36] *** Quits: dstrbad (dstrbad@moz-756bkd.cable.xnet.hr) (A TLS packet with unexpected length was received.)
[13:40:38] *** Joins: erz (erz@moz-8v4.af0.232.213.IP)
[13:41:27] *** Joins: acgtyrant_ (acgtyrant@moz-3kd.b79.160.124.IP)
[13:41:33] <SneakySnake> A main() -> ExitStatusInteger variant would also be nice
[13:41:54] <SneakySnake> set_exit_status might be removed, and exit() (or whatever it's called) doesn't unwind
[13:42:36] *** Joins: michaelcook (michaelcook@moz-7mekcv.range86-169.btcentralplus.com)
[13:42:49] *** Joins: simonoram (simonoram@moz-pllbvg.cable.virginm.net)
[13:42:52] <maximih> what is the easiest way to extract bubbled errors? e.g. extract Error 1 from Error3(Error2(Error1(String))) 
[13:43:02] <SneakySnake> panics suck for reporting errors to users
[13:43:04] <mkomitee> Is process::exit something to avoid?
[13:43:05] <freiguy1> i'm using nickel.rs and would like to get all my request handlers out of main(). Does anyone have an example of a site they're working on which is doing this?
[13:43:17] <SneakySnake> You usually want to print something informative to the user and return non-zero exit status
[13:43:24] <SneakySnake> Like "file doesn't exist" and exit with EXIT_FAILURE
[13:43:28] <steveklabnik> mkomitee: not inherently. it depends on what happens with destructors, and if that's important for you
[13:43:28] <geri> how can i cross compile my executable for arm?
[13:43:33] <SneakySnake> Instead of "MAIN PANICKED AT SOMEERROR"
[13:43:46] *** Quits: mkpankov (user@moz-nleeis.partnertech.ru) (Ping timeout: 121 seconds)
[13:44:07] *** Joins: harrisonclarke (harrisoncla@moz-th044a.ns.bellaliant.net)
[13:44:19] <mkomitee> So when you say it doesn't unwind,that means some destructors may not be called?
[13:44:19] *** Quits: mugen (Mibbit@moz-o5920d.fios.verizon.net) (Quit: http://www.mibbit.com ajax IRC Client)
[13:44:28] <SneakySnake> No destructors are called
[13:44:35] <SneakySnake> It just terminates the program
[13:44:35] *** Quits: ecogiko (ecogiko@moz-p59qrv.chello.nl) (Quit: leaving)
[13:44:38] <freiguy1> geri: https://github.com/japaric/ruststrap/blob/master/1-how-to-cross-compile.md comes from googling
[13:44:46] *** Quits: LRN (LRN@moz-63ipbh.nationalcablenetworks.ru) (Ping timeout: 121 seconds)
[13:45:16] *** Joins: irc (irc@moz-hgi.ls4.166.188.IP)
[13:45:21] *** irc is now known as martinhath
[13:45:22] <mkomitee> K. So if you need to release some resources that exist outside the running program (email.g. Not memory or open files) avoid exit.
[13:45:40] *** Joins: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp)
[13:45:44] *** Quits: acgtyrant_ (acgtyrant@moz-3kd.b79.160.124.IP) (Quit: å •å…¥ /dev/null)
[13:46:13] <mkomitee> Email.g -> e.g.
[13:46:20] <Fenhl> according to https://github.com/rust-lang/rfcs/blob/master/text/0255-object-safety.md to make my trait object save it must not require Self: Sized, how do I achieve this?
[13:46:21] <mkomitee> Autocorrect
[13:46:33] *** Quits: acgtyrant (acgtyrant@moz-3kd.b79.160.124.IP) (Quit: å •å…¥ /dev/null)
[13:46:35] <SneakySnake> If you rely on destructors being run for a clean exit, then don't use std::process::exit
[13:46:52] *** Joins: wikkit (Mibbit@moz-tth.gu9.10.60.IP)
[13:46:56] <mkomitee> What's the right way to exit nonzero?
[13:47:08] <SneakySnake> Or put everything in a new scope in main and put exit below that block
[13:47:10] <SneakySnake> But that's ugly
[13:47:30] <SneakySnake> There needs to be a convenient way to exit with a non-zero status and have destructors run properly
[13:47:31] <rkruppe> Fenhl: You read that wrong, if the method required Self : Sized, it *is* object safe (because then it's unavailable for trait methods)
[13:48:02] <Fenhl> rkruppe: > A trait is object-safe if all of the following conditions hold: all of its methods are object-safe; and, the trait does not require that Self : Sized (see also RFC 546).
[13:48:39] *** Joins: mkpankov (user@moz-h0n.sma.198.91.IP)
[13:49:16] *** Quits: wikkit (Mibbit@moz-tth.gu9.10.60.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[13:49:43] *** Quits: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp) (Ping timeout: 121 seconds)
[13:49:48] <Fenhl> specifically, I'm getting the following error:
[13:50:11] <Fenhl> https://www.irccloud.com/pastebin/pETyUK7C
[13:51:00] *** Joins: acgtyrant (acgtyrant@moz-3kd.b79.160.124.IP)
[13:51:17] *** Joins: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp)
[13:51:22] <rkruppe> Fenhl: Oh, I thought you were talking about methods. What's the definition of that trait?
[13:52:41] <Fenhl> rkruppe: https://www.irccloud.com/pastebin/G2JF92kW/context.rs
[13:52:55] *** Quits: bharadwaj (bharadwaj@moz-sd6.35d.72.182.IP) (Quit: Leaving...)
[13:53:00] *** Quits: harrisonclarke (harrisoncla@moz-th044a.ns.bellaliant.net) (Connection closed)
[13:53:43] <rkruppe> Fenhl: That trait is not object safe because Clone is not (clone returns Self)
[13:54:13] *** Quits: larhat1 (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[13:54:14] <geri> how can i cross compile my executable for arm?
[13:54:15] *** Joins: Rym______ (y@moz-dhb.0vk.38.217.IP)
[13:54:39] <mkpankov> geri try --target
[13:54:50] *** Joins: owickstrom (owickstrom@moz-dq04n8.bredband.comhem.se)
[13:54:51] <geri> mpark: have you tried it?
[13:55:00] *** Joins: dstrbad (dstrbad@moz-84igdg.dsl.iskon.hr)
[13:55:07] <mkpankov> me? no I didn'y
[13:55:20] *** Quits: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp) (Ping timeout: 121 seconds)
[13:55:20] *** Quits: maraoz (maraoz@moz-7fc9s6.fibertel.com.ar) (Quit: Leaving)
[13:55:34] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[13:56:01] <Fenhl> rkruppe: ah, I guess I'll have to replace it with a type ClonedContext<C: Context>
[13:58:06] *** Joins: blaphmat (Mibbit@moz-tdl875.rim.net)
[13:58:26] *** Quits: blaphmat (Mibbit@moz-tdl875.rim.net) (Quit: http://www.mibbit.com ajax IRC Client)
[13:59:14] *** Quits: Rym______ (y@moz-dhb.0vk.38.217.IP) (Ping timeout: 121 seconds)
[13:59:55] *** Joins: harrisonclarke (harrisoncla@moz-th044a.ns.bellaliant.net)
[14:00:31] *** Joins: i0n_ (i0n_@moz-kpda3t.liwest.at)
[14:00:44] *** Joins: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp)
[14:01:02] *** Joins: duesenfranz_ (jona@moz-711djm.tirol.surfer.at)
[14:02:21] *** Joins: maraoz (maraoz@moz-7fc9s6.fibertel.com.ar)
[14:03:24] *** Quits: manenko_ (manenko@moz-7ql.lk1.111.213.IP) (Quit: Leaving)
[14:03:31] *** Joins: manenko_ (manenko@moz-7ql.lk1.111.213.IP)
[14:04:36] *** Joins: willem (willem@moz-facs2s.dynamic.upc.nl)
[14:04:46] *** Quits: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp) (Ping timeout: 121 seconds)
[14:04:58] *** Quits: jethrogb (jethrob@moz-p2iedd.scintilla.utwente.nl) (Ping timeout: 121 seconds)
[14:05:51] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[14:05:58] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[14:06:02] *** Joins: KLP (KLP@moz-qdcjho.res.rr.com)
[14:06:10] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Connection closed)
[14:06:22] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[14:06:45] *** manenko_ is now known as manenko
[14:07:23] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Connection closed)
[14:07:43] *** Quits: demilux (demilux@moz-73qa6c.wa.comcast.net) (A TLS packet with unexpected length was received.)
[14:07:51] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Connection closed)
[14:07:56] *** Joins: codey (codey@moz-56j.l9j.221.101.IP)
[14:08:07] *** Joins: demilux (demilux@moz-73qa6c.wa.comcast.net)
[14:08:09] *** Quits: manenko (manenko@moz-7ql.lk1.111.213.IP) (Quit: Leaving)
[14:08:18] *** Joins: manenko (manenko@moz-7ql.lk1.111.213.IP)
[14:08:42] *** Quits: manenko (manenko@moz-7ql.lk1.111.213.IP) (Quit: Leaving)
[14:08:54] *** Joins: manenko (manenko@moz-7ql.lk1.111.213.IP)
[14:09:22] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[14:09:22] *** ChanServ sets mode: +o erickt
[14:09:33] *** Joins: LRN (LRN@moz-63ipbh.nationalcablenetworks.ru)
[14:09:37] *** Quits: Uther (Thunderbird@moz-gssp49.fbx.proxad.net) (Ping timeout: 121 seconds)
[14:10:06] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[14:10:20] *** Joins: happy-dude_ (uid62780@moz-jt3517.charlton.irccloud.com)
[14:10:32] *** Joins: skade (skade@moz-m9ib3m.pools.vodafone-ip.de)
[14:11:03] *** Joins: housl (housl@moz-qnjt4k.ut.comcast.net)
[14:11:12] *** Joins: mnemnion (mnemnion@moz-kf3boi.ca.comcast.net)
[14:11:29] *** Joins: bjz (bjz@moz-puppgq.tpgi.com.au)
[14:11:37] *** Quits: erz (erz@moz-8v4.af0.232.213.IP) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[14:11:44] *** Quits: manenko (manenko@moz-7ql.lk1.111.213.IP) (Quit: Leaving)
[14:11:53] *** Joins: manenko (manenko@moz-7ql.lk1.111.213.IP)
[14:12:10] <codey> hi, is mozilla taking part as an org in google summer of code 2016 ?
[14:12:42] <Mutabah> codey: Not really the right channel for that
[14:13:11] *** Joins: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP)
[14:13:12] *** Joins: psy (psy@moz-b08.ntd.6.103.IP)
[14:13:37] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[14:13:53] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[14:14:16] *** Joins: Guest22 (textual@moz-jt9juk.fibertel.com.ar)
[14:14:25] *** Joins: adjivas (adjivas@moz-dkh.lpf.210.62.IP)
[14:14:32] <FreeFull> codey: I think Mozilla wasn't accepted this year
[14:15:01] *** Quits: mou (donwilliam@moz-lq9kg8.cpe.webspeed.dk) (Ping timeout: 121 seconds)
[14:15:12] *** Quits: alexherbo2 (alex@moz-m1s.bcu.100.89.IP) (Quit: WeeChat 1.1.1)
[14:15:21] *** Joins: slomo_ (slomo@moz-p8m0g2.net)
[14:15:37] <adjivas> Hi @all! There are a good Rust's library for record sound?
[14:15:47] *** Joins: new_one (new_one@moz-u2j.9e1.42.128.IP)
[14:16:45] *** Quits: emilk (emilk@moz-eossn5.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[14:17:07] *** Joins: mou (donwilliam@moz-lq9kg8.cpe.webspeed.dk)
[14:17:24] <codey> Mutabah: Can you direct me to the appropriate channel for those discussions ?
[14:17:26] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[14:17:52] <Mutabah> codey: No idea
[14:18:15] *** Quits: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP) (Ping timeout: 121 seconds)
[14:18:18] *** Joins: casey (casey@moz-v0ns05.tpgi.com.au)
[14:18:36] *** Quits: slomo (slomo@moz-p8m0g2.net) (Ping timeout: 121 seconds)
[14:19:01] <dschatzberg> where can I figure out what RUST_PATH does?
[14:19:05] *** Quits: KLP (KLP@moz-qdcjho.res.rr.com) (Quit: http://www.kiwiirc.com/ - A hand crafted IRC client)
[14:19:14] *** Joins: emilk (emilk@moz-eossn5.cust.bredbandsbolaget.se)
[14:19:20] <geofft> codey: I don't _think_ this is the wrong channel, but I sorta suspect you'll want to wait until folks from Mozilla HQ in California are online 
[14:19:21] <hoverbear> So, TOMORROW?!?!?!?
[14:19:55] *** Quits: mindtree (Mitch@moz-rchrgl.iprimus.net.au) (Ping timeout: 121 seconds)
[14:20:22] *** Joins: jdm (jdm@moz-js24q5.ckpj.s0pt.0450.2001.IP)
[14:20:22] *** ChanServ sets mode: +o jdm
[14:20:33] *** Quits: wtw (wtw@moz-tpvltk.org) (Ping timeout: 121 seconds)
[14:20:36] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[14:20:48] <tilpner> adjivas - Maybe https://crates.io/crates/sound_stream ?
[14:21:11] *** Quits: zulmin (quassel@moz-i3mt4v.serverprofi24.net) (Ping timeout: 121 seconds)
[14:21:24] *** Joins: lutter1 (lutter@moz-7v7ueu.PUBLIC.monkeybrains.net)
[14:22:21] *** Quits: casey (casey@moz-v0ns05.tpgi.com.au) (Ping timeout: 121 seconds)
[14:22:23] <adjivas> tilpner: Thank you :-.) !
[14:22:25] *** Quits: Gabriel_7 (Gabriel@moz-qvum64.mtgr.92aj.0e35.2a01.IP) (Ping timeout: 121 seconds)
[14:22:34] *** Quits: maraoz (maraoz@moz-7fc9s6.fibertel.com.ar) (Connection closed)
[14:23:13] <grantdefayette> hoverbear: they should be on in an hour or so
[14:23:31] *** Joins: vmeson (rmacleod@moz-hs5cri.cable.teksavvy.com)
[14:23:35] *** Joins: maraoz (maraoz@moz-7fc9s6.fibertel.com.ar)
[14:24:08] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[14:24:47] *** Quits: ptalbot (ptalbot@moz-1gn7gb.eu0n.jcdj.0660.2001.IP) (Ping timeout: 121 seconds)
[14:24:47] <hoverbear> grantdefayette: No no no.... Tomorrow is stable day.
[14:25:08] <hoverbear> steveklabnik: Are you in contractions yet!?!?!
[14:25:17] <hoverbear> Wait, who is Rust's mom?
[14:25:25] *** Quits: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net) (A TLS packet with unexpected length was received.)
[14:25:39] <nathan7> me
[14:26:14] *** Joins: zulmin (quassel@moz-i3mt4v.serverprofi24.net)
[14:26:17] *** Joins: Rym______ (y@moz-dhb.0vk.38.217.IP)
[14:26:29] *** Quits: jeffasinger (jeff@moz-jeubl6.res.rr.com) (Client exited)
[14:27:50] *** Quits: jdm (jdm@moz-js24q5.ckpj.s0pt.0450.2001.IP) (Quit: )
[14:28:01] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[14:28:11] *** Quits: andre_ (andre@moz-rnd.3qv.76.201.IP) (Quit: leaving)
[14:28:12] *** Quits: mvyskocil (mvyskocil@moz-1fo.p0p.7.31.IP) (Ping timeout: 121 seconds)
[14:28:24] *** Joins: wtw (wtw@moz-tpvltk.org)
[14:28:26] *** Quits: emilk (emilk@moz-eossn5.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[14:28:27] *** Joins: andre_ (andre@moz-rnd.3qv.76.201.IP)
[14:28:38] *** Joins: jshs (jshs@moz-bafoi9.dip0.t-ipconnect.de)
[14:29:11] *** Quits: mkpankov (user@moz-h0n.sma.198.91.IP) (Ping timeout: 121 seconds)
[14:29:13] *** Joins: jeffasinger (jeff@moz-jeubl6.res.rr.com)
[14:29:54] <woboats> http://is.gd/Yl8ZwZ I didn't expect this to compile, why does it?
[14:30:15] <woboats> (That is, why doesn't the impl Foo for Baz conflict with the impl !Foo for Bar)
[14:30:37] *** Joins: rkruppe_ (chatzilla@moz-3nj.rnu.131.95.IP)
[14:30:55] <Fenhl> can we have `impl FromIterator<()> for ()` please? I want to be able to write `x.collect::<Result<(), Err>>()` if `x: Iterator<Item=Result<(), Err>>`
[14:31:07] *** Joins: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP)
[14:31:07] *** Joins: mvyskocil (mvyskocil@moz-1fo.p0p.7.31.IP)
[14:31:13] <kimundi> woboats: YOur code seems to behave correctly
[14:31:30] <woboats> kimundi, why?
[14:32:12] <woboats> What are the rules that make line 7 & 10 not conflict?
[14:32:15] *** Quits: skade (skade@moz-m9ib3m.pools.vodafone-ip.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[14:32:20] *** Joins: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net)
[14:32:37] *** Quits: wei2912 (wei2912@moz-5rs.krr.156.175.IP) (Quit: Lost terminal)
[14:32:39] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Ping timeout: 121 seconds)
[14:32:47] *** Quits: anom (anhedonia@moz-qpd.aq7.187.37.IP) (Ping timeout: 121 seconds)
[14:32:48] *** Joins: debu (debu@moz-6momm3.adsl.alicedsl.de)
[14:32:48] *** rkruppe_ is now known as rkruppe
[14:32:51] *** Quits: ryanhiebert (ryanhiebert@moz-nsd5kl.ks.cox.net) (Connection closed)
[14:32:58] <kimundi> woboats: Your trait Foo is implemented for all types due to `impl Foo for ..`. The exception are types that opt out of it, like `impl !Foo for Bar`. Because Bar does not implement Foo, neither does Baz. But then you opt-in to Baz implementing Foo again.
[14:33:05] <FreeFull> Fenhl: You could use a .fold instead
[14:33:32] *** Quits: dinfuehr (dinfuehr@moz-vjrefd.highway.telekom.at) (Connection closed)
[14:33:36] <Fenhl> FreeFull: sure but that seems less readable
[14:33:54] <woboats> kimundi, what's the motivation for allowing something with a !Foo member to impl Foo?
[14:34:20] <kimundi> woboats: Motivation is to enable both opt-out and opt-in
[14:34:38] <FreeFull> playbot: vec![Ok(()), Err("Oh no"), Ok(())].into_iter().fold(Ok(()), Result::and)
[14:34:39] -playbot- Err("Oh no")
[14:34:41] *** Joins: ehiggs (ehiggs@moz-939f42.1fqp.rav1.1812.2a02.IP)
[14:34:52] *** Joins: saterus (saterus@moz-o0ug28.res.rr.com)
[14:35:05] *** Joins: colinsurprenant (colin@moz-rmn4e2.169.electronicbox.net)
[14:35:10] *** Quits: mvyskocil (mvyskocil@moz-1fo.p0p.7.31.IP) (Ping timeout: 121 seconds)
[14:35:16] <woboats> kimundi, I don't understand what you mean by that.
[14:35:18] *** Joins: espadrine (tyl@moz-l019mn.fbx.proxad.net)
[14:35:32] <FreeFull> Fenhl: I suppose the disadvantage is it goes through the whole iterator
[14:35:53] *** Joins: __mark__ (mark@moz-udut16.dynamic.chello.pl)
[14:36:23] <duesenfranz_> woboats: Say you have a type that contains something !Sync, but you take precautions so that your type is, in fact, Sync
[14:36:33] <kimundi> woboats: As an example, raw pointers like *const T in Rust are not Send, because the compiler can not gurantee that they are safe to send across threads. But Box<T> is Send, because it owns the allocation and depsite containing a raw pointer.
[14:36:42] *** Joins: mvyskocil (mvyskocil@moz-1fo.p0p.7.31.IP)
[14:36:46] <woboats> I see.
[14:37:37] <kimundi> woboats: If it would be unsafe to just implement the trait even a member doesn'T, then you could make the trait a unsafe trait
[14:37:50] <geri> You can cross compile the ARM version of std and friends from Rust's source code ? will i need to close the rust repo?
[14:37:59] <Fenhl> FreeFull: that too
[14:38:00] <geri> clone
[14:38:00] <woboats> I'm not trying to implement anything in particular, I'm just exploring the type system.
[14:38:05] <ehiggs> are any nix-rust developers here? I'm curious if there is a way to use sigprocmask or sigpending and the like from nix-rust. maybe there's a way to do it w/o direct calls to those functions(?)
[14:38:09] <dschatzberg> can anyone explain the purpose of RUST_PATH?
[14:38:55] <Fenhl> FreeFull: what do you think, should I write a RFC?
[14:38:58] <eddyb_> is it even a thing?
[14:39:16] <FreeFull> Fenhl: I have no idea about the process for a simple addition like this
[14:40:45] *** Quits: mvyskocil (mvyskocil@moz-1fo.p0p.7.31.IP) (Ping timeout: 121 seconds)
[14:41:12] *** Joins: mvyskocil (mvyskocil@moz-1fo.p0p.7.31.IP)
[14:41:23] *** Joins: fjh (fjh@moz-mof4p1.62vh.lq23.04f8.2a01.IP)
[14:41:46] <Fenhl> FreeFull: afaik it requires an RFC because it's an addition to std
[14:41:56] *** Joins: Church (hatter@moz-7jrea0.dyn.optonline.net)
[14:43:02] <geri> https://github.com/japaric/ruststrap/blob/master/1-how-to-cross-compile.md ... "You can cross compile the ARM version of std and friends from Rust's source code" ... will i need to clone the rust repo?
[14:43:06] *** Quits: Matthias247 (Miranda@moz-49li60.hsi14.kabel-badenwuerttemberg.de) (Connection closed)
[14:43:15] <geri> how to get 1.0?
[14:44:50] *** Joins: anom (anhedonia@moz-r4sqrm.tor.camolist.com)
[14:44:51] *** Joins: IslandUsurper (lyle@moz-t0bu9n.lsvlky.sbcglobal.net)
[14:45:28] <Aaron> Hi question: is there anything similar to std::thread::catch_panic in stable/beta rust?
[14:45:41] *** Joins: jethrogb (jethrob@moz-p2iedd.scintilla.utwente.nl)
[14:46:05] <SneakySnake> geri: Yes, you need to clone the rust repo to get the source code, unless there is a source tarball distribution on the website
[14:46:28] <Aaron> I want to invoke some behaviour if a detached thread panics... My best guess right now is to spawn a second detaching thread that runs/joins the actual worker thread.
[14:46:40] <SneakySnake> geri: To get the latest stable version, check out the `stable` branch.
[14:46:43] *** Quits: mvyskocil (mvyskocil@moz-1fo.p0p.7.31.IP) (Ping timeout: 121 seconds)
[14:47:04] <SneakySnake> Which makes me think. Shouldn't releases be tagged? I don't see a 1.0 tag
[14:48:04] <jshs> SneakySnake: https://internals.rust-lang.org/t/release-channels-git-branching-and-the-release-process/1940
[14:48:29] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Connection closed)
[14:48:35] *** Joins: blaztinn_ (blaztinn@moz-7sp886.dynamic.t-2.net)
[14:48:39] *** Quits: blaztinn_ (blaztinn@moz-7sp886.dynamic.t-2.net) (Client exited)
[14:50:08] <geri> SneakySnake: git clone ... && git checkout stable  ?
[14:50:16] *** Joins: mvyskocil (mvyskocil@moz-1fo.p0p.7.31.IP)
[14:50:18] <SneakySnake> geri: I think so.
[14:50:46] *** Joins: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp)
[14:50:56] *** Joins: irobevjodu (irobevjodu@moz-5bq.k90.254.5.IP)
[14:51:07] *** Quits: anom (anhedonia@moz-r4sqrm.tor.camolist.com) (Ping timeout: 121 seconds)
[14:51:48] <Aaron> Oh wait, I can just make a RAII guard thing that checks thread::panicking on drop... That sound right?
[14:52:03] *** Joins: jedireza (jedireza@moz-6un.7si.9.216.IP)
[14:52:07] *** Quits: slomo_ (slomo@moz-p8m0g2.net) (Quit: Ex-Chat)
[14:52:42] <SneakySnake> jshs: Doesn't that post say that when beta is force pushed to stable that point gets tagged? So the 1.0.0 tag should exist by now
[14:53:10] <jshs> according to "The release process, outlined", 1.0 is tagged on stable right after distribution
[14:54:12] *** Quits: asQuirreL (asQuirreL@moz-hr018k.oxuni.org.uk) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[14:54:15] <SneakySnake> Oh, so it will get tagged once the 1.0.0 release is available on the website?
[14:54:19] *** Quits: mvyskocil (mvyskocil@moz-1fo.p0p.7.31.IP) (Ping timeout: 121 seconds)
[14:54:27] *** Joins: cods (fred@moz-g6qd4k.net)
[14:54:31] *** Joins: mkpankov (mkpankov@moz-let.mc3.79.185.IP)
[14:54:32] <mbrubeck> Firefox tags things with e.g. FIREFOX_37.0_BUILD1 at build time, and then FIREFOX_37.0_RELEASE once it's published.
[14:54:48] *** Quits: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp) (Ping timeout: 121 seconds)
[14:54:55] <mbrubeck> In case a problem is found between build and release that requires a new build from a different changeset.
[14:54:57] <geri> SneakySnake: is 1.0.0 stable already?
[14:55:00] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[14:55:10] *** Joins: panda (panda@moz-pi4pae.public.wayport.net)
[14:55:20] *** Joins: siddhartharao17 (uid57287@moz-opec5r.charlton.irccloud.com)
[14:55:27] <mbrubeck> geri: A release candidate build was created last night. apparently.
[14:55:31] <SneakySnake> geri: It's scheduled to be released tomorrow, which means the distribution should be building now
[14:55:37] <mbrubeck> It won't be released until tomorrow.
[14:56:05] *** Joins: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp)
[14:56:20] <geri> how is it different from the current dev. source ?
[14:56:29] <geri> dev branch
[14:56:42] <SneakySnake> You can do a diff on master and stable branches
[14:56:54] *** Joins: mvyskocil (mvyskocil@moz-1fo.p0p.7.31.IP)
[14:56:55] *** Quits: owickstrom (owickstrom@moz-dq04n8.bredband.comhem.se) (Ping timeout: 121 seconds)
[14:57:02] <mbrubeck> geri: 1.0 branched from master six weeks ago, and has had selected changes cherry-picked since then.
[14:57:04] *** Quits: shellac (textual@moz-9b49cr.cable.virginm.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[14:57:13] *** Quits: mkpankov` (mkpankov@moz-rl4.dee.149.83.IP) (Ping timeout: 121 seconds)
[14:57:19] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[14:57:31] <mbrubeck> So it's different by whatever landed in the last six weeks, minus the `beta-approved` commits that were backported.
[14:57:35] *** Quits: e_svedang (e_svedang@moz-p1r4ve.bredband.comhem.se) (Client exited)
[14:57:53] *** Quits: fluffi (Mibbit@moz-9o5r4v.mn.charter.com) (Quit: http://www.mibbit.com ajax IRC Client)
[14:57:58] *** Quits: Church (hatter@moz-7jrea0.dyn.optonline.net) (Ping timeout: 121 seconds)
[14:58:54] *** Joins: erz (erz@moz-imu.af0.232.213.IP)
[14:59:15] <jpg> Is there an immutable string type that implements Copy?
[14:59:16] *** Quits: nercury (nercury@moz-fbs.e0f.20.5.IP) (Client exited)
[14:59:22] *** Quits: acharles (acharles@moz-mi1459.static.qwest.net) (Client exited)
[14:59:48] *** Joins: shellac (textual@moz-9b49cr.cable.virginm.net)
[15:00:08] *** Quits: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp) (Ping timeout: 121 seconds)
[15:00:41] <kimundi> jpg: Well, strictly speaking `&str` fits that description, but I guess you want a owned one...?
[15:00:45] *** Joins: mib_nku13r (Mibbit@moz-ja070g.pools.vodafone-ip.de)
[15:00:59] *** Joins: Hannibal_Smith (nico@moz-hacth9.retail.telecomitalia.it)
[15:01:10] <jpg> kimundi: Well currently I am using String which is owned yeah.
[15:01:26] <jpg> I have a config file which I am serializing/deserializing using rustc_serialize.
[15:01:40] *** Quits: kgrandon (Adium@moz-i6u.sut.111.217.IP) (Quit: Leaving.)
[15:01:40] <jpg> I want to be able to share the config to a bunch of modules that spawn in different threads.
[15:01:44] <kimundi> owned Copy types which are complex enough to require heap allocations are usually the domain of garbage collection, so there isn't really something like this.
[15:01:45] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Connection closed)
[15:02:00] <jpg> kimundi: I thought as much. :(
[15:02:18] <jn> jpg: why do you need Copy?
[15:02:27] <jn> why isn't Clone enough?
[15:02:28] <kimundi> jpg: You might be able to use a Arena or string interner though to pass around & references as if they where owned directly
[15:02:38] *** Quits: thewonderidiot (thewonderid@moz-kif.10f.90.69.IP) (A TLS packet with unexpected length was received.)
[15:02:51] <kimundi> And yeah, if Clone is enough you could use Rc
[15:03:09] <jpg> Ok I will give Rc a go, cheers mate.
[15:03:09] *** Joins: Boscop (me@moz-7fq.k98.111.114.IP)
[15:03:56] *** Quits: eddyb (eddyb@moz-egg.q07.26.188.IP) (Connection closed)
[15:04:00] *** eddyb_ is now known as eddyb
[15:04:16] <jpg> kimundi: is Rc threadsafe?
[15:04:32] <FreeFull> Rc isn't, Arc is
[15:04:39] <kimundi> What FreeFull said
[15:04:53] <FreeFull> The compiler will prevent you from accidentally using Rc in an unsafe way though
[15:05:08] <jpg> Cheers
[15:05:14] *** Quits: manenko (manenko@moz-7ql.lk1.111.213.IP) (Quit: Leaving)
[15:05:18] *** Joins: sinma (sinma@moz-qqee5m.ev7h.paus.2040.2a03.IP)
[15:05:19] *** Joins: thewonderidiot (thewonderid@moz-hut8kq.hcoop.net)
[15:05:36] *** Joins: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp)
[15:05:49] *** Joins: mkpankov` (mkpankov@moz-j4f.dee.149.83.IP)
[15:06:30] *** Quits: jethrogb (jethrob@moz-p2iedd.scintilla.utwente.nl) (Ping timeout: 121 seconds)
[15:06:42] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[15:07:04] *** Quits: pylbrecht (pylbrecht@moz-b4nhkg.dynamic.kabel-deutschland.de) (Quit: goodbye)
[15:07:22] *** Quits: demilux (demilux@moz-73qa6c.wa.comcast.net) (A TLS packet with unexpected length was received.)
[15:07:33] *** Quits: mkpankov (mkpankov@moz-let.mc3.79.185.IP) (Ping timeout: 121 seconds)
[15:07:36] <geri> what is arm-unknown-linux-gnueabihf?
[15:07:37] *** Quits: envi_u (envi@moz-ih5.olo.169.121.IP) (Quit: )
[15:07:47] *** Joins: emilk (emilk@moz-eossn5.cust.bredbandsbolaget.se)
[15:07:49] <geri> on my unbuntu i use arm-linux-gnueabihf-gcc
[15:07:59] *** Joins: xyproto (alexander@moz-3vd7v3.members.linode.com)
[15:08:08] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[15:08:19] <xyproto> rust beta 5 is now available as an official Arch Linux package
[15:08:27] *** Quits: Boscop (me@moz-7fq.k98.111.114.IP) (Ping timeout: 121 seconds)
[15:08:28] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[15:08:55] <SneakySnake> So none of https://github.com/rust-lang/rust/milestones/1.0 are a backwards compatibility hazard?
[15:09:01] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[15:09:39] *** Quits: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp) (Ping timeout: 121 seconds)
[15:09:47] *** Quits: yuja (yuja@moz-kqflcs.so-net.ne.jp) (Ping timeout: 121 seconds)
[15:09:56] *** Quits: mkpankov` (mkpankov@moz-j4f.dee.149.83.IP) (Ping timeout: 121 seconds)
[15:09:56] <FreeFull> xyproto: Yeah, cargo isn't though
[15:10:50] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[15:10:56] <steveklabnik> SneakySnake: they shouldn't be, no
[15:11:17] *** Joins: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp)
[15:11:28] *** Joins: davebettin (davebettin@moz-l35chj.hfc.comcastbusiness.net)
[15:11:30] <steveklabnik> SneakySnake: we have special tags for backcompat issues, none of them have the tag
[15:11:39] *** Joins: frankmcs_ (frankmcsher@moz-dgbedl.adsl.alicedsl.de)
[15:12:01] <SneakySnake> In any case, those issues should probably be re-milestoned, since they didn't get finished in time for 1.0
[15:12:10] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Ping timeout: 121 seconds)
[15:12:18] *** Joins: kngl (Adium@moz-rmgnkh.dynamic.voo.be)
[15:12:37] <steveklabnik> the triage meeting is later today
[15:12:46] *** Quits: mib_nku13r (Mibbit@moz-ja070g.pools.vodafone-ip.de) (Quit: http://www.mibbit.com ajax IRC Client)
[15:12:46] *** Joins: envi_u (envi@moz-ih5.olo.169.121.IP)
[15:13:43] <tomaka> heh, still 24hours to fix everything
[15:13:54] *** Joins: mkpankov (mkpankov@moz-j4f.dee.149.83.IP)
[15:13:59] <steveklabnik> naw, the actual deadline was weds morning
[15:14:09] <steveklabnik> we have to do stuff like 'build the artifacts' and everything
[15:14:10] *** Quits: frankmcsherry (frankmcsher@moz-la1m3v.adsl.alicedsl.de) (Ping timeout: 121 seconds)
[15:14:10] <larhat> you know, those "quick fix" commits before deadline
[15:15:16] <xyproto> FreeFull: I'll consider adding cargo as well. It's a good idea.
[15:15:20] *** Quits: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp) (Ping timeout: 121 seconds)
[15:15:20] <Ms2ger> steveklabnik, how well automated is all that?
[15:16:06] <FreeFull> xyproto: I think the tendency is to include the package manager/build tool as a separate package
[15:16:08] *** Quits: codey (codey@moz-56j.l9j.221.101.IP) (Ping timeout: 121 seconds)
[15:16:08] <steveklabnik> right now, _fairly_ well, but not everything
[15:16:26] <steveklabnik> specifially, this is the first creation of the whole stable branch etc
[15:16:37] <steveklabnik> there's some manual steps involved at this point
[15:16:40] *** Joins: mkpankov` (mkpankov@moz-5kd.ou9.79.185.IP)
[15:16:45] <steveklabnik> within a cycle or two, it should be fully automated
[15:16:51] <xyproto> FreeFull: where can I find a download for the latest release of cargo? Or a beta release? I wish to avoid packaging a nightly build.
[15:16:59] *** Quits: emilk (emilk@moz-eossn5.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[15:17:16] <SneakySnake> The impact is imminent now
[15:17:21] <SneakySnake> Everyone should find shelter quick
[15:17:30] <jshs> i
[15:17:33] <jshs> oops
[15:17:40] *** Joins: mib_dkio56 (Mibbit@moz-0r0q6m.co.comcast.net)
[15:17:46] <XMPPwocky> i can only hope that when 1.0 comes out
[15:17:49] <xyproto> FreeFull: and I was thinking of a separate package for cargo, yes
[15:17:53] <XMPPwocky> somebody pastes an ascii train in this channel
[15:18:04] <XMPPwocky> with "ALL ABOARD THE RELEASE TRAIN" on it
[15:18:13] *** Quits: mkpankov (mkpankov@moz-j4f.dee.149.83.IP) (Ping timeout: 121 seconds)
[15:18:24] <steveklabnik> xyproto: right now, cargo doesn't really do numeric releases. 
[15:18:34] <Tiffany> I feel like bascule should get that honour, xmppwocky
[15:18:40] <Hannibal_Smith> My only hope at this point is that Mozilla don't do some strange move around Servo or Rust...anything else is following really well
[15:18:40] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[15:18:43] <xyproto> steveklabnik: ok, but when packaging cargo for a distro, which download should be chosen?
[15:18:54] <mib_dkio56> is may 15 still the date for release@
[15:18:59] <steveklabnik> xyproto: that is a good question. it's not stricly clear
[15:19:00] <steveklabnik> mib_dkio56: yes
[15:19:06] <geri> whats the difference between arm-linux-gnueabihf-gcc and arm-unknown-linux-gnueabihf?
[15:19:10] <FreeFull> xyproto: Maybe the best thing to do would be package the version of cargo that comes with the particular Rust release
[15:19:16] *** Quits: mvyskocil (mvyskocil@moz-1fo.p0p.7.31.IP) (Ping timeout: 121 seconds)
[15:19:52] *** Joins: kgrandon (Adium@moz-738vd0.nemh.1887.0450.2001.IP)
[15:19:56] *** Quits: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP) (A TLS packet with unexpected length was received.)
[15:20:06] <xyproto> FreeFull: maybe, but we have the policy of not overruling the decisions made by upstream. And upstream has chosen not to include cargo when doing a standard build of rust.
[15:20:07] <mib_dkio56> will they make the may 15 date?
[15:20:15] <steveklabnik> mib_dkio56: absolutely
[15:20:39] *** Joins: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp)
[15:20:41] *** Joins: jxcl_ (abliskovsky@moz-o4k.t5t.173.207.IP)
[15:20:59] *** Quits: mib_dkio56 (Mibbit@moz-0r0q6m.co.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[15:21:53] *** Joins: Boscop (me@moz-5ac.5rj.126.98.IP)
[15:22:05] <xyproto> FreeFull: if there was an actual release of cargo, or if cargo was included with rust by default, this would be unproblematic
[15:22:31] *** Joins: jxcl__ (abliskovsky@moz-o4k.t5t.173.207.IP)
[15:22:50] <FreeFull> xyproto: Cargo does come with Rust when you get the installer from the website for a stable version
[15:23:01] *** Quits: jxcl_ (abliskovsky@moz-o4k.t5t.173.207.IP) (Quit: Leaving)
[15:23:13] <xyproto> FreeFull: as far as I can tell, there is no stable version of Rust yet, only beta releases
[15:23:14] <steveklabnik> yeah, it's a particular nightly, not a numeric release
[15:23:23] *** Quits: jxcl__ (abliskovsky@moz-o4k.t5t.173.207.IP) (Quit: Leaving)
[15:23:37] <xyproto> steveklabnik: what is your advice, would it be better to just package a nightly release of cargo, for now?
[15:24:41] *** Quits: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp) (Ping timeout: 121 seconds)
[15:24:46] <xyproto> FreeFull: and the source release is what I can relate to and use for packaging
[15:26:06] *** Quits: erz (erz@moz-imu.af0.232.213.IP) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[15:26:42] *** Quits: d_rezzer (chatzilla@moz-t0fmuj.hfc.comcastbusiness.net) (Ping timeout: 121 seconds)
[15:26:55] <FreeFull> Maybe asking someone from the Cargo team would be a good idea
[15:26:58] <mbrubeck> xyproto, steveklabnik: Is this "0.2.0" tag being used for anything, like the 1.0 beta/stable installers? https://github.com/rust-lang/cargo/tree/0.2.0
[15:27:26] *** Joins: erz (erz@moz-8v4.af0.232.213.IP)
[15:28:06] <steveklabnik> mbrubeck: not 100% sure
[15:28:12] <steveklabnik> acrichto: around?
[15:28:24] <steveklabnik> xyproto: acrichto is the right person to ask, as he's the 'owner' of cargo
[15:28:38] <steveklabnik> i personally would like to just see cargo actually have versioned releases sometime soon
[15:28:41] *** Quits: aredridel (aredridel@moz-4ipci1.mn92.glcm.0470.2001.IP) (Ping timeout: 121 seconds)
[15:28:48] <steveklabnik> even if it means bumping the minor number a lot
[15:28:59] <steveklabnik> we've mostly, understandably, been focused on the langauge
[15:29:10] <steveklabnik> lots of these kind of extra details will be easier to take care of now that the 1.0 pressure is off
[15:29:27] <steveklabnik> and once we have eneve more contributors, since people who want a stable language can start using Rust
[15:29:30] <steveklabnik> even
[15:29:33] *** Joins: wolfviking0 (wolfviking0@moz-8hd.3b6.246.162.IP)
[15:29:59] *** Joins: JagaJaga (JagaJaga@moz-ua8.hhl.62.178.IP)
[15:30:32] *** Joins: victor (Mibbit@moz-fgundf.dynamic.ziggo.nl)
[15:31:19] <victor> is there a way to allocate alligned memory in rust? especially on the stack.
[15:31:40] *** Joins: mkpankov (mkpankov@moz-ka6.k4a.16.195.IP)
[15:31:57] <steveklabnik> we don't have alloca yet
[15:32:13] <steveklabnik> https://github.com/rust-lang/rfcs/issues/618 <-
[15:32:13] <xyproto> steveklabnik: I see. Thank you! I'll ask acrichto when I see him.
[15:32:25] <geofft> if you just create a local variable, it'll be aligned to the natural alignment of the data, right? 
[15:32:36] <geofft> probably doesn't help you if you need alignment other than u8 through u64, though 
[15:32:41] *** Quits: mkpankov` (mkpankov@moz-5kd.ou9.79.185.IP) (Ping timeout: 121 seconds)
[15:32:52] *** Joins: starless (starless@moz-u9gmm1.res.rr.com)
[15:32:58] <Hannibal_Smith> https://github.com/rust-lang/rfcs/issues/1031 <-The way that a lot of C++ dev want instead of alloca
[15:32:59] *** Quits: blank_name (blank_name@moz-lg2.tgt.79.172.IP) (Ping timeout: 121 seconds)
[15:33:06] <Mutabah> geofft: It gets aligned to the alignment of the type
[15:33:12] <Hannibal_Smith> Maybe also in this, Rust and C++ will share the same fate :-P
[15:33:14] *** Quits: Guest7619 (username@moz-3ki2u6.dyn.nltelcom.net) (Ping timeout: 121 seconds)
[15:33:15] <xyproto> mbrubeck: yes, that looks promising, I think the 0.2.0 tag can be used. Thanks.
[15:33:20] *** Joins: dfinninger (dfinninger@moz-fe6.5n7.235.207.IP)
[15:34:06] *** Joins: blank_name (blank_name@moz-b044u1.mi.frontiernet.net)
[15:34:17] *** Quits: Guest22 (textual@moz-jt9juk.fibertel.com.ar) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[15:35:13] *** Joins: Guest22 (textual@moz-jt9juk.fibertel.com.ar)
[15:35:36] *** Joins: ptalbot (ptalbot@moz-j4gnuh.fbx.proxad.net)
[15:35:46] *** Joins: kngl1 (Adium@moz-rmgnkh.dynamic.voo.be)
[15:35:53] *** Quits: kngl (Adium@moz-rmgnkh.dynamic.voo.be) (Ping timeout: 121 seconds)
[15:36:12] *** Quits: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP) (Client exited)
[15:37:12] *** Joins: aredridel (aredridel@moz-4ipci1.mn92.glcm.0470.2001.IP)
[15:37:14] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Quit: It's a joke, it's all a joke.)
[15:38:02] <victor> how do simd types working then :-?
[15:38:04] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[15:38:07] *** Joins: dinfuehr (dinfuehr@moz-vjrefd.highway.telekom.at)
[15:38:08] *** Quits: blank_name (blank_name@moz-b044u1.mi.frontiernet.net) (Ping timeout: 121 seconds)
[15:38:32] <geofft> probably through LLVM knowing about them 
[15:38:40] <victor> 'how are simd types working then?
[15:38:54] <Hannibal_Smith> victor, SIMD instruction has the same performance in both aligned/non aligned version at least for AMD64 (both Intel and AMD)
[15:39:17] <Mutabah> Hannibal_Smith: cross a cache line boundary and that might change
[15:40:14] <Fenhl> is there a way to send a trait object over a channel and still have it cloneable?
[15:40:21] <victor> I thought simd types have to be properly alligned and of course on the same cache line to make them work
[15:40:24] *** Joins: jxcl_ (abliskovsky@moz-o4k.t5t.173.207.IP)
[15:40:35] *** Quits: veqz (veqz@moz-nvr8g6.209.getinternet.no) (Ping timeout: 121 seconds)
[15:40:37] *** Quits: jxcl_ (abliskovsky@moz-o4k.t5t.173.207.IP) (Quit: Leaving)
[15:40:37] *** Joins: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp)
[15:40:44] *** Quits: davebettin (davebettin@moz-l35chj.hfc.comcastbusiness.net) (Ping timeout: 121 seconds)
[15:40:49] *** Quits: jxcl (abliskovsky@moz-o4k.t5t.173.207.IP) (A TLS packet with unexpected length was received.)
[15:41:07] *** Joins: rkruppe_ (chatzilla@moz-3nj.rnu.131.95.IP)
[15:41:20] *** Joins: brson (brson@moz-u3dg2t.sfo1.mozilla.com)
[15:41:21] *** ChanServ sets mode: +ao brson brson
[15:41:21] *** Quits: jedireza (jedireza@moz-6un.7si.9.216.IP) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[15:41:40] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Ping timeout: 121 seconds)
[15:41:48] <Mutabah> Fenhl: Trait objects aren't "clonable" (using Clone, becuase Clone isn't object-safe)
[15:41:49] *** rkruppe_ is now known as rkruppe
[15:42:08] <Mutabah> Fenhl: BUT, you can have a clone method on your trait, which returns Box<Trait>
[15:42:10] <Hannibal_Smith> victor, Rust stack should be aligned to 16byte
[15:42:16] <xyproto> tried building cargo 0.2.0 with the latest version of Rust, but it fails when building. Oh well, I'll wait for a release of cargo that is compatible with the latest release of rust instead.
[15:42:28] *** Joins: jxcl (abliskovsky@moz-o4k.t5t.173.207.IP)
[15:42:37] *** Quits: mkpankov (mkpankov@moz-ka6.k4a.16.195.IP) (Connection closed)
[15:42:44] <Mutabah> xyproto: How does it fail? Cargo might want to be built on nightly
[15:42:53] *** Joins: mkpankov (mkpankov@moz-3op.k4a.16.195.IP)
[15:43:15] *** Joins: elbow_jason (elbow@moz-mq1.dkk.30.50.IP)
[15:43:17] *** Quits: Rym______ (y@moz-dhb.0vk.38.217.IP) (Ping timeout: 121 seconds)
[15:43:24] *** Quits: elbow_jason (elbow@moz-mq1.dkk.30.50.IP) (Quit: Leaving)
[15:43:32] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[15:43:32] *** ChanServ sets mode: +o erickt
[15:43:59] <Hannibal_Smith> Anyway victor check Agner Foq document on instruction performance by vendor and microarchitecture
[15:44:28] *** Joins: gsingh93 (gulshan@moz-qnbukr.mi.comcast.net)
[15:44:40] *** Quits: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp) (Ping timeout: 121 seconds)
[15:44:41] *** Joins: jimb (user@moz-ivsfl5.ptld.qwest.net)
[15:45:35] <steveklabnik> xyproto: cargo pins itself to a rustc version, iirc
[15:45:45] *** Quits: erz (erz@moz-8v4.af0.232.213.IP) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[15:45:59] *** Joins: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp)
[15:46:14] *** Quits: maximih (maximih@moz-0r2bjb.bredband.telia.com) (A TLS packet with unexpected length was received.)
[15:46:21] *** Joins: ygrek (user@moz-8j9aeu.org.ua)
[15:46:37] <gsingh93> rust is about to be released and there are 213 open issues labelled ICE :/
[15:46:45] <simias> what's the easiest way to get a nightly rustc?
[15:46:54] <gsingh93> simias: multirust
[15:46:55] <simias> I think I read somewhere I could do it with rustup
[15:46:56] <steveklabnik> run rustup, use multirust
[15:47:07] <steveklabnik> http://doc.rust-lang.org/nightly/book/nightly-rust.html
[15:47:13] <steveklabnik> $ curl -s https://static.rust-lang.org/rustup.sh | sh -s -- --channel=nightly
[15:47:22] *** Joins: davebettin (davebettin@moz-hde.5e5.136.67.IP)
[15:47:25] *** Joins: owickstrom (owickstrom@moz-dq04n8.bredband.comhem.se)
[15:47:34] <simias> ah, it's the channel option I was looking for
[15:47:51] <simias> unfortunately rustup.sh -h did nothing :x
[15:48:24] <simias> yeah that seems to work, thanks
[15:48:30] *** Quits: lyc (lyc@moz-jft.nr8.226.207.IP) (Connection closed)
[15:48:40] <simias> I'm about to run rust code on my playstation, I'm hype
[15:48:52] <kimundi> cool
[15:49:03] <gsingh93> shouldn't Condvar (http://doc.rust-lang.org/std/sync/struct.Condvar.html) be Sync? isn't it being used from multiple threads in that example?
[15:49:32] *** Joins: nodweber_ (nodweber@moz-knt.fgq.178.5.IP)
[15:49:54] *** Joins: blank_name (blank_name@moz-i5m.qsg.79.172.IP)
[15:50:01] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[15:50:02] *** Quits: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp) (Ping timeout: 121 seconds)
[15:50:05] <tomaka> rusti: fn sync<T: Sync>(_: T) {}   sync(std::sync::Condvar::new());
[15:50:07] -playbot- ()
[15:50:10] <tomaka> ^ it is Sync
[15:50:11] *** Quits: qdbhg (qdbhg@moz-lp2.qtm.104.223.IP) (Connection closed)
[15:50:31] <gsingh93> oh
[15:50:36] <gsingh93> is that a documentation bug then?
[15:51:03] <tomaka> where in the documentation do you see that it's not Sync?
[15:51:13] *** Quits: shellac (textual@moz-9b49cr.cable.virginm.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[15:51:15] <gsingh93> tomaka: trait implementations
[15:51:22] *** Quits: envi_u (envi@moz-ih5.olo.169.121.IP) (Ping timeout: 121 seconds)
[15:51:30] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Connection closed)
[15:51:35] <tomaka> the page you linked only shows "Drop"
[15:51:36] *** Quits: shadower (shadower@moz-3ah4n5.osop.rhcloud.com) (Ping timeout: 121 seconds)
[15:51:40] *** Quits: victor (Mibbit@moz-fgundf.dynamic.ziggo.nl) (Quit: http://www.mibbit.com ajax IRC Client)
[15:51:47] <gsingh93> shouldn't it also show Sync?
[15:51:50] *** Joins: erz (erz@moz-8v4.af0.232.213.IP)
[15:51:52] *** Joins: Guest (textual@moz-rtn.fg7.77.192.IP)
[15:52:08] *** Joins: vhbit (textual@moz-u66.qv5.65.95.IP)
[15:52:08] <tomaka> everything is Sync by default, so no
[15:52:32] *** Quits: erz (erz@moz-8v4.af0.232.213.IP) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[15:52:36] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Ping timeout: 121 seconds)
[15:52:53] <gsingh93> oh, ok
[15:53:24] *** Joins: panicbit (panicbit@moz-r4ks4s.dip0.t-ipconnect.de)
[15:53:28] <Aaron> Is there a way to conditionally compile for stable vs nightly?
[15:53:34] *** Joins: erz (erz@moz-8v4.af0.232.213.IP)
[15:53:34] <steveklabnik> not currently
[15:53:38] *** Joins: loyd (loyd@moz-uft.32f.108.213.IP)
[15:53:40] <steveklabnik> you can create an 'unstable' cargo feature
[15:53:47] <Aaron> Alright, thanks.
[15:53:49] <steveklabnik> and then tell nightly people to use that
[15:54:12] <tomaka> is there a way to force tests to be executed in a single thread? like a hidden environment variable or something?
[15:54:21] <steveklabnik> RUST_TEST_THREADS=1 iirc
[15:54:25] <tomaka> aha!
[15:54:26] <steveklabnik> might still be 'tasks'
[15:54:31] <tomaka> ?
[15:54:35] <steveklabnik> RUST_TEST_TASKS
[15:54:39] <tomaka> oh ok
[15:54:42] <steveklabnik> i forget if we updated it or not
[15:54:46] <tomaka> thanks
[15:54:52] *** Quits: eric_lagergren (barsonme@moz-lr1hrn.wa.comcast.net) (Ping timeout: 121 seconds)
[15:55:05] <simias> yay, it works
[15:55:07] <vhbit> Totally confused:
[15:55:07] <vhbit> discovery.rs:240:35: 240:58 error: type `std::net::udp::UdpSocket` does not implement any method in scope named `v4`
[15:55:07] <vhbit> discovery.rs:240                         let tmp = mio::udp::UdpSocket::v4();
[15:55:30] *** Quits: jophish (jophish@moz-epocft.broadband.tesco.net) (Connection closed)
[15:55:39] *** Joins: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp)
[15:56:03] <vhbit> how it comes that `std::net::udp::UdpSocket` is used instead of `mio::udp::UdpSocket`?
[15:56:08] <Murarth> vhbit: Use the GitHub repo as your dependency rather than crates.io.
[15:56:31] <hayashi> Are all interfaces for unsafe manual heap allocation and deallocation unstable, or am I just looking in the wrong places? :P
[15:57:05] <steveklabnik> they are all unstable
[15:57:10] <steveklabnik> stabilizing them is a high priority
[15:57:25] <rkruppe> hayashi: You can make a Box and transmute it to a raw pointer (and mem::forget the Box) but this is more of a dirty hack
[15:57:25] <steveklabnik> you can use Vec as a hack, but that's a SUPER hack
[15:57:26] <steveklabnik> of course
[15:57:28] <rkruppe> Or Vec
[15:57:43] <ehiggs> does carllerche visit #rust? I have a PR for nix but I'd like to ask about testing before submitting it.
[15:57:46] <hayashi> ah ok
[15:57:59] *** Quits: dstrbad (dstrbad@moz-84igdg.dsl.iskon.hr) (A TLS packet with unexpected length was received.)
[15:58:02] *** Joins: codey (codey@moz-9gd.etn.221.101.IP)
[15:58:03] <hoverbear> ehiggs: Try #mio
[15:58:14] <hayashi> I was considering making a Box, but didn't know how to get it to stop destruction, so, yeah, mem::forget :3
[15:58:31] *** Quits: ygrek (user@moz-8j9aeu.org.ua) (Ping timeout: 121 seconds)
[15:58:34] <Ms2ger> hayashi, boxed::into_raw
[15:58:49] <Ms2ger> Also, https://play.rust-lang.org/ is pretty now
[15:58:52] <grantdefayette> anyone know of any systems being developed in rust? I mean OS kernels really so they would be research projects. I know there is at least one but the author never intended to make that a production/release project. I think it was just a for fun thing for her. 
[15:58:53] <Ms2ger> Not sure that's better
[15:59:00] *** Joins: dstrbad (dstrbad@moz-84igdg.dsl.iskon.hr)
[15:59:03] <grantdefayette> But anyway, google says no.
[15:59:28] *** Quits: nodweber_ (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[15:59:42] *** Quits: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp) (Ping timeout: 121 seconds)
[15:59:43] <hayashi> Ms2ger: Heh, that's also unstable :3
[15:59:58] <ehiggs> grantdefayette: i don't think there are at the moment. It's a large undertaking for a language that isn't even at 1.0 yet. 
[16:00:18] *** Quits: jevin (jevin@moz-sra.ovp.12.72.IP) (Quit: Textual IRC Client: www.textualapp.com)
[16:00:19] <steveklabnik> grantdefayette: we have #rust-osdev for that purpose
[16:00:24] <Ms2ger> hayashi, anyway, mem::transmute consumes the Box, so no need to mem::forget it afterwards
[16:00:27] <steveklabnik> there's mostly been tiny projects, not super important ones
[16:00:35] <vhbit> Murarth: yep, it did the trick, thanks
[16:00:35] *** Quits: laparca (laparca@moz-rgcs06.mgob.kh00.0488.2a01.IP) (Quit: Leaving.)
[16:00:37] <steveklabnik> like, all explicitly hobbiyst projects
[16:00:59] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[16:01:00] *** Joins: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp)
[16:01:04] <ehiggs> id be interested in database back ends that try to scale to many cores for writing/reading
[16:01:14] <hayashi> Ms2ger: How would I then deallocate it?  Just transmute it back into Box and let it fall out of scope, or would I need to do something else (or is it then leaked forever)?
[16:01:27] <Ms2ger> hayashi, yeah, transmute back
[16:02:20] *** Joins: foodoo (foodoo@moz-h3ct01.dyn.telefonica.de)
[16:02:32] *** Quits: erz (erz@moz-8v4.af0.232.213.IP) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[16:02:48] *** Joins: Fiveside (fiveside@moz-t2eatg.vsp.com)
[16:03:19] *** Quits: dstrbad (dstrbad@moz-84igdg.dsl.iskon.hr) (Ping timeout: 121 seconds)
[16:03:44] <tomaka> wow when you use RUST_TEST_THREADS=1 on windows, the "ok" is green :o
[16:04:17] <tomaka> I wonder what kind of aweful problem lead to this design choice
[16:04:36] <brson> tomaka: it's because multithreaded writes to stdout corrupt the color codes
[16:04:53] *** Joins: ogham (rally@moz-dnu.06e.6.31.IP)
[16:05:03] *** Quits: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp) (Ping timeout: 121 seconds)
[16:05:18] *** Quits: acgtyrant (acgtyrant@moz-3kd.b79.160.124.IP) (Ping timeout: 121 seconds)
[16:05:47] <tomaka> hmm
[16:06:11] *** Quits: codey (codey@moz-9gd.etn.221.101.IP) (Ping timeout: 121 seconds)
[16:06:22] *** Joins: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp)
[16:06:33] <hayashi> cool
[16:07:06] *** Quits: dfinninger (dfinninger@moz-fe6.5n7.235.207.IP) (Connection closed)
[16:07:24] <foodoo> I'm looking for the right tools to do something like: let token = my_string.substring_slice( start, end ); where my_string is a std::string::String.
[16:07:28] *** Joins: maximih (maximih@moz-v3fgap.k49b.su5n.2002.2001.IP)
[16:07:29] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[16:07:44] <foodoo> I'm reading in a complete file as a string and want to tokenize it
[16:08:00] *** Joins: jevin (jevin@moz-sra.ovp.12.72.IP)
[16:08:57] <tomaka> foodoo: you should probably use an iterator for this, instead of substrings
[16:09:16] <tomaka> you read each byte one after the other and decide what to do
[16:09:52] <foodoo> tomaka: Hm. Alright. If that's more idiomatic I'll do that.
[16:10:13] <grantdefayette> steveklabnik, thanks. Ill check it out. I was mostly just curious. Rust's ability to be used as a system level language reminded me of Haiku, the open source BeOS system, and how they  wrote everything in C++ except for a few low level things that had to be done in C. So a Rust system could be entirely in rust at the lowest levels at least.
[16:10:22] <foodoo> but out of curiosity: How would you do substring slices in Rust?
[16:10:24] *** Quits: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp) (Ping timeout: 121 seconds)
[16:10:25] <grantdefayette> Probably all the way to the top.
[16:10:40] <tomaka> foodoo: Your approach has several problems: big memory consumption since you read the whole file at once
[16:10:50] *** Joins: ixti (ixti@moz-21k.dae.119.188.IP)
[16:11:06] <tomaka> and to answer your question
[16:11:15] *** Joins: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP)
[16:11:18] <tomaka> you can't really do a "simple" substring, as strings are utf8-encoded
[16:11:30] *** Quits: maximih (maximih@moz-v3fgap.k49b.su5n.2002.2001.IP) (Ping timeout: 121 seconds)
[16:11:37] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[16:11:37] <tomaka> but you can do something like "my_string.chars().skip(start).take(num)"
[16:11:48] <foodoo> tomaka: Yes, I know that I can't work with indices because of that. But shouldn't it still be possible to get a view into a string that is not identical to the entire string?
[16:12:00] *** Joins: shellac (textual@moz-9b49cr.cable.virginm.net)
[16:12:09] <foodoo> okay, I see
[16:12:27] <tomaka> you can also consider using a Vec instead of a String
[16:12:35] <foodoo> tomaka: good point
[16:12:50] *** Joins: avikpal (avikpal@moz-q93.ti7.194.117.IP)
[16:12:53] *** Joins: dfinninger (dfinninger@moz-fe6.5n7.235.207.IP)
[16:13:05] <foodoo> tomaka: but then I would need to allocate memory for creating Strings once I have determined the ranges
[16:13:28] *** Quits: dfinninger (dfinninger@moz-fe6.5n7.235.207.IP) (Connection closed)
[16:13:32] *** Joins: dfinninger (dfinninger@moz-fe6.5n7.235.207.IP)
[16:13:39] *** Quits: debu (debu@moz-6momm3.adsl.alicedsl.de) (Ping timeout: 121 seconds)
[16:13:44] *** Joins: jrd (Mibbit@moz-70l7bk.wa.comcast.net)
[16:13:47] <tomaka> foodoo: you can build a "&str" from a "&[u8]" without doing an allocation
[16:14:09] *** Joins: veqz (veqz@moz-nvr8g6.209.getinternet.no)
[16:14:15] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[16:14:17] <tomaka> with std::str::from_utf8 I think
[16:14:31] *** Joins: pyon (pyon@moz-b0l.mdl.7.179.IP)
[16:14:51] <foodoo> Alright. Curiosity satisfied. Looking forward to 1.0 tomorrow :)
[16:15:32] <ogham> oh, that's tomorrow?
[16:16:12] <steveklabnik> grantdefayette: :) absolutely. you still need small amount of ASM to bootstrap, of course
[16:16:23] <foodoo> ogham: yes, http://blog.rust-lang.org/2015/04/03/Rust-1.0-beta.html
[16:16:43] <ogham> cool
[16:16:44] <jrd> is there a reason a number of the rust book sections are "coming soon"? Is "soon" before tomorrow?
[16:16:47] <acrichto> steveklabnik: xyproto: I'm around now!
[16:17:19] <jrd> or were they intentionally removed for some reason?
[16:17:32] *** nsm|away is now known as nsm
[16:17:33] <steveklabnik> jrd: the reason is that i was working on nightly only, and not backporting. i backported late late the other night, and we haven't done a beta build since
[16:17:41] <steveklabnik> jrd: if you look at nightly, there should be more there
[16:17:52] <steveklabnik> generally speaking, no project, including the book, is ever done
[16:17:57] <steveklabnik> many of the chpaters that are there only cover the basics
[16:17:59] *** Joins: jethrogb (jethrob@moz-p2iedd.scintilla.utwente.nl)
[16:18:03] <grantdefayette> steveklabnik, On some devices I think the firmware bootloader might do it for you.
[16:18:09] <steveklabnik> for example, http://blog.burntsushi.net/rust-error-handling/
[16:18:15] <steveklabnik> vs the officail error handling docs
[16:18:19] *** Joins: vosen (vosen@moz-mtm1g4.dynamic.chello.pl)
[16:18:22] <jrd> right, I just thought that some of the things I'd seen before had now gone away
[16:18:25] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Client exited)
[16:18:28] <jrd> but maybe they're just reorg'd
[16:18:31] <jrd> or I made it up
[16:18:37] <jrd> that's what I get for jumping the gun I guess
[16:18:37] <foodoo> steveklabnik: Good work with the book :)
[16:18:38] <grantdefayette> steveklabnik, maybe not I don't really know exactly how that works.
[16:18:39] <frankmcs_> grantdefayette: there was a decent write-up from Brown of a student doing the OS course project in Rust. Made a few interesting points about what was hard/not in Rust.
[16:19:09] *** Joins: Rym______ (y@moz-dhb.0vk.38.217.IP)
[16:19:12] *** Joins: GaryOak_ (GaryOak_@moz-etoj16.hfc.comcastbusiness.net)
[16:19:36] *** Joins: detsak (darren@moz-804egb.dyn.optonline.net)
[16:19:41] <frankmcs_> grantdefayette: searching for "brown rust" is about as useful as you might expect... oops.
[16:20:09] <grantdefayette> lol
[16:20:10] <steveklabnik> foodoo: <3
[16:20:12] <frankmcs_> grantdefayette: http://scialex.github.io/reenix.pdf
[16:20:22] *** Joins: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP)
[16:20:26] <grantdefayette> cool
[16:20:41] <steveklabnik> jrd: i had a super re-org after alpha. one or two things went away, most of it was just reorganized
[16:20:42] *** Quits: kamilc__ (kamil@moz-sh222i.play-internet.pl) (Quit: Leaving...)
[16:21:39] *** Quits: harrisonclarke (harrisoncla@moz-th044a.ns.bellaliant.net) (Connection closed)
[16:21:45] *** Quits: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net) (A TLS packet with unexpected length was received.)
[16:22:18] *** Quits: amir (amir@moz-qbf4gg.fiber7.init7.net) (A TLS packet with unexpected length was received.)
[16:22:25] *** Joins: amir (amir@moz-jnohkj.3bcq.01f6.0168.2a02.IP)
[16:22:35] <jrd> ok, no worries. just wanted to make sure things weren't asploded
[16:22:59] *** Joins: Izzeri (Lilly@moz-pfkvo9.bredband.comhem.se)
[16:23:24] *** Quits: kngl1 (Adium@moz-rmgnkh.dynamic.voo.be) (Quit: Leaving.)
[16:23:27] *** Quits: Guest22 (textual@moz-jt9juk.fibertel.com.ar) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[16:23:27] *** Quits: mkpankov (mkpankov@moz-3op.k4a.16.195.IP) (Connection closed)
[16:23:34] *** Joins: mkpankov (mkpankov@moz-201.ou9.79.185.IP)
[16:23:43] *** Quits: Rym______ (y@moz-dhb.0vk.38.217.IP) (Ping timeout: 121 seconds)
[16:24:01] <flavius> steveklabnik: Hi. If I recall correctly the name, I've just seen you presentation on youtube on rust. Are the slides anywhere available? https://www.youtube.com/watch?v=vYKDQjl0DkY
[16:24:07] *** Joins: hhhhhhhhhh (mike@moz-969kuj.cable.virginm.net)
[16:24:24] *** Parts: jrd (Mibbit@moz-70l7bk.wa.comcast.net) ()
[16:24:43] *** Quits: panda (panda@moz-pi4pae.public.wayport.net) (Connection closed)
[16:25:01] *** Quits: zmack (zmack@moz-htpein.home.aster.pl) (Connection closed)
[16:25:19] *** Joins: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net)
[16:25:21] <steveklabnik> flavius: you have :)
[16:25:46] <steveklabnik> those slides are on my github SOMEWHERe
[16:25:56] *** Quits: Lilly (Lilly@moz-pfkvo9.bredband.comhem.se) (Ping timeout: 121 seconds)
[16:26:13] *** Joins: Rym______ (y@moz-dhb.0vk.38.217.IP)
[16:26:39] *** Quits: avikpal (avikpal@moz-q93.ti7.194.117.IP) (Connection closed)
[16:26:50] *** Quits: fabianvf (fabianvf@moz-j12.dim.197.216.IP) (Connection closed)
[16:26:51] *** Joins: Diggsey (diggsey@moz-e3pv94.dsl.pipex.com)
[16:27:08] *** Quits: owickstrom (owickstrom@moz-dq04n8.bredband.comhem.se) (Ping timeout: 121 seconds)
[16:27:13] <steveklabnik> can't remember the repo name though :)(
[16:27:14] <steveklabnik> :(
[16:27:47] <flavius> I've searched for "SOMEWHERe", no resuts :)
[16:27:58] <flavius> s/resuts/results
[16:28:04] <steveklabnik> :p
[16:28:04] *** Quits: Ralith (ralith@moz-tiaj7p.customer.broadstripe.net) (Ping timeout: 121 seconds)
[16:28:08] *** Joins: AngelOfSol (AngelOfSol@moz-dj58kc.rh.rit.edu)
[16:28:14] <steveklabnik> i just tried poking around, and i have a LOT of repos :/
[16:28:26] *** Joins: slomo (slomo@moz-p8m0g2.net)
[16:29:19] *** Quits: jeffasinger (jeff@moz-jeubl6.res.rr.com) (Client exited)
[16:29:20] *** Quits: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP) (Ping timeout: 121 seconds)
[16:29:29] <foodoo> std::io::Read.chars(): "Currently this adaptor will discard intermediate data read, and should be avoided if this is not desired." what are "intermediate data read"?
[16:29:42] *** Joins: jdm (jdm@moz-js24q5.ckpj.s0pt.0450.2001.IP)
[16:29:42] *** ChanServ sets mode: +o jdm
[16:29:44] *** ahal is now known as ahal|afk
[16:29:58] <seanmonstar> foodoo: my guess is if an error happens before it finishes reading a full utf8 char
[16:30:03] *** Joins: Gabriel_7 (Gabriel@moz-qvum64.mtgr.92aj.0e35.2a01.IP)
[16:30:07] *** Quits: willem (willem@moz-facs2s.dynamic.upc.nl) (Quit: leaving)
[16:30:12] <foodoo> seanmonstar: makes sense
[16:30:13] *** Joins: Anupkumar (uid16774@moz-cf8smb.uxbridge.irccloud.com)
[16:30:27] <seanmonstar> being they can be up to 4 bytes, if it errors at 3, it just tosses those 3
[16:30:59] <seanmonstar> (error as in io::Error, not Utf8Error)
[16:31:40] <foodoo> seanmonstar: yes, hard drive or network problems ;)
[16:31:50] <seanmonstar> yes
[16:32:47] *** Joins: lenstr (lenstr@moz-haa.vju.25.171.IP)
[16:33:20] *** Quits: m10e (mblbruce@moz-onbacj.fagotten.org) (Client exited)
[16:33:29] *** Quits: jdm (jdm@moz-js24q5.ckpj.s0pt.0450.2001.IP) (Quit: )
[16:33:49] <steveklabnik> acrichto: xyproto so we were talking about cargo releases
[16:34:04] *** Joins: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP)
[16:34:08] <steveklabnik> acrichto: xyproto when are we going to start actually having releases of cargo? it will significanly help distros. also, building with stable rust
[16:35:56] <simias> it works: https://svkt.org/~simias/psx-rust.png
[16:36:15] <simias> (it's my playstation's output on the right)
[16:36:32] <acrichto> steveklabnik: yeah for 1.0 it's probably just gonna be "0.2.0-nightly", but we're likely to just bump the minor rev on each Rust release
[16:36:43] *** Quits: lht (lht@moz-f8r.k6r.240.220.IP) (Client exited)
[16:37:20] *** Joins: blank_na1e (blank_name@moz-6n9.3ar.36.50.IP)
[16:37:26] <steveklabnik> word
[16:37:29] *** Joins: Astrum|Lap (Astrum|Lap@moz-7enfbr.co.comcast.net)
[16:37:29] *** Quits: blank_name (blank_name@moz-i5m.qsg.79.172.IP) (Ping timeout: 121 seconds)
[16:39:14] *** Quits: dinfuehr (dinfuehr@moz-vjrefd.highway.telekom.at) (Connection closed)
[16:40:28] *** Joins: Savago (Savago@moz-8hd.3b6.246.162.IP)
[16:40:38] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[16:41:03] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[16:41:52] *** Joins: Guest_ (textual@moz-6jfu02.dynamic.fusionbroadband.com)
[16:42:48] *** Joins: Gamecubic (cubic@moz-bglmk5.mc.videotron.ca)
[16:42:56] *** Joins: Guest22 (textual@moz-jt9juk.fibertel.com.ar)
[16:44:44] *** Joins: c0170 (c0170@moz-dev.ffi.127.79.IP)
[16:44:52] *** Quits: sommoyog_ (sommoyogurt@moz-d0d6tp.nch.it) (Connection closed)
[16:44:57] *** Quits: hayashi (Mibbit@moz-1g1053.york.ac.uk) (Quit: http://www.mibbit.com ajax IRC Client)
[16:45:05] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Ping timeout: 121 seconds)
[16:45:30] *** Joins: m-r-r (mrr@moz-uvfnet.abo.wanadoo.fr)
[16:45:41] <m-r-r> Hello
[16:46:14] *** Joins: kngl (Adium@moz-rmgnkh.dynamic.voo.be)
[16:46:17] <m-r-r> Is it possible to use associated trait constants in Rust beta ?
[16:46:35] *** Quits: Guest63 (textual@moz-qfs.570.70.83.IP) (Ping timeout: 121 seconds)
[16:47:04] *** Joins: jeffasinger (jeff@moz-jeubl6.res.rr.com)
[16:47:19] <steveklabnik> associated constnats landed after the fork, iirc
[16:47:21] <steveklabnik> so they'll be in 1.1
[16:47:50] <m-r-r> steveklabnik: Ah ok
[16:48:31] *** Quits: c0170_ (c0170@moz-bb29a4.cambridge.arm.com) (Ping timeout: 121 seconds)
[16:48:45] *** Quits: pgonda (peter@moz-s36.0tp.134.75.IP) (Ping timeout: 121 seconds)
[16:49:44] *** Joins: harrisonclarke (harrisoncla@moz-g1kp2c.ns.bellaliant.net)
[16:50:48] *** Joins: gopar (gopar@moz-5039uj.ca.comcast.net)
[16:50:54] *** Quits: mkpankov (mkpankov@moz-201.ou9.79.185.IP) (Ping timeout: 121 seconds)
[16:52:53] *** Quits: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net) (Ping timeout: 121 seconds)
[16:55:44] *** Joins: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp)
[16:55:46] *** Joins: pgonda (peter@moz-s36.0tp.134.75.IP)
[16:56:27] *** Joins: alex2 (alex@moz-bfj7pj.fios.verizon.net)
[16:56:59] *** Quits: jbcurtin (jbcurtin@moz-lskisb.LosAngeles1.Level3.net) (Quit: leaving)
[16:57:32] *** Quits: spider-mario (spidermario@moz-coblcf.fbx.proxad.net) (A TLS packet with unexpected length was received.)
[16:57:33] *** Quits: kgrandon (Adium@moz-738vd0.nemh.1887.0450.2001.IP) (Quit: Leaving.)
[16:57:48] <mpark> geri: have I tried what?
[16:57:48] <alex2> so if I've got something like "let x = HashMap::new();", I can do (assuming that "xyz" exists) println!("{:?}", x["xyz"]);, but I'm not able to figure out how to do x["xyz"] = 5;
[16:57:51] <alex2> is that possible?
[16:58:09] *** Joins: mattico (matt@moz-umapnl.bff5.ebih.ea00.2607.IP)
[16:58:16] *** Joins: GGist (Mibbit@moz-07kde0.seattleu.edu)
[16:58:33] <steveklabnik> let mut x
[16:58:37] <steveklabnik> is my first guess
[16:58:45] <steveklabnik> you declared an immutable hash map and then tried to mutate it
[16:58:46] <mbrubeck> alex2: HashMap doesn't support IndexMut
[16:59:00] *** Joins: spider-mario (spidermario@moz-coblcf.fbx.proxad.net)
[16:59:07] <mbrubeck> alex2: in order to save room for a proposed future IndexSet
[16:59:18] *** Quits: saterus (saterus@moz-o0ug28.res.rr.com) (Connection closed)
[16:59:36] *** Quits: shellac (textual@moz-9b49cr.cable.virginm.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[16:59:40] *** Joins: saterus (saterus@moz-o0ug28.res.rr.com)
[16:59:41] <mbrubeck> alex2: So you need to do `let mut` as steveklabnik and then use x.insert(...)
[16:59:46] *** Joins: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net)
[16:59:46] *** ChanServ sets mode: +o pnkfelix
[16:59:47] *** Quits: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp) (Ping timeout: 121 seconds)
[16:59:49] <mbrubeck> *as steveklabnik says
[16:59:53] *** Quits: simonoram (simonoram@moz-pllbvg.cable.virginm.net) (Client exited)
[17:00:03] <mbrubeck> https://github.com/rust-lang/rust/issues/23448
[17:00:06] <eddyb> mbrubeck: when did this happen?
[17:00:11] *** Joins: jga (jga@moz-08s.t1q.244.77.IP)
[17:00:16] <mbrubeck> eddyb: see above :)
[17:00:40] <eddyb> .get_mut if the element already exists (and you want the IndexMut semantics)
[17:01:11] *** Quits: michaelcook (michaelcook@moz-7mekcv.range86-169.btcentralplus.com) (Client exited)
[17:01:23] *** Joins: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp)
[17:01:58] *** Joins: eric_lagergren (barsonme@moz-hshokg.q6t2.2174.0008.2601.IP)
[17:02:13] *** Joins: nercury (nercury@moz-8h0btl.static.zebra.lt)
[17:02:23] <flavius> steveklabnik: so you can't find the slides in your repo?
[17:02:24] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Connection closed)
[17:02:44] *** Joins: Guest__ (textual@moz-fvqc2v.dynamic.fusionbroadband.com)
[17:02:47] <steveklabnik> yeah, i forget. they're there somewhere...
[17:03:26] <flavius> Oh let's hope they'll get GC'ed
[17:03:39] *** Joins: hjr3 (hradtke@moz-lei.av4.169.69.IP)
[17:03:44] *** Quits: saterus (saterus@moz-o0ug28.res.rr.com) (Ping timeout: 121 seconds)
[17:03:50] <alex2> mbrubeck: indexset?
[17:03:59] <alex2> ah
[17:04:05] <alex2> I guess indexset isn't going to be in 1.0?
[17:04:21] <mbrubeck> no 1.0 is already built
[17:04:33] <mbrubeck> so the answer to "will this change in 1.0" is almost certainly "no" :)
[17:04:37] <flavius> steveklabnik: ah, they're written in javascript, found them
[17:05:04] <steveklabnik> yeah, all html
[17:05:06] <steveklabnik> which repo is it?
[17:05:18] <FreeFull> And the build is being tested before it'll be put in the website?
[17:05:19] <dschatzberg> Why does libcore have a link dependency on _Unwind_Resume?
[17:05:25] *** Quits: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp) (Ping timeout: 121 seconds)
[17:05:25] <flavius> steveklabnik: search for slides
[17:05:42] <steveklabnik> ah nice
[17:05:51] <steveklabnik> FreeFull: correct
[17:05:54] *** Joins: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp)
[17:05:57] <flavius> I was looking only at those written in rust
[17:06:01] <steveklabnik> ahhhh
[17:06:02] *** Quits: bfrog (tburdick@moz-hpc0jl.il.comcast.net) (Ping timeout: 121 seconds)
[17:06:04] *** Quits: Guest_ (textual@moz-6jfu02.dynamic.fusionbroadband.com) (Ping timeout: 121 seconds)
[17:06:07] <steveklabnik> yeah, i use reveal.js for slides
[17:06:14] <steveklabnik> because linux + projectors == sadness
[17:06:21] <steveklabnik> so i often have to borrow someone else's computer :(
[17:06:35] <flavius> I was confused but what you said in the presentation, that it's all rustdoc-generated
[17:06:47] <steveklabnik> ah
[17:07:34] <steveklabnik> yeah, even that's a markdown file, which rustdoc can operate on
[17:07:44] *** Quits: breiska (breiska@moz-sdntg3.dhcp.inet.fi) (Ping timeout: 121 seconds)
[17:08:11] *** Joins: maximih (maximih@moz-0r2bjb.bredband.telia.com)
[17:08:13] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[17:08:38] *** Joins: kgrandon (Adium@moz-ikk1es.nemh.1887.0450.2001.IP)
[17:09:01] <geri> just compiled the rust compiler for arm... and it worked!
[17:09:15] <foodoo> geri: \o/
[17:09:27] <geri> but why will i need to use gcc as a linker?
[17:09:38] <steveklabnik> that's how it works atm
[17:09:49] *** Joins: Shtong (realshtong@moz-5i59qi.abo.wanadoo.fr)
[17:09:56] *** Quits: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp) (Ping timeout: 121 seconds)
[17:10:36] <geri> steveklabnik: so?
[17:10:55] <Savago> geri: just out of curiosityâ€¦ but is there a rustc build for ARM (Iâ€™m thinking about Raspberry Pi)?
[17:10:56] *** Joins: Ralith (ralith@moz-miv.lne.251.63.IP)
[17:11:05] <Shtong> hello there, can someone explain why this code won't compile ? http://is.gd/zR9rlt
[17:11:15] *** Joins: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp)
[17:11:17] *** Joins: rkruppe_ (chatzilla@moz-3nj.rnu.131.95.IP)
[17:11:49] *** Joins: huddler (Mibbit@moz-77a1u9.u.parknet.dk)
[17:11:56] *** Quits: huddler (Mibbit@moz-77a1u9.u.parknet.dk) (Quit: http://www.mibbit.com ajax IRC Client)
[17:12:10] <Shtong> it tells me my binding isn't mutable even though I declated it with mut
[17:12:13] *** Quits: maximih (maximih@moz-0r2bjb.bredband.telia.com) (Ping timeout: 121 seconds)
[17:12:21] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[17:12:39] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Ping timeout: 121 seconds)
[17:12:43] *** rkruppe_ is now known as rkruppe
[17:12:49] <GGist> Shtong: you are trying to give a mutable reference to the immutable binding plist which has the type &mut Vec<u32>, you are trying to do &mut &mut Vec<u32>.
[17:13:26] *** Quits: spider-mario (spidermario@moz-coblcf.fbx.proxad.net) (Connection closed)
[17:13:36] <GGist> Shtong: You probably want this http://is.gd/9roxTU
[17:13:49] *** Quits: tcard (tcard@moz-5eb1g3.staticIP.rima-tde.net) (Client exited)
[17:14:08] *** Quits: summerlight (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[17:14:11] <Shtong> oh thanks. for some reason I though you HAD to use mut when calling a fn with a mutable argument
[17:14:33] <foodoo> Shtong: well, it is already mut so no need to mut it again
[17:14:42] *** Joins: skade (skade@moz-m9ib3m.pools.vodafone-ip.de)
[17:14:52] <Shtong> I think I got it thanks
[17:14:53] <geri> Savago: i havnt checked
[17:15:05] <GGist> Only if you are converting from a value type to a reference type. And plist binding wasnt mutable, you would have to use the mut keyword before it in the arguments list.
[17:15:12] *** Quits: gonzaloserrano1 (Adium@moz-1nv.3t7.97.62.IP) (Quit: Leaving.)
[17:15:17] *** Quits: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp) (Ping timeout: 121 seconds)
[17:15:53] <Savago> geri: in your case you are building it for which target/device?
[17:15:59] *** Quits: errordeveloper (ilya@moz-8jq.ge6.157.37.IP) (Ping timeout: 121 seconds)
[17:16:00] *** Joins: panda (panda@moz-pi4pae.public.wayport.net)
[17:16:05] <geri> Savago: arm cortex a9
[17:16:15] <geri> with ubuntu linux
[17:16:22] *** Joins: simonoram (simonoram@moz-pllbvg.cable.virginm.net)
[17:16:23] *** Joins: mkpankov (mkpankov@moz-ppd.dee.149.83.IP)
[17:16:51] *** Quits: Guest (textual@moz-rtn.fg7.77.192.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[17:17:06] *** Joins: spider-mario (spidermario@moz-coblcf.fbx.proxad.net)
[17:17:22] *** Quits: hjr3 (hradtke@moz-lei.av4.169.69.IP) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[17:17:25] <geri> Savago: https://github.com/japaric/ruststrap/blob/master/1-how-to-cross-compile.md
[17:18:17] <geri> steveklabnik: so it produces the object files and links with gcc at the moment?
[17:18:26] *** Joins: Kxepal (Miranda@moz-u0omr9.pppoe.mtu-net.ru)
[17:18:59] *** Joins: fabianvf (fabianvf@moz-j12.dim.197.216.IP)
[17:19:16] *** Joins: bfrog (tburdick@moz-pk8bpc.nlnn.lutu.000d.2601.IP)
[17:19:43] *** Joins: Guest (textual@moz-rtn.fg7.77.192.IP)
[17:19:45] <steveklabnik> yup
[17:19:48] *** Quits: jgallagher (john@moz-6ge.dhn.131.24.IP) (Client exited)
[17:19:55] *** Joins: mcoffin (mcoffin@moz-8l6.usq.54.128.IP)
[17:20:25] *** chmanchester|afk is now known as chmanchester
[17:20:40] *** Joins: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp)
[17:20:43] <geri> steveklabnik: i would like to do some memory mapping using rust...it uses mmap...will i need to use c?
[17:20:45] *** Quits: areski (areski@moz-erfa2b.dynamicIP.rima-tde.net) (Ping timeout: 121 seconds)
[17:21:14] <geri> sys/mman.h from linux
[17:21:29] <Savago> geri: cool.
[17:21:40] <geri> Savago: do you use rasperry pi?
[17:21:49] <steveklabnik> i mean, you'd just use the libc binding, no? 
[17:21:54] *** Joins: hjr3 (hradtke@moz-lei.av4.169.69.IP)
[17:21:54] *** Quits: vhbit (textual@moz-u66.qv5.65.95.IP) (Quit: Textual IRC Client: www.textualapp.com)
[17:21:57] <geri> raspberry
[17:22:03] *** Quits: Porkepix (Porkepix@moz-e1bv2v.rev.sfr.net) (A TLS packet with unexpected length was received.)
[17:22:20] <steveklabnik> also http://www.reddit.com/r/rust/comments/300ehm/what_should_be_used_instead_of_deprecated/
[17:22:42] *** Joins: alexherbo2 (alex@moz-m1s.bcu.100.89.IP)
[17:22:59] *** Joins: Izzeriz (Lilly@moz-pfkvo9.bredband.comhem.se)
[17:23:32] <mattico> geri: there's a mmap crate on crates.io that I used recently.
[17:23:45] <mattico> Works well except on windows (PR pending)
[17:24:12] <mattico> It's just taken straight out of the old std::mem::MemMap or whatever it used to be
[17:24:18] *** Joins: Shackra (Jorge@moz-7bh.ng6.177.186.IP)
[17:24:36] <klutzy> the mmap crate has an abvious bug on windows
[17:24:42] *** Quits: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp) (Ping timeout: 121 seconds)
[17:24:51] <klutzy> (forgot to open an issue until now..)
[17:25:01] *** Joins: DerisiveLogic (smuxi@moz-g93io6.res.rr.com)
[17:25:04] *** Quits: DerisiveLogic (smuxi@moz-g93io6.res.rr.com) (A TLS packet with unexpected length was received.)
[17:25:10] *** Joins: DerisiveLogic (smuxi@moz-g93io6.res.rr.com)
[17:25:22] *** Joins: zmack (zmack@moz-htpein.home.aster.pl)
[17:25:52] *** Quits: panda (panda@moz-pi4pae.public.wayport.net) (Connection closed)
[17:26:04] *** Joins: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp)
[17:26:06] *** Quits: Izzeri (Lilly@moz-pfkvo9.bredband.comhem.se) (Ping timeout: 121 seconds)
[17:26:40] *** Joins: mkpankov` (user@moz-nleeis.partnertech.ru)
[17:27:37] *** Joins: dawehner (quassel@moz-46p.bjg.78.66.IP)
[17:28:07] *** Joins: frangio (frangio@moz-04sgf8.fibertel.com.ar)
[17:28:29] <geri> mattico: you use it on linux?
[17:28:40] <mattico> geri: yes
[17:28:53] *** Quits: skade (skade@moz-m9ib3m.pools.vodafone-ip.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[17:28:58] <geri> mattico: it worked fine?
[17:29:03] *** Joins: saterus (saterus@moz-o0ug28.res.rr.com)
[17:29:04] <mattico> geri: https://github.com/PistonDevelopers/hematite
[17:29:11] *** Quits: bltavares (bltavares@moz-u6pgnh.7l10.lipn.4802.2001.IP) (Connection closed)
[17:29:25] *** Quits: dawehner (quassel@moz-46p.bjg.78.66.IP) (Connection closed)
[17:29:31] *** Joins: martin1 (martin@moz-tqe.r95.191.81.IP)
[17:29:31] *** Joins: dawehner (quassel@moz-46p.bjg.78.66.IP)
[17:29:36] <mattico> er, https://github.com/PistonDevelopers/hematite/blob/master/src/minecraft/region.rs
[17:29:41] *** Quits: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP) (A TLS packet with unexpected length was received.)
[17:29:52] <Yurume> sfackler, by the way, how did you find the Chrono bug?
[17:29:52] <geri> mattico: i plan to map /dev/mem ...
[17:30:06] *** Quits: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp) (Ping timeout: 121 seconds)
[17:30:29] <mattico> ah
[17:30:44] <sfackler> Yurume: adding chrono support in rust-postgres. The random set of date times I use to test happened to trigger it: https://github.com/sfackler/rust-postgres/blob/master/src/types/chrono.rs
[17:31:12] <Yurume> heh, interesting
[17:31:17] <bstrie> manual quickcheck
[17:31:23] <Yurume> I already knew that Chrono's test coverage is only marginal (about 70% I think), so I wanted to know how to trigger that
[17:31:24] *** Quits: zmack (zmack@moz-htpein.home.aster.pl) (Ping timeout: 121 seconds)
[17:31:33] <Yurume> probably I should just use quickcheck though
[17:31:41] *** Quits: kngl (Adium@moz-rmgnkh.dynamic.voo.be) (Quit: Leaving.)
[17:31:47] *** Quits: martin1 (martin@moz-tqe.r95.191.81.IP) (Quit: WeeChat 1.1.1)
[17:31:49] <sfackler> I think I used 1970-01-01 00:00:00.01
[17:32:02] <sfackler> which in postgres is stored as an offset from 2000-01-01
[17:32:27] <bstrie> I want a version of quickcheck called slowcheck, which just does a brute force test of every value in the range
[17:32:29] <sfackler> so the math here triggered the thing I filed: https://github.com/sfackler/rust-postgres/blob/master/src/types/chrono.rs#L26-L27
[17:32:53] <foodoo> Out of curiosity: Is there some D FFI for Rust? Or is this just as difficult as with C++ because of templates and name mangling?
[17:32:54] <sfackler> on a somewhat unrelated note, this is probably the most sketchy thing I've ever written: https://github.com/sfackler/rust-postgres/blob/master/src/types/chrono.rs#L76
[17:33:00] *** Joins: rkruppe_ (chatzilla@moz-3nj.rnu.131.95.IP)
[17:33:01] <sfackler> I have literally no idea what's going on there
[17:33:14] <steveklabnik> foodoo: iirc, d doesn't have a stable ABI, no?
[17:33:17] <Yurume> sfackler, hmm, if that were an integer second, you could have simply use .timestamp() method (which returns i64)
[17:33:22] <steveklabnik> foodoo: regardless, no, we don't have one
[17:33:29] <foodoo> steveklabnik: no idea if it is stable
[17:33:39] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Ping timeout: 121 seconds)
[17:33:42] *** rkruppe_ is now known as rkruppe
[17:34:01] *** Joins: anom (anhedonia@moz-cfrupk.tor-exit.network)
[17:34:25] *** Joins: stomper (Mibbit@moz-knd.sg7.54.103.IP)
[17:34:45] <foodoo> steveklabnik: But I like that you also mention D during your talk. It's a language that tends to be ignored even though I consider it to be pretty good.
[17:34:54] *** Joins: wldcordeiro (wldcordeiro@moz-pvsror.ut.comcast.net)
[17:34:58] <geri> mattico: i plan to map /dev/mem ... would that work as well?
[17:35:02] <steveklabnik> thanks. yeah, it's been a loooong time since i used D
[17:35:06] <jpg> D is cool, itâ€™s a shame it took so long to gain steam.
[17:35:18] *** ahal|afk is now known as ahal
[17:35:42] *** Quits: sin8h (Adium@moz-f0u.cn5.51.106.IP) (Quit: Leaving.)
[17:35:47] <mattico> geri: I haven't tried but it's worth a shot to just open /dev/mem as a file
[17:35:50] *** Quits: simonoram (simonoram@moz-pllbvg.cable.virginm.net) (Client exited)
[17:35:56] <mattico> geri: for mmap
[17:36:07] *** Quits: siddhartharao17 (uid57287@moz-opec5r.charlton.irccloud.com) (Quit: Connection closed for inactivity)
[17:36:07] <mattico> geri: or you could just use syscalls
[17:36:34] *** Quits: Astrum|Lap (Astrum|Lap@moz-7enfbr.co.comcast.net) (Ping timeout: 121 seconds)
[17:36:40] <stomper> Guys/girls I have a borrow checker related problem, could you please look at the following stackoverflow question: http://stackoverflow.com/q/30243606/39648 ?
[17:36:41] <Yurume> sfackler, oh wait, are you calculating NaiveDate from Julian date? that should be simple, base() + Duration::days(jd) should "just work".
[17:36:52] <mattico> geri: there's also mmap::MapOption::MapAddr(*const u8) for mapping specific addresses
[17:37:07] <foodoo> My personal view on things: D is better than Rust when it comes to emulating the feeling of a scripting language. But Rust uses less magic and it is therefore easier to understand what is going on behind the scenes.
[17:37:19] <geri> foodoo: better? :D
[17:37:45] <foodoo> geri: Just my experience
[17:38:06] *** Quits: sad (Mibbit@moz-tpjl46.co.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[17:38:08] *** Quits: alonlevy (alon@moz-ofv.tgc.142.37.IP) (Ping timeout: 121 seconds)
[17:38:40] <geri> mattico: which syscall?
[17:38:51] *** Joins: mib_tpptid (Mibbit@moz-n6b.blp.205.222.IP)
[17:39:06] <frangio> i'm seeing a `use sys::os as os_imp` in the source for std::env, but i don't understand where that gets resolved to the actual sys::{unix,windows}::os module
[17:39:14] *** Quits: blank_na1e (blank_name@moz-6n9.3ar.36.50.IP) (Ping timeout: 121 seconds)
[17:39:41] *** Quits: mib_tpptid (Mibbit@moz-n6b.blp.205.222.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[17:40:37] *** Joins: dmac_ (dmac@moz-4kcd1c.ca.comcast.net)
[17:40:38] *** Joins: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp)
[17:40:49] *** Joins: aajk (aajk@moz-h7p509.dsl.cambrium.nl)
[17:41:17] <stomper> Guys/girls I have a borrow checker related problem, could you please look at the following stackoverflow question: http://stackoverflow.com/q/30243606/39648 ?
[17:41:26] <mattico> geri: MMAP/MUNMAP
[17:41:34] <mbrubeck> stomper: patience, please, I was already writing a reply...
[17:41:48] <stomper> sorry
[17:41:54] <steveklabnik> stomper: replying now
[17:42:03] <stomper> thanks :)
[17:42:07] *** Joins: dellavg (dellavg@moz-9lesb5.retail.telecomitalia.it)
[17:42:18] <mbrubeck> stomper: self.f1() is called in the top-level scope of f3, so it borrows self until the end of f3.
[17:42:29] *** Joins: bltavares (bltavares@moz-u6pgnh.7l10.lipn.4802.2001.IP)
[17:42:58] <mbrubeck> stomper: In theory rustc could be made smart enough to end the borrow sooner -- see discussion at https://github.com/rust-lang/rust/issues/6393
[17:43:06] <mbrubeck> stomper: But for now, it's always tied to a lexical scope.
[17:43:15] <stomper> but isn't this a major pain int he neck?
[17:43:20] *** Quits: anom (anhedonia@moz-cfrupk.tor-exit.network) (Ping timeout: 121 seconds)
[17:43:30] *** Joins: apdapreturns (Davi_@moz-fsddcr.gvt.net.br)
[17:43:35] <stomper> how will you work around this problem?
[17:43:38] <mbrubeck> stomper: Yes, it does sometimes require twisting the code around. :/
[17:43:59] *** Quits: new_one (new_one@moz-u2j.9e1.42.128.IP) (A TLS packet with unexpected length was received.)
[17:44:00] <apdapreturns> Is the Nightly Book the best way to learn ownership concepts?
[17:44:05] <steveklabnik> yes
[17:44:09] *** Joins: SilverKey (SilverKey@moz-b7q751.biz.rr.com)
[17:44:26] *** Joins: nadirs (nadirs@moz-nuprli.retail.telecomitalia.it)
[17:44:36] <rkruppe> Way to plug your own writing :P
[17:44:40] *** Quits: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp) (Ping timeout: 121 seconds)
[17:44:40] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[17:44:40] *** ChanServ sets mode: +ao pcwalton pcwalton
[17:44:53] <rkruppe> I also liked http://chrismorgan.info/blog/rust-ownership-the-hard-way.html though of course I wasn't a newbie when I read it
[17:44:58] <jpg> apdapreturns: Book is awesome, Chris Morgan also wrote a good article: http://chrismorgan.info/blog/rust-ownership-the-hard-way.html
[17:45:11] *** Joins: mvyskocil (mvyskocil@moz-tmeimb.net.upcbroadband.cz)
[17:45:17] <mbrubeck> stomper: http://is.gd/vyUOgf is one option
[17:45:25] <apdapreturns> "the harder way" I don't even understand the normal way
[17:45:25] <apdapreturns> :p
[17:45:35] *** Joins: blank_name (blank_name@moz-2kp51l.mi.frontiernet.net)
[17:45:49] *** Joins: Porkepix (Porkepix@moz-e1bv2v.rev.sfr.net)
[17:46:22] <mbrubeck> stomper: http://is.gd/EK0oFj is a wordier but more flexible one.
[17:46:29] <mbrubeck> There might be a more elegant solution I'm missing. :P
[17:46:47] *** Joins: mib_wae9uu (Mibbit@moz-tth.gu9.10.60.IP)
[17:46:55] <frangio> okay i think i found it: #[cfg(unix)] #[path = "sys/unix/mod.rs"] mod sys;
[17:46:56] <mbrubeck> apdapreturns: http://blog.skylight.io/rust-means-never-having-to-close-a-socket/ is a favorite of mine.
[17:47:06] *** Quits: Kynes (Kynes@moz-j2us35.mit.edu) (Quit: Leaving)
[17:47:19] <stomper> mbrubeck: thanks, looks like a good work around
[17:47:51] <talchas> note that if you need to say return the value of f1 from f3, and then compute a different one in the else branch, you are mostly SOL on good solutions afaict
[17:48:34] *** Quits: mcoffin (mcoffin@moz-8l6.usq.54.128.IP) (Ping timeout: 121 seconds)
[17:48:47] *** Quits: mib_wae9uu (Mibbit@moz-tth.gu9.10.60.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[17:48:57] *** Quits: qwerty_nor (Thunderbird@moz-vuo.d5a.248.5.IP) (Client exited)
[17:49:07] <stomper> talchas: ya that was my next question :)
[17:49:12] <GGist> mbrubeck: it compiles without the braces as well http://is.gd/yPf6bU
[17:49:25] <talchas> (you can do things like discard the first value and run it again, which works but is a dumb workaround)
[17:49:25] <sfackler> Yurume: it wasn't totally clear to me what the raw value was at the time, but I'll experiment. If it's just days from base, I'll be very happy :)
[17:49:50] <mbrubeck> GGist: hmm!
[17:50:13] <mbrubeck> GGist: That's cool, but it means my understanding of the original problem is incomplete...
[17:50:19] <apdapreturns> btw, will rand be removed soon? i noticed it has its own crate
[17:50:21] *** Joins: tav (tav@moz-ivrq8h.range31-52.btcentralplus.com)
[17:50:51] *** Quits: Izzeriz (Lilly@moz-pfkvo9.bredband.comhem.se) (Quit: bajs)
[17:51:05] <GGist> mbrubeck: well something to do with the else clause caused the problem, I know I had done something like that before and ended up doing this instead
[17:51:42] *** Quits: lucian (lucian@moz-iuo.htl.74.194.IP) (A TLS packet with unexpected length was received.)
[17:51:46] *** Joins: niconii (nicole@moz-ojt2sa.frgo.qwest.net)
[17:51:59] <mbrubeck> GGist: Yeah, I guess things called in the test of an if/else are borrowed for the entire if/else.
[17:52:01] <talchas> (and there's always "give up and transmute the lifetimes to break the link between lifetimes)
[17:52:03] <stomper> Yes I know replace Option<Chars> with Option<i32> and this problem will go away
[17:52:04] <kwantam> Anyone know if there is an official source for Rust stickers, perhaps one where some of the money goes to Mozilla?
[17:52:16] *** Quits: jga (jga@moz-08s.t1q.244.77.IP) (Ping timeout: 121 seconds)
[17:53:03] <geri> mattico: error: there is no MemoryMap in std::os....hm!?
[17:53:26] <stomper> http://is.gd/2VFg11
[17:53:41] <pingveno> geri: It got removed. THe implementation is now on crates.io.
[17:53:52] *** Quits: lenstr (lenstr@moz-haa.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[17:54:07] *** Quits: zeiris (zeiris@moz-8jbmam.letter.agency) (Ping timeout: 121 seconds)
[17:54:24] <apdapreturns> When to use a semicolon in Rust? "io::stdin().read_line(&mut guess).ok()" doesn't have one in the book
[17:54:29] <stomper> Guys is there a good technical tutorial on how the borrow checker works?
[17:54:46] *** Joins: zeiris (zeiris@moz-8jbmam.letter.agency)
[17:54:56] *** Joins: jgallagher (john@moz-d5e8oc.hfc.comcastbusiness.net)
[17:54:56] *** Quits: jimb (user@moz-ivsfl5.ptld.qwest.net) (Ping timeout: 121 seconds)
[17:55:02] <geofft> apdapreturns: If you want to use the result of the expression as the result of the block, leave the semicolon off 
[17:55:07] <XMPPwocky> stomper: there are some ... long-form comments in the source
[17:55:16] <stomper> I have read quite a few of them already but I still feel lost sometimes
[17:55:16] <rkruppe> stomper: In all nitty gritty implementation details, or how to work with it as a Rust user?
[17:55:18] <geofft> rusti: {3+4;} 
[17:55:19] -playbot- ()
[17:55:24] <geofft> rusti: {3+4} 
[17:55:26] -playbot- 7
[17:55:45] <stomper> XMPPwocky: OK
[17:55:57] <apdapreturns> rusti: {println!(3+4);}
[17:55:58] -playbot- <anon>:9:19: 9:22 error: expected a literal
[17:55:58] -playbot- <anon>:9         {println!(3+4);}
[17:55:58] -playbot- output truncated; full output at: http://bit.ly/1IDzlzx
[17:56:04] <stomper> rkruppe: both?
[17:56:08] *** Quits: griff (griff@moz-bf2.sbd.199.62.IP) (Client exited)
[17:56:17] <talchas> yeah, Option<i32> will work because it doesn't have a lifetime like Chars<'a>
[17:56:28] <rkruppe> stomper: The implementation is mostly documented in source code and in compiler hackers' brains
[17:56:41] *** Quits: dfinninger (dfinninger@moz-fe6.5n7.235.207.IP) (Connection closed)
[17:56:41] <foodoo> rusti: {println!("{}", 3+4)}
[17:56:43] -playbot- 7
[17:56:43] -playbot- ()
[17:56:55] *** Joins: slomo_ (slomo@moz-p8m0g2.net)
[17:56:58] <posix4e> What are the 4 most common questions asked about rust?
[17:57:02] <posix4e> or 2
[17:57:05] <posix4e> i guess
[17:57:06] <rkruppe> stomper: As for the other part, there doesn't seem to be a single approach that works for everyone. I learned what I know by reading everything and running into walls until it made click, ha ha
[17:57:16] <posix4e> there's gatta be something people are asking in here all the time(besides what's rust good for)
[17:57:19] *** Joins: kngl (Adium@moz-rmgnkh.dynamic.voo.be)
[17:57:30] *** Joins: shellac (textual@moz-9b49cr.cable.virginm.net)
[17:57:30] <foodoo> posix4e: I guess it depends on the background from which people come from
[17:57:41] <geri> mattico: can you create a basic mmap example?
[17:57:50] *** Joins: dfinninger (dfinninger@moz-fe6.5n7.235.207.IP)
[17:57:53] <talchas> "why doesn't try!() work in main" <.<
[17:58:01] *** Quits: dfinninger (dfinninger@moz-fe6.5n7.235.207.IP) (Connection closed)
[17:58:24] <posix4e> foodoo: hmm let me break that up more. Perhaps i should say if the person is a basic application programmer
[17:58:28] <stomper> rkruppe: Yeah I guess I am in the running into walls phase :D
[17:58:29] <posix4e> talchas: was that for me?
[17:58:36] <talchas> posix4e: yeah
[17:58:39] <posix4e> yea
[17:58:41] <posix4e> that makes sense
[17:58:48] *** Quits: wolfviking0 (wolfviking0@moz-8hd.3b6.246.162.IP) (Ping timeout: 121 seconds)
[17:58:49] *** Joins: wolfviking0_ (wolfviking0@moz-vsj.juj.177.166.IP)
[17:59:18] <foodoo> posix4e: What is Rust good for/at? Is it a good beginner language? Why another language (surprising frequent question from language non-enthusiasts)? I don't do low-level programming, why should I care?
[17:59:23] *** Quits: zeiris (zeiris@moz-8jbmam.letter.agency) (Ping timeout: 121 seconds)
[17:59:37] <posix4e> makes sense
[18:00:02] *** Quits: slomo (slomo@moz-p8m0g2.net) (Ping timeout: 121 seconds)
[18:00:03] *** Joins: dfinning_ (dfinninger@moz-fe6.5n7.235.207.IP)
[18:00:04] <steveklabnik> rust is not a great beginner language, if only because there isn't nearly enough examples and documentation
[18:00:06] <geofft> talchas: hmm, I can see an argument that main should return Option<()> 
[18:00:16] <steveklabnik> beginners should prefer a very used, popular language that's been around a long time
[18:00:18] <geri> mattico: how can i use crates.io? http://ideone.com/VmKm4q ... 
[18:00:39] *** Joins: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp)
[18:00:39] <Fenhl> Mutabah: very late reply, but I need to implement the real Clone trait so that I can use Future::get
[18:00:40] * Mutabah is away (Screen Detached)
[18:00:44] *** Joins: w4ffles (textual@moz-g7g.toe.144.12.IP)
[18:00:48] <Fenhl> :/
[18:01:02] *** Quits: untitaker (untitaker@moz-p6f4vq.highway.telekom.at) (Ping timeout: 121 seconds)
[18:01:09] <geofft> geri: Are you using cargo? cargo makes it super easy 
[18:01:12] *** Joins: zeiris (zeiris@moz-8jbmam.letter.agency)
[18:01:15] <frankmcs_> <-- just got burned by qsort quadratic behavior. T.T
[18:01:16] <posix4e> steveklabnik: Certain things are just hard to do in c/c++ though
[18:01:35] <geri> geofft: yes i do
[18:01:39] <steveklabnik> posix4e: sure, i'm saying that established language is a necceasry but not sufficient condition
[18:02:15] <foodoo> steveklabnik: I think a good beginner language makes it easy to get started with running programs fast so that you quickly have a (positive) feedback circle
[18:02:21] *** Joins: ygrek (user@moz-8j9aeu.org.ua)
[18:02:31] <geofft> geri: add a [dependencies] section to your Cargo.toml with the lines mmap = "*" and libc = "*" 
[18:02:32] <posix4e> It makes sense not to burn a bunch of noobies, so I can see why we don't wanna push everyone towards rust
[18:02:40] <stomper> rkruppe: what about good tutorials from a Rust user's perspective?
[18:02:49] <geofft> or maybe more precise versions on your dependencies, but this is enough to get started 
[18:02:51] *** Quits: mou (donwilliam@moz-lq9kg8.cpe.webspeed.dk) (Ping timeout: 121 seconds)
[18:03:05] *** Joins: untitaker (untitaker@moz-4k4vpj.highway.telekom.at)
[18:03:10] <foodoo> posix4e: Another question: What kind of problems does Rust try to solve?
[18:03:19] <foodoo> posix4e: programming problems
[18:03:33] *** Joins: sin8h (Adium@moz-f0u.cn5.51.106.IP)
[18:03:40] <rkruppe> stomper: That's what I meant by "as for the other part". There's the book and a couple of blog posts, but apparently lifetimes are like monads
[18:04:06] *** Joins: Rym (y@moz-aun.38r.38.217.IP)
[18:04:07] <martinhath> "lifetimes are just like a burrito"
[18:04:09] <foodoo> rkruppe: I guess that is because people don't understand stack frames
[18:04:25] <foodoo> rkruppe: I learned stack frames from programming in assembly
[18:04:38] <rkruppe> foodoo: Maybe, or because they aren't used to thinking in terms of manual memory management.
[18:04:42] *** Quits: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp) (Ping timeout: 121 seconds)
[18:04:56] *** Joins: mou (donwilliam@moz-lq9kg8.cpe.webspeed.dk)
[18:04:59] *** Quits: wolfviking0_ (wolfviking0@moz-vsj.juj.177.166.IP) (Ping timeout: 121 seconds)
[18:05:02] *** Quits: sin8h (Adium@moz-f0u.cn5.51.106.IP) (Quit: Leaving.)
[18:05:11] <rkruppe> But I think even if you understand all that, it takes a while to properly communicate with the borrow checker (in both directions)
[18:05:18] <bstrie> martinhath: no, lifetimes are nothing like a burrito. that's completely incorrect. they're really like an enchilada
[18:05:28] *** chmanchester is now known as chmanchester|mtg
[18:05:30] <foodoo> rkruppe: And many people might not have grokked local variables. I started with JavaScript and didn't care about locals because globals were so much easier (no need for this silly var keyword ;)
[18:05:40] *** Quits: Rym______ (y@moz-dhb.0vk.38.217.IP) (Ping timeout: 121 seconds)
[18:05:53] *** Joins: areski (areski@moz-prr0dt.user.ono.com)
[18:06:03] *** Joins: kazagistar (kazagistar@moz-1jum1i.client.bresnan.net)
[18:06:09] *** Joins: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp)
[18:06:11] *** Joins: simonoram (simonoram@moz-pllbvg.cable.virginm.net)
[18:07:10] <_habnabit> reading over the rust tutorial, i saw this: http://bit.ly/1EIlmCV and i'm not sure why it is that this is an error. it seems like x and y both have the same lifetime since they're declared in the same block, so why is this an error?
[18:07:20] <foodoo> I recently talked to a pupil about his computer class. They used Java. Most students used object properties instead of locals.
[18:07:22] <stomper> rkruppe: OK
[18:07:43] <XMPPwocky> _habnabit: variables go out of scope at the end of a block, in the opposite order they're introduced
[18:07:45] <geri> geofft: will cargo work when i use rustc with cross compiler for arm?
[18:07:54] <_habnabit> XMPPwocky, ah, i thought that might be it
[18:07:58] <_habnabit> XMPPwocky, ok, so declaration order matters
[18:08:08] <XMPPwocky> _habnabit: here, it would be fine, but if it was something like a Vec with a destructor
[18:08:11] <niconii> _habnabit: also, by rust tutorial, do you mean the book?
[18:08:11] <geofft> I don't know. I would expect yes but I'm not sure how 
[18:08:12] <geri> geofft: i need to run: rustc -C linker=arm-linux-gnueabihf-gcc-4.8 --target=arm-unknown-linux-gnueabihf hello.rs
[18:08:14] <XMPPwocky> destructors run in that reverse order too
[18:08:18] <_habnabit> niconii, oh, yes, the book
[18:08:24] <nadirs> hello all
[18:08:27] <niconii> _habnabit: okay, just making sure
[18:08:43] <foodoo> XMPPwocky: Not necessarily. The compiler might (under the right circumstances) also just change the stack pointer and thereby "put" all locals into unallocated stack memory
[18:08:51] <geofft> geri: looks like cargo build has a --target, not sure about -C linker 
[18:08:56] *** Joins: maximih (maximih@moz-0r2bjb.bredband.telia.com)
[18:08:59] <niconii> _habnabit: way back in the day it *was* called the rust tutorial, so i just wanted to be sure you weren't reading incredibly old docs
[18:09:07] <rkruppe> foodoo: Language semantics wise, destructors run in reverse order. Optimizations don't matter
[18:09:16] <XMPPwocky> foodoo: i'm not talking about impelmentation, i'm talking about semantics
[18:09:18] <foodoo> rkruppe: yes, if you have destructors
[18:09:47] <nadirs> I'm trying to build a small cargo project where I call a C function from Rust
[18:09:56] *** Quits: aajk (aajk@moz-h7p509.dsl.cambrium.nl) (Quit: Leaving)
[18:10:01] <nadirs> I followed this guide: http://doc.crates.io/build-script.html
[18:10:03] <geri> can you tell cargo to use gcc linker for rust? .... like: rustc -C linker=arm-linux-gnueabihf-gcc-4.8 --target=arm-unknown-linux-gnueabihf hello.rs
[18:10:03] <_habnabit> XMPPwocky, ok, so the problem is that because x was declared most recently, it's destroyed first, and then y would be a reference to a destroyed thing
[18:10:04] <geri> ?
[18:10:08] *** Joins: ebel (rory@moz-e5du7b.m4r4.nqcu.0470.2001.IP)
[18:10:11] *** Quits: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp) (Ping timeout: 121 seconds)
[18:10:24] <_habnabit> geri, yes, you can
[18:10:25] <_habnabit> geri, one moment
[18:10:26] <niconii> _habnabit: yes
[18:10:27] <rkruppe> foodoo: See, that's what I was talking about. Oroblems like this one are rather independent of how well one understands stack frames (or at least, the explanation is subtle enough that you usually don't think about it).
[18:10:27] <geri> how? :D
[18:10:37] <geri> _habnabit: how? :D i need to run: rustc -C linker=arm-linux-gnueabihf-gcc-4.8 --target=arm-unknown-linux-gnueabihf hello.rs
[18:10:40] <XMPPwocky> _habnabit: right, so in this case, it *would* be OK, but in general it's not
[18:10:43] <_habnabit> geri, yes, you said that
[18:10:46] <_habnabit> geri, and then i said 'one moment'
[18:10:49] <nadirs> but when I `cargo build` I get a "member [...] in archive is not an object"
[18:10:54] <geri> ok
[18:11:07] *** Quits: daheise (Mibbit@moz-2urad3.dz.ornl.gov) (Quit: http://www.mibbit.com ajax IRC Client)
[18:11:25] *** Joins: hhhhhhhh1 (mike@moz-969kuj.cable.virginm.net)
[18:11:33] <foodoo> rkruppe: Agreed. But you still need to understand that destructors are called implicitly at the end of a stack frame
[18:11:52] *** Joins: nham (nham@moz-755.bu3.214.98.IP)
[18:11:53] <foodoo> rkruppe: the order is of course a different question (as you've said)
[18:12:08] <rkruppe> Sure. I'm not saying you can skimp on these things and learn Rust, I'm saying being a C++ expert is no guarantee for seamlessly sliding into Rust.
[18:12:10] <_habnabit> geri, https://github.com/japaric/ruststrap/blob/master/1-how-to-cross-compile.md#cross-compiling-with-cargo
[18:12:16] *** Joins: dpc (dpc@moz-t6gr4b.ca.comcast.net)
[18:12:26] <geri> _habnabit: i was going to post that as well lol
[18:12:33] *** Quits: kgrandon (Adium@moz-ikk1es.nemh.1887.0450.2001.IP) (Quit: Leaving.)
[18:12:46] <niconii> nadirs: weird, what does your code look like?
[18:12:58] *** Quits: maximih (maximih@moz-0r2bjb.bredband.telia.com) (Ping timeout: 121 seconds)
[18:13:00] *** Joins: Averell (averell@moz-erjmi7.9vd7.r2sr.41d0.2001.IP)
[18:13:03] <geofft> wow. from meetup.com: 'Subject: Tomorrow: You and 90 other Rustaceans are going to "Rust Meetup (1.0.0) - Launch Party!"' 
[18:13:04] *** Joins: Lilly (Lilly@moz-pfkvo9.bredband.comhem.se)
[18:13:06] <geofft> that's a lotta rustaceans 
[18:13:19] <FreeFull> Yeah :D
[18:13:29] <posix4e> steveklabnik: I wonder how many years off we are from people learning rust for anything but the giggles then
[18:13:33] *** Quits: frangio (frangio@moz-04sgf8.fibertel.com.ar) (Client exited)
[18:14:05] *** Quits: jgallagher (john@moz-d5e8oc.hfc.comcastbusiness.net) (Client exited)
[18:14:06] <bstrie> geofft: SF party?
[18:14:09] <geofft> bstrie: NYC 
[18:14:10] <phaylon> I'm actually more excited for whats going to be going on 6 months after 1.0 than 1.0 itself
[18:14:13] <bstrie> geofft: wow
[18:14:21] <bstrie> phaylon: rust 1.4
[18:14:22] <geofft> I mean I guess NYC is a huge city, but still 
[18:14:24] <nadirs> niconii: this is the C code: http://lpaste.net/132626
[18:14:46] <phaylon> bstrie: hah
[18:14:47] <geofft> posix4e: eh, I don't know very many people who learned C as a first language 
[18:14:58] <posix4e> i certainly did
[18:15:01] <geofft> I started with GW-BASIC, then C++ from school, then eventually decided I liked C better than C++ 
[18:15:02] <jpg> Same.
[18:15:13] <bstrie> I can imagine people learning C as their first "serious" language, unserious langauges being BASIC etc
[18:15:15] <posix4e> But yea, rust as the first language seems a bad idea especially now
[18:15:27] <posix4e> bstrie: yea actually that's true with me, i did some basic on my apple 2e
[18:15:29] <nadirs> niconii: this is the build.rs http://is.gd/Rh9wcJ
[18:15:33] *** Joins: breiska (breiska@moz-sdntg3.dhcp.inet.fi)
[18:15:42] *** Joins: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp)
[18:15:45] <phaylon> I actually meant more ecosystem wise. I've become a fan of reading rust code for stuff I don't understand
[18:15:46] <geri> how to install cargo? is there a package for ubuntu?
[18:15:53] <geofft> I think Rust is a fine first systems language 
[18:15:54] *** Joins: Uther (Thunderbird@moz-gssp49.fbx.proxad.net)
[18:15:54] *** Joins: wolfviking0 (wolfviking0@moz-8hd.3b6.246.162.IP)
[18:15:56] <bstrie> geri: what did you use to install rust?
[18:16:15] <posix4e> geofft: except steve brought up the good point, there's just not enough docs
[18:16:16] <geofft> (I say "systems" instead of "serious" because there are plenty of "serious" languages that fill BASIC's role. Python comes to mind) 
[18:16:24] <bstrie> geofft: I think rust is a fantastic first systems language
[18:16:26] <geri> im on ubuntu and installed the rust compiler from source...as a cross compiler for arm!
[18:16:33] <geri> bstrie: 
[18:16:41] <jpg> Agreed, itâ€™s only docs and beginner resources that are lacking. The language itself is actually really good for beginners IMO.
[18:16:42] *** Quits: pgonda (peter@moz-s36.0tp.134.75.IP) (Ping timeout: 121 seconds)
[18:16:45] <bstrie> geri: did you do `make install`? that might install cargo as well...
[18:16:53] <geri> yes i did make install
[18:16:58] <geri> bust cargo not there?
[18:16:59] <bstrie> is cargo there?
[18:17:02] <bstrie> hm
[18:17:10] *** Quits: ygrek (user@moz-8j9aeu.org.ua) (A TLS packet with unexpected length was received.)
[18:17:14] *** Quits: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP) (Ping timeout: 121 seconds)
[18:17:16] *** Quits: Guest (textual@moz-rtn.fg7.77.192.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[18:17:17] <bstrie> good question
[18:17:17] <geofft> wait, if you installed Rust from source, that must mean you have a native (non-cross) Rust somewhere 
[18:17:19] *** Joins: Guest (textual@moz-rtn.fg7.77.192.IP)
[18:17:19] <geofft> in order to compile rustc 
[18:17:21] <geri> bstrie: it it in git checkout stable?
[18:17:32] <geofft> where'd you get the native Rust from? 
[18:17:35] <mbrubeck> bstrie: Heh, BASIC was my first programming language and C was my first "serious" language.
[18:17:48] <bstrie> geofft: when you compile rust, rust downloads a binary to compile rust
[18:17:51] *** Joins: lenstr (lenstr@moz-haa.vju.25.171.IP)
[18:18:00] <geri> geofft: from source... i used this tutorial: https://github.com/japaric/ruststrap/blob/master/1-how-to-cross-compile.md
[18:18:01] *** Joins: frangio (frangio@moz-04sgf8.fibertel.com.ar)
[18:18:16] <geofft> bstrie: ahhh 
[18:18:34] <geofft> right, forgot that those are slightly different rusts 
[18:18:40] <geri> yes
[18:18:41] *** Quits: frangio (frangio@moz-04sgf8.fibertel.com.ar) (Client exited)
[18:18:49] <geri> is cargo not there?
[18:18:58] *** Joins: lucian (lucian@moz-2c3pda.cable.virginm.net)
[18:19:00] <geofft> it's a separate thing, so I think it won't be there 
[18:19:04] *** Quits: slomo_ (slomo@moz-p8m0g2.net) (A TLS packet with unexpected length was received.)
[18:19:18] *** Joins: slomo_ (slomo@moz-p8m0g2.net)
[18:19:29] <posix4e> steveklabnik: I just realized, isn't there a catch 22. We need more examples of the basics before rust is good for beginners. But only beginners will ask the questions and thus create the examples? How can we short circuit over the next year or so
[18:19:32] *** Joins: ygrek (user@moz-8j9aeu.org.ua)
[18:19:40] <geri> hm so i need to build it from source? but in this case not for arm!?
[18:19:43] *** Quits: alex2 (alex@moz-bfj7pj.fios.verizon.net) (Ping timeout: 121 seconds)
[18:19:44] *** Quits: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp) (Ping timeout: 121 seconds)
[18:19:44] <geri> geofft: 
[18:19:54] <bstrie> geri: I think the general solution is to install cargo via the normal rust installation procedure, then compile rust from source
[18:20:14] *** Quits: mattico (matt@moz-umapnl.bff5.ebih.ea00.2607.IP) (Ping timeout: 121 seconds)
[18:20:36] <geri> bstrie: what is the normal rust installation procedur?
[18:20:48] <mbrubeck> geri: http://www.rust-lang.org/install.html
[18:20:51] <gsingh93> is the solution to this error to use Rc
[18:20:54] <gsingh93> http://is.gd/tCmMdq
[18:21:02] *** Joins: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp)
[18:21:15] <niconii> nadirs: hmm, yeah, i'm getting the same error
[18:21:29] <geri> mbrubeck: git clone https://github.com/rust-lang/cargo && ./configure && make ?
[18:21:50] <Ms2ger> gsingh93, probably not
[18:22:18] <gsingh93> Ms2ger: any other ideas? I want to avoid cloning for the hashmap keys
[18:22:35] <mbrubeck> geri: That should work, but the page I linked has binaries for Mac/Win/Linux hosts, which would be faster.
[18:22:39] <Ms2ger> gsingh93, I presume they're not really u32s
[18:22:41] <mbrubeck> if your host is supported.
[18:22:45] <gsingh93> Ms2ger: yup
[18:22:57] <nadirs> niconii: I also tried using the "gcc" crate (https://crates.io/crates/gcc) but got the same error
[18:23:00] *** Quits: lucian (lucian@moz-2c3pda.cable.virginm.net) (Ping timeout: 121 seconds)
[18:23:01] <Ms2ger> gsingh93, why are the keys in the hashmap as well as in the vec?
[18:23:20] *** NameNotFound is now known as zz_NameNotFound
[18:23:36] <mbrubeck> gsingh93: https://www.reddit.com/r/rust/comments/2ma9xp/struct_with_reference_to_other_value_in_struct/ has some options
[18:23:38] <gsingh93> Ms2ger: i want to be able to tell in O(1) what index they have in the Vec
[18:23:47] *** Quits: slomo_ (slomo@moz-p8m0g2.net) (Quit: Ex-Chat)
[18:23:48] <geri> mbrubeck: i already installed rust and only need cargo...
[18:23:57] *** Joins: mib_to6ih3 (Mibbit@moz-i7cb3r.fios.verizon.net)
[18:24:06] *** Quits: Rym (y@moz-aun.38r.38.217.IP) (Ping timeout: 121 seconds)
[18:24:23] <mbrubeck> geri: The binaries I linked to include Cargo.
[18:24:45] <niconii> nadirs: it builds if i move dmg.h to dmg.c
[18:24:45] <mbrubeck> geri: You'll get an extra copy of rustc that you don't need, but you can use the Cargo that it comes with. If you want.
[18:24:48] *** Quits: foodoo (foodoo@moz-h3ct01.dyn.telefonica.de) (Connection closed)
[18:25:01] *** Joins: tcard (tcard@moz-jdrdbk.ddns.jazztel.es)
[18:25:05] *** Quits: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp) (Ping timeout: 121 seconds)
[18:25:14] <niconii> nadirs: (and change the filename in build.rs, of course)
[18:25:17] <geri> mbrubeck: will it install rust as well .. which i dont need?
[18:25:37] *** Quits: zeiris (zeiris@moz-8jbmam.letter.agency) (Ping timeout: 121 seconds)
[18:26:55] <mbrubeck> geri: Yes.  But you can just make sure your preferred rustc is first in your path and ignore the other one.  Or you can build Cargo from source if that's simpler.
[18:26:58] <nadirs> niconii: you are great! thank you so much
[18:27:04] <geofft> geri: also, if this is your first time using cargo, I'd sort of recommend playing with things with the native / normal rustc and cargo first 
[18:27:09] <geofft> so that you get a sense of how it works 
[18:27:28] <nadirs> niconii: maybe using ".h" requires some different flags for either gcc or ar
[18:27:28] <geri> geofft: i already used cargo for native code...
[18:27:29] <geofft> otherwise you'll be running into issues and never know if that's because you're missing a step, or because cross-compiling is weird :) 
[18:28:14] <gsingh93> Ms2ger: does that make sense?
[18:28:49] <Ms2ger> gsingh93, I imagine you don't really want this data structure, but I can't think of something else off hand
[18:29:39] *** Quits: tcard (tcard@moz-jdrdbk.ddns.jazztel.es) (Client exited)
[18:30:03] *** Joins: alonlevy (alon@moz-uiqsl4.red.bezeqint.net)
[18:30:11] *** Joins: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP)
[18:30:25] *** Joins: tcard (tcard@moz-jdrdbk.ddns.jazztel.es)
[18:30:29] *** Joins: anom (anhedonia@moz-ib8bp9.us.unmetered.com)
[18:30:34] *** Joins: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp)
[18:30:53] <gsingh93> Ms2ger: this is the standard way to implement decrease-key in a binary heap, from what i've read
[18:30:55] *** Quits: apoelstra (username@moz-pvbasl.net) (Ping timeout: 121 seconds)
[18:31:12] <gsingh93> you need O(1) access to the element
[18:31:20] *** Joins: fabianvf_ (fabianvf@moz-j12.dim.197.216.IP)
[18:31:28] <gsingh93> it at least compiled using Rc's
[18:31:35] *** Joins: jyxent (jyxent@moz-jvi.6ig.155.107.IP)
[18:32:10] *** Quits: fabianvf (fabianvf@moz-j12.dim.197.216.IP) (Connection closed)
[18:32:41] *** Joins: apoelstra (username@moz-pvbasl.net)
[18:32:47] *** Joins: Matthias247 (Miranda@moz-49li60.hsi14.kabel-badenwuerttemberg.de)
[18:32:54] *** Joins: zeiris (zeiris@moz-8jbmam.letter.agency)
[18:33:05] *** Joins: pgonda (peter@moz-s36.0tp.134.75.IP)
[18:33:29] *** Quits: tcard (tcard@moz-jdrdbk.ddns.jazztel.es) (Client exited)
[18:33:32] *** Joins: errordeveloper (ilya@moz-l8r.m9l.11.94.IP)
[18:33:49] *** Joins: debu (debu@moz-6momm3.adsl.alicedsl.de)
[18:34:37] *** Quits: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp) (Ping timeout: 121 seconds)
[18:34:54] *** Quits: i0n_ (i0n_@moz-kpda3t.liwest.at) (Ping timeout: 121 seconds)
[18:35:11] *** Joins: Quanttek (quassel@moz-25k96c.6fkd.dvrb.8108.2a02.IP)
[18:35:25] *** Joins: flaub (flaub@moz-2lpk54.hicv.net)
[18:35:38] *** Joins: robojeb (robojeb@moz-e8j29t.cs.hmc.edu)
[18:35:43] <gsingh93> and now I remember that Rc is immutable, so it doesn't make sense for a decrease-key operation :/
[18:35:53] <redshift> Is this a good place to ask about troubles building rustc?  Or is that an -internals kind of thing?
[18:35:59] *** Joins: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp)
[18:36:05] *** Joins: griffindy (textual@moz-e2t.qpb.133.192.IP)
[18:37:03] *** Quits: zeiris (zeiris@moz-8jbmam.letter.agency) (Ping timeout: 121 seconds)
[18:37:36] *** Joins: flaub_ (flaub@moz-6d01au.reverse.softlayer.com)
[18:37:39] *** nsm is now known as nsm|away
[18:37:45] *** Joins: lyc (lyc@moz-kve.sb5.109.59.IP)
[18:38:45] *** Joins: zeiris (zeiris@moz-8jbmam.letter.agency)
[18:39:13] *** Quits: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP) (Ping timeout: 121 seconds)
[18:39:19] *** Quits: alonlevy (alon@moz-uiqsl4.red.bezeqint.net) (Ping timeout: 121 seconds)
[18:39:27] *** Quits: flaub (flaub@moz-2lpk54.hicv.net) (Ping timeout: 121 seconds)
[18:40:02] *** Quits: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp) (Ping timeout: 121 seconds)
[18:40:04] *** Joins: dstrbad (dstrbad@moz-1dl1hu.dsl.iskon.hr)
[18:40:10] *** Quits: dstrbad (dstrbad@moz-1dl1hu.dsl.iskon.hr) (A TLS packet with unexpected length was received.)
[18:40:12] <brson> can somebody link me to a site that shows subreddit stats over time?
[18:40:14] <geri> mbrubeck: how can i install it without overwriting my current rust?
[18:40:24] <geri> so that it only installes cargo
[18:40:27] *** Quits: fabianvf_ (fabianvf@moz-j12.dim.197.216.IP) (Connection closed)
[18:40:45] <brson> maybe this one http://redditmetrics.com/
[18:40:45] *** Joins: jgallagher (john@moz-d5e8oc.hfc.comcastbusiness.net)
[18:40:54] *** Joins: jimb (user@moz-6gkikn.or.comcast.net)
[18:41:17] *** Joins: dstrbad (dstrbad@moz-1dl1hu.dsl.iskon.hr)
[18:41:23] *** Joins: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp)
[18:41:37] *** Joins: fabianvf (fabianvf@moz-j12.dim.197.216.IP)
[18:41:43] *** Joins: maximih (maximih@moz-0r2bjb.bredband.telia.com)
[18:41:47] *** Quits: lyc (lyc@moz-kve.sb5.109.59.IP) (Ping timeout: 121 seconds)
[18:41:48] <stomper> I have updated my borrow checker question please take a look: http://stackoverflow.com/q/30243606/39648
[18:41:56] *** Joins: kamilc__ (kamil@moz-sh222i.play-internet.pl)
[18:42:47] *** Quits: freiguy1 (Mibbit@moz-pk0.3db.236.192.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[18:42:51] <mbrubeck> geri: You can download the tarball and unpack it anywhere, or you can pass a --prefix argument to the rustup script.
[18:43:00] *** Quits: simonoram (simonoram@moz-pllbvg.cable.virginm.net) (Client exited)
[18:43:30] *** Quits: zeiris (zeiris@moz-8jbmam.letter.agency) (Ping timeout: 121 seconds)
[18:43:31] *** Joins: tcard (tcard@moz-jdrdbk.ddns.jazztel.es)
[18:43:45] <mkpankov`> interesting, TRPL doesn't talk about object-safeness of traits at all
[18:44:05] <mkpankov`> is there any canonical guide? :)
[18:44:06] *** Joins: griff (griff@moz-bf2.sbd.199.62.IP)
[18:44:21] *** Quits: tcard (tcard@moz-jdrdbk.ddns.jazztel.es) (Client exited)
[18:44:33] <mbrubeck> stomper: std::str::Chars contains a borrowed reference to the string that created it.
[18:45:27] *** Quits: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp) (Ping timeout: 121 seconds)
[18:45:29] <mbrubeck> stomper: the full type name is Chars<'a>
[18:45:32] *** Quits: dstrbad (dstrbad@moz-1dl1hu.dsl.iskon.hr) (Ping timeout: 121 seconds)
[18:46:07] *** Joins: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp)
[18:46:07] <mbrubeck> stomper: So `f1(&mut self) -> Option<Chars>` without elision is `f1(&'a mut self) -> Option<Chars<'a>>`
[18:46:13] <stomper> ok but how does it affect the scope of self?
[18:46:24] <stomper> Ohh!
[18:46:27] *** Joins: sommoyogurt (sommoyogurt@moz-uh60ch.21-151.libero.it)
[18:46:27] <mbrubeck> which means that `self` remains borrowed as long as the return value from `f1` is in scope
[18:46:29] <geri> mbrubeck: to the install.sh ?
[18:46:59] <mbrubeck> geri: The rustup.sh script mentioned on http://www.rust-lang.org/install.html
[18:47:04] <stomper> mbrubeck:so can I use 'b for self and 'a for Chars to avoid this problem?
[18:47:41] <mbrubeck> stomper: Not if you are actually returning an iterator over something from `self`
[18:47:54] *** Joins: simonoram (simonoram@moz-pllbvg.cable.virginm.net)
[18:48:12] <mbrubeck> stomper: Though if you can make a function from `&self -> Chars` (instead of `&mut self -> Chars`) that would fix the issue.
[18:48:54] * mbrubeck -> lunch
[18:48:59] <stomper> would you like to add this to your answer on stackover flow?
[18:49:47] *** chmanchester|mtg is now known as chmanchester
[18:49:55] *** Joins: zeiris (zeiris@moz-8jbmam.letter.agency)
[18:50:00] <geri> mbrubeck: curl -s https://static.rust-lang.org/rustup.sh | sh --prefix ??? which prefix?
[18:50:09] *** Quits: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp) (Ping timeout: 121 seconds)
[18:50:18] *** Joins: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com)
[18:50:25] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[18:50:27] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[18:50:28] *** zz_NameNotFound is now known as NameNotFound
[18:50:43] *** Quits: ktakv (ktakv@moz-2igq4u.1984.is) (Quit: quit)
[18:50:48] *** Joins: Rym (y@moz-aun.38r.38.217.IP)
[18:51:04] *** Joins: daheise (Mibbit@moz-2urad3.dz.ornl.gov)
[18:52:08] *** Quits: mkpankov` (user@moz-nleeis.partnertech.ru) (Ping timeout: 121 seconds)
[18:52:55] *** Quits: stomper (Mibbit@moz-knd.sg7.54.103.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[18:52:57] *** Joins: arielb1 (Mibbit@moz-os36bp.tau.ac.il)
[18:53:08] *** Parts: arielb1 (Mibbit@moz-os36bp.tau.ac.il) ()
[18:54:05] *** Joins: naerbnic (naerbnic@moz-ad7.4ra.239.216.IP)
[18:54:36] *** Quits: kngl (Adium@moz-rmgnkh.dynamic.voo.be) (Quit: Leaving.)
[18:54:53] *** Quits: marc_ (uid5324@moz-t3einu.ealing.irccloud.com) (Quit: Connection closed for inactivity)
[18:55:03] <geofft> mkpankov`: I suspect huon's blog post is the best reference at the moment in practice? 
[18:55:17] *** Quits: Rym (y@moz-aun.38r.38.217.IP) (Ping timeout: 121 seconds)
[18:55:39] *** Joins: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp)
[18:56:13] *** Joins: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net)
[18:58:03] *** Quits: benbangert (bbangert@moz-t8r7ci.org) (Ping timeout: 121 seconds)
[18:58:06] *** Quits: dawehner (quassel@moz-46p.bjg.78.66.IP) (Ping timeout: 121 seconds)
[18:58:09] <mkpankov> geofft could you link it please? 
[18:58:41] <geofft> https://huonw.github.io/blog/2015/01/object-safety/ 
[18:58:45] *** Quits: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net) (Ping timeout: 121 seconds)
[18:58:52] <geofft> there are a few changes since then, noted inline 
[18:58:57] *** Joins: Brochacho (alberto@moz-0ph8ba.il.comcast.net)
[18:59:39] *** Quits: tamird (textual@moz-gkumi9.dyn.optonline.net) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[18:59:41] *** Quits: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp) (Ping timeout: 121 seconds)
[19:00:09] <steveklabnik> geri: the prefix is where you want it installed to on your system
[19:00:22] <mkpankov> thanks
[19:00:28] *** Joins: tamird (textual@moz-gkumi9.dyn.optonline.net)
[19:01:10] *** Joins: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp)
[19:02:37] <geri> steveklabnik: can i tell it only to install cargo?
[19:04:24] *** Joins: rkruppe_ (chatzilla@moz-3nj.rnu.131.95.IP)
[19:05:11] *** Joins: freiguy1 (Mibbit@moz-pk0.3db.236.192.IP)
[19:05:12] *** Quits: hjr3 (hradtke@moz-lei.av4.169.69.IP) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[19:05:13] *** Quits: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp) (Ping timeout: 121 seconds)
[19:05:39] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Ping timeout: 121 seconds)
[19:05:51] *** rkruppe_ is now known as rkruppe
[19:05:54] <freiguy1> VShell: I saw you contributed to nickel. Do you know how to respond with a redirect with the middleware! macro?
[19:06:50] *** Quits: DerisiveLogic (smuxi@moz-g93io6.res.rr.com) (Ping timeout: 121 seconds)
[19:06:55] <VShell> honestly, I can't remember - I contributed because someone else mentioned something they wanted to do with an example, I've never actually used nickel myself.
[19:07:14] *** Joins: dinfuehr (dinfuehr@moz-8rennh.highway.telekom.at)
[19:07:14] *** Quits: dinfuehr (dinfuehr@moz-8rennh.highway.telekom.at) (Connection closed)
[19:07:22] *** Joins: mcoffin (mcoffin@moz-8l6.usq.54.128.IP)
[19:07:22] *** Joins: dinfuehr (dinfuehr@moz-8rennh.highway.telekom.at)
[19:07:23] *** Joins: jws (jsalter@moz-q98cl6.cable.virginm.net)
[19:07:29] *** Joins: willem (willem@moz-facs2s.dynamic.upc.nl)
[19:07:53] *** Joins: raichoo (raichoo@moz-fcaeft.dsl.tropolys.de)
[19:07:55] <freiguy1> VShell: ahh ok, thanks.
[19:08:15] <jws> hi there, ive having some trouble importing from librustc_unicode
[19:08:26] *** Joins: mkpankov` (mkpankov@moz-93j.4ms.23.84.IP)
[19:08:33] <jws> i would have thought i could do "use rustc_unicode::str as unicode_str", but it fails
[19:08:49] <jws> error: unresolved import `rustc_unicode::str`. Did you mean `self::rustc_unicode`?
[19:09:13] <jws> is there something special i need to do to convince rust to see the lib?
[19:10:10] *** Joins: tomh- (uid501@moz-bvkt87.charlton.irccloud.com)
[19:11:17] *** Joins: zmack (zmack@moz-htpein.home.aster.pl)
[19:11:19] *** Quits: mkpankov (mkpankov@moz-ppd.dee.149.83.IP) (Ping timeout: 121 seconds)
[19:12:32] *** Joins: fabianvf_ (fabianvf@moz-j12.dim.197.216.IP)
[19:12:32] *** Quits: fabianvf (fabianvf@moz-j12.dim.197.216.IP) (Connection closed)
[19:12:36] <Savago> Quick questionâ€¦ if I have an Option<String>, how can I compare it to another String? Iâ€™m seeing this compiler error: error: mismatched types:
[19:12:37] <Savago>  expected `core::option::Option<collections::string::String>`,
[19:12:38] <Savago>     found `collections::string::String`
[19:12:39] <Savago> (expected enum `core::option::Option`,
[19:12:40] <Savago>     found struct `collections::string::String`) [E0308]
[19:12:48] *** Quits: colinsurprenant (colin@moz-rmn4e2.169.electronicbox.net) (Client exited)
[19:13:12] <Brochacho> Savago: unwrap or match
[19:13:27] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[19:14:19] *** Quits: starless (starless@moz-u9gmm1.res.rr.com) (Quit: Leaving)
[19:14:33] *** Quits: zoosha (gmunoz@moz-e0j.3sr.79.167.IP) (Quit: leaving)
[19:14:35] *** Quits: harrisonclarke (harrisoncla@moz-g1kp2c.ns.bellaliant.net) (Connection closed)
[19:15:34] <Savago> Brochacho: yay! Thanks man. :-)
[19:16:22] *** Quits: shellac (textual@moz-9b49cr.cable.virginm.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[19:16:57] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[19:17:01] <talchas> I suppose there's also .map_or(|x| x == somestr, false)
[19:17:04] *** Quits: simonoram (simonoram@moz-pllbvg.cable.virginm.net) (Client exited)
[19:17:09] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[19:17:10] <talchas> er, reverse those args
[19:17:34] *** Joins: cptroot (Mibbit@moz-n169l8.caltech.edu)
[19:17:40] *** Joins: harrisonclarke (harrisoncla@moz-g1kp2c.ns.bellaliant.net)
[19:18:28] *** Quits: brson (brson@moz-u3dg2t.sfo1.mozilla.com) (Ping timeout: 121 seconds)
[19:18:32] <Savago> Brochacho: errrâ€¦ now Iâ€™m seeing this: let mq_distance = opts::get().mq_distance.unwrap().clone();
[19:18:38] <Savago> 82:38 error: cannot move out of borrowed content
[19:18:55] *** Quits: alevy (alevy@moz-roc8ao.scs.stanford.edu) (Ping timeout: 121 seconds)
[19:19:58] <talchas> .as_ref().unwrap().clone() probably
[19:20:30] *** Quits: anom (anhedonia@moz-ib8bp9.us.unmetered.com) (Ping timeout: 121 seconds)
[19:20:33] <talchas> (I'm guessing opts::get() returns a &Something, in which case you can't remove the String from it)
[19:20:38] <Savago> talchas: worked with         let mq_distance = opts::get().mq_distance.clone();
[19:20:39] <Savago>         let mq_distance = mq_distance.unwrap();
[19:20:53] <talchas> yeah, that would work too
[19:20:54] *** Quits: Guest22 (textual@moz-jt9juk.fibertel.com.ar) (Ping timeout: 121 seconds)
[19:21:02] <Savago> let me try as_ref().
[19:21:11] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Ping timeout: 121 seconds)
[19:21:54] <freiguy1> does anyone know how to respond with a redirect using nickel.rs?
[19:22:14] *** Quits: ptalbot (ptalbot@moz-j4gnuh.fbx.proxad.net) (Ping timeout: 121 seconds)
[19:22:51] *** Joins: Guest22 (textual@moz-jt9juk.fibertel.com.ar)
[19:23:36] *** Joins: alevy (alevy@moz-roc8ao.scs.stanford.edu)
[19:23:44] *** Quits: Porkepix (Porkepix@moz-e1bv2v.rev.sfr.net) (Quit: )
[19:23:56] *** Joins: ptalbot (ptalbot@moz-j4gnuh.fbx.proxad.net)
[19:24:39] <jpg> freiguy1: I was trying to work it out earlier, I think the trick is response.set_status() but I havenâ€™t figured it out yet.
[19:24:54] <talevy> is "RustcDecodable" a custom trait derivation? and if so, do others work in the beta stable channel? I understand that custom_derive is an unstable feature
[19:25:14] <freiguy1> jpg: I think i'm getting further. I'll let you know if I figure out something
[19:25:30] <FreeFull> The best thing is to compare by reference
[19:25:33] *** Joins: achanda (achanda@moz-m7s4h8.static.monkeybrains.net)
[19:25:51] *** Quits: daheise (Mibbit@moz-2urad3.dz.ornl.gov) (Quit: http://www.mibbit.com ajax IRC Client)
[19:25:52] *** Quits: Guest22 (textual@moz-jt9juk.fibertel.com.ar) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[19:25:54] <FreeFull> To avoid allocation or moving
[19:26:02] <jpg> achanda: Hey Abhishek! Itâ€™s Joseph.
[19:26:09] <achanda> jpg: hey man!
[19:26:15] <achanda> how are ya?
[19:26:26] <jpg> achanda: Yeah good man, long time no see.
[19:26:41] *** Joins: tcard (tcard@moz-jdrdbk.ddns.jazztel.es)
[19:26:50] <achanda> jpg: yeah, life's slow, trying to pick up some rust :)
[19:27:00] *** Quits: w4ffles (textual@moz-g7g.toe.144.12.IP) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[19:27:03] <jpg> achanda: Awesome, itâ€™s super fun.
[19:27:10] *** Joins: w4ffles (textual@moz-g7g.toe.144.12.IP)
[19:27:11] <achanda> lovin it!
[19:27:22] *** Quits: zmack (zmack@moz-htpein.home.aster.pl) (Connection closed)
[19:27:28] <jpg> The world is smaller, and shrinking all the time. :P
[19:27:31] *** Quits: spider-mario (spidermario@moz-coblcf.fbx.proxad.net) (Connection closed)
[19:27:36] <achanda> you bet!
[19:27:41] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Ping timeout: 121 seconds)
[19:27:43] *** Quits: errordeveloper (ilya@moz-l8r.m9l.11.94.IP) (Ping timeout: 121 seconds)
[19:28:02] *** Joins: murz (murz@moz-nr2kro.wa.comcast.net)
[19:29:23] *** Joins: senderista (tdbaker@moz-6nsjqs.wa.comcast.net)
[19:29:23] *** Joins: errordeveloper (ilya@moz-l8r.m9l.11.94.IP)
[19:29:23] *** Quits: errordeveloper (ilya@moz-l8r.m9l.11.94.IP) (Connection closed)
[19:29:35] <dschatzberg> if I have a macro in ::foo::macros, how can I use it from ::bar?
[19:29:44] *** Quits: alevy (alevy@moz-roc8ao.scs.stanford.edu) (Ping timeout: 121 seconds)
[19:29:55] *** Joins: spider-mario (spidermario@moz-coblcf.fbx.proxad.net)
[19:30:25] *** Joins: Douman (Douman@moz-c3cvbg.dynamic.mts-nn.ru)
[19:30:35] *** Quits: Guest__ (textual@moz-fvqc2v.dynamic.fusionbroadband.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[19:31:14] *** Joins: Porkepix (Porkepix@moz-e1bv2v.rev.sfr.net)
[19:31:17] *** Joins: Guest62 (textual@moz-jj1l4d.bah.com)
[19:31:44] <freiguy1> jpg: I got it, you have to access the underlying hyper response after setting the status code to redirect: response.set_status(TemporaryRedirect); response.origin.headers_mut().set_raw("location", vec![b"url".to_vec()]);
[19:32:10] *** Quits: moa (Cedric@moz-d23h55.abo.wanadoo.fr) (Ping timeout: 121 seconds)
[19:32:15] <jpg> freiguy1: Damn, it would have taken me forever to work that out. Thanks man!
[19:32:24] <reem> That will work, but there is a better way!
[19:32:33] <reem> Oh wait, not iron
[19:32:46] * reem goes back to the shadows
[19:32:48] <jpg> reem: Heh. Hyper in thise case
[19:32:51] *** Quits: Fiveside (fiveside@moz-t2eatg.vsp.com) (Ping timeout: 121 seconds)
[19:33:08] <reem> Well, it's still a bit better to not use the raw API for headers
[19:33:08] <freiguy1> reem: if you're talking to us! woot! Oh ok. Ha. I switch when I couldn't use the static middleware :( wanted to host jquery myself!
[19:33:12] *** Quits: adjivas (adjivas@moz-dkh.lpf.210.62.IP) (Quit: WeeChat 1.1.1)
[19:33:26] <reem> It's now fixed as staticfile, fwiw
[19:34:12] <reem> Better to do headers.set(Location(url))
[19:34:17] *** Quits: zeiris (zeiris@moz-8jbmam.letter.agency) (Ping timeout: 121 seconds)
[19:35:02] <reem> In iron there is a Redirect modifier, so you could just do res.set(Refirect(url )) and that would set the status and header
[19:35:08] <freiguy1> Ooh yes, that would be awesome.
[19:35:33] *** Quits: bfrog (tburdick@moz-pk8bpc.nlnn.lutu.000d.2601.IP) (Ping timeout: 121 seconds)
[19:35:35] <jpg> freiguy1: In Nickle did using set_header_fallback work?
[19:35:46] *** Quits: w4ffles (textual@moz-g7g.toe.144.12.IP) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[19:35:51] *** Joins: alevy (alevy@moz-roc8ao.scs.stanford.edu)
[19:35:58] *** Joins: w4ffles (textual@moz-g7g.toe.144.12.IP)
[19:37:21] <freiguy1> reem: sorry, i'm slightly distracted, but I'll definitely be using that built in header setter
[19:37:37] <freiguy1> reem: also, i'll be checking out iron again soon!
[19:37:51] <reem> Generally you never use the raw APIs
[19:38:01] *** Quits: carlcolglazier (uid64399@moz-118bsh.ealing.irccloud.com) (Quit: Connection closed for inactivity)
[19:38:09] <reem> They're basically there for JavaScript interop in servo
[19:38:33] *** Quits: wg (wg@moz-90avh0.ocn.ne.jp) (Ping timeout: 121 seconds)
[19:38:44] <freiguy1> jpg: that might work, but I haven't dug in too much. I'll keep working
[19:39:02] <jws> does anyone know what the 'librustc_' prefix means for certain crates?
[19:39:16] *** Parts: jyxent (jyxent@moz-jvi.6ig.155.107.IP) ()
[19:39:41] <Altazimuth> Stopping lurking for a moment to wish you folk good luck with the release tomorrow! Sadly all meet-ups are booked up and I have fallen ill.
[19:39:42] *** Quits: michael1 (michael@moz-9vjtig.mo.charter.com) (Ping timeout: 121 seconds)
[19:39:43] <steveklabnik> jws: basically that they're internal to rustc
[19:39:43] *** Joins: errordeveloper (ilya@moz-l8r.m9l.11.94.IP)
[19:39:48] <steveklabnik> Altazimuth: thank you!
[19:39:52] <steveklabnik> Altazimuth: hope you feel better :(
[19:40:01] <jws> am i not supposed to use them?
[19:40:06] <steveklabnik> that's correct
[19:40:06] <Altazimuth> Thanks. Exam stress can really get to you, heh.
[19:40:30] <steveklabnik> i don't miss those days for sure :)
[19:40:37] *** Joins: michael1 (michael@moz-9vjtig.mo.charter.com)
[19:40:42] *** Joins: wg (wg@moz-2ao9n5.ocn.ne.jp)
[19:40:57] <geri> steveklabnik: can i tell it only to install cargo?
[19:41:51] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[19:42:15] *** Joins: zeiris (zeiris@moz-8jbmam.letter.agency)
[19:42:46] <talevy> will there be a way to auto-implement custom traits for structs in 1.0? I am a little confused how rustc-serialize is able to do so, but it looks like custom_derive is unstable
[19:42:51] <steveklabnik> geri: tell what to only install cargo?
[19:43:03] <steveklabnik> talevy: deriving is not able to be customized right now, no
[19:43:17] *** Quits: wolfviking0 (wolfviking0@moz-8hd.3b6.246.162.IP) (Client exited)
[19:43:25] <talevy> steveklabnik: how is it being done with the rustc-serialize crate, or is that special?
[19:43:26] *** Joins: zyphrus (David@moz-1a4.urk.98.101.IP)
[19:43:43] *** Joins: Kad (Mibbit@moz-rk4jn7.torolab.ibm.com)
[19:43:53] *** Joins: emilk (emilk@moz-eossn5.cust.bredbandsbolaget.se)
[19:44:20] <steveklabnik> it's special
[19:44:54] *** Joins: Rym (y@moz-aun.38r.38.217.IP)
[19:46:07] *** Quits: tilpner (tilpner@moz-6vhgm3.de) (Quit: Have an awesome day!)
[19:46:42] *** Joins: simonoram (simonoram@moz-pllbvg.cable.virginm.net)
[19:46:51] *** Joins: hjr3 (hradtke@moz-lei.av4.169.69.IP)
[19:47:52] <Kad> does rust run on powerpc le ?
[19:48:21] *** Joins: owickstrom (owickstrom@moz-dq04n8.bredband.comhem.se)
[19:48:48] *** Joins: foodoo (foodoo@moz-tu0q2q.dyn.telefonica.de)
[19:49:06] *** Joins: Guest22 (textual@moz-jt9juk.fibertel.com.ar)
[19:49:23] <jws> so i found that use self::rustc_unicode worked in my create when use rustc_unicode did not
[19:49:27] <jws> baffled as to why
[19:49:28] *** Quits: Rym (y@moz-aun.38r.38.217.IP) (Ping timeout: 121 seconds)
[19:49:49] *** Quits: zyphrus (David@moz-1a4.urk.98.101.IP) (Ping timeout: 121 seconds)
[19:50:18] *** Joins: bytewise (bytewise@moz-agoafm.adsl.alicedsl.de)
[19:50:30] *** Joins: ktakv (ktakv@moz-2igq4u.1984.is)
[19:50:54] *** Joins: Racquetball (namestolenw@moz-dnlovt.cpe.twtelecom.net)
[19:50:59] *** Quits: Racquetball (namestolenw@moz-dnlovt.cpe.twtelecom.net) (Quit: leaving)
[19:51:02] *** Joins: Racquetball (namestolenw@moz-dnlovt.cpe.twtelecom.net)
[19:51:29] *** Joins: samcliu (samcliu@moz-p36.4ra.239.216.IP)
[19:51:48] <jshs> jws: you have to prefix `self` if `extern crate` is not in the crate root, but in the current module
[19:51:54] *** Joins: btobolaski (btobolaski@moz-ltbh80.va.comcast.net)
[19:52:16] <geri> steveklabnik: tell what?
[19:52:27] *** Joins: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP)
[19:52:46] <Hannibal_Smith> Kad, I don't know the answer, but as a curiosity what hardware you intend to target? IBM Power?
[19:52:52] *** Quits: samcliu (samcliu@moz-p36.4ra.239.216.IP) (Quit: Changing server)
[19:53:00] <jshs> jws: `use` takes absolute item paths by default, which are anchored at the crate root
[19:53:01] <steveklabnik> geri: you asked 'can i tell it', what is it?
[19:53:09] <steveklabnik> but, i have to run
[19:53:13] *** Joins: dap300 (Davi_@moz-h3e.def.159.177.IP)
[19:53:17] <steveklabnik> so hopefully someon eelse can help you :)
[19:53:21] *** Joins: dawehner (quassel@moz-46p.bjg.78.66.IP)
[19:53:28] <aidanhs> is there any way to define a `pub unsafe extern fn` as equal to another? i.e. give both symbols the same address?
[19:53:30] <steveklabnik> ok
[19:53:42] *** Quits: Altazimuth (Altazimuth@moz-rb7u6p.skybroadband.com) (Connection closed)
[19:53:46] *** Joins: Altazimuth (Altazimuth@moz-rb7u6p.skybroadband.com)
[19:54:09] *** Joins: gthank (gthank@moz-5sim0m.ga.charter.com)
[19:54:13] <niconii> geri: are you talking about rustup?
[19:54:28] *** Quits: apdapreturns (Davi_@moz-fsddcr.gvt.net.br) (Ping timeout: 121 seconds)
[19:54:41] *** Joins: Fiveside (fiveside@moz-t2eatg.vsp.com)
[19:54:47] *** Joins: zoosha (gmunoz@moz-e0j.3sr.79.167.IP)
[19:55:11] <jws> oh, the extern crate deposits the crate at the current tier?
[19:55:14] <jws> okay
[19:55:29] <jshs> yes
[19:55:32] <jws> thanks :)
[19:55:33] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[19:55:38] <robojeb> Is there a way to avoid violating DRY in this http://is.gd/5fjtRE code. Or is that impossible given Rust's trait system?
[19:55:42] *** Joins: mib_o3de3g (Mibbit@moz-h8jn81.dnepro.net)
[19:55:44] <niconii> geri: i don't think there is a way to tell rustup to only install cargo, no
[19:56:33] *** NameNotFound is now known as zz_NameNotFound
[19:56:39] <geri> steveklabnik: oh im sorry... curl -s https://static.rust-lang.org/rustup.sh | sh ... can i tell rustup.sh to only install cargo?
[19:56:46] <jshs> robojeb: I'd use a macro
[19:56:57] *** Joins: DemonOne (Avi@moz-e3uudb.red.bezeqint.net)
[19:56:59] <niconii> geri: don't think so
[19:57:15] <robojeb> jshs: Okay. I haven't fully explored macros yet
[19:57:32] *** Joins: bfrog (tburdick@moz-hqe1t2.il.comcast.net)
[19:57:50] *** Quits: Guest22 (textual@moz-jt9juk.fibertel.com.ar) (Ping timeout: 121 seconds)
[19:59:03] <jshs> robojeb: suggested reading: http://doc.rust-lang.org/nightly/book/macros.html
[19:59:23] <robojeb> jshs: Will read. Thank you for your help :)
[19:59:58] *** Quits: zeiris (zeiris@moz-8jbmam.letter.agency) (Ping timeout: 121 seconds)
[20:00:00] *** Quits: errordeveloper (ilya@moz-l8r.m9l.11.94.IP) (Ping timeout: 121 seconds)
[20:00:21] *** Joins: zeiris (zeiris@moz-8jbmam.letter.agency)
[20:00:28] *** Joins: Guest22 (textual@moz-jt9juk.fibertel.com.ar)
[20:00:36] *** Joins: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp)
[20:00:49] *** Joins: errordeveloper (ilya@moz-oec.7rl.219.2.IP)
[20:01:00] *** Quits: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP) (A TLS packet with unexpected length was received.)
[20:01:26] *** Joins: genbattle (genbattle@moz-4v0.gkd.16.182.IP)
[20:01:39] *** bentley|away is now known as bentley
[20:01:46] *** Joins: samcliu (samcliu@moz-p36.4ra.239.216.IP)
[20:01:52] *** Joins: new_one (new_one@moz-suj.lcf.15.50.IP)
[20:02:06] *** Joins: i0n_ (i0n_@moz-kpda3t.liwest.at)
[20:02:10] *** Quits: kamilc__ (kamil@moz-sh222i.play-internet.pl) (Quit: Linkinus - http://linkinus.com)
[20:02:23] *** Joins: kngl (Adium@moz-rmgnkh.dynamic.voo.be)
[20:02:30] *** Quits: laumann (thomas@moz-n9e72h.0.fullrate.dk) (Quit: leaving)
[20:02:56] *** Quits: jimb (user@moz-6gkikn.or.comcast.net) (Ping timeout: 121 seconds)
[20:03:39] *** Joins: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP)
[20:03:55] *** Quits: kmicu (kmicu@moz-uga.edn.218.91.IP) (Connection closed)
[20:04:10] *** Joins: sdogruyol (sdogruyol@moz-p10.eur.133.24.IP)
[20:04:19] *** Joins: Guest_ (textual@moz-fvqc2v.dynamic.fusionbroadband.com)
[20:04:32] *** Joins: kalail (uid62296@moz-5ck9vu.charlton.irccloud.com)
[20:04:39] *** Quits: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp) (Ping timeout: 121 seconds)
[20:04:46] *** zz_NameNotFound is now known as NameNotFound
[20:04:55] <davebettin> Is it true that lifetimes are not technically tied to a scope (stack frame?), but, instead they are tied to an individual entry in a stack frame?
[20:05:02] *** Quits: maximih (maximih@moz-0r2bjb.bredband.telia.com) (A TLS packet with unexpected length was received.)
[20:06:06] *** Joins: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp)
[20:06:32] *** Quits: nwin (textual@moz-r1aari.pools.arcor-ip.net) (Ping timeout: 121 seconds)
[20:06:50] *** Joins: nwin (textual@moz-oouhoo.pools.arcor-ip.net)
[20:06:56] *** Quits: andschwa (andschwa@moz-v32.q66.42.104.IP) (Quit: ZNC - http://znc.in)
[20:07:08] *** Quits: senderista (tdbaker@moz-6nsjqs.wa.comcast.net) (Client exited)
[20:07:17] *** Joins: jimb (user@moz-6gkikn.or.comcast.net)
[20:08:30] *** Joins: __tosh (uid87112@moz-9ihlbi.charlton.irccloud.com)
[20:08:44] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[20:08:59] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[20:08:59] *** ChanServ sets mode: +o erickt
[20:09:29] *** Quits: Guest_ (textual@moz-fvqc2v.dynamic.fusionbroadband.com) (Quit: Textual IRC Client: www.textualapp.com)
[20:09:52] <robojeb> jshs: I think this is much better http://is.gd/zWLc75 thank you
[20:09:57] *** Joins: anom (anhedonia@moz-ums8mr.tor-exit.network)
[20:10:02] *** Parts: IslandUsurper (lyle@moz-t0bu9n.lsvlky.sbcglobal.net) ()
[20:10:09] *** Quits: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp) (Ping timeout: 121 seconds)
[20:10:27] *** Joins: andschwa (andschwa@moz-v32.q66.42.104.IP)
[20:10:30] *** Joins: mib_cl23lp (Mibbit@moz-h8jn81.dnepro.net)
[20:10:41] *** Quits: mib_o3de3g (Mibbit@moz-h8jn81.dnepro.net) (Quit: http://www.mibbit.com ajax IRC Client)
[20:10:45] <davebettin> for example: I am trying to understand why this bit of code is a lifetime issue. http://is.gd/w4pFRh
[20:11:17] *** Quits: errordeveloper (ilya@moz-oec.7rl.219.2.IP) (Ping timeout: 121 seconds)
[20:11:54] <aidanhs> aha, yes it is, fn types work perfectly
[20:12:00] *** Quits: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP) (A TLS packet with unexpected length was received.)
[20:12:10] <jshs> robojeb: it's a common pattern in rust's standard libs too, e.g. https://github.com/rust-lang/rust/blob/master/src/libcore/default.rs#L129-L157
[20:12:41] *** Joins: senderista (tdbaker@moz-6nsjqs.wa.comcast.net)
[20:13:04] *** Joins: alex2 (alex@moz-bfj7pj.fios.verizon.net)
[20:13:04] *** Quits: alex2 (alex@moz-bfj7pj.fios.verizon.net) (Quit: WeeChat 1.1.1)
[20:13:05] *** Quits: flavius (flavius@moz-pik2l3.tmpp.le52.8388.2a02.IP) (Connection closed)
[20:13:14] *** Quits: Guest22 (textual@moz-jt9juk.fibertel.com.ar) (Ping timeout: 121 seconds)
[20:13:17] <robojeb> jshs: That is good to know. I haven't really looked at the source of the standard libs much yet.
[20:14:26] <geri> niconii: curl -s https://static.rust-lang.org/rustup.sh --prefix /home/geri/tmp ... so that it only installs into a temp directory? and i copy cargo to /usr/bin ?
[20:14:27] <talchas> davebettin: they're destroyed in reverse order
[20:14:39] *** Quits: zeiris (zeiris@moz-8jbmam.letter.agency) (Ping timeout: 121 seconds)
[20:14:50] *** Joins: Guest22 (textual@moz-jt9juk.fibertel.com.ar)
[20:15:39] <dap300> What is the difference between functional programming x common programming (is that imperative?)
[20:16:01] *** Quits: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net) (A TLS packet with unexpected length was received.)
[20:16:08] <dap300> I don't understand the concept of "what you want to get" x "how to get it"
[20:16:51] <Kad> Hannibal_Smith: Yes power8 le
[20:17:15] <davebettin> talchas: thanks. I am trying understand why this is though.  So it was my understanding lifetimes are tied to scope. There is only one scope in this example. correct?
[20:17:19] <Hannibal_Smith> Really interesting Kad. Is really hard to find people working with such costly hardware
[20:17:24] <Hannibal_Smith> Thank your for your response
[20:17:37] *** Joins: errordeveloper (ilya@moz-o85.0jl.201.90.IP)
[20:17:37] <Kad> indeed kind of a niche platform 
[20:17:51] *** Joins: asQuirreL (asQuirreL@moz-ro1qqu.ox.ac.uk)
[20:18:05] *** Quits: m-r-r (mrr@moz-uvfnet.abo.wanadoo.fr) (Ping timeout: 121 seconds)
[20:18:08] <Kad> do you know where i can find more info on the current state of rust on powerpc ?
[20:18:12] *** Joins: m-r-r (mrr@moz-br1no5.rev.sfr.net)
[20:18:20] <Hannibal_Smith> Try to ask to steveklabnik 
[20:18:22] *** Quits: sinma (sinma@moz-qqee5m.ev7h.paus.2040.2a03.IP) (A TLS packet with unexpected length was received.)
[20:18:37] <Kad> is he frequent in here ?
[20:18:40] *** Joins: sinma (sinma@moz-qqee5m.ev7h.paus.2040.2a03.IP)
[20:18:41] *** Quits: ellinokon (ellinokon@moz-gh5.r2h.62.178.IP) (A TLS packet with unexpected length was received.)
[20:18:42] <Hannibal_Smith> Yes
[20:18:44] *** Joins: ellinokon (ellinokon@moz-gh5.r2h.62.178.IP)
[20:18:54] *** Quits: pgonda (peter@moz-s36.0tp.134.75.IP) (Ping timeout: 121 seconds)
[20:19:02] <duesenfranz_> talchas: can/should a type assume that all it's references are still valid while `Drop` runs?
[20:19:04] <Kad> i would have guess that power support would have follow llvm
[20:19:08] *** Joins: viel (zeroknowled@moz-g48kus.retail.telecomitalia.it)
[20:19:24] *** Quits: aepsil0n (eduard@moz-6491ha.mv2h.pepi.8071.2a02.IP) (Connection closed)
[20:19:47] *** Joins: dongz9 (Mibbit@moz-gcma9a.CC.CMU.EDU)
[20:20:15] *** Quits: nwin (textual@moz-oouhoo.pools.arcor-ip.net) (Ping timeout: 121 seconds)
[20:20:16] *** Joins: nwin (textual@moz-f09mmh.pools.arcor-ip.net)
[20:20:17] <GGist> duesenfranz_: Yes that is a valid assumption for a type to make.
[20:20:47] *** Joins: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp)
[20:20:57] <GGist> Otherwise the code wouldn't compile (without using unsafe code)
[20:21:03] *** Quits: sdogruyol (sdogruyol@moz-p10.eur.133.24.IP) (Connection closed)
[20:21:29] <dongz9> hi, i'm new to rust :)
[20:21:37] *** Joins: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP)
[20:21:43] *** Joins: lucian (lucian@moz-2c3pda.cable.virginm.net)
[20:21:48] <aidanhs> hmm, not true actually, a static var with function type does not export the symbol
[20:21:54] <duesenfranz_> GGist: a follow-up question: if I have a type and don't implement Drop myself, but it's automatically implemented to call Drop on all my fields, is it well-defined which types are dropped first?
[20:21:55] *** Joins: zeiris (zeiris@moz-8jbmam.letter.agency)
[20:21:57] *** Quits: owickstrom (owickstrom@moz-dq04n8.bredband.comhem.se) (Ping timeout: 121 seconds)
[20:22:00] <aidanhs> guess I'm stuck with three line functions
[20:22:03] *** Joins: mattico (Matthew@moz-f4l4fc.0mtq.dm5j.ea00.2607.IP)
[20:22:14] <duesenfranz_> *which fields are dropped first
[20:22:29] <dongz9> i wonder is there anyway to compile a .rs file and a .c file together
[20:22:30] <benji> Evening rust people; I'd like to write a reproducer to show on the rust play-pen, but it relies on behaviour determined at runtime; Considering we can't use crates (i.e. time, num), what would you suggest for say, choosing randomly from one of two branches / generics at run time?
[20:22:31] <dongz9> without using cargo?
[20:23:20] <benji> dongz9: what do you mean 'compiled' together? Do you mean linked together in to an executable or library?
[20:23:30] <dongz9> yes
[20:23:35] *** Quits: emilk (emilk@moz-eossn5.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[20:23:35] <dongz9> say i'm using FFI
[20:23:36] *** Quits: lucian (lucian@moz-2c3pda.cable.virginm.net) (A TLS packet with unexpected length was received.)
[20:23:44] <benji> dongz9: I think I saw a document on that recently, let me have a look.
[20:23:47] <dongz9> i have a function implemented in a c file
[20:23:52] <dongz9> i compiled that c file to a object file
[20:23:56] <dongz9> that what should i do?
[20:23:58] <GGist> duesenfranz_: That is something I do not know
[20:24:07] <mattico> dongz: other than `rustc file1.rs` `gcc file2.c` `ld file1.o file2.o`?
[20:24:29] <GGist> you could always code up an example but I am not sure if it is defined behavior (I would think so?)
[20:24:29] <talchas> davebettin: you can imagine that every let statement opens a new scope
[20:24:31] <dongz9> i think the naming convetion of rustc and gcc is different
[20:24:40] <benji> dongz9: that's what FFI is for
[20:24:50] *** Quits: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp) (Ping timeout: 121 seconds)
[20:25:01] *** Quits: Kad (Mibbit@moz-rk4jn7.torolab.ibm.com) (Quit: http://www.mibbit.com ajax IRC Client)
[20:25:26] <Hannibal_Smith> Uff I found https://github.com/rust-lang/rust/issues/18189 now that Kad quitted...
[20:25:26] *** Quits: happy-dude_ (uid62780@moz-jt3517.charlton.irccloud.com) (Quit: )
[20:25:32] <davebettin> talchas: ok, so this is a rust thing not a stack frame thing?
[20:25:43] <dongz9> benji: so should I just compile then separately and link together?
[20:25:44] <benji> dongz9: https://doc.rust-lang.org/book/ffi.html
[20:25:46] *** Joins: insaneinside (user@moz-dgv9mb.customer.broadstripe.net)
[20:25:54] <Hannibal_Smith> Seems like that for now Rust compiler don't support IBM Power cpu
[20:25:55] <talchas> davebettin: yeah
[20:25:57] <duesenfranz_> GGist: will do, thanks anyhow! :)
[20:26:10] <benji> dongz9: yes but there's a little more to it than that, read that page and it should be clear
[20:26:15] <davebettin> talchas: thanks
[20:26:17] <dongz9> benji: okay
[20:26:19] *** Quits: isomarcte (isomarcte@moz-vqvrcl.hfc.comcastbusiness.net) (Ping timeout: 121 seconds)
[20:26:39] <talchas> davebettin: it's so that you don't wind up with trouble accessing references during drop
[20:26:48] <insaneinside> so uh, "error: multiple matching crates for `std`" with the latest nightly.
[20:26:48] <dongz9> benji: i thought i briefly scanned that page before, but didn't find any instructions on the actual compilation process
[20:26:50] *** Joins: alonlevy (alon@moz-p48.q13.159.94.IP)
[20:27:33] <GGist> duesenfranz_: here is one example, http://is.gd/Wh4GbZ showing that it drops from the first field going down
[20:27:44] *** Joins: zmack (zmack@moz-htpein.home.aster.pl)
[20:28:17] <insaneinside> How do I get around "error: multiple matching crates for `std`"?  Was hoping to use some features that just landed.
[20:28:42] <davebettin> talchas: ok, that makes complete sense. Thanks!
[20:28:51] <niconii> geri: it'd be curl -s ... | sh -- --prefix /home/geri/tmp
[20:29:15] <niconii> geri: and i have no idea how well it'd work to copy cargo over that way, but it might work
[20:29:44] *** Quits: giucam (giucam@moz-iv0nnc.bb.dnainternet.fi) (Ping timeout: 121 seconds)
[20:29:49] <niconii> geri: why do you only want to install cargo, though?
[20:29:57] <duesenfranz_> GGist: thanks! more verbose:  http://is.gd/Zy0dRQ
[20:30:34] *** Joins: brson (brson@moz-u3dg2t.sfo1.mozilla.com)
[20:30:35] *** ChanServ sets mode: +ao brson brson
[20:31:10] *** Joins: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp)
[20:31:54] *** Joins: Jesse (jruderman@moz-pqc1f5.ca.comcast.net)
[20:31:56] *** Quits: SneakySnake (nya@moz-i9is4u.pool.telekom.hu) (Connection closed)
[20:32:09] *** Quits: zeiris (zeiris@moz-8jbmam.letter.agency) (Ping timeout: 121 seconds)
[20:32:46] *** Quits: zmack (zmack@moz-htpein.home.aster.pl) (Ping timeout: 121 seconds)
[20:33:44] <GGist> duesenfranz_: yeah that's better, mine was kind of weird to read :)
[20:33:45] *** Quits: Savago (Savago@moz-8hd.3b6.246.162.IP) (Ping timeout: 121 seconds)
[20:33:49] *** Joins: SneakySnake (nya@moz-i9is4u.pool.telekom.hu)
[20:34:24] <geri> niconii: im using rust cross compiler for arm which i manually built...
[20:34:27] *** Quits: naerbnic (naerbnic@moz-ad7.4ra.239.216.IP) (Client exited)
[20:34:30] *** Joins: zeiris (zeiris@moz-8jbmam.letter.agency)
[20:34:39] *** Quits: dongz9 (Mibbit@moz-gcma9a.CC.CMU.EDU) (Quit: http://www.mibbit.com ajax IRC Client)
[20:34:40] *** Joins: maximih (maximih@moz-0r2bjb.bredband.telia.com)
[20:35:01] <niconii> ahh
[20:35:12] *** Quits: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp) (Ping timeout: 121 seconds)
[20:35:12] <insaneinside> ah, so:  the latest Rust nightly appears to have two versions of all libs: 4e7c5e5c and d855c359.  Which one *should* be there?
[20:35:18] <geri> niconii: makes sense? :D
[20:35:27] *** Joins: tincan (tincan@moz-gp5ov9.ip.telfort.nl)
[20:35:36] *** Quits: kushal (kdas@moz-plp31c.202.sitibroadband.in) (Quit: Leaving)
[20:35:57] *** Joins: nonsensickle (nonsensickl@moz-4v0.gkd.16.182.IP)
[20:36:31] *** Joins: shellac (textual@moz-9b49cr.cable.virginm.net)
[20:37:12] <insaneinside> ...d'oh, maybe my problem is installing by extracting the nightly tarball over the old directory.
[20:37:41] <geri> niconii: error: cant open prefix...?
[20:37:46] *** Joins: matp (matp@moz-rvt9hl.matp.at)
[20:37:53] *** Joins: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP)
[20:38:41] *** Joins: naerbnic (naerbnic@moz-ad7.4ra.239.216.IP)
[20:39:02] *** Quits: hhhhhhhh1 (mike@moz-969kuj.cable.virginm.net) (Quit: WeeChat 1.1.1)
[20:39:02] *** Joins: Rym (y@moz-aun.38r.38.217.IP)
[20:39:08] *** Quits: hhhhhhhhhh (mike@moz-969kuj.cable.virginm.net) (Quit: WeeChat 1.1.1)
[20:39:18] <niconii> geri: uhh, hmm, maybe not --
[20:39:39] <mattico> dongz9: trying it right now, using `gcc -c <file>` `rustc --emit=obj` and `ld` should work if all the rust libs are also linked.
[20:39:45] <eddyb> RIP 4e7c5e5c
[20:39:53] * eddyb never understood where these values came from
[20:40:03] *** Joins: mib_9j2jdj (Mibbit@moz-6mc6q1.tukw.qwest.net)
[20:40:27] <eddyb> playbot: "\x4e\x7c\x5e\x5c"
[20:40:28] -playbot- "N|^\\"
[20:40:29] *** Joins: gattschardo (richard@moz-tisjm3.dyn.telefonica.de)
[20:40:36] <talchas> eddyb: git sha1s I assume
[20:40:40] *** Joins: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp)
[20:40:46] *** Quits: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP) (A TLS packet with unexpected length was received.)
[20:40:47] *** Joins: nrc (nrc@moz-9luh02.xtra.co.nz)
[20:40:47] *** ChanServ sets mode: +o nrc
[20:40:53] <eddyb> talchas: 4e7c5e5c has been with us for years
[20:40:57] <talchas> ah
[20:41:00] <geri> niconii: it said --prefix=<path> in the doc
[20:41:03] *** Quits: HappyMan (HappyMan@moz-l920uc.fios.verizon.net) (Client exited)
[20:41:10] <niconii> geri: try sh -s --prefix=/home/geri/tmp
[20:41:11] <eddyb> it was hardcoded in a makefile
[20:41:14] *** Quits: dinfuehr (dinfuehr@moz-8rennh.highway.telekom.at) (Connection closed)
[20:41:16] *** Quits: zeiris (zeiris@moz-8jbmam.letter.agency) (Ping timeout: 121 seconds)
[20:41:20] <talchas> ah
[20:41:21] *** Quits: Guest22 (textual@moz-jt9juk.fibertel.com.ar) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[20:41:22] *** Quits: mib_9j2jdj (Mibbit@moz-6mc6q1.tukw.qwest.net) (Quit: http://www.mibbit.com ajax IRC Client)
[20:41:23] <niconii> geri: instead of sh -- --prefix=/home/geri/tmp
[20:42:02] *** Quits: maximih (maximih@moz-0r2bjb.bredband.telia.com) (A TLS packet with unexpected length was received.)
[20:42:25] *** Joins: dinfuehr (dinfuehr@moz-8rennh.highway.telekom.at)
[20:43:19] *** Joins: nwin_ (textual@moz-l9ikat.pools.arcor-ip.net)
[20:43:31] <geri> niconii: -s will install Nightly!
[20:43:37] *** Quits: BZaidan (quassel@moz-jv9fh3.org.ly) (A TLS packet with unexpected length was received.)
[20:43:38] *** Quits: Rym (y@moz-aun.38r.38.217.IP) (Ping timeout: 121 seconds)
[20:43:43] *** Joins: BZaidan (quassel@moz-jv9fh3.org.ly)
[20:43:54] *** Quits: i0n_ (i0n_@moz-kpda3t.liwest.at) (Ping timeout: 121 seconds)
[20:44:09] *** Quits: tincan (tincan@moz-gp5ov9.ip.telfort.nl) (Connection closed)
[20:44:21] <geri> oh its ok
[20:44:25] <eddyb> -s?
[20:44:26] <geri> wrong
[20:44:34] <eddyb> -s sounds like --stable to me :P
[20:44:42] *** Quits: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp) (Ping timeout: 121 seconds)
[20:44:50] *** Joins: maximih (maximih@moz-0r2bjb.bredband.telia.com)
[20:45:01] *** Quits: gthank (gthank@moz-5sim0m.ga.charter.com) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[20:45:05] *** Quits: andre_ (andre@moz-rnd.3qv.76.201.IP) (Quit: leaving)
[20:45:15] *** Joins: dnaeon (uid87120@moz-aae6vl.uxbridge.irccloud.com)
[20:45:38] *** Joins: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP)
[20:45:40] *** Quits: nwin (textual@moz-f09mmh.pools.arcor-ip.net) (Ping timeout: 121 seconds)
[20:45:43] *** Quits: ebel (rory@moz-e5du7b.m4r4.nqcu.0470.2001.IP) (Quit: Leaving)
[20:45:48] <geri> eddyb: sh: 0: illegal option --
[20:46:00] *** Joins: sykora (sykora@moz-uh8p05.cs.jhu.edu)
[20:46:07] *** Quits: maximih (maximih@moz-0r2bjb.bredband.telia.com) (A TLS packet with unexpected length was received.)
[20:46:25] *** Quits: raichoo (raichoo@moz-fcaeft.dsl.tropolys.de) (Ping timeout: 121 seconds)
[20:46:32] *** Quits: dinfuehr (dinfuehr@moz-8rennh.highway.telekom.at) (Ping timeout: 121 seconds)
[20:46:32] <geri> eddyb:  curl -s https://static.rust-lang.org/rustup.sh | sh -s --prefix=/home/geri/tmp
[20:48:08] *** NameNotFound is now known as zz_NameNotFound
[20:48:13] *** Joins: nico (nico@moz-ni68vq.dip0.t-ipconnect.de)
[20:48:20] <Brochacho> Is there any documentation for cross-comiliing with cargo?
[20:48:26] <Brochacho> compiling**
[20:48:42] *** Quits: asQuirreL (asQuirreL@moz-ro1qqu.ox.ac.uk) (Connection closed)
[20:48:52] *** Joins: dkeenaghan (dkeenaghan@moz-oeu.k7g.100.89.IP)
[20:49:03] *** Joins: asQuirreL (asQuirreL@moz-ro1qqu.ox.ac.uk)
[20:49:08] <geri> Brochacho: for arm
[20:49:09] <geri> ?
[20:49:19] <Brochacho> geri: Any
[20:49:21] <geri> https://github.com/japaric/ruststrap/blob/master/1-how-to-cross-compile.md
[20:49:23] <geri> this this
[20:49:26] <geri> try
[20:50:10] <Brochacho> geri: Ah, what about between archs? x86_64/i686
[20:51:39] *** Quits: rbattula (rbattula@moz-eetig9.splunk.com) (Client exited)
[20:52:07] <talchas> you probably just need to follow those instructions with i686-unknown-linux-gnu as the target
[20:52:15] *** Quits: nico (nico@moz-ni68vq.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[20:52:23] *** Quits: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP) (A TLS packet with unexpected length was received.)
[20:52:36] *** Joins: ConnorDoyle (ConnorDoyle@moz-edrulj.static.monkeybrains.net)
[20:52:37] *** Quits: jshs (jshs@moz-bafoi9.dip0.t-ipconnect.de) (Client exited)
[20:52:44] <mbrubeck> Brochacho: `cargo build --target` will work for any target that rustc supports and that you have the standard library built for.
[20:53:26] <Brochacho> mbrubeck: standard rust library I'm assuming? How could I install the stdlib for i686 when I have x86_64 installed?
[20:53:37] *** Quits: jjthrash (jjthrash@moz-gsigbq.res.rr.com) (Quit: Leaving...)
[20:53:42] *** Joins: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net)
[20:54:05] *** Quits: simonoram (simonoram@moz-pllbvg.cable.virginm.net) (Client exited)
[20:54:19] <benji> Can you not specialise a generic function? Or can you, and I'm just doing it wrong: http://is.gd/MuXImb
[20:54:31] *** Quits: dawehner (quassel@moz-46p.bjg.78.66.IP) (Ping timeout: 121 seconds)
[20:54:38] <mattico> Brochacho: The only time I've had to do this we used a script that would download the stdlib for the same version as the compiler that we were using.
[20:54:40] <benji> er, disregard last url, this one instead: http://is.gd/FaZp10
[20:54:58] *** Joins: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP)
[20:55:15] <mattico> Brochacho: look at this: https://github.com/mvdnes/element76/blob/master/downloadrustlibdir.sh
[20:55:16] <talchas> Brochacho: either build it yourself or download an i686 tarball and copy the rustlib/i686-* directory in
[20:55:19] <insaneinside> Clone isn't object-safe, since `fn clone(&self) -> Self`; however, for a boxed trait object it should be possible to clone the inner value and return the box, no?
[20:55:20] <Brochacho> mattico: Yeah, seems like I could put it it in lib/rustlib/$triple
[20:55:28] <benji> or do you have to use traits here to do it?
[20:55:46] <talchas> insaneinside: yeah, but you have to have a separate function for every trait you want to do this for
[20:56:01] *** Quits: dschatzberg (dschatz@moz-nk1clf.bu.edu) (Quit: Leaving)
[20:56:10] <eddyb> insaneinside: this wasn't possible to be generic over until recently
[20:56:20] <talchas> eddyb: it's possible now?
[20:56:26] *** Joins: bbatha (Mibbit@moz-ta0.r5i.55.164.IP)
[20:56:27] <eddyb> T: Unsize<Trait>
[20:56:36] <eddyb> where Trait is a type param :P
[20:56:46] *** Joins: codey (codey@moz-nc2.etn.221.101.IP)
[20:56:49] <Brochacho> talchas, mattico: Yeah, see now. Thought there'd be a more graceful way of doing it. Is multirust capable of this?
[20:57:22] <talchas> eddyb: nice, though ENODOCS :P
[20:57:27] <Brochacho> Also, would this be possible to use with mingw and cross compiling for windows?
[20:57:27] *** Quits: ConnorDoyle (ConnorDoyle@moz-edrulj.static.monkeybrains.net) (A TLS packet with unexpected length was received.)
[20:57:30] *** Quits: gsingh93 (gulshan@moz-qnbukr.mi.comcast.net) (Ping timeout: 121 seconds)
[20:57:30] *** Quits: Nextra (Nextra@moz-8vtoj2.ewe-ip-backbone.de) (Connection closed)
[20:57:42] *** Joins: ConnorDoyle (ConnorDoyle@moz-edrulj.static.monkeybrains.net)
[20:57:51] <talchas> (yet)
[20:57:57] *** Joins: zmack (zmack@moz-htpein.home.aster.pl)
[20:58:01] *** Quits: zmack (zmack@moz-htpein.home.aster.pl) (Connection closed)
[20:58:02] <insaneinside> eddyb: I'm not entirely sure what you mean.  I got around the std::hash::Hash object-unsafety with <https://github.com/insaneinside/cripes/blob/master/src/util/hash.rs>; is that anything similar to what you're talking about?
[20:58:03] *** Joins: dawehner (quassel@moz-46p.bjg.78.66.IP)
[20:58:18] <mbrubeck> benji: You can do something like this: http://is.gd/kPfW9r
[20:58:26] *** Quits: griffindy (textual@moz-e2t.qpb.133.192.IP) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[20:58:28] <eddyb> I mean there is a way to be generic over traits now
[20:58:48] *** Joins: Nextra (Nextra@moz-8vtoj2.ewe-ip-backbone.de)
[20:59:06] *** Quits: mib_to6ih3 (Mibbit@moz-i7cb3r.fios.verizon.net) (Quit: http://www.mibbit.com ajax IRC Client)
[20:59:07] *** Joins: zeiris (zeiris@moz-8jbmam.letter.agency)
[20:59:10] *** Joins: lucian (lucian@moz-2c3pda.cable.virginm.net)
[20:59:20] <geri> eddyb: any idea?
[20:59:20] *** Quits: jgallagher (john@moz-d5e8oc.hfc.comcastbusiness.net) (Client exited)
[20:59:28] <foodoo> http://doc.rust-lang.org/nightly/std/io/trait.Read.html#method.chars what type-argument should I supply for `Sized` when I read in UTF-8 values?
[20:59:30] <eddyb> you can write fn clone_to_boxed_unsized<T: Clone+Unsize<U>, U: ?Sized>(x: &T) -> Box<U> { Box::new(x.clone()) }
[20:59:40] *** Quits: loyd (loyd@moz-uft.32f.108.213.IP) (Ping timeout: 121 seconds)
[20:59:48] <insaneinside> eddyb: ahhh, got it!  Thanks!
[20:59:49] <benji> mbrubeck: yeah, I managed to do it using a trait; I want to try and reproduce something i see in the byteorder library though
[20:59:50] <eddyb> foodoo: Sized is a trait
[20:59:50] *** Quits: ConnorDoyle (ConnorDoyle@moz-edrulj.static.monkeybrains.net) (A TLS packet with unexpected length was received.)
[21:00:11] <foodoo> eddyb: yes, an empty trait it seems
[21:00:15] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[21:00:26] <bbatha> Hi I'm trying to figure out if there is a way to write a common Eq implementation for all structs that impl a trait but without resorting to trait objects? I have an example here: http://is.gd/zj6P1M
[21:01:00] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Connection closed)
[21:01:13] *** Quits: ygrek (user@moz-8j9aeu.org.ua) (Ping timeout: 121 seconds)
[21:01:31] *** Joins: skade (skade@moz-m9ib3m.pools.vodafone-ip.de)
[21:01:48] <eddyb> foodoo: it's automatically implemented for all types that have a static size known at compile-time
[21:01:50] *** Quits: lucian (lucian@moz-2c3pda.cable.virginm.net) (A TLS packet with unexpected length was received.)
[21:01:56] *** Joins: rustyrazorblade_ (rustyrazorb@moz-1am.596.81.206.IP)
[21:02:20] <talchas> bbatha: you would do "impl<T> PartialEq for T where T: FooBar" but it's not allowed
[21:02:42] *** Joins: nedp (nedp@moz-vg6vvt.bigpond.net.au)
[21:02:43] <foodoo> eddyb: so I can just pass `char` as a type parameter for UTF-8 characters?
[21:02:57] <niconii> benji: byteorder does "impl ByteOrder for LittleEndian" and "impl ByteOrder for BigEndian"
[21:02:58] <talchas> because it could run into situations where you have two implemenattions of PartialEq defined for the same type
[21:03:11] *** Quits: zeiris (zeiris@moz-8jbmam.letter.agency) (Ping timeout: 121 seconds)
[21:03:32] <mbrubeck> foodoo: You don't need to pass anything, just do `stdin().chars()` to get a Chars<Stdin> for example
[21:03:38] *** Quits: brson (brson@moz-u3dg2t.sfo1.mozilla.com) (Ping timeout: 121 seconds)
[21:03:46] *** Joins: ConnorDoyle (ConnorDoyle@moz-edrulj.static.monkeybrains.net)
[21:03:53] *** Quits: espadrine (tyl@moz-l019mn.fbx.proxad.net) (Ping timeout: 121 seconds)
[21:03:54] *** Joins: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net)
[21:03:55] <bbatha> talchas: ah. is there anyway to save on copy pasting for examples like this?
[21:03:55] *** ChanServ sets mode: +o pnkfelix
[21:04:19] *** Quits: jimb (user@moz-6gkikn.or.comcast.net) (Ping timeout: 121 seconds)
[21:05:15] *** Joins: kgrandon (Adium@moz-ilv.ukc.122.2.IP)
[21:05:25] *** Quits: __mark__ (mark@moz-udut16.dynamic.chello.pl) (Client exited)
[21:05:27] <talchas> bbatha: besides using a macro to do most of the copypaste? I don't think so, but I can't swear to it
[21:06:01] *** Joins: rbattula (rbattula@moz-eetig9.splunk.com)
[21:06:02] *** Joins: blaenk_ (blaenkdenum@moz-em283u.res.rr.com)
[21:06:15] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[21:06:43] *** Quits: tkellen (tkellen@moz-f5ji1n.vt.comcast.net) (Client exited)
[21:06:54] *** Joins: simonoram (simonoram@moz-pllbvg.cable.virginm.net)
[21:07:11] *** Quits: dawehner (quassel@moz-46p.bjg.78.66.IP) (Ping timeout: 121 seconds)
[21:07:34] <bbatha> talchas: darn. Thanks though!
[21:07:50] *** Quits: ConnorDoyle (ConnorDoyle@moz-edrulj.static.monkeybrains.net) (Ping timeout: 121 seconds)
[21:07:51] *** Joins: joebobjoe (joebobjoe@moz-efm04i.res.bhn.net)
[21:07:52] *** Quits: Ms2ger (Ms2ger@moz-0smvhf.isp.belgacom.be) (Quit: nn)
[21:07:53] *** Quits: harrisonclarke (harrisoncla@moz-g1kp2c.ns.bellaliant.net) (Connection closed)
[21:07:56] *** Quits: tigrou3tac (fabien@moz-gdonfo.fbx.proxad.net) (Ping timeout: 121 seconds)
[21:08:03] *** Joins: lucian (lucian@moz-2c3pda.cable.virginm.net)
[21:08:08] *** Joins: dawehner (quassel@moz-46p.bjg.78.66.IP)
[21:08:12] *** Joins: ConnorDoyle (ConnorDoyle@moz-edrulj.static.monkeybrains.net)
[21:08:22] *** Quits: Douman (Douman@moz-c3cvbg.dynamic.mts-nn.ru) (Quit: )
[21:08:58] *** Quits: anom (anhedonia@moz-ums8mr.tor-exit.network) (Quit: leaving)
[21:09:00] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Ping timeout: 121 seconds)
[21:09:11] <Fenhl> is it possible to store a function inside a struct and make the struct Send?
[21:09:23] <joebobjoe> Inception
[21:09:32] <eddyb> Fenhl: what do you mean by that?
[21:09:36] <niconii> benji: and then i guess it uses ReadBytesExt and WriteBytesExt traits on top of that
[21:09:37] <eddyb> Fenhl: Box<Fn()>?
[21:09:39] *** Joins: _Vi (vi@moz-bbs.vhj.131.104.IP)
[21:09:47] <niconii> benji: not entirely sure how it works
[21:10:10] <talchas> for closures it'll probably boil down to + Send (and depending, + 'static) if it's possible
[21:10:35] *** Quits: ConnorDoyle (ConnorDoyle@moz-edrulj.static.monkeybrains.net) (A TLS packet with unexpected length was received.)
[21:10:44] <_Vi> Where to find the descriptions of Github issues labels? The google search "Rust github issues lables" don't show anything useful.
[21:10:57] <joebobjoe> Look at old wiki
[21:10:58] <Fenhl> eddyb: I initially had it as Box<Fn(Filter) -> bool> but it complained about it not being Send, so I changed it to Box<Fn(Filter) -> bool + Send> and it complained about not being Sized, so I changed it again to Box<Fn(Filter) -> bool + Send + ?Sized> and it gave me a syntax error
[21:11:10] *** Quits: joel1 (joel@moz-6ampnk.gtri.gatech.edu) (Ping timeout: 121 seconds)
[21:11:15] <eddyb> heh
[21:11:18] <eddyb> Fenhl: it's precedence
[21:11:29] <eddyb> Box<(Fn(Filter) -> bool) + Send>
[21:11:32] <Fenhl> oh
[21:11:35] <eddyb> maybe that works
[21:11:42] <rustyrazorblade_> i'm sure this is going to be a trivial fix ,but i've been banging my head against the wall for an hour.  trying to return a slice of enums from a closure.  i get back a slice of a "Vertex", then need to turn that into a slice of the enum.  I'm getting this error: "the trait `core::iter::FromIterator<path::Element>` is not implemented for the type `&[path::Element]` [E0277]" from here: 
[21:11:43] <rustyrazorblade_> https://github.com/rustyrazorblade/thunderdome/blob/map_improvements2/src/traversal.rs#L66
[21:11:45] <talchas> no, I think + binds looser for types
[21:11:52] *** Quits: errordeveloper (ilya@moz-o85.0jl.201.90.IP) (Ping timeout: 121 seconds)
[21:12:00] *** Joins: brson (brson@moz-u3dg2t.sfo1.mozilla.com)
[21:12:01] *** ChanServ sets mode: +ao brson brson
[21:12:02] *** Quits: joebobjoe (joebobjoe@moz-efm04i.res.bhn.net) (Quit: Bye)
[21:12:07] *** Joins: wolfviking0 (wolfviking0@moz-8hd.3b6.246.162.IP)
[21:12:08] <eddyb> "it complained about not being Sized" is definitely something that shouldn't happen
[21:12:15] *** Joins: errordeveloper (ilya@moz-o85.0jl.201.90.IP)
[21:12:24] *** Joins: ConnorDoyle (ConnorDoyle@moz-edrulj.static.monkeybrains.net)
[21:12:50] *** Quits: SilverKey (SilverKey@moz-b7q751.biz.rr.com) (Ping timeout: 121 seconds)
[21:12:53] <talchas> rustyrazorblade_: it needs a place to store the array of elements, and &[T] is just a pointer (and length) to one stored elsewhere
[21:12:57] *** Quits: fabianvf_ (fabianvf@moz-j12.dim.197.216.IP) (Connection closed)
[21:13:08] <talchas> rustyrazorblade_: you need Vec to store them
[21:13:17] *** Joins: jviereck (Adium@moz-r772na.dclient.hispeed.ch)
[21:13:26] *** Joins: summerlight (summerlight@moz-99k.2mj.130.121.IP)
[21:14:29] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Connection closed)
[21:14:29] <Fenhl> eddyb: expected a path on the left-hand side of `+`, not `(Fn(Filter) -> bool)`
[21:14:32] *** Joins: kazimuth (james@moz-o27.tl8.111.18.IP)
[21:14:42] *** Quits: panicbit (panicbit@moz-r4ks4s.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[21:14:56] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[21:14:56] <eddyb> hmm
[21:15:04] <talchas> Fenhl: what was the exact Sized error message (and context)?
[21:15:28] <Fenhl> eddyb: by â€œcomplained about not being Sizedâ€ I mean â€œthe trait `core::marker::Sized` is not implemented for the type `core::ops::Fn(lang::filter::Filter) -> bool + Send`â€
[21:15:30] *** Joins: Savago (Savago@moz-8hd.3b6.246.162.IP)
[21:15:36] <Fenhl> talchas: ^
[21:15:39] <eddyb> ah
[21:15:45] <rustyrazorblade_> talchas: dumb follow up... what would that look like?
[21:15:50] <eddyb> Fenhl: that means you misused it
[21:16:04] *** Quits: Guest (textual@moz-rtn.fg7.77.192.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[21:16:09] <Fenhl> eddyb: huh?
[21:16:10] <talchas> rustyrazorblade_: instead of &[], make it vec![], and use Vec<Element> for the return type
[21:16:21] <eddyb> Fenhl: how do you use that field?
[21:16:33] <eddyb> (though it should give an error at the use location :/)
[21:16:44] *** Joins: kazimuth_ (james@moz-fal.j9l.189.18.IP)
[21:17:15] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Quit: Leaving)
[21:17:21] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[21:18:23] *** Quits: codey (codey@moz-nc2.etn.221.101.IP) (Connection closed)
[21:18:28] <Fenhl> eddyb: this is currently the only place the field is used https://www.irccloud.com/pastebin/ad747gkb/context.rs
[21:18:36] *** Quits: kazimuth (james@moz-o27.tl8.111.18.IP) (Ping timeout: 121 seconds)
[21:19:06] *** Joins: annodomini (lambda@moz-hceqmj.hfc.comcastbusiness.net)
[21:19:13] *** Joins: emilk (emilk@moz-eossn5.cust.bredbandsbolaget.se)
[21:19:18] *** Quits: summerlight (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[21:19:34] *** Quits: errordeveloper (ilya@moz-o85.0jl.201.90.IP) (Ping timeout: 121 seconds)
[21:19:45] *** Joins: jga (jga@moz-08s.t1q.244.77.IP)
[21:19:46] <eddyb> I am confused
[21:19:59] *** Joins: tilpner (tilpner@moz-6vhgm3.de)
[21:20:08] <eddyb> OH
[21:20:10] <eddyb> hahahahaha
[21:20:15] <eddyb> Fenhl: #[deriving(Clone)]
[21:20:17] *** Joins: raichoo (raichoo@moz-fcaeft.dsl.tropolys.de)
[21:20:24] <eddyb> there's your problem
[21:20:40] <eddyb> does the error not mention anything about deriving?
[21:20:56] *** Joins: mindtree (Mitch@moz-rchrgl.iprimus.net.au)
[21:20:58] *** Quits: flaub_ (flaub@moz-6d01au.reverse.softlayer.com) (Connection closed)
[21:21:00] *** Quits: alonlevy (alon@moz-p48.q13.159.94.IP) (Ping timeout: 121 seconds)
[21:21:18] <scp> I have a function that I want to return std::iter::Scan
[21:21:35] <scp> but Scan takes a St paramter, the scanner's internal state. I don't want this type to be exposed to the outside world
[21:21:38] <Fenhl> oh, haha
[21:21:40] *** Parts: insaneinside (user@moz-dgv9mb.customer.broadstripe.net) ("bye")
[21:21:43] *** Quits: viel (zeroknowled@moz-g48kus.retail.telecomitalia.it) (Ping timeout: 121 seconds)
[21:21:50] <scp> can I write a function signature that doesn't contain the parameters to Scan explicitly or something?
[21:22:01] <Fenhl> the error output is huge, I didn't realize that was part of the same error message
[21:22:35] <Fenhl> well I still need to make this Clone somehow
[21:23:14] *** Quits: nadirs (nadirs@moz-nuprli.retail.telecomitalia.it) (Quit: leaving)
[21:23:20] *** Quits: emilk (emilk@moz-eossn5.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[21:24:37] <posix4e> Getting pretty excited about recording the first rust podcast i'm making
[21:24:40] <posix4e> we still need a fancy name
[21:24:59] <posix4e> http://rust.wuli.nu/
[21:25:05] <talchas> Fenhl: well, if it's Fn, not FnMut, you could use Rc I guess
[21:25:19] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Connection closed)
[21:25:21] *** Quits: sprang_ (sprang@moz-d0kmvi.12d9.sm5v.0009.2601.IP) (Ping timeout: 121 seconds)
[21:25:40] *** Quits: dellavg (dellavg@moz-9lesb5.retail.telecomitalia.it) (Ping timeout: 121 seconds)
[21:26:19] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[21:27:03] <niconii> benji: here: http://is.gd/fEn5NN
[21:27:21] *** Quits: mvyskocil (mvyskocil@moz-tmeimb.net.upcbroadband.cz) (Ping timeout: 121 seconds)
[21:28:01] <Fenhl> talchas: I was going to use Arc, any reason not to?
[21:28:27] *** Quits: ConnorDoyle (ConnorDoyle@moz-edrulj.static.monkeybrains.net) (A TLS packet with unexpected length was received.)
[21:28:29] *** Joins: zeiris (zeiris@moz-8jbmam.letter.agency)
[21:28:37] <talchas> uh, yeah, that would make more sense
[21:28:43] <niconii> benji: (Bar corresponds to ByteOrder and Baz corresponds to ReadBytesExt in the byteorder crate)
[21:29:08] *** Joins: basicdays (basicdays@moz-vreeoj.cable.rcn.com)
[21:30:18] *** Joins: errordeveloper (ilya@moz-o85.0jl.201.90.IP)
[21:30:25] *** Quits: Boscop (me@moz-5ac.5rj.126.98.IP) (Ping timeout: 121 seconds)
[21:32:03] *** Joins: hhhhhhhhhh (mike@moz-969kuj.cable.virginm.net)
[21:32:10] *** Joins: bug (bug@moz-iev31u.xen.prgmr.com)
[21:32:14] *** Quits: mib_cl23lp (Mibbit@moz-h8jn81.dnepro.net) (Quit: http://www.mibbit.com ajax IRC Client)
[21:33:15] *** Joins: Rym (y@moz-aun.38r.38.217.IP)
[21:33:54] <Fenhl> talchas: getting the â€œSized not implementedâ€ error again, this time not mentioning Clone
[21:34:10] *** Quits: esgeh (sg@moz-1qrptu.dyn.telefonica.de) (Quit: Leaving.)
[21:34:20] *** Joins: zmack (zmack@moz-8vhf46.residential.rdsnet.ro)
[21:34:33] *** Quits: errordeveloper (ilya@moz-o85.0jl.201.90.IP) (Ping timeout: 121 seconds)
[21:34:54] *** Joins: ConnorDoyle (ConnorDoyle@moz-edrulj.static.monkeybrains.net)
[21:35:27] <talchas> Fenhl: you need to do Arc<Box<Fn at the moment
[21:35:35] <Fenhl> ah, thought so
[21:35:54] *** Quits: SneakySnake (nya@moz-i9is4u.pool.telekom.hu) (Connection closed)
[21:35:56] *** Joins: errordeveloper (ilya@moz-o85.0jl.201.90.IP)
[21:36:00] *** Quits: lucian (lucian@moz-2c3pda.cable.virginm.net) (A TLS packet with unexpected length was received.)
[21:36:05] *** Joins: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp)
[21:36:21] *** Joins: lucian (lucian@moz-2c3pda.cable.virginm.net)
[21:36:30] *** Quits: zeiris (zeiris@moz-8jbmam.letter.agency) (Connection closed)
[21:36:50] *** Quits: ronslow (Mibbit@moz-1hl.ksg.185.31.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[21:36:57] *** Quits: wldcordeiro (wldcordeiro@moz-pvsror.ut.comcast.net) (Ping timeout: 121 seconds)
[21:37:37] *** Quits: nercury (nercury@moz-8h0btl.static.zebra.lt) (Client exited)
[21:37:47] *** Quits: Rym (y@moz-aun.38r.38.217.IP) (Ping timeout: 121 seconds)
[21:38:05] *** Joins: jimb (user@moz-6gkikn.or.comcast.net)
[21:38:59] *** Quits: Lilly (Lilly@moz-pfkvo9.bredband.comhem.se) (Quit: bajs)
[21:39:02] *** Quits: w4ffles (textual@moz-g7g.toe.144.12.IP) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[21:39:03] *** Quits: gopar (gopar@moz-5039uj.ca.comcast.net) (Quit: Leaving)
[21:39:04] *** Quits: m-r-r (mrr@moz-br1no5.rev.sfr.net) (Ping timeout: 121 seconds)
[21:40:08] *** Quits: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp) (Ping timeout: 121 seconds)
[21:40:13] *** Joins: m-r-r (mrr@moz-s37thh.abo.wanadoo.fr)
[21:40:23] *** Quits: lucian (lucian@moz-2c3pda.cable.virginm.net) (Ping timeout: 121 seconds)
[21:40:48] *** Quits: tcard (tcard@moz-jdrdbk.ddns.jazztel.es) (Client exited)
[21:41:39] *** Quits: nwin_ (textual@moz-l9ikat.pools.arcor-ip.net) (Connection closed)
[21:41:41] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[21:41:58] *** Joins: nwin (textual@moz-l9ikat.pools.arcor-ip.net)
[21:42:05] *** Quits: foodoo (foodoo@moz-tu0q2q.dyn.telefonica.de) (Quit: this user has gone to sleep. ZzZzZz)
[21:42:17] *** Joins: lucian (lucian@moz-2c3pda.cable.virginm.net)
[21:42:46] <duesenfranz_> is there a way to mutably borrow a value for one lifetime, while also borrowing it shared for a (longer) lifetime
[21:42:50] *** zz_NameNotFound is now known as NameNotFound
[21:43:33] *** Quits: shellac (textual@moz-9b49cr.cable.virginm.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[21:43:41] *** Joins: rkruppe_ (chatzilla@moz-3nj.rnu.131.95.IP)
[21:43:58] <duesenfranz_> (so you could, for example, use a insert a value into a hashmap and immediatly recieve a shared reference to the same element)
[21:45:00] <frankmcs_> duesenfranz_: the HashMap::Entry type should let you do that specific thing. Otherwise, having shared + exclusive reference at the same time is a no-no.
[21:45:18] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Ping timeout: 121 seconds)
[21:45:23] *** rkruppe_ is now known as rkruppe
[21:45:35] *** Joins: e_svedang (e_svedang@moz-p1r4ve.bredband.comhem.se)
[21:45:58] <duesenfranz_> frankmcs_: yeah, but or_insert_with gives me a mutable reference. i just need a shared reference, but i want to be able to use the hashmap (shared)
[21:46:02] *** Quits: errordeveloper (ilya@moz-o85.0jl.201.90.IP) (Ping timeout: 121 seconds)
[21:46:45] *** Joins: maximih (maximih@moz-0r2bjb.bredband.telia.com)
[21:47:37] *** Joins: colinsurprenant (colin@moz-q9ee1n.74.electronicbox.net)
[21:47:43] <talchas> if you didn't have any other references at the same time, you can auto-convert the &mut V to &V
[21:47:51] *** Quits: ConnorDoyle (ConnorDoyle@moz-edrulj.static.monkeybrains.net) (A TLS packet with unexpected length was received.)
[21:48:23] <talchas> (ie, if the entry() is the first reference you're getting, you're fine)
[21:48:24] <frankmcs_> talchas: is Rust bright enough to realize that this releases the exclusive borrow on the HashMap?
[21:48:27] <duesenfranz_> talchas: thing is, I want (for example) to get another reference fromt he hashmap afterwards
[21:48:37] *** Quits: Kxepal (Miranda@moz-u0omr9.pppoe.mtu-net.ru) (Ping timeout: 121 seconds)
[21:48:46] <talchas> hmm, let me double-check
[21:49:05] <frankmcs_> duesenfranz_: if you are still holding a reference into the hashmap this is hard; trying to put another thing in the hashmap (if that is what you mean) may mutate its internal state.
[21:49:26] *** Quits: lucian (lucian@moz-2c3pda.cable.virginm.net) (A TLS packet with unexpected length was received.)
[21:49:36] *** Joins: errordeveloper (ilya@moz-o85.0jl.201.90.IP)
[21:50:25] <talchas> hmm, you're right it doesn't work the way it could
[21:50:34] *** Joins: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp)
[21:50:45] <frankmcs_> talchas: it would be nice if it did!
[21:50:47] *** Quits: maximih (maximih@moz-0r2bjb.bredband.telia.com) (Ping timeout: 121 seconds)
[21:50:48] <duesenfranz_> frankmcs_: I think I'm making this too complicated :) I want: -insert something into the hashmap -keep a reference -get another reference from the hashmap in this order
[21:50:54] *** Joins: Kxepal (Miranda@moz-eduvui.pppoe.mtu-net.ru)
[21:51:03] <talchas> frankmcs_: yeah, but theoretically you should be able to do let x: &V = x.entry(k).or_insert(v); x.get(k2)
[21:51:11] <talchas> er, let y:, whatever
[21:51:15] *** Joins: Layl (Layl@moz-65hqmf.direct-adsl.nl)
[21:51:46] *** Joins: Guest69 (textual@moz-spp.oah.143.95.IP)
[21:52:06] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[21:52:11] <frankmcs_> duesenfranz_: looks like no dice. not a good reason that I see, though (entry api could offer &V back through a method, but doesn't).
[21:52:39] <duesenfranz_> frankmcs_: I'd like to design such api for myself, but I dont think this is even possible.
[21:52:48] <talchas> I'm not /certain/ that that would be sufficient
[21:52:50] *** Quits: bbatha (Mibbit@moz-ta0.r5i.55.164.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[21:53:08] *** Quits: Guest69 (textual@moz-spp.oah.143.95.IP) (Quit: Textual IRC Client: www.textualapp.com)
[21:53:16] <duesenfranz_> frakmcs_: this would require HashMap::entry to borrow `self` with two different lifetimes: &mut 'a + &'b
[21:53:17] *** Joins: zcdziura (zcdziura@moz-r9t2at.nh.comcast.net)
[21:53:31] *** Quits: ehiggs (ehiggs@moz-939f42.1fqp.rav1.1812.2a02.IP) (Quit: WeeChat 1.1.1)
[21:53:31] *** Joins: Izacht13 (Izacht13@moz-gee645.atsnmeam.ccmaine.net)
[21:53:36] *** Quits: m-r-r (mrr@moz-s37thh.abo.wanadoo.fr) (Ping timeout: 121 seconds)
[21:53:44] *** Joins: tcard (tcard@moz-jdrdbk.ddns.jazztel.es)
[21:54:16] <frankmcs_> duesenfranz_: I guess I mean to say, I don't see that the api couldn't have been done to support what you want.
[21:54:26] *** Joins: hmax (Max@moz-dpck8k.2com.net)
[21:54:33] *** Quits: nedp (nedp@moz-vg6vvt.bigpond.net.au) (Connection closed)
[21:54:37] *** Quits: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp) (Ping timeout: 121 seconds)
[21:54:45] *** Joins: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP)
[21:54:53] *** Quits: ai (ai@moz-pqofrl.sunline.net.ua) (Quit: Leaving.)
[21:55:02] <talchas> yeah, you would need a demotion of all existing &'a mut U to &'a U to change the original mutable borrow to be treated as &'a T starting from wherever
[21:55:22] *** Quits: freefall (ff@moz-j5rng1.tor-exit.network) (Ping timeout: 121 seconds)
[21:55:22] *** Joins: zeiris (dan@moz-8jbmam.letter.agency)
[21:55:32] <frankmcs_> duesenfranz_: or, you are saying that by needing a &mut in the first place, it is hard to communicate that it should re-borrow itself at & with a new, longer lifetime?
[21:55:45] *** Joins: m-r-r (mrr@moz-br1no5.rev.sfr.net)
[21:55:54] <duesenfranz_> frankmcs_: YES! :) that is exactly what I was trying to say!
[21:56:12] <duesenfranz_> thanks for the better wording
[21:56:30] *** Quits: debu (debu@moz-6momm3.adsl.alicedsl.de) (Ping timeout: 121 seconds)
[21:56:34] *** Joins: lucian (lucian@moz-2c3pda.cable.virginm.net)
[21:56:43] <hmax> Hi there
[21:57:07] <hmax> I have a question about building rust for arm :) Is it possible without using snapshots? I can't seem to find one
[21:57:18] <hmax> I'm building rustc directly on my arm board
[21:58:00] *** Quits: lucian (lucian@moz-2c3pda.cable.virginm.net) (A TLS packet with unexpected length was received.)
[21:58:11] <steveklabnik> hmax: generally speaking, you always need a snapshot, since rust is written in rust
[21:58:41] <hmax> steveklabnik, so, my only option is using cross-compiler and building on x86 host?
[21:58:48] *** Joins: mib_f649an (Mibbit@moz-dlkpia.bb.dnainternet.fi)
[21:59:27] *** Quits: tadh (quassel@moz-iq6hhs.biz.rr.com) (Ping timeout: 121 seconds)
[21:59:36] *** Joins: freefall (ff@moz-4lmh4m.privacyfoundation.ch)
[21:59:38] <steveklabnik> yes, unless someone else has pre-built a snapshot for you
[21:59:42] <steveklabnik> there's been some work on arm
[21:59:48] <steveklabnik> i'm not sure if there's a community hosted snapshot or not
[21:59:56] *** Joins: tadh (quassel@moz-iq6hhs.biz.rr.com)
[22:00:06] <mib_f649an> Can I pattern match against a Vec so that I can get a slice out of it without the last element
[22:00:50] *** Quits: turtil (turtil@moz-gfc.es4.23.103.IP) (Connection closed)
[22:00:50] *** Joins: James (quassel@moz-225vcm.range86-148.btcentralplus.com)
[22:01:08] *** Quits: zmack (zmack@moz-8vhf46.residential.rdsnet.ro) (Connection closed)
[22:01:36] <steveklabnik> mib_f649an: there are http://doc.rust-lang.org/nightly/book/slice-patterns.html in the nightly builds
[22:01:42] *** Quits: simonoram (simonoram@moz-pllbvg.cable.virginm.net) (Client exited)
[22:01:51] *** Joins: Guest63 (textual@moz-6gq.t8s.78.166.IP)
[22:01:58] <mbrubeck> mib_f649an: No; the shortest way to do that is &vec[..vec.len-1]
[22:02:07] *** Joins: Boscop (me@moz-5ac.5rj.126.98.IP)
[22:02:16] <mbrubeck> mib_f649an: Or in nightly use the unstable vec.init() method: http://doc.rust-lang.org/std/primitive.slice.html#method.init
[22:02:17] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[22:02:17] *** ChanServ sets mode: +ao pcwalton pcwalton
[22:02:23] <hmax> steveklabnik, ok, thank you
[22:02:44] <mib_f649an> mbrubeck: thanks
[22:03:27] *** Joins: turtil (turtil@moz-gfc.es4.23.103.IP)
[22:03:41] <mbrubeck> So we have first/tail instead of the more logical head/tail or first/rest.
[22:03:55] <mbrubeck> and then last/init
[22:04:13] * mbrubeck wants to rename tail to "rest" and "init" to "foremost"
[22:04:42] <talchas> there's a reason they're unstable
[22:04:55] <frankmcs_> whoa, vec::retain is ... not what I hoped it would be.
[22:05:10] *** Quits: Shtong (realshtong@moz-5i59qi.abo.wanadoo.fr) (Quit: )
[22:05:13] <frankmcs_> it does a swap for each retained element. >.<
[22:05:16] *** Quits: wipeD (wipeD@moz-ldqjdv.dip0.t-ipconnect.de) (Quit: G'bye)
[22:05:20] *** Quits: mib_f649an (Mibbit@moz-dlkpia.bb.dnainternet.fi) (Quit: http://www.mibbit.com ajax IRC Client)
[22:05:29] *** Joins: ipjk (INDIANPOJKE@moz-55impg.cust.telenor.se)
[22:05:33] *** Quits: ipjk (INDIANPOJKE@moz-55impg.cust.telenor.se) (Connection closed)
[22:05:43] *** Joins: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp)
[22:05:51] *** Joins: jdm (jdm@moz-i5m.05u.207.66.IP)
[22:05:51] *** ChanServ sets mode: +o jdm
[22:05:57] *** Joins: tristanseifert (tristanseif@moz-r0t7ns.res.rr.com)
[22:06:29] *** Joins: leaper (Mibbit@moz-nd812e.fios.verizon.net)
[22:06:36] <steveklabnik> maybe drain?
[22:06:37] <mbrubeck> frankmcs_: Want to contribute an optimized version?  ;)
[22:06:39] <steveklabnik> is what you want instead?
[22:06:55] *** Quits: Boscop (me@moz-5ac.5rj.126.98.IP) (Ping timeout: 121 seconds)
[22:07:07] <frankmcs_> would it not be better to just ptr::write saved stuff and drop the other stuff?
[22:07:08] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[22:07:38] *** Quits: kefan (kefan@moz-ljgn4c.ma.comcast.net) (Client exited)
[22:07:39] <frankmcs_> mbrubeck: I'm totally up for helping out, once I'm more sure I understand all the careful details about important stuff. :)
[22:07:44] *** Joins: Guest22 (textual@moz-jt9juk.fibertel.com.ar)
[22:08:09] *** Quits: essem2 (Thunderbird@moz-0g3v4k.biz.rr.com) (Client exited)
[22:08:12] *** Joins: shellac (textual@moz-9b49cr.cable.virginm.net)
[22:08:21] *** Quits: sommoyogurt (sommoyogurt@moz-uh60ch.21-151.libero.it) (Connection closed)
[22:08:23] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[22:08:29] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[22:08:57] *** Quits: jarrednicholls (uid19542@moz-s0evcl.uxbridge.irccloud.com) (Quit: Connection closed for inactivity)
[22:09:38] <Stents_> So I'm coming from the background of object oriented languages and am having a hard time getting used to rust
[22:09:46] *** Quits: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp) (Ping timeout: 121 seconds)
[22:09:54] *** Quits: leaper (Mibbit@moz-nd812e.fios.verizon.net) (Quit: http://www.mibbit.com ajax IRC Client)
[22:09:55] <Stents_> It just seems somewhat counterintuitive to me
[22:10:00] <brson> is this any better than the current front page example? https://gist.github.com/brson/3c74de94a8e98d5e5bfd
[22:10:06] *** bvssvni is now known as bvssvni_
[22:10:18] *** Joins: gsingh93 (gulshan@moz-qnbukr.mi.comcast.net)
[22:11:06] *** Quits: nano (nano@moz-00j6et.dynamic.kabel-deutschland.de) (Connection closed)
[22:11:09] <steveklabnik> better in some and worse in others :/
[22:11:15] <steveklabnik> i think i'd pick it over the old one
[22:11:19] *** Joins: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp)
[22:11:44] <Stents_> The ownership system to me seems limiting
[22:11:53] <duesenfranz_> Stents_: I think rust support OO pretty good?
[22:12:08] <Hannibal_Smith> Stents_, what is your reason to be interested into Rust?
[22:12:16] <frankmcs_> brson: I like the old one!
[22:12:29] <FreeFull> duesenfranz_: Rust doesn't have classes or objects
[22:12:52] <Stents_> duesenfranz_, The ownership system limits you to one owner, which isn't something I'm used to
[22:12:59] <Stents_> Hannibal_Smith, Learning mostly
[22:13:14] <brson> i'm just paging through rust-by-example looking for small things that look good
[22:13:19] <mbrubeck> brson: Your suggest_guess seems really weird to me.  You have to provide a guess *and* whether it's right (or too high/low)?  It seems a weird mix of guesser and guessee.
[22:13:49] <frankmcs_> brson: I think the current frontpage one is actually pretty great (for me).
[22:14:11] <genbattle> Stents_, You can have multiple owners if you use a run-time ownership system like Rc<T>
[22:14:26] *** Quits: niconii (nicole@moz-ojt2sa.frgo.qwest.net) (Quit: brb)
[22:14:32] <mbrubeck> brson: Maybe hoverbear's rosetta-code repo has something good.
[22:14:42] <brson> mbrubeck: good idea
[22:14:48] <genbattle> just because Rust doesn't let you do something at compile-time doesn't mean it doesn't let you do it
[22:14:53] <brson> frankmcs_: problem to me is it doesn't show anything that's unique to rust
[22:15:20] <frankmcs_> brson: well. you could have a bunch of lifetime error messages? :)
[22:15:22] *** Quits: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp) (Ping timeout: 121 seconds)
[22:15:23] <brson> lol
[22:15:26] <duesenfranz_> brson: it would be nice if the front-page-example would run in release mode
[22:15:43] <duesenfranz_> brson: i mean debug mode
[22:15:58] <duesenfranz_> as it currently runs in release mode and doesn't catch overflow errors
[22:15:59] <Stents_> genbattle, I get the sense though that its not reccomended to use RC a lot
[22:16:35] <genbattle> Stents_, no, you're right, because runtime constructs can fail at runtime.
[22:16:40] <Hannibal_Smith> Stents_, the way to handle memory in a language without a GC is unfortunatelly, a good understand of your problem
[22:16:50] <frankmcs_> Stents_: using Rc is fine, but it should be avoided if you actually can establish a proper ownership (it shouldn't be used to avoid structuring ownership). 
[22:17:24] *** Quits: saterus (saterus@moz-o0ug28.res.rr.com) (Connection closed)
[22:17:33] *** Joins: bombela (Mibbit@moz-mu0.s74.170.68.IP)
[22:17:46] *** Joins: saterus (saterus@moz-o0ug28.res.rr.com)
[22:17:47] <genbattle> everything that Rust does it does because it loves you and doesn't want your programs to crash :)
[22:17:56] <steveklabnik> frankmcs_: i nominate that for TWiR quote of the week, haha
[22:18:21] <frankmcs_> <3
[22:18:25] <Hannibal_Smith> In Java for example, you first start about the interface of your classes,,,in C++, Rust...generally no
[22:18:31] *** Quits: tomprogrammer (thomas@moz-k12l4i.tr5r.qept.4dd0.2001.IP) (Quit: WeeChat 1.1.1)
[22:18:58] <mindtree> Stents_: thinking in terms of ownership becomes second nature after a while :) just takes a bit of getting used to at first
[22:19:05] <Stents_> Well I've been looking at the conrod example source and it essentially has you recreate every widget each time you draw the program
[22:19:07] *** Quits: hhhhhhhhhh (mike@moz-969kuj.cable.virginm.net) (Quit: WeeChat 1.1.1)
[22:19:15] <Stents_> Which seems like a waste of resources
[22:19:17] *** Joins: niconii (nicole@moz-ojt2sa.frgo.qwest.net)
[22:19:29] <mindtree> Stents_: that's what an imgui is
[22:19:53] *** Quits: Marvin (Marvin@moz-aikc5m.cpe.webspeed.dk) (Connection closed)
[22:19:53] *** Quits: asQuirreL (asQuirreL@moz-ro1qqu.ox.ac.uk) (Connection closed)
[22:19:54] <genbattle> I'm not a huge fan of immediate-mode graphics to be fair, but it is simpler to implement
[22:20:04] *** Joins: asQuirreL (asQuirreL@moz-ro1qqu.ox.ac.uk)
[22:20:12] <Stents_> But if you were too do it otherwise it wouldn't work because then the widgets would take ownership of anything used in their callbacks
[22:20:19] *** Joins: emilk (emilk@moz-eossn5.cust.bredbandsbolaget.se)
[22:20:21] <mindtree> Stents_: there's a very small amount of stack data that you construct, but everything substantial is cached within the `Ui`
[22:20:43] *** Joins: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp)
[22:20:49] <mindtree> Stents_: the callbacks are evaluated immediately, so ownership is immediately released
[22:21:12] *** Quits: btobolaski (btobolaski@moz-ltbh80.va.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[22:21:26] *** Quits: dawehner (quassel@moz-46p.bjg.78.66.IP) (Ping timeout: 121 seconds)
[22:21:53] *** Quits: saterus (saterus@moz-o0ug28.res.rr.com) (Ping timeout: 121 seconds)
[22:22:20] *** Joins: Guest_ (textual@moz-i0id0o.ca.comcast.net)
[22:23:05] <genbattle> Stents_, I don't understand your statement about callbacks and ownership?
[22:23:07] <Siyo> Just wondering, say I want to implement a sorting algorithm that requires some sort of scratch memory for elements. There's no way of doing that safely unless the element implements Copy right?
[22:23:14] <mindtree> Stents_: the whole idea is to simplify gui for smaller projects and prototyping - rather than having to declare the model/layout, callbacks, update and draw all in different places, everything to do with ui is in one place
[22:23:41] *** Quits: smohan (smohan@moz-vm4.rkb.167.122.IP) (Quit: Leaving...)
[22:23:56] <Stents_> genbattle, Say you create 2 button widgets, and you make it so clicking one button changes the text on the other
[22:24:02] *** Joins: w4ffles (textual@moz-34v1r4.res.rr.com)
[22:24:06] <genbattle> Siyo, there's also Clone, my understanding is that it's the explicit copy to Copy's implicit one
[22:24:15] <zcdziura> I have a question about Enums, if anyone can help
[22:24:26] *** Quits: emilk (emilk@moz-eossn5.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[22:24:28] *** Joins: njn (chatzilla@moz-6gdjm4.iinet.net.au)
[22:24:31] <zcdziura> Per this blog post (http://smallcultfollowing.com/babysteps/blog/2015/05/05/where-rusts-enum-shines/), enums can encapsulate structs
[22:24:45] *** Quits: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp) (Ping timeout: 121 seconds)
[22:24:54] <Stents_> genbattle, You write a closure like this ":|| Button2.text = "changed";" for button1s callback
[22:25:03] <zcdziura> Am I able to define a struct, and have an enum encapsulate it that way?
[22:25:05] <zcdziura> i.e
[22:25:12] <Stents_> genbattle, Now button1 owns button2 and nothing else can access it
[22:25:16] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[22:25:22] <mindtree> Stents_: That's not how imgui works
[22:25:37] *** Quits: jimb (user@moz-6gkikn.or.comcast.net) (Ping timeout: 121 seconds)
[22:25:43] <zcdziura> enum Demo {
[22:25:45] <zcdziura>     TestStruct
[22:25:47] <zcdziura> }
[22:25:48] <Siyo> genbattle, well yeah but either way it limits a lot what you can sort. You def. want a sorting algorithm to work for arbitrary T
[22:25:51] <zcdziura> struct TestStruct {
[22:25:52] <frankmcs_> mbrubeck: so I'm thinking about a better retain, one that writes and drops as it goes, and I see comments on other methods suggesting that you have to worry about panics in drops and ... my ability to reason about what is safe and what isn't is limited.... =/
[22:25:54] <zcdziura>     data: &str
[22:25:54] <genbattle> Stents_, that's if you capture by value (move), is it not possible to capture by reference/borrow in this case?
[22:25:55] <zcdziura> }
[22:25:57] <zcdziura> ?
[22:25:59] <zcdziura> Or naw?
[22:26:00] <Stents_> mindtree, I know, its just an example of the way I'm used to dealing with GUI
[22:26:12] *** Quits: tadh (quassel@moz-iq6hhs.biz.rr.com) (Connection closed)
[22:26:26] <Stents_> genbattle, IF you borrow you still can't use it until button1 releases it
[22:26:31] *** Quits: Racquetball (namestolenw@moz-dnlovt.cpe.twtelecom.net) (Quit: leaving)
[22:26:40] <Stents_> genbattle, which if you're saving the callback, then it wont
[22:26:55] <mattico> zcdziura: it's easier if you can give a play.rust-lang.org link :)
[22:27:05] <zcdziura> mattico: touche :P
[22:27:08] <zcdziura> h/o
[22:27:13] *** Joins: logan_e (logan_e@moz-80ib4o.csail.mit.edu)
[22:27:21] *** Joins: Rym (y@moz-aun.38r.38.217.IP)
[22:27:24] <mattico> zcdziura: but that's not how enums work... I'm thinking about how to explain it give me a sec
[22:27:25] <bluss> Siyo: by safely, what do you mean?
[22:27:34] *** Joins: xrl (uid1091@moz-f0543s.brockwell.irccloud.com)
[22:27:37] <Siyo> bluss, not using unsafe {}
[22:27:42] *** Quits: bjz (bjz@moz-puppgq.tpgi.com.au) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[22:27:43] <genbattle> Stents_, good point. More though is needed here on non-immediate mode GUIs and how to structure them
[22:27:47] <genbattle> in rust
[22:28:04] *** Quits: jdm (jdm@moz-i5m.05u.207.66.IP) (Quit: )
[22:28:05] <bluss> Siyo: ok, just to be sure.
[22:28:06] *** Joins: thomas (thomas@moz-p0k.s0m.111.50.IP)
[22:28:13] *** Joins: acharles (acharles@moz-dvfnah.static.qwest.net)
[22:28:14] <xrl> I want to user the iter method 'sum' but it's marked as unstable and the compiler treats that as an error. how can I opt in to the unstable feature sum?
[22:28:20] <Tari> zcdziura: you want something like this http://is.gd/cLQ0Hu
[22:28:22] <steveklabnik> xrl: you have to use the nightly compiler
[22:28:52] <zcdziura> Tari: I'm not able to do something like this: http://is.gd/ciuFkz?
[22:28:55] <xrl> steveklabnik: oh, I thought I could just use a #![feature()]. so essentially I shouldn't use the unstable feature, eh :)
[22:28:57] <mindtree> genbattle: the trickiness with retained guis is kind of what lead us to a more reactive style with conrod
[22:28:58] <bluss> Siyo: I think it's probably hard to do without unsafe blocks yes. I suspect you'd need to use a lot of extra mem::swap 
[22:29:01] <zcdziura> Tari: Also, thank you for your demo
[22:29:14] <genbattle> mindtree, I see that now
[22:29:16] <gsingh93> is it a bad idea to have a data structure that impls PartialEq entirely based off one member field and then implement PartialOrd off another? i.e., PartialEq and PartialOrd are unrelated?
[22:29:18] *** Quits: samcliu (samcliu@moz-p36.4ra.239.216.IP) (Connection closed)
[22:29:30] <mindtree> genbattle: building widgets from teh application data rather than having them as another retained structure
[22:29:35] <genbattle> and to be honest I'm not a huge fan of the sprawling nests that get created using frameworks like Qt
[22:29:35] <duesenfranz_> xrl: playbot: [1,2,3,4].iter().fold(0, |l, r| l + r)
[22:29:44] <mattico> zcdziura: The first part of the Enum is always the name of the variant
[22:29:46] <duesenfranz_> playbot: [1,2,3,4].iter().fold(0, |l, r| l + r)
[22:29:48] -playbot- 10
[22:29:49] <Tari> zcdziura: what you have there is Demo2 which has a variant called TestStruct2, which has no data associated with it
[22:29:49] <xrl> duesenfranz_: yeah, I was going to switch over to a fold :)
[22:29:53] <xrl> thanks!
[22:30:04] <mattico> zcdziura: Types go in the parens
[22:30:04] <bluss> gsingh93: as long as you don't impl Ord or Eq I guess. It sounds like kind of a bad idea though
[22:30:27] <zcdziura> mattico: Gotcha.
[22:30:31] <genbattle> mindtree, what you're talking about is basically model-view separation, right?
[22:30:33] <zcdziura> Thank you both, mattico and Tari!
[22:30:47] *** Joins: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp)
[22:30:55] *** Joins: ygrek (user@moz-8j9aeu.org.ua)
[22:31:14] *** Joins: sprang_ (sprang@moz-sd1pe6.tmodns.net)
[22:31:26] *** Joins: gopar (gopar@moz-5039uj.ca.comcast.net)
[22:31:37] *** Quits: duesenfranz_ (jona@moz-711djm.tirol.surfer.at) (Connection closed)
[22:31:53] *** Quits: rustyrazorblade_ (rustyrazorb@moz-1am.596.81.206.IP) (Client exited)
[22:31:57] *** Quits: Rym (y@moz-aun.38r.38.217.IP) (Ping timeout: 121 seconds)
[22:32:24] *** Joins: arBmind1 (Andreas@moz-3jdbft.adsl.alicedsl.de)
[22:32:27] *** Quits: brson (brson@moz-u3dg2t.sfo1.mozilla.com) (Quit: leaving)
[22:32:37] *** Quits: Guest62 (textual@moz-jj1l4d.bah.com) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[22:33:01] <steveklabnik> xrl: you can only opt in with those flags on the nightly compiler
[22:33:04] *** Joins: maximih (maximih@moz-be8921.k49b.su5n.2002.2001.IP)
[22:33:09] *** Joins: isagalaev (Thunderbird@moz-qpq.tv0.34.50.IP)
[22:33:14] *** Joins: duesenfranz_ (jona@moz-711djm.tirol.surfer.at)
[22:33:18] <xrl> steveklabnik: makes sense. I'll charge forward with fold :)
[22:33:21] <steveklabnik> xrl: basically, the reason why is that we don't want things to become defacto stable before they're ready
[22:33:24] *** Quits: arBmind (Andreas@moz-2taknk.dyn.telefonica.de) (Ping timeout: 121 seconds)
[22:33:24] <steveklabnik> :)
[22:33:28] *** Joins: mastax (Matthew@moz-l3g7sb.0mtq.dm5j.ea00.2607.IP)
[22:34:07] *** Quits: e_svedang (e_svedang@moz-p1r4ve.bredband.comhem.se) (Client exited)
[22:34:27] *** Quits: Anupkumar (uid16774@moz-cf8smb.uxbridge.irccloud.com) (Quit: Connection closed for inactivity)
[22:34:51] *** Quits: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp) (Ping timeout: 121 seconds)
[22:34:52] <isagalaev> Hey everyone! Anyone willing to help out a novice with returning a value from a function? :-)
[22:34:52] *** Quits: Guest22 (textual@moz-jt9juk.fibertel.com.ar) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[22:35:03] <gsingh93> bluss: I have a Heap data structure, so I need the elements of type T to implement PartialOrd. However, my Heap contains a HashMap so I can find elements in O(1), replace them, and fix the heap. Now I'm using this with the A* algorithm, so equality needs to be based off of the state I'm in and ordering needs to be based of the length of the path
[22:35:03] <frankmcs_> reading some Vec code, and it would be really useful (perf) if some methods were known not to panic (e.g. drop)
[22:35:27] *** Joins: dawehner (quassel@moz-46p.bjg.78.66.IP)
[22:35:49] *** Quits: mattico (Matthew@moz-f4l4fc.0mtq.dm5j.ea00.2607.IP) (Ping timeout: 121 seconds)
[22:35:59] *** Quits: ptalbot (ptalbot@moz-j4gnuh.fbx.proxad.net) (Ping timeout: 121 seconds)
[22:36:01] <genbattle> isagalaev, feel free to post links to some code and ask some questions.
[22:36:05] *** Quits: hmax (Max@moz-dpck8k.2com.net) (Connection closed)
[22:36:13] <isagalaev> Trying to return a value from a function here, with no luck yet: http://is.gd/Ulk8GT. There's a Lexer struct that optionally holds one previously read lexeme in self.current, so the `consume` on line 21 checks if it has something in it and if yes, tries to return that and reset self.current to None. I don't know how to tell Rust that I'd like this value to be moved away from self.current.
[22:36:26] *** Joins: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp)
[22:37:24] <isagalaev> Also: any advice on how to do something like this in a more idiomatic fashion?
[22:37:25] <genbattle> lol, trend officescan doesn't like the URL shortener -_-
[22:37:39] *** Joins: nico (nico@moz-ni68vq.dip0.t-ipconnect.de)
[22:38:46] *** Joins: isis (isis@moz-uprl14.patternsinthevoid.net)
[22:38:46] <geri> why does cargo complain about this? http://ideone.com/L5U7TO
[22:38:55] *** Quits: areski (areski@moz-prr0dt.user.ono.com) (Ping timeout: 121 seconds)
[22:38:59] <geri> error: can't find crate for `mmap`
[22:39:03] <duesenfranz_> isagalaev: something like `Option.take()`?
[22:39:14] *** Quits: shellac (textual@moz-9b49cr.cable.virginm.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[22:39:47] <nollidj> isagalaev: you could have consume take self (not &mut self) and then return (Self, Option<Vec<u8>>). but i am not satisfied with that personally.
[22:40:21] <duesenfranz_> isagalaev: you might do something like http://is.gd/ZCE2ST
[22:40:22] <isagalaev> nollidj: it calls self.read() which is mutable by nature.
[22:40:28] *** Quits: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp) (Ping timeout: 121 seconds)
[22:40:28] *** Joins: summerlight (summerlight@moz-99k.2mj.130.121.IP)
[22:40:35] <isagalaev> duesenfranz_: /me looking
[22:40:43] *** NameNotFound is now known as zz_NameNotFound
[22:40:46] <nollidj> although Option.take() looks pretty good
[22:41:41] *** Quits: nico (nico@moz-ni68vq.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[22:41:53] <isagalaev> duesenfranz_: nollidj: could you guys conjure a link to the docs with that .take() thing?
[22:41:59] *** Joins: shellac (textual@moz-9b49cr.cable.virginm.net)
[22:42:14] <isagalaev> can't seem to find one here https://doc.rust-lang.org/std/option/
[22:42:34] <mbrubeck> isagalaev: https://doc.rust-lang.org/std/option/enum.Option.html#method.take
[22:42:49] *** Quits: Jesse (jruderman@moz-pqc1f5.ca.comcast.net) (Client exited)
[22:43:11] *** Joins: Matt (Matthew@moz-2vsmvu.0mtq.dm5j.ea00.2607.IP)
[22:43:37] <isagalaev> mbrubeck: thanks!
[22:43:41] *** Joins: yuja (yuja@moz-kqflcs.so-net.ne.jp)
[22:43:43] <duesenfranz_> isagalaev: it's essentially a wrapper around mem::replace. mem::replace and mem::swap are your best friends sometimes....
[22:43:44] <genbattle> isagalaev, instead of returning `result` in `read()` you probably want to store it as current and return a reference. That's also what you want to do with consume, which will fix your move problem.
[22:43:49] <nollidj> isagalaev: http://is.gd/RbayJZ is another way to do it, fwiw
[22:44:01] <nollidj> but it's not very rustic
[22:44:16] *** Quits: frankmcs_ (frankmcsher@moz-dgbedl.adsl.alicedsl.de) (Connection closed)
[22:44:43] *** Quits: logan_e (logan_e@moz-80ib4o.csail.mit.edu) (Client exited)
[22:44:47] *** Joins: takluyver (takluyver@moz-pi9ajp.evrd.fbki.f140.2607.IP)
[22:44:54] *** Quits: errordeveloper (ilya@moz-o85.0jl.201.90.IP) (Ping timeout: 121 seconds)
[22:45:03] *** Quits: mastax (Matthew@moz-l3g7sb.0mtq.dm5j.ea00.2607.IP) (Ping timeout: 121 seconds)
[22:45:04] <nollidj> i'm shaking habits from using immutable bindings everywhere in clojure and scala 
[22:45:19] <isagalaev> genbattle: thanks for the idea. I played with this approach actually but it didn't work for some other reason, will try again.
[22:45:36] <isagalaev> nollidj: thanks, I'll have a look!
[22:45:43] *** Joins: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp)
[22:45:51] <geri> why does cargo complain about this? http://ideone.com/L5U7TO ...error: can't find crate for `mmap`
[22:45:55] <isagalaev> duesenfranz_: thanks! seems to be working now.
[22:46:10] *** Quits: ygrek (user@moz-8j9aeu.org.ua) (A TLS packet with unexpected length was received.)
[22:46:15] <duesenfranz_> isagalaev: np! :)
[22:46:31] *** Joins: Fran (fran@moz-fjk45r.telecom.net.ar)
[22:46:46] *** Joins: errordeveloper (ilya@moz-o85.0jl.201.90.IP)
[22:47:26] *** Quits: skade (skade@moz-m9ib3m.pools.vodafone-ip.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[22:47:26] *** Quits: dkeenaghan (dkeenaghan@moz-oeu.k7g.100.89.IP) (Quit: Leaving)
[22:47:29] *** Joins: skade (skade@moz-m9ib3m.pools.vodafone-ip.de)
[22:47:44] *** Joins: Boscop (me@moz-5ac.5rj.126.98.IP)
[22:48:09] *** Quits: annodomini (lambda@moz-hceqmj.hfc.comcastbusiness.net) (Client exited)
[22:48:11] <bluss> gsingh93: I see, that's logical. The problem is that the ordering an equalities you need are not really properties of your data type, but features of the algorithm. It would be better if it wasn't delivered using a trait impl
[22:48:20] *** Quits: willem (willem@moz-facs2s.dynamic.upc.nl) (Quit: leaving)
[22:48:20] *** Quits: Guest63 (textual@moz-6gq.t8s.78.166.IP) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[22:48:22] *** Joins: ygrek (user@moz-8j9aeu.org.ua)
[22:48:58] <bluss> gsingh93: it sounds like it should work? Keeping PartialOrd and Eq separate as long as you don't have Ord (?)
[22:49:28] <mbrubeck> geri: There's no "Downloading" or "Compiling" output for the dependencies... is that because they are already compiled?
[22:49:37] *** Quits: ahal (ahal@moz-b8e0a0.cpe.pppoe.ca) (A TLS packet with unexpected length was received.)
[22:49:39] <mbrubeck> geri: You could try "cargo build -v" to see the exact rustc commands it is running
[22:49:47] *** Quits: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp) (Ping timeout: 121 seconds)
[22:49:56] *** Quits: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net) (Ping timeout: 121 seconds)
[22:50:46] <Siyo> how come a pointer offset() takes an isize, I mean I know it's for allowing negative offsets, but don't you basically make half of your theoretical memory unreachable that way?
[22:50:50] <genbattle> isagalaev, I just realised what you're trying to do is more complex than I thought, so my approach probably won't work at least not without extensively refactoring the logic
[22:50:56] <takluyver> Hi all. I'm trying to write a function that returns a Result<i32, &str>, but running into all kinds of type/lifetime errors when I try to construct the error message with format!() instead of using a static string. I feel like there's something obvious I'm missing here.
[22:51:07] *** Joins: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp)
[22:51:10] <bluss> Siyo: yeah but it appears to be unreachable anyway
[22:51:12] <Yen> gsingh93: are you planning on implementing propnets in ggp-rs? I've started looking into it, but haven't made much progress yet
[22:51:27] *** Joins: samcliu (samcliu@moz-p36.4ra.239.216.IP)
[22:51:31] *** Joins: Fran_ (fran@moz-mfa.jic.137.190.IP)
[22:51:36] *** Quits: skade (skade@moz-m9ib3m.pools.vodafone-ip.de) (Ping timeout: 121 seconds)
[22:51:43] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[22:51:44] <bluss> Siyo: https://github.com/rust-lang/rust/issues/22104
[22:51:55] <GGist> takluyver: format! returns a String, not a str
[22:52:33] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Ping timeout: 121 seconds)
[22:52:38] *** Quits: ixti (ixti@moz-21k.dae.119.188.IP) (Quit: WeeChat 1.1.1)
[22:52:39] *** Joins: rkruppe_ (chatzilla@moz-3nj.rnu.131.95.IP)
[22:52:42] *** rkruppe_ is now known as rkruppe
[22:53:09] <geri> mbrubeck: i added it here at the end look for output: http://ideone.com/L5U7TO 
[22:53:20] <takluyver> GGist: I think I read that it was cheap to convert a String to a &str
[22:53:26] <Siyo> bluss: "That said, they will just be sugar for casting to an int, because that's just what the ptr offset intrinsic in LLVM takes."
[22:53:32] <Siyo> huh, that's odd
[22:53:40] *** Quits: zcourts (zcourts@moz-7ms809.cable.virginm.net) (Client exited)
[22:53:55] <duesenfranz_> takluyver: but then you'd have to keep the String around, since somebody has to free the memory
[22:54:01] <GGist> takluyver: Yes but that isnt really the problem, a String owns its contents whereas a &str is borrowing it. In your case, a literal str is the same as &'static str meaning that it will last for the duration of the program.
[22:54:02] <isagalaev> genbattle: I'm all for some heavy refactoring :-) In fact I'm in the middle of one now. I'll give this idea a shot since it does make sense. There's also going to be a lookup() method that returns a reference to self.current without unnecessary read()
[22:54:16] *** Joins: swgillespie (swgillespie@moz-1i5.3un.220.167.IP)
[22:54:28] *** Quits: Fran (fran@moz-fjk45r.telecom.net.ar) (Ping timeout: 121 seconds)
[22:54:35] <mbrubeck> geri: Does /home/redpitaya/rust_example/hello/target/debug/deps contain the compiled mmap lib?
[22:55:07] <takluyver> GGist duesenfranz_: So is there a way to tell it to attach the lifetime of the String to that of the Err that's getting returned?
[22:55:10] *** Quits: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp) (Ping timeout: 121 seconds)
[22:55:38] <mbrubeck> geri: Oops, I didn't mean for you to drop the `--target=arm-unknown-linux-gnueabihf`, sorry
[22:55:39] <geri> mbrubeck: i also need to add the target?
[22:55:43] <mbrubeck> just add -v to your previous command
[22:55:43] *** Quits: colinsurprenant (colin@moz-q9ee1n.74.electronicbox.net) (Client exited)
[22:55:43] <duesenfranz_> takluyver: simply return the String! :) 
[22:55:43] <mbrubeck> yeah
[22:55:50] *** Quits: swgillespie (swgillespie@moz-1i5.3un.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[22:55:53] <geri> mbrubeck: already did...look in the same paste
[22:56:20] *** Joins: Rachael (Mibbit@moz-u0a.vrr.52.209.IP)
[22:56:24] <mbrubeck> geri: Try removing the `build` line from your Cargo.toml
[22:56:24] *** Joins: aatch (james@moz-is4j4r.cable.telstraclear.net)
[22:56:41] <mbrubeck> geri: Or change it to `path = "src/mmap_example.rs"`
[22:57:02] <takluyver> duesenfranz_: So use Result<i32, String>? All the other cases have literal (static) &str, so it feels wrong to convert them all to String (IIRC &str -> String is more expensive than the reverse)
[22:57:02] *** Joins: wldcordeiro (wldcordeiro@moz-pvsror.ut.comcast.net)
[22:57:15] <steveklabnik> takluyver: you can use '&format...
[22:57:24] <steveklabnik> that will use Deref coercions to conver the String into a &str
[22:57:33] <steveklabnik> however, you probably want Result<i32, String>
[22:57:36] <geri> mbrubeck: that didnt work: Or change it to `path = "src/mmap_example.rs"`
[22:57:37] <steveklabnik> it's a more realistic type
[22:57:55] <geri> mbrubeck: cant parse input to toml
[22:58:01] <steveklabnik> that said, if they're all literal strs
[22:58:07] <steveklabnik> you can get away with <i32, &'static str>
[22:58:16] *** Quits: jeffasinger (jeff@moz-jeubl6.res.rr.com) (Client exited)
[22:58:26] <steveklabnik> But your format! implies you _don't_ have literal strings
[22:58:27] <mbrubeck> geri: Leave of the backticks `
[22:58:32] <mbrubeck> s/of/off/
[22:58:37] *** Quits: kgrandon (Adium@moz-ilv.ukc.122.2.IP) (Quit: Leaving.)
[22:58:58] <takluyver> steveklabnik: there's one case where I want to use format!(), and all the others are static strings
[22:59:00] <duesenfranz_> takluyver: You could use Cow<str>, I think
[22:59:04] <mbrubeck> geri: Just change build to path
[22:59:15] <steveklabnik> then yeah, you can pay the cost or use Cow, as duesenfranz_ just beat me to saying. :)
[22:59:29] *** Quits: kazimuth_ (james@moz-fal.j9l.189.18.IP) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[22:59:44] *** Quits: thomas (thomas@moz-p0k.s0m.111.50.IP) (Quit: leaving)
[22:59:50] <takluyver> I'll look into Cow. Thanks!
[22:59:51] <steveklabnik> moo
[22:59:53] <steveklabnik> :)
[22:59:57] *** Quits: Matt (Matthew@moz-2vsmvu.0mtq.dm5j.ea00.2607.IP) (Ping timeout: 121 seconds)
[22:59:57] *** Joins: dog (dog@moz-5162qv.plus.com)
[23:00:25] <dog> hey, is there a http server library that does https and wouldn't be too hard to use with websockets ?
[23:00:39] *** Joins: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp)
[23:00:44] <geri> mbrubeck: i upated the paste: http://ideone.com/L5U7TO
[23:00:56] *** Quits: Boscop (me@moz-5ac.5rj.126.98.IP) (Ping timeout: 121 seconds)
[23:01:18] *** Joins: hnakamur (Mibbit@moz-4lkbsc.bai.ne.jp)
[23:01:24] <geri> mbrubeck: some cross compiler issue now?
[23:01:31] <mbrubeck> geri: Hmm, looks like it's not using the right linker
[23:02:03] <jga> anyone organizing the london meetup here or going there and want to add me to the list?
[23:02:09] <steveklabnik> dog: well, usually you'd want a webserver that terminates ssl, so that's not as big of a deal
[23:02:13] *** Quits: dfinning_ (dfinninger@moz-fe6.5n7.235.207.IP) (Connection closed)
[23:02:19] <steveklabnik> dog: i _think_ there's a websockets library, but can't quite remember
[23:02:23] *** Joins: swgillespie (swgillespie@moz-1i5.3un.220.167.IP)
[23:02:26] *** Quits: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[23:02:58] <mbrubeck> geri: Try moving "[target.arm-unknown-linux-gnueabihf]" and the "linker" line beneath it to a file .cargo/config
[23:03:12] <mbrubeck> geri: docs http://doc.crates.io/config.html
[23:03:23] *** Joins: mib_3yk2x1 (Mibbit@moz-dvd4h0.near.illinois.edu)
[23:03:48] *** Quits: senderista (tdbaker@moz-6nsjqs.wa.comcast.net) (Client exited)
[23:03:52] *** Quits: asQuirreL (asQuirreL@moz-ro1qqu.ox.ac.uk) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[23:03:57] *** Quits: mib_3yk2x1 (Mibbit@moz-dvd4h0.near.illinois.edu) (Quit: http://www.mibbit.com ajax IRC Client)
[23:04:12] <dog> steveklabnik, would it be hard to shoehorn a websocket library to work together with hyper ? 
[23:04:26] *** Joins: Rym (y@moz-aun.38r.38.217.IP)
[23:04:26] <steveklabnik> ive never implemented websockets, so i can't tell you, to be honest
[23:04:41] *** Quits: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp) (Ping timeout: 121 seconds)
[23:05:03] *** Quits: maximih (maximih@moz-be8921.k49b.su5n.2002.2001.IP) (Quit: Leaving...)
[23:05:12] <mbrubeck> dog: I think someone is working on that
[23:05:14] <Hannibal_Smith> dog, it should not be hard, websocket is a simple protocol
[23:05:17] *** Quits: ygrek (user@moz-8j9aeu.org.ua) (Ping timeout: 121 seconds)
[23:05:19] *** Joins: wippler (Mibbit@moz-h8jn81.dnepro.net)
[23:05:37] *** Quits: Gabriel_7 (Gabriel@moz-qvum64.mtgr.92aj.0e35.2a01.IP) (Connection closed)
[23:05:45] <mbrubeck> dog: https://groups.google.com/d/topic/mozilla.dev.servo/lel3uga3Twk/discussion
[23:06:12] *** Joins: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp)
[23:07:06] <geri> mbrubeck: i used this tutorial: https://github.com/japaric/ruststrap/blob/master/1-how-to-cross-compile.md
[23:07:12] *** Quits: yuja (yuja@moz-kqflcs.so-net.ne.jp) (Ping timeout: 121 seconds)
[23:07:31] <posix4e> Facilitating the qa session for the bay area rust meetup tomorrow. In case the audience isn't on the ball, what are good questions for technical representatives of startups using rust in production?
[23:07:32] <geri> mrbkap: in the project directory?
[23:07:39] *** Joins: asQuirreL (asQuirreL@moz-ro1qqu.ox.ac.uk)
[23:07:43] *** Quits: Jesin (Jesin@moz-34r.q2b.180.128.IP) (Quit: Leaving)
[23:07:44] <mbrubeck> geri: Yes
[23:07:52] <mbrubeck> geri: Note that https://github.com/japaric/ruststrap/blob/master/1-how-to-cross-compile.md#cross-compiling-with-cargo also says to put it in the Cargo config file.
[23:07:55] *** Joins: mib_r4dzjx (Mibbit@moz-ao08ka.dwango.co.jp)
[23:08:13] <mbrubeck> posix4e: "Are you hiring?" :)
[23:08:22] <genbattle> ^ this
[23:08:27] <posix4e> Hah of course
[23:08:33] *** Quits: mib_r4dzjx (Mibbit@moz-ao08ka.dwango.co.jp) (Quit: http://www.mibbit.com ajax IRC Client)
[23:08:42] <posix4e> I was going to do that at the end no matter what
[23:08:48] *** Joins: holoway (sid18497@moz-h4rkk6.ealing.irccloud.com)
[23:08:50] *** Quits: James (quassel@moz-225vcm.range86-148.btcentralplus.com) (Ping timeout: 121 seconds)
[23:09:07] <posix4e> But i wanna time bound that for the audience
[23:09:10] *** Joins: orangeshark (erik@moz-clk4vj.44tj.56ot.0306.2602.IP)
[23:09:30] <genbattle> posix4e, possibly ask about the background of team members working with Rust, and whether coming from a particular background was advantageous in picking up Rust?
[23:09:31] <gattschardo> do they exist? startups using rust in production, i mean
[23:09:40] <posix4e> Yes
[23:09:43] <geri> mbrubeck: oh i missed that point :D ... it compiled now :D
[23:09:46] <geri> mbrubeck: yay
[23:09:48] <holoway> If I'm using the beta channel to build a command line tool, and I want to set a non-zero exit status.. how can I do that? 
[23:09:51] <mbrubeck> geri: awesome!
[23:09:53] <posix4e> I know a couple actually
[23:09:56] <geri> mbrubeck: thats it?
[23:10:09] *** Quits: hnakamur (Mibbit@moz-4lkbsc.bai.ne.jp) (Quit: http://www.mibbit.com ajax IRC Client)
[23:10:12] <holoway> it seems like exit_status is still marked unstable, and I can't opt in - does that imply stable rust won't allow setting the exit code?
[23:10:15] *** Quits: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp) (Ping timeout: 121 seconds)
[23:10:16] *** Quits: jviereck (Adium@moz-r772na.dclient.hispeed.ch) (Ping timeout: 121 seconds)
[23:10:20] <gattschardo> posix4e: in US or EU?
[23:10:31] <duesenfranz_> holoway: std::process::exit ?
[23:10:32] <Mutabah> holoway: ::std::process:exit
[23:10:34] *** Quits: timsim (timsim_mozi@moz-n6ajqr.7g0d.lipn.4802.2001.IP) (Quit: ZNC - http://znc.in)
[23:10:35] <mbrubeck> holoway: You can use this at exit time http://doc.rust-lang.org/std/process/fn.exit.html
[23:10:35] <holoway> awesome
[23:10:41] * mbrubeck too slow
[23:10:43] <posix4e> I know of one in Canada ranking up 
[23:10:43] <duesenfranz_> lo
[23:10:44] <holoway> yay y'all
[23:10:45] <duesenfranz_> l
[23:10:53] <posix4e> Ramping sorry on my phone
[23:10:57] *** Joins: subway (subway@moz-9n6.s5r.8.177.IP)
[23:11:00] <posix4e> But I live in sf
[23:11:01] <gattschardo> if EU, I'm gonna spam them with my resume (looking for an OCaml job atm, since i didnt know rust was a thing yet)
[23:11:09] <Mutabah> Ok, seriously, we should stick a comment on exit_status pointing to process:exit
[23:11:11] *** Quits: vosen (vosen@moz-mtm1g4.dynamic.chello.pl) (Connection closed)
[23:11:26] <geri> mbrubeck: the program should map /dev/mem: http://ideone.com/POJmtG
[23:11:50] <posix4e> Too early for me tbh but I could see why people might be into it
[23:11:59] <genbattle> posix4e, "Do you find yourself leaning on any features as escape hatches for Rust's strictness (e.g. Unsafe, Rc<T>, internal mutability (Cell/RefCell)), or does it become easier to work within the bounds that Rust sets?
[23:12:10] <Fenhl> I'm getting an error: type `core::result::Result<(), lang::channel::ChannelError<lang::context::Context>>` does not implement any method in scope named `unwrap` â€” even though ChannelError has the #[derive(Debug)] attribute on it
[23:12:14] <steveklabnik> Mutabah: i'd take that patch, probably
[23:12:23] *** Quits: jaen (jaen@moz-ifmik2.copit.pl) (Quit: WeeChat 1.1.1)
[23:12:48] *** Quits: summerlight (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[23:12:56] <mbrubeck> fnordbert: does Context impl Debug?
[23:13:01] <mbrubeck> sorry, Fenhl ^
[23:13:30] *** Quits: dawehner (quassel@moz-46p.bjg.78.66.IP) (Ping timeout: 121 seconds)
[23:13:30] *** Joins: mattico (matt@moz-nm118t.bff5.ebih.ea00.2607.IP)
[23:13:36] <mbrubeck> Fenhl: I believe #[derive(Debug)] will generate something like `impl Debug for ChannelError<T> where T: Debug`
[23:13:41] <posix4e> Thanks for the feedback y'all that all makes sense
[23:13:54] *** Quits: wippler (Mibbit@moz-h8jn81.dnepro.net) (Quit: http://www.mibbit.com ajax IRC Client)
[23:14:08] *** Joins: Boscop (me@moz-5ac.5rj.126.98.IP)
[23:14:11] <posix4e> Any more you can just pm me
[23:14:14] <genbattle> posix4e, "What are the single biggest advantages and disadvantages of using Rust in your particular application?"
[23:14:32] <genbattle> coolies
[23:14:55] *** Quits: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP) (A TLS packet with unexpected length was received.)
[23:15:20] *** Joins: munksgaard (munksgaard@moz-478pev.u.parknet.dk)
[23:15:41] *** Joins: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp)
[23:16:00] *** Quits: JagaJaga (JagaJaga@moz-ua8.hhl.62.178.IP) (Ping timeout: 121 seconds)
[23:16:18] <Fenhl> mbrubeck: ah, that appears to fix it
[23:16:19] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[23:16:28] <Fenhl> mbrubeck: that's very useful actually, thanks
[23:16:51] <mbrubeck> np!
[23:17:14] <posix4e> Genbattle: I'm guessing I could phrased it as "why did you have to use rust. I think many of them were starring down doing it in c. 
[23:17:35] *** Joins: annodomini (lambda@moz-hceqmj.hfc.comcastbusiness.net)
[23:17:39] <genbattle> true, or C++
[23:17:44] <dog> thanks mbrubeck, Hannibal_Smith and steveklabnik
[23:18:18] *** Quits: Boscop (me@moz-5ac.5rj.126.98.IP) (Ping timeout: 121 seconds)
[23:18:31] *** Joins: skade (skade@moz-m9ib3m.pools.vodafone-ip.de)
[23:18:38] *** Joins: kefan (kefan@moz-ljgn4c.ma.comcast.net)
[23:18:40] <genbattle> modern C++ is very stable, and there's plenty of resources for learning and writing C++, but I don't think any startup primarily writing code in Ruby/Python/PHP wants to stare down that barrel
[23:18:44] *** Joins: senderista (tdbaker@moz-6nsjqs.wa.comcast.net)
[23:19:14] <genbattle> unless they have someone who already has extensive experience with that sort of code
[23:19:27] *** Quits: Fran_ (fran@moz-mfa.jic.137.190.IP) (Quit: Leaving)
[23:19:36] *** Joins: Guest22 (textual@moz-jt9juk.fibertel.com.ar)
[23:19:43] *** Quits: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp) (Ping timeout: 121 seconds)
[23:19:46] <FreeFull> How do you solve the problems of iterator invalidation and use after move?
[23:19:59] <posix4e> There's still a place for c alas 
[23:20:01] <mbrubeck> "discipline"
[23:20:07] <mbrubeck> according to C++ partisans. :)
[23:20:52] *** nsm|away is now known as nsm
[23:20:57] <genbattle> even Rust requires some discipline
[23:21:00] *** Quits: nham (nham@moz-755.bu3.214.98.IP) (Ping timeout: 121 seconds)
[23:21:02] *** Joins: emilk (emilk@moz-eossn5.cust.bredbandsbolaget.se)
[23:21:02] *** Joins: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp)
[23:21:12] *** Quits: Guest_ (textual@moz-i0id0o.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[23:21:15] *** Quits: zcdziura (zcdziura@moz-r9t2at.nh.comcast.net) (Client exited)
[23:21:21] <Fenhl> okay so I need to write a custom Debug impl because my type stores closures. Any best practices on representing functions?
[23:21:22] <mbrubeck> yup.
[23:21:29] *** Joins: Boscop (me@moz-5ac.5rj.126.98.IP)
[23:21:52] <posix4e> Not to talk shit, but having done the database in Java thing(sold that startup). I'll never do it in anything but c c++ or rust . of probably choose c
[23:21:55] <genbattle> for me at least, C++ pays the bills
[23:22:08] <posix4e> I'd probably
[23:22:17] *** Joins: slashus2 (slashus2___@moz-dj7anc.res.rr.com)
[23:22:28] <posix4e> Yea did that for a while. I like the new c++ thing a lot
[23:22:33] *** Quits: liamfraser (liam@moz-kg3hv3.6tb5.ptkm.1098.2a00.IP) (Quit: ZNC - 1.6.0 - http://znc.in)
[23:22:33] *** Quits: eddyb (eddyb@moz-egg.q07.26.188.IP) (Ping timeout: 121 seconds)
[23:22:34] *** kimundi is now known as zz_kimundi
[23:22:40] *** Quits: hjr3 (hradtke@moz-lei.av4.169.69.IP) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[23:22:58] <mbrubeck> Fenhl: I'm not sure there's much you can do... probably just leave out those fields or put in a placeholder.
[23:23:17] *** Quits: errordeveloper (ilya@moz-o85.0jl.201.90.IP) (Ping timeout: 121 seconds)
[23:23:25] <Fenhl> mbrubeck: I guessed as much. What's a good placeholder though?
[23:23:33] <aatch> posix4e, eh, "talking shit" (about other languages) normally refers to stuff along the lines of "<Language> is awful, why would anybody use it, it has no redeeming features".
[23:23:36] *** Quits: kefan (kefan@moz-ljgn4c.ma.comcast.net) (Client exited)
[23:23:44] <aatch> Which is the kind of stuff we try to discourage here.
[23:23:47] <mbrubeck> "[Fn(foo) -> bar]" or something
[23:23:49] *** Joins: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP)
[23:24:09] <posix4e> Aatch: I meant presenting myself as some type of expert in anything
[23:24:09] *** Joins: liamfraser (liam@moz-c82.dgd.93.93.IP)
[23:24:39] <Hannibal_Smith> posix4e, you are in an interesting position
[23:24:44] <geri> how can i write to a specific address using mmap? http://ideone.com/POJmtG
[23:24:53] <posix4e> How?
[23:25:04] *** Quits: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp) (Ping timeout: 121 seconds)
[23:25:06] *** Quits: sprang_ (sprang@moz-sd1pe6.tmodns.net) (Ping timeout: 121 seconds)
[23:25:09] *** Quits: emilk (emilk@moz-eossn5.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[23:25:14] <aatch> posix4e, eh, you're probably more of an expert in databases than most people here. I've never written a database, in any language.
[23:25:51] <posix4e> I'm more of a distributed systems /network protocol type of guy
[23:26:18] <posix4e> I've read the dB research. And read a lot of it but distdb is a weird beat
[23:26:21] <posix4e> Beast
[23:26:28] *** Joins: sin8h (Adium@moz-f0u.cn5.51.106.IP)
[23:26:47] <Hannibal_Smith> posix4e, because it's the usual way that a good number of startup take: start with a simple implementation of a good idea in a language with fast development speed, and consider later a rewrite in something more sensible
[23:26:55] <Hannibal_Smith> But the second step usually is never taken
[23:26:57] *** Quits: skade (skade@moz-m9ib3m.pools.vodafone-ip.de) (Ping timeout: 121 seconds)
[23:27:03] <Hannibal_Smith> And one go on with the initial bad choice
[23:27:04] <aatch> posix4e, I understand. I'm into programming languages and have a fair bit of general knowledge on them in general, but the thing I keep coming back to is compilers.
[23:27:19] *** Quits: Boscop (me@moz-5ac.5rj.126.98.IP) (Ping timeout: 121 seconds)
[23:27:32] *** Quits: mkpankov` (mkpankov@moz-93j.4ms.23.84.IP) (Quit: Bye)
[23:27:33] <Mutabah> geri: Offset in the slice?
[23:27:38] *** Joins: lyc (lyc@moz-pl1.q2e.4.49.IP)
[23:27:39] <Hannibal_Smith> So it's interesting to see if it's actually possible take a language that can be used to build not only a prototype
[23:27:55] <Hannibal_Smith> But continue to use it even if the product is successful
[23:28:24] <geri> Mutabah: what do you mean?
[23:28:35] <posix4e> 'Successful" Scala is being used that way more than Ruby not I think
[23:28:58] <aatch> Hannibal_Smith, eh, the problem is that Rust tends to demand a fair bit of consideration for architecture up-front.
[23:29:16] <posix4e> Why's that?
[23:29:21] <posix4e> More that Scala?
[23:29:55] <Mutabah> geri: ah, turn it into a slice (using from_raw_parts) then you can index it
[23:30:08] <bstrie> Hannibal_Smith: the actually successful startups *do* eventually rewrite their stack, see twitter with ruby->scala, reddit with lisp->python, dropbox with python->go(->rust????)
[23:30:08] *** Quits: popow (Thunderbird@moz-03f.kd0.252.223.IP) (Ping timeout: 121 seconds)
[23:30:17] <geri> Mutabah: like a normal file?
[23:30:38] *** Quits: w4ffles (textual@moz-34v1r4.res.rr.com) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[23:30:38] *** Joins: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp)
[23:31:13] <Hannibal_Smith> bstrie, I take as counter examples project like ElasticSearch
[23:31:23] <posix4e> If rust had a better environment it would be a big deal
[23:31:28] *** Quits: Matthias247 (Miranda@moz-49li60.hsi14.kabel-badenwuerttemberg.de) (Connection closed)
[23:31:35] *** Quits: davebettin (davebettin@moz-hde.5e5.136.67.IP) (Ping timeout: 121 seconds)
[23:31:41] <posix4e> Racer is cool but getting good academic support here would be cool
[23:31:42] *** Quits: lyc (lyc@moz-pl1.q2e.4.49.IP) (Ping timeout: 121 seconds)
[23:32:06] *** Joins: lyc (lyc@moz-jft.nr8.226.207.IP)
[23:32:19] <aatch> posix4e, I don't really know Scala (looked at it when it first came out), but Rust requires a fair bit of consideration of ownership and similar, meaning that a number of design decisions have to be considered earlier than in a GC'd language.
[23:32:23] <Mutabah> geri: like any memory
[23:32:24] <posix4e> Y'all ever seen what a contemporary Java  ide looks. It's supr crazy
[23:32:27] <Thiez> so I'm trying to do something crazy, suppose I have an iterator that yields tuples of `u8`, and I want to add the numbers in those tuples
[23:32:37] <bstrie> Hannibal_Smith: what's it written in? if it's not perl, then it was rewritten at some point :P
[23:32:41] <Thiez> normally one would simply `.map(|(a,b)|a+b)`
[23:32:54] <posix4e> aatch: *nod
[23:32:56] <aatch> posix4e, define "academic support".
[23:33:14] <FreeFull> Thiez: Yes, that should work
[23:33:20] <Thiez> but I would like to try and take `<std::ops::Add::add as FnMut(u8,u8)>::call_mut`
[23:33:38] <Hannibal_Smith> bstrie, Java
[23:33:43] <posix4e> Getting excited about hci, developer tools, especially if it just a plugin to emacs and vim 
[23:33:44] <Thiez> because I'm crazy and I imagine that might work
[23:33:52] <Mutabah> Thiez: That won't really work...
[23:34:07] <Thiez> I imagine it can be done somehow.
[23:34:10] <Mutabah> Thiez: ... (I think?)
[23:34:13] <steveklabnik> posix4e: have you seen lighttable?
[23:34:26] <steveklabnik> posix4e: i don't think it'd be good for rust, but something like it, for lifetimes, would be super cool
[23:34:38] <FreeFull> .map(..) does take FnMut
[23:34:40] <Mutabah> Thiez: also - WHY?
[23:34:40] *** Quits: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp) (Ping timeout: 121 seconds)
[23:34:48] <Thiez> Mutabah: as I said, I'm crazy :)
[23:35:10] <aatch> posix4e, ah, so you mean HCI researchers looking into Human-Rust Interaction specifically?
[23:35:14] <Thiez> and mostly because I think it would be cool if I could get Add:add to accept tuples as an argument, and the Fn* traits take their arguments as a tuple
[23:35:17] *** Quits: shellac (textual@moz-9b49cr.cable.virginm.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[23:35:17] <bstrie> Hannibal_Smith: Java is *not* a language used for rapid prototyping :P
[23:35:21] *** Joins: kngl1 (Adium@moz-rmgnkh.dynamic.voo.be)
[23:35:25] <FreeFull> Thiez: You can have  .map(|(a,b)| f(a,b)) where f is the other closure
[23:35:26] <Thiez> so I imagine the FnMut::call_mut call could accept a closure
[23:35:35] <subway> Hi. I have a struct with two fields (another structs) and I would like one of them to pe a reference to the other. I'm using a 'new' method to return a new struct, and the problem is, how do I define this reference in the new method?
[23:35:39] <Thiez> I was hoping to avoid the closures as an exercise :D
[23:35:42] <subway> be*
[23:35:50] <posix4e> aatch: or something cooler
[23:35:55] <posix4e> But yes
[23:36:00] <Mutabah> Thiez: I don't think you can. I'm not sure that method will coerce
[23:36:00] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[23:36:00] *** ChanServ sets mode: +ao pcwalton pcwalton
[23:36:02] *** Joins: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp)
[23:36:09] <steveklabnik> subway: well, one way is to accept the reference as an argument to new
[23:36:19] <Thiez> hmmn a shame
[23:36:23] <posix4e> steveklabnik: looks cool
[23:36:24] *** Quits: Guest22 (textual@moz-jt9juk.fibertel.com.ar) (Ping timeout: 121 seconds)
[23:36:26] <Thiez> would have been fun if it worked
[23:36:34] <Hannibal_Smith> posix4e, aatch I tend to remember a quote from LMDB creator https://twitter.com/hyc_symas/status/414151665793515520
[23:36:37] <Mutabah> subway: You can't have internal references
[23:36:42] <bstrie> subway: can you clarify?
[23:36:45] *** Quits: kngl (Adium@moz-rmgnkh.dynamic.voo.be) (Ping timeout: 121 seconds)
[23:36:47] <Thiez> I suppose the `&mut self` would also be missing
[23:36:47] <bstrie> Mutabah: what?
[23:36:54] <Mutabah> subway: An internal reference would mean that the structure cannot move (as it holds a borrow to itself)
[23:37:09] <steveklabnik> oh oh oh, yeah, Mutabah is correct here
[23:37:10] <Hannibal_Smith> When I usually talk about the choice of a language for a certain kind of software
[23:37:10] <bstrie> I don't know that it's holding a borrow to itself
[23:37:15] <subway> ah
[23:37:17] <bstrie> I need clarification on the problem
[23:37:17] <steveklabnik> i missed that they're both subfields of the stuct
[23:37:32] *** Parts: wolfviking0 (wolfviking0@moz-8hd.3b6.246.162.IP) ()
[23:37:32] *** Quits: GGist (Mibbit@moz-07kde0.seattleu.edu) (Quit: http://www.mibbit.com ajax IRC Client)
[23:37:32] <posix4e> Hannibal_Smith: he's a Twitter friend and very smart. He's among the group who I forgive his harshness because he has given back
[23:37:35] <genbattle> what time is 1.0-final going up? it's already almost midday here in NZ
[23:37:36] *** Joins: Guest_ (textual@moz-rtn.fg7.77.192.IP)
[23:37:36] *** Joins: Guest22 (textual@moz-jt9juk.fibertel.com.ar)
[23:37:47] <posix4e> I've also has exchanges with him like that
[23:37:48] <bstrie> genbattle: likely not until past noon PST
[23:37:49] <aatch> genbattle, probably tomorrow.
[23:37:50] <Mutabah> subway: Can you confirm that these two fields are in the same struct?
[23:37:53] <bstrie> genbattle: settle in :P
[23:38:00] <subway> let me explain the situation then, see if you guys could give me a insight in what is the best way to do what I want
[23:38:02] <aatch> genbattle, also hello NZ buddy!
[23:38:06] <steveklabnik> genbattle: morning PST, but you didn't hear that form me ;)
[23:38:07] * genbattle puts his itchy trigger finger away
[23:38:11] <subway> Mutabah: yes they're
[23:38:13] <FreeFull> genbattle: I suppose that'd make it around midnight your time
[23:38:20] <steveklabnik> from
[23:38:20] *** Quits: geri (Mibbit@moz-8hb0t5.highway.telekom.at) (Quit: http://www.mibbit.com ajax IRC Client)
[23:38:34] <posix4e> I'm sure he's wrong, but no offense but what he did is not as complicated as the gun I'd be looking down to make the next big thing
[23:38:41] <duesenfranz_> Thiez: you can use u8::add
[23:38:49] *** Joins: rkruppe_ (chatzilla@moz-3nj.rnu.131.95.IP)
[23:38:59] *** Joins: nham (nham@moz-755.bu3.214.98.IP)
[23:39:00] <Thiez> duesenfranz_: nah, because it takes two arguments, not a tuple :)
[23:39:15] *** Quits: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[23:39:23] <sully> hm, does rustc and/or cargo have a way to tell it to just run all the diagnostic passes
[23:39:25] <aatch> genbattle, where are you in the country? (Not many kiwis around here [not that *I'm* a kiwi, but w/e])
[23:39:26] <sully> but don't actually translate
[23:39:34] <subway> the idea I was thinking was to  mantain a "root" Node object in the structure and a "current" one, so the current would have to reference "root" at the beginning
[23:39:38] <FreeFull> Suddenly I am worried about bugfixes that are technically breaking changes, but don't actually break any sane code
[23:39:42] <genbattle> aatch, Auckland
[23:39:43] <FreeFull> How will those be dealt with?
[23:39:45] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Ping timeout: 121 seconds)
[23:39:52] <steveklabnik> FreeFull: did you see the RFC?
[23:39:59] *** rkruppe_ is now known as rkruppe
[23:40:02] <steveklabnik> specifically https://github.com/rust-lang/rfcs/pull/1105
[23:40:05] *** Quits: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp) (Ping timeout: 121 seconds)
[23:40:15] *** Quits: wldcordeiro (wldcordeiro@moz-pvsror.ut.comcast.net) (Quit: Konversation terminated!)
[23:40:18] <aatch> sully, `-Zno-trans` to rustc (or `cargo rustc` now)
[23:40:23] <duesenfranz_> oh right
[23:40:30] <FreeFull> Not sure if I did
[23:40:31] <FreeFull> Thanks steveklabnik
[23:40:55] <sully> aha, nice
[23:41:04] *** Joins: Wild_Cat (Max@moz-fa8mvt.dsl.teksavvy.com)
[23:41:18] *** Joins: flaub (flaub@moz-7rnj3n.reverse.softlayer.com)
[23:41:22] <aatch> genbattle, I'm in Wellington. Unfortunately (fortunately?), don't have much call to go up to Auckland.
[23:41:26] <Hannibal_Smith> posix4e, as you can see, I share the same vision
[23:41:28] *** Joins: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp)
[23:41:39] <sully> aatch: is there a good way to specify that when building a cargo package?
[23:42:10] *** Quits: duesenfranz_ (jona@moz-711djm.tirol.surfer.at) (Client exited)
[23:42:20] <posix4e> Lmdb is amazing. It's good to know I don't need to rewrite it. 
[23:42:40] <sully> (other than running cargo build -v, copying the command line, and adding it)
[23:42:45] <posix4e> I was looking for good constant time comparison functions in rust
[23:42:47] <aatch> sully, cargo recently grew a new sub-command `rustc` which just runs rustc with the appropriate flags + extra flags you specify.
[23:42:56] <genbattle> aatch, are you down there permanently? I worked in Wellington for about 6 months, but I've spent a lot of time there.
[23:43:02] <posix4e> Any that are not just unsafe assembler
[23:43:18] <sully> aatch: nice. thanks
[23:43:21] <aatch> genbattle, pretty permanent, yep.
[23:43:22] <posix4e> For say a vector of u8
[23:43:51] <sully> (I have a bunch of old rust code I am trying to make build again, and most of it does, but there are a few chunks still commented out)
[23:44:00] *** Joins: lht (lht@moz-4rof7v.internode.on.net)
[23:44:31] *** Quits: annodomini (lambda@moz-hceqmj.hfc.comcastbusiness.net) (Client exited)
[23:44:51] *** Joins: pgonda (peter@moz-m3ja0j.cable.rcn.com)
[23:44:56] <genbattle> aatch, I've only been in Auckland for a couple of years. It's nice to have the resources associated with living in a big city, but there's also the downsides. Not as cold and windy (and wet, currently) as Wellington.
[23:45:03] *** Quits: mnemnion (mnemnion@moz-kf3boi.ca.comcast.net) (Connection closed)
[23:45:46] <genbattle> Also auckland property is cray-cray
[23:46:05] *** Joins: insaneinside (user@moz-dgv9mb.customer.broadstripe.net)
[23:46:20] <aatch> genbattle, heh, yeah. I'm from England originally though, so I don't mind cold, wet and windy. Even what we have right now isn't outside what I'm used to.
[23:46:38] <insaneinside> Rust seems to be putting a trace trap inside my code.  Why would it do that?
[23:47:12] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Quit: leaving)
[23:47:17] *** Joins: annodomini (lambda@moz-hceqmj.hfc.comcastbusiness.net)
[23:47:19] <XMPPwocky> insaneinside: you mean like int3?
[23:47:28] <posix4e> So a bunch of people here seem like experts in rust, what would be the main disadvantage for you using it production? Just language churn?
[23:47:30] *** Quits: pgonda (peter@moz-m3ja0j.cable.rcn.com) (Connection closed)
[23:48:07] <steveklabnik> also that we tell people not to use it in production until 1.0
[23:48:08] <insaneinside> XMPPwocky: Signal 5; /usr/include/bits/signum.h says `#define	SIGTRAP		5	/* Trace trap (POSIX).  */`.
[23:48:10] <steveklabnik> for a variety of reasons
[23:48:15] <XMPPwocky> posix4e: bad interfacing with C++, and other people not nececessarily wanting to learn rust
[23:48:25] *** Quits: Rym (y@moz-aun.38r.38.217.IP) (Ping timeout: 121 seconds)
[23:48:27] <XMPPwocky> insaneinside: what oS?
[23:48:39] <insaneinside> XMPPwocky: Linux, but it's a POSIX signal number.
[23:48:52] <XMPPwocky> insaneinside: i was thinking llvm abort, but that's sigill on linux
[23:49:06] *** Quits: tomh- (uid501@moz-bvkt87.charlton.irccloud.com) (Quit: Connection closed for inactivity)
[23:49:36] <ogham> Does anyone know if Rust has a data structure that's like a HashMap, but can look up in both ways?
[23:49:47] *** Joins: Rym (y@moz-aun.38r.38.217.IP)
[23:49:52] *** Joins: pgonda (peter@moz-m3ja0j.cable.rcn.com)
[23:50:00] <XMPPwocky> ogham: not in std
[23:50:15] <XMPPwocky> you could just use two hashmaps
[23:50:16] <XMPPwocky> :P
[23:50:25] <aatch> Wouldn't you essentialy need to glue to hashmaps together?
[23:50:27] <ogham> Such is life!
[23:50:30] *** Quits: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp) (Ping timeout: 121 seconds)
[23:50:39] <insaneinside> I mean, I *am* using some really sketchy-looking code from rust's src/arena/lib.rs for dropping stuff, but it's odd that rustc would add a SIGTRAP to my code...
[23:50:40] <ogham> yeah, pretty much. one for each index
[23:51:34] * insaneinside wonders if the IR has anything interesting...
[23:51:44] <posix4e> steveklabnik: 1.0 is coming up right?
[23:51:57] <posix4e> I mean tomorrow right? Or do i have that wrong
[23:51:59] <XMPPwocky> insaneinside: have you attached a debugger?
[23:51:59] <aatch> posix4e, less than a day.
[23:52:03] *** Quits: zeph (zeph@moz-jn4cjt.3nlo.p53a.ffda.2602.IP) (Ping timeout: 121 seconds)
[23:52:14] <insaneinside> XMPPwocky: yep!  And sure enough, it acts like there's a breakpoint there.
[23:52:25] <XMPPwocky> weeird
[23:52:36] <aatch> Well that's what that signal is for, right?
[23:52:39] <XMPPwocky> insaneinside: disassemble and look for "int 3"?
[23:52:52] <XMPPwocky> with gdb, `disasm $eip`
[23:52:53] *** Joins: Selemur (chatzilla@moz-tpgfbn.kawo1.rwth-aachen.de)
[23:52:58] <XMPPwocky> er, s/disasm/disas/
[23:54:11] <insaneinside> heh. "(gdb) disas $eip\nValue can't be converted to integer."
[23:54:13] <_habnabit> https://doc.rust-lang.org/book/enums.html talks about 'variants ... named Digit' but i don't see any references to 'Digit' other than that sentence; it looks like something got cut?
[23:54:26] <XMPPwocky> insaneinside: $rip ?
[23:54:28] <aatch> There's an LLVM intrinsic "debugtrap", but I've never seen LLVM produce it from optimisations.
[23:54:54] <steveklabnik> tomorrow morning, yeah posix4e 
[23:54:56] <insaneinside> XMPPwocky: yep, there's an int3 there.
[23:54:56] *** Joins: benbangert (bbangert@moz-t8r7ci.org)
[23:54:57] <steveklabnik> morning PST
[23:55:09] <steveklabnik> _habnabit: possible that there's an editing issue, yeah
[23:55:09] <insaneinside> steveklabnik: PDT, no?
[23:55:18] <steveklabnik> who cares about daynight savings :p
[23:55:19] <steveklabnik> daylight
[23:55:32] <steveklabnik> whenver california people get up
[23:55:32] <niconii> "Both variants are named Move, but since theyâ€™re scoped to the name of the enum, they can both be used without conflict."
[23:55:38] <niconii> "Both variants are named Digit, but since theyâ€™re scoped to the enum name there's no ambiguity."
[23:55:45] *** Quits: Rachael (Mibbit@moz-u0a.vrr.52.209.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[23:55:46] *** Joins: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp)
[23:55:50] <niconii> both of those lines are in there, so i think it is an editing issue of some sort
[23:56:00] *** Quits: zeiris (dan@moz-8jbmam.letter.agency) (Ping timeout: 121 seconds)
[23:56:10] <steveklabnik> _habnabit: niconii yes, it should be Move
[23:56:14] *** Joins: torax (Mibbit@moz-n922e5.amazon.com)
[23:56:17] <aatch> I always wonder what the `r` in the register names is supposed to be. I mean, `e` is/could be 'extended', but `r`?
[23:56:17] <steveklabnik> would you like to make a PR or would you like me to just fix it?
[23:56:21] <steveklabnik> review
[23:56:39] <steveklabnik> err
[23:56:39] <XMPPwocky> aatch: "really extended"
[23:56:39] <steveklabnik> lol
[23:56:41] <steveklabnik> wrong r
[23:56:57] <niconii> looks like the digit line just needs to be removed, actually
[23:56:58] <_habnabit> steveklabnik, i don't know which repo this is, so it would probably be faster if you did it
[23:57:08] <steveklabnik> it's in the main rust repo, in src/doc/trpl/enums.html
[23:57:09] <steveklabnik> err .md
[23:57:16] <_habnabit> oh, okay
[23:57:18] <steveklabnik> :)
[23:57:21] <_habnabit> i didn't realize the book was in the main repo
[23:57:27] <steveklabnik> im happy to do it, but that way, you get credit and everyhting :)
[23:57:36] <steveklabnik> yeah! we test all the code samples with every commit
[23:57:42] <_habnabit> haha true
[23:57:49] <_habnabit> i'll make a PR; one sec
[23:57:59] *** Joins: zeiris (dan@moz-8jbmam.letter.agency)
[23:58:33] <insaneinside> so.. no ideas how the `int3` gremlin got into rustc?  I find it mildly amusing.
[23:59:49] *** Quits: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp) (Ping timeout: 121 seconds)
