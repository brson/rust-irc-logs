[00:00:00] <Seldaek> how do you infer a github url though? the origin remote isn't necessarily your fork
[00:01:04] <cmr> Seldaek: this is going to be significantly complex
[00:01:19] <SiegeLord> rustdoc github.com/blah/blah will infer the url as being github.com/blah/blah
[00:01:30] <cmr> https://github.com/mozilla/rust/blob/master/src/libsyntax/ast.rs#L276
[00:02:42] <Seldaek> SiegeLord: well yeah sure we can do parameterized stuff, but the defaults could be read from attributes in the files, that makes the usual case easier
[00:03:30] <Seldaek> cmr: is that the pattern thing for args?
[00:03:44] <Seldaek> looks like fun
[00:03:45] <cmr> Seldaek: yup
[00:04:33] <SiegeLord> Seldaek: It's inconsistent with rustpkg
[00:05:26] <SiegeLord> It'd be surprising to me if rustpkg install github.com/blah/blah created documentation that pointed to a source in a different repository if overridden by an attribute
[00:06:49] <Seldaek> SiegeLord: well we have to see how this stuff ends up being used anyway..
[00:07:11] <Seldaek> at this point it's all hardcoded still so it'll have to change for sure
[00:11:09] <SiegeLord> It just seems to me that if I can't trust the [src] link to be correct, I'm not going to use it
[00:11:38] <cmr> Seldaek: so all of the following are valid:
[00:11:41] <cmr> (as arguments)
[00:11:44] <cmr> _: int
[00:11:49] <cmr> (a, b): (int, uint)
[00:11:52] <cmr> ~a: ~int
[00:11:55] <cmr> &a: &int
[00:12:05] <cmr> @a: @int
[00:12:11] <cmr> @a: @~int
[00:13:34] <cmr> I think that's all of them..
[00:13:38] <Seldaek> hehe
[00:14:05] <Seldaek> so apart from the tuple a name field would do
[00:15:22] <cmr> I hope so!
[00:15:32] <cmr> There are probably going to be a ton of corner cases where this is wrong
[00:15:41] <cmr> *shrug* burn that bridge when we get there
[00:15:53] *** Quits: jga (asdf@82FBC94D.C51798DE.B5524284.IP) (Ping timeout)
[00:23:29] <Seldaek> cmr: ok so build time is ~6sec for std, not bad at all
[00:23:42] <Seldaek> I'm uploading it
[00:23:48] <cmr> It takes rustdoc_ng a long time...
[00:24:14] <cmr> it got a lot slower with the recent compile_upto mess
[00:24:22] <cmr> *recent removal of the
[00:24:31] <cmr> 6.39 seconds!
[00:28:45] <Seldaek> ok so with: fn zip<T, U>(mut v: ~[T], mut u: ~[U]) -> ~[(T, U)] { I output instead this atm: fn zip(??: ~[T], ??: ~[U]) -> ~[(T, U)]
[00:28:52] <Seldaek> getting close
[00:29:00] <Seldaek> not sure why the typarams aren't there though :/
[00:29:18] <Seldaek> ah well obviously
[00:33:37] *** Joins: jga (asdf@AD763A1F.E365527B.B5524284.IP)
[00:37:57] <Seldaek> cmr: there http://seld.be/rustdoc/std/vec/fn.zip.html
[00:38:17] <cmr> Seldaek: woo!
[00:38:23] <cmr> I'm almost done argument names
[00:38:36] <cmr> It's.. a bit tricky, and it won't be correct for the case of tuple arguments
[00:38:37] <cmr> (yet)
[00:41:22] <Seldaek> cmr: alright, well I'll have to see tomorrow, really should sleep..
[00:41:33] <cmr> Seldaek: sleep well!
[00:42:02] <Seldaek> cheers
[01:17:32] <cmr> Good news! Tuple args are used nowhere in libstd
[02:45:54] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[12:04:06] <Seldaek> dbaupp: btw not sure if you saw this, I think you were off yesterday: http://seld.be/rustdoc/std/
[12:04:33] <cmr> Seldaek: want JSON with argument names?
[12:04:48] <Seldaek> eh?
[12:04:57] <cmr> for functions
[12:05:11] <dbaupp> Seldaek: awesome!
[12:05:16] <Seldaek> ah *want*. yes sure, I read *what*. I was confused.
[12:05:23] <Seldaek> haven't slept much :p
[12:05:36] <dbaupp> (I assume the `*`s are just from the internal ones in /* ... */ comments?)
[12:05:45] <cmr> yeah
[12:05:56] <Seldaek> dbaupp: yeah there is some cleanup to be done on that
[12:06:06] <Seldaek> I just leave it hoping that one day cmr's json will come clean :p
[12:06:13] <cmr> it will...
[12:06:15] <cmr> someday :p
[12:06:21] <dbaupp> and the appearance of __std_macros is because #[doc(hidden)] isn't checked?
[12:06:27] <cmr> yes
[12:06:40] <Seldaek> yeah it's full of small issues
[12:07:09] <cmr> https://gist.github.com/cmr/d4c070f07ea5d7d3a0e1/raw/7eb0445a9fe1ff35ea2f0c81cefd0027d8938c33/std.json
[12:07:10] <dbaupp> yup; but it still looks pretty awesome.
[12:07:24] <Seldaek> cmr: thanks
[12:08:17] <dbaupp> cmr: is that loosing the \n's?
[12:08:21] <dbaupp> *losing
[12:08:33] <cmr> dbaupp: in doc comments?
[12:08:41] <dbaupp> for some of them, yeah
[12:08:55] <cmr> yes
[12:09:03] <cmr> It shouldn't be
[12:09:06] <cmr> but it does, for now
[12:09:26] <dbaupp> yup. np, I'm sure it'll be fixed. :)
[12:09:28] <Seldaek> dbaupp: also note that I don't do any markdown or anything rendering atm
[12:09:39] <Seldaek> so even if the json contains \n's, the browser will collapse them
[12:11:04] <Seldaek> cmr: regarding mutability, mutable false name foo => "foo: type", mutable true => "&mut foo: type" ?
[12:11:15] <Seldaek> I'm just not clear on when to have & or not
[12:11:24] <cmr> Seldaek: mutable true is "mut foo: type"
[12:11:43] <cmr> It's not a &mut (mutable borrowed reference)
[12:11:50] <cmr> it means you can reassign the variable in the function body
[12:11:55] <Seldaek> ok and when would you have &
[12:12:06] <Seldaek> is this in json yet?
[12:12:18] <cmr> good question
[12:12:20] <cmr> it seems not
[12:12:25] <Seldaek> ok :)
[12:12:29] <cmr> but it would be in type just like "unique"
[12:14:12] <Seldaek> ah that's annoying, because it has to be present before no? I mean: "mut foo: ~[u8]" vs "&mut foo: ~[u8]"? or can I put the & before ~?
[12:14:27] <cmr> it will never be like that
[12:14:27] <dbaupp> the `mut x: foo` bindings is no different to `x: foo ... { let mut x = x; ...`
[12:14:35] <cmr> it'd be "mut foo: &mut ~[u8]"
[12:14:43] <Seldaek> ah ok 
[12:14:44] <dbaupp> (so i would argue that it's not relevant to callers or documentation.)
[12:15:06] <cmr> good point! it doesn't affect the API in any way.
[12:16:00] <Seldaek> so I don't show mutable at all?
[12:16:57] <cmr> seems not
[12:17:01] <cmr> I'll remove it from the json
[12:17:38] <Seldaek> doesn't it force you to pass a mutable if you declare the signature as mutable?
[12:17:45] <cmr> no
[12:18:01] <cmr> it doesn't change the mutability of the passes value
[12:18:30] <cmr> actually..
[12:19:31] <cmr> nope
[12:25:17] <dbaupp> any changes performed on a `mut x: foo` variable (i.e. ones that require the `mut` there) are not externally visible.
[12:27:51] <Seldaek> ok
[12:28:21] <Seldaek> cmr: ok, arg names http://seld.be/rustdoc/std/task/fn.spawn_with.html
[13:17:39] *** Joins: dbp (user@moz-72A193C2.ri.ri.cox.net)
[13:29:46] *** Quits: jga (asdf@AD763A1F.E365527B.B5524284.IP) (Ping timeout)
[13:35:16] *** Quits: dbp (user@moz-72A193C2.ri.ri.cox.net) (Ping timeout)
[13:45:05] *** Joins: jga (asdf@5C759CA8.C7585B32.B5524284.IP)
[13:59:36] *** Joins: jedestep (jedestep@34641662.FB4DE631.66C78B76.IP)
[15:14:08] *** Quits: dbaupp (Thunderbir@moz-712A1135.lns20.syd6.internode.on.net) (Ping timeout)
[15:27:36] *** Quits: jga (asdf@5C759CA8.C7585B32.B5524284.IP) (Ping timeout)
[15:44:42] *** Joins: jga (asdf@AADB87A2.35F814CC.B5524284.IP)
[16:39:05] *** Quits: jedestep (jedestep@34641662.FB4DE631.66C78B76.IP) (Ping timeout)
[17:07:35] *** Joins: jedestep (jedestep@34641662.FB4DE631.66C78B76.IP)
[17:13:35] *** Quits: jedestep (jedestep@34641662.FB4DE631.66C78B76.IP) (Ping timeout)
[17:32:25] *** Joins: jedestep (jedestep@34641662.FB4DE631.66C78B76.IP)
[18:12:46] *** Quits: jedestep (jedestep@34641662.FB4DE631.66C78B76.IP) (Ping timeout)
[18:16:05] *** Joins: jedestep (jedestep@34641662.FB4DE631.66C78B76.IP)
[19:19:02] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[19:27:27] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[22:20:07] *** Quits: jedestep (jedestep@34641662.FB4DE631.66C78B76.IP) (Ping timeout)
[23:30:03] *** Joins: dbaupp (Thunderbir@moz-712A1135.lns20.syd6.internode.on.net)
