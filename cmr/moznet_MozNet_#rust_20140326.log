[00:00:40] *** Quits: ktos (ktos@moz-947805C3.swidnica.mm.pl) (Ping timeout)
[00:00:48] *** Quits: aatch (James@moz-B437F499.pocketrent.com) (Client exited)
[00:02:58] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Connection reset by peer)
[00:03:24] *** Parts: steven_is_false (user@1E3F14AE.29819A33.115CE8E4.IP) (ERC Version 5.3 (IRC client for Emacs))
[00:03:25] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[00:04:36] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[00:05:13] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[00:06:43] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[00:07:03] *** Joins: adonohue (adonohue@moz-FB94486E.thefacebook.com)
[00:07:47] *** Joins: ktos (ktos@moz-947805C3.swidnica.mm.pl)
[00:07:56] *** Joins: alisdair (textual@BB0336C3.D2943E17.C579BC3E.IP)
[00:08:27] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[00:10:41] *** Quits: io2 (io2@moz-EE406A5.home.otenet.gr) (Quit: )
[00:12:41] *** Quits: ktos (ktos@moz-947805C3.swidnica.mm.pl) (Ping timeout)
[00:13:24] *** Quits: qwerty_nor (Thunderbir@A5447B90.EDC74FC5.E19950A4.IP) (Ping timeout)
[00:13:42] *** Quits: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net) (Quit: killerswan)
[00:13:55] *** Joins: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net)
[00:13:55] *** ChanServ sets mode: +o tjc
[00:16:37] <kmc> sfackler, huon: thanks for your help with macro stuff! I am very pleased with the result, although it was quite an adventure to get there :)
[00:16:50] <sfackler> :)
[00:16:56] <kmc> https://github.com/kmcallister/html5/blob/master/src/tokenizer/char_ref/data.rs#L21-L23 https://github.com/kmcallister/html5/blob/master/macros/named_entities.rs
[00:17:06] *** Quits: nszceta (nszceta@moz-E458A7C0.pharm.pitt.edu) (Quit: Textual IRC Client: www.textualapp.com)
[00:17:08] <andor> strcat: yay, got it to work, thanks!
[00:18:02] <sfackler> nice
[00:18:27] <huon> kmc: magical :)
[00:18:31] *** Quits: not_gavi1 (gavin@gavinsharp.com) (Ping timeout)
[00:18:54] <huon> hah, is that a macro that makes a macro that makes a hashtable?
[00:19:00] *** Joins: not_gavin (gavin@gavinsharp.com)
[00:19:06] <kmc> yes
[00:19:11] <huon> cool
[00:19:19] <tiffany> I'm going to be upset if these RFCs lead to rust getting java-OOP bolted on even thoguh there's already typeclasses
[00:19:34] <huon> kmc: I wonder if you can load pmf_macro into that crate and call the expander directly
[00:19:37] *** Quits: Rym (y@D8C40AC1.22F14779.51C6DE68.IP) (Ping timeout)
[00:19:45] <steveklabnik> i dont think rust will ever get Java-OOP, but single inheritance is basically going to happen
[00:19:56] *** Quits: tupshin (quassel@moz-E7B03838.c3-0.nyr-ubr1.nyr.ny.cable.rcn.com) (Ping timeout)
[00:19:56] <steveklabnik> as dissappointing as it is, SOMETIMES it's neccesary
[00:19:56] <huon> (or whatever it's called...)
[00:19:58] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Input/output error)
[00:20:09] <kmc> huon: that's not a bad idea; maybe I will try tomorrow
[00:20:19] <tiffany> I was referring to the virtual functions / enums / structs proposals, I vastly prefer fat objects to the other suggested routes
[00:20:23] *** Quits: canhtak (canhtak@moz-1300C4D7.wl.t.ulaval.ca) (Quit: canhtak)
[00:20:26] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[00:20:31] <steveklabnik> ahh
[00:20:36] <kmc> but really the actual emitting of a macro invocation takes only a few lines
[00:20:49] <kmc> I'm so glad that quote_tokens! and friends exist
[00:21:03] <huon> kmc: yeah, it's a minor thing
[00:21:17] * huon wishes quote_*! were usable in libsyntax
[00:21:18] <tiffany> I think I would prefer accessors (getters/setters) with automatic implementation to single inheritance
[00:21:19] *** Joins: dherman (dherman@77CEA1B2.767934EB.9B6EB213.IP)
[00:21:19] *** ChanServ sets mode: +ao dherman dherman
[00:21:30] <tiffany> it would be more flexible
[00:21:32] <huon> but they make the bootstrap hard :(
[00:21:39] <kmc> yeah :/
[00:22:03] *** Quits: jng27 (Mibbit@55B0B969.8E42373.30200F38.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[00:22:15] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Input/output error)
[00:22:27] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Ping timeout)
[00:22:36] <huon> kmc: btw, it's normally good practice to use span_err rather than span_fatal (since it allows compilation to continue expanding macros and emit as many errors as possible)
[00:22:43] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[00:22:48] <kmc> okay
[00:22:50] <huon> but it probably doesn't matter for this specific-use-case-macro
[00:22:52] <kmc> in that case do I need to return something?
[00:23:03] <huon> MacResult::dummy()
[00:23:06] <kmc> ok
[00:23:10] <kmc> thanks
[00:23:11] <herrwolfe45> is there a recommended way to  get the absolute path from a path in the standard lib?
[00:23:36] <sfackler> herrwolfe45: std::os::make_absolute
[00:23:54] *** Joins: tupshin (quassel@moz-E7B03838.c3-0.nyr-ubr1.nyr.ny.cable.rcn.com)
[00:24:04] <huon> kmc: oh, it might have to be MacResult::dummy_expr() if ::dummy() doesn't exist
[00:24:05] <herrwolfe45> thanks, I kept trying to find it in path
[00:24:08] <herrwolfe45> thank you very much
[00:24:11] * huon can't remember
[00:24:25] <huon> shouldn't make_absolute be in std::io::fs?
[00:24:32] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Ping timeout)
[00:25:11] <sfackler> I would think it'd be a method on Path, but I figure there must be technical reasons that that isn't true?
[00:25:24] *** Joins: guest22221 (guest2222@438C1FFE.5D6710ED.284344F5.IP)
[00:25:42] *** Joins: guest22222 (guest2222@moz-1D2D613F.ga.at.cox.net)
[00:25:43] *** Quits: guest2222 (guest2222@moz-1D2D613F.ga.at.cox.net) (Connection reset by peer)
[00:25:51] <huon> sfackler: probably just history
[00:25:59] <andor> https://gist.github.com/andor44/9774466 err, what the heck?
[00:26:10] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[00:26:29] <huon> andor: they're two different lifetimes that happen to have the same name
[00:26:36] <huon> just remove the <'a> and it should work
[00:27:01] <andor> oh, huh, okay
[00:27:07] *** Quits: azita (Azita@moz-62518563.mtv2.mozilla.com) (Quit: azita)
[00:27:07] *** Quits: guest22221 (guest2222@438C1FFE.5D6710ED.284344F5.IP) (Ping timeout)
[00:27:11] <andor> why does it say they're defined for the same block then though?
[00:27:24] <andor> s/for/on/
[00:27:29] <huon> it's like `let x = 1; { let x = 2; ... }` the inner x shadows the outer one
[00:27:34] *** Joins: guest2222 (guest2222@438C1FFE.5D6710ED.284344F5.IP)
[00:27:42] <huon> quirks of how the implementation works
[00:27:56] *** Quits: adonohue (adonohue@moz-FB94486E.thefacebook.com) (Quit: adonohue)
[00:28:04] *** Quits: heftig (heftig@moz-AA4684.dip0.t-ipconnect.de) (Quit: Quitting)
[00:28:14] *** Quits: guest22222 (guest2222@moz-1D2D613F.ga.at.cox.net) (Ping timeout)
[00:28:17] *** Joins: heftig (heftig@moz-AA4684.dip0.t-ipconnect.de)
[00:28:24] <sfackler> It'd be nice to add a note on that error message if it detects that there are shadowing lifetimes
[00:28:24] <lenary> anyone have a good guide to debugging a rust program running inside qemu using gdb?
[00:28:35] <lenary> because, to paraphrase the experience: sigh
[00:28:39] <huon> sfackler: or just disallow/warn on them
[00:28:54] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[00:28:56] <huon> sfackler: but yeah, it leads to confusion
[00:29:06] <sfackler> that could work too, though we don't warn for variable shadowing
[00:29:19] <huon> lenary: it should theoretically be the same as doing it for a C/C++/whatever program
[00:29:46] <huon> lenary: use -g to emit DWARF debug info and then you're in the same position as those languages
[00:29:55] <lenary> ok, righty
[00:30:14] <huon> http://wiki.osdev.org/Kernel_Debugging#Use_gdb_with_Qemu I guess
[00:30:21] *** Joins: jaras (textual@1CDC5701.A48867D7.52E4E107.IP)
[00:30:26] <lenary> aha! i didn't search enough
[00:30:29] <lenary> thanks
[00:30:35] <lenary> (yes, i'm a rust-class participant)
[00:30:37] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[00:31:25] *** Quits: huon (Thunderbir@moz-7CC720CF.lns20.syd7.internode.on.net) (Quit: huon)
[00:31:33] *** Joins: Rym (y@D8C40AC1.22F14779.51C6DE68.IP)
[00:32:03] *** Quits: alisdair (textual@BB0336C3.D2943E17.C579BC3E.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[00:34:01] *** Joins: fournm (Aria@moz-ABB60BA0.austin.res.rr.com)
[00:34:12] *** Quits: Rym (y@D8C40AC1.22F14779.51C6DE68.IP) (Ping timeout)
[00:34:39] *** Quits: onelson (owen@moz-DD666EC5.laika.com) (Quit: Leaving)
[00:36:46] *** Joins: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca)
[00:36:55] *** Quits: janra (Janus@1CDC5701.A48867D7.52E4E107.IP) (Ping timeout)
[00:38:56] *** Quits: evanm (evanm@636AC086.5999CED5.71743E61.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[00:39:45] <dsrx> rust-class?
[00:40:18] <dsrx> oh hm
[00:40:23] <mcpherrin> dsrx: there's some school using rust to teach an OS course
[00:40:28] *** Joins: guest22221 (guest2222@438C1FFE.5D6710ED.284344F5.IP)
[00:40:29] <mcpherrin> (UVa maybe?)
[00:40:38] *** Quits: guest2222 (guest2222@438C1FFE.5D6710ED.284344F5.IP) (Ping timeout)
[00:40:40] <dsrx> neat
[00:41:20] *** Quits: blank_name (blank_name@5EC13E3.964BADD.93A5C78C.IP) (Ping timeout)
[00:42:12] *** Joins: maattdd (matthieu@moz-BD1940C7.fbx.proxad.net)
[00:42:53] *** Joins: adonohue (adonohue@moz-FB94486E.thefacebook.com)
[00:44:00] *** Quits: maattdd (matthieu@moz-BD1940C7.fbx.proxad.net) (Ping timeout)
[00:45:31] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[00:47:14] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Ping timeout)
[00:48:22] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Input/output error)
[00:48:53] *** Parts: ozten (ozten@moz-87FC77D4.hsd1.wa.comcast.net) ()
[00:51:24] *** Joins: guest22222 (guest2222@438C1FFE.5D6710ED.284344F5.IP)
[00:51:39] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[00:51:40] *** Quits: guest22221 (guest2222@438C1FFE.5D6710ED.284344F5.IP) (Ping timeout)
[00:51:47] *** Quits: andrew-__ (andrew-d_w@86B47CBD.7A62F771.CC0301A2.IP) (Input/output error)
[00:51:47] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Input/output error)
[00:51:56] *** Joins: canhtak (canhtak@moz-1300C4D7.wl.t.ulaval.ca)
[00:52:01] *** Joins: leowoe (Leo@moz-A88FE171.dip0.t-ipconnect.de)
[00:52:08] *** Joins: andrew-d_w (andrew-d_w@86B47CBD.7A62F771.CC0301A2.IP)
[00:52:18] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[00:52:52] *** Joins: guest22221 (guest2222@moz-1D2D613F.ga.at.cox.net)
[00:53:08] <lenary> mcpherrin: dsrx: yeah, our OS course is taught using rust
[00:53:11] <lenary> online at rust-class.org
[00:53:18] <lenary> (our = UVA's)
[00:53:34] <lenary> erm, when did the -g option land for rustc?
[00:53:34] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Client exited)
[00:53:39] *** Joins: pongad (pongad@moz-7E8AAD2E.res.gatech.edu)
[00:53:53] <lenary> because using 0.9 it isn't there
[00:53:54] *** Quits: guest22222 (guest2222@438C1FFE.5D6710ED.284344F5.IP) (Ping timeout)
[00:53:54] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[00:53:54] <lenary> :(
[00:54:08] *** Joins: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net)
[00:54:24] *** Quits: adonohue (adonohue@moz-FB94486E.thefacebook.com) (Quit: adonohue)
[00:55:16] *** Quits: aatch_ (aatch@moz-2BB0AC01.cable.telstraclear.net) (Client exited)
[00:55:24] <pongad> The syntax for lifetime parameters is just   `cx: &'a Context`   right?
[00:55:41] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Ping timeout)
[00:56:07] *** Joins: eholk (eholk@9F0E3073.6A9D8DF7.8FE2F0CE.IP)
[00:56:39] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[00:57:23] *** Quits: andrew-d_w (andrew-d_w@86B47CBD.7A62F771.CC0301A2.IP) (Ping timeout)
[00:57:28] *** Joins: Rym (y@D8C40AC1.22F14779.51C6DE68.IP)
[00:57:31] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[00:59:13] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[00:59:30] <mcpherrin> lenary: It was named something else in 0.9
[01:00:09] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[01:00:45] <sfackler> lenary: -Z extra-debug-info
[01:01:12] *** Quits: eibwen (kvirc@moz-80084333.dip0.t-ipconnect.de) (Ping timeout)
[01:01:55] *** Joins: ryeguy (ryeguy@9C569A0.5D1143CD.E8644521.IP)
[01:02:08] <brson> configure requires the 'which' program to even detirmine if it can run, but 'which' is apparently not installed on fedora at least sometimes
[01:02:29] *** Quits: ChrisOei (ChrisOei@moz-53A9266A.blurb.com) (Client exited)
[01:03:34] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[01:04:11] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[01:04:22] * ChrisMorgan has heard it said that depending on `which` is not sound.
[01:05:47] <mcpherrin> the `which` on my debian and fedora systems seem pretty different
[01:06:10] *** Quits: gimpf (gimpf@moz-CFB7E1A1.adsl.highway.telekom.at) (Quit: Leaving.)
[01:06:34] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[01:07:33] <ChrisMorgan> brson: on my machine at least, all the uses of need_cmd would work for replacing `if which $1 >/dev/null 2>&1` with `if $1 --help >/dev/null 2>&1`
[01:07:57] <ChrisMorgan> printf writes a literal --help, all the others show help instructions and return 0.
[01:08:23] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Ping timeout)
[01:08:36] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[01:09:13] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[01:09:39] *** Joins: mno2 (mno2@E1E0A0A3.621D86F0.CFF65E33.IP)
[01:11:38] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[01:11:38] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Ping timeout)
[01:11:40] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[01:12:11] *** Quits: fournm (Aria@moz-ABB60BA0.austin.res.rr.com) (Quit: Leaving)
[01:12:15] <ChrisMorgan> Or one can write a which-like shell function.
[01:12:30] *** Quits: pongad (pongad@moz-7E8AAD2E.res.gatech.edu) (Quit: Leaving)
[01:13:00] *** Joins: guest2222 (guest2222@438C1FFE.5D6710ED.284344F5.IP)
[01:13:02] *** Quits: guest22221 (guest2222@moz-1D2D613F.ga.at.cox.net) (Connection reset by peer)
[01:13:13] *** Quits: azakai (alon@moz-62518563.mtv2.mozilla.com) (Ping timeout)
[01:13:29] *** Joins: guest22221 (guest2222@moz-1D2D613F.ga.at.cox.net)
[01:13:38] *** Quits: apollow (yellowy432@moz-DF01490A.lightspeed.sntcca.sbcglobal.net) (Ping timeout)
[01:14:00] <strcat> brson: switch the shebang to /bin/bash and use a bash built-in like type/command
[01:14:23] <strcat> although maybe it's meant to be POSIX shell ;)
[01:14:37] <brson> it is supposed to be sh, yeah
[01:14:46] *** Quits: guest2222 (guest2222@438C1FFE.5D6710ED.284344F5.IP) (Ping timeout)
[01:15:45] <strcat> brson: ah command exists in POSIX shell
[01:15:53] <strcat> brson: command -v command_name
[01:15:57] *** Quits: bvssvni (Mibbit@moz-A47B6F8E.bb.online.no) (Quit: http://www.mibbit.com ajax IRC Client)
[01:16:10] * ChrisMorgan knew there was *something* but couldn't remember what it was and was utterly unable to find it
[01:19:07] *** Joins: alisdair (textual@FAD454DC.CDDF2711.C4CBE0CB.IP)
[01:19:16] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[01:20:04] *** Parts: judder (maradukewa@75FA4DEE.A989D80C.78E362FE.IP) ()
[01:20:22] *** Joins: Mathieu (cicak@420C86E4.9C1E3043.FBF02BB8.IP)
[01:20:24] <strcat> ChrisMorgan: I'm used to dealing with a lot of bash ;P, although I don't use it as my shell
[01:20:56] <brson> strcat: 'command' looks like a good alternative
[01:20:59] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Ping timeout)
[01:21:06] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[01:21:11] <brson> i'm just going to file a bug about it for now
[01:21:38] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[01:21:50] *** Quits: rootnode (rootnode@moz-E005536D.pools.arcor-ip.net) (Ping timeout)
[01:22:47] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Ping timeout)
[01:22:49] *** Joins: rootnode (rootnode@moz-36EB3D47.pools.arcor-ip.net)
[01:22:55] <ChrisMorgan> brson: why not just change it?
[01:23:14] <ChrisMorgan> s/\bwhich\b/command -v/
[01:23:23] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[01:23:42] <brson> ChrisMorgan: because it's low priority and i'm working on other things
[01:24:01] <brson> maybe i'll come back to it later
[01:24:08] *** Quits: eholk (eholk@9F0E3073.6A9D8DF7.8FE2F0CE.IP) (Quit: eholk)
[01:26:23] <strcat> lol. google deprecated most of the apis their namebench software depends on
[01:26:40] <strcat> location api no longer works for it, chart API is deprecated, [...]
[01:28:08] *** Quits: dherman (dherman@77CEA1B2.767934EB.9B6EB213.IP) (Quit: dherman)
[01:28:17] *** Quits: brendan (brendaneic@moz-62518563.mtv2.mozilla.com) (Quit: brendan)
[01:30:05] *** Quits: toshok_ (toshok@8EC99D26.4B7A7726.A2E931B1.IP) (Quit: Computer has gone to sleep.)
[01:30:33] *** Quits: jaras (textual@1CDC5701.A48867D7.52E4E107.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[01:30:49] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[01:31:17] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[01:33:19] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[01:33:49] *** Quits: LU324 (asdf@moz-864C7465.dyn.embarqhsd.net) (Ping timeout)
[01:34:08] *** Joins: kingdomsprite (Mibbit@moz-3626F46.ph.ph.cox.net)
[01:35:04] *** Quits: kingdomsprite (Mibbit@moz-3626F46.ph.ph.cox.net) (Quit: http://www.mibbit.com ajax IRC Client)
[01:35:54] <o11c> I'd be happy if Google stopped breaking their permalinks to help topics
[01:36:36] *** Quits: EastByte (EastByte@moz-DAFB302C.ewe-ip-backbone.de) (Ping timeout)
[01:36:39] *** Joins: EastByte (EastByte@moz-4248B7D4.ewe-ip-backbone.de)
[01:36:41] <strcat> http://goo.gl/y1jrfp it just cached everything in the benchmark anyway so I'm not sure what I wanted to figure out
[01:37:21] *** Quits: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net) (Quit: Leaving.)
[01:37:48] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[01:38:26] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[01:39:34] *** Quits: Munchor (munchor@moz-8CFC84AD.yourvserver.net) (Ping timeout)
[01:40:22] *** Joins: philix_ (felipe@B6067347.BAD04C27.648674BD.IP)
[01:40:39] *** Quits: derek_c (derek@moz-7B451763.cit.cornell.edu) (Ping timeout)
[01:40:52] *** Quits: philix (felipe@moz-E75F4F9.user.veloxzone.com.br) (Ping timeout)
[01:41:37] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[01:41:46] *** Joins: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net)
[01:42:13] *** Joins: maattdd (matthieu@moz-BD1940C7.fbx.proxad.net)
[01:43:57] *** Quits: maattdd (matthieu@moz-BD1940C7.fbx.proxad.net) (Ping timeout)
[01:45:14] *** Quits: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Quit: ChatZilla 0.9.90.1 [Firefox 31.0a1/20140325030201])
[01:46:04] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[01:47:02] *** Quits: q66 (q66@moz-FDC9B85A.range109-150.btcentralplus.com) (Quit: Leaving)
[01:47:47] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Ping timeout)
[01:51:26] *** Joins: alan_and_ (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[01:52:01] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[01:52:01] *** Quits: alan_and_ (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Connection reset by peer)
[01:52:25] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[01:52:55] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[01:54:12] *** Joins: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net)
[01:55:03] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[01:57:24] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[01:57:29] *** Quits: maxli (Adium@moz-EE42E0E.student.cs.uwaterloo.ca) (Ping timeout)
[01:58:11] *** Joins: echristo (echristo@moz-1892C634.hsd1.ca.comcast.net)
[01:58:29] <alan_andrade> rust documentation logo disappeared ?
[01:58:30] *** Quits: alisdair (textual@FAD454DC.CDDF2711.C4CBE0CB.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[01:59:09] *** Quits: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP) (Ping timeout)
[01:59:11] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[01:59:49] * ChrisMorgan observes that with disappointment
[01:59:51] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[02:00:52] *** Quits: echristo (echristo@moz-1892C634.hsd1.ca.comcast.net) (Ping timeout)
[02:00:59] *** Joins: p1start (rewi@moz-E7F3D014.org)
[02:01:07] <strcat> rusti: 2
[02:01:08] -rusti- 2
[02:02:45] <alan_andrade> rusti: let x = [1, 2, 3, 4]; for n in x.nth(2) { print!("{}", n); }
[02:02:46] -rusti- pastebinned 11 lines of output: http://sprunge.us/bBYT
[02:03:06] *** Joins: derek_c (derek@moz-9715B997.cit.cornell.edu)
[02:03:23] <alan_andrade> rusti: let x = [1, 2, 3, 4]; for n in x.iter().nth(2) { print!("{}", n); }
[02:03:24] -rusti- pastebinned 11 lines of output: http://sprunge.us/eCAd
[02:03:32] *** Quits: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[02:03:34] <brson> alan_andrade: i'm not sure why the logo disappeared
[02:03:45] <strcat> brson: it's in the source as '#' ;s
[02:03:48] <alan_andrade> It was fine 2 hours ago
[02:04:02] <alan_andrade> oh, prob that's why.
[02:04:06] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[02:04:23] <alan_andrade> rusti: let x = [1, 2, 3, 4]; for n in x.iter().nth(2) { print!("{}", n.unwrap()); }
[02:04:24] -rusti- pastebinned 11 lines of output: http://sprunge.us/HHSi
[02:04:29] <brson> i wonder why that changed though
[02:05:56] *** Joins: Naman (chatzilla@moz-37689F7.cit.cornell.edu)
[02:06:13] <brson> acrichto: do you know why the rust logo disappeared from the rustdocs? it doesn't look like the markup actually changed
[02:06:14] *** Joins: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net)
[02:06:29] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[02:06:41] *** Quits: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[02:07:03] *** Joins: maxli (Adium@moz-EE42E0E.student.cs.uwaterloo.ca)
[02:07:06] *** Joins: stephenmac7 (quassel@moz-C42B1C24.hsd1.fl.comcast.net)
[02:07:11] <brson> ah it did change slightly
[02:07:20] <brson> -            <a href='{root_path}{krate}/index.html'><img src='#' alt=''/></a>
[02:07:20] <brson> +            <a href='{root_path}{krate}/index.html'><img src='\#' alt=''/></a>
[02:07:38] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[02:07:46] <brson> what kind of templates are rustdoc using? does it have it's own mustache interpreter?
[02:08:54] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[02:08:57] <brson> cmr: that was your change^
[02:09:17] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[02:09:27] <alan_andrade> Looks like a typo
[02:10:07] <brson> i'll try the obvious fix
[02:10:23] *** Joins: kevin99 (kevin@moz-AF1E4A33.clients.kiwiirc.com)
[02:11:00] *** Joins: eholk (eholk@moz-B7E41E9C.public.wayport.net)
[02:11:07] <cmr> brson: we're using format! templates :P
[02:11:47] <brson> cmr: interesting. i did not realize format! was so sophisticated
[02:11:50] <cmr> may have been a rebase brokenness
[02:11:53] <cmr> yeah it's sweet
[02:12:09] <strcat> rusti: format!("{a}", a=2)
[02:12:10] -rusti- 2
[02:12:15] <strcat> rusti: format!("{a} {a}", a=2)
[02:12:15] -rusti- 2 2
[02:12:19] <strcat> rusti: format!("{a:x} {a}", a=2)
[02:12:19] -rusti- <anon>:10:32: 10:33 error: argument redeclared with type `` when it was previously `x`
[02:12:19] -rusti- <anon>:10         format!("{a:x} {a}", a=2)
[02:12:19] -rusti-                                          ^
[02:12:19] -rusti- error: aborting due to previous error
[02:12:19] -rusti- application terminated with error code 101
[02:12:22] <strcat> rusti: format!("{a:x} {a:x}", a=2)
[02:12:22] -rusti- 2 2
[02:13:07] *** Quits: leowoe (Leo@moz-A88FE171.dip0.t-ipconnect.de) (Quit: Leaving.)
[02:14:10] * ChrisMorgan pines for proper general keyword arguments
[02:14:15] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[02:14:30] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Quit: Leaving...)
[02:15:08] *** Quits: lkuper (lkuper@87D98E32.4046EB22.428F94DD.IP) (Quit: lkuper)
[02:16:34] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[02:16:40] *** Joins: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net)
[02:16:53] *** Quits: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net) (Quit: carllerche)
[02:17:33] *** Joins: toshok_ (toshok@moz-96BF2AD6.hsd1.ca.comcast.net)
[02:18:17] <alan_andrade> What can I do to iterate over an array having X number of elements each iteration instead of 1 ?
[02:18:50] <strcat> alan_andrade: vectors provide a few different iterator methods
[02:18:55] <strcat> well, slices
[02:19:16] <strcat> windows, chunks
[02:20:23] <alan_andrade> hm, I'm not sure how can I convert what `walk_dirs` return into a vector to do what I want.
[02:20:30] <alan_andrade> I feel I'm doing it wrong.
[02:21:23] <derek_c> I used to have a MutexArc<HashMap>, but now that it's gone, I can't seem to have Arc<Mutex<HashMap>> because apparently HashMap doesn't fulfill "Share"
[02:21:28] <derek_c> how do I get around that?
[02:21:31] <alan_andrade> What would you do? If you walk a directory with files, and you want to pick two files each iteration
[02:22:23] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[02:23:22] <sfackler> derek_c: https://github.com/mozilla/rust/issues/13125
[02:23:46] <sfackler> derek_c: HashMap should be share though as long as the key and value types are
[02:24:04] <strcat> alan_andrade: call next twice in each iteration
[02:24:04] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[02:24:15] <strcat> if there's an existing adaptor, great, but you can do it yourself
[02:24:44] <alan_andrade> Will try that
[02:28:28] <derek_c> sfackler: so as of today, there is no way around this?
[02:29:28] <derek_c> I suppose I could use mutex and unsafe pointers
[02:30:24] <strcat> derek_c: MutexArc<HashMap<K, V>> is not great anyway ;p
[02:30:33] <strcat> a concurrent hash map is easy to make and we should provide one
[02:30:44] <derek_c> strcat: yep
[02:31:05] * mcpherrin needs a concurrent hash map
[02:31:17] <sfackler> derek_c: I've workeda around it by making a ~Foo and casting to and from *()
[02:31:43] *** Quits: maxli (Adium@moz-EE42E0E.student.cs.uwaterloo.ca) (Ping timeout)
[02:31:45] *** jorendorff_away is now known as jorendorff
[02:32:11] *** Joins: maxli (Adium@moz-EE42E0E.student.cs.uwaterloo.ca)
[02:36:23] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[02:38:08] *** Quits: maxli (Adium@moz-EE42E0E.student.cs.uwaterloo.ca) (Ping timeout)
[02:38:22] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[02:38:34] *** Joins: tobytailor (tobytailor@moz-CBD810C7.hsd1.ca.comcast.net)
[02:38:51] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[02:39:07] *** Joins: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca)
[02:39:37] *** Quits: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[02:39:56] <derek_c> sfackler: I see, thanks!
[02:39:58] *** Quits: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP) (Quit: buildmaster reconfigured: bot disconnecting)
[02:40:35] *** Joins: Ralith (ralith@moz-67D4EB93.customer.broadstripe.net)
[02:41:23] *** Quits: reverend_paco (chatzilla@moz-FDBE15EC.hsd1.ma.comcast.net) (Ping timeout)
[02:42:12] *** Joins: maattdd (matthieu@moz-BD1940C7.fbx.proxad.net)
[02:42:49] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Ping timeout)
[02:43:24] *** Quits: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[02:43:54] *** Quits: maattdd (matthieu@moz-BD1940C7.fbx.proxad.net) (Ping timeout)
[02:45:27] *** Joins: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net)
[02:46:15] *** Joins: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP)
[02:46:17] *** Joins: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net)
[02:46:17] *** ChanServ sets mode: +o tjc
[02:47:03] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[02:47:05] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[02:48:46] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Ping timeout)
[02:50:11] *** Quits: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca) (Ping timeout)
[02:51:00] *** Joins: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca)
[02:52:06] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Input/output error)
[02:52:28] *** Quits: bjustin (bjustin@moz-8FC28563.sierrabravo.net) (Connection reset by peer)
[02:52:35] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[02:53:22] *** Quits: Naman (chatzilla@moz-37689F7.cit.cornell.edu) (Quit: ChatZilla 0.9.90.1-rdmsoft [XULRunner 22.0/20130619132145])
[02:54:19] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Ping timeout)
[02:54:50] *** Quits: tobytailor (tobytailor@moz-CBD810C7.hsd1.ca.comcast.net) (Quit: tobytailor)
[02:55:51] *** Quits: Mathieu (cicak@420C86E4.9C1E3043.FBF02BB8.IP) (Ping timeout)
[02:56:17] *** Quits: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net) (Quit: Textual IRC Client: www.textualapp.com)
[02:56:35] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Input/output error)
[02:56:52] *** Quits: eholk (eholk@moz-B7E41E9C.public.wayport.net) (Quit: eholk)
[02:57:01] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[02:57:49] *** Quits: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca) (Ping timeout)
[02:58:11] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[02:58:14] *** Joins: maxli (Adium@moz-EE42E0E.student.cs.uwaterloo.ca)
[02:58:47] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[02:59:13] *** Joins: IanCormac84 (User@DAEC9180.2A8D8854.67DFF8B4.IP)
[02:59:59] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[03:00:27] *** Quits: p1start (rewi@moz-E7F3D014.org) (Ping timeout)
[03:01:08] *** Quits: kevin99 (kevin@moz-AF1E4A33.clients.kiwiirc.com) (Quit: http://www.kiwiirc.com/ - A hand crafted IRC client)
[03:01:15] *** Joins: apollow (yellowy432@moz-DF01490A.lightspeed.sntcca.sbcglobal.net)
[03:03:55] *** Quits: Sorella (queen@9D963F5D.DF5D8AE7.54BCAB54.IP) (Quit: It is tiem!)
[03:04:05] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[03:04:18] *** Quits: maxli (Adium@moz-EE42E0E.student.cs.uwaterloo.ca) (Ping timeout)
[03:04:57] *** Joins: maxli (Adium@moz-EE42E0E.student.cs.uwaterloo.ca)
[03:05:11] *** Joins: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[03:06:04] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[03:06:27] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[03:08:02] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[03:10:06] *** Joins: eholk (eholk@9F0E3073.6A9D8DF7.8FE2F0CE.IP)
[03:10:37] *** Quits: derek_c (derek@moz-9715B997.cit.cornell.edu) (Ping timeout)
[03:10:59] *** jorendorff is now known as jorendorff_away
[03:11:57] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[03:12:33] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[03:14:57] *** Joins: jaras (textual@1CDC5701.A48867D7.52E4E107.IP)
[03:15:11] *** Quits: maxli (Adium@moz-EE42E0E.student.cs.uwaterloo.ca) (Ping timeout)
[03:16:06] *** Joins: maxli (Adium@moz-EE42E0E.student.cs.uwaterloo.ca)
[03:19:15] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[03:20:02] *** Joins: lkuper (lkuper@moz-61339218.dyn.optonline.net)
[03:20:14] *** jorendorff_away is now known as jorendorff
[03:21:10] *** Joins: evanm (evanm@moz-4D6F9A00.hsd1.ca.comcast.net)
[03:21:17] *** Joins: cschneid (cschneid@moz-621ACC77.hlrn.qwest.net)
[03:21:34] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[03:22:16] *** Quits: drawoc (drawoc@moz-BAC1D3AB.res-cmts.sesh.ptd.net) (Quit: WeeChat 0.4.3)
[03:22:35] *** Quits: Florob (Florob@moz-39532932.de) (Client exited)
[03:22:39] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[03:23:09] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[03:23:21] <sfackler> is there a function in std to compare references on pointer equality or should I just cast to uint?
[03:23:46] <strcat> sfackler: there was, it was removed
[03:23:56] *** Joins: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net)
[03:23:59] *** kimundi is now known as zz_kimundi
[03:24:23] <sfackler> casts to uint are the way to go then?
[03:24:34] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Connection reset by peer)
[03:24:51] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[03:25:14] <apollow> How does one handle using an owned int (~int) as a range parameter in a for loop?
[03:25:18] *** Joins: jmmk (jmmk@moz-588F65EA.c3-0.smr-ubr1.sbo-smr.ma.cable.rcn.com)
[03:25:48] <sfackler> there isn't really any reason to have a ~int in the first palce
[03:25:56] <jmmk> if I am using an enum from another crate and want to derive an additional trait for it, how do I do that?
[03:26:01] <sfackler> but if you really want to, just do range(0, *foo)
[03:26:13] <apollow> ah
[03:26:15] *** Quits: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[03:26:36] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[03:26:39] <sfackler> jmmk: you can only implement a trait if either the trait or the type is defined in your crate
[03:27:13] <jmmk> sfackler: so there's no way to 'reopen' it?
[03:27:50] <sfackler> nope. what are you trying to do specifically?
[03:28:03] <sfackler> a newtype wrapper can be one solution depending on what you're doing
[03:29:06] <jmmk> using sdl2::keycode::KeyCode which impl Eq and Hash, but not TotalEq and I have a HashMap with KeyCodes as the keys
[03:29:20] <sfackler> oh
[03:29:34] <sfackler> a newtype could be a decent out
[03:29:38] *** Quits: ryeguy (ryeguy@9C569A0.5D1143CD.E8644521.IP) (Quit: )
[03:29:43] *** Joins: ktos (ktos@moz-91C103D0.swidnica.mm.pl)
[03:29:44] <sfackler> struct KeyWrapper(KeyCode)
[03:29:48] <sfackler> and then impl TotalEq for that
[03:30:04] <dsrx> are newtypes like in haskell, 0 runtime overhead?
[03:30:08] <sfackler> yep
[03:30:13] <dsrx> nice
[03:30:27] <sfackler> jmmk: also bug the sdl2 maintainer to update his stuff :P
[03:31:37] <jmmk> sfackler: I could just put a pull request and he will most likely merge it. I noticed that TotalEq was added in some places but not others so I thought maybe there was a specific reason it wasn't implemented for KeyCode
[03:32:05] <sfackler> unless there are some bizarre semantics of KeyCode that I'm not aware of, it was probably just an oversight
[03:32:30] <sfackler> things that only have a partial equality relation are super rare
[03:32:35] <sfackler> floats are the only thing I can think of
[03:33:01] <jmmk> Yeah and if it implements Hash, it would be pointless without TotalEq now right?
[03:33:08] <sfackler> yep
[03:33:10] <sfackler> well
[03:33:27] *** Joins: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP)
[03:33:41] <sfackler> you can still calculate a hash code, but most of the utility there comes from being able to put it in a hash table
[03:33:58] *** Quits: untitaker (untitaker@moz-395BEB4E.adsl.highway.telekom.at) (Ping timeout)
[03:34:28] *** Quits: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net) (Ping timeout)
[03:34:28] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[03:35:01] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[03:35:08] *** Quits: maxli (Adium@moz-EE42E0E.student.cs.uwaterloo.ca) (Quit: Leaving.)
[03:35:33] *** Quits: oxum (anonymous@E548EC34.4CC1D574.520CDC98.IP) (Quit: ...)
[03:35:43] *** Quits: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP) (Quit: buildmaster reconfigured: bot disconnecting)
[03:36:43] *** Joins: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP)
[03:40:08] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Ping timeout)
[03:41:26] *** Joins: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[03:41:56] *** Joins: untitaker (untitaker@moz-6B4C7A29.adsl.highway.telekom.at)
[03:42:11] *** Joins: maattdd (matthieu@moz-BD1940C7.fbx.proxad.net)
[03:43:22] *** Quits: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[03:43:56] *** Quits: maattdd (matthieu@moz-BD1940C7.fbx.proxad.net) (Ping timeout)
[03:45:33] *** Quits: jmmk (jmmk@moz-588F65EA.c3-0.smr-ubr1.sbo-smr.ma.cable.rcn.com) (Ping timeout)
[03:45:56] *** Quits: Savago (Savago@202BED95.35A5082B.B8C5454C.IP) (Quit: Savago)
[03:46:51] *** Joins: bleibig (bleibig@moz-B4D9C5AF.hsd1.ca.comcast.net)
[03:47:17] *** Joins: dranov (dranov@10725E3C.94264913.FB866788.IP)
[03:47:36] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[03:48:22] *** Quits: zz_kimundi (kimundi@moz-116E00E4.dip0.t-ipconnect.de) (Ping timeout)
[03:49:21] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Ping timeout)
[03:52:03] <dsrx> TotalEq is a methodless trait as of recently isn't it?
[03:52:18] *** Joins: zz_kimundi (kimundi@moz-F5F69403.dip0.t-ipconnect.de)
[03:52:19] <Eridius> yes
[03:52:44] *** zz_kimundi is now known as kimundi
[03:53:00] <sfackler> dsrx: it's just a tag to state that the eq impl is total
[03:53:00] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[03:54:12] *** Quits: ahunt (ahunt@moz-5E5AB5C8.range86-145.btcentralplus.com) (Ping timeout)
[03:55:00] *** Joins: ahunt (ahunt@moz-5E5AB5C8.range86-145.btcentralplus.com)
[03:56:06] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[03:56:12] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Quit: TheHydroImpulse)
[03:58:02] *** Joins: dherman (dherman@moz-705E7FCC.static.twtelecom.net)
[03:58:02] *** ChanServ sets mode: +ao dherman dherman
[03:58:11] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[03:58:58] *** Quits: mawuli (mawuli@F7A4F2ED.68EE7C48.E520B65A.IP) (Ping timeout)
[04:00:03] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[04:01:11] *** Joins: alext (Adium@moz-C36E2841.albq.qwest.net)
[04:02:21] *** Joins: mawuli (mawuli@F7A4F2ED.68EE7C48.E520B65A.IP)
[04:02:41] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[04:02:56] *** Joins: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[04:03:17] *** Joins: nlminhtl (ignotus@moz-393BCEC.la.net.ua)
[04:04:42] *** jorendorff is now known as jorendorff_away
[04:05:07] *** Quits: soumyaC (uid15286@moz-E77DEB21.irccloud.com) (Quit: Connection closed for inactivity)
[04:06:14] *** Quits: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[04:08:00] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.3)
[04:09:27] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[04:09:27] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Broken pipe)
[04:10:08] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[04:10:57] *** Joins: maxli (Adium@moz-B19F68ED.student.cs.uwaterloo.ca)
[04:13:06] *** Quits: claudiu (claudiu@CB447DD5.6B10AC3.E2F59BBC.IP) (Ping timeout)
[04:14:18] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Ping timeout)
[04:15:08] *** Quits: tyna (liadon@moz-BB1BAD9A.dynamic.chello.pl) (Ping timeout)
[04:16:11] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[04:16:26] *** Joins: p1start (rewi@moz-E7F3D014.org)
[04:17:54] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Input/output error)
[04:18:23] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[04:19:41] *** Joins: ChrisOei (ChrisOei@moz-30D80888.hsd1.ca.comcast.net)
[04:20:12] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Ping timeout)
[04:20:30] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[04:20:51] *** Quits: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net) (Quit: carllerche)
[04:25:33] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Quit: 전 이만 갑니다.)
[04:25:35] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[04:25:38] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[04:25:51] *** Quits: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[04:26:07] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[04:27:08] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Quit: 전 이만 갑니다.)
[04:27:18] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[04:28:07] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[04:29:50] *** Quits: wzsk (wzsk@4F7252F2.CEBBE496.E48CFF63.IP) (Quit: WeeChat 0.4.3)
[04:32:11] *** Joins: oxum (anonymous@2A641664.9F275360.C28326FD.IP)
[04:32:27] <cmr> Does anyone know what the "llvm-tblgen.exe has stopped working" popup is? I've followed the directions at https://github.com/mozilla/rust/wiki/Note-getting-started-developing-Rust#windows and am getting this.
[04:32:34] <cmr> vadimcn: klutzy: ^?
[04:33:18] *** Quits: hdevalence (quassel@moz-D125A39F.home3.cgocable.net) (Client exited)
[04:33:38] <lenary> i... broke rust: https://gist.github.com/lenary/a66efcaf03b08197dcb3
[04:33:40] <cmr> debugging it in vs says "Unhandled exception at 0x6FC8FD21 (libstdc++-6.dll) in llvm-tblgen.exe: 0xC0000005: Access violation writing location 0x004E7ECC."
[04:34:19] <klutzy> cmr: looks like it loaded wrong libstdc++ dll
[04:34:46] <cmr> lenary: you should upgrade your rust first, the bug might have been fixed in either rustc or llvm.
[04:34:54] <lenary> right, ok
[04:35:16] <lenary> so try the rust-nightly version off hansjorg's repo?
[04:35:36] <cmr> you won't get arm toolchain support with that
[04:35:46] <lenary> hmm
[04:35:46] <cmr> but it looks like you don't need it
[04:35:50] <cmr> toolchain being our libs
[04:35:54] <cmr> rustc will work
[04:35:57] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[04:36:19] <lenary> i just don't want to compile rust in this vm
[04:36:21] <lenary> :(
[04:37:33] <klutzy> you may manually build arm-targetted libraries using nightly
[04:37:53] <cmr> klutzy: I can't even find a libstdc++-6.dll on the system :\
[04:37:55] <klutzy> though it's quite cumbersome
[04:38:11] <klutzy> cmr: if you installed mingw/msys, it's at /mingw/bin
[04:38:30] <cmr> hm, so it is
[04:38:39] <cmr> why didn't a `find / -name libstdc++-6.dll` get that?
[04:38:50] <cmr> ... unless that's windows find
[04:39:02] <cmr> no that's gnu find
[04:40:06] <klutzy> `ls /` even doesn't show mingw dir
[04:40:24] <cmr> oh jeez
[04:40:31] <cmr> how the heck does /c/ work then
[04:40:34] <cmr> mingw is magical to me
[04:40:41] <cmr> and I don't think that's a good thing
[04:41:14] <klutzy> msys is early cygwin fork, so it emulates lots of unix stuff
[04:41:24] *** Quits: lkuper (lkuper@moz-61339218.dyn.optonline.net) (Quit: lkuper)
[04:41:30] <klutzy> but emulation means it's broken in some way :p
[04:41:37] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[04:41:50] <o11c> I imagine the point is that you usually don't want out-of-sandbox stuff?
[04:42:02] <burntsushi> does anyone know how to access a different crate from a rustdoc test? i've tried `extern crate serialize;` but rustdoc complains that such declarations aren't allowed there
[04:42:04] <cmr> but you seem to need it all the time
[04:42:12] *** Joins: maattdd (matthieu@moz-BD1940C7.fbx.proxad.net)
[04:42:33] *** Joins: t4nk048 (bzlandfill@moz-FAF3F0EF.hsd1.va.comcast.net)
[04:42:34] <cmr> burntsushi: unless there is a fn main, rustdoc will put the contents of code blocks in a fn main to test them.
[04:42:39] <cmr> burntsushi: so you need to supply your own.
[04:42:55] <burntsushi> cmr: ah!
[04:43:08] <t4nk048> nwb here. what is #[no_std]?
[04:43:11] <cmr> burntsushi: https://gist.github.com/cmr/e0e0670c4efd824ae1e1
[04:43:28] <cmr> t4nk048: with that attribute your crate won't be linked to the standard library.
[04:43:51] <t4nk048> gotcha, thanks!
[04:43:54] *** Quits: maattdd (matthieu@moz-BD1940C7.fbx.proxad.net) (Ping timeout)
[04:44:28] <burntsushi> cmr: got it. thanks!
[04:44:41] <cmr> klutzy: oh man it's an ancient gcc, might upgrading to 4.8 help? I don't even know if our llvm *builds* with that old gcc
[04:45:44] <sfackler> hansjorg: something bad seems to have happened to the rust-ci docs: http://www.rust-ci.org/sfackler/rust-postgres/doc/postgres/
[04:45:52] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[04:45:56] <klutzy> cmr: 4.8 works (I'm even using mingw-w64's 4.8!)
[04:46:12] <cmr> klutzy: we have mis-optimization with mingw-w64 don't we?
[04:46:15] <klutzy> cmr: but isn't that llvm-tblgen is built by old gcc? then it should work anyway
[04:46:17] <cmr> or was that just on x64
[04:46:44] <mcpherrin> cmr: how ancient a gcc?
[04:46:46] <klutzy> cmr: x64 only; vadimcn said it seems to work now some days ago
[04:46:57] <cmr> mcpherrin: ok it's not that ancient. 4.5.1
[04:47:03] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[04:47:04] <cmr> 4.5.2 even
[04:47:12] <mcpherrin> I've successfully built with 4.5 something on linux at least
[04:47:13] <cmr> klutzy: oh cool
[04:47:28] <cmr> mcpherrin: ok, good to know. won't keep working for long I guess.
[04:47:38] <cmr> upstream is flipping/has flipped the c++11 switch
[04:48:02] <mcpherrin> yeah, which will be a pain :-(
[04:48:14] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[04:48:18] * mcpherrin still supporting old redhat machines at work
[04:48:23] * mcpherrin wants to use rust
[04:48:28] *** Quits: canhtak (canhtak@moz-1300C4D7.wl.t.ulaval.ca) (Ping timeout)
[04:48:36] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[04:48:38] <mcpherrin> I guess I won't have to backport rust :P
[04:49:13] <klutzy> cmr: could you build-and-run some trivial c++ code which uses libstdc++?
[04:49:50] <cmr> klutzy: is iostream hello world enough?
[04:49:58] *** Joins: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net)
[04:49:59] <klutzy> I think so
[04:50:04] *** Quits: t4nk048 (bzlandfill@moz-FAF3F0EF.hsd1.va.comcast.net) (Quit: CGI:IRC)
[04:50:18] *** Quits: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[04:50:23] *** Quits: oxum (anonymous@2A641664.9F275360.C28326FD.IP) (Quit: Bye..)
[04:50:24] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Ping timeout)
[04:50:28] <cmr> seems to work
[04:50:33] *** Joins: oxum (anonymous@2A641664.9F275360.C28326FD.IP)
[04:51:00] *** Joins: beifeng (Mibbit@284C36E7.3062CEC3.670EEFD.IP)
[04:51:04] *** Quits: brson (brson@moz-62518563.mtv2.mozilla.com) (Ping timeout)
[04:51:22] *** Joins: aurynj (Eon@C498BDEC.C264657C.C6282BC4.IP)
[04:52:17] <klutzy> hmm then I have no idea now
[04:53:14] <klutzy> I thought there is another libstdc++ dll shipped by ghc or something
[04:53:35] <cmr> I do have ghc installed but not in this mingw install
[04:53:39] *** Quits: Earnestly (earnest@18162BE0.BA6AC103.30311652.IP) (Ping timeout)
[04:54:29] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Ping timeout)
[04:54:38] <cmr> I'm going to try mingw-w64
[04:56:01] *** Joins: aravindavk (aravinda@moz-BD0CADEE.redhat.com)
[04:56:40] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[04:56:46] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[04:58:42] *** Quits: Rym (y@D8C40AC1.22F14779.51C6DE68.IP) (Ping timeout)
[04:59:47] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Connection reset by peer)
[05:00:11] *** Joins: jdavis (jdavis@moz-1BE8A6A1.hsd1.ca.comcast.net)
[05:00:30] *** Quits: not_gavin (gavin@gavinsharp.com) (Ping timeout)
[05:00:47] *** Joins: not_gavin (gavin@gavinsharp.com)
[05:00:56] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[05:03:15] <cmr> klutzy: can I just put the mingw-w64 stuff in my path in the msys shell I already have? it seems to be missing important things like a shell, so I can't run the configure script
[05:03:45] *** Quits: heftig (heftig@moz-AA4684.dip0.t-ipconnect.de) (Ping timeout)
[05:03:45] *** Quits: p1start (rewi@moz-E7F3D014.org) (Ping timeout)
[05:04:27] *** Joins: heftig (heftig@moz-E07DF3E5.dip0.t-ipconnect.de)
[05:04:29] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[05:04:36] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[05:04:53] <apollow> anyone here know anything (or more specifically, readings) on lifetime of lambda expressions?
[05:05:08] <klutzy> cmr: you can, but I prefer modifying /etc/fstab
[05:05:32] <klutzy> it has /mingw mount info
[05:05:45] <cmr> klutzy: ah ok, that seems cleaner.
[05:06:32] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[05:07:13] <cmr> gah I think you are right about ghc messing with things :|
[05:07:22] <cmr> $ which gcc
[05:07:33] <cmr>  /c/Program Files (x86)/Haskell Platform/2013.2.0.0/mingw/bin/gcc.exe
[05:08:05] *** Quits: not_gavin (gavin@gavinsharp.com) (Input/output error)
[05:08:21] *** Joins: not_gavin (gavin@gavinsharp.com)
[05:09:07] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Connection reset by peer)
[05:09:20] *** Quits: jaras (textual@1CDC5701.A48867D7.52E4E107.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[05:09:36] <klutzy> you should uninstall ghc and rewrite any haskell stuff to rust :p
[05:09:59] <cmr> herh
[05:10:00] <cmr> *heh
[05:10:23] *** Quits: eholk (eholk@9F0E3073.6A9D8DF7.8FE2F0CE.IP) (Ping timeout)
[05:10:56] *** Joins: p1start (rewi@moz-E7F3D014.org)
[05:11:03] <klutzy> $PATH is really headache on windows since it also takes role of LD_LIBRARY_PATH
[05:11:39] <cmr> do I have to log out and log back in for changes to system environment variables to kick in?
[05:11:57] <cmr> apollow: does http://smallcultfollowing.com/babysteps/blog/2013/10/10/fn-types-in-rust/ help? do you have any specific questions?
[05:12:13] *** Quits: beifeng (Mibbit@284C36E7.3062CEC3.670EEFD.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[05:12:25] <klutzy> nope, it's ok to re-run program
[05:14:00] *** Quits: not_gavin (gavin@gavinsharp.com) (Input/output error)
[05:14:17] *** Joins: not_gavin (gavin@gavinsharp.com)
[05:14:33] <cmr> the contents of my /etc/fstab now are:
[05:14:34] <cmr> c:/Program Files (x86)/mingw-builds/x32-4.8.1-posix-dwarf-rev5/mingw32
[05:14:37] <cmr> is that correct?
[05:14:45] <cmr> (it exists, at least)
[05:15:38] <klutzy> not sure about spaces
[05:15:45] <cmr> neither was I
[05:15:55] <cmr> I can run gcc at all until I add that dir to the path it seems though
[05:16:17] <cmr> oh that was my bashrc nevermind
[05:16:20] <apollow> cmr: i'll take a look at that, thanks!
[05:16:47] *** Joins: brson (brson@moz-62518563.mtv2.mozilla.com)
[05:16:47] *** ChanServ sets mode: +ao brson brson
[05:17:07] <apollow> i'm just playing around with lambdas at the moment, i'll compile some questions for it later if the link doesn't help much
[05:17:46] *** Quits: evanm (evanm@moz-4D6F9A00.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[05:18:31] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Ping timeout)
[05:19:40] *** Joins: gavinb (gavinb@E673F25E.B9698BFB.D3BA2C17.IP)
[05:20:07] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[05:22:19] <gavinb> Trying to make sense of this error: “error: cannot capture variable of type `&std::comm::Sender<uint>`, which does not fulfill `Send`, in a bounded closure”.
[05:22:23] *** Joins: eholk (eholk@moz-40A3960F.tmodns.net)
[05:22:44] *** Quits: tmh (e@6F8495BB.FEF84806.AA32EE5B.IP) (Ping timeout)
[05:22:51] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Ping timeout)
[05:22:56] <gavinb> I have a struct with channels, and I’m trying to pass the sender channel to a spawned task.
[05:23:13] <cmr> gavin: is it a method with &self or &mut self?
[05:23:22] <gavinb> &mut self
[05:23:27] <cmr> that's probably the issue
[05:23:36] <cmr> the closure is trying to capture the variable
[05:23:43] <cmr> but it can't move out of &mut self
[05:23:49] <cmr> actually hm
[05:23:53] <cmr> not really sure
[05:23:55] *** Joins: pyon (user@6B56F365.A9B419CB.1C8C8CE9.IP)
[05:24:14] <gavinb> I can try making it not &mut self I think
[05:24:30] <gavinb> nope, same error
[05:24:45] <cmr> it'd have to be just self for what I was thinking
[05:25:24] *** Quits: alext (Adium@moz-C36E2841.albq.qwest.net) (Quit: Leaving.)
[05:26:00] <gavinb> The channels are created earlier in the new() function, and stored in the struct. Now I just want to spawn a task and give it the ‘other’ end of the channels so I can communicate between the controller and the task.
[05:26:19] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[05:27:38] <gavinb> Would it help if I created a minimum test example?
[05:27:38] <cmr> yeah, makes sense.
[05:27:55] <cmr> but for the proc to capture the Sender it needs to take it by value, I believe
[05:28:00] <cmr> but you can't move out of &mut self
[05:28:03] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[05:28:04] <cmr> I think that is the fundamental issue
[05:28:15] <gavinb> but the error is the same without mut
[05:28:23] <cmr> yeah &mut / & doesn't matter
[05:28:29] <cmr> unless you tried with plain `self` too?
[05:28:41] <gavinb> didn’t know that was a thing!
[05:28:47] <cmr> self-by-value :)
[05:28:54] <gavinb> kinky!
[05:29:01] <cmr> heh
[05:29:10] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[05:29:33] <gavinb> I found a SO thread where someone suggested it had something to do with the struct having references of its own…?
[05:29:49] <cmr> how old is the thread?
[05:30:00] <gavinb> Feb ’14 - I always check :)
[05:30:06] <cmr> oh hey that's recent!
[05:30:07] <cmr> link?
[05:30:07] <gavinb> http://stackoverflow.com/questions/21618497/in-rust-is-there-any-way-to-change-a-struct-type-to-be-send
[05:30:24] <cmr> ah no that's a separate issue
[05:30:30] *** Joins: tmh (e@6F8495BB.FEF84806.AA32EE5B.IP)
[05:30:36] <gavinb> bum - the same error msg though
[05:30:40] <cmr> rather than a proc capturing a value, that's the struct itself being Send
[05:31:01] <cmr> you're trying to capture a &T, which is never Send
[05:31:02] <gavinb> oh right
[05:31:04] *** Parts: cmr (moznet@moz-EC676DFE.members.linode.com) (Leaving)
[05:31:06] *** Joins: cmr (moznet@moz-EC676DFE.members.linode.com)
[05:31:06] *** ChanServ sets mode: +o cmr
[05:31:10] <cmr> (references can't be shared)
[05:31:21] <gavinb> makes sense
[05:31:31] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[05:31:53] <hoverbear> \o/ http://ghost-hoverbear.rhcloud.com/code/
[05:32:12] <cmr> homa_rano: is that a saturn in the background?
[05:32:35] <cmr> hrm, @hoverbear
[05:32:47] <cmr> (this irc client is inadequate!)
[05:32:52] <hoverbear> cmr: Yes, it's a NASA photo so I think it's public domain.
[05:33:06] *** Joins: jdavis_ (jdavis@moz-1BE8A6A1.hsd1.ca.comcast.net)
[05:33:17] <cmr> I believe those are
[05:33:23] <cmr> looks nice
[05:33:51] <hoverbear> cmr: Thanks, now I might even write some stuff.
[05:34:20] <cmr> much nicer than my blog theme :P
[05:34:38] <cmr> I need to find a new theme / design one myself one of these days
[05:34:49] <hoverbear> I really wanted to just get something with syntax highlighting and latex
[05:35:16] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[05:37:18] <hoverbear> cmr: Can't say Openshift has been all that great so far
[05:37:36] <jdavis> Newbie question: If I do "let x = foo().clone(); let y = x.as_bytes();" it works, but if I do: "let x = foo().clone().as_bytes();" it gets a compiler error. Can someone explain what's going on there?
[05:38:07] *** Joins: edwardw (Mibbit@AC1442B4.1B2F6624.7F41E82D.IP)
[05:38:14] <Yurume> jdavis: foo().clone() constructs a temporary value which lifetime is bound to the current statement unless it is stored otherwise.
[05:38:29] <gavinb> cmr: ok, here’s a minimal example showing the problem: https://gist.github.com/gavinb/9777418
[05:39:05] <jdavis> Yurume, oh, interesting. 
[05:39:08] <gavinb> It’s stripped down from an app which has worker threads perform expensive background processing.
[05:39:24] <cmr> gavin: try changing them to Option<Sender<uint>> etc and doing `let c = self.chan_engine_to_wc.take(); c.send(42);`
[05:41:00] <jdavis> Yurume, is that part of the lifetime specification of clone, or is that a general rule in the language?
[05:41:58] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[05:42:06] <Yurume> it is a general rule. see http://smallcultfollowing.com/babysteps/blog/2014/01/09/rvalue-lifetimes-in-rust/ for niko's past proposal.
[05:42:12] *** Joins: maattdd (matthieu@moz-BD1940C7.fbx.proxad.net)
[05:42:27] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[05:42:36] <Yurume> (and the follow-up PR: https://github.com/mozilla/rust/pull/11585 )
[05:43:15] <Yurume> this rule should get documented later.
[05:43:54] *** Quits: maattdd (matthieu@moz-BD1940C7.fbx.proxad.net) (Ping timeout)
[05:46:31] <gavinb> cmr: had to add an “expect” to get the Sender out, but still get: error: cannot capture variable of type `&mut Master<'a>`, which does not fulfill `Send`, in a bounded closure
[05:47:00] <cmr> bah
[05:47:09] <cmr> I suppose that makes sense in hindsighte
[05:47:59] <cmr> move the take out of the `proc() { ... }`?
[05:48:48] <gavinb> cmr: yay! that did it! :)
[05:49:12] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[05:49:13] <gavinb> now I wonder if they still need to be Option'ed?
[05:49:47] <cmr> yeah, because you still need some way to "move" out of self
[05:50:23] <gavinb> that sounds very NewAge dude
[05:50:29] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[05:50:48] *** Quits: ChrisOei (ChrisOei@moz-30D80888.hsd1.ca.comcast.net) (Client exited)
[05:50:54] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Ping timeout)
[05:51:23] <gavinb> cmr: cool, now I will try that in my real app
[05:51:25] <gavinb> cmr: Thanks!
[05:51:26] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[05:53:14] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[05:54:16] *** Quits: maxli (Adium@moz-B19F68ED.student.cs.uwaterloo.ca) (Ping timeout)
[05:54:29] *** Joins: maxli (Adium@moz-B19F68ED.student.cs.uwaterloo.ca)
[05:54:39] *** Joins: benjamin_____ (benjamin@moz-78FA3DD4.dip0.t-ipconnect.de)
[05:58:58] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[06:00:44] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[06:01:04] *** Quits: gavinb (gavinb@E673F25E.B9698BFB.D3BA2C17.IP) (Quit: gavinb)
[06:01:14] *** Quits: maxli (Adium@moz-B19F68ED.student.cs.uwaterloo.ca) (Ping timeout)
[06:01:21] *** Joins: guest2222 (guest2222@182C6EB7.F299E8.284344F5.IP)
[06:01:55] *** Quits: tyoverby (tyoverby@1390DFB8.FBC7597F.11F8506F.IP) (Ping timeout)
[06:02:06] *** Quits: guest22221 (guest2222@moz-1D2D613F.ga.at.cox.net) (Ping timeout)
[06:02:13] *** Joins: guest22221 (guest2222@moz-1D2D613F.ga.at.cox.net)
[06:02:18] *** Joins: maxli (Adium@moz-EE42E0E.student.cs.uwaterloo.ca)
[06:03:02] *** Quits: guest2222 (guest2222@182C6EB7.F299E8.284344F5.IP) (Ping timeout)
[06:03:30] *** Joins: dougxxx (dougxxx@moz-2801788.perm.iinet.net.au)
[06:03:31] *** Quits: Kxepal (Miranda@moz-83F7AF52.pppoe.mtu-net.ru) (Quit: Kxepal)
[06:03:45] *** Joins: Kxepal (Miranda@moz-83F7AF52.pppoe.mtu-net.ru)
[06:04:05] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[06:06:14] *** Joins: tyoverby (tyoverby@73D4AA0F.5BB0586B.11F8506F.IP)
[06:06:26] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[06:09:56] *** Quits: maxli (Adium@moz-EE42E0E.student.cs.uwaterloo.ca) (Ping timeout)
[06:10:13] *** Joins: maxli (Adium@moz-B19F68ED.student.cs.uwaterloo.ca)
[06:10:21] <jdavis> Yurume: Thank you for the links. In the first link, I interpret what I am trying to do as similar to Example 3: "map.borrow_mut().get().insert(k, v); // (3)"
[06:10:42] <jdavis> Yurume: But if that's the case, shouldn't it work?
[06:10:56] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[06:11:03] <cmr> jdavis: it's not quite the same because you're keeping a value borrowed from the temporary.
[06:11:32] <jdavis> cmr: oh, so as_bytes() doesn't need to copy?
[06:11:42] <cmr> jdavis: no, as_* never copies.
[06:11:51] <jdavis> cmr: oh, now it all makes sense. 
[06:11:52] <cmr> (by convention)
[06:12:05] <cmr> jdavis: indeed, look at its documentation/type signature
[06:12:20] <jdavis> OK.
[06:12:28] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[06:14:53] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[06:15:36] *** Quits: maxli (Adium@moz-B19F68ED.student.cs.uwaterloo.ca) (Input/output error)
[06:15:52] <jdavis> Thank you. I see that the lifetime of the result matches the lifetime of the receiver.
[06:15:52] *** Joins: maxli (Adium@moz-B19F68ED.student.cs.uwaterloo.ca)
[06:16:03] <jdavis> (hopefully I'm using the correct terminology)
[06:17:40] <cmr> you are
[06:19:05] *** Quits: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net) (Quit: Taking a nap.)
[06:19:29] *** Joins: hjr3 (hradtke@moz-E952E90B.hsd1.or.comcast.net)
[06:22:48] *** Quits: vadimcn (chatzilla@moz-E841EA3A.hsd1.wa.comcast.net) (Connection reset by peer)
[06:22:58] <rchar> http://static.rust-lang.org/doc/0.9/std/cast/fn.forget.html
[06:23:02] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[06:23:13] <rchar> i love cheeky documentation
[06:23:22] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[06:23:37] <cmr> std::cast is great for that
[06:24:26] *** Quits: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net) (Ping timeout)
[06:24:33] *** Joins: maxli1 (Adium@moz-F47DD19B.student.cs.uwaterloo.ca)
[06:25:02] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[06:25:28] *** Quits: maxli (Adium@moz-B19F68ED.student.cs.uwaterloo.ca) (Ping timeout)
[06:25:57] *** Quits: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Quit: ChatZilla 0.9.90.1 [Firefox 31.0a1/20140325030201])
[06:26:10] *** Quits: maxli1 (Adium@moz-F47DD19B.student.cs.uwaterloo.ca) (Ping timeout)
[06:27:05] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[06:27:15] *** Joins: mib_prht0q (Mibbit@D1C4CEE8.407E93F8.C962A8F3.IP)
[06:27:48] *** Quits: mib_prht0q (Mibbit@D1C4CEE8.407E93F8.C962A8F3.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[06:28:08] <cmr> hm. I remember a comment somewhere, "Casting arcane sight reveals and overwhelming aura of transmutation."
[06:28:13] <cmr> don't remember where
[06:28:30] <edwardw> trans/_match.rs must wait for nmatsakis' review, right?
[06:28:42] <c74d> cmr: <https://twitter.com/horse_rust>?
[06:28:44] *** Joins: NiccosSystem (NiccosSyst@moz-ED196BB4.customer.lyse.net)
[06:28:50] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[06:28:59] <cmr> c74d: hahah what is this
[06:29:00] *** Quits: huddler (Mibbit@moz-703651C7.barak.net.il) (Quit: http://www.mibbit.com ajax IRC Client)
[06:29:10] <edwardw> there's a horse rust? lol
[06:29:15] <sfackler> cmr: local_data I think
[06:29:25] *** Quits: indirect (indirect_m@moz-A838903C.hsd1.ca.comcast.net) (Ping timeout)
[06:29:36] *** Joins: indirect (indirect_m@moz-A838903C.hsd1.ca.comcast.net)
[06:29:44] <edwardw> local_data.rs#L40
[06:30:02] <cmr> ah there it is
[06:30:19] <cmr> I did an `ag arcane` which failed me.
[06:30:22] <cmr> damn case-sensitivty
[06:31:01] *** Joins: ChrisOei (ChrisOei@moz-30D80888.hsd1.ca.comcast.net)
[06:31:12] <edwardw> blame shows it comes from no other than, behold, alexcrichton
[06:32:06] <cmr> it's much, much older than that.
[06:32:15] <cmr> I believe.
[06:32:50] <edwardw> LOL
[06:33:03] *** Joins: maattdd (matthieu@moz-BD1940C7.fbx.proxad.net)
[06:33:11] <cmr> it was bblum!
[06:33:13] <cmr> 1ff6f9b876f8024617ef002a5276199545cea96a
[06:33:24] <cmr> oh jeez export lists
[06:33:43] *** Joins: beifeng (Mibbit@284C36E7.3062CEC3.670EEFD.IP)
[06:34:01] <YourBestFriend> are the "this week in rust" blog posts still going?
[06:34:06] <YourBestFriend> I lost the link
[06:34:13] <cmr> YourBestFriend: yes. http://cmr.github.io/
[06:34:22] <YourBestFriend> thank you
[06:34:25] <cmr> YourBestFriend: they're always posted to reddit.com/r/rust too
[06:34:38] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[06:34:52] <edwardw> wow, libcore era
[06:35:06] <cmr> hey now, libcore isn't that far in the past.
[06:35:26] <cmr> but this is indeed an ancient rust
[06:35:57] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Client exited)
[06:36:09] *** Joins: kermi (Mibbit@5A74B1AD.C8DC7926.971E19F6.IP)
[06:36:18] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[06:36:34] *** Joins: skade (skade@moz-1EC0F118.pools.arcor-ip.net)
[06:36:36] *** Quits: maattdd (matthieu@moz-BD1940C7.fbx.proxad.net) (Ping timeout)
[06:36:36] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[06:36:46] *** Quits: kermi (Mibbit@5A74B1AD.C8DC7926.971E19F6.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[06:36:53] *** Quits: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net) (Quit: carllerche)
[06:36:54] <edwardw> hmm, rt/arch, organized like a os project
[06:37:59] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[06:38:53] *** Quits: heftig (heftig@moz-E07DF3E5.dip0.t-ipconnect.de) (Quit: Quitting)
[06:39:20] *** Quits: eholk (eholk@moz-40A3960F.tmodns.net) (Ping timeout)
[06:39:32] <YourBestFriend> 0,4WHY can rust get away with not having header files but C++ can't?
[06:39:40] <jdavis> In the example in README.md here: https://github.com/sfackler/rust-postgres it uses a vector like: "[&me.name as &ToSql, &me.time_created as &ToSql, &me.data as &ToSql]". There was talk a while ago about avoiding the need for "as &ToSql" everywhere, is that still ongoing?
[06:39:57] <mcpherrin> YourBestFriend: In some ways, rust is *only* header files...
[06:39:59] *** Joins: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net)
[06:40:10] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[06:40:43] <mcpherrin> YourBestFriend: The compilation unit in Rust is a crate, and all the information needed to use that crate from another one is encoded into metadata in the binary
[06:41:08] <hansjorg> sfackler: seems rustdoc has changed file layout a bit. I'll have a look
[06:41:10] *** Joins: uzi_mantis (iz@moz-4379EE65.hsd1.va.comcast.net)
[06:41:12] <csherratt> there are plans to add modules to c++ too http://llvm.org/devmtg/2012-11/Gregor-Modules.pdf
[06:41:15] <mcpherrin> inside a crate, you can include other files with `mod`, which is really more like including a header in c++
[06:41:24] *** Joins: ofeldt (ofeldt@moz-9B12F76D.dip0.t-ipconnect.de)
[06:41:37] *** Joins: eholk (eholk@moz-40A3960F.tmodns.net)
[06:42:28] *** Quits: ofeldt- (ofeldt@moz-8A299843.dip0.t-ipconnect.de) (Ping timeout)
[06:43:36] *** Quits: edwardw (Mibbit@AC1442B4.1B2F6624.7F41E82D.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[06:43:46] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[06:43:48] <cmr> jdavis: example might just not have been updated, try it without?
[06:44:33] <sfackler> hansjorg: thanks
[06:44:49] <jdavis> cmr: I just did. It infers the first to be &~str, and then fails on the second which is &time::Timespec. Both implement the ToSql trait, which is all the function needs.
[06:45:00] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[06:45:27] <sfackler> jdavis: cmr: it's this bug; https://github.com/mozilla/rust/issues/11205
[06:45:32] <uzi_mantis> quick question about rust: the docs say the language's compiler is written in rust, but how can that be?
[06:45:39] <uzi_mantis> where's the chicken and where's the egg?
[06:45:48] <ChrisMorgan> uzi_mantis: old Rust builds new Rust.
[06:46:04] <jdavis> sfackler, ok, thank you. I am watching that bug now.
[06:46:10] <uzi_mantis> so the oldest rust was written in something else?
[06:46:11] <dougxxx> you dont have to have rust installed to build do you?
[06:46:14] <ChrisMorgan> uzi_mantis: most C compilers require a C compiler to compile the C compiler, too.
[06:46:17] <dougxxx> Or is that what the download snapshot does?
[06:46:20] <cmr> uzi_mantis: the oldest rust was written in ocaml, indeed.
[06:46:21] <ChrisMorgan> uzi_mantis: OCaml.
[06:46:28] <uzi_mantis> makes sense!
[06:46:43] <uzi_mantis> is there any ocaml left in the source nowadays?
[06:46:45] *** Joins: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net)
[06:46:47] <cmr> no
[06:47:03] <cmr> not since before 0.1 I believe
[06:47:03] <ChrisMorgan> dougxxx: the snapshot is a build of Rust new enough to build Rust master.
[06:47:04] <sfackler> dougxxx: the snapshot is a rustc
[06:47:12] <dougxxx> ah~
[06:47:18] <uzi_mantis> enlightening, thanks guys :)
[06:47:26] <jdavis> sfackler, is there a major challenge to that, or just no time to address it yet?
[06:47:51] <sfackler> jdavis: I think it's mostly that no-one's gotten around to it
[06:47:52] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Ping timeout)
[06:47:58] *** Joins: edwardw (edwardw@4112974A.B4358688.30F15291.IP)
[06:48:01] <sfackler> I know that inference through vectors is a bit janky in general
[06:48:40] <sfackler> my gut feeling is that it's due at least in part to the fact that [a, b] can either be a &[Foo] or a [Foo, ..2]
[06:48:48] *** Quits: uzi_mantis (iz@moz-4379EE65.hsd1.va.comcast.net) (Quit: )
[06:49:15] <jdavis> What do you mean by the second form? 
[06:49:27] <sfackler> a fixed-size array
[06:49:54] <sfackler> like a C Foo[2] (in some cases)
[06:49:56] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[06:50:01] <jdavis> Oh, so you mean it's partially a syntax issue, and not just a type inference one?
[06:50:16] <sfackler> no, it's an inference issue
[06:50:31] <sfackler> it's just that inference for [] literals is a bit weird
[06:50:33] *** Joins: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com)
[06:51:43] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Ping timeout)
[06:51:44] <jdavis> Would it be easier to do it as a type specification that just tells the compiler it's a [&ToSql]?
[06:52:04] *** Joins: onelson (owen@18CF7301.95770028.5B6BFE7D.IP)
[06:52:29] <sfackler> so the compiler *should* know that it has to be a &[&ToSql] since it's getting passed as an argument with that type
[06:52:39] <sfackler> but the information isn't being propogated to the right place I guess
[06:52:53] <jdavis> That's what I would think, too.
[06:53:28] *** Joins: derek_c (derek@moz-2A21307C.cit.cornell.edu)
[06:53:36] <jdavis> So it must be something with how the literal is interpreted before any inference happens?
[06:54:05] *** Quits: toshok_ (toshok@moz-96BF2AD6.hsd1.ca.comcast.net) (Quit: Computer has gone to sleep.)
[06:54:24] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[06:54:51] *** Quits: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com) (Ping timeout)
[06:54:54] <sfackler> dunno. this is the part of rustc that I don't understand at all
[06:55:54] <derek_c> how do you see the output of debug!?
[06:56:06] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[06:56:27] <cmr> derek_c: http://static.rust-lang.org/doc/master/log/index.html
[06:56:51] <strcat> ChrisMorgan: well, MSVC++, gcc, clang and icc require a C++ compiler to compile the C compiler ;P
[06:57:10] <cmr> and icc a large wallet
[06:57:40] <strcat> icc is free for non-commercial use
[06:57:42] <derek_c> cmr: thanks
[06:58:13] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[06:58:31] <cmr> ah, perhaps it was one of the libraries I was looking at that wasn't
[06:59:38] *** Quits: philix_ (felipe@B6067347.BAD04C27.648674BD.IP) (Ping timeout)
[06:59:50] *** Quits: edwardw (edwardw@4112974A.B4358688.30F15291.IP) (Ping timeout)
[07:00:29] *** Quits: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net) (Quit: carllerche)
[07:00:32] *** Quits: alonlevy (alon@2CD54432.57968636.E9C721AF.IP) (Ping timeout)
[07:00:41] <strcat> cmr: their trick with other stuff like tbb is to make it GPL and force proprietary software use cases to buy their expensive licenses ;p
[07:01:34] *** Joins: edwardw (edwardw@68931FF2.B77F1D58.FAED9FFC.IP)
[07:02:53] *** Joins: eddyb (eddy@F8B50789.F33C1089.FB866788.IP)
[07:04:00] *** Joins: fabiand (fabiand@moz-B89A787E.adsl.alicedsl.de)
[07:04:05] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[07:04:22] *** Quits: nlminhtl (ignotus@moz-393BCEC.la.net.ua) (Quit: Konversation terminated!)
[07:05:43] <cmr> strcat: oh, even the lib I had in mind (mkl) is available non-commercially: http://software.intel.com/en-us/non-commercial-software-development
[07:06:03] <cmr> I wonder if their ide or profiler are any good
[07:06:15] * strcat shrugs
[07:06:17] <strcat> perf > *
[07:06:26] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[07:06:38] *** Quits: jeaye (jeaye@moz-34FEF2BB.hsd1.ca.comcast.net) (Quit: zzz)
[07:06:44] <strcat> LLVM will be better than icc one day ;p
[07:06:47] <cmr> I agree
[07:09:46] *** Joins: Matthias247 (Miranda@moz-678B5E4A.hsi2.kabel-badenwuerttemberg.de)
[07:10:30] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[07:11:08] *** Quits: Matthias247 (Miranda@moz-678B5E4A.hsi2.kabel-badenwuerttemberg.de) (Quit: Matthias247)
[07:13:48] *** Quits: hjr3 (hradtke@moz-E952E90B.hsd1.or.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[07:15:40] *** Quits: derek_c (derek@moz-2A21307C.cit.cornell.edu) (Ping timeout)
[07:15:49] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[07:16:08] *** Quits: onelson (owen@18CF7301.95770028.5B6BFE7D.IP) (Ping timeout)
[07:17:25] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[07:19:47] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[07:22:54] *** Joins: Ferreus_ (ferreus@moz-798C3119.dip0.t-ipconnect.de)
[07:22:57] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Quit: csherratt)
[07:23:38] *** Quits: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net) (Connection reset by peer)
[07:23:53] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[07:24:16] *** Quits: brson (brson@moz-62518563.mtv2.mozilla.com) (Ping timeout)
[07:24:29] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[07:25:38] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[07:27:03] *** Joins: mgottschlag (quassel@moz-C9007C38.cust.bluewin.ch)
[07:28:06] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[07:29:49] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[07:29:49] *** Joins: mediocrity (Thunderbir@moz-8A2E9A09.bredband.comhem.se)
[07:32:21] *** Joins: kris (kris@moz-6D20263F.fullrate.dk)
[07:32:35] *** Joins: twi (Adium@moz-CF950680.cust.vodafonedsl.it)
[07:34:55] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Client exited)
[07:35:17] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[07:35:30] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Client exited)
[07:35:31] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[07:36:05] *** Quits: aurynj (Eon@C498BDEC.C264657C.C6282BC4.IP) (Quit: Leaving)
[07:36:15] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Client exited)
[07:36:39] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[07:36:48] *** Joins: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch)
[07:36:51] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Client exited)
[07:36:51] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[07:37:13] *** Quits: pepijndevos (pepijndevo@9EACEF43.E50A3180.BCE47D84.IP) (Ping timeout)
[07:37:36] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Client exited)
[07:37:36] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[07:37:52] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[07:38:36] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Client exited)
[07:38:57] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[07:39:20] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[07:39:23] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Connection reset by peer)
[07:39:36] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[07:39:39] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[07:40:37] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[07:40:53] *** Quits: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch) (Quit: Leaving.)
[07:41:20] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[07:41:28] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[07:44:49] <strcat> ugh. kdbus needs to hurry up and land so I can update playpen ;\
[07:45:08] <strcat> I refuse to use awful libdbus/gdbus
[07:45:16] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[07:45:50] <eddyb> strcat: I've never figured out what D-Bus actually does, so I'm a little confused by kdbus :P
[07:45:54] *** Quits: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net) (Input/output error)
[07:45:56] <strcat> eddyb: IPC
[07:46:02] *** Quits: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com) (Ping timeout)
[07:46:09] <strcat> eddyb: you can publish a service, other stuff can subscribe to events
[07:46:21] <eddyb> but what kind of data can you pass around?
[07:46:23] <strcat> and it implements the security policy, etc. (although the current dbus is pretty broken)
[07:46:44] <strcat> eddyb: well... lets stick to talking about the current dbus for now
[07:46:49] <strcat> kdbus isn't a reimplementation of it
[07:46:51] <strcat> it's a new protocol
[07:47:09] *** Joins: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com)
[07:47:23] <strcat> eddyb: http://dbus.freedesktop.org/doc/dbus-specification.html#basic-types
[07:47:30] <eddyb> strcat: have you seen this btw? looks like since 3.4 we've started shuffling pointers around when they come from enums, even when the pointers are aligned :| http://llvm.org/bugs/show_bug.cgi?id=19250
[07:47:44] <strcat> eddyb: few basic types, tuples, arrays, tagged unions
[07:47:52] <eddyb> oh, it's fully typed
[07:47:56] <strcat> eddyb: yes
[07:48:19] <strcat> eddyb: kdbus is just a wire protocol though, the existing dbus environment will be reimplemented on top of it
[07:48:25] <strcat> but you could implement another serialization protocol
[07:48:29] <strcat> it doesn't enforce that at all
[07:48:38] <edwardw> it has some kind of IDL I imagine?
[07:48:55] <strcat> kdbus just implements messaging (including zero-copy messaging) and can enforce security policy
[07:48:57] <eddyb> okay, that's cool, so it's a bit similar like my syscall gate idea, except more dynamic
[07:49:15] <strcat> data passing with context switches
[07:49:28] <eddyb> strcat: what can it do that whatever D-Bus uses can't?
[07:49:32] <strcat> edwardw: I don't really think so
[07:49:43] <strcat> eddyb: it's a sane wire protocol, it's going to be much more secure, and much faster
[07:49:48] <strcat> dbus will be implemented on top of kdbus
[07:49:53] *** Quits: skade (skade@moz-1EC0F118.pools.arcor-ip.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[07:50:04] <strcat> you could implement another protocol - kdbus doesn't hardcode much
[07:50:14] <eddyb> strcat: hmm. move semantics vs copy/share semantics?
[07:50:20] <eddyb> kinda reminds me of Rust :P
[07:50:22] <mcpherrin> I assume it's just buffers with some addressing scheme?
[07:50:42] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[07:50:49] <mcpherrin> the big downside to something like dbus is messaging into dbus and then out again, double the context switch cost
[07:50:53] <strcat> mcpherrin: yep, memfd
[07:51:16] <strcat> mcpherrin: https://lwn.net/Articles/580194/ mentioned here
[07:51:29] <strcat> anyway one of the big backers of this is the auto industry
[07:51:29] <mcpherrin> I really ought to get a lwn subscription...
[07:51:48] <strcat> they use dbus in embedded, and the current implementation is total crap for them
[07:51:51] *** Joins: io2 (io2@moz-EE406A5.home.otenet.gr)
[07:51:57] <eddyb> strcat: could you implement an neat IPC library for Rust on top of kdbus?
[07:52:05] <eddyb> with minimal serialization
[07:52:15] <strcat> eddyb: yes, or just use the regular protocol
[07:52:24] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Ping timeout)
[07:52:27] <mcpherrin> I'm going to play with rust + kdbus this weekend I think
[07:52:46] <strcat> eddyb: afaik memfd will be useful for other stuff too
[07:52:51] <strcat> but for now just kdbus
[07:53:07] *** Quits: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com) (Ping timeout)
[07:53:30] <eddyb> one thing I really wanted in my syscall gate is minimal serialization, even reusing the stack with the arguments passed on it as the buffer, where possible
[07:53:48] <strcat> mcpherrin: anyway I despise the existing dbus client libs
[07:53:50] <strcat> they're incredibly awful
[07:53:53] *** Joins: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com)
[07:54:02] <strcat> I want to use sd-bus, but it's a private header unless you enable kdbus
[07:54:06] <strcat> so I'm probably going to do that.
[07:54:17] <strcat> I want to port playpen to using the new cgroup api
[07:54:25] *** Joins: toshok_ (toshok@moz-96BF2AD6.hsd1.ca.comcast.net)
[07:54:46] *** Quits: edwardw (edwardw@68931FF2.B77F1D58.FAED9FFC.IP) (Quit: Leaving...)
[07:54:58] <strcat> mcpherrin: http://ix.io/7lx which works like that (you just make a scope unit, implying a cgroup)
[07:55:13] <strcat> but really, I do not want to deal with libdbus/gdbus in C
[07:55:24] * strcat hates them
[07:55:27] <strcat> even in python they're awful
[07:55:48] <strcat> although I guess I can blame gobject for that - no human was involved in making this API ;\
[07:56:01] <mcpherrin> blame gobject for everything
[07:56:15] *** Quits: toshok_ (toshok@moz-96BF2AD6.hsd1.ca.comcast.net) (Quit: Computer has gone to sleep.)
[07:56:16] <eddyb> strcat: random question: would a new kernel benefit from exposing a libuv-like API for IO?
[07:56:28] <strcat> eddyb: it does, it exposes an AIO implementation
[07:56:34] <strcat> windows exposes IOCP
[07:56:42] <strcat> no one uses AIO on linux though
[07:56:49] <eddyb> maybe I should say "exclusively"
[07:57:33] <strcat> in the end you get much more throughput and better scaling by using sync I/O and non-blocking sockets, like nginx does
[07:57:35] *** flaper87|afk is now known as flaper87
[07:57:52] <eddyb> strcat: but why is that?
[07:58:18] <eddyb> is file IO so fast that async makes it slower?
[07:58:27] <strcat> eddyb: because nginx is doing networking, so waiting on the fs cache (and occasionally an SSD/HDD) isn't a big deal
[07:58:52] <strcat> eddyb: technically it's async at a low-level (interrupts) but it doesn't really map cheaply to userland in any way
[07:59:07] <mcpherrin> I am sad at how slow hard drives are
[07:59:11] <eddyb> why isn't it cheap :)?
[07:59:16] <strcat> mcpherrin: SSDs are sane though :)
[07:59:36] <strcat> 100 ops/s -> 100k ops/s on consumer hw
[07:59:37] <mcpherrin> strcat: yeah, I have freed myself of spinning rust in all the machines I use interactively
[07:59:38] <eddyb> strcat: though I somehow doubt I'll find a revelation in this conversation, other than an improbable crazy idea
[07:59:46] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[08:00:03] <strcat> eddyb: because you need to keep track of state
[08:00:05] <strcat> and buffers
[08:00:15] *** Quits: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net) (Quit: killerswan)
[08:00:19] <strcat> non-blocking sockets are really lightweight
[08:00:26] <strcat> you're just getting ready notifications and doing work ASAP
[08:00:27] <eddyb> so what if, say, libuv and the kernel side were merged?
[08:00:34] <strcat> no extra memory allocations, or indirection
[08:00:57] <strcat> eddyb: high-level async can't ever be as fast, because it is filling buffers for you
[08:00:58] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[08:01:04] <eddyb> the kernel already has to do management, merge that with user-side management
[08:01:08] <strcat> it's doing a 600 byte read, then a 1024 byte one, now 20 bytes, 30 bytes
[08:01:15] <strcat> finally, when it fills a buffer it passes it to your callback
[08:01:23] <strcat> that means memory overhead, indirection, etc.
[08:01:31] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[08:01:33] <strcat> completion notifications aren't free
[08:01:52] <strcat> eddyb: it's not really about that
[08:01:58] <strcat> eddyb: the linux kernel does have AIO
[08:02:01] <strcat> it's just that no one uses it
[08:02:07] <strcat> they could use it, it works well
[08:02:07] <eddyb> but maybe AIO is bad
[08:02:20] <strcat> eddyb: non-blocking sockets are a necessary evil
[08:02:22] <eddyb> maybe the entire linux kernel is riddled with design flaws
[08:02:26] <strcat> huh?
[08:02:33] <Ke> =D
[08:02:35] <strcat> ideally, everything could use sync I/O and threads
[08:02:39] * Ke hugs eddyb 
[08:02:40] <strcat> it's simple, it's easier to secure
[08:02:47] <Ke> and yes they all are
[08:02:52] <strcat> simpler mental model, simpler kernel<->userland API
[08:03:05] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[08:03:12] <strcat> so yes, atm you do need non-blocking sockets to scale
[08:03:15] <strcat> it's much lighter per client
[08:03:24] <strcat> so especially when you have long-lived idle connections, you *need* it
[08:03:41] <strcat> but down the road? I can't see why you'd need it in the future
[08:04:02] <eddyb> so... OS-level green threads is the answer?
[08:04:11] <strcat> eddyb: why green threads?
[08:04:14] <eddyb> or just make threads cheaper in general
[08:04:19] <strcat> threads are pretty cheap
[08:04:21] <eddyb> but that doesn't sound easy at all
[08:04:31] <strcat> eddyb: rust's green threads are not 'lighter' than OS threads
[08:04:35] <strcat> the stack is the significant cost
[08:04:46] <mcpherrin> arguably the stack is *most* of the cost
[08:04:49] <strcat> and it's not incredibly significant since it's just something like 8K at the start
[08:04:58] <strcat> if that's too much
[08:05:03] <strcat> then you need non-blocking sockets anyway
[08:05:05] <mcpherrin> unless you can make context switches significantly faster (and I don't think they are?)
[08:05:13] <strcat> mcpherrin: they are pretty fast on x86_64
[08:05:21] <strcat> and they are fast on ARM
[08:05:28] <eddyb> hmmm
[08:05:35] <strcat> mcpherrin: the context switch itself is an insignificant cost
[08:05:43] <strcat> mcpherrin: the cost you can actually notice is the scheduling cost
[08:05:57] <strcat> fair scheduling isn't free
[08:06:00] <eddyb> strcat: what if you reify Rust functions *post-optimization*?
[08:06:06] <eddyb> can you even do that with LLVM?
[08:06:12] <mcpherrin> strcat: eugh RTOS schedulers are much nicer for that :P
[08:06:27] <mcpherrin> operating systems gettin' all fancy on me
[08:06:27] <strcat> mcpherrin: well linux has different schedulers, you can use FIFO/RR which is 'free'
[08:06:30] *** pmoore|away is now known as pmoore
[08:06:40] <strcat> or use SCHED_BATCH, which just doesn't care as much so it's cheaper
[08:06:48] <mcpherrin> strcat: fixed time slices are my funny favourite
[08:06:48] <strcat> longer time slices, less worries about latency
[08:07:02] <mcpherrin> Max N processes, each of which gets 1/N clock cycles
[08:07:06] <strcat> mcpherrin: google wants to land user-mode scheduling upstream
[08:07:12] <strcat> which is 1:1 threading, but without automatic context switches
[08:07:16] <strcat> no scheduling overhead
[08:07:23] <mcpherrin> oh that could be shiny
[08:07:26] *** pmoore is now known as pmoore|buildduty
[08:07:29] <strcat> mcpherrin: windows has it
[08:07:36] * mcpherrin doesn't know much about windows
[08:07:38] <strcat> it context switches on a blocking syscall or a page fault
[08:07:43] <strcat> but never preempts
[08:07:51] <strcat> and it doesn't do scheduling itself
[08:07:53] <strcat> you do it in userland
[08:07:57] <strcat> since that's the expensive part.
[08:08:06] <eddyb> strcat: sooo, I know we dropped segmented stacks
[08:08:10] <strcat> avoiding context switches is more about avoiding scheduling work than actually avoiding context switches
[08:08:27] <eddyb> strcat: but what if we required native tasks for C calls
[08:08:42] <strcat> eddyb: why bother?
[08:08:50] <strcat> eddyb: M:N threading isn't really any cheaper on resources
[08:08:58] <strcat> it's not a competitor with non-blocking sockets
[08:09:09] <eddyb> strcat: and try to bound the stack sizes for green tasks
[08:09:19] <strcat> a 32K stack and an 8MiB stack both start off consuming 4-8K
[08:09:40] <strcat> if you want it below 8K you can't have a guard page
[08:09:59] <eddyb> I'm talking about statically checking it
[08:10:08] <eddyb> and then using some sort of allocator
[08:10:11] *** Joins: jviereck (Adium@moz-B9C0530E.ethz.ch)
[08:10:11] <strcat> you can't can't statically check it
[08:10:14] <strcat> in rust
[08:10:19] <strcat> function pointers, closures, trait objects
[08:10:22] <strcat> recursion
[08:10:24] <strcat> not possible.
[08:10:44] <strcat> imo there's really not a problem to solve
[08:10:48] <eddyb> you'd deny those (post optimizations) from getting this scheme
[08:11:08] <eddyb> OS threads with tiny stacks
[08:11:19] <eddyb> and no overhead when entering each function
[08:11:56] <strcat> CPU bound work doesn't want a stack per task at all
[08:12:07] <strcat> you only ever want that if you have a blocking I/O API
[08:12:17] <strcat> if you care about perf, you're not using a blocking I/O API
[08:12:22] <strcat> pretty much end of story imo
[08:12:38] <eddyb> but you said OS threads + blocking was the way to go
[08:12:46] <strcat> yes, it is
[08:13:28] <strcat> if it uses too many resources per client then you should really just be using non-blocking sockets
[08:13:35] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Client exited)
[08:13:39] <eddyb> maybe I should just give up as "I don't understand this"
[08:13:45] <strcat> a blocking I/O API isn't going to be any lighter on resources, no matter how you spin it 
[08:13:54] <strcat> it can spend less time doing scheduling
[08:13:55] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[08:14:02] <strcat> but it won't cost less memory
[08:14:10] <strcat> unless you actually get stacks below 4K
[08:14:22] <strcat> and abandon the libuv style buffer handling
[08:14:37] <strcat> considering that libuv uses something like 64K buffers by default...
[08:14:41] <eddyb> LOL
[08:15:19] <strcat> eddyb: if you ask a blocking API built on non-blocking sockets to read 2MiB
[08:15:24] <strcat> it has to allocate a 2MiB buffer
[08:15:27] <strcat> and keep reading into it
[08:15:28] *** Quits: jviereck (Adium@moz-B9C0530E.ethz.ch) (Quit: Leaving.)
[08:15:49] <strcat> and then pass it to you
[08:16:08] <strcat> and there's probably going to be another copy somewhere, if you're using libuv
[08:16:48] <strcat> eddyb: with non-blocking sockets, you just have a loop and you get ready events where you read with non-blocking calls
[08:17:06] <strcat> so the overhead is the fd per connection and the minimal epoll/kqueue overhead
[08:17:16] *** Joins: bvssvni (Mibbit@moz-A47B6F8E.bb.online.no)
[08:17:27] <strcat> you might not even need a buffer
[08:17:29] *** Joins: alonlevy (alon@AFE3EDDC.8D14DBA6.E3D28531.IP)
[08:17:43] <strcat> if all you do is proxy data along, you don't need buffers. you can splice
[08:17:54] <strcat> which just has the kernel do it
[08:17:57] <eddyb> how would that work?
[08:18:04] <strcat> you tell the kernel to copy from one fd to another
[08:18:11] <eddyb> ah
[08:18:24] *** Quits: kris (kris@moz-6D20263F.fullrate.dk) (Ping timeout)
[08:18:26] <strcat> otherwise you're copying everything in chunks from the kernel to userland
[08:18:29] <strcat> or the other way
[08:18:43] <strcat> memory maps files and stuff like sendfile/splice avoid this
[08:18:46] <strcat> mapped*
[08:18:50] <eddyb> hmm, why copy?
[08:19:00] <strcat> read(buffer, size)
[08:19:03] <strcat> that's a copy
[08:19:20] <strcat> the kernel has to receive it and copy it to userland
[08:19:27] <strcat> you don't share address space with the kernel
[08:19:38] <eddyb> what if you had an API that mapped buffers into your space? maybe that wouldn't do anything mmap can't :/
[08:19:54] <strcat> eddyb: there are a lot of safety concerns
[08:20:27] <strcat> can't just share memory with the kernel
[08:20:42] <strcat> eddyb: that's why a lot of work goes into stuff like dmabuf (dri), memfd (kdbus)
[08:20:49] <eddyb> (ignoring a safe subset of Rust)
[08:20:52] <strcat> and why there are APIs like splice
[08:20:55] <strcat> and sendfile
[08:20:57] <strcat> and mmap
[08:21:20] <strcat> eddyb: for example, lets say you have a child process and you want to pipe data from it to a socket
[08:21:28] <strcat> you can make an event loop with epoll
[08:21:36] <strcat> it will get woken up any time there is data
[08:21:57] <strcat> and you can read it, and write it out
[08:22:00] <strcat> *or*
[08:22:03] <strcat> you can just splice it
[08:22:20] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[08:23:12] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[08:23:17] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[08:23:58] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[08:24:00] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:24:01] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[08:24:26] <eddyb> strcat: so, uhm, can you have more efficient high-level file IO using only mmap instead of using only blocking syscalls?
[08:24:34] <strcat> yes
[08:24:37] <strcat> it's also higher level
[08:24:39] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[08:24:42] <strcat> since you can use the file as an array
[08:24:57] <eddyb> is there any language/library that does this?
[08:25:35] <strcat> languages expose memory mapped files as an API
[08:25:37] <yorhel> Is it sanely possible to handle I/O errors in a threaded application when using mmap?
[08:26:25] <eddyb> strcat: right. but what about a non-memory-mapped-specific API?
[08:26:28] <strcat> yorhel: you can do sane signal handling in a multithreaded program on linux
[08:26:39] <strcat> eddyb: well, I don't know what you mean by that
[08:26:49] <strcat> an API for memory mapped files will be inherently higher level
[08:27:00] <strcat> you have the file as an array
[08:27:03] *** Joins: huon (Thunderbir@moz-7CC720CF.lns20.syd7.internode.on.net)
[08:27:03] *** ChanServ sets mode: +o huon
[08:27:06] <strcat> you aren't reading chunks into a buffer
[08:27:12] <strcat> you're using VM
[08:27:44] *** Quits: mgottschlag (quassel@moz-C9007C38.cust.bluewin.ch) (Ping timeout)
[08:27:48] <yorhel> strcat: You can? I've tried to look into using mmap in C some time ago, but proper error handling seemed rather complex/unportable
[08:28:03] <strcat> yorhel: well I'm not really talking about portable code
[08:28:12] <strcat> POSIX doesn't provide a portable way to close a file
[08:28:18] <strcat> you're hopeless if it needs to be portable
[08:28:33] <eddyb> I guess I was aiming for "language which uses mmap as its default file IO API" which sounds less probable
[08:28:34] <strcat> close(fd) -> EINTR, what do you do? HP-UX guarantees the file is still open, Linux/FreeBSD guarantee it is closed
[08:29:02] <strcat> (and you can't check, since another fd will reuse that number in a multithreaded program)
[08:29:20] <yorhel> strcat: Yeah, I'm aware. Portability and correctness aren't an easy subject. mmap makes that even worse :(
[08:29:46] *** Quits: patpat (patpat@moz-1599AAE4.as13285.net) (Ping timeout)
[08:29:53] <strcat> yorhel: on linux you can put signal handling into an event loop with signalfd, and handle them synchronously
[08:30:01] <strcat> but without missing them as you might with the POSIX sync APIs for it
[08:30:16] <strcat> elsewhere? I have no idea what you do
[08:31:26] * strcat doubts there is a correct way to use stuff like sigwait/pthread_sigmask in a portable context
[08:33:56] <mgax> how do i convert *std::libc::c_char to str?
[08:35:06] <strcat> is it null-terminated or do you have a length?
[08:35:31] <mgax> strcat, never mind, i found std::str::raw::from_c_str :)
[08:35:38] <mgax> it's null terminated indeed
[08:35:44] *** Quits: bvssvni (Mibbit@moz-A47B6F8E.bb.online.no) (Quit: http://www.mibbit.com ajax IRC Client)
[08:36:01] *** Joins: bvssvni (Mibbit@moz-A47B6F8E.bb.online.no)
[08:36:02] *** Joins: oberstet (quassel@moz-10D9113D.dynamic.mnet-online.de)
[08:38:58] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Input/output error)
[08:39:02] *** Joins: skade (skade@B4A5FE21.505237C9.CAE22B62.IP)
[08:39:14] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:39:15] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:39:30] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[08:39:36] *** Joins: dmsky (dmsky@moz-63A2E3E4.pppoe.spdop.ru)
[08:40:02] <huon> mgax: std::c_str::CString is a good way to do it too
[08:40:09] <huon> (it's probably the better way)
[08:40:34] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[08:40:50] <huon> CString::new(buffer, false).as_str() gives you an Option<&str>
[08:41:12] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[08:42:16] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[08:44:37] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[08:45:03] *** Joins: [squiddy] (squiddy@moz-686F69E9.dip0.t-ipconnect.de)
[08:46:23] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[08:49:04] *** Joins: doener (bs@moz-AA189A5A.unitymedia.biz)
[08:49:06] *** Joins: arturo (Thunderbir@moz-E83B14F0.superkabel.de)
[08:51:26] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[08:53:07] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Ping timeout)
[08:54:40] *** Joins: kris (kris@moz-147EE6DF.diku.dk)
[08:56:04] *** Joins: mihneadb (mihneadb@moz-6B31F5AA.static.ziggozakelijk.nl)
[08:56:08] *** Quits: wilmoore (wilmoore@moz-4EF3CEBC.hsd1.co.comcast.net) (Ping timeout)
[08:58:09] *** Joins: W0rmDr1nk (wormdrink@5451F9BD.52135167.A77EFE04.IP)
[08:59:52] *** Quits: james4k (james@moz-9BB5AE72.consolidated.net) (Ping timeout)
[09:01:20] *** Joins: leowoe (Leo@moz-D22372AD.dip0.t-ipconnect.de)
[09:04:31] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[09:06:03] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Client exited)
[09:06:20] *** Quits: dherman (dherman@moz-705E7FCC.static.twtelecom.net) (Quit: dherman)
[09:07:25] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[09:07:25] *** Joins: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net)
[09:08:48] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[09:09:09] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[09:09:19] *** Quits: fhahn (fhahn@moz-7924DB5C.vie.surfer.at) (Ping timeout)
[09:10:55] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Ping timeout)
[09:12:11] *** Joins: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP)
[09:14:33] *** Quits: luz (lu.cy@moz-CD18B14B.customer.cdi.no) (Connection reset by peer)
[09:16:37] *** Joins: fhahn (fhahn@moz-7924DB5C.vie.surfer.at)
[09:18:35] *** Quits: io2 (io2@moz-EE406A5.home.otenet.gr) (Quit: )
[09:19:14] *** Joins: Zr40 (zr40@EE4BB9F5.926C319A.BE2F4011.IP)
[09:19:31] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[09:19:43] *** Joins: io2 (io2@moz-EE406A5.home.otenet.gr)
[09:24:33] *** Joins: gavinb (gavinb@moz-9EC182F0.lowrp3.vic.optusnet.com.au)
[09:27:06] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Quit: TheHydroImpulse)
[09:27:12] *** Joins: luz (lu.cy@moz-CD18B14B.customer.cdi.no)
[09:27:30] *** Joins: vgeddes (vincent.ge@moz-B8710259.access.mtnbusiness.co.za)
[09:27:59] *** Joins: patpat (patpat@4DD92C82.933C45AA.98F3E2B5.IP)
[09:28:15] *** Quits: dmsky (dmsky@moz-63A2E3E4.pppoe.spdop.ru) (Input/output error)
[09:32:14] *** Quits: p1start (rewi@moz-E7F3D014.org) (Ping timeout)
[09:33:24] *** Quits: leowoe (Leo@moz-D22372AD.dip0.t-ipconnect.de) (Quit: Leaving.)
[09:37:30] *** Quits: alonlevy (alon@AFE3EDDC.8D14DBA6.E3D28531.IP) (Ping timeout)
[09:38:19] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[09:38:45] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[09:40:08] *** Quits: vgeddes (vincent.ge@moz-B8710259.access.mtnbusiness.co.za) (Connection reset by peer)
[09:40:33] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[09:41:09] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[09:41:10] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[09:41:11] *** pmoore|buildduty is now known as pmoore|away
[09:42:57] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[09:43:22] *** Quits: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com) (Ping timeout)
[09:44:09] *** Joins: soumyaC (uid15286@moz-E77DEB21.irccloud.com)
[09:44:53] *** Joins: yota (sdouche@moz-7D878FB8.securactive.net)
[09:45:20] *** Joins: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com)
[09:45:25] *** Joins: alonlevy (alon@AFE3EDDC.8D14DBA6.E3D28531.IP)
[09:46:14] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.3)
[09:46:33] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[09:46:33] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[09:48:56] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[09:50:33] *** Joins: vgeddes (vincent.ge@moz-B8710259.access.mtnbusiness.co.za)
[09:51:18] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[09:52:16] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[09:53:59] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Ping timeout)
[09:56:51] *** pmoore|away is now known as pmoore
[09:57:44] *** pmoore is now known as pmoore|buildduty
[09:57:47] *** Joins: dmsky (dmsky@moz-63A2E3E4.pppoe.spdop.ru)
[09:58:10] *** Joins: cptroot (Mibbit@moz-4F146589.caltech.edu)
[09:58:15] <cptroot> Quick question
[09:58:19] <doomlord_> how many loc is the rust compiler these days
[09:58:42] <cptroot> How would one pattern match over std::os::args
[09:58:54] <huon> doomlord_: 300k-400k-ish
[09:58:56] <huon> cptroot: you can't
[09:59:15] <cptroot> Could you pattern match individual arguments?
[09:59:15] <eddyb> huon: isn't it &[&str]?
[09:59:20] <huon> (well, you can pattern match on length/elements, but not the values of the elements
[09:59:21] <huon> )
[09:59:22] <cptroot> ~[~str]
[09:59:24] <eddyb> maybe not, I should check
[09:59:26] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[09:59:54] <eddyb> cptroot: if you want clean handling of arguments, take a look at hammer
[09:59:58] <cptroot> I'm getting the bug: mismatched types: expected `~str` but found `&'static str`
[10:00:06] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[10:00:11] <eddyb> it's not a bug, just an error :)
[10:00:22] <cptroot> ...
[10:00:28] *** Joins: jensnock_ (jensnocker@moz-33279404.customers.ownit.se)
[10:00:36] <cptroot> Is there a way to resolve the error? It looks like a type problem to me
[10:01:00] <cptroot> Currently, I'm iterating with for arg in args().iter(), and matching with match arg as str
[10:01:12] <eddyb> cptroot: arg.as_slice()
[10:01:24] <eddyb> that will give you a &str that you can match on
[10:01:31] <cptroot> ah
[10:01:35] <cptroot> Much obliged
[10:02:15] *** Quits: jensnock_ (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[10:04:06] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[10:04:32] <eddyb> cptroot: see the hammer mention here https://gist.github.com/wycats/9678784
[10:04:53] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[10:05:09] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[10:06:32] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[10:06:36] <cptroot> eddyb: I'll keep it in mind for when I have more than two flags. Thanks for the reminder.
[10:08:19] *** Joins: heftig (heftig@moz-33D186ED.unitymedia.biz)
[10:09:08] *** Quits: alexherbo2 (alexherbo2@moz-AB6EB255.ip-91-121-133.eu) (Ping timeout)
[10:10:37] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[10:11:19] *** Quits: alonlevy (alon@AFE3EDDC.8D14DBA6.E3D28531.IP) (Ping timeout)
[10:12:58] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[10:13:29] *** jorendorff_away is now known as jorendorff
[10:14:41] *** Quits: vgeddes (vincent.ge@moz-B8710259.access.mtnbusiness.co.za) (Connection reset by peer)
[10:17:22] *** Joins: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP)
[10:17:56] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[10:18:10] *** Quits: eholk (eholk@moz-40A3960F.tmodns.net) (Ping timeout)
[10:18:18] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[10:20:51] *** Joins: eholk (eholk@9F0E3073.6A9D8DF7.8FE2F0CE.IP)
[10:23:38] <cptroot> How would I pass an array into a function if I wanted to call arr.swap and have the change propagate to the caller?
[10:24:18] <huon> &mut [T]
[10:25:00] *** jorendorff is now known as jorendorff_away
[10:25:40] *** Quits: lpy (lpy@8B40CDAC.F09091A8.1348A864.IP) (Ping timeout)
[10:25:50] <cptroot> Thanks
[10:26:09] <cptroot> Didn't realize that &mut [T] is different from mut var: &[T]
[10:30:58] *** Joins: vmx (vmx@moz-B0D7BAF9.dip0.t-ipconnect.de)
[10:31:27] *** Joins: vgeddes (vincent.ge@moz-B8710259.access.mtnbusiness.co.za)
[10:32:35] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[10:34:44] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[10:36:26] *** Joins: eibwen (kvirc@moz-70651089.dip0.t-ipconnect.de)
[10:36:36] *** Joins: alonlevy (alon@AFE3EDDC.8D14DBA6.E3D28531.IP)
[10:38:41] *** Joins: alexherbo2 (alexherbo2@moz-AB6EB255.ip-91-121-133.eu)
[10:38:43] *** jorendorff_away is now known as jorendorff
[10:38:52] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[10:39:25] *** Joins: reverend_paco (chatzilla@moz-FDBE15EC.hsd1.ma.comcast.net)
[10:40:01] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[10:40:32] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[10:41:56] *** Quits: nomme (nomme@moz-FED8EFBC.a336.priv.bahnhof.se) (Ping timeout)
[10:41:58] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[10:42:21] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[10:43:42] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[10:44:19] *** Joins: Kynes (Kynes@moz-3DC6C6E7.mit.edu)
[10:44:33] *** Quits: cptroot (Mibbit@moz-4F146589.caltech.edu) (Quit: http://www.mibbit.com ajax IRC Client)
[10:47:15] *** Quits: richard|s_ (mindginati@6EF58C93.2D0B0980.6400445B.IP) (Ping timeout)
[10:47:30] *** Joins: richard|s_ (mindginati@moz-3F00AA22.dyn.cust.vf.net.nz)
[10:50:39] *** Quits: mno2 (mno2@E1E0A0A3.621D86F0.CFF65E33.IP) (Quit: mno2)
[10:51:52] *** Quits: patpat (patpat@4DD92C82.933C45AA.98F3E2B5.IP) (Ping timeout)
[10:52:58] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[10:54:08] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[10:54:40] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Ping timeout)
[10:56:16] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[10:57:49] *** Quits: alonlevy (alon@AFE3EDDC.8D14DBA6.E3D28531.IP) (Connection reset by peer)
[10:58:59] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Quit: rcirc on GNU Emacs 24.3.50.1)
[11:03:22] *** Quits: oberstet (quassel@moz-10D9113D.dynamic.mnet-online.de) (Ping timeout)
[11:03:32] *** Joins: oberstet (quassel@moz-F6A8382B.dynamic.mnet-online.de)
[11:04:05] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[11:04:29] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[11:05:41] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[11:06:25] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[11:10:14] *** Joins: qwerty_nor (Thunderbir@A5447B90.EDC74FC5.E19950A4.IP)
[11:10:16] *** Joins: redShadow (redShadow@9BDAF02B.D15F9219.1CCF65D9.IP)
[11:10:45] *** Joins: andre (andre@CA528A4A.45A4338E.8EE27E6.IP)
[11:10:59] *** Quits: aravindavk (aravinda@moz-BD0CADEE.redhat.com) (Ping timeout)
[11:11:14] *** Joins: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch)
[11:12:29] *** Quits: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP) (Connection reset by peer)
[11:15:33] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[11:16:16] *** Joins: koderok (Thunderbir@A3B2CD40.655F1C21.50E99975.IP)
[11:16:59] *** Quits: kvanb (kvanb@moz-1D7B51F2.lnse4.lon.bigpond.net.au) (Quit: kvanb)
[11:17:18] *** pmoore|buildduty is now known as pmoore|lunch
[11:17:30] *** pmoore|lunch is now known as pmoore|buildduty|lunch
[11:17:52] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[11:18:54] *** Joins: blank_name (blank_name@B7AFA74A.94CCB18F.53C6B850.IP)
[11:22:06] *** Quits: oberstet (quassel@moz-F6A8382B.dynamic.mnet-online.de) (Client exited)
[11:22:13] *** Quits: apollow (yellowy432@moz-DF01490A.lightspeed.sntcca.sbcglobal.net) (Ping timeout)
[11:23:15] <TheHydroImpulse> Any ideas on how to return a new struct within a syntax extension expander? Transforming a normal `struct Foo` to `ExprStruct`. 
[11:23:19] *** Joins: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net)
[11:24:05] <huon> TheHydroImpulse: one way is to quote, i.e. `quote_expr!(cx, Foo { bar: baz })`
[11:24:16] <huon> where cx is your ExtCtxt
[11:24:56] <huon> if you wish to substitute in e.g. the struct name, or one of the fields, you can write `$foo` where foo is a local variable with the appropriate type/value
[11:25:06] <TheHydroImpulse> huon oh Awesome. Didn’t know that worked with any value.
[11:25:09] <Yurume> (or any AstBuilder will work)
[11:25:22] <huon> AstBuilder is :(
[11:25:29] <TheHydroImpulse> Thanks. That worked
[11:25:36] <huon> it's basically only useful for libsyntax
[11:25:50] <huon> since quote_ works slightly well outside there (and is horrible inside libsyntax)
[11:26:00] <huon> but yeah, theoretically it works
[11:26:42] <huon> (oh, I guess if you want custom spans you can't really use quote either.)
[11:27:22] <TheHydroImpulse> Good to know
[11:27:35] *** Joins: aravindavk (aravinda@moz-BD0CADEE.redhat.com)
[11:30:14] *** Joins: nomme (nomme@moz-272A4570.na.cust.bahnhof.se)
[11:33:01] *** Quits: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net) (Quit: killerswan)
[11:33:06] *** Joins: Sorella (quildreen@89788746.FDF9B0F2.A95FAE2B.IP)
[11:34:05] *** Quits: oxum (anonymous@2A641664.9F275360.C28326FD.IP) (Quit: ...)
[11:34:44] *** Quits: vgeddes (vincent.ge@moz-B8710259.access.mtnbusiness.co.za) (Connection reset by peer)
[11:35:18] *** Joins: bjz_ (bjz@B398BE78.F804C29E.D35A31DF.IP)
[11:35:18] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[11:35:47] *** Quits: lessless (lessless@moz-F3755E99.emplot.net) (Ping timeout)
[11:36:12] *** Quits: benjamin_____ (benjamin@moz-78FA3DD4.dip0.t-ipconnect.de) (Ping timeout)
[11:37:37] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[11:37:53] *** Joins: lessless (lessless@moz-F3755E99.emplot.net)
[11:38:15] *** Quits: aravindavk (aravinda@moz-BD0CADEE.redhat.com) (Ping timeout)
[11:38:48] *** Joins: jaras (textual@1CDC5701.A48867D7.52E4E107.IP)
[11:39:07] *** Joins: alonlevy (alon@AFE3EDDC.8D14DBA6.E3D28531.IP)
[11:39:39] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[11:42:50] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[11:44:33] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[11:44:48] *** Joins: Munchor (munchor@moz-8CFC84AD.yourvserver.net)
[11:46:43] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Input/output error)
[11:47:53] *** Joins: vgeddes (vincent.ge@moz-B8710259.access.mtnbusiness.co.za)
[11:47:55] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[11:47:59] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Input/output error)
[11:48:08] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[11:51:43] *** Quits: Ferreus_ (ferreus@moz-798C3119.dip0.t-ipconnect.de) (Ping timeout)
[11:52:17] *** Quits: jaras (textual@1CDC5701.A48867D7.52E4E107.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[11:52:41] *** Joins: aravindavk (aravinda@moz-BD0CADEE.redhat.com)
[11:53:48] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[11:55:03] *** Joins: patpat (patpat@moz-1599AAE4.as13285.net)
[11:55:30] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Ping timeout)
[11:55:57] *** Joins: asmyers (quassel@1AED7747.A07F7734.FAA4474F.IP)
[11:57:11] *** Joins: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net)
[11:57:18] *** Quits: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch) (Quit: Leaving.)
[11:59:36] *** pmoore|buildduty|lunch is now known as pmoore
[11:59:41] *** pmoore is now known as pmoore|buildduty
[11:59:58] *** Joins: daschl (Adium@moz-848641AC.public.telering.at)
[12:01:21] *** Joins: jensnock_ (jensnocker@moz-33279404.customers.ownit.se)
[12:03:10] *** Quits: jensnock_ (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[12:03:15] *** Joins: bharadwaj (uid11995@moz-5F4AA75A.irccloud.com)
[12:04:06] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[12:05:01] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Input/output error)
[12:05:31] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[12:06:25] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[12:06:42] *** Joins: mib_a1gr1n (Mibbit@D1C4CEE8.407E93F8.C962A8F3.IP)
[12:07:17] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Ping timeout)
[12:08:00] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[12:08:05] <mib_a1gr1n> I'm compiling a freestanding PE-files... it is possible to disable __morestack calls?
[12:08:26] *** Joins: Ferreus_ (ferreus@moz-E2310A45.dip0.t-ipconnect.de)
[12:08:28] <strcat> mib_a1gr1n: https://github.com/thestinger/rust-core documents various workarounds in the README
[12:08:42] <strcat> but no, rustc can't disable it
[12:08:42] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[12:08:48] <strcat> as a hack you can generate code with clang from rustc's IR
[12:08:55] *** Quits: aravindavk (aravinda@moz-BD0CADEE.redhat.com) (Quit: Leaving)
[12:08:57] *** Joins: mye (mye@moz-4C61F066.dip0.t-ipconnect.de)
[12:09:24] <strcat> feel free to complain at https://github.com/mozilla/rust/issues/11871 ;p
[12:09:34] *** Joins: Earnestly (earnest@18162BE0.BA6AC103.30311652.IP)
[12:09:56] *** Joins: jaras (textual@1CDC5701.A48867D7.52E4E107.IP)
[12:13:36] *** Quits: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net) (Ping timeout)
[12:14:07] *** Joins: LU324 (asdf@moz-864C7465.dyn.embarqhsd.net)
[12:14:18] <mib_a1gr1n> I see... thanks, I'll try to build bitcode with clang then...
[12:18:04] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[12:20:29] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[12:22:35] *** Joins: oxum (anonymous@E548EC34.4CC1D574.520CDC98.IP)
[12:22:52] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[12:23:33] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[12:24:44] *** Quits: mihneadb (mihneadb@moz-6B31F5AA.static.ziggozakelijk.nl) (Quit: Computer gone to sleep - Zzzz...)
[12:25:20] *** Quits: patpat (patpat@moz-1599AAE4.as13285.net) (Quit: )
[12:26:30] <doomlord_> the need for int casts: i guess 'int' is an unpredictable size (32/64 bit, and i have use a platform where it it did something unexpected) .. would there be a case for an int type thats garanteed to be upward coercible.. the minimum of (natural machine word size, pointer size, and 32bits)
[12:27:30] <doomlord_> (such that this type is always safe to convert *to* array indices, but not always safe to get *from* pointer offsets and so on, and garanteed to be no bigger than32bits)..
[12:28:19] <doomlord_> (if you compiled rust for some crazy dsp with 16bit adress memory , it would be 16bits)
[12:29:11] *** Joins: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca)
[12:29:26] *** Quits: esummers (esummers@moz-3B015C90.wi.res.rr.com) (Connection reset by peer)
[12:31:59] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[12:33:55] *** Quits: andrewd18 (andrew@moz-DAC9D29F.wi.res.rr.com) (Quit: Leaving.)
[12:34:00] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[12:34:41] *** Joins: leowoe (Leo@moz-D22372AD.dip0.t-ipconnect.de)
[12:34:48] *** Quits: not_gavin (gavin@gavinsharp.com) (Input/output error)
[12:35:05] *** Joins: not_gavin (gavin@gavinsharp.com)
[12:35:54] *** Quits: mib_a1gr1n (Mibbit@D1C4CEE8.407E93F8.C962A8F3.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[12:36:16] *** Joins: Ms2ger (Ms2ger@B7B2FF50.C60A97A6.F9FB0584.IP)
[12:38:17] *** Quits: gavinb (gavinb@moz-9EC182F0.lowrp3.vic.optusnet.com.au) (Quit: gavinb)
[12:40:09] *** Joins: lpy (lpy@F3793011.25165A39.3F03179E.IP)
[12:41:04] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[12:41:45] *** Quits: not_gavin (gavin@gavinsharp.com) (Input/output error)
[12:42:00] *** Quits: lpy (lpy@F3793011.25165A39.3F03179E.IP) (Client exited)
[12:42:02] *** Joins: not_gavin (gavin@gavinsharp.com)
[12:42:36] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[12:42:47] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[12:43:25] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[12:44:40] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[12:45:11] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[12:47:36] <kimundi> doomlord_: int/uint isn't unpredictable: its exactly machine word size.
[12:47:45] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[12:47:51] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[12:48:32] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[12:49:18] *** Quits: not_gavin (gavin@gavinsharp.com) (Input/output error)
[12:49:20] <huon> (it's the same as C's uintptr_t, that is.)
[12:49:35] *** Joins: not_gavin (gavin@gavinsharp.com)
[12:49:38] <eddyb> kimundi: that may not be accurate
[12:50:03] <eddyb> "machine word" could be considered 64-bit on x32 where a pointer (and thus uint) has 32 bits
[12:50:09] <strcat> kimundi: word size isn't really a meaningful term
[12:50:21] <strcat> eddyb: but what about the 256-bit AVX registers
[12:50:29] <eddyb> haha
[12:50:48] <strcat> x86/x86_64 assembly refers to a word as 16-bit
[12:51:10] <strcat> 64-bit is q (quad word)
[12:51:16] *** Joins: abinader (sid21713@moz-A42E5B7B.irccloud.com)
[12:51:27] *** Joins: patpat (patpat@moz-1599AAE4.as13285.net)
[12:54:23] *** Quits: koderok (Thunderbir@A3B2CD40.655F1C21.50E99975.IP) (Ping timeout)
[12:54:24] *** Joins: nkoep (nik@moz-62C85C4A.pool.mediaways.net)
[12:54:33] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[12:56:16] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Ping timeout)
[12:58:35] *** Joins: koderok (Thunderbir@A3B2CD40.655F1C21.50E99975.IP)
[12:59:20] *** Quits: alonlevy (alon@AFE3EDDC.8D14DBA6.E3D28531.IP) (Ping timeout)
[12:59:27] *** Joins: benjamin_____ (benjamin@moz-78FA3DD4.dip0.t-ipconnect.de)
[13:02:54] <doomlord_> kimundi when i say unpredictable - i mean *between* platforms
[13:03:24] <doomlord_> (which is why i realise you do want to be careful about conversions)
[13:03:43] <eddyb> pointer offsets to uint should  be fine
[13:03:51] <eddyb> since uint is pointer-sized
[13:04:07] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[13:04:12] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[13:05:23] <doomlord_> i'm not sure i can even remember the exact defintion but its' like c seems to have ended up with short and long from an era of 16/32bit machnies
[13:06:20] <bvssvni> I love how Rust does it, u64 and you know it has 64 bits
[13:06:42] <doomlord_> yeah most of the time we made those types ourselves..
[13:07:26] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[13:08:21] *** Quits: StarLight (StarLight@moz-D7C19C92.dynamic.avangarddsl.ru) (Ping timeout)
[13:12:24] *** Joins: StarLight (StarLight@moz-6BA765D0.pppoe.avangarddsl.ru)
[13:13:43] <doomlord_> the type ihave in mind is going to be 32bits just about everywhere, but its not safe to say 'its 32bits' because the definition is .. safe to use as a pointer offset (incase you want to compile on some weird processor with 24bit adress or something)
[13:14:14] <doomlord_> ^ minimum of( 32bits,   pointer size,   machine word)
[13:14:35] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.3)
[13:14:46] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[13:14:46] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[13:14:56] <eddyb> doomlord_: so min(u32, uint)?
[13:15:04] <eddyb> maybe you mean maximum?
[13:15:41] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[13:15:50] <doomlord_> minimum; if the machine word was smaller, you'd want this smaller
[13:16:27] *** Joins: turon (Mibbit@moz-DB4D8D65.mpi-sws.org)
[13:16:40] <eddyb> and you don't want it to be u64 on x64?
[13:16:43] <doomlord_> no
[13:16:59] <doomlord_> i mean yes i dont want it to be u64 on x64 yes :) there's "int" for that
[13:18:06] *** jorendorff is now known as jorendorff_away
[13:18:19] <eddyb> if only we could do #[cfg(target_word_size > 32)] type Idx = u32; #[cfg(target_word_size <= 32)] type Idx = uint;
[13:18:24] *** Quits: reverend_paco (chatzilla@moz-FDBE15EC.hsd1.ma.comcast.net) (Ping timeout)
[13:18:26] <eddyb> though "target_word_size" is a misnomer
[13:18:49] <doomlord_> at the minute i32 is pretty safe for the niche i mean, i dont have a use case outside of that.
[13:19:36] *** jorendorff_away is now known as jorendorff
[13:19:43] *** Quits: turon (Mibbit@moz-DB4D8D65.mpi-sws.org) (Quit: http://www.mibbit.com ajax IRC Client)
[13:20:11] <doomlord_> on IRC i've had language lawyers set me straight on the asumption that char=8bits in C :)
[13:20:24] <doomlord_> (with reference to dsps)
[13:20:44] <doomlord_> i've already discovered rust char isnt
[13:21:41] <eddyb> Rust char is uc21
[13:21:49] <eddyb> subject to future bit packing optimizations
[13:21:57] <strcat> doomlord_: POSIX says it's 8, if that's your target
[13:21:58] *** Parts: IanCormac84 (User@DAEC9180.2A8D8854.67DFF8B4.IP) ()
[13:22:39] <bvssvni> eddyb: it takes 21 bits?
[13:22:51] <eddyb> bvssvni: as per latest Unicode standard, AFAIK
[13:23:05] <bvssvni> eddyb: interesting
[13:23:55] *** Quits: koderok (Thunderbir@A3B2CD40.655F1C21.50E99975.IP) (Ping timeout)
[13:24:36] <kimundi> Rusts `char` is conceptually very different from C's `char`
[13:25:40] <strcat> eddyb: it won't ever get bigger
[13:25:48] <kimundi> It contains a unicode scalar value, which means it covers the 21 bit range of all valid codepoints, which means its usually a 32 integer.
[13:25:58] *** Quits: cschneid (cschneid@moz-621ACC77.hlrn.qwest.net) (Client exited)
[13:26:03] <strcat> a 21-bit range with a gap
[13:26:09] <strcat> not all code points are valid unicode scalar values
[13:26:10] <kimundi> yeah
[13:26:14] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[13:26:30] <strcat> well, 2 gaps
[13:26:51] <kimundi> its big enough for all possible codepoints, but is not defined as containing all possible codepoints
[13:27:09] <huon> strcat: 2?
[13:27:30] <huon> (you mean the upper and lower surrogates... which are contiguous?)
[13:27:56] <kimundi> eddyb: Those cfg things look like they could be easily hacked into the language though... :P
[13:27:58] <strcat> yeah I guess saying that doesn't really make sense ;]
[13:28:02] *** Joins: lpy (lpy@8B40CDAC.F09091A8.1348A864.IP)
[13:28:24] <kimundi> Btw, with current syntax extensions, do attributes have a "free" token tree grammar like attributes, or is it still restricted?
[13:28:28] <huon> strcat: this is #rust, sense is optional
[13:28:42] <huon> kimundi: attributes have a very similar grammar to attributes, yes
[13:28:44] <strcat> so I finally narrowed down a strange playpen bug
[13:28:46] <kimundi> Option<Sense>
[13:28:53] <strcat> splice to stdout is *sometimes* broken with vte.
[13:28:55] <strcat> only sometimes
[13:28:57] <huon> kimundi: (did you mean macros for the second one?)
[13:28:58] <kimundi> huon: derp, I meant macros
[13:29:02] <strcat> I guess I can't use splice ;p
[13:29:45] <huon> kimundi: nope, it's just `<attribute> = #[<metaitem>]` `<metaitem> = <ident> | <ident>(<metaitem>...) | <ident> = <literal>`
[13:29:49] <huon> (if that makes sense?)
[13:29:57] <kimundi> yeah, makes sense
[13:30:08] <huon> assert!(sense.is_some())
[13:31:06] <kimundi> I wonder if there would be value in defining it as
[13:31:07] *** Joins: gimpf (gimpf@moz-F444DB07.adsl.highway.telekom.at)
[13:31:14] <kimundi> `<attribute> = #[<metaitem>]` `<metaitem> = <ident> | <ident>(<tokentree>...) | <ident> = <literal>`
[13:31:52] <kimundi> #[foo(custom % syntax !! bar)]
[13:31:58] <huon> kimundi: RFC
[13:32:01] <kimundi> Yeah
[13:32:26] <huon> #[foo(fn bar() { baz(); })] fn qux() { quz() }
[13:32:41] <kimundi> I guess it also depends on wether we'd ever get rid of the []
[13:32:48] <kimundi> #foo(bar)
[13:33:59] <eddyb> basically a different kind of macro
[13:34:00] * huon likes the []
[13:35:04] *** Quits: limeburst (me@247D1419.D73964AC.27A8748.IP) (Ping timeout)
[13:37:17] *** Joins: alonlevy (alon@AFE3EDDC.8D14DBA6.E3D28531.IP)
[13:37:22] *** Quits: apoelstra (username@moz-B7040E82.vs.shawcable.net) (Ping timeout)
[13:37:32] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (services.mozilla.org (Too many invalid passwords))
[13:37:39] *** Joins: limeburst (me@247D1419.D73964AC.27A8748.IP)
[13:37:42] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[13:37:42] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[13:38:11] *** Joins: nszceta (nszceta@moz-E458A7C0.pharm.pitt.edu)
[13:38:39] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[13:38:39] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[13:38:59] <SiegeLord> [] makes it easy to parse... although #ident() isn't too hard either
[13:39:08] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[13:39:08] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[13:39:33] *** Joins: IanCormac84 (User@DAEC9180.2A8D8854.67DFF8B4.IP)
[13:40:09] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[13:40:09] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[13:40:27] <bvssvni> we'll have #![ident()] soon?
[13:40:39] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[13:40:39] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[13:40:45] *** Quits: LRN (LRN@moz-EA80C63C.nationalcablenetworks.ru) (Quit: Leaving.)
[13:40:52] <SiegeLord> #! already exists
[13:40:53] <kimundi> bvssvni: Yeah, afaik the syntax even landed already.
[13:41:02] <bvssvni> nice
[13:41:09] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[13:41:09] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[13:41:09] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[13:41:35] *** Joins: LRN (LRN@moz-EA80C63C.nationalcablenetworks.ru)
[13:41:40] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[13:41:40] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[13:42:04] <kimundi> Right now rustc accepts both #[]; and #![]; as inner attributes
[13:42:09] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[13:42:09] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[13:42:39] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[13:42:39] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[13:42:52] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[13:42:56] <SiegeLord> Hmm, hopefully #! didn't break the hash-bang initial comment
[13:43:09] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[13:43:09] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[13:43:59] *** Quits: Sorella (quildreen@89788746.FDF9B0F2.A95FAE2B.IP) (Ping timeout)
[13:44:09] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[13:44:09] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[13:44:13] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[13:44:39] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[13:44:39] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[13:45:09] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[13:45:10] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[13:45:36] *** Joins: Sorella (quildreen@AA4589ED.97245BEB.1ED99692.IP)
[13:45:39] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[13:45:39] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[13:45:55] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[13:46:07] *** Joins: koderok (Thunderbir@A3B2CD40.655F1C21.50E99975.IP)
[13:46:09] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[13:46:09] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[13:46:19] *** Joins: nano (nano@moz-ED77243C.superkabel.de)
[13:46:28] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[13:47:08] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[13:47:09] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[13:47:09] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[13:47:36] <bvssvni> does somebody got problems with inflate (libflate) on OSX?
[13:47:39] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[13:47:39] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[13:47:41] <SiegeLord> It did, lol
[13:47:56] *** Joins: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch)
[13:48:09] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[13:48:09] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[13:48:24] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[13:48:40] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[13:48:40] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[13:48:55] <SiegeLord> #![] is treated as as an attribute even if it's the first line in the file
[13:49:09] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[13:49:09] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[13:49:17] *** Quits: jaras (textual@1CDC5701.A48867D7.52E4E107.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[13:49:35] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[13:50:00] *** Joins: janra (Janus@1CDC5701.A48867D7.52E4E107.IP)
[13:50:02] <bvssvni> SiegeLord: are you thinking about #!/bin/bash etc. ?
[13:50:09] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[13:50:09] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[13:50:10] <SiegeLord> Yes
[13:50:39] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Ping timeout)
[13:50:40] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[13:50:40] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[13:51:09] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[13:51:09] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[13:51:22] *** Quits: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[13:51:29] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[13:51:38] <doomlord_> SiegeLord, do you use rust with geany, does it handle function argument hints
[13:51:54] <SiegeLord> What do you mean
[13:52:10] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[13:52:10] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[13:52:40] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[13:52:40] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[13:52:40] <doomlord_> when you type a function name, does it display the arguments in a popup
[13:52:56] <SiegeLord> Yes
[13:53:06] *** Joins: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net)
[13:53:07] *** Joins: dschatzberg (dschatzber@moz-E2680405.bu.edu)
[13:53:10] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[13:53:10] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[13:53:11] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Ping timeout)
[13:53:19] *** Joins: paraze (paraze@moz-96380A71.w86-209.abo.wanadoo.fr)
[13:53:40] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[13:53:40] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[13:54:10] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[13:54:10] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[13:54:39] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[13:55:19] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[13:55:20] <doomlord_> i dont expect it can resolve methods or anything, but can it divide the potential completions depending on if you start with a dot (fields & methods vs free functions and types)
[13:57:02] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Ping timeout)
[13:57:30] *** Quits: Sorella (quildreen@AA4589ED.97245BEB.1ED99692.IP) (Client exited)
[13:57:39] <SiegeLord> No
[13:57:48] *** Joins: reverend_paco (chatzilla@moz-15582D1B.dia.static.qwest.net)
[13:57:52] *** Quits: daschl (Adium@moz-848641AC.public.telering.at) (Quit: Leaving.)
[13:58:40] <SiegeLord> Somehow something like that works for C/C++ in it sometimes, but I'm not sure of the mechanics
[13:58:51] <SiegeLord> It's likely hardcoded somewhere inside it
[13:59:08] *** Quits: beifeng (Mibbit@284C36E7.3062CEC3.670EEFD.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[14:00:21] *** Joins: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com)
[14:01:17] *** Joins: six600110 (six600110@moz-9117A1DE.hsd1.il.comcast.net)
[14:01:24] *** Parts: six600110 (six600110@moz-9117A1DE.hsd1.il.comcast.net) (Ex-Chat)
[14:02:05] *** Joins: jensnock_ (jensnocker@moz-33279404.customers.ownit.se)
[14:03:25] *** jorendorff is now known as jorendorff_away
[14:03:53] *** Quits: jensnock_ (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[14:04:01] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[14:04:18] *** Joins: hjr3 (hradtke@moz-E952E90B.hsd1.or.comcast.net)
[14:04:30] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[14:04:44] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[14:04:53] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[14:05:13] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[14:06:00] *** Quits: hjr3 (hradtke@moz-E952E90B.hsd1.or.comcast.net) (Ping timeout)
[14:06:21] *** Joins: sunfish (chatzilla@13F2CEC5.7672369.D8E68FF6.IP)
[14:06:23] *** Joins: hjr3 (hradtke@moz-E952E90B.hsd1.or.comcast.net)
[14:07:07] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[14:07:36] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[14:08:01] *** Quits: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch) (Ping timeout)
[14:08:23] *** Joins: Sorella (quildreen@89788746.FDF9B0F2.A95FAE2B.IP)
[14:08:43] *** Joins: jviereck (Adium@moz-76612844.dynamic.hispeed.ch)
[14:09:52] *** Joins: esummers (esummers@moz-3B015C90.wi.res.rr.com)
[14:12:17] *** Joins: lpy_ (lpy@E44EE2C4.F09091A8.1348A864.IP)
[14:12:30] *** Quits: jviereck (Adium@moz-76612844.dynamic.hispeed.ch) (Quit: Leaving.)
[14:12:58] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[14:13:26] *** Quits: lpy (lpy@8B40CDAC.F09091A8.1348A864.IP) (Ping timeout)
[14:13:57] *** jorendorff_away is now known as jorendorff
[14:13:57] *** Quits: lpy_ (lpy@E44EE2C4.F09091A8.1348A864.IP) (Ping timeout)
[14:14:34] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[14:14:39] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Ping timeout)
[14:14:51] *** Quits: nszceta (nszceta@moz-E458A7C0.pharm.pitt.edu) (Quit: Textual IRC Client: www.textualapp.com)
[14:16:29] *** Quits: reverend_paco (chatzilla@moz-15582D1B.dia.static.qwest.net) (Ping timeout)
[14:17:21] <krdln> SiegeLord, doomlord_: Are you talking about Rust support in Geany? Is this real thing?
[14:17:35] *** Quits: ChrisOei (ChrisOei@moz-30D80888.hsd1.ca.comcast.net) (Ping timeout)
[14:17:41] <SiegeLord> Yes, Geany has about as good a Rust support as any other language it supports
[14:18:37] *** Joins: jackneill (jackneill@moz-AE64C353.pool.digikabel.hu)
[14:18:53] <krdln> hm, from when? I thought I had up-to-date version, but mine doesn't support
[14:19:12] *** Quits: jackneill (jackneill@moz-AE64C353.pool.digikabel.hu) (Quit: WeeChat 0.4.3)
[14:19:23] <SiegeLord> Need to use nightlies
[14:19:44] <SiegeLord> Or compile it yourself, naturally
[14:20:05] <krdln> SiegeLord: you mean geany's nightly, of course?
[14:20:09] <SiegeLord> Yes
[14:20:15] *** Joins: lawrence (lawrence@moz-F227B9DF.wireless.utoronto.ca)
[14:20:16] <Manishearth> http://static.rust-lang.org/ is down
[14:20:25] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[14:20:44] <Manishearth> eg http://static.rust-lang.org/doc/master/extra/enum_set/trait.CLike.html
[14:21:01] <krdln> SiegeLord: thank you very much! :) Now I can abandon nano
[14:21:14] <nano> lolwat
[14:21:21] <nano> dun abandon me pls
[14:21:22] <SiegeLord> You're too simple, nano
[14:21:45] *** Joins: vikstrous (v@13F2CEC5.7672369.D8E68FF6.IP)
[14:22:05] <huon> Manishearth: extra is gone
[14:22:14] <huon> Manishearth: http://static.rust-lang.org/doc/master/collections/enum_set/trait.CLike.html
[14:22:33] <Manishearth> ah, I see
[14:22:37] <huon> nano: you'll always have a special place in my heart
[14:22:40] *** Joins: jackneill (jackneill@moz-AE64C353.pool.digikabel.hu)
[14:23:46] <SiegeLord> I should probably try creating ctags for Rust's standard libraries and host them somewhere
[14:24:09] *** Joins: ChrisOei (ChrisOei@moz-40A6A7FC.mycingular.net)
[14:24:51] <SiegeLord> krdln: If you're compiling it yourself, I suggest applying this PR on top of it: https://github.com/geany/geany/pull/229
[14:26:58] <krdln> SiegeLord: ty, but maybe I should give nano another chance?
[14:27:38] <SiegeLord> That's a personal decision between you and nano
[14:27:55] <doomlord_> i like emacs generally because i've been able to bend it to my will with windowing ... but function arg hints would swing it
[14:30:28] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[14:30:49] *** Joins: Rym (y@1AFE98D6.BF54EC93.51C6DE68.IP)
[14:32:00] *** Quits: ChrisOei (ChrisOei@moz-40A6A7FC.mycingular.net) (Ping timeout)
[14:32:51] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[14:33:33] *** Joins: tigrou3tac (fabien@moz-6E2397FF.fbx.proxad.net)
[14:34:52] *** Joins: toshok_ (toshok@moz-96BF2AD6.hsd1.ca.comcast.net)
[14:34:52] *** Quits: nomme (nomme@moz-272A4570.na.cust.bahnhof.se) (Connection reset by peer)
[14:35:08] *** Quits: toshok_ (toshok@moz-96BF2AD6.hsd1.ca.comcast.net) (Quit: Textual IRC Client: http://www.textualapp.com/)
[14:36:03] *** Quits: alonlevy (alon@AFE3EDDC.8D14DBA6.E3D28531.IP) (Ping timeout)
[14:36:16] *** Joins: patpatter (patpat@moz-1599AAE4.as13285.net)
[14:36:33] *** Quits: patpat (patpat@moz-1599AAE4.as13285.net) (Ping timeout)
[14:38:27] *** Joins: jaras (textual@1CDC5701.A48867D7.52E4E107.IP)
[14:38:34] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[14:43:09] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[14:43:54] *** Joins: ChrisOei (ChrisOei@moz-40A6A7FC.mycingular.net)
[14:44:03] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[14:44:12] *** Joins: bjustin (bjustin@moz-8FC28563.sierrabravo.net)
[14:44:21] *** Joins: voxpopuli (fanservice@6B5292DD.598E1842.689607DE.IP)
[14:44:29] *** Joins: daschl (Adium@moz-DC6DE6E2.vie.surfer.at)
[14:45:05] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[14:45:08] *** Quits: daschl (Adium@moz-DC6DE6E2.vie.surfer.at) (Quit: Leaving.)
[14:46:50] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[14:47:22] *** Joins: philix (felipe@B6067347.BAD04C27.648674BD.IP)
[14:49:04] *** Quits: IanCormac84 (User@DAEC9180.2A8D8854.67DFF8B4.IP) (Quit: Leaving.)
[14:50:11] *** Joins: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP)
[14:50:23] *** Quits: bharadwaj (uid11995@moz-5F4AA75A.irccloud.com) (Quit: Connection closed for inactivity)
[14:50:54] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[14:51:15] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[14:51:28] *** Joins: nomme (nomme@moz-44F97EB.na.cust.bahnhof.se)
[14:52:40] *** Joins: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[14:53:03] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Ping timeout)
[14:54:32] *** Quits: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[14:55:53] *** Joins: cschneid (cschneid@moz-CA025D57.ip.mcleodusa.net)
[14:57:48] *** Quits: arturo (Thunderbir@moz-E83B14F0.superkabel.de) (Ping timeout)
[14:57:50] *** pmoore|buildduty is now known as pmoore|buildduty|brb
[14:58:33] *** Joins: dherman (dherman@moz-705E7FCC.static.twtelecom.net)
[14:58:33] *** ChanServ sets mode: +ao dherman dherman
[14:59:04] *** Quits: lawrence (lawrence@moz-F227B9DF.wireless.utoronto.ca) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[14:59:35] *** Quits: ChrisOei (ChrisOei@moz-40A6A7FC.mycingular.net) (Ping timeout)
[15:00:29] *** Joins: josh (josh@moz-C350AC70.hsd1.mn.comcast.net)
[15:02:53] <lessless> hey folks! is any out there a quality http library for rust? 
[15:03:21] *** Joins: benjamin_ (benjamin@moz-F6125F64.dip0.t-ipconnect.de)
[15:03:34] *** Joins: nszceta (nszceta@moz-73F23BD2.wireless.pitt.edu)
[15:04:07] *** Quits: benjamin_____ (benjamin@moz-78FA3DD4.dip0.t-ipconnect.de) (Ping timeout)
[15:04:08] *** Joins: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[15:04:29] <eddyb> lessless: other than rust-http?
[15:05:11] <eddyb> ChrisMorgan: heh? http://www.teepee.io/
[15:05:44] *** Joins: IanCormac84 (User@DAEC9180.2A8D8854.67DFF8B4.IP)
[15:05:55] *** Joins: mno2 (mno2@C9C55379.F9BA5024.DA359910.IP)
[15:06:31] *** Quits: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[15:06:34] *** Joins: lawrence (lawrence@moz-B549F6F1.wireless.utoronto.ca)
[15:06:44] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Ping timeout)
[15:06:49] *** Joins: NiccosSystem` (NiccosSyst@moz-ED196BB4.customer.lyse.net)
[15:06:52] *** Quits: NiccosSystem` (NiccosSyst@moz-ED196BB4.customer.lyse.net) (Quit: NiccosSystem`)
[15:06:58] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[15:07:03] *** Joins: daschl (Adium@moz-DC6DE6E2.vie.surfer.at)
[15:07:03] *** Joins: edwardw (edwardw@9366486F.7FC992B3.B3B412E5.IP)
[15:07:29] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[15:09:10] *** Quits: daschl (Adium@moz-DC6DE6E2.vie.surfer.at) (Quit: Leaving.)
[15:10:30] *** Quits: vgeddes (vincent.ge@moz-B8710259.access.mtnbusiness.co.za) (Ping timeout)
[15:10:59] *** Quits: Rym (y@1AFE98D6.BF54EC93.51C6DE68.IP) (Ping timeout)
[15:11:24] *** Joins: ChrisOei (ChrisOei@moz-53A9266A.blurb.com)
[15:11:34] <lessless> eddyb, is it an idiomatic rust code, a good one to learn from? 
[15:12:33] *** pmoore|buildduty|brb is now known as pmoore|buildduty
[15:13:17] *** Quits: koderok (Thunderbir@A3B2CD40.655F1C21.50E99975.IP) (Ping timeout)
[15:13:51] *** Joins: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[15:14:50] *** Quits: philix (felipe@B6067347.BAD04C27.648674BD.IP) (Ping timeout)
[15:15:10] *** Joins: philix (felipe@B6067347.BAD04C27.648674BD.IP)
[15:15:49] *** Quits: hjr3 (hradtke@moz-E952E90B.hsd1.or.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[15:16:14] *** Quits: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[15:16:46] *** Quits: murph (murph@moz-29F9DAC6.oracle.com) (Ping timeout)
[15:16:50] *** Joins: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca)
[15:17:24] *** Joins: koderok (Thunderbir@A3B2CD40.655F1C21.50E99975.IP)
[15:18:16] *** Joins: ganitsu (ganitsu@moz-551BFBA3.dialup.adsl.anteldata.net.uy)
[15:19:58] *** Quits: ChrisOei (ChrisOei@moz-53A9266A.blurb.com) (Client exited)
[15:20:00] *** Joins: ChrisOei (ChrisOei@moz-53A9266A.blurb.com)
[15:20:36] *** Quits: thesnowdog (doug@E8B162D2.CDB23781.6F17036B.IP) (Ping timeout)
[15:21:10] *** Quits: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca) (Ping timeout)
[15:21:40] *** Joins: judder (maradukewa@75FA4DEE.A989D80C.78E362FE.IP)
[15:21:53] *** Joins: maxli (Adium@moz-EE42E0E.student.cs.uwaterloo.ca)
[15:21:53] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[15:22:52] *** Quits: voxpopuli (fanservice@6B5292DD.598E1842.689607DE.IP) (Ping timeout)
[15:22:56] *** Joins: Raydiation (ray@EDE5CA57.8B15A938.CA693884.IP)
[15:23:07] *** Joins: mihneadb (mihneadb@moz-6B31F5AA.static.ziggozakelijk.nl)
[15:23:17] <Raydiation> is there like an up to date screencast/talk about the different pointer types + memory management?
[15:23:25] *** Joins: ozten (ozten@moz-87FC77D4.hsd1.wa.comcast.net)
[15:24:23] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[15:24:42] *** Quits: maxli (Adium@moz-EE42E0E.student.cs.uwaterloo.ca) (Input/output error)
[15:25:09] *** Joins: maxli (Adium@moz-EE42E0E.student.cs.uwaterloo.ca)
[15:26:12] <edwardw> not I'm aware of. This one http://cosmic.mearie.org/2014/01/periodic-table-of-rust-types/ may interest you though
[15:26:18] <kimundi> Raydiation: Don't know one off hand, but https://air.mozilla.org/?tag=rust is a good place to start looking
[15:26:25] <bjz_> Raydiation: http://www.youtube.com/watch?v=gfCtbGiHcg0 is a good one
[15:26:32] *** Quits: balpert_ (sid15886@moz-A42E5B7B.irccloud.com) (User has been banned from Mozilla (no spamming here))
[15:26:32] *** Quits: mbrubeck (sid17036@moz-A42E5B7B.irccloud.com) (User has been banned from Mozilla (no spamming here))
[15:26:32] *** Quits: jzelinskie (sid17772@moz-A42E5B7B.irccloud.com) (User has been banned from Mozilla (no spamming here))
[15:26:32] *** Quits: patrikstenmark (sid16326@moz-A42E5B7B.irccloud.com) (User has been banned from Mozilla (no spamming here))
[15:26:32] *** Quits: huhlig (sid17687@moz-A42E5B7B.irccloud.com) (User has been banned from Mozilla (no spamming here))
[15:26:32] *** Quits: abinader (sid21713@moz-A42E5B7B.irccloud.com) (User has been banned from Mozilla (no spamming here))
[15:26:32] *** Quits: tca (sid17279@moz-A42E5B7B.irccloud.com) (User has been banned from Mozilla (no spamming here))
[15:26:32] *** Quits: avdi (sid16245@moz-A42E5B7B.irccloud.com) (User has been banned from Mozilla (no spamming here))
[15:26:32] *** Quits: janx (sid16602@moz-A42E5B7B.irccloud.com) (User has been banned from Mozilla (no spamming here))
[15:26:32] *** Quits: jack (sid19593@moz-A42E5B7B.irccloud.com) (User has been banned from Mozilla (no spamming here))
[15:27:10] <Raydiation> ty
[15:27:12] *** Quits: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[15:27:18] <edwardw> that was a great talk
[15:27:56] <bjz_> Raydiation: if you want to 'grok' what is happening, then that is a great start
[15:28:43] <bjz_> Raydiation: don't expect everything to stick though
[15:28:52] <Raydiation> yeah i watched that vid already
[15:29:23] *** Quits: maxli (Adium@moz-EE42E0E.student.cs.uwaterloo.ca) (Ping timeout)
[15:29:29] <bjz_> afaik, the tutorial is getting better in that regard
[15:29:54] <Raydiation> its hard to get the typesystem into your head
[15:30:08] *** Joins: maxli (Adium@moz-B19F68ED.student.cs.uwaterloo.ca)
[15:30:12] <bjz_> yeah, don't worry, it will get there
[15:30:29] <bjz_> things are being simplified a great deal too
[15:30:31] *** Joins: hjr3 (hradtke@moz-E952E90B.hsd1.or.comcast.net)
[15:30:40] <bjz_> lots of things are moving off into libraries
[15:30:46] *** Quits: maxli (Adium@moz-B19F68ED.student.cs.uwaterloo.ca) (Input/output error)
[15:30:53] <edwardw> to do that, I decided to hack on rust itself. It helps :)
[15:31:30] *** Joins: voxpopuli (fanservice@6B5292DD.598E1842.689607DE.IP)
[15:31:30] *** Quits: jaras (textual@1CDC5701.A48867D7.52E4E107.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[15:31:51] *** Joins: maxli (Adium@moz-B19F68ED.student.cs.uwaterloo.ca)
[15:31:57] <StarLight> а
[15:32:04] <StarLight> oops, wrong widnow sorry
[15:32:12] <Raydiation> yeah, i know yacc and grammar but im not interested in reading into the src ;D
[15:32:26] *** Joins: janx (sid16602@moz-A42E5B7B.irccloud.com)
[15:32:51] <bjz_> rust doesn't use a parser generator
[15:33:36] <Raydiation> then its even harder i think
[15:33:54] <Raydiation> but yeah, if you make it self hosted you dont want to write a compiler compiler framework
[15:34:04] *** Joins: wilmoore (wilmoore@moz-4EF3CEBC.hsd1.co.comcast.net)
[15:34:45] <bjz_> I think edwardw means more like, it helps you to learn the language
[15:35:09] <edwardw> yup
[15:35:09] <bjz_> unfortunately there is a lot of old code in rustc
[15:35:46] <bjz_> Raydiation: but yeah, if you persevere, it will pay off
[15:35:58] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[15:36:31] <Raydiation> btw, do you always want to make strings boxed?
[15:36:47] <Raydiation> basically ~"string" is the way youd usually use strings?
[15:36:48] *** Joins: abinader (sid21713@moz-A42E5B7B.irccloud.com)
[15:36:53] <kimundi> Raydiation: Not really
[15:37:14] <kimundi> Raydiation: Usually you'd decide between heap allocated and static constant strings
[15:37:18] *** Joins: murph (murph@moz-EA149729.oracle.com)
[15:37:32] <Raydiation> i see
[15:37:36] <bjz_> "foo" is an &str
[15:37:49] *** Quits: lawrence (lawrence@moz-B549F6F1.wireless.utoronto.ca) (Quit: Textual IRC Client: www.textualapp.com)
[15:37:53] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[15:37:54] <bjz_> but it is a little more complex than that
[15:37:54] <Raydiation> static right?
[15:37:56] <kimundi> ~"foo" if you need to dynamically build/change the string, just "foo" if its a constant one that you'd at most slice into smaller parts
[15:38:00] <bjz_> yep
[15:38:09] <Raydiation> ty
[15:38:30] *** Joins: tobytailor (tobytailor@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[15:38:37] *** Quits: maxli (Adium@moz-B19F68ED.student.cs.uwaterloo.ca) (Ping timeout)
[15:38:49] <bjz_> Raydiation: if you con't *need* to own the string, you should try to work with string slices instead
[15:39:05] <lessless> eddyb, ehhh ? 
[15:39:20] *** Quits: twi (Adium@moz-CF950680.cust.vodafonedsl.it) (Ping timeout)
[15:39:27] *** Joins: twi (Adium@moz-CF950680.cust.vodafonedsl.it)
[15:40:16] <bjz_> Raydiation: https://gist.github.com/Aatch/5734372
[15:40:34] *** Joins: daschl (Adium@moz-DC6DE6E2.vie.surfer.at)
[15:40:36] <Raydiation> another thing that i find hard to grasp (also in C) is the difference between pointers and references
[15:40:43] *** Joins: maxli (Adium@moz-B19F68ED.student.cs.uwaterloo.ca)
[15:40:57] <bjz_> I think Rust helped me in that
[15:40:59] <Raydiation> in java it would be the same thing right?
[15:41:04] <Raydiation> just a reference to an object
[15:41:05] <eddyb> Raydiation: C doesn't have both, does it?
[15:41:11] <Raydiation> or c++ dunno
[15:41:14] *** Joins: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net)
[15:41:19] <eddyb> C++ has first-class lvalues (references)
[15:41:28] <strcat> rust and C don't though
[15:41:31] <eddyb> Rust borrowed pointers are different
[15:41:46] <Raydiation> so when would i use a reference and when a borrowed pointer
[15:42:04] <eddyb> Raydiation: in Rust they're the same thing, &T
[15:42:04] <strcat> Raydiation: rust doesn't differentiate
[15:42:11] <eddyb> (and &mut T for mutable)
[15:42:27] <Raydiation> ok, and whats the difference between ~"hi" and &"hi"
[15:42:30] *** Joins: Rym (y@1AFE98D6.BF54EC93.51C6DE68.IP)
[15:42:30] <eddyb> lessless: oh, sorry, I missed the previous highlight. rust-http should be idiomatic and it's actively developed. not sure if it's good for reading, take a look
[15:42:38] <eddyb> Raydiation: owned and borrowed
[15:43:05] *** Quits: koderok (Thunderbir@A3B2CD40.655F1C21.50E99975.IP) (Ping timeout)
[15:43:17] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[15:43:24] <bjz_> Raydiation: have you used the smart pointer types in C++?
[15:43:30] <Raydiation> not yet
[15:43:40] <Raydiation> ive only done very little C
[15:43:45] <bjz_> np
[15:43:48] <Raydiation> mostly because the compiler is so frustrating
[15:43:48] <eddyb> have you heard of unique_ptr and shared_ptr at least?
[15:43:51] <Raydiation> yes
[15:43:57] <bjz_> I did only a little C before I did Rust
[15:44:05] <eddyb> Raydiation: ~T and Rc<T> in Rust
[15:44:33] <bjz_> Raydiation: do you understand malloc/free?
[15:44:34] <Raydiation> so ~ means i cant have another variable that points to the same content right?
[15:44:38] <Raydiation> yes
[15:44:55] <eddyb> Raydiation: well, shared_ptr is kinda atomic, so maybe Arc<T>, but that's details
[15:44:55] *** Joins: hoverbear (hoverbear@726D908C.44E18222.E74D50F2.IP)
[15:44:56] <strcat> Raydiation: T and ~T have the same ownership semantics
[15:44:56] <bjz_> Raydiation: do you understand RAII and destructors?
[15:45:04] *** Quits: mye (mye@moz-4C61F066.dip0.t-ipconnect.de) (Quit: sleep message)
[15:45:05] <strcat> Raydiation: ~ doesn't mean 'owned', it means 'owned memory allocation'
[15:45:34] <Raydiation> bjz_: i understand destructors yes, raii (resource allcoation something?)
[15:46:07] *** Quits: mediocrity (Thunderbir@moz-8A2E9A09.bredband.comhem.se) (Quit: mediocrity)
[15:46:46] *** Quits: hoverbear (hoverbear@726D908C.44E18222.E74D50F2.IP) (Ping timeout)
[15:47:27] <Raydiation> i know that rust tries to keep ownership explicit so you cant accidentally release a resource twice
[15:47:35] <Raydiation> dangling pointers?
[15:47:49] <bjz_> Raydiation: ~T is a thing that allocates to the heap when it is constructed. Then it frees when it is destroyed
[15:47:52] *** Joins: thesnowdog (doug@E8B162D2.CDB23781.6F17036B.IP)
[15:48:07] *** Quits: nomme (nomme@moz-44F97EB.na.cust.bahnhof.se) (Ping timeout)
[15:48:09] *** Quits: daschl (Adium@moz-DC6DE6E2.vie.surfer.at) (Quit: Leaving.)
[15:48:14] <eddyb> Raydiation: you can have multiple &T pointing at the same data or a single &mut T, btw ("borrowing" the original location)
[15:48:16] *** Quits: maxli (Adium@moz-B19F68ED.student.cs.uwaterloo.ca) (Ping timeout)
[15:48:33] <bjz_> Raydiation: the type system ensures that it is safe to free at compile time
[15:48:41] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[15:49:04] <bjz_> Raydiation: it's like it automatically inserts the mallocs and frees for you
[15:49:28] *** Joins: mbrubeck_ (sid17036@moz-A42E5B7B.irccloud.com)
[15:49:45] *** mbrubeck_ is now known as mbrubeck
[15:50:32] <Raydiation> so i only use the type ~ once i allocate it?
[15:50:43] <Raydiation> and then the type to use it changes to &?
[15:50:50] <bjz_> Raydiation: but the issue is that you have to move the ~T around. you can however 'loan it out', but all those loans have to be given back before leaving the scope
[15:51:01] <bjz_> hmm
[15:51:28] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.3)
[15:51:30] <Raydiation> as in, i create a string with ~"test" and then pass it to a function and the type would be &str?
[15:51:41] <eddyb> Raydiation: depends
[15:51:45] *** Quits: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP) (Client exited)
[15:51:55] <eddyb> Raydiation: if you want to transfer ownership, you can pass it as ~str (which it is)
[15:52:02] <Raydiation> aaah
[15:52:14] <bjz_> eddyb: good explanation
[15:52:16] <eddyb> and note that &str is not &T yet
[15:52:33] <eddyb> bjz_: I feel sarcasm
[15:52:40] <bjz_> eddyb: nope
[15:52:50] <bjz_> eddyb: it was good
[15:52:56] <edwardw> LOL
[15:53:34] <Raydiation> why do i want to transfer ownership btw
[15:53:54] <eddyb> Raydiation: in the case of the string, you need to own it to append to it
[15:54:03] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[15:54:04] *** Joins: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP)
[15:54:15] <Raydiation> i see so its basically readonly if i pass &str
[15:54:20] <eddyb> Raydiation: yupp
[15:54:24] <eddyb> in general, you want to transfer ownership for operations that inherently consume a value
[15:54:28] *** Joins: hoverbear (hoverbear@726D908C.44E18222.E74D50F2.IP)
[15:54:35] <eddyb> Raydiation: read-write if you pass &mut T
[15:54:38] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[15:54:40] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[15:54:43] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[15:54:52] *** jorendorff is now known as jorendorff_away
[15:54:56] <Raydiation> so whats the difference between &mut and ~
[15:55:18] <eddyb> keep in mind that ~T and T have just an indirection as the difference between them
[15:55:31] <eddyb> they are both values and they both transfer ownership
[15:55:58] <eddyb> Raydiation: but with &mut [T], for example, you can't grow it, you need ~[T]/Vec<T> or &mut ~[T]/&mut Vec<T>
[15:56:13] <kimundi> Raydiation: &mut T means you have the right to change the T, but not to take ownership from it
[15:56:27] <bjz_> Raydiation: sorry if this is all confusing
[15:56:30] <eddyb> hehe
[15:56:34] <Raydiation> ok, so &mut str means i can change the str if it retains the same length
[15:56:43] <eddyb> &mut str doesn't exist
[15:56:47] <kimundi> Raydiation: So you can replace the T with another T for example, but you an't take it out without leaving a valid value in place.
[15:56:49] <eddyb> (for reasons of practicality)
[15:57:04] <eddyb> Raydiation: strings and slices/vectors are a bad example for this
[15:57:11] <eddyb> Raydiation: str/[T] aren't true types yet
[15:57:12] *** Joins: jeaye (jeaye@moz-34FEF2BB.hsd1.ca.comcast.net)
[15:57:19] <Raydiation> i see
[15:57:28] <eddyb> so &str right now isn't &T with T = str but a distinct type
[15:57:46] <bjz_> Raydiation: some of the changes coming up will make this a grewat deal simpler to understand, but don't let that deter you
[15:57:47] <eddyb> DST will probably allow &mut str, though most likely useless
[15:57:54] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[15:58:15] *** jorendorff_away is now known as jorendorff
[15:58:21] <eddyb> with no &mut str-specific methods and no built-in operations
[15:58:21] <Raydiation> bjz_: i know :) i think thats what makes rust awesome but i cant fully grasp yet how to use it
[15:58:51] *** Joins: Kruppe (user@moz-253119B0.esg.uwaterloo.ca)
[15:59:22] *** Quits: Zr40 (zr40@EE4BB9F5.926C319A.BE2F4011.IP) (Quit: leaving)
[15:59:40] <bjz_> Raydiation: to simplify things, think of the type system as just having &T and T
[15:59:53] <Raydiation> basically heap + static
[16:00:10] <Raydiation> hm
[16:00:15] *** Joins: utdemir_ (utdemir@17C340BB.2A5CA21F.C8B7C20B.IP)
[16:00:19] <eddyb> Raydiation: not static
[16:00:29] <bjz_> no, &T is a value that is on loan from somewhere
[16:00:43] <Raydiation> ah right
[16:01:08] <bjz_> if T does not have a destructor, then it implcitly copies around
[16:01:13] <eddyb> Raydiation: you can do a lot of things in Rust without touching the heap, and safely
[16:01:20] <kimundi> A &T is a reference to an arbitrary memory location that the compiler verifies to be valid for you while you have access to it.
[16:01:23] <bjz_> if it does have a destructor, then it moves
[16:01:41] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[16:01:44] *** Quits: dougxxx (dougxxx@moz-2801788.perm.iinet.net.au) (Ping timeout)
[16:02:26] *** Joins: canhtak (canhtak@moz-4FB0FBC1.wl.t.ulaval.ca)
[16:02:51] *** Joins: jensnock_ (jensnocker@moz-33279404.customers.ownit.se)
[16:03:27] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Ping timeout)
[16:03:52] *** Joins: Savago (Savago@F7A245C3.E820043D.D4C04133.IP)
[16:04:06] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[16:04:10] *** Joins: maattdd (matthieu@moz-71F66BC0.w82-123.abo.wanadoo.fr)
[16:04:35] *** Joins: arturo (Thunderbir@moz-E83B14F0.superkabel.de)
[16:04:39] *** Quits: jensnock_ (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[16:05:36] <Raydiation> moves?
[16:05:43] <bjz_> Raydiation: now say you have a type T with a destructor - you might want to hang on to it
[16:05:47] <bjz_> oh
[16:05:50] <bjz_> hmm
[16:06:00] <Raydiation> as in the address changes?
[16:06:08] <Raydiation> reallocates?
[16:06:13] <kimundi> Raydiation: A "move" is what we call the transfer of ownership.
[16:06:24] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[16:06:28] *** Quits: rootnode (rootnode@moz-36EB3D47.pools.arcor-ip.net) (Ping timeout)
[16:06:36] *** Quits: khodzha1 (khodzha@143C311.A859D9FD.CA6E2165.IP) (Ping timeout)
[16:06:37] <bjz_> 'move' is a compile time concept
[16:06:48] *** Joins: khodzha (khodzha@301EE859.2AEE264E.CA6E2165.IP)
[16:06:56] *** Joins: rootnode (rootnode@moz-6E1A64F0.pools.arcor-ip.net)
[16:07:11] <eddyb> Raydiation: a move is like a copy except the original is unusable
[16:07:19] *** Joins: onelson (owen@moz-DD666EC5.laika.com)
[16:07:23] <Raydiation> ty
[16:07:45] <Raydiation> and the destructor gets called after the copy?
[16:07:50] <Raydiation> for the original
[16:08:07] <kimundi> Raydiation: No, it gets called if the things gets out of scope
[16:08:22] <kimundi> { let a = ~1; let b = a; let c = b; }
[16:08:39] <kimundi> This moves twice,a nd then the scope of c end and the ~int gets its destructor called.
[16:09:08] <eddyb> Raydiation: that would be inefficient ;)
[16:09:18] <eddyb> Raydiation: the copy is a shallow one, not a clone
[16:10:00] <Raydiation> ok, so basically if the ownership moves the cleanup also moves to a different block?
[16:10:11] <eddyb> yupp
[16:10:15] *** Joins: tca (sid17279@moz-A42E5B7B.irccloud.com)
[16:10:22] <Raydiation> whereas if theres no destructor you copy it and clean it up at the end of both blocks
[16:10:25] *** Joins: brianm (brianm@B14CC6C5.5D49961F.D8D85ABD.IP)
[16:10:26] *** Quits: brianm (brianm@B14CC6C5.5D49961F.D8D85ABD.IP) (Client exited)
[16:10:27] *** Joins: brianm (brianm@B14CC6C5.5D49961F.D8D85ABD.IP)
[16:10:29] <kimundi> To elaborate: `a` gets initialized with a moving type (~int), then `let b = a;` moves the content of a to b, which is a shallow copy that makes a unusable. Then b gets moved to c which again is a shallow copy that leaves b unusable. Then the scope of c ends, and because it has not been moved from, the ~int gets dropped and the destructor called.
[16:10:29] <Raydiation> if you pass it somewhere
[16:10:30] <eddyb> ownership implies responsibility to cleanup
[16:10:40] <eddyb> Raydiation: there is no cleanup if there is no destructor
[16:10:54] <Raydiation> ah right
[16:10:54] *** Quits: mawuli (mawuli@F7A4F2ED.68EE7C48.E520B65A.IP) (Ping timeout)
[16:11:02] *** Quits: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[16:12:33] <Raydiation> and ' tells it that it does get cleaned up in the original block?
[16:12:48] <eddyb> Raydiation: no
[16:12:57] *** Quits: hjr3 (hradtke@moz-E952E90B.hsd1.or.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[16:13:10] <eddyb> Raydiation: named lifetimes are so you can thread borrowed pointers through functions and methods
[16:13:23] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[16:13:32] <eddyb> Raydiation: and relate things that are impossible in C/C++
[16:13:57] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[16:14:05] <kimundi> fn foo<'a>(x: &'a B) -> &' C // takes a reference to a B and returns a reference that is valid for the same lifetime
[16:14:15] <kimundi> err
[16:14:21] <kimundi> fn foo<'a>(x: &'a B) -> &'a C
[16:14:56] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[16:15:17] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[16:15:23] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Input/output error)
[16:15:39] <Raydiation> do you have to add it once you thread the program?
[16:15:48] <Raydiation> or does the compiler complain beforehand?
[16:15:56] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[16:16:09] *** Quits: edwardw (edwardw@9366486F.7FC992B3.B3B412E5.IP) (Quit: Leaving...)
[16:16:14] <eddyb> Raydiation: my use of "thread" has nothing to do with "threads" :P
[16:16:21] <Raydiation> ok
[16:16:28] <eddyb> Raydiation: pay attention to the words. "thread through"
[16:16:31] <Raydiation> so if B goes out of scope, so does C?
[16:16:43] <eddyb> Raydiation: you don't care about going out of scope
[16:16:53] <eddyb> since &/&mut are borrowed as in non-owning
[16:16:59] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[16:17:22] <eddyb> you care about the validity of their existence
[16:17:25] <kimundi> Raydiation: Other way round: "That C reference is valid as long as the B reference I passed in"
[16:17:31] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[16:17:41] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Ping timeout)
[16:17:43] *** Joins: edwardw (edwardw@C5A98CE5.177282A3.FAED9FFC.IP)
[16:18:07] <eddyb> Raydiation: imagine something like fn foo(a: &A) -> &B {&B {...}} and fn foo(a: &A) -> &B {&a.b}
[16:18:45] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[16:18:48] <eddyb> Raydiation: in a language with pointers and without regions/lifetimes, both of those functions have the same signature, both of them compile (maybe) but one of them will do the wrong thing
[16:19:08] *** Quits: fabiand (fabiand@moz-B89A787E.adsl.alicedsl.de) (Quit: Verlassend)
[16:19:16] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[16:19:38] <kimundi> rusti: fn foo<'a>(x: &'a B) -> &'a C { &x.c } struct C; struct B { c: C }; let b = B { c: C }; let c_ref = foo(&b); println!("{:?}", c_ref);
[16:19:49] <kimundi> ah darn, its not online
[16:20:06] *** Joins: nomme (nomme@moz-272A4570.na.cust.bahnhof.se)
[16:20:18] <eddyb> Raydiation: the existence of &'a T asserts that there is a T type at the other end of the pointer and that it will be there for at least the lifetime of 'a
[16:21:03] *** Joins: jensnock_ (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[16:21:06] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[16:21:08] *** Joins: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP)
[16:21:10] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Ping timeout)
[16:21:30] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[16:21:35] *** Joins: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net)
[16:21:42] <eddyb> Raydiation: the existence of &'a mut T also ensures that it is the only usable pointer *in the execution space* that can be used to access data between the start of the pointer and pointer + size_of::<T>()
[16:21:43] *** Quits: bleibig (bleibig@moz-B4D9C5AF.hsd1.ca.comcast.net) (Quit: bleibig)
[16:22:11] <quasisphere> Just a side question since we are discussing this: Is it possible to somehow denote the minimum of two lifetimes?
[16:22:26] <eddyb> Raydiation: I'm only aware of FORTRAN enforcing non-aliasing (but not completely so) for optimization purposes
[16:22:28] <kimundi> quasisphere: lifetimes automatically intersect to their minimum
[16:25:34] *** Quits: W0rmDr1nk (wormdrink@5451F9BD.52135167.A77EFE04.IP) (Ping timeout)
[16:25:34] <eddyb> quasisphere: you may be able to extract it via a function call (you can even use the markers to get different effects) and apply it to other types
[16:25:34] <eddyb> quasisphere: but there are no specific notations for bounding lifetimes
[16:25:34] <kimundi> quasisphere: Something like fn foo<'a>(&'a A, &'a B) will infer a lifetime 'A on call that is the minimum between whatever &'b A and &'c B got passed in.
[16:25:34] <quasisphere> ok
[16:25:34] <Raydiation> eddyb: so looking at https://gist.github.com/Aatch/5734372#file-borrow-example-rs-L22 the ' says the type that is returned contains an instance of the type that is passed in?
[16:25:35] <eddyb> Raydiation: not an instance
[16:25:35] <eddyb> Raydiation: not it's not about types :P
[16:25:35] <quasisphere> kimundi: and if I wanted to return a tuple where the first element has life time 'a and the second one the minimum between 'a and 'b?
[16:25:35] <Raydiation> eddyb: i mean the content of r
[16:25:35] <Raydiation> is being put into the Option
[16:25:35] <Raydiation> so if r would get cleaned up, the option would contain garbage?
[16:25:35] <eddyb> Raydiation: the borrowed pointer inside the Option points to something within the json argument it received
[16:25:37] *** Quits: rweir (rob@moz-B98DF6FB.members.linode.com) (Ping timeout)
[16:25:45] <kimundi> quasisphere: Good question. Why would you do that? ;)
[16:25:54] <eddyb> Raydiation: you don't clean lifetimes :/
[16:26:25] <eddyb> Raydiation: &'a T can't outlive 'a
[16:26:36] <quasisphere> kimundi: Just curious :) I could imagine a situation where one part of the result only depends on one part of the input and the second part on both of them.
[16:26:50] <eddyb> Raydiation: it has to disappear before the original data can be cleaned up
[16:26:54] <quasisphere> Of course I could make two functions.
[16:27:03] <quasisphere> But maybe that would for some reason not be convenient.
[16:27:32] <Raydiation> eddyb: because otherwise it could still depend on the original data?
[16:27:51] <eddyb> quasisphere: you only need two lifetimes and the ability to bound one to be shorter than the other
[16:28:00] <eddyb> quasisphere: but we don't have that yet, either
[16:28:03] <eddyb> Raydiation: yupp
[16:28:46] <kimundi> quasisphere: Hm, that even makes sense... I think this really is not expressible though.
[16:28:57] *** Joins: rweir (rob@moz-B98DF6FB.members.linode.com)
[16:29:01] *** Quits: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net) (Ping timeout)
[16:29:54] <Raydiation> eddyb: lets say i have a function that takes &a and returns the same value, do i have to use the '?
[16:30:13] <kimundi> Raydiation: If with value you mean the same reference, yes. :)
[16:30:21] <quasisphere> eddyb: could you elaborate? How would the (hypothetical) function signature look like?
[16:30:26] <eddyb> &a is not even a type :P
[16:30:32] <Raydiation> xD
[16:30:34] <kimundi> Raydiation: In general, you have to use named lifetimes in _all_ cases where you want to return a reference.
[16:30:42] <eddyb> (unless you're going by Haskell's generic notation)
[16:30:50] <Raydiation> kimundi: ok makes sense :)
[16:31:31] <eddyb> kimundi: because we don't have an error for it yet :P
[16:31:39] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[16:31:48] <eddyb> kimundi: otherwise we can say it's an error to not have named lifetimes in your return types
[16:32:10] <eddyb> quasisphere: fn foo<'a, 'b <: 'a>(a: &'a A, b: &'b B) -> (&'a X, &'b Y)
[16:32:59] *** Quits: Rym (y@1AFE98D6.BF54EC93.51C6DE68.IP) (Ping timeout)
[16:33:00] <eddyb> quasisphere: not sure if my subtyping notation is correct, but something like that should allow you to get the Y from either a or b
[16:33:00] *** Joins: Rym (y@1AFE98D6.BF54EC93.51C6DE68.IP)
[16:33:00] <eddyb> quasisphere: i.e. 'b will be the minimum of b's original lifetime and 'a
[16:33:00] <quasisphere> eddyb: ah, but I would like Y to contain a reference of both A and B
[16:33:14] *** Joins: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net)
[16:33:14] <quasisphere> eddyb: without knowing a'priori whether B or A will be shorter lived
[16:33:19] <quasisphere> eddyb: it seems like this assumes that B has shorter life
[16:33:28] <eddyb> quasisphere: 'b is shorter because it's a minimum
[16:33:50] *** Joins: mawuli (mawuli@F7A4F2ED.68EE7C48.E520B65A.IP)
[16:33:50] <eddyb> quasisphere: if A has shorter life, 'a and 'b will be equal. maybe you don't want that?
[16:34:03] *** Joins: evanm (evanm@636AC086.5999CED5.71743E61.IP)
[16:35:04] <Raydiation> ok, just to get this right: in java when i pass an object to a method i would use &a T in rust, &'a T if i would return an object that uses the reference or the reference itself, ~a T if i dont use it anymore after the method call and a T to copy by value?
[16:35:05] *** Joins: maxli (Adium@moz-EE42E0E.student.cs.uwaterloo.ca)
[16:35:31] <eddyb> HUH?
[16:35:36] <kimundi> Raydiation: No ;)
[16:35:38] <eddyb> Raydiation: I think you confused something
[16:35:52] <eddyb> Raydiation: it's not ' it's 'a
[16:36:07] <eddyb> Raydiation: &T and &'a T
[16:36:13] <eddyb> 'a is the named lifetime
[16:36:23] <Raydiation> ah ok i thought it was a name for the value
[16:36:35] <Raydiation> variable name*
[16:36:38] *** Quits: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP) (Ping timeout)
[16:36:43] <Raydiation> ah xD
[16:36:45] <Raydiation> yeah
[16:36:48] <quasisphere> eddyb: sorry, I didn't read/think carefully - I think this works for what I asked for
[16:36:48] *** Quits: maxli (Adium@moz-EE42E0E.student.cs.uwaterloo.ca) (Ping timeout)
[16:37:00] <eddyb> quasisphere: except it's not implemented :P
[16:37:09] <quasisphere> well, that's a minor thing :)
[16:37:12] <eddyb> Raydiation: a: &'a A
[16:37:21] <eddyb> Raydiation: be more careful in the future :)
[16:37:38] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[16:37:50] <Raydiation> eddyb: yeah thanks :)
[16:37:53] <quasisphere> I'm not using Rust yet really, anyway... just lurking here for now. :)
[16:39:08] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[16:39:26] <quasisphere> eddyb: the followup would be: I want to return a tuple with lifetimes ('a, 'b, min('a,'b))
[16:40:00] <eddyb> yeah, that might be a problem
[16:40:22] *** Quits: Ms2ger (Ms2ger@B7B2FF50.C60A97A6.F9FB0584.IP) (Quit: nn)
[16:40:26] <eddyb> maybe you could say that you have a third lifetime 'c that is smaller or equal than both 'a and 'b
[16:40:30] <kimundi> fn foo<'a, 'b, 'c <: 'a + 'b>(a: &'a A, b: &'b B) -> (&'a X, &'b Y, &'c Z) // ?
[16:40:34] <eddyb> exactly :)
[16:40:54] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[16:41:03] <eddyb> then it will be valid to return it from either 'a or 'b
[16:41:24] <quasisphere> cool :)
[16:42:24] <doomlord_> is there anything along the lines of 'placement new'
[16:42:50] <doomlord_> (oh i seem to remember ~ was becoming optionally 'box' and that could take args..)
[16:42:52] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[16:43:52] *** Joins: azakai (alon@moz-62518563.mtv2.mozilla.com)
[16:43:54] <eddyb> do we have a compiler flag to disable spans?
[16:43:59] *** Joins: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net)
[16:44:07] <kimundi> doomlord_: let x = box foo; and let x = box(into) foo;
[16:44:16] *** Quits: o11c (ben@moz-C0FD33EF.a357.priv.bahnhof.se) (Ping timeout)
[16:44:17] <eddyb> I can click on errors, I would like to not have unnecessary spam
[16:44:42] <kimundi> doomlord_: These two forms will probably be used in the future for either egular boxing or placement boxing
[16:45:01] <kimundi> (which is like new except with out the initialization part)
[16:45:49] *** Quits: nkoep (nik@moz-62C85C4A.pool.mediaways.net) (Ping timeout)
[16:45:51] <kimundi> let arena_handle = box(my_arena) foo();
[16:46:13] *** Quits: [squiddy] (squiddy@moz-686F69E9.dip0.t-ipconnect.de) (Input/output error)
[16:47:06] *** Quits: Raydiation (ray@EDE5CA57.8B15A938.CA693884.IP) (Quit: Leaving.)
[16:47:33] *** Quits: josh (josh@moz-C350AC70.hsd1.mn.comcast.net) (Quit: josh)
[16:49:09] *** Joins: Anupkumar (uid16774@moz-A42E5B7B.irccloud.com)
[16:50:00] *** Joins: astroch (astroch@moz-A07B16B.bootp.virginia.edu)
[16:51:35] *** Joins: hdevalence (quassel@moz-D125A39F.home3.cgocable.net)
[16:51:47] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[16:52:26] *** Quits: mno2 (mno2@C9C55379.F9BA5024.DA359910.IP) (Quit: mno2)
[16:52:52] *** Quits: dmsky (dmsky@moz-63A2E3E4.pppoe.spdop.ru) (Ping timeout)
[16:53:01] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[16:53:08] *** Quits: patpatter (patpat@moz-1599AAE4.as13285.net) (Ping timeout)
[16:53:14] *** Joins: patpat (patpat@moz-1599AAE4.as13285.net)
[16:55:16] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Quit: csherratt)
[16:56:18] *** Quits: Ralith (ralith@moz-67D4EB93.customer.broadstripe.net) (Ping timeout)
[16:56:32] *** Quits: astroch (astroch@moz-A07B16B.bootp.virginia.edu) (Connection reset by peer)
[16:57:16] *** Joins: astroch (astroch@moz-A07B16B.bootp.virginia.edu)
[16:57:32] *** Joins: dmsky (dmsky@moz-FF2573B1.pppoe.spdop.ru)
[16:57:47] *** Quits: benjamin_ (benjamin@moz-F6125F64.dip0.t-ipconnect.de) (Ping timeout)
[16:57:56] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[16:58:02] *** Quits: eholk (eholk@9F0E3073.6A9D8DF7.8FE2F0CE.IP) (Quit: eholk)
[16:58:02] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[16:58:11] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[16:58:27] *** Quits: Kxepal (Miranda@moz-83F7AF52.pppoe.mtu-net.ru) (Ping timeout)
[17:00:21] *** Joins: nkoep (nik@moz-F7CD5604.vpn.rwth-aachen.de)
[17:00:23] *** Joins: reverend_paco (chatzilla@moz-FDBE15EC.hsd1.ma.comcast.net)
[17:01:56] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[17:02:02] *** Joins: o11c (ben@moz-23AECAB8.customer.t3.se)
[17:02:34] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[17:03:39] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[17:06:20] *** Quits: Rym (y@1AFE98D6.BF54EC93.51C6DE68.IP) (Ping timeout)
[17:06:49] *** Joins: Kxepal (Miranda@moz-28B57678.pppoe.mtu-net.ru)
[17:06:51] *** Joins: Rym (y@1AFE98D6.BF54EC93.51C6DE68.IP)
[17:06:57] *** Joins: mye (mye@moz-4C61F066.dip0.t-ipconnect.de)
[17:07:13] *** Joins: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net)
[17:07:50] *** Quits: janra (Janus@1CDC5701.A48867D7.52E4E107.IP) (Ping timeout)
[17:07:54] *** pmoore|buildduty is now known as pmoore|away
[17:08:06] *** Quits: jensnock_ (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Input/output error)
[17:08:37] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[17:08:48] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Input/output error)
[17:09:02] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[17:09:46] *** Quits: redShadow (redShadow@9BDAF02B.D15F9219.1CCF65D9.IP) (Quit: Leaving)
[17:10:21] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Ping timeout)
[17:11:21] *** Quits: leowoe (Leo@moz-D22372AD.dip0.t-ipconnect.de) (Quit: Leaving.)
[17:11:21] *** Parts: utdemir_ (utdemir@17C340BB.2A5CA21F.C8B7C20B.IP) (Leaving)
[17:11:54] *** Quits: mawuli (mawuli@F7A4F2ED.68EE7C48.E520B65A.IP) (Ping timeout)
[17:12:31] <SiegeLord> Drat, going to have to change my syntax highlighter >_<
[17:12:59] *** Joins: mawuli (mawuli@F7A4F2ED.68EE7C48.E520B65A.IP)
[17:13:07] *** Joins: bmccallister (brianm@B14CC6C5.5D49961F.D8D85ABD.IP)
[17:13:22] *** Quits: bmccallister (brianm@B14CC6C5.5D49961F.D8D85ABD.IP) (Quit: Leaving...)
[17:13:54] *** Joins: bmccallister (brianm@B14CC6C5.5D49961F.D8D85ABD.IP)
[17:14:21] *** Quits: brianm (brianm@B14CC6C5.5D49961F.D8D85ABD.IP) (Ping timeout)
[17:14:32] *** Quits: murph (murph@moz-EA149729.oracle.com) (Ping timeout)
[17:15:27] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[17:16:51] *** Quits: maattdd (matthieu@moz-71F66BC0.w82-123.abo.wanadoo.fr) (Ping timeout)
[17:18:29] *** Joins: mattbloom52 (mbloom@moz-B2E9E5CF.bootp.virginia.edu)
[17:19:26] <mattbloom52> I've been trying to install rust on Ubuntu 12.04 and when I try to "make install" I receive this error: make: *** No rule to make target `prepare-everything', needed by `install'.  Stop.
[17:19:27] *** Joins: nszceta_ (nszceta@moz-E458A7C0.pharm.pitt.edu)
[17:19:47] *** Quits: nszceta (nszceta@moz-73F23BD2.wireless.pitt.edu) (Ping timeout)
[17:20:39] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[17:21:18] *** Quits: stephenmac7 (quassel@moz-C42B1C24.hsd1.fl.comcast.net) (Client exited)
[17:23:00] *** Joins: apollow (yellowy432@moz-DF01490A.lightspeed.sntcca.sbcglobal.net)
[17:23:01] *** Quits: evanm (evanm@636AC086.5999CED5.71743E61.IP) (Connection reset by peer)
[17:23:07] *** Joins: evanm (evanm@636AC086.5999CED5.71743E61.IP)
[17:23:19] *** Joins: t4nk507 (bzlandfill@moz-B2E9E5CF.bootp.virginia.edu)
[17:23:23] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Input/output error)
[17:23:40] *** Joins: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca)
[17:23:54] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[17:24:26] *** Joins: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net)
[17:24:26] *** ChanServ sets mode: +o tjc
[17:24:46] *** Quits: apollow (yellowy432@moz-DF01490A.lightspeed.sntcca.sbcglobal.net) (Ping timeout)
[17:25:38] <cmr> mattbloom52: git pull, was fixed recently.
[17:25:44] <fredy> Hello, maybe it is a silly question but I don't understand why "T" type parameter doesn't bound with "enum Dir" type in this example http://pastebin.mozilla.org/4692299
[17:26:10] <cmr> fredy: that's ... not valid code.
[17:26:14] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[17:26:26] <cmr> fredy: that should be `fn get_dir(dir: &str) -> Dir`
[17:26:29] <mattbloom52> cmr: How recently? I cloned it yesterday afternoon
[17:26:38] *** Joins: brendan (brendaneic@5121379B.68EECDA4.4EA770CF.IP)
[17:26:38] <cmr> mattbloom52: yesterday evening
[17:27:40] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[17:27:40] *** ChanServ sets mode: +ao pcwalton pcwalton
[17:27:56] <fredy> cmr ok, but tbh I still don't get why a type parameter can not bind with a type... anyway I'll take a deeper look tomorrow 
[17:27:59] <fredy> thx
[17:28:09] *** Quits: Kynes (Kynes@moz-3DC6C6E7.mit.edu) (Quit: Leaving)
[17:28:17] <eddyb> fredy: because it's a generic, not inference
[17:28:36] <eddyb> fredy: get_dir<T> has infinite versions, each for every possible type T
[17:28:59] <fredy> eddyb: hm... now I got it... thx D:
[17:28:59] <fredy> :D
[17:29:03] *** Quits: skade (skade@B4A5FE21.505237C9.CAE22B62.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[17:29:17] <eddyb> it helps to use "infinite" in the description :P
[17:29:40] <mattbloom52> cmr: i'll try it out. thanks!
[17:29:42] <fredy> :)
[17:30:14] *** Joins: andrew-d_w (andrew-d_w@3B0E9325.9DFA657C.CC0301A2.IP)
[17:30:20] *** Quits: andrew-d_w (andrew-d_w@3B0E9325.9DFA657C.CC0301A2.IP) (Input/output error)
[17:30:27] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[17:30:29] *** Quits: hdevalence (quassel@moz-D125A39F.home3.cgocable.net) (Ping timeout)
[17:30:32] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[17:30:43] *** Joins: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[17:30:48] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[17:32:00] *** Quits: t4nk507 (bzlandfill@moz-B2E9E5CF.bootp.virginia.edu) (Quit: CGI:IRC)
[17:32:27] *** Joins: hdevalence (quassel@moz-D125A39F.home3.cgocable.net)
[17:32:31] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Ping timeout)
[17:32:45] *** Quits: Rym (y@1AFE98D6.BF54EC93.51C6DE68.IP) (Ping timeout)
[17:33:18] *** Quits: bmccallister (brianm@B14CC6C5.5D49961F.D8D85ABD.IP) (Client exited)
[17:33:18] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[17:33:18] *** Joins: Rym (y@1AFE98D6.BF54EC93.51C6DE68.IP)
[17:33:19] *** Joins: brianm (brianm@B14CC6C5.5D49961F.D8D85ABD.IP)
[17:33:51] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Ping timeout)
[17:34:54] *** Joins: EastByte_ (EastByte@moz-EF3B65CE.ewe-ip-backbone.de)
[17:34:55] <kimundi> mattbloom52: For ubuntu there are also nightly binaries you can use.
[17:35:24] *** Quits: EastByte (EastByte@moz-4248B7D4.ewe-ip-backbone.de) (Ping timeout)
[17:35:36] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[17:35:46] *** Joins: alonlevy (alon@moz-5C8E00F8.red.bezeqint.net)
[17:36:05] *** Joins: murph (murph@moz-F07B75BF.oracle.com)
[17:38:19] *** Joins: pepijndevos (pepijndevo@9EACEF43.E50A3180.BCE47D84.IP)
[17:39:41] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[17:40:32] *** Quits: Sorella (quildreen@89788746.FDF9B0F2.A95FAE2B.IP) (Connection reset by peer)
[17:43:09] *** Quits: rook (rook@moz-DE88DB2D.hfc.comcastbusiness.net) (Quit: rook)
[17:43:09] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[17:43:35] *** Joins: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP)
[17:43:48] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[17:44:03] *** Quits: Sharp (Sharp@moz-633F3606.hsd1.ca.comcast.net) (Quit: Sharp)
[17:46:24] *** Joins: andrew-__ (andrew-d_w@3B0E9325.9DFA657C.CC0301A2.IP)
[17:46:43] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[17:46:55] *** Joins: kngl (Adium@40AE2BF6.ABCDAFD6.7C797F8E.IP)
[17:47:43] *** Quits: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Ping timeout)
[17:48:18] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[17:48:33] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Input/output error)
[17:48:59] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[17:49:14] *** Joins: sigma1 (sigma@moz-15A267A9.range109-152.btcentralplus.com)
[17:50:50] *** Joins: jdm (jdm@FCCEA34F.7672369.D8E68FF6.IP)
[17:50:50] *** ChanServ sets mode: +o jdm
[17:54:17] *** Joins: stephenmac7 (quassel@moz-C42B1C24.hsd1.fl.comcast.net)
[17:54:31] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[17:54:59] *** Quits: Rym (y@1AFE98D6.BF54EC93.51C6DE68.IP) (Ping timeout)
[17:55:11] <eddyb> http://rethinkdb.com/docs/comparison-tables/
[17:55:35] <eddyb> does it say it's strictly inferior?
[17:57:03] *** Joins: q66 (q66@moz-FDC9B85A.range109-150.btcentralplus.com)
[17:57:08] *** Joins: Kazimuth (james@moz-1AB3D702.hfc.comcastbusiness.net)
[17:57:21] *** Quits: astroch (astroch@moz-A07B16B.bootp.virginia.edu) (Ping timeout)
[17:57:42] *** Joins: Sorella (quildreen@AA4589ED.97245BEB.1ED99692.IP)
[17:58:02] <strcat> eddyb: postgres has text/binary json that's faster than mongodb ;p
[17:58:04] *** Joins: Rym (y@1AFE98D6.BF54EC93.51C6DE68.IP)
[17:58:10] <eddyb> hah
[17:58:29] *** Quits: philix (felipe@B6067347.BAD04C27.648674BD.IP) (Ping timeout)
[17:59:00] *** Joins: philix (felipe@B6067347.BAD04C27.648674BD.IP)
[17:59:24] <strcat> although binary json is super new
[17:59:45] * strcat fiddled with it a bit
[17:59:56] <strcat> I have postgres around because I used the full text search for something
[18:00:01] <strcat> outgrew sqlite's FTS4
[18:00:10] <strcat> eddyb: https://plus.google.com/+ThomBrownUK/posts/1JizRBGPYBq
[18:00:57] *** Quits: philix (felipe@B6067347.BAD04C27.648674BD.IP) (Ping timeout)
[18:01:56] *** Joins: bmccallister (brianm@B14CC6C5.5D49961F.D8D85ABD.IP)
[18:02:09] *** Quits: bmccallister (brianm@B14CC6C5.5D49961F.D8D85ABD.IP) (Quit: Leaving...)
[18:02:21] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[18:03:01] *** Quits: brianm (brianm@B14CC6C5.5D49961F.D8D85ABD.IP) (Ping timeout)
[18:03:13] *** Parts: mattbloom52 (mbloom@moz-B2E9E5CF.bootp.virginia.edu) ()
[18:03:43] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[18:04:03] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[18:04:03] *** Joins: philix (felipe@moz-A9E41556.user.veloxzone.com.br)
[18:04:27] *** Joins: Blub\w (wry@620605B3.71150E1A.237AE2BA.IP)
[18:04:30] *** Quits: fmtq (fmt@moz-5769BD38.static.tpgi.com.au) (Ping timeout)
[18:04:34] *** Quits: Rym (y@1AFE98D6.BF54EC93.51C6DE68.IP) (Ping timeout)
[18:05:22] *** Quits: wry (wry@620605B3.71150E1A.237AE2BA.IP) (Ping timeout)
[18:05:22] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[18:05:30] *** Joins: brianm (brianm@B14CC6C5.5D49961F.D8D85ABD.IP)
[18:07:24] *** Quits: heftig (heftig@moz-33D186ED.unitymedia.biz) (Quit: Quitting)
[18:07:43] *** Joins: astroch (astroch@moz-80476ABD.hsd1.va.comcast.net)
[18:09:06] *** Quits: Ferreus_ (ferreus@moz-E2310A45.dip0.t-ipconnect.de) (Ping timeout)
[18:09:23] *** Joins: farcaller (Mibbit@moz-5B5FA763.customer.teliacarrier.com)
[18:09:51] <farcaller> Hi all. Why I can't transmute static mut buf : [u8, ..32] to &str? error: transmute called on types with different sizes: &[u8, .. 32] (64 bits) to &str (128 bits)
[18:10:12] *** Quits: hoverbear (hoverbear@726D908C.44E18222.E74D50F2.IP) (Quit: Taking a nap.)
[18:10:29] *** Joins: apollow (yellowy432@moz-DF01490A.lightspeed.sntcca.sbcglobal.net)
[18:10:44] *** Joins: Ferreus_ (ferreus@moz-E2310A45.dip0.t-ipconnect.de)
[18:10:45] <sfackler> farcaller: &str and &[u8, ..32] don't have the same representations
[18:11:00] *** Quits: brianm (brianm@B14CC6C5.5D49961F.D8D85ABD.IP) (Quit: Leaving...)
[18:11:03] <sfackler> you can make a &str from a &[u8] with str::from_utf8
[18:11:07] <eibwen> farcaller: do you want something like from_utf8_lossy?
[18:11:34] *** Quits: canhtak (canhtak@moz-4FB0FBC1.wl.t.ulaval.ca) (Quit: canhtak)
[18:11:44] *** Quits: alonlevy (alon@moz-5C8E00F8.red.bezeqint.net) (Ping timeout)
[18:12:01] *** Joins: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP)
[18:12:17] *** Quits: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP) (Ping timeout)
[18:12:24] *** Quits: Ferreus_ (ferreus@moz-E2310A45.dip0.t-ipconnect.de) (Ping timeout)
[18:12:55] *** Quits: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP) (Quit: Taking a nap.)
[18:13:49] *** Joins: fmtq (fmt@moz-5769BD38.static.tpgi.com.au)
[18:14:21] *** Joins: Rym (y@1AFE98D6.BF54EC93.51C6DE68.IP)
[18:14:41] <farcaller> eibwen: yes, but without the runtime :)
[18:15:03] <eibwen> farcaller: tn
[18:15:08] <eibwen> then use from_utf8
[18:15:14] <eibwen> oh wait
[18:15:24] <eibwen> without any runtime? are you sure the string is utf-8 encoded?
[18:15:26] <farcaller> eibwen: I actaully want something like itoa, so far I got it down to this very simple version: https://gist.github.com/farcaller/b7d6e970e69ea92ffacf
[18:15:29] *** Joins: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP)
[18:15:37] <sfackler> farcaller: there's str::raw_from_utf8 if you're sure it's already utf8
[18:15:39] <sfackler> er,
[18:15:43] <sfackler> str::raw::from_utf8
[18:15:47] <farcaller> eibwen: yes, the string is utf-8 encoded. ascii encoded, FWIW.
[18:16:10] <eibwen> farcaller: http://static.rust-lang.org/doc/master/std/str/raw/fn.from_utf8.html
[18:16:11] <eibwen> as sfackler said
[18:16:29] <farcaller> yes, but.. #[no_std]
[18:16:53] <cmr> farcaller: https://github.com/thestinger/rust-core/
[18:17:16] <eibwen> farcaller: just copy the code from here: http://static.rust-lang.org/doc/master/src/std/home/rustbuild/src/rust-buildbot/slave/doc/build/src/libstd/str.rs.html#1393-1395
[18:17:27] <farcaller> cmr: last time I checked, there was no relevant api in str.rs in rust-core
[18:17:27] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[18:17:28] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[18:18:09] <farcaller> eibwen: yes, so it does transmute. exactly what I do: unsafe { transmute(&buf) } where buf is static mut buf : [u8, ..32]
[18:18:28] <farcaller> which fails with 'transmute called on types with different sizes: &[u8, .. 32] (64 bits) to &str (128 bits)'
[18:18:38] <eibwen> farcaller: you'll want to write it as a function anyway
[18:18:44] <cmr> farcaller: sfackler: the types are different
[18:18:50] <cmr> that's not a &[u8]
[18:19:00] <cmr> you have a reference to an array
[18:19:02] <cmr> you need a slice
[18:19:38] <cmr> transmute((that_reference, 32))
[18:19:58] <cmr> (http://static.rust-lang.org/doc/master/std/raw/struct.Slice.html)
[18:20:51] <farcaller> cmr: hm. I may have got a bit confused by the naming. Seems to work
[18:21:17] <cmr> farcaller: https://github.com/mozilla/rust/wiki/The-Rusticon
[18:22:02] *** Quits: Rym (y@1AFE98D6.BF54EC93.51C6DE68.IP) (Ping timeout)
[18:22:04] <farcaller> cmr: thanks
[18:23:09] <farcaller> so, it actually didn't work in the end. let slice : &[u8] = unsafe { buf }; return unsafe { transmute(slice) } -- returns garbage; transmute((slice, 32)) -- transmute called on types with different sizes: (&[u8],int) (192 bits) to &str (128 bits)
[18:23:42] *** Joins: Rym (y@1AFE98D6.BF54EC93.51C6DE68.IP)
[18:23:54] *** Joins: alext (Adium@moz-FD256C.albq.qwest.net)
[18:24:05] <cmr> ah you made a slice out of the array?
[18:24:14] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[18:24:17] <farcaller> cmr: yes
[18:24:24] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[18:24:28] <cmr> you should be able to transmute that directly, what garbage is it returning?
[18:24:46] *** Joins: koderok (Thunderbir@CE5B9E46.4004B6B9.50E99975.IP)
[18:24:52] *** Joins: pongad (pongad@moz-7E8AAD2E.res.gatech.edu)
[18:25:25] <farcaller> well, now thinking about it, the slice is fn-local, so I'm returning a dangling pointer to stack, no?
[18:25:32] *** Quits: doomlord_ (servitor@moz-99BE89EC.range86-184.btcentralplus.com) (Connection reset by peer)
[18:25:37] <farcaller> or it's magically pointing to buf?
[18:25:37] *** Joins: p1start (rewi@moz-E7F3D014.org)
[18:26:09] *** Joins: doomlord_ (servitor@moz-99BE89EC.range86-184.btcentralplus.com)
[18:26:11] <cmr> nope it's dangling.
[18:27:13] *** Quits: xitology (xi@85437D54.5AFA3E4.CEDFC552.IP) (Ping timeout)
[18:28:25] *** Joins: canhtak (canhtak@moz-4FB0FBC1.wl.t.ulaval.ca)
[18:28:28] <farcaller> cmr: can I make a static slice? static mut slice : &'static [u8] = buf doesn't seem to work
[18:28:46] <cmr> not like that no.
[18:28:52] <cmr> needs to be initialized to a constan
[18:28:54] *** Quits: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP) (Quit: Taking a nap.)
[18:28:54] <cmr> t
[18:28:59] <cmr> you can set it to buf afterwards
[18:29:09] <carllerche> If I have an ~MyTrait, how can I convert that to &MyTrait?
[18:29:17] <eddyb> it coerces
[18:29:51] <carllerche> eddyb: well, i'm wrapping it in Option
[18:29:57] <o11c> farcaller: what exactly are you trying to do ???
[18:30:24] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Ping timeout)
[18:30:29] <farcaller> cmr: 'static mut slice : &'static [u8] = [0];' -> [] storage differs: expected `&'static ` but found `1`
[18:30:31] *** Joins: Sharp (Sharp@19388942.6B775EBE.DC877F3B.IP)
[18:30:37] <farcaller> cmr: so I cannot initialise it as well
[18:30:59] <cmr> farcaller: = &[0]
[18:31:25] <eddyb> &[] should also work
[18:31:41] *** Quits: p1start (rewi@moz-E7F3D014.org) (Ping timeout)
[18:31:43] <eddyb> carllerche: Some::<&Trait>(~Trait) if you can't do it earlier
[18:31:47] *** Joins: skade (skade@moz-1EC0F118.pools.arcor-ip.net)
[18:32:44] <farcaller> cmr: now failing at 'slice = buf' down in the code: mismatched types: expected `&'static [u8]` but found `[u8, .. 32]` ([] storage differs: expected `&'static ` but found `32`)
[18:33:03] *** Quits: jeaye (jeaye@moz-34FEF2BB.hsd1.ca.comcast.net) (Ping timeout)
[18:33:06] <eddyb> farcaller: where do you want to assign the data from?
[18:33:15] <cmr> farcaller: yes, because you have an array, you need a slice. that can't work though because it needs to be &'static and yours is some sort of local
[18:33:19] <eddyb> &'static [u8] means it has to always point to static memory
[18:33:22] <carllerche> eddyb: ah cool, yeah I'm trying to bind to a C lib that requires fn pointers for callbacks, so it's a bit tricky
[18:33:22] <cmr> farcaller: what are you trying to accomplish?
[18:34:55] <farcaller> cmr: I want to make a simple itoa that returns str. Given that I don't have heap yet (and any time soon), I wanted to make a static buffer for conversion and return it
[18:35:16] <cmr> farcaller: it needs to take a buffer and fill it.
[18:35:28] *** Quits: Rym (y@1AFE98D6.BF54EC93.51C6DE68.IP) (Ping timeout)
[18:35:34] <eddyb> lol, static buffers
[18:35:39] <farcaller> cmr: how can I preallocate a str of given length?
[18:35:41] <cmr> there's no string type you can return.
[18:35:53] *** Joins: xitology (xi@85437D54.5AFA3E4.CEDFC552.IP)
[18:35:59] <o11c> farcaller: the reason you're having trouble is because what you're doing is inherently evil and Rust won't let you do that
[18:36:02] <eddyb> farcaller: even in freestanding you should avoid global state
[18:36:02] <farcaller> (on stack of caller)
[18:36:12] <eddyb> farcaller: just allocate an [u8, ..N]
[18:36:18] <eddyb> farcaller: and pass it as &mut [u8]
[18:36:24] <o11c> farcaller: just make a struct Str { [u8, ..20] }
[18:36:31] <eddyb> o11c: sheesh
[18:36:33] <cmr> fn itoa<'a>(num: int, buf: &'a mut [u8]) -> &'a str
[18:36:37] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[18:36:42] <eddyb> ^^ was just about to type that
[18:37:07] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[18:37:11] <farcaller> I can safely transmute that [u8, ..N] to str later on, right?
[18:37:18] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[18:37:23] <eddyb> farcaller: no, see the return type
[18:37:30] <farcaller> thinking of it, I don't really need str
[18:37:44] <farcaller> as my putc takes u8
[18:37:45] <eddyb> farcaller: you can easily get heap working, fwiw
[18:37:57] <eddyb> and C APIs are really really bad as a model ;)
[18:38:20] <o11c> what eddyb said
[18:38:38] <eibwen> why?
[18:38:41] <farcaller> eddyb: is there any document describing the requirements for heap, or that's just malloc/free?
[18:38:59] <eibwen> only-stack is pretty useful IMO
[18:39:06] *** Joins: Rym (y@1AFE98D6.BF54EC93.51C6DE68.IP)
[18:39:09] <eibwen> as an allocation scheme
[18:39:11] <eddyb> farcaller: it's pretty much alloc/free, yeah, but you don't need a true heap to get it working
[18:39:22] <strcat> what is a 'true' heap? ;p
[18:39:33] <strcat> stacks just get allocated from the same place as unique pointers
[18:39:39] <eddyb> farcaller: you can just have a 4MB pool or some such that you just take from, without ever releasing
[18:39:55] <farcaller> my whole ram is 2mb :-D
[18:39:59] <eddyb> haha
[18:40:03] <eddyb> 512KB then
[18:40:17] *** Quits: edwardw (edwardw@C5A98CE5.177282A3.FAED9FFC.IP) (Ping timeout)
[18:41:11] <doener> eddyb: looks like I have a fix for the SROA bug :-)
[18:41:17] *** Joins: mediocrity (Thunderbir@moz-8A2E9A09.bredband.comhem.se)
[18:41:19] <eddyb> doener: \o/
[18:41:28] <eddyb> doener: you're a low-level saver :P
[18:41:29] *** Joins: edwardw (edwardw@96E7298D.3E260003.B9C6B12A.IP)
[18:42:00] <farcaller> ok, I'll try passing in [u8] from outer frame, if that doesn't work well that would be time to think about malloc
[18:42:25] <farcaller> (the idea of uncontrolled heap allocations doesn't sit well with me)
[18:42:45] *** Quits: Rym (y@1AFE98D6.BF54EC93.51C6DE68.IP) (Ping timeout)
[18:43:01] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[18:43:06] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[18:44:15] <darnuria> There is some hack or projet related to Rust and Arduino-stuff? Or not ? Just for curiosity.
[18:44:45] <eddyb> darnuria: there's that LLVM AVR fork, but I doubt it's still maintained
[18:45:26] *** Quits: mediocrity (Thunderbir@moz-8A2E9A09.bredband.comhem.se) (Quit: mediocrity)
[18:45:35] *** Joins: mediocrity (Thunderbir@moz-8A2E9A09.bredband.comhem.se)
[18:45:48] *** Joins: jaras (textual@1CDC5701.A48867D7.52E4E107.IP)
[18:46:04] <darnuria> eddyb: Ok thanks. :)
[18:46:50] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Quit: csherratt)
[18:47:08] *** Quits: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net) (Client exited)
[18:47:22] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[18:47:28] *** Joins: Rym (y@1AFE98D6.BF54EC93.51C6DE68.IP)
[18:47:29] *** Joins: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net)
[18:49:11] *** Joins: brson (brson@moz-62518563.mtv2.mozilla.com)
[18:49:11] *** ChanServ sets mode: +ao brson brson
[18:49:12] *** Quits: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net) (Ping timeout)
[18:49:29] *** Quits: Rym (y@1AFE98D6.BF54EC93.51C6DE68.IP) (Ping timeout)
[18:49:29] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[18:49:30] <farcaller> one more arrays question, is there any way to not initialise buf in this context: https://gist.github.com/farcaller/eea87ba039544146d242?
[18:49:40] *** Quits: evanm (evanm@636AC086.5999CED5.71743E61.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[18:49:54] <farcaller> (sorry for so many syntax questions, trying to get my head around rust as fast as I can)
[18:50:36] *** Joins: azita (Azita@moz-62518563.mtv2.mozilla.com)
[18:50:59] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[18:51:02] <kimundi> farcaller: In safe Rust not initializing it can be memory unsafe, which is why we don'T allow it generally. However there are unsafe intrinsics you can use that basically initialize the variable with unitialzed memory.
[18:51:07] *** Joins: Rym (y@1AFE98D6.BF54EC93.51C6DE68.IP)
[18:51:44] <eibwen> farcaller: mem::uninit IIRC
[18:52:25] *** Quits: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net) (Quit: carllerche)
[18:52:25] *** Joins: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP)
[18:52:42] <farcaller> thanks
[18:52:46] <Tari> I have a bit of a lifetime puzzle here
[18:53:18] * kimundi likes puzzles
[18:53:18] <Tari> I have one object "A" that owns a vector of "B"s
[18:53:19] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[18:53:44] <Tari> each B also has a reference back to its owning A so it can be cleaned up
[18:53:51] <Tari> I think I just figured out my problem
[18:54:06] *** Joins: kngl1 (Adium@40AE2BF6.ABCDAFD6.7C797F8E.IP)
[18:54:09] *** Quits: kngl (Adium@40AE2BF6.ABCDAFD6.7C797F8E.IP) (Connection reset by peer)
[18:54:15] *** Joins: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net)
[18:54:28] <Tari> implementing Drop on B doesn't make sense, which I was doing
[18:54:34] <kimundi> That sounds like a cycle, which you can't really do with references. :)
[18:54:56] <Tari> yeah; I gave B a raw pointer to A instead
[18:55:04] *** Joins: Ferreus (ferreus@moz-AB5E9900.lsn.wtnet.de)
[18:55:11] <Tari> it just seemed like there might be a way to do it with explicit lifetimes
[18:56:00] *** Parts: ozten (ozten@moz-87FC77D4.hsd1.wa.comcast.net) ()
[18:56:13] <kimundi> Nope, references in general don't work for cycles in a ownership tree.
[18:56:28] *** Quits: Sorella (quildreen@AA4589ED.97245BEB.1ED99692.IP) (Ping timeout)
[18:56:44] <Tari> that was the conclusion I was working toward, after scattering 'a parameters around things
[18:56:45] *** Joins: tyna (liadon@moz-BB1BAD9A.dynamic.chello.pl)
[18:56:52] <Tari> *leaning toward
[18:57:25] <kimundi> In order for B to have a reference to A, A would have to be either immutable or only mutable from B, both of which are not possible.
[18:57:38] <Tari> rather a pity that it's so easy to crash this library I'm wrapping
[18:57:44] <kimundi> You can use reference counting to safely express this kind of ownership graphs
[18:58:18] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[18:58:55] *** Joins: evanm (evanm@636AC086.5999CED5.71743E61.IP)
[19:00:06] <Tari> come to think of it, refcounting is probably the best solution here
[19:00:44] <Tari> I was having A only give out references bound to its own lifetime
[19:00:45] *** Quits: farcaller (Mibbit@moz-5B5FA763.customer.teliacarrier.com) (Quit: http://www.mibbit.com ajax IRC Client)
[19:00:56] *** Joins: Sorella (quildreen@89788746.FDF9B0F2.A95FAE2B.IP)
[19:01:02] <Tari> better to have each B freed when it goes out of scope
[19:01:21] <Tari> so give out Rc<B> instead, and A keeps a vector of Weak<B>
[19:01:31] <pongad> What does rustc use pdflatex for...?
[19:01:44] <Tari> generating documentation AFAIK
[19:01:49] *** Joins: james4k (james@moz-9BB5AE72.consolidated.net)
[19:01:50] *** Joins: jeaye (jeaye@moz-34FEF2BB.hsd1.ca.comcast.net)
[19:02:46] <pongad> I think this is the first time I see a programming language using tex for docs...Interesting....
[19:02:49] *** Quits: Munchor (munchor@moz-8CFC84AD.yourvserver.net) (Quit: ZNC - http://znc.in)
[19:03:07] *** Quits: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP) (Quit: buildmaster reconfigured: bot disconnecting)
[19:03:18] <Tari> I think it's more like an indirect dependency through pandoc
[19:03:33] <carllerche> Is there a reason why CVec::new takes a uint for length vs. the equivalent of a size_t?
[19:03:38] <kimundi> yeah, we're not using it directly
[19:03:38] <Tari> the actual docs are written in Markdown
[19:03:48] <Eridius> carllerche: uint is the equivalent of size_t
[19:03:48] *** Quits: Rym (y@1AFE98D6.BF54EC93.51C6DE68.IP) (Connection reset by peer)
[19:04:04] *** Joins: Guest (textual@333EC5A2.D8252BC.9532F1CE.IP)
[19:04:06] <carllerche> Eridius: isn't uint 32bit but size_t can be 64?
[19:04:08] <Eridius> carllerche: rust's int/uint are based on the platform-native word size
[19:04:14] *** Joins: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP)
[19:04:14] <cmr> carllerche: uint is pointer-sized.
[19:04:17] <cmr> u32 is 32-bit
[19:04:21] *** Joins: Rym (y@1AFE98D6.BF54EC93.51C6DE68.IP)
[19:04:24] <carllerche> hmm.. i am finding myself having to cast back and forth
[19:04:53] <Eridius> well if you have a libc::size_t, that's a distinct type from uint
[19:05:08] <carllerche> Eridius: error: mismatched types: expected `uint` but found `u64` (expected uint but found u64)
[19:05:12] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[19:05:18] <carllerche> so no implicit casting?
[19:05:27] <Eridius> no implicit casting
[19:05:36] <Eridius> libc::size_t is a u32 or u64 based on the platform-native word size
[19:05:56] <Eridius> I'm not sure offhand why it's not just set to uint, because I don't know of any reason why it would ever be a different size
[19:06:09] <carllerche> Eridius: right, that's what I'm wondering
[19:06:32] <Eridius> but in general the libc numeric types are typedefs for the explicitly-sized rust numeric types, using #[cfg()] to test target word size when appropriate
[19:06:48] <Eridius> carllerche: casting is just a way of life when dealing with std::libc
[19:06:53] *** Quits: jaras (textual@1CDC5701.A48867D7.52E4E107.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[19:07:07] <carllerche> it's fine, i was just expecting it to work w/ CVec :)
[19:07:20] <cmr> Eridius: I think x32 is a good counter-example. 32bit pointers, but 64bit other things.
[19:07:29] *** Joins: janra (Janus@1CDC5701.A48867D7.52E4E107.IP)
[19:07:31] <Eridius> carllerche: CVec can be used without libc, if you really want
[19:07:32] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[19:07:49] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[19:07:51] <Eridius> cmr: and what is Rust's uint on x32?
[19:08:05] <cmr> u32 if we supported it :p
[19:08:14] <Eridius> :P and size_t would be u32
[19:08:31] <doomlord_> i always liked the idea of x32
[19:09:10] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[19:09:26] *** Joins: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org)
[19:09:26] <Eridius> hmm ok, so x32 is x86-64 architecture with a 32-bit word size
[19:09:29] <Eridius> that seems.. weird
[19:09:35] <doomlord_> but there's blobs and relative pointers aswell for reducing pointer-bloat
[19:10:27] <doomlord_> x64 has 16 registers; you want that benefit, even if you dont need a 64bit adress space and hence 64bit pointers bloating all your pointer-heavy structures
[19:10:29] <strcat> Eridius: can be significantly faster than x86_64
[19:10:43] *** nszceta_ is now known as nszceta
[19:10:53] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Ping timeout)
[19:10:55] <strcat> Eridius: and it's just a userland arch in linux anyway, I don't think you can have an x32 kernel
[19:11:16] *** Quits: vmx (vmx@moz-B0D7BAF9.dip0.t-ipconnect.de) (Quit: Leaving)
[19:12:22] *** Quits: astroch (astroch@moz-80476ABD.hsd1.va.comcast.net) (Ping timeout)
[19:12:40] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[19:12:46] *** Parts: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP) ()
[19:13:12] *** Quits: asmyers (quassel@1AED7747.A07F7734.FAA4474F.IP) (Ping timeout)
[19:13:14] *** Quits: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP) (Quit: rcirc on GNU Emacs 24.3.1)
[19:13:30] *** Joins: astroch (astroch@moz-80476ABD.hsd1.va.comcast.net)
[19:13:36] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[19:14:09] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[19:15:06] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[19:15:13] *** Quits: astroch (astroch@moz-80476ABD.hsd1.va.comcast.net) (Ping timeout)
[19:15:36] *** Quits: james4k (james@moz-9BB5AE72.consolidated.net) (Ping timeout)
[19:15:54] *** Joins: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP)
[19:16:39] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[19:17:31] *** Joins: astroch (astroch@moz-80476ABD.hsd1.va.comcast.net)
[19:17:51] *** Joins: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net)
[19:19:21] *** Quits: astroch (astroch@moz-80476ABD.hsd1.va.comcast.net) (Ping timeout)
[19:19:36] *** Quits: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net) (Ping timeout)
[19:19:46] *** Joins: astroch (astroch@moz-80476ABD.hsd1.va.comcast.net)
[19:20:43] *** Joins: jaras (textual@1CDC5701.A48867D7.52E4E107.IP)
[19:20:55] *** Quits: Kazimuth (james@moz-1AB3D702.hfc.comcastbusiness.net) (Quit: gas leak)
[19:20:59] *** Joins: Kazimuth (james@moz-1AB3D702.hfc.comcastbusiness.net)
[19:21:28] *** Quits: astroch (astroch@moz-80476ABD.hsd1.va.comcast.net) (Ping timeout)
[19:21:51] *** Quits: Kazimuth (james@moz-1AB3D702.hfc.comcastbusiness.net) (Quit: gas leak)
[19:21:55] *** Joins: Kazimuth (james@moz-1AB3D702.hfc.comcastbusiness.net)
[19:22:12] *** Joins: astroch (astroch@moz-80476ABD.hsd1.va.comcast.net)
[19:22:25] *** Joins: kvanb (kvanb@moz-17FE5943.lnse4.lon.bigpond.net.au)
[19:22:54] *** Joins: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[19:23:02] *** Joins: Matthias247 (Miranda@moz-678B5E4A.hsi2.kabel-badenwuerttemberg.de)
[19:25:10] *** Quits: Anupkumar (uid16774@moz-A42E5B7B.irccloud.com) (Quit: Connection closed for inactivity)
[19:25:39] *** Quits: jaras (textual@1CDC5701.A48867D7.52E4E107.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[19:26:48] *** Quits: Rym (y@1AFE98D6.BF54EC93.51C6DE68.IP) (Connection reset by peer)
[19:27:05] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[19:27:07] *** Joins: Rym (y@1AFE98D6.BF54EC93.51C6DE68.IP)
[19:27:30] *** Quits: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[19:30:37] <Tari> alright, continuing my little puzzle from earlier
[19:30:45] <Tari> (A contains a vector of B)
[19:31:07] <Tari> A owns all instances of B so they can be properly cleaned up before cleaning up A
[19:31:36] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[19:31:46] <Tari> so from the user's POV, creating a B involves going through A and getting a reference to a B
[19:32:41] *** Joins: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net)
[19:33:34] <Tari> I can't put a close() method or similar on B, because that invalidates B
[19:34:36] <Tari> it seems like the most idiomatic way to do this is put a with_B() method on A as an arbitrator
[19:34:43] <YourBestFriend> so
[19:34:46] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[19:34:47] <YourBestFriend> will rust replace C++?
[19:34:55] <doomlord_> i doubt it
[19:34:56] *** Quits: Rym (y@1AFE98D6.BF54EC93.51C6DE68.IP) (Ping timeout)
[19:35:03] <YourBestFriend> 0,4WHY not?
[19:35:06] <Tari> which could be a little bit clumsy, but does what I need
[19:35:21] <SiegeLord> There will definitely be a set of problems where Rust will be the better choice
[19:35:27] <SiegeLord> But it won't be all of them
[19:35:28] <Tari> specifically, B must never outlive A, but A may outlive B
[19:35:34] <doomlord_> [1] there is so much code people depend on written in C++ already, those projects will continue
[19:35:44] <doomlord_> [2] everyone who wants to move away from C++ doesn't agree what to move to
[19:36:02] <Tari> and B should be freed when nobody else is using it any longer
[19:36:07] <SiegeLord> Even COBOL has new revisions XD
[19:36:14] <SiegeLord> And it's been here since the 50's
[19:36:31] *** Quits: tobytailor (tobytailor@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: tobytailor)
[19:36:35] <doomlord_> i wonder if you could make a common compiler middle for C++ and rust given how similar they are
[19:37:01] <doomlord_> i'm not volunteering though :)
[19:37:07] *** Quits: doener (bs@moz-AA189A5A.unitymedia.biz) (Quit: leaving)
[19:37:55] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[19:38:12] <Tari> I guess I can accept a little bit of visual clutter and give out Rc<B>
[19:38:17] <doomlord_> plenty of people think C++ doesn't need replacing .. brainwashed into thinking classes are the one true way 
[19:38:37] <Tari> er, no. If I give out Rc<B>, B can outlive A
[19:39:05] <kimundi> Tari: Thats pretty much what Rc is for ;) - you can hand out a reference to a B,b ut that freezes A for its duration of existence, which probably is not what you want.
[19:39:44] <Tari> I was going to have A hold Weak<B> and give out Rc<B>
[19:39:56] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[19:40:03] <Tari> but then dropping A leaves the user holding invalid references to B
[19:40:10] <kimundi> Tari: That sounds backwards
[19:40:36] <kimundi> Tari: Could you explain what A and B actually are?
[19:40:50] <Tari> if I give out Weak<B>, the user can just upgrade it to an Rc<B> and bypass the safety
[19:41:11] *** Joins: claudiu (claudiu@moz-6F0C4397.thefacebook.com)
[19:41:28] <kimundi> Tari: Rc as is can not be used to bypass safety like this. B would be allocated on the heap and not be freed until the last Rc<T> dies
[19:41:28] *** Quits: claudiu (claudiu@moz-6F0C4397.thefacebook.com) (Connection reset by peer)
[19:41:41] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[19:41:44] <Tari> A is an arbitrator for an FFI library which handles ensuring it is properly initialized when needed and shutdown when no longer needed
[19:41:46] *** Joins: claudiu (claudiu@moz-6F0C4397.thefacebook.com)
[19:41:55] <Tari> B is a handle to something provided by A
[19:42:48] *** Joins: asmyers (quassel@moz-71754EDC.hsd1.md.comcast.net)
[19:42:50] <kimundi> okay, so A is a context object for communicating with the library to allocate and deallocate memory. Is it static allocations, or is there a handle for each A?
[19:43:06] *** Quits: mawuli (mawuli@F7A4F2ED.68EE7C48.E520B65A.IP) (Ping timeout)
[19:43:08] <Tari> A is a singleton
[19:43:32] <kimundi> so, mutable globals?
[19:43:44] <kimundi> effectivly?
[19:43:59] <Tari> basically
[19:44:34] <Tari> I guess not necessarily a singleton
[19:44:48] <Tari> there may only ever be one A active, but it may be dropped and replaced
[19:45:24] *** Joins: joebobjoe (mckin_000@moz-1D2D613F.ga.at.cox.net)
[19:45:40] *** Joins: aatch (James@moz-B437F499.pocketrent.com)
[19:45:43] <kimundi> Tari: What does ownership of the Bs look like, exactly? Is each new B unique, or can you get references to existing Bs as well with that library?
[19:45:43] *** Quits: esummers (esummers@moz-3B015C90.wi.res.rr.com) (Connection reset by peer)
[19:45:56] <Tari> each B is unique
[19:46:07] <joebobjoe> Do Rust's facilities prevent deadlock/race conditions on shared mutable data?
[19:46:15] *** Joins: [squiddy] (squiddy@moz-767EF079.dynamic.cablesurf.de)
[19:46:17] <kimundi> Okay, then you can just write a custom smartpointer wrapper for a B
[19:46:22] *** Joins: Rym (y@1AFE98D6.BF54EC93.51C6DE68.IP)
[19:46:32] <kimundi> a.get_new_b() -> BWrapper
[19:46:41] <sfackler> joebobjoe: no
[19:46:45] <sfackler> well
[19:46:50] <kimundi> And BWrapper implements drop which calls the library functions to clean itself up
[19:47:00] *** Quits: asmyers (quassel@moz-71754EDC.hsd1.md.comcast.net) (Ping timeout)
[19:47:03] <sfackler> you can't safely share mutable data between threads without synchronization
[19:47:11] <kimundi> optionally, you can make it contain a reference back to the A if neccessary.
[19:47:11] <sfackler> but there's nothing to statically prevent deadlock
[19:48:00] <Tari> BWrapper then needs to have a None-like configuration as well
[19:48:08] <Tari> which I can do, but it adds complexity for users
[19:48:08] *** Joins: bharadwaj (uid11995@moz-5F4AA75A.irccloud.com)
[19:48:19] <kimundi> joebobjoe: Rust goal is memory safety. So no memory races, but races and deadlock in general can still happen. You just won't get a segfault or worse from it.
[19:48:31] <kimundi> Tari: Not really
[19:48:42] <Tari> if A goes away, all B are invalidated
[19:48:55] <kimundi> Tari: You said each B is unique. SO Bwrapper would exist if the B exists, and be gone if the B is gone.
[19:48:57] <eddyb> preventing deadlock sounds like halting problem
[19:49:18] *** Joins: esummers (esummers@moz-3B015C90.wi.res.rr.com)
[19:49:30] <kimundi> Tari: Ah. Would it make sense to embedded a A in each BWrapper?
[19:49:32] <sfackler> it is
[19:49:43] *** Joins: james4k (james@moz-9BB5AE72.consolidated.net)
[19:49:43] <zwarich> there are type systems that prevent deadlock, of course just like type systems to prevent memory safety / data races they reject some dynamically valid programs
[19:49:48] *** Quits: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net) (Quit: carllerche)
[19:50:04] <joebobjoe> zwarich: What language?
[19:50:07] <Tari> can't embed an owned A in BWrapper, since there's only one A
[19:50:09] <kimundi> Tari: Or is it neccessary that all B handles can be shutdown at a distance by dropping the A?
[19:50:36] <Tari> my constraints are as follows
[19:50:41] <Tari> B must never outlive A
[19:51:11] <Tari> A should be freed when there are no longer any B (and the user drops A)
[19:51:15] <Tari> there is only ever one A
[19:51:21] <zwarich> joebobjoe: I think they've generally been done with Java, although some are just abstract type systems in research papers
[19:51:53] <kimundi> Tari: If you make each wrapper contain a reference back to the A, you can ensure that all B are dead before the A dies.
[19:51:56] *** Joins: ganitsu1 (ganitsu@moz-2D7A6CF8.dialup.adsl.anteldata.net.uy)
[19:52:24] *** Joins: jzelinskie (sid17772@moz-A42E5B7B.irccloud.com)
[19:52:29] <kimundi> Tari: Ad if you make each BWrapper contain a Rc<A>, you can make sure it drops if the last B dropped.
[19:52:29] *** Quits: ganitsu (ganitsu@moz-551BFBA3.dialup.adsl.anteldata.net.uy) (Ping timeout)
[19:53:01] <kimundi> Tari: You can then write a AWrapper that contains a Weak<A> which can recreate a A handle if neccessary.
[19:53:21] <Tari> oh, there's another constraint
[19:53:35] *** Quits: LRN (LRN@moz-EA80C63C.nationalcablenetworks.ru) (Connection reset by peer)
[19:53:37] <Tari> or, no
[19:53:44] *** Joins: LRN (LRN@moz-EA80C63C.nationalcablenetworks.ru)
[19:53:52] <Tari> recreating an A with an existing B is an error
[19:54:02] *** Quits: murph (murph@moz-F07B75BF.oracle.com) (Ping timeout)
[19:54:07] *** Quits: mihneadb (mihneadb@moz-6B31F5AA.static.ziggozakelijk.nl) (Quit: Bye)
[19:54:23] <kimundi> Tari: _that_ sounds like you need a global lock to ensue only one A may ever exist at the same time
[19:54:24] <jdm> how can I make a type not implicitly copyable?
[19:54:26] <jdm> oh, destructor
[19:54:39] <kimundi> jdm: Or include the NoPod kind
[19:54:41] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[19:54:41] <sfackler> jdm: or a NoPod marker type in it
[19:54:50] <kimundi> er, marker, right
[19:55:03] <eddyb> marker is cheaper
[19:55:05] *** Joins: murph (murph@moz-F07B75BF.oracle.com)
[19:55:13] <Tari> putting Rc<A> in B sounds like the right idea though
[19:55:23] <joebobjoe> You can't have deadlock with message passing right?
[19:55:28] *** Quits: brendan (brendaneic@5121379B.68EECDA4.4EA770CF.IP) (Quit: brendan)
[19:55:34] <sfackler> you totally can
[19:55:38] *** Quits: janra (Janus@1CDC5701.A48867D7.52E4E107.IP) (Ping timeout)
[19:55:41] <sfackler> make a channel and receive from it :P
[19:56:09] <Tari> kimundi: put another way, if a B exists and A must be recreated, we've violated the constraint that no B outlive A
[19:56:34] <kimundi> Tari: yes.
[19:56:48] <Tari> for the moment I'm not concerned with thread safety
[19:56:52] *** Quits: canhtak (canhtak@moz-4FB0FBC1.wl.t.ulaval.ca) (Quit: canhtak)
[19:56:59] <strcat> joebobjoe: you can represent mutable shared state in terms of channels
[19:57:01] <Tari> I'll consider the Rc<A> in B further; it sounds promising
[19:57:04] <strcat> I don't think it really helps you much with that
[19:57:11] <strcat> just use whatever is easier and/or more efficient
[19:58:11] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[19:58:11] <sfackler> joebobjoe: you can emulate a mutex with a channel, so it has the same deadlock risks as a mutex
[19:58:33] *** Joins: eholk (eholk@4C33E9A6.EC877627.1378615F.IP)
[19:58:39] *** Quits: evanm (evanm@636AC086.5999CED5.71743E61.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[20:00:05] *** Joins: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net)
[20:00:24] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[20:00:48] *** Joins: brendan (brendaneic@5121379B.68EECDA4.4EA770CF.IP)
[20:01:06] <rootnode> a friend just stumbled upon this and I had no explanation for why that is so: why is len() on iterators implement in a way that the iterator is moved to the end and doesn't reset to where it was?
[20:01:58] <sfackler> rootnode: there's no way in general to figure out the size of an iterator without running the iterator, and iterators in general can't backtrack
[20:02:14] <sfackler> if it's, for example, an iterator over a network stream
[20:02:35] <rootnode> ah ok
[20:02:37] <rootnode> that makes sense
[20:02:37] *** Joins: dpc (Mibbit@moz-88B014CD.nvidia.com)
[20:02:49] <strcat> the len method on iterators is an O(n) way of consuming one
[20:02:51] *** Joins: doener (doener@moz-C68F600D.unity-media.net)
[20:03:00] *** Joins: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP)
[20:03:27] *** Joins: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net)
[20:03:27] *** ChanServ sets mode: +o tjc
[20:03:32] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[20:03:42] <rootnode> I didn't think of streams and other things in that direction
[20:04:01] <SiegeLord> Is there any organized effort for the Rosetta Code?
[20:04:27] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[20:04:40] <eibwen> SiegeLord: google gave me this: https://github.com/Hoverbear/rust-rosetta
[20:04:42] *** Quits: koderok (Thunderbir@CE5B9E46.4004B6B9.50E99975.IP) (Ping timeout)
[20:05:44] <SiegeLord> Ah, sweet
[20:05:47] <SiegeLord> Why is it failing >_<
[20:06:05] <sfackler> rootnode: iterators do have a size_hint method that'll give a lower bound and upper bound on the number of things remaining. On things like vector iterators those numbers are always the same so you can use that as the length
[20:06:13] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[20:07:27] *** Joins: jviereck (Adium@moz-D01766D8.dynamic.hispeed.ch)
[20:07:46] *** Quits: jviereck (Adium@moz-D01766D8.dynamic.hispeed.ch) (Max SendQ exceeded)
[20:07:53] *** Joins: jviereck (Adium@moz-D01766D8.dynamic.hispeed.ch)
[20:08:16] *** Quits: jviereck (Adium@moz-D01766D8.dynamic.hispeed.ch) (Quit: Leaving.)
[20:08:18] *** Quits: Earnestly (earnest@18162BE0.BA6AC103.30311652.IP) (Ping timeout)
[20:08:51] <joebobjoe> Eventually, how amenable will Rust's standard library be towards writing code for resource constrained systems like microcontrollers?
[20:09:11] <joebobjoe> Also, I wonder if anyone will try to write a libc replacement in Rust?
[20:09:25] <strcat> libc is nearly all cruft
[20:09:37] <strcat> the parts rust uses are the wrappers around syscalls
[20:09:46] <strcat> which you can make directly on a specific OS easily
[20:10:08] <strcat> just annoying to do it across many (which is why using an existing libc is a saner idea)
[20:10:22] *** Joins: heftig (heftig@moz-E07DF3E5.dip0.t-ipconnect.de)
[20:10:55] <eddyb> strcat: mmaybe we should start migrating towards syscalls?
[20:11:03] <strcat> why?
[20:11:06] <eddyb> strcat: and keep using libc as a fallback (like LLVM with abort())
[20:11:08] <strcat> it won't be faster
[20:11:37] <eddyb> the day I won't see libc.so.6 in the dependencies of Rust libraries :)
[20:11:45] <eddyb> though, malloc/free *meh*
[20:11:46] <strcat> you'd only remove it on specific OSes
[20:12:27] <eddyb> need to get Tobba to write that weak items RFC for me :D
[20:12:40] <Tobba> heh
[20:12:42] <kimundi> joebobjoe: How the std lib will shake out exactly is not yet entirely clear. But getting a minimal version of it that runs µCs and should be possible one way or another.
[20:12:44] <Tobba> been a bit busy
[20:12:50] <eddyb> np, me too
[20:13:53] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[20:14:07] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[20:14:15] <strcat> kimundi: the parts you can make freestanding don't really overlap with the parts of libc that are useful
[20:14:24] *** Joins: sk (sk@61A494B3.BA40E8A.AAC02D62.IP)
[20:14:54] <eddyb> strcat: how good of an idea is to keep using libc's heap?
[20:15:04] <o11c> a freestanding libc (i.e. not following the standards) *would* be nice
[20:15:09] <strcat> eddyb: in the long term? we don't want to use malloc/free/realloc
[20:15:12] <strcat> it's a crippled API
[20:15:18] <eddyb> we dropped jemalloc as a dependency for a reason, what was it?
[20:15:26] <strcat> we didn't use jemalloc's API anyway
[20:15:29] <kimundi> strcat: Wasn't even talking about libc. ;)
[20:15:42] <strcat> eddyb: we relied on it overriding the symbols
[20:15:44] <strcat> didn't work everywhere
[20:15:48] <eddyb> ahh
[20:15:59] <strcat> we should just use the jemalloc-specific API anyway
[20:16:07] <strcat> ignore the libc compatibility layer
[20:16:24] *** Joins: koderok (Thunderbir@CE5B9E46.4004B6B9.50E99975.IP)
[20:16:28] <strcat> then we can ask for alignment from both alloc/ralloc
[20:16:34] <strcat> and zeroing from both alloc/ralloc
[20:16:47] <strcat> well, I forget what they called the new functions
[20:16:59] *** Joins: mawuli (mawuli@5054574.B199513B.DE15C958.IP)
[20:17:30] <strcat> mallocx/rallocx + a bunch of others
[20:17:55] <sfackler> eddyb: we discovered that jemalloc wasn't actually being used, and it caused some build issues
[20:18:21] <strcat> sfackler: it was being used on linux
[20:18:38] <eddyb> sfackler: and it was in-tree instead of submodule?
[20:18:40] <sfackler> was it windows that kept using libc's allocator?
[20:18:41] *** Quits: mediocrity (Thunderbir@moz-8A2E9A09.bredband.comhem.se) (Quit: mediocrity)
[20:18:48] *** Quits: mawuli (mawuli@5054574.B199513B.DE15C958.IP) (Ping timeout)
[20:18:48] <strcat> sfackler: I think it was OS X
[20:18:54] <sfackler> oh yeah
[20:19:14] <SiegeLord> How does CString free the memory it owns?
[20:19:16] <o11c> regardless, if you avoid using the libc api, ...
[20:19:43] <SiegeLord> Looks like it uses free... hmm
[20:19:49] <sfackler> SiegeLord: I think you can tell it to or not at construction time
[20:20:01] <sfackler> there's an "owned" flag iirc
[20:20:34] <strcat> o11c: yeah, there's 3 choices really - overriding C functions (didn't work), using je_ prefixed C functions or the non-standard API
[20:20:41] <doomlord_> does jemalloc have the size-passed idea for free
[20:20:42] <strcat> and if we're going to use jemalloc, we might as well use the non-standard API
[20:21:24] <strcat> doomlord_: they used to, they replaced it with a sneakier way
[20:21:31] <sfackler> we need to to get simd alignment right, don't we?
[20:21:33] *** Quits: jdm (jdm@FCCEA34F.7672369.D8E68FF6.IP) (Ping timeout)
[20:21:38] <SiegeLord> sfackler: Yes, but there's no option to specify how to free it. Not important in my case though
[20:21:39] <strcat> they have a function taking a size + flags, and they tell you what the allocation size would be
[20:22:00] <strcat> sfackler: yeah, jemalloc lets you pass a custom align to the reallocation function
[20:22:12] *** Joins: derek_c (derek@moz-1AF45A2B.cit.cornell.edu)
[20:22:16] *** Joins: hjr3 (hradtke@77CEA1B2.767934EB.9B6EB213.IP)
[20:22:39] *** Quits: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP) (Quit: Taking a nap.)
[20:22:44] <eddyb> with sizes being passed, hmmm
[20:22:59] *** Quits: hjr3 (hradtke@77CEA1B2.767934EB.9B6EB213.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[20:23:07] *** Quits: dpc (Mibbit@moz-88B014CD.nvidia.com) (Quit: http://www.mibbit.com ajax IRC Client)
[20:23:29] <eddyb> strcat: if I didn't care for recovery I could totally make Slam/Blam take a size to free and have 0 overhead for size_of::<uint>() * 2 allocations
[20:23:48] *** Joins: maattdd (matthieu@moz-71F66BC0.w82-123.abo.wanadoo.fr)
[20:23:59] *** Joins: mawuli (mawuli@5054574.B199513B.DE15C958.IP)
[20:24:01] <doomlord_> i like the idea that you can eliminate all the headers in the allocator with the user tracking the information of size (eg vectors know how much they allocate). I've seen people fudge a fix using a smallblock allocator that encodes size in the adress, but that needs 64bit adressing/mmu (ok i guess mostly these days, but wouldn't work on x32..)
[20:24:08] <eddyb> not sure why it's a doubly linked list, even
[20:24:32] *** Joins: mgottschlag (quassel@moz-C9007C38.cust.bluewin.ch)
[20:24:43] <strcat> doomlord_: modern allocators don't have headers
[20:24:49] <eddyb> ohh imagine ~uint having 0 overhead
[20:24:57] <eddyb> strcat: figuring out size from address?
[20:25:11] *** Quits: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[20:25:18] <eddyb> or just storing the metadata somewhere in the same page
[20:25:19] <strcat> jemalloc has a hard guarantee that metadata won't be greater than 2% of memory usage iirc
[20:25:34] <strcat> eddyb: size classes + clever bitmaps
[20:25:39] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[20:25:53] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[20:26:08] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[20:26:11] <strcat> eddyb: jemalloc is smart enough that it can do |16| 32 |16| though afaik 
[20:26:13] <strcat> via bitmaps
[20:26:21] <strcat> as in it can pack stuff in
[20:26:24] <strcat> mixed sizes
[20:26:28] <doomlord_> strcat so it does have smallblock optimizations going on i guess, does that guarantee hold if you allocate 1million x 4bytes etc 
[20:26:44] <strcat> doomlord_: metadata overhead is less than 2%
[20:26:53] <joebobjoe> Wow, where do I learn about all this low-level API stuff?
[20:26:54] <strcat> there are size classes though
[20:26:58] *** Quits: kris (kris@moz-147EE6DF.diku.dk) (Ping timeout)
[20:27:08] <strcat> 4 byte allocation is 16 bytes (why are you allocating <= 8 bytes with the allocator anyway?)
[20:27:09] <doomlord_> i suppose it must cluster them itself
[20:27:14] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[20:27:20] <sfackler> modern allocators are nuts
[20:27:31] *** Joins: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net)
[20:27:41] <eddyb> strcat: doesn't jemalloc have 1 byte allocations?
[20:27:43] <strcat> doomlord_: 16 bytes is actually the smallest allocation an x86_64 allocator is allowed to do per the System V ABI
[20:27:49] <doomlord_> ah, no thats what i want the ability to do , ideally - small vectors. because you *can* design an allocator that can handle it :)
[20:27:49] <strcat> eddyb: not allowed with the standard API
[20:27:54] <strcat> eddyb: and it's pointless
[20:27:54] <edwardw> seems borrow many ideas from a gc
[20:28:13] <strcat> eddyb: if the alloc would be 8 bytes or lower, just don't use a pointer
[20:28:18] * strcat shrugs
[20:28:22] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Ping timeout)
[20:28:24] <eddyb> strcat: I mean, it has size classes < 8 bytes
[20:28:25] <strcat> unless you really, really need it to be shared + mutable
[20:28:33] <doomlord_> i suppose you'd have some smallblock optimization in the middle, between the language and the 'system allocator'
[20:28:46] <strcat> eddyb: no
[20:28:59] <eddyb> then the table is more confusing than I thought
[20:29:11] <strcat> doomlord_: the system allocator it uses is mmap/munmap
[20:29:26] <strcat> even ancient malloc implementations didn't fall directly through to that
[20:29:32] <strcat> (or sbrk/brk)
[20:30:03] <eddyb> strcat: the only advantange of Slam/Blam is code size and efficiency :/
[20:30:15] <eddyb> and it still requires a background recovery process
[20:30:23] <eddyb> not sure I like it as much anymore :(
[20:30:33] *** Quits: edwardw (edwardw@96E7298D.3E260003.B9C6B12A.IP) (Quit: Leaving...)
[20:30:34] <strcat> with ridiculously large vectors (>32MiB) then mmap/mremap/munmap performs well
[20:30:42] *** Joins: evanm (evanm@636AC086.5999CED5.71743E61.IP)
[20:30:44] <strcat> since extending the size of the vector won't require a copy
[20:31:08] <eddyb> strcat: anything larger than a page should go to mmap/mremap/munmap though
[20:31:17] <eddyb> there's like no point to doing otherwise
[20:31:35] *** Joins: kris (kris@moz-147EE6DF.diku.dk)
[20:31:42] <eddyb> I'm not even sure pow2 size classes matter at that point
[20:32:01] <strcat> eddyb: no, things larger than a page should not fall through to mmap
[20:32:06] <strcat> mmap is a syscall, it's slow
[20:32:10] <eddyb> strcat: aww :(
[20:32:19] <strcat> eddyb: jemalloc has size classes > 4MiB
[20:32:31] *** Quits: sunfish (chatzilla@13F2CEC5.7672369.D8E68FF6.IP) (Ping timeout)
[20:32:32] <eddyb> strcat: so there's a benefit to caching mmaps?
[20:32:36] <strcat> yes
[20:32:48] <eddyb> not so much within the kernel itself, I guess
[20:32:52] *** Quits: kris (kris@moz-147EE6DF.diku.dk) (Client exited)
[20:32:52] <SiegeLord> Why is CString::new() unsafe?
[20:32:57] <strcat> eddyb: the kernel itself is just using VM
[20:33:04] *** Joins: kris (kris@moz-147EE6DF.diku.dk)
[20:33:08] <eddyb> SiegeLord: because you can pass it bogus addresses AFAIK
[20:33:12] <strcat> mremap doesn't ever need to copy, even when it moves the address space
[20:33:14] <SiegeLord> Aha, I see
[20:33:21] <strcat> the kernel can *literally* move memory
[20:33:25] <eddyb> :D:D
[20:33:26] *** Joins: sunfish (chatzilla@13F2CEC5.7672369.D8E68FF6.IP)
[20:33:29] <strcat> since memory is virtual
[20:33:37] <strcat> just fiddle with page tables
[20:33:49] <eddyb> I got to go now, but this was fun :)
[20:34:07] <eddyb> strcat: I actually woke up talking to you about IO/syscal perf
[20:34:16] <strcat> ;)
[20:34:17] <eddyb> strcat: and now I end the day with mmap/syscall perf
[20:34:23] *** Quits: Rym (y@1AFE98D6.BF54EC93.51C6DE68.IP) (Ping timeout)
[20:34:42] <strcat> I'm pretty sure mmap/munmap are also both O(logn) on linux
[20:34:44] <strcat> you can do better 
[20:34:48] <strcat> (for smaller sizes)
[20:35:07] <eddyb> and minimal changes to my local clone of Rust (I really feel like I'm losing time - as in, time goes away faster than it should. could be IRC though)
[20:35:15] <eddyb> 'night
[20:35:18] <strcat> afaik a good allocator can give you something like O(1) average amortized (with O(logn) worst case)
[20:35:27] *** Joins: tobytailor (tobytailor@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[20:35:29] *** Quits: kris (kris@moz-147EE6DF.diku.dk) (Ping timeout)
[20:35:47] <strcat> now and then it has to do bookkeeping
[20:35:49] *** Quits: dherman (dherman@moz-705E7FCC.static.twtelecom.net) (Quit: dherman)
[20:35:59] <eddyb> strcat: yeah, that's what Slam/Blam does, at the cost of chunky size classes
[20:36:22] <strcat> jemalloc is technically not O(1) because it uses red black trees too much ;(
[20:36:28] <strcat> that's why it loses to tcmalloc
[20:36:32] <strcat> well, one reason at least
[20:37:00] <strcat> well
[20:37:04] <strcat> it does have bitmaps now
[20:37:06] <strcat> hm
[20:37:10] <eddyb> I wonder how many variations on Slab/Slam/Blam I can accumulate
[20:37:18] <Tari> I need a mutable Rc<T>. The solution there is Rc<RefCell<T>>, right?
[20:37:29] *** Quits: sunfish (chatzilla@13F2CEC5.7672369.D8E68FF6.IP) (Ping timeout)
[20:37:31] <strcat> Tari: or Cell, if it's Pod
[20:37:33] <eddyb> I know the original used bitmaps, James Molloy removed those and use clever tricks and I'm just threashing it
[20:37:46] <eddyb> *used
[20:37:48] <eddyb> *trashing
[20:37:55] <eddyb> that's obviously a sign I should hit the bed
[20:38:00] <strcat> eddyb: jemalloc cares a lot about memory usage and memory fragmentation
[20:38:19] <eddyb> strcat: I am probably worse than glibc :(
[20:38:37] <strcat> glibc is faster than jemalloc in a single-threaded naive microbenchmark
[20:38:39] <strcat> so w/e
[20:38:47] <eddyb> because reclaiming pages (recovery) from free lists is a background GC-like process
[20:38:50] *** Joins: kris (kris@moz-147EE6DF.diku.dk)
[20:38:51] <strcat> tcmalloc wins nearly any benchmark though ;p
[20:39:05] <carllerche> how can I get rustc to use a .a or .o built w/ a C compiler?
[20:39:08] <o11c> does tcmalloc have as many flags as jemalloc ?
[20:39:19] <eddyb> strcat: what do those do, for recovery?
[20:39:22] <strcat> o11c: well, tcmalloc doesn't exist in a true form outside chromium
[20:39:30] <SiegeLord> Hmm... CString doesn't like explicit nul's inside strings
[20:39:32] <eddyb> strcat: can it happen every time you free?
[20:39:32] <strcat> o11c: there's a tcmalloc in gperftools but it's not as good
[20:39:46] <strcat> o11c: afaik they just add whatever they need and remove stuff they don't
[20:39:50] <strcat> it's a C++ API...
[20:40:07] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[20:40:39] <strcat> o11c: imo it'd be a bad idea to use tcmalloc's internal API
[20:40:49] *** Quits: eholk (eholk@4C33E9A6.EC877627.1378615F.IP) (Quit: eholk)
[20:41:14] *** Quits: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net) (Client exited)
[20:41:14] *** Quits: eddyb (eddy@F8B50789.F33C1089.FB866788.IP) (Ping timeout)
[20:41:21] <SiegeLord> I'd imagine you could want to do "abc\0".with_c_str(...) to avoid allocations
[20:41:26] *** Quits: [squiddy] (squiddy@moz-767EF079.dynamic.cablesurf.de) (Quit: Leaving)
[20:41:30] *** Quits: kris (kris@moz-147EE6DF.diku.dk) (Ping timeout)
[20:41:30] *** Quits: maattdd (matthieu@moz-71F66BC0.w82-123.abo.wanadoo.fr) (Ping timeout)
[20:41:31] <strcat> o11c: https://code.google.com/p/gperftools/source/browse/src/gperftools/malloc_extension.h
[20:41:36] *** Joins: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net)
[20:41:49] <o11c> strcat: okay, thanks for the info
[20:42:04] *** Quits: jackneill (jackneill@moz-AE64C353.pool.digikabel.hu) (Input/output error)
[20:42:05] <strcat> (I think chromium has a lot more than that API though)
[20:43:11] <SiegeLord> Oh I see, that's why there's to_c_str_unchecked
[20:43:22] *** Quits: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net) (Ping timeout)
[20:43:36] *** Joins: Rym (y@1AFE98D6.BF54EC93.51C6DE68.IP)
[20:44:12] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[20:44:23] *** Joins: olivier (Mibbit@moz-2811C56F.fbx.proxad.net)
[20:44:27] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[20:44:51] *** Joins: zootm (calum@moz-150DDDC2.sgyl.cable.virginm.net)
[20:45:31] *** Quits: jdavis_ (jdavis@moz-1BE8A6A1.hsd1.ca.comcast.net) (Ping timeout)
[20:45:49] *** Joins: Houm (Houm@moz-25669AA8.fbx.proxad.net)
[20:47:09] *** Quits: tyna (liadon@moz-BB1BAD9A.dynamic.chello.pl) (Ping timeout)
[20:47:18] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[20:47:29] *** Quits: abustany (abustany@moz-C0C970CD.org) (Ping timeout)
[20:47:59] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[20:48:17] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[20:48:26] *** Joins: jdm (jdm@13F2CEC5.7672369.D8E68FF6.IP)
[20:48:26] *** ChanServ sets mode: +o jdm
[20:48:39] *** Quits: philix (felipe@moz-A9E41556.user.veloxzone.com.br) (Ping timeout)
[20:49:05] *** Joins: philix (felipe@moz-D13524B6.user.veloxzone.com.br)
[20:50:09] <SiegeLord> Is it, in principle, safe to pass the pointer to a Rust static string to a C function?
[20:50:12] <olivier> hi!
[20:50:29] *** Joins: jdavis_ (jdavis@moz-1BE8A6A1.hsd1.ca.comcast.net)
[20:50:31] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[20:50:32] <SiegeLord> Since I think they are stored in the executable with 0's between each string
[20:50:37] <SiegeLord> Or is that not the case?
[20:50:59] <strcat> SiegeLord: I don't see any reason there would be a guarantee of a 0 between each
[20:51:24] <olivier> I'm looking for the release date of version 0.10. I saw nothing about this. Is there an anoucement?
[20:51:27] <SiegeLord> I see
[20:51:39] <strcat> we will be marking them unnamed_addr so LLVM could even merge "foo" and "foobar" into one string
[20:51:49] <strcat> I actually planned on writing an LLVM pass to do that
[20:51:57] <strcat> non-null-terminated string merging
[20:51:58] <SiegeLord> That sounds neat
[20:52:10] <aatch> olivier, next week, if brson can get the distribution builder working
[20:52:20] <SiegeLord> Not sure the time-space tradeoff is quite worth it though
[20:53:11] *** Quits: andre (andre@CA528A4A.45A4338E.8EE27E6.IP) (Quit: leaving)
[20:53:16] *** Quits: ahunt (ahunt@moz-5E5AB5C8.range86-145.btcentralplus.com) (Ping timeout)
[20:53:16] *** Quits: mgottschlag (quassel@moz-C9007C38.cust.bluewin.ch) (Ping timeout)
[20:53:51] *** Joins: abustany (abustany@moz-C0C970CD.org)
[20:54:08] <olivier> aatch: thanks for the info.
[20:54:19] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Input/output error)
[20:54:27] *** Quits: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[20:54:27] <aatch> olivier, at least, I think thats what I saw said the other day.
[20:54:49] *** Quits: mye (mye@moz-4C61F066.dip0.t-ipconnect.de) (Quit: So long, and thanks for all the fish!)
[20:55:27] *** Joins: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net)
[20:55:27] *** ChanServ sets mode: +o tjc
[20:55:56] *** Joins: sunfish (chatzilla@13F2CEC5.7672369.D8E68FF6.IP)
[20:56:03] <olivier> Some people are writting an article in the French site LinuxFr.org about Rust-0.10, so I'll tell them to be ready ;)
[20:56:31] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[20:57:01] <olivier> If some French speakers are here and want to collaborate to this article, they are welcome!
[20:58:24] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[20:58:32] *** Quits: nano (nano@moz-ED77243C.superkabel.de) (Connection reset by peer)
[20:58:35] <olivier> For example, the article for 0.9 was this one: http://linuxfr.org/news/quelques-nouvelles-sur-rust-a-l-occasion-de-la-0-9
[20:58:54] *** Quits: zootm (calum@moz-150DDDC2.sgyl.cable.virginm.net) (Ping timeout)
[20:59:21] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[20:59:27] <strcat> SiegeLord: well it'll use some fancy trie
[21:00:12] <strcat> merging prefixes would be easy, but you can do a lot more without a big cost
[21:01:27] *** Quits: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net) (Quit: carllerche)
[21:01:31] *** Quits: joebobjoe (mckin_000@moz-1D2D613F.ga.at.cox.net) (Quit: Leaving.)
[21:01:41] *** Quits: tigrou3tac (fabien@moz-6E2397FF.fbx.proxad.net) (Ping timeout)
[21:03:17] *** Quits: olivier (Mibbit@moz-2811C56F.fbx.proxad.net) (Quit: bye)
[21:04:43] *** Quits: rootnode (rootnode@moz-6E1A64F0.pools.arcor-ip.net) (Quit: Leaving)
[21:05:33] *** Quits: Sorella (quildreen@89788746.FDF9B0F2.A95FAE2B.IP) (Quit: Ex-Chat)
[21:05:58] *** Joins: dherman (dherman@77CEA1B2.767934EB.9B6EB213.IP)
[21:05:58] *** ChanServ sets mode: +ao dherman dherman
[21:06:04] *** Joins: kris (kris@moz-6D20263F.fullrate.dk)
[21:06:09] *** Joins: jaras (textual@1CDC5701.A48867D7.52E4E107.IP)
[21:06:25] *** Joins: janra (Janus@1CDC5701.A48867D7.52E4E107.IP)
[21:06:44] *** Quits: vikstrous (v@13F2CEC5.7672369.D8E68FF6.IP) (Ping timeout)
[21:06:48] *** Quits: jdm (jdm@13F2CEC5.7672369.D8E68FF6.IP) (Ping timeout)
[21:07:10] *** Quits: sunfish (chatzilla@13F2CEC5.7672369.D8E68FF6.IP) (Ping timeout)
[21:08:06] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[21:08:06] *** ChanServ sets mode: +ao pcwalton pcwalton
[21:09:16] *** Joins: drawoc (drawoc@moz-BAC1D3AB.res-cmts.sesh.ptd.net)
[21:09:22] *** Joins: guest2222 (guest2222@449A2E7C.F299E8.284344F5.IP)
[21:10:39] *** Quits: guest22221 (guest2222@moz-1D2D613F.ga.at.cox.net) (Ping timeout)
[21:10:59] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[21:11:22] <o11c> hm, the one thing that seems slightly strange with jemalloc is that it has a fixed number of arenas ...
[21:11:25] *** Joins: jdm (jdm@13F2CEC5.7672369.D8E68FF6.IP)
[21:11:25] *** ChanServ sets mode: +o jdm
[21:11:41] <o11c> that doesn't play nice with the idea of arenas as objects
[21:11:59] *** Joins: sunfish (chatzilla@13F2CEC5.7672369.D8E68FF6.IP)
[21:12:09] *** Joins: guest22221 (guest2222@moz-1D2D613F.ga.at.cox.net)
[21:12:14] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[21:12:27] *** Joins: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net)
[21:12:32] *** Quits: voxpopuli (fanservice@6B5292DD.598E1842.689607DE.IP) (Ping timeout)
[21:12:42] *** Quits: guest2222 (guest2222@449A2E7C.F299E8.284344F5.IP) (Ping timeout)
[21:13:10] *** Quits: bjz_ (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[21:13:10] *** Joins: rootnode (rootnode@moz-6E1A64F0.pools.arcor-ip.net)
[21:13:50] *** Joins: guest2222 (guest2222@449A2E7C.F299E8.284344F5.IP)
[21:14:03] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[21:14:23] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[21:14:41] *** Quits: guest22221 (guest2222@moz-1D2D613F.ga.at.cox.net) (Ping timeout)
[21:14:42] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[21:14:42] *** Joins: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP)
[21:15:04] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[21:16:06] *** Quits: Guest (textual@333EC5A2.D8252BC.9532F1CE.IP) (Quit: Textual IRC Client: www.textualapp.com)
[21:16:07] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Ping timeout)
[21:16:35] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[21:17:08] *** Joins: guest22221 (guest2222@moz-AFE5D8E0.xlate.ufl.edu)
[21:17:34] *** Quits: sunfish (chatzilla@13F2CEC5.7672369.D8E68FF6.IP) (Ping timeout)
[21:17:38] *** Quits: guest22221 (guest2222@moz-AFE5D8E0.xlate.ufl.edu) (Connection reset by peer)
[21:18:05] *** Quits: guest2222 (guest2222@449A2E7C.F299E8.284344F5.IP) (Ping timeout)
[21:18:35] *** Joins: sunfish (chatzilla@13F2CEC5.7672369.D8E68FF6.IP)
[21:19:03] *** Joins: guest2222 (guest2222@moz-363FCAB.xlate.ufl.edu)
[21:20:08] *** Quits: guest2222 (guest2222@moz-363FCAB.xlate.ufl.edu) (Connection reset by peer)
[21:20:17] *** Joins: guest2222 (guest2222@moz-363FCAB.xlate.ufl.edu)
[21:20:52] *** Joins: joebobjoe (mckin_000@moz-3F9D8A74.xlate.ufl.edu)
[21:21:01] *** Quits: mawuli (mawuli@5054574.B199513B.DE15C958.IP) (Ping timeout)
[21:21:09] *** Parts: joebobjoe (mckin_000@moz-3F9D8A74.xlate.ufl.edu) ()
[21:22:12] *** Joins: tyna (liadon@moz-BB1BAD9A.dynamic.chello.pl)
[21:23:07] <strcat> o11c: you wouldn't be using jemalloc arenas for language-level arenas
[21:23:12] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Input/output error)
[21:23:41] <strcat> o11c: jemalloc's concept of an arena is just there to make stuff thread-local, but not after a certain point
[21:23:42] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[21:25:22] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[21:25:46] <strcat> if you make 3 threads, you'd be using 3
[21:25:57] <strcat> afaik it just wraps around when it gets to the end
[21:26:23] <strcat> so they get evenly distributed - but they may not always live for the same length of time, so you can manually assign to an arena
[21:26:41] <o11c> strcat: yeah, I'm just trying to think how the (language arena) -> (jemalloc arena) mapping goes
[21:26:41] <strcat> just to reduce lock contention
[21:26:48] *** Quits: dranov (dranov@10725E3C.94264913.FB866788.IP) (Ping timeout)
[21:27:24] *** Joins: robhobbes (robert@moz-9B3FF613.slc.googlefiber.net)
[21:27:37] *** Joins: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net)
[21:27:59] <robhobbes> Hey, can anyone tell me what a SmallIntMap (besides being a map)?
[21:28:26] *** Quits: koderok (Thunderbir@CE5B9E46.4004B6B9.50E99975.IP) (Quit: koderok)
[21:29:04] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Ping timeout)
[21:29:44] <aatch> robhobbes, it's just a vector
[21:30:18] *** Quits: kngl1 (Adium@40AE2BF6.ABCDAFD6.7C797F8E.IP) (Quit: Leaving.)
[21:30:19] <robhobbes> aatch: what do you mean? how does it map a key to a value?
[21:30:36] <aatch> robhobbes, it uses the key as an index into the vector
[21:30:56] <robhobbes> does it only work if the key is a "small int"
[21:31:10] <aatch> so if your keys are fairly small, it doesn't take up too much space and it much faster
[21:31:11] *** Joins: hoverbear (hoverbear@moz-BEC82F6D.wireless.uvic.ca)
[21:31:28] <robhobbes> how small is fairly small?
[21:31:30] <aatch> however, if you have a large key, then you'll allocate *a lot* of space
[21:31:42] <aatch> robhobbes, depends on what you're doing and how dense your keys are.
[21:32:08] <strcat> robhobbes: if you put 10000 in it, it allocates a 10000 long vector
[21:32:12] <robhobbes> so this would be a good choice if I needed a map where the keys were chars and there weren't tons of keys in the first place?
[21:32:24] <strcat> robhobbes: what do you mean by char?
[21:32:29] <strcat> if you mean a rust char, definitely not
[21:32:36] <robhobbes> oh
[21:32:39] <aatch> if you mean ASCII char, then yes.
[21:32:46] <robhobbes> ?
[21:32:53] <robhobbes> what's the difference
[21:33:03] <strcat> rust's char type is a unicode scalar value
[21:33:12] <strcat> which is a 21-bit space
[21:33:22] <aatch> robhobbes, which means it takes up 32-bits
[21:33:26] <robhobbes> well I mean ascii chars
[21:33:32] <o11c> (slightly less than 21 bits actually)
[21:33:43] <strcat> yeah due to surrogates
[21:33:52] <strcat> but in a SmallIntMap you'd probably not be shifting them
[21:34:13] <aatch> I have 20.6 bit value, don't ask how I encoded .6 of a bit
[21:34:23] <o11c> no, not due to surrogates
[21:34:40] <strcat> o11c: hm, then why?
[21:34:47] <o11c> 0x10ffff is the highest unicode value, but 21 bits goes all the way to 0x1Fffff
[21:34:49] <robhobbes> well, so if I have a map where a key will be like 'a' or '/' or '*' then SmallIntMap is a good choice as long as I make sure they are "char"s and not "u8"s ?
[21:35:20] <aatch> robhobbes, are you expecting to use much of the the range?
[21:35:22] *** Quits: hoverbear (hoverbear@moz-BEC82F6D.wireless.uvic.ca) (Quit: Taking a nap.)
[21:35:36] <robhobbes> um... probably not
[21:35:39] <strcat> robhobbes: if they are u8, it's fine
[21:35:51] <robhobbes> I don't care a whole lot about space. I care more about speed
[21:36:03] *** Quits: apollow (yellowy432@moz-DF01490A.lightspeed.sntcca.sbcglobal.net) (Ping timeout)
[21:36:18] <o11c> hm, does rust have a binary search map based on an immutable vector?
[21:36:26] <strcat> space and speed are often the same thing due to CPU cache
[21:36:28] <robhobbes> I was thinking that if I used a HashMap I would have the overhead of hashing. Would a TreeMap be a good choice?
[21:36:30] <aatch> robhobbes, what is your use case btw?
[21:36:33] <strcat> o11c: no, just binary search and sorting
[21:36:36] <robhobbes> haha
[21:36:53] <robhobbes> well I'm trying to build a Trie based router that supports variable routing.
[21:36:58] <o11c> robhobbes: no, trees use a lot of indirection - only use them if you're frequently changing your data
[21:37:09] <ChrisMorgan> lessless: rust-http is your main option at present.
[21:37:47] <robhobbes> strcat: good point about space and speed. didn't think about that
[21:37:57] <strcat> robhobbes: so it's not constant?
[21:38:07] <robhobbes> strcat: what isn't constant?
[21:38:07] <seanmonstar> robhobbes: seen https://github.com/wycats/route-recognizer.rs ?
[21:38:08] <o11c> and not just "number of bytes" space, "number of allocations" also matters
[21:38:10] <ChrisMorgan> lessless: rust-http is far from perfect at present, but things will get better.
[21:38:23] <robhobbes> seanmonstar: no I haven't
[21:38:26] <aatch> data locality is a huge win for performance too, which is related
[21:38:41] *** Quits: qwerty_nor (Thunderbir@A5447B90.EDC74FC5.E19950A4.IP) (Ping timeout)
[21:39:31] <aatch> just look at Polly (an optimizer for LLVM), it can make significant gains based on data locality optimizations
[21:43:45] <robhobbes> So again, with a map that uses ASCII chars as keys, what pre-built map is probably the fastest?
[21:43:46] *** Quits: philix (felipe@moz-D13524B6.user.veloxzone.com.br) (Connection reset by peer)
[21:44:34] <robhobbes> assuming that only a handful of chars will end up being keys but there isn't anyway of knowing beforehand
[21:44:49] <aatch> robhobbes, SmallIntMap won't be too bad.
[21:44:52] *** Joins: eholk (eholk@4C33E9A6.EC877627.1378615F.IP)
[21:44:57] *** Quits: Savago (Savago@F7A245C3.E820043D.D4C04133.IP) (Quit: Savago)
[21:45:25] <aatch> core ASCII only goes up to 127 entries
[21:45:33] <aatch> 128*
[21:45:38] *** Quits: brendan (brendaneic@5121379B.68EECDA4.4EA770CF.IP) (Ping timeout)
[21:45:50] <robhobbes> aatch: Thanks.
[21:46:20] <aatch> mapping the characters based on how often they *do* occur would be a future optimization
[21:46:55] <robhobbes> aatch: yeah, there is usually room for improvement in any codebase
[21:47:30] <aatch> robhobbes, what are the values, btw?
[21:48:03] *** Quits: Kruppe (user@moz-253119B0.esg.uwaterloo.ca) (Ping timeout)
[21:48:15] <aatch> Since I recommend hiding them behind pointers if they are much larger than, well, a pointer
[21:48:36] *** Joins: mib_5krqcm (Mibbit@moz-B07CF281.dsl.lsan03.sbcglobal.net)
[21:48:46] *** Joins: ipetkov (ipetkov@33AEE1AA.A1C436AB.CE6682EF.IP)
[21:48:46] <robhobbes> aatch: they are small structs. I told strcat I was trying to build a trie based router, so the struct has { Option(fn pointer), Option(~str),  Map }
[21:49:03] <robhobbes> aatch: that isn't a bad idea though, using pointers... I'll have to look into that
[21:49:22] *** Quits: mib_5krqcm (Mibbit@moz-B07CF281.dsl.lsan03.sbcglobal.net) (Quit: http://www.mibbit.com ajax IRC Client)
[21:49:23] *** Joins: mawuli (mawuli@5054574.B199513B.DE15C958.IP)
[21:49:27] <aatch> robhobbes, just using an owned pointer would give you what you want
[21:49:37] <robhobbes> anyway. I gotta run. Thanks for all your help guys. Hopefully I'm as smart as you guys one day.
[21:49:40] *** Parts: robhobbes (robert@moz-9B3FF613.slc.googlefiber.net) ()
[21:50:33] *** Joins: philix (felipe@moz-D13524B6.user.veloxzone.com.br)
[21:50:49] *** Joins: mediocrity (Thunderbir@moz-8A2E9A09.bredband.comhem.se)
[21:52:15] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[21:52:57] *** Joins: hoverbear (hoverbear@moz-BEC82F6D.wireless.uvic.ca)
[21:53:15] *** Quits: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP) (Quit: buildmaster reconfigured: bot disconnecting)
[21:53:47] *** jorendorff is now known as jorendorff_away
[21:53:51] *** Joins: maattdd (matthieu@moz-71F66BC0.w82-123.abo.wanadoo.fr)
[21:54:06] *** Joins: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP)
[21:55:34] *** Quits: maattdd (matthieu@moz-71F66BC0.w82-123.abo.wanadoo.fr) (Ping timeout)
[21:55:55] *** Quits: eholk (eholk@4C33E9A6.EC877627.1378615F.IP) (Quit: eholk)
[21:57:31] *** Joins: Earnestly (earnest@23825DB4.728D78D6.39C00A7A.IP)
[21:57:57] *** Quits: dherman (dherman@77CEA1B2.767934EB.9B6EB213.IP) (Quit: dherman)
[22:00:16] <hoverbear> *Finally has blog, has nothing to write about*
[22:00:57] <cmr> hoverbear: write about how awesome rust is
[22:00:58] *** Quits: derek_c (derek@moz-1AF45A2B.cit.cornell.edu) (Ping timeout)
[22:01:00] <csherratt> how rust helps bears hover?
[22:01:03] *** Quits: NiccosSystem (NiccosSyst@moz-ED196BB4.customer.lyse.net) (Ping timeout)
[22:01:20] <hoverbear> @cmr: Good plan.
[22:01:32] <hoverbear> I need to figure out whats going on https://github.com/Hoverbear/rust-rosetta/issues/26#issuecomment-38639024
[22:03:35] <cmr> hoverbear: why are you using append_one O_o
[22:03:40] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[22:03:51] <cmr> can't that be w.clone().push(w[0])
[22:03:54] <hoverbear> Not my code
[22:04:00] <cmr> ah
[22:04:05] <cmr> hoverbear: essentially s/vec/slice/
[22:04:06] <cmr> everywhere
[22:04:12] <hoverbear> Okay.
[22:04:16] <cmr> std::vec is for the Vec type.
[22:04:23] <cmr> std::slice is for ~[T]
[22:04:53] *** Quits: huon (Thunderbir@moz-7CC720CF.lns20.syd7.internode.on.net) (Ping timeout)
[22:05:13] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[22:05:26] *** Joins: maattdd (matthieu@moz-71F66BC0.w82-123.abo.wanadoo.fr)
[22:05:46] <hoverbear> Okay, I think I get it.
[22:07:02] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[22:08:41] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[22:09:35] *** Quits: dmsky (dmsky@moz-FF2573B1.pppoe.spdop.ru) (Quit: Leaving...)
[22:09:50] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[22:10:31] *** Quits: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net) (Client exited)
[22:10:50] <hoverbear> Huh, match arms :(
[22:10:53] *** Joins: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net)
[22:12:34] *** Quits: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net) (Ping timeout)
[22:14:18] *** Joins: asmyers (quassel@moz-1BA75A5A.hrbgpa.east.verizon.net)
[22:14:43] *** Quits: guest2222 (guest2222@moz-363FCAB.xlate.ufl.edu) (Connection reset by peer)
[22:15:25] *** Joins: guest2222 (guest2222@moz-363FCAB.xlate.ufl.edu)
[22:16:33] *** jorendorff_away is now known as jorendorff
[22:17:04] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[22:17:12] *** Quits: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net) (Quit: ChatZilla 0.9.90.1 [Firefox 28.0/20140314220517])
[22:17:29] *** Joins: alkino (alkino@moz-AAF51602.w92-151.abo.wanadoo.fr)
[22:17:50] *** Joins: NiccosSystem (NiccosSyst@moz-ED196BB4.customer.lyse.net)
[22:18:45] *** Quits: jaras (textual@1CDC5701.A48867D7.52E4E107.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[22:19:04] *** Joins: cgaebel (clark@moz-F9D89110.nyc.res.rr.com)
[22:19:54] *** Quits: guest2222 (guest2222@moz-363FCAB.xlate.ufl.edu) (Connection reset by peer)
[22:19:55] *** Joins: guest22221 (guest2222@moz-363FCAB.xlate.ufl.edu)
[22:19:57] *** Quits: skade (skade@moz-1EC0F118.pools.arcor-ip.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[22:21:38] *** Quits: guest22221 (guest2222@moz-363FCAB.xlate.ufl.edu) (Connection reset by peer)
[22:21:38] *** Joins: guest2222 (guest2222@moz-363FCAB.xlate.ufl.edu)
[22:22:29] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[22:23:32] *** Quits: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP) (Ping timeout)
[22:24:30] *** Joins: pheleas_frog (Mibbit@moz-7AD9232F.rev.numericable.fr)
[22:24:50] *** Joins: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP)
[22:25:17] *** Joins: guest22221 (guest2222@moz-FC98BF4.tmodns.net)
[22:25:37] *** Quits: guest2222 (guest2222@moz-363FCAB.xlate.ufl.edu) (Ping timeout)
[22:25:55] <andor> if i have a struct such that: struct Foo<'a> { bar: ~str, baz: &'a str }, how would i go about making baz point into bar?
[22:25:56] *** Joins: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net)
[22:26:17] *** Joins: guest22222 (guest2222@moz-FC98BF4.tmodns.net)
[22:26:58] <sfackler> andor: I don't think you can
[22:27:03] *** Quits: guest22221 (guest2222@moz-FC98BF4.tmodns.net) (Ping timeout)
[22:27:25] <sfackler> if baz references into bar, bar has to be frozen, but that isn't tracked in a way that would work
[22:27:30] *** Quits: asmyers (quassel@moz-1BA75A5A.hrbgpa.east.verizon.net) (Ping timeout)
[22:28:01] <sfackler> changing baz to (uint, uint) and reslicing bar as needed should do it though
[22:28:17] *** Joins: guest2222 (guest2222@moz-1D2D613F.ga.at.cox.net)
[22:28:24] <Rym> Isn't there the * pointer for that case? 
[22:28:31] <andor> really? that sounds kind of odd, since i could make struct Foo { bar: HashMap<~str, ~str>, baz: HashMap<&'a str, Option<&'a str>> }
[22:28:41] <Rym> Like in the double linked list example
[22:28:43] *** jorendorff is now known as jorendorff_away
[22:28:49] <andor> where the things in baz point into things in bar
[22:28:53] *** Quits: guest22222 (guest2222@moz-FC98BF4.tmodns.net) (Ping timeout)
[22:30:06] *** Quits: khodzha (khodzha@301EE859.2AEE264E.CA6E2165.IP) (Ping timeout)
[22:31:02] <cmr> andor: no it couldn't be.
[22:31:04] <sfackler> andor: that seems unsound
[22:31:22] <andor> let me gist my compiling test
[22:32:16] *** Quits: cschneid (cschneid@moz-CA025D57.ip.mcleodusa.net) (Ping timeout)
[22:32:24] <andor> https://gist.github.com/andor44/9795160
[22:33:22] <andor> sorry for the silly indentation, it's thanks to editing it on more than one platform, heh
[22:33:26] *** Joins: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net)
[22:33:42] *** Quits: Ferreus (ferreus@moz-AB5E9900.lsn.wtnet.de) (Quit: WeeChat 0.4.4-dev)
[22:34:24] <cmr> andor: try writing a constructor for Foo
[22:35:11] <andor> cmr: well yes, Foo is going to be frozen, but that's alright
[22:35:26] <cmr> not just frozen, but only ever usable in a single scope
[22:35:38] <cmr> at which point you don't need the allocation in the first place
[22:35:40] *** Quits: andrew-__ (andrew-d_w@3B0E9325.9DFA657C.CC0301A2.IP) (Input/output error)
[22:36:00] <andor> umm no? there's that function tf, that i forgot to paste, that i would pass it to as &Foo
[22:36:02] *** Joins: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[22:36:03] <andor> and it would work
[22:36:17] <cmr> well sure, sub-scope.
[22:36:49] *** Joins: eholk (eholk@4C33E9A6.EC877627.1378615F.IP)
[22:36:51] <cmr> https://gist.github.com/cmr/9795216
[22:37:06] <cmr> but you still don't need an allocation, it'd be the same if x were a &str too
[22:37:56] <andor> it's just that it's difficult to pass things around if i don't put them into a struct :\
[22:38:20] *** Joins: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch)
[22:38:29] *** Joins: khodzha (khodzha@33739AAB.3E410295.CA6E2165.IP)
[22:38:33] *** Joins: pepper_chico (pepper_chi@BE2968B5.6F4A2706.E4090502.IP)
[22:38:38] *** Quits: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch) (Max SendQ exceeded)
[22:39:23] <andor> i'm parsing http headers, and i'd rather just have some slices pointing into complete strings (in case of query parameters for example) instead of copying them out
[22:40:24] *** Quits: bharadwaj (uid11995@moz-5F4AA75A.irccloud.com) (Quit: Connection closed for inactivity)
[22:40:27] *** Joins: Sorella (queen@9D963F5D.DF5D8AE7.54BCAB54.IP)
[22:40:33] <brson> if anybody wants to adjust the macro attribute matcher behavior, this is an important task that could allow us to completely switch over to the new attr syntax for 0.10: https://github.com/mozilla/rust/issues/13067
[22:40:37] <brson> i don't think i can get to it this week
[22:41:12] *** Joins: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net)
[22:41:16] <acrichto> brson: I'll do it
[22:41:20] *** Quits: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net) (Client exited)
[22:41:21] *** Joins: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net)
[22:41:24] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[22:41:29] <cmr> andor: sure, but the only reason you'd use a ~str over &str is if it needs to be returned or moved into a proc. since you can't do that with Foo, it could just be storing a &str etc...
[22:41:38] <brson> acrichto: k
[22:42:12] <SiegeLord> Hmm... I didn't know you could match attributes like that... does it work with doc strings?
[22:42:33] <brson> SiegeLord: i don't think so
[22:42:39] <andor> cmr: i'm fully clear what you mean, could you elaborate a bit more on that last part a bit more please?
[22:42:40] <brson> but doc strings can be written as attributes
[22:42:44] <andor> not fully*
[22:42:45] <SiegeLord> Yes
[22:42:52] *** Quits: Rym (y@1AFE98D6.BF54EC93.51C6DE68.IP) (Ping timeout)
[22:43:05] <sfackler> SiegeLord: you have to do #[doc="whatever"] unfortunately
[22:43:06] *** Joins: Rym (y@1AFE98D6.BF54EC93.51C6DE68.IP)
[22:43:07] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[22:43:35] <SiegeLord> Better than nothing... this would be useful for that bitflag macro of bjz's
[22:43:41] *** Quits: philix (felipe@moz-D13524B6.user.veloxzone.com.br) (Ping timeout)
[22:43:54] <SiegeLord> Don't know if it can actually be done in that case, however
[22:44:02] <cmr> andor: https://gist.github.com/cmr/9795321
[22:44:08] *** Joins: dherman (dherman@77CEA1B2.767934EB.9B6EB213.IP)
[22:44:08] *** ChanServ sets mode: +ao dherman dherman
[22:44:22] *** Joins: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net)
[22:44:33] <andor> cmr: and can i have a constructor for that kind of Foo?
[22:44:44] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[22:45:03] <cmr> andor: you could, `fn new<'a>(s: &'a str) -> Foo<'a>`
[22:45:15] <cmr> still needs to be "rooted" at some initial slice
[22:45:38] <cmr> andor: the point is that it's exactly as usable as the one that had an owned str inside of it
[22:45:44] <cmr> still can't be returned etc
[22:46:06] <cmr> (well, it can be, but only if it takes the slice it's based off of)
[22:46:14] <cmr> (its lifetime, that is)
[22:46:30] *** Quits: dherman (dherman@77CEA1B2.767934EB.9B6EB213.IP) (Quit: dherman)
[22:49:16] *** Joins: sinistersnare (sinistersn@moz-7E48AC93.washdc.fios.verizon.net)
[22:50:27] *** Quits: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Quit: ChatZilla 0.9.90.1 [Firefox 31.0a1/20140325030201])
[22:50:36] *** Parts: reverend_paco (chatzilla@moz-FDBE15EC.hsd1.ma.comcast.net) ()
[22:51:05] *** Joins: Ferreus (ferreus@moz-AB5E9900.lsn.wtnet.de)
[22:51:06] *** Quits: Ferreus (ferreus@moz-AB5E9900.lsn.wtnet.de) (Quit: Ferreus)
[22:53:12] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[22:53:35] *** Joins: andrew-__ (andrew-d_w@3B0E9325.9DFA657C.CC0301A2.IP)
[22:53:39] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Ping timeout)
[22:53:45] *** Joins: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[22:54:11] *** Quits: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Ping timeout)
[22:54:19] *** Quits: jdm (jdm@13F2CEC5.7672369.D8E68FF6.IP) (Quit: Lost terminal)
[22:54:27] *** Quits: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net) (Quit: killerswan)
[22:54:29] *** Quits: azita (Azita@moz-62518563.mtv2.mozilla.com) (Quit: azita)
[22:55:03] *** Quits: khodzha (khodzha@33739AAB.3E410295.CA6E2165.IP) (Ping timeout)
[22:55:31] *** Joins: khodzha (khodzha@B3C35DEA.A859D9FD.CA6E2165.IP)
[22:56:13] *** Quits: mediocrity (Thunderbir@moz-8A2E9A09.bredband.comhem.se) (Quit: mediocrity)
[22:56:14] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[22:56:33] *** Joins: azita (Azita@moz-62518563.mtv2.mozilla.com)
[22:56:47] *** Quits: Rym (y@1AFE98D6.BF54EC93.51C6DE68.IP) (Ping timeout)
[22:56:49] *** Quits: nkoep (nik@moz-F7CD5604.vpn.rwth-aachen.de) (Quit: Leaving)
[22:57:32] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[22:57:35] *** Joins: canhtak (canhtak@moz-4FB0FBC1.wl.t.ulaval.ca)
[22:58:15] *** Joins: mgottschlag (quassel@moz-C9007C38.cust.bluewin.ch)
[22:58:17] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[22:58:43] *** Quits: sigma1 (sigma@moz-15A267A9.range109-152.btcentralplus.com) (Ping timeout)
[22:59:12] *** Joins: Rym (y@1AFE98D6.BF54EC93.51C6DE68.IP)
[22:59:16] *** Quits: ganitsu1 (ganitsu@moz-2D7A6CF8.dialup.adsl.anteldata.net.uy) (Quit: WeeChat 0.4.1)
[23:00:02] *** Quits: dschatzberg (dschatzber@moz-E2680405.bu.edu) (Input/output error)
[23:00:34] <pongad> In the compile-fail, what's in syntax after `// ~ ERROR`?
[23:00:38] *** Quits: NiccosSystem (NiccosSyst@moz-ED196BB4.customer.lyse.net) (Ping timeout)
[23:01:03] <bvssvni> pongad: the expected error, which gets checked
[23:01:21] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[23:01:25] <pongad> Like, the name of the error?
[23:01:49] <pongad> I put the name of the error there, the compilation fails, but the test fails too :(
[23:02:04] <bvssvni> pongad: https://github.com/mozilla/rust/wiki/Note-testsuite
[23:02:19] *** Joins: philix (felipe@moz-D13524B6.user.veloxzone.com.br)
[23:03:03] *** Quits: toshok (toshok@moz-43741342.cat) (Ping timeout)
[23:03:23] *** Quits: Sharp (Sharp@19388942.6B775EBE.DC877F3B.IP) (Quit: Sharp)
[23:03:41] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Input/output error)
[23:03:44] *** Joins: toshok (toshok@moz-43741342.cat)
[23:03:46] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[23:04:05] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[23:04:37] <pongad> bvssvni: Oh, I put it in run-fail :(
[23:04:46] *** Quits: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net) (Quit: carllerche)
[23:04:48] <pongad> headdesk
[23:04:51] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Client exited)
[23:04:57] *** Quits: TobiasFar (tm@moz-A929D162.flosoft-servers.net) (Ping timeout)
[23:05:14] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[23:05:19] *** Joins: leowoe (Leo@moz-D22372AD.dip0.t-ipconnect.de)
[23:05:50] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[23:05:56] *** Quits: eholk (eholk@4C33E9A6.EC877627.1378615F.IP) (Ping timeout)
[23:06:54] *** Joins: eholk (eholk@4C33E9A6.EC877627.1378615F.IP)
[23:06:57] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Ping timeout)
[23:07:04] *** Quits: glandium (glandium@moz-A09032B1.kimsufi.com) (Ping timeout)
[23:07:21] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[23:08:33] *** Quits: paraze (paraze@moz-96380A71.w86-209.abo.wanadoo.fr) (Client exited)
[23:08:45] *** Joins: TobiasFar (tm@moz-A929D162.flosoft-servers.net)
[23:09:03] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[23:09:07] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[23:09:07] *** Quits: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org) (Ping timeout)
[23:09:22] *** Joins: carllerche (carllerche@moz-F43E6AFB.hfc.comcastbusiness.net)
[23:09:29] *** Joins: DAddYE_ (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[23:09:30] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[23:09:31] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Ping timeout)
[23:09:43] *** Joins: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com)
[23:10:13] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[23:10:20] *** Quits: pheleas_frog (Mibbit@moz-7AD9232F.rev.numericable.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[23:10:47] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[23:10:47] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Ping timeout)
[23:11:20] *** Quits: DAddYE_ (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Ping timeout)
[23:12:21] *** Quits: janra (Janus@1CDC5701.A48867D7.52E4E107.IP) (Ping timeout)
[23:12:21] *** Joins: ChrisMorgan (chris@moz-8DCBEA52.vic.adsl.internode.on.net)
[23:12:46] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[23:12:54] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[23:12:59] *** Joins: glandium (glandium@moz-A09032B1.kimsufi.com)
[23:13:18] *** Quits: judder (maradukewa@75FA4DEE.A989D80C.78E362FE.IP) (Ping timeout)
[23:13:38] *** Quits: darkf (darkf@moz-F9058B8A.net) (Ping timeout)
[23:14:06] *** Quits: hoverbear (hoverbear@moz-BEC82F6D.wireless.uvic.ca) (Quit: Taking a nap.)
[23:14:40] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[23:15:12] *** Quits: alext (Adium@moz-FD256C.albq.qwest.net) (Quit: Leaving.)
[23:15:12] *** Joins: jaras (textual@CA59A5EC.5F4B69C0.52E4E107.IP)
[23:16:15] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[23:16:41] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[23:16:42] *** Joins: sigma1 (sigma@C91C7F36.70518F41.9D18269F.IP)
[23:17:21] *** Quits: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[23:17:53] *** Joins: mediocrity (Thunderbir@moz-8A2E9A09.bredband.comhem.se)
[23:18:00] *** Quits: mediocrity (Thunderbir@moz-8A2E9A09.bredband.comhem.se) (Client exited)
[23:18:33] *** flaper87 is now known as flaper87|afk
[23:19:55] *** Quits: eholk (eholk@4C33E9A6.EC877627.1378615F.IP) (Quit: eholk)
[23:20:27] *** Joins: blehtm (chatzilla@moz-4D8177E2.rochester.res.rr.com)
[23:20:56] *** Quits: mgottschlag (quassel@moz-C9007C38.cust.bluewin.ch) (Ping timeout)
[23:21:02] *** Joins: hoverbear (hoverbear@moz-BEC82F6D.wireless.uvic.ca)
[23:21:36] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[23:22:10] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[23:22:21] *** Quits: nanotech (nanotech@moz-DD3580FD.members.linode.com) (Quit: ZNC - http://znc.in)
[23:22:23] *** Quits: arturo (Thunderbir@moz-E83B14F0.superkabel.de) (Ping timeout)
[23:22:31] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[23:22:47] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[23:22:51] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[23:23:24] *** Joins: andrewd18 (andrew@moz-DAC9D29F.wi.res.rr.com)
[23:23:26] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[23:23:36] *** Quits: Matthias247 (Miranda@moz-678B5E4A.hsi2.kabel-badenwuerttemberg.de) (Connection reset by peer)
[23:23:54] *** Quits: hoverbear (hoverbear@moz-BEC82F6D.wireless.uvic.ca) (Quit: Taking a nap.)
[23:23:55] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[23:24:01] *** Quits: jaras (textual@CA59A5EC.5F4B69C0.52E4E107.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[23:24:11] *** Joins: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net)
[23:24:11] *** ChanServ sets mode: +o tjc
[23:24:22] *** Joins: jaras (textual@CA59A5EC.5F4B69C0.52E4E107.IP)
[23:24:26] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[23:24:37] <pongad> I am having a little trouble with compile-fail, does anyone mind taking a look? http://pastebin.com/uuJ1YUav
[23:24:42] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[23:24:50] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[23:25:12] <carllerche> Is there a way to require structs to be created in an owned pointer (vs. on the stack) and prevent copying? The struct contains some C pointers that can't just be copied
[23:26:30] <sfackler> pongad: it should be //~ ERROR: use of `#[deriving]` with a raw pointer
[23:26:35] <cmr> carllerche: you can prevent copying by adding a field with the NoSend marker type: http://static.rust-lang.org/doc/master/std/kinds/marker/struct.NoSend.html
[23:26:51] <sfackler> cmr: NoSend?
[23:26:59] <brson> NoPod
[23:27:03] <cmr> derp
[23:27:04] <cmr> my bad
[23:27:12] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[23:27:16] <pongad> sfackler: Alright, trying
[23:28:00] <cmr> carllerche: the only way to require it to be behind an owned pointer is to add a priv field and have only constructors that return one.
[23:28:31] <brson> that wouldn't prevent somebody from moving it out of the ~, if that matters
[23:28:33] <carllerche> actually, "fixing" the pointer on copy could work. Should I mark it as NoPod and implement my own Clone?
[23:28:39] <cmr> hm
[23:28:56] <cmr> that's true, would need a wrapper struct
[23:29:02] <pongad> sfackler: I thought I tried that but forgot the colon :P
[23:29:02] <cmr> carllerche: sure, that'd work.
[23:31:10] *** Quits: alkino (alkino@moz-AAF51602.w92-151.abo.wanadoo.fr) (Ping timeout)
[23:31:20] *** Quits: jaras (textual@CA59A5EC.5F4B69C0.52E4E107.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[23:31:47] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[23:31:48] *** Joins: bjz_ (bjz@B398BE78.F804C29E.D35A31DF.IP)
[23:32:24] *** Quits: sigma1 (sigma@C91C7F36.70518F41.9D18269F.IP) (Ping timeout)
[23:33:50] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[23:34:38] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[23:35:40] *** Joins: rust007 (bzlandfill@moz-577DC73F.itc.virginia.edu)
[23:36:13] *** Quits: maattdd (matthieu@moz-71F66BC0.w82-123.abo.wanadoo.fr) (Ping timeout)
[23:36:22] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Connection reset by peer)
[23:36:29] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[23:37:19] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[23:38:06] <rust007> I'm trying to build a kernel using rust but I've been told to use the #[no_std] attribute. Why wouldn't I want to use the standard library?
[23:38:15] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[23:38:41] <bvssvni> rust007: because the standard library uses libc, which uses the kernel (which you don't have)
[23:39:13] <rust007> Ok gotcha. Thanks!
[23:40:01] *** Joins: apollow (yellowy432@moz-DF01490A.lightspeed.sntcca.sbcglobal.net)
[23:40:06] *** Quits: KokaKiwi (kokakiwi@moz-D674DAC6.kokakiwi.net) (Ping timeout)
[23:41:00] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[23:41:06] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Input/output error)
[23:41:08] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[23:41:36] *** Joins: alonlevy (alon@2CD54432.57968636.E9C721AF.IP)
[23:41:44] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Ping timeout)
[23:41:58] *** Quits: Rym (y@1AFE98D6.BF54EC93.51C6DE68.IP) (Ping timeout)
[23:42:35] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[23:42:42] *** Joins: Rym (y@1AFE98D6.BF54EC93.51C6DE68.IP)
[23:44:48] *** Quits: ipetkov (ipetkov@33AEE1AA.A1C436AB.CE6682EF.IP) (Quit: ipetkov)
[23:45:33] *** Quits: rust007 (bzlandfill@moz-577DC73F.itc.virginia.edu) (Quit: CGI:IRC)
[23:45:41] *** Quits: GrecKo (GrecKo@moz-A7AA1BB6.fr) (Quit: No Ping reply in 180 seconds.)
[23:46:08] *** Joins: GrecKo (GrecKo@moz-A7AA1BB6.fr)
[23:46:45] *** Joins: maattdd (matthieu@moz-71F66BC0.w82-123.abo.wanadoo.fr)
[23:47:11] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[23:47:30] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[23:48:29] *** Quits: maattdd (matthieu@moz-71F66BC0.w82-123.abo.wanadoo.fr) (Ping timeout)
[23:48:41] *** Joins: mib_m4f4z1 (Mibbit@moz-F8B381B4.hm.shawcable.net)
[23:50:01] *** Quits: mib_m4f4z1 (Mibbit@moz-F8B381B4.hm.shawcable.net) (Quit: http://www.mibbit.com ajax IRC Client)
[23:50:13] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[23:50:21] *** Quits: toshok (toshok@moz-43741342.cat) (Ping timeout)
[23:50:24] *** Joins: mib_qlo9p4 (Mibbit@moz-F8B381B4.hm.shawcable.net)
[23:50:29] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[23:51:07] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[23:51:25] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[23:51:29] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Client exited)
[23:52:17] *** kimundi is now known as zz_kimundi
[23:53:16] *** Joins: jadbaires (jadrian@moz-4E58EF48.dsl.telepac.pt)
[23:53:21] *** Quits: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[23:53:22] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[23:53:43] *** Joins: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch)
[23:53:50] *** Joins: toshok (toshok@moz-43741342.cat)
[23:54:32] *** Quits: abinader (sid21713@moz-A42E5B7B.irccloud.com) (Quit: )
[23:54:45] *** Quits: ChrisMorgan (chris@moz-8DCBEA52.vic.adsl.internode.on.net) (Ping timeout)
[23:55:18] *** Joins: Savago (Savago@202BED95.35A5082B.B8C5454C.IP)
[23:55:26] *** Joins: alan_and_ (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[23:56:28] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[23:56:31] *** Quits: Manishearth (manisheart@moz-F9058B8A.net) (Ping timeout)
[23:56:32] *** Joins: ChrisMorgan (chris@moz-8DCBEA52.vic.adsl.internode.on.net)
[23:57:11] *** Joins: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net)
[23:57:11] *** ChanServ sets mode: +o tjc
[23:57:16] <mib_qlo9p4> let x: ~int = ~10; println!("{}, {}", *x, x) // 10, 10 -- how come?
[23:58:02] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[23:59:24] *** Quits: carllerche (carllerche@moz-F43E6AFB.hfc.comcastbusiness.net) (Quit: carllerche)
[23:59:50] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[23:59:50] *** ChanServ sets mode: +ao pcwalton pcwalton
