[00:02:47] *** Quits: swgillespie (swgillespie@moz-1i5.3un.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[00:05:10] <fmtq> Havvy: are you winning
[00:05:18] <fmtq> Can you win an argument on the Internet? 
[00:05:20] <fmtq> let's argue about it 
[00:05:22] <Havvy> bstrie:  /r/rust
[00:05:36] <Havvy> fmtq: I wouldn't say I'm winning, no.
[00:05:49] <fmtq> are you losing by taking part
[00:06:00] <Havvy> fmtq: Yes.
[00:06:05] <Havvy> bstrie:  https://www.reddit.com/r/rust/comments/35srjn/strive_to_make_the_rust_community_and_technology/ specifically.
[00:06:27] <Havvy> Somebody actually started a response off with "It's worth mentioning that in reality, females are rare in the programming scene.". :(
[00:07:16] <fmtq> why would you ever start anything like that
[00:08:23] <fmtq> oh 
[00:08:29] <fmtq> you're fighting a gender-neutral pronoun battle 
[00:09:36] <fmtq> oh it had died and then someone revived it
[00:11:18] <fmtq> this jeandem fellow seems like an asshat
[00:12:10] <fmtq> haha fuck
[00:12:13] <fmtq> that thread ended well
[00:12:35] <Havvy> The entire tone on that page is negative. But it keeps spinning between positive and negative.
[00:12:53] <fmtq> yes well 
[00:13:08] <fmtq> transgender people have a habit of asserting gender discussions a lot harder than a cis woman ever does.
[00:13:13] <fmtq> because gender is on their mind a lot more often.
[00:13:36] <Havvy> True. Though that's only one of the arguments on there.
[00:14:14] <Havvy> I see something about political power plays, sexism, and argument silencing in there.
[00:14:49] <Havvy> Also, Majora's Mask references with a Link/Hyperlink pun.
[00:14:55] *** Quits: ogham (rally@moz-gl5.06e.6.31.IP) (Connection closed)
[00:15:53] <fmtq> this is why I don't get involved in communities
[00:15:53] *** Quits: fkaa_ (tundmatu@moz-501od2.business.telia.com) (Ping timeout: 121 seconds)
[00:15:55] *** Quits: dpc (dpc@moz-t6gr4b.ca.comcast.net) (Connection closed)
[00:15:56] <fmtq> I build them in offtopic channels 
[00:15:57] <fmtq> :)
[00:18:13] *** Joins: dpc (dpc@moz-a8v.6sn.162.73.IP)
[00:20:07] <cmr> Interplanetary is a pretty fun game.
[00:20:41] <cmr> I like the concept a lot, though I find some of the details irksome (AI is slow, runs synchronously, causes framedrops)
[00:21:38] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[00:26:28] *** Joins: quantheory (quantheory@moz-dsb104.crel.jtvf.0001.2601.IP)
[00:26:57] *** Quits: quantheory (quantheory@moz-dsb104.crel.jtvf.0001.2601.IP) (Quit: Leaving)
[00:32:32] <niconii> why did i decide to write 99 bottles of beer in brainfuck by myself
[00:32:35] <niconii> war is hell
[00:32:43] <fmtq> lol
[00:32:47] <cmr> Also whatever they're using for integration or patched conics or whatever is somewhat unstable.
[00:33:35] <fmtq> wait
[00:33:38] <fmtq> is this game actually good
[00:33:49] <cmr> Yeah it's ok.
[00:33:57] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[00:36:53] <Havvy> "The fact that women are rare in programming is pretty well-known, don't you notice you are literally assuming that I'm attributing it to programming being "male" while I never even implied that?"
[00:36:57] <Havvy> Help...
[00:40:44] <Havvy> Can I get some help here?  https://www.reddit.com/r/rust/comments/35srjn/strive_to_make_the_rust_community_and_technology/cr8a0hl
[00:41:57] * niconii sigh
[00:45:09] *** Quits: Manishearth (manishearth@moz-8puj7k.net) (Ping timeout: 121 seconds)
[00:45:41] <brson> what a mess of a thread
[00:49:43] <fmtq> it's not even that messy.
[00:49:56] <fmtq> you're talking past each other.
[00:50:04] <fmtq> it is amusing
[00:51:05] <fmtq> note Mujapro isn't even saying he shouldn't be gender neutral but is merely attempting to excuse it because programming is predominantly male
[00:51:13] <fmtq> and is missing the point that language is a strong reason for this.
[00:53:25] *** Joins: swgillespie (swgillespie@moz-1i5.3un.220.167.IP)
[01:01:20] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[01:05:08] <niconii> well, i added my two cents, i guess
[01:05:38] <niconii> no idea if it'll help anything or just stoke the flames, but...
[01:06:31] *** Quits: swgillespie (swgillespie@moz-1i5.3un.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[01:08:38] <Havvy> niconii:  Seems we both responded at the same time. :P
[01:12:27] *** Quits: dpc (dpc@moz-a8v.6sn.162.73.IP) (Ping timeout: 121 seconds)
[01:12:57] *** Joins: gsingh93 (uid22642@moz-aq0iah.charlton.irccloud.com)
[01:13:11] <Havvy> fmtq: If I'm talking past somebody, it always helps to have somebody explain that.
[01:18:18] *** Joins: Manishearth (manishearth@moz-8puj7k.net)
[01:22:57] *** Joins: fkaa (tundmatu@moz-501od2.business.telia.com)
[01:29:29] *** Quits: tilpner (tilpner@moz-6vhgm3.de) (Ping timeout: 121 seconds)
[01:33:07] *** Joins: tilpner (tilpner@moz-6vhgm3.de)
[01:39:41] *** Joins: dpc (dpc@moz-t6gr4b.ca.comcast.net)
[01:41:13] *** Joins: Rym______ (y@moz-dhb.0vk.38.217.IP)
[01:42:14] *** Quits: Rym (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[01:44:52] <panicbit> The more I try to use Swift the more flaws I discover in it...
[01:47:13] <panicbit> Rust e.g. allows you to bind tuple elements to variables in functions. e.g. fn foo((x: i32, y: i32)) {...}
[01:47:50] <panicbit> Swift allows you to do the same: func foo((x: Int, y: Int)) {…}
[01:47:51] <Yurume> (it actually has to be `fn foo((x, y): (i32, i32))`)
[01:47:52] <panicbit> Esxept...
[01:48:12] <panicbit> Except... It doesn't actually bind the variables... x and y are undefined
[01:48:24] <Yurume> what
[01:48:28] <panicbit> Yurume: You get the point :P
[01:48:45] <panicbit> Yeah, look at it: http://swiftstub.com/148320733/
[01:49:22] <panicbit> It's pure bullshit
[01:49:28] <Yurume> ah, so (x: Int, y: Int) is parsed as a type which is an anonymous tuple
[01:49:34] <Yurume> that is a pure surprise IMO
[01:50:05] <panicbit> Yeah, it completely ignores x and y
[01:50:17] <panicbit> Yurume: But you can't write it like in Rust
[01:50:33] <panicbit> (x, y): (Int, Int) is invalid
[01:50:42] <Yurume> no pattern destructuring.
[01:50:51] <panicbit> Yurume: At least not in functions
[01:50:53] <panicbit> Another thing
[01:51:18] <panicbit> Swift has let destructuring, if let and select (like match in Rust)
[01:51:41] <panicbit> Using tuple patterns works in select
[01:51:57] <Yurume> well, a specific pattern destruction is useful regardless of support for the full pattern destructuring
[01:52:01] <panicbit> but it doesn't work in if let
[01:52:05] <panicbit> Sure
[01:52:21] <Yurume> I think that's just fine
[01:52:35] <panicbit> It's just ok...
[01:52:54] <panicbit> It certainly won't convince me to go Swift after going Rust :P
[01:53:50] <Yurume> but if you want a better ObjC, I guess Swift is worth a shot :)
[01:53:54] <panicbit> Swift seems a bit overhyped to me but OTOH, I don't know how horrible ObjC is
[01:54:06] <panicbit> I guess so
[01:54:31] <XMPPwocky> okay yeah
[01:54:49] <Yurume> having four null-like values is definitely not great
[01:54:50] <XMPPwocky> 3 minutes of afl-fuzz on this core network protocol, 12 unique crashes
[01:54:50] <Yurume> http://nshipster.com/nil/
[01:54:56] <XMPPwocky> don't play video games
[01:55:02] <panicbit> Yurume: Wut
[01:55:09] <panicbit> Seriously?
[01:55:29] <panicbit> No way!
[01:56:16] <Yurume> XMPPwocky: can the current version of afl-fuzz be used with the stock (I meant, nightly) rustc? I'm not sure that is fixed by now
[01:56:38] <cmr> Yurume: I think so? https://github.com/kmcallister/afl.rs
[01:57:00] <XMPPwocky> Yurume: not sure
[01:57:04] <XMPPwocky> Yurume: oh thihs isnt a Rust thing
[01:57:25] <XMPPwocky> this is one of the most popular game engines in the world
[01:57:38] <Yurume> ah.
[01:57:53] <cmr> Unity? Unreal? id Tech?
[01:57:57] <Yurume> cmr: ah, it is using an (instrumention) plugin
[01:57:57] <Yurume> great
[01:57:59] <cmr> DOn't leave us hanging!
[01:58:22] <XMPPwocky> Source
[01:58:25] <cmr> oh
[01:58:31] <cmr> lol "popular" by what metric?
[01:58:40] <Yurume> ...but it still needs a copy of rustc manually built
[01:58:49] <cmr> Yurume: not necessarily.
[01:58:49] <Yurume> cmr: "well-known"?
[01:59:11] <XMPPwocky> i mean, it's definitely top 5
[01:59:13] <Yurume> cmr: to be exact, a copy of *LLVM* from rustc
[01:59:15] <Yurume> but anyway
[01:59:24] <XMPPwocky> by playerbase, i mean, dota alone gets you pretty far up
[01:59:32] <Yurume> (is my understanding correct and current?)
[01:59:56] <cmr> Yurume: it doesn't even need a built copy of llvm I think, just the headers.
[02:04:09] <ChrisMorgan> Whoa, Stack Overflow does keyboard navigation now. I wonder when that happened.
[02:04:57] <ChrisMorgan> Or at least theyâ€™re more visible now than they were, I do have the vaguest of impressions I saw such a thing in years gone by.
[02:05:38] <ChrisMorgan> Hmm, July 26, 2014. Maybe my recollection was in fact a user script of some form.
[02:05:55] <XMPPwocky> and that's 17 unique segfaults for those of you keeping track at home
[02:07:05] <XMPPwocky> afl-fuzz is pretty neat
[02:07:23] <XMPPwocky> aaand 19
[02:08:04] <XMPPwocky> this has been shipping for almost 10 years, and the same part of the codebase I'm fuzzing is used in Steam
[02:08:57] <niconii> wow
[02:11:59] *** Quits: zz_kimundi (kimundi@moz-mmvhvu.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[02:14:33] *** Joins: zz_kimundi (kimundi@moz-ol7m65.dip0.t-ipconnect.de)
[02:14:34] *** zz_kimundi is now known as kimundi
[02:15:10] *** Joins: Kingsquee (kingsley@moz-3fm07c.bchsia.telus.net)
[02:15:36] <huon> XMPPwocky: it's alright, games don't need to worry about security ;P
[02:16:49] <XMPPwocky> exactly!
[02:17:29] <XMPPwocky> on linux is it reasonable for esp to be pointing to 0xb4bb0
[02:17:37] <XMPPwocky> because i don't think it's supposed to be doing that?
[02:18:09] <cmr> it can be.
[02:18:17] <cmr> 32bit or 64bit?
[02:19:24] <cmr> I think it's pretty unlikely, near impossible in a 64bit process.
[02:19:31] <XMPPwocky> 32-bit
[02:19:39] <XMPPwocky> okay it's consistently <0x40000
[02:19:46] <XMPPwocky> and there's not actually anything mapped there
[02:19:50] <XMPPwocky> which probably explains the crashes
[02:20:02] <cmr> sounds like a stack underflow.
[02:20:20] <cmr> overflow, sorry.
[02:20:24] <XMPPwocky> yeah. there's loads of alloca around here
[02:20:44] <cmr> Eugh alloca is evil. I have a personal vendetta against alloca.
[02:20:50] * Havvy wonders if we can demand all these network libraries be written in a safe language now that Rust exists..
[02:21:05] <huon> cmr: you've alloca ted a special place in hell for it?
[02:21:21] <cmr> yes. good joke.
[02:21:26] <huon> :D
[02:21:36] <cmr> If I wasn't playing a game on the platform XMPPwocky was crushing right now I'd have a witty response.
[02:22:35] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[02:24:23] <XMPPwocky> heh, what?
[02:24:42] <cmr> bad excuse for me not being creative or funny :P
[02:25:17] <XMPPwocky> i mean, what game
[02:25:28] <cmr> oh, interplanetary (through steam)
[02:28:44] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Ping timeout: 121 seconds)
[02:30:11] *** Quits: dpc (dpc@moz-t6gr4b.ca.comcast.net) (Connection closed)
[02:30:30] *** Quits: freebroccolo (sid51271@moz-ealde0.ealing.irccloud.com) (Quit: )
[02:32:32] *** Joins: dpc (dpc@moz-t6gr4b.ca.comcast.net)
[02:35:08] *** Quits: dpc (dpc@moz-t6gr4b.ca.comcast.net) (Connection closed)
[02:37:15] <cmr> My Windows 10 Tech Preview "OS Install Date": Dec 31 1969
[02:37:32] *** Joins: dpc (dpc@moz-t6gr4b.ca.comcast.net)
[02:38:59] <barosl> cmr, That's still pretty nice. My Windows 10 has been refusing to boot since last week
[02:41:48] <WindowsBunny> I'm waiting for windows 10 to have the promise of stability before I try it
[02:42:16] <niconii> i've been spending so long struggling to write 99 bottles in brainfuck
[02:42:20] <niconii> i'm starting to learn how to read it
[02:42:58] <cmr> WindowsBunny: sure, it's still a tech preview, though it's startlingly unstable consider release is in 2-3 months.
[02:43:52] *** Quits: dpc (dpc@moz-t6gr4b.ca.comcast.net) (Connection closed)
[02:46:33] *** Joins: dpc (dpc@moz-t6gr4b.ca.comcast.net)
[02:48:16] *** Joins: Tassiegirl (tassiegirl@moz-09pldd.iinet.net.au)
[02:48:44] *** Quits: Tassiegirl (tassiegirl@moz-09pldd.iinet.net.au) (Quit: Colloquy for iPad - http://colloquy.mobi)
[02:49:23] <barosl> cmr, Strangely Windows 10 had been stable when I tried it for the first time (last December)
[02:49:34] <barosl> It's becoming considerably more unstable nowadays
[02:49:42] <barosl> Maybe they're being caught by the deadline? :P
[02:49:59] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[02:50:07] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[02:55:10] <XMPPwocky> > uniq crashes : 31 
[02:55:14] <XMPPwocky> great scott
[02:56:31] *** Quits: bjz (bjz@moz-puppgq.tpgi.com.au) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[03:07:57] *** Quits: brson (brson@moz-cfhap5.mtv2.mozilla.com) (Quit: leaving)
[03:14:29] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[03:14:29] *** ChanServ sets mode: +o erickt
[03:27:46] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[03:29:57] *** Joins: quantheory (quantheory@moz-uiqd7j.co.comcast.net)
[03:31:01] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[03:31:01] *** ChanServ sets mode: +o erickt
[03:34:45] *** Joins: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net)
[03:34:51] *** Quits: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net) (Client exited)
[03:38:57] *** Quits: quantheory (quantheory@moz-uiqd7j.co.comcast.net) (Ping timeout: 121 seconds)
[03:40:04] *** Joins: quantheory (quantheory@moz-uiqd7j.co.comcast.net)
[03:40:25] *** Quits: quantheory (quantheory@moz-uiqd7j.co.comcast.net) (Quit: Bye)
[03:46:06] *** Joins: c74d3 (c74d3a4ebb6@moz-s0g0co.mggc.hibn.4404.2002.IP)
[03:46:09] *** Quits: c74d (c74d3a4ebb6@moz-0ersgu.oc.cox.net) (Ping timeout: 121 seconds)
[03:47:29] *** c74d3 is now known as c74d
[03:54:33] <eddyb> XMPPwocky: what is that from?
[03:54:43] <eddyb> (made me think afl)
[03:55:50] <XMPPwocky> eddyb: afl
[03:55:54] <XMPPwocky> it's up to 46 now
[03:56:09] <XMPPwocky> about 10 actual unique bugs, there's one that shows up in a lot of different paths
[03:59:08] <XMPPwocky> i'm sort of not sure about the logistics about reporting this many distinct bugs
[03:59:14] <XMPPwocky> at least i have no shortage of test cases
[04:01:24] <bstrie> XMPPwocky: what are you fuzzing
[04:01:41] <XMPPwocky> bstrie: a particular file format used by the Source engine
[04:12:25] <XMPPwocky> did you hear my rant about valve security before
[04:12:27] <XMPPwocky> because yeah
[04:13:38] <XMPPwocky> i want to start looking at unreal too
[04:14:04] <XMPPwocky> but i'm not familiar with it
[04:18:01] *** Quits: carlcolglazier (uid64399@moz-118bsh.ealing.irccloud.com) (Quit: Connection closed for inactivity)
[04:18:10] *** Joins: bjz (bjz@moz-0j4.2c9.87.203.IP)
[04:19:52] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[04:38:12] <XMPPwocky> http://xmppwocky.net/fuzzplot/ purty graphs
[04:38:21] *** Quits: Diggsey (diggsey@moz-e3pv94.dsl.pipex.com) (Ping timeout: 121 seconds)
[04:49:44] *** Joins: c74d3 (c74d3a4ebb6@moz-nvc5h7.mggc.hibn.4404.2002.IP)
[04:50:20] *** Quits: c74d (c74d3a4ebb6@moz-s0g0co.mggc.hibn.4404.2002.IP) (Ping timeout: 121 seconds)
[04:51:08] *** c74d3 is now known as c74d
[04:51:28] <bstrie> amusingly, a number of people reacting to the moon seem to be entirely unaware that there's a 1.0 release happening on friday
[04:51:50] <bstrie> I guess not everyone's lives revolve around rust, somehow.
[04:52:53] * bstrie embiggens the moon
[04:55:29] <niconii> hooray! we are that much closer to death
[04:55:46] *** Quits: eddyb (eddyb@moz-egg.q07.26.188.IP) (Ping timeout: 121 seconds)
[04:59:07] *** Joins: acharles (acharles@moz-mi1459.static.qwest.net)
[05:08:13] <Havvy> bstrie:  You mean you aren't using a css-calc on time sort of thing?  [Oh wait, you can't do time effects in CSS. :( ]
[05:18:02] *** Quits: niconii (nicole@moz-ojt2sa.frgo.qwest.net) (Quit: leaving)
[05:18:26] <XMPPwocky> *** stack smashing detected ***: ï¿½ï¿½ome/ terminated
[05:19:23] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[05:25:13] *** Quits: rustbot (havvy@moz-u0e4io.net) (Quit: Gaining CTCP VERSION)
[05:25:42] *** Joins: rustbot (havvy@moz-3sq.vdk.239.23.IP)
[05:32:46] *** Quits: bjz (bjz@moz-0j4.2c9.87.203.IP) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[05:34:20] *** Quits: Rym______ (y@moz-dhb.0vk.38.217.IP) (Ping timeout: 121 seconds)
[05:40:01] *** Quits: taryn (taryn@moz-g8toaq.vmsplic.me) (Ping timeout: 121 seconds)
[06:01:10] *** Joins: Rym______ (y@moz-dhb.0vk.38.217.IP)
[06:05:32] *** Quits: Rym______ (y@moz-dhb.0vk.38.217.IP) (Ping timeout: 121 seconds)
[06:12:06] *** Joins: taryn (taryn@moz-g8toaq.vmsplic.me)
[06:15:19] *** Joins: quantheory (quantheory@moz-dsb104.crel.jtvf.0001.2601.IP)
[06:15:53] *** Quits: gsingh93 (uid22642@moz-aq0iah.charlton.irccloud.com) (Quit: Connection closed for inactivity)
[06:27:51] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[06:32:27] *** Joins: eddyb (eddyb@moz-hdr.5ot.166.109.IP)
[06:47:36] *** Quits: Kingsquee (kingsley@moz-3fm07c.bchsia.telus.net) (Quit: Konversation terminated!)
[06:50:25] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[06:50:27] *** Quits: taryn (taryn@moz-g8toaq.vmsplic.me) (Ping timeout: 121 seconds)
[06:52:43] *** Quits: dpc (dpc@moz-t6gr4b.ca.comcast.net) (Ping timeout: 121 seconds)
[06:54:49] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Client exited)
[06:55:18] *** Joins: Rym______ (y@moz-dhb.0vk.38.217.IP)
[06:56:08] *** Joins: Kingsquee (kingsley@moz-3fm07c.bchsia.telus.net)
[06:59:23] *** Joins: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se)
[06:59:40] *** Quits: Rym______ (y@moz-dhb.0vk.38.217.IP) (Ping timeout: 121 seconds)
[07:25:31] *** Joins: npm (npm@moz-92sbjt.wa.comcast.net)
[07:25:47] <npm> offtopic-y stuff incoming
[07:25:57] <eddyb> npm: brb leaving class
[07:26:11] <npm> what class?
[07:26:20] <eddyb> highschool
[07:26:34] <eddyb> in the meanwhile, you can treat yourself to https://github.com/eddyb/rs0/blob/master/src/rs-3/x64-linux/vm.s
[07:26:47] <eddyb> and the macro abuse in https://github.com/eddyb/rs0/tree/master/src/rs-2
[07:26:56] <eddyb> I haven't had the time to work on the rest of the stack
[07:27:11] <eddyb> most of my time I've put in https://github.com/eddyb/r3
[07:27:44] <eddyb> npm: I really want to get back into Rust development and keep at least a couple side projects going, once highschool is over. but maybe uni is no easy as I hope, I'll have to see
[07:27:50] <npm> how is comp-sci in Romania?
[07:28:04] <eddyb> the teachers have a COBOL mindset
[07:28:19] <npm> augh, that's even worse than the Java mindset they have here
[07:28:39] <npm> (although, mad dosh to be made)
[07:29:09] <eddyb> so they write C++ like it's C with streams
[07:29:24] <eddyb> and they use COBOL terminology most of the time
[07:29:36] <eddyb> OOP is abbreviated POO here for some stupid reason
[07:29:47] <eddyb> be back in 5
[07:29:50] <npm> cool
[07:30:19] *** Quits: eddyb (eddyb@moz-hdr.5ot.166.109.IP) (Connection closed)
[07:42:25] *** Joins: eddyb (eddyb@moz-hdr.5ot.166.109.IP)
[07:42:44] <eddyb> npm: so here's a funny story
[07:43:01] <npm> ?
[07:43:11] <eddyb> I found out about Rust from that rustboot "small demo kernel written in Rust" thing
[07:43:34] <npm> oh yeah?
[07:44:06] <eddyb> one of my osdev friends wanted to try to make a real kernel with rust
[07:44:42] <eddyb> I got to a point where I wanted asm! with an output constraint to mark a variable as initialized
[07:44:47] <eddyb> like you can do let x; x = 0;
[07:45:27] <eddyb> knowing barely anything about the language, I dove into the compiler, changed a few things about ExprInlineAsm to be more like ExprAssign and that worked
[07:45:39] <eddyb> npm: later I've found out one of those things was borrowck
[07:46:06] <npm> did you upstream the change?
[07:46:45] <eddyb> npm: https://github.com/rust-lang/rust/pulls?page=4&pulls_only=true&q=is%3Apr+author%3Aeddyb+is%3Aclosed
[07:47:10] <npm> damn dude
[07:47:12] <eddyb> actually, I knew the name but not the reputation
[07:47:38] <npm> nice :D
[07:47:39] <eddyb> I guess I read the file names :P
[07:47:58] <npm> only thing I've done is some liblibc corrections and additions, plus a few intrinsics
[07:48:56] <eddyb> npm: for almost a year, I've tried to improve rustc's memory usage. it started with a x86_16 emulator (for VBE) generated from some instruction definitions I already had for a (failed) decompiler project
[07:49:08] <eddyb> npm: the generator was shit and it was exposing quadratic parts of the compiler
[07:49:23] <eddyb> I guess the other reason was "so rustc wouldn't take so much RAM compiling itself"
[07:49:29] *** Joins: Rym______ (y@moz-dhb.0vk.38.217.IP)
[07:49:33] <npm> yeah, thanks for that by the way
[07:49:42] <npm> my little chromebook loves you
[07:49:48] <eddyb> npm: I don't recall whether it was 700GB or 700TB that rustc was trying to allocate at some point
[07:49:54] <eddyb> npm: eh, I wasn't the only one
[07:50:11] <npm> well, it loves everyone that works for less RAM usage
[07:50:59] <eddyb> I still haven't ported that decompiler thing to Rust
[07:51:13] <eddyb> I mean, I had parts of it but I never got it fully running again
[07:51:33] <eddyb> npm: best part about Rust for me is gratification from incomplete achievements :P
[07:51:50] <eddyb> and a very nice community
[07:51:54] <npm> so many incomplete projects :P
[07:52:01] <npm> (I have just lying around)
[07:52:14] <eddyb> after all this time I've come to believe everyone does
[07:52:15] <npm> yeah, we do have quite an awesome community
[07:52:19] <eddyb> they just have different scheduling algorithms
[07:52:58] <npm> I'm only a part of 2 language communities, and they're both very nice
[07:53:09] <eddyb> Haskell?
[07:53:22] <npm> and every language community I've found's been super nice as well
[07:53:26] <npm> nah, I wish :D
[07:53:40] <npm> I got a concussion right before I was about to start learning
[07:53:44] <npm> C
[07:53:51] *** Quits: Rym______ (y@moz-dhb.0vk.38.217.IP) (Ping timeout: 121 seconds)
[07:54:04] <npm> (I'm still technically recovering)
[07:54:23] <quantheory> Heh, my other "community" (in a very loose sense) is Fortran, so you're ahead of me there.
[07:54:36] <eddyb> I read through a Haskell book and while I grasped some of the basics, combining them seemed to take much more effort than an imperative language
[07:54:54] <npm> quantheory: scientist?
[07:54:55] <eddyb> writing ES6 was easier for me. but. the GC is shit
[07:55:02] <quantheory> npm: Yep!
[07:55:07] <eddyb> npm: quantum physicist by the nickname
[07:55:20] <eddyb> :P
[07:55:21] <npm> man, Fortran...
[07:55:31] <npm> not a language I ever want to have to deal with
[07:55:31] <quantheory> Yeah, I was. Climate modeling now, but names are a pain to change.
[07:56:10] <eddyb> I want Rust to replace some Fortran usecases but it really needs a good multi-dimensional array story before it has a chance
[07:56:12] <npm> quantheory: difficult fields just attract you, don't they :P
[07:56:13] <quantheory> Modern Fortran actually made a token attempt to catch up with C++. So in Fortran 2003/2008, you have objects.
[07:56:19] <eddyb> even if it's a library, it has to be ergonomic
[07:56:34] <eddyb> the strict aliasing is thankfully in Rust by default
[07:56:36] <npm> also, totally understand; I'm still GBGamer from when I was 7
[07:56:51] <npm> (For Game Boy Gamer, because I was a nintendo dork)
[07:56:52] <eddyb> npm: that name seems very familiar. I might have seen you on github or reddit
[07:57:03] <npm> you've probably seen me here as well
[07:57:09] <npm> I'm just too lazy to type /nick
[07:57:11] <eddyb> lol
[07:57:20] <npm> (and msg nickserv and everything)
[07:57:31] <npm> just know npm == GBGamer
[07:57:52] <quantheory> I'm happy that we don't need "restrict" in Rust, which is a compiler extension in C++, and a part of the language that is unenforced (and no one respects) in Fortran.
[07:57:59] <eddyb> https://github.com/rust-lang/rust/pull/10769 RIP VG
[07:58:06] <npm> is it a compiler extension?
[07:58:25] <npm> restrict is a keyword in C, afaik...
[07:58:43] <npm> oh, okay, it's C99
[07:59:00] <eddyb> npm: so no visual
[07:59:10] <npm> also no C++
[07:59:19] <npm> it's from after the split
[07:59:36] <eddyb> I didn't know there was an official "split" moment
[08:00:13] <npm> I mean, they're very different languages now, but they have a common C89 base
[08:00:23] <quantheory> npm: Right. And multi-dimensional arrays are not really good in C (by which I mean there is no equivalent of Eigen or anything).
[08:01:24] <npm> yeah, I just use a custom struct Matrix { size_t x; size_t y; T matr[]; }
[08:01:50] <npm> s/matr[]/matr[0]/
[08:02:15] <eddyb> VG was meant to allow m[i, j]
[08:02:18] <eddyb> q_q
[08:02:30] <npm> eddyb: we might get that soon!
[08:02:42] <npm> (with Japaric's unsized stuff)
[08:03:02] <eddyb> what, desugaring to m[i][j]?
[08:03:19] <npm> that's one of the things he's complaining about
[08:03:20] <eddyb> I really don't want the initial version of that unsized struct feature
[08:03:35] <npm> although personally I prefer the m[i][j]
[08:03:45] <eddyb> npm: with VG you could impl foo[a, b, c, d] as you wished
[08:04:03] <eddyb> (including blanket impls to expand into foo[a][b][c][d])
[08:04:25] <npm> true, true
[08:04:38] <npm> what would you like?
[08:04:46] <npm> (for unsizedness)?
[08:05:16] <eddyb> probably "existential information" + a way to make the compiler use it from behind a pointer
[08:05:30] <npm> what does "existential information" mean
[08:05:31] <npm> ?
[08:05:37] <npm> and what would it look like in practice
[08:05:41] <eddyb> so unsized types are existentials
[08:05:48] <eddyb> [T] is exists N.[T; N]
[08:06:04] <eddyb> and N is your dynamic information
[08:06:08] <npm> ah, okay
[08:06:22] <eddyb> [[T]] would be exists N, M.[[T; N]; M]
[08:06:33] <eddyb> and you can do weird schemes
[08:06:56] <eddyb> basically, the dynamic information "bubbles" up until it hits an indirection
[08:07:14] <eddyb> [Box<[T]>] works today and every outer array element can have a different length
[08:07:29] <eddyb> I believe japaric gave an example
[08:08:09] *** Joins: mkpankov (user@moz-h0n.sma.198.91.IP)
[08:08:17] <npm> how would this be different from japaric's implementation?
[08:08:22] <npm> (on a low level)
[08:08:29] <eddyb> you can't configure the pointer
[08:08:44] <eddyb> and thin vs fat is orthogonal to the type of the dynamic information
[08:09:12] <eddyb> so the example was &(usize, [(T, [T])])
[08:09:20] <eddyb> now replace slices with arrays
[08:09:30] <eddyb> &(usize, [(T, [T; N]); M])
[08:09:38] <npm> ok, so you could do something like struct Matrix<T> { [[T; N]; M] }
[08:09:47] <eddyb> &exists N, M.(usize, [(T, [T; N]); M])
[08:09:48] <npm> And N and M would be a size placed into a pointer?
[08:09:59] <eddyb> npm: that would not be a custom unsized struct
[08:10:16] <eddyb> that would be merely a use of slices
[08:10:20] <eddyb> wait, no
[08:10:28] <eddyb> npm: you included the N and M explicitely
[08:10:45] <npm> yeah, obviously the syntax would change a little
[08:10:54] <npm> I just can't think of how to do that
[08:11:13] <eddyb> npm: I mean more like DST<T, (usize, usize)>
[08:11:30] <eddyb> and a trait would be DST<u8, Vtable>
[08:11:42] <npm> ah, I think I get it
[08:11:44] <eddyb> [[T]] would preferably work out of the box
[08:12:06] <eddyb> the real usecase is for a 2D "section" of a matrix
[08:12:23] <eddyb> where you need to store a stride
[08:13:10] <npm> although, how would you represent this type?
[08:13:18] <eddyb> npm: so it would be [T] + { stride: usize, width: usize }
[08:13:31] <npm> in the rust source code?
[08:13:34] <eddyb> like, it can piggyback on [T] and not have to deal with a pointer to T
[08:13:39] <eddyb> although the height. ugh
[08:13:58] <eddyb> ([T] stores the length while this would likely want the height instead)
[08:14:22] <npm> I have to say, personally, I prefer Japaric's solution
[08:14:35] <eddyb> this is not baked at all :P
[08:14:58] <eddyb> and I didn't claim I knew it was better, just that I hope japaric initial revision is not the best we can do. because that would be sad
[08:15:15] <npm> lol yeah, there will be a lot of intense debate around this
[08:15:28] <eddyb> with existential support baked into the language, it's slightly easier
[08:15:57] <npm> I assume this will all be very unstable for a while
[08:16:10] <eddyb> because the type is [T; WIDTH * STRIDE]
[08:16:13] <eddyb> oops
[08:16:19] <eddyb> [T; STRIDE * HEIGHT]
[08:16:47] <eddyb> npm: it might be a challenge to make this usable in safe code without dependent typing
[08:17:13] <npm> wouldn't this be very much in the realm of the unsafe?
[08:17:25] <npm> these would be implementation details
[08:17:44] <npm> and then you bubble up safe abstractions
[08:18:36] <npm> just like we do now for [T]
[08:18:39] *** Quits: eddyb (eddyb@moz-hdr.5ot.166.109.IP) (Connection closed)
[08:19:13] *** Joins: eddyb (eddyb@moz-hdr.5ot.166.109.IP)
[08:20:17] <eddyb> npm: japaric's instance of this needs a trait for specofying things like sizr and alignment queries
[08:20:29] <eddyb> and maybe some stricter rules about the contents
[08:20:40] <eddyb> and maybe it can work at the lowest level
[08:20:55] <npm> I'm currently writing my own implementation, see what difficulties I come up with
[08:21:14] <eddyb> if 99% of the uses don't need unsafe then it's great
[08:21:56] <npm> only constructing and indexing and stuff should require unsafe
[08:21:59] <eddyb> but you still can't go to "info before data" from "info next to pointer"
[08:22:15] <npm> yeah, I agree on that point
[08:22:22] <eddyb> npm: we can make dynamically sized arrays safe to build
[08:22:26] <npm> I'm thinking of how to make it work
[08:22:35] <npm> not on an implementation level, though
[08:22:57] <npm> and not when you're getting the arrays from C, for example
[08:23:01] <npm> that'd have to be unsafe
[08:23:23] <eddyb> if you have the DST generic over the pointee type and the info, you can change how it's stored
[08:23:26] <npm> and, unfortunately, the world is not built in Rust
[08:23:40] <eddyb> I mean the hypothetical DST type
[08:24:15] <npm> ah okay
[08:24:19] <npm> sorry, it's like 1:30 here
[08:24:29] <npm> my brain is not the fastest on no sleep
[08:24:53] <eddyb> so even if we admit the use of unsafe
[08:25:54] <eddyb> if the info is separate, you can abstract over "thin pointers"
[08:25:55] <quantheory> I'm still puzzling over why japaric's solution is better than trying to solve this with HKT to deal with the lifetimes.
[08:26:47] <quantheory> Is it purely a matter of trying to avoid specifying HKTs in enough gory detail to prove that these use cases are solved?
[08:27:36] <eddyb> quantheory: custom DST types mean all the containers and smart pointers work out of the box
[08:27:57] <eddyb> with enough magic^W superglue
[08:28:19] <quantheory> So, basically a back-compat issue?
[08:28:21] <npm> grargh!
[08:28:28] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[08:28:31] <npm> jemalloc you are the worst!
[08:28:41] <npm> so many gorram warnings!
[08:28:43] <eddyb> quantheory: you don't want to complicate pointers :P
[08:28:54] <eddyb> sure we can do it
[08:29:06] <eddyb> and build everything on integers
[08:29:19] <eddyb> but it's not desireable IMO
[08:29:20] <quantheory> eddyb: *You* don't want to complicate pointers. I'm fine with it. =P
[08:29:30] <npm> I'm with quantheory on this one
[08:29:44] <eddyb> orthogonality is hard
[08:29:50] <npm> also, jemalloc should really really clean up it's act
[08:29:56] <eddyb> I want my abstractions simple
[08:30:05] <eddyb> npm: just throw afl at it
[08:30:15] <npm> afl?
[08:30:25] <eddyb> hahaha
[08:30:55] <npm> unless you are talking about the short lived 1960s football league, I have no idea what you are talking about
[08:31:14] <eddyb> npm: are you seated?
[08:31:20] <eddyb> american fuzzy lop
[08:31:44] <npm> aww, is so cute
[08:32:09] <npm> but I just mean warnings
[08:32:42] <npm> like using asm volatile instead of the (actually correct) __asm__ __volatile__
[08:33:02] <npm> BECAUSE THEY ARE TERRIBLE PEOPLE WHO DO NOT FOLLOW THE STANDARD
[08:33:49] <eddyb> the copperhead blog post mentioned a few issues with jemalloc. not sure if any were vulns
[08:34:26] <npm> I just want to be able to compile without clearing my CFLAGS :'(
[08:35:53] <eddyb> lol
[08:36:30] <npm> literally, every time I make, CFLAGS= make
[08:36:36] <npm> it's downright annoying
[08:36:53] <eddyb> make CFLAGS=
[08:37:14] <npm> that is not any better
[08:37:40] <npm> anyhow, it seems to me we're doing the same thing in two places in the compiler
[08:37:45] <npm> you wanna check it out, eddyb?
[08:37:55] <npm> libtrans/ast.rs: 1800
[08:38:04] <npm> and libtrans/ast_map/mod.rs: 919
[08:38:16] <npm> they are similar, but slightly different
[08:38:23] <quantheory> eddyb: TBH, I'm still not clear on why integers would be needed to make HKTs track japaric's proposal. To me his proposal actually *introduces* an (integer-index) array descriptor where it wasn't obvious (to me) that one was necessary.
[08:39:07] <npm> I don't see why HKT would be useful here?
[08:39:28] <npm> would you mind explaining that to me, as someone who doesn't do functional programming?
[08:39:57] *** Joins: eddyb_ (eddyb@moz-jm7.2kg.166.109.IP)
[08:40:21] <npm> I actually don't really understand why anyone would index with anything other than an integer or an enum
[08:40:52] <huon> npm: it's nice to index a map with the actual key type (e.g. a string)
[08:40:55] *** Quits: eddyb (eddyb@moz-hdr.5ot.166.109.IP) (Ping timeout: 121 seconds)
[08:40:57] <huon> and multidimensional arrays
[08:41:00] *** Joins: killercup (killercup@moz-qj5qhi.dip0.t-ipconnect.de)
[08:41:16] <npm> ah yeah, maps, forgot about those
[08:41:19] *** eddyb_ is now known as eddyb
[08:41:26] <npm> still don't see what HKT has to do with it
[08:41:39] <mrmonday> npm: alias make='make CFLAGS=' :<
[08:41:44] <npm> well, multidim. arrays would just be arr[i][j]
[08:41:53] <npm> mrmonday: but what about C projects?
[08:41:56] <huon> npm: not necessarily
[08:42:22] <huon> npm: depends on their internal representation if something like that can work (it often does, though)
[08:42:32] <npm> where I like my CFLAGS="-Wall -Wextra -pedantic -Werror -std=c11"
[08:42:44] <npm> huon: okay, true
[08:42:50] <npm> still don't see what HKT has to do with it
[08:42:59] <mrmonday> npm: wasn't a serious suggestion :p That said, I have make aliased to a reasobly long function which changes its behaviour depending on which directory I'm in, and also notifies me when it's complete so I can go off and do other things :>
[08:43:10] <huon> also, slicing is nice, e.g. `arr[i..j, ..]` to select the ith through jth rows of `arr`
[08:43:30] <npm> huon: completely forgot about that, that is quite nice
[08:43:36] <huon> npm: HKT is related to indexing because the fully general version requires parameterising by a lifetime in a HKT kind of way
[08:43:38] *** Joins: Rym______ (y@moz-dhb.0vk.38.217.IP)
[08:44:05] <npm> is there a good "introduction to HKT"
[08:44:06] <huon> we currently define `trait Index<T> { type Output; fn index<'a>(&'a self, x: T) -> &'a Output; }` i.e. it has to return a reference
[08:44:07] <npm> somewhere?
[08:44:13] <npm> I still don't understand it
[08:44:21] <huon> but it is often nice to be able to return non-references
[08:44:46] <npm> something about type constructors
[08:44:52] <huon> which would require (hypothetical syntax) `trait Index<T> { type Output<'x>; fn index<'a>(&'a self, x: T) -> Output<'a>; }`
[08:45:19] <huon> this would allow `impl Index<usize> for [T] { type Output<'x> = &'x T; ... }`
[08:45:41] <npm> okay, I get that
[08:45:43] <huon> and also `impl Index<X> for SomethingFancy { type Output<'x> = MoreFancy<'x>; ... }`
[08:45:46] <npm> makes sense
[08:45:53] <npm> what about HKT?
[08:46:00] <huon> the key point is that parameterising Output with the 'x is HKT
[08:46:24] <npm> umm... why?
[08:46:36] <huon> that's what HKT is
[08:47:50] <huon> at least, I'm lead to believe that it's equivalent to HKT
[08:48:02] *** Quits: Rym______ (y@moz-dhb.0vk.38.217.IP) (Ping timeout: 121 seconds)
[08:48:08] <npm> every time I think I get lifetimes, I'm just completely flabbergasted by something else
[08:48:08] <huon> (equivalent to the "classical" framing of HKT, that is)
[08:48:18] <huon> this isn't really related to lifetimes
[08:48:27] <huon> it's just lifetimes are how it comes into Indexing
[08:48:32] <quantheory> Oops, I was away for a bit. The important part about HKT here is not really the "higher"-ness over types, but over lifetimes.
[08:48:43] <huon> (it's just lifetimes are how *HKT comes into Indexing)
[08:49:23] <npm> does someone have, like, a learn you an HKT for great good somewhere?
[08:49:50] <npm> because I really don't understand anything about them
[08:50:23] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[08:51:11] <quantheory> Mmm. I don't have a good guide coming to mind. I found them simple to understand coming from Haskell, where they are pretty fundamental to writing generic code, but never really defined as an explicit... thing (where I learned Haskell).
[08:51:31] <npm> okay, so, the point is
[08:51:35] <npm> I should learn haskell
[08:51:51] <quantheory> Or ML, or something, maybe.
[08:52:06] <npm> I already wanted to lear haskell, so this'll be cool
[08:52:51] <mrmonday> Haskell's a great language to learn, I'd recommend it
[08:53:11] <npm> yeah, I was planning on learning it a while ago, but then concussion
[08:53:20] <npm> so I was out of commission on programming
[08:54:00] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[08:54:14] <quantheory> In a vague sense, as it's the best I can do right now off the top of my head, HKTs are talking about "Vec" as a higher-kinded type that takes one other type as parameter, instead of "Vec<T>", where you specify that there's some particular type there.
[08:54:41] <npm> see I don't really get the difference
[08:54:45] <npm> yet
[08:55:16] *** Joins: larhat1 (Adium@moz-egv.ld6.128.213.IP)
[08:57:43] <mrmonday> npm: I'll throw in an example to add to your confusion :) trait Foo<T, U> { fn something(&self) -> T<U>; }
[08:58:02] <quantheory> In the specific contexts where I've seen this brought up in Rust, it has to do with the difference between a type parameter on an impl, and one on a method defined in an impl. But yeah, at 3 in the morning (where I am) I'm drawing a blank on a very specific example to give.
[08:59:06] <npm> alright, I'm off, I'm gonna learn me a haskell for great good
[08:59:12] <mrmonday> \o/
[08:59:20] <mrmonday> enjoy
[08:59:20] <quantheory> Okey-day.
[08:59:25] *** Quits: larhat1 (Adium@moz-egv.ld6.128.213.IP) (Ping timeout: 121 seconds)
[08:59:36] <mrmonday> don't get bogged down in burritos
[08:59:36] <quantheory> I'm going to sleep, because my brain apparently needs that right now.
[08:59:38] <npm> (I mean, I'll still be here
[08:59:41] <npm> )
[08:59:50] <npm> (I'll just not be paying attention
[09:00:08] <npm> good lck quantheory 
[09:00:30] <npm> mrmonday: but what if I want to get bogged down in burritos
[09:00:31] <quantheory> Nighty night.
[09:00:37] *** Quits: quantheory (quantheory@moz-dsb104.crel.jtvf.0001.2601.IP) (Quit: Leaving)
[09:01:08] <mrmonday> well then you should probably spend a few months on category theory first
[09:01:37] <npm> I assume that there is a joke going way over my head :P
[09:02:04] *** Joins: Lilly (Lilly@moz-pfkvo9.bredband.comhem.se)
[09:04:07] <npm> Î»!
[09:05:09] <mrmonday> due to the ridiculous amount of overly complicated information about monads all over the internet, many members of the Haskell community have taken to calling them burritos
[09:05:21] <npm> oh
[09:05:35] <npm> monads seemed pretty simple, actually, at least on the surface level
[09:05:39] <mrmonday> it's a super simple concept, but it seems the second you understand them you lose all ability to describe them to someone who doesn't already understand them
[09:05:42] <mrmonday> enter the burrito
[09:06:03] <npm> (I don't know why, but I decided to learn monads before learning haskell)
[09:06:41] <mrmonday> also, it doesn't help that the simplest way of explaining them (imo) is technically incorrect, and if anyone who knows category theory sees it will write up a page long response about how they're actually far more powerful and elegant :>
[09:07:00] <npm> curse the haskell gods and their decision to make +-/*% inner-operators
[09:07:01] <npm> !
[09:07:44] <npm> what are those called?
[09:08:04] <npm> where you can't just do (+ 1 2)
[09:08:14] <eddyb> infix
[09:08:16] <mrmonday> a + b is infix
[09:08:18] <npm> that word
[09:08:28] <npm> curse you haskell gods and your infixitude!
[09:08:42] <mrmonday> as opposed to `+ a b` prefix, and `a b +` postfix
[09:09:07] <npm> infix has annoyed me for a very long while
[09:09:21] <npm> prefix makes sense, postfix makes more sense, and infix makes no sense at all
[09:09:28] <mrmonday> Prelude> (+) 1 2
[09:09:28] <mrmonday> 3
[09:09:34] <mrmonday> ^ you can use prefix in Haskell
[09:09:58] <npm> I know you can, but I'm fighting Haskell for something that should have been in the language from the start
[09:10:00] <mrmonday> but people will probably get upset if you do that
[09:10:17] <npm> even though I know most people disagree
[09:10:25] <mrmonday> I hate prefix personally, for things that I'd read as infix
[09:10:36] <npm> damnit let me write Lisp in Haskell :P
[09:11:28] <eddyb> Haskell is LISP + syntax sugar + type system
[09:11:48] <npm> but I would prefer it if it was LISP + type system
[09:11:57] <npm> just get rid of the syntax sugar entirely
[09:12:22] <npm> I think Lisp would be my favorite language if it were typed
[09:12:26] <eddyb> uhm
[09:12:39] <eddyb> npm: surely there are typed LIPSs
[09:12:50] <npm> probably, but I'm not being serious
[09:12:53] <eddyb> Typed Racket comes to mind
[09:13:13] <npm> forgive me, it's 2:13
[09:13:45] <mrmonday> I wish I understood why everyone loves lisp so much
[09:14:21] <mrmonday> I've spent a few hours with it, and trying to find a missing ) instead of actually programming was infuriating
[09:14:29] <mrmonday> so I never got to do anything exciting with it
[09:15:10] <npm> honestly, it is super frustrating starting out
[09:15:22] <npm> but then you get it
[09:15:33] <npm> and it's the most beautiful language you've ever seen
[09:16:04] *** Quits: panicbit (panicbit@moz-r4ks4s.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[09:16:36] <eddyb> npm: what if <> would be ()?
[09:16:39] <eddyb> in C++ or Rust?
[09:17:00] <npm> So, like, Vec(T)?
[09:17:01] <eddyb> "5".parse(i32): Option(_)
[09:17:03] <eddyb> npm: yes
[09:17:21] <eddyb> npm: this is one of the Rust 2.0 ideas
[09:17:24] *** Quits: Kxepal832 (Miranda@moz-u0omr9.pppoe.mtu-net.ru) (Ping timeout: 121 seconds)
[09:17:25] <npm> I mean, it would probably be difficult to parse
[09:17:29] <npm> really?
[09:17:34] <npm> I would love that
[09:17:45] <npm> it looks so much nicer
[09:17:51] <eddyb> it's easier to parse
[09:18:04] <eddyb> you have to make one concession though, which would break existing code
[09:18:16] <eddyb> one namespace for values and types
[09:18:29] <npm> hmm, true
[09:18:41] <eddyb> which make struct Foo<T>(T); harder to express
[09:18:41] <npm> however, most idiomatic rust code will be fine
[09:19:03] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[09:19:03] <eddyb> struct Foo(T: type, T)
[09:19:29] <npm> true...
[09:19:30] <eddyb> npm: I have been trying to force the limits of the type system to allow easier expression of bounded generics
[09:19:42] <mdcox>  I like the uglier, but more explicit <>.  I feel like () would just represent too much, especially if you consider what they do outside of the type context as well.
[09:20:00] <mdcox> just my 2cents
[09:20:07] <eddyb> fn foo(x: &Option(T: Clone)) -> Option(T) { x.clone() }
[09:20:16] <eddyb> having that work would be very nice
[09:20:29] <mrmonday> eddyb: that's what D does, () instead of <>
[09:20:32] <eddyb> no
[09:20:35] *** Joins: larhat (Adium@moz-egv.ld6.128.213.IP)
[09:20:36] <eddyb> D has foo!(T)
[09:20:36] <mrmonday> then it uses !() for invocation
[09:20:52] <eddyb> in this model, types and values can appear in the same call
[09:20:53] <npm> okay, actually tho, that is really beautiful
[09:21:10] <npm> I want this really bady
[09:21:20] <mrmonday> oh, wait, didn't finish reading what you were saying
[09:21:24] <eddyb> I'm not sure it's a viable type system
[09:21:38] <eddyb> and I have a lot of reading to even get a clue about what type systems are :P
[09:21:48] <mdcox> I know context differentiates it...but I hate the isolated `Option(T)` could look like a function call.
[09:22:00] <mrmonday> I dunno, I prefer having compile time and run time parameters separate
[09:22:00] <eddyb> mdcox: it's not context
[09:22:11] <eddyb> mrmonday: that's another issue with this
[09:22:30] <mdcox> Not that there aren't plenty of things like that anyway, but still.  I'd rather garish than having to think about it.
[09:22:42] <mrmonday> also, how would what you're suggesting work if we got eg, integer parameters at compile time
[09:22:50] <eddyb> :D
[09:22:55] <mrmonday> like Foo<1> or whatever
[09:22:57] <eddyb> mrmonday: the same they would at runtime
[09:23:18] <eddyb> gtg
[09:23:47] <mrmonday> I dunno, I guess I'd rather it be explicit what's happening when
[09:23:57] <mrmonday> I want to look at the code and know what it's doing
[09:24:10] <mrmonday> not have to go and check type signatures before I have any idea
[09:24:14] <npm> yeah...
[09:24:24] <npm> it just looks so pretty :P
[09:24:37] *** Quits: larhat (Adium@moz-egv.ld6.128.213.IP) (Ping timeout: 121 seconds)
[09:25:02] <mrmonday> no more pretty that separating them imo
[09:25:33] *** Joins: panicbit (panicbit@moz-r4ks4s.dip0.t-ipconnect.de)
[09:25:35] <mrmonday> eg in D you'd use ReturnType function_name(T, U)(T val1, U val2)
[09:26:06] <npm> yeah, that could be used
[09:26:28] <mrmonday> then calling you can either use function_name(val1, val2) and have the type parameters infered, or function_name!(T1, T2)(val1, val2) to be explicit
[09:26:47] <npm> so in rust that would look like fn cloney(T: Clone)(t: T) { t.clone() }
[09:26:54] <mrmonday> sure
[09:27:08] <mrmonday> nice and explicit what's going on there
[09:27:37] <npm> wait, lets go off transmute
[09:27:51] <npm> transmute(T, U)(t: T, u: U) { ... }
[09:28:15] <eddyb> that is not the signature you want :P
[09:28:22] <npm> so to call that, could you not just `transmute(i32, u32)(-1)`
[09:28:29] <npm> you're right, did the wrong thing
[09:28:41] <eddyb> npm: not sure if inference for that is nice
[09:28:52] <npm> transmute(T, U)(t: T) -> U
[09:29:01] <npm> eddyb: how do you mean?
[09:29:18] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[09:29:20] <eddyb> transmute(x) should be transmute(_, _)(x)
[09:29:22] <mrmonday> syntax is probably one the things I care least about for Rust 2 :<
[09:29:43] * huon is looking forward to Rust 2 using lisp syntax
[09:29:50] <eddyb> mrmonday: syntax is one of the things we can rework entirely in 2.0
[09:29:56] <huon> but with {} to appease the C/C++ devs
[09:29:56] <eddyb> most features can go in 1.x
[09:29:58] <npm> huon: I will implement that damnit
[09:30:15] <eddyb> npm: you can implement it in macro_rules!
[09:30:19] <mrmonday> huon: ok, I lied, I care about it a lot :>
[09:30:34] <mrmonday> eddyb: just because you can, doesn't mean you should ;)
[09:31:05] <huon> I hope 2 (if it happens) will be almost entirely removing deprecated features
[09:31:18] <npm> yeah
[09:31:19] <huon> i.e. everything "new" gets introduced in 1.x with an upgrade path
[09:31:22] <eddyb> that damn static mut
[09:31:30] <npm> don't
[09:31:31] <npm> you
[09:31:32] <npm> dare
[09:31:33] <npm> fucking
[09:31:34] <huon> eddyb: what's the problem?
[09:31:35] <npm> take
[09:31:37] <npm> my
[09:31:40] <npm> static
[09:31:42] <npm> mut
[09:31:44] <eddyb> huon: static mut is only good for creating UB
[09:31:48] <huon> eddyb: i.e. we deprecate it
[09:31:51] <eddyb> yupp
[09:31:53] <npm> I will protect it to the day I die
[09:32:00] <eddyb> just that it's not gone entirely until 2.0
[09:32:21] <eddyb> and the design is not clear to everyone, e.g. npm here doesn't seem to know that they can use static instead
[09:32:22] <huon> doesn't seem like the worst thing that will be not gone until 2.0
[09:32:33] <eddyb> huon: it really isn't
[09:32:42] <npm> you can use static UnsafeCell<T>
[09:32:43] <huon> right so don't get your nickers in a knot :P
[09:32:45] <eddyb> it's just personal
[09:32:58] <npm> I get that
[09:33:11] <eddyb> if I figured it out a few months earlier it would be gone by now
[09:33:15] <npm> but for malloc implementations, a static mut is really fucking useful
[09:33:27] <eddyb> npm: it's UB in most scenarios
[09:33:48] <npm> StaticMutex
[09:33:49] <eddyb> if it's thread safe, you're using atomics
[09:33:55] <eddyb> npm: that doesn't need mut
[09:33:55] <huon> not necessarily
[09:34:06] <huon> you may enforce data race freedom in some other way
[09:34:10] <huon> (i.e. not atomic instructions)
[09:34:14] <npm> No, a static mut Heap { } + a StaticMutex
[09:34:18] <eddyb> (I meant something specific like a thread safe pointer bump)
[09:34:24] <huon> of course these can all be done with `static` too
[09:34:41] <Yurume> http://twenty.frenchguys.net/
[09:34:41] <npm> of course you can
[09:34:46] <npm> doesn't mean that you should
[09:34:46] <eddyb> npm: that's a perfect usecase for a static mutex (that actually wraps your data)
[09:34:49] <eddyb> lol
[09:34:59] <eddyb> npm: it's just that const fn came too late
[09:35:10] <npm> well, okay, maybe if you give me const fn
[09:35:18] <npm> if you give me const fn, I will reconsider
[09:35:41] <npm> (although I still don't like it)
[09:35:52] <npm> (if I can do it in C, I should be able to do it in Rust)
[09:36:32] <eddyb> static HEAP: StaticMutex<Heap> = StaticMutex::new(Heap {...});
[09:36:41] <eddyb> perfectly safe usage
[09:36:53] <npm> yes, yes it is
[09:37:01] <eddyb> npm: const-fn got delayed to 1.1 or 1.2
[09:37:09] <eddyb> and I have no idea if it will be stabilized in 1.x
[09:37:10] <npm> but what I'm saying is I don't like languages taking away my power to UB
[09:37:14] <npm> I will UB if I want
[09:37:16] <npm> damnit
[09:37:19] <eddyb> but that is the whole point of Rust
[09:37:29] <eddyb> why do you fight safety?
[09:37:35] <eddyb> with ugly unsafe code?
[09:37:41] <npm> maybe in safe code, but in unsafe code, I am king
[09:37:51] *** Joins: Rym______ (y@moz-dhb.0vk.38.217.IP)
[09:38:06] <eddyb> npm: shouldn't you be dreaming by now :P?
[09:38:13] <npm> yes, probably
[09:39:30] <npm> the point is that in unsafe code, I can and should be able to do whatever I want
[09:39:45] <npm> And, if you don't let me do whatever I want, then I'll fork you
[09:40:10] <eddyb> you still can, with a RacyCell
[09:40:19] <eddyb> but static mut is special-cased into the language
[09:40:29] <npm> so is UnsafeCell
[09:40:31] <eddyb> it's the kind of thing we move into the library when we get the ability to do so
[09:40:35] <npm> and I assume, RacyCell
[09:40:43] <eddyb> RacyCell would be an UnsafeCell with a Sync impl
[09:40:49] <npm> but static mut should be special cased
[09:40:56] <npm> it's a special case
[09:40:58] <eddyb> npm: but that's pointless!
[09:41:28] <eddyb> it's a feature that is best used for causing UBs
[09:41:31] <npm> you have static storage, and being able to mutate it (should not be) a special case
[09:41:35] <eddyb> it serves no purpose
[09:41:48] <eddyb> npm: shared mutable state is something Rust denies by default
[09:42:00] <npm> but the point of Rust is that it's not Java
[09:42:03] <eddyb> it's the foundation the entire language is layed on
[09:42:06] <npm> it's not Haskell
[09:42:12] *** Quits: Rym______ (y@moz-dhb.0vk.38.217.IP) (Ping timeout: 121 seconds)
[09:42:14] <npm> it's not any of these other safe languages
[09:42:23] <npm> because Rust offers you an escape
[09:42:56] <npm> learn from your forebears
[09:43:03] <npm> "Trust the Programmer"
[09:43:21] <eddyb> npm: Rust specifically doesn't trust the programmer
[09:43:34] <eddyb> you are looking for the wrong PL :P
[09:43:34] * npm starts singing patriotic tunes about Dennis Ritchie and Ken Thompson
[09:44:19] <eddyb> npm: well, Thompson is a nice guy
[09:44:52] <npm> you have no idea how tired I am
[09:45:03] <npm> I'm just having the time of my life over here :P
[09:45:31] <npm> I am high on sleeplessness!
[09:46:11] * VShell likes that Rust doesn't trust her. she's terrible at figuring out what's not safe to do, so Rust does it for her. :P
[09:46:13] <eddyb> npm: I've been doing that waaay too often recently myself
[09:46:31] <eddyb> VShell: rustc has make C++ programmers better at their jobs
[09:46:35] <eddyb> *has made
[09:46:58] <npm> VShell: but when you really want to get down and dirty, and walk all over the nice heap you made, destroying all data that you store in it downstream
[09:46:58] <eddyb> npm: just two more weeks until highschool is over
[09:47:00] <eddyb> DONE
[09:47:01] <eddyb> FINI
[09:47:06] <npm> unsafe { }
[09:47:15] <eddyb> FML Y DID I DROP OUT
[09:47:20] <npm> ugh, I still have a year and 3 weeks
[09:47:39] <eddyb> but then I have a few more weeks of exams
[09:47:52] <npm> that sounds terrible
[09:48:05] <eddyb> which I can pass at any time if I've finished highschool, but I'd really not do them more than once
[09:48:12] <VShell> eddyb: I am mostly a Python programmer, tbh. I like Rust because it's the first statically typed language that isn't covered in really complicated abstractions, doesn't let me shoot myself in the foot quite as easily, and is easy to write.
[09:48:15] <eddyb> well, there's probably a retry limit
[09:48:35] <eddyb> npm: and then there's the admission exam into uni
[09:48:38] <eddyb> but that's pretty easy
[09:48:57] <VShell> I've got bits and pieces of a MUD server floating about and I'm really surprised that every time I can get it to compile, it works. :P
[09:48:59] <eddyb> just need to hope they don't come up with something I've never seen before
[09:49:11] <eddyb> VShell: that is such a good feeling
[09:49:16] <npm> what do you want to go to uni for?
[09:49:31] <Havvy> VShell:  Do you consider Java to be a lot of complex abstractions?
[09:50:23] <eddyb> Java is not strongly typed :P
[09:50:28] <VShell> Havvy: it's not easy to write, though. there's a lot of boilerplate - both in the language and in commonly used libraries - and I'm not really keen on having an IDE write code for me.
[09:50:33] <eddyb> npm: for a diploma
[09:50:38] <eddyb> and maybe a chance to get into research
[09:51:26] <VShell> Havvy: I guess there's Scala, but it's always looked like a tentacle monster to me. :p
[09:51:52] <npm> eddyb: sounds good
[09:51:56] <npm> what kinda researh
[09:52:10] <eddyb> just the kind of unusable type system stuff I was talking about
[09:52:17] <Havvy> Scala is what happens when you kick backwards compatibility behind and just extend and extend Java. ;)
[09:52:33] <npm> eddyb: sounds like fun :)
[09:53:03] <npm> I've always wanted to go work at google, they have interesting stuff going on
[09:53:29] <eddyb> I got an email from google when I was 17 or so :P
[09:53:37] <eddyb> (it was spam)
[09:54:05] <eddyb> I don't have the patience for the volume of information associated with science/engineering
[09:54:09] <npm> I also got an email (probably the same one, it seems like they emailed the entire rust community)
[09:54:30] <eddyb> npm: 2+ yrs ago for me
[09:54:35] <npm> see, that's what's super interesting for me
[09:54:39] <eddyb> I wish I was still young :P
[09:54:48] <npm> Ah, they emailed me like... 2 months ago?
[09:54:58] <npm> Said they could get me an internship next year
[09:55:04] <eddyb> ah, that's specific
[09:55:10] <eddyb> for me it was a stupid invitation to apply
[09:55:15] <npm> Ah, yeah
[09:55:22] <eddyb> based on the fact that someone took one minute to type a filter into a github search
[09:55:28] <npm> I think living in the US has its benefits :/
[09:55:31] <eddyb> my name was highlighted with yellow
[09:55:32] <eddyb> :|
[09:55:49] <eddyb> it was obviously the most automated crap they would pull
[09:56:03] <eddyb> npm: that it does
[09:56:41] <eddyb> npm: I've been to Portland last December (Mozilla <3) and it was a breath of fresh air, nice people and civilization
[09:56:50] <npm> ugh Portland
[09:57:00] <eddyb> (compared to where I come from)
[09:57:13] <npm> they're like a more hipster-y version of Seattle
[09:57:18] <eddyb> lol
[09:57:22] <npm> (which is saying something)
[09:57:52] *** Quits: killercup (killercup@moz-qj5qhi.dip0.t-ipconnect.de) (Connection closed)
[09:58:03] *** Joins: killercup (killercup@moz-qj5qhi.dip0.t-ipconnect.de)
[09:58:28] <eddyb> npm: that was my first time ever abroad. the cultural shock was when I came back home :/
[09:58:36] <npm> how do you mean?
[09:58:52] <eddyb> I forgot how shit Romania was
[09:58:57] <fmtq> lol
[09:58:59] <npm> :/
[09:59:08] <eddyb> that's what I get for bad short-term memory
[09:59:29] <eddyb> I felt at home in Portland
[09:59:32] *** Joins: ogham (rally@moz-udk.d7f.6.31.IP)
[09:59:41] <npm> yeah
[09:59:57] <npm> thankfully my great grandparents did the hard part of immigration for me
[09:59:59] <eddyb> here? snow was melting and it was quite muddy
[10:00:14] <eddyb> fell from the sky into the mud
[10:00:16] <eddyb> almost literally
[10:00:45] <npm> you probably wouldn't like it in Seattle's suburbs all that much then
[10:00:47] <eddyb> npm: I don't doubt there's bad looking parts of US
[10:00:49] <npm> lots of mud
[10:01:18] <eddyb> but even if you go in the nicest looking parts of Bucharest
[10:01:29] <eddyb> where old buildings might look as good some in Portland
[10:01:35] <eddyb> *as good as
[10:01:54] <eddyb> it's still a pig stable
[10:02:21] <eddyb> the people and their attitude is depressing
[10:02:27] <npm> you could always immigrate to the other Rome
[10:02:35] <npm> I hear it's very nice :)
[10:02:37] <eddyb> Italy?
[10:02:46] <npm> Well, Rome, but yeah
[10:02:49] <eddyb> no thanks, the south is fucked
[10:02:55] <npm> hey...
[10:02:58] <eddyb> Spain, Italy and Greece
[10:03:09] <npm> It's not *that* fucked
[10:03:11] <npm> just a little
[10:03:17] <eddyb> it's going to get worse, at this rate
[10:03:27] <eddyb> I would go north, though
[10:03:38] <eddyb> after spending years learning a germanic language, presumably
[10:03:44] <npm> be a Swede?
[10:03:46] <eddyb> fmtq: can you get away with just English in Sweden?
[10:03:51] <fmtq> yse
[10:03:56] <eddyb> :P
[10:04:08] <npm> I know DDRJake (a youtuber) is doing it
[10:04:08] *** Quits: c74d (c74d3a4ebb6@moz-nvc5h7.mggc.hibn.4404.2002.IP) (Connection closed)
[10:04:15] <eddyb> npm: I know someone who moved to Finland
[10:04:18] <npm> And there was that mobster who did it in Norway
[10:04:35] <eddyb> living in a house in the woods with a few km's to the next house
[10:04:35] <npm> (is a TV show which is awesome)
[10:04:35] *** Joins: c74d (c74d3a4ebb6@moz-0ersgu.oc.cox.net)
[10:04:49] <npm> ugh, that sounds terrible
[10:04:57] <npm> give me the city, please!
[10:05:05] <eddyb> I bet they have cities, too
[10:05:10] <eddyb> :P
[10:05:48] <eddyb> but just the fact that you can have modern facilities in the middle of nature
[10:05:58] <npm> it's pretty crazy
[10:06:17] <eddyb> it's not impossible here either, but it would suck more
[10:06:35] <npm> than Finland?
[10:06:55] <npm> :P
[10:06:56] <eddyb> than most of western and northen europe
[10:07:06] <eddyb> the eastern bloc just sucks
[10:07:49] <eddyb> half a century of poison tends to do that
[10:07:57] <npm> I've heard Eesti is very nice
[10:08:07] <npm> (Estonia)
[10:08:12] <eddyb> npm: oh I know of one nice place in Italy
[10:08:29] <eddyb> npm: flapper87 lives in what seems to be a paradise
[10:08:29] <npm> you know, there are many nice places in Italy
[10:08:49] <npm> just gotta be okay with lots of relaxing, and not working
[10:09:07] <eddyb> that sounds like what he's saying :P
[10:09:26] <eddyb> npm: this is intriguing btw https://apply.e-estonia.com/
[10:10:09] <npm> wat
[10:10:24] *** Joins: mkpankov` (mkpankov@moz-rl4.dee.149.83.IP)
[10:10:29] <eddyb> it seems like it's easier to create a company there over the internet than it is here
[10:10:42] <npm> that is awesome
[10:10:44] <eddyb> (being a citizen of my own country and whatnot)
[10:10:59] <npm> yeah, but EU
[10:11:34] <eddyb> I wonder if this will be (ab)used the same way swiss bank accounts are
[10:11:39] *** Quits: mkpankov (user@moz-h0n.sma.198.91.IP) (Connection closed)
[10:11:55] <eddyb> Tiffany: hahaha hang on a second, if they have an API...
[10:11:59] <npm> I think that's the point?
[10:12:10] <npm> I guess?
[10:12:15] <eddyb> Tiffany: time to code the shell corporation manager expert system :P
[10:12:38] <npm> anyways, everyone knows that Estonia is cutest country
[10:12:54] <eddyb> npm: if I don't make sense with weird words or if I mention singularities or lobsters
[10:13:00] <eddyb> npm: you may want to read Accelerando
[10:13:07] <eddyb> after getting a good rest :P
[10:14:11] <eddyb> Estonia is a bit too close to Russia for my own liking, though
[10:14:34] <npm> oh yeah, forgot about the White Bear
[10:14:38] <eddyb> npm: did it survive stalinism better than the rest of us?
[10:14:51] <npm> I don't know, it's just a thing
[10:15:02] <npm> Estonia's the cutest country for some reason
[10:15:22] <npm> on the internet
[10:16:37] <npm> plus, their PM is very attractive
[10:16:40] *** Joins: mkpankov (user@moz-nleeis.partnertech.ru)
[10:16:43] <npm> (at least imho)
[10:18:07] *** Quits: killercup (killercup@moz-qj5qhi.dip0.t-ipconnect.de) (Quit: Bye)
[10:18:43] <npm> also, now, for some reason, I have Ukraine's national anthem stuck in my head
[10:20:07] *** Quits: eddyb (eddyb@moz-jm7.2kg.166.109.IP) (Connection closed)
[10:21:41] <barosl> You know what? I once tried to integrate CPython/V8 into Rust, just to use the Markdown (more specifically, CommonMark) parser
[10:22:08] <npm> That sounds awesome
[10:24:38] <barosl> I was thinking of enduring the lackage of Rust libraries until the Rust ecosystem matures, with help of the existing Python and JS libraries
[10:25:05] <barosl> V8 is more preferable in this case, because you don't need elegancy to use an external library
[10:25:15] <barosl> Just the number of the libraries available is important
[10:25:26] <barosl> +Performance
[10:25:42] <barosl> V8 crushes CPython by performance
[10:26:12] <barosl> However CPython's C interface is a bit easier to use than V8's in general
[10:26:39] <barosl> So... I dunno, am I crazy?
[10:26:58] <npm> I cannot say
[10:27:06] <npm> for I am crazy with lack of sleep
[10:27:19] <barosl> Bringing this back again, the `cpython` crate seems to be mature right now
[10:27:22] <npm> but it sounds super cool
[10:27:25] <barosl> https://github.com/dgrunwald/rust-cpython
[10:27:29] <barosl> Kul
[10:27:40] <barosl> I luv it
[10:28:38] <npm> why are Haskell's Ints guaranteed to be 2^30 big?
[10:28:46] <npm> anyone know
[10:29:16] <Mutabah> I'd understand 2^31...
[10:29:29] <Mutabah> Oh, maybe signed with a NaN flag
[10:29:52] <npm> it seems... tags?
[10:30:53] <Mutabah> Ah, yes
[10:31:03] <npm> I guess that makes sense
[10:31:08] <Mutabah> E.e. the top bit is overloaded to mean "this is a value, not a pointer"
[10:31:14] <npm> yep
[10:31:57] *** Joins: Rym______ (y@moz-dhb.0vk.38.217.IP)
[10:32:01] <npm> do we still have to do that weird thing with the single type tuples?
[10:32:11] <npm> the (1,)?
[10:33:07] <npm> guess so
[10:33:30] <Mutabah> Yes, single-item tuples exist
[10:33:50] <VShell> (expr) == expr because brackets are for precendence, it'd be ambiguous otherwise.
[10:34:28] <npm> why do we have single-item tuples, beyond "we have 0 item, and 2 item, we should have 1 item"
[10:34:45] <npm> Is there anything that we can use them for?
[10:34:46] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[10:34:52] <npm> Aside from tuple structs, I guess
[10:36:21] *** Quits: Rym______ (y@moz-dhb.0vk.38.217.IP) (Ping timeout: 121 seconds)
[10:38:28] <barosl> Interesting, in my system Int's size is 2^64
[10:38:39] <VShell> npm: they could be useful with variadic generics in the future if they become a thing, maybe? fn foo<X...>() -> some_tuple_with_one_value_for_each_X - you'd want to be able to return a tuple no matter how many generic parameters are passed, including 1.
[10:38:42] <barosl> And the Haskell document says it guarantees 2^30
[10:38:53] <Mutabah> npm: 1. language consistency
[10:38:59] <Mutabah> (there's no reason not to have them)
[10:39:01] <barosl> But considering my system's result Int should be 2^32 in 32-bit systems too
[10:39:07] <Mutabah> npm: And, they also end up being used for the Fn* traits
[10:39:15] <WindowsBunny> I can't wait for variadic generics
[10:39:22] <WindowsBunny> and also integer generics :D
[10:39:25] <WindowsBunny> and HKT
[10:39:44] <npm> cool
[10:40:01] <barosl> npm, You mean this? http://hackage.haskell.org/package/OneTuple
[10:40:12] <barosl> Librrraaary
[10:40:14] <VShell> WindowsBunny: I can't think of syntax that'd be nice for variadic generics, though.
[10:40:56] <VShell> WindowsBunny: it'd probably involve some new loop-over-generic-params construct that gets expanded at compile time?
[10:41:15] <VShell> (before type-checking.)
[10:41:17] <WindowsBunny> I really hope it doesn't involve recursion the way C++ handles it
[10:41:38] <WindowsBunny> Because that makes C++ generic code so disgusting to write efficiently
[10:41:41] <WindowsBunny> the poor compiler Q_Q
[10:43:50] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[10:44:32] <VShell> fn foo<X..>() -> (X..) { for_generics Y in X { Default::default() } }, would be a first attempt. but that's a horrible design in terms of syntax/flexibility.
[10:45:10] <VShell> err. Y::default().
[10:48:04] <npm> argh fuck can't stay awake too tired
[10:48:09] <npm> gnight all
[10:48:31] *** Quits: npm (npm@moz-92sbjt.wa.comcast.net) (Quit: process:exit(EXIT_TIRED_AF))
[10:55:00] <VShell> maybe for_generics!(Y in X { ... }) to make it clear that it's macro-like, which it is.
[10:58:36] *** Quits: Lilly (Lilly@moz-pfkvo9.bredband.comhem.se) (Quit: bajs)
[11:09:55] *** Joins: ytain (ytain@moz-07c3h9.dsl.teksavvy.com)
[11:19:38] *** Joins: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP)
[11:21:34] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[11:21:39] <mkpankov> the swag has arrived, wee-ha
[11:26:07] *** Joins: Rym______ (y@moz-dhb.0vk.38.217.IP)
[11:30:31] *** Quits: Rym______ (y@moz-dhb.0vk.38.217.IP) (Ping timeout: 121 seconds)
[11:33:16] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[11:45:30] <fmtq> such blindness 
[11:59:45] *** Quits: Boscop (me@moz-5ac.5rj.126.98.IP) (Ping timeout: 121 seconds)
[12:11:28] <panicbit> Dunno... [T] works fine as varargs substitute :P
[12:17:52] *** Quits: ogham (rally@moz-udk.d7f.6.31.IP) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[12:20:19] *** Joins: Rym______ (y@moz-dhb.0vk.38.217.IP)
[12:20:29] *** Quits: FreeFull (freefull@moz-f65lp3.skybroadband.com) (Quit: Rebooting)
[12:20:33] *** Quits: panicbit (panicbit@moz-r4ks4s.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[12:24:40] *** Quits: Rym______ (y@moz-dhb.0vk.38.217.IP) (Ping timeout: 121 seconds)
[12:26:08] *** Joins: panicbit (panicbit@moz-r4ks4s.dip0.t-ipconnect.de)
[12:26:22] *** Quits: Kingsquee (kingsley@moz-3fm07c.bchsia.telus.net) (Quit: Konversation terminated!)
[12:26:49] *** Joins: FreeFull (freefull@moz-f65lp3.skybroadband.com)
[12:44:08] *** Joins: eddyb (eddyb@moz-uo6.6db.166.109.IP)
[12:44:57] <eddyb> heh
[12:45:37] <eddyb> I just figured how to disambiguate value params from runtime fields
[12:45:54] <eddyb> struct Foo(usize);
[12:46:34] <eddyb> if you use Foo as a type, the field is dynamic
[12:46:58] *** Joins: spider-mario (spidermario@moz-coblcf.fbx.proxad.net)
[12:47:16] <eddyb> if you use Foo(5) as a type, it's an unit struct
[12:47:33] <eddyb> and it converts to Foo
[12:47:57] *** Quits: panicbit (panicbit@moz-r4ks4s.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[12:48:23] <eddyb> bonus: struct Vec2D { x: i32, y: i32 }
[12:48:38] <eddyb> that's an ADT constructor
[12:48:46] <eddyb> why can't it be a function?
[12:50:13] <eddyb> fn { x: i32, y: i32 } -> Vec2D
[12:50:29] <FreeFull> struct Foo;
[12:51:15] <mkpankov> well at least you can wrap constructor into a function and get what you want
[12:51:35] <mkpankov> and then, maybe a macro can generate such stuff
[12:51:55] *** Joins: carlcolglazier (uid64399@moz-118bsh.ealing.irccloud.com)
[12:52:40] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[12:54:15] *** Quits: eddyb (eddyb@moz-uo6.6db.166.109.IP) (Ping timeout: 121 seconds)
[12:54:23] *** Joins: eddyb (eddyb@moz-egg.q07.26.188.IP)
[12:54:39] <eddyb> you can write function generic over the fact that one of their arguments is constant, but this seems too much like dependent types
[12:54:55] <eddyb> *a function
[12:55:05] <eddyb> no
[12:55:21] <eddyb> *functions
[12:59:16] *** Joins: larhat1 (Adium@moz-64mvae.outplay.com)
[12:59:17] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Connection closed)
[12:59:18] <XMPPwocky> what
[13:01:03] *** Quits: Dr-Emann (Dr-Emann@moz-f8hd1t.tvh.ptd.net) (Ping timeout: 121 seconds)
[13:01:35] <eddyb> XMPPwocky: y
[13:02:11] <XMPPwocky> in other news, afl is up to 72 crashes
[13:02:14] <XMPPwocky> and it found a hang too
[13:02:24] <eddyb> ahhhhh
[13:02:36] <XMPPwocky> 72 *unique* crashes, that is. 300,000 total
[13:02:46] <eddyb> I need to use it on something
[13:02:46] <Tobba> XMPPwocky: whatcha' fuzzing?
[13:02:50] <eddyb> OH
[13:02:57] <XMPPwocky> Tobba: part of the Source engine
[13:03:02] <eddyb> there is this iGO GPS maps application
[13:03:03] <Tobba> hah oh dear
[13:03:08] <XMPPwocky> (part that's exposed over the network on both clients and servers)
[13:03:17] <eddyb> someone had me reverse engineer parts of it
[13:03:29] *** Joins: Dr-Emann (Dr-Emann@moz-f8hd1t.tvh.ptd.net)
[13:03:49] <eddyb> the map file loader had at least one buffer overflow candidate
[13:04:15] <eddyb> XMPPwocky: afl requires instrumentation of source code, doesn't it?
[13:04:38] <XMPPwocky> eddyb: yeah, this part is in the sdk
[13:04:44] <XMPPwocky> there's also a mode to use qemu
[13:04:45] <eddyb> couldn't it do this like a debugger does software interrupts?
[13:04:48] <XMPPwocky> to dynamically instrument
[13:04:48] <eddyb> OH
[13:04:53] <eddyb> YES
[13:05:03] <Tobba> wait what, theres a QEMU mode?
[13:05:08] <XMPPwocky> but yeah when they said it finds real bugs they weren't kiddin
[13:05:09] <Tobba> now theres no excuse not to use this
[13:05:24] <eddyb> but qemu means no windows programs unless I can figure out how to pair wine with it
[13:05:27] <XMPPwocky> Tobba: albeit only on Linux
[13:05:40] <eddyb> wait, wine on arm uses qemu
[13:05:47] <eddyb> or rather, the binfmt stuff does
[13:05:55] <eddyb> so it should work
[13:06:02] <XMPPwocky> http://lcamtuf.coredump.cx/afl/demo/ hmm, somebody want to run rust-image against these
[13:06:17] <eddyb> what are those?
[13:06:30] <eddyb> libpng exploits?
[13:06:33] <XMPPwocky> test cases generated while fuzzing image parsers
[13:07:02] <XMPPwocky> so they have lots of interesting edge cases
[13:09:08] <eddyb> so
[13:09:14] <eddyb> do we fuzz IE?
[13:09:27] <eddyb> XP network services?
[13:09:48] *** Joins: eddyb_ (eddyb@moz-egg.q07.26.188.IP)
[13:10:31] <fmtq> http://twitter.com/HuffPostUKPics/status/598837137044275201
[13:13:31] <Tobba> XMPPwocky: "Â² Due to the sheer number of exploitable bugs that allow the fuzzer to jump to arbitrary addresses."
[13:14:18] <Tobba> lol
[13:14:18] <FreeFull> afl is really cool
[13:14:26] *** Joins: Rym______ (y@moz-dhb.0vk.38.217.IP)
[13:15:04] <fkaa> feels like everyone has a custom name now on /r/rust
[13:15:16] <Tiffany> does IE still use that library?
[13:15:18] <Tiffany> oh god
[13:15:39] <Tobba> I don't think it ever did
[13:15:46] <Tobba> but the library they were fuzzing against was so broken they gave up
[13:16:01] <Tiffany> why does it say IE under browsers?
[13:16:14] <Tobba> I'm pretty sure IE is the only browser that can decode JPEG XR images
[13:16:23] <Tobba> the point of the project was to generate edge cases
[13:16:25] <XMPPwocky> extended release?
[13:16:32] <Tobba> extended range
[13:16:45] <Tiffany> huh
[13:16:51] <Tiffany> I didn't know there was an HDR JPEG format
[13:18:44] *** Joins: larhat (Adium@moz-egv.ld6.128.213.IP)
[13:18:46] <eddyb_> HDR is crazy cool
[13:18:50] *** Quits: Rym______ (y@moz-dhb.0vk.38.217.IP) (Ping timeout: 121 seconds)
[13:20:07] *** Quits: larhat (Adium@moz-egv.ld6.128.213.IP) (Quit: Leaving.)
[13:20:46] <eddyb_> I can't find the images on wikipedia
[13:20:53] <eddyb_> or maybe it wasn't HDR but something else
[13:26:01] <eddyb_> it was surreal :/
[13:26:59] *** Joins: Lilly (Lilly@moz-pfkvo9.bredband.comhem.se)
[13:36:41] *** Joins: larhat (Adium@moz-egv.ld6.128.213.IP)
[13:37:46] *** Quits: larhat (Adium@moz-egv.ld6.128.213.IP) (Quit: Leaving.)
[13:39:33] <Tiffany> I have found your nightmarish paperclip machine
[13:39:34] <Tiffany> http://lcamtuf.blogspot.com/2014/11/pulling-jpegs-out-of-thin-air.html
[13:39:45] <eddyb_> I still don't understand the paperclip thing
[13:39:58] <Tiffany> someday, AFL will break out of the computer and begin fuzzing the universe
[13:40:20] <eddyb_> "within a millisecond or so, it notices that although setting the first byte to 0xff does not change the externally observable output, it triggers a slightly different internal code path in the tested app"
[13:40:51] <eddyb_> Tiffany: this reminds me of the "10 femtoseconds after Big Bang" kind of thing
[13:41:00] <eddyb_> Tiffany: or GLaDOS
[13:41:16] <Tiffany> of course, it took a day to actually start generating valid jpeg files
[13:41:28] <Tiffany> in more practical terms you'd probably give it a handful of test images to start off with
[13:41:42] <eddyb_> I like how the outputs resemble DCT patterns
[13:41:51] <eddyb_> well, at least some of them
[13:41:58] <eddyb_> it's all very weird
[13:42:05] <Tiffany> it reminds me of that gimp tool which is supposed to generate random images
[13:42:48] <eddyb_> the strcmp example should be breakable in linear time
[13:43:06] <eddyb_> if it's smart enough about dataflow
[13:43:33] <eddyb_> like, I don't see why it couldn't advance one character at a time
[13:43:46] *** Quits: mkpankov (user@moz-nleeis.partnertech.ru) (Ping timeout: 121 seconds)
[13:48:35] *** Joins: mkpankov (user@moz-h0n.sma.198.91.IP)
[13:54:13] *** Quits: larhat1 (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[13:54:27] *** Joins: Rym______ (y@moz-dhb.0vk.38.217.IP)
[13:59:14] *** Quits: Rym______ (y@moz-dhb.0vk.38.217.IP) (Ping timeout: 121 seconds)
[14:04:10] <XMPPwocky> it reads sort of like bad science fiction
[14:04:19] <XMPPwocky> afl-tmin is also absurdly badass
[14:04:34] <XMPPwocky> reducing a 5k test file down to 384 bytes? don't mind if I do
[14:05:34] <XMPPwocky> oh no
[14:05:45] <XMPPwocky> i just realized that afl-fuzz has some complex internal formats of its on
[14:05:46] <XMPPwocky> own
[14:05:55] <XMPPwocky> what happens if you tell it to fuzz itself
[14:05:57] <eddyb_> fuzz itself?
[14:06:00] <eddyb_> bwajajajaja
[14:06:04] <eddyb_> hahaha even
[14:06:28] <eddyb_> XMPPwocky: like, "go fuzz yourself"?
[14:06:38] <eddyb_> wait, no, that would be a Go command
[14:07:30] <XMPPwocky> "At cycle 85, afl-fuzz determines the futility of existence and terminates itself."
[14:07:55] <eddyb_> Tiffany: is there a name for something using 16-bit per channel and resulting in surreal-looking colors in photographs?
[14:08:31] <Tiffany> HDR could be 16 bits per channel
[14:08:41] <Tiffany> but you have to tonemap HDR images in order to display them on a monitor
[14:08:50] <Tiffany> you might be thinking of colour grading?
[14:08:53] <Tiffany> or tone mapping
[14:09:10] <eddyb_> it had one of those "high" or "wide" names
[14:09:16] <Tiffany> those are both stages involved in processing HDR images into something people can look at on their lame old rgb8 monitors
[14:09:22] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[14:09:22] *** ChanServ sets mode: +o erickt
[14:09:28] <eddyb_> Tiffany: it's HDR from an alternate universe, basically
[14:09:33] <Tiffany> HDR is short for high dynamic range
[14:09:35] <Tiffany> uh
[14:09:37] <Tiffany> false colours?
[14:09:45] <eddyb_> the vague details I remember are different from what I can find
[14:09:48] <Tiffany> images taken in infra red and ultra violet are often false coloured
[14:10:03] <Tiffany> and sometimes NASA will produce composite images which grade a huge range of EM spectrum into visible range
[14:10:08] <Tobba> so not something like this? http://upload.wikimedia.org/wikipedia/commons/4/4e/Dundus_Square.jpg
[14:10:15] <Tiffany> and it produces rainbow puke
[14:10:31] <Tiffany> I don't like that image tobba
[14:10:42] <Tiffany> HDR is supposed to show off contrast, not erase it
[14:10:55] <eddyb_> Tiffany: it wasn't *that* image, though it's almost similar in concept
[14:11:08] <eddyb_> err, Tobba
[14:11:14] <eddyb_> and I don't recall "tone mapping"
[14:11:29] *** Joins: bjz (bjz@moz-puppgq.tpgi.com.au)
[14:11:39] <eddyb_> so how did I even get to that wikipedia page about a year ago... I don't remember. it was a technical thing
[14:12:07] <eddyb_> even if I go back in the HDRI page's history
[14:12:13] <eddyb_> I don't see anything familiar
[14:12:20] <XMPPwocky> Tiffany: those afl images remind me of https://www.youtube.com/watch?v=mES3CHEnVyI
[14:12:33] <XMPPwocky> but in reverse
[14:13:06] <Tiffany> oh god
[14:14:21] <Tobba> that's actually really cool, in a way
[14:14:43] <eddyb_> information decoherence
[14:15:02] <Tiffany> it's interesting how the luminance information lasts longer than chrominance
[14:15:36] <eddyb_> well, analog encodings are focused on luminance, aren't they?
[14:15:47] <Tobba> at some point everyone just starts turning into ghosts
[14:15:49] <eddyb_> (even JPEG is :P)
[14:16:08] <Tiffany> YCbCr
[14:16:38] <Tiffany> Y is usually a lot higher quality and then Cb and Cr are compressed down as much as possible
[14:16:45] <Tiffany> it turns out humans are pretty bad at seeing colours
[14:16:54] <Tiffany> or chrominance, I should say
[14:16:56] <eddyb_> Tiffany: dress in point
[14:16:57] <Tobba> aren't VCR tapes basically the TV signal shoved into a tape?
[14:16:59] <eddyb_> I mean, case in point
[14:17:00] <Tobba> I can't remember
[14:17:18] <Tobba> but that'd explain the degradation that occurs in the copying
[14:17:34] <eddyb_> Tiffany: and the technology started with just luminance
[14:17:50] <eddyb_> lucky for everyone, they only had to add a few drops of color :P
[14:17:53] <Tiffany> I'm pretty sure they're analog in any case
[14:18:11] <Tiffany> TV is of course all digital these days, at least in the US
[14:18:34] <Tiffany> where you don't get this slow degradation of colour
[14:18:44] <Tiffany> quality
[14:18:52] <Tiffany> instead, you get macroblock errors where bits fail to copy
[14:18:56] <Tobba> you could probably get the same effect by constantly reencoding a clip on different settings
[14:19:23] <Tiffany> not the same effect, but you could ruin the quality doing that, yeah
[14:19:29] <Tiffany> it would just turn into macroblock soup
[14:19:46] <Tiffany> it'd probably start compressing pretty damn inefficiently too
[14:20:08] <Tobba> I dunno, you might get some fun effects from artefacts propagating
[14:20:36] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[14:20:42] <eddyb_> wait, https://en.wikipedia.org/wiki/OpenEXR
[14:20:45] <eddyb_> EXR sounds familiar
[14:21:36] <Tiffany> I like yuv colour space
[14:21:49] <Tiffany> I tried using it in my engine for representing colours, but additive blending is nontrivial
[14:22:19] <Tiffany> opengl is cemented pretty hard into yuv
[14:22:22] <Tiffany> er, rgb*
[14:22:53] <Tiffany> iirc you add the Y together and then do something weird with u and v
[14:23:29] <Tobba> in my engine I was using a linear 16-bit RGB color space, which I did some tone mapping on mapped into sRGB
[14:23:53] <Tiffany> yeah I'm using RGBA16F and tone map to sRGB
[14:24:17] <Tiffany> I tried to formalise the units and conversions being done
[14:24:33] <Tiffany> the accumulation buffer stores irradiance (W/m^2) for each channel
[14:25:31] <Tobba> that's pretty much what I did
[14:25:49] <Tobba> I will admit to having a bad idea of what I was doing at the time, so the sRGB tone mapping was all broken
[14:26:29] *** Joins: Rym______ (y@moz-dhb.0vk.38.217.IP)
[14:27:25] <Tiffany> I tried setting the framebuffer to sRGB hoping it would automatically convert for me
[14:27:29] <Tiffany> it does not, at least on intel
[14:27:32] <Tiffany> and on some systems it errors out
[14:29:11] *** Quits: mkpankov (user@moz-h0n.sma.198.91.IP) (Ping timeout: 121 seconds)
[14:29:54] <Tiffany> I'm not really sure what to do about it
[14:35:44] <eddyb_> Tiffany: with glutin/glium, the sRGB stuff doesn't work on any windows system I tested
[14:35:53] <eddyb_> so my handling is kind of derpy
[14:36:10] <eddyb_> Tiffany: it does work on my sandybridge laptop though
[14:36:16] <eddyb_> (on linux)
[14:36:59] <eddyb_> I think it's sandybridge, anyways
[14:41:19] <Tobba> I should fix my Nix install
[14:41:27] <Tobba> though I can't remember how I broke it
[14:41:33] <Tobba> something about accidently mixing GDM and KDE
[14:43:10] <eddyb_> Tobba: you know you can boot a previous generation, don't you?
[14:43:29] <eddyb_> unless you gc'd all the working ones :P
[14:43:36] <Tobba> I don't think I did
[14:43:42] <Tobba> just need to find the right option in GRUB I guess
[14:44:00] <eddyb_> it should be a submenu or something
[14:44:16] <Tobba> I remember not being able to use another tty because I was using nonfree radeon drivers
[14:44:22] <Tobba> which are... broken as fuck
[14:44:27] <eddyb_> lol
[14:44:44] <eddyb_> I haven't used non-opensource drivers in a long while
[14:44:53] <Tobba> they work kind of better
[14:44:58] <eddyb_> it's true that radeon took a while to implement nice power management
[14:45:02] <Tobba> but all console modes just display gibberish
[14:45:16] <eddyb_> but at some point I got better performance than I used to with fglrx
[14:45:49] <eddyb_> and I never switched back
[14:48:29] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Connection closed)
[14:54:31] *** Joins: mkpankov (mkpankov@moz-let.mc3.79.185.IP)
[14:55:00] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[14:56:02] <Tobba> eddyb: ah yes, I'm using EFI booting
[14:56:11] <Tobba> gummiboot doesn't let me at the past generation options for some reason
[14:57:13] *** Quits: mkpankov` (mkpankov@moz-rl4.dee.149.83.IP) (Ping timeout: 121 seconds)
[14:58:20] <XMPPwocky> > uniq crashes : 4886 
[14:58:25] <XMPPwocky> well this is ridiculous
[14:59:04] <Tobba> how does that even happen
[14:59:22] <XMPPwocky> i used the "peruvian were-rabbit" thing which is supposed to iterate on a particular crash
[14:59:22] *** Quits: acharles (acharles@moz-mi1459.static.qwest.net) (Client exited)
[14:59:30] <XMPPwocky> to explore the actual consequences
[14:59:37] <XMPPwocky> now my hdd's full
[14:59:41] <eddyb_> Tobba: ah
[14:59:49] <eddyb_> Tobba: press any key
[14:59:50] <XMPPwocky> note to self: don't do that unsupervised
[14:59:54] <Tobba> eddyb_: when exactly
[15:00:06] <Tobba> the window is less than 1 second before everything goes fucked
[15:00:11] <Tobba> actually I'll just bash the keyboard maniacally
[15:00:14] <eddyb_> Tobba: just mash a key before it... yeah
[15:00:28] <eddyb_> why the fuck nobody thought of "hold a key and press the power button"?
[15:00:34] <eddyb_> that's how it works on mobile
[15:00:54] <eddyb_> maybe the keyboard and the power button weren't always accessible at the same time
[15:00:57] <Tobba> I also have to boot it from the EFI shell
[15:01:00] <Tobba> for... some reason
[15:01:02] <Tobba> the boot entry broke
[15:01:45] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Connection closed)
[15:03:09] *** Joins: Boscop (me@moz-7fq.k98.111.114.IP)
[15:03:33] *** Joins: Tobba (tobba@moz-o13d22.bredband.telia.com)
[15:03:34] <Tobba> that did it
[15:03:39] <eddyb_> :D
[15:03:56] *** Quits: eddyb (eddyb@moz-egg.q07.26.188.IP) (Connection closed)
[15:04:00] *** eddyb_ is now known as eddyb
[15:05:50] *** Joins: mkpankov` (mkpankov@moz-j4f.dee.149.83.IP)
[15:06:34] <Tiffany> eddyb: I tried it on my sandybridge and the colours looked no different
[15:07:33] *** Quits: mkpankov (mkpankov@moz-let.mc3.79.185.IP) (Ping timeout: 121 seconds)
[15:08:27] *** Quits: Boscop (me@moz-7fq.k98.111.114.IP) (Ping timeout: 121 seconds)
[15:09:37] *** Quits: Tobba (tobba@moz-o13d22.bredband.telia.com) (Quit: Lost terminal)
[15:09:56] *** Quits: mkpankov` (mkpankov@moz-j4f.dee.149.83.IP) (Ping timeout: 121 seconds)
[15:12:49] <XMPPwocky> well, their implementation of *atof* can segfault
[15:12:51] <XMPPwocky> now that's impressive
[15:13:55] *** Joins: mkpankov (mkpankov@moz-j4f.dee.149.83.IP)
[15:16:40] *** Joins: mkpankov` (mkpankov@moz-5kd.ou9.79.185.IP)
[15:16:48] <eddyb> XMPPwocky: do you want to buy Valve with bounty money?
[15:17:02] <eddyb> because I'm seeing no end to this
[15:17:02] <XMPPwocky> valve bounty money
[15:17:03] <XMPPwocky> ahahah
[15:17:04] <XMPPwocky> ah
[15:17:06] <XMPPwocky> good joke
[15:17:09] <eddyb> darn
[15:18:13] *** Quits: mkpankov (mkpankov@moz-j4f.dee.149.83.IP) (Ping timeout: 121 seconds)
[15:19:20] <fmtq> XMPPwocky: atof can segfault
[15:19:21] <fmtq> well 
[15:19:26] * fmtq hands XMPPwocky a gun
[15:19:31] <fmtq> you just justified murder.
[15:20:20] <Tiffany> "       except that atof() does not detect errors."
[15:20:24] <Tiffany> I suppose segfaulting is one interpretation
[15:20:34] <Tiffany> oh, valve have their own shitty atof
[15:20:37] <Tiffany> I didn't read above
[15:20:41] *** Joins: jxcl_ (abliskovsky@moz-o4k.t5t.173.207.IP)
[15:20:41] *** Joins: Tobba (tobba@moz-o13d22.bredband.telia.com)
[15:20:50] <Tobba> eddyb: hm, I cant seem to get gnome3 to work
[15:20:53] <Tiffany> the better question is, of course, why the hell anyone would use atof
[15:20:55] <Tobba> KDE4 does though
[15:21:13] <Tiffany> atof() should be a warning and recommend strtod()
[15:21:50] *** Joins: Boscop (me@moz-5ac.5rj.126.98.IP)
[15:22:31] *** Joins: jxcl__ (abliskovsky@moz-o4k.t5t.173.207.IP)
[15:22:45] <XMPPwocky> https://gist.github.com/XMPPwocky/941545f3e778b783a97d it shouldn't segfault on *this* should it
[15:23:01] *** Quits: jxcl_ (abliskovsky@moz-o4k.t5t.173.207.IP) (Quit: Leaving)
[15:23:12] <Tiffany> I wish POSIX would deprecate things more often
[15:23:23] *** Quits: jxcl__ (abliskovsky@moz-o4k.t5t.173.207.IP) (Quit: Leaving)
[15:23:33] <eddyb> XMPPwocky: can you reduce?
[15:23:55] <Tiffany> lol
[15:23:59] <Tiffany> buffer overflow?
[15:24:00] <XMPPwocky> eddyb: that is reduced
[15:24:11] <eddyb> truly minimal?
[15:24:30] <Tiffany> xmppwocky: I want to see this atof implementation
[15:24:57] <eddyb> the non-printable characters confuse me
[15:25:16] <Tiffany> all of the non printable chars are nulls
[15:25:16] <XMPPwocky> yeah i'll look at
[15:25:19] <XMPPwocky> Tiffany: no
[15:25:24] <Tiffany> oh?
[15:25:25] <Tiffany> oh
[15:25:29] <Tiffany> some of them are nulls
[15:25:30] <fmtq> XMPPwocky: try atof("0.0.0")
[15:25:42] <fmtq> or atof("0.\00")
[15:25:43] <fmtq> lol
[15:25:55] <fmtq> MANUAL FUZZ
[15:26:09] <fmtq> https://twitter.com/sempf/status/514473420277694465
[15:27:59] <Tiffany> god github's code search is so bad
[15:28:03] <Tiffany> it doesn't even let you search for symbols
[15:28:07] <Tiffany> it just ignores them
[15:28:19] <fmtq> github is great shut up you don't know anything Tiffany
[15:29:22] <Tiffany> is this it? https://github.com/ValveSoftware/source-sdk-2013/blob/56accfdb9c4abd32ae1dc26b2e4cc87898cf4dc1/sp/src/tier1/strtools.cpp#L485
[15:30:06] <eddyb> Tiffany: anyone who uses that code style is asking for bugs
[15:30:12] <Tiffany> lol yeah
[15:30:21] <Tiffany> this MUD codebase uses that quite thoroughly
[15:30:35] <eddyb> how are you supposed to read a whole relevant block of code when it's that sparse?
[15:30:45] <Tiffany> either C89 or pre-C89 didn't guarantee that a compiler would accept programs where variables weren't defined at the top of a function
[15:30:53] <Tiffany> I don't remember which
[15:30:57] <eddyb> if/else if/else with assignment in every branch, instead of default value. marvellous
[15:31:00] <Tiffany> and the "style" never died
[15:31:08] <eddyb> oh I wasn't even looking at that
[15:31:31] <Tiffany> yeah it really is asking for garbage data
[15:31:35] <Tiffany> especially when you ignore warnings
[15:31:38] <aji> XMPPwocky: what are we fuzzing today?
[15:31:40] *** Joins: mkpankov (mkpankov@moz-ka6.k4a.16.195.IP)
[15:31:55] <fmtq> wait wtf 
[15:32:01] <fmtq> it does *str and str[0] 
[15:32:05] <Tiffany> I caught half a dozen memory corruption bugs simply by fixing warnings about using uninitialized variables
[15:32:07] <fmtq> why are you doing this
[15:32:21] <fmtq> it increments the pointer 
[15:32:26] <fmtq> so what does +0x do
[15:32:37] <fmtq> oh that should work actually
[15:32:39] <eddyb> Tiffany: unbealievable
[15:32:41] *** Quits: mkpankov` (mkpankov@moz-5kd.ou9.79.185.IP) (Ping timeout: 121 seconds)
[15:32:48] <fmtq> because it does increment the pointer.
[15:32:59] *** Quits: blank_name (blank_name@moz-lg2.tgt.79.172.IP) (Ping timeout: 121 seconds)
[15:33:07] <fmtq> c = *str++; 
[15:33:10] <fmtq> cleverness.
[15:33:11] <Tiffany> I really have no compassion for people who don't listen to compiler warnings
[15:33:44] <fmtq> oh god this code please.
[15:33:50] <Tiffany> I think +0x returns 0
[15:34:06] *** Joins: blank_name (blank_name@moz-b044u1.mi.frontiernet.net)
[15:34:14] <Tiffany> I'm not sure what the fuck '1 is supposed to be
[15:34:32] <eddyb> Tiffany: it's a lifetime, haven't you learned anything?
[15:34:46] <Tiffany> oh
[15:34:50] <Tiffany> it's a character literal
[15:34:52] <Tiffany> okay
[15:35:06] <Tiffany> it doesn't even check for a closing '
[15:35:09] <Tiffany> just 'a
[15:35:14] <eddyb> Tiffany: or anything after that
[15:35:23] <fmtq> what could possible go wrong
[15:35:24] <fmtq> oh
[15:35:26] <fmtq> no
[15:35:29] <fmtq> I don't want to play anymore
[15:35:31] * fmtq goes back to work
[15:35:34] <Tiffany> also, this doesn't work with unicode
[15:35:57] <Tiffany> it's a miracle that this game manages to be localised to languages other than english
[15:35:58] <Tiffany> fuck
[15:36:11] <Tiffany> er, valve games in general
[15:36:12] *** Quits: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP) (Client exited)
[15:36:36] <fmtq> I have to exploit OS X's weird keyboard state machines to have default fallbacks 
[15:36:39] <fmtq> where a layer isn't defined
[15:36:39] <fmtq> lel
[15:36:47] <fmtq> priorities 
[15:36:59] <fmtq> oh and using OrderedDict everywhere to ensure determinism between compiles
[15:37:18] <fmtq> "why does the order of everything change upon each compile" 
[15:38:04] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[15:38:08] *** Quits: blank_name (blank_name@moz-b044u1.mi.frontiernet.net) (Ping timeout: 121 seconds)
[15:38:13] <Tiffany> it's lovely how it uses a loop for reading in numbers rather than using strtoi
[15:38:31] <Tiffany> although I suppose if they were smart they wouldn't have this function in the first place and use strtof
[15:40:16] <eddyb> the exponent doesn't allow a leading +
[15:40:20] <eddyb> while the whole number does
[15:40:24] *** Joins: jxcl_ (abliskovsky@moz-o4k.t5t.173.207.IP)
[15:40:29] <Tiffany> are you sure?
[15:40:33] <Tiffany> did you check V_atoi
[15:40:37] *** Quits: jxcl_ (abliskovsky@moz-o4k.t5t.173.207.IP) (Quit: Leaving)
[15:40:42] <eddyb> that calls V_atoi64
[15:40:49] *** Quits: jxcl (abliskovsky@moz-o4k.t5t.173.207.IP) (A TLS packet with unexpected length was received.)
[15:40:52] <eddyb> which only checks if (*str == '-')
[15:40:57] <Tiffany> oh
[15:40:58] <eddyb> lel
[15:41:14] <eddyb> e'a is valid
[15:41:20] *** Joins: brson (brson@moz-u3dg2t.sfo1.mozilla.com)
[15:41:21] *** ChanServ sets mode: +o brson
[15:41:30] <eddyb> I mean, 10e'a
[15:41:45] <eddyb> because the same stupid char constant check is in V_atoi64
[15:42:05] <eddyb> I honestly don't see where it can go wrong
[15:42:28] *** Joins: jxcl (abliskovsky@moz-o4k.t5t.173.207.IP)
[15:42:37] *** Quits: mkpankov (mkpankov@moz-ka6.k4a.16.195.IP) (Connection closed)
[15:42:54] *** Joins: mkpankov (mkpankov@moz-3op.k4a.16.195.IP)
[15:42:58] <eddyb> wait https://github.com/ValveSoftware/source-sdk-2013/blob/56accfdb9c4abd32ae1dc26b2e4cc87898cf4dc1/sp/src/tier1/strtools.cpp#L555
[15:43:17] *** Quits: Rym______ (y@moz-dhb.0vk.38.217.IP) (Ping timeout: 121 seconds)
[15:43:27] <eddyb> but that still shouldn't do anything stupid
[15:43:32] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[15:43:32] *** ChanServ sets mode: +o erickt
[15:43:59] <XMPPwocky> int nLength = buffer.GetShort();           
[15:44:05] <XMPPwocky> somebody really needs to tell valve about unsigned integers
[15:44:33] *** Joins: gsingh93 (gulshan@moz-qnbukr.mi.comcast.net)
[15:44:36] <Tiffany> I am beginning to think valve ignores warnings
[15:44:42] <Tiffany> much less has warnings about implicit casts enabled
[15:44:55] <Tiffany> having a value in the billions is not a fun bug to have, so they figure that they should just use int everywhere
[15:45:19] <eddyb> XMPPwocky: are we looking at the right atof function?
[15:46:46] <XMPPwocky> eddyb: no, it's actually unrelated
[15:47:00] <eddyb> :|
[15:48:33] <barosl> Hey
[15:48:34] <fmtq> time to get drunk and forget how broken reality is 
[15:48:38] <fmtq> have fun with 1.0
[15:48:47] <barosl> I've just realized ssh sends its LC_* variables to the server
[15:49:02] <barosl> This isn't good
[15:49:12] <fmtq> why
[15:49:15] <fmtq> why is it not good
[15:49:21] <fmtq> do you think it can lead to arbitrary code execution
[15:49:28] <XMPPwocky> it's alloca's fault
[15:49:30] <Tiffany> where are the sdk build scripts?
[15:49:38] <barosl> No, it's just inconvenient
[15:49:46] <fmtq> haha
[15:49:49] * fmtq leaves
[15:49:54] *** Joins: blank_name (blank_name@moz-i5m.qsg.79.172.IP)
[15:49:55] <XMPPwocky> Tiffany: run sdk/mp/src/generateallprojects
[15:50:06] <XMPPwocky> that mkaes an "everything.mak" makefile
[15:50:23] <barosl> I'm working on the English-locale-only servers, but my SSH client tries to set the server's locale to Korean
[15:50:25] *** Quits: Tobba (tobba@moz-o13d22.bredband.telia.com) (Quit: Lost terminal)
[15:50:40] <Tiffany> what does vpc_linux do?
[15:51:08] <Tiffany> I just want to see what  build flags they're using
[15:51:16] <barosl> I think I haven't realized this because I had usually connected to the server using PuTTy
[15:52:24] <XMPPwocky> Tiffany: it does... some thing
[15:52:42] <eddyb> fuzz the build system!
[15:52:54] <Tiffany> is this a closed source tool?
[15:53:20] *** Joins: panicbit (panicbit@moz-r4ks4s.dip0.t-ipconnect.de)
[15:53:51] <Tiffany> aha
[15:53:54] <Tiffany> https://github.com/ValveSoftware/source-sdk-2013/blob/56accfdb9c4abd32ae1dc26b2e4cc87898cf4dc1/mp/src/devtools/makefile_base_posix.mak
[15:54:55] <XMPPwocky> probably
[15:54:58] <Tiffany> wow
[15:55:12] <Tiffany> they actually do have some warnings enabled
[15:55:37] <XMPPwocky> "# In -std=gnu++0x mode we get lots of errors about "error: narrowing conversion". -fpermissive"
[15:55:41] <XMPPwocky> gosh i wonder
[15:55:46] <Tiffany> they cherrypick warnings by default though
[15:57:24] <Tiffany> what does STEAM_BRANCH do?
[15:57:41] <Tiffany> or rather, what sets it
[15:57:55] <Tiffany> wait
[15:57:58] <Tiffany> -Wno-write-strings
[15:58:18] <Tiffany> that's the warning that disables conversion from string literal to char* isn't it
[15:58:24] <Tiffany> the one which is enabled by default in C++
[15:58:55] <Tiffany> -Wno-unused-value
[15:58:58] <Tiffany> that's great
[15:59:15] <Tiffany> -Wno-sign-compare so they go out of their way to ignore warnings about fucking up signs on comparisons
[15:59:35] <Tiffany> amazingly they do turn on -Wformat-security
[15:59:41] <Tiffany> that must have changed after that CSGO bug
[16:01:20] <Tiffany> you'd think that having such trivial bugs like that would have taught them the benefits of static analysis and listening to warnings
[16:01:20] <Tiffany> but no
[16:02:17] <Tiffany> that's enough complaining about it though
[16:04:53] *** Joins: ogham (rally@moz-dnu.06e.6.31.IP)
[16:11:17] *** Joins: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP)
[16:12:27] <ogham> yay
[16:12:41] <ogham> I e-mailed the PragmataPro designer and he's going to add a /// ligature
[16:12:48] <ogham> now my Rust code will look very slightly better!
[16:14:23] *** Joins: Tobba (tobba@moz-o13d22.bredband.telia.com)
[16:14:38] <Tobba> eddyb: any idea how to properly setup multimonitor in Nix
[16:14:49] <Tobba> xrandrHeads only works for two screens for... whatever reason
[16:14:57] <ogham> hah, good luck
[16:15:09] <eddyb> Tobba: have you played with kscreen?
[16:15:17] <eddyb> (the display config in KDE systemsettings)
[16:15:41] <Tobba> yeah but the settings don't preserve
[16:15:51] <Tobba> it does work if I set it that way though
[16:16:06] <Tobba> keyboard layout settings in the KDE config simply dont work at all
[16:16:32] <eddyb> I thought they didn't work for me in Plasma5 for a different reason
[16:16:43] <eddyb> they worked when I first setup the system
[16:16:49] <Tobba> Ã¶Ã¤Ã¥
[16:16:52] <Tobba> there we go
[16:17:03] <Tobba> apparently the map name in KDE is "se" but it automatically configured to "sv"
[16:17:16] <Tobba> probably something in my configuration.nix, but I do get the right layout outside of X
[16:17:20] <eddyb> Tobba: have you tried setting the current display configuration as the default?
[16:17:37] <Tobba> I thought I-- oh fucking
[16:17:48] <eddyb> I believe there's a button or something for that
[16:17:51] <Tobba> yep
[16:18:25] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Client exited)
[16:18:37] <Tobba> also kscreen is horrifying
[16:18:56] <Tobba> if you change one setting, the config will momentarily not make sense, and it just changes everything else randomly
[16:18:58] <eddyb> do you have the old version or the new one?
[16:19:03] <eddyb> sounds like the old one
[16:19:10] <Tobba> its actually a puzzle to get a sane configuration
[16:19:12] <eddyb> like, there's a list of displays
[16:19:14] *** Joins: GaryOak_ (GaryOak_@moz-etoj16.hfc.comcastbusiness.net)
[16:19:18] <eddyb> with dropdown configs
[16:19:19] <eddyb> no?
[16:19:21] *** Joins: Rym______ (y@moz-dhb.0vk.38.217.IP)
[16:19:22] <Tobba> yeah
[16:19:28] <eddyb> that's the old shitty thing
[16:19:35] <Tobba> I'm using KDE4, it wouldn't recognize kde5 as valid
[16:19:37] <eddyb> KScreen2 (which should exist for KDE4)
[16:19:39] <Tobba> need to take a look at that
[16:19:47] <eddyb> it's plasma5 not kde5
[16:19:51] <eddyb> I'll share my config
[16:20:13] <cmr> yeah the new kscreen is legitimately nice.
[16:20:19] <cmr> as opposed to "can sometimes get the job done"
[16:20:21] <eddyb> Tobba: so KScreen2 (which I've used under KDE4, not sure if NixOS has it for KDE4. it's not part of Plasma5, it's older)
[16:20:37] <eddyb> it lets you move displays around, snap them together, etc.
[16:20:46] <Tobba> I'm gonna grab some dinner and take a look at this in a bit, but it seems to at least sort of work now
[16:20:59] <eddyb> what I used to do by subtracting screen sizes in my head is now drag and drop, literally
[16:22:59] *** Joins: Izzeri (Lilly@moz-pfkvo9.bredband.comhem.se)
[16:23:15] <eddyb> Tobba: so it should be possible to install just one thing from "KDE5" (like, the breeze theme for kde4. or kde5.kscreen) via nix-env and run it on top of kde4
[16:23:27] *** Quits: mkpankov (mkpankov@moz-3op.k4a.16.195.IP) (Connection closed)
[16:23:34] *** Joins: mkpankov (mkpankov@moz-201.ou9.79.185.IP)
[16:23:43] *** Quits: Rym______ (y@moz-dhb.0vk.38.217.IP) (Ping timeout: 121 seconds)
[16:25:45] <eddyb> Tobba: hmm, I have this     displayManager.kdm.enable = true; desktopManager.kde5.enable = true;
[16:25:51] <eddyb> not plasma5, which I expected
[16:25:56] *** Quits: Lilly (Lilly@moz-pfkvo9.bredband.comhem.se) (Ping timeout: 121 seconds)
[16:26:26] *** Joins: Rym______ (y@moz-dhb.0vk.38.217.IP)
[16:26:33] <eddyb> nixpkgs.config = {     packageOverrides = super: let self = super.pkgs; in { plasma5_stable = self.plasma5_latest; kdeApps_stable = self.kdeApps_latest; }; }
[16:26:49] <eddyb> Tobba: ^^ this forces the latest instead of the stable
[16:26:51] *** Joins: Diggsey (diggsey@moz-e3pv94.dsl.pipex.com)
[16:27:22] <eddyb>   environment.systemPackages = let isDerivation = x: builtins.isAttrs x && x ? type && x.type == "derivation" && x != pkgs.kdeApps_stable.kde-l10n-ca_valencia; in with pkgs; (builtins.filter isDerivation (builtins.attrValues kdeApps_stable)) ++ [
[16:27:24] <eddyb> oh dear
[16:27:28] <eddyb> I forgot I had to hack this in
[16:28:09] <eddyb> the valencia package wasn't building (wrong source?) and then there was a function that isn't provided, or something
[16:37:20] *** Joins: blank_na1e (blank_name@moz-6n9.3ar.36.50.IP)
[16:37:29] *** Joins: Astrum|Lap (Astrum|Lap@moz-7enfbr.co.comcast.net)
[16:37:29] *** Quits: blank_name (blank_name@moz-i5m.qsg.79.172.IP) (Ping timeout: 121 seconds)
[16:41:19] <Tobba> eddyb: alright
[16:42:27] <eddyb> the first part should be enough if you want to switch
[16:42:47] <eddyb> the overrides give you the latest, which may be a good idea if stable is too old
[16:43:26] <Tobba> I tacked that override in but I still get error: The option `services.xserver.desktopManager.kde5' defined in `/etc/nixos/configuration.nix' does not exist. if I try to use KDE5
[16:43:33] <eddyb> Tobba: the last thing prepends *all* the plasma5 and kdeApps packages to systemPackages, which I like because I don't need to install apps as I need them
[16:43:42] <Tobba> ah
[16:44:02] <eddyb> is your system up to date?
[16:44:17] <eddyb> oh, it could be something else
[16:44:18] <Tobba> should be, but I didn't put in the systemPackages thing
[16:44:57] <eddyb> that's entirely optional
[16:45:00] <eddyb> so is the override
[16:45:18] <Tobba> I might need to update my nixpkgs or something
[16:45:19] <eddyb> sudo nix-channel --list
[16:45:19] <Tobba> let me see
[16:45:27] <eddyb> mine is: nixos https://nixos.org/channels/nixos-unstable
[16:45:35] <Tobba> 14.12
[16:46:25] <eddyb> yeah, that's not optimal :P
[16:46:43] <eddyb> Tobba: kinda like using a rustc 0.x release
[16:47:06] <Tobba> 14.12 seems to be the latest
[16:47:09] <Tobba> I'll set it to unstable
[16:47:14] <eddyb> you should be able to do sudo nix-channel --add https://nixos.org/channels/nixos-unstable nixos
[16:48:27] <Tobba> still getting that kde5 doesn't exist
[16:48:51] <Tobba> nix-env -u '*' doesn't seem to do anything either
[16:49:38] <eddyb> Tobba: did you pass --upgrade to nixos-rebuild?
[16:49:45] <Tobba> ah, no
[16:49:49] <eddyb> sudo nixos-rebuild switch --upgrade
[16:49:53] <Tobba> nix-channel --update also seems to have been necessary
[16:49:56] <Tobba> but --upgrade might do that
[16:49:56] <eddyb> well then, your data is probably ancient
[16:50:12] <eddyb> the UX is not perfect with these tools, I have to say
[16:50:24] <eddyb> I still haven't seen something as easy to use as zypper
[16:50:39] <Tobba> it's not terribly great yeah, but it isnt frustratingly bad
[16:50:40] <eddyb> pacman is at least as powerful if you remember all the flags
[16:50:49] <eddyb> Tobba: something-apt-something-cow
[16:50:54] *** Quits: mkpankov (mkpankov@moz-201.ou9.79.185.IP) (Ping timeout: 121 seconds)
[16:50:57] <eddyb> -cache
[16:51:01] <Tobba> it feels like you have to RTFM to use them vs looking easy but having insane hidden buttons everywhere and doing insane things
[16:51:20] <eddyb> they got pretty manpages <3
[16:51:40] <Tobba> the latter being what I'd call "really bad UX"
[16:53:10] <Tobba> though yeah they could use some improvement
[16:53:26] <Tobba> I like how --help just opens the man page (and the man page is actually sane) vs --help and the man page telling you different things
[16:55:06] <Tobba> created 35090 symlinks in user environment
[16:55:11] <Tobba> well that did... a lot of things
[16:55:51] <eddyb> good luck :D
[16:56:35] <Tobba> well lets see if KDE5 works
[16:56:43] *** Quits: Tobba (tobba@moz-o13d22.bredband.telia.com) (Connection closed)
[16:57:32] *** Quits: spider-mario (spidermario@moz-coblcf.fbx.proxad.net) (A TLS packet with unexpected length was received.)
[16:59:00] *** Joins: spider-mario (spidermario@moz-coblcf.fbx.proxad.net)
[16:59:48] *** Joins: Tobba (tobba@moz-o13d22.bredband.telia.com)
[16:59:51] <Tobba> holy shit
[16:59:57] <Tobba> this actually looks GOOD
[17:00:03] <Tobba> well kdm still looks like arse but oh well
[17:00:33] <fmtq> Tobba: screenshot
[17:02:03] <eddyb> Tobba: kdm is the old one
[17:02:06] <Tobba> ah, yeah
[17:02:09] <Tobba> sddm is the one I want
[17:02:12] <eddyb> sddm is what gets themed for Plasma5
[17:02:23] <eddyb> but NixOS may not have support yet. I didn't check since I switched
[17:03:51] <eddyb> Tobba: you should try the BreezeDark theme, if you're into that sort of thing
[17:04:05] <eddyb> well, I believe it's just a color scheme
[17:04:39] <Tobba> fmtq: http://a.uguu.se/zvuwwz.png
[17:04:40] <eddyb> I may have also changed the cursor and the plasma theme to match (while still being breeze variants)
[17:05:19] <eddyb> Tobba: oh
[17:05:27] <eddyb> Tobba: you don't have the Breeze icons enabled
[17:05:33] <Tobba> now to figure out why the keyboard settings don't work
[17:05:34] <Tobba> nope
[17:05:39] <eddyb> check them out ;)
[17:05:50] <eddyb> the keyboard settings don't work for me either, fwiw
[17:05:52] <Tobba> looks like it at least recognizes sddm
[17:06:05] <Tobba> well I'll just figure out how to get them working manually
[17:06:16] <Tobba> I know in KDE4 they had defaulted to an invalid setting for some reason
[17:06:29] <fmtq> Tobba: it has certainly come a long way
[17:07:00] <Tobba> eddyb: any idea how to install spotify, it seems to be in nixpkgs, but --install spotify doesn't agree
[17:07:11] <Tobba> okay goddamn where are questionmarks in the US layout
[17:07:20] <eddyb> -i you mean?
[17:07:23] <eddyb> hahaha
[17:07:42] <Tobba> better question; why can I use this layout as well as I can
[17:08:07] <eddyb> almost
[17:08:30] <Tobba> apparently I'm just better at remembering most of a keyboard layout than the command to switch the console keyboard layout
[17:09:24] <eddyb> fmtq: https://i.imgur.com/SWdxBEW.png
[17:09:36] <fmtq> That looks like shit
[17:09:47] <eddyb> why, thank you
[17:09:49] <fmtq> Why is 90% of the screen just wasted ui space
[17:09:57] <eddyb> huh
[17:10:03] <fmtq> Padding far too high
[17:10:04] <eddyb> oh the toolbar
[17:10:15] <eddyb> I enabled that just to look at it
[17:10:17] <eddyb> as inspiration
[17:10:37] <eddyb> fmtq: I tend to disable every bit of UI I can in the editors I use
[17:10:57] <fmtq> No.
[17:11:06] <fmtq> That's a workaround for a shit theme.
[17:11:37] <eddyb> uhm
[17:11:47] <eddyb> the theme provides the colors
[17:12:20] <eddyb> wait, you're talking about Breeze
[17:13:17] <eddyb> fmtq: I don't think anyone uses this theme with the tiny font that I do
[17:13:21] <Tobba> also what WM do you use eddyb
[17:13:25] <eddyb> Tobba: kwin
[17:13:26] *** Quits: spider-mario (spidermario@moz-coblcf.fbx.proxad.net) (Connection closed)
[17:13:29] <Tobba> oh
[17:13:35] <Tobba> I defaulted on icewm atm but that seemed to be causing issues
[17:13:46] <eddyb> you had decorations
[17:13:48] <Tobba> didn't know KDE had its own one
[17:13:53] <eddyb> the screenshot was with kwin
[17:14:12] <eddyb> Tobba: how else do you think it gets the pretty title bars?
[17:14:16] <fmtq> eddyb: the fucking screen is wasted on widget padding
[17:14:23] <Tobba> I dunno
[17:14:30] <Tobba> it seems to be ignoring that setting then
[17:14:43] <eddyb> fmtq: what exactly are you talking about?
[17:15:18] *** Quits: Tobba (tobba@moz-o13d22.bredband.telia.com) (Quit: Lost terminal)
[17:15:47] <eddyb> there's likely more padding than there should be, at this small font size (I pretty much went as small as my eyes could suffer)
[17:16:01] <eddyb> but much less and it would get claustrophobic
[17:16:23] *** Joins: mkpankov (mkpankov@moz-ppd.dee.149.83.IP)
[17:17:06] *** Joins: spider-mario (spidermario@moz-coblcf.fbx.proxad.net)
[17:18:26] *** Joins: Kxepal (Miranda@moz-u0omr9.pppoe.mtu-net.ru)
[17:19:13] <eddyb> I can't change something like the padding from the Breeze config, sadly
[17:19:26] *** Joins: Tobba (tobba@moz-o13d22.bredband.telia.com)
[17:19:27] <fmtq> eddyb: jesus man
[17:19:47] <Tobba> well, SDDM works aside from that the monitor configuration only takes effect when I log in
[17:19:52] <fmtq> I'm saying that the area around the text, for example "File", is far too large
[17:19:59] <fmtq> and therefore a lot of scren space is wasted on pointless shit
[17:20:08] <fmtq> same with the scrollbars. Why are they so fat?
[17:20:12] <fmtq> OS X doesn't even show them anymore!
[17:20:19] <eddyb> lol
[17:20:30] <fmtq> this is one thing that has me using OS X more than anything
[17:20:33] <eddyb> how are you supposed to drag something you can't see?
[17:20:34] <fmtq> 0 width borders on all windows
[17:20:41] <fmtq> you hover over the side
[17:20:43] <fmtq> and it appears
[17:20:45] <fmtq> or two finger scroll
[17:20:49] <fmtq> or mouse wheel
[17:20:51] <fmtq> or page up
[17:20:58] <fmtq> or any fucking other way other than the most useless way ever invented
[17:21:12] <Tobba> eddyb: I guess what I want to do is do the multi-monitor setup in my Xorg config
[17:21:13] <eddyb> for some reason I thought you couldn't interact with them even when they were briefly showing
[17:21:15] <Tobba> fun
[17:22:59] *** Joins: Izzeriz (Lilly@moz-pfkvo9.bredband.comhem.se)
[17:25:06] <eddyb> fmtq: I forgot I disabled the scrollbar minimap thing a few weeks ago https://i.imgur.com/wJKNX6i.png
[17:25:50] <fmtq> so I pull out my gun
[17:26:06] *** Quits: Izzeri (Lilly@moz-pfkvo9.bredband.comhem.se) (Ping timeout: 121 seconds)
[17:26:22] <fmtq> wait
[17:26:28] <fmtq> how can I upload an image using the command line
[17:26:32] <fmtq> I've been meanign to ask this forever
[17:26:36] *** Joins: mkpankov` (user@moz-nleeis.partnertech.ru)
[17:26:46] <eddyb> there is no easy way, but I've done it in the past
[17:26:49] <eddyb> I forget how though
[17:27:00] <eddyb> well, there might be an easy way but I couldn't find it
[17:27:36] <fmtq> Tobba: you do it surely
[17:27:51] <eddyb> for windows there is a tool
[17:27:55] <eddyb> WindowsBunny keeps using it
[17:28:01] <Tobba> on windows I just ShareX things into my dropbox
[17:28:08] <fmtq> fuck
[17:28:12] <Tobba> I just fixed my NixOS install, so I have no idea about linux tools
[17:28:16] <fmtq> https://uguu.se/?info
[17:28:21] <Tobba> theres nnmm.nl for text
[17:28:25] <fmtq> easy 
[17:29:49] <eddyb> about the desktop... could it be better? yes. I have used kde4 even when everyone was complaining about its looks. but it's not like I can get the same power from anything short of emacs or vi, which I don't really want to get into
[17:30:10] <Tobba> eddyb: oh god I accidently ran nix-env -i * instead of -qa *
[17:30:17] <eddyb> BWAHAHAHAHA
[17:30:23] <eddyb> Tobba: you know it has regex now
[17:30:24] <fmtq> what does this mean
[17:30:27] <Tobba> THAT WAS UNEXPECTED
[17:30:34] <eddyb> Tobba: just Ctrl+C it
[17:30:44] <Tobba> it stopped pretty fast on a broken package
[17:30:50] <eddyb> lel
[17:30:53] <Tobba> not sure if it did anything
[17:31:02] <eddyb> it doesn't until it finishes
[17:31:02] <Tobba> I don't think it did
[17:31:03] <fmtq> http://a.uguu.se/jpqtzf_vimbro.png
[17:31:08] <Tobba> oh, good
[17:31:13] <eddyb> Tobba: just like Haskell, it only wastes CPU cycles
[17:31:14] <Tiffany> it's annoying how hard it is to search for nix packages
[17:31:15] <fmtq> eddyb: ^
[17:31:20] <fmtq> and that's with a buggy scrollbar
[17:31:25] <Tiffany> nix-env -q ".*something.*"
[17:31:33] <eddyb> Tiffany: before you had to grep :P
[17:31:41] <fmtq> that's how i like my UIs.
[17:31:43] <eddyb> Tobba: well in this case it also wastes disk space as well
[17:31:52] <Tiffany> it also takes forever to run
[17:31:54] <Tiffany> like minutes
[17:31:55] <eddyb> (Haskell also does that even in pure code :)))
[17:31:59] <eddyb> Tiffany: that's crazy
[17:32:14] <Tiffany> it's not even bottlenecking on anything I can see
[17:32:17] <Tobba> eddyb: I was mostly curious if it would write those package names as 'installed' somewhere before it finished installing them
[17:32:20] <Tiffany> it uses some CPU, but it doesn't monopolise a core
[17:32:26] <Tobba> or mark them for-install somehow
[17:32:27] <Tiffany> it doesn't make my disk start screaming
[17:32:47] <Tiffany> and searching for packages shouldn't be doing network IO
[17:32:51] <eddyb> Tobba: nope
[17:33:04] <eddyb> Tobba: it builds a new user profile that also includes those packages
[17:33:09] <Tobba> ah
[17:33:16] <eddyb> Tobba: the switch is atomic and it's the last thing that happens
[17:33:25] <eddyb> (as "atomic" as fs ops go)
[17:34:09] <eddyb> Tobba: the symlink count thing is when it actually takes effect
[17:34:21] <Tobba> eddyb: https://github.com/NixOS/nixpkgs I wanna install some packages from this
[17:34:29] <Tobba> they don't seem to be available by default, or I have to type a full path somehow
[17:34:33] <eddyb> the profile is a "shadow FS" of sorts where all the files are symlinks
[17:35:13] <eddyb> Tobba: -qaP will give you both the "cannonical" path and the package name
[17:36:12] <Tobba> eddyb: specifically, this: https://github.com/NixOS/nixpkgs/tree/master/pkgs/applications/audio/spotify
[17:36:34] *** Quits: Astrum|Lap (Astrum|Lap@moz-7enfbr.co.comcast.net) (Ping timeout: 121 seconds)
[17:36:52] <eddyb> oh
[17:37:00] <eddyb> Tobba: you might need to enable unfree software
[17:37:08] <Tobba> eddyb: did, but it says it can't find it
[17:37:34] <Tobba> it does find steam though (and complain its unfree, I think I need to reboot for that setting to take effect, or I typed it in wrong)
[17:37:52] <eddyb> Tobba: did you rebuild the system?
[17:38:04] <Tobba> nixos-rebuild switch yeah
[17:38:50] <eddyb> nixos.pkgs.spotify                     spotify-0.9.17.1.g9b85d43.7
[17:39:14] *** Quits: blank_na1e (blank_name@moz-6n9.3ar.36.50.IP) (Ping timeout: 121 seconds)
[17:39:15] <Tobba> strange
[17:41:24] <Tobba> well I gotta get sound working first anyways
[17:41:48] <Tobba> since I currently use a bluetooth headset, this may or may not be a pain in the ass
[17:44:41] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[17:44:47] *** Quits: Tobba (tobba@moz-o13d22.bredband.telia.com) (Connection closed)
[17:45:35] *** Joins: blank_name (blank_name@moz-2kp51l.mi.frontiernet.net)
[17:50:19] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[17:50:51] *** Quits: Izzeriz (Lilly@moz-pfkvo9.bredband.comhem.se) (Quit: bajs)
[17:51:29] <Tobba> eddyb: lol what
[17:51:36] <Tobba> installing bluez doesn't get me bluetoothctl
[17:51:45] <Tobba> if I type bluetoothctl all I get is Nix telling me to install bluez again
[17:51:55] *** Joins: niconii (nicole@moz-ojt2sa.frgo.qwest.net)
[17:51:57] <XMPPwocky> have you tried installing bluez
[17:53:36] <Tobba> ah, there we go, installing bluez5 (which wasn't the default) did it
[17:54:03] <Tobba> except the "bluetooth shell" it gives me doesn't respond to input
[17:58:27] <Tobba> which apparently happens if the service isn't running properly
[17:58:50] <Tobba> bloody hell
[17:59:43] <XMPPwocky> i see linux bluetooth hasn't improved since i tried it in 2006
[18:01:02] <eddyb> Tobba: maybe you want to enable bluetooth in the global config ;)
[18:01:13] <eddyb> Tiffany: http://www.wired.com/2015/05/first-big-step-toward-mapping-human-brain/
[18:02:04] <Tobba> eddyb: problem was that the global config was targeting bluez4, and I had installed bluez5
[18:02:12] <Tobba> so the service didn't start properly, just added an override and bam
[18:03:45] <XMPPwocky> so yeah like 4 exploits in this are linked to int overflow
[18:04:02] <XMPPwocky> I now understand rust's panic-on-overflow much more
[18:04:18] *** Joins: Rym (y@moz-aun.38r.38.217.IP)
[18:05:40] *** Quits: Rym______ (y@moz-dhb.0vk.38.217.IP) (Ping timeout: 121 seconds)
[18:07:00] <XMPPwocky> "Shockwave Flash has crashed"
[18:07:09] <XMPPwocky> can i get a popup when Shockwave Flash *doesn't* work
[18:07:13] <XMPPwocky> er, doesn't crash
[18:08:11] <eddyb> what the heck are you doing now?
[18:08:23] <XMPPwocky> just internet things
[18:08:33] <eddyb> why are you breaking the internet?
[18:08:37] <eddyb> XMPPwocky: *who* are you :P?
[18:08:47] <XMPPwocky> oh i'm not messing with flash
[18:08:51] <XMPPwocky> it just up and crashed
[18:08:58] <XMPPwocky> as Flash is wont to do
[18:12:16] *** Joins: dpc (dpc@moz-t6gr4b.ca.comcast.net)
[18:13:04] *** Joins: Lilly (Lilly@moz-pfkvo9.bredband.comhem.se)
[18:13:43] <Tobba> Failed to connect: org.bluez.Error.Failed
[18:13:49] <Tobba> fucking bluez
[18:14:24] <Tobba> it doesn't seem to leave any logs anywhere either, anyone touched this before?
[18:14:57] <eddyb> Tobba: there's #nixos on freenode
[18:15:22] <Tobba> I think this is more of a bluez problem
[18:16:14] <Tobba> CHG] Device 00:18:09:1D:DB:34 Connected: yes
[18:16:14] <Tobba> [CHG] Device 00:18:09:1D:DB:34 Connected: no
[18:16:29] <Tobba> it's just doing this infinitely
[18:17:14] *** Quits: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP) (Ping timeout: 121 seconds)
[18:17:16] <eddyb> https://www.youtube.com/watch?v=CFt_8h2cUTc
[18:19:55] <Tobba> woo there we go, I wonder if it'll autoconnect
[18:24:06] *** Quits: Rym (y@moz-aun.38r.38.217.IP) (Ping timeout: 121 seconds)
[18:30:49] <Tobba> eddyb: I'm also missing steam-chroot-env, which is weird
[18:31:09] <eddyb> oh the steam stuff is fun
[18:31:19] <eddyb> I think I got it to run
[18:31:23] <Tobba> I'm mostly curious why I'm seemingly missing some packages
[18:31:40] <eddyb> nix-env -i steam-chrootenv
[18:31:45] <eddyb> there's no dash
[18:32:02] <Tobba> error: selector â€˜steam-chrootenvâ€™ matches no derivations
[18:32:28] <eddyb> :/
[18:32:37] *** Joins: edunham (edunham@moz-meu.gm8.131.104.IP)
[18:34:20] <eddyb> in other news: some of my friends are being marked as "Safe" on facebook
[18:34:29] <eddyb> in the Nepal earthquake
[18:34:39] <eddyb> despite being half a world away
[18:34:52] <eddyb> I didn't even know facebook had this feature
[18:35:27] <Tobba> eddyb: do you have anything in nix-channel other than nixos with unstable?
[18:36:59] <eddyb> nope
[18:38:13] <Tobba> weeiird
[18:41:28] <eddyb> just caught myself running
[18:41:30] <eddyb> kdiff3 {before,after}
[18:41:40] <eddyb> maybe this was the way it should have always been
[18:48:33] <eddyb> Tiffany: should've linked you directly. https://www.youtube.com/watch?v=CFt_8h2cUTc
[18:48:44] <eddyb> didn't really know what it was
[18:48:48] <Tobba> eddyb: I had to add the nixpkgs-unstable channel
[18:48:58] <eddyb> until the popcorn graphene in the microwave
[18:49:06] <eddyb> Tobba: isn't that what I linked?
[18:49:08] <Tiffany> eddyb how does this guy manage to be so consistently bad at making decent video
[18:49:14] <eddyb> hahahahaha
[18:49:35] <Tobba> eddyb: I think you linked nixos-unstable
[18:49:47] <eddyb> but it works for me :|
[18:49:52] <eddyb> that's weird
[18:50:08] <Tobba> somehow everything works flawlessly now
[18:50:11] <eddyb> Tobba: the sound and aspect ratio was right
[18:50:17] <eddyb> err
[18:50:21] <eddyb> Tiffany: ^^
[18:50:25] <Tobba> though I suspect I'm gonna need a hack to get bluez to autoconnect things
[18:50:25] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[18:50:27] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[18:50:28] <eddyb> you two and your capital Ts
[18:51:00] *** Joins: Rym (y@moz-aun.38r.38.217.IP)
[18:52:08] *** Quits: mkpankov` (user@moz-nleeis.partnertech.ru) (Ping timeout: 121 seconds)
[18:52:48] <eddyb> "not being Fortran" well, this just got my attention http://www.evanmiller.org/a-taste-of-rust.html
[18:54:19] <eddyb> aaaand then they fail at iterators
[18:55:01] <eddyb> it's funny cause iterators optimize out bounds checks
[18:55:17] *** Quits: Rym (y@moz-aun.38r.38.217.IP) (Ping timeout: 121 seconds)
[19:00:39] <Tobba> oh jeez
[19:00:57] <Tobba> I applied some dark GTK theme by accident and this looks funky as heck
[19:02:56] <Tobba> correction; I applied the default, which magically turned into a dark theme, and I can't change back
[19:05:35] <eddyb> GTK themes are a bit sticky
[19:05:41] <eddyb> I had this issue with chrome
[19:05:51] <eddyb> switch to GTK, switch back to "classic" and you keep some of the ugliness
[19:08:26] *** Joins: mkpankov` (mkpankov@moz-93j.4ms.23.84.IP)
[19:08:58] <Tobba> I'm trying to find which package the Adwaita theme lives in right now
[19:09:46] <eddyb> gosh
[19:10:04] <eddyb> huon: how come the playpen *still* doesn't generate anything reddit-friendly?
[19:11:19] *** Quits: mkpankov (mkpankov@moz-ppd.dee.149.83.IP) (Ping timeout: 121 seconds)
[19:15:57] <eddyb> oh well
[19:16:14] <eddyb> hopefully this doesn't hit any issues https://www.reddit.com/r/rust/comments/35yyif/a_taste_of_rust/cr96s0g
[19:17:55] <Tiffany> play.rust-lang.org is pretty
[19:18:28] *** Quits: brson (brson@moz-u3dg2t.sfo1.mozilla.com) (Ping timeout: 121 seconds)
[19:24:55] <eddyb> huh
[19:25:05] <eddyb> cmr: why do they go through bytes from CStr?
[19:25:17] <eddyb> is there no CStr -> String conversion? or at least to &str
[19:27:31] *** Quits: spider-mario (spidermario@moz-coblcf.fbx.proxad.net) (Connection closed)
[19:29:19] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Quit: Leaving)
[19:29:37] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[19:29:47] <Tobba> eddyb: now my GTK font size is 24
[19:29:51] <Tobba> this got weird
[19:29:55] *** Joins: spider-mario (spidermario@moz-coblcf.fbx.proxad.net)
[19:30:02] <Tobba> not sure why I ran lxappearance in the first place
[19:31:42] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Quit: Leaving)
[19:31:53] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[19:32:07] <Tobba> it turns out breeze dark just interacts really badly with GTK applications in general
[19:32:31] <eddyb> lol
[19:32:36] <eddyb> Tobba: but it's a color theme :/
[19:33:03] <Tobba> eddyb: except most GTK applications have different ideas about that
[19:33:06] <Tobba> so you get black on black text
[19:33:08] <eddyb> is there a breeze-for-gtk thing?
[19:33:16] <eddyb> there wasn't last I checked
[19:33:30] <Tobba> it seems KDE adjusts the colors according to your color theme
[19:34:51] <eddyb> yeah, but, you need to set a GTK theme that picks up those settings for it to have any effect
[19:35:11] <Tobba> Adwaita seems to pick them up, sort-of-kinda
[19:37:32] <eddyb> oh
[19:38:01] *** Quits: carlcolglazier (uid64399@moz-118bsh.ealing.irccloud.com) (Quit: Connection closed for inactivity)
[19:38:12] <Tiffany> huh
[19:38:26] <Tiffany> is it really a big problem in rust's perception when people post benchmarks without turning on optimisations?
[19:38:57] <GaryOak_> well when you compare it to optimized C
[19:39:11] <Tiffany> but do people do that?
[19:40:00] <Tiffany> it would be nice if everyone would just stop doing microbenchmarks
[19:40:16] <GaryOak_> If they don't realize rust isn't optimized by default
[19:40:27] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Connection closed)
[19:41:26] <cmr> Tiffany: it has been in the past, yes.
[19:41:34] <cmr> esp with "cargo build" not doing optzns.
[19:41:48] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[19:45:06] *** Joins: Rym (y@moz-aun.38r.38.217.IP)
[19:46:07] *** Quits: tilpner (tilpner@moz-6vhgm3.de) (Quit: Have an awesome day!)
[19:49:28] *** Quits: Rym (y@moz-aun.38r.38.217.IP) (Ping timeout: 121 seconds)
[19:50:18] *** Joins: bytewise (bytewise@moz-agoafm.adsl.alicedsl.de)
[20:05:58] <Tobba> eddyb: any idea about rustc on Nix?
[20:06:11] <Tobba> I probably need to set up something myself to make multirust behave
[20:06:48] <eddyb> Tobba: I have something slightly intricate
[20:06:59] <eddyb> a modified rustup that patches binaries and libraries
[20:07:07] <eddyb> and places the result in ~/.local/rust-nightly
[20:07:12] <eddyb> playbot: "9510241379554117393".len()
[20:07:14] -playbot- 19
[20:07:18] <eddyb> I am going crazy
[20:07:21] <eddyb> I counted 20
[20:07:23] <eddyb> twice
[20:07:47] <Tobba> neat
[20:08:15] <Tiffany> eddyb: nix-env -qa '.*llvm.*'
[20:08:15] <Tiffany> real 81.43
[20:08:16] <Tiffany> user 9.40
[20:08:22] <Tiffany> wtf is this
[20:08:24] <eddyb> Tobba: https://nixos.org/wiki/How_to_package_closed-source_software
[20:08:35] <eddyb> Tiffany: disk
[20:08:39] <Tobba> eddyb: I guess I could also set up some stuff to build it from source
[20:08:43] <Tobba> it shouldn't take that long on my rig
[20:08:43] <eddyb> Tiffany: mine is way faster than that
[20:08:44] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[20:08:45] <Tiffany> but it's not hammering my disk too hard
[20:08:59] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[20:08:59] *** ChanServ sets mode: +o erickt
[20:09:01] <Tiffany> maybe it's just aggressively random accessing
[20:09:22] <Tiffany> I'm literally watching iotop
[20:09:25] <Tiffany> and nix is just not at the top
[20:09:27] <eddyb> playbot: "9510241379554117393"
[20:09:28] -playbot- "9510241379554117393"
[20:09:30] <eddyb> playbot: "9510241379554117393".len()
[20:09:31] -playbot- 19
[20:09:49] <eddyb> why is sed so old :(
[20:10:06] <Tiffany> how do I get llvm-general installed
[20:10:35] <Tiffany> I guess I have to include the version string
[20:11:04] <Tiffany> eddyb: why is it this slow?
[20:11:09] <Tiffany> pacman -Ss finishes in seconds
[20:13:14] <eddyb> I don't bloody know
[20:13:20] <eddyb> so does nix-env here
[20:13:45] <eddyb> Tiffany: I would blame your HDD combined with the access patterns
[20:14:03] <eddyb> but that's as generics as it gets
[20:14:13] <Tiffany> I have a 5200 rpm laptop harddrive
[20:14:15] <eddyb> Tobba: fun, I have to read https://internals.rust-lang.org/t/pre-rfc-disjoint-polymorphism/2029
[20:14:16] <Tiffany> do you have an ssd or something?
[20:14:22] <Tiffany> I don't know what the deal is
[20:14:25] <FreeFull> eddyb: nix-env -qa '.*llvm.*' specifically?
[20:14:27] <Tiffany> does everyone but me who uses nix have an ssd?
[20:14:47] <eddyb> I don't
[20:14:50] <FreeFull> Tiffany: I definitely have noticed the slowness of searching for packages with nix-env
[20:15:02] <eddyb> oh boy, "Coercible"
[20:16:41] <Tobba> eddyb: oh boy
[20:16:44] <Tobba> that looks interesting
[20:16:57] <Tiffany> and now it's using 500 megabytes of memory
[20:17:34] <Tiffany> everyone always tells me that it's not supposed to behave like this, but what am I supposed to do?
[20:17:48] <Tiffany> I am not going to run a system where every single package manager operation takes over a minute and makes my system slow to a crawl
[20:18:03] <Tiffany> I tried removing the .*s from my query
[20:18:04] <Tiffany> real 147.40
[20:18:08] <Tiffany> user 10.20
[20:18:15] <Tiffany> and it didn't return what I was looking for, either
[20:27:28] <Tiffany> eddyb: apparently it's because it builds a huge index which is too big to fit in my system's memory and it swaps
[20:27:33] <Tiffany> which doesn't seem right
[20:27:39] <Tiffany> because it's only using 500 megabytes of memory
[20:27:41] <Tiffany> not all ofi t
[20:30:19] <Tobba> NixOS + KDE5 is Actually Not Terrible
[20:30:31] <Tobba> this is probably the first linux system I'll feel sane using
[20:30:34] *** Joins: brson (brson@moz-u3dg2t.sfo1.mozilla.com)
[20:30:35] *** ChanServ sets mode: +o brson
[20:32:54] <Tobba> eddyb: is there any way to set up my nix-env packages such that I can easily clone everything over to another install?
[20:32:59] <Tobba> without using the package list in configuration.nix
[20:33:07] <eddyb> Tobba: nix-env -q
[20:33:48] <Tobba> excellent
[20:39:14] *** Joins: Rym (y@moz-aun.38r.38.217.IP)
[20:42:42] <eddyb> Tobba: also, ~/.nix-profile/manifest.nix
[20:43:14] <Tobba> also excellent.
[20:43:14] <eddyb> not sure how you would use that on a different system, but I believe it describes your user environemtn
[20:43:38] *** Quits: Rym (y@moz-aun.38r.38.217.IP) (Ping timeout: 121 seconds)
[20:43:40] <eddyb> you can also create per-project dependency bundles, so to speak. see nix-shell documentation
[20:43:52] <Tobba> I'm probably gonna re-do this install without the dual-boot and with LVM instead
[20:44:04] <Tobba> but I should be able to copy the configs, reinstall the packages and everything should be fine
[20:47:17] <eddyb> Tobba: did you see that type system thingy from earlier today?
[20:47:42] <Tobba> only things about the type system I've seen was that pre-RFC you linked
[20:47:56] <eddyb> struct Foo(usize); Foo and Foo(5) are two different types. the latter coerces to the former
[20:48:13] <Tobba> what would Foo represent?
[20:48:29] <eddyb> Foo is what you have in Rust today, Foo(5) would be struct Foo<const N: usize>; Foo<5>
[20:48:52] *** Joins: dkeenaghan (dkeenaghan@moz-oeu.k7g.100.89.IP)
[20:48:54] <Tobba> oh types
[20:48:57] <Tobba> that could be cool
[20:49:03] <eddyb> aaand
[20:49:17] <eddyb> struct Point { x: f32, y: f32 }
[20:49:25] <eddyb> that is an ADT constructor
[20:49:30] <eddyb> which makes it a function
[20:49:40] <eddyb> fn { x: i32, y: i32 } -> Point
[20:50:05] <Tobba> not quite sure what the use-cases for Foo(5) are but
[20:50:08] <eddyb> struct Point(T) { x: T, y: T }
[20:50:21] <eddyb> Tobba: representing compile-time constants if there is no separate notion of generics
[20:50:36] <Tobba> oh
[20:50:45] <eddyb> I am almost wondering... struct Point { T, x: T, y: T }
[20:50:58] <eddyb> or maybe () vs {} is pointless
[20:52:07] <eddyb> this is words http://tomasp.net/blog/2015/against-types/
[20:55:00] *** Joins: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP)
[20:57:30] *** Quits: gsingh93 (gulshan@moz-qnbukr.mi.comcast.net) (Ping timeout: 121 seconds)
[21:03:38] *** Quits: brson (brson@moz-u3dg2t.sfo1.mozilla.com) (Ping timeout: 121 seconds)
[21:05:28] <Tobba> hm, now why won't sudo work
[21:05:40] <Tobba> I'm in the wheel group which the default configuration should allow
[21:06:46] <eddyb> Tobba: let me see
[21:07:27] <eddyb> Tobba: security.sudo.enable = true;
[21:08:26] <Tobba> I'm doing that and users.extraGroups = { wheel = { } }; and extraGroups = ["wheel"]; on my user
[21:08:30] <Tobba> which *should* work, I think
[21:08:51] <eddyb> the former is not required AFAIK
[21:09:02] <eddyb> I also have wheelNeedsPassword = false;
[21:09:07] <Tobba> yeah I think it's there by default
[21:10:20] <Tobba> tobba is not in the sudoers file.  This incident will be reported.
[21:10:21] <Tobba> damn it
[21:11:02] <eddyb> I also have isNormalUser = true; uid = 1000;
[21:11:28] <Tobba> yep, got that already
[21:11:32] <Tobba> strange, might just have to reboot
[21:12:00] *** Joins: brson (brson@moz-u3dg2t.sfo1.mozilla.com)
[21:12:01] *** ChanServ sets mode: +o brson
[21:13:12] <eddyb> Tobba: oh
[21:13:17] <eddyb> Tobba: did you relogin?
[21:13:28] <eddyb> I'm pretty sure you have to do that to see any effects
[21:13:40] <Tobba> oh, that might be it
[21:13:50] <Tobba> I thought it'd read of /etc/group to figure out group membership
[21:13:59] <Tobba> that might be wrong though
[21:14:29] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Connection closed)
[21:14:42] *** Quits: panicbit (panicbit@moz-r4ks4s.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[21:14:56] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[21:16:21] <Tobba> woo that did it
[21:17:15] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Quit: Leaving)
[21:17:21] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[21:19:59] *** Joins: tilpner (tilpner@moz-6vhgm3.de)
[21:25:19] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Connection closed)
[21:26:19] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[21:30:25] *** Quits: Boscop (me@moz-5ac.5rj.126.98.IP) (Ping timeout: 121 seconds)
[21:33:27] *** Joins: Rym (y@moz-aun.38r.38.217.IP)
[21:37:47] *** Quits: Rym (y@moz-aun.38r.38.217.IP) (Ping timeout: 121 seconds)
[21:38:08] <fkaa> just saw the new mad max
[21:38:39] <fkaa> surprisingly good
[21:38:59] *** Quits: Lilly (Lilly@moz-pfkvo9.bredband.comhem.se) (Quit: bajs)
[21:39:05] <cmr> waaat
[21:39:08] <cmr> there's a new mad max?
[21:41:41] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[21:42:48] <Tobba> eddyb: hm, dilemma, I want to run LUKS but still be able to VPN into my network, wake-on-LAN my machine and SSH in
[21:43:06] <Tobba> I guess I can only encrypt /home
[21:43:11] <Tobba> but I kinda wanted to do full-system
[21:43:44] <Tobba> (since that means I can technically have a good chain of trust up to the password prompt)
[21:44:44] <niconii> oh, that's nice
[21:45:02] <niconii> pulseaudio is broken all of a sudden for some reason
[21:45:34] <eddyb> niconii: pulseaudio -k?
[21:45:45] <niconii> if i kill pulseaudio i get audio
[21:45:46] <eddyb> cmr: how did you miss out on the trailers?
[21:46:02] <niconii> and nothing else is holding handles to stuff in /dev/snd/*
[21:47:17] <niconii> if i run pulseaudio -v and try playing something, stuff prints about an underrun regarding alsa-sink.c
[21:48:37] *** Quits: Kxepal (Miranda@moz-u0omr9.pppoe.mtu-net.ru) (Ping timeout: 121 seconds)
[21:50:00] <niconii> http://pastebin.com/TM4DUtrh
[21:50:09] <niconii> like this
[21:50:37] <niconii> might've started happening because i ran a system update, but
[21:50:45] <niconii> i'm not really sure why it broke
[21:50:54] *** Joins: Kxepal (Miranda@moz-eduvui.pppoe.mtu-net.ru)
[21:52:46] <niconii> "Connection died." in particular seems odd
[21:52:53] <niconii> i'm not running this over a network or anything
[21:54:48] <niconii> also, it's not just mpd, and it's not that it's muted, to rule those out
[21:55:22] *** Quits: freefall (ff@moz-j5rng1.tor-exit.network) (Ping timeout: 121 seconds)
[21:55:49] <niconii> programs behave as they would if they couldn't get audio at all (videos play way too fast, songs do as well though obviously with no actual audio output)
[21:57:25] <niconii> i'm only getting one actual error message, which is
[21:57:38] <niconii> E: [pulseaudio] bluez5-util.c: GetManagedObjects() failed: org.freedesktop.systemd1.LoadFailed: Unit dbus-org.bluez.service failed to load: No such file or directory.
[21:58:17] <niconii> but i mean... that shouldn't have anything to do with it, right?
[21:59:36] *** Joins: freefall (ff@moz-4lmh4m.privacyfoundation.ch)
[22:02:07] *** Joins: Boscop (me@moz-5ac.5rj.126.98.IP)
[22:02:19] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[22:03:47] <niconii> it works if i run pulseaudio as root
[22:03:58] <niconii> why though
[22:06:55] *** Quits: Boscop (me@moz-5ac.5rj.126.98.IP) (Ping timeout: 121 seconds)
[22:08:08] <niconii> nnnno i take that back, it's not working
[22:09:04] <niconii> an assertion failed in pulseaudio when mpd tried to connect to it, then mpd core dumped
[22:09:08] <niconii> that's lovely
[22:09:37] <niconii> fuck it, i'll just reinstall pulseaudio entirely then
[22:10:06] *** bvssvni is now known as bvssvni_
[22:10:24] *** Joins: gsingh93 (gulshan@moz-qnbukr.mi.comcast.net)
[22:13:46] <niconii> aaand it changed nothing
[22:13:51] <niconii> guess i'll just reboot then...
[22:14:26] *** Quits: niconii (nicole@moz-ojt2sa.frgo.qwest.net) (Quit: brb)
[22:19:26] *** Joins: niconii (nicole@moz-ojt2sa.frgo.qwest.net)
[22:19:36] <niconii> yeahhh that helped not at all, okay
[22:19:54] <niconii> guess i just have broken audio then.
[22:27:33] *** Joins: Rym (y@moz-aun.38r.38.217.IP)
[22:27:42] *** Quits: bjz (bjz@moz-puppgq.tpgi.com.au) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[22:29:01] *** Joins: acharles (acharles@moz-dvfnah.static.qwest.net)
[22:31:57] *** Quits: Rym (y@moz-aun.38r.38.217.IP) (Ping timeout: 121 seconds)
[22:32:27] *** Quits: brson (brson@moz-u3dg2t.sfo1.mozilla.com) (Quit: leaving)
[22:42:29] <niconii> according to pacman.log i haven't even updated anything related to alsa, pulseaudio, or mpd in weeks
[22:43:14] <niconii> this is starting to piss me off, honestly
[22:47:26] *** Quits: dkeenaghan (dkeenaghan@moz-oeu.k7g.100.89.IP) (Quit: Leaving)
[22:47:44] *** Joins: Boscop (me@moz-5ac.5rj.126.98.IP)
[22:51:43] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[22:53:11] <niconii> oh, hey, i think i've fixed it
[22:54:13] <niconii> for some reason pulseaudio suddenly decided the HDMI port in this laptop was where all audio should go, i guess
[22:54:16] *** Joins: swgillespie (swgillespie@moz-1i5.3un.220.167.IP)
[22:55:50] *** Quits: swgillespie (swgillespie@moz-1i5.3un.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[23:00:56] *** Quits: Boscop (me@moz-5ac.5rj.126.98.IP) (Ping timeout: 121 seconds)
[23:02:23] *** Joins: swgillespie (swgillespie@moz-1i5.3un.220.167.IP)
[23:04:38] *** Joins: Rym (y@moz-aun.38r.38.217.IP)
[23:06:56] <XMPPwocky> " [cpu:300%]"
[23:07:05] <XMPPwocky> SHE CANNAE TAKE IT MUCH LONGER, CAPTAIN
[23:14:08] *** Joins: Boscop (me@moz-5ac.5rj.126.98.IP)
[23:18:18] *** Quits: Boscop (me@moz-5ac.5rj.126.98.IP) (Ping timeout: 121 seconds)
[23:21:29] *** Joins: Boscop (me@moz-5ac.5rj.126.98.IP)
[23:22:33] *** Quits: eddyb (eddyb@moz-egg.q07.26.188.IP) (Ping timeout: 121 seconds)
[23:22:34] *** kimundi is now known as zz_kimundi
[23:27:19] *** Quits: Boscop (me@moz-5ac.5rj.126.98.IP) (Ping timeout: 121 seconds)
[23:27:32] *** Quits: mkpankov` (mkpankov@moz-93j.4ms.23.84.IP) (Quit: Bye)
[23:28:55] <Tiffany> I'm still not sure how that can happen xmppwocky
[23:29:08] <Tiffany> each thread shows up as a different entry in htop, so how is one thread using multiple cores?
[23:31:14] <XMPPwocky> plot twist: this is a single core
[23:32:17] <cmr> XMPPwocky: leeenucks?
[23:33:10] <XMPPwocky> GNU/Linux </stallman>
[23:33:13] <XMPPwocky> yes
[23:33:29] <XMPPwocky> it's afl's cpu meter so i don't know how that's measured
[23:33:41] <cmr> Pretty sure that means there are 3 CPUs worth of work to be scheduled.
[23:34:06] <XMPPwocky> hmm
[23:35:25] <cmr> there's some subtlety with linux cpu usage reporting like that, iirc.
[23:36:02] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[23:39:15] *** Quits: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[23:46:46] *** Joins: aatch (james@moz-is4j4r.cable.telstraclear.net)
[23:47:12] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Quit: leaving)
[23:48:25] *** Quits: Rym (y@moz-aun.38r.38.217.IP) (Ping timeout: 121 seconds)
[23:49:59] *** Joins: Rym (y@moz-aun.38r.38.217.IP)
[23:57:23] <barosl> I've heard of .NET Native a lot recently, what's that?
[23:57:44] <barosl> According to MSDN it's likely AOT compiled C#, is it correct?
[23:57:47] <cmr> Compile CIL to native code.
[23:57:49] <cmr> Yes.
[23:58:33] <barosl> Hmm, I wonder how this compares to Go
[23:58:44] <barosl> Personally I like C# much more than Go
[23:58:54] <XMPPwocky> why would you want that?
[23:59:03] <cmr> XMPPwocky: faster startup, lower overhead.
[23:59:15] <barosl> And maybe single binary?
[23:59:17] <cmr> they're doing it for universal windows applications, and on mobile that stuff is a big deal.
[23:59:36] <XMPPwocky> is there still a jit for hotspots?
