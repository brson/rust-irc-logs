[00:00:00] <strcat> and the pretty printer should be fixed and taught to follow it completely
[00:00:10] *** Quits: mleise (marco@moz-DB2B1845.pools.arcor-ip.net) (Ping timeout)
[00:01:26] *** Quits: mib_9dtsi9 (Mibbit@D68B8E02.D6EE7B4D.99FEC5C4.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[00:02:00] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[00:02:36] *** Quits: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net) (Ping timeout)
[00:06:17] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[00:07:03] *** Quits: nano (nano@moz-ED77243C.superkabel.de) (Connection reset by peer)
[00:07:25] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[00:07:48] <achin> strcat: thanks
[00:09:26] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[00:10:38] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[00:11:21] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[00:12:03] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[00:12:20] *** Quits: io2 (io2@moz-871549F5.home.otenet.gr) (Quit: )
[00:13:18] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[00:13:33] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[00:15:05] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[00:15:15] *** Quits: alan_andrade (alan_andra@94147F3C.3C8440C4.B7838CA6.IP) (Input/output error)
[00:16:17] *** Joins: ptc (Adium@moz-192425C4.nyc.res.rr.com)
[00:16:35] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[00:16:51] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[00:17:20] *** Quits: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com) (Ping timeout)
[00:17:29] *** jorendorff is now known as jorendorff_away
[00:18:36] *** Joins: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com)
[00:18:39] *** Quits: DAddYE_ (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Ping timeout)
[00:18:46] *** Quits: eddyb (eddy@EE946B63.921A1753.FCAAE698.IP) (Ping timeout)
[00:19:07] *** Joins: zmthy (Tim@moz-70178026.dsl.dyn.ihug.co.nz)
[00:19:35] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[00:21:16] *** Quits: nkoep (nik@moz-5BF386E8.pool.mediaways.net) (Quit: Leaving)
[00:22:03] *** Joins: DAddYE_ (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[00:22:03] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Connection reset by peer)
[00:22:09] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[00:23:43] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[00:24:36] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[00:24:59] *** Quits: twi (Adium@moz-174339A4.cust.dsl.vodafone.it) (Quit: Leaving.)
[00:25:49] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[00:26:10] *** kimundi is now known as zz_kimundi
[00:27:37] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[00:28:48] *** Joins: pnkfelix (pnkfelix@70A6E7A1.55ADD344.4C2245EF.IP)
[00:29:23] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[00:29:31] <erickt1> does anyone how to check if the rust-ci nightly build contains libnative?
[00:29:58] <erickt1> I'm not on ubuntu, so it's a little tricky to install https://launchpad.net/~hansjorg/+archive/rust directly
[00:30:01] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[00:32:33] <SiegeLord> You can "just" download the package and look inside
[00:32:37] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[00:32:48] *** Quits: philix (philix@moz-E2894C4B.user.veloxzone.com.br) (Quit: philix)
[00:33:11] *** Joins: philix (philix@moz-E2894C4B.user.veloxzone.com.br)
[00:33:15] * dbaupp is doing that now
[00:33:21] <SiegeLord> Me too!
[00:33:24] <erickt1> thanks!
[00:33:56] <erickt1> I just downloaded the package from https://launchpad.net/~hansjorg/+archive/rust/+packages, but it just seems to be the rust source
[00:34:32] <SiegeLord> It has it
[00:34:32] <erickt1> oh that's because the most recent build failed
[00:34:33] <dbaupp> did you download the .deb?
[00:34:41] <erickt1> I'm doing that now :)
[00:34:57] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Quit: Busying myself...)
[00:35:38] *** Quits: DAddYE_ (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Ping timeout)
[00:35:46] *** Joins: MrByte (Dartakio@moz-81792842.chy-wy.client.bresnan.net)
[00:35:49] <dbaupp> erickt1: http://ix.io/9EA
[00:35:53] <dbaupp> erickt1: (it is there)
[00:35:55] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[00:36:35] <erickt1> hrm, then why is my rust-zmq dying…? here's my error: https://travis-ci.org/erickt/rust-zmq/builds/16232512
[00:36:50] <erickt1> it builds on my machine
[00:37:08] <sfackler> erickt1: iirc rustpkg doesn't know about libnative
[00:37:24] <sfackler> you may have to build manually until someone updates it
[00:38:01] <erickt1> sfackler: could this be something that works on macs but not on linux? It runs fine for me
[00:38:08] *** Quits: ptc (Adium@moz-192425C4.nyc.res.rr.com) (Quit: Leaving.)
[00:38:23] <erickt1> is anyone on linux? could they try downloading https://github.com/erickt/rust-zmq and running "make all examples"?
[00:38:39] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[00:39:07] <dbaupp> yep
[00:39:10] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[00:39:50] <dbaupp> same output
[00:39:58] <erickt1> it also fails?
[00:40:01] <dbaupp> (same as travis)
[00:40:02] <dbaupp> yeah
[00:40:26] *** Quits: pnkfelix (pnkfelix@70A6E7A1.55ADD344.4C2245EF.IP) (Quit: rcirc on GNU Emacs 24.3.1)
[00:40:30] <erickt1> thanks, I'll take sfackler's advice and do it manually
[00:41:01] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Connection reset by peer)
[00:41:08] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[00:41:40] <quaddle> How is mem::size_of used? 
[00:42:00] <dbaupp> mem::size_of::<type>()
[00:42:06] <dbaupp> e.g. size_of::<int>()
[00:42:08] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[00:42:25] <achin> if i'm using rustpkg, should i not be specifying a crate_id or crate_type in lib.rs? 
[00:42:50] <dbaupp> quaddle: (you can also use size_of_val(&some_value), if you already have an actual value of the relevant type)
[00:43:12] <dbaupp> achin: you should definitely specify #[crate_id]
[00:43:53] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[00:44:08] <quaddle> dbaupp: thanks
[00:44:22] <achin> and must the name match the directory in which lib.rs lives?  for example, if i have #[create_id="foo"]; i need src/foo/lib.rs ?
[00:44:31] * dbaupp doesn't know
[00:44:46] <SiegeLord> You don't need it to be anything special if you don't use rustpkg
[00:45:02] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[00:45:02] *** ChanServ sets mode: +ao pcwalton pcwalton
[00:45:06] <erickt1> there is an outstanding bug with rustpkg and crate_id though: https://github.com/mozilla/rust/pull/11086
[00:45:06] <SiegeLord> I kind of doubt it'll work right with rustpkg if it doesn't match the directory though
[00:46:02] <achin> erickt1: thanks
[00:46:21] *** Quits: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net) (Client exited)
[00:46:22] *** Quits: tcsc (tcsc@moz-ADC0ED45.hsd1.ct.comcast.net) (Quit: bye!)
[00:47:12] *** Quits: Skrylar_ (Skrylar@moz-F692F728.austin.res.rr.com) (Ping timeout)
[00:47:16] <erickt1> is jack moffitt / metajack online?
[00:47:19] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[00:47:32] <erickt1> I'm not sure what is his handle
[00:47:32] <dbaupp> erickt1: he's jack
[00:47:38] <erickt1> jack: ping
[00:47:44] <erickt1> dbaupp: thanks
[00:48:35] <jack> Erickt1: what's up?
[00:49:05] <erickt1> jack: good evening! I wanted to check in on how https://github.com/mozilla/rust/pull/11086 is coming along
[00:49:42] <erickt1> jack: if you weren't already working on fixing the test failures, I might take a crack at it
[00:50:11] <jack> Feel free! Just needs a rebase and whitespace strip I think
[00:50:20] *** Joins: Skrylar_ (Skrylar@moz-F692F728.austin.res.rr.com)
[00:51:09] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[00:51:13] *** Joins: Krymise (Nietzsche@moz-CA789EF5.nwrknj.fios.verizon.net)
[00:54:24] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[00:55:17] *** Joins: twi (Adium@moz-174339A4.cust.dsl.vodafone.it)
[00:55:36] <wycats_> good news fellers
[00:55:42] *** Joins: vmx (vmx@moz-BEE0328A.pools.arcor-ip.net)
[00:55:47] <wycats_> we just integrated the protobuf rewrite we did into our codes
[00:55:48] <wycats_> and it works
[00:55:54] <pcwalton> \o/
[00:56:05] <bjz> wycats_: o/
[00:56:14] *** Quits: ecl3ctic (Mibbit@moz-E1FAD64C.wzfv1.vic.bigpond.net.au) (Quit: http://www.mibbit.com ajax IRC Client)
[00:56:17] <wycats_> \o/
[00:56:27] <wycats_> I really want #[deriving(Buffoon)]
[00:56:34] <wycats_> sfackler: mosh
[00:56:43] <erickt1> !
[00:56:54] <pcwalton> now that we're starting to get user-defined macros custom deriving should be straightforward!
[00:57:00] <wycats_> confirm!
[00:57:01] <erickt1> user implementable deriving would be so awesome
[00:57:02] *** Quits: twi (Adium@moz-174339A4.cust.dsl.vodafone.it) (Ping timeout)
[00:57:03] <wycats_> pcwalton: <hug>
[00:57:04] *** Joins: twi (Adium@moz-174339A4.cust.dsl.vodafone.it)
[00:57:35] <erickt1> pcwalton: oooh! so we'll be able to walk a structure in a macro? I can think of so many fun things I could do with that
[00:57:48] <pcwalton> erickt1: yup
[00:57:49] <dbaupp> wycats_: is the new protobuf lib available? (@-less, I presume?)
[00:57:57] <wycats_> https://github.com/tildeio/buffoon/blob/master/src/buffoon/span.rs#L58-L96
[00:57:58] <dbaupp> erickt1: well, deriving is just a normal macro...
[00:58:06] <wycats_> dbaupp: we only implemented the parts we needed
[00:58:07] <pcwalton> actually I would like macro_rules! to just be nothing more than sugar that generates procedural macros
[00:58:09] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[00:58:16] <wycats_> but we're planning on going back and filling out all the read/write rules
[00:58:17] <dbaupp> wycats_: ah, ok... understandable :)
[00:58:23] <pcwalton> i.e. make macro_rules! a macro generating macro
[00:58:24] <wycats_> it's very very simple
[00:58:28] <pcwalton> which it almost is now
[00:58:28] <erickt1> pcwalton: is there a PR or mail thread that's tracking this work?
[00:58:30] <wycats_> the hardest part is probably varint
[00:58:39] <pcwalton> erickt1: sfackler's PR I think?
[00:58:40] <wycats_> also, right now we have no auto-generation
[00:58:51] <wycats_> I'm trying to decide whether to hold out for #[deriving]
[00:58:54] *** Quits: twi (Adium@moz-174339A4.cust.dsl.vodafone.it) (Ping timeout)
[00:58:55] <sfackler> erickt1: https://github.com/mozilla/rust/pull/11151
[00:59:06] *** Quits: FreeFull (freefull@moz-15C9B6BA.as13285.net) (Ping timeout)
[00:59:08] *** Quits: tjc (tjc@moz-6EB4E533.dsl.tsoft.com) (Quit: Textual IRC Client: www.textualapp.com)
[00:59:09] <erickt1> wooo
[00:59:56] <wycats_> I'm also really hoping for Span::load()
[01:00:15] <wycats_> rather than let span: Span = LoadableMessage::load()
[01:00:17] <sfackler> pcwalton: how would those macro_rules! changes work? it seems like you'd need to run the compiler an extra time or JIT it or something
[01:00:38] <pcwalton> sfackler: run it an extra time. first time, you compile all #[phase(syntax)] functions
[01:00:42] <pcwalton> then you dynamically link against the resulting library
[01:00:42] *** Joins: FreeFull (freefull@moz-9ADF20E6.as13285.net)
[01:00:48] <pcwalton> and that loads in the macros
[01:00:51] <pcwalton> then run the compiler again
[01:00:58] <wycats_> :shipit:
[01:01:21] <pcwalton> this technique also allows for compile time function evaluation
[01:01:22] <pcwalton> if you want that
[01:01:34] <wycats_> pcwalton: who doesn't want that :P
[01:01:49] <pcwalton> note that this is best for one-offs: if you're concerned about build time just factor out the macros into a separate dylib
[01:01:53] <pcwalton> and keep that dylib around
[01:02:00] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[01:02:03] <pcwalton> for short macros though it shouldn't be a problem
[01:02:15] <sfackler> yeah
[01:02:18] <wycats_> pcwalton: I'd imagine for buffoon we'd have a libbuffon-macros.so
[01:02:20] *** Quits: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net) (Client exited)
[01:02:22] <pcwalton> yeah
[01:02:40] *** Joins: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net)
[01:02:45] *** Quits: erickt1 (Adium@moz-4B000CB7.dyn.optonline.net) (Connection reset by peer)
[01:02:53] *** Joins: erickt1 (Adium@moz-4B000CB7.dyn.optonline.net)
[01:04:04] *** Quits: erickt1 (Adium@moz-4B000CB7.dyn.optonline.net) (Quit: Leaving.)
[01:04:23] *** Quits: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net) (Ping timeout)
[01:04:26] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[01:04:44] *** Quits: Sorella (queen@9D963F5D.DF5D8AE7.54BCAB54.IP) (Quit: It is tiem!)
[01:04:45] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[01:05:41] *** Quits: spider-mario (spidermari@moz-81131DB6.fbx.proxad.net) (Input/output error)
[01:06:09] *** Joins: heftig_ (heftig@moz-23812B5B.dip0.t-ipconnect.de)
[01:06:44] *** Quits: heftig (heftig@moz-E734D08.dip0.t-ipconnect.de) (Ping timeout)
[01:08:12] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[01:09:53] *** Quits: geoffhill (geoffhill@moz-738DC0DB.org) (Ping timeout)
[01:09:53] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[01:10:35] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[01:11:21] *** Joins: pnkfelix (pnkfelix@moz-C07D5168.p2p.sfo1.mozilla.com)
[01:11:22] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[01:11:51] *** Joins: erickt1 (Adium@moz-4B000CB7.dyn.optonline.net)
[01:13:07] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[01:13:27] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[01:13:54] *** Quits: erickt1 (Adium@moz-4B000CB7.dyn.optonline.net) (Quit: Leaving.)
[01:14:36] *** Quits: t25 (manud@moz-5D020DB4.otago.ac.nz) (Ping timeout)
[01:15:14] *** Joins: erickt1 (Adium@moz-4B000CB7.dyn.optonline.net)
[01:15:53] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[01:16:03] *** Quits: pnkfelix (pnkfelix@moz-C07D5168.p2p.sfo1.mozilla.com) (Ping timeout)
[01:16:36] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[01:16:41] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[01:17:35] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[01:18:46] *** Joins: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net)
[01:19:07] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[01:19:18] *** Quits: bynaryshef (bynaryshef@moz-DCC9E7CE.mem.bellsouth.net) (Quit: Leaving)
[01:22:04] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[01:22:31] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[01:25:46] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[01:26:35] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[01:27:57] *** Joins: DAddYE_ (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[01:27:57] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Connection reset by peer)
[01:28:47] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[01:30:13] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[01:30:49] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[01:30:56] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[01:33:26] *** Joins: GeorgeH (George@moz-FB5F2302.hsd1.nj.comcast.net)
[01:33:49] *** Quits: DAddYE_ (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Client exited)
[01:33:56] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[01:33:56] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[01:35:43] *** Joins: kvanb (kvanb@moz-CDB93B52.lnse3.win.bigpond.net.au)
[01:35:46] *** Joins: int3_ (int3_@moz-F8268CB6.pool-182-52.dynamic.totbb.net)
[01:37:13] *** Joins: t25 (manud@moz-5D020DB4.otago.ac.nz)
[01:37:27] *** Joins: elux (peter@moz-6B45ADE5.dsl.bell.ca)
[01:37:29] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[01:38:14] *** Joins: ptc (Adium@moz-192425C4.nyc.res.rr.com)
[01:38:15] *** Quits: espadrine (Thunderbir@moz-C17DE8E2.w92-128.abo.wanadoo.fr) (Ping timeout)
[01:39:56] *** Quits: ptc (Adium@moz-192425C4.nyc.res.rr.com) (Ping timeout)
[01:41:19] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[01:41:39] <SiegeLord> Oh wow, the dead code thing came out of that Rust OS course? Awesome
[01:41:40] *** Joins: tjc (tjc@moz-6EB4E533.dsl.tsoft.com)
[01:41:40] *** ChanServ sets mode: +o tjc
[01:42:03] *** Joins: espadrine (Thunderbir@moz-51C6C07B.w92-128.abo.wanadoo.fr)
[01:43:01] *** Quits: erickt1 (Adium@moz-4B000CB7.dyn.optonline.net) (Quit: Leaving.)
[01:44:34] *** Joins: erickt1 (Adium@moz-4B000CB7.dyn.optonline.net)
[01:44:51] <bjz> <3 <3 the ded code thing
[01:45:07] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[01:45:35] *** Quits: erickt1 (Adium@moz-4B000CB7.dyn.optonline.net) (Quit: Leaving.)
[01:48:56] *** Quits: vmx (vmx@moz-BEE0328A.pools.arcor-ip.net) (Ping timeout)
[01:49:05] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[01:50:08] *** Quits: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[01:52:20] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[01:53:40] *** Joins: erickt1 (Adium@moz-4B000CB7.dyn.optonline.net)
[01:54:25] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[01:54:59] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[01:57:49] *** Joins: twi (Adium@moz-174339A4.cust.dsl.vodafone.it)
[01:57:56] <pcwalton> the dead code thing is amazing
[01:58:10] <pcwalton> eventually our lint passes will just write our program for us
[01:58:53] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[01:59:33] *** Quits: twi (Adium@moz-174339A4.cust.dsl.vodafone.it) (Ping timeout)
[02:00:20] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[02:01:29] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[02:02:08] <steveklabnik> hehe
[02:02:13] <steveklabnik> just generate all possible outputs
[02:02:17] <steveklabnik> and then run dead code analyzier
[02:02:24] <SiegeLord> Warning: This program could be written better and have more features. Fix? [Y/n]
[02:02:29] <steveklabnik> errr, source codes
[02:02:31] <steveklabnik> not outputs
[02:02:31] <steveklabnik> heh
[02:03:08] <SiegeLord> Seriously though, I would appreciate an ability to fix some of the simpler issues
[02:05:26] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[02:05:29] *** Joins: rlg (Mibbit@moz-2FB60752.socal.res.rr.com)
[02:06:05] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[02:07:48] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Ping timeout)
[02:08:24] *** Joins: barosl (barosl@3DE683B6.E551553C.7544CABF.IP)
[02:10:07] *** Joins: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca)
[02:11:22] *** Quits: kngl (Adium@E5907D90.770DEA4D.7C797F8E.IP) (Quit: Leaving.)
[02:12:43] *** Joins: josh (josh@moz-357ADCEA.hsd1.mn.comcast.net)
[02:13:21] *** Joins: jvoorhis (jvoorhis@moz-E191DB04.ptld.qwest.net)
[02:14:33] *** Quits: parcha (quassel@moz-A9A9F340.hsd1.ma.comcast.net) (Client exited)
[02:15:01] *** Quits: jvoorhis (jvoorhis@moz-E191DB04.ptld.qwest.net) (Ping timeout)
[02:15:52] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[02:15:55] *** Quits: Ferreus (ferreus@moz-26514DE4.pools.arcor-ip.net) (Ping timeout)
[02:16:33] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[02:16:38] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[02:17:28] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[02:17:30] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[02:18:17] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[02:18:23] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[02:19:36] *** Quits: azakai (alon@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[02:19:38] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[02:22:41] *** Quits: espadrine (Thunderbir@moz-51C6C07B.w92-128.abo.wanadoo.fr) (Ping timeout)
[02:25:28] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[02:28:10] *** Quits: atomical (atomical@moz-C92D67E2.library.northwestern.edu) (Ping timeout)
[02:28:40] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[02:29:30] *** Quits: smvv (smvv@moz-A397289C.xlshosting.net) (Ping timeout)
[02:29:34] *** Quits: rlg (Mibbit@moz-2FB60752.socal.res.rr.com) (Quit: http://www.mibbit.com ajax IRC Client)
[02:31:01] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[02:31:48] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[02:32:38] <erickt1> jack: ping
[02:34:29] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[02:35:15] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[02:36:30] *** Quits: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[02:37:09] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[02:38:38] *** Joins: ptc (Adium@moz-192425C4.nyc.res.rr.com)
[02:38:40] *** Joins: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com)
[02:39:42] *** Joins: jhasse (jhass_000@moz-A59B5D6B.ewe-ip-backbone.de)
[02:40:03] <jack> erickt1: pong
[02:40:23] *** Quits: ptc (Adium@moz-192425C4.nyc.res.rr.com) (Ping timeout)
[02:40:31] <erickt1> jack: hey there! I got it rebased with this patch: https://github.com/erickt/rust/commit/d15498120b20020d6c567ddc9ca814dcba0ffe3a
[02:40:59] <erickt1> I had to restore split_version because someone else was using it to parse versions
[02:41:08] *** Joins: Ferreus (ferreus@moz-B61A3042.pools.arcor-ip.net)
[02:41:15] <erickt1> is that a problem?
[02:42:24] <jack> that's the part i don't understand.
[02:42:34] <jack> if there was no split version, how could it be being used? :)
[02:42:48] <jack> the rest of the patch is excellent
[02:42:56] <erickt1> :)
[02:43:19] <erickt1> so you removed split_version, but another part of the code is using it. let me find the line...
[02:43:23] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[02:43:48] <jack> split_version_generic or whatever was still used
[02:43:59] <jack> but i'm not sure how it would pass all the tests if split_version was still used
[02:44:02] <jack> or compile for that matter
[02:44:24] <jack> or was it my patch that removed it in the first place? that would make some sense.
[02:44:30] <jack> perhaps cmr's later work started using it.
[02:45:08] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[02:46:24] *** Joins: jhass_000_ (jhass_000@moz-98CA82BA.ewe-ip-backbone.de)
[02:46:48] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[02:46:54] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[02:47:22] *** Quits: jhasse (jhass_000@moz-A59B5D6B.ewe-ip-backbone.de) (Ping timeout)
[02:47:33] *** Quits: jhass_000_ (jhass_000@moz-98CA82BA.ewe-ip-backbone.de) (Quit: Verlassend)
[02:47:41] *** Joins: jhasse (jhass_000@moz-98CA82BA.ewe-ip-backbone.de)
[02:48:23] <erickt1> jack: it's getting used here: https://github.com/mozilla/rust/blob/master/src/librustpkg/path_util.rs#L299
[02:49:09] <erickt1> florian hahn added it in #10696
[02:49:13] *** Quits: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP) (Connection reset by peer)
[02:49:33] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[02:49:42] <erickt1> jack: https://github.com/mozilla/rust/pull/10696
[02:49:44] *** Joins: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net)
[02:50:47] <jack> since it's only used by system_library() maybe you could change it to do something different there?
[02:51:02] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[02:51:21] <jack> it's up to you though. i don't feel strongly about it other than liking more negative diff stats
[02:51:40] <erickt1> heh
[02:51:52] <erickt1> i'll see if I can squash it
[02:52:32] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[02:53:12] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[02:54:11] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[02:54:33] *** Joins: smvv (smvv@moz-A397289C.xlshosting.net)
[02:54:39] *** Quits: Krymise (Nietzsche@moz-CA789EF5.nwrknj.fios.verizon.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[02:54:48] *** Quits: int3_ (int3_@moz-F8268CB6.pool-182-52.dynamic.totbb.net) (Client exited)
[02:56:14] <erickt1> jack: do you know how rustpkg and crate_id is supposed to interact? If so, is this the proper way to express a crate_id? https://github.com/erickt/rust-zmq/blob/master/src/zmq/lib.rs#L3
[02:57:09] <erickt1> and then I'm not sure how I'm supposed to use that crate id. doing `extern mod zmq = "github.com/erickt/rust-zmq#zmq";` doesn't seem to work
[02:57:23] *** Quits: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca) (Input/output error)
[02:57:50] <erickt1> I get `assertion failed: pkg_src.start_dir.join(p).exists()`
[02:58:35] *** Joins: twi (Adium@moz-174339A4.cust.dsl.vodafone.it)
[02:59:38] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[02:59:51] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[02:59:51] <erickt1> ooh, it seems that doing `extern mod zmq = "github.com/erickt/rust-zmq/src/zmq"` might work
[03:00:18] *** Quits: twi (Adium@moz-174339A4.cust.dsl.vodafone.it) (Ping timeout)
[03:00:22] <sfackler> erickt1: yeah, that's what you should do
[03:00:42] <sfackler> the #zmq names the binary libzmq-... instead of librust-zmq-...
[03:00:55] <erickt1> erg, I `rm -r .rust` and now I can't get it to work
[03:01:51] <jack> erickt1: yes, that crate_id is correct.
[03:02:07] <jack> rustpkg unfortunately infers the crate name from the path
[03:02:12] <jack> the parsing of the crate id happens much later.
[03:02:30] <jack> so the crate_id it infers doesn't match what is in teh file
[03:02:59] <jack> if the crate name and the path are equals, rustpkg works fine.
[03:03:07] <erickt1> how do I use it then? starting fresh, I do `extern mod zmq = "github.com/erickt/rust-zmq/src/zmq";` I get this error: Package elasticsearch depends on github.com/erickt/rust-zmq/src/zmq, but I don't know how to find it
[03:03:10] <jack> but if inference disagrees with crate_id that is in lib.rs, it will break.
[03:03:34] <jack> ou can't do that because rustpkg will look for the package "zmq"
[03:03:48] <jack> if you want to use rustpkg the file path and the crate name have to be the same.
[03:03:54] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[03:04:21] <jack> it makes sense if you think about how it has to find the package. 
[03:04:32] <jack> how does it know bar is in the baz directory?
[03:05:58] <erickt1> jack: yeah. Do you know how I would write the `extern mod` to get zmq to work?
[03:06:06] <jack> i suspect if your directory layout is $WORKSPACE/src/github.com/erickt/rust-zmq/src/zmq/lib.rs then that would work.
[03:06:25] <erickt1> It is that
[03:06:27] *** Joins: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP)
[03:07:03] <jack> extern mod = "github.com/erickt/rust-zmq#zmq:$VERSION" will work fine for extern mod
[03:07:03] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Quit: )
[03:07:14] <jack> the issue is that rustpkg is building rust-zmq not zmq
[03:07:15] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[03:07:42] <jack> there is probably a librust-zmq-$HASH-$VERSION.so in your workspace.
[03:07:46] <erickt1> jack: I'm still getting `Package elasticsearch depends on github.com/erickt/rust-zmq, but I don't know how to find it`
[03:08:02] <jack> if you want it to work with rustpkg, use extern mod zmq = "github.com/erickt/rust-zmq"
[03:08:16] <jack> then it will bind the name zmq to the librust-zmq library
[03:08:21] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[03:08:39] <jack> are you getting that from rustpkg?
[03:08:40] <erickt1> jack: ah, right thats where I get `'assertion failed: pkg_src.start_dir.join(p).exists()', /Users/erickt/rust/rust-master/src/librustpkg/lib.rs:533` :)
[03:08:44] <erickt1> yeah
[03:08:57] <erickt1> that error is when I just do `extern mod "github.com/erickt/rust-zmq"`
[03:09:15] <jack> i think the rust compile writes the manually specified metadata to the crate
[03:09:27] <jack> so it's named librust-zmq and the metadata claims it's zmq
[03:09:50] <jack> you'll have to change your manual crate_id in lib.rs to .../rust-zmq
[03:09:57] <jack> where .. is that github path
[03:10:04] <erickt1> ok I'll try that
[03:10:34] *** Quits: ziad (ziad@B20586FB.BDB3D91.6E370BFC.IP) (Quit: ziad)
[03:10:50] *** Joins: int3_ (int3_@moz-F8268CB6.pool-182-52.dynamic.totbb.net)
[03:11:02] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[03:11:04] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[03:11:52] <erickt1> shucks, still getting an error
[03:12:01] <erickt1> jack: did you mean this? https://github.com/erickt/rust-zmq/blob/master/src/zmq/lib.rs#L3
[03:13:09] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[03:13:14] <jack> PATH#VERSION
[03:13:18] <jack> or PATH#NAME:VERSION
[03:13:29] <jack> PATH:VERSION is jsut a weird path :)
[03:14:06] <erickt1> oops
[03:14:22] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[03:15:19] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[03:15:19] *** ChanServ sets mode: +ao pcwalton pcwalton
[03:16:39] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[03:17:20] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[03:18:24] <erickt1> jack: still getting an error. I made a simple gist to demonstrate what I'm doing: https://gist.github.com/erickt/8251120
[03:18:44] *** Quits: TobiasFar (tm@moz-A929D162.flosoft-servers.net) (Ping timeout)
[03:19:02] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[03:19:11] *** Joins: TobiasFar (tm@moz-A929D162.flosoft-servers.net)
[03:19:20] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[03:19:35] <jack> erickt1: can you add the output of find $WORKSPACE to your gist and pint me to your lib.rs?
[03:20:13] <erickt1> jack: as in `find .rust`?
[03:20:24] <jack> sre
[03:20:25] <jack> sure
[03:20:34] <jack> are you not building in a workspace?
[03:20:59] *** Joins: Guest_ (textual@moz-60679625.socal.res.rr.com)
[03:21:06] <erickt1> I just made a `tmp3` directory
[03:21:09] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[03:21:11] <erickt1> I added the output to https://gist.github.com/erickt/8251120
[03:21:29] <erickt1> how does one make a workspace?
[03:21:38] *** Quits: Guest_ (textual@moz-60679625.socal.res.rr.com) (Quit: Textual IRC Client: www.textualapp.com)
[03:21:46] *** Joins: Guest_ (ramitos@moz-60679625.socal.res.rr.com)
[03:22:13] <erickt1> I thought workspace was just the directory you are in, or whatever $RUST_PATH is set to
[03:22:23] *** Quits: int3_ (int3_@moz-F8268CB6.pool-182-52.dynamic.totbb.net) (Client exited)
[03:22:59] <achin> do you have $RUST_PATH set?
[03:23:05] <erickt1> nope
[03:23:06] *** Guest_ is now known as ramitos
[03:23:24] <achin> (because rustpkg doesn't install to the correct location is $RUST_PKG is set)
[03:25:01] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[03:25:10] <erickt1> some day I really need to figure out how rustpkg is supposed to work :)
[03:25:11] *** Joins: atomical (atomical@moz-7BDC7D9E.c3-0.lem-ubr1.chi-lem.il.cable.rcn.com)
[03:25:29] <erickt1> anywho, I set $RUST_PATH=$HOME/.rust, but it didn't seem to help
[03:25:49] <achin> at one point i came close to understanding the theory of rustpkg.  i'm not sure i still do
[03:26:21] <achin> i'm just faking it until some of the bugs get sorted out
[03:26:46] <jack> a workspace is a directory containing src 
[03:27:15] <jack> mkdir -p $WORKSPACE/src; cd $WORKSPACE; rustpkg install github.com/erickt/rust-zmq
[03:27:59] <jack> that would download and install rust-zmq to $WORKSPACE. binary would be in $WORKSPACE/bin, lib in $WORKSPACE/lib/$TARGET/*.so etc
[03:28:29] <jack> i think i fyou try to build without a workspace, rustpkg crates one for you in .rust
[03:28:39] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[03:28:44] *** Quits: nfroidure (nfroidure@moz-7EFE7A4F.w90-18.abo.wanadoo.fr) (Ping timeout)
[03:29:10] <erickt1> jack: I think you're right
[03:29:33] *** Joins: z0w0 (zack@moz-A79E7E7D.lnse4.cha.bigpond.net.au)
[03:29:34] <erickt1> ack, so I made a fresh directory and tried to do `rustpkg install github.com/erickt/rust-zmq` and got `error: Package github.com/erickt/rust-zmq depends on zmq, but I don't know how to find it`
[03:29:44] * erickt1 shakes fist at rustpkg
[03:29:54] <jack> do you have an unqualified extern mod zmq?
[03:30:11] <erickt1> jack: in rust-zmq?
[03:30:35] *** Quits: a_m0d|home (a_m0d@moz-322A4DE4.acanac.net) (Quit: Leaving.)
[03:30:38] <erickt1> jack: oh, my tests in rust-zmq do have an unqualified extern mod zmq
[03:31:00] <achin> i've seen that particular error when the directory containing lib.rs doesn't match the crate_id specified in lib.rs.  dunno if that's the case here
[03:31:30] *** Joins: int3_ (int3_@moz-F8268CB6.pool-182-52.dynamic.totbb.net)
[03:31:44] <jack> that src/zmq thing is what some people did to try and get around the worksapce thing
[03:31:52] <jack> i think it just confuses things :)
[03:32:08] <jack> glfw-rs has src/glfw, etc
[03:32:21] <jack> that sort of turns the github repo into it's own workspace
[03:32:36] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[03:32:40] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[03:32:40] <achin> it makes sense to me that the directory name shouldn't matter
[03:32:44] <jack> but then rustpkg doesn't really do interior crates well
[03:33:05] *** Quits: elux (peter@moz-6B45ADE5.dsl.bell.ca) (Quit: Leaving...)
[03:33:05] <jack> achin: then don't use rustpkg. the whole point of rustpkg's design was to be based on conventions and not specified manually
[03:33:08] <bjz> jack: that is useful when you want to include an external testsuite and examples, or a tool like the gl loader generator
[03:33:33] <jack> i think our idea about that design was not super well thought out and practice has shown that it doesn't do what people want.
[03:33:48] <bjz> yeah :(
[03:33:48] <achin> jack: sorry, i missed your point.  why shouldn't i use rustpkg?
[03:33:59] *** Joins: elux (peter@moz-6B45ADE5.dsl.bell.ca)
[03:34:08] <jack> lots of people are doing c wrappers with repos names that don't match the library names, which is an edge case for rustpkg
[03:34:20] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[03:34:24] <jack> or code genrators that run as a pre-build step
[03:34:40] <jack> rustpkg works well for things like github.com/mozilla-servo/rust-geom
[03:34:51] <jack> and things that depend on packages like that
[03:35:25] <jack> achin: sorry. i probably just misinterpreted your comment.
[03:35:40] <jack> the directory name shouldn't matter is one possible design, but not the one rustpkg chose.
[03:35:55] <jack> s/chose/currently uses/
[03:36:08] *** Quits: zz_kimundi (kimundi@moz-6316CA96.dip0.t-ipconnect.de) (Ping timeout)
[03:36:45] <achin> jack: ah.  i had thought that rustpkg was designed to account for arbitrary directory names, but the fact that it didn't at the moment was just a bug.  i had misunderstood rustpkg then
[03:36:57] <bjz> jack: that's what I thought rustpkg was using when I first set up my libs, but I was mistaken
[03:37:06] <bjz> jack: led to lots of issues
[03:37:32] <jack> achin: will it might be a bug. but certainly the intent was to make a decentralized system that had very little manual specification
[03:37:38] *** Joins: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP)
[03:37:53] <jack> so for example, you need to know where to find the package by its idea to avoid the need for centralized package repo
[03:38:04] <bjz> jack: got confused when tjc was talking about the 'workspaces'
[03:38:08] <jack> finding a package when the library and repo name don't match is not super easy
[03:38:32] <erickt1> or when a repo contains multiple libraries
[03:38:37] <jack> exactly :)
[03:38:42] <bjz> yep
[03:39:00] <jack> so we all thought it sounded great until we discovered all the edge cases
[03:39:07] *** Joins: ptc (Adium@moz-192425C4.nyc.res.rr.com)
[03:39:07] <jack> and so now we're trying to think of solutions.
[03:39:12] <achin> maybe i'm coming at this from the wrong point-of-view.  i was primarily viewing rustpkg (and workspaces) via the virtualenv lense (from python)
[03:39:14] <bjz> couldn't we do something with the `github.com/bjz/glfw-rs#glfw:0.1` syntax?
[03:39:20] <jack> but mostly everyone is busy with other things.
[03:39:23] *** Quits: gkostyanikov (gkostyanik@EEC1CBAC.3E410295.CA6E2165.IP) (Ping timeout)
[03:39:46] *** Joins: zz_kimundi (kimundi@moz-A0790602.dip0.t-ipconnect.de)
[03:39:52] <jack> bjz: one reason we liked that syntax was that it potentially enables a solution to multi-crate repos and such
[03:40:02] *** zz_kimundi is now known as kimundi
[03:40:05] <bjz> seeing that could be seen as a path to /src/glfw
[03:40:08] <jack> but as erickt is finding out, rustpkg infers all this information before it even reads lib.rs
[03:40:21] <erickt1> bjz: yeah, I thought that's what it was supposed to d
[03:40:22] <erickt1> do
[03:40:26] <jack> so it's going to take a bit of a refactor before rustpkg itself is able to do anything with it
[03:40:31] <bjz> ahh
[03:40:37] <bjz> could that be possible?
[03:40:53] *** Quits: ptc (Adium@moz-192425C4.nyc.res.rr.com) (Ping timeout)
[03:40:56] <jack> sure. i actually started doing it then realized it was a bit of work and had other things to do
[03:41:07] <bjz> ahh
[03:41:20] <itdaniher> Is it possible to directly call a LLVM intrensic from rust?
[03:41:21] <bjz> it would be super nice not to have to deal with cmake or make
[03:41:34] <itdaniher> I'm tracking down issues with floating point math on arm hardfloat
[03:41:47] <bjz> itdaniher: there are some intrinsics in std::unstable::intrinsics
[03:41:48] <erickt1> itdaniher: theoretically. I think you need to modify rust proper to expose it though
[03:41:52] <bjz> not all though
[03:42:14] <bjz> itdaniher: would be nice if there was an llvm!(), but we don't have that atm
[03:42:14] <itdaniher> log10 returns zero for all f32 / f64 inputs on armhf
[03:42:20] <bvssvni> I have some problems calling a proc on a &mut struct https://gist.github.com/bvssvni/8251339
[03:42:43] <itdaniher> kind of a dealbreaker, so something I'm working on tracking down
[03:42:47] <bjz> itdaniher: dang
[03:42:48] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[03:43:04] <bjz> itdaniher: big meta issue here: https://github.com/mozilla/rust/issues/4819
[03:43:07] <itdaniher> issue number 10482 - very much a wip
[03:43:24] <bjz> itdaniher: we'd most appreciate knowledgable folks contributing
[03:43:35] <bjz> and adding important test cases
[03:43:46] <itdaniher> I can't claim to be knowledgable, but I'm trying to contribute
[03:44:13] *** Joins: nfroidure (nfroidure@moz-FEF2D22A.w90-18.abo.wanadoo.fr)
[03:44:19] <bjz> yeah, well I'm not completely knowledgable, but I did lots of work on std::num (which I still think needs a relook)
[03:44:34] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[03:44:52] * bjz has unfortunately found it 'good enough', so hasn't spent the time on it
[03:44:56] <sfackler> bvssvni: procs can only be called once so the compiler needs to be able to destroy the Expr struct after run is called on it
[03:45:04] <sfackler> but that can't happen since you aren't passing ownership
[03:45:08] <erickt1> well bedtime for me, gnight all
[03:45:08] <bjz> needs to be polished before 1.0
[03:45:13] <itdaniher> yeah
[03:45:19] *** Quits: erickt1 (Adium@moz-4B000CB7.dyn.optonline.net) (Quit: Leaving.)
[03:45:30] <itdaniher> I've done cool stuff with what's already in std::num, so thanks for your work on that
[03:46:15] *** Quits: zmthy (Tim@moz-70178026.dsl.dyn.ihug.co.nz) (Ping timeout)
[03:46:17] *** Quits: int3_ (int3_@moz-F8268CB6.pool-182-52.dynamic.totbb.net) (Client exited)
[03:46:55] <bvssvni> sfackler: look closer, it replaces the proc with a new generated from the old proc
[03:47:41] <sfackler> right, but that's not how the compiler sees it
[03:47:58] <bvssvni> sfackler: it works outside the function
[03:48:39] <bvssvni> sfackler: I am just trying to write a function to make it look less like a mess
[03:49:01] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[03:50:06] <itdaniher> oh this isn't cool - std::unstable::intrinsics::log10f32 returns 0 too, so it may be a llvm issue...
[03:50:08] <bvssvni> sfackler: I think the issue is calling the proc on a pointer instead of a stack variable
[03:51:01] <strcat> itdaniher: look at the LLVM IR, see if anything is wrong
[03:51:49] <strcat> itdaniher: or do 'extern { #[link_name = "llvm.log.f32"] fn logf(x: f32) -> f32; }' instead
[03:52:10] *** Quits: Ferreus (ferreus@moz-B61A3042.pools.arcor-ip.net) (Quit: WeeChat 0.4.2)
[03:54:04] *** Quits: Earnestly (earnest@88884C6.A3735F9C.39C00A7A.IP) (Ping timeout)
[03:54:32] *** Quits: elux (peter@moz-6B45ADE5.dsl.bell.ca) (Quit: Leaving...)
[03:54:40] *** Quits: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net) (Ping timeout)
[03:55:53] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[03:56:06] *** Quits: Reisen (m@moz-A0F67AD4.org) (Ping timeout)
[03:56:08] <itdaniher> %1 = call float @llvm.log10.f32(float 1.000000e+02)
[03:56:30] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[03:56:38] <itdaniher> looks about right
[03:56:51] *** Quits: Zuchto (chat@moz-1FF744E2.members.linode.com) (Ping timeout)
[03:56:58] *** Quits: whitequark (whitequark@moz-BC42D267.whitequark.org) (Ping timeout)
[03:57:10] *** Quits: robertknight (robertknig@moz-DF72422D.members.linode.com) (Ping timeout)
[03:57:19] *** Quits: tgummerer (tgummerer@moz-582025B2.members.linode.com) (Ping timeout)
[03:57:32] *** Quits: ianj (ianjneu@moz-7BA002E.hsd1.ma.comcast.net) (Quit: leaving)
[03:57:34] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[03:57:34] *** Quits: XgF (quassel@moz-86690AAD.london1.uk.e43.eu) (Ping timeout)
[03:57:56] *** Quits: mrmonday (mrmonday@moz-C7DC1A73.lin.openzula.org) (Ping timeout)
[03:57:57] *** Joins: Guest_ (textual@moz-30B6C3D1.lightspeed.rsbgtx.sbcglobal.net)
[03:59:20] *** Joins: twi (Adium@moz-174339A4.cust.dsl.vodafone.it)
[04:00:04] *** Quits: vosen (vosen@moz-266BA656.icpnet.pl) (Quit: Leaving)
[04:00:05] *** Quits: qlkzy (qlkzy@moz-A97B5CE9.members.linode.com) (Quit: ZNC - http://znc.sourceforge.net)
[04:00:11] *** Joins: qlkzy (qlkzy@moz-A97B5CE9.members.linode.com)
[04:00:15] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[04:00:21] *** Joins: whitequark (whitequark@moz-BC42D267.whitequark.org)
[04:00:44] *** Joins: XgF (quassel@moz-86690AAD.london1.uk.e43.eu)
[04:00:49] <itdaniher> what's the lowest overhead way to dump ascii to stdout?
[04:00:51] *** Joins: Reisen (m@moz-A0F67AD4.org)
[04:00:52] *** Joins: tgummerer (tgummerer@moz-582025B2.members.linode.com)
[04:01:00] *** Quits: twi (Adium@moz-174339A4.cust.dsl.vodafone.it) (Ping timeout)
[04:01:16] *** Joins: mrmonday (mrmonday@moz-C7DC1A73.lin.openzula.org)
[04:01:17] <itdaniher> println! involves a bunch of formatting overhead that makes it fairly difficult to read through the IR
[04:01:23] <strcat> itdaniher: println()
[04:01:36] *** Joins: robertknight (robertknig@moz-DF72422D.members.linode.com)
[04:01:41] <sfackler> itdaniher: or just io::stdout().write(buf)
[04:01:51] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[04:02:00] <strcat> although both still have vtables...
[04:02:46] <sfackler> itdaniher: though println will have lower overhead
[04:02:56] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[04:03:08] <FreeFull> The non-macro version doesn't do any formatting, just outputs a string
[04:03:28] <strcat> FreeFull: still has some layers of abstraction
[04:04:07] <jhasse> what formatting does the macro version do besides placing values in the string?
[04:04:07] *** Quits: tgummerer (tgummerer@moz-582025B2.members.linode.com) (Ping timeout)
[04:04:07] *** Quits: robertknight (robertknig@moz-DF72422D.members.linode.com) (Ping timeout)
[04:04:15] *** Quits: mrmonday (mrmonday@moz-C7DC1A73.lin.openzula.org) (Ping timeout)
[04:04:21] *** Quits: Reisen (m@moz-A0F67AD4.org) (Ping timeout)
[04:04:21] *** Quits: whitequark (whitequark@moz-BC42D267.whitequark.org) (Ping timeout)
[04:04:23] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[04:04:26] <sfackler> jhasse: the formatter is pretty powerful
[04:04:26] *** Joins: Addle (quassel@93529591.BA907378.971E19F6.IP)
[04:04:28] <strcat> jhasse: it doesn't place values in the string, it outputs directly in most cases
[04:04:36] *** Quits: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net) (Ping timeout)
[04:04:38] <sfackler> http://static.rust-lang.org/doc/master/std/fmt/index.html
[04:04:43] *** Quits: qlkzy (qlkzy@moz-A97B5CE9.members.linode.com) (Ping timeout)
[04:04:51] <strcat> a binary calling println is 1.3MiB with LTO
[04:04:51] *** Quits: Amanieu (amanieu@10FEE2FD.ECEF57A4.2CFD4520.IP) (Client exited)
[04:05:30] <jhasse> what I mean is: Why isn't format!(a) == a?
[04:05:37] *** Joins: zmthy (Tim@moz-70178026.dsl.dyn.ihug.co.nz)
[04:05:58] *** Quits: h3r3tic (heretic@moz-8BC3B3DB.se) (Ping timeout)
[04:06:05] <strcat> jhasse: format! allocates a string, println! doesn't
[04:06:09] *** Quits: Addle (quassel@93529591.BA907378.971E19F6.IP) (Ping timeout)
[04:06:24] *** Quits: XgF (quassel@moz-86690AAD.london1.uk.e43.eu) (Quit: No Ping reply in 180 seconds.)
[04:06:48] <jhasse> strcat, so why not println!(a) == println(a)?
[04:06:58] <pcwalton> because the format string is checked at compile time
[04:07:02] <pcwalton> "a" can't be checked
[04:07:08] <pcwalton> because it's not a literal
[04:07:13] <pcwalton> well, a can't be checked
[04:07:15] <pcwalton> "a" can ;)
[04:07:15] <strcat> jhasse: probably not special cased if it's really not the same, have you checked?
[04:07:24] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[04:07:28] <strcat> there are endless special cases you can add
[04:07:48] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[04:07:51] *** Quits: ptrr (ptrr@48799E9.1D1EB2D6.85889BB1.IP) (Ping timeout)
[04:08:11] *** Joins: qlkzy (qlkzy@moz-A97B5CE9.members.linode.com)
[04:08:14] <jhasse> strcat, no, just wondering
[04:08:16] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[04:08:31] *** Quits: jpf (jan@moz-A8C26A15.org) (Ping timeout)
[04:08:39] *** Joins: XgF (quassel@moz-86690AAD.london1.uk.e43.eu)
[04:08:53] <strcat> jhasse: it takes extra work to add special cases, and unless println() was removed there's not much incentive to do that
[04:09:05] *** Quits: dbussink (dbussink@moz-E0A5568C.bussink.me) (Ping timeout)
[04:09:06] <strcat> if println was removed, then it would make sense to add the special case to println!
[04:09:07] *** Joins: robertknight (robertknig@moz-DF72422D.members.linode.com)
[04:09:10] *** Joins: eholk (eholk@moz-799DA9F.lsanca.fios.verizon.net)
[04:09:10] *** Joins: h3r3tic (heretic@moz-8BC3B3DB.se)
[04:09:18] *** Joins: bleibig (bleibig@moz-B4D9C5AF.hsd1.ca.comcast.net)
[04:09:37] <strcat> otherwise it's just a special-cased optimization for something that's harder to do than the fast way
[04:09:58] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[04:10:04] *** Joins: dbussink (dbussink@moz-E0A5568C.bussink.me)
[04:10:08] <jhasse> ah ic. I was thinking about runtime, sry
[04:10:21] *** Joins: Addle (quassel@93529591.BA907378.971E19F6.IP)
[04:10:23] *** Joins: Reisen (m@moz-A0F67AD4.org)
[04:10:28] *** Joins: tgummerer (tgummerer@moz-582025B2.members.linode.com)
[04:10:29] <jhasse> shouldn't have ignored that I don't know what IR means
[04:10:37] <strcat> LLVM isn't good at optimizing away vtables
[04:10:46] <strcat> neither is gcc
[04:11:04] *** Joins: whitequark (whitequark@moz-BC42D267.whitequark.org)
[04:11:04] *** Joins: Amanieu (amanieu@10FEE2FD.ECEF57A4.2CFD4520.IP)
[04:11:06] *** Joins: ptc (Adium@moz-192425C4.nyc.res.rr.com)
[04:11:09] *** Joins: ptrr (ptrr@48799E9.1D1EB2D6.85889BB1.IP)
[04:11:12] <strcat> hard problem, especially when rust isn't communicating any mutability/aliasing/type info
[04:11:53] *** Joins: jpf (jan@moz-A8C26A15.org)
[04:12:06] * pcwalton just had an evil idea for getting rid of ~[T]
[04:12:13] <pcwalton> make a Vec<T> which we'll need anyway for DST
[04:12:24] <pcwalton> convert everything over to it (everything!) so that there is no ~[T] left
[04:12:29] <pcwalton> then change ~[T]'s representation
[04:12:33] <pcwalton> now that nothing is using it anymore
[04:12:48] <strcat> pcwalton: doing something about gc needs to happen first
[04:12:55] *** Quits: eholk (eholk@moz-799DA9F.lsanca.fios.verizon.net) (Quit: eholk)
[04:12:59] <achin> man, rust is pretty magical in automatically figuring out types
[04:13:07] <pcwalton> strcat: I plan to do the Gc<> switch first.
[04:13:15] <pcwalton> maybe we can switch to Boehm then. ;)
[04:13:20] *** Joins: mrmonday (mrmonday@moz-C7DC1A73.lin.openzula.org)
[04:13:29] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[04:13:35] <bvssvni> achin: sometimes it feels like abuse of the compiler
[04:14:35] *** Quits: zmthy (Tim@moz-70178026.dsl.dyn.ihug.co.nz) (Ping timeout)
[04:14:37] <achin> you can glue together 20 things, and only specifying types at the start and end, and *presto* rustc has got it all figured out
[04:14:44] *** Quits: ptc (Adium@moz-192425C4.nyc.res.rr.com) (Quit: Leaving.)
[04:14:48] <pcwalton> achin: H-M inference is awesome. :)
[04:14:58] * pcwalton idly wonders about stealing ML's syntax for := to make Cells more sugary
[04:15:06] <pcwalton> instead of overloading '='
[04:15:38] <achin> ahh, now i have a name to give to this glorious magic!
[04:16:23] *** Joins: zmthy (Tim@moz-70178026.dsl.dyn.ihug.co.nz)
[04:16:27] *** Quits: jhasse (jhass_000@moz-98CA82BA.ewe-ip-backbone.de) (Quit: Verlassend)
[04:16:48] <pcwalton> yay, tests passes
[04:16:58] <bvssvni> is there a way to prevent pointer from partially moving &mut in unsafe code, if it is guaranteed the pointer will be replaced?
[04:16:59] <itdaniher> okay so now with optimizations on it's optimizing log10.f32(100.0) to 2.0 E 0
[04:17:25] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[04:17:37] <itdaniher> and printing correctly
[04:17:56] <itdaniher> without optimizations, it calls log10.f32, gets 0, and prints that...
[04:18:06] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[04:18:40] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[04:18:45] *** Quits: sellout (Adium@moz-2ECB0660.hlrn.qwest.net) (Ping timeout)
[04:18:56] <strcat> itdaniher: and what does that look like in the asm?
[04:19:03] <strcat> the LLVM intrinsics just become libc calls
[04:19:08] <strcat> is it broken if you call libc yourself?
[04:19:19] <strcat> log10.f32 becomes log10f
[04:19:31] *** Joins: sellout (Adium@moz-2ECB0660.hlrn.qwest.net)
[04:19:31] <strcat> maybe your libm's C99 support doesn't work
[04:19:53] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[04:20:12] <strcat> considering that TLS generally doesn't work on android and fallocate is broken in most linux libc that aren't glibc, it's not really surprising
[04:20:22] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[04:20:35] <strcat> but rust assumes a working C99
[04:20:40] <strcat> (as does LLVM)
[04:20:50] <bvssvni> when I write let (a, b) = f(); how can 'b' replace a mut?
[04:21:20] <bvssvni> without setting 'old_b = b;' on next line
[04:21:41] <strcat> bvssvni: it can't, let declares new variables
[04:21:51] <bvssvni> I got some code working, but would like to make it nicer looking :(
[04:23:07] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[04:23:08] *** Quits: zmthy (Tim@moz-70178026.dsl.dyn.ihug.co.nz) (Quit: leaving)
[04:23:37] <bvssvni> well, can't expect Rust to play along when I try exploit it
[04:23:51] <bjz> acrichto: how is the emulator?
[04:23:51] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[04:24:12] <bjz> acrichto: (you are not on #rust-gamedev? :P)
[04:24:33] *** Quits: Guest_ (textual@moz-30B6C3D1.lightspeed.rsbgtx.sbcglobal.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[04:24:41] <acrichto> bjz: I'm currently squashing cpu bugs (found some convenient test roms online), but I can play mario and pokemon!
[04:24:50] *** Joins: leaper (Mibbit@moz-6E6489F7.wi.res.rr.com)
[04:24:51] <bjz> ahh, nice
[04:25:02] <brson> acrichto: you're making an emu too?!
[04:25:04] <brson> what system?
[04:25:10] *** Quits: leaper (Mibbit@moz-6E6489F7.wi.res.rr.com) (Quit: http://www.mibbit.com ajax IRC Client)
[04:25:18] <itdaniher> strcat: libm's log10f works fine
[04:25:20] <bjz> brson: acrichto is insanely productive o_o
[04:25:26] <acrichto> brson: gambeoy/gameboy color
[04:25:27] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[04:25:33] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[04:25:36] <acrichto> brson: https://github.com/alexcrichton/jba/tree/rust
[04:25:44] <strcat> itdaniher: does it work if you call the LLVM intrinsic directly?
[04:25:54] <pcwalton> oh man
[04:25:56] <pcwalton> unit tests
[04:25:59] <pcwalton> puts my emulator to shame
[04:25:59] * bjz is still confused
[04:26:16] <acrichto> pcwalton: oh no I just found some roms that baiscally test the cpu and then print whether it works or not, super convenient
[04:26:21] <bjz> pcwalton: he is using opengl!
[04:26:26] <pcwalton> https://github.com/alexcrichton/jba/blob/rust/src/mem.rs
[04:26:32] <pcwalton> looks like unit tests to me
[04:26:34] <pcwalton> acrichto: yeah, I used nestest.nes
[04:26:34] <acrichto> pcwalton: https://github.com/dbousamra/scalagb/tree/master/roms/individual
[04:26:36] *** Joins: maxiepoo (mnew@moz-6F50ADE.hsd1.il.comcast.net)
[04:26:38] <acrichto> oh yeah that too :P
[04:26:46] <pcwalton> I want to write an SNES or N64 at some point
[04:26:48] <acrichto> pcwalton: don't worry, I wrote this all in JS awhile back and I just copied over all hte tests
[04:26:51] <pcwalton> but I think that'll be a post 1.0 thing
[04:27:23] <achin> sytlistically, do i write `box"hi"`  or `box "hi"` ?
[04:27:25] <pcwalton> N64 is interesting because it actually stresses the CPU so it'll be a good test of rustc code generation
[04:27:44] <pcwalton> although you need dynarec for good performance and… bleu :(
[04:27:45] <pcwalton> bleh :(
[04:28:11] <sfackler> achin: I'd go for box "hi" personally
[04:28:23] <pcwalton> I write "hi".to_str() :)
[04:28:40] <bvssvni> haha
[04:28:52] <acrichto> pcwalton: yeah I was at like 50% cpu usage with the JS version and the rust version is flat at 5% with 0 optimizations
[04:28:56] <pcwalton> the dead code eliminator is a joy
[04:29:03] <pcwalton> when removing stuff from the language
[04:29:11] *** Joins: Guest_ (textual@moz-30B6C3D1.lightspeed.rsbgtx.sbcglobal.net)
[04:29:17] <pcwalton> take out all the patterns with the variant you're removing from the AST, then look at the resulting dead code
[04:30:03] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[04:30:09] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[04:30:28] <achin> i suppose the space is neccessary;  `box4` just looks weird
[04:31:34] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[04:32:46] *** Joins: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net)
[04:34:03] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[04:37:40] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[04:39:15] *** Quits: FreeFull (freefull@moz-9ADF20E6.as13285.net) (Ping timeout)
[04:39:23] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[04:39:56] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[04:40:54] <bvssvni> is #[feature(macro_rules)] disabled in master?
[04:41:23] <sfackler> no?
[04:41:52] <sfackler> it's a crate level attribute
[04:41:56] *** Joins: FreeFull (freefull@moz-60066810.as13285.net)
[04:42:00] <bvssvni> strange, I get an error
[04:42:25] <bvssvni> error: macro definitions are not stable enough for use and are subject to change
[04:43:38] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[04:46:02] *** Quits: FreeFull (freefull@moz-60066810.as13285.net) (Ping timeout)
[04:46:13] <bvssvni> will try upgrading
[04:47:28] <sfackler> bvssvni: are you putting #[feature(macro_rules)]; as a crate level attribute?
[04:47:32] <sfackler> that's the only place it'll work
[04:47:33] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[04:48:56] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[04:50:50] <bvssvni> sfackler: yes
[04:51:11] <bvssvni> sfackler: still gets the error, so maybe I should upgrade Rust
[04:52:27] *** Quits: maxiepoo (mnew@moz-6F50ADE.hsd1.il.comcast.net) (Quit: Leaving)
[04:52:31] <sfackler> post your source?
[04:52:44] *** Joins: mib_pnj8bg (Mibbit@moz-18807CA.hsd1.il.comcast.net)
[04:53:20] *** Joins: maxiepoo (mnew@moz-6F50ADE.hsd1.il.comcast.net)
[04:53:28] *** Quits: mib_pnj8bg (Mibbit@moz-18807CA.hsd1.il.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[04:54:56] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[04:55:28] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[04:56:47] <bvssvni> sfackler: https://gist.github.com/bvssvni/8251925
[04:56:59] <sfackler> bvssvni: line 1 is missing a ;
[04:57:19] <bvssvni> sfakler: thanks :)
[04:57:59] *** Quits: josh (josh@moz-357ADCEA.hsd1.mn.comcast.net) (Quit: josh)
[04:58:04] <achin> how can one figure out if a semi-colon is needed after a #[directive] ?
[04:58:23] <enix> I'm starting to think that no one super jazzed about iterator renaming proposals. Lol, I'm a bit sick of it myself, I just want to get rid of the eyesore I introduced: MutChunkIter!
[04:59:05] <sfackler> achin: these are the same: "#[foo] mod bar { ... }" and "mod bar { #[foo]; ... }"
[04:59:08] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[04:59:21] <sfackler> the syntax is getting overhauled because it ends up tripping people up all the time
[05:00:06] *** Joins: twi (Adium@moz-174339A4.cust.dsl.vodafone.it)
[05:01:04] <brson> somebody who maths: what's a trivial way to implement exp10 based on some other libm function i'm likely to have?
[05:01:23] <achin> but "#[foo] mod bar {... }" seems to not be correct (right? isn't that the problem bvssvni had?)
[05:01:47] *** Quits: twi (Adium@moz-174339A4.cust.dsl.vodafone.it) (Ping timeout)
[05:01:50] <SiegeLord> Err... pow(10, foo)?
[05:01:51] *** Joins: twi (Adium@moz-174339A4.cust.dsl.vodafone.it)
[05:02:08] <brson> SiegeLord: thanks
[05:02:14] <achin> (oh, no, maybe i am over-generlizing)
[05:02:22] <sfackler> achin: "#[feature(macro_rules)] extern mod extra; ... " attaches the attribute to the extern mod statement
[05:03:05] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[05:03:16] <achin> so "no semicolon" means "attach to the next thing in the file"  while "semicolon" means "attach to the thing i am in"
[05:03:35] *** Quits: twi (Adium@moz-174339A4.cust.dsl.vodafone.it) (Ping timeout)
[05:03:45] <sfackler> yeah
[05:03:48] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[05:03:55] <sfackler> the terms are inner vs outer attributes
[05:04:05] <achin> ok, that makes sense
[05:04:15] <bvssvni> maybe there should be a reminder in the warning (remember to put ';' after it!)
[05:04:25] <pcwalton> acrichto: can all those macros in imp::exec to be functions?
[05:04:31] <pcwalton> they're functions in my emulator and they inline quite well
[05:04:47] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[05:05:14] <acrichto> pcwalton: maybe, I initially wrote this with a ruby file that codgens a JS file, so I just kept the same tactic
[05:05:19] *** Quits: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca) (Quit: ChatZilla 0.9.90.1 [Firefox 27.0/20131216183647])
[05:05:27] <acrichto> I suppose if I used &mut u8 it'd all be pretty easy
[05:05:30] <pcwalton> yeah
[05:06:20] <pcwalton> yuck, your CPU has BCD
[05:06:44] <pcwalton> acrichto: fun fact: you can just asm!("daa") if you want ;)
[05:06:51] <pcwalton> x86 has BCD too
[05:06:58] <acrichto> pcwalton: whoa! I have no idea what daa even does
[05:07:04] <pcwalton> I assume it's the same as x86
[05:07:09] <acrichto> I copied a lot of stuff with skimpy docs from other emulators
[05:07:09] <pcwalton> converts decimal to BCD after addition
[05:07:16] <pcwalton> Decimal Adjust after Addition
[05:07:21] <acrichto> lol that sounds awful
[05:07:25] <pcwalton> it's terrible
[05:07:39] <pcwalton> but if your CPU has no divide instruction it's nice for storing stuff like score
[05:07:46] <pcwalton> that you need to display
[05:07:50] <pcwalton> because dividing by 10 is awful
[05:07:55] <acrichto> yeah I guess so
[05:08:03] <pcwalton> (multiplying by 10 is easy, just multiply by 8, multiply by 2, and add)
[05:08:10] <pcwalton> (and those multiplies can be shifts)
[05:08:41] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[05:08:53] <acrichto> argh I just fixed a whole slew of cpu bugs and mario still looks silly
[05:09:17] <pcwalton> does it boot?
[05:09:30] <acrichto> ah yeah it's just a few roms I have
[05:09:40] <acrichto> pokemon boots but has a weird line in the beginning that goes away
[05:09:48] <acrichto> and mario all just looks super weird
[05:10:10] <acrichto> I also need to get double speed working b/c waiting for these screens is taking forever
[05:10:10] <pcwalton> timing issues maybe
[05:10:25] <pcwalton> weird lines are often cycle counting inaccuracies
[05:10:31] <acrichto> bjz: I meant to ask you, for glfw, can I get poll_events() to return faster than 60fps?
[05:10:39] <acrichto> pcwalton: I wouldn't doubt that I have lots of timing bugs...
[05:10:39] <pcwalton> if it looks weird but playable it's probably the GPU
[05:10:50] <bjz> acrichto: talk on #rust-gamedev?
[05:10:51] <pcwalton> sprocketnes has *very* inaccurate timing
[05:11:48] <pcwalton> battletoads has no hope of working
[05:11:54] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[05:11:57] *** Joins: FreeFull (freefull@moz-ED1A7B62.as13285.net)
[05:12:03] *** Joins: elux (peter@moz-6B45ADE5.dsl.bell.ca)
[05:15:13] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[05:18:04] *** Joins: ercxx (ercan@moz-88DD3A7E.dyn.optonline.net)
[05:18:50] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[05:19:08] <ercxx> How do I use different types for a Chan and Port? Like Chan<T>,Port<U> ?
[05:19:37] *** Joins: Ralith_ (ralith@114DA04D.CD83ED0A.BCDF04A6.IP)
[05:19:53] *** Quits: Ralith (ralith@114DA04D.CD83ED0A.BCDF04A6.IP) (Ping timeout)
[05:20:14] <sfackler> ercxx: that doesn't really make sense. How can you give a T to a chan and have it come out the other end as a U?
[05:20:33] *** Quits: pyon (user@BCC41BDF.6C782DF8.1C8C8CE9.IP) (Quit: ERC Version 5.3 (IRC client for Emacs))
[05:20:36] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[05:20:36] *** Quits: tav (tav@moz-A8FFF7BF.range217-44.btcentralplus.com) (Ping timeout)
[05:20:37] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[05:20:57] <ercxx> hmmm, I don't. I just wanted to send something to a process, and get something else as a result.
[05:21:44] <sfackler> oh, then check out DuplexStream: http://static.rust-lang.org/doc/master/extra/comm/struct.DuplexStream.html
[05:22:03] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Quit: Leaving...)
[05:22:04] <ercxx> sfackler: Thank you.
[05:26:17] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[05:29:43] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[05:30:22] *** Quits: FreeFull (freefull@moz-ED1A7B62.as13285.net) (Ping timeout)
[05:31:27] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[05:32:27] *** Joins: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com)
[05:34:54] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[05:36:37] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[05:37:07] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[05:38:52] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[05:40:58] <cmr> jack: I don't recall using any split_version
[05:41:58] *** Joins: FreeFull (freefull@moz-43E81D5.as13285.net)
[05:42:19] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[05:42:21] <cmr> acrichto: brson: pcwalton: what are you working on? the last 50 or so lines look fascinating :)
[05:42:38] <pcwalton> cmr: acrichto is working on a game boy color emulator
[05:42:43] <cmr> ahhh
[05:43:06] <sfackler> the timing craziness is always the thing that keeps me from working on a game emulator
[05:43:19] <pcwalton> do DOS instead
[05:43:27] <pcwalton> of course, then you're writing an x86 emulator
[05:43:43] <sfackler> which is terrifying in a totally different way
[05:43:50] <cmr> which is crazier, x86 insn decode or timing issues? :p
[05:43:54] <sfackler> I was at one point working on a DCPU emulator
[05:44:02] *** Quits: paulproteus (quassel@199.199.210.158) (Ping timeout)
[05:44:02] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[05:44:06] <sfackler> x86 is infinitely terrifying from my experience
[05:44:20] <pcwalton> the timing for NES isn't too bad, just use the nestest.nes and use the log from nintendulator
[05:44:26] <sfackler> but the DCPU thing seems a bit less interesting now that 0x10c has been shelved
[05:44:27] <pcwalton> and tweak things until it matches
[05:44:30] <pcwalton> it has cycle counts on it
[05:44:50] <pcwalton> the PPU timing is really annoying though
[05:46:16] *** Joins: paulproteus (quassel@458FE134.3EC36C88.CBDCF1DC.IP)
[05:47:04] *** Quits: FreeFull (freefull@moz-43E81D5.as13285.net) (Ping timeout)
[05:47:31] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[05:49:12] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[05:50:26] *** Quits: Ralith_ (ralith@114DA04D.CD83ED0A.BCDF04A6.IP) (Ping timeout)
[05:51:03] *** Joins: DanR (DanR@moz-4C1E443F.clients.kiwiirc.com)
[05:51:33] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[05:51:36] <cmr> Well, I barely got anything Rust-related I wanted to do done these past 3 weeks, but I got some much-needed relaxation instead :)
[05:51:48] <DanR> Hi guys, I was reading up on pointers in Rust and I had a few questions about them
[05:51:59] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Connection reset by peer)
[05:52:13] <ziad>  /clear
[05:52:26] <bjz> DanR: o/
[05:52:32] <DanR> \o
[05:52:36] <achin> \o/
[05:52:44] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[05:52:44] <bjz> \o_
[05:52:45] <DanR> =D
[05:52:51] <bjz> _o/
[05:53:17] <cmr> DanR: ask away
[05:53:20] <bjz> DanR: ask away
[05:53:23] <bjz> oh
[05:53:27] <bjz> cmr: hah
[05:53:29] * cmr slaps bjz
[05:53:31] <achin> #rust people are the best people
[05:53:46] <DanR> So the thing is, when trying to implement a linked list, most guides seem to suggest that managed pointers (boxes, if you will) are the way to go
[05:53:49] * bjz slaps cmr with a big smelly fish
[05:53:54] <DanR> hahahaha
[05:54:15] * bjz pointed DanR to http://static.rust-lang.org/doc/master/tutorial.html#implementing-a-linked-list on freenode #rust
[05:54:21] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[05:54:31] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[05:54:33] <bjz> DanR: managed pointers are currently going throu reform
[05:54:45] *** Joins: negativezero (negativeze@moz-28BCB6CD.cit.cornell.edu)
[05:54:46] <bvssvni> bvssvni test
[05:54:51] <bjz> DanR: which might make things a tad ugly atm
[05:54:57] <bjz> bvssvni: IRC bot? :P
[05:55:15] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[05:55:15] <DanR> Ah, do you have resources about that?
[05:55:17] <cmr> DanR: well, it makes it easier since the GC will take care of memory management for you. It's just as silly as writing a linked list in python though.
[05:55:21] <bvssvni> bjz: no, trying to write like 'cmr slaps bjz'
[05:55:24] *** Joins: Zuchto (chat@moz-1FF744E2.members.linode.com)
[05:55:41] <bjz> bvssvni: /me <thing>
[05:55:49] * bvssvni test
[05:55:49] <cmr> bvssvni: `/me slaps bjz` is what I wrote to make that hppen :)
[05:56:06] <bjz> yay!
[05:56:22] <achin> i thought teh tutorial recommends owned pointers, not managed pointers
[05:56:33] <DanR> Well I'd imagine it doesn't have a big use case because Rust is a systems language that doesn't completely shun mutability, but coming from Haskell or Standard ML, this strikes me as a bit odd because you don't really get persistence anymore out of it, do you?
[05:56:35] <bjz> achin: older tutes would
[05:56:43] <DanR> sorry, my bad, owned pointers
[05:56:48] <cmr> Ah
[05:56:52] <DanR> That's what I meant to say
[05:57:01] <bjz> DanR: the issue is when your lifetimes are underfined
[05:57:09] <achin> ok, phew.  we still ahve consistency!
[05:57:12] <strcat> DanR: a linked list isn't going to be a common sight in rust
[05:57:14] <bjz> DanR: Rust can't resolve things statically
[05:57:46] <bjz> DanR: that's why functional languages that want to be nicely composable use GC
[05:57:51] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[05:57:56] <strcat> DanR: the one in the tutorial is a pedagogical exercise
[05:57:59] * bjz could have that wrong
[05:58:10] <bvssvni> DanR: maybe passing a life time constraint to a generic struct can make it possible to choose between box or managed
[05:58:19] <achin> most linked list implementations are :)
[05:58:34] <strcat> a singly linked list just isn't very useful - a ring buffer has O(1) amortized pop/push from either end, and O(1) indexing
[05:58:48] <negativezero> slightly to the point, is there any reasonable way of getting something to the effect of an a->a->b function in 0.8?
[05:59:05] <DanR> But let's say you *did* want a purely functional data structure - wouldn't you want a managed pointer?
[05:59:12] <negativezero> I tried doing what seemed like the most obvious thing and bluntly got told that "managed closures are not supported"
[05:59:24] <cmr> DanR: yes, you would want to use Gc<T>
[05:59:33] <strcat> well
[05:59:49] <strcat> for a linked list, Rc<T> probably makes a lot more sense
[05:59:59] <cmr> yeah
[06:00:00] <strcat> you can't make cycles in a persistent linked list in rust
[06:00:06] <strcat> without laziness
[06:00:14] <strcat> and laziness would require mutation
[06:00:17] <strcat> to do the thunk magic
[06:00:20] <pcwalton> Gc or Rc
[06:00:34] <pcwalton> you *can* make a doubly linked list in Rust, just use Rc
[06:00:39] <bjz> negativezero: please use 0.9-pre! :)
[06:00:49] <strcat> pcwalton: well you need Strong/Weak or Gc for a doubly-linked one
[06:01:00] <pcwalton> we need a FAQ that says "if you're learning unique pointers/lifetimes, don't try to make a doubly-linked list--you can't do it" :)
[06:01:16] <pcwalton> yes
[06:01:26] <pcwalton> I'm warming up to just having strong/weak as the only reference counted type
[06:01:28] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[06:01:32] <bjz> negativezero: but yes, @ is going - we are in a transition phase and managed stuff is a little ugly
[06:01:35] <strcat> pcwalton: probably as Rc/Weak though
[06:01:40] <negativezero> bjz: is that to say that it introduces something that would make it possible or just that it is pretty bad form to ask anything about "old" versions at all?
[06:01:41] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Quit: leaving)
[06:01:43] <achin> does the stdlib doubly linked list implementation use unsafe pointers?
[06:01:50] <pcwalton> it's a simplification and I kind of doubt the performance difference between RC-that-supports-strong and RC-that-doesn't-support-strong matters
[06:01:55] <cmr> achin: yes
[06:01:59] <pcwalton> especially since RC isn't used that much in Rust, only where needed
[06:02:12] <wycats_> do people use Rc?
[06:02:17] <cmr> wycats_: yes!
[06:02:19] <pcwalton> wycats_: sprocketnes does
[06:02:19] <strcat> achin: well, there isn't one in the stdlib, it's in libextra and will no doubt be dropped from the official repo
[06:02:23] <wycats_> interesting
[06:02:33] <strcat> wycats_: what else? @/@mut will be gone soon ;p
[06:02:34] <pcwalton> it doesn't have the easiest API right now.
[06:02:36] *** Joins: twi (Adium@moz-174339A4.cust.dsl.vodafone.it)
[06:02:42] <pcwalton> well, Gc is going to be the @ replacement
[06:02:50] <wycats_> I just use integer indexes into my own structures when regular ownership doesn't work
[06:02:52] <achin> oops, i misspoke. why will dlist be dropped from libextra?
[06:02:53] <strcat> pcwalton: Rc feels more like the @ replacement, since @ used refcounting
[06:02:54] <wycats_> works well
[06:03:04] <strcat> pcwalton: if we switched the compiler to Gc, it'd use an even more ridiculous amount of memory
[06:03:07] <pcwalton> strcat: but OTOH Gc doesn't move by default
[06:03:08] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[06:03:13] <cmr> achin: dlist won't be dropped, libextra will be.
[06:03:25] <cmr> achin: libextra is destined to be a curated set of crates.
[06:03:32] <pcwalton> eh, not necessarily. it could use less memory. depends on whether it's making cycles.
[06:03:45] <achin> cmr: ah, i see.  that makes more sense than dropping dlist :)
[06:03:50] <bjz> negativezero: it's more that you would be asking out of date questions. whilst the language changes are slowing down, there are some areas where work is still being done at a reasonable pace. managed boxes is one of tem. most of us have 0.9-pre in the front of our minds at the moment, and it pushes out our memory of previous versions
[06:03:52] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[06:04:04] <strcat> pcwalton: easy enough to add a check for cycles in stage1 when the task ends and bail out ;p
[06:04:14] <strcat> something like that
[06:04:17] <strcat> or just a bot doing it
[06:04:19] <pcwalton> we just need to use @ a lot less
[06:04:21] *** Quits: twi (Adium@moz-174339A4.cust.dsl.vodafone.it) (Ping timeout)
[06:04:22] <pcwalton> in the compiler
[06:04:24] <bjz> negativezero: does that make sense?
[06:04:26] <pcwalton> most of the uses are totally unnecessary.
[06:04:31] <strcat> @Block!
[06:04:34] <strcat> ;p
[06:04:38] <pcwalton> look at resolve
[06:04:38] <negativezero> bjz: I see. Makes sense, I'll update.
[06:04:40] <pcwalton> I know why I did that in resolve
[06:04:44] <bjz> negativezero: sorry!
[06:04:48] <pcwalton> it was because everything else was busted at the time I wrote resolve
[06:04:55] <pcwalton> so I used @ everywhere to work around compiler bugs
[06:05:01] <pcwalton> it needs to be really cleaned up
[06:05:07] <sfackler> a lot of the uses are hilariously unneccessary like "let foo = @SomeVisitor { ... }; visit::visit_crate(foo, crate);"
[06:05:21] <negativezero> bjz: That being said, is there a way of returning functions in 0.9-pre?
[06:05:33] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[06:05:38] <bjz> negativezero: don't be under the impression though that everything is constantly in a state of flux though - things have settled down quite a bit
[06:05:41] <pcwalton> procs
[06:06:00] <bjz> pcwalton: do |..|->Ts work?
[06:06:17] <cmr> negativezero: to your original question, though, what does a->a->b mean?
[06:06:20] <pcwalton> yes, assuming the "do" is part of your question and not part of the syntax :)
[06:06:40] <bjz> negativezero: does `a->a->b` mean a curried fn?
[06:06:40] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[06:06:46] <negativezero> cmr: A function taking a value of type a and returning a function taking an a and returning a b.
[06:06:56] <negativezero> Yeah.
[06:07:03] <cmr> ok, that's what I was afraid of :)
[06:07:27] *** Quits: quaddle (Mibbit@moz-A06909E4.glbb.ne.jp) (Quit: http://www.mibbit.com ajax IRC Client)
[06:07:31] <bjz> negativezero: yeah, but it's considerably uglier than in a lang like ML or Haskell
[06:07:46] *** Quits: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com) (Quit: )
[06:08:05] <bjz> negativezero: hence it's not really ideomatic, unfortunately
[06:08:12] *** Joins: gunther (Mibbit@moz-A06909E4.glbb.ne.jp)
[06:09:15] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[06:09:19] <negativezero> bjz: I see.
[06:10:16] <bjz> fn<'a, T, U, V>(x: T) -> 'a |U| -> V {...} I think
[06:10:58] <cmr> bjz: that won't work, where is that closure coming from?
[06:11:20] <cmr> It'd either need to be a proc or a trait object atm.
[06:11:35] <negativezero> Apologies if this is somewhere in the manual, but what exactly would 'a be [if this did work]?
[06:11:37] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Connection reset by peer)
[06:11:58] <cmr> negativezero: the lifetime of the closure's environment
[06:11:58] *** Joins: FreeFull (freefull@moz-E3F32957.as13285.net)
[06:12:11] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[06:12:29] *** Joins: qrada (ad@moz-21BA18B0.net)
[06:12:36] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[06:12:40] <bvssvni> why can a proc only be called once?
[06:12:44] <negativezero> (On that matter, is there a document somewhere that explains all of this?)
[06:13:18] <pcwalton> bvssvni: because it can move out of upvars
[06:13:27] <pcwalton> (closed-over variables)
[06:13:40] <bvssvni> pcwalton: that was what I thought
[06:14:33] <cmr> negativezero: so the most recent documentation is on niko's blog: http://smallcultfollowing.com/babysteps/blog/2013/10/10/fn-types-in-rust/
[06:15:38] *** Quits: ramitos (ramitos@moz-60679625.socal.res.rr.com) (Ping timeout)
[06:15:40] <bvssvni> I experimented today hacking around proc, but it requires constructing new procs all the time
[06:16:29] *** Joins: ecl3ctic (Mibbit@578C64B6.F0F44EFA.76AE55C1.IP)
[06:16:29] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[06:16:33] <negativezero> cmr: I see. Thanks, I'll go read it.
[06:16:34] <bvssvni> this might not be just a bad thing, considering dynamic functional reactional programming
[06:17:23] *** Quits: discomfitor (discomfito@moz-975BC507.hsd1.ct.comcast.net) (Quit: ah. I see.)
[06:17:44] *** Quits: elux (peter@moz-6B45ADE5.dsl.bell.ca) (Quit: Bye!)
[06:19:07] *** Joins: ramitos (ramitos@moz-60679625.socal.res.rr.com)
[06:19:34] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[06:20:11] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[06:20:54] *** Joins: SingingBoyo (SingingBoy@DA28FB90.A5D0D593.4F048BDC.IP)
[06:21:18] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[06:21:32] <enix> iter
[06:21:35] *** Joins: eevee (eevee@moz-8DEBFFC9.lv.lv.cox.net)
[06:21:46] <enix> er, sorry, didn't mean to type that out
[06:23:20] <pcwalton> aww, one doc test is going to fail
[06:23:25] <qrada> hey everyone, quick q.. im trying to use extern::list; , it tells me to add #[feature(managed_boxes)] "to the create attributes", does that mean i have to edit the actual extra::list module source, or can i declare that in my .rs file.. because declaring that in my .rs file isn't having any effect.
[06:23:39] <pcwalton> be sure to put a ; after the ]
[06:24:20] <pcwalton> ok, all tests passed locally for de-@mut
[06:24:32] <bjz> \o/
[06:24:54] <qrada> that did it pcwalton 
[06:24:58] <qrada> thanks alot
[06:25:04] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Connection reset by peer)
[06:25:08] <pcwalton> no problem
[06:25:15] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[06:25:37] <SingingBoyo> anyone know where extra::sort went? or is it just completely removed?
[06:25:56] <cmr> SingingBoyo: gone. mutable slices have a .sort method now.
[06:26:07] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[06:26:17] <SingingBoyo> cmr: ah okay, thanks.
[06:26:20] <cmr> and sort_by
[06:28:10] <Yurume> SingingBoyo, and you need TotalOrd impl for using .sort method. (otherwise you need to provide a total-ordering comparator to .sort_by)
[06:28:52] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[06:30:41] <negativezero> Somewhat relatedly, is there an ML-style presentation of the full type system somewhere?
[06:32:55] *** Quits: sellout (Adium@moz-2ECB0660.hlrn.qwest.net) (Quit: Leaving.)
[06:33:12] *** Quits: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com) (Input/output error)
[06:34:05] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[06:34:08] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[06:34:10] <DanR> You mean like inference rules for Rust?
[06:34:34] *** Quits: Guest_ (textual@moz-30B6C3D1.lightspeed.rsbgtx.sbcglobal.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[06:34:51] *** Joins: Guest_ (textual@moz-30B6C3D1.lightspeed.rsbgtx.sbcglobal.net)
[06:35:04] <negativezero> Yeah.
[06:35:20] *** Quits: tjc (tjc@moz-6EB4E533.dsl.tsoft.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[06:35:57] <DanR> I don't think I've heard of/seen anything like that. There is a portion of the manual dedicated to the type system though: http://static.rust-lang.org/doc/master/rust.html#type-system
[06:36:42] <bjz> negativezero: I wish there was
[06:36:44] *** Joins: tjc (tjc@moz-6EB4E533.dsl.tsoft.com)
[06:36:45] *** ChanServ sets mode: +o tjc
[06:36:50] <cmr> negativezero: there are extensive comments in the source. src/librustc/middle/typeck
[06:36:52] *** Joins: mib_4zub42 (Mibbit@F3D9F1C3.3B817DBB.67D94052.IP)
[06:36:56] <bjz> negativezero: hopefully there will be one for 1.0
[06:37:01] <DanR> It's kind of like with OCaml and Haskell - you really end up with the academics chasing the definitions of the languages rather than using the original means with which to define them. :)
[06:37:04] <cmr> mod.rs and infer/doc.rs
[06:37:16] <cmr> :q
[06:37:16] <bjz> negativezero: you'd have to talk to nmatsakis about that
[06:37:26] <bjz> negativezero: tjc might also know some stuff
[06:37:28] <mib_4zub42> can I use return in a closure?
[06:37:31] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[06:37:44] <cmr> mib_4zub42: on master, yes.
[06:37:46] <bjz> negativezero: are you are type system geek?
[06:38:24] <mib_4zub42> When will 1.0 be released?
[06:38:48] <negativezero> bjz: I'd describe myself as a recovering PL person, but perhaps the "type system geek" thing is implied. I grew up on an unholy mixture of C++ and Standard ML.
[06:39:03] <tjc> negativezero: the closest thing is the model of a subset of Rust that nmatsakis developed for an as-yet-unpublished paper.
[06:39:05] <tjc> But it's not the full language.
[06:39:09] *** Quits: mib_4zub42 (Mibbit@F3D9F1C3.3B817DBB.67D94052.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[06:39:18] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[06:39:19] <bjz> tjc: negativezero asked, "Somewhat relatedly, is there an ML-style presentation of the full type system somewhere?"
[06:39:20] <cmr> mib_4zub42: "when it's ready". current plan is before 2014 is over
[06:39:53] <negativezero> tjc: Is there a preprint/draft version?
[06:39:58] <bjz> negativezero: it is concerning that we claim safety, but haven't formalized things
[06:40:10] *** Quits: philix (philix@moz-E2894C4B.user.veloxzone.com.br) (Quit: philix)
[06:40:36] <strcat> bjz: at least it's not as bad as lazy I/O
[06:40:43] <negativezero> I'm rather curious how the whole lifetime parameter thing works; it doesn't seem completely specified in that blog post and I can see a few ways in which it could play out in practice.
[06:40:49] <tjc> negativezero: There is, but I don't have it; nmatsakis would be the one to ask (it's probably better to email him -- username at mozilla.com -- since it's 1:40 AM in his time zone and so he's probably not looking right now :-)
[06:40:58] <cmr> negativezero: ah that blog post was only the function syntax.
[06:41:00] <bjz> negativezero: I would look to the papers on MLkit
[06:41:18] <strcat> tjc: poor username@mozilla.com is about to get a bunch of spam :(
[06:41:21] *** Quits: FreeFull (freefull@moz-E3F32957.as13285.net) (Ping timeout)
[06:41:24] <bjz> negativezero: as a pointer in the right direction
[06:41:34] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Quit: Konversation terminated!)
[06:41:42] <tjc> strcat: I'm sure it already does :-D (yay dictionary attacks)
[06:41:48] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[06:42:00] * strcat has a fascination with reading spam and replying to it
[06:42:00] *** Joins: FreeFull (freefull@BAE449C.11456995.3775A18E.IP)
[06:42:07] <tjc> we all need a hobby
[06:42:10] <bjz> negativezero: I think they formalised at least something similar to Rust's regions
[06:42:15] <cmr> negativezero: see src/librustc/middle/borrowck/doc.rs
[06:42:30] <strcat> tjc: and apparently mine is pretending to be scammed or totally absorbed in a telemarker's pitch
[06:42:33] *** Quits: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[06:42:34] <cmr> 1000 lines of docs :)
[06:42:58] <cmr> email niko for the preprint, but those docs are a good complement.
[06:43:01] <tjc> strcat: I've been tempted to order one of those Ph.Ds they advertise sometimes myself
[06:43:07] <tjc> a lot easier than going to grad school
[06:43:16] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[06:43:17] <bjz> negativezero: I don't know enough about type systems, or that part of the compiler, but my concern is that due to rust's evolutionary history inconcistancies/bugs will have crept in
[06:43:53] <geomyidae> https://news.ycombinator.com/item?id=7010000 heh I remember like a year ago when I tried to do this with macros in rust, but the tokens stuff I needed wasn't usable outside the compiler
[06:43:58] <geomyidae> I wonder if that's still the case
[06:44:06] <strcat> tjc: or you could just become a celebrity and get an honorary one
[06:44:12] <tjc> strcat: working on it ;-)
[06:44:16] <bjz> negativezero: you would have to ask the folks who know most about it though, ie. nmatsakis 
[06:44:30] *** Joins: shammancer (shammancer@389973A5.EBE303D0.DC8692D8.IP)
[06:44:35] <cmr> geomyidae: it was only like 6-7 months ag :P
[06:44:43] <cmr> *ago
[06:44:45] <geomyidae> haha
[06:44:52] <geomyidae> really?
[06:45:17] <bjz> negativezero: I think larsberg also has an interest in formalising the type system, but he is currently mainly working on servo
[06:45:32] <strcat> dr. chevalier, world-renowned mini-golfer
[06:45:42] <negativezero> cmr: Got it. That file is reasonably parseable; am I understanding it correctly that there is essentially a whole type system orthogonal to the primary one going on?
[06:45:42] <apoelstra>  /j bitcoin
[06:45:45] <tjc> :-D
[06:46:06] <apoelstra> oops, not even on the right server with that one..
[06:46:07] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[06:46:11] <bjz> negativezero: lots of the devs are juggling commitments
[06:46:12] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[06:47:55] <Skrylar_> whats the syntax to separate a macro name from the rest of it? e.g. set_$x_foo
[06:48:01] <Skrylar_> well, macro transcription
[06:48:39] <negativezero> bjz: I see. I think I'll watch from the sidelines for a bit rather than waste anyone's time. I left PL for (US-style) theory and so probably wouldn't be that likely to generate actual academic output on the topic :P
[06:49:19] <bjz> negativezero: no, no, it's important to get second opinions on things, and contributions
[06:49:54] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[06:49:57] *** Quits: DanR (DanR@moz-4C1E443F.clients.kiwiirc.com) (Quit: http://www.kiwiirc.com/ - A hand crafted IRC client)
[06:50:12] <bjz> negativezero: even interested ie. I don't think anybody is expecting folks to generate academic output
[06:51:22] <bjz> negativezero: the most important thing is that the core devs keep getting feedback from folks who have knowledge in specific areas
[06:51:38] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[06:52:05] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[06:52:12] <bjz> Skrylar_: I think you need concat_idents! for that, but that might still be broken
[06:52:33] <geomyidae> cmr: almost exactly six months, I can't tell if you have a good memory or me a bad one https://github.com/mozilla/rust/issues/7727
[06:52:35] <bjz> Skrylar_: it was broken all the way back early last year - dunno if it still is
[06:52:41] <negativezero> bjz: Fair enough. In that case, I suppose I might as well ask nmatsakis for a preprint and have a look at it.
[06:52:49] <bjz> negativezero: definitely
[06:52:55] <bjz> :)
[06:53:20] *** Joins: shinichy (Mibbit@moz-2FB20940.hsd1.ca.comcast.net)
[06:53:41] <cmr> geomyidae: well I remember talking with you about it around when I was getting started with Rust, so that put a nice upper bound on it.
[06:54:02] *** Joins: zmike (discomfito@moz-975BC507.hsd1.ct.comcast.net)
[06:54:34] <bjz> negativezero: Rust is definitely a very open development process. The chance of folks turning their nose up at you for being interested is very low.
[06:54:57] * cmr -> bed
[06:55:00] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[06:55:12] <bjz> o/ cmr
[06:55:36] <Skrylar_> blegh, i guess its back to manually copy/pasting the code then
[06:55:53] <Skrylar_> i was going to have a macro deal with the set/clear code for some structs
[06:56:02] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[06:56:41] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[06:56:44] <gunther> Is there anything special that goes on with string equality? 
[06:56:49] <Skrylar_> i was hoping there was just a simple pasting operator
[06:57:12] <bjz> Skrylar_: yeah :(
[06:57:21] <bjz> Skrylar_: macros still need work
[06:59:05] *** Joins: rust (Mibbit@7E933CBC.56A6517A.BABBC585.IP)
[06:59:24] <Skrylar_> i'm guessing it would work if i did set_$a because the issue is it trying to parse the remaining _foo
[06:59:30] <rust> when is the 0.9 release?
[06:59:50] <rust> when is my 0.9 release?
[07:00:13] <ercxx> I'm having hard time with tasks/channels/ports. Here's a very short paste: http://kib2.free.fr/pastebin/view_paste.php?id=165 the test_http() sends the channel to listen() and loops over it listening but it never receives anything.
[07:00:32] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[07:00:54] <ercxx> If I remove the loops then it works, and both functions end.
[07:01:26] <ercxx> disregard the timer btw.
[07:01:45] * Skrylar_ peeks in
[07:01:54] *** Joins: DanR (DanR@moz-4C1E443F.clients.kiwiirc.com)
[07:02:04] <ercxx> hmm, I think I actually asked this before.
[07:02:12] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[07:02:15] <Skrylar_> er
[07:02:28] <Skrylar_> ercxx: because listen() is given the channel, then it runs in an infinite loop to never return
[07:02:37] <Skrylar_> which means your receive loop lever runs
[07:02:42] <ercxx> Skrylar_: I messed up, it's in a task actually.
[07:02:57] <ercxx> I chopped it too much for the paste.
[07:03:21] *** Joins: twi (Adium@moz-174339A4.cust.dsl.vodafone.it)
[07:05:08] *** Quits: twi (Adium@moz-174339A4.cust.dsl.vodafone.it) (Ping timeout)
[07:06:06] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[07:06:06] *** Joins: edftwin (edftwin@moz-E43EC1F2.nyc.res.rr.com)
[07:07:20] *** Quits: rust (Mibbit@7E933CBC.56A6517A.BABBC585.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[07:08:24] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[07:09:34] <ercxx> and it's a shared chan :)
[07:10:03] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[07:13:43] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[07:15:24] *** Quits: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net) (Connection reset by peer)
[07:15:25] *** Joins: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net)
[07:16:29] *** Joins: sanxiyn (tinuviel@82A0BD1D.75F0CDED.4BEB41DB.IP)
[07:17:16] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[07:20:21] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[07:20:38] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[07:21:05] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: Leaving)
[07:22:04] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[07:24:34] *** Quits: tjc (tjc@moz-6EB4E533.dsl.tsoft.com) (Quit: Textual IRC Client: www.textualapp.com)
[07:26:49] *** Quits: ercxx (ercan@moz-88DD3A7E.dyn.optonline.net) (Quit: WeeChat 0.4.2)
[07:27:10] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[07:30:38] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[07:30:50] *** Quits: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net) (Connection reset by peer)
[07:33:12] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[07:33:43] *** Joins: FreeFull_ (freefull@moz-8A2BB794.as13285.net)
[07:33:49] *** Joins: tjc (tjc@moz-6EB4E533.dsl.tsoft.com)
[07:33:49] *** ChanServ sets mode: +o tjc
[07:33:53] *** Quits: FreeFull (freefull@BAE449C.11456995.3775A18E.IP) (Ping timeout)
[07:33:57] *** Quits: tjc (tjc@moz-6EB4E533.dsl.tsoft.com) (Quit: Textual IRC Client: www.textualapp.com)
[07:36:51] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[07:37:40] *** Joins: Ralith (ralith@114DA04D.CD83ED0A.BCDF04A6.IP)
[07:37:57] *** Quits: DanR (DanR@moz-4C1E443F.clients.kiwiirc.com) (Quit: http://www.kiwiirc.com/ - A hand crafted IRC client)
[07:38:30] *** Joins: c-a (c-a@380CCB84.6116A87C.3B6D96BA.IP)
[07:39:47] *** Quits: Skrylar_ (Skrylar@moz-F692F728.austin.res.rr.com) (Quit: brb)
[07:44:41] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[07:47:21] *** Joins: astropirate (astropirat@DE10612D.DCD02D49.975DB329.IP)
[07:47:53] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[07:48:21] *** Quits: dogurness (dogurness@moz-1BF32EBD.pitbpa.fios.verizon.net) (Quit: dogurness)
[07:54:29] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[07:56:52] <astropirate> Hello 
[07:57:10] <astropirate> How do Rust compile times compare with that of a C++ based project?
[07:58:22] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[07:58:31] *** Joins: int3_ (int3_@moz-4FFAA436.pool-182-52.dynamic.totbb.net)
[07:59:22] *** Joins: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org)
[07:59:56] <sanxiyn> astropirate: Comparable to doing unity build of C++
[08:00:39] <sanxiyn> (You can't compile .rs separately so incremental build will be slower, from the scratch build will be comparable)
[08:00:43] *** Guest_ is now known as dapz
[08:01:59] <astropirate> sanxiyn, ohh so if i have 100 files and i change one of them they all must be rebuilt?
[08:02:06] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[08:02:10] <astropirate> ouchies
[08:02:15] <sanxiyn> astropirate: If those 100 files belong to the same crate, yes
[08:02:25] <whitequark> you can split them into several crates
[08:02:56] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[08:03:08] <whitequark> I think nothing technically prevents Rust from incrementally building code, it just hasn't been done yet
[08:03:13] <sanxiyn> I am not sure splitting crates to reduce compile time is a good idea at all
[08:03:28] <sanxiyn> For example, you can't have circular dependency between crates, so sometimes you can't split some part
[08:03:43] <sanxiyn> (circular dependency is ok within crate; after all crate is compilation unit)
[08:03:53] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[08:03:55] <whitequark> sure
[08:04:06] *** Joins: twi (Adium@moz-174339A4.cust.dsl.vodafone.it)
[08:04:26] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[08:04:45] *** Joins: jviereck (Adium@moz-18C4894F.dip0.t-ipconnect.de)
[08:04:48] <sanxiyn> Incremental recompilation is issue #2369
[08:05:34] *** Joins: refold (gman@moz-42D68426.a258.priv.bahnhof.se)
[08:05:49] *** Quits: Ralith (ralith@114DA04D.CD83ED0A.BCDF04A6.IP) (Ping timeout)
[08:05:49] *** Quits: twi (Adium@moz-174339A4.cust.dsl.vodafone.it) (Ping timeout)
[08:06:09] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[08:06:27] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Quit: Busying myself...)
[08:07:13] <astropirate> ahh cool
[08:07:17] <astropirate> its to come then
[08:08:10] <sanxiyn> astropirate: Do you have a large Rust codebase where this is an issue?
[08:08:19] <sanxiyn> Personally I don't know of any
[08:08:22] <astropirate> sanxiyn, no not at all
[08:08:27] <astropirate> i'm just wondering
[08:08:33] *** Joins: Ms2ger (Ms2ger@7AE7573F.9612FC09.3773EA9F.IP)
[08:08:37] <astropirate> I got sick of large compile times with C++
[08:08:46] <astropirate> then got spoiled by sweet compile times with Go
[08:08:48] <whitequark> sanxiyn: librustc?
[08:08:48] <sanxiyn> I am hacking on V8 these days, and hacking on Rust codes and V8 seems comparable in compilation speed pain
[08:08:56] <astropirate> was just wondering where rust stood these days
[08:09:03] <sanxiyn> astropirate: Ah ok
[08:09:12] <sanxiyn> whitequark: rustc is a special case because of bootstrapping
[08:09:19] <sanxiyn> If you don't bootstrap it's not that painful
[08:09:20] <whitequark> sanxiyn: even a single build is painful
[08:09:30] <sanxiyn> I guess we differ in pain tolerance :)
[08:09:37] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[08:09:50] <whitequark> and/or system performance
[08:09:59] <sanxiyn> Ah yeah
[08:10:08] <Ms2ger> The whole-crate compilation makes the compile/fix compile error cycle pretty painful
[08:10:16] <whitequark> (it's an ivy bridge i7 but a notebook one... *shrug*)
[08:10:34] <whitequark> well, typechecking takes quite a bit less time than full recompilation
[08:10:48] <sanxiyn> One pain point is rustc can't utilize multiple cores to compile. This hopefully will be fixed.
[08:10:59] <astropirate> ahh
[08:11:22] <sanxiyn> (I mean, it can -- it can compile multiple crates in parallel -- but not for a single crate)
[08:12:05] <Ms2ger> Compiling multiple crates in parallel is pretty theoretical in Servo's case :)
[08:12:32] <sanxiyn> Ms2ger: I thought it helped quite a lot for Servo?
[08:12:32] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[08:13:00] *** Joins: Ralith (ralith@114DA04D.CD83ED0A.BCDF04A6.IP)
[08:13:20] *** Joins: victorporof (victorporo@88DD83F4.69A9AE01.7C5F70AF.IP)
[08:13:28] *** Quits: victorporof (victorporo@88DD83F4.69A9AE01.7C5F70AF.IP) (Client exited)
[08:13:32] <sanxiyn> Ms2ger: Namely, gfx and script can build in parallel
[08:13:40] <sanxiyn> This reduces about a minute, IIRC
[08:14:10] <Ms2ger> Well, I nearly never touch gfx :)
[08:14:14] *** Quits: refold (gman@moz-42D68426.a258.priv.bahnhof.se) (Quit: leaving)
[08:14:20] <sanxiyn> That explains it :)
[08:15:27] <sanxiyn> Apparently Intel is interested in parallelizing LLVM code generation: http://lists.cs.uiuc.edu/pipermail/llvmdev/2013-July/063826.html
[08:15:36] <sanxiyn> Haven't landed and no idea when it will land
[08:16:03] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[08:16:32] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[08:17:07] *** Quits: shinichy (Mibbit@moz-2FB20940.hsd1.ca.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[08:19:39] <strcat> astropirate: I don't think we'll get incremental compilation of crates
[08:19:49] <strcat> it's possible, but I don't find it very feasible
[08:19:55] <strcat> parallel compilation, yes, that's easier ;p
[08:20:19] <strcat> to an extent
[08:20:54] <strcat> sanxiyn: well, they parallelized the independent function passes and that may not be as big of a slice for rust as it is for their C++ codebase
[08:21:00] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[08:21:03] <astropirate> From the ticket i read, there seemed to be some effort being made towards it
[08:21:06] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[08:21:14] <geomyidae> isn't a claim from the m# folks, that it can completely prevent race conditions. Also is there a rust-offtopic?
[08:21:19] <strcat> astropirate: I don't think any serious effort has been put into incremental compilation
[08:21:31] <sanxiyn> geomyidae: What?
[08:21:37] <strcat> geomyidae: rust prevents data races, maybe M# does too
[08:21:39] <astropirate> strcat, gotchya
[08:21:43] <sanxiyn> astropirate: No serious effort I know of
[08:21:50] <strcat> it can't prevent race conditions unless it prevents access to external resources
[08:22:02] <strcat> if you can open a file, you can race
[08:22:31] <sanxiyn> strcat: Why?
[08:22:47] <strcat> because something might delete a file you expected to be there before you're able to open it
[08:22:48] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[08:23:09] <strcat> race conditions can't be solved within a language in the real world - they can happen due to many external factors
[08:23:39] <geomyidae> I just read the rest of the thread, whoops
[08:23:50] <geomyidae> I would now not have asked that question
[08:24:03] <sanxiyn> What thread?
[08:24:23] <geomyidae> In hindsight, not a good one, particulary, other than that the networking example made very intuitive sense
[08:24:27] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[08:24:39] <geomyidae> https://news.ycombinator.com/item?id=7009414 (at the bottom, and likely to stay there)
[08:25:14] <sanxiyn> We seem to hit HN a lot these days...
[08:27:00] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[08:27:29] *** Quits: FreeFull_ (freefull@moz-8A2BB794.as13285.net) (Ping timeout)
[08:29:33] *** Joins: mib_10101001 (Mibbit@DD6F7E3A.21468E9A.30200F38.IP)
[08:30:21] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[08:33:17] <Ms2ger> https://www.xkcd.com/1312/ < ha!
[08:33:23] *** Joins: devbug (quassel@C4A1EF48.9839AE2F.6ECEDC28.IP)
[08:33:41] *** Joins: lenstr (lenstr@CD7D5ABA.83A99F98.85938D85.IP)
[08:35:30] *** Joins: kasey (Kasey@moz-374F2663.dhcp.trlk.ca.charter.com)
[08:36:19] *** Joins: mib_hzrf3o (Mibbit@7A1F79C7.A514FA5E.D5D59AD9.IP)
[08:37:02] *** Quits: mib_hzrf3o (Mibbit@7A1F79C7.A514FA5E.D5D59AD9.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[08:38:17] *** Quits: ramitos (ramitos@moz-60679625.socal.res.rr.com) (Quit: Computer has gone to sleep.)
[08:38:18] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[08:38:34] <kasey> Quick question: How can I map/sort_by over a vector of tuples? The functions require references, but the code fails to compile with a ` cannot move out of dereference of & pointer` error,.
[08:38:34] <kasey> Example: v.sort_by(|&(a, _), &(b, _)| a.cmp(b));
[08:41:50] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[08:42:29] *** Joins: ramitos (ramitos@moz-60679625.socal.res.rr.com)
[08:42:45] *** Quits: sanxiyn (tinuviel@82A0BD1D.75F0CDED.4BEB41DB.IP) (Quit: Bye)
[08:43:27] *** Quits: lenstr (lenstr@CD7D5ABA.83A99F98.85938D85.IP) (Client exited)
[08:43:49] *** Joins: lenstr (lenstr@CD7D5ABA.83A99F98.85938D85.IP)
[08:45:29] *** Quits: lenstr (lenstr@CD7D5ABA.83A99F98.85938D85.IP) (Ping timeout)
[08:46:27] *** Quits: jviereck (Adium@moz-18C4894F.dip0.t-ipconnect.de) (Ping timeout)
[08:46:32] <ChrisMorgan> kasey: a and b are being moved; you need to take references to them: |&(ref a, _), &(ref b, _)|
[08:46:39] *** Joins: jviereck (Adium@moz-18C4894F.dip0.t-ipconnect.de)
[08:47:46] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[08:48:30] *** Quits: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net) (Input/output error)
[08:49:59] *** Quits: edftwin (edftwin@moz-E43EC1F2.nyc.res.rr.com) (Client exited)
[08:51:44] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[08:52:04] <geomyidae> is this wrong: let mut v : &mut[(uint,uint)] = &mut[(0,0), (12,0), (2,0) ]; v.sort_by(|&(a,_), &(b,_)| a.cmp(&b)); println!("{:?}", v);
[08:52:11] <geomyidae> it seems to work locally
[08:52:53] <Ms2ger> Probably fine with uints
[08:53:24] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[08:55:39] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[08:56:07] * geomyidae found the relevant manual paragraph :)
[08:57:56] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[08:58:44] *** Joins: derek_c (derek@1D32CAAF.78B8FD9.C34016C.IP)
[08:59:40] *** Joins: khodzha1 (khodzha@8CCE77A.3E410295.CA6E2165.IP)
[09:00:00] *** Quits: khodzha (khodzha@55DCD158.2AEE264E.CA6E2165.IP) (Ping timeout)
[09:00:29] <ChrisMorgan> geomyidae: it'll work for data that satisfies Pod (basically types with no references or owned data, viz. things that can be just copied), but not for NonPod.
[09:01:26] <geomyidae> I inferred and then kinda saw that from Ms2ger's comment. Then I read this in the manual:
[09:01:36] <geomyidae> "Patterns that bind variables default to binding to a copy or move of the matched value (depending on the matched value's type). This can be changed to bind to a borrowed pointer by using the ref keyword, or to a mutable borrowed pointer using ref mut."
[09:02:17] * geomyidae was very happy that ctrl-f -> "ref keyword" was fruitful
[09:02:21] *** Joins: twi (Adium@moz-174339A4.cust.dsl.vodafone.it)
[09:03:18] *** Joins: nano (nano@moz-ED77243C.superkabel.de)
[09:03:36] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[09:06:40] <derek_c> rusti: let k = Some(1); println!("{}", k.unwrap()); println!("{}", k.unwrap());
[09:06:41] -rusti- 1
[09:06:41] -rusti- 1
[09:06:41] -rusti- ()
[09:07:28] <whitequark> dumb question: why does "ref" exist? isn't "&" enough?
[09:09:00] <derek_c> can someone tell me what this code works?  Shouldn't k have been moved on the first invokation of unwrap()?
[09:09:00] <geomyidae> is it because you wouldn't be able to tell the difference between a tuple of borrowed pointers verses a reference to the first thing in the tuple
[09:09:41] <derek_c> *what* -> *why*
[09:11:35] <ChrisMorgan> whitequark: `ref` is the opposite of `&` in patterns.
[09:12:04] <ChrisMorgan> whitequark: in a pattern, & means "this will be a reference, so dereference it", while `ref` means "take a reference to this thing".
[09:12:07] *** Quits: Jesin (Jesin@moz-4B662E55.washdc.fios.verizon.net) (Ping timeout)
[09:14:01] <astropirate> Has anyone encountered problems using a Ruse based library with a C++ based application?
[09:14:36] <astropirate> To learn Rust, I am thinking of writing a library (physics engine) to be digested by my C++ application that handles graphics and such
[09:14:51] <astropirate> Its not a serious project so rust's immaturity is not an issue
[09:14:55] <astropirate> just a hobby project
[09:15:08] *** Quits: jviereck (Adium@moz-18C4894F.dip0.t-ipconnect.de) (Connection reset by peer)
[09:15:21] <SingingBoyo> astropirate: seems to work fine from C, so I don't see why it wouldn't work with C++.  Mind you I haven't done too much with C either...
[09:15:25] *** Joins: jviereck (Adium@moz-18C4894F.dip0.t-ipconnect.de)
[09:15:34] <geomyidae> whats the cheapest piece of hardware rust can theoretically run on?
[09:15:51] *** Joins: mhi (mhi@moz-3F37F1B8.cust.telecolumbus.net)
[09:16:10] <whitequark> geomyidae: find the cheapest ARM Cortex chip
[09:16:21] <SingingBoyo> geomyidae: in theory you can run rust code on anything LLVM targets.  might not get the runtime though :)
[09:16:32] <geomyidae> https://github.com/jensnockert/dueboot saw this
[09:16:32] <kimundi> astropirate: Well, the rust library would need to expose itself with a C interface, and not use the Rust runtime - not sure if thats a good way to start learning it :)
[09:16:35] <kimundi> Or is it possible these days to start up the runtime manually when calling into Rust from C ?
[09:16:59] <whitequark> geomyidae: arduino is not exactly cheap
[09:18:08] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[09:18:47] <whitequark> geomyidae: according to digikey, cheapest cortex-m0 processors are about $1. depends on quantity and your definition of "piece of hardware", though.
[09:18:49] <Ms2ger> rusti: let k = Some(~""); println!("{}", k.unwrap()); println!("{}", k.unwrap());
[09:18:52] -rusti- pastebinned 18 lines of output: http://ix.io/9EW
[09:18:57] <Ms2ger> derek_c, like that?
[09:19:21] <derek_c> Ms2ger: ah exactly! that's what I was expecting
[09:19:21] *** Quits: ramitos (ramitos@moz-60679625.socal.res.rr.com) (Quit: Computer has gone to sleep.)
[09:19:33] *** Quits: bytbox (s@moz-54E13927.washdc.fios.verizon.net) (Ping timeout)
[09:19:37] *** Joins: Jesin (Jesin@moz-4B662E55.washdc.fios.verizon.net)
[09:19:37] <derek_c> Ms2ger: so I guess Rust is smart enough to look into the struct to see if there is any owned contenta?
[09:19:55] *** Quits: robn (robn@moz-76B0302C.static.internode.on.net) (Quit: Coyote finally caught me)
[09:19:59] *** Joins: robn (robn@moz-76B0302C.static.internode.on.net)
[09:20:13] <Ms2ger> derek_c, yep. Funnily enough, that's exactly what we were talking about when you joined :)
[09:20:30] <derek_c> Ms2ger: huh really?
[09:21:05] *** Joins: jviereck1 (Adium@moz-18C4894F.dip0.t-ipconnect.de)
[09:21:05] *** Quits: jviereck (Adium@moz-18C4894F.dip0.t-ipconnect.de) (Connection reset by peer)
[09:21:07] *** Joins: rca (rcatolino@moz-6B6EA2D.adsl.proxad.net)
[09:21:12] *** Quits: robn (robn@moz-76B0302C.static.internode.on.net) (Quit: Coyote finally caught me)
[09:21:20] *** Joins: robn (robn@moz-76B0302C.static.internode.on.net)
[09:21:28] *** Quits: Jesin (Jesin@moz-4B662E55.washdc.fios.verizon.net) (Ping timeout)
[09:21:47] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[09:21:51] *** Joins: Jesin (Jesin@moz-4B662E55.washdc.fios.verizon.net)
[09:22:07] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[09:23:03] *** Joins: mleise (marco@moz-F137627C.pools.arcor-ip.net)
[09:23:18] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: sleep)
[09:23:32] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[09:24:50] *** Quits: jviereck1 (Adium@moz-18C4894F.dip0.t-ipconnect.de) (Quit: Leaving.)
[09:25:23] *** Joins: jviereck (Adium@moz-18C4894F.dip0.t-ipconnect.de)
[09:26:21] *** Quits: SingingBoyo (SingingBoy@DA28FB90.A5D0D593.4F048BDC.IP) (Quit: My work here is done)
[09:26:39] *** Joins: ramitos (ramitos@moz-60679625.socal.res.rr.com)
[09:29:03] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[09:30:27] *** Quits: jviereck (Adium@moz-18C4894F.dip0.t-ipconnect.de) (Ping timeout)
[09:31:14] *** Quits: robn (robn@moz-76B0302C.static.internode.on.net) (Quit: Coyote finally caught me)
[09:31:25] *** Joins: robn (robn@moz-76B0302C.static.internode.on.net)
[09:32:58] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[09:34:33] *** Quits: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com) (Quit: csherratt)
[09:35:31] *** Quits: ramitos (ramitos@moz-60679625.socal.res.rr.com) (Ping timeout)
[09:36:20] *** Joins: ramitos (ramitos@moz-60679625.socal.res.rr.com)
[09:36:29] <zokier`> st has arm devboards for <$10, those probably would be more reasonable unit of "piece of hardware" than bare chips
[09:36:46] <geomyidae> what's st?
[09:37:26] <whitequark> st microelectronics, a hardware vendor
[09:37:46] <whitequark> and yes, those devboards are nice for a beginner. incredibly buggy as you go deep into it, though
[09:38:27] <whitequark> (both the devboards and the microcontrollers they're built around)
[09:38:32] *** Joins: jviereck (Adium@moz-18C4894F.dip0.t-ipconnect.de)
[09:40:03] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[09:43:23] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[09:45:08] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[09:48:35] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[09:48:43] *** Quits: rca (rcatolino@moz-6B6EA2D.adsl.proxad.net) (Ping timeout)
[09:49:37] *** Joins: rca (rcatolino@moz-6B6EA2D.adsl.proxad.net)
[09:49:49] *** Quits: jviereck (Adium@moz-18C4894F.dip0.t-ipconnect.de) (Ping timeout)
[09:50:23] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[09:51:21] *** Joins: jviereck (Adium@moz-18C4894F.dip0.t-ipconnect.de)
[09:51:46] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[09:53:47] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[09:53:51] <skrylar> hrmm. 
[09:53:59] * skrylar ponders the best way to mention 'as_bytes'
[09:57:03] *** Quits: astropirate (astropirat@DE10612D.DCD02D49.975DB329.IP) (Quit: Leaving)
[10:00:10] *** Quits: jviereck (Adium@moz-18C4894F.dip0.t-ipconnect.de) (Quit: Leaving.)
[10:00:16] *** Joins: jviereck (Adium@moz-18C4894F.dip0.t-ipconnect.de)
[10:00:21] *** Joins: moostik (Icedove@moz-F5DBFF76.w83-202.abo.wanadoo.fr)
[10:01:20] *** Joins: jviereck1 (Adium@moz-18C4894F.dip0.t-ipconnect.de)
[10:01:21] *** Quits: jviereck (Adium@moz-18C4894F.dip0.t-ipconnect.de) (No route to host)
[10:04:58] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[10:05:41] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[10:06:30] *** Joins: eddyb (eddy@EE946B63.921A1753.FCAAE698.IP)
[10:09:20] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[10:09:34] *** Quits: dapz (textual@moz-30B6C3D1.lightspeed.rsbgtx.sbcglobal.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[10:11:15] *** Joins: Guest_ (textual@moz-30B6C3D1.lightspeed.rsbgtx.sbcglobal.net)
[10:12:01] *** Quits: Guest_ (textual@moz-30B6C3D1.lightspeed.rsbgtx.sbcglobal.net) (Quit: Textual IRC Client: www.textualapp.com)
[10:12:32] *** Joins: dapz (textual@moz-30B6C3D1.lightspeed.rsbgtx.sbcglobal.net)
[10:12:35] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[10:15:34] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[10:19:15] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[10:20:41] *** Joins: awidegreen (awidegreen@moz-3FE0A1F.a357.priv.bahnhof.se)
[10:22:35] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[10:24:26] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[10:24:44] *** Quits: jviereck1 (Adium@moz-18C4894F.dip0.t-ipconnect.de) (Quit: Leaving.)
[10:25:23] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[10:28:49] *** Joins: logicalparadox (logicalpar@7E906627.EDE60785.5A75A172.IP)
[10:28:52] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[10:31:35] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[10:32:19] *** Joins: FreeFull (freefull@moz-E31788C9.as13285.net)
[10:33:57] *** Joins: lenstr (lenstr@CD7D5ABA.83A99F98.85938D85.IP)
[10:34:36] *** Quits: devbug (quassel@C4A1EF48.9839AE2F.6ECEDC28.IP) (Ping timeout)
[10:34:57] *** Joins: io2 (io2@moz-871549F5.home.otenet.gr)
[10:35:10] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[10:35:45] *** Joins: jviereck (Adium@moz-18C4894F.dip0.t-ipconnect.de)
[10:36:45] *** Joins: mentero (mentero@moz-D61C6F02.proxnet.pl)
[10:36:54] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[10:37:48] *** Joins: espadrine (Thunderbir@moz-51C6C07B.w92-128.abo.wanadoo.fr)
[10:38:24] *** Joins: adridu59 (Mibbit@moz-E1FF077C.rev.numericable.fr)
[10:39:36] <geomyidae> what's st?
[10:39:44] * geomyidae sry
[10:39:45] *** Parts: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP) (http://quassel-irc.org - Chat comfortably. Anywhere.)
[10:40:18] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[10:41:38] *** Quits: eddyb (eddy@EE946B63.921A1753.FCAAE698.IP) (Ping timeout)
[10:41:53] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[10:42:02] *** Quits: zootm (calum@moz-150DDDC2.sgyl.cable.virginm.net) (Ping timeout)
[10:42:35] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[10:42:35] *** Quits: int3_ (int3_@moz-4FFAA436.pool-182-52.dynamic.totbb.net) (Connection reset by peer)
[10:42:42] *** Joins: int3_ (int3_@moz-4FFAA436.pool-182-52.dynamic.totbb.net)
[10:43:05] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[10:45:18] *** Joins: xorg (Mibbit@moz-72194369.rev.numericable.fr)
[10:46:11] *** Parts: xorg (Mibbit@moz-72194369.rev.numericable.fr) ()
[10:46:32] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[10:47:20] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[10:48:10] *** Quits: veddan (viktor@moz-C79BC80B.csbnet.se) (Ping timeout)
[10:48:39] *** Quits: rca (rcatolino@moz-6B6EA2D.adsl.proxad.net) (Ping timeout)
[10:49:27] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[10:50:12] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[10:50:34] *** Joins: rca (rcatolino@moz-6B6EA2D.adsl.proxad.net)
[10:53:26] *** Joins: eddyb (eddy@EE946B63.921A1753.FCAAE698.IP)
[10:53:26] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[10:55:14] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[10:55:16] <adridu59> dbaupp: could you r+ yet again? seems like it failed because I had spaces before # on the tutorial... https://github.com/mozilla/rust/pull/11271
[10:55:57] *** Quits: nano (nano@moz-ED77243C.superkabel.de) (Connection reset by peer)
[10:56:10] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[10:58:15] <adridu59> :)
[10:58:29] *** Joins: sebcrozet (sebcrozet@moz-7FB6C00B.w193-252.abo.wanadoo.fr)
[10:58:52] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[11:00:17] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[11:00:43] <sebcrozet> Hi
[11:00:48] <sebcrozet> Now that @mut has been removed. How can I nest shared mutable objects?
[11:04:07] <adridu59> @ is leaving too fwiw
[11:04:29] *** Quits: eddyb (eddy@EE946B63.921A1753.FCAAE698.IP) (Ping timeout)
[11:05:10] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[11:05:15] <rca> sebcrozet: if you don't need multiple references mut ~T should be enough. If you need dynamic mutablitly you can use RefCell<T>, and if you need multiple refs to an object you can use Rc<T>
[11:05:58] <sebcrozet> rca: I really need nested shared mutable objects for some reasons. I know about Rc<RefCell<T>>, but those cannot be nested.
[11:06:54] *** Quits: jviereck (Adium@moz-18C4894F.dip0.t-ipconnect.de) (Quit: Leaving.)
[11:08:01] <sebcrozet> rca: For exemple, let say I am doing a doubly-linked list, and I want to let the user store a shared mutable object on that list.
[11:08:03] <derek_c> what's the opposite of IterBytes?  I'm trying to send a struct over the network, which is easy enough since I can convert it to bytes with `to_bytes`.  But then how do I deserialize the bytes?
[11:08:17] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[11:08:45] <rca> sebcrozet: i saw there is a new std::gc that seems to wrap the @boxes, have you tried that ?
[11:09:33] <rca> i haven't used it so far, so i don't know exactly its limitations though.
[11:09:39] <sebcrozet> rca: yeah, but this is only for immutable objects.
[11:10:02] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[11:10:03] <rca> maybe Gc<RefCell> ?? although it might prevent the nesting...
[11:10:20] *** Quits: lenstr (lenstr@CD7D5ABA.83A99F98.85938D85.IP) (Client exited)
[11:10:25] <sebcrozet> rca: oh, I did not try that!
[11:10:49] *** Quits: barosl (barosl@3DE683B6.E551553C.7544CABF.IP) (Quit: 랜덤은 쇠퇴했습니다.)
[11:10:49] *** Joins: lenstr (lenstr@CD7D5ABA.83A99F98.85938D85.IP)
[11:11:24] *** Joins: lenstr_ (lenstr@CD7D5ABA.83A99F98.85938D85.IP)
[11:11:25] *** Quits: lenstr (lenstr@CD7D5ABA.83A99F98.85938D85.IP) (Connection reset by peer)
[11:12:07] *** Quits: FreeFull (freefull@moz-E31788C9.as13285.net) (Ping timeout)
[11:13:19] *** Quits: awidegreen (awidegreen@moz-3FE0A1F.a357.priv.bahnhof.se) (Ping timeout)
[11:14:11] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[11:14:41] *** Joins: FreeFull (freefull@moz-43483E8E.as13285.net)
[11:17:46] *** Joins: jackneill (jackneill@moz-CA1BA0D4.pool.digikabel.hu)
[11:17:51] *** Joins: ekwan (ekwan@moz-6635E2EF.hsd1.ca.comcast.net)
[11:20:01] *** Parts: ekwan (ekwan@moz-6635E2EF.hsd1.ca.comcast.net) ()
[11:21:31] <sebcrozet> rca: Ok, Gc<RefCell<Gc<RefCell<T>>>> works!
[11:21:39] <sebcrozet> rca: thanks
[11:21:46] *** Quits: FreeFull (freefull@moz-43483E8E.as13285.net) (Ping timeout)
[11:22:05] <rca> it worked ? good to know, i might have to do something like that.
[11:23:19] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[11:23:41] *** Quits: dapz (textual@moz-30B6C3D1.lightspeed.rsbgtx.sbcglobal.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[11:23:46] <sebcrozet> however it is a bit painful to use (a lot of `borrow()` and `borrow_mut()` have to be called in order to modify the inermost object).
[11:23:53] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[11:24:46] <rca> yeah i can imagine, having to use Rc<RefCell<T>> is already a pain so...
[11:24:54] *** Joins: awidegreen (awidegreen@moz-3FE0A1F.a357.priv.bahnhof.se)
[11:25:01] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[11:25:33] <rca> bah this can of things will probably get easier to do as the Gc boxes improve.
[11:25:40] *** Joins: nkoep (nik@moz-7C88E9F4.pool.mediaways.net)
[11:25:41] <kimundi> can always typedef and extension method it to something shorter :P
[11:25:42] <rca> s/can/kind
[11:26:53] *** Joins: dapz (textual@moz-30B6C3D1.lightspeed.rsbgtx.sbcglobal.net)
[11:27:02] <sebcrozet> kimundi: Not sure. I dont think it is possible to make a method that returns a muttable reference to the innermost object.
[11:27:17] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[11:27:38] <kimundi> why not?
[11:27:39] <sebcrozet> kimundi: the compiler complains about some references that do not live long enough.
[11:27:47] *** Joins: spider-mario (spidermari@moz-81131DB6.fbx.proxad.net)
[11:27:52] <dbaupp> kimundi: borrowing mutably uses RAII
[11:28:11] <dbaupp> so let tmp =  RefCell.borrow_mut(); let mut_reference = tmp.get();
[11:28:13] <rca> because the RefCell go out of scope.
[11:28:22] <kimundi> ah, yeah
[11:28:25] <dbaupp> and the dtor on tmp will reset the RefCell
[11:28:44] *** Quits: spider-mario (spidermari@moz-81131DB6.fbx.proxad.net) (Input/output error)
[11:28:58] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[11:29:15] <rca> maybe an api that uses closures to modify the innermost value ?
[11:29:23] <kimundi> write something that takes a higher order function then :P
[11:29:40] <dbaupp> I thought there was a .with_mut or something on RefCell already
[11:29:42] <dbaupp> :)
[11:29:56] *** Quits: int3_ (int3_@moz-4FFAA436.pool-182-52.dynamic.totbb.net) (Client exited)
[11:30:06] *** Joins: spider-mario (spidermari@moz-81131DB6.fbx.proxad.net)
[11:30:19] *** Joins: int3_ (int3_@moz-4FFAA436.pool-182-52.dynamic.totbb.net)
[11:30:54] *** Joins: jviereck (Adium@moz-18C4894F.dip0.t-ipconnect.de)
[11:31:39] *** Joins: jvshahid (jvshahid@moz-C1BC0CE4.nyc.res.rr.com)
[11:32:09] *** Quits: int3_ (int3_@moz-4FFAA436.pool-182-52.dynamic.totbb.net) (Ping timeout)
[11:32:15] *** Joins: ofeldt (ofeldt@moz-A4CEA4D4.dip0.t-ipconnect.de)
[11:32:29] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[11:33:20] *** Quits: ofeldt- (ofeldt@moz-C67C85AF.dip0.t-ipconnect.de) (Ping timeout)
[11:35:01] *** Joins: vmx (vmx@moz-F561A5AD.pools.arcor-ip.net)
[11:37:27] *** Quits: jviereck (Adium@moz-18C4894F.dip0.t-ipconnect.de) (Quit: Leaving.)
[11:37:31] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Client exited)
[11:38:52] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[11:41:03] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[11:41:41] *** Quits: jvshahid (jvshahid@moz-C1BC0CE4.nyc.res.rr.com) (Ping timeout)
[11:41:58] *** Quits: awidegreen (awidegreen@moz-3FE0A1F.a357.priv.bahnhof.se) (Ping timeout)
[11:42:30] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[11:43:53] *** Quits: ramitos (ramitos@moz-60679625.socal.res.rr.com) (Ping timeout)
[11:44:32] <heftig_> Gc<T> alone is like @, Gc<RefCell<T>> is like @mut ?
[11:44:43] *** Joins: FreeFull (freefull@moz-F702355.as13285.net)
[11:45:13] *** heftig_ is now known as heftig
[11:46:09] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[11:46:21] *** Joins: awidegreen (awidegreen@moz-3FE0A1F.a357.priv.bahnhof.se)
[11:46:33] <dbaupp> heftig: yes
[11:46:33] <kimundi> heftig: yes
[11:46:46] * dbaupp = kimundi.clone()
[11:47:29] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Client exited)
[11:47:40] <kimundi> xD
[11:48:16] *** Quits: awidegreen (awidegreen@moz-3FE0A1F.a357.priv.bahnhof.se) (Ping timeout)
[11:48:58] <derek_c> what's the opposite of IterBytes?  I'm trying to send a struct over the network, which is easy enough since I can convert it to bytes with `to_bytes`.  But then how do I deserialize the bytes?
[11:49:11] *** Joins: ramitos (ramitos@moz-60679625.socal.res.rr.com)
[11:49:31] <dbaupp> derek_c: impossible in general
[11:49:44] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[11:49:50] <dbaupp> IterBytes isn't necessarily a reversible encoding
[11:50:16] <kimundi> That sounds more like a Decodable and Encodable scenario 
[11:50:21] <dbaupp> yeah
[11:50:25] <dbaupp> that'd be better
[11:50:29] <kimundi> IterBytes is just for getting raw bytes for hash functions to work with
[11:50:46] *** Quits: rca (rcatolino@moz-6B6EA2D.adsl.proxad.net) (Ping timeout)
[11:50:46] <dbaupp> (and really should be removed in favour of just using Hash directly...)
[11:51:16] <luz> how should i go about turning the raw bytes of a u32 into a u32?
[11:51:36] <derek_c> kk I see.  I'm trying to figure out how to use decoder
[11:51:47] *** Quits: ramitos (ramitos@moz-60679625.socal.res.rr.com) (Ping timeout)
[11:52:04] <derek_c> I managed to encode the struct and send it over the network
[11:52:16] <dbaupp> derek_c: using Encodable/Decodable?
[11:52:26] <derek_c> dbaupp: yeah
[11:52:34] *** Joins: awidegreen (awidegreen@moz-3FE0A1F.a357.priv.bahnhof.se)
[11:52:35] <dbaupp> luz: as in you have a &[u8]?
[11:52:39] <luz> yeah
[11:53:01] <dbaupp> you can use one of the readers in std::io::mem to read from a &[u8]
[11:53:15] <dbaupp> and Readers have read_le_u32 and read_be_u32 methods
[11:53:20] <luz> oh
[11:53:22] <luz> thanks
[11:53:23] <dbaupp> (little endian and big endian)
[11:53:40] <dbaupp> lu(I may have the names wrong, btw)
[11:53:43] <dbaupp> *luz
[11:53:46] <dbaupp> derek_c: give me a sec
[11:53:51] <derek_c> I'm using the encoder and decoder provided by JSON
[11:53:58] <derek_c> I mean extra::json
[11:54:10] <dbaupp> perfect
[11:54:15] <dbaupp> I have just the example
[11:54:22] <derek_c> what baffles me is that extra::json::Decoder::new takes a json value
[11:54:35] <derek_c> http://static.rust-lang.org/doc/master/extra/json/struct.Decoder.html
[11:54:40] <derek_c> and I'm not sure what that value should be
[11:54:58] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[11:55:00] <derek_c> so I have a TcpStream, from which I will read the bytes
[11:55:09] <dbaupp> derek_c: https://github.com/huonw/multibuilder/blob/master/main.rs#L74
[11:55:20] <dbaupp> and the previous line
[11:55:33] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[11:55:35] <dbaupp> (although that code hasn't been updated for init -> new changes yet)
[11:57:01] <derek_c> dbaupp: I think from_reader returns a Result?
[11:57:32] *** Joins: ramitos (ramitos@moz-60679625.socal.res.rr.com)
[11:57:36] *** Quits: bleibig (bleibig@moz-B4D9C5AF.hsd1.ca.comcast.net) (Quit: bleibig)
[11:57:42] <dbaupp> maybe?
[11:57:44] <derek_c> ah, I see what's hapenning
[11:57:54] <derek_c> dbaupp: thanks I think I know what to do now
[11:57:55] *** Joins: kngl (Adium@E5907D90.770DEA4D.7C797F8E.IP)
[11:57:57] <derek_c> dbaupp: thanks :)
[11:58:33] <dbaupp> \o/
[11:58:34] <dbaupp> np
[11:59:21] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[11:59:49] *** Joins: eddyb (eddy@EE946B63.921A1753.FCAAE698.IP)
[12:00:51] <adridu59> dbaupp: seems like my inline allow unused imports don't work http://buildbot.rust-lang.org/builders/auto-linux-64-nopt-t/builds/2467/steps/test/logs/stdio
[12:00:58] *** Quits: FreeFull (freefull@moz-F702355.as13285.net) (Ping timeout)
[12:01:18] <dbaupp> adridu59: oh :(
[12:01:23] *** Quits: eddyb (eddy@EE946B63.921A1753.FCAAE698.IP) (Quit: Konversation terminated!)
[12:01:25] *** Quits: ramitos (ramitos@moz-60679625.socal.res.rr.com) (Ping timeout)
[12:01:31] *** Joins: eddyb (eddy@EE946B63.921A1753.FCAAE698.IP)
[12:01:40] <adridu59> all sort of code that worked back when it wasn't xfailed seems to not work now, ugh
[12:01:54] <dbaupp> adridu59: I'm afraid you may have to do the extern mod extra; thing that ChrisMorgan was describing yesterday
[12:01:58] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[12:02:18] <ChrisMorgan> Come on, it's not that bad. It makes them work.
[12:02:41] <adridu59> extern mod extra must be placed after the directive with a semicolon right?
[12:02:48] *** Quits: kvanb (kvanb@moz-CDB93B52.lnse3.win.bigpond.net.au) (Quit: kvanb)
[12:02:56] <dbaupp> ChrisMorgan: it is pretty ugly
[12:03:00] <dbaupp> adridu59: yes
[12:03:02] *** Joins: ronny (ronnypfa@moz-E7EE6ABE.uberspace.de)
[12:03:05] <ronny> hi
[12:03:15] <adridu59> and how do I test that locally?
[12:03:33] <adridu59> I did test with rustc as standalone previously but it doesn't expose those cornercases
[12:04:06] <ronny> is anyone aware of a testing tool for rust that supports parametrized dependency injection for test functions (quickcheck style
[12:04:07] *** Quits: jj2baile (jon@moz-345B5EBA.csclub.uwaterloo.ca) (Ping timeout)
[12:04:09] <dbaupp> adridu59: `make check-stage2-doc` maybe
[12:04:21] <dbaupp> ronny: there are some (half) ports of quickcheck
[12:04:33] *** Quits: Luqman (laden@moz-AB7945E9.csclub.uwaterloo.ca) (Ping timeout)
[12:04:37] <ronny> so nothing too complete :/
[12:04:52] <dbaupp> https://github.com/mozilla/rust/issues/7232
[12:05:53] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[12:06:10] <dbaupp> adridu59: (I don't remember the exact targets; I'm checking now)
[12:06:41] <ronny> none of those de dependency injection as well :(
[12:06:56] *** Joins: ramitos (ramitos@moz-60679625.socal.res.rr.com)
[12:07:24] <dbaupp> adridu59: oh, check-stage2-doc-tutorial-condition seems to work too
[12:07:40] *** Quits: awidegreen (awidegreen@moz-3FE0A1F.a357.priv.bahnhof.se) (Ping timeout)
[12:08:23] <adridu59> says no rules to make target
[12:08:31] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[12:08:42] *** Quits: ramitos (ramitos@moz-60679625.socal.res.rr.com) (Ping timeout)
[12:09:14] <dbaupp> hm
[12:09:18] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[12:09:22] <dbaupp> what's the exact command you are running?
[12:09:31] <adridu59> make check-stage2-doc-tutorial-condition
[12:09:43] <adridu59> but I don't have rust built on the folder, just binaries
[12:09:49] *** Joins: jj2baile (jon@moz-345B5EBA.csclub.uwaterloo.ca)
[12:10:18] *** Joins: Luqman (laden@moz-AB7945E9.csclub.uwaterloo.ca)
[12:10:31] <dbaupp> oh
[12:10:40] * dbaupp is bad at typing and reading
[12:10:50] <dbaupp> it's mean to be ...-conditions
[12:10:51] <dbaupp> sorry
[12:11:01] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[12:11:15] <dbaupp> (I.e. you can test any of the doc/ files by `check-stage2-doc-<filename>`
[12:12:00] *** Joins: awidegreen (awidegreen@moz-3FE0A1F.a357.priv.bahnhof.se)
[12:12:28] *** Joins: ramitos (ramitos@moz-60679625.socal.res.rr.com)
[12:13:41] <adridu59> hm that works
[12:13:45] <adridu59> good to know
[12:13:49] *** Quits: awidegreen (awidegreen@moz-3FE0A1F.a357.priv.bahnhof.se) (Ping timeout)
[12:14:00] <adridu59> have to make llvm first (y)
[12:14:09] *** Quits: ramitos (ramitos@moz-60679625.socal.res.rr.com) (Ping timeout)
[12:14:37] *** Joins: ramitos (ramitos@moz-60679625.socal.res.rr.com)
[12:14:45] *** Joins: FreeFull (freefull@moz-AA447BB6.as13285.net)
[12:14:59] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[12:15:13] <derek_c> dbaupp: apparently json::from_reader reads everything from the reader (`read_to_end`).  So if there are multiple objects being sent over the network, I guess I will have to manually separate the byte stream?
[12:15:25] <dbaupp> derek_c: oh
[12:15:27] <dbaupp> I guess so
[12:15:48] <derek_c> dbaupp: kk
[12:16:46] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[12:17:36] *** Quits: khodzha1 (khodzha@8CCE77A.3E410295.CA6E2165.IP) (Client exited)
[12:17:47] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[12:17:51] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[12:18:11] *** Joins: awidegreen (awidegreen@moz-3FE0A1F.a357.priv.bahnhof.se)
[12:20:01] *** Joins: tetsuhar_ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[12:20:08] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[12:21:46] *** Quits: tetsuhar_ (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[12:23:34] *** Joins: rca (rcatolino@moz-6B6EA2D.adsl.proxad.net)
[12:23:35] *** jorendorff_away is now known as jorendorff
[12:24:04] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[12:25:52] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[12:26:09] *** Joins: semahawk (Mibbit@moz-654C47EF.citysat.com.pl)
[12:27:24] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[12:28:05] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[12:30:13] *** Quits: qlkzy (qlkzy@moz-A97B5CE9.members.linode.com) (Quit: ZNC - http://znc.sourceforge.net)
[12:30:37] *** Joins: qlkzy (qlkzy@moz-A97B5CE9.members.linode.com)
[12:31:10] *** Quits: semahawk (Mibbit@moz-654C47EF.citysat.com.pl) (Quit: http://www.mibbit.com ajax IRC Client)
[12:34:13] *** Quits: awidegreen (awidegreen@moz-3FE0A1F.a357.priv.bahnhof.se) (Ping timeout)
[12:35:24] *** Joins: WebeWizard (Mibbit@moz-7CCD1DAE.ks.ks.cox.net)
[12:35:43] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Client exited)
[12:35:54] <WebeWizard> hi guys, i'm getting the cannot find crate for 'std' on the nightly build
[12:36:04] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[12:36:09] <WebeWizard> i'm sure it's been addressed since then
[12:36:17] <WebeWizard> just sayin
[12:37:07] *** Quits: lenstr_ (lenstr@CD7D5ABA.83A99F98.85938D85.IP) (Client exited)
[12:37:38] *** Joins: awidegreen (awidegreen@moz-3FE0A1F.a357.priv.bahnhof.se)
[12:37:41] *** Joins: lenstr (lenstr@CD7D5ABA.83A99F98.85938D85.IP)
[12:38:09] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[12:38:09] *** Quits: lenstr (lenstr@CD7D5ABA.83A99F98.85938D85.IP) (Connection reset by peer)
[12:38:31] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[12:39:03] *** Quits: FreeFull (freefull@moz-AA447BB6.as13285.net) (Ping timeout)
[12:39:08] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[12:39:24] *** Joins: lenstr (lenstr@CD7D5ABA.83A99F98.85938D85.IP)
[12:39:56] <kimundi> WebeWizard: That is usually a indication that something in your build environment went wrong - try running configure and make again
[12:40:12] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[12:40:16] <kimundi> oh wait, a nightly build
[12:40:21] <kimundi> which nightly build?
[12:40:26] <kimundi> for which system?
[12:40:34] *** Quits: awidegreen (awidegreen@moz-3FE0A1F.a357.priv.bahnhof.se) (Ping timeout)
[12:41:16] <ChrisMorgan> Windows?
[12:44:52] *** Joins: FreeFull (freefull@moz-8E940E89.as13285.net)
[12:46:26] *** Joins: tupshin_ (quassel@moz-E7B03838.c3-0.nyr-ubr1.nyr.ny.cable.rcn.com)
[12:46:31] <adridu59> I love compiling LLVM
[12:46:36] <Ms2ger> http://rust-class.org/pages/using-rust-for-an-undergraduate-os-course.html
[12:46:39] *** Quits: FreeFull (freefull@moz-8E940E89.as13285.net) (Connection reset by peer)
[12:46:51] *** Joins: mindcat (mindcat@16FC3D2.8DC48494.DBA68950.IP)
[12:47:55] <dbaupp> adridu59: do you have ccache?
[12:48:01] <dbaupp> adridu59: https://github.com/mozilla/rust/wiki/Note-ccache
[12:48:41] <dbaupp> Ms2ger: some discussion http://www.reddit.com/r/rust/comments/1ucrfg/using_rust_for_an_undergraduate_os_course/ , https://news.ycombinator.com/item?id=7009414
[12:49:48] <adridu59> that OS course is interesting
[12:49:51] <Ms2ger> I'm surprised he didn't mention C++ as an option
[12:49:55] <adridu59> but picking Rust is quite crazy
[12:50:01] <dbaupp> heh, we have native::bookeeping, I don't know if that's boo keeping or book eeping
[12:50:51] *** Joins: devbug (quassel@C4A1EF48.9839AE2F.6ECEDC28.IP)
[12:51:24] * Ms2ger keeps the boos
[12:51:36] <Ms2ger> adridu59, well, I dunno
[12:51:51] <Ms2ger> adridu59, it's not like this is code that needs to be maintained or will be used for anythin
[12:51:52] <Ms2ger> g
[12:51:52] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[12:54:51] <adridu59> sure
[12:55:04] <adridu59> but I mean as a teacher I couldn't have done that choice
[12:55:20] <adridu59> suppose you have to do something and the relevant code is full of bugs
[12:55:35] <Ms2ger> Sounds like C ;)
[12:56:05] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[12:57:20] *** Joins: diverse (diverse@moz-ED94B8D.oc.oc.cox.net)
[12:57:33] *** Quits: derek_c (derek@1D32CAAF.78B8FD9.C34016C.IP) (Quit: Leaving)
[12:57:41] <Ms2ger> "our class benefitted greatly from help from the Rust community throughout the course."
[12:57:43] <Ms2ger> Go y'all!
[12:58:01] <adridu59> the dead code lint is awesome
[12:58:26] <adridu59> honestly generally speaking developing rust in the open is pretty awesome
[12:58:37] <adridu59> I don't know if there's a lot of language that were done that way
[12:59:01] *** jorendorff is now known as jorendorff_away
[12:59:03] <mhi> He should have concentrated on teaching the topic at hand -- OS fundamentals. Writing safe C might be hard, but IMHO it's not that important for an OS course. C would have been fine.
[13:00:02] <mhi> (Assuming they have some C knowledge already. When both languages have to be learnt from scratch anyway it doesn't matter, but that's probably not the case for an OS course.)
[13:00:26] <diverse> http://pastebin.com/AekZe7df
[13:01:21] <dbaupp> diverse: either update or use `writer.write(line.as_bytes())`
[13:01:37] <dbaupp> diverse: (iirc the lines returned by .lines() actually include the \n already)
[13:02:04] <ChrisMorgan> But caution: the last line may or may not have a trailing \n.
[13:02:48] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[13:04:56] <diverse> dbaupp: thanks the latter fixed it. By 'update' you mean updating to master? I only updated a couple of days ago.
[13:05:25] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[13:05:30] <zokier`> kimundi, hmm. i hit that can't find crate for `std` too right now. arch linux, thestingers nightlies
[13:06:01] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[13:06:35] <kimundi> mhi: I see that argument a lot "a OS course should concentrate on OS, not on system programming" - I agree in principle, but that is something that a lot of universities do in OS course - my OS course assignments in a German University also just amounted to "write a crappe C program that somehow works with mutexes and IPC"
[13:06:50] *** Joins: mib_95mxwg (Mibbit@moz-4A19983C.ip227.fastwebnet.it)
[13:06:59] <dbaupp> diverse: yeah, acrichto actually just re-added write_line today or yesterday
[13:07:02] <kimundi> zokier`: Oh, well then I'm going to hit them to, probably. once I bother to update them again, that is ;)
[13:07:21] <mib_95mxwg> what's the purpose of the Cell and RefCell type?
[13:08:14] <diverse> dbaupp: perfect timing for me -_-
[13:08:18] <kimundi> mib_95mxwg: Allow dynamic checking of ownership transfer and mutably borrowing something in a immutable location
[13:08:23] *** Joins: xoebus (xoebus@moz-A192BC54.xen.prgmr.com)
[13:09:05] <kimundi> mhi: So, what I mean is its not exactly the profs fault - he just did what everyone does, apparently :P
[13:09:35] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[13:09:40] <kimundi> Granted, I only have two datapoints, so I might be wrong, too 
[13:09:49] <mhi> kimundi: I primarily doubted the choice of language, not the topics taught. :)
[13:09:58] <mib_95mxwg> what's dynamic checking of ownership transfer in plain English?
[13:10:28] *** Joins: awidegreen (awidegreen@moz-F49BC53B.a357.priv.bahnhof.se)
[13:11:23] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[13:11:38] <kimundi> mib_95mxwg: "Compiler: This code could move the same variable twice, so I won't let you. Cell: Fine, I pretend I'm not moving anything, while doing it anyway behind you back but check to only do it once with a bool flag"
[13:12:13] <mib_95mxwg> thanks
[13:13:00] * kimundi had to much fun writing that
[13:13:16] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[13:14:01] <skrylar> there is also refcell, which is nice
[13:14:22] *** Quits: awidegreen (awidegreen@moz-F49BC53B.a357.priv.bahnhof.se) (Ping timeout)
[13:14:25] <ChrisMorgan> kimundi: that's RefCell, right? Cell has no checking.
[13:15:37] <kimundi> ChrisMorgan: Hm, did Cell change in the last 4 months? IF yes, then I might simply be wrong :)
[13:15:49] <ChrisMorgan> Yes, the old Cell has been discarded.
[13:16:41] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[13:16:43] <ChrisMorgan> Now, Cell is Pod with get() and set() and no checking. RefCell is vaguely like the old Cell.
[13:17:20] *** Joins: courgette (Mibbit@moz-9D27B282.rev.sfr.net)
[13:18:29] <courgette> adridu59: Julia is also developed in the open
[13:19:53] <diverse> dbaupp: was '.lines()' also removed from Reader?
[13:20:09] <dbaupp> diverse: yeah
[13:20:24] <dbaupp> diverse: the easiest way to get it is via std::io::buffered::BufferedReader
[13:20:53] <dbaupp> diverse: (it's now on the Buffer trait, which that type implements.)
[13:21:10] <diverse> gotcha
[13:21:11] <zokier`> is it intentional that f64 does not implement TotalOrd/.cmp?
[13:21:20] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[13:21:21] <dbaupp> zokier`: yes
[13:21:26] <Ms2ger> dbaupp, interesting how /r/rust had some interesting discussion, and HN basically only whining
[13:21:42] <dbaupp> zokier`: since NaN.cmp(NaN) isn't defined
[13:22:10] <zokier`> Ms2ger, /r/rust has mostly people who are already interested in rust...
[13:22:14] <dbaupp> Ms2ger: well, /r/rust has a strong moderator (bstrie) and is extremely niche, and HN is HN :P
[13:23:11] * Ms2ger is also surprised by the "this doesn't get me a job!" argument
[13:23:39] * dbaupp hated that aspect of the CS classes he took
[13:23:53] <negativezero> it's an attitude that's pretty pervasive at undergraduate universities in the US nowadays
[13:24:06] <ChrisMorgan> I'd instead argue that going with Rust is getting you in on the ground floor, if you have faith that Rust will become even mildly popular.
[13:24:07] <ChrisMorgan> And I do.
[13:24:32] <ChrisMorgan> bstrie: can we please have a big slab of a warning on the submission page for /r/rust saying "THIS IS NOT ABOUT THE GAME RUST! /r/playrust!"
[13:24:34] <Ms2ger> ChrisMorgan, sure, but likely not by the time these students graduate :)
[13:24:49] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[13:25:15] <ChrisMorgan> Yeah, at present Mozilla are the main ones hiring for Rust knowledge. But it'll come.
[13:25:20] <negativezero> I suppose a charitable way of explaining it would be to say that with college degrees being the new high school diplomata, a large chunk of the people there feel like they have been forced into it to have any sort of chance at the job market
[13:25:22] *** Quits: sigma (sigma@C91C7F36.70518F41.9D18269F.IP) (Ping timeout)
[13:25:33] <negativezero> and have a neglectable amount of actual academic interest
[13:25:39] <dbaupp> ChrisMorgan: it won't help
[13:25:41] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[13:25:53] <dbaupp> ChrisMorgan: (the /r/playrust warning)
[13:26:02] <adridu59> dbaupp: pass
[13:26:13] <dbaupp> adridu59: you want a new r+?
[13:26:15] <adridu59> waited over an hour for this!
[13:26:21] <ChrisMorgan> dbaupp: I'd like to see it so that it can be proven that yes, people really will ignore absolutely *every* warning.
[13:26:36] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[13:28:45] <adridu59> dbaupp: ty
[13:29:04] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[13:29:30] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[13:29:38] *** Joins: sk (sk@79248627.29248532.33B96495.IP)
[13:30:52] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[13:32:00] *** Quits: WebeWizard (Mibbit@moz-7CCD1DAE.ks.ks.cox.net) (Quit: http://www.mibbit.com ajax IRC Client)
[13:32:17] *** Quits: tupshin_ (quassel@moz-E7B03838.c3-0.nyr-ubr1.nyr.ny.cable.rcn.com) (Ping timeout)
[13:32:27] <dbaupp> ChrisMorgan: http://www.reddit.com/r/rust/submit
[13:32:31] *** Quits: sebcrozet (sebcrozet@moz-7FB6C00B.w193-252.abo.wanadoo.fr) (Quit: Gone)
[13:32:34] <dbaupp> ChrisMorgan: (at the bottom)
[13:32:53] <ChrisMorgan> dbaupp: can it be three times as big and bright red? Just for a few days?
[13:32:59] <dbaupp> ChrisMorgan: don't know
[13:33:01] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[13:33:01] *** Quits: courgette (Mibbit@moz-9D27B282.rev.sfr.net) (Quit: http://www.mibbit.com ajax IRC Client)
[13:33:07] * dbaupp <- noob reddit mod
[13:33:15] <kimundi> ChrisMorgan: The main problem seems to be people posting to the subreddit without even visiting it
[13:33:30] <kimundi> LIke: submit new post -> r/rust
[13:33:36] <ChrisMorgan> And in capital letters? Accusative? Even nasty in tone?
[13:33:58] <ChrisMorgan> Oh, you can do that, can you. Ah, that would explain a little.
[13:34:12] <dbaupp> ChrisMorgan: http://www.reddit.com/submit
[13:34:35] *** Joins: fabiand (fabiand@moz-5BF251CE.adsl.alicedsl.de)
[13:35:06] <ChrisMorgan> At least it shows that info. Still not as good as a big nasty red banner, but a good start. Now let's watch it continue to be ignored!
[13:35:50] <adridu59> @ is being replaced by Gc<> right?
[13:35:56] <kimundi> yep
[13:36:20] <dbaupp> ChrisMorgan: I guess bstrie can probably sling some CSS to format it powerfully... but I don't want to trample on his domain tooooo much. :)
[13:36:28] <adridu59> is the @ notation being definitely abandoned or transitioned over?
[13:36:35] <dbaupp> abandoned
[13:36:43] <ChrisMorgan> dbaupp: well, I guess you can't do that for /submit, only for /r/rust/submit
[13:36:54] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[13:37:01] <adridu59> that's to be inline with Rc<> and all other smart pointers?
[13:37:18] <whitequark> looking at the recent de-@muting changes, it appears that most of them didn't require mut or @ at all
[13:37:35] <adridu59> old code
[13:37:36] <whitequark> and in a few cases @ was actually needed, but not @mut...
[13:37:49] *** Quits: mindcat (mindcat@16FC3D2.8DC48494.DBA68950.IP) (Quit: leaving)
[13:37:58] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[13:38:00] <whitequark> sure, but I find it interesting as a representative of how often you'd need smart pointers in a relatively large codebase
[13:38:06] <adridu59> I like one-char notations notetheless
[13:38:09] <whitequark> that is, not often at all
[13:38:12] <whitequark> I like it too
[13:38:25] *** Joins: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net)
[13:38:27] <whitequark> but apparently it won't be nearly as painful as I expected
[13:38:31] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[13:38:49] <whitequark> it'd be really sad to see ~ go too.
[13:38:54] <adridu59> I'd like to still have ~ at least
[13:38:55] <adridu59> yea
[13:38:55] <dbaupp> ChrisMorgan: we could find a vulnerability in reddit's stack and modify the /submit page too
[13:38:57] <dbaupp> :P
[13:39:22] <ChrisMorgan> "Hey, we solved the problem of the vulnerability, too—we rewrote it all in Rust."
[13:39:27] <dbaupp> ChrisMorgan: (unless of course they're using rust-http, in which case there is clearly no possibility of a security hole)
[13:39:29] <dbaupp> heh
[13:39:41] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[13:39:55] <ChrisMorgan> I would be surprised if there was no DoS attack possible in rust-http at present.
[13:40:05] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[13:40:08] <dbaupp> meh, not security :P
[13:40:12] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[13:40:34] <ChrisMorgan> Maybe not the type that grants arbitrary code execution, but it is a rather debilitating type of thing.
[13:41:16] *** Quits: Ms2ger (Ms2ger@7AE7573F.9612FC09.3773EA9F.IP) (Ping timeout)
[13:41:41] <diverse> you know what they say, "In Rust we Trust"
[13:42:14] *** Quits: ecl3ctic (Mibbit@578C64B6.F0F44EFA.76AE55C1.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[13:42:38] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[13:43:09] *** Quits: twi (Adium@moz-174339A4.cust.dsl.vodafone.it) (Quit: Leaving.)
[13:43:26] *** Joins: Ms2ger (Ms2ger@125CFB8C.2C129564.3773EA9F.IP)
[13:46:18] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[13:46:36] <ChrisMorgan> Well, I need to go to bed now. Busy week from Sunday to Sunday; I'm handling some of the AV stuff for a church conference. Doubtless people will get their Microsoft PowerPoint (wow! I remember the time when it was Microsoft® Office™ PowerPoint® or some such thing) slides to me only three minutes before opening time on a consistent basis
[13:46:36] <ChrisMorgan> and the live streaming (my other duty) will fall apart immediately. I'll know the reason in that case—either a hardware problem or because they didn't use Rust for the software stack.
[13:46:53] *** Quits: kngl (Adium@E5907D90.770DEA4D.7C797F8E.IP) (Quit: Leaving.)
[13:47:03] *** Joins: kngl (Adium@E5907D90.770DEA4D.7C797F8E.IP)
[13:47:52] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[13:48:16] <ChrisMorgan> So I'll not have much time for Rust at all in the coming week. ☹
[13:48:28] *** Quits: Ms2ger (Ms2ger@125CFB8C.2C129564.3773EA9F.IP) (Ping timeout)
[13:48:58] *** Joins: Ms2ger (Ms2ger@125CFB8C.2C129564.3773EA9F.IP)
[13:49:12] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[13:49:49] *** Joins: Sorella (queen@9D963F5D.DF5D8AE7.54BCAB54.IP)
[13:51:27] *** Quits: sk (sk@79248627.29248532.33B96495.IP) (Quit: Leaving)
[13:51:45] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[13:52:31] *** Joins: FreeFull (freefull@moz-7C2863C6.as13285.net)
[13:52:53] *** Joins: tupshin_ (quassel@moz-E7B03838.c3-0.nyr-ubr1.nyr.ny.cable.rcn.com)
[13:54:17] *** Quits: devbug (quassel@C4A1EF48.9839AE2F.6ECEDC28.IP) (Quit: http://quassel-irc.org - Chat comfortably. Anywhere.)
[13:55:43] *** Quits: Ms2ger (Ms2ger@125CFB8C.2C129564.3773EA9F.IP) (Ping timeout)
[13:55:59] *** Joins: Ms2ger (Ms2ger@125CFB8C.2C129564.3773EA9F.IP)
[14:03:31] <adridu59> Powerpoint? I always use beamer these days
[14:04:07] *** Quits: eddyb (eddy@EE946B63.921A1753.FCAAE698.IP) (Ping timeout)
[14:04:58] *** Quits: kngl (Adium@E5907D90.770DEA4D.7C797F8E.IP) (Quit: Leaving.)
[14:05:07] *** Joins: kngl (Adium@E5907D90.770DEA4D.7C797F8E.IP)
[14:07:23] * dbaupp just asked his first Rust question on SO
[14:08:01] <dbaupp> although it's only tangentially Rusty.
[14:08:12] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[14:08:38] *** Quits: mentero (mentero@moz-D61C6F02.proxnet.pl) (Ping timeout)
[14:10:15] *** Joins: bkircher (bkircher@moz-63979D20.dip0.t-ipconnect.de)
[14:10:55] *** Quits: logicalparadox (logicalpar@7E906627.EDE60785.5A75A172.IP) (Ping timeout)
[14:12:06] <negativezero> Is there some way of retrieving the inferred type of an expression?
[14:12:59] <dbaupp> negativezero: at compile time or run time?
[14:13:37] <negativezero> dbaupp: Either works for my purposes.
[14:14:08] <dbaupp> negativezero: `let () = expression;` will throw an error with the type
[14:14:20] <dbaupp> (or, if it doesn't throw an error, expression has type ().)
[14:14:33] *** Joins: twi (Adium@366146E1.F33C246D.C3DDD137.IP)
[14:14:36] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[14:14:54] <negativezero> That feels kind of immoral, but ok. :P
[14:15:04] <dbaupp> yup :D
[14:15:53] <Ms2ger> negativezero, that's such a big word ;)
[14:17:46] *** Quits: anasyrma (x@moz-DE175E38.caltech.edu) (Ping timeout)
[14:17:52] <bjz> a fellow muses to me on freenode: "I wonder if you can get the address of a goto label [In Rust]"
[14:18:25] *** Joins: Earnestly (earnest@88884C6.A3735F9C.39C00A7A.IP)
[14:18:27] <dbaupp> I wonder if you can write a goto label in Rust? :P
[14:18:28] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[14:18:30] *** Joins: derek_c (derek@D74B8E98.8FCFF51F.AA745434.IP)
[14:18:35] <derek_c> how do you label a loop?
[14:18:42] <dbaupp> heh
[14:18:46] *** Joins: anasyrma (x@moz-DE175E38.caltech.edu)
[14:18:57] <dbaupp> 'label: loop { ... break 'label; ... }
[14:19:03] <dbaupp> similarly with `for`
[14:19:09] <dbaupp> I don't think it works with `while` yet
[14:19:28] <derek_c> dbaupp: is the ' necessary?
[14:19:31] <negativezero> I wonder if it would be possible to get something like typeof!(<expression>). Not sure at what point those things are evaluated and if it would be possible to somehow retrieve typing information in them.
[14:19:31] <dbaupp> yes
[14:19:46] <dbaupp> negativezero: https://github.com/mozilla/rust/issues/3228
[14:19:51] <whitequark> negativezero: macros are expanded way before typechecking
[14:19:52] <dbaupp> (it's kinda-proposed)
[14:20:00] <derek_c> thanks
[14:20:02] <whitequark> so it is highly nontrivial with current architecture
[14:20:09] <dbaupp> whitequark: it depends what it expanded
[14:20:11] <dbaupp> to
[14:20:29] <whitequark> right
[14:20:30] <bjz> dbaupp: "I am pretty sure I saw a jump or jmp in the blogposts by the guy writing a kernel in Rust"
[14:20:43] <dbaupp> bjz: s/guy/girl/ I guess
[14:20:46] *** Joins: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com)
[14:20:49] <dbaupp> (assuming it was jvns)
[14:20:54] <bjz> yep
[14:20:55] <dbaupp> in any case, that was all in inline asm
[14:21:08] <whitequark> (was it even for goto?)
[14:21:17] <dbaupp> so it was using inline asm labels and jmps
[14:21:30] <dbaupp> not rust ones
[14:21:32] *** Joins: twi1 (Adium@366146E1.F33C246D.C3DDD137.IP)
[14:21:41] <dbaupp> (since rust ones don't exist. :P )
[14:21:57] <negativezero> dbaupp: That's referring to types of other expressions for typing new ones rather than actually getting it out as a string or similar, from what I understand.
[14:22:09] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[14:22:20] <bjz> dbaupp: cool, passed it on
[14:22:30] <negativezero> I'm leaning a bit out of the window here, but I have really fond memories of an IDE interface that people hacked up for PolyML (a Standard ML compiler) back in the days which could interactively infer the types of arbitrary subexpressions.
[14:22:34] *** Quits: twi (Adium@366146E1.F33C246D.C3DDD137.IP) (Ping timeout)
[14:22:54] <dbaupp> negativezero: oh, there is actually a way to get a string
[14:23:02] <dbaupp> but it's more hacky than a compiler error
[14:23:21] *** Quits: twi1 (Adium@366146E1.F33C246D.C3DDD137.IP) (Ping timeout)
[14:23:39] *** Joins: twi (Adium@366146E1.F33C246D.C3DDD137.IP)
[14:23:39] <negativezero> As in, with appropriate IDE support, you could just click a token and it would give you back the type it inferred for the smallest syntax subtree it was a part of.
[14:23:43] <dbaupp> fn type_string<T>(_: &T) -> &'static str { unsafe { (*std::intrinsics::unstable::get_tydesc::<T>()).name } } type_string(&(some_expression))
[14:24:12] <dbaupp> that would be possible in theory
[14:24:36] <dbaupp> but the current design of the compiler doesn't handle partial input well (i.e. it doesn't handle it at all)
[14:25:18] <dbaupp> so we could in theory do that (with a lot of elbow grease) now since the compiler is a library that can be driven/examined externally
[14:25:25] <dbaupp> but only for complete and valid programs
[14:25:34] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[14:25:51] <negativezero> I see.
[14:26:05] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[14:27:29] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[14:27:52] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[14:28:36] *** Quits: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com) (Quit: csherratt)
[14:28:59] <negativezero> Having access to whatever was inferred before the point of failure in the case of programs that parse fine but don't typecheck seems like it might be sufficient to achieve this.
[14:29:30] <dbaupp> I don't think we have that
[14:29:32] *** Quits: bkircher (bkircher@moz-63979D20.dip0.t-ipconnect.de) (Connection reset by peer)
[14:29:35] <dbaupp> unfortunately :(
[14:30:06] <negativezero> I imagine sloppily making a program syntactically valid by closing all open blocks and what-not should work in most cases...
[14:30:12] *** Joins: bkircher (bkircher@moz-63979D20.dip0.t-ipconnect.de)
[14:30:18] <negativezero> ...and I wonder how much one would need to change to achieve the above.
[14:31:15] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[14:33:23] <bjz> dbaupp: he linked me to this, which apparently they use in the erlang vm: http://blog.llvm.org/2010/01/address-of-label-and-indirect-branches.html
[14:34:12] *** Joins: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com)
[14:34:26] <bjz> dbaupp: but apparently it takes a super long time to compile in llvm compared to GCC
[14:34:48] *** Quits: twi (Adium@366146E1.F33C246D.C3DDD137.IP) (Ping timeout)
[14:34:57] *** Joins: twi (Adium@48BAF6C8.2F09DC0.9F317FFB.IP)
[14:35:29] *** Quits: doomlord_ (servitor@moz-CA917A47.range86-184.btcentralplus.com) (Client exited)
[14:36:41] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[14:37:42] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[14:39:07] *** Quits: lenstr (lenstr@CD7D5ABA.83A99F98.85938D85.IP) (Client exited)
[14:40:54] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[14:41:13] *** Joins: erickt1 (Adium@moz-4B000CB7.dyn.optonline.net)
[14:42:42] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[14:46:07] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[14:46:41] *** Quits: kngl (Adium@E5907D90.770DEA4D.7C797F8E.IP) (Quit: Leaving.)
[14:47:42] *** Joins: kngl (Adium@E5907D90.770DEA4D.7C797F8E.IP)
[14:48:42] *** Quits: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org) (Ping timeout)
[14:49:42] *** Joins: canhtak (canhtak@moz-7307D7CE.wl.t.ulaval.ca)
[14:50:30] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[14:51:37] *** Joins: philix (philix@moz-E2894C4B.user.veloxzone.com.br)
[14:51:47] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[14:56:06] *** Quits: erickt1 (Adium@moz-4B000CB7.dyn.optonline.net) (Ping timeout)
[14:56:28] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[14:57:24] *** Quits: mib_95mxwg (Mibbit@moz-4A19983C.ip227.fastwebnet.it) (Quit: http://www.mibbit.com ajax IRC Client)
[14:57:40] *** Joins: oberstet (quassel@moz-EF8D81F.dynamic.mnet-online.de)
[14:58:13] *** Quits: rca (rcatolino@moz-6B6EA2D.adsl.proxad.net) (Ping timeout)
[14:58:18] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[14:58:51] *** Joins: rca (rcatolino@moz-6B6EA2D.adsl.proxad.net)
[14:58:56] *** Joins: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net)
[14:59:24] *** Joins: Ferreus (ferreus@moz-89E120A5.pools.arcor-ip.net)
[14:59:38] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[15:00:02] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[15:00:23] *** Joins: eddyb (eddy@EE946B63.921A1753.FCAAE698.IP)
[15:01:08] *** Quits: bkircher (bkircher@moz-63979D20.dip0.t-ipconnect.de) (Connection reset by peer)
[15:01:18] *** Joins: bkircher (bkircher@moz-63979D20.dip0.t-ipconnect.de)
[15:02:18] *** Joins: WebeWizard (Mibbit@moz-7CCD1DAE.ks.ks.cox.net)
[15:03:06] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[15:03:31] *** Joins: Kruppe (user@moz-EE1E894A.home3.cgocable.net)
[15:03:41] <WebeWizard> anyone else gettting, error: can't find crate for 'std'? from the nightly build?
[15:03:51] *** Joins: lenstr (lenstr@CD7D5ABA.83A99F98.85938D85.IP)
[15:04:04] <luz> --opt-level higher than 1 seems to break my benchmarks
[15:04:40] <rca> WebeWizard: The one from the ubunut ppa works fine for me.
[15:05:04] <kimundi> WebeWizard: which nightly?
[15:05:17] <WebeWizard> https://launchpad.net/~hansjorg/+archive/rust
[15:05:19] <kimundi> Its apparently a know issue with the arch one curently
[15:05:27] <geal> is it possible to have mutable fields in a structure? I try it with "struct a { mut id : uint }" but I get  "error: found `mut` in ident position" and "error: expected `:` but found `id`"
[15:05:33] <WebeWizard> is there a different one i should be using?
[15:05:45] <kimundi> geal: No, mutabilty is property of the location, not the type
[15:06:01] *** flaper87|afk is now known as flaper87
[15:06:20] <geal> kimundi: so I should do something like "id: ~mut uint" ? Or is there another syntax?
[15:06:27] <rca> WebeWizard: my buildbot uses this one and i didn't have any problem today. Did you rebuild all the libraries your project depends on ?
[15:06:29] <sfackler> geal: if you really need to have a mutable field, you can use RefCell
[15:06:56] *** Quits: Kruppe (user@moz-EE1E894A.home3.cgocable.net) (Client exited)
[15:06:56] <WebeWizard> rca: not yet, let me give it a shot :)
[15:07:09] <geal> I'm trying to update some old code (rust-csv) to use it with the current compiler
[15:07:34] <geal> I'm not fixated on using mutable fields, but if that makes the port easier, why not
[15:07:43] <kimundi> geal: ~mut doesn't exist (though it did) - ~T and T are exactly the same semantically: They inherit mutabilty from their owner. A owne can be a local variable for example: let x = 5; let y = ~5; vs let mut x = 5; let y = ~5;
[15:07:53] *** Joins: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org)
[15:07:57] <kimundi> err, let mut y = ~5;
[15:07:59] *** Quits: bkircher (bkircher@moz-63979D20.dip0.t-ipconnect.de) (Client exited)
[15:08:00] <WebeWizard> rca: that's what it needed! thank you for the help
[15:08:27] <geal> so, if I understand correctly, making a mutable instance of the struct makes all of its fiels mutable?
[15:08:33] <rca> WebeWizard: whenever you have this error, rebuilding everything is usually the way to go :)
[15:08:37] <kimundi> geal: yes
[15:08:47] <geal> ok, thanks for clearing that up :)
[15:09:03] <kimundi> geal: but its not property of the value itself - the same struct can be moved between mutable and immutable locations
[15:09:26] <geal> ok
[15:10:38] *** Joins: Kruppe (user@moz-EE1E894A.home3.cgocable.net)
[15:12:41] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[15:13:29] *** Joins: jviereck (Adium@moz-BDE80164.hsi8.kabel-badenwuerttemberg.de)
[15:14:54] *** Joins: bkircher (bkircher@moz-63979D20.dip0.t-ipconnect.de)
[15:14:57] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[15:15:26] *** Joins: DanR (DanR@moz-4C1E443F.clients.kiwiirc.com)
[15:16:17] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[15:17:30] *** Joins: Krymise (Nietzsche@moz-CA789EF5.nwrknj.fios.verizon.net)
[15:18:08] <WebeWizard> by the way, i've written a web server that can actually serve files.  I think that's more than the semi-official http lib can do.
[15:20:48] <WebeWizard> the semi-official lib is so much cleaner though :(
[15:21:13] <negativezero> so I made a slightly more featureful (and possibly broken, given my uninformed approach) version of that ruby-based REPL: https://github.com/blackhole89/irust
[15:21:55] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[15:22:28] *** Joins: lht (lht@ACC6B5C3.C322BD66.97C5680A.IP)
[15:22:50] *** Joins: Matthias247 (Miranda@moz-BDD35EC0.hsi5.kabel-badenwuerttemberg.de)
[15:22:52] <negativezero> specifically, it prints types of everything by default and retains past expressions that did not fail on their own (not sure if that's a good or bad idea in the grand scheme of things)
[15:23:50] <DanR> Cool! I can now learn the language without using my Compile-Cry-Vim loop =D
[15:23:53] <SiegeLord> That seems more of a useful optimization for a web frontend
[15:25:20] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[15:26:18] *** Quits: fabiand (fabiand@moz-5BF251CE.adsl.alicedsl.de) (Client exited)
[15:26:20] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[15:26:49] *** Joins: int3_ (int3_@moz-4FFAA436.pool-182-52.dynamic.totbb.net)
[15:27:59] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[15:28:03] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[15:28:12] <negativezero> some things interact with it in a weird way; e.g. defining a closure and then poking it once destroys it again due to something to do with copy semantics
[15:29:51] *** Joins: wry (wry@620605B3.71150E1A.237AE2BA.IP)
[15:30:48] *** Quits: Blub\1 (wry@620605B3.71150E1A.237AE2BA.IP) (Ping timeout)
[15:31:52] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[15:35:50] *** Quits: jviereck (Adium@moz-BDE80164.hsi8.kabel-badenwuerttemberg.de) (Quit: Leaving.)
[15:36:01] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[15:36:36] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Client exited)
[15:36:37] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[15:37:08] <derek_c> would it be interesting to make for loop an expression?  For example, `for i in range(0, 10) { i }` would be an iterator equal to range(0, 10)
[15:37:55] <Ms2ger> So like range(0, 10).map(|i| i)?
[15:38:30] <derek_c> Ms2ger: yeah, that's just an example, not saying it in itself is worthwhile
[15:38:44] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[15:42:31] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[15:42:43] *** Quits: zxcdw (r-a@5F0EDB29.B543C4DE.3933CC16.IP) (Ping timeout)
[15:43:11] <SiegeLord> How would you execute it then?
[15:43:34] <SiegeLord> for loop today is basically only way to force execution of an iterator
[15:43:44] *** Joins: nano (nano@moz-ED77243C.superkabel.de)
[15:43:49] <kimundi> derek_c: There are plans to have syntactic sugar for defining an Iterator that would work similar to this - instead of a expression it would define a type thoughj
[15:44:20] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[15:44:58] <kimundi> basicaly, you'd write a function that contains the keyword "yield", and on each yield the iterator would return a new value - put the yield in a loop, and you have something like this
[15:45:21] <derek_c> kimundi: ah! just like python.  Sounds like a good plan
[15:45:30] *** Quits: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[15:45:48] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[15:45:49] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Connection reset by peer)
[15:46:03] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[15:46:50] *** Quits: bkircher (bkircher@moz-63979D20.dip0.t-ipconnect.de) (Client exited)
[15:47:07] *** Joins: zxcdw (r-a@5F0EDB29.B543C4DE.3933CC16.IP)
[15:47:12] *** Joins: jviereck (Adium@moz-BDE80164.hsi8.kabel-badenwuerttemberg.de)
[15:47:27] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[15:53:10] *** Quits: jviereck (Adium@moz-BDE80164.hsi8.kabel-badenwuerttemberg.de) (Quit: Leaving.)
[15:55:44] *** Joins: a_m0d|home (a_m0d@moz-322A4DE4.acanac.net)
[15:57:45] *** Quits: Matthias247 (Miranda@moz-BDD35EC0.hsi5.kabel-badenwuerttemberg.de) (Quit: Matthias247)
[15:58:12] *** Quits: DanR (DanR@moz-4C1E443F.clients.kiwiirc.com) (Quit: http://www.kiwiirc.com/ - A hand crafted IRC client)
[16:00:45] *** Quits: FreeFull (freefull@moz-7C2863C6.as13285.net) (Ping timeout)
[16:02:20] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[16:02:48] *** Joins: DanR (DanR@moz-4C1E443F.clients.kiwiirc.com)
[16:02:55] *** Joins: zootm (calum@moz-150DDDC2.sgyl.cable.virginm.net)
[16:04:08] *** Quits: Crandom (Crandom__@moz-56264BBC.sx) (Ping timeout)
[16:07:03] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[16:07:20] *** Quits: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org) (Ping timeout)
[16:07:21] *** Joins: Matthias247 (Miranda@moz-BDD35EC0.hsi5.kabel-badenwuerttemberg.de)
[16:07:36] *** Joins: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com)
[16:08:46] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[16:12:10] *** Joins: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org)
[16:12:30] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[16:12:48] *** Quits: adridu59 (Mibbit@moz-E1FF077C.rev.numericable.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[16:14:19] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[16:16:45] *** Quits: DanR (DanR@moz-4C1E443F.clients.kiwiirc.com) (Quit: http://www.kiwiirc.com/ - A hand crafted IRC client)
[16:16:47] *** Quits: derek_c (derek@D74B8E98.8FCFF51F.AA745434.IP) (Ping timeout)
[16:16:58] *** Quits: a_m0d|home (a_m0d@moz-322A4DE4.acanac.net) (Quit: Leaving.)
[16:17:18] *** Quits: dapz (textual@moz-30B6C3D1.lightspeed.rsbgtx.sbcglobal.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[16:17:41] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[16:18:02] *** Joins: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net)
[16:19:21] *** Joins: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net)
[16:19:25] *** Joins: bkircher (bkircher@moz-63979D20.dip0.t-ipconnect.de)
[16:19:41] *** Quits: lht (lht@ACC6B5C3.C322BD66.97C5680A.IP) (Quit: lht)
[16:20:23] *** Joins: dapz (textual@moz-30B6C3D1.lightspeed.rsbgtx.sbcglobal.net)
[16:21:59] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[16:22:48] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[16:23:01] *** Quits: z0w0 (zack@moz-A79E7E7D.lnse4.cha.bigpond.net.au) (Client exited)
[16:23:09] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Connection reset by peer)
[16:23:30] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[16:24:37] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[16:26:21] *** Joins: jvshahid (jvshahid@moz-C1BC0CE4.nyc.res.rr.com)
[16:27:05] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[16:27:26] *** Quits: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl) (Ping timeout)
[16:27:36] *** Joins: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com)
[16:27:51] *** Joins: tomdale (sid5518@moz-31ABA2C0.irccloud.com)
[16:28:18] *** Joins: sellout (Adium@moz-2ECB0660.hlrn.qwest.net)
[16:28:51] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[16:29:00] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[16:33:15] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[16:33:20] *** Joins: Kxepal832 (Miranda@moz-B0CFA8DA.pppoe.mtu-net.ru)
[16:33:47] *** Quits: Kxepal (Miranda@moz-244F811C.pppoe.mtu-net.ru) (Ping timeout)
[16:33:52] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[16:36:03] *** Joins: derek_c (derek@C76154F8.80543B4A.7E5576EA.IP)
[16:37:31] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[16:38:06] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Connection reset by peer)
[16:38:28] *** Quits: jvshahid (jvshahid@moz-C1BC0CE4.nyc.res.rr.com) (Ping timeout)
[16:38:28] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[16:38:57] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[16:39:04] *** Joins: kvark (Mibbit@moz-F30E0473.cpe.net.cable.rogers.com)
[16:39:42] <kvark> Why can't I cast from &Trait to &Subtrait?
[16:40:03] <kvark> (error: can only cast an &-pointer to an &-object, not a trait main::V)
[16:40:06] *** Quits: lenstr (lenstr@CD7D5ABA.83A99F98.85938D85.IP) (Client exited)
[16:42:04] <bstrie> kvark: I don't think that makes sense?
[16:42:20] <bstrie> kvark: a function expecting Subtrait could call methods that don't exist in Trait
[16:42:30] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[16:43:02] <bstrie> assuming here that Subtrait inherits from Trait
[16:43:11] <kvark> bstrie: plz see https://gist.github.com/kvark/8257212
[16:43:13] *** Joins: samnardoni (samnardoni@moz-6E63ABD.dyn.plus.net)
[16:43:34] *** Quits: sellout (Adium@moz-2ECB0660.hlrn.qwest.net) (Quit: Leaving.)
[16:43:37] <kvark> maybe I said it wrong, but the code never lies
[16:43:53] *** Joins: a_m0d|home (a_m0d@moz-322A4DE4.acanac.net)
[16:44:07] <bstrie> ok, I'd call that a supertrait, but I'm hardly an expert in terminology :P
[16:44:14] <bstrie> I'm not sure
[16:44:34] <bstrie> kvark: what is the error there?
[16:44:41] <kvark> (error: can only cast an &-pointer to an &-object, not a trait main::V)
[16:44:42] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Connection reset by peer)
[16:44:42] *** Quits: samnardoni (samnardoni@moz-6E63ABD.dyn.plus.net) (Client exited)
[16:44:51] <bstrie> right
[16:44:54] *** Quits: tikue (tikue@moz-FEADCD38.hsd1.pa.comcast.net) (Ping timeout)
[16:44:55] *** Joins: yusukesuzuki (yusukesuzu@moz-FEE44B6.net220148245.t-com.ne.jp)
[16:45:00] *** Quits: yusukesuzuki (yusukesuzu@moz-FEE44B6.net220148245.t-com.ne.jp) (Quit: yusukesuzuki)
[16:45:07] *** Joins: yusukesuzuki (yusukesuzu@moz-FEE44B6.net220148245.t-com.ne.jp)
[16:45:08] <kvark> right?
[16:45:22] <kvark> it reads to me as any cast has to be from object to something
[16:45:32] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[16:45:46] <bstrie> nmatsakis: question if this code example of casting a trait object to an instance of its supertrait is supposed to work: https://gist.github.com/kvark/8257212
[16:46:04] <WebeWizard> that error makes sense to me
[16:46:24] <bstrie> I've really never considered something like this before
[16:46:28] <bstrie> it's an interesting question
[16:46:39] <bstrie> kvark: you might even want to file a bug
[16:47:29] *** Joins: DanR (DanR@moz-4C1E443F.clients.kiwiirc.com)
[16:47:33] <kvark> WebeWizard: my primitive understanding is that &V is just a pointer with a virtual table. If V:U, then the virtual table needed for &U is a subset of the original, and known to the compiler... so what's the problem?
[16:48:13] <bstrie> kvark: intuitively I'd guess that this is merely something that hasn't been implemented yet, or may be deferred until struct single inheritance is implemented
[16:48:23] <bstrie> but I could be wrong
[16:48:37] <kvark> bstrie: I'll give nmatsakis a bit of time to look here, and will file an issue later for sure
[16:48:47] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[16:48:48] <bstrie> kvark: but also... I wonder if you could do an unsafe transmute to get this to work anyway :)
[16:49:11] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[16:49:21] <kvark> transmute makes me feel cold
[16:50:33] *** Joins: mleise1 (marco@moz-F137627C.pools.arcor-ip.net)
[16:50:34] *** Quits: mleise (marco@moz-F137627C.pools.arcor-ip.net) (Connection reset by peer)
[16:50:49] <bstrie> to be fair, I hear that transmutation does require an equivalent exchange of energy
[16:50:58] <bstrie> so it makes sense that you'd feel cold
[16:51:07] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[16:51:24] <kvark> bstrie: also, this seems to have nothing to do with single structs inheritance. Though I understand that we only got trait inheritance last year.
[16:52:05] <kimundi> pretty sure that transmute would not work - the vtable would be all wrong
[16:52:18] <bstrie> kimundi: not if the offsets are all still in the same place :P
[16:52:34] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[16:52:38] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (No route to host)
[16:52:40] <kimundi> bstrie: Sure, but do you know they are? :P
[16:52:59] <cmr> you could also steal the vtable from a &U
[16:53:03] *** Joins: jvshahid (jvshahid@moz-C1BC0CE4.nyc.res.rr.com)
[16:53:20] *** Quits: dapz (textual@moz-30B6C3D1.lightspeed.rsbgtx.sbcglobal.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[16:53:37] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Client exited)
[16:53:58] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[16:54:04] * kimundi tried to steal the vtable from an &U once, for Any - thankfully he found a much safer way to implement it
[16:55:36] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[16:55:46] *** Joins: terrence (Mibbit@CD4F111F.94ED3C02.4BB28779.IP)
[16:55:49] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[16:56:38] *** Quits: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com) (Ping timeout)
[16:57:37] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[16:57:37] *** Joins: lenstr (lenstr@CD7D5ABA.83A99F98.85938D85.IP)
[16:57:39] *** Joins: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com)
[16:57:58] *** Quits: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org) (Ping timeout)
[16:58:11] <luz> MemReader read_le_u32 is so much slower than using transmute
[16:58:55] *** Quits: youknowone (youknowone@A826BD81.8A0DEF81.38747683.IP) (Ping timeout)
[16:59:03] <kvark> bstrie: found https://github.com/mozilla/rust/issues/5665?source=cc
[16:59:14] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[16:59:39] <cmr> luz: looking at the code now, it needs some #[inline]s and some #[cfg(target_endian)]
[17:00:21] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[17:00:31] <cmr> luz: iow, just needs some tuning.
[17:01:36] *** Quits: WebeWizard (Mibbit@moz-7CCD1DAE.ks.ks.cox.net) (Quit: http://www.mibbit.com ajax IRC Client)
[17:02:25] *** Joins: youknowone (youknowone@A826BD81.8A0DEF81.38747683.IP)
[17:03:16] <luz> can it be comparable to casting a 4 byte aligned &[u8] to &[u32]?
[17:03:40] <cmr> it should be yes.
[17:03:52] *** Quits: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net) (Quit: Textual IRC Client: www.textualapp.com)
[17:03:59] <cmr> It should be conditional so that on native endian the conversion is a noop
[17:04:02] *** Quits: DanR (DanR@moz-4C1E443F.clients.kiwiirc.com) (Quit: http://www.kiwiirc.com/ - A hand crafted IRC client)
[17:04:02] *** Joins: bytbox (s@moz-54E13927.washdc.fios.verizon.net)
[17:04:22] <luz> oh, nice
[17:06:09] *** Quits: jvshahid (jvshahid@moz-C1BC0CE4.nyc.res.rr.com) (Ping timeout)
[17:08:34] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[17:08:44] *** Joins: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net)
[17:09:13] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[17:09:47] <bstrie> nmatsakis: nevermind, we found https://github.com/mozilla/rust/issues/5665
[17:10:18] *** Quits: terrence (Mibbit@CD4F111F.94ED3C02.4BB28779.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[17:12:35] *** Joins: samnardoni (samnardoni@moz-6E63ABD.dyn.plus.net)
[17:13:52] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[17:14:07] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[17:15:09] *** Quits: samnardoni (samnardoni@moz-6E63ABD.dyn.plus.net) (Client exited)
[17:16:03] *** Quits: xitology (xi@85437D54.5AFA3E4.CEDFC552.IP) (Quit: Ex-Chat)
[17:16:20] *** Joins: gwty (gwtypc@F37DE23.519A4FE9.27560D6E.IP)
[17:17:23] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[17:18:04] *** Joins: twi1 (Adium@366146E1.F33C246D.C3DDD137.IP)
[17:18:15] *** Quits: twi1 (Adium@366146E1.F33C246D.C3DDD137.IP) (Max SendQ exceeded)
[17:18:21] *** Joins: twi1 (Adium@366146E1.F33C246D.C3DDD137.IP)
[17:19:14] <bstrie> rust supports android, right?
[17:19:23] <bstrie> wondering if I should add that to the infobox on the wikipedia page
[17:19:27] <cmr> yes
[17:19:34] *** Quits: twi (Adium@48BAF6C8.2F09DC0.9F317FFB.IP) (Ping timeout)
[17:20:04] *** Quits: twi1 (Adium@366146E1.F33C246D.C3DDD137.IP) (Ping timeout)
[17:20:31] *** Quits: bkircher (bkircher@moz-63979D20.dip0.t-ipconnect.de) (Client exited)
[17:20:44] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[17:20:53] <cmr> should remove structural from "Typing discipline"
[17:21:11] <cmr> tuples don't really count, and recs are gone
[17:21:18] <bstrie> also
[17:21:31] <bstrie> someone please figure out a reason for me to cite http://rust-class.org/pages/using-rust-for-an-undergraduate-os-course.html on wikipedia
[17:21:33] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[17:21:40] <bstrie> we need more secondary sources
[17:21:40] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[17:22:38] *** Joins: xitology (xi@85437D54.5AFA3E4.CEDFC552.IP)
[17:23:56] *** Quits: paulproteus (quassel@199.199.210.158) (Ping timeout)
[17:23:56] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[17:25:07] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[17:25:55] <kvark> bstrie: cite where you say it's a system programming language, perhaps?
[17:26:15] *** Quits: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com) (Quit: csherratt)
[17:26:18] *** Joins: paulproteus (quassel@458FE134.3EC36C88.CBDCF1DC.IP)
[17:26:36] <kvark> btw, I'm hitting error: value may contain borrowed pointers
[17:26:48] <cmr> dwrensha: nice example with capnp!
[17:26:58] <cmr> kvark: add 'static bound (T: 'static)
[17:27:20] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[17:27:22] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[17:27:41] <kvark> cmr: wow, the whole construct seems new to me
[17:27:48] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[17:28:01] <kvark> T is a type, 'static is a lifetime, but we use it in place of a trait?...
[17:28:09] <kvark> that actually works though, so thanks!
[17:28:18] <cmr> Well it's a kind
[17:28:50] <cmr> It used to have a weird name. It states that the type can only contained borrowed pointers if they have the 'static lifetime.
[17:28:55] <kvark> "'static' is a kind? why can't we have it as Static instead, so that it actually looks like a kind..
[17:29:38] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[17:29:59] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[17:30:31] *** Joins: rnn (rnn@moz-31EB76BD.to)
[17:30:37] *** rnn is now known as johto
[17:30:57] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[17:31:52] *** Joins: six600110 (six600110@moz-C663577C.hsd1.il.comcast.net)
[17:32:19] *** Parts: six600110 (six600110@moz-C663577C.hsd1.il.comcast.net) (Ex-Chat)
[17:33:53] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[17:35:45] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[17:36:08] *** Joins: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP)
[17:36:21] *** Joins: pyon (user@BCC41BDF.6C782DF8.1C8C8CE9.IP)
[17:37:53] <dwrensha> cmr: thanks
[17:40:15] *** Quits: gkostyanikov (gkostyanik@9C9DDFCC.A859D9FD.CA6E2165.IP) (Ping timeout)
[17:41:18] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[17:41:36] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[17:41:42] <wtw> someone have some insight into this question asked on reddit regarding borrowed pointers? http://redd.it/1u9htk
[17:41:53] *** Joins: sedman (sedman@9FD68119.85E34B24.F796972A.IP)
[17:42:01] <wtw> somehow the discussion seems finished, but I don't get it
[17:43:34] * Ms2ger looks
[17:43:39] *** Quits: mleise1 (marco@moz-F137627C.pools.arcor-ip.net) (Connection reset by peer)
[17:43:40] *** Joins: mleise (marco@moz-F137627C.pools.arcor-ip.net)
[17:45:04] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[17:45:26] *** Quits: mleise (marco@moz-F137627C.pools.arcor-ip.net) (Ping timeout)
[17:45:50] *** Joins: mleise (marco@moz-F137627C.pools.arcor-ip.net)
[17:46:18] <Ms2ger> What don't you get?
[17:47:01] <wtw> hmm, first, why will the references/pointers be invalidated when the textures array is resized?
[17:47:01] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Client exited)
[17:47:12] <wtw> aren't they stored on the stack?
[17:47:15] <cmr> no
[17:47:23] <Ms2ger> So where do the pointers point at?
[17:47:23] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[17:47:44] <cmr> ~[T] is a vector, it's heap-allocated and realloc'd on push (when len = capacity)
[17:47:58] *** Joins: mib_peq6v6 (Mibbit@29369FA4.3EAE7AC0.6DC151A0.IP)
[17:48:38] *** Quits: nano (nano@moz-ED77243C.superkabel.de) (Connection reset by peer)
[17:49:10] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[17:49:18] *** Joins: bkircher (bkircher@moz-63979D20.dip0.t-ipconnect.de)
[17:49:31] <wtw> ok, so "self.textures.push(Texture(1));" copies the texture to the textures vector?
[17:50:09] <Ms2ger> Yep
[17:50:16] <wtw> ah, I begin to understand ;)
[17:50:30] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[17:50:34] <Ms2ger> So &self.textures[0] is a pointer into the array's memory
[17:50:40] <wtw> too many sigils distracting me ;)
[17:51:37] <wtw> I assumed something c++-like, where Texture(1) is allocated on the stack and add the pointer to an array
[17:51:48] <wtw> but this is obviously not done here, ok
[17:52:01] *** Joins: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net)
[17:52:30] <hoverbear> Any of you folks get the Gitter invite? https://gitter.im I did, and want to try it, but don't know anyone else who did. :(
[17:52:43] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[17:53:17] <wtw> ah, I suppose I was led astray by this "std::vector<std::unique_ptr<Texture>>"
[17:53:32] <bjz> wtw: well, `self.textures.push(Texture(1))` should move the texture... I think?
[17:53:46] <bstrie> hoverbear: woah woah woah, why does signing up for that app require WRITE permissions to my profile, my followers, and my private email addresses?
[17:54:06] <hoverbear> bstrie: That freaked me out too
[17:54:10] <Ms2ger> Don't worry, we won't steal all your data
[17:54:11] <hoverbear> bstrie: http://blog.gitter.im/the-write-stuff/
[17:54:11] <Ms2ger> For now
[17:55:12] <rca> travis does the same thing iirc.
[17:55:19] <hoverbear> rca: Yup
[17:55:21] *** Joins: pnathan (Adium@moz-A8921E45.tukw.qwest.net)
[17:55:26] <wtw> bjz: yep, I somehow assumed that only pointers were being passed, at least I would have implemented it that way in c++
[17:56:30] <bstrie> hoverbear: I presume it sends an invite to your email?
[17:56:48] <bstrie> the only reason I'm trusting this is because this really is something that github needs desperately
[17:56:52] <hoverbear> bstrie: Not sure, I signed up when they were on HN months ago. I got an email a couple weeks ago
[17:56:58] *** Quits: moostik (Icedove@moz-F5DBFF76.w83-202.abo.wanadoo.fr) (Ping timeout)
[17:57:03] <hoverbear> bstrie: Aye, I'm not sure myself.
[17:57:08] <hoverbear> bstrie: But yeah, better mousetrap.
[17:57:33] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[17:57:45] <pnathan> Hi, I'm trying to compile from HEAD, and I'm getting an error from not finding std::terminate() for architecture x86_64 on OSX10.8 (it's a linker error).
[17:58:22] *** Joins: sellout (Adium@moz-2ECB0660.hlrn.qwest.net)
[17:58:29] <bjz> wtw: .push(..) takes the arg by value, so if it can, it moves
[18:00:40] *** Joins: moostik (Icedove@moz-F5DBFF76.w83-202.abo.wanadoo.fr)
[18:00:47] *** Quits: mleise (marco@moz-F137627C.pools.arcor-ip.net) (Ping timeout)
[18:01:01] *** Joins: kronquii (kronquii@moz-2F636E0B.onid.oregonstate.edu)
[18:01:45] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[18:01:45] *** Joins: samnardoni (samnardoni@moz-6E63ABD.dyn.plus.net)
[18:01:46] *** kronquii is now known as muricula
[18:02:01] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[18:03:11] *** Quits: muricula (kronquii@moz-2F636E0B.onid.oregonstate.edu) (Quit: Changing server)
[18:04:10] *** Quits: sedman (sedman@9FD68119.85E34B24.F796972A.IP) (Ping timeout)
[18:06:34] *** Quits: samnardoni (samnardoni@moz-6E63ABD.dyn.plus.net) (Client exited)
[18:06:37] *** Joins: mib_qhe55d (Mibbit@moz-2DD1CF11.sn2.eutelia.it)
[18:06:41] *** Joins: mleise (marco@moz-F137627C.pools.arcor-ip.net)
[18:06:52] *** Quits: derek_c (derek@C76154F8.80543B4A.7E5576EA.IP) (Ping timeout)
[18:06:54] *** Quits: mib_qhe55d (Mibbit@moz-2DD1CF11.sn2.eutelia.it) (Quit: http://www.mibbit.com ajax IRC Client)
[18:07:06] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[18:08:14] *** Joins: muricula (kronquii@moz-2F636E0B.onid.oregonstate.edu)
[18:08:31] *** Joins: samnardoni (samnardoni@moz-6E63ABD.dyn.plus.net)
[18:08:43] *** Quits: canhtak (canhtak@moz-7307D7CE.wl.t.ulaval.ca) (Quit: canhtak)
[18:09:05] *** Joins: doener (doener@moz-C68F600D.unity-media.net)
[18:13:37] *** Quits: mleise (marco@moz-F137627C.pools.arcor-ip.net) (Ping timeout)
[18:15:40] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Connection reset by peer)
[18:15:51] *** Joins: mleise (marco@moz-F137627C.pools.arcor-ip.net)
[18:16:04] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[18:16:05] *** Quits: lenstr (lenstr@CD7D5ABA.83A99F98.85938D85.IP) (Client exited)
[18:16:10] <bstrie> pnathan: weird... I wonder if we have anyone testing on 10.8 right now
[18:16:29] *** Joins: lenstr (lenstr@CD7D5ABA.83A99F98.85938D85.IP)
[18:16:35] <bstrie> they might have all upgraded to 10.9
[18:16:58] <doener> I guess the reduced binary sizes since Dec 31st are largely due to the removed dynamic borrow checks? e.g. libsyntax went from 6617117 to 6196945
[18:17:21] <bstrie> oh woah, a student from that class was the one who implemented the dead-code pass
[18:17:23] <bstrie> very cool
[18:17:34] *** Quits: mleise (marco@moz-F137627C.pools.arcor-ip.net) (Ping timeout)
[18:17:34] <doener> and when did the size of librustc explode? I remember it being around 12-16M, now it's 45M o.O
[18:17:38] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[18:17:53] <pnathan> bstrie: Hunh. Going for a git clean -fdx and a configure && make. Will let you know the result
[18:18:09] *** Quits: lenstr (lenstr@CD7D5ABA.83A99F98.85938D85.IP) (Ping timeout)
[18:18:34] <bstrie> doener: possibly when we started preferring static linking to dynamic linking
[18:19:24] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[18:19:25] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[18:19:38] <doener> ah, right. Only read that in passing, so I totally forgot about it
[18:21:16] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[18:21:21] *** Quits: oberstet (quassel@moz-EF8D81F.dynamic.mnet-online.de) (Client exited)
[18:21:52] *** Joins: canhtak (canhtak@moz-7307D7CE.wl.t.ulaval.ca)
[18:23:57] *** Quits: sellout (Adium@moz-2ECB0660.hlrn.qwest.net) (Quit: Leaving.)
[18:24:00] *** Joins: sellout (Adium@moz-2ECB0660.hlrn.qwest.net)
[18:24:00] *** Joins: lenstr (lenstr@CD7D5ABA.83A99F98.85938D85.IP)
[18:24:21] <bjz> bstrie: us crazy macciatos - upgrading too fast
[18:24:41] *** Joins: alan_andrade (alan_andra@94147F3C.3C8440C4.B7838CA6.IP)
[18:27:32] <bstrie> bjz: macciatos? sorry, I don't drink coffee...
[18:27:57] <bjz> maccy macerals
[18:28:00] *** Joins: jviereck (Adium@moz-BDE80164.hsi8.kabel-badenwuerttemberg.de)
[18:28:35] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[18:30:24] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[18:30:57] *** Joins: mleise (marco@moz-F137627C.pools.arcor-ip.net)
[18:31:25] *** Quits: Kxepal832 (Miranda@moz-B0CFA8DA.pppoe.mtu-net.ru) (Quit: Kxepal832)
[18:31:45] *** Joins: Kxepal (Miranda@moz-B0CFA8DA.pppoe.mtu-net.ru)
[18:31:52] *** Joins: mib_pjvei3 (Mibbit@moz-4A19983C.ip227.fastwebnet.it)
[18:32:06] *** Quits: canhtak (canhtak@moz-7307D7CE.wl.t.ulaval.ca) (Quit: canhtak)
[18:32:22] <mib_pjvei3> how do I write a mutable reference to T with life 'a?
[18:32:31] <hoverbear> bstrie: https://gitter.im/Hoverbear/rust
[18:32:43] <bjz> &'a mut T
[18:33:06] <mib_pjvei3> thanks
[18:33:53] <bjz> :)
[18:34:04] * bjz is glad to be of service
[18:34:13] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[18:34:22] *** Quits: lenstr (lenstr@CD7D5ABA.83A99F98.85938D85.IP) (Client exited)
[18:34:47] *** Joins: lenstr (lenstr@CD7D5ABA.83A99F98.85938D85.IP)
[18:35:18] *** Joins: kiko (Mibbit@moz-818475B1.bredband.comhem.se)
[18:36:02] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[18:36:35] *** Quits: lenstr (lenstr@CD7D5ABA.83A99F98.85938D85.IP) (Ping timeout)
[18:36:43] <kiko> hi there!!! Is anyone available for solving some doubts? My question was related to macros
[18:37:05] *** Quits: sellout (Adium@moz-2ECB0660.hlrn.qwest.net) (Quit: Leaving.)
[18:37:07] <kiko> I would like to pass a symbol into the macro and convert that symbol into a string
[18:37:29] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[18:37:39] <bjz> stringify!
[18:37:51] <kiko> I mean, the symbol could be anything, and I am not interested in the content, but in turning that symbol into a string
[18:38:01] <kiko> ok, didn't see that one
[18:38:13] <bjz> rusti: stringify!(x + 3*2)
[18:38:13] -rusti- "x + 3 * 2"
[18:38:22] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[18:38:34] <kiko> ok, thanks a lot bjz
[18:38:40] <doener> rusti: stringify!(stringify!(x * x))
[18:38:41] -rusti- "stringify ! ( x * x )"
[18:38:44] <bjz> kiko: yeah... macros are impossible to find for those who don't know where to look :(
[18:39:19] <bjz> (at the moment at least)
[18:39:45] <kiko> well, bjz, you just made my day!!! So thank you so much!!!
[18:39:57] <bjz> glad to help
[18:40:06] <bjz> feel free to ask more questions
[18:40:06] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[18:40:09] <bjz> :)
[18:41:02] <kiko> thanks :) but that was all, I think I can figure out everything else from the macros tutorial. It's just that I am not yet quite familiar with the std and extra API
[18:41:12] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[18:41:37] *** Quits: mleise (marco@moz-F137627C.pools.arcor-ip.net) (Connection reset by peer)
[18:41:40] *** Joins: mleise (marco@moz-F137627C.pools.arcor-ip.net)
[18:42:47] *** Joins: mleise1 (marco@moz-F137627C.pools.arcor-ip.net)
[18:42:48] *** Quits: mleise (marco@moz-F137627C.pools.arcor-ip.net) (Quit: Leaving.)
[18:42:49] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[18:42:56] *** Quits: mleise1 (marco@moz-F137627C.pools.arcor-ip.net) (Quit: Leaving.)
[18:43:09] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[18:44:10] *** Quits: atomical (atomical@moz-7BDC7D9E.c3-0.lem-ubr1.chi-lem.il.cable.rcn.com) (Quit: atomical)
[18:45:23] *** Joins: atomical (atomical@moz-7BDC7D9E.c3-0.lem-ubr1.chi-lem.il.cable.rcn.com)
[18:45:27] <mib_pjvei3> rust is full of nice things
[18:47:49] *** Joins: mindcat (mindcat@16FC3D2.8DC48494.DBA68950.IP)
[18:49:22] *** Joins: twi (Adium@moz-174339A4.cust.dsl.vodafone.it)
[18:50:12] <bstrie> mib_pjvei3: such as?
[18:50:33] *** Quits: kiko (Mibbit@moz-818475B1.bredband.comhem.se) (Quit: http://www.mibbit.com ajax IRC Client)
[18:51:31] <pnathan> bstrie: after the clean and rebuild: success building
[18:52:46] *** Quits: atomical (atomical@moz-7BDC7D9E.c3-0.lem-ubr1.chi-lem.il.cable.rcn.com) (Quit: atomical)
[18:52:57] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Ping timeout)
[18:53:37] *** Joins: atomical (atomical@moz-7BDC7D9E.c3-0.lem-ubr1.chi-lem.il.cable.rcn.com)
[18:54:10] *** Quits: Kruppe (user@moz-EE1E894A.home3.cgocable.net) (Ping timeout)
[18:54:20] *** Quits: vmx (vmx@moz-F561A5AD.pools.arcor-ip.net) (Quit: Leaving)
[18:54:21] *** Quits: ramitos (ramitos@moz-60679625.socal.res.rr.com) (Quit: Computer has gone to sleep.)
[18:54:52] *** Quits: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com) (Quit: )
[18:56:04] *** Joins: refold (gman@moz-42D68426.a258.priv.bahnhof.se)
[18:56:13] *** Quits: jviereck (Adium@moz-BDE80164.hsi8.kabel-badenwuerttemberg.de) (Quit: Leaving.)
[19:00:09] *** Quits: mib_peq6v6 (Mibbit@29369FA4.3EAE7AC0.6DC151A0.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[19:00:38] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[19:03:13] *** Joins: nif (nif@moz-8181E2AC.oberlin.net)
[19:03:32] *** Joins: DanR (DanR@moz-4C1E443F.clients.kiwiirc.com)
[19:05:01] *** Quits: doener (doener@moz-C68F600D.unity-media.net) (Quit: leaving)
[19:05:05] *** flaper87 is now known as flaper87|afk
[19:05:15] *** Joins: lenstr (lenstr@CD7D5ABA.83A99F98.85938D85.IP)
[19:05:55] *** Quits: samnardoni (samnardoni@moz-6E63ABD.dyn.plus.net) (Client exited)
[19:06:01] <hoverbear> bstrie: Looks like you can join a channel like https://gitter.im/Hoverbear/rust without being 'invited' from the waiting list. Still wants github write though, ugh.
[19:07:02] *** Quits: lenstr (lenstr@CD7D5ABA.83A99F98.85938D85.IP) (Ping timeout)
[19:07:56] *** Joins: eholk (eholk@moz-799DA9F.lsanca.fios.verizon.net)
[19:09:49] *** Quits: twi (Adium@moz-174339A4.cust.dsl.vodafone.it) (Quit: Leaving.)
[19:10:25] *** Joins: jviereck (Adium@moz-BDE80164.hsi8.kabel-badenwuerttemberg.de)
[19:10:49] *** Quits: kngl (Adium@E5907D90.770DEA4D.7C797F8E.IP) (Quit: Leaving.)
[19:11:13] *** Joins: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com)
[19:11:20] *** Quits: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net) (Connection reset by peer)
[19:11:49] *** Quits: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com) (Quit: csherratt)
[19:12:14] *** Joins: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com)
[19:13:12] *** Joins: FreeFull (freefull@moz-8550D624.as13285.net)
[19:13:23] *** Joins: canhtak (canhtak@moz-7307D7CE.wl.t.ulaval.ca)
[19:13:39] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[19:13:42] *** Joins: twi (Adium@moz-174339A4.cust.dsl.vodafone.it)
[19:14:03] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[19:16:13] *** Quits: FreeFull (freefull@moz-8550D624.as13285.net) (Ping timeout)
[19:17:10] *** Quits: jviereck (Adium@moz-BDE80164.hsi8.kabel-badenwuerttemberg.de) (Quit: Leaving.)
[19:17:45] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[19:17:53] *** Joins: foxtrottango (Mibbit@moz-5E7DF880.cpe.net.cable.rogers.com)
[19:19:43] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[19:20:27] *** Quits: refold (gman@moz-42D68426.a258.priv.bahnhof.se) (Quit: leaving)
[19:20:38] *** Quits: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net) (Ping timeout)
[19:21:59] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[19:22:18] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[19:22:41] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[19:23:01] *** Joins: bleibig (bleibig@moz-B4D9C5AF.hsd1.ca.comcast.net)
[19:24:02] *** Quits: DanR (DanR@moz-4C1E443F.clients.kiwiirc.com) (Quit: http://www.kiwiirc.com/ - A hand crafted IRC client)
[19:24:06] *** Joins: lenstr (lenstr@CD7D5ABA.83A99F98.85938D85.IP)
[19:24:21] *** Joins: samnardoni (samnardoni@moz-6E63ABD.dyn.plus.net)
[19:24:48] *** Quits: StarLight (StarLight@moz-48C32845.pppoe.avangarddsl.ru) (Ping timeout)
[19:24:55] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[19:24:55] *** ChanServ sets mode: +ao pcwalton pcwalton
[19:25:53] *** Quits: lenstr (lenstr@CD7D5ABA.83A99F98.85938D85.IP) (Ping timeout)
[19:26:56] *** Quits: Ralith (ralith@114DA04D.CD83ED0A.BCDF04A6.IP) (Ping timeout)
[19:27:19] *** Quits: alan_andrade (alan_andra@94147F3C.3C8440C4.B7838CA6.IP) (Input/output error)
[19:29:00] *** Joins: StarLight (StarLight@moz-3F3F0E69.dynamic.avangarddsl.ru)
[19:29:19] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[19:29:41] *** Joins: FreeFull (freefull@moz-46956C9B.as13285.net)
[19:30:23] *** Ms2ger is now known as bzbarsky
[19:30:30] *** bzbarsky is now known as Ms2ger
[19:30:37] *** Quits: foxtrottango (Mibbit@moz-5E7DF880.cpe.net.cable.rogers.com) (Quit: http://www.mibbit.com ajax IRC Client)
[19:30:56] <achin> does rust have any numeric types that can hold arbitraryily large integers?
[19:31:02] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[19:31:24] *** Quits: gwty (gwtypc@F37DE23.519A4FE9.27560D6E.IP) (Ping timeout)
[19:31:33] <kimundi> achin: Afaik we have bignums in libextra
[19:31:36] *** Quits: bkircher (bkircher@moz-63979D20.dip0.t-ipconnect.de) (Client exited)
[19:32:13] *** Joins: mhr (mhr@moz-EBDFD4F.cpe.net.cable.rogers.com)
[19:32:45] *** Joins: Ralith (ralith@114DA04D.CD83ED0A.BCDF04A6.IP)
[19:33:12] <achin> kimundi: ah yes, thank you; sorry i didn't check there first
[19:34:43] *** Quits: FreeFull (freefull@moz-46956C9B.as13285.net) (Ping timeout)
[19:36:01] *** Quits: Jesin (Jesin@moz-4B662E55.washdc.fios.verizon.net) (Input/output error)
[19:37:09] *** Joins: gwty (gwtypc@B25AFF70.D8188D01.45DA6411.IP)
[19:37:10] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[19:37:10] *** ChanServ sets mode: +ao brson brson
[19:37:36] *** Quits: nfroidure (nfroidure@moz-FEF2D22A.w90-18.abo.wanadoo.fr) (Connection reset by peer)
[19:37:58] *** Joins: alan_andrade (alan_andra@94147F3C.3C8440C4.B7838CA6.IP)
[19:38:25] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[19:38:35] *** Joins: nfroidure (nfroidure@moz-FEF2D22A.w90-18.abo.wanadoo.fr)
[19:40:09] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[19:41:34] <mib_pjvei3> earlier, by nice things I was referring to const by default, pattern matching (compared to C switch), memory safety, a standard lib that makes use of the option type, concise int type name, and other small things 
[19:42:41] <mib_pjvei3> and when converting a c++ program to rust I found that rust promotes a style that is less coupled
[19:43:34] <bstrie> mib_pjvei3: less coupled how?
[19:43:41] <bstrie> <-- likes to ask questions
[19:43:47] *** Quits: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com) (Ping timeout)
[19:44:26] *** Joins: csherratt (csherratt@moz-8D848271.cpe.teksavvy.com)
[19:44:39] <strcat> bstrie: the couplings all rusted away
[19:44:46] *** Joins: sellout (Adium@moz-2ECB0660.hlrn.qwest.net)
[19:45:17] <mib_pjvei3> in the c++ program, the various parts referenced each other. maybe it's just my lack of knowledge on how to translate it well to rust, but I had to change the design to use less references
[19:45:58] <mib_pjvei3> the end result is that the various parts don't even know about each other... which is a big plus
[19:48:01] <mib_pjvei3> it feels like rust is steering me in the cleaner direction
[19:48:34] *** Joins: lenstr (lenstr@CD7D5ABA.83A99F98.85938D85.IP)
[19:52:05] *** Quits: eholk (eholk@moz-799DA9F.lsanca.fios.verizon.net) (Quit: eholk)
[19:54:08] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Quit: Lost terminal)
[19:54:52] *** Joins: Jesin (Jesin@moz-4B662E55.washdc.fios.verizon.net)
[19:54:53] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[19:54:53] *** ChanServ sets mode: +ao brson brson
[19:57:01] <comex> is there no longer a way to get a stack trace on failure without gdb?
[19:57:08] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[19:57:15] <comex> per https://github.com/mozilla/rust/issues/1650
[19:58:12] <bstrie> mib_pjvei3: awesome
[19:58:20] *** Quits: flowsnake (flowsnake@moz-10902DAB.cable.virginm.net) (Ping timeout)
[19:58:49] <kimundi> comex: at the moment, no
[19:59:05] <kimundi> only gdb (or similar)
[19:59:50] <Luqman> that method was a bit flaky and only worked on linux afaik
[20:00:21] *** Quits: alan_andrade (alan_andra@94147F3C.3C8440C4.B7838CA6.IP) (Input/output error)
[20:03:13] *** Quits: kasey (Kasey@moz-374F2663.dhcp.trlk.ca.charter.com) (Connection reset by peer)
[20:03:47] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[20:04:23] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[20:05:44] <Matthias247> Hi. I just realized that Rust has no ternary operator. What would I use instead? E.g. in a bool -> int conversion like : let intval = boolval ? 1 : 0;
[20:05:50] <nif> brson: ping
[20:06:13] *** Quits: canhtak (canhtak@moz-7307D7CE.wl.t.ulaval.ca) (Quit: canhtak)
[20:06:13] *** Joins: nrc (ncameron@7BE24E90.A5032A01.3CFC199D.IP)
[20:07:06] <myname> Matthias247: if
[20:07:53] <myname> let intval = if boolval { 1 } else { 0 }; for example
[20:07:58] <brson> nif: pong
[20:08:12] <myname> conversion from bool to int might have a shorter way
[20:08:49] *** Quits: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl) (Ping timeout)
[20:09:31] <nrc> Suppose I have some representation of a module in the compiler (the ast node, the ty information, whatever), is there any way to lookup it's parent?
[20:09:33] *** Quits: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com) (Input/output error)
[20:09:33] <nrc> e.g., if I have a reference to a::b::c, is there a way to find a::b?
[20:09:39] <Matthias247> myname: thx, that works.
[20:10:14] *** Joins: Kruppe (user@moz-EE1E894A.home3.cgocable.net)
[20:10:55] <nif> brson: I've been looking at your comments on my PR, and I've been thinking about the allow(unused_variable).  I was wondering if it might be okay to keep it in?  It's only there so I don't get warnings about the stub methods I have for insertion, which are going to be fully realized on the next PR I send in (hopefully)
[20:11:20] <nif> it just makes more sense to me to not put the underscore prefix on the variables because they're going to be used eventually
[20:11:32] <nif> but if it's more conventional to do it the other way, I understand.
[20:12:25] <brson> nif: it's ok to leave it in, yes. can you respond to the pr with what you just said so catamorphism sees it?
[20:12:33] <nif> can do
[20:14:50] *** Joins: sigma (sigma@moz-BFB7A653.range86-143.btcentralplus.com)
[20:15:42] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[20:16:54] *** Quits: samnardoni (samnardoni@moz-6E63ABD.dyn.plus.net) (Client exited)
[20:18:24] *** Joins: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com)
[20:18:32] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Connection reset by peer)
[20:20:51] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Quit: Busying myself...)
[20:21:53] <pcwalton> https://github.com/mozilla/rust/wiki/Note-wanted-libraries whoa, when did we get so many libraries
[20:22:06] *** Joins: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net)
[20:22:16] <pcwalton> including a full set of postgres bindings
[20:24:24] *** Joins: adridu59 (Mibbit@moz-E1FF077C.rev.numericable.fr)
[20:24:57] <kvark> wow, that's a good link! so much code to look at now
[20:24:58] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[20:25:13] *** Quits: eevee (eevee@moz-8DEBFFC9.lv.lv.cox.net) (Quit: reboot for ssh-agent)
[20:25:15] <bstrie> we need more of those on rust-ci, I wonder how many are ancient :P
[20:25:27] <brson> hey that's awesome. thanks for maintaining that
[20:25:46] <Eridius> oh neat. Maybe I should put rust-lua there
[20:25:51] <Eridius> though the only appropriate category is Misc
[20:26:06] <brson> really would love to get the package incubator going and give some of these more official CI support
[20:26:07] <Eridius> or maybe add a category Embedded Languages?
[20:26:22] <brson> make rust more batteries included
[20:26:25] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[20:26:26] <brson> break up libextra
[20:26:36] *** Joins: Lovot (root@AE31FB56.8153C3BF.F3C9A2D9.IP)
[20:27:50] *** Joins: vgeddes (Mibbit@moz-4C6314FC.dsl.mweb.co.za)
[20:28:47] * Eridius adds rust-lua
[20:30:01] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[20:30:51] <Matthias247> can comm:Chan::send be called from a non-Rust-Thread?
[20:31:08] <Matthias247> to deliver data from a C background thread to a rust application?
[20:31:42] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[20:31:49] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[20:32:20] <Eridius> Matthias247: I believe the answer is yes, at least with current master
[20:32:51] *** Quits: int3_ (int3_@moz-4FFAA436.pool-182-52.dynamic.totbb.net) (Ping timeout)
[20:34:56] *** Joins: samnardoni (samnardoni@moz-6E63ABD.dyn.plus.net)
[20:35:03] <vgeddes> hey all, I'm having trouble perform pattern matching on an enum with struct variants, specifically inside a trait implementation...
[20:35:24] <vgeddes> here's the relevant code and compiler output: https://gist.github.com/vgeddes/013047c144bec17e4ead#file-gistfile1-rs-L21
[20:36:04] <vgeddes> am I missing something?
[20:37:01] <vgeddes> the error I get is "error: mismatched types: expected `&Node` but found a structure pattern"
[20:37:04] <kimundi> vgeddes: The match pattern is fine, but you need to either match on &Var, &Br, ... etc, or start with "match *self {" :)
[20:37:20] <kimundi> (I recommend the latter, looks way nicer)
[20:37:52] *** Joins: int3_ (int3_@moz-4FFAA436.pool-182-52.dynamic.totbb.net)
[20:37:57] <kimundi> Or, in other words: becuase your method uses &self, "self" ahs the type &Node
[20:38:03] <kimundi> has*
[20:38:07] *** Joins: flowsnake (flowsnake@moz-10902DAB.cable.virginm.net)
[20:38:22] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[20:38:49] <Matthias247> Eridius: ok. Then I'll try it :)
[20:39:20] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[20:40:03] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[20:40:08] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[20:43:35] <vgeddes> kimundi: thanks! interestingly I tried those both of those approaches, but with no success. In both cases, I get "error: cannot move out of dereference of & pointer"
[20:44:05] <kimundi> vgeddes: Heh, that means they are correct, and you have a different problem :P
[20:44:45] <vgeddes> kimundi: it could be, I only started learning Rust a few hours ago :)
[20:46:41] *** Joins: Houm (Houm@moz-25669AA8.fbx.proxad.net)
[20:47:38] *** Joins: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net)
[20:47:42] *** Quits: mib_10101001 (Mibbit@DD6F7E3A.21468E9A.30200F38.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[20:50:12] <kimundi> vgeddes: Okay, so you get that "can not move out of derference of & pointer" error because the pattern bindings (test, texp, fexp) express "create 3 local variables, and assign the values of the variant to them" 
[20:50:25] *** Quits: mhr (mhr@moz-EBDFD4F.cpe.net.cable.rogers.com) (Ping timeout)
[20:50:53] <kimundi> However, the values are of type ~Node - a type that moves if you assign it to a new location
[20:52:23] <kimundi> And because you got to those values through a immutable reference (&), which may not get changed or invalidated during their lifetime, the compiler refuses the code
[20:53:33] <vgeddes> kimundi: ah, I see!
[20:54:27] <kimundi> There is a easy way around that for this situation: because you just want to call format() on those values, which does not require ownership, only another immutable reference, you can just modify the pattern binding to give you a reference to the ~Node values
[20:54:39] <kimundi> The syntax looks like this:
[20:54:59] <kimundi> Br { test: ref test, texp: ref texp, fexp: ref fexp } => {
[20:55:12] <wycats_> such ref
[20:55:30] <kimundi> The ref keyword in a pattern constructs a reference to the value - so in this case you end up with &~Node
[20:55:39] <wycats_> I wonder why the syntax isn't Br { test: &test }
[20:56:23] <kimundi> if you then call .format() on such a value, autoderef and autoref should turn that into the &Node needed for the method call automatically
[20:56:43] <kimundi> wycats_: because that remove one layer of reference, instead of construct one
[20:56:49] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[20:57:08] <wycats_> isn't * removing one layer of reference?
[20:57:23] <kimundi> wycats_: Not in a pattern
[20:57:42] <wycats_> right... I'm asking why the syntax isn't consistent
[20:57:47] <wycats_> with let foo = &bar
[20:57:53] *** Quits: adridu59 (Mibbit@moz-E1FF077C.rev.numericable.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[20:58:34] <kimundi> wycats_: It is consistent - Pattern destruction mirrors the expression construction syntax
[20:58:44] <wycats_> kimundi: say more
[20:58:55] <brson> wycats_: because & is also the syntax for destructuring &
[20:59:03] <wycats_> in what context?
[20:59:08] <wycats_> ah
[20:59:10] <wycats_> in parameters
[20:59:18] <strcat> in patterns
[20:59:19] <kimundi> wycats_: let x = 5; let &x = &5; let ~~x = ~~5; 
[20:59:20] <brson> in patterns: `Foo(&foo)` means give me the value `foo` behind the reference
[20:59:36] <kimundi> wycats_: These three statements all create a local variable with value 5
[20:59:43] <brson> it was a tough decision to add `ref`. there were some other options
[20:59:51] <wycats_> omg I think Rust just got too complicated for me :P
[20:59:53] <wycats_> jk
[21:00:09] <wycats_> I hate that borrowing and references are related but not identical concepts
[21:00:16] *** Quits: int3_ (int3_@moz-4FFAA436.pool-182-52.dynamic.totbb.net) (Client exited)
[21:00:35] <kimundi> brson: Imo having ref is fine - what would the alternative be? Transistion away from mirroring construction syntax?
[21:00:42] <strcat> wycats_: hm?
[21:00:42] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[21:01:02] <wycats_> &T a borrowed T that is also a reference to T
[21:01:17] <strcat> wycats_: you're repeating the same thing twice
[21:01:21] <brson> wycats_: i think of 'borrowed pointer' and 'reference' as synonyms
[21:01:32] <brson> most people would like us to move away from the 'borrowed pointer' terminology
[21:01:34] <strcat> borrowed pointer and reference are just two different names people give the same thing
[21:01:52] <wycats_> this is why I'm confused by & and ref
[21:02:03] *** Quits: moostik (Icedove@moz-F5DBFF76.w83-202.abo.wanadoo.fr) (Ping timeout)
[21:02:09] <strcat> wycats_: patterns mirror construction
[21:02:10] <strcat> (1, 2)
[21:02:14] <wycats_> ugh... I think I'm reaching the reason I'm not supposed to be a LLL programmer ;)
[21:02:15] <strcat> let (a, b) = tuple;
[21:02:18] *** Joins: mib_s78oqr (Mibbit@moz-6644E36C.pools.arcor-ip.net)
[21:02:37] <strcat> (1, 2) makes a tuple, (a, b) is destructuring onre
[21:02:38] <wycats_> let &a = &Some(foo)
[21:02:39] <strcat> one*
[21:02:43] <wycats_> a is Some(foo)
[21:02:47] *** Quits: mib_s78oqr (Mibbit@moz-6644E36C.pools.arcor-ip.net) (Quit: http://www.mibbit.com ajax IRC Client)
[21:02:53] <wycats_> let ref a = ref Some(foo)
[21:02:55] <wycats_> what's this?
[21:03:01] <strcat> wycats_: invalid
[21:03:07] <strcat> ref is only valid in patterns
[21:03:12] <wycats_> "patterns mirror construction"
[21:03:13] <vgeddes> kimundi: cool, I understand a lot better. I'll try that approach. 
[21:03:17] <wycats_> is what kimundi keeps saying
[21:03:27] <wycats_> so how does ref in patterns make sense
[21:03:32] <wycats_> if it's invalid in construction
[21:03:42] <brson> kimundi: i don't recall what the alternatives were off hand, but it seems like the pattern would have to not be mirrored. maybe we were considering `*` for it
[21:03:52] <wycats_> * makes sense
[21:03:53] *** Joins: adridu59 (Mibbit@moz-E1FF077C.rev.numericable.fr)
[21:04:02] *** Quits: wting (wting@4F978BD6.5564A9BA.9510F13D.IP) (Quit: leaving)
[21:04:12] <wycats_> isn't * legal in unsafe construction?
[21:04:15] <wycats_> and means the same thing
[21:04:20] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[21:04:25] <wycats_> unsafe { let *foo = *Some(bar) }
[21:04:42] <brson> 'ref' is not doing a pattern match, it's introducing a reference. sinc `&` matches references you have to have another syntax to introduce a reference to a pattern
[21:05:00] <bjz> brson: is it possible that we could get: fn foo(&self @ <pattern>) { ... } ?
[21:05:27] <wycats_> brson: does let ref foo = bar work?
[21:05:47] <brson> wycats_: i think so
[21:05:53] <wycats_> so why do you need option.as_ref()?
[21:06:03] <wycats_> shouldn't you be able to do let ref other = option?
[21:06:28] <adridu59> brson: hello
[21:06:38] <brson> as_ref gives you an Option<&T> not an &Option<T>
[21:06:52] <wycats_> ahhh
[21:06:58] <brson> you could thot say `let Option(ref foo) = option`
[21:07:04] <wycats_> I had written a borrow() that does what as_ref() does
[21:07:06] <brson> or well, not quite
[21:07:46] <adridu59> brson: I have opened https://github.com/mozilla/rust/pull/11314/ to fix license check (since it is 2014 now) by not matching the year itself
[21:07:53] <brson> bjz: i'm not sure. what would it be useful for?
[21:07:53] <adridu59> if you want to take a look
[21:08:02] <brson> adridu59: sweet!
[21:08:08] <wycats_> https://github.com/tildeio/buffoon/blob/master/src/buffoon/utils.rs#L15-L19
[21:08:09] <brson> i was just dispairing about this
[21:08:12] <wycats_> brson: ^
[21:08:12] <vgeddes> kimundi: yay! it works! thanks
[21:08:22] <wycats_> brson: I actually think having a borrow() trait would be nice
[21:08:24] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[21:08:33] <wycats_> there are so many shenanigans
[21:08:41] <wycats_> if you look at this file
[21:08:43] <bjz> brson: well atm we can do pattern matching for method args - but we can't for the self arg. it is a little annoying
[21:08:49] <wycats_> self.as_mut().map(|s| &mut **s)
[21:08:59] <kimundi> wycats_: Heh, sorry for the confusion - ref is indeed not valid for construction, only for a pattern
[21:09:05] <wycats_> self.as_ref().map(|s| &**s)
[21:09:20] <wycats_> kimundi: which makes "patterns mirror construction" not good enough :(
[21:09:23] <wycats_> I am despairing
[21:10:01] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[21:10:01] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[21:10:46] <kimundi> wycats_: See it as implication: every construction expression syntax can be used in a pattern to reverse it - with a few exceptions, and with additional binding modifiers possible
[21:10:55] <wycats_> hm
[21:11:06] <kimundi> The only exception I know of is *, btw
[21:11:36] <kimundi> A raw pointers is already dangerous enough, no need to provide patern destructuring syntax for it :P
[21:11:37] <wycats_> so if I have a &mut foo
[21:11:46] <wycats_> I can say let &mut x = foo
[21:11:51] <wycats_> and I will get a plain foo?
[21:12:04] <nrc> whilst on the subject of syntactic consistency - why do we use ':' in struct instantiation, when it is otherwise only used for typing?
[21:12:05] <kimundi> afaik yes
[21:12:26] <bjz> brson: fn foo(&self @ &(ref x1, ref y1), other @ &(ref  x2, ref y2): &(T, U))
[21:12:30] <kimundi> rusti: let &mut x = &mut 5; x
[21:12:32] -rusti- pastebinned 9 lines of output: http://ix.io/9FC
[21:12:32] *** Joins: int3_ (int3_@moz-4FFAA436.pool-182-52.dynamic.totbb.net)
[21:12:32] <brson> bjz: it seems like it will probably happen, but maybe not soon. self already has a bunch of changes coming to support smart pointers
[21:12:34] <strcat> wycats_: I don't think it's implemented yet
[21:12:41] <strcat> but yes, that's the idea
[21:12:45] <bjz> brson: ok
[21:12:50] <kimundi> rusti: let &x = &mut 5; x
[21:12:51] -rusti- 5
[21:12:51] *** Quits: int3_ (int3_@moz-4FFAA436.pool-182-52.dynamic.totbb.net) (Client exited)
[21:12:53] <kimundi> hehe
[21:13:00] <strcat> the symbols in the pattern destructure, the opposite of what they do at construction
[21:13:14] <strcat> not every form of construction has a destructuring form
[21:13:29] <strcat> I don't know of any special cases that aren't the reverse though
[21:13:44] <strcat> ref exists because sometimes you need to bind by-reference instead of moving into the pattern
[21:13:44] <kimundi> wycats_: Dunno if legacy or reason, but apparently pattern destructuring right now only recognizes & for both kinds of references
[21:14:38] <wycats_> so let &x = &mut y also removes the mut?
[21:14:57] <strcat> wycats_: &mut will happily coerce to &
[21:15:12] <wycats_> sometimes
[21:15:20] <strcat> always afaik
[21:15:32] <strcat> you're making it out as more complicated than it is
[21:15:42] <strcat> I don't think we have special cases in patterns, ref is special but I don't see an alternative
[21:15:43] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[21:15:56] <strcat> and it doesn't exist elsewhere
[21:16:00] <strcat> just in patterns
[21:16:06] *** Quits: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net) (Ping timeout)
[21:17:36] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[21:19:12] <kimundi> We only have ref because pattern matches are magic in the sense that they can move or borrow only depending on the pattern itself - which means you have the freedom of not always needing to move a value, which in turn means you have the ability to get a reference without moving, which is the reason for 'ref's existence
[21:19:13] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[21:19:22] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Ping timeout)
[21:19:36] *** Quits: mindcat (mindcat@16FC3D2.8DC48494.DBA68950.IP) (Quit: Lost terminal)
[21:20:06] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[21:20:38] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Client exited)
[21:20:58] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[21:21:28] <adridu59> brson: I can probably take over the two doc PRs if the original poster doesn't update them anymore (that's if I don't lack too much time)
[21:21:33] *** Joins: Puddles (Mibbit@moz-91FB2F3C.dyn.optonline.net)
[21:22:38] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[21:22:38] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[21:23:31] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[21:23:59] *** Quits: adridu59 (Mibbit@moz-E1FF077C.rev.numericable.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[21:25:31] *** Quits: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net) (Quit: ziad)
[21:25:49] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[21:26:05] *** Quits: Soft (soft@moz-EC8D39F.yok.fi) (Quit: --yes)
[21:26:48] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Client exited)
[21:26:57] *** Joins: ramitos (ramitos@moz-60679625.socal.res.rr.com)
[21:27:09] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.2)
[21:27:17] *** Quits: Jesin (Jesin@moz-4B662E55.washdc.fios.verizon.net) (Ping timeout)
[21:27:36] *** Joins: Jesin (Jesin@moz-4B662E55.washdc.fios.verizon.net)
[21:29:19] *** Quits: Jesin (Jesin@moz-4B662E55.washdc.fios.verizon.net) (Ping timeout)
[21:29:45] *** Joins: Jesin (Jesin@moz-4B662E55.washdc.fios.verizon.net)
[21:30:56] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[21:31:29] *** Joins: mindcat (mindcat@16FC3D2.8DC48494.DBA68950.IP)
[21:32:04] *** Joins: Soft (soft@moz-EC8D39F.yok.fi)
[21:32:44] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[21:37:25] <nomme> hi, i'm trying to learn rust but have been stuck on, what to me seems, like something that could not go wrong
[21:37:43] <nomme> this piece of code http://codepad.org/NqD4aJJ2
[21:38:01] <nomme> produces this compile error:
[21:38:03] <nomme>  15:36 error: type `std::rt::io::net::tcp::TcpStream` does not implement any method in scope named `write`
[21:38:05] <nomme>     stream.write(bytes!("GET /"));
[21:38:18] <nomme> and i cannot for the life of me understand why
[21:38:23] <nomme> i am running rust 0.8
[21:40:07] <bjz> nomme: you should be using 0.9-pre
[21:40:15] <bjz> from master
[21:40:33] *** Quits: mindcat (mindcat@16FC3D2.8DC48494.DBA68950.IP) (Ping timeout)
[21:40:51] <bjz> I don't know if that would solve your issue, but that should be your first point of call
[21:41:10] <nomme> i though the version in Arch's package handle would do the trick for my learning
[21:41:42] *** Quits: ramitos (ramitos@moz-60679625.socal.res.rr.com) (Quit: Computer has gone to sleep.)
[21:42:07] <nomme> but fair enough. i will try it. thx
[21:42:11] <Luqman> nomme: there are nightly builds for arch
[21:42:13] *** Joins: ramitos (ramitos@moz-60679625.socal.res.rr.com)
[21:42:26] <Luqman> nomme: https://mail.mozilla.org/pipermail/rust-dev/2013-May/004061.html
[21:42:55] <nomme> Luqman: that's great, thx
[21:44:55] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Quit: Gone to save the world!)
[21:48:48] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[21:49:11] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[21:50:02] *** Quits: gwty (gwtypc@B25AFF70.D8188D01.45DA6411.IP) (Client exited)
[21:50:14] *** Quits: Lovot (root@AE31FB56.8153C3BF.F3C9A2D9.IP) (Quit: Lost terminal)
[21:50:18] *** Quits: mib_pjvei3 (Mibbit@moz-4A19983C.ip227.fastwebnet.it) (Quit: http://www.mibbit.com ajax IRC Client)
[21:50:36] *** jorendorff_away is now known as jorendorff
[21:51:22] *** jorendorff is now known as jorendorff_away
[21:51:41] *** Quits: philix (philix@moz-E2894C4B.user.veloxzone.com.br) (Ping timeout)
[21:51:57] *** Joins: Lovot (root@AE31FB56.8153C3BF.F3C9A2D9.IP)
[21:51:57] *** Joins: philix (philix@moz-E2894C4B.user.veloxzone.com.br)
[21:52:34] <nomme> Luqman, bjz: that worked much better. It of course was the obvious answer not to run old software... Thanks!
[21:52:47] *** Quits: samnardoni (samnardoni@moz-6E63ABD.dyn.plus.net) (Client exited)
[21:52:58] <bjz> nomme: no worries
[21:53:19] <bjz> nomme: lots of people have the same issue, so don't blame yourself
[21:53:45] *** Quits: Axord (xord@moz-C0D5F15A.lsanca.dsl-w.verizon.net) (Quit: I'm sure it's perfectly safe)
[21:53:48] *** Joins: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net)
[21:54:24] <bascule> hmmm
[21:54:42] <bascule> I'm making a socket then doing BufferedReader::new one it to parse a line-oriented protocol
[21:54:52] <bascule> everything's going great until I try to write to the socket...
[21:55:02] *** Quits: Ralith (ralith@114DA04D.CD83ED0A.BCDF04A6.IP) (Ping timeout)
[21:55:48] <bascule> I get "error: use of moved value: `socket`"
[21:56:04] <bascule> conceptually I understand why, but I don't understand what I'm supposed to do there to solve the problem
[21:56:12] <Matthias247> What's the correct way to get a raw pointer from an owned pointer? I tried let p: *MyObj = transmute(&my_owned_obj). But if i try to dereference that later my program crashes
[21:57:10] *** Joins: Ralith (ralith@114DA04D.CD83ED0A.BCDF04A6.IP)
[21:57:14] *** Joins: eevee (eevee@moz-8DEBFFC9.lv.lv.cox.net)
[21:57:40] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[21:58:08] <Ms2ger> That looks like a pointer to a pointer on the stack
[21:59:07] <eddyb> Matthias247: try without the &
[21:59:22] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[21:59:26] <Matthias247> let my_owned_obj = ~MyObj{}. So it's not on the stack and definitively alive :)
[21:59:29] <eddyb> Matthias247: oh, but that would consume it. &*
[21:59:48] <Matthias247> eddyb: yes, without & I get an error that it is moved
[21:59:51] <Ms2ger> rusti: let x = ~1u; let y: &uint = x; let z: *uint = y; z
[21:59:51] -rusti- (0x7f2dec000f50 as *())
[22:00:02] <Ms2ger> rusti: let x = ~1u; let y: &uint = x; let z: *uint = y; unsafe {*z}
[22:00:02] -rusti- 1u
[22:00:23] <eddyb> Ms2ger: wtf, does that just work?
[22:00:43] <eddyb> I thought the second cast requires "as"
[22:00:45] <Ms2ger> I dunno, what does it look like? :)
[22:00:49] <nif> I'm having trouble with make check.  I feel like there could be so many reasons why this is happening, but it works fine until I get to compile_and_link i686-unknown-linux-gnu/stage1/lib/rustc/i686-unknown-linux-gnu/bin/compiletest, where I get a "fatal runtime error: could not unwind stack, error = 5."  Is this something that happens?  Does it have a known (set of) cause(s)?
[22:01:31] <kimundi> Matthias247: &my_owned_obj gets you a &~MyObj, wich is very much a stack pointer. however, if you get a &MyObj from a ~MyObj, then you can just cas that to a raw pointer
[22:01:40] *** Joins: samnardoni (samnardoni@moz-6E63ABD.dyn.plus.net)
[22:02:06] *** Joins: SingingBoyo (brandon@DA28FB90.A5D0D593.4F048BDC.IP)
[22:02:14] *** Quits: Lovot (root@AE31FB56.8153C3BF.F3C9A2D9.IP) (Quit: Lost terminal)
[22:02:22] <kimundi> rusti: let x = ~5; let y: &int = x; y as *int
[22:02:23] -rusti- (0x7fa30c000f50 as *())
[22:02:31] <kimundi> Matthias247: ^
[22:02:41] <Matthias247> kimundi: This is what I guessed. However I don't know how to get around the "use of moved value"
[22:03:36] *** Joins: Lovot (root@AE31FB56.8153C3BF.F3C9A2D9.IP)
[22:04:03] *** Quits: eddyb (eddy@EE946B63.921A1753.FCAAE698.IP) (Ping timeout)
[22:04:06] <kimundi> Matthias247: You need to get the first &MyObj without moving
[22:04:06] <Ms2ger> Where do you get that?
[22:05:00] <bjz> Matthias247: re. owned ptr, there is also std::ptr::to_unsafe_ptr
[22:05:24] <Ms2ger> But that's ugly :)
[22:05:49] <bjz> Matthias247: it is generally safer to use that than the raw transmutes, bceause it enforces the types
[22:05:52] <Matthias247> kimundi: ok. This works
[22:05:58] <Matthias247> although it's strange :)
[22:06:15] <Ms2ger> Okay, transmute is uglier
[22:07:02] <Matthias247> let temp:&MyObj = my_owned_obj; let raw *MyObj = transmute(temp);
[22:07:12] <Matthias247> this is what worked ;)
[22:07:39] <Ms2ger> You can drop the transmute entirely there
[22:07:57] <Ms2ger> So |let raw: *MyObj = temp;|
[22:08:05] <kimundi> Matthias247: It'S only strange because there are still a few holes in rusts pointer-cast/coerce seamntics - a better looking way would be "let x = ~MyObj; let y = &*x as *MyObj", but that doesn't work correctly today
[22:08:09] <Ms2ger> Though you should avoid raw pointers :)
[22:08:27] <bjz> kimundi: yeah, that should work
[22:08:43] <kimundi> Matthias247: &T will coerce/cast to *T, no need for transmute
[22:08:45] <Matthias247> Ms2ger: I know. But I need it for interfacing a C library
[22:08:57] <bjz> Matthias247: as I said before, try to wrap transmutes into the smallest trusted wrapper as you can
[22:09:12] <bjz> Matthias247: that's what to_unsafe_ptr does under the hood
[22:09:23] <Ms2ger> Matthias247, well, you can just pass an &T to a function that takes *T
[22:09:44] <kimundi> bjz: The tricky thing is that it works today, but not in a way you'd expect - it actually dereferences and creates a temporary on the stack for the reference, which obviously is not the desired outcome :P
[22:09:59] <bjz> kimundi: indeed
[22:10:03] <kimundi> (And only works for POD types)
[22:10:27] *** Joins: ptc (Adium@moz-192425C4.nyc.res.rr.com)
[22:10:40] <Matthias247> Ms2ger: basically this is what I tried. But I didn't except that &~ behaved different than &
[22:12:12] *** Joins: SiegeLord (sl@moz-3B527BD6.bstnma.fios.verizon.net)
[22:12:41] *** Quits: Ms2ger (Ms2ger@125CFB8C.2C129564.3773EA9F.IP) (Quit: nn)
[22:15:04] <Matthias247> to_unsafe_ptr works too :)
[22:15:19] *** Quits: Ralith (ralith@114DA04D.CD83ED0A.BCDF04A6.IP) (Ping timeout)
[22:15:55] *** Quits: noam (noam@F6B530A7.720527A7.416762B.IP) (Connection reset by peer)
[22:17:05] *** flaper87|afk is now known as flaper87
[22:19:22] *** Joins: FreeFull (freefull@moz-37878E82.as13285.net)
[22:19:23] *** Quits: Puddles (Mibbit@moz-91FB2F3C.dyn.optonline.net) (Quit: http://www.mibbit.com ajax IRC Client)
[22:20:05] <Matthias247> I think I like that better. The type coercion is a little strange as it works when you already have a borrowed reference but not when you do &(~sth)
[22:21:08] *** Quits: samnardoni (samnardoni@moz-6E63ABD.dyn.plus.net) (Client exited)
[22:22:55] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[22:26:18] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[22:27:34] <nif> I am completely confused as to why I can't make check effectively. can anyone give me a hand?
[22:27:35] *** Joins: rwt (rwt@267874A3.DB91A3F2.51B6877.IP)
[22:27:42] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[22:27:44] *** Quits: rwt (rwt@267874A3.DB91A3F2.51B6877.IP) (Quit: )
[22:27:49] <nif> I feel dumb. :<
[22:28:07] *** Joins: rwt (rwt@267874A3.DB91A3F2.51B6877.IP)
[22:31:27] <steveklabnik> Dumb question: correct syntax to loop 100 times on master?
[22:31:33] <steveklabnik> It's complaining about my do
[22:31:36] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[22:31:44] *** Joins: kvanb (kvanb@moz-CDB93B52.lnse3.win.bigpond.net.au)
[22:32:59] <acrichto> steveklabnik: for i in range(0, 100) { ... }
[22:33:19] <steveklabnik> Aweosme thanks
[22:33:25] <steveklabnik> Makes sense
[22:33:25] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[22:33:26] <bascule> hmm, I still can't get this to work:
[22:33:29] <bascule> https://gist.github.com/tarcieri/c297e3e1c30385021d86
[22:33:37] <Matthias247> acrichto: I think you are the expert in this: Is calling Chan.send from a non-Rust thread valid?
[22:33:39] <kvark> steveklabnik: now I see you weren't joking when you said you are going to ask tons of dumb questions ;)
[22:33:40] <steveklabnik> When I last touched this code, it was in the middle of the iterators changes
[22:33:49] <steveklabnik> Kvark: ;)
[22:33:51] <bascule> it seems like stream.lines() is borrowing the pointer to the stream?
[22:33:51] <acrichto> Matthias247: you should be able to do that
[22:34:01] <acrichto> Matthias247: if you can't then it's a bug
[22:34:03] <Matthias247> I'm trying at hte moment but I'm getting a story told about an ocean or sth
[22:34:14] <Matthias247> fatal runtime error
[22:34:21] <wycats_> bascule's question is interesting to me as well
[22:34:24] <acrichto> Matthias247: are you waking up a green thread?
[22:34:36] *** Quits: FreeFull (freefull@moz-37878E82.as13285.net) (Ping timeout)
[22:34:49] *** Quits: eevee (eevee@moz-8DEBFFC9.lv.lv.cox.net) (Ping timeout)
[22:34:49] <wycats_> It's a general question of an iterator borrowing &mut self but then wanting to mutate self inside
[22:35:22] <Matthias247> acrichto:  I'm starting in the normal mode. Guess that means green threads. Then I start a C++ library which starts a background thread. From this thread I get a callback into Rust and want to send sth. into a Rust channel
[22:35:38] <acrichto> wycats_: bascule: right now you can't do that, we need to rewrite the for-loop to not just use syntactic expansion to allow that
[22:35:46] <bascule> ok
[22:35:50] <bascule> :|
[22:35:56] <acrichto> Matthias247: ok, I have that fixed in a branch of mine, but it hasn't been merged yet
[22:36:09] <comex> "error: mutable variables cannot be implicitly captured
[22:36:13] <comex> is there a way to explicitly capture?
[22:36:17] <wycats_> Seems like a huge problem for a stream
[22:36:21] *** Joins: FreeFull (freefull@moz-D0529B9A.as13285.net)
[22:36:50] <comex> oh, it's a bug
[22:37:06] <Matthias247> acrichto: ok. Any estimate when you'll have merged it? Or is there a good workaround for it?
[22:37:13] <acrichto> Matthias247: ah wait! it should be merged now
[22:37:16] <acrichto> what version are you on?
[22:37:29] <Matthias247> I think I pulled 2 days ago
[22:37:35] *** Joins: doomlord_ (servitor@moz-CA917A47.range86-184.btcentralplus.com)
[22:37:48] <Matthias247> Then I'll try to update
[22:38:22] <acrichto> Matthias247: 3f11f873 should be the relevant commit
[22:38:27] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[22:38:29] <acrichto> other than that, I'll take some backtraces and take a look
[22:40:04] <Matthias247> Ok, have that now. Do I have to configure again after a pull or is make sufficient?
[22:40:20] *** Quits: rwt (rwt@267874A3.DB91A3F2.51B6877.IP) (Quit: Nettalk6 - www.ntalk.de)
[22:40:22] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[22:40:37] <acrichto> Matthias247: git pull + make should be fine
[22:42:55] <Matthias247> ok. Thx. I'll try and will report if it helps
[22:43:04] <Matthias247> will take a while :)
[22:43:16] <acrichto> Matthias247: thanks!
[22:44:07] *** Joins: herrwolfe45 (user@moz-3F0F09A7.cm.sunflower.com)
[22:45:33] *** Quits: c-a (c-a@380CCB84.6116A87C.3B6D96BA.IP) (Ping timeout)
[22:45:57] <Matthias247> acrichto: btw: I read your presentation about the threading mechanism and found them very interesting. But one thing I did not understand was whether 1:1 implementation would also get only blocking IO Apis?
[22:46:15] <herrwolfe45> hi - I am working on creating a small lib using rust and am having trouble getting the tests discovered once I have packaged the library. The stacktrace, project layout, and lib/tests are here: https://gist.github.com/derwolfe/661c25edaaf281f4485d. 
[22:46:43] <acrichto> Matthias247: what do you mean by only blocking IO apis? what would the alternative be?
[22:48:05] <Matthias247> acrichto: e.g. the ability to switch also to a nonblocking mode and use it together with a select mechanism (same as standard socket api or the Java NIO API)
[22:48:26] <bjz> herrwolfe45: o/
[22:48:57] *** Quits: philix (philix@moz-E2894C4B.user.veloxzone.com.br) (Ping timeout)
[22:48:58] <bjz> herrwolfe45: rustpkg is weird
[22:49:03] <acrichto> Matthias247: hm, well want to support some form of io::select() in the future, but you wouldn't necessarily create blocking or non-blocking primitives (it'd all be based on the same I/O objects)
[22:49:07] <Matthias247> of course a async callback based API like that what libuv provides would also be possible. But I think this would not work too good with rusts lifetime semantics
[22:49:53] <herrwolfe45> hi bjz - I found my way over. The only thing I'm thinking is that I've either missed a step in maybe installing my library, or that my older version is working differently than ~0.9 might
[22:49:53] <bjz> herrwolfe45: unfortunately I have to head off now, but hopefully somebody else might be able to lend a hand
[22:49:56] *** Joins: philix (philix@moz-4689D536.user.veloxzone.com.br)
[22:50:10] <herrwolfe45> no problem - thanks for directing me here
[22:50:14] <bjz> herrwolfe45: I would recommend using rustc directly
[22:50:23] <acrichto> Matthias247: we initially had the idea of having an async api, but right now our decided answer to that is "use green tasks"
[22:50:29] <bjz> ruspkg is broken for most semi-complex things :(
[22:51:04] <Matthias247> I think having nonblocking IO and some-kind of select is a must-have in 1:1 implementation. Because most current applications use them, e.g. in the basic event loops for GUI systems
[22:52:02] <herrwolfe45> bjz: that I have done, and it works fine to compile as an executable. My goal with rustpkg was to build a reusable crate. Is this possible using rustc alone?
[22:52:09] <acrichto> Matthias247: we do plan on having select(), although if you need to get very creative with the use of I/O then the recommendation is essentially "use libnative directly
[22:52:54] <bjz> herrwolfe45: yes
[22:53:18] <herrwolfe45> ah yes - I can just pass in --lib
[22:53:48] <bjz> herrwolfe45: add `#[crate_type = "lib"]; #[crate_id = "encode_64"];` to the top of your lib
[22:54:00] <bjz> herrwolfe45: then there is no need for the flag
[22:54:08] <bvssvni> herrwolfe45: there is also an output dir flag (useful for libs)
[22:54:33] <herrwolfe45> excellent - thanks
[22:54:37] <Matthias247> acrichto: libnative directly or OS API directly?
[22:54:39] <bjz> then do `rustc --test -L <path_to_lib> test.rs && ./test`
[22:55:11] <wycats_> sfackler: does https://github.com/sfackler/rust-openssl work with rust-http?
[22:55:18] <bjz> herrwolfe45: `rustc -h` gives you a list of the rustc options
[22:55:23] <acrichto> Matthias247: you can manage libnative I/O objects and deal with attributes on the file descriptors themeselves
[22:55:27] * bjz has to run now
[22:55:31] <bjz> o/
[22:55:44] * bjz runs
[22:56:01] *** Joins: willingc (willingc@58EF4CE2.92EDCBE3.97F07BE5.IP)
[22:56:09] <Matthias247> acrichto: Sure. But async winapi is so different that that propably would'nt help
[22:56:21] *** Quits: SingingBoyo (brandon@DA28FB90.A5D0D593.4F048BDC.IP) (Quit: My work here is done)
[22:56:39] *** Quits: willingc (willingc@58EF4CE2.92EDCBE3.97F07BE5.IP) (Connection reset by peer)
[22:56:41] <acrichto> Matthias247: this is a tricky design space because the idea in theory works well but the implementation/api don't always make that much sense
[22:56:51] *** Joins: willingc (willingc@58EF4CE2.92EDCBE3.97F07BE5.IP)
[22:57:07] <Matthias247> Let's think somebody wants to create something like QT based on Rust. I think then he might be in favor of using 1:1 threads because of full performance. But on the other side he wouldn't be able to create a event loop for this\fs26
[22:57:27] *** Quits: sellout (Adium@moz-2ECB0660.hlrn.qwest.net) (Ping timeout)
[22:57:30] <acrichto> you can always have event loops in other threads doing all the I/O
[22:58:36] *** Quits: willingc (willingc@58EF4CE2.92EDCBE3.97F07BE5.IP) (Ping timeout)
[22:58:36] <Matthias247> ok. And then wait with a Receive in the 1:1 thread for i/o from other (possibly M:N) threads?
[22:58:46] <Matthias247> that could be reasonable
[22:59:04] <acrichto> Matthias247: yeah channels could be the communication between everything
[22:59:16] *** Parts: herrwolfe45 (user@moz-3F0F09A7.cm.sunflower.com) (ERC Version 5.3 (IRC client for Emacs))
[22:59:50] *** Joins: willingc (willingc@58EF4CE2.92EDCBE3.97F07BE5.IP)
[23:01:11] <geal> ok, so, updating some code functionning with 0.3 to the current version is a special kind of fun
[23:01:54] <geal> I'm discovering old syntaxes (what the hell are those + before function arguments?) and it seems the choice between trait and iface was not made yet at the time :)
[23:02:10] <Luqman> geal: argument modes
[23:02:22] <Matthias247> The other thing that came to my mind was building a basic blocking and nonblocking api together with select for the 1:1 mode. Something like java nio or libuv without callbacks. The select would work more on native handles than on channels. Then this implementation could be used as the underlying basic for the M:N I/O together with the scheduler adn would replace libuv there.
[23:02:29] *** Joins: herrwolfe45 (user@moz-3F0F09A7.cm.sunflower.com)
[23:02:31] *** Joins: rwt (rwt@267874A3.DB91A3F2.51B6877.IP)
[23:02:33] <Matthias247> However I also see that this would be quite a lot of work :)
[23:02:55] <dbaupp> geal: 0.3 :O
[23:02:58] <bstrie> wycats_: are you still using rust-protobuf for skylight?
[23:03:01] *** Quits: willingc (willingc@58EF4CE2.92EDCBE3.97F07BE5.IP) (Client exited)
[23:03:08] <bstrie> geal: hahahahaha
[23:03:17] <bstrie> hahahahahahahaha
[23:03:21] <wycats_> No
[23:03:31] <wycats_> We wrote a new protobuf library
[23:03:33] <wycats_> Buffoon
[23:03:42] <wycats_> But it doesn't have all the types supported 
[23:03:46] <wycats_> And doesn't generate code
[23:03:49] <wycats_> (Yet)
[23:03:52] <bstrie> wycats_: ah I see... I was asking because I saw a story about capnproto-rust today, and wondered if you could just use that
[23:03:55] <bstrie> :P
[23:04:04] <wycats_> No our server is protobuf
[23:04:07] *** Joins: eevee (eevee@moz-8DEBFFC9.lv.lv.cox.net)
[23:04:11] <Luqman> geal: i think it was by value (nothing), by mutable pointer (&), by-copy (+), by-move (-)
[23:04:12] <wycats_> Not in my control
[23:04:16] <bstrie> icic
[23:04:41] <wycats_> I'm not sure why carllerche is opposed to capnproto
[23:04:50] <wycats_> But I don't feel like fighting with him ;)
[23:04:55] <bstrie> geal: honestly this sounds fascinating. let us know how you fare :)
[23:05:21] <dbaupp> Luqman: wasn't there ++ and && too?
[23:05:35] * dbaupp never actually used a Rust with argument mode
[23:05:36] <dbaupp> s
[23:05:44] <bstrie> aaaaggghhhhh! don't even mention argument modes
[23:05:48] <bstrie> such painful memories
[23:06:09] <bstrie> one day I really hope to give a presentation where I just go through the evolution of rust
[23:06:31] <dbaupp> bstrie: that'd be awesome
[23:06:45] <bstrie> well it's basically the only rust topic that I might be considered an expert on
[23:06:49] <bstrie> vaguely
[23:06:51] * bvssvni would like to see more talks related to Rust
[23:07:00] *** Quits: jackneill (jackneill@moz-CA1BA0D4.pool.digikabel.hu) (Ping timeout)
[23:07:27] * bvssvni videos! more videos!
[23:07:43] <dbaupp> bstrie: you're an expert on what people outside the community think too, right?
[23:07:51] <dbaupp> bstrie: and Rust related subreddit moderation
[23:08:08] <geal> bstrie: well, I let the compiler guide me. First, there were syntax fixes like "for arr |el| {" to "for el in arr". Then macros, like #fmt -> format!, #debug -> debug!, then fixing the imports (because obviously, std::io changed since that time). Now, I am deep into ownership and mutability problems
[23:08:20] *** Joins: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net)
[23:08:21] <geal> I see directly the process of the compiler there :)
[23:08:52] <bstrie> geal: what library is this?
[23:08:55] <Matthias247> geal: but you can be happy that the compiler will emit errors. In javascript such an update would be much harder :-)
[23:09:04] <geal> I do not think the resulting code will be nice to read (too much mutable stuff)
[23:09:10] <geal> bstrie: rust-csv
[23:09:38] <geal> honestly, I could have written it from scratch, but it seemed like an interesting project, to dust up some old code
[23:09:44] <bstrie> very interesting
[23:09:47] <bstrie> if a bit esoteric :)
[23:10:48] *** Joins: mleise (marco@moz-412EACFE.pools.arcor-ip.net)
[23:12:25] *** Quits: vgeddes (Mibbit@moz-4C6314FC.dsl.mweb.co.za) (Quit: http://www.mibbit.com ajax IRC Client)
[23:12:49] <wycats_> bstrie: where do you live?
[23:13:01] <wycats_> Also you don't have to be an expert to give a talk
[23:13:02] <wycats_> ;)
[23:15:51] *** Joins: john (john@moz-741429C4.pools.arcor-ip.net)
[23:16:59] <john> hey everyone, quick question is the "rust tool" still a part of rust?
[23:17:11] <john> just finished make install
[23:17:21] <john> and its not added
[23:17:57] <bvssvni> john: no
[23:18:03] <john> great thanks
[23:18:13] *** Quits: spider-mario (spidermari@moz-81131DB6.fbx.proxad.net) (Input/output error)
[23:18:41] *** Quits: john (john@moz-741429C4.pools.arcor-ip.net) (Quit: leaving)
[23:19:21] <bstrie> wycats_: pittsburgh-ish
[23:19:43] <dwrensha> wooo Pittsburgh
[23:20:19] <bstrie> dwrensha: you know what this means? PITTSBURGH RUSTCON '013 IS ON
[23:20:32] <sully> we should do a meetup
[23:21:01] <nif> rust belt rustcon seems p appropriate :D
[23:21:06] <bstrie> haha
[23:21:07] <bstrie> I like it
[23:21:23] <bstrie> but then we'd also have to be open to invite people from *cleveland*
[23:21:26] <nif> I'm from Cleveland so I can joke about the rust belt
[23:21:28] <bstrie> I'm not sure I'm ready for that
[23:21:28] <nif> hey now
[23:21:31] <bstrie> :P
[23:22:00] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[23:22:08] <bstrie> (go stillers)
[23:22:30] <wycats_> I'm hoping to start a PDX meet up soon
[23:22:34] <nif> >:(
[23:23:04] <bstrie> nif: I kid, I kid! :)
[23:23:15] <bstrie> now if you were from philadelphia, it would be different
[23:23:16] <nif> bstrie: it's all good :D
[23:23:20] <nif> lol
[23:24:08] <wycats_> Anyone here in PDX?
[23:25:00] <bstrie> wycats_: ...you live in the portland international airport?
[23:25:28] <wycats_> LOL
[23:25:36] <wycats_> Seatac is a city ;)
[23:25:44] *** Joins: DanR (DanR@moz-4C1E443F.clients.kiwiirc.com)
[23:29:53] *** Joins: john (john@moz-741429C4.pools.arcor-ip.net)
[23:30:25] *** Quits: rca (rcatolino@moz-6B6EA2D.adsl.proxad.net) (Ping timeout)
[23:31:30] *** Joins: samnardoni (samnardoni@moz-6E63ABD.dyn.plus.net)
[23:31:54] *** Joins: payload (Mibbit@moz-82CEFB27.dip0.t-ipconnect.de)
[23:32:01] <payload> hi
[23:32:18] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[23:32:50] <john> could someone tell me if theres a way to generate the docs for rust master
[23:33:06] <john> just realizing the online docs are pretty out of date
[23:33:19] *** Quits: samnardoni (samnardoni@moz-6E63ABD.dyn.plus.net) (Ping timeout)
[23:33:23] *** Joins: willingc (willingc@58EF4CE2.92EDCBE3.97F07BE5.IP)
[23:33:53] *** Quits: herrwolfe45 (user@moz-3F0F09A7.cm.sunflower.com) (Ping timeout)
[23:34:03] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[23:34:54] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[23:34:57] *** Quits: ptc (Adium@moz-192425C4.nyc.res.rr.com) (Quit: Leaving.)
[23:35:12] *** Quits: willingc (willingc@58EF4CE2.92EDCBE3.97F07BE5.IP) (Ping timeout)
[23:35:21] <dbaupp> john: http://static.rust-lang.org/doc/master/std/index.html are not
[23:35:35] <payload> rust/docs/README     there it is written that     make docs     is the command.
[23:35:48] *** Joins: willingc (willingc@58EF4CE2.92EDCBE3.97F07BE5.IP)
[23:35:48] <dbaupp> john: (also, if you're compiling master yourself, the docs get compiled by `make` by default)
[23:36:03] <payload> when I write      struct Some { func: || }      it errors with   missing lifetime specifier
[23:36:06] <dbaupp> and some of the nightly packages actually include them too
[23:36:19] <dbaupp> payload: struct Some<'a> { func: 'a || }
[23:36:30] <payload> ah, okay. lets try
[23:36:59] *** Joins: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP)
[23:37:02] <john> dbaupp: thanks so much
[23:37:29] *** Quits: willingc (willingc@58EF4CE2.92EDCBE3.97F07BE5.IP) (Ping timeout)
[23:38:31] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[23:40:12] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[23:40:40] *** Quits: espadrine (Thunderbir@moz-51C6C07B.w92-128.abo.wanadoo.fr) (Ping timeout)
[23:41:20] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Quit: Konversation terminated!)
[23:42:08] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[23:43:31] *** Quits: mhi (mhi@moz-3F37F1B8.cust.telecolumbus.net) (Quit: Lost terminal)
[23:43:49] *** Joins: willingc (willingc@58EF4CE2.92EDCBE3.97F07BE5.IP)
[23:43:54] *** Joins: espadrine (Thunderbir@moz-3CE5C493.w92-128.abo.wanadoo.fr)
[23:43:55] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[23:44:06] *** Quits: willingc (willingc@58EF4CE2.92EDCBE3.97F07BE5.IP) (Client exited)
[23:44:13] *** Joins: willingc (willingc@58EF4CE2.92EDCBE3.97F07BE5.IP)
[23:46:27] <Matthias247> acrichto: crash is gone. Works now!
[23:47:49] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Quit: WeeChat 0.4.2)
[23:49:31] *** Quits: willingc (willingc@58EF4CE2.92EDCBE3.97F07BE5.IP) (Ping timeout)
[23:50:51] <acrichto> Matthias247: awesome!
[23:51:10] <Matthias247> acrichto: the awesome goes back to your work :-)
[23:52:02] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[23:52:02] *** Joins: willingc (willingc@58EF4CE2.92EDCBE3.97F07BE5.IP)
[23:53:00] *** Quits: erick (erick@E1304535.2A7189BF.BE19388.IP) (Ping timeout)
[23:55:20] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[23:55:20] *** ChanServ sets mode: +ao brson brson
[23:56:07] *** Quits: nif (nif@moz-8181E2AC.oberlin.net) (Quit: Konversation terminated!)
[23:56:28] *** Quits: john (john@moz-741429C4.pools.arcor-ip.net) (Quit: Lost terminal)
[23:57:25] *** Joins: erick (erick@E1304535.2A7189BF.BE19388.IP)
