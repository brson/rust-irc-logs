[00:34:21] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[00:34:22] *** ChanServ sets mode: +qo ChrisMorgan ChrisMorgan
[06:07:02] <cmr> ChrisMorgan: if I use RequestWriter<openssl::ssl::SslStream>, do I magically get SSL?
[06:07:36] <ChrisMorgan> Probably.
[06:09:09] <ChrisMorgan> cmr: well, only kind of. At present you won't really be able to *use* it, because some things are implemented for RequestWriter<TcpStream>
[06:09:22] <cmr> ah ok
[06:09:31] <cmr> patching rust-http it is
[06:09:38] <ChrisMorgan> That's only because of the connect() method. That suggests a good abstraction for it…
[06:10:27] <ChrisMorgan> (A Connect trait.)
[06:11:14] <ChrisMorgan> Upstream is the place for that. I might see what people think.
[06:11:29] <cmr> Upstream being rust itself?
[06:11:45] <ChrisMorgan> Yep.
[06:13:04] <ChrisMorgan> Hmm. It's not really generalisable because for UdpSocket connect is a method rather than a static method.
[06:14:14] <cmr> hm
[06:14:29] <cmr> I just went down a path of thought wherein you're doing http "requests" against the filesystem
[06:14:38] <cmr> that is, writing to a file, reading from another file...
[06:15:16] <ChrisMorgan> Yes, there is a reason why it's generic rather than hardcoding TcpStream.
[06:15:31] <cmr> right
[06:15:31] <ChrisMorgan> (Mainly testability.)
[06:15:47] <cmr> I'm just trying to think how that'd abstract out to some sort of Connect
[06:16:13] <ChrisMorgan> It's a question of doing it upstream or doing it in rust-http.
[06:16:38] <cmr> Well I think that question is answered by the generality of the abstraction
[06:17:11] <cmr> TLS has negotiation, filesystems don't have anything, UDP needs an open socket first, etc.
[06:17:28] <cmr> So I'm not sure there *is* a sensible abstraction.
[06:17:57] <cmr> (that'd be suitable for upstream, that is)
[06:51:32] <ChrisMorgan> cmr: introducing the Connecter (sic.) abstraction has the downside of killing type inference for that generic parameter. (Formerly, using `.read_response()` indicated it must be a RequestWriter<TcpStream>, now it's not sure.)
[06:52:12] <cmr> ChrisMorgan: Ah, but RequestWriter<T: Connector = TcpStream>
[06:52:33] <cmr> Actually that's a good point...
[06:52:40] * cmr emails ML about default type parameters
[06:52:51] * ChrisMorgan was thinking happily of such possibilities when default type parameters landed and hopes they will soon be ungated
[06:55:55] <cmr> email sent
[06:57:35] * ChrisMorgan waits for someone to jump on the word "HKT" and derail the thread completely
[06:58:08] <cmr> unsubscribing from rust-dev will probably be the saddest day of my life
[06:58:11] <cmr> well no
[06:58:26] <cmr> saddest part of my career as a developer
[06:58:41] <cmr> (I often conflate that with my life)
[06:59:23] <ChrisMorgan> rust-dev has been getting significantly out of hand recently. ☹
[06:59:39] <cmr> concur
[07:14:44] *** flaper87|afk is now known as flaper87
[07:51:35] *** Joins: dbaupp (Thunderbir@moz-25BBAF91.lns20.syd6.internode.on.net)
[07:51:35] *** ChanServ sets mode: +v dbaupp
[10:32:48] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[10:34:50] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[10:34:50] *** ChanServ sets mode: +qo ChrisMorgan ChrisMorgan
[12:07:44] *** flaper87 is now known as flaper87|afk
[13:22:19] *** Quits: dbaupp (Thunderbir@moz-25BBAF91.lns20.syd6.internode.on.net) (Ping timeout)
[15:34:17] *** flaper87|afk is now known as flaper87
[15:38:54] *** Quits: mletterle (michael@moz-CD281E3A.compute-1.amazonaws.com) (Quit: WeeChat 0.3.7)
[23:24:22] *** flaper87 is now known as flaper87|afk
