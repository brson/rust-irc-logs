[00:02:28] *** Joins: faramarz (faramarz@moz-cfhap5.mtv2.mozilla.com)
[00:03:08] *** Joins: gal (gal@moz-r2jfql.ucom.ne.jp)
[00:07:18] *** Joins: cajbir (cajbir@moz-n1p.trs.58.198.IP)
[00:13:08] *** Quits: mccr8 (mccr8@moz-cfhap5.mtv2.mozilla.com) (Quit: )
[00:25:13] *** Joins: reqshark_ (reqshark@moz-2v7.ffj.155.66.IP)
[00:28:16] *** Quits: reqshark (reqshark@moz-2v7.ffj.155.66.IP) (Ping timeout: 121 seconds)
[00:29:15] *** Quits: reqshark_ (reqshark@moz-2v7.ffj.155.66.IP) (Ping timeout: 121 seconds)
[00:38:38] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[00:40:30] *** Quits: azita (Azita@moz-cfhap5.mtv2.mozilla.com) (Client exited)
[00:44:45] *** Quits: mchang (mchang@moz-u3dg2t.sfo1.mozilla.com) (Client exited)
[00:48:28] *** Quits: gal (gal@moz-r2jfql.ucom.ne.jp) (Client exited)
[00:56:24] *** Quits: faramarz (faramarz@moz-cfhap5.mtv2.mozilla.com) (Client exited)
[01:01:14] *** Joins: mchang (mchang@moz-u3dg2t.sfo1.mozilla.com)
[01:10:26] *** Joins: reqshark (reqshark@moz-amtd83.cable.rcn.com)
[01:11:17] *** Quits: ehsan (ehsan@moz-cef8oi.cpe.pppoe.ca) (Quit: vanished into thin air...)
[01:16:14] *** khuey is now known as khuey|away
[01:16:47] *** Quits: azakai (alon@moz-5614nr.ujol.1ibb.0101.2620.IP) (Quit: Ex-Chat)
[01:18:13] *** Joins: azita (Azita@moz-v16.4ki.202.73.IP)
[01:19:07] *** terrence is now known as terrence-afk
[01:23:53] *** Joins: docwho_ (quassel@moz-bgt.6kh.139.14.IP)
[01:23:54] *** Quits: docwho (quassel@moz-bgt.6kh.139.14.IP) (Connection closed)
[01:24:58] *** Quits: azita (Azita@moz-v16.4ki.202.73.IP) (Ping timeout: 121 seconds)
[01:25:48] *** Joins: azita (Azita@moz-v16.4ki.202.73.IP)
[01:26:05] *** Quits: mchang (mchang@moz-u3dg2t.sfo1.mozilla.com) (Client exited)
[01:29:42] *** Quits: brson (brson@moz-cfhap5.mtv2.mozilla.com) (Quit: leaving)
[01:38:24] *** Joins: azakai|2 (alon@moz-l3ofdg.sntcca.sbcglobal.net)
[01:40:20] *** Quits: larsberg (sid16141@moz-fnneme.uxbridge.irccloud.com) (Quit: )
[02:00:50] *** Joins: cjones (cjones@moz-osv.rmn.162.73.IP)
[02:02:27] *** Quits: mbx (textual@moz-l8ebtf.sfo1.mozilla.com) (Quit: My Mac has gone to sleep. ZZZzzz…)
[02:06:56] *** Quits: azita (Azita@moz-v16.4ki.202.73.IP) (Client exited)
[02:17:01] *** Joins: brson (brson@moz-ncl.7vl.56.172.IP)
[02:17:02] *** ChanServ sets mode: +o brson
[02:38:58] *** Quits: cjones (cjones@moz-osv.rmn.162.73.IP) (Client exited)
[02:44:46] *** Joins: cjones (cjones@moz-osv.rmn.162.73.IP)
[02:51:41] *** Quits: jschuster (schuster@moz-n100gq.ma.comcast.net) (Ping timeout: 121 seconds)
[02:59:50] *** Joins: jschuster (schuster@moz-n100gq.ma.comcast.net)
[03:02:00] *** Quits: jschuster (schuster@moz-n100gq.ma.comcast.net) (Quit: Coyote finally caught me)
[03:03:35] *** Joins: jschuster (schuster@moz-n100gq.ma.comcast.net)
[03:11:26] *** Joins: gal (gal@moz-r2jfql.ucom.ne.jp)
[03:14:00] *** Quits: gal (gal@moz-r2jfql.ucom.ne.jp) (Client exited)
[03:21:06] *** sunfish is now known as sunfish-away
[03:23:57] *** Joins: docwho (quassel@moz-bgt.6kh.139.14.IP)
[03:23:57] *** Quits: docwho_ (quassel@moz-bgt.6kh.139.14.IP) (Connection closed)
[03:26:00] *** Joins: gal (gal@moz-r2jfql.ucom.ne.jp)
[03:42:42] *** Quits: roc (chatzilla@moz-h8ll9b.dqqd.b0fh.0cb0.2001.IP) (Connection closed)
[04:22:52] *** Quits: brson (brson@moz-ncl.7vl.56.172.IP) (Ping timeout: 121 seconds)
[04:25:57] *** Joins: roc (chatzilla@moz-kia32k.orcon.net.nz)
[04:34:25] *** Quits: gal (gal@moz-r2jfql.ucom.ne.jp) (Client exited)
[04:35:57] *** Joins: gal (gal@moz-r2jfql.ucom.ne.jp)
[04:39:38] *** Quits: gal (gal@moz-r2jfql.ucom.ne.jp) (Client exited)
[04:46:13] *** Joins: gal (gal@moz-r2jfql.ucom.ne.jp)
[05:23:54] *** Joins: docwho_ (quassel@moz-bgt.6kh.139.14.IP)
[05:23:55] *** Quits: docwho (quassel@moz-bgt.6kh.139.14.IP) (Connection closed)
[05:28:01] *** Quits: jdm (jdm@moz-ilbt2e.cable.teksavvy.com) (Quit: )
[05:36:01] *** Joins: mchang (mchang@moz-fjua8t.ca.comcast.net)
[05:40:21] *** Joins: mbx (textual@moz-fjua8t.ca.comcast.net)
[05:41:34] *** Quits: gal (gal@moz-r2jfql.ucom.ne.jp) (Client exited)
[05:45:12] *** Joins: gal (gal@moz-r2jfql.ucom.ne.jp)
[05:50:16] *** Quits: mchang (mchang@moz-fjua8t.ca.comcast.net) (Client exited)
[07:21:30] *** Quits: nrc (nrc@moz-4bhi2i.xtra.co.nz) (Connection closed)
[07:22:33] *** Joins: nrc (nrc@moz-4bhi2i.xtra.co.nz)
[07:23:55] *** Joins: docwho (quassel@moz-bgt.6kh.139.14.IP)
[07:23:55] *** Quits: docwho_ (quassel@moz-bgt.6kh.139.14.IP) (Connection closed)
[07:31:04] *** Joins: bjz (bjz@moz-4l6.mjm.52.113.IP)
[07:36:01] *** Quits: bjz (bjz@moz-4l6.mjm.52.113.IP) (Ping timeout: 121 seconds)
[07:53:17] *** Joins: ddamjano (Instantbird@moz-t9rb79.dynamic.surfer.at)
[08:02:31] *** Joins: bjz (bjz@moz-puppgq.tpgi.com.au)
[08:06:22] *** Joins: gds (user@moz-a0tm5k.range86-134.btcentralplus.com)
[08:09:34] *** Quits: gds (user@moz-a0tm5k.range86-134.btcentralplus.com) (Connection closed)
[08:16:37] *** jandem-away is now known as jandem
[08:29:20] *** Joins: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net)
[08:29:20] *** ChanServ sets mode: +o pcwalton
[08:34:04] *** Quits: gal (gal@moz-r2jfql.ucom.ne.jp) (Client exited)
[08:43:22] *** Quits: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net) (Client exited)
[08:49:36] *** Quits: cjones (cjones@moz-osv.rmn.162.73.IP) (Client exited)
[08:51:53] *** Joins: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net)
[08:51:53] *** ChanServ sets mode: +o pcwalton
[08:52:13] *** Quits: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net) (Client exited)
[08:52:57] *** Joins: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net)
[08:52:57] *** ChanServ sets mode: +o pcwalton
[09:01:59] *** Quits: nrc (nrc@moz-4bhi2i.xtra.co.nz) (Ping timeout: 121 seconds)
[09:07:23] *** Quits: docwho (quassel@moz-bgt.6kh.139.14.IP) (Connection closed)
[09:07:58] *** Joins: docwho (quassel@moz-bgt.6kh.139.14.IP)
[09:08:04] *** Quits: docwho (quassel@moz-bgt.6kh.139.14.IP) (Connection closed)
[09:12:16] *** Quits: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net) (Client exited)
[09:33:16] *** Joins: gal (gal@moz-r2jfql.ucom.ne.jp)
[09:45:48] *** Joins: sole (sole@moz-715qb6.range86-186.btcentralplus.com)
[09:47:04] *** Quits: mbx (textual@moz-fjua8t.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[09:51:01] *** Joins: nrc (nrc@moz-4bhi2i.xtra.co.nz)
[09:52:01] *** Quits: sole (sole@moz-715qb6.range86-186.btcentralplus.com) (Connection closed)
[09:52:28] *** Joins: sole (sole@moz-715qb6.range86-186.btcentralplus.com)
[09:55:47] *** Quits: nrc (nrc@moz-4bhi2i.xtra.co.nz) (Ping timeout: 121 seconds)
[10:17:55] *** Quits: sole (sole@moz-715qb6.range86-186.btcentralplus.com) (Connection closed)
[10:18:27] *** Joins: sole (sole@moz-715qb6.range86-186.btcentralplus.com)
[10:45:45] *** Quits: sole (sole@moz-715qb6.range86-186.btcentralplus.com) (Connection closed)
[10:46:06] *** Joins: sole (sole@moz-715qb6.range86-186.btcentralplus.com)
[11:04:31] *** Joins: larsberg (sid16141@moz-fnneme.uxbridge.irccloud.com)
[11:04:31] *** ChanServ sets mode: +o larsberg
[12:52:40] *** Quits: gal (gal@moz-r2jfql.ucom.ne.jp) (Client exited)
[13:14:13] *** Quits: gw (uid31717@moz-hcr55a.charlton.irccloud.com) (Quit: Connection closed for inactivity)
[13:34:52] *** Joins: docwho (quassel@moz-bgt.6kh.139.14.IP)
[13:40:47] *** Quits: reqshark (reqshark@moz-amtd83.cable.rcn.com) (Quit: Be back later ...)
[13:52:41] *** Joins: jdm (jdm@moz-ilbt2e.cable.teksavvy.com)
[14:14:06] *** Quits: ddamjano (Instantbird@moz-t9rb79.dynamic.surfer.at) (Ping timeout: 121 seconds)
[14:25:41] *** Joins: jweathersby (Adium@moz-qb9kbe.ip.windstream.net)
[14:38:37] *** sunfish-away is now known as sunfish
[14:39:07] *** Joins: reqshark (reqshark@moz-2v7.ffj.155.66.IP)
[14:43:13] *** Joins: ddamjano (Instantbird@moz-t9rb79.dynamic.surfer.at)
[14:59:52] *** Quits: jdm (jdm@moz-ilbt2e.cable.teksavvy.com) (Quit: )
[15:07:57] *** Joins: docwho_ (quassel@moz-bgt.6kh.139.14.IP)
[15:07:57] *** Quits: docwho (quassel@moz-bgt.6kh.139.14.IP) (Connection closed)
[15:25:06] *** Quits: reqshark (reqshark@moz-2v7.ffj.155.66.IP) (Ping timeout: 121 seconds)
[15:51:05] *** Quits: sole (sole@moz-715qb6.range86-186.btcentralplus.com) (Ping timeout: 121 seconds)
[15:51:47] *** Joins: sole (sole@moz-715qb6.range86-186.btcentralplus.com)
[15:53:03] *** Joins: mchang (mchang@moz-fjua8t.ca.comcast.net)
[15:57:18] *** Joins: ehsan (ehsan@moz-i5m.05u.207.66.IP)
[15:59:49] *** Quits: sole (sole@moz-715qb6.range86-186.btcentralplus.com) (Ping timeout: 121 seconds)
[15:59:52] *** Joins: sole (sole@moz-715qb6.range86-186.btcentralplus.com)
[16:00:22] *** Joins: brson (brson@moz-cfhap5.mtv2.mozilla.com)
[16:00:22] *** ChanServ sets mode: +o brson
[16:04:42] *** terrence-afk is now known as terrence
[16:07:52] *** Quits: ehsan (ehsan@moz-i5m.05u.207.66.IP) (A TLS packet with unexpected length was received.)
[16:12:29] *** Joins: faramarz (faramarz@moz-cfhap5.mtv2.mozilla.com)
[16:12:34] *** Joins: azita (Azita@moz-cfhap5.mtv2.mozilla.com)
[16:22:35] *** Quits: tadh (quassel@moz-g5o.mus.74.71.IP) (Connection closed)
[16:24:22] *** Quits: mchang (mchang@moz-fjua8t.ca.comcast.net) (Client exited)
[16:24:49] *** Joins: mbx (textual@moz-fjua8t.ca.comcast.net)
[16:27:11] *** Joins: cjones (cjones@moz-osv.rmn.162.73.IP)
[16:32:22] *** Joins: ehsan (ehsan@moz-u1d4gj.ckpj.s0pt.0450.2001.IP)
[16:34:07] *** Quits: mbx (textual@moz-fjua8t.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[16:35:18] *** Joins: mchang (mchang@moz-fjua8t.ca.comcast.net)
[16:36:26] *** Quits: mchang (mchang@moz-fjua8t.ca.comcast.net) (Client exited)
[16:36:50] *** Joins: mbx (textual@moz-fjua8t.ca.comcast.net)
[16:37:54] *** Joins: mchang (mchang@moz-fjua8t.ca.comcast.net)
[16:38:22] *** Quits: mbx (textual@moz-fjua8t.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[16:38:26] *** Joins: mbx (textual@moz-fjua8t.ca.comcast.net)
[16:40:07] *** Joins: mccr8 (mccr8@moz-cfhap5.mtv2.mozilla.com)
[16:56:17] *** khuey|away is now known as khuey
[16:57:50] *** Quits: mchang (mchang@moz-fjua8t.ca.comcast.net) (Client exited)
[16:59:06] *** Quits: mccr8 (mccr8@moz-cfhap5.mtv2.mozilla.com) (Connection closed)
[16:59:27] *** Joins: mccr8 (mccr8@moz-cfhap5.mtv2.mozilla.com)
[17:01:21] *** Quits: mbx (textual@moz-fjua8t.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[17:04:16] *** Joins: brendan (brendaneich@moz-t03gkb.ca.comcast.net)
[17:09:23] *** Quits: docwho_ (quassel@moz-bgt.6kh.139.14.IP) (Connection closed)
[17:09:41] *** Joins: tadh (quassel@moz-pg51s5.CWRU.Edu)
[17:09:59] *** Joins: docwho (quassel@moz-bgt.6kh.139.14.IP)
[17:14:34] *** Joins: mbx (textual@moz-l46.sft.144.32.IP)
[17:17:22] *** terrence is now known as terrence-brb
[17:25:33] *** Quits: docwho (quassel@moz-bgt.6kh.139.14.IP) (Connection closed)
[17:25:53] *** Joins: docwho (quassel@moz-bgt.6kh.139.14.IP)
[17:28:53] *** Quits: azakai|2 (alon@moz-l3ofdg.sntcca.sbcglobal.net) (Quit: Ex-Chat)
[17:32:21] *** Joins: pcwalton (pcwalton@moz-u92.384.6.71.IP)
[17:32:21] *** ChanServ sets mode: +o pcwalton
[17:34:53] *** Joins: pag (pag@moz-a66ea0.cs.toronto.edu)
[17:39:47] *** Quits: brendan (brendaneich@moz-t03gkb.ca.comcast.net) (Client exited)
[17:45:23] <pcwalton> I should actually try this "facebook timeline" thing everyone has been talking about
[17:47:52] *** Quits: pcwalton (pcwalton@moz-u92.384.6.71.IP) (Client exited)
[17:49:02] *** Joins: azakai (alon@moz-m93p4f.ujol.1ibb.0101.2620.IP)
[17:53:46] *** Joins: reqshark (reqshark@moz-2v7.ffj.155.66.IP)
[17:58:59] *** Joins: jdm (jdm@moz-i5m.05u.207.66.IP)
[17:59:52] *** Quits: azita (Azita@moz-cfhap5.mtv2.mozilla.com) (Client exited)
[18:02:08] *** Quits: mbx (textual@moz-l46.sft.144.32.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[18:04:18] *** Quits: faramarz (faramarz@moz-cfhap5.mtv2.mozilla.com) (Client exited)
[18:05:23] *** Joins: faramarz (faramarz@moz-cfhap5.mtv2.mozilla.com)
[18:05:51] *** terrence-brb is now known as terrence
[18:08:34] *** Joins: mchang (mchang@moz-cfhap5.mtv2.mozilla.com)
[18:17:35] *** Quits: faramarz (faramarz@moz-cfhap5.mtv2.mozilla.com) (Client exited)
[18:30:06] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[18:30:06] *** ChanServ sets mode: +o pcwalton
[18:37:31] <pcwalton> dherman: jack: Facebook Timeline is interesting
[18:37:34] <pcwalton> it's quite janky in Chrome
[18:37:46] <pcwalton> but for a somewhat different reason from Twitter
[18:38:34] <pcwalton> there seems to be a very long JS function call (288ms, 17 frames) that dominates the profile
[18:38:40] <pcwalton> that function call does a lot, layout, etc
[18:38:48] <dherman> O_O
[18:38:56] <pcwalton> so I think OMT layout and painting should help, perhaps?
[18:39:07] <pcwalton> it'll at least let us render *something* while that crazy long JS is running
[18:40:06] <dherman> FB y u run doctorjs in your UI critical path
[18:40:43] <pcwalton> how do you deminify sources in Chrome
[18:40:54] <pcwalton> oh, you click the "{ }" icon
[18:41:05] <pcwalton> rant: why do Web developers love WebKit developer tools
[18:41:17] *** Joins: mbx (textual@moz-qjbkeh.mtv2.mozilla.com)
[18:41:23] <pcwalton> how in the world is "{ }" an appropriate icon for "deminify"
[18:43:04] <pcwalton> ok, that crazy long function call seems to be the "CSS Loader" which is injecting a stylesheet into the document
[18:43:08] <pcwalton> we can totally do that off main thread
[18:43:44] <dherman> pcwalton: I think it's meant to mean "pretty print" rather than deminify
[18:43:58] <pcwalton> still "{ }" is not an appropriate icon, IMO
[18:44:03] <pcwalton> in fact it should just be text
[18:44:04] <dherman> it's still a stretch
[18:44:13] <dherman> maybe a beautifully rendered letter 'a' ?
[18:44:14] <pcwalton> there's plenty of room there
[18:44:16] * dherman not a UI designer
[18:44:17] <pcwalton> in the UI
[18:44:36] <dherman> an 'a' with a tiara?
[18:44:39] <pcwalton> so it's "TimeSlice" that is also a big consumer of main thread time
[18:44:51] <pcwalton> which I guess is some React thing for incrementally updating part of the DOM
[18:45:18] *** Joins: faramarz (faramarz@moz-cfhap5.mtv2.mozilla.com)
[18:47:07] <pcwalton> that giant function call also flushes layout by calling offsetHeight inside "_convertStoryNodeToObject"
[18:47:24] <wycats> pcwalton: I want to know more about this React function
[18:47:31] <pcwalton> it might not be React
[18:47:38] <pcwalton> googling for "react timeslice" brings up nothing
[18:48:10] <wycats> you're assuming react devs know the internals
[18:48:12] <wycats> one sec
[18:48:18] <pcwalton> they seem to be trying to avoid jank by timeslicing, whether it's react or not
[18:48:19] <pcwalton> which makes sense
[18:48:28] <wycats> there is nothing in github
[18:48:32] <wycats> ah
[18:48:36] <wycats> so timeslice is a red herring
[18:48:37] <pcwalton> timeslicing is the clearest form of feature request for off main thread work though :)
[18:48:39] <wycats> it's just the top frame
[18:48:46] *** Quits: ddamjano (Instantbird@moz-t9rb79.dynamic.surfer.at) (Ping timeout: 121 seconds)
[18:49:08] <wycats> btw: I realized that dbmonster is a pretty brutal demo
[18:49:09] <wycats> since it's a table
[18:49:16] <wycats> and we're changing literally all text content each frame
[18:49:22] <wycats> which forces a full table re-layout
[18:49:41] *** Quits: sole (sole@moz-715qb6.range86-186.btcentralplus.com) (A TLS packet with unexpected length was received.)
[18:49:49] <wycats> pcwalton: you should play around with it
[18:49:55] *** Quits: faramarz (faramarz@moz-cfhap5.mtv2.mozilla.com) (Client exited)
[18:50:05] <pcwalton> wycats: we may not be able to do much better than, say, 3-4x
[18:50:10] <pcwalton> but hey, 3-4x is a lot ;)
[18:50:16] <dherman> I'd take that :D
[18:50:23] <pcwalton> table layout is completely parallel in servo, all cells and rows parallelized
[18:50:27] <wycats> I think you can implement a heuristic that avoids re-layout of tables if the text changes are within a small tolerance
[18:50:35] <wycats> it would actually be generally useful
[18:50:37] <pcwalton> breaks the spec :(
[18:50:38] <wycats> not just for this demo
[18:50:44] <pcwalton> believe me, I want to
[18:50:45] <wycats> does it break the spec in interesting ways?
[18:50:55] <pcwalton> well, OK, actually tables have no spec
[18:50:56] <pcwalton> soooooooo
[18:50:57] <pcwalton> ;)
[18:51:01] <dherman> lololol
[18:51:29] <dherman> Ebeneezer Servo, I am the Ghost of Table Specs Yet To Come
[18:52:14] <pcwalton> so I don't have anything crispy yet but I do know two things
[18:52:24] <pcwalton> (1) facebook timeline sucks in current browsers
[18:52:39] <pcwalton> (2) off main thread layout and painting may help quite a bit
[18:52:59] *** Joins: gal (gal@moz-r2jfql.ucom.ne.jp)
[18:53:17] <pcwalton> oh, it also looks like style recalc is big, which is nice because style recalc is free of parallel hazards
[18:55:19] <wycats> pcwalton: it really does seem like keeping tables relatively stable if text sizes only change marginally is not a spec violation
[18:55:37] <wycats> and if it is, that seems like a spec that should change (given the wide disparity of table implementations across browsers today)
[18:55:47] <wycats> pcwalton: have you seen dbmonster?
[18:55:52] <pcwalton> I glanced at it, yeah
[18:55:56] *** Quits: cjones (cjones@moz-osv.rmn.162.73.IP) (Client exited)
[18:56:04] <wycats> pcwalton: we have a lot of Ember optimization work to do
[18:56:08] <pcwalton> it's something possibly worth thinking about… automatic table layout is a nightmare of complexity
[18:56:19] <wycats> this affects things like sortable tables
[18:56:23] <wycats> if you have a 100 row table
[18:56:24] <wycats> and you sort it
[18:56:28] <wycats> you do not need to lay it out again
[18:56:31] <wycats> the widths are the same
[18:56:48] <wycats> dbmonster is a little different because the text changes a bit, but the max text size per column barely changes
[18:56:52] <pcwalton> yeah, tricky to detect though
[18:57:03] <pcwalton> you have to detect that the content only moved around
[18:57:29] <pcwalton> if we had fixed widths on the table it'd be easier
[18:58:15] <wycats> pcwalton: another thought I had:
[18:58:21] <dherman> is it possible to batch updates so you can analyze them together?
[18:58:31] <wycats> you should be able to differentiate between elements whose widths/heights can only change based on outside content
[18:58:33] <wycats> vs. inside content
[18:58:37] *** Quits: azakai (alon@moz-m93p4f.ujol.1ibb.0101.2620.IP) (Ping timeout: 121 seconds)
[18:58:42] <wycats> and treat outside-only cases as if they had fixed widths
[18:58:51] <wycats> right now browsers have very hardcoded heuristics
[18:59:06] <pcwalton> dherman: updates are always batched like that
[18:59:22] <wycats> but many CSS setups produce widths that can only change if the viewport changes
[18:59:30] <wycats> even though their initial widths are calculated very dynamically
[18:59:45] <pcwalton> wycats: sounds like more hardcoded heuristics, unless you mean something like eatkinson's work
[19:00:01] <pcwalton> where he's trying to have a generator figure out all of these heuristics
[19:00:02] <wycats> pcwalton: what I mean is something like a "pure function" analysis
[19:00:09] <wycats> can the contents of this block affects its layout
[19:00:10] <pcwalton> I think you're interested in eatkinson's work :)
[19:00:12] <wycats> the answer is always yes or no
[19:00:21] <wycats> and the browsers already roughly know the answer
[19:00:26] <wycats> it's just not used during recalc/reflow
[19:00:34] <wycats> pcwalton: quite possibly
[19:00:35] <wycats> I don't know it
[19:00:48] <wycats> I realized this when I thought of an optimization I could do in Ember (to install the computed widths/heights on "outlets" and remove them onresize)
[19:01:01] <wycats> the fact that I should have to do that optimization is silly
[19:04:06] <pcwalton> dherman: jack: aha, I just discovered something very interesting regarding pdf.js!
[19:04:13] <pcwalton> pdf.js sucks in Chrome when you scroll down (and in Firefox)
[19:04:19] <pcwalton> why? because of layout!
[19:04:38] <pcwalton> pdf.js creates transparent divs containing text for selection and accessibility
[19:05:08] <pcwalton> the layout pause for those on the TraceMonkey paper is 184.265 ms per frame (!!)
[19:05:23] <pcwalton> all of these divs are absolutely positioned so should be completely parallelizable
[19:05:40] <pcwalton> 11 frames lost on every scroll due to layout
[19:06:41] <pcwalton> moreover, this is most of the main thread activity in pdf.js, because pdf.js is totally workerized
[19:06:42] *** Joins: nrc (nrc@moz-4bhi2i.xtra.co.nz)
[19:06:48] <pcwalton> all the JS is already happening in a background thread
[19:09:38] <dherman> wow, that should make a very nice demo
[19:09:39] *** Quits: docwho (quassel@moz-bgt.6kh.139.14.IP) (Connection closed)
[19:10:08] *** Quits: jdm (jdm@moz-i5m.05u.207.66.IP) (Connection closed)
[19:10:14] *** Joins: jdm (jdm@moz-i5m.05u.207.66.IP)
[19:10:18] *** Joins: azakai (alon@moz-nvnjrh.mh2d.1ibb.0101.2620.IP)
[19:10:21] *** Joins: docwho (quassel@moz-bgt.6kh.139.14.IP)
[19:15:00] <wycats> pcwalton: the Evernote Chrome extension produces a similar problem
[19:15:08] <wycats> it cost 2-3x performance in dbmonster when on
[19:21:52] <jack> How much more stuff do we need for pdf.js?
[19:22:09] <jack> I gues sit's not worth it at all until a spidermonkey upgrade just due to raw speed
[19:24:28] <jdm> we definitely need text rendering for canvas
[19:24:49] <jdm> unless they have their own font rendering routines
[19:29:38] <mccr8> I think pdf.js does at least some of its own font rendering, because it supports formats that the browser doesn't.
[19:37:39] *** Joins: gw (uid31717@moz-hcr55a.charlton.irccloud.com)
[19:38:20] <pcwalton> we need text rendering for canvas
[19:38:23] <pcwalton> but that shouldn't be hard
[19:38:29] <pcwalton> we also need to stop doing readback for canvas :)
[19:45:23] *** Quits: pag (pag@moz-a66ea0.cs.toronto.edu) (Quit: Leaving)
[19:50:21] *** Joins: sole (sole@moz-715qb6.range86-186.btcentralplus.com)
[19:54:44] *** Quits: sole (sole@moz-715qb6.range86-186.btcentralplus.com) (Ping timeout: 121 seconds)
[20:00:57] *** Quits: jweathersby (Adium@moz-qb9kbe.ip.windstream.net) (Quit: Leaving.)
[20:01:27] *** Joins: jweathersby (Adium@moz-qb9kbe.ip.windstream.net)
[20:01:30] *** Quits: tadh (quassel@moz-pg51s5.CWRU.Edu) (Connection closed)
[20:02:25] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[20:05:02] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[20:05:02] *** ChanServ sets mode: +o pcwalton
[20:09:14] *** Quits: jdm (jdm@moz-i5m.05u.207.66.IP) (Connection closed)
[20:09:21] *** Joins: jdm (jdm@moz-f1mer4.ckpj.s0pt.0450.2001.IP)
[20:10:17] *** Joins: cjones (cjones@moz-osv.rmn.162.73.IP)
[20:20:02] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[20:20:42] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[20:20:42] *** ChanServ sets mode: +o pcwalton
[20:21:06] *** Quits: bjz (bjz@moz-puppgq.tpgi.com.au) (Quit: My Mac has gone to sleep. ZZZzzz…)
[20:22:13] *** Quits: pauls_ (paul@moz-uq0v7s.cable.rcn.com) (Quit: Ignore me!!)
[20:22:19] *** Joins: pauls_ (paul@moz-p6p.d89.6.209.IP)
[20:34:02] *** Joins: ddamjano (Instantbird@moz-t9rb79.dynamic.surfer.at)
[20:34:15] <pcwalton> mccr8: (belatedly) IIRC pdf.js converts all font formats to .woff and just loads those using the native browser mechanisms
[20:34:52] <mccr8> pcwalton: ah, interesting.
[20:38:04] *** Quits: ddamjano (Instantbird@moz-t9rb79.dynamic.surfer.at) (Ping timeout: 121 seconds)
[20:40:08] *** Joins: ddamjano (Instantbird@moz-t9rb79.dynamic.surfer.at)
[20:44:27] *** Joins: faramarz (faramarz@moz-cfhap5.mtv2.mozilla.com)
[20:44:47] *** Quits: roc (chatzilla@moz-kia32k.orcon.net.nz) (Connection closed)
[20:45:14] *** Joins: jdm_ (jdm@moz-i5m.05u.207.66.IP)
[20:47:18] *** Quits: jdm (jdm@moz-f1mer4.ckpj.s0pt.0450.2001.IP) (Ping timeout: 121 seconds)
[20:48:47] *** Joins: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net)
[20:51:03] *** Joins: sole (sole@moz-715qb6.range86-186.btcentralplus.com)
[20:55:59] *** Quits: sole (sole@moz-715qb6.range86-186.btcentralplus.com) (Ping timeout: 121 seconds)
[21:08:24] *** Joins: docwho_ (quassel@moz-bgt.6kh.139.14.IP)
[21:08:24] *** Quits: docwho (quassel@moz-bgt.6kh.139.14.IP) (Connection closed)
[21:13:21] *** Quits: jdm_ (jdm@moz-i5m.05u.207.66.IP) (Quit: )
[21:14:07] *** Quits: ddamjano (Instantbird@moz-t9rb79.dynamic.surfer.at) (Ping timeout: 121 seconds)
[21:21:45] *** Quits: reqshark (reqshark@moz-2v7.ffj.155.66.IP) (Ping timeout: 121 seconds)
[21:28:46] *** Joins: roc (chatzilla@moz-h8ll9b.dqqd.b0fh.0cb0.2001.IP)
[21:32:32] *** Joins: jdm (jdm@moz-mu9.06r.98.75.IP)
[21:35:17] *** Joins: azita (Azita@moz-cfhap5.mtv2.mozilla.com)
[21:39:17] *** Quits: cjones (cjones@moz-osv.rmn.162.73.IP) (Client exited)
[21:40:03] *** Joins: cjones (cjones@moz-osv.rmn.162.73.IP)
[21:41:09] *** Quits: gal (gal@moz-r2jfql.ucom.ne.jp) (Client exited)
[21:47:35] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[21:47:37] *** Joins: ddamjano (Instantbird@moz-t9rb79.dynamic.surfer.at)
[21:50:43] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[21:50:43] *** ChanServ sets mode: +o pcwalton
[21:51:41] *** Joins: brendan (brendaneich@moz-0gq.0rd.102.38.IP)
[21:52:18] *** Joins: sole (sole@moz-715qb6.range86-186.btcentralplus.com)
[21:54:12] *** Joins: bjz (bjz@moz-lailbo.tpgi.com.au)
[21:56:47] *** Quits: sole (sole@moz-715qb6.range86-186.btcentralplus.com) (Ping timeout: 121 seconds)
[21:57:48] *** Quits: jdm (jdm@moz-mu9.06r.98.75.IP) (Connection closed)
[21:58:13] *** Joins: jdm (jdm@moz-mu9.06r.98.75.IP)
[21:58:17] *** Quits: bjz (bjz@moz-lailbo.tpgi.com.au) (Ping timeout: 121 seconds)
[21:58:38] *** Joins: sole (sole@moz-715qb6.range86-186.btcentralplus.com)
[21:59:17] *** Quits: sole (sole@moz-715qb6.range86-186.btcentralplus.com) (A TLS packet with unexpected length was received.)
[22:03:09] *** Quits: jdm (jdm@moz-mu9.06r.98.75.IP) (Connection closed)
[22:03:43] *** Joins: jdm (jdm@moz-mu9.06r.98.75.IP)
[22:06:57] *** Quits: mccr8 (mccr8@moz-cfhap5.mtv2.mozilla.com) (Connection closed)
[22:07:14] *** Joins: mccr8 (mccr8@moz-cfhap5.mtv2.mozilla.com)
[22:09:22] *** Joins: jdm_ (jdm@moz-mu9.06r.98.75.IP)
[22:09:25] *** Quits: jdm (jdm@moz-mu9.06r.98.75.IP) (Connection closed)
[22:12:45] *** Joins: gal (gal@moz-r2jfql.ucom.ne.jp)
[22:49:34] *** Quits: brson (brson@moz-cfhap5.mtv2.mozilla.com) (Quit: leaving)
[22:59:55] *** Joins: sole (sole@moz-715qb6.range86-186.btcentralplus.com)
[23:03:50] *** Quits: ehsan (ehsan@moz-u1d4gj.ckpj.s0pt.0450.2001.IP) (Quit: vanished into thin air...)
[23:04:18] *** Quits: sole (sole@moz-715qb6.range86-186.btcentralplus.com) (Ping timeout: 121 seconds)
[23:08:22] *** Joins: docwho (quassel@moz-bgt.6kh.139.14.IP)
[23:08:22] *** Quits: docwho_ (quassel@moz-bgt.6kh.139.14.IP) (Connection closed)
[23:13:34] *** Quits: jdm_ (jdm@moz-mu9.06r.98.75.IP) (Quit: )
[23:15:55] *** Quits: brendan (brendaneich@moz-0gq.0rd.102.38.IP) (Client exited)
[23:17:29] *** Quits: ddamjano (Instantbird@moz-t9rb79.dynamic.surfer.at) (Ping timeout: 121 seconds)
[23:22:46] *** Quits: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net) (Quit: rcirc on GNU Emacs 24.3.92.1)
[23:31:58] *** Quits: mccr8 (mccr8@moz-cfhap5.mtv2.mozilla.com) (Connection closed)
[23:32:06] *** Joins: mccr8 (mccr8@moz-cfhap5.mtv2.mozilla.com)
[23:32:34] *** Joins: brson (brson@moz-832.7vl.56.172.IP)
[23:32:34] *** ChanServ sets mode: +o brson
[23:36:30] *** Quits: gal (gal@moz-r2jfql.ucom.ne.jp) (Client exited)
[23:38:06] *** Joins: gal (gal@moz-r2jfql.ucom.ne.jp)
[23:48:41] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[23:52:30] *** Quits: mccr8 (mccr8@moz-cfhap5.mtv2.mozilla.com) (Quit: )
