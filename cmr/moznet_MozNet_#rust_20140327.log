[00:00:06] <pongad> sfackler: I changed the error comment but the test still doesn't want to work, here's the source code: http://pastebin.com/QJP9NuQ6
[00:00:07] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[00:00:12] <brson> mib_qlo9p4: interesting. possibly because autoderef? maybe ~T doesn't implement Show?
[00:00:13] *** Joins: Manishearth (manisheart@moz-F9058B8A.net)
[00:00:23] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[00:01:47] *** Quits: jix (jix@moz-D969BFFC.de) (No route to host)
[00:01:57] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[00:03:08] *** Joins: fournm (Aria@moz-ABB60BA0.austin.res.rr.com)
[00:03:20] *** Joins: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net)
[00:03:22] *** Quits: glandium (glandium@moz-A09032B1.kimsufi.com) (Ping timeout)
[00:03:36] *** Quits: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch) (Ping timeout)
[00:03:52] <mib_qlo9p4> brson: ah, ok. thx
[00:03:57] *** Joins: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch)
[00:04:06] *** Joins: jix (jix@moz-D969BFFC.de)
[00:04:10] *** Quits: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch) (Client exited)
[00:04:50] *** Quits: io2 (io2@moz-EE406A5.home.otenet.gr) (Quit: )
[00:05:07] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[00:05:11] *** Quits: tobytailor (tobytailor@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: tobytailor)
[00:05:43] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[00:05:57] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[00:06:01] *** Quits: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[00:07:07] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[00:07:21] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[00:07:30] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Connection reset by peer)
[00:07:41] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[00:07:49] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[00:08:00] *** Quits: not_gavin (gavin@gavinsharp.com) (Input/output error)
[00:08:01] *** Quits: jdavis (jdavis@moz-1BE8A6A1.hsd1.ca.comcast.net) (Ping timeout)
[00:08:07] <carllerche> How does one generally deal w/ cyclical references between types. For example, type A contains type B, and Type B requires a reference to Type A to invoke callbacks?
[00:08:16] *** Joins: not_gavin (gavin@gavinsharp.com)
[00:09:03] *** Quits: Rym (y@1AFE98D6.BF54EC93.51C6DE68.IP) (Ping timeout)
[00:09:46] *** Joins: KokaKiwi (kokakiwi@moz-D674DAC6.kokakiwi.net)
[00:09:50] *** Joins: glandium (glandium@moz-A09032B1.kimsufi.com)
[00:10:19] *** Quits: q66 (q66@moz-FDC9B85A.range109-150.btcentralplus.com) (Quit: Leaving)
[00:10:34] <o11c> carllerche: in *general*, you try not to do that
[00:10:54] <o11c> in specific, you sometimes can use raw pointers if you have other control over their ownership and lifetimes
[00:11:02] <o11c> alternatively you could use Rc
[00:11:27] *** Joins: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net)
[00:11:30] <o11c> but the best answer is still "don't do that"
[00:11:32] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[00:11:38] <carllerche> I guess I could split Type A into two types, one w/ the logic, and pass that into type B and another to contain both Type A and Type B
[00:12:07] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[00:12:23] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[00:12:24] *** Quits: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net) (Client exited)
[00:12:29] *** Joins: Rym (y@1AFE98D6.BF54EC93.51C6DE68.IP)
[00:12:45] *** Joins: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net)
[00:12:50] *** Quits: mib_qlo9p4 (Mibbit@moz-F8B381B4.hm.shawcable.net) (Quit: http://www.mibbit.com ajax IRC Client)
[00:13:03] *** Quits: jadbaires (jadrian@moz-4E58EF48.dsl.telepac.pt) (Quit: Konversation terminated!)
[00:13:08] <pongad> Maybe have type B contain lifetime reference of A?
[00:13:08] <o11c> what exactly are you trying to do with the callbacks?
[00:13:10] *** Joins: jadbaires (jadrian@moz-4E58EF48.dsl.telepac.pt)
[00:13:29] <carllerche> o11c: I'm trying to bind to joyent's http-parser
[00:13:31] <o11c> and which object is supposed to outlive the ohter?
[00:13:44] <carllerche> and no, it won't outlive
[00:14:00] *** Joins: mattbloom52 (mbloom@moz-4AC5557F.hsd1.va.comcast.net)
[00:14:20] *** Joins: Armavica_ (virgile@moz-AD428ED7.ens.fr)
[00:14:30] *** Quits: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net) (Ping timeout)
[00:14:49] <carllerche> ok, another question, Say I have struct Container { a: A, b: B }, where B needs to be created by doing B::new(a: &A)… is that possible to make work?
[00:14:52] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Quit: leaving)
[00:15:49] *** Quits: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP) (Ping timeout)
[00:15:52] *** Quits: GrecKo (GrecKo@moz-A7AA1BB6.fr) (Quit: No Ping reply in 180 seconds.)
[00:15:54] *** Quits: Armavica_ (virgile@moz-AD428ED7.ens.fr) (Quit: leaving)
[00:16:07] *** Joins: GrecKo (GrecKo@moz-A7AA1BB6.fr)
[00:16:11] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[00:16:27] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[00:16:51] *** Quits: bvssvni (Mibbit@moz-A47B6F8E.bb.online.no) (Quit: http://www.mibbit.com ajax IRC Client)
[00:17:15] *** Quits: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[00:17:31] *** Joins: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net)
[00:18:01] *** Quits: luisbg (luisbg@moz-C54443AD.baconseed.org) (Ping timeout)
[00:18:53] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[00:18:53] *** ChanServ sets mode: +ao pcwalton pcwalton
[00:19:43] <o11c> carllerche: by the nature of lifetimes, one of them will *always* outlive the other
[00:20:15] <o11c> carllerche: Rust has free moves - you need a: ~A
[00:20:31] <o11c> then you can construct the ~A and the B before, and move them into the container
[00:20:39] <carllerche> so, in my Container A / B example, B (the one containing A) is least important, so it can be cleaned up first
[00:20:49] *** Quits: Vermeille (vermeille@moz-9947004C.kimsufi.com) (Ping timeout)
[00:21:28] <carllerche> o11c: what do you mean by "free moves"? 
[00:21:51] *** Joins: jdavis__ (jdavis@moz-1BE8A6A1.hsd1.ca.comcast.net)
[00:22:17] <o11c> carllerche: when you declare a variable, it isn't forced to have a fixed address - you can move it to another position with no cost
[00:22:37] *** Joins: guest22221 (guest2222@29D5A9F8.5D6710ED.284344F5.IP)
[00:22:55] <o11c> so you can do { let a: ~A = ...; let b: B = B::new(&a); let c: Container = Container{a, b}; }
[00:22:57] <carllerche> hmm, my current assumption was that ~A was heap allocated
[00:23:06] <o11c> the container constructor is a move of a and b
[00:23:17] <o11c> but with the ~, it only moves the pointer, not the actual body
[00:23:34] <carllerche> ah, so it is heap allocated?
[00:23:41] <o11c> note that B::new will need a lifetime bound on the return, which will also need to be applied to the Container
[00:23:42] *** Quits: guest2222 (guest2222@moz-1D2D613F.ga.at.cox.net) (Ping timeout)
[00:23:44] <carllerche> o11c: I was kind of hoping to have Container { A, B } end up be continuous memory :P
[00:23:59] <o11c> carllerche: because the Container itself may be moved, that cannot work
[00:24:10] <carllerche> right
[00:24:22] *** Joins: luisbg (luisbg@moz-C54443AD.baconseed.org)
[00:25:09] *** Quits: Manishearth (manisheart@moz-F9058B8A.net) (Ping timeout)
[00:25:13] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[00:25:29] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[00:25:38] <tyoverby> what is the 'type' keyword used for in rust?
[00:25:53] <tyoverby> searching for it is an impossible task
[00:26:39] <aatch> tyoverby, type alias
[00:26:50] <tyoverby> aatch: how do I use it?
[00:27:09] <aatch> `type MyMap = HashMap<~str, Foo>;`
[00:27:13] <jdavis__> http://pastebin.com/JS4K1Nkt
[00:27:30] *** Quits: toshok (toshok@moz-43741342.cat) (Ping timeout)
[00:27:48] <jdavis__> Why doesn't that compile? Yesterday I asked about a similar problem without the .clone(). But shouldn't .clone() give me a new value that lasts long enough?
[00:28:00] *** Joins: cschneid (cschneid@moz-AB9E94F8.rev.frii.com)
[00:28:12] *** Quits: andrew-__ (andrew-d_w@3B0E9325.9DFA657C.CC0301A2.IP) (Input/output error)
[00:28:28] <tyoverby> aatch: ok, thanks!  Can these not be used inside a trait?  I was hoping to clean up some code.
[00:28:31] *** Joins: Manishearth (manisheart@moz-F9058B8A.net)
[00:28:32] *** Joins: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[00:29:26] <aatch> tyoverby, they cannot be used inside trait definitions.
[00:31:10] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[00:31:28] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[00:31:53] *** Joins: toshok (toshok@moz-43741342.cat)
[00:32:04] *** Parts: mattbloom52 (mbloom@moz-4AC5557F.hsd1.va.comcast.net) ()
[00:32:08] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[00:32:20] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[00:32:28] <ChrisMorgan> jdavis__: the problem is that as_bytes() is returning a reference to an object that is not being stored anywhere, and so is freed at the end of the statement, leaving the reference dangling and thus illegal.
[00:32:54] <ChrisMorgan> jdavis__: the clone() call changes absolutely nothing—it takes in a ~str and gives in return another ~str.
[00:33:30] <ChrisMorgan> jdavis__: instead, you'll need to store the ~str: `let s = foo(); let x = s.as_bytes();`
[00:33:42] *** Quits: Manishearth (manisheart@moz-F9058B8A.net) (Ping timeout)
[00:33:51] <ChrisMorgan> jdavis__: also note that `return ~"foo";` at the end of a function is better written `~"foo"` (no semicolon)
[00:34:01] *** Joins: cschneid_ (cschneid@moz-6297EF2D.rev.frii.com)
[00:34:13] *** Quits: cschneid (cschneid@moz-AB9E94F8.rev.frii.com) (Ping timeout)
[00:34:31] *** Joins: andrew-__ (andrew-d_w@3B0E9325.9DFA657C.CC0301A2.IP)
[00:35:08] *** Joins: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch)
[00:35:29] *** Quits: leowoe (Leo@moz-D22372AD.dip0.t-ipconnect.de) (Quit: Leaving.)
[00:35:33] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Input/output error)
[00:35:33] *** Quits: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Ping timeout)
[00:35:36] <jdavis__> ChrisMorgan: Oh, I think I understand now.
[00:35:41] <ChrisMorgan> Good ☺
[00:35:54] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[00:35:55] <jdavis__> ChrisMorgan: if as_bytes() cloned the value, it would be fine.
[00:36:05] <ChrisMorgan> That's it.
[00:36:40] <jdavis__> But I can't compose it with clone() to solve the problem unless I also store it somewhere.
[00:37:07] *** Joins: Manishearth (manisheart@moz-F9058B8A.net)
[00:37:13] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[00:37:23] <ChrisMorgan> rusti: (~"foo").as_bytes() // demonstrates that the problem is a lifetime problem
[00:37:24] -rusti- pastebinned 16 lines of output: http://sprunge.us/HPCa
[00:37:30] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[00:37:39] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[00:37:40] *** Joins: Sharp (Sharp@moz-633F3606.hsd1.ca.comcast.net)
[00:38:06] *** Quits: Sharp (Sharp@moz-633F3606.hsd1.ca.comcast.net) (Quit: Sharp)
[00:38:11] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[00:38:12] *** Joins: Sharp (Sharp@moz-633F3606.hsd1.ca.comcast.net)
[00:38:24] <ChrisMorgan> rusti: (~"foo").into_bytes()  // but see, into_bytes() does not depend on a lifetime, returning an owned object
[00:38:25] -rusti- [102, 111, 111]
[00:38:55] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[00:38:57] <jdavis__> Hmm... it seems almost like foo().as_bytes().clone() might work, but I guess it still has the same problem.
[00:39:26] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[00:39:40] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[00:39:41] * ChrisMorgan wonders why http://static.rust-lang.org/doc/master/std/str/trait.OwnedStr.html#tymethod.into_bytes is not instead an implementation of IntoStr, http://static.rust-lang.org/doc/master/std/ascii/trait.IntoBytes.html#tymethod.into_bytes
[00:39:55] *** Quits: andrew-__ (andrew-d_w@3B0E9325.9DFA657C.CC0301A2.IP) (Input/output error)
[00:40:10] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[00:40:16] <ChrisMorgan> jdavis__: (&'a [T]).clone() → &'a [T]; it's cloning the slice.
[00:40:16] *** Joins: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[00:40:27] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[00:40:34] <ChrisMorgan> jdavis__: instead, in such a case you'd need to use to_owned()
[00:40:37] *** Quits: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net) (Quit: Leaving.)
[00:40:48] <ChrisMorgan> Which is &'a [T] → ~[T]
[00:40:58] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[00:41:08] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[00:41:16] <jdavis__> Oh, so it clones a slice of an object that is destructed?
[00:41:26] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[00:41:29] *** Joins: andrew-__ (andrew-d_w@3B0E9325.9DFA657C.CC0301A2.IP)
[00:41:40] *** Joins: hoverbear (hoverbear@moz-BEC82F6D.wireless.uvic.ca)
[00:41:48] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Quit: Konversation terminated!)
[00:41:52] *** Quits: hoverbear (hoverbear@moz-BEC82F6D.wireless.uvic.ca) (Quit: Taking a nap.)
[00:41:52] *** Joins: enix_ (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[00:42:56] *** Quits: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Ping timeout)
[00:43:00] <ChrisMorgan> jdavis__: clone() on &'a [T] returns &'a [T], so it's still bound by the same lifetime. to_owned() clones the slice (cloning each item in the slice and putting it in a new vector)
[00:43:04] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[00:44:03] *** Joins: ramitos (ramitos@moz-E902B763.rev.vodafone.pt)
[00:44:03] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[00:44:28] *** Joins: Ralith (ralith@moz-67D4EB93.customer.broadstripe.net)
[00:45:18] *** Joins: hoverbear (hoverbear@moz-BEC82F6D.wireless.uvic.ca)
[00:46:04] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[00:46:23] *** Quits: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch) (Quit: Leaving.)
[00:46:46] *** Joins: guest2222 (guest2222@moz-1D2D613F.ga.at.cox.net)
[00:46:52] <jdavis__> http://static.rust-lang.org/doc/master/std/clone/trait.Clone.html#tymethod.clone doesn't have any lifetime annotations. Does that mean that the result has the same lifetime as the receiver?
[00:47:14] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[00:47:16] *** Quits: hoverbear (hoverbear@moz-BEC82F6D.wireless.uvic.ca) (Quit: Taking a nap.)
[00:47:32] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[00:47:46] *** Quits: guest22221 (guest2222@29D5A9F8.5D6710ED.284344F5.IP) (Ping timeout)
[00:48:08] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[00:48:23] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[00:48:45] <ChrisMorgan> jdavis__: it's the `impl<'a, T> Clone for &'a [T]` line. So `Self` is `&'a [T]`, inherently the same lifetime.
[00:48:52] *** Quits: james4k (james@moz-9BB5AE72.consolidated.net) (Ping timeout)
[00:49:03] <tyoverby> Is there any way of getting the actual type of an implementation from inside of a trait?
[00:49:19] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[00:49:21] *** Joins: james4k (james@moz-9BB5AE72.consolidated.net)
[00:49:30] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[00:49:32] *** Joins: hoverbear (hoverbear@moz-BEC82F6D.wireless.uvic.ca)
[00:50:09] *** Quits: luisbg (luisbg@moz-C54443AD.baconseed.org) (Ping timeout)
[00:50:39] <sfackler> tyoverby: check out the Any traits: http://static.rust-lang.org/doc/master/std/any/index.html
[00:50:50] *** Quits: arrdem (arrdem@moz-2E1DB1F9.ece.utexas.edu) (Input/output error)
[00:51:19] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Ping timeout)
[00:52:18] <tyoverby> sfackler: I'm trying to tighten my restrictions on return types and function parameters 
[00:52:27] <jdavis__> ChrisMorgan: OK, that makes sense. Thank you.
[00:52:42] <tyoverby> by saying "you can only return something of the same type as yourself"
[00:52:52] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.3)
[00:52:57] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[00:53:22] <carter> hey cmr 
[00:53:27] <carter> its like tag :)
[00:53:51] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Connection reset by peer)
[00:53:55] *** Quits: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com) (Ping timeout)
[00:53:56] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[00:54:45] *** Quits: [o__o] (~o__o@604A2740.DB688352.F4ADE383.IP) (Ping timeout)
[00:55:08] <sfackler> tyoverby: oh, this is probably what you want:
[00:55:17] <sfackler> trait Foo { fn make_me() -> Self; }
[00:55:19] *** Joins: [o__o] (~o__o@604A2740.DB688352.F4ADE383.IP)
[00:55:22] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[00:55:24] <sfackler> Self is a stand-in for the implementing type
[00:55:38] <tyoverby> sfackler: oh wow.  That is exactly what I need
[00:55:56] <tyoverby>  if my trait has parameters, does self have them too?
[00:56:07] <sfackler> I don't think so?
[00:56:11] <tyoverby> err, Self
[00:56:28] <sfackler> I think it'll always be the exact same type as the implementing type, parameters and all
[00:56:36] *** Joins: luisbg (luisbg@moz-C54443AD.baconseed.org)
[00:56:54] <sfackler> so like impl Foo for Bar<int> { fn make_me() -> Bar<~str> { ... } } wouldn't compile
[00:58:08] *** Quits: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[00:58:21] <tyoverby> what if you had trait Foo<X> { fn <B> make_me() -> Self<B> }
[00:58:26] <tyoverby> then would it work?
[00:58:31] <sfackler> I don't believe so
[00:58:39] *** Quits: enix_ (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Ping timeout)
[00:58:49] *** Joins: arrdem (arrdem@moz-2E1DB1F9.ece.utexas.edu)
[00:58:58] <tyoverby> noooooo
[00:59:13] <sfackler> remember that there's a difference between parameters on the *trait* and parameters on the *type* implementing the trait
[00:59:41] <sfackler> higher kinded types might (?) enable something like that
[00:59:55] <sfackler> there's currently no way of asserting that Self takes exactly 1 type parameter
[01:00:04] <YourBestFriend> I'm going to learn rust
[01:00:05] <sfackler> which is what that trait above is trying to do (I think)
[01:00:05] *** Quits: ramitos (ramitos@moz-E902B763.rev.vodafone.pt) (Quit: Computer has gone to sleep.)
[01:00:13] <YourBestFriend> is the tutorial maintained?
[01:00:21] <tyoverby> interesting, ok.  
[01:00:32] <tyoverby> I'm trying to write a generic Functor trait
[01:00:37] <carter> tyoverby: you can do that stuff in haskell
[01:00:42] <carter> you can't (yet) in rust
[01:00:48] <carter> its really frustrating, i agree :)
[01:00:54] <sfackler> oh, yeah, HKT should make Functor definable
[01:00:56] <ChrisMorgan> That trait Foo { fn make_me() -> Self; } sounds like http://static.rust-lang.org/doc/master/std/default/trait.Default.html
[01:01:01] *** Joins: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net)
[01:01:22] <carter> tyoverby: you've hasklling otherwise? :)
[01:01:24] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Client exited)
[01:01:29] <sfackler> YourBestFriend: off and on. It's being rewritten completely right now I thik
[01:01:32] <sfackler> *think
[01:01:43] <tyoverby> carter: I've done some haskell in the past 
[01:01:44] <sfackler> It shouldn't be wildly incorrect or anything
[01:01:52] *** Quits: twi (Adium@moz-CF950680.cust.vodafonedsl.it) (Quit: Leaving.)
[01:01:54] *** Quits: arrdem (arrdem@moz-2E1DB1F9.ece.utexas.edu) (Quit: leaving)
[01:01:57] <carter> tyoverby: Functor is much easier to implement in haskell :)
[01:02:13] *** Joins: arrdem (arrdem@moz-2E1DB1F9.ece.utexas.edu)
[01:02:14] <carter> but you know that
[01:02:20] <tyoverby> I loved using it, but I spent way too much time decyphering other people's code and trying to understand my own 
[01:02:41] <carter> oh
[01:02:46] <carter> its gotten better now :)
[01:02:57] <carter> whos code were you trying to read? what was the context?
[01:03:12] <tyoverby> yeah, great language.  I'm glad that other languages (like Rust) are picking up some of the features 
[01:03:33] <carter> indeed
[01:03:47] <YourBestFriend> let start = @Point { x: 10.0, y: 20.0 };
[01:03:54] <YourBestFriend> I thought @pointers were dead
[01:03:59] <carter> once rust gets assocaited types / items + HKT, i can start messing with porting some of my code to rust
[01:04:08] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Client exited)
[01:04:23] <tyoverby> carter: it seemed like most library / tutorial authors were in a competition to see how few characters they could write their code in
[01:04:28] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[01:04:33] <carter> tyoverby: name names :)
[01:04:45] <tyoverby> one letter variables + overlooaded operators everywhere 
[01:04:55] <carter> no
[01:04:58] <carter> name names
[01:05:03] * carter knows everyone there
[01:05:13] <carter> lens isn't really meant for normal users
[01:05:18] <tyoverby> carter: I sadly don't remember what it was I was trying to do 
[01:05:19] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[01:05:20] <carter> ok
[01:05:21] *** Quits: ChrisOei (ChrisOei@moz-53A9266A.blurb.com) (Client exited)
[01:05:23] <carter> i'm just saying
[01:05:31] <tyoverby> carter: I think I was doing some JSON parsing?
[01:05:41] <carter> tyoverby: did you use aeson?
[01:05:44] *** Joins: enix_ (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[01:05:46] *** Quits: andrew-__ (andrew-d_w@3B0E9325.9DFA657C.CC0301A2.IP) (Input/output error)
[01:05:48] <carter> aeson's really ncie and simple
[01:05:56] <carter> it is confusing the first time you use it mind you
[01:06:09] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Ping timeout)
[01:06:09] *** Joins: andrew-d_w (andrew-d_w@3B0E9325.9DFA657C.CC0301A2.IP)
[01:06:10] <carter> otoh, applicatives are confusing the first time you use them anyways
[01:06:25] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[01:06:29] <tyoverby> yeah.  I read Learn You, and then decided that the best way to learn the language was to read the code in the standard library 
[01:06:31] *** Joins: guest22221 (guest2222@9E9E9313.5D6710ED.284344F5.IP)
[01:06:36] <carter> tyoverby:nope
[01:06:38] <carter> nope
[01:06:40] <tyoverby> (which I'm doing with Rust and am having a blast)
[01:06:49] *** Quits: guest2222 (guest2222@moz-1D2D613F.ga.at.cox.net) (Connection reset by peer)
[01:06:53] <tyoverby> Rust has the most readable standard library I've ever seen
[01:06:59] <carter> well, its also still immature
[01:07:05] *** Joins: guest2222 (guest2222@moz-1D2D613F.ga.at.cox.net)
[01:07:13] <mcpherrin> Some of it rust's standard library is good readable code
[01:07:14] <carter> a lot of the standard libs in haskell have 5-10 years of performance engineering in the internals
[01:07:21] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[01:07:27] <carter> they're readable if you understand em
[01:07:32] <carter> mcpherrin: same for haskell
[01:07:34] <carter> mcpherrin: BUT
[01:07:38] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[01:07:45] <carter> if you try to read code who'se internals are heavily heavily optimized
[01:07:51] <pongad> Do I need to do anything special in compile-fail to get the test to pass? I tried //~ ERROR but the compiler is still complaining
[01:07:51] <carter> you'll be challenged no matter what
[01:07:51] *** Quits: andor (andor@moz-708868D.neferty.me) (Ping timeout)
[01:08:01] <carter> in any language
[01:08:10] *** Quits: guest22221 (guest2222@9E9E9313.5D6710ED.284344F5.IP) (Ping timeout)
[01:08:10] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[01:08:22] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[01:08:29] <carter> in fact, i'd claim its in some sense an open resarch problem to design libs that are heavily optimized + human readable internals
[01:08:40] <carter> i've thoughts on that mind you, but its really really hard
[01:09:13] <tyoverby> carter: yeah, I've always found it useful regardless.  It's how I learned Javascript (not the standard library, but some of the polyfills for newer browser features)
[01:09:15] <cmr> carter: boom, gotcha
[01:09:20] <carter> cmr: werd
[01:09:28] <carter> cmr: did you just graduate undergrad?
[01:09:48] *** Joins: tobytailor (tobytailor@moz-CBD810C7.hsd1.ca.comcast.net)
[01:09:51] <cmr> no, I just *started*
[01:09:55] <carter> ahh
[01:10:05] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[01:10:07] <tyoverby> cmr: where are you going?
[01:10:22] *** Quits: luisbg (luisbg@moz-C54443AD.baconseed.org) (Ping timeout)
[01:10:28] *** Quits: andrew-d_w (andrew-d_w@3B0E9325.9DFA657C.CC0301A2.IP) (Ping timeout)
[01:10:30] <cmr> tyoverby: http://octayn.net/ says everything :p
[01:10:32] <carter> tyoverby: i feel like that strategy doesn't work with every lang
[01:10:49] <carter> like, scala or c++
[01:10:52] <carter> would be a badd idea
[01:10:55] <carter> to read the stdlibs
[01:11:01] <carter> 'cause they're crap
[01:11:04] *** Joins: rumpler (Mibbit@moz-A8939BB3.pool.telenor.hu)
[01:11:08] *** Quits: rumpler (Mibbit@moz-A8939BB3.pool.telenor.hu) (Quit: rumpler)
[01:11:10] <carter> cmr: aint loadin
[01:11:13] <cmr> (or python, php, ruby, etcetcetc)
[01:11:16] *** Quits: tobytailor (tobytailor@moz-CBD810C7.hsd1.ca.comcast.net) (Quit: tobytailor)
[01:11:19] <carter> oh yeah
[01:11:23] <carter> egad oh noes
[01:12:20] <cmr> tyoverby: (Clarkon Univeristy, clarkson.edu)
[01:12:30] <carter> honestly though, i think tyoverby  is talking about Text or Aeson or ByteString or Vector
[01:12:30] <carter> rather than Haskell BASE
[01:12:30] *** Joins: darkf (darkf@moz-F9058B8A.net)
[01:12:30] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[01:12:30] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[01:12:30] <carter> those libs have lots of crazy optimization
[01:12:33] <carter> cool
[01:12:40] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[01:17:15] *** Joins: cmr (moznet@moz-EC676DFE.members.linode.com)
[01:17:35] <carter> well, not as many have had as open an iterate + break cycle
[01:17:50] *** Quits: IanCormac84 (User@DAEC9180.2A8D8854.67DFF8B4.IP) (Ping timeout)
[01:18:00] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[01:18:15] <tyoverby> carter: yeah, I'm going to be sad when Rust hits 1.0.  Too many awesome breaking changes in the last few months judging by the changelog 
[01:18:24] <carter> sad why?
[01:18:35] *** Joins: IanCormac84 (User@9EAA8665.64D641E5.67DFF8B4.IP)
[01:18:39] <carter> more will happen in subsquent major versions
[01:18:55] <carter> i suspect/hope once HKT lands, everything will change 
[01:19:19] <tyoverby> because what happens when we commit to 1.0 and then think of something awesome that we should have squeezed in before 1.0 hit
[01:19:21] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[01:19:25] <tyoverby> is there an ETA on HKT?
[01:19:36] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[01:19:39] <carter> > 1.0 afaik
[01:19:53] <carter> my volunteer engineering is focused on ghc+ haskell right now
[01:19:59] *** Joins: toshok (toshok@moz-43741342.cat)
[01:20:04] <carter> everything else is income related
[01:20:21] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[01:20:37] <carter> tyoverby: how long ago did you dabble in haskell?
[01:20:39] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[01:21:34] <tyoverby> carter: 2 years ago maybe?  Maybe earlier.  I picked it up about a month after starting to learn Scala.
[01:21:46] <carter> worth revisting
[01:22:00] *** Joins: jaras (textual@CA59A5EC.5F4B69C0.52E4E107.IP)
[01:22:01] <carter> cabal >= 1.18 makes things NICE
[01:22:01] <tyoverby> but making things in Scala was stupidly easy, so I kept going on that route 
[01:22:02] <carter> well
[01:22:04] *** Quits: Kazimuth (james@moz-1AB3D702.hfc.comcastbusiness.net) (Client exited)
[01:22:10] <carter> worth revisiting now that you have the vocab :)
[01:22:26] <carter> as time permits
[01:22:32] <carter> g2g
[01:22:33] <carter> happy hacking all
[01:22:33] <seanmonstar> is there a list somewhere of what should land by 0.10?
[01:22:39] *** jorendorff_away is now known as jorendorff
[01:22:47] <tyoverby> carter: thanks for the advice
[01:22:58] <seanmonstar> or is 0.10 more just a time-related release
[01:23:04] *** Quits: brson (brson@moz-62518563.mtv2.mozilla.com) (Ping timeout)
[01:23:08] *** Quits: IanCormac84 (User@9EAA8665.64D641E5.67DFF8B4.IP) (Ping timeout)
[01:23:11] *** Quits: [o__o] (~o__o@604A2740.DB688352.F4ADE383.IP) (Input/output error)
[01:23:23] *** Joins: [o__o] (~o__o@604A2740.DB688352.F4ADE383.IP)
[01:23:30] *** Joins: abustany (abustany@moz-C0C970CD.org)
[01:23:55] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[01:25:20] *** Quits: sunfish (chatzilla@13F2CEC5.7672369.D8E68FF6.IP) (Ping timeout)
[01:25:24] *** Joins: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP)
[01:25:41] *** Joins: IanCormac84 (User@D67A75E4.64D641E5.67DFF8B4.IP)
[01:26:05] *** Joins: brson (brson@moz-62518563.mtv2.mozilla.com)
[01:26:06] *** ChanServ sets mode: +ao brson brson
[01:26:49] <carllerche> I'm assuming that &MyTrait is a trait object, is it possible to have &mut MyTrait? I can't seem to get it to compile
[01:27:23] <Yurume> carllerche: code? it is certainly possible to have that, but may affect the compilation
[01:28:21] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[01:28:45] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[01:29:36] <carllerche> Yurume: https://github.com/carllerche/rust-http-client/blob/wip/src/rs/http-client/parser.rs#L342-L344
[01:30:10] <carllerche> I'm trying to do my "implement an http client to learn the language" exercise :)
[01:30:50] <carllerche> I'm probably binding the C code incorrectly as well
[01:31:12] <Yurume> carllerche: I think you are missing a lifetime parameter <'s> here. (i.e. shadowing impl's lifetime param)
[01:31:26] <acrichto> carllerche: you're promoting &HttpParserCallback to &mut HttpParserCallback which isn't sound
[01:31:37] *** Quits: darkf (darkf@moz-F9058B8A.net) (Ping timeout)
[01:31:39] <carllerche> acrichto: where?
[01:31:40] <Yurume> ah
[01:31:47] *** Quits: LU324 (asdf@moz-864C7465.dyn.embarqhsd.net) (Ping timeout)
[01:31:50] <acrichto> carllerche: https://github.com/carllerche/rust-http-client/blob/wip/src/rs/http-client/parser.rs#L326
[01:31:51] <Yurume> line 326
[01:32:04] <carllerche> is mut not supposed to be transitive?
[01:32:14] <acrichto> it is if you own the object
[01:32:19] <acrichto> but you don't own the HttpParserCallback
[01:32:24] <acrichto> you only have a reference to it
[01:32:28] <carllerche> ah, ok
[01:32:36] <acrichto> transitivity stops at non-ownership boundaries
[01:32:42] <acrichto> including things like &, @, Rc, Arc, etc
[01:32:52] <carllerche> I'm unsure if I am going about doing this binding correctly
[01:32:58] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[01:33:03] <cgaebel> what's bitwise not in rust?
[01:33:04] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[01:33:15] <acrichto> !
[01:33:21] <acrichto> rusti: !0
[01:33:23] -rusti- -1
[01:33:33] <cgaebel> whoa thanks.
[01:33:37] <acrichto> the ~ was taken :(
[01:33:40] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[01:33:45] <carllerche> joyent's http-parser lib uses C function callbacks to work, I'm trying to wrap that w/ a trait
[01:33:52] <cgaebel> yeah I noticed. at least I got an error instead of an allocation!
[01:34:01] *** Quits: jaras (textual@CA59A5EC.5F4B69C0.52E4E107.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[01:34:06] <carllerche> and self needs to be mutable in that case in order to store the state somewhere
[01:34:21] <acrichto> carllerche: you may want to try storing &mut HttpParserCallback
[01:34:27] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[01:34:28] <acrichto> instead of &HttpParserCallback
[01:34:34] <carllerche> ah, I was not aware I could do that
[01:34:37] <acrichto> it may be more difficult to work with, but it sounds like that's what you may want
[01:34:42] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[01:34:47] <acrichto> rust is magical! 
[01:34:53] <carllerche> i thought that mut was limited to fn args
[01:34:55] <carllerche> guess not
[01:35:48] <carllerche> acrichto: so then callback is mut even if self isn't?
[01:36:27] <acrichto> carllerche: sadly no, you can only access a stored &mut through another &mut
[01:36:33] <acrichto> needs guarantees about aliasability
[01:36:33] <carllerche> ok
[01:36:50] <acrichto> so if you have &self, you can use &HttpParserCallback (coerced from &mut HttpParserCallback)
[01:36:56] <acrichto> but if you have &mut self you can use &mut Http...
[01:37:35] *** jorendorff is now known as jorendorff_away
[01:38:17] *** Quits: IanCormac84 (User@D67A75E4.64D641E5.67DFF8B4.IP) (Ping timeout)
[01:38:17] <carllerche> acrichto: the next problem is going to be here: https://github.com/carllerche/rust-http-client/blob/wip/src/rs/http-client/parser.rs#L105-L120
[01:38:33] *** Joins: IanCormac84 (User@C151EAB9.2A8D8854.67DFF8B4.IP)
[01:38:36] <carllerche> i'm really not sure how to go from an unsafe ptr -> Option<&mut HttpParserCallback> w/ the right lifetime
[01:39:40] <carllerche> acrichto: Actually, I'm getting 'error: cannot move out of dereference of `&mut`-pointer'
[01:40:13] <acrichto> carllerche: sry, brb
[01:40:20] <acrichto> but I'd be careful that looks dubious
[01:40:23] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[01:40:41] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[01:40:44] <acrichto> you can introuce a stsack lifetime though
[01:40:51] <acrichto> take something like &'a *Foo
[01:40:55] *** Joins: Mathieu (cicak@420C86E4.9C1E3043.FBF02BB8.IP)
[01:41:10] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[01:44:26] *** Quits: Rym (y@1AFE98D6.BF54EC93.51C6DE68.IP) (Ping timeout)
[01:45:36] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Input/output error)
[01:45:56] <seanmonstar> does @T actually use something in std? like gc::Gc?
[01:45:57] *** Joins: whitglint (uid15486@moz-31ABA2C0.irccloud.com)
[01:48:08] *** Quits: pepper_chico (pepper_chi@BE2968B5.6F4A2706.E4090502.IP) (Quit: WeeChat 0.4.1)
[01:48:10] *** Quits: nszceta (nszceta@moz-E458A7C0.pharm.pitt.edu) (Quit: Textual IRC Client: www.textualapp.com)
[01:48:38] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[01:48:43] *** Quits: onelson (owen@moz-DD666EC5.laika.com) (Quit: Leaving)
[01:53:14] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[01:54:53] *** Joins: generalelectrix (Mibbit@moz-18E22694.hsd1.ca.comcast.net)
[01:54:59] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[01:55:01] *** Joins: Rym (y@1AFE98D6.BF54EC93.51C6DE68.IP)
[01:55:51] *** Joins: derek_c (derek@moz-E25AC88D.cit.cornell.edu)
[01:56:10] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Client exited)
[01:56:17] *** Quits: blank_name (blank_name@B7AFA74A.94CCB18F.53C6B850.IP) (Ping timeout)
[01:57:10] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Client exited)
[01:57:11] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[01:57:18] <generalelectrix> is there a simple way to make the equality operator (==) work on enum instances?
[01:57:40] <Yurume> #[deriving(Eq)] enum foo { .. }
[01:58:08] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[01:58:46] <Yurume> N.B. if some variants have associated data, they also have to implement Eq; that's why Option<T> implements Eq only when T implements Eq.
[01:59:20] *** Joins: ipetkov (ipetkov@33AEE1AA.A1C436AB.CE6682EF.IP)
[01:59:53] <generalelectrix> Thanks!  In this case the variants have no data so that works great.
[02:00:12] <generalelectrix> Are there other items that that compiler flag applies to?
[02:00:30] *** Quits: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP) (Ping timeout)
[02:02:12] *** Joins: IanCormac841 (User@E2C87274.2A8D8854.67DFF8B4.IP)
[02:02:29] *** Quits: IanCormac84 (User@C151EAB9.2A8D8854.67DFF8B4.IP) (Ping timeout)
[02:03:33] *** Joins: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net)
[02:04:01] *** Joins: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com)
[02:04:11] *** Quits: gimpf (gimpf@moz-F444DB07.adsl.highway.telekom.at) (Client exited)
[02:05:17] *** Joins: alan_and_ (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[02:05:46] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[02:05:57] *** Joins: blank_name (blank_name@B7AFA74A.94CCB18F.53C6B850.IP)
[02:06:43] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[02:07:00] *** Quits: alan_and_ (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[02:07:23] *** Joins: aurynj (Eon@C498BDEC.C264657C.C6282BC4.IP)
[02:07:41] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[02:08:28] *** Quits: enix_ (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Ping timeout)
[02:08:31] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[02:08:45] *** Joins: enix_ (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[02:08:54] *** jorendorff_away is now known as jorendorff
[02:09:07] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[02:10:49] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[02:11:10] *** Quits: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[02:11:38] *** Quits: cgaebel (clark@moz-F9D89110.nyc.res.rr.com) (Ping timeout)
[02:13:22] *** Joins: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net)
[02:13:24] <seanmonstar> generalelectrix: that just automatically writes `impl Eq for Foo` for you
[02:15:25] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[02:16:58] *** Quits: IanCormac841 (User@E2C87274.2A8D8854.67DFF8B4.IP) (Ping timeout)
[02:17:08] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[02:17:08] *** ChanServ sets mode: +ao pcwalton pcwalton
[02:17:12] *** Joins: IanCormac84 (User@455B28F0.2A8D8854.67DFF8B4.IP)
[02:18:31] *** Quits: hdevalence (quassel@moz-D125A39F.home3.cgocable.net) (Client exited)
[02:18:41] <generalelectrix> Ah ok thanks, that makes sense.
[02:20:17] *** Quits: cschneid_ (cschneid@moz-6297EF2D.rev.frii.com) (Client exited)
[02:21:12] *** Joins: Vermeille (vermeille@moz-9947004C.kimsufi.com)
[02:21:53] *** Quits: hoverbear (hoverbear@moz-BEC82F6D.wireless.uvic.ca) (Quit: Taking a nap.)
[02:23:47] *** Joins: IanCormac841 (User@6BB125B3.2A8D8854.67DFF8B4.IP)
[02:24:14] *** Quits: IanCormac84 (User@455B28F0.2A8D8854.67DFF8B4.IP) (Ping timeout)
[02:26:07] *** Quits: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net) (Quit: Textual IRC Client: www.textualapp.com)
[02:26:07] *** Joins: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net)
[02:26:07] *** ChanServ sets mode: +o tjc
[02:26:07] *** Quits: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net) (Input/output error)
[02:26:15] *** Quits: dcrewi (david@moz-AB8667CE.gyrae.net) (Ping timeout)
[02:26:17] *** Joins: vfetwnuncszu (david@moz-AB8667CE.gyrae.net)
[02:26:32] *** vfetwnuncszu is now known as dcrewi
[02:27:07] *** Quits: Amaranth (travis@moz-F81BB56A.cpe.cableone.net) (Ping timeout)
[02:27:35] *** Joins: Amaranth (travis@moz-F81BB56A.cpe.cableone.net)
[02:28:11] *** Quits: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca) (Ping timeout)
[02:28:33] *** Quits: eibwen (kvirc@moz-70651089.dip0.t-ipconnect.de) (Ping timeout)
[02:30:18] *** Joins: maxli (Adium@moz-EE42E0E.student.cs.uwaterloo.ca)
[02:31:11] *** Quits: Axord (xord@moz-BC8E2FBC.static.rvsd.ca.charter.com) (Quit: I'm sure it's perfectly safe)
[02:32:41] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[02:33:06] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[02:34:06] *** Quits: kini (kini@moz-92AA953A.members.linode.com) (Quit: No Ping reply in 180 seconds.)
[02:34:55] *** Joins: kini (kini@moz-92AA953A.members.linode.com)
[02:36:13] *** Joins: ChrisOei (ChrisOei@moz-30D80888.hsd1.ca.comcast.net)
[02:36:24] *** Quits: blank_name (blank_name@B7AFA74A.94CCB18F.53C6B850.IP) (Ping timeout)
[02:36:48] *** Joins: hdevalence (quassel@moz-D125A39F.home3.cgocable.net)
[02:36:58] *** Quits: tyna (liadon@moz-BB1BAD9A.dynamic.chello.pl) (Quit: Leaving.)
[02:37:00] <carllerche> Hmm, can &MyTrait not be cast to a void*?
[02:37:28] <carllerche> is it possible to cast a trait obj to a C void* (to bind to a C lib)
[02:37:42] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[02:38:18] *** Quits: james4k (james@moz-9BB5AE72.consolidated.net) (Ping timeout)
[02:39:27] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[02:39:45] *** Joins: jdm (jdm@moz-AC9499B2.cable.teksavvy.com)
[02:39:46] *** ChanServ sets mode: +o jdm
[02:40:24] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Client exited)
[02:40:34] *** Joins: krebbit (Mibbit@moz-88E9088D.tr.cgocable.ca)
[02:40:56] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[02:40:56] *** Quits: rweir (rob@moz-B98DF6FB.members.linode.com) (Ping timeout)
[02:41:29] *** Quits: philix (felipe@moz-D13524B6.user.veloxzone.com.br) (Connection reset by peer)
[02:41:54] *** Joins: james4k (james@moz-9BB5AE72.consolidated.net)
[02:42:54] *** Quits: krebbit (Mibbit@moz-88E9088D.tr.cgocable.ca) (Quit: http://www.mibbit.com ajax IRC Client)
[02:42:55] *** Quits: bjustin (bjustin@moz-8FC28563.sierrabravo.net) (Connection reset by peer)
[02:42:58] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[02:43:08] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[02:43:40] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Quit: csherratt)
[02:44:24] *** Joins: rweir (rob@moz-B98DF6FB.members.linode.com)
[02:44:42] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[02:44:56] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[02:45:01] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[02:45:11] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[02:45:20] *** Joins: mib_k5v8uz (Mibbit@AC75EC74.A410FA5.CC1A2609.IP)
[02:46:45] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[02:46:52] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[02:46:57] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[02:47:08] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[02:47:12] *** Joins: onelson (owen@18CF7301.95770028.5B6BFE7D.IP)
[02:47:17] *** Quits: ChrisMorgan (chris@moz-8DCBEA52.vic.adsl.internode.on.net) (Ping timeout)
[02:47:17] *** Quits: maxli (Adium@moz-EE42E0E.student.cs.uwaterloo.ca) (Ping timeout)
[02:47:23] <dsrx> wish I had thought to look for std::mem::swap earlier
[02:48:06] *** Joins: philix (felipe@moz-D13524B6.user.veloxzone.com.br)
[02:48:16] *** Joins: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca)
[02:48:24] *** Joins: ChrisMorgan (chris@moz-8DCBEA52.vic.adsl.internode.on.net)
[02:49:23] *** Quits: IanCormac841 (User@6BB125B3.2A8D8854.67DFF8B4.IP) (Ping timeout)
[02:49:55] *** Joins: IanCormac84 (User@E766529A.2A8D8854.67DFF8B4.IP)
[02:52:14] *** Quits: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com) (Ping timeout)
[02:53:06] *** jorendorff is now known as jorendorff_away
[02:53:15] *** Joins: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com)
[02:54:23] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[02:55:00] *** Quits: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com) (Ping timeout)
[02:55:03] *** Joins: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com)
[02:55:07] *** Quits: soumyaC (uid15286@moz-E77DEB21.irccloud.com) (Quit: Connection closed for inactivity)
[02:55:46] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[02:56:42] *** Joins: cschneid (cschneid@moz-621ACC77.hlrn.qwest.net)
[02:57:48] *** Joins: richo (richo@moz-BE62344B.corp.mel.iprimus.net.au)
[02:58:32] *** Joins: tautologico (uid22285@moz-A42E5B7B.irccloud.com)
[03:00:12] <aatch> carllerche, &MyTrait is not a pointer
[03:00:31] <aatch> rusti: let a : ~Send = ~1; a
[03:00:32] -rusti- <anon>:10:25: 10:27 error: failed to find an implementation of trait std::kinds::Send for int
[03:00:32] -rusti- <anon>:10         let a : ~Send = ~1; a
[03:00:32] -rusti-                                   ^~
[03:00:32] -rusti- application terminated with error code 101
[03:01:05] *** Joins: blank_name (blank_name@B7AFA74A.94CCB18F.53C6B850.IP)
[03:01:12] *** Quits: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com) (Ping timeout)
[03:01:21] <aatch> rusti: let v = Vec::new(); let a : ~Iterator = ~v.iter(); a
[03:01:21] -rusti- <anon>:10:38: 10:46 error: wrong number of type arguments: expected 1 but found 0
[03:01:21] -rusti- <anon>:10         let v = Vec::new(); let a : ~Iterator = ~v.iter(); a
[03:01:21] -rusti-                                                ^~~~~~~~
[03:01:22] -rusti- application terminated with error code 101
[03:01:54] <aatch> rusti: std::mem::size_of<~Send>()
[03:01:56] -rusti- <anon>:10:28: 10:32 error: unresolved name `Send`.
[03:01:57] -rusti- <anon>:10         std::mem::size_of<~Send>()
[03:01:57] -rusti-                                      ^~~~
[03:01:57] -rusti- error: aborting due to previous error
[03:01:57] -rusti- application terminated with error code 101
[03:02:03] <aatch> rusti: std::mem::size_of::<~Send>()
[03:02:03] -rusti- 16
[03:02:09] *** Joins: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com)
[03:02:18] *** Quits: Sorella (queen@9D963F5D.DF5D8AE7.54BCAB54.IP) (Quit: It is tiem!)
[03:02:26] <aatch> Ok, now that I stopped being stupid
[03:02:46] <aatch> carllerche, ^^ `~Send` is a trait object, it's 16 bytes in size.
[03:02:46] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[03:02:51] <aatch> rusti: std::mem::size_of::<&Send>()
[03:02:53] -rusti- 16
[03:03:58] *** Quits: derek_c (derek@moz-E25AC88D.cit.cornell.edu) (Ping timeout)
[03:03:58] *** Quits: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com) (Ping timeout)
[03:04:09] *** Joins: tobytailor (tobytailor@moz-CBD810C7.hsd1.ca.comcast.net)
[03:04:09] *** Joins: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com)
[03:04:54] *** Quits: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca) (Ping timeout)
[03:05:21] *** Quits: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com) (Connection reset by peer)
[03:05:41] *** Joins: maxli (Adium@moz-EE42E0E.student.cs.uwaterloo.ca)
[03:07:00] *** Quits: mib_k5v8uz (Mibbit@AC75EC74.A410FA5.CC1A2609.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[03:08:20] *** Joins: andor (andor@moz-708868D.neferty.me)
[03:09:25] *** Quits: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net) (Quit: carllerche)
[03:09:54] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[03:11:10] <pcwalton> how much of the removal of ~[T] in librustc is done?
[03:11:14] <pcwalton> in the core distribution generally
[03:11:17] <pcwalton> I mean
[03:11:36] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[03:11:37] *** Joins: bleibig (bleibig@moz-B4D9C5AF.hsd1.ca.comcast.net)
[03:14:31] <sfackler> pcwalton: I'm pulling it out of Reader/Writer/MemReader/MemWriter right now
[03:15:14] <pcwalton> cool
[03:15:45] *** Quits: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[03:17:11] <generalelectrix> is pattern matching on vectors possible?
[03:17:19] *** Quits: luisbg (luisbg@moz-C54443AD.baconseed.org) (Ping timeout)
[03:17:56] *** Quits: KokaKiwi (kokakiwi@moz-D674DAC6.kokakiwi.net) (Ping timeout)
[03:18:23] *** Quits: glandium (glandium@moz-A09032B1.kimsufi.com) (Ping timeout)
[03:20:58] *** Quits: rweir (rob@moz-B98DF6FB.members.linode.com) (Ping timeout)
[03:23:34] *** Quits: maxli (Adium@moz-EE42E0E.student.cs.uwaterloo.ca) (Quit: Leaving.)
[03:23:38] *** Joins: maxli (Adium@moz-EE42E0E.student.cs.uwaterloo.ca)
[03:23:38] *** Joins: luisbg (luisbg@moz-C54443AD.baconseed.org)
[03:24:40] *** Joins: rweir (rob@moz-B98DF6FB.members.linode.com)
[03:25:24] *** Joins: glandium (glandium@moz-A09032B1.kimsufi.com)
[03:25:27] *** Joins: p1start (rewi@moz-E7F3D014.org)
[03:25:40] *** Joins: derek_c (derek@moz-A43430DA.cit.cornell.edu)
[03:25:50] *** Joins: dpc (Mibbit@3CA2DD5F.FAD414BA.D74CC41D.IP)
[03:25:54] *** Quits: maxli (Adium@moz-EE42E0E.student.cs.uwaterloo.ca) (Quit: Leaving.)
[03:26:02] *** Joins: maxli (Adium@moz-EE42E0E.student.cs.uwaterloo.ca)
[03:26:16] <dpc> Can I implement Add trait with thing I'm adding and result being different types?
[03:26:19] *** Joins: anomie (anomie@moz-3213C615.wavecable.com)
[03:26:23] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Client exited)
[03:26:37] <anomie> Can I use a gcc wrapper to compile rust?
[03:26:47] <dpc> I'd like to have both: Point + Point -> Point and Point + Direction -> Point
[03:26:54] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[03:28:23] *** Joins: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net)
[03:28:23] <sfackler> dpc: yes
[03:28:23] <dsrx> dpc: yes
[03:28:32] *** Joins: HeroesGrave (Mibbit@moz-B957819A.dyn.cust.vf.net.nz)
[03:28:33] <dpc> I get error about conflicting types for Add
[03:28:37] *** Joins: maxli1 (Adium@moz-F47DD19B.student.cs.uwaterloo.ca)
[03:28:40] *** Quits: maxli (Adium@moz-EE42E0E.student.cs.uwaterloo.ca) (Ping timeout)
[03:28:40] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Ping timeout)
[03:28:49] <dpc>   impl Add<Direction, Point> for Point {                                                                                
[03:28:58] <dpc>   impl Add<Point, Point> for Point {                                                                                    
[03:29:01] *** Quits: LRN (LRN@moz-EA80C63C.nationalcablenetworks.ru) (Quit: Leaving.)
[03:29:20] *** Joins: LRN (LRN@moz-EA80C63C.nationalcablenetworks.ru)
[03:30:16] *** Joins: rook (rook@moz-DE88DB2D.hfc.comcastbusiness.net)
[03:30:33] *** Quits: HeroesGrave (Mibbit@moz-B957819A.dyn.cust.vf.net.nz) (Quit: http://www.mibbit.com ajax IRC Client)
[03:30:50] <pongad> dpc: Hmm...I've never tried to do anything like that before...
[03:30:55] <sfackler> you may need to indirect it by one more trait
[03:31:25] <pongad> sfackler: Do you think UFCS will do the job? Or have it not landed? :D
[03:31:30] <sfackler> e.g. impl Add<PointAddable, Point> for Point { ... } impl PointAddable for Direction { ... } impl PointAddable for Direction { ... }
[03:31:36] <dpc> sfackler: ? 
[03:32:11] *** Joins: ruzu (quassel@moz-2AAEC710.austin.res.rr.com)
[03:32:18] <generalelectrix> is pattern matching on vectors not allowed anymore?  trying to use this example (http://pzol.github.io/getting_rusty/posts/20140122_destructuring_in_rust/) and I get a compiler error: "unique vector patterns are no longer supported"
[03:32:26] *** Quits: ruzu (quassel@moz-2AAEC710.austin.res.rr.com) (Client exited)
[03:32:29] *** Joins: ruzu (quassel@moz-2AAEC710.austin.res.rr.com)
[03:32:37] <sfackler> you can't match on ~[] anymore
[03:32:45] <sfackler> you can match on &[] though
[03:33:07] *** Joins: darkf (darkf@moz-F9058B8A.net)
[03:33:26] *** Quits: andor (andor@moz-708868D.neferty.me) (Ping timeout)
[03:33:32] <pongad> dpc: Where the error given? At the function call? or at the definition?
[03:34:29] <dpc> pongad: I think it's on call. Any time I try to use + now, it complains that it doesn't know what to do.
[03:34:30] *** Quits: untitaker (untitaker@moz-6B4C7A29.adsl.highway.telekom.at) (Ping timeout)
[03:35:06] <aatch> dpc, what's the *exact* error?
[03:35:41] <pongad> This is kind of weird, I would like point+dir would invoke Add<Direction, Point>...
[03:35:46] *** Quits: pyon (user@6B56F365.A9B419CB.1C8C8CE9.IP) (Ping timeout)
[03:36:02] <pongad> Sorry everyone, I can't type today :(
[03:36:35] *** Quits: derek_c (derek@moz-A43430DA.cit.cornell.edu) (Ping timeout)
[03:36:35] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[03:36:36] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[03:36:38] <dpc> http://sprunge.us/bgAI
[03:37:45] *** Quits: luz (lu.cy@moz-CD18B14B.customer.cdi.no) (Connection reset by peer)
[03:38:25] <pongad> On another note, I'm still struggling to get a compile-fail test to pass. Can anyone take a look? http://pastebin.com/g3ELiJPf
[03:40:00] <anomie> So, can I compile rust with a gcc wrapper other than ccache?
[03:40:15] *** Joins: luz (lu.cy@moz-CD18B14B.customer.cdi.no)
[03:40:17] <anomie> I've tried it before, but configure didn't like it.
[03:41:29] *** Quits: tobytailor (tobytailor@moz-CBD810C7.hsd1.ca.comcast.net) (Quit: tobytailor)
[03:41:56] *** Joins: untitaker (untitaker@moz-91D389F5.adsl.highway.telekom.at)
[03:42:52] *** Quits: maxli1 (Adium@moz-F47DD19B.student.cs.uwaterloo.ca) (Quit: Leaving.)
[03:44:58] *** Quits: mindcat (mindcat@8BF3B79.E45688C6.F21FCE99.IP) (Ping timeout)
[03:45:13] *** Joins: tobytailor (tobytailor@moz-CBD810C7.hsd1.ca.comcast.net)
[03:47:23] *** Quits: zz_kimundi (kimundi@moz-F5F69403.dip0.t-ipconnect.de) (Ping timeout)
[03:47:29] *** Joins: KokaKiwi (kokakiwi@moz-D674DAC6.kokakiwi.net)
[03:49:25] <dpc> So any idea about Point + Dir -> Point conflicting with Point + Point -> Point ? :)
[03:49:26] *** Joins: mindcat (mindcat@4D1573F2.51411C19.D6E1F3C4.IP)
[03:50:40] <dsrx> dpc: seems related https://github.com/mozilla/rust/issues/7590
[03:50:51] *** Joins: huon (Thunderbir@8750FD8F.D5A1DCF.37681C44.IP)
[03:50:51] *** ChanServ sets mode: +o huon
[03:50:51] *** Joins: zz_kimundi (kimundi@moz-137CBE82.dip0.t-ipconnect.de)
[03:51:08] *** zz_kimundi is now known as kimundi
[03:52:13] <dpc> dsrx: Thanks. That would explain it.
[03:52:29] <dsrx> also see comments on this issue https://github.com/mozilla/rust/issues/7935
[03:53:06] *** Quits: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP) (Client exited)
[03:53:58] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[03:54:12] <sfackler> dpc: impl Add<PointAddable, Point> for Point { ... } impl PointAddable for Direction { ... } impl PointAddable for Direction { ... }
[03:54:35] <dpc> sfackler: Understood. :)
[03:55:26] *** Quits: oxum (anonymous@E548EC34.4CC1D574.520CDC98.IP) (Quit: ...)
[03:55:42] *** Quits: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP) (Quit: buildmaster reconfigured: bot disconnecting)
[03:55:46] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[03:56:36] *** Joins: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP)
[03:57:03] *** Quits: tobytailor (tobytailor@moz-CBD810C7.hsd1.ca.comcast.net) (Quit: tobytailor)
[03:57:36] *** Quits: rweir (rob@moz-B98DF6FB.members.linode.com) (Ping timeout)
[03:58:48] <pongad> huon: I need help with compile-fail :D
[03:58:48] *** Quits: drawoc (drawoc@moz-BAC1D3AB.res-cmts.sesh.ptd.net) (Quit: WeeChat 0.4.3)
[03:59:10] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[03:59:56] *** jorendorff_away is now known as jorendorff
[04:00:25] *** jorendorff is now known as jorendorff_away
[04:00:53] *** Joins: rweir (rob@moz-B98DF6FB.members.linode.com)
[04:01:01] *** jorendorff_away is now known as jorendorff
[04:01:12] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[04:01:57] *** jorendorff is now known as jorendorff_away
[04:02:30] *** Quits: doctor (ARealName@moz-1BCE629A.hsd1.ca.comcast.net) (Connection reset by peer)
[04:02:34] *** Joins: derek_c (derek@moz-E25AC88D.cit.cornell.edu)
[04:02:39] <anomie> How can I make configure use a different gcc path?
[04:04:54] *** Joins: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP)
[04:05:08] *** Quits: mno2 (mno2@E1E0A0A3.621D86F0.CFF65E33.IP) (Quit: mno2)
[04:06:36] *** Quits: canhtak (canhtak@moz-4FB0FBC1.wl.t.ulaval.ca) (Quit: canhtak)
[04:07:35] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[04:08:33] *** Joins: canhtak (canhtak@moz-4FB0FBC1.wl.t.ulaval.ca)
[04:09:22] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[04:10:06] *** Joins: maxli (Adium@moz-EE42E0E.student.cs.uwaterloo.ca)
[04:10:29] <Dylan16807> hahaha I get rust to compile and the first program I try panics and deadlocks
[04:10:48] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[04:11:36] *** Joins: tobytailor (tobytailor@moz-CBD810C7.hsd1.ca.comcast.net)
[04:11:44] *** Quits: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP) (Quit: colinsurprenant)
[04:12:04] *** Joins: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net)
[04:12:12] <Dylan16807> not finding any info with a quick search, is there anything visibly wrong with the second futures example? http://static.rust-lang.org/doc/master/guide-tasks.html#backgrounding-computations:-futures
[04:12:39] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[04:13:24] <Dylan16807> one out of a few times I run it I get hundreds of 'sending on a closed channel' and main appears to be hung
[04:13:53] *** jorendorff_away is now known as jorendorff
[04:15:49] <Dylan16807> actually main isn't deadlocked it's "assertion failed: libc::CloseHandle(native) != 0"
[04:15:52] <Dylan16807> something's deadlocked though
[04:16:04] <Dylan16807> never exits
[04:17:22] <huon> pongad: what sort of help? :)
[04:17:45] <pongad> huon: http://pastebin.com/g3ELiJPf
[04:17:53] <pongad> huon: I can't get the tests to pass :D
[04:18:25] <anomie> So, I tried editing config.mk to use a different c compiler, and now it won't build.
[04:18:49] <anomie> Is rust dependent on gcc-compatible extensions or what?
[04:19:35] <dpc>   impl Add<T : PointAddable<T>, Point> for Point {                                                                      \
[04:19:45] <dpc> Am I writting it right?
[04:20:07] <sfackler> impl Add<T: PointAddable, Point> for Point {
[04:20:40] <dpc>   trait PointAddable<T> {    fn add_point(&self, p : T) -> Point;        }                                                                                                                                                                   
[04:20:46] <pongad> isn't it impl<T: PointAddable> Add<T, Point>? or am I confused again :D
[04:21:10] <pongad> Oh...
[04:21:35] <sfackler> er
[04:21:35] <sfackler> yeah
[04:21:35] <sfackler> impl<T: PointAddable> Add<T, Point> for Point
[04:21:35] <sfackler> and
[04:21:47] <sfackler> trait PointAddable { fn add_point(&self, p: &Point) -> Point; }
[04:22:27] *** Quits: enix_ (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Quit: Konversation terminated!)
[04:23:04] *** Joins: enix_ (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[04:23:42] *** Joins: alext (Adium@moz-C36E2841.albq.qwest.net)
[04:23:46] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[04:23:52] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Quit: willingc)
[04:24:59] <huon> pongad: what's the error message with the tests?
[04:25:02] <dpc> It's getting more complicated with Sub ... :D
[04:25:24] <huon> pongad: there should be a piece of info just above the actual errors
[04:25:53] <dpc> sfackler: That's why I wanted to have it the other way around with parametrized PointAddable
[04:26:06] <pongad> huon: One sec, let me pull it up
[04:26:22] <huon> pongad: something like "error pattern ... not found"
[04:27:03] <huon> pongad: or "unexpected error or warning"
[04:27:06] *** Quits: tobytailor (tobytailor@moz-CBD810C7.hsd1.ca.comcast.net) (Quit: tobytailor)
[04:27:12] <pongad> unexpected compiler error or warning:
[04:27:26] <huon> pongad: can you pastebin the full error
[04:27:30] *** Joins: brendan (brendaneic@moz-D9B414AF.hfc.comcastbusiness.net)
[04:27:58] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[04:28:00] <huon> (it's telling you that there was an extra warning or error other than the //~ ERROR directives you specified.)
[04:28:05] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Quit: Leaving)
[04:28:20] <pongad> huon: http://pastebin.com/sLT6GLzQ
[04:29:26] *** Quits: kini (kini@moz-92AA953A.members.linode.com) (Client exited)
[04:31:15] *** Quits: Rym (y@1AFE98D6.BF54EC93.51C6DE68.IP) (Ping timeout)
[04:31:59] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[04:32:25] *** Joins: dranov (dranov@18D63513.8894C792.FCAAE698.IP)
[04:33:05] *** Joins: tobytailor (tobytailor@moz-CBD810C7.hsd1.ca.comcast.net)
[04:33:38] <dpc> Enums should have CamelCase?
[04:33:58] <dpc> I mean enum values...
[04:34:22] <sfackler> that's the convention, yes
[04:34:27] *** Quits: hdevalence (quassel@moz-D125A39F.home3.cgocable.net) (Ping timeout)
[04:35:10] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[04:35:12] <huon> pongad: on line 31 you forgot to have a //~ ERROR marking
[04:35:16] <ChrisMorgan> dpc: they're called enum variants
[04:35:37] <dpc> ChrisMorgan: I see. Thanks. Will remember that.
[04:36:14] <dpc> Is there a way to import all variants of enum?
[04:36:45] *** Quits: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net) (Quit: carllerche)
[04:37:42] <ChrisMorgan> dpc: you can use a glob import (`use x::*`), but that's typically not recommended.
[04:37:51] <dpc> Yeah. That complains.
[04:39:12] <ChrisMorgan> You can turn on the feature if you desire, but it's not recommended that you use glob imports in most cases for reasons similar to PEP8's advising against them (though it's less serious in Rust than in Python because of the compiler actually checking things).
[04:39:12] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[04:39:36] *** Quits: tobytailor (tobytailor@moz-CBD810C7.hsd1.ca.comcast.net) (Quit: tobytailor)
[04:39:56] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[04:40:39] <huon> pongad: I'll be more help if you show me the exact testcase too :)
[04:40:58] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[04:41:23] <pongad> huon: Right, I forgot :D
[04:41:44] <pongad> http://pastebin.com/fzdViHrR
[04:41:57] *** Joins: oxum (anonymous@C981DB9C.ECC58135.520CDC98.IP)
[04:41:58] <pongad> huon: I'm wondering if it's because it errors twice on that line
[04:43:22] *** Quits: alext (Adium@moz-C36E2841.albq.qwest.net) (Quit: Leaving.)
[04:43:48] *** Quits: fournm (Aria@moz-ABB60BA0.austin.res.rr.com) (Quit: Leaving)
[04:43:48] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[04:44:01] <huon> pongad: yes, it's is exactly that
[04:44:06] <huon> just put the tuple on 2 lines
[04:44:37] *** Quits: claudiu (claudiu@moz-6F0C4397.thefacebook.com) (Input/output error)
[04:45:02] *** Joins: alext (Adium@moz-C36E2841.albq.qwest.net)
[04:45:26] <anomie> I don't want to build rust with either gcc or clang. How do I fix this?
[04:45:57] <mcpherrin> anomie: what do you want to build with then?
[04:46:31] *** Quits: rweir (rob@moz-B98DF6FB.members.linode.com) (Ping timeout)
[04:46:32] *** Quits: canhtak (canhtak@moz-4FB0FBC1.wl.t.ulaval.ca) (Quit: canhtak)
[04:46:56] *** Quits: brson (brson@moz-62518563.mtv2.mozilla.com) (Ping timeout)
[04:47:16] <anomie> mcpherrin, Actually, I oversimplified. I want to use the gcc wrapper /opt/musl/bin/musl-gcc, but it presents the same issue because mk/platform.mk throws an error when I edit config.mk for that.
[04:47:19] <masonl> hand
[04:47:19] *** Quits: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net) (Quit: Taking a nap.)
[04:49:50] *** Joins: rweir (rob@moz-B98DF6FB.members.linode.com)
[04:51:28] *** Joins: kini (kini@moz-92AA953A.members.linode.com)
[04:52:07] *** Joins: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net)
[04:52:58] *** Quits: enix_ (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Ping timeout)
[04:53:00] *** Joins: uzi_mantis (iz@moz-4379EE65.hsd1.va.comcast.net)
[04:53:37] <uzi_mantis> hey guys, is "as" used to typecast in rust?
[04:54:50] <mcpherrin> yes
[04:55:05] <uzi_mantis> makes sense, thanks mcpherrin
[04:56:59] *** Joins: jxv (jxv@moz-D1F0EBC3.socal.res.rr.com)
[04:58:32] <seanmonstar> what the use of Cell<T> just T?
[04:58:36] <seanmonstar> whats*
[04:59:14] <ChrisMorgan> seanmonstar: inner mutability
[04:59:24] *** Quits: ipetkov (ipetkov@33AEE1AA.A1C436AB.CE6682EF.IP) (Quit: ipetkov)
[05:00:00] <seanmonstar> ChrisMorgan: meaning that a field can be `mut` while the owning object isn't mut?
[05:00:15] <ChrisMorgan> struct Foo { bar: Cell<int>, baz: int }; fn foo(foo: &Foo) { foo.baz = 7 /* illegal, it's immutable */; foo.bar.set(7) /* legal */ }
[05:00:37] <ChrisMorgan> Yes.
[05:00:48] <seanmonstar> ah thanks
[05:01:20] *** Joins: bjeanes (sid16847@moz-A42E5B7B.irccloud.com)
[05:02:58] <pongad> huon: Thanks a ton. Though that error took me a lot longer than it ought :D
[05:03:37] <anomie> So, how can i use /opt/musl/bin/musl-gcc as a C compiler?
[05:03:47] *** Joins: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP)
[05:03:48] *** Quits: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP) (Quit: colinsurprenant)
[05:03:58] *** Quits: heftig (heftig@moz-E07DF3E5.dip0.t-ipconnect.de) (Ping timeout)
[05:05:01] <huon> pongad: np, thanks for fixing bugs <3
[05:06:16] *** Joins: mno2 (mno2@E1E0A0A3.621D86F0.CFF65E33.IP)
[05:06:45] <sfackler> anomie: CC=musl-gcc?
[05:07:10] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[05:07:32] *** Joins: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP)
[05:07:34] <anomie> sfackler, This isn't the kind of configure you're used to. It's an independent implementation I believe. (is that right?)
[05:07:44] *** Quits: Savago (Savago@202BED95.35A5082B.B8C5454C.IP) (Quit: Savago)
[05:08:23] <anomie> It won't use environment variables, period.
[05:09:36] <sfackler> no, like "env CC=musl-gcc make"
[05:09:56] *** Joins: bollu (bollu@31CCE710.7065DDB9.6D6A344F.IP)
[05:10:02] <bollu> hey all
[05:10:32] *** Joins: heftig (heftig@moz-1DC05943.dip0.t-ipconnect.de)
[05:10:56] <anomie> sfackler, Negative.
[05:11:08] *** Quits: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP) (Client exited)
[05:11:19] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[05:11:19] <anomie> I'll just make a soft link I guess.
[05:12:16] *** Joins: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP)
[05:12:25] *** Quits: zw01 (zev@3C32E5CD.21A2D65F.BCF77D2A.IP) (Ping timeout)
[05:13:02] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[05:13:12] <bollu> hey all
[05:13:49] *** Joins: mib_mq7sps (Mibbit@AC75EC74.A410FA5.CC1A2609.IP)
[05:14:09] <bollu> how do I put trait bounds on an enum?
[05:14:12] *** Joins: zw01 (zev@3C32E5CD.21A2D65F.BCF77D2A.IP)
[05:14:57] *** Quits: Tari (tari@moz-A009139E.net) (Ping timeout)
[05:15:15] <bollu> like, If I want an enum of 2 traits A and B, (with bounds) what do I do?
[05:15:31] <carllerche> In a macro, is there a way to stringify an arg?
[05:15:36] <bollu> like, If I want an enum of 2 traits A and B, (with bounds) what do I do?
[05:17:32] *** Quits: oxum (anonymous@C981DB9C.ECC58135.520CDC98.IP) (Quit: Bye..)
[05:17:42] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[05:17:44] *** Joins: oxum (anonymous@C981DB9C.ECC58135.520CDC98.IP)
[05:20:22] *** Quits: Earnestly (earnest@23825DB4.728D78D6.39C00A7A.IP) (Ping timeout)
[05:20:25] <ChrisMorgan> rusti: stringify!(hey carllerche, a token stream goes here (cool, huh!))
[05:20:26] -rusti- hey carllerche , a token stream goes here ( cool , huh ! )
[05:21:24] <ChrisMorgan> rusti: format!("{:?}", stringify!(let's see the representation instead))
[05:21:24] -rusti- "let 's see the representation instead"
[05:21:25] *** Quits: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com) (Ping timeout)
[05:21:34] <mcpherrin> rusti: let () = stringify!(potato pants 3)
[05:21:35] -rusti- <anon>:11:5: 11:6 error: expected `;` but found `}`
[05:21:35] -rusti- <anon>:11     };
[05:21:35] -rusti-               ^
[05:21:35] -rusti- application terminated with error code 101
[05:21:44] <mcpherrin> rusti: let () = stringify!(potato pants 3);
[05:21:45] -rusti- <anon>:10:13: 10:15 error: mismatched types: expected `&'static str` but found `()` (expected &'static str but found ())
[05:21:45] -rusti- <anon>:10         let () = stringify!(potato pants 3);
[05:21:46] -rusti-                       ^~
[05:21:46] -rusti- error: aborting due to previous error
[05:21:46] -rusti- application terminated with error code 101
[05:21:46] *** Quits: uzi_mantis (iz@moz-4379EE65.hsd1.va.comcast.net) (Quit: )
[05:22:07] *** Quits: alext (Adium@moz-C36E2841.albq.qwest.net) (Quit: Leaving.)
[05:23:01] <ChrisMorgan> carllerche: so stringify!($foo) will work fine
[05:24:57] *** Quits: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP) (Client exited)
[05:26:58] *** Quits: jdm (jdm@moz-AC9499B2.cable.teksavvy.com) (Ping timeout)
[05:27:57] *** Joins: eibwen (kvirc@moz-23942A6F.dip0.t-ipconnect.de)
[05:27:59] *** Joins: lpy (lpy@8B40CDAC.F09091A8.1348A864.IP)
[05:28:56] *** Quits: tedh (tedh@moz-F3B34318.hsd1.il.comcast.net) (Ping timeout)
[05:29:31] *** Joins: tedh (tedh@moz-F3B34318.hsd1.il.comcast.net)
[05:30:23] *** Joins: hjr3 (hradtke@moz-E952E90B.hsd1.or.comcast.net)
[05:30:50] *** Joins: a7n8 (Mibbit@moz-BB047FF.hsd1.wa.comcast.net)
[05:30:54] *** Quits: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[05:31:36] *** Joins: edwardw (edwardw@8229534F.B77F1D58.FAED9FFC.IP)
[05:31:43] <anomie> Where is LDFLAGS or it's equivalent set? Is there adequate documentation on how the build process works?
[05:32:15] <a7n8> hi guys, i used to have random number generation with rand::random(), but it looks like it is no longer available in std::rand. What it the alternative?
[05:32:18] *** Quits: bollu (bollu@31CCE710.7065DDB9.6D6A344F.IP) (Ping timeout)
[05:33:22] <zwarich> a7n8: it looks like it moved to being a top-level crate: http://static.rust-lang.org/doc/master/rand/index.html
[05:33:40] *** Joins: andor (andor@moz-708868D.neferty.me)
[05:34:58] <a7n8> ugh, should have looked at master version of the docs... thanks a lot zwarich
[05:35:33] *** Quits: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net) (Input/output error)
[05:35:55] <carllerche> ChrisMorgan: that is pretty nice
[05:36:17] <ChrisMorgan> carllerche: see, all you needed was to add ! to it :P
[05:36:23] <carllerche> indeed
[05:38:31] *** Quits: mib_mq7sps (Mibbit@AC75EC74.A410FA5.CC1A2609.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[05:39:16] *** Quits: pongad (pongad@moz-7E8AAD2E.res.gatech.edu) (Quit: Leaving)
[05:40:24] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[05:40:40] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[05:41:34] *** Joins: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP)
[05:43:49] *** Joins: aravindavk (aravinda@moz-BD0CADEE.redhat.com)
[05:43:52] *** Quits: andrewd18 (andrew@moz-DAC9D29F.wi.res.rr.com) (Quit: Leaving.)
[05:44:04] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[05:44:26] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[05:46:10] *** Quits: richo (richo@moz-BE62344B.corp.mel.iprimus.net.au) (Ping timeout)
[05:47:07] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[05:47:25] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[05:48:39] *** Joins: ipetkov (ipetkov@33AEE1AA.A1C436AB.CE6682EF.IP)
[05:49:19] <carllerche> ChrisMorgan: Is there a way to take a macro ident arg and modify it (for example, append something)
[05:49:39] *** Quits: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net) (Connection reset by peer)
[05:50:10] *** Joins: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net)
[05:50:43] <ChrisMorgan> carllerche: yes, but it's fairly useless
[05:50:53] <carllerche> that doesn't sound promising :)
[05:51:06] *** Quits: maxli (Adium@moz-EE42E0E.student.cs.uwaterloo.ca) (Quit: Leaving.)
[05:51:09] <ChrisMorgan> rusti: concat_idents!(foo, _bar)
[05:51:10] -rusti- <anon>:10:9: 11:6 error: unresolved name `foo_bar`.
[05:51:10] -rusti- <anon>:10         concat_idents!(foo, _bar)
[05:51:10] -rusti- <anon>:11     };
[05:51:10] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[05:51:10] -rusti- error: aborting due to previous error
[05:51:10] -rusti- application terminated with error code 101
[05:51:34] <carllerche> why is it useless?
[05:51:43] <ChrisMorgan> Well, where were you wanting to use it?
[05:51:53] <carllerche> to define a fn
[05:52:10] <ChrisMorgan> rusti: fn concat_idents!(foo, _bar)(){}
[05:52:10] -rusti- <anon>:10:25: 10:26 error: expected `(` but found `!`
[05:52:11] -rusti- <anon>:10         fn concat_idents!(foo, _bar)(){}
[05:52:11] -rusti-                                   ^
[05:52:11] -rusti- application terminated with error code 101
[05:52:24] <carllerche> heh, i guess it doesn't work yet :P
[05:52:27] <ChrisMorgan> Sorry, it wants an ident there, not a macro call.
[05:52:41] <carllerche> i found an open issue for it
[05:52:52] <ChrisMorgan> The way around it is to structure it so that it's a macro variable expansion, fn $foo
[05:53:04] <ChrisMorgan> Because that *does* work.
[05:53:44] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[05:54:02] *** Quits: huon (Thunderbir@8750FD8F.D5A1DCF.37681C44.IP) (Ping timeout)
[05:54:06] *** Joins: benjamin_ (benjamin@moz-F6125F64.dip0.t-ipconnect.de)
[05:54:13] *** Quits: glandium (glandium@moz-A09032B1.kimsufi.com) (Ping timeout)
[05:54:37] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[05:56:22] *** Quits: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP) (Client exited)
[05:56:25] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[05:57:09] *** Quits: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp) (Quit: Bye)
[05:57:29] *** Joins: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP)
[05:58:10] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[05:58:30] <diodesign> can anyone recommend a good guide to using "use" and "crate"? I'm just bewildered by them
[05:58:38] <diodesign> thanks.
[05:58:57] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[05:59:13] <mcpherrin> "use" just lets you type shorter
[05:59:43] <diodesign> how does it work? 
[06:00:04] <diodesign> I mean, I get the theory. but where is it looking for the files? where does it expect the stuff to be?
[06:00:41] *** Quits: luisbg (luisbg@moz-C54443AD.baconseed.org) (Ping timeout)
[06:00:44] <mcpherrin> use isn't looking at any files
[06:00:58] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[06:01:48] *** Quits: KokaKiwi (kokakiwi@moz-D674DAC6.kokakiwi.net) (Ping timeout)
[06:01:51] <mcpherrin> the rust tutorial has a section on the module system, I assume you've read it?
[06:02:13] *** Quits: ipetkov (ipetkov@33AEE1AA.A1C436AB.CE6682EF.IP) (Quit: ipetkov)
[06:02:22] <mcpherrin> typing, eg, "use foo::bar" lets you type just bar instead of foo::bar
[06:02:25] <mcpherrin> that's all it does
[06:02:35] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[06:02:52] *** Quits: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP) (Client exited)
[06:03:11] *** Joins: enix_ (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[06:03:18] <mcpherrin> "extern crate cccc" looks for a binary crate called cccc
[06:03:38] <mcpherrin> something you've compiled before with rustc -lib 
[06:03:38] <diodesign> yeah, I had to run strace to find out where it was looking
[06:04:16] *** Joins: glandium (glandium@moz-A09032B1.kimsufi.com)
[06:04:29] *** Joins: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP)
[06:04:30] <mcpherrin> you can use -L to tell it to look somewhere specific, commonly -L.
[06:05:00] *** Quits: hjr3 (hradtke@moz-E952E90B.hsd1.or.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[06:05:26] *** Quits: not_gavin (gavin@gavinsharp.com) (Input/output error)
[06:05:27] *** Quits: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net) (Ping timeout)
[06:05:42] *** Joins: not_gavin (gavin@gavinsharp.com)
[06:05:47] <mcpherrin> all of this covered in http://static.rust-lang.org/doc/master/tutorial.html#crates-and-the-module-system
[06:05:57] *** Joins: skade (skade@moz-1EC0F118.pools.arcor-ip.net)
[06:06:15] <diodesign> yeah I'm just looking over that again
[06:06:28] *** Quits: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP) (Client exited)
[06:06:46] *** Joins: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net)
[06:06:49] <diodesign> I'm just struggling to make the leap from examples to actual working things
[06:07:34] *** Quits: Manishearth (manisheart@moz-F9058B8A.net) (Ping timeout)
[06:07:41] <mcpherrin> it's a little unusual; not too many other compiled languages have proper module systems
[06:07:49] *** Joins: nlminhtl (ignotus@moz-393BCEC.la.net.ua)
[06:08:14] *** Quits: benbangert (bbangert@moz-B1FEE9C0.org) (Ping timeout)
[06:08:15] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[06:08:38] *** Joins: eddyb (eddy@F8B50789.F33C1089.FB866788.IP)
[06:09:38] *** Quits: glandium (glandium@moz-A09032B1.kimsufi.com) (Ping timeout)
[06:09:53] <diodesign> maybe it's just htis library/. has anyone used rust-core?
[06:10:01] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[06:10:08] *** Joins: glandium (glandium@moz-A09032B1.kimsufi.com)
[06:10:21] <diodesign> great typing. maybe it's just this particular library, even
[06:10:32] *** Joins: luisbg (luisbg@moz-C54443AD.baconseed.org)
[06:10:43] <mcpherrin> diodesign: you're trying to use rust-core?
[06:11:10] *** Joins: hjr3 (hradtke@moz-E952E90B.hsd1.or.comcast.net)
[06:11:18] <eddyb> : || -> ! = || { // LOL
[06:11:57] *** Quits: james4k (james@moz-9BB5AE72.consolidated.net) (Ping timeout)
[06:12:02] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[06:12:14] <diodesign> mcpherrin: yup
[06:12:40] <mcpherrin> hmm, strcat doesn't seem to be here, and he's the expert as it's his :)
[06:13:20] <mcpherrin> iirc it's a bit unusual
[06:13:33] <mcpherrin> I guess you're writing an operating system from scratch then?
[06:13:39] <diodesign> I know it can be frustrating or irritating if a newb, like me, shows up and says "none of this works". so I had hoped to find a gentle tutorial to using crates and libraries
[06:13:46] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[06:14:21] <diodesign> I like doing low level programming, yeah. playing around with bare metal rust. I'd ideally like to not write /everything/ from scratch
[06:14:34] <Havvy> A crates and modules guide outside of the tutorial would not be amiss.
[06:14:42] *** Quits: kaeso (kaeso@moz-F21FF626.unstable.it) (Ping timeout)
[06:14:45] <mcpherrin> diodesign: how are you using it now?
[06:15:02] <diodesign> mcpherrin: I'm simply following the instructions to build example.rrs
[06:15:06] <diodesign> example.rs, even
[06:15:22] <diodesign> and it complains: failed to resolve import `core::vec::Vec`
[06:15:57] *** Quits: jxv (jxv@moz-D1F0EBC3.socal.res.rr.com) (Ping timeout)
[06:16:01] <diodesign> this is after I had to create ./lib/x86_64-unknown-linux-gnu/ to store the libcore-caef0f5f-0.0.rlib in (which worries me that I'm doing something really wrong)
[06:16:02] *** Joins: Manishearth (manisheart@moz-F9058B8A.net)
[06:16:27] <eddyb> diodesign: -L .
[06:16:31] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[06:16:39] <diodesign> because that's where rustc was looking for it. otherwise I get: can't find crate for `core`
[06:16:40] *** Joins: TheHydroImpulse_ (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[06:16:41] <eddyb> diodesign: to make rustc look in the same directory
[06:16:53] *** Quits: TheHydroImpulse_ (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Quit: TheHydroImpulse_)
[06:17:09] *** Joins: james4k (james@moz-9BB5AE72.consolidated.net)
[06:17:52] *** Joins: benbangert (bbangert@moz-B1FEE9C0.org)
[06:18:03] <diodesign> eddyb: ah great, duh. forgot about -L. I used it for something else last week
[06:18:06] <diodesign> thanks
[06:19:08] *** Joins: kaeso (kaeso@moz-F21FF626.unstable.it)
[06:19:13] <diodesign> the code is here https://github.com/thestinger/rust-core/ is anyone wants to give it a shot
[06:19:19] <diodesign> s/is/if/
[06:20:11] *** Joins: jxv (jxv@moz-D1F0EBC3.socal.res.rr.com)
[06:20:55] <mcpherrin> hopefully we can get the standard library working freestanding soonish
[06:21:03] *** Quits: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net) (Ping timeout)
[06:21:04] <diodesign> Havvy: I'm glad i'm not the only one
[06:21:05] <mcpherrin> and rust-core won't be needed anymore
[06:21:23] <eddyb> pretty much as soon as Tobba writes that weak items RFC :P
[06:21:56] *** Quits: glandium (glandium@moz-A09032B1.kimsufi.com) (Ping timeout)
[06:22:45] *** Joins: wyager (williamyag@moz-B550ECB5.public.utexas.edu)
[06:22:48] *** Quits: ChrisMorgan (chris@moz-8DCBEA52.vic.adsl.internode.on.net) (Ping timeout)
[06:22:48] *** Quits: Manishearth (manisheart@moz-F9058B8A.net) (Ping timeout)
[06:22:49] <anomie> Umm... I'm starting to think rust depends exclusively on glibc. Is that the case?
[06:23:07] *** Joins: Manishearth (manisheart@moz-F9058B8A.net)
[06:23:13] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[06:23:14] <eddyb> anomie: pretty much. what else would it need?
[06:23:23] *** Joins: glandium (glandium@moz-A09032B1.kimsufi.com)
[06:23:38] <mcpherrin> anomie: our libc support is unfortunately pretty hardcoded right now
[06:23:46] <mcpherrin> switching them out doesn't work well
[06:23:56] <eddyb> anomie: some of us are toying with the idea of having a set of libraries in the standard distribution that don't depend on libc at all
[06:24:40] <mcpherrin> being able to parse headers with libclang would improve that situation, I think
[06:25:03] <anomie> eddyb, some platforms might have an indepent, standards-compliant libc more readily available than glibc.
[06:25:16] *** Quits: derek_c (derek@moz-E25AC88D.cit.cornell.edu) (Ping timeout)
[06:25:16] <eddyb> anomie: ah, that's what you meant
[06:25:31] <eddyb> anomie: it's just libc, you can probably use a dozen of them instead of glibc
[06:25:47] <mcpherrin> libc impls aren't ABI compatible
[06:25:50] <eddyb> I don't think we need any glibc-specific functionality
[06:25:58] <eddyb> mcpherrin: how so?
[06:26:24] <mcpherrin> I think there's a bunch of leeway w.r.t the sizes of types and things?
[06:26:24] <eddyb> we're not using glibc on windows or mac :P
[06:26:28] <TheHydroImpulse> would https://github.com/mozilla/rust/issues/8824 be in cards in the future? (It would probably require to be passed through the new RFC process though)
[06:26:32] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[06:26:52] *** Quits: Manishearth (manisheart@moz-F9058B8A.net) (Ping timeout)
[06:27:17] <anomie> eddyb, I dunno. I tried using musl instead, and I got relocation errors. It suggested ``recompile with -fPIC'', but there is not good documentation on how to modify the build process here.
[06:27:27] *** Quits: heftig (heftig@moz-1DC05943.dip0.t-ipconnect.de) (Quit: Quitting)
[06:27:31] <TheHydroImpulse> in the cards*
[06:27:33] *** Joins: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com)
[06:28:23] <eddyb> mcpherrin: I'd rather have syscalls in std::os than use libc headers
[06:28:36] <eddyb> mcpherrin: clang would be using for interfacing with LLVM directly
[06:28:42] <eddyb> s/using/useful
[06:28:42] <wyager> Can Rust be compiled to any platform that has an LLVM backend? I’m not exactly sure what’s required for a platform to be supported
[06:28:53] <eddyb> wyager: architecture, yes
[06:28:55] *** Joins: NiccosSystem (NiccosSyst@moz-ED196BB4.customer.lyse.net)
[06:29:14] <eddyb> wyager: platform, it's more complicated, if you want the standard distribution of libraries
[06:29:18] <anomie> wyager, Must also have a glibc-compliant libc though, apparently.
[06:29:30] <mcpherrin> eddyb: eh, I got the vibe from a bunch of people they didn't want to rewrite libc
[06:29:33] <wyager> If I turned off dynamic allocation and stuff, I wouldn’t need libc, right?
[06:29:38] <eddyb> mcpherrin: you don't need to
[06:29:50] <eddyb> mcpherrin: I mean, we barely use libc at all
[06:29:59] <eddyb> mcpherrin: heap + syscalls IIRC
[06:30:10] <eddyb> anomie: I doubt OSX or windows have glibc-compliant libc's
[06:30:23] *** Joins: daschl (Adium@moz-4F2D89D8.public.t-mobile.at)
[06:30:35] <eddyb> anomie: have you actually linked against musl? don't expect binaries linked against glibc to work with musl
[06:30:55] <eddyb> wyager: what architecture/platform?
[06:31:01] <wyager> avr
[06:31:10] *** Joins: glandium` (glandium@moz-40F0B000.aichi.ocn.ne.jp)
[06:31:12] <wyager> Or any similar resource-constrained uc
[06:31:14] <eddyb> wyager: have you actually got a working LLVM backend?
[06:31:16] <mcpherrin> I hear from LLVM folks that the avr backend for LLVM is pretty sketchy
[06:31:25] <wyager> eddyb: No :p But it’s in progress
[06:31:28] *** Joins: KokaKiwi (kokakiwi@moz-D674DAC6.kokakiwi.net)
[06:31:37] <mcpherrin> Or maybe that was msp430
[06:31:48] <wyager> mcpherrin: I think both are pretty sketchy atm
[06:31:59] <eddyb> wyager: if you can get it merged into upstream, we would be most grateful
[06:32:01] <anomie> How do I change the gcc and linker flags? Maybe I can get this to work.
[06:32:24] <wyager> eddyb: I’m not significantly involved. I was just reminded of it from a dev mailing list
[06:32:28] <eddyb> aww
[06:32:32] *** Quits: glandium (glandium@moz-A09032B1.kimsufi.com) (Ping timeout)
[06:32:35] *** Quits: glandium` (glandium@moz-40F0B000.aichi.ocn.ne.jp) (Quit: Coyote finally caught me)
[06:32:51] <eddyb> wyager: last I checked it hasn't been touched in a couple years
[06:32:56] <wyager> eddyb: Shame
[06:33:06] <eddyb> that's why I was asking
[06:33:15] <anomie> Actually, would it be reasonable to use an actual build system, instead of our shell scripted one? Or to at least make good documentation for the current one?
[06:33:29] *** Joins: glandium (glandium@moz-40F0B000.aichi.ocn.ne.jp)
[06:33:42] <wyager> eddyb: Imagine if you could target AVRs and MSP430s with languages like Haskell as well :D
[06:33:43] <anomie> I have no clue where to look for certain things, other than config.mk and the mk/ folder.
[06:33:49] <wyager> Just fudge together a very primitive scheduling and allocation system
[06:33:57] <eddyb> wyager: haskell on uC is highly unlikely
[06:34:00] <wyager> Of course
[06:34:04] <eddyb> you need a GC
[06:34:06] <wyager> And probably not too useful
[06:34:15] <eddyb> Rust, on the other hand :)
[06:34:17] <phil> am i correct in my understanding that the members of a struct inherit the mutability of whatever variable of that type is?
[06:34:24] <wyager> You’d run into a lot of memory contraints, but it would be super cool
[06:34:30] <mcpherrin> phil: basically, yes
[06:34:31] <eddyb> phil: pretty much
[06:34:43] <wyager> eddyb: Of course. That’s the actual use of an llvm AVR backend
[06:34:45] <phil> hmm
[06:34:54] <wyager> I’m tired of C/C++
[06:35:01] <eddyb> anomie: looking for them. you can check yourself with rustc -C help and rustc -Z help
[06:35:31] <eddyb> anomie: yeah, -C help shows you a bunch of linker-related options
[06:36:23] <anomie> eddyb, Sure, but where should I change them?
[06:36:51] <eddyb> anomie: well, there's RUSTFLAGS="..." to make
[06:36:58] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Ping timeout)
[06:37:04] <eddyb> there might be a configure option as well, let's see
[06:37:28] *** Joins: Manishearth (manisheart@moz-F9058B8A.net)
[06:37:35] <anomie> You'd think so, but...
[06:37:37] <eddyb> anomie: sorry, doesn't look like it
[06:38:10] <eddyb> anomie: what I don't understand is, what binary compiled where and linked against what libc, doesn't work with musl?
[06:38:23] *** Joins: claudiu (claudiu@2FC3D28B.B32A335E.639333AD.IP)
[06:38:28] <anomie> eddyb, Shall I paste the log?
[06:38:45] <eddyb> anomie: maybe, but I wanted more of a confession :P
[06:38:46] <anomie> I'm annoyed, cause I still don't know if it's my fault or not. 
[06:39:05] *** Quits: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com) (Ping timeout)
[06:39:10] <eddyb> like "I took linux snapshot and ran it on OpenBSD with system libc being musl"
[06:39:22] <anomie> lolnope
[06:39:34] <eddyb> you'd be surprised to hear that there's only like 3 issues with that
[06:39:42] *** Joins: claudiu_ (claudiu@CB447DD5.6B10AC3.E2F59BBC.IP)
[06:39:50] <phil> sorry guys another quick question
[06:39:56] <eddyb> and you can fiddle with linking and make it run (but it could very well crash)
[06:40:01] <phil> ive got a struct with some members
[06:40:11] <phil> i create a variable of that type
[06:40:14] <phil> and make it mutable
[06:40:20] *** Quits: lpy (lpy@8B40CDAC.F09091A8.1348A864.IP) (Ping timeout)
[06:40:31] <phil> for some odd reason i can change its members in the same function where i declared the variable
[06:40:31] *** Quits: claudiu (claudiu@2FC3D28B.B32A335E.639333AD.IP) (Ping timeout)
[06:40:33] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[06:40:40] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[06:40:48] <phil> but not in functions that i implement for that struct
[06:40:58] *** Joins: nfroidure (nfroidure@moz-6388B286.w90-34.abo.wanadoo.fr)
[06:41:05] <eddyb> phil: &self vs &mut self, I suspect
[06:41:07] <sfackler> phil: do the functions take &mut self?
[06:41:11] <phil> OH
[06:41:17] <anomie> eddyb, Wait a sec, I'm compiling again in case it just magically starts working, which I find equally annoying.
[06:41:26] <phil> thanks
[06:41:32] <phil> boy do i feel silly
[06:41:33] *** Joins: ofeldt- (ofeldt@moz-DB59AC64.dip0.t-ipconnect.de)
[06:42:02] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[06:42:03] *** Joins: lpy (lpy@186A8F3A.F09091A8.1348A864.IP)
[06:42:19] <eddyb> phil: and slightly wiser ;)
[06:42:21] *** Quits: Manishearth (manisheart@moz-F9058B8A.net) (Ping timeout)
[06:42:32] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[06:42:48] *** Quits: ofeldt (ofeldt@moz-9B12F76D.dip0.t-ipconnect.de) (Ping timeout)
[06:43:01] <phil> yes!
[06:43:02] <phil> thank you
[06:43:35] *** Quits: jxv (jxv@moz-D1F0EBC3.socal.res.rr.com) (Client exited)
[06:43:47] *** Quits: darkf (darkf@moz-F9058B8A.net) (Ping timeout)
[06:44:47] *** Quits: cremes (cremes@moz-72B945E0.hsd1.il.comcast.net) (Ping timeout)
[06:44:59] *** Quits: Houm (Houm@moz-25669AA8.fbx.proxad.net) (Ping timeout)
[06:45:40] *** Joins: Manishearth (manisheart@moz-F9058B8A.net)
[06:46:30] *** Quits: claudiu_ (claudiu@CB447DD5.6B10AC3.E2F59BBC.IP) (Input/output error)
[06:47:19] *** Quits: jeaye (jeaye@moz-34FEF2BB.hsd1.ca.comcast.net) (Quit: zzz)
[06:48:12] *** Quits: tupshin (quassel@moz-E7B03838.c3-0.nyr-ubr1.nyr.ny.cable.rcn.com) (Ping timeout)
[06:48:47] <anomie> So, apparently it's working now and I have no idea why. God dammit!
[06:49:16] <eddyb> anomie: gg
[06:50:33] *** Joins: derek_c (derek@moz-A43430DA.cit.cornell.edu)
[06:50:50] <carllerche> I'm trying to take ~MyStruct (implements MyTrait and pass it to a fn that takes &mut MyTrait, is this possible? (https://github.com/carllerche/rust-http-client/blob/wip/src/rs/http-client/conn.rs#L65)
[06:51:45] *** Joins: squiggy (Mibbit@AC75EC74.A410FA5.CC1A2609.IP)
[06:51:53] <diodesign> this is amusing. so if I build rust-core with --cfg libc then building the example code which uses core::vec::Vec; works. if I try to build a freestanding rust-core with norustc --cfg libc, the example.rs that uses the rust-boot crate can't resolve core::vec::Vec;
[06:51:57] <eddyb> carllerche: &mut *handler is enough
[06:52:09] <eddyb> carllerche: actually, what you're doing won't work
[06:52:14] <carllerche> why not?
[06:52:21] <eddyb> carllerche: the handler has to be outside of the function
[06:52:29] *** Joins: tupshin (quassel@moz-E7B03838.c3-0.nyr-ubr1.nyr.ny.cable.rcn.com)
[06:52:40] <carllerche> because it gets moved?
[06:52:41] <eddyb> carllerche: you're returning something with lifetime 's. that's the lifetime of handler
[06:52:52] <eddyb> carllerche: it *doesn't* get moved with &mut
[06:53:00] <eddyb> you're borrowing the current stack then returning it
[06:53:21] <eddyb> i.e. fn foo<'a>() -> &'a mut int {&mut 0}
[06:53:24] *** Quits: skade (skade@moz-1EC0F118.pools.arcor-ip.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[06:54:02] <carllerche> yeah, I get it (more or less) not sure how to get what I'm trying to do working :)
[06:54:14] <anomie> Oh, that's why it's working. I changed CFG_GCC instead of CFG_C_COMPILER. Should that have the desired effect?
[06:54:20] <eddyb> carllerche: take a &mut Handler as an argument
[06:54:51] <eddyb> anomie: are you using a different gcc than the default?
[06:54:57] <carllerche> but Conn requires ownership of the handler
[06:55:04] <eddyb> carllerche: no it doesn't
[06:55:12] <eddyb> carllerche: it takes &mut
[06:55:24] <eddyb> &mut doesn't imply ownership
[06:55:28] <carllerche> it takes &mut of HttpParser
[06:55:40] *** Quits: squiggy (Mibbit@AC75EC74.A410FA5.CC1A2609.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[06:55:43] *** Joins: huon (Thunderbir@moz-7CC720CF.lns20.syd7.internode.on.net)
[06:55:43] *** ChanServ sets mode: +o huon
[06:55:51] <carllerche> HttpParser::new takes &mut Handler (well, a trait)
[06:55:56] <eddyb> it implies non-aliased mutable access
[06:56:02] <eddyb> carllerche: that's not ownership ;)
[06:56:02] *** Quits: benbangert (bbangert@moz-B1FEE9C0.org) (Ping timeout)
[06:56:03] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[06:56:08] *** Joins: ipetkov (ipetkov@33AEE1AA.A1C436AB.CE6682EF.IP)
[06:56:10] <carllerche> I'm trying to base the lifetime on the Conn instance
[06:56:16] *** Joins: benbangert (bbangert@moz-B1FEE9C0.org)
[06:56:24] *** Joins: skade (skade@moz-1EC0F118.pools.arcor-ip.net)
[06:56:28] <eddyb> pub fn new(handler: &'s mut Handler, stream: T) -> Conn<'s, T>
[06:56:31] *** Quits: hjr3 (hradtke@moz-E952E90B.hsd1.or.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[06:56:48] <carllerche> what is 's going to be?
[06:57:00] <sfackler> the lifetime of the handler you pass in
[06:57:10] <eddyb> and that's what Conn tracks
[06:57:15] <seanmonstar> you can do that? have an owned pointer to handler, and borrow it at the same time in the parser?
[06:57:19] <anomie> eddyb, Yes, I am.
[06:57:35] <eddyb> anomie: setting CC might work
[06:57:47] <carllerche> I mean, I know it's the lifetime of the handler, but I have to keep the handler somewhere now :P
[06:57:50] *** Quits: a7n8 (Mibbit@moz-BB047FF.hsd1.wa.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[06:57:52] <eddyb> seanmonstar: as long as you don't touch the owned pointer
[06:57:58] <eddyb> carllerche: outside of the Conn::new function
[06:58:13] *** Quits: KokaKiwi (kokakiwi@moz-D674DAC6.kokakiwi.net) (Ping timeout)
[06:58:18] *** Quits: luisbg (luisbg@moz-C54443AD.baconseed.org) (Ping timeout)
[06:58:31] <seanmonstar> eddyb: line 64 doesn't move it to the Conn struct?
[06:58:31] <carllerche> heh, i guess I could spawn all of this on a task and then store it all on the stack
[06:58:31] <anomie> eddyb, That's the first thing I tried.
[06:58:34] *** Quits: wyager (williamyag@moz-B550ECB5.public.utexas.edu) (Quit: wyager)
[06:59:02] <eddyb> seanmonstar: nope. that code is flawed
[06:59:36] <anomie> Does the rust build system include /usr/local, instead of letting the compiler figure out where libc is? That should be considered a bug.
[06:59:49] <anomie> (an easily fixed one though)
[06:59:54] *** Joins: Ferreus_ (ferreus@moz-E2310A45.dip0.t-ipconnect.de)
[06:59:54] <eddyb> anomie: it pretty much uses system stuff AFAIK
[07:00:18] <eddyb> anomie: so if your system defaults are not what you want, you will have to jump though hoops
[07:00:18] <carllerche> eddyb: So, I only introduced Conn as a way to keep Handler and HttpParser together and be able to pass both together to a task
[07:00:35] <eddyb> carllerche: tough luck, HttpParser is not Send
[07:00:38] <carllerche> ha
[07:00:38] <huon> get on it people: https://trac.torproject.org/projects/tor/ticket/11331
[07:00:45] <carllerche> i haven't gotten that far yet :P
[07:00:58] <eddyb> carllerche: you can't send borrowed pointers
[07:01:35] <edwardw> huon: what!
[07:02:07] <eddyb> seanmonstar: if you're fiddling with a similar thing as carllerche, just know that it needs some redesign. if not, don't take that code as a demonstration of a feature you haven't seen because it's not :P
[07:02:12] <edwardw> Milestone: very long term LOL
[07:02:20] <mcpherrin> huon: hmmmmmm
[07:02:31] <seanmonstar> eddyb: no, im not. just trying to understand more and more
[07:03:10] <eddyb> carllerche: you can send the handler to the appropriate task and construct the parser there
[07:03:30] <eddyb> or you can just have the handler on the stack, no ~
[07:03:59] <carllerche> ok
[07:04:13] <carllerche> maybe that's ok...
[07:04:29] <eddyb> carllerche: what is this for, if I may ask :)?
[07:04:29] <carllerche> unsure what I am trying to do, this is my "write an http client in a new language" exercise :P
[07:04:39] <carllerche> eddyb: practice
[07:04:39] *** Joins: luisbg (luisbg@moz-C54443AD.baconseed.org)
[07:04:44] *** Quits: pepijndevos (pepijndevo@9EACEF43.E50A3180.BCE47D84.IP) (Ping timeout)
[07:04:51] <carllerche> trying to build an http-client
[07:05:07] <carllerche> binding to joyent's http-parser lib
[07:05:34] <eddyb> wait, why are you doing that?
[07:05:46] <carllerche> why not?
[07:06:14] <Yurume> carllerche: hmm, is it a parser only or a client with a parser?
[07:06:36] <anomie> eddyb, so it looks like the only reasonable thing to do would be to change the default libc on my system, but that wouldn't wouldn't be reasonable at all! Most everything would break!
[07:06:37] <Yurume> the client without a parser is already provided by rust-http project, which is why eddyb asks you for the reason.
[07:06:41] *** Quits: skade (skade@moz-1EC0F118.pools.arcor-ip.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[07:06:44] <carllerche> Yurume: the lib is simply a parser, pass it a pointer & len and it calls C fns
[07:06:52] <eddyb> carllerche: mostly because we consider a purer solution like https://github.com/chris-morgan/rust-http superior :P
[07:06:57] <eddyb> oh Yurume ninja'd me
[07:07:01] <carllerche> yeah, I am aware of rust-http, this is entirely for learning
[07:07:06] <Yurume> carllerche: heh, then I think you'd better rename it to rust-http-parser or similar :p
[07:07:09] <eddyb> okay, have fun :)
[07:07:29] <Yurume> eddyb: I like ninja (ninjaing? is it a verb?)
[07:07:43] *** Joins: intuxicated (intuxicate@3AEA5E5.FBDFAF77.BD3E1BB3.IP)
[07:07:50] <carllerche> an http client seems like a serious enough thing to hit real issues :P
[07:08:41] <Yurume> the client without a parser -> the client for HTTP*
[07:08:48] *** Joins: eholk (eholk@9F0E3073.6A9D8DF7.8FE2F0CE.IP)
[07:08:52] <Yurume> (I thought that was an HTML parser. :p)
[07:09:37] *** Joins: bollu (bollu@31CCE710.7065DDB9.6D6A344F.IP)
[07:09:53] <bollu> Question - how do I store multiple bounded traits in an enum?
[07:10:16] *** Joins: soumyaC (uid15286@moz-E77DEB21.irccloud.com)
[07:10:27] <carllerche> Yurume: nah, just a parser for the HTTP proto
[07:11:12] *** Joins: derek_ (derek@moz-A43430DA.cit.cornell.edu)
[07:11:33] <seanmonstar> bollu: `enum Foo<A, B> { Bar(A, B) }` ?
[07:12:08] *** Joins: Jesse_ (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[07:12:11] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Connection reset by peer)
[07:12:35] <derek_> there is no way to use C++ libraries directly in Rust right now?
[07:12:37] <bollu> seanmonstar: ah, yes. thanks a bunch
[07:12:47] <eddyb> derek_: not really
[07:12:49] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[07:13:09] *** Quits: carllerche (carllerche@moz-CA3FF5F1.hsd1.or.comcast.net) (Quit: carllerche)
[07:13:21] <bollu> seanmonstar: ah, yes. thanks a bunch
[07:13:22] *** Quits: derek_ (derek@moz-A43430DA.cit.cornell.edu) (Quit: Leaving)
[07:13:27] <derek_c> eddyb: kk thanks
[07:14:30] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[07:19:14] *** Joins: bourbaki (luesebrink@moz-8D2EEA33.dip0.t-ipconnect.de)
[07:19:18] <bourbaki> Greetings
[07:19:44] <bourbaki> There is no contravariance of functions?
[07:20:17] <eddyb> "functions"?
[07:20:31] <eddyb> bourbaki: you mean the fn types? (function pointers)
[07:20:33] <bourbaki> Maybe it is easier if i just state what i am trying to do.
[07:20:51] <bourbaki> I have a struct and have two functions foo.
[07:21:08] <bourbaki> Both get passed the same parameters but the last one is different.
[07:21:11] *** Joins: ahunt (ahunt@moz-5E5AB5C8.range86-145.btcentralplus.com)
[07:21:16] <bourbaki> The last one happens to be a "tag"
[07:21:30] <bourbaki> It is an empty struct that i use to descern the functions.
[07:21:45] <eddyb> how can you have two functions foo?
[07:21:50] <eddyb> Rust doesn't have overloading
[07:21:55] <bourbaki> Ah ok
[07:22:08] <bourbaki> Can i maybe achive this with generics and phantom types?
[07:22:22] <bourbaki> I want to prevent cluttering functions with switches and the lot.
[07:22:25] *** Quits: anomie (anomie@moz-3213C615.wavecable.com) (Ping timeout)
[07:22:31] <bollu> how do I do something like this - impl Trait2 for all objects having Trait1 {...}
[07:22:44] <bourbaki> Plus in C++ this is a nice thing cause its along the lines of the open closed principle
[07:22:45] <eddyb> bollu: impl<T: Trait1> Trait2 for T
[07:22:59] <bollu> eddyb: /nice/. 
[07:22:59] <eddyb> bourbaki: you can name the functions differently
[07:23:20] <eddyb> bourbaki: or you can direct to a trait (implementations are kind of overloads)
[07:23:24] <bourbaki> Yeah sure i can always do that, but will this not end in strange names?
[07:23:25] <eddyb> s/direct/defer/
[07:23:52] <eddyb> we don't usually name unit structs "phantom types"
[07:23:58] <eddyb> and they're widely used
[07:24:05] <bourbaki> Ok
[07:24:25] <eddyb> C/C++ don't even allow 0-sized structs, do they?
[07:24:35] <bourbaki> Not that i am aware of.
[07:24:43] <bourbaki> What i often to in C++ is that tagging trick.
[07:24:48] <eddyb> embrace the emptiness
[07:25:00] <eddyb> #rust-zen
[07:25:01] <bourbaki> The structs get optimized away by the compiler in the end.
[07:25:05] <bourbaki> :)
[07:25:24] <bollu> eddyb: which other language has a feature like that? (the generic trait implementation thing)
[07:25:25] <bourbaki> rust-zen is for esoteric ideas?
[07:25:44] <eddyb> bollu: any language with type classes
[07:25:53] <eddyb> (I would think)
[07:26:14] <eddyb> you're severely limited in parametric polymorphism if you can't do that
[07:26:22] <bollu> eddyb: hm. do ruby's mixins count as type classes? 
[07:26:26] <eddyb> no
[07:26:39] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[07:26:40] *** Joins: alkino (alkino@moz-AAF51602.w92-151.abo.wanadoo.fr)
[07:26:44] <bollu> eddyb: why not 
[07:26:44] <bollu> ?
[07:26:47] <eddyb> mixins might look like traits, might be usable as traits, they are not traits
[07:26:52] <eddyb> bollu: because Ruby isn't typed
[07:27:01] <eddyb> or at least not statically so
[07:27:10] <eddyb> how can you have type classes when you don't have type annotations?
[07:27:23] <eddyb> and no static types at all?
[07:27:46] *** Joins: KokaKiwi (kokakiwi@moz-D674DAC6.kokakiwi.net)
[07:28:21] <eddyb> there is like 0 relation between Ruby and Rust, sorry
[07:28:47] *** Quits: bollu (bollu@31CCE710.7065DDB9.6D6A344F.IP) (Ping timeout)
[07:28:55] <eddyb> hah he left
[07:28:57] *** Joins: WalrusPony1 (retep998@moz-9F58AA44.bstnma.east.verizon.net)
[07:29:08] *** Quits: WalrusPony (retep998@moz-9F58AA44.bstnma.east.verizon.net) (Ping timeout)
[07:32:16] *** Quits: avsej (avsej@D9A610B8.4841F515.FB33447D.IP) (Client exited)
[07:33:03] *** Joins: cremes (cremes@moz-79335496.hsd1.il.comcast.net)
[07:36:01] *** Quits: derek_c (derek@moz-A43430DA.cit.cornell.edu) (Ping timeout)
[07:38:47] <generalelectrix> Is there a simple way to have comparsion operators (> , < , <=, etc.) work on simple enum variants?
[07:39:17] *** Quits: mno2 (mno2@E1E0A0A3.621D86F0.CFF65E33.IP) (Quit: mno2)
[07:39:29] *** Quits: nomme (nomme@moz-272A4570.na.cust.bahnhof.se) (Connection reset by peer)
[07:40:07] *** Joins: anomie (anomie@moz-3213C615.wavecable.com)
[07:40:36] <huon> generalelectrix: #[deriving(Eq, Ord)] enum Foo { A, B, C }
[07:41:13] <huon> rusti:  #[deriving(Eq, Ord)] enum Foo { A, B, C } (A < B, B == B, B >= C)
[07:41:14] -rusti- (true, true, false)
[07:41:55] *** Quits: Manishearth (manisheart@moz-F9058B8A.net) (Ping timeout)
[07:44:04] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[07:44:04] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[07:44:05] *** Joins: smerft (Mibbit@AC75EC74.A410FA5.CC1A2609.IP)
[07:44:10] *** Joins: mno2 (mno2@E1E0A0A3.621D86F0.CFF65E33.IP)
[07:44:30] *** Quits: ipetkov (ipetkov@33AEE1AA.A1C436AB.CE6682EF.IP) (Quit: ipetkov)
[07:44:35] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[07:45:16] *** Joins: maattdd (matthieu@moz-71F66BC0.w82-123.abo.wanadoo.fr)
[07:45:21] *** Joins: Manishearth (manisheart@moz-F9058B8A.net)
[07:45:34] <generalelectrix> thanks!
[07:45:40] *** Quits: oxum (anonymous@C981DB9C.ECC58135.520CDC98.IP) (Quit: ...)
[07:45:49] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[07:46:19] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[07:46:25] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[07:46:26] *** Quits: KokaKiwi (kokakiwi@moz-D674DAC6.kokakiwi.net) (Ping timeout)
[07:46:28] *** Joins: fabiand (fabiand@moz-7014AC7A.adsl.alicedsl.de)
[07:46:55] *** Quits: philix (felipe@moz-D13524B6.user.veloxzone.com.br) (Ping timeout)
[07:47:45] *** Quits: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net) (Connection reset by peer)
[07:48:03] <anomie> Hmm... would you say rust is having some code bloat?
[07:48:17] *** Quits: smerft (Mibbit@AC75EC74.A410FA5.CC1A2609.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[07:48:26] <eddyb> anomie: why?
[07:48:30] <huon> anomie: beacause even hello world is 3MB?
[07:48:35] <huon> it's being worked on
[07:48:46] <eddyb> it's tricky issue. LTO does bring it down a bit
[07:49:00] <eddyb> eventually I'd like to have a single syscall for hello world
[07:49:09] *** Quits: aurynj (Eon@C498BDEC.C264657C.C6282BC4.IP) (Quit: Leaving)
[07:49:10] <huon> you can use dynamic linking with `-C prefer-dynamic`, and -O helps a bit (and -Z lto, if you can cope with the slow compilation)
[07:49:13] <eddyb> (well, also the exit syscall)
[07:49:34] *** pmoore|away is now known as pmoore
[07:49:43] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[07:50:23] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[07:50:26] *** jorendorff is now known as jorendorff_away
[07:50:29] <anomie> huon, I think you miss-understand what I mean by "code bloat".
[07:50:41] *** Quits: benbangert (bbangert@moz-B1FEE9C0.org) (Ping timeout)
[07:51:02] *** Quits: andor (andor@moz-708868D.neferty.me) (Ping timeout)
[07:51:22] <huon> anomie: probably (since I asked the question and didn't wait for the answer, sorry)
[07:51:37] *** Joins: sunfish (chatzilla@8F761026.B5EF4AF6.E96CA9D8.IP)
[07:52:48] <anomie> huon, There's a difference between bloat in software, and bloat in it's code. An unnnecesary amount of SLOC is usually not a favorable thing.
[07:53:05] *** flaper87|afk is now known as flaper87
[07:53:26] <huon> anomie: oh, you were talking about the source code itself
[07:53:36] <huon> I haven't found it to be particularly verbose, personally
[07:54:10] *** Joins: benbangert (bbangert@moz-B1FEE9C0.org)
[07:55:59] <eddyb> anomie: what are you talking about, exactly? the rust compiler is written in Rust, that's not going to be tiny
[07:56:06] *** Joins: [squiddy] (squiddy@moz-686F69E9.dip0.t-ipconnect.de)
[07:56:21] *** Joins: nomme (nomme@moz-44F97EB.na.cust.bahnhof.se)
[07:56:47] <eddyb> (it makes up most of the lines of code in the standard distribution, AFAIK)
[07:57:23] *** Joins: skade (skade@B4A5FE21.505237C9.CAE22B62.IP)
[07:58:49] *** Quits: dpc (Mibbit@3CA2DD5F.FAD414BA.D74CC41D.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[08:01:11] *** Joins: pepper_chico (pepper_chi@BE2968B5.6F4A2706.E4090502.IP)
[08:03:14] *** Joins: nano (nano@moz-ED77243C.superkabel.de)
[08:03:24] *** Joins: twi (Adium@moz-CF950680.cust.vodafonedsl.it)
[08:03:49] *** Quits: nomme (nomme@moz-44F97EB.na.cust.bahnhof.se) (Connection reset by peer)
[08:04:40] *** Joins: nomme (nomme@moz-44F97EB.na.cust.bahnhof.se)
[08:04:48] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[08:04:49] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[08:06:29] *** Quits: luisbg (luisbg@moz-C54443AD.baconseed.org) (Ping timeout)
[08:06:47] *** Quits: benbangert (bbangert@moz-B1FEE9C0.org) (Ping timeout)
[08:07:21] *** Quits: guest2222 (guest2222@moz-1D2D613F.ga.at.cox.net) (Ping timeout)
[08:09:03] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[08:09:22] *** pmoore is now known as pmoore|pto
[08:10:10] *** Joins: benbangert (bbangert@moz-B1FEE9C0.org)
[08:10:31] *** Quits: brendan (brendaneic@moz-D9B414AF.hfc.comcastbusiness.net) (Quit: brendan)
[08:10:53] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[08:12:03] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Quit: csherratt)
[08:12:56] *** Joins: luisbg (luisbg@moz-C54443AD.baconseed.org)
[08:13:34] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[08:14:49] *** Quits: onelson (owen@18CF7301.95770028.5B6BFE7D.IP) (Ping timeout)
[08:14:54] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[08:15:21] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[08:15:51] *** Quits: generalelectrix (Mibbit@moz-18E22694.hsd1.ca.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[08:16:30] *** Joins: KokaKiwi (kokakiwi@moz-D674DAC6.kokakiwi.net)
[08:16:39] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[08:16:45] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[08:17:07] *** Joins: philix (felipe@moz-D13524B6.user.veloxzone.com.br)
[08:18:04] *** Quits: edwardw (edwardw@8229534F.B77F1D58.FAED9FFC.IP) (Quit: Leaving...)
[08:18:32] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[08:18:35] *** Quits: Manishearth (manisheart@moz-F9058B8A.net) (Ping timeout)
[08:19:28] *** Joins: brendan (brendaneic@moz-D9B414AF.hfc.comcastbusiness.net)
[08:22:01] *** Joins: Manishearth (manisheart@moz-F9058B8A.net)
[08:23:32] *** Quits: nano (nano@moz-ED77243C.superkabel.de) (Connection reset by peer)
[08:23:42] <bourbaki> Are trait functions differently scoped from plain impl function?
[08:24:03] *** Quits: Manishearth (manisheart@moz-F9058B8A.net) (Ping timeout)
[08:24:25] <bourbaki> I have a mod with an impl inside with a function and everything works as expected, once i add a trait he says there was not a function in scope.
[08:24:30] *** Joins: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch)
[08:25:03] <eddyb> bourbaki: the trait has to be in scope
[08:25:10] *** Quits: luisbg (luisbg@moz-C54443AD.baconseed.org) (Ping timeout)
[08:25:24] <bourbaki> Hm ok, i can do that with use right?
[08:25:34] <eddyb> you can only do that with use :P
[08:25:57] *** Joins: luisbg (luisbg@moz-C54443AD.baconseed.org)
[08:26:06] *** Quits: pepper_chico (pepper_chi@BE2968B5.6F4A2706.E4090502.IP) (Quit: WeeChat 0.4.1)
[08:26:15] <eddyb> (I mean, hmm, bounds or a trait object might work if it's not in scope, but those are different)
[08:26:28] *** Quits: alkino (alkino@moz-AAF51602.w92-151.abo.wanadoo.fr) (Ping timeout)
[08:27:28] *** Joins: Manishearth (manisheart@moz-F9058B8A.net)
[08:27:48] <bourbaki> https://gist.github.com/b0urb4k1
[08:27:55] <bourbaki> config.rs and main.rs
[08:28:22] <bourbaki> use config::merge::option; does still not have the effect i thought it should have.
[08:28:29] *** Quits: KokaKiwi (kokakiwi@moz-D674DAC6.kokakiwi.net) (Ping timeout)
[08:28:39] <eddyb> option is unlikely to be a trait name
[08:28:48] *** Joins: KokaKiwi (kokakiwi@moz-D674DAC6.kokakiwi.net)
[08:28:56] <eddyb> bourbaki: you can put multiple files in the same gist
[08:29:06] <bourbaki> Oh?
[08:29:18] <eddyb> bourbaki: you need to have Mergeable in scope, not option
[08:29:24] <bourbaki> Well not with the plugin in Sublime though i think.
[08:29:54] <bourbaki> Thanks
[08:30:27] <bourbaki> Do you think that embedding the Config in the Unite, TakeLeft ... struct is reasonable?
[08:30:37] <bourbaki> To discern the merging strategy.
[08:30:47] <eddyb> that use of newtypes is idiomatic
[08:32:02] *** Quits: james4k (james@moz-9BB5AE72.consolidated.net) (Ping timeout)
[08:32:18] <bourbaki> Ok :)
[08:33:06] *** Quits: benbangert (bbangert@moz-B1FEE9C0.org) (Ping timeout)
[08:36:30] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[08:36:31] *** Joins: benbangert (bbangert@moz-B1FEE9C0.org)
[08:38:50] *** Quits: abustany (abustany@moz-C0C970CD.org) (Ping timeout)
[08:38:51] *** Quits: brendan (brendaneic@moz-D9B414AF.hfc.comcastbusiness.net) (Quit: brendan)
[08:39:15] *** Quits: benbangert (bbangert@moz-B1FEE9C0.org) (Ping timeout)
[08:42:09] *** Joins: W0rmDr1nk (wormdrink@5451F9BD.52135167.A77EFE04.IP)
[08:42:39] *** Joins: benbangert (bbangert@moz-B1FEE9C0.org)
[08:43:40] *** Joins: nano (nano@moz-ED77243C.superkabel.de)
[08:44:13] *** Joins: darkf (darkf@moz-F9058B8A.net)
[08:44:46] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[08:45:01] *** Joins: Ms2ger (Ms2ger@B7B2FF50.C60A97A6.F9FB0584.IP)
[08:45:20] *** Joins: abustany (abustany@moz-C0C970CD.org)
[08:46:18] *** Joins: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net)
[08:46:30] *** Quits: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net) (Quit: killerswan)
[08:46:32] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[08:46:40] *** Joins: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net)
[08:46:47] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[08:47:30] <killerswan> is there any good convention for calling integer literals?
[08:47:48] <killerswan> (there seems to be some change in the default, recently, but I’m not sure)
[08:47:57] <killerswan> s/calling/calling methods on/
[08:47:59] *** Quits: maattdd (matthieu@moz-71F66BC0.w82-123.abo.wanadoo.fr) (Ping timeout)
[08:48:17] <killerswan> For example `5.cmp(%10)`
[08:48:31] *** Quits: abustany (abustany@moz-C0C970CD.org) (Ping timeout)
[08:48:31] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[08:49:20] <killerswan> it used to work (or I think it did a week ago), but now there’s an error over how there are many different `cmp` methods in scope and rustc doesn’t know which one to choose :D
[08:50:00] <Yurume> killerswan: try explicitly specifying the types: `5u.cmp(&10u)`.
[08:50:17] <mcpherrin> rusti: 5u32.cmp(&10u32)
[08:50:18] -rusti- Less
[08:50:25] <mcpherrin> rusti: 5u8.cmp(&10u32)
[08:50:26] -rusti- <anon>:10:17: 10:23 error: mismatched types: expected `&u8` but found `&u32` (expected u8 but found u32)
[08:50:26] -rusti- <anon>:10         5u8.cmp(&10u32)
[08:50:26] -rusti-                           ^~~~~~
[08:50:26] -rusti- error: aborting due to previous error
[08:50:26] -rusti- application terminated with error code 101
[08:50:30] <mcpherrin> rusti: 5u8.cmp(&10)
[08:50:31] -rusti- Less
[08:50:44] <mcpherrin> needs types on at least one of the parameters to infer what the literal is
[08:51:05] *** Quits: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch) (Quit: Leaving.)
[08:51:19] *** Joins: oxum (anonymous@E548EC34.4CC1D574.520CDC98.IP)
[08:52:09] *** Quits: luisbg (luisbg@moz-C54443AD.baconseed.org) (Ping timeout)
[08:52:10] *** Joins: Zr40 (zr40@EE4BB9F5.926C319A.BE2F4011.IP)
[08:52:37] *** Joins: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch)
[08:53:04] <killerswan> but this code hasn’t changed on my pull request: https://github.com/mozilla/rust/pull/12956/files
[08:53:13] <killerswan> has this behavior changed recently?
[08:53:15] *** Quits: nfroidure (nfroidure@moz-6388B286.w90-34.abo.wanadoo.fr) (Ping timeout)
[08:53:33] <killerswan> do these tests fail on master now?
[08:53:42] <killerswan> (before my change?)
[08:54:44] *** Joins: FrozenCow (FrozenCow@moz-54300F7F.upc-j.chello.nl)
[08:54:55] *** Joins: abustany (abustany@moz-C0C970CD.org)
[08:55:25] *** Quits: nomme (nomme@moz-44F97EB.na.cust.bahnhof.se) (Ping timeout)
[08:55:36] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[08:56:27] *** Quits: FrozenCow (FrozenCow@moz-54300F7F.upc-j.chello.nl) (Client exited)
[08:57:23] *** Quits: KokaKiwi (kokakiwi@moz-D674DAC6.kokakiwi.net) (Ping timeout)
[08:57:23] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[08:57:29] *** Quits: benbangert (bbangert@moz-B1FEE9C0.org) (Ping timeout)
[08:58:38] *** Joins: luisbg (luisbg@moz-C54443AD.baconseed.org)
[08:59:17] *** Joins: maattdd (matthieu@moz-71F66BC0.w82-123.abo.wanadoo.fr)
[08:59:48] *** Joins: KokaKiwi (kokakiwi@moz-D674DAC6.kokakiwi.net)
[08:59:56] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Ping timeout)
[09:00:07] *** Quits: p1start (rewi@moz-E7F3D014.org) (Ping timeout)
[09:00:22] *** Joins: arturo (Thunderbir@moz-E83B14F0.superkabel.de)
[09:00:37] <Ms2ger> OH: "Whoever invented the stack overflow should've picked a name that's *not* a popular website."
[09:00:50] <eddyb> Ms2ger: where from?
[09:01:05] <Ms2ger> The twitters
[09:01:09] <eddyb> link pls
[09:02:42] <eddyb> Ms2ger: this? https://twitter.com/balpha/status/446691173005262848
[09:04:03] <eddyb> this is to PHP what PHP was to Perl http://hack-lang.org/
[09:04:27] *** Joins: Luminos (chsitter@C5C92391.35A75BF5.E8E9A8EF.IP)
[09:04:49] <ion> It makes PHP even worse?
[09:05:30] <eddyb> [11:04] <eddyb> why would anyone use a language that screamed "this is a hack over PHP" in its very name?
[09:05:31] <eddyb> [11:05] <eddyb> we get it, Facebook is dumb and can only use PHP but *pleeease* can we not get a plague?
[09:06:28] *** Joins: benbangert (bbangert@moz-B1FEE9C0.org)
[09:06:36] <eddyb> Ms2ger: well, it's sarcasm and not pure stupid :)
[09:10:36] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[09:10:50] *** Joins: nomme (nomme@moz-272A4570.na.cust.bahnhof.se)
[09:10:57] <eddyb> "Hack provides instantaneous type checking via a local server that watches the filesystem. It typically runs in less than 200 milliseconds, making it easy to integrate into your development workflow without introducing a noticeable delay."
[09:11:04] <eddyb> is this really async type checking?
[09:11:13] <eddyb> please be a joke
[09:11:18] *** Quits: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch) (Ping timeout)
[09:11:20] <eddyb> then again, they bought Oculus
[09:11:31] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[09:11:38] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Input/output error)
[09:11:39] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[09:11:44] *** Joins: jviereck (Adium@moz-DF2DF540.dclient.hispeed.ch)
[09:11:57] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[09:13:41] *** Quits: benbangert (bbangert@moz-B1FEE9C0.org) (Ping timeout)
[09:13:56] *** Joins: heftig (heftig@moz-33D186ED.unitymedia.biz)
[09:15:00] *** Joins: squiggy (Mibbit@F8ED0836.8DB8FCC3.EE85D87F.IP)
[09:15:11] *** Quits: squiggy (Mibbit@F8ED0836.8DB8FCC3.EE85D87F.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[09:16:19] *** Joins: mediocrity (Thunderbir@moz-8A2E9A09.bredband.comhem.se)
[09:17:06] *** Joins: benbangert (bbangert@moz-B1FEE9C0.org)
[09:17:36] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[09:19:19] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[09:20:01] *** Quits: mediocrity (Thunderbir@moz-8A2E9A09.bredband.comhem.se) (Quit: mediocrity)
[09:20:35] *** Quits: benbangert (bbangert@moz-B1FEE9C0.org) (Ping timeout)
[09:20:49] *** Quits: jviereck (Adium@moz-DF2DF540.dclient.hispeed.ch) (Quit: Leaving.)
[09:21:51] *** Quits: luisbg (luisbg@moz-C54443AD.baconseed.org) (Ping timeout)
[09:24:07] *** Joins: benbangert (bbangert@moz-B1FEE9C0.org)
[09:27:38] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Quit: Busying myself...)
[09:28:14] *** Joins: luisbg (luisbg@moz-C54443AD.baconseed.org)
[09:28:14] <killerswan> this is Brian O’Sullivan’s group at Facebook: they’re sneaking Haskell into one of the largest companies around, it is huge
[09:28:41] <killerswan> even if I don’t want to write typed PHP for them, they’re doing me a service!
[09:28:48] <eddyb> killerswan: huh?
[09:28:59] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Input/output error)
[09:29:30] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[09:29:57] *** Quits: nano (nano@moz-ED77243C.superkabel.de) (Connection reset by peer)
[09:30:52] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Client exited)
[09:30:53] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[09:31:11] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[09:31:16] <killerswan> or maybe I’m the only one who’s had a dozen conversations lately where somebody said “eh, but nobody uses that” and I said “actually, Facebook does”
[09:31:31] <killerswan> and they sat up straighter then
[09:32:47] <doomlord_> how many major changes are there going to be before 1.0 ... dst, thin-pointers, .. any more
[09:33:23] <eddyb> doomlord_: I would call thin-pointers/fat-structs "interior vtable" because fat/thin doesn't say as much
[09:33:44] <doomlord_> makes sense
[09:33:49] <eddyb> doomlord_: maybe HKT or VG, but... we'll see
[09:34:31] <doomlord_> whats VG ?  (HKT would be awesome, but macros can workaround any cases i need)
[09:34:48] <eddyb> variadic generics
[09:34:52] <TheHydroImpulse> is someone working on HKTs?
[09:34:54] <eddyb> oh, also associated items
[09:34:57] <eddyb> TheHydroImpulse: atm? no
[09:35:05] <TheHydroImpulse> ahh ok
[09:35:06] <eddyb> nrc is working on DST AFAIK
[09:36:03] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Quit: Leaving.)
[09:36:08] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[09:36:31] *** Quits: patpat (patpat@moz-1599AAE4.as13285.net) (Ping timeout)
[09:37:00] *** Joins: passcod (passcod@moz-4A92A8E8.passcod.name)
[09:37:03] <johnsoft> are variadic generics slated for 1.0?
[09:39:28] <huon> johnsoft: no
[09:40:55] <passcod> I'm getting a "type mismatch: expected A but found A" error, and it's nonsensicalness is doing my head in. Can anyone point where I went wrong? https://gist.github.com/passcod/bfb54da434cbb928b9df
[09:41:18] <eddyb> probably lifetimes
[09:41:22] <johnsoft> huon- ty
[09:41:28] *** Quits: anomie (anomie@moz-3213C615.wavecable.com) (Ping timeout)
[09:41:38] <eddyb> passcod: A is not A in your case
[09:41:46] <johnsoft> even though the answer is disappointing
[09:41:48] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[09:42:16] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[09:42:23] <eddyb> passcod: well, Type will always be Type, but Type<'a> may not be Type<'a> because 'a and 'a are not necessarily the same named lifetime
[09:42:37] <passcod> Ah
[09:42:39] <eddyb> passcod: this method shouldn't be generic https://gist.github.com/passcod/bfb54da434cbb928b9df#file-rrb-tree-rs-L28
[09:42:46] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Client exited)
[09:43:17] <doomlord_> might the idea of sugar to read a traits' vtable appear as an interim way of doing fat-structs, that might be interseting because you could use vtable switching for state machines}
[09:44:21] *** Joins: vmx (vmx@moz-F5D49AC4.pools.arcor-ip.net)
[09:45:36] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[09:46:04] <passcod> eddyb: what should it be, then? I do need to specify the return type, how can I do that without generics?
[09:46:25] <eddyb> passcod: the impl is already generic
[09:47:11] *** Joins: nkoep (nik@moz-80396CF0.pool.mediaways.net)
[09:47:16] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[09:47:29] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[09:48:32] <passcod> eddyb: so? I'm sorry, I must be missing something really basic
[09:49:05] <eddyb> passcod: the impl gives you 't and T *already*
[09:49:15] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[09:49:21] <eddyb> fn get(&self, i: uint) -> Option<Content<'t, T>> {
[09:49:35] *** Joins: andor (andor@moz-708868D.neferty.me)
[09:49:36] *** Quits: daschl (Adium@moz-4F2D89D8.public.t-mobile.at) (Connection reset by peer)
[09:50:57] <passcod> Ah, of course. *bangs head on wall* Thank you very much
[09:53:12] *** Joins: mediocrity (Thunderbir@moz-8A2E9A09.bredband.comhem.se)
[09:54:51] *** Quits: nkoep (nik@moz-80396CF0.pool.mediaways.net) (Client exited)
[09:55:59] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[09:57:00] *** Quits: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Quit: ChatZilla 0.9.90.1 [Firefox 31.0a1/20140326030203])
[09:57:03] *** Quits: alexherbo2 (alexherbo2@moz-AB6EB255.ip-91-121-133.eu) (Quit: WeeChat 0.4.3)
[09:57:42] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[10:01:24] *** Joins: squiddy_ (squiddy@moz-E62BD793.versanet.de)
[10:01:56] *** Quits: [squiddy] (squiddy@moz-686F69E9.dip0.t-ipconnect.de) (Ping timeout)
[10:03:13] <bourbaki> Can i do something like template specializations with generics in Rust?
[10:04:03] <huon> nope (i.e. you can't do stuff like fn foo<bool>(...) fn foo<T>(...))
[10:04:12] <bourbaki> Hm ok
[10:04:22] <bourbaki> https://gist.github.com/b0urb4k1/9802899
[10:04:24] <doomlord_> doesn't fit with traits ? or woul dit
[10:04:44] <bourbaki> Problem arises here, i want to use the traits Unite etc but the merging needs different implementations for different types.
[10:05:37] <bourbaki> That is im my case i want to merge HashMaps and its Values.
[10:06:03] <bourbaki> The strategy is determined by the embedding struct Unite, TakeLeft or TakeRight.
[10:06:28] <huon> ( https://github.com/mozilla/rust/issues/7059 is the bug about specialisation, btw)
[10:07:10] <bourbaki> I can not implemnent Mergable on the HashMap and Value because then i would drop the stragegy thingy.
[10:07:42] <huon> I don't understand that gist enough to be able to help... could you write what you want to write (i.e. if we had specialisation)?
[10:07:52] <bourbaki> Yes sec
[10:08:06] <bourbaki> https://gist.github.com/b0urb4k1/9802902
[10:08:13] <bourbaki> This is the usage
[10:09:19] <bourbaki> Updated the gist
[10:09:26] <bourbaki> Line 23 ff
[10:09:38] <bourbaki> I do not want to do that inside the function though but on type level.
[10:09:50] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[10:10:00] <huon> so you want Mergable<Foo> for Unite and Mergable<Bar> for Unite, etc?
[10:10:02] <bourbaki> So you are able to extend the merge strategies if you want.
[10:10:16] <doomlord_> template specialization requires overloading more like C++ ?
[10:10:25] <bourbaki> I want a differeng fn merge for Mergable<Value> and Mergable<HashMap>
[10:10:31] <doomlord_> .. or is it possible within the trait framework
[10:10:35] <huon> bourbaki: for Unite?
[10:10:50] <bourbaki> huon: For Unite, TakeLeft and TakeRight
[10:11:12] <bourbaki> I want to merge two HashMaps
[10:11:24] <bourbaki> The values in the Map are of type Value
[10:11:29] <huon> bourbaki: i.e. you want `impl Mergable<Value> for Unite<Value> { ... } impl Mergable<HashMap> for Unite<HashMap> { ... }` and similarly for TakeLeft and TakeRight?
[10:11:36] <bourbaki> for simplicity lets say Values are just lists
[10:11:36] <huon> (if that were possible)
[10:11:41] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[10:11:49] <bourbaki> huon: yes
[10:12:20] <bourbaki> Because that would allow me to extend these strategies for new types later on.
[10:12:27] <huon> rusti: struct Foo<T>; trait Bar<T> {} impl Bar<int> for Foo<int> {} impl Bar<uint> for Foo<uint> {}
[10:12:29] -rusti- <anon>:10:9: 10:23 warning: code is never used: `Foo`, #[warn(dead_code)] on by default
[10:12:29] -rusti- <anon>:10         struct Foo<T>; trait Bar<T> {} impl Bar<int> for Foo<int> {} impl Bar<uint> for Foo<uint> {}
[10:12:29] -rusti-                   ^~~~~~~~~~~~~~
[10:12:29] -rusti- ()
[10:12:45] <huon> looks like you can just write it, because the Unite/Take* types have a parameter
[10:12:52] <bourbaki> Oh ...
[10:13:05] <huon> rusti: struct Foo<T>; trait Bar<T> { fn method(&self) {} } impl Bar<int> for Foo<int> {} impl Bar<uint> for Foo<uint> {} Foo::<uint>.method()
[10:13:05] -rusti- ()
[10:13:09] <huon> rusti: struct Foo<T>; trait Bar<T> { fn method(&self) {} } impl Bar<int> for Foo<int> {} impl Bar<uint> for Foo<uint> {} Foo::<int>.method()
[10:13:09] -rusti- ()
[10:13:16] <huon> yup, seems to work
[10:13:31] <bourbaki> Collio
[10:13:36] <bourbaki> er Coolio :)
[10:13:36] <huon> (btw, you'll need some sort of return value or &mut to be able to actually give a meaningful result from merge)
[10:13:50] *** Quits: lpy (lpy@186A8F3A.F09091A8.1348A864.IP) (Connection reset by peer)
[10:13:52] <bourbaki> Its just stubs yet
[10:14:08] *** Quits: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net) (Quit: killerswan)
[10:14:09] *** Joins: lpy (lpy@8B40CDAC.F09091A8.1348A864.IP)
[10:14:10] <huon> yup
[10:14:13] <bourbaki> Just to see if the frame fits
[10:14:43] <bourbaki> Is there something like static_assert in Rust?
[10:15:03] <bourbaki> So i can assert an error for types that are not implemeted to be used with the strategies?
[10:15:13] *** Joins: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP)
[10:15:56] *** Joins: lucian_ (lucian@6B2B4644.4304AE1E.CE5E78F6.IP)
[10:15:56] *** Quits: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP) (Connection reset by peer)
[10:16:29] <huon> yes
[10:16:33] <huon> it happens automatically
[10:17:01] <huon> (i.e. that's what traits do)
[10:17:12] <bourbaki> I get an error implementing it this way
[10:17:23] <huon> code?
[10:17:27] <bourbaki> gist is updated
[10:17:40] <bourbaki> I now have a T and a Value implementation.
[10:18:16] <huon> oh, you can't do that
[10:18:21] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[10:18:36] <bourbaki> Ah ok
[10:18:38] <huon> either a single fully generic implementation, or several for specific types
[10:18:49] <bourbaki> But several concrete types work.
[10:18:53] <huon> (btw, you know you can import things to avoid having to write `::config::...` everywhere, right?)
[10:19:04] <bourbaki> Er nope :) how?
[10:19:29] <huon> mod merge { use config::Value; ... }
[10:19:47] <bourbaki> Ah! Thanks a bunch.
[10:20:02] <bourbaki> I start to get the hang of it all :)
[10:20:12] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[10:20:30] <bourbaki> Any further comments on the code, any no nos?
[10:20:53] <huon> prefer T to ~T
[10:21:09] <huon> (e.g. https://gist.github.com/b0urb4k1/9802899#file-config-rs-L10 can just be `HashMap<~str, Value>`
[10:21:20] <huon> similarly for all of https://gist.github.com/b0urb4k1/9802899#file-config-rs-L14-L16
[10:21:22] <bourbaki> Ok
[10:21:25] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Input/output error)
[10:21:34] <bourbaki> Whats the reason for that?
[10:22:26] <huon> there's rarely a need to heap allocate things, which increases memory use, is often slower (due to the memory allocation itself and the decreased cache locality, etc.)
[10:23:00] *** Joins: bvssvni (Mibbit@moz-A47B6F8E.bb.online.no)
[10:24:09] <bourbaki> Thank you very much :)
[10:28:30] *** Quits: twi (Adium@moz-CF950680.cust.vodafonedsl.it) (Ping timeout)
[10:29:54] *** Joins: twi (Adium@moz-CF950680.cust.vodafonedsl.it)
[10:30:43] *** Joins: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch)
[10:34:56] <eddyb> huon: TIL, glibc releases memory, but only when the entire size class is freed
[10:35:06] *** Quits: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch) (Quit: Leaving.)
[10:35:27] <eddyb> (or whatever it uses instead of size classes)
[10:35:31] <eddyb> huon: it's understandable because that's much easier to keep track of
[10:35:56] <eddyb> what's that quote with Rust being SML, Erlang, something with dating?
[10:36:47] <huon> "Rust is like ... and started dating ..."
[10:36:50] <eddyb> I can't bloody find it on google
[10:36:52] * huon can't remember the full quote
[10:37:23] <eddyb> something grew up
[10:37:28] <bvssvni> yeah
[10:37:46] <huon> college is in there too
[10:38:02] <bvssvni> and flirting?
[10:38:08] <huon> it's in http://vimeo.com/85253071 iirc
[10:38:14] <huon> oh, maybe not
[10:38:17] <huon> hm
[10:38:30] <huon> wait
[10:38:31] <huon> it is
[10:39:02] <huon> "rust is like C++ grew and went to grad school, shares an office with erlang, and is dating sml"
[10:39:20] <huon> *grew up
[10:39:20] *** Joins: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP)
[10:40:05] <huon> and the only google result for that text itself is the slides: https://github.com/pnkfelix/present-rust-codemesh2013/blob/master/rust-codemesh2013-sect1.rkt#L64
[10:40:09] <eddyb> yeah, thanks :D
[10:40:10] * huon waves at pnkfelix
[10:40:28] *** Quits: mawuli (mawuli@5054574.B199513B.DE15C958.IP) (Ping timeout)
[10:40:29] * pnkfelix feels his ears burning
[10:40:29] <huon> (neat, slides written in a lisp.)
[10:40:41] * pnkfelix goes to go look at the log to find context
[10:41:00] <pnkfelix> oh yes, that quote
[10:41:20] <pnkfelix> someone told me later that it might actually be due to lkuper, and not whomever I attributed it to at Codemesh
[10:41:30] *** Joins: mihneadb (mihneadb@moz-6B31F5AA.static.ziggozakelijk.nl)
[10:41:38] *** Joins: mawuli (mawuli@5054574.B199513B.DE15C958.IP)
[10:41:49] <huon> ah, I see (rpearl is what the slide says)
[10:42:04] <ion> http://heh.fi/tmp/il.png Is he related to Kim Jong Il?
[10:42:06] <pnkfelix> yeah, that's where I had seen it in my IRC logs, so I attributed it there
[10:42:17] <pnkfelix> but then when I redid the presentation at the Paris Rust meetup
[10:42:19] <eddyb> ion pls
[10:42:20] <huon> it seems lkuper is prolifically quotable when it comes to Rust
[10:42:22] <pnkfelix> I revised the attribution
[10:42:49] * eddyb has come up with some dramatic stuff, but Rust is too serious for that
[10:43:27] <eddyb> pnkfelix: https://botbot.me/mozilla/rust/search/?q=c%2B%2B+went+to+grad+school
[10:43:49] <huon> a quote passed down the generations
[10:44:00] <huon> from hacker to hacker
[10:44:15] *** Quits: sigma (sigma@moz-15A267A9.range109-152.btcentralplus.com) (Client exited)
[10:44:48] <eddyb> who's lindsey?
[10:44:49] <pnkfelix> I think it was probably something that arose from that batch of interns when sully and lkuper were all hacking on rust at Mozilla?
[10:44:56] <pnkfelix> eddyb: lkuper == lindsey kuper
[10:45:01] <eddyb> oooh
[10:45:07] *** Quits: mihneadb (mihneadb@moz-6B31F5AA.static.ziggozakelijk.nl) (Ping timeout)
[10:45:11] <eddyb> that name sounds familiar
[10:45:25] <pnkfelix> eddyb: she's done good stuff, I hear.  :)
[10:48:06] *** Joins: Axord (xord@moz-BC8E2FBC.static.rvsd.ca.charter.com)
[10:48:50] *** flaper87 is now known as flaper87|afk
[10:51:34] *** Quits: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP) (Connection reset by peer)
[10:53:36] *** Quits: mediocrity (Thunderbir@moz-8A2E9A09.bredband.comhem.se) (Quit: mediocrity)
[10:54:14] *** Joins: tigrou3tac (fabien@moz-6E2397FF.fbx.proxad.net)
[10:56:02] *** Joins: mye (mye@moz-5C4AC8BE.dip0.t-ipconnect.de)
[10:57:09] <eddyb> someone is not doing their Rust evangelizing job :P https://github.com/mozilla/rr/
[11:00:20] <huon> oh, that reminds me that I wanted to experiment with Rust and rr
[11:00:36] * eddyb wonders whom to poke
[11:00:37] *** Joins: Sorella (quildreen@9D963F5D.DF5D8AE7.54BCAB54.IP)
[11:01:49] *** Quits: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[11:04:50] *** Quits: apollow (yellowy432@moz-DF01490A.lightspeed.sntcca.sbcglobal.net) (Ping timeout)
[11:05:32] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[11:05:53] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[11:06:26] *** Quits: krdln (krdln@moz-C271714F.dynamic.chello.pl) (Ping timeout)
[11:07:34] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Ping timeout)
[11:08:31] <huon> wooo, a build of rr
[11:08:35] * huon tries it with rust binaries
[11:10:32] <eddyb> huon: let's record all bors test runs in case of failures :P
[11:10:34] <huon> oh, bleh :( it needs 32 bit executables
[11:11:18] *** Quits: mno2 (mno2@E1E0A0A3.621D86F0.CFF65E33.IP) (Quit: mno2)
[11:13:29] <huon> so... looks like I need to get a rustc that cross compiles
[11:14:11] <eddyb> huon: I wish we didn't have to rebuild :/
[11:14:21] <eddyb> because all it has to do is build stage1 libraries
[11:14:29] <eddyb> with the same compiler
[11:14:37] <eddyb> it would take like 5min to add a new target
[11:14:56] <huon> I need to rebuild anyway, I'm in the middle of de-vecing librand
[11:15:04] <huon> but yeah, that would be nice
[11:15:46] *** Joins: nano (nano@moz-ED77243C.superkabel.de)
[11:17:08] *** Quits: alonlevy (alon@2CD54432.57968636.E9C721AF.IP) (Ping timeout)
[11:18:58] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[11:20:38] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[11:21:31] *** Joins: mediocrity (Thunderbir@moz-8A2E9A09.bredband.comhem.se)
[11:22:12] *** Joins: andre_ (andre@CA528A4A.45A4338E.8EE27E6.IP)
[11:23:30] *** Joins: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP)
[11:24:43] *** Joins: krdln (krdln@moz-C271714F.dynamic.chello.pl)
[11:25:05] *** Joins: apollow (yellowy432@moz-DF01490A.lightspeed.sntcca.sbcglobal.net)
[11:29:34] *** Quits: benjamin_ (benjamin@moz-F6125F64.dip0.t-ipconnect.de) (Ping timeout)
[11:31:41] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[11:32:38] *** Joins: vgeddes (vincent.ge@moz-A97D336F.access.mtnbusiness.co.za)
[11:35:22] <bvssvni> when is the planned release of 0.10?
[11:37:15] <huon> next thursday
[11:38:00] * huon hasn't seen much movement on the release notes front, though
[11:38:56] *** Joins: Veld (Mibbit@moz-4A19983C.ip227.fastwebnet.it)
[11:38:58] *** Quits: Mathieu (cicak@420C86E4.9C1E3043.FBF02BB8.IP) (Ping timeout)
[11:40:09] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[11:40:36] *** Quits: mye (mye@moz-5C4AC8BE.dip0.t-ipconnect.de) (Quit: sleep message)
[11:41:39] *** Quits: Ms2ger (Ms2ger@B7B2FF50.C60A97A6.F9FB0584.IP) (Quit: bbl)
[11:42:14] *** Joins: reus (Mibbit@moz-6AAB6C9D.gae.googleusercontent.com)
[11:44:08] *** Joins: gimpf (gimpf@moz-9EFA1B81.adsl.highway.telekom.at)
[11:44:13] * bvssvni wonders if everybody will keep track with master after 1.0 out of habit
[11:45:05] *** Quits: reus (Mibbit@moz-6AAB6C9D.gae.googleusercontent.com) (Quit: http://www.mibbit.com ajax IRC Client)
[11:47:00] <doomlord_> https://gist.github.com/dobkeratops/9805755  << just tried creating slices within a blob, somethign like this could clean up my unsafe code. use case is precompiled data.. many types back to back in a single blob
[11:47:07] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[11:47:10] *** Joins: mye (mye@moz-5C4AC8BE.dip0.t-ipconnect.de)
[11:47:19] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[11:48:30] <bvssvni> doomlord_: can't you use &'static?
[11:48:48] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[11:48:48] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[11:49:02] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[11:49:03] <doomlord_>  maybe i can i didn't know; the lifetime is the lifetime of data ~[u8] - this could be loaded from a file, used, discarded
[11:49:27] <doomlord_> you're saying if i'm manually managing the lifetime i can avoid a lifetime param perhaps
[11:50:00] *** Quits: skade (skade@B4A5FE21.505237C9.CAE22B62.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[11:50:34] <huon> doomlord_: (the parameter on Slice::<TO> does nothing, tbw)
[11:51:01] <huon> and you definitely want `<'a, From, To>(owner: &'a [From], ... ) -> &'a [To] { ... }`
[11:51:20] <huon> (well, maybe not definitely, but it will help make it harder to make mistakes)
[11:51:24] <bvssvni> doomlord_: ah
[11:52:05] <huon> and you can't really have internal slices into a data structure itself
[11:52:16] <huon> i.e. BlobContainingSlices won't work
[11:52:36] *** Quits: Ferreus_ (ferreus@moz-E2310A45.dip0.t-ipconnect.de) (Ping timeout)
[11:52:40] <kimundi> doomlord_: Returning a BlobContainingSlices<'a> without anything that restricts the 'a like this is unsafe I think, as it allows you to pick an arbitrary lifetime, including those that live longer than the allocation. But you can write a getter for these slices that restricts the lifetime to the lifetime of self.
[11:53:44] <bvssvni> doomlord_: could you take a &'a ~[T] and returns one or multiple &'a [T] ?
[11:54:06] <kimundi> subsets1 and subset2 can then simply be &'static [T] slices that are unsafe on their own, but safe implementation details.
[11:54:55] <bvssvni> doomlord_: ~[T] is Vec<T> now, so it'll be &'a Vec<T>
[11:55:54] <Veld> is something like this possible? http://paste.ofcode.org/JMxLPaMNTgqpAPSHTNLbWZ
[11:56:37] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[11:56:37] *** Quits: IanCormac84 (User@E766529A.2A8D8854.67DFF8B4.IP) (Quit: Leaving.)
[11:57:05] <Veld> ie. replacing elements in the vector and counting the number of replacements made
[11:57:33] <kimundi> Veld: Depends on what you want to do - as is the code won'T compile for two reasons
[11:58:06] <eddyb> *e = instead of e =
[11:58:22] <eddyb> and 9 instead of &mut 9
[11:58:24] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[11:58:47] <kimundi> Veld: The &mut 9 there creates a new stack allocated variable, which has a smaller lifetime than the e you get. And replacing the e itself won't change anything about the vector. YOu want to change what e points at, like eddyb wrote
[11:59:38] <eddyb> and &1 not &mut 1 in the pattern
[12:00:00] <kimundi> RIght, in patterns there is no &mut, only &
[12:00:11] <Veld> thanks, it works
[12:00:23] <kimundi> Hm, If we had a general deref pattern this confusion would die too...
[12:01:30] <Veld> just out of curiousity, why doesn't "e if *e == 1" as pattern work?
[12:01:39] <eddyb> it should
[12:01:40] <eddyb> http://paste.ofcode.org/qQg2yEDPGXJbHA3wAfuuhH
[12:01:44] *** Joins: patpat (patpat@93617333.BDA62CC0.98F3E2B5.IP)
[12:01:48] <Veld> it says error: cannot bind by-move into a pattern guard
[12:01:54] <eddyb> aaah, that
[12:01:58] <Veld> but what does that mean?
[12:02:04] <eddyb> Veld: &mut T moves
[12:02:15] <eddyb> you could do &ref mut e to reborrow
[12:02:36] <eddyb> in that case you can match *x
[12:03:12] <eddyb> Veld: like this http://paste.ofcode.org/xyzJ7DuFaWhyfsdkh65vua
[12:03:47] *** Joins: asmyers (quassel@moz-1BA75A5A.hrbgpa.east.verizon.net)
[12:04:08] *** Quits: nano (nano@moz-ED77243C.superkabel.de) (Connection reset by peer)
[12:04:45] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[12:06:01] *** Quits: LRN (LRN@moz-EA80C63C.nationalcablenetworks.ru) (Connection reset by peer)
[12:06:33] *** Joins: LRN (LRN@moz-EA80C63C.nationalcablenetworks.ru)
[12:08:38] *** Quits: LRN (LRN@moz-EA80C63C.nationalcablenetworks.ru) (Connection reset by peer)
[12:08:44] *** Quits: robn (robn@moz-76B0302C.static.internode.on.net) (Ping timeout)
[12:09:11] *** Joins: LRN (LRN@moz-EA80C63C.nationalcablenetworks.ru)
[12:09:29] *** Joins: Ferreus_ (ferreus@moz-4630C183.dip0.t-ipconnect.de)
[12:09:36] *** Joins: richo (richo@moz-F18B6ADA.pa.vic.optusnet.com.au)
[12:10:35] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[12:10:49] *** Quits: eddyb (eddy@F8B50789.F33C1089.FB866788.IP) (Ping timeout)
[12:11:14] *** Joins: LU324 (asdf@moz-864C7465.dyn.embarqhsd.net)
[12:11:17] *** Joins: eddyb (eddy@F8B50789.F33C1089.FB866788.IP)
[12:11:25] *** Joins: robn (robn@moz-76B0302C.static.internode.on.net)
[12:11:41] <doomlord_> perhaps it also needs to say they're POD, does the absence of :Clone imply that
[12:11:41] *** Joins: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP)
[12:12:22] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[12:12:36] *** Joins: nano (nano@moz-ED77243C.superkabel.de)
[12:12:36] <doomlord_> &'a ~[T] sounds better,  perhaps, but isn't that 'a going to just be the lifetime of the borrow within the function that creates the thing
[12:12:45] <eddyb> doomlord_: Clone only provides a method
[12:13:21] *** jorendorff_away is now known as jorendorff
[12:13:41] <doomlord_> r.e. ~[u8] vs Vec<u8> ,  i was asuuming ~[u8] is going to itself be 'owned slice' (non-resizing): non-resizing is certainly the use after the inner slices are setup
[12:14:05] <huon> yes
[12:14:21] <doomlord_> i suppose saying the whole thing is immutable does that ;    i was using [u8] elsewhere that is was returned from file read
[12:14:44] <eddyb> Copy (previously Pod) indicates that the value can be freely copyable
[12:14:54] <eddyb> and I guess we can use Pod now to mean the thing with the byte view
[12:15:13] <eddyb> not sure how to encode endianness safety (sanity?) into that
[12:15:14] <huon> doomlord_: resizing isn't the only problem
[12:15:17] *** Joins: NiccosSystem_ (NiccosSyst@moz-ED196BB4.customer.lyse.net)
[12:15:26] <eddyb> endian-agnostic?
[12:15:34] <doomlord_> 'Copy' .. freely copyable , not needing deep copy.. so would that have got rid of the need for '.clone()' that i ended up with in some vector maths implementations sometimes 
[12:15:35] <huon> e.g. one can swap(a, b) in a new ~[], and drop the old one, leaving the slices dangling
[12:15:46] <doomlord_> endian-swap is a job for a macro i think
[12:15:56] <huon> doomlord_: for Copy types, Clone is the same as the implicit copy
[12:15:59] <huon> (almost always)
[12:16:04] <doomlord_> well, the whole thing has to be immutable for this to work
[12:16:19] <huon> so taking Copy is strictly less flexible than taking Clone
[12:16:23] <eddyb> doomlord_: I mean, you don't want code to depend on reinterpreting bytes as an uint and having it wrong on certain architectures
[12:16:30] <huon> doomlord_: it's hard to enforce that an object is immutable
[12:16:32] <doomlord_> perhaps i can declare the members private
[12:16:41] <huon> that works, I gues
[12:16:43] <huon> s
[12:17:02] *** Joins: canhtak (canhtak@moz-4FB0FBC1.wl.t.ulaval.ca)
[12:17:23] *** Quits: NiccosSystem_ (NiccosSyst@moz-ED196BB4.customer.lyse.net) (Ping timeout)
[12:17:34] *** Joins: io2 (io2@moz-EE406A5.home.otenet.gr)
[12:17:40] *** Quits: LRN (LRN@moz-EA80C63C.nationalcablenetworks.ru) (Quit: Leaving.)
[12:17:56] <doomlord_> yup i've encountered endianswapping over the years
[12:17:57] *** Joins: skade (skade@B4A5FE21.505237C9.CAE22B62.IP)
[12:18:05] *** Quits: nano (nano@moz-ED77243C.superkabel.de) (Connection reset by peer)
[12:18:11] <doomlord_> we used to have seperate per-platform export
[12:18:24] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[12:18:39] <doomlord_> different texture formats supported etc
[12:18:42] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[12:19:25] <herrwolfe45> how can one use rust_backtrace with rustc itself? Would i just need to compile rustc with -Z debug-info and then...
[12:19:47] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[12:19:54] *** Quits: kris (kris@moz-6D20263F.fullrate.dk) (Ping timeout)
[12:20:08] <eddyb> herrwolfe45: -g as a shorthand. the backtrace works even without that
[12:20:14] *** Joins: saml_ (saml@moz-AFAADF83.nycmny.east.verizon.net)
[12:20:15] <eddyb> herrwolfe45: RUST_BACKTRACE=1 I think to get it
[12:20:19] *** Joins: leowoe (Leo@moz-CEF2400C.inf.uni-konstanz.de)
[12:20:40] *** Quits: robn (robn@moz-76B0302C.static.internode.on.net) (Ping timeout)
[12:21:00] *** Joins: robn (robn@moz-76B0302C.static.internode.on.net)
[12:21:06] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[12:21:29] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[12:21:41] *** Quits: astroch (astroch@moz-80476ABD.hsd1.va.comcast.net) (Ping timeout)
[12:21:42] <doomlord_> perhaps something really could specify something is absolutely immutable, i've heard of a 'final' keyword in java, would that do it ?
[12:21:53] <herrwolfe45> eddyb: just like `rustc foo.rs --out-dir ./ RUST_BACKTRACE=1`? 
[12:22:00] <doomlord_> ... a struct member that once it is created and assigned.. never changes, ever.
[12:22:07] <eddyb> herrwolfe45: RUST_BACKTRACE=1 before the command
[12:22:10] *** Joins: NiccosSystem_ (NiccosSyst@moz-ED196BB4.customer.lyse.net)
[12:22:20] <eddyb> doomlord_: we need TBAA to even tell LLVM that
[12:22:24] <herrwolfe45> i will give that a try
[12:22:25] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[12:22:26] <herrwolfe45> thank
[12:22:27] <herrwolfe45> s
[12:22:47] <eddyb> doomlord_: not sure it's even supported
[12:23:28] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[12:23:43] <kimundi> doomlord_: You can just make the fields private and provide &-only getter if neccessary.
[12:23:55] *** Quits: NiccosSystem_ (NiccosSyst@moz-ED196BB4.customer.lyse.net) (Ping timeout)
[12:24:17] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Ping timeout)
[12:24:18] <huon> herrwolfe45: do you want a backtrace from the compiler, or from the program you are running?
[12:24:27] *** Joins: kris (kris@moz-3A817138.dk.customer.tdc.net)
[12:24:45] *** Quits: aravindavk (aravinda@moz-BD0CADEE.redhat.com) (Ping timeout)
[12:24:53] *** Joins: NiccosSystem_ (NiccosSyst@moz-ED196BB4.customer.lyse.net)
[12:26:55] *** Quits: untitaker (untitaker@moz-91D389F5.adsl.highway.telekom.at) (Ping timeout)
[12:27:28] <doomlord_> if i can go the 'priv' route and its deemed 'that communicates how to use it safely' , i could simply verify on creation, and accessors wouldn't need slice pointers, they could just offset the slices when needed
[12:27:28] *** Quits: robn (robn@moz-76B0302C.static.internode.on.net) (Ping timeout)
[12:27:28] *** Joins: jviereck (Adium@moz-B9C0530E.ethz.ch)
[12:27:28] <herrwolfe45> huon: i'm wanting to get one from the compiler itself, as it is the program that is failing
[12:27:28] *** jorendorff is now known as jorendorff_away
[12:27:35] <huon> yay, rr kinda works; seems to fail to replay anything beyond hello world though :(
[12:27:41] <huon> (but... getting a cross-compiling rustc is really easy (at least, a x86-64 linux -> x86 linux one), I like it.)
[12:28:00] <huon> herrwolfe45: ah, cool, `RUST_BACKTRACE=1 rustc ...` should work, as eddyb says :)
[12:28:07] *** Quits: NiccosSystem_ (NiccosSyst@moz-ED196BB4.customer.lyse.net) (Ping timeout)
[12:28:12] <herrwolfe45> huon: yes, it just worked, thanks!
[12:28:33] *** Joins: untitaker (untitaker@moz-91D389F5.adsl.highway.telekom.at)
[12:28:41] *** Quits: richo (richo@moz-F18B6ADA.pa.vic.optusnet.com.au) (Ping timeout)
[12:29:14] *** Joins: robn (robn@moz-76B0302C.static.internode.on.net)
[12:29:31] *** Joins: abinader (sid21713@moz-A42E5B7B.irccloud.com)
[12:29:38] *** Quits: eddyb (eddy@F8B50789.F33C1089.FB866788.IP) (Ping timeout)
[12:37:19] *** Joins: untitaker_ (untitaker@moz-91D389F5.adsl.highway.telekom.at)
[12:37:32] *** Joins: eddyb (eddy@F8B50789.F33C1089.FB866788.IP)
[12:37:51] *** Quits: jviereck (Adium@moz-B9C0530E.ethz.ch) (Ping timeout)
[12:37:57] *** Quits: untitaker (untitaker@moz-91D389F5.adsl.highway.telekom.at) (Ping timeout)
[12:38:38] *** Joins: NiccosSystem_ (NiccosSyst@moz-ED196BB4.customer.lyse.net)
[12:38:43] *** Joins: jviereck (Adium@moz-1E767588.ethz.ch)
[12:41:28] *** Quits: NiccosSystem_ (NiccosSyst@moz-ED196BB4.customer.lyse.net) (Ping timeout)
[12:42:35] *** jorendorff_away is now known as jorendorff
[12:42:48] *** Joins: alonlevy (alon@moz-B6210BD6.red.bezeqint.net)
[12:43:02] *** Quits: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net) (Connection reset by peer)
[12:43:30] *** jorendorff is now known as jorendorff_away
[12:43:50] *** Joins: aravindavk (aravinda@moz-BD0CADEE.redhat.com)
[12:44:05] *** Quits: canhtak (canhtak@moz-4FB0FBC1.wl.t.ulaval.ca) (Ping timeout)
[12:45:38] *** Joins: canhtak (canhtak@moz-4FB0FBC1.wl.t.ulaval.ca)
[12:45:38] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[12:45:38] *** Joins: nszceta (nszceta@moz-E458A7C0.pharm.pitt.edu)
[12:47:09] *** jorendorff_away is now known as jorendorff
[12:47:25] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[12:47:44] *** jorendorff is now known as jorendorff_away
[12:49:35] *** Quits: Rusky (russell@moz-173BA32C.slkc.qwest.net) (Ping timeout)
[12:51:02] *** Quits: untitaker_ (untitaker@moz-91D389F5.adsl.highway.telekom.at) (Ping timeout)
[12:51:22] *** Joins: NiccosSystem_ (NiccosSyst@moz-ED196BB4.customer.lyse.net)
[12:51:33] *** Joins: untitaker (untitaker@moz-91D389F5.adsl.highway.telekom.at)
[12:52:41] *** Joins: marc_ (uid5324@moz-31ABA2C0.irccloud.com)
[12:53:35] *** Joins: LRN (LRN@moz-EA80C63C.nationalcablenetworks.ru)
[12:54:32] *** jorendorff_away is now known as jorendorff
[12:56:15] *** Joins: dschatzberg (dschatzber@moz-E2680405.bu.edu)
[12:56:59] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[12:57:13] *** Quits: jviereck (Adium@moz-1E767588.ethz.ch) (Quit: Leaving.)
[12:57:23] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[12:58:05] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[12:58:43] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[12:58:59] *** Quits: LRN (LRN@moz-EA80C63C.nationalcablenetworks.ru) (Quit: Leaving.)
[12:59:09] *** Joins: LRN (LRN@moz-EA80C63C.nationalcablenetworks.ru)
[12:59:10] *** Joins: jviereck (Adium@moz-1E767588.ethz.ch)
[12:59:16] *** Joins: daschl (Adium@moz-DC6DE6E2.vie.surfer.at)
[12:59:42] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[13:00:25] *** Quits: aravindavk (aravinda@moz-BD0CADEE.redhat.com) (Quit: Leaving)
[13:00:27] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[13:00:39] *** Joins: qwerty_nor (Thunderbir@A5447B90.EDC74FC5.E19950A4.IP)
[13:01:12] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Input/output error)
[13:01:37] *** Joins: Tari (tari@moz-A009139E.net)
[13:02:21] *** Joins: benjamin_ (benjamin@moz-F6125F64.dip0.t-ipconnect.de)
[13:05:09] *** jorendorff is now known as jorendorff_away
[13:06:11] *** Quits: maattdd (matthieu@moz-71F66BC0.w82-123.abo.wanadoo.fr) (Ping timeout)
[13:07:12] *** Joins: Earnestly (earnest@23825DB4.728D78D6.39C00A7A.IP)
[13:07:33] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[13:07:59] *** Quits: NiccosSystem_ (NiccosSyst@moz-ED196BB4.customer.lyse.net) (Ping timeout)
[13:09:02] *** Quits: StarLight (StarLight@moz-6BA765D0.pppoe.avangarddsl.ru) (Ping timeout)
[13:11:25] *** flaper87|afk is now known as flaper87
[13:13:21] *** Joins: StarLight (StarLight@moz-8D7C0FEC.dynamic.avangarddsl.ru)
[13:14:38] *** Quits: saml_ (saml@moz-AFAADF83.nycmny.east.verizon.net) (Quit: Leaving)
[13:17:18] *** Joins: jaras (textual@1CDC5701.A48867D7.52E4E107.IP)
[13:17:52] *** Quits: canhtak (canhtak@moz-4FB0FBC1.wl.t.ulaval.ca) (Quit: canhtak)
[13:18:02] *** Joins: jmmk (jmmk@moz-588F65EA.c3-0.smr-ubr1.sbo-smr.ma.cable.rcn.com)
[13:19:39] *** Joins: nano (nano@moz-ED77243C.superkabel.de)
[13:19:47] *** Quits: darnuria (darnuria@moz-AB6EB255.ip-91-121-133.eu) (Ping timeout)
[13:20:11] <jmmk> How do the rust primitives map to e.g. C primitives? Why is there an int and uint type but no float type? Is it typical to use uint and int or to specify the actual size?
[13:20:30] <jmmk> TL;DR: How do I choose my primitive data types
[13:20:32] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[13:20:34] <eddyb> jmmk: uint/int are uintptr_t/intptr_t
[13:21:05] <eddyb> the issue with floating-point is that in certain cases you don't want to touch f32 while in others you don't want to touch f64
[13:21:35] *** Joins: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net)
[13:21:51] <huon> f32 == float, f64 == double
[13:22:17] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[13:23:12] <jmmk> In general if I am storing an integer, should I prefer int/uint or u/i 8,16,32,64
[13:23:41] <huon> depends what you're using it for
[13:24:03] <huon> if it's array indices, or lengths, or somethign else memory related. then uint/int are what you want
[13:24:22] <huon> if it's a general number then u64, unless you have tighter bounds on the limits
[13:24:29] <huon> s/limits/range of values/
[13:24:40] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[13:24:48] <huon> (although most people end up just using uint/int for everything.)
[13:24:59] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[13:25:17] <jmmk> What's the size difference of u64 vs uint on linux?
[13:25:29] <huon> uint is the size of the pointers
[13:25:53] <huon> so on a 64-bit computer uint is the same size as u64 (modulo ABIs like x32)
[13:26:03] <huon> and on a 32-bit computer uint is the same size as u32
[13:26:13] <huon> the operating system has (nearly) nothing to do with it
[13:26:40] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[13:27:20] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[13:27:40] <jmmk> so pointers are sized based on processor architecture?
[13:27:55] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[13:28:35] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[13:29:16] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[13:29:58] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[13:30:56] *** Quits: penguin_dan (dan_johnsi@6902762D.11B071D.FB9A45AF.IP) (Ping timeout)
[13:31:19] *** Joins: penguin_dan (dan_johnsi@6902762D.11B071D.FB9A45AF.IP)
[13:32:05] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[13:32:21] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[13:32:56] *** Joins: canhtak (canhtak@moz-4FB0FBC1.wl.t.ulaval.ca)
[13:33:02] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[13:33:17] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[13:33:56] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[13:34:12] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[13:34:26] <kimundi> jmmk: yes. A architecture that can address 2^64 bytes of memory has 64bit pointers, a architecture that can address 2^32 bytes of memory has 32bit pointers.
[13:34:31] *** Quits: cschneid (cschneid@moz-621ACC77.hlrn.qwest.net) (Client exited)
[13:34:53] *** Joins: cschneid (cschneid@moz-621ACC77.hlrn.qwest.net)
[13:35:05] <kimundi> (Technically current x86_x64 can only address 48 bit, but it gets rounded up)
[13:35:42] <bstrie> "Rust enthusiasts: Prove the superiority of your language by writing a simpler, better, bug-free Tor today!" CHALLENGE ACCEPTED
[13:36:07] <bstrie> https://trac.torproject.org/projects/tor/ticket/11331
[13:36:19] <eddyb> bstrie: you're late
[13:36:32] <eddyb> huon already posted it :P
[13:36:38] *** Quits: cschneid (cschneid@moz-621ACC77.hlrn.qwest.net) (Ping timeout)
[13:36:45] <jmmk> oh it just hit me why that makes sense
[13:37:00] <jmmk> the actual address will be longer, so it has to be longer to store the number
[13:37:15] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[13:37:29] *** Quits: kris (kris@moz-3A817138.dk.customer.tdc.net) (Ping timeout)
[13:37:31] *** Joins: kris (kris@moz-147EE6DF.diku.dk)
[13:38:44] *** Quits: jviereck (Adium@moz-1E767588.ethz.ch) (Ping timeout)
[13:38:51] *** Joins: Kynes (Kynes@moz-3DC6C6E7.mit.edu)
[13:40:30] <kaeso> how do I print/fmt a binary uint padded with enough 0s to fill its full size? I mean, abstract {:08t} for u8, {016t} for u16 when I don't know the actual size a priori... 
[13:41:19] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[13:41:27] *** Joins: mihneadb (mihneadb@moz-6B31F5AA.static.ziggozakelijk.nl)
[13:41:35] *** Joins: jviereck (Adium@moz-1E767588.ethz.ch)
[13:42:56] <Veld> @kaeso maybe this will help: http://static.rust-lang.org/doc/master/std/fmt/struct.Formatter.html
[13:43:13] *** Joins: sankha93 (sankha93@7061CD01.D6BD0D91.22D41759.IP)
[13:44:55] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[13:45:04] *** Joins: bollu (bollu@31CCE710.7065DDB9.6D6A344F.IP)
[13:45:24] <bollu> I'm unable to use generic traits - https://gist.github.com/bollu/c3362ab457a34f8ae63e#file-pane-rs-L80-L82 help please?
[13:45:40] <SiegeLord> kaeso: You can use a parameter for the padding
[13:46:01] <SiegeLord> Like... println!("{:01$}", number, padding)
[13:46:10] <SiegeLord> And padding can be computed via size_of
[13:46:11] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[13:46:14] <io2> SiegeLord: in here as well? interesting :)
[13:46:18] <kaeso> SiegeLord: I see
[13:46:21] <kimundi> bollu: What exactly is the problem?
[13:46:25] <kaeso> SiegeLord: thanks
[13:46:51] <SiegeLord> io2: I had to look it up, I'd have been disappointed if you couldn't do it XD
[13:46:55] <bollu> kimundi: like it says, it claims there are conflicting implementations of the trait EngineDrawablr
[13:47:05] <bollu> kimundi: but I have no clue why
[13:47:06] <Veld> bollu: 'a is a lifetime, not a generic type
[13:47:12] <kimundi> bollu: Ah, sorry, did scroll down far enough
[13:47:15] <io2> SiegeLord: what? is autocomplete busted for ya? :P
[13:47:29] <kimundi> bollu: The problem is not the trait, the problem is the impl
[13:47:43] *** Joins: janra (Janus@1CDC5701.A48867D7.52E4E107.IP)
[13:47:54] <bollu> kimundi: what's wrong with the line impl<'a> EngineDrawable for PaneRenderer<'a> ?
[13:47:55] <SiegeLord> I'll be able to die peacefully when we get autocompletion for Rust format strings
[13:48:01] <kimundi> bollu: Right now, if you implement generically for all T, you can not specialize for a specific T as well.
[13:48:05] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[13:48:13] <bollu> kimundi: but I'm restrcting T aren't I ?
[13:48:24] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[13:48:29] <kimundi> bollu: Yes, but rustc isn't currently considering that restriction
[13:48:30] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[13:48:39] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[13:48:40] <bollu> kimundi: ah, bummer :( 
[13:48:49] <kimundi> bollu: There will likely be a change in the future that will allow this
[13:48:51] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[13:48:55] *** Quits: sunfish (chatzilla@8F761026.B5EF4AF6.E96CA9D8.IP) (Ping timeout)
[13:49:08] *** Quits: Earnestly (earnest@23825DB4.728D78D6.39C00A7A.IP) (Quit: WeeChat 0.4.4-dev)
[13:49:10] <bollu> kimundi: so... workaround ? (I could hack rust-sfml but I'm not a fan of that solution)
[13:49:19] *** Joins: darnuria (darnuria@moz-AB6EB255.ip-91-121-133.eu)
[13:50:06] *** Joins: brendan (brendaneic@moz-D9B414AF.hfc.comcastbusiness.net)
[13:50:19] <kimundi> bollu: Workarounds include manually implementing EngineDrawable for all types instead of generically. You can write a macro to ease this.
[13:50:25] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[13:50:37] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Ping timeout)
[13:50:50] <bollu> kimundi: ah. okay. I'll have to use rust macros then. Have not done so so far
[13:52:23] <bollu> kimundi: have some pseudocode for me? 
[13:52:28] *** Joins: Earnestly (earnest@23825DB4.728D78D6.39C00A7A.IP)
[13:52:35] <kimundi> bollu: The macro way would basically just be for reducing a lot of `impl EngineDrawable for MyType { fn Draw(&self, ...)}` to impl_engine_drawable!(MyType) or so.
[13:52:42] <kimundi> sec
[13:54:04] <bollu> kimundi: rust macros look unwieldy
[13:54:20] <kimundi> bollu: https://gist.github.com/Kimundi/9808071
[13:54:27] <bollu> ty
[13:55:04] <bollu> ($T:ty) ty means Type correct?
[13:55:09] <kimundi> yep
[13:55:18] <kimundi> It means the macro accepts a type as argument
[13:56:14] *** Quits: jaras (textual@1CDC5701.A48867D7.52E4E107.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[13:56:51] <bollu> kimundi: should it not be macro_rules! impl_engine_drawable {
[13:57:02] <bollu> without the ! after impl_engine_drawable ?
[13:57:06] <kimundi> whoops, yeah
[13:57:16] <kimundi> fixed
[13:57:18] *** Joins: infynyxx_ (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[13:57:33] <bollu> and where do I add the  add #[feature(macro_rules)] ?
[13:57:43] <bollu> tried adding it in main.rs and rendering.rs
[13:57:46] <kimundi> Just at the top of your crate
[13:57:56] <kimundi> Don't forget the semicolon
[13:58:01] *** Joins: Sorella_ (queen@9D963F5D.DF5D8AE7.54BCAB54.IP)
[13:58:07] <bollu> kimundi: ah :D
[13:58:08] *** Quits: nano (nano@moz-ED77243C.superkabel.de) (Connection reset by peer)
[13:58:08] *** Quits: Sorella (quildreen@9D963F5D.DF5D8AE7.54BCAB54.IP) (Quit: Ex-Chat)
[13:58:09] <kimundi> #[feature(macro_rules)];
[13:58:19] <kimundi> (Soon #![feature(macro_rules)] instead)
[13:58:56] <bollu> ../src/main.rs:25:24: 25:25 error: expected item but found `;`
[13:58:57] <bollu> ../src/main.rs:25 #[feature(macro_rules)];
[13:59:00] *** Quits: infynyxx_ (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[14:00:27] *** Quits: bourbaki (luesebrink@moz-8D2EEA33.dip0.t-ipconnect.de) (Connection reset by peer)
[14:00:55] *** Quits: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com) (Ping timeout)
[14:01:05] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[14:01:54] *** Joins: hjr3 (hradtke@moz-E952E90B.hsd1.or.comcast.net)
[14:02:12] <eddyb> bollu: top of the file
[14:02:49] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[14:03:28] *** Quits: vgeddes (vincent.ge@moz-A97D336F.access.mtnbusiness.co.za) (Ping timeout)
[14:03:35] *** Quits: skade (skade@B4A5FE21.505237C9.CAE22B62.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[14:03:52] *** Quits: lpy (lpy@8B40CDAC.F09091A8.1348A864.IP) (Ping timeout)
[14:04:25] *** Joins: tyna (liadon@moz-BB1BAD9A.dynamic.chello.pl)
[14:04:29] *** Joins: espindola (espindola@moz-2B21D45F.dsl.teksavvy.com)
[14:05:06] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[14:05:25] *** Joins: sunfish (chatzilla@13F2CEC5.7672369.D8E68FF6.IP)
[14:06:55] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[14:07:50] *** Joins: tobytailor (tobytailor@moz-CBD810C7.hsd1.ca.comcast.net)
[14:08:03] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[14:09:30] *** jorendorff_away is now known as jorendorff
[14:09:42] *** Joins: skade (skade@B4A5FE21.505237C9.CAE22B62.IP)
[14:11:06] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[14:11:25] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[14:12:04] *** Quits: tobytailor (tobytailor@moz-CBD810C7.hsd1.ca.comcast.net) (Quit: tobytailor)
[14:13:03] *** Joins: vikstrous (v@13F2CEC5.7672369.D8E68FF6.IP)
[14:14:27] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Quit: csherratt)
[14:14:29] *** Quits: alonlevy (alon@moz-B6210BD6.red.bezeqint.net) (Ping timeout)
[14:16:48] *** Quits: ChrisOei (ChrisOei@moz-30D80888.hsd1.ca.comcast.net) (Ping timeout)
[14:18:26] *** Quits: bollu (bollu@31CCE710.7065DDB9.6D6A344F.IP) (Quit: Lost terminal)
[14:18:28] *** Quits: patpat (patpat@93617333.BDA62CC0.98F3E2B5.IP) (Ping timeout)
[14:20:25] *** Quits: canhtak (canhtak@moz-4FB0FBC1.wl.t.ulaval.ca) (Quit: canhtak)
[14:21:00] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[14:21:16] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[14:22:18] *** Joins: espindol_ (espindola@moz-9F530B29.com)
[14:22:53] *** Quits: espindola (espindola@moz-2B21D45F.dsl.teksavvy.com) (Ping timeout)
[14:23:02] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[14:23:42] *** Joins: goffrie_ (goffrie@moz-25251DC3.dsl.ncf.ca)
[14:23:44] *** Quits: sunfish (chatzilla@13F2CEC5.7672369.D8E68FF6.IP) (Ping timeout)
[14:23:57] *** Quits: goffrie (goffrie@moz-2E1C73A.dsl.ncf.ca) (Ping timeout)
[14:25:33] *** Joins: nano (nano@moz-ED77243C.superkabel.de)
[14:27:21] *** Joins: maxli (Adium@moz-B19F68ED.student.cs.uwaterloo.ca)
[14:27:40] *** Joins: espindola (espindola@moz-2B21D45F.dsl.teksavvy.com)
[14:28:20] *** Quits: espindol_ (espindola@moz-9F530B29.com) (Ping timeout)
[14:30:33] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[14:30:43] *** Joins: espindol_ (espindola@moz-9F530B29.com)
[14:30:46] *** Joins: edwardw (edwardw@9366486F.7FC992B3.B3B412E5.IP)
[14:30:58] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[14:31:52] *** Quits: espindola (espindola@moz-2B21D45F.dsl.teksavvy.com) (Ping timeout)
[14:34:02] *** Joins: canhtak (canhtak@moz-4FB0FBC1.wl.t.ulaval.ca)
[14:35:09] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[14:35:11] *** Joins: espindola (espindola@moz-2B21D45F.dsl.teksavvy.com)
[14:35:52] *** Quits: espindol_ (espindola@moz-9F530B29.com) (Ping timeout)
[14:36:15] *** Joins: pczarn (pczarn@moz-69A55FA.izacom.pl)
[14:36:30] *** Quits: jviereck (Adium@moz-1E767588.ethz.ch) (Quit: Leaving.)
[14:37:20] *** Joins: jviereck (Adium@moz-1E767588.ethz.ch)
[14:38:13] *** Quits: mediocrity (Thunderbir@moz-8A2E9A09.bredband.comhem.se) (Quit: mediocrity)
[14:38:15] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[14:38:20] *** Joins: Rym (y@F571237E.E30DB9C2.8772DA20.IP)
[14:38:28] *** Joins: HoreX (Thunderbir@4A6CDC5D.D7D92D5A.8F895A6D.IP)
[14:38:40] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[14:40:03] *** Quits: W0rmDr1nk (wormdrink@5451F9BD.52135167.A77EFE04.IP) (Ping timeout)
[14:40:46] *** Joins: hdevalence (quassel@moz-D125A39F.home3.cgocable.net)
[14:40:52] *** Quits: apollow (yellowy432@moz-DF01490A.lightspeed.sntcca.sbcglobal.net) (Ping timeout)
[14:41:15] *** Joins: alext (Adium@moz-9D94344A.albq.qwest.net)
[14:41:28] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[14:42:21] *** Quits: HoreX (Thunderbir@4A6CDC5D.D7D92D5A.8F895A6D.IP) (Quit: HoreX)
[14:42:30] *** Joins: sunfish (chatzilla@13F2CEC5.7672369.D8E68FF6.IP)
[14:42:46] *** Joins: mib_4tlp36 (Mibbit@AC75EC74.A410FA5.CC1A2609.IP)
[14:42:51] *** Joins: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net)
[14:44:05] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[14:44:21] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[14:44:57] *** Quits: tyna (liadon@moz-BB1BAD9A.dynamic.chello.pl) (Quit: Leaving.)
[14:44:57] *** Joins: dirtyvader (dirtyvader@E8FD12E.EF916AE4.5C7CEBE3.IP)
[14:45:07] <dirtyvader> hi
[14:46:09] *** Quits: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net) (Ping timeout)
[14:49:05] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[14:49:07] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[14:49:09] *** Joins: ryeguy (Mibbit@EC0380F4.1C43967E.E9A87632.IP)
[14:49:23] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[14:50:10] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[14:50:23] *** Quits: mib_4tlp36 (Mibbit@AC75EC74.A410FA5.CC1A2609.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[14:50:35] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[14:50:51] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[14:51:09] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[14:51:27] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[14:52:20] *** Joins: lpy (lpy@1834E2CB.F09091A8.1348A864.IP)
[14:52:47] *** Quits: hjr3 (hradtke@moz-E952E90B.hsd1.or.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[14:52:49] *** Quits: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net) (Quit: Taking a nap.)
[14:53:57] <ryeguy> if im writing a shared lib in rust, how can i create an object in rust then return a pointer to C without rust destroying it? Like `fn make_thing() -> *Thing`
[14:54:34] *** Joins: mediocrity (Thunderbir@moz-8A2E9A09.bredband.comhem.se)
[14:54:47] *** Quits: mediocrity (Thunderbir@moz-8A2E9A09.bredband.comhem.se) (Quit: mediocrity)
[14:56:19] *** Joins: jdm (jdm@moz-AC9499B2.cable.teksavvy.com)
[14:56:19] *** ChanServ sets mode: +o jdm
[14:56:20] <eddyb> ryeguy: transmute can let you convert ~T to *T
[14:56:25] <eddyb> ryeguy: without freeing the original value
[14:58:54] <ryeguy> eddyb: that looks like it will work, thanks. How would I go about properly destructing it later, then? Can I transmute it back and then just let it fall out of scope?
[15:00:04] *** Joins: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP)
[15:00:07] <eddyb> ryeguy: yupp
[15:00:26] <eddyb> ryeguy: or use std::mem::drop as an explicit way to do so (fn drop<T>(_: T){})
[15:01:23] *** Joins: mediocrity (Thunderbir@moz-8A2E9A09.bredband.comhem.se)
[15:01:39] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[15:02:10] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[15:03:23] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[15:03:56] *** Joins: benjamin_____ (benjamin@moz-1BC8DB46.dip0.t-ipconnect.de)
[15:03:58] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Ping timeout)
[15:04:30] *** Quits: benjamin_ (benjamin@moz-F6125F64.dip0.t-ipconnect.de) (Ping timeout)
[15:04:51] *** Quits: not_gavin (gavin@gavinsharp.com) (Input/output error)
[15:05:09] *** Joins: not_gavin (gavin@gavinsharp.com)
[15:06:59] *** Quits: wilmoore (wilmoore@moz-4EF3CEBC.hsd1.co.comcast.net) (Ping timeout)
[15:07:19] *** Quits: Lovot (root@moz-64ED673A.knology.net) (Ping timeout)
[15:07:46] *** Quits: jviereck (Adium@moz-1E767588.ethz.ch) (Quit: Leaving.)
[15:09:22] *** Joins: cschneid (cschneid@moz-CA025D57.ip.mcleodusa.net)
[15:10:29] *** Quits: mihneadb (mihneadb@moz-6B31F5AA.static.ziggozakelijk.nl) (Ping timeout)
[15:11:43] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[15:12:10] *** Joins: Rusky (russell@moz-37E87AF7.slkc.qwest.net)
[15:12:46] *** Quits: mediocrity (Thunderbir@moz-8A2E9A09.bredband.comhem.se) (Quit: mediocrity)
[15:13:24] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[15:14:26] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Client exited)
[15:14:30] *** Quits: toshok (toshok@moz-43741342.cat) (Ping timeout)
[15:14:47] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[15:14:56] *** Joins: toshok (toshok@moz-43741342.cat)
[15:15:24] *** Joins: bjustin (bjustin@moz-8FC28563.sierrabravo.net)
[15:16:34] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Ping timeout)
[15:21:43] *** Joins: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net)
[15:22:10] *** Joins: patpat (patpat@moz-1599AAE4.as13285.net)
[15:22:16] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[15:23:58] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[15:23:59] *** Joins: mihneadb (mihneadb@moz-6B31F5AA.static.ziggozakelijk.nl)
[15:24:56] *** Quits: Rym (y@F571237E.E30DB9C2.8772DA20.IP) (Ping timeout)
[15:28:27] *** jorendorff is now known as jorendorff_away
[15:29:15] *** Joins: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com)
[15:31:57] *** jorendorff_away is now known as jorendorff
[15:32:10] *** Quits: brendan (brendaneic@moz-D9B414AF.hfc.comcastbusiness.net) (Quit: brendan)
[15:32:42] *** Joins: pepijndevos (pepijndevo@9EACEF43.E50A3180.BCE47D84.IP)
[15:34:26] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[15:35:50] *** Quits: espindola (espindola@moz-2B21D45F.dsl.teksavvy.com) (Input/output error)
[15:35:56] *** Joins: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com)
[15:36:26] *** Quits: asmyers (quassel@moz-1BA75A5A.hrbgpa.east.verizon.net) (Ping timeout)
[15:37:36] *** Joins: espindola (espindola@moz-2B21D45F.dsl.teksavvy.com)
[15:37:44] *** Quits: eholk (eholk@9F0E3073.6A9D8DF7.8FE2F0CE.IP) (Quit: eholk)
[15:37:55] *** Joins: lkuper (lkuper@87D98E32.4046EB22.428F94DD.IP)
[15:38:11] *** Quits: Ferreus_ (ferreus@moz-4630C183.dip0.t-ipconnect.de) (Ping timeout)
[15:38:13] *** Joins: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net)
[15:38:23] *** Joins: lawrence (lawrence@moz-933C3B18.wireless.utoronto.ca)
[15:38:40] *** Quits: lawrence (lawrence@moz-933C3B18.wireless.utoronto.ca) (Quit: Textual IRC Client: www.textualapp.com)
[15:39:17] *** Quits: espindola (espindola@moz-2B21D45F.dsl.teksavvy.com) (Ping timeout)
[15:42:07] *** Quits: Veld (Mibbit@moz-4A19983C.ip227.fastwebnet.it) (Quit: http://www.mibbit.com ajax IRC Client)
[15:42:26] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[15:43:26] *** jorendorff is now known as jorendorff_away
[15:44:14] *** Quits: edwardw (edwardw@9366486F.7FC992B3.B3B412E5.IP) (Quit: Leaving...)
[15:44:44] *** jorendorff_away is now known as jorendorff
[15:45:01] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Quit: csherratt)
[15:45:24] *** Quits: untitaker (untitaker@moz-91D389F5.adsl.highway.telekom.at) (Ping timeout)
[15:47:02] *** Joins: Tuba (Tobba@moz-462B7F7F.ias.bredband.telia.com)
[15:47:08] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[15:47:24] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[15:48:17] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[15:48:23] *** Quits: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com) (Ping timeout)
[15:48:43] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[15:49:10] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[15:49:13] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[15:49:24] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[15:49:38] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[15:49:50] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[15:49:55] *** Joins: Rym (y@F571237E.E30DB9C2.8772DA20.IP)
[15:50:08] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[15:50:25] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[15:51:09] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[15:51:36] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[15:52:12] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[15:52:41] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[15:53:12] *** Joins: untitaker (untitaker@moz-1A49BF78.adsl.highway.telekom.at)
[15:53:54] *** Joins: brendan (brendaneic@moz-D9B414AF.hfc.comcastbusiness.net)
[15:55:24] *** Joins: jvoorhis (jvoorhis@moz-C6630C7B.wildsalmoncenter.org)
[15:55:28] *** Quits: lpy (lpy@1834E2CB.F09091A8.1348A864.IP) (Client exited)
[15:55:36] *** Joins: jeaye (jeaye@moz-34FEF2BB.hsd1.ca.comcast.net)
[15:57:21] *** Joins: mediocrity (Thunderbir@moz-8A2E9A09.bredband.comhem.se)
[15:58:03] *** Quits: mediocrity (Thunderbir@moz-8A2E9A09.bredband.comhem.se) (Quit: mediocrity)
[15:58:34] *** jorendorff is now known as jorendorff_away
[16:01:35] *** jorendorff_away is now known as jorendorff
[16:02:08] *** Joins: edwardw (edwardw@7AF41815.E6BB1EAE.D39A8B3F.IP)
[16:04:12] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[16:04:42] *** Quits: mihneadb (mihneadb@moz-6B31F5AA.static.ziggozakelijk.nl) (Quit: Computer gone to sleep - Zzzz...)
[16:04:59] *** Joins: TimAbraldes (quassel@125EF623.B2666F0E.66399531.IP)
[16:05:02] *** Joins: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP)
[16:05:57] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[16:06:45] *** Quits: Zr40 (zr40@EE4BB9F5.926C319A.BE2F4011.IP) (Quit: leaving)
[16:07:01] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[16:07:16] *** Joins: Savago (Savago@F7A245C3.E820043D.D4C04133.IP)
[16:07:43] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[16:08:37] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[16:08:39] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Input/output error)
[16:08:48] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[16:08:57] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[16:09:09] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[16:09:11] <geal> is there some example of how to use librustc? I see the APIs in http://static.rust-lang.org/doc/master/rustc/index.html are not stable yet, but it looks like something that would be fun to play with :)
[16:09:58] <geal> of course "I hereby attest that I will not whine for any API breakage or CPU melting due to using that library" :p
[16:10:24] <eddyb> geal: librustdoc, but it's not exactly idiomatic
[16:10:40] <geal> ok
[16:10:52] *** Quits: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP) (Client exited)
[16:11:21] <geal> I'm mostly interested in playing with the AST. Adding, removing stuff during the compilation. I guess I'll have to use the phase_X_* functions
[16:11:22] *** Quits: brendan (brendaneic@moz-D9B414AF.hfc.comcastbusiness.net) (Quit: brendan)
[16:11:51] <eddyb> geal: that's actually mostly libsyntax
[16:11:54] *** Joins: onelson (owen@moz-DD666EC5.laika.com)
[16:12:03] *** Quits: GrecKo (GrecKo@moz-A7AA1BB6.fr) (Quit: No Ping reply in 180 seconds.)
[16:12:17] <eddyb> geal: look inside the phase functions in driver.rs, I guess
[16:12:21] *** Joins: GrecKo (GrecKo@moz-A7AA1BB6.fr)
[16:12:24] *** Joins: khodzha1 (khodzha@1336D552.A859D9FD.CA6E2165.IP)
[16:12:28] *** Quits: khodzha (khodzha@B3C35DEA.A859D9FD.CA6E2165.IP) (Ping timeout)
[16:12:35] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[16:13:11] <geal> oh, yes, libsyntax might be easier to work with
[16:13:14] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[16:13:18] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Ping timeout)
[16:13:31] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[16:13:34] *** Quits: Siosm (quassel@moz-9911B053.fr) (Quit: No Ping reply in 180 seconds.)
[16:13:56] *** Joins: Siosm (quassel@moz-9911B053.fr)
[16:14:08] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[16:14:27] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[16:14:49] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[16:14:58] *** Quits: marc_ (uid5324@moz-31ABA2C0.irccloud.com) (Quit: Connection closed for inactivity)
[16:15:08] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[16:15:57] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[16:16:33] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[16:18:40] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[16:19:26] *** Quits: bleibig (bleibig@moz-B4D9C5AF.hsd1.ca.comcast.net) (Quit: bleibig)
[16:19:51] *** Joins: evanm (evanm@636AC086.5999CED5.71743E61.IP)
[16:20:10] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[16:20:10] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[16:20:29] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[16:20:32] *** Quits: canhtak (canhtak@moz-4FB0FBC1.wl.t.ulaval.ca) (Quit: canhtak)
[16:20:48] *** Quits: lkuper (lkuper@87D98E32.4046EB22.428F94DD.IP) (Quit: lkuper)
[16:20:51] *** Quits: leowoe (Leo@moz-CEF2400C.inf.uni-konstanz.de) (Quit: Leaving.)
[16:21:12] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[16:21:16] *** jorendorff is now known as jorendorff_away
[16:21:48] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[16:22:18] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[16:22:47] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[16:24:47] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[16:25:15] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[16:25:29] *** Quits: intuxicated (intuxicate@3AEA5E5.FBDFAF77.BD3E1BB3.IP) (Client exited)
[16:25:40] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[16:25:40] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[16:26:54] *** Joins: pepp (Mibbit@9BC0E02.3C76CC5B.CE5C763D.IP)
[16:27:10] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[16:27:30] <Manishearth> Hey everyone : Know any rust gotchas? /me xant remember off the top of my head
[16:27:38] <Manishearth> *can't
[16:28:17] <geal> Manishearth: beware of lifetimes
[16:28:29] *** Quits: jvoorhis (jvoorhis@moz-C6630C7B.wildsalmoncenter.org) (Client exited)
[16:28:29] <Manishearth> ah of course
[16:28:36] <Manishearth> and semicolons
[16:28:49] <Manishearth> more non obvious ones?
[16:28:53] *** jorendorff_away is now known as jorendorff
[16:28:54] <geal> lifetimes are the problems where the compiler complains, you tell him that he's wrong, it complains again, then you udnerstand that you've been dumb
[16:29:02] <eddyb> Manishearth: come on, semicolons?
[16:29:07] <eddyb> Rust is not JS
[16:29:12] <Manishearth> eddyb: lol
[16:29:32] <Manishearth> but to a c++ pgmmer, yes
[16:29:48] <Manishearth> (the audience tomorrow is largely cpp?
[16:30:17] <myname> where is semicolon a gotcha for c++?
[16:30:28] *** Quits: noam (noam@F6B530A7.720527A7.416762B.IP) (Ping timeout)
[16:30:30] <myname> i'd say the block syntax of e.g. if
[16:30:44] <Manishearth> no, the rust semicolon is a gotcha for c++ians
[16:30:45] <pepp> hi, how can I constuct Ok of std::fmt::Result in a module where there is another Ok enum variant?
[16:30:53] <myname> Manishearth: at what point?
[16:30:59] <SiegeLord> Aside from the attributes, there is no semicolon gotcha
[16:31:04] <pepp> I am trying to write impl of Show
[16:31:12] <myname> let a = b = c; is a gotcha IMO
[16:31:24] <Manishearth> hmm, true
[16:32:08] *** Joins: alonlevy (alon@moz-B6210BD6.red.bezeqint.net)
[16:32:15] <SiegeLord> Autoderef can produce infinite recursion occasionally
[16:32:36] <myname> let (a, b, c) = (1, 2, 3); working vs (a, b, c) = (1, 2, 3) not working
[16:32:37] <Manishearth> i like how, for once, match is NOT a gotcha (no fall through!)
[16:33:10] <SiegeLord> And 'mod' can be easily misused
[16:33:15] <Manishearth> autoderef. grr.
[16:33:22] *** Joins: jxv (jxv@moz-D1F0EBC3.socal.res.rr.com)
[16:33:38] *** Joins: ChrisOei (ChrisOei@moz-53A9266A.blurb.com)
[16:34:09] <myname> maybe range vs range_inclusive
[16:34:13] <SiegeLord> I wouldn't say something is a gotcha if it compiles and functions correctly :P
[16:34:18] <Rym> Anyone able to remind me? Saw this answered in chat yesterday.. Vec<T> !=  ~[T] .... ??? == ~[T]
[16:35:02] <SiegeLord> In the future, the primary difference is that Vec<T> is resizable, and ~[] is not
[16:35:17] *** Quits: maxli (Adium@moz-B19F68ED.student.cs.uwaterloo.ca) (Quit: Leaving.)
[16:35:33] <myname> is Vec<T> now what ~[T] was earlier?
[16:35:35] *** Joins: rgomes (rgomes@moz-C03C5B02.dsl.eclipse.net.uk)
[16:35:39] *** Quits: doomlord_ (servitor@moz-99BE89EC.range86-184.btcentralplus.com) (Ping timeout)
[16:35:58] <SiegeLord> Well, it still currently is... but it's being removed so it can be reintroduced safely
[16:36:06] *** Joins: doomlord_ (servitor@moz-88D9A890.range86-184.btcentralplus.com)
[16:36:39] <Rym> SiegeLord: wondering what type I need to use instead of Vec to get it to act like ~[T] (to remove expected ~[T] but found Vec errors)
[16:37:11] <SiegeLord> Right now, it is best to convert all ~[T] to Vec<T> if you don't mind some minor ugliness here and there
[16:37:17] <SiegeLord> Or disable the warning and wait for the error
[16:37:40] <SiegeLord> Oh, instead of Vec
[16:37:55] <SiegeLord> Err... why would you want to use something instead of Vec?
[16:38:02] *** Joins: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net)
[16:38:34] <Rym> To get old code to compile :P
[16:38:57] *** Joins: W0rmDr1nk (wormdrink@5451F9BD.52135167.A77EFE04.IP)
[16:39:07] <Rym> (not my code, but it used std::vec before, so trying to get it to compile before making any bigger changes)
[16:39:38] <SiegeLord> Well, then use ~[T], if you don't feel like converting it to use Vec
[16:39:47] <Manishearth> rust changes too much -_-
[16:39:49] <eddyb> SiegeLord: that's not exactly an option
[16:40:03] <SiegeLord> Why not?
[16:40:24] <eddyb> though DST moves faster than ~[T] removal, so *shrug*
[16:40:30] <Manishearth> ...which is good, but annoying at times :P
[16:41:13] <pnkfelix> Rym: also, if you are trying to interface two libraries that conflict about use of ~[T] and Vec<T>, and if you don't care about potential inefficiency, you can put in `v.move_iter().collect()` to convert between from each form of vectors to the other.
[16:41:19] <eddyb> Rym: did you use growable methods on ~[T]? like push/pop, whatever?
[16:41:59] <pnkfelix> Rym: (that is of course a nasty short-term hack to just get things building/off-the-ground)
[16:42:10] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[16:42:15] <whitequark> what is even a point of removing ~[T]? some deep hate for concise syntax or something?
[16:42:24] <eddyb> whitequark: ...
[16:42:31] <seanmonstar> that's exactly why
[16:42:44] <eddyb> whitequark: if we don't remove it then ~[T] will be an ambiguity
[16:42:46] <pnkfelix> whitequark: i think that Q was answered above
[16:42:51] <Rym> from what I can see, they dont grow it anywhere, and it's initialized from Vec::from_elem
[16:42:57] <whitequark> oh, "reintroduced safely"
[16:42:59] <eddyb> whitequark: because under DST, ~[T] is parsed as ~ and [T]
[16:43:00] <whitequark> nevermind then
[16:43:00] <pnkfelix> whitequark: by SiegeLord
[16:43:08] <whitequark> eddyb: pnkfelix: got it, thanks.
[16:43:14] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[16:43:29] <whitequark> DST is really nice.
[16:43:29] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[16:43:46] *** Joins: hjr3 (hradtke@moz-E952E90B.hsd1.or.comcast.net)
[16:44:04] <doomlord_> +1 i like the new role of [T]
[16:47:17] <Rym> eddyb: last line was at you, doesn't seem to grow anywhere
[16:48:06] *** Quits: eddyb (eddy@F8B50789.F33C1089.FB866788.IP) (Ping timeout)
[16:48:20] *** Quits: W0rmDr1nk (wormdrink@5451F9BD.52135167.A77EFE04.IP) (Ping timeout)
[16:48:44] *** Quits: nszceta (nszceta@moz-E458A7C0.pharm.pitt.edu) (Quit: Textual IRC Client: www.textualapp.com)
[16:49:48] *** Joins: eddyb (eddy@F8B50789.F33C1089.FB866788.IP)
[16:50:44] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[16:52:33] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[16:53:21] *** Joins: voxpopuli (fanservice@AE8088FD.7254D4BA.689607DE.IP)
[16:55:16] *** Joins: tobytailor (tobytailor@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[16:55:25] *** Joins: lkuper (lkuper@87D98E32.4046EB22.428F94DD.IP)
[16:56:31] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[16:56:39] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Client exited)
[16:56:53] *** Joins: Florob (Florob@moz-39532932.de)
[16:56:59] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[16:58:18] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[16:59:58] *** Quits: vmx (vmx@moz-F5D49AC4.pools.arcor-ip.net) (Quit: Leaving)
[17:01:00] *** Quits: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP) (Quit: rcirc on GNU Emacs 24.3.1)
[17:01:07] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[17:01:20] <SiegeLord> I'm not seeing too many regressions in my code caused by Rust upgrades, is that an accurate perception or do I just have too little code?
[17:01:31] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[17:01:36] *** Quits: yota (sdouche@moz-7D878FB8.securactive.net) (Quit: Ex-Chat)
[17:02:06] *** Joins: Ms2ger (Ms2ger@moz-A26553B6.adsl-dyn.isp.belgacom.be)
[17:03:14] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[17:03:36] *** Quits: dju (dju@moz-83BD5EC.dmz.me) (Quit: ZNC - http://znc.in)
[17:03:53] <SiegeLord> Back when I was using D, regressions were the name of the game... maybe I've just been lucky so far
[17:04:06] *** Joins: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[17:06:11] <eddyb> SiegeLord: the strong type checked catches most upgrade mistakes
[17:06:11] *** Quits: nano (nano@moz-ED77243C.superkabel.de) (Connection reset by peer)
[17:06:28] *** Joins: jviereck (Adium@moz-E7789D8F.ethz.ch)
[17:06:34] <SiegeLord> D's were just as strongly typed :P
[17:06:41] <eddyb> also borrow checking
[17:06:43] *** Quits: Kxepal (Miranda@moz-28B57678.pppoe.mtu-net.ru) (Ping timeout)
[17:06:47] *** Quits: jviereck (Adium@moz-E7789D8F.ethz.ch) (Max SendQ exceeded)
[17:06:48] *** Joins: redShadow (redShadow@9BDAF02B.D15F9219.1CCF65D9.IP)
[17:06:56] <SiegeLord> It was more like... valid code stopped compiling and now produced ICEs
[17:06:56] *** Joins: jviereck (Adium@moz-E7789D8F.ethz.ch)
[17:07:21] <eddyb> oh, compiler regressions?
[17:07:36] *** Quits: mye (mye@moz-5C4AC8BE.dip0.t-ipconnect.de) (Quit: sleep message)
[17:07:37] <SiegeLord> Yes
[17:07:55] <eddyb> I don't know... some things don't worth immediately after a feature gets added
[17:08:13] <eddyb> but it gets fixed quick if that feature is used within the compiler itself
[17:08:22] <eddyb> *don't work
[17:09:21] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[17:10:32] <edwardw> SiegeLord: the development process of rust helps. the full test-suite after every commit is quite unique, I'd say
[17:10:36] *** Joins: mye (mye@moz-5C4AC8BE.dip0.t-ipconnect.de)
[17:10:53] <eddyb> edwardw: maybe not unique, but definitely special
[17:11:02] *** Joins: Kxepal (Miranda@moz-AA60EEAD.pppoe.mtu-net.ru)
[17:11:03] <SiegeLord> D's test-suite is pretty big too
[17:11:04] *** Joins: dju (dju@moz-F02979DC.rev.poneytelecom.eu)
[17:11:05] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Ping timeout)
[17:11:16] <SiegeLord> Not sure how often it is ran
[17:11:56] <SiegeLord> eddyb's point about rustc being written in Rust supports my preconceptions though
[17:12:29] <eddyb> SiegeLord: as soon as acrichto used Deref in the compiler, he found out I screwed up
[17:12:41] <edwardw> ah yes, that too, and servo. both are big projects
[17:13:21] <eddyb> (I forgot I didn't implement a few things, like cross-crate support, and that produced ICEs all over the place)
[17:13:33] <edwardw> basically rust is a very practical language from the beginning. I like that
[17:13:52] *** Quits: jviereck (Adium@moz-E7789D8F.ethz.ch) (Ping timeout)
[17:14:08] *** Joins: jviereck (Adium@moz-E7789D8F.ethz.ch)
[17:14:26] *** Quits: jviereck (Adium@moz-E7789D8F.ethz.ch) (Max SendQ exceeded)
[17:14:35] *** Joins: jviereck (Adium@moz-E7789D8F.ethz.ch)
[17:14:52] *** Quits: jviereck (Adium@moz-E7789D8F.ethz.ch) (Max SendQ exceeded)
[17:15:06] <Ms2ger> eddyb, yeah, Servo noticed that too :)
[17:15:13] *** Joins: claudiu (claudiu@moz-6F0C4397.thefacebook.com)
[17:15:19] *** Joins: jviereck (Adium@moz-E7789D8F.ethz.ch)
[17:15:20] <eddyb> s/servo/Ms2ger
[17:15:29] <edwardw> LOL
[17:15:39] *** Quits: jviereck (Adium@moz-E7789D8F.ethz.ch) (Max SendQ exceeded)
[17:15:49] *** Joins: jviereck (Adium@moz-E7789D8F.ethz.ch)
[17:16:24] <Ms2ger> Yay, I made it into the Rust section of twir!
[17:16:26] <edwardw> I noticed a "blame eddyb" or two in tickets
[17:17:32] <Ms2ger> wycats, \o/
[17:17:38] <Ms2ger> (cargo)
[17:17:51] <eddyb> cargo cats
[17:18:18] *** Joins: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca)
[17:18:39] *** Quits: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca) (Input/output error)
[17:18:43] *** Joins: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca)
[17:21:11] *** Joins: nano (nano@moz-ED77243C.superkabel.de)
[17:21:55] *** Quits: jviereck (Adium@moz-E7789D8F.ethz.ch) (Ping timeout)
[17:23:56] *** Joins: Ferreus (ferreus@moz-736C21E6.lsn.wtnet.de)
[17:24:01] *** Quits: skade (skade@B4A5FE21.505237C9.CAE22B62.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[17:24:53] *** Quits: voxpopuli (fanservice@AE8088FD.7254D4BA.689607DE.IP) (Ping timeout)
[17:25:06] *** Joins: azita (Azita@moz-62518563.mtv2.mozilla.com)
[17:26:26] *** Joins: paraze (paraze@moz-96380A71.w86-209.abo.wanadoo.fr)
[17:27:38] *** Quits: ryeguy (Mibbit@EC0380F4.1C43967E.E9A87632.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[17:28:56] *** Quits: claudiu (claudiu@moz-6F0C4397.thefacebook.com) (Connection reset by peer)
[17:28:57] *** Joins: claudiu (claudiu@moz-6F0C4397.thefacebook.com)
[17:29:30] *** Quits: olsonjeffery (pf@moz-57D1CF86.compute-1.amazonaws.com) (Quit: WeeChat 0.3.7)
[17:33:40] *** Joins: claudiu_ (claudiu@moz-6F0C4397.thefacebook.com)
[17:33:40] *** Quits: claudiu (claudiu@moz-6F0C4397.thefacebook.com) (Connection reset by peer)
[17:34:23] *** Joins: claudiu (claudiu@moz-6F0C4397.thefacebook.com)
[17:34:23] *** Quits: claudiu_ (claudiu@moz-6F0C4397.thefacebook.com) (Connection reset by peer)
[17:35:08] *** Joins: EastByte (EastByte@moz-E87802F0.ewe-ip-backbone.de)
[17:35:18] *** Quits: squiddy_ (squiddy@moz-E62BD793.versanet.de) (Quit: Leaving)
[17:35:21] *** Joins: asmyers (quassel@moz-71754EDC.hsd1.md.comcast.net)
[17:35:25] <Ms2ger> "#![...]"?
[17:35:37] *** Quits: EastByte_ (EastByte@moz-EF3B65CE.ewe-ip-backbone.de) (Ping timeout)
[17:35:49] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[17:35:57] <pepp> what can I do about "error: unresolved name `io::IoError`"? I have "use std::io;" at the beginning of the module.
[17:36:17] <eddyb> pepp: what version are you using?
[17:36:30] <pepp> nightly
[17:36:49] <eddyb> pepp: wait, "name"?
[17:37:02] <eddyb> pepp: usually you get "type" not "name" in the error
[17:37:51] <pepp> the code is right now Err(::std::io::IoError)
[17:38:08] <eddyb> that's incorrect
[17:38:29] <eddyb> pepp: there is no value by that name
[17:38:40] <eddyb> rusti: struct Foo {x: uint} Err(Foo)
[17:38:41] -rusti- pastebinned 8 lines of output: http://sprunge.us/BJPY
[17:38:43] <pepp> Err(::std::io::IoError{}) gives me error: expected `,` but found `{`
[17:38:54] <eddyb> pepp: because there are 3 fields
[17:39:02] *** Joins: octeract (Mibbit@moz-D63AE93E.du.xdsl.is)
[17:39:11] <eddyb> you should get the error I got, maybe that's an issue
[17:39:19] *** Joins: kngl (Adium@40AE2BF6.ABCDAFD6.7C797F8E.IP)
[17:39:34] <eddyb> rusti: use std::io; Err(io::IoError)
[17:39:34] -rusti- <anon>:10:26: 10:37 error: unresolved name `io::IoError`.
[17:39:35] -rusti- <anon>:10         use std::io; Err(io::IoError)
[17:39:35] -rusti-                                    ^~~~~~~~~~~
[17:39:35] -rusti- error: aborting due to previous error
[17:39:35] -rusti- application terminated with error code 101
[17:39:55] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[17:40:10] <Ms2ger> /// Coerce an immutable reference to be mutable.
[17:40:10] <Ms2ger> pub unsafe fn transmute_immut_unsafe<T>(ptr: *mut T) -> *T {
[17:40:11] <pepp> that is pretty bad error because I have got the impression that t { is the problem, not the number of fields
[17:40:33] <eddyb> Ms2ger: that should be removed
[17:40:39] <Ms2ger> It's gone
[17:40:49] <eddyb> pepp: it kinda is
[17:40:55] *** Joins: gveghfzhsgh (Mibbit@7EEB090E.936632AF.727727B4.IP)
[17:41:04] <eddyb> pepp: there is no Struct {} syntax in Rust
[17:41:36] <eddyb> pepp: unit structs don't have brackets at all
[17:41:40] <pepp> I have like 10 hours experience programming in rust ;-)
[17:42:01] <pepp> so many things confuse me
[17:42:08] <eddyb> pepp: you have to specify all fields
[17:42:24] *** Quits: fabiand (fabiand@moz-7014AC7A.adsl.alicedsl.de) (Quit: Verlassend)
[17:42:31] <pepp> thanks
[17:42:52] <eddyb> Rust is complete, even when it allows for shorthands. uninitialized structs are unsafe and not allowed
[17:43:00] <eddyb> pepp: why do you want to create your own IoError? they usually come from actual IO errors
[17:43:58] <pepp> i am implementing Show for my enum
[17:44:25] <pepp> and the whitecard pattern returns Err right now
[17:45:06] *** Joins: claudiu_ (claudiu@moz-6F0C4397.thefacebook.com)
[17:45:24] *** Quits: claudiu (claudiu@moz-6F0C4397.thefacebook.com) (Connection reset by peer)
[17:45:59] <eddyb> pepp: why can your Show implementation fail? also, did you mean "wildcard"?
[17:46:38] <pepp> sorry, wildcard
[17:46:58] <pepp> because I write the code step by step
[17:47:00] <pepp> :-)
[17:47:12] *** Quits: octeract (Mibbit@moz-D63AE93E.du.xdsl.is) (Quit: http://www.mibbit.com ajax IRC Client)
[17:47:39] *** Quits: gveghfzhsgh (Mibbit@7EEB090E.936632AF.727727B4.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[17:47:39] *** Joins: octeract (Mibbit@moz-D63AE93E.du.xdsl.is)
[17:48:01] *** Quits: claudiu_ (claudiu@moz-6F0C4397.thefacebook.com) (Connection reset by peer)
[17:48:05] <eddyb> pepp: you should cover all your enum values in one go
[17:48:10] *** Joins: claudiu (claudiu@moz-6F0C4397.thefacebook.com)
[17:48:24] <eddyb> pepp: you can always used unimplemented!() which fails at runtime
[17:48:28] <Rym> What's a good strategy for updating something like this? "single-field tuple-structs can no longer be dereferenced" Structs?
[17:48:28] <eddyb> *use
[17:48:28] <pepp> now I know :-)
[17:49:14] <eddyb> Rym: you can actually implement Deref and you even get pointer/method pass-through without explicit *
[17:49:37] *** Quits: daschl (Adium@moz-DC6DE6E2.vie.surfer.at) (Quit: Leaving.)
[17:50:57] *** Joins: bharadwaj (uid11995@moz-5F4AA75A.irccloud.com)
[17:52:29] <Rym> eddyb: ok I'll look into that, cheers
[17:52:39] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[17:52:56] *** Quits: edwardw (edwardw@7AF41815.E6BB1EAE.D39A8B3F.IP) (Quit: Leaving...)
[17:53:45] *** Joins: edwardw (edwardw@C3D32C6E.E4C8743.30C05AB6.IP)
[17:53:52] *** Joins: q66 (q66@moz-FDC9B85A.range109-150.btcentralplus.com)
[17:53:58] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[17:53:58] *** ChanServ sets mode: +ao pcwalton pcwalton
[17:54:51] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[17:55:11] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[17:55:45] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[17:55:47] *** Joins: canhtak (canhtak@54F87F4D.60A12A38.BF4BC958.IP)
[17:55:55] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[17:56:01] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[17:56:19] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[17:56:24] *** Quits: toshok (toshok@moz-43741342.cat) (Ping timeout)
[17:57:11] *** Quits: mawuli (mawuli@5054574.B199513B.DE15C958.IP) (Ping timeout)
[17:57:45] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[17:57:45] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Connection reset by peer)
[17:57:56] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[17:58:14] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[17:58:45] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[17:58:45] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[17:58:49] *** Quits: tobytailor (tobytailor@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: tobytailor)
[17:59:04] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[17:59:14] *** Joins: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP)
[17:59:31] *** Joins: pongad (pongad@moz-7E8AAD2E.res.gatech.edu)
[17:59:38] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[17:59:41] *** Joins: toshok (toshok@moz-43741342.cat)
[17:59:42] <pongad> Does stdlib have some kind of strip_whitespace function?
[17:59:51] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[18:00:06] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[18:00:43] *** Quits: Florob (Florob@moz-39532932.de) (Client exited)
[18:00:45] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[18:01:43] <krdln> pongad: http://static.rust-lang.org/doc/master/std/str/trait.StrSlice.html#tymethod.trim
[18:01:46] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[18:01:52] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[18:01:53] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[18:02:19] <pongad> krdln: THere we go! Sorry, I couldn't find it with ctrl-F for some reason... :(
[18:02:26] *** Quits: nano (nano@moz-ED77243C.superkabel.de) (Connection reset by peer)
[18:02:43] *** Quits: heftig (heftig@moz-33D186ED.unitymedia.biz) (Quit: Quitting)
[18:02:53] *** Joins: claudiu_ (claudiu@moz-6F0C4397.thefacebook.com)
[18:02:55] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[18:02:59] *** Quits: claudiu (claudiu@moz-6F0C4397.thefacebook.com) (Connection reset by peer)
[18:03:09] *** Joins: tobytailor (tobytailor@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[18:03:10] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[18:03:12] *** Joins: lucian (lucian@303F9692.4304AE1E.CE5E78F6.IP)
[18:03:52] *** Quits: lucian_ (lucian@6B2B4644.4304AE1E.CE5E78F6.IP) (Ping timeout)
[18:04:41] <doomlord_> [T,..N] are more likely to get SIMD support than (T,T,T,T) i guess reading the stuff on simd
[18:04:54] *** Quits: lucian (lucian@303F9692.4304AE1E.CE5E78F6.IP) (Ping timeout)
[18:04:59] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[18:05:18] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[18:05:57] <eddyb> doomlord_: we have a pretty powerful implementation for simd![T, ..N]
[18:06:05] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[18:06:19] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[18:06:32] *** Joins: Lovot (root@moz-64ED673A.knology.net)
[18:06:37] <eddyb> doomlord_: including shuffles like a.xy = b.zz;
[18:06:42] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[18:06:48] *** Quits: Siosm (quassel@moz-9911B053.fr) (Quit: No Ping reply in 180 seconds.)
[18:06:59] *** Joins: claudiu (claudiu@moz-6F0C4397.thefacebook.com)
[18:07:02] *** Quits: claudiu_ (claudiu@moz-6F0C4397.thefacebook.com) (Connection reset by peer)
[18:07:04] *** Joins: Siosm (quassel@moz-9911B053.fr)
[18:07:40] *** Quits: kaeso (kaeso@moz-F21FF626.unstable.it) (Ping timeout)
[18:07:47] *** Quits: claudiu (claudiu@moz-6F0C4397.thefacebook.com) (Connection reset by peer)
[18:08:02] *** Quits: pepp (Mibbit@9BC0E02.3C76CC5B.CE5C763D.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[18:08:07] *** Joins: claudiu (claudiu@moz-6F0C4397.thefacebook.com)
[18:08:33] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[18:09:00] *** Quits: Jesse_ (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Quit: Jesse_)
[18:09:19] *** Joins: maattdd (matthieu@moz-71F66BC0.w82-123.abo.wanadoo.fr)
[18:09:29] <doomlord_> that looks really good
[18:09:50] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[18:09:50] <eddyb> doomlord_: all generating LLVM shuffles directly
[18:10:19] <o11c> simd! is a compiler builtin?
[18:10:19] <eddyb> doomlord_: which lower to vector instructions
[18:10:26] <SiegeLord> I thought this wasn't merged yet?
[18:10:38] <o11c> I don't see how it could be done as a library macro
[18:10:40] *** flaper87 is now known as flaper87|afk
[18:10:44] <doomlord_> so those shuffles could implement a matrix transpose efficiently
[18:10:45] <eddyb> o11c: syntax extension
[18:10:48] *** Quits: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP) (Ping timeout)
[18:10:52] <eddyb> doomlord_: yupp
[18:10:56] *** Quits: TobiasFar (tm@moz-A929D162.flosoft-servers.net) (Ping timeout)
[18:10:57] <Tari> conundrum: I want to generate a typeclass encompassing certain primitives to bound a struct impl
[18:11:11] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Ping timeout)
[18:11:23] <Tari> such that the struct is valid for all T, where T is something like {i16, i32}
[18:11:24] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[18:11:32] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Ping timeout)
[18:11:44] *** Joins: kaeso (kaeso@moz-F21FF626.unstable.it)
[18:11:55] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[18:12:00] <Tari> basically what I want is a null trait
[18:12:00] *** Quits: dju (dju@moz-F02979DC.rev.poneytelecom.eu) (Quit: ZNC - http://znc.in)
[18:12:11] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[18:12:23] *** Joins: skade (skade@moz-1EC0F118.pools.arcor-ip.net)
[18:12:32] <eddyb> Tari: Zero?
[18:12:53] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[18:12:56] <Tari> I need to be able to select which primitives satisfy it
[18:13:24] <Tari> because there are only certain bit-widths that make sense
[18:13:33] <eddyb> like x86 IO instructions?
[18:13:42] <Tari> along those lines, yeah
[18:13:43] *** Quits: GrecKo (GrecKo@moz-A7AA1BB6.fr) (Quit: No Ping reply in 180 seconds.)
[18:13:53] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[18:13:55] *** jorendorff is now known as jorendorff_away
[18:13:56] <eddyb> Tari: so what is the issue?
[18:14:09] *** Joins: GrecKo (GrecKo@moz-A7AA1BB6.fr)
[18:14:22] *** Quits: KokaKiwi (kokakiwi@moz-D674DAC6.kokakiwi.net) (Ping timeout)
[18:14:25] <Tari> my initial thought is just `trait Foo`, then `impl Foo for i16` etc
[18:14:29] <Tari> but that's obviously not valid
[18:14:56] <eddyb> Tari: how so?
[18:14:59] <Tari> because I can't define a trait with no members
[18:15:02] *** Joins: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP)
[18:15:33] <Tari> oh, never mind
[18:15:46] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[18:15:47] <Tari> `trait Foo { }` is valid, `trait Foo;` is not
[18:16:31] *** Quits: andor (andor@moz-708868D.neferty.me) (Ping timeout)
[18:16:46] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[18:16:50] <Tari> I expected it to be like a unit struct
[18:16:55] *** Quits: luisbg (luisbg@moz-C54443AD.baconseed.org) (Ping timeout)
[18:16:57] *** jorendorff_away is now known as jorendorff
[18:16:58] *** Joins: andor (andor@moz-708868D.neferty.me)
[18:17:28] *** Joins: noam (noam@F6B530A7.720527A7.416762B.IP)
[18:17:55] *** Joins: TobiasFar (tm@moz-A929D162.flosoft-servers.net)
[18:17:58] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Input/output error)
[18:18:08] *** Quits: toshok (toshok@moz-43741342.cat) (Ping timeout)
[18:18:17] *** Quits: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP) (Quit: Taking a nap.)
[18:18:24] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[18:18:43] *** Quits: abustany (abustany@moz-C0C970CD.org) (Ping timeout)
[18:18:55] *** Joins: josh (josh@moz-24AAF425.hfc.comcastbusiness.net)
[18:19:04] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[18:19:05] *** Joins: rootnode_ (rootnode@moz-6E1A64F0.pools.arcor-ip.net)
[18:19:48] *** Joins: claudiu_ (claudiu@moz-6F0C4397.thefacebook.com)
[18:19:58] *** Quits: claudiu (claudiu@moz-6F0C4397.thefacebook.com) (Connection reset by peer)
[18:20:23] *** Quits: rootnode (rootnode@moz-6E1A64F0.pools.arcor-ip.net) (Ping timeout)
[18:21:03] *** Joins: dju (dju@moz-F02979DC.rev.poneytelecom.eu)
[18:21:13] *** Joins: andrew-__ (andrew-d_w@F831D131.9DFA657C.CC0301A2.IP)
[18:21:44] *** Joins: toshok (toshok@moz-43741342.cat)
[18:21:46] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[18:22:27] *** Quits: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Ping timeout)
[18:23:17] *** Joins: luisbg (luisbg@moz-C54443AD.baconseed.org)
[18:23:25] *** Joins: daschl (Adium@moz-DC6DE6E2.vie.surfer.at)
[18:24:06] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[18:24:06] *** Joins: espindola (espindola@moz-2B21D45F.dsl.teksavvy.com)
[18:24:25] *** Joins: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP)
[18:25:01] *** Joins: abustany (abustany@moz-C0C970CD.org)
[18:25:11] *** Joins: espindol_ (espindola@moz-9F530B29.com)
[18:25:48] *** Quits: espindola (espindola@moz-2B21D45F.dsl.teksavvy.com) (Ping timeout)
[18:27:05] *** Joins: p1start (rewi@moz-E7F3D014.org)
[18:27:39] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[18:30:16] *** Quits: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP) (Quit: Taking a nap.)
[18:30:50] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[18:31:17] *** Quits: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[18:31:18] *** Quits: p1start (rewi@moz-E7F3D014.org) (Ping timeout)
[18:31:45] *** Joins: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP)
[18:33:05] *** Quits: daschl (Adium@moz-DC6DE6E2.vie.surfer.at) (Quit: Leaving.)
[18:33:44] *** Quits: hoverbear (hoverbear@EBFA78B5.F19E5E7B.E74D50F2.IP) (Quit: Taking a nap.)
[18:34:19] *** Joins: montoya (Mibbit@5A74B1AD.C8DC7926.971E19F6.IP)
[18:34:34] *** Joins: hoverbear (hoverbear@726D908C.44E18222.E74D50F2.IP)
[18:34:52] *** Quits: maattdd (matthieu@moz-71F66BC0.w82-123.abo.wanadoo.fr) (Ping timeout)
[18:38:19] *** Quits: benjamin_____ (benjamin@moz-1BC8DB46.dip0.t-ipconnect.de) (Ping timeout)
[18:38:24] <montoya> I've been looking at rust-core on github, it says rustc can't build code without segmented stack support in the runtime, is this still true, since I thought rust doesn't use segmented stacks anymore?
[18:38:36] *** Quits: q66 (q66@moz-FDC9B85A.range109-150.btcentralplus.com) (Ping timeout)
[18:39:00] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[18:39:37] <sfackler> montoya: it's used to detect stack overflow
[18:39:59] *** Joins: maattdd (matthieu@moz-71F66BC0.w82-123.abo.wanadoo.fr)
[18:40:01] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[18:40:15] *** Joins: carllerche (carllerche@moz-2B516F15.hsd1.or.comcast.net)
[18:40:47] <montoya> sfackler: is this to help tasks abort ?
[18:41:07] *** jorendorff is now known as jorendorff_away
[18:41:16] <sfackler> yes. the morestack handler just fails
[18:42:39] *** Joins: nszceta (nszceta@moz-E458A7C0.pharm.pitt.edu)
[18:43:31] <montoya> sfackler: okay i see, i was under the impression that it wasn't used at all, so morestack needs to be ported to every target? I suppose its defined in rt/ , the one outside of std i mean?
[18:43:43] *** Joins: brson (brson@moz-62518563.mtv2.mozilla.com)
[18:43:43] *** ChanServ sets mode: +ao brson brson
[18:43:56] *** Joins: KokaKiwi (kokakiwi@moz-D674DAC6.kokakiwi.net)
[18:44:30] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[18:44:31] <sfackler> I'm not sure where it lives. I think the symbol is called _morestack if you want to search for it
[18:45:08] *** Quits: soumyaC (uid15286@moz-E77DEB21.irccloud.com) (Quit: Connection closed for inactivity)
[18:45:20] <carllerche> is it possible to create a bounded channel?
[18:45:37] <carllerche> i see sync_channel
[18:45:40] *** Quits: maattdd (matthieu@moz-71F66BC0.w82-123.abo.wanadoo.fr) (Ping timeout)
[18:45:55] *** Joins: brendan (brendaneic@moz-D9B414AF.hfc.comcastbusiness.net)
[18:45:58] <carllerche> sync_channel seems to preallocate the queue though
[18:46:09] <montoya> sfackler: ya i found it, thanks.
[18:46:32] <sfackler> carllerche: acrichto has a PR to add bounded channels. I'm not sure if it's been merged yet
[18:46:53] *** Joins: kris_ (kris@moz-147EE6DF.diku.dk)
[18:46:53] *** Quits: kris (kris@moz-147EE6DF.diku.dk) (Ping timeout)
[18:47:47] *** Quits: pongad (pongad@moz-7E8AAD2E.res.gatech.edu) (Quit: Leaving)
[18:47:57] <acrichto> carllerche: sync_channel is a bounded channel
[18:48:08] <carllerche> acrichto: right, but doesn't it preallocate?
[18:48:13] <carllerche> not that it makes a huge difference
[18:48:13] <acrichto> it must
[18:48:19] *** Quits: josh (josh@moz-24AAF425.hfc.comcastbusiness.net) (Quit: josh)
[18:48:19] <carllerche> why must it?
[18:48:21] <acrichto> or rather, that's what it's designed to do
[18:48:25] <acrichto> "no allocations on sends"
[18:48:32] <carllerche> right, that's specific for that
[18:48:40] <carllerche> for example, it would be nice to have a channel bounded by something other than message count
[18:48:52] <acrichto> what else would the bound be?
[18:48:52] <carllerche> for example, bounded by message "weight"
[18:49:03] <carllerche> could implement a MessageWeight trait on the message being sent
[18:49:11] <carllerche> for example, if sending bytes, the weight could be bytesize
[18:49:19] <acrichto> oh dear, that sounds complicated lol
[18:49:46] <carllerche> acrichto: heh, I haven't looked at the implementation of channels yet, but i would assume for bounded channels there would be an atomic counter
[18:49:58] <acrichto> mutexes + lots of state
[18:50:01] *** Joins: hjkl (Mibbit@moz-F8B381B4.hm.shawcable.net)
[18:50:22] *** Quits: evanm (evanm@636AC086.5999CED5.71743E61.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[18:50:33] <mcpherrin> Weighted channels like that could be useful for simulating fixed-size hardware buffers
[18:50:53] <mcpherrin> (for, eg, my network simulator -- simulate having a 100 megabyte packet buffer)
[18:51:29] <mcpherrin> a number of messages is a close enough approximation though
[18:52:13] *** Quits: alext (Adium@moz-9D94344A.albq.qwest.net) (Quit: Leaving.)
[18:53:18] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[18:53:40] *** Quits: redShadow (redShadow@9BDAF02B.D15F9219.1CCF65D9.IP) (Quit: Leaving)
[18:54:04] <mcpherrin> I do wish sync_channel had a way to send() without blocking ever -- messages get dropped instead
[18:54:13] *** Quits: hoverbear (hoverbear@726D908C.44E18222.E74D50F2.IP) (Quit: Taking a nap.)
[18:54:28] <acrichto> try_send()
[18:54:59] <mcpherrin> acrichto: I thought that only failed on a channel being closed
[18:55:15] <acrichto> http://static.rust-lang.org/doc/master/std/comm/enum.TrySendResult.html
[18:55:18] <acrichto> look at Full(T)
[18:55:25] <acrichto> send_opt() only fails on a full channel
[18:55:38] <mcpherrin> acrichto: oh, well that's what I want :-)  Thanks!
[18:57:56] *** Quits: hjr3 (hradtke@moz-E952E90B.hsd1.or.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[18:58:51] *** Joins: polygon (Mibbit@91B24483.532B32C5.B7830B68.IP)
[18:58:57] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[18:59:49] *** Joins: Jesse (jruderman@moz-62518563.mtv2.mozilla.com)
[18:59:58] *** Joins: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch)
[19:00:25] *** Joins: espindola (espindola@moz-2B21D45F.dsl.teksavvy.com)
[19:01:04] *** Joins: Kruppe (user@moz-253119B0.esg.uwaterloo.ca)
[19:01:14] *** Quits: espindol_ (espindola@moz-9F530B29.com) (Ping timeout)
[19:02:05] *** Quits: espindola (espindola@moz-2B21D45F.dsl.teksavvy.com) (Ping timeout)
[19:02:14] <whitequark> mcpherrin: not just simulating
[19:02:19] <whitequark> implementing as well
[19:02:19] *** Quits: whitglint (uid15486@moz-31ABA2C0.irccloud.com) (Quit: Connection closed for inactivity)
[19:02:31] *** Joins: apollow (yellowy432@moz-DF01490A.lightspeed.sntcca.sbcglobal.net)
[19:02:59] *** Quits: polygon (Mibbit@91B24483.532B32C5.B7830B68.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[19:04:34] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[19:05:00] *** Joins: josh (josh@moz-C350AC70.hsd1.mn.comcast.net)
[19:05:30] *** Joins: derek_c (derek@moz-D5822404.cit.cornell.edu)
[19:05:30] *** Joins: fabiand (fabiand@moz-7014AC7A.adsl.alicedsl.de)
[19:07:12] *** Joins: jaras (textual@1CDC5701.A48867D7.52E4E107.IP)
[19:07:17] *** Quits: pczarn (pczarn@moz-69A55FA.izacom.pl) (Input/output error)
[19:07:45] *** Quits: montoya (Mibbit@5A74B1AD.C8DC7926.971E19F6.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[19:10:49] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[19:11:15] <hjkl> let p1 = ~Point { x: 1.0, y: 1.0 }; let p2 = &p1; -- Why is it that *p2.x says "cannot dereferenced type f64"?
[19:11:44] <kimundi> hjkl: filed acces autoderefs
[19:11:57] <kimundi> So p2.x has type f64
[19:12:07] *** Joins: pczarn (pczarn@moz-69A55FA.izacom.pl)
[19:12:56] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Ping timeout)
[19:13:57] <hjkl> kimundi: huh, had similar problem yesterday. is autoderef predictable behavior? 
[19:15:21] <kimundi> hjkl: I did not have problems predicting it so far.
[19:17:44] *** Quits: Kruppe (user@moz-253119B0.esg.uwaterloo.ca) (Ping timeout)
[19:18:06] <kimundi> hjkl: Things usually only get confusing for traits that are also implemented on &T or &mut T. Clone is a popular example.
[19:18:49] <kimundi> But thats also only confusing if you try to call clone on a type that does not implement Clone.
[19:19:06] <hjkl> kimundi: heh guess i'll get the hang of it. just confusing when expecting c behavior.
[19:20:01] <kimundi> hjkl: Generally, if anything ever does not resolve as expected, you can manually deref, like (*p2).x. 
[19:20:35] <kimundi> Now, we recently got the ability to overload deref, which might make this a bit more interesting.
[19:20:51] *** Joins: claudiu (claudiu@moz-6F0C4397.thefacebook.com)
[19:20:53] *** Quits: claudiu_ (claudiu@moz-6F0C4397.thefacebook.com) (Connection reset by peer)
[19:21:13] <kimundi> I'm not sure yet how this shakes out in practice.
[19:21:35] *** Joins: alext (Adium@moz-C36E2841.albq.qwest.net)
[19:22:06] <carter> o/ whitequark  :)
[19:22:57] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Input/output error)
[19:23:21] *** jorendorff_away is now known as jorendorff
[19:23:29] <whitequark> hi carter 
[19:24:41] <hjkl> kimundi ah ok, looking at those PRs, thx
[19:24:56] *** Quits: nszceta (nszceta@moz-E458A7C0.pharm.pitt.edu) (Quit: Textual IRC Client: www.textualapp.com)
[19:26:13] *** Joins: Kruppe (user@moz-BACFC765.dynamic.uwaterloo.ca)
[19:27:19] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[19:27:31] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[19:29:07] *** Joins: evanm (evanm@636AC086.5999CED5.71743E61.IP)
[19:29:31] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[19:30:52] *** Joins: dherman (dherman@moz-B31C6965.dsl.pltn13.sbcglobal.net)
[19:30:52] *** ChanServ sets mode: +ao dherman dherman
[19:31:32] *** Joins: ksonny (webber46@moz-6C034FD9.cust.bredband2.com)
[19:31:37] *** Quits: octeract (Mibbit@moz-D63AE93E.du.xdsl.is) (Quit: http://www.mibbit.com ajax IRC Client)
[19:31:38] *** Quits: dherman (dherman@moz-B31C6965.dsl.pltn13.sbcglobal.net) (Quit: dherman)
[19:31:41] *** Joins: dherman (dherman@moz-B31C6965.dsl.pltn13.sbcglobal.net)
[19:31:42] *** ChanServ sets mode: +ao dherman dherman
[19:31:46] *** Joins: soc (soc@moz-8E354A9D.dip0.t-ipconnect.de)
[19:31:51] <ksonny> /win/win 1
[19:32:01] <soc> hi
[19:32:44] <soc> i'm considering to do some GC algorithm prototyping in Rust ... any advantages/disadvantages you can think of?
[19:33:20] <soc> i mainly considered it because of the superior type system which would prevent time-consuming mistakes like in C/C++
[19:34:07] <soc> but from what I have seen, it would look like as if i would have to work in the unsafe part of Rust most of the time anyway, so a large part of that advantage seems to be gone
[19:35:19] *** Quits: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch) (Quit: Leaving.)
[19:35:26] <tiffany> someone was attempting to bind boehm to Rust I think, but there were some problems
[19:35:38] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Quit: Leaving)
[19:36:02] <tiffany> you can use rust's type information to make big blocks that don't have pointers marked opaque but there are some issues that have to be worked out
[19:36:22] <kimundi> soc: I can'T say wether Rust is really the best tool for this specific usecase right now. However, even if you use unsafe stuff internally its always good if you can reduce it to something with an safe API.
[19:36:40] *** Joins: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch)
[19:36:51] *** Joins: soumyaC (uid15286@moz-E77DEB21.irccloud.com)
[19:36:54] *** Joins: jackneill (jackneill@moz-730EFD2C.pool.digikabel.hu)
[19:36:59] *** Joins: claudiu_ (claudiu@moz-6F0C4397.thefacebook.com)
[19:37:07] <soc> yes, but it's just seems to be immensely painful to get off the ground
[19:37:20] *** Quits: claudiu (claudiu@moz-6F0C4397.thefacebook.com) (Ping timeout)
[19:38:24] <soc> e. g. trying to define some pre-defined types/constructs like lists, strings, etc.
[19:38:52] <tiffany> rust already has those, why do you need to redefine them?
[19:39:25] *** Quits: Kruppe (user@moz-BACFC765.dynamic.uwaterloo.ca) (Ping timeout)
[19:39:32] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[19:39:46] <soc> because I want to prototype GC algorithms, not spent 90% of the time explaining Rust's library to my runtime
[19:39:51] *** jorendorff is now known as jorendorff_away
[19:41:32] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Ping timeout)
[19:41:51] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[19:42:07] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[19:42:30] *** Quits: derek_c (derek@moz-D5822404.cit.cornell.edu) (Ping timeout)
[19:42:54] *** Quits: GrecKo (GrecKo@moz-A7AA1BB6.fr) (Quit: No Ping reply in 180 seconds.)
[19:43:03] <soc> the whole point is to have some types on which I can benchmark algorithms. if i use Rust's types, those algorithms have nothing to do, so my benchmark becomes pointles
[19:43:04] <soc> s
[19:43:05] *** Joins: GrecKo (GrecKo@moz-A7AA1BB6.fr)
[19:43:38] *** jorendorff_away is now known as jorendorff
[19:43:44] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Quit: Leaving)
[19:43:57] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[19:44:16] <soc> e. g. create some linked lists, put values like numbers, strings into them, then randomly make 90% of them non-reachable and collect them
[19:45:17] *** Quits: brendan (brendaneic@moz-D9B414AF.hfc.comcastbusiness.net) (Quit: brendan)
[19:45:21] *** Quits: hjkl (Mibbit@moz-F8B381B4.hm.shawcable.net) (Quit: http://www.mibbit.com ajax IRC Client)
[19:48:01] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[19:48:08] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[19:48:44] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[19:49:49] *** Joins: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net)
[19:50:59] <soc> well, maybe the pain isn't worth doing it in rust currently
[19:51:04] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[19:51:29] <soc> what's the next version after 0.9? 1.0 or 0.10?
[19:51:49] *** Quits: kngl (Adium@40AE2BF6.ABCDAFD6.7C797F8E.IP) (Quit: Leaving.)
[19:52:19] <kimundi> 0.10
[19:52:35] *** Quits: evanm (evanm@636AC086.5999CED5.71743E61.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[19:53:30] *** Quits: andrew-__ (andrew-d_w@F831D131.9DFA657C.CC0301A2.IP) (Input/output error)
[19:53:44] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[19:53:44] *** Quits: lkuper (lkuper@87D98E32.4046EB22.428F94DD.IP) (Quit: lkuper)
[19:53:50] *** Joins: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[19:54:43] <soc> ah, good ... rust still feels like it has along way to go until a stable release
[19:55:08] *** Quits: murph (murph@moz-F07B75BF.oracle.com) (Client exited)
[19:55:20] *** Joins: murph (murph@moz-F07B75BF.oracle.com)
[19:55:43] *** Joins: brendan (brendaneic@moz-D9B414AF.hfc.comcastbusiness.net)
[19:55:53] <doomlord_> i had been wondering if it would be 0.9, 0.95 0.975 etc..
[19:55:57] *** Joins: espindola (espindola@moz-2B21D45F.dsl.teksavvy.com)
[19:56:09] <soc> kind of like knuth's versioning
[19:58:12] <soc> well, I guess I'll keep working in C right now, even if that thought is just painful
[19:58:18] *** Joins: claudiu (claudiu@moz-6F0C4397.thefacebook.com)
[19:58:26] *** Quits: claudiu_ (claudiu@moz-6F0C4397.thefacebook.com) (Ping timeout)
[19:58:28] <soc> but on the other hand, Rust has enough warts and inconsistencies as well
[19:58:32] <Ms2ger> Oh?
[19:59:03] *** Joins: lkuper (lkuper@87D98E32.4046EB22.428F94DD.IP)
[19:59:14] <soc> Ms2ger: yes, I'm not really a fan of C
[19:59:16] <Eridius> soc: the biggest inconsistency I can think of is ~str/~[u8] behaving differently than other ~T's, but that's going to be fixed
[19:59:30] <Ms2ger> soc, nobody who used it likes C :)
[19:59:31] <soc> the whole [T] syntax needs to die, imho
[19:59:32] *** jorendorff is now known as jorendorff_away
[19:59:40] <eddyb> soc: why?
[19:59:40] <Ms2ger> soc, I was wondering about the warts you found
[19:59:46] <eddyb> soc: because it's not T[]?
[19:59:47] <doomlord_> not so, i like C
[19:59:56] <soc> no, because it's a hard-coded special-case
[20:00:10] <soc> call it Vector<T> or something
[20:00:22] <mcpherrin> soc: you might even say ... Vec<T>
[20:00:24] <mcpherrin> (we have that)
[20:00:35] <soc> or if one follows Rust's obsession to invent funny abbreviations Vec<T> or something
[20:00:39] <soc> ^^ lol
[20:00:40] *** Quits: tigrou3tac (fabien@moz-6E2397FF.fbx.proxad.net) (Ping timeout)
[20:00:47] <soc> what you said ... basically the next wart
[20:00:57] <eddyb> soc: we need [T] in the language
[20:01:07] <eddyb> with DST, str can live on top of [u8] in the library
[20:01:10] <doomlord_> i like the repurposing of [T] under DST , i can still see myself throwing that around alot
[20:01:13] <Ms2ger> I have to admit that I'm not much of a fan of the abbreviations
[20:01:20] * mcpherrin loves abbreviating things
[20:01:25] <kimundi> soc: [T] is just going to become the type for "A number of T next to each other", no additional semantic. In other words, its a very low level building block.
[20:01:26] <Eridius> abbreviating the most commonly-used things makes sense
[20:01:28] <SiegeLord> I like abbreviations
[20:01:33] <Eridius> less commonly-used things can have more verbose names
[20:01:36] <SiegeLord> I wish continue; wasn't
[20:01:37] <soc> it's like Rust tries to win people by familiarity with C, although exactly those people who are NOT happy with C are probably trying Rust in the first place
[20:01:47] <Eridius> SiegeLord: I kind of miss `loop;`
[20:01:56] <SiegeLord> loop; was better
[20:02:05] <tiffany> those same people find functional programming intimidating though
[20:02:07] <eddyb> soc: no, it's not, and what's wrong with [T] under DST?
[20:02:07] <doomlord_> hmm, if i was to start seeing "public function .." everywhere, i'm not sure i'd be as enthusiastic :)
[20:02:12] <tiffany> and that's exactly where rust borrows a lot of its features from
[20:02:21] <soc> Ms2ger: abbreviations are this kind of inconsistency where you have one word, and have to spend time thinking how you write it ... that's just a stupid decision
[20:02:25] <SiegeLord> But I'd take cont; or w/e
[20:02:45] <SiegeLord> At least it's rare... ::shrug::
[20:02:46] <eddyb> doomlord_: I hated function in JS
[20:02:47] <mcpherrin> Do you really continue; so often it's a burden to write?
[20:02:56] <eddyb> doomlord_: and you have to write it so often, it's ridiculous
[20:03:03] <mcpherrin> I find continue is usually on its own line in my code, and rare enough
[20:03:06] <Ms2ger> soc, hey, we used to have "ret" for "return"
[20:03:13] *** Quits: rook (rook@moz-DE88DB2D.hfc.comcastbusiness.net) (Ping timeout)
[20:03:13] <doomlord_> soc - i want an escape from C++ but i#m *so* familiar with C++ relative to anything else its possible i'll be forever trapped with that as my most productive language
[20:03:15] <soc> eddyb: either make it work for everyone, or remove it
[20:03:26] <soc> doomlord_: public should probably the default
[20:03:35] <eddyb> soc: you can say that about the entire language and you couldn't be true
[20:03:41] <eddyb> also, we're moving to priv by default
[20:03:44] *** Joins: derek_c (derek@moz-3D7E1024.cit.cornell.edu)
[20:03:49] <doomlord_> I unambiguously liked the step from asm to C - my problem has always been with the number of double-edge-swords in the step from C to C++
[20:03:52] <Ms2ger> When are we getting that anyway?
[20:03:57] <eddyb> why? for the same reason you don't walk outside naked
[20:04:06] <SiegeLord> It's cold?
[20:04:15] <mcpherrin> eddyb: clothes are oppression by society
[20:04:15] <soc> Ms2ger: it shouldn't be necessary to write return anyway ...
[20:04:22] <mcpherrin> DOWN WITH PANTS
[20:04:28] <eddyb> soc: most of the time you don't need return
[20:04:30] *** Quits: lenary (sid5084@moz-31ABA2C0.irccloud.com) (Quit: Updating details, brb)
[20:04:31] *** Joins: lenary (sid5084@moz-31ABA2C0.irccloud.com)
[20:04:40] <soc> fn is ok, except for all those places where people add it to method names
[20:04:41] <eddyb> soc: idiomatic Rust means value flow
[20:04:51] <tiffany> soc: the only time you need return is when you're writing in an imperitive style, the rest of the time you just return the last expression
[20:04:53] <soc> "blablabla_from_fn" ... really?!
[20:05:32] <eddyb> soc: do you have a better suggestion?
[20:05:35] <soc> tiffany: exactly
[20:05:37] <tiffany> if x {return y} ... vs if x {y} else {...}
[20:05:52] <eddyb> that is not twice as long and it still conveys enough information
[20:06:17] * mcpherrin has started to forget the return keyword in other languages
[20:06:27] <eddyb> mcpherrin: it's hard when I have to make clang testcases :P
[20:06:46] <soc> eddyb: it depends on the use-case ... but the type signature makes it kind of obvious that it takes a function, so it shouldn't clutter up the name
[20:06:46] <tiffany> I only forget the return keyword in lua, where writing lambdas is painfully verbose
[20:06:50] <eddyb> no return, Struct {x: x, y: y} etc.
[20:06:53] <doomlord_> i'm happy with "fn" having been introduced to that abreviation in BASIC all those years ago..
[20:06:56] <eddyb> soc: you can't overload
[20:06:59] <tiffany> function() return foo() end vs || foo()
[20:07:02] <Eridius> let x = match foo { None => 0, Some(x) if x < 0 => return Err(MustBeNonnegative), Some(x) => x }; // return is great in cases like this
[20:07:02] *** Quits: espindola (espindola@moz-2B21D45F.dsl.teksavvy.com) (Input/output error)
[20:07:12] <soc> eddyb: sure, I don't think anybody misses that :-)
[20:07:21] <eddyb> soc: so what do you name the function?
[20:07:30] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[20:07:43] <doomlord_> fn fun func function.. fn is fine
[20:07:45] <mcpherrin> the worst is writing one-liner functions in python that could return None and forgetting "return".  You don't immediately notice the error maybe
[20:07:47] <eddyb> Vec::???(n, |i| f(i))
[20:08:00] *** Joins: kngl (Adium@40AE2BF6.ABCDAFD6.7C797F8E.IP)
[20:08:02] <eddyb> soc: I don't remember seeing anyone else complain about from_fn before, TBH
[20:08:09] <eddyb> there is a first time for everything :P
[20:08:17] <mcpherrin> I like "build"
[20:08:17] <soc> as mentioned, it depends on the use-case. but just saying in the name "it takes a function" is both duplicative (it's already mentioned in the signature) and useless (it doesn't say what happens with the function)
[20:08:21] *** Quits: lkuper (lkuper@87D98E32.4046EB22.428F94DD.IP) (Quit: lkuper)
[20:08:28] <Ms2ger> eddyb, I don't like from_fn much, fwiw
[20:08:37] <eddyb> mcpherrin: okay, that it's not a bad idea
[20:08:42] <eddyb> mcpherrin: to the issues!
[20:08:48] <doomlord_> rust tends to have longer names lacking overloading
[20:08:50] <mcpherrin> eddyb: I think Racket uses some name like build_list or something
[20:09:00] <tiffany> Vec::repeat(n, |i| f(i)) maybe?
[20:09:05] <soc> anyway, the inconsistency in type names is one of my biggest pet peeves
[20:09:06] <doomlord_> (and i gather thats' by design.)
[20:09:19] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[20:09:20] <doomlord_> i like the inbuilt types being lowercase
[20:09:35] <eddyb> they're not just "built-in", they're primitives
[20:09:47] <mcpherrin> tiffany: I'd think repeat would get you N of the second argument, so you'd end up with an array of lambads, not their evaluation
[20:09:56] <soc> inconsistent naming is – for me – the biggest disadvantage of Rust currently
[20:10:07] <eddyb> soc: examples?
[20:10:25] <mcpherrin> soc: Yeah, a Great Theory of Naming and Unification of Schemes could/should probably happen before 1.0
[20:10:35] <mcpherrin> it's been fairly organic to this point so some stuff has lagged
[20:10:36] <eddyb> all non-primitive type names are UpperCamelCase, better than the C++ situation IMO
[20:10:47] <mcpherrin> _Bool
[20:10:50] <soc> lower-case types vs. upper-case types (I especially like that if the user wants to do the same, he needs to add a pragma ...)
[20:11:03] *** Quits: alex_abreu (alex@moz-7421D6C9.mc.videotron.ca) (Ping timeout)
[20:11:06] <eddyb> soc: only UpperCamelCase is idiomatic
[20:11:06] <soc> good names vs. abbreviated names
[20:11:14] <doomlord_> lower case for primitives, thats all .. i think it makes perfect sense
[20:11:14] <soc> eddyb: str?
[20:11:17] *** Quits: fabiand (fabiand@moz-7014AC7A.adsl.alicedsl.de) (Quit: Verlassend)
[20:11:27] *** Quits: qwerty_nor (Thunderbir@A5447B90.EDC74FC5.E19950A4.IP) (Ping timeout)
[20:11:35] <brson> well, I think the new installers are about ready for wider testing: https://gist.github.com/brson/9777333
[20:11:38] <eddyb> soc: that's... hmm, it's not a primitive, but it's built in. might be the only built-in that's not a primitive, actually
[20:11:42] <soc> doomlord_: you can't pass custom types by value?
[20:11:46] <eddyb> soc: but there will be no str under DST
[20:11:48] <brson> I want to get the nightlies started, then I'll make an announce to the ml
[20:11:55] <kimundi> str will move to the library anyway, and them probably called Str
[20:12:00] <eddyb> soc: only a library wrapper around [u8], and it will need a Str name
[20:12:19] <aatch> eddyb, according to the compiler `str` is a primitive :/
[20:12:27] <eddyb> *Str or another UpperCamelCase name
[20:12:31] <eddyb> aatch: it's an exception
[20:12:44] <o11c> eddyb: I thought Rust didn't have exceptions
[20:12:47] <eddyb> haha
[20:12:48] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Quit: csherratt)
[20:12:49] <soc> I think if they could just pick a naming scheme and stick with it, it would be very helpful
[20:12:58] <eddyb> soc: we have a naming scheme
[20:13:14] <soc> especially because it would make it easier to transition things from built-in to library (and reverse)
[20:13:15] <doomlord_> one thing i was going to ask is if you'd ever considered Str holding a zero terminated string, wastes a byte, but makes throwing strings at C libraries eaiser
[20:13:25] <o11c> the real question is - why aren't primitive types also capitalized?
[20:13:27] *** Joins: hoverbear (hoverbear@moz-17C6F427.wireless.uvic.ca)
[20:13:41] <eddyb> o11c: you mean like Uint?
[20:13:45] <eddyb> or UInt
[20:13:46] <o11c> eddyb: yeah
[20:13:49] <o11c> either way
[20:13:51] <aatch> doomlord_, that's what CString is for
[20:13:52] <doomlord_> i suppose the intention isyou're supposed to deal naturally with string-slices 
[20:14:13] <soc> the abbreviations and semicola are another wart Rust seems to have adopted from C
[20:14:15] <SiegeLord> Why isn't it CStr XD
[20:14:26] <eddyb> soc: semicola?
[20:14:31] <eddyb> half a coke?
[20:14:32] <o11c> haha
[20:14:36] *** Joins: [squiddy] (squiddy@moz-767EF079.dynamic.cablesurf.de)
[20:14:39] <soc> plural of semicolon
[20:14:44] <o11c> don't use the on->a pluralization as often
[20:14:46] <aatch> soc, no, no it isn't
[20:14:53] <soc> what?
[20:14:58] <eddyb> good job
[20:15:01] <doomlord_> soc whats your favourite language
[20:15:01] *** Quits: asmyers (quassel@moz-71754EDC.hsd1.md.comcast.net) (Ping timeout)
[20:15:15] <o11c> Is it because UInt is harder to type? Rust has type inference for a lot more cases than C does ...
[20:15:18] <soc> mhhh, hard to say ... I'm doing a lot of work in Scala currently
[20:15:36] <aphistic> it's because i would feel awkward typing UInt
[20:15:44] <doomlord_> i might be presuming a lot here but I would guess anyone who will use rust will definitely be a C and/or C++ programmer first and foremost
[20:15:52] <aphistic> c# lets you do String and it makes me feel dirty
[20:15:53] <soc> mostly language/library design, so that's where I'm coming from
[20:15:58] <o11c> incidentally, SDL does fixed-size ints that way
[20:16:28] <aatch> doomlord_, it's not as much as you'd think. Still, more than other languages that are trying to eat C++'s lunch.
[20:16:29] <doomlord_> if you can already accept a GC, a Jit.. its not like you want to go through lots of extra hoops
[20:16:31] *** Quits: claudiu (claudiu@moz-6F0C4397.thefacebook.com) (Ping timeout)
[20:16:36] <soc> doomlord_: well, I'm seeing a lot of interest from Scala people ... it's just a bit disappointing that many mistakes get repeated over and over
[20:16:49] *** Joins: claudiu (claudiu@moz-6F0C4397.thefacebook.com)
[20:16:49] <eddyb> soc: if I were you, and I cared, I would take it up for *discussion* somewhere, like the mailing list or reddit
[20:17:01] <SiegeLord> Irrlicht uses Rust style types, hehe
[20:17:02] <doomlord_> for me there is only one langauge option, C/C++. So Rust is a huge increase in the amount of choice :)
[20:17:05] <SiegeLord> Or did, at least
[20:17:05] <mcpherrin> brson: Do you think it is desirable to have the install.sh check that the newly installed rustc is functional?
[20:17:14] <o11c> soc: at least Rust is making new mistakes as well as old ones
[20:17:21] <kimundi> doomlord_: Rusts strings used to be null terminated, for the kind of advantage you spoke of. But in practice it caused more pain than it was worth, especially with slices.
[20:17:22] <eddyb> soc: but I can't see how many things could change, the current situation is pretty good
[20:17:34] <eddyb> kimundi: we still terminate constants :/
[20:17:35] <soc> o11c: agree :-) it would just be nice to not making the preventable ones over and over
[20:17:42] <doomlord_> ok inconsistency with slices, i suppose rust code would throw slices around more
[20:17:46] <kimundi> eddyb: Well thats not really a problem.
[20:17:54] <eddyb> kimundi: we waste ONE BYTE
[20:18:03] <SiegeLord> strcat said he wanted it to go away
[20:18:13] <eddyb> that will never be read in the entirety of the program's lifetime
[20:18:14] <o11c> if I had time, I'd make my own language or fork an existing one ... maybe look at Clay again since separate compilation seems hopeless for everyone
[20:18:15] <SiegeLord> To compress strings and whatnot
[20:18:18] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[20:18:19] <kimundi> eddyb: Thats additional safety in a way, that doesn't hurt using the types. ;)
[20:18:28] *** Quits: andre_ (andre@CA528A4A.45A4338E.8EE27E6.IP) (Quit: leaving)
[20:18:35] <eddyb> SiegeLord: oh, right, packing overlapping string constants?
[20:18:37] <aatch> 1 byte! If I have a billion string constants that'd be 1 GB of wasted space :P
[20:18:38] <SiegeLord> Yeah
[20:18:53] <soc> eddyb: exactly ... it seems like those who decide can't see the problem, so what's left is to see how good things could have been
[20:19:00] <eddyb> SiegeLord: built-in obfuscation :P
[20:19:05] <o11c> aatch: but that's still small compared to the actual data in the strings
[20:19:06] <SiegeLord> Hehe
[20:19:11] <SiegeLord> It does sound a bit annoying
[20:19:19] <SiegeLord> I have had to hack binaries to change their search paths before
[20:19:28] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[20:19:37] <eddyb> soc: TBH, you can put `type UInt = uint;` in your code if you want that
[20:19:43] <strcat> strings are unicode
[20:19:48] <strcat> they're not just byte strings
[20:19:53] <soc> I'm not exactly a fan of the underscore_naming_of_stuff either (either do camel case _or_ under_score, not both)
[20:19:56] <strcat> it's not possible to store UTF-8 in null-terminated strings
[20:20:02] <strcat> so it's simply incorrect to be doing that in most cases
[20:20:08] <strcat> 0 is a valid code point, UTF-8 encodes it as \0
[20:20:10] <doomlord_> soc i hated snake_case and I've adapted since i like the rest of the language so much
[20:20:18] <strcat> there are bytes that never occur in UTF-8, but 0 isn't one of them
[20:20:27] <eddyb> soc: I don't see how you could get something like UInt past the community
[20:20:29] <aatch> 0x80
[20:20:40] *** Joins: hjr3 (hradtke@CF240F4E.B1008920.163DC5C6.IP)
[20:20:42] <soc> eddyb: reducing the things people have to know makes code better, duplicating stuff for my own's sake is useless
[20:20:51] *** Quits: canhtak (canhtak@54F87F4D.60A12A38.BF4BC958.IP) (Quit: canhtak)
[20:21:00] <eddyb> soc: and snake_case helps a lot in Rust
[20:21:09] <brson> mcpherrin: I've debated that
[20:21:15] <soc> eddyb: as far as I remember, years ago Scala provided both and they just let people vote with their feet
[20:21:15] *** jorendorff_away is now known as jorendorff
[20:21:16] *** Joins: rook (rook@moz-DE88DB2D.hfc.comcastbusiness.net)
[20:21:16] <eddyb> soc: why? because you can distinguish values from types
[20:21:19] <brson> mcpherrin: there are definitely cases where you *don't* want it
[20:21:40] <soc> eddyb: you wouldn't have that issue, if types had a consistent naming rule
[20:21:42] <brson> like packaging in a cross-chroot perhaps
[20:21:42] <eddyb> soc: makes grep much more useful
[20:21:47] <doomlord_> i had assumed snake case wouldn't have been an issue because you've usually got _ introducing types, but its no big deal
[20:21:49] <mcpherrin> brson: Like installing to a filesystem of a different platform is the biggest case I can think of
[20:21:54] <eddyb> soc: huh?
[20:21:55] <brson> right
[20:21:57] <doomlord_> i mean ":" not _
[20:22:04] <mcpherrin> brson: but I think the standard case is to install on the system you intend to use it
[20:22:06] <kimundi> soc: What would that consistent naming rule be? As an example I mean.
[20:22:07] <brson> mcpherrin: do you think we should? we could add a --no-exec-test  flag or something
[20:22:20] <mcpherrin> brson: That seems reasonable -- I was thinking --no-verify
[20:22:23] <brson> sure
[20:22:28] <brson> actually, --disable-verify
[20:22:34] <brson> to be consistent
[20:22:47] *** Joins: alex_abreu (alex@moz-7421D6C9.mc.videotron.ca)
[20:22:54] *** Quits: claudiu (claudiu@moz-6F0C4397.thefacebook.com) (Ping timeout)
[20:23:05] <soc> "all types CamelCase", not "we make our own types lowercase, but all the peasants out there will have to use CamelCase"
[20:23:26] <eddyb> soc: it's just primitives
[20:23:42] <kimundi> soc: That is the rule basically :P
[20:23:45] <soc> you can't pass custom types by value?
[20:23:49] <doomlord_> i still prefer to use raw gl binding names though.  Without an IDE, i like having primitive autocomplete in a text editor. i'm happy to have a few really common abreviations like 'gl' permanently 'polluting the namespace'
[20:23:52] <aatch> soc, you can
[20:23:56] <eddyb> soc: you can pass any type by value
[20:24:08] <soc> then why would it _ever_ matter if something was "primitive" or not?
[20:24:20] <eddyb> because they are not imported
[20:24:23] <aatch> soc, because the compiler needs a base to work from.
[20:24:29] <aatch> And that.
[20:24:34] <strcat> imo the built-in types should be CamelCase
[20:24:41] <strcat> I don't think it's too late to fix that
[20:24:42] <soc> and that depends on lowercase naming?
[20:25:01] <soc> the compiler wouldn't be able to work, if primitives were consistently named?
[20:25:12] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[20:25:14] <eddyb> strcat: I wouldn't agree unless we actually moved the primitives in the std
[20:25:20] <strcat> why?
[20:25:21] <doomlord_> i have to admit there is no logic behind what I say , its just very familiar, and i see no reason to change it. UpperCasing seems to imply someth8ing more significant than an 'int' or whatever
[20:25:25] <eddyb> and make them phantom types
[20:25:28] <strcat> eddyb: Vec is imported by default
[20:25:32] <eddyb> well, not phantom
[20:25:33] <strcat> why shouldn't Bool be
[20:25:36] <eddyb> but magic
[20:25:51] <aphistic> doomlord_: i agree
[20:26:07] <soc> anyway, I already mentioned the obsession with abbreviations ... having basically two ways to name something is a bad idea, imho
[20:26:12] <eddyb> strcat: sure, but it should live in the library if it has to have an UpperCase name
[20:26:20] *** Quits: tobytailor (tobytailor@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: tobytailor)
[20:26:21] <strcat> why?
[20:26:37] *** Joins: claudiu (claudiu@moz-6F0C4397.thefacebook.com)
[20:26:39] <strcat> the logic of naming things consistently is that you're consistently following the rules
[20:26:44] *** Quits: jdm (jdm@moz-AC9499B2.cable.teksavvy.com) (Quit: Lost terminal)
[20:26:44] <Eridius> primitives and library-defined types behave differently
[20:26:54] <strcat> what's the logic of naming things inconsistently/ what's the benefit of it?
[20:26:59] <strcat> Eridius: in what way?
[20:27:02] <doomlord_> i'm also used to / familiar with the idea of lower_case names for low level fucntions and UpperCased for 'higher level' functions... i've never minded C code with a mix like that at all
[20:27:05] <Eridius> you can't impl a primitive
[20:27:10] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[20:27:17] <strcat> Eridius: you can't impl a stdlib type either
[20:27:22] *** Quits: dranov (dranov@18D63513.8894C792.FCAAE698.IP) (Ping timeout)
[20:27:23] <strcat> they don't behave differently
[20:27:24] <Eridius> no but stdlib can impl its own type
[20:27:24] <doomlord_> kind of makes the standardlibrary stand out
[20:27:34] *** Joins: claudiu_ (claudiu@8ECC4BFC.EC83738C.D8D85ABD.IP)
[20:27:41] *** Quits: claudiu_ (claudiu@8ECC4BFC.EC83738C.D8D85ABD.IP) (Input/output error)
[20:27:41] *** Quits: edwardw (edwardw@C3D32C6E.E4C8743.30C05AB6.IP) (Quit: Leaving...)
[20:27:42] <strcat> Eridius: and?
[20:27:49] <strcat> Eridius: they don't behave differently
[20:27:50] <eddyb> I was going to list all primitives, u8, u16, u32, u64, uint, i8, i16, i32, i64, int, f32, f64, char and (soon to be gone) str
[20:28:00] <strcat> Eridius: you can do an impl on the crate defining them - they're the same
[20:28:02] *** Joins: claudiu_ (claudiu@8ECC4BFC.EC83738C.D8D85ABD.IP)
[20:28:05] <strcat> as a user, int and Vec behave the same way
[20:28:06] *** Joins: ipetkov (ipetkov@moz-B2740012.dsl.lsan03.sbcglobal.net)
[20:28:09] <strcat> you can't do an impl on either
[20:28:17] <Eridius> eddyb: str is going away? Don't we need &str?
[20:28:19] *** Quits: claudiu (claudiu@moz-6F0C4397.thefacebook.com) (Ping timeout)
[20:28:21] *** Quits: parcha (quassel@moz-1A772EE6.hsd1.ma.comcast.net) (Client exited)
[20:28:23] <eddyb> Eridius: for?
[20:28:27] <strcat> #[no_std] is a hack to work around the stdlib not working for freestanding usage
[20:28:27] <Eridius> strcat: but you can reimplement Vec yourself. You can't reimplement uint
[20:28:31] <strcat> when that's fixed, #[no_std] can go away
[20:28:35] <Eridius> eddyb: for references to strings that don't carry ownership?
[20:28:43] <strcat> Eridius: you can reimplement uint yourself, just as you can reimplement Vec
[20:28:50] <eddyb> Eridius: and how would struct Str([u8]); break that?
[20:29:17] <eddyb> strcat: how?
[20:29:25] <eddyb> strcat: by using a raw pointer :P?
[20:29:34] <strcat> eddyb: huh?
[20:29:42] <Eridius> eddyb: Str([u8]) carries a capacity. I don't want a capacity in my &str
[20:29:47] <eddyb> Eridius: no it doesn't
[20:29:52] *** Joins: dapz (textual@moz-ADE1780.hsd1.ca.comcast.net)
[20:29:54] <Eridius> so what, strings can't be grown?
[20:29:58] <eddyb> nope
[20:30:03] <Eridius> umm, that's a serious problem
[20:30:06] <soc> I think Rust needs to have a long look at all the things adopted from C and decide whether they were added to C in the first place because a) it made sense or b) people didn't have a clue what they were doing back then in the 70ies
[20:30:09] <SiegeLord> Can they be grown today?
[20:30:09] <eddyb> Eridius: that's not a string ;)
[20:30:20] <eddyb> Eridius: that's a string buffer of some sort
[20:30:23] *** Joins: parcha (quassel@moz-1A772EE6.hsd1.ma.comcast.net)
[20:30:26] *** Joins: claudiu (claudiu@moz-6F0C4397.thefacebook.com)
[20:30:28] <Eridius> SiegeLord: ~str can be grown, yes
[20:30:32] <doomlord_> C did things right to gain adoption
[20:30:41] <SiegeLord> There'll have to be a new growable string type then
[20:31:05] <Eridius> why not just leave str in as an analog to [u8]?
[20:31:08] <strcat> yes we already have to replace ~str
[20:31:09] *** Quits: alext (Adium@moz-C36E2841.albq.qwest.net) (Quit: Leaving.)
[20:31:16] <Eridius> heck, don't we need str for "string literals" to make sense?
[20:31:18] <strcat> with an equivalent to Vec
[20:31:24] <eddyb> Eridius: lang items (for literals)
[20:31:26] <strcat> Eridius: leaving str is fine
[20:31:31] *** Quits: claudiu_ (claudiu@8ECC4BFC.EC83738C.D8D85ABD.IP) (Ping timeout)
[20:31:32] <strcat> Eridius: but we need a growable string
[20:31:36] * Ms2ger wants custom string literals
[20:31:44] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Input/output error)
[20:31:49] <eddyb> Eridius: I don't like having too much in the compiler
[20:31:49] <Eridius> strcat: sure, and I assumed we'd have Str as a growable string just as Vec<T> is a growable vector
[20:31:57] <Eridius> and have str as a non-growable string just as [T] is a non-growable vector
[20:32:10] <strcat> if there's a refusal to rename built-in types unless they're implement in a library, then I'm for removing all built-in types with english names
[20:32:15] <strcat> so bye str
[20:32:17] <soc> doomlord_: imho, if Rust wants to get adoption, it should think about getting things right too.
[20:32:19] <strcat> I'll be replacing you with a lang item
[20:32:22] <strcat> ;p
[20:32:27] <eddyb> strcat: I agree to that :D
[20:32:30] <soc> doomlord_: because shitty language are plenty out there
[20:32:31] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[20:32:41] <strcat> yeah but I don't get why we can't just call something Bool that's a built-in
[20:32:45] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[20:32:45] <soc> no one needs yet another Go
[20:32:45] <strcat> it's an implementation detail
[20:32:46] <aphistic> soc: who's to say what you think is right?
[20:32:47] <Eridius> strcat: goodbye int/uint/char too, I guess?
[20:32:55] <strcat> Eridius: yes, inconsistency like that sucks
[20:32:58] <eddyb> soc: Rust is sooo far off Go
[20:33:06] <Eridius> and heck, u8/u16/u32/u64/i8/i16/i32/i64 since the u and i are abbreviations for the english words unsigned and integer
[20:33:09] <strcat> we aren't Java, our primitives aren't fundamentally different
[20:33:13] <Eridius> so I guess we have no primitives left
[20:33:16] <strcat> Eridius: [T]
[20:33:26] <eddyb> strcat: it feels cozy with lowercase primitives
[20:33:30] <strcat> Eridius: anything else can be defined in a library
[20:33:37] <Eridius> strcat: well, that's a description of how to make a type, just as `struct` or `(T, T)` is
[20:33:49] <strcat> Eridius: [T] will be a type
[20:33:52] <soc> another thing are the semicola ... I mean ... seriously, it's 2014 ... there is no way I'm going to start hand-holding my language's parser again
[20:33:54] <doomlord_> rust and go aren't remotely close
[20:34:03] <Eridius> strcat: [T] for a concrete T will be a type
[20:34:04] <doomlord_> completely different niches
[20:34:13] <strcat> Eridius: sure
[20:34:14] <eddyb> soc: Rust has significant semicolons
[20:34:15] <strcat> Eridius: () is a type
[20:34:18] <strcat> if you want to argue that way
[20:34:25] <Eridius> ok yes, () will be the only primitive left
[20:34:33] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[20:34:35] <eddyb> () is just an empty tuple
[20:34:40] <soc> eddyb: imho, if i ever have to write one, the language is wrong
[20:34:40] <eddyb> also, you're missing !
[20:34:44] <strcat> ! isn't a type
[20:34:46] <doomlord_> +1 rusts' use of the semicolon to remove 'return' is a nice tweak
[20:34:48] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[20:34:52] <strcat> it's a hack and we shouldn't really have it imo ;p
[20:34:54] <Eridius> ok I take it back, ((), ()) will exist, as will ((), (), ()), etc.
[20:34:55] <eddyb> strcat: enum Void {} is a type
[20:35:04] <eddyb> strcat: either or none should be types IMO
[20:35:06] <strcat> eddyb: but if you -> Void, it doesn't act like -> !
[20:35:08] <kimundi> Eridius: All structural types basically :P
[20:35:09] <eddyb> Void is just a named !
[20:35:17] <Eridius> but unless you want the type system to consist entirely of unit, functions, and tuples containing unit, functions, or other tuples, then we need some actual named primitives
[20:35:17] <strcat> it's not just named !
[20:35:21] <strcat> you can't impl ! yourself atm
[20:35:26] <strcat> nothing you make can behave like it
[20:35:27] *** Joins: canhtak (canhtak@54F87F4D.60A12A38.BF4BC958.IP)
[20:35:30] <Eridius> struct, of course, has to go because struct is the english word structure
[20:35:45] <eddyb> strcat: I'm saying we should enforce it ;)
[20:35:45] <Eridius> and we may have to kill functions because you declare them with fn
[20:35:48] <Eridius> but I guess closures can stay
[20:35:56] <eddyb> strcat: enum Void {} behaves pretty badly right now
[20:35:56] *** Quits: azita (Azita@moz-62518563.mtv2.mozilla.com) (Quit: azita)
[20:36:01] * kimundi can not tell anymore if people are serious or not.
[20:36:07] <Eridius> kimundi: I'm not serious ;)
[20:36:10] * aphistic sees soc as a troll
[20:36:12] <strcat> Eridius: struct never occurs in the type namespace
[20:36:12] <mcpherrin> all you need is functions
[20:36:18] <eddyb> soc: you still haven't considered the point that semicolons are significant
[20:36:19] <Eridius> I'm making light of strcat's claim that we should remove str because it's named after an english word
[20:36:25] *** Quits: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch) (Quit: Leaving.)
[20:36:29] <doomlord_> soc is not a troll. If you want to see a troll, i'll cut paste some logs for you
[20:36:30] <eddyb> soc: expr; is different from expr
[20:36:33] <strcat> Eridius: I'm saying we should remove it because it's inconsistent
[20:36:34] <eddyb> doomlord_: no thx
[20:36:40] <eddyb> aphistic: just borderline
[20:36:43] <soc> eddyb: yes, that's just such a bad idea :-)
[20:36:44] <strcat> rusti: struct foo {}
[20:36:44] -rusti- <anon>:10:21: 10:22 error: unit-like struct definition should be written as `struct foo;`
[20:36:44] -rusti- <anon>:10         struct foo {}
[20:36:44] -rusti-                               ^
[20:36:44] -rusti- application terminated with error code 101
[20:36:47] <Eridius> strcat: every other non-structural primitive is named after english words too
[20:36:48] <strcat> rusti: struct foo;
[20:36:49] -rusti- pastebinned 7 lines of output: http://sprunge.us/HFjJ
[20:36:57] <Eridius> strcat: as are the entirety of the non-punctuation syntax in rust
[20:36:57] <strcat> <anon>:10:9: 10:20 warning: type `foo` should have a camel case identifier, #[warn(non_camel_case_types)] on by default
[20:37:00] <strcat> <anon>:10         struct foo;
[20:37:02] <strcat>                   ^~~~~~~~~~~
[20:37:04] <strcat> why do we lint on that
[20:37:05] <kimundi> doomlord_: Please don't. I was in the oculus subreddit the last days, I've seen enough for a lifetime.
[20:37:08] <soc> eddyb: that kind of reminds me of JavaScript's semicolon handling
[20:37:13] <strcat> yet there are types defined in the standard prelude not following that rule?
[20:37:15] <eddyb> soc: it's nothing like JS
[20:37:19] <kimundi> T_T
[20:37:21] *** Joins: evanm (evanm@636AC086.5999CED5.71743E61.IP)
[20:37:23] <strcat> Eridius: not what I said
[20:37:28] *** Quits: paraze (paraze@moz-96380A71.w86-209.abo.wanadoo.fr) (Quit: Quitte)
[20:37:29] <doomlord_> i've seen people complain that you put "=>" instead of ":" between match arms. (like, ignoring the fact you elimintated the 'case/break' keywords and complaining about *verbosity* :)
[20:37:30] *** Joins: azita (Azita@moz-62518563.mtv2.mozilla.com)
[20:37:30] <strcat> I said we should remove non-camel-cased types
[20:37:31] *** Joins: Matthias247 (Miranda@moz-678B5E4A.hsi2.kabel-badenwuerttemberg.de)
[20:37:41] <eddyb> soc: you're basically being against value flow, which is a highly cherished feature of Rust
[20:37:47] <strcat> I said if you guys want to be illogical about it and view built-in types as different
[20:37:53] <o11c> well, > requires pressing the shift key ...
[20:37:54] <Eridius> strcat> if there's a refusal to rename built-in types unless they're implement in a library, then I'm for removing all built-in types with english names
[20:37:55] <soc> wait ... what?
[20:37:57] <strcat> then I will be submitting PRs to remove all built-ins with english names
[20:38:00] <Eridius> strcat: that's specifically what I was referring to
[20:38:01] <strcat> not because they are built-in
[20:38:01] <aphistic> doomlord_: tbh i could live without the -> after fn :P
[20:38:10] <eddyb> soc: ; is a component of value flow
[20:38:23] <soc> then that's just wrong, imo
[20:38:25] <o11c> -> is rarer than => though (conceptually at least)
[20:38:26] <strcat> Eridius: having english names isn't why they will be removed
[20:38:27] <Eridius> every type imported in the prelude is a CamelCase name
[20:38:31] <doomlord_> i like it, it seperates the input & outputs nicely, eg if you have an output tuple
[20:38:32] <strcat> Eridius: nope
[20:38:35] <kimundi> soc: Rust hasn't really any ambiguities in semicolon usage/not usage, unlike JS. So I think eddyb's point that in Rust semicolons are significant is a bit misleading. ;)
[20:38:36] <strcat> Eridius: int, etc. are in the prelude
[20:38:39] <Eridius> strcat: the only non-camelcase I see are functions, not types
[20:38:41] <eddyb> soc: it's like denying Haskell its >>
[20:38:42] <strcat> Eridius: the prelude module is an implementation detail
[20:38:48] <strcat> prelude means 'things imported by default'
[20:38:48] <doomlord_> fn name(inputs,..)->(outputs,..) .. perfect IMO
[20:38:54] <o11c> kimundi: I think there are some ambiguous cases with a trailing if
[20:38:54] <eddyb> kimundi: did I say the opposite of what I meant?
[20:38:57] <Eridius> strcat > yet there are types defined in the standard prelude not following that rule?
[20:39:02] <strcat> Eridius: yep
[20:39:06] <Eridius> strcat: you're contradicting yourself
[20:39:07] <strcat> Eridius: int, uint, etc. are in the prelude
[20:39:12] <strcat> no, I'm not contradicting myself
[20:39:15] <eddyb> strcat: no they're not
[20:39:18] <Eridius> you specifically referred to the prelude, I said you're wrong, and you're now saying you weren't talking about the prelude
[20:39:19] <strcat> eddyb: yes, they are
[20:39:21] <eddyb> nope
[20:39:24] <strcat> prelude means things imported by default
[20:39:25] <eddyb> primitives are a resolve hack
[20:39:27] <o11c> fn foo() { if cond { ... } else { ... }   }
[20:39:27] <strcat> that's what a prelude is
[20:39:31] <strcat> eddyb: again
[20:39:31] <eddyb> they are not part of std::prelude
[20:39:35] <o11c> is that if a statement or an expression?
[20:39:35] <Eridius> int, uint, etc aren't in the prelude. They're built-in to the language
[20:39:42] <strcat> you guys fail to understand the difference between implementation details and user-visible things
[20:39:49] <Eridius> the prelude is specifically the parts of libstd that are brought into scope by default
[20:39:51] <strcat> rust repeats this mistake over and over
[20:39:51] <soc> having ; for value flow kind of poses the question "why would you ever not have an expression-based construct?"
[20:39:55] <Eridius> strcat: you fail at using the correct terminology, apparently
[20:39:55] <eddyb> strcat: because implementation details are IMPORTANT *ENRAGED FACE*
[20:39:59] <strcat> implementation detail != user-visible defined part of the language
[20:40:06] <strcat> Eridius: I am using correct terminology
[20:40:06] <mcpherrin> Eridius: you're looking through compiler-colored glasses, not user ones
[20:40:10] <strcat> prelude means things imported by default
[20:40:16] <eddyb> soc: have you used Haskell?
[20:40:20] <strcat> implementation details aren't relevant to user-facing decisions
[20:40:20] <Eridius> strcat: you're using the word "prelude" to refer to the types that are defined by the language itself. That's absolutely incorrrect
[20:40:28] <Eridius> int, uint, etc aren't imported at all. They're specified in the language
[20:40:30] <strcat> the language itself imports Vec by default
[20:40:35] <soc> eddyb: yes
[20:40:37] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[20:40:37] *** Quits: josh (josh@moz-C350AC70.hsd1.mn.comcast.net) (Quit: josh)
[20:40:38] <Eridius> no, libstd imports Vec in the prelude
[20:40:38] *** Joins: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch)
[20:40:42] *** Quits: jaras (textual@1CDC5701.A48867D7.52E4E107.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[20:40:43] <eddyb> soc: ; in Rust is a bit like >>
[20:40:44] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[20:40:49] <strcat> Eridius: 'prelude' means type imported by default
[20:40:56] <strcat> I'm not talking about implementation details
[20:40:57] <Eridius> strcat: int, uint, etc. _aren't imported_
[20:40:59] <eddyb> soc: would you want to remove >> from Haskell?
[20:41:00] <Eridius> they're fundamental to the language
[20:41:02] <strcat> I'm talking about language and API design
[20:41:05] <Eridius> it's not an implementation detail
[20:41:10] <kimundi> o11c, eddyb: What I meant is: In Rusts grammar, semicolons are an integral part where depending on position its either always required, or always not allowed. There aren't really any places where it changes meaning without directly running in type errors.
[20:41:11] <strcat> Eridius: Vec is fundamental to the language
[20:41:13] <strcat> it's imported by default
[20:41:15] <Eridius> strcat: no, it's fundamental to libstd
[20:41:27] <strcat> Eridius: libstd is linked against by default, by the compiler
[20:41:30] <strcat> with no user directive
[20:41:32] <Eridius> if I say #[no_std], I have no libstd, and no prelude, and the only types I get are the ones specified by the language
[20:41:39] <eddyb> kimundi: unambiguous signfinicant semicolons?
[20:41:39] <strcat> the libstd extensions to the prelude are imported by default
[20:41:49] <Eridius> strcat: please stop trying to redefine "prelude"
[20:41:51] <soc> eddyb: I wouldn't say that ; is even remotely comparable to >>
[20:41:58] <strcat> Eridius: I'm not 'trying to redefine' prelude
[20:41:59] <kimundi> eddyb: Yeah
[20:42:07] <Eridius> your inssitence on using terminology differently than everyone else does not help anyone at all, it just confuses things
[20:42:08] <strcat> you are just misunderstanding that std::prelude is an extension of the 'prelude'
[20:42:12] <strcat> prelude means 'imported by defualt'
[20:42:19] <doomlord_> there are a few things that give me second thoughts, i guess everyones' list will be different. In my case i think I genuinely miss plain old C++ overloading - it seems rust requires a little more naming work (traits and longer fn names). But its not disasterous and there's still enough i like
[20:42:24] <strcat> Eridius: I'm not using terminology that no one else uses
[20:42:26] <eddyb> soc: actions are sequenced naturally in Rust, but ; discards the previous value and produces ()
[20:42:26] <Eridius> strcat: prelude means "an action or event serving as an introduction to something more important"
[20:42:31] <strcat> I'm using the standard terminology
[20:42:45] <kimundi> eddyb: You always know when to write one, and when to leave one of. And the cases where you can choose always result in the same semantic.
[20:42:46] <Eridius> strcat: everyone who uses the word "prelude" when talking about Rust is talking about std::prelude
[20:42:50] <Eridius> you're the only exception that I've seen
[20:43:13] *** Joins: james4k (james@moz-9BB5AE72.consolidated.net)
[20:43:20] <strcat> everyone using it that way is wrong and fails to separate implementation details from the user-facing language
[20:43:20] <Eridius> there is a fundamental difference between types defined in libstd, which is what the prelude imports, and types that are defined by the language specification, such as u8
[20:43:23] * eddyb blames soc for waking up strcat
[20:43:31] <eddyb> now we've got a mess
[20:43:35] <strcat> #[no_std] is a hack and can be removed
[20:43:45] <strcat> it shouldn't exist
[20:43:47] <Eridius> strcat: if you ever find yourself saying "everyone else is wrong" when talking about terminology, then you really need to think about why you disagree with everyone
[20:43:57] <Eridius> strcat: if it shouldn't exist, then rustc shouldn't link libstd by default
[20:44:03] <doomlord_> i wonder if i can make a macro to automatically name a single-function trait
[20:44:18] <strcat> Eridius: yes, it should continue linking libstd by default
[20:44:24] <strcat> it also links compiler-rt by default
[20:44:33] <strcat> even when you use #[no_std], it links compiler-rt
[20:44:42] <Eridius> strcat: compiler-rt is speifically implementations of compiler-provided primitives.
[20:44:47] <Eridius> it's an implementation detail to support the compiler
[20:44:59] <strcat> libstd is specifically implementations of compiler-provided primitives
[20:45:03] * aatch looks in *still going* goes away again
[20:45:05] <Eridius> libstd is not. it's a library that most people are expected to use, but there are cases where you don't want it
[20:45:08] <Eridius> such as in Kernel development
[20:45:09] <strcat> the compiler provides libstd
[20:45:12] <strcat> it links it by default
[20:45:12] <soc> eddyb: what I'm saying is that a newline should be enough to end an expression
[20:45:14] <eddyb> Eridius: compiler-rt is not about the compiler
[20:45:25] <eddyb> soc: so you replace something visible with something invisible?
[20:45:27] <Eridius> and I know you're in favor of making libstd usable in Kernel land, but even that won't remove every single desire to get rid of it
[20:45:42] <eddyb> soc: I've never understood this logic in languages like Python
[20:45:43] <soc> there is no point in having to tell the compiler "i'm not only ending that line, I'm REALLY ending that line!"
[20:45:47] <strcat> Eridius: libstd should be as portable as compiler-rt
[20:45:48] <Eridius> eddyb: my understanding is compiler-rt provides implementations of compiler intrinsics that are not otherwise provided on the given architecture. Am I wrong?
[20:45:53] <strcat> then #[no_std] can be removed
[20:45:56] <doomlord_> i have to keep remembering traits save time with error messages later :)
[20:46:06] <eddyb> Eridius: then maybe I understood you wrong
[20:46:12] <strcat> Eridius: it provides stuff that's not available on any arch by default
[20:46:21] <strcat> it provides all of address sanitizer, etc. for one thing
[20:46:23] *** Joins: larsberg (sid16141@moz-A42E5B7B.irccloud.com)
[20:46:42] <o11c> rusti: fn foo() -> int { if true { 0; } else { 0; } if true { 0 } else { 0 }  }; foo()
[20:46:43] -rusti- 0
[20:46:54] <o11c> kimundi: tell me that's not a terrible hack
[20:46:56] <Eridius> strcat: even if libstd is 100% portable, I may have a desire to get rid of it and provide my own completely independent standard library, because e.g. I may disagree with design decisions of libstd, or maybe I'm teaching a compsci course and I need my students to learn how to write these fundamental building blocks on their own
[20:46:59] <soc> eddyb: ";" is from a time where people had no clue what they were doing ... no point in having it today
[20:47:13] <strcat> Eridius: then you can patch the compiler
[20:47:20] <o11c> if you remove the ;s, it doesn't work, unless the expressions are ()
[20:47:29] <Eridius> strcat: it's not much of a systems language if it forces an entire library down your throat
[20:47:40] *** Parts: larsberg (sid16141@moz-A42E5B7B.irccloud.com) ()
[20:47:40] <strcat> Eridius: compiler-rt is a library
[20:47:47] *** Quits: dherman (dherman@moz-B31C6965.dsl.pltn13.sbcglobal.net) (Quit: dherman)
[20:47:49] <Eridius> strcat: compiler-rt is an implementation detail. libstd isn't
[20:47:50] <eddyb> soc: you end up with both newlines and ; doing similar things
[20:47:51] <strcat> C, C++ and Rust force it down your throat
[20:47:56] <kimundi> o11c: Uhm, what is the hack there?
[20:48:02] <eddyb> soc: well, no, you split ; into newline and ;
[20:48:04] *** Quits: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch) (Quit: Leaving.)
[20:48:05] <strcat> Eridius: compiler-rt isn't any more of an implementation detail than std::prelude
[20:48:07] <soc> eddyb: yes, that's why it's a good idea to get rid of one of them
[20:48:09] <whitequark> strcat: C does?
[20:48:14] *** Joins: dotfelix (felix@929DAEA9.AB3AC796.40E092AA.IP)
[20:48:15] <o11c> kimundi: the fact that 'if if' is sometimes legal, sometimes not - depending on the type of the value in the first if
[20:48:17] <eddyb> soc: you can't completely get rid of ;
[20:48:20] <strcat> whitequark: as much as 'Rust' does as a language
[20:48:27] <soc> yes, same-line stuff etc
[20:48:36] <doomlord_> semicolon insertion sounds awful
[20:48:38] <strcat> whitequark: another implementation of Rust wouldn't *need* to have a std::prelude
[20:48:42] <eddyb> doomlord_: very much so
[20:48:51] <whitequark> strcat: C++ pretty much requires libc++ or something equivalent in order to use exceptions
[20:48:52] <soc> ; is nice for languages with a REPL, but it shouldn't be required in production code
[20:48:52] * aatch is going to actually leave, if anybody needs me, I'll be in -internals
[20:48:54] *** Quits: aatch (James@moz-B437F499.pocketrent.com) (Quit: Leaving)
[20:48:55] <eddyb> soc: you're being against JS but actually asking for their dreaded situation
[20:48:59] <Eridius> strcat: std::prelude isn't an implementation detail. It's a convenience, and also a hack because the compiler is effectively doing `use std::prelude::*` at the top of your source file
[20:49:02] <strcat> whitequark: sure, you're talking to the wrong person
[20:49:04] <eddyb> soc: good job there mate
[20:49:05] <whitequark> oh, ok
[20:49:06] <doomlord_> either have semicolons or significant whitespace. i can see arguemnts for either. but semicolon insertion.. yuk
[20:49:17] <o11c> Eridius: it's a practical necessicy, because of how trait lookup works
[20:49:24] <soc> eddyb: just because JS fucked it up (like almost everything) doesn't mean there are clean implementations
[20:49:25] <eddyb> soc: now I'll get back to actually doing things instead of arguing on the internet for things that should go in a FFAQ
[20:49:25] <mcpherrin> soc: what if your production code is a REPL?! 
[20:49:28] <kimundi> o11c: I don't see a if if there?
[20:49:29] <Eridius> o11c: yes, I agree
[20:49:31] <eddyb> soc: prove it
[20:49:33] <strcat> whitequark: as soon as rust's stdlib finally works for freestanding usage, I think we need to remove #[no_std] ASAP
[20:49:37] *** Quits: Ferreus (ferreus@moz-736C21E6.lsn.wtnet.de) (Ping timeout)
[20:49:39] <soc> most languages with optional semicola have absolutely no issue with it
[20:49:43] <strcat> whitequark: we will still have #[start]
[20:49:46] <eddyb> and wtf is cola
[20:49:49] <strcat> but we shouldn't have #[no_std]
[20:49:51] <sinistersnare> when someone says 'nominating' does that mean they are tasking themselves with doing the thing?
[20:49:55] <Eridius> o11c: a non-hacky way of doing this would be to provide a blessed way for any arbitrary crate to define a prelude that is imported by virtue of saying `extern crate foo;`
[20:49:57] <o11c> kimundi: I mean, 2 entire if expressions can be adjacent
[20:49:59] <Eridius> but I don't think we really want to do that
[20:50:00] <strcat> it turns a whole lot of things like lang items into user-facing details
[20:50:07] <strcat> and we can never, ever make that stable
[20:50:12] <doomlord_> soc i wholeheartedly agree that rusts' use of final expression as return requires the ";" to clarify and visually indicate what is being returned
[20:50:14] *** Joins: q66 (q66@moz-FDC9B85A.range109-150.btcentralplus.com)
[20:50:17] <o11c> kimundi: but sometimes they require an explicit semicolon
[20:50:26] *** Quits: bharadwaj (uid11995@moz-5F4AA75A.irccloud.com) (Quit: Connection closed for inactivity)
[20:50:35] <o11c> me, I like how GCC does statement expressions
[20:50:40] <Eridius> anyway, we're getting horribly sidetracked
[20:50:45] <o11c> you just put the ; on the last expression anyway
[20:50:47] <soc> doomlord_: Rust doesn't support specifying a return type?
[20:50:58] <kimundi> o11c: Oh, well thats true for any control structure in rust. The rules that lead to them not needing a ; at the end are a bit confusing, but I don't see where a ; changes semantic?
[20:51:13] <strcat> rusti: let x = { 0 }; x
[20:51:14] -rusti- 0
[20:51:15] <strcat> rusti: let x = { 0; }; x
[20:51:15] -rusti- ()
[20:51:16] <doomlord_> I dont have much patience for typing redundant stuff (see my rants about double-cast :) but i'm perfectly happy with ";"s clarifying statement boundaries. A little bit of structure helps you write it right
[20:51:31] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[20:51:36] *** jorendorff is now known as jorendorff_away
[20:51:40] <strcat> rust's usage of semicolons is a wonderful thing imo
[20:51:46] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[20:51:51] <Eridius> there's a fundamental difference between primitives and library-defined types, which is that every library-defined type is, fundamentally, defined in terms of primitives (or enums, or empty structs; I'm counting () as a primitive)
[20:51:53] <kimundi> strcat: Okay, granted. But I count that as "things that cause type errors in any real code" ;)
[20:52:03] <doomlord_> if you had to write "return" then  i can see why you might not like writing semicolons, but without 'return'.. ";" really helps
[20:52:06] <strcat> I think the number of characters you have to type (semicolons as statement terminators) is far lower than the number of characters it saves (explicit returns, mutable variables, etc.)
[20:52:06] <mcpherrin> semicolon has such a valuable keyboard position in QWERTY that it seems a shame to waste it;
[20:52:11] <Eridius> Rust's usage of ";" is great. I love it.
[20:52:14] <strcat> mcpherrin: +1
[20:52:18] <hoverbear> Eridius: +1
[20:52:26] <soc> well, you could have used it to introduce comments :-)
[20:52:33] <strcat> for example, yes, you have to write 'statement; statement;'
[20:52:42] <strcat> but you don't have to write 'return' at the end of a function
[20:52:46] <strcat> you can write
[20:52:47] <mcpherrin> ;; scheme comments *are* pretty nice
[20:52:48] *** Joins: Ferreus (ferreus@moz-736C21E6.lsn.wtnet.de)
[20:52:54] <strcat> let x = if foo { ... } else { ... };
[20:53:02] <strcat> or let x = match ...;
[20:53:03] <mbrubeck> I'm another fan of the way Rust uses semicolons.  I've written "production" code in JS, Haskell, C, C++, Python, Ruby, Perl... and Rust's semicolon rules are my favorite yet.
[20:53:11] <o11c> ; as comment has always looked funny to me
[20:53:12] <strcat> and { } is an expression
[20:53:16] <Eridius> The ability to replace all newlines with spaces (outside of string literals, of course, and after stripping line comments) and have the program mean the same thing is extremely useful
[20:53:17] <mcpherrin> Having ;;.*\n be equivalent to ; would be pretty funny
[20:53:21] <zwarich> -- Ada comments for life
[20:53:25] <o11c> I prefer python's semicolons though
[20:53:29] <pczarn> ";" works like a combination of a semicolon and `nil`
[20:53:32] <strcat> soc: I doubt we'd use // for anything else though
[20:53:33] <mcpherrin> foo();; This is a comment *and* a seperator!
[20:53:42] <aphistic> i think rust should ditch semicolons and enforce whitespace instead
[20:53:45] <eddyb> strcat: regex
[20:53:47] <soc> XPath operators? :-)
[20:53:48] <strcat> soc: we don't need a second kind of division
[20:53:49] *** Quits: KokaKiwi (kokakiwi@moz-D674DAC6.kokakiwi.net) (Ping timeout)
[20:53:52] <eddyb> strcat: </sarcasm>
[20:53:55] <strcat> soc: never going to be built-in
[20:54:00] <Eridius> anyway, back to work for me
[20:54:08] * mcpherrin remembers I have a job
[20:54:10] <soc> btw, having to mark macros with ! is another thing which should just not exist imho
[20:54:11] <Eridius> :D
[20:54:19] <eddyb> soc: yeah, good luck with that
[20:54:20] <o11c> soc: no, it's essential
[20:54:23] <doomlord_> soc that is needed for consistent grammar i think
[20:54:23] <strcat> soc: they're intentionally explicit
[20:54:25] <eddyb> soc: the ! there is the only reason it works
[20:54:35] <strcat> ok lets pretend it *could* be hidden
[20:54:38] <strcat> please no
[20:54:38] <Eridius> soc: it's syntactically different because they need to be expanded at a different type
[20:54:39] <o11c> but I would like to seee macro_rules!! beacuse it takes 2 arguments
[20:54:41] <strcat> foo(x + 5)
[20:54:48] <hoverbear> soc: marking with ! is the best idea since sliced bread
[20:54:50] <soc> it's like they added a feature, but don't trust people on how they implement it
[20:54:51] <doomlord_> +1
[20:55:09] <o11c> soc: it's *extremely* useful for grammar reasons
[20:55:10] <eddyb> hoverbear: Rust is the best idea since sliced bread!
[20:55:11] <kimundi> soc: Anyway, I get feeling skeptical about the semicolon stuff at first, it was the same for me. But after actually using it you notice that you approximately never run into issues with in practice. :)
[20:55:20] <hoverbear> eddyb: I disagree. Computers are a better idea.
[20:55:20] <strcat> soc: if you expect rust to trust you, you're looking at the wrong language
[20:55:27] <mcpherrin> MACROS_COULD_BE_YELLING_CASE("people in favour? {:d}", count())
[20:55:27] <eddyb> o11c: I have a few ideas how to get rid if the double argument nonsense in macro_rules
[20:55:32] <eddyb> mcpherrin: 0
[20:55:33] <strcat> soc: lifetimes have no functional purpose at runtime
[20:55:37] <o11c> eddyb: like what?
[20:55:38] <strcat> soc: the compiler strips them all away
[20:55:39] <soc> from a user POV, if I'm ever able to tell the difference between a method and a macro call, the macro author should go back to the drawing board
[20:55:40] <Eridius> soc: it's also important because macros can take more than just expressions, and can have custom syntax inside them, and can do things that functions can't such as take an identifier and modify the variable without a visible reference to it
[20:55:40] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[20:55:58] <eddyb> o11c: I'd answer that in #rust-internals or ask kimundi who actually thought about the idea more than me
[20:56:02] *** Quits: derek_c (derek@moz-3D7E1024.cit.cornell.edu) (Ping timeout)
[20:56:03] *** Joins: avsej (avsej@D9A610B8.4841F515.FB33447D.IP)
[20:56:08] <strcat> soc: macros are meant to do more than replace function calls
[20:56:14] <strcat> you can generate types with them, or whatever
[20:56:24] <soc> yes, but the user shouldn't have to care how X is implemented
[20:56:25] <doomlord_> what i'd like to see for macros is this...     def_struct!  Something() {   }   /* macros support an identifier, a () and a {} all optionally, at least one of them required. */ ... then you can write things that look more like inbuilt syntax, just with the ! clarifying it.. eg replicate the old do!
[20:56:31] <strcat> soc: it's not an implementation detail
[20:56:37] <mcpherrin> soc: from a systems perspective, I should be able to look at something and know how it's going to happen
[20:56:44] <strcat> soc: macros define new languages, there's no reason you have to follow the function call syntax
[20:56:44] *** Quits: arturo (Thunderbir@moz-E83B14F0.superkabel.de) (Client exited)
[20:56:45] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[20:56:47] *** Joins: leaper (Mibbit@moz-A13D0761.hfc.comcastbusiness.net)
[20:56:48] <mbrubeck> soc: Rust is very much for people who want to look at code and be able to reason about what the implementation can and can't be doing.
[20:57:01] <strcat> soc: look, this is rust
[20:57:02] <eddyb> mbrubeck: finally decided to join?
[20:57:04] <strcat> it has lifetimes
[20:57:10] <strcat> soc: you realize lifetimes have zero runtime purpose right?
[20:57:16] <strcat> soc: they are *entirely* stripped away by the compiler
[20:57:16] <soc> stuff has names so that people know what it does ... if one ever breaks that intuition, the suggested lack of ! is the least important issue :-)
[20:57:18] *** Quits: darnuria (darnuria@moz-AB6EB255.ip-91-121-133.eu) (Ping timeout)
[20:57:25] *** Joins: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net)
[20:57:25] *** ChanServ sets mode: +o tjc
[20:57:25] <mbrubeck> eddyb: Against my better judgement. :)  Anyway, I need to leave to pick up my daughter from school in a couple of minutes. :)
[20:57:31] <soc> strcat: yes, but what's the point?
[20:57:35] <strcat> soc: of lifetimes?
[20:57:42] <soc> no, of that argument
[20:57:45] <doomlord_> maybe i actually mean,   add "...! ... ;" as an option for boundng a macro
[20:57:46] <o11c> soc: because living forever is boring
[20:57:49] <strcat> soc: because rust doesn't trust the programmer
[20:57:52] *** Quits: leaper (Mibbit@moz-A13D0761.hfc.comcastbusiness.net) (Quit: http://www.mibbit.com ajax IRC Client)
[20:57:55] *** Joins: arturo (Thunderbir@moz-E83B14F0.superkabel.de)
[20:57:57] <strcat> rust doesn't trust you to get lifetimes right, so it checks them
[20:57:57] <soc> most advanced languages have stuff which don't survive until runtime
[20:57:59] <hoverbear> sophie +1
[20:58:07] <hoverbear> strcat +1
[20:58:09] <strcat> soc: I'm talking about an entirely redundant feature
[20:58:14] <strcat> soc: lifetimes don't generate code
[20:58:19] <strcat> lifetimes don't change the meaning of anything
[20:58:25] <soc> yes ...?
[20:58:31] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[20:58:38] <strcat> soc: can you give an example of a similar language feature?
[20:58:43] <soc> I'm not arguing against checking lifetimes
[20:58:46] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[20:58:51] <eddyb> strcat: Java "generics" =)))
[20:58:57] <soc> did it appear that way?
[20:58:57] <strcat> eddyb: generics reduce typing
[20:59:00] <strcat> not a similar example
[20:59:09] <strcat> generics reduce the work the programmer has to do
[20:59:19] <soc> well, except in Java :-)
[20:59:21] <o11c> eddyb: wouldn't call Java an advanced language ... advanced VM perhaps
[20:59:33] <strcat> fn foo<'a, T>(x: &'a T) 
[20:59:34] <eddyb> strcat: I mean, they are pretty much erased
[20:59:50] <strcat> eddyb: they still save the programmer work
[21:00:13] <strcat> they are only erased in the same sense that 'for' loops are
[21:00:20] <eddyb> strcat: *sigh* I mean they don't do shit at runtime
[21:00:26] <eddyb> you could be using Object all over the place
[21:00:31] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[21:00:39] *** Joins: claudiu_ (claudiu@moz-6F0C4397.thefacebook.com)
[21:00:40] <strcat> eddyb: they expand to code that does stuff
[21:00:46] <strcat> lifetimes don't
[21:00:47] <eddyb> or maybe you didn't want an example similar to lifetimes
[21:00:48] *** Quits: claudiu (claudiu@moz-6F0C4397.thefacebook.com) (Connection reset by peer)
[21:00:54] <mbrubeck> checked exceptions?
[21:01:02] <strcat> mbrubeck: sure, that's a good one
[21:01:11] <strcat> mbrubeck: although not in C++ ;)
[21:01:38] <kimundi> soc: Because I didn'T see someone else make this point above: The ! for macros is essential, because not having it would mean no allowing macros to parse arbitrary syntax, which would mean you wouldn't need macros to begin with.
[21:01:46] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[21:01:52] <strcat> I don't know of many features like checked exceptions (Java-style) or lifetimes in most of the programming languages I use
[21:02:02] <strcat> that are *entirely* there due to lack of trust in programmers
[21:02:09] *** Joins: eholk (eholk@4C33E9A6.EC877627.1378615F.IP)
[21:02:09] <kimundi> In other words, the ! is necessary in order for the feature to exist at all.
[21:02:10] *** Quits: ahunt (ahunt@moz-5E5AB5C8.range86-145.btcentralplus.com) (Ping timeout)
[21:02:13] <strcat> and not to save the programmer work, make the code look better, etc.
[21:02:37] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[21:02:39] <eddyb> strcat: it actually makes things easier to design
[21:02:46] <soc> kimundi: I think macros are pretty useful, even without allowing arbitrary syntax
[21:02:47] *** Quits: ipetkov (ipetkov@moz-B2740012.dsl.lsan03.sbcglobal.net) (Quit: ipetkov)
[21:02:49] <eddyb> when you know what you're going to hit
[21:02:55] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[21:02:55] <kimundi> soc: For what?
[21:02:57] *** Quits: sinistersnare (sinistersn@moz-7E48AC93.washdc.fios.verizon.net) (Client exited)
[21:03:04] *** Joins: ipetkov (ipetkov@moz-B2740012.dsl.lsan03.sbcglobal.net)
[21:03:08] <whitequark> strcat: in a way, lifetimes (type systems in general) exist to save work
[21:03:18] <SiegeLord> I like ! but it's not clear to me why you need it for arbitrary syntax
[21:03:23] *** Joins: claudiu (claudiu@moz-6F0C4397.thefacebook.com)
[21:03:31] <eddyb> SiegeLord: the contents of macro invocations are token trees
[21:03:33] <strcat> whitequark: I agree ;), and imo ! on macros would be the same way even if it wasn't necessary to parse
[21:03:39] <pauls> kimundi: it's not essential; there's even some discussion of removing it...
[21:03:39] <kimundi> soc: Any usage of macros that is expressible with a regular item is already expressible by custom attributes.
[21:03:41] *** Quits: claudiu_ (claudiu@moz-6F0C4397.thefacebook.com) (Connection reset by peer)
[21:03:47] <SiegeLord> CPP doesn't need special invocation syntax, and it allows pretty arbitrary stuff too
[21:03:47] <carllerche> I'm a bit confused by the new channel proposal, is the plan to lean towards SyncChan which is bounded & preallocated vs. unbounded and growable or will there also be growable and bounded? (https://mail.mozilla.org/pipermail/rust-dev/2014-January/007924.html)
[21:03:48] <strcat> making macro usage explicit will reduce mistakes
[21:03:59] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[21:04:00] <eddyb> SiegeLord: CPP is ran before parsing
[21:04:04] <kimundi> pauls: Oh? How would that work?
[21:04:04] <strcat> in fact I would say it's a big part of why I find rust's macros sane
[21:04:07] <eddyb> SiegeLord: macros are expanded in Rust after parsing
[21:04:16] *** Quits: hjr3 (hradtke@CF240F4E.B1008920.163DC5C6.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[21:04:17] <pauls> ...it has some disadvantages (for example, you wouldn't know where macros end without knowing their definition), but it would also allow for a lot more flexibility.
[21:04:23] <eddyb> SiegeLord: you can have another language in a macro invocation, as long as it's token-compatible with Rust
[21:04:31] <whitequark> strcat: right. not sure why I'm trying to argue with you
[21:04:38] <soc> kimundi: for pretty much everything I can think of ... which examples do you have in mind?
[21:04:45] <SiegeLord> eddyb: Can you not find macros before parsing?
[21:04:52] <eddyb> SiegeLord: nope
[21:04:52] <mcpherrin> eddyb: I'm waiting for somebody to write a scheme!()
[21:05:01] <pauls> kimundi: essentially, there wouldn't be a parse phase followed by a macro expansion phase; there'd be a read (i.e. tokenization) phase, followed by a parse/macro expand phase.
[21:05:03] <eddyb> mcpherrin: well, lisp in general is easy
[21:05:08] <strcat> whitequark: I'm trying to base my argument that ! is useful on a similar example, lifetimes ;P
[21:05:11] <strcat> which are ofc useful!
[21:05:29] <strcat> because I'd want them to be explicit even if parsing them could be done without it
[21:05:33] <SiegeLord> It's unclear to me why you can't make a macro specific pre-parser
[21:05:40] <eddyb> mcpherrin: even with rules-based macros, you should be able to create cons lists from (...)
[21:05:44] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[21:06:03] *** Quits: ipetkov (ipetkov@moz-B2740012.dsl.lsan03.sbcglobal.net) (Quit: ipetkov)
[21:06:03] <SiegeLord> I guess maybe that disallows some specific kinds of arbitrary syntax
[21:06:15] <strcat> SiegeLord: you can do it, I think that's what pauls is saying
[21:06:28] <strcat> it might be slower
[21:06:29] <pauls> It would mean that external tools would have less power. On the other hand, part of the point of a macro system is to not need external tools so much.
[21:06:31] <SiegeLord> Well, let's hope it is not done
[21:06:38] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Quit: csherratt)
[21:06:50] <SiegeLord> I like being able to 'parse' macros externally
[21:07:04] <pauls> It would also mean that syntax highlighters wouldn't know exactly what was going on. But they generally don't anyways (and already don't inside of macro invocations)
[21:07:09] <SiegeLord> Just skip them >.>
[21:07:11] <kimundi> soc: Macros are for when regular syntax is not enough - for example writing a different language inline and have it be automatically parsed/syntax checked and expand to a representation in Rust types. Or code generation to reduce redunancy/boilerplate.
[21:07:22] <strcat> soc: foo!(})
[21:07:25] <kimundi> soc: For example, rusts formatting macros
[21:07:29] <strcat> soc: doesn't break a syntax highlighter
[21:07:31] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[21:07:33] <strcat> soc: foo(}) would
[21:07:52] <kimundi> rusti: format!("This is a string: {:s}", "test")
[21:07:53] -rusti- This is a string: test
[21:07:54] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[21:07:57] *** Quits: azita (Azita@moz-62518563.mtv2.mozilla.com) (Quit: azita)
[21:08:00] <kimundi> rusti: format!("This is a string: {:s}", 5u)
[21:08:01] -rusti- pastebinned 8 lines of output: http://sprunge.us/gjKG
[21:08:21] <pauls> strcat: that is (and presumably will always be, even under the most radical proposals) disallowed
[21:08:26] <SiegeLord> Heh, rustc should be like "You lie!"
[21:08:31] *** Joins: azita (Azita@moz-62518563.mtv2.mozilla.com)
[21:08:31] *** Quits: toshok (toshok@moz-43741342.cat) (Ping timeout)
[21:08:38] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[21:08:38] *** ChanServ sets mode: +ao dherman dherman
[21:08:54] <strcat> pauls: well, > then
[21:08:55] *** Joins: tobytailor (tobytailor@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[21:09:14] * strcat shrugs
[21:09:18] <Rym> eddyb: ok I'll look into that, cheers
[21:09:29] <soc> kimundi: requiring "!", with the only benefit of allowing the embedding of arbitrary code ... feels like a pretty high price to pay
[21:09:29] <Rym> eddyb: ignore
[21:09:39] *** Quits: tobytailor (tobytailor@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: tobytailor)
[21:09:52] <strcat> soc: as people have been saying, the benefit is that programmers know they are dealing with a DSL
[21:09:57] *** Quits: eholk (eholk@4C33E9A6.EC877627.1378615F.IP) (Quit: eholk)
[21:10:03] <strcat> they know foo!(x + 5) might not actually run x + 5
[21:10:04] <soc> why not require "!" for those cases where it is actually required?
[21:10:11] <pauls> soc: it would also allow macros to do things like `define_in_some_fancy_way x = 5`
[21:10:31] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[21:10:35] <strcat> soc: because rust's raison d'être is that programmers are too dumb to do things properly themselves
[21:10:38] <kimundi> soc: It also serves as a good warning that it is a macro.
[21:10:41] *** Joins: DAddYE (DAddYE@AC93BF08.FD5C31A1.284344F5.IP)
[21:10:51] <strcat> everything the compiler allows to compiler can and will occur in the codebase ;p
[21:10:56] *** Sorella_ is now known as Sorella
[21:10:56] <o11c> soc: because if you don't need a macro, you shouldn't be using a macro
[21:11:21] <soc> strcat: if users ever need a warning that a macro is up ahead, then the macro author should be ashamed for writing such a bad macro
[21:11:21] <strcat> macros are for writing DSLs, they're for when you *can't* do what you want with the regular syntax
[21:11:28] <strcat> soc: it's not a bad macro
[21:11:41] <kimundi> soc: The only syntax a macro that doesn't need ! can accept is that of a list of expressions... In other words a function.
[21:11:53] *** Joins: tobytailor (tobytailor@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[21:11:59] <strcat> soc: macros are mostly there so you can write a DSL
[21:12:04] <strcat> you could write a list comprehension macro
[21:12:19] <soc> yes, but why should the user care?
[21:12:21] *** jorendorff_away is now known as jorendorff
[21:12:31] <strcat> soc: because a list comprehension macro is not going to be using syntax in the normal way
[21:12:37] <soc> if the user has to care, the author did a poor job
[21:12:56] *** Quits: pczarn (pczarn@moz-69A55FA.izacom.pl) (Input/output error)
[21:13:01] *** Joins: toshok (toshok@moz-43741342.cat)
[21:13:01] <strcat> comp!(x * 2, x <- xs, if x > 3)
[21:13:05] <soc> either it's obvious what the code does, or the code shouldn't exist, imho
[21:13:17] <SiegeLord> I'm sure that 'h' is there ;)
[21:13:22] <strcat> soc: it is not as obvious what is going on there without !
[21:13:24] *** Joins: mediocrity (Thunderbir@moz-8A2E9A09.bredband.comhem.se)
[21:13:29] <soc> (of course, that seems kind of hard with Rust's obsession for abbreviations :-D)
[21:13:51] <strcat> soc: i.e. Vec instead of Vector? that helps you but making type definitions shorter and reducing typing
[21:13:57] *** Quits: jackneill (jackneill@moz-730EFD2C.pool.digikabel.hu) (Ping timeout)
[21:14:05] <soc> strcat: it's not obvious to me with the ! either
[21:14:23] *** Quits: Ferreus (ferreus@moz-736C21E6.lsn.wtnet.de) (Ping timeout)
[21:14:25] <soc> strcat: typing is for IDEs
[21:14:32] <strcat> lol
[21:14:37] <eddyb> strcat +1
[21:14:38] <strcat> soc: again, that's counter to rust's core beliefs
[21:14:45] <strcat> soc: rust doesn't trust the programmer
[21:14:54] <soc> the number of people who are limited by the speed of their hands ... I probably don
[21:14:56] <strcat> it's also explicitly designed to not require an IDE to make up for language shortcomings
[21:15:02] <soc> 't need a full hand to count them
[21:15:09] <strcat> soc: you're nitpicking
[21:15:11] <strcat> 17:13:51        strcat | soc: i.e. Vec instead of Vector? that helps you but making type definitions shorter and reducing typing
[21:15:18] <zwarich> soc: shorter code is still easier to read
[21:15:19] <soc> strcat: sure
[21:15:31] <zwarich> (when it's within reason)
[21:15:32] <strcat> we could call Vec DynamicArray
[21:15:42] <mcpherrin> zwarich: that's why I only program in APL
[21:15:51] <Ms2ger> I don't know if it offsets the mental expansion to Vector
[21:15:55] <eddyb> pls pls no Microsoft idiosyncrasies in Rust
[21:15:58] <strcat> HashTableSet<DynamicArray<Integer>, DynamicArray<String>>
[21:16:08] <strcat> HashSet<Vec<int>, Vec<Str>>
[21:16:12] <strcat> I find the latter much easier to read
[21:16:15] <eddyb> or EnterpriseJavaFactory
[21:16:16] <SiegeLord> Integer32Bit
[21:16:18] <Ms2ger> HashSet<Vector<int>, Vector<Str>>
[21:16:21] <strcat> SiegeLord: well
[21:16:22] <Ms2ger> wfm
[21:16:28] <strcat> PointerSizeInteger
[21:16:31] <strcat> really
[21:16:41] <mcpherrin> IntegerOfPointerWidth
[21:16:44] <eddyb> SiegeLord: ThirtyTwoBitUnsignedInteger
[21:16:45] *** Joins: derek_c (derek@moz-D5822404.cit.cornell.edu)
[21:16:47] <strcat> Ms2ger: Str -> String
[21:16:54] <strcat> Ms2ger: int -> integer, at least
[21:16:54] <Ms2ger> Yeah, that'd be better
[21:16:57] <eddyb> there, remove \d from type names
[21:17:06] <strcat> Ms2ger: he's complaining about abbreviations in general, not specific ones ;p
[21:17:12] <soc> the advantage of not allowing abbreviations is that one doesn't have to think whether one should abbreviate or not
[21:17:23] <strcat> soc: you always have to think about it
[21:17:27] <strcat> UTF8String
[21:17:29] <strcat> or String
[21:17:31] <mcpherrin> String is probably okay instead of str
[21:17:31] <strcat> or Str
[21:17:47] <strcat> and you could expand UTF
[21:17:48] <SiegeLord> If you disallow abbreviations, you'll be tempted to choose bizzare, but short words for everything
[21:17:49] *** mcpherrin is now known as McPherrin
[21:17:51] <soc> String is ok, because UTF8 is the only encoding a language should support anyway
[21:18:07] <soc> except for interop situations
[21:18:14] <McPherrin> soc: that's unrealistic given the computing environment we work in
[21:18:16] <strcat> soc: it's not the only encoding rust supports
[21:18:18] <Ms2ger> strcat, you can always exaggerate to make people seem silly, but I don't see the point in that
[21:18:34] <strcat> Ms2ger: because he's taking the position that all abbreviations are bad
[21:18:37] <strcat> but he doesn't *really* think that
[21:18:45] <strcat> so he needs to qualify what he actually thinks is bad
[21:18:50] <Ms2ger> UTF8String -> String isn't an abbreviation
[21:19:00] <strcat> UTF is an abbreviation
[21:19:05] <zwarich> uint is really nice compared to unsigned or unsigned int
[21:19:16] <strcat> ok, lets say we have a utf8 module
[21:19:30] <strcat> do we call it that or ucs_transformation_format
[21:19:34] <Ms2ger> Anyway
[21:19:37] <strcat> and if we're going to do that, why not expand ucs?
[21:19:42] *** Joins: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP)
[21:19:47] <Ms2ger> Going to tune out
[21:19:54] <strcat> universal_character_set_transformation_format
[21:19:56] <Caseus>             else if (bol != null && bol.Addresses != null)
[21:19:58] <strcat> abbreviations are useful
[21:19:58] <Caseus>             {
[21:20:00] <Caseus>                 foreach(Address addr in bol.Addresses)
[21:20:02] <Caseus>                 {
[21:20:07] <soc> I think UInt is perfectly fine, one doesn't have to go to extremes
[21:20:10] <Manishearth> ooh, 3hr argument on bangs in Rust :P
[21:20:19] <Ms2ger> Caseus, well, your {s are in the wrong place ;)
[21:20:20] <strcat> whether we should use a specific abbreviation is open to debate
[21:20:40] <strcat> soc: I think forcing people to write Vector instead of Vec for a common type all rust programmers are going to use everywhere is unnecessary
[21:20:49] <hoverbear> Manishearth: Bang bang
[21:20:50] <soc> I think "could this be considered an abbreviation without making myself look like a pendant" is a good rule
[21:20:53] <Manishearth> question: both @ and Gc are garbage collected, right?
[21:20:56] <strcat> and ReferenceCountedBox<T> instead of Rc<T> would be too much
[21:21:02] <hoverbear> Manishearth: @ doesn't exist anymore
[21:21:17] <soc> I think RC and GC is fine too
[21:21:20] <strcat> rust doesn't have a garbage collector atm
[21:21:27] <strcat> so really there's no gc'ed type
[21:21:31] <hoverbear> Good riddance
[21:21:35] <soc> but Vec? ... what's next? Lst instead of List? :-)
[21:21:53] <hoverbear> soc: Vec as opposed to Vector?
[21:21:54] *** Quits: mediocrity (Thunderbir@moz-8A2E9A09.bredband.comhem.se) (Quit: mediocrity)
[21:21:54] <McPherrin> soc: I always hated 'i'
[21:21:56] <Manishearth> hoverbear so @ used to be the same as Gc until it was removrd?
[21:21:57] <strcat> soc: lst is an abbreviation scheme programmers use all the time
[21:22:10] <soc> anyway Vec<T> instead of [T] would already be an improvement
[21:22:20] <hoverbear> Manishearth: I haven't used any Garbage Collected code in rust
[21:22:21] <strcat> soc: lists are almost always going to be an anti-pattern in rust, so it would be shocking to abbreviate it
[21:22:26] <strcat> even calling it List is going too far
[21:22:31] <strcat> someone might assume it's a vector ;p
[21:22:44] <strcat> but in scheme? why not call it lst
[21:22:46] <strcat> everyone does
[21:22:48] <Manishearth> hoverbear neither have i, which is why im confused here :)
[21:22:49] <hoverbear> strcat: Lists are an anti-pattern?
[21:23:00] <hoverbear> Manishearth: To my knowledge they were the same
[21:23:01] * Ms2ger cddrs strcat 
[21:23:05] <soc> pattern-matching on options, that's what I'd call an anti-pattern :-)
[21:23:17] <strcat> hoverbear: unintrusive singly-linked lists are an anti-pattern in rust/c/c++
[21:23:18] <hoverbear> I like the match on options :o
[21:23:19] *** Joins: KokaKiwi (kokakiwi@moz-D674DAC6.kokakiwi.net)
[21:23:36] <strcat> people use them a lot in C only because they're lazy
[21:23:46] <Manishearth> hoverbear and is Rc similar to a pointer type? Not seen that much either.
[21:23:54] <hoverbear> It's a bit unintuitive sometimes when you are doing IO stuff since sometimes it's an IOError or an Option
[21:23:56] *** jorendorff is now known as jorendorff_away
[21:24:03] <hoverbear> Manishearth: Again, no clue.
[21:24:05] <strcat> writing a vector or intrusive list is harder
[21:24:06] <kimundi> Manishearth: Rc<T> is a reference countin smartpointer
[21:24:17] <McPherrin> strcat: omg but car and cdr are practically assembly, they're slow in C because its so high level not like lisp
[21:24:29] <kimundi> Manishearth: @T was basically a badly implemented reference counting smartpointer too
[21:24:32] <tiffany> I used to use linked lists in C
[21:24:37] <soc> my favorite thing where I can't really decide is ptr::RawPtr
[21:24:43] <tiffany> then I stopped using linked lists and got a 100000x speedup in some hotpath code
[21:24:47] <strcat> McPherrin: um, how are they practically assembly?
[21:24:56] <tiffany> I haven't found a valid use for linked lists since then
[21:25:00] <McPherrin> strcat: well they were instructions on Lisp machines :-)
[21:25:01] <kimundi> Manishearth: ~T is also a build-in smartpointer, but one with a trivial enough implementation that it is kept as a individual type fro now.
[21:25:09] <Ms2ger> Unique<T>!
[21:25:16] <Ms2ger> Uni<T>?
[21:25:17] <McPherrin> Contents of Address Register  / Decrement register
[21:25:34] <McPherrin> (or was it accumulator?)
[21:25:38] <tiffany> mcpherrin: linked lists are kind of fundamentally O(N), do lisp machines do any hackery to get past the O being dropping all the way to DRAM?
[21:25:47] <strcat> McPherrin: yeah, and an infinite loop is 2 lines in asm too
[21:25:48] <hoverbear> tiffany: Yes, I've learned in C not to do linked lists.
[21:25:57] <McPherrin> strcat: I love my infinite loops to be fast
[21:25:58] *** Quits: arpd (ben@moz-991ADA30.ripe.li) (Client exited)
[21:26:02] <strcat> linked lists spread data all over memory
[21:26:07] <Manishearth> kimundi ah, I see. not sure what ref counting means, i'll look it up when i have better Net
[21:26:12] <strcat> having 1 pointer (or 2) per element is super inefficient
[21:26:17] <tiffany> strcat: it's not quite as bad if you allocate the linked list in an arena
[21:26:18] <McPherrin> tiffany: No, not really.  You just design your code around the fact that they're O(N)
[21:26:22] <strcat> tiffany: still really bad
[21:26:26] <strcat> tiffany: 1 pointer per element
[21:26:38] <strcat> 2x more memory usage for small elements (more, without an arena)
[21:26:42] <McPherrin> huffman encode your pointers
[21:26:47] <tiffany> to be fair, linked lists do have a use
[21:26:51] <strcat> tiffany: intrusive ones do
[21:26:52] *** Joins: darnuria (darnuria@moz-AB6EB255.ip-91-121-133.eu)
[21:26:56] <tiffany> tying big chunks of data together when copying would be expensive
[21:27:09] <strcat> tiffany: realloc on big chunks of memory doesn't copy
[21:27:12] <soc> i think Lists really depend on immutability
[21:27:20] *** Joins: tyna (liadon@moz-BB1BAD9A.dynamic.chello.pl)
[21:27:23] <strcat> tiffany: it calls mremap - which doesn't copy
[21:27:26] <tiffany> iovecs are pretty a pretty nice way of doing zero-copy serialization with capn proto
[21:27:31] <benh> is it still a linked list if you put a bunch of values into each node
[21:28:06] <tiffany> well, those aren't linked lists so envermind
[21:28:06] <soc> benh: that's pretty much what Scala people call a Vector :-P
[21:28:29] <strcat> intrusive linked lists are certainly useful
[21:28:33] <kimundi> Manishearth: Ah, okay. Reference counting is a way to automatically manage memory. It works like this: If you create a Rc<T>, it allocates memory for the T and a reference counter. The counter gets initialized to 1. Everytime you duplicate the Rc<T> to get another independent handle to the same T, the count goes up by one. Everytime one of those handles gets dropped, the count goes down. If the the count is zero, the memory can be freed, a
[21:28:33] <kimundi> s nothing else has a reference to it anymore.
[21:28:34] <strcat> persistent linked lists are useful
[21:28:49] <strcat> I'm talking about non-persistent, non-intrusive singly-linked lists
[21:28:56] *** Joins: asmyers (quassel@moz-71754EDC.hsd1.md.comcast.net)
[21:28:59] <strcat> and I think they are useless.
[21:29:28] <soc> i think i agree. without structural sharing, it's pointless
[21:29:33] <strcat> push to a vector and a list is O(1)
[21:29:39] <strcat> the vector has an amortized resize cost
[21:29:42] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[21:29:46] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[21:29:52] <jmgao> benh: that's called an unrolled linked list iirc
[21:29:52] <strcat> the list has an amortized allocation (or garbage collection) cost
[21:30:01] <kimundi> Manishearth: Its the same problem that tracing garbage collectors solves: A number of different references to a memory allocation, with cleaning it up if nothing uses it any more.
[21:30:14] <strcat> but the vector uses less memory
[21:30:20] <strcat> is *much* more cache friendly
[21:30:23] *** Quits: dotfelix (felix@929DAEA9.AB3AC796.40E092AA.IP) (Connection reset by peer)
[21:30:29] <strcat> has O(1) indexing
[21:30:56] <soc> strcat: well, that depends
[21:31:10] <soc> sequential access maybe, random access probably not
[21:31:10] <strcat> the list always needs a pointer per element
[21:31:17] <strcat> soc: random access? still faster
[21:31:22] <soc> yes
[21:31:29] * strcat confused
[21:31:34] * Ms2ger has a feeling strcat spends a lot of time telling people they're wrong on the internet
[21:31:35] <strcat> soc: lists are slow at sequential access too
[21:31:42] <tiffany> sequential access still incites pointer derefs
[21:31:49] <hoverbear> Ms2ger: It's true.
[21:31:51] <strcat> pointer walking is much slower than accessing sequential memory
[21:31:53] <tiffany> you can't vectorise linked lists either
[21:31:57] <kimundi> Manishearth: Rusts ultimately aims to provide smartpointers for both: Gc<T> for task-local tracing garbage collection, Rc<T> for task-local reference counting garbage collection.
[21:32:08] <McPherrin> The only time I use linked lists is when you've got lots of random insertions while doing sequential walks
[21:32:10] <strcat> soc: I'll agree that intrusive lists are awesome though
[21:32:28] <soc> what's "intrusive"?
[21:32:29] <strcat> McPherrin: it seems that most cases end up being better suited to a map though
[21:32:30] <hoverbear> Ms2ger: He'll tell you that you're wrong though, since you're on the internet. :)
[21:32:40] <strcat> soc: where instead of lists as a container, you think of lists differently
[21:32:47] <strcat> soc: lets say you have a HorribleMonster type
[21:32:49] <McPherrin> strcat: yeah, I can probably count the times I've used a non-intrusive list on one hand
[21:33:15] <strcat> soc: instead of putting it in a bunch of lists, you add fields to HorribleMonster for each thing it should be part of
[21:33:16] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Input/output error)
[21:33:26] <strcat> soc: so lets say it's in 10 lists, a set, and a map
[21:33:31] <strcat> you add the necessary fields for those
[21:33:32] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[21:33:38] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[21:33:43] <strcat> soc: then, the containers use no memory except for the memory required by those fields
[21:33:48] <strcat> no memory allocation specific to the containers
[21:34:04] <strcat> that's also one of the few reasons to ever use a red-black tree
[21:34:06] <strcat> rather than a b-tree
[21:34:09] *** Quits: parcha (quassel@moz-1A772EE6.hsd1.ma.comcast.net) (Client exited)
[21:34:10] <soc> ah, alright
[21:34:12] *** Joins: ipetkov (ipetkov@moz-B2740012.dsl.lsan03.sbcglobal.net)
[21:34:19] *** Quits: claudiu (claudiu@moz-6F0C4397.thefacebook.com) (Connection reset by peer)
[21:34:20] <kimundi> intrusive data structure == data structure as part of the types you'd store in the non-intrusive version.
[21:34:26] <strcat> soc: the linux kernels uses a lot of intrusive data structures like this, it's why they use rbtrees at all
[21:34:29] *** Joins: claudiu (claudiu@moz-6F0C4397.thefacebook.com)
[21:34:48] <strcat> because they'll just need a memory allocation for each element, and then they can put stuff in dozens of containers without any more
[21:34:55] <benh> is the trick that you get to remove the thing from all the data structures at once for basically free since you don't need to walk through them or reshuffle them or anything
[21:35:12] <strcat> benh: it's that data structures don't require allocation, or pointer indirection
[21:35:18] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[21:35:24] <benh> i'm not sure i get how moving the memory usage from the container into the list improves things
[21:35:26] <strcat> benh: you can have 5 lists with 1 memory allocation per element
[21:35:40] <strcat> not 6 memory allocations per element
[21:35:41] <benh> hang on i think i get it
[21:35:44] <benh> thanks
[21:35:54] *** Quits: eddyb (eddy@F8B50789.F33C1089.FB866788.IP) (Ping timeout)
[21:35:56] *** Joins: parcha (quassel@moz-1A772EE6.hsd1.ma.comcast.net)
[21:36:01] <Ms2ger> hoverbear, he hasn't yet, did I do something wrong?
[21:36:17] <hoverbear> Ms2ger: Did you feed him yet?
[21:36:50] <strcat> benh: and red-black trees work since they use a node per element
[21:36:54] *** jorendorff_away is now known as jorendorff
[21:36:56] <benh> strcat: is there a clever way you can make use template tricks to make the intrusive data structures less intrusive
[21:36:59] <Ms2ger> strcat, surely single-linked non-intrusive lists are much faster than vectors!
[21:37:01] <benh> +of
[21:37:02] * Ms2ger ducks
[21:37:08] <strcat> benh: http://www.boost.org/doc/libs/1_55_0/doc/html/intrusive.html ;)
[21:37:27] <benh> should have seen that coming
[21:37:32] <strcat> C programmers really use a lot of singly-linked non-intrusive lists though
[21:37:50] <strcat> because making sane reusable containers in C is not really something you can do
[21:37:58] <strcat> and programmers are nothing if not lazy
[21:38:04] <tiffany> I found it easier to implement vectors entirely in preprocessor than to implement linked lists every time I needed a sequence of something
[21:38:08] <Ms2ger> C programmers do a lot of weird things
[21:38:12] <benh> i guess singly linked non intrusive lists make for good entry-level interview questions
[21:38:21] <Caseus> ha, just realized I accidentally pasted some crap in here a little earlier <.< Sorrrry
[21:38:22] *** Quits: claudiu (claudiu@moz-6F0C4397.thefacebook.com) (Connection reset by peer)
[21:38:40] *** Joins: claudiu (claudiu@moz-6F0C4397.thefacebook.com)
[21:38:46] <strcat> seriously though you can look in nearly any C library/application you use and find list abuse everywhere :(
[21:39:09] <strcat> chances are any sequences of things is put in a list
[21:39:13] <McPherrin> benh: I want a T-shirt that has reversing a linked list printed on it, for wearing to interviews
[21:39:14] <strcat> until it becomes too much of a performance problem
[21:39:17] <strcat> any sequence*
[21:39:20] <tiffany> I stopped using libmowgli because of its abuse of linked lists
[21:39:41] <strcat> and by 'becomes a performance problem' I mean someone realizes it is ;)
[21:39:48] <seanmonstar> whats the difference between `trait Foo<'a> {}` and `trait Foo { fn foo<'a>{} }`?
[21:39:54] <benh> McPherrin: i hope it's printed on the back so you have to reverse yourself to reverse the list
[21:40:02] <McPherrin> benh++
[21:40:05] <strcat> imo rust encourages you to write more efficient code than C or C++
[21:40:15] *** Joins: AWinterman (AWinterman@D3C5693E.51D6F6B.769845BA.IP)
[21:40:15] <strcat> the rust stdlib is already more efficient than the C++ stdlib in many cases
[21:40:20] <soc> it's kind of weird that Rust doesn't seem to have some package/crate for data structures
[21:40:25] <kimundi> seanmonstar: The first one is a trait generic over a lifetime, the second one is a non generic trait that contains a function that is generic over one.
[21:40:27] <McPherrin> benh: Reducing linked list reversal to shirt reversal.
[21:40:29] <tiffany> soc: libcontainers?
[21:40:34] <strcat> libcollections*
[21:40:39] * strcat always messes that up
[21:40:46] <AWinterman> hey guys, I was hoping to  use the rust development project in modified form in my own project
[21:40:52] <AWinterman> what is the license for the wiki?
[21:41:01] *** Quits: claudiu (claudiu@moz-6F0C4397.thefacebook.com) (Connection reset by peer)
[21:41:02] <strcat> AWinterman: the wiki doesn't have a specific license yet
[21:41:05] <AWinterman> (for reference, the development policy: https://github.com/mozilla/rust/wiki/Note-development-policy)
[21:41:06] <benh> McPherrin: i'm at a loss for a proper shirt-based metaphor for that clever "is my list cyclic" question
[21:41:12] *** Joins: claudiu (claudiu@moz-6F0C4397.thefacebook.com)
[21:41:15] <AWinterman> strcat: so it's all rights reserved, at least for the time being
[21:41:20] <seanmonstar> kimundi: how does that affect me?
[21:41:47] <kimundi> seanmonstar: Dunno? Ask a more specific question :)
[21:41:54] <strcat> AWinterman: well, that page was entirely written by mozilla employees and bstrie
[21:42:01] <strcat> AWinterman: so ask bstrie and brson if you can use it ;p
[21:42:03] <kimundi> Its a difference in any case.
[21:42:03] <strcat> and they'll say yes
[21:42:09] <strcat> AWinterman: we really need to put an explicit license on it
[21:42:14] <AWinterman> strcat: agreed
[21:42:19] <strcat> AWinterman: but it's annoying, since so many people edited it before it had one
[21:42:20] <AWinterman> is that just a matter of coming to a decision?
[21:42:22] <strcat> and they'd all have to be asked
[21:42:23] <AWinterman> ah
[21:42:24] <AWinterman> heh
[21:42:24] <strcat> AWinterman: yes
[21:42:41] <soc> Vec isn't in there
[21:42:53] *** Quits: Ms2ger (Ms2ger@moz-A26553B6.adsl-dyn.isp.belgacom.be) (Ping timeout)
[21:43:00] <soc> and the names ... OMG ...
[21:43:01] <McPherrin> benh: hmm, maybe something involving two threads that unravel at different rates :p
[21:43:05] *** Quits: asmyers (quassel@moz-71754EDC.hsd1.md.comcast.net) (Ping timeout)
[21:43:13] <strcat> soc: https://github.com/mozilla/rust/pull/12873
[21:43:13] <AWinterman> strcat: I think I actually need permission from every author, don't I
[21:43:14] <AWinterman> ?
[21:43:23] <benh> McPherrin: might not be appropriate to demonstrate during the interview though
[21:43:24] *** Joins: espindola (espindola@moz-2B21D45F.dsl.teksavvy.com)
[21:43:44] <seanmonstar> kimundi: im looking into implementing Index for Vec<T>. `impl<'a, T> Index<uint, &'a T> for Vec<T> { fn index(&'a self, index: &uint) -> &'a T { self.get(*index) } }` tells me the lifetimes conflict}` 
[21:44:13] <strcat> AWinterman: well, catamorphism, brson, graydon and pnkfelix are mozilla employees
[21:44:20] <soc> if I ever needed an example why consistent naming is important, I'd probably link to http://static.rust-lang.org/doc/master/collections/index.html :-)
[21:44:21] <kimundi> soc: The whole crate separation thing is not fully though out yet. There is a lot of experimenting/conflicting ideas going on still. As the situation is today, a lot of things need to live in libstd specifically if other features depend on them.
[21:44:24] <strcat> AWinterman: so I'd expect that mozilla owns the copyright
[21:44:44] <soc> kimundi: yes, separate compilation is extremely hard to get right
[21:44:54] <AWinterman> oof, this is turrible. I think I'm best protected by just pulling those pieces out and writing my own
[21:45:12] <strcat> AWinterman: yeah :(
[21:45:17] <AWinterman> :(
[21:45:21] <strcat> AWinterman: it's known to be a problem, we have an open bug about it
[21:45:26] <AWinterman> well it's still a really helpful resource
[21:45:38] <AWinterman> so thanks for making it available for reading
[21:45:38] <AWinterman> :)
[21:45:41] <soc> and it's kind of confusing that the collections seem to lack a common API
[21:45:50] <benh> getting an okay from brson or bstrie shouldn't be too hard though?
[21:45:51] <kimundi> seanmonstar: Could you paste the full error message?
[21:45:55] <strcat> soc: there is a common API defined by std::container
[21:45:56] *** Quits: espindola (espindola@moz-2B21D45F.dsl.teksavvy.com) (Ping timeout)
[21:46:04] <strcat> soc: only sets/maps have a common API though
[21:46:05] <kimundi> soc: There is a common API, defined in libstd ;)
[21:46:18] <strcat> soc: there's a common API for deques too (RingBuf and DList use it)
[21:46:34] *** Quits: kngl (Adium@40AE2BF6.ABCDAFD6.7C797F8E.IP) (Quit: Leaving.)
[21:46:46] <strcat> kimundi: until I move it to libcollections... right now
[21:46:54] <kimundi> heh
[21:47:12] <benh> can't we come up with a shorter synonym for collections
[21:47:16] <strcat> container
[21:47:26] <hoverbear> strcat: I vote Creative Commons =D
[21:47:29] <strcat> in fact I used that previously ;s
[21:47:31] *** Joins: jack (sid19593@moz-A42E5B7B.irccloud.com)
[21:47:31] *** ChanServ sets mode: +o jack
[21:47:33] <strcat> hoverbear: nooo
[21:47:37] <strcat> hoverbear: it should be the same license as the source
[21:47:39] <hoverbear> strcat: MPL?
[21:47:40] <benh> still too long!
[21:47:49] <strcat> hoverbear: the same dual MIT/Apache license as rust
[21:47:54] <strcat> so we can move stuff from the wiki into the source
[21:47:55] <hoverbear> strcat: Nooo
[21:47:57] <benh> remember when all rust keywords had to be five characters or under! we should do that for crate names!
[21:48:00] <soc> I'm kind of missing all the map/filter/reduce/fold stuff in the documentation
[21:48:03] <strcat> docs shouldn't be a separate license from the project's code
[21:48:06] <kimundi> libThings
[21:48:07] <strcat> then you can't move stuff back and forth
[21:48:07] *** Joins: dpc (Mibbit@moz-88B014CD.nvidia.com)
[21:48:17] <strcat> hoverbear: CC is a bad license for code documentation ;\
[21:48:21] *** Quits: Kynes (Kynes@moz-3DC6C6E7.mit.edu) (Quit: Leaving)
[21:48:22] <hoverbear> strcat*Nods*
[21:48:24] <benh> libdata[structures] :v
[21:48:32] <strcat> if the code is GPL, the docs should be GPL (or at least GPL-compatible)
[21:48:34] <dpc> What's the advantage of using assert_eq!(x, y); against assert!(x == y); ?
[21:48:38] <kimundi> soc: Those are defined for iterators
[21:48:46] <strcat> hoverbear: well, lets say the code is GPL and the docs are MIT
[21:48:52] <McPherrin> soc: A lot of that is defined on Iterators, see http://static.rust-lang.org/doc/master/std/iter/trait.Iterator.html
[21:48:52] <benh> dpc: the error message will print both values i think
[21:48:53] *** Joins: sockmister (Mibbit@moz-206D1178.w92-144.abo.wanadoo.fr)
[21:48:53] <strcat> hoverbear: now you're unable to move examples from the code into the docs
[21:48:55] <soc> yes, was just looking for them
[21:49:00] <strcat> hoverbear: it should really be the same exact license
[21:49:02] <hoverbear> strcat: Yes, I understand the issue. :)
[21:49:04] <benh> rusti: assert_eq!("a", "b");
[21:49:05] -rusti- task '<main>' failed at 'assertion failed: `(left == right) && (right == left)` (left: `a`, right: `b`)', <anon>:10
[21:49:05] -rusti- application terminated with error code 101
[21:49:12] *** Joins: syatchmenoff (samy@moz-AB5B740D.hsd1.or.comcast.net)
[21:49:14] <benh> rusti: assert!("a" == "b");
[21:49:14] -rusti- task '<main>' failed at 'assertion failed: "a" == "b"', <anon>:10
[21:49:14] -rusti- application terminated with error code 101
[21:49:17] <soc> what's the reason why there are somewhere completely different?
[21:49:23] *** Quits: sankha93 (sankha93@7061CD01.D6BD0D91.22D41759.IP) (Client exited)
[21:49:28] <strcat> soc: because libcollections existing is new
[21:49:40] <seanmonstar> kimundi: tried two ways: https://gist.github.com/seanmonstar/4f11bbe72a9518ca64cc
[21:50:03] <benh> ... the haskell folks put all their data structures under Data.whatever in their module hierarchy, unless they think of the data structures as control structures that day...
[21:50:23] <strcat> benh: but rust can't extend namespaces that way
[21:50:32] *** Joins: richo (richo@moz-1B080E05.pa.vic.optusnet.com.au)
[21:50:34] *** Quits: Seldaek (seld@moz-5DEA7688.ch) (Ping timeout)
[21:50:37] <soc> i hope that collection/container/iter stuff gets cleaned up a bit ...
[21:50:41] <benh> I know, I'm just trying to defend libdata over libcollections
[21:50:46] <seanmonstar> is it that the Index trait needs to be changed to be more like the Deref trait?
[21:50:54] <strcat> soc: what about iterators needs to be cleaned up? imo that stuff can pretty much stay as-is
[21:51:01] <kimundi> seanmonstar: Ah, I see the problem for those two at least
[21:51:03] *** Joins: Seldaek (seld@moz-5DEA7688.ch)
[21:51:04] <strcat> soc: I'd be pretty happy with tagging most of it #[stable]...
[21:51:24] *** Quits: sockmister (Mibbit@moz-206D1178.w92-144.abo.wanadoo.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[21:51:25] <strcat> we're missing an Iterable trait but that won't really change anything about iterators themselves
[21:51:37] <kimundi> seanmonstar: I need to look at how the index trait is actually defined, but what you'Re doing there doesn't work becuase you basically mix two different 'a declarations.
[21:51:44] *** Joins: eholk (eholk@moz-40A3960F.tmodns.net)
[21:51:52] <strcat> seanmonstar: the Index trait is going to be removed
[21:51:54] <seanmonstar> kimundi: i see the problems, but they don't click as to why exactly
[21:51:57] <strcat> and replaced with new traits
[21:52:01] <kimundi> seanmonstar: The fn foo<'a> is a different lifetime than the impl<'a...>
[21:52:09] <seanmonstar> strcat: yea, i was looking in to trying that
[21:52:22] <strcat> well the current trait needs to just be totally ripped out
[21:52:28] <strcat> it can't work as-is
[21:52:31] <seanmonstar> strcat: figured it could become Index and IndexMut, and work like Deref and DerefMut
[21:52:33] <kimundi> seanmonstar: In other words, you return a &'b T that has nothing to do with the &'a T it should be
[21:52:37] <strcat> seanmonstar: more than that
[21:52:57] <strcat> seanmonstar: &xs[i], &mut xs[i], xs[i], xs[i] = 10;
[21:52:59] <strcat> 4 traits
[21:53:11] <strcat> it should be possible to do exactly what slices do on Vec
[21:53:16] <soc> returning the length of a collection as uint is a weird choice
[21:53:16] *** Quits: [squiddy] (squiddy@moz-767EF079.dynamic.cablesurf.de) (Quit: Leaving)
[21:53:22] <strcat> soc: why?
[21:53:26] <strcat> soc: it can't be higher than uint
[21:53:33] <seanmonstar> strcat: xs[i] = 10 could be IndexMut, no?
[21:53:42] <strcat> seanmonstar: no, because for HashMap it needs to insert the pair
[21:53:43] <soc> so not only is it sometimes to small, it also depends on the architecture
[21:53:50] <whitequark> what's the best way of calling C++ from Rust?
[21:53:58] <Eridius> whitequark: write an extern C wrapper
[21:54:00] <strcat> soc: but uint is always big enough for rust's definition of a collection
[21:54:13] <hoverbear> strcat: What if I had 2^33 items?
[21:54:22] <strcat> hoverbear: that's fine? uint is pointer-size
[21:54:24] <seanmonstar> strcat: meaning, i cant be a &T?
[21:54:25] <whitequark> Eridius: what if the library actively uses stack-allocated objects and pointers to them?
[21:54:43] <Eridius> whitequark: then I don't see how it expets to safely return a pointer to a stack-allocated object
[21:54:46] <strcat> seanmonstar: xs[10] = 5; needs to insert a new bucket into the hash table
[21:54:46] <Eridius> *expects
[21:54:51] <hoverbear> strcat: He said the length
[21:54:51] <soc> well, the cases where you need more than 2^32 items are extremely rare, but if you ever need them, it sucks sooo much, to not depend on it
[21:54:56] <strcat> seanmonstar: but only sometimes
[21:54:57] <kimundi> strcat: Actually, my experimentation with Iterable _could_ lead to iterator change quite a bit. Not the core API of next() -> Option<A>, but stuff like making iterator inherit from Iterable, and moving a bunch of the default methods from iterator to iterable.
[21:55:00] *** Joins: andrew-__ (andrew-d_w@F831D131.9DFA657C.CC0301A2.IP)
[21:55:08] <strcat> hoverbear: I'm missing what you're saying
[21:55:12] <strcat> uint is pointer-size
[21:55:12] <Eridius> soc: if you need more than 2^32 items, you should be using a 64-bit architecture
[21:55:22] <strcat> uint can address every byte in the address space, guaranteed
[21:55:25] <hoverbear> strcat: OK I get it.
[21:55:26] *** Joins: claudiu_ (claudiu@moz-6F0C4397.thefacebook.com)
[21:55:36] *** Quits: claudiu (claudiu@moz-6F0C4397.thefacebook.com) (Connection reset by peer)
[21:55:38] *** Quits: toshok (toshok@moz-43741342.cat) (Ping timeout)
[21:55:46] <strcat> for 1-byte and higher collections, uint is big enough for *any* collection of them
[21:55:55] <whitequark> Eridius: actually, no, I'm not explaining it clearly
[21:55:59] <soc> there are data structures which are sparse, so you can have a length or an index larger than 2^32 and still not run out of memory
[21:56:02] <strcat> it's true that for 0-byte items in collections, it's not enough - but nothing short of a BigInt would be enough
[21:56:13] *** Quits: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Ping timeout)
[21:56:16] <benh> 1-bit items?
[21:56:16] <strcat> soc: len() is the number of items in the collection
[21:56:31] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[21:56:36] <strcat> soc: it's fine for a hash table to be sparse, you still can never have more than uint elements in it
[21:56:46] <benh> I guess I'd still run out of allocatable address space first
[21:56:47] <whitequark> Eridius: the problem is, idiomatic use of the library includes allocating its C++ classes on stack and passing them both by value and by pointer to the library itself
[21:56:48] *** Quits: claudiu_ (claudiu@moz-6F0C4397.thefacebook.com) (Connection reset by peer)
[21:56:59] <strcat> benh: 1-bit items don't really meet the collections definition
[21:57:04] <whitequark> I can't see how would I wrap this in Rust
[21:57:05] <benh> right
[21:57:09] *** Joins: claudiu (claudiu@moz-6F0C4397.thefacebook.com)
[21:57:13] <strcat> I would say being able to return a reference to contained elements needs to be possible
[21:57:24] <soc> strcat: you could have a range for instance, where contained elements are specified by predicates over the range
[21:57:30] <whitequark> something like adding an opaque area by invoking sizeof at compile time and then invoking placement new would maybe work
[21:57:32] <strcat> soc: not a container
[21:57:34] <soc> would you return "0" for that?
[21:57:43] <benh> whitequark: allocate them on the heap and expose a wrapper type that exposes a stack-object like interface?
[21:57:47] <strcat> soc: I wouldn't implement a trait for in-memory containers
[21:58:00] <benh> don't think we have compile-time sizeof
[21:58:02] <strcat> you'll notice that the methods in that module return & refs to contained elements
[21:58:16] <whitequark> benh: ugh, that's a lot of work
[21:58:19] <strcat> not possible to use it for an on-disk map, etc.
[21:58:20] <benh> though we have compatible struct layouts i think, so maybe just use a non-opaque-but-private memory area
[21:58:22] <whitequark> and a moderate amount of overhead
[21:58:55] <strcat> whitequark: I would just use a script
[21:59:01] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[21:59:02] <whitequark> strcat: a script?
[21:59:09] <strcat> whitequark: a script generating code for the platform
[21:59:14] <strcat> whitequark: make types with the proper align/size
[21:59:17] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[21:59:24] *** Joins: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch)
[21:59:30] <whitequark> using something like libclang, right
[21:59:35] <benh> take the class definition, replace class with struct, remove all methods and static fields and access specificers and punt it through bindgen?
[21:59:43] <strcat> whitequark: well, I was thinking just compiling a C program ;)
[21:59:58] <strcat> using printf("%zu\n", alignof/sizeof (foo))
[22:00:05] *** Joins: toshok (toshok@moz-43741342.cat)
[22:00:07] <strcat> and then using a script to turn that into rust code
[22:00:09] <whitequark> strcat: ew, it has hundreds of classes
[22:00:15] <whitequark> opencascade, for reference
[22:00:18] <strcat> whitequark: well generate the C program with a script! ;p
[22:00:18] *** Quits: carllerche (carllerche@moz-2B516F15.hsd1.or.comcast.net) (Quit: carllerche)
[22:00:28] * whitequark sighs
[22:00:48] <strcat> whitequark: https://github.com/thestinger/rust-seccomp/blob/master/generate.py ;p
[22:01:05] * strcat wishes rust had libclang integrated in resolve
[22:01:08] *** Quits: NiccosSystem (NiccosSyst@moz-ED196BB4.customer.lyse.net) (Ping timeout)
[22:01:08] *** Quits: derek_c (derek@moz-D5822404.cit.cornell.edu) (Ping timeout)
[22:01:39] <whitequark> strcat: well opencascade is a little bit more complex
[22:01:57] *** jorendorff is now known as jorendorff_away
[22:02:16] *** Quits: syatchmenoff (samy@moz-AB5B740D.hsd1.or.comcast.net) (Quit: syatchmenoff)
[22:03:34] <seanmonstar> strcat: oh i see, if IndexMut were to call HashMap.get_mut, if the key didn't exist yet, it would fail
[22:03:36] *** Joins: asmyers (quassel@moz-71754EDC.hsd1.md.comcast.net)
[22:03:57] <tiffany> benh: what about vtables and stuff?
[22:04:03] <seanmonstar> as opposed to Vec.get_mut, where you can adjust the ptr (as long as its not out of bounds)
[22:04:12] <benh> tiffany: good point, that won't work.
[22:05:11] <tiffany> I mean, aside from all the other potential problems like mismatched ABI
[22:05:43] <strcat> meh
[22:05:45] <benh> I hoped bindgen would be smarter than I here
[22:05:47] <strcat> it can't be moved to libcollections
[22:06:23] * strcat is still under the impression that splitting all of these crates apart without coming up with a plan for tackling the consequences was a bad idea
[22:06:33] <benh> at least bindgen apparently does some libclang ffi that you could cop though
[22:06:48] <soc> C interop could be a good use-case for macros ...
[22:08:02] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[22:08:05] *** jorendorff_away is now known as jorendorff
[22:08:10] <strcat> extern crate m; unsafe { m::pow(5.5) } // should work, and can work via resolve using libclang
[22:08:16] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[22:08:16] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[22:08:52] *** Quits: Savago (Savago@F7A245C3.E820043D.D4C04133.IP) (Quit: Savago)
[22:09:04] <strcat> we could also have some basic C++ compatibility... starting with translating non-POD C++ types to rust types with only private fields
[22:09:05] *** Quits: skade (skade@moz-1EC0F118.pools.arcor-ip.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[22:09:12] <strcat> and just making the size/align correct
[22:10:03] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[22:10:03] <strcat> I guess you'd say 'extern "C" crate m;'
[22:10:20] <benh> extern "C"rate 
[22:10:37] <tiffany> extern crate++ m;
[22:10:38] *** Joins: josh (josh@AB9E84E1.51779FFC.284344F5.IP)
[22:10:39] *** Quits: eholk (eholk@moz-40A3960F.tmodns.net) (Ping timeout)
[22:10:44] <benh> you mean making that parse header files?
[22:10:45] *** Quits: mye (mye@moz-5C4AC8BE.dip0.t-ipconnect.de) (Quit: So long, and thanks for all the fish!)
[22:10:48] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[22:10:50] <strcat> benh: with libclang, yes
[22:11:12] *** Joins: DAddYE_ (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[22:11:12] <benh> #[cpp_args="-D__GNU_SOURCE"] extern "C" crate whatever;
[22:11:21] <strcat> generating code with bindgen is incorrect as it's specific to the library's ABI for that configuration/platform
[22:11:31] <strcat> and is specific to that library version
[22:11:38] *** Quits: DAddYE (DAddYE@AC93BF08.FD5C31A1.284344F5.IP) (Ping timeout)
[22:11:39] <strcat> binary compatibility breaks *all the time* for most libs
[22:11:43] <benh> i'd assume bindgen would be invoked by the build system
[22:11:50] <strcat> benh: well not bindgen
[22:11:55] <strcat> it'd just be libclang used by rustc
[22:12:02] <strcat> rustc is our 'build system' in most cases
[22:12:08] *** Joins: eholk (eholk@moz-40A3960F.tmodns.net)
[22:12:16] <benh> i mean i don't see what you're getting at with calling it incorrect
[22:12:27] <strcat> benh: std::libc hardcodes the glibc ABI for linux
[22:12:28] <strcat> that's incorrect
[22:12:32] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[22:12:43] <benh> I thought that was handwritten and not bindgen'd
[22:12:44] <strcat> generating it with bindgen in advance would also be incorrect, it would be correct to do it every time
[22:12:47] <benh> ok
[22:12:53] <tiffany> so if you use musl with rust then bad things will happen as it stands
[22:12:55] <benh> yeah that's what i meant by invoking it by the build system
[22:12:58] <o11c> libc ABIs are a pain
[22:13:04] <strcat> tiffany: well, musl is mostly glibc-ABI compatible
[22:13:08] <o11c> c++ abis are worse
[22:13:08] <strcat> tiffany: but yes bad things
[22:13:18] <tiffany> it stops being "mostly" for large applications though, doens't it?
[22:13:38] <strcat> tiffany: dunno how far their compatibility goes
[22:13:41] <strcat> libc is somewhat of a special library
[22:13:44] <strcat> it hardly has any structs
[22:13:52] <strcat> it only has a few user-facing structs
[22:13:55] <tiffany> I guess the main issue is within POSIX, then
[22:14:01] <strcat> yeah
[22:14:09] <strcat> POSIX has *tons* of non-opaque stuff
[22:14:12] <strcat> :)
[22:14:29] <strcat> but I think they mostly stick to the glibc layouts
[22:14:39] <strcat> but yeah
[22:14:42] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[22:14:48] <strcat> 'mostly' is not very comforting
[22:14:52] *** Quits: philix (felipe@moz-D13524B6.user.veloxzone.com.br) (Ping timeout)
[22:14:56] <strcat> when you're talking about silent complete memory corruption
[22:15:10] *** Quits: Siosm (quassel@moz-9911B053.fr) (Ping timeout)
[22:15:20] *** Joins: jng27 (Mibbit@55B0B969.8E42373.30200F38.IP)
[22:15:40] *** Quits: sunfish (chatzilla@13F2CEC5.7672369.D8E68FF6.IP) (Ping timeout)
[22:15:59] *** Joins: philix (felipe@moz-D13524B6.user.veloxzone.com.br)
[22:16:07] <tiffany> I'm somewhat used to it, having to deal with a binding of my game engine's API using luajit ffi
[22:16:18] <tiffany> if I forget to update a struct and things blow up I usually know why they did
[22:16:19] *** Quits: DAddYE_ (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Ping timeout)
[22:16:28] <strcat> tiffany: sometimes they might not blow up though ;)
[22:16:36] <strcat> missing field at the end that's rarely used... etc
[22:16:39] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[22:16:53] <strcat> lets leaving object slicing to C++ and do FFI sanely ;p
[22:16:58] *** Quits: hoverbear (hoverbear@moz-17C6F427.wireless.uvic.ca) (Quit: This bear's gotta fly.)
[22:17:09] <tiffany> I have a policy of not letting lua allocate things for that reason
[22:17:21] <o11c> strcat: define sanely
[22:17:31] <strcat> o11c: not hardcoding ABIs in our source code
[22:17:52] <strcat> and having silent memory corruption on different platforms, or versions/configurations of the library
[22:17:53] <o11c> best thing I can think of would be to generate stubs and compile them with the system C compiler
[22:18:00] *** Quits: philix (felipe@moz-D13524B6.user.veloxzone.com.br) (Ping timeout)
[22:18:04] <strcat> o11c: well we can use libclang
[22:18:15] *** Joins: NiccosSystem (NiccosSyst@moz-ED196BB4.customer.lyse.net)
[22:18:36] <strcat> I think it works well for both cases
[22:18:43] <strcat> you a) include the library/header in your source or b) use the system library
[22:18:51] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Input/output error)
[22:18:59] <strcat> either way it seems best to have libclang read the header, and librustc translate it to rust semantics
[22:19:04] <strcat> it won't handle 100% of cases
[22:19:12] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Ping timeout)
[22:19:16] <strcat> you will need a little bit of hardcoding (non-trivial macros)
[22:19:34] *** Quits: bjustin (bjustin@moz-8FC28563.sierrabravo.net) (Quit: Textual IRC Client: www.textualapp.com)
[22:19:45] <strcat> it could special case #define FOO INTEGER macros though
[22:19:49] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[22:20:17] <strcat> libclang will make it easy to expand them and then keep the ones we can deal with
[22:20:29] <strcat> as constants
[22:20:56] <strcat> o11c: for example, atm I hardcode the gmp ABI in rust-gmp
[22:21:01] <strcat> but....
[22:21:02] *** Joins: philix (felipe@moz-EEB72621.user.veloxzone.com.br)
[22:21:07] <strcat> it varies based on how you configure gmp
[22:21:11] <soc> btw, anyone working on statically typed database access via macros/attributes?
[22:21:18] <benh> My one attempt to convert #define FOO INTEGER macros into rust statics ran into not knowing whether i should make them signed or unsigned and giving up
[22:21:27] *** Quits: brendan (brendaneic@moz-D9B414AF.hfc.comcastbusiness.net) (Quit: brendan)
[22:21:34] <strcat> benh: well it'd just be the type of the literal
[22:21:43] <strcat> 5 -> c_int
[22:21:50] <strcat> 5ULL -> c_ulonglong
[22:21:58] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Input/output error)
[22:22:12] *** Joins: ChrisMorgan (chris@moz-8DCBEA52.vic.adsl.internode.on.net)
[22:22:19] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[22:22:30] <benh> I think rust gives you more warnings if you use a c_int in place of a c_uint than C compilers do for an int looking literal where you need an unsigned int
[22:22:47] <strcat> benh: sure
[22:23:15] <benh> i mean we could always translate those macro-constants to rust macros yielding generic integer literals...
[22:23:16] *** Joins: derek_c (derek@moz-3D7E1024.cit.cornell.edu)
[22:23:30] <strcat> benh: yes, it's just intended to remove the hardwired ABIs
[22:23:33] *** Joins: vgeddes (vincent.ge@moz-A97D336F.access.mtnbusiness.co.za)
[22:23:35] <strcat> either way you need to make a high-level binding
[22:23:51] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[22:23:56] <strcat> it won't remove that need
[22:24:02] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[22:24:03] <strcat> for any library with >0 functions at least
[22:24:28] *** Quits: josh (josh@AB9E84E1.51779FFC.284344F5.IP) (Quit: josh)
[22:24:42] <strcat> for one thing, you need to strip away the prefixes C libraries add to their function names, since we have modules
[22:24:50] <strcat> (and constant names)
[22:25:41] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Ping timeout)
[22:28:30] *** Quits: eholk (eholk@moz-40A3960F.tmodns.net) (Ping timeout)
[22:28:35] *** Joins: hoverbear (hoverbear@moz-B5A9F42F.wireless.uvic.ca)
[22:28:43] *** Quits: kris_ (kris@moz-147EE6DF.diku.dk) (Ping timeout)
[22:29:09] <dpc> I don't understand iter::flat_map example ( http://static.rust-lang.org/doc/0.9/std/iter/trait.Iterator.html#method.flat_map ). :/ . I don't understand the "count" there. Shouldn't it be called on some iterator?
[22:29:11] *** Joins: hjr3 (hradtke@1A20C896.96FE09F3.3002A442.IP)
[22:30:03] *** Joins: matematikaadit (adit@E1CA6C4D.52BCA8DD.AD3A2B0B.IP)
[22:30:15] *** Joins: josh (josh@moz-C0FDB1B0.hfc.comcastbusiness.net)
[22:31:35] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[22:31:40] *** Joins: Siosm (quassel@moz-9911B053.fr)
[22:32:18] <ChrisMorgan> dpc: count is http://static.rust-lang.org/doc/0.9/std/iter/fn.count.html
[22:33:30] *** Quits: cschneid (cschneid@moz-CA025D57.ip.mcleodusa.net) (Ping timeout)
[22:39:08] *** Quits: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch) (Quit: Leaving.)
[22:39:54] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[22:40:01] *** Quits: dapz (textual@moz-ADE1780.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[22:40:07] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[22:40:13] *** Quits: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[22:40:29] *** Quits: KokaKiwi (kokakiwi@moz-D674DAC6.kokakiwi.net) (Ping timeout)
[22:40:44] *** Quits: Rym (y@F571237E.E30DB9C2.8772DA20.IP) (Ping timeout)
[22:40:49] <SiegeLord> I wonder what Acid3 looks like on Servo
[22:40:58] *** Joins: Rym (y@F571237E.E30DB9C2.8772DA20.IP)
[22:41:27] <o11c> benh: obvious solution is to make 5 an Int3, ...
[22:41:28] *** Joins: anomie (anomie@moz-3213C615.wavecable.com)
[22:41:39] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[22:41:44] *** jorendorff is now known as jorendorff_away
[22:41:50] *** Joins: KokaKiwi (kokakiwi@moz-D674DAC6.kokakiwi.net)
[22:42:20] *** Joins: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net)
[22:42:27] <dpc> ChrisMorgan: But count is a iterator function, isn't it? And i'ts being called standalone ...
[22:42:49] <ChrisMorgan> dpc: count is a function which returns an iterator.
[22:42:50] <dpc> ChrisMorgan: Ah, sorry. I got it now.
[22:42:54] *** Quits: toshok (toshok@moz-43741342.cat) (Ping timeout)
[22:43:24] <dpc> Thanks
[22:43:41] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[22:43:48] *** Quits: derek_c (derek@moz-3D7E1024.cit.cornell.edu) (Quit: Leaving)
[22:43:49] *** Joins: mib_wihgqq (Mibbit@A0E21F79.E9F3F913.CC1A2609.IP)
[22:43:57] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[22:44:12] *** Quits: vikstrous (v@13F2CEC5.7672369.D8E68FF6.IP) (Ping timeout)
[22:44:42] *** Joins: eholk (eholk@moz-40A3960F.tmodns.net)
[22:46:12] <dpc> Shouldn't this function be named "counter"?
[22:46:39] *** Joins: toshok (toshok@moz-43741342.cat)
[22:46:47] *** Quits: mib_wihgqq (Mibbit@A0E21F79.E9F3F913.CC1A2609.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[22:47:48] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[22:48:01] *** Quits: matematikaadit (adit@E1CA6C4D.52BCA8DD.AD3A2B0B.IP) (Quit: Leaving)
[22:48:03] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[22:48:15] *** Quits: eholk (eholk@moz-40A3960F.tmodns.net) (Ping timeout)
[22:48:42] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[22:48:47] *** Quits: asmyers (quassel@moz-71754EDC.hsd1.md.comcast.net) (Ping timeout)
[22:49:10] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[22:49:33] <hoverbear> SiegeLord: Test it!
[22:49:46] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[22:49:49] <SiegeLord> Oh, good point... I guess I could build it
[22:49:49] *** Quits: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[22:49:52] *** Joins: claudiu_ (claudiu@moz-F69B678E.thefacebook.com)
[22:49:55] <SiegeLord> I bet it requires magic
[22:50:04] *** Quits: ipetkov (ipetkov@moz-B2740012.dsl.lsan03.sbcglobal.net) (Quit: ipetkov)
[22:50:11] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[22:50:14] *** Quits: claudiu (claudiu@moz-6F0C4397.thefacebook.com) (Ping timeout)
[22:50:47] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[22:51:09] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[22:51:18] *** Quits: alonlevy (alon@moz-B6210BD6.red.bezeqint.net) (Ping timeout)
[22:51:42] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[22:51:53] *** Joins: paraze (paraze@moz-96380A71.w86-209.abo.wanadoo.fr)
[22:51:58] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[22:52:49] <dpc> Why http://static.rust-lang.org/doc/0.9/std/iter/index.html works and http://static.rust-lang.org/doc/0.9/std/iter/ does not? :)
[22:52:58] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[22:53:04] *** Quits: darnuria (darnuria@moz-AB6EB255.ip-91-121-133.eu) (Ping timeout)
[22:53:09] <hoverbear> dpc: AWS configurations, there's an issue on github about it. We've tried to fix it a few times.
[22:53:11] *** Quits: Vermeille (vermeille@moz-9947004C.kimsufi.com) (Ping timeout)
[22:53:25] <dpc> I see, OK.
[22:53:34] <hoverbear> SiegeLord: Sufficiently advanced technology is indistinguishable from magic
[22:53:58] <SiegeLord> Don't you need a specific version of Rust for it?
[22:54:13] <bvssvni> it has its own Rust
[22:54:38] <SiegeLord> So I could in principle check it out and run make?
[22:54:40] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[22:54:47] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[22:55:14] <hoverbear> dpc https://github.com/mozilla/rust/issues/4558
[22:55:28] <hoverbear> SiegeLord: Probably. You can ask on #servo
[22:56:29] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[22:57:10] *** Quits: evanm (evanm@636AC086.5999CED5.71743E61.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[22:57:19] *** Quits: josh (josh@moz-C0FDB1B0.hfc.comcastbusiness.net) (Ping timeout)
[23:00:10] *** Quits: dschatzberg (dschatzber@moz-E2680405.bu.edu) (Input/output error)
[23:00:16] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[23:00:35] *** Quits: NiccosSystem (NiccosSyst@moz-ED196BB4.customer.lyse.net) (Ping timeout)
[23:00:41] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[23:00:59] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[23:01:46] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[23:02:05] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[23:02:11] *** Joins: nszceta (nszceta@moz-E642D2FB.hsd1.pa.comcast.net)
[23:02:31] *** Joins: alexherbo2 (alexherbo2@moz-AB6EB255.ip-91-121-133.eu)
[23:04:39] *** Quits: arturo (Thunderbir@moz-E83B14F0.superkabel.de) (Ping timeout)
[23:04:58] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[23:05:41] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[23:06:18] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[23:06:52] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[23:06:56] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[23:07:17] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[23:07:21] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[23:07:53] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[23:08:06] *** Joins: Savago (Savago@202BED95.35A5082B.B8C5454C.IP)
[23:08:06] *** Quits: hoverbear (hoverbear@moz-B5A9F42F.wireless.uvic.ca) (Quit: Taking a nap.)
[23:08:13] *** Quits: Savago (Savago@202BED95.35A5082B.B8C5454C.IP) (Quit: Savago)
[23:08:21] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[23:08:24] *** Joins: Savago (Savago@202BED95.35A5082B.B8C5454C.IP)
[23:08:51] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[23:09:08] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[23:09:21] *** Quits: ChrisOei (ChrisOei@moz-53A9266A.blurb.com) (Ping timeout)
[23:09:58] *** Joins: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net)
[23:10:41] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[23:10:56] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[23:10:58] *** Joins: IanCormac84 (User@18A7B10B.64D641E5.67DFF8B4.IP)
[23:11:14] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[23:11:18] *** Quits: Matthias247 (Miranda@moz-678B5E4A.hsi2.kabel-badenwuerttemberg.de) (Quit: Matthias247)
[23:11:33] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[23:11:41] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[23:12:01] *** Joins: darnuria (darnuria@moz-AB6EB255.ip-91-121-133.eu)
[23:12:03] *** Quits: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net) (Ping timeout)
[23:12:17] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[23:12:37] *** Joins: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net)
[23:13:44] *** Joins: carllerche (carllerche@D83289CC.8F6D08CD.3F96B88A.IP)
[23:13:50] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[23:13:50] *** Quits: darnuria (darnuria@moz-AB6EB255.ip-91-121-133.eu) (Quit: WeeChat 0.4.3)
[23:13:56] *** Joins: darnuria (darnuria@moz-AB6EB255.ip-91-121-133.eu)
[23:14:51] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[23:16:26] *** Quits: hjr3 (hradtke@1A20C896.96FE09F3.3002A442.IP) (Ping timeout)
[23:16:47] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[23:17:06] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[23:17:37] *** Joins: hjr3 (hradtke@1A20C896.96FE09F3.3002A442.IP)
[23:21:04] *** Quits: k4nar (quassel@moz-EE8DAF45.ip-91-121-75.eu) (Quit: No Ping reply in 180 seconds.)
[23:21:17] *** Joins: k4nar (quassel@moz-EE8DAF45.ip-91-121-75.eu)
[23:21:36] <erickt> wycats: are you still playing around with a ragel http parser?
[23:21:42] *** Joins: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch)
[23:21:44] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[23:22:11] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[23:22:17] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[23:22:31] *** Joins: mediocrity (Thunderbir@moz-8A2E9A09.bredband.comhem.se)
[23:23:07] *** Quits: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch) (Quit: Leaving.)
[23:25:50] *** Quits: jdavis_ (jdavis@moz-1BE8A6A1.hsd1.ca.comcast.net) (Ping timeout)
[23:25:53] *** Quits: mediocrity (Thunderbir@moz-8A2E9A09.bredband.comhem.se) (Quit: mediocrity)
[23:27:09] <apollow> Anyone know how to quickly update rust when it has been compiled?
[23:27:21] <apollow> Just did a git pull, make, make install into a broken rust compiler
[23:27:44] <huon> broken in what way?
[23:28:04] <apollow> Well this was from a pull a couple days back
[23:28:23] <apollow> ←[31merror: ←[0m←[1minternal compiler error: unexpected failure
[23:28:23] <apollow> This message reflects a bug in the Rust compiler.
[23:28:23] <apollow> We would appreciate a bug report: http://static.rust-lang.org/doc/master/complem
[23:28:23] <apollow> ent-bugreport.html
[23:28:23] <apollow> ←[0m←[32mnote: ←[0m←[1mthe compiler hit an unexpected failure path. this is a bu
[23:28:23] <apollow> g
[23:28:23] <apollow> ←[0mOk(task 'rustc' failed at 'index out of bounds: the len is 50 but the index
[23:28:24] <apollow> is 50', C:\Users\Mike\git\rust\src\librustc\middle\lang_items.rs:150
[23:28:39] *** Joins: eholk (eholk@moz-C07D5168.p2p.sfo1.mozilla.com)
[23:30:12] <huon> weird
[23:30:23] * huon doesn't know what the problem is
[23:30:41] * McPherrin finds "git pull; make" breaks all the time
[23:30:51] <andrew-__> try 'git clean -dfx' ?
[23:30:59] *** Joins: jaras (textual@1CDC5701.A48867D7.52E4E107.IP)
[23:30:59] <andrew-__> then ./configure and make?
[23:31:06] *** Joins: mediocrity (Thunderbir@moz-8A2E9A09.bredband.comhem.se)
[23:31:11] <huon> McPherrin: weird, it rarely breaks for me
[23:31:16] *** Quits: mediocrity (Thunderbir@moz-8A2E9A09.bredband.comhem.se) (Quit: mediocrity)
[23:31:25] <McPherrin> huon: I have never had it last more than a few days with a cronjob doing that
[23:31:54] <huon> McPherrin: what are the "breakages"? the same as apollow ?
[23:32:17] <McPherrin> huon: I never really investigated, "make -j8" failing was the symptom
[23:32:34] <McPherrin> since it was a cronjob, I didn't see the output
[23:33:07] <apollow> ill try that andrew, it's currently in make.. guess I'll spend another couple hours configuring and make...
[23:33:28] <McPherrin> git clean -dfx is probably a little overaggressive
[23:33:51] <McPherrin> you'll spend a lot of time redownloading and building llvm and things
[23:34:21] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[23:34:55] <huon> McPherrin: ah, I'd guess it's a -j problem, rather than a `git pull; make`
[23:35:12] <huon> apollow: `make clean` might be worth a try first
[23:35:22] <huon> (since that will only rebuild the rust parts, not LLVM)
[23:35:23] *** Quits: eholk (eholk@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: eholk)
[23:35:36] <andrew-__> ^ probably best to try that first, yeah
[23:35:53] <apollow> alright, make clean -> make -> make install it is
[23:36:05] <andrew-__> also, i tend to re-configure on each git pull, and it "generally" works for me (as another datapoint, if nothing else...)
[23:36:34] <andrew-__> as in, i do, copied from my shell history: git pull && ./configure && time make -j5
[23:36:59] <o11c> when I wrote my own ./configure and makefile, I said "you'll never have to run ./configure again - it will auto-call config.status if it needs to" ... it turns out to be *incredibly* difficult to actually do that
[23:37:10] * huon regularly does `nice make -j10` after jumping around "randomly" in the git history
[23:37:28] <huon> (as I hack on the compiler/libs) and I've never noticed that break
[23:37:39] * huon gets lucky, apparently
[23:38:18] <strcat> o11c: the trick is not writing a configure script
[23:38:21] <strcat> ;P
[23:38:22] <McPherrin> I just do a clean build when make -j8 fails and whatever
[23:38:23] <bvssvni> is #![] going to replace #[];, or will Rust keep both?
[23:38:30] <McPherrin> bvssvni: I think it will replace
[23:38:43] <bvssvni> McPherrin: thankx
[23:38:49] *** Joins: eholk (eholk@moz-C07D5168.p2p.sfo1.mozilla.com)
[23:39:17] <o11c> strcat: I tried that for a long time
[23:39:27] *** Quits: hdevalence (quassel@moz-D125A39F.home3.cgocable.net) (Ping timeout)
[23:39:46] *** Joins: WebeWizard (WebeWizard@moz-7CCD1DAE.ks.ks.cox.net)
[23:40:03] *** Joins: asmyers (quassel@moz-71754EDC.hsd1.md.comcast.net)
[23:40:09] *** Quits: eholk (eholk@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: eholk)
[23:40:48] *** Quits: vgeddes (vincent.ge@moz-A97D336F.access.mtnbusiness.co.za) (Ping timeout)
[23:41:32] *** Joins: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net)
[23:41:32] *** ChanServ sets mode: +o tjc
[23:43:21] *** Quits: carllerche (carllerche@D83289CC.8F6D08CD.3F96B88A.IP) (Quit: carllerche)
[23:43:27] *** Joins: Denommus (user@79485229.20CA00E6.AD91B79.IP)
[23:43:33] <Denommus> hi
[23:43:44] <bvssvni> Denommus: hi!
[23:43:45] <Denommus> I'm... anxyous about cargo's first usable state
[23:43:46] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[23:44:19] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[23:44:49] <bvssvni> Denommus: https://github.com/carlhuda/cargo/ ?
[23:45:09] <Denommus> bvssvni: yes
[23:45:15] *** Quits: Sorella (queen@9D963F5D.DF5D8AE7.54BCAB54.IP) (Quit: It is tiem!)
[23:45:24] *** Joins: Sorella (queen@9D963F5D.DF5D8AE7.54BCAB54.IP)
[23:45:50] <bvssvni> Denommus: what are your thoughts?
[23:46:50] *** Joins: cschneid (cschneid@moz-621ACC77.hlrn.qwest.net)
[23:46:53] <dpc> cargo seemed to work for me.
[23:47:33] <Denommus> bvssvni: the only thing I didn't like is that it uses a separate configuration file, unlike rustpkg, but that's just me being annoying. The whole community will certainly use it, so that's a non-issue
[23:48:03] <Denommus> dpc: ah, but then my project already uses a Makefile. While cargo doesn't have dependency resolution, I still won't have reasons to use it :-)
[23:48:50] <bvssvni> Denommus: perhaps a separate configuration file will make it easier to integrate with IDE's
[23:49:29] <dpc> What's wrong with configuration file?
[23:49:44] <dpc> Denommus: Well, yeah. Obviously it's not complete, but something works at least... :)
[23:49:53] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[23:50:20] <Denommus> dpc: I thought rustpkg's idea of using the metainformation available from the source code itself made a lot of sense
[23:50:50] <dpc> Denommus: 
[23:50:57] <bvssvni> Denommus: me too, but I believe those people working on cargo are capable
[23:51:00] <dpc> Denommus: Ah, I see. I don't have opinion about it.
[23:51:18] <dpc> Sometimes having meta separated makes it easier.
[23:51:20] *** Joins: jdm (jdm@FCCEA34F.7672369.D8E68FF6.IP)
[23:51:20] *** ChanServ sets mode: +o jdm
[23:51:51] <dpc> I don't see much advantage of keeping meta inside the code vs keeping it in the file next to it.
[23:52:16] *** Quits: eibwen (kvirc@moz-23942A6F.dip0.t-ipconnect.de) (Ping timeout)
[23:53:59] <bvssvni> Visual Studio uses a separate configuration file
[23:54:38] <o11c> Visual Studio isn't to be taken as an example of good design
[23:55:00] <o11c> but I do see the advantages of a separate file ...
[23:55:04] <o11c> but also of embedded
[23:55:23] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[23:55:38] <o11c> here's the question: if you need to access the meta information from inside your crate also, how do you do that?
[23:55:46] <bvssvni> the advantage of embedded is being able to just copy & paste
[23:56:31] <bvssvni> o11c: example?
[23:56:57] <o11c> bvssvni: like version number, for one thing
[23:57:06] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[23:57:06] *** Quits: Rym (y@F571237E.E30DB9C2.8772DA20.IP) (Ping timeout)
[23:57:15] *** Joins: mediocrity (Thunderbir@moz-8A2E9A09.bredband.comhem.se)
[23:57:17] <huon> via the syntax extension system
[23:57:51] <huon> e.g. one possibility would be `#[phase(syntax)] extern crate cargo_utils; cargo_version!()`
[23:57:55] *** Quits: mediocrity (Thunderbir@moz-8A2E9A09.bredband.comhem.se) (Quit: mediocrity)
[23:58:36] <o11c> for my C++ project, I have a FORCE'd target that regenerates the version.h header if it needs to change ... it's not idea
[23:59:33] *** Joins: mediocrity (Thunderbir@moz-8A2E9A09.bredband.comhem.se)
[23:59:35] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[23:59:44] *** Quits: mediocrity (Thunderbir@moz-8A2E9A09.bredband.comhem.se) (Quit: mediocrity)
[23:59:48] <o11c> (I have an idea involving changing the output filename, but ...)
