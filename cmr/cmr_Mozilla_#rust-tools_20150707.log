[00:10:27] *** Joins: goncalog (ff@moz-211.j09.7.46.IP)
[00:19:32] <acrichto> brson: we... have all of our macs offline except 1?
[00:19:38] <acrichto> aren't mac5/mac6 supposed to be robust?
[00:21:34] <brson> acrichto: weird
[00:21:46] <acrichto> brson: so I could ssh in...
[00:21:51] <acrichto> I just restarted the buildslave daemon
[00:22:05] <acrichto> nothign too suspicious in the logs
[00:22:20] <brson> i just rebooted 3/5/6
[00:22:42] <acrichto> ah well
[00:22:46] <acrichto> good ol macs
[00:45:15] *** Quits: brson (brson@moz-cfhap5.mtv2.mozilla.com) (Quit: leaving)
[00:51:26] *** Joins: ericholscher (ericholsche@moz-svlp9k.9l10.a4vc.100f.2600.IP)
[01:14:04] *** Quits: ericholscher (ericholsche@moz-svlp9k.9l10.a4vc.100f.2600.IP) (Connection closed)
[02:00:26] *** Joins: ericholscher (ericholsche@moz-5ti26e.or.comcast.net)
[04:17:32] *** Quits: Manishearth (manishearth@moz-uc30rq.anapnea.net) (Ping timeout: 121 seconds)
[04:24:20] *** Joins: Manishearth (manishearth@moz-uc30rq.anapnea.net)
[04:24:20] *** ChanServ sets mode: +ao Manishearth Manishearth
[06:02:54] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[06:23:59] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[06:48:43] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[07:19:10] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[08:11:56] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[08:49:49] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[10:04:13] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Connection closed)
[12:33:56] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[13:08:50] *** Joins: Tobba (Tobba@moz-9am.9ik.36.192.IP)
[13:34:22] *** Quits: Tobba (Tobba@moz-9am.9ik.36.192.IP) (Ping timeout: 121 seconds)
[13:41:15] *** Joins: Tobba (Tobba@moz-9am.9ik.36.192.IP)
[13:51:56] *** Quits: Tobba (Tobba@moz-9am.9ik.36.192.IP) (A TLS packet with unexpected length was received.)
[14:11:48] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[18:39:54] *** Joins: brson (brson@moz-cfhap5.mtv2.mozilla.com)
[18:39:55] *** ChanServ sets mode: +ao brson brson
[19:07:11] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[19:26:09] *** Joins: Tobba (Tobba@moz-oecqnu.plus.com)
[19:46:35] *** Quits: Tobba (Tobba@moz-oecqnu.plus.com) (A TLS packet with unexpected length was received.)
[21:12:13] *** Joins: Tobba (Tobba@moz-4l45on.skybroadband.com)
[21:19:23] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[21:57:34] *** Quits: Tobba (Tobba@moz-4l45on.skybroadband.com) (A TLS packet with unexpected length was received.)
[23:25:05] <acrichto> vadimcn: ping
[23:40:18] *** Quits: brson (brson@moz-cfhap5.mtv2.mozilla.com) (Quit: leaving)
[23:51:59] <vadimcn> acrichto: what's up?
[23:52:28] <acrichto> vadimcn: so I've been poking around at a bunch of this unwinding stuff on MSVC recently, and I think I'm reaching the end of my rope
[23:52:53] <acrichto> it's a little unclear to me how much of this is a bug in upstream LLVM or something that we could hack around immediately
[23:53:09] <acrichto> e.g. there was that patch to mark all destructors with noinline, but it unfortunately still doesn't fix all bugs
[23:53:11] <vadimcn> 32 or 64 bit?
[23:53:15] <acrichto> just 64 for now
[23:53:24] <acrichto> 32 is kinda its own nightmare to just get bootstrapping without unwinding
[23:53:33] <acrichto> so my goal right now is to run the run-pass test suite
[23:53:45] <acrichto> and I've got a relatively small reduction of a failing test case
[23:53:53] <acrichto> it just unfortunately uses liballoc and Box::new so it's not super small
[23:54:09] <acrichto> but I'm like 99% sure it's an LLVM bug b/c it passes without optimizations and then fails with optimizations
[23:54:24] <acrichto> I'm curious, do you know much about this stuff and would be willing to poke around as well?
[23:54:47] <acrichto> or do you know more about what the status in LLVM is? I've heard they want to rewrite everything but it's unclear to me whether anything is expected to work today
[23:55:20] <vadimcn> haven't followed it closely, but I think they are trying to generate LSDA unwind info compatible with MSVC personality function, right?
[23:56:00] <acrichto> so I'm not 100% up to speed on the implementation specifics, but from what I understand the LSDA info is specific to DWARF unwinding which isn't part of MSVC at all
[23:56:15] <acrichto> so I believe that when you use the MSVC personality function it's generating tables/such that are meant to be ABI compatible with cl.exe
[23:56:27] <vadimcn> yes
[23:56:50] <vadimcn> ... if you want 100% compatibility with cl
[23:57:23] <vadimcn> but I think Rust would be fine with its own personality function
[23:58:02] <acrichto> true, we could probably copy over all the DWARF-like stuff from libgcc
[23:58:14] <acrichto> or, that's what you mean, right?
[23:58:17] <vadimcn> yes
[23:58:46] <acrichto> do you have a good idea on what size of an implementation that may entail?
[23:58:55] <vadimcn> I think I have a branch somewhere with beginnings of LSDA parser
[23:58:56] <acrichto> I was thinking that it'd be quite large and perhaps not worth it
[23:58:59] <acrichto> well then!
[23:59:00] <acrichto> lol
[23:59:16] <vadimcn> LSDA parsing is quite small
[23:59:23] <acrichto> hmm
[23:59:35] <vadimcn> the trouble is handling CPU context in platform-independent manner
[23:59:42] <acrichto> how so?
[23:59:50] <vadimcn> all those _Unwind_SetGR funtions
