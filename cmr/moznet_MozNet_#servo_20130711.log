[00:06:38] <jack> is it just me or is bors-servo not building things in parallel?
[00:06:44] <jack> it seems to have done the PRs serially
[00:07:00] <jack> bhearsum: is that expected? ^
[00:08:02] *** Quits: burg (burg@moz-A644EFFF.dyn.cs.washington.edu) (Quit: burg)
[00:08:47] *** Joins: ghservo (ghservo@24260B07.6A2AE50.F3114085.IP)
[00:08:47] <ghservo> [13servo] 15eschweic synchronize pull request #557: Progressive Rendering (06master...06master)  02http://git.io/i9Dhnw
[00:08:47] *** Parts: ghservo (ghservo@24260B07.6A2AE50.F3114085.IP) ()
[00:15:20] *** Joins: dherman (dherman@moz-BBE3ABD.mv.mozilla.com)
[00:15:20] *** ChanServ sets mode: +qo dherman dherman
[00:18:22] *** Joins: ghservo (ghservo@CFE85B59.6A2AE50.F3114085.IP)
[00:18:22] <ghservo> [13servo] 15eschweic synchronize pull request #557: Progressive Rendering (06master...06master)  02http://git.io/i9Dhnw
[00:18:22] *** Parts: ghservo (ghservo@CFE85B59.6A2AE50.F3114085.IP) ()
[00:19:36] <eschweic> pcwalton, jack: ^ should be ready whenever either of you get a chance
[00:19:45] <pcwalton> eschweic: cool, reviewing now
[00:20:40] *** Quits: tikue (tkuehn@moz-BBE3ABD.mv.mozilla.com) (Quit: tikue)
[00:24:00] *** Joins: jdm (jdm@moz-B566DF75.dsl.teksavvy.com)
[00:30:41] *** Joins: ghservo (ghservo@614D05BD.6A2AE50.F3114085.IP)
[00:30:41] <ghservo> 01[13servo01] 15bors-servo merged 06auto into 06master: 02http://git.io/GKJxYg
[00:30:41] *** Parts: ghservo (ghservo@614D05BD.6A2AE50.F3114085.IP) ()
[00:32:29] *** Quits: jdm (jdm@moz-B566DF75.dsl.teksavvy.com) (Ping timeout)
[00:33:39] *** Joins: ghservo (ghservo@C8693FCB.6A2AE50.F3114085.IP)
[00:33:39] <ghservo> 01[13servo01] 15bors-servo pushed 0 new commits to 06auto: 02http://git.io/dedKgQ
[00:33:39] *** Parts: ghservo (ghservo@C8693FCB.6A2AE50.F3114085.IP) ()
[00:33:40] *** Joins: ghservo (ghservo@614D05BD.6A2AE50.F3114085.IP)
[00:33:40] <ghservo> 01[13servo01] 15bors-servo pushed 10 new commits to 06auto: 02http://git.io/tgNrYw
[00:33:40] <ghservo> 13servo/06auto 14d590a7b 15eschweic: Make quadtrees generic
[00:33:40] <ghservo> 13servo/06auto 14ad7dc32 15eschweic: Address pcwalton's comments
[00:33:40] <ghservo> 13servo/06auto 146bebda4 15eschweic: Implement progressive rendering
[00:33:40] *** Parts: ghservo (ghservo@614D05BD.6A2AE50.F3114085.IP) ()
[00:38:17] *** Joins: tikue (tkuehn@moz-BBE3ABD.mv.mozilla.com)
[00:47:29] <eatkinson> seth: ping
[00:54:01] *** Quits: bjz_ (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[00:54:28] *** Joins: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[00:58:07] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[01:06:58] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[01:08:06] *** Quits: dherman (dherman@moz-BBE3ABD.mv.mozilla.com) (Quit: dherman)
[01:09:35] *** Joins: ghservo (ghservo@E7A4CCE2.6A2AE50.F3114085.IP)
[01:09:35] <ghservo> 01[13servo01] 15bors-servo merged 06auto into 06master: 02http://git.io/tgNrYw
[01:09:35] *** Parts: ghservo (ghservo@E7A4CCE2.6A2AE50.F3114085.IP) ()
[01:10:16] <pcwalton> \o/
[01:10:21] <pcwalton> we now only render in the visible rect
[01:15:30] *** Joins: ghservo (ghservo@2EE61FCC.6A2AE50.F3114085.IP)
[01:15:30] <ghservo> [13servo] 15eschweic opened pull request #576: Remove unused -z command line arg (06master...06master)  02http://git.io/DUd9pA
[01:15:30] *** Parts: ghservo (ghservo@2EE61FCC.6A2AE50.F3114085.IP) ()
[01:16:49] *** Quits: eschweic (Adium@moz-BBE3ABD.mv.mozilla.com) (Quit: Leaving.)
[01:18:40] *** Joins: ghservo (ghservo@614D05BD.6A2AE50.F3114085.IP)
[01:18:40] <ghservo> 01[13servo01] 15bors-servo pushed 0 new commits to 06auto: 02http://git.io/0fdDyg
[01:18:40] *** Parts: ghservo (ghservo@614D05BD.6A2AE50.F3114085.IP) ()
[01:18:41] *** Joins: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP)
[01:18:41] <ghservo> 01[13servo01] 15bors-servo pushed 2 new commits to 06auto: 02http://git.io/o81TMA
[01:18:41] <ghservo> 13servo/06auto 14783e898 15eschweic: Remove unused -z opt
[01:18:41] <ghservo> 13servo/06auto 1496d57dc 15bors-servo: auto merge of #576 : eschweic/servo/master, r=pcwalton
[01:18:41] *** Parts: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP) ()
[01:22:12] *** Quits: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[01:29:24] *** Quits: jet (jet@moz-BE33DA21.fw1.sfo1.mozilla.net) (Quit: jet)
[01:30:29] <tikue> servo is dying on a simple iframe html page, and I'm having trouble pinpointing it. it looks like it's happening due to an option.get() failing, but there's no information about whereabouts that is occuring
[01:30:38] <tikue> the html I'm testing with is here: https://gist.github.com/tkuehn/db27a77a7f89fd13c7fd
[01:31:11] <tikue> gdb hasn't been all too helpful
[01:31:23] <Luqman> what does the stack trace say?
[01:34:53] <tikue> Luqman: updated the gist
[01:37:13] *** Joins: sankha93 (Instantbir@CC8CDEEF.199B3CEE.EFB84E89.IP)
[01:42:42] *** Joins: lmandel (lmandel@moz-76CE9D51.cable.teksavvy.com)
[01:51:05] <tikue> ha, pinpointed the problem, but i'm just as befuddled as before
[01:51:17] <tikue> pub fn global_script_context() -> @ScriptTask {
[01:51:17] <tikue>     unsafe {
[01:51:19] <tikue>         local_data::local_data_get(global_script_context_key).get() // this fails
[01:51:20] <tikue>     }
[01:51:20] <tikue> }
[01:51:26] <tikue> from script/script_task.rs
[01:53:43] *** Quits: azakai (alon@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[01:53:57] <Luqman> so it seems like it's trying to get the global_script_context before it's been created/stashed in tls
[01:54:10] <Luqman> or being called from a different thread
[01:57:36] *** Joins: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP)
[01:57:36] <ghservo> 01[13servo01] 15bors-servo merged 06auto into 06master: 02http://git.io/o81TMA
[01:57:36] *** Parts: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP) ()
[01:57:37] *** Joins: ghservo (ghservo@F6EE6DE3.6A2AE50.F3114085.IP)
[01:57:38] <ghservo> [13servo] 15bors-servo closed pull request #576: Remove unused -z command line arg (06master...06master)  02http://git.io/DUd9pA
[01:57:38] *** Parts: ghservo (ghservo@F6EE6DE3.6A2AE50.F3114085.IP) ()
[02:00:19] <tikue> Luqman: yeah, so I'm pretty sure the problem is that, when parsing an iframe, a new task is spawned to recursively parse the iframe's url
[02:00:37] <tikue> Luqman: which happens without first creating a global_script_context
[02:08:34] <Luqman> tikue: ah
[02:08:56] *** Joins: dzbarsky (Adium@8F761026.B5EF4AF6.E96CA9D8.IP)
[02:09:36] <tikue> I'm not sure how to fix this without spawning a new script_task, though...
[02:11:19] *** Joins: mccr8 (mccr8@8F761026.B5EF4AF6.E96CA9D8.IP)
[02:12:24] *** Joins: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com)
[02:14:22] *** Joins: brendan (brendaneic@9EFD4BF3.615B56E6.43362C16.IP)
[02:27:30] *** Quits: mccr8 (mccr8@8F761026.B5EF4AF6.E96CA9D8.IP) (Quit: mccr8)
[02:28:18] *** Quits: seth (seth@moz-AEED5C00.hsd1.co.comcast.net) (Input/output error)
[02:39:52] *** Quits: brendan (brendaneic@9EFD4BF3.615B56E6.43362C16.IP) (Quit: brendan)
[02:43:44] *** Quits: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[02:50:24] *** Joins: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[03:01:34] *** Joins: jdm (jdm@moz-B566DF75.dsl.teksavvy.com)
[03:29:06] *** Quits: ysuzuki (ysuzuki@moz-36FBA934.net124047241.t-com.ne.jp) (Quit: Tiarra 0.1+svn-39209: SIGINT received; exit)
[03:29:32] *** Quits: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[03:29:49] *** Joins: ysuzuki (ysuzuki@moz-36FBA934.net124047241.t-com.ne.jp)
[03:33:41] *** Quits: tikue (tkuehn@moz-BBE3ABD.mv.mozilla.com) (Quit: tikue)
[03:33:44] *** Quits: eatkinson (eatkinson@moz-BBE3ABD.mv.mozilla.com) (Quit: eatkinson)
[03:34:19] *** Joins: eatkinson (eatkinson@moz-BBE3ABD.mv.mozilla.com)
[03:34:45] *** Quits: eatkinson (eatkinson@moz-BBE3ABD.mv.mozilla.com) (Quit: eatkinson)
[03:35:02] *** Quits: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com) (Quit: Jesse)
[03:38:58] *** Joins: seth (seth@moz-2C443A35.hsd1.co.comcast.net)
[03:41:35] *** Quits: seth (seth@moz-2C443A35.hsd1.co.comcast.net) (Ping timeout)
[03:44:45] *** Quits: reyre (reyre@moz-9002CDDA.cpe.net.cable.rogers.com) (Client exited)
[03:50:01] *** Joins: jet (jet@moz-79F891EE.hsd1.ca.comcast.net)
[03:57:43] *** Joins: ehsanul (irc@moz-A9E56CFE.hfc.comcastbusiness.net)
[03:58:49] *** Joins: reyre (reyre@moz-9002CDDA.cpe.net.cable.rogers.com)
[04:11:21] *** Quits: lmandel (lmandel@moz-76CE9D51.cable.teksavvy.com) (Quit: lmandel)
[04:18:57] *** Quits: reyre (reyre@moz-9002CDDA.cpe.net.cable.rogers.com) (Client exited)
[04:23:45] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[04:31:39] *** Joins: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[04:43:09] *** Quits: ehsanul (irc@moz-A9E56CFE.hfc.comcastbusiness.net) (Ping timeout)
[04:47:48] *** Joins: bjz_ (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[04:47:48] *** Quits: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[04:54:10] *** Quits: pcwalton (pcwalton@moz-BBE3ABD.mv.mozilla.com) (Quit: pcwalton)
[05:13:46] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[05:16:34] <jdm> tum tee tum
[05:18:22] *** Joins: Jesse (jruderman@moz-537BCF9.hsd1.ca.comcast.net)
[05:20:50] *** Joins: jensnockert (jensnocker@moz-C5F27039.cust.bredband2.com)
[05:27:55] *** Quits: nielsle (nielsle@moz-5CE8ECCD.boa.fiberby.dk) (Ping timeout)
[05:34:25] *** Quits: jet (jet@moz-79F891EE.hsd1.ca.comcast.net) (Quit: jet)
[05:40:21] *** Joins: nielsle (nielsle@moz-5CE8ECCD.boa.fiberby.dk)
[05:45:06] *** Joins: ehsanul (irc@moz-A9E56CFE.hfc.comcastbusiness.net)
[05:45:40] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[05:55:57] *** Quits: dzbarsky (Adium@8F761026.B5EF4AF6.E96CA9D8.IP) (Quit: Leaving.)
[06:11:54] *** Quits: passcod (passcod@moz-5BCF5019.passcod.name) (Ping timeout)
[06:12:06] *** Joins: passcod (passcod@moz-5BCF5019.passcod.name)
[06:19:27] *** Quits: bjz_ (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Quit: Leaving...)
[06:19:40] *** Quits: sankha93 (Instantbir@CC8CDEEF.199B3CEE.EFB84E89.IP) (Ping timeout)
[06:22:16] *** Quits: jensnockert (jensnocker@moz-C5F27039.cust.bredband2.com) (Connection reset by peer)
[06:24:50] *** Joins: jensnockert (jensnocker@moz-C5F27039.cust.bredband2.com)
[06:26:11] *** Quits: jensnockert (jensnocker@moz-C5F27039.cust.bredband2.com) (Input/output error)
[06:29:10] *** Joins: Debloper (debloper@moz-88FF8AE8.redhat.com)
[06:40:38] *** Joins: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[06:43:26] *** Quits: caitp- (caitp@moz-9FE842F.cpe.net.cable.rogers.com) (Quit: caitp-)
[06:49:09] *** Joins: sankha93 (Instantbir@412D51FB.785FD1AF.EFB84E89.IP)
[06:56:43] *** Quits: harth (heather@moz-3C999954.hsd1.ca.comcast.net) (Client exited)
[06:56:53] *** Quits: sankha93 (Instantbir@412D51FB.785FD1AF.EFB84E89.IP) (Ping timeout)
[06:57:07] *** Joins: harth (heather@moz-3C999954.hsd1.ca.comcast.net)
[06:58:55] *** Quits: harth (heather@moz-3C999954.hsd1.ca.comcast.net) (Ping timeout)
[07:00:46] *** Joins: sankha93 (Instantbir@412D51FB.785FD1AF.EFB84E89.IP)
[07:05:58] *** Quits: sankha93 (Instantbir@412D51FB.785FD1AF.EFB84E89.IP) (Ping timeout)
[07:09:36] *** Joins: sankha93 (Instantbir@109D15AF.3AAA1E63.EFB84E89.IP)
[07:11:45] *** Quits: sankha93 (Instantbir@109D15AF.3AAA1E63.EFB84E89.IP) (Ping timeout)
[07:20:14] *** Joins: sankha93 (Instantbir@3CE7EBFC.8ACFB64A.EFB84E89.IP)
[07:28:13] *** Quits: sankha93 (Instantbir@3CE7EBFC.8ACFB64A.EFB84E89.IP) (Ping timeout)
[07:40:20] *** Quits: ehsanul (irc@moz-A9E56CFE.hfc.comcastbusiness.net) (Ping timeout)
[07:55:39] *** Quits: jdm (jdm@moz-B566DF75.dsl.teksavvy.com) (Ping timeout)
[08:04:26] *** Joins: ehsanul (irc@moz-A9E56CFE.hfc.comcastbusiness.net)
[08:13:37] *** Quits: txdv (quassel@966F3542.3BA477DA.14C26596.IP) (Ping timeout)
[08:16:07] *** Joins: txdv (quassel@966F3542.3BA477DA.14C26596.IP)
[08:17:03] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[08:17:11] *** Joins: ghservo (ghservo@614D05BD.6A2AE50.F3114085.IP)
[08:17:11] <ghservo> [13rust-netsurfcss] 15ILyoan opened pull request #18: Use realloc to allocate memory used to save class names (06master...06realloc)  02http://git.io/e16ALA
[08:17:11] *** Parts: ghservo (ghservo@614D05BD.6A2AE50.F3114085.IP) ()
[08:26:14] *** Joins: victorporof (victorporo@74A9C5E8.1745F5FA.9B1E38F4.IP)
[08:28:02] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[08:37:37] *** Quits: Debloper (debloper@moz-88FF8AE8.redhat.com) (Quit: Leaving.)
[08:40:35] *** Quits: Diamond (dick@moz-C01E1CD1.ks.ks.cox.net) (Client exited)
[09:07:49] *** Joins: Adityab (Adityab@moz-E5DBE843.dip0.t-ipconnect.de)
[09:14:55] *** Joins: SimonSapin (simon@88F51059.F3BBB17D.144F44FA.IP)
[09:54:48] *** Quits: ehsanul (irc@moz-A9E56CFE.hfc.comcastbusiness.net) (Ping timeout)
[10:44:15] *** Joins: harth (heather@moz-3C999954.hsd1.ca.comcast.net)
[10:46:01] *** Quits: harth (heather@moz-3C999954.hsd1.ca.comcast.net) (Ping timeout)
[11:04:29] *** Quits: victorporof (victorporo@74A9C5E8.1745F5FA.9B1E38F4.IP) (Quit: victorporof)
[11:32:35] *** Quits: Adityab (Adityab@moz-E5DBE843.dip0.t-ipconnect.de) (Quit: Adityab)
[11:38:49] *** Joins: lmandel (lmandel@moz-76CE9D51.cable.teksavvy.com)
[11:43:44] *** Quits: lmandel (lmandel@moz-76CE9D51.cable.teksavvy.com) (Quit: lmandel)
[11:51:14] *** Joins: caitp- (caitp@moz-9FE842F.cpe.net.cable.rogers.com)
[12:06:54] *** Joins: Adityab (Adityab@moz-E5DBE843.dip0.t-ipconnect.de)
[12:14:58] *** bhearsum|afk is now known as bhearsum
[12:18:26] *** Quits: robertknight (robertknig@moz-54528EE0.wby.mendeley.com) (Quit: Computer has gone to sleep.)
[12:29:03] *** Joins: victorporof (victorporo@58682299.183F338A.6A4F8DA2.IP)
[12:55:32] *** Joins: ehsanul (irc@moz-D1FFCC4A.hsd1.ca.comcast.net)
[13:01:08] *** Quits: Jesse (jruderman@moz-537BCF9.hsd1.ca.comcast.net) (Connection reset by peer)
[13:02:57] *** Joins: robertknight (robertknig@moz-54528EE0.wby.mendeley.com)
[13:18:14] *** Joins: sankha93 (Instantbir@BDB5E925.8ACFB64A.EFB84E89.IP)
[13:23:14] *** Joins: mccr8 (mccr8@F2D29657.F60B0462.67AC9B1.IP)
[13:30:54] *** Quits: Houm (Houm@moz-25669AA8.fbx.proxad.net) (Ping timeout)
[13:32:02] *** Joins: Houm (Houm@moz-25669AA8.fbx.proxad.net)
[13:40:46] *** Joins: ghservo (ghservo@5FEF1C87.6A2AE50.F3114085.IP)
[13:40:46] <ghservo> [13servo] 15jdm opened pull request #577: Autogenerate list of prototypes and code to register DOM bindings (06master...06autogen)  02http://git.io/91OpMQ
[13:40:46] *** Parts: ghservo (ghservo@5FEF1C87.6A2AE50.F3114085.IP) ()
[13:40:50] *** Joins: ghservo (ghservo@5FEF1C87.6A2AE50.F3114085.IP)
[13:40:51] <ghservo> 01[13rust-netsurfcss01] 15metajack pushed 2 new commits to 06master: 02http://git.io/xAW52w
[13:40:51] <ghservo> 13rust-netsurfcss/06master 140557d83 15Ilyong Cho: Use realloc to allocate memory so that it sync with allocator on css select context
[13:40:51] <ghservo> 13rust-netsurfcss/06master 1463860cb 15Jack Moffitt: Merge pull request #18 from ILyoan/realloc...
[13:40:51] *** Parts: ghservo (ghservo@5FEF1C87.6A2AE50.F3114085.IP) ()
[13:42:05] *** Joins: reyre (reyre@86C3727C.33EE9F8A.1139E686.IP)
[13:45:52] *** Quits: mccr8 (mccr8@F2D29657.F60B0462.67AC9B1.IP) (Ping timeout)
[13:50:56] *** Joins: dzbarsky (Adium@F2D29657.F60B0462.67AC9B1.IP)
[13:59:32] *** Quits: caitp- (caitp@moz-9FE842F.cpe.net.cable.rogers.com) (Quit: caitp-)
[13:59:50] *** Joins: caitp- (caitp@moz-9FE842F.cpe.net.cable.rogers.com)
[14:08:55] *** Joins: mccr8 (mccr8@F2D29657.F60B0462.67AC9B1.IP)
[14:12:25] *** Joins: lmandel (lmandel@F2D29657.F60B0462.67AC9B1.IP)
[14:13:03] *** Joins: jdm (jdm@F2D29657.F60B0462.67AC9B1.IP)
[14:45:03] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[15:17:58] *** Joins: jensnockert (jensnocker@moz-C5F27039.cust.bredband2.com)
[15:26:55] *** Quits: jensnockert (jensnocker@moz-C5F27039.cust.bredband2.com) (Input/output error)
[15:54:40] *** Joins: eholk (eholk@moz-ACB08D8D.uconnect.utah.edu)
[16:03:09] *** Quits: caitp- (caitp@moz-9FE842F.cpe.net.cable.rogers.com) (Quit: caitp-)
[16:03:10] *** Joins: harth (heather@moz-3C999954.hsd1.ca.comcast.net)
[16:04:30] *** Joins: jensnockert (jensnocker@moz-C5F27039.cust.bredband2.com)
[16:06:05] *** Joins: jet (jet@moz-BE33DA21.fw1.sfo1.mozilla.net)
[16:16:15] *** Joins: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com)
[16:28:33] *** Quits: robertknight (robertknig@moz-54528EE0.wby.mendeley.com) (Quit: Computer has gone to sleep.)
[16:29:05] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[16:32:36] *** Quits: victorporof (victorporo@58682299.183F338A.6A4F8DA2.IP) (Quit: victorporof)
[16:33:28] *** Joins: caitp- (caitp@moz-9FE842F.cpe.net.cable.rogers.com)
[16:35:23] *** Joins: tjc (tjc@moz-BBE3ABD.mv.mozilla.com)
[16:35:59] *** Quits: caitp- (caitp@moz-9FE842F.cpe.net.cable.rogers.com) (Ping timeout)
[16:47:45] *** Joins: eschweic (Adium@moz-BBE3ABD.mv.mozilla.com)
[16:47:57] *** Quits: yong (chatzilla@74DA0C97.4E87ADC2.263D9828.IP) (Client exited)
[16:48:24] *** Joins: pcwalton (pcwalton@moz-BBE3ABD.mv.mozilla.com)
[16:53:08] *** Joins: pwalton (pcwalton@moz-7B0110AD.mv.mozilla.com)
[16:53:30] *** Joins: victorporof (victorporo@74A9C5E8.1745F5FA.9B1E38F4.IP)
[16:53:57] *** Quits: pcwalton (pcwalton@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[16:53:58] *** pwalton is now known as pcwalton
[16:54:31] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[16:54:31] *** ChanServ sets mode: +qo dherman dherman
[16:55:16] <kmc> hm, I did a pull + submodule update + configure and now make gives me:
[16:55:16] <kmc> servo/src/support/layers/rust-layers/layers.rc:1:0: 1:0 error: can't find crate for `std`
[16:55:19] <kmc> servo/src/support/layers/rust-layers/layers.rc:1 // Copyright 2013 The Servo Project Developers. See the COPYRIGHT
[16:55:44] *** Quits: ehsanul (irc@moz-D1FFCC4A.hsd1.ca.comcast.net) (Ping timeout)
[16:55:49] <jack> that's what SimonSapin was getting yesterday.
[16:56:01] <jack> does git status show all the submodule pointers pointing to the right places?
[16:56:11] <SimonSapin> kmc: removing the whole build directory fixed it for me
[16:56:18] * kmc scrolls up
[16:56:47] <kmc> git status shows nothing to commit (working directory clean)
[16:58:05] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[17:00:45] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[17:05:22] <jack> kmc: perhaps something isn't getting deleted during clean. try doing `make clean` and then looking at what build products remain under build/src
[17:05:36] <kmc> oh I didn't explicitly do a make clean before
[17:06:28] *** Joins: mccr8_ (mccr8@F2D29657.F60B0462.67AC9B1.IP)
[17:06:32] *** Quits: SimonSapin (simon@88F51059.F3BBB17D.144F44FA.IP) (Quit: Leaving.)
[17:06:35] *** Quits: mccr8 (mccr8@F2D29657.F60B0462.67AC9B1.IP) (Ping timeout)
[17:06:49] *** mccr8_ is now known as mccr8
[17:10:13] *** Quits: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com) (Quit: brendan)
[17:11:52] *** Quits: jensnockert (jensnocker@moz-C5F27039.cust.bredband2.com) (Input/output error)
[17:13:58] *** Joins: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com)
[17:23:53] *** Joins: caitp- (caitp@moz-9FE842F.cpe.net.cable.rogers.com)
[17:25:55] *** Quits: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com) (Quit: pcwalton)
[17:32:26] *** Joins: pcwalton (pcwalton@moz-BBE3ABD.mv.mozilla.com)
[17:33:37] *** Joins: azakai (alon@moz-BBE3ABD.mv.mozilla.com)
[17:33:45] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[17:35:06] <kmc> there are still a bunch of .o files under build/src after make clean, mostly nss and llvm but some others
[17:35:12] <kmc> would it be useful for me to pastebin the full list?
[17:35:24] <jack> nss and llvm are fine
[17:35:25] *** Joins: SimonSapin (simon@88F51059.F3BBB17D.144F44FA.IP)
[17:35:27] <kmc> i don't see anything about rust-layers, though
[17:35:42] <jack> you dont' want any under src/support/layers for example
[17:35:55] <kmc> it's just compiler/rust support/hubbub support/libparserutils support/nss
[17:40:44] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[17:43:04] <jack> that seems fine
[17:43:11] <jack> you still get that compile error?
[17:43:24] <kmc> no I get a different one :(
[17:43:50] <jack> oh, maybe you need to rerun configure `../configure --disable-manage-submodules`
[17:44:07] <kmc> seems i have two different files of the form build/src/components/msg/libmsg-[blah]-0.1.so now
[17:44:21] <kmc> even though there was no components/msg immediately after make clean
[17:44:27] <jack> and those dont' get deleted by `make clean-servo`?
[17:44:40] <jack> i coudl have sworn i fixed that
[17:45:02] <kmc> they don't
[17:45:10] <kmc> should I open a ticket about that?
[17:45:17] <jack> yes. i think there was one you can reopen
[17:45:36] <jack> should be an easy fix. in the meantime use find and nuke anything under src/components
[17:45:55] <kmc> https://github.com/mozilla/servo/issues/434 ?
[17:46:03] <kmc> I think at this point I'll just blow away build/
[17:46:06] *** dherman is now known as dherman-brb
[17:48:57] <kmc> make shows that it's running  cd /home/keegan/proj/servo/servo/build//src/components/msg/ && rm -rf libmsg*.{dylib,so} /home/keegan/proj/servo/servo/build/src/components/msg/libmsg.dummy
[17:49:11] <kmc> but that command works when I run it myself
[17:49:14] <jack> is that not correct syntax for picking both dylib and so?
[17:49:21] <kmc> I think it is
[17:49:23] <jack> i wonder if it's being escaped or something
[17:49:59] *** Quits: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com) (Quit: brendan)
[17:50:07] <jack> kmc: instead of blowing away build, just blow away build/src/components/ and build/src/support. that way you wont' have to rebuild rust and llvm. probablyneed to rerun configure though to create any needed dirs before building again
[17:50:19] <kmc> ok
[17:52:44] <kmc> ah it's correct bash syntax but not POSIX sh
[17:53:03] <kmc> and I'm on Debian where sh is dash, I think
[17:53:12] <kmc> i'll submit a PR
[17:56:54] *** Joins: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com)
[17:57:07] *** dherman-brb is now known as dherman
[18:01:10] *** Joins: eatkinson (eatkinson@moz-BBE3ABD.mv.mozilla.com)
[18:04:37] *** Quits: Adityab (Adityab@moz-E5DBE843.dip0.t-ipconnect.de) (Quit: Adityab)
[18:07:46] *** Joins: ghservo (ghservo@DE823A67.6A2AE50.F3114085.IP)
[18:07:46] <ghservo> [13servo] 15kmcallister opened pull request #578: Fix silent failure of make clean-servo (06master...06clean)  02http://git.io/-eRt6Q
[18:07:46] *** Parts: ghservo (ghservo@DE823A67.6A2AE50.F3114085.IP) ()
[18:09:29] *** Quits: SimonSapin (simon@88F51059.F3BBB17D.144F44FA.IP) (Ping timeout)
[18:11:18] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[18:12:43] *** Joins: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP)
[18:12:43] <ghservo> 01[13servo01] 15bors-servo pushed 0 new commits to 06auto: 02http://git.io/KfTaOA
[18:12:43] *** Parts: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP) ()
[18:13:28] *** Quits: pcwalton (pcwalton@moz-BBE3ABD.mv.mozilla.com) (Quit: pcwalton)
[18:14:13] *** Joins: pcwalton (pcwalton@moz-BBE3ABD.mv.mozilla.com)
[18:16:03] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[18:16:32] *** Quits: sankha93 (Instantbir@BDB5E925.8ACFB64A.EFB84E89.IP) (Ping timeout)
[18:23:46] *** Joins: ehsanul (irc@moz-A9E56CFE.hfc.comcastbusiness.net)
[18:41:01] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[18:41:33] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[18:49:54] *** Joins: ghservo (ghservo@E7A4CCE2.6A2AE50.F3114085.IP)
[18:49:55] <ghservo> [13servo] 15kmcallister opened issue #579: Back navigation doesn't work the first time  02http://git.io/YzRcuQ
[18:49:55] *** Parts: ghservo (ghservo@E7A4CCE2.6A2AE50.F3114085.IP) ()
[18:50:08] *** Joins: tikue (tkuehn@moz-BBE3ABD.mv.mozilla.com)
[18:51:29] *** Quits: victorporof (victorporo@74A9C5E8.1745F5FA.9B1E38F4.IP) (Quit: victorporof)
[18:51:40] *** Joins: ghservo (ghservo@5FEF1C87.6A2AE50.F3114085.IP)
[18:51:40] <ghservo> 01[13servo01] 15bors-servo merged 06auto into 06master: 02http://git.io/k0FA2A
[18:51:40] *** Parts: ghservo (ghservo@5FEF1C87.6A2AE50.F3114085.IP) ()
[18:58:12] <tikue> kmc: back navigation works for me the first click. I'm not able to reproduce the bug 
[18:58:55] <kmc> hm, what additional information do you think I should include
[18:59:16] <tikue> kmc: can you run it with RUST_LOG=servo::constellation
[18:59:40] <tikue> kmc: I see something like this:
[18:59:41] <tikue> host-7-125:build tkuehn$ RUST_LOG=servo::constellation ./servo http://google.com
[18:59:41] <tikue> rust: ~"received message to navigate Back"
[18:59:42] <tikue> rust: ~"previous: ~[] next: ~[1] current: Some(0)"
[18:59:43] <tikue> rust: ~"navigating to pipeline 0"
[18:59:53] <kmc> http://pastebin.mozilla.org/2621046 results of the two navigations, first unsuccessful, second successful
[19:00:27] <kmc> oh I should attach that to the ticket
[19:00:28] <tikue> ok, so that's weird
[19:00:39] <tikue> somehow the current pipeline is getting dup'd
[19:00:46] <tikue> that's bad
[19:01:03] <tikue> but I don't know why I don't see thatâ€¦this is just running on master, right?
[19:01:27] <kmc> yeah
[19:02:44] *** Joins: yong (chatzilla@74DA0C97.4E87ADC2.263D9828.IP)
[19:13:13] *** Joins: ghservo (ghservo@C621748.6A2AE50.F3114085.IP)
[19:13:13] <ghservo> [13servo] 15jdm closed issue #519: check-content target is broken  02http://git.io/D7HdsQ
[19:13:13] *** Parts: ghservo (ghservo@C621748.6A2AE50.F3114085.IP) ()
[19:18:06] *** Joins: robertknight (robertknig@moz-54528EE0.wby.mendeley.com)
[19:19:37] *** Quits: jet (jet@moz-BE33DA21.fw1.sfo1.mozilla.net) (Quit: jet)
[19:19:40] *** Joins: victorporof (victorporo@74A9C5E8.1745F5FA.9B1E38F4.IP)
[19:19:46] <tikue> gah, had to recompile rust because I was on a pre-0.7 branch
[19:20:18] <jdm> ouch
[19:22:14] <tikue> ok, now I can reproduce the bug
[19:22:39] <tikue> I had a bug like this before I committed this code, but it was fixed before the prâ€¦not sure how this is happening now
[19:28:05] <jack> might be just a rebase gone awry or a merge error
[19:28:44] <tikue> jack: I think it's a bit more nefarious
[19:29:01] <tikue> jack: I think it only happens when initially loading a page, which is why it's not duplicating any of the other navigation history
[19:29:54] <tikue> hm. It's only happening on the first link click 
[19:29:56] <tikue> that's so random
[19:30:21] <tikue> oh wow
[19:30:24] <tikue> and it only happens on google.com
[19:30:32] <tikue> or at least, it doesn't happen on every first link clicked
[19:34:13] <tikue> hey guys, is there any good reason why we're not using extra::net::url::from_str to parse urls?
[19:34:59] <tikue> oh nvm, we are 
[19:36:19] <jack> tikue: it might not have existed at the time :)
[19:36:35] <tikue> jack: it is being used actually. I didn't read the code closely
[19:40:36] <jdm> rargh
[19:40:43] <jdm> down the rabbit hole of fixing rust bugs
[19:40:52] <jack> jdm: ?
[19:40:55] <jdm> constant evaluation is so fragile
[19:41:23] <cmr> yes it is
[19:41:27] *** Joins: olsonjeffery (pf@moz-9E9CF15C.members.linode.com)
[19:41:33] <cmr> I had to poke at it a bit to get #[static_assert]
[19:41:34] <jdm> jack: I'm trying to allow stuff like |enum Foo { Bar = 1 }; let v = [0, .. Bar];|
[19:41:41] <jdm> I fixed that case
[19:41:50] <cmr> at least I only had to touch `static` items, which are fairly sane
[19:41:54] <jdm> but there are totally different codepaths for static constants
[19:42:01] <jdm> and for static constants in types
[19:42:24] <jdm> and for statics that refer to enum constants
[19:42:31] <jdm> it's a giant tangled web
[19:42:33] <jack> jdm: is this needed for rust-mozjs?
[19:42:41] <tikue> jdm: oh damn that'd be helpful for my profiler
[19:43:01] <jdm> jack: it's not _needed_, but I'd like to remove the hardcoded length of a fixed array in the dom bindings
[19:43:09] <jdm> because it changes every time I add a new binding, and I always forget to update it
[19:43:32] <jack> jdm, tikue: same is true if you add profiler categories
[19:44:02] *** Quits: eschweic (Adium@moz-BBE3ABD.mv.mozilla.com) (Quit: Leaving.)
[19:44:05] <tikue> jack: yeah, that's what I was referring to. I have a fixme for that ;) would be awesome to not have to change the static int NUM_CATEGORIES every time
[19:44:17] <jdm> ok, that gives me more impetus to keep banging away at this
[19:44:21] <jdm> I'm going to go for a shortcut
[19:46:40] <tikue> jdm: would your stuff allow for enum Foo { Bar, Baz, NUM_FOOS }; static num_foos: uint = NUM_FOOS as uint;
[19:47:09] <jdm> tikue: that's actually what I'm banging my head against right now
[19:47:21] <jdm> in that num_foos builds fine, but things that use num_foos cause ICEs :)
[19:47:35] <tikue> jdm: ahh. well I'm rooting for you :D
[19:52:41] *** Quits: eatkinson (eatkinson@moz-BBE3ABD.mv.mozilla.com) (Quit: eatkinson)
[19:58:01] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[19:59:46] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[19:59:46] <tikue> it looks like the script task is receiving two ReflowCompleteMsgs 
[19:59:51] <tikue> when it should only be receiving one
[20:01:45] *** Joins: jet (jet@moz-BE33DA21.fw1.sfo1.mozilla.net)
[20:02:14] <jack> tikue: r? https://github.com/mozilla/servo/pull/569
[20:03:01] <tikue> haha what is pub fn check_loop
[20:03:22] *** Quits: tjc (tjc@moz-BBE3ABD.mv.mozilla.com) (Quit: zzzzzzzzzz)
[20:04:10] <tikue> why does it just return false
[20:05:02] <cmr> tikue: that's the halting problem solver ;p
[20:05:14] <tikue> lol
[20:05:26] *** Joins: ghservo (ghservo@2EE61FCC.6A2AE50.F3114085.IP)
[20:05:26] <ghservo> [13servo] 15metajack synchronize pull request #552: Add detection for page loads. (06master...06detect-page-loaded)  02http://git.io/eM3Dug
[20:05:26] *** Parts: ghservo (ghservo@2EE61FCC.6A2AE50.F3114085.IP) ()
[20:05:46] <jdm> woohoo
[20:05:52] <jdm> ok, the common cases work now
[20:05:56] <jack> tikue: check_loop was what the glut library called a single iteration of it's event handling loop
[20:06:02] <jack> the name made it into the trait
[20:06:24] *** Joins: ghservo (ghservo@F6EE6DE3.6A2AE50.F3114085.IP)
[20:06:25] <ghservo> [13servo] 15tkuehn closed pull request #569: Add support for closing the window with window chrome or escape key. (06master...06glfw-close)  02http://git.io/5aeD8Q
[20:06:25] *** Parts: ghservo (ghservo@F6EE6DE3.6A2AE50.F3114085.IP) ()
[20:06:26] *** Joins: ghservo (ghservo@C621748.6A2AE50.F3114085.IP)
[20:06:26] <ghservo> 01[13servo01] 15tkuehn pushed 2 new commits to 06master: 02http://git.io/B35qQg
[20:06:26] <ghservo> 13servo/06master 1425385e7 15Jack Moffitt: Add support for closing the window with window chrome or escape key.
[20:06:26] <ghservo> 13servo/06master 14c82be59 15Tim: Merge pull request #569 from metajack/glfw-close...
[20:06:26] *** Parts: ghservo (ghservo@C621748.6A2AE50.F3114085.IP) ()
[20:06:28] <jdm> named constants in the repeated length of static vectors is still broken, as is named constants in the type declaration of fixed-length vectors
[20:06:38] <jack> tikue: whoops :)
[20:06:53] <jack> tikue: i think you meant to do r+ :)
[20:06:55] <tikue> jack: oh i thought that was a submodule
[20:06:59] <tikue> my bad
[20:07:33] <jack> now if hte build is broken it will be my fault :)
[20:07:47] <tikue> we both know whose fault it will be
[20:08:31] <tikue> kmc: found the bugâ€¦kind of.
[20:09:32] <tikue> kmc: for some reason the script task is getting multiple reflow complete msgs, so it's sending multiple renderer ready msgs to the constellation. Normally this wouldn't cause a problem (even though I'm a bit worried that it's getting multiple reflow complete msgs), but the constellation wasn't removing the pipeline's id from next_painter, so it was able to successfully make multiple requests
[20:10:35] <kmc> ok
[20:14:12] *** Joins: eschweic (Adium@moz-BBE3ABD.mv.mozilla.com)
[20:17:51] <kmc> maybe I should try to track this down, as a way of becoming more familiar with all these tasks and the messages they send etc.
[20:18:11] <tikue> kmc: I just fixed it
[20:18:15] <tikue> kmc: putting in a pr now
[20:18:17] <kmc> oh heh
[20:18:29] <kmc> did you fix the id removal or also the multiple ready messages
[20:18:52] <tikue> kmc: I just fixed the id removal. Feel free to try to find out why the layout task is sending multiple ReflowCompleteMsgs to the script task
[20:19:30] <kmc> ok
[20:19:59] *** Quits: eschweic (Adium@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[20:20:10] <tikue> jack: how do I reference an issue in a pr
[20:21:46] <jdm> tikue: for referencing, just throw a #NNN in there.
[20:21:53] <jdm> tikue: for auto closing, use "Fixes #NNN"
[20:22:07] <tikue> ok
[20:22:10] <tikue> thanks!
[20:22:33] *** Joins: askalski (akuda@2BA4E5A7.CC7751E8.6712E96B.IP)
[20:22:53] *** Joins: ghservo (ghservo@79968228.6A2AE50.F3114085.IP)
[20:22:53] <ghservo> [13servo] 15tkuehn opened pull request #580: Beginnings of iframe handling and navigation bug fix (06master...06master)  02http://git.io/aFTYmg
[20:22:53] *** Parts: ghservo (ghservo@79968228.6A2AE50.F3114085.IP) ()
[20:27:33] <tikue> kmc: I'm curious to discover what causes that problem only on some websites. For reference, http://en.wikipedia.org/wiki/Main_Page, if you click on a link, doesn't cause the duplicate load
[20:28:32] <kmc> for me on that URL, a bunch of tasks fail and then it segfaults :<
[20:29:07] <tikue> haha really? strange. I don't have any problems on master
[20:29:21] *** Quits: askalski (akuda@2BA4E5A7.CC7751E8.6712E96B.IP) (Quit: Wychodzi)
[20:30:22] *** Joins: askalski (akuda@2BA4E5A7.CC7751E8.6712E96B.IP)
[20:30:38] <jack> probably some linux thing.
[20:30:41] <jack> not finding fonts?
[20:32:00] <kmc> yeah could be
[20:32:02] <jack> kmc: is there an assert about fonts.len() > 0?
[20:32:05] <kmc> I already installed MS core fonts though
[20:32:12] <kmc> rust: task failed at 'assertion failed: i < self.entry_buffer.len()', /home/keegan/proj/servo/servo/src/components/gfx/text/glyph.rs:547
[20:32:23] <kmc> could be it?L
[20:32:38] <jack> i've not seen that one before.
[20:32:52] <jdm> me either
[20:33:13] *** Quits: askalski (akuda@2BA4E5A7.CC7751E8.6712E96B.IP) (Quit: Wychodzi)
[20:33:29] <kmc> ok I'll investigate.
[20:33:30] <jack> tikue: does your profiler work without giving it a closure to time? can i have a start and a stop message sent instead?
[20:33:42] <jack> (the thing i want to time is not in the same call stack
[20:34:48] <tikue> jack: it doesn't currently support that, but it seems like an easy thing to add. perhaps just use the particular profiler category to identify if it's the correct stop to pair with the start?
[20:35:00] <tikue> jack: i could put in a patch for that
[20:38:58] <jack> can you file a bug for it? i dont' need it immediately, but it would be nice for https://github.com/mozilla/servo/pull/552
[20:39:45] <tikue> jack: yep sure
[20:41:33] *** bhearsum is now known as bhearsum|afk
[20:43:23] *** Quits: reyre (reyre@86C3727C.33EE9F8A.1139E686.IP) (Client exited)
[20:44:42] *** Joins: ghservo (ghservo@DE823A67.6A2AE50.F3114085.IP)
[20:44:42] <ghservo> [13servo] 15tkuehn opened issue #581: Add profiler support for start and stop messages in addition to closure passing.  02http://git.io/ImO3XQ
[20:44:42] *** Parts: ghservo (ghservo@DE823A67.6A2AE50.F3114085.IP) ()
[20:46:23] *** Joins: eatkinson (eatkinson@moz-BBE3ABD.mv.mozilla.com)
[20:46:27] *** Joins: eschweic (Adium@moz-BBE3ABD.mv.mozilla.com)
[20:46:45] *** Joins: tjc (tjc@moz-BBE3ABD.mv.mozilla.com)
[20:47:47] <tikue> jdm: what do you see as the hierarchy between script task and page? will a page represent one single url, such that any iframes within a page would have separate page structs?
[20:48:14] <tikue> in which case a page can only have one associated script but a script can have multiple associated pages
[20:49:50] <tikue> sorry I overloaded the term page just there
[20:51:25] <jdm> hee hee
[20:52:11] <jdm> tikue: perhaps script tasks could be 1:1 with origins
[20:53:09] <jdm> but yes, I envision one Page per |window| object
[20:53:18] <jdm> so each iframe is a Page
[20:53:44] *** Quits: Houm (Houm@moz-25669AA8.fbx.proxad.net) (Ping timeout)
[20:54:34] <jdm> however, doing the origin thing suggests that history should not reside within the script task
[20:54:37] *** Joins: Houm (Houm@moz-25669AA8.fbx.proxad.net)
[20:54:47] <jdm> and we need an abstraction above that
[20:59:36] <tikue> jdm: right, constellation is where history currently resides. I think it's right to be there
[20:59:42] <jdm> ah, yes
[20:59:48] <jdm> that sounds right, just misremembering in that case
[20:59:48] <tikue> jdm: interestingly, none of the major browsers store iframe history
[21:00:00] <Yoric> We do, don't we?
[21:00:07] <jdm> tikue: how are you testing that? I know I've used backspace to go back in an iframe
[21:00:08] <Yoric> At least in session restore.
[21:00:16] <tikue> Yoric: yes you can go back and forward in iframes
[21:00:19] <tikue> jdm: ^
[21:00:31] <Yoric> That's actually one of the reasons for which Session Restore takes so much space.
[21:00:42] <tikue> Yoric: but it's not stored in the page history, and the forward/back navigation doesn't store iframe information, even though it allows you to navigtate them
[21:00:49] <Yoric> ok
[21:01:18] *** Quits: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com) (Quit: brendan)
[21:01:30] <tikue> Yoric: it just shows information about the parent page in the forward/back, so if you're on a page and clicking links in iframes it just looks like "parent page, parent page, parent page, parent page..."
[21:03:55] <tikue> jdm: but I'm not sure what the right abstraction is to represent thisâ€¦if you're navigating some iframe, where does that history get stored? the fact that it's not stored in browser history but still accessible makes me think that we should do something like store proxy pages in the constellation, and have the script tasks store the full iframe navigation context
[21:04:15] <jack> tikue: I think that's a UI feature. you probably wouldn't be able to make sense of the history otherwise.
[21:04:52] <tikue> jack: ah, yeah, good point. that's got to be right
[21:05:07] <jack> tikue: but i don't think that should make a difference for you. you can store the real history and the UI can worry about what to present to the user
[21:05:10] <tikue> jack: but why wouldn't the iframe pages be stored in the history? (overall history I mean, not bf navigation history)
[21:05:13] *** Joins: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com)
[21:05:15] <jdm> I agree with jack
[21:05:53] <jdm> tikue: because you don't want your history showing all of the embedded ads that were on the pages you actually visited :)
[21:06:09] <tikue> jdm: wow, good point. 
[21:06:14] <jdm> the history the UI shows reflects the pages the user chose to visit
[21:06:26] <tikue> jdm: you can choose to click on links in iframes :)
[21:07:41] <jack> check out this error: https://gist.github.com/metajack/5979261
[21:08:01] <tikue> jack: â€¦. wot
[21:08:01] <jdm> that's fun
[21:08:07] <jack> i think the actual error is that BackendType doesn't derive clone
[21:08:15] <jack> but the span is crazy wrong
[21:08:23] <jack> and the error message makes no sense
[21:12:25] *** Joins: gandalf (zbraniecki@moz-BE33DA21.fw1.sfo1.mozilla.net)
[21:15:23] <tikue> jack, jdm, pcwalton, or anyone else who might know the definitive answer to this question: if you're on a webpage, and you click or enter a url to a new page on the same origin, I understand that this new page will be running on a different js runtime than the original page. now, if you're on a webpage that has a same-origin iframe, the parent frame and the iframe originally share the js runtime. but what happens if you navigate within that iframe t
[21:15:24] <tikue> another same-origin webpage? If it follows what happens with regular frames, it would then have to run on a new js runtime?
[21:15:26] <tikue> sorry for wall of text
[21:16:00] <pcwalton> tikue: yeah, it needs a new js runtime.
[21:16:24] <tikue> pcwalton: that's awesome actually
[21:16:51] <tikue> that means that, for any iframe, there will be at most one page that needs to run on the same script as the parent frame
[21:16:59] *** Joins: ghservo (ghservo@5FEF1C87.6A2AE50.F3114085.IP)
[21:16:59] <ghservo> [13rust-azure] 15metajack opened pull request #37: Add clone to BackendType. (06master...06backend-clone)  02http://git.io/18zmsQ
[21:16:59] *** Parts: ghservo (ghservo@5FEF1C87.6A2AE50.F3114085.IP) ()
[21:17:02] <jack> r? ^
[21:17:05] <tikue> which means for html-embedded iframes, at least, you can determine all that at parse time
[21:17:24] *** Joins: ghservo (ghservo@C8693FCB.6A2AE50.F3114085.IP)
[21:17:24] <ghservo> [13rust-azure] 15pcwalton closed pull request #37: Add clone to BackendType. (06master...06backend-clone)  02http://git.io/18zmsQ
[21:17:24] *** Parts: ghservo (ghservo@C8693FCB.6A2AE50.F3114085.IP) ()
[21:18:05] <jack> pcwalton: what do i need to fulfill Send?
[21:18:27] <jdm> pcwalton: I'm banging my head against the lang item collection phase while trying to make |struct Foo { bar: [uint, SomeEnum as uint] }| work
[21:18:44] <jack> pcwalton: nm. i bet it's because it's a borrowed pointer.
[21:18:49] <pcwalton> jack: you should automatically fulfill it unless..yeah
[21:18:55] <pcwalton> borrowed pointers don't. unless they're 'static
[21:19:02] <jdm> the problem is that the ast_ty_to_ty stuff wants to get a fixed length, but we haven't typechecked the expression
[21:19:04] <pcwalton> jdm: lang item collection? weird. what's the error?
[21:19:15] <jdm> so we get a node_id_to_ty failure
[21:19:38] <pcwalton> in lang item collection?
[21:19:39] <jdm> and whoops, [uint, .. SomeEnum as uint]
[21:19:57] <jdm> pcwalton: yes, we collect the field, try to convert it and call into const_eval
[21:20:07] <jdm> at which point we try to get the type of the expression and fall over
[21:20:10] <pcwalton> I thought lang item collection basically was just searching for attributes on top level items
[21:20:17] <pcwalton> i.e. wasn't involved with typeck
[21:20:25] <jdm> pcwalton: maybe I have the wrong phase name.
[21:20:29] <jdm> anyways, typeck::collect
[21:20:34] <pcwalton> oh, tat
[21:20:36] <pcwalton> that
[21:20:47] <pcwalton> I think you will need to topologically sort or something
[21:20:56] <pcwalton> or make sure you don't try to collect anything that depends on a type
[21:21:05] <pcwalton> until you've collected/astconv'd that type
[21:21:09] <jack> since when to &-ptsr implement clone?
[21:21:19] <pcwalton> jack: since a while ago :)
[21:21:20] <jack> s/to/do/
[21:21:20] <jdm> sounds intimidating
[21:21:44] <jack> pcwalton: is that good? it means it's almost always trying to clone &Foo instead of Foo
[21:21:46] <pcwalton> it may be painful, yeah
[21:21:57] <pcwalton> jack: well, usually shallow clone is what you want for borrowed pointers
[21:22:02] <pcwalton> but the error message is not good
[21:22:08] <pcwalton> when you forgot to implement Clone on a subtype
[21:22:25] <jack> no, i get: error: mismatched types: expected `&gfx::opts::Opts` but found `gfx::opts::Opts` (expected &-ptr but found struct gfx::opts::Opts)
[21:22:49] <jack> oh, nm. i misread it
[21:22:49] <pcwalton> jack: in what context?
[21:22:53] <pcwalton> ok
[21:22:54] <jack> that error is actualy helpful :)
[21:23:34] <kmc> jack, jdm: I have a minimal reproducer for that glyph store crash; will investigate more and open a ticket if I don't solve it right away
[21:23:51] <jack> kmc: perfect
[21:23:56] <jdm> pcwalton: so I think this is more than a sorting problem; I think I need to delay collecting some items until we typecheck certain things :(
[21:24:06] <pcwalton> right
[21:24:27] <jack> what do you guys think about having a crash party for the Servo hack week? we just fix crashes in web pages ;)
[21:24:32] <kmc> sneak preview: base64 -d <<<PGh0bWw+PGhlYWQ+PG1ldGEgY2hhcnNldD0iVVRGLTgiPjwvaGVhZD48Ym9keT7gpoXgprjgpq7gp4Dgpq/gprzgpr48L2JvZHk+PC9odG1sPgo= > /tmp/foo.html && ./servo /tmp/foo.html
[21:24:38] <jdm> jack: servo hack week what?
[21:24:51] <jack> jdm: when we have one i mean. :)
[21:24:52] *** Quits: azakai (alon@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[21:25:44] <tikue> jack: I want to be a part of servo hack week D:
[21:26:16] *** Joins: Jesse (jruderman@moz-537BCF9.hsd1.ca.comcast.net)
[21:27:05] *** dherman is now known as dherman-spec-spec-spec
[21:27:09] <jack> tikue: is that true even if you're back at school?
[21:27:56] <tikue> jack: the sad face was to imply the difficulty in taking part once back at school
[21:28:50] *** Quits: tjc (tjc@moz-BBE3ABD.mv.mozilla.com) (Quit: zzzzzzzzzz)
[21:30:05] <tikue> jack: however, if you wait til mid december to do it...!
[21:30:42] <jack> tikue: there will be more than one :)
[21:31:16] <tikue> jdm: I've got an initial concept for the page abstractions. I'm sure there are a lot of things wrong about it. :) when you have a moment, I'd very much appreciate your feedback. https://gist.github.com/tkuehn/becfdd332d3c162f625e
[21:31:26] <jdm> sure thing!
[21:31:29] <jack> sweet. i have exit after load working.
[21:31:41] <jack> but of course, that just makes that scripttask segfault worse :)
[21:31:44] <jdm> haha
[21:33:04] <jdm> tikue: so the js_context is going to need to be per-Page
[21:33:17] <jdm> that's where the bindings are defined, etc.
[21:33:34] <tikue> jdm: ah ok
[21:33:35] *** Joins: reyre (reyre@moz-AFCC727B.wireless.telus.com)
[21:33:53] <jdm> tikue: what's the "set of frames" mentioned in the comment for Page?
[21:34:11] <tikue> jdm: obsolete comment, sorry
[21:34:16] *** Joins: ghservo (ghservo@5FEF1C87.6A2AE50.F3114085.IP)
[21:34:16] <ghservo> [13servo] 15metajack synchronize pull request #552: Add detection for page loads. (06master...06detect-page-loaded)  02http://git.io/eM3Dug
[21:34:16] *** Parts: ghservo (ghservo@5FEF1C87.6A2AE50.F3114085.IP) ()
[21:34:22] <tikue> jdm: I think it should just be one frame
[21:34:37] <jack> pcwalton: r? ^
[21:34:38] <jdm> oh, there's JSFrameInfo too
[21:34:40] <jdm> I see
[21:35:04] <tikue> jdm: should js_context go in js_info
[21:35:10] <jdm> yes
[21:35:25] <tikue> that was a really dumb question lol, js_info is simply a wrapper containing all the js stuff
[21:35:56] <jdm> tikue: so a Page contains a Frame and a Frame contains a Page?
[21:36:03] <jdm> that sounds... tricky :)
[21:36:08] <tikue> jdm: yeah it might not be possible 
[21:36:19] <jdm> if they're 1:1, just inline Frame in Page I think
[21:36:33] <tikue> jdm: good idea
[21:37:20] <eschweic> jack: this is really bizarre. Is there any way that 2 identical layer trees could display differently?
[21:38:09] <tikue> jdm: ah wait
[21:38:19] *** Joins: ghservo (ghservo@CFE85B59.6A2AE50.F3114085.IP)
[21:38:19] <ghservo> [13servo] 15kmcallister opened issue #582: GlyphStore out-of-bounds access when rendering Bengali text  02http://git.io/COfoXA
[21:38:19] *** Parts: ghservo (ghservo@CFE85B59.6A2AE50.F3114085.IP) ()
[21:39:22] <tikue> jdm: I can't recall offhand, but there are a lot of dependencies when constructing things. Maybe the frame needs to be in an option, which is why it was abstracted in the first place. But it can probably just have the Document, Window, and Url be options instead
[21:40:36] <jdm> if there are a bunch of things that are constructed later, it's probably nicer to stash them together rather than in separate options
[21:40:50] <jdm> less matching required
[21:41:01] <tikue> true
[21:41:15] <tikue> just pass the page around to get around the original problem of needing a reference to the page from the frame
[21:41:44] <jack> eschweic: not that i know of. do you wan tot push your work to a branch quick and i can try to reproduce?
[21:42:24] <eschweic> It should just be on master
[21:42:26] *** Joins: jensnockert (jensnocker@moz-C5F27039.cust.bredband2.com)
[21:42:36] *** Joins: ghservo (ghservo@DE823A67.6A2AE50.F3114085.IP)
[21:42:37] <ghservo> 01[13servo01] 15bors-servo merged 06master into 06auto: 02http://git.io/B35qQg
[21:42:37] *** Parts: ghservo (ghservo@DE823A67.6A2AE50.F3114085.IP) ()
[21:42:40] *** Joins: ghservo (ghservo@AD60B2E3.6A2AE50.F3114085.IP)
[21:42:40] <ghservo> 01[13servo01] 15bors-servo pushed 5 new commits to 06auto: 02http://git.io/QaFUVQ
[21:42:40] <ghservo> 13servo/06auto 14f363c09 15Jack Moffitt: Add detection for page loads.
[21:42:40] <ghservo> 13servo/06auto 142f0a792 15Jack Moffitt: Add exit_after_load flag to options, and make them cloneable.
[21:42:40] <ghservo> 13servo/06auto 146be63a0 15Jack Moffitt: Update rust-azure pointer to get cloneable BackendType.
[21:42:42] *** Parts: ghservo (ghservo@AD60B2E3.6A2AE50.F3114085.IP) ()
[21:42:46] <jack> eschweic: how are you testin?
[21:43:06] <tikue> jdm: updated the gist
[21:43:11] <eschweic> jack: if you zoom in a bunch, and wait for the page to rerender, portions of the page are displayed at the old resolution
[21:43:40] <eschweic> jack: rebuilding the layer tree seems to fix this, but the layer tree is identical
[21:43:45] *** Quits: reyre (reyre@moz-AFCC727B.wireless.telus.com) (Client exited)
[21:44:25] <eschweic> As far as I can tell, at least
[21:44:33] <jdm> tikue: looks pretty sensible to me
[21:44:46] <tikue> jdm: ok, I'll roll with it and see where it gets me. :) 
[21:45:15] *** tikue is now known as lunch
[21:45:22] *** lunch is now known as tikue_lunch
[21:45:45] <jdm> tikue_lunch: does NavigationContext contain Pages then?
[21:46:24] <tikue_lunch> jdm: so the constellation stores pipelines, and the navigation context is simply uints identifying different pipelines
[21:46:30] <tikue_lunch> jdm: I think that can stay the same (I hope)
[21:46:54] <jack> eschweic: is there a particular page you're testing with?
[21:46:55] <jdm> tikue_lunch: it occurs to me that we'll need to be able to associate a Page with any Page that contains it
[21:47:03] <jdm> tikue_lunch: for things like window.frames[N]
[21:47:17] <eschweic> jack: lipsum.html, but I've noticed it on wikipedia too
[21:47:50] <eschweic> jack: I don't think it makes a difference, but I'm also on a retina display
[21:47:58] <jack> i just got it
[21:48:03] <tikue_lunch> jdm: so it needs to be able to get the parent frame?
[21:48:06] <tikue_lunch> jdm: parent page*
[21:48:12] <jack> i'm not on a retina, although i have a retina (i'm on an external display)
[21:48:18] <jdm> tikue_lunch: we need bidirectionality, actually
[21:48:20] <jack> it's a tile right?
[21:48:25] <jack> for me the whole tile is wrong
[21:48:31] <eschweic> yes
[21:48:33] <jdm> tikue_lunch: window.parent as well as window.frames[N]
[21:48:38] <eschweic> sometimes multiple tiles
[21:48:40] <jdm> erm, not parent
[21:48:52] <jack> http://imgur.com/WYff6Ch
[21:48:54] <jdm> actually, probably window.parent counts
[21:48:59] <jdm> but slightly different
[21:49:09] <eschweic> jack: yes, exactly
[21:49:16] <eschweic> scrolling around should fix it
[21:49:33] <tikue_lunch> jdm: ok, this current model doesn't support that. trying to figure out what needs to change
[21:49:41] <jdm> tikue_lunch: window.frameElement and window.frames[N]
[21:49:44] <jack> eschweic: not consistently, but eventually it seems to ifx it.
[21:50:22] <eschweic> jack: right, you have to trigger a rebuild, which happens when you scroll over unrendered tiles
[21:50:54] <jack> so is it not rerendering that tile right? or is it showing an old tile?
[21:51:13] *** Quits: Jesse (jruderman@moz-537BCF9.hsd1.ca.comcast.net) (Quit: Jesse)
[21:51:41] <eschweic> It's showing a tile that should be earlier in the layer's linked list
[21:51:49] <eschweic> I think the newer tiles are under it
[21:52:05] <eschweic> but as far as I can tell they're being added to the list in the right order
[21:52:31] <jack> is it always the same tiles taht go bad?
[21:52:58] <eschweic> almost always tiles in the lower right
[21:53:24] <jack> we try and reuse entries in the layer tree
[21:53:30] <jack> could that be it?
[21:53:43] <tikue_lunch> jdm: so, what I had originally been imagining is that the constellation stores all of the currently active pipelines -- so a page with iframes would be viewed by the constellation as a vector of active pipelines. I liked this because then if you navigate inside an iframe, the page wouldn't need to update any information -- the constellation could just give permission to a different pipeline to render, and it would all take care of itself
[21:53:47] <tikue_lunch> jdm: but this complicates that
[21:54:05] <eschweic> jack: Yeah, I'm going to check, we might not be garbage collecting correctly
[21:54:18] <tikue_lunch> jdm: could we use proxy frames with callbacks to the constellation that queries the appropriate pipeline/frame?
[21:54:36] <tikue_lunch> jdm: or is that just way too clunky
[21:54:53] <jdm> I'm not sure.
[21:55:25] *** Joins: reyre (reyre@moz-9002CDDA.cpe.net.cable.rogers.com)
[21:55:35] <tikue_lunch> jdm: the problem is that they're running in different tasks. So making it thread safe is tricky
[21:55:40] <jdm> the fact that window.frames.length would require a synchronous message to the constellation doesn't fill me with glee, I think
[21:56:07] <jack> eschweic: i suppose i would print out the list o ftextures in the correct order, then insert them into the layer tree, then print the layer tree in render order and see if the orderings are the same.
[21:56:11] *** Joins: reyre_ (reyre@moz-9002CDDA.cpe.net.cable.rogers.com)
[21:56:27] <tikue_lunch> jdm: could we put the frames in ARCs?
[21:56:41] <jack> honestly, we could probably blow away the layer tree every time except for the root
[21:56:50] <jack> we already buidl the display list every time, etc
[21:56:55] <jdm> tikue_lunch: wait, why are the frames in different tasks?
[21:57:05] <eschweic> yeah, that's pretty much what I'm doing
[21:57:13] <tikue_lunch> jdm: because they could be on separate scripts :\
[21:57:17] <tikue_lunch> : \ *
[21:57:22] <pcwalton> jack: eschweic: as long as you're retaining tiles of course
[21:57:31] <pcwalton> you can probably just blow away the layer tree
[21:57:31] *** Quits: reyre (reyre@moz-9002CDDA.cpe.net.cable.rogers.com) (Ping timeout)
[21:57:33] <tikue_lunch> jdm: they're not always on separate tasks, but they potentially could be
[21:57:48] <jdm> right, true
[21:58:13] *** Quits: jet (jet@moz-BE33DA21.fw1.sfo1.mozilla.net) (Quit: jet)
[21:58:14] <jdm> tikue_lunch: so in the case of cross-origin frames, I think I'm totally ok with proxy frames
[21:58:29] <jdm> since a lot of the things that could be potentially slow that I can think of are things we would disallow
[21:58:40] <jdm> you can't access its DOM, etc.
[21:58:42] <tikue_lunch> jdm: that makes sense
[21:59:11] <tikue_lunch> jdm: then we could have a frame interface of sorts
[21:59:42] <jdm> tikue_lunch: I'm most concerned with having a record of association that's present in the Page so we don't have to go query for basic information
[21:59:46] <tikue_lunch> jdm: and each page would have a vector ~[~FrameTrait]
[22:00:05] * jdm nods
[22:00:40] *** reyre_ is now known as reyre
[22:02:21] *** Quits: eatkinson (eatkinson@moz-BBE3ABD.mv.mozilla.com) (Quit: eatkinson)
[22:05:26] <tikue_lunch> jdm: I don't fully understand how the parsing works in the script task right now. Currently, the root frame can be constructed by simply having the root node of the dom. When we're constructing a vector of frames instead of just a root frame, how is that information about auxiliary frames transmitted to the script task?
[22:06:54] *** tikue_lunch is now known as tikue_actually_at_lunch
[22:06:59] <tikue_actually_at_lunch> be back in a bit
[22:07:16] <jdm> ok
[22:07:19] <jdm> I'll ponder
[22:07:23] *** Quits: mccr8 (mccr8@F2D29657.F60B0462.67AC9B1.IP) (Quit: mccr8)
[22:07:49] <jdm> maybe the script task is the one that listens for new parsing result messages and creates the child frames
[22:08:19] <eschweic> jack: Yeah, looks like an ordering issue
[22:08:25] <eschweic> I'll explore this more
[22:09:02] *** Joins: eatkinson (eatkinson@moz-BBE3ABD.mv.mozilla.com)
[22:09:25] *** Quits: dzbarsky (Adium@F2D29657.F60B0462.67AC9B1.IP) (Quit: Leaving.)
[22:09:52] *** Joins: jet (jet@moz-BE33DA21.fw1.sfo1.mozilla.net)
[22:14:26] <eschweic> jack: okay found the issue
[22:14:42] <eschweic> I though add_child added to the end of the list
[22:17:25] *** tikue_actually_at_lunch is now known as tikue
[22:17:31] <tikue> jdm: yeah that sounds right-er
[22:18:26] *** Joins: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com)
[22:19:08] <eschweic> At this point it probably is better just to blow up the old layer tree
[22:19:20] <eschweic> I'll submit a PR
[22:25:33] *** Joins: mccr8 (mccr8@8F761026.B5EF4AF6.E96CA9D8.IP)
[22:26:37] *** Quits: lmandel (lmandel@F2D29657.F60B0462.67AC9B1.IP) (Quit: lmandel)
[22:35:18] *** Joins: ghservo (ghservo@24260B07.6A2AE50.F3114085.IP)
[22:35:18] <ghservo> [13servo] 15eschweic opened pull request #583: Fix quadtree zoom and request flood bugs (06master...06quadtree)  02http://git.io/XLdYpg
[22:35:18] *** Parts: ghservo (ghservo@24260B07.6A2AE50.F3114085.IP) ()
[22:39:50] <jack> eschweic: what's is the render_flag?
[22:40:22] <jack> that's set on tiles that are onscreen?
[22:41:06] <eschweic> jack: Those are leaves in the quadtree that have no tile, but a request has been sent to the renderer
[22:41:18] <eschweic> so they aren't requested more than once
[22:41:48] * kmc wonders about the boundaries between azure, skia, and rust-layers (and OpenGL)
[22:43:46] <jack> eschweic: on lin 431 of quadtree.rs, you used to "figure out locations of future children" and now it just creates a new child
[22:43:51] <jack> why did that change?
[22:44:46] <jack> kmc: nothing would know about skia except for that shared gl stuff. that is slowly going away with pcwalton's changes.
[22:45:38] <jack> i'm not quite sure what we're getting out of Azure at the moment, but i suspect it will be important when we have canvas and such
[22:46:21] <eschweic> jack: the get_rect methods used to not modify the tree, but now they add children and set their render_flags
[22:47:23] <eschweic> it seemed easier to make sure requests aren't sent multiple times that way
[22:48:56] *** Quits: jdm (jdm@F2D29657.F60B0462.67AC9B1.IP) (Ping timeout)
[22:49:08] *** Joins: ghservo (ghservo@AC22872E.6A2AE50.F3114085.IP)
[22:49:09] <ghservo> 01[13rust-azure01] 15metajack fast-forwarded 06master-upgrade from 14ba24db5 to 14ae7c99b: 02http://git.io/1qOSpg
[22:49:09] *** Parts: ghservo (ghservo@AC22872E.6A2AE50.F3114085.IP) ()
[22:49:12] *** Joins: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP)
[22:49:12] <ghservo> 01[13servo01] 15bors-servo 04force-pushed 06auto from 14542aa17 to 14c82be59: 02http://git.io/c8GovQ
[22:49:12] *** Parts: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP) ()
[22:49:14] *** Joins: ghservo (ghservo@24260B07.6A2AE50.F3114085.IP)
[22:49:14] <ghservo> 01[13servo01] 15bors-servo pushed 2 new commits to 06auto: 02http://git.io/pWusug
[22:49:14] <ghservo> 13servo/06auto 14dd061cf 15eschweic: Fix quadtree zoom and request flood bugs
[22:49:14] <ghservo> 13servo/06auto 14dfd9e28 15bors-servo: auto merge of #583 : eschweic/servo/quadtree, r=metajack...
[22:49:14] *** Parts: ghservo (ghservo@24260B07.6A2AE50.F3114085.IP) ()
[22:50:36] *** Joins: ghservo (ghservo@CFE85B59.6A2AE50.F3114085.IP)
[22:50:36] <ghservo> [13servo] 15metajack synchronize pull request #552: Add detection for page loads. (06master...06detect-page-loaded)  02http://git.io/eM3Dug
[22:50:36] *** Parts: ghservo (ghservo@CFE85B59.6A2AE50.F3114085.IP) ()
[22:52:39] <dherman-spec-spec-spec> well, I tried servo for the first time on my laptop today :)
[22:52:43] <dherman-spec-spec-spec> crashed it pretty quick
[22:52:50] <dherman-spec-spec-spec> but it was still exciting!
[22:53:10] <jack> dherman-spec-spec-spec: linux?
[22:53:17] <jack> or you crashed loading random p age?
[22:53:18] <dherman-spec-spec-spec> mountain lion
[22:53:26] <dherman-spec-spec-spec> about:mozilla
[22:53:28] <tikue> dherman-spec-spec-spec: servo can ride a bike; still learning to navigate space shuttles tho
[22:53:35] <dherman-spec-spec-spec> I was following the readme
[22:53:42] <jack> that shouldn't crash it
[22:53:44] <dherman-spec-spec-spec> ./servo ../src/test/html/about-mozilla.html
[22:53:46] <jack> what was the error?
[22:53:51] <dherman-spec-spec-spec> rust: task failed at 'Quadtree: tried to query an invalid tile rect', /Users/dherman/Sources/servo/src/components/main/compositing/quadtree.rs:344
[22:53:57] *** Quits: ehsanul (irc@moz-A9E56CFE.hfc.comcastbusiness.net) (Ping timeout)
[22:54:00] <jack> eschweic: ^^
[22:54:02] <dherman-spec-spec-spec> rust: task failed at 'connection closed', /Users/dherman/Sources/servo/src/compiler/rust/src/libstd/option.rs:313
[22:54:06] <dherman-spec-spec-spec> rust: domain main @0x7f8784014610 root task failed
[22:54:14] <dherman-spec-spec-spec> rust: task failed at 'killed', /Users/dherman/Sources/servo/src/compiler/rust/src/libstd/pipes.rs:282
[22:54:18] <eschweic> Oh yep, that's probably my fault
[22:54:20] <dherman-spec-spec-spec> (then that line repeated a bunch of times)
[22:54:22] <dherman-spec-spec-spec> then segfault
[22:54:32] <jack> eschweic: what's the cause?
[22:54:36] <dherman-spec-spec-spec> do we intentionally segfault if the root task fails?
[22:54:49] <jack> dherman-spec-spec-spec: no, but there's a bug in the script task destructor
[22:55:04] <dherman-spec-spec-spec> with unsafe code?
[22:55:12] <jack> it shouldn't have failed in the first place, but shutting down servo segfault right now.
[22:55:16] <eschweic> jack:	not sure, I'd need to do some debugging
[22:55:50] <eschweic> an assert is being triggered
[22:56:00] <jack> dherman-spec-spec-spec: we haven't dug into the cause yet. not sure if it's a real bug or a compiler one yet. i'm sure it's our fault :)
[22:56:09] <dherman-spec-spec-spec> :)
[22:56:44] <eschweic> dherman-spec-spec-spec: Did the page load at all?
[22:56:54] <dherman-spec-spec-spec> oh yes
[22:56:56] <dherman-spec-spec-spec> it was on resize
[22:57:02] <dherman-spec-spec-spec> I resized a couple times
[22:57:08] <dherman-spec-spec-spec> I think it was the second resize that crashed
[22:57:17] <eschweic> ah, okay, that would make sense
[22:57:26] <eschweic> resizing layers is currently not supported
[22:57:32] <eschweic> I should fix that
[22:57:34] <dherman-spec-spec-spec> jack: that reminds me, do you think running servo will be a nice little demo for oscon?
[22:57:37] <dherman-spec-spec-spec> like in the booth
[22:58:41] <jack> we should be able to show it. we should maybe plan out some specific things we can show off though.
[22:58:54] <dherman-spec-spec-spec> I'll take anything :) there's not much time
[22:59:03] <dherman-spec-spec-spec> I mean to prepare
[22:59:09] <jack> tikue's forward/backward in history being instantaneous is nice :)
[22:59:26] <jack> i'll see if we are still lighting up all the cores on tasks
[22:59:29] <tikue> jack: it's not as instantaneous as it was pre-glfw
[22:59:42] <jack> tikue: perhaps that's a bug we can fix pre-OSCON
[23:00:14] <jack> dherman-spec-spec-spec: we have zoom and scroll and clicking. so it's vaguely browser-like
[23:00:17] <tikue> jack: it's instantaneous once the event message is received
[23:00:28] <tikue> jack: but the event message isn't being received immediately
[23:00:33] <jack> is my sleep timer really clunking up the works that bad?
[23:00:38] <jack> or is it something else?
[23:00:41] <jack> what if you remove hte sleep?
[23:00:48] <jack> also, is there a yield()?
[23:00:54] <jack> that would be better than sleep
[23:02:06] <tikue> jack: I haven't the faintest clue what it is. It might even just be in my head. Have you tried back and forward lately? It just feels a little slower than it was before.
[23:04:06] *** Quits: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com) (Quit: brendan)
[23:05:38] *** Joins: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com)
[23:06:02] <dherman-spec-spec-spec> yeah it's pretty easy to crash by resizing
[23:06:09] <dherman-spec-spec-spec> only seems to happen when resizing to a larger size
[23:06:14] <dherman-spec-spec-spec> but doesn't always happen
[23:06:19] <dherman-spec-spec-spec> also I'm now seeing ASSERTs
[23:06:35] <dherman-spec-spec-spec> rust: task failed at 'Quadtree: tried to query an invalid tile rect', /Users/dherman/Sources/servo/src/components/main/compositing/quadtree.rs:344
[23:06:36] <dherman-spec-spec-spec> rust: task failed at 'connection closed', /Users/dherman/Sources/servo/src/compiler/rust/src/libstd/option.rs:313
[23:06:37] <dherman-spec-spec-spec> rust: domain main @0x7fea63814610 root task failed
[23:06:38] <dherman-spec-spec-spec> rust: task failed at 'killed', /Users/dherman/Sources/servo/src/compiler/rust/src/libstd/pipes.rs:282
[23:06:39] <dherman-spec-spec-spec> Assertion failed: (box->td != NULL), function free, file /Users/dherman/Sources/servo/src/compiler/rust/src/rt/boxed_region.cpp, line 71.
[23:06:40] <dherman-spec-spec-spec> Abort trap: 6
[23:06:55] <eschweic> yes, very easy to repro
[23:07:27] *** Quits: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com) (Quit: brendan)
[23:07:48] *** Joins: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com)
[23:08:30] <dherman-spec-spec-spec> kk
[23:11:03] *** Joins: bjz_ (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[23:11:16] *** Quits: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[23:16:47] <eschweic> jack: Is there some way to detect if we're on a retina display?
[23:17:11] <eschweic> or should it be a command line arg?
[23:18:19] <jack> eschweic: glfw knows about it. you can check if the backing frame size is greater than the window size.
[23:18:51] <eschweic> okay cool
[23:19:01] <jack> you could add something to glfw_windowing.rs like hidpi_factor() or something
[23:19:28] <jack> tikue: i hear there's a profiler in servo that can test these things :)
[23:20:03] <tikue> jack: check which things?
[23:22:07] *** Joins: tjc (tjc@moz-2FE771F5.tmodns.net)
[23:22:09] *** Quits: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com) (Quit: brendan)
[23:22:41] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[23:27:36] *** Joins: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com)
[23:29:56] *** Quits: mccr8 (mccr8@8F761026.B5EF4AF6.E96CA9D8.IP) (Quit: mccr8)
[23:33:40] *** Joins: ghservo (ghservo@2EE61FCC.6A2AE50.F3114085.IP)
[23:33:40] <ghservo> 01[13servo01] 15bors-servo merged 06auto into 06master: 02http://git.io/pWusug
[23:33:40] *** Parts: ghservo (ghservo@2EE61FCC.6A2AE50.F3114085.IP) ()
[23:33:41] *** Joins: ghservo (ghservo@F6EE6DE3.6A2AE50.F3114085.IP)
[23:33:41] <ghservo> [13servo] 15bors-servo closed pull request #583: Fix quadtree zoom and request flood bugs (06master...06quadtree)  02http://git.io/XLdYpg
[23:33:41] *** Parts: ghservo (ghservo@F6EE6DE3.6A2AE50.F3114085.IP) ()
[23:34:26] *** Quits: harth (heather@moz-3C999954.hsd1.ca.comcast.net) (Client exited)
[23:36:38] *** Joins: ghservo (ghservo@AD60B2E3.6A2AE50.F3114085.IP)
[23:36:38] <ghservo> 01[13servo01] 15bors-servo pushed 0 new commits to 06auto: 02http://git.io/zg4lVw
[23:36:38] *** Parts: ghservo (ghservo@AD60B2E3.6A2AE50.F3114085.IP) ()
[23:36:44] *** Joins: ghservo (ghservo@F6EE6DE3.6A2AE50.F3114085.IP)
[23:36:44] <ghservo> 01[13servo01] 15bors-servo pushed 5 new commits to 06auto: 02http://git.io/8sO_Ww
[23:36:44] <ghservo> 13servo/06auto 14f363c09 15Jack Moffitt: Add detection for page loads.
[23:36:44] <ghservo> 13servo/06auto 142f0a792 15Jack Moffitt: Add exit_after_load flag to options, and make them cloneable.
[23:36:44] <ghservo> 13servo/06auto 14eda7645 15Jack Moffitt: Update rust-azure pointer to get cloneable BackendType.
[23:36:46] *** Parts: ghservo (ghservo@F6EE6DE3.6A2AE50.F3114085.IP) ()
[23:46:26] *** Quits: tjc (tjc@moz-2FE771F5.tmodns.net) (Quit: zzzzzzzzzz)
