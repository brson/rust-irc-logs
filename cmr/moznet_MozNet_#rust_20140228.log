[00:00:01] *** Joins: alexherbo2 (alexherbo2@moz-FC10E83F.de)
[00:00:02] *** Quits: Siosm (quassel@36F2FBB8.E3A35FF9.9DCAF634.IP) (Client exited)
[00:00:03] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[00:02:05] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[00:02:13] *** Quits: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[00:02:24] *** Quits: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net) (Input/output error)
[00:02:39] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[00:02:43] *** Quits: pzol (pzol@86821BC.DEB41A6D.AADC76B.IP) (Ping timeout)
[00:02:51] *** Joins: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net)
[00:02:57] *** Joins: bmu (chatzilla@moz-A87574A6.hsd1.pa.comcast.net)
[00:03:05] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[00:03:06] *** Joins: pzol (pzol@86821BC.DEB41A6D.AADC76B.IP)
[00:03:28] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[00:03:57] <mindslight> how do I use something in the 'sync' crate when the 'use sync::RWArc' seems to think im referencing std::sync ?
[00:04:19] <mcpherrin> ::sync is absolute
[00:04:24] *** Quits: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP) (Quit: buildmaster reconfigured: bot disconnecting)
[00:04:25] *** Joins: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP)
[00:04:26] *** Joins: seanp33 (Adium@moz-B0398B82.hsd1.md.comcast.net)
[00:04:29] <mcpherrin> use ::sync::RWArc I guess
[00:04:37] *** Quits: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net) (Ping timeout)
[00:04:41] *** Quits: ricepuddin (graham@moz-BB643FAA.wlan.ic.ac.uk) (Ping timeout)
[00:04:55] <mindslight> i thought i remembered seeing that somewhere, but that doesn't work either
[00:05:00] *** Joins: asmyers (quassel@moz-71754EDC.hsd1.md.comcast.net)
[00:05:02] <mindslight> ldb.rs:4:5: 4:7 error: expected ident, found `::`
[00:05:03] <sfackler> mindslight: is this inside of libstd?
[00:05:08] *** Quits: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com) (Ping timeout)
[00:05:10] *** Joins: tjc (tjc@moz-791C24B0.phlapa.east.verizon.net)
[00:05:10] *** ChanServ sets mode: +o tjc
[00:05:11] *** Joins: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com)
[00:05:16] <mindslight> no, this is my own crate
[00:05:30] <sfackler> it definitely shouldn't be looking in std::sync then
[00:05:34] <huon> do you have `extern crate sync;` at the top of your own crate?
[00:05:40] <sfackler> do you have an "extern crate sync" at your crate root?
[00:05:50] <mindslight> yes, but in the top level crate file
[00:05:58] <mindslight> not the file with the use
[00:06:06] <mindslight> would this be a bug fixed in the past few days ?
[00:06:35] <sfackler> not that I'm aware of
[00:06:57] <huon> (btw, the top level crate file is what I meant by "crate root" :) )
[00:07:09] *** Joins: jviereck (Adium@moz-B8899D53.dclient.hispeed.ch)
[00:07:15] *** Joins: FrozenCow (FrozenCow@moz-E69F48E.dynamic.upc.nl)
[00:07:16] <mindslight> (yeah i figured, just being explicit)
[00:07:27] <mindslight> well, maybe ill simplify this and see if i can come up with a minimal example
[00:07:34] *** Joins: Siosm (quassel@36F2FBB8.E3A35FF9.9DCAF634.IP)
[00:07:49] <mindslight> which will probably end up answering my own question
[00:07:49] *** Quits: FrozenCow (FrozenCow@moz-E69F48E.dynamic.upc.nl) (Connection reset by peer)
[00:08:07] *** Joins: FrozenCow (FrozenCow@moz-E69F48E.dynamic.upc.nl)
[00:08:59] <huon> your code is effectively `extern crate sync; mod foo { use sync::RWArc; ... }` ?
[00:09:17] *** Joins: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca)
[00:09:59] *** Joins: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net)
[00:10:43] *** jorendorff is now known as jorendorff_away
[00:11:01] *** Joins: Calinova22 (bzlandfill@moz-AF82B02D.lightspeed.rcsntx.sbcglobal.net)
[00:11:35] *** Quits: FrozenCow (FrozenCow@moz-E69F48E.dynamic.upc.nl) (Ping timeout)
[00:11:41] *** Quits: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net) (Ping timeout)
[00:11:43] *** Quits: Calinova22 (bzlandfill@moz-AF82B02D.lightspeed.rcsntx.sbcglobal.net) (Quit: CGI:IRC)
[00:11:44] <mindslight> i think i figurd it out
[00:11:46] *** Quits: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP) (Quit: buildmaster reconfigured: bot disconnecting)
[00:11:46] *** Joins: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP)
[00:12:03] <mindslight> extern crate sync; use std::*; mod foo { use sync::RWArc; ... }
[00:12:04] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[00:12:05] *** Quits: untwisted (untwisted@moz-D26DA246.cse.ucsc.edu) (Ping timeout)
[00:12:11] <huon> oh, bleh :(
[00:12:16] <huon> that's annoying
[00:12:29] *** Quits: Capt_Redbeard (Capt_Redbe@moz-4998C3D0.ok.ok.cox.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[00:12:33] <mindslight> of course, taking away the #[feature(globs)]; i get a message: "glob import statements are experimental and possibly buggy
[00:12:37] *** Quits: cremes_ (cremes@moz-649E729A.lv.lv.cox.net) (Quit: cremes_)
[00:12:43] *** Quits: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com) (Ping timeout)
[00:12:44] *** Joins: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net)
[00:12:53] *** Quits: piterparker (piterparke@1CB0F902.9204A931.39602C18.IP) (Client exited)
[00:13:12] <huon> https://github.com/mozilla/rust/issues/7663 https://github.com/mozilla/rust/issues/10884
[00:13:54] *** Joins: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com)
[00:14:17] <mindslight> i think neither of those seem applicable ?
[00:14:27] *** Joins: judofyr (judofyr@moz-8BB0A10D.nextgentel.com)
[00:14:31] <mindslight> notice i'm doing `use std::*` outside of the mod foo
[00:14:32] <huon> shadowing of use statements
[00:14:36] *** Quits: Yurumechan (23f9939a@B2F514.E4420F21.EEF52F3A.IP) (Ping timeout)
[00:14:38] <huon> the problem is at the top level
[00:14:39] <mindslight> those namespaces should be separate, no?
[00:14:47] <huon> std::sync is shadowing the extern crate sync
[00:15:37] *** Quits: kngl (Adium@40AE2BF6.ABCDAFD6.7C797F8E.IP) (Quit: Leaving.)
[00:15:37] <mindslight> which stays shadowed in the cross-module crate namespace ?
[00:16:09] *** Quits: judofyr (judofyr@moz-8BB0A10D.nextgentel.com) (Ping timeout)
[00:16:26] <huon> it introduces the `sync` name at the top level, and `use` statements just look at the names
[00:16:39] <huon> because, e.g., you could be importing from a `mod` at the top-level
[00:16:52] <huon> (so it's not just crates)
[00:16:55] *** Joins: amousset__ (amousset@6181009C.10715965.BCDF592F.IP)
[00:17:11] <huon> this particular case is very non-intuitive though :/
[00:17:20] *** Quits: amousset_ (amousset@6181009C.10715965.BCDF592F.IP) (Ping timeout)
[00:17:27] *** Quits: Matthias247 (Miranda@moz-BDD35EC0.hsi5.kabel-badenwuerttemberg.de) (Connection reset by peer)
[00:17:42] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[00:17:57] <mindslight> by "top level" you mean outermost mod ? because if i use stuff in there, it's not like those names show up in the inner
[00:17:57] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Ping timeout)
[00:18:02] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[00:18:03] *** Joins: Yurumechan (23f9939a@B2F514.E4420F21.EEF52F3A.IP)
[00:18:27] *** Quits: jviereck (Adium@moz-B8899D53.dclient.hispeed.ch) (Quit: Leaving.)
[00:19:00] <mindslight> but yet those crate names need to show up in the inner mod, and the outer use case corrupts the crate names even though it should be irrelevant to the inner mod namespace
[00:19:00] *** Joins: eibwen (kvirc@moz-251C9023.dip0.t-ipconnect.de)
[00:19:21] *** Joins: cremes_ (cremes@moz-649E729A.lv.lv.cox.net)
[00:20:17] *** Quits: cremes_ (cremes@moz-649E729A.lv.lv.cox.net) (Quit: cremes_)
[00:20:18] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[00:20:18] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[00:20:32] *** Quits: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP) (Quit: buildmaster reconfigured: bot disconnecting)
[00:20:33] *** Joins: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP)
[00:21:24] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[00:21:32] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[00:21:53] <mindslight> based on those two bugs, it seems like the use implementation is going to need a bit of TLC at some point, so is it even worth thinking about filing a bug?
[00:21:57] *** Joins: kvanb (kvanb@moz-D7879364.lnse5.lon.bigpond.net.au)
[00:23:00] *** Joins: cremes_ (cremes@moz-649E729A.lv.lv.cox.net)
[00:23:32] <huon> mindslight: well, this one isn't quite the same
[00:23:35] <canhtak> hi rust dev's, there is no traits to overload +=, -= etc..?
[00:23:39] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Quit: TheHydroImpulse)
[00:24:14] <huon> mindslight: so yes, file a bug along the lines of "private uses in crate root can shadow crates"
[00:24:15] *** Quits: cremes_ (cremes@moz-649E729A.lv.lv.cox.net) (Quit: cremes_)
[00:24:16] *** Quits: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP) (Quit: buildmaster reconfigured: bot disconnecting)
[00:24:16] <FreeFull> canhtak: Implementing addition/subtraction for your type would overload those, I suppose
[00:24:17] *** Joins: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP)
[00:24:18] <huon> canhtak: not yet
[00:24:25] <FreeFull> Or maybe not
[00:24:25] <huon> FreeFull: (it doesn't)
[00:24:45] <huon> https://github.com/mozilla/rust/issues/5992
[00:24:52] <canhtak> okay ( i know it doesn't, thats why i ask hehe ! )
[00:25:05] *** Joins: jviereck (Adium@moz-B8899D53.dclient.hispeed.ch)
[00:25:08] <canhtak> thanks !
[00:25:51] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[00:25:53] *** Quits: jc_leung (Mibbit@E85E88C8.8FF67DA2.10AF327F.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[00:26:20] *** Quits: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP) (Quit: buildmaster reconfigured: bot disconnecting)
[00:26:20] *** Joins: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP)
[00:26:29] *** Joins: fyolnish (fyolnish@moz-6E7BCD25.uqwimax.jp)
[00:26:37] *** Quits: alan_and_ (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[00:26:43] <FreeFull> Indexing is overloadable
[00:27:20] <huon> but poorly, https://github.com/mozilla/rust/issues/6515
[00:27:40] *** Quits: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP) (Quit: buildmaster reconfigured: bot disconnecting)
[00:27:40] *** Joins: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP)
[00:27:45] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[00:28:11] *** Quits: fyolnish (fyolnish@moz-6E7BCD25.uqwimax.jp) (Ping timeout)
[00:28:12] <mindslight> huon: yeah, it happens even without wildcard imports, so i can say there has been no warning sign! :>
[00:29:00] *** Quits: evanm (evanm@636AC086.5999CED5.71743E61.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[00:30:42] *** Quits: amousset__ (amousset@6181009C.10715965.BCDF592F.IP) (Ping timeout)
[00:31:34] *** Quits: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP) (Quit: colinsurprenant)
[00:32:06] *** Parts: jviereck (Adium@moz-B8899D53.dclient.hispeed.ch) ()
[00:34:20] *** Joins: dagnir (chatzilla@A1D3E7F1.DBF4469E.7E8D5209.IP)
[00:34:34] *** Quits: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP) (Quit: buildmaster reconfigured: bot disconnecting)
[00:34:35] *** Joins: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP)
[00:35:03] *** Quits: jmmk (jmmk@moz-3BDBD2C0.hfc.comcastbusiness.net) (Ping timeout)
[00:36:02] *** Joins: wilmoore (wilmoore@moz-1248C037.mystrotv.com)
[00:36:03] *** Quits: mbx (mbebenita@moz-C07D5168.p2p.sfo1.mozilla.com) (Connection reset by peer)
[00:36:07] *** Joins: mbx (mbebenita@moz-C07D5168.p2p.sfo1.mozilla.com)
[00:36:11] *** Quits: hoverbear (hoverbear@moz-E87270B0.wireless.uvic.ca) (Quit: Taking a nap.)
[00:36:34] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[00:37:19] *** Quits: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP) (Quit: buildmaster reconfigured: bot disconnecting)
[00:37:20] *** Joins: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP)
[00:37:56] *** Joins: ryeguy (ryeguy@9C569A0.5D1143CD.E8644521.IP)
[00:39:50] *** Quits: canhtak (canhtak@moz-251024EB.wl.t.ulaval.ca) (Quit: canhtak)
[00:39:54] *** Quits: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP) (Quit: buildmaster reconfigured: bot disconnecting)
[00:39:55] *** Joins: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP)
[00:40:16] *** Joins: evanm (evanm@636AC086.5999CED5.71743E61.IP)
[00:41:27] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Input/output error)
[00:41:35] *** Quits: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP) (Quit: buildmaster reconfigured: bot disconnecting)
[00:41:36] *** Joins: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP)
[00:42:01] *** Quits: c-a (c-a@moz-DBDF8C81.cust.bluewin.ch) (Ping timeout)
[00:42:13] *** Quits: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP) (Quit: buildmaster reconfigured: bot disconnecting)
[00:42:13] *** Joins: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP)
[00:44:59] *** Joins: dougxxx (dougxxx@moz-2801788.perm.iinet.net.au)
[00:47:00] <FreeFull> How do I create an owned vector of a certain size which isn't known at compiletime?
[00:48:15] <ryeguy> FreeFull: do you want it to stop growing at a certain size or something? or preallocate it?
[00:48:23] <SiegeLord> from_elem perhaps
[00:48:23] <huon> vec::from_elem(n, ...) or from_fn(n, ...)
[00:48:24] <FreeFull> ryeguy: Just preallocate it once
[00:48:31] <huon> or with_capacity(n)
[00:49:02] *** Quits: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP) (Quit: buildmaster reconfigured: bot disconnecting)
[00:49:03] *** Joins: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP)
[00:49:12] *** Quits: Kxepal (Miranda@moz-539FCAC2.pppoe.mtu-net.ru) (Quit: Kxepal)
[00:49:25] *** Joins: Kxepal (Miranda@moz-539FCAC2.pppoe.mtu-net.ru)
[00:49:34] <FreeFull> from_elem seems to be what I want
[00:50:10] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[00:50:41] *** Quits: asmyers (quassel@moz-71754EDC.hsd1.md.comcast.net) (Ping timeout)
[00:51:02] <FreeFull> Actually, with_capacity might be better after all
[00:51:07] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[00:51:07] *** ChanServ sets mode: +ao pcwalton pcwalton
[00:51:28] <huon> FreeFull: btw, if you can, `std::vec_ng::Vec` will be faster
[00:51:51] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[00:51:52] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[00:51:58] <ryeguy> huon, why is that?
[00:52:03] *** Quits: Savago (Savago@84BFEFEF.CB3251F2.284344F5.IP) (Quit: Savago)
[00:52:04] <FreeFull> huon: I don't see it in docs
[00:52:21] <huon> yeah, you'll have to look at the source for now
[00:52:29] <huon> https://github.com/mozilla/rust/blob/master/src/libstd/vec_ng.rs
[00:52:57] <FreeFull> I see, no docs whatsoever
[00:53:02] <huon> ryeguy: https://github.com/mozilla/rust/issues/8981
[00:53:19] <huon> FreeFull: everything has the same behaviour as the `std::vec` equivalent
[00:53:29] <huon> i.e. Vec::with_capacity(...)
[00:53:33] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[00:53:33] <huon> v.push(...)
[00:53:39] <huon> etc.
[00:53:59] <huon> (feel free to not use it until we document it and remove the ~[] vectors.)
[00:54:01] <FreeFull> huon: Does this matter if I will never resize the vector?
[00:54:41] <huon> FreeFull: if you are allocating with with_capacity and .push-ing, vec_ng is faster, yes
[00:54:44] *** Quits: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP) (Quit: buildmaster reconfigured: bot disconnecting)
[00:54:44] *** Joins: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP)
[00:54:54] *** Quits: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP) (Quit: buildmaster reconfigured: bot disconnecting)
[00:54:55] *** Joins: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP)
[00:54:59] <huon> FreeFull: (see #8981 I linked above for some numbers)
[00:55:10] <ryeguy> those are some impressive numbers
[00:55:17] <FreeFull> huon: What about from_fn?
[00:55:34] <huon> I assume so
[00:55:38] *** Joins: canhtak (canhtak@moz-251024EB.wl.t.ulaval.ca)
[00:55:43] <huon> since it will internally be doing the with_capacity + push
[00:55:46] <huon> (check the source...)
[00:56:03] <huon> oh, no
[00:56:15] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[00:56:27] <huon> but, yes, I think it will be faster
[00:56:59] *** Quits: wilmoore (wilmoore@moz-1248C037.mystrotv.com) (Ping timeout)
[00:57:05] <FreeFull> Not as if I care about speed too much here
[00:57:06] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[00:57:20] <FreeFull> Might as well switch anyway though
[00:57:29] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[00:57:34] *** Quits: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP) (Quit: buildmaster reconfigured: bot disconnecting)
[00:57:35] *** Joins: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP)
[00:57:59] <FreeFull> I actually am initialising the vector with random() for each element
[00:58:04] <jxs> Hi guys, whats the idiomatic way to convert a string to an int?
[00:58:14] *** Joins: sellout (Adium@moz-53C8D913.hsd1.co.comcast.net)
[00:58:40] <FreeFull> jxs: I used from_str for that
[00:58:44] <huon> http://static.rust-lang.org/doc/master/complement-cheatsheet.html
[00:59:00] <jxs> thanks huon !
[00:59:42] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[00:59:54] *** Quits: snerd (motk@moz-D21A06DF.members.linode.com) (Client exited)
[01:00:03] *** Quits: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP) (Quit: buildmaster reconfigured: bot disconnecting)
[01:00:03] *** Joins: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP)
[01:00:04] <FreeFull> jxs: You probably shouldn't be using unwrap() unless you know that the input string will be valid
[01:00:12] *** Quits: uzi_mantis (iz@A3C8E84E.65B70227.DDE5D3F6.IP) (Ping timeout)
[01:00:37] <huon> FreeFull: oh, you can do `std::rand::task_rng().gen_vec(n)` for that
[01:00:45] <huon> (if you import std::rand::Rng)
[01:00:48] *** Quits: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP) (Quit: buildmaster reconfigured: bot disconnecting)
[01:00:49] *** Joins: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP)
[01:00:50] <huon> that does give you a ~[]
[01:00:50] <FreeFull> huon: Didn't even think of that
[01:01:02] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[01:01:21] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Quit: Leaving)
[01:01:23] <huon> it'll be much faster to use task_rng() rather than calling random() directly repeatedly, too
[01:01:37] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[01:01:44] <huon> (i.e. one TLD look-up rather than n.)
[01:01:59] *** Quits: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com) (Quit: Jesse)
[01:02:12] *** Joins: frogzilla (Mibbit@14310444.B9CCEC14.CC1A2609.IP)
[01:02:36] *** Quits: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP) (Quit: buildmaster reconfigured: bot disconnecting)
[01:02:37] *** Joins: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP)
[01:02:55] *** Joins: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com)
[01:03:51] *** Quits: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP) (Quit: buildmaster reconfigured: bot disconnecting)
[01:03:52] *** Joins: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP)
[01:04:04] *** Joins: snerd (motk@moz-D21A06DF.members.linode.com)
[01:04:17] *** Quits: luziie (luziie@moz-CD18B14B.customer.cdi.no) (Connection reset by peer)
[01:04:26] *** Quits: darthdeus (darthdeus@EEC5B4DB.3B96A244.4E88690D.IP) (Quit: Leaving...)
[01:04:59] *** Quits: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net) (Quit: Leaving.)
[01:05:06] *** Joins: klapaucius (klapaucius@E5AF674E.5692770D.BB41F968.IP)
[01:05:19] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[01:05:39] *** Quits: frogzilla (Mibbit@14310444.B9CCEC14.CC1A2609.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[01:05:59] *** Joins: uzi_mantis (iz@97E5E928.E8B6FA7D.DDE5D3F6.IP)
[01:06:11] *** Quits: uzi_mantis (iz@97E5E928.E8B6FA7D.DDE5D3F6.IP) (Quit: )
[01:06:28] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[01:07:30] *** Joins: jmmk (jmmk@moz-588F65EA.c3-0.smr-ubr1.sbo-smr.ma.cable.rcn.com)
[01:07:57] *** Quits: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP) (Broken pipe)
[01:07:57] *** Joins: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP)
[01:08:08] <FreeFull> My code is nicer now
[01:08:31] *** Joins: judofyr (judofyr@moz-8BB0A10D.nextgentel.com)
[01:08:42] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[01:09:11] *** Quits: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com) (Ping timeout)
[01:09:16] *** Joins: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com)
[01:09:42] <huon> <3 nicer code
[01:10:12] *** Quits: judofyr (judofyr@moz-8BB0A10D.nextgentel.com) (Ping timeout)
[01:11:55] *** Quits: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP) (Quit: buildmaster reconfigured: bot disconnecting)
[01:11:56] *** Joins: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP)
[01:12:24] *** Quits: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net) (Input/output error)
[01:12:39] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[01:12:57] *** Quits: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP) (Quit: buildmaster reconfigured: bot disconnecting)
[01:12:57] *** Joins: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP)
[01:13:44] *** Quits: TimAbraldes (quassel@125EF623.B2666F0E.66399531.IP) (Input/output error)
[01:13:44] *** Quits: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com) (Quit: Jesse)
[01:13:49] *** Joins: brendan (brendaneic@BBB21EE2.F6F8CE9D.1DA58BFC.IP)
[01:14:01] <FreeFull> huon: http://sprunge.us/DZNX?rust  Any way I could make this better?
[01:14:13] *** Quits: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP) (Quit: buildmaster reconfigured: bot disconnecting)
[01:14:13] *** Joins: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP)
[01:14:39] <FreeFull> Switch from u32 to uint?
[01:14:56] *** kimundi is now known as zz_kimundi
[01:15:02] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[01:15:27] *** Quits: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP) (Quit: buildmaster reconfigured: bot disconnecting)
[01:15:28] *** Joins: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP)
[01:16:53] <huon> FreeFull: min and max exist in std::cmp
[01:17:00] <huon> std::cmp::clamp might exist too...
[01:17:07] <FreeFull> Didn't see them in the docs
[01:17:30] *** Quits: echristo (echristo@C587E14D.D6CCE4AE.77834EAA.IP) (Quit: echristo)
[01:17:31] <huon> http://static.rust-lang.org/doc/master/std/cmp/fn.max.html
[01:17:37] *** Quits: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP) (Quit: buildmaster reconfigured: bot disconnecting)
[01:17:37] <huon> seems there's not clamp
[01:17:38] *** Joins: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP)
[01:18:00] <huon> in any case, line 10 can be just a.lt(&b), or even a < b
[01:18:01] *** Joins: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com)
[01:18:01] *** Joins: fournm (Aria@moz-ABB60BA0.austin.res.rr.com)
[01:18:03] <FreeFull> Ah, I was looking for clamp, but forgot to look for min and max
[01:18:11] *** Quits: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP) (Quit: buildmaster reconfigured: bot disconnecting)
[01:18:12] *** Joins: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP)
[01:18:15] <huon> (the Ord trait gives operator overloading)
[01:18:21] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[01:18:30] <huon> line 20 can just be from_str(*x), I think
[01:18:37] <huon> (instead of x.as_slice())
[01:18:53] *** Quits: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP) (Quit: buildmaster reconfigured: bot disconnecting)
[01:18:54] *** Joins: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP)
[01:19:45] *** Quits: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP) (Quit: buildmaster reconfigured: bot disconnecting)
[01:19:45] *** Joins: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP)
[01:20:01] *** Quits: Jemaclus_ (Jemaclus@4EEAB704.5843BA5A.D4E4C7A5.IP) (Client exited)
[01:20:04] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[01:20:05] <huon> the loop on 29 could be `let prev = buffer[0]; for x in buffer.slice_from(1).mut_iter() { *x = (*x + prev) / 2.0; write_le_f64(*x); prev = *x; }`
[01:20:15] <huon> (I mean, `let mut prev = ...`)
[01:20:57] <FreeFull> I'm not sure if that is better, readability-wise
[01:21:06] <huon> also, convention would be `static SAMPLE_RATE` and `static TIME`
[01:21:28] <huon> FreeFull: possibly not, but iterators are "nicer" than manual indexing
[01:21:35] *** Quits: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP) (Quit: buildmaster reconfigured: bot disconnecting)
[01:21:35] *** Joins: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP)
[01:21:41] <FreeFull> Honestly, I should make time a parameter anyway
[01:22:25] *** Quits: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP) (Quit: buildmaster reconfigured: bot disconnecting)
[01:22:25] *** Joins: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP)
[01:22:30] <o11c> FreeFull: maybe should generate the whole single wave at once, then repeat that wave N times (plus fraction if needed)
[01:23:05] <FreeFull> o11c: That wouldn't sound the same
[01:23:18] <FreeFull> The point is that the feedback keeps it changing
[01:23:34] *** Quits: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP) (Quit: buildmaster reconfigured: bot disconnecting)
[01:23:35] *** Joins: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP)
[01:23:35] <FreeFull> Although you could generate the whole buffer at once, and then output it
[01:23:42] <FreeFull> And repeat
[01:23:51] <o11c> hm, I thought it was just a simple sine wave when I saw it yesterday ...
[01:24:00] <o11c> but you *will* definitely win by doing *some* buffering
[01:24:27] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[01:24:28] <FreeFull> o11c: I never did a sine wave
[01:24:33] <FreeFull> Or anything yesterday
[01:24:38] <FreeFull> Must have been someone else
[01:24:45] <o11c> I have no clue what I'm thinking about then
[01:24:51] <FreeFull> And the naive code is fast enough anyway
[01:25:16] <o11c> "fast enough" is fast enough as long as nobody else is running on the system
[01:25:24] *** Quits: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP) (Quit: buildmaster reconfigured: bot disconnecting)
[01:25:25] *** Joins: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP)
[01:26:35] *** Joins: fyolnish (fyolnish@moz-6E7BCD25.uqwimax.jp)
[01:26:59] *** Quits: pyon (user@6B56F365.A9B419CB.1C8C8CE9.IP) (Ping timeout)
[01:27:11] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Quit: Leaving...)
[01:27:14] *** Quits: seanp33 (Adium@moz-B0398B82.hsd1.md.comcast.net) (Quit: Leaving.)
[01:27:41] <FreeFull> huon: Trying your iterator suggestion gave me cannot borrow immutable vec content as mutable
[01:28:00] *** Joins: pyon (user@6B56F365.A9B419CB.1C8C8CE9.IP)
[01:28:04] *** Joins: amousset__ (amousset@6181009C.10715965.BCDF592F.IP)
[01:28:16] *** Quits: fyolnish (fyolnish@moz-6E7BCD25.uqwimax.jp) (Ping timeout)
[01:28:25] <huon> FreeFull: oh, `.mut_slice_from(1)`, sorry
[01:28:38] *** Quits: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com) (Ping timeout)
[01:28:46] *** Joins: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com)
[01:29:09] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Ping timeout)
[01:29:36] *** Quits: jmmk (jmmk@moz-588F65EA.c3-0.smr-ubr1.sbo-smr.ma.cable.rcn.com) (Ping timeout)
[01:29:53] <FreeFull> Is good
[01:30:20] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[01:31:06] <FreeFull> Odd, now there is a DC offset
[01:31:32] *** Quits: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com) (Ping timeout)
[01:31:34] *** Joins: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com)
[01:32:34] *** Quits: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP) (Quit: buildmaster reconfigured: bot disconnecting)
[01:32:35] *** Joins: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP)
[01:33:06] <FreeFull> Not sure when it came from
[01:33:18] <FreeFull> Probably random number generation, actually
[01:33:29] <FreeFull> I'll need to do some scaling
[01:33:30] <huon> they generate [0, 1) by default
[01:33:34] <FreeFull> Yeah
[01:33:51] <FreeFull> I'll want something like [-1,1]
[01:33:54] *** Quits: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP) (Quit: buildmaster reconfigured: bot disconnecting)
[01:33:55] *** Joins: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP)
[01:33:59] <huon> std::rand::Closed01
[01:34:14] <huon> 2.0 * ... - 1.0
[01:34:16] <huon> I guess
[01:34:17] *** Quits: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com) (Ping timeout)
[01:34:27] *** Joins: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com)
[01:34:29] *** Joins: uzi_mantis (iz@97E5E928.E8B6FA7D.DDE5D3F6.IP)
[01:34:37] <huon> but, bleh, Closed01 is a tuple struct and so need manual unwrapping. :(
[01:34:39] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[01:34:57] <uzi_mantis> hey guys, i'm trying to figure out how to borrow a value and return it back to the original owner for later processing
[01:35:02] <uzi_mantis> my code's here: http://pastebin.com/RtNWttn9
[01:35:07] <FreeFull> Won't be as neat as the task_rng().gen_vec() combo
[01:35:18] <huon> FreeFull: yeah, it's unfortunate
[01:35:28] <uzi_mantis> i'm getting terrible errors regardless of what combination of ampersands and squigglies i use for stream2
[01:35:31] <huon> uzi_mantis: `let stream = &mut stream;`
[01:35:39] <huon> *`stream2 = `
[01:35:51] <huon> and skip the & inside println!
[01:36:00] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Client exited)
[01:36:31] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[01:36:45] *** Quits: chromatic (chromatic@moz-28CBC7F4.hsd1.or.comcast.net) (Quit: Leaving)
[01:37:19] <uzi_mantis> huon: wait, what does *'stream2 = ' do?
[01:37:36] <huon> uzi_mantis: I just mean correct `let stream = ...` to `let stream2 = ...`
[01:37:45] <huon> you'll also need `let mut stream = ...` on the outside
[01:38:11] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[01:38:15] <huon> that is, stream needs to be mutable, and stream2 needs to be a reference that can mutate what it's pointing at
[01:38:28] *** Quits: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com) (Ping timeout)
[01:39:35] *** Joins: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com)
[01:40:26] <uzi_mantis> hmm, well now i'm getting "cannot move out of dereference of & pointer" with it pointing at stream2.unwrap()...
[01:41:05] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[01:41:30] <uzi_mantis> my updated code as per your suggestions: http://pastebin.com/V2HvP7T3
[01:42:16] <huon> stream2.as_mut().unwrap()
[01:42:46] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[01:42:48] <huon> in this case, the as_mut() is taking &mut Option<Stream> to Option<&mut Stream>
[01:43:29] <uzi_mantis> i see
[01:43:32] *** Joins: jed (jed@moz-49932236.hsd1.md.comcast.net)
[01:43:52] <FreeFull> huon: Got rid of the DC offset
[01:44:06] <uzi_mantis> i don't understand why stream2 has to be mutable though -- does read_to_str() only accept mutable parameters?
[01:44:10] *** Quits: jed (jed@moz-49932236.hsd1.md.comcast.net) (Quit: Changing server)
[01:44:22] <FreeFull> I'm wondering if I really should care about the default being [0,1) that much
[01:44:35] <FreeFull> Not using Closed01 would make my code better
[01:44:44] <huon> uzi_mantis: did you check the docs? :)
[01:44:49] <FreeFull>     let mut buffer : ~[f32] = std::rand::task_rng().gen_vec::<Closed01<f32>>(invFrequency as uint).map(|&std::rand::Closed01(x)| x*2.0-1.0);
[01:44:53] <FreeFull> That's ugly
[01:44:55] <huon> http://static.rust-lang.org/doc/master/std/io/trait.Reader.html#method.read_to_str
[01:45:10] <uzi_mantis> just found it when you posted it back to me
[01:45:12] <huon> FreeFull: it allocates two vectors twice :(
[01:45:19] <uzi_mantis> thanks so much huon, super duper appreciate your help!
[01:45:20] <huon> erm, two vectors once
[01:45:34] *** Quits: kris (kris@moz-6D20263F.fullrate.dk) (Ping timeout)
[01:45:34] <FreeFull> The map reallocates?
[01:45:37] <huon> That mention should really be .gen_iter()...
[01:45:38] <huon> yes
[01:45:42] <FreeFull> I suppose it would have to
[01:45:50] <huon> it has to: in general the types are different sizes
[01:46:10] <FreeFull> Yeah
[01:46:48] <FreeFull> I don't see a gen_iter() in the docs
[01:47:03] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Quit: Leaving...)
[01:47:10] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[01:47:45] <huon> yeah
[01:47:59] <FreeFull> huon: Will map still reallocate if the type is the same?
[01:48:00] <huon> I meant "gen_vec should be replaced by gen_iter"
[01:48:02] <huon> no
[01:48:06] <huon> I mean
[01:48:07] <huon> yes
[01:48:17] <huon> it will reallocate (got the question backwards...)
[01:49:01] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[01:49:07] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Quit: willingc)
[01:49:34] *** Joins: asmyers (quassel@moz-71754EDC.hsd1.md.comcast.net)
[01:49:46] <FreeFull> Keep it as an iterator and make a vec after?
[01:50:25] <huon> yeah, that would be preferable
[01:50:48] *** Quits: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com) (Ping timeout)
[01:50:54] *** Joins: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com)
[01:51:05] <FreeFull> There is no gen_iter
[01:52:38] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[01:53:22] <FreeFull> Any way to map over a mutable vector without copying? Other than a for loop
[01:54:04] <sfackler> FreeFull: mut_iter().map(|x| *x = ...)?
[01:54:11] *** Joins: jmmk (jmmk@moz-588F65EA.c3-0.smr-ubr1.sbo-smr.ma.cable.rcn.com)
[01:54:16] <FreeFull> sfackler: That won't reallocate?
[01:54:18] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[01:54:22] *** Quits: dougxxx (dougxxx@moz-2801788.perm.iinet.net.au) (Quit: Leaving...)
[01:54:39] <sfackler> not unless you tell it to
[01:55:32] <sfackler> but it probably makes more sense to just use a for loop
[01:55:49] <sfackler> it's a bit hacky to do foo.mut_iter().map(|x| *x = ...).last() or whatever
[01:55:55] *** Quits: geomyidae_ (uid214@moz-E77DEB21.irccloud.com) (Quit: Connection closed for inactivity)
[01:55:59] *** Joins: angdev (angdev@16F167B.4C57D258.D8E8354F.IP)
[01:56:54] *** Joins: seanp33 (Adium@moz-B0398B82.hsd1.md.comcast.net)
[01:57:25] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[01:59:09] <FreeFull> Alright, got rid of that DC offset
[01:59:36] *** Joins: q66 (q66@D6C23B3C.45E1A7FC.B1AA2106.IP)
[02:00:02] *** Quits: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com) (Ping timeout)
[02:00:02] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[02:00:15] *** Joins: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com)
[02:00:43] *** Quits: kvanb (kvanb@moz-D7879364.lnse5.lon.bigpond.net.au) (Ping timeout)
[02:01:52] *** Quits: amousset__ (amousset@6181009C.10715965.BCDF592F.IP) (Ping timeout)
[02:01:54] <FreeFull> http://sprunge.us/FOAG?rust Any other obvious improvements?
[02:02:06] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[02:02:14] *** Quits: q66 (q66@D6C23B3C.45E1A7FC.B1AA2106.IP) (Ping timeout)
[02:02:15] <huon> (using a for loop is the "correct" way to do the in-place iterator mapping)
[02:02:42] *** Joins: judofyr (judofyr@moz-8BB0A10D.nextgentel.com)
[02:02:45] *** Quits: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com) (Ping timeout)
[02:02:58] *** Joins: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com)
[02:03:05] *** Joins: amousset__ (amousset@6181009C.10715965.BCDF592F.IP)
[02:03:31] *** Joins: kvanb (kvanb@moz-62CC4E9B.lns7.lon.bigpond.net.au)
[02:04:03] *** Joins: dougxxx (dougxxx@moz-2801788.perm.iinet.net.au)
[02:04:24] *** Quits: judofyr (judofyr@moz-8BB0A10D.nextgentel.com) (Ping timeout)
[02:04:43] *** Joins: Florob (Florob@moz-39532932.de)
[02:04:44] *** Quits: asmyers (quassel@moz-71754EDC.hsd1.md.comcast.net) (Ping timeout)
[02:05:44] *** Quits: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP) (Ping timeout)
[02:06:36] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[02:06:55] *** Joins: lpy|afk (lpy@7360AA58.F09091A8.1348A864.IP)
[02:06:58] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Client exited)
[02:07:18] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[02:07:49] <Earnestly> FreeFull: Wow, pygments got rust highlighting, nice
[02:07:58] <bstrie> wycats: neat, I presume you managed to get your own protobuf lib working?
[02:08:04] *** Joins: Siosm_ (quassel@moz-9911B053.fr)
[02:08:18] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[02:08:19] <Earnestly> FreeFull: (for sprunge/ix ?lang /lang links, I didn't know)
[02:08:40] <FreeFull> Yeah
[02:08:51] <cmr> Earnestly: it has had it for a long time.
[02:09:00] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Ping timeout)
[02:09:32] <Earnestly> cmr: Heh, I just never cared to try
[02:11:07] *** Joins: p1start (rewi@moz-A082F561.adsl.xtra.co.nz)
[02:11:34] *** Joins: bvssvni (Mibbit@moz-C4579D6F.bb.online.no)
[02:13:13] *** Quits: dagnir (chatzilla@A1D3E7F1.DBF4469E.7E8D5209.IP) (Quit: ChatZilla 0.9.90.1 [Firefox 27.0.1/20140212131424])
[02:16:19] *** Quits: Siosm (quassel@36F2FBB8.E3A35FF9.9DCAF634.IP) (Client exited)
[02:16:39] *** Quits: amousset__ (amousset@6181009C.10715965.BCDF592F.IP) (Ping timeout)
[02:17:29] *** Quits: brendan (brendaneic@BBB21EE2.F6F8CE9D.1DA58BFC.IP) (Quit: brendan)
[02:17:49] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[02:18:01] *** Quits: Siosm_ (quassel@moz-9911B053.fr) (Client exited)
[02:18:29] *** Joins: fyolnish (fyolnish@moz-6E7BCD25.uqwimax.jp)
[02:19:21] *** Joins: brendan (brendaneic@BBB21EE2.F6F8CE9D.1DA58BFC.IP)
[02:20:10] *** Quits: fyolnish (fyolnish@moz-6E7BCD25.uqwimax.jp) (Ping timeout)
[02:20:53] *** Quits: Florob (Florob@moz-39532932.de) (Client exited)
[02:21:28] *** Joins: q66 (q66@D6C23B3C.45E1A7FC.B1AA2106.IP)
[02:21:45] *** Quits: ziad (ziad@B20586FB.BDB3D91.6E370BFC.IP) (Quit: ziad)
[02:22:00] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[02:23:50] *** Joins: Siosm (quassel@moz-9911B053.fr)
[02:24:35] *** Joins: Capt_Redbeard (Capt_Redbe@moz-4998C3D0.ok.ok.cox.net)
[02:24:53] *** Quits: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com) (Quit: Jesse)
[02:25:51] *** Joins: asmyers (quassel@moz-71754EDC.hsd1.md.comcast.net)
[02:26:23] *** Quits: tjc (tjc@moz-791C24B0.phlapa.east.verizon.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[02:27:27] *** Quits: Capt_Redbeard (Capt_Redbe@moz-4998C3D0.ok.ok.cox.net) (Quit: Textual IRC Client: www.textualapp.com)
[02:28:38] *** Quits: engla (engla@moz-F64E1B0F.cust.bredbandsbolaget.se) (Ping timeout)
[02:29:04] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[02:32:16] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[02:33:25] *** Joins: sophie0310 (bzlandfill@1F21F4C1.1CA5FEA3.DDE5D3F6.IP)
[02:34:07] *** Quits: sophie0310 (bzlandfill@1F21F4C1.1CA5FEA3.DDE5D3F6.IP) (Quit: CGI:IRC)
[02:35:02] *** Joins: paulolieuthier (quassel@D13895D0.62D24C99.368B8D1A.IP)
[02:35:50] *** Quits: brendan (brendaneic@BBB21EE2.F6F8CE9D.1DA58BFC.IP) (Quit: brendan)
[02:37:07] *** Joins: Ralith (ralith@moz-67D4EB93.customer.broadstripe.net)
[02:37:28] *** Joins: brendan (brendaneic@BBB21EE2.F6F8CE9D.1DA58BFC.IP)
[02:37:42] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[02:38:54] *** Quits: uzi_mantis (iz@97E5E928.E8B6FA7D.DDE5D3F6.IP) (Quit: )
[02:40:17] *** Quits: huon (Thunderbir@moz-826BD85A.lns20.syd6.internode.on.net) (Quit: huon)
[02:40:45] *** Quits: pyon (user@6B56F365.A9B419CB.1C8C8CE9.IP) (Quit: restart)
[02:41:21] *** Joins: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp)
[02:41:24] *** Quits: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp) (Client exited)
[02:41:35] *** Joins: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp)
[02:43:04] *** Quits: sunfish (chatzilla@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[02:44:34] *** Joins: Capt_Redbeard (Capt_Redbe@moz-4998C3D0.ok.ok.cox.net)
[02:44:47] <Capt_Redbeard> Is there a way to store a closure in a struct?
[02:44:55] *** Quits: seanp33 (Adium@moz-B0398B82.hsd1.md.comcast.net) (Quit: Leaving.)
[02:45:32] *** Quits: asmyers (quassel@moz-71754EDC.hsd1.md.comcast.net) (Ping timeout)
[02:45:40] *** Quits: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com) (Ping timeout)
[02:45:52] *** Joins: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com)
[02:46:01] <kemurphy> hey, is there a way to call a default implementation of a trait from a trait impl?  say like, impl T for S { fn foo(&self) { /* S-specific stuff */; self.T::foo(); } }
[02:46:27] <kemurphy> (the above obviously doesn't work but)
[02:48:17] *** Quits: santiago (santiago@moz-69361A64.socal.res.rr.com) (Quit: Computer has gone to sleep.)
[02:49:12] *** Joins: trinary (Adium@moz-6388B339.hsd1.co.comcast.net)
[02:50:57] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[02:51:55] *** Joins: Sgeo_ (quassel@moz-4E71E7BB.dyn.optonline.net)
[02:52:06] *** Quits: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net) (Connection reset by peer)
[02:52:41] *** Quits: canhtak (canhtak@moz-251024EB.wl.t.ulaval.ca) (Quit: canhtak)
[02:52:42] <kemurphy> rusti: struct S<'a> { f : 'a|| } let s = S { f: || println!("lol") }; let f = s.f; f()
[02:52:43] -rusti- lol
[02:52:43] -rusti- ()
[02:52:50] <kemurphy> Capt_Redbeard: ^
[02:52:55] *** Quits: geoffhill (geoffhill@moz-95FF7399.members.linode.com) (Quit: )
[02:52:59] <kemurphy> notably you can't do this:
[02:53:11] <kemurphy> rusti: struct S<'a> { f : 'a|| } let s = S { f: || println!("lol") }; s.f()
[02:53:11] -rusti- <anon>:10:72: 11:6 error: type `main::S<>` does not implement any method in scope named `f`
[02:53:11] -rusti- <anon>:10         struct S<'a> { f : 'a|| } let s = S { f: || println!("lol") }; s.f()
[02:53:11] -rusti- <anon>:11     };
[02:53:11] -rusti- error: aborting due to previous error
[02:53:12] -rusti- application terminated with error code 101
[02:53:13] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[02:53:24] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[02:53:29] *** Quits: evanm (evanm@636AC086.5999CED5.71743E61.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[02:53:35] <kemurphy> would be *rad* if you could though
[02:53:43] <sp3d> rusti: struct S<'a> { f : 'a|| } let s = S { f: || println!("lol") }; (s.f)()
[02:53:44] -rusti- lol
[02:53:44] -rusti- ()
[02:53:48] <kemurphy> efb
[02:53:52] *** Joins: onelson (owen@18CF7301.95770028.5B6BFE7D.IP)
[02:54:02] <kemurphy> those parens are a little saddening
[02:54:10] <kemurphy> but it works
[02:54:49] *** Joins: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com)
[02:55:06] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[02:55:34] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[02:55:50] <Capt_Redbeard> kemurphy: Ohhh I see how its setup now. Ok that makes sense at least. That would be awesome if you could call it directly from the struct without binding it first, but I can see why that would be a problem.
[02:55:56] *** Quits: snerd (motk@moz-D21A06DF.members.linode.com) (Quit: leaving)
[02:56:13] *** Joins: tjc (tjc@moz-791C24B0.phlapa.east.verizon.net)
[02:56:13] *** ChanServ sets mode: +o tjc
[02:56:42] *** Quits: Krymise (Nietzsche@moz-CA789EF5.nwrknj.fios.verizon.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[02:56:43] <Capt_Redbeard> Could you or somebody maybe show me a resource on lifetimes? I've read the tutorial but I didn't follow it. I'm confused on the ' syntax.
[02:56:50] *** Joins: judofyr (judofyr@moz-8BB0A10D.nextgentel.com)
[02:58:30] *** Quits: judofyr (judofyr@moz-8BB0A10D.nextgentel.com) (Ping timeout)
[03:00:11] *** Quits: cgaebel (clark@moz-8E0C6BCA.nyc.res.rr.com) (Ping timeout)
[03:01:14] <bvssvni> Capt_Readbeard: http://static.rust-lang.org/doc/master/guide-lifetimes.html
[03:01:39] <bvssvni> Capt_Redbeard: ^
[03:01:58] *** Joins: Krymise (Nietzsche@moz-CA789EF5.nwrknj.fios.verizon.net)
[03:02:07] <Capt_Redbeard> bvssvni: I did read that, but it didn't explain the ' syntax very well.
[03:02:33] *** Joins: snerd (motk@moz-D21A06DF.members.linode.com)
[03:02:34] <cmr> Capt_Redbeard: what specifically confuses you?
[03:02:45] <cmr> 'foo is like a type parameter, but is instead a lifetime parameter
[03:03:02] <cmr> it's used purely to drive the compiler's analysis of memory safety, and represents no value whatsoever.
[03:03:09] <Capt_Redbeard> cmr: Ok so how do you create a lifetime parameter and send it.
[03:03:19] <Capt_Redbeard> cmr: ohh so its for the compiler only. I don't actually use it directly.
[03:03:32] <cmr> well you do use it, but not at runtime
[03:04:00] <Capt_Redbeard> So how does that allow a closure to be stored exactly?
[03:04:19] * cmr reads the logs
[03:04:38] <cmr> ah ok
[03:04:40] *** Quits: zz_kimundi (kimundi@moz-236A69C1.dip0.t-ipconnect.de) (Ping timeout)
[03:04:56] <cmr> so closures right now are so-called stack closures, in that their environment is stored on the stack.
[03:05:04] *** Quits: claudiu (claudiu@moz-33191099.thefacebook.com) (Ping timeout)
[03:05:05] *** Quits: snerd (motk@moz-D21A06DF.members.linode.com) (Client exited)
[03:05:23] *** Joins: snerd (motk@moz-D21A06DF.members.linode.com)
[03:05:26] *** Joins: claudiu (claudiu@moz-33191099.thefacebook.com)
[03:05:32] <cmr> in order to safely store a closure, you need to explicitly name the lifetime that it has.
[03:05:51] <cmr> because otherwise the closure could outlive its environment, which would be bad.
[03:06:47] *** Joins: brianm (brianm@moz-F76565E4.hsd1.ca.comcast.net)
[03:07:03] <Capt_Redbeard> ok so just adding the 'a specifies the lifetime of the object next to it in the body
[03:07:45] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[03:08:01] *** Quits: claudiu (claudiu@moz-33191099.thefacebook.com) (Ping timeout)
[03:08:33] *** Joins: zz_kimundi (kimundi@moz-24FA283.dip0.t-ipconnect.de)
[03:08:36] *** Joins: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[03:08:40] *** Quits: snerd (motk@moz-D21A06DF.members.linode.com) (Quit: leaving)
[03:08:47] <bvssvni> Capt_Redbeard: https://gist.github.com/bvssvni/9264409
[03:08:53] *** Joins: claudiu (claudiu@moz-33191099.thefacebook.com)
[03:09:01] *** zz_kimundi is now known as kimundi
[03:09:25] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[03:11:26] <bvssvni> Capt_Redbeard: here is a clearer example https://gist.github.com/bvssvni/9264437
[03:13:05] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[03:13:32] <wycats> bstrie: yeah
[03:13:43] <wycats> I gotta yank out the proprietary bits and open up the raw library
[03:13:47] <wycats> which is missing stuff but who cares
[03:13:50] <wycats> and has no generator :P
[03:14:06] *** Joins: snerd (motk@moz-D21A06DF.members.linode.com)
[03:14:11] *** Quits: claudiu (claudiu@moz-33191099.thefacebook.com) (Ping timeout)
[03:14:32] *** Joins: claudiu (claudiu@moz-33191099.thefacebook.com)
[03:15:13] *** Quits: jmmk (jmmk@moz-588F65EA.c3-0.smr-ubr1.sbo-smr.ma.cable.rcn.com) (Ping timeout)
[03:16:00] *** Quits: fmtq (fmt@moz-5769BD38.static.tpgi.com.au) (Ping timeout)
[03:16:21] *** Joins: fmtq (fmt@moz-5769BD38.static.tpgi.com.au)
[03:16:35] *** Joins: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net)
[03:16:43] *** Joins: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com)
[03:17:02] *** Quits: claudiu (claudiu@moz-33191099.thefacebook.com) (Ping timeout)
[03:17:52] <bvssvni> Capt_Redbeard: here is an example that won't compile https://gist.github.com/bvssvni/9264525
[03:18:11] *** Joins: claudiu (claudiu@moz-33191099.thefacebook.com)
[03:18:30] *** Quits: fmtq (fmt@moz-5769BD38.static.tpgi.com.au) (Ping timeout)
[03:18:46] <bvssvni> Capt_Redbeard: think of it as the compiler deducing a lifetime for a closure, limited to the shortest lifetime of any of it's dependencies
[03:18:48] *** Quits: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com) (Ping timeout)
[03:18:57] *** Joins: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com)
[03:19:08] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[03:19:16] *** Quits: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com) (Ping timeout)
[03:19:28] <bvssvni> Capt_Redbeard: any struct containing a closure has a lifetime equal to the intersection of any member
[03:19:53] *** Quits: claudiu (claudiu@moz-33191099.thefacebook.com) (Ping timeout)
[03:20:12] *** Quits: mbx (mbebenita@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: mbx)
[03:20:18] <bvssvni> Capt_Redbeard: this way it is impossible to call a closure where any dependency is out of scope
[03:20:32] *** Joins: claudiu (claudiu@moz-33191099.thefacebook.com)
[03:20:49] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[03:21:08] *** Joins: piterparker (piterparke@CCABA658.57403EA3.F78F1166.IP)
[03:21:14] <Capt_Redbeard> Hmm interesting. Ok that makes sense.
[03:21:49] <bvssvni> Capt_Redbeard: lifetimes are often to bind return values from a function to a scope
[03:23:06] <bvssvni> *used
[03:23:13] *** Quits: brianm (brianm@moz-F76565E4.hsd1.ca.comcast.net) (Quit: Linkinus - http://linkinus.com)
[03:24:10] <Capt_Redbeard> bvssvni: ok that makes perfect sense
[03:24:22] *** Quits: paulolieuthier (quassel@D13895D0.62D24C99.368B8D1A.IP) (Client exited)
[03:24:39] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[03:25:56] <bvssvni> Capt_Redbeard: when writing complex code, I just add lifetimes and muts until Rust stops complaining :P
[03:26:44] *** Quits: claudiu (claudiu@moz-33191099.thefacebook.com) (Ping timeout)
[03:27:40] *** Joins: claudiu (claudiu@moz-33191099.thefacebook.com)
[03:28:39] *** Quits: piterparker (piterparke@CCABA658.57403EA3.F78F1166.IP) (Client exited)
[03:28:49] <Capt_Redbeard> bvssvni: good plan :D
[03:30:13] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Input/output error)
[03:30:16] <kemurphy> would a rule where any struct that has items where lifetime parameters are required but not specified all share the same implicit lifetime?
[03:30:30] <kemurphy> er, would such a rule be "good"
[03:30:45] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[03:31:00] <kemurphy> so like struct S { f: || } === struct S<'a> { f: 'a|| }
[03:31:13] *** Quits: claudiu (claudiu@moz-33191099.thefacebook.com) (Ping timeout)
[03:31:16] *** Quits: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca) (Ping timeout)
[03:31:18] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[03:31:33] *** Quits: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com) (Ping timeout)
[03:31:40] *** Joins: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com)
[03:31:51] <kemurphy> and maybe struct S<'b> { f: ||, g: 'b|| } === struct S<'a, 'b> { f: 'a||, g: 'b|| }
[03:31:55] *** Joins: claudiu (claudiu@moz-33191099.thefacebook.com)
[03:32:26] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[03:32:52] *** Joins: fmtq (fmt@moz-5769BD38.static.tpgi.com.au)
[03:33:35] *** Quits: claudiu (claudiu@moz-33191099.thefacebook.com) (Ping timeout)
[03:34:18] *** Joins: claudiu (claudiu@moz-33191099.thefacebook.com)
[03:34:34] <bvssvni> kemurphy: the lifetime is not attached to each member, it is more like "the member needs to live at least this long"
[03:36:14] <bvssvni> if a lifetime is represented by code line [start, end], it needs to include any [start, end] of structs it is member of
[03:36:22] *** Joins: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net)
[03:37:06] *** Joins: Moor (Moor@moz-C04C27D8.hsd1.ca.comcast.net)
[03:38:41] <bvssvni> when you assign mystruct.closure = myclosure, Rust compares the lifetimes and then moves on
[03:39:20] <Moor> Hey, so I was just trying to iterate over an iterator, to take the LCM of a list of ints,
[03:39:33] *** Quits: claudiu (claudiu@moz-33191099.thefacebook.com) (Ping timeout)
[03:40:01] *** Joins: claudiu (claudiu@moz-33191099.thefacebook.com)
[03:40:55] <Moor> And I tried "for i in nums { res = lcm(res, i); };", but I kept getting "error: cannot borrow immutable argument as mutable".
[03:41:00] *** Joins: paulolieuthier (quassel@D13895D0.62D24C99.368B8D1A.IP)
[03:41:31] <Moor> But then just to try everything, I tried "for i in ~nums { ... };" -- and that worked.
[03:41:46] <kemurphy> bvssvni: right, i understand lifetimes -- i was talking about syntactic relief
[03:42:20] <bvssvni> kemurphy: ah
[03:42:35] <Moor> What was I doing wrong/was rustc trying to say before, and what was I doing right after? (Or, did I stumble across a bad solution that works, but shouldn't be used?)
[03:42:40] <bvssvni> Moor: can you post some code at gist.github.com?
[03:43:46] *** Joins: alinab (alina@moz-94EAE39D.alinab.org)
[03:43:55] *** Quits: claudiu (claudiu@moz-33191099.thefacebook.com) (Input/output error)
[03:44:53] *** Joins: claudiu (claudiu@moz-33191099.thefacebook.com)
[03:44:57] *** Joins: drbawb (drbawb@moz-444F91EA.wi.res.rr.com)
[03:45:14] *** Quits: brendan (brendaneic@BBB21EE2.F6F8CE9D.1DA58BFC.IP) (Quit: brendan)
[03:45:17] *** Quits: oxum (anonymous@9AF44D15.6336B7BD.C28326FD.IP) (Quit: Bye..)
[03:45:20] <kemurphy> bvssvni: i guess rephrased, i'm wondering if it makes sense to assume/infer that for struct S { f: || } that s.f lives at least as long as s
[03:45:27] *** Quits: q66 (q66@D6C23B3C.45E1A7FC.B1AA2106.IP) (Quit: Leaving)
[03:45:32] *** Joins: oxum (anonymous@9AF44D15.6336B7BD.C28326FD.IP)
[03:46:13] <kemurphy> come to think of it, does anyone have an example of when having multiple lifetime parameters on a struct is actually useful beyond appeasing the compiler when it complains?
[03:47:30] <bvssvni> kemurphy: maybe there is some tricky parts with closures returning closures
[03:47:39] <kemurphy> bvssvni: ah very good point
[03:47:59] <kemurphy> speaking of closures
[03:48:04] *** Joins: nanotech (nanotech@moz-A17D0B2C.msjw.hsdb.sasknet.sk.ca)
[03:48:53] <kemurphy> can a toplevel function be considered to have type 'static |...| -> whatever
[03:49:02] *** Joins: roy (user@moz-C21D3E9A.hsd1.il.comcast.net)
[03:49:30] <kemurphy> i feel like that would be a useful closure lifetime
[03:50:05] <bvssvni> kemurphy: yes, 'static is basically the lifetime of the entire program
[03:50:23] <kemurphy> right
[03:50:23] *** Quits: claudiu (claudiu@moz-33191099.thefacebook.com) (Ping timeout)
[03:50:29] <kemurphy> but does the compiler agree :P
[03:50:30] <Moor> bvssvni: https://gist.github.com/anonymous/dc0ce15ceb2619e6ece9
[03:50:45] *** Joins: claudiu (claudiu@moz-33191099.thefacebook.com)
[03:51:13] <kemurphy> rusti: fn wut() { } struct S { f: 'static || } let s = S { f: wut }
[03:51:14] -rusti- <anon>:11:5: 11:6 error: expected `;` but found `}`
[03:51:14] *** Joins: judofyr (judofyr@moz-8BB0A10D.nextgentel.com)
[03:51:14] -rusti- <anon>:11     };
[03:51:14] -rusti-               ^
[03:51:14] -rusti- application terminated with error code 101
[03:51:20] <kemurphy> rusti: fn wut() { } struct S { f: 'static || } let s = S { f: wut };
[03:51:23] -rusti- pastebinned 10 lines of output: http://ix.io/aQC
[03:51:30] <bvssvni> Moor: what is the compiler error?
[03:51:35] *** Parts: trinary (Adium@moz-6388B339.hsd1.co.comcast.net) ()
[03:51:39] <kemurphy> bahahahaha
[03:51:44] <kemurphy> ICE
[03:52:18] *** Quits: paulolieuthier (quassel@D13895D0.62D24C99.368B8D1A.IP) (Client exited)
[03:52:30] <kemurphy> rusti: fn wut() { println!("wut"); } struct S { f: 'static || } let s = S { f: wut }; (s.f)()
[03:52:32] -rusti- wut
[03:52:32] -rusti- ()
[03:52:40] <kemurphy> oh, that is just rusti being bad
[03:52:42] <kemurphy> cool
[03:52:45] <kemurphy> that is actually super useful
[03:52:49] *** Joins: kvark (Mibbit@moz-F30E0473.cpe.net.cable.rogers.com)
[03:52:56] *** Quits: judofyr (judofyr@moz-8BB0A10D.nextgentel.com) (Ping timeout)
[03:54:09] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[03:54:25] <bvssvni> kemurphy: so 'static || is equivalent to fn ()
[03:54:40] <kemurphy> well, fn() is not a valid type anymore
[03:54:48] <cmr> it is.
[03:54:49] <kemurphy> er,
[03:54:52] <kemurphy> &fn()
[03:54:55] <cmr> rusti: let x: fn();
[03:54:57] <kemurphy> which is what 'static || is
[03:54:57] -rusti- pastebinned 10 lines of output: http://ix.io/aQE
[03:55:06] <cmr> eugh rusti needs to be updated
[03:55:12] *** Quits: claudiu (claudiu@moz-33191099.thefacebook.com) (Ping timeout)
[03:55:35] <kemurphy> rusti: fn wut() { println!("wut"); } struct S { f: fn() } let s = S { f: wut }; (s.f)()
[03:55:36] -rusti- wut
[03:55:37] -rusti- ()
[03:55:39] <kemurphy> oh
[03:55:41] <kemurphy> hm
[03:55:43] <kemurphy> i guess so
[03:55:46] <kemurphy> i thought that syntax went away
[03:55:51] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[03:56:01] <cmr> no, just (ptr)fn
[03:56:05] *** Joins: claudiu (claudiu@moz-33191099.thefacebook.com)
[03:56:06] <cmr> bare-fn was never allowed before.
[03:56:28] *** Joins: maxli (maxli@moz-B19F68ED.student.cs.uwaterloo.ca)
[03:56:46] *** Joins: Blub\0 (wry@620605B3.71150E1A.237AE2BA.IP)
[03:57:04] <kemurphy> cmr: ahhh got it
[03:57:05] <kemurphy> thanks
[03:57:13] *** Quits: Blub\w (wry@620605B3.71150E1A.237AE2BA.IP) (Ping timeout)
[03:58:14] *** Joins: mib_9ok4e9 (Mibbit@92893F5A.AA9008B0.DDE5D3F6.IP)
[03:59:43] *** Joins: claudiu_ (claudiu@moz-33191099.thefacebook.com)
[03:59:54] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[04:00:03] *** Quits: claudiu_ (claudiu@moz-33191099.thefacebook.com) (Connection reset by peer)
[04:00:05] <kvark> Profiling shows some "<cycle 2>" being the top-level function and taking 36% total time
[04:00:15] *** Joins: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net)
[04:00:16] *** Joins: claudiu_ (claudiu@moz-33191099.thefacebook.com)
[04:00:29] <kvark> anyone knows what's that?
[04:00:34] *** Quits: zmthy (zmthy@moz-C2881CC3.ecs.vuw.ac.nz) (Quit: leaving)
[04:00:46] *** Quits: claudiu (claudiu@moz-33191099.thefacebook.com) (Ping timeout)
[04:01:49] *** Quits: angdev (angdev@16F167B.4C57D258.D8E8354F.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[04:01:52] *** Joins: angdev (angdev@16F167B.4C57D258.D8E8354F.IP)
[04:01:56] *** Quits: claudiu_ (claudiu@moz-33191099.thefacebook.com) (Ping timeout)
[04:02:10] *** Joins: WebeWizard (WebeWizard@moz-7CCD1DAE.ks.ks.cox.net)
[04:02:26] <bvssvni> Moor: it is weird, because replacing nums with range(1, 21) works
[04:02:31] *** Quits: maxli (maxli@moz-B19F68ED.student.cs.uwaterloo.ca) (Quit: Leaving.)
[04:03:41] <bvssvni> Moor: it works if you put a 'mut' in front of the argument
[04:04:08] <kemurphy> hm
[04:04:14] <kemurphy> why are first-class methods not supported?
[04:04:56] *** Quits: angdev (angdev@16F167B.4C57D258.D8E8354F.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[04:04:58] <bvssvni> Moor: it is probably because iterators need to be mutable
[04:06:33] <bvssvni> Moor: the for loop implicitly makes the iterator mutable, leading to this confusion
[04:08:30] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[04:08:43] <bvssvni> Moor: I added a comment https://gist.github.com/anonymous/dc0ce15ceb2619e6ece9
[04:08:44] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[04:09:46] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[04:10:11] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[04:10:57] <bvssvni> kemurphy: what do you mean with first-class methods?
[04:11:10] <bvssvni> kemurphy: Haskell like?
[04:11:47] *** Joins: rustyonrust (Mibbit@3DD83AB4.A9DA0237.DDE5D3F6.IP)
[04:13:13] *** Quits: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[04:13:24] *** Joins: mindcat (mindcat@779ABA09.67E5BEA2.57E3C596.IP)
[04:13:33] *** Quits: NiccosSystem (NiccosSyst@moz-ED196BB4.customer.lyse.net) (Quit: Leaving)
[04:13:56] <kemurphy> rusti: struct S; impl S { fn f(&self) {} } let f = S::f; let s = S; f(s)
[04:13:59] -rusti- pastebinned 8 lines of output: http://ix.io/aQG
[04:14:08] *** Quits: gsnedders (gsnedders@C95C83A3.84389009.803EA162.IP) (Ping timeout)
[04:14:42] <kemurphy> beyond the wonkiness in how it would be called
[04:14:54] <kemurphy> since it is normally s.f() and not f(s)
[04:15:46] <mib_9ok4e9> hey all, I need to cast 0 to a uint. How would I do this?
[04:15:59] <Yurume> 0u?
[04:16:35] *** Joins: philix (philix@moz-B56C3B8A.user.veloxzone.com.br)
[04:16:39] <kemurphy> rusti: let zero : uint = 0; zero
[04:16:41] -rusti- 0u
[04:17:08] <Yurume> mib_9ok4e9: Rust integer literals can be suffixed with optional type specifier: 0 (generic), 0u, 0u8, 0u32, 0i, 0i64, ...
[04:17:33] *** Quits: Earnestly (earnest@F86306B4.BBD8F39E.FEA8F6FD.IP) (Ping timeout)
[04:17:46] <mib_9ok4e9> that was it. thanks
[04:18:00] <rustyonrust> Help with what this error means:  cannot borrow immutable dereference of & pointer as mutable
[04:18:47] <hoverbear> Can I match based on a trait?
[04:20:22] *** Joins: NiccosSystem (NiccosSyst@moz-ED196BB4.customer.lyse.net)
[04:21:08] <bvssvni> kemurphy: I do not know, but I would like to have fn f(self: &S) {} to desugar to impl
[04:21:12] *** Parts: nanotech (nanotech@moz-A17D0B2C.msjw.hsdb.sasknet.sk.ca) ()
[04:21:42] <bvssvni> kemurphy: like static extensions in C#
[04:22:08] <bvssvni> kemurphy: but I am used to Rust now, so it is not that bad
[04:23:00] <Moor> bvssvni: Okay. That makes sense. Thank you. Do you have any explanation as to why "~nums" works?
[04:23:12] <bvssvni> rustyonrust: wherever you get that & pointer, change it to &mut
[04:23:25] *** Quits: lerc (quassel@moz-289EFA2.telstraclear.net) (Connection reset by peer)
[04:23:49] <bvssvni> Moor: I guess since it is owned, then Rust can implicitly make it mutable
[04:23:57] <rustyonrust> thanks
[04:24:47] <Moor> Okay. Cool.
[04:25:03] *** Joins: lerc (quassel@moz-289EFA2.telstraclear.net)
[04:25:24] <bvssvni> Moor: it is the iterator that is made mutable, not the ~nums :)
[04:25:52] <Yurume> hoverbear: not sure what do you mean, something like type-based match? (short answer to that: not directly.)
[04:25:54] *** Quits: jesse98 (jjones@6251EDC2.15651213.B46B86FA.IP) (Ping timeout)
[04:26:19] <hoverbear> Yurume: I think I was approaching the problem wrong actually.
[04:26:32] *** Quits: mib_9ok4e9 (Mibbit@92893F5A.AA9008B0.DDE5D3F6.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[04:28:53] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[04:29:09] *** Joins: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[04:29:14] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[04:29:17] <hoverbear> Yurume: Actually what I want to do, is allow like Centimeters(100) == Meters(1)
[04:29:34] <Yurume> Centimeters and Meters are distinct types, right?
[04:30:39] *** Quits: kvark (Mibbit@moz-F30E0473.cpe.net.cable.rogers.com) (Quit: http://www.mibbit.com ajax IRC Client)
[04:30:54] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[04:31:28] *** Quits: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[04:31:49] <Yurume> hoverbear: in general Eq requires the same type for both operands, so it wouldn't work for distinct types (unfortunately) though. Equiv would work.
[04:32:24] <hoverbear> Yurume: Ok. Yes, they're two different types that implement a "Distance" trait.
[04:32:45] <hoverbear> Basically I want to make different types of distances equal to one another implicitly
[04:32:56] <Yurume> or you can sacrifice some generality with enum Length<T> { Meters(T), Centimeters(T), ... } though it wouldn't what you want
[04:33:19] <bvssvni> hoverbear: maybe you can have Meters(Centi, 100) == Meters(Uni, 1)
[04:33:40] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[04:34:28] <Yurume> hoverbear: if Centimeters/Meters were just functions (and not direct types), then things would've be much simpler
[04:34:50] <Yurume> but that prohibits the use in static items right now (no CTFE)
[04:35:05] <hoverbear> bvssvni: No the whole idea is to have the types so you can enforce it as you pass it around. I just want to be able to take any "distance" function into say fn slow_down<T: Distance>(x: T) { T(x - Meters(1.0)) };
[04:35:19] <hoverbear> distance traited type*
[04:36:08] <mindslight> would Distance being an enum work, or is == unoverloadable ?
[04:36:14] <Yurume> right now, yes.
[04:36:24] <hoverbear> == is overloadable, but you can't do it on differing types I think.
[04:36:39] <Yurume> since it is bound to Ord (without any further choice of rhs types)
[04:36:51] <mindslight> if Distance is an enum, then both values are the same type
[04:37:43] <hoverbear> mindslight: Oh like storing the sub-unit and the value in a general unit?
[04:37:49] <Yurume> struct Distance<T> { v: T, unit: &'static DistanceUnit }?
[04:37:56] <bvssvni> hoverbear: what about moving slow_down into the impl of Meters?
[04:38:27] <hoverbear> bvssvni: That's not ideal. I'd like this to be done outside the library and seamless to the user.
[04:39:02] <mindslight> enum Distance { Meter(f64), Centimeter(f64) };
[04:39:06] <hoverbear> So they can just go like Meters(2.0) + Decimeters(10.0) == Meters(2.10)
[04:39:37] <mindslight> then they're both Distance, just different branches. yes, its not extensible from the outside, but do you need that?
[04:39:54] <hoverbear> mindslight: That's the point of this excersize. :)
[04:40:12] <Yurume> hoverbear: if Eq is wanted, your best bet atm is a single type for Distancef, though you can make it customizable with additional field (like `unit` in my example).
[04:40:13] <mindslight> oic, teach me to tune in halfway through something
[04:40:15] <bvssvni> but then, when you call x - Meters(1.0) it needs a match
[04:40:37] <bvssvni> hoverbear: maybe it optimizes out if you inline Sub
[04:40:57] <hoverbear> bvssvni: That might get unweildly when you have all the different unit type (yotta, zeta, giga, etc).
[04:41:46] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[04:41:51] <mindslight> well in that case, why not just wrap the Trait in a struct, so you can overload the equals method on the struct, but call a differently named/typed method on the trait?
[04:41:52] <hoverbear> I guess it's fine if they need to explicitly convert.
[04:42:09] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[04:42:16] <hoverbear> mindslight: Oh that's interesting.
[04:42:20] *** Joins: maxli (maxli@moz-B19F68ED.student.cs.uwaterloo.ca)
[04:42:29] <mindslight> then you need a creation function for every unit to make it look nice
[04:42:39] <hoverbear> Ehhh... 
[04:42:41] <Yurume> mindslight: which was my suggestion.
[04:42:44] *** Joins: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net)
[04:42:47] <Yurume> < Yurume> struct Distance<T> { v: T, unit: &'static DistanceUnit }?
[04:43:19] <mindslight> Yurume: yeah, similar. depends if you want the numeric value inside or outside the trait object
[04:43:31] <Yurume> and DistanceUnit is used to convert from/to other distance units
[04:43:41] <hoverbear> Maybe just having Centimeters(1.0).to_meters() + Meters(1.0) == Meters(1.01) is the best plan.
[04:43:49] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[04:43:58] <hoverbear> Otherwise it'll be hard to specify which type you want to end up with
[04:43:59] <Yurume> mindslight: otherwise Centimeters and Meters wouldn't be directly comparable, so.
[04:44:23] <Yurume> (the value itself needs to convey the unit information, either in the type or in the value.)
[04:44:34] *** Quits: Capt_Redbeard (Capt_Redbe@moz-4998C3D0.ok.ok.cox.net) (Quit: Textual IRC Client: www.textualapp.com)
[04:45:11] *** Quits: thesnowdog (doug@8BC5A90F.CDB23781.6F17036B.IP) (Ping timeout)
[04:45:17] *** Joins: judofyr (judofyr@moz-8BB0A10D.nextgentel.com)
[04:45:59] <mindslight> Yurume: yeah, yours might be simpler behind the scenes, rather than having a different one-member struct for every unit, 
[04:46:33] *** Joins: thesnowdog (doug@8BC5A90F.CDB23781.6F17036B.IP)
[04:46:57] <mindslight> as well as not needing allocation for every quantity.. s/might//
[04:46:57] *** Quits: judofyr (judofyr@moz-8BB0A10D.nextgentel.com) (Ping timeout)
[04:47:10] <ChrisMorgan> One approach is having your multipliers as an enum: enum PowerOfTenMultiplier { Pico = -12, Nano = -9, Micro = -6, Milli = -3, Centi = -2, Deca = -1, Unit = 0, Kilo = 3, Mega = 6, Giga = 9, Tera = 12, Peta = 15 }
[04:47:30] * ChrisMorgan imagines code `100 * Centi * Meter + 1 * Meter`
[04:48:11] <Yurume> ChrisMorgan: I really want Smoot!
[04:48:16] <ChrisMorgan> (You'd need to be a little careful how you handled that, but it could work.)
[04:48:20] <ChrisMorgan> Smoot?
[04:48:25] <Yurume> https://en.wikipedia.org/wiki/Smoot
[04:48:38] <rustyonrust> How do I check if a variable is none in an iff?
[04:48:40] <rustyonrust> if*
[04:48:46] <bvssvni>  Deca * Deca = Milli
[04:48:49] <Yurume> rustyonrust: if v.is_none() { ... }
[04:48:49] <rustyonrust> if var == None does not compile
[04:48:53] <rustyonrust> COOL
[04:48:56] <bvssvni> *Centi
[04:49:12] <Yurume> yes, == wouldn't work always since Option<T> is comparable only when T is comparable.
[04:49:51] <ChrisMorgan> rusti: None::<int> == None  // but provided the T is comparable, it does work
[04:49:53] -rusti- true
[04:50:22] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[04:50:34] <ChrisMorgan> rustyonrust: is_none() is just `fn is_none(&self) -> bool { match *self { None => true, _ => false } }`
[04:50:41] *** Joins: pachuco (Mibbit@92893F5A.AA9008B0.DDE5D3F6.IP)
[04:50:44] <Yurume> rusti: struct DoesNotImplEq {} None::<DoesNotImplEq> == None // and this doesn't.
[04:50:44] -rusti- <anon>:10:31: 10:32 error: Unit-like struct definition should be written as `struct DoesNotImplEq;`
[04:50:44] -rusti- <anon>:10         struct DoesNotImplEq {} None::<DoesNotImplEq> == None // and this doesn't.
[04:50:44] -rusti-                                         ^
[04:50:45] -rusti- application terminated with error code 101
[04:50:49] <Yurume> aw!
[04:50:58] <Yurume> rusti: struct DoesNotImplEq; None::<DoesNotImplEq> == None // and this one doesn't.
[04:50:59] -rusti- <anon>:10:31: 10:60 error: failed to find an implementation of trait std::cmp::Eq for main::DoesNotImplEq
[04:50:59] -rusti- <anon>:10         struct DoesNotImplEq; None::<DoesNotImplEq> == None // and this one doesn't.
[04:50:59] -rusti-                                         ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~
[04:50:59] -rusti- application terminated with error code 101
[04:51:14] <pachuco> If someone can field a beginner question: how do you include another .rs file that is not entirely mods?
[04:51:56] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[04:52:15] <bvssvni> pachuco: the include! macro
[04:52:44] <Yurume> bvssvni: I think it only works for exprs
[04:52:47] <ChrisMorgan> pachuco: what do you mean?
[04:52:58] <Yurume> ChrisMorgan: a raw #include functionality.
[04:53:15] <ChrisMorgan> Yurume: I just want confirmation that that *is* actually what pachuco wants.
[04:53:22] <ChrisMorgan> pachuco: and *why* do you want this?
[04:53:54] <pachuco> I mean, I've got another file I need to call functions from. There is one "mod" in there, and a bunch of other stuff. No main method, no worries
[04:54:29] <ChrisMorgan> `mod filename;`?
[04:54:36] <ChrisMorgan> (Minus the .rs extension.)
[04:54:55] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[04:55:49] <pachuco> it disagrees. Within a file called foo.rs, there is a mod called test
[04:55:51] *** Quits: Sorella (quildreen@9D963F5D.DF5D8AE7.54BCAB54.IP) (Quit: Ex-Chat)
[04:55:56] *** Joins: sawrubh (uid6719@moz-5F4AA75A.irccloud.com)
[04:56:05] <pachuco> We can't get appropriate syntax to access it
[04:56:14] <bvssvni> pachuco: foo::test()
[04:56:21] <Yurume> pachuco: ah... hmm, I think you are misunderstanding the module concept in Rust. in Rust modules are separate from files, though you *can* let modules to refer other files: mod foo; basically expands to mod foo { <what "foo.rs" contains> }.
[04:56:36] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[04:57:19] <pachuco> We sort of understand that however when we go about that manner we get an error on compilation that 'use' and 'extern mod' declarations must precede items
[04:57:39] <Yurume> if foo.rs itself has another mod X, then it has to be referred as foo::X::blabla...
[04:58:16] *** Quits: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp) (Ping timeout)
[04:58:20] <Yurume> pachuco: use can go before the definition.
[04:58:39] <Yurume> e.g. use foo::bar; pub mod foo { pub fn bar() { ... } } is permitted
[04:58:54] *** Joins: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp)
[04:59:08] <ChrisMorgan> pachuco: have you read the tutorial and reference manual?
[04:59:30] <ChrisMorgan> If you haven't, please do—they explain all the important concepts.
[04:59:30] <pachuco> yes, they're useless...to this issue
[04:59:46] <ChrisMorgan> pachuco: is your code available?
[05:00:34] *** Quits: bytbox (s@moz-E1E7FAC3.washdc.fios.verizon.net) (Ping timeout)
[05:01:16] <ChrisMorgan> pachuco: as far as you've described the problem, the tutorial and reference manual are certainly not useless for this issue.
[05:01:55] <bvssvni> pachuco: it takes a while to get used to it, if you are accustomed to namespaces like in C#
[05:02:37] <pachuco> We just figured it out. We had to put the mod foo below a pre-existing mod and series of use statements
[05:02:57] <pachuco> Any idea why in the world that was the defining issue?
[05:03:34] <ChrisMorgan> pachuco: is your code available?
[05:04:00] <ChrisMorgan> (It's difficult to picture precisely what you're meaning and what the problem is that you're running into.)
[05:04:43] <pachuco> It's an assignment for a rust course and the professor said that IRC is a good resource
[05:05:07] <pachuco> The structure of the code is one extern mod statement, a bunch of use statements from std, and then finally "mod foo"
[05:05:53] <bvssvni> pachuco: it sounds like a similar problem I had once, but I can't remember exactly what the problem was :P
[05:06:20] *** Quits: eatkinson-away (eatkinson@moz-261EDE03.hsd1.ca.comcast.net) (Ping timeout)
[05:06:28] *** Joins: jroweboy (Mibbit@moz-18814A6B.provo.static.broadweavenetworks.net)
[05:06:36] <bvssvni> pachuco: you can use gist.github.com
[05:06:53] *** Joins: dmillerw (Dylan@moz-C4595FAE.eugn.qwest.net)
[05:08:37] *** Quits: aatch (James@moz-B437F499.pocketrent.com) (Client exited)
[05:09:06] <bvssvni> pachuco: it sounds like you have solved the problem, the tricky part is the compiler is not very helpful at such problems
[05:09:15] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[05:09:52] *** Joins: ktt3ja (ktt3ja@moz-85E2770C.hsd1.va.comcast.net)
[05:10:56] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[05:11:04] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[05:11:09] <bvssvni> pachuco: there are several issues about this and it will probably give better hints in the future
[05:11:24] *** Quits: jroweboy (Mibbit@moz-18814A6B.provo.static.broadweavenetworks.net) (Quit: http://www.mibbit.com ajax IRC Client)
[05:11:32] *** Joins: jroweboy (Mibbit@moz-18814A6B.provo.static.broadweavenetworks.net)
[05:12:24] *** Joins: eatkinson-away (eatkinson@moz-261EDE03.hsd1.ca.comcast.net)
[05:12:45] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[05:16:43] *** Joins: earlzlap (earlz@5B1FE501.78CAA20E.2F043D47.IP)
[05:17:33] *** Quits: mawuli (mawuli@moz-A89BBCE.com.gh) (Ping timeout)
[05:18:30] *** Quits: rustyonrust (Mibbit@3DD83AB4.A9DA0237.DDE5D3F6.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[05:19:15] *** Quits: bmu (chatzilla@moz-A87574A6.hsd1.pa.comcast.net) (Ping timeout)
[05:19:55] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[05:20:47] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Quit: TheHydroImpulse)
[05:21:06] *** Joins: santiago (santiago@moz-69361A64.socal.res.rr.com)
[05:21:07] *** Quits: santiago (santiago@moz-69361A64.socal.res.rr.com) (Client exited)
[05:21:15] *** Quits: tjc (tjc@moz-791C24B0.phlapa.east.verizon.net) (Quit: Textual IRC Client: www.textualapp.com)
[05:21:35] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[05:23:27] *** Quits: maxli (maxli@moz-B19F68ED.student.cs.uwaterloo.ca) (Input/output error)
[05:23:58] *** Quits: tenderlove (tenderlove@moz-D909DE6E.sea.wa.customer.broadstripe.net) (Client exited)
[05:24:02] *** Joins: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca)
[05:24:18] *** Joins: tenderlove (tenderlove@moz-D909DE6E.sea.wa.customer.broadstripe.net)
[05:24:44] *** Joins: angdev (angdev@16F167B.4C57D258.D8E8354F.IP)
[05:25:35] *** Joins: Capt_Redbeard (Capt_Redbe@moz-4998C3D0.ok.ok.cox.net)
[05:25:39] <Capt_Redbeard> Ok so I am trying to add a named lifetime to my struct. When I compile, it says it is looking for a 1 lifetime parameter, but found 0 on the impl of my struct. What is the syntax for named lifetime parameteres on impls?
[05:25:50] *** Quits: NiccosSystem (NiccosSyst@moz-ED196BB4.customer.lyse.net) (Quit: Leaving)
[05:26:00] *** Quits: tenderlove (tenderlove@moz-D909DE6E.sea.wa.customer.broadstripe.net) (Ping timeout)
[05:26:17] <jroweboy> impl<'a> Struct<'a> { } I think
[05:26:24] <Yurume> Capt_Redbeard: impl<'a> Foo<'a> etc.
[05:26:50] *** Joins: echristo (echristo@moz-1892C634.hsd1.ca.comcast.net)
[05:26:54] <Capt_Redbeard> jroweboy: Yurume: thats it. Thank you!
[05:27:38] <Capt_Redbeard> One more thing, if I want to create a struct but don't want to assign values to some of the fields, is there some temporary value I can put it since there isn't null?
[05:28:09] <Yurume> you should avoid that.
[05:28:24] <bvssvni> Capt_Redbeard: use Option
[05:28:27] <Yurume> there is no safe way to do it; you can use Option<T> of course
[05:28:34] *** Quits: echristo (echristo@moz-1892C634.hsd1.ca.comcast.net) (Ping timeout)
[05:28:42] <Capt_Redbeard> Ah ok. Thanks
[05:28:46] <Yurume> but you cannot *avoid* assigning some fields safely.
[05:29:47] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[05:31:30] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[05:33:38] *** Joins: daschl (Adium@moz-DC6DE6E2.vie.surfer.at)
[05:33:45] *** Joins: untwisted (untwisted@moz-60D579DC.hsd1.ca.comcast.net)
[05:39:24] *** Quits: ryeguy (ryeguy@9C569A0.5D1143CD.E8644521.IP) (Quit: )
[05:39:30] *** Joins: judofyr (judofyr@moz-8BB0A10D.nextgentel.com)
[05:40:44] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[05:41:10] *** Quits: judofyr (judofyr@moz-8BB0A10D.nextgentel.com) (Ping timeout)
[05:43:05] *** Joins: tgkokk (tgkokk@moz-5CF0FE99.home.otenet.gr)
[05:44:55] *** Quits: pachuco (Mibbit@92893F5A.AA9008B0.DDE5D3F6.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[05:46:23] *** Joins: sssilver (sssilver@moz-A2247A31.lightspeed.rcsntx.sbcglobal.net)
[05:46:42] <sssilver> Hello gentlemen
[05:46:43] <sssilver> I'm in DFW area, and I'm looking for some Rust events/meetups to visit 
[05:46:52] <sssilver> Dallas/Fort Worth, TX
[05:46:54] *** Quits: ktt3ja (ktt3ja@moz-85E2770C.hsd1.va.comcast.net) (Ping timeout)
[05:46:59] <sssilver> but unfortunately I can't find anything 
[05:47:08] <sssilver> does anyone know what's going on? 
[05:47:23] <bjz> I'm not sure, most of us are scattered wide an far geographically
[05:47:57] <sssilver> I found some C++ meetups, Python, PHP, there's even something for Haskell
[05:48:05] <sssilver> but not Rust
[05:48:13] *** Joins: snerd_ (motk@moz-D21A06DF.members.linode.com)
[05:48:16] *** Quits: snerd_ (motk@moz-D21A06DF.members.linode.com) (Quit: snerd_)
[05:48:19] <bjz> rust is still super young
[05:48:45] <sssilver> sure, that's why the people who are interested in it should stay close and together :)
[05:49:01] *** Quits: tgkokk (tgkokk@moz-5CF0FE99.home.otenet.gr) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[05:49:03] *** Joins: edwardw (edwardw@96E7298D.3E260003.B9C6B12A.IP)
[05:49:14] <bjz> #rust is where most of the community is atm
[05:49:44] <bjz> if you want a meetup at the moment, you'll probably have to start it yourself :)
[05:49:52] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Ping timeout)
[05:50:06] <bjz> but it might be interesting if there are more general PL meetups around
[05:50:17] <bjz> I normally go to my local FP group
[05:50:18] <jroweboy> I've never been to any language meet ups before so I'm curious to know what people do at them at all?
[05:50:35] <MP2E> I'm curious as well :P
[05:50:38] <sssilver> jroweboy: well mostly share experience
[05:50:46] <sssilver> discuss specific details of the language
[05:50:53] <sssilver> usually lots of people have questions
[05:50:58] <sssilver> and need general guidance
[05:50:58] <bjz> jroweboy: we have talks and hack away at stuff, share ideas. drink beer
[05:51:01] <sssilver> usually a few are newbies
[05:51:12] <sssilver> a few others are really pros
[05:51:28] <sssilver> not everything in this world can be Googled
[05:51:37] <MP2E> for those things, we use Bing
[05:51:38] <bjz> jroweboy: just good to get out and meet new people, and learn new things
[05:51:42] * MP2E gets shot
[05:52:01] <jroweboy> Sounds kinda cool! Yeah, you can't really google to meet new people (or at least I haven't tried)
[05:52:07] <sssilver> sometimes one sentence said by a really good professional while chewing a burger can change the way you think about things
[05:52:14] <bjz> sssilver: for me it's that I sometimes don't know something *could* be googled
[05:52:26] <bjz> because I didn't know it existed
[05:52:38] <sssilver> yeah, or that
[05:52:40] <sssilver> good one
[05:52:48] *** Joins: aravindavk (aravinda@moz-BD0CADEE.redhat.com)
[05:53:37] *** Joins: sssilver_ (sssilver@moz-A2247A31.lightspeed.rcsntx.sbcglobal.net)
[05:53:37] *** Quits: sssilver (sssilver@moz-A2247A31.lightspeed.rcsntx.sbcglobal.net) (Connection reset by peer)
[05:53:40] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[05:54:15] *** Joins: cremes_ (cremes@moz-649E729A.lv.lv.cox.net)
[05:54:21] <bjz> I like the general FP one because that's where all the rebels hang out
[05:54:35] <bjz> bit too much of a focus on Clojure/Haskell though
[05:54:50] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[05:54:52] <sssilver_> :)
[05:54:55] <bjz> I would prefer a more general "Yay PLs" group
[05:54:58] <sssilver_> I wouldn't mind attending a FP meetup
[05:55:02] *** Joins: mbx (mbebenita@moz-B45FE61C.hsd1.ca.comcast.net)
[05:55:05] <sssilver_> even if it's Haskell-focused
[05:55:15] <sssilver_> doubt there's any in Dallas though
[05:55:22] <bjz> really?
[05:55:33] <bjz> didn't you say there was a haskell one?
[05:55:40] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[05:55:47] <MP2E> Dallas was a big location for programmers I thouht, aren't there a few game dev studios nearby?
[05:55:50] <MP2E> ID Software etc
[05:55:54] <MP2E> thought*
[05:55:55] <sssilver_> yeah there is
[05:56:04] <sssilver_> it's haskell though, not really general FP
[05:56:11] <bjz> ah yeah
[05:56:23] <sssilver_> MP2E: yeah software is pretty big here. There's Microsoft too.
[05:56:30] <sssilver_> MP2E: Austin would be bigger for that though
[05:56:38] <sssilver_> I don't really know, I only moved here 3 weeks ago
[05:56:43] <bjz> I worry about the single language ones being too much of a circlejerk tbh :P
[05:56:44] <MP2E> Ahh
[05:56:53] <sssilver_> bjz: what's a "circlejerk"?
[05:56:59] <MP2E> rofl
[05:57:04] <dougxxx> now, now, behave.
[05:57:08] <sssilver_> sorry, English isn't my first language
[05:57:12] <sssilver_> not even my second in fact
[05:57:12] <bjz> sssilver_: reddit speak :D
[05:57:14] <zwarich> I used to go to Perl Mongers
[05:57:21] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[05:57:22] <MP2E> I apologize, it'd just be funny to say the definitino in rust
[05:57:23] <MP2E> that's all
[05:57:25] <MP2E> :P
[05:57:27] <zwarich> and it wasn't even about Perl half the time
[05:57:29] <bjz> sssilver_: means that everyone is patting each other on the back
[05:57:48] <MP2E> that's a much less vulgar way of putting it hehe
[05:57:51] <sssilver_> ah
[05:58:13] <bjz> zwarich: yeah, just a common interest is good
[05:58:47] <bjz> zwarich: I think edwinb (idris designer) of all people goes to a Perl meetup
[05:58:48] *** sssilver_ is now known as sssilver
[05:59:33] <zwarich> the Perl culture does tend to be very pragmatic though ;-)
[05:59:35] <jroweboy> sssilver: another common definition of circlejerk is to call it an echo chamber. Its where people who all share the same opinion close themselves off to other opinions by constantly only listening to ideas that only match their own
[05:59:43] <bjz> jroweboy: yeah
[05:59:48] <sssilver> jroweboy: yeah, makes sense now
[05:59:53] <sssilver> thanks for the explanation :)
[06:00:08] <sssilver> yeah PHP programmers are usually big circlejerks
[06:00:09] <bjz> jroweboy: the crudeness is unfortunate, but it does encapsulate the idea pretty well
[06:00:34] <sssilver> and they get defensive about things and all
[06:00:45] <jroweboy> I know what it feels like to learn another language :) Sometimes you just gotta ask what that word means and then you realize you didn't wanna know ;)
[06:00:56] <sssilver> ahaha I actually did want to know :)
[06:01:10] <sssilver> as I've moved to the USA, I'm now learning words like cajigger, and doodad, and thingamabob
[06:01:16] <sssilver> expanding my English horizons
[06:01:24] <sssilver> it's sad to realize I'll forever speak with an accent though
[06:01:31] <bjz> sssilver: I think that's true for lots of people who insulate themselves in a single community and don't explore - re. the PHP thing
[06:01:38] <sssilver> bjz: true
[06:01:56] *** Quits: PeterSP (peter@moz-586AF793.bstnma.fios.verizon.net) (Ping timeout)
[06:02:14] <sssilver> bjz: it's strange with PHP especially, because the language has more shortcomings than most others, yet at the same time its developers are less willing to look at something else than most others.
[06:02:21] <bjz> sssilver: btw, don't use 'circlejerk' outside of the net - you will get funny looks. :D
[06:02:42] <sssilver> haha, good to know
[06:02:54] <sssilver> yeah, I got the Reddit part
[06:03:24] <sssilver> so guys, a simple question here -- how do I output a character with a certain ASCII code?
[06:03:33] <sssilver> like, say I wanna output a character with the code 65 ('A')
[06:03:36] <bjz> sssilver: Isn't PHP a language that has just evolved into some kind of big blob?
[06:04:14] <bvssvni> sssilver: I think it is because PHP was the first language solving problems in that domain
[06:05:11] *** Quits: daschl (Adium@moz-DC6DE6E2.vie.surfer.at) (Quit: Leaving.)
[06:05:37] <bjz> I wouldn't call it a shining point in the combinatorial space of language design
[06:05:50] <sssilver> hahaha
[06:05:52] <MP2E> I like that insult
[06:05:56] <sssilver> :D
[06:06:05] <dougxxx> sssilver std::io::stdio::stdout? 
[06:06:19] *** Joins: PeterSP (peter@moz-586AF793.bstnma.fios.verizon.net)
[06:06:23] <bjz> sssilver: not sure the escape code
[06:06:36] <bjz> rusti: println!("A")
[06:06:37] -rusti- A
[06:06:38] -rusti- ()
[06:06:38] <dougxxx> write_char?
[06:06:48] <bvssvni> dougxxx: unix naming conventions "standard output" etc.
[06:06:51] <dougxxx> or write_int?
[06:06:51] <bjz> rusti: print!("A")
[06:06:52] -rusti- A()
[06:07:19] <bjz> rusti: print!("{}", 65u8 as char)
[06:07:21] -rusti- A()
[06:07:22] <edwardw> rusti: println!("{:c}", 65)
[06:07:31] <bjz> edwardw: ooh, nice!
[06:07:50] <gmjosack> did you kill rusti?
[06:07:56] * sssilver blinks
[06:08:02] <edwardw> why I don't see any output?
[06:08:06] <MP2E> neat, I keep forgetting about the "as" syntax
[06:08:07] <MP2E> it's so natural
[06:08:14] <MP2E> I don't see rusti output either btw
[06:08:16] <bjz> rusti: println!("{:c}", 65)
[06:08:21] <MP2E> huh..
[06:08:21] <bjz> o_o
[06:08:29] <edwardw> print!("{}", 65u8 as char)
[06:08:35] <sssilver> hehe
[06:08:39] <bjz> rusti: print!("{}", 65u8 as char)
[06:08:40] <edwardw> \o/
[06:08:42] <MP2E> it's broken :<
[06:08:45] <gmjosack> edwardw killed rusti :(
[06:08:52] <bvssvni> maybe somebody are updating it
[06:08:53] <sssilver> someone just slaughtered a bot?
[06:08:55] <MP2E> #rust is dead ladies and gentleman, long live the new rust!
[06:09:00] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[06:09:03] <sssilver> :D
[06:09:04] <MP2E> hehe
[06:09:14] <edwardw> LOL
[06:09:20] <bjz> maybe strcat's laptop went to sleep
[06:09:30] <bjz> not the first time
[06:09:32] <bvssvni> haha, so it's running on a laptop
[06:09:34] <MP2E> rusti is on a laptop?
[06:09:34] <MP2E> haha
[06:09:35] <MP2E> that's awesome
[06:09:36] <MP2E> :P
[06:09:43] <bjz> it's a real hack actually
[06:09:47] <sssilver> or maybe println!("{:c}", 65) causes stack overflow
[06:09:56] <MP2E> hopefully not x.x
[06:09:56] <sssilver> or segmentation fault or something
[06:10:08] <edwardw> I gotta try that locally
[06:10:17] * edwardw a sec
[06:10:22] <sssilver> save your files first
[06:10:23] <sssilver> lol
[06:10:30] *** Quits: jeaye (jeaye@moz-34FEF2BB.hsd1.ca.comcast.net) (Quit: zzz)
[06:10:34] <bjz> rusti is: fn main() { let x = ...; print!("{:?}", x) }
[06:10:41] <bjz> basically
[06:10:45] <bjz> :P
[06:11:22] <edwardw> it just spits out some error messages
[06:11:37] <sssilver> lets see
[06:11:41] * edwardw isn't responsible for killing rusti
[06:11:49] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[06:11:52] <edwardw> error: failed to find an implementation of trait std::fmt::Char for int
[06:11:57] <dougxxx> println!("{:c}", 65u8 as char);
[06:12:22] <edwardw> dougxxx: that works
[06:12:35] <sssilver> yeah as char works
[06:12:53] <dougxxx> yeah, otherwise you get only `u8` can be cast as `char`, not `<generic integer #0>`
[06:13:00] <dougxxx> probly what killed rusti. ;__;
[06:13:29] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[06:13:43] <bjz> sssilver: you can also do: println!("\x41")
[06:14:28] <sssilver> 41 is hex?
[06:14:33] <bjz> yup
[06:14:45] <sssilver> that seems more elegant :)
[06:14:49] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[06:15:04] <bjz> btw, only u8 can be cast because it needs to be valid utf8
[06:15:17] <bjz> there are other ways to do it though
[06:15:43] <bjz> like: http://static.rust-lang.org/doc/master/std/char/fn.from_u32.html
[06:16:58] <dougxxx> interesting though...
[06:17:08] <dougxxx> why does stdout().write_init(65) emit 65?
[06:17:12] <dougxxx> not 'A'?
[06:17:27] *** Quits: philix (philix@moz-B56C3B8A.user.veloxzone.com.br) (Quit: philix)
[06:17:37] <dougxxx> *write_int
[06:18:22] <bjz> it is writing an integer
[06:18:26] <bjz> no a character
[06:18:52] <dougxxx> humm
[06:18:55] <dougxxx> I suppose
[06:19:15] <dougxxx> I kind of imagined that all streams would be binary
[06:19:24] <dougxxx> if you push an int value into them, you get an int value out
[06:19:26] <bjz> I'm not sure what the utility of those are these days though
[06:19:30] <dougxxx> not a converted-to-closest-char value
[06:20:12] <bjz> that could be complex
[06:20:21] <sfackler> dougxxx: there are write_be_i32, write_le_i32, etc for binary output
[06:20:29] <dougxxx> oic
[06:20:35] <dougxxx> yeah, the code says it all. :P 
[06:20:45] <dougxxx> Write the result of passing n through int::to_str_bytes.""
[06:20:59] <edwardw> rusti: "hi"
[06:21:00] -rusti- "hi"
[06:21:04] <bjz> o/
[06:21:11] <bjz> hurro
[06:21:35] <edwardw> should I try to kill it again? :D
[06:21:47] *** Quits: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com) (Ping timeout)
[06:21:52] <bvssvni> edwardw: for science!
[06:22:01] *** Joins: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com)
[06:22:06] <Capt_Redbeard> I've been looking at the timer module. This only supports msec precision. Is there a nanotimer in rust?
[06:22:07] <bjz> rusti: println!("{:c}", 65)
[06:22:27] <edwardw> bjz: you did it!
[06:22:31] <bjz> o_o
[06:22:38] * bjz didn't expect that to work
[06:22:53] <bjz> I should have tried a control
[06:22:59] <bjz> oh wait, you did
[06:23:08] <bjz> rusti: "hi"
[06:23:15] <bjz> ...
[06:23:16] <dougxxx> ...
[06:23:18] -rusti- failed to pastebin 8 lines of output
[06:23:18] -rusti- "hi"
[06:23:20] <edwardw> LOL
[06:23:23] <ChrisMorgan> rusti: version
[06:23:24] -rusti- "rustc 0.10-pre (4cd555d 2014-01-24 03:28:15 -0500)"
[06:23:33] <bjz> oh interesting
[06:23:48] <bjz> something to do with pastebin?
[06:24:04] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Quit: Jesse)
[06:24:07] <ChrisMorgan> More likely just an all-round dodgy connection.
[06:24:33] <bvssvni> rusti: println!("{:c}", 0_0)
[06:24:51] <bvssvni> rusti: 42
[06:25:02] <ChrisMorgan> Queued.
[06:25:43] <edwardw> poor rusti
[06:25:49] *** Joins: whitglint (uid15486@moz-31ABA2C0.irccloud.com)
[06:25:52] *** Joins: daschl (Adium@moz-DC6DE6E2.vie.surfer.at)
[06:25:53] -rusti- failed to pastebin 8 lines of output
[06:25:53] -rusti- 42
[06:26:14] <ChrisMorgan> ix.io appears to be down.
[06:26:24] <ChrisMorgan> Back up now.
[06:26:32] <ChrisMorgan> rusti: panic attack
[06:26:33] -rusti- <anon>:10:15: 10:21 error: expected one of `;`, `}` but found `attack`
[06:26:33] -rusti- <anon>:10         panic attack
[06:26:33] -rusti-                         ^~~~~~
[06:26:33] -rusti- application terminated with error code 101
[06:26:42] <ChrisMorgan> Aww, not long enough.
[06:26:43] *** Quits: themgt (themgt@moz-83F07CDA.cm.vtr.net) (Quit: themgt)
[06:26:57] <ChrisMorgan> rusti: println!("{:c}", 0_0)
[06:27:37] <ChrisMorgan> Hmm. Not sure. Ah well, just avoid errors.
[06:27:40] <sssilver> hehe
[06:28:18] -rusti- failed to pastebin 8 lines of output
[06:29:28] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[06:30:01] <edwardw> rusti: println!(concat!("\\x", 41))
[06:30:01] -rusti- <anon>:10:18: 10:36 error: invalid format string: invalid escape character `x`
[06:30:01] -rusti- <anon>:10         println!(concat!("\\x", 41))
[06:30:01] -rusti-                            ^~~~~~~~~~~~~~~~~~
[06:30:01] -rusti- error: aborting due to previous error
[06:30:02] -rusti- application terminated with error code 101
[06:30:08] <edwardw> nice
[06:30:14] <sssilver> Guys, http://bpaste.net/show/lljmhtTCo8pirCo7evd2/ -- what am I doing wrong?
[06:30:33] <sssilver> error: failed to find an implementation of trait std::fmt::Default for ~[(~str,~str)] 
[06:30:50] <sssilver> how do I output the env to look what's inside?
[06:30:58] *** Quits: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Quit: lkuper)
[06:31:03] <edwardw> println!("{:?}", env());
[06:31:14] <sssilver> edwardw: why not {}?
[06:31:21] *** Joins: alan_and_ (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[06:31:30] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[06:31:44] <edwardw> error message says it all
[06:31:45] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[06:33:02] *** Quits: alan_and_ (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[06:33:18] <edwardw> {:?} for Poly, it is implemented
[06:33:37] *** Joins: judofyr (judofyr@moz-8BB0A10D.nextgentel.com)
[06:33:49] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[06:34:26] *** Quits: earlzlap (earlz@5B1FE501.78CAA20E.2F043D47.IP) (Ping timeout)
[06:35:14] *** Joins: eddyb (eddy@moz-41DB10DA.residential.rdsnet.ro)
[06:35:17] *** Quits: judofyr (judofyr@moz-8BB0A10D.nextgentel.com) (Ping timeout)
[06:35:32] *** Quits: ofeldt (ofeldt@moz-7EF701A9.dip0.t-ipconnect.de) (Ping timeout)
[06:36:29] <bjz> sssilver: "{}" relies on the type implementing the fmt::Default trait
[06:37:04] <bjz> It's weird it can find an impl for that type though
[06:37:10] <sssilver> well but (str,str) -- isn't that a tuple of two strings?
[06:37:24] <ChrisMorgan> Correct.
[06:37:30] <o11c> str doesn't exist
[06:37:32] <sssilver> I'd assume output for that is implemented by the language?
[06:37:38] <bjz> oh wait
[06:37:40] <sssilver> I'm not getting smth right
[06:37:55] <bjz> fmt::Default -> fmt::Show post 0.9
[06:37:56] <ChrisMorgan> (~str, ~str), you meant.
[06:38:00] *** Joins: fyolnish_ (fyolnish@moz-BE2BAE5B.miinet.jp)
[06:38:05] <bjz> sssilver: are you using git master?
[06:38:14] *** Joins: brandonson (SingingBoy@610D90A5.EE9B234.1ECA502.IP)
[06:38:23] *** Quits: brandonson (SingingBoy@610D90A5.EE9B234.1ECA502.IP) (Quit: WeeChat 0.4.3-dev)
[06:38:32] *** Joins: brandonson (SingingBoy@610D90A5.EE9B234.1ECA502.IP)
[06:38:32] <sssilver> bjz: I'm on 0.9
[06:38:33] <bjz> sssilver: it works fine on master
[06:38:41] <ChrisMorgan> sssilver: see what implements Default in std, and observe that it doesn't include ~[T] or any (T, T): http://static.rust-lang.org/doc/0.9/std/fmt/trait.Default.html
[06:38:42] <bjz> sssilver: best to user git master
[06:39:10] *** Quits: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp) (Ping timeout)
[06:39:24] <bjz> sssilver: and it was renamed to Show: http://static.rust-lang.org/doc/master/std/fmt/trait.Show.html
[06:39:43] <bjz> you can see it now includes up to 12-tuples and owned vectors
[06:39:44] <ChrisMorgan> But http://static.rust-lang.org/doc/master/std/fmt/trait.Show.html demonstrates that it does work for <A: Show, B: Show> (A, B), and for <T: Show> ~[T]. Hence it does work for ~[(~str, ~str)] on master.
[06:39:51] <bjz> yep
[06:40:11] <ChrisMorgan> But bear in mind that *it* controls the display of it.
[06:40:22] <bjz> (those were added by yours truly)
[06:40:30] <bjz> :)
[06:40:31] <ChrisMorgan> Personally I am sceptical of the wisdom of impl Show for vectors and tuples.
[06:40:42] *** Quits: klapaucius (klapaucius@E5AF674E.5692770D.BB41F968.IP) (Ping timeout)
[06:40:44] <bjz> yea
[06:40:47] <edwardw> rusti: let ss = ~[~"abc"m ~"def"]; println!("{}", ss)
[06:40:48] -rusti- <anon>:10:26: 10:27 error: expected `]` but found `m`
[06:40:48] -rusti- <anon>:10         let ss = ~[~"abc"m ~"def"]; println!("{}", ss)
[06:40:48] -rusti-                                    ^
[06:40:48] -rusti- application terminated with error code 101
[06:41:01] <edwardw> rusti: let ss = ~[~"abc", ~"def"]; println!("{}", ss)
[06:41:04] <bjz> ChrisMorgan: feel free to make an issue
[06:41:04] -rusti- pastebinned 8 lines of output: http://ix.io/aQK
[06:41:13] * ChrisMorgan is too lazy
[06:41:16] <bjz> ChrisMorgan: I added them, but it might be wrong
[06:41:46] <bjz> ChrisMorgan: we have shows implemented for other container like things
[06:41:54] <edwardw> rusti: version
[06:41:54] *** Joins: mawuli (mawuli@moz-A89BBCE.com.gh)
[06:41:55] -rusti- "rustc 0.10-pre (4cd555d 2014-01-24 03:28:15 -0500)"
[06:41:57] <bjz> outside of the std
[06:42:05] *** Joins: klapaucius (klapaucius@E5AF674E.5692770D.BB41F968.IP)
[06:42:10] <sssilver> wait guys, you're way ahead of me
[06:42:11] <bjz> edwardw: heh, over a month old
[06:42:18] <sssilver> a tuple of two strings -- is that a type of its own?
[06:42:25] <sssilver> or is that a tuple, period
[06:42:26] <bjz> sssilver: indeed
[06:42:34] <edwardw> bjz: indeed
[06:42:36] <bjz> (~str, ~str) is a type
[06:42:38] <ChrisMorgan> bjz: well, for (A,) should it be "{}" or "({})" or "({},)"? For (A, B) should it be "({}, {})" or "{}, {}"? Same deal with ~[T]. There is no one obviously correct way of formatting it.
[06:42:55] <bjz> but you can have a generic (T, U)
[06:43:03] <sssilver> bjz: it's a type that's conceptually different from (~str, ~str, ~str)?
[06:43:07] <bjz> yes
[06:43:08] <sssilver> why?
[06:43:16] <bjz> (int, ~str)
[06:43:25] <ChrisMorgan> sssilver: `(~str, ~str)` is a type.
[06:43:34] *** Quits: Capt_Redbeard (Capt_Redbe@moz-4998C3D0.ok.ok.cox.net) (Quit: Textual IRC Client: www.textualapp.com)
[06:43:37] <sssilver> a type "tuple"?
[06:43:41] <sssilver> or a type "tuple of two strings"
[06:43:45] <ChrisMorgan> No. It is a type.
[06:44:11] <bjz> tuples are ordered collections of heterogeneous objects
[06:44:12] <ChrisMorgan> sssilver: in Python, ("foo", 13) is of type `tuple` and ("a", "b", "c") is also of type `tuple`. But we're not in Python now.
[06:44:16] *** Quits: fournm (Aria@moz-ABB60BA0.austin.res.rr.com) (Quit: Leaving)
[06:44:26] <sssilver> ChrisMorgan: hmm, OK -- I'm coming from Python actually
[06:44:31] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[06:44:32] <bjz> the name 'tuple' comes from maths 
[06:44:45] <bjz> you could also call it a 'product type'
[06:44:49] *** Joins: huon (Thunderbir@moz-826BD85A.lns20.syd6.internode.on.net)
[06:44:49] *** ChanServ sets mode: +o huon
[06:45:00] <sssilver> so then it's of type "tuple of two strings"?
[06:45:02] <bjz> if you are looking at it from the perpective of type theory
[06:45:06] <bjz> yes
[06:45:09] <bjz> no
[06:45:11] <bjz> wait
[06:45:25] <brandonson> sssilver: tuple of two ~strs 
[06:45:29] <bjz> better would be "a tuple of a string and a string"
[06:45:39] <sssilver> yeah
[06:45:41] <bjz> or "a pair of strings"
[06:46:03] *** Joins: Ferreus (ferreus@moz-88A03AFF.dip0.t-ipconnect.de)
[06:46:16] <bjz> sssilver: http://en.wikipedia.org/wiki/Product_type
[06:46:20] *** Quits: klapaucius (klapaucius@E5AF674E.5692770D.BB41F968.IP) (Ping timeout)
[06:46:32] <bjz> http://en.wikipedia.org/wiki/Tuple
[06:46:44] *** Joins: alkino_ (alkino@moz-F4D3BCB1.w92-151.abo.wanadoo.fr)
[06:47:02] <edwardw> sssilver: and rust type in general http://cosmic.mearie.org/2014/01/periodic-table-of-rust-types/
[06:47:21] *** Quits: sssilver (sssilver@moz-A2247A31.lightspeed.rcsntx.sbcglobal.net) (Ping timeout)
[06:48:04] <bjz> sssilver: (T, ..) *can* be heterogeneous, ~[T], &[T] or [T, ..n] *must* be homogeneous 
[06:48:27] <bjz> vectors != tuples
[06:48:40] * ChrisMorgan suspected a Python background with the precise nature of the question sssilver was asking, and the difference in type system handling of tuples between Rust and Python
[06:48:59] <bjz> ChrisMorgan: do they implictly convert?
[06:49:05] *** Joins: klapaucius (klapaucius@E5AF674E.5692770D.BB41F968.IP)
[06:49:29] <ChrisMorgan> bjz: they are just all of type `tuple`.
[06:49:36] <bjz> o_o
[06:49:48] <ChrisMorgan> If you wished, you could consider `tuple` a dynamically sized type.
[06:49:53] <bjz> wut
[06:49:54] <ChrisMorgan> Or some such thing, anyway.
[06:49:57] <bjz> that is so odd
[06:50:05] <bjz> :)
[06:50:09] <brandonson> Python is occasionally quite odd
[06:50:10] <ChrisMorgan> In Python, a tuple is simply an immutable list.
[06:50:14] <o11c> bjz: most of the time in python, you don't care if it's a list, a tuple, or a user-defined object that allows indexing and iteration
[06:50:15] <bjz> dynamically typed craziness
[06:50:19] <ChrisMorgan> With a handful of performance tweaks that that allows.
[06:50:30] <bjz> ah ok
[06:50:32] <o11c> bjz: the only time you really care that it's a tuple is if you need to hash it
[06:50:46] <o11c> (i.e. use it as a dict key)
[06:50:51] <ChrisMorgan> (You can hash tuples but not lists.)
[06:51:00] <bjz> interesting
[06:51:18] <bjz> oh, the fellow left
[06:51:23] <ChrisMorgan> Yeah.
[06:51:31] *** Joins: sssilver (sssilver@moz-A2247A31.lightspeed.rcsntx.sbcglobal.net)
[06:51:37] <sssilver> Sorry guys, I disconnected
[06:51:53] <sssilver> my last question was: and why is it different from a tuple of a string and a string and a string? 
[06:51:57] <sssilver> why can't their formatted representations be generic? 
[06:52:01] <sssilver> the code that formats it, that is 
[06:52:28] <ChrisMorgan> sssilver: we were just discussing the nature of tuples in Python, with me explaining how tuples are simply immutable lists in Python.
[06:52:29] <ChrisMorgan> But in Rust, they're not—they're more like anonymous structs.
[06:52:36] *** Joins: tenderlove (tenderlove@moz-D909DE6E.sea.wa.customer.broadstripe.net)
[06:52:38] *** Quits: tenderlove (tenderlove@moz-D909DE6E.sea.wa.customer.broadstripe.net) (Quit: tenderlove)
[06:52:53] <bjz> sssilver: https://botbot.me/mozilla/rust/
[06:52:56] <sssilver> IRC really lacks the feature of browsing history if you disconnect
[06:53:01] *** Joins: nanotech (nanotech@moz-DD3580FD.members.linode.com)
[06:53:01] <bjz> :)
[06:53:03] <sssilver> ..or that
[06:53:04] <sssilver> :)
[06:53:18] <bjz> IRC is really extensible
[06:53:20] <bjz> :)
[06:53:55] * brandonson just sshs to a screen session
[06:54:00] *** Quits: rootnode (rootnode@moz-8BFA0507.pools.arcor-ip.net) (Ping timeout)
[06:54:09] <ChrisMorgan> screen? Not tmux?
[06:54:15] * o11c just moshes to a tmux
[06:54:18] * ChrisMorgan runs away again after that jab
[06:54:23] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[06:54:31] * ChrisMorgan just vents his spleen
[06:54:32] <sssilver> OK now this makes a little more sense
[06:54:41] <sssilver> but this is what I don't understand
[06:54:54] <sssilver> rust knows what's a ~str and how to output it
[06:54:58] <sssilver> rust knows the concept of a tuple
[06:55:05] * brandonson doesn't use many of screen's features anyway
[06:55:11] <o11c> sssilver: think of it like: Rust tuples are how you're *supposed* to use python tuples, not how people *actually* use python tuples
[06:55:14] <sssilver> why can't it infer how to output a tuple of 2 strings
[06:55:26] <ChrisMorgan> o11c: that made no sense to me.
[06:55:29] *** Joins: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net)
[06:55:42] <sssilver> o11c: I think I use Python tuples the way I'm supposed to use them
[06:55:46] <ChrisMorgan> sssilver: (a) 0.9 doesn't, but master does
[06:56:05] <sssilver> fair enough
[06:56:07] <ChrisMorgan> sssilver: (b) well, how do you want it output anyway? "A, B" or "(A, B)" or something else?
[06:56:08] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Connection reset by peer)
[06:56:09] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[06:56:23] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[06:56:31] <o11c> ChrisMorgan: according to the core python devs, python tuples are supposed to be heterogenous, fixed size, and always contain the exact sequence of types for any given variable. But most people just treat them as an immutable list
[06:56:32] <sssilver> ChrisMorgan: whatever really, obviously when I say "output a tuple" I'm not looking for anything more than what I got with {:?}
[06:56:38] *** Joins: judofyr (judofyr@moz-8BB0A10D.nextgentel.com)
[06:56:51] *** Joins: ziad (ziad@moz-C0318336.hsd1.ca.comcast.net)
[06:56:56] <ChrisMorgan> sssilver: OK then, yes: {:?} works and always has done and always will.
[06:57:57] <brandonson> I wonder what {:?} does for void pointers, if anything
[06:58:04] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[06:58:20] *** Quits: judofyr (judofyr@moz-8BB0A10D.nextgentel.com) (Ping timeout)
[06:58:31] *** Joins: trinary (Adium@moz-6388B339.hsd1.co.comcast.net)
[06:58:46] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[06:58:57] *** Quits: Munchor (munchor@moz-8CFC84AD.yourvserver.net) (Ping timeout)
[06:59:36] *** Quits: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net) (Ping timeout)
[07:02:01] <ChrisMorgan> rusti: format!("{:?}", {let x: *() = &(); x})  // brandonson: you mean like this?
[07:02:02] -rusti- ~"(0x7f971699fdc0 as *())"
[07:02:42] *** Quits: trinary (Adium@moz-6388B339.hsd1.co.comcast.net) (Quit: Leaving.)
[07:03:13] <brandonson> ChrisMorgan: something like that, yeah.
[07:03:22] <brandonson> guess now I know :)
[07:03:30] *** Quits: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net) (Quit: killerswan)
[07:04:36] *** Joins: alonlevy (alon@2CD54432.57968636.E9C721AF.IP)
[07:06:32] *** Quits: sssilver (sssilver@moz-A2247A31.lightspeed.rcsntx.sbcglobal.net) (Ping timeout)
[07:06:56] *** Joins: Munchor (munchor@moz-8CFC84AD.yourvserver.net)
[07:09:09] *** Quits: wilkie (wilkie@moz-A19F104D.pitbpa.fios.verizon.net) (Ping timeout)
[07:09:11] <bjz> o11c: that's the thing about having a dynamic type system. documentation doesn't matter :D
[07:09:33] <bjz> but then.... yay cast::transmute!
[07:09:55] *** Quits: akhosrav (akhosrav@moz-899FA83.tukw.qwest.net) (Ping timeout)
[07:10:13] *** Quits: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com) (Ping timeout)
[07:10:23] *** Joins: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com)
[07:10:25] *** Quits: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca) (Ping timeout)
[07:10:31] *** Joins: akhosrav (akhosrav@moz-75023AE8.tukw.qwest.net)
[07:11:14] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[07:11:17] *** Joins: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net)
[07:11:45] *** Joins: darthdeus (darthdeus@EEC5B4DB.3B96A244.4E88690D.IP)
[07:12:37] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[07:12:43] *** Joins: wilkie (wilkie@moz-A19F104D.pitbpa.fios.verizon.net)
[07:14:18] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[07:15:09] *** Quits: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Ping timeout)
[07:16:17] <brandonson> where'd extra::time go?
[07:17:04] <brandonson> on second thought, is there a list of what went where?
[07:19:23] *** Joins: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[07:20:42] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[07:21:20] <huon> brandonson: `time`
[07:21:21] *** Quits: FreeFull (freefull@moz-3EB096D2.as13285.net) (Quit: )
[07:21:23] <huon> (crate)
[07:22:23] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[07:24:11] <brandonson> hmm.  docs need updating it seems.  time crate doesn't show up in the master docs.
[07:25:15] *** Quits: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com) (Ping timeout)
[07:25:21] *** Joins: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com)
[07:25:49] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[07:26:16] <huon> brandonson: would you like to submit a PR adding it to src/doc/index.md?
[07:26:33] * huon will do it otherwise
[07:27:20] *** Joins: mark_edward (mark@moz-DCB0B750.lightspeed.cicril.sbcglobal.net)
[07:27:31] *** Joins: Ms2ger (Ms2ger@BFE4F509.6F5CD262.187A1082.IP)
[07:27:52] *** Quits: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com) (Ping timeout)
[07:27:56] *** Joins: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com)
[07:28:41] *** Joins: medja (medja@moz-1F1F5CEB.simobil.net)
[07:29:18] *** Quits: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net) (Quit: Taking a nap.)
[07:29:37] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[07:30:29] *** Joins: fabiand (fabiand@moz-8D575631.adsl.alicedsl.de)
[07:31:29] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[07:33:46] *** Joins: matematikaadit (adit@3173BAB3.96DC1DDF.B0C328E3.IP)
[07:45:07] *** Quits: jsonnull (Thunderbir@20DADFC2.48C8B17D.494A0F8B.IP) (Ping timeout)
[07:45:26] *** Joins: sigma (sigma@moz-55097A0B.range86-163.btcentralplus.com)
[07:45:51] *** Joins: singron (eric@moz-7F44F0D9.cpe.metrocast.net)
[07:46:22] *** Joins: judofyr (judofyr@moz-FA5AF395.uio.no)
[07:46:44] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[07:47:34] *** Quits: victorporof (victorporo@moz-FFB76956.cpe.net.cable.rogers.com) (Ping timeout)
[07:47:50] *** Joins: victorporof (victorporo@moz-FFB76956.cpe.net.cable.rogers.com)
[07:48:31] *** Joins: jsonnull (Thunderbir@20DADFC2.48C8B17D.494A0F8B.IP)
[07:49:26] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Connection reset by peer)
[07:49:33] *** Quits: Ferreus (ferreus@moz-88A03AFF.dip0.t-ipconnect.de) (Client exited)
[07:49:45] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[07:49:46] *** Joins: Ferreus (ferreus@moz-88A03AFF.dip0.t-ipconnect.de)
[07:51:15] *** Quits: victorporof (victorporo@moz-FFB76956.cpe.net.cable.rogers.com) (Quit: victorporof)
[07:52:01] *** Quits: medja (medja@moz-1F1F5CEB.simobil.net) (Quit: )
[07:52:03] *** Joins: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP)
[07:53:00] *** flaper87|afk is now known as flaper87
[07:53:31] *** Joins: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com)
[07:54:45] *** Quits: daschl (Adium@moz-DC6DE6E2.vie.surfer.at) (Quit: Leaving.)
[07:54:47] *** Joins: daschl (Adium@moz-DC6DE6E2.vie.surfer.at)
[07:55:59] *** Quits: alonlevy (alon@2CD54432.57968636.E9C721AF.IP) (Ping timeout)
[07:56:42] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[07:57:04] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[07:57:08] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[07:57:48] *** Joins: amousset__ (amousset@moz-2E0A4DA6.minet.net)
[07:58:02] *** Quits: mark_edward (mark@moz-DCB0B750.lightspeed.cicril.sbcglobal.net) (Quit: Leaving)
[07:58:32] *** Joins: Dylan_ (Dylan@moz-C4595FAE.eugn.qwest.net)
[07:58:38] *** Quits: Dylan_ (Dylan@moz-C4595FAE.eugn.qwest.net) (Connection reset by peer)
[07:58:49] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[07:58:58] *** Joins: amousset (amousset@6181009C.10715965.BCDF592F.IP)
[07:59:22] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[07:59:40] *** Quits: amousset__ (amousset@moz-2E0A4DA6.minet.net) (Ping timeout)
[08:01:21] *** Joins: rootnode (rootnode@moz-E6216636.pools.arcor-ip.net)
[08:02:06] *** Quits: sigma (sigma@moz-55097A0B.range86-163.btcentralplus.com) (Client exited)
[08:02:30] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[08:02:50] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:03:02] <singron> I have a question about macros. I'm trying to match against nested brackets like this `[ $($t:tt)* ]`, but the parser complains that the last ] is ambiguous. Is something like this possible?
[08:08:31] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[08:08:34] *** Quits: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net) (Connection reset by peer)
[08:08:38] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:10:26] *** Quits: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com) (Ping timeout)
[08:10:53] <huon> singron: $($t:tt)* only works reliably as the last thing in a macro invocation unfortunately
[08:11:03] <huon> the current parser is pretty dumb :(
[08:11:22] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[08:11:23] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Client exited)
[08:11:24] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[08:11:44] *** Quits: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com) (Ping timeout)
[08:12:02] *** Joins: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com)
[08:12:04] *** Quits: p1start (rewi@moz-A082F561.adsl.xtra.co.nz) (Ping timeout)
[08:12:08] *** Joins: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com)
[08:12:33] <singron> huon: thanks
[08:13:09] *** Quits: untwisted (untwisted@moz-60D579DC.hsd1.ca.comcast.net) (Ping timeout)
[08:13:25] *** Joins: marianoguerra (marianogue@moz-1A3239B2.dip0.t-ipconnect.de)
[08:13:35] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[08:13:41] *** Joins: p1start (rewi@moz-A082F561.adsl.xtra.co.nz)
[08:13:43] *** Quits: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com) (Ping timeout)
[08:13:49] *** Joins: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com)
[08:15:15] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[08:15:25] *** Quits: p1start (rewi@moz-A082F561.adsl.xtra.co.nz) (Ping timeout)
[08:16:20] *** Joins: amousset_ (amousset@6181009C.10715965.BCDF592F.IP)
[08:16:47] *** Quits: amousset (amousset@6181009C.10715965.BCDF592F.IP) (Ping timeout)
[08:16:54] *** Quits: onelson (owen@18CF7301.95770028.5B6BFE7D.IP) (Ping timeout)
[08:18:03] *** Quits: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP) (Connection reset by peer)
[08:18:13] *** Joins: p1start (rewi@moz-A082F561.adsl.xtra.co.nz)
[08:18:31] *** Quits: edwardw (edwardw@96E7298D.3E260003.B9C6B12A.IP) (Quit: Leaving...)
[08:20:26] *** Joins: arturo (Thunderbir@moz-E83B14F0.superkabel.de)
[08:22:39] <WebeWizard> https://www.youtube.com/watch?v=WA2qmmUmBHk&feature=c4-overview&list=UU-CBSBRP82j2t5PQ3M33CVw
[08:22:51] <WebeWizard> who'se the dude at 16 seconds in with the rust sticker on his laptop?
[08:23:26] *** Quits: mbx (mbebenita@moz-B45FE61C.hsd1.ca.comcast.net) (Ping timeout)
[08:23:41] <eddyb> WebeWizard: I think that's Brendan
[08:23:42] <MP2E> good question, I didn't even know there *were* rust stickers :P
[08:23:50] * MP2E wants one
[08:24:07] <eddyb> WebeWizard: https://en.wikipedia.org/wiki/Brendan_Eich
[08:24:21] <huon> MP2E: go to a meetup/mozilla event
[08:24:53] *** Joins: mbx (mbebenita@moz-B45FE61C.hsd1.ca.comcast.net)
[08:25:02] <MP2E> huh bay area, that's not too far from here
[08:25:06] <MP2E> perhaps I will then :P
[08:25:16] <Yurume> huh US, too far from here :)
[08:25:20] <eddyb> hehe
[08:25:25] <MP2E> :<
[08:25:29] <WebeWizard> being in the midwest sucks :P
[08:25:35] <eddyb> portable wormholes pls
[08:25:47] <huon> MP2E: \o/
[08:25:50] <huon> WebeWizard: :(
[08:25:52] <MP2E> func wormhole { magic! }
[08:25:58] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[08:25:59] <eddyb> not even Rust
[08:26:02] <MP2E> i know
[08:26:03] <MP2E> haha
[08:26:05] <MP2E> i'm terrible :P
[08:26:15] <WebeWizard> I'm in Kansas, and probably the only one in this state who's even heard of Rust
[08:26:23] <MP2E> just started reading the tuts a few days ago, only used C++ and C up til now >_>
[08:26:42] <MP2E> mostly C
[08:26:51] <MP2E> lots and lots of C. *shudders from the segfaults*
[08:26:57] <Yurume> we need magic!() syntax extension for magical things
[08:26:58] <huon> Yurume: wasn't there a korean meetup at some point?
[08:27:06] <Yurume> huon: once, sponsered by Samsung.
[08:27:06] <MP2E> indeed
[08:27:17] <Yurume> sponsored*
[08:28:00] * eddyb is equally distant from Mozilla and Samsung
[08:28:12] <eddyb> (or approximately so)
[08:28:30] <huon> Yurume: convince them to `for _ in std::io::timer::periodic(one month).iter() { meetup() }` ?
[08:28:37] * huon is too
[08:28:38] <MP2E> haha
[08:29:17] <huon> you could throw in a magic!() too, because that'll make it betterer
[08:29:27] <MP2E> magic!() makes everything betterer
[08:29:29] <MP2E> the bettererest
[08:29:35] <Yurume> eight_ball!()
[08:29:44] <huon> hehe
[08:29:47] * huon -> food
[08:29:48] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[08:30:18] <eddyb> huon: but at least you get to wrestle with kangaroos...
[08:30:26] <eddyb> and hug koalas
[08:30:43] <MP2E> haha, but almost everything will kill you
[08:30:47] <MP2E> including some of the stones
[08:31:06] <MP2E> (stonefish)
[08:31:30] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[08:32:05] <WebeWizard> btw, any date estimate on 0.10?
[08:32:18] <eddyb> not really
[08:32:21] <Yurume> 3 months plus 0.9
[08:32:33] <Yurume> no estimate on 1.0, but 0.x releases are time-based
[08:32:37] <eddyb> keep using master and cross your fingers
[08:32:49] <eddyb> (and your toes)
[08:32:52] <WebeWizard> gotcha
[08:33:12] <Yurume> early April? hmm.
[08:34:47] <eddyb> 1st
[08:34:58] <eddyb> releasing 0.10 instead of 1.0
[08:35:07] *** Quits: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net) (Input/output error)
[08:35:18] <Yurume> 0.A
[08:35:19] <Yurume> :)
[08:35:22] *** Joins: lunaryorn (lunaryorn@moz-7ACD0D06.dynamic.mnet-online.de)
[08:36:00] *** Joins: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net)
[08:36:11] <eddyb> Yurume: "add hexadecimal minor version support to semver"
[08:36:22] <eddyb> 0.xA
[08:36:24] *** Quits: alkino_ (alkino@moz-F4D3BCB1.w92-151.abo.wanadoo.fr) (Ping timeout)
[08:38:17] <eddyb> hmpf... what to do about licenses?
[08:38:17] <bjz> WebeWizard: it's Brendan Eich, designer of Javascript, CTO of Mozilla, got Graydon Hoare to turn his personal project into his day job, which we now know of as Rust
[08:38:21] <eddyb> they always confuse me
[08:38:25] *** Joins: gsnedders (gsnedders@C95C83A3.84389009.803EA162.IP)
[08:38:30] *** Joins: frza (frza@EA5BFF77.2B9073C9.204B78AE.IP)
[08:38:34] <bjz> oh wait, eddyb answered
[08:38:55] <bjz> heh
[08:39:15] <eddyb> so the blob at the bottom is what I should put as the copyright header? http://choosealicense.com/licenses/apache/
[08:39:36] <WebeWizard> :)
[08:40:00] <eddyb> in source files etc. - and if it's my personal project, my name goes in there, not the "X Project Developers", right?
[08:40:48] <eddyb> why is rust-lang.org/COPYRIGHT a binary?
[08:41:01] <eddyb> would be nice if you didn't have to download it to read it
[08:41:11] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:41:13] <eddyb> s/a binary/marked as a binary/
[08:41:48] <WebeWizard> must be using my web server ;) no support for MIME types yet
[08:45:45] *** Joins: DarkLinkXXXX (DarkLinkXX@moz-3213C615.wavecable.com)
[08:46:03] <DarkLinkXXXX> What's been up lately? I've been out of the loop for a while.
[08:46:23] <Yurume> lots of PRs.
[08:46:32] <Ms2ger> Lots of removals
[08:46:37] <Yurume> http://cmr.github.io/blog/2014/02/23/this-week-in-rust/
[08:47:54] *** Quits: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[08:48:06] <DarkLinkXXXX> So, when we reach 1.0, there should be no reverse incompatible changes in releases, right?
[08:48:47] <DarkLinkXXXX> So should the next release be 1.0, or 0.10?
[08:49:19] <WebeWizard> 0.10 is next
[08:49:19] <Yurume> 0.10, and 0.11 is likely.
[08:49:38] <DarkLinkXXXX> Thought so. Just checking.
[08:50:25] <DarkLinkXXXX> For some reason, the kind of version number acceleration that was done with Firefox left a bitter taste in my mouth.
[08:51:06] *** Quits: dougxxx (dougxxx@moz-2801788.perm.iinet.net.au) (Quit: Leaving...)
[08:53:21] *** Quits: angdev (angdev@16F167B.4C57D258.D8E8354F.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[08:54:46] <eddyb> cmr: omg the features here http://google.github.io/traceur-compiler/demo/repl.html
[08:55:03] <eddyb> though I get a weird error when I try to use types
[08:55:04] *** Joins: Zr40 (zr40@EE4BB9F5.926C319A.BE2F4011.IP)
[08:55:18] <DarkLinkXXXX> I was just looking at something similar. http://benvie.github.io/continuum/
[08:55:21] *** Quits: mbx (mbebenita@moz-B45FE61C.hsd1.ca.comcast.net) (Connection reset by peer)
[08:55:29] <eddyb> continuum, IIRC, emulates ES6
[08:55:49] <Ms2ger> DarkLinkXXXX, what makes you think Firefox version numbers mean anything?
[08:56:04] <eddyb> I've known and used traceur-compiler for a long time, but I stopped caring about it when I started contributing to Rust
[08:56:46] <eddyb> hehe, I've forgotten I'm on firefox, can't open continuum without it lagging
[08:57:05] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[08:57:19] *** Joins: mbx (mbebenita@moz-B45FE61C.hsd1.ca.comcast.net)
[08:57:24] <eddyb> so it tries to load either true.js or false.js, depending on typeAssertionModule
[08:57:31] <eddyb> but... fails
[08:57:56] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[08:58:57] <DarkLinkXXXX> Ms2ger, version numbers are important. Most developers assume that major releases make incompatible changes, whereas minor releases don't. For example, scripts written for python 3.4 most likely won't work on python 2.7.
[08:59:17] <Ms2ger> Well, that's a flawed assumption, IMO
[08:59:18] <DarkLinkXXXX> Err, I mean scripts for 2.7 won't work on 3.4
[08:59:27] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[08:59:36] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[08:59:37] <Ms2ger> Other way around is probably true too :)
[08:59:38] <DarkLinkXXXX> Well, that's what that version number scheme is for.
[08:59:44] <DarkLinkXXXX> Oh. Yeah.
[08:59:56] <DarkLinkXXXX> Major.Minor.Bugfix
[09:00:13] <Ms2ger> Then I guess the question is what "major" means
[09:00:21] <DarkLinkXXXX> True.
[09:00:33] <Ms2ger> I for one am quite happy we don't have to argue about version numbers every 6 weeks :)
[09:00:57] <pzol> Ms2ger Simplifying: Major should mean not backwards compatible (for a library, api, etc)
[09:00:57] * DarkLinkXXXX nods
[09:01:04] *** Joins: claudiu (claudiu@81B10C62.5F4BC945.49B2C1AE.IP)
[09:01:12] <DarkLinkXXXX> I don't really give much of a crap. Just sayin.
[09:01:19] <Ms2ger> Then I think Firefox uses it correctly :)
[09:01:41] <pzol> Minor should mean added new stuff, but what you used to used, will keep on working the way it used to
[09:01:59] <Ms2ger> In practice, every cycle will do something that's not backwards compatible with something
[09:02:00] <DarkLinkXXXX> Ms2ger, so some things made for firefox 29 won't work for firefox 30?
[09:02:15] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[09:02:19] *** Joins: glaebhoerl_ (glaebhoerl@moz-B5B88D72.catv.broadband.hu)
[09:02:20] <Ms2ger> Some things? Yes
[09:02:37] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[09:02:45] <Ms2ger> I'd be very surprised if we ever shipped a release that didn't break anything
[09:02:49] <pzol> In terms of firefox I'd say e.g.  if some plugins will stop working with a new release, it should become a new major
[09:02:51] <DarkLinkXXXX> Hmm. Maybe I should check the changelogs every once in a while, but now I'm just getting off topic.
[09:02:58] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[09:02:59] <Ms2ger> Sorry for derailing :)
[09:03:10] <DarkLinkXXXX> pzol, that works.
[09:03:28] *** Joins: mye (mye@moz-50A4D8FD.dip0.t-ipconnect.de)
[09:03:34] <Ms2ger> (All binary extensions need to be recompiled for any new release, fwiw)
[09:04:19] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[09:04:32] *** Quits: judofyr (judofyr@moz-FA5AF395.uio.no) (Client exited)
[09:04:41] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[09:05:03] *** Joins: judofyr (judofyr@moz-FA5AF395.uio.no)
[09:06:43] *** Quits: judofyr (judofyr@moz-FA5AF395.uio.no) (Ping timeout)
[09:07:24] *** Quits: patpat (patpat@moz-1599AAE4.as13285.net) (Quit: )
[09:09:55] *** Quits: roy (user@moz-C21D3E9A.hsd1.il.comcast.net) (Ping timeout)
[09:10:14] <DarkLinkXXXX> Does rust need better library management?
[09:10:38] *** Joins: jackneill (jackneill@moz-359AD695.pool.digikabel.hu)
[09:10:56] <DarkLinkXXXX> Should .so files be placed in a default folder in the future? I'm sure this has already been discussed, so what was the consensus?
[09:11:24] *** Joins: siavashserver (siavash@B8E77A08.3DEB375.82A25C10.IP)
[09:12:06] *** Joins: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com)
[09:12:32] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[09:12:46] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[09:12:57] <WebeWizard> isn't that something operating systems should handle?
[09:13:10] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Quit: Busying myself...)
[09:13:15] <eddyb> cmr, huon: whoa https://github.com/google/traceur-compiler/blob/master/test/feature/Annotations/AnnotatedTypedClass.js
[09:13:25] <DarkLinkXXXX> I guess.
[09:13:32] <eddyb> Java much?
[09:13:46] *** Joins: ofeldt (ofeldt@moz-B4ED0F1D.dip0.t-ipconnect.de)
[09:14:12] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[09:14:15] *** Joins: nano (nano@moz-ED77243C.superkabel.de)
[09:14:16] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[09:14:19] *** Quits: dmillerw (Dylan@moz-C4595FAE.eugn.qwest.net) (Quit: Leaving)
[09:14:27] <bjz> eddyb: yeah, es6
[09:14:33] <siavashserver> Hello. What's Rust's equivalent for "#pragma omp parallel for" or TBB "parallel_for"?
[09:14:36] <bjz> eddyb: has classes
[09:14:40] <eddyb> bjz: derp, not that
[09:14:54] <bjz> annotations?
[09:14:59] *** Quits: singron (eric@moz-7F44F0D9.cpe.metrocast.net) (Quit: Quitting)
[09:15:03] <eddyb> bjz: I've basically missed out on everything that happened in traceur-compiler in the past 3 months or so
[09:15:12] <eddyb> and now they have types https://github.com/google/traceur-compiler/tree/master/test/feature/TypeAssertions
[09:15:13] <DarkLinkXXXX> WebeWizard, maybe they should be placed in ld_library_path, or whatever the OS's equivalant is then?
[09:15:35] <eddyb> and annotations and other stuff
[09:15:58] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[09:17:30] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[09:18:14] <WebeWizard> DarkLinkXXXX, I personally like to keep the libraries I use in the project folders that use them.  Unless it's a super commonly used library like libtime
[09:18:58] *** Quits: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com) (Input/output error)
[09:21:12] <WebeWizard> but then again, my projects never really get deployed by anyone other than myself
[09:22:09] *** Quits: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com) (Ping timeout)
[09:22:27] *** Joins: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com)
[09:25:04] *** Joins: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net)
[09:25:17] *** Quits: m_kato (m_kato@moz-C286AD9A.bitcat.net) (Quit: Leaving...)
[09:28:02] *** Quits: p1start (rewi@moz-A082F561.adsl.xtra.co.nz) (Connection reset by peer)
[09:28:05] *** Joins: p1start (rewi@moz-A082F561.adsl.xtra.co.nz)
[09:28:51] *** Joins: mindcat_ (mindcat@4F73ACC1.5E589B8A.DBA68950.IP)
[09:29:25] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[09:29:26] *** Quits: mindcat (mindcat@779ABA09.67E5BEA2.57E3C596.IP) (Ping timeout)
[09:29:42] *** Quits: frza (frza@EA5BFF77.2B9073C9.204B78AE.IP) (Quit: frza)
[09:31:29] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[09:32:24] *** Joins: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org)
[09:33:08] *** Quits: p1start (rewi@moz-A082F561.adsl.xtra.co.nz) (Ping timeout)
[09:33:35] <siavashserver> Is it possible to divide a for loop and make it run on separate cores? Or should I spawn a new task in every loop?
[09:35:16] <WebeWizard> +1 for new task each loop
[09:37:15] <siavashserver> Doesn't that introduce a big overhead? Wouldn't that pollute CPU cache?
[09:37:29] *** Quits: nfroidure (nfroidure@moz-3091C784.w90-18.abo.wanadoo.fr) (Quit: Ex-Chat)
[09:38:22] <siavashserver> What I want is every thread/core accessing a sequential array/stream of data.
[09:39:33] *** Joins: nfroidure (nfroidure@moz-3091C784.w90-18.abo.wanadoo.fr)
[09:39:35] <siavashserver> I can't find anyway in Rust doc to get num of CPU cores; or anything equivalent :/
[09:40:14] *** Joins: p1start (rewi@moz-A082F561.adsl.xtra.co.nz)
[09:40:27] *** Quits: Moor (Moor@moz-C04C27D8.hsd1.ca.comcast.net) (Ping timeout)
[09:41:57] *** Quits: p1start (rewi@moz-A082F561.adsl.xtra.co.nz) (Ping timeout)
[09:42:12] <WebeWizard> new thread in each loop sounds like exactly what you want
[09:42:35] <WebeWizard> and rust green threads are pretty light weight
[09:42:52] <siavashserver> If that was possible I could for example split the data range into 4 (num CPU cores) pieces and run every piece in a separately spawned for loop. However that defeats the task stilling and leaves some cores unused in case of unbalanced loads.
[09:43:12] *** Quits: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com) (Ping timeout)
[09:43:26] *** Joins: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com)
[09:43:39] *** Joins: sluggo (Mibbit@BB6DA2AA.AEE0057E.23D368FD.IP)
[09:44:02] <siavashserver> Would be good to have some builtin equivalent WebeWizard
[09:44:08] *** Quits: sluggo (Mibbit@BB6DA2AA.AEE0057E.23D368FD.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[09:45:37] <siavashserver> BRB.
[09:47:22] *** Joins: Moor (Moor@moz-C04C27D8.hsd1.ca.comcast.net)
[09:49:55] *** Quits: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[09:50:29] <WebeWizard> siavashserver, so why not put each operation into a new thread, and let the OS's scheduler do the job for you?
[09:51:26] *** Quits: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com) (Ping timeout)
[09:51:42] *** Joins: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com)
[09:52:00] *** Quits: Moor (Moor@moz-C04C27D8.hsd1.ca.comcast.net) (Ping timeout)
[09:52:37] *** Joins: mindcat (mindcat@1493F53D.B1E12A5D.57E3C596.IP)
[09:52:52] <WebeWizard> if you need more control over scheduling than that, you can use libgreen
[09:52:58] <WebeWizard> http://static.rust-lang.org/doc/master/green/index.html
[09:53:05] *** Quits: mindcat_ (mindcat@4F73ACC1.5E589B8A.DBA68950.IP) (Ping timeout)
[09:53:19] <kimundi> There are also plans for proper fork-and-join libraries
[09:53:39] *** Quits: myname (myname@F6BC1CBC.2C5F047.A0197E77.IP) (Connection reset by peer)
[09:56:51] *** Joins: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP)
[09:57:04] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[09:57:34] *** Quits: ozten (ozten@moz-DD3B00B4.hsd1.wa.comcast.net) (Ping timeout)
[09:59:21] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[09:59:48] *** Joins: frza (frza@EA5BFF77.2B9073C9.204B78AE.IP)
[10:00:21] *** Joins: davbo (dave@moz-DCB29D15.skybroadband.com)
[10:00:24] *** Joins: claudiu_ (claudiu@CB447DD5.6B10AC3.E2F59BBC.IP)
[10:01:29] *** Quits: claudiu (claudiu@81B10C62.5F4BC945.49B2C1AE.IP) (Ping timeout)
[10:02:11] *** Joins: ozten (ozten@moz-DD3B00B4.hsd1.wa.comcast.net)
[10:03:30] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[10:03:37] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Client exited)
[10:04:14] *** Joins: twi (Adium@BC1E56B6.55F3F843.839F6EC0.IP)
[10:04:37] <siavashserver> WebeWizard: Oh thank you, going to take a look at it.
[10:04:52] *** Joins: nkoep (nik@moz-588A5498.pool.mediaways.net)
[10:04:57] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[10:04:59] <siavashserver> kimundi: Sounds great, thank you too :)
[10:05:13] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[10:07:15] *** Joins: dukeleto (dukeleto@moz-3E7A0A89.ptld.qwest.net)
[10:08:32] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[10:08:55] *** Quits: dukeleto (dukeleto@moz-3E7A0A89.ptld.qwest.net) (Ping timeout)
[10:09:15] *** Quits: aasmith (aasmith@moz-51A27BE9.hsd1.wa.comcast.net) (Ping timeout)
[10:09:49] *** Quits: morganb (morgan_b_@moz-5EAC75A2.hfc.comcastbusiness.net) (Ping timeout)
[10:09:57] *** Joins: brendan (brendaneic@BBB21EE2.F6F8CE9D.1DA58BFC.IP)
[10:10:13] *** Joins: mark_edward (mark@moz-DCB0B750.lightspeed.cicril.sbcglobal.net)
[10:12:01] *** Joins: teosz (teosz@14885300.1934AA08.3EA6AAD8.IP)
[10:14:51] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[10:15:19] *** Joins: doener (bs@moz-AA189A5A.unitymedia.biz)
[10:15:40] *** flaper87 is now known as flaper87|afk
[10:15:51] *** Joins: Moor (Moor@moz-C04C27D8.hsd1.ca.comcast.net)
[10:16:27] *** Joins: amousset__ (amousset@6181009C.10715965.BCDF592F.IP)
[10:16:31] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[10:16:53] *** Quits: amousset_ (amousset@6181009C.10715965.BCDF592F.IP) (Ping timeout)
[10:18:10] *** Quits: teosz (teosz@14885300.1934AA08.3EA6AAD8.IP) (Ping timeout)
[10:19:22] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[10:19:23] *** Joins: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net)
[10:19:25] *** Joins: mib_din5q3 (Mibbit@94CD55C6.9719797E.98860CF7.IP)
[10:20:38] *** Joins: aasmith (aasmith@moz-51A27BE9.hsd1.wa.comcast.net)
[10:21:06] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[10:22:14] *** Quits: mib_din5q3 (Mibbit@94CD55C6.9719797E.98860CF7.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[10:22:24] *** Joins: mindcat_ (mindcat@11EE0D7D.DE7505BB.291A146C.IP)
[10:22:57] *** Quits: mindcat (mindcat@1493F53D.B1E12A5D.57E3C596.IP) (Ping timeout)
[10:24:17] *** Quits: mindcat_ (mindcat@11EE0D7D.DE7505BB.291A146C.IP) (Ping timeout)
[10:24:40] *** Joins: morganb (morgan_b_@moz-5EAC75A2.hfc.comcastbusiness.net)
[10:25:38] <huon> eddyb: the food was actually kangaroo :P
[10:27:02] <huon> siavashserver: http://smallcultfollowing.com/babysteps/blog/2013/06/11/data-parallelism-in-rust/ is the canonical reference for (an outline of) the current plan for safe fork-join libs
[10:27:17] *** Joins: tgkokk (tgkokk@moz-5CF0FE99.home.otenet.gr)
[10:27:21] *** Joins: mindcat (mindcat@2A6FDB24.297EFC2A.57E3C596.IP)
[10:27:37] <huon> http://smallcultfollowing.com/babysteps/blog/2014/02/25/rust-rfc-stronger-guarantees-for-mutable-borrows/ contains some more info about how the things interact too
[10:28:32] <siavashserver> huon: Still doesn't look as easy as TBB/OMP alternatives :P
[10:28:52] <huon> siavashserver: they aren't memory safe
[10:29:31] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[10:29:32] <huon> Rust will always have the additional burden of being memory safe without GC, which comes with trade-offs
[10:29:48] <siavashserver> I know it's easy to mess up, but they are CPU cache friendly and will be faster if used correctly
[10:29:56] <huon> in any case, something like `par_map(vector, function)` will be possible under those schemes
[10:30:19] <huon> but yes, if you can discard memory safety/verify it yourself, then dropping down to unsafe code will be faster
[10:30:27] <huon> (probably)
[10:31:31] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[10:32:16] <huon> Anyway, I don't believe we understand enough about the details of the implementation (because it doesn't exist) of a safe Rust fork-join lib to be able to make meaningful performance comparisons yet.
[10:32:41] *** Quits: ghaering (Instantbir@4DECFBA5.E64A0519.C0DAB1E3.IP) (Quit: Instantbird 1.4 -- http://www.instantbird.com)
[10:33:15] <siavashserver> huon: Is it something to expect for v1.0?
[10:33:49] <huon> siavashserver: I don't think 1.0 is blocking on the Share kind (which is the core building block of it)
[10:33:50] <huon> sec
[10:34:10] <huon> oh, it is: https://github.com/mozilla/rust/issues/11781
[10:34:28] <huon> in any case, flaper87|afk is apparently going to start work on that as his next project
[10:34:53] <siavashserver> The fork/join model?
[10:35:16] <WebeWizard> the share kind
[10:35:26] <huon> ^
[10:35:32] <WebeWizard> which will let fork/join be made possible
[10:35:46] *** Joins: mindcat_ (mindcat@C0B1D36.67E5BEA2.57E3C596.IP)
[10:35:47] <huon> Once we have Share then fork-join things will be able to be implemented as a safe library
[10:36:01] <siavashserver> even the parallel for?
[10:36:12] <huon> you could probably even build it as a wrapper around TBB and/or OMP exposing a safe interface
[10:36:21] *** Quits: mindcat (mindcat@2A6FDB24.297EFC2A.57E3C596.IP) (Ping timeout)
[10:36:22] <huon> yes, exactly the parallel for
[10:36:45] <huon> although it will have to be more restricted than the C equivalent (cf. requirement for memory safety)
[10:37:01] *** Joins: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net)
[10:37:39] *** Quits: mindcat_ (mindcat@C0B1D36.67E5BEA2.57E3C596.IP) (Ping timeout)
[10:37:46] *** Quits: brendan (brendaneic@BBB21EE2.F6F8CE9D.1DA58BFC.IP) (Quit: brendan)
[10:37:59] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[10:39:02] *** Quits: kvanb (kvanb@moz-62CC4E9B.lns7.lon.bigpond.net.au) (Ping timeout)
[10:39:24] *** Joins: richard|s (mindginati@moz-A13DCAA3.dyn.cust.vf.net.nz)
[10:39:27] <siavashserver> Are feature requests allowed at rust's issue tracker on github?
[10:39:41] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[10:39:44] <WebeWizard> yes
[10:39:53] <Yurume> huon: I remember Fortress having a sort of associative iterators for parallel map and reduce.
[10:39:58] <siavashserver> Thank you WebeWizard
[10:40:14] <WebeWizard> siavashserver, no problem :)
[10:40:15] <huon> siavashserver: please due diligence for checking for duplicates etc.
[10:40:21] <huon> *do due
[10:40:32] *** Joins: kvanb (kvanb@moz-984033DE.lnse5.win.bigpond.net.au)
[10:40:48] *** Quits: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com) (Ping timeout)
[10:40:58] *** Joins: mindcat (mindcat@8D3CDA2F.DC005319.857BDFA9.IP)
[10:40:58] <siavashserver> Sorry if I'm insisting like kids, I want to get rid of C/C++ like cancer.
[10:41:05] <WebeWizard> tell you the truth, i'm absolutely blown away at how fast rust is being developed
[10:41:17] <Yurume> so do I and many others :p
[10:41:44] <siavashserver> :D
[10:41:52] <Yurume> but well, Rust is not C++ and some features of C++ wouldn't be directly available to Rust for various reasons.
[10:42:04] * Ms2ger wants his inheritance, dammit
[10:42:05] <huon> siavashserver: btw, what's the outline of your feature request? ("implement a fork/join library"?)
[10:42:08] *** Joins: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com)
[10:42:14] <huon> Ms2ger: you were written out of the will years ago
[10:42:15] <siavashserver> huon: I did a search, and didn't found anything similar (parallel for request)
[10:42:25] <Ms2ger> huon, :D
[10:42:31] *** Quits: Moor (Moor@moz-C04C27D8.hsd1.ca.comcast.net) (Ping timeout)
[10:42:45] *** Quits: mbx (mbebenita@moz-B45FE61C.hsd1.ca.comcast.net) (Quit: mbx)
[10:43:33] <bjz> Yurume: Fortress looked bloody cool
[10:43:49] *** Quits: mindcat (mindcat@8D3CDA2F.DC005319.857BDFA9.IP) (Ping timeout)
[10:44:13] *** Quits: aravindavk (aravinda@moz-BD0CADEE.redhat.com) (Quit: Leaving)
[10:44:15] <Yurume> bjz: and it was slow like hell :p
[10:44:28] <bjz> Yurume: I think you could inherit from some special algebraic property interfaces or something and it would do automatic unit tests to check them
[10:44:29] <Yurume> not that the concepts proposed by Fortress are useless though
[10:44:48] <bjz> yeah, I didn't hear much of the performance
[10:45:01] *** Quits: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[10:45:08] <bjz> do you know what mr steele is doing these days?
[10:45:15] <Yurume> to be exact, I might be one of a few Fortress users as my advisor was one of editors of The Fortress Language Specification.
[10:45:20] <bjz> hopefully not building model trains or something
[10:45:27] *** Joins: teosz (teosz@14885300.1934AA08.3EA6AAD8.IP)
[10:45:32] <bjz> oh wow!
[10:45:48] <huon> bjz: last I heard, he was building model trains
[10:45:59] <Yurume> huon: lol XD
[10:46:01] <bjz> huon: I thought that was Wirth
[10:46:18] <bjz> (dunno if Stepanov was joking or not)
[10:46:20] * huon is definitely completely telling the truth ;P
[10:46:27] <siavashserver> huon: I want to be able todo something like this: https://github.com/siavashserver/catalyzer/blob/97836409c15e9c4117da766f5231e430ba19af39/src/Catalyzer.c#L71
[10:46:53] <siavashserver> Only single line of code :P
[10:47:07] <huon> siavashserver: par_map(range(0, num_content), |i| { ... })
[10:47:17] <huon> vs. for i in range(0, num_content) { ... }
[10:47:22] <huon> theoretically
[10:47:39] <siavashserver> huon: How is that going to work?
[10:47:41] <bjz> huon: that'd be cool
[10:48:05] <huon> siavashserver: what do you mean?
[10:48:10] <siavashserver> Hi bjz o/
[10:48:17] <bjz> bye
[10:48:21] <huon> it takes the closure and executes it on each element of that iterator, in parallel
[10:48:23] <bjz> (jk)
[10:48:35] <Yurume> bjz: my contributions include this madness: https://bitbucket.org/dtrebbien/project-fortress-sources/src/tip/Library/QuickCheck.fss (don't mind the broken syntax highlighting)
[10:48:39] *** Joins: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net)
[10:49:20] <siavashserver> huon: Is every loop going to run randomly on a worker thread?
[10:49:30] <huon> no idea
[10:49:38] <huon> can't tell until we have a library
[10:49:47] <huon> since that's precisely dependent on the implementation details of that library
[10:49:55] <siavashserver> TODO?
[10:49:56] <bjz> Yurume: did the traits have similar semantics to typeclasses?
[10:50:03] <huon> siavashserver: yes. we don't have the library.
[10:50:03] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Client exited)
[10:50:11] <huon> we need Share to be able to implement the library
[10:50:17] <siavashserver> huon: Ah OK :D
[10:50:19] <Yurume> bjz: it is more like type-safe interfaces.
[10:50:21] <huon> Share is coming (soon-ish)
[10:50:37] <bjz> Yurume: why are interfaces unsafe?
[10:50:37] <huon> to be specific. We need Share to implement the library in a memory safe way
[10:50:45] *** Joins: RustProof (Mibbit@moz-BA15A5BB.sfr.lns.abo.bbox.fr)
[10:50:56] <bjz> Yurume: also, does that mean that traits weren't ad-hoc?
[10:50:57] *** Joins: mindcat (mindcat@739CFDB3.E1ABDF54.E47F7BFE.IP)
[10:50:58] *** Quits: glaebhoerl_ (glaebhoerl@moz-B5B88D72.catv.broadband.hu) (Connection reset by peer)
[10:51:01] *** Quits: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[10:51:03] *** Joins: glaebhoerl_ (glaebhoerl@moz-B5B88D72.catv.broadband.hu)
[10:51:08] <Yurume> bjz: Java's interface is type-safe, you know :) and yes, it has a well-defined type system.
[10:51:34] <huon> siavashserver: (that example would be better done as `par_map(catalyze.fileSystem.mContent.iter(), |input| { ... })` in Rust, fwiw.)
[10:51:49] *** Joins: redbrain (uid24282@moz-E77DEB21.irccloud.com)
[10:51:52] *** Joins: doomlord_ (servitor@moz-99BE89EC.range86-184.btcentralplus.com)
[10:51:55] <Yurume> one interesting aspect of Fortress is that it has some stringent rules for avoiding ambiguity on multiple dispatch
[10:52:11] <bjz> Yurume: sorry, still confused. you said "Yurume:	 bjz: it is more like type-safe interfaces". The main interface implementation I know is from Java
[10:52:48] *** Quits: mindcat (mindcat@739CFDB3.E1ABDF54.E47F7BFE.IP) (Ping timeout)
[10:53:08] <Yurume> bjz: ah, I didn't mean "interfaces" to be some strict concept, but rather in the weak sense. sorry if that confused you
[10:53:17] <siavashserver> Looks good, I'm all for it; Is it possible to make it work like OMP/TBB ones too? What they do is divide the range by CPU cores, then every core will access a sequential stream of data (better CPU cache utilization) and idle worker threads are also able to steal tasks from busy ones to balance the load (which is optional in OMP, and the default for the TBB). 
[10:53:33] <huon> yes
[10:53:37] <bjz> Yurume: sorry! just trying to understand the semantics
[10:53:42] <huon> it would be possible to write a library like that
[10:53:42] *** Joins: redShadow (redShadow@9BDAF02B.D15F9219.1CCF65D9.IP)
[10:53:46] <siavashserver> Perfect!
[10:53:48] <RustProof> I call a fn(Point) with a pointer to a C function but giving Rust struct Point{x:20, y:20} results in C struct Point{x:14, y:0}
[10:53:55] <Yurume> bjz: so Fortress had traits (Java interfaces) and objects (Java final classes) but no implementation-inheritable things (Java non-final classes and some others).
[10:54:08] <bjz> ah
[10:54:20] *** Quits: MP2E (cray@moz-EB1E242D.lv.lv.cox.net) (Quit: night)
[10:54:37] <huon> (if you can write it in C, you can write something of similar performance in Rust; it might require `unsafe` everywhere if you want it to be as flexible as C... but it's possible.)
[10:54:50] <Yurume> RustProof: is that extern "C" fn(Point)? Rust and C ABI is similar but not exactly identical.
[10:54:59] <huon> RustProof: do you ahve `struct Point { x: int, y: int }`?
[10:55:15] *** Quits: nano (nano@moz-ED77243C.superkabel.de) (Connection reset by peer)
[10:55:31] <bjz> needs to be struct Point { x: c_int, y: c_int }
[10:55:45] <Yurume> and Rust int is not same to C int (Rust libc::c_int, I guess) as huon and bjz pointed out.
[10:55:56] *** Joins: mindcat (mindcat@C1FBBC82.B0488C42.F956842C.IP)
[10:56:02] <RustProof> Rust: struct Point { x: uint, y: uint } ; C: struct Point { uint x; uint y; };
[10:56:24] <bjz> RustProof: there are lots of types defined in libc
[10:56:24] <Yurume> RustProof: the former should be c_uint.
[10:56:35] <Yurume> you can import it using `use std::libc::c_uint`.
[10:56:42] *** Quits: koomi (koomi@moz-41AD638A.uberspace.de) (Ping timeout)
[10:56:44] *** Joins: angdev (angdev@7F09863D.2070CE2.413CBA8C.IP)
[10:56:48] <RustProof> but fn(uint) is working
[10:56:57] <huon> chance
[10:57:01] <Yurume> I'm sure that fn(uint,uint) won't work :)
[10:57:04] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[10:57:06] <huon> what platform are you on? x86-64?
[10:57:06] *** Joins: nano (nano@moz-ED77243C.superkabel.de)
[10:57:11] <RustProof> yes
[10:57:22] <huon> Rust's uint is pointer sized, C's is almost always 4 bytes
[10:57:24] <bjz> RustProof: it is just happily going on with it - otherwise you'd get a seg fault
[10:57:28] *** Joins: angdev_ (angdev@5FD7B3EC.D2E4DD4E.B176C581.IP)
[10:57:31] <huon> (i.e. Rust's is 8 bytes on x86-64)
[10:57:44] <RustProof> So i have to use libc uint ?
[10:57:46] <huon> either used fixed sized types: u32 (rust) and uint32_t (c)
[10:57:46] <bjz> rusti: std::mem::size_of::<std::libc::c_int>()
[10:57:48] -rusti- 4u
[10:57:53] <bjz> rusti: std::mem::size_of::<int>()
[10:57:54] -rusti- 8u
[10:57:55] <huon> or use the std::libc ones
[10:58:27] <bjz> we need better docs for making ffis
[10:58:30] <RustProof> ok thanx
[10:58:33] *** Quits: angdev (angdev@7F09863D.2070CE2.413CBA8C.IP) (Ping timeout)
[10:58:37] * bjz semi looks at himself
[10:58:41] *** Quits: teosz (teosz@14885300.1934AA08.3EA6AAD8.IP) (Ping timeout)
[10:59:19] <doomlord_> i'm pretty certain i've worked on C/C++ platforms where int has been 8 bytes aswell
[10:59:22] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[10:59:39] <doomlord_> never safe to assume what size it is :) thats the only safe assumption
[10:59:46] <bjz> :)
[10:59:52] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Ping timeout)
[10:59:58] *** Joins: Moor (Moor@moz-C04C27D8.hsd1.ca.comcast.net)
[11:00:04] <bjz> silly old C
[11:00:04] <huon> doomlord_: there's no platforms other than x86-64 and x86 :P
[11:00:06] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[11:00:21] <doomlord_> some consoles in the past threw 64bit ints at me
[11:00:29] <Yurume> bjz: anyway, more on parallel for: it has two concepts for map/reduce, "generator" and "reduction". put in Rust syntax it is something like: trait Generator<T> { fn generate<X,R:Reduction<X>>(&self, r:R, body:|&T|->X) -> X; } trait Reduction<X> { fn empty() -> X; fn join(X,X) -> X; }
[11:00:42] *** Joins: teosz (teosz@14885300.1934AA08.3EA6AAD8.IP)
[11:01:02] *** Quits: IdolfHatler (idolf@moz-4103EACC.pwnies.dk) (Ping timeout)
[11:01:04] <Yurume> reductions are what we can call associate iterators
[11:01:06] <doomlord_> parallel for .. or parallelized map... , yum.
[11:01:24] <bjz> Yurume: could something similar be implemented for Rust?
[11:01:55] <doomlord_> i wrote parallel iterators for c++, but before it had lambdas , they were slightly messy to use
[11:02:00] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[11:02:09] <huon> bjz: it looks like Yurume just threw an implementation at you :P
[11:02:16] <doomlord_> par_foreach(...) dispatching to a thread pool
[11:02:18] <huon> (well... the traits at least.)
[11:02:21] <bjz> heh
[11:02:25] <Yurume> generators are where the actual parellelism comes from; generators can choice the order of empty/join calls, which effectively allows them to choose between serial and parallel implementations
[11:02:40] <redbrain> i am trying to put together some things to show people at work why i think rust is amazing have you guys have experience of doing this? Trying put forward possibly doing some future work here at NYSE in rust dunno how well it will go down though
[11:02:47] *** Quits: teosz (teosz@14885300.1934AA08.3EA6AAD8.IP) (Ping timeout)
[11:02:59] *** Quits: marianoguerra (marianogue@moz-1A3239B2.dip0.t-ipconnect.de) (Ping timeout)
[11:03:17] <Yurume> bjz: I guess it is possible, but generators have to be much clever since it has to spawn tasks by their own.
[11:03:25] <bjz> redbrain: cmr had a really nice presentation on building safe memory constructs in rust
[11:03:26] <Yurume> (in Fortress it is automatic)
[11:03:40] <bjz> Yurume: that's what I was thinking
[11:03:57] <bjz> Yurume: afaik Fortress was much more declarative in that respect
[11:03:58] <huon> redbrain: memory safety, performance, no GC (i.e. no GC pauses, easier to reason about memory use)
[11:04:01] <redbrain> bjz: thats exactly the kind of things i need to put across is the safety aspects
[11:04:03] <Yurume> I can imagine there is a sort of container-to-generator adapter
[11:04:18] <huon> (in order of best to "worst")
[11:04:22] <redbrain> huon: thanks yeah deffos
[11:04:33] *** Joins: mindcat_ (mindcat@68771EB0.E1ABDF54.E47F7BFE.IP)
[11:04:44] <bjz> redbrain: this is a good presentation: http://www.youtube.com/watch?v=gfCtbGiHcg0
[11:04:54] *** Quits: mindcat (mindcat@C1FBBC82.B0488C42.F956842C.IP) (Ping timeout)
[11:05:31] <redbrain> bjz: nice yeah i forgot about this one thanks this is exactly what i need
[11:05:58] <huon> redbrain: http://benchmarksgame.alioth.debian.org/u64/benchmark.php?test=fasta&lang=all&id=1&data=u64 is nice too
[11:06:15] <huon> (the Rust program is 100% safe... not even the Haskell program can make that guarantee.)
[11:06:24] <bjz> Yurume: might be an interesting area to work on!
[11:06:40] <huon> just ignore the other benchmarks there, though... haven't had enough work put into them
[11:07:02] <huon> Yurume: (one such adaptor would just be the iterators, right?)
[11:07:29] <Yurume> huon: right.
[11:08:24] *** Quits: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net) (Quit: killerswan)
[11:08:30] *** Joins: teosz (teosz@14885300.1934AA08.3EA6AAD8.IP)
[11:08:45] <bjz> redbrain: we look like C and C++ a little, but the semantics are quite different, and rather beautiful. there are also some things that up to date C++ folks might recognise, but Rust formalises those 'cultural practices' into the type system.
[11:09:36] <bjz> redbrain: things like RAII and unique pointers might come up
[11:09:46] <bjz> "but we have this in C++"
[11:09:59] <bjz> dunno what your audience is like though
[11:10:38] <huon> redbrain: I would definitely recommend being very clear that it is something to keep on the radar, rather than something to use right now, since it's still very unstable. (As I'm sure you well know. :) )
[11:11:01] <bjz> I think the cool thing is that Rust is all defaulted to safe modes, so it you don't need to be well versed in a ton of culture to get proficient at writing safe code
[11:11:03] <redbrain> bjz: yeah i think that youtube presentation is something i should aim for at least am kind of nervous this place is very i dunno skeptical but i want to try and push for this the code quality here is beyond abysmal i am hoping rust would really help at least for some of the small tools we use which cause alot of pain 
[11:11:09] <huon> Be careful with C++ comparisons: often one gets "but if you use Boost <smart pointer> then it's fine"
[11:11:17] <bjz> yeah
[11:11:19] <huon> as a response
[11:11:45] *** Quits: angdev_ (angdev@5FD7B3EC.D2E4DD4E.B176C581.IP) (Ping timeout)
[11:11:52] <bjz> you need to know abit to takle the C++ comparisons - I've seen lots of people fail
[11:12:12] <huon> which entirely misses the point (of the huge safety holes C++ has and can't patch, iterator invalidation, dangling pointers, etc.), but there's always a C++ "if you do it right, you're fine"-response
[11:12:23] <doomlord_> even if rust is just 'c++11'.. the syntax makes the safe coding style a lot more natural
[11:12:35] <doomlord_> but it isn't
[11:12:45] <bjz> huon: the thing is we don't have the defaults chosen over 40 years ago
[11:13:04] <bjz> :)
[11:13:08] <huon> "safe coding style a lot more natural" it makes the safe style compulsory
[11:13:13] <bjz> yes
[11:13:18] *** Joins: Sorella (quildreen@9D963F5D.DF5D8AE7.54BCAB54.IP)
[11:13:21] <huon> which is the big difference
[11:13:35] <bjz> redbrain: think of it like static analysis formalised in the compiler
[11:13:37] <doomlord_> well you can still write unsafe {} :) but it makes it clear what it is :)
[11:13:44] <huon> (unless you select `unsafe` explicitly, in which case you can grep to find all the places that need super careful analysis)
[11:13:45] <huon> yeah
[11:13:54] *** Quits: frza (frza@EA5BFF77.2B9073C9.204B78AE.IP) (Quit: frza)
[11:14:02] * huon has a tool that lists all the unsafe code in a crate
[11:14:08] <bjz> redbrain: all those third-party tools acting like duct-tape sticking together an obese, leaking ship
[11:14:13] <redbrain> thanks guys i think i have enough to get started at least going to need to practice this i think
[11:14:20] *** Joins: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net)
[11:14:32] <bjz> redbrain: are you reccomending a switch to rust?
[11:14:35] <bjz> just checking
[11:14:39] *** Quits: teosz (teosz@14885300.1934AA08.3EA6AAD8.IP) (Ping timeout)
[11:14:40] <doomlord_> i can see it being useful to check whether or not any 'unsafe' code changes from one checkin to another in a project
[11:14:43] <redbrain> bjz: yeah i think it would help alot
[11:14:46] <huon> (the tool resulted in PRs like: https://github.com/mozilla/rust/pull/12445 )
[11:14:47] <bjz> because it really is not ready
[11:14:47] <doomlord_> (automatically)
[11:14:53] <redbrain> bjz: at least for new projects
[11:14:57] * huon should clean it up and put it on github
[11:15:00] *** Joins: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP)
[11:15:04] <bjz> redbrain: I would strongly reccomend caution at this stage
[11:15:11] <huon> bjz++
[11:15:14] <bjz> redbrain: maybe in a year
[11:15:18] <doomlord_> its just platform support now making me procrastinate about rust
[11:15:23] *** Quits: siavashserver (siavash@B8E77A08.3DEB375.82A25C10.IP) (Quit: Konversation terminated!)
[11:15:30] <bjz> redbrain: you could potentially turn lots of people off
[11:15:41] <huon> something to keep on the radar, and maybe experiment with (preferably out-of-production) on small things
[11:15:46] <redbrain> bjz: yeah we have some very small tools that QA use i think there at the start
[11:15:51] <doomlord_> i can't expect the rust community can keep all the platforms supported  that the larger C++ community can
[11:15:51] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[11:16:01] <redbrain> and because everything is so slow here it would probably be 2 years down the road in the end anyways
[11:16:01] <redbrain> lol
[11:16:03] <bjz> redbrain: have you done much rust yet?
[11:16:10] <huon> doomlord_: well, we only support x86(-64) and arm
[11:16:11] *** Joins: amousset (amousset@6181009C.10715965.BCDF592F.IP)
[11:16:19] <huon> bjz: he's only written half a compiler for it :P
[11:16:25] <bjz> wut
[11:16:31] <bjz> :P
[11:16:31] <huon> gcc-rs
[11:16:33] <redbrain> bjz: yeah gcc-rs
[11:16:35] *** Quits: amousset__ (amousset@6181009C.10715965.BCDF592F.IP) (Ping timeout)
[11:16:37] <doomlord_> even then, its only limited OS's - from what i saw you need to mess with the compiler build system alot to use a different OS
[11:17:02] <huon> doomlord_: it's not at all unexpected for a language in development, right?
[11:17:06] <bjz> redbrain: so you're well aware of the punishing update treadmill
[11:17:10] <doomlord_> of course 
[11:17:11] <bjz> :)
[11:17:17] <doomlord_> its not fair to expect it 
[11:17:25] <huon> where we have enough trouble finding people to support windows, let alone other OSes
[11:17:30] <doomlord_> yeah
[11:17:32] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[11:17:52] <redbrain> bjz: yeah i would love to use it more myself but some small tools we offer qa only takes me and another guy to develop and maintina i think we could push some new tools to be in rust at tleast as a starting point for now
[11:17:55] <huon> anyway, yeah, if you're looking for niche platforms you'll have to wait until (a) LLVM supports it and (b) someone feels like porting the compiler to it
[11:17:56] <redbrain> would be interesting to see how it goes
[11:18:13] <huon> (gcc-rs would be helpful for back-end platform support too)
[11:18:14] <bjz> redbrain: that's always the way I guess
[11:18:17] <doomlord_> this is why compiling to C would have been really interesting for me - everything has a C compiler 
[11:18:22] *** Quits: brandonson (SingingBoy@610D90A5.EE9B234.1ECA502.IP) (Ping timeout)
[11:18:22] <bjz> redbrain: do little stuff
[11:18:38] <doomlord_> if rust was compiling to C.. there'd be no question about using it 100% for me now
[11:18:44] <bjz> redbrain: like andrei trying to do D at Facebook
[11:18:45] <huon> doomlord_: I wonder easy that would be ...
[11:19:03] <doomlord_> supposedly LLVM used to have IR->C but not any more
[11:19:05] <doomlord_> its bitrotted
[11:19:12] <doomlord_> (i investigated that whilst trying to get it on iOS)
[11:19:18] <huon> doomlord_: IR is platform specific too
[11:19:20] <redbrain> bjz: oh cool didnt realise they are doign that
[11:19:23] <bjz> redbrain: I think he wrote a C++ linter in D
[11:19:29] <doomlord_> yeah the IR needs to know about the AB I
[11:19:30] <huon> so LLVM still needs to know about the platform
[11:19:49] <bjz> redbrain: https://code.facebook.com/posts/729709347050548/under-the-hood-building-and-open-sourcing-flint/
[11:20:20] <bjz> redbrain: I was skeptical about how receptive facebook would be to D, but he seems to be continuing his efforts
[11:20:38] *** Joins: luz (lu.cy@moz-CD18B14B.customer.cdi.no)
[11:20:44] <redbrain> bjz: yeah i think its going to be veryhard to put it across here but i want to try :P
[11:20:52] <doomlord_> for game development... consoles and mobiles are very important
[11:21:10] <doomlord_> you want to aim at people's living rooms and pockets
[11:21:15] *** Quits: Ferreus (ferreus@moz-88A03AFF.dip0.t-ipconnect.de) (Ping timeout)
[11:21:33] <bjz> redbrain: sometimes it might be something you have to do in overtime, then compare/contrast the implementations, and say "this is how it will make you money"
[11:22:21] <doomlord_> looking at 'modern-c++' gives me the same feeling as common-lisp .. mouldy old langauge
[11:22:28] <bjz> redbrain: unfortunately atm I think rust dev in production would be a massive money black hole, but I am ok to be proven wrong
[11:22:30] <redbrain> bjz: i think at least some of the engineers here are at the very least interested never mind the business side they kind of dont care about the implementation just time and allocating taskes etc
[11:22:38] <bjz> yeah
[11:22:39] <doomlord_> in that there's lots of long identifiers to do basic things
[11:22:50] *** Quits: jsonnull (Thunderbir@20DADFC2.48C8B17D.494A0F8B.IP) (Ping timeout)
[11:23:11] <bjz> redbrain: start the underground rust coalition
[11:23:14] <bjz> :D
[11:23:19] <bjz> jk
[11:23:29] *** Joins: jsonnull (Thunderbir@20DADFC2.48C8B17D.494A0F8B.IP)
[11:23:31] <redbrain> haahaha
[11:23:35] <redbrain> i want to try at least
[11:23:47] <bjz> what is your domain?
[11:23:54] <WebeWizard> start graffiti'ing gears on walls and trash cans
[11:24:48] <huon> WebeWizard: even better: spray them with water and pure oxygen to Rust them into gears
[11:25:40] *** Joins: teosz (teosz@14885300.1934AA08.3EA6AAD8.IP)
[11:25:44] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[11:27:28] <RustProof> Well with c_uint it does the same thing
[11:27:33] <RustProof> and u32 too
[11:27:43] *** Quits: teosz (teosz@14885300.1934AA08.3EA6AAD8.IP) (Ping timeout)
[11:28:21] <RustProof> C's sizeof(uint) = 4
[11:28:31] *** Quits: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com) (Ping timeout)
[11:28:40] *** Joins: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com)
[11:28:55] <bjz> RustProof: could you post the code?
[11:29:04] <RustProof> where ?
[11:29:08] <bjz> and the relevant C prototypes?
[11:29:15] <bjz> gist.github.com
[11:29:25] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[11:29:50] <bjz> RustProof: if you put a `.rs` after the file name it'll give you rust highlighting
[11:29:58] <bjz> (protip)
[11:30:09] <Ms2ger> #lifehack
[11:30:57] <bjz> if Rust is your life, then yes
[11:31:03] *** Joins: andre_ (andre@CA528A4A.45A4338E.8EE27E6.IP)
[11:31:30] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[11:32:09] *** Quits: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net) (Input/output error)
[11:32:39] *** Joins: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net)
[11:32:45] <huon> how could it be otherwise?
[11:32:47] *** Quits: JanC_ (janc@moz-E665F87F.dsl.scarlet.be) (Ping timeout)
[11:33:06] *** Quits: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com) (Ping timeout)
[11:33:13] *** Joins: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com)
[11:33:29] *** Quits: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net) (Connection reset by peer)
[11:33:33] *** Joins: zimbatm_ (zimbatm@moz-D4F596B.cable.virginm.net)
[11:33:36] *** Quits: zimbatm_ (zimbatm@moz-D4F596B.cable.virginm.net) (Input/output error)
[11:33:53] *** Joins: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net)
[11:34:00] *** Quits: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net) (Input/output error)
[11:34:13] *** Joins: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net)
[11:34:26] *** Joins: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP)
[11:35:06] *** Quits: oxum (anonymous@9AF44D15.6336B7BD.C28326FD.IP) (Ping timeout)
[11:35:11] *** Quits: richard|s (mindginati@moz-A13DCAA3.dyn.cust.vf.net.nz) (Quit: zzZZZ)
[11:35:13] *** Quits: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net) (Input/output error)
[11:35:24] *** Joins: richard|s (mindginati@moz-A13DCAA3.dyn.cust.vf.net.nz)
[11:35:47] *** Joins: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net)
[11:37:08] <RustProof> Here : https://gist.github.com/anonymous/3bf428d95307fc1396ac
[11:37:16] *** Joins: Ferreus (ferreus@moz-E2D4DE6.dip0.t-ipconnect.de)
[11:38:29] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[11:38:44] <huon> RustProof: https://gist.github.com/anonymous/3bf428d95307fc1396ac#file-test-rs-L51 should be `extern "C" fn`
[11:38:49] *** Joins: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com)
[11:38:52] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Connection reset by peer)
[11:39:13] <huon> (and the next one)
[11:39:30] <RustProof> and what if I give a Rust fn to the thing ?
[11:39:38] <huon> you can't
[11:39:45] *** Joins: io2 (io2@moz-EE406A5.home.otenet.gr)
[11:39:50] <huon> you'll have to write an extern "C" wrapper
[11:39:55] *** Joins: oxum (anonymous@1D5D22BF.EA8C851.C28326FD.IP)
[11:40:05] <RustProof> k
[11:40:14] *** Quits: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net) (Input/output error)
[11:40:49] <huon> (`extern "C" fn foo(size: Size<u32>, max_iter: u32) { do_cool_things(size, max_iter) }` etc.)
[11:42:07] <RustProof> It work :)
[11:42:10] <RustProof> s
[11:42:29] *** Quits: oxum (anonymous@1D5D22BF.EA8C851.C28326FD.IP) (Ping timeout)
[11:42:45] <RustProof> Have a good day
[11:42:48] *** Quits: RustProof (Mibbit@moz-BA15A5BB.sfr.lns.abo.bbox.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[11:42:58] *** Quits: Munchor (munchor@moz-8CFC84AD.yourvserver.net) (Ping timeout)
[11:43:11] *** Joins: squiggy (Mibbit@moz-CD3149AD.netcologne.de)
[11:43:25] *** Quits: squiggy (Mibbit@moz-CD3149AD.netcologne.de) (Quit: http://www.mibbit.com ajax IRC Client)
[11:43:25] <huon> \o/
[11:43:40] <huon> oh, they left before we could celebrate together :'(
[11:43:50] *** Quits: luz (lu.cy@moz-CD18B14B.customer.cdi.no) (Connection reset by peer)
[11:44:14] * jensnockert celebrates with huon.
[11:44:36] <huon> \o/
[11:44:44] * huon hugs jensnockert
[11:44:49] <jensnockert> \o/
[11:45:43] *** Joins: luz (lu.cy@moz-CD18B14B.customer.cdi.no)
[11:46:38] *** Joins: marianoguerra (marianogue@moz-235A4793.dip0.t-ipconnect.de)
[11:46:56] *** Joins: Munchor (munchor@moz-8CFC84AD.yourvserver.net)
[11:47:03] *** Joins: oxum (anonymous@95C879B1.6B6245D5.C28326FD.IP)
[11:47:17] *** Joins: engla (engla@moz-F64E1B0F.cust.bredbandsbolaget.se)
[11:47:25] *** Joins: JanC_ (janc@moz-3EA30887.dsl.scarlet.be)
[11:50:41] *** Joins: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net)
[11:53:17] *** Joins: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net)
[11:53:30] *** Joins: hays (quassel@moz-38726124.washdc.east.verizon.net)
[11:53:52] <doomlord_> heh i see 'crate' is a reserved word now... that might upset some game developpers
[11:54:02] <doomlord_> (especially if you also reserve 'barrel')
[11:54:07] *** Quits: pradeep (pradeep@5AB4884B.FCC4549.14D5B978.IP) (Quit: leaving)
[11:54:24] <jensnockert> box already bit me :(
[11:54:45] *** Quits: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com) (Ping timeout)
[11:55:00] <doomlord_> ast .. DefId { krate, node} lol
[11:55:04] *** Joins: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com)
[11:55:07] <jensnockert> klass
[11:55:10] <doomlord_> heh
[11:55:12] <jensnockert> bokz.
[11:55:22] <eddyb> krust
[11:55:32] <eddyb> (kde people will understand)
[11:56:32] <doomlord_> why was 'self removed
[11:56:45] <pnkfelix> nmatsakis: out of curiosity, do you find that under the new borrowck rules, one must move definitions out of local scopes more often?
[11:56:53] <eddyb> doomlord_: because it was no longer special
[11:56:58] <eddyb> doomlord_: and it lead to bloat
[11:57:03] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[11:57:17] <pnkfelix> nmatsakis: It makes sense, but it also means that its harder for me to write things like `let foo = { let bar = ...; (&bar.x, &bar.ly) };`
[11:57:25] <eddyb> doomlord_: struct Foo<'a, 'b, 'c>(&'a A, &'b B, &'c C); totally works now
[11:57:33] <doomlord_> oh, so when using lifetimes, its equally likely that you have to specify 'self' as having the same lifetime as a parameter i guess
[11:57:42] <pnkfelix> doomlord_: and because I think nmatsakis may want to repurpose 'self as a special non-standard lifetime in the future.
[11:57:51] *** Joins: judofyr (judofyr@192D24C7.B738D75A.E7F60444.IP)
[11:58:16] <eddyb> doomlord_: 'self used to meant something like "this structure's lifetime"
[11:58:26] <eddyb> now you can put any number of lifetimes
[11:58:52] <eddyb> the struct itself can't outlive the lifetimes because you need the lifetimes to construct it
[11:59:21] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[11:59:24] <eddyb> its own existence depends on being shorter lived than the lifetimes it uses in borrowed pointers
[11:59:27] <pnkfelix> nmatsakis: (I mostly am internally musing if there might be any value in separate constructs for restricting namespace versus restricting value extent)
[11:59:46] <doomlord_> ok i get you ... it was only being used in places where its declared, so there was no point to it in its old form
[12:00:04] <eddyb> I think people wrote impl<'self> Foo<'self>
[12:03:14] <doomlord_> closures being written |x| .... because fn can still mean a plain function ?
[12:03:23] <doomlord_> yeah i was doing that all the time
[12:05:01] *** Joins: frza (frza@EA5BFF77.2B9073C9.204B78AE.IP)
[12:05:48] <nmatsakis> pnkfelix: sorry I don't know what rules you mean
[12:05:55] <nmatsakis> pnkfelix: oh, I see
[12:06:02] *** pmoore|away is now known as pmoore
[12:06:05] <nmatsakis> pnkfelix: I don't think that would have ever worked?
[12:06:10] <pnkfelix> nmatsakis: well
[12:06:17] <pnkfelix> nmatsakis: its just something I'm noticing while porting your patch
[12:06:24] <nmatsakis> pnkfelix: (but it could be made to work if we inferred rvalue lifetimes)
[12:06:29] <pnkfelix> nmatsakis: so I've been assuming that some of these constructs worked at some point
[12:06:39] <nmatsakis> maybe they were buggy :)
[12:06:45] <pnkfelix> nmatsakis: (though I may have over-simplified in my transcription)
[12:06:52] <pnkfelix> nmatsakis: yeah, its quite possible that they were buggy
[12:07:03] <pnkfelix> nmatsakis: Still, the point is
[12:07:15] <pnkfelix> nmatsakis: There are times I can imagine where I need a value to live for a long time
[12:07:30] <pnkfelix> nmatsakis: but I don't really intend for code later in the control flow to refer to it
[12:07:40] <pnkfelix> nmatsakis: I *could* explicitly rebind that name
[12:07:58] <pnkfelix> nmatsakis: e.g. `let bar = ...; let foo = ... bar ...; let bar = (); ...`
[12:08:17] <pnkfelix> nmatsakis: But that seems like it does not scale well
[12:08:39] <nmatsakis> pnkfelix: we'd need inference to do it
[12:08:41] <eddyb> &'a foo might be a nice construct to have
[12:08:41] <nmatsakis> that's all I'm saying
[12:08:52] <nmatsakis> well, that's true
[12:08:55] <nmatsakis> I've been wanting to add that
[12:08:56] <pnkfelix> nmatsakis: I see.  Yeah either inference
[12:08:58] <nmatsakis> and I guess that would address this
[12:09:00] <pnkfelix> nmatsakis: or a way to say
[12:09:09] <eddyb> 'a: { let x = (&'a Foo, &'a Bar); }
[12:09:13] <nmatsakis> yeah i'd be happier with the explicit form
[12:09:22] <nmatsakis> inference makes a lot of things convenient,
[12:09:29] <nmatsakis> but so do syntax-driven rules :)
[12:09:33] <pnkfelix> nmatsakis: `'a { ... let foo = { let bar : 'a = ...; ... bar ... }; ... }
[12:09:37] <nmatsakis> pnkfelix: no
[12:09:44] <eddyb> &'a exor
[12:09:46] <nmatsakis> let bar = &'a Bar
[12:09:46] <eddyb> *expr
[12:09:51] <nmatsakis> as eddyb wrote it
[12:10:10] <eddyb> inference can make RefCell even worse than it is right now :P
[12:10:21] <pnkfelix> nmatsakis: hmm, I would have thought that `&'a expr` is a property of the borrow
[12:10:30] <pnkfelix> nmatsakis: not of the allocation of the value itself
[12:10:45] <eddyb> huon, cmr: oh dear, firefox uses 800MB with just 5 tabs... and I can't crash them individually :(
[12:10:56] <pnkfelix> nmatsakis: eddyb: (I freely admit that the syntax I made was off-the-cuff and not thought out)
[12:11:09] *** Quits: amousset (amousset@6181009C.10715965.BCDF592F.IP) (Ping timeout)
[12:11:11] *** Joins: ganitsu (ganitsu@moz-F7153A3D.dialup.adsl.anteldata.net.uy)
[12:11:22] <eddyb> &rvalue puts rvalue on the stack and gives you its address
[12:11:36] <eddyb> it's not just a borrow, it's a stack allocation
[12:11:48] *** Quits: rootnode (rootnode@moz-E6216636.pools.arcor-ip.net) (Ping timeout)
[12:12:02] <huon> eddyb: stop whinging about your browsers and hack on servo :P
[12:12:09] <nmatsakis> pnkfelix: yes, a property of the borow
[12:12:13] <eddyb> huon: soon
[12:12:24] *** Quits: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com) (Ping timeout)
[12:12:28] <nmatsakis> pnkfelix: that is, of the &rvalue borrow
[12:12:33] <nmatsakis> I'll just step out and let eddyb explain :)
[12:12:43] *** Joins: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com)
[12:12:58] <eddyb> nmatsakis: oh dear, have we reached this point already?
[12:13:05] *** Joins: rootnode (rootnode@moz-E6216636.pools.arcor-ip.net)
[12:13:10] *** Quits: glaebhoerl_ (glaebhoerl@moz-B5B88D72.catv.broadband.hu) (Quit: )
[12:13:13] *** Joins: glaebhoer1 (glaebhoerl@moz-B5B88D72.catv.broadband.hu)
[12:13:14] * eddyb powders @ with coal dust
[12:13:17] <eddyb> it works like sugar, right?
[12:13:31] *** Quits: Ms2ger (Ms2ger@BFE4F509.6F5CD262.187A1082.IP) (Quit: bbl)
[12:14:01] <eddyb> huon: I'm actually in a race... I want to remove @T before servo finishes its update to rust master
[12:14:49] *** Quits: ganitsu (ganitsu@moz-F7153A3D.dialup.adsl.anteldata.net.uy) (Ping timeout)
[12:15:19] <eddyb> but I'm not that efficient (took me a week to do this deref thing) and nmatsakis is a busy man
[12:15:21] <judofyr> is there a way to mark a function/struct as "public, but only for internal use inside the crate"?
[12:15:24] *** Quits: lunaryorn (lunaryorn@moz-7ACD0D06.dynamic.mnet-online.de) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[12:15:30] *** Joins: ganitsu (ganitsu@moz-F7153A3D.dialup.adsl.anteldata.net.uy)
[12:15:40] <eddyb> judofyr: you can hide the module it's in, I think
[12:16:20] *** Quits: Munchor (munchor@moz-8CFC84AD.yourvserver.net) (Ping timeout)
[12:16:22] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[12:18:03] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[12:18:11] <eddyb> huon: I will have to get into the habit of closing the browser when I want to compile rustc
[12:18:19] *** Quits: richard|s (mindginati@moz-A13DCAA3.dyn.cust.vf.net.nz) (Input/output error)
[12:18:19] *** Joins: mindcat (mindcat@2BBDDC93.725FD9F7.DBA68950.IP)
[12:18:31] *** Joins: richard|s (mindginati@moz-A13DCAA3.dyn.cust.vf.net.nz)
[12:18:38] *** Quits: mindcat_ (mindcat@68771EB0.E1ABDF54.E47F7BFE.IP) (Ping timeout)
[12:19:28] *** Quits: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com) (Ping timeout)
[12:19:31] *** Joins: mib_o7fewk (Mibbit@moz-CC4D51CD.dsl.sta.abo.bbox.fr)
[12:19:34] *** Joins: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com)
[12:21:54] <pnkfelix> eddyb: okay, I think I've made it all make sense in my head
[12:22:00] *** Joins: brendan (brendaneic@D53CFBFD.2CC47E51.80E51C59.IP)
[12:22:00] *** Joins: Munchor (munchor@moz-8CFC84AD.yourvserver.net)
[12:22:10] *** Parts: cmr (moznet@moz-EC676DFE.members.linode.com) (WeeChat 0.4.3)
[12:22:13] *** Joins: cmr (moznet@moz-EC676DFE.members.linode.com)
[12:22:33] *** lpy|afk is now known as lpy
[12:22:53] *** Quits: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com) (Ping timeout)
[12:23:06] *** Joins: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com)
[12:26:15] *** Quits: mib_o7fewk (Mibbit@moz-CC4D51CD.dsl.sta.abo.bbox.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[12:27:21] *** jorendorff_away is now known as jorendorff
[12:29:30] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[12:30:02] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Client exited)
[12:30:23] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[12:31:29] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[12:32:08] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[12:32:50] *** Joins: mindcat_ (mindcat@2828028C.BED0357D.E47F7BFE.IP)
[12:33:01] *** Parts: cmr (moznet@moz-EC676DFE.members.linode.com) (WeeChat 0.4.3)
[12:33:04] *** Joins: cmr (moznet@moz-EC676DFE.members.linode.com)
[12:33:04] *** ChanServ sets mode: +o cmr
[12:33:23] *** Quits: mindcat (mindcat@2BBDDC93.725FD9F7.DBA68950.IP) (Ping timeout)
[12:34:11] *** Joins: canhtak (canhtak@moz-251024EB.wl.t.ulaval.ca)
[12:36:44] *** Quits: mindcat_ (mindcat@2828028C.BED0357D.E47F7BFE.IP) (Ping timeout)
[12:37:43] *** Quits: brendan (brendaneic@D53CFBFD.2CC47E51.80E51C59.IP) (Connection reset by peer)
[12:37:49] *** Joins: mindcat (mindcat@92784EF1.E1ABDF54.E47F7BFE.IP)
[12:38:25] *** Quits: richard|s (mindginati@moz-A13DCAA3.dyn.cust.vf.net.nz) (Quit: zzZZZ)
[12:39:14] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[12:40:55] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[12:41:42] *** Joins: oberstet (quassel@moz-8A7A561E.dynamic.mnet-online.de)
[12:43:13] *** Joins: luzie (lu.cy@moz-CD18B14B.customer.cdi.no)
[12:43:23] *** Quits: luz (lu.cy@moz-CD18B14B.customer.cdi.no) (Connection reset by peer)
[12:43:38] *** Joins: mindcat_ (mindcat@D8D8DE21.5E589B8A.DBA68950.IP)
[12:43:44] *** Quits: mindcat (mindcat@92784EF1.E1ABDF54.E47F7BFE.IP) (Ping timeout)
[12:45:31] *** Quits: mindcat_ (mindcat@D8D8DE21.5E589B8A.DBA68950.IP) (Ping timeout)
[12:45:38] *** Joins: victorporof (victorporo@moz-FFB76956.cpe.net.cable.rogers.com)
[12:45:53] *** Joins: philix (philix@moz-59AD4373.user.veloxzone.com.br)
[12:47:26] *** Joins: henrikhodne (sid5765@moz-E77DEB21.irccloud.com)
[12:49:40] *** Quits: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[12:50:29] *** Joins: amousset (amousset@6181009C.10715965.BCDF592F.IP)
[12:51:15] *** Quits: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net) (Input/output error)
[12:51:18] *** Joins: bytbox (s@moz-E1E7FAC3.washdc.fios.verizon.net)
[12:51:55] *** Joins: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net)
[12:52:17] *** Quits: glaebhoer1 (glaebhoerl@moz-B5B88D72.catv.broadband.hu) (Quit: )
[12:52:45] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[12:52:53] *** Joins: asmyers (quassel@F7FD79FB.9A737B8F.FAA4474F.IP)
[12:53:06] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[12:53:36] *** Quits: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net) (Ping timeout)
[12:53:39] *** Joins: mindcat (mindcat@A271CADD.7EE3DE8.F956842C.IP)
[12:53:58] *** Joins: AvianFlu (AvianFlu@moz-31F97978.nyc.res.rr.com)
[12:54:15] *** Quits: oxum (anonymous@95C879B1.6B6245D5.C28326FD.IP) (Ping timeout)
[12:54:48] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Ping timeout)
[12:56:29] *** Quits: mindcat (mindcat@A271CADD.7EE3DE8.F956842C.IP) (Ping timeout)
[12:57:37] *** Joins: koomi (koomi@moz-41AD638A.uberspace.de)
[12:58:37] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Quit: TheHydroImpulse)
[12:58:41] *** Joins: mindcat (mindcat@61ADEDD6.D38CD150.57E3C596.IP)
[13:00:03] *** Quits: amousset (amousset@6181009C.10715965.BCDF592F.IP) (Ping timeout)
[13:00:07] *** Quits: mindcat (mindcat@61ADEDD6.D38CD150.57E3C596.IP) (Connection reset by peer)
[13:03:17] *** Joins: spider-mario (spidermari@moz-81131DB6.fbx.proxad.net)
[13:03:44] *** Joins: mindcat (mindcat@986D183E.79C16620.DBA68950.IP)
[13:04:08] *** Quits: io2 (io2@moz-EE406A5.home.otenet.gr) (Quit: )
[13:04:18] *** Parts: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP) ()
[13:05:28] *** Joins: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP)
[13:07:02] *** Joins: dranov (dranov@98CCADF9.857BF9F5.A5830293.IP)
[13:07:31] *** Joins: io2 (io2@moz-EE406A5.home.otenet.gr)
[13:08:46] *** Quits: frza (frza@EA5BFF77.2B9073C9.204B78AE.IP) (Quit: frza)
[13:10:19] *** Joins: kris (kris@moz-6D20263F.fullrate.dk)
[13:12:18] *** Joins: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP)
[13:13:51] *** jorendorff is now known as jorendorff_away
[13:13:53] *** Quits: kvanb (kvanb@moz-984033DE.lnse5.win.bigpond.net.au) (Quit: kvanb)
[13:15:03] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[13:15:07] *** Quits: tgkokk (tgkokk@moz-5CF0FE99.home.otenet.gr) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[13:15:51] *** Joins: frza (frza@EA5BFF77.2B9073C9.204B78AE.IP)
[13:17:06] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[13:18:47] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[13:18:58] *** Joins: lunaryorn (lunaryorn@moz-7ACD0D06.dynamic.mnet-online.de)
[13:19:25] *** Joins: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net)
[13:20:09] *** Joins: Ms2ger (Ms2ger@moz-983AB5CA.ugent.be)
[13:20:15] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[13:23:21] *** Joins: Earnestly (earnest@F86306B4.BBD8F39E.FEA8F6FD.IP)
[13:25:55] *** Quits: alexherbo2 (alexherbo2@moz-FC10E83F.de) (Quit: WeeChat 0.4.2)
[13:26:04] *** Joins: alexherbo2 (alexherbo2@moz-229B634D.w90-3.abo.wanadoo.fr)
[13:28:37] *** Quits: koomi (koomi@moz-41AD638A.uberspace.de) (Ping timeout)
[13:29:20] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[13:29:56] *** Joins: themgt (themgt@moz-83F07CDA.cm.vtr.net)
[13:30:41] *** Joins: PTank (Adium@C87F2B4C.AC80DA87.CC73C50D.IP)
[13:30:54] *** Quits: lunaryorn (lunaryorn@moz-7ACD0D06.dynamic.mnet-online.de) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[13:31:30] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[13:32:40] *** Quits: Sgeo_ (quassel@moz-4E71E7BB.dyn.optonline.net) (Connection reset by peer)
[13:33:57] *** Joins: lunaryorn (lunaryorn@moz-7ACD0D06.dynamic.mnet-online.de)
[13:35:14] *** Joins: tgkokk (tgkokk@moz-5CF0FE99.home.otenet.gr)
[13:37:30] *** Quits: bytbox (s@moz-E1E7FAC3.washdc.fios.verizon.net) (Ping timeout)
[13:38:03] *** Joins: jdm (jdm@moz-AC9499B2.cable.teksavvy.com)
[13:38:03] *** ChanServ sets mode: +o jdm
[13:38:20] *** Quits: Ms2ger (Ms2ger@moz-983AB5CA.ugent.be) (Ping timeout)
[13:38:59] *** Joins: bytbox (s@moz-E1E7FAC3.washdc.fios.verizon.net)
[13:39:48] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[13:40:04] *** Joins: glaebhoer1 (glaebhoerl@moz-B5B88D72.catv.broadband.hu)
[13:41:28] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[13:43:02] *** Quits: cremes_ (cremes@moz-649E729A.lv.lv.cox.net) (Ping timeout)
[13:43:28] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Quit: Leaving.)
[13:45:40] *** Quits: Moor (Moor@moz-C04C27D8.hsd1.ca.comcast.net) (Ping timeout)
[13:45:50] *** Quits: kris (kris@moz-6D20263F.fullrate.dk) (Ping timeout)
[13:46:00] *** Quits: Krymise (Nietzsche@moz-CA789EF5.nwrknj.fios.verizon.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[13:47:50] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[13:49:38] *** Joins: q66 (q66@D6C23B3C.45E1A7FC.B1AA2106.IP)
[13:49:45] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[13:51:34] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[13:52:08] *** Quits: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP) (Quit: colinsurprenant)
[13:53:28] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[13:53:35] *** Joins: heftig (heftig@moz-D746319F.unitymedia.biz)
[13:54:12] *** Joins: Ms2ger (Ms2ger@moz-D57E18DA.ugent.be)
[13:57:05] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[13:57:49] *** Joins: Krymise (Nietzsche@moz-CA789EF5.nwrknj.fios.verizon.net)
[13:59:09] *** Joins: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net)
[13:59:22] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[14:00:01] *** Joins: espindola (espindola@moz-F0FBD3B4.dsl.teksavvy.com)
[14:00:47] *** Joins: Moor (Moor@moz-C04C27D8.hsd1.ca.comcast.net)
[14:06:47] *** Joins: ambimorph (amber@moz-B3FBDFCE.hlrn.qwest.net)
[14:07:01] *** Quits: Earnestly (earnest@F86306B4.BBD8F39E.FEA8F6FD.IP) (Ping timeout)
[14:07:19] *** Joins: cremes_ (cremes@moz-649E729A.lv.lv.cox.net)
[14:07:30] *** Joins: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP)
[14:08:42] <doomlord_> where's HashMap these days
[14:08:51] <EKK> libcollections?
[14:09:02] <doomlord_> i saw the definition there, 
[14:09:14] <doomlord_> but whats the module path;   std::collections::hashmap::Hashmap
[14:09:23] <doomlord_> but whats the module path;   std::collections::hashmap::HashMap etc.. tried vrious
[14:10:09] <doomlord_> doesn't seem to show up on rustdoc search
[14:10:54] <doomlord_> oh is it renamed Map
[14:11:04] <doomlord_> std::container::Map
[14:11:42] <eddyb> nope
[14:11:49] <eddyb> collections::HashMap
[14:12:05] <eddyb> Map is probably a binary tree of sorts
[14:12:45] *** Quits: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com) (Ping timeout)
[14:12:47] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[14:12:51] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[14:13:02] *** Joins: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com)
[14:13:17] <doomlord_> i can see Map but not HashMap in the documentaiton here, have i got the right docs  extern crate collections;
[14:13:25] <doomlord_> ^ http://static.rust-lang.org/doc/master/std/index.html
[14:13:49] <eddyb> does that say collections?
[14:13:52] <eddyb> no, it says std ;)
[14:13:52] *** Quits: q66 (q66@D6C23B3C.45E1A7FC.B1AA2106.IP) (Ping timeout)
[14:13:59] <eddyb> doomlord_: http://static.rust-lang.org/doc/master/collections/index.html
[14:14:05] *** Joins: edwardw (edwardw@96E7298D.3E260003.B9C6B12A.IP)
[14:14:28] *** Quits: lunaryorn (lunaryorn@moz-7ACD0D06.dynamic.mnet-online.de) (Quit: Textual IRC Client: www.textualapp.com)
[14:14:30] <eddyb> (Map is just a trait it seems)
[14:14:43] <doomlord_> oh, and HashMap impl's Map perhaps
[14:14:43] *** Quits: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com) (Ping timeout)
[14:14:48] *** Joins: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com)
[14:15:37] *** Quits: WebeWizard (WebeWizard@moz-7CCD1DAE.ks.ks.cox.net) (Quit: Leaving)
[14:15:45] *** jorendorff_away is now known as jorendorff
[14:16:55] <doomlord_> have a load of things that were in extra been moveed to individual crates then
[14:17:42] *** Quits: Moor (Moor@moz-C04C27D8.hsd1.ca.comcast.net) (Ping timeout)
[14:17:49] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[14:19:29] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[14:21:59] *** Joins: trinary (Adium@moz-6388B339.hsd1.co.comcast.net)
[14:21:59] *** Quits: frza (frza@EA5BFF77.2B9073C9.204B78AE.IP) (Quit: frza)
[14:22:09] *** Quits: trinary (Adium@moz-6388B339.hsd1.co.comcast.net) (Quit: Leaving.)
[14:24:11] *** Quits: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com) (Quit: )
[14:24:18] *** Quits: lpy (lpy@7360AA58.F09091A8.1348A864.IP) (Ping timeout)
[14:24:53] <edwardw> can a non-pub item of a mod be used in its children mods?
[14:25:08] <edwardw> for a nested test mod, for example
[14:25:50] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Connection reset by peer)
[14:26:02] *** Joins: FrozenCow (FrozenCow@moz-E69F48E.dynamic.upc.nl)
[14:28:12] *** Joins: frza (frza@EA5BFF77.2B9073C9.204B78AE.IP)
[14:30:30] *** Ms2ger is now known as Ms2ger|class
[14:31:33] *** Quits: frza (frza@EA5BFF77.2B9073C9.204B78AE.IP) (Ping timeout)
[14:33:03] *** Quits: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP) (Quit: colinsurprenant)
[14:33:18] *** Joins: Chris (Mibbit@moz-F9FB261B.dhcp.nscl.msu.edu)
[14:33:28] *** Quits: Krymise (Nietzsche@moz-CA789EF5.nwrknj.fios.verizon.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[14:33:35] *** Quits: jsonnull (Thunderbir@20DADFC2.48C8B17D.494A0F8B.IP) (Ping timeout)
[14:34:17] *** Joins: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP)
[14:34:53] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[14:35:16] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[14:35:24] <Chris> Quick question: Is anyone using Rust in deployed applications at the moment?
[14:35:43] <jensnockert> Yes.
[14:36:19] <Chris> I assumed so, but was asked the question the other day.
[14:36:32] <jensnockert> Not to a large extent though.
[14:36:45] <Chris> Working through the tutorial, Rust looks like it solves so many gripes and complaints about other languages
[14:36:58] <Chris> Well, it is still in development itself. :)
[14:37:14] *** Joins: jsonnull (Thunderbir@20DADFC2.48C8B17D.494A0F8B.IP)
[14:38:23] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[14:38:42] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[14:40:25] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[14:40:29] *** Quits: tgkokk (tgkokk@moz-5CF0FE99.home.otenet.gr) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[14:42:07] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[14:43:58] *** Quits: ambimorph (amber@moz-B3FBDFCE.hlrn.qwest.net) (Ping timeout)
[14:46:32] *** Quits: Ms2ger|class (Ms2ger@moz-D57E18DA.ugent.be) (Ping timeout)
[14:48:16] <doomlord_> is 'lib.rs' special like 'mod.rs'
[14:50:41] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Quit: )
[14:50:50] <doomlord_> quick_sort .. is that just replaced with .sort  and .sort_by
[14:51:43] *** Joins: bjustin (bjustin@moz-8FC28563.sierrabravo.net)
[14:51:55] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[14:53:16] *** Joins: kris (kris@moz-147EE6DF.diku.dk)
[14:54:06] *** Quits: sellout (Adium@moz-53C8D913.hsd1.co.comcast.net) (Quit: Leaving.)
[14:55:02] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[14:55:39] *** Joins: tigrou3tac (fabien@moz-6E2397FF.fbx.proxad.net)
[14:56:25] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[14:56:47] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[14:57:04] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[14:57:24] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[14:58:28] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Ping timeout)
[14:58:47] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[14:59:02] *** Quits: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[14:59:22] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[15:00:33] <edwardw> rusti: version
[15:00:35] -rusti- "rustc 0.10-pre (4cd555d 2014-01-24 03:28:15 -0500)"
[15:04:41] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[15:04:54] *** Joins: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca)
[15:05:05] *** Joins: thinkingpad (Mibbit@moz-82E5EE96.hsd1.va.comcast.net)
[15:06:06] *** Quits: thinkingpad (Mibbit@moz-82E5EE96.hsd1.va.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[15:08:16] *** Joins: Moor (Moor@moz-C04C27D8.hsd1.ca.comcast.net)
[15:09:30] *** Quits: Zr40 (zr40@EE4BB9F5.926C319A.BE2F4011.IP) (Quit: leaving)
[15:12:10] *** Joins: ambimorph (amber@moz-DD573110.hsd1.co.comcast.net)
[15:12:27] *** Joins: myname (myname@F6BC1CBC.2C5F047.A0197E77.IP)
[15:12:39] *** Quits: daschl (Adium@moz-DC6DE6E2.vie.surfer.at) (Quit: Leaving.)
[15:13:00] *** Joins: thinkingpad (Mibbit@moz-82E5EE96.hsd1.va.comcast.net)
[15:13:05] *** Quits: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[15:13:46] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[15:14:27] *** Joins: lkuper (lkuper@F143C963.654CD82F.51B6877.IP)
[15:14:37] *** Joins: dschatzberg (dschatzber@moz-668DB0D9.bu.edu)
[15:15:07] *** Quits: matematikaadit (adit@3173BAB3.96DC1DDF.B0C328E3.IP) (Quit: Leaving)
[15:17:12] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[15:17:36] *** Joins: lpy (lpy@12172131.F09091A8.1348A864.IP)
[15:18:05] *** Quits: thinkingpad (Mibbit@moz-82E5EE96.hsd1.va.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[15:18:14] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[15:18:35] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[15:20:02] *** Quits: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[15:20:16] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[15:21:19] *** Joins: NiccosSystem (NiccosSyst@moz-ED196BB4.customer.lyse.net)
[15:23:48] *** Joins: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp)
[15:24:28] *** Quits: fyolnish_ (fyolnish@moz-BE2BAE5B.miinet.jp) (Ping timeout)
[15:24:41] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[15:25:04] *** Quits: marc_ (uid5324@moz-31ABA2C0.irccloud.com) (Quit: Connection closed for inactivity)
[15:25:59] *** Quits: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp) (Client exited)
[15:26:32] *** Quits: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net) (Quit: killerswan)
[15:26:42] *** Joins: tgkokk (tgkokk@moz-5CF0FE99.home.otenet.gr)
[15:27:03] <kimundi> doomlord_: lib.rs is not really "special" I think, its just the recommended convention for a library
[15:27:32] *** Quits: lkuper (lkuper@F143C963.654CD82F.51B6877.IP) (Quit: lkuper)
[15:27:35] *** Joins: lkuper (lkuper@F143C963.654CD82F.51B6877.IP)
[15:27:58] *** Quits: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com) (Ping timeout)
[15:28:15] *** Joins: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com)
[15:28:33] *** Joins: Kynes (Kynes@moz-3DC6C6E7.mit.edu)
[15:28:48] *** Joins: koomi (koomi@moz-41AD638A.uberspace.de)
[15:29:05] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[15:30:23] *** Joins: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca)
[15:31:26] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[15:32:24] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[15:33:06] *** Quits: Axord (xord@moz-C0D5F15A.lsanca.dsl-w.verizon.net) (Ping timeout)
[15:34:04] *** Joins: pepper_chico (pepper_chi@A010A856.D158355F.F546FA5F.IP)
[15:36:34] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[15:36:47] *** Quits: Ferreus (ferreus@moz-E2D4DE6.dip0.t-ipconnect.de) (Ping timeout)
[15:38:13] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[15:39:23] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[15:40:36] *** Joins: Axord (xord@moz-C0D5F15A.lsanca.dsl-w.verizon.net)
[15:41:03] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[15:41:04] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[15:41:31] *** Quits: philix (philix@moz-59AD4373.user.veloxzone.com.br) (Ping timeout)
[15:41:49] *** Joins: jmmk (jmmk@moz-3BDBD2C0.hfc.comcastbusiness.net)
[15:42:16] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[15:42:26] *** Joins: philix (philix@moz-E51740D7.user.veloxzone.com.br)
[15:42:44] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[15:43:15] *** Joins: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca)
[15:43:20] *** Quits: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca) (Quit: lawrence)
[15:43:36] <thiez> rusti: let mut x = 0; let p = &mut x; x + { *p += 1 ; *p }
[15:43:38] -rusti- 2
[15:43:52] <thiez> do we have a defined order of operations?
[15:45:00] <thiez> it seems (x + y) is evaluated from right to left?
[15:45:22] *** Joins: penguin_dan (dan_johnsi@6902762D.11B071D.FB9A45AF.IP)
[15:45:48] <eddyb> thiez: yes
[15:46:51] <pnkfelix> eddyb: is that specified somewhere?  Still remains to be specified?  Do you know if someone conciously chose that order?
[15:47:10] <eddyb> maybe, no idea, nope
[15:47:22] <pnkfelix> eddyb: k.
[15:47:26] <eddyb> we don't really optimize anything ourselves
[15:47:35] <thiez> perhaps it should be defined somewhere :)
[15:47:37] <eddyb> so it's hard to *not* have a defined order of evaluation
[15:47:47] <thiez> where people can read it
[15:47:53] <eddyb> (other than using rand() % 2)
[15:48:00] <eddyb> thiez: the language is still in flux
[15:48:11] <eddyb> though we should enforce updating the reference manual
[15:48:20] <pnkfelix> eddyb: Well, to me its more a question of whether we inherit order-of-eval for operators like + from whatever LLVM does with it
[15:48:35] *** Quits: judofyr (judofyr@192D24C7.B738D75A.E7F60444.IP) (Client exited)
[15:48:40] <eddyb> LLVM will reorder code, but only if it doesn't change semantics
[15:48:42] <pnkfelix> eddyb: (and thus are likely to inherit C's rules/lack of specificity)
[15:49:02] *** Joins: judofyr (judofyr@192D24C7.B738D75A.E7F60444.IP)
[15:49:06] <pnkfelix> eddyb: but this is one of those places where C doesn't specify the order, no?
[15:49:16] <thiez> eddyb: sure, but it should be decided at some point, and left to right sort-of makes sense
[15:49:22] *** Quits: judofyr (judofyr@192D24C7.B738D75A.E7F60444.IP) (Connection reset by peer)
[15:49:55] <thiez> then again, when calling a function the arguments are usually pushed in reverse order, I believe?
[15:50:00] <eddyb> I think analysis passes like borrowck strongly depend on that order to be determined
[15:50:17] <eddyb> thiez: we construct the arguments left to right
[15:50:34] <eddyb> LLVM doesn't have a calling convention detail like that in the IR
[15:50:49] <eddyb> it's not Lua or JVM
[15:51:01] <eddyb> it's call foo(a, b, c)
[15:51:10] *** ChanServ sets mode: +o bstrie
[15:51:19] <strcat> pnkfelix: LLVM doesn't encode any of those C semantics
[15:51:19] <thiez> rusti: fn add(a: int, b: int) -> int { a+b } let mut x = 0; add(x,{x+=1;x})
[15:51:21] -rusti- 1
[15:51:23] <thiez> ^ so that is very curious
[15:51:27] <strcat> pnkfelix: it won't reorder *anything* if it changes semantics
[15:51:52] <pnkfelix> this conversation is frustrating
[15:52:05] <strcat> it runs them in the order rustc outputs them unless there's no difference
[15:52:09] <eddyb> thiez: your earlier example wouldn't compile
[15:52:22] <eddyb> in a future Rust
[15:52:43] <eddyb>  let mut x = 0; let p = &mut x; /* p mutably borrows x, x shouldn't be accessible */ x + { *p += 1 ; *p }
[15:52:48] <strcat> with clang they just pick an order
[15:52:58] <strcat> it doesn't actually vary, just an arbitrary frontend choice
[15:53:16] <strcat> in theory they could communicate that it can reorder
[15:53:18] <strcat> but they don't
[15:53:19] <thiez> rusti: fn add(a: int, b: int) -> int { a+b } let (mut x,mut y) = (0,0); (add(x,{x+=1;x}),y+{y+=1;y})
[15:53:21] -rusti- (1, 2)
[15:53:21] <pnkfelix> strcat: okay, so then LLVM does not inherit the unspecified-ness of C here; clang fixes the order ahead-of-time.
[15:53:22] <thiez> :)
[15:53:26] <pnkfelix> strcat: thank you
[15:53:51] <strcat> (ofc, they could change it or encode it in the future)
[15:54:09] <thiez> eddyb: the mutable borrow thing was merely because I was reading the proposal of nmatsakis
[15:54:21] <eddyb> thiez: ahh, so you know what I mean :D
[15:54:23] <thiez> then I got curious about evaluation order and I left it in :)
[15:54:37] <eddyb> the evaluation order is AST-based
[15:55:12] <strcat> pnkfelix: although LLVM chooses not to model some effects but they are not huge problems
[15:55:15] <thiez> that's a lousy rule :p
[15:55:38] <strcat> for example it considers floating point math pure (ignores rounding flag + floating point exceptions, clang/LLVM explicitly don't support writing/reading them)
[15:56:27] <strcat> and using the floating point intrinsics with a C library that sets errno for math errors leads to questionably defined semantics
[15:56:32] *** Joins: fyolnish (fyolnish@moz-10E70EA7.uqwimax.jp)
[15:56:33] <strcat> it assumes those are pure too
[15:56:58] *** Quits: Axord (xord@moz-C0D5F15A.lsanca.dsl-w.verizon.net) (Quit: I'm sure it's perfectly safe)
[15:57:04] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[15:57:51] <thiez> anyway, should I create an issue about (x+y) having a different evaluation order than add(x,y), and that this behaviour should be documented somewhere?
[15:57:55] *** Quits: pepper_chico (pepper_chi@A010A856.D158355F.F546FA5F.IP) (Quit: WeeChat 0.4.1)
[15:58:31] *** pmoore is now known as pmoore|dinner
[15:58:36] <doomlord_> println... docs say its std::io::stdio::println   .. is it pub used by default as std::io::println.  I'm using println all over the place, but its giving me trouble in a macro definition - ive' tried both those full paths aswell as raw'println'
[15:59:22] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[16:00:54] <thiez> isn't (x+y) supposed to be equal to (&x).add(&y)?
[16:02:23] <pnkfelix> thiez: so (x+y) has a different evaluation order than (&x).add(&y) ?
[16:02:46] <pnkfelix> thiez: (you were using `add(x,y)` in your examples above)
[16:03:19] *** Quits: kris (kris@moz-147EE6DF.diku.dk) (Ping timeout)
[16:03:50] <thiez> pnkfelix: I am just experimenting some more
[16:03:55] <thiez> I can do this:
[16:04:00] <thiez> rusti: let mut x = 0i; x + *{x+=1; &x}
[16:04:02] -rusti- 2
[16:04:11] <thiez> rusti: let mut x = 0i; x.add({x+=1; &x}) // but not this
[16:04:55] -rusti- pastebinned 8 lines of output: http://ix.io/aRe
[16:05:01] *** Joins: kris (kris@moz-147EE6DF.diku.dk)
[16:05:07] <strcat> they're not equivalent
[16:05:28] <strcat> thiez: outside a generic function, x + y and x.add(&y) are not the same thing
[16:05:32] <strcat> try in a generic function
[16:06:00] <strcat> that's why it's possible to implement Add for primitives in the library
[16:06:10] <strcat> the operators only fall back to it when a built-in way isn't available
[16:06:25] <Blub\0> rusti: let mut x = 0i; x.add({x+=1; x}0
[16:06:31] <Blub\0> er
[16:06:32] *** Quits: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca) (Ping timeout)
[16:06:43] *** Quits: tgkokk (tgkokk@moz-5CF0FE99.home.otenet.gr) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[16:06:49] *** Blub\0 is now known as Blub\w
[16:06:52] *** Joins: dougxxx (dougxxx@moz-21B0BD70.dyn.iinet.net.au)
[16:06:58] <Blub\w> oh I'm guessing it doesn't react to everyone?
[16:07:04] <Blub\w> rusti: let mut x = 0i; x.add({x+=1; x})
[16:07:07] <thiez> it does, but it's a little slow at the moment
[16:07:10] <Blub\w> oh
[16:07:27] <Blub\w> was just wondering whether not using & for x would work :)
[16:07:27] *** Joins: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca)
[16:07:42] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[16:08:05] *** Joins: sbalmos (quassel@CA5677B6.576D0C1.ED2EFC1B.IP)
[16:08:09] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[16:08:14] <thiez> you killed it ;)
[16:08:28] <strcat> rusti: 2
[16:08:29] -rusti- 2
[16:08:31] <strcat> ix.io is just really slow
[16:09:16] *** Quits: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca) (Input/output error)
[16:09:35] *** Joins: maxli (maxli@moz-B19F68ED.student.cs.uwaterloo.ca)
[16:09:49] *** Quits: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com) (Ping timeout)
[16:09:54] *** Joins: lawrence (lawrence@moz-627598A3.wireless.utoronto.ca)
[16:10:07] *** Joins: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com)
[16:10:31] *** Quits: bvssvni (Mibbit@moz-C4579D6F.bb.online.no) (Quit: http://www.mibbit.com ajax IRC Client)
[16:12:57] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[16:13:03] *** Quits: dougxxx (dougxxx@moz-21B0BD70.dyn.iinet.net.au) (Quit: )
[16:14:41] *** Joins: Earnestly (earnest@F86306B4.BBD8F39E.FEA8F6FD.IP)
[16:16:01] <doomlord_> you should be able to call 'print' and 'println' from macros, right
[16:17:33] *** Quits: NiccosSystem (NiccosSyst@moz-ED196BB4.customer.lyse.net) (Ping timeout)
[16:17:48] *** Joins: jeaye (jeaye@moz-34FEF2BB.hsd1.ca.comcast.net)
[16:18:05] *** Quits: Chris (Mibbit@moz-F9FB261B.dhcp.nscl.msu.edu) (Quit: http://www.mibbit.com ajax IRC Client)
[16:18:49] <bstrie> doomlord_: I don't see why not
[16:18:54] *** Joins: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu)
[16:18:58] <edwardw> rusti: println!(format!("{:s}", ~"rust"))
[16:18:58] -rusti- more than 10000 lines of output, bailing out
[16:19:21] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[16:19:21] <bstrie> well, `print` and `println` are not the same thing as `print!` and `println!` :P
[16:19:25] <doomlord_> i've just changed the use case to println! and that works :S  i'll leave that.   i tried every permuation of paths i could think of
[16:19:40] <doomlord_> i know they take a format string, i adapted my code to use that
[16:20:37] * mindcat finally give up for his "Parllroid" C艹 project.
[16:21:01] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[16:21:03] <thiez> rusti: let (mut x, mut y) = (0i,0i); (x+{x=x+1;x}, y.clone()+{y=y+1;y}) // magic :D
[16:21:04] -rusti- (2, 1)
[16:21:09] <mindcat> C艹 is complicated.
[16:21:42] *** Quits: oberstet (quassel@moz-8A7A561E.dynamic.mnet-online.de) (Client exited)
[16:21:57] *** Quits: marianoguerra (marianogue@moz-235A4793.dip0.t-ipconnect.de) (Ping timeout)
[16:23:31] *** Joins: tgkokk (tgkokk@moz-5CF0FE99.home.otenet.gr)
[16:23:37] *** Quits: tgkokk (tgkokk@moz-5CF0FE99.home.otenet.gr) (Input/output error)
[16:26:14] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Quit: Leaving.)
[16:26:32] <doomlord_> should .val0() work for extracting a single-item tuple struct value
[16:26:43] <doomlord_> ah, its not a tuple. its a tuple struct . no
[16:27:06] <mindcat> actor model in Rust is available?
[16:27:07] *** Quits: lkuper (lkuper@F143C963.654CD82F.51B6877.IP) (Quit: lkuper)
[16:27:23] <thiez> fn add(a:int,b:int)->int{a+b} let (mut a,mut b,mut c,mut d) = (0i,0i,0i,0i); (add(a,{a+=1;a}),add({b+=1;b},b),c+{c+=1;c},{d+=1;d}+d) // so we're consistent most of the time :)
[16:27:27] *** Quits: FlyingFoX (quassel@moz-8F529370.weh.rwth-aachen.de) (Client exited)
[16:27:34] *** Joins: FlyingFoX (quassel@moz-8F529370.weh.rwth-aachen.de)
[16:27:35] <thiez> rusti: fn add(a:int,b:int)->int{a+b} let (mut a,mut b,mut c,mut d) = (0i,0i,0i,0i); (add(a,{a+=1;a}),add({b+=1;b},b),c+{c+=1;c},{d+=1;d}+d)
[16:27:37] -rusti- (1, 2, 2, 2)
[16:28:05] <mindcat> rusti: println!(version)
[16:28:05] -rusti- <anon>:10:18: 10:25 error: format argument must be a string literal.
[16:28:06] -rusti- <anon>:10         println!(version)
[16:28:06] -rusti-                            ^~~~~~~
[16:28:06] -rusti- error: aborting due to previous error
[16:28:06] -rusti- application terminated with error code 101
[16:28:13] <mindcat> rusti: println!("{:?}", version)
[16:28:14] -rusti- "rustc 0.10-pre (4cd555d 2014-01-24 03:28:15 -0500)"
[16:28:15] -rusti- ()
[16:28:35] <doomlord_> is there a general purpose way to extract the inner value in a tuple struct - i think you can destructure it in an assignment making a temporary but you need to know the type for that
[16:28:35] <mindcat> lol, "version" is a variable
[16:28:35] <o11c> rusti: version
[16:28:36] -rusti- "rustc 0.10-pre (4cd555d 2014-01-24 03:28:15 -0500)"
[16:29:23] *** Joins: claudiu (claudiu@CB447DD5.6B10AC3.E2F59BBC.IP)
[16:29:24] *** Quits: claudiu_ (claudiu@CB447DD5.6B10AC3.E2F59BBC.IP) (Ping timeout)
[16:29:31] <mindcat> rusti: let a,b = (1,2);a + b
[16:29:34] -rusti- pastebinned 6 lines of output: http://ix.io/aRo
[16:29:40] *** Quits: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP) (Quit: rcirc on GNU Emacs 24.3.1)
[16:29:44] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[16:29:46] <mindcat> so it is not possible huh?
[16:29:54] *** Joins: amousset_ (amousset@DEF0989.ED71B4E7.BCDF592F.IP)
[16:29:56] *** Quits: maxli (maxli@moz-B19F68ED.student.cs.uwaterloo.ca) (Ping timeout)
[16:29:57] *** Quits: doener (bs@moz-AA189A5A.unitymedia.biz) (Quit: leaving)
[16:29:58] <thiez> mindcat: let (a,b) = (1,2) :)
[16:30:08] <mindcat> rusti: let (a,b) = (1,2);a + b
[16:30:09] -rusti- 3
[16:30:14] <mindcat> thiez: oh
[16:30:26] *** Joins: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca)
[16:30:34] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[16:30:43] <mindcat> rusti: let (a : u16,b : u8) = (1,2);a + b
[16:30:44] -rusti- <anon>:10:16: 10:17 error: expected `,` but found `:`
[16:30:44] -rusti- <anon>:10         let (a : u16,b : u8) = (1,2);a + b
[16:30:44] -rusti-                          ^
[16:30:44] -rusti- application terminated with error code 101
[16:30:53] <mindcat> rusti: let (a : u16, b : u8) = (1,2);a + b
[16:30:53] -rusti- <anon>:10:16: 10:17 error: expected `,` but found `:`
[16:30:53] -rusti- <anon>:10         let (a : u16, b : u8) = (1,2);a + b
[16:30:53] -rusti-                          ^
[16:30:54] -rusti- application terminated with error code 101
[16:31:08] *** Quits: eddyb (eddy@moz-41DB10DA.residential.rdsnet.ro) (Ping timeout)
[16:31:25] <mindcat> rusti: let ((a : u16),(b : u8)) = (1,2);println!("{:t} {:t}",a,b)
[16:31:25] -rusti- <anon>:10:17: 10:18 error: expected `,` but found `:`
[16:31:26] -rusti- <anon>:10         let ((a : u16),(b : u8)) = (1,2);println!("{:t} {:t}",a,b)
[16:31:26] -rusti-                           ^
[16:31:26] -rusti- application terminated with error code 101
[16:31:27] *** Joins: Ferreus (ferreus@moz-19B8B04C.lsn.wtnet.de)
[16:31:33] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[16:31:41] <mindcat> XD so this is not possible
[16:31:44] <thiez> rusti: let (a,b): (u16,u8) = (1,2); a+b
[16:31:44] -rusti- <anon>:10:40: 10:41 error: mismatched types: expected `u16` but found `u8` (expected u8 but found u16)
[16:31:45] -rusti- <anon>:10         let (a,b): (u16,u8) = (1,2); a+b
[16:31:46] -rusti-                                                  ^
[16:31:48] -rusti- error: aborting due to previous error
[16:31:50] -rusti- application terminated with error code 101
[16:31:58] <mindcat> ...what?
[16:32:17] <mindcat> rusti: let ((a,b) : (u16, u8)) = (1,2);println!("{:t} {:t}",a,b)
[16:32:17] -rusti- <anon>:10:20: 10:21 error: expected `,` but found `:`
[16:32:17] -rusti- <anon>:10         let ((a,b) : (u16, u8)) = (1,2);println!("{:t} {:t}",a,b)
[16:32:17] -rusti-                              ^
[16:32:17] -rusti- application terminated with error code 101
[16:32:32] <mindcat> rusti: let (a,b):(u16,u8) = (1,2);println!("{:t} {:t}",a,b)
[16:32:33] -rusti- 1 10
[16:32:33] -rusti- ()
[16:32:44] <kimundi> mindcat: Its "let PATTERn = EXPR" or "let PATERN : TYPE = EXPR"
[16:32:49] <mindcat> oh....
[16:32:50] <thiez> uh, how did that b become a 10? :D
[16:33:04] <kimundi> (a, b) is a pattern, (u16,u8) is a type
[16:33:05] <mindcat> thiez: 0b10
[16:33:18] *** Quits: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca) (Input/output error)
[16:33:32] <mindcat> kimundi: ok..
[16:33:38] *** Joins: flan3002 (till@moz-E0853D96.superkabel.de)
[16:33:40] *** Quits: amousset_ (amousset@DEF0989.ED71B4E7.BCDF592F.IP) (Ping timeout)
[16:33:43] <thiez> right
[16:33:53] *** Joins: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca)
[16:33:58] *** Joins: amousset_ (amousset@DEF0989.ED71B4E7.BCDF592F.IP)
[16:34:06] *** Quits: lpy (lpy@12172131.F09091A8.1348A864.IP) (Client exited)
[16:34:23] *** Joins: eddyb (eddy@moz-41DB10DA.residential.rdsnet.ro)
[16:34:27] <doomlord_> whats the recomended way to extract the value from a tuple struct - i dont know the type at the minute , its using inference
[16:34:30] *** Parts: darrin (darrin@moz-DB4A9C19.scl3.mozilla.com) (See ya!)
[16:34:36] *** Joins: amousset__ (amousset@6181009C.10715965.BCDF592F.IP)
[16:34:58] <thiez> pattern match it out? let (_,_,interesting_value,_,_,_) = theTuple;
[16:35:08] <kimundi> doomlord_: Only way is with pattern matching, which means you need to know the type. ALternativly, impl methods that do that internally on it
[16:35:09] *** Quits: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca) (Input/output error)
[16:35:23] <kimundi> thiez: tuple struct, not tuple
[16:35:29] *** Quits: philix (philix@moz-E51740D7.user.veloxzone.com.br) (Ping timeout)
[16:35:49] *** Quits: amousset_ (amousset@DEF0989.ED71B4E7.BCDF592F.IP) (Ping timeout)
[16:36:58] <doomlord_> ah i can get the type now, something else was confusing me on that line...
[16:36:58] *** Joins: philix (philix@947D5B76.AFE5CEDD.648674BD.IP)
[16:37:14] *** Joins: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net)
[16:38:01] *** Quits: lawrence (lawrence@moz-627598A3.wireless.utoronto.ca) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[16:40:16] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[16:41:37] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Quit: Leaving.)
[16:41:41] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[16:41:59] *** Quits: heftig (heftig@moz-D746319F.unitymedia.biz) (Quit: Quitting)
[16:42:22] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[16:42:41] <flan3002> doomlord_: Hey, I saw your reddit post. Have you got it to work?
[16:42:59] *** Quits: FlyingFoX (quassel@moz-8F529370.weh.rwth-aachen.de) (Client exited)
[16:43:14] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Ping timeout)
[16:43:22] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[16:43:26] <doomlord_> flan3002 which - android ? no ; right now i'm slogging throught getting 'rustfind' to compile
[16:43:41] *** Quits: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com) (Ping timeout)
[16:43:56] *** Joins: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com)
[16:44:21] <flan3002> doomlord_: It seems stuff on the sdcard is not executable at all. It worked in /data/local/tmp/
[16:45:50] <flan3002> I just compiled, "adb push ./hello /data/local/tmp/; adb shell; su; cd /data/local/tmp; chmod 755 ./hello; ./hello; exit;",
[16:46:39] <flan3002> But of course you don't actually have an "su" executable on a non-rooted phone, so you want to package it as an .apk...
[16:46:56] *** Joins: eneas (Thunderbir@moz-84795927.red-83-36-160.dynamicip.rima-tde.net)
[16:46:59] <doomlord_> ideally yes
[16:47:12] *** Quits: Kxepal (Miranda@moz-539FCAC2.pppoe.mtu-net.ru) (Ping timeout)
[16:47:24] <doomlord_> i get the impression you'll need the apk for a lot
[16:48:26] *** Quits: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com) (Ping timeout)
[16:48:48] *** Joins: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com)
[16:49:11] *** Joins: dradtke (dradtke@moz-77578067.hfc.comcastbusiness.net)
[16:49:17] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[16:49:17] *** ChanServ sets mode: +ao dherman dherman
[16:49:24] <dradtke> Does anyone here have experience compiling Rust on Windows?
[16:49:38] *** Joins: lawrence (lawrence@moz-627598A3.wireless.utoronto.ca)
[16:50:03] *** Quits: lawrence (lawrence@moz-627598A3.wireless.utoronto.ca) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[16:51:34] *** Joins: Kxepal (Miranda@moz-7ED40455.pppoe.mtu-net.ru)
[16:51:42] *** Joins: Jemaclus (Jemaclus@4EEAB704.5843BA5A.D4E4C7A5.IP)
[16:52:06] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Quit: Jesse)
[16:52:06] *** Quits: Jemaclus (Jemaclus@4EEAB704.5843BA5A.D4E4C7A5.IP) (Connection reset by peer)
[16:52:12] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[16:52:41] *** Joins: hoverbear (hoverbear@726D908C.44E18222.E74D50F2.IP)
[16:53:33] *** Quits: nano (nano@moz-ED77243C.superkabel.de) (Connection reset by peer)
[16:55:25] *** Joins: brendan (brendaneic@45A3491F.A5FB4ABA.FE58E87C.IP)
[16:55:52] *** Quits: ambimorph (amber@moz-DD573110.hsd1.co.comcast.net) (Quit: Leaving.)
[16:56:05] *** Joins: inglesp (peteringle@B330FCC9.EDEFAB18.CD72393B.IP)
[16:56:16] *** Joins: ambimorph (amber@moz-DD573110.hsd1.co.comcast.net)
[16:56:33] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[16:56:51] *** Quits: mindcat (mindcat@986D183E.79C16620.DBA68950.IP) (Quit: Lost terminal)
[16:57:14] *** Joins: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net)
[16:57:18] *** Joins: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net)
[17:00:03] *** Quits: MarcWeber (marc@moz-FC10E83F.de) (Quit: leaving)
[17:00:06] *** Quits: alinab (alina@moz-94EAE39D.alinab.org) (Quit: leaving)
[17:00:07] *** Joins: MarcWeber (marc@moz-FC10E83F.de)
[17:00:53] *** Quits: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[17:02:03] *** Joins: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP)
[17:02:05] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[17:02:11] *** Quits: redShadow (redShadow@9BDAF02B.D15F9219.1CCF65D9.IP) (Quit: Leaving)
[17:02:18] *** Joins: redShadow (redShadow@9BDAF02B.D15F9219.1CCF65D9.IP)
[17:03:07] *** Quits: philix (philix@947D5B76.AFE5CEDD.648674BD.IP) (Ping timeout)
[17:03:26] <photex> morning folks
[17:03:36] <photex> I'm experimenting with combining Rust and C++
[17:03:59] <photex> having troubles linking my executable (C++, Qt5) with a static library (Rust)
[17:04:08] *** Joins: philix (philix@moz-7A335FB6.user.veloxzone.com.br)
[17:04:18] <photex> can't find the symbols
[17:04:21] *** Quits: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com) (Ping timeout)
[17:04:23] <photex> I'm using #[no_mangle]
[17:04:41] *** Joins: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com)
[17:04:49] *** Quits: franckverrot (Franck_Ver@C3033BF6.B86F1645.C91367C6.IP) (Ping timeout)
[17:04:51] <photex> if I build it as a dylib, nm shows the unmangled symbol
[17:04:57] *** Joins: sunfish (chatzilla@moz-BBE3ABD.mv.mozilla.com)
[17:05:05] <photex> in rust the function is: fn foo() { println!("bar"); }
[17:05:12] *** Joins: franckverrot (Franck_Ver@C3033BF6.B86F1645.C91367C6.IP)
[17:05:22] <photex> and in my C++ source I'm declaring it as: extern "C" void foo(void);
[17:05:34] *** pmoore|dinner is now known as pmoore|away
[17:05:35] <photex> but the linker doesn't seem to agree with any of this
[17:05:53] <photex> has anyone mixed C++ and Rust together?
[17:06:00] *** Joins: lawrence (lawrence@moz-627598A3.wireless.utoronto.ca)
[17:06:19] <SiegeLord> Pretty sure the Rust function needs to be extern "C" fn foo()
[17:06:33] *** Quits: victorporof (victorporo@moz-FFB76956.cpe.net.cable.rogers.com) (Quit: victorporof)
[17:06:54] <SiegeLord> Although that might get you a different error...
[17:07:10] *** Joins: evanm (evanm@636AC086.5999CED5.71743E61.IP)
[17:07:13] <photex> still doesn't work
[17:07:22] <photex> "undefined reference to 'foo'"
[17:07:25] <photex> hrm
[17:08:03] *** Joins: doener (doener@moz-C68F600D.unity-media.net)
[17:08:03] <photex> SiegeLord: I'm using your Cmake example
[17:08:26] <photex> I couldn't determine exactly how to build the correct LDFLAGS to link with the generated lib from Rust
[17:08:55] <photex> so I just added <TARGET_NAME>_ARTIFACTS to the CMAKE_EXE_LINKER_FLAGS
[17:09:12] *** Joins: mindcat (mindcat@986D183E.79C16620.DBA68950.IP)
[17:09:22] <photex> maybe that's the problem? no putting the archive in the correct order relative to my other object files
[17:09:25] <photex> ?
[17:09:30] <SiegeLord> Not sure that'll work... I'd think target_link_libraries(_ARTIFACTS) would be better
[17:09:38] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[17:09:55] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[17:09:56] <photex> doesn't work for a custom target
[17:09:59] *** Joins: FreeFull (freefull@moz-3EB096D2.as13285.net)
[17:10:31] <photex> Cannot specify link libraries for target "/local/scratch/Projects/KDS/build/lib/libkds-2aed3a86-0.1.a" which is not built by this project.
[17:10:33] * mindcat see a chinese learn and listen english.
[17:10:35] <kimundi> photex: Is the function public?
[17:10:40] <photex> kimundi: yep
[17:10:54] <SiegeLord> Oh, I thought you had a normal target for your C++ side
[17:10:55] <mindcat> ouch, I send wrong channel
[17:11:10] <photex> SiegeLord: my C++ target is just add_executable
[17:11:32] <SiegeLord> Yes, so I meant to target_link_libraries to your C++ executable
[17:11:40] <photex> also I had an error in the CMakeLists.txt
[17:11:42] *** pmoore|away is now known as pmoore
[17:11:44] <photex> new error is:...
[17:11:45] *** Joins: onelson (owen@moz-DD666EC5.laika.com)
[17:11:56] <photex> that it can't find pthread
[17:11:58] <photex> ooo
[17:12:00] <SiegeLord> target_link_libraries(your_cpp_exec, ${FOO_ARTIFACTS})
[17:12:00] *** Quits: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net) (Input/output error)
[17:12:00] <photex> that's progress
[17:14:04] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[17:14:22] *** Joins: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net)
[17:14:24] <bascule>  13_4__8__ 9_11__12_  13_4__ 8_9__11_    13_ 4_8_   11__12_ 13_ 4_ 
[17:14:28] <bascule> 4|  8_9__11|  12_ 13\4|_ 8_9|  11_ 12\  4/ 8\\ 9\ 11/ 12/ 13| 4| 8|
[17:14:31] <bascule> 8| 9|_  12| 13|_4) 8|| 9|11| 12| 13| 4|/ 8_ 9\11\ 12V 13/| 4| 8| 9|
[17:14:34] <bascule> 9|  11_12| 13|  4_ 8< 9| 11|12| 13|_4| 8/ 9__11_ 12\| 13| 4|8_|9_|11_|
[17:14:37] <bascule> 11|_12|   4|_8| 9\_11\_12__13|_4__8_/9_/   12\13_\4_| 8(9_|11_|12_)
[17:14:40] <bascule>                                         
[17:15:23] <photex> 11b02e12s06t 13p05a04r07t 08o03f 09f10r11i02d12a06y 13i05s 04t07h08e 03b09a10s11c02u12l06e 13n05o04t07i08f03i09c10a11t02i12o06n
[17:16:06] *** Joins: amousset (amousset@6181009C.10715965.BCDF592F.IP)
[17:16:32] *** Quits: amousset__ (amousset@6181009C.10715965.BCDF592F.IP) (Ping timeout)
[17:16:51] <alan_andrade> That's pretty cool
[17:16:56] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[17:17:50] *** Joins: NiccosSystem (NiccosSyst@moz-ED196BB4.customer.lyse.net)
[17:17:55] *** Quits: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com) (Ping timeout)
[17:17:55] <FreeFull> Rust is turning out to be a very nice language
[17:17:58] *** Joins: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com)
[17:18:10] *** Quits: ambimorph (amber@moz-DD573110.hsd1.co.comcast.net) (Ping timeout)
[17:18:13] <doomlord_> it certainly is
[17:18:19] *** Parts: dradtke (dradtke@moz-77578067.hfc.comcastbusiness.net) ()
[17:18:23] <photex> woot! success
[17:19:24] *** Joins: sellout (Adium@moz-53C8D913.hsd1.co.comcast.net)
[17:20:38] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[17:22:19] *** Quits: NiccosSystem (NiccosSyst@moz-ED196BB4.customer.lyse.net) (Ping timeout)
[17:23:27] *** Joins: victorporof (victorporo@moz-FFB76956.cpe.net.cable.rogers.com)
[17:23:31] <eddyb> oh, this thing http://www.nature.com/news/publishers-withdraw-more-than-120-gibberish-papers-1.14763
[17:24:24] *** Quits: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu) (Ping timeout)
[17:24:46] *** Quits: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com) (Ping timeout)
[17:24:49] *** Joins: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com)
[17:27:06] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[17:27:09] *** Quits: lawrence (lawrence@moz-627598A3.wireless.utoronto.ca) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[17:27:11] <thiez> should the following work?
[17:27:13] <thiez> rusti: let x = 0i; {x}+{x}
[17:27:13] -rusti- <anon>:10:24: 10:25 error: unexpected token: `+`
[17:27:13] -rusti- <anon>:10         let x = 0i; {x}+{x}
[17:27:14] -rusti-                                  ^
[17:27:14] -rusti- application terminated with error code 101
[17:27:15] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[17:27:49] <thiez> rusti: let x = 0i; x+{x} // this works fine
[17:27:50] -rusti- 0
[17:28:00] *** Quits: arturo (Thunderbir@moz-E83B14F0.superkabel.de) (Ping timeout)
[17:28:16] <thiez> rusti: let x = 0i; {x}+x // this doesn't.
[17:28:16] -rusti- <anon>:10:24: 10:25 error: unexpected token: `+`
[17:28:17] -rusti- <anon>:10         let x = 0i; {x}+x // this doesn't.
[17:28:17] -rusti-                                  ^
[17:28:17] -rusti- application terminated with error code 101
[17:28:29] <thiez> rusti: let x = 0i; ({x}+x) // this does
[17:28:31] -rusti- 0
[17:28:50] <alan_andrade> :\ What's happening on this small program ?
[17:28:53] <alan_andrade> https://gist.github.com/alan-andrade/9275509
[17:29:19] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[17:29:20] *** Joins: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca)
[17:29:21] <FreeFull> thiez: It does feel like it should work
[17:29:41] <alan_andrade> I'm just playing around with TcpStream and I want to write the time, but the compiler don't like it
[17:29:54] <alan_andrade> *doesn't
[17:30:13] <flan3002> Is there a way to create all underlying directories for a path? Like "mkdirs("/tmp/dir")" creating "dir" because it doesn't exist?
[17:30:31] <FreeFull> alan_andrade: for mut stream  perhaps
[17:30:57] <FreeFull> Not sure if what you're doing there should work or not
[17:32:11] *** Joins: Kruppe (user@moz-253119B0.esg.uwaterloo.ca)
[17:32:26] *** Quits: philix (philix@moz-7A335FB6.user.veloxzone.com.br) (Quit: philix)
[17:34:11] *** Joins: Jemaclus (Jemaclus@4EEAB704.5843BA5A.D4E4C7A5.IP)
[17:34:27] *** Joins: ambimorph (amber@moz-B3FBDFCE.hlrn.qwest.net)
[17:34:29] *** jdm is now known as jdm|away
[17:35:10] *** Quits: eneas (Thunderbir@moz-84795927.red-83-36-160.dynamicip.rima-tde.net) (Quit: eneas)
[17:36:12] <alan_andrade> I tried with for `mut stream` and didn't work.
[17:36:45] <alan_andrade> So this is spawning a new task and If we want to communicate with task don't we need a channel ?
[17:37:13] *** Joins: brihat (bdsatish@moz-5EC00491.dhcp.inet.fi)
[17:37:15] *** Quits: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com) (Ping timeout)
[17:37:18] <alan_andrade> I can see why It fails now. The task wouldn't have any idea of where does stream is
[17:37:25] *** Quits: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP) (Connection reset by peer)
[17:37:26] *** Joins: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com)
[17:37:30] *** Joins: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP)
[17:37:36] *** Quits: StarLight (StarLight@moz-E142E096.dynamic.avangarddsl.ru) (Ping timeout)
[17:37:39] <alan_andrade> hm, using channels seems too much
[17:37:49] <alan_andrade> I'll get rid of the `spawn`
[17:38:33] <drbawb> flan3002: is this what you're looking for? http://static.rust-lang.org/doc/master/std/io/fs/fn.mkdir_recursive.html
[17:38:33] <alan_andrade> Ok, it works without the spawn()
[17:38:48] *** Quits: evanm (evanm@636AC086.5999CED5.71743E61.IP) (Quit: Textual IRC Client: www.textualapp.com)
[17:38:53] *** Joins: evanm (evanm@636AC086.5999CED5.71743E61.IP)
[17:39:09] <alan_andrade> I wonder why does this work if it's a documentation example and those example are supposed to be tested
[17:39:25] <alan_andrade> *doesn't
[17:39:26] <thiez> have you tried: spawn(proc() { let mut stream = stream; stream.write_str("Time"); });
[17:40:31] <alan_andrade> oh wow
[17:40:34] <alan_andrade> That workd
[17:40:34] *** Quits: sellout (Adium@moz-53C8D913.hsd1.co.comcast.net) (Quit: Leaving.)
[17:40:38] *** Joins: sellout (Adium@moz-53C8D913.hsd1.co.comcast.net)
[17:40:58] <alan_andrade> It warns me about stream though. It shouldn't be mutable ?
[17:41:10] *** Quits: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com) (Ping timeout)
[17:41:23] <alan_andrade> warning: variable does not need to be mutable :: warning: variable does not need to be mutable
[17:41:32] *** Joins: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com)
[17:41:44] *** Joins: StarLight (StarLight@moz-A5D3377F.dynamic.avangarddsl.ru)
[17:41:59] <thiez> lol
[17:42:01] <alan_andrade> What is your suggestion doing ?
[17:42:05] <thiez> what happens when you do 'let stream = stream'?
[17:42:30] <alan_andrade> without the mut it goes back to the same error
[17:42:30] *** Quits: murph1 (murph@moz-F07B75BF.oracle.com) (Broken pipe)
[17:42:40] <thiez> smells like a bug
[17:42:44] *** Joins: murph1 (murph@moz-F07B75BF.oracle.com)
[17:43:01] <thiez> are you using master or 0.9?
[17:43:04] <alan_andrade> *sniff* *sniff*
[17:43:06] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Quit: Leaving)
[17:43:07] <alan_andrade> master
[17:43:19] <alan_andrade> rustc 0.10-pre (fd02f90 2014-02-26 17:26:37 -0800)
[17:43:31] *** Quits: themgt (themgt@moz-83F07CDA.cm.vtr.net) (Quit: Pogoapp - http://www.pogoapp.com)
[17:43:44] <thiez> I guess you can create an issue :)
[17:43:56] *** Quits: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com) (Ping timeout)
[17:44:54] <photex> hrm SiegeLord there seems to be a hiccup in Rust.cmake
[17:44:55] *** Quits: jroweboy (Mibbit@moz-18814A6B.provo.static.broadweavenetworks.net) (Ping timeout)
[17:44:57] *** Quits: Sorella (quildreen@9D963F5D.DF5D8AE7.54BCAB54.IP) (Quit: Ex-Chat)
[17:45:15] <photex> updates to my lib.rs aren't triggering a rebuild of the library
[17:45:36] <SiegeLord> Hmm, that's not good
[17:46:17] <photex> https://gist.github.com/photex/0386d21212d358fa8e4c
[17:46:23] <photex> this is my CMakeLists.txt at the moment
[17:46:39] <alan_andrade> thiez: Thanks for your time
[17:47:48] *** Quits: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca) (Quit: Leaving.)
[17:47:53] <SiegeLord> photex: You want to move get_rust_deps(src/kds/lib.rs LIBKDS_DEPS) above rust_crate and send those deps to the rust_crate
[17:48:06] *** pmoore is now known as pmoore|away
[17:48:23] *** Joins: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com)
[17:48:25] *** Quits: PTank (Adium@C87F2B4C.AC80DA87.CC73C50D.IP) (Quit: Leaving.)
[17:48:41] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[17:48:43] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[17:48:53] *** Quits: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com) (Ping timeout)
[17:48:56] <SiegeLord> Or, alternatively, ditch the get_rust_deps and use rust_crate_auto
[17:49:02] *** Joins: ambro718 (ambro@moz-2E81752A.static.dsl.siol.net)
[17:49:07] *** Joins: Sorella (quildreen@9D963F5D.DF5D8AE7.54BCAB54.IP)
[17:49:13] *** Joins: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com)
[17:49:29] <photex> SiegeLord: your suggestion fixed it :)
[17:49:43] * photex is new to CMake
[17:49:54] <photex> appreciate the effort and the help!
[17:50:14] *** Quits: eddyb (eddy@moz-41DB10DA.residential.rdsnet.ro) (Ping timeout)
[17:50:57] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Quit: Busying myself...)
[17:51:15] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[17:51:40] *** Joins: untwisted (untwisted@moz-60D579DC.hsd1.ca.comcast.net)
[17:51:53] <ambro718> So I need a rust compiler to build the rust compiler? If all rust compilers were suddenly gone the rust source would be of no use?
[17:52:14] *** Quits: robn (robn@moz-76B0302C.static.internode.on.net) (Ping timeout)
[17:52:28] *** Quits: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com) (Ping timeout)
[17:52:48] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[17:52:59] *** Joins: robn (robn@moz-76B0302C.static.internode.on.net)
[17:53:04] <photex> ambro718: if I understand correctly the same applied to GCC
[17:53:15] <photex> applies*
[17:53:19] <photex> and GHC
[17:53:20] *** Joins: exobit_ (textual@moz-E06F46F0.corp.bitshelter.com)
[17:53:24] <ambro718> sure but C++ compilers are everywhere
[17:53:24] <photex> and most compilers
[17:53:29] <photex> true!
[17:53:53] *** Quits: Sorella (quildreen@9D963F5D.DF5D8AE7.54BCAB54.IP) (Quit: Ex-Chat)
[17:53:59] *** Joins: Sorella (quildreen@9D963F5D.DF5D8AE7.54BCAB54.IP)
[17:54:05] *** jdm|away is now known as jdm
[17:54:12] <ambro718> but once I have a rust compiler, can it build code for other processors?
[17:54:25] <flan3002> ambro718: That doesn't count. Rust compilers are everywhere as well (on peoples machines).
[17:54:32] *** Joins: ashish_ (quassel@43FB461F.DA5868CB.2C7B20EF.IP)
[17:55:21] *** Quits: ashish_ (quassel@43FB461F.DA5868CB.2C7B20EF.IP) (Client exited)
[17:55:22] <SiegeLord> Assuming the git repository is preserved, you could reconstruct the current copy using OCaml
[17:55:33] <SiegeLord> It might take a little bit of time
[17:55:38] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[17:55:44] <photex> neat! I didn't know that Rust began with OCaml
[17:55:49] *** Quits: Kruppe (user@moz-253119B0.esg.uwaterloo.ca) (Client exited)
[17:56:18] *** Quits: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com) (Ping timeout)
[17:56:19] *** Joins: Kruppe (user@moz-253119B0.esg.uwaterloo.ca)
[17:56:41] <ambro718> so there's an ocaml compiler for an old version of rust, and I can use it to compiler a newer version of rust, and repeat that in steps as large as possible?
[17:56:47] <SiegeLord> Yep
[17:56:51] <ambro718> Cool :D
[17:57:13] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[17:57:54] <strcat> 12:55:35     ambro718 | but once I have a rust compiler, can it build code for other processors?
[17:57:56] <strcat> yes
[17:58:03] <strcat> rustc is a cross-compiler
[17:58:10] *** Joins: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca)
[17:58:25] <ambro718> what kind of dependencies does rust have? How easy is it to compile for a microcontroller without any kind of OS?
[17:59:36] <photex> ambro718: there was a blog post about somebody who did this
[17:59:42] <photex> I'm pretty sure I found it on reddit
[17:59:54] <photex> https://github.com/eholk/Boot2Rust
[18:00:20] <ambro718> cool. Can rust run without a memory allocator?
[18:00:26] <photex> builds an EFI app but I think you could extend this to other kinds of embedded development
[18:00:45] * photex is not an expert on that sort of thing so dont take my word for it
[18:01:28] <cmr> ambro718: if you don't use allocation, yes.
[18:01:48] <cmr> ambro718: there are no deps beyond C, if you don't use the features that require them (which, at this point, consist only of ~T and ~[T])
[18:01:56] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[18:02:00] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[18:02:14] <ambro718> ok I like that :)
[18:02:36] *** Quits: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net) (Input/output error)
[18:03:46] *** Quits: Jemaclus (Jemaclus@4EEAB704.5843BA5A.D4E4C7A5.IP) (Client exited)
[18:04:15] <photex> is there a timeframe for when 0.10 will be released?
[18:04:24] *** Joins: paulolieuthier (quassel@moz-41197141.user.veloxzone.com.br)
[18:04:26] <cmr> photex: we release every 3 months
[18:04:26] <photex> is that sort of thing kept on a roadmap in the wiki perhaps?
[18:04:30] <photex> oh
[18:04:33] <cmr> so, 3 months from 0.9
[18:04:33] <photex> didn't realize
[18:04:35] <photex> cool
[18:04:39] <cmr> give or take a week
[18:04:44] *** Quits: paulolieuthier (quassel@moz-41197141.user.veloxzone.com.br) (Client exited)
[18:05:24] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Ping timeout)
[18:05:49] *** Joins: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com)
[18:05:54] *** Quits: brendan (brendaneic@45A3491F.A5FB4ABA.FE58E87C.IP) (Quit: brendan)
[18:07:28] *** Joins: Jemaclus (Jemaclus@4EEAB704.5843BA5A.D4E4C7A5.IP)
[18:07:52] *** Joins: Jemaclus_ (Jemaclus@4EEAB704.5843BA5A.D4E4C7A5.IP)
[18:07:52] *** Quits: Jemaclus (Jemaclus@4EEAB704.5843BA5A.D4E4C7A5.IP) (Connection reset by peer)
[18:08:01] *** Quits: redbrain (uid24282@moz-E77DEB21.irccloud.com) (Quit: Connection closed for inactivity)
[18:09:30] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[18:11:58] *** Joins: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net)
[18:12:20] *** Quits: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[18:12:49] *** Joins: brendan (brendaneic@45A3491F.A5FB4ABA.FE58E87C.IP)
[18:13:24] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[18:13:38] *** Quits: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net) (Ping timeout)
[18:15:44] *** Joins: Savago (Savago@D8B9C081.E820043D.D4C04133.IP)
[18:15:55] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[18:16:37] *** Joins: amousset_ (amousset@6181009C.10715965.BCDF592F.IP)
[18:17:02] *** Quits: amousset (amousset@6181009C.10715965.BCDF592F.IP) (Ping timeout)
[18:19:34] <seanmonstar> how do you impl traits using primitives in the generic slots? such as with Index: https://gist.github.com/seanmonstar/5b501da689187c4b8826
[18:19:35] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[18:19:54] *** Joins: Matthias247 (Miranda@moz-BDD35EC0.hsi5.kabel-badenwuerttemberg.de)
[18:20:26] *** Quits: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com) (Ping timeout)
[18:20:44] <cmr> seanmonstar: it'd be `impl Index<uint, str> for Foo`
[18:20:49] *** Joins: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com)
[18:20:53] <cmr> seanmonstar: rather than having a generic impl with bounds, you have a concrete impl.
[18:21:01] *** Quits: alexherbo2 (alexherbo2@moz-229B634D.w90-3.abo.wanadoo.fr) (Ping timeout)
[18:21:19] *** Joins: geoffhill (geoffhill@moz-95FF7399.members.linode.com)
[18:21:24] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[18:21:53] <seanmonstar> cmr: oh sweet, thanks
[18:22:00] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[18:22:44] <seanmonstar> cmr: and it won't complain that it doesn't match the trait's &Index?
[18:23:04] <cmr> not sure what you mean.
[18:23:43] *** Quits: brendan (brendaneic@45A3491F.A5FB4ABA.FE58E87C.IP) (Quit: brendan)
[18:23:43] <seanmonstar> nevermind, i was messing around num::Int and such, i'll try the proper way and see if everything goes away
[18:23:47] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[18:24:37] *** Quits: ambimorph (amber@moz-B3FBDFCE.hlrn.qwest.net) (Ping timeout)
[18:25:45] *** Joins: marianoguerra (marianogue@moz-1A3239B2.dip0.t-ipconnect.de)
[18:26:25] <seanmonstar> cmr: yea, doing that, i get "method has imcompatible type, expected &-ptr but found uint"
[18:26:47] <seanmonstar> since the trait Index has fn index(&self, index: &Index)
[18:27:03] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[18:27:06] <cmr> seanmonstar: fn index(&self, index: &uint) -> &str { ... }
[18:27:08] <cmr> although...
[18:27:21] <cmr> it'll need to be impl Index<uint, &str>
[18:27:26] <cmr> ... which needs lifetimes in a lot of places
[18:27:32] <cmr> ... which makes it very inconvenient.
[18:27:38] *** Quits: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com) (Ping timeout)
[18:27:40] *** Joins: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com)
[18:27:42] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Ping timeout)
[18:28:05] <seanmonstar> yea, sidenote about lifetimes: it feels like most of the time, i'm writing 'a to simply say this thing wont outlive self, which seems like it could be inferred
[18:28:14] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[18:29:14] <cmr> the rules we have now we've arrived at through a long process of trial and error, and won't be very easy to change without losing either understandability or flexibility.
[18:29:21] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[18:29:58] *** Joins: luniv (textual@35A6D713.28909DC9.B7FCEB19.IP)
[18:30:01] <seanmonstar> im not saying i know better. just in this instance, the 'a feels arbitrary
[18:30:38] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[18:30:40] *** Quits: redShadow (redShadow@9BDAF02B.D15F9219.1CCF65D9.IP) (Quit: Leaving)
[18:31:45] *** Joins: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca)
[18:32:41] *** Quits: kanaka (joelm@moz-99213C1D.lightspeed.ftwotx.sbcglobal.net) (Client exited)
[18:32:49] *** Joins: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net)
[18:33:07] *** Joins: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net)
[18:33:09] *** Joins: teosz (teosz@14885300.1934AA08.3EA6AAD8.IP)
[18:34:54] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[18:34:56] *** Quits: alkino (alkino@A63A62C8.6897AE13.4B164862.IP) (Quit: WeeChat 0.4.3)
[18:35:46] *** Quits: [o__o] (~o__o@604A2740.DB688352.F4ADE383.IP) (Input/output error)
[18:36:16] *** Joins: alexherbo2 (alexherbo2@moz-B6E5A02C.w90-3.abo.wanadoo.fr)
[18:37:00] *** Quits: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP) (Client exited)
[18:38:16] *** Quits: teosz (teosz@14885300.1934AA08.3EA6AAD8.IP) (Ping timeout)
[18:38:24] *** Quits: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net) (Ping timeout)
[18:38:36] *** Quits: haxifix (Mibbit@moz-6F5A460B.hsd1.fl.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[18:38:39] *** Joins: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net)
[18:39:01] *** Quits: alexherbo2 (alexherbo2@moz-B6E5A02C.w90-3.abo.wanadoo.fr) (Quit: WeeChat 0.4.3-dev)
[18:39:09] *** Joins: alexherbo2 (alexherbo2@moz-B6E5A02C.w90-3.abo.wanadoo.fr)
[18:40:07] *** Joins: [o__o] (~o__o@604A2740.DB688352.F4ADE383.IP)
[18:40:15] *** Joins: espindol_ (espindola@moz-9F530B29.com)
[18:40:32] *** Joins: kanaka (joelm@moz-99213C1D.lightspeed.ftwotx.sbcglobal.net)
[18:41:13] *** Quits: CarpNet (ac@moz-FD24B77.sohonet.co.uk) (Quit: Leaving)
[18:41:25] *** Quits: espindola (espindola@moz-F0FBD3B4.dsl.teksavvy.com) (Ping timeout)
[18:42:08] *** Quits: ziad (ziad@moz-C0318336.hsd1.ca.comcast.net) (Quit: ziad)
[18:43:14] *** Joins: ambimorph (amber@moz-B3FBDFCE.hlrn.qwest.net)
[18:43:27] *** Parts: edwardw (edwardw@96E7298D.3E260003.B9C6B12A.IP) (Leaving...)
[18:43:29] *** Joins: edwardw (edwardw@96E7298D.3E260003.B9C6B12A.IP)
[18:43:58] *** Parts: inglesp (peteringle@B330FCC9.EDEFAB18.CD72393B.IP) ()
[18:44:20] *** Quits: pcdummy (pcdummy@moz-CF4CA865.page4me.ch) (Ping timeout)
[18:44:34] *** Joins: pcdummy (pcdummy@moz-CF4CA865.page4me.ch)
[18:45:52] *** Quits: marianoguerra (marianogue@moz-1A3239B2.dip0.t-ipconnect.de) (Ping timeout)
[18:46:02] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[18:48:59] *** Quits: Crandom (Crandom__@moz-56264BBC.sx) (Ping timeout)
[18:49:00] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[18:49:02] *** Quits: jxs (joaoxsouls@1FF12F4F.CDF09DE2.D6573861.IP) (Ping timeout)
[18:49:16] *** Quits: mmalecki (maciej@DE8E8A22.9EBA3CD1.D6573861.IP) (Ping timeout)
[18:50:40] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[18:50:56] *** Quits: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net) (Ping timeout)
[18:51:06] *** Quits: Kynes (Kynes@moz-3DC6C6E7.mit.edu) (Quit: Leaving)
[18:51:13] *** Joins: jxs (joaoxsouls@1FF12F4F.CDF09DE2.D6573861.IP)
[18:51:46] *** Joins: Crandom (Crandom__@moz-56264BBC.sx)
[18:52:53] *** Quits: fyolnish (fyolnish@moz-10E70EA7.uqwimax.jp) (Client exited)
[18:52:54] *** Joins: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com)
[18:53:00] *** Joins: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net)
[18:53:15] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[18:53:24] *** Joins: fyolnish (fyolnish@moz-10E70EA7.uqwimax.jp)
[18:54:40] *** Quits: rootnode (rootnode@moz-E6216636.pools.arcor-ip.net) (Ping timeout)
[18:55:10] *** Quits: fyolnish (fyolnish@moz-10E70EA7.uqwimax.jp) (Ping timeout)
[18:55:20] *** Joins: rootnode (rootnode@moz-5B6C35C6.pools.arcor-ip.net)
[18:56:24] *** Joins: mmalecki (maciej@DE8E8A22.9EBA3CD1.D6573861.IP)
[18:56:49] *** gavin sets mode: -b Yoric!*@*
[18:57:03] *** Joins: ziad (ziad@B20586FB.BDB3D91.6E370BFC.IP)
[18:57:28] *** Joins: dvo (dan@moz-C69D1C4F.as13285.net)
[18:59:48] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[19:00:11] *** Quits: eevee (eevee@moz-B3E28114.lv.lv.cox.net) (Ping timeout)
[19:00:22] *** Joins: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net)
[19:00:40] *** Joins: eevee (eevee@moz-B3E28114.lv.lv.cox.net)
[19:01:04] <mindcat> nothing is perfect, even linux kernel.
[19:01:58] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[19:01:58] *** ChanServ sets mode: +ao pcwalton pcwalton
[19:01:58] *** Quits: evanm (evanm@636AC086.5999CED5.71743E61.IP) (Connection reset by peer)
[19:02:06] *** Joins: evanm (evanm@636AC086.5999CED5.71743E61.IP)
[19:03:04] <seanmonstar> i'd guess that using the Index trait with uints would be the most common, so it seems like a good example to include in the docs
[19:03:17] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Input/output error)
[19:03:30] <cmr> seanmonstar: Index is probably going to be entirely redesigned
[19:03:36] <seanmonstar> oh ok
[19:03:40] <cmr> right now it's awful and inflexible.
[19:03:41] <seanmonstar> issue number?
[19:03:43] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[19:04:17] *** Quits: Crandom (Crandom__@moz-56264BBC.sx) (Ping timeout)
[19:04:46] *** Joins: Crandom (Crandom__@moz-56264BBC.sx)
[19:05:01] *** Quits: fabiand (fabiand@moz-8D575631.adsl.alicedsl.de) (Quit: Verlassend)
[19:05:03] <mindcat> rusti: let a : fn () = || {};a()
[19:05:04] -rusti- <anon>:10:23: 10:30 error: mismatched types: expected `fn()` but found `||` (expected extern fn but found fn)
[19:05:04] -rusti- <anon>:10         let a : fn () = || {};a()
[19:05:04] -rusti-                                 ^~~~~~~
[19:05:04] -rusti- error: aborting due to previous error
[19:05:04] -rusti- application terminated with error code 101
[19:05:28] <mindcat> I forgot how to write that now
[19:05:34] <cmr> seanmonstar: https://github.com/mozilla/rust/issues/7590, https://github.com/mozilla/rust/issues/6515, https://github.com/mozilla/rust/issues/6588, https://github.com/mozilla/rust/issues/10453 are all related.
[19:05:40] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Client exited)
[19:05:46] <cmr> rusti: let a: || = ||; a()
[19:05:46] -rusti- <anon>:10:23: 10:24 error: unexpected token: `;`
[19:05:46] -rusti- <anon>:10         let a: || = ||; a()
[19:05:46] -rusti-                                 ^
[19:05:46] -rusti- application terminated with error code 101
[19:05:51] <cmr> rusti: let a: || = || {}; a()
[19:05:53] -rusti- ()
[19:06:01] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[19:06:20] *** Joins: patpat (patpat@moz-1599AAE4.as13285.net)
[19:06:52] <mindcat> rusti: let a : |u8| = || {1};a()
[19:06:55] -rusti- pastebinned 11 lines of output: http://ix.io/aRx
[19:07:01] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[19:07:07] <cmr> rusti: let a: || -> u8 = || { 1 }; a()
[19:07:08] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[19:07:08] -rusti- 1u8
[19:07:25] <mindcat> oh ok...
[19:07:36] <cmr> arguments go inside the ||
[19:07:37] *** Joins: mauricioc (mauricioc@moz-5D49F2DE.impa.br)
[19:07:42] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[19:07:54] <seanmonstar> cmr: oh wow. ok. i've actually been working on the Slice operator (https://github.com/mozilla/rust/issues/4160), and was using Index as a guide
[19:08:00] <cmr> http://smallcultfollowing.com/babysteps/blog/2013/10/10/fn-types-in-rust/
[19:08:17] <mindcat> rusti: let a : *(|| -> u8) = || { 1 };*a()
[19:08:19] *** Joins: mbx (mbebenita@moz-C07D5168.p2p.sfo1.mozilla.com)
[19:08:19] -rusti- pastebinned 8 lines of output: http://ix.io/aRy
[19:09:14] <mindcat> rusti: let a : fn() -> u8 = || { 1 };*a()
[19:09:14] *** Quits: mbx (mbebenita@moz-C07D5168.p2p.sfo1.mozilla.com) (Connection reset by peer)
[19:09:16] -rusti- pastebinned 8 lines of output: http://ix.io/aRz
[19:09:19] <mindcat> rusti: let a : fn() -> u8 = || { 1 };a()
[19:09:20] -rusti- <anon>:10:28: 10:38 error: mismatched types: expected `fn() -> u8` but found `|| -> <generic integer #0>` (expected extern fn but found fn)
[19:09:20] -rusti- <anon>:10         let a : fn() -> u8 = || { 1 };a()
[19:09:20] -rusti-                                      ^~~~~~~~~~
[19:09:20] -rusti- error: aborting due to previous error
[19:09:20] -rusti- application terminated with error code 101
[19:09:31] <strcat> seanmonstar: Index is going to be removed so it's not necessarily a good design basis
[19:09:39] *** Joins: mbx (mbebenita@moz-C07D5168.p2p.sfo1.mozilla.com)
[19:09:59] <cmr> seanmonstar: I would recommend *not* working on implementing, and post a detailed RFC, because Slice doesn't seem like something that will necessarily be accepted.
[19:10:02] <seanmonstar> strcat: yea, cm r mentioned that
[19:10:28] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[19:10:46] <seanmonstar> cmr: oh? it seemed nik's proposal several comments down was liked
[19:11:04] <cmr> seanmonstar: sure, but that's just a random comment on an issue, not a detailed RFC.
[19:11:26] *** Quits: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com) (Ping timeout)
[19:11:31] *** Quits: mbx (mbebenita@moz-C07D5168.p2p.sfo1.mozilla.com) (Ping timeout)
[19:11:35] *** Joins: mbx (mbebenita@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[19:11:56] <cmr> if all it can do is take literal slices, and not iterators... I don't think that's useful for very value-adding.
[19:12:26] <seanmonstar> what do you mean take an iterator?
[19:12:41] *** Joins: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com)
[19:12:50] <cmr> taking a subslice of contiguous memory isn't particularly useful to have syntax imo
[19:12:58] <cmr> if it instead yielded some sort of iterator that'd be more flexible
[19:13:05] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[19:13:09] <cmr> but... probably complex and not necessary
[19:13:09] <SiegeLord> It should yield an arbitrary type
[19:13:27] <seanmonstar> cmr: you mean foo[from..to].iter() without copying foo?
[19:13:28] <cmr> I'm not really in favor of adding slicing syntax right now.
[19:13:43] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Quit: Busying myself...)
[19:13:55] * flan3002 hates building LLVM.
[19:14:14] <cmr> seanmonstar: no, I mean foo[from..to] should return some sort of iterator
[19:14:21] <seanmonstar> right
[19:14:22] <cmr> instead of a &'a [T]
[19:14:28] <pcwalton> nmatsakis: can we remove Send and Freeze from the language if we do OIBIT?
[19:14:36] <pcwalton> and just put them in the libraries
[19:14:49] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[19:15:06] <cmr> seanmonstar: I'll comment on the issue
[19:15:24] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[19:15:35] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[19:16:17] <SiegeLord> Someone was working on a slice syntax, if I recall correctly... I guess they gave up though?
[19:16:27] *** Quits: amousset_ (amousset@6181009C.10715965.BCDF592F.IP) (Ping timeout)
[19:16:35] <seanmonstar> cmr: so, i was trying to find an issue large enough to really dig into rust, and providing decent value, while not being something someone else was working on, cause i'll be slow going. that issue matched well
[19:17:14] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[19:17:25] *** Quits: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com) (Ping timeout)
[19:18:07] <nmatsakis> pcwalton: I envisioned the compiler checking you didn't muck things up
[19:18:19] <nmatsakis> pcwalton: so I guess that depends what you mean
[19:18:20] <mindcat> for i in nlit!(~[xu8 for x in range(0, 9) if x % 2]).iter() {print!("{:?} ", i)}
[19:18:28] *** Joins: q66 (q66@D6C23B3C.45E1A7FC.B1AA2106.IP)
[19:18:41] <pcwalton> nmatsakis: what checks does it need to perform beyond ensuring that all subcomponents implement that trait?
[19:18:43] *** Joins: ganitsu1 (ganitsu@moz-1DDB7110.dialup.adsl.anteldata.net.uy)
[19:18:43] <nmatsakis> pcwalton: I think the only way the compiler needs to be involved, though, is to check that `impl Freeze for T` means that `T` has nothing freezable
[19:18:50] <pcwalton> oh, I guess that in itself is a change
[19:18:51] <nmatsakis> er, nothing non-freezale
[19:18:58] *** Joins: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com)
[19:19:03] <pcwalton> it could be a generic "Kind" logic that applies to both Send and Freeze though
[19:19:10] *** Quits: ganitsu (ganitsu@moz-F7153A3D.dialup.adsl.anteldata.net.uy) (Ping timeout)
[19:19:11] <mindcat> for i in nlit!(~[xu8 for x in range(0, 9) if x % 2]) {print!("{:?} ", i)}
[19:19:12] <pcwalton> allowing users to create custom kinds later, perhaps
[19:19:19] <cmr> a trait Kind that all kinds inherit, perhaps?
[19:19:25] <pcwalton> there's nothing Send or Freeze-specific about the check, from my POV
[19:19:27] <pcwalton> I don't think
[19:19:38] <cmr> (or just an attr, but I like the idea of using inheritance for that)
[19:19:47] <pcwalton> not sure inheritance works… but maybe it does
[19:19:49] <nmatsakis> pcwalton: I see, yes, perhaps. In some cases there are subtle distinctions about "owns something with prop X" vs "reaches something with prop X"
[19:19:49] <pcwalton> #[kind]
[19:19:59] <pcwalton> true
[19:20:04] <pcwalton> but it seems like a nice generalization
[19:20:15] <nmatsakis> actually that implies that Freeze does not imply Shraed
[19:20:21] <nmatsakis> as has been debated
[19:20:23] <pcwalton> #[requires_ownership] #[requires_reachability]
[19:20:24] <nmatsakis> because Share is about reachability
[19:20:28] <nmatsakis> but Freeze is about ownership, I think
[19:20:46] <nmatsakis> though maybe it desn't matter
[19:20:51] <nmatsakis> if Gc<T> is not freeze
[19:21:05] <nmatsakis> well anyway, I agree though, you can make it generic-y
[19:21:10] <nmatsakis> and something users could (later) fit into
[19:21:16] <cmr> seanmonstar: it does, but is also has the property of "we don't really want to do this for 1.0"
[19:21:18] *** Quits: cremes_ (cremes@moz-649E729A.lv.lv.cox.net) (Quit: cremes_)
[19:21:22] *** Joins: cremes_ (cremes@moz-649E729A.lv.lv.cox.net)
[19:21:26] <pcwalton> that's one of the strongest arguments in favor I think
[19:21:30] <cmr> seanmonstar: (at least according to triage, at the time)
[19:21:35] *** Quits: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net) (Quit: killerswan)
[19:21:55] <pcwalton> I remember someone on golang-nuts describing Rust kinds as "a bug report waiting to be filed by users"
[19:21:56] <seanmonstar> cmr: yea, i figured that meant most people wouldnt spend time on it, but that if i showed with PR, hey cool
[19:22:25] <SiegeLord> And omitted kinds are a hundreds of bug reports waiting to be filed :P
[19:22:37] <pcwalton> it's safe though
[19:23:01] <pcwalton> better to err on the side of safety IMHO
[19:23:02] *** eatkinson-away is now known as eatkinson
[19:23:10] <pcwalton> and the rules around unsafe pointers err on the side of unsafety
[19:23:21] <cmr> seanmonstar: there are design issues that need to be resolved, too, and if we reserve the syntax *now* for something we decide we don't want, we can't go back on that (modulo feature flags, of course)
[19:23:26] *** Joins: amousset_ (amousset@moz-2E0A4DA6.minet.net)
[19:23:39] *** Joins: fyolnish (fyolnish@moz-10E70EA7.uqwimax.jp)
[19:23:57] <cmr> seanmonstar: that's just my opinion though
[19:24:19] <pcwalton> someone on reddit wants Clone to be auto-derived too :\
[19:24:21] *** Parts: jsonnull (Thunderbir@20DADFC2.48C8B17D.494A0F8B.IP) ()
[19:24:24] *** Quits: q66 (q66@D6C23B3C.45E1A7FC.B1AA2106.IP) (Ping timeout)
[19:24:52] *** Joins: q66 (q66@D6C23B3C.45E1A7FC.B1AA2106.IP)
[19:25:07] *** Joins: Savago_ (Savago@E64C9DF9.E820043D.D4C04133.IP)
[19:25:12] <nmatsakis> pcwalton: "auto-derived"?
[19:25:14] *** Quits: Savago (Savago@D8B9C081.E820043D.D4C04133.IP) (Ping timeout)
[19:25:14] *** Savago_ is now known as Savago
[19:25:16] <seanmonstar> cmr: no problem. however, it'd be if such an issue were marked in a way discouraging work on it. "enhancement" is a label i peruse looking for issues people won't spend time on
[19:25:22] <seanmonstar> it
[19:25:25] <seanmonstar> it'd be useful*
[19:25:27] <cmr> once coherence is worked out we could have impl <T: Pod> Clone for T { fn clonse(&self) -> T { *self } }
[19:25:33] <nmatsakis> pcwalton: (seems like a lint might be good enough.)
[19:25:36] <pcwalton> nmatsakis: the proposal is for all types to act as though #[deriving(Clone)] was implemented unless doing so would produce an error
[19:25:54] <cmr> seanmonstar: perhaps we should reintroduce far-future or not-1.0 as a tag.
[19:25:54] <nmatsakis> cmr: yes, next thing I'm trying to write up (but it's much bigger), is describing trait/coherence rules which, among other things, enable htat...
[19:26:05] <cmr> seanmonstar: it used to be a milestone
[19:26:13] <cmr> nmatsakis: looking forward to reading it
[19:27:10] <SiegeLord> My recent experience with libstd is that people are very resistant to implementing every possible trait for types
[19:27:16] <alan_andrade> Earlier I exposed this compilation error that I'm getting and people said that looked like a bug, what do you think ? https://gist.github.com/alan-andrade/9275509
[19:27:32] *** Quits: geoffhill (geoffhill@moz-95FF7399.members.linode.com) (Ping timeout)
[19:27:46] <SiegeLord> I think it's almost guaranteed that every library will have a kind that has been omitted, yet desired by a user
[19:28:46] <pcwalton> I think there is less resistance to implementing kinds
[19:29:14] <cmr> and we could have a lint for types which don't implement a kind, but all their memebers do.
[19:29:40] *** Quits: mye (mye@moz-50A4D8FD.dip0.t-ipconnect.de) (Quit: mye)
[19:29:49] <pcwalton> cmr: hmm, how would you suppress it?
[19:29:54] <pcwalton> #[allow]?
[19:30:09] <cmr> yeah
[19:30:22] <cmr> or #[not_kind(Name)]
[19:30:47] <SiegeLord> Opt out without the opt out ;)
[19:30:53] <cmr> well...
[19:31:01] <cmr> I feel like a lint for it is super useful to avoid bugs
[19:31:21] <cmr> or, rather, flaws.
[19:31:31] <pcwalton> yeah, I'm torn
[19:31:44] <pcwalton> so I do feel like people should be annotating whether things are Send/Freeze, I guess
[19:32:06] <pcwalton> it's such a core part of the language that it deserves annotation
[19:32:28] <pcwalton> and it's also such a unique part of the language… it's not something people who aren't veteran Rusters are used to thinking about
[19:32:35] <pcwalton> but, I do sympathize with SiegeLord's concern, quite a bit
[19:32:47] <pcwalton> maybe the lint is the right thing
[19:32:50] <eibwen> what is a kind?
[19:32:50] <cmr> I'm in favor of the RFC and I think it's a step forward, but I am still moderately uncomfotable about lazy library authors (this includes everyone, I think) crippling things.
[19:33:01] <cmr> eibwen: things like Send, Share, etc.
[19:33:02] <pcwalton> agreed with cmr
[19:33:05] <pcwalton> basically I agree with everyone
[19:33:07] <pcwalton> heh
[19:33:24] <eibwen> cmr: things you can #[derive()]?
[19:33:47] <pcwalton> eibwen: they're the built-in traits like Send, Freeze
[19:33:52] <pcwalton> that have no methods but serve as markers
[19:34:01] <pcwalton> also, I vote we stop using the word "kind"
[19:34:06] <cmr> eibwen: see http://smallcultfollowing.com/babysteps/blog/2014/02/28/rust-rfc-opt-in-builtin-traits/ for details
[19:34:08] <cmr> yeah I agree
[19:34:08] <pcwalton> since we also have a proposal for higher-kinded types
[19:34:11] <cmr> since they're... not really kinds
[19:34:13] <pcwalton> which is a totally different meaning of kind
[19:34:16] <cmr> in the other sense
[19:34:18] <cmr> yeah
[19:35:05] <mindcat> rusti: "hey! where is rusti?"
[19:35:45] *** Quits: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com) (Ping timeout)
[19:35:51] *** Joins: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com)
[19:36:16] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[19:37:49] <edwardw> rusti: version
[19:37:56] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[19:38:00] *** Quits: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net) (Ping timeout)
[19:38:06] <cmr> it isn't here
[19:38:32] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[19:39:27] *** Joins: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net)
[19:40:52] *** Quits: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com) (Ping timeout)
[19:40:59] *** Joins: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com)
[19:41:38] *** Joins: ricepuddin (graham@moz-7D68765A.cable.virginm.net)
[19:41:55] *** Joins: nano (nano@moz-ED77243C.superkabel.de)
[19:42:02] *** Quits: FrozenCow (FrozenCow@moz-E69F48E.dynamic.upc.nl) (Client exited)
[19:43:46] *** Quits: fyolnish (fyolnish@moz-10E70EA7.uqwimax.jp) (Ping timeout)
[19:44:04] *** Quits: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP) (Quit: colinsurprenant)
[19:45:24] *** Joins: NiccosSystem (NiccosSyst@moz-ED196BB4.customer.lyse.net)
[19:45:26] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[19:46:52] *** Parts: mauricioc (mauricioc@moz-5D49F2DE.impa.br) ()
[19:47:00] *** Quits: mindcat (mindcat@986D183E.79C16620.DBA68950.IP) (Quit: Lost terminal)
[19:47:36] *** Joins: adridu59 (Mibbit@moz-CB54E913.rev.numericable.fr)
[19:47:52] *** Quits: evanm (evanm@636AC086.5999CED5.71743E61.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[19:48:01] *** kimundi is now known as zz_kimundi
[19:48:04] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[19:48:04] *** ChanServ sets mode: +ao brson brson
[19:50:27] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[19:51:03] *** Quits: kris (kris@moz-147EE6DF.diku.dk) (Ping timeout)
[19:51:38] *** Joins: fyolnish (fyolnish@moz-10E70EA7.uqwimax.jp)
[19:51:44] *** zz_kimundi is now known as kimundi
[19:52:01] <doomlord_> i've usually been using a shared 'common.rs' to bring in a load of use's ... i wondered if i could propogate the uses from the crate root with "use super::*" but it doesn't seem to work out
[19:53:21] *** Quits: fyolnish (fyolnish@moz-10E70EA7.uqwimax.jp) (Ping timeout)
[19:53:46] *** Joins: fyolnish (fyolnish@moz-10E70EA7.uqwimax.jp)
[19:53:48] *** Joins: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP)
[19:53:58] <doomlord_> could that just be down to remaining buggy glob imports
[19:54:24] <doomlord_> or if i get into the habit of using one prefix so i'm not using globs maybe it'll work better
[19:55:11] <SiegeLord> Why not plop a use common::*; everywhere you need it?
[19:55:27] *** Quits: fyolnish (fyolnish@moz-10E70EA7.uqwimax.jp) (Ping timeout)
[19:55:28] *** Quits: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP) (Quit: colinsurprenant)
[19:55:29] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[19:55:43] *** Joins: mgottschlag (quassel@moz-687B4309.cust.bluewin.ch)
[19:55:54] <doomlord_> that i do now, i just wondered if i could acheive the same result without a seperate common.rs
[19:56:37] *** Joins: ktt3ja (ktt3ja@moz-54586A12.washdc.fios.verizon.net)
[19:56:43] *** Quits: andre_ (andre@CA528A4A.45A4338E.8EE27E6.IP) (Quit: leaving)
[19:57:03] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[19:57:11] *** Quits: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com) (Ping timeout)
[19:57:14] *** Joins: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com)
[19:58:22] *** Joins: infynyxx_ (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[19:58:42] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[19:59:10] <SiegeLord> Looks like it hits the glob bug
[19:59:11] *** Quits: dew (Instantbir@moz-D2186B13.static.stls.mo.charter.com) (Client exited)
[19:59:17] <SiegeLord> At least, in my simple test
[19:59:20] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[19:59:55] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[20:00:05] *** Quits: espindol_ (espindola@moz-9F530B29.com) (Quit: Leaving...)
[20:01:21] *** Joins: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net)
[20:02:09] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[20:02:47] *** Joins: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP)
[20:06:36] *** Joins: Axord (xord@moz-C0D5F15A.lsanca.dsl-w.verizon.net)
[20:07:24] *** Quits: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net) (Quit: Textual IRC Client: www.textualapp.com)
[20:07:32] *** Joins: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net)
[20:08:16] *** Quits: edwardw (edwardw@96E7298D.3E260003.B9C6B12A.IP) (Quit: Leaving...)
[20:08:16] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[20:09:00] *** Quits: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net) (Quit: Textual IRC Client: www.textualapp.com)
[20:09:38] *** Quits: tigrou3tac (fabien@moz-6E2397FF.fbx.proxad.net) (Ping timeout)
[20:10:11] *** Quits: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[20:12:25] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Client exited)
[20:12:57] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[20:14:38] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[20:17:08] *** Quits: Sorella (quildreen@9D963F5D.DF5D8AE7.54BCAB54.IP) (Quit: Ex-Chat)
[20:20:39] *** Joins: Sorella (quildreen@9D963F5D.DF5D8AE7.54BCAB54.IP)
[20:21:36] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[20:21:48] *** flaper87|afk is now known as flaper87
[20:21:55] *** Quits: infynyxx_ (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[20:22:05] *** jdm is now known as jdm|away
[20:23:43] *** Quits: apoelstra (username@moz-B7040E82.vs.shawcable.net) (Ping timeout)
[20:27:25] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[20:27:26] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[20:29:06] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[20:30:03] *** Quits: untwisted (untwisted@moz-60D579DC.hsd1.ca.comcast.net) (Ping timeout)
[20:30:18] *** Quits: luniv (textual@35A6D713.28909DC9.B7FCEB19.IP) (Quit: Textual IRC Client: www.textualapp.com)
[20:30:42] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[20:32:12] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[20:32:16] *** Joins: c-a (c-a@moz-DBDF8C81.cust.bluewin.ch)
[20:32:34] *** Quits: asmyers (quassel@F7FD79FB.9A737B8F.FAA4474F.IP) (Ping timeout)
[20:33:50] <flan3002> Is there an easy way to play a sine wave of a specified frequence on GNU/Linux with Rust?
[20:34:11] *** Quits: dranov (dranov@98CCADF9.857BF9F5.A5830293.IP) (Ping timeout)
[20:34:23] *** Joins: dagnir (chatzilla@A1D3E7F1.DBF4469E.7E8D5209.IP)
[20:36:42] *** Quits: q66 (q66@D6C23B3C.45E1A7FC.B1AA2106.IP) (Ping timeout)
[20:36:43] *** Quits: adridu59 (Mibbit@moz-CB54E913.rev.numericable.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[20:37:12] *** Joins: lkuper (lkuper@moz-AD4C50F5.dhcp-bl.indiana.edu)
[20:37:45] *** Joins: wilmoore (wilmoore@moz-1248C037.mystrotv.com)
[20:38:52] <flan3002> And why can't I pass "|| println("Something")" to a function expecting "fn()"?
[20:39:50] *** Joins: q66 (q66@9AE11D99.4EA0AB2D.A574D365.IP)
[20:40:12] *** Joins: evanm (evanm@636AC086.5999CED5.71743E61.IP)
[20:42:00] *** Quits: ambimorph (amber@moz-B3FBDFCE.hlrn.qwest.net) (Ping timeout)
[20:42:26] *** Quits: whitglint (uid15486@moz-31ABA2C0.irccloud.com) (Quit: Connection closed for inactivity)
[20:45:08] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[20:46:24] *** Joins: devbug (quassel@2D4E172D.4C8B6099.9B57EA59.IP)
[20:47:01] *** Quits: devbug (quassel@2D4E172D.4C8B6099.9B57EA59.IP) (Quit: http://quassel-irc.org - Chat comfortably. Anywhere.)
[20:47:04] *** Joins: devbug (quassel@2D4E172D.4C8B6099.9B57EA59.IP)
[20:48:46] *** Joins: aklt (aklt@moz-E66E9BCB.u.parknet.dk)
[20:50:38] *** Quits: bytbox (s@moz-E1E7FAC3.washdc.fios.verizon.net) (Ping timeout)
[20:51:08] *** Joins: bytbox (s@moz-E1E7FAC3.washdc.fios.verizon.net)
[20:52:24] *** Joins: fyolnish (fyolnish@moz-3ED63897.uqwimax.jp)
[20:53:05] *** Quits: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net) (Ping timeout)
[20:54:03] *** Joins: eddyb (eddy@moz-41DB10DA.residential.rdsnet.ro)
[20:54:06] *** Quits: fyolnish (fyolnish@moz-3ED63897.uqwimax.jp) (Ping timeout)
[20:54:41] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[20:55:12] *** Joins: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net)
[20:55:18] *** Joins: marianoguerra (marianogue@moz-1A3239B2.dip0.t-ipconnect.de)
[20:55:22] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[20:56:30] *** Joins: aasmith_ (aasmith@moz-51A27BE9.hsd1.wa.comcast.net)
[20:56:30] *** Quits: aasmith (aasmith@moz-51A27BE9.hsd1.wa.comcast.net) (Ping timeout)
[20:56:30] *** aasmith_ is now known as aasmith
[20:56:30] *** Quits: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP) (Ping timeout)
[20:56:52] *** Joins: cmr (moznet@moz-EC676DFE.members.linode.com)
[20:57:03] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[20:57:18] *** Joins: btm_work (btm@moz-2160AA7C.sakura.ne.jp)
[20:57:24] *** Joins: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com)
[20:57:26] *** Joins: apoelstra (username@moz-B7040E82.vs.shawcable.net)
[20:57:26] <kimundi> flan3002: a clsoure contains an additional environment, which a function pointer does not contain.
[20:57:26] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[20:57:43] *** Quits: ganitsu1 (ganitsu@moz-1DDB7110.dialup.adsl.anteldata.net.uy) (Quit: WeeChat 0.4.1)
[20:58:25] *** eatkinson is now known as eatkinson-away
[20:58:37] <kmc> does that mean 'fn(A) -> B' and 'extern "Rust" fn(A) -> B' are now the same type?
[20:58:44] <kimundi> yes
[20:58:59] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[20:59:06] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[20:59:20] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[21:00:09] *** Quits: marianoguerra (marianogue@moz-1A3239B2.dip0.t-ipconnect.de) (Ping timeout)
[21:02:52] *** Joins: ambimorph (amber@moz-B3FBDFCE.hlrn.qwest.net)
[21:03:04] <flan3002> kimundi: But a closure contains a function pointer, right?
[21:03:33] <flan3002> So, if the closure captures nothing (closes over nothing), why don't let me use it as an inline function?
[21:03:45] <kimundi> flan3002: yes, a function pointer that _Requires_ the environment it is bundled with
[21:04:07] <kmc> flan3002: the simple way to get basic audio output is to write samples to stdout and pipe it to 'play' (from the sox package) with options specifying the sample format
[21:04:23] <kmc> e.g. play -r 44.1k -e signed -b 16 -c 1 -t raw -
[21:04:26] <kimundi> flan3002: well, thats different - it would mean a || expr; would need to infer as a function pointer to begin with
[21:04:36] <kmc> flan3002: https://github.com/brson/rust-sdl might also be useful
[21:04:43] <kimundi> which would be doable in theory, but isn'T implemented
[21:05:06] <kmc> (and if all you need is a single sine wave for a specific duration, 'play' itself can synthesize that)
[21:05:53] <flan3002> kmc: I need a sine wave of changing frequence, but over time, so if there is no hard stutter in between, single waves should suffice.
[21:06:50] *** Quits: Jemaclus_ (Jemaclus@4EEAB704.5843BA5A.D4E4C7A5.IP) (Client exited)
[21:08:37] *** Quits: [o__o] (~o__o@604A2740.DB688352.F4ADE383.IP) (Input/output error)
[21:08:42] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[21:08:48] *** Joins: [o__o] (~o__o@604A2740.DB688352.F4ADE383.IP)
[21:11:46] *** Quits: lkuper (lkuper@moz-AD4C50F5.dhcp-bl.indiana.edu) (Quit: lkuper)
[21:13:31] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[21:13:35] *** Joins: rustguest (Mibbit@6A1E3E0A.79CA65DB.DDE5D3F6.IP)
[21:13:43] <rustguest> Is there a way to clone an lrucache struct?
[21:14:24] *** Quits: flan3002 (till@moz-E0853D96.superkabel.de) (Quit: leaving)
[21:15:16] *** Joins: jviereck (Adium@moz-FFAF58FE.dip0.t-ipconnect.de)
[21:15:37] <rustguest> Does Lrucache even exist in master?
[21:15:40] <rustguest> i dont see it in the docs
[21:16:10] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Input/output error)
[21:16:37] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[21:17:24] *** Joins: Jemaclus (Jemaclus@4EEAB704.5843BA5A.D4E4C7A5.IP)
[21:17:58] *** Quits: Kruppe (user@moz-253119B0.esg.uwaterloo.ca) (Client exited)
[21:18:17] <brson> rustguest: it's in the collections crate on master
[21:18:18] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[21:19:33] <mcpherrin> with the crate-splosion, I think our searching probably needs a bit of changeup
[21:20:35] <pcwalton> 227 type errors in lib syntax after automated de-~[T]ing
[21:20:37] <pcwalton> yay
[21:20:48] *** Joins: alinab (alina@moz-94EAE39D.alinab.org)
[21:21:15] *** Quits: aasmith (aasmith@moz-51A27BE9.hsd1.wa.comcast.net) (Ping timeout)
[21:21:23] *** Quits: Ralith (ralith@moz-67D4EB93.customer.broadstripe.net) (Ping timeout)
[21:22:10] *** Joins: aasmith (aasmith@moz-51A27BE9.hsd1.wa.comcast.net)
[21:22:19] *** Joins: whitequark (whitequark@moz-BC42D267.whitequark.org)
[21:22:43] <rustguest> brson: how do i find the collections crate?
[21:23:39] <strcat> mcpherrin: it doesn't help that things aren't split based on purpose
[21:23:43] *** Joins: Kruppe (user@moz-253119B0.esg.uwaterloo.ca)
[21:23:51] <strcat> num modules outside libnum, collections outside libcollections
[21:23:55] <strcat> it's a bad API imo
[21:24:10] <pcwalton> no it's not
[21:24:26] <strcat> so why would someone expect certain containers to be outside the container module?
[21:24:34] <pcwalton> because they're ubiquitous enough to be in std
[21:24:42] <strcat> HashMap isn't in libstd
[21:24:48] <strcat> but it probably will be when we eventually depend on it
[21:24:57] <pcwalton> yes
[21:25:02] <strcat> it's not a decision based on ubiquity then
[21:25:13] <strcat> it's a decision based on constantly changing implementation details (what libstd uses)
[21:25:41] <rustguest> how to clone an lrucache?
[21:25:43] <pcwalton> there is no such thing as an objective definition of ubiquitous
[21:25:50] <strcat> pcwalton: so put the containers in one place
[21:25:54] <strcat> that's where people expect them imo
[21:25:56] <pcwalton> no
[21:26:01] <pcwalton> libstd should have some that are very common
[21:26:07] *** Quits: alexherbo2 (alexherbo2@moz-B6E5A02C.w90-3.abo.wanadoo.fr) (Quit: WeeChat 0.4.3-dev)
[21:26:09] *** kimundi is now known as zz_kimundi
[21:26:09] <strcat> why?
[21:26:15] <strcat> why wouldn't they all be in collections::* ?
[21:26:26] <pcwalton> it makes dependencies easier
[21:26:39] <pcwalton> I'd be ok with collections reexporting some, I guess
[21:27:08] <brson> strcat: design is an iterative process
[21:27:16] <brson> because it isn't ideal now doesn't mean we won't improve it
[21:27:18] <brson> it's not a disaster
[21:27:43] *** Joins: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net)
[21:27:57] <strcat> I think it was a solid step backwards
[21:28:08] <strcat> vectors are once against further from just being a normal collection
[21:28:12] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[21:28:13] <brson> strcat: what specifically is a solid step backwards?
[21:28:21] <strcat> arbitrarily splitting stuff
[21:28:21] *** Joins: p1start (rewi@moz-A082F561.adsl.xtra.co.nz)
[21:28:24] <strcat> it's hard to find and not logical
[21:28:35] <strcat> it's just exposing implementation details everywhere
[21:28:40] <brson> nobody is 'arbitrarily' splitting stuff. stop the hyperbole please
[21:28:47] <brson> rustguest: docs are here http://static.rust-lang.org/doc/master/collections/index.html
[21:28:51] <strcat> so there was reasoning behind the splitting?
[21:28:55] <strcat> what justifies something being in libstd then?
[21:28:56] <brson> rustguest: you can import with 'extern crate collections'
[21:29:13] <strcat> can't have non-arbitrary without a reasoning behind the split
[21:29:17] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[21:30:28] <o11c> strcat: IMO libstd should contain only things that are directly tied to the language ... Operator overloading, tasks, vectors, strings, tuples
[21:30:30] <brson> strcat: here is the pr for creating libcollections https://github.com/mozilla/rust/pull/12010
[21:30:37] <strcat> o11c: those aren't directly tied to the language
[21:31:09] <o11c> strcat: okay, then we don't need libstd at all
[21:31:35] <strcat> o11c: crates need to be a tree
[21:31:50] <strcat> well, a DAG
[21:32:02] <o11c> I don't see the problem
[21:32:26] *** Joins: pauls (pauls@moz-BFEF1F22.ccs.neu.edu)
[21:32:30] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[21:32:51] <strcat> o11c: a uses b, b uses a, has to be in the same crate
[21:33:00] <eddyb> strcat: that directionality can be frustrating :(
[21:33:02] <strcat> implementation detail changes -> crate hierarchy changes
[21:33:06] *** Joins: FlyingFoX (quassel@moz-8F529370.weh.rwth-aachen.de)
[21:33:18] *** Quits: evanm (evanm@636AC086.5999CED5.71743E61.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[21:33:20] <strcat> which is a public API change, unless you have a mess of re-exports
[21:33:27] <o11c> strcat: any problem can be solved by adding another layer of abstraction
[21:33:53] <strcat> sure, do it internally
[21:33:55] <strcat> don't change the API
[21:33:56] <o11c> every public interface of a library should probably be reexported
[21:34:02] <strcat> re-exports change the API
[21:34:05] <strcat> does not help make rust simpler
[21:34:56] <eddyb> make all containers in libstd priv and re-export them in libcollections?
[21:35:00] <eddyb> can we even do that?
[21:35:38] <eddyb> re-exports only change the ABI, don't they?
[21:35:40] *** Quits: ambimorph (amber@moz-B3FBDFCE.hlrn.qwest.net) (Ping timeout)
[21:35:58] *** Joins: alexherbo2 (alexherbo2@moz-B6E5A02C.w90-3.abo.wanadoo.fr)
[21:37:00] *** Joins: heftig (heftig@moz-79D2E43C.dip0.t-ipconnect.de)
[21:39:31] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[21:40:00] *** Joins: nszceta (hax@moz-E458A7C0.pharm.pitt.edu)
[21:40:03] *** Joins: herrwolfe45 (user@CACBD77F.4EBBBE62.C082B7DC.IP)
[21:41:19] <pcwalton> collections was a solid step forwards from libextra
[21:41:20] *** Parts: herrwolfe45 (user@CACBD77F.4EBBBE62.C082B7DC.IP) (ERC Version 5.3 (IRC client for Emacs))
[21:41:23] <pcwalton> which was a random hodgepodge of things
[21:41:42] *** Joins: tjc (tjc@moz-5335BC44.phlapa.fios.verizon.net)
[21:41:42] *** ChanServ sets mode: +o tjc
[21:41:46] <o11c> but collections is such a long name
[21:41:48] <pcwalton> down to 145 errors
[21:41:55] <strcat> pcwalton: it moved hashmap out of libstd and enshrines vectors are not-normal-containers
[21:42:00] <strcat> so yes, it was a step forward in the API
[21:42:00] *** Quits: snerd (motk@moz-D21A06DF.members.linode.com) (Ping timeout)
[21:42:06] <strcat> but imo, now it is going to be stuck as sub-standard
[21:42:28] <strcat> once it is mostly okay, no one wants to change anything
[21:42:51] <pcwalton> I don't see why having hashmap and vector together in the same crate is an inviolable principle
[21:43:08] <strcat> because collections should be exported in the same place
[21:43:12] *** jorendorff is now known as jorendorff_away
[21:43:19] <doomlord_> hashmaps are quite fundemental these days
[21:43:21] <strcat> it's the official rust repo, there's no excuse for stuff not being under a proper hierarchy
[21:43:51] <pcwalton> I think having, say, AA trees being in a separate crate from vectors is reasonable, due to one being far more commonly used than the other
[21:44:06] <pcwalton> if we accept that, then it's just a question of where we draw the line
[21:44:26] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[21:44:51] <strcat> if a collection is deemed important enough to ship with rust, it should be in a collections module
[21:45:10] <strcat> it's not like this stuff results in any machine code being output, it's all generic
[21:45:33] *** Joins: alkino_ (alkino@moz-F4D3BCB1.w92-151.abo.wanadoo.fr)
[21:46:17] <pcwalton> I don't think I agree… if we thought that say, patricia trees were important enough to ship with rust, but didn't want to burden the commonly-used crates with that metadata and documentation, then it would make sense to split them out
[21:46:43] <strcat> pcwalton: it doesn't burden them
[21:46:53] *** Quits: sbalmos (quassel@CA5677B6.576D0C1.ED2EFC1B.IP) (Client exited)
[21:47:01] <strcat> they would be in a collections module
[21:47:23] <strcat> foo::common_collections foo::uncommon_collections foo::rarely_used_collections doesn't make sense to me
[21:47:41] <strcat> they should just be in one place
[21:47:51] <strcat> whether they are separate crates shouldn't be a user-visible thing
[21:48:06] <pcwalton> it makes sense to me (although 'common' may well be 'std')
[21:49:01] <Earnestly> What about something like Haskell's Text., Data., System., etc.
[21:49:13] <strcat> Earnestly: that is what I'm saying
[21:49:18] <Earnestly> Oh
[21:49:22] <strcat> hierarchy based on what stuff is
[21:49:53] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[21:50:06] <Earnestly> It's quite a nice system
[21:50:17] <Earnestly> "extra" doesn't really yeild any meaning to me
[21:51:08] <Earnestly> If you want, say, hashmaps, `use Data.HashMap`, vs. `use extra` (wat?)
[21:51:29] <strcat> std::container::Map, std::Vec, collections::HashMap is the current design
[21:51:40] <pcwalton> it looks like in Haskell packages can inject things into arbitrary namespaces
[21:51:43] <pcwalton> so it's difference
[21:51:43] <strcat> std::vec::Vec *
[21:51:45] <pcwalton> different*
[21:51:53] *** Quits: sawrubh (uid6719@moz-5F4AA75A.irccloud.com) (Quit: Connection closed for inactivity)
[21:52:01] <pcwalton> e.g. the "containers" package defines Data.Graph
[21:52:12] <pcwalton> but "base" defines a bunch of other Data. stuff
[21:52:33] <strcat> it's all in the official rust repo
[21:52:39] <Earnestly> Much like haskell's Prelude importing a bunch of "useful" modules
[21:52:42] <strcat> people looking at the language (me) won't accept that as an excuse
[21:52:42] *** Joins: fyolnish (fyolnish@moz-C922A814.uqwimax.jp)
[21:52:45] <Earnestly> From other modules
[21:52:47] <strcat> because it's fully under the control of one repo
[21:53:24] <strcat> std::vec::Vec, containers::SmallVec
[21:53:43] <Earnestly> huh, why isn't it std::vec:SmallVec?
[21:53:52] <Earnestly> If it's a 'vec'
[21:53:52] <strcat> because it's not common
[21:54:00] <doomlord_> the pain of trying to categorize things in a heirachy :)
[21:54:01] <strcat> containers::HashMap, unless ofc lets say local storage or gc uses it, then it's std::hashmap::HashMap
[21:54:18] *** Quits: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com) (Ping timeout)
[21:54:22] *** Quits: fyolnish (fyolnish@moz-C922A814.uqwimax.jp) (Ping timeout)
[21:54:24] <strcat> if users see containers in libstd, they're not going to look for libcollections
[21:54:36] <pcwalton> yes, they will
[21:54:50] <pcwalton> that's what I would do if I looked for a container that I didn't have immediately available
[21:54:56] <strcat> people already ask if rust has X that's not in libstd all the time
[21:54:56] <pcwalton> I would go look for a module called collections or containers
[21:55:06] <pcwalton> they'll always ask that
[21:55:08] <eddyb> do we have any NDK wrapper?
[21:55:22] <strcat> pcwalton: because unlike other languages, the official repo doesn't consider some of the libs the stdlib
[21:55:37] <pcwalton> that's because we make an effort to keep libstd small
[21:55:41] <strcat> s/std/base/ then
[21:55:45] <o11c> eh .... I remember whaen I was a beginning programmer I didn't think of using anything but builtin arrays
[21:55:58] <strcat> pcwalton: I wouldn't call it small anyway
[21:56:18] <Earnestly> Why does size matter, might I ask?
[21:56:33] <Earnestly> Are there performance implications that I'm ignorant of?
[21:56:39] <o11c> Earnestly: Java
[21:56:52] <Earnestly> Yes?
[21:57:03] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[21:57:10] <pcwalton> you always complain that libstd is "bloated" and now you are implying that we shouldn't bother trying to shrink it down by moving collections out of it
[21:57:26] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[21:57:33] *** Quits: jackneill (jackneill@moz-359AD695.pool.digikabel.hu) (Ping timeout)
[21:57:43] <strcat> pcwalton: libcollections doesn't get injected into code not using it
[21:57:56] *** Joins: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com)
[21:57:57] <strcat> I don't get a 2MiB binary because hashmaps were in std
[21:58:02] *** Quits: Rusky (russell@moz-173BA32C.slkc.qwest.net) (Ping timeout)
[21:58:02] *** Quits: lawrence_ (lawrence@8347BF4B.82E51AEF.B2BF1FD2.IP) (Ping timeout)
[21:58:20] <o11c> strcat: of course, that could be taken as a downside, because people will refuse to use the correct container because it would require pulling in another lib ...
[21:58:51] <strcat> o11c: I'm saying that when the containers were in libstd (HashMap, HashSet, TrieMap, TrieSet) they didn't bloat code
[21:59:02] <pcwalton> actually, hash maps did increase binary size because libstd was using it for other things when it didn't need to
[21:59:06] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[21:59:10] <strcat> bloat == things that aren't pay-for-what-you-use
[21:59:13] *** Joins: uzi_mantis (iz@moz-4379EE65.hsd1.va.comcast.net)
[21:59:19] <doomlord_> aren't containers all generics/templates ?
[21:59:21] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[21:59:23] <pcwalton> moving it to collections got it to stop doing that
[21:59:48] <Earnestly> Why was libstd using something it didn't need to?
[21:59:48] *** Joins: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP)
[22:00:02] *** Quits: p1start (rewi@moz-A082F561.adsl.xtra.co.nz) (Client exited)
[22:00:06] <pcwalton> because of old code that needed to be simplified… which it was :)
[22:00:11] <uzi_mantis> hey guys, i'm wondering what the difference is between a byte index and an ordinary index when dealing with strings
[22:00:21] <uzi_mantis> shouldn't they be the same since a char is just a byte?
[22:00:22] <Earnestly> And that's a real for sepere… this is confusing
[22:00:22] *** Quits: Kruppe (user@moz-253119B0.esg.uwaterloo.ca) (Ping timeout)
[22:00:44] <uzi_mantis> so str[0] would be byte 0, str[1] would be byte 1, etc.
[22:01:13] <pcwalton> anyway, I think our only real option is to reexport vec_ng in collections
[22:01:18] <pcwalton> and make it private in std
[22:01:20] <pcwalton> or something like that
[22:01:24] <strcat> pcwalton: I am okay with that
[22:01:25] <pcwalton> since I think std has to use vec_ng
[22:01:28] <strcat> as long as it's private somehow
[22:01:41] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[22:01:44] <strcat> I am 100% okay with secretly using them in libstd
[22:01:52] <strcat> I just really hate having the API split based on an implementation detail
[22:01:56] <mcpherrin> uzi_mantis: Characters aren't always 1 byte, so the 2nd character could be at byte 4
[22:02:12] <mcpherrin> uzi_mantis: Strs are utf-8 encoded
[22:02:42] <uzi_mantis> i see, alright -- thanks mcpherrin
[22:02:52] <strcat> byte-based indexing overloads should probably not be exposed
[22:02:59] *** Joins: lawrence (lawrence@8347BF4B.82E51AEF.B2BF1FD2.IP)
[22:03:16] <eddyb> strcat: it's not on overload, actually
[22:03:25] *** jdm|away is now known as jdm
[22:03:26] <strcat> from an API perspective it's an overload
[22:03:36] <strcat> I know the compiler implements it
[22:03:39] *** Joins: evanm (evanm@636AC086.5999CED5.71743E61.IP)
[22:03:41] *** Quits: bjustin (bjustin@moz-8FC28563.sierrabravo.net) (Quit: Textual IRC Client: www.textualapp.com)
[22:03:46] <eddyb> I think ty::index and trans::expr handle it
[22:03:58] <eddyb> could just remove it from ty::index and see what happens :D
[22:04:05] <strcat> 1 + 2, 1.5 + 2 and 1.5 + 2.5 in C is overloading, it's just compiled defined overloading
[22:04:10] *** Joins: p1start (rewi@moz-A082F561.adsl.xtra.co.nz)
[22:04:28] <strcat> eddyb: well the issue is that it's nearly never correct
[22:04:37] <strcat> if you want to be indexing by byte, you probably want byte vectors
[22:04:47] *** Quits: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP) (Ping timeout)
[22:04:55] <eddyb> (but don't forget to remove it from trans, because I came across newtype struct/enum dereferencing code in trans::expr...)
[22:04:57] *** Quits: steveno (steveno@moz-2B2BE86F.hsd1.pa.comcast.net) (Ping timeout)
[22:05:40] *** Joins: orospakr (orospakr@moz-4514BEF2.cpe.teksavvy.com)
[22:05:54] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[22:06:00] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[22:06:04] *** Quits: orospakr (orospakr@moz-4514BEF2.cpe.teksavvy.com) (Client exited)
[22:06:05] <eddyb> strcat: btw, I know how to fix the ~"foo" vs ~("foo") / box "foo" problem
[22:06:13] *** Joins: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[22:06:23] <eddyb> so we might only have to keep string literals in the language, but not the type
[22:06:26] <strcat> eddyb: well the current ~str will go away with ~[T]
[22:06:36] <eddyb> right
[22:06:54] <eddyb> #[lang="str"] struct str { priv bytes: [u8] }
[22:06:58] <strcat> well that 'solves' it, doesn't it? :P
[22:07:05] *** Joins: orospakr (orospakr@moz-4514BEF2.cpe.teksavvy.com)
[22:07:05] <strcat> ~"foo" just won't exist
[22:07:13] *** Quits: orospakr (orospakr@moz-4514BEF2.cpe.teksavvy.com) (Client exited)
[22:07:17] <eddyb> I mean creating Pointer<str>
[22:07:18] <sp3d> in favor of "foo".to_owned()?
[22:07:44] <eddyb> something like impl Box<str> for &'static str
[22:07:44] *** Quits: evanm (evanm@636AC086.5999CED5.71743E61.IP) (Connection reset by peer)
[22:07:55] *** Joins: evanm (evanm@636AC086.5999CED5.71743E61.IP)
[22:08:05] <eddyb> well, no, sorry
[22:08:20] <eddyb> impl Box<&'static str> for Pointer<str>
[22:08:33] <eddyb> which wouldn't conflict with impl<T> Box<T> for Pointer<T>, where T is sized
[22:08:54] <eddyb> it would mean every smart pointer needs special string support
[22:09:14] <eddyb> alternatively, nmatsakis wants to give in and just add str/N to the language
[22:09:21] <eddyb> but then we have to keep str built-in
[22:09:55] <eddyb> I'm guessing constants become &'static str/N
[22:10:27] <eddyb> so you can dereference them
[22:10:31] <eddyb> box *"foo"
[22:11:47] <eddyb> alternatively... make "foo" something like *(&'static ['f' as u8, 'o' as u8, 'o' as u8] as &'static str/3)
[22:11:54] *** Quits: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net) (Input/output error)
[22:12:03] *** Quits: Savago (Savago@E64C9DF9.E820043D.D4C04133.IP) (Quit: Savago)
[22:12:20] <eddyb> being a dereference, it's an lvalue, so there's no copying overhead, if you do it right
[22:12:31] <brson> TheHydroImpulse: I think we need to fix one more thing on https://github.com/mozilla/rust/pull/12538#issuecomment-36399780
[22:12:43] <eddyb> and &"foo" becomes &'static str/3
[22:12:45] <Jemaclus> ok, do your worst: https://github.com/brianseitel/rust-rosetta/blob/master/run_length.rs
[22:13:04] <eddyb> which means you really need to implement auto-ref for constants =))
[22:13:07] <eddyb> nmatsakis: ^^^
[22:14:23] *** Joins: Rusky (russell@moz-173BA32C.slkc.qwest.net)
[22:14:27] <photex> have any emacs users here considered building a company-mode extension for Rust?
[22:14:32] <photex> flycheck has been working great
[22:14:51] <photex> I'm wondering if it's much work to add some basic "intellisense" to emacs
[22:15:03] <TheHydroImpulse> brson ahh, Sounds good. I'll fix that.
[22:15:04] <brson> not sure how niko's RFC made it to hn, but here's an upvote opportunity https://news.ycombinator.com/
[22:15:06] <photex> the clang support in company-mode works pretty well
[22:16:09] <TheHydroImpulse> brson I had already gone through the shebang parser and added the necessary code to skip inner attributes, so I'll just commit that change too
[22:16:29] <TheHydroImpulse> skip inner attributes from being though as shebangs
[22:17:08] <TheHydroImpulse> skip inner attributes from being parsed as shebangs
[22:18:19] <strcat> photex: libclang was designed to do partial parsing/type-checking and support tooling, librustc wasn't
[22:18:29] <strcat> supporting it is a major project
[22:18:37] <photex> ah ok then
[22:18:37] <rustguest> Can anyone point me to an example of using a Semaphore?
[22:18:52] <brson> rustguest: semaphore's are very uncommon in rust
[22:18:58] <brson> like, probably there is nobody using one
[22:19:11] <rustguest> cool thanks
[22:19:17] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Client exited)
[22:19:19] <brson> rustguest: you're best bet is probably the Semaphore test cases
[22:19:27] <photex> I haven't found that just using the docs is somehow a problem strcat, but I was curious if it's just a matter of spending a bit of time to hack something together
[22:19:36] <strcat> we don't actually have a binding to native semaphores anyway, it looks like it was just used to build the old mutex/condvars
[22:19:38] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[22:19:57] <strcat> photex: well, it's a major undertaking to build support for it
[22:20:05] *** Joins: kvanb (kvanb@moz-984033DE.lnse5.win.bigpond.net.au)
[22:20:10] <brson> rustguest: https://github.com/mozilla/rust/blob/master/src/libsync/sync/mod.rs#L773
[22:20:19] <photex> I believe you :)
[22:20:29] <alan_andrade> strcat: are you going to attend to the doc hackathon ?
[22:20:35] <strcat> atm librustc hits an error and stops - each phase gets to assume the past phases were finished
[22:20:35] <rustguest> brson: Thanks alot!
[22:20:39] *** Quits: penguin_dan (dan_johnsi@6902762D.11B071D.FB9A45AF.IP) (Quit: Leaving)
[22:20:41] *** Joins: penguin_dan (dan_johnsi@6902762D.11B071D.FB9A45AF.IP)
[22:20:56] <strcat> so they were written with assumptions that aren't going to hold if you want autocomplete
[22:21:09] <strcat> for example type inference and type checking need to somewhat work without a complete parse
[22:21:20] <strcat> I think it would be *really* hard
[22:21:20] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[22:22:07] <photex> so does that mean, future integrations with IDEs and editors are going to be relying on tags of various degrees of quality?
[22:22:30] <strcat> well they can't use librustc for this specific feature atm
[22:22:55] <strcat> librustc can definitely build them whatever metadata they need for complete files
[22:23:00] *** Quits: penguin_dan (dan_johnsi@6902762D.11B071D.FB9A45AF.IP) (Quit: Leaving)
[22:23:04] <strcat> but it won't be able to help deal with an incomplete file
[22:23:07] <strcat> so if you do 
[22:23:08] <photex> or extract symbols from crates?
[22:23:11] <strcat> let x = foo(); x.<tab>
[22:23:19] <strcat> librustc isn't going to help at all with that ^
[22:23:36] <strcat> photex: it's well structured to give you any metadata for complete crates
[22:23:45] <strcat> the problem is the one you're asking for autocomplete in
[22:24:12] <photex> I understand
[22:24:22] <photex> I'm not entirely motivated to work on any of this
[22:24:23] <strcat> libclang can keep going after errors, it'll even guess names/types
[22:24:27] *** Quits: twi (Adium@BC1E56B6.55F3F843.839F6EC0.IP) (Quit: Leaving.)
[22:25:18] <strcat> type valeu instead of value -> it'll assume you meant value and keep going with that assumption (but give you a quickfix warning)
[22:25:27] *** Quits: jviereck (Adium@moz-FFAF58FE.dip0.t-ipconnect.de) (Quit: Leaving.)
[22:26:21] <strcat> you could use the hack of removing the current line
[22:26:31] <strcat> I don't think people would be very happy with it ;)
[22:26:34] <photex> it will be interesting to see what solutions appear in the future then given how complicated this sounds now
[22:26:38] <uzi_mantis> is there a way of converting a byte index to a string char index?
[22:27:18] *** Quits: Jemaclus (Jemaclus@4EEAB704.5843BA5A.D4E4C7A5.IP) (Client exited)
[22:27:24] <photex> iirc Slickedit builds tags based on regexes more or less
[22:27:49] <photex> and it had a pretty decent setup for providing completions
[22:27:56] <photex> didn't do any syntax checks though
[22:28:13] <strcat> if you have foo.<tab>, how will it get foo's type?
[22:28:34] <photex> it's basically parsing the file itself
[22:28:35] <strcat> it's a simpler question in C and C++
[22:28:48] <strcat> (well, at least C and C++03)
[22:28:52] *** Quits: amousset_ (amousset@moz-2E0A4DA6.minet.net) (Ping timeout)
[22:29:05] <photex> and I don't know how well it works with auto, or c++ lambdas
[22:29:12] <photex> haven't used it in years now
[22:29:55] <strcat> auto is just deduction from the RHS, rust has type inference from any constraints you put on it
[22:30:22] <strcat> let xs = ~[]; xs.push(5u8); xs.<tab> // should find all traits implemented for ~[u8] and list the methods here
[22:30:37] <pcwalton> 46 type errors left...
[22:31:04] <strcat> there aren't actually any non-trait methods on ~[T] so it's an especially annoying example
[22:31:11] <strcat> as you can't actually do anything without handling traits
[22:31:18] *** Joins: judder (maradukewa@A4DC519F.6379DA33.78E362FE.IP)
[22:31:23] *** Joins: jviereck (Adium@moz-FFAF58FE.dip0.t-ipconnect.de)
[22:31:27] <photex> what a rabbit hole
[22:31:30] <eddyb> http://www.viva64.com/en/b/0237/
[22:31:59] <strcat> imo rust presents a far bigger problem for auto-complete than C++, you are really going to need librustc
[22:32:11] *** Joins: hhhhhhhhhh (mike@moz-9E7F5CB.stcatz.ox.ac.uk)
[22:32:14] <strcat> can't just hack something mostly working together
[22:32:27] <pcwalton> … unless you want to handle C++ templates
[22:32:30] <hhhhhhhhhh> is it possible to do something like "impl Div< Vec, T : Num > for Vec { ..."
[22:32:37] <strcat> pcwalton: but those can't add methods
[22:32:41] <pcwalton> inside a template
[22:32:47] <hhhhhhhhhh> or even just `impl Div< Vec, f64 > for Vec { ...`
[22:33:01] <pcwalton> and your classes can be generated by a C++ template
[22:33:05] <pcwalton> or you can use C macros
[22:33:16] <strcat> pcwalton: but you just need to essentially grep for the type definition, and regexp out the method names
[22:33:27] <strcat> it can work 90% of the time just with hacks
[22:33:34] <strcat> (auto makes life harder)
[22:33:47] <pcwalton> hacks upon hacks upon hacks upon hacks
[22:33:50] <strcat> ofc now you'd just use libclang
[22:33:53] <eddyb> we need to make both libsyntax and librustc with with incremental changes
[22:33:59] <eddyb> *work with
[22:34:12] <Earnestly> pcwalton: It's the unix way™ :P
[22:34:14] <strcat> maybe I'm wrong but it sounds like a monumentally huge task
[22:34:15] <eddyb> otherwise it's just a minute spent until type checking completes
[22:34:28] <pcwalton> I think it is probably no worse than doing it properly for C++
[22:34:31] <eddyb> more if you want to get other data
[22:34:50] <strcat> pcwalton: I don't think it's a bigger task to do it *properly*, but libclang exists to do that for C++ ;)
[22:34:50] <eddyb> thought that's for librustc itself...
[22:35:07] <strcat> librustc needs to be able to keep going when functions don't type-check, etc.
[22:35:14] <strcat> missing braces, etc.
[22:35:53] <pcwalton> you can't even parse C++ without handling types and expanding templates
[22:36:04] <pcwalton> it is total hyperbole to claim that C++ is easier to write an auto completer for than Rust
[22:36:16] <strcat> pcwalton: I said a half working auto-completer, using regexp
[22:36:28] <pcwalton> I think that'd be pretty useless
[22:36:46] <strcat> but that's what basically all auto-complete (on OS X and Linux) was before libclang
[22:36:47] <o11c> I wrote a quick C++ parser that works "good enough"
[22:36:55] <strcat> and people swore by it
[22:36:55] <kalenedrael> you can make anything with anything as long as actually working is not one of its goals
[22:37:10] <strcat> I never found stuff like ctags to be useful
[22:37:13] <o11c> if you're willing to write halfway sane code in your codebase, it works
[22:38:01] <pcwalton> I think it's probably possible to do the same for Rust if you wanted to
[22:38:19] <doomlord_> Does HN type inference make autocomplete harder
[22:38:22] <pcwalton> C++ effectively has "extension methods" due to ADL
[22:38:23] *** Joins: mib_acpcm8 (Mibbit@moz-AA65C711.lns20.adl2.internode.on.net)
[22:38:28] <doomlord_> wheras C++'s type inference is more limited
[22:38:29] <pcwalton> the only difference is you can't invoke them via .
[22:39:15] <strcat> pcwalton: and auto-completion for those never worked before :P
[22:39:40] <pcwalton> so I don't see how a Rust autocompleter would be worse
[22:39:47] <pcwalton> it wouldn't show the methods that come from traits
[22:40:02] <strcat> because it doesn't just tell you the type on the LHS of a var declaration and then put all the methods in one place
[22:40:03] <pcwalton> but C++ wouldn't show the functions that come from ADL
[22:40:19] <strcat> pcwalton: you need to deal with 'impl<T: Foo> Bar for T {}', etc. just to get completion for our basic types
[22:40:47] <pcwalton> C++ doesn't even HAVE methods on basic types
[22:40:55] *** Joins: blaenk (blaenk@moz-3BBA0A11.lsanca.dsl-w.verizon.net)
[22:40:57] *** Joins: tgkokk (tgkokk@moz-5CF0FE99.home.otenet.gr)
[22:41:07] <strcat> pcwalton: it only ever mostly worked for methods and C style function resolution without using compiler libs, afaik
[22:41:29] <strcat> (or asking the compiler to output some horrific xml dump)
[22:42:59] *** Quits: hhhhhhhhhh (mike@moz-9E7F5CB.stcatz.ox.ac.uk) (Quit: WeeChat 0.4.3)
[22:43:55] <doomlord_> pcwalton, when you say "C++ has extention methods" due to ADL ... whats that
[22:44:00] <zwarich> C++ has the preprocessor, and parsing C++ is heavily intertwined with semantic analysis
[22:44:02] *** Joins: teosz (teosz@14885300.1934AA08.3EA6AAD8.IP)
[22:44:16] <zwarich> a good IDE for Rust seems like it would be a lot simpler
[22:44:31] *** Quits: q66 (q66@9AE11D99.4EA0AB2D.A574D365.IP) (Ping timeout)
[22:44:56] <doomlord_> complexity / userbase though
[22:45:02] <pcwalton> doomlord_: http://en.wikipedia.org/wiki/Argument-dependent_lookup
[22:45:02] <strcat> zwarich: in C++ you use libclang, it supports type checking, name resolution, etc. for partially complete files filled with errors
[22:45:12] <doomlord_> pcwalton, oh, just overloading?
[22:45:17] <strcat> zwarich: it's *not* easy to write a compiler lib doing that
[22:45:18] <doomlord_> (function overloading)
[22:45:18] <pcwalton> it's not just overloading
[22:45:37] <pcwalton> it's that scope is extremely complex in C++ compared to Rust
[22:46:11] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[22:46:14] <doomlord_> ok overloaded *functions* can be brought in unqualified.. i'd heard of that
[22:46:40] <doomlord_> i got excited by the claim "extention methods" .. i really wish C++ had them :)
[22:46:57] <pcwalton> argue with strcat, he seems opposed
[22:47:47] <strcat> didn't say that completing functions/methods 100% accurately if you are starting from scratch is easier
[22:48:14] <strcat> listing out a superset of all available methods for a local variable in most codebases is easy
[22:48:25] <strcat> which is what most C++ code completion does
[22:48:37] *** Quits: tgkokk (tgkokk@moz-5CF0FE99.home.otenet.gr) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[22:49:07] <strcat> but libclang exists so anyone writing editor support today would use libclang
[22:50:12] <pcwalton> 24 errors left...
[22:51:24] <eddyb> I wish we had DST already
[22:51:35] <eddyb> so we could impl Deref<[T]> for Vec<T>
[22:51:53] <eddyb> for slicing :P
[22:52:18] *** Joins: refold (gman@moz-42D68426.a258.priv.bahnhof.se)
[22:52:35] *** Quits: glaebhoer1 (glaebhoerl@moz-B5B88D72.catv.broadband.hu) (Ping timeout)
[22:52:41] *** Joins: fyolnish (fyolnish@moz-C922A814.uqwimax.jp)
[22:52:42] *** Joins: veinofstars (veinofstar@moz-73D1F383.nyc.res.rr.com)
[22:52:58] *** Quits: mib_acpcm8 (Mibbit@moz-AA65C711.lns20.adl2.internode.on.net) (Quit: http://www.mibbit.com ajax IRC Client)
[22:54:22] *** Quits: fyolnish (fyolnish@moz-C922A814.uqwimax.jp) (Ping timeout)
[22:54:35] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[22:55:05] *** Quits: judder (maradukewa@A4DC519F.6379DA33.78E362FE.IP) (Ping timeout)
[22:56:52] *** Parts: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (WeeChat 0.4.3)
[22:57:03] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[22:57:26] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[22:58:14] *** Quits: devbug (quassel@2D4E172D.4C8B6099.9B57EA59.IP) (Ping timeout)
[22:58:25] <eddyb> http://atom.io/ wha?
[22:58:28] *** Quits: dvo (dan@moz-C69D1C4F.as13285.net) (Ping timeout)
[22:59:06] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[22:59:15] *** Quits: dschatzberg (dschatzber@moz-668DB0D9.bu.edu) (Input/output error)
[22:59:21] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[22:59:52] *** Quits: evanm (evanm@636AC086.5999CED5.71743E61.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[23:00:58] *** Joins: arrrrrrrrr (arrrrrrrrr@moz-F6E80E81.dynamic.qsc.de)
[23:01:32] *** Quits: arrrrrrrrr (arrrrrrrrr@moz-F6E80E81.dynamic.qsc.de) (Quit: arrrrrrrrr)
[23:02:04] *** Joins: Krymise (Nietzsche@637D5A.95B74D68.6F4281DD.IP)
[23:02:59] *** Joins: amousset_ (amousset@6181009C.10715965.BCDF592F.IP)
[23:03:10] *** Quits: blaenk (blaenk@moz-3BBA0A11.lsanca.dsl-w.verizon.net) (Quit: Leaving)
[23:03:29] *** Joins: jdsanders (Adium@D073F53D.C41F93F.96556A09.IP)
[23:04:01] *** Joins: q66 (q66@9AE11D99.4EA0AB2D.A574D365.IP)
[23:04:08] *** Joins: MP2E (cray@moz-EB1E242D.lv.lv.cox.net)
[23:04:09] *** Quits: lawrence (lawrence@8347BF4B.82E51AEF.B2BF1FD2.IP) (Ping timeout)
[23:04:23] *** Joins: chromatic (chromatic@moz-28CBC7F4.hsd1.or.comcast.net)
[23:04:23] <eddyb> http://www.raspberrypi.org/archives/6299 bah, there's a bounty...
[23:04:27] <jdsanders> how do 64-bit types (u64, i64) work on 32-bit systems?
[23:04:27] <eddyb> and I don't have a Pi
[23:04:42] <eddyb> jdsanders: LLVM implements them
[23:04:54] <eddyb> most likely as {i32, i32}
[23:05:04] *** Quits: q66 (q66@9AE11D99.4EA0AB2D.A574D365.IP) (Quit: Leaving)
[23:05:50] <FreeFull> Likely to be slower on a 32-bit system compared to a 64-bit system though
[23:05:54] <jdsanders> gotcha, but passing a u64 to a c library that expects unsigned long won't work on a 32-bit system
[23:06:27] <FreeFull> jdsanders: unsigned long might actually still be 32-bit
[23:06:44] <jdsanders> yeah, seems like it's platform dependent, but often 32-bit
[23:06:52] <jdsanders> s/often/usually
[23:06:55] <jdsanders> just from googling
[23:07:25] *** Quits: saml (sam@moz-14C16814.cst.lightpath.net) (Quit: Leaving)
[23:07:40] <eddyb> short <= int <= long
[23:08:08] <jdsanders> cool, thanks!
[23:08:17] <eddyb> unsigned long is uintptr_t/size_t on most platforms
[23:08:45] *** Quits: Krymise (Nietzsche@637D5A.95B74D68.6F4281DD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[23:08:53] <tiffany> the C99 standard specifies that the size of long must be enough to contain a 32bit int
[23:08:53] *** Joins: Krymise (Nietzsche@637D5A.95B74D68.6F4281DD.IP)
[23:09:02] *** Quits: Krymise (Nietzsche@637D5A.95B74D68.6F4281DD.IP) (Client exited)
[23:09:28] <FreeFull> Then there is long long
[23:09:59] <FreeFull> Although if you want to have minimum size guarantees, you'd use something like int64_t
[23:10:13] <tiffany> yeah
[23:10:33] <FreeFull> Or uint64_t
[23:10:50] <FreeFull> I don't know if those would actually be available for a 32-bit system though
[23:12:01] *** Joins: luniv (textual@35A6D713.28909DC9.B7FCEB19.IP)
[23:12:26] <eddyb> FreeFull: they are
[23:13:37] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: Leaving)
[23:13:44] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[23:16:08] <FreeFull> eddyb: The C99 standard doesn't force, say, uint32_t to be there if the hardware doesn't support it
[23:16:18] *** Joins: amousset__ (amousset@6181009C.10715965.BCDF592F.IP)
[23:16:43] *** Quits: amousset_ (amousset@6181009C.10715965.BCDF592F.IP) (Ping timeout)
[23:17:02] *** Joins: tiffnya (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net)
[23:17:47] *** Quits: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net) (Ping timeout)
[23:17:54] <pcwalton> libsyntax built with all the ~[T] removed \o/
[23:18:03] <pcwalton> now onward to getting librustc to build with that change
[23:18:18] <ambro718> Where can I read about the libuv and socket support in Rust?
[23:19:06] <pcwalton>  57 files changed, 1406 insertions(+), 1213 deletions(-)
[23:19:08] <pcwalton> thus far
[23:19:29] *** Quits: spider-mario (spidermari@moz-81131DB6.fbx.proxad.net) (Input/output error)
[23:20:13] *** Quits: exobit_ (textual@moz-E06F46F0.corp.bitshelter.com) (Quit: )
[23:20:27] <eddyb> pcwalton: 4k or r-
[23:20:31] <pcwalton> heh
[23:21:01] <eddyb> come on, make me proud :P
[23:21:19] <pcwalton> a lot of this was written by a perl script
[23:21:29] <eddyb> (I know I didn't invent lawn mowing, but still...)
[23:21:30] <mcpherrin> why not a rust script :-o
[23:21:36] <mcpherrin> ;)
[23:21:37] <chromatic> If it was good enough for Haskell, why not Rust?
[23:21:37] <pcwalton> because I like regexes :)
[23:21:38] *** Quits: alkino_ (alkino@moz-F4D3BCB1.w92-151.abo.wanadoo.fr) (Ping timeout)
[23:21:39] <eddyb> because RSS is not a thing
[23:21:55] <pcwalton> it's very slow but it's a one-off thing
[23:22:00] <pcwalton> Parse::RecDescent
[23:22:11] *** Quits: teosz (teosz@14885300.1934AA08.3EA6AAD8.IP) (Quit: Lost terminal)
[23:22:43] <pcwalton> chromatic: did Haskell do some automated code rewriting with perl?
[23:22:57] *** Quits: wilmoore (wilmoore@moz-1248C037.mystrotv.com) (Ping timeout)
[23:23:02] <mcpherrin> It would be sweet if we had an ast-based rewriting tool
[23:23:03] <chromatic> There was one really nasty hairball of Perl in the compiler toolchain, but I forget what it did.
[23:23:08] <pcwalton> ah
[23:23:30] <jdm> mcpherrin: I started a really basic rust refactoring tool
[23:23:34] <FreeFull> pcwalton: Everything that currently outputs ~[T] will have to be changed to the new type, won't it?
[23:23:41] <mcpherrin> jdm: neat!
[23:23:42] *** Quits: eibwen (kvirc@moz-251C9023.dip0.t-ipconnect.de) (Ping timeout)
[23:23:44] <uzi_mantis> can a vector borrow a string?
[23:23:46] <jdm> got as far as some working semantic renaming
[23:23:53] <pcwalton> FreeFull: transitionally. but once DST lands ~[T] will be back
[23:24:04] <FreeFull> I see
[23:24:16] <pcwalton> rustc will bear the brunt of the pain
[23:24:22] <FreeFull> ~[T] will be back with a different implementation then?
[23:24:29] <mcpherrin> pcwalton: Do you have a sense of DST is days, weeks, months away?
[23:24:37] <pcwalton> not sure at this point
[23:24:37] <FreeFull> Too bad there isn't a way to avoid the pain, it seems
[23:24:47] <chromatic> pcwalton, found it: https://ghc.haskell.org/trac/ghc/browser/ghc/driver/split/ghc-split.lprl
[23:24:53] <pcwalton> I feel like this automated rewriting will the the most painful part of the transition
[23:25:01] <pcwalton> this semi-automated rewriting
[23:25:19] <uzi_mantis> i.e., if i declare "let vec: ~[&str] = ~[]" and immediately following declare "let str: ~str = ~"BLAHBLAH"" and try vec.push(str), it fails
[23:25:27] <uzi_mantis> why isn't the vector borrowing the owned string?
[23:25:57] <pcwalton> uzi_mantis: I think the type inferencer isn't quite smart enough to handle that case
[23:25:59] *** Joins: snerd (motk@moz-D21A06DF.members.linode.com)
[23:26:00] <uzi_mantis> the compiler tells me push() is expecting &str but is receiving ~str instead
[23:26:20] <uzi_mantis> ahh, alright
[23:26:22] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[23:27:21] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[23:28:18] *** jdm sets mode: -b AutomatedTester|AFK!*@*
[23:29:13] *** Quits: Ferreus (ferreus@moz-19B8B04C.lsn.wtnet.de) (Quit: WeeChat 0.4.3-dev)
[23:29:34] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[23:30:12] *** Quits: pcdummy (pcdummy@moz-CF4CA865.page4me.ch) (Ping timeout)
[23:31:15] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[23:31:25] *** Joins: pcdummy (pcdummy@moz-CF4CA865.page4me.ch)
[23:32:14] <FreeFull> pcwalton: So I shouldn't be switching my code away from ~[T], and instead just wait until it's back?
[23:32:18] <jdsanders> is it better to provide an implementation for ToStr, or for Show (or both)?
[23:32:34] <pcwalton> FreeFull: it's up to you if you'd like to do more work now or somewhat less work later
[23:33:09] <FreeFull> I don't tend to update the rust compiler very often anyway, just when I feel like working with Rust code
[23:34:59] *** Joins: AvianFlu_ (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com)
[23:35:03] *** flaper87 is now known as flaper87|afk
[23:35:33] *** Quits: AvianFlu_ (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com) (Quit: Leaving...)
[23:35:55] *** Joins: AvianFlu_ (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com)
[23:36:00] *** Quits: AvianFlu_ (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com) (Quit: Leaving...)
[23:36:00] <jdsanders> is it even possible to directly implement ToStr? I'm getting "error: conflicting implementations for trait `std::t_str::ToStr`" (I only have one defined) and "error: failed to find an implementation of trait std::fmt::Show"
[23:36:05] *** Quits: AvianFlu (AvianFlu@moz-31F97978.nyc.res.rr.com) (Ping timeout)
[23:37:32] *** Quits: jmmk (jmmk@moz-3BDBD2C0.hfc.comcastbusiness.net) (Ping timeout)
[23:37:52] *** Joins: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP)
[23:39:40] *** Joins: Jemaclus (Jemaclus@4EEAB704.5843BA5A.D4E4C7A5.IP)
[23:39:58] *** Joins: asmyers (quassel@moz-71754EDC.hsd1.md.comcast.net)
[23:40:02] <pcwalton> 239 type errors in librustc
[23:41:02] *** Joins: judder (maradukewa@A4DC519F.6379DA33.78E362FE.IP)
[23:42:50] <FreeFull> Good luck
[23:44:12] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[23:44:16] *** Quits: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com) (Ping timeout)
[23:44:39] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[23:44:48] <eddyb> jdsanders: implement/derive Show instead
[23:45:58] *** Quits: c-a (c-a@moz-DBDF8C81.cust.bluewin.ch) (Ping timeout)
[23:46:28] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[23:46:44] <Jemaclus> is there a better way to get the last character of a string besides: 	let mut last: char = input.chars().nth(0).unwrap(); 
[23:46:45] <Jemaclus> ?
[23:48:03] *** Joins: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net)
[23:48:09] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[23:49:07] *** Quits: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP) (Quit: http://quassel-irc.org - Chat comfortably. Anywhere.)
[23:50:13] *** Joins: Krymise (Nietzsche@moz-CA789EF5.nwrknj.fios.verizon.net)
[23:50:24] <mcpherrin> rusti: "abc".chars().last()
[23:50:26] -rusti- Some('c')
[23:50:45] <mcpherrin> Jemaclus: ^ ?
[23:50:54] <Jemaclus> er
[23:50:57] <Jemaclus> whoops, I mean the first one
[23:51:17] <ChrisMorgan> rusti: "abc".chars().next()
[23:51:17] <mcpherrin> rusti: "abc".char_at(0)
[23:51:20] -rusti- Some('a')
[23:51:20] -rusti- 'a'
[23:51:21] <jdsanders> eddyb: cool, thanks
[23:51:46] <mcpherrin> rusti: "".chars().next()
[23:51:48] -rusti- None
[23:51:48] <ChrisMorgan> (char_at assumes the string to be non-empty, while chars().next() doesn't.)
[23:52:00] <ChrisMorgan> rusti: "".char_at(0)
[23:52:02] -rusti- task '<main>' failed at 'index out of bounds: the len is 0 but the index is 0', <anon>:1
[23:52:02] -rusti- application terminated with error code 101
[23:52:15] <jdsanders> implementing Show is a bit more boilerplate-y in my case, I have a ~str already and I need to write it into the Formatter rather than just returning it
[23:52:41] *** Joins: fyolnish (fyolnish@moz-F0363580.uqwimax.jp)
[23:52:45] <jdsanders> but no biggie
[23:54:08] *** Joins: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com)
[23:54:11] <Jemaclus> ooh
[23:54:11] *** Quits: doomlord_ (servitor@moz-99BE89EC.range86-184.btcentralplus.com) (Ping timeout)
[23:54:14] <Jemaclus> nice
[23:54:18] <Jemaclus> ChrisMorgan: thanks
[23:54:20] <Jemaclus> mcpherrin: thanks
[23:54:22] *** Quits: fyolnish (fyolnish@moz-F0363580.uqwimax.jp) (Ping timeout)
[23:55:22] <mcpherrin> Jemaclus: oh, did you come to the most recent Rust meetup? I think you mentioned you were going to
[23:55:27] <mcpherrin> I'm not sure If I met you in person
[23:55:48] *** Quits: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com) (Ping timeout)
[23:55:52] *** Joins: marianoguerra (marianogue@moz-D80CB316.dip0.t-ipconnect.de)
[23:56:06] <Jemaclus> I did. We probably didn't meet. I'm pretty shy, so I didn't really talk to very many people.
[23:56:09] <Jemaclus> I had to leave after the 2nd talk, though
[23:56:11] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[23:56:33] <FreeFull> I wonder, with map_or's current argument order, if it would make more sense to have it be called or_map
[23:57:26] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[23:58:58] *** Joins: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com)
[23:58:59] *** Joins: doomlord_ (servitor@moz-99BE89EC.range86-184.btcentralplus.com)
[23:59:01] <Jemaclus> I did talk to another guy named Brian, a guy named Christian, and... I forgot the third guy's name.. I feel terrible.
[23:59:03] <Jemaclus> mcpherrin: it was fun, though.
[23:59:07] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[23:59:35] <brson> somebody awarded me my first open badge
