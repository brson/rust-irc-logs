[00:30:20] <cmr> Seldaek: pong
[00:31:02] <Seldaek> hoy
[00:31:38] <Seldaek> starting on pub uses
[00:31:47] <Seldaek> if my brain allows :p
[01:00:55] <Seldaek> cmr: why do SimpleImports have all this stuff? :)
[01:01:02] <Seldaek> e.g. {"fields":["os",{"lifetime":null,"name":"std::os","typarams":[]},4],"variant":"SimpleImport"}
[01:01:14] <Seldaek> not sure why there is "os", or lifetime, or typarams
[01:01:18] <Seldaek> and no idea what 4 means
[01:17:12] <Seldaek> eh well it seems to work the way I did it
[01:17:15] <Seldaek> so we'll see
[01:20:32] <Seldaek> http://seld.be/rustdoc/master/std/prelude/index.html
[01:22:02] <dbaupp> Seldaek: you're awesome! :D
[01:59:52] <Seldaek> cmr: I'd need a inner.fields[0].purity on FunctionItem (like closures have)
[02:00:04] <Seldaek> so  I can show unsafe functions
[02:11:43] <cmr> Hm, I'm surprised functions don't have a purity.
[02:12:55] <cmr> ugh build failure
[02:12:57] <cmr> why
[02:13:03] <cmr> Seldaek: I'll have new json for you tomorrow.
[02:13:09] <cmr> Also I'll make that function fix
[02:13:49] <cmr> Seldaek: do you need more information for linkable reexports?
[02:13:54] <cmr> or is it just NYI?
[02:14:27] <cmr> Seldaek: oh, that would be ExternMod
[02:14:36] <cmr> ExternMod(~str, Option<~str>, ~[Attribute], ast::NodeId),
[02:15:38] <cmr> I need to go pass out though.
[02:16:17] <Seldaek> ehh
[02:16:34] <Seldaek> I think I got it for the reexports
[02:17:03] <Seldaek> and ok cool if you can give that tomorrow
[02:17:09] <Seldaek> happy passing out then
[03:00:39] <Seldaek> cmr: oh crap, I opened pandora's box :p
[03:01:12] <Seldaek> what's a TraitBound impl?
[03:02:02] <Seldaek> I need to be very careful with the resolution of impl for_ fields
[03:02:11] <Seldaek> because otherwise impls are missing from the struct page
[08:58:01] *** Quits: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Quit: Leaving...)
[11:44:41] *** Joins: bjz (brendanzab@AE0B7388.B8C2BBC3.F4A11E52.IP)
[11:50:01] *** Joins: bjz_ (brendanzab@AE0B7388.B8C2BBC3.F4A11E52.IP)
[11:50:01] *** Quits: bjz (brendanzab@AE0B7388.B8C2BBC3.F4A11E52.IP) (Connection reset by peer)
[11:50:29] *** Quits: bjz_ (brendanzab@AE0B7388.B8C2BBC3.F4A11E52.IP) (Quit: Bye!)
[11:52:42] *** Joins: bjz (brendanzab@AE0B7388.B8C2BBC3.F4A11E52.IP)
[11:57:18] *** Quits: bjz (brendanzab@AE0B7388.B8C2BBC3.F4A11E52.IP) (Quit: Leaving...)
[13:46:56] *** Quits: dbaupp (Thunderbir@moz-EAA09AEF.lns20.syd7.internode.on.net) (Quit: dbaupp)
[13:47:57] *** Joins: dbaupp (Thunderbir@moz-EAA09AEF.lns20.syd7.internode.on.net)
[14:01:50] <cmr> Seldaek: TraitBound is like impl<T: Foo> ...
[14:01:53] <cmr> ...I think
[14:02:59] *** Joins: bjz (brendanzab@AE0B7388.B8C2BBC3.F4A11E52.IP)
[14:26:05] <Seldaek> cmr: ok.. but for example https://github.com/mozilla/rust/blob/master/src/libextra/crypto/cryptoutil.rs#L332
[14:26:30] <Seldaek> for T means it should appear on the FixedBuffer page right?
[14:27:04] <Seldaek> why is it done like that and not just "impl StandardPadding for FixedBuffer"?
[15:43:07] <Seldaek> the heck :)
[15:43:13] <Seldaek> https://github.com/mozilla/rust/blob/master/src/libextra/json.rs#L1238
[15:43:24] <Seldaek> you can impl for nothing?
[15:43:35] <Seldaek> should we list those too?
[16:33:05] <cmr> Seldaek: it's not nothing, it's the unit tuple.
[16:33:56] <Seldaek> yeah
[16:34:12] <cmr> As for impl <T: FixedBuffer> StandardPadding for T {
[16:34:17] <cmr> it's because you can't impl a trait for a trait.
[16:34:20] <cmr> for a trait object, yes.
[16:34:22] <cmr> but not for a trait
[16:34:25] <Seldaek> ah I see
[16:34:36] <Seldaek> didn't realize FixedBuffer was a trait too
[16:34:45] <cmr> well it has to be, it's a trait bound :P
[16:35:34] <Seldaek> ehh I suppose
[16:35:46] <cmr> you can't do <T: SomeStruct>
[16:35:49] <cmr> only traits
[16:36:03] <Seldaek> seems there is an impl for a Closure here
[16:36:08] <Seldaek> that's new
[16:36:11] <cmr> yup
[16:36:49] <cmr> You can also impl traits for functions, iirc
[16:36:57] <Seldaek> wtf
[16:37:19] <Seldaek> so we need impls pretty much everywhere
[16:37:44] <Seldaek> and what's impl for Closure, is it for closures in general or for a particular closures?
[16:37:48] <Seldaek> -s*
[16:40:03] <cmr> oh for Closure is something else, that'd have to be a struct or an enum
[16:41:51] <Seldaek> cmr: http://pastie.org/8268600
[16:42:02] <cmr> oh that Closures
[16:42:29] <Seldaek> yes, for_ has a closure in it
[16:42:40] <Seldaek> I really have no idea what to do with that :p
[16:42:57] <cmr> neither do I
[16:43:14] <Seldaek> but I'm starting to understand why the current docs just list a bunch of impls as a sort of source dump
[16:43:21] <Seldaek> because it's a real mess :)
[16:44:15] <cmr> cmr | trait Foo { fn bar() -> u64; } impl Foo for |x: uint| -> uint { fn bar() -> u64 { 42 } }
[16:44:17] <cmr>  -- | rusti: <anon>:5:52: 5:53 error: expected type, found token BINOP(OR)
[16:44:19] <cmr>  -- | rusti: <anon>:5         trait Foo { fn bar() -> u64; } impl Foo for |x: uint| -
[16:44:54] <Seldaek> that seems to be the source https://github.com/mozilla/rust/blob/master/src/libstd/str.rs#L228
[16:45:16] <Seldaek> I guess it's not the worst thing to ignore those for now
[16:45:24] <Seldaek> hopefully nobody notices :P
[18:27:47] <Seldaek> cmr: so I now extract most impls and I got them labeled as vec/int/uint/float/bool/.. 
[18:28:03] <Seldaek> but I'm not sure where to show them really
[18:28:28] <Seldaek> for those in std I could show them in std::vec|int|..
[18:28:50] <Seldaek> but those in extra I guess I can show them on the page of the module where they're declared
[18:29:06] <Seldaek> but I don't know if that's enough
[19:50:29] <cmr> Seldaek: I'd show them in the module they are declared
[19:50:36] <cmr> not really anyplace better to put them.
[19:50:52] <cmr> Building new json now!
[19:51:19] <Seldaek> yay
[19:55:46] <cmr> task <unnamed> failed at 'slice_chars: `begin` is beyond end of string', /home/cmr/hacking/rust/src/libstd/str.rs:1590
[19:55:50] <cmr> Well that's encouraging.
[20:01:52] <Seldaek> :)
[20:20:05] <Seldaek> cmr: also last json still had some /*!
[20:27:23] <cmr> Seldaek: alright, I'll fix that
[20:27:45] <cmr> I think the individual item pages should stay, but I also think that the module page should list every item.
[20:27:53] <cmr> like, fully as on every item page
[20:28:01] <cmr> ...although maybe not
[20:28:06] <cmr> the only reason I want that is to ctrl-f
[20:28:10] <cmr> but there's the site search
[20:30:34] <Seldaek> yeah I think we'd better improve the search
[20:48:41] <cmr> Seldaek: *.json.gz in http://octayn.net/benches/
[20:48:54] <cmr> Any other issues while I've got time?
[20:49:26] <Seldaek> let me update & rebuild
[20:56:21] <Seldaek> cmr: "source": "<std-macros>:274:12: 286:13",
[20:56:33] <Seldaek> what do I do with that? :)
[20:56:34] <cmr> hrm
[20:56:44] <cmr> can you give me the whole object?
[20:56:54] <Seldaek> it's linenoiseSetCompletionCallback
[20:57:00] <Seldaek> function
[20:57:09] <Seldaek> id 136514
[20:57:48] <cmr> ohhh
[20:57:53] <cmr> externfn!(fn linenoiseSetCompletionCallback(callback: extern "C" fn(*i8, *())))
[20:57:59] <cmr> Hrmph.
[20:58:12] <cmr> that's a good question
[20:58:34] <cmr> Just don't link them.
[20:58:43] <Seldaek> well, it should be a link still
[20:58:47] <cmr> Anything in angle brackets should be ignored.
[20:58:52] <cmr> Yeah, but it'd link to the macro definition :\
[20:58:53] <Seldaek> I mean.. no matter how it's defined, it's defined there
[20:59:01] <Seldaek> hm ok
[20:59:02] <cmr> in... a string in libsyntax
[21:04:52] <cmr> Anything in angle brackets is a pseudofile
[21:04:58] <cmr> Either generated from a string or stdin.
[21:07:17] <Seldaek> cmr: still /*! 
[21:07:36] <cmr> gah
[21:07:53] <cmr> Is it /*! followed by whitespace?
[21:11:41] <Seldaek> cmr: on mod clone
[21:11:45] <Seldaek>   /*! The Clone trait for types that cannot
[21:11:59] <cmr> oh
[21:12:11] <Seldaek> and mod condition has: Condition handling */
[21:12:29] <cmr> Yeah, I assume nobody is crazy enough to break the convention of having that shit on a newline.
[21:12:32] <cmr> *assumed
[21:12:38] <Seldaek> hehe
[21:13:35] <cmr> So I'm going to chalk that up to "doc bug" and not fix it.
[21:13:46] <cmr> because it's too much of a heuristic for my comfort.
[21:13:48] <Seldaek> what the hell is /*! anyway? 
[21:14:03] <cmr> Introduces a doc comment that applies to the parent item.
[21:14:10] <cmr> so you can have like /*! module documentation */
[21:14:12] <cmr> in mod.rs
[21:14:15] <Seldaek> I see
[21:14:21] <cmr> instead of doing /** module documentation */ in the crate file
[21:14:28] <Seldaek> makes sense
[21:27:30] <Seldaek> anyway I uploaded a new build http://seld.be/rustdoc/master/std/index.html
[21:27:39] <Seldaek> put the descriptions of everything in mod listings now
[21:28:54] <cmr> Very nice.
[21:30:40] *** Quits: bjz (brendanzab@AE0B7388.B8C2BBC3.F4A11E52.IP) (No route to host)
[21:32:14] <Seldaek> would be nicer without /*! ;)
[21:33:19] <cmr> I'll send a PR fixing the doc comments tonight
[21:35:12] <Seldaek> ah ok I misunderstood you before
[22:41:25] *** Joins: bjz (brendanzab@AE0B7388.B8C2BBC3.F4A11E52.IP)
