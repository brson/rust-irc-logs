[00:00:20] *** Joins: [squiddy] (squiddy@moz-67D2F7C0.dynamic.cablesurf.de)
[00:00:25] *** Quits: [squiddy] (squiddy@moz-67D2F7C0.dynamic.cablesurf.de) (Quit: [squiddy])
[00:04:19] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[00:04:42] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[00:06:27] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[00:06:36] *** jorendorff is now known as jorendorff_away
[00:07:38] *** Quits: lfox (lfox@moz-343B6F0C.nyc.biz.rr.com) (Quit: ZZZzzz…)
[00:19:48] *** Quits: mark_edward (quassel@moz-DCB0B750.lightspeed.cicril.sbcglobal.net) (Connection reset by peer)
[00:21:04] *** Quits: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org) (Ping timeout)
[00:23:34] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[00:27:00] *** Joins: brendan (brendaneic@AC76554C.5B712BE.287DB107.IP)
[00:27:06] *** Quits: dherman (dherman@9C2E78E6.8C982E60.292610BC.IP) (Quit: dherman)
[00:29:02] *** Quits: brendan (brendaneic@AC76554C.5B712BE.287DB107.IP) (Quit: brendan)
[00:31:42] *** Joins: Sgeo (quassel@moz-D0F30617.dyn.optonline.net)
[00:31:52] *** Quits: jdm (jdm@9C2E78E6.8C982E60.292610BC.IP) (Quit: Lost terminal)
[00:31:58] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[00:32:35] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[00:34:40] *** Joins: tautologico (iorek@33CCBB09.CFE755C8.C27E1635.IP)
[00:36:35] *** Quits: Sharp (Sharp@1710C26.8381A41.8725677B.IP) (Quit: Sharp)
[00:37:01] *** Quits: nsf (nsf@moz-EEF3238A.convex.ru) (Quit: WeeChat 0.4.2)
[00:37:16] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Quit: Leaving...)
[00:40:33] *** Quits: azakai (alon@moz-BBE3ABD.mv.mozilla.com) (Quit: Ex-Chat)
[00:40:40] *** Joins: azakai (alon@moz-BBE3ABD.mv.mozilla.com)
[00:42:00] *** Quits: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com) (Ping timeout)
[00:42:36] *** Quits: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net) (Client exited)
[00:42:55] *** Joins: brendan (brendaneic@AC76554C.5B712BE.287DB107.IP)
[00:43:39] *** Joins: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com)
[00:47:25] *** Quits: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net) (Ping timeout)
[00:50:09] *** Quits: anshin (anshin@CD85F10D.F21429E2.354459FA.IP) (Ping timeout)
[00:50:15] *** Joins: dherman (dherman@9C2E78E6.8C982E60.292610BC.IP)
[00:50:15] *** ChanServ sets mode: +ao dherman dherman
[00:50:49] *** Joins: jviereck (Adium@moz-CF8216D6.dip0.t-ipconnect.de)
[00:51:11] *** Quits: brendan (brendaneic@AC76554C.5B712BE.287DB107.IP) (Quit: brendan)
[00:54:00] *** Joins: sawrubh (uid6719@moz-5F4AA75A.irccloud.com)
[00:58:36] *** Joins: hjr3 (hradtke@1A0AE795.28A5F6C3.A2D40ED2.IP)
[00:59:51] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[01:01:26] *** Joins: Sharp (Sharp@1710C26.8381A41.8725677B.IP)
[01:02:01] *** Joins: tjc (tjc@moz-BBE3ABD.mv.mozilla.com)
[01:02:01] *** ChanServ sets mode: +o tjc
[01:03:43] *** Joins: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net)
[01:10:54] *** Quits: tjc (tjc@moz-BBE3ABD.mv.mozilla.com) (Quit: Places to go, people to annoy)
[01:12:49] *** Joins: Jesin (Jesin@moz-63C897DA.res.lehigh.edu)
[01:12:50] *** nrc|holiday is now known as nrc
[01:15:07] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[01:15:35] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[01:16:47] *** Quits: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com) (Ping timeout)
[01:17:09] *** Joins: alan (alan@32702EE8.939109B2.FB082A98.IP)
[01:17:18] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[01:17:50] *** Joins: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com)
[01:18:33] *** Joins: freezerburnv (freezerbur@moz-E25EEE31.washdc.fios.verizon.net)
[01:21:46] *** Quits: noam (noam@F6B530A7.720527A7.416762B.IP) (Connection reset by peer)
[01:22:53] *** Quits: dherman (dherman@9C2E78E6.8C982E60.292610BC.IP) (Quit: dherman)
[01:23:32] *** Quits: Kingsley (kingsley@9B172CBE.BEA5C56D.DF4B730F.IP) (Quit: Leaving.)
[01:24:37] *** Quits: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP) (Ping timeout)
[01:27:50] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[01:28:33] *** Quits: jviereck (Adium@moz-CF8216D6.dip0.t-ipconnect.de) (Quit: Leaving.)
[01:29:20] *** Quits: alisdair (textual@moz-2F3322CF.hsd1.tx.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[01:30:16] *** kimundi is now known as zz_kimundi
[01:33:32] *** Quits: tautologico (iorek@33CCBB09.CFE755C8.C27E1635.IP) (Quit: tautologico)
[01:33:35] *** Joins: mark_edward (quassel@moz-DCB0B750.lightspeed.cicril.sbcglobal.net)
[01:34:22] *** Quits: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com) (Quit: )
[01:34:56] *** Joins: Kingsley (kingsley@9B172CBE.BEA5C56D.DF4B730F.IP)
[01:39:38] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[01:40:45] *** Quits: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com) (Ping timeout)
[01:41:32] *** Quits: carllerche (carllerche@moz-2B516F15.hsd1.or.comcast.net) (Quit: carllerche)
[01:42:10] *** Joins: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com)
[01:42:16] *** Joins: tautologico (iorek@33CCBB09.CFE755C8.C27E1635.IP)
[01:44:28] *** Quits: mark_edward_ (quassel@moz-DCB0B750.lightspeed.cicril.sbcglobal.net) (Ping timeout)
[01:45:51] *** Quits: bholley (anonymous@moz-FCAF9AAB.hsd1.ca.comcast.net) (Quit: bholley)
[01:46:27] *** Joins: etw (john@moz-D871A25B.nyc.res.rr.com)
[01:47:35] *** Quits: boredomist (ruqs@8186917.CC8FA3EE.E3401B6E.IP) (Ping timeout)
[01:48:23] *** Quits: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com) (Ping timeout)
[01:50:21] *** Joins: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com)
[01:51:11] *** Quits: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Quit: Leaving...)
[01:52:14] *** Quits: tautologico (iorek@33CCBB09.CFE755C8.C27E1635.IP) (Quit: tautologico)
[01:53:15] *** Quits: Sharp (Sharp@1710C26.8381A41.8725677B.IP) (Quit: Sharp)
[01:54:54] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Quit: Leaving...)
[01:58:49] *** Joins: Ralith (ralith@moz-132F2FD4.sea.wa.customer.broadstripe.net)
[02:01:24] *** Quits: Kxepal (Miranda@moz-A25B204D.pppoe.mtu-net.ru) (Connection reset by peer)
[02:01:41] *** Joins: Kxepal (Miranda@moz-A25B204D.pppoe.mtu-net.ru)
[02:03:44] *** Joins: twocoat (twocoat@moz-F9806A3F.stny.res.rr.com)
[02:11:30] *** Quits: Ferreus (ferreus@moz-E3C9D41B.pools.arcor-ip.net) (Quit: WeeChat 0.4.2)
[02:14:15] *** Joins: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com)
[02:16:20] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[02:18:07] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[02:19:29] *** Joins: noam (noam@F6B530A7.720527A7.416762B.IP)
[02:23:49] *** Quits: japaric (japaric@38721D2D.1886426E.F29ED47E.IP) (Ping timeout)
[02:24:53] *** Joins: Sharp (Sharp@1710C26.8381A41.8725677B.IP)
[02:25:43] *** Joins: josh (josh@moz-6FB23C25.hvc.res.rr.com)
[02:26:03] *** Joins: japaric (japaric@38721D2D.1886426E.F29ED47E.IP)
[02:26:10] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[02:27:54] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[02:29:31] *** Joins: tautologico (iorek@33CCBB09.CFE755C8.C27E1635.IP)
[02:31:19] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[02:35:38] *** Quits: infynyxx (infynyxx@819A08.C8A03DBF.EB438161.IP) (Client exited)
[02:39:30] *** Quits: tautologico (iorek@33CCBB09.CFE755C8.C27E1635.IP) (Quit: tautologico)
[02:40:25] *** Quits: azakai (alon@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[02:42:25] *** Quits: hjr3 (hradtke@1A0AE795.28A5F6C3.A2D40ED2.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[02:47:00] *** Quits: jordyd (jordyd@moz-E086D89A.seg102.ucf.edu) (Ping timeout)
[02:47:41] *** Quits: alan (alan@32702EE8.939109B2.FB082A98.IP) (Quit: alan)
[02:50:08] <ChrisMorgan> I'm just about finished tidying up the TAGS rules to filter out external dependencies and tests and things that shouldn't get tags made for them. Now a question: should src/rustllvm have tags made for it?
[02:50:48] <ChrisMorgan> ({Pass,Rust}Wrapper.cpp produce 99 tags.)
[02:52:54] *** Joins: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP)
[02:58:12] *** Quits: Sharp (Sharp@1710C26.8381A41.8725677B.IP) (Quit: Sharp)
[02:58:52] *** Quits: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP) (Client exited)
[03:00:26] *** Joins: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP)
[03:10:12] *** Quits: jld (jld@moz-B94C75AD.xlerb.net) (Ping timeout)
[03:10:58] *** Joins: jld (jld@moz-B94C75AD.xlerb.net)
[03:11:33] *** Quits: fhahn (fhahn@moz-7924DB5C.vie.surfer.at) (Ping timeout)
[03:12:37] *** Quits: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com) (Quit: )
[03:13:10] <ChrisMorgan> r? https://github.com/mozilla/rust/pull/10508 (better tags)
[03:13:54] <cmr> ChrisMorgan: I didn't even know we made tags
[03:14:04] <ChrisMorgan> cmr: `make TAGS.vi`, it's fun!
[03:14:49] *** Quits: nkoep (nik@moz-BEC219B.pool.mediaways.net) (Client exited)
[03:15:11] <ChrisMorgan> Makes navigation around various things *so* much easier. Many things are then just a ^] away instead of needing to know the right place and manually open it...
[03:15:23] * cmr uses `ag` religiously
[03:16:49] <mcpherrin> cmr: Is it worth using? I've used ack & grep, but never bothered to try `ag`
[03:16:52] <ChrisMorgan> Tags are an even quicker way of navigating where they're suitable.
[03:17:04] <cmr> mcpherrin: it's faster than both
[03:17:06] <cmr> ChrisMorgan: for sure
[03:17:32] <mcpherrin> significantly?
[03:17:45] <mcpherrin> ack is alright except that it's slow
[03:17:50] <mcpherrin> and slow is the enemy
[03:17:57] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[03:18:48] <sfackler> ag is great
[03:18:48] *** Joins: fhahn (fhahn@moz-7924DB5C.vie.surfer.at)
[03:19:38] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[03:19:40] <cmr> mcpherrin: searching for 'foo' in all of my /usr/include takes 0.464s with ag, 21s with grep, and 14s with ack
[03:19:56] <mcpherrin> cmr: holy shit, i'm sold.
[03:20:11] <cmr> mcpherrin: it was designed for speed
[03:20:16] <cmr> the codebase is a mess, though
[03:20:27] <cmr> and the developer is busy with other things :(
[03:20:33] <cmr> he doesn't really pay attention to PRs etc
[03:20:38] <mcpherrin> Has anybody crosscompiled rust code onto MIPS?
[03:22:07] <mcpherrin> but ack has "ack --bar"
[03:22:14] *** Quits: maxiepoo_ (mnew@moz-6F50ADE.hsd1.il.comcast.net) (Client exited)
[03:22:16] <cmr> heh
[03:22:59] <ChrisMorgan> And ack --thp[as many more p's as you like]t
[03:23:50] <ChrisMorgan> (Note to any other grammarians among us: that apostrophe was entirely deliberate and entirely correct, as I hope you already know.)
[03:24:05] <mcpherrin> the [ on the other hand
[03:24:14] *** Joins: maxiepoo (Max@moz-6F50ADE.hsd1.il.comcast.net)
[03:24:25] <cmr> grammarians, pft
[03:25:07] * ChrisMorgan waits for someone to write `a` in Rust, with a command 50% shorter than ag!
[03:25:20] <Luqman> mcpherrin: presumbly the person who added the mips support :P
[03:25:50] <cmr> I have a rack full of sparc boxes here, before I graduate I want to port rust (and thus llvm) to them :p
[03:26:12] *** Joins: jordyd (jordyd@moz-29C7FBC5.seg46.ucf.edu)
[03:26:17] <mcpherrin> Luqman: haha okay
[03:26:32] *** Quits: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu) (Ping timeout)
[03:26:40] <mcpherrin> cmr: There are worse things to spend your time on
[03:27:00] <mcpherrin> Luqman: Oh btw I have a raspberry pi which is armhf up and running, but I can't get the gumstix to boot
[03:27:24] <mcpherrin> I'll probably need to figure out how to get it to netboot again so I can fix the filesystem
[03:28:36] <Luqman> oh right! that's how i tested this last time. with qemu and raspbian
[03:28:39] *** Quits: geoffhill (geoffhill@moz-738DC0DB.org) (Quit: )
[03:29:44] <mcpherrin> qemu on hfcs is probably faster than any of my tinyboxes anyways
[03:31:57] *** jorendorff_away is now known as jorendorff
[03:37:02] *** Joins: Sharp (Sharp@1710C26.8381A41.8725677B.IP)
[03:37:35] *** Quits: zz_kimundi (kimundi@moz-31504FA9.dip0.t-ipconnect.de) (Ping timeout)
[03:38:46] * dbaupp just uses 'git grep'
[03:39:16] *** Quits: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net) (Ping timeout)
[03:40:10] *** Joins: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net)
[03:40:55] *** Joins: zz_kimundi (kimundi@moz-8E17C911.dip0.t-ipconnect.de)
[03:40:59] <mcpherrin> dbaupp: that's great if your code is in git :P
[03:41:15] *** zz_kimundi is now known as kimundi
[03:44:36] *** Joins: bholley (anonymous@moz-FCAF9AAB.hsd1.ca.comcast.net)
[03:45:35] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Connection reset by peer)
[03:48:05] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[03:49:27] *** Quits: Sharp (Sharp@1710C26.8381A41.8725677B.IP) (Quit: Sharp)
[03:49:31] <dbaupp> mcpherrin: rust is :P
[03:54:57] *** Joins: Sharp (Sharp@1710C26.8381A41.8725677B.IP)
[03:55:29] *** Quits: bholley (anonymous@moz-FCAF9AAB.hsd1.ca.comcast.net) (Quit: bholley)
[03:56:29] *** Quits: Sharp (Sharp@1710C26.8381A41.8725677B.IP) (Quit: Sharp)
[03:56:51] *** Quits: etw (john@moz-D871A25B.nyc.res.rr.com) (Quit: etw)
[03:58:41] *** Joins: anshin (anshin@CD85F10D.F21429E2.354459FA.IP)
[04:00:47] *** Joins: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net)
[04:02:01] *** jorendorff is now known as jorendorff_away
[04:08:50] *** Quits: GeorgeH_ (George@moz-FB5F2302.hsd1.nj.comcast.net) (Connection reset by peer)
[04:14:51] *** Quits: twocoat (twocoat@moz-F9806A3F.stny.res.rr.com) (Client exited)
[04:16:42] *** Quits: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca) (Quit: Leaving.)
[04:17:48] *** Joins: engla_ (engla@moz-F64E1B0F.cust.bredbandsbolaget.se)
[04:18:37] *** Quits: engla (engla@moz-F64E1B0F.cust.bredbandsbolaget.se) (Ping timeout)
[04:18:47] <sam113101> any of you on google plus? or maybe a google+ page for rust?
[04:18:56] <cmr> sam113101: there's a google+ community for rust
[04:19:05] <sam113101> link me to it please
[04:19:17] <cmr> https://plus.google.com/communities/115152292505513839896
[04:19:23] <sam113101> thanks
[04:19:27] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[04:19:37] *** Quits: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net) (Ping timeout)
[04:21:10] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[04:21:32] *** Joins: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP)
[04:21:47] *** Quits: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP) (Client exited)
[04:22:58] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[04:23:21] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[04:23:21] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[04:24:42] *** Quits: josh (josh@moz-6FB23C25.hvc.res.rr.com) (Quit: josh)
[04:25:04] *** Joins: bholley (anonymous@moz-FCAF9AAB.hsd1.ca.comcast.net)
[04:39:28] *** Joins: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net)
[04:44:11] *** Joins: boredomist (ruqs@B16F530C.DC641F2C.BCAEBB33.IP)
[04:45:06] *** Joins: z0w0 (zack@moz-52D92E83.lnse2.cha.bigpond.net.au)
[04:46:22] *** Quits: freezerburnv (freezerbur@moz-E25EEE31.washdc.fios.verizon.net) (Quit: freezerburnv)
[04:46:51] *** Joins: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca)
[04:48:15] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Quit: Leaving...)
[04:55:47] *** Quits: ldlework (ldlework@6AEB83D1.B92A0FC.176AC772.IP) (Ping timeout)
[04:56:53] *** Quits: jj2baile (jon@moz-345B5EBA.csclub.uwaterloo.ca) (Quit: Lost terminal)
[04:57:14] <ChrisMorgan> What exactly is the situation with doc/po? A brief look suggests it's distinctly out of date and not automatically generated from the related md files.
[04:57:19] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[04:57:59] *** Joins: ldlework (ldlework@6AEB83D1.B92A0FC.176AC772.IP)
[05:00:17] *** Joins: Sharp (Sharp@1710C26.8381A41.8725677B.IP)
[05:01:27] <klutzy> doc/po translations are based on 0.8 doc
[05:01:42] <klutzy> at least japanese one is
[05:02:15] <klutzy> Also I think we have to establish some policy on translation if we will accept them later
[05:02:33] *** Joins: jj2baile (jon@moz-345B5EBA.csclub.uwaterloo.ca)
[05:02:56] <klutzy> what if translation is terrible so it is worse than nothing? I've experienced it on other projects
[05:03:06] <ChrisMorgan> If I'm changing rust.md—should I be adding things to po/rust.md.pot and po/ja/rust.md.po? When it involves line number changes should I update antiquated line numbers? &c.
[05:03:43] <klutzy> I guess .pot is already bitrotted
[05:03:48] <klutzy> or charrotted
[05:04:05] <ChrisMorgan> I see both good and bad things about using po for translating at a finer granularity than the entire file. Overall, I'm not sure which is the better route.
[05:05:03] <ChrisMorgan> The Japanese translation is using English identifiers in code. I think it should probably prefer Japanese identifiers.
[05:05:06] <klutzy> I think po is bad for documents
[05:06:06] <klutzy> my preference is to translate based on specific revision (and remember the hash), and update it later using git diff
[05:07:45] <klutzy> I have a plan of adding some docs on rust-kr using the method
[05:08:47] *** Quits: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP) (Quit: buildmaster reconfigured: bot disconnecting)
[05:09:34] *** Joins: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP)
[05:09:47] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[05:09:57] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Quit: Leaving...)
[05:10:59] *** Quits: lmandel (lmandel@moz-76CE9D51.cable.teksavvy.com) (Quit: lmandel)
[05:11:36] <ChrisMorgan> Hmm... native-language-keywords dialects of Rust. I hope a fairly small number of string literal changes in libsyntax (in parse and print) would be the only thing that would need modifying to get it to work?
[05:12:40] *** Quits: h0rrorvacui (h0rrorvacu@moz-5B34B08.sip.bhm.bellsouth.net) (Quit: ZQ)
[05:12:47] <ChrisMorgan> And ast_map in its *_to_str functions, by the look of it. Tut, tut: magic string literals duplicated in several locations rather than using constants.
[05:14:08] <ChrisMorgan> Then again, I believe those latter ones are only used for errors. That doesn't exclude them from needing translating too, of course.
[05:14:28] <dbaupp> how many other languages offer localised keywords?
[05:14:43] <dbaupp> (out of curiosity)
[05:15:03] *** Joins: yuriks_ (yuriks@DD48A7C8.D06AB739.748B6D8D.IP)
[05:15:03] <ChrisMorgan> I've come across a couple. The one that springs to mind immediately was a branch of Python in Chinese.
[05:15:32] *** Quits: japaric (japaric@38721D2D.1886426E.F29ED47E.IP) (Ping timeout)
[05:15:44] *** Quits: yuriks (yuriks@ECB1DF0D.88B480FC.748B6D8D.IP) (Ping timeout)
[05:16:02] <klutzy> http://baike.baidu.com/view/1718420.htm
[05:16:06] <klutzy> wow. chinese c++.
[05:16:07] <ChrisMorgan> That looks to be zhpy.
[05:16:26] <klutzy> https://en.wikipedia.org/wiki/Non-English-based_programming_languages
[05:16:48] *** Quits: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net) (Ping timeout)
[05:16:50] <ChrisMorgan> Of course, working with other libraries is going to be the tricky thing. But we do support full Unicode identifiers—that has been reckoned a feature worth having.
[05:17:07] *** Joins: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net)
[05:17:08] <cmr> I don't think localising the compiler is a good idea.
[05:17:13] *** Joins: pseudoku (quassel@5DA078A.82050EAB.C28326FD.IP)
[05:17:15] <cmr> The language, that is
[05:17:45] *** Quits: maxiepoo (Max@moz-6F50ADE.hsd1.il.comcast.net) (Quit: maxiepoo)
[05:18:11] <ChrisMorgan> cmr: do you mean the keywords and error messages?
[05:18:21] <pseudoku> Is there a way to write a string literal to be encoded as ascii rather than utf8?
[05:18:26] <cmr> ChrisMorgan: keywords specifically
[05:18:29] <dbaupp> pseudoku: "foo"
[05:18:31] <cmr> Error messages is fine
[05:18:32] <sp3d> ascii is a subset of utf8
[05:18:51] <dbaupp> pseudoku: unless you mean the std::ascii::Ascii type, specifically?
[05:19:19] <pseudoku> dbaupp: thanks, thats what i was i meant
[05:19:40] <klutzy> error message localization may be good, but it needs tons of reviews
[05:19:52] <cmr> yeah
[05:20:04] <cmr> programming is very precise
[05:20:10] <ChrisMorgan> I would certainly not suggest such a thing before 1.0!
[05:20:33] <klutzy> I have a real fatal case: someone half-translated svn, but he was not careful so didn't look where the message is used
[05:21:20] *** Joins: carter (carter@moz-F3C2A2D8.nycmny.fios.verizon.net)
[05:21:29] <klutzy> he translated "yes" and "no" which are used at: "Do you want to merge?"
[05:21:45] <klutzy> but "Type yes/no" was not translated
[05:21:54] <klutzy> so user got english message and had to type hangul
[05:22:36] *** Quits: Sharp (Sharp@1710C26.8381A41.8725677B.IP) (Quit: Sharp)
[05:23:08] *** Joins: japaric (japaric@71DF7B1A.51A03578.CBF5D49D.IP)
[05:24:03] <ChrisMorgan> pseudoku: `unsafe { (~"foo").into_ascii_nocheck() }` will produce a ~[Ascii] efficiently (ensure the string literal *is* ASCII, of course, or don't use the _nocheck function).
[05:24:28] <dbaupp> (and you can get a &[Ascii] using .to_ascii() on a "foo")
[05:24:42] <pseudoku> ChrisMorgan & dbaupp: thanks
[05:24:45] * dbaupp thinks that should be renamed to as_ascii
[05:24:51] *** Quits: Earnestly (earnest@38FE72A5.82423D8F.BFD1ABFD.IP) (Ping timeout)
[05:25:48] <ChrisMorgan> dbaupp: yes, it should. I had overlooked it because it *wasn't* named as_ascii.
[05:25:54] <ChrisMorgan> Thanks for fixing it ;-)
[05:26:24] <ChrisMorgan> pseudoku: again, if you're certain it's ASCII you can use the unsafe fn to_ascii_nocheck
[05:29:23] *** Quits: jeaye (Jeaye@moz-34FEF2BB.hsd1.ca.comcast.net) (Quit: zzz)
[05:32:54] <ChrisMorgan> dbaupp: are you going to fix s/to_ascii/as_ascii/?
[05:40:09] *** Quits: erickt (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[05:40:18] <dbaupp> ChrisMorgan: I can, but not immediately
[05:41:08] <ChrisMorgan> I'm not quite certain about it in the current structure, because of the `impl AsciiCast<Ascii> for char`, where it's returning a (scalar) char rather than a reference.
[05:41:21] *** Quits: DasIch (dasich@moz-5EDA591.de) (Ping timeout)
[05:41:35] *** Quits: pcdummy (pcdummy@moz-CF4CA865.page4me.ch) (Ping timeout)
[05:41:35] *** Quits: mixi (mixi@moz-DBD8904A.org) (Ping timeout)
[05:41:53] *** Quits: decoder (quassel@moz-D7023D7D.own-hero.net) (Ping timeout)
[05:43:01] *** Quits: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net) (Quit: Leaving)
[05:43:19] *** Quits: msch (msch@moz-DA0E34D4.clients.your-server.de) (Ping timeout)
[05:44:16] *** Quits: toshok (toshok@moz-43741342.cat) (Ping timeout)
[05:44:40] *** Quits: clonejo (clonejo@moz-190802EB.de) (Ping timeout)
[05:45:48] *** Joins: clonejo (clonejo@moz-190802EB.de)
[05:46:55] *** Joins: mixi (mixi@moz-DBD8904A.org)
[05:47:16] *** Joins: pcdummy (pcdummy@moz-CF4CA865.page4me.ch)
[05:47:38] *** Joins: decoder (quassel@moz-D7023D7D.own-hero.net)
[05:47:38] *** Joins: DasIch (dasich@moz-5EDA591.de)
[05:48:33] *** Joins: toshok (toshok@moz-43741342.cat)
[05:49:28] *** Joins: ktt3ja (Mibbit@moz-F40FE31.washdc.fios.verizon.net)
[05:50:44] *** Joins: msch (msch@moz-DA0E34D4.clients.your-server.de)
[05:50:46] <dbaupp> That should be fine, it's the same cost as an .as_. (The .as/.to/.into abstraction is leaky, e.g. .into_owned() on &str and @str)
[05:51:22] <ChrisMorgan> It's the name that I'm caring about more; now it's char.to_ascii(), then it would be char.as_ascii().
[05:51:45] <dbaupp> yes? the name was what I was addressing.
[05:52:20] <ChrisMorgan> My feeling is just that as_* should be yielding a reference.
[05:53:53] <ChrisMorgan> Oh no! http://buildbot.rust-lang.org/bors/bors.html -> 302 Moved Temporarily (tut, tut! Should be 503 Service Unavailable.) -> http://hardhat.mozilla.net/ -> refresh: 0;url=http://hardhat.mozilla.net/en-US/outages.html :-(
[05:54:34] <cmr> yikes, that page's branding is ancient
[05:55:02] *** Quits: RageOfThou (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP) (Ping timeout)
[05:55:23] * ChrisMorgan continues to be upset at the fact of people using 302 et al. when they mean 400- or 500-series statuses
[05:55:28] *** Joins: h0rrorvacui (h0rrorvacu@moz-5B34B08.sip.bhm.bellsouth.net)
[05:55:41] <ChrisMorgan> cmr: ancient? Can't be more than a couple of years, surely?
[05:56:05] *** Quits: bholley (anonymous@moz-FCAF9AAB.hsd1.ca.comcast.net) (Quit: bholley)
[05:56:21] <cmr> ChrisMorgan: That's like, one or two rebrands old ;P
[05:56:50] <ChrisMorgan> That was the styling used when Firefox 4 came out and for quite some time afterwards, I think.
[05:57:10] <cmr> Are you sure? Maybe it's just d.m.o that has been updated frequently..
[05:57:44] *** Joins: tautologico (iorek@33CCBB09.CFE755C8.C27E1635.IP)
[05:58:41] <ChrisMorgan> d.m.o, d=?
[05:58:56] <ChrisMorgan> developer?
[06:00:12] <ChrisMorgan> (If you'd called it MDN I'd have understood.)
[06:00:24] *** Joins: Sharp (Sharp@1710C26.8381A41.8725677B.IP)
[06:00:27] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Quit: Busying myself...)
[06:00:34] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[06:00:44] <cmr> developer.mozilla.org
[06:00:52] <cmr> sorry :(
[06:01:48] *** Joins: BizarreCake (BizarreCak@moz-361FE9B2.dynamic.barak-online.net)
[06:07:00] <mcpherrin> ChrisMorgan: pretty sure that's the 3.5 branding?
[06:07:06] <mcpherrin> I still have my 3.5 release CD around here somewhere....
[06:07:22] * ChrisMorgan thought that branding still stuck around for some time after 4.0
[06:07:56] *** Quits: anshin (anshin@CD85F10D.F21429E2.354459FA.IP) (Ping timeout)
[06:08:33] <mcpherrin> I don't remember :)
[06:12:29] <ChrisMorgan> Is the enum-struct-variant syntax of `enum X { Y { z: T } }` staying or going?
[06:12:43] <cmr> ChrisMorgan: probably staying, just needs to be fixed
[06:12:51] <ChrisMorgan> What's wrong with it?
[06:13:04] <cmr> pattern matching was broken with it iirc
[06:13:08] <cmr> there's an issue somewhere with the details
[06:15:39] <ChrisMorgan> Can't find it.
[06:17:58] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[06:19:15] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[06:20:36] *** Quits: fyolnish (fyolnish@moz-2BC3D6D2.uqwimax.jp) (Client exited)
[06:20:45] *** Quits: Benvie_ (brandon@5FD20F9A.53D07D95.EFF8B7BF.IP) (Quit: )
[06:21:03] <cmr> neither can I
[06:23:08] *** Quits: cubic (cubic@moz-80241A3A.mc.videotron.ca) (Quit: Leaving)
[06:23:19] *** Quits: canhtak (canhtak@moz-43EC0376.wl.t.ulaval.ca) (Quit: canhtak)
[06:26:56] *** Quits: jordyd (jordyd@moz-29C7FBC5.seg46.ucf.edu) (Ping timeout)
[06:28:36] <tautologico> std::rt::io was renamed?
[06:28:42] <cmr> to std::io, yes
[06:29:22] <tautologico> k thanks
[06:32:25] *** Quits: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com) (Ping timeout)
[06:33:40] *** Joins: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com)
[06:33:48] *** Quits: feduser (feduser@BAC54054.BC74D.799BF54A.IP) (Ping timeout)
[06:35:10] *** Quits: KindOne (KindOne@moz-51040339.dynamic.ip.windstream.net) (Ping timeout)
[06:39:13] *** Joins: KindOne (KindOne@moz-7CE379B2.dynamic.ip.windstream.net)
[06:40:14] *** Joins: feduser (feduser@BAC54054.BC74D.799BF54A.IP)
[06:44:31] *** Quits: tautologico (iorek@33CCBB09.CFE755C8.C27E1635.IP) (Quit: tautologico)
[06:45:20] *** Quits: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com) (Ping timeout)
[06:48:51] *** Joins: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com)
[06:55:47] *** Quits: KindOne (KindOne@moz-7CE379B2.dynamic.ip.windstream.net) (Ping timeout)
[06:58:03] *** Joins: alan (alan@moz-F8EE186F.lightspeed.snantx.sbcglobal.net)
[06:58:37] *** Quits: blank_name (blank_name@FAB53C88.7071B2C8.31EC03F3.IP) (Ping timeout)
[06:59:57] *** Joins: KindOne (KindOne@moz-317531E1.dynamic.ip.windstream.net)
[07:03:04] *** Joins: eddyb (eddy@336E3A7F.D51DAF03.FB866788.IP)
[07:03:20] *** Quits: eddyb9 (eddy@336E3A7F.D51DAF03.FB866788.IP) (Quit: Leaving)
[07:03:28] *** Joins: eddyb9 (eddy@336E3A7F.D51DAF03.FB866788.IP)
[07:04:06] *** Quits: alan (alan@moz-F8EE186F.lightspeed.snantx.sbcglobal.net) (Quit: alan)
[07:04:46] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Quit: Konversation terminated!)
[07:09:16] *** Joins: tikue_ (quassel@moz-FEADCD38.hsd1.pa.comcast.net)
[07:09:54] *** Quits: mitchty (mitchty@moz-9F527C8F.net) (Ping timeout)
[07:09:54] *** Quits: japaric (japaric@71DF7B1A.51A03578.CBF5D49D.IP) (Ping timeout)
[07:09:57] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[07:10:05] *** Joins: japaric (japaric@71DF7B1A.51A03578.CBF5D49D.IP)
[07:10:10] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[07:10:22] *** Quits: carter (carter@moz-F3C2A2D8.nycmny.fios.verizon.net) (Quit: Textual IRC Client: www.textualapp.com)
[07:10:28] *** Joins: mitchty (mitchty@moz-9F527C8F.net)
[07:10:29] *** Quits: tikue (quassel@moz-FEADCD38.hsd1.pa.comcast.net) (Ping timeout)
[07:10:30] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[07:10:34] *** Quits: dju (dju@moz-83BD5EC.dmz.me) (Ping timeout)
[07:11:00] *** Quits: SimonSapin (simon@moz-9A1FE870.exyr.org) (Ping timeout)
[07:11:00] *** Quits: yota (sdouche@moz-7D878FB8.securactive.net) (Ping timeout)
[07:11:26] *** Quits: sully (sully@moz-388398CC.leptoquark.net) (Ping timeout)
[07:12:24] *** Joins: dju (dju@moz-83BD5EC.dmz.me)
[07:12:48] *** Joins: yota (sdouche@moz-7D878FB8.securactive.net)
[07:12:51] *** Joins: SimonSapin (simon@moz-9A1FE870.exyr.org)
[07:14:46] *** Joins: sully (sully@moz-388398CC.leptoquark.net)
[07:16:17] *** Joins: lastdev (lastdev@moz-5A47DD8E.dyn.user.ono.com)
[07:18:32] <nielsle> rusti: use std::rc::{Rc,RcMut}; let x=RcMut::new(1); y.borrow().with_mut_borrow(|&mut val| val=3);
[07:18:33] -rusti- pastebinned 7 lines of output: http://sprunge.us/QARN
[07:18:51] <nielsle> Can you store an RcMut in an Rc?
[07:19:09] <cmr> nielsle: that's not going to work, you'll need to say `|val| *val=3`
[07:19:31] <sfackler> you should be able to stor it. You'll probably have to use Rc::from_send instead of Rc::new though
[07:19:38] <sfackler> *store
[07:19:41] <cmr> RcMut isn't Send
[07:20:22] <sfackler> then I you'll have to use new_unsafe or whatever it is
[07:20:25] <nielsle> Thanks. 
[07:20:38] <cmr> It's not safe at all though
[07:23:41] <nielsle> I thought that RcMut contained a lock, so it would automatically become safe. I should have a look in the code.
[07:25:11] <cmr> It doesn't lock
[07:25:22] <cmr> Or actually it might
[07:25:49] <cmr> http://static.rust-lang.org/doc/master/src/std/home/rustbuild/src/rust-buildbot/slave/doc/build/src/libstd/rc.rs.html#172-174
[07:25:51] <cmr> no lock
[07:25:55] <cmr> And it also doesn't need one
[07:26:05] <cmr> It's not Send, you can't have concurrent access on it.
[07:27:26] <eddyb9> maybe this could be linked somewhere - a wishlist on the wiki or something:
[07:27:27] <eddyb9> http://rosettacode.org/wiki/Reports:Tasks_not_implemented_in_Rust
[07:27:44] <cmr> Phew that's a lot
[07:27:56] *** Quits: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Ping timeout)
[07:27:58] <cmr> eddyb9: open an issue for it!
[07:27:59] <nielsle> Thanks. 
[07:28:07] <cmr> definitely a post-1.0 thing
[07:28:19] <cmr> we need a modicum of stability before such a thing becomes worthwhile.
[07:28:22] <eddyb9> cmr: oh, that'd be a good idea. I'm on the phone, though
[07:28:27] * cmr opens one
[07:28:33] <eddyb9> sure, don't want rewriting them all the time
[07:28:38] <eddyb9> cmr: thanks
[07:29:13] * eddyb9 wonders if they have a version sorted by approximated complexity
[07:29:37] *** Joins: dherman (dherman@DEF143E0.41051F7C.BBD3C053.IP)
[07:29:37] *** ChanServ sets mode: +ao dherman dherman
[07:29:47] <cmr> eddyb9: what's your gh username?
[07:30:56] <eddyb9> cmr: eddyb
[07:31:00] *** Quits: engla_ (engla@moz-F64E1B0F.cust.bredbandsbolaget.se) (Ping timeout)
[07:31:10] <eddyb9> the 9 here is from N900 :P
[07:31:29] <cmr> right
[07:31:41] <eddyb9> the existing code might need updates - http://rosettacode.org/wiki/Fibonacci_sequence#Rust
[07:31:52] <cmr> Personally I like solving the problems with iterators
[07:32:05] <cmr> https://github.com/cmr/rust-examples/tree/master/euler :P
[07:32:40] <cmr> I have never seen such a long fib impl
[07:33:40] <eddyb9> there's overflow-checked addition in std, AFAIK
[07:33:41] *** Joins: blaphmat (Mibbit@FC961F87.FE01CCA2.2662C207.IP)
[07:34:12] *** Quits: blaphmat (Mibbit@FC961F87.FE01CCA2.2662C207.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[07:35:01] <eddyb9> range(1, n).reduce((0, 1), |(a, b), _| {(b, a+b)});
[07:35:33] <eddyb9> not sure if that runs, but it's the functional iterative version :P
[07:36:14] <cmr> there is now, yes.
[07:37:18] <eddyb9> I like it because there is no (a, b) = (b, a+b) (cover grammar, etc.)
[07:37:44] <cmr> let (a, b) = (b, a+b) :P
[07:37:52] <eddyb9> won't work in a loop
[07:37:56] <cmr> true
[07:40:07] <eddyb9> wait...
[07:40:54] *** Joins: pcwalton (pcwalton@2FD4AFFD.41051F7C.BBD3C053.IP)
[07:40:55] *** ChanServ sets mode: +ao pcwalton pcwalton
[07:40:55] <eddyb9> rusti: let (a, b) = (1, 1); &(a, b) = (b, a+b); (a, b)
[07:41:09] <eddyb9> please?
[07:41:09] <sfackler> nielsle: if you want shared data in multiple tasks: you can use RwArc
[07:41:12] -rusti- <anon>:9:40: 9:48 error: mismatched types: expected `&(<VI0>,<VI1>)` but found `(<VI1>,<VI0>)` (expected &-ptr but found tuple)
[07:41:12] -rusti- <anon>:9          let (a, b) = (1, 1); &(a, b) = (b, a+b); (a, b)
[07:41:12] -rusti-                                                  ^~~~~~~~
[07:41:12] -rusti- error: aborting due to previous error
[07:41:12] -rusti- application terminated with error code 101
[07:41:30] <eddyb9> rusti: let (a, b) = (1, 1); &(a, b) = &(b, a+b); (a, b)
[07:41:30] *** Joins: fyolnish (fyolnish@moz-69EA04C.dynamic.ppp.asahi-net.or.jp)
[07:41:54] <eddyb9> pattern-matching is cool, but binding would be enough for this
[07:42:09] -rusti- pastebinned 4 lines of output: http://sprunge.us/BUbN
[07:42:13] <nielsle> sfackler: Thanks I will have a look at it.
[07:42:27] <cmr> heh
[07:42:44] <eddyb9> what about making a tuple of lvalues a lvalue?
[07:42:55] <cmr> ICE
[07:43:27] <eddyb9> saw that. 0.8 though
[07:43:39] <cmr> unlikely to have changed
[07:43:41] <cmr> not trans
[07:44:42] <eddyb9> rusti: let mut a = 1; let mut b = 1; *&(a, b) = (b, a+b); (a, b)
[07:44:42] -rusti- <anon>:9:39: 9:47 error: cannot assign to immutable dereference of & pointer
[07:44:42] -rusti- <anon>:9          let mut a = 1; let mut b = 1; *&(a, b) = (b, a+b); (a, b)
[07:44:42] -rusti-                                                 ^~~~~~~~
[07:44:43] -rusti- error: aborting due to previous error
[07:44:43] -rusti- application terminated with error code 101
[07:44:52] <eddyb9> rusti: let mut a = 1; let mut b = 1; *&mut(a, b) = (b, a+b); (a, b)
[07:44:53] -rusti- pastebinned 7 lines of output: http://sprunge.us/gBcF
[07:45:25] <eddyb9> lol
[07:45:52] <eddyb9> rusti: let mut a = 1; let mut b = 1; (*&mut a, *&mut b) = (b, a+b); (a, b)
[07:45:54] -rusti- pastebinned 4 lines of output: http://sprunge.us/ANFB
[07:46:24] <eddyb9> lvalues, pls
[07:47:20] <eddyb9> rusti: let mut a = 1; let mut b = 1; *&mut b = a+b; (a, b)
[07:47:20] -rusti- <anon>:9:17: 9:18 warning: variable does not need to be mutable [-W unused-mut (default)]
[07:47:20] -rusti- <anon>:9          let mut a = 1; let mut b = 1; *&mut b = a+b; (a, b)
[07:47:20] -rusti-                           ^
[07:47:21] -rusti- (1, 2)
[07:50:27] <cmr> I yearn for a rustfmt that will remove unused imports, unnecessary `mut`, useless privacy qualifiers, etc....
[07:52:05] <klutzy> lvalue tuple causes ICE on 0.8; it produces error on master
[07:52:32] <klutzy> relevant rfc: https://github.com/mozilla/rust/issues/10174
[07:54:17] <klutzy> some weeks ago I tried to implement it (a,b) = (c,d) worked as a=c; b=d; so (a,b) = (b,a) didn't work
[07:54:34] <klutzy> I didn't understand how trans phase works
[08:00:10] *** Joins: [squiddy] (squiddy@moz-67D2F7C0.dynamic.cablesurf.de)
[08:00:49] *** Quits: pcwalton (pcwalton@2FD4AFFD.41051F7C.BBD3C053.IP) (Quit: pcwalton)
[08:03:10] *** Quits: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net) (Ping timeout)
[08:03:32] *** Quits: victorporof (victorporo@FD3598E9.ED3BC0A9.9B1E38F4.IP) (Quit: victorporof)
[08:04:27] <eddyb9> klutzy: if (a, b) is a lvalue, then the assignment should work by itself
[08:05:19] <eddyb9> rusti: let mut a = 1; let mut b = 1; let mut xs = (a, b); xs = (b, a+b); xs
[08:05:24] -rusti- pastebinned 10 lines of output: http://sprunge.us/ZjXR
[08:06:05] <eddyb9> rusti: let mut a = 1; let mut b = 1; let mut xs = (*&a, *&b); xs = (b, a+b); xs
[08:06:08] -rusti- pastebinned 10 lines of output: http://sprunge.us/EAZS
[08:06:09] *** Joins: pcwalton (pcwalton@2FD4AFFD.41051F7C.BBD3C053.IP)
[08:06:09] *** ChanServ sets mode: +ao pcwalton pcwalton
[08:06:25] <cmr> *& is a noop
[08:06:31] *** Joins: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net)
[08:06:42] <eddyb9> cmr: but... lvalues... :(
[08:07:09] <eddyb9> why can't &a = b; work?
[08:07:30] *** Quits: pcwalton (pcwalton@2FD4AFFD.41051F7C.BBD3C053.IP) (Quit: pcwalton)
[08:07:45] *** Joins: nsf (nsf@moz-EEF3238A.convex.ru)
[08:07:49] <eddyb9> I mean, &mut a = b; (i.e. assign T to &mut T)
[08:08:16] <cmr> Uh, *a = b, is the same thing
[08:09:02] <eddyb9> but not for (&mut a, &mut b) = (b, a+b)
[08:09:26] <eddyb9> although, that might be plain impossible with pattern-matching
[08:09:43] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[08:10:14] <eddyb9> in which case, you could transform an expression into a pattern, by applying restrictions to both the expr and the resulting pattern
[08:10:38] <eddyb9> so you're using regular expressions as cover grammar
[08:11:00] <cmr> eddyb9: what does cover grammar mean, exactly? I've yet to find a definition
[08:11:29] *** Joins: pcwalton (pcwalton@2FD4AFFD.41051F7C.BBD3C053.IP)
[08:11:29] *** ChanServ sets mode: +ao pcwalton pcwalton
[08:11:32] <eddyb9> cmr: AFAIK, it's a generalized AST subset, that can be then transformed into one of a few forms
[08:11:38] *** Quits: pcwalton (pcwalton@2FD4AFFD.41051F7C.BBD3C053.IP) (Quit: pcwalton)
[08:11:41] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Connection reset by peer)
[08:11:42] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Connection reset by peer)
[08:11:45] *** Joins: Ms2ger (Ms2ger@AB9469A5.3CF91143.187A1082.IP)
[08:11:51] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:12:09] <eddyb9> cmr: and its associated grammar
[08:12:45] <cmr> So, ambiguity?
[08:13:15] <eddyb9> yeah, a later pass solves the ambiguity
[08:13:33] <eddyb9> rusti: let (a, b) = (0, 1); (ref a, ref b)
[08:13:35] -rusti- pastebinned 7 lines of output: http://sprunge.us/ILER
[08:14:00] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[08:14:20] <eddyb9> cmr: with cover, that won't be a syntax error
[08:14:50] *** Joins: pcwalton (pcwalton@2FD4AFFD.41051F7C.BBD3C053.IP)
[08:14:50] *** ChanServ sets mode: +ao pcwalton pcwalton
[08:14:51] <eddyb9> cmr: but a cover -> expr translation error
[08:15:05] <eddyb9> same for (a, a+b) = ...;
[08:16:06] <eddyb9> if you're parsing expr and converting later to a pattern, you lose some specific syntax, but you don't need to change the grammar at all
[08:16:47] <pcwalton> eddyb9: we could do a cover grammar for both patterns and expressions…maybe…but that we'd have to think to make sure there are no ambiguities
[08:17:07] <eddyb9> (ref a, ref b) = ...; wouldn't translate, but (&a, &b) = ...; would
[08:17:27] <eddyb9> pcwalton: oh, I've thought cover was out of the question
[08:17:31] <pcwalton> meh :( I think ad-hoc rules are harder to learn than just "= doesn't work"
[08:17:37] <pcwalton> it's a possibility in the future I guess
[08:19:19] <eddyb9> it's a limited pattern, but I have to look at pattern grammar to see the full set of missing features, with expr -> pat
[08:20:06] <eddyb9> but, for example, mut is let-specific, you don't lose anything by not allowing it in an assignment pattern
[08:21:08] <cmr> I don't think it's important
[08:21:28] <cmr> its only real utility IMO is the fib toy
[08:21:45] *** Quits: johns (johns@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[08:21:46] *** Joins: johns (johns@moz-BBE3ABD.mv.mozilla.com)
[08:22:25] <eddyb9> (a, b) = (b, a) - but Rust has swap, so it's not that useful
[08:25:03] <eddyb9> (that's how I would do swap in ES6)
[08:25:44] <klutzy> eddyb9: parser does not restrict any form of lvalue, so on 0.8 rustc even tries to translate `1 = 2;` to llvm then dies
[08:26:12] <klutzy> #10123 forbided such unsupported forms
[08:26:19] <eddyb9> but 1 isn't a valid pattern, so expr -> pat will fail
[08:27:13] <eddyb9> that time when the internet connection is faster than local disk access
[08:27:24] <eddyb9> s/disk/phone EMMC/
[08:27:37] <klutzy> some patterns are meaningless to be used as lvalue
[08:27:54] <eddyb9> example?
[08:28:04] <klutzy> e.g. @a = @2;
[08:28:30] <eddyb9> but now replace @2 with a variable
[08:28:47] <eddyb9> @a = b; is a = *b;
[08:29:03] <klutzy> yes, it is one of reason I hate @a = b form :p
[08:29:04] <eddyb9> except it explicitates what you're derefing
[08:29:34] <klutzy> I think it's best to permit tuples only as well as currently supported ones
[08:29:59] <eddyb9> that would be inconsistent
[08:30:03] <klutzy> maybe we can also permit like `struct A { a: var1, b: var2 } = struct_a;`, but I think this is unpretty
[08:30:26] <eddyb9> [x, ..xs] = v;
[08:31:15] <eddyb9> although that means something completely different as an expression
[08:32:05] <eddyb9> in ES6, ...x in an array expands/captures from/into another array
[08:32:13] <klutzy> anyway currently we parses statements as: let lhs = parse_expr(); if rhs_exists { create ast of (lhs = rhs) } else { crate ast of e.g. lhs(); }
[08:32:38] <klutzy> so it would be hard for lhs to permit any pattern
[08:33:04] <eddyb9> [x, ..n], however, is x n times
[08:33:41] <eddyb9> klutzy: you didn't pay attention... nothing would be changed for currently compiling code
[08:34:00] <ChrisMorgan> klutzy: "maybe we can also ..." you mean struct-destructuring assignment? I understood that to already work.
[08:34:36] <eddyb9> for assignment expressions, transform the lhs expr into a pat
[08:35:06] <klutzy> ChrisMorgan: does it work without `let`? I think we have syntax like `let {pat} = ...;` and `{expr} = ...;`
[08:35:24] <ChrisMorgan> Oh yes, I perceive.
[08:35:35] <ChrisMorgan> Not without let, I believe.
[08:35:54] * ChrisMorgan was missing that part of the discussion entirely for some reason
[08:35:55] <klutzy> eddyb9: ah, so you think of permitting some expressions which are also valid patterns?
[08:36:03] <eddyb9> no
[08:36:08] *** Joins: poiru (poiru@moz-C4357EA7.kapsi.fi)
[08:36:28] <eddyb9> that would be a cover grammar
[08:39:25] *** Joins: valenting (Thunderbir@6F630D40.173A6960.FB866788.IP)
[08:41:04] *** Quits: Sharp (Sharp@1710C26.8381A41.8725677B.IP) (Quit: Sharp)
[08:44:41] *** Joins: victorporof (victorporo@FD3598E9.ED3BC0A9.9B1E38F4.IP)
[08:48:44] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[08:48:56] *** Quits: dherman (dherman@DEF143E0.41051F7C.BBD3C053.IP) (Quit: dherman)
[08:48:58] <eddyb9> rusti: let x : typeof 1u; x = ()
[08:48:59] -rusti- <anon>:9:24: 9:26 error: expected `(` but found `1u`
[08:48:59] -rusti- <anon>:9          let x : typeof 1u; x = ()
[08:48:59] -rusti-                                  ^~
[08:48:59] -rusti- application terminated with error code 101
[08:49:06] <eddyb9> rusti: let x : typeof(1u); x = ()
[08:49:07] -rusti- <anon>:9:17: 9:27 error: internal compiler error: typeof is reserved but unimplemented
[08:49:07] -rusti- <anon>:9          let x : typeof(1u); x = ()
[08:49:07] -rusti-                           ^~~~~~~~~~
[08:49:07] -rusti- application terminated with error code 101
[08:49:23] <eddyb9> aha. reading the parser is not enough :P
[08:49:41] <cmr> yes, a common mistake :p
[08:49:49] *** Quits: pcwalton (pcwalton@2FD4AFFD.41051F7C.BBD3C053.IP) (Quit: pcwalton)
[08:50:35] *** Quits: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net) (Ping timeout)
[08:50:54] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Quit: Busying myself...)
[08:51:52] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Quit: TheHydroImpulse)
[08:54:22] *** Joins: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net)
[08:56:19] *** Quits: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net) (Ping timeout)
[08:58:09] *** Joins: ak31 (ak31@moz-5C189D89.red.bezeqint.net)
[08:58:42] <ak31> hey guys, when i do: do each(["a", "b", "c"]) |s| { ... }
[08:58:55] <ak31> i get `unresolved name each`
[08:59:05] <cmr> ak31: that code is severly outdated
[08:59:23] <cmr> for s in ["a", "b", "c"].iter() { ... }
[08:59:26] <ak31> cmr: hoo my! now i see it is 0.5 and not trunk
[08:59:41] <ak31> much better. thanks
[08:59:43] *** Joins: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net)
[09:00:10] <cmr> (I don't knwo if that will actually work, you might need (&["a", ...]).iter)
[09:00:19] *** Joins: Jackneill (Jackneill@moz-3A5D49B7.pool.digikabel.hu)
[09:00:49] <ak31> i will try without the &
[09:01:03] <ak31> btw: always read the master tutorial/manual?
[09:01:10] <cmr> yes
[09:01:20] <ak31> alright!
[09:01:22] <ak31> thanks again
[09:04:00] *** Joins: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net)
[09:06:40] *** Quits: Addle (quassel@moz-89E971E4.cable.teksavvy.com) (Client exited)
[09:06:55] *** Joins: Earnestly (earnest@38FE72A5.82423D8F.BFD1ABFD.IP)
[09:07:49] *** Joins: w3lcome (Mibbit@moz-FE6BEF26.home.otenet.gr)
[09:08:24] <TeXitoi> hi
[09:08:27] *** Quits: valenting (Thunderbir@6F630D40.173A6960.FB866788.IP) (Ping timeout)
[09:09:01] <TeXitoi> I came back with my problem reactivating bench/shootout-mandelbrot.rs
[09:09:27] *** Joins: moostik (Icedove@5A22E6A1.10715965.BCDF592F.IP)
[09:09:28] <TeXitoi> it fails with "task '[run-pass] bench/shootout-mandelbrot.rs' failed at 'Unhandled condition: not_utf8: ~"from_utf8: input is not UTF-8; first bad byte is 129"', /home/sihem/hack/rust/src/libstd/condition.rs:131"
[09:10:05] <TeXitoi> seems that the test suite is putting stdout of the bench in a string, and this bench output binary things
[09:10:23] <TeXitoi> what can I do? or where I can search?
[09:10:55] <cmr> TeXitoi: sounds like compiletest (src/compiletest) needs to be able to expect non-string outputs
[09:11:17] *** Quits: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net) (Ping timeout)
[09:11:31] <cmr> I guess look to see how xfail is handled, and add a "binary-output" like it that doesn't try to stringify the output
[09:12:10] <TeXitoi> cmr: thanks
[09:15:16] *** Quits: fyolnish (fyolnish@moz-69EA04C.dynamic.ppp.asahi-net.or.jp) (Client exited)
[09:16:24] *** Joins: Addle (quassel@moz-89E971E4.cable.teksavvy.com)
[09:16:25] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[09:16:42] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Quit: Leaving...)
[09:18:07] *** Quits: Addle (quassel@moz-89E971E4.cable.teksavvy.com) (Ping timeout)
[09:19:03] *** Quits: feduser (feduser@BAC54054.BC74D.799BF54A.IP) (Ping timeout)
[09:19:06] *** Quits: lastdev (lastdev@moz-5A47DD8E.dyn.user.ono.com) (Client exited)
[09:19:06] *** Joins: Addle (quassel@moz-89E971E4.cable.teksavvy.com)
[09:21:29] *** Quits: BizarreCake (BizarreCak@moz-361FE9B2.dynamic.barak-online.net) (Connection reset by peer)
[09:26:27] *** Quits: Kxepal (Miranda@moz-A25B204D.pppoe.mtu-net.ru) (Ping timeout)
[09:26:42] *** Joins: feduser (feduser@BAC54054.BC74D.799BF54A.IP)
[09:28:01] *** Joins: nlminhtl (ignotus@moz-BA3DE7EF.volia.net)
[09:29:01] <nlminhtl> Why is it incorrect? https://gist.github.com/Ignotus/c2d8f97f6bda3d9321af
[09:29:38] <cmr> nlminhtl: you need a `mod point_traits;` in main.rs
[09:29:52] *** Joins: Kxepal (Miranda@moz-A25B204D.pppoe.mtu-net.ru)
[09:30:31] <nlminhtl> cmr: so I must declare mod ... ; only one time?
[09:31:00] <cmr> nlminhtl: yes, just in main.rs
[09:34:34] *** Joins: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net)
[09:38:45] *** Quits: prooftechnique (prooftechn@moz-65B7D4EE.hsd1.vt.comcast.net) (Quit: )
[09:39:10] *** Quits: Ralith (ralith@moz-132F2FD4.sea.wa.customer.broadstripe.net) (Ping timeout)
[09:41:02] *** Quits: feduser (feduser@BAC54054.BC74D.799BF54A.IP) (Connection reset by peer)
[09:41:14] *** Joins: jai (jaipradees@69B84D64.FC13163A.9105FBCF.IP)
[09:41:36] *** Joins: feduser (feduser@BAC54054.BC74D.799BF54A.IP)
[09:44:09] *** Quits: h0rrorvacui (h0rrorvacu@moz-5B34B08.sip.bhm.bellsouth.net) (Ping timeout)
[09:46:33] *** Joins: lastdev (lastdev@moz-5A47DD8E.dyn.user.ono.com)
[09:47:24] *** Joins: Ralith (ralith@moz-132F2FD4.sea.wa.customer.broadstripe.net)
[09:48:46] <TeXitoi> rusti: println!("{}", ~['a' as u8, 'b' as u8]);
[09:48:48] -rusti- pastebinned 10 lines of output: http://sprunge.us/Nhbe
[09:49:52] <eddyb9> TeXitoi: it's 0.8
[09:50:14] <eddyb9> rusti: ~['a' as u8, 'b' as u8]
[09:50:15] -rusti- ~[97u8, 98u8]
[09:50:39] <eddyb9> not sure what the fmt! specifier equivalent to {} was
[09:50:51] <cmr> eddyb9: 0.8 has format
[09:50:53] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[09:50:59] <cmr> note the mention of std::fmt::Default
[09:51:21] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[09:51:33] <eddyb9> oh, weird. I thought format! came after
[09:52:13] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Connection reset by peer)
[09:52:18] <cmr> fmt! was removed wholesale after, but format! existed and was the default
[09:52:19] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[09:52:35] <dbaupp> (fmt! still exists: it prints an error message.)
[09:52:36] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[09:52:36] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[09:53:06] <cmr> that's hardly a state of existence :p
[09:53:14] <TeXitoi> eddyb9: I was looking if ~[u8] was printable
[09:54:39] *** Joins: mark_edward_ (quassel@moz-DCB0B750.lightspeed.cicril.sbcglobal.net)
[09:55:39] <TeXitoi> cmr: seems I "just" need to support binary output in compiletest
[09:56:23] <TeXitoi> it seems stdout/stderr are saved in ~str only to print them out in case of error
[09:56:27] *** Quits: boredomist (ruqs@B16F530C.DC641F2C.BCAEBB33.IP) (Ping timeout)
[09:58:36] *** Joins: donri (donri@moz-9BB61102.tbcn.telia.com)
[10:00:22] *** Quits: mark_edward_ (quassel@moz-DCB0B750.lightspeed.cicril.sbcglobal.net) (Input/output error)
[10:03:02] *** Quits: lastdev (lastdev@moz-5A47DD8E.dyn.user.ono.com) (Client exited)
[10:04:15] *** Quits: Kingsley (kingsley@9B172CBE.BEA5C56D.DF4B730F.IP) (Quit: Leaving.)
[10:06:51] *** Joins: valenting (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP)
[10:08:44] *** Joins: jviereck (Adium@moz-CF8216D6.dip0.t-ipconnect.de)
[10:08:53] *** Quits: valenting (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP) (Quit: valenting)
[10:09:00] *** Joins: valenting (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP)
[10:09:59] *** Joins: cloudidust (CloudiDust@B17F4619.9CF98D74.FD0AC393.IP)
[10:13:19] *** Joins: notmatt (notmatt@moz-3C7AF18C.lightspeed.sntcca.sbcglobal.net)
[10:14:56] *** Quits: cloudidust (CloudiDust@B17F4619.9CF98D74.FD0AC393.IP) (Ping timeout)
[10:15:11] *** Joins: cloudidust (CloudiDust@B17F4619.9CF98D74.FD0AC393.IP)
[10:19:43] *** Joins: tulloch (tulloch@moz-6809CC86.nat.csx.cam.ac.uk)
[10:19:43] *** Quits: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net) (Quit: Sharp)
[10:23:03] <w3lcome> Hello! What trait do I have to implement in order to be able to pass as an argument an enum in println?
[10:23:11] <w3lcome> Relevant gist https://gist.github.com/ehostunreach/7498525#file-main-rs
[10:23:11] *** Quits: jai (jaipradees@69B84D64.FC13163A.9105FBCF.IP) (Client exited)
[10:30:13] *** Quits: cloudidust (CloudiDust@B17F4619.9CF98D74.FD0AC393.IP) (Ping timeout)
[10:31:34] <dbaupp> w3lcome: you mean so you can write `println!("{}", East)`?
[10:32:48] *** Joins: mark_edward_ (quassel@moz-DCB0B750.lightspeed.cicril.sbcglobal.net)
[10:34:12] <w3lcome> dbaupp: Yes. From the compiler errors, I believe that I have to follow the steps described in the std::fmt documentation. 
[10:34:32] *** Joins: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net)
[10:35:39] *** Joins: cloudidust (CloudiDust@B17F4619.9CF98D74.FD0AC393.IP)
[10:36:22] <dbaupp> w3lcome: yes, there's an example under the "formatting traits" subheading
[10:36:35] <dbaupp> std::fmt::Default gives you `{}`
[10:36:41] *** Quits: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net) (Quit: Sharp)
[10:37:54] *** Quits: tiffany (kawaii@moz-28A8742A.dhcp.embarqhsd.net) (Ping timeout)
[10:38:45] *** Quits: valenting (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP) (Ping timeout)
[10:38:47] *** Quits: jviereck (Adium@moz-CF8216D6.dip0.t-ipconnect.de) (Quit: Leaving.)
[10:41:19] *** Quits: feduser (feduser@BAC54054.BC74D.799BF54A.IP) (Ping timeout)
[10:41:33] <dbaupp> rusti: enum Direction { East, West, North, South } impl std::fmt::Default for Direction { fn fmt(obj: &Direction, f: &mut std::fmt::Formatter) { let s = match *obj { East => "East", West => "West", North => "North", South => "South" }; f.buf.write(s.as_bytes()) } } println!("{} {}", East, West)
[10:41:33] -rusti- East West
[10:41:33] -rusti- ()
[10:41:52] <dbaupp> w3lcome: ^ (if you can decypher having it all one one line...)
[10:42:07] *** Joins: valenting (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP)
[10:48:10] *** Joins: feduser (feduser@BAC54054.BC74D.799BF54A.IP)
[10:49:26] *** Quits: ak31 (ak31@moz-5C189D89.red.bezeqint.net) (Ping timeout)
[10:50:01] *** Joins: arodier74 (Thunderbir@moz-527C2D95.in-addr.btopenworld.com)
[10:51:04] <TeXitoi> dbaupp: can't you #[deriving: something] ?
[10:55:09] *** Joins: jviereck (Adium@moz-CF8216D6.dip0.t-ipconnect.de)
[10:57:00] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[10:57:12] * kemurphy would kill for #[deriving(Pretty)] :p
[10:58:33] <Jesse> #[deriving(Awesome)]
[10:58:44] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[11:01:12] *** Quits: XMunkki (xm@moz-84E87CA5.kapsi.fi) (Client exited)
[11:02:41] *** Quits: valenting (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP) (Ping timeout)
[11:03:52] *** Quits: notmatt (notmatt@moz-3C7AF18C.lightspeed.sntcca.sbcglobal.net) (Client exited)
[11:05:25] *** Quits: jviereck (Adium@moz-CF8216D6.dip0.t-ipconnect.de) (Quit: Leaving.)
[11:06:05] *** Joins: valenting (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP)
[11:06:57] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[11:07:15] <TeXitoi> cmr: https://github.com/mozilla/rust/pull/10517 -> Handle non-utf8 stdout and stderr in compiletest.
[11:07:17] *** Quits: cloudidust (CloudiDust@B17F4619.9CF98D74.FD0AC393.IP) (Ping timeout)
[11:07:22] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[11:09:00] *** Joins: notmatt (notmatt@moz-3C7AF18C.lightspeed.sntcca.sbcglobal.net)
[11:09:07] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[11:09:11] <w3lcome> dbaupp: Thank you, I wrote something similar. Even though you have to search for the documentation, it's really good (once you find it :D :D )
[11:10:00] *** Joins: mikezaby (mikezaby@moz-AA896205.home.otenet.gr)
[11:10:18] *** Quits: notmatt (notmatt@moz-3C7AF18C.lightspeed.sntcca.sbcglobal.net) (Client exited)
[11:11:29] *** Joins: cloudidust (CloudiDust@B17F4619.9CF98D74.FD0AC393.IP)
[11:13:10] *** Quits: cloudidust (CloudiDust@B17F4619.9CF98D74.FD0AC393.IP) (Ping timeout)
[11:14:12] *** Quits: StarLight (StarLight@moz-EA5A1ED3.dynamic.avangarddsl.ru) (Ping timeout)
[11:15:24] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[11:17:56] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[11:18:33] *** Joins: StarLight (StarLight@moz-21FB6165.dynamic.avangarddsl.ru)
[11:20:58] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[11:24:05] *** Quits: yuriks_ (yuriks@DD48A7C8.D06AB739.748B6D8D.IP) (Connection reset by peer)
[11:24:07] *** Joins: yuriks (yuriks@DD48A7C8.D06AB739.748B6D8D.IP)
[11:24:35] *** Quits: valenting (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP) (Ping timeout)
[11:31:56] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[11:33:45] *** Joins: nkoep (nik@moz-8A42B13.pool.mediaways.net)
[11:37:40] *** Quits: victorporof (victorporo@FD3598E9.ED3BC0A9.9B1E38F4.IP) (Quit: victorporof)
[11:37:48] *** Quits: mikezaby (mikezaby@moz-AA896205.home.otenet.gr) (Input/output error)
[11:43:01] *** Joins: cloudidust (CloudiDust@B17F4619.9CF98D74.FD0AC393.IP)
[11:44:04] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[11:44:34] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[11:46:20] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[11:46:50] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[11:50:26] *** Quits: pseudoku (quassel@5DA078A.82050EAB.C28326FD.IP) (Ping timeout)
[11:59:43] *** Quits: cloudidust (CloudiDust@B17F4619.9CF98D74.FD0AC393.IP) (Ping timeout)
[12:01:44] *** Joins: cloudidust (CloudiDust@B17F4619.9CF98D74.FD0AC393.IP)
[12:03:50] *** Quits: cloudidust (CloudiDust@B17F4619.9CF98D74.FD0AC393.IP) (Ping timeout)
[12:08:03] *** Joins: victorporof (victorporo@FD3598E9.ED3BC0A9.9B1E38F4.IP)
[12:08:43] *** Joins: tgt (tgt@71622208.165A6FDA.57ABF12.IP)
[12:12:17] <zokier`> https://gist.github.com/zokier/7498973 i was thinking about macro to solve that, but apparently you can't do multi-item macros yet
[12:16:37] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[12:18:15] *** Quits: yuriks (yuriks@DD48A7C8.D06AB739.748B6D8D.IP) (Ping timeout)
[12:19:20] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[12:22:07] *** Quits: ktt3ja (Mibbit@moz-F40FE31.washdc.fios.verizon.net) (Quit: http://www.mibbit.com ajax IRC Client)
[12:24:59] *** Joins: ofeldt (ofeldt@moz-F3C5FC44.dip0.t-ipconnect.de)
[12:25:49] *** Quits: ofeldt- (ofeldt@moz-917948E0.dip0.t-ipconnect.de) (Ping timeout)
[12:26:03] <nlminhtl> How can I move these value https://gist.github.com/Ignotus/52848ead1dbb1fff23ec ?
[12:30:49] <bjz> nlminhtl: probably polygon[i].clone()
[12:31:14] <bjz> nlminhtl: but Vector2d needs to derive Clone
[12:32:00] <bjz> basically in generic code things don't implicitly clone
[12:34:52] *** Joins: jviereck (Adium@moz-CF8216D6.dip0.t-ipconnect.de)
[12:39:21] *** Quits: feduser (feduser@BAC54054.BC74D.799BF54A.IP) (Ping timeout)
[12:40:49] <bjz> rusti: struct Vec2 { x: float, y: float } fn foo(v: &Vec2) -> (Vec2, Vec2) { (*v, *v) } let v = Vec2 { x: 1.0, y: 2.0 }; foo(&v)
[12:40:50] -rusti- (main::Vec2{x: 1, y: 2}, main::Vec2{x: 1, y: 2})
[12:41:01] <bjz> struct Vec2<T> { x: T, y: T } fn foo<T: Float>(v: &Vec2<T>) -> (Vec2<T>, Vec2<T>) { (*v, *v) } let v = Vec2 { x: 1.0, y: 2.0 }; foo(&v)
[12:41:15] <bjz> rusti: struct Vec2<T> { x: T, y: T } fn foo<T: Float>(v: &Vec2<T>) -> (Vec2<T>, Vec2<T>) { (*v, *v) } let v = Vec2 { x: 1.0, y: 2.0 }; foo(&v)
[12:41:16] -rusti- pastebinned 8 lines of output: http://sprunge.us/IGWX
[12:41:24] <bjz> rusti: struct Vec2<T> { x: T, y: T } impl<T: Clone> Clone for Vec2<T> { fn clone(&self) -> Vec2<T> { Vec2 { x: self.x.clone(), y: self.y.clone() } } } fn foo<T: Float>(v: &Vec2<T>) -> (Vec2<T>, Vec2<T>) { (v.clone(), v.clone()) } let v = Vec2 { x: 1.0, y: 2.0 }; foo(&v)
[12:41:24] -rusti- (main::Vec2<float>{x: 1, y: 2}, main::Vec2<float>{x: 1, y: 2})
[12:41:30] <bjz> nlminhtl: ^
[12:41:41] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[12:41:42] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[12:41:51] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[12:41:52] <nlminhtl> bjz: it's not very good to clone...
[12:42:09] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[12:42:22] <nlminhtl> if my polygon will consist of a lot of points :)
[12:43:36] <kimundi> nlminhtl: A clone is not more expensive than an implicit copy
[12:43:51] <kimundi> nlminhtl: After inlining, it results in exactly the same code
[12:43:59] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[12:44:15] <bjz> wait, Vector2d(polygon[i], polygon[(i + 1) % l]);
[12:44:39] <bjz> doesn't polygon[i] return a Point2d?
[12:45:16] <nlminhtl> bjz: not reference?
[12:45:31] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[12:45:41] *** Joins: valenting (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP)
[12:45:51] <bjz> just trying to understand you Vector2d constructor
[12:45:52] *** Joins: feduser (feduser@BAC54054.BC74D.799BF54A.IP)
[12:45:54] <bjz> *your
[12:46:01] <kimundi> for a [T], foo[i] returns a T. You need to use &foo[T] to get a &T
[12:46:13] <kimundi> (If that's the question)
[12:46:36] <eddyb9> foo[i] = x; being magic
[12:46:56] <kimundi> eddyb9: What? What's magic about that?
[12:47:00] <nlminhtl> bjz: https://github.com/Ignotus/rustcg/blob/master/src/vector2d.rs
[12:47:03] <bjz> nlminhtl: the index operator is a little muddled at the moment. the index operator does lots of implicit majic
[12:47:14] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[12:47:33] <bjz> kimundi: should be *foo[i] = x;
[12:47:50] <bjz> kimundi: foo[i] should return a &mut T
[12:47:55] <dbaupp> bjz: ew, no, it shouldn't
[12:48:08] <dbaupp> [] should be magic and call the appropriate method based on context
[12:48:37] <eddyb9> nmatsakis' proposal has a MutIndex trait, with an assign method
[12:48:53] <bjz> oh ok
[12:48:59] <eddyb9> although that can be default-implemented with index_mut
[12:49:02] <dbaupp> `&foo[i]`  == foo.index_ref(i), `&mut foo[i]` == foo.index_mut_ref(i), `foo[i] = baz` either is `*foo.index_mut_ref(i) = baz` or `foo.assign(i, baz)`
[12:49:12] <kimundi> Hu? I'm not talking about how it should look like in the future, today let x = f[T] and f[T] = x both work by value
[12:49:36] <bjz> kimundi: yeah, that's right
[12:49:37] <dbaupp> kimundi: it's still magic, foo[i] is an lvalue
[12:49:57] <kimundi> dbaupp: That's true
[12:49:58] <dbaupp> unlike pretty much everything else.
[12:49:58] <bjz> kimundi: "What? What's magic about that?"
[12:50:34] <eddyb9> mentioning the future because we're moving away from magic
[12:50:46] <eddyb9> at least from non-overloadable magic :P
[12:50:55] <bjz> eddyb9: ++
[12:52:14] * eddyb9 wants a flowchart for the compiler, with representation for given data
[12:52:24] <eddyb9> s/data/input
[12:52:56] <bjz> eddyb9: unfortunately moving away from magic is hard, because folks want stuff available for constexprs
[12:53:29] <eddyb9> bjz: CTFE
[12:53:35] <bjz> eddyb9: yep
[12:54:06] <eddyb9> and statics which have a non-ambiguous RHS should infer
[12:54:23] <bjz> eddyb9: hopefully the language can be designed in such a way as to remove the magic and libify stuff once we have CTFE
[12:54:41] <bjz> (probably post 1.0)
[12:55:20] *** Joins: pnkfelix (pnkfelix@DA4ABEAF.1DE10CA8.D8E68FF6.IP)
[12:55:20] *** ChanServ sets mode: +o pnkfelix
[12:55:21] <eddyb9> can we use liquify instead of libify?
[12:55:44] <eddyb9> just for added language obscurity
[12:56:44] <eddyb9> "we need numeric values in generic parameters in order to liquify operations on fixed-sized vectors"
[12:57:09] *** Quits: pnkfelix (pnkfelix@DA4ABEAF.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[12:59:12] *** Quits: tulloch (tulloch@moz-6809CC86.nat.csx.cam.ac.uk) (Ping timeout)
[12:59:13] <eddyb9> re - the flowchart - I want to implement a basic (A, ..(B, C), D) expansion (where the inner tuple might be a type reference of sorts) and it's hard to understand what happens when
[12:59:28] *** Quits: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[13:00:06] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[13:03:31] *** Joins: pnkfelix (pnkfelix@DA4ABEAF.1DE10CA8.D8E68FF6.IP)
[13:03:31] *** ChanServ sets mode: +o pnkfelix
[13:04:22] *** Quits: valenting (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP) (Ping timeout)
[13:05:35] *** Joins: Ferreus (ferreus@moz-353F0A4F.pools.arcor-ip.net)
[13:06:20] *** Quits: pnkfelix (pnkfelix@DA4ABEAF.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[13:06:53] *** Joins: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP)
[13:06:53] *** ChanServ sets mode: +o pnkfelix
[13:11:21] *** Joins: beifeng (Mibbit@32B41A.FA7FF645.C7DB8B78.IP)
[13:13:56] *** Joins: freezerburnv (freezerbur@moz-E25EEE31.washdc.fios.verizon.net)
[13:14:36] *** Joins: infynyxx (infynyxx@moz-7759A364.dsl.static.sonic.net)
[13:18:08] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[13:20:43] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[13:20:54] *** Joins: ianj (ianjneu@moz-7BA002E.hsd1.ma.comcast.net)
[13:23:22] *** Quits: nsf (nsf@moz-EEF3238A.convex.ru) (Quit: WeeChat 0.4.2)
[13:25:52] *** Joins: Florob (Florob@moz-39532932.de)
[13:26:43] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Client exited)
[13:28:02] *** Joins: yuriks (yuriks@DD48A7C8.D06AB739.748B6D8D.IP)
[13:31:11] *** Joins: tulloch (tulloch@moz-1C33A2E7.nat.csx.cam.ac.uk)
[13:31:24] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[13:33:03] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Quit: TheHydroImpulse)
[13:42:59] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[13:43:31] *** Joins: RageOfThou (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP)
[13:44:02] *** Quits: lkey (chatzilla@25653362.1DD2AC9D.49CEED6B.IP) (Input/output error)
[13:45:17] *** Joins: BizarreCake (BizarreCak@moz-361FE9B2.dynamic.barak-online.net)
[13:45:54] *** Quits: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca) (Quit: Leaving.)
[13:51:05] *** Quits: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl) (Ping timeout)
[13:51:16] *** Joins: themgt (themgt@moz-83F07CDA.cm.vtr.net)
[13:54:08] *** Joins: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca)
[13:54:12] *** Quits: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca) (Input/output error)
[13:56:20] *** Quits: infynyxx (infynyxx@moz-7759A364.dsl.static.sonic.net) (Client exited)
[14:01:05] *** Quits: freezerburnv (freezerbur@moz-E25EEE31.washdc.fios.verizon.net) (Quit: freezerburnv)
[14:01:40] *** Joins: alan (alan@moz-F8EE186F.lightspeed.snantx.sbcglobal.net)
[14:02:19] *** Joins: cloudidust (CloudiDust@B17F4619.9CF98D74.FD0AC393.IP)
[14:04:15] *** Joins: askalski (akuda@309E5B07.C38989A9.A61CD463.IP)
[14:05:20] <mark_edward_> is random data compressible?
[14:06:13] <ianj> by some definitions, no.
[14:07:20] <ianj> http://en.wikipedia.org/wiki/Kolmogorov_complexity#Kolmogorov_randomness
[14:07:54] <Diamond> if you can extract a distribution from the data, yes with range coding/Huffman coding.
[14:09:06] <mark_edward_> i see. writing a compression thingy, and wondering if testing it on random data is meaningful
[14:09:31] <Ms2ger> Clearly, for every random string, there's a way to compress it
[14:09:40] <eddyb9> you're testing the randomness of the random data
[14:09:46] <Ms2ger> There's no way to compress all random strings, though
[14:10:14] <Ms2ger> (losslessly)
[14:10:32] *** Joins: jvshahid (jvshahid@moz-C1BC0CE4.nyc.res.rr.com)
[14:11:07] *** Quits: z0w0 (zack@moz-52D92E83.lnse2.cha.bigpond.net.au) (Ping timeout)
[14:11:10] <benh> What does #[unsafe_no_drop_flag] do and/or what do I need to do to use it safely?
[14:11:57] <eddyb9> mark_edward_: well... if I had written that png.rs I want...
[14:12:13] *** Joins: z0w0 (zack@moz-5E840EF3.lns3.woo.bigpond.net.au)
[14:12:13] <mark_edward_> eddyb9: what?
[14:12:31] <eddyb9> mark_edward_: you could then test your compression against the DEFLATE used in PNG
[14:12:50] <mark_edward_> eddyb9: ah i see
[14:13:29] <eddyb9> it's not that hard, I think you only need to find the IDAT section and INFLATE it
[14:14:09] <TeXitoi> a pull request can be referenced as an issue ?
[14:14:20] <eddyb9> TeXitoi: it is an issue
[14:14:38] <eddyb9> (just a different type of issue)
[14:14:43] <TeXitoi> eddyb9: ok, thanks
[14:15:09] *** Quits: tulloch (tulloch@moz-1C33A2E7.nat.csx.cam.ac.uk) (Ping timeout)
[14:15:12] <bodie> hey, does Servo use rust 8 or master?
[14:15:28] *** Joins: GeneralMaximus (ankur@3E3D38A6.38B3E32A.274D17D6.IP)
[14:15:33] <bstrie> bodie: it tracks a little behind master
[14:15:48] *** Joins: canhtak (canhtak@moz-43EC0376.wl.t.ulaval.ca)
[14:15:53] <bstrie> bodie: if you're trying to compile servo, it should bring along the correct version of rust that it needs as a submodule
[14:16:02] <eddyb9> "rust 8" - are you from the future :))?
[14:16:03] <TeXitoi> is that OK, in a bench file: // xfail-test binary output not allowed by compiletest FIXME(#10517)
[14:16:05] <bodie> ah
[14:16:08] <bodie> lol eddyb9
[14:16:23] <bodie> lack of coffee = unintentional time traveler
[14:16:58] *** Joins: cubic (cubic@moz-80241A3A.mc.videotron.ca)
[14:17:00] <eddyb9> feels so surreal, thinking of 8 when 1.0 is still half an year into the future
[14:17:32] <eddyb9> TeXitoi: looks ok to me
[14:17:44] <TeXitoi> eddyb9: thanks
[14:18:20] <eddyb9> although I would add xfail-binary or something first, and then merge the test
[14:18:45] <eddyb9> s/merge/PR
[14:19:20] <mark_edward_> how do you calculate compression ratio?
[14:19:25] <bodie> bstrie, I see.  thanks :)
[14:19:49] <TeXitoi> eddyb9: PR #10517 is my try to manage binary output
[14:19:59] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[14:20:46] <TeXitoi> in compiletest
[14:21:07] *** Quits: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net) (Ping timeout)
[14:21:31] *** Joins: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net)
[14:21:41] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[14:21:42] *** Joins: etw (john@moz-D871A25B.nyc.res.rr.com)
[14:21:45] *** Quits: jviereck (Adium@moz-CF8216D6.dip0.t-ipconnect.de) (Quit: Leaving.)
[14:22:08] <Ms2ger> bodie, yeah, servo takes care of its own rust... Too much churn at this point to use master
[14:22:46] <eddyb9> mark_edward_: I think it's just compressed_size/original_size
[14:23:27] *** Quits: jvshahid (jvshahid@moz-C1BC0CE4.nyc.res.rr.com) (Quit: Lost terminal)
[14:24:20] *** Joins: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca)
[14:24:30] *** Quits: mark_edward_ (quassel@moz-DCB0B750.lightspeed.cicril.sbcglobal.net) (Ping timeout)
[14:25:17] *** Joins: tulloch (tulloch@moz-6809CC86.nat.csx.cam.ac.uk)
[14:25:18] <bstrie> ...is bors down?
[14:26:35] *** Joins: infynyxx (infynyxx@moz-7759A364.dsl.static.sonic.net)
[14:27:04] *** Joins: infynyxx_ (infynyxx@moz-7759A364.dsl.static.sonic.net)
[14:27:04] *** Quits: infynyxx (infynyxx@moz-7759A364.dsl.static.sonic.net) (Connection reset by peer)
[14:27:45] *** Joins: josh (josh@moz-6FB23C25.hvc.res.rr.com)
[14:29:06] *** Joins: jviereck (Adium@moz-CF8216D6.dip0.t-ipconnect.de)
[14:31:25] *** Joins: mark_edward_ (quassel@moz-DCB0B750.lightspeed.cicril.sbcglobal.net)
[14:33:20] *** Quits: infynyxx_ (infynyxx@moz-7759A364.dsl.static.sonic.net) (Ping timeout)
[14:33:42] *** jorendorff_away is now known as jorendorff
[14:33:42] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[14:34:25] *** jorendorff is now known as jorendorff_away
[14:35:29] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[14:36:34] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[14:37:51] *** Quits: alan (alan@moz-F8EE186F.lightspeed.snantx.sbcglobal.net) (Quit: alan)
[14:42:13] *** Quits: beifeng (Mibbit@32B41A.FA7FF645.C7DB8B78.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[14:46:56] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[14:47:25] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[14:49:14] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[14:54:30] *** Quits: etw (john@moz-D871A25B.nyc.res.rr.com) (Quit: etw)
[14:55:10] *** Joins: etw (john@moz-D871A25B.nyc.res.rr.com)
[14:55:25] *** Quits: josh (josh@moz-6FB23C25.hvc.res.rr.com) (Quit: josh)
[14:57:38] *** Joins: infynyxx (infynyxx@moz-7759A364.dsl.static.sonic.net)
[14:59:17] *** Quits: infynyxx (infynyxx@moz-7759A364.dsl.static.sonic.net) (Client exited)
[14:59:33] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[14:59:39] *** Quits: jviereck (Adium@moz-CF8216D6.dip0.t-ipconnect.de) (Quit: Leaving.)
[15:03:23] *** Quits: moostik (Icedove@5A22E6A1.10715965.BCDF592F.IP) (Ping timeout)
[15:03:56] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[15:06:35] *** Joins: nsf (nsf@moz-EEF3238A.convex.ru)
[15:07:31] *** Joins: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com)
[15:08:13] *** Joins: jviereck (Adium@moz-CF8216D6.dip0.t-ipconnect.de)
[15:11:57] *** Joins: josh (josh@moz-6FB23C25.hvc.res.rr.com)
[15:16:16] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[15:16:24] *** Quits: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com) (Ping timeout)
[15:18:13] *** Joins: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com)
[15:20:44] *** Joins: alisdair (textual@moz-2F3322CF.hsd1.tx.comcast.net)
[15:21:03] *** Joins: beifeng (Mibbit@32B41A.FA7FF645.C7DB8B78.IP)
[15:21:19] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[15:23:03] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[15:24:00] *** Joins: infynyxx (infynyxx@moz-7759A364.dsl.static.sonic.net)
[15:24:49] *** Joins: eholk (eric@moz-F70D5031.hsd1.in.comcast.net)
[15:25:40] *** Quits: infynyxx (infynyxx@moz-7759A364.dsl.static.sonic.net) (Client exited)
[15:31:13] *** Joins: freezerburnv (freezerbur@moz-E25EEE31.washdc.fios.verizon.net)
[15:31:45] *** Joins: anshin (anshin@CD85F10D.F21429E2.354459FA.IP)
[15:33:05] *** Quits: freezerburnv (freezerbur@moz-E25EEE31.washdc.fios.verizon.net) (Quit: freezerburnv)
[15:34:43] *** Quits: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net) (Ping timeout)
[15:36:07] *** Joins: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net)
[15:37:35] *** Quits: feduser (feduser@BAC54054.BC74D.799BF54A.IP) (Quit: Leaving)
[15:37:55] *** Quits: nlminhtl (ignotus@moz-BA3DE7EF.volia.net) (Ping timeout)
[15:37:55] *** Quits: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com) (Ping timeout)
[15:39:35] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[15:39:46] *** Quits: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl) (Client exited)
[15:40:58] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[15:41:04] *** Joins: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com)
[15:45:43] *** Quits: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com) (Ping timeout)
[15:45:54] *** Joins: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com)
[15:45:57] *** Joins: freezerburnv (freezerbur@moz-E25EEE31.washdc.fios.verizon.net)
[15:47:35] *** Quits: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net) (Ping timeout)
[15:48:38] *** Joins: nlminhtl (ignotus@moz-BA3DE7EF.volia.net)
[15:50:22] *** Quits: cloudidust (CloudiDust@B17F4619.9CF98D74.FD0AC393.IP) (Quit: Leaving)
[15:50:44] *** Quits: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com) (Ping timeout)
[15:50:50] *** Joins: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com)
[15:50:58] *** Joins: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net)
[15:51:50] *** Quits: beifeng (Mibbit@32B41A.FA7FF645.C7DB8B78.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[15:52:30] *** Quits: z0w0 (zack@moz-5E840EF3.lns3.woo.bigpond.net.au) (Client exited)
[15:52:33] *** Quits: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com) (Ping timeout)
[15:52:51] *** Joins: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com)
[15:53:10] *** Quits: TeXitoi (texitoi@moz-EA958D66.texitoi.eu) (Quit: leaving)
[15:55:57] *** Joins: pseudoku (quassel@7F3D07FB.AA4FA592.520CDC98.IP)
[15:56:11] <pseudoku> I'm trying to use an item from extra. Although I have added the extern decl, i get the error: unresolved import. maybe a missing `extern mod extra`?
[15:56:21] *** Joins: abnrngr (user@C31B7093.A9FCDC29.B3C843D.IP)
[16:01:17] *** Quits: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com) (Ping timeout)
[16:02:15] *** Joins: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com)
[16:02:31] <benh> pseudoku: you probably want to put extern mod extra; into the crate root
[16:02:56] <benh> if it's in another mod, the 'extra' symbol will be scoped within it and you need to do use path::to::that::mod::extra::...
[16:04:23] <pseudoku> benh: thanks! adding the extern to crate root (while still having it in the mod also) worked!
[16:05:13] *** Quits: victorporof (victorporo@FD3598E9.ED3BC0A9.9B1E38F4.IP) (Quit: victorporof)
[16:09:50] <Yurume> is it possible that --bench does not run the test at all?
[16:12:41] <abnrngr> Anyone know how to use product()?  range(1,10).product() doesn't compile.
[16:12:51] *** Joins: nathan7 (nathan@moz-60FC7746.nathan7.eu)
[16:13:06] <nathan7> Hey humanoids
[16:13:06] <abnrngr> It errors out with Range<int> doesn't implement any method named product.
[16:13:17] *** Joins: TeXitoi (texitoi@moz-EA958D66.texitoi.eu)
[16:13:24] <nathan7> I'm working on my kernel, and becoming ever more annoyed at the fact that I don't have std
[16:13:24] <benh> rusti: range(1,10).map(|&x|x).product()
[16:13:25] -rusti- <anon>:9:26: 9:28 error: mismatched types: expected `int` but found an &-pointer pattern
[16:13:25] -rusti- <anon>:9          range(1,10).map(|&x|x).product()
[16:13:25] -rusti-                                    ^~
[16:13:25] -rusti- error: aborting due to previous error
[16:13:25] -rusti- application terminated with error code 101
[16:13:32] <eddyb> "you have fibers and threads unknown to us" =)))
[16:13:33] <nathan7> So, I figured I'd use my own, minimal std
[16:13:35] <benh> hmm
[16:13:41] <benh> where's product from?
[16:13:43] <eddyb> the best part is that it's ambiguous in a technical context
[16:14:03] <abnrngr> std::iter::MultiplicativeIterator
[16:14:29] <nathan7> And my crate appears to be found fine.. but it seems to link the wrong std
[16:16:08] <kimundi> abnrngr: You need to import that Multiplicative Iterator trait or else rustc doesn't find the product method
[16:16:11] <nathan7> I'd like to remove the /usr/lib/rustc path from my library search path
[16:16:43] <benh> kimundi: oh :i
[16:16:58] * benh is bad at this
[16:17:01] *** Joins: infynyxx (infynyxx@moz-7759A364.dsl.static.sonic.net)
[16:17:03] <abnrngr> kimundi: thanks, it works
[16:17:09] <kimundi> nathan7: You can just use `#[no_std]; extern mod my_std;` in the crate root
[16:17:39] <nathan7> kimundi: mh-hrm
[16:17:45] *** Joins: pepper_chico (pepper_chi@moz-406A0C65.dsl.telesp.net.br)
[16:17:52] <nathan7> kimundi: but I'd prefer to just call it 'std' and have the prelude work and all
[16:18:13] <nathan7> kimundi: I'm living with #[no_std] currently and it's starting to become rather annoying
[16:18:41] *** Quits: infynyxx (infynyxx@moz-7759A364.dsl.static.sonic.net) (Client exited)
[16:18:47] <kimundi> nathan7: The prelude is defined in std... If you substitute your own you won't have it, that's true
[16:19:15] <nathan7> kimundi: Yes, I'd like to have my own prelude
[16:19:24] <kimundi> `#[no_std]; extern mod std(name = "my_std"); use std::prelude::*`
[16:19:43] <kimundi> That should work, I think..
[16:19:43] <nathan7> I get to prepend that to every source file? q=
[16:20:42] <kimundi> Well, the first two items you need to only prepend to the crate root. The alst one you need to add in each module
[16:20:42] *** Parts: tgt (tgt@71622208.165A6FDA.57ABF12.IP) (Textual IRC Client: www.textualapp.com)
[16:20:55] <nathan7> mhm
[16:21:03] *** Quits: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com) (Ping timeout)
[16:21:06] <nathan7> I'll live with that then
[16:21:14] <kimundi> The 'proper' way would be to teach rustc to allow automatic import of any module 
[16:21:48] <kimundi> something like #[prelude(my_std::prelude)];
[16:22:17] <nathan7> mhm
[16:22:18] *** Joins: victorporof (victorporo@FD3598E9.ED3BC0A9.9B1E38F4.IP)
[16:22:41] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[16:24:04] *** Quits: tulloch (tulloch@moz-6809CC86.nat.csx.cam.ac.uk) (Ping timeout)
[16:24:36] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[16:24:45] *** Quits: askalski (akuda@309E5B07.C38989A9.A61CD463.IP) (Input/output error)
[16:24:53] *** Joins: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com)
[16:25:45] *** Quits: pseudoku (quassel@7F3D07FB.AA4FA592.520CDC98.IP) (Ping timeout)
[16:27:12] *** Quits: pepper_chico (pepper_chi@moz-406A0C65.dsl.telesp.net.br) (Quit: Ex-Chat)
[16:27:30] *** Joins: dew1 (Instantbir@moz-E4452B8F.static.stls.mo.charter.com)
[16:27:32] *** Quits: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com) (Connection reset by peer)
[16:28:20] <eddyb> http://www.reddit.com/r/rust/comments/1qrkgu/selling_my_old_rust_account_w_email/ hehe
[16:29:42] *** Quits: Diamond (dick@moz-80556682.ks.ks.cox.net) (Client exited)
[16:29:56] *** Joins: tulloch (tulloch@moz-1C33A2E7.nat.csx.cam.ac.uk)
[16:34:50] *** Quits: tulloch (tulloch@moz-1C33A2E7.nat.csx.cam.ac.uk) (Ping timeout)
[16:35:10] *** Joins: victorporof_ (victorporo@FD3598E9.ED3BC0A9.9B1E38F4.IP)
[16:35:37] <benh> Why does std::ptr::read_ptr take a *mut?
[16:35:45] *** Quits: [squiddy] (squiddy@moz-67D2F7C0.dynamic.cablesurf.de) (Quit: Leaving)
[16:35:51] *** Joins: beifeng (Mibbit@32B41A.FA7FF645.C7DB8B78.IP)
[16:36:10] *** Quits: victorporof (victorporo@FD3598E9.ED3BC0A9.9B1E38F4.IP) (Ping timeout)
[16:36:37] *** Joins: doctor (ARealName@8E6CEFC3.973B116C.67659D25.IP)
[16:36:44] *** Quits: doctor (ARealName@8E6CEFC3.973B116C.67659D25.IP) (Input/output error)
[16:36:45] <kimundi> benh: afaik because it modifies the location in the sense that read_ptr can move from the location, I think?
[16:37:37] <benh> It just seems to call memcpy
[16:38:40] *** Quits: victorporof_ (victorporo@FD3598E9.ED3BC0A9.9B1E38F4.IP) (Quit: victorporof_)
[16:41:52] *** Quits: freezerburnv (freezerbur@moz-E25EEE31.washdc.fios.verizon.net) (Quit: freezerburnv)
[16:42:49] *** Quits: dew1 (Instantbir@moz-E4452B8F.static.stls.mo.charter.com) (Ping timeout)
[16:43:57] <kimundi> benh: Right, which can also be a move
[16:44:03] *** Joins: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com)
[16:45:02] <kimundi> benh: Say you have &mut ~[T], and call read_ptr on it, then you moved the ~[T] out of the the &mut ~[T] without invalidating it
[16:45:50] <kimundi> ONe could argue that both &T and &mut T would be wrong for that, but &mut T is less wrong at least
[16:45:56] <benh> Yeah... it's not zeroing out the original ~[T] ptr so I don't see why it's mut
[16:46:06] *** Quits: Axord (xord@moz-1B228827.lsanca.dsl-w.verizon.net) (Quit: I'm sure it's perfectly safe)
[16:47:40] <kimundi> benh: The is no difference between *T and *mut T except of conveying intend, in this case *mut T is closer to what happens than *T
[16:48:13] *** Joins: moostik (Icedove@5A22E6A1.10715965.BCDF592F.IP)
[16:48:56] <kimundi> Sure, technically the original location doesn't get modified, but in most situations where this function is used it changes in a abstract way.
[16:49:58] <kimundi> IN the sense that after this function has been called, the original *mut T contains invalid data that should no longer be accessed
[16:50:08] <kimundi> even though the actual bytes never changed
[16:52:17] *** Joins: infynyxx (infynyxx@moz-7759A364.dsl.static.sonic.net)
[16:52:36] *** Joins: zippity (Mibbit@moz-C92376E1.hsi3.kabel-badenwuerttemberg.de)
[16:53:03] *** Quits: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca) (Quit: Leaving.)
[16:53:14] *** Quits: zippity (Mibbit@moz-C92376E1.hsi3.kabel-badenwuerttemberg.de) (Quit: http://www.mibbit.com ajax IRC Client)
[16:57:49] *** Joins: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net)
[16:58:08] *** Quits: cdidd (cdidd@moz-C75AEE3C.broadband.corbina.ru) (Ping timeout)
[16:59:01] *** Quits: w3lcome (Mibbit@moz-FE6BEF26.home.otenet.gr) (Quit: http://www.mibbit.com ajax IRC Client)
[16:59:44] *** Joins: w3lcome (Mibbit@moz-FE6BEF26.home.otenet.gr)
[17:00:32] <kimundi> rusti: 89u8 as char
[17:00:32] -rusti- 'Y'
[17:05:22] *** Quits: moostik (Icedove@5A22E6A1.10715965.BCDF592F.IP) (Ping timeout)
[17:05:34] *** Quits: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com) (Ping timeout)
[17:06:48] *** Joins: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com)
[17:09:25] *** Joins: pnathan1 (Adium@moz-5EBBDD83.tukw.qwest.net)
[17:13:12] *** Joins: engla (engla@moz-F64E1B0F.cust.bredbandsbolaget.se)
[17:13:36] *** Quits: alisdair (textual@moz-2F3322CF.hsd1.tx.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[17:15:40] <kimundi> rusti: "".char_at(0)
[17:15:41] -rusti- task <unnamed> failed at 'index out of bounds: the len is 0 but the index is 0', <anon>:1
[17:15:41] -rusti- application terminated with error code 101
[17:16:41] *** Joins: vodik (simon@moz-D6F6E0DB.dsl.bell.ca)
[17:17:51] *** Quits: nlminhtl (ignotus@moz-BA3DE7EF.volia.net) (Quit: Konversation terminated!)
[17:17:52] *** Joins: nlminhtl_ (ignotus@moz-BA3DE7EF.volia.net)
[17:19:12] <eddyb> I was wondering the other day... with an effect system, wouldn't that not only be marked as "can fail", but as "will always fail"?
[17:19:49] <kimundi> eddyb: hm? the char_at emthod would be marked as 'can fail'
[17:20:10] <kimundi> eddyb: Deciding if it _will_ fail is not possible at compile time
[17:20:29] *** Joins: blank_name (blank_name@FAB53C88.7071B2C8.31EC03F3.IP)
[17:20:40] <Ms2ger> Damn you, Rice!
[17:20:43] <eddyb> kimundi: why? it will fail if .len() <= i
[17:20:57] <kimundi> eddyb: Which is not known in general
[17:21:03] <eddyb> which can get inlined to true, in that context
[17:21:38] <kimundi> yeah, but that would be an special case that is not in genral encodable in the effect system
[17:21:57] <eddyb> someone was preaching the "dynamic type safety" of (Vec n a) from Haskell to me the other day, and I think the effect system might work better (in the general case)
[17:21:58] <kimundi> eddyb: Heck, rustc itself wouldn't even know about it, only llvm
[17:22:04] <FreeFull> kimundi: For constant strings it should be possible
[17:22:37] <Ms2ger> I guess the other direction would be more useful
[17:22:39] <kimundi> FreeFull: Sure, but it would have to be an seperate, additional analysis
[17:23:12] *** Joins: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca)
[17:23:14] <Kroisse> and works only for constant strings is useless, I think.
[17:23:22] <eddyb> the effect system isn't already in anyway
[17:23:52] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[17:24:00] <eddyb> if v.len() > i {Some(v[i])} else {None} will never fail
[17:24:10] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[17:24:24] <eddyb> with a fail condition of self.len() <= i for v.index(i)
[17:24:42] <eddyb> things like that is what an effect system would be awesome for
[17:25:13] <kimundi> eddyb: That sounds lss like effect system, and more like dependent type system :P
[17:25:26] <eddyb> it's not a type system
[17:25:35] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[17:25:45] <Ms2ger> Is an effect system not a type system?
[17:25:49] <kimundi> same complexity though
[17:25:52] *** Joins: ricepuddin (graham@moz-7D68765A.cable.virginm.net)
[17:25:52] <eddyb> it can encode a lot of relationships without changing the type system
[17:26:01] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[17:26:14] <eddyb> kimundi: it has a similar complexity to CTFE, I think
[17:26:16] *** Quits: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com) (Ping timeout)
[17:26:25] *** Quits: infynyxx (infynyxx@moz-7759A364.dsl.static.sonic.net) (Client exited)
[17:26:45] <kimundi> eddyb: Not really, they are unrelated
[17:26:45] <eddyb> but with "unknown" values
[17:27:23] <eddyb> kimundi: have you seen nothrow(expr) in C++11?
[17:27:25] *** Joins: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com)
[17:28:26] <eddyb> kimundi: the "can fail" effect of a function is an associated constexpr function acting on the same arguments
[17:28:32] <eddyb> does that make sense?
[17:29:09] <eddyb> and it can be inferred
[17:31:44] <eddyb> I guess "won't fail" is easier to express
[17:32:51] *** Quits: eholk (eric@moz-F70D5031.hsd1.in.comcast.net) (Quit: Konversation terminated!)
[17:33:34] *** Joins: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net)
[17:33:43] <eddyb> or I don't know, I'm not good at fuzzy logic
[17:34:25] *** Joins: alisdair (textual@moz-2F3322CF.hsd1.tx.comcast.net)
[17:35:07] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[17:36:04] *** Quits: jviereck (Adium@moz-CF8216D6.dip0.t-ipconnect.de) (Quit: Leaving.)
[17:36:04] *** Quits: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net) (Quit: Sharp)
[17:36:18] <kimundi> eddyb: what does nothrow do?
[17:36:46] <eddyb> kimundi: specifies that a function doesn't throw
[17:38:02] <eddyb> kimundi: now I can't find that >_>
[17:40:04] <kimundi> eddyb: Anyway, I don'T really know what I'm talking about here either, but afaik there is a difference between giving the compile hint that somethign doesn'T fail, and having that as a useful property on the layer where an effect system would work, and having the value be dependent on an expression evaluation, even if possible at compiletime
[17:40:53] <kimundi> As I understand it, the hypothetical rust effect system would just be some kind of function annotation like our 'unsafe' effect that we have today
[17:41:23] <kimundi> which means you won't get any different results even if something gets constant folded at compiletime
[17:41:29] <eddyb> I've seen mentions of it being expression-valued
[17:41:49] *** Quits: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP) (Quit: Leaving.)
[17:41:50] <eddyb> something like unsafe is rarely useful in other contexts
[17:42:29] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Ping timeout)
[17:42:36] <eddyb> but such an effect annotation system would allow for proven non-failing (assuming the internals all work) rust programs
[17:43:16] *** Quits: gavin (gavin@moz-DB4A9C19.scl3.mozilla.com) (Ping timeout)
[17:43:27] <kimundi> ...by ensuring that no function gets called that could possibly fail, not by proving that the functions never fail
[17:43:30] *** Joins: askalski (akuda@309E5B07.C38989A9.A61CD463.IP)
[17:43:36] <eddyb> kimundi: yes
[17:43:38] *** Joins: gavin (gavin@moz-DB4A9C19.scl3.mozilla.com)
[17:44:02] <eddyb> the inferred effect on main is what will matter
[17:44:10] <kimundi> that would still mean that "".get_char_at(0) could fail though
[17:44:17] <kimundi> becuase get_char_at can
[17:44:26] <Ms2ger> I dunno, it seems interesting for libraries too
[17:44:32] *** Joins: freezerburnv (freezerbur@moz-E25EEE31.washdc.fios.verizon.net)
[17:44:34] <eddyb> but you can lint against it
[17:44:39] *** Joins: tulloch (tulloch@moz-6809CC86.nat.csx.cam.ac.uk)
[17:44:57] <kimundi> eddyb: Sure, additional analysis on top of it is always possible
[17:45:26] <eddyb> which would force you to use checked versions of functions, handle a None instead of doing .get(), etc.
[17:45:31] <kimundi> eddyb: My point is just that the effect system alone as I understood it would not be able to analyse something like this
[17:45:33] <eddyb> without annotating your own code
[17:45:41] <Ms2ger> Also an option: embed a theorem-prover into the language
[17:45:46] <eddyb> kimundi: maybe I'm hoping for a more powerful effect system
[17:45:49] <Ms2ger> Something like ACL2 for a useful language :)
[17:46:01] <eddyb> Ms2ger: might be required for this effect system, in some cases
[17:46:30] <kimundi> The machinery needed for such an effect system is the same as needed for an dependent type system
[17:46:46] <kimundi> In other words, it would get... way more complicated
[17:47:04] <eddyb> that Haskell guy I was talking with didn't care for the advantages of failing instead of allowing exploitable bugs through, and we can probably replicate some of the crazy things implemented in Haskell, but in a more general way
[17:47:08] *** Quits: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com) (Ping timeout)
[17:47:43] <eddyb> kimundi: would a dependent type system let you write the same code you do today, but with all the benefits?
[17:47:59] <kimundi> (Consider that there is still not definite consensus on wether even the primitive function-annotation only effect will get added, because it already complicates matters enough)
[17:48:05] <kimundi> eddyb: No idea, never used one
[17:48:20] <eddyb> "primitive"?
[17:48:47] <kimundi> eddyb: I just know that it would allow expressing things like "this type is only valid as long as a == b + 10" or so
[17:48:50] *** Joins: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com)
[17:49:07] <kimundi> eddyb: compared to what your thinking of
[17:49:24] <kimundi> "simpler" might be the better word
[17:50:17] <eddyb> that sounds like what the types used in haskell for (Vec n a) are, you have to express the relationships in the types you use
[17:50:59] *** Quits: rhelmer (rhelmer@moz-DB4A9C19.scl3.mozilla.com) (Ping timeout)
[17:51:03] *** Quits: pmoore|away (pmoore@moz-DB4A9C19.scl3.mozilla.com) (Ping timeout)
[17:51:03] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Ping timeout)
[17:51:04] <kimundi> No idea what haskell does there, but that might also just be integers in the type system
[17:51:09] *** Quits: gavin (gavin@moz-DB4A9C19.scl3.mozilla.com) (Connection reset by peer)
[17:51:17] <kimundi> IS it something liek our [T, ..N] ?
[17:51:27] <eddyb> kimundi: the integers are dynamic
[17:51:46] *** Quits: nmatsakis (nmatsakis@moz-DB4A9C19.scl3.mozilla.com) (Connection reset by peer)
[17:51:54] <kimundi> Well, no idea then
[17:53:17] *** Quits: TeXitoi (texitoi@moz-EA958D66.texitoi.eu) (Quit: leaving)
[17:53:19] <eddyb> you have to explicitly show that n > 0 to get the first element
[17:53:46] *** Joins: mikezaby (mikezaby@moz-AA896205.home.otenet.gr)
[17:54:13] <eddyb> kimundi: it's too much of a burden *inside* the type system
[17:54:44] <eddyb> you might not be even able to implement it without turning Rust into Haskell with an uglier syntax
[17:54:59] *** Quits: froydnj (nfroyd@moz-DB4A9C19.scl3.mozilla.com) (Ping timeout)
[17:55:06] <eddyb> while the effect system is parallel
[17:55:24] *** Quits: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP) (Ping timeout)
[17:55:58] *** Quits: lbergstrom (lbergstrom@moz-DB4A9C19.scl3.mozilla.com) (Ping timeout)
[17:58:02] *** Joins: TeXitoi (texitoi@moz-EA958D66.texitoi.eu)
[17:58:30] *** Quits: vodik (simon@moz-D6F6E0DB.dsl.bell.ca) (Quit: lunch break over)
[18:00:29] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Client exited)
[18:02:08] *** Quits: flaper87|afk (flaper87@moz-107AD163.redhat.com) (Ping timeout)
[18:02:31] *** Quits: shadower (tsedovic@moz-107AD163.redhat.com) (Ping timeout)
[18:02:47] *** Quits: pnathan1 (Adium@moz-5EBBDD83.tukw.qwest.net) (Quit: Leaving.)
[18:05:41] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Quit: Jesse)
[18:06:14] *** Joins: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net)
[18:07:30] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[18:08:03] *** Joins: pnathan1 (Adium@moz-5EBBDD83.tukw.qwest.net)
[18:08:13] *** Quits: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com) (Ping timeout)
[18:09:50] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[18:10:55] *** Quits: tulloch (tulloch@moz-6809CC86.nat.csx.cam.ac.uk) (Ping timeout)
[18:11:26] *** Joins: tulloch (tulloch@moz-1C33A2E7.nat.csx.cam.ac.uk)
[18:12:27] *** Joins: prooftechnique (prooftechn@moz-65B7D4EE.hsd1.vt.comcast.net)
[18:12:30] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[18:15:56] *** Joins: jordyd (jordyd@moz-277E5A40.seg33.ucf.edu)
[18:17:18] *** Joins: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com)
[18:19:48] *** Joins: shadower (tsedovic@moz-107AD163.redhat.com)
[18:19:51] *** Joins: flaper87|afk (flaper87@moz-107AD163.redhat.com)
[18:20:18] *** Quits: XgF (quassel@moz-86690AAD.london1.uk.e43.eu) (Quit: http://quassel-irc.org - Chat comfortably. Anywhere.)
[18:25:22] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[18:27:05] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[18:30:52] *** Quits: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com) (Ping timeout)
[18:31:00] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[18:31:35] *** Quits: tulloch (tulloch@moz-1C33A2E7.nat.csx.cam.ac.uk) (Ping timeout)
[18:32:28] *** Joins: h0rrorvacui (h0rrorvacu@moz-5B34B08.sip.bhm.bellsouth.net)
[18:32:39] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Connection reset by peer)
[18:32:50] *** Joins: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com)
[18:32:56] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[18:34:38] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Ping timeout)
[18:35:25] *** Joins: jvshahid (jvshahid@moz-C1BC0CE4.nyc.res.rr.com)
[18:35:43] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[18:37:18] *** Quits: beifeng (Mibbit@32B41A.FA7FF645.C7DB8B78.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[18:37:47] *** Joins: beifeng (Mibbit@32B41A.FA7FF645.C7DB8B78.IP)
[18:45:09] *** Quits: w3lcome (Mibbit@moz-FE6BEF26.home.otenet.gr) (Quit: http://www.mibbit.com ajax IRC Client)
[18:45:57] *** Joins: w3lcome (Mibbit@moz-FE6BEF26.home.otenet.gr)
[18:46:07] *** Quits: jvshahid (jvshahid@moz-C1BC0CE4.nyc.res.rr.com) (Quit: Lost terminal)
[18:46:20] *** Joins: tiffany (kawaii@moz-28A8742A.dhcp.embarqhsd.net)
[18:47:58] *** Joins: futurehorizons (Mibbit@moz-61717F7A.bitstream.orcon.net.nz)
[18:50:01] <futurehorizons> let mut decorator_args : &~[~str] = &~[~""]; decorator_args.push(arg.second().clone()); cannot borrow immutable dereference of & pointer as mutable
[18:50:32] <kimundi> need to be a &mut~[~str]
[18:50:43] <bstrie> wow, that's pretty gnarly
[18:50:45] <eddyb> oh dear
[18:50:56] <eddyb> and here I thought Smaug was ugly
[18:51:01] <kimundi> but you can just leave fo the & here 
[18:51:17] <kimundi> let mut decorator_args : ~[~str] = ~[~""]; decorator_args.push(arg.second().clone()); 
[18:51:45] *** Quits: alisdair (textual@moz-2F3322CF.hsd1.tx.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[18:51:53] <eddyb> let decorator_args : &mut~[~str] = &~[~""]; (*decorator_args).push(arg.second().clone());
[18:52:00] <eddyb> it's even worse with the reference
[18:52:27] <sp3d> "let mut decorator_args = ~[~"", arg.second().clone()];"?
[18:52:35] <kimundi> eddyb: No need for the deref, but as I said it'S uneccessary
[18:53:17] <kimundi> rusti: let mut decorator_args = ~[~""]; decorator_args.push(~"hi"); decorator_args
[18:53:18] -rusti- ~[~"", ~"hi"]
[18:53:32] <eddyb> kimundi: oh, right. but with &, it doesn't need decorator_args to be mutable anyway
[18:53:52] <kimundi> eddyb: That'S not the point, with & you can'T push
[18:54:09] <eddyb> what's wrong with your '?
[18:54:38] *** Joins: isaacd (me@moz-6902374D.dhcp.oxfr.ma.charter.com)
[18:55:31] <kimundi> Self taught keyboard typing on a german layout + being bad with grammar in general = a lot of typos I regret instantly.
[18:56:57] *** Joins: valenting (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP)
[18:57:12] <kimundi> The thing with ' falls under the "Not letting go of shift fast enough" category of stupid typos :|
[18:58:55] <futurehorizons> let mut decorator_args :  ~[~str] = ~[~""]; fcall(decorator_a,rgs),mut decorator_args : &mut ~[~str] [~str]` (expected &-ptr but found vector) [~str]` (expected &-ptr but found vector)
[18:59:10] *** Joins: Nicole (garibianch@moz-DB65FF7F.retail.telecomitalia.it)
[18:59:19] <Nicole> ciao
[18:59:22] <Nicole> !list
[18:59:46] *** Parts: Nicole (garibianch@moz-DB65FF7F.retail.telecomitalia.it) ()
[19:00:01] <myname> stupid italians
[19:00:24] <futurehorizons> let mut decorator_args :  ~[~str] = ~[~""]; fcall(decorator_a,rgs),fn(mut decorator_args : &mut ~[~str]), [~str]` (expected &-ptr but found vector) [~str]` (expected &-ptr but found vector)
[19:00:39] *** Quits: heftig (heftig@moz-DB641A09.dip0.t-ipconnect.de) (Ping timeout)
[19:01:22] <futurehorizons> I just haven't got my head around rust pointers.
[19:01:26] <kimundi> No idea what you'Re trying to do there, that is not valid rust code as far as I can see
[19:02:18] <futurehorizons> The fcall code doesn't compile. Gives the error at the end. When passing to the fn() listed above.
[19:02:40] *** Quits: josh (josh@moz-6FB23C25.hvc.res.rr.com) (Quit: josh)
[19:04:24] <kimundi> Again, what you posted there doesn't make any sense rust grammar wise, and I'm not sure what you want to do...
[19:04:39] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[19:05:11] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[19:05:14] *** Joins: nmatsakis (nmatsakis@moz-DB4A9C19.scl3.mozilla.com)
[19:05:15] *** ChanServ sets mode: +ao nmatsakis nmatsakis
[19:05:25] *** Joins: gavin (gavin@moz-DB4A9C19.scl3.mozilla.com)
[19:05:26] <kimundi> rusti: let mut decorator_args = ~[~""]; fn foo(x: &mut ~[~str]) { x.push(~"hi"); } foo(&mut decorator_args); decorator_args
[19:05:27] *** Joins: pmoore|away (pmoore@moz-DB4A9C19.scl3.mozilla.com)
[19:05:27] -rusti- ~[~"", ~"hi"]
[19:05:42] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[19:05:53] <kimundi> Is that what you'Re trying to do ^ ?
[19:06:05] <futurehorizons> kimundi: I'll try that before thanking you.
[19:06:39] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[19:06:48] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[19:07:16] *** Joins: lbergstrom (lbergstrom@moz-DB4A9C19.scl3.mozilla.com)
[19:09:02] *** Quits: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com) (Quit: )
[19:09:25] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Ping timeout)
[19:09:38] *** Quits: gavin (gavin@moz-DB4A9C19.scl3.mozilla.com) (Input/output error)
[19:09:39] *** Quits: nmatsakis (nmatsakis@moz-DB4A9C19.scl3.mozilla.com) (Input/output error)
[19:10:01] *** Joins: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com)
[19:10:39] *** Quits: pmoore|away (pmoore@moz-DB4A9C19.scl3.mozilla.com) (Ping timeout)
[19:10:39] *** Quits: lbergstrom (lbergstrom@moz-DB4A9C19.scl3.mozilla.com) (Ping timeout)
[19:11:43] *** Parts: indirect (indirect@FF2E9FB5.2D90256.2360BC4.IP) ()
[19:13:54] *** Joins: nmatsakis (nmatsakis@moz-DB4A9C19.scl3.mozilla.com)
[19:13:54] *** ChanServ sets mode: +ao nmatsakis nmatsakis
[19:13:58] *** Joins: lbergstrom (lbergstrom@moz-DB4A9C19.scl3.mozilla.com)
[19:14:07] *** Joins: gavin (gavin@moz-DB4A9C19.scl3.mozilla.com)
[19:14:43] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[19:15:28] *** Joins: pmoore|away (pmoore@moz-DB4A9C19.scl3.mozilla.com)
[19:15:33] *** Joins: heftig (heftig@moz-E8DF09AF.dip0.t-ipconnect.de)
[19:15:36] <futurehorizons> kimundi: Thanks. It compiles now.
[19:15:40] *** Joins: rhelmer (rhelmer@moz-DB4A9C19.scl3.mozilla.com)
[19:16:13] *** Quits: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com) (Ping timeout)
[19:16:35] *** Joins: Diamond (dick@moz-80556682.ks.ks.cox.net)
[19:16:40] *** rhelmer is now known as IRCMonkey7626
[19:17:04] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[19:18:26] *** Joins: josh (josh@moz-6FB23C25.hvc.res.rr.com)
[19:18:27] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[19:19:13] *** Joins: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com)
[19:21:58] *** Joins: tulloch (tulloch@moz-6809CC86.nat.csx.cam.ac.uk)
[19:23:01] *** Quits: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com) (Ping timeout)
[19:24:03] *** Joins: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com)
[19:26:43] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[19:26:46] *** Joins: maxiepoo (Max@moz-6F50ADE.hsd1.il.comcast.net)
[19:27:13] *** Quits: maxiepoo (Max@moz-6F50ADE.hsd1.il.comcast.net) (Quit: maxiepoo)
[19:28:30] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[19:29:04] *** Joins: ross (ross@moz-5EA04060.br.br.cox.net)
[19:29:59] *** Joins: froydnj (nfroyd@moz-DB4A9C19.scl3.mozilla.com)
[19:31:57] *** Quits: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net) (Ping timeout)
[19:34:01] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[19:34:35] *** Joins: moostik (Icedove@5A22E6A1.10715965.BCDF592F.IP)
[19:35:43] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Ping timeout)
[19:36:18] *** Joins: Nicole (garibianch@moz-DB65FF7F.retail.telecomitalia.it)
[19:36:18] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[19:36:27] <Nicole> ciao
[19:36:31] <Nicole> !lista
[19:36:36] *** Quits: nmatsakis (nmatsakis@moz-DB4A9C19.scl3.mozilla.com) (Input/output error)
[19:36:38] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Ping timeout)
[19:36:38] *** Quits: pmoore|away (pmoore@moz-DB4A9C19.scl3.mozilla.com) (Ping timeout)
[19:36:53] *** Quits: gavin (gavin@moz-DB4A9C19.scl3.mozilla.com) (Input/output error)
[19:37:00] *** Quits: Nicole (garibianch@moz-DB65FF7F.retail.telecomitalia.it) (Quit: 1,15www.TuttoIRC.it 12m4IRC12 6.21 1in Italiano by TuttoIRC & ^DaNGeR^)
[19:37:08] <myname> it's getting even worse
[19:37:28] *** Quits: froydnj (nfroyd@moz-DB4A9C19.scl3.mozilla.com) (Ping timeout)
[19:37:38] *** Quits: lbergstrom (lbergstrom@moz-DB4A9C19.scl3.mozilla.com) (Ping timeout)
[19:37:44] *** Quits: IRCMonkey7626 (rhelmer@moz-DB4A9C19.scl3.mozilla.com) (Ping timeout)
[19:37:56] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[19:38:12] *** Joins: nmatsakis (nmatsakis@moz-DB4A9C19.scl3.mozilla.com)
[19:38:12] *** ChanServ sets mode: +ao nmatsakis nmatsakis
[19:38:21] *** Joins: gavin (gavin@moz-DB4A9C19.scl3.mozilla.com)
[19:38:49] *** Joins: lmandel (lmandel@moz-76CE9D51.cable.teksavvy.com)
[19:39:10] *** Quits: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com) (Ping timeout)
[19:39:27] *** Joins: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com)
[19:40:02] *** Quits: askalski (akuda@309E5B07.C38989A9.A61CD463.IP) (Input/output error)
[19:40:28] *** Quits: gavin (gavin@moz-DB4A9C19.scl3.mozilla.com) (Ping timeout)
[19:40:43] *** Joins: [squiddy] (squiddy@moz-67D2F7C0.dynamic.cablesurf.de)
[19:40:46] *** Quits: beifeng (Mibbit@32B41A.FA7FF645.C7DB8B78.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[19:41:11] *** Quits: nmatsakis (nmatsakis@moz-DB4A9C19.scl3.mozilla.com) (Ping timeout)
[19:42:02] *** Quits: josh (josh@moz-6FB23C25.hvc.res.rr.com) (Quit: josh)
[19:44:12] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Quit: Busying myself...)
[19:44:17] *** Joins: bblum (bblum@moz-2B41ACB5.andrew.cmu.edu)
[19:45:12] *** Joins: toroidalcode (textual@33D4DC38.B729549C.409A3427.IP)
[19:50:01] <tiffany> the search function on the rust docs site just stopped working
[19:50:55] *** Quits: moostik (Icedove@5A22E6A1.10715965.BCDF592F.IP) (Ping timeout)
[19:52:05] <cmr> nathan7: have you seen rust-core?
[19:52:35] *** Quits: valenting (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP) (Ping timeout)
[19:52:42] <nathan7> cmr: no, don't think so
[19:53:01] <cmr> tiffany: works for me?
[19:56:05] <tiffany> how do I escape # in format strings?
[19:56:18] <kimundi> \#
[19:56:37] <tiffany> unknown string escape: \#
[19:57:00] <kimundi> That is, in raw string literals its \#, in a regualr string literal the \ itself needs escaping: \\#
[19:57:07] <tiffany> ah
[19:58:21] <eddyb> gaaah
[19:58:28] <eddyb> this is precisely what I need mixins for
[19:58:59] <eddyb> I guess I can have a trait method to return a &'self Context
[20:01:24] <eddyb> designing APIs is fun and hell at the same time
[20:01:26] <eddyb> GAAAAH
[20:06:00] *** Joins: beifeng (Mibbit@32B41A.FA7FF645.C7DB8B78.IP)
[20:08:57] *** Quits: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com) (Ping timeout)
[20:09:03] *** Joins: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com)
[20:09:58] *** Joins: nmatsakis (nmatsakis@moz-DB4A9C19.scl3.mozilla.com)
[20:09:58] *** ChanServ sets mode: +ao nmatsakis nmatsakis
[20:10:14] *** Quits: Liothen (liothen@moz-2D076547.spkn.qwest.net) (Input/output error)
[20:10:16] *** Joins: gavin (gavin@moz-DB4A9C19.scl3.mozilla.com)
[20:10:16] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[20:10:17] *** Joins: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net)
[20:10:20] *** Joins: rhelmer (rhelmer@moz-DB4A9C19.scl3.mozilla.com)
[20:10:23] *** Joins: lbergstrom (lbergstrom@moz-DB4A9C19.scl3.mozilla.com)
[20:11:20] *** rhelmer is now known as IRCMonkey28728
[20:11:32] *** Joins: pmoore|away (pmoore@moz-DB4A9C19.scl3.mozilla.com)
[20:16:49] *** Quits: beifeng (Mibbit@32B41A.FA7FF645.C7DB8B78.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[20:18:19] *** Joins: froydnj (nfroyd@moz-DB4A9C19.scl3.mozilla.com)
[20:20:53] *** Quits: lbergstrom (lbergstrom@moz-DB4A9C19.scl3.mozilla.com) (Ping timeout)
[20:20:53] *** Quits: froydnj (nfroyd@moz-DB4A9C19.scl3.mozilla.com) (Ping timeout)
[20:21:07] *** Quits: nmatsakis (nmatsakis@moz-DB4A9C19.scl3.mozilla.com) (Ping timeout)
[20:21:07] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Ping timeout)
[20:21:07] *** Quits: pmoore|away (pmoore@moz-DB4A9C19.scl3.mozilla.com) (Ping timeout)
[20:21:19] *** Quits: gavin (gavin@moz-DB4A9C19.scl3.mozilla.com) (Ping timeout)
[20:21:19] *** Quits: IRCMonkey28728 (rhelmer@moz-DB4A9C19.scl3.mozilla.com) (Ping timeout)
[20:22:24] *** Joins: valenting (Thunderbir@6F630D40.173A6960.FB866788.IP)
[20:22:33] *** Joins: froydnj (nfroyd@moz-DB4A9C19.scl3.mozilla.com)
[20:22:33] *** Joins: pmoore|away (pmoore@moz-DB4A9C19.scl3.mozilla.com)
[20:22:38] *** Joins: gavin (gavin@moz-DB4A9C19.scl3.mozilla.com)
[20:22:47] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[20:22:53] *** Joins: nmatsakis (nmatsakis@moz-DB4A9C19.scl3.mozilla.com)
[20:22:53] *** ChanServ sets mode: +ao nmatsakis nmatsakis
[20:23:25] *** Quits: [squiddy] (squiddy@moz-67D2F7C0.dynamic.cablesurf.de) (Quit: Leaving)
[20:24:09] *** Quits: paulproteus (quassel@199.199.210.158) (Ping timeout)
[20:24:19] *** Joins: paulproteus (quassel@458FE134.3EC36C88.CBDCF1DC.IP)
[20:26:43] *** Joins: lbergstrom (lbergstrom@moz-DB4A9C19.scl3.mozilla.com)
[20:27:09] *** Joins: rhelmer (rhelmer@moz-DB4A9C19.scl3.mozilla.com)
[20:27:16] *** Joins: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP)
[20:28:06] *** Quits: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com) (Ping timeout)
[20:28:06] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[20:28:11] *** rhelmer is now known as IRCMonkey20385
[20:28:34] *** Joins: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com)
[20:29:10] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[20:29:58] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[20:30:16] *** Quits: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com) (Ping timeout)
[20:31:02] *** Joins: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com)
[20:33:55] *** Quits: valenting (Thunderbir@6F630D40.173A6960.FB866788.IP) (Ping timeout)
[20:34:24] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[20:36:06] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Ping timeout)
[20:36:14] *** Joins: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu)
[20:39:22] *** Quits: mikezaby (mikezaby@moz-AA896205.home.otenet.gr) (Input/output error)
[20:39:45] *** Quits: redbrain (redbrain@moz-A78C4B0A.vm.bytemark.co.uk) (Ping timeout)
[20:40:02] *** Quits: BizarreCake (BizarreCak@moz-361FE9B2.dynamic.barak-online.net) (Ping timeout)
[20:40:20] *** Quits: parcha (quassel@moz-A9A9F340.hsd1.ma.comcast.net) (Ping timeout)
[20:43:49] *** Joins: FrozenCow_ (FrozenCow@moz-B2DF4929.chello.nl)
[20:44:38] *** Joins: parcha (quassel@moz-A9A9F340.hsd1.ma.comcast.net)
[20:45:44] <eddyb> rusti: let mut a = 0; let b: &mut int = &a; let c: &mut int = &a; (a, *b, *c)
[20:45:46] -rusti- pastebinned 8 lines of output: http://sprunge.us/DKWS
[20:46:10] <eddyb> rusti: let mut a = 0; let b: &mut int = &mut a; let c: &mut int = &mut a; (a, *b, *c)
[20:46:11] -rusti- pastebinned 8 lines of output: http://sprunge.us/hLdg
[20:46:42] <eddyb> rusti: let mut a = 0; let b: &mut int = &mut a; (a, *b)
[20:46:43] -rusti- (0, 0)
[20:46:54] <eddyb> rusti: let mut a = 0; let b: &mut int = &mut a; a = 5; (a, *b)
[20:46:56] -rusti- pastebinned 8 lines of output: http://sprunge.us/RTQd
[20:47:07] <eddyb> well, fuck
[20:47:15] *** Quits: w3lcome (Mibbit@moz-FE6BEF26.home.otenet.gr) (Quit: http://www.mibbit.com ajax IRC Client)
[20:48:17] *** Joins: w3lcome (Mibbit@moz-FE6BEF26.home.otenet.gr)
[20:50:04] *** Quits: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com) (Ping timeout)
[20:50:11] *** Joins: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com)
[20:50:46] *** Joins: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[20:50:46] *** Quits: lmandel (lmandel@moz-76CE9D51.cable.teksavvy.com) (Ping timeout)
[20:50:55] <eddyb> I need borrows >_>
[20:51:43] <eddyb> I know they don't escape, I just can't have them :(
[20:52:45] <eddyb> do I need to use Rc<T> here?
[20:52:59] *** Joins: lmandel (lmandel@moz-76CE9D51.cable.teksavvy.com)
[20:53:13] <Florob> rusti: let mut a = 0; let b: &mut int = &mut a; b = 5; (a, *b)
[20:53:14] -rusti- <anon>:9:54: 9:55 error: mismatched types: expected `&mut int` but found `<VI1>` (expected &-ptr but found integral variable)
[20:53:14] -rusti- <anon>:9          let mut a = 0; let b: &mut int = &mut a; b = 5; (a, *b)
[20:53:14] -rusti-                                                                ^
[20:53:14] -rusti- error: aborting due to previous error
[20:53:15] -rusti- application terminated with error code 101
[20:53:33] <eddyb> rusti: let mut a = 0; let b: &mut int = &mut a; *b = 5; (a, *b)
[20:53:34] -rusti- (5, 5)
[20:53:50] <eddyb> rusti: Rc::new(0u)
[20:53:51] -rusti- pastebinned 11 lines of output: http://sprunge.us/BXDG
[20:54:03] *** Quits: Jackneill (Jackneill@moz-3A5D49B7.pool.digikabel.hu) (Input/output error)
[20:54:14] *** Joins: spott (spott@D76D9638.B3FAD41.E7673F62.IP)
[20:54:36] <eddyb> rusti: use ::std::rc::Rc; Rc::new(0u)
[20:54:37] -rusti- <anon>:9:13: 9:15 error: expected ident, found `::`
[20:54:37] -rusti- <anon>:9          use ::std::rc::Rc; Rc::new(0u)
[20:54:37] -rusti-                       ^~
[20:54:37] -rusti- application terminated with error code 101
[20:54:48] <eddyb> rusti: use std::rc::Rc; Rc::new(0u)
[20:54:49] -rusti- pastebinned 8 lines of output: http://sprunge.us/VBdW
[20:54:56] <cmr> 0.8
[20:55:03] <cmr> it's extra::rc
[20:55:11] <eddyb> cmr: thanks :D
[20:55:22] <eddyb> rusti: use extra::rc::Rc; Rc::new(0u)
[20:55:22] -rusti- <anon>:9:28: 9:35 error: unresolved name `Rc::new`.
[20:55:23] -rusti- <anon>:9          use extra::rc::Rc; Rc::new(0u)
[20:55:23] -rusti-                                      ^~~~~~~
[20:55:23] -rusti- error: aborting due to previous error
[20:55:23] -rusti- application terminated with error code 101
[20:55:56] <kimundi> from_freeze or from_send
[20:56:38] *** Joins: tdc (santegoeds@moz-9E05C5A4.range86-159.btcentralplus.com)
[20:56:51] *** Quits: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com) (Ping timeout)
[20:58:23] <eddyb> rusti: use extra::rc::RcMut; type P = RcMut<int>; let a = P::from_freeze(0u); let b = a; (a, b)
[20:58:24] -rusti- pastebinned 11 lines of output: http://sprunge.us/YjVU
[20:58:38] <kimundi> need to .clone()
[20:58:43] <eddyb> kimundi: thanks
[20:58:46] <cmr> and no associated functions on typedevs
[20:58:48] <cmr> *defs
[20:59:16] *** Quits: nathan7 (nathan@moz-60FC7746.nathan7.eu) (Ping timeout)
[20:59:22] <eddyb> hmpf
[20:59:28] *** Quits: kaeso (kaeso@moz-F21FF626.unstable.it) (Ping timeout)
[20:59:47] <kimundi> rusti: use extra::rc::RcMut; let a = RcMut::from_freeze(0u); let b = a.clone(); (a, b)
[20:59:49] -rusti- (extra::rc::RcMut<uint>{ptr: (0x7f04e641f060 as *mut ())}, extra::rc::RcMut<uint>{ptr: (0x7f04e641f060 as *mut ())})
[20:59:55] *** Quits: glandium (glandium@moz-A09032B1.kimsufi.com) (Ping timeout)
[20:59:58] <eddyb> but I'm not sure where I would have to clone
[21:00:08] <cmr> let b = a.clone()
[21:00:14] *** Joins: glandium (glandium@moz-A09032B1.kimsufi.com)
[21:00:17] <cmr> otherwise it's a move and you can't return a
[21:00:18] <kimundi> The RcMut handle itself needs to be explicitly cloned to increase the ref counter
[21:00:24] *** Joins: nathan7 (nathan@moz-60FC7746.nathan7.eu)
[21:00:30] *** Joins: josh (josh@moz-6FB23C25.hvc.res.rr.com)
[21:00:32] *** Joins: kaeso (kaeso@moz-F21FF626.unstable.it)
[21:00:39] *** Joins: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP)
[21:02:11] <eddyb> cmr: as in... I have a lot of auto-generated code
[21:02:26] <eddyb> and I'm not really sure where I should clone
[21:02:59] *** Quits: mcpherrin (mcpherrin@moz-DFB1CE19.hsd1.ca.comcast.net) (Quit: leaving)
[21:03:21] *** Joins: mcpherrin (mcpherrin@moz-DFB1CE19.hsd1.ca.comcast.net)
[21:08:51] *** Quits: StarLight (StarLight@moz-21FB6165.dynamic.avangarddsl.ru) (Ping timeout)
[21:09:11] *** Quits: ianj (ianjneu@moz-7BA002E.hsd1.ma.comcast.net) (Quit: leaving)
[21:09:37] *** Joins: StarLight (StarLight@moz-21FB6165.dynamic.avangarddsl.ru)
[21:09:51] *** Quits: freezerburnv (freezerbur@moz-E25EEE31.washdc.fios.verizon.net) (Quit: freezerburnv)
[21:10:32] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[21:11:32] *** Joins: jeaye (Jeaye@moz-34FEF2BB.hsd1.ca.comcast.net)
[21:12:01] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[21:12:39] <eddyb> daaaaaaamit
[21:13:31] <eddyb> I can't afford heap operations in the general case
[21:15:12] *** Joins: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP)
[21:18:39] *** Quits: Ms2ger (Ms2ger@AB9469A5.3CF91143.187A1082.IP) (Quit: nn)
[21:21:27] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Quit: Leaving...)
[21:22:13] *** Joins: fyolnish (fyolnish@moz-E720CDF.uqwimax.jp)
[21:23:33] <eddyb> do I really need two kinds of register references? eeeeeh
[21:23:58] *** Quits: fyolnish (fyolnish@moz-E720CDF.uqwimax.jp) (Ping timeout)
[21:25:16] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[21:29:25] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[21:29:43] <cmr> rust-buildbot: dance
[21:29:45] <rust-buildbot> <(^.^<)
[21:29:46] <rust-buildbot> <(^.^)>
[21:29:47] <rust-buildbot> (>^.^)>
[21:29:47] <rust-buildbot> (7^.^)7
[21:29:49] <rust-buildbot> (>^.^<)
[21:30:53] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[21:31:11] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[21:32:14] *** Quits: nsf (nsf@moz-EEF3238A.convex.ru) (Quit: WeeChat 0.4.2)
[21:32:26] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[21:32:53] *** Quits: spott (spott@D76D9638.B3FAD41.E7673F62.IP) (Ping timeout)
[21:33:38] *** Joins: spott (spott@D76D9638.B3FAD41.E7673F62.IP)
[21:35:11] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[21:35:32] <eddyb> http://zed0.co.uk/crossword/
[21:36:51] <sam113101> rust-buildbot: (づ￣ ³￣)づ
[21:36:51] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Ping timeout)
[21:37:05] <myname> xkcd can't make jokes without someone taking it serious
[21:38:24] <mimcpher> is this on hacker news or something?
[21:38:29] <mimcpher> was just pasted in like 4 irc channels I'm in
[21:39:49] <sam113101> lawl
[21:39:52] <sam113101> this is amazing
[21:40:50] <myname> i like how some people actually write the correct passwords
[21:41:49] *** Quits: mcpherrin (mcpherrin@moz-DFB1CE19.hsd1.ca.comcast.net) (Quit: leaving)
[21:41:53] *** Joins: mcpherrin (mcpherrin@moz-DFB1CE19.hsd1.ca.comcast.net)
[21:42:09] *** Joins: jviereck (Adium@moz-CF8216D6.dip0.t-ipconnect.de)
[21:43:40] *** Quits: sam113101 (sam@moz-ADDDDFB1.mc.videotron.ca) (Quit: WeeChat 0.4.3-dev)
[21:44:29] <eddyb> myname: I'm about to finish mine
[21:44:31] *** Joins: sam113101 (sam@moz-ADDDDFB1.mc.videotron.ca)
[21:44:53] <eddyb> and, myname, xkcd isn't always joking :P
[21:45:08] <myname> the tetris hell made me laugh really hard
[21:45:18] *** Joins: kvark (Mibbit@moz-F30E0473.cpe.net.cable.rogers.com)
[21:46:09] <kvark> Can I use #cfg to filter out switch cases?
[21:46:12] <eddyb> one left :D
[21:46:32] <myname> "test-1" is pretty hard
[21:46:43] *** Quits: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP) (Client exited)
[21:46:43] <cmr> kvark: 1. we don't have switch, 2. no, cfg only applies to items, not expressions or parts of expressions
[21:47:58] <eddyb> myname: some are so unrelated, they're weird
[21:48:35] <kvark> cmr: sorry, I mean "match" cases. Where can I get more info on 'cfg'? You are saying "applies to items" - what can be those items other than functions?
[21:48:38] <myname> "adobe; flash; software; company; not adobe"
[21:49:37] <cmr> kvark: http://static.rust-lang.org/doc/master/rust.html#items
[21:49:38] <eddyb> company name twice; adobeX2; this; logiciel; ??; ???????; what is this
[21:49:47] <myname> adobeadobe
[21:49:58] <eddyb> oh I know that one, one of the firsts
[21:50:09] <eddyb> myname: but one guy was like "captain obvious"
[21:50:36] <kvark> cmr: ok, thanks
[21:51:02] *** Quits: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[21:51:27] <eddyb> myname: oh, wow, I've got everything right. just that one word I'm missing
[21:51:38] *** Joins: bleibig (bleibig@moz-B4D9C5AF.hsd1.ca.comcast.net)
[21:51:55] <myname> i don't get the michael with one letter short
[21:53:08] *** Joins: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP)
[21:54:04] <kimundi> password: enterprise. hint: ncc-1701. I have the feeling other way round would've been more secure...
[21:54:05] <eddyb> myname: it's not "michael" at all (letters don't match)
[21:54:14] <eddyb> kimundi: hahahaha
[21:54:30] <myname> eddyb: i don't get the hints
[21:54:35] <eddyb> myname: that's the one I have left
[21:54:39] <eddyb> it's confusing as fuck
[21:54:49] <myname> eddyb: i made revealing
[21:54:54] <myname> you won't get it
[21:54:59] <samnardoni> what's the deal with `pub use`? doesn't it make it more confusing?
[21:55:03] <eddyb> we need something like Watson to combine al the possible answers
[21:55:09] <eddyb> samnardoni: it's re-exporting
[21:55:13] <cmr> samnardoni: doesn't it make what more confusing?
[21:55:33] <eddyb> samnardoni: it imports and it marks as public, so exporting
[21:56:01] <eddyb> myname: hahaha I get "michael" now. clever
[21:56:05] <kimundi> eddyb, myname: Ha, now I feel superior for getting the michael one dispite not knowing anything about that sport and coming from the wrong country :P
[21:56:14] <myname> eddyb: tell me how
[21:56:18] <myname> eddyb: AH
[21:56:35] <myname> kimundi: i do, too
[21:56:36] <samnardoni> but... why? what's the need for it? why not just import directly?
[21:56:48] <eddyb> samnardoni: aliasing
[21:57:03] <cmr> samnardoni: it could be something from an internal, private module, or maybe you want to export it as a different name.
[21:57:03] <eddyb> samnardoni: APIs, etc.
[21:57:12] *** Quits: jviereck (Adium@moz-CF8216D6.dip0.t-ipconnect.de) (Quit: Leaving.)
[21:57:16] <eddyb> just like you have type
[21:57:23] <cmr> samnardoni: it's how the prelude works, for example.
[21:57:31] <cmr> it's just a module full of `pubuse`
[21:57:38] <cmr> `pub use`, sorry
[21:57:45] <eddyb> kimundi: I was paying too much attention at the other clues
[21:58:01] <samnardoni> it just seems like it adds more complexity for not much benefit
[21:58:20] <cmr> Like I just said: it's *required* for the prelude
[21:58:28] *** Quits: GeneralMaximus (ankur@3E3D38A6.38B3E32A.274D17D6.IP) (Ping timeout)
[21:58:52] <samnardoni> well, it's not required... it's one way of achieving it
[21:59:16] <cmr> How else would you do it while retaining coherent structure?
[21:59:20] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[21:59:24] <eddyb> samnardoni: how the heck does it add complexity?
[21:59:34] <SiegeLord> Sometimes you can't import directly
[21:59:41] *** Quits: prooftechnique (prooftechn@moz-65B7D4EE.hsd1.vt.comcast.net) (Quit: )
[21:59:45] <SiegeLord> E.g. if there's an intervening private module
[22:00:15] <eddyb> samnardoni: there's nothing complex about it
[22:00:30] <samnardoni> how is having more than 1 way of importing a module the same complexity of having 1
[22:00:37] <kimundi> Having reexports is more complex than not having them, and the prelude could in theory also be implemented as injected regular import lines. STill, that doesn't make rexports useless or not worth trouble
[22:00:52] <eddyb> the pub there does what it does everywhere else, it's being consistent
[22:00:54] <samnardoni> not saying it's useless
[22:01:47] <samnardoni> it just adds cognitive load
[22:01:48] <eddyb> rusti: type Int32 = i32; let x: Int32 = 5; x
[22:01:49] -rusti- 5i32
[22:02:15] <samnardoni> it gives me choice... do I import std::io::File or std::io::file::File?
[22:02:18] <eddyb> are you going to complain that being able to do that is problematic?
[22:02:31] <eddyb> samnardoni: there you go, you've hit the problem
[22:02:33] <cmr> eddyb: You're being overconfrontational
[22:02:37] <samnardoni> choices are not always a good thing
[22:02:54] <kimundi> eddyb: That is a) SOmething different, and b) _I_ complain about it being almost the same as imports alraeady :P
[22:03:14] <eddyb> cmr: I need to sleep. I can't focus on making this thing work at the API level
[22:03:46] <eddyb> samnardoni: the problem isn't "pub use", it's its usage
[22:04:11] <eddyb> just like you can name your types anything, it doesn't mean they should be all over 80 characters
[22:04:13] <samnardoni> well, yes, but what's the point in a feature if it's not used?
[22:04:14] <kimundi> samnardoni: Anyway, I get what you're saying, but solving the problems we need rexports for _and_ restricting import lines to one canonical path are mutual exclusive. Certainly, a solution where both would be solved would be better
[22:04:17] *** Joins: GeneralMaximus (ankur@31487853.D2C5E8E0.D2D1FAF0.IP)
[22:04:38] <eddyb> samnardoni: it has uses, but your example is very well a bad one
[22:04:43] <eddyb> (a bad use, that is)
[22:04:47] *** Quits: spott (spott@D76D9638.B3FAD41.E7673F62.IP) (Ping timeout)
[22:04:50] <eddyb> and on that note, good night
[22:05:55] <samnardoni> i'm not trying to be a downer for no reason. i understand the problems that the re-exports solve. but, you know, pros and cons
[22:06:02] <kimundi> samnardoni: That said, with proper conventions and good doc tools, the added complexity of having re exports doesn't seem that bad
[22:06:39] <samnardoni> yeah, true, I'm sure it could all work out fine
[22:07:05] <SiegeLord> You literally can't do some things without them... so it's not like it's gratuitous
[22:07:14] <eddyb9> sweet, now I can di-, I mean, sleep happy
[22:07:32] <dbaupp> rusti: from_str::<extra::bigint::BigInt>("1"+"0".repeat(9)).unwrap().to_str()
[22:07:33] -rusti- application terminated abnormally with signal 11 (Segmentation fault)
[22:07:39] <dbaupp> rusti: from_str::<extra::bigint::BigInt>("1"+"0".repeat(18)).unwrap().to_str()
[22:07:44] <kimundi> I find the fact that `pub type` and `pub use` behave almost the same in some situations and completly different in others more worrysome
[22:07:44] -rusti- timeout triggered!
[22:07:44] <samnardoni> SiegeLord: but it's not the *only* way to do it
[22:07:56] <dbaupp> cmr: worked out that bigint thing  ^
[22:07:57] <SiegeLord> samnardoni: For some things, it is
[22:08:35] <SiegeLord> There is no other way of making thing visible if they're behind a private module
[22:08:46] <SiegeLord> The only way to do it is to do a pub us
[22:08:51] <SiegeLord> *pub use
[22:09:00] *** Quits: eddyb (eddy@336E3A7F.D51DAF03.FB866788.IP) (Ping timeout)
[22:09:18] <samnardoni> what exactly is a private module?
[22:09:24] <cmr> 'mod foo;'
[22:09:30] <cmr> (as opposed to 'pub mod foo;'
[22:09:31] <cmr> )
[22:10:24] <kimundi> pub mod foo { pub use self::bar::baz; mod bar { pub fn baz() {} } }
[22:10:52] <kimundi> makes baz visible as foo::baz() despite being in a private module
[22:11:32] <samnardoni> but couldn't you separate that "inner module" to a "file module"? (unsure of terminology)
[22:11:41] <samnardoni> i.e., if you want it to be public, define it in a file
[22:11:42] <kimundi> (Which is usefull for structuring huge codebases, or hiding implementation/library details)
[22:12:03] <kimundi> samnardoni: Rusts module system doesn't care about files
[22:12:18] <samnardoni> I thought each file was a different module?
[22:12:27] <kimundi> samnardoni: It's all only defined with nested `mod` declarations
[22:12:51] <kimundi> samnardoni: You can _store_ the body of a module in its own seperate source file
[22:13:24] <kimundi> samnardoni: But the "Each file is a module" describtion that used to be in the tutorial simply gives the wrong idea
[22:13:42] *** Quits: w3lcome (Mibbit@moz-FE6BEF26.home.otenet.gr) (Quit: http://www.mibbit.com ajax IRC Client)
[22:14:06] <kimundi> "Every .rs file contains the body of a module" would be more correct
[22:14:21] <samnardoni> Ah okay. confusing...
[22:14:37] *** Parts: kvark (Mibbit@moz-F30E0473.cpe.net.cable.rogers.com) ()
[22:14:50] *** Joins: alisdair (textual@moz-2F3322CF.hsd1.tx.comcast.net)
[22:14:58] <kimundi> mod foo; is the same as mod foo { /* insert content of foo.rs here */ }
[22:15:17] *** Joins: alonlevy (alon@moz-AF5FCD60.inter.net.il)
[22:15:19] <cmr> (unless foo is a directory, and then it's foo/mod.rs)
[22:15:37] <kimundi> which means, a foo.rs on its own has no meaning unless some other source file explicitly tried to use it's content
[22:16:06] <kimundi> cmr: (The full rules are even more complex :P)
[22:16:17] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Quit: Jesse)
[22:17:27] <samnardoni> for me, i think it boils down to: i hate making decisions about this sort of stuff
[22:18:05] <samnardoni> do I put this in a different file? in a different module? do I call it udp::Socket or UdpSocket? 
[22:18:23] <kimundi> samnardoni: Well, the convention and usual situation is that there is only one path to something for the user
[22:18:42] <samnardoni> kimundi: Ah, that's good
[22:19:06] <samnardoni> maybe most of my moaning is me just misunderstanding how it currently works :)
[22:20:02] <kimundi> samnardoni: putting it in a file is completly optional, and depends on your personal preference. putting it in a module again depends on your personal preference on hwo you logical want to structure your code. The last one should probably always be udp::Socket because that's what we have modules for after all
[22:20:28] *** Quits: sam113101 (sam@moz-ADDDDFB1.mc.videotron.ca) (Quit: WeeChat 0.4.3-dev)
[22:20:31] <eddyb9> rusti: let a = 6u; (a, &a, &a, a)
[22:20:32] -rusti- pastebinned 30 lines of output: http://sprunge.us/eBKW
[22:20:40] <samnardoni> kimundi: but it's the "personal preference" part that grinds on me
[22:20:49] <samnardoni> especially when working in a team
[22:20:54] <kimundi> (I myself still need to accept that last point, I still feel more comfortable with a name like UdpSocket :P)
[22:21:17] <eddyb9> because of the lack of import aliasing?
[22:21:36] <eddyb9> use udp::Socket as UdpSocket;
[22:21:48] <dbaupp> eddyb9: use UdpSocket = udp::Socket works
[22:21:59] <eddyb9> oh. problem fixed :P
[22:22:12] <samnardoni> one of the things I really like about Go is that looking at someones else's code looks very similar to how I'd write it
[22:22:14] <SiegeLord> IRC'ing while asleep... you should go to a doctor for that :P
[22:22:18] <kimundi> samnardoni: Well, there is a recommended layout for that: put the body of every module in its own file, and put the mod declaration all on top of your crate root
[22:22:59] <eddyb9> rusti: let a = 6u; let (b, c) = (&a, &a); (a, *b, *c)
[22:23:00] -rusti- (6u, 6u, 6u)
[22:23:05] *** Joins: sam113101 (sam@moz-ADDDDFB1.mc.videotron.ca)
[22:23:07] <eddyb9> well then. gg
[22:23:28] *** Joins: fyolnish (fyolnish@moz-61C87B68.uqwimax.jp)
[22:23:47] <yuriks> Hey. How can I do a non-lazy map over a vector?
[22:23:53] <eddyb9> I can probably make my type heap-less
[22:24:02] <yuriks> or do I just do an iter map and convert that to a vector?
[22:24:08] <cmr> yuriks: yes, that
[22:24:25] <cmr> (.to_owned_vec() or .collect::<~[T]>())
[22:24:35] <eddyb9> (but what if the references go out of scope? much sad :()
[22:24:48] <eddyb9> I need OwnedExpr and Expr?
[22:24:49] <kimundi> eddyb9: Hm?
[22:25:17] *** Quits: fyolnish (fyolnish@moz-61C87B68.uqwimax.jp) (Ping timeout)
[22:25:30] <samnardoni> so, without a mod.rs and all the `pub use`s inside of it, I wouldnt be able to access anything from other files in that folder?
[22:25:33] <eddyb9> kimundi: I have a recursive expression type - at its basis, it has numeric constants and arithmetic operations. I use an enum for it
[22:25:59] <kimundi> samnardoni: No, pub use is not neccessary for that
[22:26:40] *** Quits: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP) (Client exited)
[22:26:52] *** Quits: tdc (santegoeds@moz-9E05C5A4.range86-159.btcentralplus.com) (Ping timeout)
[22:27:08] <samnardoni> I don't understand the module system at all
[22:27:18] *** Quits: eddyb9 (eddy@336E3A7F.D51DAF03.FB866788.IP) (Ping timeout)
[22:27:21] <kimundi> samnardoni: There is a lengthy explanation here: http://static.rust-lang.org/doc/master/tutorial.html#crates-and-the-module-system
[22:27:24] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[22:27:34] <SiegeLord> How would you run an iterator without collecting elements?
[22:27:44] <dbaupp> SiegeLord: for _ in iter {}
[22:28:02] *** Joins: eddyb9 (eddy@336E3A7F.D51DAF03.FB866788.IP)
[22:28:22] <yuriks> cmr: thanks. I have a feeling that there's a much more efficient and less allocation juggling way of doing this whole proccess I'm attempting. But I'll revise that later
[22:28:23] <SiegeLord> Kind of clunky... maybe there could be a flush or something
[22:28:27] <eddyb9> I blame the charger cable for that
[22:28:31] <samnardoni> kimundi: thanks
[22:28:59] <dbaupp> SiegeLord: how often does one need to flush an iterator though? it seems like a method that's only useful rarely
[22:29:07] *** Quits: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca) (Quit: Leaving.)
[22:29:16] *** Joins: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP)
[22:29:28] *** Quits: blank_name (blank_name@FAB53C88.7071B2C8.31EC03F3.IP) (Ping timeout)
[22:29:35] <SiegeLord> dbaupp: Well... v.mut_iter().map(|x| *x = 1)
[22:29:56] <dbaupp> SiegeLord: for x in v.mut_iter() { *x = 1; }
[22:29:57] <kimundi> There could be a .exhaust() method...
[22:30:01] *** Joins: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca)
[22:30:13] *** Joins: blank_name (blank_name@FAB53C88.7071B2C8.31EC03F3.IP)
[22:30:18] <eddyb9> kimundi: so, where was I... I can allocate everything on the stack, if I use &Expr inside Expr...
[22:30:19] <SiegeLord> I don't quite see what use you'd gain by storing that iterator anywhere
[22:30:38] <kimundi> ...but everytime someone brings that up someone else reminds the person that using `for` directly is shorter and more idiomatic :P
[22:30:46] <eddyb9> but then I can't move an Expr "tree" into the heap, if I have to
[22:30:46] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[22:30:53] <kimundi> eddyb9: Correct
[22:31:49] <eddyb9> tricky
[22:31:50] <samnardoni> kimundi: ah, I was getting mixed up between `pub mod` and `pub use` before
[22:32:07] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[22:32:12] <kimundi> samnardoni: Ah, okay :)
[22:32:19] <eddyb9> kimundi: do I need to duplicate everything?
[22:32:30] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[22:32:36] <eddyb9> and have a .to_owned()
[22:32:49] <kimundi> eddyb9: No idea, depends on what you want to do :P. 
[22:32:50] <samnardoni> so, without all the `pub mod`s in mod.rs, all the other contents of files are not accessible?
[22:32:52] <SiegeLord> Well, you could always chain more things onto my example
[22:33:03] <eddyb9> I'd really like to not touch the heap, if possible
[22:33:07] <SiegeLord> And the map might not be the very last function called
[22:33:09] <kimundi> samnardoni: Not from outside of the crate, no
[22:33:17] <SiegeLord> E.g. a.mut_iter().map(|x| { *x *= 2; x }).filter(|& &x| x > 2).map(|x| *x = 0)
[22:33:19] *** Parts: toroidalcode (textual@33D4DC38.B729549C.409A3427.IP) (Textual IRC Client: www.textualapp.com)
[22:33:38] *** Joins: sk (sk@61A494B3.BA40E8A.AAC02D62.IP)
[22:33:40] <eddyb9> kimundi: I might try not allowing nested exprs where I would have to use the heap
[22:33:57] <kimundi> eddyb9: You can define your type so that you can have either a &'static Expr of a ~Expr, or whatever you'Re working with
[22:34:01] <samnardoni> kimundi: right, I get it now, I think... still don't understand why though
[22:34:37] *** Joins: valenting (Thunderbir@6F630D40.173A6960.FB866788.IP)
[22:34:37] *** Quits: valenting (Thunderbir@6F630D40.173A6960.FB866788.IP) (Input/output error)
[22:34:41] *** Joins: valenting (Thunderbir@6F630D40.173A6960.FB866788.IP)
[22:34:56] <kimundi> eddyb9: enum SendExpr { ExprOwned(~Expr), ExprStatic(&'static Expr) } // :P
[22:35:06] <eddyb9> kimundi: but I'd need ~Expr to use ~Expr inside, while &Expr would use &Expr
[22:35:08] *** Quits: alonlevy (alon@moz-AF5FCD60.inter.net.il) (Ping timeout)
[22:35:11] *** Quits: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca) (Quit: Leaving.)
[22:35:12] <eddyb9> kimundi: oooh, clever
[22:35:55] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[22:36:00] <eddyb9> do I want to almost double my enum size, though?
[22:36:51] <eddyb9> is there some alignment on these things? can I use #[packed]?
[22:37:21] <kimundi> samnardoni: The idea is that you can logically arrange your code in the way that is most usefull for maintaining and reason about it, while at the same time being able to clearly define what the public API of your library is.
[22:37:40] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Ping timeout)
[22:37:43] *** Joins: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net)
[22:37:47] *** Quits: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP) (Client exited)
[22:37:57] *** Joins: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com)
[22:38:28] <eddyb9> kimundi: thanks, I might have to use that one
[22:38:56] <eddyb9> I think Cell has what I need, wrapping mutability
[22:39:34] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[22:39:38] <eddyb9> should I have Rc<Cell<T>>?
[22:39:56] <kimundi> eddyb9: We recently landed a patch that makes enum sizes as small as possible, but I think alignment would mean that for such an enum it amounts to 2 words, one for the descriminant and one for the pointer.
[22:41:07] <sp3d> shame we can't turn enums like that into tagged pointers :/
[22:41:40] <dbaupp> SiegeLord: I'd say that'd be clearer as `for x in a.mut_iter() { *x *= 2; if *x > 2 { *x = 0 } }`
[22:41:59] <dbaupp> eddyb9: RcMut<T> ?
[22:43:05] <eddyb9> Option<(i32, Either<i32, i32>)> is 8, 32, 8, 32, ends up being 4 words on 32-bit
[22:43:43] <sp3d> :/
[22:43:46] <eddyb9> that could be 3 words and still keep alignment, but I don't think people would like field rearrangement
[22:44:13] <sp3d> eddyb: rust makes no guarantees about enum representation (unless you use #[repr(C)])
[22:44:26] <strcat> cmr: bigint actually uses unsafe code? :(
[22:44:39] <sp3d> structs are the ones w/ external compatibility concerns
[22:44:56] <eddyb9> but it can't unwrap an inner enum
[22:44:56] *** Joins: spott (spott@D76D9638.B3FAD41.E7673F62.IP)
[22:45:18] <sp3d> eddyb: it would have to do some juggling on destructuring
[22:45:19] <eddyb9> without denying taking a reference of it
[22:45:29] *** Quits: valenting (Thunderbir@6F630D40.173A6960.FB866788.IP) (Ping timeout)
[22:45:29] <sp3d> hmm
[22:45:45] <sp3d> I guess so
[22:45:51] <yuriks> hmmm, any idea why the std docs refuse to search for "Clone"?
[22:46:20] <eddyb9> sp3d: the resulting code might as well be slower
[22:46:31] <sfackler> yuriks: there are some javascript issues https://github.com/mozilla/rust/issues/9981
[22:46:39] <sfackler> could be that
[22:47:01] <sp3d> eddyb9: yeah, time-memory tradeoff
[22:47:05] <eddyb9> what about unaligned access? where can it be slower? can we pack enums, just like structs?
[22:47:44] <strcat> eddyb9: unaligned access is invalid on many architectures
[22:47:50] <strcat> on x86, it was slower until recently
[22:47:58] <eddyb9> define recently :P
[22:48:07] <strcat> ivy bridge, I guess maybe sandy bridge
[22:48:21] <yuriks> sfackler: hmm, I see
[22:48:28] <eddyb9> (v8 has a flag to allow unaligned access on ARM, and it may be auto-detected)
[22:48:33] <eddyb9> strcat: dammit
[22:48:52] <strcat> eddyb9: unaligned access on ARM will be slow even if it is allowed afaik
[22:49:51] <strcat> and not using aligned memory will increase the chance of objects overlapping cache lines
[22:51:13] <eddyb9> well then, I have to choose between 3 words and either stack or heap, or 5 words and both stack and heap
[22:51:50] <eddyb9> but it's going to be 5 words anyway, if support u128/i128/f128
[22:52:23] <eddyb9> *if I
[22:53:22] <eddyb9> I sure hope it gets optimized, otherwise it will be a mess
[22:54:14] <yuriks> I'm trying this: fn reparent(objects: ~[Object], parent: ThingRef) -> ~[Object] { objects.map(|x| { x.parent = None; x }) }
[22:54:18] *** Quits: LRN (LRN@moz-50DF30B.nationalcablenetworks.ru) (Connection reset by peer)
[22:54:43] <yuriks> but I get this error: 
[22:54:44] *** Joins: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP)
[22:54:49] *** Quits: josh (josh@moz-6FB23C25.hvc.res.rr.com) (Quit: josh)
[22:54:52] <yuriks> mismatched types: expected `~[Object]` but found `~[&Object]` (expected struct Object but found &-ptr)
[22:55:22] <eddyb9> return *x instead of x
[22:55:29] *** Quits: StarLight (StarLight@moz-21FB6165.dynamic.avangarddsl.ru) (Ping timeout)
[22:55:32] <yuriks> I've tried a bunch of combinations involving cloning x into a mut variable or putting ~ in random places, but they only seem to have made it worse
[22:56:08] <kimundi> yuriks: objects.move_iter().map(|x| { x.parent = None; x }).to_owned_vec()
[22:56:19] <eddyb9> ooor, that
[22:56:59] <kimundi> *x will fail to compile if Object is not implicit copyable :P
[22:57:06] <yuriks> yup, it did ^^
[22:57:54] *** Quits: mcpherrin (mcpherrin@moz-DFB1CE19.hsd1.ca.comcast.net) (Ping timeout)
[22:57:59] <eddyb9> dbaupp: does RcMut need to be mutable?
[22:58:35] <yuriks> I'm guessing an enum with values containing ~str isn't implicitly copiable either
[22:58:36] *** Joins: StarLight (StarLight@moz-21FB6165.dynamic.avangarddsl.ru)
[22:58:39] *** Quits: japaric (japaric@71DF7B1A.51A03578.CBF5D49D.IP) (Ping timeout)
[22:58:39] <eddyb9> I guess I would feel more comfortable with a "mut Rc" type
[22:58:46] <yuriks> what should I do in this case, implement Clone for it?
[22:58:50] *** Joins: LRN (LRN@moz-50DF30B.nationalcablenetworks.ru)
[22:59:04] *** Joins: japaric (japaric@71DF7B1A.51A03578.CBF5D49D.IP)
[22:59:20] *** Quits: canhtak (canhtak@moz-43EC0376.wl.t.ulaval.ca) (Ping timeout)
[22:59:32] <kimundi> yuriks: Well, you don't need to copy with the move_iter variant
[22:59:34] *** Joins: Kingsley (kingsley@9B172CBE.BEA5C56D.DF4B730F.IP)
[22:59:42] <kimundi> yuriks: But if you want to anyway, then you need to impl clone
[23:00:03] <kimundi> yuriks: And call clone explicit
[23:00:08] <yuriks> kimundi: I had a typo there, I actually do x.parent = parent;
[23:00:11] <yuriks> and parent is said enum
[23:00:45] *** Quits: spott (spott@D76D9638.B3FAD41.E7673F62.IP) (Ping timeout)
[23:01:02] <kimundi> yuriks: Ah. Then you probably want some kind of reference counted/manged handle for parent, or a lot of clones :P
[23:01:31] <yuriks> parent is just an EnumValue(~str), so I want to copy
[23:01:51] <yuriks> but the way I understood it, rust would do it automatically for me, without me needing to implement Clone in this case
[23:02:13] *** Quits: froydnj (nfroyd@moz-DB4A9C19.scl3.mozilla.com) (Ping timeout)
[23:02:21] *** Quits: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP) (Ping timeout)
[23:02:21] *** Quits: IRCMonkey20385 (rhelmer@moz-DB4A9C19.scl3.mozilla.com) (Ping timeout)
[23:02:30] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Ping timeout)
[23:02:30] *** Quits: pmoore|away (pmoore@moz-DB4A9C19.scl3.mozilla.com) (Ping timeout)
[23:02:30] *** Quits: nmatsakis (nmatsakis@moz-DB4A9C19.scl3.mozilla.com) (Ping timeout)
[23:02:33] *** Quits: lbergstrom (lbergstrom@moz-DB4A9C19.scl3.mozilla.com) (Ping timeout)
[23:02:33] *** Quits: gavin (gavin@moz-DB4A9C19.scl3.mozilla.com) (Ping timeout)
[23:03:25] <kimundi> yuriks: You misunderstood, rust will never do anything fancier than a shallow copy for implicit copyable types :)
[23:03:47] *** Joins: spott (spott@D76D9638.B3FAD41.E7673F62.IP)
[23:04:19] *** Quits: alisdair (textual@moz-2F3322CF.hsd1.tx.comcast.net) (Ping timeout)
[23:04:20] *** Quits: pnathan1 (Adium@moz-5EBBDD83.tukw.qwest.net) (Quit: Leaving.)
[23:04:41] <strcat> kimundi: it won't do anything more complex for any types
[23:04:43] *** Joins: alisdair (textual@moz-2F3322CF.hsd1.tx.comcast.net)
[23:05:17] <kimundi> strcat: That's what I meant
[23:05:18] *** Joins: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca)
[23:05:30] *** Joins: pnathan1 (Adium@moz-5EBBDD83.tukw.qwest.net)
[23:05:35] <strcat> we should stop saying 'implicit copy' because it's not very accurate and not used by the tutorial/manual
[23:06:39] *** Quits: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca) (Quit: Leaving.)
[23:06:39] <kimundi> strcat: What is inaccurate about it, and since when are the docs good enough that them not mentioning something is important? :P
[23:06:43] <strcat> rusti: let mut x = ~5; let y = x; x = ~10; (x, y)
[23:06:44] -rusti- (~10, ~5)
[23:06:47] *** Joins: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca)
[23:06:50] <strcat> still obviously an implicit shallow copy
[23:07:00] <strcat> it moved ownership, but it didn't make it not a shallow copy
[23:07:06] *** Joins: lbergstrom (lbergstrom@moz-DB4A9C19.scl3.mozilla.com)
[23:07:10] *** Joins: nmatsakis (nmatsakis@moz-DB4A9C19.scl3.mozilla.com)
[23:07:10] *** ChanServ sets mode: +ao nmatsakis nmatsakis
[23:07:19] <yuriks> hmmm, ok, I implemented clone
[23:07:22] *** Joins: gavin (gavin@moz-DB4A9C19.scl3.mozilla.com)
[23:07:31] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[23:07:33] <yuriks> but rustc still says that x.parent is immutable when I try to assign
[23:07:33] *** Joins: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP)
[23:07:39] <yuriks> even though I'm using the move_iter
[23:07:45] *** Joins: froydnj (nfroyd@moz-DB4A9C19.scl3.mozilla.com)
[23:07:55] <strcat> yuriks: make it mutable with 'mut'
[23:07:56] <yuriks> ah, |mut x|
[23:08:11] <kimundi> strcat: What else would you call "implicit shallow copy for a type that does not move ownership"?
[23:08:19] *** Joins: pmoore|away (pmoore@moz-DB4A9C19.scl3.mozilla.com)
[23:08:48] <strcat> kimundi: whatever you want to call it, all types are implicitly shallowly copyable
[23:08:53] *** Quits: japaric (japaric@71DF7B1A.51A03578.CBF5D49D.IP) (Ping timeout)
[23:09:04] *** Joins: japaric (japaric@71DF7B1A.51A03578.CBF5D49D.IP)
[23:09:29] <strcat> types that move and types that don't move
[23:09:31] <strcat> is clear
[23:09:59] <strcat> or if you want to be fancy and confuse people, affine and non-affine ;p
[23:11:42] <yuriks> http://hastebin.com/neqaciduma.rs
[23:11:47] <yuriks> shouldn't this work? (error at end of paste)
[23:12:04] *** Joins: rhelmer (rhelmer@moz-DB4A9C19.scl3.mozilla.com)
[23:12:19] <yuriks> the expression evaluates first, so there should be no problem
[23:12:44] <strcat> yuriks: it should work, yeah, looks like a bug in move computations
[23:12:50] <strcat> nmatsakis: ^
[23:13:00] <Earnestly> strcat: Wait, affine what?
[23:13:02] <strcat> yuriks: could narrow it down a bit and report it
[23:13:08] *** rhelmer is now known as IRCMonkey14886
[23:13:23] <yuriks> (of course it makes no difference if I clone one or the other, but it seems to read better to me)
[23:13:31] <yuriks> strcat: will do
[23:13:51] *** Quits: japaric (japaric@71DF7B1A.51A03578.CBF5D49D.IP) (Ping timeout)
[23:13:52] <strcat> Earnestly: the type theory word mapping to rust's concept of a type that moves ownership
[23:14:02] *** Joins: japaric (japaric@71DF7B1A.51A03578.CBF5D49D.IP)
[23:14:12] <strcat> although, I think if nmatsakis's cleanup stuff landed they would be linear types
[23:14:17] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[23:14:24] <strcat> because you'd *have* to move from them?
[23:14:32] <strcat> should bug someone who knows type theory rather than me ;p
[23:14:56] <Earnestly> Uh, okay.  Just trying to figure out how it relates to geometry, I can get there with some mental gymnastics \o
[23:14:58] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[23:14:58] *** ChanServ sets mode: +ao pcwalton pcwalton
[23:15:30] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[23:15:52] *** Quits: pnathan1 (Adium@moz-5EBBDD83.tukw.qwest.net) (Quit: Leaving.)
[23:18:49] <Earnestly> strcat: I see now.  So basically it's like a linear type but the objects don't have to be used (at least once)
[23:19:19] *** Joins: mcpherrin (mcpherrin@moz-DFB1CE19.hsd1.ca.comcast.net)
[23:22:15] *** Quits: themgt (themgt@moz-83F07CDA.cm.vtr.net) (Ping timeout)
[23:23:20] *** Quits: spott (spott@D76D9638.B3FAD41.E7673F62.IP) (Quit: Leaving...)
[23:23:28] *** Quits: snerd (motk@moz-D21A06DF.members.linode.com) (Ping timeout)
[23:24:18] *** Quits: pcmattman (pcmattman@moz-D9B7D938.net) (Ping timeout)
[23:24:41] <kimundi> Urg, my roommate just showed me another reason not to ever use php: $t = "2d0" for ($i = 0; $i < 50; $i++) { echo $t . "\n"; $t++ } produces: 2d0 2d1 2d2 2d3 2d4 2d5 2d6 2d7 2d8 2d9 2e0 3 4 5 6 ...
[23:25:04] *** Joins: pcmattman (pcmattman@moz-D9B7D938.net)
[23:25:13] * kimundi appologizes for being off topic
[23:25:37] <yuriks> strcat: this good enough? http://hastebin.com/dupinetura.rs
[23:25:39] *** Quits: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP) (Client exited)
[23:25:57] *** Quits: eco (eco@moz-87840B9D.net) (Ping timeout)
[23:26:06] <FreeFull> kimundi: Heheh
[23:26:16] <FreeFull> I can see why it happens
[23:26:19] <strcat> yuriks: yes
[23:26:23] <strcat> yuriks: well
[23:26:25] <Earnestly> (hastebin requires javascript to even display the code? Eh)
[23:26:27] <strcat> yuriks: it's possible that it's not a bug
[23:26:30] <FreeFull> String string string string number number number
[23:26:39] <strcat> yuriks: it might evaluate arguments left-to-right
[23:26:53] <Earnestly> kimundi: You should see what VimL does to strings with numbers, or not as the case may be
[23:26:55] <strcat> as in, it evaluates the inner expr as part of that
[23:26:59] <strcat> yuriks: what happens if you do the clone first?
[23:26:59] <kimundi> FreeFull: Magic type coercion rules at every loop that at some point decide the string looks like a number with exponent 0? :P
[23:27:06] <strcat> yuriks: on the first id, and not on the 2nd
[23:27:09] <yuriks> strcat: yeah, that sound like a reasonable thing to do. But that would mean the borrowing is part of evaluating the expression, which doesn't sound right to me
[23:27:11] *** Joins: snerd (motk@moz-D21A06DF.members.linode.com)
[23:27:46] <yuriks> strcat: cloning on the left works
[23:28:06] *** Joins: eholk (eric@moz-F70D5031.hsd1.in.comcast.net)
[23:28:21] <eholk> does rust still have segmented stacks? and if so, is there a way to disable them?
[23:28:31] *** Joins: eco (eco@moz-87840B9D.net)
[23:29:00] *** Quits: snerd (motk@moz-D21A06DF.members.linode.com) (Ping timeout)
[23:29:00] *** Quits: abnrngr (user@C31B7093.A9FCDC29.B3C843D.IP) (Ping timeout)
[23:29:08] *** Quits: utkarsh (utkarsh@moz-CA9C0A97.members.linode.com) (Ping timeout)
[23:29:20] <strcat> eholk: no, it doesn't
[23:29:27] <strcat> and they're not going to be added back
[23:29:44] <eholk> strcat: when did this happen? I'm still seeing __morestack calls in my code
[23:29:49] <strcat> it does still use LLVM's segmented stack support to check for overflow but that will have to go too
[23:30:33] *** Quits: pcmattman (pcmattman@moz-D9B7D938.net) (Ping timeout)
[23:30:38] <strcat> eholk: we need to a) add guard pages (like pthreads do) and b) replace __morestack with something more precise (only output in functions with a stack frame larger than the guard size)
[23:30:52] <strcat> eholk: fwiw if you go through clang it won't be output
[23:31:11] <kimundi> strcat: The problem is that 'not moving type' makes explaining stuff like this even more confusing: [1,2,3].iter().map(|x| *x).collect() "The dereference only works because uint doesn't move" vs "The dereference only works because uint is implicit copyable"
[23:31:16] <eholk> strcat: so emit llvm and then use clang to link?
[23:31:57] <strcat> eholk: yeah
[23:32:06] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[23:32:11] <strcat> eholk: rustc --emit-llvm -O foo.rs && clang -O foo.bc
[23:32:16] <strcat> although you need a bunch of link flags with the stdlib
[23:32:22] *** Joins: snerd (motk@moz-D21A06DF.members.linode.com)
[23:32:24] <strcat> if you're using #[no_std], obviously you don't ;]
[23:32:56] *** Joins: utkarsh (utkarsh@moz-CA9C0A97.members.linode.com)
[23:33:01] <strcat> eholk: are you doing something that's freestanding? (as in no libc, etc.)
[23:33:18] <eholk> strcat: yeah
[23:33:21] <strcat> https://github.com/thestinger/rust-core works for that btw
[23:33:40] <eholk> strcat: i've almost got a UEFI app written in rust that does something useful
[23:33:41] *** IRCMonkey14886 is now known as rhelmer
[23:33:43] *** Quits: japaric (japaric@71DF7B1A.51A03578.CBF5D49D.IP) (Ping timeout)
[23:33:46] <eholk> (where useful is print out a string)
[23:33:50] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[23:33:54] *** Joins: japaric (japaric@71DF7B1A.51A03578.CBF5D49D.IP)
[23:34:35] *** Joins: pcmattman (pcmattman@moz-D9B7D938.net)
[23:35:03] <eholk> oh, hmm, that screwed up my calling conventions
[23:35:36] <strcat> eholk: hm?
[23:35:57] <eholk> strcat: UEFI requires you to use the win64 calling convention, which I added into Rust
[23:36:01] <strcat> eholk: ah
[23:36:16] <eholk> but, when I go through clang it just changes them all to cdecl, or whatever the default is
[23:36:16] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[23:36:40] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[23:38:24] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Ping timeout)
[23:38:25] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[23:40:09] *** Joins: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com)
[23:40:38] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[23:41:16] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[23:41:16] *** Quits: mark_edward (quassel@moz-DCB0B750.lightspeed.cicril.sbcglobal.net) (Connection reset by peer)
[23:41:31] *** Quits: donri (donri@moz-9BB61102.tbcn.telia.com) (Client exited)
[23:42:36] <yuriks> strcat: https://github.com/mozilla/rust/issues/10525
[23:46:48] *** Quits: toddaaro (toddaaro@moz-98F46974.us) (Ping timeout)
[23:47:50] <strcat> meh
[23:49:08] *** Quits: tulloch (tulloch@moz-6809CC86.nat.csx.cam.ac.uk) (Ping timeout)
[23:51:54] *** Joins: nsf (nsf@moz-EEF3238A.convex.ru)
[23:52:02] *** Quits: japaric (japaric@71DF7B1A.51A03578.CBF5D49D.IP) (Ping timeout)
[23:52:06] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[23:52:21] *** Joins: japaric (japaric@71DF7B1A.51A03578.CBF5D49D.IP)
[23:54:03] *** Joins: canhtak (canhtak@moz-43EC0376.wl.t.ulaval.ca)
[23:54:22] *** Quits: alisdair (textual@moz-2F3322CF.hsd1.tx.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[23:55:18] *** Joins: tikue (tkuehn@moz-FEADCD38.hsd1.pa.comcast.net)
[23:57:02] *** Joins: alisdair (textual@moz-2F3322CF.hsd1.tx.comcast.net)
[23:59:49] *** Quits: alisdair (textual@moz-2F3322CF.hsd1.tx.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
