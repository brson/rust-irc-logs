[00:05:53] *** Joins: dzbarsky (Adium@moz-6294F430.wireless-pennnet.upenn.edu)
[00:07:49] <sammykim> @pcwalton: Hello. Are you guys on Vidyo?
[00:08:17] <pcwalton> sammykim: it's not 5 PM here yet
[00:09:08] <sammykim> What time is it now? We usually start at 9am in Korea.
[00:09:13] <pcwalton> it's 4 PM
[00:09:20] <pcwalton> I think the problem is the daylight savings time switch in the USA
[00:09:26] *** Quits: Jayflux (Jason@moz-52C003A0.as13285.net) (Quit: Leaving)
[00:12:32] *** Joins: sonwow (sonwow@5AB4884B.FCC4549.14D5B978.IP)
[00:13:03] *** Joins: kmc|mac (Mibbit@moz-C07D5168.p2p.sfo1.mozilla.com)
[00:14:26] *** Quits: sonwow (sonwow@5AB4884B.FCC4549.14D5B978.IP) (Quit: leaving)
[00:14:41] <sammykim> @pcwalton: Thanks. We didn't realize that the summer time is done. See you at 5pm
[00:16:06] <kmc|mac> doing my first ever fresh build of Servo on mac, I get src/support/azure/rust-azure/src/gfx/2d/RecordedEvent.h:182:49: error: no viable conversion from 'std::__1::nullptr_t' to 'mozilla::gfx::ReferencePtr'
[00:16:10] <kmc|mac> anyone seen this?
[00:16:26] <azita> jack: Samsung didn't know about daylight saving.  they are ready for servo meeting now.  Can we start earlier?
[00:16:46] <kmc> meeting now works for me
[00:17:05] <azita> pwalton, jdm, lbergstrom, kmc ^^
[00:17:09] <pcwalton> works for me
[00:17:15] <pcwalton> just a sec
[00:17:20] <sammykim> That's fine. I already told that we will start meeting after 1 hour. They are already out of meeting room!
[00:17:25] <kmc> ah
[00:17:39] *** Joins: june0cho_ (june0cho@5AB4884B.FCC4549.14D5B978.IP)
[00:18:04] <yichoi> we can go meeting room again no problem
[00:18:08] <yichoi> let's start
[00:18:10] <sammykim> Oh. Sorry for confusing.
[00:18:17] <jdm> oh, meeting now is fine for me
[00:18:23] <june0cho_> http://irclog.gr/#browse/irc.mozilla.org/servo
[00:18:35] <azita> everyone join the servo Vidyo room
[00:18:47] <azita> be there soon
[00:19:48] <kmc> jdm: can you hear/see me okay?
[00:19:51] <jdm> kmc: yes
[00:19:57] <kmc> some part of the conf is very choppy but I think it's the Samsung part
[00:19:59] <jdm> samsung is incredibly choppy
[00:21:20] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[00:21:26] <june0cho_> can you guys see ours?
[00:21:31] <SimonSapin> which room is it?
[00:21:50] <jdm> june0cho_: I could see you, but the sound and video was very choppy
[00:22:00] <jdm> SimonSapin: type servo
[00:22:01] <kmc> SimonSapin: it's named just 'servo'
[00:23:23] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[00:23:30] <SimonSapin> I got one frame from Samsumg so far.
[00:24:03] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[00:24:03] *** ChanServ sets mode: +o pcwalton
[00:24:24] * kmc ping larsberg
[00:25:38] *** Quits: canhtak (canhtak@moz-6F820ACE.wl.t.ulaval.ca) (Ping timeout)
[00:26:37] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[00:27:03] *** Joins: canhtak (canhtak@moz-6F820ACE.wl.t.ulaval.ca)
[00:30:08] <june0cho_> we are accessing Vidyo again
[00:33:05] *** Quits: kmc|mac (Mibbit@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: http://www.mibbit.com ajax IRC Client)
[00:33:13] <azita> june0cho: you can try to disable the video and see if we can hear you better
[00:33:50] <azita> there is a privacy button on the top right corner
[00:33:59] <june0cho_> okay!
[00:34:04] <june0cho_> we pressed it.
[00:36:10] <kmc> i'm taking notes
[00:37:11] <june0cho_> is there etherpad note for minutes?
[00:37:18] <kmc> apologies for writing "samsung:" instead of people's names because I can't always tell who's talking
[00:37:22] <kmc> feel free to update :)
[00:37:25] <kmc> june0cho_: https://etherpad.mozilla.org/Servo-meeting-weekly
[00:38:00] <june0cho_> kmc: thanks! :)
[00:42:40] *** Quits: tikue_ (tkuehn@6E051717.B9B3942C.689607DE.IP) (Quit: tikue_)
[00:42:50] *** Joins: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP)
[00:42:50] <ghservo> [13servo] 15kmcallister opened issue #1308: Mac build error related to nullptr 02http://git.io/WapnaQ
[00:42:50] *** Parts: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP) ()
[00:46:54] <larsberg> kmc: pong. whoops, just saw these IRC messages appear on my phone (was eating dinner). ready whenever!
[00:47:06] <kmc> we're resuming at 5 after all.
[00:47:54] <larsberg> thanks
[00:49:49] <kmc> is anyone else using OS X 10.9?
[00:51:29] <larsberg> kmc: I am
[00:51:45] <larsberg> let me know if gdb works for you - I had to go to great lengths to get something that half-works :-)
[00:52:19] <larsberg> (with servo/rust code, that is)
[00:55:08] *** Quits: dzbarsky (Adium@moz-6294F430.wireless-pennnet.upenn.edu) (Quit: Leaving.)
[00:59:17] <jack> I am without my regular computer since the Apple geniuses took it. And apparently my password sync is out of date, so I'm having trouble connecting.
[00:59:42] <jack> Can someone PM me the phone number?
[01:00:49] <kmc> have done so except I don't know the 4-digit number for the "servo" room
[01:01:20] *** Quits: CaseyBecking (CaseyBecki@ED8170C4.82E507D6.C334098E.IP) (Ping timeout)
[01:02:36] <jdm> I can't figure out how to get that number either
[01:02:47] <SimonSapin> the Vidyo client shows 8844
[01:04:00] <larsberg> azita, pcwalton, kmc: we're on
[01:04:14] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[01:04:41] <kmc> i was connected to the wrong place, somehow
[01:05:09] <jack> i'm here now
[01:10:01] *** Joins: jaeman (Mibbit@1A45E17B.8CE257A9.268E2EF2.IP)
[01:15:50] *** kimundi is now known as zz_kimundi
[01:17:10] *** Quits: harth (heather@moz-C07D5168.p2p.sfo1.mozilla.com) (Client exited)
[01:22:02] *** Joins: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP)
[01:22:02] <ghservo> 01[13servo01] 15bors-servo pushed 0 new commits to 06auto: 02http://git.io/C5Bl9w
[01:22:02] *** Parts: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP) ()
[01:22:06] *** Joins: ghservo (ghservo@2EE61FCC.6A2AE50.F3114085.IP)
[01:22:06] <ghservo> 01[13servo01] 15bors-servo pushed 4 new commits to 06auto: 02http://git.io/xREVLw
[01:22:06] <ghservo> 13servo/06auto 149a2d7dd 15Youngmin Yoo: Add overflow property
[01:22:06] <ghservo> 13servo/06auto 1424244a6 15Jaemin Moon: push/pop clip
[01:22:06] <ghservo> 13servo/06auto 143d944ee 15sh8281.kim: modify to displaylist to tree & add cliping
[01:22:06] *** Parts: ghservo (ghservo@2EE61FCC.6A2AE50.F3114085.IP) ()
[01:30:34] *** Joins: CaseyBecking (CaseyBecki@moz-86A86BBD.mycingular.net)
[01:33:55] <pcwalton> assumedly a ~90 ns lag doesn't matter that much for hit tests compared to the overhead of building the display list?
[01:34:31] <pcwalton> .00009 ms
[01:34:41] <pcwalton> and it can probably be improved by 10x
[01:35:10] <kmc> what is the context for that statement?
[01:36:36] *** Quits: CaseyBecking (CaseyBecki@moz-86A86BBD.mycingular.net) (Ping timeout)
[01:44:13] *** Quits: canhtak (canhtak@moz-6F820ACE.wl.t.ulaval.ca) (Quit: canhtak)
[01:49:49] *** Quits: bholley (bholley@moz-FCAF9AAB.hsd1.ca.comcast.net) (Quit: bholley)
[01:50:15] <jaeman> Is there method that I can debug rust compiler code on running any rust program?
[01:50:51] <jdm> jaeman: you want to run rustc in gdb?
[01:51:14] <jaeman> yes
[01:52:02] <jaeman> Now I want to look into task scheduling mechanism in rust.
[01:52:52] <jaeman> Hence, I am running a test code but I don;t know how can I debugging inside rustc.
[01:52:55] <jdm> jaeman: oh, are you talking about the actual rust compiler, or the standard library?
[01:53:10] <jdm> because the scheduler is part of the runtime, which is part of the standard library
[01:53:18] <jaeman> Maybe standart library.
[01:53:25] <jdm> ok
[01:53:33] <jaeman> libstd/rt/sched.rs
[01:53:45] <jdm> so I guess what you want is to build libstd with -Z extra-debug-info
[01:53:56] <jaeman> I want to debug the some functions in the file.
[01:54:18] <jdm> maybe pcwalton can help with making that happen
[01:54:32] <jdm> I don't know if there's a way to do that from configure/make right now
[01:54:47] <cmr> RUSTCFLAGS="-Z extra-debug-info" when building
[01:54:49] <jaeman> What you mean is that I need build rust with -Z extra-debug-info?
[01:54:51] <cmr> Not sure about the servo build though...
[01:55:32] <pcwalton> I don't know how to do it from configure/make
[01:55:55] <jdm> jack: any idea how to set particular RUSTCFLAGS for servo's rustc?
[01:56:28] <jaeman> I am building a simple test code, not servo.
[01:56:34] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[01:57:01] <jdm> oh, that makes it easier
[01:57:44] <jaeman> Do I need just to build the simple test code with -Z extra-debug-info
[01:57:45] <jaeman> ?
[01:58:01] <jdm> jaeman: you will need to rebuild rustc using cmr's suggestion
[01:58:10] <jaeman> OK.
[01:58:11] <cmr> Well, you still need to build libstd with -Z extra-debug-info, so that you can step into it and such
[01:58:17] <jdm> jaeman: then build your test code iwth -Z extra-debug-info and the new rustc
[01:58:55] <june0cho_> quit
[01:58:57] *** Quits: june0cho_ (june0cho@5AB4884B.FCC4549.14D5B978.IP) (Quit: leaving)
[01:59:50] *** Joins: pradeep (pradeep@5AB4884B.FCC4549.14D5B978.IP)
[02:00:52] *** Joins: maxiepoo (mnew@moz-6F50ADE.hsd1.il.comcast.net)
[02:01:30] *** joduinn-biab is now known as joduinn
[02:07:38] *** Quits: june0cho (Mibbit@B4104EBB.3CC170B1.1E14B209.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[02:07:47] *** Joins: june0cho (Mibbit@B4104EBB.3CC170B1.1E14B209.IP)
[02:10:42] *** Joins: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP)
[02:10:42] <ghservo> [13servo] 15pradeep90 closed issue #1274: Reduce allocations in SelectorMap (Rule Hash) code 02http://git.io/xSto3Q
[02:10:42] *** Parts: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP) ()
[02:12:13] *** Quits: fabrice1 (fabrice@moz-BBE3ABD.mv.mozilla.com) (Quit: Leaving.)
[02:15:36] *** Joins: fabrice (fabrice@moz-7B0110AD.mv.mozilla.com)
[02:16:12] *** Quits: fabrice (fabrice@moz-7B0110AD.mv.mozilla.com) (Max SendQ exceeded)
[02:16:49] *** Joins: fabrice (fabrice@moz-7B0110AD.mv.mozilla.com)
[02:17:23] *** Quits: fabrice (fabrice@moz-7B0110AD.mv.mozilla.com) (Max SendQ exceeded)
[02:17:53] *** Joins: fabrice (fabrice@moz-7B0110AD.mv.mozilla.com)
[02:18:27] *** Quits: fabrice (fabrice@moz-7B0110AD.mv.mozilla.com) (Max SendQ exceeded)
[02:19:03] *** Joins: fabrice (fabrice@moz-7B0110AD.mv.mozilla.com)
[02:19:37] *** Quits: fabrice (fabrice@moz-7B0110AD.mv.mozilla.com) (Max SendQ exceeded)
[02:20:09] *** Joins: fabrice (fabrice@moz-7B0110AD.mv.mozilla.com)
[02:20:30] *** Quits: dbaron (dbaron@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: 8403864 bytes have been tenured, next gc will be global.)
[02:20:35] *** Joins: lmandel (lmandel@moz-76CE9D51.cable.teksavvy.com)
[02:24:10] *** Quits: boredomist (ruqs@8186917.CC8FA3EE.E3401B6E.IP) (Ping timeout)
[02:27:25] *** Quits: fabrice (fabrice@moz-7B0110AD.mv.mozilla.com) (Ping timeout)
[02:28:03] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Quit: Gone to save the world!)
[02:31:08] *** Quits: azakai (alon@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[02:38:38] *** Quits: jdm (jdm@moz-AC9499B2.cable.teksavvy.com) (Quit: Lost terminal)
[02:40:00] *** Quits: ahal (ahal@moz-7DE89BF0.cable.teksavvy.com) (Input/output error)
[02:48:35] *** Joins: eholk (eholk@moz-EA69C7A5.wavecable.com)
[02:49:04] <pcwalton> uh-oh
[02:49:06] <pcwalton> rustpkg can't build servo
[02:49:13] <pcwalton> task '<unnamed>' failed at 'assertion failed: !outputs_disc.is_empty()', /Users/pcwalton/Source/servo/mozilla/src/compiler/rust/src/librustpkg/util.rs:509
[02:49:13] <pcwalton> task '<unnamed>' failed at 'receiving on closed channel', /Users/pcwalton/Source/servo/mozilla/src/compiler/rust/src/libstd/rt/comm.rs:198
[02:51:28] *** Joins: dzbarsky (Adium@BC1B0569.D5562F02.B5C6E82B.IP)
[02:51:37] <pcwalton> never mind
[02:51:40] <pcwalton> was a bad submodule
[03:00:15] *** Joins: ghservo (ghservo@DE823A67.6A2AE50.F3114085.IP)
[03:00:15] <ghservo> [13servo] 15pcwalton opened pull request #1309: script: Stop trusting pointers to DOM nodes coming from layout. (06master...06distrust-layout) 02http://git.io/bZAZBA
[03:00:15] *** Parts: ghservo (ghservo@DE823A67.6A2AE50.F3114085.IP) ()
[03:01:11] *** Quits: lmandel (lmandel@moz-76CE9D51.cable.teksavvy.com) (Quit: lmandel)
[03:01:11] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[03:02:23] *** Quits: eholk (eholk@moz-EA69C7A5.wavecable.com) (Quit: eholk)
[03:05:41] *** Joins: tikue_ (tkuehn@moz-DB51A23.pitbpa.fios.verizon.net)
[03:13:06] <jack> How do I make fonts look decent on linux? :)
[03:13:22] <cmr> jack: in servo, or in general?
[03:13:29] <strcat> jack: modern freetype2
[03:13:33] <jack> cmr: in general. for example, gmail looks horrible in firefox
[03:13:44] <cmr> I use the infinality patchset
[03:14:47] <strcat> jack: https://paste.xinu.at/gtU/ well do you think this looks good? (maybe consolas or whatever that is is a bad example)
[03:15:00] <strcat> also screen specific, I guess
[03:15:08] <strcat> subpixel hinting ;p
[03:15:39] <strcat> cmr: yeah infinality is partially upstream now
[03:16:07] <strcat> but it's heavily patented so most distros probably aren't going to enable it
[03:16:44] <strcat> jack: so, one issue is that firefox with a statically linked freetype2/fontconfig isn't going to have nice fonts
[03:16:56] <strcat> so you can't use mozilla builds
[03:16:57] <jack> i think "heavily" is a bit much. the patents on truetype are now expired or expire very soon. this was a deliberate choice.
[03:17:11] <strcat> jack: they added subpixel hinting pretty recently though?
[03:17:16] <strcat> windows 7 maybe
[03:17:21] <strcat> oh I guess vista
[03:17:50] <strcat> subpixel rendering is enabled by every distro, subpixel hinting support is probably newer than the freetype2 in most distros
[03:18:00] <jack> so this is differen than teh normal TT bytecode execution hints?
[03:18:02] <strcat> it only matters for fonts with cleartype bytecode instructions anyway
[03:18:10] <strcat> jack: it's extensions to it
[03:18:30] <cmr> I also use some fonts that look nice...
[03:18:33] <strcat> jack: http://www.infinality.net/blog/ the guy who did it all
[03:18:37] <cmr> My desktop is setup really nice but I can never remember it
[03:18:41] <strcat> imo it makes fonts look waaaaay better than OS X and windows
[03:19:02] <strcat> and it's quite configurable. he implemented so many weird knobs (like chromeOS style sharpening)
[03:19:17] <strcat> jack: some is upstream already, most isn't
[03:19:32] <strcat> and you have to uncomment a #define to enable it upstream
[03:19:46] <jack> So not only do I have ot build a freetype with these patches, but I have to build my own nightlies now?
[03:19:56] <strcat> jack: yep!
[03:20:03] <strcat> arch linux has nightly aurora builds (with PGO too!) :P
[03:20:17] <jack> and arch has these infinality patches?
[03:20:28] <strcat> not in the official repos but there's an unofficial package
[03:20:49] <strcat> the person who maintains freetype2 in the repos thinks subpixel hinting is blurry so it's not even on ;\
[03:20:55] * strcat sighs
[03:20:57] <jack> ugh
[03:21:09] <jack> i suppose i should try arch.
[03:21:20] <strcat> (subpixel rendering is obviously there, but enabling subpixel hinting is a compile-time switch *only*)
[03:21:25] <strcat> jack: nightly rust builds too! ;p
[03:21:54] <strcat> jack: there are probably nightly aurora builds for other distros...
[03:21:57] <strcat> probably.
[03:22:02] * jack wonders if i can get arch going on this MBA
[03:22:22] <strcat> jack: there are arch wiki pages for every laptop you could dream of ;p
[03:23:13] <strcat> https://wiki.archlinux.org/index.php/MacBook#MacBook_Air doesn't look like there's any showstoppers
[03:23:18] <strcat> just regular EFI hell
[03:23:21] <jack> fedora runs fine on it
[03:23:38] <strcat> jack: fedora has infinality packages
[03:23:45] <jack> what's the bittorrent client to use on linux?
[03:24:08] <strcat> jack: there are 2 major libraries, so most clients are basically the same perf-wise
[03:24:15] <strcat> I like transmission because it has a daemon
[03:24:25] <strcat> so I don't need to be logged into my account to have it running
[03:24:38] *** Joins: pcwalton (pcwalton@moz-14285ACF.ptr.us.xo.net)
[03:24:38] *** ChanServ sets mode: +o pcwalton
[03:24:41] <strcat> and I just use the web interface or an the ncurses interface over ssh
[03:25:05] *** Quits: zz_kimundi (kimundi@moz-55BB9741.dip0.t-ipconnect.de) (Ping timeout)
[03:25:10] <strcat> hm actually I guess there are 3 groups
[03:25:24] <strcat> transmission, libtorrent, libtorrent-rasterbar
[03:25:40] <strcat> (not a fork, just a naming clash...)
[03:25:56] * jack looks for the fedora infinality patches
[03:26:08] <jack> i'll try that first before i install arch.
[03:26:11] <strcat> jack: http://www.infinality.net/blog/infinality-repository/
[03:26:26] <strcat> jack: I think you need to be using a firefox linked against the system freetype2 though
[03:26:27] <jack> but i probably will install arch. i've been meaning to play with it and this is as good an excuse as i'm going to get
[03:26:37] * strcat really likes arch ;p
[03:26:40] <jack> since the apple store took my OS X machine away to fix it.
[03:27:16] <strcat> latest stable release of everything! and AUR packages for everything not in the repos
[03:27:22] *** Quits: pcwalton (pcwalton@moz-14285ACF.ptr.us.xo.net) (Quit: pcwalton)
[03:27:54] <strcat> ofc you're more exposed to upstream instability
[03:28:30] *** Joins: zz_kimundi (kimundi@moz-28813223.dip0.t-ipconnect.de)
[03:28:31] *** zz_kimundi is now known as kimundi
[03:28:33] <strcat> but at least you have new interesting bugs to report upstream and not old fixed ones ;p
[03:30:51] *** Joins: canhtak (canhtak@moz-6F820ACE.wl.t.ulaval.ca)
[03:31:13] <strcat> fedora and arch are pretty similar though. different package manager, different (lack of) release cycles, same init, same fs layout, both track upstream pretty closely (except fedora patching everything for selinux and weird red hat things)
[03:31:45] <strcat> debian is a whole weird world to itself ;p
[03:31:50] *** Quits: diegoyam (quassel@FF9B1514.A4EC3D18.3A1EC144.IP) (Ping timeout)
[03:31:53] <jack> debian was where i lived for a long time
[03:31:59] * jack was a debian devel once upon a time
[03:32:35] *** Joins: diegoyam (quassel@FF9B1514.A4EC3D18.3A1EC144.IP)
[03:32:59] * strcat is biased https://www.archlinux.org/packages/?sort=&q=&maintainer=thestinger&flagged= :)
[03:33:32] <strcat> (thankfully rust doesn't use pandoc anymore so I don't have to maintain 50 haskell packages)
[03:34:24] <strcat> a buildbot builds them all in an arch-haskell repo anyway
[03:37:23] *** Joins: eholk (eholk@moz-EA69C7A5.wavecable.com)
[03:40:00] *** Joins: boredomist (ruqs@B16F530C.DC641F2C.BCAEBB33.IP)
[03:44:55] *** Quits: dzbarsky (Adium@BC1B0569.D5562F02.B5C6E82B.IP) (Quit: Leaving.)
[03:47:00] <jack> pacman has kind of a weird syntax. i have arch on my odroid
[03:47:28] *** Quits: tikue_ (tkuehn@moz-DB51A23.pitbpa.fios.verizon.net) (Quit: tikue_)
[03:47:57] <strcat> jack: arch arm?
[03:48:06] *** Quits: boredomist (ruqs@B16F530C.DC641F2C.BCAEBB33.IP) (Quit: Leaving)
[03:48:17] <jack> yeah
[03:49:38] * strcat really likes how simple arch packages are to make
[03:50:13] <strcat> like https://github.com/thestinger/packages/blob/master/kmscon-git/PKGBUILD for a git one
[03:50:27] <strcat> makepkg even supports tags/branches (and not just for git)
[03:50:59] <strcat> and they're just a tarball with a .PKGINFO file... unlike a weird half-script half-tarball monstrosity
[03:51:05] *** Joins: boredomist (ruqs@B16F530C.DC641F2C.BCAEBB33.IP)
[03:51:36] <strcat> which reminds me I need to update that one for kmscon adding a dep
[03:56:15] *** Quits: pradeep (pradeep@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[03:56:17] *** Joins: pradeep (pradeep@5AB4884B.FCC4549.14D5B978.IP)
[03:56:27] *** Quits: eholk (eholk@moz-EA69C7A5.wavecable.com) (Quit: eholk)
[04:02:46] *** Quits: dherman_ (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman_)
[04:16:50] *** Joins: dzbarsky (Adium@moz-6294F430.wireless-pennnet.upenn.edu)
[04:20:05] *** Joins: tikue_ (tkuehn@moz-DB51A23.pitbpa.fios.verizon.net)
[04:38:17] *** Quits: dzbarsky (Adium@moz-6294F430.wireless-pennnet.upenn.edu) (Quit: Leaving.)
[04:40:08] <jack> ok. so i have infinality installed. i think fonts are worse now :)
[04:40:12] <jack> i am probably missing a step
[04:41:10] *** Joins: dzbarsky (Adium@moz-6294F430.wireless-pennnet.upenn.edu)
[04:41:32] <jack> actually, firefox looks better, but terminal switched fonts on me. not sure where font settings went though. settings app doesn't seem to have anything about fonts now
[04:45:00] *** Joins: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com)
[04:48:10] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[04:48:11] *** ChanServ sets mode: +o pcwalton
[04:56:42] *** joduinn is now known as joduinn-afk
[04:59:35] *** Joins: jdm (jdm@moz-AC9499B2.cable.teksavvy.com)
[04:59:35] *** ChanServ sets mode: +o jdm
[05:10:48] *** Quits: tikue_ (tkuehn@moz-DB51A23.pitbpa.fios.verizon.net) (Quit: tikue_)
[05:12:31] *** Joins: ghservo (ghservo@9C8B94D4.6A2AE50.F3114085.IP)
[05:12:31] <ghservo> [13servo] 15pcwalton opened pull request #1310: Refactor (06master...06refactor) 02http://git.io/Z4v5Tg
[05:12:31] *** Parts: ghservo (ghservo@9C8B94D4.6A2AE50.F3114085.IP) ()
[05:24:00] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[05:25:25] *** Joins: ghservo (ghservo@79968228.6A2AE50.F3114085.IP)
[05:25:25] <ghservo> [13servo] 15pradeep90 opened pull request #1311: Make PropertyDeclarationBlock have Arcs. (06master...06rule-hash-optimize) 02http://git.io/iweXZA
[05:25:25] *** Parts: ghservo (ghservo@79968228.6A2AE50.F3114085.IP) ()
[05:26:06] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[05:26:07] *** ChanServ sets mode: +o pcwalton
[05:26:08] *** Quits: canhtak (canhtak@moz-6F820ACE.wl.t.ulaval.ca) (Quit: canhtak)
[05:27:52] *** Joins: ghservo (ghservo@2EE61FCC.6A2AE50.F3114085.IP)
[05:27:52] <ghservo> [13servo] 15pradeep90 opened issue #1312: Create Rule Hash lazily, before selector matching 02http://git.io/rnUE5w
[05:27:52] *** Parts: ghservo (ghservo@2EE61FCC.6A2AE50.F3114085.IP) ()
[05:49:52] *** Quits: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com) (Ping timeout)
[05:53:49] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[05:54:30] *** Quits: miketaylr (mtaylor@moz-8ACC7131.dyn.grandenetworks.net) (Quit: Linkinus - http://linkinus.com)
[05:54:31] *** Quits: doomlord_ (servitor@moz-9738D381.range86-160.btcentralplus.com) (Ping timeout)
[05:55:56] *** Joins: dherman_ (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[05:59:42] *** Joins: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com)
[06:22:19] *** Joins: tikue_ (tkuehn@moz-DB51A23.pitbpa.fios.verizon.net)
[06:26:34] *** Quits: tikue_ (tkuehn@moz-DB51A23.pitbpa.fios.verizon.net) (Quit: tikue_)
[06:28:38] *** Joins: victorporof (victorporo@47B918E3.BCF05198.9B1E38F4.IP)
[06:57:19] <jaeman> cmr, jdm: I clean and built rustc like 'make RUSTCFLAGS="-Z extra-debug-info" -j8' but I still can not debug source code in libstd.
[06:57:37] <cmr> jaeman: pretty sure you need to run configure with it, not make.
[06:57:42] <cmr> (sorry!)
[06:57:49] <jaeman> ^^
[06:58:25] <jaeman> Like './configure RUSTCFLAGS="-Z extra-debug-info"'?
[06:58:36] <cmr> No, it's an environment variable.
[06:58:46] <cmr> That might be why it didn't work with make, too..
[07:00:14] <jaeman> I need 'export RUSTCFLAGS="-Z extra-debug-info' before configure, isn't it?
[07:00:24] <cmr> I think so, yes.
[07:00:40] <jaeman> Thanks. :)
[07:03:29] <Luqman> cmr: jaeman: doing it during configure is fine. and the env variable you want is RUSTFLAGS not RUSTCFLAGS
[07:03:34] <Luqman> during make*
[07:03:41] <cmr> oh yikes :(
[07:03:44] <cmr> sorry
[07:23:25] *** Joins: hongminhee (sid295@moz-5F4AA75A.irccloud.com)
[07:29:32] *** Quits: dzbarsky (Adium@moz-6294F430.wireless-pennnet.upenn.edu) (Quit: Leaving.)
[07:31:42] *** Quits: jaeman (Mibbit@1A45E17B.8CE257A9.268E2EF2.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[07:36:11] *** Quits: jdm (jdm@moz-AC9499B2.cable.teksavvy.com) (Ping timeout)
[07:54:49] *** Joins: dzbarsky (Adium@BC1B0569.D5562F02.B5C6E82B.IP)
[07:59:45] *** Quits: Debloper (debloper@moz-88FF8AE8.redhat.com) (Ping timeout)
[08:03:58] *** Joins: jaeman (Mibbit@1A45E17B.8CE257A9.268E2EF2.IP)
[08:04:38] *** Quits: jaeman (Mibbit@1A45E17B.8CE257A9.268E2EF2.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[08:04:50] *** Joins: jaeman (Mibbit@1A45E17B.8CE257A9.268E2EF2.IP)
[08:06:18] <jaeman> Lugman: Does 'during make' mean that ' make RUSTCFLAGS="-Z extra-debug-info"  '?
[08:06:41] *** Quits: boredomist (ruqs@B16F530C.DC641F2C.BCAEBB33.IP) (Ping timeout)
[08:06:47] <jaeman> No, make RUSTFLAGS="-Z extra-debug-info"
[08:10:43] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[08:13:11] <jaeman> Luqman: Does 'during make' mean that ' make RUSTCFLAGS="-Z extra-debug-info"  '?
[08:18:03] <Luqman> RUSTFLAGS not RUSTCFLAGS (i.e. no C)
[08:25:15] <jaeman> Luqman: When I try build like that, I met following error.
[08:25:29] <jaeman> compile_and_link: x86_64-unknown-linux-gnu/stage0/lib/rustc/x86_64-unknown-linux-gnu/lib/libstd.so While deleting: metadata % An asserting value handle still pointed to this value! UNREACHABLE executed at /home/rustbuild/src/rust-buildbot/slave/snap3-linux/build/src/llvm/lib/IR/Value.cpp:668! Aborted (core dumped) make: *** [x86_64-unknown-linux-gnu/stage0/li
[08:26:05] <Luqman> hmmm, that must be a bug with the debug info stuff. maybe try just -Z debug-info
[08:26:43] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[08:29:50] <jaeman> Good, It passed compiling and linking of libstd.so.
[08:43:04] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:48:29] *** Quits: dzbarsky (Adium@BC1B0569.D5562F02.B5C6E82B.IP) (Quit: Leaving.)
[08:48:43] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Ping timeout)
[08:49:29] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[08:50:06] *** Quits: dherman_ (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman_)
[08:53:30] *** Quits: bjz (bjz@moz-6AF19015.lnse4.cha.bigpond.net.au) (Ping timeout)
[08:55:42] *** Joins: Ms2ger (Ms2ger@moz-7B73B8F2.ugent.be)
[09:18:53] *** Joins: bjz (bjz@moz-6AF19015.lnse4.cha.bigpond.net.au)
[09:30:34] *** Joins: Houm (Houm@moz-25669AA8.fbx.proxad.net)
[09:32:23] *** Quits: yury (yury@moz-86474802.ok.ok.cox.net) (Ping timeout)
[09:32:26] *** Joins: yury (yury@moz-86474802.ok.ok.cox.net)
[09:39:10] *** victorporof is now known as victorporof|away
[09:48:40] *** sammykim is now known as hyunjunkim
[09:48:59] <hyunjunkim> I have a quesiont about NativeSurface. What does it mean exactly..?
[09:49:42] <hyunjunkim> Hi:) anybody Here?
[09:50:30] <cmr> hyunjunkim: the people who know that code best are probably sleeping right now
[09:51:01] <hyunjunkim> cmr:Thank you.. :)
[10:04:09] *** Quits: bjz (bjz@moz-6AF19015.lnse4.cha.bigpond.net.au) (Ping timeout)
[10:16:12] *** Quits: hyunjunkim (sammy.kim@5AB4884B.FCC4549.14D5B978.IP) (Quit: Lost terminal)
[10:50:16] *** victorporof|away is now known as victorporof
[10:59:34] *** Joins: bjz (bjz@moz-6AF19015.lnse4.cha.bigpond.net.au)
[11:05:27] *** Quits: pradeep (pradeep@5AB4884B.FCC4549.14D5B978.IP) (Quit: leaving)
[11:07:41] *** Quits: june0cho (Mibbit@B4104EBB.3CC170B1.1E14B209.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[11:15:16] *** Quits: ^emi (glenlivet@moz-9FE842F.cpe.net.cable.rogers.com) (Quit: Leaving)
[11:15:21] *** Joins: ^emi (glenlivet@moz-9FE842F.cpe.net.cable.rogers.com)
[11:23:10] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Quit: Gone to save the world!)
[11:31:52] *** Joins: jet (jet@3E68C539.A2C0EFE1.DC5B6E2A.IP)
[11:43:37] *** Quits: Ms2ger (Ms2ger@moz-7B73B8F2.ugent.be) (Quit: bbl)
[12:20:19] *** Joins: doomlord_ (servitor@moz-9738D381.range86-160.btcentralplus.com)
[12:36:12] *** kimundi is now known as zz_kimundi
[12:58:06] *** Joins: Kostic (marko@C4D4CB5C.58A2DD99.2168A69F.IP)
[13:06:01] *** Joins: abinader (abinader@D8B9C081.E820043D.D4C04133.IP)
[13:10:36] *** zz_kimundi is now known as kimundi
[13:13:37] *** Quits: jet (jet@3E68C539.A2C0EFE1.DC5B6E2A.IP) (Connection reset by peer)
[13:13:37] *** Joins: jet (jet@3E68C539.A2C0EFE1.DC5B6E2A.IP)
[13:14:30] *** Joins: Ms2ger (Ms2ger@moz-CCE62C14.ugent.be)
[13:15:33] *** Quits: jet (jet@3E68C539.A2C0EFE1.DC5B6E2A.IP) (Quit: jet)
[13:18:16] *** Joins: Jackneill (Jackneill@moz-51ABD5E3.pool.digikabel.hu)
[13:20:45] *** Quits: Ms2ger (Ms2ger@moz-CCE62C14.ugent.be) (Ping timeout)
[13:21:41] *** Joins: Ms2ger (Ms2ger@moz-CCE62C14.ugent.be)
[13:23:43] *** Joins: jdm (jdm@moz-AC9499B2.cable.teksavvy.com)
[13:23:43] *** ChanServ sets mode: +o jdm
[13:24:56] <Ms2ger> jdm, so did you figure anything out about exceptions?
[13:25:14] <jdm> jaeman: you can solve the LLVM assertion by disabling optimizations
[13:25:29] <jdm> Ms2ger: I figured out that my os x build is blowing my mind
[13:25:34] <jdm> here's the matrix:
[13:25:45] *** Joins: canhtak (canhtak@moz-6F820ACE.wl.t.ulaval.ca)
[13:26:02] <jdm> --disable-debug, --enable-optimizations: breakpoint on JS_ReportError never triggers, yet error reporter runs
[13:26:30] <jdm> --enable-debug, --disable-optimizations: we end up hanging inside JS_ReportErrorNumberUC o.O
[13:26:32] *** Joins: jet (jet@3E68C539.A2C0EFE1.DC5B6E2A.IP)
[13:26:53] <jdm> --enable-debug: we segfault inside with_c_str
[13:27:25] <jdm> my current thinking leans toward compiler bug, but I need to do more investigation
[13:27:31] *** Quits: jet (jet@3E68C539.A2C0EFE1.DC5B6E2A.IP) (Quit: jet)
[13:28:56] <Ms2ger> :(
[13:30:19] *** Joins: victorporof_ (victorporo@47B918E3.BCF05198.9B1E38F4.IP)
[13:30:22] <jdm> yeah, tell me about it
[13:31:03] *** Quits: victorporof (victorporo@47B918E3.BCF05198.9B1E38F4.IP) (Ping timeout)
[13:32:43] *** Quits: Ms2ger (Ms2ger@moz-CCE62C14.ugent.be) (Ping timeout)
[13:33:15] *** Joins: Ms2ger (Ms2ger@moz-CCE62C14.ugent.be)
[13:34:47] <Ms2ger> Otoh, it seems like people have an idea about how to do Rooted
[13:36:36] <jdm> I'm not sure about that
[13:40:11] <Ms2ger> Did you read the wall of text in the backscroll? :)
[13:49:17] <jdm> I did
[13:49:35] <jdm> it did not sound like there's a clear solution to the moving problem
[14:25:56] *** bhearsum|afk is now known as bhearsum
[14:31:03] *** Joins: Savago (Savago@D8B9C081.E820043D.D4C04133.IP)
[14:46:42] *** Joins: ahal (ahal@moz-7DE89BF0.cable.teksavvy.com)
[14:47:02] *** Quits: Kostic (marko@C4D4CB5C.58A2DD99.2168A69F.IP) (Client exited)
[14:49:29] *** Joins: Kostic (marko@C4D4CB5C.58A2DD99.2168A69F.IP)
[15:03:33] *** Joins: lmandel (lmandel@13F2CEC5.7672369.D8E68FF6.IP)
[15:03:36] *** Joins: miketaylr (mtaylor@moz-AD48788D.sw.biz.rr.com)
[15:27:39] *** kimundi is now known as zz_kimundi
[15:46:00] *** Quits: canhtak (canhtak@moz-6F820ACE.wl.t.ulaval.ca) (Ping timeout)
[15:47:10] *** Joins: canhtak (canhtak@moz-6F820ACE.wl.t.ulaval.ca)
[16:01:12] *** Quits: canhtak (canhtak@moz-6F820ACE.wl.t.ulaval.ca) (Connection reset by peer)
[16:03:10] *** Joins: canhtak (canhtak@moz-6F820ACE.wl.t.ulaval.ca)
[16:04:41] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[16:04:41] *** ChanServ sets mode: +o pcwalton
[16:07:42] *** Quits: canhtak (canhtak@moz-6F820ACE.wl.t.ulaval.ca) (Ping timeout)
[16:07:53] *** Quits: tgummerer (tgummerer@moz-582025B2.members.linode.com) (Quit: Coyote finally caught me)
[16:10:17] *** victorporof_ is now known as victorporof
[16:13:36] *** Joins: tgummerer (tgummerer@moz-582025B2.members.linode.com)
[16:16:53] *** Quits: Ms2ger (Ms2ger@moz-CCE62C14.ugent.be) (Ping timeout)
[16:21:41] *** Joins: canhtak (canhtak@moz-6F820ACE.wl.t.ulaval.ca)
[16:25:14] *** Quits: canhtak (canhtak@moz-6F820ACE.wl.t.ulaval.ca) (Ping timeout)
[16:27:43] *** Joins: canhtak (canhtak@moz-6F820ACE.wl.t.ulaval.ca)
[16:29:26] *** Quits: canhtak (canhtak@moz-6F820ACE.wl.t.ulaval.ca) (Ping timeout)
[16:33:37] *** Quits: jdm (jdm@moz-AC9499B2.cable.teksavvy.com) (Quit: Lost terminal)
[16:40:39] *** Joins: bholley (bholley@moz-24EDB000.hsd1.ca.comcast.net)
[16:44:54] *** Joins: canhtak (canhtak@moz-6F820ACE.wl.t.ulaval.ca)
[16:46:35] *** Quits: canhtak (canhtak@moz-6F820ACE.wl.t.ulaval.ca) (Ping timeout)
[16:50:57] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[16:51:00] *** Joins: azakai (alon@moz-BBE3ABD.mv.mozilla.com)
[16:51:28] *** bhearsum is now known as bhearsum|food
[16:55:05] <evilpie> http://www.google.com is crashing servo for me now
[16:58:11] *** Joins: canhtak (canhtak@moz-6F820ACE.wl.t.ulaval.ca)
[17:00:04] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[17:00:04] *** ChanServ sets mode: +o pcwalton
[17:01:46] *** Joins: dzbarsky (Adium@moz-F7525E47.wlan.wireless-pennnet.upenn.edu)
[17:04:06] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[17:04:47] *** Joins: unbracketed (textual@moz-6EB214F2.lsanca.dsl-w.verizon.net)
[17:09:29] <larsberg> evilpie: Can you create an issue with the backtrace? For me, it's just an empty page and we generate a lot of warnings about unsupported CSS properties and a couple of script errors (re: location and document.body), but it doesn't crash.
[17:10:59] <evilpie> it's a build from yesterday https://pastebin.mozilla.org/3675256
[17:13:02] <larsberg> Interesting, "fatal runtime error: :assertion failed: self.live_allocations > 0178"
[17:15:47] <evilpie> interesting, with optirun, it points to me :(
[17:16:09] <evilpie> https://pastebin.mozilla.org/3675287
[17:16:24] <evilpie> (optirun used the dedicated gpu for GL)
[17:17:13] <larsberg> aha, that error makes more sense. Maybe the "178" is another piece of output that was printed in a strange place.
[17:17:31] <larsberg> I believe that assertion is triggered when you tear down a task and there are still managed boxes around.
[17:17:38] <larsberg> (the one for "live_allocations > 0)
[17:17:55] <evilpie> without gdb
[17:17:58] <evilpie> *** Error in `./servo': double free or corruption (fasttop): 0x00007fd9f80fdfb0task '
[17:17:58] <evilpie> <unnamed>' failed at 'assertion failed: !mybox.type_desc.is_null()', /home/tom/servo/src/compiler/rust/src/libstd/rt/local_heap.rstask ':<unnamed>102' failed at '
[17:17:58] <evilpie> assertion failed: !mybox.type_desc.is_null()', /home/tom/servo/src/compiler/rust/src/libstd/rt/local_heap.rs:102
[17:17:58] <evilpie> You've met with a terrible fate, haven't you?
[17:19:30] *** Joins: dherman_ (dherman@moz-B31C6965.dsl.pltn13.sbcglobal.net)
[17:21:30] <evilpie> larsberg: btw if it missing location, you don't have the build including my patch
[17:21:38] <evilpie> * is
[17:22:05] *** Joins: CaseyBecking (CaseyBecki@ED8170C4.82E507D6.C334098E.IP)
[17:22:11] *** zz_kimundi is now known as kimundi
[17:25:05] *** Quits: miketaylr (mtaylor@moz-AD48788D.sw.biz.rr.com) (Quit: Leaving...)
[17:25:12] <larsberg> I pulled your changes and now the page actually renders (and no location warning). But, as usual, on OSX it seems to work. Hrmph.
[17:26:23] <larsberg> Just for fun, if you use cpu rendering (./servo -c http://www.google.com/), do you get the same crash?
[17:29:21] <evilpie> https://pastebin.mozilla.org/3675341
[17:30:40] <evilpie> okay have to go, will be back tomorrow
[17:31:12] <larsberg> Also, when debugging these things, it can be good to set a breakpoint on rust_begin_unwind
[17:31:30] *** Joins: Ms2ger (Ms2ger@moz-D500AF6B.adsl-dyn.isp.belgacom.be)
[17:31:33] <larsberg> Sometimes the linked task failure (which is going away) can tear down and cause a crash in an unrelated task to be reported before Rust is able to print the fail! from your original code.
[17:32:37] <larsberg> evilpie: Looks similar with -c, thanks for checking. I'll fire up my linux box after meetings today and see if I can repo and create an issue with some details. Thanks for reporting!
[17:34:37] <Ms2ger> larsberg, didn't you hear? It's meeting-free week ;)
[17:35:14] <larsberg> But... what will the rust community members without watching me typo over and over in the etherpad during the Rust meeting? 
[17:35:41] <Ms2ger> Oh, community members don't attend meetings
[17:35:47] <jgraham> Fix servo bugs?
[17:35:51] <Ms2ger> That's why the email went to all@
[17:36:36] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[17:50:57] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[17:50:57] *** ChanServ sets mode: +o pcwalton
[18:01:27] *** Joins: jdm (jdm@FCCEA34F.7672369.D8E68FF6.IP)
[18:01:28] *** ChanServ sets mode: +o jdm
[18:02:27] *** Joins: Jayflux (Jason@moz-21C62026.as13285.net)
[18:05:35] *** bhearsum|food is now known as bhearsum
[18:10:46] *** Joins: boredomist (ruqs@8186917.CC8FA3EE.E3401B6E.IP)
[18:15:08] *** Joins: miketaylr (mtaylor@moz-AD48788D.sw.biz.rr.com)
[18:20:26] *** Quits: dzbarsky (Adium@moz-F7525E47.wlan.wireless-pennnet.upenn.edu) (Quit: Leaving.)
[18:20:29] *** Quits: canhtak (canhtak@moz-6F820ACE.wl.t.ulaval.ca) (Quit: canhtak)
[18:25:26] *** Joins: canhtak (canhtak@moz-6F820ACE.wl.t.ulaval.ca)
[18:27:21] *** ahal is now known as ahal|lunch
[18:31:45] *** Joins: valenting (Thunderbir@95C905BA.4985FA88.FCAAE698.IP)
[18:39:06] *** Joins: dzbarsky (Adium@CE03D705.69EBDC0E.B5B6DD03.IP)
[18:53:03] *** Joins: Jayflux_ (Jason@moz-21C62026.as13285.net)
[18:53:07] *** Quits: Jayflux_ (Jason@moz-21C62026.as13285.net) (Connection reset by peer)
[18:59:52] *** Quits: Kostic (marko@C4D4CB5C.58A2DD99.2168A69F.IP) (Client exited)
[19:00:04] *** Quits: miketaylr (mtaylor@moz-AD48788D.sw.biz.rr.com) (Quit: Leaving...)
[19:03:13] <pcwalton> jdm: just a quick ping for r? on https://github.com/mozilla/servo/pull/1309
[19:11:11] <Ms2ger> pcwalton, so what happens if you free a node, and then someone allocates a new node, whose jsobject ends up in the same memory location as the previously freed node's jsobject?
[19:11:42] *** ahal|lunch is now known as ahal
[19:16:46] <Ms2ger> pcwalton, and do you need 'let _ ='?
[19:21:39] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[19:22:31] <jdm> pcwalton: oh, right
[19:24:05] <jdm> Ms2ger: what's the problem you envision?
[19:24:27] <Ms2ger> The hashtable claiming a node is live when it isn't
[19:24:56] <jdm> Ms2ger: the pointers are removed when the node's destructor is run
[19:25:18] <jdm> oh, wait
[19:25:20] <jdm> I see what you mean
[19:27:16] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[19:30:03] *** Joins: ghservo (ghservo@9C8B94D4.6A2AE50.F3114085.IP)
[19:30:03] <ghservo> 01[13servo01] 15bors-servo 04force-pushed 06auto from 14b5729fc to 140d15310: 02http://git.io/c8GovQ
[19:30:03] *** Parts: ghservo (ghservo@9C8B94D4.6A2AE50.F3114085.IP) ()
[19:30:17] *** Joins: ghservo (ghservo@C8693FCB.6A2AE50.F3114085.IP)
[19:30:17] <ghservo> 01[13servo01] 15bors-servo pushed 2 new commits to 06auto: 02http://git.io/YdjfgQ
[19:30:17] <ghservo> 13servo/06auto 1462ae3b7 15Patrick Walton: script: Stop trusting pointers to DOM nodes coming from layout....
[19:30:17] <ghservo> 13servo/06auto 14063d0e9 15bors-servo: auto merge of #1309 : pcwalton/servo/distrust-layout, r=jdm...
[19:30:17] *** Parts: ghservo (ghservo@C8693FCB.6A2AE50.F3114085.IP) ()
[19:34:47] *** Joins: miketaylr (mtaylor@moz-8ACC7131.dyn.grandenetworks.net)
[19:35:12] *** Quits: miketaylr (mtaylor@moz-8ACC7131.dyn.grandenetworks.net) (Connection reset by peer)
[19:35:16] *** Joins: miketaylr (mtaylor@moz-8ACC7131.dyn.grandenetworks.net)
[19:43:33] *** Quits: dzbarsky (Adium@CE03D705.69EBDC0E.B5B6DD03.IP) (Quit: Leaving.)
[19:46:34] *** Joins: eholk (eholk@moz-EA69C7A5.wavecable.com)
[19:54:37] *** Joins: dbaron (dbaron@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[19:55:40] *** Joins: ghservo (ghservo@F6EE6DE3.6A2AE50.F3114085.IP)
[19:55:40] <ghservo> [13servo] 15pcwalton opened pull request #1313: layout: Make the `LocalImageCache` `on_image_available` callback not use `@`. (06master...06parallel-layout)  02http://git.io/KXaQBg
[19:55:40] *** Parts: ghservo (ghservo@F6EE6DE3.6A2AE50.F3114085.IP) ()
[19:55:49] <pcwalton> larsberg: https://github.com/mozilla/servo/pull/1313/files
[19:55:51] <pcwalton> r?
[19:56:30] <larsberg> will look at it right now
[20:02:47] *** Joins: ghservo (ghservo@9C8B94D4.6A2AE50.F3114085.IP)
[20:02:47] <ghservo> 01[13servo01] 15bors-servo 04force-pushed 06auto from 14063d0e9 to 140d15310: 02http://git.io/c8GovQ
[20:02:47] *** Parts: ghservo (ghservo@9C8B94D4.6A2AE50.F3114085.IP) ()
[20:02:56] *** Joins: ghservo (ghservo@2EE61FCC.6A2AE50.F3114085.IP)
[20:02:56] <ghservo> 01[13servo01] 15bors-servo pushed 2 new commits to 06auto: 02http://git.io/ItyNkQ
[20:02:56] <ghservo> 13servo/06auto 147eb4097 15Patrick Walton: layout: Make the `LocalImageCache` `on_image_available` callback not use...
[20:02:56] <ghservo> 13servo/06auto 149d414e3 15bors-servo: auto merge of #1313 : pcwalton/servo/parallel-layout, r=larsbergstrom...
[20:02:56] *** Parts: ghservo (ghservo@2EE61FCC.6A2AE50.F3114085.IP) ()
[20:04:27] *** Quits: Jesse (jruderman@moz-5973C6FA.oc.oc.cox.net) (Quit: Jesse)
[20:05:29] *** Joins: dzbarsky (Adium@BC1B0569.D5562F02.B5C6E82B.IP)
[20:06:13] *** Quits: Savago (Savago@D8B9C081.E820043D.D4C04133.IP) (Ping timeout)
[20:06:52] *** Quits: abinader (abinader@D8B9C081.E820043D.D4C04133.IP) (Ping timeout)
[20:08:27] *** Joins: Jesse (jruderman@moz-5973C6FA.oc.oc.cox.net)
[20:10:09] *** Joins: abinader (abinader@D8B9C081.E820043D.D4C04133.IP)
[20:11:27] <pcwalton> larsberg: r? https://github.com/mozilla/servo/pull/1313
[20:11:29] <pcwalton> another commit
[20:14:33] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[20:16:37] <larsberg> pcwalton: This looks good as well. Will bors do the right thing if I r+ a second commit in the PR or will I break stuff?
[20:17:02] *** Quits: unbracketed (textual@moz-6EB214F2.lsanca.dsl-w.verizon.net) (Quit: Computer has gone to sleep.)
[20:18:27] <pcwalton> larsberg: I think it does the right thing
[20:18:31] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[20:18:52] <larsberg> We shall see :-)
[20:26:21] *** Joins: ghservo (ghservo@2EE61FCC.6A2AE50.F3114085.IP)
[20:26:21] <ghservo> 01[13servo01] 15bors-servo 04force-pushed 06auto from 149d414e3 to 140d15310: 02http://git.io/c8GovQ
[20:26:21] *** Parts: ghservo (ghservo@2EE61FCC.6A2AE50.F3114085.IP) ()
[20:26:21] *** Joins: ghservo (ghservo@C8693FCB.6A2AE50.F3114085.IP)
[20:26:21] <ghservo> 01[13servo01] 15bors-servo pushed 3 new commits to 06auto: 02http://git.io/qPCa1A
[20:26:22] <ghservo> 13servo/06auto 147eb4097 15Patrick Walton: layout: Make the `LocalImageCache` `on_image_available` callback not use...
[20:26:22] <ghservo> 13servo/06auto 14c85953d 15Patrick Walton: net: De-GC the image cache stuff....
[20:26:22] <ghservo> 13servo/06auto 14a76f761 15bors-servo: auto merge of #1313 : pcwalton/servo/parallel-layout, r=larsbergstrom...
[20:26:24] *** Parts: ghservo (ghservo@C8693FCB.6A2AE50.F3114085.IP) ()
[20:26:32] <pcwalton> time to make fonts threadsafe
[20:26:34] <pcwalton> this will be fun :)
[20:27:10] <pcwalton> way more fun than C++ though since the compiler will tell me wherever the problems are
[20:27:18] <pcwalton> I couldn't imagine doing this in C++
[20:29:25] * jdm wants to work on Servo, not ServiceWorkers in gecko :(
[20:29:44] * pcwalton wants to work on Servo, not bouncing the same Rust patch 14 times over and over :)
[20:34:26] <Ms2ger> jdm, does it have a spec yet?
[20:34:37] <jdm> Ms2ger: nope!
[20:35:18] <Ms2ger> Be warned that smaug will r- you, then :)
[20:35:42] <jdm> don't worry, sicking will override him
[20:35:58] <Ms2ger> We'll see how that goes
[20:36:01] <jdm> I'll sit back with popcorn and watch
[20:37:05] <Ms2ger> jdm, hmm, I was thinking about making contributors do bisecting just earlier today
[20:38:14] <pcwalton> interesting
[20:38:22] <pcwalton> I think fonts may be a canonical use case for RWArc
[20:38:23] <jdm> Ms2ger: I think the last step missing is making it simple to convert two aribtrary binaries into two dates
[20:38:29] <pcwalton> since I think shaping is read-only
[20:38:33] <pcwalton> and we want to do it in parallel
[20:38:35] <pcwalton> iiiinteresting
[20:38:39] <pcwalton> well, for now it's a MutexArc.
[20:38:52] <pcwalton> will probably kill our parallelism in some cases but we can fix it without too much work
[20:38:52] <pcwalton> yay rust
[20:39:11] <Ms2ger> Mmm
[20:39:43] <Ms2ger> "What do the following mean: HTTP, URL, HTML? Explain briefly."
[20:39:49] * Ms2ger would like that exam question
[20:39:52] <jdm> they mean madness and despair
[20:39:54] <strcat> pcwalton: can you use a RWArc? if there aren't writers
[20:39:59] <strcat> what exactly is in it?
[20:40:11] <pcwalton> strcat: the font data from the OS
[20:40:16] <pcwalton> I'm not sure exactly who writes to it and where
[20:40:27] <pcwalton> I'm just blindly converting and having the Rust type system tell me where I need to fix stuff
[20:40:31] <Ms2ger> jdm, correct.
[20:45:31] <pcwalton> oh, this was fun
[20:45:50] <pcwalton> the Rust type system told me that I need to come up with some sort of concurrency solution for the shape cache in a multithreaded layout scenario
[20:45:55] <pcwalton> which is exactly correct!
[20:45:57] <pcwalton> I hadn't thought of that.
[20:46:13] <Ms2ger> Yay, types!
[20:47:20] *** Joins: ghservo (ghservo@24260B07.6A2AE50.F3114085.IP)
[20:47:20] <ghservo> [13servo] 15bors-servo closed pull request #1313: layout: Make the `LocalImageCache` `on_image_available` callback not use `@`. (06master...06parallel-layout) 02http://git.io/KXaQBg
[20:47:20] *** Parts: ghservo (ghservo@24260B07.6A2AE50.F3114085.IP) ()
[20:47:38] *** Quits: Jesse (jruderman@moz-5973C6FA.oc.oc.cox.net) (Quit: Jesse)
[20:49:10] *** Joins: unbracketed (textual@moz-40FFD17D.lsanca.fios.verizon.net)
[20:57:52] *** Quits: dbaron (dbaron@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: 8403864 bytes have been tenured, next gc will be global.)
[21:00:22] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[21:01:02] *** Joins: dbaron (dbaron@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[21:02:51] *** Quits: bholley (bholley@moz-24EDB000.hsd1.ca.comcast.net) (Quit: bholley)
[21:03:36] *** Quits: CaseyBecking (CaseyBecki@ED8170C4.82E507D6.C334098E.IP) (Ping timeout)
[21:04:17] *** Joins: Jesse (jruderman@moz-5973C6FA.oc.oc.cox.net)
[21:06:30] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[21:17:19] *** Quits: dbaupp (Thunderbir@moz-3BE4086E.lns20.syd6.internode.on.net) (Ping timeout)
[21:17:25] <jack> how did we not know that acrichto is working on chase-lev? :)
[21:17:48] <jack> maybe only *I* didn't know this? :)
[21:18:02] <jdm> I was unaware of this too
[21:18:41] <Ms2ger> On what?
[21:19:04] <jack> the chase-lev deque is a work stealing data structure that we want to use to speed up selector matching and other parts of layout
[21:19:36] <jack> it is apparently quite difficult to implement and there have been two failed attempts in teh past
[21:21:03] <strcat> jack: it's a conservative implementation with sequential consistency so it pays a cache miss on any op
[21:21:27] <strcat> reasoning about stupid atomic ordering is horrible :(
[21:23:09] *** Joins: ghservo (ghservo@2EE61FCC.6A2AE50.F3114085.IP)
[21:23:10] <ghservo> [13servo] 15jdm opened issue #1314: Taint nodes sent from layout -> script 02http://git.io/RVetNg
[21:23:10] *** Parts: ghservo (ghservo@2EE61FCC.6A2AE50.F3114085.IP) ()
[21:24:23] <jack> strcat: probably better than what we have which is nothing :)
[21:24:44] <jack> pcwalton: It's not clear to me when font information should be updated. i think right now we read it when the context is created and keep it forever
[21:24:58] <jack> in theory, stuff like FontList and FontContext should basically never change
[21:24:59] *** Quits: miketaylr (mtaylor@moz-8ACC7131.dyn.grandenetworks.net) (Connection reset by peer)
[21:25:01] *** Joins: miketaylrrrr (mtaylor@moz-8ACC7131.dyn.grandenetworks.net)
[21:25:17] <jack> so assuming cost of read is very low when no writes happens, RWArc sounds reasonable.
[21:25:33] <strcat> jack: well, rwlocks do have issues
[21:25:39] <jack> We could probably get away with Arcs and read-only and reconstruct things when they change
[21:25:50] <strcat> if you rarely have writers rwlock is probably okay
[21:25:53] <jack> but hte shaper needs actual fonts
[21:26:11] <strcat> if you do have writers.... the writer needs to wait until all the readers are done, then all the readers need to wait, and it's more expensive than a mutex
[21:26:14] <jack> and those are mutable to some extent i think, since we have to generate scaled versions of a paritcular font
[21:26:39] <jack> maybe we can expose this in a way that everything is constructed immutably
[21:26:42] <strcat> posix rwlocks provide no way to avoid deadlocks :]
[21:26:51] *** Joins: vodik_ (simon@moz-B9BD1729.net.uwaterloo.ca)
[21:27:04] *** Quits: abinader (abinader@D8B9C081.E820043D.D4C04133.IP) (Quit: Fui!)
[21:33:34] *** Quits: dzbarsky (Adium@BC1B0569.D5562F02.B5C6E82B.IP) (Quit: Leaving.)
[21:34:26] *** Quits: valenting (Thunderbir@95C905BA.4985FA88.FCAAE698.IP) (Quit: valenting)
[21:34:41] *** Joins: valenting (Thunderbir@95C905BA.4985FA88.FCAAE698.IP)
[21:38:37] *** Joins: CaseyBecking (CaseyBecki@ED8170C4.82E507D6.C334098E.IP)
[21:39:51] <pcwalton> aww, deadlock
[21:40:48] *** Quits: Jackneill (Jackneill@moz-51ABD5E3.pool.digikabel.hu) (Input/output error)
[21:49:33] *** Joins: harth (heather@moz-C07D5168.p2p.sfo1.mozilla.com)
[21:54:13] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[21:59:36] *** Quits: lmandel (lmandel@13F2CEC5.7672369.D8E68FF6.IP) (Quit: lmandel)
[21:59:57] *** bhearsum is now known as bhearsum|afk
[22:04:08] *** Quits: Jayflux (Jason@moz-21C62026.as13285.net) (Connection reset by peer)
[22:04:36] *** Joins: Jayflux (Jason@moz-21C62026.as13285.net)
[22:05:37] *** Quits: Jayflux (Jason@moz-21C62026.as13285.net) (Connection reset by peer)
[22:05:51] *** Joins: Jayflux (Jason@moz-21C62026.as13285.net)
[22:06:21] *** Quits: Jayflux (Jason@moz-21C62026.as13285.net) (Connection reset by peer)
[22:06:42] *** Joins: Jayflux (Jason@moz-21C62026.as13285.net)
[22:07:51] *** Joins: Jayflux_ (Jason@moz-21C62026.as13285.net)
[22:07:52] *** Quits: Jayflux_ (Jason@moz-21C62026.as13285.net) (Quit: Jayflux_)
[22:07:52] *** Quits: Jayflux (Jason@moz-21C62026.as13285.net) (Connection reset by peer)
[22:08:02] *** Joins: Jayflux (Jason@moz-21C62026.as13285.net)
[22:15:18] *** Joins: Savago (Savago@D8B9C081.E820043D.D4C04133.IP)
[22:16:46] *** Quits: Savago (Savago@D8B9C081.E820043D.D4C04133.IP) (Quit: Savago)
[22:21:13] *** Joins: ghservo (ghservo@2EE61FCC.6A2AE50.F3114085.IP)
[22:21:13] <ghservo> [13servo] 15kmcallister closed issue #1308: Mac build error related to nullptr 02http://git.io/WapnaQ
[22:21:13] *** Parts: ghservo (ghservo@2EE61FCC.6A2AE50.F3114085.IP) ()
[22:23:04] *** Quits: Ms2ger (Ms2ger@moz-D500AF6B.adsl-dyn.isp.belgacom.be) (Quit: nn)
[22:26:55] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[22:31:34] <kmc> I can build Servo on my mac now
[22:31:45] <kmc> I did have to install full Xcode and not just the command line utils which come with Homebrew
[22:31:53] <larsberg> kmc: nice!
[22:31:54] <kmc> and that meant I had to give Apple a bunch of personal information ;P
[22:31:57] <kmc> but, it works now
[22:32:02] <larsberg> how is the debugging experience for you?
[22:32:07] <kmc> haven't tried yet :)
[22:32:14] <larsberg> (wondering if it's just me with a broken 10.9 and symbols)
[22:32:58] *** Quits: unbracketed (textual@moz-40FFD17D.lsanca.fios.verizon.net) (Quit: Computer has gone to sleep.)
[22:33:17] *** Joins: dbaupp (Thunderbir@A56F6AEF.D5A1DCF.37681C44.IP)
[22:38:30] *** Quits: vodik_ (simon@moz-B9BD1729.net.uwaterloo.ca) (Ping timeout)
[22:42:44] *** Quits: ahal (ahal@moz-7DE89BF0.cable.teksavvy.com) (Input/output error)
[22:43:07] *** Quits: Jesse (jruderman@moz-5973C6FA.oc.oc.cox.net) (Quit: Jesse)
[22:43:19] *** Joins: Jesse (jruderman@moz-5973C6FA.oc.oc.cox.net)
[22:43:58] *** Quits: Jesse (jruderman@moz-5973C6FA.oc.oc.cox.net) (Quit: Jesse)
[22:44:25] *** Joins: bholley (bholley@moz-24EDB000.hsd1.ca.comcast.net)
[22:44:51] *** Quits: eholk (eholk@moz-EA69C7A5.wavecable.com) (Quit: eholk)
[22:46:13] <bjz> jack: beep
[22:57:48] *** Joins: tikue_ (tkuehn@8148C5E3.21C37D63.689607DE.IP)
[22:57:52] *** Quits: harth (heather@moz-C07D5168.p2p.sfo1.mozilla.com) (Client exited)
[22:58:26] *** Quits: dbaron (dbaron@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Ping timeout)
[23:10:04] <jack> bjz: pong
[23:11:23] *** Quits: valenting (Thunderbir@95C905BA.4985FA88.FCAAE698.IP) (Ping timeout)
[23:14:19] *** Quits: canhtak (canhtak@moz-6F820ACE.wl.t.ulaval.ca) (Quit: canhtak)
[23:22:08] *** Joins: harth (heather@moz-C07D5168.p2p.sfo1.mozilla.com)
[23:22:48] *** Joins: dbaron (dbaron@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[23:23:05] *** Joins: jet (jet@3E68C539.A2C0EFE1.DC5B6E2A.IP)
[23:23:37] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[23:23:37] *** ChanServ sets mode: +o pcwalton
[23:24:56] *** Quits: jet (jet@3E68C539.A2C0EFE1.DC5B6E2A.IP) (Quit: jet)
[23:26:38] <bjz> jack: glfw-rs is updsted
[23:26:48] <bjz> *updated
[23:28:56] <jack> bjz: saw that.. cool
[23:29:57] <pcwalton> jack: parallel selector matching is racy
[23:30:00] <pcwalton> I am going to disable
[23:30:06] <pcwalton> to reproduce turn OFF optimizations and build and try acid1 over and over
[23:31:10] *** Joins: canhtak (canhtak@moz-6F820ACE.wl.t.ulaval.ca)
[23:31:35] *** Quits: CaseyBecking (CaseyBecki@ED8170C4.82E507D6.C334098E.IP) (Ping timeout)
[23:32:50] <larsberg> pcwalton: related to https://github.com/mozilla/servo/issues/1258  maybe?
[23:32:59] *** Quits: jdm (jdm@FCCEA34F.7672369.D8E68FF6.IP) (Quit: Lost terminal)
[23:33:18] <pcwalton> larsberg: oh yes
[23:33:25] <pcwalton> hmmm
[23:33:50] <pcwalton> maybe it's not selector matching
[23:35:14] <pcwalton> kmc: can you valgrind it?
[23:35:36] <pcwalton> I can't valgrind
[23:36:05] <strcat> pcwalton: we should add tsan support :)
[23:36:18] <pcwalton> that's extremely low on my priority list
[23:36:26] <kmc> pcwalton: sure, i can try
[23:36:27] <pcwalton> because we should just fix the type system
[23:36:31] *** Quits: tikue_ (tkuehn@8148C5E3.21C37D63.689607DE.IP) (Quit: tikue_)
[23:36:32] <strcat> dunno what it entails anyway
[23:47:23] *** Joins: CaseyBecking (CaseyBecki@moz-29F30CC3.lsanca.fios.verizon.net)
[23:51:26] <kmc> pcwalton: i can't reproduce the css parse failures in valgrind memcheck :/
[23:51:32] <pcwalton> argh
[23:52:00] <pcwalton> these are probably exploitable
[23:52:03] <kmc> the helgrind data-race tool finds a bunch of stuff inside libuv and rt, which is probably not relevant
[23:52:04] <pcwalton> :\
[23:55:06] <kmc> pcwalton: my approach was going to be to start with the code which prints the error message and just follow the data flow backwards
[23:55:15] <pcwalton> yeah, good idea
[23:55:15] <kmc> I can attempt that now
[23:55:31] <pcwalton> wonder if it's a rustc bug
[23:56:32] <strcat> pcwalton: there's a rustc double-destruction bug I know about, could that be related?
[23:56:40] <pcwalton> maybe
[23:56:54] <strcat> immediates with dtors don't work properly
[23:57:15] <strcat> usually stuff isn't immediate because we add the drop flag
[23:57:22] <strcat> and it gets above 1 word
[23:58:56] *** Quits: canhtak (canhtak@moz-6F820ACE.wl.t.ulaval.ca) (Quit: canhtak)
