[00:00:29] *** Kingsquee is now known as Kingsquee_lunch
[00:00:43] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[00:01:13] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[00:01:13] *** ChanServ sets mode: +o pcwalton
[00:06:10] *** Quits: annodomini (lambda@moz-hceqmj.hfc.comcastbusiness.net) (Client exited)
[00:07:07] *** Joins: kmcguire (kmcguire@moz-uqq.d7l.207.68.IP)
[00:07:15] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Ping timeout: 121 seconds)
[00:07:24] *** Joins: etw (john@moz-2lpgmu.fios.verizon.net)
[00:09:11] *** Quits: user7181 (user@moz-q7qqfk.mullvad.net) (Quit: leaving)
[00:09:19] <brson> new regression report https://gist.github.com/brson/5690c7da094c48597b7c
[00:09:26] <brson> gcc and docopt are spurious dns failures
[00:09:33] <brson> mm_image and rust_events are new
[00:10:07] <brson> mm_image is a coherence conflict on From
[00:10:30] <brson> rust_events is that fat pointer casting nfailure
[00:10:42] *** Joins: swgillespie (swgillespie@moz-upj.3un.220.167.IP)
[00:12:50] * erickt is horribly offended that all my hard work getting serde beta compatible was defeated by a spurious dns failure: https://tools.taskcluster.net/task-inspector/#tT_mvuYfSmqIYZXInYutuQ/0
[00:13:24] <brson> huh, i guess a lot hit the dns problem
[00:13:32] <brson> wtf is wrong with crates.io's dns
[00:13:38] <brson> i can probably change this to go around crates.io
[00:14:14] * erickt shakes fist at dns servers everywhere
[00:15:47] <erickt> brson: waah? aster's beta compatible?? how is that possible since it's using libsyntax? https://tools.taskcluster.net/task-inspector/#nE8AQuJYS3KwjP_qJMzM-A/0
[00:15:58] <erickt> I mean I'll take it
[00:16:31] *** Joins: aatch (james@moz-4tpcve.pd7t.fvcm.e000.2406.IP)
[00:16:41] <brson> erickt: that's the nightly build
[00:17:01] <brson> erickt: beta build failed because plugins https://tools.taskcluster.net/task-inspector/#AGYSd6daRnGNiIXAhhupfg/0
[00:17:23] <erickt> that's what I thought
[00:17:44] <brson> acrichto: what's the s3 equivalent of 'https://crates.io/api/v1/crates'?
[00:18:17] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[00:21:54] <acrichto> brson: s3://crates-io/crates
[00:22:40] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[00:22:40] *** ChanServ sets mode: +o pcwalton
[00:23:51] <sfackler> erickt: speaking of serde stability: https://github.com/sfackler/rust-postgres/commit/62459f694472814b7001ce52e0d247c2b69d7a20
[00:24:08] *** Joins: joneshf-laptop (joneshf@moz-l4h.b5s.208.98.IP)
[00:27:21] *** Joins: srh_ (User@moz-gk35n7.hfc.comcastbusiness.net)
[00:30:21] *** Joins: annodomini (lambda@moz-1m165t.mycingular.net)
[00:30:43] *** Quits: srh (User@moz-gk35n7.hfc.comcastbusiness.net) (Ping timeout: 121 seconds)
[00:32:19] *** Quits: jdm (jdm@moz-ilbt2e.cable.teksavvy.com) (Quit: )
[00:33:04] *** Quits: annodomini (lambda@moz-1m165t.mycingular.net) (Client exited)
[00:36:17] *** Quits: sprang (sprang@moz-d0kmvi.12d9.sm5v.0009.2601.IP) (Ping timeout: 121 seconds)
[00:37:02] *** Quits: srh_ (User@moz-gk35n7.hfc.comcastbusiness.net) (Quit: Leaving)
[00:38:56] *** Joins: annodomini (lambda@moz-1m165t.mycingular.net)
[00:40:00] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[00:40:08] *** Quits: scialex (scialex@moz-j5mi8i.cs.brown.edu) (Quit: Leaving)
[00:41:36] *** Quits: bkearns (Adium@moz-rudtng.static.wiline.com) (Quit: Leaving.)
[00:47:49] *** Quits: annodomini (lambda@moz-1m165t.mycingular.net) (Client exited)
[00:56:47] *** Joins: mr_trousers (Mibbit@moz-juv.9o3.252.72.IP)
[00:58:51] <erickt> sfackler: woohoo!
[00:59:42] *** Joins: annodomini (lambda@moz-qgii5v.ma.comcast.net)
[01:02:39] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[01:10:11] *** Quits: mr_trousers (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[01:11:34] *** Joins: unwound (bkoropoff@moz-kthi5c.wa.comcast.net)
[01:12:20] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[01:15:44] *** Joins: blaenk_ (blaenkdenum@moz-12e081.res.rr.com)
[01:17:28] *** Quits: blaenk (blaenkdenum@moz-o1s0v9.n2pv.fsko.e000.2605.IP) (Ping timeout: 121 seconds)
[01:21:55] *** Quits: gsingh93 (gulshan@moz-3fu4am.mi.comcast.net) (Quit: WeeChat 1.1.1)
[01:23:51] *** Quits: annodomini (lambda@moz-qgii5v.ma.comcast.net) (Client exited)
[01:26:12] *** Joins: Puddles (Mibbit@moz-juv.9o3.252.72.IP)
[01:26:40] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Connection closed)
[01:27:34] *** Quits: Puddles (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[01:28:05] *** Joins: pcwalton (pcwalton@moz-q9lhp9.rgd2.9kg1.0101.2620.IP)
[01:28:05] *** ChanServ sets mode: +o pcwalton
[01:28:45] *** Joins: annodomini (lambda@moz-qgii5v.ma.comcast.net)
[01:29:26] *** Joins: blaenk__ (blaenkdenum@moz-o1s0v9.n2pv.fsko.e000.2605.IP)
[01:32:28] *** Quits: blaenk_ (blaenkdenum@moz-12e081.res.rr.com) (Ping timeout: 121 seconds)
[01:40:28] *** Quits: blaenk__ (blaenkdenum@moz-o1s0v9.n2pv.fsko.e000.2605.IP) (Ping timeout: 121 seconds)
[01:40:42] <brson> here's the regression report for felix's branch that tries to deal with the panic!("{}") case https://gist.github.com/brson/a6daf91c1e165d20bb76
[01:40:49] <brson> tldr 2 regressions
[01:41:55] <brson> http://this-week-in-rust.org/blog/2015/04/13/this-week-in-rust-77/
[01:42:29] *** Quits: annodomini (lambda@moz-qgii5v.ma.comcast.net) (Client exited)
[01:44:19] <brson> here's the patch to make stability attributes a deprecation warning https://github.com/rust-lang/rust/pull/24399
[01:48:20] *** Quits: Diggsey (diggsey@moz-iii2lc.dsl.pipex.com) (Ping timeout: 121 seconds)
[01:49:05] <brson> acrichto: do you want the next beta to pull in a new cargo?
[01:49:38] <acrichto> brson: hm I don't think much was fixed
[01:49:42] <acrichto> brson: so proably not worth it
[01:51:00] *** Quits: tcurdt (tcurdt@moz-bvuuhd.dip0.t-ipconnect.de) (Quit: Textual IRC Client: www.textualapp.com)
[01:55:09] *** Quits: swgillespie (swgillespie@moz-upj.3un.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[01:57:51] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[01:58:56] * frewsxcv has an annoying cargo bug in beta he's trying to debug in #rust
[01:59:56] *** Joins: summerlight (summerlight@moz-99k.2mj.130.121.IP)
[02:00:54] *** Quits: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com) (Connection closed)
[02:02:20] *** Joins: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com)
[02:04:20] *** Quits: dcb (textual@moz-j72nfe.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[02:08:24] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Quit: It's a joke, it's all a joke.)
[02:08:30] *** Joins: dcb (textual@moz-j72nfe.ca.comcast.net)
[02:09:07] *** Quits: brson (brson@moz-cfhap5.mtv2.mozilla.com) (Quit: leaving)
[02:09:07] * frewsxcv informs everyone to ignore his last message
[02:11:05] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[02:12:05] *** Joins: oakwhiz_ (oakwhiz@moz-26tbpb.vc.shawcable.net)
[02:15:19] *** Quits: oakwhiz__ (oakwhiz@moz-26tbpb.vc.shawcable.net) (Ping timeout: 121 seconds)
[02:19:39] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[02:21:08] *** Joins: dcuddeback (textual@moz-cb7v53.ca.comcast.net)
[02:21:10] *** Quits: dcuddeback (textual@moz-cb7v53.ca.comcast.net) (Connection closed)
[02:21:18] *** Joins: dcuddeback (textual@moz-cb7v53.ca.comcast.net)
[02:21:30] *** Quits: pcwalton (pcwalton@moz-q9lhp9.rgd2.9kg1.0101.2620.IP) (Client exited)
[02:25:10] *** Joins: annodomini (lambda@moz-qgii5v.ma.comcast.net)
[02:25:54] *** Joins: cdidd_ (cdidd@moz-ua43b9.broadband.corbina.ru)
[02:26:53] *** Quits: cdidd (cdidd@moz-3mn5dv.broadband.corbina.ru) (Ping timeout: 121 seconds)
[02:31:05] *** Quits: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com) (Ping timeout: 121 seconds)
[02:32:24] *** Quits: fungos (quassel@moz-p1o.6pj.156.69.IP) (Connection closed)
[02:34:45] *** Joins: sprang (sprang@moz-d0kmvi.12d9.sm5v.0009.2601.IP)
[02:38:38] *** Quits: zz_kimundi (kimundi@moz-cie3b9.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[02:39:22] *** Quits: etw (john@moz-2lpgmu.fios.verizon.net) (Client exited)
[02:40:13] *** Joins: zz_kimundi (kimundi@moz-j9v5l3.dip0.t-ipconnect.de)
[02:40:15] *** zz_kimundi is now known as kimundi
[02:41:27] *** Joins: etw (john@moz-2lpgmu.fios.verizon.net)
[02:41:31] *** Joins: adu (ajr@moz-0foa9t.md.comcast.net)
[02:53:08] *** Joins: brson (brson@moz-nr3.c9m.56.172.IP)
[02:53:09] *** ChanServ sets mode: +o brson
[03:06:49] *** Quits: oakwhiz_ (oakwhiz@moz-26tbpb.vc.shawcable.net) (Ping timeout: 121 seconds)
[03:07:13] *** Joins: mib_hx1fv7 (Mibbit@moz-juv.9o3.252.72.IP)
[03:08:12] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[03:08:16] *** Joins: binkarus (textual@moz-014tff.ca.comcast.net)
[03:09:09] *** Quits: mib_hx1fv7 (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[03:10:07] *** Joins: GaryOak_ (Mibbit@moz-1dfhrv.wa.comcast.net)
[03:13:29] *** Joins: oakwhiz (oakwhiz@moz-26tbpb.vc.shawcable.net)
[03:18:05] *** Joins: oakwhiz_ (oakwhiz@moz-26tbpb.vc.shawcable.net)
[03:21:35] *** Quits: oakwhiz (oakwhiz@moz-26tbpb.vc.shawcable.net) (Ping timeout: 121 seconds)
[03:22:59] *** Joins: oakwhiz__ (oakwhiz@moz-26tbpb.vc.shawcable.net)
[03:26:20] *** Quits: oakwhiz_ (oakwhiz@moz-26tbpb.vc.shawcable.net) (Ping timeout: 121 seconds)
[03:27:34] *** Joins: semarie (semarie@moz-h9vqq1.enn.lu)
[03:28:42] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[03:32:03] *** Quits: kmcguire (kmcguire@moz-uqq.d7l.207.68.IP) (Ping timeout: 121 seconds)
[03:34:30] *** Joins: oakwhiz (oakwhiz@moz-26tbpb.vc.shawcable.net)
[03:35:50] *** Quits: oakwhiz__ (oakwhiz@moz-26tbpb.vc.shawcable.net) (Ping timeout: 121 seconds)
[03:39:13] *** Joins: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net)
[03:39:13] *** ChanServ sets mode: +o pcwalton
[03:39:16] *** Quits: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net) (Client exited)
[03:39:40] *** Joins: blaenk (blaenkdenum@moz-o1s0v9.n2pv.fsko.e000.2605.IP)
[03:40:31] *** Quits: GaryOak_ (Mibbit@moz-1dfhrv.wa.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[03:41:13] *** Joins: andars_ (andars@moz-bsldst.sntcca.sbcglobal.net)
[03:48:28] *** Joins: quantheory (quantheory@moz-dsb104.crel.jtvf.0001.2601.IP)
[03:58:54] *** Quits: rcxdude (rcxdude@moz-b5a5f3.cable.virginm.net) (A TLS packet with unexpected length was received.)
[03:59:54] *** Quits: andars_ (andars@moz-bsldst.sntcca.sbcglobal.net) (Ping timeout: 121 seconds)
[04:01:56] *** Kingsquee_lunch is now known as Kingsquee
[04:03:02] *** Joins: Unwound_ (bkoropoff@moz-kthi5c.wa.comcast.net)
[04:04:17] *** Quits: unwound (bkoropoff@moz-kthi5c.wa.comcast.net) (Ping timeout: 121 seconds)
[04:07:47] *** Unwound_ is now known as unwound
[04:10:39] *** Quits: adu (ajr@moz-0foa9t.md.comcast.net) (Client exited)
[04:11:24] *** Joins: mib_40qo32 (Mibbit@moz-juv.9o3.252.72.IP)
[04:11:42] *** Quits: mib_40qo32 (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[04:12:00] *** Joins: andars_ (andars@moz-bsldst.sntcca.sbcglobal.net)
[04:14:16] *** Joins: adu (ajr@moz-0foa9t.md.comcast.net)
[04:17:48] *** Joins: rcxdude (rcxdude@moz-b5a5f3.cable.virginm.net)
[04:31:58] <nrc> hmm, this is not ideal, trying to turn the span for a whole file will always fail because the end_pos for a filemap is the start of the next file
[04:32:06] <nrc> sigh
[04:33:35] *** Quits: binkarus (textual@moz-014tff.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[04:33:50] *** Quits: adu (ajr@moz-0foa9t.md.comcast.net) (Client exited)
[04:35:57] <nrc> what?! we have a test which enforces that this works, but it doesn't :-s
[04:47:33] *** Joins: marsel (user@moz-k2n.0ho.180.94.IP)
[04:53:44] <nrc> how do I run the unit tests for a single crate in the distro?
[04:53:50] *** Joins: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com)
[04:54:14] <nrc> nm
[04:54:19] <nrc> make check-stage1-syntax
[04:54:23] <nrc> e.g.
[04:55:20] *** Joins: binkarus (textual@moz-014tff.ca.comcast.net)
[04:57:40] *** Joins: madmalik (uid13697@moz-lfin5p.brockwell.irccloud.com)
[04:58:07] *** Quits: annodomini (lambda@moz-qgii5v.ma.comcast.net) (Client exited)
[05:10:39] *** Quits: oakwhiz (oakwhiz@moz-26tbpb.vc.shawcable.net) (Connection closed)
[05:14:21] *** Quits: bdero (bran@moz-216hqv.oo5r.e4su.0006.2601.IP) (Ping timeout: 121 seconds)
[05:20:09] *** Quits: marsel (user@moz-k2n.0ho.180.94.IP) (Ping timeout: 121 seconds)
[05:20:48] *** c74d3 is now known as c74d
[05:21:51] <nrc> can I run the tests for a crate without waiting for the whole of the bootstrap stage to compile?
[05:24:32] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[05:35:59] <nrc> nm
[05:36:39] *** Joins: krebbitccf (Mibbit@moz-juv.9o3.252.72.IP)
[05:37:11] *** Quits: brson (brson@moz-nr3.c9m.56.172.IP) (Quit: leaving)
[05:37:30] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Connection closed)
[05:39:09] *** Quits: blaenk (blaenkdenum@moz-o1s0v9.n2pv.fsko.e000.2605.IP) (Ping timeout: 121 seconds)
[05:39:37] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[05:41:53] *** Quits: O01eg (o01eg@moz-jje.5l5.112.37.IP) (Client exited)
[05:42:45] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[05:43:21] *** Quits: krebbitccf (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[05:46:22] *** Joins: p1start (p1start@moz-nftjhe.org)
[05:57:40] *** Joins: James (quassel@moz-olnmts.range86-163.btcentralplus.com)
[05:58:50] *** Joins: adu (ajr@moz-0foa9t.md.comcast.net)
[06:01:55] <unwound> bootstrapping rust is going to condemn my CPU to an early grave
[06:02:54] *** Quits: adu (ajr@moz-0foa9t.md.comcast.net) (Client exited)
[06:03:12] *** Quits: andars_ (andars@moz-bsldst.sntcca.sbcglobal.net) (Ping timeout: 121 seconds)
[06:07:25] *** Quits: poorman (poorman@moz-sdl0oq.res.rr.com) (Ping timeout: 121 seconds)
[06:08:11] *** Joins: Unwound_ (bkoropoff@moz-kthi5c.wa.comcast.net)
[06:09:22] *** Quits: unwound (bkoropoff@moz-kthi5c.wa.comcast.net) (Ping timeout: 121 seconds)
[06:22:41] *** Joins: dinfuehr (dinfuehr@moz-c25.u8s.112.91.IP)
[06:25:03] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[06:25:27] *** Unwound_ is now known as unwound
[06:30:24] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Quit: It's a joke, it's all a joke.)
[06:35:42] *** Quits: James (quassel@moz-olnmts.range86-163.btcentralplus.com) (Ping timeout: 121 seconds)
[06:38:52] *** Joins: eerie (eerie@moz-njefna.red.bezeqint.net)
[06:42:34] *** Joins: og_wolf (og_wolf@moz-vdk621.adsl.tpnet.pl)
[06:43:08] *** Quits: eerie (eerie@moz-njefna.red.bezeqint.net) (Ping timeout: 121 seconds)
[06:43:35] *** Joins: Tobba|Laptop (Tobba@moz-1hh.7ki.21.217.IP)
[06:47:35] *** Joins: eerie (eerie@moz-njefna.red.bezeqint.net)
[06:48:51] *** Quits: quantheory (quantheory@moz-dsb104.crel.jtvf.0001.2601.IP) (Quit: Leaving)
[06:50:50] *** Joins: squiddy (squiddy@moz-md4.pm3.19.178.IP)
[06:53:50] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[06:59:08] *** Quits: og_wolf (og_wolf@moz-vdk621.adsl.tpnet.pl) (Connection closed)
[07:00:24] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[07:04:32] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[07:09:00] *** Joins: eerie_ (eerie@moz-njefna.red.bezeqint.net)
[07:09:51] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[07:12:13] *** Quits: eerie (eerie@moz-njefna.red.bezeqint.net) (Ping timeout: 121 seconds)
[07:15:13] *** Quits: doener (bs@moz-c061a3.saltation.de) (Quit: leaving)
[07:22:34] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[07:28:51] *** Joins: pczarn (piotr@moz-9un7t9.izacom.pl)
[07:30:46] *** Joins: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net)
[07:30:46] *** ChanServ sets mode: +o pnkfelix
[07:31:21] <pnkfelix> quick bikeshed: we recently changed the build so the configure would turn on optimizations by default
[07:31:31] <pnkfelix> but passing `--enable-debug` would turn optimizations back off
[07:31:59] <pnkfelix> But, the way it was implemented was buggy (IMO): gh24405
[07:31:59] <[o__o]> `configure --enable-debug --enable-optimize` is not enabling optimizations: https://github.com/rust-lang/rust/issues/24405
[07:32:16] <pnkfelix> the question/bikeshed is:
[07:32:50] <pnkfelix> Should `--enable-debug` not touch the optimization flags at all (i.e. you have to explicit turn it off)
[07:33:27] <pnkfelix> or should `--enable-debug` continue to turn off optimization flags by default, and you only get them turned back on by explicitly passing `--enable-debug --enable-optimize`, as outlined in the ticket?
[07:33:49] <pnkfelix> (This is essentially my attempt to crowd source an answer to discussion on gh24408 )
[07:33:50] <[o__o]> configure: Don't disable optimizations when enabling debug: https://github.com/rust-lang/rust/pull/24408
[07:35:06] <richo> so my issue started the discussion. My theory was basically that if I run into a bug and rebuild with --enable-debug, I'm assuming that I'll get an otherwise-identical rustc
[07:35:27] <richo> but I don't feel super strongly, apart from that fact that it's seemingly not easy to work out if the default got used in our configure
[07:36:02] <pnkfelix> richo: yeah, I am realizing there are some real warts in our configure scripts impl strategy on this point
[07:36:26] *** Quits: unwound (bkoropoff@moz-kthi5c.wa.comcast.net) (Ping timeout: 121 seconds)
[07:36:27] <pnkfelix> richo: e.g. i bet passing `--disable-optimize --enable-optimize` could really confuse things in the script.
[07:36:36] <pnkfelix> richo: (and likewise for other flags)
[07:37:00] <richo> yeah, definitely
[07:37:10] <pnkfelix> richo: anyway my strategy was going to be
[07:37:12] <richo> So we probably want a shell backend for ragel
[07:37:39] <pnkfelix> richo: pass in '$((! ${CFG_DEBUG}))' as the default for opt_nosave optimize
[07:37:42] *** Joins: blaenk (blaenkdenum@moz-0sq35h.n2pv.fsko.e000.2605.IP)
[07:38:27] <richo> I was toying with something like that. It seeeems peaceful, although considering that it's used for the help text, I have this uncomfortable feeling like the help becomes inconsistent
[07:38:30] <richo> but I don't think that's actually the case
[07:38:39] <pnkfelix> richo: it might, I'll review that
[07:38:58] <richo> the other option is to set OPT_FOO_PROVIDED
[07:39:02] *** Joins: eerie (eerie@moz-njefna.red.bezeqint.net)
[07:39:32] *** Joins: imperio (Mibbit@moz-aibeqg.fbx.proxad.net)
[07:39:41] <richo> in {val,}opt_core
[07:39:49] <richo> which I suspect is less magical and maybe more correct
[07:40:43] <pnkfelix> richo: that might be a good way to go
[07:40:59] <richo> doing it now, will report back if it still seems reasonable in a bit
[07:41:44] <pnkfelix> richo: okay.  I'm working independently on a sanity check (e.g. ensure that at most one of CFG_ENABLE_FOO / CFG_DISABLE_FOO are set before calling the putvars at the end)
[07:42:05] <richo> sg
[07:42:09] <richo> thanks for your help
[07:42:12] *** Quits: eerie_ (eerie@moz-njefna.red.bezeqint.net) (Ping timeout: 121 seconds)
[07:42:13] <pnkfelix> likewie
[07:42:15] *** Joins: bjz (bjz@moz-4l6.mjm.52.113.IP)
[07:42:18] <pnkfelix> *likewise
[07:48:47] *** Quits: Tobba|Laptop (Tobba@moz-1hh.7ki.21.217.IP) (Ping timeout: 121 seconds)
[07:53:40] <richo> gah, ok. The way opt_core works right now, it explicitly can't even detect the case where you specify an option that is already on by default
[07:54:11] <richo> I suspect unless you feel like reviewing a fairly thorough gutting of configure, the pro move is going to be making it default to !debug like you said
[07:54:14] *** Joins: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se)
[07:54:24] <pnkfelix> heh
[07:54:40] <pnkfelix> richo: you said you were about to crash, so I suspect a thorough gutting of configure is not the right call right now. :)
[07:54:52] <richo> yeah, I wasn't suggesting I'd do that tongiht
[07:55:01] *** Quits: bjz (bjz@moz-4l6.mjm.52.113.IP) (Ping timeout: 121 seconds)
[07:55:04] <richo> I have a really silly patch I can push that lets you tell if the default was specified
[07:55:20] <richo> but I don't think it's a very good idea unless we just want a stopgap
[07:55:44] <pnkfelix> richo: well, you might as well push it to your repo and show me the commit
[07:55:49] <richo> sure, one sec
[07:55:57] <pnkfelix> richo: so that I can see if I want to throw it into my changes that I'm doing now
[07:56:06] <pnkfelix> richo: (its morning for me here, I got the whole day to waste on this. ;) )
[07:56:12] <richo> \o/
[07:59:23] <richo> ok, pushed it to the branch in the PR
[08:00:23] <richo> this does work. I'm not crazy excited about the principle, but if you choose to ignore the body of the *_core methods, then everything is fine in the world
[08:02:17] *** Quits: hugod (user@moz-885.jmo.24.70.IP) (Connection closed)
[08:02:30] <richo> lmk what you reckon, I'm winding things up here, can clean this up a bit if you have feels on the approach, pnkfelix ^
[08:08:55] *** Quits: eerie (eerie@moz-njefna.red.bezeqint.net) (Connection closed)
[08:09:04] *** Joins: eerie (eerie@moz-njefna.red.bezeqint.net)
[08:15:38] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[08:16:03] *** Joins: og_wolf (og_wolf@moz-obu4ds.devs.futuro.pl)
[08:19:43] *** Joins: Tobba|Laptop (Tobba@moz-1hh.7ki.21.217.IP)
[08:27:58] *** Quits: blaenk (blaenkdenum@moz-0sq35h.n2pv.fsko.e000.2605.IP) (Ping timeout: 121 seconds)
[08:29:54] *** Joins: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP)
[08:31:42] *** Joins: ineol (ineol@moz-pdkvmd.fbx.proxad.net)
[08:33:46] *** Joins: bjz (bjz@moz-pl4g2k.tpgi.com.au)
[08:36:32] <nrc> pnkfelix: my opinion is that it is correct as it stands
[08:36:52] <pnkfelix> nrc: you claim that what it does today is correct?
[08:36:53] <nrc> there are two modes, the optimal one for building other programs, and the optimal one for hacking on rustc
[08:37:04] <pnkfelix> nrc: have you done a bootstrap lately?
[08:37:25] <richo> --enable-debug --enable-optimize not actually turning on optimization cannot possibly be correct
[08:37:26] <nrc> it might be that we want a third mode - most optimal for hacking on rust libs which is optimised but debug etc
[08:37:35] <nrc> pnkfelix: slow?
[08:37:37] <richo> (Worst case that hsould be an error)
[08:37:42] <pnkfelix> nrc: yes, due to gh24405
[08:37:43] <[o__o]> `configure --enable-debug --enable-optimize` is not enabling optimizations: https://github.com/rust-lang/rust/issues/24405
[08:37:52] <nrc> oh, so that is not correct
[08:38:09] <nrc>  --enable-debug --enable-optimize should work, I expect
[08:38:26] <nrc> how can I see output from unit tests?
[08:38:34] <nrc> println! disappears into nothing
[08:38:37] <pnkfelix> nrc: --nocapture ?
[08:38:55] <nrc> as an argument to make check-.... ?
[08:38:56] <pnkfelix> nrc: (i think there's an env var too)
[08:39:15] <pnkfelix> nrc: well, I usually run the test itself directly after a `make check-` fails
[08:39:31] <pnkfelix> nrc: and *then* pass --nocapture to that. but I do think there's an env var; just canot remember what it is
[08:39:55] *** Quits: bjz (bjz@moz-pl4g2k.tpgi.com.au) (Quit: My Mac has gone to sleep. ZZZzzz…)
[08:41:34] <nrc> that seems to give me stderr, but not stdout
[08:41:38] <nrc> still, good enough
[08:42:16] <nrc> tyoh wait, no stdout is in there too
[08:42:21] <nrc> thanks pnkfelix!
[08:49:08] *** Joins: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com)
[08:53:04] *** Quits: eerie (eerie@moz-njefna.red.bezeqint.net) (Connection closed)
[08:53:14] *** Quits: og_wolf (og_wolf@moz-obu4ds.devs.futuro.pl) (Connection closed)
[08:53:25] *** Joins: eerie (eerie@moz-njefna.red.bezeqint.net)
[08:53:53] *** Joins: og_wolf (og_wolf@moz-obu4ds.devs.futuro.pl)
[08:57:27] *** Quits: eerie (eerie@moz-njefna.red.bezeqint.net) (Ping timeout: 121 seconds)
[09:00:05] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[09:02:41] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Client exited)
[09:05:05] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[09:15:26] *** Quits: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com) (Ping timeout: 121 seconds)
[09:16:30] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Quit: Leaving.)
[09:17:31] *** Quits: Nosprawls (Mibbit@moz-74t0cs.virginmediabusiness.co.uk) (Quit: http://www.mibbit.com ajax IRC Client)
[09:17:51] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[09:24:29] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Ping timeout: 121 seconds)
[09:24:35] *** Quits: blank_name (blank_name@moz-sct.ivp.36.50.IP) (Ping timeout: 121 seconds)
[09:25:36] *** Joins: blank_name (blank_name@moz-sct.ivp.36.50.IP)
[09:31:46] *** Quits: dcb (textual@moz-j72nfe.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[09:32:10] *** Joins: larhat (Adium@moz-8v4.af0.232.213.IP)
[09:39:22] *** Joins: eerie (eerie@moz-njefna.red.bezeqint.net)
[09:43:36] *** Quits: eerie (eerie@moz-njefna.red.bezeqint.net) (Ping timeout: 121 seconds)
[09:44:44] *** Quits: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net) (Ping timeout: 121 seconds)
[09:48:20] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[09:48:22] *** Joins: eerie (eerie@moz-njefna.red.bezeqint.net)
[09:51:21] *** Quits: og_wolf (og_wolf@moz-obu4ds.devs.futuro.pl) (Connection closed)
[09:51:36] *** Joins: og_wolf_ (og_wolf@moz-obu4ds.devs.futuro.pl)
[09:52:28] *** Joins: bjz (bjz@moz-pl4g2k.tpgi.com.au)
[09:53:14] *** Quits: og_wolf_ (og_wolf@moz-obu4ds.devs.futuro.pl) (Connection closed)
[09:53:14] *** Joins: og_wolf (og_wolf@moz-obu4ds.devs.futuro.pl)
[09:53:28] *** Joins: aepsil0n (eduard@moz-6491ha.mv2h.pepi.8071.2a02.IP)
[09:55:03] *** Joins: summerlight_ (summerlight@moz-99k.2mj.130.121.IP)
[09:57:47] *** Quits: og_wolf (og_wolf@moz-obu4ds.devs.futuro.pl) (Connection closed)
[09:57:53] *** Quits: summerlight (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[09:57:58] *** Joins: og_wolf (og_wolf@moz-obu4ds.devs.futuro.pl)
[10:05:29] *** Quits: Kingsquee (kingsley@moz-qq7ns6.bchsia.telus.net) (Quit: Konversation terminated!)
[10:14:14] *** Joins: pnkfelix (pnkfelix@moz-6v5.3nd.202.89.IP)
[10:14:14] *** ChanServ sets mode: +o pnkfelix
[10:14:48] <pnkfelix> hmm, do any of the buildbots actually *use* `--enable-debug` ?  Maybe this explains why we didn't see a huge regression in bors build turnaround time
[10:15:24] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[10:15:46] <pnkfelix> (it may well have artificially sped up the buildbot turnaround time; it is not yet clear to me whether the "nopt" systems actually *pass* --disable-optimize in their configure invocation...)
[10:16:21] <pnkfelix> (oh I see, the "nopt" clients may solely pass --disable-optimize-tests ...)
[10:16:24] *** Joins: tcurdt (tcurdt@moz-bvuuhd.dip0.t-ipconnect.de)
[10:16:48] <pnkfelix> (so maybe testing `--enable-debug` simply is not something that we do in the buildbots ...)
[10:28:14] *** Quits: dprien (dprien@moz-15s7c4.udtd.gaqb.04f8.2a01.IP) (Quit: ZNC - http://znc.in)
[10:30:07] *** Quits: jmesmon (ydoc@moz-naocu2.einic.org) (Ping timeout: 121 seconds)
[10:30:22] *** Joins: jmesmon (ydoc@moz-naocu2.einic.org)
[10:31:50] *** Joins: marsel (user@moz-nu7.71o.180.94.IP)
[10:33:13] *** Joins: dprien (dprien@moz-15s7c4.udtd.gaqb.04f8.2a01.IP)
[10:41:40] *** Joins: annodomini (lambda@moz-qgii5v.ma.comcast.net)
[10:42:06] *** Joins: Diggsey (diggsey@moz-ilnbp4.dsl.pipex.com)
[10:44:18] *** Joins: filsmick (filsmick@moz-s1ht48.abo.wanadoo.fr)
[10:46:50] *** Quits: pczarn (piotr@moz-9un7t9.izacom.pl) (Ping timeout: 121 seconds)
[10:51:22] *** Quits: dinfuehr (dinfuehr@moz-c25.u8s.112.91.IP) (Connection closed)
[10:51:43] *** Joins: dinfuehr (dinfuehr@moz-c25.u8s.112.91.IP)
[10:55:45] *** Quits: dinfuehr (dinfuehr@moz-c25.u8s.112.91.IP) (Ping timeout: 121 seconds)
[10:58:45] *** Quits: tcurdt (tcurdt@moz-bvuuhd.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[10:59:20] *** Joins: tcurdt (tcurdt@moz-ubt.ek0.162.178.IP)
[11:01:14] *** Quits: annodomini (lambda@moz-qgii5v.ma.comcast.net) (Client exited)
[11:01:40] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[11:07:31] *** Joins: hugod (user@moz-885.jmo.24.70.IP)
[11:07:37] *** Quits: untitaker (untitaker@moz-4642s4.highway.telekom.at) (Ping timeout: 121 seconds)
[11:08:38] *** Joins: mjboa (mike@moz-gfdglf.hsi06.unitymediagroup.de)
[11:10:10] *** Joins: dinfuehr (dinfuehr@moz-105mks.highway.telekom.at)
[11:10:58] *** Quits: dinfuehr (dinfuehr@moz-105mks.highway.telekom.at) (Connection closed)
[11:12:00] *** Quits: og_wolf (og_wolf@moz-obu4ds.devs.futuro.pl) (Ping timeout: 121 seconds)
[11:13:41] *** Joins: untitaker (untitaker@moz-1ofpk1.highway.telekom.at)
[11:15:28] *** Quits: tcurdt (tcurdt@moz-ubt.ek0.162.178.IP) (Ping timeout: 121 seconds)
[11:18:54] *** Joins: tcurdt (tcurdt@moz-bvuuhd.dip0.t-ipconnect.de)
[11:20:57] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[11:21:15] *** Joins: bytewise (bytewise@moz-eh3idl.adsl.alicedsl.de)
[11:23:01] *** Joins: annodomini (lambda@moz-qgii5v.ma.comcast.net)
[11:23:15] *** Quits: filsmick (filsmick@moz-s1ht48.abo.wanadoo.fr) (Quit: )
[11:27:06] *** Joins: filsmick (filsmick@moz-s1ht48.abo.wanadoo.fr)
[11:27:19] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[11:27:47] *** Quits: tcurdt (tcurdt@moz-bvuuhd.dip0.t-ipconnect.de) (Quit: Computer has gone to sleep.)
[11:30:45] *** Quits: annodomini (lambda@moz-qgii5v.ma.comcast.net) (Client exited)
[11:30:48] *** Quits: p1start (p1start@moz-nftjhe.org) (Ping timeout: 121 seconds)
[11:36:09] *** Quits: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net) (Ping timeout: 121 seconds)
[11:41:36] *** Quits: filsmick (filsmick@moz-s1ht48.abo.wanadoo.fr) (Quit: )
[11:48:32] *** Quits: Kxepal (Miranda@moz-iahp2t.pppoe.mtu-net.ru) (Ping timeout: 121 seconds)
[11:50:14] *** Joins: Kxepal (Miranda@moz-6rfpaq.pppoe.mtu-net.ru)
[12:01:40] *** Quits: mjboa (mike@moz-gfdglf.hsi06.unitymediagroup.de) (Ping timeout: 121 seconds)
[12:05:28] *** Joins: og_wolf (og_wolf@moz-obu4ds.devs.futuro.pl)
[12:15:39] *** Joins: annodomini (lambda@moz-m8l.7qd.224.107.IP)
[12:15:44] *** Quits: bjz (bjz@moz-pl4g2k.tpgi.com.au) (Quit: My Mac has gone to sleep. ZZZzzz…)
[12:21:22] *** Joins: dinfuehr (dinfuehr@moz-105mks.highway.telekom.at)
[12:24:19] *** Quits: bytewise (bytewise@moz-eh3idl.adsl.alicedsl.de) (Quit: Leaving)
[12:25:29] *** Quits: dinfuehr (dinfuehr@moz-105mks.highway.telekom.at) (Ping timeout: 121 seconds)
[12:26:04] <pnkfelix> are there any examples I could look at of lints that are signalled during macro expansion?
[12:27:28] <pnkfelix> ah I bet the asm macro is a treasure trove here
[12:29:10] *** Joins: mjboa (mike@moz-gfdglf.hsi06.unitymediagroup.de)
[12:33:39] *** Quits: eerie (eerie@moz-njefna.red.bezeqint.net) (Connection closed)
[12:34:00] *** Joins: eerie (eerie@moz-njefna.red.bezeqint.net)
[12:36:33] *** Quits: annodomini (lambda@moz-m8l.7qd.224.107.IP) (Client exited)
[12:38:02] *** Quits: eerie (eerie@moz-njefna.red.bezeqint.net) (Ping timeout: 121 seconds)
[12:41:14] *** Joins: eerie (eerie@moz-njefna.red.bezeqint.net)
[12:48:55] *** Quits: summerlight_ (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[12:51:49] *** Joins: tcurdt (tcurdt@moz-bvuuhd.dip0.t-ipconnect.de)
[12:56:30] *** Joins: bdero (bran@moz-mqs.7dh.189.18.IP)
[12:59:52] *** Quits: Tobba|Laptop (Tobba@moz-1hh.7ki.21.217.IP) (Connection closed)
[12:59:54] *** Joins: Tobba|Craptop (Tobba@moz-1hh.7ki.21.217.IP)
[13:01:14] *** Quits: joneshf-laptop (joneshf@moz-l4h.b5s.208.98.IP) (Ping timeout: 121 seconds)
[13:04:32] *** Joins: jdm (jdm@moz-ilbt2e.cable.teksavvy.com)
[13:13:36] *** Joins: poorman (poorman@moz-ne2.2ic.131.12.IP)
[13:18:15] *** Quits: Tobba|Craptop (Tobba@moz-1hh.7ki.21.217.IP) (Ping timeout: 121 seconds)
[13:20:41] *** Joins: arielb1 (Mibbit@moz-2l2rdl.tau.ac.il)
[13:21:11] *** Joins: summerlight_ (summerlight@moz-99k.2mj.130.121.IP)
[13:24:30] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[13:24:44] *** Joins: mib_yriznv (Mibbit@moz-juv.9o3.252.72.IP)
[13:26:57] *** Quits: mib_yriznv (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[13:27:01] *** Quits: jgallagher (john@moz-6ge.dhn.131.24.IP) (Client exited)
[13:27:51] *** Quits: eerie (eerie@moz-njefna.red.bezeqint.net) (Connection closed)
[13:32:50] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[13:34:43] *** Joins: martin_ (martin@moz-bmp33l.u0v6.gff7.1608.2001.IP)
[13:35:08] *** Joins: mgottschlag (quassel@moz-br3ktr.qiv1.bbcb.1398.2a00.IP)
[13:36:37] *** Joins: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net)
[13:37:36] *** Quits: arielb1 (Mibbit@moz-2l2rdl.tau.ac.il) (Quit: http://www.mibbit.com ajax IRC Client)
[13:41:48] *** Joins: bjz (bjz@moz-puppgq.tpgi.com.au)
[13:46:36] *** Quits: mjboa (mike@moz-gfdglf.hsi06.unitymediagroup.de) (Ping timeout: 121 seconds)
[13:47:48] *** Joins: kushal (kdas@moz-udf.p75.171.66.IP)
[13:48:10] *** Joins: mjboa (mike@moz-gfdglf.hsi06.unitymediagroup.de)
[13:51:46] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[13:52:19] *** Joins: eerie (eerie@moz-njefna.red.bezeqint.net)
[13:55:53] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Quit: leaving)
[14:00:31] *** Quits: nrc (nrc@moz-4bhi2i.xtra.co.nz) (Ping timeout: 121 seconds)
[14:03:54] *** Joins: zucchinissx (Mibbit@moz-juv.9o3.252.72.IP)
[14:07:17] *** Joins: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP)
[14:10:45] *** Quits: zucchinissx (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[14:13:34] *** Quits: [o__o] ([o__o]@moz-4s2t5k.compute-1.amazonaws.com) (Ping timeout: 121 seconds)
[14:15:28] *** Joins: bytewise (bytewise@moz-cdorcp.eduroam.rwth-aachen.de)
[14:17:43] *** Joins: pczarn (piotr@moz-9un7t9.izacom.pl)
[14:19:22] *** Quits: eerie (eerie@moz-njefna.red.bezeqint.net) (Connection closed)
[14:26:26] *** Joins: jgallagher (john@moz-d5e8oc.hfc.comcastbusiness.net)
[14:27:36] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[14:32:59] <SimonSapin> Is a.extend(b.iter().map(|x| *x)) the replacement for push_all?
[14:33:53] <SimonSapin> b being a slice of a Copy type
[14:36:08] <Yurume> SimonSapin: or .iter().cloned()
[14:36:29] <SimonSapin> yeah, only marginally better
[14:37:10] *** Joins: mib_lk9yrs (Mibbit@moz-juv.9o3.252.72.IP)
[14:37:32] *** Quits: mib_lk9yrs (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[14:38:39] *** Quits: mgottschlag (quassel@moz-br3ktr.qiv1.bbcb.1398.2a00.IP) (Ping timeout: 121 seconds)
[14:38:55] *** Joins: scialex (scialex@moz-j5mi8i.cs.brown.edu)
[14:40:35] *** Joins: ytain (ytain@moz-bps1td.dsl.teksavvy.com)
[14:43:15] *** Joins: Rym (y@moz-g4dip9.range86-187.btcentralplus.com)
[14:44:23] *** Quits: ytain (ytain@moz-bps1td.dsl.teksavvy.com) (Quit: Textual IRC Client: www.textualapp.com)
[14:46:44] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[14:48:24] *** Joins: dr_bibble (Mibbit@moz-juv.9o3.252.72.IP)
[14:48:58] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[14:49:03] *** Quits: dr_bibble (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[14:50:04] *** Joins: eerie (eerie@moz-njefna.red.bezeqint.net)
[14:51:13] *** Joins: mkpankov (mkpankov@moz-hej.971.220.91.IP)
[14:53:34] *** Parts: chris-chambers (chris@moz-48q4qf.res.rr.com) ()
[14:56:09] *** Quits: eerie (eerie@moz-njefna.red.bezeqint.net) (Ping timeout: 121 seconds)
[14:59:10] *** Joins: AndChat|17289 (mkpankov@moz-crg.70f.16.195.IP)
[15:02:05] *** Quits: mkpankov (mkpankov@moz-hej.971.220.91.IP) (Ping timeout: 121 seconds)
[15:02:21] *** Quits: imperio (Mibbit@moz-aibeqg.fbx.proxad.net) (Quit: http://www.mibbit.com ajax IRC Client)
[15:02:26] *** Quits: pnkfelix (pnkfelix@moz-6v5.3nd.202.89.IP) (Connection closed)
[15:03:09] *** Quits: AndChat|17289 (mkpankov@moz-crg.70f.16.195.IP) (Quit: Bye)
[15:03:48] <aturon> SimonSapin: https://github.com/rust-lang/rfcs/pull/839
[15:04:26] *** Joins: ytain (ytain@moz-bps1td.dsl.teksavvy.com)
[15:04:31] *** Quits: og_wolf (og_wolf@moz-obu4ds.devs.futuro.pl) (Ping timeout: 121 seconds)
[15:05:21] *** Joins: og_wolf (og_wolf@moz-obu4ds.devs.futuro.pl)
[15:05:48] <SimonSapin> aturon: yes please
[15:06:41] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (A TLS packet with unexpected length was received.)
[15:09:09] <SimonSapin> aturon: Is it useful to comment on RFCs with something like "+1" that adds non new information, or it is just noise?
[15:09:26] <aturon> SimonSapin: it can be helpful -- in this case, the main question is Copy vs Clone
[15:09:35] <SimonSapin> aturon: good talk at Standford, btw
[15:09:47] <aturon> (so if you have thoughts on that, could be helpful)
[15:09:49] <aturon> thanks!
[15:10:46] <SimonSapin> +0 on Clone, but without real arguments
[15:14:08] *** Joins: eibwen (eibwen@moz-ivah5t.dip0.t-ipconnect.de)
[15:15:32] <WindowsBunny> since its from a slice, we can't move
[15:15:47] <WindowsBunny> so our only option is to copy
[15:15:59] <SimonSapin> WindowsBunny: or clone
[15:16:17] <SimonSapin> which the RFC proposes
[15:16:26] <WindowsBunny> and since a bound of Copy is simply more restrictive than Clone
[15:16:50] <WindowsBunny> There's no real advantage to forbidding it from cloning
[15:17:22] <WindowsBunny> therefore I support push_all having a bound of Clone
[15:17:22] <SimonSapin> clone can be costly, and hidden clones might be surprising
[15:18:42] *** Quits: tcurdt (tcurdt@moz-bvuuhd.dip0.t-ipconnect.de) (Quit: Textual IRC Client: www.textualapp.com)
[15:18:44] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[15:18:52] *** Joins: arielb1 (Mibbit@moz-lcu.ri7.19.46.IP)
[15:20:10] *** Quits: bytewise (bytewise@moz-cdorcp.eduroam.rwth-aachen.de) (Ping timeout: 121 seconds)
[15:20:21] *** Quits: squiddy (squiddy@moz-md4.pm3.19.178.IP) (A TLS packet with unexpected length was received.)
[15:22:56] *** Quits: flaper87 (flaper87@moz-fnn.1e9.132.209.IP) (Ping timeout: 121 seconds)
[15:23:28] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[15:23:30] *** Joins: unwound (bkoropoff@moz-kthi5c.wa.comcast.net)
[15:25:45] <steveklabnik> acrichto: ping
[15:26:15] *** Joins: bkearns (Adium@moz-rudtng.static.wiline.com)
[15:26:37] *** Joins: flaper87 (flaper87@moz-fnn.1e9.132.209.IP)
[15:26:50] *** Quits: arielb1 (Mibbit@moz-lcu.ri7.19.46.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[15:30:04] *** Quits: og_wolf (og_wolf@moz-obu4ds.devs.futuro.pl) (Quit: )
[15:31:11] *** Joins: mgottschlag (quassel@moz-hffq8i.h71g.nb65.1398.2a00.IP)
[15:33:44] *** Joins: bytewise (bytewise@moz-cdorcp.eduroam.rwth-aachen.de)
[15:33:50] <larsberg> In general, as SimonSapin indicated, implicit anything-that-allocates that we can't disable is worrying in the context of Servo. Many of the "best practices" in large-scale C++ systems software involves chicanery like private (copy) constructors to statically prevent such implicit operations, which most of my C++ standards & library committee friends
[15:33:50] <larsberg> consider a big mistake to have added in the first place.
[15:36:53] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[15:37:09] *** Joins: flabbergaster (Mibbit@moz-juv.9o3.252.72.IP)
[15:37:20] *** Quits: flabbergaster (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[15:41:28] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[15:43:02] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Ping timeout: 121 seconds)
[15:45:16] *** Quits: bytewise (bytewise@moz-cdorcp.eduroam.rwth-aachen.de) (Quit: Quit)
[15:51:20] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[15:52:08] *** Joins: annodomini (lambda@moz-hceqmj.hfc.comcastbusiness.net)
[15:52:23] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[15:52:58] *** Quits: unwound (bkoropoff@moz-kthi5c.wa.comcast.net) (Quit: Ex-Chat)
[15:58:17] *** Joins: O01eg (o01eg@moz-ataqn9.ma9r.4n8f.2698.2a02.IP)
[16:03:18] *** Quits: Rym (y@moz-g4dip9.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[16:07:06] *** Joins: Rym (y@moz-g4dip9.range86-187.btcentralplus.com)
[16:08:44] *** Joins: hirschen (hirschen@moz-9j0dnu.h7ls.rebm.810b.2a02.IP)
[16:09:17] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[16:10:06] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[16:11:19] *** Joins: bombless (_@moz-sjpreg.0v2u.0v40.0da8.2001.IP)
[16:16:58] <acrichto> steveklabnik: pong
[16:17:34] *** Quits: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net) (Ping timeout: 121 seconds)
[16:18:37] *** Joins: pnkfelix (pnkfelix@moz-6v5.3nd.202.89.IP)
[16:18:37] *** ChanServ sets mode: +o pnkfelix
[16:25:41] *** Quits: scialex (scialex@moz-j5mi8i.cs.brown.edu) (Quit: Leaving)
[16:27:44] *** Joins: srh (User@moz-e9a.r76.247.50.IP)
[16:32:56] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Quit: It's a joke, it's all a joke.)
[16:32:59] *** Joins: rkruppe_ (chatzilla@moz-3nj.rnu.131.95.IP)
[16:33:05] *** Joins: arielb1 (Ariel@moz-9minqr.red.bezeqint.net)
[16:34:54] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Ping timeout: 121 seconds)
[16:35:08] *** rkruppe_ is now known as rkruppe
[16:37:37] *** Joins: dcb (textual@moz-j72nfe.ca.comcast.net)
[16:39:03] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[16:42:40] *** Joins: pcwalton (pcwalton@moz-nh2.o1i.216.216.IP)
[16:42:40] *** ChanServ sets mode: +o pcwalton
[16:45:03] *** Quits: Rym (y@moz-g4dip9.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[16:45:03] *** Quits: pcwalton (pcwalton@moz-nh2.o1i.216.216.IP) (Client exited)
[16:45:22] *** Joins: pcwalton (pcwalton@moz-nh2.o1i.216.216.IP)
[16:45:22] *** ChanServ sets mode: +o pcwalton
[16:50:35] *** Joins: [o__o] ([o__o]@moz-4s2t5k.compute-1.amazonaws.com)
[16:53:05] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[16:56:47] *** Joins: imperio (Mibbit@moz-8otf3a.fbx.proxad.net)
[17:00:44] *** Joins: eerie (eerie@moz-njefna.red.bezeqint.net)
[17:02:37] *** Quits: pnkfelix (pnkfelix@moz-6v5.3nd.202.89.IP) (Ping timeout: 121 seconds)
[17:02:42] <steveklabnik> acrichto: so, re https://github.com/rust-lang/rust/pull/24273
[17:02:47] <steveklabnik> i'm also torn about the mutability thing
[17:02:54] <steveklabnik> but, i think other than that, it's fine to ship
[17:03:35] <acrichto> steveklabnik: ok cool, will take a look again soon
[17:03:49] <steveklabnik> :+1:
[17:03:56] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[17:04:05] <steveklabnik> it's hard to not just always go * - but not inherited mutability
[17:04:13] <steveklabnik> in general, i don't think we have a good way of making this distinction
[17:07:08] *** Quits: kushal (kdas@moz-udf.p75.171.66.IP) (Ping timeout: 121 seconds)
[17:09:31] <arielb1> anyone r? 24415
[17:10:39] *** Joins: ctennis (ctennis@moz-f8q.e72.137.99.IP)
[17:12:10] *** Joins: Rym (y@moz-g4dip9.range86-187.btcentralplus.com)
[17:13:08] <WindowsBunny> gh24415
[17:13:13] <WindowsBunny> [o__o]: ping
[17:13:35] <WindowsBunny> inb4 [o__o] dies
[17:13:56] <[o__o]> Fix #24363: https://github.com/rust-lang/rust/pull/24415
[17:13:57] <[o__o]> Are you in need of my services, WindowsBunny?
[17:14:10] <WindowsBunny> Oh there it goes
[17:14:18] <steveklabnik> arielb1: needs rebased
[17:16:34] <arielb1> steveklabnik: done
[17:16:40] *** Quits: Rym (y@moz-g4dip9.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[17:17:25] *** Quits: pcwalton (pcwalton@moz-nh2.o1i.216.216.IP) (Ping timeout: 121 seconds)
[17:17:33] *** Quits: bombless (_@moz-sjpreg.0v2u.0v40.0da8.2001.IP) (Quit: Leaving)
[17:19:11] *** Joins: vire (vire@moz-f5qook.net.upcbroadband.cz)
[17:19:45] *** Joins: pcwalton (pcwalton@moz-nh2.o1i.216.216.IP)
[17:19:45] *** ChanServ sets mode: +o pcwalton
[17:19:46] *** Quits: eerie (eerie@moz-njefna.red.bezeqint.net) (Connection closed)
[17:20:19] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[17:21:55] <arielb1> whoops I accidentally destroyed my commit with push -f
[17:21:58] <arielb1> I still have the hash
[17:22:00] <arielb1> https://github.com/arielb1/rust/commit/ee6666d
[17:22:25] <arielb1> how can I reset my branch to it?
[17:23:34] <Eridius> just the remote branch, or the local too?
[17:23:40] *** Quits: summerlight_ (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[17:24:04] <huseby> can I get some help tracking down a test failure?
[17:24:04] <Eridius> you can `git push origin -f ee6666d:branchname` to just reset the remote branch
[17:24:07] <Eridius> arielb1: ^
[17:24:08] <huseby> here's the failur output: http://pastebin.com/tSE0K4LJ
[17:24:11] *** Joins: eerie (eerie@moz-njefna.red.bezeqint.net)
[17:24:15] <Eridius> or you can `git reset ee6666d` to reset the local branch and then re-push
[17:24:16] <huseby> and it doesn't point directly to a specific test
[17:24:18] <arielb1> Eridius: I don't have the commit locally
[17:24:26] <Eridius> arielb1: oh :/
[17:24:37] <arielb1> I can just manually-merge
[17:24:45] <arielb1> but I prefer not to
[17:24:48] <huseby> does anybody know where that test is so I can debug/fix the code so that the test passes?
[17:25:35] <Eridius> arielb1: unfortunately I'm not aware of any way to fetch commits from a repo that don't have a ref that contains them
[17:26:11] <arielb1> I guess I could create a commit with it as a parent
[17:27:01] *** Joins: brson (brson@moz-cfhap5.mtv2.mozilla.com)
[17:27:01] *** ChanServ sets mode: +o brson
[17:27:08] <eibwen> acrichto: I think the issue shouldn't have been closed so fast. it describes a current issue (silenced errors) of rust that shouldn't get to 1.0, and the relevant RFC you posted does backwards-incompatible changes (namely, not flushing buffers in the destructor)
[17:27:15] <eibwen> thanks for reading my issue though
[17:27:20] <eibwen> https://github.com/rust-lang/rust/issues/24413
[17:28:15] <acrichto> eibwen: yeah the RFC is a bit old at this point but it's also the clear next step forward, e.g. the issue likely belongs in the RFC repo first where it would evolve into an RFC (which exists now)
[17:28:33] <acrichto> eibwen: aturon and I were discussing that RFC recently and we're likely to accept it pending a few small updates soon
[17:28:47] <eibwen> that's good to hear
[17:29:03] <eibwen> (I just thought that the issue itself isn't a feature request, but rather a bug report)
[17:29:32] <eibwen> but I'm glad to hear that you're discussing it
[17:29:47] <acrichto> yeah it's kinda both ways, we're highly unlikely to change the current behavior of ignore-in-Drop
[17:29:56] *** Joins: gsingh93 (gulshan@moz-3fu4am.mi.comcast.net)
[17:29:57] *** Joins: zenonxczd (Mibbit@moz-juv.9o3.252.72.IP)
[17:29:58] <acrichto> but we're pretty likely to add a method to opting in to receiving the error
[17:30:06] <acrichto> in which case it's adding new apis to the types
[17:31:06] <acrichto> steveklabnik: hm ok, so I guess it depends what definition of 'immutable' is in use
[17:31:08] <Eridius> oh god. Don't run `git ls-remote` on rust-lang/rust. it actually lists the pull/$ID/head and pull/$ID/merge refs for every single PR.
[17:31:24] <Eridius> I'm actually surprised at how fast it pulls down 20137 refs
[17:31:39] <geofft> if you really want to, you can map those in your ~/.git/config :) 
[17:31:57] <acrichto> steveklabnik: in general though we've been trying to move away from "immutable" as a term as it generally doesn't mean what you think it means: "this value will never ever change"
[17:32:34] *** Joins: James (quassel@moz-olnmts.range86-163.btcentralplus.com)
[17:32:48] *** Quits: pcwalton (pcwalton@moz-nh2.o1i.216.216.IP) (Client exited)
[17:34:05] <steveklabnik> acrichto: yeah
[17:34:17] <steveklabnik> oh the mutapocalypse :(
[17:34:52] <steveklabnik> i'm totally open to other ways of talking about this, i agree it's not ideal
[17:35:13] <acrichto> steveklabnik: I'd be fine just rewording a bit to avoid the term for now
[17:35:20] <acrichto> it'll still come up, but we can at least say we didn't coin it!
[17:36:13] *** Quits: larhat (Adium@moz-8v4.af0.232.213.IP) (Quit: Leaving.)
[17:38:07] <steveklabnik> hehe well it's going to come up later in the book
[17:38:12] <steveklabnik> regardless of this patch
[17:38:21] <steveklabnik> but yeah, i can do that
[17:39:14] <huseby> does anybody know where the code for test doc-trpl-no-stdlib is?
[17:40:18] <steveklabnik> generally speaking, mk/docs.mk is where the doc build stuff is
[17:41:35] <steveklabnik> acrichto: pushed up another commit, lmk what you think
[17:46:36] *** Quits: bkearns (Adium@moz-rudtng.static.wiline.com) (Connection closed)
[17:48:53] <acrichto> huseby: it's testing this file: https://github.com/rust-lang/rust/blob/master/src/doc/trpl/no-stdlib.md
[17:49:29] <WindowsBunny> acrichto: Regarding your commit about CLOEXEC
[17:49:34] <WindowsBunny> >If this parameter is NULL, the handle returned by         CreateFile cannot be inherited by any child processes the         application may create and the file or device associated with the returned handle gets a default security         descriptor.
[17:50:06] <acrichto> WindowsBunny: that seems... good?
[17:50:23] <WindowsBunny> It means you don't have to change anything on Windows
[17:50:37] <acrichto> did I?
[17:50:43] *** Joins: kushal (kdas@moz-udf.p75.171.66.IP)
[17:50:49] <acrichto> (I thought windows was basically no-inherit by default)
[17:50:59] <acrichto> turns out some stuff had to be changed with sockets, but I thought we were good with files
[17:51:17] <WindowsBunny> Well I'm just auditing right now
[17:51:22] <WindowsBunny> to make sure it really is that way
[17:51:24] <acrichto> oh nice, thanks!
[17:51:44] <acrichto> WindowsBunny: https://github.com/rust-lang/rust/pull/24211 adds the noinherit flag to sockets
[17:52:08] *** Quits: eerie (eerie@moz-njefna.red.bezeqint.net) (Connection closed)
[17:53:31] <semarie> huseby: you have a _Unwind_Resume problem under bitrig ? I have the same under openbsd. see gh24108
[17:53:31] <[o__o]> regression under openbsd: undefined reference to `_Unwind_Resume`: https://github.com/rust-lang/rust/issues/24108
[17:54:07] *** Quits: lahwran (lahwran@lahwran.net) (Quit: ZNC - http://znc.in)
[17:54:25] <WindowsBunny> The one place we pass a security descriptor is for passing an inheritable handle to NUL to processes
[17:56:36] <acrichto> WindowsBunny: that's required, right?
[17:56:47] *** Joins: avikpal (avikpal@moz-45o.mde.194.117.IP)
[17:57:09] <WindowsBunny> If we want it to be inherited by the process we're spawning, yeah
[17:58:00] *** Joins: Rym (y@moz-g4dip9.range86-187.btcentralplus.com)
[17:58:50] <WindowsBunny> >If this flag is specified when calling one of the process creation functions, the handles must be inheritable and the  function's bInheritHandles parameter must be set to TRUE.
[17:59:13] *** Quits: mgottschlag (quassel@moz-hffq8i.h71g.nb65.1398.2a00.IP) (Ping timeout: 121 seconds)
[17:59:33] <WindowsBunny> So yeah, we have to do that
[17:59:39] *** Quits: gsingh93 (gulshan@moz-3fu4am.mi.comcast.net) (Ping timeout: 121 seconds)
[18:01:16] *** Joins: quibbit (Mibbit@moz-nlblue.central.yale.edu)
[18:02:05] *** Quits: quibbit (Mibbit@moz-nlblue.central.yale.edu) (Quit: http://www.mibbit.com ajax IRC Client)
[18:02:32] *** Quits: Rym (y@moz-g4dip9.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[18:03:34] * WindowsBunny audits acrichto's PR
[18:04:04] *** Joins: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net)
[18:04:05] *** ChanServ sets mode: +o pnkfelix
[18:04:45] <WindowsBunny> acrichto: You're a monster, your constants are incorrect
[18:06:03] <acrichto> WindowsBunny: :(
[18:06:14] <WindowsBunny> acrichto: don't worry, I forgive you
[18:06:32] <WindowsBunny> But I'm keeping a closer watch on any windows PRs you do
[18:06:36] <acrichto> lol
[18:06:38] *** Joins: Astrum|Lap (Astrum|Lap@moz-7enfbr.co.comcast.net)
[18:07:08] *** Quits: Astrum|Lap (Astrum|Lap@moz-7enfbr.co.comcast.net) (A TLS packet with unexpected length was received.)
[18:08:06] *** Joins: Astrum|Lap (Astrum|Lap@moz-7enfbr.co.comcast.net)
[18:08:21] <huseby> semarie: yup
[18:11:34] <semarie> huseby: I haven't any clue about why this problem. currently I run test suite with "ignore" on src/doc/trpl/no-stdlib.md#L103
[18:11:47] <huseby> acrichto: sure...thanks.  there's two ways I can fix the test failure: 1) figure out the build code so I can change the compile command line and figure out what needs to change to make it succeed
[18:11:54] <huseby> or 2) disable the test on bitrig for now
[18:13:17] <semarie> the issue describe some elements (commit introducing the regression, the final cause [missing libgcc linkage])
[18:13:20] <acrichto> huseby: I'd just add a hidden `extern crate std` in there
[18:13:26] <acrichto> er no
[18:13:32] *** Quits: zenonxczd (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[18:13:46] <acrichto> yes feel free to just ignore it
[18:14:07] *** Joins: canhtak (canhtak@moz-1a9fh1.luxdsl.pt.lu)
[18:14:13] <semarie> huseby: could you ignore it also for openbsd if you make a PR ?
[18:14:31] <huseby> semarie: so, the inline code block is actually getting run?
[18:15:00] <huseby> semarie: sure
[18:16:05] *** Joins: eerie (eerie@moz-njefna.red.bezeqint.net)
[18:16:15] <semarie> huseby: I am not sure to correctly understand "the inline code block is actually getting run?" (sorry, not my native language)
[18:16:59] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[18:16:59] *** ChanServ sets mode: +o pcwalton
[18:17:33] <huseby> semarie: so //ignore-bitrig and //ignore-openbsd at the top?
[18:18:20] <WindowsBunny> acrichto: Is the policy towards adding WinAPI to sys/windows/c.rs rather than liblibc?
[18:18:41] <semarie> huseby: I don't known the syntax for ignore specific target :). acrichto what is the correct syntax ?
[18:18:59] <acrichto> WindowsBunny: for std::sys stuff that's what I've been doing yeah
[18:19:01] <huseby> semarie: like this? http://bit.ly/1FMxFUT
[18:19:16] <huseby> acrichto: like this? http://bit.ly/1FMxFUT
[18:19:20] <acrichto> semarie: huseby: rustdoc doesn't support that kind of ignore syntax, feel free to just say ```ignore
[18:19:25] <acrichto> e.g. ignore everywhere
[18:19:43] <huseby> acrichto: hrm...so what do I add?
[18:19:53] <huseby> I don't know the rustdoc syntax
[18:19:57] <acrichto> huseby: right after the three ticks (```) just write 'ignore'
[18:20:00] <acrichto> so it starts with:
[18:20:01] <acrichto> ```ignore
[18:20:03] <huseby> ah
[18:20:04] <acrichto> ```
[18:20:04] <huseby> k
[18:20:21] <semarie> huseby: no. you could check others blocks in src/doc/trpl/no-stdlib.md
[18:21:24] *** Joins: lahwran (lahwran@lahwran.net)
[18:22:15] <huseby> so like this? http://bit.ly/1aPBwTx
[18:22:25] *** Joins: avikpal_ (avikpal@moz-4e2.dga.79.112.IP)
[18:22:44] <semarie> huseby: yes !
[18:22:52] *** Joins: bytewise (bytewise@moz-sk6v2k.eduroam.rwth-aachen.de)
[18:23:05] <acrichto> brson: ping
[18:23:41] *** Joins: avikpal__ (avikpal@moz-45o.mde.194.117.IP)
[18:24:02] *** Quits: avikpal (avikpal@moz-45o.mde.194.117.IP) (Connection closed)
[18:25:19] *** Joins: avikpal (avikpal@moz-b4l.os6.226.117.IP)
[18:26:44] *** Quits: avikpal_ (avikpal@moz-4e2.dga.79.112.IP) (Ping timeout: 121 seconds)
[18:28:38] *** Quits: avikpal__ (avikpal@moz-45o.mde.194.117.IP) (Ping timeout: 121 seconds)
[18:29:13] *** Joins: parir (chatzilla@moz-unkn57.dip0.t-ipconnect.de)
[18:34:10] *** Quits: sprang (sprang@moz-d0kmvi.12d9.sm5v.0009.2601.IP) (Ping timeout: 121 seconds)
[18:36:53] *** Joins: nerdopoly (Mibbit@moz-inc16q.range86-146.btcentralplus.com)
[18:37:14] <brson> acrichto: pong
[18:37:29] *** Joins: user7181 (user@moz-hc7vub.mullvad.net)
[18:38:08] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[18:38:57] <acrichto> brson: do you have any thoughts on adding `-l filepath=/path/to/a/lib.a` to the compiler?
[18:39:04] <acrichto> https://github.com/rust-lang/rust/pull/24369 is the PR
[18:41:21] *** Quits: bytewise (bytewise@moz-sk6v2k.eduroam.rwth-aachen.de) (Quit: Quit)
[18:45:22] <WindowsBunny> Man, we need an RFC regarding whether to use 0 as *mut _ or ptr::null_mut() for null pointers
[18:46:35] *** Joins: eerie_ (eerie@moz-njefna.red.bezeqint.net)
[18:47:27] <brson> acrichto: https://github.com/rust-lang/rust/pull/24369#issuecomment-93016637
[18:47:39] <brson> acrichto: fearful of making a mess of the linker
[18:48:49] <acrichto> brson: ok thanks
[18:49:11] *** Quits: eerie (eerie@moz-njefna.red.bezeqint.net) (Ping timeout: 121 seconds)
[18:50:35] <WindowsBunny> oh boy, linker fun
[18:51:02] <Gankro> ramping back into working on actually useful things (read: Rust!). I feel like docs is a pretty dire area. acrichto steveklabnik anything you'd like some help with?
[18:52:10] *** Joins: Rym (y@moz-g4dip9.range86-187.btcentralplus.com)
[18:52:10] <acrichto> Gankro: I'd probably start by trawling through A-rustdoc unassigned issue, and feel free to pick of anything you like!
[18:52:18] <acrichto> Gankro: feel free to r? me on anything as well
[18:52:41] <Gankro> WindowsBunny: If we're not supposed to use ptr::null_mut()... why does it exist?
[18:52:58] <WindowsBunny> Gankro: I prefer to use ptr::null() and ptr::null_mut()
[18:53:03] <WindowsBunny> just like I prefer to use nullptr in C++
[18:53:37] *** Quits: James (quassel@moz-olnmts.range86-163.btcentralplus.com) (Ping timeout: 121 seconds)
[18:53:38] *** Joins: avikpal_ (avikpal@moz-45o.mde.194.117.IP)
[18:53:42] <WindowsBunny> Gankro: Is this something worthy of an RFC, or would a PR to just change it all be fine?
[18:53:52] <Gankro> WindowsBunny: PR to what?
[18:54:01] <WindowsBunny> to Rust!
[18:54:10] <Gankro> Oh to update our internal code?
[18:54:13] <WindowsBunny> yeah
[18:54:17] <Gankro> Yeah that'd be fine I think
[18:54:34] <WindowsBunny> we use ptr::null in a lot of places
[18:54:54] *** Quits: avikpal (avikpal@moz-b4l.os6.226.117.IP) (Connection closed)
[18:54:59] <Gankro> Yeah I'm surprised `0 as *const _` is used in many places
[18:55:10] <Gankro> Although it's slightly nicer in that you don't need to `use ptr`
[18:55:12] <WindowsBunny> and we yse 0 as * in a lot of places as well
[18:55:13] <WindowsBunny> :|
[18:55:16] <WindowsBunny> *use
[18:55:29] *** Quits: eerie_ (eerie@moz-njefna.red.bezeqint.net) (Connection closed)
[18:55:30] <WindowsBunny> Gankro: I shall make a PR!
[18:55:43] * Gankro wants ptr in the prelude
[18:56:00] <sfackler> there are some places we have to use 0 as * like statics
[18:56:10] <Gankro> aha
[18:56:26] <acrichto> WindowsBunny: I'd prefer to not decide conventions-via-PR, perhaps this could be a discuss post or something related soon?
[18:56:40] <WindowsBunny> acrichto: I shall create a discuss post!
[18:56:42] *** Quits: Rym (y@moz-g4dip9.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[18:56:44] <acrichto> WindowsBunny:  the clear advantage of 0 as *foo is also that you don't have to import `ptr`, meaning it's much easier to do in some contexts
[18:56:47] <acrichto> (at least in my mind)
[18:58:04] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[18:58:39] * WindowsBunny goes to internals -> bikeshed
[19:03:20] <WindowsBunny> acrichto: http://internals.rust-lang.org/t/null-pointers/1881
[19:03:39] <WindowsBunny> Gankro: ^
[19:04:26] <Gankro> acrichto: Hence put ptr in the prelude :)
[19:04:36] <Gankro> *free unsafe*
[19:05:22] <WindowsBunny> Gankro: It's not even that, since its mostly used in libstd
[19:05:26] *** Joins: dmu (dmu@moz-eam.eti.221.66.IP)
[19:05:44] <Gankro> WindowsBunny: Sorry got people over ttyl
[19:06:40] *** Quits: vire (vire@moz-f5qook.net.upcbroadband.cz) (Ping timeout: 121 seconds)
[19:06:58] <kwantam> acrichto: is it worth pulling the unicode_width crate and renaming it unicode-width for consistency? It's not really eating up useful namespace, since one hopes no one would publish unicode-width given the existence of unicode_width anyway.
[19:11:01] *** Joins: nrc (nrc@moz-4bhi2i.xtra.co.nz)
[19:11:01] *** ChanServ sets mode: +o nrc
[19:11:39] *** Quits: dmu (dmu@moz-eam.eti.221.66.IP) (Connection closed)
[19:12:13] *** Quits: ctennis (ctennis@moz-f8q.e72.137.99.IP) (Quit: Leaving...)
[19:12:54] <acrichto> kwantam: yeah sure, I'll go ahead and delete it
[19:13:29] <acrichto> kwantam: er well unicode-width can't be published right now
[19:13:35] <acrichto> b/c crates.io imposes restrictions on _ vs -
[19:13:55] *** Quits: arielb1 (Ariel@moz-9minqr.red.bezeqint.net) (Quit: Ex-Chat)
[19:14:56] *** Joins: adu (ajr@moz-vd1fau.fios.verizon.net)
[19:15:00] <kwantam> aha, got it. lmk when you delete and I'll re-pub with - instead?
[19:15:32] <acrichto> sure
[19:15:48] <kwantam> Thanks.
[19:17:32] <acrichto> kwantam: ok deleted
[19:18:55] <kwantam> Thanks!
[19:20:57] *** Joins: gsingh93 (gulshan@moz-3fu4am.mi.comcast.net)
[19:21:28] *** Joins: vire (vire@moz-f5qook.net.upcbroadband.cz)
[19:22:38] *** Quits: parir (chatzilla@moz-unkn57.dip0.t-ipconnect.de) (Connection closed)
[19:22:41] *** Joins: mib_qnkfmi (Mibbit@moz-dqmghl.dynamic.mnet-online.de)
[19:23:11] *** Quits: vire (vire@moz-f5qook.net.upcbroadband.cz) (Connection closed)
[19:23:21] *** Joins: parir (chatzilla@moz-unkn57.dip0.t-ipconnect.de)
[19:23:24] *** Joins: vire (vire@moz-f5qook.net.upcbroadband.cz)
[19:24:19] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Connection closed)
[19:24:32] *** Quits: vire (vire@moz-f5qook.net.upcbroadband.cz) (Connection closed)
[19:25:25] *** Joins: vire (vire@moz-f5qook.net.upcbroadband.cz)
[19:25:51] *** Quits: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com) (Connection closed)
[19:26:06] *** Joins: eerie (eerie@moz-njefna.red.bezeqint.net)
[19:26:07] *** Joins: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com)
[19:26:33] *** Quits: srh (User@moz-e9a.r76.247.50.IP) (Quit: Leaving)
[19:27:13] *** Quits: vire (vire@moz-f5qook.net.upcbroadband.cz) (Connection closed)
[19:27:47] *** Joins: proc (proc@moz-p6q301.dip0.t-ipconnect.de)
[19:27:56] *** Joins: vire (vire@moz-f5qook.net.upcbroadband.cz)
[19:29:10] *** Quits: adu (ajr@moz-vd1fau.fios.verizon.net) (Client exited)
[19:30:01] *** Quits: dcb (textual@moz-j72nfe.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[19:30:11] *** Quits: eerie (eerie@moz-njefna.red.bezeqint.net) (Ping timeout: 121 seconds)
[19:30:28] *** Quits: Diggsey (diggsey@moz-ilnbp4.dsl.pipex.com) (Ping timeout: 121 seconds)
[19:31:37] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[19:31:37] *** Quits: vire (vire@moz-f5qook.net.upcbroadband.cz) (Connection closed)
[19:31:59] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[19:32:04] *** Joins: eerie (eerie@moz-njefna.red.bezeqint.net)
[19:32:26] *** Joins: vire (vire@moz-f5qook.net.upcbroadband.cz)
[19:32:33] *** Joins: Aaron (aaron@moz-em79ik.aaronlindsay.com)
[19:32:53] *** Joins: Diggsey (diggsey@moz-u5nc7k.dsl.pipex.com)
[19:35:37] <Aaron> Hey all, so, I'm looking into the feasibility of starting a rust project targeting an arm9 device.
[19:35:53] *** Quits: vire (vire@moz-f5qook.net.upcbroadband.cz) (Connection closed)
[19:36:26] *** Joins: vire (vire@moz-f5qook.net.upcbroadband.cz)
[19:37:10] <Aaron> Was wondering if I could get an opinion on one issue I've noticed with it. Just trying to understand the cause/scope, and whether it's something I could address, because it seems like a rather nasty issue.
[19:37:51] <Aaron> As I'm not familiar with the internals of the compiler... The issue is: https://github.com/rust-lang/rust/issues/23431
[19:39:44] *** Quits: vire (vire@moz-f5qook.net.upcbroadband.cz) (Connection closed)
[19:40:12] *** Joins: vire (vire@moz-f5qook.net.upcbroadband.cz)
[19:40:24] *** Quits: vire (vire@moz-f5qook.net.upcbroadband.cz) (Connection closed)
[19:40:37] *** Quits: parir (chatzilla@moz-unkn57.dip0.t-ipconnect.de) (Quit: ChatZilla 0.9.91.1 [Firefox 37.0.1/20150403141925])
[19:41:07] *** Joins: vire (vire@moz-f5qook.net.upcbroadband.cz)
[19:42:27] <Eridius> Aaron: wacky. I'm guessing that either rust isn't calculating the minimum alignment for the enum properly, or else it just doesn't care. Either way, I'd imagine it's an issue in trans
[19:42:45] *** Quits: vire (vire@moz-f5qook.net.upcbroadband.cz) (Connection closed)
[19:43:00] *** Joins: vire (vire@moz-f5qook.net.upcbroadband.cz)
[19:43:43] *** Quits: canhtak (canhtak@moz-1a9fh1.luxdsl.pt.lu) (Client exited)
[19:45:02] *** Quits: semarie (semarie@moz-h9vqq1.enn.lu) (A TLS packet with unexpected length was received.)
[19:45:02] <Eridius> hrm, minimum alignment is calculated as 2, which seems correct to me.
[19:45:46] *** Quits: vire (vire@moz-f5qook.net.upcbroadband.cz) (Connection closed)
[19:45:59] *** Joins: vire (vire@moz-f5qook.net.upcbroadband.cz)
[19:46:14] *** Quits: brson (brson@moz-cfhap5.mtv2.mozilla.com) (Quit: leaving)
[19:46:18] *** Joins: Rym (y@moz-g4dip9.range86-187.btcentralplus.com)
[19:46:18] *** Quits: vire (vire@moz-f5qook.net.upcbroadband.cz) (Connection closed)
[19:46:23] *** Joins: brson (brson@moz-cfhap5.mtv2.mozilla.com)
[19:46:23] *** ChanServ sets mode: +o brson
[19:46:47] <Eridius> and it is properly padding the val field to 2 bytes. Does ARMv5 not like 2-byte-aligned values for some reason?
[19:47:22] *** Joins: vire (vire@moz-f5qook.net.upcbroadband.cz)
[19:47:30] *** Quits: vire (vire@moz-f5qook.net.upcbroadband.cz) (Connection closed)
[19:48:31] *** Joins: vire (vire@moz-f5qook.net.upcbroadband.cz)
[19:48:43] *** Joins: adu (ajr@moz-vd1fau.fios.verizon.net)
[19:48:44] *** Quits: vire (vire@moz-f5qook.net.upcbroadband.cz) (Connection closed)
[19:49:27] *** Joins: dmu (dmu@moz-eam.eti.221.66.IP)
[19:49:28] *** Joins: vire (vire@moz-f5qook.net.upcbroadband.cz)
[19:50:09] *** Quits: vire (vire@moz-f5qook.net.upcbroadband.cz) (Connection closed)
[19:50:33] *** Quits: bdero (bran@moz-mqs.7dh.189.18.IP) (Ping timeout: 121 seconds)
[19:50:50] *** Quits: Rym (y@moz-g4dip9.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[19:51:11] <doener_> Aaron: doesn that also happen if you remove the "let test = clonetest(...)" line?
[19:51:39] *** Joins: dcb (textual@moz-j72nfe.ca.comcast.net)
[19:51:50] *** Joins: vire (vire@moz-f5qook.net.upcbroadband.cz)
[19:51:50] <Aaron> No, the two clones are required to reproduce the issue.
[19:51:55] *** Quits: aepsil0n (eduard@moz-6491ha.mv2h.pepi.8071.2a02.IP) (Ping timeout: 121 seconds)
[19:52:14] *** Quits: jevin (jevin@moz-sra.ovp.12.72.IP) (Quit: Textual IRC Client: www.textualapp.com)
[19:53:11] *** Quits: nerdopoly (Mibbit@moz-inc16q.range86-146.btcentralplus.com) (Quit: http://www.mibbit.com ajax IRC Client)
[19:53:13] *** Joins: sprang (sprang@moz-khvr0j.static-ip.telepacific.net)
[19:53:55] *** Quits: gsingh93 (gulshan@moz-3fu4am.mi.comcast.net) (Ping timeout: 121 seconds)
[19:56:09] *** Joins: eerie_ (eerie@moz-njefna.red.bezeqint.net)
[19:56:09] *** Quits: vire (vire@moz-f5qook.net.upcbroadband.cz) (Connection closed)
[19:56:36] *** Joins: vire (vire@moz-f5qook.net.upcbroadband.cz)
[19:59:16] <doener_> Aaron: do ARMv5 and ARMv6 differ in endianness?
[19:59:39] *** Quits: eerie (eerie@moz-njefna.red.bezeqint.net) (Ping timeout: 121 seconds)
[20:00:41] <zwarich> doener_: ARM supports both endiannesses
[20:01:01] <Aaron> The two systems I used were both LE.
[20:01:43] <zwarich> IIRC armv6 added dynamic endian switching
[20:01:43] *** Quits: vire (vire@moz-f5qook.net.upcbroadband.cz) (Connection closed)
[20:02:19] *** Quits: madmalik (uid13697@moz-lfin5p.brockwell.irccloud.com) (Quit: Connection closed for inactivity)
[20:02:30] *** Joins: vire (vire@moz-f5qook.net.upcbroadband.cz)
[20:03:24] <zwarich> I think LLVM only honestly supports LE, but maybe someone added BE by now
[20:04:01] <Aaron> Yeah, not very many sane setups really use ARM BE...
[20:04:33] <nrc> Jesus, can you imagine that meeting - "you know what we need to do - dynamically switch endianess", "you're right! Get me 100 hardware engineers, ASAP!"
[20:04:51] <richo> wait are we power8'ing ?
[20:04:55] <Aaron> I've heard it's fun to use for obfuscation purposes ;)
[20:05:04] <richo> (I have a ppc64le branch that I should really land)
[20:05:15] *** Joins: gsingh93 (gulshan@moz-3fu4am.mi.comcast.net)
[20:05:31] *** Joins: aepsil0n (eduard@moz-pfjhmu.mullvad.net)
[20:05:47] *** Quits: vire (vire@moz-f5qook.net.upcbroadband.cz) (Connection closed)
[20:05:55] <zwarich> Aaron: what's the actual alignment of the 16-bit value in the type?
[20:06:30] *** Joins: vire (vire@moz-f5qook.net.upcbroadband.cz)
[20:07:47] *** Joins: p1start (p1start@moz-nftjhe.org)
[20:07:56] *** Joins: laumann (thomas@moz-n9e72h.0.fullrate.dk)
[20:08:35] <doener_> the code generated for derive(Clone) is so bad :-( somebody remind me to try to fix that this weekend
[20:09:08] <Eridius> I wish the deriving machinery could 
[20:09:18] <Eridius> *could understand the type system
[20:09:27] <Eridius> I believe it operates purely syntactically at the moment, right?
[20:09:43] <sfackler> yep
[20:09:57] *** Joins: canhtak (jeremy@moz-1a9fh1.luxdsl.pt.lu)
[20:10:46] <Aaron> zwarich: not sure... I'd need to check?
[20:11:45] <larsberg> brson: I don't have anything new for the meeting today servo-wise. We're blocked very early-on with an ICE in our current rustup, but it's to March 17th-ish, and I'm making a new snapshot from this morning to see if it's still there.
[20:12:02] <doener_> https://gist.github.com/dotdash/3aea03bae79bcd9d653b
[20:12:48] *** Quits: vire (vire@moz-f5qook.net.upcbroadband.cz) (Connection closed)
[20:13:10] <brson> larsberg: ok. is there an issue yet for your ICE?
[20:13:30] *** Joins: blaenk (blaenkdenum@moz-5mm5t7.n2pv.fsko.e000.2605.IP)
[20:13:32] *** Joins: vire (vire@moz-f5qook.net.upcbroadband.cz)
[20:14:13] <zwarich> Aaron: if it's not getting aligned to 16-bits (i.e. if there isn't padding after the i8), then you're gonna have a Bad Time (tm)
[20:14:15] <larsberg> brson: Not yet. Unfortunately we had a huge PR backlog after the last couple of rust upgrades and between that and the huge end-of-quarter work influx, we've been kinda ignoring Rust upgrades for the last few weeks. I will open a bug with the ICE if it's still there.
[20:14:24] <zwarich> Aaron: I can't check because llvm master won't parse that IR
[20:16:10] <Aaron> zwarich: I kind of assume that's what's going on, but yeah... I don't have access to my machine right now to generate fixed IR, can do so when I do.
[20:16:54] *** Joins: Kingsquee (kingsley@moz-qq7ns6.bchsia.telus.net)
[20:16:54] *** Quits: vire (vire@moz-f5qook.net.upcbroadband.cz) (Connection closed)
[20:17:31] *** Joins: vire (vire@moz-f5qook.net.upcbroadband.cz)
[20:17:35] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[20:22:18] *** Quits: vire (vire@moz-f5qook.net.upcbroadband.cz) (Connection closed)
[20:23:33] *** Joins: vire (vire@moz-f5qook.net.upcbroadband.cz)
[20:24:55] *** Joins: sigma (sigma@moz-ohog4c.range86-135.btcentralplus.com)
[20:26:05] *** Quits: canhtak (jeremy@moz-1a9fh1.luxdsl.pt.lu) (Client exited)
[20:26:50] *** Quits: vire (vire@moz-f5qook.net.upcbroadband.cz) (Connection closed)
[20:27:33] *** Joins: vire (vire@moz-f5qook.net.upcbroadband.cz)
[20:34:14] *** Joins: canhtak (canhtak@moz-1a9fh1.luxdsl.pt.lu)
[20:40:22] *** Quits: vire (vire@moz-f5qook.net.upcbroadband.cz) (Ping timeout: 121 seconds)
[20:40:29] *** Joins: Rym (y@moz-g4dip9.range86-187.btcentralplus.com)
[20:42:34] <doener_> Aaron: ah, the load from test.en is indeed qualified with the wrong alignment
[20:43:33] *** Joins: blaenk_ (blaenkdenum@moz-12e081.res.rr.com)
[20:44:11] <doener_> Aaron: the Test struct has an aligment on 8, and the enum has an offset of 2 from that. So it's aligned on 2. The load from the i32* was inferred to load from an address that has an alignment of 4, because rustc doesn't specify an alignment for loads/store at all, llvm used the "natural" alignment for that type
[20:44:32] *** Quits: blaenk (blaenkdenum@moz-5mm5t7.n2pv.fsko.e000.2605.IP) (NickServ (RECOVER command used by blaenk_))
[20:44:32] *** blaenk_ is now known as blaenk
[20:44:47] *** Quits: canhtak (canhtak@moz-1a9fh1.luxdsl.pt.lu) (Ping timeout: 121 seconds)
[20:45:00] *** Quits: Rym (y@moz-g4dip9.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[20:50:02] *** Joins: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com)
[20:51:16] *** Quits: jgallagher (john@moz-d5e8oc.hfc.comcastbusiness.net) (Client exited)
[20:52:08] *** Quits: sprang (sprang@moz-khvr0j.static-ip.telepacific.net) (Ping timeout: 121 seconds)
[20:52:20] *** Quits: eerie_ (eerie@moz-njefna.red.bezeqint.net) (Connection closed)
[20:52:46] <Eridius> doener_: :O why don't we specify alignment?
[20:53:09] *** Quits: sigma (sigma@moz-ohog4c.range86-135.btcentralplus.com) (Ping timeout: 121 seconds)
[20:53:36] *** Quits: hirschen (hirschen@moz-9j0dnu.h7ls.rebm.810b.2a02.IP) (Ping timeout: 121 seconds)
[20:54:48] *** Joins: blaenk_ (blaenkdenum@moz-12e081.res.rr.com)
[20:54:56] *** blaenk is now known as Guest41830
[20:54:56] *** blaenk_ is now known as blaenk
[20:55:12] <mib_qnkfmi> I am running into [E0106] with rustc telling me "missing lifetime specifier". What is a lifetime specifier? And why is it not mentioned in the reference?
[20:55:32] <mib_qnkfmi> sry, wrong channel, forget my message
[20:56:02] *** Joins: Rym (y@moz-g4dip9.range86-187.btcentralplus.com)
[20:56:37] *** Quits: Guest41830 (blaenkdenum@moz-12e081.res.rr.com) (Ping timeout: 121 seconds)
[20:57:41] *** Parts: dmu (dmu@moz-eam.eti.221.66.IP) ()
[20:58:02] <Eridius> mib_qnkfmi: a lifetime specifier is just the name for the 'a token that identifies a lifetime
[20:58:28] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[20:59:24] *** Joins: srh (User@moz-e9a.r76.247.50.IP)
[20:59:42] <WindowsBunny> steveklabnik: I dislike that every time I click on a link in the navbar in the rust book, it resets the scrolling all the way back to the top :(
[20:59:53] *** Quits: p1start (p1start@moz-nftjhe.org) (Ping timeout: 121 seconds)
[20:59:58] <WindowsBunny> steveklabnik: Which makes it hard to quickly jump between pages near the bottom of the navigation
[21:00:19] <Eridius> this is presumably because it's loading a new page
[21:00:23] <Eridius> which just happens to have the same sidebar
[21:00:32] <WindowsBunny> Yeah
[21:00:47] <Eridius> fixing that might require using javascript to push a history item and dynamically replace the main pane instead of actually loading a new page
[21:00:52] <sfackler> iframe time!
[21:01:13] <WindowsBunny> Eridius: Even just making it center the page I'm currently on in the navigation
[21:01:22] <Eridius> I suppose that might work
[21:01:30] *** Parts: mib_qnkfmi (Mibbit@moz-dqmghl.dynamic.mnet-online.de) ()
[21:01:33] <WindowsBunny> Also highlighting which page I'm one
[21:01:35] <WindowsBunny> *I'm on
[21:02:04] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[21:02:04] *** ChanServ sets mode: +o pcwalton
[21:02:04] *** Joins: blaenk_ (blaenkdenum@moz-12e081.res.rr.com)
[21:02:08] *** blaenk_ is now known as 203AAVK7J
[21:02:09] *** blaenk is now known as Guest12092
[21:02:13] *** Quits: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net) (Ping timeout: 121 seconds)
[21:02:22] *** 203AAVK7J is now known as blaenk
[21:03:31] *** Quits: Guest12092 (blaenkdenum@moz-12e081.res.rr.com) (Ping timeout: 121 seconds)
[21:03:35] *** Quits: eibwen (eibwen@moz-ivah5t.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[21:04:24] *** Quits: avikpal_ (avikpal@moz-45o.mde.194.117.IP) (Connection closed)
[21:04:24] <steveklabnik> WindowsBunny: there's a bug open for that
[21:04:25] <steveklabnik> but yeah you'd need javascript stuff
[21:05:54] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Ping timeout: 121 seconds)
[21:06:20] *** Joins: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP)
[21:07:16] *** Quits: srh (User@moz-e9a.r76.247.50.IP) (Quit: Leaving)
[21:14:53] <ebfull> i'd like to just build stage1 and use it to test stuff but i get dynamic linking errors all the time when i run the binaries. can multirust or something else be used to run / maintain a custom rust build?
[21:15:08] <ebfull> or is there some easy env i can remember for invoking it properly
[21:15:19] <ebfull> i tried a few edits to PATH etc.
[21:15:25] <sfackler> ebfull: set LD_LIBRARY_PATH to the lib directory for stage1
[21:15:34] <sfackler> or DYLD_LIBRARY_PATH if you're on osx
[21:15:49] <ebfull> i don't think i've tried that one yet so thank you!
[21:21:58] *** Joins: jevin (jevin@moz-sra.ovp.12.72.IP)
[21:23:46] *** Joins: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net)
[21:24:06] *** Quits: aepsil0n (eduard@moz-pfjhmu.mullvad.net) (Ping timeout: 121 seconds)
[21:30:36] *** Joins: bdero (bran@moz-lbs.91h.47.73.IP)
[21:39:12] <Eridius> dash
[21:39:14] <Eridius> oops
[21:40:54] *** Quits: Rym (y@moz-g4dip9.range86-187.btcentralplus.com) (Connection closed)
[21:41:24] *** Joins: Rym (y@moz-g4dip9.range86-187.btcentralplus.com)
[21:41:54] *** Joins: aepsil0n (eduard@moz-q7qqfk.mullvad.net)
[21:43:20] *** Joins: gsingh93_ (gulshan@moz-3fu4am.mi.comcast.net)
[21:46:26] *** Joins: violaceae (violaceae@moz-v3l2na.u4is.n1v0.0007.2601.IP)
[21:47:24] *** Joins: jgallagher (john@moz-6ge.dhn.131.24.IP)
[21:48:25] *** Joins: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net)
[21:48:26] *** ChanServ sets mode: +o pnkfelix
[21:50:16] *** Quits: laumann (thomas@moz-n9e72h.0.fullrate.dk) (Quit: leaving)
[21:50:22] *** Quits: gsingh93_ (gulshan@moz-3fu4am.mi.comcast.net) (Ping timeout: 121 seconds)
[22:01:06] *** Quits: gsingh93 (gulshan@moz-3fu4am.mi.comcast.net) (Ping timeout: 121 seconds)
[22:02:33] <annodomini> Who is currently on the Rust core team? There apparently used to be a list here: https://github.com/mozilla/rust/wiki/Note-core-team but the wiki is no more.
[22:03:05] <huon> https://github.com/rust-lang/rust-wiki-backup/blob/master/Note-core-team.md
[22:04:11] <annodomini> huon: Thanks
[22:04:56] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Ping timeout: 121 seconds)
[22:06:40] <pnkfelix> acrichto: I have a new idea for feature-gating `ensure_not_fmt_string_literal!`
[22:06:55] <pnkfelix> acrichto: I can make it expand into a function call of an identity function that is marked unstable.
[22:07:40] <pnkfelix> acrichto: and that way ... I can reuse the existing machinery for letting macros (e.g. `panic!` expand into unstable things?  hopefully...
[22:10:21] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[22:11:29] <acrichto> pnkfelix: hm yeah that may work 
[22:11:38] <pnkfelix> acrichto: going to give that a shot
[22:15:25] *** Quits: pczarn (piotr@moz-9un7t9.izacom.pl) (Ping timeout: 121 seconds)
[22:16:20] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[22:16:47] *** Joins: nerdopoly (Mibbit@moz-inc16q.range86-146.btcentralplus.com)
[22:21:16] <Aaron> doener_: thanks! Do you know if this information would be readily available to rustc? I guess one bad solution would be to make all load/stores aligned to 1...
[22:25:28] <pnkfelix> anyone want to review gh24420
[22:25:28] <[o__o]> Fill in missing parts of Integer overflow API : https://github.com/rust-lang/rust/pull/24420
[22:25:32] *** Quits: nerdopoly (Mibbit@moz-inc16q.range86-146.btcentralplus.com) (Quit: http://www.mibbit.com ajax IRC Client)
[22:25:48] *** Joins: nerdopoly (Mibbit@moz-inc16q.range86-146.btcentralplus.com)
[22:26:25] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[22:26:56] *** Quits: bjz (bjz@moz-puppgq.tpgi.com.au) (Quit: My Mac has gone to sleep. ZZZzzz…)
[22:28:28] *** Quits: dcb (textual@moz-j72nfe.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[22:29:06] <acrichto> pnkfelix: any particular reason the functions aren't marked #[stable]?
[22:29:12] <acrichto> pnkfelix: just worries about being insta-stable?
[22:29:18] *** Quits: Astrum|Lap (Astrum|Lap@moz-7enfbr.co.comcast.net) (Client exited)
[22:29:29] *** Quits: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net) (Ping timeout: 121 seconds)
[22:29:46] *** Joins: nerdopoly_ (Mibbit@moz-inc16q.range86-146.btcentralplus.com)
[22:30:01] *** Quits: adu (ajr@moz-vd1fau.fios.verizon.net) (Ping timeout: 121 seconds)
[22:30:49] *** Quits: nerdopoly (Mibbit@moz-inc16q.range86-146.btcentralplus.com) (Quit: http://www.mibbit.com ajax IRC Client)
[22:31:01] *** Quits: user7181 (user@moz-hc7vub.mullvad.net) (Quit: leaving)
[22:31:03] *** Quits: nerdopoly_ (Mibbit@moz-inc16q.range86-146.btcentralplus.com) (Quit: http://www.mibbit.com ajax IRC Client)
[22:32:57] *** kimundi is now known as zz_kimundi
[22:33:00] *** Quits: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com) (Ping timeout: 121 seconds)
[22:33:25] *** Quits: violaceae (violaceae@moz-v3l2na.u4is.n1v0.0007.2601.IP) (Quit: Leaving)
[22:39:43] *** Quits: Kingsquee (kingsley@moz-qq7ns6.bchsia.telus.net) (Quit: Konversation terminated!)
[22:40:20] *** Quits: jdm (jdm@moz-ilbt2e.cable.teksavvy.com) (Quit: )
[22:41:24] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[22:46:24] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[22:46:43] *** Joins: ctennis (ctennis@moz-vcpg3c.in.comcast.net)
[22:47:23] *** Quits: aepsil0n (eduard@moz-q7qqfk.mullvad.net) (Connection closed)
[22:49:34] *** Joins: swgillespie (swgillespie@moz-upj.3un.220.167.IP)
[22:53:06] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[22:56:50] *** Quits: proc (proc@moz-p6q301.dip0.t-ipconnect.de) (Quit: Gotta eat my pizza)
[22:57:19] *** Joins: proc (proc@moz-p6q301.dip0.t-ipconnect.de)
[22:58:29] *** Joins: sprang (sprang@moz-d0kmvi.12d9.sm5v.0009.2601.IP)
[22:59:50] *** Quits: imperio (Mibbit@moz-8otf3a.fbx.proxad.net) (Quit: http://www.mibbit.com ajax IRC Client)
[23:02:44] *** Joins: blaenk_ (blaenkdenum@moz-12e081.res.rr.com)
[23:03:08] *** Quits: blaenk (blaenkdenum@moz-12e081.res.rr.com) (Ping timeout: 121 seconds)
[23:03:19] *** Joins: mib_yfqfvl (Mibbit@moz-nlblue.central.yale.edu)
[23:04:24] *** Quits: mib_yfqfvl (Mibbit@moz-nlblue.central.yale.edu) (Quit: http://www.mibbit.com ajax IRC Client)
[23:05:04] *** Joins: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net)
[23:05:05] *** ChanServ sets mode: +o pnkfelix
[23:06:55] *** Quits: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[23:08:21] <nrc> can I specify rustc for Cargo yet or do I still need to mess around with PATH?
[23:08:57] <pnkfelix> nrc: brson was explaining this to me in a recent ticket
[23:09:47] <pnkfelix> nrc: there is `--local-rust-root` option to Cargo's configure
[23:09:52] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[23:10:00] <pnkfelix> nrc: which brson says works for him here: https://github.com/brson/multirust/issues/43#issuecomment-91953336
[23:10:08] <brson> that controls the cargo build itself
[23:10:13] <brson> but not cargo generally
[23:10:18] <pnkfelix> oh  i see
[23:10:33] <brson> afaik it's not yet possible to tell Cargo how to invoke rustc
[23:10:49] <brson> generally
[23:12:34] <nrc> brson: does multirust work with Cargo?
[23:13:03] <brson> nrc: yes under multirust Cargo will use the correct rustc
[23:13:08] <brson> it does it by PATH munging
[23:13:36] *** Joins: mib_mwa6g9 (Mibbit@moz-nlblue.central.yale.edu)
[23:13:42] <brson> it's not possible in multirust to customize which cargo goes with which rustc yet
[23:14:09] <brson> but it always pairs the rustc for any given release with the corresponding cargo
[23:14:51] <nrc> brson: if I want to use a homemade rustc with Cargo, do I need to build Cargo itself?
[23:16:00] <brson> nrc: multirust can do it but it's not quite trivial
[23:16:10] <brson> nrc: the end of this section shows how https://github.com/brson/multirust#custom-toolchains
[23:16:43] <nrc> thanks brson
[23:16:45] <brson> nrc: you build the installer for rustc with 'make dist', then call `multirust update --installer=<my-local-installer>,<some-remote-cargo-installer>
[23:17:23] <brson> the nightly cargo installer is at https://static.rust-lang.org/cargo-dist/cargo-nightly-x86_64-unknown-linux-gnu.tar.gz
[23:18:43] *** Joins: dyv (dyv@moz-nlblue.central.yale.edu)
[23:19:16] *** Quits: mib_mwa6g9 (Mibbit@moz-nlblue.central.yale.edu) (Quit: http://www.mibbit.com ajax IRC Client)
[23:19:43] <brson> oh, i didn't answer your question. no, you don't need to build cargo
[23:19:54] *** blaenk_ is now known as blaenk
[23:20:26] <blaenk> acrichto burntsushi huon: requesting `regex` version bump at your convenience. (no rush/low priority)
[23:20:28] <pnkfelix> brson: hey, am I right that none of the buildbots do `--enable-debug` ?
[23:20:46] <brson> pnkfelix: yes
[23:20:48] <pnkfelix> brson: (I was wondering how that performance regression had managed to sneak in)
[23:20:59] <brson> pnkfelix: which regression?
[23:21:21] <brson> what would --enable-debug help with?
[23:21:22] <pnkfelix> brson: gh24405
[23:21:23] <[o__o]> `configure --enable-debug --enable-optimize` is not enabling optimizations: https://github.com/rust-lang/rust/issues/24405
[23:21:27] <nrc> r? trivial span fix https://github.com/rust-lang/rust/pull/24438
[23:21:28] <pnkfelix> brson: its fixed now
[23:21:54] <pnkfelix> brson: (it just slowed things down for me over the weekend, and I thought my laptop was dying)
[23:22:11] <brson> oops
[23:22:29] <pnkfelix> brson: :)   we all make mistakes
[23:22:42] <pnkfelix> brson: just was mostly wondering if a single bot doing --enable-debug would be worthwhile or not
[23:23:01] <pnkfelix> or rather, `--enable-debug --enable-optimize`
[23:23:05] <brson> heh. if it doesn't exist on the bots it doesn't exist to me
[23:23:09] <pnkfelix> ha ha
[23:23:42] <brson> more combinations would help. there are like infinity of them though
[23:23:52] <brson> i wonder if there are faster ways to smoke test configuration combinations
[23:24:13] <brson> we might not be able to test with the bots
[23:24:25] <brson> or this could be in a class of non-landing-blocking bots like the bitrig
[23:24:44] <bstrie> ooh, that thread::scoped unsoundness looks fun :P
[23:24:54] <proc> Adding a "generate url" way to play.rust-lang would stop me from creating short urls, only to open them, so the code isn't lost on the next session.. (browser restart)
[23:25:13] <burntsushi> blaenk: bumped to 0.1.28.
[23:25:19] <blaenk> thanks :D
[23:26:41] <brson> nrc: the fix for that regression turns on --enable-optimize-cxx when `--enable-debug --enable-optimize`, while --enable-optimize alone does not imply --enable-optimize-cxx
[23:26:44] <brson> er pnkfelix 
[23:26:57] <pnkfelix> brson: doh
[23:27:14] <apoelstra> when writing a syntax extension can i get the enclosing crate and/or module of the item?
[23:27:23] <bstrie> proc: play.rust-lang.org already remembers code across sessions, it seems. are you clearing all cookies after browser restart?
[23:27:46] <proc> brson: yep, ofc
[23:28:05] <pnkfelix> brson: is fixing that high-priority?  Seems like it could be folded into fixing gh24416
[23:28:06] <[o__o]> `configure --enable-debug` sub options cannot be overridden: https://github.com/rust-lang/rust/issues/24416
[23:28:16] <brson> pnkfelix: nah
[23:28:25] <proc> bstrie: I'll add an exception, now that I know it fixes this ^^
[23:29:47] *** Joins: joneshf-laptop (joneshf@moz-8re45u.ucdavis.edu)
[23:31:28] *** Quits: kushal (kdas@moz-udf.p75.171.66.IP) (Ping timeout: 121 seconds)
[23:34:23] <pnkfelix> huon: ping
[23:45:47] <blaenk> hey does anyone know if type ascription is planned for 1.0?
[23:45:57] <blaenk> checked the tracking issue but didn't see any mention
[23:47:54] <nrc> blaenk: no
[23:48:12] <blaenk> alright thanks
[23:48:19] <nrc> it might land, it might not, depends on whether niko has time, in any case it will be behind a feature gate
[23:48:24] <blaenk> ahh okay
[23:48:26] <nrc> blaenk: ^
[23:48:30] <blaenk> cool thanks :)
[23:49:01] *** Quits: zxq9 (ceverett@moz-c1f1em.asahi-net.or.jp) (Connection closed)
[23:53:18] *** Quits: proc (proc@moz-p6q301.dip0.t-ipconnect.de) (Connection closed)
[23:53:43] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[23:54:06] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[23:57:05] *** Quits: Diggsey (diggsey@moz-u5nc7k.dsl.pipex.com) (Ping timeout: 121 seconds)
[23:58:24] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[23:59:33] *** Joins: blaenk_ (blaenkdenum@moz-12e081.res.rr.com)
