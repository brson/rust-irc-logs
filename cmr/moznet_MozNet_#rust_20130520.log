[00:00:59] *** Joins: int3_ (int3_@moz-B7B5F043.singnet.com.sg)
[00:02:42] *** Quits: int3_ (int3_@moz-B7B5F043.singnet.com.sg) (Client exited)
[00:02:57] *** Quits: brson (brson@2557E599.66715431.D25A875A.IP) (Client exited)
[00:03:25] <cmr> What could be in https://github.com/cmr/rust/commit/50e477effc625d291aeefe440459c8db90f365a4 that causes rustc: /home/rustbuild/src/rust-buildbot/slave/snap3-linux/build/src/llvm/lib/IR/Instructions.cpp:281: void llvm::CallInst::init(llvm::Value*, llvm::ArrayRef<llvm::Value*>, const llvm::Twine&): Assertion `(i >= FTy->getNumParams() || FTy->getParamType(i) == Args[i]->getType()) && "Calling a
[00:03:36] <cmr> function with a bad signature!"' failed.
[00:03:44] <cmr> I don't even add any functions
[00:05:04] <cmr> Unless it's the llvm bindings? Hm
[00:05:04] <aatch> cmr, this fails during running the tests or compiling?
[00:05:22] <cmr> aatch: compiling stage0 librustc
[00:05:34] <cmr>  x86_64-unknown-linux-gnu/stage0/bin/rustc --cfg stage0 -O --target=x86_64-unknown-linux-gnu -o x86_64-unknown-linux-gnu/stage0/lib/rustc/x86_64-unknown-linux-gnu/lib/librustc.so /home/cmr/hacking/rust/src/librustc/rustc.rc
[00:07:13] <aatch> cmr, well that error is that you are emitting a call instruction where the arguments don't match the function sig
[00:07:46] <cmr> I think it might be the LLVMConst{F,I}Cmp
[00:07:52] <cmr> Should I be passing in the struct differently?
[00:08:01] <cmr> s/struct/enum/
[00:08:56] <cmr> Seems like the other functions that take an enum take it as c_uint
[00:10:32] <cmr> Ohhh, there's two functions
[00:10:39] <cmr> the FFI to LLVM
[00:10:48] <cmr> and a wrapper function that unsafely casts the enum as c_uint
[00:12:39] *** Quits: Jesin (Jessin_@moz-5654D37.washdc.fios.verizon.net) (Ping timeout)
[00:12:55] <cmr> aatch: thanks :)
[00:13:06] *** Joins: Jesin (Jessin_@moz-5654D37.washdc.fios.verizon.net)
[00:15:21] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[00:15:21] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/-E2Qqg
[00:15:21] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[00:15:24] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[00:15:24] <ghrust> 01[13rust01] 15bors pushed 4 new commits to 06auto: 02http://git.io/_5Bm3g
[00:15:24] <ghrust> 13rust/06auto 14e02716e 15Tom Lee: Reexport static trait methods on traits in the same module.
[00:15:24] <ghrust> 13rust/06auto 14cac97d7 15Tom Lee: Remove unused variable.
[00:15:24] <ghrust> 13rust/06auto 14e3a91f6 15Tom Lee: Explain an odd conditional check.
[00:15:25] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[00:17:08] *** Joins: lucian (lucian@moz-22A14C6A.cable.virginmedia.com)
[00:18:01] <Diablo-D3> http://stackoverflow.com/questions/16621738/d-less-efficient-than-0-9
[00:18:03] <Diablo-D3> lolwhat, silly C#
[00:19:03] <cmr> I don't think there's anything silly about it
[00:20:05] <benh> I have to admit I was surprised by that. :(
[00:22:03] *** Quits: Jesin (Jessin_@moz-5654D37.washdc.fios.verizon.net) (Ping timeout)
[00:23:07] *** Joins: ysuzuki (ysuzuki@moz-A563888C.ics.keio.ac.jp)
[00:23:51] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[00:25:50] *** Quits: ysuzuki (ysuzuki@moz-A563888C.ics.keio.ac.jp) (Client exited)
[00:26:50] *** Joins: Jesin (Jessin_@moz-5654D37.washdc.fios.verizon.net)
[00:28:52] *** Quits: Jesin (Jessin_@moz-5654D37.washdc.fios.verizon.net) (Ping timeout)
[00:29:00] *** Quits: lucian (lucian@moz-22A14C6A.cable.virginmedia.com) (Input/output error)
[00:30:01] *** Joins: ysuzuki (ysuzuki@moz-F333A8C8.st.keio.ac.jp)
[00:30:01] *** Quits: tgt (tgt@moz-D59EE478.aztw.cable.virginmedia.com) (Quit: Computer has gone to sleep.)
[00:31:29] *** Joins: sonwow (sonwow@5AB4884B.FCC4549.14D5B978.IP)
[00:37:40] *** Joins: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com)
[00:38:37] <cmr> rusti: 1 > 0.5
[00:38:41] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/EYZi
[00:39:28] *** Quits: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com) (Ping timeout)
[00:40:16] *** Quits: igl (igl@moz-83E3CF92.adsl.alicedsl.de) (Connection reset by peer)
[00:40:55] *** Joins: igl (igl@moz-77A7F38D.adsl.alicedsl.de)
[00:41:22] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Connection reset by peer)
[00:41:31] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[00:45:39] *** Quits: bytbox (s@moz-D83E9B31.wireless.umd.edu) (Ping timeout)
[00:46:17] <cmr> hm
[00:54:29] <engla_> UTF-8 is already more than 20 years old and we're still adapting
[00:56:28] <cmr> rusti: stringify!(for x,y,z in fields{1,3,4} do print(x/z,y/z))
[00:56:30] -rusti- "for x , y , z in fields { 1 , 3 , 4 } do print ( x / z , y / z )"
[00:56:44] *** Joins: hjr3 (hradtke@AF4FC8FE.D2A4E84D.523CBD62.IP)
[00:57:45] <fread2281> rusti: (1 as int) > 0.5
[00:57:46] <cmr> rusti: stringify!((defstruct (queue (:constructor create-queue) (:print-function queue-print-function)) (elements #() :type simple-vector))))
[00:57:47] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/MaMV
[00:57:47] -rusti- line longer than 150 columns, pastebinned: http://sprunge.us/DeYU
[00:58:10] <fread2281> rusti: 1 > (0.5 as float)
[00:58:12] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/fAhW
[00:58:28] <fread2281> rusti: (1 as float) > (0.5 as float)
[00:58:29] -rusti- true
[00:58:37] <cmr> rusti: stringify!((defstruct (queue (:constructor create-queue) (:print-function queue-print-function)) (elements #() :type simple-vector)))
[00:58:39] -rusti- line longer than 150 columns, pastebinned: http://sprunge.us/CENO
[00:58:43] <cmr> This has promise.
[00:59:00] <cmr> inserts newlines though
[01:01:10] *** Joins: brson (brson@2557E599.66715431.D25A875A.IP)
[01:01:10] *** ChanServ sets mode: +o brson
[01:03:27] *** Joins: bytbox (s@moz-D83E9B31.wireless.umd.edu)
[01:05:37] <brson> aatch: if you are going to start implementing work stealing, you might want to do it using the simple locking work queue that's already merged, and create a mechanism for alternating between them
[01:08:36] <brson> we have a linux snapshot!
[01:08:40] <aatch> brson, makes sense.
[01:08:43] <aatch> brson, we do!
[01:08:49] <aatch> Finally
[01:09:00] <aatch> so it managed to pull the right commit in the end?
[01:09:08] <cmr> is valgrind the only platform linux is run on?
[01:09:10] <cmr> Err...
[01:09:14] <cmr> you know what I mean :p
[01:09:49] <brson> aatch, cmr: yes and yes
[01:09:59] *** Quits: davbo (dave@moz-E2C65EB0.zone11.bethere.co.uk) (Quit: Leaving)
[01:10:59] <fread2281> no osx on valgrind?
[01:11:22] *** Quits: steveklabnik (steve@moz-5EF6C37C.socal.res.rr.com) (Ping timeout)
[01:14:16] *** Quits: maxli (maxli@C03F2759.C70D537E.2FA4EA88.IP) (Connection reset by peer)
[01:14:22] *** Joins: maxli (maxli@C03F2759.C70D537E.2FA4EA88.IP)
[01:15:37] <cmr> indutny: ping
[01:17:14] *** Quits: RMF (RMF@moz-AE71C4DD.dsl.telepac.pt) (Ping timeout)
[01:18:35] <brson> there seem to be three iter modules in core now...
[01:20:34] *** Joins: RMF (RMF@moz-58DFF2D4.dsl.telepac.pt)
[01:21:18] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[01:21:18] <ghrust> 01[13rust01] 15bors merged 06auto into 06incoming: 02http://git.io/_5Bm3g
[01:21:18] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[01:21:34] *** Quits: acrichto (acrichto@moz-B63D64BD.res.cmu.edu) (Input/output error)
[01:22:06] *** Joins: int3_ (int3_@moz-B7B5F043.singnet.com.sg)
[01:24:00] *** Joins: steveklabnik (steve@moz-5EF6C37C.socal.res.rr.com)
[01:24:18] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[01:24:18] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/k4cvCQ
[01:24:18] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[01:24:22] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[01:24:22] <ghrust> 01[13rust01] 15bors pushed 4 new commits to 06auto: 02http://git.io/U0lemw
[01:24:22] <ghrust> 13rust/06auto 14e0b1bdc 15Steve Klabnik: Add additional documentation in core::io....
[01:24:22] <ghrust> 13rust/06auto 14929050d 15Steve Klabnik: Added note about prelude inclusion.
[01:24:22] <ghrust> 13rust/06auto 145877727 15Steve Klabnik: Fix trailing whitespace
[01:24:23] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[01:25:11] <brson> this for loop change was a pretty massive
[01:25:34] <cmr> the new protocol?
[01:26:09] <strcat> yeah there are a *lot* of stage markers now
[01:26:35] <strcat> brson: old_iter just needs to be converted to new functions in iter
[01:26:45] <strcat> I ran into a borrow checking thing that confused me but I know how to deal with it now
[01:26:54] *** Quits: hjr3 (hradtke@AF4FC8FE.D2A4E84D.523CBD62.IP) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[01:26:58] <steveklabnik> woot
[01:27:12] <steveklabnik> so, there are a lot of warnings on the build. are they legit?
[01:27:33] <strcat> steveklabnik: yeah they just need someone to fix them ;p
[01:27:38] <strcat> they slowly creep in
[01:27:45] <cmr> because people are lazy and sloppy
[01:27:48] * cmr grumbles
[01:28:02] <strcat> because we don't have -Werror for bors :)
[01:28:15] <cmr> it's usually just unused imports, but they don't show up until stage2
[01:28:39] <brson> i think we should have warnings as errors on
[01:28:46] <brson> it looks really bad to have so many warnings
[01:29:05] <cmr> I agree.
[01:29:16] <strcat> brson: btw tcmalloc has HEAP_CHECK if we decide to use it, so we won't need that atomic counter
[01:29:28] <strcat> HEAP_CHECK=normal counts the allocs and throws a warning at the end
[01:30:15] <brson> strcat: are we close to merging tcmalloc?
[01:30:27] <cmr> is anyone working on it?
[01:30:28] <aatch> brson, do we have a -Werror at all?
[01:30:33] <brson> aatch: nope
[01:30:53] <strcat> brson: well I guess it would mostly be makefile stuff
[01:31:05] <strcat> on linux we just have to build and link against it
[01:31:12] <strcat> but I don't know about other platforms
[01:31:27] <strcat> glibc uses weak symbols for those functions
[01:31:31] <brson> can I replace transmute_for_stage0 with transmute?
[01:32:02] <strcat> I think pcwalton added an intrinsic or something, maybe it isn't in stage0 yet?
[01:32:07] <strcat> we really need a snapshot ;p
[01:33:26] <steveklabnik> strcat: fair enough!
[01:33:38] <steveklabnik> more easy stuff for me to take a look at
[01:33:39] <steveklabnik> :D
[01:34:11] <strcat> steveklabnik: you inspired me to make examples for each fn in the new iter module :) http://static.rust-lang.org/doc/core/iter.html
[01:34:15] <cmr> steveklabnik: check if catamorphism has fixes waiting in his repo first, though.
[01:34:22] <cmr> usually he goes through and fixes warnings
[01:34:58] * strcat wishes we had testable docstrings
[01:35:09] <cmr> pub fn ConstFCmp(Pred: RealPredicate, V1: ValueRef, V2: ValueRef) -> ValueRef {
[01:35:11] <cmr>     unsafe {
[01:35:13] <cmr>         llvm::LLVMConstICmp(Pred as c_ushort, V1, V2)
[01:35:15] <cmr> whoops...
[01:36:01] *** Joins: z0w0 (zack@moz-780F7535.lns9.cha.bigpond.net.au)
[01:36:05] *** Joins: youknowone (youknowone@A826BD81.8A0DEF81.38747683.IP)
[01:36:05] *** Quits: youknowone (youknowone@A826BD81.8A0DEF81.38747683.IP) (Z:lined (Open Proxy found on your host. Please visit www.blitzed.org/proxy?ip=115.68.131.49 for more information.))
[01:38:12] *** Quits: int3_ (int3_@moz-B7B5F043.singnet.com.sg) (Connection reset by peer)
[01:38:29] *** Joins: int3_ (int3_@moz-B7B5F043.singnet.com.sg)
[01:39:12] <steveklabnik> strcat: wooo!
[01:39:13] *** Quits: int3_ (int3_@moz-B7B5F043.singnet.com.sg) (Connection reset by peer)
[01:39:18] <steveklabnik> cmr: ahh, thanks
[01:39:24] *** Joins: int3_ (int3_@moz-B7B5F043.singnet.com.sg)
[01:39:41] <steveklabnik> as someone who is still a noob at rust, examples are _so helpful_
[01:39:54] <steveklabnik> its one of the reasons i'm writing docs, to help me learn the language better
[01:40:06] <steveklabnik> i get precious little Rust time, so it's easy to forget stuff :/
[01:41:28] <steveklabnik> plus, switching from something as dynamic as ruby to something as static as rust can be a bit of a shock. :) 
[01:42:04] *** Quits: cdidd (cdidd@moz-C64D5DE3.broadband.corbina.ru) (Input/output error)
[01:43:09] <cmr> plus rust needs lots of docs lovin'
[01:43:15] <cmr> you'll never have a shortage of things to do
[01:43:17] <cmr> :p
[01:43:25] <steveklabnik> truth
[01:43:36] <steveklabnik> it's a nice way to stay involved
[01:44:08] <steveklabnik> Oh, I guess I should mention this here too: I registered www.learnrustthehardway.com ;)
[01:44:16] <steveklabnik> i have to finish this book on Rails before I get into that
[01:44:26] <steveklabnik> but that project is next on my plate after.
[01:44:34] <cmr> writing or reading a book on rails?
[01:44:42] <steveklabnik> Rails 4 In Action for manning publishing
[01:44:47] <steveklabnik> writing
[01:44:50] <cmr> cool!
[01:45:07] *** Quits: int3_ (int3_@moz-B7B5F043.singnet.com.sg) (Client exited)
[01:45:24] <steveklabnik> it's okay. the margin on self-published things is so much higher
[01:48:38] <cmr> steveklabnik: is rust-for-rubyists updated to track incoming, or is it targeting a specific version?
[01:50:58] <steveklabnik> I update it for each release
[01:51:03] <steveklabnik> so it should be compatible with 0.6
[01:51:10] <steveklabnik> ive heard that there's one or two things that don't work :/
[01:51:15] <steveklabnik> gotta go through some erratta
[01:51:27] <steveklabnik> i did it all myself by hand, so i thought it all worked for me...
[01:51:49] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[01:52:30] <strcat> brson: so should I just add the stable release of tcmalloc or jemalloc to the repo?
[01:53:37] <cmr> strcat: did you decide if tcmalloc or jemalloc was the better choice?
[01:53:49] <strcat> cmr: they perform about the same, it doesn't really matter
[01:54:00] <cmr> neat
[01:54:06] <strcat> for small allocs tcmalloc is a bit faster, for vectors jemalloc is a bit faster
[01:54:15] <strcat> for scaling with threads they seem about the same now too.
[01:54:38] <zxcdw> steveklabnik: Just reading the book atm(a lucky coincidence), chapter 7 misses a " in a sentence, making it hard to follow because: "reading things like this without the ending quite sucks. :) Just giving a heads up, in case you can do something about it.
[01:55:05] <strcat> jemalloc apparently isn't good at handling short-lived threads (issue shared by glibc) but.... maybe rust's scheduler makes that mostly a non-issue
[01:57:13] <brson> strcat: only add it if you are going to integrate it for all platforms. just adding it for linux is hardly worth it since linux's malloc is already fantastic
[01:57:20] <steveklabnik> zxcdw: nice, thanks
[01:57:27] <steveklabnik> zxcdw: i will add that to the list
[01:57:36] <cmr> brson: fantastic compared to the defaults on other platforms, maybe.
[01:58:24] <zxcdw> steveklabnik: np <3, forgot to mention it's up in the very beginning btw. :)
[01:59:50] <strcat> brson: it's still ~5% faster than glibc's and uses a bit less memory - but I do plan on making it work for all platforms
[02:00:37] <strcat> glibc still uses sbrk instead of just using mmap + madvise(..., MADV_DONTNEED) like tcmalloc/jemalloc
[02:01:17] <brson> strcat: which one has better debugging and integration features?
[02:01:31] <strcat> brson: tcmalloc/jemalloc both have heap profiling/checking
[02:01:37] <strcat> I think they both output in the same format for pprof
[02:01:45] <strcat> jemalloc looks easier to integrate
[02:02:31] *** Quits: EXetoC (ex@moz-2DBEB1E4.customer.t3.se) (Quit: WeeChat 0.4.0)
[02:02:56] *** Quits: Axord (xord@moz-C3CCF156.lsanca.dsl-w.verizon.net) (Quit: I'm sure it's perfectly safe)
[02:03:37] <strcat> brson: http://linux.die.net/man/3/jemalloc bunch of stuff listed in the mallctl section - tcmalloc is similar
[02:03:42] <strcat> can just enable opt.prof_leak and get the leak checking
[02:04:41] <cmr> does tcmalloc also have good valgrind integration?
[02:05:34] <steveklabnik> oh, so is there a reason the default branch on github is master rather than incoming? if it were incoming, PRs would go there by default, which would be nice
[02:05:50] <cmr> steveklabnik: incoming is going away eventually
[02:05:55] <steveklabnik> yeah, i saw that
[02:05:59] <steveklabnik> a long time ago :)
[02:06:00] <strcat> cmr: dunno if it does
[02:06:03] <strcat> I know jemalloc does
[02:06:08] <cmr> strcat: it seems it doesn't
[02:06:12] *** Quits: an0nymous (an0nymous@moz-A6B0CE4.tx.res.rr.com) (Quit: Leaving)
[02:06:32] <cmr> jemalloc is probably the better choice
[02:07:39] * strcat just has to figure out how to integrate it into the build process :)
[02:07:39] *** Joins: BitPuffin (quassel@moz-8370D1B9.bredband.comhem.se)
[02:07:45] <cmr> good luck
[02:07:58] <cmr> those makefiles look like small animals could get lost and die in them
[02:08:18] <strcat> I guess it should be statically linked into the runtime
[02:11:05] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[02:12:06] <brson> strcat: for now I think it's appropriate to link it statically to rt, since there are a few more uses of the exchange heap there. eventually we can link it directly to core
[02:12:18] <brson> and call jemalloc directly
[02:12:36] <cmr> r? https://github.com/mozilla/rust/pull/6625
[02:14:22] *** Joins: seth (seth@moz-99690620.hinet-ip.hinet.net)
[02:16:36] *** Joins: an0nymous (an0nymous@moz-A6B0CE4.tx.res.rr.com)
[02:19:03] <strcat> brson: I guess it would be sanest to use --with-jemalloc-prefix and call it directly
[02:19:16] <strcat> doesn't seem like you can just replace the symbols on windows
[02:19:41] <strcat> anyway I'll have to figure out what it calls the libraries on windows to integrate it into the makefile ;p
[02:19:50] *** Joins: jgilbert (jgilbert@moz-99690620.hinet-ip.hinet.net)
[02:20:50] <cmr> You can add jemalloc as a submodule
[02:20:54] <cmr> git://canonware.com/jemalloc.git
[02:21:06] <strcat> but we don't want the git version
[02:21:17] <strcat> can a submodule checkout a tag?
[02:21:17] <cmr> Pick a revision
[02:21:22] <strcat> ah right
[02:21:36] <aatch> brson, if strcat is integrating jemalloc, should I drop my changes to the global heap?
[02:22:06] <brson> let's not do a submodule. jemalloc is small and stable
[02:22:57] <steveklabnik> r? https://github.com/mozilla/rust/pull/6624
[02:22:58] <brson> for now I think it's appropriate to put it in src/rt/jemalloc like the other bits of 3rd party code
[02:23:01] *** Joins: hjr3 (hradtke@AF4FC8FE.D2A4E84D.523CBD62.IP)
[02:23:34] <brson> aatch: no, it will take some time to transition
[02:23:44] <aatch> brson, fair enough
[02:25:42] <strcat> brson: I'm not entirely sure where I should be running ./configure for jemalloc
[02:25:47] <strcat> inside rt.mk? or just in rust's configure
[02:26:19] *** Quits: ysuzuki (ysuzuki@moz-F333A8C8.st.keio.ac.jp) (Client exited)
[02:28:10] <brson> strcat: assuming that jemalloc's configure step is not that complicated I would prefer to not use it and just write our own build rules in rt.mk
[02:29:07] <cmr> it is fairly complicated.
[02:29:20] <strcat> brson: http://ix.io/5Ii the configure.ac
[02:30:12] *** Joins: ysuzuki (ysuzuki@moz-A563888C.ics.keio.ac.jp)
[02:31:00] <brson> then run it from rust's configure script
[02:32:24] *** Quits: hjr3 (hradtke@AF4FC8FE.D2A4E84D.523CBD62.IP) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[02:33:14] <cmr> strcat: make sure you set CC properly for --enable-clang
[02:33:37] <strcat> I can pass along CC
[02:33:43] <strcat> to the makefile
[02:35:29] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[02:36:24] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[02:36:24] <ghrust> 01[13rust01] 15bors merged 06auto into 06incoming: 02http://git.io/U0lemw
[02:36:24] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[02:37:41] *** Joins: recrack (Mibbit@B4104EBB.3CC170B1.1E14B209.IP)
[02:38:21] <brson> oh crap I forgot i was working on a snapshot
[02:39:18] <strcat> huh, this is the weirdest configure option I've seen
[02:39:20] <strcat>   --without-export        disable exporting jemalloc public APIs
[02:40:08] <cmr> I assume that's everything except the standard malloc/alloca/free/realloc/posix_memalign
[02:40:24] <cmr> well, not alloca
[02:40:26] <cmr> I meant calloc
[02:40:39] <strcat> and aligned_alloc (C11)
[02:42:25] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[02:42:25] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/9JWG0A
[02:42:25] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[02:42:28] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[02:42:28] <ghrust> 01[13rust01] 15bors pushed 4 new commits to 06auto: 02http://git.io/ZIDY-A
[02:42:28] <ghrust> 13rust/06auto 14e42fcb9 15Corey Richardson: Implement unimplemented const binops
[02:42:28] <ghrust> 13rust/06auto 14b976427 15Corey Richardson: Fix LLVMConst{I,F}Cmp
[02:42:28] <ghrust> 13rust/06auto 14808c5b8 15Corey Richardson: Test fixes, use LLVMConstFCmp in ConstFCmp
[02:42:30] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[02:44:15] <steveklabnik> one of the warnings is 'unused variable e', where it's part of a pattern match. e => {
[02:44:21] <steveklabnik> how would I remove that one?
[02:44:27] <strcat> can use _
[02:44:33] <steveklabnik> oh
[02:44:34] <steveklabnik> hm
[02:44:37] <strcat> or _e
[02:44:37] <steveklabnik> it is actually using it
[02:44:44] <brson> is that the call to abort!?
[02:44:46] <strcat> steveklabnik: strange
[02:44:59] <steveklabnik> let me grab the github link
[02:46:12] <steveklabnik> https://github.com/steveklabnik/rust/blob/incoming/src/libcore/rt/uv/mod.rs#L276-L280
[02:46:16] <steveklabnik> e as unit
[02:46:18] <steveklabnik> it's right there
[02:46:42] <strcat> oh
[02:46:47] <strcat> is rtdebug! sometimes disabled?
[02:46:49] <strcat> I guess it is
[02:46:57] <steveklabnik> ahhh, interesting.
[02:47:03] <cmr> OtherIoError: The other white meat
[02:47:18] <steveklabnik> so maybe just add an e; before the macro?
[02:47:24] <steveklabnik> or just live with the warning?
[02:48:05] <brson> that has been bugging me for a while. rtdebug tries to assign the arguments, but something is broken there
[02:48:37] *** Joins: kimundi_ (kimundi@moz-542D5FB6.dip0.t-ipconnect.de)
[02:49:24] *** Joins: acrichto (acrichto@moz-17CABEB0.wv.cc.cmu.edu)
[02:49:35] <brson> there are too many cfg(stage0) things for me to finish this snapshot right now. I'm pushing it to my snapshot branch if somebody else wants to take over, otherwise I'll finish it tonight or tomorrow. all that needs doing is removing all the conditional compilation and making the pull request
[02:49:50] <brson> acrichto: nice work on that for loop protocol change. that was a huge transition to make
[02:50:01] <acrichto> brson: thanks :)
[02:50:08] *** Quits: kimundi (kimundi@moz-2812E1B9.dip0.t-ipconnect.de) (Ping timeout)
[02:50:09] *** kimundi_ is now known as kimundi
[02:50:11] <acrichto> sorry about all the cfg(stage0) :(
[02:50:17] <benh> What is the current rule for disambiguating between a nullary enum variant and a wildcard binding in patterns again?
[02:50:43] <brson> that's my 'snapshots' branch, not 'snapshot'
[02:50:45] <aatch> benh, first match
[02:50:48] <brson> i'm sure i have both
[02:50:52] <cmr> you do have both :p
[02:51:01] <brson> ah, well I pushed it to both
[02:51:04] <cmr> what TZ are you? when is "tonight"?
[02:51:36] <benh> i mean in a pattern x at which point does it figure out that i mean enum e { x } and not to bind whatever i'm matching to the name x?
[02:51:53] <brson> cmr: PST. Tonight is within the next 5 hours
[02:52:25] *** Quits: maxli (maxli@C03F2759.C70D537E.2FA4EA88.IP) (Quit: Leaving.)
[02:52:32] <benh> or a static x
[02:52:43] *** Quits: brson (brson@2557E599.66715431.D25A875A.IP) (Quit: leaving)
[02:54:25] <strcat> yet another reason we should enforce the type naming conventions ;p
[02:55:30] <fread2281> strcat: N N N NOOO! mandatory naming conventions are bad
[02:55:48] <strcat> why?
[02:55:56] <strcat> they seem to be needed to solve ambiguity in a few places
[02:56:00] <benh> the only thing worse than mandatory naming conventions are no naming conventions :
[02:56:01] <benh> :D
[02:56:03] <strcat> Foo(x)
[02:56:09] <strcat> function call or constructing a tuple struct?
[02:56:29] <benh> clearly the tuple struct constructor is a function, so both
[02:56:35] <strcat> benh: it's not
[02:56:39] <strcat> different namespaces
[02:56:55] <kimundi> strcat: Actually...
[02:56:59] <strcat> rusti: fn foo() {} fn foo() {}
[02:57:01] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/ZDTI
[02:57:33] <strcat> rusti: fn foo(x: int) -> int { x } struct foo(int); foo(5)
[02:57:34] -rusti- {__field__: 5}
[02:57:35] <benh> rusti: enum Heh { Foo(int), Bar(int) } fn Foo(i:int)->Heh{Bar(i)}
[02:57:37] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/fHGV
[02:58:00] <strcat> rusti: struct foo(int); fn foo(x: int) -> int { x } foo(5)
[02:58:02] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/hUHi
[02:58:08] <kimundi> rusti: fn Foo(bar: uint) {} struct Foo(uint); Foo(43)
[02:58:09] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/GhfY
[02:58:15] <cmr> I don't see why it should be mandatory, but it should be an error.
[02:58:19] <strcat> depends on which is first
[02:58:59] <benh> The %? printer is a bit behind, isn't it
[02:59:27] <strcat> fread2281: and the thing benh pointed out
[02:59:37] <cmr> rusti: struct foo(int, int, float); foo(1, 2, 3.0);
[02:59:40] <cmr> rusti: struct foo(int, int, float); foo(1, 2, 3.0)
[02:59:42] -rusti- {__field__: 1, __field__: 2, __field__: 3}
[02:59:49] <cmr> rusti: struct foo(int, int, float); foo(1, 2, 3.01)
[02:59:50] -rusti- {__field__: 1, __field__: 2, __field__: 3.01}
[03:00:00] <strcat> rusti: enum { a, b, c }; let x = a; match x { a => 2 }
[03:00:01] -rusti- foo.rs:5:14: 5:15 error: expected ident, found `{`
[03:00:01] -rusti- foo.rs:5          enum { a, b, c }; let x = a; match x { a => 2 }
[03:00:01] -rusti-                        ^
[03:00:07] <strcat> rusti: enum foo { a, b, c }; let x = a; match x { a => 2 }
[03:00:08] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/fMBB
[03:00:18] <strcat> rusti: enum foo { a, b, c }; let x = a; match x { d => 2 }
[03:00:20] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/hIJD
[03:00:34] <strcat> rusti: enum foo { a, b, c }; let x = a; match x { d => d }
[03:00:35] -rusti- a
[03:00:40] <strcat> rusti: enum foo { a, b, c }; let x = a; match x { a => a }
[03:00:41] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/hCJO
[03:00:57] <strcat> rusti: let x = a; match x { a => a }; enum foo { a, b, c }
[03:00:58] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/cIbb
[03:01:18] <strcat> oh well at least that isn't broken by changing order
[03:02:55] <strcat> yay
[03:02:59] <strcat> successful failure
[03:03:01] <strcat> make: *** No rule to make target `rt/x86_64-unknown-linux-gnu/jemalloc/libjemalloc_pic.a', needed by `rt/x86_64-unknown-linux-gnu/librustrt.so'.  Stop.
[03:03:03] <strcat> ;p
[03:03:23] <aatch> strcat, progress!
[03:04:33] *** Joins: catpigger (catpig@moz-5EA88CFE.dip0.t-ipconnect.de)
[03:05:09] <cmr> Alright, tests pass. Good night.
[03:05:14] <strcat> \o
[03:05:37] *** Quits: catpig (catpig@moz-2864D03.dip0.t-ipconnect.de) (Ping timeout)
[03:09:00] *** kimundi is now known as zz_kimundi
[03:14:39] * strcat hates makefiles
[03:15:35] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke. It's all a joke.)
[03:15:53] <strcat> hm
[03:17:49] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[03:24:52] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[03:26:43] *** Quits: mcomella (mcomella@moz-B10FF54F.ri.ri.cox.net) (Ping timeout)
[03:30:45] *** Quits: eternaleye (eternaleye@moz-76321711.hsd1.wa.comcast.net) (Ping timeout)
[03:32:13] *** Joins: jaguilar (james@moz-5182E345.hfc.comcastbusiness.net)
[03:32:21] *** Joins: eternaleye (eternaleye@moz-76321711.hsd1.wa.comcast.net)
[03:32:42] <jaguilar> Hey guys, is it appropriate to ask for language assistance on this channel?
[03:32:47] <strcat> yes
[03:33:33] <jaguilar> I'm trying to write a function for testing doubles in a unit test, and it's not working. I'm trying to understand why. I defined these traits:
[03:33:34] <jaguilar> trait Additive<RHS, Result>: Add<RHS, Result> + Sub<RHS, Result> {}
[03:33:34] <jaguilar> trait Num: Additive<Self, Self> + cmp::Ord + cmp::Eq + ToStr {}
[03:33:50] <jaguilar> And I defined these functions:
[03:33:56] <jaguilar> fn expect_near<T: Num>(l: T, r: T, dist: T) {
[03:33:56] <jaguilar>     if l - dist < r && l + dist > r {
[03:33:56] <jaguilar>         fail!(fmt!("expected near %s, found %s, off by more than %s", 
[03:33:56] <jaguilar>                    l.to_str(), r.to_str(), dist.to_str()));
[03:33:56] <jaguilar>     }
[03:33:56] <jaguilar> }
[03:33:56] <jaguilar> fn expect_near_enough<T: Num>(l: T, r: T) {
[03:33:56] <jaguilar>     expect_near(l, r, 0.000001);
[03:33:56] <jaguilar> }
[03:34:08] *** Quits: eternaleye (eternaleye@moz-76321711.hsd1.wa.comcast.net) (Ping timeout)
[03:34:12] <jaguilar> This unfortunately doesn't work, and the error is a little cryptic
[03:34:21] <jaguilar>                                              ^~~~~~~~~
[03:34:21] <jaguilar>                            ^~~~~~~~~~~
[03:34:25] <jaguilar> oh gosh
[03:34:32] <jaguilar> these lines have slashes in them
[03:34:34] <steveklabnik> usually gist/pastebin is easier with a bunch of code ;)
[03:34:34] <jaguilar> hold on a second
[03:34:50] <jaguilar> oh, that is totally true. ignore what i've said, i'll have a gist in a moment
[03:34:55] <jaguilar> have never asked for help on irc before
[03:35:00] <strcat> oh well it successfully links in jemalloc now and uses it
[03:35:00] <steveklabnik> it's all good!
[03:36:12] <jaguilar> Here is the gist
[03:36:13] <jaguilar> https://gist.github.com/anonymous/5610279
[03:36:22] <jaguilar> I don't really understand what the errors are trying to tell me
[03:36:32] <jaguilar> I expect that expect_near is being instantiated with float
[03:36:42] <jaguilar> and so it should be fine to pass a third float parameter to ti
[03:36:51] <jaguilar> I also tried making expect_near take two parameters
[03:37:18] <jaguilar> But then I got an error about how T wasn't Eq-able with U (which makes sense, the Eq in Num is defined for self only)
[03:37:36] <jaguilar> sorry if this is a noob question, i've just started with the langauge today, it's a bit different frmo c++
[03:37:46] <jaguilar> but i couldn't find anything when searching the error
[03:38:20] <steveklabnik> hmmmmm
[03:38:38] <strcat> jaguilar: it's because the literal is a specific type
[03:38:47] <strcat> you need a trait for converting from the literal
[03:38:51] <steveklabnik> ah
[03:38:54] <steveklabnik> that does make sense
[03:39:07] <jaguilar> is there a name for that trait?
[03:39:20] <jaguilar> oh
[03:39:25] <jaguilar> ill bet there is one in the float package
[03:39:27] <strcat> jaguilar: well, it depends on how generic you want this to be
[03:39:30] <strcat> literals aren't really generic
[03:39:44] <jaguilar> hmm. i'd be fine if it works on floating point numeric types only
[03:39:51] <strcat> you'd sadly have to use FromStr to make it work for arbitrary floating point types
[03:40:07] <strcat> well
[03:40:20] <strcat> jaguilar: the problem is that the literal has to be an f32 or f64
[03:40:34] <strcat> if converting from f32/f64 is fine, I think there's a trait in core::num
[03:41:06] <jaguilar> hmm . . . and I guess if I implemented a fixed-point type
[03:41:14] <jaguilar> if i made that convertible to a float
[03:41:17] <jaguilar> it could also work?
[03:41:31] <strcat> jaguilar: yeah if you impl the trait for converting from a float (I forget what it's called)
[03:41:36] <steveklabnik> when was the last snapshot?
[03:41:56] *** Joins: eternaleye (eternaleye@moz-76321711.hsd1.wa.comcast.net)
[03:42:03] <strcat> jaguilar: btw there's a trait in core::cmp for comparing with an epsilon
[03:42:05] <strcat> steveklabnik: too long ago :(
[03:42:09] <strcat> brson started working on one
[03:42:12] <steveklabnik> strcat: okay. getting a warning
[03:42:23] <steveklabnik> comment above says
[03:42:23] <steveklabnik> 213         // unsafe block can be removed after the next snapshot
[03:42:23] <steveklabnik> 214         // (next one after 2013-05-03)
[03:42:36] <steveklabnik> the warning is about the block
[03:42:38] <steveklabnik> so i guess i cant yet
[03:42:44] <steveklabnik> what is a 'snapshot' exactly?
[03:42:49] <aatch> steveklabnik, there will probably be one in like 1-2 days tops
[03:43:01] <strcat> steveklabnik: rust is a self-hosting compiler so it builds itself in 3 stages, like gcc
[03:43:06] * steveklabnik nods
[03:43:10] <strcat> steveklabnik: stage0 compiler is downloaded from the site
[03:43:15] <strcat> so that's the "snapshot"
[03:43:18] <steveklabnik> ahhh
[03:43:20] <steveklabnik> makes sense
[03:43:21] <steveklabnik> got it
[03:43:27] <strcat> so the entire codebase has to compile with the last snapshot
[03:43:33] <strcat> we have #[cfg(stage#)] for working around it
[03:43:41] <strcat> for a warning you probably just want to wait
[03:43:45] *** Parts: judder (maradukewa@CF01B517.FDE2B133.950D3BB5.IP) ()
[03:44:18] <strcat> steveklabnik: there's a whole chain of snapshots going back to when it was written in ocaml ;p
[03:45:26] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[03:45:26] <ghrust> 01[13rust01] 15bors merged 06auto into 06incoming: 02http://git.io/ZIDY-A
[03:45:26] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[03:47:25] <steveklabnik> makes 100% sense
[03:48:28] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[03:48:28] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/pIGeiw
[03:48:28] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[03:48:41] *** Quits: bbrittain (ben@moz-A7CDB794.dia.static.qwest.net) (Ping timeout)
[03:50:24] *** Quits: jaguilar (james@moz-5182E345.hfc.comcastbusiness.net) (Client exited)
[03:50:42] *** Quits: recrack (Mibbit@B4104EBB.3CC170B1.1E14B209.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[03:51:28] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[03:51:28] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/pIGeiw
[03:51:28] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[03:51:30] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[03:51:30] <ghrust> 01[13rust01] 15bors pushed 3 new commits to 06auto: 02http://git.io/MTCalw
[03:51:30] <ghrust> 13rust/06auto 14b1e8056 15Steve Klabnik: Add a better introduction for the io module....
[03:51:30] <ghrust> 13rust/06auto 1491d3e7f 15Steve Klabnik: Fix wording per feedback...
[03:51:31] <ghrust> 13rust/06auto 140b39bc2 15bors: auto merge of #6624 : steveklabnik/rust/io_prelude, r=catamorphism...
[03:51:33] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[03:53:10] *** Quits: Nisstyre (wes@moz-FD86289.netflash.net) (Quit: Leaving)
[03:58:52] *** Quits: rfw (rfw@moz-C65A114.rfw.name) (Input/output error)
[04:02:25] *** Joins: rfw (rfw@moz-C65A114.rfw.name)
[04:02:28] *** Quits: rfw (rfw@moz-C65A114.rfw.name) (Input/output error)
[04:02:37] *** Joins: rfw (rfw@moz-C65A114.rfw.name)
[04:02:42] * strcat crosses fingers
[04:03:28] *** Joins: bbrittain (ben@moz-A7CDB794.dia.static.qwest.net)
[04:04:56] <steveklabnik> me too
[04:05:01] <steveklabnik> almost done killing warnings
[04:05:10] <steveklabnik> if this build works i've almost got them all
[04:05:14] *** Quits: anshin (nbs@441B8B9E.2055B963.D2A6B5.IP) (Quit: Lost terminal)
[04:14:34] *** Joins: int3_ (int3_@moz-B7B5F043.singnet.com.sg)
[04:14:44] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[04:14:44] <ghrust> 01[13rust01] 15thestinger pushed 2 new commits to 06try: 02http://git.io/P6rzPw
[04:14:44] <ghrust> 13rust/06try 14a081eca 15Daniel Micay: add jemalloc to the runtime
[04:14:44] <ghrust> 13rust/06try 14485725e 15Daniel Micay: integrate jemalloc into the build
[04:14:44] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[04:14:52] <strcat> huh.
[04:15:20] <aatch> strcat, was that deliberate?
[04:15:23] <strcat> yes
[04:15:28] <strcat> I just thought it would take a force
[04:15:34] <aatch> Oh right.
[04:15:41] <strcat> apparently it was a fast-forward
[04:16:41] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[04:17:24] *** Joins: eholk (eholk@2E3B2CF7.9B7A168C.801F43C0.IP)
[04:19:31] *** Joins: brson (brson@E9CDE21E.991753BB.CA4D1600.IP)
[04:19:31] *** ChanServ sets mode: +o brson
[04:19:37] *** Joins: mr_wibble (Mibbit@35ECC068.B1171742.15F9CF1A.IP)
[04:20:06] *** Joins: DasIch (DasIch@moz-CB618802.dip0.t-ipconnect.de)
[04:20:47] <strcat> stupid buildbot >.<
[04:21:37] *** Quits: Earnestly (earnest@6A917A59.5E1FD793.39C00A7A.IP) (Ping timeout)
[04:22:57] *** Quits: int3_ (int3_@moz-B7B5F043.singnet.com.sg) (Client exited)
[04:23:08] <strcat> every time I refresh http://buildbot.rust-lang.org/console?refresh=15 there's a different list of commits...
[04:26:47] *** Quits: heftig (heftig@moz-A99044C3.dip0.t-ipconnect.de) (Ping timeout)
[04:27:29] *** Joins: heftig (heftig@moz-F9E37FC0.dip0.t-ipconnect.de)
[04:30:12] <strcat> brson: any idea how to force clean-llvm on the buildbot?
[04:30:33] <strcat> the try ones seem broken
[04:31:14] <aatch> Dammit, I remember there being a way...
[04:31:16] <strcat> make: *** No rule to make target `/c/bot/slave/try-win/build/src/llvm/tools/clang/test/Index/Inputs/get-cursor-includes-1.h/PowerPCTargetInfo.cpp', needed by `/c/bot/slave/try-win/build/obj/llvm/i686-pc-mingw32/Release+Asserts/bin/llvm-config.exe'.  Stop.
[04:31:34] <brson> strcat: under `force build` in 'property name 1' put 'clean-llvm' and in 'value', put '1'
[04:31:40] <strcat> ah
[04:32:05] <brson> it's not clear that this works correctly though
[04:32:17] <brson> it is worth trying
[04:32:54] *** Quits: acrichto (acrichto@moz-17CABEB0.wv.cc.cmu.edu) (Input/output error)
[04:35:36] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[04:35:36] <ghrust> 01[13rust01] 15thestinger 04force-pushed 06try from 14485725e to 1452dba25: 02http://git.io/k471pw
[04:35:36] <ghrust> 13rust/06try 1452dba25 15Daniel Micay: integrate jemalloc into the build
[04:35:36] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[04:36:30] *** Joins: acrichto (acrichto@moz-17CABEB0.wv.cc.cmu.edu)
[04:37:39] <steveklabnik> w00t
[04:37:40] <steveklabnik> https://github.com/mozilla/rust/pull/6632
[04:37:43] <bjz> brson: https://gist.github.com/bjz/803f8da3863a1ada10c1 ?
[04:37:53] *** Quits: eholk (eholk@2E3B2CF7.9B7A168C.801F43C0.IP) (Quit: eholk)
[04:38:19] <bjz> oh, it works if I use @fn
[04:42:06] *** Quits: catpigger (catpig@moz-5EA88CFE.dip0.t-ipconnect.de) (Quit: Verlassend)
[04:42:23] <strcat> oh well we'll see what happens with jemalloc on windows ;p
[04:42:28] <strcat> I'm sure the filename for the lib is wrong
[04:42:45] <strcat> not sure if there with be conflicting symbols too
[04:43:04] <strcat> it works on linux though afaict ;p
[04:43:15] * strcat will time it
[04:44:28] <strcat> huh, tidy is getting mad now ;\
[04:44:31] <strcat> wasn't before...
[04:48:03] *** Quits: brson (brson@E9CDE21E.991753BB.CA4D1600.IP) (Ping timeout)
[04:48:26] <bjz> curry! macro: https://gist.github.com/bjz/803f8da3863a1ada10c1
[04:48:29] <bjz> :)
[04:49:08] <z0w0> bjz: awesome
[04:49:40] <bjz> should put it in expand :)
[04:50:27] <bjz> z0w0: should I?
[04:50:41] <z0w0> i think so, i don't see anyone having an issue with it
[04:50:54] <z0w0> it's very useful
[04:50:56] <bjz> macros ftw
[04:52:23] *** Joins: brson (brson@E02A6CDD.75598729.B6A3AE99.IP)
[04:52:23] *** ChanServ sets mode: +o brson
[04:52:41] <aatch> uhhh, I'm getting `fork` returning an out-of-memory error...
[04:52:59] <strcat> aatch: on which OS?
[04:53:04] <aatch> linux
[04:53:12] <strcat> 32-bit?
[04:53:14] <aatch> compiling librustc
[04:53:17] <aatch> 64
[04:54:06] <strcat> aatch: what's set in /proc/sys/vm/overcommit_memory ?
[04:54:36] <aatch> 0...
[04:54:51] * strcat shrugs
[04:55:02] <aatch> Wait.. I don't think I set up swap
[04:55:24] <strcat> aatch: it still shouldn't be returning OOM
[04:55:54] <strcat> with the default overcommit setting of 0, malloc/fork/realloc only fail with ridiculously high numbers
[04:56:19] <bjz> pauls_ pauls: is there a way of escaping `+` in macros?
[04:56:44] <aatch> maybe it doesn't work the same if there isn't any swap space?
[04:56:57] <strcat> aatch: it doesn't matter if there's swap
[04:57:06] <bjz> pauls_ pauls: I would like to do: $($T:ty : $($T_constraint:ty)++),*
[04:57:26] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[04:57:26] <ghrust> 01[13rust01] 15bors merged 06auto into 06incoming: 02http://git.io/MTCalw
[04:57:26] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[04:57:52] <strcat> aatch: swap doesn't really help much, it just lets it swap out unused RES - it doesn't change how VM works
[04:58:02] <strcat> and fork() only uses VM
[04:58:03] <pauls_> bjz, oddly, you caught me just as I was looking at a computer with IRC for the first time in, like, 24 hours.
[04:58:11] *** cscottnet_away is now known as cscottnet
[04:58:15] <pauls_> To answer your question, sadly no.
[04:58:20] <bjz> pauls_: yay
[04:58:23] <bjz> pauls_: oh
[04:58:25] <bjz> :(
[04:58:29] *** Quits: RMF (RMF@moz-58DFF2D4.dsl.telepac.pt) (Quit: Textual IRC Client: www.textualapp.com)
[04:58:50] *** Joins: RMF (RMF@moz-58DFF2D4.dsl.telepac.pt)
[04:58:53] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[04:58:53] <ghrust> 01[13rust01] 15thestinger 04force-pushed 06try from 1452dba25 to 149828b8b: 02http://git.io/k471pw
[04:58:53] <ghrust> 13rust/06try 149828b8b 15Daniel Micay: integrate jemalloc into the build
[04:58:53] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[04:59:52] <bjz> pauls_: it would be nice if there was a `lifetime` and `tylist` thingy too
[05:00:24] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[05:00:24] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/6pWv1Q
[05:00:24] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[05:00:25] <bjz> pauls_: I want to be able to create generic curried functions
[05:00:41] <bjz> pauls_: but I need to define a param list
[05:00:54] <Luqman> so it wasn't my fault! immediate values + self by-value does not work it seems
[05:01:09] <bjz> pauls_: and of course, that requires lots of funky macroness
[05:01:15] <aatch> Luqman, yep, known issue
[05:01:27] <bjz> pauls_: with lifetimes, and optional type constraints
[05:02:02] <Luqman> aatch: but i think i've an idea of how to fix it
[05:02:11] <aatch> Luqman, orly?
[05:02:55] *** Quits: KindOne (KindOne@moz-7BBBE9B9.dynamic.ip.windstream.net) (Connection reset by peer)
[05:03:20] <aatch> strcat, I'm not sure what the issue was, but setting up a swap file did fix it.
[05:03:33] *** Joins: KindTwo (KindOne@moz-7BBBE9B9.dynamic.ip.windstream.net)
[05:04:45] *** KindTwo is now known as KindOne
[05:06:12] <strcat> error: internal compiler error: unexpected failure
[05:06:14] <strcat> ;\
[05:06:57] <strcat> so using jemalloc isn't going very well...
[05:07:05] *** cscottnet is now known as cscottnet_away
[05:07:17] *** Joins: recrack (Mibbit@B4104EBB.3CC170B1.1E14B209.IP)
[05:09:48] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[05:09:48] <ghrust> 01[13rust01] 15thestinger 04force-pushed 06try from 149828b8b to 144b06c20: 02http://git.io/k471pw
[05:09:48] <ghrust> 13rust/06try 144b06c20 15Daniel Micay: integrate jemalloc into the build
[05:09:48] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[05:11:13] *** Quits: seth (seth@moz-99690620.hinet-ip.hinet.net) (Input/output error)
[05:15:44] *** Quits: mr_wibble (Mibbit@35ECC068.B1171742.15F9CF1A.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[05:16:49] <steveklabnik> awesome, only three warnings left. one is due to needing a new snapshot
[05:17:23] <brson> i'm going to continue working on the snapshot now
[05:18:51] <Luqman> aatch: btw, was there an issue for immediate + self by-value?
[05:19:11] <aatch> Luqman, not sure, I think so
[05:19:15] <strcat> rusti: let xs = ~[1, 2, 3]; for xs.consume |_x| { }
[05:19:18] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/jfDZ
[05:19:28] <strcat> rusti: let xs = ~[1, 2, 3]; do xs.consume |_x| { }
[05:19:29] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/KDJX
[05:19:39] <strcat> rusti: let xs = ~[1, 2, 3]; do xs.consume |_i, _x| { }
[05:19:41] -rusti- /usr/local/bin/rust.sh: line 21:    13 Segmentation fault      (core dumped) ./foo
[05:20:04] <strcat> Luqman: ~self is broken too btw
[05:20:08] <strcat> not just self
[05:20:23] <strcat> I think there are a few issues
[05:20:27] *** Quits: BitPuffin (quassel@moz-8370D1B9.bredband.comhem.se) (Client exited)
[05:23:15] *** Joins: alisdair (textual@moz-EBE9F394.bchsia.telus.net)
[05:23:35] <Luqman> strcat: yea, i just ran into the self thing while trying to make rustc treat (scalar) newtypes as immediates
[05:25:30] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[05:29:01] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[05:29:01] <ghrust> 01[13rust01] 15thestinger 04force-pushed 06try from 144b06c20 to 14a54cb30: 02http://git.io/k471pw
[05:29:01] <ghrust> 13rust/06try 14cae24bd 15Daniel Micay: add jemalloc to the runtime
[05:29:01] <ghrust> 13rust/06try 14a54cb30 15Daniel Micay: integrate jemalloc into the build
[05:29:01] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[05:31:59] <strcat> I don't understand why there's an ICE...
[05:32:22] <strcat> happens when doing LD_PRELOAD with either jemalloc/tcmalloc too :|
[05:36:12] <Luqman> one step forward! it doesn't fail anymore as long as you don't actually use self :)
[05:37:47] <strcat> and now it gets to libstd.... time to ICE
[05:40:08] <strcat> rust: task failed at 'failure in fork: Cannot allocate memory', /home/strcat/projects/rust/src/libcore/run.rs:382
[05:40:10] <strcat> aatch: :(
[05:40:17] <strcat> ok so I know why it's failing
[05:40:18] <aatch> strcat, that is exactly what I got
[05:40:31] <strcat> it's from running out of RES
[05:40:41] <aatch> It's the fork, right?
[05:40:43] <strcat> I'm building in a container with 3GiB of memory
[05:40:54] <strcat> aatch: it's because jemalloc is zeroing memory
[05:40:58] <strcat> it's a debug feature
[05:41:04] <aatch> strcat, but I'm not using jemalloc
[05:41:05] <strcat> s/zeroing/marking it with a weird pattern/
[05:41:12] <strcat> aatch: yeah I know
[05:41:22] <strcat> it's just funny that I'm hitting the same failure for a different reason
[05:41:47] <strcat> brson: where should I put code that runs mallctl at startup?
[05:42:07] <strcat> brson: need to turn off jemalloc's fill feature and turn on the leak check
[05:42:23] <strcat> technically I could just disable fill with configure.... but it seems like someone might want it
[05:43:42] <strcat> note: /home/rustbuild/src/rust-buildbot/slave/try-linux/build/obj/x86_64-unknown-linux-gnu/stage0/lib/rustc/x86_64-unknown-linux-gnu/lib/librustrt.so: undefined reference to `pthread_atfork'
[05:43:43] <strcat> wtf.
[05:43:53] <aatch> ??
[05:44:10] <strcat> make: *** No rule to make target `/c/bot/slave/try-win/build/src/llvm/tools/clang/test/Index/Inputs/get-cursor-includes-1.h/PowerPCTargetInfo.cpp', needed by `/c/bot/slave/try-win/build/obj/llvm/i686-pc-mingw32/Release+Asserts/bin/llvm-config.exe'.  Stop.
[05:44:13] <strcat> ahhhh
[05:44:13] <bjz> strcat: do you know how I might get this to work? https://gist.github.com/bjz/d7c90a39562bc054c28e
[05:44:15] <strcat> they all failed for different reasons
[05:44:17] <strcat> :(
[05:44:23] <aatch> fun times
[05:44:30] <brson> str: let me look one sec
[05:44:50] *** Joins: Nisstyre (wes@moz-FD86289.netflash.net)
[05:45:04] <strcat> bjz: Some(&x) won't work, need either let x = 5; assert_eq!(Some(&x), ...) or .unwrap() the other side
[05:45:15] <strcat> it's not smart enough to deal with rvalues like that
[05:45:50] <bjz> :(
[05:46:24] <brson> strcat: I would put an `init` function in `rt::global_heap`. still figuring out best place to call it
[05:47:19] <brson> strcat: what happens if mallctl isn't called?
[05:47:30] <brson> strcat: can mallctl be called twice
[05:47:35] <bjz> assert_eq! is unsafe?
[05:47:38] <strcat> brson: yes calling it twice is fine afaik
[05:48:01] <brson> strcat: please put that on the description of the `init` function
[05:48:41] <brson> `unstable::lang::start` should probably do this first thing, and same for `rt::start`.
[05:49:06] <bjz> I oh wait, rust isn't looking for unsafe methods
[05:49:13] <bjz> that's worrying
[05:49:19] <strcat> brson: I just need it to enable 
[05:49:21] <strcat> "opt.prof_leak" (bool) r- [--enable-prof]
[05:49:24] <strcat>     Leak reporting enabled/disabled.
[05:49:26] <strcat> so I can remove that atomic counter
[05:49:37] <brson> strcat: rt::init not start
[05:49:42] <strcat> brson: ah
[05:49:44] <brson> strcat: does it have to be done before allocating anything?
[05:49:52] <indutny> cmr: pong
[05:49:52] <strcat> brson: not sure, let me play around in C
[05:49:58] <indutny> just woke up
[05:50:09] *** Quits: engla_ (engla@moz-DBD1D96E.cust.bredbandsbolaget.se) (Ping timeout)
[05:50:26] <indutny> what's up?
[05:54:52] <Luqman> aatch: i think i got it working :D
[05:55:02] *** Joins: dbaupp (Thunderbir@moz-856B3C14.lns20.syd6.internode.on.net)
[05:55:03] <aatch> Luqman, which bit?
[05:55:32] <Luqman> hopefully both!
[05:55:36] <aatch> lol
[05:56:03] <aatch> got a link? (I'm curious to see how you solved it, as I've been thinking about it for a while)
[05:56:24] <Luqman> sure, one sec
[05:56:36] *** Joins: ercax (ercan@moz-D4CF4859.dyn.optonline.net)
[05:57:59] <Luqman> aatch: https://github.com/luqmana/rust/commit/20560bf727058cdb3709633eae343a668e1a02ca
[05:58:06] <Luqman> needs a bit of cleanup
[05:58:29] *** Joins: snowmantw (snowmantw@FFCFFDEA.8C45500A.72F82BF1.IP)
[05:58:57] *** Quits: snowmantw (snowmantw@FFCFFDEA.8C45500A.72F82BF1.IP) (Quit: snowmantw)
[06:00:28] <aatch> Luqman, looks cool
[06:00:39] <Luqman> aatch: nooo :( fails somewhere in libstd
[06:01:05] <dbaupp> Luqman: I was literally just having a look at fixing that, haha
[06:01:14] <dbaupp> looks good, but why only unnamed fields for structs?
[06:01:50] <Luqman> dbaupp: a struct with 1 unnamed field is a newtype struct
[06:02:23] <dbaupp> Luqman: yup, but there's no particular reason to not make `struct F { i: int }` fast too?
[06:03:05] <Luqman> i suppose
[06:03:20] <Luqman> but adjusting that bit shouldn't be too bad once i get over this stumbling block
[06:05:25] <dbaupp> (also, enum A { A, B, C } could be immediate too)
[06:05:36] <dbaupp> Luqman: good luck :)
[06:06:13] <strcat> brson: ah their leak checking only works with the debugging/profiling stuff enabled anyway :(
[06:08:02] *** Quits: KindOne (KindOne@moz-7BBBE9B9.dynamic.ip.windstream.net) (Ping timeout)
[06:08:59] *** Quits: ILyoan (ILyoan@B4104EBB.3CC170B1.1E14B209.IP) (Ping timeout)
[06:10:59] <Luqman> hmmm, is there any way to know if a ValueRef is a pointer?
[06:12:15] *** Joins: pyrac (pyrac@moz-C70D038B.w109-214.abo.wanadoo.fr)
[06:12:25] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[06:12:25] <ghrust> 01[13rust01] 15bors merged 06auto into 06incoming: 02http://git.io/3dwitQ
[06:12:25] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[06:13:05] *** Quits: ercax (ercan@moz-D4CF4859.dyn.optonline.net) (Quit: WeeChat 0.4.0)
[06:13:13] *** Joins: jaen (jaen@B361617C.6A94545C.43DC2829.IP)
[06:15:06] <dbaupp> Luqman: there's a comment in the top of trans/base
[06:15:22] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[06:15:23] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/Veg1fw
[06:15:23] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[06:15:24] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[06:15:24] <ghrust> 01[13rust01] 15bors pushed 3 new commits to 06auto: 02http://git.io/nl8IGQ
[06:15:24] <ghrust> 13rust/06auto 141065a92 15Steve Klabnik: Elaborate a bit in the Reader docs regarding stream position....
[06:15:24] <ghrust> 13rust/06auto 14dcc2879 15Steve Klabnik: Add a few 'function's....
[06:15:24] <ghrust> 13rust/06auto 14d019e14 15bors: auto merge of #6621 : steveklabnik/rust/expand_reader_docs, r=thestinger...
[06:15:25] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[06:15:59] <dbaupp> Luqman: and it suggests that trans::common::val_ty is the thing to use
[06:18:34] <dbaupp> Luqman: and then digging around a bit more, `lib::llvm::LLVMGetTypeKind(val_ty(val_ref)) == lib::llvm::Pointer` might work
[06:20:53] <Luqman> dbaupp: thanks!
[06:21:41] *** Joins: seth (seth@moz-99690620.hinet-ip.hinet.net)
[06:21:45] <brson> strcat: are we going to have an option to turn on this stuff at compile time?
[06:22:20] <strcat> brson: we could, yeah - but first I need to figure out why it doesn't work at all ;p
[06:23:36] *** Quits: fread2281 (zcarterc@moz-CB181B42.dia.static.qwest.net) (Ping timeout)
[06:23:51] *** Joins: fread2281 (zcarterc@moz-CB181B42.dia.static.qwest.net)
[06:23:55] *** Joins: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca)
[06:24:21] *** Quits: seth (seth@moz-99690620.hinet-ip.hinet.net) (Ping timeout)
[06:26:28] <strcat> aatch: where were you hitting that fork error?
[06:27:03] <aatch> strcat, not sure exactly where. Close to the end though.
[06:27:16] <strcat> not libstd in stage1?
[06:27:29] <aatch> strcat, nope, stage1 librustc
[06:27:44] <aatch> I'm thinking it might be when it calls the linker
[06:28:08] <strcat> yep
[06:28:12] <strcat> that's where it's dying for me
[06:28:23] <strcat> with 12GiB of memory.
[06:29:17] <aatch> Would fork() cause a copy of all the memory?
[06:29:30] <strcat> yes but it's supposed to be copy-on-write
[06:31:42] <Luqman> dbaupp: got past stage1 libcore & libstd now :D
[06:31:51] <dbaupp> Luqman: :D
[06:32:03] <bjz> curry! https://github.com/mozilla/rust/pull/6634
[06:32:49] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Client exited)
[06:33:19] <dbaupp> bjz: nice! does it work at the top level?
[06:33:26] <bjz> yep
[06:33:53] <bjz> that's why there's a fn version
[06:34:07] <dbaupp> cool, I just wasn't sure :)
[06:34:20] <bjz> :)
[06:35:03] <pyrac> hi all. I have a PR that failed merge (conflicting changes) should I resubmit a new one after rebase?https://github.com/mozilla/rust/pull/6622 my solution does not work :(
[06:35:32] *** Joins: KindOne (KindOne@moz-7BBBE9B9.dynamic.ip.windstream.net)
[06:35:43] <bjz> pyrac: just rebase on the original PR
[06:36:16] <bjz> pyrac: it will upate the PR, but the comments on the last commit will probably disappear
[06:36:20] <dbaupp> pyrac: there's not (too much) of a problem just squashing and rebasing within a PR
[06:36:45] <strcat> a pull request tracks a branch, you can force push whatever you want to it
[06:36:53] <bjz> pyrac: you can also just puch a new commit to the branch, and the commit will update
[06:36:59] <pyrac> biz, dbaupp: the pr is now including others commits
[06:37:18] <pyrac> git does not like me for sure
[06:37:39] <strcat> how did you rebase it?
[06:38:12] *** aatch is now known as aatch|work
[06:38:14] <pyrac> strcat: on my local branch I did git rebase upstream/incoming  
[06:38:30] <strcat> it looks like you pulled onto it
[06:38:58] <pyrac> strcat: I had to to send the merge on github...
[06:39:10] <strcat> hm?
[06:39:12] <dbaupp> hm, it might be better to make a new branch locally (starting at incoming) and fix everything up, and then either make a new pull request, or checkout arc and `git reset --hard <newbranchname>` to make the arc branch point to the fixed up branch
[06:39:14] <strcat> shouldn't have been a merge
[06:39:16] <bjz> brson: r? https://github.com/mozilla/rust/pull/6634
[06:39:21] <dbaupp> pyrac: you can "force push"
[06:39:52] <dbaupp> pyrac: which will avoid the "non-fast forward, rejected" message (was that the error?)
[06:40:10] <pyrac> dbaupp: yes it was the error
[06:40:11] <dbaupp> pyrac: e.g. git push -f origin arc
[06:40:35] <dbaupp> (this completely overwrites the remote branch with what you are pushing to it.)
[06:41:28] <dbaupp> wooo, new snapshot! thanks brson
[06:41:49] <pyrac> ok, thanks. This time I will resubmit a new one with the additional changes suggested by brson
[06:41:59] *** Quits: blitter (blitter@moz-7C98731E.dyn.centurytel.net) (Quit: Leaving)
[06:42:38] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Client exited)
[06:42:43] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[06:43:47] <strcat> rust uses such a ridiculous amount of memory ;p
[06:47:18] <Luqman> bah, outputting to stdout is such a bottleneck :(
[06:48:15] <strcat> Luqman: rust's io is currently really slow ;p
[06:48:33] <Luqman> i've noticed :P
[06:49:23] <Luqman> 17 mins (and counting) building libsyntax because of all the debug output
[06:49:57] <dbaupp> strcat: did you see https://github.com/mozilla/rust/pull/6616 ?
[06:50:02] *** Joins: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[06:50:12] <strcat> dbaupp: yes
[06:50:25] <dbaupp> ok, good, just checking :)
[06:54:19] <brson> bjz: I'm not going to review that tonight because I need to go to bed
[06:54:27] <bjz> brson: np
[06:54:34] <bjz> brson: night!
[06:59:42] <strcat> incoming really uses a lot more memory than it used to ;\
[07:00:09] <strcat> at least if stage0 vs stage1 RES usage is something valid to compare
[07:00:33] *** Quits: steveklabnik (steve@moz-5EF6C37C.socal.res.rr.com) (Ping timeout)
[07:00:50] *** Joins: thomaslee (thomaslee@moz-306D3DF4.hsd1.or.comcast.net)
[07:00:54] <strcat> something is seriously wrong :(
[07:01:01] <strcat> 2400MiB peak RES usage
[07:01:04] <strcat> compiling librustc
[07:01:21] <strcat> testing stage0 again
[07:01:27] *** Quits: brson (brson@E02A6CDD.75598729.B6A3AE99.IP) (Quit: leaving)
[07:01:28] *** Quits: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Quit: lkuper)
[07:02:09] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Client exited)
[07:02:29] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[07:04:16] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[07:05:19] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[07:07:03] <benh> hm
[07:07:08] *** Quits: alisdair (textual@moz-EBE9F394.bchsia.telus.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[07:07:22] *** Quits: bbrittain (ben@moz-A7CDB794.dia.static.qwest.net) (Client exited)
[07:07:23] <benh> is it intentional that you can say return inside a for-loop block but not a `do` block?
[07:07:54] <dbaupp> benh: yes, because (e.g.) `do task::spawn { return 1; }` isn't sensible
[07:08:53] <benh> so the idea is that generally a for-loop block is immediately called but `do` blocks are kept for later use/use elsewhere?
[07:10:37] <dbaupp> `do f |..| {}` is just plain sugar for `f(|..| {})`
[07:10:56] <dbaupp> while for has the implicit "immediately loop" convention
[07:12:01] <dbaupp> benh: e.g. `do (Option<t>).map |x| { x + 1 }` is quite common
[07:12:12] <benh> it seems like task spawning is pretty much the one time where you don't want return to work
[07:12:29] <benh> from hastily scrolling through grep ' do '
[07:13:50] *** Joins: seth (seth@moz-99690620.hinet-ip.hinet.net)
[07:14:19] <benh> Thanks for spelling it out for me, I didn't think all the 'protocol' magic was specific to `for`
[07:14:24] <strcat> alright
[07:14:32] <strcat> so we regressed from ~1800MiB peak to 2500MiB
[07:15:24] <dbaupp> strcat: wow... bisecting this will take a while
[07:15:39] <strcat> yeah but...
[07:15:45] <strcat> it's probably not a single regression :(
[07:16:05] <dbaupp> hm, yeah
[07:16:09] *** Joins: victorporof (victorporo@10AA7997.880C8D58.79933D60.IP)
[07:16:23] <dbaupp> do you know when the 1800 was?
[07:16:31] <benh> I was browsing the rust-dev archives recently and in the dawn of time, someone apparently uttered "Rustc still takes ~5 minutes to build;[C we want down to a few seconds or tens of seconds."
[07:16:38] *** Quits: jaen (jaen@B361617C.6A94545C.43DC2829.IP) (Ping timeout)
[07:16:49] <benh> (well they didn't say the line noise there sorry about that)
[07:17:17] <benh> strcat: how do you measure peak memory usage?
[07:17:25] <dbaupp> benh: 20 minutes is only 120 tens of seconds, so it's fine ;P
[07:18:07] <benh> I must be doing it wrong because it consistently takes over an hour here :(
[07:18:23] <strcat> takes me 4 mins for each stage
[07:18:34] <dbaupp> benh: how much ram do you have?
[07:18:35] <strcat> benh: you need 2500MiB of free memory to compile it without swapping now ;\
[07:18:38] <strcat> so...
[07:18:45] <benh> I have 8 GiB!
[07:18:58] <benh> (to be clear, I don't want to complain, I'm just surprised my setup is that, well, not competitive)
[07:19:53] <dbaupp> oh.. is it a laptop?
[07:19:57] <benh> yes
[07:20:30] <dbaupp> do you know which processor?
[07:20:32] <strcat> benh: well I'm just looking at the cgroup's memory.usage_in_bytes
[07:20:41] <benh> "i7-2820QM CPU", and according to /proc/cpuinfo the cores seem to scale up to ~3.3GHz
[07:21:13] <benh> Maybe I'm having issues with heat flow and it scales down again when I'm not looking
[07:22:27] <dbaupp> benh: well, i'm on i7-3517
[07:22:35] <dbaupp> which, on paper, looks slower http://ark.intel.com/compare/65714,52227
[07:22:52] <benh> or maybe i set a wrong flag somewhere... i really should switch to an OS where i don't get to build the kernel manually
[07:23:50] <dbaupp> have you got all the sse's turned on?
[07:24:25] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[07:24:25] <ghrust> 01[13rust01] 15bors merged 06auto into 06incoming: 02http://git.io/nl8IGQ
[07:24:25] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[07:24:30] <dbaupp> but yeah, I guess a misconfigure kernel would explain it
[07:25:11] <dbaupp> *misconfigured
[07:25:12] <benh> It seemed like a fun exercise to do it manually back in high school and I kinda got used to the system :(
[07:27:27] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[07:27:27] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/Lf8SXw
[07:27:27] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[07:27:29] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[07:27:29] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/tqHnBA
[07:27:29] <ghrust> 13rust/06auto 14dc57d15 15Steve Klabnik: Remove more warnings....
[07:27:29] <ghrust> 13rust/06auto 14ea06407 15bors: auto merge of #6629 : steveklabnik/rust/remove_uvio_warnings, r=catamorphism...
[07:27:29] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[07:27:50] *** Joins: jensnockert (jensnocker@moz-952CD207.ab.sol.lu.se)
[07:29:42] *** Quits: seth (seth@moz-99690620.hinet-ip.hinet.net) (Input/output error)
[07:29:55] *** Joins: doomlord (doomlod@moz-1035DA3D.range86-135.btcentralplus.com)
[07:30:14] *** Joins: steveklabnik (steve@moz-5EF6C37C.socal.res.rr.com)
[07:32:28] *** Joins: ILyoan (ILyoan@B4104EBB.3CC170B1.1E14B209.IP)
[07:34:16] *** Joins: jviereck (Adium@moz-25A97802.hsi4.kabel-badenwuerttemberg.de)
[07:34:53] <doomlord> test
[07:36:01] *** Quits: steveklabnik (steve@moz-5EF6C37C.socal.res.rr.com) (Ping timeout)
[07:38:43] *** Joins: seth (seth@moz-99690620.hinet-ip.hinet.net)
[07:41:57] *** Quits: seth (seth@moz-99690620.hinet-ip.hinet.net) (Input/output error)
[07:43:12] *** Joins: seth (seth@moz-99690620.hinet-ip.hinet.net)
[07:44:52] <Luqman> note to self, next time remove the debug lines before doing a build
[07:46:17] *** Joins: CanhTak (Mibbit@moz-ED64F631.rev.sfr.net)
[07:47:07] *** Quits: devbug (quassel@moz-E1DE087C.bchsia.telus.net) (Ping timeout)
[07:50:39] *** Quits: seth (seth@moz-99690620.hinet-ip.hinet.net) (Input/output error)
[07:54:56] *** Joins: Blub\w (wry@7E3BB9D.71150E1A.237AE2BA.IP)
[07:56:40] *** Joins: seth (seth@moz-99690620.hinet-ip.hinet.net)
[07:57:09] *** Quits: CanhTak (Mibbit@moz-ED64F631.rev.sfr.net) (Quit: http://www.mibbit.com ajax IRC Client)
[07:58:37] *** Quits: cyndis (cyndis@moz-FA10A1CD.fi) (Ping timeout)
[08:01:22] *** Joins: doomlord_ (walter@moz-1035DA3D.range86-135.btcentralplus.com)
[08:01:47] <doomlord_> test
[08:02:34] <doomlord> test (sorry i'm trying to get my irssi setup working..)
[08:04:41] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[08:06:15] *** Quits: Jeaye (Jeaye@moz-FD505E54.hsd1.ca.comcast.net) (Quit: Don't tell them I was here...)
[08:06:45] *** Joins: SimonSapin (simon@moz-99690620.hinet-ip.hinet.net)
[08:11:28] *** Joins: donri (dag@moz-9BB61102.tbcn.telia.com)
[08:11:44] *** Quits: seth (seth@moz-99690620.hinet-ip.hinet.net) (Input/output error)
[08:13:40] *** Joins: berak (chatzilla@D6FED95D.8B38C502.16E13E53.IP)
[08:15:12] *** Quits: jessicah (jessicah@moz-B8A3AE25.massey.ac.nz) (Ping timeout)
[08:15:37] <doomlord_> test again
[08:17:07] *** Quits: robarnold (rob@moz-59F6B5.hfc.comcastbusiness.net) (Ping timeout)
[08:17:56] *** Joins: jessicah (jessicah@moz-B8A3AE25.massey.ac.nz)
[08:18:34] *** Joins: robertknight (robertknig@moz-54528EE0.wby.mendeley.com)
[08:22:26] *** Joins: devbug (quassel@moz-E1DE087C.bchsia.telus.net)
[08:24:13] *** Quits: doomlord_ (walter@moz-1035DA3D.range86-135.btcentralplus.com) (Quit: Changing server)
[08:33:18] *** Quits: jviereck (Adium@moz-25A97802.hsi4.kabel-badenwuerttemberg.de) (Quit: Leaving.)
[08:35:42] *** Quits: sonwow (sonwow@5AB4884B.FCC4549.14D5B978.IP) (Quit: leaving)
[08:36:24] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[08:36:24] <ghrust> 01[13rust01] 15bors merged 06auto into 06incoming: 02http://git.io/tqHnBA
[08:36:24] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[08:36:41] *** Joins: wilsonk-laptop (kvirc@moz-39EFBFC2.cg.shawcable.net)
[08:37:13] *** Quits: wilsonk|2 (kvirc@moz-39EFBFC2.cg.shawcable.net) (Ping timeout)
[08:38:28] *** Joins: CarpNet (ac@moz-FD24B77.sohonet.co.uk)
[08:39:24] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[08:39:24] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/yypBcg
[08:39:24] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[08:39:28] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[08:39:28] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/SEeE1A
[08:39:28] <ghrust> 13rust/06auto 14d3f70b1 15Steve Klabnik: Fix many warnings.
[08:39:28] <ghrust> 13rust/06auto 14ab46a38 15bors: auto merge of #6632 : steveklabnik/rust/remove_more_warnings, r=thestinger...
[08:39:28] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[08:44:28] *** Quits: Blub\w (wry@7E3BB9D.71150E1A.237AE2BA.IP) (Quit: WeeChat 0.4.0)
[08:46:21] *** Joins: seth (seth@moz-99690620.hinet-ip.hinet.net)
[08:46:38] *** Joins: webber46 (webber46@moz-AC14FDEA.se)
[08:48:23] *** Quits: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca) (Ping timeout)
[08:51:17] *** Quits: victorporof (victorporo@10AA7997.880C8D58.79933D60.IP) (Quit: victorporof)
[08:53:54] <dbaupp> Luqman: you fixed by-val self!
[09:01:34] *** Joins: tiffany (kawaii@moz-1E0FE6E8.dhcp.embarqhsd.net)
[09:04:47] *** Joins: davbo (dave@moz-3FFA637C.oucs.ox.ac.uk)
[09:06:10] *** Quits: jensnockert (jensnocker@moz-952CD207.ab.sol.lu.se) (Input/output error)
[09:18:28] <Luqman> dbaupp: well, hopefully :P
[09:20:38] *** Joins: lucian (lucian@moz-D82F7974.zone16.bethere.co.uk)
[09:21:58] *** Joins: lucian_ (lucian@6B2B4644.4304AE1E.CE5E78F6.IP)
[09:23:13] *** Quits: lucian (lucian@moz-D82F7974.zone16.bethere.co.uk) (Ping timeout)
[09:24:10] *** Quits: recrack (Mibbit@B4104EBB.3CC170B1.1E14B209.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[09:29:36] *** Joins: spider-mario (spidermari@moz-2BC095A6.rev.sfr.net)
[09:35:54] *** Joins: rapha (Mibbit@730DAE49.BF91A228.DF793B8F.IP)
[09:39:02] <strcat> rusti: 5
[09:39:06] -rusti- 5
[09:39:08] <strcat> rusti: 5
[09:39:09] -rusti- 5
[09:44:24] *** Quits: berak (chatzilla@D6FED95D.8B38C502.16E13E53.IP) (Quit: .. too much fighting on the dancefloor ..)
[09:45:25] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[09:45:25] <ghrust> 01[13rust01] 15bors merged 06auto into 06incoming: 02http://git.io/SEeE1A
[09:45:25] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[09:48:21] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[09:48:21] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/uDMGxg
[09:48:21] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[09:48:23] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[09:48:23] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/eFAlGQ
[09:48:23] <ghrust> 13rust/06auto 1466319b0 15Brian Anderson: Register snapshots
[09:48:23] <ghrust> 13rust/06auto 142e6cda2 15bors: auto merge of #6635 : brson/rust/snapshot, r=brson
[09:48:23] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[10:01:42] *** Joins: tgt (tgt@moz-D59EE478.aztw.cable.virginmedia.com)
[10:05:18] *** Quits: webber46 (webber46@moz-AC14FDEA.se) (Ping timeout)
[10:09:24] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[10:09:25] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[10:09:51] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[10:12:28] *** Joins: webber46 (webber46@9807E60E.9A23EB1D.30D34958.IP)
[10:18:47] *** Quits: pauls (pauls@moz-BFEF1F22.ccs.neu.edu) (Ping timeout)
[10:19:48] *** Quits: Benvie (brandon@5FD20F9A.53D07D95.EFF8B7BF.IP) (Quit: )
[10:23:14] *** Quits: devbug (quassel@moz-E1DE087C.bchsia.telus.net) (Client exited)
[10:23:53] *** Joins: pauls (pauls@moz-BFEF1F22.ccs.neu.edu)
[10:29:06] <cmr> indutny: in linearscan.rs you can have mod linearscan { mod flatten; mod liveness; ...} instead of the mess of #[path]
[10:31:36] *** Joins: Axord (xord@moz-C3CCF156.lsanca.dsl-w.verizon.net)
[10:32:04] <cmr> dbaupp: ouch. huge spike on mac totally killed the scaling on compiletime :(
[10:36:04] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[10:37:31] *** Quits: tav (tav@moz-B2B8B585.zone7.bethere.co.uk) (Quit: tav)
[10:40:24] <strcat> ha
[10:40:31] <strcat> valgrind is not fun with sandboxed things
[10:41:12] <indutny> cmr: ah, yeah
[10:41:48] <indutny> I know, but that'll put them into linearscan::linearscan:: namespace
[10:41:57] <indutny> isn't it?
[10:41:57] *** Quits: Axord (xord@moz-C3CCF156.lsanca.dsl-w.verizon.net) (Quit: I'm sure it's perfectly safe)
[10:42:43] <cmr> well you can pub use linearscan::*, which avoids that
[10:42:51] *** Joins: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP)
[10:42:52] <cmr> strcat: did you figure out why try-linux failed?
[10:43:02] <strcat> cmr: no I gave up on that for the moment
[10:43:17] <dbaupp> cmr: yup... should I force the limits to be lower?
[10:45:11] *** Quits: jgilbert (jgilbert@moz-99690620.hinet-ip.hinet.net) (Ping timeout)
[10:45:48] <cmr> dbaupp: I don't know what that means
[10:46:10] <dbaupp> cmr: put a hard limit on the maximum, so that the scaling is better
[10:46:14] <cmr> ah
[10:46:21] <cmr> that'd probably be useful
[10:47:24] *** Joins: doomlord_ (walter@moz-1035DA3D.range86-135.btcentralplus.com)
[10:48:05] <cmr> strcat: fwiw it builds just fine here.
[10:51:28] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[10:54:12] *** zz_kimundi is now known as kimundi
[10:54:23] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[10:54:23] <ghrust> 01[13rust01] 15bors merged 06auto into 06incoming: 02http://git.io/eFAlGQ
[10:54:23] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[10:55:16] *** Quits: seth (seth@moz-99690620.hinet-ip.hinet.net) (Input/output error)
[10:55:36] *** Joins: Earnestly (earnest@6A917A59.5E1FD793.39C00A7A.IP)
[10:57:12] *** Quits: SimonSapin (simon@moz-99690620.hinet-ip.hinet.net) (Quit: Leaving.)
[11:02:05] *** Joins: haard (fredrik@moz-6A86987C.dynamic.se.alltele.net)
[11:02:20] *** Joins: EXetoC (ex@moz-2DBEB1E4.customer.t3.se)
[11:07:39] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[11:13:08] <doomlord> test
[11:15:39] *** Parts: doomlord (doomlod@moz-1035DA3D.range86-135.btcentralplus.com) (Leaving)
[11:16:28] *** Joins: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se)
[11:21:17] <strcat> ugh, why must seccomp use varargs
[11:21:38] <strcat> or at least, not provide va_list ;p
[11:24:35] *** Joins: FrozenCow (FrozenCow@moz-9DF5D010.dynamic.upc.nl)
[11:25:19] *** Joins: victorporof (victorporo@10AA7997.880C8D58.79933D60.IP)
[11:26:40] *** Joins: judder (maradukewa@CF01B517.FDE2B133.950D3BB5.IP)
[11:29:32] *** Quits: tgt (tgt@moz-D59EE478.aztw.cable.virginmedia.com) (Quit: Computer has gone to sleep.)
[11:31:05] <cmr> Why isn't there an implementation of Reader for ~Reader :\
[11:32:45] <dbaupp> cmr: using anything other than @Reader is almost impossible at the moment :(
[11:33:49] <cmr> dbaupp: why, though?
[11:34:44] <dbaupp> Mostly history, I think, from before I was doing rust things
[11:37:14] *** Quits: webber46 (webber46@9807E60E.9A23EB1D.30D34958.IP) (Quit: webber46)
[11:39:36] *** Joins: tgt (tgt@moz-D59EE478.aztw.cable.virginmedia.com)
[11:40:39] *** Parts: z0w0 (zack@moz-780F7535.lns9.cha.bigpond.net.au) ()
[11:41:57] *** Quits: victorporof (victorporo@10AA7997.880C8D58.79933D60.IP) (Ping timeout)
[11:44:23] *** Joins: victorporof (victorporo@5FA8A699.67B94DB5.4A6B528C.IP)
[11:47:33] *** Quits: ysuzuki (ysuzuki@moz-A563888C.ics.keio.ac.jp) (Client exited)
[11:47:51] *** Joins: cdidd (cdidd@moz-3CEA6E88.broadband.corbina.ru)
[11:48:50] *** Quits: FrozenCow (FrozenCow@moz-9DF5D010.dynamic.upc.nl) (Client exited)
[11:50:19] *** Joins: FrozenCow (FrozenCow@moz-9DF5D010.dynamic.upc.nl)
[11:51:20] *** Quits: cdidd (cdidd@moz-3CEA6E88.broadband.corbina.ru) (Input/output error)
[11:51:20] *** Joins: novabyte (Instantbir@moz-3E0F9699.cable.virginmedia.com)
[11:52:08] *** Quits: tgt (tgt@moz-D59EE478.aztw.cable.virginmedia.com) (Quit: Computer has gone to sleep.)
[11:54:57] *** Joins: disjukr_ (disjukr@D4D5F731.A5F7C7E2.84F431B6.IP)
[11:55:28] *** Quits: disjukr (disjukr@D4D5F731.A5F7C7E2.84F431B6.IP) (Ping timeout)
[11:56:40] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[12:00:56] <cmr> strcat: jemalloc even passes all tests locally. I think the buildbot is messed
[12:02:04] *** Joins: webber46 (webber46@moz-AC14FDEA.se)
[12:02:36] *** Quits: robertknight (robertknig@moz-54528EE0.wby.mendeley.com) (Quit: Computer has gone to sleep.)
[12:05:39] *** Joins: cdidd (cdidd@moz-A88A5259.broadband.corbina.ru)
[12:06:38] *** Joins: berak (chatzilla@DE08FCFA.8B38C502.16E13E53.IP)
[12:08:00] <tiffany> does rust allow non-alphanumeric identifiers?
[12:08:45] <dbaupp> rusti: let Ã¤Ã¶Ã¥ = 1; Ã¤Ã¶Ã¥
[12:08:46] -rusti- 1
[12:08:55] <dbaupp> it allows unicode ones
[12:09:30] <strcat> ugh silly signals confuse me
[12:09:39] <strcat> WIFEXITED is false but WSTOPSIG returns 0 :(
[12:09:54] <dbaupp> tiffany: but not arbitrary ones (there is a certain category of unicode characters that are allowed, I don't have it to hand though)
[12:09:57] <strcat> ohhh
[12:09:58] * strcat is silly
[12:10:03] <EXetoC> rusti: let Ã¾ = Ã¾ = Ã¾ = 1;
[12:10:04] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/dXKE
[12:10:06] <cmr> rusti: 24u8 as bool
[12:10:08] -rusti- true
[12:10:11] <cmr> rusti: 0 as bool
[12:10:12] -rusti- false
[12:10:15] <cmr> good enough for me
[12:10:24] <kimundi> rusti: Î» = 0.5f; Î»
[12:10:26] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/SMKG
[12:10:49] <EXetoC> rusti: false as bool
[12:10:50] -rusti- false
[12:10:58] <kimundi> rusti: Ï€ = 3.14f; Ï€
[12:10:59] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/SajW
[12:11:17] <kimundi> D'oh!
[12:11:22] <kimundi> rusti: let Ï€ = 3.14f; Ï€
[12:11:23] -rusti- 3.14
[12:11:26] <EXetoC> there we go
[12:11:27] <kimundi> hehe
[12:11:52] <kimundi> bjz, wanna rename some math constants? :
[12:11:58] <cmr> heh
[12:12:11] <bjz> kimundi: might be good to post on the issue
[12:12:13] <dbaupp> rusti: match 1 { 'a' as u8 => (), _ => () }
[12:12:13] -rusti- foo.rs:5:23: 5:25 error: expected `=>` but found `as`
[12:12:13] -rusti- foo.rs:5          match 1 { 'a' as u8 => (), _ => () }
[12:12:13] -rusti-                                 ^~
[12:12:26] *** lucian_ is now known as lucian
[12:12:27] <cmr> rusti: assert!(false, "message")
[12:12:27] <bjz> kimundi: that way other people can see too
[12:12:28] -rusti- rust: task failed at 'message', foo.rs:4
[12:12:28] -rusti- rust: domain main @0x85d1b0 root task failed
[12:12:34] <bjz> kimundi: which ones?
[12:12:35] <dbaupp> cmr: that's (one reason) why byte!('a') would be useful
[12:12:44] <dbaupp> cmr: 'as' is no longer legal in patterns
[12:12:57] <cmr> dbaupp: Ah, that's a good reason!
[12:13:06] * bjz reads scrollback
[12:13:07] <strcat> dbaupp: is it really? :0
[12:13:19] <strcat> rusti: match 1 { ('a' as u8) => (), _ => () }
[12:13:19] <dbaupp> strcat: really what?
[12:13:20] -rusti- foo.rs:5:24: 5:26 error: expected `,` but found `as`
[12:13:20] -rusti- foo.rs:5          match 1 { ('a' as u8) => (), _ => () }
[12:13:20] -rusti-                                  ^~
[12:13:21] <bjz> kimundi: very funny :D
[12:13:24] <strcat> huh
[12:13:32] <strcat> why isn't it legal in patterns?
[12:13:36] <dbaupp> strcat: https://github.com/mozilla/rust/pull/6417
[12:13:38] <bjz> kimundi: go get some vimconceal sir
[12:13:50] <dbaupp> strcat: specifically https://github.com/pcwalton/rust/commit/db0693ac8d06202a289f451c223eb6f514819ffe
[12:14:15] <kimundi> what would I de with vimcnceal without vim? :P
[12:15:46] *** Quits: victorporof (victorporo@5FA8A699.67B94DB5.4A6B528C.IP) (Quit: victorporof)
[12:16:02] <kimundi> dbaupp: A generalisation of bytes!() for a specific subset of compiletime transformations of values would be nice. But finding a good invokation syntax gets hairy...
[12:16:06] *** Joins: Yurume (yurume@AC58A8CE.8A059B47.E313B915.IP)
[12:16:13] * bjz uses sublime text
[12:16:28] <kimundi> rusti: bytes!("foo",0,"bar",0)
[12:16:29] -rusti- &[102, 111, 111, 0, 98, 97, 114, 0]
[12:16:31] * bjz wishes ST had something like vimconceal
[12:16:43] <dbaupp> bjz: vim has something a bit like vimconceal
[12:16:45] <dbaupp> ;P
[12:16:47] <kimundi> rusti: bytes!("Î»")
[12:16:48] -rusti- &[206, 187]
[12:17:11] <dbaupp> rusti: bytes!('Ã¶')
[12:17:12] -rusti- foo.rs:5:9: 6:5 error: Non-ascii char literal in bytes!
[12:17:12] -rusti- foo.rs:5          bytes!('Ã¶')
[12:17:12] -rusti- foo.rs:6     });
[12:17:12] -rusti- error: aborting due to previous error
[12:17:14] <engla> there's no point in conceal
[12:17:18] * bjz urges dbaupp not to start an editor war
[12:17:25] <dbaupp> bjz: hehe
[12:17:35] <bjz> engla: there's no point to syntax highlighting
[12:17:39] <EXetoC> engla: yeah I don't like it. I set conceallevel to 0
[12:17:40] <dbaupp> (I don't even use vim myself)
[12:17:50] <cmr> EXetoC: conceallevel is set to 0 by default now
[12:17:58] <engla> ah that sounds good
[12:18:02] <bjz> engla: there's no point to indentation
[12:18:06] <cmr> update your vimfiles,  there were a bunch of fixes a few weeks ago :)
[12:18:13] <EXetoC> ok
[12:18:26] <dbaupp> bjz: there's no point to screens really
[12:18:43] <dbaupp> bjz: should be able to touch type fine without one
[12:18:43] <engla> bjz: I don't want the source code to look different than what I have to type. I type ->, not â†’
[12:18:47] <bjz> dbaupp: we should just type using an on-off switch
[12:18:58] <dbaupp> bjz: a switch!? luxury!
[12:19:08] <kimundi> butterflys ftw!
[12:19:19] * dbaupp resists the urgh to link to xkcd
[12:19:22] <bjz> kimundi: and thunderstorms?
[12:20:07] <kimundi> bjz: jup
[12:20:32] <bjz> kimundi: actually, I think you might need a screen
[12:20:42] <indutny> Y U NO variable-sized arrays :)
[12:20:52] <kimundi> just use trained ants, simple than that.
[12:20:57] <dbaupp> indutny: mut ~[] ?
[12:20:58] <bjz> kimundi: 'jup' :D
[12:21:16] <bjz> kimundi: I understand typing with a butterfly is hard
[12:21:27] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[12:21:27] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/u4V2zw
[12:21:27] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[12:21:30] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[12:21:30] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/fUb4Rw
[12:21:30] <ghrust> 13rust/06auto 1409efd47 15BjÃ¶rn Steinbrink: Remove outdated function transmute_for_stage0...
[12:21:30] <ghrust> 13rust/06auto 14f323b0c 15bors: auto merge of #6640 : dotdash/rust/hash_perf, r=bstrie...
[12:21:31] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[12:21:40] * bjz kids
[12:21:50] <bjz> :)
[12:23:46] *** Joins: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com)
[12:23:56] <strcat> hm
[12:24:23] *** Joins: mcomella (mcomella@moz-B10FF54F.ri.ri.cox.net)
[12:26:46] *** Quits: ssbr_ (scorchsabe@A9D9D38C.B6F034AC.72A31D6.IP) (Connection reset by peer)
[12:27:28] *** Joins: ssbr_ (scorchsabe@A9D9D38C.B6F034AC.72A31D6.IP)
[12:27:49] *** Joins: maxli (maxli@C03F2759.C70D537E.2FA4EA88.IP)
[12:27:54] *** Quits: maxli (maxli@C03F2759.C70D537E.2FA4EA88.IP) (Input/output error)
[12:28:36] *** Joins: victorporof (victorporo@10AA7997.880C8D58.79933D60.IP)
[12:28:40] <bjz> yikes: https://github.com/mozilla/rust/issues/6641
[12:28:47] *** Joins: robertknight (robertknig@moz-54528EE0.wby.mendeley.com)
[12:29:47] *** Joins: anshin (nbs@441B8B9E.2055B963.D2A6B5.IP)
[12:30:21] *** Joins: victorporof_ (victorporo@CDD95F1.20718EE9.79933D60.IP)
[12:30:44] <dbaupp> bjz: specific to methods?
[12:30:52] <bjz> dbaupp: yup
[12:31:12] <dbaupp> bjz: https://github.com/mozilla/rust/issues/3080
[12:31:24] *** Quits: victorporof (victorporo@10AA7997.880C8D58.79933D60.IP) (Connection reset by peer)
[12:31:37] <bjz> haha
[12:31:47] <bjz> I did a search but couldn't find it
[12:32:41] <dbaupp> bjz: yeah, I'd met it before
[12:32:44] <bstrie> bjz: also https://github.com/mozilla/rust/issues/6331 :)
[12:33:06] <bstrie> go ahead and blame github's search
[12:33:36] <dbaupp> bstrie: was it you I was talking with about the ~strs in the deriving code?
[12:33:47] <dbaupp> because my fix for that ballooned into https://github.com/mozilla/rust/pull/6611
[12:33:56] <dbaupp> oops, haha
[12:34:18] <bstrie> dbaupp: nay, 'twas not I
[12:34:30] <dbaupp> oh, whatever :P
[12:35:07] <dbaupp> people with handles starting with b are basically all the same
[12:35:24] <dbaupp> :P
[12:35:57] *** Joins: Blei (philipp@moz-96D25F7A.cust.bluewin.ch)
[12:36:02] *** Joins: seth (seth@5AAE35B2.5EFFC0B8.24454B25.IP)
[12:38:17] *** Joins: justinfront (chatzilla@moz-5B826A1D.saqnet.co.uk)
[12:39:13] <justinfront> Hi I was trying to make Rust and I get this error:   extracting rust-stage0/lib/librustllvm.dylib
[12:39:14] <justinfront> compile: rt/x86_64-apple-darwin/sync/timer.o
[12:39:16] <justinfront> g++: error: x86_64: No such file or directory
[12:39:17] <justinfront> g++: error: unrecognized option '-arch'
[12:39:18] <justinfront> make: *** [rt/x86_64-apple-darwin/sync/timer.o] Error 1
[12:39:20] <justinfront> JustinComputer:rust-0.6 justinmills$ rust
[12:40:07] <bstrie> justinfront: are you using homebrew?
[12:40:36] <justinfront> No I got a tarball see here http://stackoverflow.com/questions/16005572/rust-on-leopard
[12:40:51] <justinfront> Have you tried compiling it yourself? (e.g. from the 0.6 tarball or from git?) â€“ dbaupp Apr 15 at 6:29
[12:41:38] <justinfront> it seemed to do the configure step fine
[12:42:37] <bstrie> oh hm, leopard
[12:42:40] <Blei> justinfront: according to `man gcc`, -arch is an option only available on darwin, so it should actually work...
[12:42:45] <bstrie> I guess that's one of the older versions
[12:42:47] <Blei> maybe a non-standard gcc version?
[12:43:12] <justinfront> I have gcc 4.6 from macports
[12:43:24] *** Quits: Earnestly (earnest@6A917A59.5E1FD793.39C00A7A.IP) (Ping timeout)
[12:45:32] <indutny> dbaupp: yeah, I know. What I really meant is that I need something like vec::new(0, 100)
[12:46:36] <EXetoC> with_capacity? from_fn? depending on what you mean by that
[12:46:37] <dbaupp> indutny: making a vec of 100 0's?
[12:46:43] <indutny> yes
[12:46:50] <indutny> where 100 is actually a variable, not constant
[12:46:51] <dbaupp> rusti: vec::from_elem(3, 2)
[12:46:51] -rusti- ~[2, 2, 2]
[12:46:59] <EXetoC> ah yes
[12:47:05] <indutny> ooh
[12:47:07] <indutny> nice
[12:47:07] <indutny> thanks
[12:47:14] <dbaupp> np :)
[12:47:31] <justinfront> -arch would be in the makefile?  I am making haxe fine on this machine I wanted to try the rust bindings.
[12:48:10] <justinfront> node installed fine this morning so really rust should be workable on leopard? No?
[12:48:25] <dbaupp> justinfront: ./mk/platform.mk
[12:48:44] <dbaupp> (possibly, I'm not on 0.6, so I'm not sure)
[12:49:26] <strcat> rusti: ~[2, ..3]
[12:49:27] -rusti- ~[2, 2, 2]
[12:49:27] <justinfront> sudo: ./mk/platform.mk: command not found
[12:49:46] <bstrie> justinfront: I'm honestly not sure what versions of OSX rust supports... 10.5 might just be too old, I'm not sure if anyone even has a copy to use for testing
[12:50:00] <dbaupp> justinfront: sorry, it's in that file
[12:50:44] <dbaupp> justinfront: the -arch directives, lines 174 and 199 (I just checked out 0.6)
[12:50:44] *** Joins: tgt (tgt@moz-D59EE478.aztw.cable.virginmedia.com)
[12:50:58] <justinfront> is 0.6 old?
[12:51:12] <dbaupp> justinfront: it's the most recent release
[12:51:22] <bstrie> justinfront: it's the most recent release, but it's still somewhat outdated
[12:51:25] <bstrie> rust moves fast
[12:51:57] <bstrie> I'd recommend cloning the git repo and building the "incoming" branch
[12:52:05] <bstrie> but again there's no guarantee that it'll work on leopard
[12:52:55] *** Parts: berak (chatzilla@DE08FCFA.8B38C502.16E13E53.IP) ()
[12:53:11] *** Quits: doomlord_ (walter@moz-1035DA3D.range86-135.btcentralplus.com) (Quit: Changing server)
[12:53:24] *** Joins: a_m0d (a_m0d@moz-9F925EFA.hm.shawcable.net)
[12:53:33] <dbaupp> justinfront: unfortunately, it's possibly easier to setup a linux virtual machine and experiment in that
[12:54:48] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[12:55:05] <justinfront> No I don't have drive space for that I have a win machine but I tend to use this mac more because it's nicer although old to use.
[12:55:53] <justinfront> really my experiance is that mostly it's only because the devs dont have leopard that code does not run any code dev on leopard normally works on all other macs
[12:57:49] <justinfront> normally with very little change you can always compile from source just may need that help with getting it working.
[12:58:13] <bstrie> justinfront: the primary developers will be online in a few hours, if you'd like to stick around and ask them
[13:01:52] *** Quits: bytbox (s@moz-D83E9B31.wireless.umd.edu) (Ping timeout)
[13:04:29] <justinfront> Ok I removed the end of line 174 and it seemed to work better I am now getting compile: rt/x86_64-apple-darwin/rust_sched_driver.o
[13:04:31] <justinfront> /Users/justinmills/Downloads/rust-0.6/src/rt/rust_sched_driver.cpp: In member function 'void rust_sched_driver::start_main_loop()':
[13:04:32] <justinfront> /Users/justinmills/Downloads/rust-0.6/src/rt/rust_sched_driver.cpp:43:31: error: 'pthread_setname_np' was not declared in this scope
[13:04:33] <justinfront> make: *** [rt/x86_64-apple-darwin/rust_sched_driver.o] Error 1
[13:05:48] <justinfront> I think the -arch was just compiling extra versions that I don't need unless I wanted -m32
[13:07:18] *** Joins: saml (sam@moz-14C16814.cst.lightpath.net)
[13:09:41] <justinfront> https://mail.mozilla.org/pipermail/rust-dev/2012-December/002755.html
[13:12:00] * strcat sighs
[13:12:02] <strcat> glibc is evil
[13:12:05] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[13:12:16] <strcat> http://ix.io/5Iv minimal statically linked binary
[13:12:25] <strcat> http://ix.io/5Iw minimal dynamically linked binary
[13:12:27] * strcat cries
[13:13:26] <dbaupp> justinfront: do you feel comfortable trying to patch it?
[13:13:43] <dbaupp> (I'm sure a pull request fixing it would be eagerly merged)
[13:13:50] <justinfront> I can give it a go
[13:13:59] *** Quits: a_m0d (a_m0d@moz-9F925EFA.hm.shawcable.net) (Quit: Leaving.)
[13:14:51] <justinfront> what do I need to try?
[13:15:29] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[13:15:29] <ghrust> 01[13rust01] 15bors merged 06auto into 06incoming: 02http://git.io/fUb4Rw
[13:15:29] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[13:15:49] <dbaupp> justinfront: in what sense?
[13:16:32] *** Joins: Cromulent (Cromulent@moz-983B638D.cable.virginmedia.com)
[13:17:04] <justinfront> Well I am haxe/as3 coder so I fight with getting hxcpp to work but don't know much on this stuff
[13:17:33] <dbaupp> justinfront: well, the first thing to do is checkout the git repo, because there's no point developing on an old version :)
[13:17:46] <justinfront> well yep I can do that.
[13:18:59] <dbaupp> And then open the src/rt/rust_sched_driver.cpp file (this part of the code doesn't seem to have changed)
[13:20:09] <dbaupp> justinfront: the setname call only happens on mac atm (that's what the #ifdef ... #endif do), so it's probably safe just to comment it out to see if you can bootstrap without that call
[13:20:33] <justinfront> it that cpp file?
[13:20:46] <dbaupp> yes
[13:20:53] <justinfront> my connection is not so fast still cloning
[13:21:06] <dbaupp> sure, it's pretty big
[13:22:14] *** Quits: Cromulent (Cromulent@moz-983B638D.cable.virginmedia.com) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[13:23:40] *** Quits: jakubw (ubuntu@moz-D137E450.eu-west-1.compute.amazonaws.com) (Ping timeout)
[13:26:45] *** Joins: bytbox (s@moz-D83E9B31.wireless.umd.edu)
[13:28:46] *** Joins: hjr3 (hradtke@AF4FC8FE.D2A4E84D.523CBD62.IP)
[13:29:48] *** Joins: jakubw (ubuntu@moz-D137E450.eu-west-1.compute.amazonaws.com)
[13:29:52] *** victorporof_ is now known as victorporof
[13:40:42] *** Joins: a_m0d (a_m0d@moz-9F925EFA.hm.shawcable.net)
[13:42:10] <justinfront> The ./configure script did not like a space in a parent directory name 
[13:44:45] <justinfront> should this line take time?? configure: git: submodule update
[13:45:17] <dbaupp> justinfront: yes, it takes a while the first time
[13:45:50] <justinfront> is there a verbose mode for configure so I can watch it more?
[13:46:37] *** Quits: haard (fredrik@moz-6A86987C.dynamic.se.alltele.net) (Ping timeout)
[13:46:58] <doener> justinfront: you could run "git submodule update --init" instead
[13:47:17] <bstrie> justinfront: yes, the git submodule init step takes a long time and swallows all the output
[13:49:06] *** Quits: anshin (nbs@441B8B9E.2055B963.D2A6B5.IP) (Quit: Lost terminal)
[13:55:33] *** Joins: catpig (catpig@moz-5EA88CFE.dip0.t-ipconnect.de)
[13:55:39] <justinfront> It is still waiting? And my processor is not on a high number?
[13:56:45] <bstrie> it takes a long time to download llvm
[13:57:10] <bstrie> if you'd like, you can probably ^C and run "git submodule update --init" manually
[13:57:21] <bstrie> that will actually give you output
[13:57:47] *** Joins: BitPuffin (quassel@moz-8370D1B9.bredband.comhem.se)
[13:58:11] <EXetoC> BitPuffin: sup ma bruvva
[13:58:36] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[13:58:39] <justinfront> ah atlast it's on the move again :)
[13:59:40] *** Quits: BitPuffin (quassel@moz-8370D1B9.bredband.comhem.se) (Client exited)
[14:00:10] *** Joins: dan_johnsin (dan_johnsi@6902762D.11B071D.FB9A45AF.IP)
[14:00:39] *** Joins: haard (fredrik@moz-6A86987C.dynamic.se.alltele.net)
[14:01:27] *** Joins: BitPuffin (quassel@moz-8370D1B9.bredband.comhem.se)
[14:01:50] *** Quits: webber46 (webber46@moz-AC14FDEA.se) (Quit: webber46)
[14:02:43] *** Joins: webber46 (webber46@moz-AC14FDEA.se)
[14:03:11] <BitPuffin> EXetoC: god dag!
[14:07:01] <justinfront> commenting out the header code as suggested does not work. http://pastebin.com/90HN4Yw8
[14:08:24] <dbaupp> justinfront: oh :(
[14:09:09] <dbaupp> I'm afraid I can't offer much more help
[14:09:11] *** Quits: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com) (Client exited)
[14:10:29] <justinfront> ok maybe I will comment out in the cpp instead where there is a comment.
[14:11:59] *** Quits: pyrac (pyrac@moz-C70D038B.w109-214.abo.wanadoo.fr) (Quit: pyrac)
[14:13:06] *** Quits: a_m0d (a_m0d@moz-9F925EFA.hm.shawcable.net) (Quit: Leaving.)
[14:13:27] <justinfront> seems happier but...
[14:14:05] <justinfront> http://pastebin.com/aCP3Qydd
[14:15:24] <justinfront> ld: warning: ignoring file /opt/local/lib/gcc46/libstdc++.dylib, file was built for unsupported file format which is not the architecture being linked (x86_64)
[14:15:36] <dbaupp> justinfront: oh! that's more promising
[14:16:19] <bstrie> oh, is leopard 32-bit?
[14:16:20] <dbaupp> that error message looks like something somewhere was compiled for 32 bit
[14:16:22] <justinfront> Do I need to get libstdc for 64bit
[14:16:44] <dbaupp> that seems like a good thing to try
[14:16:49] <justinfront> I mostly run 32 but it can do 64
[14:17:11] <justinfront> the mac build seems setup for 64 but looks like would be hard to change to 32 bit
[14:17:35] <justinfront> Do you know with macport how I make it get 64 bit version
[14:18:27] <justinfront> haxe is mostly 32bit version on all macs at moment so 32 bit rust maybe more ideal if I was to try using the bindings.
[14:18:49] <dbaupp> hm, actually, you could try `./configure --target-triples=i686-apple-darwin --build-triples=i686-apple-darwin --host-triples=i686-apple-darwin`
[14:19:06] <dbaupp> to try to make rust build as 32 bit
[14:19:15] <dbaupp> (possibly)
[14:19:38] *** Joins: pyrac (pyrac@moz-C70D038B.w109-214.abo.wanadoo.fr)
[14:20:54] <justinfront> still getting same errors do I need to tell make as well ?
[14:21:22] <cmr> no
[14:21:23] *** Quits: pyrac (pyrac@moz-C70D038B.w109-214.abo.wanadoo.fr) (Ping timeout)
[14:22:12] *** Joins: pyrac (pyrac@moz-C70D038B.w109-214.abo.wanadoo.fr)
[14:23:16] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[14:25:17] *** Joins: bbrittain (ben@moz-A7CDB794.dia.static.qwest.net)
[14:25:23] <BitPuffin> EXetoC: whaddup
[14:26:19] <indutny> internal compiler error: self wasn't mapped to a def?!
[14:26:22] <indutny> heh
[14:26:32] <indutny> when trying to use self from local function
[14:27:01] <indutny> rusti: struct A; impl A { fn m(&self) { fn x() { self.m() } } }
[14:27:02] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/TGbR
[14:27:42] *** Quits: naq (naq@D5C2D2DF.E4265FCD.E481B5B.IP) (Ping timeout)
[14:27:44] <dbaupp> indutny: inner functions like that are just for grouping, they don't inherit the environment of their parent(s)
[14:27:51] <indutny> I know
[14:28:02] <indutny> its just saying that its internal compiler error
[14:28:50] <dbaupp> indutny: there doesn't appear to be an issue about it... do you want to open one?
[14:28:59] <indutny> ah, sure
[14:29:11] *** Quits: seth (seth@5AAE35B2.5EFFC0B8.24454B25.IP) (Input/output error)
[14:29:55] <indutny> dbaupp: https://github.com/mozilla/rust/issues/6642
[14:29:57] *** Joins: seth (seth@5AAE35B2.5EFFC0B8.24454B25.IP)
[14:30:22] <dbaupp> indutny: cool
[14:30:23] *** Quits: seth (seth@5AAE35B2.5EFFC0B8.24454B25.IP) (Input/output error)
[14:30:42] <EXetoC> BitPuffin: just... inputting some bits
[14:34:04] <doener> is there a way to get some more info about a failed runtime borrow check?
[14:37:16] *** Joins: Earnestly (earnest@6A917A59.5E1FD793.39C00A7A.IP)
[14:39:23] *** Quits: spider-mario (spidermari@moz-2BC095A6.rev.sfr.net) (Input/output error)
[14:41:55] *** Joins: seth (seth@5AAE35B2.5EFFC0B8.24454B25.IP)
[14:42:24] *** Quits: seth (seth@5AAE35B2.5EFFC0B8.24454B25.IP) (Input/output error)
[14:43:57] *** Joins: Scriptor (historium@moz-E06F46F0.corp.bitshelter.com)
[14:44:56] *** Quits: pyrac (pyrac@moz-C70D038B.w109-214.abo.wanadoo.fr) (Quit: pyrac)
[14:48:26] *** Joins: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com)
[14:48:39] *** Quits: tgt (tgt@moz-D59EE478.aztw.cable.virginmedia.com) (Quit: Computer has gone to sleep.)
[14:54:28] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Client exited)
[15:01:02] *** Joins: hansjorg (hansjorg@moz-1D800A00.dsl.no.powertech.net)
[15:02:09] *** Joins: jdm (jdm@DB05BBF2.BB1F48F2.971E19F6.IP)
[15:04:43] *** Quits: bbrittain (ben@moz-A7CDB794.dia.static.qwest.net) (Quit: Leaving)
[15:05:49] <justinfront> dbaupp I am getting compile: rt/x86_64-apple-darwin/sync/timer.o   g++: error: x86_64: No such file or directory   make: *** [rt/x86_64-apple-darwin/sync/timer.o] Error 1
[15:07:04] <justinfront> there is a timer.d file with this file name in?
[15:10:16] <hansjorg> Anybody familiar with rust-sdl? I used an earlier version of it where my code does "use sdl;" and then references e.g. "sdl::video::Surface".
[15:10:48] <bstrie> hansjorg: bjz might be
[15:11:11] <hansjorg> With the most recent version, it seems that one must use "use sdl::*" and then "video::Surface". Any way to import sdl without changing all my old code?
[15:12:01] <bstrie> hansjorg: you *must* do a glob-import? that doesn't seem right
[15:12:06] <bstrie> what happens when you just do `use sdl;` ?
[15:12:23] <bjz> sorry, I use glfw
[15:12:39] <bjz> (cannot be of assistonce)
[15:12:48] *** Joins: seth (seth@5AAE35B2.5EFFC0B8.24454B25.IP)
[15:13:00] <dbaupp> justinfront: I've got no idea :S sorry! :(
[15:13:44] <hansjorg> bstrie: I get this: "unresolved import (maybe you meant `sdl::*`?)"
[15:13:59] <justinfront> it looks like I need to replace -arch with -lipo somewher else
[15:14:27] *** Quits: olsonjeffery (pf@moz-9E9CF15C.members.linode.com) (Ping timeout)
[15:16:14] *** Joins: naq (naq@D5C2D2DF.E4265FCD.E481B5B.IP)
[15:18:43] *** Quits: DasIch (DasIch@moz-CB618802.dip0.t-ipconnect.de) (Ping timeout)
[15:19:06] *** Quits: seth (seth@5AAE35B2.5EFFC0B8.24454B25.IP) (Ping timeout)
[15:19:09] *** Joins: DasIch (DasIch@moz-8032AAAE.dip0.t-ipconnect.de)
[15:20:26] *** Joins: Jesin (Jessin_@moz-5654D37.washdc.fios.verizon.net)
[15:20:36] *** Quits: webber46 (webber46@moz-AC14FDEA.se) (Quit: webber46)
[15:20:44] *** Joins: tgt (tgt@moz-D59EE478.aztw.cable.virginmedia.com)
[15:25:33] *** Joins: olsonjeffery (pf@moz-9E9CF15C.members.linode.com)
[15:28:37] *** Joins: a_m0d (a_m0d@moz-9F925EFA.hm.shawcable.net)
[15:32:40] *** Quits: dbaupp (Thunderbir@moz-856B3C14.lns20.syd6.internode.on.net) (Ping timeout)
[15:33:42] *** Joins: steveklabnik (steve@moz-5EF6C37C.socal.res.rr.com)
[15:34:13] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[15:35:53] *** Quits: hjr3 (hradtke@AF4FC8FE.D2A4E84D.523CBD62.IP) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[15:37:48] *** Quits: a_m0d (a_m0d@moz-9F925EFA.hm.shawcable.net) (Quit: Leaving.)
[15:38:11] *** Joins: Blub\w (wry@7E3BB9D.71150E1A.237AE2BA.IP)
[15:40:20] *** Quits: catpig (catpig@moz-5EA88CFE.dip0.t-ipconnect.de) (Quit: Verlassend)
[15:41:51] *** Joins: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net)
[15:43:29] *** Joins: a_m0d (a_m0d@moz-9F925EFA.hm.shawcable.net)
[15:43:34] <steveklabnik> did I read #6635 right? Did a snapshot end up happening last night?
[15:43:48] *** Quits: mcomella (mcomella@moz-B10FF54F.ri.ri.cox.net) (Input/output error)
[15:44:00] *** Joins: mcomella (mcomella@moz-B10FF54F.ri.ri.cox.net)
[15:44:06] <doener> yep
[15:44:31] <steveklabnik> awesome
[15:47:15] *** Joins: themgt (themgt@moz-248BBB96.dhcp.gnvl.sc.charter.com)
[15:47:15] *** Quits: themgt (themgt@moz-248BBB96.dhcp.gnvl.sc.charter.com) (Quit: themgt)
[15:48:04] *** Quits: a_m0d (a_m0d@moz-9F925EFA.hm.shawcable.net) (Quit: Leaving.)
[15:51:34] *** Joins: a_m0d (a_m0d@moz-9F925EFA.hm.shawcable.net)
[15:51:37] *** Joins: azita (Azita@2557E599.66715431.D25A875A.IP)
[15:56:44] *** Quits: a_m0d (a_m0d@moz-9F925EFA.hm.shawcable.net) (Quit: Leaving.)
[15:57:06] *** Quits: mcomella (mcomella@moz-B10FF54F.ri.ri.cox.net) (Input/output error)
[15:57:17] *** Joins: mcomella (mcomella@moz-B10FF54F.ri.ri.cox.net)
[15:57:31] *** Joins: lkuper (lkuper@moz-D6AAFF3.cs.indiana.edu)
[15:58:54] *** Quits: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net) (Quit: Computer has gone to sleep.)
[16:05:19] *** Joins: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net)
[16:13:26] *** Quits: robertknight (robertknig@moz-54528EE0.wby.mendeley.com) (Quit: Computer has gone to sleep.)
[16:17:51] *** Joins: seth (seth@5AAE35B2.5EFFC0B8.24454B25.IP)
[16:18:15] <BitPuffin> EXetoC: don't we all
[16:19:38] <steveklabnik> :metal:
[16:19:39] <steveklabnik> https://github.com/mozilla/rust/pull/6644
[16:19:48] <steveklabnik> now, we're just down to two warnings, both of which i'm not sure are legitimate
[16:20:36] *** Quits: novabyte (Instantbir@moz-3E0F9699.cable.virginmedia.com) (Ping timeout)
[16:20:38] *** Joins: novabyte (Instantbir@moz-3E0F9699.cable.virginmedia.com)
[16:21:48] *** Joins: pyrac (pyrac@moz-C70D038B.w109-214.abo.wanadoo.fr)
[16:22:16] *** Joins: mschifer (Adium@2557E599.66715431.D25A875A.IP)
[16:23:52] *** Quits: seth (seth@5AAE35B2.5EFFC0B8.24454B25.IP) (Ping timeout)
[16:24:31] *** Joins: brson (brson@2557E599.66715431.D25A875A.IP)
[16:24:31] *** ChanServ sets mode: +o brson
[16:25:38] *** Quits: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net) (Quit: Computer has gone to sleep.)
[16:25:39] *** Joins: ksev (DrunkenPan@5688B28D.841F5BFE.B9B3705E.IP)
[16:26:45] *** Joins: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net)
[16:27:25] <EXetoC> BitPuffin: you might be right
[16:31:10] *** Quits: novabyte (Instantbir@moz-3E0F9699.cable.virginmedia.com) (Ping timeout)
[16:34:30] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Quit: Computer has gone to sleep.)
[16:35:06] *** Quits: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net) (Quit: Computer has gone to sleep.)
[16:36:30] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[16:36:30] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/vM9PoA
[16:36:30] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[16:36:32] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[16:36:32] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/qQjFHQ
[16:36:32] <ghrust> 13rust/06auto 1417dfebf 15Seo Sanghyeon: Remove legacy_modes
[16:36:32] <ghrust> 13rust/06auto 1484233c0 15bors: auto merge of #6643 : sanxiyn/rust/legacy-modes, r=bstrie
[16:36:32] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[16:36:45] *** Joins: jorendorff (jorendorff@moz-2F32ACA3.hsd1.tn.comcast.net)
[16:38:47] *** Joins: int3_ (int3_@moz-B7B5F043.singnet.com.sg)
[16:38:52] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Client exited)
[16:39:13] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[16:40:54] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Ping timeout)
[16:42:11] *** Joins: novabyte (Instantbir@moz-3E0F9699.cable.virginmedia.com)
[16:42:59] <BitPuffin> EXetoC: just by communicating like this we're inputting data
[16:44:06] *** Quits: tgt (tgt@moz-D59EE478.aztw.cable.virginmedia.com) (Quit: Computer has gone to sleep.)
[16:45:00] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[16:49:11] *** Joins: mzabaluev (mzabaluev@moz-91FFD755.dhcp.inet.fi)
[16:49:21] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[16:54:44] <benh> heh
[16:55:00] <benh> it turns out llvm+rustc build times go down a lot if you don't have -O0 in your CXXFLAGS
[16:55:51] <cmr> steveklabnik: what are the warnings?
[16:56:14] <steveklabnik> let me grab the two issues i filed
[16:56:21] *** Quits: donri (dag@moz-9BB61102.tbcn.telia.com) (Client exited)
[16:56:31] <steveklabnik> https://github.com/mozilla/rust/issues/6633
[16:56:33] <steveklabnik> https://github.com/mozilla/rust/issues/6630
[16:56:50] *** Joins: donri (dag@moz-9BB61102.tbcn.telia.com)
[16:57:09] *** Quits: mschifer (Adium@2557E599.66715431.D25A875A.IP) (Ping timeout)
[16:57:15] *** Joins: mschifer (Adium@2557E599.66715431.D25A875A.IP)
[16:57:40] <cmr> steveklabnik: it is a good idea to wrap unneeded-later-stage imports with #[cfg(stage0)], yes.
[16:57:48] <cmr> the person who makes the next snapshot will go through and remove it
[16:58:06] <cmr> same with #6633
[16:58:20] <steveklabnik> word.
[16:58:24] <steveklabnik> i'll submit a PR.
[16:58:32] <steveklabnik> i wasn't sure exactly what that did, and didnt get a comment back yet
[16:58:37] <cmr> ah
[16:58:39] <bjz> rusti: quote_ty!(|x:int,y:int| x * y)
[16:58:40] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/MGjE
[16:58:43] <cmr> it conditionally compiles code
[16:58:58] <cmr> only if the cfg setting is set
[16:58:58] <steveklabnik> ahhhhhh
[16:59:14] <bjz> extern mod syntax; quote_ty!(|x:int,y:int| x * y)
[16:59:14] <cmr> So during the first stage, the build system passes --cfg stage0 to rustc
[16:59:27] <steveklabnik> seems legit
[16:59:36] <jack> brson: Did ThreadPerTask go away? how do i spawn a task on a new thread now?
[17:01:51] <cmr> rusti: 0x26
[17:01:52] -rusti- 38
[17:02:25] <cmr> rusti: 0x1D
[17:02:27] -rusti- 29
[17:02:35] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Connection reset by peer)
[17:02:44] <cmr> hm this is going to be painful
[17:03:23] *** Quits: azita (Azita@2557E599.66715431.D25A875A.IP) (Quit: azita)
[17:03:45] <steveklabnik> cmr: https://github.com/mozilla/rust/pull/6645
[17:04:11] *** Quits: CarpNet (ac@moz-FD24B77.sohonet.co.uk) (Quit: Leaving)
[17:04:20] <cmr> steveklabnik: did that build succesfully?
[17:04:30] <cmr> I thought CopyableIter was still needed
[17:04:49] <steveklabnik> i think both aren't. i will double check
[17:04:58] *** Joins: pcwalton (pcwalton@2557E599.66715431.D25A875A.IP)
[17:04:58] *** ChanServ sets mode: +o pcwalton
[17:04:59] <steveklabnik> i admittedly didnt build that one because it takes so long to build on my machine ;)
[17:05:47] <pcwalton> brson: http://pastie.org/7935424
[17:06:01] <brson> jack: ThreadPerTask is still there
[17:06:20] *** Joins: azita (Azita@2557E599.66715431.D25A875A.IP)
[17:06:46] <brson> pcwalton: https://github.com/brson/rust-sched-bench/blob/master/coroutine-call.rs
[17:07:00] <jack> brson: task failed at 'ThreadPerTask scheduling mode unimplemented',
[17:07:39] <brson> jack: oh, you are probably looking for SingleThreaded
[17:07:46] <brson> ThreadPerTask is unimplemented :)
[17:08:39] <bjz> how do I get the type of an item at compile time? I tried quote_ty! but I'm not really sure how to use it.
[17:08:40] <brson> the distinction is that SingleThreaded gives you a single-threaded scheduler containing one task, ThreadPerTask gives you a scheduler where every task get's it's own thread
[17:08:49] <jack> Doesn't SingleThreaded do the opposite of what i want?
[17:08:50] <pcwalton> bjz: you can't really
[17:08:54] <pcwalton> macros run before typechecking
[17:08:56] <bjz> (using it for a macro)
[17:08:59] <bjz> oh
[17:09:03] <brson> jack: what do you want?
[17:09:03] <bjz> bugger
[17:09:17] <jack> brson: i need to ensure these two tasks are on distinct threads.
[17:09:18] <bjz> pcwalton: yeah I guess I see why
[17:09:24] <brson> SingleThreaded will give you a task in its own thread
[17:09:29] <brson> I think it will do what you want
[17:09:42] <jack> i't sjust that all tasks in that scheduler will be on the same one right?
[17:09:50] *** Joins: bbrittain (bbrittain@2557E599.66715431.D25A875A.IP)
[17:09:51] <jack> so as long as i only spawn one task, it's fine?
[17:09:57] <kimundi> Hi, I have a question: How would you call it if you have a stack allocated [T, ..N] buffer that you're using for storing an in principle unbounded number of elements, and if it's full switch to a ~[T] instead? So far I got 'HeapSpillBuffer'
[17:10:15] <pcwalton> LLVM calls that SmallVector
[17:10:25] <bjz> pcwalton: I made a curry! macro, but somebody asked if you could use it with existing types
[17:10:31] <pcwalton> because it works best with small vectors :)
[17:10:41] *** Joins: infynyxx (infynyxx@moz-8BFA475.sub-70-192-73.myvzw.com)
[17:10:46] <bjz> pcwalton: I mean, items
[17:10:58] <strcat> pcwalton: we just need tagless enums ;p
[17:11:12] <kimundi> he, that's certainly one way to name it :)
[17:11:39] <EXetoC> BitPuffin: oh yeah!
[17:12:21] <brson> jack: by default all tasks are spawned into the default scheduler, even when created from a SingleThreaded scheduler. I think there's not even a way to specificy the scheduler to spawn onto. In effect a SingleThreaded scheduler is just a thread containing a task. The scheduler model and task API is both overgrown and incomplete. We'll be culling the options in the new scheduler
[17:13:16] <brson> *specificyfy
[17:13:34] <jack> brson: what's the most likely way to get a task not on the platform thread?
[17:13:39] <jack> one of my tasks is on the platform thread
[17:13:40] *** Joins: mschifer1 (Adium@2557E599.66715431.D25A875A.IP)
[17:14:13] <jack> i need the other one on a different thread. also is there a wrapper somewhere around pthread_thread_id() or something to check?
[17:14:14] *** Quits: mschifer (Adium@2557E599.66715431.D25A875A.IP) (Connection reset by peer)
[17:14:20] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:14:20] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:14:38] <brson> jack: spawning from the plattform thread will spawn the task back onto the default scheduler again. it should not spawn onto the platform thread by default
[17:14:44] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:14:45] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:15:10] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:15:11] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:15:21] <brson> jack: at one point we had spawn always spawn onto the current scheduler and I found it very easy to make deadlock-causing mistakes
[17:15:32] <brson> by blocking single-threaded schedulers
[17:15:35] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:15:36] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:16:01] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:16:01] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:16:25] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:16:25] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:16:42] <bjz> pcwalton: https://github.com/mozilla/rust/pull/6634
[17:16:54] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:16:56] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:17:18] <bjz> pcwalton: http://www.reddit.com/r/rust/comments/1eokyr/add_curry_macro/ca29g04
[17:17:20] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:17:21] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:17:47] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:17:47] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:18:11] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:18:11] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:18:25] *** Quits: bnicholson (bnicholson@moz-E98974C1.hsd1.ca.comcast.net) (Ping timeout)
[17:18:36] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:18:37] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:19:01] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:19:02] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:19:27] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:19:28] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:19:52] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:19:53] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:20:17] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:20:18] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:20:42] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:20:42] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:20:47] *** Joins: vmx (vmx@moz-258DF15.pools.arcor-ip.net)
[17:20:51] <cmr> https://github.com/cmr/terminfo-rs/blob/wip/parser/compiled.rs#L68
[17:21:00] <cmr> Is there a way I can make this less horrible
[17:21:06] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:21:07] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:21:24] <cmr> I also need to break out when I've read the whole bools buffer
[17:21:31] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:21:32] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:21:56] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:21:56] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:22:04] *** Joins: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net)
[17:22:20] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:22:20] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:22:41] *** Joins: seth (seth@5AAE35B2.5EFFC0B8.24454B25.IP)
[17:22:45] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:22:45] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:23:05] *** Quits: DasIch (DasIch@moz-8032AAAE.dip0.t-ipconnect.de) (Quit: DasIch)
[17:23:10] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:23:11] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:23:36] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:23:36] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:24:01] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:24:01] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:24:28] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:24:29] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:24:33] *** Quits: seth (seth@5AAE35B2.5EFFC0B8.24454B25.IP) (Ping timeout)
[17:24:54] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:24:54] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:25:18] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:25:18] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:25:44] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:25:44] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:26:09] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:26:09] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:26:10] <cmr> or, until bools_size, that is
[17:26:34] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:26:35] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:26:59] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:27:00] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:27:24] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:27:24] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:27:26] <engla> cmr: why not put the string keys in a vec and iterate
[17:27:50] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:27:50] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:28:14] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:28:14] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:28:32] <cmr> engla: good idea!
[17:28:39] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:28:40] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:29:06] <engla> what you want is HashMap::from_vec(zip(names, bools))  but it doesn't exist I think
[17:29:07] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:29:08] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:29:17] <engla> what I think you want. :)
[17:29:35] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:29:37] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:30:01] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:30:02] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:30:06] <cmr> rusti: static a: ~[u8] = ~bytes!(1,2,3)
[17:30:07] -rusti- foo.rs:6:4: 6:5 error: expected `;` but found `}`
[17:30:07] -rusti- foo.rs:6     });
[17:30:07] -rusti-              ^
[17:30:11] <cmr> rusti: static a: ~[u8] = ~bytes!(1,2,3); a
[17:30:12] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/CZPF
[17:30:27] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:30:27] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:30:29] *** cscottnet_away is now known as cscottnet
[17:30:30] <cmr> rusti: static a: &[u8] = bytes!(1,2,3); a
[17:30:30] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[17:30:30] <ghrust> 01[13rust01] 15bors merged 06auto into 06incoming: 02http://git.io/qQjFHQ
[17:30:30] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[17:30:31] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/IdXV
[17:30:48] <cmr> rusti: static a: &'static [u8] = bytes!(1,2,3); a
[17:30:49] -rusti- &[1, 2, 3]
[17:30:52] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:30:53] <cmr> hm, good enough
[17:30:53] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:31:17] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:31:17] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:31:42] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:31:42] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:31:49] <cscottnet> is there a good way to import all the subtypes of an enum?  ie, 'mod m { enum Foo { Bar, Bat } }; use m::Foo::*; ' 
[17:32:02] <cmr> cscottnet: no, unfortunately.
[17:32:04] <cscottnet> instead of 'use m::{Foo,Bar,Bat}'
[17:32:06] <cmr> I would really like that though
[17:32:07] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:32:07] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:32:24] <cmr> as would others, so if you would add it, that'd be super cool :D
[17:32:27] <cscottnet> i've been hacking around it by putting all enumerations into their own modules, so that I can use * from the module.
[17:32:31] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:32:32] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:32:39] <cscottnet> cmr: what would the syntax look like?
[17:32:57] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:32:58] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:33:18] *** Joins: echristo (echristo@D423593A.D6CCE4AE.77834EAA.IP)
[17:33:23] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:33:23] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:33:24] *** Joins: hjr3 (hradtke@AF4FC8FE.D2A4E84D.523CBD62.IP)
[17:33:31] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[17:33:31] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/ivM2tQ
[17:33:31] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[17:33:31] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[17:33:31] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/JV11Kg
[17:33:32] <ghrust> 13rust/06auto 14eb3f47a 15Steve Klabnik: Remove two warnings about unneccesary safe blocks....
[17:33:32] <ghrust> 13rust/06auto 14f3b458b 15bors: auto merge of #6644 : steveklabnik/rust/remove_unsafe_warning, r=bstrie...
[17:33:32] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[17:33:33] *** Joins: bnicholson (bnicholson@2557E599.66715431.D25A875A.IP)
[17:33:34] <cscottnet> do you want to rename Bar and Bat to Foo::Bar and Foo::Bat, or keep the current flat hierarchy but have a special syntax for using enumerations?
[17:33:47] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:33:48] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:34:08] <cmr> I'd have enums in their own namespace, yeah
[17:34:12] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:34:13] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:34:17] <cmr> use foo::SomeEnum::*
[17:34:35] <cmr> but also have the variants at the toplevel, retaining backwards compatability
[17:34:38] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:34:38] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:35:00] <cscottnet> cmr: isn't rust a bit young to be worrying about backward compatibility? ;)
[17:35:03] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:35:03] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:35:18] <cmr> cscottnet: Well, if *you* want to go through all the code...
[17:35:21] <cmr> plus it's nicer
[17:35:26] <cmr> use core::option
[17:35:28] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:35:29] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:35:33] <cmr> rather than core::option::Option::*
[17:35:53] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:35:54] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:36:09] <cscottnet> the error message when you forget is really unintuitive, too
[17:36:18] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:36:19] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:36:28] <cscottnet> interp.rs:189:12: 189:18 error: unreachable pattern
[17:36:28] <cscottnet> interp.rs:189             Op_pop => {
[17:36:44] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:36:44] <cscottnet> ^^^ what it really means to say is, "you haven't imported Op_pop"
[17:36:44] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:36:54] <cmr> Unresolved name, is what it should be.
[17:37:09] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:37:10] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:37:35] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:37:35] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:38:00] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:38:00] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:38:25] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:38:25] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:38:50] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:38:51] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:38:57] *** cscottnet is now known as cscott
[17:39:15] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:39:16] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:39:42] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:39:42] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:40:07] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:40:07] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:40:08] <cscott> how do I write a mutable ~?  ~mut?
[17:40:30] <engla> cscott: inherited from the holder of that variable
[17:40:38] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:40:38] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:40:49] *** Joins: spider-mario (spidermari@moz-2F72F6FF.dsl.quantic-telecom.net)
[17:40:53] <cmr> ie, let mut
[17:41:02] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:41:02] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:41:12] <engla> rusti: let mut x = ~5; *x += 1; *x
[17:41:13] -rusti- 6
[17:41:27] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:41:27] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:41:37] *** Joins: Jeaye (Jeaye@moz-FD505E54.hsd1.ca.comcast.net)
[17:41:41] <BitPuffin> EXetoC: Currently working in Shit++ though hehe
[17:41:51] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:41:52] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:42:10] <cscott> rusti: struct Foo{ mut f : uint }; fn bar(foo: ~Foo) { foo.f += 1 }
[17:42:11] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/aHGd
[17:42:12] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[17:42:17] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:42:18] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:42:23] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[17:42:35] <cscott> cmr ^^ i'd like to declare the foo argument as mut
[17:42:43] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:42:43] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:43:07] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:43:08] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:43:12] <cscott> cmr: i can't do that without a let binding?
[17:43:17] <strcat> yes
[17:43:32] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:43:33] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:43:44] <strcat> rusti: fn foo(mut x: int) -> int { x += 1; x }; foo(5)
[17:43:45] -rusti- 6
[17:43:56] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:43:57] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:44:04] <strcat> cscott: it won't do what you want though
[17:44:14] <strcat> ~ is a unique handle
[17:44:16] <strcat> it has value semantics
[17:44:17] <cscott> rusti: struct Foo{ mut f : uint }; fn bar(foo: ~ mut Foo) { foo.f += 1 }
[17:44:18] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/MZAN
[17:44:21] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:44:22] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:44:25] <cmr> rusti: use core::hashmap::HashMap; let a: HashMap<&'static, int> = HashMap::new();
[17:44:26] -rusti- foo.rs:5:60: 5:61 error: expected type, found token COMMA
[17:44:26] -rusti- foo.rs:5          use core::hashmap::HashMap; let a: HashMap<&'static, int> = HashMap::new();
[17:44:26] -rusti-                                                                      ^
[17:44:34] <cmr> rusti: use core::hashmap::HashMap; let a: HashMap<&'static str, int> = HashMap::new();
[17:44:35] -rusti- foo.rs:5:41: 5:42 warning: unused variable: `a` [-W unused-variable (default)]
[17:44:36] -rusti- foo.rs:5          use core::hashmap::HashMap; let a: HashMap<&'static str, int> = HashMap::new();
[17:44:36] -rusti-                                                   ^
[17:44:36] -rusti- note: in expansion of fmt!
[17:44:36] -rusti- foo.rs:4:12: 6:7 note: expansion site
[17:44:43] <cmr> oh goodie
[17:44:46] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:44:47] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:45:01] <cmr> strcat: I think you should turn some warnings off on rusti, not really important for a repl :)
[17:45:12] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:45:12] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:45:37] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:45:38] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:46:02] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:46:02] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:46:06] <cscott> why is the 'mut' property of the f field ignored in 'struct Foo{ mut f : uint }; fn bar(foo: ~Foo) { foo.f += 1 }'
[17:46:15] <doener> rust-buildbot: struct Foo{ mut f : uint }; fn bar(mut foo: ~Foo) { foo.f += 1 }
[17:46:23] <doener> rusti: struct Foo{ mut f : uint }; fn bar(mut foo: ~Foo) { foo.f += 1 }
[17:46:26] <strcat> cscott: there aren't mutable fields anymore
[17:46:27] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:46:28] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:46:40] <nmatsakis> brson: ping.
[17:46:41] <strcat> mutable object -> fields are mutable
[17:46:53] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:46:53] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:47:13] <doener> cscott: the "mut" modifier need to go on the variable, i.e. foo, not the type
[17:47:17] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:47:17] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:47:19] <cscott> doener wins the prize. that's what i was missing, thanks.
[17:47:27] *** Quits: bbrittain (bbrittain@2557E599.66715431.D25A875A.IP) (Quit: bbrittain)
[17:47:42] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:47:42] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:48:07] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:48:07] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:48:09] *** Quits: tef (tef@moz-67B68E00.printf.net) (Ping timeout)
[17:48:22] <engla> (@) shared pointers are the exception
[17:48:23] *** Quits: dobkeratops (walter@moz-1035DA3D.range86-135.btcentralplus.com) (Ping timeout)
[17:48:24] *** Joins: DasIch (DasIch@moz-8032AAAE.dip0.t-ipconnect.de)
[17:48:29] *** Quits: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP) (Ping timeout)
[17:48:30] *** Joins: mattin (user@9580E10C.DC7A989C.7F8AB798.IP)
[17:48:32] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:48:32] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:48:33] *** Joins: bbrittain (bbrittain@2557E599.66715431.D25A875A.IP)
[17:48:36] <cmr> And borrowed pointers?
[17:48:48] <benh> They're not mutable on their own either
[17:48:56] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:48:59] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:49:01] <cmr> right. it seems ~ is the exception, not @ and &
[17:49:08] <cmr> and *
[17:49:15] *** Quits: azita (Azita@2557E599.66715431.D25A875A.IP) (Quit: azita)
[17:49:23] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:49:23] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:49:36] <engla> ok ok maybe that was not as clear cut
[17:49:37] *** Quits: brson (brson@2557E599.66715431.D25A875A.IP) (Ping timeout)
[17:49:45] *** Quits: Earnestly (earnest@6A917A59.5E1FD793.39C00A7A.IP) (Quit: WeeChat 0.4.1-rc2)
[17:49:48] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:49:49] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:49:59] <cscott> cmr: &mut and @mut, but not ~mut
[17:50:15] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:50:16] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:50:29] <engla> ~ behaves just like values.  let mut x = 5;  let mut y = ~5;   so it is regular in that sense
[17:50:36] *** Joins: diegoyam (quassel@FF9B1514.A4EC3D18.3A1EC144.IP)
[17:50:41] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:50:41] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:51:00] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[17:51:07] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:51:08] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:51:32] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:51:33] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:51:38] *** Joins: Earnestly (earnest@6A917A59.5E1FD793.39C00A7A.IP)
[17:51:58] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:51:58] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:52:20] *** Quits: bbrittain (bbrittain@2557E599.66715431.D25A875A.IP) (Quit: bbrittain)
[17:52:22] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:52:23] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:52:28] *** Joins: inolen (Adium@moz-9F4F17DF.tourcaster.com)
[17:52:48] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:52:48] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:53:13] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:53:13] *** Quits: mattin (user@9580E10C.DC7A989C.7F8AB798.IP) (Ping timeout)
[17:53:14] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:53:35] *** Quits: doy (doy@moz-5FE28A32.akrasiac.org) (Ping timeout)
[17:53:38] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:53:38] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:54:03] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:54:04] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:54:20] *** Quits: pcwalton (pcwalton@2557E599.66715431.D25A875A.IP) (Quit: pcwalton)
[17:54:24] *** Joins: doy (doy@moz-5FE28A32.akrasiac.org)
[17:54:29] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:54:30] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:54:55] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:54:56] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:55:21] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:55:22] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:55:47] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:55:47] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:56:11] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:56:12] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:56:28] *** Quits: hjr3 (hradtke@AF4FC8FE.D2A4E84D.523CBD62.IP) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[17:56:37] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:56:37] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:57:01] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:57:02] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:57:26] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:57:27] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:57:41] *** Quits: davbo (dave@moz-3FFA637C.oucs.ox.ac.uk) (Client exited)
[17:57:51] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:57:52] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:58:06] *** Joins: azita (Azita@2557E599.66715431.D25A875A.IP)
[17:58:17] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:58:17] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:58:42] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:58:43] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:59:08] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:59:09] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[17:59:35] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[17:59:36] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[18:00:00] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[18:00:01] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[18:00:10] *** Quits: pyrac (pyrac@moz-C70D038B.w109-214.abo.wanadoo.fr) (Quit: pyrac)
[18:00:25] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[18:00:25] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[18:00:50] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[18:00:51] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[18:00:58] *** Joins: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP)
[18:01:16] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[18:01:16] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[18:01:41] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[18:01:41] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[18:02:05] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[18:02:06] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[18:02:33] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[18:02:33] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[18:02:40] <nmatsakis> I think it's best not to think of ~ as a pointer.
[18:02:46] <nmatsakis> but rather as a value that can be cheaply moved from place to place.
[18:02:57] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[18:02:58] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[18:03:22] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[18:03:22] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[18:03:48] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[18:03:49] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[18:04:13] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[18:04:14] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[18:04:21] *** Joins: tgt (tgt@moz-D59EE478.aztw.cable.virginmedia.com)
[18:04:39] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[18:04:40] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[18:05:07] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[18:05:07] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[18:05:27] *** Quits: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP) (Ping timeout)
[18:05:31] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[18:05:32] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[18:05:44] *** Joins: mattin (user@9580E10C.DC7A989C.7F8AB798.IP)
[18:05:57] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[18:05:57] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[18:06:22] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[18:06:23] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[18:06:47] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[18:06:48] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[18:07:13] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[18:07:14] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[18:07:20] *** Quits: mschifer1 (Adium@2557E599.66715431.D25A875A.IP) (Quit: Leaving.)
[18:07:26] *** Joins: mschifer (Adium@2557E599.66715431.D25A875A.IP)
[18:07:35] *** Joins: pyrac (pyrac@moz-C70D038B.w109-214.abo.wanadoo.fr)
[18:07:38] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[18:07:38] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[18:08:03] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[18:08:03] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[18:08:28] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[18:08:29] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[18:08:53] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[18:08:54] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[18:09:18] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[18:09:19] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[18:09:44] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[18:09:44] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[18:10:08] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[18:10:08] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[18:10:33] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[18:10:34] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[18:10:58] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[18:10:58] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[18:11:22] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[18:11:23] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[18:11:45] *** Joins: jclements (jclements@BE2C733F.BE115975.BABD49BE.IP)
[18:11:46] *** Quits: mattin (user@9580E10C.DC7A989C.7F8AB798.IP) (Ping timeout)
[18:11:47] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[18:11:48] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[18:12:13] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[18:12:14] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[18:12:34] *** Quits: afrey (Mibbit@AE48690.2C9B3718.5B998C92.IP) (Z:lined (Your IP, 77.109.139.26, is listed in the EFnet RBL. For further information, visit http://rbl.efnetrbl.org/?i=77.109.139.26))
[18:12:38] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[18:12:38] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[18:12:39] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[18:13:03] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[18:13:03] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[18:13:27] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[18:13:27] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[18:13:52] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[18:13:52] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[18:14:09] *** Joins: infynyxx_ (infynyxx@moz-E95B370B.nyc.res.rr.com)
[18:14:17] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[18:14:17] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[18:14:41] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[18:14:42] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[18:15:03] *** Quits: infynyxx (infynyxx@moz-8BFA475.sub-70-192-73.myvzw.com) (Ping timeout)
[18:15:06] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[18:15:06] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[18:15:32] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[18:15:32] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[18:15:57] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[18:15:58] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[18:16:23] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[18:16:23] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[18:16:48] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[18:16:49] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[18:17:14] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[18:17:15] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[18:17:40] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[18:17:40] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[18:18:05] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[18:18:05] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[18:18:29] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[18:18:30] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[18:18:38] <cmr> hm
[18:18:54] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[18:18:55] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[18:19:09] <cmr> rusti: static a: &'static[bool] = &'static[true, true true]; a.len()
[18:19:10] -rusti- foo.rs:5:56: 5:60 error: expected `,` but found `true`
[18:19:10] -rusti- foo.rs:5          static a: &'static[bool] = &'static[true, true true]; a.len()
[18:19:10] -rusti-                                                                  ^~~~
[18:19:20] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[18:19:20] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[18:19:31] <cmr> rusti: static a: &'static[bool] = &'static[true, true, true]; a.len()
[18:19:33] -rusti- 3
[18:19:43] <cmr> rusti: static a: &'static[bool] = &'static[true, true, true]; static len: int = a.len()
[18:19:44] -rusti- foo.rs:6:4: 6:5 error: expected `;` but found `}`
[18:19:44] -rusti- foo.rs:6     });
[18:19:44] -rusti-              ^
[18:19:46] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[18:19:46] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[18:19:48] <cmr> rusti: static a: &'static[bool] = &'static[true, true, true]; static len: int = a.len(); len
[18:19:49] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/ScTO
[18:19:49] <cscott> can we ban zakora?  i'm getting an excessive amount of irc status spam.
[18:20:02] *** Quits: jorendorff (jorendorff@moz-2F32ACA3.hsd1.tn.comcast.net) (Quit: jorendorff)
[18:20:03] <cmr> rusti: static a: &'static[bool] = &'static[true, true, true]; static len: uint = a.len(); len
[18:20:05] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/WeWB
[18:20:11] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[18:20:12] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[18:20:23] <cmr> of course it's unimplemented
[18:20:36] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[18:20:37] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[18:20:50] *** Joins: tef (tef@moz-67B68E00.printf.net)
[18:21:01] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[18:21:01] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[18:21:10] <cmr> Anyone know if that's possible to evaluate statically?
[18:21:25] <strcat> cmr: you can't call functions in constant expressions
[18:21:26] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[18:21:26] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[18:21:51] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[18:21:52] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[18:22:04] *** Quits: azita (Azita@2557E599.66715431.D25A875A.IP) (Quit: azita)
[18:22:18] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[18:22:19] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[18:22:27] <cmr> strcat: Right, but I *think* it should be possible to call methods on static objects if the method doesn't refer to anything except arguments and self... maybe
[18:22:41] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[18:22:42] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[18:23:06] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[18:23:06] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[18:23:10] *** Joins: seth (seth@5AAE35B2.5EFFC0B8.24454B25.IP)
[18:23:28] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[18:23:29] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Max SendQ exceeded)
[18:23:42] <cmr> I want to assert at compiletime that the length of the two &'static slices are equal, which is a very useful application of https://github.com/mozilla/rust/issues/6568
[18:23:54] *** Joins: zakora (NC@moz-8EAF945F.fbx.proxad.net)
[18:24:46] *** Quits: mschifer (Adium@2557E599.66715431.D25A875A.IP) (Connection reset by peer)
[18:24:46] *** Joins: mschifer1 (Adium@2557E599.66715431.D25A875A.IP)
[18:24:56] *** Quits: Blei (philipp@moz-96D25F7A.cust.bluewin.ch) (Quit: WeeChat 0.4.0)
[18:25:03] *** Joins: bleibig (bleibig@moz-58EF3B3A.rochester.res.rr.com)
[18:25:06] *** Quits: seth (seth@5AAE35B2.5EFFC0B8.24454B25.IP) (Ping timeout)
[18:28:37] *** Joins: jorendorff (jorendorff@moz-2F32ACA3.hsd1.tn.comcast.net)
[18:28:50] *** Quits: pyrac (pyrac@moz-C70D038B.w109-214.abo.wanadoo.fr) (Quit: pyrac)
[18:28:59] *** Joins: fabiand (fabiand@moz-44DC47FA.adsl.alicedsl.de)
[18:32:34] *** Quits: ssbr_ (scorchsabe@A9D9D38C.B6F034AC.72A31D6.IP) (Ping timeout)
[18:32:35] *** Quits: ssbr (ssbr@A9D9D38C.B6F034AC.72A31D6.IP) (Ping timeout)
[18:34:20] <bstrie> has anyone else heard of this "can't determine value for sysroot" bug? https://github.com/mozilla/rust/issues/1711
[18:34:41] <strcat> happens when I don't have /proc mounted
[18:34:43] <strcat> ;p
[18:34:43] *** Joins: ssbr (scorchsabe@A9D9D38C.B6F034AC.72A31D6.IP)
[18:34:49] *** Joins: ssbr_ (ssbr@A9D9D38C.B6F034AC.72A31D6.IP)
[18:35:03] <benh> figures you'd run into that
[18:35:57] <bstrie> just wondering whether or not it was worth re-closing. guess I'll ask brson later
[18:36:05] *** Joins: pyrac (pyrac@moz-C70D038B.w109-214.abo.wanadoo.fr)
[18:36:09] <strcat> http://ix.io/5IS
[18:37:15] *** Joins: pcwalton (pcwalton@2557E599.66715431.D25A875A.IP)
[18:37:15] *** ChanServ sets mode: +o pcwalton
[18:37:16] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Quit: WeeChat 0.4.0)
[18:37:19] <bstrie> well I presume that the bug submitter did have proc mounted :P
[18:37:23] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[18:37:43] *** Quits: Jesin (Jessin_@moz-5654D37.washdc.fios.verizon.net) (Ping timeout)
[18:37:47] *** Quits: pcwalton (pcwalton@2557E599.66715431.D25A875A.IP) (Quit: pcwalton)
[18:37:52] <bstrie> they do mention that it was on arch
[18:38:13] <strcat> well I don't know how you'd make it happen
[18:38:41] <benh> are there, like, security rulesets that would block access to items in /proc?
[18:38:48] <strcat> benh: yes
[18:39:09] <benh> Does arch's package manager build packages as root?
[18:39:10] *** Quits: fabiand (fabiand@moz-44DC47FA.adsl.alicedsl.de) (Quit: Verlassend)
[18:39:20] <strcat> benh: no
[18:39:34] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[18:39:34] <ghrust> 01[13rust01] 15bors merged 06auto into 06incoming: 02http://git.io/JV11Kg
[18:39:34] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[18:39:50] <strcat> it builds as non-root and packages as fakeroot (not actually root)
[18:40:00] *** Quits: ssbr (scorchsabe@A9D9D38C.B6F034AC.72A31D6.IP) (Ping timeout)
[18:40:06] <strcat> and if you use devtools it does both in a clean (freshly made) sandbox
[18:40:15] *** Quits: ssbr_ (ssbr@A9D9D38C.B6F034AC.72A31D6.IP) (Ping timeout)
[18:40:21] <strcat> I don't know how you'd not have /proc ;p
[18:40:24] *** Joins: catpig (catpig@moz-5EA88CFE.dip0.t-ipconnect.de)
[18:40:39] <strcat> something like apparmor could prevent access to that path, I guess
[18:40:51] <benh> Specifically the submitter would have needed to have /proc while building rustc but not while building user code?
[18:41:11] <strcat> hm?
[18:41:28] * strcat shrugs
[18:41:48] *** Joins: ssbr (scorchsabe@A9D9D38C.B6F034AC.72A31D6.IP)
[18:41:58] *** Joins: ssbr_ (ssbr@A9D9D38C.B6F034AC.72A31D6.IP)
[18:45:01] *** Joins: dherman (dherman@moz-B31C6965.dsl.pltn13.sbcglobal.net)
[18:45:01] *** ChanServ sets mode: +o dherman
[18:45:29] *** Quits: int3_ (int3_@moz-B7B5F043.singnet.com.sg) (Client exited)
[18:45:46] *** Quits: bytbox (s@moz-D83E9B31.wireless.umd.edu) (Ping timeout)
[18:46:38] *** Quits: ssbr_ (ssbr@A9D9D38C.B6F034AC.72A31D6.IP) (Ping timeout)
[18:47:07] *** Quits: ssbr (scorchsabe@A9D9D38C.B6F034AC.72A31D6.IP) (Ping timeout)
[18:47:42] *** Quits: infynyxx_ (infynyxx@moz-E95B370B.nyc.res.rr.com) (Client exited)
[18:48:06] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[18:48:27] *** Joins: bbrittain (bbrittain@2557E599.66715431.D25A875A.IP)
[18:48:47] *** Joins: ssbr (scorchsabe@A9D9D38C.B6F034AC.72A31D6.IP)
[18:48:51] *** Joins: ssbr_ (ssbr@A9D9D38C.B6F034AC.72A31D6.IP)
[18:49:55] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Ping timeout)
[18:53:18] *** Quits: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com) (Client exited)
[18:53:24] *** Joins: bytbox (s@moz-D83E9B31.wireless.umd.edu)
[18:53:36] *** Quits: ssbr (scorchsabe@A9D9D38C.B6F034AC.72A31D6.IP) (Ping timeout)
[18:53:43] *** Quits: ssbr_ (ssbr@A9D9D38C.B6F034AC.72A31D6.IP) (Ping timeout)
[18:54:42] *** Joins: azita (Azita@2557E599.66715431.D25A875A.IP)
[18:55:42] *** Joins: ssbr (scorchsabe@A9D9D38C.B6F034AC.72A31D6.IP)
[18:55:57] *** Joins: ssbr_ (ssbr@A9D9D38C.B6F034AC.72A31D6.IP)
[18:56:09] *** Joins: Jesse (jruderman@2557E599.66715431.D25A875A.IP)
[18:58:53] *** cscott is now known as cscottnet_away
[18:59:17] *** cscottnet_away is now known as cscottnet
[19:01:06] *** Quits: ssbr (scorchsabe@A9D9D38C.B6F034AC.72A31D6.IP) (Ping timeout)
[19:01:14] *** Quits: ssbr_ (ssbr@A9D9D38C.B6F034AC.72A31D6.IP) (Ping timeout)
[19:02:47] *** Joins: ssbr (scorchsabe@A9D9D38C.B6F034AC.72A31D6.IP)
[19:02:57] *** Joins: ssbr_ (ssbr@A9D9D38C.B6F034AC.72A31D6.IP)
[19:03:28] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[19:06:34] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[19:06:35] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/RhGYGQ
[19:06:35] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[19:06:36] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[19:06:36] <ghrust> 01[13rust01] 15bors pushed 7 new commits to 06auto: 02http://git.io/UkQKmw
[19:06:36] <ghrust> 13rust/06auto 14975f264 15John Clements: refactoring test functions
[19:06:36] <ghrust> 13rust/06auto 1405ab83e 15John Clements: parser comment
[19:06:36] <ghrust> 13rust/06auto 14b621820 15John Clements: detect unused attrs in one more place, allow parsing to continue for all...
[19:06:37] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[19:06:48] *** Joins: robarnold (rob@moz-59F6B5.hfc.comcastbusiness.net)
[19:07:42] *** Quits: mzabaluev (mzabaluev@moz-91FFD755.dhcp.inet.fi) (Ping timeout)
[19:08:04] *** Quits: ssbr (scorchsabe@A9D9D38C.B6F034AC.72A31D6.IP) (Ping timeout)
[19:08:11] *** Quits: ssbr_ (ssbr@A9D9D38C.B6F034AC.72A31D6.IP) (Ping timeout)
[19:09:47] <Luqman> :( i hate when problems only seem to pop up in stage2
[19:09:48] *** Joins: ssbr (scorchsabe@A9D9D38C.B6F034AC.72A31D6.IP)
[19:09:54] *** Joins: ssbr_ (ssbr@A9D9D38C.B6F034AC.72A31D6.IP)
[19:11:26] <cmr> So, is there a convenient way to take a ~[u8] and force it into a ~[u16]?
[19:13:00] <cmr> rusti: unsafe { let f: ~[u16] = transmute(~[1u8, 2u8, 3u8]); f }
[19:13:01] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/UJOV
[19:13:11] <cmr> rusti: unsafe { let f: ~[u16] = ::core::cast::transmute(~[1u8, 2u8, 3u8]); f }
[19:13:13] -rusti- ~[513, 3]
[19:15:11] *** Joins: thomaslee_ (thomaslee@moz-6C3931E3.static.twtelecom.net)
[19:15:35] *** Quits: ssbr (scorchsabe@A9D9D38C.B6F034AC.72A31D6.IP) (Ping timeout)
[19:15:40] *** Quits: ssbr_ (ssbr@A9D9D38C.B6F034AC.72A31D6.IP) (Ping timeout)
[19:16:54] *** Joins: ssbr (scorchsabe@A9D9D38C.B6F034AC.72A31D6.IP)
[19:17:13] *** Joins: ssbr_ (ssbr@A9D9D38C.B6F034AC.72A31D6.IP)
[19:19:45] *** Quits: novabyte (Instantbir@moz-3E0F9699.cable.virginmedia.com) (Quit: bye bye)
[19:21:33] *** Quits: ssbr (scorchsabe@A9D9D38C.B6F034AC.72A31D6.IP) (Ping timeout)
[19:21:40] *** Quits: ssbr_ (ssbr@A9D9D38C.B6F034AC.72A31D6.IP) (Ping timeout)
[19:23:10] *** Quits: bbrittain (bbrittain@2557E599.66715431.D25A875A.IP) (Quit: bbrittain)
[19:23:43] *** Joins: ssbr (scorchsabe@A9D9D38C.B6F034AC.72A31D6.IP)
[19:23:47] *** Joins: seth (seth@5AAE35B2.5EFFC0B8.24454B25.IP)
[19:23:53] *** Joins: ssbr_ (ssbr@A9D9D38C.B6F034AC.72A31D6.IP)
[19:25:38] *** Quits: seth (seth@5AAE35B2.5EFFC0B8.24454B25.IP) (Ping timeout)
[19:26:42] *** Joins: bbrittain (bbrittain@2557E599.66715431.D25A875A.IP)
[19:28:31] *** Quits: ssbr (scorchsabe@A9D9D38C.B6F034AC.72A31D6.IP) (Ping timeout)
[19:28:43] *** Quits: ssbr_ (ssbr@A9D9D38C.B6F034AC.72A31D6.IP) (Ping timeout)
[19:30:43] *** Joins: ssbr (scorchsabe@A9D9D38C.B6F034AC.72A31D6.IP)
[19:30:51] *** Joins: ssbr_ (ssbr@A9D9D38C.B6F034AC.72A31D6.IP)
[19:32:55] *** Quits: jdm (jdm@DB05BBF2.BB1F48F2.971E19F6.IP) (Quit: Lost terminal)
[19:36:10] *** Quits: ssbr (scorchsabe@A9D9D38C.B6F034AC.72A31D6.IP) (Ping timeout)
[19:36:13] *** Quits: ssbr_ (ssbr@A9D9D38C.B6F034AC.72A31D6.IP) (Ping timeout)
[19:37:48] *** Joins: ssbr (ssbr@A9D9D38C.B6F034AC.72A31D6.IP)
[19:37:49] *** Joins: ssbr_ (scorchsabe@A9D9D38C.B6F034AC.72A31D6.IP)
[19:38:15] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Client exited)
[19:38:36] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[19:40:17] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Ping timeout)
[19:43:06] *** Quits: ssbr_ (scorchsabe@A9D9D38C.B6F034AC.72A31D6.IP) (Ping timeout)
[19:43:20] *** Quits: ssbr (ssbr@A9D9D38C.B6F034AC.72A31D6.IP) (Ping timeout)
[19:43:49] *** Quits: tiffany (kawaii@moz-1E0FE6E8.dhcp.embarqhsd.net) (No route to host)
[19:44:01] *** Joins: tiffany (kawaii@moz-1E0FE6E8.dhcp.embarqhsd.net)
[19:44:39] *** Joins: ssbr (ssbr@A9D9D38C.B6F034AC.72A31D6.IP)
[19:44:49] *** Joins: ssbr_ (scorchsabe@A9D9D38C.B6F034AC.72A31D6.IP)
[19:46:16] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.0)
[19:46:25] *** Quits: donri (dag@moz-9BB61102.tbcn.telia.com) (Ping timeout)
[19:46:31] *** Quits: BitPuffin (quassel@moz-8370D1B9.bredband.comhem.se) (Ping timeout)
[19:46:31] *** Quits: hansjorg (hansjorg@moz-1D800A00.dsl.no.powertech.net) (Ping timeout)
[19:46:40] *** Joins: BitPuffin (quassel@moz-8370D1B9.bredband.comhem.se)
[19:46:50] *** Quits: raze (raze@moz-4E6675AF.bredband.comhem.se) (Ping timeout)
[19:46:50] *** Quits: rsaarelm (rsaarelm@moz-D1CB7158.dhcp.inet.fi) (Ping timeout)
[19:46:52] *** Joins: raze (raze@moz-4E6675AF.bredband.comhem.se)
[19:46:52] *** Joins: rsaarelm (rsaarelm@moz-D1CB7158.dhcp.inet.fi)
[19:47:30] *** Joins: hansjorg (hansjorg@moz-1D800A00.dsl.no.powertech.net)
[19:47:44] *** Joins: hjr3 (hradtke@AF4FC8FE.D2A4E84D.523CBD62.IP)
[19:48:30] *** Joins: Blackrush (Mibbit@moz-6D0A1C19.hfc.dyn.abo.bbox.fr)
[19:49:34] *** Quits: ssbr_ (scorchsabe@A9D9D38C.B6F034AC.72A31D6.IP) (Ping timeout)
[19:49:59] *** Quits: ssbr (ssbr@A9D9D38C.B6F034AC.72A31D6.IP) (Ping timeout)
[19:51:00] <Jesse> cmr: do you want [1u8, 1u8] to become [1u16] or [257u16] or something else?
[19:51:34] <cmr> Jesse: [257u16]
[19:51:41] *** Joins: ssbr (ssbr@A9D9D38C.B6F034AC.72A31D6.IP)
[19:51:45] *** Joins: ssbr_ (scorchsabe@A9D9D38C.B6F034AC.72A31D6.IP)
[19:51:57] <cmr> or actually
[19:52:03] <cmr> yeah
[19:52:07] <cmr> little endian
[19:52:18] <cmr> although transmute probably doesn't care about endianness :\
[19:53:28] *** Joins: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com)
[19:54:33] *** Joins: donri (dag@moz-9BB61102.tbcn.telia.com)
[19:55:14] *** Quits: bytbox (s@moz-D83E9B31.wireless.umd.edu) (Ping timeout)
[19:55:16] *** Quits: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com) (Ping timeout)
[19:57:09] *** Quits: ssbr_ (scorchsabe@A9D9D38C.B6F034AC.72A31D6.IP) (Ping timeout)
[19:57:15] *** Quits: ssbr (ssbr@A9D9D38C.B6F034AC.72A31D6.IP) (Ping timeout)
[19:58:10] *** Joins: brson (brson@2557E599.66715431.D25A875A.IP)
[19:58:10] *** ChanServ sets mode: +o brson
[19:59:29] *** Joins: jviereck (Adium@moz-57512FAD.dynamic.hispeed.ch)
[19:59:43] <cscottnet> another type system question:
[20:00:58] *** Joins: bytbox (s@moz-D83E9B31.wireless.umd.edu)
[20:01:21] <cscottnet> rusti: struct Tree { parent: Option<~Tree> }; fn foo(t: ~Tree) -> ~Tree { t.parent.expect("parent of root") }
[20:01:22] -rusti- more than 5 lines of output, pastebinned: http://sprunge.us/NWWF
[20:01:33] <cscottnet> "error: cannot move out of field"
[20:02:04] <cscottnet> how do i tell rust's type system that I want to take the parent and throw away the node?
[20:02:50] *** Quits: brson (brson@2557E599.66715431.D25A875A.IP) (Ping timeout)
[20:03:08] <bstrie> hmm
[20:03:10] *** Joins: brson (brson@2557E599.66715431.D25A875A.IP)
[20:03:11] *** ChanServ sets mode: +o brson
[20:05:32] <doener> struct Tree { parent: Option<~Tree> }; fn foo(t: ~Tree) -> ~Tree { let ~Tree { parent: p } = t; p.get() }
[20:05:39] <doener> rusti: struct Tree { parent: Option<~Tree> }; fn foo(t: ~Tree) -> ~Tree { let ~Tree { parent: p } = t; p.get() }
[20:06:26] *** Joins: ssbr (scorchsabe@A9D9D38C.B6F034AC.72A31D6.IP)
[20:06:31] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[20:06:31] <ghrust> 01[13rust01] 15bors merged 06auto into 06incoming: 02http://git.io/UkQKmw
[20:06:31] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[20:07:48] <cscottnet> doener: i don't understand how/why that works
[20:07:55] <doener> cscottnet: well, expect() instead of get() in your case
[20:07:57] *** Quits: bytbox (s@moz-D83E9B31.wireless.umd.edu) (Ping timeout)
[20:08:09] *** Quits: hjr3 (hradtke@AF4FC8FE.D2A4E84D.523CBD62.IP) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[20:08:26] *** Joins: anshin (nbs@441B8B9E.2055B963.D2A6B5.IP)
[20:08:52] <doener> cscottnet: it's pattern matching. The match assigns the value of "parent" to p
[20:08:55] <cscottnet> seems like you're still stealing the unique parent pointer out of t?
[20:09:24] <cscottnet> (i understand the syntax.  i'm trying to understand the pointer semantics.)
[20:09:25] <doener> cscottnet: it works because the pattern match eats the whole Tree, instead of just the parent (which is just transferred to "p" along the way)
[20:09:44] <nmatsakis> cscottnet: there is an artificial limitation that you must move out using pattern matching
[20:09:44] *** Joins: ssbr_ (ssbr@A9D9D38C.B6F034AC.72A31D6.IP)
[20:09:56] <nmatsakis> cscottnet: this will be lifted soonish
[20:09:57] <cscottnet> so rust doesn't have to try to rewrite the ref out of the embedded option
[20:10:05] *** Quits: Ralith (ralith@moz-50F3C77.vc.shawcable.net) (Ping timeout)
[20:10:15] <cscottnet> s/out of/inside/
[20:11:43] *** Joins: lerc (quassel@6174E42B.BEFA2430.788638A4.IP)
[20:11:54] <doener> cscottnet: alternatively you could do: fn bar(mut t: ~Tree) -> ~Tree { let mut p = None; core::util::swap(&mut t.parent, &mut p); p.get() }
[20:12:40] <cmr> Is there a cfg for endianness?
[20:12:48] <cscottnet> doener: that version i grok.  it's less elegant than your other version, though. ;)
[20:13:18] *** Quits: Blackrush (Mibbit@moz-6D0A1C19.hfc.dyn.abo.bbox.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[20:13:18] <cscottnet> i've seen <--> syntax for swap, maybe in docs?  is that deprecated?
[20:13:28] <Luqman> cmr: yes, target_endian iirc
[20:13:28] <bstrie> mismatched types: expected `[type error]` but found struct
[20:13:31] <cmr> cscottnet: <->, not even deprecated, removed.
[20:13:34] <bstrie> ^this is my new favorite error message
[20:13:43] *** Joins: eatkinson (Adium@2557E599.66715431.D25A875A.IP)
[20:13:57] <bstrie> Rust: We Expect Type Errors
[20:14:51] <bstrie> doener: how would you translate the answer to cscottnet's question to use match rather than let? I keep getting ICEs
[20:14:52] <cmr> Luqman: yup, thanks.
[20:15:08] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[20:17:10] <doener> bstrie: fn foo(t: ~Tree) -> ~Tree { match t { ~Tree{ parent } => parent }.expect("Parent of tree") }
[20:17:45] <doener> hm, maybe move the ".expect()" part into the match, looks weird this way
[20:17:48] <bstrie> ah, I was doing ~Tree{ parent: foo }
[20:17:58] <cscottnet> assuming tree has multiple fields, other than parent -- can someone show me how to use the '*' wildcard to match "all the rest of the fields"?  I can't find an example in the docs anywhere.
[20:18:06] <nmatsakis> cscottnet: it's _
[20:18:15] <nmatsakis> cscottnet: Struct {f1, f2, f3, _}
[20:18:21] <doener> bstrie: fn foo3(t: ~Tree) -> ~Tree { match t { ~Tree{ parent: foo } => foo.expect("Parent of tree") } }
[20:18:24] <doener> works for me
[20:18:32] <nmatsakis> where f1 is either field:pat or just field (which is short for field:field)
[20:18:36] <cscottnet> nmatsakis: thanks.
[20:18:37] <bstrie> nmatsakis: but can't you also use * instead of _ to match any number of ignored fields?
[20:18:46] <cscottnet> bstrie: not when i tried it
[20:18:53] <nmatsakis> bstrie: somewhat inconsistently, `_` in a struct pattern means "any number of ignored fields"
[20:18:57] <bstrie> ah
[20:18:58] <nmatsakis> it predates *
[20:19:00] <nmatsakis> should probably be changed
[20:19:10] <cscottnet> yeah, * would probably me more consistent
[20:19:12] <bstrie> right, I remember * from back when classes were in the language :P
[20:19:15] <cscottnet> although I also tried ..
[20:19:30] <nmatsakis> we should just accept all 3
[20:19:30] <nmatsakis> ;)
[20:19:44] <Luqman> nmatsakis: i think i've fixed the self by-val issue with immediates but stage2 rustc complains about exchange heap not empty. is there anything obvious you can see i'm missing https://github.com/mozilla/rust/pull/6638/files#diff-1
[20:19:44] <cscottnet> TMTOWTDI
[20:20:41] *** Quits: Jesse (jruderman@2557E599.66715431.D25A875A.IP) (Connection reset by peer)
[20:21:09] *** Joins: devbug (quassel@moz-E1DE087C.bchsia.telus.net)
[20:21:26] <nmatsakis> Luqman: I'll look it over. One immediate comment is that type_is_newtype_scalar is too narrow
[20:21:39] <nmatsakis> Luqman: it ought to be a newtype of anything immediate
[20:21:44] <nmatsakis> Luqman: not just a scalar
[20:21:55] *** Joins: Jesse (jruderman@2557E599.66715431.D25A875A.IP)
[20:21:56] <nmatsakis> Luqman: (e.g., struct Foo(~int) should qualify too)
[20:22:08] <Luqman> ah right
[20:22:13] *** Quits: BitPuffin (quassel@moz-8370D1B9.bredband.comhem.se) (Client exited)
[20:22:49] <cmr> Luqman: https://github.com/mozilla/rust/issues/5321 ?
[20:22:55] <cmr> (is that what you're working on fixing)
[20:23:26] <Luqman> cmr: yes, that and 6612
[20:24:08] <nmatsakis> Luqman: certainly the code in trans/callee.rs looks...awfully susipcious.
[20:24:12] <nmatsakis> *suspicious.
[20:24:21] <cmr> sweet! I'll be able to work on https://github.com/mozilla/rust/issues/6045
[20:24:25] *** Joins: seth (seth@5AAE35B2.5EFFC0B8.24454B25.IP)
[20:25:31] *** Joins: blitter (blitter@moz-7C98731E.dyn.centurytel.net)
[20:26:05] *** Quits: seth (seth@5AAE35B2.5EFFC0B8.24454B25.IP) (Ping timeout)
[20:26:10] <Luqman> nmatsakis: yes, that part was a bit hairy. self seems to need to be casted to another pointer type but sometimes d.llself isn't a pointer itself
[20:26:16] <jld> cscottnet: If I recall correctly, moving a unique pointer (or anything, maybe?) zeroes the original.  So it's the same thing as swapping in None.
[20:26:49] <nmatsakis> Luqman: it seems like we should just always use by-ref mode so long as we continue to pass self in the environment pointer, which we should not do but which is an involved thing to fix (erickt is working on it)
[20:27:25] <nmatsakis> Luqman: still I don't really get what you're doing there, it doesn't look especially valid. why do you store the value and then dro pit?
[20:27:33] <nmatsakis> Luqman: and once you drop it, you should certainly not go on to use it
[20:27:49] *** Joins: tikue (chatzilla@2557E599.66715431.D25A875A.IP)
[20:28:08] *** Joins: novabyte (Instantbir@moz-3E0F9699.cable.virginmedia.com)
[20:28:09] *** Quits: jorendorff (jorendorff@moz-2F32ACA3.hsd1.tn.comcast.net) (Quit: jorendorff)
[20:28:10] *** Quits: santiago (santiago@moz-8ADE82B4.socal.res.rr.com) (Quit: Computer has gone to sleep.)
[20:28:37] *** Quits: novabyte (Instantbir@moz-3E0F9699.cable.virginmedia.com) (Quit: bye bye)
[20:30:25] <nmatsakis> Luqman: I imagine converting us to use always pass self by ref would fix #5321
[20:30:48] *** Joins: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com)
[20:31:09] <Luqman> nmatsakis: ok, i'll try that, thanks! (this is why i should not write code at 3 in the morning :P)
[20:31:20] *** Joins: pcwalton (pcwalton@2557E599.66715431.D25A875A.IP)
[20:31:20] *** ChanServ sets mode: +o pcwalton
[20:32:02] *** Quits: Jesse (jruderman@2557E599.66715431.D25A875A.IP) (Quit: Jesse)
[20:32:43] *** Joins: jorendorff (jorendorff@moz-2F32ACA3.hsd1.tn.comcast.net)
[20:33:45] *** Quits: jviereck (Adium@moz-57512FAD.dynamic.hispeed.ch) (Quit: Leaving.)
[20:36:45] *** Joins: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca)
[20:37:22] *** Joins: santiago (santiago@moz-8ADE82B4.socal.res.rr.com)
[20:38:19] *** Quits: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com) (Client exited)
[20:38:34] *** Quits: zakora (NC@moz-8EAF945F.fbx.proxad.net) (Quit: Textual IRC Client: www.textualapp.com)
[20:41:41] <bstrie> acrichto: quick, rebase your giant allocation patch so I can approve it!
[20:42:47] <acrichto> bstrie: updated :)
[20:43:39] <acrichto> thanks!
[20:43:45] <bstrie> this is awesome
[20:43:54] <bstrie> freeing us of the legacy of ~"strings"
[20:44:07] <acrichto> and ~[]
[20:44:19] <bstrie> I wonder if it will impact perf at all
[20:44:29] <cmr> what is it?
[20:44:34] <acrichto> I was watching out for loops which had allocations, but I didn't see many at all
[20:44:40] <bstrie> https://github.com/mozilla/rust/pull/6647
[20:44:44] <acrichto> I'll watch http://huonw.github.io/isrustfastyet/ though :)
[20:44:58] <bstrie> acrichto: we need one of those for memory use too!
[20:45:07] <bstrie> isrustslimyet
[20:45:21] <acrichto> that would be super nice for https://github.com/mozilla/rust/issues/6637
[20:45:29] <acrichto> "oh, there's the huge spike"
[20:45:30] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[20:45:30] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/xvYaRA
[20:45:30] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[20:45:34] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[20:45:34] <ghrust> 01[13rust01] 15bors pushed 3 new commits to 06auto: 02http://git.io/0dxEdQ
[20:45:34] <ghrust> 13rust/06auto 1450c4983 15Alex Crichton: Implement a lint mode to detect unnecessary allocations
[20:45:34] <ghrust> 13rust/06auto 14b87ba3d 15Alex Crichton: Remove all unnecessary allocations (as flagged by lint)
[20:45:34] <ghrust> 13rust/06auto 14a3cd8da 15bors: auto merge of #6647 : alexcrichton/rust/unnecessary-alloc, r=bstrie...
[20:45:35] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[20:45:47] <bstrie> yes, that's what I was thinking of
[20:46:16] *** Joins: Jesse (jruderman@2557E599.66715431.D25A875A.IP)
[20:46:17] *** Joins: bytbox (s@moz-D83E9B31.wireless.umd.edu)
[20:46:20] *** Quits: Jesse (jruderman@2557E599.66715431.D25A875A.IP) (Input/output error)
[20:46:21] <cmr> what isrustfastyet needs is real benchmarks.
[20:46:21] <cmr> too much noise on the buildbots.
[20:47:04] <cmr> wow that's a huge patch
[20:47:10] <cmr> acrichto: did you do that by hand? :)
[20:47:22] <acrichto> cmr: the url? oh no that's dbaupp I think
[20:47:39] <cmr> no, https://github.com/alexcrichton/rust/commit/b87ba3d6d5bf17d948187aa8bbfaf16a11a2de63
[20:48:17] <acrichto> well, the compiler told me what to do, I just did it
[20:48:23] <acrichto> but yeah I edited it all by hand
[20:49:16] <bstrie> acrichto: uh oh, found a typo in one of your comments. we'll have to cancel the whole build!
[20:49:22] <acrichto> :(
[20:49:38] <bstrie> as penance, write a lint mode that spellchecks comments :P
[20:49:51] <acrichto> I'm notoriously bad for that
[20:50:07] <bstrie> I'm not concerned, it's not even a doc comment
[20:50:23] <acrichto> if it bounces I'll fix it
[20:50:28] <acrichto> but hopefully it doesn't
[20:55:37] *** Quits: rapha (Mibbit@730DAE49.BF91A228.DF793B8F.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[20:57:15] *** Quits: blitter (blitter@moz-7C98731E.dyn.centurytel.net) (Ping timeout)
[20:57:53] *** Quits: bbrittain (bbrittain@2557E599.66715431.D25A875A.IP) (Quit: bbrittain)
[20:58:01] <bstrie> acrichto: is this function intended to be there? https://github.com/alexcrichton/rust/commit/b87ba3d6d5bf17d948187aa8bbfaf16a11a2de63#L5R529
[20:58:45] <acrichto> bstrie: yes, I changed env!() to return a &'static string instead of an owned string, so it needs to be stage0'd off
[20:58:51] <bstrie> ah ok
[20:58:56] <bstrie> what is env!() ?
[20:59:00] <acrichto> it's similar to the one above, just a few small differences
[20:59:05] <cmr> compiletime environment variables
[20:59:07] <acrichto> returns the environment variable at compile-time
[20:59:20] <bstrie> cool
[21:01:49] *** Joins: mcomella_ (mcomella@moz-B10FF54F.ri.ri.cox.net)
[21:04:02] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[21:05:30] <cmr> How expensive is logging, when RUST_LOG isn't set?
[21:05:48] <cmr> Would liberal debug!() cause a performance hit at all?
[21:05:54] *** Quits: eatkinson (Adium@2557E599.66715431.D25A875A.IP) (Quit: Leaving.)
[21:06:02] <bstrie> it doesn't evaluate its arguments unless the debug path is taken
[21:06:06] *** Quits: pcwalton (pcwalton@2557E599.66715431.D25A875A.IP) (Quit: pcwalton)
[21:06:06] <bstrie> so it's just a single branch instruction
[21:06:19] <cmr> alright
[21:06:19] *** Quits: n0vember (n0vember@moz-690FFF9D.org) (Ping timeout)
[21:06:25] <cmr> that's not so bad
[21:07:00] *** Quits: brson (brson@2557E599.66715431.D25A875A.IP) (Ping timeout)
[21:07:01] <bstrie> the goal is to have them be cheap enough that you don't mind leaving them in
[21:07:14] *** Quits: tikue (chatzilla@2557E599.66715431.D25A875A.IP) (Ping timeout)
[21:07:16] <cmr> A noble goal :)
[21:07:47] <cmr> Being able to compile them out would be nice though, eg in a game engine
[21:08:05] <bstrie> yeah, I think there's a bug for that
[21:08:32] *** Joins: eatkinson (Adium@2557E599.66715431.D25A875A.IP)
[21:09:09] *** Joins: mzabaluev (mzabaluev@moz-91FFD755.dhcp.inet.fi)
[21:09:28] *** Quits: bytbox (s@moz-D83E9B31.wireless.umd.edu) (Ping timeout)
[21:09:35] <bstrie> hm, can't find it
[21:10:02] *** Joins: tikue (chatzilla@2557E599.66715431.D25A875A.IP)
[21:10:37] *** Quits: haard (fredrik@moz-6A86987C.dynamic.se.alltele.net) (Ping timeout)
[21:10:49] *** Joins: pcwalton (pcwalton@2557E599.66715431.D25A875A.IP)
[21:10:49] *** ChanServ sets mode: +o pcwalton
[21:10:57] *** Joins: n0vember (n0vember@moz-690FFF9D.org)
[21:11:32] <acrichto> bstrie: re-r+ ? I never did run the whole test suite...
[21:12:00] *** Quits: spider-mario (spidermari@moz-2F72F6FF.dsl.quantic-telecom.net) (Input/output error)
[21:12:02] *** Joins: brson (brson@2557E599.66715431.D25A875A.IP)
[21:12:02] *** ChanServ sets mode: +o brson
[21:12:03] *** Quits: brson (brson@2557E599.66715431.D25A875A.IP) (Quit: brson)
[21:12:07] *** Joins: brson (brson@2557E599.66715431.D25A875A.IP)
[21:12:07] *** ChanServ sets mode: +o brson
[21:12:12] <brson> nmatsakis: pong
[21:12:39] *** Quits: mixi (mixi@moz-DBD8904A.org) (Input/output error)
[21:12:56] *** Joins: mixi (mixi@moz-DBD8904A.org)
[21:13:06] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Connection reset by peer)
[21:13:27] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[21:13:33] *** Quits: pyrac (pyrac@moz-C70D038B.w109-214.abo.wanadoo.fr) (Quit: pyrac)
[21:16:32] <brson> i'm going to start looking at the unaligned atomic load on incoming
[21:17:19] *** Quits: tikue (chatzilla@2557E599.66715431.D25A875A.IP) (Ping timeout)
[21:22:41] *** Joins: bytbox (s@moz-D83E9B31.wireless.umd.edu)
[21:22:53] *** Joins: tikue (chatzilla@2557E599.66715431.D25A875A.IP)
[21:24:56] *** Joins: seth (seth@5AAE35B2.5EFFC0B8.24454B25.IP)
[21:25:33] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[21:26:41] *** Quits: seth (seth@5AAE35B2.5EFFC0B8.24454B25.IP) (Ping timeout)
[21:28:57] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Client exited)
[21:29:18] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[21:30:36] *** Quits: doener (doener@moz-121949B3.unitymediagroup.de) (Quit: leaving)
[21:31:04] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Ping timeout)
[21:31:13] *** Quits: saml (sam@moz-14C16814.cst.lightpath.net) (Quit: Leaving)
[21:38:36] *** Joins: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com)
[21:40:22] *** Quits: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com) (Ping timeout)
[21:43:36] *** Joins: themgt (themgt@moz-F5F3FFDF.dhcp.gnvl.sc.charter.com)
[21:44:10] *** Joins: Jesse (jruderman@2557E599.66715431.D25A875A.IP)
[21:47:45] <cmr> awwwwww that explains a lot. I've been testing terminfo-rs with rxvt-unicode-256color, and comparing it with infocmp... but my $TERM was actually rxvt-256color :(
[21:48:31] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[21:48:31] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14a3cd8da to 1426babaa: 02http://git.io/N3iJvQ
[21:48:31] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[21:48:33] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[21:48:33] <ghrust> 01[13rust01] 15bors pushed 3 new commits to 06auto: 02http://git.io/1QfCRg
[21:48:33] <ghrust> 13rust/06auto 14a9c7d3f 15Olivier Saut: Typo corrected and updated copyright years
[21:48:33] <ghrust> 13rust/06auto 143f232bc 15Olivier Saut: Add ARC::get method and implements the function from it. Add an example showing a simple use of ARC.
[21:48:33] <ghrust> 13rust/06auto 1454eafc0 15bors: auto merge of #6639 : osaut/rust/arc-clean, r=brson...
[21:48:34] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[21:49:04] *** Parts: eatkinson (Adium@2557E599.66715431.D25A875A.IP) ()
[21:49:08] *** Joins: tikue_ (tkuehn@2557E599.66715431.D25A875A.IP)
[21:50:23] <kimundi> Aww, did acrichto 's patch bounce?
[21:50:37] <acrichto> yeah sadly :(
[21:50:59] *** Joins: youknowone (youknowone@A826BD81.8A0DEF81.38747683.IP)
[21:50:59] *** Quits: youknowone (youknowone@A826BD81.8A0DEF81.38747683.IP) (Z:lined (Open Proxy found on your host. Please visit www.blitzed.org/proxy?ip=115.68.131.49 for more information.))
[21:52:15] *** Quits: tikue (chatzilla@2557E599.66715431.D25A875A.IP) (Client exited)
[21:52:16] *** tikue_ is now known as tikue
[21:53:26] *** Quits: Blub\w (wry@7E3BB9D.71150E1A.237AE2BA.IP) (Quit: night)
[21:56:04] *** Quits: victorporof (victorporo@CDD95F1.20718EE9.79933D60.IP) (Quit: victorporof)
[21:57:35] *** Joins: eatkinson_ (eatkinson@2557E599.66715431.D25A875A.IP)
[22:00:51] *** cscottnet is now known as cscott
[22:05:35] *** eatkinson_ is now known as eatkinson
[22:06:25] *** Joins: bbrittain (bbrittain@2557E599.66715431.D25A875A.IP)
[22:08:03] *** Quits: vmx (vmx@moz-258DF15.pools.arcor-ip.net) (Quit: Leaving)
[22:14:02] *** Joins: hjr3 (hradtke@AF4FC8FE.D2A4E84D.523CBD62.IP)
[22:25:26] *** Joins: seth (seth@5AAE35B2.5EFFC0B8.24454B25.IP)
[22:25:59] *** kimundi is now known as zz_kimundi
[22:27:05] *** Quits: eatkinson (eatkinson@2557E599.66715431.D25A875A.IP) (Quit: eatkinson)
[22:27:18] *** Quits: seth (seth@5AAE35B2.5EFFC0B8.24454B25.IP) (Ping timeout)
[22:29:08] <zxcdw> Is it just me or does http://www.rust-lang.org not work, but instead just gives "unknown domain: www.rust-lang.org"?
[22:30:15] *** Quits: donri (dag@moz-9BB61102.tbcn.telia.com) (Client exited)
[22:30:16] <cmr> zxcdw: wfm
[22:30:42] <zxcdw> ...wait for a minute? D:
[22:30:48] <cmr> works for me
[22:31:02] *** Quits: naq (naq@D5C2D2DF.E4265FCD.E481B5B.IP) (Ping timeout)
[22:31:08] *** Joins: naq (naq@D5C2D2DF.E4265FCD.E481B5B.IP)
[22:32:00] <zxcdw> ah
[22:32:49] *** Joins: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com)
[22:32:54] *** Joins: SimonSapin (simon@8ACF1000.5EFFC0B8.24454B25.IP)
[22:34:16] *** Joins: knz (kena@moz-9840FCB4.ip.telfort.nl)
[22:34:36] *** Quits: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com) (Ping timeout)
[22:34:50] <knz> hello
[22:35:17] <knz> any suggestions about how to implement select()-like functionality on std channels?
[22:35:51] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[22:36:07] *** Joins: eatkinson (eatkinson@2557E599.66715431.D25A875A.IP)
[22:36:50] <pcwalton> knz: there is a pipes module that has select
[22:36:52] <nmatsakis> pcwalton: did you ever optimize fastffi? I think I've fixed this problem I was having, but I have the impression that my branch is very slow when building itself
[22:37:02] <pcwalton> nmatsakis: well, it is faster
[22:37:07] <pcwalton> than non-fast-ffi
[22:37:10] <knz> pcwalton: that sounds good, but I cant find it in http://static.rust-lang.org/doc/std/index.html
[22:37:12] <pcwalton> there is more optimization work to be done of course
[22:37:16] <nmatsakis> pcwalton: there was this specific problem that came up, right?
[22:37:21] <nmatsakis> pcwalton: I forget what it was.
[22:37:28] <cmr> knz: http://static.rust-lang.org/doc/core/index.html
[22:37:30] <pcwalton> there was a problem that came up if you *didn't* use fixed stack segment
[22:37:39] *** Quits: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net) (Quit: Textual IRC Client: www.textualapp.com)
[22:37:44] <cmr> knz: http://static.rust-lang.org/doc/core/pipes.html#function-select
[22:37:44] <nmatsakis> pcwalton: ok, well, i'll ... you know, measure and make sure that it really *is* slower.
[22:37:52] <knz> cmr: thx
[22:38:15] *** Quits: hjr3 (hradtke@AF4FC8FE.D2A4E84D.523CBD62.IP) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[22:39:37] *** Joins: hjr3 (hradtke@AF4FC8FE.D2A4E84D.523CBD62.IP)
[22:39:50] *** aatch|work is now known as aatch
[22:40:58] <knz> cmr: looks like "select on write" is not provided by module pipes
[22:41:05] <pcwalton> CFG_DISABLE_OPTIMIZE=1
[22:48:27] <knz> thanks anyway, bye!
[22:48:28] *** Parts: knz (kena@moz-9840FCB4.ip.telfort.nl) ()
[22:48:30] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[22:48:31] <ghrust> 01[13rust01] 15bors merged 06auto into 06incoming: 02http://git.io/1QfCRg
[22:48:31] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[22:51:23] *** Quits: jclements (jclements@BE2C733F.BE115975.BABD49BE.IP) (Quit: jclements)
[22:51:32] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[22:51:32] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/9bHUtA
[22:51:32] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[22:51:34] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[22:51:34] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/MC3v3w
[22:51:34] <ghrust> 13rust/06auto 147bd4217 15Brian Anderson: Replace all uses of rust-intrinsic ABI with calls to unstable::intrinsics
[22:51:34] <ghrust> 13rust/06auto 146d48456 15bors: auto merge of #6372 : brson/rust/intrinsics, r=catamorphism...
[22:51:34] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[22:51:58] *** Joins: wilsonk|2 (kvirc@moz-39EFBFC2.cg.shawcable.net)
[22:52:22] *** Quits: wilsonk-laptop (kvirc@moz-39EFBFC2.cg.shawcable.net) (Ping timeout)
[22:55:52] *** Quits: Scriptor (historium@moz-E06F46F0.corp.bitshelter.com) (Quit: Scriptor)
[22:56:15] *** Quits: FrozenCow (FrozenCow@moz-9DF5D010.dynamic.upc.nl) (Quit: Leaving)
[22:57:46] *** Quits: steveklabnik (steve@moz-5EF6C37C.socal.res.rr.com) (Connection reset by peer)
[22:57:57] *** Joins: steveklabnik (steve@moz-5EF6C37C.socal.res.rr.com)
[22:58:09] *** Quits: hjr3 (hradtke@AF4FC8FE.D2A4E84D.523CBD62.IP) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[22:59:51] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[23:02:25] *** Quits: tikue (tkuehn@2557E599.66715431.D25A875A.IP) (Quit: tikue)
[23:03:56] *** Joins: tikue (tkuehn@2557E599.66715431.D25A875A.IP)
[23:04:56] *** Parts: bbrittain (bbrittain@2557E599.66715431.D25A875A.IP) ()
[23:07:52] <Luqman> nmatsakis: seems like passing self always as ByRef greatly simplifies things :)
[23:09:12] *** Joins: jclements (jclements@BE2C733F.BE115975.BABD49BE.IP)
[23:10:43] <nmatsakis> Luqman: cool.
[23:13:02] *** Quits: steveklabnik (steve@moz-5EF6C37C.socal.res.rr.com) (Connection reset by peer)
[23:14:13] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[23:16:30] *** Joins: Ralith (ralith@moz-50F3C77.vc.shawcable.net)
[23:17:24] *** Joins: robertknight (robertknig@moz-54528EE0.wby.mendeley.com)
[23:18:12] *** Joins: steveklabnik (steve@moz-5EF6C37C.socal.res.rr.com)
[23:20:46] *** Quits: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[23:21:02] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Client exited)
[23:21:22] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[23:23:10] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Ping timeout)
[23:23:42] *** Quits: jorendorff (jorendorff@moz-2F32ACA3.hsd1.tn.comcast.net) (Quit: jorendorff)
[23:25:49] *** Joins: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[23:26:03] *** Joins: seth (seth@5AAE35B2.5EFFC0B8.24454B25.IP)
[23:26:54] *** Joins: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com)
[23:26:57] *** Joins: blitter (blitter@moz-A2170B75.dyn.centurytel.net)
[23:27:14] *** Quits: DasIch (DasIch@moz-8032AAAE.dip0.t-ipconnect.de) (Quit: DasIch)
[23:27:45] *** Quits: seth (seth@5AAE35B2.5EFFC0B8.24454B25.IP) (Ping timeout)
[23:28:15] <fread2281> Are there any plans to support remote actors?
[23:28:37] *** Quits: samnardoni (samnardoni@moz-ECB14881.cable.virginmedia.com) (Ping timeout)
[23:29:29] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[23:29:54] <brson> fread2281: not by default. my intent is that the core library provides the facilities for building more featureful actor libraries without baking too much in
[23:30:09] <brson> there's an issue open somewhere to build an actor library
[23:30:51] <brson> what's the right way to get the target word size in trans?
[23:31:05] *** Quits: hansjorg (hansjorg@moz-1D800A00.dsl.no.powertech.net) (Quit: Leaving.)
[23:31:07] <fread2281> brson: found it, thanks
[23:34:03] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Client exited)
[23:34:25] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[23:35:28] <fread2281> brson: IMO such a thing would be useful in std
[23:35:32] <nmatsakis> brson: you've probably found the answer by now...but T_uint_ty(cx, t) might be what you are looking for?
[23:36:07] <zxcdw> Since constructors can be arbitrarily named and explicitly called, do they get called implicitly in any scenario? Or am I misinformed about something?
[23:36:09] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[23:36:35] <nmatsakis> zxcdw: they are just ordinary functions, it's pure convention
[23:36:59] <nmatsakis> zxcdw: (so no, no implicit calls)
[23:37:13] <zxcdw> Ah, ack!
[23:39:04] <aatch> brson, what do you need it for? (Since I can't /actually/ find anything in the LLVM docs that mentions word sizes)
[23:41:31] <brson> aatch: the rustllvm code for atomic load/store is using the host alignment instead of the target. I'm using `llsize_of_align(ccx, ccx.int_type)` to get the value.
[23:41:51] <aatch> brson, ah, right
[23:42:18] <aatch> So it should just use the alignment of an int, right?
[23:43:00] <brson> aatch: yes
[23:43:05] *** Quits: steveklabnik (steve@moz-5EF6C37C.socal.res.rr.com) (Connection reset by peer)
[23:46:44] <bjz> brson: can I construct an object with a destructor, and then ensure that the destructor isn't run? cast::forget?
[23:48:35] *** Joins: steveklabnik (steve@moz-5EF6C37C.socal.res.rr.com)
[23:48:45] *** Quits: themgt (themgt@moz-F5F3FFDF.dhcp.gnvl.sc.charter.com) (Quit: themgt)
[23:49:28] *** Joins: themgt (themgt@moz-F5F3FFDF.dhcp.gnvl.sc.charter.com)
[23:51:48] <aatch> bjz, yes
[23:51:57] <brson> bjz: I needed to do something similar recently. no, I don't think it can be done. cast::forget will leak it
[23:52:12] <brson> it will suppress the dtor but also the call to 'free'
[23:52:20] <aatch> Oh right...
[23:52:26] <bjz> brson: it's a wrapper for a C handle
[23:52:41] <bjz> brson: but I need to use it in a callback
[23:52:41] * aatch just bundles the entire process in his head
[23:54:04] <bjz> brson: if it's on the stack will it leak?
[23:54:23] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[23:54:23] <ghrust> 01[13rust01] 15bors merged 06auto into 06incoming: 02http://git.io/MC3v3w
[23:54:23] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[23:54:33] <bjz> pub extern "C" fn window_pos_callback(window: *GLFWwindow, xpos: c_int, ypos: c_int) {
[23:54:33] <bjz>     let window_ = Window { ptr: window };
[23:54:33] <bjz>     do window_.get_local_data().pos_fun.map |&cb| {
[23:54:33] <bjz>         cb(&window_, xpos as int, ypos as int)
[23:54:33] <bjz>     };
[23:54:33] <bjz>     unsafe { cast::forget(window_); }
[23:54:33] <bjz> }
[23:54:43] <bjz> that's what I have
[23:55:21] <brson> bjz: no I think that will work
[23:55:40] <bjz> at least it's only a handle
[23:55:56] <aatch> And stack-local
[23:56:08] <bjz> no complex memory thingys
[23:57:23] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[23:57:23] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/q84cMQ
[23:57:23] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
[23:57:24] *** Joins: ghrust (ghrust@moz-4EF5B6E5.rs.github.com)
[23:57:24] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/69lFog
[23:57:24] <ghrust> 13rust/06auto 147ffd523 15Brian Anderson: core: Update clone docs
[23:57:24] <ghrust> 13rust/06auto 142460967 15bors: auto merge of #6528 : brson/rust/docs, r=brson...
[23:57:24] *** Parts: ghrust (ghrust@moz-4EF5B6E5.rs.github.com) ()
