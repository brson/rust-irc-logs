[00:03:31] *** Joins: orangeshark (erik@moz-0t6ggj.44tj.56ot.0306.2602.IP)
[00:06:23] *** Quits: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[00:10:29] *** Quits: Ycros (ycros@moz-f8shio.ycros.org) (Connection closed)
[00:10:32] *** Joins: Ycros (ycros@moz-f8shio.ycros.org)
[00:13:13] *** Quits: mattico (Matthew@moz-1pfa4i.q6jb.dm5j.ea00.2607.IP) (Quit: Leaving)
[00:13:32] *** Joins: aatch (james@moz-ciignl.bmm3.j08e.e000.2406.IP)
[00:22:40] *** Joins: kmcguire (kmcguire@moz-bbqf14.res.bhn.net)
[00:22:48] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[00:26:20] *** Joins: lenstr (lenstr@moz-rrh.vju.25.171.IP)
[00:26:52] *** Quits: lenstr (lenstr@moz-rrh.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[00:27:10] *** Joins: lenstr (lenstr@moz-rrh.vju.25.171.IP)
[00:28:31] *** Quits: lenstr (lenstr@moz-rrh.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[00:32:01] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[00:37:04] *** Joins: RCIX (RCIX@moz-vnmep7.ph.cox.net)
[00:46:46] *** Joins: Guest74 (textual@moz-lmfinb.fios.verizon.net)
[00:47:18] *** Quits: Gabriel_7 (Gabriel@moz-s16huc.mtgr.92aj.0e35.2a01.IP) (Connection closed)
[00:47:33] *** Joins: brson (brson@moz-lh7.7vl.56.172.IP)
[00:54:49] *** Joins: kvark (Mibbit@moz-8egann.cpe.pppoe.ca)
[01:00:26] *** Quits: nstoddard (nstoddard@moz-urhoua.resnet.purdue.edu) (Connection closed)
[01:04:32] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[01:04:47] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[01:07:32] *** Joins: saml_ (saml@moz-rkfmct.res.rr.com)
[01:11:47] *** Joins: Lexun (luke@moz-0fnmdq.or.charter.com)
[01:15:25] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[01:36:48] *** Quits: dmac (dmac@moz-4kcd1c.ca.comcast.net) (Ping timeout: 121 seconds)
[01:44:06] *** Joins: lenstr (lenstr@moz-rrh.vju.25.171.IP)
[01:44:42] *** Quits: lenstr (lenstr@moz-rrh.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[01:44:56] *** Joins: lenstr (lenstr@moz-rrh.vju.25.171.IP)
[01:45:30] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[01:45:50] *** Quits: lenstr (lenstr@moz-rrh.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[01:55:09] *** Joins: nstoddard (nstoddard@moz-urhoua.resnet.purdue.edu)
[01:55:15] *** Quits: brson (brson@moz-lh7.7vl.56.172.IP) (Quit: leaving)
[01:59:23] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[02:01:56] *** Joins: brson (brson@moz-lh7.7vl.56.172.IP)
[02:04:30] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[02:05:51] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[02:10:38] *** Joins: davebettin (davebettin@moz-p8aqtc.bhak.dqhm.0007.2601.IP)
[02:12:44] *** Quits: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu) (Quit: Leaving)
[02:14:41] *** Quits: Shados (shados@moz-7qnm64.net) (Ping timeout: 121 seconds)
[02:21:26] *** Joins: Shados (shados@moz-7qnm64.net)
[02:24:02] *** Quits: kimundi (kimundi@moz-a1uehu.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[02:25:11] *** Quits: Guest74 (textual@moz-lmfinb.fios.verizon.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[02:25:15] *** Joins: kimundi (kimundi@moz-udrtd0.dip0.t-ipconnect.de)
[02:28:03] *** Quits: Shados (shados@moz-7qnm64.net) (Quit: No Ping reply in 180 seconds.)
[02:29:30] *** kimundi is now known as zz_kimundi
[02:30:56] *** Quits: sargas (sargas@moz-863roc.hfc.comcastbusiness.net) (Quit: This computer has gone to sleep)
[02:31:42] *** Joins: Shados (shados@moz-7qnm64.net)
[02:34:19] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[02:34:40] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[02:35:40] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[02:35:57] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[02:44:55] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[02:45:18] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[02:46:22] *** Joins: lenstr (lenstr@moz-rrh.vju.25.171.IP)
[02:47:00] *** Quits: lenstr (lenstr@moz-rrh.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[02:47:15] *** Joins: lenstr (lenstr@moz-rrh.vju.25.171.IP)
[02:48:09] *** Quits: lenstr (lenstr@moz-rrh.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[02:49:06] *** Quits: dustinm` (dustinm@moz-1c1j82.fu2o.sj0n.5300.2607.IP) (Ping timeout: 121 seconds)
[02:49:20] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[02:49:22] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[02:50:07] *** Quits: w4ffles_ (textual@moz-34v1r4.res.rr.com) (Quit: My Mac has gone to sleep. ZZZzzz…)
[02:50:28] *** Joins: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu)
[02:51:56] *** Quits: chc4 (chc4@moz-pdo0at.ma.comcast.net) (Quit: AHHHHH BEES)
[02:53:20] *** Joins: eddyb (Mibbit@moz-3lt.hlc.26.188.IP)
[02:53:33] <eddyb> bvssvni_: lol, you did it again
[02:54:04] <eddyb> bvssvni_: the dyld stuff has nothing to do with the issue you opened
[02:54:38] <eddyb> which is trivial to fix, a 2-character diff if you really wanted to try out the thing
[02:56:14] *** Joins: dmac (dmac@moz-2ig65r.ca.comcast.net)
[02:57:02] <eddyb> bvssvni_: do you have any librustc_* files in any of the deep subdirectories of /usr/local/lib/rustlib/?
[02:57:53] <eddyb> OH WOW
[02:58:17] <eddyb> I do with the linux nightly
[02:59:22] *** Quits: Wild_Cat (Max@moz-na0tak.dsl.teksavvy.com) (Ping timeout: 121 seconds)
[03:08:08] *** Joins: dustinm` (dustinm@moz-1c1j82.fu2o.sj0n.5300.2607.IP)
[03:08:26] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[03:11:28] *** Joins: p1start (p1start@moz-nftjhe.org)
[03:14:46] *** Quits: saml_ (saml@moz-rkfmct.res.rr.com) (Ping timeout: 121 seconds)
[03:15:51] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[03:18:03] *** Quits: kmcguire (kmcguire@moz-bbqf14.res.bhn.net) (Ping timeout: 121 seconds)
[03:25:33] *** Quits: matp (matp@moz-rvt9hl.matp.at) (Connection closed)
[03:27:58] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[03:35:28] *** Joins: theman515 (Mibbit@moz-7fqttn.ca.charter.com)
[03:40:57] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[03:42:38] *** Quits: theman515 (Mibbit@moz-7fqttn.ca.charter.com) (Quit: http://www.mibbit.com ajax IRC Client)
[03:43:27] *** Quits: eddyb (Mibbit@moz-3lt.hlc.26.188.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[03:46:26] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[03:47:29] <csherratt> holy crap kvark you have been productive these past few  months
[03:48:46] *** Joins: lenstr (lenstr@moz-rrh.vju.25.171.IP)
[03:49:03] *** Joins: matp (matp@moz-rvt9hl.matp.at)
[03:49:36] *** Quits: lenstr (lenstr@moz-rrh.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[03:49:52] *** Joins: lenstr (lenstr@moz-rrh.vju.25.171.IP)
[03:51:02] *** zz_kimundi is now known as kimundi
[03:51:02] *** Quits: lenstr (lenstr@moz-rrh.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[03:51:26] *** Quits: genbattle (genbattle@moz-4v0.gkd.16.182.IP) (Quit: Leaving)
[03:52:20] *** Joins: Twinklebear (Twinklebear@moz-ttrcn3.ut.comcast.net)
[03:56:11] <kvark> csherratt: :D gotta be ready for the show
[03:56:30] <kvark> csherratt: it's not like you are slacking either, I can't keep up with fibers changes ;)
[03:56:37] <kvark> btw, need to talk to you about it
[03:56:43] <kvark> but not now, time for some sleep
[03:56:58] * kvark goes zzz
[03:57:13] *** Quits: kvark (Mibbit@moz-8egann.cpe.pppoe.ca) (Quit: http://www.mibbit.com ajax IRC Client)
[03:59:03] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[04:03:07] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[04:03:15] *** Quits: orangeshark (erik@moz-0t6ggj.44tj.56ot.0306.2602.IP) (Quit: Leaving)
[04:15:45] *** Quits: sinistersnare (Mibbit@moz-vj2.mkr.2.129.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[04:16:27] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[04:17:51] *** Quits: Lexun (luke@moz-0fnmdq.or.charter.com) (Quit: Konversation terminated!)
[04:21:23] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Quit: It's a joke, it's all a joke.)
[04:25:09] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[04:30:53] *** Quits: brson (brson@moz-lh7.7vl.56.172.IP) (Ping timeout: 121 seconds)
[04:33:29] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Connection closed)
[04:35:48] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[04:35:51] *** Joins: SHC (quassel@moz-tme.faf.213.117.IP)
[04:40:11] *** Quits: erz (erz@moz-efrhus.broadband.corbina.ru) (Quit: My Mac has gone to sleep. ZZZzzz…)
[04:51:36] *** Joins: lenstr (lenstr@moz-rrh.vju.25.171.IP)
[04:52:13] *** Quits: lenstr (lenstr@moz-rrh.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[04:52:26] *** Quits: bdero (bran@moz-lbs.91h.47.73.IP) (Ping timeout: 121 seconds)
[04:52:29] *** Joins: lenstr (lenstr@moz-rrh.vju.25.171.IP)
[04:53:22] *** Quits: lenstr (lenstr@moz-rrh.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[04:54:12] *** Joins: eddyb (eddyb@moz-p5v.h8s.166.109.IP)
[04:54:42] *** Quits: kalail (uid62296@moz-5ck9vu.charlton.irccloud.com) (Quit: Connection closed for inactivity)
[05:05:41] *** Joins: mindtree (Mitch@moz-8cv.mpp.240.116.IP)
[05:11:11] *** Quits: niconii (nicole@moz-5gqgia.frgo.qwest.net) (Quit: leaving)
[05:17:19] *** Quits: O01eg (o01eg@moz-677s69.jv4h.3egh.2698.2a02.IP) (Client exited)
[05:25:09] *** Joins: kazimuth (james@moz-p79.poh.189.18.IP)
[05:26:02] *** Joins: matp_ (matp@moz-rvt9hl.matp.at)
[05:28:24] *** Quits: matp (matp@moz-rvt9hl.matp.at) (Ping timeout: 121 seconds)
[05:30:21] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[05:30:42] *** Quits: eddyb (eddyb@moz-p5v.h8s.166.109.IP) (Ping timeout: 121 seconds)
[05:37:32] *** Quits: aatch (james@moz-ciignl.bmm3.j08e.e000.2406.IP) (Connection closed)
[05:43:38] *** Joins: Skyler (Skyler@moz-rv949t.sd.cox.net)
[05:51:44] *** Joins: Verdagon (Verdagon@moz-ff302e.ca.comcast.net)
[05:53:50] *** Joins: lenstr (lenstr@moz-rrh.vju.25.171.IP)
[05:54:31] *** Quits: lenstr (lenstr@moz-rrh.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[05:54:47] *** Joins: lenstr (lenstr@moz-rrh.vju.25.171.IP)
[05:55:41] *** Quits: lenstr (lenstr@moz-rrh.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[05:57:12] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[05:57:26] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[05:58:11] *** Joins: James (quassel@moz-225vcm.range86-148.btcentralplus.com)
[05:58:55] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Quit: It's a joke, it's all a joke.)
[06:01:10] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[06:01:32] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[06:01:40] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[06:01:50] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[06:02:21] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[06:06:23] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[06:09:43] *** Joins: zyphrus (David@moz-nhi.pas.98.101.IP)
[06:10:11] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[06:12:17] *** Quits: Twinklebear (Twinklebear@moz-ttrcn3.ut.comcast.net) (Quit: Leaving)
[06:12:39] *** Quits: Verdagon (Verdagon@moz-ff302e.ca.comcast.net) (Client exited)
[06:15:12] *** Joins: summerlight_ (summerlight@moz-99k.2mj.130.121.IP)
[06:15:14] *** Quits: summerlight_ (summerlight@moz-99k.2mj.130.121.IP) (Connection closed)
[06:19:55] *** Joins: genbattle (genbattle@moz-4v0.gkd.16.182.IP)
[06:24:04] *** Quits: RCIX (RCIX@moz-vnmep7.ph.cox.net) (Ping timeout: 121 seconds)
[06:30:09] *** Quits: Gamecubic (cubic@moz-bglmk5.mc.videotron.ca) (Quit: Leaving)
[06:30:59] *** Quits: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu) (Quit: Leaving)
[06:34:22] *** Joins: fkaa (tundmatu@moz-501od2.business.telia.com)
[06:34:27] *** Quits: genbattle (genbattle@moz-4v0.gkd.16.182.IP) (Ping timeout: 121 seconds)
[06:35:06] <fkaa> morning
[06:35:37] *** Joins: squiddy (squiddy@moz-md4.pm3.19.178.IP)
[06:41:11] *** Joins: gonzaloserrano (Adium@moz-0os.6hf.231.77.IP)
[06:41:19] *** Quits: squiddy (squiddy@moz-md4.pm3.19.178.IP) (Connection closed)
[06:41:40] *** Joins: squiddy (squiddy@moz-md4.pm3.19.178.IP)
[06:42:24] *** Quits: squiddy (squiddy@moz-md4.pm3.19.178.IP) (Quit: Leaving)
[06:42:27] *** Joins: squiddy (squiddy@moz-md4.pm3.19.178.IP)
[06:51:18] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[06:55:50] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[06:56:18] *** Joins: lenstr (lenstr@moz-rrh.vju.25.171.IP)
[06:56:52] *** Quits: lenstr (lenstr@moz-rrh.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[06:57:08] *** Joins: lenstr (lenstr@moz-rrh.vju.25.171.IP)
[06:58:00] *** Quits: lenstr (lenstr@moz-rrh.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[06:58:11] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[06:58:15] *** Quits: SHC (quassel@moz-tme.faf.213.117.IP) (Ping timeout: 121 seconds)
[06:59:30] *** Joins: SHC (quassel@moz-amg.7pd.204.117.IP)
[06:59:59] <tomaka> it drives me crazy that I have more FPS running bioshock infinite than sea snake escape
[07:00:45] <WindowsBunnyIsSorry> tomaka: sea snake escape??
[07:01:25] <WindowsBunnyIsSorry> tomaka: wait really, it gets less FPS than bioshock?
[07:01:28] <WindowsBunnyIsSorry> dafuq
[07:02:01] *** Joins: RCIX (RCIX@moz-jiv394.6i4r.mej3.fb90.2607.IP)
[07:04:08] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[07:05:23] *** Joins: SneakySnake (nya@moz-i9is4u.pool.telekom.hu)
[07:07:59] *** Joins: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu)
[07:10:59] *** Quits: squiddy (squiddy@moz-md4.pm3.19.178.IP) (Ping timeout: 121 seconds)
[07:19:17] <fkaa> tomaka: can you profile both and compare?
[07:19:43] *** Joins: squiddy (squiddy@moz-md4.pm3.19.178.IP)
[07:20:08] <WindowsBunnyIsSorry> tomaka: Are you sure SSE is built in release mode with optimizations?
[07:21:18] <tomaka> I haven't run bioshock infinite for months, but I remember that it was a constant 60 fps
[07:21:28] <tomaka> with vsync
[07:22:20] <tomaka> sea snake escape drops under 60 with the opengl backend (as low as 55) and is only at ~85 with gfx
[07:22:23] *** Parts: zyphrus (David@moz-nhi.pas.98.101.IP) ("Leaving")
[07:22:31] *** Joins: Lilly (Lilly@moz-pfkvo9.bredband.comhem.se)
[07:22:42] <tomaka> and that's in release, in debug I'm at 20-25 fps
[07:22:47] <WindowsBunnyIsSorry> hmmm
[07:23:02] <WindowsBunnyIsSorry> That's not very good
[07:23:12] <tomaka> why are you sorry by the way?
[07:23:32] <WindowsBunnyIsSorry> tomaka: Because I g-lined [o__o] earlier
[07:23:54] *** WindowsBunnyIsSorry is now known as WindowsBunny
[07:30:42] *** Quits: gonzaloserrano (Adium@moz-0os.6hf.231.77.IP) (Quit: Leaving.)
[07:31:42] *** Joins: invoker (Mibbit@moz-6u5.bfd.54.122.IP)
[07:34:11] <tomaka> Come on, this is driving me crazy
[07:35:03] <tomaka> This is the result of my profiling: http://imgur.com/yy46mua,oO9Sgq0#0
[07:35:10] <tomaka> first image is gfx, second image is glium
[07:35:23] *** Joins: Codenator (Mibbit@moz-i23.v94.198.81.IP)
[07:35:27] <tomaka> why the hell does a call take 33ms in glium?
[07:35:29] *** Parts: Codenator (Mibbit@moz-i23.v94.198.81.IP) ()
[07:41:00] *** Joins: lenstr (lenstr@moz-rrh.vju.25.171.IP)
[07:41:44] *** Quits: lenstr (lenstr@moz-rrh.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[07:42:24] *** Joins: lenstr (lenstr@moz-rrh.vju.25.171.IP)
[07:42:26] *** Quits: fmtq (fmtq@moz-d08itp.tpgi.com.au) (Ping timeout: 121 seconds)
[07:43:15] <csherratt> Are you getting hit by a sync fence?
[07:43:54] <tomaka> Probably, but why would glium hit it and not gfx?
[07:44:07] *** Quits: invoker (Mibbit@moz-6u5.bfd.54.122.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[07:44:22] <tomaka> I'm doing exactly the same thing as gfx, but with less OpenGL calls
[07:44:36] *** Joins: fmtq (fmtq@moz-d08itp.tpgi.com.au)
[07:45:28] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[07:47:07] <tomaka> I just tried putting glFlush after each draw call, it is now more uniformly-distributed but overall it takes as much time because glFlush adds a lot of overhead
[07:47:47] <tomaka> I'll try "if rand() < 0.02 { glFlush() }"
[07:48:30] *** Quits: RCIX (RCIX@moz-jiv394.6i4r.mej3.fb90.2607.IP) (Ping timeout: 121 seconds)
[07:49:58] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[07:50:12] <csherratt> holy, SeaSnake escape pulls in a crazy amount of packages
[07:50:38] <WindowsBunny> csherratt: It is truly cargoscale
[07:51:15] *** Quits: squiddy (squiddy@moz-md4.pm3.19.178.IP) (Ping timeout: 121 seconds)
[07:53:00] <tomaka> with a random flush from time to time I get this: http://i.imgur.com/5fiSQgj.png
[07:53:05] <tomaka> >_>
[07:54:36] <WindowsBunny> tomaka: I'm glad you're working out these issues now before I start writing my revolutionary vidya gaems in rust
[07:55:07] <csherratt> Make a game or Make an engine?
[07:58:56] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[07:59:33] <tomaka> heh, when you google "FlushMappedNamedBufferRange" the first result is glium's documentation
[08:01:53] <csherratt> the way piston graphics calls gfx/glium is really strange
[08:03:02] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[08:04:29] *** Joins: squiddy (squiddy@moz-md4.pm3.19.178.IP)
[08:09:05] *** Joins: Tobba (Tobba@moz-6oh.7ki.21.217.IP)
[08:10:13] <csherratt> The reuse of the same buffer over and over.
[08:10:26] *** Joins: genbattle (genbattle@moz-ikj3l8.xtra.co.nz)
[08:12:12] <tomaka> It's worse if you create a new buffer each, as you have to call VertexAttribPointer
[08:12:14] *** Joins: bjz (bjz@moz-4l6.mjm.52.113.IP)
[08:12:16] <tomaka> each time*
[08:12:32] <tomaka> and DeleteBuffers seems to have a rather big overhead as well
[08:13:03] *** Joins: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net)
[08:13:15] *** Joins: RCIX (RCIX@moz-vnmep7.ph.cox.net)
[08:13:17] <tomaka> Unfortunately the size of the data is different very time as well
[08:13:24] <tomaka> and gfx/glium enforce buffers that don't change their size
[08:13:36] <tomaka> so you have to use BufferSubData instead of BufferData which would be faster
[08:14:00] <tomaka> I don't think this problem can be solved without changing piston
[08:14:41] <tomaka> I guess you could call glInvalidateBuffer
[08:14:47] <tomaka> I could try that
[08:14:58] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Client exited)
[08:16:52] *** Quits: bjz (bjz@moz-4l6.mjm.52.113.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[08:20:56] *** Joins: bjz (bjz@moz-4l6.mjm.52.113.IP)
[08:23:44] <tomaka> ah, with glInvalidateBufferData I no longer hit a sync
[08:25:04] *** Quits: bjz (bjz@moz-4l6.mjm.52.113.IP) (Ping timeout: 121 seconds)
[08:25:27] <tomaka> The framerate is still as poor though
[08:26:28] <tomaka> I'll just close this case as unsolvable
[08:26:46] <tomaka> GPU's taking 23ms per frame
[08:27:18] <WindowsBunny> tomaka: I'm sure you'll figure it out soon :D
[08:27:21] *** Joins: gonzaloserrano (Adium@moz-1nv.3t7.97.62.IP)
[08:27:39] <tomaka> No, at this point you'd have to examine the source code of the OpenGL driver
[08:27:52] <tomaka> Plus what we're doing is contrary to all the good practices in OpenGL
[08:29:26] <tomaka> A Vulkan driver however could probably run this at 1000 fps
[08:29:32] <tomaka> backend*
[08:30:12] <WindowsBunny> except this isn't vulkan, this is glium just not being up to par :D
[08:31:39] <tomaka> if the "Graphics" trait had some sort of "end_frame" function, we could put everything in the same buffer
[08:32:05] <tomaka> ah, in fact no since we don't choose what the shaders are
[08:32:19] *** Quits: AngelOfSol (AngelOfSol@moz-dj58kc.rh.rit.edu) (Quit: Remember to close the door when you're done!)
[08:32:24] <tomaka> yeah, unsolvable
[08:32:36] <tomaka> too many restrictions
[08:32:50] <WindowsBunny> So this issue won't exist if I use glium directly in an optimal manner?
[08:32:57] <tomaka> Sure
[08:33:02] <tomaka> Same for gfx by the way
[08:33:13] <WindowsBunny> Will I be able to achieve the thousands of fps I get with my C++ + raw opengl?
[08:33:30] <tomaka> probably
[08:33:57] <WindowsBunny> I'll have to run benchmarks to make sure
[08:34:10] *** Quits: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[08:38:15] *** Quits: kazimuth (james@moz-p79.poh.189.18.IP) (Quit: Textual IRC Client: www.textualapp.com)
[08:39:37] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[08:41:34] *** Quits: dmac (dmac@moz-2ig65r.ca.comcast.net) (Connection closed)
[08:44:07] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[08:49:05] *** Joins: aepsil0n (eduard@moz-ob9p8k.hsi8.kabel-badenwuerttemberg.de)
[08:50:27] *** Joins: bjz (bjz@moz-puppgq.tpgi.com.au)
[08:54:37] *** Joins: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr)
[08:56:22] *** Joins: shadower (shadower@moz-3ah4n5.osop.rhcloud.com)
[08:56:34] *** Quits: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr) (Connection closed)
[08:56:56] *** Joins: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr)
[08:59:40] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[09:02:18] *** Quits: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr) (Connection closed)
[09:02:19] *** Joins: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr)
[09:03:46] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[09:04:24] *** Quits: Tobba (Tobba@moz-6oh.7ki.21.217.IP) (Ping timeout: 121 seconds)
[09:05:55] *** Joins: mindcat (mindcat@moz-0h1.tnp.13.183.IP)
[09:06:16] <mindcat> hooooooooooot
[09:06:28] *** Quits: SneakySnake (nya@moz-i9is4u.pool.telekom.hu) (Quit: Leaving)
[09:08:16] <tomaka> I think I'm going to restrict glium to devices that support mapping buffers
[09:08:26] <tomaka> it's just too annoying otherwise
[09:09:24] *** Joins: rbrs (rbrs@moz-m5thmg.static.zebra.lt)
[09:11:21] *** Quits: dustinm` (dustinm@moz-1c1j82.fu2o.sj0n.5300.2607.IP) (Ping timeout: 121 seconds)
[09:28:52] *** Quits: genbattle (genbattle@moz-ikj3l8.xtra.co.nz) (Ping timeout: 121 seconds)
[09:29:23] *** Joins: genbattle (genbattle@moz-ikj3l8.xtra.co.nz)
[09:33:46] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[09:36:48] *** Quits: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr) (Quit: )
[09:38:17] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[09:50:42] *** Quits: guycook (quassel@moz-7gorpb.snap.net.nz) (Connection closed)
[09:59:39] *** Quits: mindtree (Mitch@moz-8cv.mpp.240.116.IP) (Ping timeout: 121 seconds)
[09:59:51] *** Joins: mindtree (Mitch@moz-57lnk1.iprimus.net.au)
[09:59:56] *** Joins: Tobba (Tobba@moz-6oh.7ki.21.217.IP)
[10:00:27] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[10:01:00] *** Joins: erz (erz@moz-efrhus.broadband.corbina.ru)
[10:03:47] *** Quits: RCIX (RCIX@moz-vnmep7.ph.cox.net) (Connection closed)
[10:05:59] *** Joins: RCIX (RCIX@moz-n1t49q.reverse.softlayer.com)
[10:06:00] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[10:10:33] *** Quits: fmtq (fmtq@moz-d08itp.tpgi.com.au) (Ping timeout: 121 seconds)
[10:12:47] *** Joins: fmtq (fmtq@moz-d08itp.tpgi.com.au)
[10:16:34] *** Quits: Tobba (Tobba@moz-6oh.7ki.21.217.IP) (Connection closed)
[10:18:14] *** Joins: jaen (jaen@moz-ifmik2.copit.pl)
[10:26:34] *** Joins: kmcguire (kmcguire@moz-7em.2c1.78.97.IP)
[10:27:55] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[10:32:17] *** Joins: SneakySnake (nya@moz-i9is4u.pool.telekom.hu)
[10:32:27] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[10:34:42] *** Joins: dustinm` (dustinm@moz-es6jb7.ip-167-114-152.net)
[10:37:26] *** Joins: twipeD (wipeD@moz-5fc4ir.dip0.t-ipconnect.de)
[10:42:35] *** Quits: lenstr (lenstr@moz-rrh.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[10:43:37] *** Joins: lenstr (lenstr@moz-rrh.vju.25.171.IP)
[10:53:18] *** Quits: Kingsquee (kingsley@moz-3fm07c.bchsia.telus.net) (Quit: Konversation terminated!)
[10:54:52] *** Quits: p1start (p1start@moz-nftjhe.org) (Ping timeout: 121 seconds)
[10:55:48] *** Parts: rbrs (rbrs@moz-m5thmg.static.zebra.lt) ()
[11:02:59] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[11:04:21] *** Quits: dustinm` (dustinm@moz-es6jb7.ip-167-114-152.net) (Ping timeout: 121 seconds)
[11:06:49] *** Joins: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net)
[11:07:05] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[11:08:21] *** Quits: squiddy (squiddy@moz-md4.pm3.19.178.IP) (A TLS packet with unexpected length was received.)
[11:10:19] *** Joins: squiddy (squiddy@moz-md4.pm3.19.178.IP)
[11:14:52] *** Quits: genbattle (genbattle@moz-ikj3l8.xtra.co.nz) (Ping timeout: 121 seconds)
[11:15:30] *** Quits: fmtq (fmtq@moz-d08itp.tpgi.com.au) (Ping timeout: 121 seconds)
[11:16:19] *** Quits: gonzaloserrano (Adium@moz-1nv.3t7.97.62.IP) (Quit: Leaving.)
[11:17:50] *** Joins: fmtq (fmtq@moz-d08itp.tpgi.com.au)
[11:22:04] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[11:22:15] *** Joins: dustinm` (dustinm@moz-1c1j82.fu2o.sj0n.5300.2607.IP)
[11:22:37] *** Joins: Codenator (Mibbit@moz-i23.v94.198.81.IP)
[11:26:35] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[11:30:34] *** Parts: Codenator (Mibbit@moz-i23.v94.198.81.IP) ()
[11:46:23] *** Joins: bdero (bran@moz-mqs.7dh.189.18.IP)
[11:49:17] *** Quits: lenstr (lenstr@moz-rrh.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[11:50:27] *** Joins: lenstr (lenstr@moz-rrh.vju.25.171.IP)
[11:53:14] *** Joins: bdero1 (bran@moz-mqs.7dh.189.18.IP)
[11:53:14] *** Quits: bdero (bran@moz-mqs.7dh.189.18.IP) (Connection reset by peer)
[11:54:32] *** Joins: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr)
[12:00:38] *** Quits: davebettin (davebettin@moz-p8aqtc.bhak.dqhm.0007.2601.IP) (Connection closed)
[12:01:04] *** Joins: Wild_Cat (Max@moz-na0tak.dsl.teksavvy.com)
[12:01:10] *** Joins: davebettin (davebettin@moz-ip635p.or.comcast.net)
[12:03:44] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[12:07:37] *** Quits: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[12:07:50] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[12:14:16] *** Quits: Zr40 (zr40@moz-92llkv.adsl.xs4all.nl) (Quit: .)
[12:16:12] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[12:20:44] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[12:21:29] *** Joins: RC9 (RCIX@moz-vnmep7.ph.cox.net)
[12:22:36] *** bvssvni_ is now known as bvssvni
[12:22:56] <bvssvni> tomaka: sea snake escape stresses the api where it is weakest
[12:23:59] *** Quits: RCIX (RCIX@moz-n1t49q.reverse.softlayer.com) (Ping timeout: 121 seconds)
[12:27:05] *** Quits: untitaker_ (untitaker@moz-l628jn.highway.telekom.at) (Ping timeout: 121 seconds)
[12:27:20] <bvssvni> tomaka: it is up to the back-end of doing flushing or not
[12:27:52] <tomaka> the problem is that there's a bus between the RAM and the GPU
[12:28:00] *** Joins: og_wolf (og_wolf@moz-obu4ds.devs.futuro.pl)
[12:28:03] <tomaka> sea snake escape isn't slow because the GPU is too slow
[12:28:13] <tomaka> it's slow because you're reaching the transfer limit
[12:28:16] <bvssvni> exactly
[12:28:20] *** Joins: untitaker (untitaker@moz-nskdhs.highway.telekom.at)
[12:28:25] <bvssvni> no, not because of transfer limit
[12:28:30] <tomaka> which really shouldn't happen in any modern application
[12:28:50] <bvssvni> the overhead in the api counts as well
[12:29:07] <bvssvni> saying it should not happen in modern application is bullshit
[12:29:13] <tomaka> not only the vertex data contributes to it, but also each draw call
[12:29:35] <bvssvni> you’re dealing with dynamically generated data which can change every frame
[12:29:59] <tomaka> *can* change
[12:30:01] <bvssvni> gpus are not good at those things, but it is still faster than software rasterization
[12:30:09] <tomaka> data that does not change shouldn't be uploaded
[12:30:15] <tomaka> it's the responsibility of the app to ensure that
[12:30:39] <bvssvni> it’s a maintenance issue
[12:32:05] <bvssvni> if you consider the whole picture, where people actually need to write the programs and maintain them, then there are tradeoffs you can make
[12:32:19] <bvssvni> one is to use a dynamic buffer instead of keeping track of the state
[12:32:55] <bvssvni> for a gui that does max 10000 triangles that’s good enough
[12:33:33] <tomaka> it's very weird that you say that and program in rust, which is all about maxing performances
[12:33:44] <bvssvni> tomaka: seriously
[12:34:52] <bvssvni> tomaka: don’t fall to the fundamental attribution fallacy
[12:35:44] <tomaka> the problem is that's is awefully slow
[12:35:45] <bvssvni> tomaka: https://en.wikipedia.org/wiki/Fundamental_attribution_error
[12:35:58] <tomaka> it's not just a tradeoff
[12:36:21] <bvssvni> tomaka: sea snake escape is slow, because it is rendering a ridiculously amount of triangles
[12:36:31] <bvssvni> tomaka: that’s the point, because it serves as a benchmark
[12:37:12] <tomaka> which means that it would be possible to write sea snake escape with piston in a much faster way?
[12:37:26] <bvssvni> tomaka: yes of course
[12:37:55] <tomaka> you broke down large objects into small objects on purpose?
[12:38:07] <tomaka> to increase the number of draw calls?
[12:38:49] <bvssvni> tomaka: no, the resolution on the circles are 128 points, which is not needed
[12:39:01] <bvssvni> tomaka: and the amount of circles are much higher than it needs to be
[12:39:49] <bvssvni> tomaka: you can adjust this number https://github.com/bvssvni/rust-snake/blob/master/src/object.rs#L88
[12:39:54] *** Joins: gonzaloserrano (Adium@moz-1nv.3t7.97.62.IP)
[12:40:23] <tomaka> wat
[12:40:29] <tomaka> you multiple the number of circles by 256?
[12:40:52] <tomaka> multiply*
[12:41:31] <bvssvni> tomaka: the snakes consists of circles only
[12:47:46] <tomaka> you should at least batch the elements to draw only one or two calls per frame
[12:48:01] <tomaka> to do only or two draw calls per frame*
[12:48:11] <tomaka> that would make things muuuuuch faster
[12:49:15] <bvssvni> problem you need to update the buffers each frame too
[12:49:53] <WindowsBunny> updating the buffer each frame is fine
[12:50:27] <WindowsBunny> I know because I updated a massive buffer every frame and still got an excellent 1000 fps
[12:50:32] <tomaka> I mean, you could put everything in a single buffer
[12:50:34] <tomaka> with all the infos
[12:50:41] <tomaka> then do one call for all rectangles in one shot
[12:51:05] <bvssvni> yeah, the back-ends can be made faster
[12:51:16] <tomaka> not just faster, a lot faster
[12:53:09] *** Quits: Wild_Cat (Max@moz-na0tak.dsl.teksavvy.com) (Connection closed)
[12:55:48] <bvssvni> I’d like to have a benchmark setting in event_loop, and a window back-end that plays recorded input
[12:56:35] <bvssvni> when in benchmark mode, the game loop doesn’t sleep but updates the application as if it did
[12:56:38] *** Joins: ytain (ytain@moz-pr2.aip.175.108.IP)
[12:59:08] <bvssvni> tomaka: rust is not all about maxing performance, but also about maintainable code bases
[12:59:56] <WindowsBunny> in my C++ thing I want to eventually port to rust, I draw hundreds of 2D sprites each frame
[13:00:13] <WindowsBunny> first I had it using separate draw calls for each sprite
[13:00:36] <WindowsBunny> then I switched to using a texture atlas + a VBO I buffered each frame
[13:00:52] *** Quits: Lilly (Lilly@moz-pfkvo9.bredband.comhem.se) (Quit: bajs)
[13:00:57] *** Quits: SHC (quassel@moz-amg.7pd.204.117.IP) (Ping timeout: 121 seconds)
[13:00:57] <WindowsBunny> which increased the FPS, in one specific area, from 1387 to 2398
[13:01:19] <bvssvni> it would be nice to have a back-end that used texture atlas :)
[13:01:48] <WindowsBunny> In your opinion, is the hassle of using a texture atlas worth it for reducing draw calls?
[13:01:52] <tomaka> the problem is that you specify the shaders
[13:01:59] <tomaka> so the backend isn't as free as it could be
[13:02:14] *** Joins: SHC (quassel@moz-amg.7pd.204.117.IP)
[13:03:08] <bvssvni> yes, but since you can pick a back-end in piston you could just pick the one with texture atlas if you want it faster
[13:03:25] <WindowsBunny> one hassle with texture atlases, was that I never knew in advance which sprites I'd need or how many
[13:03:39] <WindowsBunny> and they were all manner of non-pot sizes
[13:04:29] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[13:04:41] <WindowsBunny> so if I ever ran out of space on the texture atlas, I'd have to immediately write out the buffer and do a drawcall, then empty the atlas, and keep going
[13:05:00] <WindowsBunny> and getting them packed in nicely was hard
[13:06:31] <bvssvni> actually one could use a texture atlas on top of piston-graphics
[13:06:47] <WindowsBunny> some maps had awful animated textures the size of the window, which caused the atlas to reset every few frames Q_Q
[13:07:36] <WindowsBunny> which meant I had to decompress all the sprites from file and buffer up the atlas every few frames
[13:08:05] <bvssvni> and then you realize all that optimization ended up slower than the naive approach :P
[13:08:35] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[13:08:50] <WindowsBunny> bvssvni: Nah, it was all memory mapped in, and used lz4, so it was only slower if it was thrashing every frame
[13:09:28] <WindowsBunny> which... would happen on some maps if you only had an atlas of 4096^2
[13:09:43] <bvssvni> WindowsBunny: mega texture
[13:10:22] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[13:10:22] <WindowsBunny> bvssvni: That doesn't help much, because I'd be referencing bits from all over, so the entire texture would still have to be resident in vram
[13:10:39] <WindowsBunny> it would be nice if bindless texture support was universal
[13:11:04] <WindowsBunny> but that likely isn't gonna happen for at least a decade Q_Q
[13:13:19] *** Quits: erz (erz@moz-efrhus.broadband.corbina.ru) (Quit: My Mac has gone to sleep. ZZZzzz…)
[13:14:07] <WindowsBunny> bvssvni: Are there any solutions other than 1. draw call per sprite 2. texture atlas 3. bindless textures ?
[13:14:25] <bvssvni> WindowsBunny: one could find a way to auto detect the capabilities of the hardware and then pick a solution using a knowledge base
[13:14:53] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[13:15:01] <WindowsBunny> then again, the question is whether it even matters considering fps is over 1000
[13:15:02] *** Joins: kvark (Mibbit@moz-p3c.rcb.221.216.IP)
[13:15:12] <WindowsBunny> and its basically bottlenecked by pixel fillrate
[13:15:16] <bvssvni> WindowsBunny: you can do 1. draw call per N sprites, where N is chosen to fit a buffer
[13:15:23] <tomaka> well, rust-sea-snake runs at 20fps on my linux machine
[13:15:28] <tomaka> in release
[13:15:37] <bvssvni> tomaka: with glutin back-end?
[13:15:38] <tomaka> and my linux machine can run Civilization beyond earth
[13:15:42] <tomaka> No, SDL
[13:15:42] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[13:16:12] <WindowsBunny> bvssvni: how would I group N sprites together that use different textures?
[13:16:23] <tomaka> I should try glutin, because that fps difference with glutin is intriguing
[13:17:47] <kvark> tomaka: you are using DSA
[13:17:54] <kvark> tomaka: can you disable it for a test?
[13:17:59] <bvssvni> WindowsBunny: maybe you could bake sprites together using diagnostic data from running the application
[13:18:23] <tomaka> kvark: hmmm, I'm working on something totally different for the moment
[13:18:30] <bvssvni> WindowsBunny: there is a texture packer lib https://github.com/PistonDevelopers/texture_packer
[13:19:21] <WindowsBunny> bvssvni: runtime profiling to make mini-atlases?
[13:19:35] <bvssvni> WindowsBunny: just one random idea :)
[13:20:16] <WindowsBunny> bvssvni: Texture packing itself isn't hard
[13:20:28] <WindowsBunny> it's deciding which textures to pack together
[13:22:24] <bvssvni> WindowsBunny: well, all the tech is there if you are crazy enough to use it
[13:22:44] <bvssvni> WindowsBunny: genetic algorithms, bayesian networks, deep belief networks
[13:23:25] <WindowsBunny> :|
[13:23:41] <WindowsBunny> or I could just be happy with a thousand fps
[13:24:34] <kvark> tomaka: your treating of sea snake reminded me of S. Jobs: "you are holding it wrong" :D
[13:25:19] <kvark> tomaka: it's not doing a best job at utilizing the GPU thoughput, sure. It stresses different API/bus parts. But still no reason to be slower for glium.
[13:25:54] *** Joins: Codenator (Mibbit@moz-i23.v94.198.81.IP)
[13:25:58] *** Parts: Codenator (Mibbit@moz-i23.v94.198.81.IP) ()
[13:27:49] <bvssvni> can’t we just all agree to use the scientific method?
[13:28:41] <bvssvni> it’s not the most efficient thing to do at the moment, but we’ll learn more in the long run
[13:30:14] <bvssvni> there has been a lot of discussion what is fast, but sometimes measuring it gives surprising results, and what makes it slow might be something different entirely
[13:30:22] *** Quits: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr) (Quit: )
[13:31:27] <bvssvni> sea snake escape doesn’t tell that gfx is faster than glium for all cases, it just reveals if there is something wrong
[13:32:19] <kvark> bvssvni: right. What we could try under the hood is automatic instancing.
[13:37:18] *** Quits: og_wolf (og_wolf@moz-obu4ds.devs.futuro.pl) (Quit: )
[13:38:51] *** Quits: fkaa (tundmatu@moz-501od2.business.telia.com) (RecvQ exceeded)
[13:39:13] *** Joins: fkaa (tundmatu@moz-501od2.business.telia.com)
[13:43:33] *** Joins: Bira (Bira@moz-sq6.nc4.106.187.IP)
[13:46:59] *** Quits: lenstr (lenstr@moz-rrh.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[13:51:53] *** Joins: lenstr (lenstr@moz-rrh.vju.25.171.IP)
[13:55:19] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[13:58:04] *** Quits: dustinm` (dustinm@moz-1c1j82.fu2o.sj0n.5300.2607.IP) (Ping timeout: 121 seconds)
[14:04:06] <kmcguire> hmm im learning some good ol opengl lessons the hard way
[14:04:31] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[14:05:14] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[14:06:17] *** Quits: fmtq (fmtq@moz-d08itp.tpgi.com.au) (Ping timeout: 121 seconds)
[14:07:06] *** Quits: mindtree (Mitch@moz-57lnk1.iprimus.net.au) (Ping timeout: 121 seconds)
[14:07:25] <kmcguire> guys i think the resolution of my z-buffer here is the core of the problem, but basically, im very high up on the Z axis looking down and I have a line with a point on top. The line is 0.0 on the Z axis and XY plane, and my dot I tried putting at 1.0, the problem is I have to make it really big in order to make the dot draw on top of the line, and I been fiddling with GL_LEQUAL and GL_LESS for GL_DEPTH_TEST
[14:08:09] *** Joins: mindtree (Mitch@moz-mca1dv.iprimus.net.au)
[14:08:11] <kmcguire> also i make the gl calls to draw the dot after the line
[14:08:20] <kmcguire> i figured that might make GL_LEQUAL work
[14:09:03] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[14:09:20] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[14:09:23] *** Joins: fmtq (fmtq@moz-d08itp.tpgi.com.au)
[14:09:48] <kmcguire> im going to try just disabling the z-buffer
[14:10:14] <kmcguire> yeah disabling z-buffer fixes it
[14:11:06] <kvark> kmcguire: check with a good GPU debugger, like Renderdoc
[14:11:13] <fkaa> i'm back!
[14:11:17] <kvark> it would show you the stored depth versus the primitive depth
[14:11:23] <fkaa> rust generics are cool
[14:11:45] <kvark> fkaa: you are back from the generic-land?
[14:11:55] <fkaa> haha yes :)
[14:12:11] <tomaka> I think kmcguire is using OpenGL ES
[14:12:23] <kmcguire> kvark, thanks buddy that is helping info (incase i work on desktop)
[14:12:31] <kmcguire> not being sarcastic
[14:12:58] <tomaka> "kmcguire" is synonymous to "android" ^^
[14:13:24] <kvark> ah, sorry
[14:13:35] <kmcguire> no dont be sorry
[14:13:43] <kvark> depth buffer resolution on mobile might indeed be reduced
[14:15:28] <fkaa> there was a holy war? http://www.reddit.com/r/rust/comments/34w9k8/what_is_the_state_of_lowish_level_opengl_libraries/
[14:16:15] <kvark> fkaa: it was intense at times. I think we are mostly in piece now with tomaka ;)
[14:16:23] <tomaka> hehe
[14:16:50] <tomaka> after an epic 12 hours rap battle, things were settled
[14:16:51] <kvark> *peace
[14:17:32] *** Joins: dustinm` (dustinm@moz-1c1j82.fu2o.sj0n.5300.2607.IP)
[14:17:37] *** Joins: Eonil (Eonil@moz-lln.amf.223.175.IP)
[14:20:17] <fkaa> what does `'lifetime + Type` mean?
[14:20:53] <tomaka> `+ Trait` you mean
[14:20:59] *** Quits: squiddy (squiddy@moz-md4.pm3.19.178.IP) (Quit: Leaving)
[14:21:07] <fkaa> ah, that 
[14:21:21] <tomaka> it means that the object must outlive 'lifetime
[14:22:03] <fkaa> shouldn't it be `Trait<'lifetime>` instead?
[14:22:24] <tomaka> traits can have lifetime parameters as well
[14:22:45] <tomaka> rusti: trait Foo<'a> {}   fn bar<T>(_: T) where T: Foo<'static> + 'static {}
[14:22:46] -playbot- ()
[14:23:00] <tomaka> so it's not the same thing
[14:24:56] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[14:25:17] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[14:26:05] <fkaa> tomaka: that means that in `bar(foo);`, foo must be static?
[14:26:30] <tomaka> yes
[14:26:43] <tomaka> Because of the ` + 'static`
[14:26:47] *** Joins: Guest74 (textual@moz-il1.n6s.204.65.IP)
[14:27:06] <fkaa> i've also seen some `impl !Trait for Foo`
[14:27:14] <fkaa> (i think)
[14:27:47] <tomaka> you can theoretically write `impl MyTrait for .. {}`
[14:28:00] <tomaka> in which case MyTrait will be implemented by default for everything
[14:28:10] <tomaka> except types that have a member which doesn't implement it
[14:28:10] <fkaa> and ! negates it?
[14:28:12] <tomaka> yes
[14:28:15] <fkaa> cool
[14:28:18] <tomaka> but that's an unstable feature
[14:28:25] <tomaka> rusti: trait Foo {} impl Foo for .. {}
[14:28:26] -playbot- <anon>:9:22: 9:40 error: default trait implementations are experimental and possibly buggy
[14:28:26] -playbot- <anon>:9         trait Foo {} impl Foo for .. {}
[14:28:26] -playbot- output truncated; full output at: http://bit.ly/1OXbfFo
[14:28:29] <fkaa> are there any traits that are implemented by default?
[14:28:36] <tomaka> Send and Sync
[14:29:19] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[14:30:19] <tomaka> rusti: struct Foo; fn needs_send<T: Send>(_: T) {}  needs_send(Foo)
[14:30:20] -playbot- ()
[14:30:30] <tomaka> ^ Foo implements Send even though I didn't say so explicitely
[14:30:58] <fkaa> rusti: struct Foo; impl !Send for Foo {} fn needs_send<T: Send>(_: T) {}  needs_send(Foo)
[14:30:59] -playbot- <anon>:9:21: 9:42 error: negative trait bounds are not yet fully implemented; use marker types for now
[14:30:59] -playbot- <anon>:9         struct Foo; impl !Send for Foo {} fn needs_send<T: Send>(_: T) {}  needs_send(Foo)
[14:30:59] -playbot- output truncated; full output at: http://bit.ly/1OXbBMb
[14:32:02] <tomaka> note that they tell you to use marker types, even though marker types have been removed from the language
[14:32:38] <tomaka> if you don't want to implement Send on your struct, you have to use a trick such as adding a "PhantomData<*mut u8>"
[14:37:15] *** Joins: lenstr_ (lenstr@moz-ca8.vju.25.171.IP)
[14:38:59] *** Quits: RC9 (RCIX@moz-vnmep7.ph.cox.net) (Ping timeout: 121 seconds)
[14:39:55] *** Quits: lenstr (lenstr@moz-rrh.vju.25.171.IP) (Ping timeout: 121 seconds)
[14:40:59] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[14:47:05] *** Quits: gonzaloserrano (Adium@moz-1nv.3t7.97.62.IP) (Quit: Leaving.)
[14:48:48] *** Joins: gonzaloserrano (Adium@moz-1nv.3t7.97.62.IP)
[14:49:02] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[14:50:16] *** Quits: aepsil0n (eduard@moz-ob9p8k.hsi8.kabel-badenwuerttemberg.de) (Connection closed)
[14:53:32] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[14:54:16] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[15:04:09] *** Quits: bdero1 (bran@moz-mqs.7dh.189.18.IP) (Quit: Leaving.)
[15:04:11] *** Joins: bdero (bran@moz-mqs.7dh.189.18.IP)
[15:05:58] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[15:10:04] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[15:12:04] *** Quits: davebettin (davebettin@moz-ip635p.or.comcast.net) (Ping timeout: 121 seconds)
[15:12:17] *** Joins: Gamecubic (cubic@moz-bglmk5.mc.videotron.ca)
[15:12:54] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Quit: Lost terminal)
[15:13:05] *** Joins: Lilly (Lilly@moz-pfkvo9.bredband.comhem.se)
[15:16:57] *** Quits: summerlight (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[15:18:43] *** Quits: bdero (bran@moz-mqs.7dh.189.18.IP) (Ping timeout: 121 seconds)
[15:21:19] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[15:21:48] *** Joins: aepsil0n (eduard@moz-ob9p8k.hsi8.kabel-badenwuerttemberg.de)
[15:28:20] <kvark> cmr: bjz: csherratt: ping
[15:28:36] <kvark> maybe bvssvni? I need a couple of reviewers for the slides
[15:28:54] *** Quits: gonzaloserrano (Adium@moz-1nv.3t7.97.62.IP) (Quit: Leaving.)
[15:30:58] *** Joins: bfops (uid58242@moz-e5u6m0.charlton.irccloud.com)
[15:32:39] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[15:34:17] *** Quits: Eonil (Eonil@moz-lln.amf.223.175.IP) (Connection closed)
[15:35:52] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Quit: It's a joke, it's all a joke.)
[15:39:11] <fkaa> kvark: can i get a sneak peak :)?
[15:39:33] <kvark> fkaa: only if you want to spoil yourself
[15:41:12] *** Joins: AngelofSol (Mibbit@moz-5h4qab.ad.rit.edu)
[15:41:56] *** Joins: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr)
[15:46:33] *** Joins: eddyb (Mibbit@moz-3lt.hlc.26.188.IP)
[15:46:47] *** Joins: O01eg (o01eg@moz-bgq.20h.212.176.IP)
[15:50:15] *** Quits: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr) (Quit: )
[15:50:36] *** Joins: gonzaloserrano (Adium@moz-1nv.3t7.97.62.IP)
[15:50:44] *** Joins: xilec (Mibbit@moz-g6k.oht.161.46.IP)
[15:56:25] *** Quits: xilec (Mibbit@moz-g6k.oht.161.46.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[15:57:09] *** Quits: AngelofSol (Mibbit@moz-5h4qab.ad.rit.edu) (Quit: http://www.mibbit.com ajax IRC Client)
[15:59:19] <Lilly> https://gfycat.com/DevotedThoughtfulIlladopsis :D
[15:59:36] <Lilly> now for some shading...
[15:59:42] <Lilly> i have no clue how to do this
[15:59:54] <kvark> Lilly: classy cube
[16:00:10] <Lilly> this time it's loaded from an obj-file!
[16:00:28] <Lilly> no more manual vertex-arrays
[16:00:41] *** Joins: davebettin (davebettin@moz-l35chj.hfc.comcastbusiness.net)
[16:00:45] <eddyb> Lilly: for.... a cube?
[16:00:54] <Lilly> yes!
[16:00:58] <eddyb> I hope you plan to use the obj files for actual models
[16:01:03] <eddyb> and not... cubes
[16:01:03] <Lilly> because two days ago i did the same thing
[16:01:16] <Lilly> except i manually wrote an array of vertices
[16:01:25] <kvark> Lilly: that's cool. Have you used an existing obj loading lib? There was a couple of them
[16:01:32] <Lilly> i used obj
[16:01:49] <fkaa> objc ;)?
[16:02:07] <Lilly> and then i used the load_wavefront function from here https://github.com/tomaka/glium/blob/master/examples/support/mod.rs
[16:02:21] <eddyb> https://github.com/PistonDevelopers/gfx_voxel/blob/master/src/cube.rs
[16:02:30] <Lilly> i've never used "pure" opengl before so i'm not completely sure i know what i'm doing
[16:03:05] <fkaa> it's fun!
[16:03:10] <fkaa> until it doesn't work
[16:03:15] <Lilly> yeah
[16:03:18] <Lilly> then it isn't very fun
[16:03:20] <svenstaro> so like for 20 seconds
[16:03:21] <eddyb> there's a way to do the cube wrong
[16:03:21] <Lilly> :3
[16:03:27] <eddyb> but I forget what it was
[16:03:31] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[16:03:47] <Lilly> eddyb: i used 6 * 2 * 3 vertices because i'm a baby
[16:03:53] <eddyb> I know that the code works
[16:04:09] <eddyb> Lilly: that's correct
[16:04:42] <eddyb> you can do it in less but then you don't have as much control over the individual faces
[16:04:48] <Lilly> the thing you linked only uses 8, right?
[16:04:58] <fkaa> one for each corner
[16:05:01] <Lilly> well if you're only making a cube
[16:05:03] <fkaa> then the rest are indexed
[16:05:13] <Lilly> yeah
[16:05:15] <fkaa> so each face shares vertices
[16:05:18] <eddyb> Lilly: it uses 2 triangles for each face, 6 faces
[16:05:41] <eddyb> it's not indexes right now, though I had a patch
[16:05:49] <Lilly> yeah but multiple triangles can share vertices
[16:05:57] <Lilly> i haven't done that yet
[16:06:03] <eddyb> even with indexing, you can't share vertices all the time because not all the faces might exist!
[16:06:11] <Lilly> true!
[16:06:13] <Lilly> but
[16:06:16] <Lilly> for a cube though
[16:06:22] <eddyb> (this is minecraft though :P)
[16:06:43] <eddyb> what else... I might have done something to get away with 4 vertices per face instead of 6, but I'm not sure
[16:06:45] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[16:07:15] <Lilly> how does lighting work
[16:07:27] <Lilly> (broadest question of the century)
[16:08:32] <stjahns> dot products and stuff
[16:08:39] <stjahns> (broad answer)
[16:08:53] <Lilly> i have such a hard time to wrap my head around dot products
[16:09:57] <kvark> Lilly: a dot product between 2 vectors is basically how close they are. 1 for being the same. -1 being the opposite directions. That, assuming both vectors are normalized (have length of 1)
[16:10:01] <stjahns> In a tiny nutshell, in your fragment shader, you can calculate the dot product between the surface normal and the incoming light direction,
[16:10:28] <Lilly> kvark: are we talking about vectors as directional vectors now?
[16:10:30] <stjahns> that dot product will be 1 if the normal is parallel to the light, 0 if its perpendicular
[16:10:51] <kvark> Lilly: vectors are vectors. They don't have a point of application.
[16:10:51] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[16:10:55] <stjahns> so you can use that the adjust how lit the fragment is
[16:11:22] <Lilly> kvark: but a vector can signify a point or a direction (and other stuff)
[16:11:22] <stjahns> there's also much fancier ways as well..
[16:11:41] <kvark> Lilly: well, lets not mix points and vectors
[16:11:49] <Lilly> i need an image of this lol
[16:12:02] <Lilly> sorry
[16:12:08] <Lilly> i'm mixing up stuff
[16:12:15] <Lilly> ugh
[16:12:31] <Lilly> ok so, surface normal
[16:12:44] <Lilly> that's like if i'd put a nail in a wall, right
[16:12:54] <Lilly> so it'd point straight out
[16:13:02] <kvark> lol, correct
[16:13:03] <stjahns> yep!
[16:13:24] <Lilly> and the incoming light
[16:13:37] <Lilly> if it hits the nail right on, the dot product is -1?
[16:13:42] <Lilly> since they are exactly opposite
[16:13:46] <kvark> yeah
[16:13:57] <Lilly> so that would mean the light intensity would be high in that case
[16:14:10] <kvark> diffuse reflection would be high
[16:14:23] <Lilly> if the dot product is 1 the light would be coming from behind the wall
[16:14:39] <Lilly> kvark: words words...
[16:14:41] <kvark> diffuse = reflected in all directions equally
[16:15:03] <kvark> if your product is >0, then the light comes from behind the wall, so this point is shadowed
[16:15:12] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[16:15:12] <Lilly> yeah
[16:15:24] *** Quits: davebettin (davebettin@moz-l35chj.hfc.comcastbusiness.net) (Ping timeout: 121 seconds)
[16:15:37] <stjahns> not sure how nice of an explanation this is, one of the first links I found: http://http.developer.nvidia.com/CgTutorial/cg_tutorial_chapter05.html
[16:16:13] *** Quits: saml (saml@moz-0pt9vd.cst.lightpath.net) (Quit: Leaving)
[16:17:01] <stjahns> Lilly: scroll down to "The Diffuse Term" to see some pretty diagrams of what we were talking about, or better yet, read it all :)
[16:17:18] <Lilly> ok so diffuse is like how light the wall would appear if you'd look at it from any angle in front of the wall
[16:18:03] <Lilly> like, if the wall wasn't diffuse i'd have to stand at the right angle to see the light, right?
[16:18:10] <kvark> right
[16:18:16] <Lilly> i think i get it
[16:18:25] <Lilly> and specular is just that?
[16:18:32] <Lilly> the shinyness?
[16:18:36] <stjahns> pretty much!
[16:18:53] *** Joins: saml (saml@moz-0pt9vd.cst.lightpath.net)
[16:18:57] <kvark> add ambient and emissive, and you got a simple lighting model
[16:19:23] <stjahns> add some celery and carrots and you got a stew goin'
[16:19:25] <Lilly> ambient is just "random light that's everywhere"
[16:19:29] <Lilly> ?
[16:19:43] <Lilly> oh it says right here
[16:19:45] <Lilly> lol
[16:19:51] <stjahns> :)
[16:20:05] <Lilly> and emissive is the light that the thing itself is sending out
[16:20:06] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[16:20:17] *** Joins: eerie (eerie@moz-rll6i6.red.bezeqint.net)
[16:20:21] *** Quits: fmtq (fmtq@moz-d08itp.tpgi.com.au) (Ping timeout: 121 seconds)
[16:20:38] <kvark> yep
[16:20:46] *** Joins: erz (erz@moz-efrhus.broadband.corbina.ru)
[16:20:48] <Lilly> but you calculate this stuff per vertex?
[16:20:53] <Lilly> that feels weird
[16:20:56] <Lilly> oh wait
[16:21:05] <Lilly> i guiess it isn't weird if you have a round surface
[16:21:10] <kvark> you can, but it's more often done per pixel
[16:21:14] <Lilly> oh
[16:21:51] <kvark> per vertex makes sense if your mesh is dense in screen space. Like, you may be tessellating it intentionally just to avoid per-pixel lighting
[16:21:59] <kvark> NVidia likes that ;)
[16:22:09] <Lilly> how does my frag shader get ahold of the normal of a certain pixel?
[16:22:33] *** Joins: fmtq (fmtq@moz-d08itp.tpgi.com.au)
[16:22:35] <kvark> you pass it from the vertex shader, and it gets interpolated between vertices of the face, where your pixel belongs
[16:22:48] <Lilly> can i just pipe it into the frag from the vertex shader?
[16:22:54] <Lilly> nice
[16:23:24] *** Joins: niconii (nicole@moz-5gqgia.frgo.qwest.net)
[16:24:02] <kvark> yep, the rasterization and interpolation is implemented by HW
[16:24:39] *** Joins: davebettin (davebettin@moz-qihdsk.hfc.comcastbusiness.net)
[16:26:15] *** Joins: bdero (bran@moz-mqs.7dh.189.18.IP)
[16:26:36] <Lilly> ok so for implementing some basic light in my scene, could i skip specular and emissive light?
[16:27:58] *** Joins: stjahns_ (stjahns@moz-9oh245.ed.shawcable.net)
[16:32:49] *** Joins: brson (brson@moz-qjbkeh.mtv2.mozilla.com)
[16:34:09] *** Joins: UberLambda (uber@moz-24qg64.clienti.tiscali.it)
[16:34:22] *** Quits: stjahns_ (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[16:34:53] *** Joins: stjahns_ (stjahns@moz-9oh245.ed.shawcable.net)
[16:36:20] <Lilly> ok i think i got something
[16:36:21] <Lilly> https://gfycat.com/FarflungDistortedApisdorsatalaboriosa
[16:36:32] <Lilly> the problem is the light rotates with the model :D
[16:37:45] <stjahns> now you just need some matrices and stuff :)
[16:37:54] <Lilly> i have matrices!
[16:38:06] <Lilly> model, view and projection
[16:38:22] <Lilly> i don't really know what all three are supposed to do to be honest
[16:38:32] <stjahns> it looks like the light is in model-space, you want it in world-space, and use your world-model transform matrix to transform the light position
[16:38:55] *** Quits: stjahns_ (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[16:38:58] <stjahns> err.. i didn't really explain that well
[16:39:06] <tomaka> the model matrix moves, rotates and rescales your model so that it fits inside the scene
[16:39:20] <tomaka> the view matrix transforms your model so that it's viewed appropriately by a given camera
[16:39:28] <Lilly> light is just a [1., -1.0, 10.0] array
[16:39:31] <tomaka> and the perspective matrix does correction for the perspective and screen dimensions
[16:39:37] <Lilly> thanks tomaka!
[16:39:42] <Lilly> that makes sense
[16:39:57] <Lilly> i'm modifying the model matrix to make the cube rotate
[16:40:06] <Lilly> but i don't get why that affects the light
[16:40:08] <tomaka> each element in the scene has a different model matrix
[16:40:15] <tomaka> but the view and perspective matrices are the same
[16:40:22] <Lilly> oh wait, the normals don't update do they
[16:40:32] <tomaka> yeah you have to multiply your normals as well
[16:40:43] <tomaka> but only by the model matrix
[16:41:06] <stjahns> yeah i was way off, brainfart
[16:41:28] <Lilly> hm
[16:41:40] *** Quits: gonzaloserrano (Adium@moz-1nv.3t7.97.62.IP) (Quit: Leaving.)
[16:41:49] <Lilly> the model matrix is 4x4 but the normal is a vec3, how do i "cut" the 4x4 matrix?
[16:42:12] <tomaka> you turn your normal into a vec4 by adding 1.0 at the end
[16:42:17] <cmr> kvark: pong
[16:42:37] <tomaka> you're probably doing that already for your position
[16:42:47] <Lilly> ah and then just do the xyz thing?
[16:43:37] <tomaka> yeah
[16:43:46] <tomaka> normally the model matrix shouldn't modify the last element of the vec4
[16:44:01] <tomaka> you'd put a assert!(result.w == 1.0); there if GLSL supported assertions
[16:45:25] <Lilly> tomaka: I'm using this formula to calcualte luminance and color that I found in a glium example
[16:45:28] <bfops> although FP equality is probably not the best thing to rely on
[16:45:38] <Lilly> `float lum = max(dot(normalize(Normal), normalize(light)), 0.0);`
[16:45:45] <Lilly> that's standard I think
[16:45:55] <Lilly> I don't completely get this one though
[16:46:04] <Lilly> `vec4 color = (0.3 + 0.7 * lum) * Color;`
[16:46:14] <Lilly> oh wait i do
[16:46:25] <Lilly> you just threshold it
[16:46:27] <tomaka> this should probably be replaced by a lerp by the way
[16:46:35] <Lilly> so that luminance is always at least 0.3
[16:46:37] <tomaka> yeah, lum is between 0 and 1
[16:46:41] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Client exited)
[16:46:55] <Lilly> so that dark sides don't become completely black
[16:47:02] <tomaka> yeah
[16:47:10] <Lilly> I UNDERSTAND STUFF
[16:47:39] <Lilly> https://gfycat.com/UnfitPessimisticBagworm
[16:48:03] <tomaka> :)
[16:48:05] <stjahns> yeeeeeah!
[16:48:15] <cmr> no you don't, your an unfit pessimistic bagworm! gfycat said so!
[16:48:17] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[16:48:20] <Lilly> glium is so nice to work with
[16:48:24] <Lilly> cmr: :D
[16:48:30] <Lilly> I love gfycat's random names
[16:48:52] *** Joins: Gabriel_7 (Gabriel@moz-j7j5rs.mtgr.92aj.0e35.2a01.IP)
[16:49:06] <Lilly> oh, my program crashes when i unfocus the window and then try to focus it again
[16:49:15] <Lilly> "thread '<main>' panicked at 'Debug message with high or medium severity: `glOrtho has generated an error (GL_INVALID_VALUE)`."
[16:49:17] <tomaka> on os/x?
[16:49:20] <Lilly> windows
[16:49:24] <tomaka> wat
[16:49:27] <tomaka> glOrtho?
[16:49:56] <Lilly> i'm not even using orthographic 
[16:50:12] <tomaka> that's a function that belongs to OpenGL 21
[16:50:17] <tomaka> 2.1*
[16:50:23] <tomaka> glium obviously doesn't use it
[16:50:25] <Lilly> I also get this when the program finishes
[16:50:30] <Lilly> [0x7FEFA09AAA0] ANOMALY: meaningless REX prefix used
[16:50:30] <Lilly> [0x7FEFA0848C0] ANOMALY: meaningless REX prefix used
[16:50:30] <tomaka> Are you using a debugger or something?
[16:50:38] *** Joins: eerie_ (eerie@moz-rll6i6.red.bezeqint.net)
[16:50:44] <Lilly> that could just be RustDT being silly though
[16:50:54] <Lilly> tomaka: I'm using RustDT but I'm not using any debuggers
[16:51:03] <Lilly> just cargo afaik
[16:51:29] <Lilly> Oh there's this line as well
[16:51:30] <Lilly> Please report this error: https://github.com/tomaka/glium/issues', C:\Users\Lilly\.cargo\registry\src\github.com-1ecc6299db9ec823\glium-0.3.5\src\context/mod.rs:549
[16:51:42] <tomaka> It looks like `ANOMALY: meaningless REX prefix used` is a Java error
[16:51:55] <Lilly> yeah it's probably eclipse being silly then
[16:52:14] <tomaka> no, wait, it's more a minecraft error than java error
[16:52:22] <Lilly> lol what
[16:52:44] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[16:52:48] <tomaka> if you google it, half of the results are people having this error when running minecraft
[16:52:53] <Lilly> hahaha
[16:53:05] <Lilly> eclipse maybe depends on minecraft
[16:53:19] *** Quits: eerie (eerie@moz-rll6i6.red.bezeqint.net) (Ping timeout: 121 seconds)
[16:53:20] <tomaka> "I have found a solution. I deleted amd gaming evolved/ raptr and it worked."
[16:53:24] <eddyb> well, no
[16:53:35] <Lilly> tomaka: that's probably it then
[16:53:36] <eddyb> Lilly: minecraft is the single largest use for Java right now
[16:53:57] <eddyb> it can single-handledly keep Java alive
[16:53:59] <Lilly> i have that stuff installed because macros for my mouse
[16:54:04] <eddyb> *handedly
[16:54:15] <tomaka> something's probably injecting OpenGL commands in your code
[16:54:20] <Lilly> i wonder if minecraft would have less performance issues if it wasn't written in Java
[16:54:27] <cmr> Yes, it would.
[16:54:30] <eddyb> Lilly: we know for sure that it would
[16:54:43] <tomaka> this is actually a real problem that I have with glium
[16:54:50] <tomaka> some programs inject OpenGL commands without asking you
[16:54:54] *** Joins: Jackneill (Jackneill@moz-u0nna8.pool.digikabel.hu)
[16:54:57] <tomaka> and glium detects that and panics
[16:55:00] <Lilly> it's kinda annoying that the devs use the "but we use pure opengl-bindings"
[16:55:34] <Lilly> tomaka: i think the app has some streaming/screenshot functionality, so that's probably why it injects calls
[16:56:24] <Lilly> is allocation more expensive in java than in c/c++/rust etc?
[16:56:46] <tomaka> allocation is not more expensive, the problem is that everything is allocated
[16:56:52] <Lilly> or is it the gc that's the major performance hog?
[16:57:02] <tomaka> it's as if you Boxed everything
[16:57:02] <cmr> No, allocation is in fact cheaper.
[16:57:07] <eddyb> Lilly: Java is objectively worse than C#
[16:57:15] <cmr> But you do *so much more of it*
[16:57:25] <Lilly> wait
[16:57:29] <cmr> In Java you can't have anything unboxed, which while not a panacea, certainly 
[16:57:29] <eddyb> Lilly: you can't have 3 floats passed around as values in Java, you can in C#
[16:57:33] <cmr> makes things easier.
[16:57:39] <Lilly> uuh
[16:57:48] <Lilly> what does allocate even mean?
[16:57:53] <cmr> (You can still write your code as indices etc into a huge byte buffer but... why would you want to)
[16:57:55] <Lilly> having stuff on the heap?
[16:58:08] <tomaka> yes
[16:58:08] <eddyb> if you look at the debug log of minecraft you can see something about Vec3 caches
[16:58:12] <cmr> Well, not entirely, but close enough.
[16:58:23] <eddyb> they have to cache allocations for Vec3's becuase they can't just pass them around by value
[16:58:27] <tomaka> putting data on the stack is ultra cheap, and putting data on the heap is moderatly expensive
[16:58:29] <cmr> it's just to make storage space for something somewhere
[16:58:36] <Lilly> that's the thing that annoys me with java
[16:58:44] <Lilly> I tried getting into android dev a few years ago
[16:58:52] <fmtq> Android hates you
[16:58:54] <eddyb> hahahaha android
[16:58:57] <Lilly> and i had to make pools for everything to make the gc stop cleaning up
[16:59:02] <fmtq> onCreate() { nope(); } 
[16:59:12] <Lilly> at that point you should just not have gc at all imo
[16:59:23] <fmtq> what were you even doing 
[16:59:27] <fmtq> that the gc got in the wya 
[16:59:33] <Lilly> games or something
[16:59:35] <Lilly> i can't remember
[16:59:35] <fmtq> because at the point you should be probably using the NDK 
[16:59:40] <fmtq> that* 
[16:59:42] <Lilly> yeah
[16:59:45] <Lilly> probably should've
[16:59:47] <eddyb> I would not be mad if they replaced Java with Go in android
[16:59:55] <fmtq> I would be mad.
[17:00:00] <fmtq> you can already use go on android btw
[17:00:02] <Lilly> Go makes me do this face :/
[17:00:03] <fmtq> don't be silly
[17:00:03] <eddyb> though the lack of generics might make automatic translation hard
[17:00:17] <fmtq> NDK
[17:00:20] <fmtq> EN DEE KAY
[17:00:26] <eddyb> fmtq: android is not written in the NDK
[17:00:29] <tomaka> I would be happy if they just allowed executing binaries on android without having to use an intermediate layer in Java
[17:00:33] <fmtq> thanks eddyb
[17:00:39] <Lilly> me too tomaka
[17:00:42] <eddyb> the whole system is Java
[17:00:50] <fmtq> yes, except for shit written in the NDK 
[17:00:54] <fmtq> which is not Jawa 
[17:01:11] <fmtq> eddyb: do you hate freedom?
[17:01:13] <eddyb> apps running faster don't help when the whole system grinds to a halt
[17:01:22] <eddyb> fmtq: I hate 20-second lag
[17:01:29] <fmtq> then buy a useful device 
[17:01:31] <fmtq> silly boy 
[17:01:33] <Lilly> i feel like having android be pure java was a mistake
[17:01:48] <fmtq> I feel like mobile devices of any kind have been amazing mistakes 
[17:01:52] <Lilly> why would you have the base be higher level than the apps it would run
[17:01:55] <bvssvni> kvark: where are the slides?
[17:01:56] <tomaka> any system that is tied to a specific language/framework/etc. is a mistake
[17:02:12] <eddyb> their only excuse is that Rust wasn't there yet
[17:02:16] <fmtq> well arguably it wasn't a mistake insofar as teh market is concerned.
[17:02:24] <Lilly> tomaka: aren't all systems kinda tied to something?
[17:02:28] <eddyb> Objective-C might not look nice, but at least Apple tried
[17:02:29] <fmtq> 5 randoms arguing in an IRC room does not market success make 
[17:02:37] <fmtq> Objective-Derp
[17:02:49] <Lilly> I tried reading Objective-C once
[17:03:00] <fmtq> it's based on UML 
[17:03:07] <fmtq> you should never base syntax on UML 
[17:03:13] <Lilly> tbh i don't get why language designers decide to create "innovative" syntax instead of just going with classic C-esque
[17:03:23] <eddyb> Lilly: it's a smalltalk
[17:03:29] <fmtq> not really
[17:03:31] <fmtq> it's a nightmare
[17:03:33] <Lilly> what is smalltalk
[17:03:37] <fmtq> haha
[17:03:39] <fmtq> Lilly: pls
[17:03:42] <Lilly> :)
[17:03:44] <eddyb> the syntax is not innovative at all IMO
[17:03:45] *** Joins: hhhhhhhhhh (mike@moz-969kuj.cable.virginm.net)
[17:03:51] <Lilly> but like
[17:03:54] <eddyb> but I agree it wasn't the best fit
[17:03:55] <fmtq> oh contraire 
[17:04:02] <Lilly> is there any programmer that does NOT understand C-like syntax?
[17:04:09] <fmtq> me
[17:04:16] <Lilly> vs is there any programmer that actually understands objective-c
[17:04:18] <fmtq> I only understand whitespace
[17:04:22] <fmtq> I write in brainfuck mostly
[17:04:28] <Lilly> hardcore as heck
[17:04:33] <fmtq> there are lots of developers that understand objc
[17:04:34] <fmtq> again
[17:04:37] <eddyb> Lilly: https://en.wikipedia.org/wiki/Smalltalk
[17:04:39] <fmtq> look how many ios apps there are
[17:05:29] <Lilly> idk it kinda feels a bit... stupid to make "your" main language have syntax that most people don't get on a first glance
[17:05:43] <Lilly> (i feel like this about all of apple's design decisions though)
[17:05:47] * eddyb popcorn
[17:05:51] <fmtq> haha
[17:05:56] <Lilly> No I will not start an argument
[17:06:03] <eddyb> apple did not invent Objective-C
[17:06:11] <fmtq> yes it did
[17:06:14] <fmtq> just under a different name
[17:06:20] <Lilly> but like
[17:06:21] <fmtq> NeXT effectively merged Apple into it
[17:06:23] <fmtq> and kept the Apple brand
[17:06:26] <fmtq> never pretend otherwise
[17:06:31] <eddyb> LOL
[17:06:46] <fmtq> LEL
[17:06:51] <eddyb> fmtq: I was wondering where were you going with that
[17:07:13] <fmtq> am I wrong though?
[17:07:14] <fmtq> seriously
[17:07:14] <Lilly> idk it just feels like they wanted to create the "new hip standard" when they could've just used the thing everyone already understood
[17:07:23] <fmtq> all modern Apple products are based on NeXT code, not Apple code.
[17:07:27] *** Joins: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr)
[17:07:29] <bvssvni> Lilly: Windows 95
[17:07:30] <fmtq> it was all retired as "completely shit, you people are awful" 
[17:07:41] <eddyb> fmtq: wikipedia says "Productivity Products International"
[17:07:58] <fmtq> sounds like a patent farm
[17:08:15] <fmtq> Objective-C was created primarily by Brad Cox and Tom Love in the early 1980s at their company Stepstone.[3] 
[17:08:17] <eddyb> https://en.wikipedia.org/wiki/Stepstone
[17:08:40] <Lilly> Characters are written by preceding them with a dollar sign:
[17:08:45] *** Joins: Zr40 (zr40@moz-92llkv.adsl.xs4all.nl)
[17:08:45] <Lilly> why would anyone do this
[17:08:52] <fmtq> In order to circumvent the terms of the GPL, NeXT had originally intended to ship the Objective-C frontend separately, allowing the user to link it with GCC to produce the compiler executable. After being initially accepted by Richard M. Stallman, this plan was rejected after Stallman consulted with GNU's lawyers and NeXT agreed to make Objective-C part of GCC.[7]
[17:08:55] *** Quits: Gabriel_7 (Gabriel@moz-j7j5rs.mtgr.92aj.0e35.2a01.IP) (Ping timeout: 121 seconds)
[17:09:00] <bvssvni> Lilly: the ideas today “everyone understands” are copied from other places
[17:09:17] <Lilly> bvssvni: very true
[17:09:24] <bvssvni> Lilly: and many of those ideas come from places people criticize for being different
[17:09:29] <Lilly> but there is a time when you should just stop trying to force new standards
[17:09:55] <Lilly> imo at least
[17:09:58] * eddyb more popcorn
[17:10:02] <eddyb> Lilly: look at the dates
[17:10:18] <Lilly> like how C memory layout or whatever is standard everywhere
[17:10:27] <eddyb> wat
[17:10:27] <fmtq> I AM BORED OF THIS
[17:10:31] <fmtq> I AM LEAVE
[17:10:35] <cmr> I'm sorry but that's clearly misguided
[17:10:46] <Lilly> correct me!
[17:10:52] <cmr> C "standard" ABIs came through lots of blood and tears and competing compiler and OS manufacturers
[17:11:04] <Lilly> competing with who/what?
[17:11:08] <cmr> each other.
[17:11:22] <Lilly> oh so there were no clear standard?
[17:11:35] <Lilly> is the current ABI defined by ISO or whatever?
[17:11:40] <cmr> Borland, MSVC, GCC, EGCS, GCC again but different, etc.
[17:11:42] <cmr> No it is not.
[17:11:52] <Lilly> so what is it defined by?
[17:11:55] <cmr> There are two main C ABIs, the one MSVC made up, and the one GCC made up.
[17:12:19] <Lilly> (I think MSVC are trying to "force" their shit as well lol)
[17:13:07] <Lilly> When did the C abi "war" end?
[17:13:12] <Lilly> or has it even ended
[17:14:29] <cmr> it's not really much of an issue anymore now that there aren't really any independent compiler vendors competing.
[17:14:39] <cmr> you either use gcc, something that is compatible with gcc, or msvc.
[17:15:00] <Lilly> but say we have a library compiled with msvc
[17:15:02] <cmr> C++ is still a mess
[17:15:06] <bvssvni> because hardware is too insane now?
[17:15:08] <Lilly> could we link to it with Rust?
[17:15:27] <fkaa> well obj-c is a superset of c
[17:15:30] <cmr> no.
[17:15:41] <Lilly> cool
[17:15:45] <fkaa> it's not that bad
[17:15:56] <cmr> if it's just something with the stdcall abi, probably.
[17:16:04] <fkaa> Lilly: nice bagworm!
[17:16:18] <Lilly> fkaa: an unfit and pessimistic one!
[17:16:19] <cmr> but we don't know how to do the complex msvc structure layout like clang does.
[17:16:47] *** Quits: aepsil0n (eduard@moz-ob9p8k.hsi8.kabel-badenwuerttemberg.de) (Connection closed)
[17:17:30] *** Quits: eerie_ (eerie@moz-rll6i6.red.bezeqint.net) (Connection closed)
[17:17:39] <Lilly> and msvc can't interface with gcc-compiled libraries?
[17:17:52] *** Joins: eerie (eerie@moz-rll6i6.red.bezeqint.net)
[17:18:02] <Lilly> sorry about my dumb questions
[17:18:29] <cmr> msvc can't, but I think gcc can emit msvc code files now.
[17:18:33] <cmr> s/files //
[17:18:55] <Lilly> i self taught and programmed C++ for a few years but i never bothered trying to understand how linking and libraries really work
[17:18:57] <cmr> *msvc compatible code
[17:19:16] <fkaa> the only dumb questions are the ones not asked!
[17:19:18] <fkaa> said my teacher once upon a time
[17:19:18] <cmr> Papering over ABI issues was a big motivation behind COM at the time.
[17:19:48] <fkaa> Lilly: ditto, i just used to debug and search stackoverflow for hours then hope the solution would hold up
[17:19:50] <fkaa> which is why i like cargo so much :)
[17:20:08] <Lilly> fkaa: pretty much the same
[17:20:22] <Lilly> i tried to get some libraries to work sometimes
[17:20:29] <Lilly> but never managed to get it working
[17:20:56] <Lilly> onlky thing i ever managed to get working was sfml
[17:21:20] <Lilly> it's such a freedom being able to make almost anything compile in rust even on windows
[17:21:36] *** Quits: mindcat (mindcat@moz-0h1.tnp.13.183.IP) (Quit: Lost terminal)
[17:21:50] <fkaa> kvark: the deferred example works now :) http://puu.sh/hCtSC/760ac01e8c.png
[17:21:54] *** Quits: eerie (eerie@moz-rll6i6.red.bezeqint.net) (Ping timeout: 121 seconds)
[17:23:37] *** Joins: dmac_ (dmac@moz-4kcd1c.ca.comcast.net)
[17:26:31] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[17:29:49] *** Quits: SHC (quassel@moz-amg.7pd.204.117.IP) (Connection closed)
[17:42:27] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[17:46:36] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[17:46:57] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[17:48:17] *** Joins: eerie (eerie@moz-rll6i6.red.bezeqint.net)
[17:52:20] *** Quits: eerie (eerie@moz-rll6i6.red.bezeqint.net) (Ping timeout: 121 seconds)
[17:52:55] <fkaa> cmr: would it be possible to make hprof hook into say gfx or glium via a feature?
[17:53:14] <cmr> fkaa: to profile its internal stuff/
[17:53:18] <fkaa> yeah
[17:53:27] <cmr> yes, that would be possible.
[17:54:42] <cmr> Would you want it profiling into its own profiler, the thread-local profiler, or one you provide?
[17:55:02] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[17:55:25] <fkaa> cmr: hm, good question
[17:55:41] <fkaa> i imagine it would overlap if i did my own profiling over it
[17:57:30] <fkaa> cmr: probably its own
[17:57:38] *** Quits: fmtq (fmtq@moz-d08itp.tpgi.com.au) (Ping timeout: 121 seconds)
[17:58:37] <fkaa> i'm not sure what thread-local means exactly, i have to look that up
[17:58:38] *** Quits: hhhhhhhhhh (mike@moz-969kuj.cable.virginm.net) (Quit: WeeChat 1.1.1)
[17:59:27] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[17:59:32] *** Joins: chc4 (chc4@moz-pdo0at.ma.comcast.net)
[17:59:48] <cmr> fkaa: it would overlap, but it's show up underneath its own tree node.
[17:59:59] *** Joins: fmtq (fmtq@moz-d08itp.tpgi.com.au)
[18:00:08] *** Joins: eerie (eerie@moz-rll6i6.red.bezeqint.net)
[18:02:43] <cmr> I suspect there isn't a lot of value in inserting profiling directly into glium or gfx, though.
[18:03:13] <cmr> They try not to do slow things, and the things that they *do* do you'd probably want to account for in your own rendering code.
[18:03:34] <fkaa> true
[18:03:47] <cmr> But, I don't know!
[18:04:00] <fkaa> seems like https://github.com/gsingh93/trace could work well with hprof actually
[18:04:01] <cmr> it'd be a worthwhile experiment, and I hear you want to dig into their code anyway :)
[18:04:10] <fkaa> hehe yes!
[18:04:21] <fkaa> i'll dive into gfx first
[18:05:14] <cmr> Yeah, trace is neat. It's more useful for debugging than profiling, but I think they'd be a good combination when doing dev work.
[18:19:48] <fkaa> tomaka: want to update the glutin_cocoa / glutin_core_graphics crates?
[18:20:49] <tomaka> ok
[18:21:13] *** Quits: UberLambda (uber@moz-24qg64.clienti.tiscali.it) (Quit: Leaving)
[18:21:20] <eddyb> is it split into crates now?
[18:21:31] <eddyb> or is that something else than src/api?
[18:21:55] <fkaa> the servo repos aren't on crates.io
[18:22:07] <tomaka> done
[18:22:10] <fkaa> \o/
[18:22:43] <eddyb> ah, crates.io, where broken things go
[18:23:54] <eddyb> I don't even understand why 0.x version numbers are a thing when we have git commit hashes
[18:29:32] *** Quits: mindtree (Mitch@moz-mca1dv.iprimus.net.au) (Ping timeout: 121 seconds)
[18:37:56] *** Joins: mindtree (Mitch@moz-mca1dv.iprimus.net.au)
[18:45:03] *** Joins: tyoverby (tyoverby@moz-cckcil.cs.washington.edu)
[18:45:13] *** Quits: eerie (eerie@moz-rll6i6.red.bezeqint.net) (Quit: )
[18:47:29] *** Quits: chc4 (chc4@moz-pdo0at.ma.comcast.net) (Ping timeout: 121 seconds)
[18:49:06] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[18:49:18] *** Quits: mindtree (Mitch@moz-mca1dv.iprimus.net.au) (Ping timeout: 121 seconds)
[18:49:42] *** Joins: mindtree (Mitch@moz-rb69vs.iprimus.net.au)
[18:50:34] *** Joins: Gabriel_7 (Gabriel@moz-j7j5rs.mtgr.92aj.0e35.2a01.IP)
[18:51:22] *** Quits: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr) (Connection closed)
[18:51:43] *** Joins: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr)
[18:53:36] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[18:59:51] *** Quits: tyoverby (tyoverby@moz-cckcil.cs.washington.edu) (Connection closed)
[19:01:32] <kvark> fkaa: neat! how far did you go from the gfx_examples/deferred? Or did you write it from scratch?
[19:02:00] <fkaa> eh? i just `cargo update`'d
[19:02:17] <kvark> lol
[19:02:20] <fkaa> hehe
[19:02:27] <fkaa> trying to multitask right now
[19:02:27] <kvark> tricked me
[19:02:57] <fkaa> kvark: seeing what i can do about the `terrain` example, it only has #version 120
[19:03:17] <fkaa> should i put the source in the rust file or separate them in files outside (like the cube example)
[19:03:45] <kvark> fkaa: you want to add 150 shaders?
[19:03:57] <fkaa> yeah
[19:04:29] <kvark> I'd prefer external files
[19:05:24] <cmr> Are there any decent packfile libraries yet?
[19:05:44] <cmr> preferably seekless with compression and hierarchy...
[19:06:39] <kvark> cmr: would be nice to have one. Perhaps, built using rust-compress
[19:08:52] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[19:10:54] *** Quits: davebettin (davebettin@moz-qihdsk.hfc.comcastbusiness.net) (Ping timeout: 121 seconds)
[19:11:06] *** Quits: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr) (Connection closed)
[19:11:07] *** Joins: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr)
[19:11:10] *** Quits: filsmick (filsmick@moz-tj8j41.abo.wanadoo.fr) (Connection closed)
[19:11:18] <bvssvni> I’ve come up with a basic design for piston-meta https://github.com/PistonDevelopers/meta/issues/4
[19:11:59] <cmr> what is "meta parsing and encoding"?
[19:13:10] <bvssvni> cmr: see https://github.com/PistonDevelopers/meta/issues/1
[19:14:34] <cmr> Hm, are you sure you don't mean "data driven design" here?
[19:15:10] *** Joins: hhhhhhhhhh (mike@moz-969kuj.cable.virginm.net)
[19:16:42] <bvssvni> cmr: meta parsing can be used for data driven design
[19:16:49] <bvssvni> cmr: but that’s not the only use case
[19:22:26] *** Joins: rbrs (rbrs@moz-m5thmg.static.zebra.lt)
[19:23:35] *** Joins: hhhhhhhh1 (mike@moz-969kuj.cable.virginm.net)
[19:23:42] *** Quits: hhhhhhhhhh (mike@moz-969kuj.cable.virginm.net) (Quit: WeeChat 1.1.1)
[19:28:49] <eddyb> Tiffany: ^^ wasn't DDD something you were familiar with? might want to join in on the discussion
[19:29:08] <cmr> No, data oriented design.
[19:29:14] <Tiffany> data driven design is when you use data instead of code to configure your application-specific logic
[19:29:16] <eddyb> ehm
[19:29:27] <Tiffany> data oriented design is where you write code in terms of transformations of data in cache-friendly ways
[19:29:31] <eddyb> cmr: I confused my data
[19:29:35] <cmr> it's ok
[19:29:49] *** Joins: w4ffles (textual@moz-g7g.toe.144.12.IP)
[19:32:07] <bvssvni> cmr: I thought you meant data oriented design
[19:32:27] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[19:32:35] <cmr> You say data oriented design on the repo/wiki.
[19:32:56] <bvssvni> yeah, you can use it for both
[19:33:36] <bvssvni> in the case of data driven design, you need some interpreter that executes depending on the logic of the language, like ai_behavior
[19:33:59] <bvssvni> but that’s just data, so in principle no different from reading assets
[19:34:25] *** Joins: hhhhhhhhhh (mike@moz-969kuj.cable.virginm.net)
[19:35:18] *** Joins: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net)
[19:36:41] <eddyb> Tiffany: ^^^ see, that's why I asked :P
[19:36:45] *** Quits: w4ffles (textual@moz-g7g.toe.144.12.IP) (Connection closed)
[19:37:41] *** Joins: Kingsquee (kingsley@moz-3fm07c.bchsia.telus.net)
[19:40:29] <fkaa> tomaka: hm, setting CursorState::Normal both un-hides the cursor and un-grabs it
[19:40:33] <fkaa> should these two be grouped?
[19:41:46] <tomaka> Yeah
[19:41:51] *** Joins: davebettin (davebettin@moz-hde.5e5.136.67.IP)
[19:42:04] <tomaka> The cursor can be either grabbed, hidden, or regular
[19:43:15] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[19:46:57] *** Quits: ytain (ytain@moz-pr2.aip.175.108.IP) (Quit: Textual IRC Client: www.textualapp.com)
[19:47:45] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[19:49:05] *** Quits: perillamint (perillamint@moz-pvo.3mu.72.61.IP) (Connection closed)
[19:49:06] *** Quits: bfops (uid58242@moz-e5u6m0.charlton.irccloud.com) (Quit: Connection closed for inactivity)
[19:57:36] *** Joins: genbattle (genbattle@moz-4v0.gkd.16.182.IP)
[19:59:33] *** Joins: perillamint (perillamint@moz-pvo.3mu.72.61.IP)
[20:00:13] *** Joins: p1start (p1start@moz-nftjhe.org)
[20:02:47] *** Quits: bdero (bran@moz-mqs.7dh.189.18.IP) (Ping timeout: 121 seconds)
[20:06:06] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[20:11:03] *** Quits: rbrs (rbrs@moz-m5thmg.static.zebra.lt) (A TLS packet with unexpected length was received.)
[20:15:53] *** Quits: twipeD (wipeD@moz-5fc4ir.dip0.t-ipconnect.de) (Connection closed)
[20:21:15] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[20:23:26] *** Joins: bfops (uid58242@moz-e5u6m0.charlton.irccloud.com)
[20:24:54] *** Quits: Jackneill (Jackneill@moz-u0nna8.pool.digikabel.hu) (A TLS packet with unexpected length was received.)
[20:25:41] *** Quits: hhhhhhhh1 (mike@moz-969kuj.cable.virginm.net) (Quit: WeeChat 1.1.1)
[20:26:27] *** Quits: p1start (p1start@moz-nftjhe.org) (Ping timeout: 121 seconds)
[20:28:01] <eddyb> tomaka: ping
[20:29:25] *** Quits: mindtree (Mitch@moz-rb69vs.iprimus.net.au) (Quit: leaving)
[20:29:42] <tomaka> eddyb: pong
[20:30:16] <eddyb> tomaka: glium-graphics code has this "FIXME: create empty buffers when glium supports them" comment above some VertexBuffer::dynamic constructions using dummy buffers - it seems to later overwrite slices of those buffers (so they have to be as big as the data could possibly get)
[20:30:25] <eddyb> tomaka: does that need to be updated?
[20:30:39] <tomaka> oh right
[20:30:55] <eddyb> I'm also wondering if there are more efficient ways to deal with a bunch of colored or textured quads
[20:31:06] <tomaka> you can use `empty_dynamic`
[20:32:03] <tomaka> IMO there's no better way to deal with these
[20:32:18] *** Quits: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net) (Connection closed)
[20:32:22] <tomaka> however the calls that glium does seem to heavily confuse the driver
[20:32:40] *** Joins: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net)
[20:32:55] <eddyb> I would think that creating large buffers and submitting them once per frame would be more efficient
[20:33:09] <tomaka> yeah but you'd have to adapt the shaders
[20:33:17] <tomaka> and glium_graphics has no control over them
[20:33:21] <eddyb> or, you know, once per a few rectangles rather than for every single thing
[20:33:27] <eddyb> tomaka: I've already solved that problem :P
[20:33:29] <eddyb> as in...
[20:33:39] <eddyb> I've cannibalized graphics
[20:33:56] <fkaa> you're eating the vertices?
[20:33:59] <eddyb> I don't need all the abstraction layers
[20:34:23] <eddyb> all my positions are in f32, not f64, I use bounding boxes instead of [x, y, w, h], etc.
[20:35:14] <eddyb> an obvious optimization would be to put the 2x3 transform matrix in the fragment shader
[20:35:36] <eddyb> erm, vertex
[20:36:24] <eddyb> though I don't think it needs to be 2x3 because I don't really use translation... so it's probably just going to put 1 / w and 1 / h in a couple of uniforms. if optimizing out the inverse is even worth my time
[20:37:26] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[20:37:26] <eddyb> (but I do not want to do the transforms on the CPU side. drawing should just be pushing some bytes to a Vec, at most floating-point add/sub, for most things)
[20:37:59] <eddyb> right now it's probably doing 40 multiplications for a single rectangle
[20:40:28] <eddyb> tomaka: and besides, I kinda want to try out some crazier visualizations, if I get the chance. piston-graphics is just limiting me when I don't need everything it offers
[20:40:41] <eddyb> I am "stealing" those rounded corners, though :P
[20:40:53] <cmr> fkaa: I eat vertices and poop out fragments. what am I?
[20:41:00] <cmr> that'd be a hilarious game show.
[20:41:04] <fkaa> lol
[20:41:52] *** Joins: gretchen (Mibbit@moz-57cdj6.cpe.webspeed.dk)
[20:41:55] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[20:43:51] *** Quits: hhhhhhhhhh (mike@moz-969kuj.cable.virginm.net) (Quit: WeeChat 1.1.1)
[20:46:05] <cmr> bvssvni: so is piston-meta just a tree transformation + parsing library?
[20:46:07] *** Quits: brandonw (brandonw@moz-36sv6k.ma.charter.com) (Quit: leaving)
[20:46:09] <cmr> ("just")
[20:46:32] <bvssvni> cmr: I knew somebody would come and say “just” :)
[20:46:51] <cmr> I know it's not trivial, but I'm trying to boil it down to some jargon that I understand ;)
[20:47:10] *** Joins: brandonw (brandonw@moz-36sv6k.ma.charter.com)
[20:47:18] *** Joins: bdero (bran@moz-lbs.91h.47.73.IP)
[20:47:19] <bvssvni> cmr: the problem is that meta parsing is composable
[20:47:32] <bvssvni> cmr: so it gets less trivial the more complicated it is used
[20:47:42] <bvssvni> cmr: but at the basic level, it is just a tree transformation
[20:47:44] *** Joins: hhhhhhhhhh (mike@moz-969kuj.cable.virginm.net)
[20:49:20] *** Joins: summerlight (summerlight@moz-99k.2mj.130.121.IP)
[20:49:21] <bvssvni> cmr: my goal is not to create something as advanced as OMeta, I want to use it for data mostly
[20:50:09] <bvssvni> cmr: if it can be used for scripting, then that’s nice, but its not the main goal
[20:50:39] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[20:51:30] *** Joins: chris3 (chris@moz-ci61eb.nj.comcast.net)
[20:51:39] *** Quits: Bira (Bira@moz-sq6.nc4.106.187.IP) (A TLS packet with unexpected length was received.)
[20:53:30] *** Quits: chris (chris@moz-ci61eb.nj.comcast.net) (Ping timeout: 121 seconds)
[20:54:25] *** Quits: summerlight (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[20:54:27] <bvssvni> cmr: I believe it is useful to do some non-trivial things like it, for example validate meta descriptions using a meta reader for the meta language
[20:54:39] <bvssvni> s/like/with
[20:56:10] <bvssvni> maybe it is possible to transform meta descriptions to newer versions as well, so you can upgrade data to a new meta language
[20:56:34] <bvssvni> it’s complicated :P
[20:57:03] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[20:57:32] <cmr> I agree.
[20:59:14] <eddyb> is this *the* META?
[20:59:38] <eddyb> I guess META II is what I'm thinking of
[21:01:41] *** Joins: pwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[21:01:44] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Connection closed)
[21:01:44] *** pwalton is now known as pcwalton
[21:06:17] *** Joins: chc4 (chc4@moz-pdo0at.ma.comcast.net)
[21:06:18] <bvssvni> eddyb: doesn’t META II precedes OMeta?
[21:06:52] <eddyb> I... I was messing with the names
[21:07:57] <fkaa> today has been a productive day
[21:07:58] *** Joins: RC9 (RCIX@moz-vnmep7.ph.cox.net)
[21:08:06] <bvssvni> there are research papers here http://vpri.org/html/writings.php
[21:08:32] <bvssvni> http://www.vpri.org/pdf/tr2007003_ometa.pdf
[21:15:07] <kmcguire> what class of problem is one in which you have multiple line segments (some already connected) and you need to connect them together if the distance between them is under a threshold? i made something like this but was not sure what its under
[21:15:25] <kmcguire> lines existing in any number of dimensions
[21:16:00] <kmcguire> its sorta like a spatial graph where you make links
[21:17:47] *** bvssvni is now known as bvssvni_
[21:25:38] *** Quits: Gabriel_7 (Gabriel@moz-j7j5rs.mtgr.92aj.0e35.2a01.IP) (Ping timeout: 121 seconds)
[21:31:35] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[21:36:05] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[21:36:55] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[21:50:31] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[21:54:52] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[21:57:12] *** Quits: Lilly (Lilly@moz-pfkvo9.bredband.comhem.se) (Quit: bajs)
[22:01:19] *** Joins: Gabriel_7 (Gabriel@moz-j7j5rs.mtgr.92aj.0e35.2a01.IP)
[22:02:21] *** Joins: Lexun (luke@moz-0fnmdq.or.charter.com)
[22:09:53] *** Quits: Guest74 (textual@moz-il1.n6s.204.65.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[22:15:49] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Client exited)
[22:22:15] *** Quits: SneakySnake (nya@moz-i9is4u.pool.telekom.hu) (Connection closed)
[22:22:47] *** Quits: hhhhhhhhhh (mike@moz-969kuj.cable.virginm.net) (Quit: WeeChat 1.1.1)
[22:25:43] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[22:27:04] *** kimundi is now known as zz_kimundi
[22:27:25] *** Joins: OmniMancer (omnimancer@moz-bm0.b7c.149.118.IP)
[22:29:38] *** Quits: fmtq (fmtq@moz-d08itp.tpgi.com.au) (Ping timeout: 121 seconds)
[22:30:15] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[22:30:41] *** Quits: James (quassel@moz-225vcm.range86-148.btcentralplus.com) (Ping timeout: 121 seconds)
[22:32:56] *** Joins: fmtq (fmtq@moz-d08itp.tpgi.com.au)
[22:37:51] *** Quits: jaen (jaen@moz-ifmik2.copit.pl) (Connection closed)
[22:38:02] *** Quits: kmcguire (kmcguire@moz-7em.2c1.78.97.IP) (Ping timeout: 121 seconds)
[22:39:38] *** Quits: bjz (bjz@moz-puppgq.tpgi.com.au) (Quit: My Mac has gone to sleep. ZZZzzz…)
[22:40:52] *** Quits: gretchen (Mibbit@moz-57cdj6.cpe.webspeed.dk) (Quit: http://www.mibbit.com ajax IRC Client)
[22:49:46] *** Quits: erz (erz@moz-efrhus.broadband.corbina.ru) (Quit: My Mac has gone to sleep. ZZZzzz…)
[22:51:04] *** Quits: OmniMancer (omnimancer@moz-bm0.b7c.149.118.IP) (Connection closed)
[22:52:29] *** Quits: lenstr_ (lenstr@moz-ca8.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[23:03:54] *** Quits: kvark (Mibbit@moz-p3c.rcb.221.216.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[23:05:38] *** Joins: kalail (uid62296@moz-5ck9vu.charlton.irccloud.com)
[23:07:20] *** Quits: fkaa (tundmatu@moz-501od2.business.telia.com) (Ping timeout: 121 seconds)
[23:10:49] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[23:11:16] *** Quits: Lexun (luke@moz-0fnmdq.or.charter.com) (Ping timeout: 121 seconds)
[23:11:21] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[23:12:06] *** Quits: Rusky (russell@moz-4ggjij.slkc.qwest.net) (Ping timeout: 121 seconds)
[23:14:59] *** Joins: aatch (james@moz-ciignl.bmm3.j08e.e000.2406.IP)
[23:15:18] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[23:15:37] *** Joins: Lexun (luke@moz-0fnmdq.or.charter.com)
[23:17:28] *** Quits: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu) (Quit: Leaving)
[23:17:44] *** Quits: Lexun (luke@moz-0fnmdq.or.charter.com) (Quit: Konversation terminated!)
[23:19:42] *** Quits: davebettin (davebettin@moz-hde.5e5.136.67.IP) (Ping timeout: 121 seconds)
[23:19:54] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[23:20:50] *** Joins: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu)
[23:24:24] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[23:29:07] *** Quits: bfops (uid58242@moz-e5u6m0.charlton.irccloud.com) (Quit: Connection closed for inactivity)
[23:31:40] *** Joins: raisin (Mibbit@moz-r8mp5s.jcvlfl.sbcglobal.net)
[23:31:49] <raisin> Hello
[23:32:03] *** Quits: raisin (Mibbit@moz-r8mp5s.jcvlfl.sbcglobal.net) (Quit: http://www.mibbit.com ajax IRC Client)
[23:36:17] *** Quits: brson (brson@moz-qjbkeh.mtv2.mozilla.com) (Quit: leaving)
[23:41:44] *** Quits: eddyb (Mibbit@moz-3lt.hlc.26.188.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[23:48:02] *** Joins: chris4 (chris@moz-ci61eb.nj.comcast.net)
[23:49:29] *** Quits: chris3 (chris@moz-ci61eb.nj.comcast.net) (Ping timeout: 121 seconds)
[23:49:54] *** Joins: chris (chris@moz-ci61eb.nj.comcast.net)
[23:52:06] *** Quits: chris4 (chris@moz-ci61eb.nj.comcast.net) (Ping timeout: 121 seconds)
[23:52:56] *** Joins: lenstr (lenstr@moz-ca8.vju.25.171.IP)
[23:55:18] *** Quits: lenstr (lenstr@moz-ca8.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[23:57:09] *** Quits: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
