[00:00:12] *** Quits: brson (brson@moz-cfhap5.mtv2.mozilla.com) (Quit: leaving)
[00:00:38] *** Joins: brson (brson@moz-fm2.eev.48.37.IP)
[00:00:38] *** ChanServ sets mode: +qo brson brson
[00:31:28] *** Quits: brson (brson@moz-fm2.eev.48.37.IP) (Quit: leaving)
[00:40:08] *** Quits: nrc (nrc@moz-4bhi2i.xtra.co.nz) (Ping timeout: 121 seconds)
[01:05:07] *** Quits: Rym (y@moz-cfe.mso.205.31.IP) (Ping timeout: 121 seconds)
[01:15:22] *** Joins: Rym (y@moz-cfe.mso.205.31.IP)
[01:46:27] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[01:46:52] *** Joins: reem (reem@moz-3s1lie.coob.q2h1.0009.2601.IP)
[02:09:11] *** Quits: Rym (y@moz-cfe.mso.205.31.IP) (Ping timeout: 121 seconds)
[02:09:20] *** Joins: bombless (bombless@moz-uag.piv.41.59.IP)
[02:37:36] *** Joins: Rym (y@moz-cfe.mso.205.31.IP)
[02:45:48] *** Joins: nrc (nrc@moz-4bhi2i.xtra.co.nz)
[02:45:48] *** ChanServ sets mode: +qo nrc nrc
[03:03:29] *** Quits: bombless (bombless@moz-uag.piv.41.59.IP) (Quit: Leaving)
[03:19:42] *** Joins: bombless (bombless@moz-bslt8g.0v2u.0v40.0da8.2001.IP)
[03:29:51] *** Quits: kimundi (kimundi@moz-d6fa5i.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[03:31:07] *** Joins: kimundi (kimundi@moz-l9a7he.dip0.t-ipconnect.de)
[03:33:14] *** Quits: bombless (bombless@moz-bslt8g.0v2u.0v40.0da8.2001.IP) (Quit: Leaving)
[03:35:06] *** nrc is now known as nrc|afk
[03:35:20] *** kimundi is now known as zz_kimundi
[03:42:07] *** zz_kimundi is now known as kimundi
[03:42:17] *** Quits: Rym (y@moz-cfe.mso.205.31.IP) (Ping timeout: 121 seconds)
[04:13:32] *** Joins: bombless (bombless@moz-bslt8g.0v2u.0v40.0da8.2001.IP)
[04:34:46] *** Joins: eddyb_ (eddyb@moz-6k1.q07.26.188.IP)
[04:35:29] *** Quits: eddyb (eddyb@moz-6k1.q07.26.188.IP) (Quit: Bye)
[05:00:01] *** Joins: laumann (thomas@moz-n9e72h.0.fullrate.dk)
[05:10:30] *** Joins: Rym (y@moz-cfe.mso.205.31.IP)
[05:14:38] *** Quits: Rym (y@moz-cfe.mso.205.31.IP) (Ping timeout: 121 seconds)
[05:26:15] *** nrc|afk is now known as nrc
[05:26:33] *** Quits: reem (reem@moz-3s1lie.coob.q2h1.0009.2601.IP) (Connection closed)
[05:26:50] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[05:46:05] *** Quits: laumann (thomas@moz-n9e72h.0.fullrate.dk) (Quit: leaving)
[05:48:07] *** Joins: laumann (thomas@moz-n9e72h.0.fullrate.dk)
[06:11:08] *** Joins: Rym (y@moz-cfe.mso.205.31.IP)
[06:15:24] *** Quits: Rym (y@moz-cfe.mso.205.31.IP) (Ping timeout: 121 seconds)
[06:23:10] *** Quits: rprichard (rprichard@moz-s27r3p.en8f.d045.0009.2601.IP) (Ping timeout: 121 seconds)
[06:23:22] *** Joins: rprichard (rprichard@moz-ekp75j.en8f.d045.0009.2601.IP)
[06:27:01] *** Joins: quantheory (quantheory@moz-m50t2f.44nj.jtvf.0001.2601.IP)
[06:27:22] *** Quits: bombless (bombless@moz-bslt8g.0v2u.0v40.0da8.2001.IP) (Quit: Leaving)
[06:38:19] *** Quits: nrc (nrc@moz-4bhi2i.xtra.co.nz) (Connection closed)
[06:39:14] *** Joins: nrc (nrc@moz-4bhi2i.xtra.co.nz)
[06:39:14] *** ChanServ sets mode: +qo nrc nrc
[07:11:54] *** Joins: Rym (y@moz-cfe.mso.205.31.IP)
[07:16:10] *** Quits: Rym (y@moz-cfe.mso.205.31.IP) (Ping timeout: 121 seconds)
[08:02:12] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[08:12:41] *** Joins: Rym (y@moz-cfe.mso.205.31.IP)
[08:16:57] *** Quits: Rym (y@moz-cfe.mso.205.31.IP) (Ping timeout: 121 seconds)
[08:41:05] *** Quits: eddyb_ (eddyb@moz-6k1.q07.26.188.IP) (Ping timeout: 121 seconds)
[08:42:22] *** Quits: laumann (thomas@moz-n9e72h.0.fullrate.dk) (Quit: leaving)
[08:56:54] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[08:57:23] *** Joins: reem (reem@moz-3s1lie.coob.q2h1.0009.2601.IP)
[08:57:48] *** Quits: nrc (nrc@moz-4bhi2i.xtra.co.nz) (Ping timeout: 121 seconds)
[09:13:27] *** Joins: Rym (y@moz-cfe.mso.205.31.IP)
[09:14:49] *** Joins: nrc (nrc@moz-4bhi2i.xtra.co.nz)
[09:14:49] *** ChanServ sets mode: +qo nrc nrc
[09:17:43] *** Quits: Rym (y@moz-cfe.mso.205.31.IP) (Ping timeout: 121 seconds)
[09:39:11] *** Quits: nrc (nrc@moz-4bhi2i.xtra.co.nz) (Ping timeout: 121 seconds)
[10:07:00] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Client exited)
[10:14:15] *** Joins: Rym (y@moz-cfe.mso.205.31.IP)
[10:18:29] *** Quits: Rym (y@moz-cfe.mso.205.31.IP) (Ping timeout: 121 seconds)
[10:26:45] *** Quits: quantheory (quantheory@moz-m50t2f.44nj.jtvf.0001.2601.IP) (Quit: Leaving)
[11:08:52] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[11:14:59] *** Joins: Rym (y@moz-cfe.mso.205.31.IP)
[11:19:13] *** Quits: Rym (y@moz-cfe.mso.205.31.IP) (Ping timeout: 121 seconds)
[11:37:15] *** Quits: reem (reem@moz-3s1lie.coob.q2h1.0009.2601.IP) (Connection closed)
[11:37:30] *** Joins: reem_ (reem@moz-2icmmi.ca.comcast.net)
[12:15:45] *** Joins: Rym (y@moz-cfe.mso.205.31.IP)
[12:19:59] *** Quits: Rym (y@moz-cfe.mso.205.31.IP) (Ping timeout: 121 seconds)
[13:00:25] *** Quits: reem_ (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[13:00:47] *** Joins: reem (reem@moz-3s1lie.coob.q2h1.0009.2601.IP)
[14:02:07] *** Joins: eddyb_ (eddyb@moz-6k1.q07.26.188.IP)
[14:02:37] *** Joins: reem_ (reem@moz-3s1lie.coob.q2h1.0009.2601.IP)
[14:02:43] *** Quits: reem (reem@moz-3s1lie.coob.q2h1.0009.2601.IP) (Connection closed)
[14:46:03] <eddyb_> nmatsakis: ping (I wonder if I can enforce a deep selection of Struct<T>: Unsize<Struct<U>> and detect an undecidable T: Unsize<U> obligation)
[15:13:57] *** Quits: reem_ (reem@moz-3s1lie.coob.q2h1.0009.2601.IP) (Connection closed)
[15:14:19] *** Joins: reem (reem@moz-3s1lie.coob.q2h1.0009.2601.IP)
[15:31:26] *** Joins: eddyb__ (eddyb@moz-dhp.t65.25.188.IP)
[15:32:29] *** eddyb__ is now known as eddyb
[15:34:17] *** Quits: eddyb_ (eddyb@moz-6k1.q07.26.188.IP) (Ping timeout: 121 seconds)
[15:55:26] *** Joins: bombless (bombless@moz-e1624i.0v2u.0v40.0da8.2001.IP)
[16:53:06] *** Quits: reem (reem@moz-3s1lie.coob.q2h1.0009.2601.IP) (Connection closed)
[16:53:30] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[16:54:35] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[16:55:39] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[16:56:46] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[16:57:07] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[16:58:06] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[16:58:27] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[17:03:21] *** Joins: sigma (sigma@moz-ohog4c.range86-135.btcentralplus.com)
[17:09:19] *** Joins: laumann (thomas@moz-n9e72h.0.fullrate.dk)
[17:46:23] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[17:46:28] *** Joins: reem_ (reem@moz-2icmmi.ca.comcast.net)
[17:49:24] *** Quits: reem_ (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[17:57:46] *** Joins: Rym (y@moz-vsu.f6d.55.31.IP)
[17:58:33] *** Quits: bombless (bombless@moz-e1624i.0v2u.0v40.0da8.2001.IP) (Quit: Leaving)
[18:23:27] *** Quits: Rym (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[18:30:52] *** Joins: Rym (y@moz-vsu.f6d.55.31.IP)
[18:32:01] <eddyb> doener: wait, does that work with manual Fn implementations?
[18:35:07] *** Quits: Rym (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[18:35:47] <doener> eddyb: liek this? https://gist.github.com/dotdash/37d9d8d24ff323f74904 
[18:36:09] <doener> eddyb: that works
[18:36:35] <eddyb> doener: I was hoping there was a reason for that function to exist....
[18:36:54] <eddyb> doener: good job, either way :D
[18:37:03] <doener> thanks :-)
[18:52:38] *** Joins: brson (brson@moz-kq1.7vl.56.172.IP)
[18:52:38] *** ChanServ sets mode: +qo brson brson
[19:25:02] *** Joins: Rym (y@moz-vsu.f6d.55.31.IP)
[19:25:07] *** Joins: nrc (nrc@moz-4bhi2i.xtra.co.nz)
[19:25:08] *** ChanServ sets mode: +qo nrc nrc
[19:29:17] *** Quits: Rym (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[20:05:44] *** Joins: arielb1 (Ariel@moz-33pn30.red.bezeqint.net)
[20:06:09] <arielb1> How do you get all non-self input types of a TraitRef?
[20:11:27] *** Quits: sigma (sigma@moz-ohog4c.range86-135.btcentralplus.com) (Ping timeout: 121 seconds)
[20:11:39] <nrc> nmatsakis: (in case you pass by a computer today) I need advice on run-pass/method-two-traits-distinguished-via-where-clause.rs (I assume it is yours) - I'm breaking this by doing inference around casts differently, not sure how to recreate the test
[20:19:10] *** Joins: Rym (y@moz-vsu.f6d.55.31.IP)
[20:23:26] *** Quits: Rym (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[20:26:09] *** Joins: Rym (y@moz-vsu.f6d.55.31.IP)
[20:30:25] *** Quits: Rym (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[20:34:16] *** Quits: brson (brson@moz-kq1.7vl.56.172.IP) (Ping timeout: 121 seconds)
[20:38:14] *** Joins: Rym (y@moz-vsu.f6d.55.31.IP)
[20:48:14] <arielb1> how can you check whether 2 types are equal?
[20:56:00] <nrc> arielb1: in the compiler?
[20:56:06] <arielb1> nrc: sure
[20:56:31] <nrc> ==
[20:56:40] <nrc> but type inference
[20:56:47] <nrc> means that it is not so simple
[20:56:59] <nrc> and comes down to what you mean by equal
[20:57:14] <nrc> ty::Ty or ast::Ty?
[20:57:20] <arielb1> ty::Ty
[20:57:36] <arielb1> I found that selection sometimes guesses impls
[20:57:47] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[20:58:01] <arielb1> I mean, http://is.gd/8yDkoC
[20:58:09] <arielb1> I guess I should open an issue :-)
[20:58:46] <arielb1> I mean, I know why this happens
[20:59:05] <arielb1> I think the guessing in foo0 is fine
[21:01:16] <nrc> That looks like it might be a coherance bug
[21:01:24] <nrc> the two impls should clash
[21:01:38] <arielb1> nrc: why should they?
[21:01:42] <nrc> except they shouldn't...
[21:01:50] <arielb1> I *know* why this happens
[21:02:19] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[21:03:07] <nrc> I guess maybe I'm surprised there isn't an error on line 10 - I'd ahve thought there should be "not enough type info" error
[21:03:37] <nrc> because the compiler can't know if it `value()` should return `()` or `bool`
[21:04:12] <arielb1> nrc: at line 10 it couldn't be bool
[21:04:32] <arielb1> I mean, the compiler can't choose the bool impl
[21:05:01] <arielb1> it must choose an impl that applies to T
[21:05:13] <arielb1> T is a type parameter, not a type variable
[21:05:40] <nrc> I guess trait selection happens before monomorphisation
[21:06:37] <nrc> and when you call foo0, you just acquire an obligation to show that bool: Foo<T>
[21:06:40] <arielb1> nrc: it's more like "type inference happens before monomorphisation"
[21:08:23] <arielb1> I mean, we have a <T as Foo<_>>::value(&t)
[21:08:31] <arielb1> _ must be a type formula
[21:08:35] <arielb1> in T
[21:09:05] <arielb1> that is valid by the impls
[21:09:40] <arielb1> It can't be "if T = bool { bool } else { () }"
[21:09:45] <nrc> so the interesting bit is the bool: Foo<_> obligation check - should the bool and () impls be a duplicate?
[21:09:53] <arielb1> nrc: multidispatch
[21:11:42] <arielb1> The issue is that Rust applies where-clauses/projections when it can
[21:13:04] <arielb1> The reason is that when we already know the type
[21:13:11] <arielb1> we can have both where-clauses and impls that apply
[21:13:33] *** Joins: reem (reem@moz-eios6j.coob.q2h1.0009.2601.IP)
[21:15:39] *** Quits: reem (reem@moz-eios6j.coob.q2h1.0009.2601.IP) (Connection closed)
[21:15:52] *** Joins: reem (reem@moz-eios6j.coob.q2h1.0009.2601.IP)
[21:16:53] <arielb1> I guess someone (cc nmatsakis) should replace that logic by taking a where clause/projection if they perfectly match
[21:17:56] <arielb1> and not trying to randomly prune things in case of ambiguity
[21:17:59] *** Joins: reem_ (reem@moz-ojhkuk.coob.q2h1.0009.2601.IP)
[21:20:54] *** Quits: reem (reem@moz-eios6j.coob.q2h1.0009.2601.IP) (Ping timeout: 121 seconds)
[21:44:48] *** Quits: laumann (thomas@moz-n9e72h.0.fullrate.dk) (Quit: leaving)
[21:46:46] *** Quits: reem_ (reem@moz-ojhkuk.coob.q2h1.0009.2601.IP) (Connection closed)
[21:53:08] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[21:59:34] <doener> heh, eq for TyS is not #[inline] so we get a call for a simple pointer comparison... I wonder if there's a way to have a lint for such cases
[22:11:14] <nrc> doesn't llvm inline that anyway?
[22:12:39] <doener> nrc: it's used cross-crate, so without LTO, no
[22:13:09] <doener> nrc: I probably doesn't matter much, I just stumbled upon it
[22:13:25] <nrc> ah, the old cross-crate
[22:14:00] <nrc> we could reasonably have rustc add inline hints itself rather than linting
[22:14:44] <cmr> nrc: that destroys the ability to reason about ABI, but I would very much like a #![cascade(fn, inline)] :)
[22:15:02] * nrc shrugs
[22:15:07] <cmr> (where #[cascade(kind, meta)] means "apply attribute #[meta] to every item which is a "kind")
[22:15:14] <nrc> if you want to reason about ABI you shouldn't be building optimsied
[22:15:41] <cmr> to maintain a stable public ABI you shouldn't be building with optimizations?
[22:16:30] <nrc> stable to the point of not changing what optimisations are performed, yes
[22:23:15] *** nrc is now known as nrc|afk
[22:25:56] *** Quits: Rym (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[22:38:49] *** Quits: arielb1 (Ariel@moz-33pn30.red.bezeqint.net) (Quit: Ex-Chat)
[22:59:42] *** Joins: Rym (y@moz-vsu.f6d.55.31.IP)
[23:03:56] *** Quits: Rym (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[23:12:16] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[23:53:55] *** Joins: Rym (y@moz-vsu.f6d.55.31.IP)
[23:59:53] *** Quits: Rym (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
