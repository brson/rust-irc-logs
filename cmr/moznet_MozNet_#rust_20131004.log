[00:01:43] *** Quits: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net) (Quit: Leaving.)
[00:03:55] *** Quits: tikue_ (tikue_star@63FEC8FF.CD72397.689607DE.IP) (Quit: Leaving)
[00:04:04] *** Joins: tikue_ (tikue_star@63FEC8FF.CD72397.689607DE.IP)
[00:04:08] *** Quits: stevekla1nik (steveklabn@moz-5EF6C37C.socal.res.rr.com) (Ping timeout)
[00:04:17] *** Quits: steveklabnik (steveklabn@moz-5EF6C37C.socal.res.rr.com) (Ping timeout)
[00:04:40] *** Quits: tikue_ (tikue_star@63FEC8FF.CD72397.689607DE.IP) (Client exited)
[00:04:54] *** Joins: tikue_ (tikue_star@63FEC8FF.CD72397.689607DE.IP)
[00:05:42] *** Quits: BitPuffin (isak@moz-49828767.cust.tele2.se) (Ping timeout)
[00:06:55] *** Quits: tikue_ (tikue_star@63FEC8FF.CD72397.689607DE.IP) (Quit: Leaving)
[00:07:04] *** Joins: tikue_ (tikue_star@63FEC8FF.CD72397.689607DE.IP)
[00:08:30] <jmgrosen> there's nothing like python's `struct` module, is there?
[00:08:51] <jason_> i dont think there needs to be
[00:09:11] <jmgrosen> what, transmute?
[00:09:26] <pcwalton> does anyone have a SmallVector type in Rust?
[00:09:33] <jason_> ya isn't the struct layout the same as C?
[00:10:44] <jmgrosen> also, another question: is there any way to select on both a Port and a TcpStream?
[00:10:47] <jason_> and i seem to remember reading you can pack structs, so i think that covers the use cases
[00:11:22] *** Joins: simon (simon@moz-CBE4BB13.cable.teksavvy.com)
[00:11:44] *** Joins: lfox (larryfox@moz-B8648F0F.nycmny.fios.verizon.net)
[00:11:48] *** Quits: vodik (simon@moz-CBE4BB13.cable.teksavvy.com) (Ping timeout)
[00:13:22] *** Quits: jdm (jdm@37A83DB4.49EECAFD.30BE9F17.IP) (Quit: Lost terminal)
[00:13:47] <engla> well something like `struct` would allow specifying endianness of each field etc
[00:14:06] <sfackler> jmgrosen: there's some work on that in std::select, but iirc it's not done
[00:14:13] <jason_> oh i forgot about that part of the struct module
[00:14:22] *** Quits: kmc (keegan@moz-D2A53639.compute-1.amazonaws.com) (Ping timeout)
[00:14:26] <jason_> i think Serializer does that though?
[00:14:50] <jmgrosen> sfackler: and I don't think TcpStream implements Select :/
[00:16:07] <sfackler> probably not :(
[00:16:21] <sfackler> bblum was the one working on it, I think
[00:16:52] <bblum> yeah i know about select
[00:17:26] <bblum> the heterogeneous version is not usable yet because there is an &Trait bug that makes the compiler reject the code that implements it :P
[00:17:57] <jmgrosen> yeah, and it looks like it wouldn't work for my use case anyway
[00:18:08] <jmgrosen> since I only have a &mut TcpStream, I don't own it
[00:18:26] <jmgrosen> (I'm trying to do WebSockets on top of rust-http)
[00:20:01] <jmgrosen> ideally I could just spawn a new task to handle the TcpStream and used a SharedPort, but I can't capture the &mut in a closure
[00:20:43] <acrichto> jmgrosen: would a Cell work?
[00:21:25] <jmgrosen> acrichto: I don't think so, because theoretically the task could keep going after the function ended, but I'll try
[00:21:40] <acrichto> oh good point
[00:21:47] <jmgrosen> (I mean, the task shouldn't, but the borrow checker can't know that)
[00:22:04] <acrichto> task::try takes &fn instead of ~fn I think
[00:22:16] <acrichto> oh nope, nvmd
[00:22:23] <acrichto> I am full of lies
[00:22:43] <jmgrosen> you horrible person, getting my hopes up :P
[00:23:55] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[00:24:23] *** Quits: donri (donri@moz-9BB61102.tbcn.telia.com) (Client exited)
[00:25:14] *** Quits: pcwalton (pcwalton@79611EE9.A51CB73B.6FBF6D51.IP) (Quit: pcwalton)
[00:26:59] *** Joins: fyolnish (fyolnish@moz-D3BB2B0E.uqwimax.jp)
[00:28:46] *** Quits: fyolnish (fyolnish@moz-D3BB2B0E.uqwimax.jp) (Ping timeout)
[00:30:30] *** Quits: simon (simon@moz-CBE4BB13.cable.teksavvy.com) (Ping timeout)
[00:30:30] *** Quits: flowsnake (flowsnake@moz-1918C33E.aztw.cable.virginmedia.com) (Ping timeout)
[00:33:24] *** Quits: lkuper (lkuper@moz-D862222C.dhcp-bl.indiana.edu) (Ping timeout)
[00:37:29] *** Quits: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Input/output error)
[00:37:49] *** Quits: GeneralMaximus (ankur@8286DDB8.601E482C.BE90E62C.IP) (Ping timeout)
[00:38:16] *** Joins: GeneralMaximus (ankur@8286DDB8.601E482C.BE90E62C.IP)
[00:41:55] *** Joins: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net)
[00:42:35] *** Quits: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[00:48:42] *** Joins: simon (simon@moz-CBE4BB13.cable.teksavvy.com)
[00:50:00] *** Joins: shibutani (renato@B2350E25.10198108.C55BF118.IP)
[00:53:02] <shibutani> join #rust-gamedev
[00:54:42] *** Quits: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP) (Ping timeout)
[00:56:41] *** Joins: kmc (keegan@moz-2C6EE959.compute-1.amazonaws.com)
[00:56:41] *** ChanServ sets mode: +o kmc
[00:57:20] *** Joins: fyolnish (fyolnish@moz-7C94B192.uqwimax.jp)
[00:58:11] *** Quits: shibutani (renato@B2350E25.10198108.C55BF118.IP) (Quit: TinyIRC 1.1)
[00:59:02] *** Quits: fyolnish (fyolnish@moz-7C94B192.uqwimax.jp) (Ping timeout)
[01:03:02] *** Parts: judder (maradukewa@1BB87CE.111872A8.950D3BB5.IP) ()
[01:04:25] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Input/output error)
[01:04:54] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[01:06:37] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Ping timeout)
[01:06:53] *** Quits: hjr3 (hradtke@1A0AE795.28A5F6C3.A2D40ED2.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[01:08:18] <cmr> Who wrote the Rust hightlighter for ACE, and where is it hosted?
[01:10:20] *** Quits: pepper_chico (pepper_chi@moz-9A2FC724.dsl.telesp.net.br) (Ping timeout)
[01:11:22] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[01:13:10] *** Quits: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[01:13:38] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Ping timeout)
[01:15:00] *** Quits: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP) (Quit: Leaving)
[01:19:18] *** Quits: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca) (Client exited)
[01:19:49] *** Joins: Yurume (yurume@AC58A8CE.8A059B47.E313B915.IP)
[01:20:15] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Client exited)
[01:21:08] *** Joins: Yurume_ (yurume@AC58A8CE.8A059B47.E313B915.IP)
[01:21:33] *** Quits: Yurume (yurume@AC58A8CE.8A059B47.E313B915.IP) (Ping timeout)
[01:21:44] *** Joins: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net)
[01:22:33] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Input/output error)
[01:23:01] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[01:23:09] *** Joins: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca)
[01:24:13] *** Quits: raze (raze@moz-4E6675AF.bredband.comhem.se) (Ping timeout)
[01:24:26] *** Joins: jonathan_ (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[01:24:33] *** Quits: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Connection reset by peer)
[01:24:57] *** Joins: Ralith (ralith@moz-132F2FD4.sea.wa.customer.broadstripe.net)
[01:30:14] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[01:30:14] *** ChanServ sets mode: +ao dherman dherman
[01:30:52] *** Quits: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca) (Quit: ChatZilla 0.9.90.1 [Firefox 25.0/20131001024718])
[01:32:06] *** Quits: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net) (Ping timeout)
[01:34:11] *** Joins: ryeguy (ryeguy@9C569A0.5D1143CD.E8644521.IP)
[01:35:22] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[01:35:35] *** Joins: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net)
[01:35:57] <ryeguy> When assigning the result of a "match" to a variable, i have "_ => fail!()" as the final case. The compiler says "not all control paths return a value". Is there a way to make this work?
[01:36:57] *** Quits: reillyeon (reillyeon@F297A36F.19D0DF3E.9D2C3D3E.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[01:37:10] <sp3d> that should work, as fail! returns a value (bottom) which works as any type; double-check your other cases and/or paste code?
[01:37:34] <ryeguy>     let (x1, y1, x2, y2) = match (*self, point) {
[01:37:34] <ryeguy>       (PixelPoint(x1, y1), PixelPoint(x2, y2))  => (x1, y1, x2, y2),
[01:37:34] <ryeguy>       (GridPoint(x1, y1), GridPoint(x2, y2))    => (x1, y1, x2, y2),
[01:37:34] <ryeguy>       _                                         => fail!("mixed point types")
[01:37:34] <ryeguy>     };
[01:37:49] *** Joins: Guest__ (textual@moz-E64A54F3.nyc.res.rr.com)
[01:38:58] <sp3d> hm
[01:39:16] <ryeguy> i can give runnable code if needed
[01:39:22] <ryeguy> ill see if i can reduce this down
[01:39:47] <sp3d> yeah, I'm poking at it
[01:41:03] *** Quits: jgilbert (jgilbert@moz-4C088FCE.hsd1.ca.comcast.net) (Ping timeout)
[01:42:01] <sp3d> not sure... similar code works here (replacing (*self, point) and the LHS points with simple integers)
[01:44:03] *** Quits: carllerche (carllerche@6B070D22.7E6A0813.1428D117.IP) (Quit: carllerche)
[01:44:49] <ryeguy> wait a minute..
[01:44:53] <ryeguy> i just solved it..but..
[01:45:18] <ryeguy> the problem was i had a statement on the end of the function (dropped semicolon and it worked)
[01:45:30] <ryeguy> but it printed out those lines of code that i pasted above
[01:45:47] <ryeguy> does rust try to print out a truncated version of the function for that error message? its pretty confusing if so
[01:45:53] <ryeguy> since that is a valid error for that block of code as well
[01:46:46] <ryeguy> see what i mean? http://pastebin.com/a4Cz4TeZ (code then error)
[01:47:49] *** Quits: simon (simon@moz-CBE4BB13.cable.teksavvy.com) (Ping timeout)
[01:48:06] <sp3d> presumably rustc just reports the wrong span as the source of that error
[01:48:20] <ryeguy> i guess thats what it does, since it printed the function declaration too. It just so happened my match was up top.
[01:48:47] <ryeguy> thanks for taking a look at it
[01:49:22] <sp3d> https://github.com/mozilla/rust/issues/8005 looks somewhat related
[01:49:44] <ryeguy> yep
[01:50:40] *** Joins: pepper_chico (pepper_chi@moz-9A2FC724.dsl.telesp.net.br)
[01:51:29] <sp3d> ah, but also, you're right it only 'summarizes' (truncates) the function
[01:52:04] <myname> bad luck that your match was on top of the function
[01:52:07] <ryeguy> yeah, i just got unlucky with the placement of my match :D
[01:52:14] <ryeguy> i should have noticed the '...' at the end
[01:53:40] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[01:55:16] *** Joins: sw17ch (sw17ch@moz-675AFBCF.hsd1.mi.comcast.net)
[01:56:54] *** Joins: robertknight (robertknig@moz-54528EE0.wby.mendeley.com)
[01:57:50] *** Joins: fyolnish (fyolnish@moz-B2E07F78.uqwimax.jp)
[01:58:09] *** Joins: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[01:58:39] *** Quits: robertknight (robertknig@moz-54528EE0.wby.mendeley.com) (Ping timeout)
[01:59:19] <aatch> ryeguy, it varies. if the span is a block then it does stuff for the block.
[01:59:28] *** Joins: six600110 (six600110@moz-3C5CCD60.neo.res.rr.com)
[01:59:38] *** Quits: fyolnish (fyolnish@moz-B2E07F78.uqwimax.jp) (Ping timeout)
[01:59:54] <aatch> in this case, the block is the entire function body (that error message is function-level)
[02:00:45] <ryeguy> the behavior makes sense, it was just an unfortunate coincidence that the snippet it chose was the other block in its entirety
[02:00:47] <SiegeLord> So... are nested comments something coming to Rust for sure?
[02:01:20] *** Joins: simon (simon@moz-CBE4BB13.cable.teksavvy.com)
[02:01:40] *** Joins: nrc (nrc@3496663E.C1499D0.396E4C6D.IP)
[02:02:32] *** Quits: tiffany (kawaii@moz-28A8742A.dhcp.embarqhsd.net) (Input/output error)
[02:02:55] <jmgrosen> what does this mean? error: mismatched types: expected `~server::response::ResponseWriter<>` but found `~server::response::ResponseWriter<>` (lifetime mismatch)
[02:03:48] <aatch> jmgrosen, well it's a lifetime mismatch. Whats the surrounding code?
[02:04:27] <jmgrosen> aatch: nvm, I just didn't know the lifetime syntax for owned pointers; figured it out now
[02:06:22] <kmc> owned pointers have lifetimes?
[02:08:50] *** Parts: sanxiyn (tinuviel@AE8B10D7.A92E374.57C4C441.IP) (Bye)
[02:09:20] <myname> :D
[02:09:32] <myname> the more you know
[02:10:44] *** Quits: mitsuhiko (mitsuhiko-@moz-BC29B73E.srv.pocoo.org) (Ping timeout)
[02:10:53] *** Quits: riley (riley@8BA43816.9AA11D69.65DDFA89.IP) (Client exited)
[02:11:24] *** Joins: carllerche (carllerche@6B070D22.7E6A0813.1428D117.IP)
[02:11:31] <sw17ch> Have I misrepresented anything here? https://twitter.com/cateches/status/385600101072121856
[02:13:06] <tikue_> sw17ch, nope
[02:13:17] <tikue_> sw17ch, he's trying to shoehorn rust into a programming model it isn't meant for
[02:13:22] <tikue_> *shrug*
[02:13:46] <sw17ch> tikue_: that's my impression. twitter, unfortunately, isn't a great medium for discussing that sort of thing.
[02:13:58] <tikue_> haha yeah, it takes more than 140 chars to explain rust ;)
[02:14:41] *** Quits: nrc (nrc@3496663E.C1499D0.396E4C6D.IP) (Ping timeout)
[02:15:05] <myname> sounds like he want 4 threads to access the exact same struct
[02:15:12] <myname> which sounds kinda ugly to me
[02:15:33] <sw17ch> myname: it makes sense in a SIMD setup. i'm writing something similar right now actually -- forest fire simulation.
[02:15:43] <sw17ch> double-buffered forest with many readers
[02:16:09] <sw17ch> not hardware simd
[02:16:14] <sw17ch> just simd-like-concepts
[02:18:33] <myname> good to know arcs, i'm wondering a bit why this can't be syntax-sugared into sendable @
[02:18:57] <jason_> aatch: all the tests in check-stage2 pass with that lock-free queue as the scheduler message queue!
[02:19:07] <aatch> jason_, nice work!
[02:19:18] <ryeguy> is it known if @ will continue to be reference counted?
[02:19:37] <myname> why shouldn't it?
[02:19:43] <aatch> I'm guessing the previous was a simple lock
[02:19:55] <kmc> ryeguy: no, we intend to have a good GC eventually
[02:19:59] <aatch> ryeguy, myname, it is supposed to be moving to a tracing GV
[02:20:01] <aatch> GC*
[02:20:05] <kmc> ryeguy: there's Rc<T> and Arc<T> in the std lib if you want to guarantee refcounting
[02:20:30] <ryeguy> how will it work? i know ref counting sucks performance wise but its determinism is nice
[02:20:42] <kmc> sometimes it performs much better than GC
[02:20:46] <myname> hat magic happens there making it possible to send arcs but not @s?
[02:20:47] <kmc> you don't have to spend time tracing objects
[02:20:50] *** Joins: raze (raze@moz-4E6675AF.bredband.comhem.se)
[02:20:52] <ryeguy> for sure
[02:21:01] <jason_> aatch: yeah calls into rust_lock_little_lock which i guess is pthread locks or maybe a spin lock, haven't looked
[02:21:02] *** Quits: lfox (larryfox@moz-B8648F0F.nycmny.fios.verizon.net) (Quit: )
[02:21:05] <kmc> myname: the implementation of both types use 'unsafe'; Arc uses atomic instructions and so declares itself to be sendable
[02:21:11] *** Joins: lfox (larryfox@moz-B8648F0F.nycmny.fios.verizon.net)
[02:21:15] *** jorendorff_away is now known as jorendorff
[02:21:17] <kmc> there's probably more to it, especially when mutation comes in (RcMut / RWArc)
[02:21:23] <aatch> however, ref-counting sucks balls form small objects
[02:21:41] <aatch> jason_, pthread
[02:21:46] <kmc> also you can use them to refcount non-memory resources, like OpenGL textures or whatever
[02:21:48] <aatch> (I have looked)
[02:21:49] <kmc> so that's nice
[02:22:25] <kmc> that's one of the benefits of RAII over 'with'-style functions; you can store them in containers other than the stack to get other resource management schemes
[02:22:32] <aatch> Rc also moves by default, so it's more efficient in the common case
[02:22:38] <kmc> yep
[02:22:44] *** jorendorff is now known as jorendorff_away
[02:23:32] <aatch> `@` currently does a refcount bumb any time it's copied
[02:23:43] <aatch> bump*
[02:23:44] *** Quits: lfox (larryfox@moz-B8648F0F.nycmny.fios.verizon.net) (Quit: )
[02:24:34] <klutzy> rusti: struct Node<'self> { val: int, parent: Option<&'self Node<'self>>, } let a = Node { val: 1, parent: None }; let b = Node { val: 1, parent: Some(&a) }; (a, b)
[02:24:35] -rusti- pastebinned 16 lines of output: http://sprunge.us/ZRCe
[02:24:51] <klutzy> gash.
[02:25:02] <aatch> klutzy, won't work
[02:25:26] *** Quits: nejucomo (Adium@moz-B62B9944.public.monkeybrains.net) (Ping timeout)
[02:25:50] <klutzy> ah, returning does not work.
[02:25:52] <aatch> current limitation from not having multiple lifetime params on types
[02:26:04] <klutzy> rusti: struct Node<'self> { val: int, parent: Option<&'self Node<'self>>, } let a = Node { val: 1, parent: None }; let b = Node { val: 1, parent: Some(&a) }; println!("{:?} {:?}", a, b);
[02:26:04] -rusti- main::Node<>{val: 1, parent: None} main::Node<>{val: 1, parent: Some(&main::Node<>{val: 1, parent: None})}
[02:26:05] -rusti- ()
[02:26:25] <aatch> klutzy, yeah, but you couldn't move that object anywhere
[02:26:42] <aatch> except maybe down the stack.
[02:26:48] *** jorendorff_away is now known as jorendorff
[02:26:51] <klutzy> right
[02:26:54] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Client exited)
[02:27:42] <aatch> Basically, for the type `&'a Node<'b>`, that declaration forces 'a == 'b
[02:27:50] <aatch> (well kinda)
[02:27:54] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[02:28:09] *** Joins: Serow225 (Mibbit@moz-82D7696B.hsd1.mn.comcast.net)
[02:28:09] *** Joins: fyolnish (fyolnish@moz-EC28FB22.uqwimax.jp)
[02:29:10] *** Quits: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net) (Ping timeout)
[02:29:53] *** Quits: fyolnish (fyolnish@moz-EC28FB22.uqwimax.jp) (Ping timeout)
[02:30:09] <aatch> klutzy, oh, in your case above it's mostly fine. It's if you want to modify it later
[02:30:13] *** Quits: Voomer (Voomer@moz-CC05FF5E.hsd1.wa.comcast.net) (Ping timeout)
[02:31:08] *** Joins: Voomer (Voomer@moz-CC05FF5E.hsd1.wa.comcast.net)
[02:32:37] *** Joins: lfox (larryfox@moz-B8648F0F.nycmny.fios.verizon.net)
[02:34:41] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[02:34:41] *** ChanServ sets mode: +ao dherman dherman
[02:35:20] *** Joins: z0w0 (zack@64F0E14B.3C29B4A9.2CE63F58.IP)
[02:37:01] *** Joins: ross (ross@moz-5EA04060.br.br.cox.net)
[02:39:23] *** Quits: zz_kimundi (kimundi@moz-3DB68F29.dip0.t-ipconnect.de) (Ping timeout)
[02:42:13] *** Quits: Jesin (Jessin_@moz-6EF909D6.cc.lehigh.edu) (Ping timeout)
[02:42:22] *** Joins: zz_kimundi (kimundi@moz-C29F3EBA.dip0.t-ipconnect.de)
[02:42:48] *** zz_kimundi is now known as kimundi
[02:43:24] *** Quits: simon (simon@moz-CBE4BB13.cable.teksavvy.com) (Ping timeout)
[02:44:12] *** jorendorff is now known as jorendorff_away
[02:46:25] *** Joins: agrajag (Mibbit@moz-2861617D.dynamic.mtsallstream.net)
[02:47:27] *** jorendorff_away is now known as jorendorff
[02:48:31] *** Quits: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP) (Ping timeout)
[02:49:52] *** jorendorff is now known as jorendorff_away
[02:50:28] *** Quits: Yeri (jasonjasmi@41C91A8A.CE609BA5.E39FBF79.IP) (Quit: Yeri)
[02:56:36] <agrajag> Hi, I was wondering if I could ask a potentially newbie question about generics and objects in Rust.  Is this the right place for that?
[02:56:44] *** Joins: jesse99 (jesse99@moz-8B1E0C5D.hsd1.wa.comcast.net)
[02:56:51] <cmr> agrajag: yup!
[02:57:42] <Serow225> I have a question about installing Rust 0.8 on OSX, I'm getting an error message about libuv:
[02:57:55] *** Quits: Guest__ (textual@moz-E64A54F3.nyc.res.rr.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[02:58:04] <Serow225> link: x86_64-apple-darwin/rt/stage0/librustrt.dylib i686-apple-darwin11-llvm-g++-4.2: x86_64-apple-darwin/rt/stage0/libuv/libuv.a: No such file or directory make: *** [x86_64-apple-darwin/rt/stage0/librustrt.dylib] Error 1
[02:58:24] <cmr> Serow225: try running `make` again?
[02:58:50] *** Joins: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com)
[02:58:50] *** ChanServ sets mode: +ao pcwalton pcwalton
[02:58:51] *** Joins: fyolnish (fyolnish@moz-87C55FA8.uqwimax.jp)
[02:59:49] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[03:00:08] *** Joins: Jesin (Jessin_@D04ED9AA.1AFF763C.DAC4D86A.IP)
[03:00:32] *** Quits: fyolnish (fyolnish@moz-87C55FA8.uqwimax.jp) (Ping timeout)
[03:00:44] *** Quits: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[03:01:01] <Serow225> cmr: I just did, and I get the same message as before but preceded with 'make[1]: Nothing to be done for `all'.'
[03:01:34] *** Joins: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net)
[03:02:06] <sw17ch> I've been able to install Rust 0.8 from home-brew, if you're interested in that route, Serow225 
[03:03:24] <agrajag> So I have this code and it works fine http://mibpaste.com/GXmkJJ.
[03:04:05] <Serow225> Thanks sw17ch, I will try that route if i can't get MAKE to work. 
[03:04:20] <agrajag> but if I make Point an object and new a method like this http://mibpaste.com/Vxw7Cs
[03:04:50] <agrajag> I get a compiler error 'error: cannot determine a type for this bounded type parameter: unconstrained type generics.rs:18     let p1 = Point::new(2.1, 3.2);'
[03:05:04] <agrajag> I'm not quite sure what I'm doing wrong
[03:05:44] <Serow225> I've got to head out, but if anyone has an idea what could be causing that error with libuv, please just leave it here in the chat or PM me and I'll see it in the morning. Thanks all!! :)
[03:06:49] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[03:06:52] <cmr> agrajag: just a hunch, but remove the generics from `new` in the second example.
[03:07:02] <cmr> You have two separate type variables there.
[03:07:04] <cmr> (they shadow)
[03:07:20] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[03:07:21] *** ChanServ sets mode: +ao dherman dherman
[03:08:50] *** Quits: yusukesuzuki (yusukesuzu@moz-FEE44B6.net220148245.t-com.ne.jp) (Ping timeout)
[03:09:07] *** Joins: yusukesuzuki (yusukesuzu@moz-FEE44B6.net220148245.t-com.ne.jp)
[03:10:34] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[03:11:31] <agrajag> Yeah that totally did it. Thanks! As a side note, is there any documentation that describes common compiler errors?  They still feel a little cryptic to me.
[03:12:02] *** Joins: nrc (nrc@3496663E.C1499D0.396E4C6D.IP)
[03:12:21] *** Joins: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net)
[03:13:04] <cmr> No, although that's the third time I've heard a request for it.
[03:13:08] *** Joins: steven_is_false (user@C5B76363.1FF1EBF8.1ECA502.IP)
[03:16:16] <steven_is_false> Hello. My my much better laptop is currently broken, and so I need to compile Rust on my very slow, and tiny old desktop instead. My computer runs out of memory linking it though. To get around this I know I could try using GNU ld's --no-keep-memory option but how would I pass that to rust?
[03:16:46] <cmr> steven_is_false: --link-args doesn't do it?
[03:16:49] <aatch> steven_is_false, --link-args
[03:16:59] <cmr> steven_is_false: Also, a patch just landed today that reduces memory usage by a gig
[03:17:04] <cmr> (when compiling rustc)
[03:17:15] <steven_is_false> cmr: That's good.
[03:17:24] <ryeguy> steven_is_false are you running ubuntu by chance?
[03:17:41] <steven_is_false> ryeguy: An Ubuntu-like.
[03:18:01] <ryeguy> you can probably use this then: https://launchpad.net/~hansjorg/+archive/rust
[03:18:12] <ryeguy> ppa for rust nightlies. updated every day.
[03:18:14] *** Quits: Jesin (Jessin_@D04ED9AA.1AFF763C.DAC4D86A.IP) (Ping timeout)
[03:18:33] <steven_is_false> ryeguy: I should probably use a PPA then.
[03:18:54] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[03:19:07] <ryeguy> indeed. I had the same problem - i couldn't built rust on my 512mb ram DigitalOcean vps. This was the workaround.
[03:19:18] <myname> woot, arch doesn't have nightly binary builds :(
[03:19:42] <ryeguy> i update it once a week when the 'this week in rust' post comes out
[03:19:57] <aatch> myname, it does
[03:19:57] <steven_is_false> Is it RUSTFLAGS or RUSTCFLAGS?
[03:20:02] <aatch> just not officially
[03:20:10] <myname> aatch: huh?
[03:20:13] <aatch> strcat has a repo with nightlies set up
[03:20:18] <myname> :O
[03:20:27] <aatch> myname, I'll see if I can dig it up
[03:20:33] <cmr> Those nightlies are the only rustc I actually use besides my bencher
[03:21:03] <cmr> myname: 
[03:21:04] <cmr> [thestinger]
[03:21:05] <aatch> hmm, doesn't look like I have the repo on this machine.
[03:21:06] <cmr> SigLevel = Optional
[03:21:08] <cmr> Server = http://pkgbuild.com/~thestinger/repo/$arch
[03:21:26] <myname> great
[03:21:36] <aatch> myname, strcat is a trusted user for Arch too.
[03:21:49] *** Quits: lfox (larryfox@moz-B8648F0F.nycmny.fios.verizon.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[03:21:50] <myname> yeah i know
[03:22:15] *** Joins: glyc (Mibbit@moz-20CEEF38.hsd1.ca.comcast.net)
[03:22:37] *** Quits: tikue_ (tikue_star@63FEC8FF.CD72397.689607DE.IP) (Ping timeout)
[03:22:45] <steven_is_false> How well does LLVM's experimental linker work?
[03:22:52] <steven_is_false> In memory use.
[03:23:03] <glyc> Q: is there a simple way to map over all elements in a vector *except* the last one?
[03:23:24] <cmr> steven_is_false: well it doesn't produce working binaries.
[03:23:27] <cmr> (rust binaries)
[03:23:40] <steven_is_false> cmr: Okay.
[03:23:40] <cmr> So I haven't taken the time to profile it yet.
[03:23:47] <cmr> steven_is_false: I'm trying to debug why.
[03:24:36] *** Quits: z0w0 (zack@64F0E14B.3C29B4A9.2CE63F58.IP) (Quit: z0w0)
[03:25:04] *** Joins: z0w0 (zack@64F0E14B.3C29B4A9.2CE63F58.IP)
[03:25:08] <steven_is_false> cmr: Okay.
[03:25:11] <aatch> glyc, possibly using one of the iterators.
[03:25:17] <myname> glyc: in theory it's possible to build an iterator that drops the last element, i'm just not sure if there exist one already
[03:25:32] <cmr> glyc: v.take(v.len() - 1).map(...)
[03:25:38] <cmr> v.iter().take..
[03:25:40] <glyc>  cmr: nice
[03:25:41] *** Joins: Ferreus (ferreus@moz-B3BF5527.dyn.telefonica.de)
[03:25:47] <steven_is_false> Is it possible to install a PPA as a non-root user for oneself?
[03:26:14] *** Quits: Ferreus_ (ferreus@moz-4940FB68.dyn.telefonica.de) (Ping timeout)
[03:28:12] <steven_is_false> Thanks for the help.
[03:28:37] <myname> wondering if there is no way to make an init iterator
[03:29:08] <myname> like "call 'next' on the underlying iterator, it the second returns None, return None, else return the value of the first call"
[03:29:47] *** Joins: fyolnish (fyolnish@moz-5C6DD13F.uqwimax.jp)
[03:30:32] <cmr> can you rephrase that?
[03:30:37] <myname> *call 'next* twice
[03:31:32] *** Quits: fyolnish (fyolnish@moz-5C6DD13F.uqwimax.jp) (Ping timeout)
[03:32:45] *** Quits: steven_is_false (user@C5B76363.1FF1EBF8.1ECA502.IP) (Client exited)
[03:32:45] <ryeguy> rust really won't let me pass in a u16 when a fn expects a uint? 
[03:32:49] *** Quits: carllerche (carllerche@6B070D22.7E6A0813.1428D117.IP) (Quit: carllerche)
[03:33:03] <cmr> ryeguy: no, it won't do implicit coercion between numeric types.
[03:33:11] <cmr> It's called type safety.
[03:33:20] <myname> now = if after != nothing(?) { after } else { iter.next() }; after = iter.next(); if after == None { None } else { now }
[03:33:22] *** Joins: Jesin (Jessin_@moz-6EF909D6.cc.lehigh.edu)
[03:33:26] <myname> something like this
[03:33:34] *** Joins: carllerche (carllerche@6B070D22.7E6A0813.1428D117.IP)
[03:33:44] <ryeguy> how is it unsafe though?
[03:34:13] <cmr> it's not type safe.
[03:34:16] <cmr> they're different types.
[03:34:29] *** Joins: nejucomo (Adium@9F784BFB.6A678395.1951548C.IP)
[03:34:59] <ryeguy> is there an instance where the implicit conversion would fail?
[03:35:04] <ryeguy> in that case
[03:35:11] <cmr> uint can be smaller than u16
[03:35:12] <myname> in my head that'd be something like haskells "init"
[03:35:58] *** Quits: eternaleye (eternaleye@moz-76321711.hsd1.wa.comcast.net) (Ping timeout)
[03:36:14] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[03:36:17] *** Joins: eternaleye (eternaleye@moz-76321711.hsd1.wa.comcast.net)
[03:36:35] *** Quits: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP) (Client exited)
[03:36:43] *** Joins: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP)
[03:37:05] <SiegeLord> rusti: let a: u32 = 1u16; a
[03:37:07] -rusti- <anon>:7:22: 7:26 error: mismatched types: expected `u32` but found `u16` (expected u32 but found u16)
[03:37:07] -rusti- <anon>:7          let a: u32 = 1u16; a
[03:37:07] -rusti-                                ^~~~
[03:37:07] -rusti- error: aborting due to previous error
[03:37:08] -rusti- application terminated with error code 101
[03:37:57] <myname> cmr: does that make sense?
[03:37:57] <ryeguy> see that bothers me
[03:38:27] <ryeguy> i can understand the uint argument, because uint could theoretically be changed. but a u16 will always fit in a u32
[03:39:55] <cmr> myname: kinda but I don't see why it'd be useful.
[03:40:03] <cmr> ryeguy: Why should the numeric types be specially treated?
[03:40:23] <myname> cmr: wouldn't that do exactly why glyc wants?
[03:40:33] <ryeguy> cmr: less syntactic clutter
[03:41:47] <glyc> I see take() in std/iter.rs, but `use std::iter::{take}` yields error: unresolved import: there is no `take` in `std::iter`.  what gives?
[03:42:06] <cmr> glyc: it's a method.
[03:42:12] *** Quits: eternaleye (eternaleye@moz-76321711.hsd1.wa.comcast.net) (Ping timeout)
[03:42:27] <glyc> cmr: still don't understand how to fix
[03:42:41] <cmr> glyc: you don't need to do anything. it's a method on all iterators.
[03:42:59] *** Quits: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net) (Ping timeout)
[03:44:09] *** Joins: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net)
[03:44:26] <glyc> cmr: okay, I think I get it. then the example above can't apply take to the vector directly. v.take has to be v.iter().take(
[03:44:43] <cmr> glyc: that's what I corrected it to :p
[03:44:49] <glyc> sry missed that
[03:44:56] <cmr> rusti: let x = range(1, 30).to_owned_vec(); x.iter().take(10).to_owned_vec()
[03:44:58] -rusti- pastebinned 16 lines of output: http://sprunge.us/PFPV
[03:45:20] <glyc>  cool
[03:45:20] <cmr> rusti: let x = range(1, 30).to_owned_vec(); x.move_iter().take(10).to_owned_vec()
[03:45:22] -rusti- ~[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
[03:45:45] *** Quits: nrc (nrc@3496663E.C1499D0.396E4C6D.IP) (Ping timeout)
[03:45:58] <myname> yeah, make a vector of an iterator to make an iterator
[03:46:27] <cmr> shush :p
[03:47:10] *** Joins: nejucomo1 (Adium@9F784BFB.6A678395.1951548C.IP)
[03:47:20] *** Quits: nejucomo (Adium@9F784BFB.6A678395.1951548C.IP) (Ping timeout)
[03:48:25] *** Quits: glyc (Mibbit@moz-20CEEF38.hsd1.ca.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[03:50:24] <jmgrosen> does TcpStream not fulfill Send?
[03:50:30] <jmgrosen> wait, no
[03:50:35] <jmgrosen> never mind, that doesn't make sense
[03:55:11] *** Parts: BossKonaSegway (Michael@moz-2986F42D.col.wideopenwest.com) ()
[03:55:31] <nixprime> is there any way for a struct to contain a pointer with a longer lifetime than the struct?
[03:56:09] *** Joins: BossKonaSegway (Michael@moz-2986F42D.col.wideopenwest.com)
[03:56:24] <jason_> nixprime: a managed pointer would allow that
[03:56:34] <cmr> nixprime: struct Foo<'self> { x: &'self T } ?
[03:57:09] <nixprime> cmr: well, the case I'm having is a struct Foo<'self> { x: ~T<'
[03:57:09] *** Joins: raisin (Mibbit@moz-20CEEF38.hsd1.ca.comcast.net)
[03:57:22] <nixprime> struct Foo<'self> { x: ~T<'self> }
[03:57:31] <nixprime> but I can't then move x out
[03:57:50] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[03:58:18] *** Joins: eternaleye (eternaleye@moz-76321711.hsd1.wa.comcast.net)
[03:58:20] <nixprime> when I really want to say x has a longer lifetime 'a, so I can say fn take_x<'a>(foo: &mut Foo) -> ~x<'a> { foo.x }
[03:58:23] <nixprime> or something like that
[03:58:33] <nixprime> jason_: is a managed pointer the only way, then?
[03:59:01] <nixprime> I mean, conceptually, I can statically prove that there's no lifetime violation
[03:59:08] <nixprime> I just can't figure out how to tell the compiler ;)
[03:59:19] *** Joins: fyolnish (fyolnish@moz-673E7912.uqwimax.jp)
[03:59:33] <cmr> nixprime: it might not be expressible.
[04:00:10] <nixprime> cmr: hmm... alright, thanks
[04:01:01] *** Quits: pepper_chico (pepper_chi@moz-9A2FC724.dsl.telesp.net.br) (Ping timeout)
[04:02:03] *** Joins: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net)
[04:03:26] *** Quits: Ralith (ralith@moz-132F2FD4.sea.wa.customer.broadstripe.net) (Ping timeout)
[04:04:23] *** Quits: dew (Instantbir@moz-EEE6B2F8.dhcp.stls.mo.charter.com) (Ping timeout)
[04:04:53] *** Quits: nejucomo1 (Adium@9F784BFB.6A678395.1951548C.IP) (Quit: Leaving.)
[04:06:30] *** Joins: dew (Instantbir@moz-EEE6B2F8.dhcp.stls.mo.charter.com)
[04:07:24] <jmgrosen> nixprime: perhaps I'm misunderstanding your question, but wouldn't this work? https://gist.github.com/jmgrosen/ad3fca0a309cf26130f7
[04:07:39] *** Joins: Ralith (ralith@moz-132F2FD4.sea.wa.customer.broadstripe.net)
[04:08:04] <raisin> hmm
[04:08:06] <cmr> nixprime: (also, is there any particular reason you're using ~ ?)
[04:08:17] *** Quits: Jesin (Jessin_@moz-6EF909D6.cc.lehigh.edu) (Ping timeout)
[04:09:58] <jason_> nixprime: you can do ugly tricks with std::ptr and std::cast
[04:12:42] *** Quits: Ralith (ralith@moz-132F2FD4.sea.wa.customer.broadstripe.net) (Connection reset by peer)
[04:12:49] *** Yurume_ is now known as Yurume
[04:13:16] *** Joins: Ralith (ralith@moz-132F2FD4.sea.wa.customer.broadstripe.net)
[04:13:21] <Yurume> is &fn:Copy missing in 0.8?
[04:14:10] <sfackler> Copy's gone iirc
[04:14:47] <Yurume> what's an alternative then?
[04:15:04] <Yurume> i.e. I need something like `Clone`able function
[04:15:49] <nixprime> cmr: in context, Foo.x is really a ~[~T] that represents a queue of Ts that I want to be able to pop from, and the objects that get returned are both never modified and change ownership a lot, so I'd rather allocate once on the heap and not make copies
[04:15:54] <cmr> Ah
[04:15:59] <cmr> so not a ~T :p
[04:16:24] <Yurume> if you need multiple ownerships, use a managed box.
[04:16:46] <nixprime> but there's only one owner at a time, and it's always clear who it is :/
[04:17:08] *** Quits: fran (fran@541192C3.5F63C71E.87338559.IP) (Ping timeout)
[04:17:29] <nixprime> jmgrosen: the returned ~Blah doesn't have lifetime 'self, since it needs to outlive the Foo it comes from
[04:18:13] <nixprime> and without some way to specify a longer lifetime, this is unsafe because a borrowed pointer in a Blah<'foo_self> may outlive 'foo_self
[04:18:35] <jmgrosen> ah, I see your problem now
[04:18:51] <jmgrosen> don't really have an answer, unfortunately :(
[04:19:03] <nixprime> alright, thanks for your time
[04:19:14] <nixprime> jason_: I'll take a look at those, thanks
[04:21:43] *** Joins: fran (fran@moz-E8276328.telecom.net.ar)
[04:24:03] *** Quits: cubic (cubic@moz-FE5AD6C7.mc.videotron.ca) (Connection reset by peer)
[04:24:34] *** Quits: fyolnish (fyolnish@moz-673E7912.uqwimax.jp) (Client exited)
[04:24:58] *** Quits: alex-abreu (alex@moz-7421D6C9.mc.videotron.ca) (Ping timeout)
[04:25:24] *** Quits: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[04:25:25] *** Joins: alex-abreu (alex@moz-7421D6C9.mc.videotron.ca)
[04:26:29] *** Joins: Jesin (Jessin_@D04ED9AA.1AFF763C.DAC4D86A.IP)
[04:31:48] *** Quits: voxpopuli (fanservice@2EC88D02.1EDB8A0F.689607DE.IP) (Ping timeout)
[04:31:56] *** Quits: dew (Instantbir@moz-EEE6B2F8.dhcp.stls.mo.charter.com) (Ping timeout)
[04:31:58] *** Joins: dew (Instantbir@moz-EEE6B2F8.dhcp.stls.mo.charter.com)
[04:34:33] *** Joins: cubic (cubic@moz-FE5AD6C7.mc.videotron.ca)
[04:35:52] *** Quits: Jesin (Jessin_@D04ED9AA.1AFF763C.DAC4D86A.IP) (Ping timeout)
[04:36:01] *** Joins: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca)
[04:36:23] *** Joins: Jesin (Jessin_@CB0F8A26.1AFF763C.DAC4D86A.IP)
[04:36:38] *** Quits: cubic (cubic@moz-FE5AD6C7.mc.videotron.ca) (Quit: Leaving)
[04:40:54] *** Quits: Jesin (Jessin_@CB0F8A26.1AFF763C.DAC4D86A.IP) (Ping timeout)
[04:43:19] *** Quits: carllerche (carllerche@6B070D22.7E6A0813.1428D117.IP) (Quit: carllerche)
[04:44:55] *** Quits: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net) (Quit: jmgrosen)
[04:51:26] *** Quits: ryeguy (ryeguy@9C569A0.5D1143CD.E8644521.IP) (Quit: )
[04:56:47] <dandy> is it possible to make an impl Mul<,> for f64 ?
[04:57:14] <dandy> error: cannot provide an extension implementation for a trait not defined in this crate
[04:57:20] <cmr> dandy: no
[04:58:17] <dandy> so are people required to perform CustomType * Primitive and never to be able to do Primitive * CustomType?
[04:59:04] <cmr> For now.
[04:59:08] <cmr> Note that not even libstd can do that.
[04:59:12] <cmr> No crate owns f64
[04:59:43] <dandy> so extension implementation is a future thing?
[04:59:45] *** Joins: fyolnish (fyolnish@moz-8BA334BA.uqwimax.jp)
[05:00:01] <cmr> No, it will never be possible.
[05:00:05] <dandy> oh
[05:00:07] <cmr> That is a coherency thing.
[05:00:26] <cmr> But it's a limitation of the Mul trait that we can't do Primitive * CustomType
[05:01:00] *** Quits: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Quit: lkuper)
[05:01:30] *** Quits: fyolnish (fyolnish@moz-8BA334BA.uqwimax.jp) (Ping timeout)
[05:02:17] *** Joins: jensnockert (jensnocker@moz-45A1CE58.mobileonline.telia.com)
[05:03:13] *** Quits: jensnockert (jensnocker@moz-45A1CE58.mobileonline.telia.com) (Connection reset by peer)
[05:06:11] <cmr> mkinitcpio -g $TMPDIR/boot/initramfs-linux.img -k $TMPDIR/boot/vmlinuz-linux -c $TMPDIR/etc/mkinitcpio.conf
[05:06:12] <cmr> oops
[05:07:22] <agrajag> Lol (not a terminal?) Is it possible to cast a variable (ie: float) to a type parameter in Rust?
[05:08:51] <sfackler> what do you mean by cast to a type parameter? like 10f as T?
[05:08:56] *** Quits: dew (Instantbir@moz-EEE6B2F8.dhcp.stls.mo.charter.com) (Ping timeout)
[05:10:22] <agrajag> yeah so I have a value of type T and I want to divide by 2.5 or something.
[05:10:25] *** Joins: dew (Instantbir@moz-EEE6B2F8.dhcp.stls.mo.charter.com)
[05:10:56] <dandy> any documentation on overloading in rust?
[05:11:01] <cmr> agrajag: not currently, no.
[05:11:19] <cmr> agrajag: erickt_'s FromPrimitive patch will enable that.
[05:11:59] <cmr> dandy: overloading what?
[05:12:08] <agrajag> cmr: Thanks!
[05:12:08] <dandy> functions
[05:12:08] *** Quits: dew (Instantbir@moz-EEE6B2F8.dhcp.stls.mo.charter.com) (Ping timeout)
[05:12:13] <agrajag> no
[05:12:14] <cmr> We don't have function overloading.
[05:12:28] <agrajag> there is basic operator overloading though
[05:13:38] <dandy> so is name the only important part of a function signature?
[05:13:59] <cmr> No, the full signature is considered for typechecking.
[05:14:08] <cmr> We just don't have overloading. At all.
[05:14:22] <dandy> how come?
[05:14:33] <cmr> Complexity.
[05:14:37] *** Joins: dew (Instantbir@moz-EEE6B2F8.dhcp.stls.mo.charter.com)
[05:14:37] <cmr> It might be added, but post-1.0
[05:16:26] *** Quits: dew (Instantbir@moz-EEE6B2F8.dhcp.stls.mo.charter.com) (Ping timeout)
[05:17:20] *** Joins: dew (Instantbir@moz-EEE6B2F8.dhcp.stls.mo.charter.com)
[05:19:32] *** Joins: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net)
[05:23:43] *** Quits: Earnestly (earnest@moz-BE290A2B.dyn.plus.net) (Ping timeout)
[05:24:02] *** Quits: canhtak (jeremy@moz-7FADA491.wl.t.ulaval.ca) (Quit: canhtak)
[05:24:34] *** Quits: GeneralMaximus (ankur@8286DDB8.601E482C.BE90E62C.IP) (Ping timeout)
[05:25:28] *** Joins: quiggle (Mibbit@moz-521EDBB6.rev.sfr.net)
[05:25:34] *** Quits: quiggle (Mibbit@moz-521EDBB6.rev.sfr.net) (Quit: quiggle)
[05:25:37] *** Joins: GeneralMaximus (ankur@8286DDB8.601E482C.BE90E62C.IP)
[05:26:13] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[05:26:13] *** ChanServ sets mode: +ao dherman dherman
[05:29:07] <jeaye> cmr: ping
[05:29:19] <cmr> jeaye: pong
[05:29:21] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[05:29:39] <jeaye> I remember you saying something about setting up nightly Windows builds.
[05:29:42] <jeaye> Is that a thing?
[05:29:57] <cmr> Not yet!
[05:30:10] *** Joins: fyolnish (fyolnish@moz-AD93AA47.uqwimax.jp)
[05:30:12] <jeaye> mmk
[05:30:22] <cmr> There's lots of interest though, so I'll do it this weekend.
[05:30:40] <jeaye> Sounds great; it'll definitely please a lot of people.
[05:30:42] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[05:31:01] <jeaye> Also, I don't think I got the TWiR email. Was it sent out last weekend?
[05:31:05] <cmr> Crap
[05:31:09] <cmr> I always forget the email
[05:31:19] <jeaye> haha
[05:31:30] <jeaye> Maybe merge it with the next one?
[05:31:51] *** Quits: fyolnish (fyolnish@moz-AD93AA47.uqwimax.jp) (Ping timeout)
[05:31:52] <cmr> Yeah
[05:32:01] <cmr> I didn't know people actually read the emails tbh
[05:32:29] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Ping timeout)
[05:32:41] * jeaye does!
[05:33:00] *** Quits: dew (Instantbir@moz-EEE6B2F8.dhcp.stls.mo.charter.com) (Ping timeout)
[05:33:10] <dandy> rusti: use std::num::Zero; struct Thing<T> { a: T } impl<T:Zero> Zero for Thing {fn zero() -> Thing { Thing{a: T.zero()}} fn is_zero(&self) -> bool {false} }
[05:33:12] -rusti- pastebinned 5 lines of output: http://sprunge.us/LAOR
[05:33:19] <dandy> how can I call a function on type?
[05:34:17] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[05:34:45] <cmr> dandy: in general, Zero::zero()
[05:34:59] <cmr> dandy: but, we have a helper for it in the prelude, zero::<T>()
[05:36:01] <dandy> rusti: zero::<f64>()
[05:36:02] -rusti- <anon>:7:9: 7:20 error: unresolved name `zero`.
[05:36:02] -rusti- <anon>:7          zero::<f64>()
[05:36:02] -rusti-                   ^~~~~~~~~~~
[05:36:03] -rusti- error: aborting due to previous error
[05:36:03] -rusti- application terminated with error code 101
[05:36:07] <cmr> hm
[05:36:12] <dandy> rusti: use std::num::Zero; zero::<f64>()
[05:36:13] <cmr> rusti: std::num::zero::<f64>()
[05:36:13] -rusti- <anon>:7:29: 7:40 error: unresolved name `zero`.
[05:36:13] -rusti- <anon>:7          use std::num::Zero; zero::<f64>()
[05:36:14] -rusti-                                       ^~~~~~~~~~~
[05:36:14] -rusti- error: aborting due to previous error
[05:36:14] -rusti- application terminated with error code 101
[05:36:14] -rusti- 0f64
[05:36:22] <dandy> rusti: use std::num::Zero; Zero::<f64>()
[05:36:22] <cmr> Guess it's not in the prelude.
[05:36:22] -rusti- <anon>:7:29: 7:40 error: unresolved name `Zero`.
[05:36:22] -rusti- <anon>:7          use std::num::Zero; Zero::<f64>()
[05:36:22] -rusti-                                       ^~~~~~~~~~~
[05:36:22] -rusti- error: aborting due to previous error
[05:36:22] -rusti- application terminated with error code 101
[05:36:25] <dandy> I give up
[05:36:40] <cmr> rusti: use std::num::Zero; let x: f64 = Zero::zero(); x
[05:36:41] -rusti- 0f64
[05:37:09] <benh> Misleading error, clearly~
[05:37:10] *** Joins: pnkfelix (pnkfelix@37A83DB4.49EECAFD.30BE9F17.IP)
[05:38:06] <dandy> so it chooses the type for the impl based on the type of the slot on the LHS?
[05:38:54] <cmr> What do you mean?
[05:39:42] <sfackler> dandy: yes, the return type of zero() is inferred
[05:40:17] <dandy> okay
[05:42:04] <dandy> rusti: use std::num::Zero; struct Thing<T> { a: T } impl<T:Zero> Zero for Thing<T> {fn zero() -> Thing<T> { Thing{a: Zero::zero()}} fn is_zero(&self) -> bool {false} }; let thing : Thing<f64> = Zero::zero(); thing.a
[05:42:05] -rusti- 0f64
[05:42:17] *** Joins: simon (simon@moz-CBE4BB13.cable.teksavvy.com)
[05:42:18] <dandy> thats a hell of a way to get 0
[05:42:36] <dandy> better than run-time code generation though!
[05:42:56] <cmr> rusti: let x: f64 = Zero::zero(); x
[05:42:57] -rusti- pastebinned 11 lines of output: http://sprunge.us/ZZWU
[05:43:08] <dandy> forgot the use
[05:43:09] <cmr> I wonder why that's not in the prelude
[05:43:41] <dandy> must have been like that a while, bjz does it too: https://github.com/bjz/cgmath-rs/blob/master/src/cgmath/vector.rs#L16
[05:44:18] <benh> Let's make the integer literal 0 parse as Zero::zero() ;)
[05:44:33] <cmr> benh: it will once we have generic numeric literals.
[05:44:53] <pcwalton> that doesn't have consensus
[05:44:54] <cmr> (which is hinged on CTFE)
[05:45:01] <cmr> pcwalton: well, it won't if we don't :p
[05:47:12] *** Quits: sw17ch (sw17ch@moz-675AFBCF.hsd1.mi.comcast.net) (Quit: sw17ch)
[05:47:54] <cmr> So I suppose s/once/if, to not be ambiguous
[05:48:29] *** Joins: fyolnish (fyolnish@moz-B7E70C8F.uqwimax.jp)
[05:49:14] *** Quits: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net) (Ping timeout)
[05:51:50] <cmr> pcwalton: can you take a quick look at https://github.com/mozilla/rust/pull/9712 ?
[05:52:27] <cmr> thanks
[05:52:57] *** Joins: dew (Instantbir@moz-EEE6B2F8.dhcp.stls.mo.charter.com)
[05:53:31] *** Quits: jonathan_ (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net) (Ping timeout)
[05:54:07] <benh> :D
[05:57:04] *** Quits: dew (Instantbir@moz-EEE6B2F8.dhcp.stls.mo.charter.com) (Ping timeout)
[05:57:39] *** Joins: robertknight (robertknig@moz-54528EE0.wby.mendeley.com)
[05:57:56] *** Joins: dew (Instantbir@moz-EEE6B2F8.dhcp.stls.mo.charter.com)
[05:59:20] *** Quits: robertknight (robertknig@moz-54528EE0.wby.mendeley.com) (Ping timeout)
[05:59:42] <dandy> I can have as many impls as I want? impl SomeType {} impl SomeType {}
[05:59:52] <aatch> dandy, yep
[06:00:03] <aatch> At least, I think you can
[06:00:19] <cmr> You can
[06:00:52] <dandy> https://github.com/aarondandy/vertesaur-rust/blob/9c970f9a95545b17a7ee7b321e35174d8d8b5162/src/vertesaur/vector.rs#L110
[06:02:04] <dandy> so that way I can have different impls for different generic constraints (are they called generic constraints in rust?)
[06:02:22] <cmr> trait constraints I think.
[06:02:25] <cmr> Does that actually compile?
[06:02:36] <dandy> test result: ok. 5 passed; 0 failed; 0 ignored; 0 measured
[06:02:55] <cmr> Cool
[06:02:56] <dandy> I get a warning for an unused variable
[06:03:04] <aatch> dandy, trait bounds is what I call them
[06:03:04] <dandy> let b = x.some_garbage();
[06:03:11] <cmr> What if you have a y_unit method in that second impl?
[06:03:22] * cmr sees an ICE lurking
[06:03:22] <dandy> I bet is shits its pants, lets find out!
[06:03:26] <cmr> Yeah :P
[06:03:28] *** Joins: alk (alk@moz-32A9FF6A.fbxo.proxad.net)
[06:03:40] <cmr> Trait bounds is also what I call them.
[06:04:01] <dandy> error: duplicate definition of value `y_unit`
[06:04:15] <cmr> Nice, so it doesn't explode.
[06:05:00] <dandy> I think I put rustc into an infinite loop earlier today when trying to implement Mul for some primitive * my type
[06:05:26] <dandy> it was shitting all over my console, I had to Ctrl+C
[06:05:37] *** Quits: SiegeLord (sl@moz-3D449DF.bstnma.fios.verizon.net) (Quit: Leaving)
[06:06:28] *** Joins: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net)
[06:10:08] *** Quits: pnkfelix (pnkfelix@37A83DB4.49EECAFD.30BE9F17.IP) (Quit: Leaving.)
[06:11:11] *** Joins: brendan (brendaneic@79611EE9.A51CB73B.6FBF6D51.IP)
[06:11:23] *** Quits: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com) (Quit: pcwalton)
[06:11:36] *** Quits: aatch (James@moz-B437F499.pocketrent.com) (Client exited)
[06:12:12] *** Joins: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[06:12:24] <cmr> Ah shit.
[06:12:33] <cmr> 'Rust generates JSON is invalid??'
[06:12:39] <cmr> acrichto: ;(
[06:12:49] <cmr> acrichto: Have you tested the json writer?
[06:13:05] <cmr> also s/generates/generated
[06:13:09] <cmr> And rustdoc, ofc
[06:13:20] <dandy> I'm afraid to make rusti do this: anyidea why I get a brazillion errors? https://gist.github.com/aarondandy/6821660
[06:13:53] <dandy> shouldn't it just say "Hey man, you can't impl for int, sorry"
[06:14:43] <cmr> dandy: looks like you're confusing it
[06:14:47] <cmr> It's trying every possible T
[06:14:51] <cmr> T: Mul<T,T>
[06:14:52] *** Quits: simon (simon@moz-CBE4BB13.cable.teksavvy.com) (Connection reset by peer)
[06:14:56] <cmr> That's a recursive constraint.
[06:14:56] <dandy> well it's confusing me
[06:14:58] <dandy> only fair...
[06:15:05] <cmr> You want <T, U: Mul<T, T>>
[06:15:08] *** kimundi is now known as zz_kimundi
[06:15:10] <dandy> T: Mul<T,T> works fine
[06:15:18] <dandy> just not for the 2nd one
[06:15:30] <cmr> It shouldn't work fime?
[06:15:35] <cmr> If it does it's probably a bug.
[06:15:44] <dandy> https://github.com/aarondandy/vertesaur-rust/blob/9c970f9a95545b17a7ee7b321e35174d8d8b5162/src/vertesaur/vector.rs#L56
[06:16:14] *** Joins: vodik (simon@moz-CBE4BB13.cable.teksavvy.com)
[06:16:26] *** Joins: bheylin_ (brianheyli@moz-8255E94E.adsl.online.nl)
[06:17:08] <dandy> I'm not sure how I would use U there...
[06:17:47] <cmr> impl<T, U: Mul<T, T>> Mul<T, Junk<U>> ?
[06:17:47] *** Quits: vodik (simon@moz-CBE4BB13.cable.teksavvy.com) (Connection reset by peer)
[06:18:00] <cmr> Is `T: Mul<T, T>` actually nonsensical or is it just me/
[06:18:10] <dandy> I think its just you
[06:18:10] <benh> git grep:
[06:18:12] *** Joins: vodik (simon@moz-CBE4BB13.cable.teksavvy.com)
[06:18:13] <benh> src/libextra/num/rational.rs:        impl<T: Mul<T,T> + $imp> $imp for Ratio<T> {
[06:18:13] <benh> src/libstd/iter.rs:impl<A: Mul<A, A> + One, T: Iterator<A>> MultiplicativeIterator<A> for T {
[06:18:23] <dandy> some T that can be multiplied by another T
[06:18:40] <dandy> and produces a T
[06:18:46] <cmr> You're saying T is a type variable bounded by the trait Mul given the type variables T and T which is a type variable bounded by the trait Mul given ...
[06:19:00] <benh> I'm not sure
[06:19:14] <dandy> Mul<RHS,Result>
[06:19:29] *** Quits: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net) (Ping timeout)
[06:19:53] <dandy> so myself, whatever I am (T), multiplied by a RHS of T, resulting in a T
[06:20:05] <benh> "T is a type variable that implements the trait Mul, incidentally with itself as parameter, twice"
[06:20:08] <benh> seems fine imo
[06:20:19] <fmtq> how do I declare a mutable vector of uints?
[06:20:30] <cmr> fmtq: all vectors are mutable.
[06:20:33] <benh> declare a regular vector of uints and then put it into a mutable location
[06:20:35] <cmr> benh: hm, maybe.
[06:20:45] <fmtq> it's more the latter part that I'm confused by 
[06:20:50] <benh> let mut v = ...
[06:20:57] <cmr> rusti: let mut x = ~[1, 2, 3]; x.push(4); x
[06:20:58] -rusti- ~[1, 2, 3, 4]
[06:21:09] <fmtq> yes, but what if it starts empty?
[06:21:16] <cmr> rusti: let mut x = ~[]; x.push(4); x
[06:21:17] -rusti- ~[4]
[06:21:26] <fmtq> is there no way to explicitly type it?
[06:21:35] <cmr> How is that not explicitly typing it?
[06:21:36] <benh> It's still a ~[uint]
[06:21:49] <cmr> rusti: let mut x: ~[uint] = ~[]; x.push(4); x
[06:21:50] -rusti- ~[4u]
[06:21:53] <benh> rusti: let mut x: ~[uint]; x = ~[]; x.push(4); x
[06:21:53] <cmr> rusti: let mut x: ~[uint]; x.push(4); x
[06:21:55] -rusti- ~[4u]
[06:21:55] -rusti- <anon>:7:29: 7:30 error: use of possibly uninitialized variable: `x`
[06:21:55] -rusti- <anon>:7          let mut x: ~[uint]; x.push(4); x
[06:21:55] -rusti-                                       ^
[06:21:55] -rusti- error: aborting due to previous error
[06:21:55] -rusti- application terminated with error code 101
[06:22:09] <fmtq> aha
[06:22:22] <benh> I supppose the first example was accidentally a mutable vector of non-u ints
[06:22:32] <cmr> yeah, it was :(
[06:22:43] <benh> those darn near-generic numeric literals
[06:22:51] <fmtq> it was the declaration syntax that was hurting my brain when it came to vectors.
[06:22:52] <fmtq> :) 
[06:23:00] <fmtq> couldn't quite see the answer in the docs.
[06:23:21] *** Quits: brendan (brendaneic@79611EE9.A51CB73B.6FBF6D51.IP) (Quit: brendan)
[06:23:44] <fmtq> what about fixed size vectors?
[06:24:03] <cmr> rusti: let x: [uint, ..4] = []; x
[06:24:03] -rusti- <anon>:7:30: 7:32 error: mismatched types: expected `[uint, .. 4]` but found `[<V7>, .. 0]` ([] storage differs: expected 4 but found 0)
[06:24:03] -rusti- <anon>:7          let x: [uint, ..4] = []; x
[06:24:04] -rusti-                                        ^~
[06:24:04] -rusti- error: aborting due to previous error
[06:24:04] -rusti- application terminated with error code 101
[06:24:10] <cmr> rusti: let x: [uint, ..4] = [0, ..4]; x
[06:24:11] -rusti- [0u, 0u, 0u, 0u]
[06:24:29] <cmr> You'll note that it's not possible to not initialize every element.
[06:24:30] *** Quits: bheylin_ (brianheyli@moz-8255E94E.adsl.online.nl) (Quit: bheylin_)
[06:24:33] <cmr> rusti: let x: [uint, ..4] = [1, 2, 3, 4]; x
[06:24:34] -rusti- [1u, 2u, 3u, 4u]
[06:24:46] <fmtq> so ..x means repeat previous statement x amount of times?
[06:24:47] <cmr> Since it's fixed size, and rust doesn't allow partially-initialized values.
[06:24:50] <cmr> fmtq: yup!
[06:25:03] <cmr> only in fixed-length vector constructors, though.
[06:25:16] *** Quits: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net) (Connection reset by peer)
[06:25:17] <fmtq> of course.
[06:28:02] *** Joins: brendan (brendaneic@79611EE9.A51CB73B.6FBF6D51.IP)
[06:29:47] *** Joins: ozten (ozten@moz-60CE2FBE.client.stsn.net)
[06:30:37] *** Quits: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca) (Ping timeout)
[06:31:38] *** Quits: vodik (simon@moz-CBE4BB13.cable.teksavvy.com) (Connection reset by peer)
[06:31:59] *** Quits: fyolnish (fyolnish@moz-B7E70C8F.uqwimax.jp) (Client exited)
[06:32:44] *** Joins: vodik (simon@moz-CBE4BB13.cable.teksavvy.com)
[06:33:17] *** Quits: dandy (Dandy@moz-84CC8377.hsd1.co.comcast.net) (Quit: Leaving)
[06:33:23] *** Quits: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[06:37:15] *** Quits: snerd (motk@moz-E535583C.nonstopcrunchy.net) (Quit: leaving)
[06:37:28] *** Quits: vodik (simon@moz-CBE4BB13.cable.teksavvy.com) (Ping timeout)
[06:39:12] *** Joins: tgummerer (tgummerer@moz-5DC8FA44.tbcn.telia.com)
[06:39:28] *** Joins: vodik (simon@moz-CBE4BB13.cable.teksavvy.com)
[06:39:31] <fmtq> cmr: can the 4 in ..4 be a variable?
[06:41:02] <cmr> fmtq: that'd wouldn't be a very fixed length vector now, would it? :p
[06:41:45] <fmtq> I'm trying to create a fixed length vector where the length is defined by a parameter being fed to a method creating it.
[06:42:18] <cmr> The length needs to be a constant expression. What are you trying to use it for? A slice might be more suitable.
[06:42:40] <fmtq> a 2D array actually.
[06:42:41] <Eridius> fmtq: what you want is generic functions that can take integers as generic parameters. Which is of course not supported, but there are dreams that some day it might be
[06:42:46] <fmtq> for a voting system
[06:42:56] <fmtq> Eridius: ah okay.
[06:43:01] <Eridius> fmtq: can you not just use ~[u8]?
[06:43:18] <fmtq> oh I totally _can_, I was just curious if I could do it this way 
[06:43:20] <cmr> Yeah, the lack of generic lengths is a pain
[06:43:35] <fmtq> it's already written in Python, so, seeing how "fixed" I could make things
[06:43:44] <cmr> ...but it'd still need to be a constant, can't get around that.
[06:43:51] <fmtq> when I knew in advance what the length would be for the life of the program, but only after a variable was set :P
[06:44:20] *** Quits: brendan (brendaneic@79611EE9.A51CB73B.6FBF6D51.IP) (Quit: brendan)
[06:44:34] *** Joins: brendan (brendaneic@79611EE9.A51CB73B.6FBF6D51.IP)
[06:44:46] *** Quits: ozten (ozten@moz-60CE2FBE.client.stsn.net) (Quit: ozten)
[06:44:58] <jason_> is there an attribute to specify padding for struct members?
[06:45:15] <cmr> jason_: unfortunately not
[06:46:29] <jason_> cmr: so i should just put u8 fixed sized vectors between my members?
[06:47:21] <fmtq> woo!
[06:47:36] *** Joins: jensnockert (jensnocker@moz-605A9437.wireless.lu.se)
[06:48:03] <jason_> hmm, that might be a pain
[06:48:05] <fmtq> https://gist.github.com/anonymous/4129def632696602339c
[06:49:10] <cmr> jason_: nah, those would get padded too
[06:49:20] *** Quits: jensnockert (jensnocker@moz-605A9437.wireless.lu.se) (Connection reset by peer)
[06:49:39] *** Joins: jensnockert (jensnocker@moz-605A9437.wireless.lu.se)
[06:50:16] *** Joins: jensnock_ (jensnocker@moz-605A9437.wireless.lu.se)
[06:50:16] *** Quits: jensnockert (jensnocker@moz-605A9437.wireless.lu.se) (Connection reset by peer)
[06:50:43] *** Quits: LimeBurst (me@247D1419.D73964AC.27A8748.IP) (Quit: leaving)
[06:51:15] *** Quits: jensnock_ (jensnocker@moz-605A9437.wireless.lu.se) (Connection reset by peer)
[06:51:20] *** Joins: nsf (nsf@moz-EEF3238A.convex.ru)
[06:51:20] *** Joins: jensnockert (jensnocker@moz-605A9437.wireless.lu.se)
[06:52:02] *** Quits: brendan (brendaneic@79611EE9.A51CB73B.6FBF6D51.IP) (Ping timeout)
[06:52:46] <jason_> cmr: padding is good. i'm not trying to pack, i was to add cacheline sized padding to prevent false sharing
[06:53:02] <acrichto> cmr: tested the json writer of rustdoc?
[06:53:11] *** Quits: jensnockert (jensnocker@moz-605A9437.wireless.lu.se) (Connection reset by peer)
[06:53:16] <cmr> acrichto: rustdoc -w json
[06:53:27] <jason_> something like struct Foo { pad1: [u8, ..64], atomic_int: u64, pad2: [u8, ..66] } let f = Foo{pad1: [], u: 0, pad2: []}
[06:53:28] <acrichto> not extensively, but it should work
[06:53:42] <cmr> acrichto: I got that error from rust-http, and it shouldn't ever happen: it's just json out, json back in using the Decoder
[06:53:46] <jason_> but not sure how to init pad1 to zeros
[06:53:50] <cmr> jason_: ah, that'd work then.
[06:53:55] <cmr> [0, ..64]
[06:53:58] *** Joins: jensnockert (jensnocker@moz-605A9437.wireless.lu.se)
[06:54:09] <acrichto> cmr: which error?
[06:54:25] <cmr> acrichto: "Rust generated JSON is invalid??"
[06:55:13] <acrichto> cmr: yeah that's the round trip failing
[06:55:16] <acrichto> weird
[06:56:03] *** Joins: brendan (brendaneic@79611EE9.A51CB73B.6FBF6D51.IP)
[06:57:18] *** Quits: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net) (Ping timeout)
[06:57:48] *** Joins: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net)
[06:59:32] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[06:59:42] *** Quits: brendan (brendaneic@79611EE9.A51CB73B.6FBF6D51.IP) (Quit: brendan)
[07:02:09] *** Joins: brendan (brendaneic@79611EE9.A51CB73B.6FBF6D51.IP)
[07:05:14] *** Joins: jonathanmarvens (jonathanma@moz-5A7C3C77.hsd1.ma.comcast.net)
[07:05:51] *** Quits: brendan (brendaneic@79611EE9.A51CB73B.6FBF6D51.IP) (Quit: brendan)
[07:07:24] *** Joins: brendan (brendaneic@79611EE9.A51CB73B.6FBF6D51.IP)
[07:10:27] *** Quits: timot (timot@moz-282AA699.cust.tele2.se) (Connection reset by peer)
[07:11:29] *** Quits: brendan (brendaneic@79611EE9.A51CB73B.6FBF6D51.IP) (Quit: brendan)
[07:12:45] <jason_> is there a compile time sizeof?
[07:13:24] <cmr> rusti: std::sys::size_of::<int>()
[07:13:25] -rusti- 8u
[07:13:44] *** Joins: timot (timot@moz-A6B9503D.cust.tele2.se)
[07:14:08] <jason_> that seems to be at runtime?
[07:14:15] <cmr> Shouldn't be.
[07:14:27] <cmr> It's not a constant expression, but it does get folded into a constant iirc
[07:14:43] <jason_> ok cool, i'll try it
[07:17:51] <cmr> Ok, maybe not..
[07:17:55] <benh> hm, I can't make a macro like range![0, n) for half-open ranges, can i
[07:18:03] <benh> darn token trees
[07:19:31] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[07:19:37] *** Quits: tgummerer (tgummerer@moz-5DC8FA44.tbcn.telia.com) (Ping timeout)
[07:20:30] <cmr> benh: now that we've decided we don't mind a non-regular language, it *could* be allowed..
[07:20:39] <cmr> but for sanity, I don't think it will :p
[07:21:15] <benh> I suppose a syntax extension could go as far as range!( '[' expr, expr ')' ) but that loses some of the charm
[07:22:09] <jensnockert> benh: range!(0 .. n) vs. range!(0 ... n) is pretty ok.
[07:22:17] <jensnockert> Only solves 'half' the problem though.
[07:24:08] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[07:24:30] *** Joins: pnkfelix (pnkfelix@7AF98CCC.7F57627B.81A53753.IP)
[07:24:39] *** Quits: pnkfelix (pnkfelix@7AF98CCC.7F57627B.81A53753.IP) (Input/output error)
[07:27:27] *** Joins: schubidu25 (schubidu25@moz-FAE37203.superkabel.de)
[07:28:50] <benh> mhm, can't even do range!(| 0, 5 >) as a standin for [0, 5) because it parses as two thirds of a binary operator :(
[07:29:20] *** Quits: jeaye (Jeaye@moz-34FEF2BB.hsd1.ca.comcast.net) (Quit: zzz)
[07:29:20] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[07:29:41] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[07:32:14] *** Joins: fyolnish (fyolnish@moz-E6FB1BDA.uqwimax.jp)
[07:33:03] <benh> http://ix.io/8kwm meh!
[07:33:57] *** Quits: fyolnish (fyolnish@moz-E6FB1BDA.uqwimax.jp) (Ping timeout)
[07:34:18] *** Joins: tgummerer (tgummerer@51D3B54.FEF996EA.EA6FEF3D.IP)
[07:42:25] *** Joins: fyolnish (fyolnish@moz-E6FB1BDA.uqwimax.jp)
[07:43:11] *** Quits: alk (alk@moz-32A9FF6A.fbxo.proxad.net) (Ping timeout)
[07:44:08] *** Quits: fyolnish (fyolnish@moz-E6FB1BDA.uqwimax.jp) (Ping timeout)
[07:47:48] *** Quits: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net) (Quit: Leaving)
[07:50:28] *** Quits: sk (sk@61A494B3.BA40E8A.AAC02D62.IP) (Ping timeout)
[07:54:45] *** Joins: alon (alon@2D4907F1.66334A3F.AB64B967.IP)
[07:54:47] *** Quits: jensnockert (jensnocker@moz-605A9437.wireless.lu.se) (Input/output error)
[07:55:13] *** Joins: sk (sk@61A494B3.BA40E8A.AAC02D62.IP)
[07:58:37] *** flaper87|afk is now known as flaper87
[08:01:01] *** Joins: Ms2ger (Ms2ger@7AF98CCC.7F57627B.81A53753.IP)
[08:03:23] *** Joins: fabiand (fabiand@moz-C0180FF8.dip0.t-ipconnect.de)
[08:06:18] *** Quits: ross (ross@moz-5EA04060.br.br.cox.net) (Quit: )
[08:10:55] *** Quits: Ms2ger (Ms2ger@7AF98CCC.7F57627B.81A53753.IP) (Ping timeout)
[08:18:12] *** Parts: z0w0 (zack@64F0E14B.3C29B4A9.2CE63F58.IP) ()
[08:26:26] *** Joins: brendan (brendaneic@79611EE9.A51CB73B.6FBF6D51.IP)
[08:27:48] *** Joins: skade (skade@moz-CFC0E0FB.dip0.t-ipconnect.de)
[08:31:26] *** Quits: brendan (brendaneic@79611EE9.A51CB73B.6FBF6D51.IP) (Quit: brendan)
[08:33:18] *** Joins: CarpNet (ac@moz-FD24B77.sohonet.co.uk)
[08:35:39] <fmtq> error: type `&mut ~[Ballot]` does not implement any method in scope named `next` :<
[08:35:45] <fmtq> for ballot in self.ballots { 
[08:36:06] *** Joins: arodier74 (Thunderbir@moz-25EB015.in-addr.btopenworld.com)
[08:36:06] <fmtq> what am I doing wrong?
[08:36:45] <klutzy> ballots.iter()
[08:40:12] <alon> hi, can you tell me if this is a bug? the example breaks (error in the comment) and the inline comment explains how to unbreak it with a temporary: http://ur1.ca/ftykx
[08:40:21] *** Quits: Shaladdle (Shaladdle@moz-424BC304.hsd1.pa.comcast.net) (Client exited)
[08:40:48] <mcpherrin> alon: yeah it would be nice if that worked :)
[08:41:03] <alon> mcpherrin, is it known or shall I report it?
[08:41:07] *** Quits: skade (skade@moz-CFC0E0FB.dip0.t-ipconnect.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[08:41:10] <mcpherrin> well-known :)
[08:41:19] <alon> ok
[08:41:35] <alon> I was actually falling on another error, and this was the workaround.
[08:42:15] <alon> I'll try to post an example when I have one.
[08:42:44] *** Joins: z0w0 (zack@64F0E14B.3C29B4A9.2CE63F58.IP)
[08:42:46] *** Joins: fyolnish (fyolnish@moz-50C9F048.uqwimax.jp)
[08:43:08] *** Quits: Houm (Houm@moz-25669AA8.fbx.proxad.net) (Ping timeout)
[08:44:31] *** Quits: fyolnish (fyolnish@moz-50C9F048.uqwimax.jp) (Ping timeout)
[08:49:46] <fmtq> is there an index method implemented for vectors?
[08:50:04] *** Joins: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP)
[08:50:20] <mcpherrin> fmtq: Like a method that does v[i]?
[08:50:20] *** Quits: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP) (Connection reset by peer)
[08:50:32] *** Joins: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP)
[08:50:40] <fmtq> no, a method that returns the first index an instance can be found
[08:50:50] <fmtq> like indexOf in Java.
[08:53:16] <fmtq> seems like if I want that I should use extra::list
[08:53:55] <mcpherrin> the performance characteristics of a list and a vec are very different
[08:54:46] <fmtq> bad performance is better than no performance as the method doesn't seem to exist for vecs. :P
[08:55:30] <jason_> fmtq: its a pretty trivial loop to write, there is also .bsearch if your vec is sorted
[08:56:02] <fmtq> yes, linear search is trivial. It's just curious that such a thing would be missing from std.
[08:56:16] <mcpherrin> There's a "position" in Iterator
[08:56:56] <mcpherrin> rusti: let v=["a","b","c"]; v.iter().position(|c| c == "b")
[08:56:57] -rusti- <anon>:7:57: 7:60 error: mismatched types: expected `&&'static str` but found `&'static str` (expected &-ptr but found &'static str)
[08:56:57] -rusti- <anon>:7          let v=["a","b","c"]; v.iter().position(|c| c == "b")
[08:56:57] -rusti-                                                                   ^~~
[08:56:57] -rusti- error: aborting due to previous error
[08:56:57] -rusti- application terminated with error code 101
[08:57:09] *** Quits: jyasskin_w (jyasskin@DAF66858.C60FE7DC.4065847B.IP) (Ping timeout)
[08:57:20] <mcpherrin> rusti: let v=["a","b","c"]; v.iter().position(|c| *c == "b")
[08:57:20] -rusti- Some(1u)
[08:57:39] <mcpherrin> fmtq: ^
[08:58:10] <fmtq> rusti: let v=["a","b","b","c"]; v.iter().position(|c| *c == "b")
[08:58:11] -rusti- Some(1u)
[08:58:23] <fmtq> interdasting.
[08:59:43] *** Joins: BitPuffin (isak@moz-49828767.cust.tele2.se)
[09:01:14] <mcpherrin> And because it's in Iterator, it works anywhere iterators do, not just vectors
[09:01:37] *** flaper87 is now known as flaper87|afk
[09:01:44] *** Joins: brendan (brendaneic@79611EE9.A51CB73B.6FBF6D51.IP)
[09:01:44] *** Joins: nkoep (nik@moz-C928E424.pool.mediaways.net)
[09:04:07] *** Joins: lerc (quassel@B2E8CAD3.A8D14E52.788638A4.IP)
[09:04:13] *** Joins: skade (skade@moz-CFC0E0FB.dip0.t-ipconnect.de)
[09:05:00] *** Quits: skade (skade@moz-CFC0E0FB.dip0.t-ipconnect.de) (Quit: Textual IRC Client: www.textualapp.com)
[09:06:27] *** Quits: brendan (brendaneic@79611EE9.A51CB73B.6FBF6D51.IP) (Quit: brendan)
[09:07:16] *** flaper87|afk is now known as flaper87
[09:08:25] *** Joins: brendan (brendaneic@79611EE9.A51CB73B.6FBF6D51.IP)
[09:11:57] *** Joins: jyasskin_w (jyasskin@5CA6DC39.C60FE7DC.4065847B.IP)
[09:14:42] <alon> when I get an internal compiler error can I set some variable to see the line in my source that generated the error?
[09:14:58] <alon> (of course if I made a small change I can bisect it)
[09:15:59] <mcpherrin> Not in general.  An ICE is just when the compiler has fail!ed
[09:17:05] <alon> hmm
[09:17:49] <benh> rusti: 'A'u8
[09:17:49] -rusti- <anon>:7:12: 7:14 error: expected one of `; }` but found `u8`
[09:17:50] -rusti- <anon>:7          'A'u8
[09:17:50] -rusti-                      ^~
[09:17:50] -rusti- application terminated with error code 101
[09:17:52] <benh> :(
[09:18:25] <myname> i actually like `; }`
[09:18:37] <benh> It's going away!
[09:18:54] <benh> `;`, `}` reads a lot better imo
[09:19:12] <myname> but it's not that funny
[09:21:49] *** Quits: vodik (simon@moz-CBE4BB13.cable.teksavvy.com) (Ping timeout)
[09:25:48] *** Quits: nkoep (nik@moz-C928E424.pool.mediaways.net) (Ping timeout)
[09:29:22] <benh> I randomly found http://rosettacode.org/wiki/Vigen%C3%A8re_cipher#Rust and wantd to take a shot at updating it to current rust
[09:30:10] <benh> I got http://ix.io/8kz but I can't figure out how to avoid the .collect in the first function. Can I just return an iterator if I figure out the right type?
[09:31:17] *** Joins: jaen (jaen@40105561.6A94545C.43DC2829.IP)
[09:38:53] *** Quits: GeneralMaximus (ankur@8286DDB8.601E482C.BE90E62C.IP) (Ping timeout)
[09:40:19] *** Joins: nkoep (nik@moz-36385699.vpn.rwth-aachen.de)
[09:41:08] *** Quits: jaen (jaen@40105561.6A94545C.43DC2829.IP) (Ping timeout)
[09:41:28] *** Quits: BitPuffin (isak@moz-49828767.cust.tele2.se) (Ping timeout)
[09:43:06] *** Joins: fyolnish (fyolnish@moz-D7182DD4.uqwimax.jp)
[09:44:09] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[09:44:47] *** Quits: fyolnish (fyolnish@moz-D7182DD4.uqwimax.jp) (Ping timeout)
[09:45:57] *** Joins: GeneralMaximus (ankur@8286DDB8.601E482C.BE90E62C.IP)
[09:46:50] *** Quits: brendan (brendaneic@79611EE9.A51CB73B.6FBF6D51.IP) (Quit: brendan)
[09:50:34] *** Joins: brendan (brendaneic@79611EE9.A51CB73B.6FBF6D51.IP)
[09:53:35] *** Joins: maik (maik@moz-77FF6F9E.dip0.t-ipconnect.de)
[09:57:37] <alon> seems I just met https://github.com/mozilla/rust/issues/4780
[09:58:10] <alon> no idea how I ended up with whitespace unicode chars sprinkled in my source
[09:58:13] *** Quits: jyasskin_w (jyasskin@5CA6DC39.C60FE7DC.4065847B.IP) (Ping timeout)
[09:58:23] *** Joins: robertknight (robertknig@moz-54528EE0.wby.mendeley.com)
[09:58:32] *** Joins: jyasskin_w (jyasskin@DAF66858.C60FE7DC.4065847B.IP)
[10:00:03] *** Quits: brendan (brendaneic@79611EE9.A51CB73B.6FBF6D51.IP) (Quit: brendan)
[10:00:06] *** Quits: robertknight (robertknig@moz-54528EE0.wby.mendeley.com) (Ping timeout)
[10:03:11] <benh> alon: do you still have the file that causes the ICE?
[10:03:35] <benh> That issue is closed, so if it still happens we ought to investigate
[10:03:39] <alon> benh, yes, it's the previous git commit.
[10:04:04] <alon> benh, ok - I can fpaste it somewhere (assuming fpaste is utf-8 safe)
[10:04:16] <alon> or just push it somewhere, second.
[10:11:01] *** Joins: brendan (brendaneic@79611EE9.A51CB73B.6FBF6D51.IP)
[10:12:47] <alon> benh, I can't reproduce it now, weird. If I see it again I'll holler.
[10:13:08] <benh> ok :)
[10:13:28] <benh> thanks for trying!
[10:13:41] <benh> Always good to get more test cases and track down obscure(?) failure modes
[10:14:43] *** Quits: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl) (Client exited)
[10:18:01] *** Quits: maik (maik@moz-77FF6F9E.dip0.t-ipconnect.de) (Ping timeout)
[10:22:17] *** Quits: brendan (brendaneic@79611EE9.A51CB73B.6FBF6D51.IP) (Quit: brendan)
[10:25:59] *** Joins: brendan (brendaneic@79611EE9.A51CB73B.6FBF6D51.IP)
[10:27:40] *** Quits: brendan (brendaneic@79611EE9.A51CB73B.6FBF6D51.IP) (Ping timeout)
[10:28:36] *** Quits: victorporof (victorporo@35F65A40.E0F96B01.D111398B.IP) (Quit: victorporof)
[10:31:19] *** Joins: brendan (brendaneic@79611EE9.A51CB73B.6FBF6D51.IP)
[10:32:24] *** Quits: brendan (brendaneic@79611EE9.A51CB73B.6FBF6D51.IP) (Quit: brendan)
[10:34:25] *** Joins: diamond (Richard@moz-FEA87A60.ks.ks.cox.net)
[10:34:35] *** Joins: victorporof (victorporo@35F65A40.E0F96B01.D111398B.IP)
[10:34:40] *** Joins: brendan (brendaneic@79611EE9.A51CB73B.6FBF6D51.IP)
[10:40:55] *** Joins: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP)
[10:42:13] *** Joins: BizarreCake (BizarreCak@moz-361FE9B2.dynamic.barak-online.net)
[10:43:26] *** Joins: fyolnish (fyolnish@moz-4F231343.uqwimax.jp)
[10:44:43] *** jorendorff_away is now known as jorendorff
[10:45:09] *** Quits: fyolnish (fyolnish@moz-4F231343.uqwimax.jp) (Ping timeout)
[10:45:10] *** Joins: Earnestly (earnest@moz-BE290A2B.dyn.plus.net)
[10:45:28] *** Quits: tgummerer (tgummerer@51D3B54.FEF996EA.EA6FEF3D.IP) (Ping timeout)
[10:49:09] *** Parts: zokier` (zokier@moz-C4357EA7.kapsi.fi) ()
[10:54:04] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[10:54:47] *** AutomatedTester is now known as AutomatedTester|away
[10:58:42] *** Quits: timot (timot@moz-A6B9503D.cust.tele2.se) (Ping timeout)
[10:59:07] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[11:00:36] *** Joins: Ms2ger (Ms2ger@7AF98CCC.7F57627B.81A53753.IP)
[11:02:55] *** Quits: Ms2ger (Ms2ger@7AF98CCC.7F57627B.81A53753.IP) (Ping timeout)
[11:03:41] *** Joins: timot (timot@moz-645781E3.cust.tele2.se)
[11:08:14] <alon> nitpick - is +10.0 on purpose illegal? i.e. as a standalone constructor for an int.
[11:08:29] <alon> sorry, meant float
[11:09:03] *** Joins: Ms2ger (Ms2ger@7AF98CCC.7F57627B.81A53753.IP)
[11:10:45] *** Joins: donri (donri@moz-9BB61102.tbcn.telia.com)
[11:11:48] *** Joins: ozten (ozten@7AF98CCC.7F57627B.81A53753.IP)
[11:12:47] *** Joins: dew1 (Instantbir@moz-EEE6B2F8.dhcp.stls.mo.charter.com)
[11:12:58] *** Joins: skade (skade@moz-CFC0E0FB.dip0.t-ipconnect.de)
[11:13:18] *** Quits: Ms2ger (Ms2ger@7AF98CCC.7F57627B.81A53753.IP) (Ping timeout)
[11:13:35] *** Quits: dew (Instantbir@moz-EEE6B2F8.dhcp.stls.mo.charter.com) (Ping timeout)
[11:15:26] *** flaper87 is now known as flaper87|afk
[11:16:16] *** Joins: brson (brson@72B1AFF8.AD1E507F.3688B332.IP)
[11:16:16] *** ChanServ sets mode: +ao brson brson
[11:17:17] *** Joins: pnkfelix (pnkfelix@7AF98CCC.7F57627B.81A53753.IP)
[11:17:25] *** Quits: brendan (brendaneic@79611EE9.A51CB73B.6FBF6D51.IP) (Ping timeout)
[11:19:01] *** Joins: Ms2ger (Ms2ger@7AF98CCC.7F57627B.81A53753.IP)
[11:20:26] *** Joins: vodik (simon@moz-CBE4BB13.cable.teksavvy.com)
[11:23:44] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Quit: yichoi)
[11:23:56] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[11:28:31] *** Quits: Ms2ger (Ms2ger@7AF98CCC.7F57627B.81A53753.IP) (Ping timeout)
[11:29:42] *** Joins: Ms2ger (Ms2ger@7AF98CCC.7F57627B.81A53753.IP)
[11:32:15] *** Quits: schubidu25 (schubidu25@moz-FAE37203.superkabel.de) (Client exited)
[11:35:42] *** Quits: fabiand (fabiand@moz-C0180FF8.dip0.t-ipconnect.de) (Quit: Verlassend)
[11:36:47] *** Quits: Liothen (liothen@moz-266BCA86.spkn.qwest.net) (Quit: Textual IRC Client: www.textualapp.com)
[11:38:36] *** Joins: nrc (nrc@3496663E.C1499D0.396E4C6D.IP)
[11:40:27] *** Quits: skade (skade@moz-CFC0E0FB.dip0.t-ipconnect.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[11:40:48] *** Joins: canhtak (jeremy@moz-7FADA491.wl.t.ulaval.ca)
[11:41:29] *** Quits: Serow225 (Mibbit@moz-82D7696B.hsd1.mn.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[11:43:24] *** Quits: canhtak (jeremy@moz-7FADA491.wl.t.ulaval.ca) (Ping timeout)
[11:43:46] *** Joins: fyolnish (fyolnish@moz-531015CA.uqwimax.jp)
[11:44:17] *** Quits: Ms2ger (Ms2ger@7AF98CCC.7F57627B.81A53753.IP) (Ping timeout)
[11:45:29] *** Quits: fyolnish (fyolnish@moz-531015CA.uqwimax.jp) (Ping timeout)
[11:46:55] *** Joins: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net)
[11:51:12] *** Joins: skade (skade@moz-CFC0E0FB.dip0.t-ipconnect.de)
[11:51:49] *** Joins: leef (Mibbit@2150FE7A.158EC398.CA714C5.IP)
[11:53:26] *** Joins: fyolnish (fyolnish@moz-531015CA.uqwimax.jp)
[11:55:14] *** Joins: canhtak (jeremy@moz-7FADA491.wl.t.ulaval.ca)
[11:57:18] *** Joins: timot_ (timot@moz-2204DF10.cust.tele2.se)
[11:57:55] *** Quits: timot (timot@moz-645781E3.cust.tele2.se) (Ping timeout)
[12:00:29] *** flaper87|afk is now known as flaper87
[12:04:04] *** AutomatedTester|away is now known as AutomatedTester
[12:05:40] *** Joins: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net)
[12:07:49] *** Joins: BitPuffin (isak@moz-49828767.cust.tele2.se)
[12:08:04] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[12:11:29] *** Quits: nrc (nrc@3496663E.C1499D0.396E4C6D.IP) (Ping timeout)
[12:12:22] *** Joins: Blub\w (wry@7E3BB9D.71150E1A.237AE2BA.IP)
[12:13:58] <alon> I was slightly confused by the error message when I forgot to place an initial "self&" argument in a new trait function.
[12:14:17] <alon> I guess it's allowed and those methods end up static?
[12:14:26] <alon> I mean, class methods, or trait methods I guess.
[12:15:25] <pnkfelix> alon: Yeah, that's right
[12:17:30] *** Joins: Ms2ger (Ms2ger@7AF98CCC.7F57627B.81A53753.IP)
[12:17:35] *** Quits: Guest (textual@34641662.FB4DE631.66C78B76.IP) (Quit: Textual IRC Client: www.textualapp.com)
[12:17:50] *** Joins: Guest (textual@34641662.FB4DE631.66C78B76.IP)
[12:21:31] <alon> is there a way to avoid complaints about unused variables? i.e. prefixing underscore doesn't work.
[12:21:49] <Ms2ger> There's a [#] thing
[12:21:52] <doomlord_> isn't it single underscore to make it ignored
[12:22:28] <alon> strike that, it actually works.
[12:22:34] *** Quits: nkoep (nik@moz-36385699.vpn.rwth-aachen.de) (Ping timeout)
[12:22:39] <alon> I was confused by a similar warning on a different line.
[12:24:03] *** Quits: pnkfelix (pnkfelix@7AF98CCC.7F57627B.81A53753.IP) (Quit: Leaving.)
[12:24:40] *** Quits: Ms2ger (Ms2ger@7AF98CCC.7F57627B.81A53753.IP) (Ping timeout)
[12:26:08] <alon> benh, https://www.gitorious.org/ocolus-juggling/kiss3d/commit/ffc9fd874ca0767f0a44563c57946182544a2c2a
[12:26:22] <alon> this produces the ICE I mentioned.
[12:26:29] *** Joins: dbaupp (Thunderbir@moz-B03A1B7A.pa.nsw.optusnet.com.au)
[12:26:46] <alon> it's a bit of a large work to compile, sorry - git submodule init && git submodule update && make deps && make
[12:27:08] <alon> and it needs multiple dependencies. but the crux is the multibyte chars in camera/camera.rs
[12:27:33] <alon> sorry, in src/window.rs
[12:27:41] <alon> see via iconv --to ascii src/window.rs
[12:29:14] *** Joins: xandy (xandy@moz-12478316.unity-media.net)
[12:30:55] *** Joins: tgummerer (tgummerer@moz-1B9B6CC7.kthopen.kth.se)
[12:31:03] *** Joins: Ms2ger (Ms2ger@7AF98CCC.7F57627B.81A53753.IP)
[12:33:44] <benh> oh no, it doesn't build with rust from master anymore :(
[12:34:14] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[12:34:53] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[12:35:31] *** Joins: simon (simon@moz-CBE4BB13.cable.teksavvy.com)
[12:36:03] *** Quits: vodik (simon@moz-CBE4BB13.cable.teksavvy.com) (Ping timeout)
[12:36:44] <benh> tried patching glfw-rs and now i get an ICE in that :(
[12:37:20] <bjz> benh: https://github.com/mozilla/rust/issues/9692 ?
[12:38:06] <benh> Looks like it
[12:38:10] <bjz> :(
[12:38:27] <bjz> ohwait
[12:38:38] <bjz> twas fixed?
[12:38:42] *** Joins: tiffany (kawaii@moz-28A8742A.dhcp.embarqhsd.net)
[12:39:12] <benh> Might not have built master since then
[12:39:16] <alon> benh, hmm, I'm not running latest... sorry
[12:39:20] <alon> I'll test with latest.
[12:39:23] <alon> or did you just use master?
[12:39:28] <alon> I'm running 0.8
[12:39:32] <benh> I'm usually using master
[12:39:41] <benh> I'm building a 0.8 rustc and will get back to that :)
[12:39:55] <bjz> me too
[12:40:01] <alon> but is that interesting? it's only important if it reproduces with master, no?
[12:40:12] <bjz> I'm building the latest master
[12:40:26] <bjz> https://github.com/mozilla/rust/issues/9692#issuecomment-25674423
[12:40:33] <benh> alon: It'd be a start to reproduce it
[12:40:38] <bjz> apparently it was fixed
[12:40:40] <alon> anyway, workaround is just to remove all those chars, that I don't care about anyway, so I'm ok.
[12:40:50] <benh> maybe I can poke around at it enough to isolate another example that works on master :)
[12:40:52] *** Joins: valenting (Thunderbir@7AF98CCC.7F57627B.81A53753.IP)
[12:41:03] *** Joins: nkoep (nik@moz-C928E424.pool.mediaways.net)
[12:41:26] *** Quits: brson (brson@72B1AFF8.AD1E507F.3688B332.IP) (Ping timeout)
[12:41:37] <benh> Does anyone know what I need to generate pdfs from the tutorial/manual and what the make target is?
[12:43:40] <dbaupp> benh: `make docs` should generate doc/rust.pdf if you have latex installed
[12:43:44] *** Quits: xandy (xandy@moz-12478316.unity-media.net) (Connection reset by peer)
[12:44:49] <benh> I have a bunch of things with tex in the name installed, but apparently not xetex
[12:44:57] *** Ms2ger is now known as Ms2ger|300
[12:45:47] <dbaupp> I think it's using `pdflatex`
[12:46:02] <dbaupp> yeah
[12:46:07] *** Joins: pnkfelix (pnkfelix@7AF98CCC.7F57627B.81A53753.IP)
[12:46:15] <benh> yeah, i should have that
[12:46:26] *** Joins: brson (brson@72B1AFF8.AD1E507F.3688B332.IP)
[12:46:27] *** ChanServ sets mode: +ao brson brson
[12:46:28] <benh> $ pandoc ../doc/rust.md -o foo.pdf
[12:46:28] <benh> pandoc: Error producing PDF from TeX source.
[12:46:29] <benh> ! Package inputenc Error: Unicode char \u8:☃ not set up for use with LaTeX.
[12:46:29] <benh> :(
[12:46:40] <bstrie> so I'm at the mozilla summit, but I have no idea who anybody is!
[12:46:52] <bstrie> hmmm
[12:47:04] <bstrie> gotta find some rust folks
[12:47:40] <dbaupp> benh: hah! that's what you need xe[la]tex for :P
[12:47:45] *** Quits: pnkfelix (pnkfelix@7AF98CCC.7F57627B.81A53753.IP) (Quit: Leaving.)
[12:47:56] <benh> Is xetex what they call it when latex supports unicode?
[12:48:00] <dbaupp> bstrie: I'm happy to hang out with you
[12:48:10] <dbaupp> ... if you get me a plane ticket :(
[12:48:35] <dbaupp> benh: it's the/a version of latex that handles unicode and fonts better, yeah
[12:48:38] <bstrie> dbaupp: all I have is this ticket for a cross-continent water buffalo ride
[12:48:46] <bstrie> are you still up for it?
[12:48:51] <benh> ok, going to see how that works :)
[12:48:58] <dbaupp> bstrie: sounds good!
[12:49:08] <benh> I think I'm fairly close to the corner of germany that's furthest from any mozilla representation
[12:49:10] <bstrie> ok see you here next month
[12:49:32] <dbaupp> bstrie: keep the summit going for me!
[12:50:02] * dbaupp thought of a new rust-user name: cRustacean
[12:50:28] <bstrie> at least I'll be able to find jack at 11:00
[12:50:54] <benh> Do they have any red pandas at mozilla summits? :))
[12:51:57] <brson> bstrie: which location are you at?
[12:52:33] <brson> bstrie: pretty much talk to anybody though and it'll be interesting. everybody is friendly
[12:54:18] <brson> bstrie: oh, there are tons of people in toronto! jack, strcat, tjc and graydon are there
[12:55:43] <brson> find tjc and help give out stickers
[12:57:08] *** Quits: dbaupp (Thunderbir@moz-B03A1B7A.pa.nsw.optusnet.com.au) (Ping timeout)
[12:58:57] *** flaper87 is now known as flaper87|afk
[12:59:10] *** Joins: jacket (Mibbit@24F9D57A.9B79A0FB.24DF285D.IP)
[12:59:25] <jacket> Hi everybody
[13:02:36] *** Quits: brson (brson@72B1AFF8.AD1E507F.3688B332.IP) (Ping timeout)
[13:02:50] *** Joins: Munra (cseebt2011@6C0CB4D6.B630A05A.3299D537.IP)
[13:02:56] *** Parts: Munra (cseebt2011@6C0CB4D6.B630A05A.3299D537.IP) (4,01Cebolinha12v9.54 12www.cajau.com)
[13:03:57] *** Joins: Brazilian_Woman (cseebt2011@6C0CB4D6.B630A05A.3299D537.IP)
[13:04:01] <Brazilian_Woman> Hi im from BRAZIL and i need one friend add me in Skype: jujusmmi
[13:04:39] <elly> morning #rust
[13:04:44] *** Quits: leef (Mibbit@2150FE7A.158EC398.CA714C5.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[13:05:31] *** Quits: Brazilian_Woman (cseebt2011@6C0CB4D6.B630A05A.3299D537.IP) (Quit: 4,05 It is. Are you? 4,01Cebolinha12v9.54 12www.cajau.com)
[13:05:34] *** Joins: sw17ch (sw17ch@moz-39D8564F.wndsny.tds.net)
[13:08:02] <jacket> Morning elly
[13:10:50] <jacket> i can't find rust equivalent of sockets, do you know there is something similar implemented?
[13:11:04] *** Joins: lfox (larryfox@moz-343B6F0C.nyc.biz.rr.com)
[13:11:17] *** Joins: pepper_chico (pepper_chi@moz-9A2FC724.dsl.telesp.net.br)
[13:12:32] *** Joins: Heo__ (Heo@13864F63.2DD6919B.56C9C5CA.IP)
[13:13:04] *** Quits: lfox (larryfox@moz-343B6F0C.nyc.biz.rr.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[13:13:29] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[13:14:01] *** Quits: skade (skade@moz-CFC0E0FB.dip0.t-ipconnect.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[13:14:03] *** Quits: BitPuffin (isak@moz-49828767.cust.tele2.se) (Ping timeout)
[13:15:07] *** Quits: pepper_chico (pepper_chi@moz-9A2FC724.dsl.telesp.net.br) (Quit: Ex-Chat)
[13:15:39] *** Joins: Scriptor (historium@moz-E06F46F0.corp.bitshelter.com)
[13:17:13] *** Parts: jacket (Mibbit@24F9D57A.9B79A0FB.24DF285D.IP) ()
[13:17:17] *** Joins: jacket (Mibbit@24F9D57A.9B79A0FB.24DF285D.IP)
[13:17:42] *** Parts: jacket (Mibbit@24F9D57A.9B79A0FB.24DF285D.IP) ()
[13:18:17] *** Quits: valenting (Thunderbir@7AF98CCC.7F57627B.81A53753.IP) (Ping timeout)
[13:18:31] *** Quits: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[13:18:43] *** Joins: maik (maik@moz-8782792E.dip0.t-ipconnect.de)
[13:20:31] *** Quits: alon (alon@2D4907F1.66334A3F.AB64B967.IP) (Ping timeout)
[13:25:28] *** Joins: alon (alon@2D4907F1.66334A3F.AB64B967.IP)
[13:27:06] *** Joins: valenting (Thunderbir@7AF98CCC.7F57627B.81A53753.IP)
[13:29:38] *** Quits: nkoep (nik@moz-C928E424.pool.mediaways.net) (Ping timeout)
[13:30:20] *** flaper87|afk is now known as flaper87
[13:30:26] *** Joins: fabiand (fabiand@moz-4D3258AC.dip0.t-ipconnect.de)
[13:32:12] *** Joins: brendan (brendaneic@79611EE9.A51CB73B.6FBF6D51.IP)
[13:32:47] *** Joins: mib_cnn7s2 (Mibbit@moz-FCF1ABDB.icpnet.pl)
[13:34:26] *** Joins: lfox (larryfox@moz-343B6F0C.nyc.biz.rr.com)
[13:35:17] *** Joins: noam (noam@F6B530A7.720527A7.416762B.IP)
[13:37:11] *** Joins: BitPuffin (isak@moz-49828767.cust.tele2.se)
[13:40:50] *** Joins: brson (brson@72B1AFF8.AD1E507F.3688B332.IP)
[13:40:50] *** ChanServ sets mode: +ao brson brson
[13:42:14] <benh> rusti: println("\xae");
[13:42:34] *** Joins: cubic (cubic@moz-FE5AD6C7.mc.videotron.ca)
[13:42:40] <benh> rusti? :(
[13:43:01] *** Joins: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP)
[13:43:08] *** Joins: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[13:43:09] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[13:43:37] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[13:44:01] *** Quits: brendan (brendaneic@79611EE9.A51CB73B.6FBF6D51.IP) (Ping timeout)
[13:44:11] *** Joins: nkoep (nik@moz-D359F3B0.vpn.rwth-aachen.de)
[13:45:17] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[13:45:19] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Ping timeout)
[13:46:41] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[13:48:37] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: Textual IRC Client: www.textualapp.com)
[13:48:38] *** Quits: simon (simon@moz-CBE4BB13.cable.teksavvy.com) (Ping timeout)
[13:51:20] *** Joins: msingle (Thunderbir@moz-930E5D97.hr.hr.cox.net)
[13:56:04] *** Quits: valenting (Thunderbir@7AF98CCC.7F57627B.81A53753.IP) (Ping timeout)
[13:57:47] *** Quits: GeneralMaximus (ankur@8286DDB8.601E482C.BE90E62C.IP) (Ping timeout)
[13:58:26] *** Quits: tgummerer (tgummerer@moz-1B9B6CC7.kthopen.kth.se) (Ping timeout)
[13:59:35] *** Joins: valenting (Thunderbir@7AF98CCC.7F57627B.81A53753.IP)
[13:59:45] *** Quits: maik (maik@moz-8782792E.dip0.t-ipconnect.de) (Ping timeout)
[14:01:21] *** Joins: GeneralMaximus (ankur@F98B714A.9700A370.D5D59AD9.IP)
[14:02:05] *** Quits: valenting (Thunderbir@7AF98CCC.7F57627B.81A53753.IP) (Ping timeout)
[14:02:58] *** jorendorff is now known as jorendorff_away
[14:03:13] *** Ms2ger|300 is now known as Ms2ger|gold
[14:04:54] *** Quits: Ms2ger|gold (Ms2ger@7AF98CCC.7F57627B.81A53753.IP) (Ping timeout)
[14:04:54] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Quit: WeeChat 0.4.1)
[14:05:06] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[14:05:32] *** Joins: maik (maik@moz-8782792E.dip0.t-ipconnect.de)
[14:09:11] *** Joins: rust_noob (Mibbit@moz-3112320B.graz.surfer.at)
[14:09:36] *** Quits: fabiand (fabiand@moz-4D3258AC.dip0.t-ipconnect.de) (Ping timeout)
[14:10:03] <rust_noob> hey! I just tested the gen_integer_range() example of http://static.rust-lang.org/doc/master/std/rand/trait.Rng.html, but it throws an error! so what's wrong with it?
[14:10:38] <rust_noob> (I'm using the latest rust head)
[14:12:15] *** Quits: BizarreCake (BizarreCak@moz-361FE9B2.dynamic.barak-online.net) (Ping timeout)
[14:12:50] *** Joins: Cromulent (Cromulent@moz-983B638D.cable.virginmedia.com)
[14:13:15] *** Joins: tgummerer (tgummerer@moz-1B9B6CC7.kthopen.kth.se)
[14:14:28] *** Quits: ozten (ozten@7AF98CCC.7F57627B.81A53753.IP) (Quit: ozten)
[14:14:59] *** jorendorff_away is now known as jorendorff
[14:15:08] <luisbg> acrichto, ping
[14:17:33] *** Quits: maik (maik@moz-8782792E.dip0.t-ipconnect.de) (Ping timeout)
[14:17:53] *** Quits: Cromulent (Cromulent@moz-983B638D.cable.virginmedia.com) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[14:17:55] *** Joins: clusterfoo (computer@moz-A81F9872.cable.teksavvy.com)
[14:19:04] <ChrisMorgan> Sigh, dbaupp isn't here when I finally finish writing http://chrismorgan.info/blog/github-links-case-study.html (https://news.ycombinator.com/item?id=6495343)... I even included a reference to rust-http in it!
[14:20:24] *** Quits: paulproteus (quassel@rose.makesad.us) (Ping timeout)
[14:20:24] *** Quits: tgummerer (tgummerer@moz-1B9B6CC7.kthopen.kth.se) (Ping timeout)
[14:21:26] *** Joins: paulproteus (quassel@moz-E86A3B42.makesad.us)
[14:21:58] *** Joins: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net)
[14:24:13] *** Quits: brson (brson@72B1AFF8.AD1E507F.3688B332.IP) (Ping timeout)
[14:24:14] *** Quits: mib_cnn7s2 (Mibbit@moz-FCF1ABDB.icpnet.pl) (Quit: http://www.mibbit.com ajax IRC Client)
[14:24:31] *** Joins: hjr3 (hradtke@1A0AE795.28A5F6C3.A2D40ED2.IP)
[14:27:15] *** Joins: pnkfelix (pnkfelix@7AF98CCC.7F57627B.81A53753.IP)
[14:27:56] *** Joins: fabiand (fabiand@moz-4542A75A.dip0.t-ipconnect.de)
[14:30:22] *** flaper87 is now known as flaper87|afk
[14:30:22] *** Quits: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net) (Quit: jmgrosen)
[14:31:19] *** Quits: fabiand (fabiand@moz-4542A75A.dip0.t-ipconnect.de) (Ping timeout)
[14:31:39] *** Joins: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net)
[14:34:16] <luisbg> ChrisMorgan, reading
[14:34:30] *** Quits: pnkfelix (pnkfelix@7AF98CCC.7F57627B.81A53753.IP) (Quit: Leaving.)
[14:34:50] *** zz_kimundi is now known as kimundi
[14:37:03] *** Joins: ozten (ozten@7AF98CCC.7F57627B.81A53753.IP)
[14:37:22] *** jorendorff is now known as jorendorff_away
[14:37:48] *** Quits: ozten (ozten@7AF98CCC.7F57627B.81A53753.IP) (Quit: ozten)
[14:38:03] *** flaper87|afk is now known as flaper87
[14:38:35] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[14:38:45] *** Joins: mib_v2tbr0 (Mibbit@1A165CA0.13E9D2A1.57DA49D3.IP)
[14:39:05] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[14:39:06] *** Quits: mib_v2tbr0 (Mibbit@1A165CA0.13E9D2A1.57DA49D3.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[14:40:42] <luisbg> ChrisMorgan, :) cool article
[14:40:45] <luisbg> kimundi, ping
[14:40:52] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Ping timeout)
[14:42:25] *** Joins: Cromulent (Cromulent@moz-983B638D.cable.virginmedia.com)
[14:42:39] <ChrisMorgan> luisbg: thanks
[14:42:50] <luisbg> ChrisMorgan, that relink page you've made is amazing
[14:43:06] <ChrisMorgan> luisbg: the page or the product?
[14:43:11] <luisbg> the product
[14:43:16] <luisbg> the idea
[14:43:33] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[14:44:13] <kimundi> luisbg: pong?
[14:44:29] <luisbg> kimundi, maybe you can help me with this one...
[14:44:33] <luisbg> https://github.com/luisbg/rust/commit/a0c59941e3f6cca0ff1505c4ed431ac7327cc66a
[14:44:41] *** Joins: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[14:45:05] <luisbg> what would be the best/recommended way to keep track of the day of the week being set or not
[14:45:06] <luisbg> oooh wait
[14:45:08] <luisbg> wrong link
[14:45:22] <ChrisMorgan> luisbg: oh, good; that one has grated on me for ages but never quite enough to fix it myself.
[14:45:49] <luisbg> kimundi, hackish temporarily patch is here https://github.com/luisbg/rust/commit/5ffd415529623cec80700c2741d0c896c5253c65
[14:45:57] <luisbg> explanation is here: https://github.com/mozilla/rust/pull/9707#issuecomment-25664739
[14:46:10] <luisbg> ChrisMorgan, cool
[14:46:25] *** Quits: rust_noob (Mibbit@moz-3112320B.graz.surfer.at) (Quit: http://www.mibbit.com ajax IRC Client)
[14:46:35] <fmtq> so does rust have a date module yet?
[14:47:23] *** jorendorff_away is now known as jorendorff
[14:47:32] *** Joins: Houm (Houm@moz-25669AA8.fbx.proxad.net)
[14:48:16] <kimundi> luisbg: Hm, this is a bit hard to understand without more context. WHat exactly is your question?
[14:48:37] <luisbg> kimundi, let me give you the context, sorry
[14:48:47] <kimundi> no problem :)
[14:49:09] <luisbg> kimundi, strptime is a function where you set the date of the tm object, by giving it a string
[14:49:11] <kimundi> (I'm generally slow with understanding things)
[14:49:16] <fmtq> mm https://github.com/mozilla/rust/wiki/Lib-datetime
[14:49:19] <kimundi> okay
[14:49:26] <luisbg> so you can give it something like 2013-10-03 15:35:45
[14:49:34] <kimundi> yes
[14:49:36] <luisbg> and then with the %x %y %z, explain how the format works
[14:49:56] <luisbg> so %W is week of the year, currently we are in week 40
[14:50:02] <kimundi> so you pass data, and format of the data, alright
[14:50:15] <luisbg> the idea of supporting %W is, if somebody gives you
[14:50:25] <luisbg> 2013 40 5
[14:50:31] <luisbg> being year, week, week day
[14:50:44] <luisbg> you can calculate the month and day of the month from that
[14:50:49] <kimundi> yes
[14:51:05] <luisbg> but to do so you need to know that day of the week has been set
[14:51:25] <luisbg> or you don't have enough information
[14:51:44] *** Quits: victorporof (victorporo@35F65A40.E0F96B01.D111398B.IP) (Quit: victorporof)
[14:52:17] <luisbg> so I initially wrote a boolean that kept track of it, but the way strptime works, it runs a parse_type function inside strptime for each character
[14:52:40] <luisbg> the boolean had to be outside, and using a closer or passing it for every character... looked wrong
[14:53:07] <luisbg> because it would be changing it to closure, or passing a new parameter... just for one of the characters
[14:53:39] <luisbg> so my hackish way to fix this was to init the day of the week to a number out of range... 7 (it is 0-6)
[14:53:46] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[14:54:14] <luisbg> but it feels hackish, so wanted some opinion before I write the final patch with unit tests
[14:54:29] <luisbg> I wonder what the Rust experts would do in this case
[14:54:44] <cmr> Option
[14:55:08] <luisbg> cmr, hi!
[14:55:22] <cmr> I actually have to run, so I can't add any more than that :)
[14:55:32] <kimundi> luisbg: hm, is the set of format specifiers hardcoded, and can every format specifier appear only once in a format string?
[14:56:18] <luisbg> kimundi, not sure what you mean with hardcoded, and no, a format string can appear multiple times
[14:56:35] <luisbg> it runs through the string looking for characters, and serially parses each one of them
[14:56:38] <kimundi> So %W %W would be correct?
[14:56:48] <luisbg> as far as I know there is no correction for using the same twice
[14:57:04] <kimundi> What would it do if you pss it 40 23 then?
[14:57:37] <luisbg>  while !rdr.eof() && pos < len {
[14:57:37] <luisbg> ...
[14:57:43] <luisbg> match rdr.read_char()
[14:57:57] <luisbg> looks serially to me
[14:58:24] <luisbg> it would overwrite the value written by the 40, by the one written by the 23
[14:59:03] *** Joins: rust_noob (Mibbit@moz-3112320B.graz.surfer.at)
[14:59:08] *** Quits: rust_noob (Mibbit@moz-3112320B.graz.surfer.at) (Quit: rust_noob)
[14:59:10] <luisbg> if you are trying to see if it already has a way of tracking what has been set, I don't see any
[14:59:34] <luisbg> you can see this in src/libextra/time.rs:700
[14:59:37] <kimundi> It seems to me from a standpoint of not having read the code in depth yet, that each format sepcifier should appear only once, and only a subset of them is needed each time. In that case, you could just do the parsign in two steps: 1. walk through the string, and set an initial None variable for each format  specifier to Some(value) if it get's discovered. Then, as a second step, have a long match statement or a if else chaing that constru
[14:59:38] <kimundi> cts the most fiting date value based on which local variables are set to Some
[14:59:38] *** Quits: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[14:59:46] *** Quits: msingle (Thunderbir@moz-930E5D97.hr.hr.cox.net) (Ping timeout)
[15:00:30] <kimundi> The4 same procedure could also be used to either error, ignore, or overwrite with multible occurences of the same format specifier
[15:00:39] <luisbg> kimundi, this would imply rearchitecting how strptime works
[15:00:53] *** Joins: nano (nano@moz-74CAD1CA.superkabel.de)
[15:00:58] <kimundi> WHich implies I have to actually read more of it to see why that is the case :)
[15:01:13] <luisbg> kimundi, :)
[15:01:17] *** Quits: nsf (nsf@moz-EEF3238A.convex.ru) (Quit: WeeChat 0.4.1)
[15:01:21] *** Joins: msingle (Thunderbir@moz-930E5D97.hr.hr.cox.net)
[15:01:31] *** Joins: avsej (avsej@DF1824D5.EFF97412.48F984E6.IP)
[15:02:06] *** Quits: barosl (barosl@3DE683B6.E551553C.7544CABF.IP) (Quit: 랜덤은 쇠퇴했습니다.)
[15:02:56] <luisbg> kimundi, I know what you are thinking though
[15:03:34] <luisbg> that two parsing steps method would also fix the problem of
[15:03:58] <luisbg> having the week number given before than the week day
[15:04:08] <kimundi> yeah
[15:04:36] <luisbg> the question is, should I spend time rewriting how this parsing works to cover these two corner use cases?
[15:04:52] <luisbg> if it would be appreciated, I would do it :)
[15:04:55] <kimundi> Better code is always better
[15:05:18] <kimundi> If I'd be the one to do this, I'd change it ;)
[15:05:22] <luisbg> kimundi, yes, I understand. I just like getting some kind of approval of this going through review, before investing the time on it :)
[15:05:32] <kimundi> sure
[15:06:07] <avsej> hi guys. is it possible to destructure vector with grouping some bytes? I'm looking for easy way to parse protocol header, its length is constant, but it would be nice to capture byte groups into variable of the appropriate size in pattern matching
[15:06:12] <avsej> is that possible?
[15:06:13] <luisbg> kimundi, in the future I should open an issue, express my idea, get some feedback and then go for it
[15:06:35] <luisbg> kimundi, (your idea in this case)
[15:06:39] <luisbg> kimundi, thanks!
[15:07:02] <kimundi> no problem, though I'm not sure what I helped with in the end xD
[15:07:17] <kimundi> avsej: You can match in slices
[15:07:17] <luisbg> kimundi, heh
[15:07:55] <kimundi> match [1,2,3,4] { [1,2 .. x] => ..., y => ... }
[15:08:05] <kimundi> on slices*
[15:08:36] <kimundi> can match on arbitrary pre-and suffixes, bind elemnts and the remaining slice to it
[15:09:14] <kimundi> [a, b .. middle, z] => ...
[15:09:21] <avsej> wow
[15:09:23] *** Joins: mr_wibble (Mibbit@moz-FD9A8D70.tvc-ip.com)
[15:09:28] <kimundi> (the .. syntax might be off, don't rember it exactly)
[15:09:42] <avsej> and the a, middle, z all variables?
[15:09:46] <kimundi> yes
[15:09:55] <avsej> okay i will try
[15:10:31] <kimundi> match [1, 2, 3, 4, 5] { [a, b .. middle, z] => // a == 1, b == 2, middle == &[3, 4], z == 5
[15:12:35] *** Joins: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net)
[15:13:31] <avsej> can i specify length of slice somehow? or do several slices?
[15:18:15] *** Joins: nejucomo (Adium@moz-434492BB.dsl.static.sonic.net)
[15:19:37] *** Quits: alon (alon@2D4907F1.66334A3F.AB64B967.IP) (Ping timeout)
[15:20:32] *** Joins: jordyd (jordyd@moz-AA85309.seg46.ucf.edu)
[15:21:46] *** Quits: timot_ (timot@moz-2204DF10.cust.tele2.se) (Quit: Konversation terminated!)
[15:22:11] *** Joins: timot_ (timot@moz-2204DF10.cust.tele2.se)
[15:22:32] *** Quits: timot_ (timot@moz-2204DF10.cust.tele2.se) (Connection reset by peer)
[15:22:40] *** Joins: timot_ (timot@moz-2204DF10.cust.tele2.se)
[15:23:52] *** Joins: rust-noob (Mibbit@moz-3112320B.graz.surfer.at)
[15:23:58] *** Quits: timot_ (timot@moz-2204DF10.cust.tele2.se) (Quit: Konversation terminated!)
[15:24:26] *** Joins: timot_ (timot@moz-2204DF10.cust.tele2.se)
[15:24:37] <rust-noob> heyo! I've got a very basic question: how do I terminate a program befre it reaches it's end, something like exit(status: int)
[15:24:45] <avsej> looks like no, and in your example b doesn't look like allowed
[15:25:26] *** Joins: timot (timot@moz-9EF21B1.cust.tele2.se)
[15:25:55] <rust-noob> *before
[15:26:02] *** Joins: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net)
[15:26:28] <avsej> libc::exit(0);
[15:26:38] *** Quits: timot_ (timot@moz-2204DF10.cust.tele2.se) (Ping timeout)
[15:27:30] <engla> rust-noob: you should not call exit
[15:28:14] <rust-noob> what shuld I use instead?
[15:28:31] *** Joins: pepper_chico (pepper_chi@moz-9A2FC724.dsl.telesp.net.br)
[15:28:38] <ChrisMorgan> rust-noob: would fail! be appropriate?
[15:29:35] <avsej> this is what i've find in the git: https://github.com/brson/rust/commit/6d03897376f8737e28a93693f90bd651e9d08e92#diff-c077aad0b5443f6cbf1a843a60f794f7R396
[15:29:49] <avsej> at least it allow to pass custom exit code to OS
[15:30:08] <rust-noob> nope, I would like to just stop the whole program early, because it doesn't fail, it has just finished it's job ;)
[15:30:37] <rust-noob> It's a simple number guessing game and if the user finds the number the program should terminate with exit status 0!
[15:30:59] <avsej> probably just use return from main?
[15:31:26] *** Quits: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[15:32:04] <rust-noob> that doesn't work here, I'll show you my code!
[15:32:09] *** Joins: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net)
[15:32:36] <rust-noob> https://gist.github.com/flo-l/16d477f76d19e5a179dd
[15:33:03] <avsej> kimundi, in your last example you set b, but on 0.8 at least it doesn't allow to supply a variable there
[15:33:31] *** Joins: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net)
[15:34:09] <kimundi> avsej: My syntax might be off, but it should allow that
[15:34:19] <kimundi> maybe [a, b, ...]
[15:34:38] <kimundi> or [a, b, c.., d]
[15:34:39] <rust-noob> it's a line 22 ;)
[15:34:41] <kimundi> or [a, b, c.. d]
[15:34:52] *** Quits: nano (nano@moz-74CAD1CA.superkabel.de) (Connection reset by peer)
[15:35:12] <avsej> it works like this:         [1, .. a, b, c] => println!("a={:?}, b={:?}, c={:?}", a, b, c),
[15:35:23] <avsej> but allows only one slice there
[15:35:26] <rust-noob> *at
[15:35:38] <kimundi> avsej: yes, only one slice
[15:35:48] <kimundi> avsej: It couldn't know how to allow more than one slice
[15:36:10] <avsej> i thought there is a syntax, when i can specify length of the slice
[15:36:12] <kimundi> rust-noob: There real solution here is to switch from times to range, andf use break
[15:36:36] <rust-noob> ah ok, thanks!
[15:36:54] <rust-noob> but isn't there any way to terminate a program anywhere in itself in rust?
[15:37:01] <kimundi> avsej: vector pattern matching only works on slices, and you can'T specify a length anywhere. if you want to match a specific length, use n variable bindings
[15:37:30] *** Joins: skade (skade@moz-CFC0E0FB.dip0.t-ipconnect.de)
[15:38:00] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[15:38:24] <kimundi> [a, b, c, d, e, f, .._] => { let v1 = [a,b,c]; let v2 = [d,e,f]; // work with v1 and v2 here }
[15:39:43] <kimundi> You coulöd add suagr for this, but I'm not sure what syntactic freedoms we'd have for it. Might look more confusing than just doing it manually
[15:40:26] *** Joins: maik (maik@moz-8782792E.dip0.t-ipconnect.de)
[15:40:46] *** Quits: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Ping timeout)
[15:40:59] <avsej> i thought it might share the vector with slices
[15:41:08] <avsej> so that i don't have to create new vectors
[15:41:22] <avsej> okay, thanks anyway
[15:41:40] <kimundi> well, it would work identical
[15:41:53] <avsej> oh, cool
[15:42:07] <kimundi> no wait
[15:42:10] *** jorendorff is now known as jorendorff_away
[15:42:12] <kimundi> depends on the situation
[15:42:39] <kimundi> geting a slice of specific length is definitly not possible that way, your right
[15:42:55] *** jorendorff_away is now known as jorendorff
[15:42:58] <kimundi> but if the values would get moved anyway, or you're just working with refrences, then it might not matter
[15:43:48] *** Joins: alon (alon@2D4907F1.66334A3F.AB64B967.IP)
[15:44:11] *** flaper87 is now known as flaper87|afk
[15:45:09] *** Quits: GeneralMaximus (ankur@F98B714A.9700A370.D5D59AD9.IP) (Ping timeout)
[15:45:43] <avsej> do you know if these two vectors will share data? 
[15:45:44] <avsej> let numbers = [0, 1, 2];
[15:45:44] <avsej> let last_numbers = numbers.slice(1, 3);
[15:45:44] <avsej> / last_numbers is now &[1, 2]
[15:47:17] *** Joins: simon (simon@moz-CBE4BB13.cable.teksavvy.com)
[15:47:37] <kimundi> well. yes and no. last_numbers woill be a slice to numbers, so no copy happens. but 'sharing' is the wrong word in our terminology here :)
[15:48:24] <kimundi> sharing == shared ownership usually. Here, numbers still is the only owner of the data. you're ownly borrowing immutable access to it with the slice
[15:48:44] *** Joins: GeneralMaximus (ankur@97120CE1.5268F106.D2D1FAF0.IP)
[15:49:04] <avsej> i see
[15:49:13] <kimundi> but in the sense of 'two variable names can be used to access the same area of physical memory', they share, yes.
[15:49:39] *** Quits: rust-noob (Mibbit@moz-3112320B.graz.surfer.at) (Quit: http://www.mibbit.com ajax IRC Client)
[15:49:40] <avsej> but in case variables declared as mutable it will do copy
[15:49:44] <kimundi> no
[15:49:58] <avsej> like copy on write?
[15:50:32] <kimundi> then the slice will freze the mutable binding fior as long as the slice exists, and once it goes out of scope you are allowed to mutate it again
[15:50:56] <kimundi> we don't have implicit copies in rust anywhere, except on pass-by-value
[15:51:38] <kimundi> and then it's only a copy for types where it doens'T matter, and a move for the others
[15:51:51] *** Quits: maik (maik@moz-8782792E.dip0.t-ipconnect.de) (Ping timeout)
[15:52:06] <avsej> amazing, thank you
[15:52:06] <kimundi> let a = 5; let b = 5 // int is implictly copyable, this does a copy
[15:52:27] <kimundi> err, let a = 5; let b = a // int is implictly copyable, this does a copy
[15:52:35] <avsej> got it
[15:53:02] <avsej> thanks
[15:53:15] <kimundi> okay :)
[15:53:59] *** Joins: dandy (Dandy@moz-84CC8377.hsd1.co.comcast.net)
[15:54:00] *** Quits: avsej (avsej@DF1824D5.EFF97412.48F984E6.IP) (Client exited)
[15:54:15] *** Joins: maik (maik@moz-8782792E.dip0.t-ipconnect.de)
[15:54:41] *** jorendorff is now known as jorendorff_away
[15:55:03] *** Quits: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net) (Quit: WeeChat 0.4.1)
[15:57:03] *** Joins: jeaye (Jeaye@moz-34FEF2BB.hsd1.ca.comcast.net)
[15:57:59] *** Joins: bjz_ (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[15:58:00] *** Quits: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[16:01:30] *** jorendorff_away is now known as jorendorff
[16:01:39] *** Quits: dandy (Dandy@moz-84CC8377.hsd1.co.comcast.net) (Quit: Leaving)
[16:02:50] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[16:03:03] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[16:04:11] *** Quits: mr_wibble (Mibbit@moz-FD9A8D70.tvc-ip.com) (Quit: http://www.mibbit.com ajax IRC Client)
[16:08:26] *** Joins: flowsnake (flowsnake@moz-1918C33E.aztw.cable.virginmedia.com)
[16:09:37] *** Joins: SiegeLord (sl@moz-3D449DF.bstnma.fios.verizon.net)
[16:11:03] *** Joins: mikezaby (mikezaby@moz-908EA8DE.home.otenet.gr)
[16:12:51] *** Quits: lfox (larryfox@moz-343B6F0C.nyc.biz.rr.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[16:13:12] *** Joins: victorporof (victorporo@35F65A40.E0F96B01.D111398B.IP)
[16:14:48] *** Quits: Axord (xord@moz-1B228827.lsanca.dsl-w.verizon.net) (Quit: I'm sure it's perfectly safe)
[16:14:56] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Client exited)
[16:15:17] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[16:17:00] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Ping timeout)
[16:21:23] *** Quits: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[16:21:43] *** Quits: clusterfoo (computer@moz-A81F9872.cable.teksavvy.com) (Ping timeout)
[16:21:50] *** Joins: nsf (nsf@moz-EEF3238A.convex.ru)
[16:22:42] *** Quits: chandler (foo@moz-F990611.mastenbrook.net) (Ping timeout)
[16:22:52] *** Quits: rpearl (rpearl@moz-2B41ACB5.andrew.cmu.edu) (Ping timeout)
[16:22:52] *** Quits: rntz (rntz@moz-C76A8D96.sp.cs.cmu.edu) (Ping timeout)
[16:22:52] *** Quits: flu_ (flu@1B44C715.B5AB1363.2E11A1C0.IP) (Ping timeout)
[16:22:57] *** Quits: fzzzy (fzzzy@A5CBE5CF.A81CC6E.44FA8ED.IP) (Ping timeout)
[16:22:57] *** Quits: halorgium (z@moz-7A333983.spork.in) (Ping timeout)
[16:22:57] *** Quits: sw17ch (sw17ch@moz-39D8564F.wndsny.tds.net) (Ping timeout)
[16:22:57] *** Quits: rossm (rossm@moz-EE3BB1DC.br.br.cox.net) (Ping timeout)
[16:22:57] *** Quits: diamond (Richard@moz-FEA87A60.ks.ks.cox.net) (Ping timeout)
[16:23:01] *** Quits: ldlework (ldlework@6AEB83D1.B92A0FC.176AC772.IP) (Ping timeout)
[16:23:08] *** Quits: madmoose (Hat@moz-E1973371.nerp.net) (Ping timeout)
[16:23:08] *** Quits: acrichto (acrichto@moz-69F2E428.ugrad.cs.cmu.edu) (Ping timeout)
[16:23:08] *** Quits: pauls (pauls@moz-7140CF01.ccs.neu.edu) (Ping timeout)
[16:23:08] *** Quits: Addle (quassel@moz-89E971E4.cable.teksavvy.com) (Ping timeout)
[16:23:08] *** Quits: lahwran (lahwran@lahwran.net) (Ping timeout)
[16:23:08] *** Quits: eagen (eagen@8737942B.7A99C13A.B7961A98.IP) (Ping timeout)
[16:23:08] *** Quits: simon (simon@moz-CBE4BB13.cable.teksavvy.com) (Ping timeout)
[16:23:09] *** Quits: TD-Linux (TD-Linux@E338EB99.2B4F0AE0.A0A36CCE.IP) (Ping timeout)
[16:23:09] *** Quits: [o__o] (~o__o@moz-24EBFAC7.me) (Ping timeout)
[16:23:21] *** Quits: dcrewi (david@moz-AB8667CE.gyrae.net) (Ping timeout)
[16:23:23] *** Joins: diamond (Richard@moz-FEA87A60.ks.ks.cox.net)
[16:23:25] *** Quits: nattofriends (tsutsumi@415EC797.D6C7DB56.8491360.IP) (Ping timeout)
[16:23:25] *** Quits: kalenedrael (wat@moz-DBB6BE74.zagar.us) (Ping timeout)
[16:23:25] *** Quits: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net) (Ping timeout)
[16:23:25] *** Joins: ldlework (ldlework@6AEB83D1.B92A0FC.176AC772.IP)
[16:23:25] *** Joins: rntz (rntz@moz-C76A8D96.sp.cs.cmu.edu)
[16:23:26] *** Joins: vfetwnuncszu (david@moz-AB8667CE.gyrae.net)
[16:23:26] *** Joins: rossm (rossm@moz-EE3BB1DC.br.br.cox.net)
[16:23:26] *** Joins: pauls (pauls@moz-7140CF01.ccs.neu.edu)
[16:23:27] *** Joins: [o__o] (~o__o@moz-24EBFAC7.me)
[16:23:28] *** Quits: paulproteus (quassel@rose.makesad.us) (Ping timeout)
[16:23:28] *** Joins: acrichto (acrichto@moz-69F2E428.ugrad.cs.cmu.edu)
[16:23:28] *** Joins: kalenedrael (wat@moz-DBB6BE74.zagar.us)
[16:23:29] *** Joins: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net)
[16:23:29] *** Joins: paulproteus (quassel@moz-E86A3B42.makesad.us)
[16:23:31] *** vfetwnuncszu is now known as dcrewi
[16:23:32] *** Quits: bblum (bblum@moz-2B41ACB5.andrew.cmu.edu) (Ping timeout)
[16:23:32] *** Joins: simon (simon@moz-CBE4BB13.cable.teksavvy.com)
[16:23:33] *** Joins: bblum (bblum@moz-2B41ACB5.andrew.cmu.edu)
[16:23:34] *** Joins: lahwran (lahwran@lahwran.net)
[16:23:39] *** Joins: rpearl (rpearl@moz-2B41ACB5.andrew.cmu.edu)
[16:23:40] *** Joins: madmoose (Hat@moz-E1973371.nerp.net)
[16:23:40] *** Joins: Addle (quassel@moz-89E971E4.cable.teksavvy.com)
[16:23:41] *** Joins: nattofriends (tsutsumi@moz-4CEEC7AA.warosu.org)
[16:23:47] *** Joins: halorgium (z@moz-7A333983.spork.in)
[16:23:47] *** Quits: tupshin (quassel@moz-E7B03838.c3-0.nyr-ubr1.nyr.ny.cable.rcn.com) (Ping timeout)
[16:23:49] *** Joins: tupshin (quassel@moz-E7B03838.c3-0.nyr-ubr1.nyr.ny.cable.rcn.com)
[16:23:52] *** Joins: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net)
[16:23:52] *** Joins: TD-Linux (TD-Linux@E338EB99.2B4F0AE0.A0A36CCE.IP)
[16:23:54] *** Joins: fzzzy (fzzzy@A5CBE5CF.A81CC6E.44FA8ED.IP)
[16:25:14] *** Joins: threecreepio (jdp@moz-9C11F46E.cust.bredbandsbolaget.se)
[16:27:56] *** Quits: timot (timot@moz-9EF21B1.cust.tele2.se) (Quit: Konversation terminated!)
[16:28:07] *** Joins: chandler (foo@moz-F990611.mastenbrook.net)
[16:28:15] *** Joins: flu_ (flu@1B44C715.B5AB1363.2E11A1C0.IP)
[16:28:37] *** Joins: timot (timot@moz-9EF21B1.cust.tele2.se)
[16:29:04] *** Quits: maik (maik@moz-8782792E.dip0.t-ipconnect.de) (Ping timeout)
[16:31:52] *** Quits: BitPuffin (isak@moz-49828767.cust.tele2.se) (Ping timeout)
[16:32:36] *** Joins: mizar99 (onur@E08635D0.26969B75.8D47ACD1.IP)
[16:32:48] *** Joins: Ms2ger|gold (Ms2ger@moz-AA7C460.adsl-static.isp.belgacom.be)
[16:33:10] *** Ms2ger|gold is now known as Ms2ger|hotel
[16:34:22] *** Quits: z0w0 (zack@64F0E14B.3C29B4A9.2CE63F58.IP) (Client exited)
[16:36:52] *** Quits: Mowah (Mowah@moz-436C35C5.cust.bredbandsbolaget.se) (Ping timeout)
[16:36:53] *** Quits: StarLight (StarLight@moz-9E22BD9B.pppoe.avangarddsl.ru) (Connection reset by peer)
[16:37:04] *** Joins: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net)
[16:38:10] *** Joins: nejucomo1 (Adium@moz-434492BB.dsl.static.sonic.net)
[16:38:11] *** Quits: nejucomo (Adium@moz-434492BB.dsl.static.sonic.net) (Connection reset by peer)
[16:39:18] *** Joins: [squiddy] (squiddy@moz-2262CE3E.dynamic.cablesurf.de)
[16:39:33] *** Joins: nejucomo (Adium@moz-434492BB.dsl.static.sonic.net)
[16:39:33] *** Quits: nejucomo1 (Adium@moz-434492BB.dsl.static.sonic.net) (Connection reset by peer)
[16:40:24] *** Joins: saati (s@moz-11469F61.harmless.hu)
[16:40:31] <saati> hi
[16:40:51] *** Joins: nejucomo1 (Adium@moz-434492BB.dsl.static.sonic.net)
[16:40:51] *** Quits: nejucomo (Adium@moz-434492BB.dsl.static.sonic.net) (Connection reset by peer)
[16:42:12] *** Quits: nejucomo1 (Adium@moz-434492BB.dsl.static.sonic.net) (Quit: Leaving.)
[16:43:48] *** Joins: lfox (larryfox@moz-343B6F0C.nyc.biz.rr.com)
[16:48:26] *** Quits: Ms2ger|hotel (Ms2ger@moz-AA7C460.adsl-static.isp.belgacom.be) (Ping timeout)
[16:49:36] *** Joins: lebihkerendariliamhemswort (chatzilla@713D8C67.853CD759.24655E4E.IP)
[16:50:42] *** Quits: lebihkerendariliamhemswort (chatzilla@713D8C67.853CD759.24655E4E.IP) (Connection reset by peer)
[16:50:59] *** Quits: Cromulent (Cromulent@moz-983B638D.cable.virginmedia.com) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[16:52:02] *** Joins: qj13 (qj13@moz-E5B911BE.red.bezeqint.net)
[16:52:20] <qj13> how can i contribute to rust?
[16:52:31] *** Quits: Ralith (ralith@moz-132F2FD4.sea.wa.customer.broadstripe.net) (Ping timeout)
[16:52:31] <qj13> is there any easy thing to do?
[16:52:51] <cmr> qj13: https://github.com/mozilla/rust/wiki/Note-guide-for-new-contributors
[16:53:06] *** Joins: nejucomo (Adium@moz-A1B9243C.static-ip.telepacific.net)
[16:53:29] <qj13> cmr: i have already read that.. but i think i need additional guides
[16:53:49] <cmr> qj13: Did you look through the E-easy issues?
[16:54:32] <qj13> yeah... some of them are doc updates others are things that out of my reach
[16:54:42] *** Joins: nejucomo1 (Adium@moz-A1B9243C.static-ip.telepacific.net)
[16:54:54] *** Quits: nejucomo (Adium@moz-A1B9243C.static-ip.telepacific.net) (Ping timeout)
[16:55:07] *** Quits: threecreepio (jdp@moz-9C11F46E.cust.bredbandsbolaget.se) (Quit: threecreepio)
[16:55:12] <alon> has anyone wrapped inotify?
[16:55:14] <skade> qj13: I just recently got a commit in rust: it was very frictionless. people around the channel here are usually very helpful and will assist you with your first patch.
[16:55:28] <skade> just don't be afraid of bugging people.
[16:55:35] <cmr> alon: I don't think so
[16:55:43] <alon> oh well
[16:55:45] <alon> thanks cmr!
[16:55:49] <cmr> qj13: Well, what are you interested in doing?
[16:55:53] <qj13> skade: thanks... i guess
[16:56:18] *** Joins: dherman (dherman@79611EE9.A51CB73B.6FBF6D51.IP)
[16:56:18] *** ChanServ sets mode: +ao dherman dherman
[16:56:26] *** flaper87|afk is now known as flaper87
[16:56:32] <qj13> cmr: would like to work on str / std modules
[16:56:52] <nejucomo1> alon: I seem to recall seeing a wrapper on github...
[16:57:02] *** Quits: dherman (dherman@79611EE9.A51CB73B.6FBF6D51.IP) (Quit: dherman)
[16:57:17] <nejucomo1> Hrm.  "lang:rust inotify" returns nothing...
[16:57:22] *** nejucomo1 is now known as nejucomo
[16:57:24] <qj13> cmr: what about json, is there anything that i can add?
[16:57:48] *** Quits: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net) (Ping timeout)
[16:58:14] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[16:58:41] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[16:58:46] *** Quits: [squiddy] (squiddy@moz-2262CE3E.dynamic.cablesurf.de) (Quit: Leaving)
[16:59:35] <alon> nejucomo, well, it was just a nice to have. I wanted to be able to change shaders on the fly with kiss3d, but I can just hit space or something.
[16:59:38] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Connection reset by peer)
[16:59:53] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[16:59:54] *** Quits: nejucomo (Adium@moz-A1B9243C.static-ip.telepacific.net) (Quit: Leaving.)
[17:00:33] <cmr> qj13: sure! It needs benchmarks, for one, and there's a bunch of issues at https://github.com/mozilla/rust/search?q=json&ref=cmdform&state=open&type=Issues
[17:00:56] <qj13> ok... i will take a look at that. 10x
[17:00:58] <cmr> qj13: https://github.com/mozilla/rust/issues/8335 is probably the biggest pain right now.
[17:01:12] <qj13> cmr: 10x
[17:02:34] *** Joins: lkuper (lkuper@moz-D862222C.dhcp-bl.indiana.edu)
[17:03:39] <jordyd> What does this runtime error mean? "task '<unnamed>' failed at 'borrowed'"
[17:05:11] <cmr> jordyd: it means you're using @mut and you dynamically violated the borrow rules.
[17:05:25] *** Joins: tjc (tjc@7EA5F9ED.C1499D0.396E4C6D.IP)
[17:05:25] *** ChanServ sets mode: +o tjc
[17:05:34] <cmr> (eg, taking out a &mut while there's a & to it already)
[17:05:49] *** Joins: nejucomo (Adium@moz-A1B9243C.static-ip.telepacific.net)
[17:06:11] *** Quits: nielsle (nielsle@moz-5CE8ECCD.boa.fiberby.dk) (Ping timeout)
[17:06:50] *** Joins: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net)
[17:07:56] *** Joins: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[17:08:11] *** Joins: tiffnya (kawaii@moz-28A8742A.dhcp.embarqhsd.net)
[17:08:29] *** Quits: tiffany (kawaii@moz-28A8742A.dhcp.embarqhsd.net) (NickServ (GHOST command used by tiffnya))
[17:08:34] *** tiffnya is now known as tiffany
[17:08:39] <jordyd> I'll have to reread the borrow tutorial b/c I'm still having a lot of trouble understanding the rules
[17:09:30] <cmr> You can only have one &mut to a given object at once, and it cannot alias with &.
[17:09:47] <engla> @mut Xyz  uses dynamic borrow checking. Other types have statically checked rules so the compiler will tell you upfront
[17:09:56] <qj13> cmr: say does rust have library that handles http request/responds?
[17:10:09] <engla> jordyd: not sure if @mut Xyz is covered in the borrow tutorial
[17:10:11] <cmr> qj13: https://github.com/chris-morgan/rust-http
[17:10:23] <qj13> hooo... i see
[17:10:27] <qj13> thanks
[17:10:29] <qj13> cmr: thanks
[17:10:57] <jordyd> I should probably try to switch to ~ anyway, but I'm not sure exactly if I can
[17:11:22] <cmr> jordyd: Don't use a box if you don't have to.
[17:12:39] *** Joins: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net)
[17:12:52] *** Joins: alk (alk@moz-32A9FF6A.fbxo.proxad.net)
[17:13:33] *** Quits: busylizzy (lisa@85228838.12D0DC84.211374C4.IP) (Ping timeout)
[17:13:58] *** Joins: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net)
[17:14:58] <jordyd> I would like to use borrowed pointers in a struct but I can't find a good reference for it
[17:15:34] *** Joins: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP)
[17:16:37] *** Joins: maik (maik@moz-8782792E.dip0.t-ipconnect.de)
[17:16:43] <cmr> struct Foo<'self> { x: &'self int }
[17:17:04] *** Joins: busylizzy (lisa@85228838.12D0DC84.211374C4.IP)
[17:17:37] *** Joins: tikue_ (tikue_star@moz-FEADCD38.hsd1.pa.comcast.net)
[17:19:48] <jordyd> The thing is on the implementation I get "illegal anonymous lifetime", but then when I try to add "<'self>" to the implementation I get "illegal lifetime 'self"
[17:20:06] <cmr> Paste your code somewhere
[17:20:23] <jordyd> Sure
[17:21:53] *** Quits: skade (skade@moz-CFC0E0FB.dip0.t-ipconnect.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[17:22:23] *** Quits: CarpNet (ac@moz-FD24B77.sohonet.co.uk) (Quit: Leaving)
[17:22:25] *** Joins: nielsle (nielsle@moz-5CE8ECCD.boa.fiberby.dk)
[17:23:50] *** Joins: skade (skade@moz-CFC0E0FB.dip0.t-ipconnect.de)
[17:23:54] <jordyd> http://pastie.org/8378015
[17:24:52] *** Quits: skade (skade@moz-CFC0E0FB.dip0.t-ipconnect.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[17:25:16] <cmr> You need a `impl<'self> RuleRow<'self>`, is that what you were getting the error on?
[17:25:35] <luisbg> if you are only going to use a struct once, is there a way to define/initialize it in one go?
[17:25:45] <luisbg> or do you have to define the struct and then initialize it for that one use?
[17:25:54] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[17:26:49] <jordyd> Ohhh, ok. I was just doing "impl RuleRow<'self>"
[17:27:04] <cmr> luisbg: the latter
[17:27:12] <luisbg> cmr, thanks, just needed to confirm
[17:27:29] *** Quits: nejucomo (Adium@moz-A1B9243C.static-ip.telepacific.net) (Quit: Leaving.)
[17:27:42] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Ping timeout)
[17:28:29] *** Quits: mizar99 (onur@E08635D0.26969B75.8D47ACD1.IP) (Quit: Leaving)
[17:28:33] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[17:30:32] <tikue_> luisbg, you could method chain and have the initialization take the struct by value
[17:30:54] <luisbg> tikue_, have any example code of how that would work?
[17:31:12] *** Joins: threecreepio (jdp@moz-9C11F46E.cust.bredbandsbolaget.se)
[17:31:14] <tikue_> `use_foo_once(Foo { a: a, b: b, c: c }.init())
[17:31:26] <tikue_> just have the initialization return the struct
[17:31:58] <luisbg> tikue_, oooh ok, I see what you mean
[17:32:35] <luisbg> defining and then initializing is probably easier to read for most people
[17:32:48] <tikue_> yeah probably
[17:32:55] <tikue_> but then they might assume it's used more than once :3
[17:33:01] <tikue_> you could always scope it
[17:33:16] <tikue_> { /* scoped inside here */ }
[17:33:27] <cmr> By defining and initializing in one go I thought you meant `struct Foo { a: T = some_value, ... }`
[17:33:43] <tikue_> ohh
[17:33:44] <cmr> And I have no idea what tikue_ is going on about
[17:33:48] <cmr> :p
[17:33:53] <tikue_> cmr, what do you mean?
[17:34:07] <tikue_> it's the same idea as how iterators are used 
[17:34:25] <SiegeLord> It's the inverse of tuple structs... struct tuples
[17:34:31] <cmr> tikue_: What does the init method do in your example?
[17:35:06] <cmr> The struct is already initialized, you did that by constructing it.
[17:35:07] <tikue_> cmr, i probably misinterpreted what luisbg was asking
[17:35:16] <tikue_> the init method was the initialization i thought he was talking about
[17:35:38] <cmr> Maybe I'm confused
[17:35:43] <cmr> luisbg: what did you mean?
[17:35:52] <tikue_> i thought it was like, a case where a struct required extra initialization after being constructed
[17:35:55] <luisbg> cmr, what you understood originally
[17:36:01] <luisbg> struct Foo { a: T = some_value, ... }
[17:36:21] <tikue_> luisbg, could you use a tuple?
[17:36:26] *** Joins: clusterfoo (computer@moz-A81F9872.cable.teksavvy.com)
[17:36:44] <luisbg> tikue_, not all values are of the same type
[17:36:51] <tikue_> luisbg, tuples take any types
[17:37:05] <luisbg> tikue_, oooh right. tuples in Rust are like dictionaries in Python
[17:37:13] <tikue_> they're like tuples in python :P
[17:37:14] <cmr> No they're not
[17:37:32] <luisbg> tikue_, tuples in python have to have all elements of the same type
[17:37:37] <tikue_> no they don't
[17:37:39] <cmr> >>> (1, {"a": 2})
[17:37:40] <cmr> (1, {'a': 2})
[17:37:43] <luisbg> in Python tuples are immutable lists
[17:38:01] <luisbg> was that always that way?
[17:38:05] <tikue_> >>> (1, 'two', 3.0)
[17:38:06] <tikue_> (1, 'two', 3.0)
[17:38:10] <cmr> Lists don't need to be all homogenous in python either.
[17:38:14] <cmr> >>> [1, {"a": 2}]
[17:38:15] <cmr> [1, {'a': 2}]
[17:38:25] <tikue_> luisbg, python only very rarely cares about the types of things :P
[17:38:38] <luisbg> ahhh yes
[17:38:43] <luisbg> got confused
[17:39:03] <tikue_> anyway, if the struct doesn't have too many fields, then using a tuple seems like a good fit
[17:39:11] *** jorendorff is now known as jorendorff_away
[17:39:18] <luisbg> tikue_, it has 12 fields
[17:39:24] <tikue_> oh, then don't use a tuple :P
[17:39:25] <luisbg> accessing them by name is handy
[17:39:33] *** Joins: spott (spott@moz-9B11536C.hsd1.co.comcast.net)
[17:39:33] <luisbg> a dictionary would be perfect ;)
[17:39:38] <luisbg> a Python dictionary I mean
[17:39:51] <tikue_> luisbg, you could use HashMap
[17:39:55] <tikue_> oh wait they're different types
[17:39:59] <tikue_> just make a struct :P
[17:40:01] *** Joins: lucian_ (lucian@moz-D82F7974.zone16.bethere.co.uk)
[17:40:02] *** flaper87 is now known as flaper87|afk
[17:40:04] <SiegeLord> Such an anonymous struct doesn't seem too useful
[17:40:18] <SiegeLord> You can't really use it anywhere except in the scope you defined it in
[17:40:27] *** Quits: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP) (Ping timeout)
[17:40:29] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Input/output error)
[17:40:46] <cmr> SiegeLord: you can't construct it, but you can always access its public fields if you are given the struct by some function
[17:40:46] <luisbg> SiegeLord, yeah, I understand why it isn't supported
[17:40:53] <SiegeLord> Unless you duplicate its definition everywhere like you would with a tuple... which defeats the very point of using it
[17:40:55] <luisbg> and it isn't really a big deal to define and init right after
[17:40:56] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[17:41:05] <luisbg> just asking :)
[17:41:08] <cmr> Just like private structs.
[17:41:16] <SiegeLord> cmr, You'd need to duplicate the definition in the return type of the function
[17:41:37] <SiegeLord> There's no way you can avoid doing what luisbg is trying to avoid
[17:41:37] <cmr> What do you mean by anonymous struct?
[17:41:42] *** Quits: lucian_ (lucian@moz-D82F7974.zone16.bethere.co.uk) (Ping timeout)
[17:41:55] <engla> you can use ~[T] as a hashmap key in Rust, you can't do that in Python
[17:41:55] <SiegeLord> A tuple with field names
[17:42:05] <engla> because [] is not hashable there
[17:42:17] <cmr> Ok, yeah.
[17:42:32] *** Quits: mikezaby (mikezaby@moz-908EA8DE.home.otenet.gr) (Input/output error)
[17:42:40] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Ping timeout)
[17:45:26] *** Joins: riley (riley@8BA43816.9AA11D69.65DDFA89.IP)
[17:45:32] *** Quits: riley (riley@8BA43816.9AA11D69.65DDFA89.IP) (Client exited)
[17:45:48] *** Joins: steveklabnik (steveklabn@moz-5EF6C37C.socal.res.rr.com)
[17:45:53] *** Joins: riley (riley@8BA43816.9AA11D69.65DDFA89.IP)
[17:46:11] *** Joins: stevekla1nik (steveklabn@moz-5EF6C37C.socal.res.rr.com)
[17:46:14] <sw17ch> Is there any way to hijack the malloc Rust uses internally?
[17:46:43] <cmr> sw17ch: when it was first implemented yes, but I don't know about the present state.
[17:46:46] *** Quits: maik (maik@moz-8782792E.dip0.t-ipconnect.de) (Ping timeout)
[17:46:50] *** Quits: pauls (pauls@moz-7140CF01.ccs.neu.edu) (Quit: Ignore me!!)
[17:48:24] <engla> You'd have to use runtimeless/no_std I guess
[17:51:58] *** Joins: [squiddy] (squiddy@moz-2262CE3E.dynamic.cablesurf.de)
[18:02:24] *** Joins: nejucomo (Adium@moz-B62B9944.public.monkeybrains.net)
[18:09:56] *** Joins: skade (skade@moz-CFC0E0FB.dip0.t-ipconnect.de)
[18:11:07] *** Quits: skade (skade@moz-CFC0E0FB.dip0.t-ipconnect.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[18:13:51] *** jorendorff_away is now known as jorendorff
[18:15:22] *** Quits: timot (timot@moz-9EF21B1.cust.tele2.se) (Quit: Konversation terminated!)
[18:15:35] *** Joins: timot (timot@moz-9EF21B1.cust.tele2.se)
[18:16:20] *** Quits: spott (spott@moz-9B11536C.hsd1.co.comcast.net) (Client exited)
[18:17:18] *** Quits: steveklabnik (steveklabn@moz-5EF6C37C.socal.res.rr.com) (Ping timeout)
[18:17:37] *** Quits: tjc (tjc@7EA5F9ED.C1499D0.396E4C6D.IP) (Quit: zzzzzzzzzz)
[18:17:37] *** Quits: stevekla1nik (steveklabn@moz-5EF6C37C.socal.res.rr.com) (Ping timeout)
[18:20:33] *** Quits: threecreepio (jdp@moz-9C11F46E.cust.bredbandsbolaget.se) (Quit: threecreepio)
[18:21:14] *** jorendorff is now known as jorendorff_away
[18:22:06] *** Joins: tjc (tjc@2E747C8D.C1499D0.396E4C6D.IP)
[18:22:06] *** ChanServ sets mode: +o tjc
[18:25:48] *** Joins: barosl (barosl@3DE683B6.E551553C.7544CABF.IP)
[18:27:44] *** Quits: Luqman (laden@moz-AB7945E9.csclub.uwaterloo.ca) (Input/output error)
[18:27:44] *** Quits: jj2baile (jon@moz-AB7945E9.csclub.uwaterloo.ca) (Client exited)
[18:30:22] *** Quits: victorporof (victorporo@35F65A40.E0F96B01.D111398B.IP) (Quit: victorporof)
[18:30:46] <kmc> sw17ch: if you're going for the no_std route, here's strcat's example: http://ix.io/8fH
[18:31:23] <kmc> sw17ch: but also you can probably swap out malloc the same way you would for a dynamically linked C program
[18:31:30] <kmc> eg LD_PRELOAD="/usr/lib/libtcmalloc.so" ./prog
[18:31:52] <kmc> glibc also provides malloc hooks, which may be useful: http://www.gnu.org/software/libc/manual/html_node/Hooks-for-Malloc.html
[18:31:58] *** Quits: timot (timot@moz-9EF21B1.cust.tele2.se) (Quit: Konversation terminated!)
[18:32:21] *** Joins: timot (timot@moz-9EF21B1.cust.tele2.se)
[18:33:07] <sw17ch> kmc, thanks, good ideas.
[18:33:35] *** Quits: Ferreus (ferreus@moz-B3BF5527.dyn.telefonica.de) (Quit: WeeChat 0.4.1)
[18:34:46] *** Quits: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl) (Client exited)
[18:35:14] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[18:38:52] *** Quits: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Input/output error)
[18:39:17] *** Joins: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca)
[18:43:36] *** Joins: steveklabnik (steveklabn@moz-5EF6C37C.socal.res.rr.com)
[18:43:45] *** Joins: stevekla1nik (steveklabn@moz-5EF6C37C.socal.res.rr.com)
[18:46:17] *** Joins: jj2baile (jon@moz-345B5EBA.csclub.uwaterloo.ca)
[18:46:22] *** Quits: jj2baile (jon@moz-345B5EBA.csclub.uwaterloo.ca) (Quit: jj2baile)
[18:46:32] *** Joins: jj2baile (jon@moz-345B5EBA.csclub.uwaterloo.ca)
[18:46:54] *** Joins: CarpNet (Alasdair@moz-EF831A5E.cable.virginmedia.com)
[18:49:42] *** Quits: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net) (Quit: sw17ch)
[18:50:34] *** Joins: lucian (lucian@moz-22A14C6A.cable.virginmedia.com)
[18:51:10] *** Joins: pcwalton (pcwalton@79611EE9.A51CB73B.6FBF6D51.IP)
[18:51:10] *** ChanServ sets mode: +ao pcwalton pcwalton
[18:52:16] *** Quits: lucian (lucian@moz-22A14C6A.cable.virginmedia.com) (Ping timeout)
[18:55:54] *** Quits: steveklabnik (steveklabn@moz-5EF6C37C.socal.res.rr.com) (Ping timeout)
[18:56:00] *** Quits: stevekla1nik (steveklabn@moz-5EF6C37C.socal.res.rr.com) (Ping timeout)
[19:00:31] *** Joins: victorporof (victorporo@35F65A40.E0F96B01.D111398B.IP)
[19:02:00] *** Quits: fyolnish (fyolnish@moz-531015CA.uqwimax.jp) (Connection reset by peer)
[19:02:19] <cmr> kmc: jemalloc is statically linked, would that still work?
[19:02:28] *** Joins: fyolnish (fyolnish@moz-531015CA.uqwimax.jp)
[19:02:47] <kmc> maybe not
[19:02:59] <cmr> I didn't think it did
[19:03:51] <kmc> sorry for giving bad information, then :/
[19:04:22] <cmr> I'm not positive
[19:04:44] <kmc> the old 'float' is equivalent to f64 on most platforms, right?
[19:04:46] <doomlord_> i'd hope it is statically linked
[19:04:49] *** Joins: steveklabnik (steveklabn@moz-5EF6C37C.socal.res.rr.com)
[19:04:52] *** Joins: stevekla1nik (steveklabn@moz-5EF6C37C.socal.res.rr.com)
[19:05:01] <cmr> kmc: all platforms
[19:06:31] <bjz_> kmc: that was why it was removed - it served no purpose
[19:06:49] *** Quits: victorporof (victorporo@35F65A40.E0F96B01.D111398B.IP) (Ping timeout)
[19:07:26] *** Quits: pcwalton (pcwalton@79611EE9.A51CB73B.6FBF6D51.IP) (Ping timeout)
[19:08:48] <jeaye> Except for confusing people.
[19:10:08] *** Quits: tikue_ (tikue_star@moz-FEADCD38.hsd1.pa.comcast.net) (Ping timeout)
[19:10:36] <kmc> or a hypothetical platform which only has 32-bit hardware floats, or only 128-bit
[19:10:41] <kmc> but I agree with removing it.
[19:11:15] <jeaye> aye
[19:11:25] *** Joins: fabiand (fabiand@moz-91C4CAA.dip0.t-ipconnect.de)
[19:11:59] <jeaye> Caused me a headache when I first started. I was giving OpenGL 'float' (expecting C floats) and telling it to look for 32bit values.
[19:13:44] <kmc> our 'int' is also not the same size as C int
[19:18:35] <jeaye> Aye
[19:18:51] <jeaye> But, from C++, I'm already in the habit of using fixed-width integers.
[19:18:59] *** Joins: Kruppe (user@moz-EE1E894A.home3.cgocable.net)
[19:19:01] <jeaye> Not so with floating point values.
[19:20:56] *** Quits: AutomatedTester (David@moz-DB4A9C19.scl3.mozilla.com) (Quit: ZNC - http://znc.in)
[19:23:57] *** Joins: sebcrozet (sebcrozet@moz-C27D92D8.w193-252.abo.wanadoo.fr)
[19:24:33] *** Quits: diamond (Richard@moz-FEA87A60.ks.ks.cox.net) (Ping timeout)
[19:25:39] *** Quits: nielsle (nielsle@moz-5CE8ECCD.boa.fiberby.dk) (Ping timeout)
[19:26:10] *** Joins: diamond (Richard@moz-FEA87A60.ks.ks.cox.net)
[19:26:41] *** Joins: spott (spott@moz-9B11536C.hsd1.co.comcast.net)
[19:26:43] *** Joins: tgummerer (tgummerer@51D3B54.FEF996EA.EA6FEF3D.IP)
[19:28:27] *** Quits: spott (spott@moz-9B11536C.hsd1.co.comcast.net) (Ping timeout)
[19:30:12] <mark_edward> floating point i think is bad
[19:30:19] <mark_edward> djikstra wrote about it i think
[19:30:25] <mark_edward> maybe im mixing it up
[19:30:37] <cmr> I'm pretty sure you are
[19:31:27] <mark_edward> do u know who im talking about?
[19:32:07] <cmr> Yes
[19:32:14] *** Quits: diamond (Richard@moz-FEA87A60.ks.ks.cox.net) (Ping timeout)
[19:32:15] <cmr> But I have no idea what writing you're talking about
[19:32:49] *** Joins: diamond (Richard@moz-FEA87A60.ks.ks.cox.net)
[19:32:53] <kmc> floating point is bad in many ways and many people have written about it :)
[19:33:03] <mark_edward> but someone criticized floating point numbers as a bad idea, said that you shouldn't use such things if you don't understand significant figures, which few programmers would.
[19:33:22] <kmc> I take it one further and assert that real numbers are *also* monstrous :)
[19:33:38] *** Joins: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[19:33:38] <tjc> mark_edward: perhaps, but by the same logic, no one who doesn't understand math should program, since programming is math :-)
[19:33:52] <tjc> and maybe that's true, but then there would be a lot fewer programmers
[19:33:55] <kmc> mark_edward: yeah, there's a technique for working with floats where you do every calculation twice, once in round-down mode, once in round-up mode, and you propagate those error intervals
[19:34:10] <kmc> and of course you can make a type which overloads the normal math operators so these intervals are as easy to work with as plain floats
[19:34:20] <doomlord_> interesting
[19:34:50] <kmc> so you know for certain the mathematical result lies in the interval... unfortunately by the end of a long computation the interval may be [-Infinity, Infinity]
[19:34:50] <mark_edward> i've heard that said so much (that programming is like math), but i really cannot see how. my dad was a carpenter and it feels much more like that than integrals and writing proofs
[19:35:21] <doomlord_> agree in practice programming is not maths
[19:35:28] *** Quits: diamond (Richard@moz-FEA87A60.ks.ks.cox.net) (Ping timeout)
[19:35:36] <cmr> mark_edward: it's a different family of mathematics than calculus
[19:35:39] <mark_edward> maybe at a super-high theoretical level, but writing android apps seems have little to do with math
[19:35:46] <mark_edward> cmr: what is it then?
[19:35:48] <kmc> programs are proofs in a precise sense, the Curry-Howard Isomorphism
[19:35:52] <kmc> and they do involve similar forms of thought
[19:36:00] <cmr> Discrete maths, logic
[19:36:11] *** Joins: diamond (Richard@moz-FEA87A60.ks.ks.cox.net)
[19:36:16] *** Joins: lmandel (lmandel@7EA5F9ED.C1499D0.396E4C6D.IP)
[19:36:28] <kmc> you have stuff you already proved / functions you already implemented, and you need to fit them together to satisfy some larger theorem / function
[19:36:32] <kmc> and that happens recursively
[19:36:36] <doomlord_> a lot of programming seems to be issues of managing complexity and communication
[19:36:51] *** Joins: fabiand_ (fabiand@moz-29F1CFD3.dip0.t-ipconnect.de)
[19:36:56] *** Quits: qr42 (qr42@moz-A112B358.oc.oc.cox.net) (Ping timeout)
[19:36:56] <kmc> but yeah, programming in practice is pretty far removed from this, and tied up with a lot of other things
[19:36:57] <cmr> THat falls under the field of software engineering and not computer science, I think
[19:37:04] <mark_edward> kmc: by that logic carpentry is math
[19:37:17] *** Quits: fabiand (fabiand@moz-91C4CAA.dip0.t-ipconnect.de) (Ping timeout)
[19:37:33] *** Quits: nsf (nsf@moz-EEF3238A.convex.ru) (Quit: WeeChat 0.4.1)
[19:37:41] <kmc> mark_edward: well the C-H isomorphism describes what I said in a precise way that probably doesn't hold for carpentry :) 
[19:37:42] <cmr> mark_edward: Have you studied the theory of computation?
[19:37:46] <tjc> relevant: http://xkcd.com/435/
[19:37:48] <kmc> it's just one aspect of programming though
[19:38:16] <doomlord_> naming is a hard problem in programming and that isn't maths
[19:38:19] <kmc> to me, programming is engineering, and engineering involves everything from math to politics :)
[19:38:40] <elly> tjc: "not pictured: philosophy, off to the right"
[19:38:47] <tjc> elly: Indeed
[19:39:08] <doomlord_> the more interesting parts of programming are closer to maths probably 
[19:39:19] <elly> "interesting" is subjective :P
[19:39:20] <kmc> doomlord_: that depends what you personally find interesting, of course ;P
[19:39:29] *** Quits: diamond (Richard@moz-FEA87A60.ks.ks.cox.net) (Ping timeout)
[19:39:30] *** Joins: qr42 (qr42@moz-A112B358.oc.oc.cox.net)
[19:39:41] *** Joins: diamond (Richard@moz-FEA87A60.ks.ks.cox.net)
[19:39:55] <kmc> I have a deep interest in FP and math, and also in low level grungy systems programming :)
[19:40:14] <kmc> I wouldn't claim one is "more interesting" than the other
[19:40:51] <mark_edward> cmr: not really i think. im in a class where we are about FSM's and automata and regular languages though
[19:41:10] <tjc> mark_edward: That's the introductory part of theory of computation, then
[19:41:28] *** Quits: diamond (Richard@moz-FEA87A60.ks.ks.cox.net) (Ping timeout)
[19:41:57] <tjc> those classes usually start with regular languages, then context-free grammars, and it's all leading up to Turing machines, which are the interesting part
[19:42:03] <tjc> well, interesting as in they model what we actually use. Sort of.
[19:42:04] <mark_edward> oh ok then.
[19:42:11] <tjc> And then you get to the halting problem and your mind will get blown
[19:42:13] <tjc> or at least mine did
[19:42:20] *** Joins: diamond (Richard@moz-FEA87A60.ks.ks.cox.net)
[19:42:36] <cmr> Mine did too
[19:42:47] <cmr> It was my first exposure to non-geometric proofs
[19:42:47] <mark_edward> kmc: how is building a cabinet different from maths in a way that writing a prime-sieve fibonacci thing isn't?
[19:42:49] <kmc> but we use CFGs and regular languages too, and they are more interesting in some ways because there are positive results about them, whereas the main results about Turing machines are all about how nothing about them is computable
[19:42:55] <cmr> And proof by contradiction is so cool :)
[19:43:21] <kmc> mark_edward: I can't answer a question that vague, sorry
[19:43:59] <kmc> anyway I'm trying to avoid having an argument about philosophy here
[19:44:07] *** Joins: fabiand__ (fabiand@moz-169772CC.dip0.t-ipconnect.de)
[19:44:42] <mark_edward> kmc: i thought it was maths...
[19:44:45] *** Quits: fabiand_ (fabiand@moz-29F1CFD3.dip0.t-ipconnect.de) (Ping timeout)
[19:44:50] <kmc> again, my view is that engineering is broad enough to encompass everything from math to politics; you don't need to "choose sides" in some war between theorists and pragmatists
[19:45:13] <kmc> all fruitful research involves collaboration between the two
[19:45:17] *** Quits: lmandel (lmandel@7EA5F9ED.C1499D0.396E4C6D.IP) (Quit: lmandel)
[19:45:18] *** Joins: AutomatedTester (David@moz-DB4A9C19.scl3.mozilla.com)
[19:45:40] <doomlord_> what other field of endevour is most similar to programming, i wonder. if any
[19:45:50] *** Quits: SiegeLord (sl@moz-3D449DF.bstnma.fios.verizon.net) (Quit: Leaving)
[19:45:51] <mark_edward> im not trying to, but are the skill sets from analysis in Rn and linear algebra transferable to being a java developer 
[19:46:26] <cmr> physics engines, constraint solvers, graphics, ...
[19:46:34] <cmr> and ultimately it's all problem solving
[19:46:46] <mark_edward> a tiny part of what jaa devs do im sure
[19:46:57] <tjc> mark_edward: depends what the Java developer works
[19:46:58] <tjc> on
[19:46:59] <mark_edward> *java
[19:47:06] <tjc> for working on games or graphics, for example, linear algebra is very relevant
[19:47:17] <kmc> doomlord_: maybe programming and proofs are both like organic synthetic chemistry :)
[19:47:19] <tjc> for other things it may not be directly relevant, but the mode of thinking is very much the same
[19:47:46] <tjc> that's why a lot of mathematicians become programmers when they can't get a math job, but not vice versa ;-)
[19:47:59] <kmc> a lot of *everyone* become programmers when they can't get any other job
[19:48:09] <tjc> heh
[19:48:12] <mark_edward> right, but aren't most devs working in like business logic and stuff like that? making database connecions and stuff
[19:48:17] <tjc> mathematicians and physicists seem to have an easier time picking it up, though
[19:48:22] <kmc> sometimes I feel like we have the last remaining jobs :/
[19:48:29] <tjc> kmc: I agree, it's disturbing to me
[19:48:46] <tjc> mark_edward: I have no idea of what most devs work on. I've been fortunate / privileged enough to not have to know that for the past n years :-)
[19:48:51] <cmr> http://docs.octayn.net/
[19:49:16] <tjc> cmr: Should the links from there work?
[19:49:22] <cmr> They should!
[19:49:23] <cmr> Fixing them now
[19:49:33] <kmc> mark_edward: I don't think we're going to convince you without dragging the channel off-topic for an extended period, so can we just agree that programming is a broad discipline which contains many activities and viewpoints and approaches
[19:49:44] <mark_edward> ok cool
[19:50:57] <tjc> Sorry, I think I kind of started the off-topicness :-)
[19:51:03] * tjc goes back to trying to get this pull request finished
[19:51:07] * tjc is being a bad summit attendee
[19:51:12] <xentrac> I'm a generalist programmer, and I've certainly spent time making database connections and stuff, but also other things
[19:51:43] <xentrac> ultimately programming is mostly more about the problem domain than the machine domain these days
[19:52:28] <xentrac> I'm trying to find an argument for why what I just said is relevant to Rust in particular
[19:52:35] <cmr> heh
[19:52:38] *** Quits: sebcrozet (sebcrozet@moz-C27D92D8.w193-252.abo.wanadoo.fr) (Quit: Gone)
[19:52:46] *** Joins: mikezaby (mikezaby@moz-908EA8DE.home.otenet.gr)
[19:52:59] <tjc> this started with floating-point, so good luck in finding one :-)
[19:53:01] <cmr> Links fixed.
[19:53:40] <tjc> yay, tests pass, going back to summiting ;-)
[19:53:41] *** Quits: tjc (tjc@2E747C8D.C1499D0.396E4C6D.IP) (Quit: Places to go, people to annoy)
[19:53:54] <mark_edward> maybe a fixed point type would be useful. are they hard to implement?
[19:54:00] <xentrac> well, generic arithmetic is surely a good example of improving the reusability of code and thus the ability to separate the problem domain from the machine domain
[19:54:13] <doomlord_> fixed point has its uses, its easy to implement
[19:54:15] <cmr> mark_edward: I'd rather an actual efficient rational type
[19:54:33] <xentrac> cmr: the cases where you want efficient rationals and where you want fixed-point are almost disjoint ;)
[19:54:37] <cmr> Sure
[19:54:48] <xentrac> the cases where you could use either, you would use floating-point instead
[19:54:51] <cmr> But I'd prefer if Rust had efficient rationals before it had fixed point.
[19:54:56] <mark_edward> which one is more generally useful?
[19:55:02] <xentrac> mu
[19:55:16] <xentrac> neither one is generally useful.  floating-point is generally useful.
[19:55:18] <doomlord_> good use of ints in the type system
[19:55:37] <doomlord_> then you can make a very general fixed point templated type
[19:55:56] <xentrac> doomlord_: do you mean that Rust is currently well-suited for doing this, or that it's possible in theory?
[19:56:22] <doomlord_> its one of the things that would be easier when rust gets ints in the type system
[19:56:36] <xentrac> is that all you need?
[19:57:04] <doomlord_> i haven't dealt with overloading in rust much
[19:57:24] <xentrac> "ints in the type system" is one of those things that makes me think "uh-oh, now I need a debugger and unit testing harness for my type sysetm"
[19:57:39] <xentrac> but clearly you can't do general-purpose fixed-point without them
[19:57:49] <doomlord_> in c++ its quite straightforward to make a fxied point type with a template parameter being the number of fraction bits
[19:58:05] <doomlord_> you make all the appropriate operator overloads and you're done
[19:58:34] <xentrac> have you tried it? were you able to get adoption?
[19:58:52] <xentrac> I hope that didn't sound snotty
[19:58:53] <doomlord_> i've done it myself ; its useful for graphics
[19:59:17] <xentrac> I'm genuinely curious about what kinds of unexpected problems might come up trying to do that in C++
[19:59:24] <doomlord_> not many
[19:59:33] <mark_edward> ints would aso be good 4 no overhead SI units
[19:59:59] <mark_edward> i did something close real easy in C++
[20:00:00] <xentrac> like m³/s?
[20:00:06] <doomlord_> yes
[20:00:13] *** Joins: robertknight (robertknig@moz-54528EE0.wby.mendeley.com)
[20:00:18] <mark_edward> https://github.com/MarkJr94/units
[20:00:38] <xentrac> static dimensional analysis seems like it would be really useful, and the only language I know of that has it is Fortress
[20:00:49] <xentrac> although obviously it's implementable in C++
[20:00:54] *** Quits: steveklabnik (steveklabn@moz-5EF6C37C.socal.res.rr.com) (Ping timeout)
[20:00:54] *** Quits: stevekla1nik (steveklabn@moz-5EF6C37C.socal.res.rr.com) (Ping timeout)
[20:01:06] <xentrac> even without ints in the type system, using Church or Peano numerals ;)
[20:01:55] <xentrac> mark_edward: oh neat, you implemented it in C++? how does 100.0_m parse?
[20:02:00] *** Quits: hjr3 (hradtke@1A0AE795.28A5F6C3.A2D40ED2.IP) (Ping timeout)
[20:02:00] *** Quits: robertknight (robertknig@moz-54528EE0.wby.mendeley.com) (Ping timeout)
[20:02:14] *** Quits: diamond (Richard@moz-FEA87A60.ks.ks.cox.net) (Ping timeout)
[20:02:20] <mark_edward> C++11 has user defined literals
[20:02:34] *** Joins: diamond (Richard@moz-FEA87A60.ks.ks.cox.net)
[20:02:45] <xentrac> awesome
[20:02:58] <xentrac> does it handle arbitrary powers of arbitrary units?
[20:03:15] <mark_edward> yup
[20:03:25] <doomlord_> indices for M L T ?
[20:03:47] <mark_edward> what is M L T
[20:03:55] <doomlord_> Mass Length Time
[20:04:04] *** Joins: spott (spott@moz-9B11536C.hsd1.co.comcast.net)
[20:04:12] <doomlord_> length  is 0,1,0
[20:04:17] *** Quits: Yurume (yurume@AC58A8CE.8A059B47.E313B915.IP) (Ping timeout)
[20:04:17] *** Quits: diamond (Richard@moz-FEA87A60.ks.ks.cox.net) (Ping timeout)
[20:04:17] <mark_edward> all 7 base SI units
[20:04:22] <doomlord_> acceleration is 0,1,-2
[20:04:23] <doomlord_> etc
[20:04:44] <xentrac> nice
[20:04:46] <doomlord_> the idea is you express a scientific unit as powers of Mass,Length,Time
[20:04:49] <mark_edward> https://github.com/MarkJr94/units/blob/master/Units.hpp#L139-L147
[20:05:21] *** Joins: hjr3 (hradtke@1A0AE795.28A5F6C3.A2D40ED2.IP)
[20:05:30] *** Joins: diamond (Richard@moz-FEA87A60.ks.ks.cox.net)
[20:05:42] *** Joins: steveh (Mibbit@moz-1770FFAB.lightspeed.ltrkar.sbcglobal.net)
[20:05:43] *** Joins: victorporof (victorporo@35F65A40.E0F96B01.D111398B.IP)
[20:05:44] <xentrac> doomlord_: you don't *really* need separate length and time ;) http://lists.canonical.org/pipermail/kragen-tol/2008-July/000903.html
[20:07:14] *** Quits: diamond (Richard@moz-FEA87A60.ks.ks.cox.net) (Ping timeout)
[20:07:14] <steveh> [anyone]: Is there a way to allocate a buffer in rust having a certain alignment for the start of data?  Intel's math lib prefers data to start at 64byte boundaries
[20:07:47] *** Quits: victorporof (victorporo@35F65A40.E0F96B01.D111398B.IP) (Ping timeout)
[20:08:47] *** Quits: spott (spott@moz-9B11536C.hsd1.co.comcast.net) (Client exited)
[20:10:23] *** Quits: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Input/output error)
[20:11:01] <sfackler> steveh: there's a bug open for that here https://github.com/mozilla/rust/issues/4578
[20:11:16] *** Joins: spott (spott@moz-9B11536C.hsd1.co.comcast.net)
[20:11:47] *** Joins: tautologico (lymph@7A53DAF8.92451A23.6EB699AE.IP)
[20:12:14] <engla> mark_edward: what part of that is implementable in Rust?
[20:13:14] <mark_edward> none of it basically
[20:13:37] <mark_edward> relies heaviy on int type parameters
[20:14:07] <steveh> sfackler: thx for the link, looks like I'm on my own for now as far as alignment goes
[20:14:40] <cmr> They're not type parameters, ints aren't types.
[20:14:54] <mark_edward> template params then
[20:16:00] *** jorendorff_away is now known as jorendorff
[20:16:33] <kmc> steveh: you could call a platform-specific function (e.g. posix_memalign)
[20:17:33] <steveh> kmc: I tried calling intel's MKL_malloc but it's causing crashes at first write to the memory.  I assumed it's not safe to mix allocators(?)
[20:17:59] <kmc> can you pastebin your code for calling MKL_malloc?
[20:18:41] <kmc> you should be able to use the result as a raw pointer.  if you transmute it to a ~ pointer then it could blow up on free, yeah
[20:19:00] *** Quits: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[20:19:37] <doomlord_> custom alignment is definitely something we needed in games
[20:20:10] <steveh> I was stuffing it in an extra CVec.  I'll try to post a gist in a minute...
[20:21:29] *** Joins: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net)
[20:22:14] *** Joins: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[20:23:31] <kmc> posix_memalign returns a value that can be freed with free(), so you *might* get away with coercing it to ~
[20:23:45] <cmr> We use statically linked jemalloc for ~ too
[20:23:47] <engla> you could definitely encapsulate this in a custom vector-like type
[20:24:05] <kmc> yep
[20:24:12] <doomlord_> does jemalloc have an alignment parameter
[20:24:22] <doomlord_> (even if rust can't use it yet)
[20:24:25] *** Quits: spott (spott@moz-9B11536C.hsd1.co.comcast.net) (Client exited)
[20:24:26] <cmr> yes
[20:24:40] <sfackler> if the allocation is large enough, it will end up 4k aligned anyways iirc
[20:24:44] <cmr> via posix_memalign
[20:24:56] <doomlord_> i guess rust would align to the largest contained fundemental type
[20:25:10] *** Joins: spott (spott@moz-9B11536C.hsd1.co.comcast.net)
[20:25:16] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[20:25:20] *** Joins: Ms2ger|hotel (Ms2ger@moz-AA7C460.adsl-static.isp.belgacom.be)
[20:25:20] *** Quits: spott (spott@moz-9B11536C.hsd1.co.comcast.net) (Broken pipe)
[20:26:15] <Amaranth> posix_memalign is provided by jemalloc isn't it? If so calling it and casting it to a ~ would be alright I would think
[20:26:28] <Amaranth> Although that is based on implementation details and such
[20:26:38] *** Quits: Ms2ger|hotel (Ms2ger@moz-AA7C460.adsl-static.isp.belgacom.be) (Max SendQ exceeded)
[20:26:42] <kmc> it's too bad we don't have per-container pluggable allocators a la STL
[20:26:54] *** Joins: Ms2ger|hotel (Ms2ger@moz-AA7C460.adsl-static.isp.belgacom.be)
[20:26:59] <Amaranth> kmc: Need placement new first
[20:27:05] <kmc> yeah
[20:28:36] *** Quits: pepper_chico (pepper_chi@moz-9A2FC724.dsl.telesp.net.br) (Quit: Ex-Chat)
[20:29:08] *** Joins: pepper_chico (pepper_chi@moz-9A2FC724.dsl.telesp.net.br)
[20:29:26] *** Joins: spott (spott@moz-9B11536C.hsd1.co.comcast.net)
[20:32:33] *** Joins: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net)
[20:32:56] *** Quits: pepper_chico (pepper_chi@moz-9A2FC724.dsl.telesp.net.br) (Quit: Ex-Chat)
[20:33:09] *** Joins: pepper_chico (pepper_chi@moz-9A2FC724.dsl.telesp.net.br)
[20:33:20] *** Joins: jensnockert (jensnocker@moz-8BE55278.customer.t3.se)
[20:33:34] *** Joins: diamond (Richard@moz-80556682.ks.ks.cox.net)
[20:34:12] *** jorendorff is now known as jorendorff_away
[20:35:03] *** Quits: jensnockert (jensnocker@moz-8BE55278.customer.t3.se) (Ping timeout)
[20:36:03] *** Quits: mikezaby (mikezaby@moz-908EA8DE.home.otenet.gr) (Input/output error)
[20:38:23] *** Joins: pcwalton (pcwalton@79611EE9.A51CB73B.6FBF6D51.IP)
[20:38:23] *** ChanServ sets mode: +ao pcwalton pcwalton
[20:39:33] <steveh> kmc: OK a crashing attempt to use intel's MKL allocator: https://gist.github.com/scharris/6832333
[20:40:47] <steveh> This was my first attempt to use c_vec btw, not sure if done properly.
[20:41:30] *** Quits: Ms2ger|hotel (Ms2ger@moz-AA7C460.adsl-static.isp.belgacom.be) (Quit: Leaving)
[20:42:10] <kmc> hm, I haven't used c_vec
[20:42:11] *** Joins: Ms2ger (Ms2ger@moz-AA7C460.adsl-static.isp.belgacom.be)
[20:42:23] <kmc> does it crash if you directly write to the pointer, eg *p = 3;
[20:42:48] <tautologico> float has been renamed?
[20:42:54] *** Ms2ger is now known as Ms2ger|hotel
[20:43:06] <Ms2ger|hotel> tautologico, removed, I think
[20:43:06] <kmc> it's been removed; now we just have f32 and f64
[20:43:18] <tautologico> right
[20:43:25] <kmc> old float was equivalent to f64 on all (?) platforms
[20:44:24] *** Quits: pcwalton (pcwalton@79611EE9.A51CB73B.6FBF6D51.IP) (Quit: .)
[20:44:42] <steveh> kmc: yes still crashes using *c_vec::ptr(data) = 1.;
[20:45:49] <steveh> Let me try the assignment on the C side...
[20:47:04] *** Joins: Ferreus (ferreus@moz-5B6BD6A2.pools.arcor-ip.net)
[20:48:06] *** Quits: dew1 (Instantbir@moz-EEE6B2F8.dhcp.stls.mo.charter.com) (Ping timeout)
[20:49:05] <kmc> steveh: what if you don't use c_vec at all, and just assign through the pointer returned by alloc_doubles
[20:49:18] *** Quits: lfox (larryfox@moz-343B6F0C.nyc.biz.rr.com) (Ping timeout)
[20:49:43] *** Joins: jgilbert (jgilbert@79611EE9.A51CB73B.6FBF6D51.IP)
[20:50:12] <steveh> kmc: Actually it's crashing if I assign on the C side right after the allocation.  :-O  So I've got some kind of MKL problem or I don't understand the api.  So, not a Rust problem!
[20:50:21] <engla> uh, it looks like c_vec::ptr takes the CVec by value which will call its destructor
[20:50:50] <engla> ? I don't understand that module
[20:50:58] *** Quits: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net) (Quit: sw17ch)
[20:51:34] <kmc> steveh: hm, okay
[20:52:09] <steveh> kmc: So you think if I get the MKL problem figured out, it would be OK to use it's allocator alongside Rust's?
[20:53:52] <kmc> steveh: definitely ok if you're using c_vec or raw pointers
[20:54:00] *** Quits: msingle (Thunderbir@moz-930E5D97.hr.hr.cox.net) (Ping timeout)
[20:54:13] <kmc> then you're using the allocators alongside, but not mixing them
[20:54:42] *** jorendorff_away is now known as jorendorff
[20:54:55] <kmc> but transmuting it to a ~-pointer may not work, and if it does work, that's an implementation detail which may change at any point
[20:54:59] <steveh> kmc: OK, so they are ultimately drawing memory from the same source, and won't both allocate the same memory?  I'm hazy on what happens under malloc(), brk() or something like that?
[20:55:16] <cmr> Well
[20:55:24] <cmr> Ideally they'd be using their own mmap'd pools.
[20:55:24] *** Quits: Ms2ger|hotel (Ms2ger@moz-AA7C460.adsl-static.isp.belgacom.be) (Ping timeout)
[20:55:29] *** Joins: threecreepio (jdp@moz-9C11F46E.cust.bredbandsbolaget.se)
[20:55:37] <cmr> But that's a good question :\
[20:55:39] <engla> (c_vec needs a modernization for sure)
[20:55:54] <engla> steveh: as long as it doesn't say it's incompatible with libc malloc it should be fine
[20:57:16] <kmc> and if it's incompatible with libc malloc then it's incompatible with much of libc, so I very much doubt the MKL authors went that route
[20:57:40] *** Joins: Ms2ger (Ms2ger@moz-AA7C460.adsl-static.isp.belgacom.be)
[20:57:54] <kmc> probably it's either calling libc malloc / posix_memalign, or it's asking the OS for its own pages via mmap()
[20:59:17] *** Joins: tikue_ (tikue_star@4DE61C68.AE5E2FB1.689607DE.IP)
[21:00:18] *** Joins: sw17ch (sw17ch@moz-9D524DE1.hsd1.mi.comcast.net)
[21:00:38] *** Joins: lucian (lucian@moz-22A14C6A.cable.virginmedia.com)
[21:01:51] *** Joins: sw17ch_ (sw17ch@moz-6761BA23.members.linode.com)
[21:02:01] *** Quits: sw17ch (sw17ch@moz-9D524DE1.hsd1.mi.comcast.net) (Ping timeout)
[21:02:02] *** sw17ch_ is now known as sw17ch
[21:02:08] *** Joins: dherman (dherman@79611EE9.A51CB73B.6FBF6D51.IP)
[21:02:08] *** ChanServ sets mode: +ao dherman dherman
[21:03:14] <engla> once you have an allocated buf you can expose it as a vector slice for convenience. and reusing all the vec slice methods including .iter()
[21:04:18] *** Joins: BitPuffin (isak@moz-49828767.cust.tele2.se)
[21:05:32] <kmc> ah that's a good point
[21:05:52] <kmc> vec::raw::buf_as_slice
[21:06:11] *** Joins: victorporof (victorporo@35F65A40.E0F96B01.D111398B.IP)
[21:06:18] <kmc> of course individual sub-slices might not be aligned
[21:06:21] *** Quits: tikue_ (tikue_star@4DE61C68.AE5E2FB1.689607DE.IP) (Ping timeout)
[21:06:55] *** Joins: dew (Instantbir@moz-EEE6B2F8.dhcp.stls.mo.charter.com)
[21:07:01] *** Quits: dherman (dherman@79611EE9.A51CB73B.6FBF6D51.IP) (Ping timeout)
[21:07:42] *** Quits: jgilbert (jgilbert@79611EE9.A51CB73B.6FBF6D51.IP) (Ping timeout)
[21:08:01] *** Quits: victorporof (victorporo@35F65A40.E0F96B01.D111398B.IP) (Ping timeout)
[21:08:58] *** Joins: Liothen (liothen@moz-266BCA86.spkn.qwest.net)
[21:11:12] *** Joins: dherman (dherman@79611EE9.A51CB73B.6FBF6D51.IP)
[21:11:12] *** ChanServ sets mode: +ao dherman dherman
[21:11:15] *** Joins: jgilbert (jgilbert@79611EE9.A51CB73B.6FBF6D51.IP)
[21:11:40] <engla> that kind of shows how the slice is a fundamental piece of the language while the particular allocator, behavior on growth etc that's encoded in ~[] is not
[21:12:39] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[21:13:01] *** Quits: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[21:13:48] *** Quits: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca) (Ping timeout)
[21:14:01] *** Quits: heftig (heftig@moz-856CFF40.dip0.t-ipconnect.de) (Ping timeout)
[21:15:37] *** Joins: tikue_ (tikue_star@A50B7535.3B4A6B80.689607DE.IP)
[21:16:24] *** Joins: heftig (heftig@moz-513A60DF.dip0.t-ipconnect.de)
[21:17:04] *** Joins: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net)
[21:18:03] *** Quits: zheitny (nick@moz-B41B4B6D.neo.res.rr.com) (Client exited)
[21:18:15] *** Joins: dandy (Dandy@moz-84CC8377.hsd1.co.comcast.net)
[21:19:26] *** Quits: tikue_ (tikue_star@A50B7535.3B4A6B80.689607DE.IP) (Ping timeout)
[21:19:49] *** Quits: Blub\w (wry@7E3BB9D.71150E1A.237AE2BA.IP) (Quit: night)
[21:21:24] *** Quits: dew (Instantbir@moz-EEE6B2F8.dhcp.stls.mo.charter.com) (Ping timeout)
[21:21:30] *** Joins: steveklabnik (steveklabn@moz-389D91E.public.wayport.net)
[21:22:02] *** Joins: dew (Instantbir@moz-EEE6B2F8.dhcp.stls.mo.charter.com)
[21:22:03] *** Quits: spott (spott@moz-9B11536C.hsd1.co.comcast.net) (Client exited)
[21:22:27] *** Joins: tikue_ (tikue_star@A50B7535.3B4A6B80.689607DE.IP)
[21:22:39] *** Quits: jesse98 (jjones@6251EDC2.15651213.B46B86FA.IP) (Connection reset by peer)
[21:23:47] *** Quits: dew (Instantbir@moz-EEE6B2F8.dhcp.stls.mo.charter.com) (Ping timeout)
[21:24:02] *** Quits: sw17ch (sw17ch@moz-6761BA23.members.linode.com) (Ping timeout)
[21:25:25] *** Quits: Ms2ger (Ms2ger@moz-AA7C460.adsl-static.isp.belgacom.be) (Ping timeout)
[21:26:02] *** Quits: tikue_ (tikue_star@A50B7535.3B4A6B80.689607DE.IP) (Ping timeout)
[21:26:31] *** Joins: stevekla1nik (steveklabn@moz-389D91E.public.wayport.net)
[21:26:39] *** Joins: dew (Instantbir@moz-EEE6B2F8.dhcp.stls.mo.charter.com)
[21:28:20] *** Quits: dew (Instantbir@moz-EEE6B2F8.dhcp.stls.mo.charter.com) (Ping timeout)
[21:28:32] *** Joins: dew (Instantbir@moz-EEE6B2F8.dhcp.stls.mo.charter.com)
[21:29:25] *** Joins: keret (Mibbit@moz-938ED1CD.adsl.highway.telekom.at)
[21:30:03] *** Joins: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca)
[21:30:04] *** Quits: keret (Mibbit@moz-938ED1CD.adsl.highway.telekom.at) (Quit: http://www.mibbit.com ajax IRC Client)
[21:30:32] *** Joins: sinma (sinma@moz-6A11C47C.fbx.proxad.net)
[21:30:37] <sinma> hello
[21:30:52] <sinma> I have a «task '<unnamed>' failed at 'called `Option::get_ref()` on a `None` value', /build/rust-git/src/rust/src/libstd/option.rs:282» error message
[21:31:01] <sinma> with rustdoc, but I’ve no code
[21:31:28] <cmr> sinma: there's a line before it that you should read.
[21:31:29] <sinma> (that is, I’ve a fn main() {} )
[21:31:38] <dandy> Yesterday I saw some rust code using the keyword pure, is that a thing?
[21:31:43] <cmr> dandy: not anymore.
[21:31:51] <sinma> cmr: there’s no other line
[21:31:54] <sinma> before
[21:32:00] <dandy> is there any way to signal purity or is that the compilers job?
[21:32:01] <cmr> sinma: it should say:
[21:32:02] <cmr> task '<unnamed>' failed at 'rustdoc requires a \#[link(name="foo")] crate attribute', /build/rust-git/src/rust/src/librustdoc/clean.rs:89
[21:32:04] <cmr> task '<unnamed>' failed at 'called `Result::unwrap()` on `Err` value: ()', /build/rust-git/src/rust/src/libstd/result.rs:110
[21:32:14] *** Joins: Luqman (laden@moz-AB7945E9.csclub.uwaterloo.ca)
[21:32:19] <cmr> dandy: It's not possible atm, but what do you mean by purity?
[21:32:22] <sinma> It said it when I have some code in it
[21:32:37] <dandy> "I promise I won't mutate stuff and will always return the same thing"
[21:32:38] <sinma> I’ve a #[link(name = ………]
[21:32:54] <sinma> cmr: it just output the line I’ve send
[21:33:13] <cmr> sinma: you're probably missing the semicolon at the end.
[21:33:32] <dandy> If you forget the ; it seems to just ignore it
[21:33:41] <cmr> dandy: so referential transparency. A potential effect system could express that, but that's post-1.0
[21:33:52] <sinma> #[link(name = "Test")]; fn main() {}
[21:34:01] <cmr> dandy: it doesn't ignore it, the attribute just gets applied to a different item
[21:34:01] <sinma> That’s the only code I have
[21:34:26] <cmr> sinma: yikes, that's a bug.
[21:34:40] <sinma> Maybe it’s because I’ve no doc at all?
[21:34:50] <sinma> Nope
[21:34:59] <cmr> I don't actually no
[21:35:02] <cmr> *know
[21:35:54] <sinma> cmr: it’s a nightly build so maybe it’s broken today
[21:36:02] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Client exited)
[21:36:09] <cmr> sinma: it's a regression, in the HTML formatter.
[21:36:27] *** Quits: dherman (dherman@79611EE9.A51CB73B.6FBF6D51.IP) (Ping timeout)
[21:36:28] <sinma> I’ll try markdown output so
[21:36:37] <cmr> We don't have markdown output :p
[21:36:39] *** Joins: victorporof (victorporo@35F65A40.E0F96B01.D111398B.IP)
[21:37:23] <sinma> cmr: damn outdated docs
[21:37:36] *** jorendorff is now known as jorendorff_away
[21:37:43] <sinma> cmr: task '<unnamed>' failed at 'Rust generated JSON is invalid??', /build/rust-git/src/rust/src/librustdoc/rustdoc.rs:309
[21:37:43] *** Quits: BitPuffin (isak@moz-49828767.cust.tele2.se) (Ping timeout)
[21:37:49] <cmr> Also a regression
[21:37:58] <cmr> rustdoc doesn't have a testsuite right now :(
[21:38:06] <sinma> Damn, is it only possible to generate docs? xD
[21:38:49] *** Quits: victorporof (victorporo@35F65A40.E0F96B01.D111398B.IP) (Ping timeout)
[21:39:34] <dandy> why would somebody use a 'fn new' instead of just let a = Thing { a:1i, b:2_f64} 
[21:39:43] <dandy> just to avoid the parameter names?
[21:39:50] *** Joins: Ms2ger (Ms2ger@moz-AA7C460.adsl-static.isp.belgacom.be)
[21:39:51] <cmr> dandy: default args, private fields.
[21:40:20] <cmr> well, default values in fields.
[21:40:41] <kmc> it's pretty tricky to nail down exactly which functions should be considered "pure", anyway
[21:40:41] *** jorendorff_away is now known as jorendorff
[21:40:46] <sinma> class invariants and the like
[21:40:48] <kmc> much ink is spilled over this in the Haskell community
[21:42:17] <dandy> not a huge deal here as most of the time I spend with invariants is to keep things from being null
[21:42:29] *** Quits: dew (Instantbir@moz-EEE6B2F8.dhcp.stls.mo.charter.com) (Ping timeout)
[21:43:53] *** Joins: dew (Instantbir@moz-EEE6B2F8.dhcp.stls.mo.charter.com)
[21:44:33] *** Quits: Ms2ger (Ms2ger@moz-AA7C460.adsl-static.isp.belgacom.be) (Ping timeout)
[21:44:42] *** Quits: tgummerer (tgummerer@51D3B54.FEF996EA.EA6FEF3D.IP) (Ping timeout)
[21:45:53] *** Joins: nsf (nsf@moz-EEF3238A.convex.ru)
[21:45:56] <engla> a rust oddity: you can create a safe universal constructor for 0-size types. fn nil<T>() -> T { unsafe { std::cast::transmute(()) } }   because transmute checks that the transmuted type's sizes match
[21:46:45] *** Quits: jgilbert (jgilbert@79611EE9.A51CB73B.6FBF6D51.IP) (Ping timeout)
[21:47:43] *** Quits: sinma (sinma@moz-6A11C47C.fbx.proxad.net) (Quit: Konversation terminated!)
[21:48:00] <dandy> magnitude_squared vs mag_sq .... fight!
[21:48:06] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[21:48:38] *** Quits: saml (sam@moz-14C16814.cst.lightpath.net) (Quit: Leaving)
[21:48:52] *** Quits: dew (Instantbir@moz-EEE6B2F8.dhcp.stls.mo.charter.com) (Ping timeout)
[21:49:20] <dandy> is there a rust style preference?
[21:50:06] *** Joins: dew (Instantbir@moz-EEE6B2F8.dhcp.stls.mo.charter.com)
[21:50:55] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Client exited)
[21:51:31] *** Quits: Kruppe (user@moz-EE1E894A.home3.cgocable.net) (Ping timeout)
[21:51:46] *** Quits: dew (Instantbir@moz-EEE6B2F8.dhcp.stls.mo.charter.com) (Ping timeout)
[21:52:01] *** Joins: dew (Instantbir@moz-EEE6B2F8.dhcp.stls.mo.charter.com)
[21:52:33] <sfackler> i'd lean towards mag_sq
[21:53:21] <kmc> I would go with whatever's consistent with other functions, and if you're naming the other functions too then pick a convention which is nice overall
[21:54:06] *** Quits: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[21:54:16] *** Quits: [squiddy] (squiddy@moz-2262CE3E.dynamic.cablesurf.de) (Quit: Leaving)
[21:54:16] <kmc> engla: cool, but only fsvo "safe"... I might have a 0-size type where the existence of a value is supposed to represent that some global state was initialized
[21:54:28] *** Joins: jstevans (Instantbir@moz-CC62D67B.bootp.virginia.edu)
[21:54:41] <kmc> and Drop might even try to clean up that state
[21:54:42] *** Parts: clusterfoo (computer@moz-A81F9872.cable.teksavvy.com) ()
[21:55:05] *** Quits: dew (Instantbir@moz-EEE6B2F8.dhcp.stls.mo.charter.com) (Ping timeout)
[21:56:07] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[21:57:15] <dandy> is there a way to escape a macro delimiter? It does not care for $($c * $c)+* to produce (x * x) + (y * y) for example
[21:57:18] <engla> oh true
[21:57:48] *** Joins: dew (Instantbir@moz-EEE6B2F8.dhcp.stls.mo.charter.com)
[22:00:36] <dandy> $(($c * $c))-* works but $(($c * $c))+* is surprised to find a }
[22:00:51] <dandy> I guess because + is part of the match pattern
[22:01:52] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[22:03:26] <kmc> dandy: I'm not sure but you should try asking pauls when they reappear
[22:03:30] *** Quits: dew (Instantbir@moz-EEE6B2F8.dhcp.stls.mo.charter.com) (Ping timeout)
[22:03:37] <dandy> okay
[22:04:57] <dandy> is there some way I can add an arbitrary set of things? or optimize out a 0.add(x)
[22:05:16] <kmc> have you looked at the optimized machine code output of 0.add(x)? I would expect LLVM to fully inline that
[22:05:25] <dandy> I don't know how to get it
[22:05:47] <dandy> I can produce fn magnitude_squared(&self) -> T { 0.add(x * x).add(y * y) } from 0$(.add($c * $c))*
[22:05:53] *** jorendorff is now known as jorendorff_away
[22:07:09] *** Joins: dew (Instantbir@moz-EEE6B2F8.dhcp.stls.mo.charter.com)
[22:07:40] *** Joins: sinma (sinma@moz-6A11C47C.fbx.proxad.net)
[22:08:02] <kmc> dandy: I would look at the resulting executable / library with objdump
[22:08:10] <sinma> Hey, if I want to add some string to another string, are there any method to do that? (instead of +=)
[22:08:41] <sinma> like a concatenation
[22:08:48] <kmc> you mean concat but not in-place?
[22:08:50] *** Joins: lkuper_ (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[22:08:53] *** Quits: dew (Instantbir@moz-EEE6B2F8.dhcp.stls.mo.charter.com) (Ping timeout)
[22:09:14] <kmc> you can use +
[22:09:16] *** Joins: dew (Instantbir@moz-EEE6B2F8.dhcp.stls.mo.charter.com)
[22:09:17] <sinma> kmc: I mean like add method for vectors
[22:09:28] <sinma> I mean psuh
[22:09:30] <sinma> *push
[22:09:39] <kmc> ~str has .push_str()
[22:09:46] <sinma> Wait… I can use push if it’s a ~[u8]
[22:10:04] <kmc> ~str isn't the same as ~[u8], but they have many of the same methods
[22:10:39] <sinma> kmc: in the doc, «~str is the same as ~[u8]»
[22:10:43] <kmc> really
[22:10:44] <kmc> where?
[22:10:48] <sinma> I means in term of memory?
[22:10:49] <engla> sinma: .push_str is the method
[22:10:53] <sinma> http://static.rust-lang.org/doc/master/std/str/index.html
[22:10:56] *** Quits: dew (Instantbir@moz-EEE6B2F8.dhcp.stls.mo.charter.com) (Ping timeout)
[22:11:02] <kmc> sure, str has the invariant that the contents are valid UTF-8, though
[22:11:14] <kmc> so they aren't the same type
[22:11:44] <engla> sinma: it wants to say they have the same representation
[22:11:56] *** Joins: dew (Instantbir@moz-EEE6B2F8.dhcp.stls.mo.charter.com)
[22:12:06] *** Joins: dherman (dherman@79611EE9.A51CB73B.6FBF6D51.IP)
[22:12:06] *** ChanServ sets mode: +ao dherman dherman
[22:12:34] <sinma> engla: that’s implicit ^^
[22:12:46] <cmr> It does say that, "The actual representation of strings have direct mappings to vectors:"
[22:12:54] <cmr> But representation != semantics
[22:13:18] <sinma> cmr: I might be more carreful, thx
[22:13:41] *** Quits: sinma (sinma@moz-6A11C47C.fbx.proxad.net) (Quit: Konversation terminated!)
[22:15:42] *** Quits: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[22:16:33] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Connection reset by peer)
[22:16:55] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[22:17:08] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[22:18:07] *** Quits: donri (donri@moz-9BB61102.tbcn.telia.com) (Client exited)
[22:21:31] <Amaranth> Wow is that huge drop on http://huonw.github.io/isrustfastyet/mem/ a bug or did something get fixed?
[22:21:53] *** Joins: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net)
[22:22:04] <cmr> Amaranth: something got fixed.
[22:23:10] *** Quits: alon (alon@2D4907F1.66334A3F.AB64B967.IP) (Ping timeout)
[22:23:44] *** Quits: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net) (Connection reset by peer)
[22:24:05] *** Joins: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net)
[22:24:43] *** Quits: dew (Instantbir@moz-EEE6B2F8.dhcp.stls.mo.charter.com) (Ping timeout)
[22:24:48] <Amaranth> cmr: I guess I must be missing something, the commit where it drops seems to be documentation
[22:25:56] <cmr> Amaranth: all of the commits from now until like yesterday haven't been benched yet.
[22:26:35] *** Quits: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[22:26:40] <dandy> kmc, I produce a windows DLL so I wonder if that is why objdump is not giving me anything useful? I see plenty of ASM but have no idea what the ASM is for, no source or symbol
[22:27:29] <engla> Amaranth: the fix was 9344e2a
[22:28:53] *** Joins: dew (Instantbir@moz-EEE6B2F8.dhcp.stls.mo.charter.com)
[22:29:15] <dandy> I built with -Zextra-debug-info but is there something else maybe that I need to get symbols from objdump?
[22:29:27] <Amaranth> engla: Cool, thanks
[22:29:53] <cmr> dandy: objdump -S ?
[22:30:33] *** Quits: alk (alk@moz-32A9FF6A.fbxo.proxad.net) (Ping timeout)
[22:30:44] <dandy> I don't see any of my code in there
[22:30:47] *** jorendorff_away is now known as jorendorff
[22:30:49] <dandy> a bunch of mingw stuff
[22:31:07] <cmr> Use rustc -S
[22:32:00] *** Joins: dew1 (Instantbir@moz-EEE6B2F8.dhcp.stls.mo.charter.com)
[22:32:20] <dandy> still has none of my code!
[22:32:24] *** Joins: spott (spott@moz-9B11536C.hsd1.co.comcast.net)
[22:32:25] <dandy> OH because its not public
[22:32:31] <dandy> so it got optimzied out I bet...
[22:32:57] *** Quits: dew (Instantbir@moz-EEE6B2F8.dhcp.stls.mo.charter.com) (Ping timeout)
[22:33:44] *** Quits: dew1 (Instantbir@moz-EEE6B2F8.dhcp.stls.mo.charter.com) (Ping timeout)
[22:33:50] *** Joins: dew (Instantbir@moz-EEE6B2F8.dhcp.stls.mo.charter.com)
[22:34:09] *** Quits: spott (spott@moz-9B11536C.hsd1.co.comcast.net) (Ping timeout)
[22:34:17] *** Joins: maik (maik@moz-8782792E.dip0.t-ipconnect.de)
[22:34:46] *** Quits: fabiand__ (fabiand@moz-169772CC.dip0.t-ipconnect.de) (Quit: Verlassend)
[22:36:39] *** Quits: steveklabnik (steveklabn@moz-389D91E.public.wayport.net) (Ping timeout)
[22:36:44] *** Quits: stevekla1nik (steveklabn@moz-389D91E.public.wayport.net) (Ping timeout)
[22:37:10] *** Joins: victorporof (victorporo@35F65A40.E0F96B01.D111398B.IP)
[22:37:39] *** Joins: alon (alon@AED31E1.123B3D51.F9582E85.IP)
[22:38:39] <engla> #[inline(never)] can help
[22:39:03] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Client exited)
[22:39:09] *** Quits: nsf (nsf@moz-EEF3238A.convex.ru) (Quit: WeeChat 0.4.1)
[22:39:20] *** Quits: victorporof (victorporo@35F65A40.E0F96B01.D111398B.IP) (Ping timeout)
[22:41:06] *** Quits: dherman (dherman@79611EE9.A51CB73B.6FBF6D51.IP) (Quit: dherman)
[22:41:50] *** Quits: Scriptor (historium@moz-E06F46F0.corp.bitshelter.com) (Quit: Scriptor)
[22:42:08] *** Quits: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net) (Ping timeout)
[22:42:56] <dandy> my fns are definitely public. this is the result of "rustc -S --lib -Zextra-debug-info ./vertesaur/lib.rs" http://pastebin.com/tPNtJYAZ
[22:43:32] <dandy> I even used my .dll in a little sandbox.rs program so I know Vector2::mag_sq is there, but I don't see it in anything from objdump or rustc -S
[22:44:38] *** Quits: dew (Instantbir@moz-EEE6B2F8.dhcp.stls.mo.charter.com) (Ping timeout)
[22:44:54] <cmr> What are you searching for? You know we mangle symbols, right?
[22:45:15] <dandy> I want to see the ASM for my fn mag_sq
[22:45:36] <dandy> and I have no idea what I am doing, I am completely new to GNU
[22:45:45] <dandy> and worse I am doing it on windows
[22:46:14] *** Quits: CarpNet (Alasdair@moz-EF831A5E.cable.virginmedia.com) (Quit: Leaving)
[22:46:17] *** Quits: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Input/output error)
[22:46:27] *** Joins: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net)
[22:46:50] *** jorendorff is now known as jorendorff_away
[22:46:54] <cmr> Are you sure that's the output of --lib? There's a main function there.
[22:47:11] <dandy> I have a fn main() { } and I forget why
[22:48:15] *** Joins: Jesin (Jessin_@moz-6EF909D6.cc.lehigh.edu)
[22:48:46] <dandy> taking it out didn't add anything
[22:49:37] <cmr> Is your repo up to date?
[22:49:45] <dandy> it is now: git@github.com:aarondandy/vertesaur-rust.git
[22:50:37] <dandy> if you don't mind could you try building it? I wonder if it is just a Windows thing
[22:50:44] <cmr> That's what i'm doing, yeah
[22:51:24] <cmr> Ok, I'm seeing it too, gunna poke around a bit..
[22:51:52] <cmr> OH
[22:51:57] <cmr> It's because they're generic and never used.
[22:52:03] *** Joins: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[22:52:07] <cmr> Generics only output stuff into metadata
[22:52:10] <cmr> (for libraries)
[22:52:12] *** Quits: steveh (Mibbit@moz-1770FFAB.lightspeed.ltrkar.sbcglobal.net) (Quit: http://www.mibbit.com ajax IRC Client)
[22:52:19] <dandy> gotcha
[22:52:28] <dandy> what if I test it?
[22:52:44] <dandy> but I was bad an never made a unit test for it :)
[22:53:08] <cmr> yeah, if it's used at all and you're making an executable (not a library!) it will actually emit code.
[22:53:30] <dandy> makes sense
[22:53:59] *** jorendorff_away is now known as jorendorff
[22:54:04] *** Joins: dew (Instantbir@moz-EEE6B2F8.dhcp.stls.mo.charter.com)
[22:54:41] <dandy> has it already been decided that 9 being interpreted as 9i and 9.0 being interpretd as 9_f64 is bad?
[22:55:24] <cmr> that's only the fallback in case inference fails.
[22:55:38] <cmr> it's not ideal, but it's probably not going to change until/unless we have generic numeric literals.
[22:56:21] <engla> dandy:  let x = 9;  x + 3i8  // type checker will determine type of `x` is i8.
[22:56:37] <engla> hm it might be  3i8 + x  though for that to work..
[22:56:39] *** Quits: simon (simon@moz-CBE4BB13.cable.teksavvy.com) (Ping timeout)
[22:56:51] *** Joins: simon (simon@moz-CBE4BB13.cable.teksavvy.com)
[22:56:51] <engla> confusing example
[22:57:16] <dandy> I'm just explicit with everything because I keep getting yelled at for it
[22:58:35] *** Quits: canhtak (jeremy@moz-7FADA491.wl.t.ulaval.ca) (Quit: canhtak)
[22:59:02] *** Quits: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net) (Client exited)
[22:59:48] *** Quits: maik (maik@moz-8782792E.dip0.t-ipconnect.de) (Ping timeout)
[23:00:23] <dandy> can I interleave source with -S ?
[23:00:46] <kmc> objdump -S? yes, provided you built with rustc -Z debug-info
[23:00:54] <kmc> or you might need -Z extra-debug-info
[23:01:04] <dandy> im doing it through rustc right now
[23:01:07] *** jorendorff is now known as jorendorff_away
[23:01:15] <kmc> oh, rustc -S? not sure
[23:01:15] <cmr> not with rustc, no.
[23:01:18] <dandy> objdump may work now that cmr figured out my code did not actually exist
[23:01:53] *** Joins: nrc (nrc@3496663E.C1499D0.396E4C6D.IP)
[23:01:56] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Client exited)
[23:02:07] *** Joins: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net)
[23:02:19] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[23:03:11] *** Joins: anri (solancile@moz-E49E7C4B.hsd1.wa.comcast.net)
[23:03:53] <dandy> no, still don't get source :(
[23:03:54] *** Joins: brson (brson@moz-7DDD1300.ifiber.telenet-ops.be)
[23:03:55] *** ChanServ sets mode: +ao brson brson
[23:04:01] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Ping timeout)
[23:04:16] <dandy> using -Zextra-debug-info too
[23:05:07] <dandy> but I can jus cound the mul/adds
[23:05:19] <dandy> I can at least find the function now
[23:05:34] *** Quits: dew (Instantbir@moz-EEE6B2F8.dhcp.stls.mo.charter.com) (Ping timeout)
[23:06:50] *** Joins: dew (Instantbir@moz-EEE6B2F8.dhcp.stls.mo.charter.com)
[23:07:46] *** Quits: brson (brson@moz-7DDD1300.ifiber.telenet-ops.be) (Ping timeout)
[23:09:09] <dandy> thanks for the debugging help
[23:09:31] <cmr> np
[23:10:09] *** Quits: diegoyam (quassel@FF9B1514.A4EC3D18.3A1EC144.IP) (Ping timeout)
[23:11:39] *** Quits: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca) (Ping timeout)
[23:12:09] *** Joins: brson (brson@981AA104.E81F12CD.76F66111.IP)
[23:12:09] *** ChanServ sets mode: +ao brson brson
[23:12:26] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[23:12:29] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Client exited)
[23:12:32] *** Quits: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[23:14:02] <dandy> is there a #[noinline] of some kind?
[23:15:00] <cmr> #[inline(never)]
[23:16:19] *** Joins: alk (alk@moz-32A9FF6A.fbxo.proxad.net)
[23:17:35] <dandy> even with --opt-level=3 its still doing 0 faddp (x fmul x) faddp (y fmul y)
[23:17:48] <dandy> I guess because the 0 comes from Zero::zero() it could be anything
[23:18:42] *** Quits: lucian (lucian@moz-22A14C6A.cable.virginmedia.com) (Input/output error)
[23:19:04] *** Joins: lucian (lucian@moz-22A14C6A.cable.virginmedia.com)
[23:20:38] *** Joins: ofeldt- (ofeldt@moz-1B301206.dip0.t-ipconnect.de)
[23:20:47] *** Quits: lucian (lucian@moz-22A14C6A.cable.virginmedia.com) (Ping timeout)
[23:21:47] *** Quits: ofeldt (ofeldt@moz-DC6B58CF.dip0.t-ipconnect.de) (Ping timeout)
[23:24:55] *** Quits: alk (alk@moz-32A9FF6A.fbxo.proxad.net) (Ping timeout)
[23:25:57] *** Quits: threecreepio (jdp@moz-9C11F46E.cust.bredbandsbolaget.se) (Quit: threecreepio)
[23:29:16] *** Quits: lkuper_ (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Ping timeout)
[23:30:03] <dandy> I got rid of the Zero and extra add!
[23:30:30] <dandy> using vec_add_mul_zero_op_imp(($t:ident $cf:ident,$($c:ident),*) => ( I can pull the first argument into $cf and the rest go into $c
[23:30:38] <dandy> it of course need at least 2 fieds to work...
[23:31:55] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[23:34:18] *** Joins: eholk (eric@moz-F70D5031.hsd1.in.comcast.net)
[23:35:37] *** Quits: hjr3 (hradtke@1A0AE795.28A5F6C3.A2D40ED2.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[23:37:39] *** Joins: hjr3 (hradtke@1A0AE795.28A5F6C3.A2D40ED2.IP)
[23:37:39] *** Joins: victorporof (victorporo@35F65A40.E0F96B01.D111398B.IP)
[23:38:41] *** Quits: nrc (nrc@3496663E.C1499D0.396E4C6D.IP) (Ping timeout)
[23:39:46] *** Quits: victorporof (victorporo@35F65A40.E0F96B01.D111398B.IP) (Ping timeout)
[23:39:46] *** Quits: pepper_chico (pepper_chi@moz-9A2FC724.dsl.telesp.net.br) (Ping timeout)
[23:46:46] *** Joins: erickt (Adium@79611EE9.A51CB73B.6FBF6D51.IP)
[23:47:20] *** Joins: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net)
[23:47:32] *** Joins: Sodel_the_V (user@moz-C9C58BAD.eng.wind.ca)
[23:48:34] *** Quits: Sodel_the_V (user@moz-C9C58BAD.eng.wind.ca) (Quit: Eaten by a grue)
[23:49:24] *** Quits: Jesin (Jessin_@moz-6EF909D6.cc.lehigh.edu) (Ping timeout)
[23:49:28] *** Quits: hjr3 (hradtke@1A0AE795.28A5F6C3.A2D40ED2.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[23:50:40] *** Quits: jordyd (jordyd@moz-AA85309.seg46.ucf.edu) (Ping timeout)
[23:52:29] *** Joins: hjr3 (hradtke@1A0AE795.28A5F6C3.A2D40ED2.IP)
[23:52:40] *** Quits: brson (brson@981AA104.E81F12CD.76F66111.IP) (Ping timeout)
[23:55:08] *** Joins: erickt1 (Adium@79611EE9.A51CB73B.6FBF6D51.IP)
[23:55:08] *** Quits: erickt (Adium@79611EE9.A51CB73B.6FBF6D51.IP) (Connection reset by peer)
[23:55:57] *** Joins: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net)
[23:57:37] *** Quits: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[23:57:45] *** Quits: erickt1 (Adium@79611EE9.A51CB73B.6FBF6D51.IP) (Ping timeout)
[23:58:14] *** Joins: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net)
[23:58:38] *** Quits: polyfractal (polyfracta@moz-4C5426D6.hsd1.sc.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[23:59:28] *** Joins: canhtak (jeremy@moz-7FADA491.wl.t.ulaval.ca)
