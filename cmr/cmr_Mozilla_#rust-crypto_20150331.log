[00:30:39] <Ilari> Happen to know other CT browsers besides ctwatch.net (since that one doesn't seem to load)?
[00:39:15] <Ilari> Wonder if the China Github DDOS episode leads to browser policy changes...
[00:43:24] <Ilari> That is, further restrictions on http://
[00:46:50] <Ilari> Also, puush apparently pushed some malware via autoupdate.
[00:48:36] <Ilari> Or was it update.
[00:59:01] <Ilari> Also, wonder why don't various transit provoders filter routes to the source AS of the Github DDOS attacks.
[01:03:09] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[01:03:27] <tiffany> how did that happen? their servers got owned and they don't sign updates?
[01:03:28] <Ilari> That is, Filter routes to AS4808
[01:03:30] <tiffany> or they just turned evil
[01:04:18] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[01:05:03] <Ilari> 1503 prefixes announced!
[01:08:30] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[01:09:18] <Ilari> China has reputation of sourcing an enormous amounts of all sorts of attack traffic.
[01:11:22] *** Joins: blank_na1e (blank_name@moz-q63s73.mi.frontiernet.net)
[01:14:18] *** Quits: blank_name (blank_name@moz-iu0t9h.mi.frontiernet.net) (Ping timeout: 121 seconds)
[01:25:54] <Ilari> "Fw: GNU Libtasn1 4.4 released ( fixes stack overflow in asn1_der_decoding): Can I get a CVE for this?"
[01:36:27] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[02:31:55] *** Quits: brson (brson@moz-0k6.crj.56.172.IP) (Ping timeout: 121 seconds)
[02:47:51] *** Joins: brson (brson@moz-kkt.e0n.56.172.IP)
[02:58:17] *** Joins: erickt (erickt@moz-0vd.dgr.221.67.IP)
[02:59:38] *** Quits: brson (brson@moz-kkt.e0n.56.172.IP) (Quit: leaving)
[03:04:27] *** Quits: erickt (erickt@moz-0vd.dgr.221.67.IP) (Ping timeout: 121 seconds)
[03:23:23] <bascule> hahahahahahahahahahaha <3 Ilari
[03:23:30] <bascule> So in summary: there is clear enough preference for choice #1.
[03:23:30] <bascule> I would ask people to stop discussing this topic in another thread started by Phillip Hallam-Baker, as it seems at this point people just recycling arguments they've made earlier. And Stephen also commented that CFRG participants should not speculate on how IESG will respond to use of little-endian in TLS and other places.
[03:34:39] <bascule> o_O https://mailarchive.ietf.org/arch/msg/cfrg/Halry2iKDjFTUidwI4aspFi63Dk
[03:34:58] <bascule> Well, when determining consensus there is precedence for
[03:34:59] <bascule> considering whether there was any "packing the room" going on.
[03:34:59] <bascule> As a result, consensus is not achieved by merely counting
[03:34:59] <bascule> responses.
[03:35:22] <bascule> Dan Harkins does not have a posse
[04:15:30] <bascule> https://twitter.com/mik235/status/582756660269056000
[04:15:34] <bascule> lolololololololol
[04:20:43] *** Quits: gsingh93 (gulshan@moz-3fu4am.mi.comcast.net) (Ping timeout: 121 seconds)
[04:38:17] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[04:51:19] *** c74d3 is now known as c74d
[04:55:40] <Ilari> Now, there should be more interesting stuff about signatures...
[06:12:44] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[06:41:39] *** Joins: Tobba|Laptop (Tobba@moz-1hh.7ki.21.217.IP)
[06:50:48] *** Joins: ttaubert (uid2620@moz-6d2u0s.uxbridge.irccloud.com)
[07:01:49] <bascule> Ilari: lol indeed
[07:09:47] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[07:14:28] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[08:11:27] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[08:15:32] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[08:19:33] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[08:25:01] <Tobba|Laptop> finally fixed my u256 type in my ECC lib
[08:25:13] <Tobba|Laptop> signing + verify still takes 150 seconds and nothing is constant time
[08:25:17] <Tobba|Laptop> im crypto
[08:46:31] *** Quits: acharles (acharles@moz-ulbdcn.ca.comcast.net) (Ping timeout: 121 seconds)
[08:57:00] *** Joins: acharles (acharles@moz-ulbdcn.ca.comcast.net)
[09:50:17] *** Joins: Tobba|Craptop (Tobba@moz-1hh.7ki.21.217.IP)
[09:50:48] *** Quits: Tobba|Laptop (Tobba@moz-1hh.7ki.21.217.IP) (Connection closed)
[11:30:19] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[11:35:04] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[11:42:06] <Tobba|Craptop> oh I was running without optimizations
[11:42:08] <Tobba|Craptop> dangit cargo
[12:23:55] <Ilari> How much is it after enabling optimizations?
[12:25:04] <Tobba|Craptop> 10 seconds
[12:25:25] <Ilari> That's still way too much, unless the data to sign is very large.
[12:25:30] <Tobba|Craptop> problem is that my modular exponentiation is *really* slow
[12:25:34] <Tobba|Craptop> 5ms
[12:25:52] <Tobba|Craptop> 147k additions
[12:30:30] <Ilari> My code uses pregenerated power ladder for field inversion, and double-and-multiply for scalar inversion.
[12:32:35] <Ilari> And yeah, the scalar inversion ECDSA requires is very slow.
[12:34:10] <Tobba|Craptop> I'm doing double and multiply
[12:34:24] <Tobba|Craptop> I think I just need to speed up my addition and multiplication, it might not be optimizing correctly
[12:34:31] <Tobba|Craptop> I'll take a look at that later today
[12:35:11] <Dcoder> 147k field additions, or usize additions?
[12:38:48] *** Quits: Tobba|Craptop (Tobba@moz-1hh.7ki.21.217.IP) (Ping timeout: 121 seconds)
[12:40:03] <Ilari> OTOH, when making signatures, inversion performance shouldn't be that big of an issue, since even ECDSA just uses one field inversion and one scalar inversion. And there is loads more stuff going on.
[12:45:56] <Ilari> My current guess would be really sucky multiplication/addition peformance (esp. multiplication).
[13:55:04] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[13:56:32] *** Joins: Tuba (Tobba@moz-o13d22.bredband.telia.com)
[13:59:09] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[14:06:01] *** Tuba is now known as Tobba
[15:57:33] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[16:13:02] <Tobba> I can see why this is so slow
[16:13:05] <Tobba> god jesus what the fuck
[16:13:08] <Tobba> go home LLVM you're drunk
[16:14:41] <Tobba> it's not optimizing my addition into the add-carry instruction at all
[16:14:53] <Tobba> (which rust doesn't have an intrinsic for, a r g h)
[16:15:05] <Tobba> instead half of my binary is random-ass panics in functions that *can't panic*
[16:18:31] *** Joins: adu (ajr@moz-rdrp0r.biz.rr.com)
[16:19:01] <bascule> lol whut?
[16:19:24] <Tobba> I have no idea
[16:19:29] <Ilari> Arithmetic overflow?
[16:19:38] <Tobba> release mode, that should be disabled
[16:19:43] <Ilari> Except that should be disabled in release...
[16:19:50] <Ilari> What do the panic messages say?
[16:19:53] <Tobba> in either case, I'm just shoving some inline asm in
[16:19:56] <Tobba> can't tell
[16:20:08] <Tobba> the code for adding numbers was fucking insane vs 4 instructions
[16:20:14] <Tobba> LLVM is meant to optimize it down but that didn't work
[16:22:38] <Tobba> since it has to deal with overflow it ends up with branching up the wazzoo that LLVM can't even behind to comprehend
[16:24:05] <Ilari> Welcome to NIST prime funland. On non-NSA curves, one usually leaves some margin so that number of overflows is reduced. Oh, and Rust doesn't have u128 type.
[16:24:31] <Tobba> atm I've implemented a generic u256 type and a prime field element type that avoids causing overflows
[16:24:37] <Tobba> it's shitty but I needed something to test with
[16:24:50] <Tobba> (that didn't take 10 minutes to run)
[16:24:58] <Tobba> damn bignums
[16:26:54] <Tobba> hmm, now it's slower *and* broken
[16:26:56] <Tobba> crap.
[16:27:04] <bascule> lol :(
[16:28:26] <Tobba> inline asm means it can't optimize addition and multiplication with constants, fuck
[16:36:10] <Tobba> this is frustrating :/, but 10 seconds isn't too bad for testing
[16:37:39] <Dcoder> llvm's add with carry intrinsic sucks anyway, in clang at least
[16:37:56] <Dcoder> generates tons of extraneous code
[16:38:09] <Dcoder> insists in using setcc to save the carry, instead of using adc / sbb
[16:40:14] <Tobba> has to be better than this crap
[16:42:24] <Tobba> what the shit
[16:42:47] <Tobba> LLVM isn't optimizing out some clone calls (that the borrow checker forced me to add)
[16:43:42] <Tobba> so it's doing 300k massive SSE copies
[16:53:08] <bascule> Dan Harkins presents: Dragonfly Key Exchange
[16:53:15] <bascule> is this as legit as that Algebraic Eraser stuff?
[17:18:09] * Ilari is wondering what the heck is going on with the isogeny and isomorphism formulas in cfrgcurves.
[17:31:15] *** Joins: gsingh93 (gulshan@moz-3fu4am.mi.comcast.net)
[17:33:22] <eternaleye> bascule: Dragonfly is super legit! He fixed all the trivial errors, *honest* this time!
[17:34:04] <eternaleye> bascule: No, seriously, he's been pushing Dragonfly for a while now, and it's a really crap ad-hoc attempt at a PAKE
[17:34:27] <eternaleye> bascule: Not an augmented PAKE either
[17:35:11] <eternaleye> bascule: He even keeps insisting it should be accepted because it's in an 802.11 standard, except his RFC isn't compatible with that
[17:35:26] <eternaleye> bascule: Because _that_ version has trivial crypto errors
[17:35:56] <eternaleye> bascule: It's honestly laughable
[17:38:15] <Ilari> I think there was some standardized PAKE scheme, where I found incorrect handling of exceptional conditions.
[17:39:14] <eternaleye> bascule: If you want to see some discussion of past versions of Dragonfly, search the list archives for "hunt-and-peck"
[17:39:38] <Ilari> It was form "if this happens, retry with different random parameter". Except that unless the group is pathologically constructed, the condition will reappear with different parameter (unless it was computation error).
[17:41:45] <eternaleye> bascule: To clarify, the cfrg list. Where it didn't get a warm reception. And then he posted it to the TLS list saying it had been reviewed by CFRG as satisfactory.
[17:42:17] <eternaleye> bascule: At that point I was about ready to reduce the world population of people named "Dan Harkins" by one.
[17:42:25] <Ilari> And didn't CFRG chair post very questionable review of CFRG opinion on it?
[17:42:31] <eternaleye> Yup
[17:42:52] *** Joins: blank_name (blank_name@moz-gnl.24b.36.50.IP)
[17:44:07] <bascule> lol wtf
[17:44:09] <eternaleye> Dragonfly needs to DIAF
[17:44:15] <bascule> yeah Dan Harkins cracks me up
[17:44:28] *** Quits: blank_na1e (blank_name@moz-q63s73.mi.frontiernet.net) (Ping timeout: 121 seconds)
[17:47:51] <Ilari> Hunt-and-peck... Totally possible to implement in constant time. :->
[17:55:35] *** Joins: brson (brson@moz-bgo.c9m.56.172.IP)
[17:57:36] <eternaleye> Really though, I think a lot of the mess and pain of TLS is because it conflates KEX and AUTH so strongly
[17:58:01] <Tobba> oh jesus LLVM is high
[17:58:19] <Tobba> looks like something broke something pretty badly (again)
[17:58:23] <eternaleye> If it just had mandatory support for channel binding and used that to do AUTH at the next layer up, so many things would be so much better
[17:58:35] <Tobba> I guess I'll try updating first
[17:59:09] <eternaleye> Including but not limited to the absurd explosion of ciphersuites, horrendous browser UI for TLS, the various weird auth stuff people do on layers further up, the uselessness of PAKE in TLS...
[18:15:14] <Ilari> Also, for extra fun: TLS 1.2 RFC defines an extesion for negotiating AUTH primitive. Except how does it interact when ciphersuites have supposedly fixed AUTH primitive?
[18:15:33] *** Quits: adu (ajr@moz-rdrp0r.biz.rr.com) (Client exited)
[18:17:17] <Ilari> TLS also mixes up KEX and symmetric cipher.
[18:28:03] <eternaleye> The same is not true of KEX and AUTH
[18:28:11] <eternaleye> Sure, but that's not anywhere near as deep
[18:28:12] <eternaleye> If someone introduced an extension that negotiated ciphersuites as a (KEX, AEAD) tuple rather than as a KEX+AEAD ID, that'd handle 99% of the issue
[18:28:13] <eternaleye> The same is not true of KEX and AUTH
[18:30:52] <Ilari> TLS has 301 ciphersuites without the export crap, 35 non-export symmetric (authenticated) ciphers.
[18:34:29] <Ilari> And the 35 ciphers can be grouped into 22 families, with varying hash function.
[18:37:02] *** Joins: adu (ajr@moz-rdrp0r.biz.rr.com)
[18:41:18] <Ilari> And looks like there are 8 distinct non-export KEX algorithms (that expand to 20 variants once AUTH is mixed in).
[18:46:04] <bascule> lol
[18:47:30] <Ilari> The biggest cause of annoyance there seems to be PSK.
[18:48:03] <bascule> :(
[18:48:08] <bascule> h8 PSK
[18:50:01] <Ilari> And unfortunately, they don't seem to think "just throw it to trash" with TLS 1.3 (unlike, say RSA key exchange).
[18:50:25] *** Quits: ttaubert (uid2620@moz-6d2u0s.uxbridge.irccloud.com) (Quit: Connection closed for inactivity)
[18:51:19] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[18:52:28] <Ilari> One of the most bizarre things in TLS 1.0-1.2: RSA_PSK.
[19:29:56] *** Quits: adu (ajr@moz-rdrp0r.biz.rr.com) (Client exited)
[19:42:44] *** Joins: erickt (erickt@moz-l8ebtf.sfo1.mozilla.com)
[19:43:59] <Ilari> Isn't the Edwards neutral point supposed to be x=0, y=1, and the Montgomery neutral point be x=infinity, y=infinity?
[19:45:00] <Ilari> Hah, FF37 removed DSA.
[19:46:15] <Ilari> Also, removed insecure TLS fallback.
[19:46:41] <Dcoder> montgomery neutral is _,_,0
[19:46:56] <Dcoder> not really representable in (x, y), as any weierstrass point
[19:48:58] <Ilari> Also, with these formulas: F(2*(0,-1)) = 2*F((0,-1)), where F is isomorphism E->M seems to fail..
[19:57:21] <Ilari> I get: Left side: (0,0), right side: point at infinity.
[20:00:36] *** Quits: brson (brson@moz-bgo.c9m.56.172.IP) (Ping timeout: 121 seconds)
[20:27:27] *** Quits: erickt (erickt@moz-l8ebtf.sfo1.mozilla.com) (Ping timeout: 121 seconds)
[20:53:11] *** Joins: adu (ajr@moz-rdrp0r.biz.rr.com)
[20:53:52] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[21:36:49] *** Joins: brson (brson@moz-4ru.c9m.56.172.IP)
[22:10:37] <Ilari> I think I read somewhere that Google reaction to FF plans to remove insecure fallback was "Good luck with that".
[22:11:29] <lahwran> insecure fallback?
[22:15:37] *** Quits: adu (ajr@moz-rdrp0r.biz.rr.com) (Client exited)
[23:10:20] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[23:19:27] <Ilari> Insecure TLS version fallback.
[23:37:15] <bascule> https://github.com/jedisct1/libsodium/commit/23f1c90c682484f6984ece54b20f6cf231ca9344
[23:37:18] <bascule> lolololol
[23:39:37] *** Quits: brson (brson@moz-4ru.c9m.56.172.IP) (Ping timeout: 121 seconds)
