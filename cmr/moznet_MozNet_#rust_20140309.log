[00:00:28] *** Quits: skade (skade@moz-6A44521C.web.vodafone.de) (Connection reset by peer)
[00:00:44] *** Joins: skade (skade@moz-6A44521C.web.vodafone.de)
[00:02:26] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[00:02:46] *** Quits: hjr3 (hradtke@moz-699EABC0.lsanca.fios.verizon.net) (Connection reset by peer)
[00:02:50] *** Joins: hjr3 (hradtke@moz-699EABC0.lsanca.fios.verizon.net)
[00:03:18] *** Quits: skade (skade@moz-6A44521C.web.vodafone.de) (Ping timeout)
[00:04:07] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[00:04:24] *** Quits: stevegury (stevegury@moz-171801E.hsd1.ca.comcast.net) (Quit: stevegury)
[00:05:45] *** Quits: FrozenCow (FrozenCow@moz-E69F48E.dynamic.upc.nl) (Quit: Leaving)
[00:05:53] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[00:08:02] *** Quits: twi (Adium@moz-CDA0FAF2.cust.vodafonedsl.it) (Quit: Leaving.)
[00:08:45] *** Joins: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net)
[00:09:28] *** Quits: josh (josh@moz-244364B2.cable.virginm.net) (Quit: josh)
[00:11:32] *** Quits: eddyb (eddy@F8B50789.F33C1089.FB866788.IP) (Ping timeout)
[00:12:14] *** Joins: josh (josh@moz-244364B2.cable.virginm.net)
[00:18:28] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[00:19:29] *** Joins: p1start (rewi@moz-A082F561.adsl.xtra.co.nz)
[00:20:03] *** Joins: Ferreus_ (ferreus@moz-C589D6F.lsn.wtnet.de)
[00:20:31] *** Quits: Ferreus (ferreus@moz-D8A465BB.lsn.wtnet.de) (Ping timeout)
[00:20:48] *** Quits: cdidd (cdidd@moz-A7D589B4.broadband.corbina.ru) (Ping timeout)
[00:28:53] *** Quits: lawrence (lawrence@C1F4DBCC.51109CF7.47C41102.IP) (Ping timeout)
[00:30:38] *** Quits: IanCormac841 (User@CF93BA5A.2A8D8854.67DFF8B4.IP) (Ping timeout)
[00:30:45] *** Quits: mbx (mbebenita@moz-B45FE61C.hsd1.ca.comcast.net) (Quit: mbx)
[00:31:01] *** Joins: IanCormac84 (User@B2DD5402.2A8D8854.67DFF8B4.IP)
[00:34:08] *** Joins: lawrence (lawrence@2E25D37B.60379805.59660190.IP)
[00:36:12] <p1start> Is there any way to push an item to an &mut [T]? Or should I just use ~[T] / Vec<T> instead?
[00:36:29] <strcat> use Vec<T> (or &mut Vec<T>)
[00:37:00] <strcat> &[T] and &mut [T] are just ptr/len - they are a view of memory, and don't know how it is allocated (or if it's even the whole vector)
[00:37:02] <aatch> You can't push to a &mut [T] because you can't change the length
[00:37:31] <p1start> OK, thanks. I suppose that means &[T] and &mut [T] won't change with DST, too?
[00:38:04] <strcat> they won't change
[00:38:07] *** Joins: kris (kris@moz-6D20263F.fullrate.dk)
[00:38:17] <strcat> ~[T] as it exists now will go away, new code shouldn't use it
[00:38:25] *** Quits: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net) (Input/output error)
[00:38:51] *** Joins: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net)
[00:39:02] <p1start> strcat: OK, so I should change ~[T] to Vec<T> but keep &[T]?
[00:39:09] <strcat> yes
[00:39:26] <strcat> &[T] is a view of memory, Vec<T> is a dynamic array
[00:39:28] *** Joins: cdidd (cdidd@moz-948F4D68.broadband.corbina.ru)
[00:39:50] <p1start> strcat: great, thanks
[00:40:06] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[00:40:37] *** Quits: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net) (Ping timeout)
[00:43:32] <aatch> strcat, you'll be pleased to hear that I'm currently attempting to wrap EFL
[00:43:40] <strcat> aatch: ;)
[00:43:52] <aatch> It's proving to be a challenge though.
[00:44:01] <strcat> well, certainly going to be easier than Qt ;)
[00:44:20] <strcat> it's not even easy to use Qt from C++... without using the Qt build tools
[00:44:25] <strcat> stupid moc.
[00:44:26] <aatch> Since there's a reasonable amount of stuff that it likely going to be impossible to do safely and efficiently
[00:44:32] <strcat> aatch: ah
[00:44:44] <aatch> Like the event callbacks.
[00:45:03] <strcat> aatch: well, why?
[00:45:45] <strcat> pass ~Function trait object as data ptr, pass a stub calling the trait object as the function ptr
[00:45:48] <aatch> one argument is set when you create the actual callback, the other is dependent on data passed when you emit the actual event
[00:45:56] *** Quits: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com) (Input/output error)
[00:46:09] <aatch> Aren't trait objects two words though?
[00:46:15] <strcat> aatch: yes, pass ~~Trait
[00:46:18] *** Quits: Ferreus_ (ferreus@moz-C589D6F.lsn.wtnet.de) (Quit: WeeChat 0.4.4-dev)
[00:46:23] <strcat> not incredibly efficient but meh
[00:46:30] <aatch> strcat, that's my point.
[00:46:39] *** Quits: Matthias247 (Miranda@moz-678B5E4A.hsi2.kabel-badenwuerttemberg.de) (Quit: Matthias247)
[00:46:48] <aatch> I guess I should have emphasised the *and*
[00:46:58] <strcat> aatch: well you could split a trait object
[00:47:01] <strcat> manually
[00:47:07] *** Quits: Noxivs (Mibbit@moz-7106E5AA.fbx.proxad.net) (Quit: http://www.mibbit.com ajax IRC Client)
[00:47:09] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[00:47:44] <strcat> it even knows how big the env is at runtime and probably always will (because we could make free take a size, for efficient allocators)
[00:47:54] *** Quits: io2 (io2@moz-EE406A5.home.otenet.gr) (Quit: )
[00:48:51] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[00:49:06] <aatch> That part is easy though. It's the event data that's the problem. Theres `ecore_event_add` which takes a void* that then gets passed to the event handler.
[00:49:13] *** Quits: rveach (ryan@moz-E5095E39.hsd1.ca.comcast.net) (Client exited)
[00:49:15] <aatch> I have no idea how to work with that.
[00:49:22] <aatch> since there's a complete disconnect.
[00:49:35] <aatch> ecore_event_add basically emits an event
[00:52:22] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Client exited)
[00:52:50] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[00:53:48] *** Quits: cacteye (Mibbit@moz-362CDC0.fttp.sta.comporium.net) (Quit: http://www.mibbit.com ajax IRC Client)
[00:54:30] *** Joins: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu)
[00:54:30] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[00:58:33] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Client exited)
[00:58:54] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[00:59:15] *** Joins: pongad (pongad@moz-7E8AAD2E.res.gatech.edu)
[00:59:31] <pongad> What does ``discussing'' on bors queue mean?
[01:00:34] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[01:01:23] *** Joins: asmyers (quassel@moz-71754EDC.hsd1.md.comcast.net)
[01:02:01] *** Joins: skade (skade@moz-DD117FD0.pools.arcor-ip.net)
[01:02:41] *** Quits: lawrence (lawrence@2E25D37B.60379805.59660190.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[01:03:08] *** Quits: alisdair (textual@24DAD211.3AC3B53F.7CD5C64F.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[01:03:09] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[01:03:55] *** Joins: pyon (user@6B56F365.A9B419CB.1C8C8CE9.IP)
[01:05:42] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Quit: Jesse)
[01:07:48] *** Quits: arielb1 (eran@moz-FAE85970.red.bezeqint.net) (Ping timeout)
[01:09:48] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[01:13:27] <tedh> pongad: it means the PR has comments but has not been approved yet
[01:14:01] <pongad> tedh: You mean no one r+'ed it?
[01:14:10] <tedh> right
[01:15:02] *** Quits: asmyers (quassel@moz-71754EDC.hsd1.md.comcast.net) (Ping timeout)
[01:15:23] <pongad> Hmm...I saw my PR r+'d a couple of hours ago...
[01:16:30] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[01:16:53] <tedh> that often happens when the r+ is on the wrong commit
[01:17:23] <tedh> the r+ has to be on the last commit, and github does not always show the commits in the correct order
[01:18:21] *** Joins: nham (Mibbit@moz-2C6185F8.lightspeed.dybhfl.sbcglobal.net)
[01:18:48] <tedh> is this for https://github.com/mozilla/rust/pull/12706
[01:19:49] <tedh> it looks like the r+ is on the PR not on the commit for that one
[01:19:52] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[01:20:14] *** Quits: josh (josh@moz-244364B2.cable.virginm.net) (Quit: josh)
[01:20:28] <nham> I'm trying to understand the difference between closures and procs. the official documentation seems scarce on this topic. any tips where I can learn about this?
[01:20:36] <nham> i did find http://smallcultfollowing.com/babysteps/blog/2013/10/10/fn-types-in-rust/, but I don't know if its up to date
[01:21:40] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[01:22:08] <pongad> tedh: Gotcha, thanks :D
[01:24:04] <p1start> (1,2,3,4,5,6,7,8,9,0,1,2,3,4,5,6,7,8,9,0).n1()
[01:24:08] <p1start> irust: (1,2,3,4,5,6,7,8,9,0,1,2,3,4,5,6,7,8,9,0).n1()
[01:24:13] <p1start> rusti: (1,2,3,4,5,6,7,8,9,0,1,2,3,4,5,6,7,8,9,0).n1()
[01:24:14] <p1start> :P
[01:24:23] -rusti- pastebinned 5 lines of output: http://sprunge.us/iCTI
[01:24:40] <p1start> Ew
[01:24:45] *** Joins: asmyers (quassel@moz-71754EDC.hsd1.md.comcast.net)
[01:24:57] <p1start> Is there any reason why arbitrary-arity tuples aren't properly supported?
[01:24:58] *** Quits: hjr3 (hradtke@moz-699EABC0.lsanca.fios.verizon.net) (Connection reset by peer)
[01:25:07] *** Joins: hjr3 (hradtke@moz-699EABC0.lsanca.fios.verizon.net)
[01:26:04] <p1start> Maybe with variadic generics this would be possible?
[01:26:45] <aatch> p1start, because it's hard to do safely.
[01:27:51] <p1start> aatch: how so?
[01:27:53] *** Parts: judder (maradukewa@75FA4DEE.A989D80C.78E362FE.IP) ()
[01:27:54] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Client exited)
[01:28:16] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[01:28:55] <p1start> it seems like a terrible hack to have separate traits for each and every possible arity of a tuple
[01:29:26] <aatch> p1start, I'm not sure what variadic generics would do to help (I disagree with eddyb that they are a good idea)
[01:29:52] <aatch> The only other option would be to add extra support for tuples in the compiler itself, but that doesn't really seem worthwhile.
[01:29:52] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Connection reset by peer)
[01:29:57] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[01:30:05] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[01:30:50] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[01:31:06] <FreeFull> One could provide an unsafe implementation of n1 that works for all tuples, but you'd have to ensure somehow that the input is a tuple
[01:31:14] <FreeFull> And you have to know the type of the first element
[01:31:36] <p1start> FreeFull: you could implement the method for (T, ..U)
[01:31:50] <o11c> T isn't fixed for tuples
[01:32:05] <o11c> that would be [T, ..U] if it was an array
[01:32:06] *** Quits: hjr3 (hradtke@moz-699EABC0.lsanca.fios.verizon.net) (Ping timeout)
[01:32:12] *** Joins: hjr3 (hradtke@moz-699EABC0.lsanca.fios.verizon.net)
[01:32:31] <p1start> o11c: what I mean is, (T, U, V, ..W) would be a tuple of length at least three
[01:32:46] <p1start> with T, U, and V the first, second, and third element types respectively
[01:33:07] *** Joins: synackse (jordyd@2D608993.77F880E0.D9401097.IP)
[01:34:35] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[01:34:51] *** Quits: synackse (jordyd@2D608993.77F880E0.D9401097.IP) (Ping timeout)
[01:34:53] *** Quits: Jarrett (chatzilla@moz-465FA06E.dhcp.rvsd.ca.charter.com) (Ping timeout)
[01:34:56] *** Quits: nham (Mibbit@moz-2C6185F8.lightspeed.dybhfl.sbcglobal.net) (Quit: http://www.mibbit.com ajax IRC Client)
[01:36:01] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[01:36:11] *** Joins: jlong (jlong@moz-6DFDE846.socal.res.rr.com)
[01:36:19] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[01:37:48] <aatch> For me, variadic generics don't seem like they balance out on the complexity/usefulness balance.
[01:38:19] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[01:38:30] *** Joins: synackse (jordyd@2D608993.77F880E0.D9401097.IP)
[01:39:25] *** Quits: asmyers (quassel@moz-71754EDC.hsd1.md.comcast.net) (Ping timeout)
[01:40:21] <SiegeLord> I don't think you can implement the Func trait without them afaik
[01:40:59] <aatch> You can't, but I'm not convinced on the utility of such a trait.
[01:42:41] <SiegeLord> It seems like an integral part of unboxed closures, which sound very useful
[01:43:26] <SiegeLord> And it seems a convenient trait to have for functors to have (since we lost ~fn)
[01:43:35] <SiegeLord> And @fn
[01:43:49] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[01:44:03] <aatch> But how often do you need to take an arbitrary function.
[01:44:17] <aatch> It's not like you can call it, since you don't know what params it takes
[01:45:05] <SiegeLord> The Func trait's type parameters describe the parameter types
[01:45:41] *** Quits: jlong (jlong@moz-6DFDE846.socal.res.rr.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[01:46:02] *** Joins: jlong (jlong@moz-6DFDE846.socal.res.rr.com)
[01:46:22] <aatch> So you'd only use specific instantiations of the Func trait?
[01:46:43] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[01:47:03] <SiegeLord> Yeah
[01:47:12] <pyon> SiegeLord: Why would you need variadic generics for a Func trait? There is a much simpler solution: make every function take a single argument, which may be a tuple.
[01:48:20] *** Quits: cdidd (cdidd@moz-948F4D68.broadband.corbina.ru) (Ping timeout)
[01:48:42] <p1start> pyon: in a way, that's what VG does — it lets you turn an unknown number of type params into a single tuple
[01:49:00] <p1start> So in `fn(..T)`, `T` is a tuple
[01:50:08] *** Quits: hjr3 (hradtke@moz-699EABC0.lsanca.fios.verizon.net) (Ping timeout)
[01:50:32] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Ping timeout)
[01:50:49] *** Joins: hjr3 (hradtke@moz-699EABC0.lsanca.fios.verizon.net)
[01:51:29] <SiegeLord> I guess it's an option... I assume you're implying some tuple-unpacking magic when the function is actually called
[01:51:53] <o11c> aatch: "need to take an arbitrary function" is surprisingly common
[01:52:09] <pyon> p1start: Variadic generics could also be used for making arbitrarily-sized (but guaranteed finite) enums.
[01:52:17] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[01:52:44] <aatch> I guess that if it's severely limited, and said limitations are well-documented, I'd be Ok with it.
[01:52:55] <aatch> I just worry about how it would affect the type system.
[01:53:15] <aatch> This isn't like D or C++ where the type checking happens after expansion.
[01:53:32] <pyon> p1start: Anyway, variadic generics are not very helpful, unless you do them the right way (e.g., as done in Ur/Web), but that is probably not worth the hassle in Rust.
[01:54:05] *** Joins: Jesse_ (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[01:54:13] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Connection reset by peer)
[01:55:45] *** Joins: blindrenderer (blindrende@933424D6.B22400E5.217C7FCC.IP)
[01:56:27] *** Quits: Jesse_ (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[01:57:00] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Client exited)
[01:57:04] *** Quits: IanCormac84 (User@B2DD5402.2A8D8854.67DFF8B4.IP) (Ping timeout)
[01:57:21] <aatch> I worry that because so many of the algorithms that work with variadic generics would use recursion, people might get frustrated at the lack of TCO
[01:57:21] *** Joins: marianoguerra (marianogue@moz-1D143AA6.dip0.t-ipconnect.de)
[01:57:31] *** Quits: jlong (jlong@moz-6DFDE846.socal.res.rr.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[01:57:46] *** Joins: maxli (Adium@moz-EE42E0E.student.cs.uwaterloo.ca)
[01:58:09] *** Joins: IanCormac84 (User@EEA1397A.2A8D8854.67DFF8B4.IP)
[01:58:37] *** Quits: maxli (Adium@moz-EE42E0E.student.cs.uwaterloo.ca) (Quit: Leaving.)
[01:58:45] <SiegeLord> It doesn't sound like a big problem, as the recursion depth is fixed at compile time
[01:59:50] <pyon> How well does TCO play with the Drop trait?
[02:00:12] *** Joins: kvark (Mibbit@moz-F30E0473.cpe.net.cable.rogers.com)
[02:00:25] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[02:00:27] <kvark> is it possible to initialize a fixed-size array with a function?
[02:00:30] <aatch> SiegeLord, I guess.
[02:00:35] <cmr> pyon: destructors usually break sibling call opts.
[02:00:51] <cmr> pyon: I don't know of a case in which they don't.
[02:00:59] <pyon> Ah!
[02:01:02] <huon> kvanb: [f(), f(), f(), f()]
[02:01:16] <huon> *kvark
[02:01:22] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[02:01:23] <kvark> huon: what if I have 50 elements?
[02:01:51] <cmr> write a macro ;p
[02:02:01] <kvark> eh...
[02:02:02] <aatch> cmr, how would that help?
[02:02:04] <cmr> if the retval is pod and deterministic, you can use [f(), ..50]
[02:02:15] <cmr> aatch: you can write make_50!(f()) and it will expand into it?
[02:02:15] <aatch> cmr, does that /actually/ work?
[02:02:18] <cmr> aatch: sure.
[02:02:33] <cmr> at least I think it could.
[02:02:46] <cmr> recursive expansion.
[02:03:05] <aatch> cmr, how do you do the base case?
[02:03:12] *** Joins: maxli (Adium@moz-EE42E0E.student.cs.uwaterloo.ca)
[02:03:26] <cmr> aatch: unsure.
[02:03:30] <huon> could write it as `make!(1 1 0 0 1 0; f())` and expand in binary
[02:03:59] <huon> aatch: you expand into macro calls with the base case being $($e: expr),* => { [$($e),*] }
[02:04:25] <kvanb> I remember kvark 
[02:04:39] <kvanb> I even confuse his handle with mine
[02:04:42] <aatch> huon, but you can't do that with cmr's example.
[02:04:51] <huon> aatch: sure you can?
[02:04:54] *** Quits: maxli (Adium@moz-EE42E0E.student.cs.uwaterloo.ca) (Ping timeout)
[02:05:23] *** kvark is now known as dmz
[02:05:23] <aatch> so you have make_{2..50}! ?
[02:05:49] <aatch> seems like it would be more work than just writing out the full 50 elements.
[02:05:50] *** Quits: IanCormac84 (User@EEA1397A.2A8D8854.67DFF8B4.IP) (Ping timeout)
[02:06:03] *** Quits: skade (skade@moz-DD117FD0.pools.arcor-ip.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[02:06:04] <SiegeLord> Make a procedural macro ;)
[02:06:19] *** Joins: brson (brson@6A848D32.C1B840DD.76F66111.IP)
[02:06:19] *** ChanServ sets mode: +ao brson brson
[02:06:20] <cmr> it's easier to just not use fixed-length arrays...
[02:06:30] *** Joins: IanCormac84 (User@659E65F3.64D641E5.67DFF8B4.IP)
[02:07:36] <aatch> Or use unsafe code.
[02:07:58] <aatch> (if for some reason you desperately need stack allocation)
[02:08:25] <huon> https://gist.github.com/huonw/4a9b0ebdafdc512ed8ca
[02:09:10] <dmz> oh.. that's starting to be more and more complex
[02:10:03] <aatch> huon, ahh, clever
[02:10:39] *** Joins: MrByte (Dartakio@moz-81792842.chy-wy.client.bresnan.net)
[02:11:01] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[02:11:24] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[02:11:35] <aatch> dmz, it's quite simple actually, expands out to two instances of the expression, which then expands out to 2x5 instances of the expression, which then expands out to 2x5x5 instances of the expression
[02:11:53] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[02:11:59] *** Joins: cdidd (cdidd@moz-FC37667D.broadband.corbina.ru)
[02:13:19] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[02:14:25] *** Joins: jlong (jlong@moz-6DFDE846.socal.res.rr.com)
[02:17:28] *** Quits: marianoguerra (marianogue@moz-1D143AA6.dip0.t-ipconnect.de) (Ping timeout)
[02:18:06] *** Quits: hjr3 (hradtke@moz-699EABC0.lsanca.fios.verizon.net) (Connection reset by peer)
[02:18:45] *** Joins: hjr3 (hradtke@moz-699EABC0.lsanca.fios.verizon.net)
[02:21:43] <Havvy> Does anybody have an example of using Rc<RefCell<T>> in practice?
[02:22:25] <cmr> https://github.com/cmr/gerphius/blob/master/src/render.rs does.
[02:22:42] <huon> aatch, cmr etc: https://gist.github.com/huonw/4868a3e429e1cc32dfed
[02:23:02] <synackse> Is there any way of getting a value out of a HashSet without doing `set.iter().next()`?
[02:23:13] <huon> .pop()?
[02:23:22] <synackse> Ah, didn’t know that was there
[02:23:23] <sfackler> synackse: you mean an arbitrary value?
[02:23:30] <synackse> Yeah
[02:24:04] <synackse> Hm, it says there is no .pop
[02:24:08] <sfackler> iter().next() is probably the easiest way
[02:24:19] <sfackler> why do you want to do that?
[02:24:29] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[02:25:41] <synackse> I’m implementing an algorithm which involves keeping track of a set of “unmarked” elements, and I need to iterate through them, but as I iterate through them I also need to be able to add more elements to the set
[02:26:19] *** Quits: jlong (jlong@moz-6DFDE846.socal.res.rr.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[02:26:25] *** Joins: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca)
[02:26:32] <synackse> The problem with iter().next() is it borrows the set
[02:26:41] *** Joins: quux00 (uid24415@moz-E77DEB21.irccloud.com)
[02:26:59] <synackse> I also need to remove elements from the set
[02:27:19] <huon> it borrows the set because it retrieves a reference into the set
[02:27:31] <huon> it does sound like you need a .pop
[02:28:26] <quux00> I'm trying to play with the select! macro, but I don't know how to import/use it - I'm getting "error: macro undefined: 'select'".  (I'm using Rust 0.10)
[02:28:59] <synackse> I suppose an alternative would be to write it in a purely functional style, which wouldn’t be all that difficult but might be a bit worse performance-wise
[02:29:24] <synackse> Probably not noticeable though
[02:29:31] <synackse> I guess that’s what I’ll do
[02:30:51] <sfackler> quux00: IIRC select! isn't being exported as it isn't quite done. You'll want to copy the definition into your crate for now
[02:31:24] <quux00> OK.  I'll try that.  It is marked as experimental on the 0.10 docs.
[02:32:11] <huon> it is being exported
[02:32:14] <huon> rusti: select!()
[02:32:16] -rusti- <anon>:1:1: 1:1 error: unexpected end of macro invocation
[02:32:16] -rusti- <anon>:1 #[feature(globs, macro_rules, struct_variant)];
[02:32:17] -rusti-          ^
[02:32:17] -rusti- application terminated with error code 101
[02:32:40] <huon> (the fact that it's that error means it is exported)
[02:32:46] <sfackler> oh, cool
[02:32:48] <huon> quux00: you probably just have to update
[02:32:49] *** Quits: hjr3 (hradtke@moz-699EABC0.lsanca.fios.verizon.net) (Ping timeout)
[02:33:06] <sfackler> what's up with the spans on rusti?
[02:33:14] *** Joins: hjr3 (hradtke@moz-699EABC0.lsanca.fios.verizon.net)
[02:33:16] *** Quits: zmike (discomfito@moz-975BC507.hsd1.ct.comcast.net) (Quit: ah. I see.)
[02:33:26] <huon> btw, "Rust 0.10" is a little bit meaningless, because it's a huge range of time (2 months is a lot of rust development)
[02:33:37] <huon> the output of `rustc -v` is more useful as a marker
[02:33:41] <sfackler> rusti: let i: int = "asdf";
[02:33:42] -rusti- <anon>:10:22: 10:28 error: mismatched types: expected `int` but found `&'static str` (expected int but found &'static str)
[02:33:42] -rusti- <anon>:10         let i: int = "asdf";
[02:33:42] -rusti-                                ^~~~~~
[02:33:43] -rusti- error: aborting due to previous error
[02:33:43] -rusti- application terminated with error code 101
[02:33:47] <huon> since it has the date in it
[02:34:01] <quux00> rustc 0.10-pre (3b09469 2014-02-25 16:26:30 -0800)
[02:34:16] <sfackler> huon: is that macro error span an known issue?
[02:34:33] <huon> sfackler: I don't know it
[02:35:39] <huon> quux00: yeah, looks like exported-select landed on the 28th so you're compiler is 3 days too old :)
[02:35:42] <huon> *your
[02:35:56] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[02:36:19] <quux00> OK.  I'll update.  should probably do that weekly anyway.  Thanks.
[02:37:38] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[02:38:43] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[02:40:39] *** Joins: zmike (discomfito@moz-975BC507.hsd1.ct.comcast.net)
[02:41:03] *** Joins: tanayseven (tanay@96AD789A.8FC53CD9.5A7A4C68.IP)
[02:41:49] *** Quits: sunfish (chatzilla@moz-42DA0C69.dsl.dynamic.sonic.net) (Ping timeout)
[02:46:16] *** Quits: bollu (bollu@31CCE710.7065DDB9.6D6A344F.IP) (Ping timeout)
[02:47:06] *** Joins: rntz_ (rntz@moz-C76A8D96.sp.cs.cmu.edu)
[02:47:53] <sfackler> wasn't there a way at some point to have rustdoc --test compile but not run code?
[02:49:43] *** Joins: rveach (kvirc@moz-E5095E39.hsd1.ca.comcast.net)
[02:51:18] <rveach> does rust currently work on the mips architecture? (specifically interested in the gcw-zero open handheld)
[02:51:48] <aatch> rveach, in theory you can compile for mips
[02:53:01] <rveach> aatch: what would be involved? is it just a compiler flag or a whole rebuild?
[02:53:04] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[02:53:04] *** Joins: jroweboy (jrowe7@moz-18814A6B.provo.static.broadweavenetworks.net)
[02:53:22] <aatch> rveach, just a compiler flag for being to target it.
[02:53:38] <aatch> Though you wont have any of the standard libraries or anything available.
[02:54:24] <rveach> aatch: aw bummer, do they need to be rewritten?
[02:54:48] <aatch> rveach, some things might work in MIPS, but I doubt everything will.
[02:55:05] *** Joins: bvssvni (Mibbit@moz-C4579D6F.bb.online.no)
[02:55:11] <aatch> It also assumes that you're running on one of the major OSes
[02:55:24] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[02:55:57] <rveach> aatch, the gcw-zero runs a linux with kernel 3.x
[02:55:59] *** Joins: lpy (lpy@12172131.F09091A8.1348A864.IP)
[02:56:23] <rveach> aatch, interesting to hear though
[02:56:34] <aatch> rveach, hmm, you could try building rust with a mips target
[02:57:18] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[02:57:33] <huon> there's code in rustc for handling mips... but no tests run on it, so it's almost certainly broken
[02:57:53] <rveach> aatch, ya that's what i was thinking of, saw there's some stuff under arch
[02:57:57] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[02:58:25] <rveach> huon, good to know
[02:58:29] *** Joins: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net)
[02:58:49] <aatch> you'll have to fiddle around with the configure script(s)
[02:59:03] <aatch> I also doubt the runtime will work on mips
[02:59:06] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[02:59:10] <aatch> but more high-level stuff might be ok
[02:59:22] *** Quits: hjr3 (hradtke@moz-699EABC0.lsanca.fios.verizon.net) (Ping timeout)
[02:59:25] *** Joins: steffenomak (steffenoma@moz-FB0A4BEB.student.uu.se)
[03:00:05] *** Joins: hjr3 (hradtke@moz-699EABC0.lsanca.fios.verizon.net)
[03:00:17] <rveach> aatch, the high level stuff wouldn't depend on the runtime?
[03:00:33] <rveach> pretty new to rust so maybe an ignorant question
[03:00:33] <aatch> rveach, I meant more like the collections stuff.
[03:00:37] *** Quits: lpy (lpy@12172131.F09091A8.1348A864.IP) (Client exited)
[03:00:47] <rveach> aatch, ah
[03:00:57] *** Quits: strcat (strcat@moz-61B073BC.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.3)
[03:01:09] <aatch> and a other things that would stop it from being god-awful.
[03:01:25] <aatch> if libstd compiles on MIPS, I'll be impressed though.
[03:02:09] <rveach> I don't have a device in my hands yet, was more wishful thinking :)
[03:03:05] *** Quits: steffenomak (steffenoma@moz-FB0A4BEB.student.uu.se) (Ping timeout)
[03:03:30] *** Quits: kngl (Adium@40AE2BF6.ABCDAFD6.7C797F8E.IP) (Quit: Leaving.)
[03:03:59] *** Joins: yoshi (Mibbit@moz-3213C615.wavecable.com)
[03:05:13] *** kimundi is now known as zz_kimundi
[03:05:40] *** Quits: matp (matp@moz-16FE1E05.matp.at) (Ping timeout)
[03:06:36] *** Quits: hjr3 (hradtke@moz-699EABC0.lsanca.fios.verizon.net) (Ping timeout)
[03:06:58] *** Joins: hjr3 (hradtke@moz-699EABC0.lsanca.fios.verizon.net)
[03:07:34] *** Joins: alonlevy (alon@1E965D02.56017D2D.662727B.IP)
[03:08:25] *** Joins: meTaAU (admin@moz-51C5BBB6.lns20.per2.internode.on.net)
[03:10:03] <meTaAU> I'm a bit stuck on the "static mut FOO: Option<Bar>" pattern now that static muts can't have destructors.
[03:10:07] <yoshi> Umm, I think the build has been broken.
[03:10:19] <yoshi> clang: error: no such file or directory: 'x86_64-unknown-linux-gnu/rt/rust_builtin.o'
[03:10:21] <meTaAU> I don't think any of my types have destructors but I still get the error
[03:10:33] <sfackler> what's the definition of Bar?
[03:10:37] <yoshi> That was after doing ./configure --enable-clang --enable-ccache
[03:10:42] <sfackler> note that ~foo has a destructor
[03:11:09] *** Quits: dmz (Mibbit@moz-F30E0473.cpe.net.cable.rogers.com) (Quit: http://www.mibbit.com ajax IRC Client)
[03:11:30] <meTaAU> Yeah, but I just have Option<Type> where type is a struct with just one &'static in it
[03:11:46] <meTaAU> So there aren't any owned pointers
[03:13:14] *** Joins: mbx (mbebenita@moz-B45FE61C.hsd1.ca.comcast.net)
[03:13:22] <sfackler> what type is the &'static?
[03:13:32] <yoshi> I can't build HEAD right now. Should i report a bug?
[03:13:54] <sfackler> yoshi: try rerunning ./configure, make clean and make again
[03:14:15] <meTaAU> Will it try to destruct the &'static mut?
[03:14:38] <meTaAU> I'll have a play around. As long at static mut Option is still supposed to work, it's probably just something I've done
[03:15:19] <yoshi> sfackler: Same. "error: no such file or directory: 'x86_64-unknown-linux-gnu/rt/rust_builtin.o'". It seems it's being passed object files that aren't there.
[03:15:50] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[03:16:01] <meTaAU> I built from master about 20 minutes ago
[03:16:13] <meTaAU> With different configure options though
[03:16:21] * yoshi checks logs
[03:16:38] *** Quits: synackse (jordyd@2D608993.77F880E0.D9401097.IP) (Ping timeout)
[03:17:23] <yoshi> meTaAU: We should have the same source tree then. The last commit was 2 hours ago, and I just pulled 10 min ago. *shrugs*
[03:17:34] * yoshi tries disabling ccache and clang
[03:17:38] <meTaAU> I'm building with --enable-clang now
[03:18:38] <meTaAU> Think it is working. Try just dropping ccache
[03:18:48] <yoshi> Oh, looks like my CC and CXX variables were screwing things up. It was my fault this entire time.
[03:20:19] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[03:20:40] <meTaAU> sfackler: One of my structs has a Vec<u8>, so I'm guessing that is the issue
[03:20:52] <sfackler> yep, that'll do it
[03:20:59] <Havvy> Where is Vec located?
[03:21:01] <meTaAU> Just had to dig deep enough
[03:21:06] <sfackler> Havvy: std::vec_ng
[03:21:12] <huon> Havvy: std::Vec_ng::Vec
[03:21:18] <Havvy> ng?
[03:21:23] <sfackler> next generation
[03:21:24] <huon> next gen
[03:21:31] <Havvy> Ah.
[03:21:43] <meTaAU> Will become just vec soonish?
[03:21:51] <sfackler> yep
[03:22:15] <sfackler> strcat's got an open PR right now to move the current std::vec to std::slice
[03:22:21] <meTaAU> I'm struggling to work out which parts of this library should be static memory and which parts should be on the heap
[03:22:26] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[03:22:38] <meTaAU> It is for an ARM cortex micro
[03:23:42] *** Quits: mbx (mbebenita@moz-B45FE61C.hsd1.ca.comcast.net) (Connection reset by peer)
[03:25:54] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[03:26:02] *** Quits: untitaker (untitaker@moz-AB11F064.adsl.highway.telekom.at) (Ping timeout)
[03:26:03] *** Quits: nanotech (nanotech@moz-DD3580FD.members.linode.com) (Quit: ZNC - http://znc.in)
[03:27:05] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Ping timeout)
[03:27:19] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[03:27:30] *** Joins: mbx (mbebenita@moz-B45FE61C.hsd1.ca.comcast.net)
[03:28:04] *** Joins: evanm (evanm@moz-4D6F9A00.hsd1.ca.comcast.net)
[03:28:23] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Ping timeout)
[03:28:25] *** Quits: hjr3 (hradtke@moz-699EABC0.lsanca.fios.verizon.net) (Ping timeout)
[03:29:00] *** Joins: hjr3 (hradtke@moz-699EABC0.lsanca.fios.verizon.net)
[03:29:40] *** Quits: WebeWizard (WebeWizard@moz-7CCD1DAE.ks.ks.cox.net) (Quit: Leaving)
[03:29:55] *** Joins: meyer (meyer@moz-A9CF56E4.hsd1.ca.comcast.net)
[03:30:05] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Ping timeout)
[03:30:20] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[03:31:07] <meTaAU> Is there something like Vec that doesn't implement Drop? i.e. I want the memory on the heap until the application exists?
[03:31:14] *** Joins: svenstaro (svenstaro@moz-FE5F6CCD.org)
[03:31:59] *** Joins: synackse (jordyd@2D608993.77F880E0.D9401097.IP)
[03:32:39] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[03:32:44] <meyer> I'm having a kinda weird issue with match statements, although I might be doing something wrong.
[03:33:16] <sfackler> meTaAU: You could store a *mut Vec and use cast::forget to intentionally leak the Vec
[03:33:41] *** Joins: untitaker (untitaker@moz-E628FD88.adsl.highway.telekom.at)
[03:33:44] <meTaAU> Ahh. I'll look into that, thanks
[03:34:25] <meyer> I have "pub enum EdgeDir {Xp, Xm, Yp, Ym}" in module "hamil2" (hamil2.rs) and later, in a different module, "let dir: EdgeDir = haml.get(current.x, current.y).f;" (which should return an EdgeDir, and doesn't seem to cause any type check problems.
[03:35:06] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Ping timeout)
[03:35:09] <aatch> meyer, um, yes?
[03:35:26] <meyer> After that, I have "match dir { Xp => {current.x += 1}, Xm => {current.x -=1 }, Yp => {current.y += 1}, Ym => {current.y -=1}};"
[03:35:27] <meyer> And
[03:35:31] <meyer> No matter which order the match branches are in
[03:35:33] *** Quits: patpat (patpat@moz-1599AAE4.as13285.net) (Ping timeout)
[03:35:39] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[03:35:44] <meyer> I get "unreachable pattern (the pattern)"
[03:35:48] <meyer> For the final three branches
[03:35:49] <aatch> meyer, have you imported the variants?
[03:35:52] <sfackler> meyer: are you "use"ing Xp Xm etc?
[03:35:58] <meyer> Oh
[03:36:00] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[03:36:00] <meyer> That
[03:36:02] <meyer> Is probably it.
[03:36:17] <meyer> Do you use module::enumm::{variants}?
[03:36:19] <meyer> Or
[03:36:21] *** Joins: patpat (patpat@moz-1599AAE4.as13285.net)
[03:36:26] <meTaAU> Probably best if I just forget the top level struct, then the static is only the size of a pointer.
[03:36:26] <meyer> Are they at the top level in a module
[03:36:29] *** Joins: patpatter (patpat@744ECA5D.CC637CBA.CA670C70.IP)
[03:36:31] *** Quits: patpatter (patpat@744ECA5D.CC637CBA.CA670C70.IP) (Quit: patpatter)
[03:36:45] <sockmister> they are top level in the module
[03:36:50] <meyer> Thanks
[03:36:53] <meyer> That
[03:36:54] <meyer> Worked.
[03:37:12] <meyer> So it wasn't giving me an unresolved name error, since it thought each match branch was a new variable name
[03:37:17] <meyer> I see.
[03:37:24] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[03:37:30] <sockmister> Yeah... we need some sort of warning or suggestion for this case
[03:37:35] <sockmister> its a common mistake
[03:37:52] *** Quits: synackse (jordyd@2D608993.77F880E0.D9401097.IP) (Ping timeout)
[03:37:56] <meyer> Also the reason why my isolated test cases failed, since I worked in one module.
[03:38:01] <meyer> Or
[03:38:03] <meyer> The reason why they worked, I guess.
[03:38:03] *** Quits: patpat (patpat@moz-1599AAE4.as13285.net) (Ping timeout)
[03:38:19] <aatch> we do, kinda, theres a lint for uppercase-variables
[03:38:39] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[03:38:41] <aatch> but unfortunately lints are run close to the end
[03:38:51] *** Joins: synackse (jordyd@2D608993.77F880E0.D9401097.IP)
[03:39:03] *** Quits: Sorella (queen@9D963F5D.DF5D8AE7.54BCAB54.IP) (Quit: It is tiem!)
[03:39:41] *** Joins: nanotech (nanotech@moz-DD3580FD.members.linode.com)
[03:39:49] <meTaAU> sfackler: Sorry for the beginner question, just making sure I get the basics right. Foo is a struct. Foo {...} lives on the stack, boxing it with ~ moves to the heap, forgetting it make it live forever?
[03:40:44] <aatch> meTaAU, forgetting it makes the compiler think that the forget function will free it.
[03:40:52] <aatch> which it won't
[03:40:53] <huon> we could/should have multipass lints: so that those that only need an AST run before any analysis at all (e.g. type names), and those that only need name resolution run immediately after that, etc. etc.
[03:41:16] <huon> s/multipass lints/multiple lint passes/
[03:41:19] <sfackler> meTaAU: yep. cast::forget is a magic funtion that consumes a value without running destructors
[03:41:23] <meTaAU> But if I forget something on the stack, does it ruin the stack?
[03:41:49] <sfackler> nope
[03:41:56] <aatch> meTaAU, shouldn't, since stack memory isn't really freed
[03:42:07] <aatch> you just overwrite it later.
[03:42:10] <sfackler> so if you do something like "let mut foo = Vec::new(); let ptr: *mut Vec = &foo; cast::forget(foo)"
[03:42:24] <sfackler> you'll get a pointer to a vector that will never be freed
[03:42:43] <aatch> sfackler, unfortunately, that pointer will be to the stack.
[03:42:51] <meTaAU> But the Vec struct is on the satck and might get overwritten?
[03:43:16] <aatch> meTaAU, only a problem if you try to return the pointer up the stack
[03:43:31] <meTaAU> Or store it as a static
[03:43:42] <sfackler> aatch: oh, derp, yeah
[03:43:49] <aatch> meTaAU, yeah. Escape the function is the most general way
[03:44:17] <sfackler> let mut foo = ~Vec::new(); let ptr: *mut Vec = &*foo; cast::forget(foo)
[03:44:32] <meTaAU> Context: This is to hold all the state data/buffers for the Usb module on my microcontroller library
[03:44:51] <meTaAU> So I'm using the heap for the buffers so I don't lose all that memory if the usb isn't used
[03:45:06] *** Quits: LRN (LRN@moz-EA80C63C.nationalcablenetworks.ru) (Quit: Leaving.)
[03:45:45] <aatch> meTaAU, might be more worthwhile to implement your own simple buffer
[03:46:29] <aatch> you can always hand out slices (&[T]) to things that need the data.
[03:46:51] *** Joins: lpy (lpy@7360AA58.F09091A8.1348A864.IP)
[03:47:01] <aatch> Which also means you don't have to worry about most of the helper functions, since they're implemented on slices anyway
[03:47:42] <meTaAU> Probably, but it will end up being almost identical to the Vec, just without Drop and with a fixed capacity
[03:48:08] *** Quits: gwty (gwtypc@8CA05C65.5C2F1574.BD94A9D5.IP) (Ping timeout)
[03:48:20] <aatch> meTaAU, fixed capacity?
[03:48:28] *** Joins: patpat (patpat@moz-1599AAE4.as13285.net)
[03:48:37] *** Quits: evanm (evanm@moz-4D6F9A00.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[03:48:51] <meTaAU> Fixed maximum packet size
[03:48:57] <meTaAU> For USB module anyway
[03:49:03] <aatch> Is that compile-time fixed?
[03:49:32] <meTaAU> Depends how much flexibility I want to offer
[03:49:45] <meTaAU> USB is just one example, but probably the trickiest
[03:50:33] <meTaAU> I still need to track ptr, len, max_len. So Vec just seemed the best
[03:50:57] <aatch> meTaAU, why do you want it on the heap if you also want it to last for the entire application?
[03:51:21] <meTaAU> Cause it may/maynot get used/initialised.
[03:51:41] <meTaAU> Though I guess in 80% of cases it will either be used or not
[03:51:53] *** Quits: zz_kimundi (kimundi@moz-DCDD522C.dip0.t-ipconnect.de) (Ping timeout)
[03:52:57] <meTaAU> Maybe I'll sit down and think a bit more between #cfgs and storing it on the heap
[03:53:04] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[03:53:22] <aatch> meTaAU, Rust tends to try and lead you to a good way of doing things.
[03:53:51] <aatch> So if you're finding something hard because of the language, that's probably because it's normally not something you should do.
[03:54:27] *** Parts: synackse (jordyd@2D608993.77F880E0.D9401097.IP) ()
[03:54:33] <meTaAU> Agreed. Though I'm giving myself a little leeway because it is embedded development and I'm being stingy with mRAM
[03:54:40] <meTaAU> /mRAM/RAM
[03:54:50] *** Joins: Jesse_ (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[03:54:51] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Client exited)
[03:54:52] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Connection reset by peer)
[03:55:12] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[03:55:18] *** Joins: zz_kimundi (kimundi@moz-2289D570.dip0.t-ipconnect.de)
[03:55:35] <aatch> meTaAU, that's fine. Just thinking that trying to shoehorn something like Vec<T> in probably isn't the best way of doing things.
[03:55:48] *** zz_kimundi is now known as kimundi
[03:55:53] <meTaAU> e.g. the interrupt handlers need to enter into rust code so they need static refs
[03:56:38] <meTaAU> I think Vec<u8>::with_capcity was the easiest way for me to get a &mut [u8]
[03:56:52] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[03:56:55] <aatch> meTaAU, you can also malloc etc. yourself, which means you don't have to work around the compiler.
[03:57:00] <meTaAU> So could have just been laziness. I'll give it a go with all static stuff and #cfgs
[03:57:10] *** Quits: Jesse_ (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[03:58:03] <meyer> Is there a simple way to get rust programs to output a traceback on error, or will I need to run them with gdb or similar?
[03:58:06] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Ping timeout)
[03:58:45] *** Quits: sk (sk@61A494B3.BA40E8A.AAC02D62.IP) (Input/output error)
[03:58:49] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[04:01:18] *** Quits: mbx (mbebenita@moz-B45FE61C.hsd1.ca.comcast.net) (Quit: mbx)
[04:01:24] <Havvy> https://gist.github.com/Havvy/5ec055dbd052270e8d90   I've got a few things to learn using this gist as the way to do so. The first is apparently lifetime specifiers.
[04:02:15] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Connection reset by peer)
[04:02:20] *** Joins: PumpMagic (PumpMagic@BC54E65C.D93930C9.36634901.IP)
[04:03:08] <aatch> Havvy, first question, why do you have a reference inside a Rc?
[04:03:47] <Havvy> The RefCell? Because I read somewhere that's how you do mutable Rcs.
[04:04:08] <aatch> Havvy, I mean the `&`
[04:04:43] <Havvy> Because I get this if I don't:
[04:04:44] <Havvy> error: reference to trait `Entity` where a type is expected; try `@Entity`, `~Entity`, or `&Entity`
[04:05:04] <aatch> Oh right, Entity is a trait. I missed that.
[04:05:05] *** Quits: soumyaC (uid15286@moz-E77DEB21.irccloud.com) (Quit: Connection closed for inactivity)
[04:05:13] <aatch> Still, you'll want ~Entity, not &Entity
[04:05:35] <aatch> because that kinda defeats the point of Rc, since it wouldn't actually own the data you're interested in
[04:06:05] <aatch> also, defeats the point of RefCell, since you couldn't change the Entity itself, only change to a different Entity
[04:06:18] *** Quits: kris (kris@moz-6D20263F.fullrate.dk) (Ping timeout)
[04:06:28] <Havvy> Okay. Changed to an ~Entity
[04:06:48] <aatch> Remember, if you have a `&` you don't own it, and can't change it.
[04:07:04] <Havvy> Would an &mut work there then?
[04:07:08] *** Quits: mye (mye@moz-2E1F7DD1.dip0.t-ipconnect.de) (Ping timeout)
[04:07:26] *** Joins: stevegury (stevegury@moz-171801E.hsd1.ca.comcast.net)
[04:07:59] <aatch> Havvy, technically yes, but you still wouldn't own the data, so the Rc would still be pointless.
[04:08:19] *** Joins: mye (mye@moz-FC60257D.dip0.t-ipconnect.de)
[04:08:50] <Havvy> Okay.
[04:09:02] <Havvy> Next I want to put the `data` value into the container.
[04:09:08] <sockmister> does assert! only run in debug builds?
[04:09:17] *** Quits: stevegury (stevegury@moz-171801E.hsd1.ca.comcast.net) (Quit: stevegury)
[04:09:23] <aatch> sockmister, no, it always runs
[04:09:23] <Havvy> But I'm not sure how I would do that.
[04:09:37] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Ping timeout)
[04:09:38] <sockmister> k tyt
[04:09:52] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[04:09:58] *** Quits: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net) (Ping timeout)
[04:10:39] <Havvy> While keeping `data` unique, so no moving it, and still accessible from both `world` and `container`.
[04:10:48] <aatch> Havvy, not possible.
[04:10:59] <Havvy> err, no copying it.
[04:11:32] <Havvy> Why isn't it possible?
[04:11:43] <aatch> well under your current set up it isn't
[04:11:56] <aatch> I get the feeling that this isn't exactly the code you want
[04:12:14] <aatch> Or rather, exactly the code you're working with.
[04:12:40] <Havvy> It's not. It's just what I could write given what I currently know.
[04:13:14] <Havvy> So what needs to change, and why?
[04:13:43] <aatch> Havvy, you need to think about the ownership of data.
[04:14:27] <aatch> Which data should own what other data, etc, etc.
[04:14:49] <aatch> You seem to be using Rc as crutch here, where it might not be necessary.
[04:15:16] <meyer> Iteration over Rust HashMaps is O(table size) not O(# entries), correct? There is no extra data stored?
[04:16:09] <aatch> meyer, you're misusing computation complexity.
[04:16:19] <meyer> Iterating over every element, lets say.
[04:16:21] <Havvy> Okay.  `world` should own the `data` and the `container`, and the `container` should point to an entity owned by ???
[04:16:49] <meyer> What I really want to know is the expected time to find an arbitrary element from a HashMap
[04:17:04] <aatch> meyer, it's going to be linear with respect to the size of the HashMap
[04:17:05] <meyer> In a tree it is obviously O(1)
[04:17:07] <meyer> But
[04:17:09] <meyer> It could be pathological
[04:17:12] <meyer> Yeah.
[04:17:25] <aatch> if you're iterating over every element
[04:17:31] <meyer> That's what I expected. TreeMap doesn't implement insert_and_update_with and some other fuctions, though
[04:17:40] <meyer> The interfaces for TreeMap and HashMap are quite different
[04:17:42] <meyer> And
[04:17:44] <meyer> No
[04:17:46] <meyer> I
[04:18:00] <meyer> Am creating an iterator, and grabbing only the first element.
[04:18:26] <meyer> I expect it is iterating over the table until it hits a filled slot, and returns that
[04:18:35] *** Joins: mbx (mbebenita@moz-B45FE61C.hsd1.ca.comcast.net)
[04:18:37] <meyer> Which means worst case is # of unfilled entries in the table
[04:19:06] <meyer> And I don't need constant time insert, but TreeMap has a different interface which is missing some useful functions
[04:20:21] <aatch> meyer, it's proportional to the size of the table, according to the iterator.
[04:20:44] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[04:20:57] <aatch> but since the table is proportional to the size of the map itself, it's still O(n)
[04:21:06] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[04:21:39] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Ping timeout)
[04:22:00] <aatch> The extra entries aren't going to be a noticeable overhead
[04:22:41] <meyer> Alright. I think they may be, though, since the number of entries in my case rapidly goes up and down.
[04:22:47] <meyer> Does the table ever shrink itself?
[04:22:48] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Ping timeout)
[04:23:33] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[04:23:51] *** Joins: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net)
[04:24:22] <meyer> (You don't actually need to answer that. I can look at the implementation myself if I want to find out)
[04:24:24] *** Joins: valentin (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP)
[04:24:43] <meyer> (obviously you wouldn't need to answer anyway)
[04:24:44] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[04:24:55] *** Joins: matp (matp@moz-16FE1E05.matp.at)
[04:25:16] <huon> meyer: it doesn't shrink atm
[04:25:37] <meyer> Alright, thanks.
[04:26:21] <meyer> Shrinking is probably bad in most cases anyway. An explicit "refit" or "realloc" might be nice, though.
[04:26:27] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[04:26:54] <aatch> It could do that, since it's built on top of Vec
[04:27:58] *** Quits: bvssvni (Mibbit@moz-C4579D6F.bb.online.no) (Quit: http://www.mibbit.com ajax IRC Client)
[04:29:16] <huon> changes to hashmap should probably wait until https://github.com/mozilla/rust/pull/12081 lands, fwiw
[04:29:21] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Ping timeout)
[04:30:22] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[04:30:37] <meyer> Ooh. Those benchmarks look encouraging
[04:30:57] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[04:32:38] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[04:33:23] <zwarich> linear probing is still so handy for the case of balanced insertions and deletions
[04:34:33] *** Parts: PumpMagic (PumpMagic@BC54E65C.D93930C9.36634901.IP) (Leaving)
[04:34:47] *** Quits: brandonson (SingingBoy@610D90A5.EE9B234.1ECA502.IP) (Connection reset by peer)
[04:36:10] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Client exited)
[04:36:19] *** Joins: maxli (Adium@moz-EE42E0E.student.cs.uwaterloo.ca)
[04:36:32] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[04:38:10] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Ping timeout)
[04:38:12] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[04:38:25] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[04:39:55] *** Joins: evanm (evanm@moz-4D6F9A00.hsd1.ca.comcast.net)
[04:41:11] *** Quits: evanm (evanm@moz-4D6F9A00.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[04:43:15] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[04:45:15] *** Quits: luz (lu.cy@moz-CD18B14B.customer.cdi.no) (Quit: 04←)
[04:46:21] *** Quits: hjr3 (hradtke@moz-699EABC0.lsanca.fios.verizon.net) (Ping timeout)
[04:47:14] *** Quits: rustilite (rustilite@moz-61B073BC.cpe.net.cable.rogers.com) (Ping timeout)
[04:47:55] *** Quits: rusti (rusti@moz-61B073BC.cpe.net.cable.rogers.com) (Ping timeout)
[04:48:51] *** Quits: pongad (pongad@moz-7E8AAD2E.res.gatech.edu) (Quit: Leaving)
[04:49:23] *** Joins: luz (lu.cy@moz-586CCE3D.pw)
[04:49:41] <aatch> bah, I wish there was a better way of doing this, but oh well...
[04:50:20] <aatch> Having to wrap a callback in two calls to handle ABI conversion is not fun
[04:51:00] *** Joins: hjr3 (hradtke@moz-699EABC0.lsanca.fios.verizon.net)
[04:51:28] *** Quits: maxli (Adium@moz-EE42E0E.student.cs.uwaterloo.ca) (Ping timeout)
[04:51:54] <Havvy> Okay, so how would I have two structs have mutable references to the same piece of data?
[04:52:21] *** Joins: maxli (Adium@moz-EE42E0E.student.cs.uwaterloo.ca)
[04:53:04] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[04:53:06] <aatch> Havvy, the data needs to be in an Rc<RefCell<T>>
[04:54:24] *** Joins: ScalaClient (ScalaClien@moz-F958911.hsd1.ca.comcast.net)
[04:55:21] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[04:56:27] *** Joins: Jarrett (chatzilla@moz-465FA06E.dhcp.rvsd.ca.charter.com)
[04:56:49] *** Quits: q66 (q66@moz-E9DF1026.dab.02.net) (Quit: Leaving)
[04:56:50] *** Quits: engla_ (engla@moz-F64E1B0F.cust.bredbandsbolaget.se) (Ping timeout)
[04:57:51] <Havvy> aatch:  Okay. So I put the data in an Rc<RefCell<T>>, as per https://gist.github.com/Havvy/5ec055dbd052270e8d90 and I'm getting an error saying it can't move it, but that I should possibly clone it.
[04:58:14] *** Joins: luziie (luziie@moz-CD18B14B.customer.cdi.no)
[04:58:57] <aatch> Havvy, you need to clone it when you give it to `world`
[04:59:03] <aatch> just call `.clone()`
[04:59:11] <aatch> it only copies the reference
[04:59:35] <Havvy> If I mutate the cloned RefCell, does it mutate the original?
[04:59:44] <aatch> Havvy, yes
[04:59:58] <aatch> Wouldn't be much use otherwise.
[05:00:41] *** Joins: Jarrett_ (chatzilla@moz-465FA06E.dhcp.rvsd.ca.charter.com)
[05:00:58] *** Quits: Jarrett (chatzilla@moz-465FA06E.dhcp.rvsd.ca.charter.com) (NickServ (GHOST command used by Jarrett_))
[05:00:59] *** Jarrett_ is now known as Jarrett
[05:01:28] *** Joins: heftig_ (heftig@moz-23888C8A.dip0.t-ipconnect.de)
[05:01:50] <Valloric> can a macro execute code at expansion time?
[05:01:53] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[05:02:27] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[05:02:30] *** Joins: dougxxx (dougxxx@moz-21B0BD70.dyn.iinet.net.au)
[05:02:32] *** Quits: heftig (heftig@moz-254A05A3.dip0.t-ipconnect.de) (Ping timeout)
[05:02:41] <aatch> Valloric, no
[05:02:48] <Valloric> :(
[05:04:03] *** Joins: evanm (evanm@moz-4D6F9A00.hsd1.ca.comcast.net)
[05:04:09] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[05:04:11] *** Quits: evanm (evanm@moz-4D6F9A00.hsd1.ca.comcast.net) (Quit: evanm)
[05:04:12] *** Quits: aquassaut (aquassaut@moz-6107CA64.net-81-220-251.rev.numericable.fr) (Ping timeout)
[05:04:28] *** Quits: blank_name (blank_name@2C5A9B5B.E6D3F868.537E532E.IP) (Connection reset by peer)
[05:06:30] <sfackler> a procedural macro can
[05:06:36] <sfackler> but not a macro_rules! macro
[05:06:38] *** Quits: valentin (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP) (Ping timeout)
[05:06:55] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[05:07:05] *** Quits: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu) (Client exited)
[05:07:25] *** Joins: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu)
[05:07:50] *** Quits: tanayseven (tanay@96AD789A.8FC53CD9.5A7A4C68.IP) (Ping timeout)
[05:08:13] *** Quits: lurk_ (chatzilla@moz-F088D030.hsd1.in.comcast.net) (Quit: ChatZilla 0.9.90.1-rdmsoft [XULRunner 22.0/20130619132145])
[05:08:21] *** Joins: blank_name (blank_name@2C5A9B5B.E6D3F868.537E532E.IP)
[05:09:18] *** Quits: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu) (Ping timeout)
[05:09:31] <Valloric> sfackler: how do I write a procedural macro?
[05:09:36] <Valloric> any docs?
[05:10:11] <Valloric> ctrl-f "procedural" gives me nothing in the manual (master)
[05:10:17] <sfackler> no docs, but take a look at libfourcc, https://github.com/sfackler/rust-phf or https://github.com/sfackler/syntax-ext-talk/blob/gh-pages/simple-ext/lib.rs
[05:10:21] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[05:11:25] <Valloric> sfackler: thanks, I'll check it out
[05:12:22] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Client exited)
[05:13:43] <aatch> sigh, you can cast from a function to a pointer, but not the other way round, it seems
[05:13:45] *** Quits: isaacd (quassel@moz-6902374D.dhcp.oxfr.ma.charter.com) (Input/output error)
[05:14:03] * Havvy has a line of code:  world.container.entity.clone().unwrap().borrow().borrow_mut().get().data = 1;
[05:14:28] <dougxxx> Is there some kind of built-in in rust for an intermediate reference? Where multiple locations access the same object through intermedia proxy owned-pointer objects?
[05:14:40] <dougxxx> I keep seeing code that does basically that using unsafe pointers; it's a bit bleh.
[05:14:41] *** Quits: hjr3 (hradtke@moz-699EABC0.lsanca.fios.verizon.net) (Ping timeout)
[05:14:44] <aatch> Havvy, when autoderef lands a lot of those will disappear
[05:15:03] *** Joins: hjr3 (hradtke@moz-699EABC0.lsanca.fios.verizon.net)
[05:15:06] <Havvy> Only two of those, no?
[05:15:21] *** Joins: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu)
[05:15:25] <aatch> Havvy, yeah.
[05:15:52] *** Quits: Merth (shaun@moz-E41B2C4D.dhcp.mdsn.wi.charter.com) (Ping timeout)
[05:15:58] <Havvy> I'll probably rebuild Rust at that point and thank eddyb for his good work.
[05:16:31] <aatch> Sigh, so many segfaults trying to wrap this library.
[05:17:03] <aatch> It's a well-written lib, just heavy on the callbacks
[05:17:06] *** Quits: rveach (kvirc@moz-E5095E39.hsd1.ca.comcast.net) (Connection reset by peer)
[05:17:24] <aatch> so lots and lots of void* for "user data"
[05:17:34] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[05:17:54] <aatch> Question: how do generics interact with extern "C" functions?
[05:17:55] *** Quits: maxli (Adium@moz-EE42E0E.student.cs.uwaterloo.ca) (Ping timeout)
[05:18:00] <sfackler> aatch: you should be able to transmute in the other direction
[05:18:10] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[05:18:18] <aatch> sfackler, transmute, yes, not cast (using as)
[05:18:40] <sfackler> not all pointers are pointers to functions!
[05:19:01] <aatch> sfackler, so? I can cast between any other raw pointer type
[05:19:18] <sfackler> but it's unsafe to dereference a raw pointer
[05:19:27] <aatch> yes, I know that.
[05:19:32] *** Joins: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca)
[05:19:36] <aatch> This is unsafe code.
[05:20:27] *** Quits: hjr3 (hradtke@moz-699EABC0.lsanca.fios.verizon.net) (Ping timeout)
[05:20:30] <sfackler> right, but since it's not unsafe to call a function, this would be legal if you could cast from a pointer to a function pointer: "let foo: *u8 = 0 as *u8; let f: fn() = foo as fn(); f();"
[05:20:36] *** Parts: meyer (meyer@moz-A9CF56E4.hsd1.ca.comcast.net) ()
[05:20:48] <huon> aatch: generics are illegal to use with extern functions
[05:20:58] <aatch> huon, ah, thought so.
[05:21:05] *** Joins: aquassaut (aquassaut@moz-6107CA64.net-81-220-251.rev.numericable.fr)
[05:21:10] *** Joins: erickt__ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[05:21:21] <aatch> Looks like I'm keeping my trampolines then.
[05:21:57] *** Quits: mye (mye@moz-FC60257D.dip0.t-ipconnect.de) (Quit: mye)
[05:22:24] *** Joins: synackse (jordyd@2D608993.77F880E0.D9401097.IP)
[05:22:39] *** Joins: hjr3 (hradtke@moz-699EABC0.lsanca.fios.verizon.net)
[05:22:50] *** Parts: synackse (jordyd@2D608993.77F880E0.D9401097.IP) ()
[05:23:15] *** Quits: erickt__ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[05:23:59] <sfackler> Havvy: that seems like a wierd combination of calls. What type is entity?
[05:24:06] *** Quits: matp (matp@moz-16FE1E05.matp.at) (Quit: Bye!)
[05:24:32] <Havvy> Option<Rc<RefCell<Data>>>
[05:25:20] <sfackler> you probably want to do world.container.get_ref().borrow().borrow_mut().get().data = 1;
[05:27:13] <Havvy> world.container.entity... ?
[05:27:19] *** Joins: lerc (quassel@moz-289EFA2.telstraclear.net)
[05:28:08] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[05:28:22] <sfackler> er, yeah
[05:28:43] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[05:28:51] <sfackler> unwrap *consumes* the value which is why you had to clone before, where get_ref just gets you a reference to its contents in place
[05:29:04] <Havvy> Ah. Okay.
[05:29:43] <Havvy> It feels like there's way too much complexity here just to have two pointers to the same data. :/
[05:30:35] <aatch> Havvy, that's because doing that is inherently dangerous
[05:30:37] <huon> it's fundamentally memory unsafe :P
[05:30:51] <sfackler> once eddyb's deref patch merges it'll be just world.container.get_ref().borrow_mut().data = 1
[05:30:57] <aatch> shared mutable data might as well be a synonym for data race
[05:31:28] <sfackler> agh
[05:31:34] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Ping timeout)
[05:31:39] <sfackler> world.container.entity.get_ref().borrow_mut().data = 1
[05:31:44] *** Quits: jasom (aidenn@moz-5F6FC7B3.sb.sd.cox.net) (Ping timeout)
[05:32:12] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[05:32:20] *** Joins: edwardw (edwardw@655F78EA.BF27AFA4.B9C6B12A.IP)
[05:33:08] <Havvy> aatch:  Even in a single-thread?
[05:33:14] *** Joins: tanayseven (tanay@96AD789A.8FC53CD9.5A7A4C68.IP)
[05:33:18] <aatch> Havvy, yep.
[05:33:26] <dougxxx> How so?
[05:33:30] <sfackler> Havvy: rust guarantees that mutable references don't alias with anything
[05:33:42] <sfackler> which gives the compiler a ton of leway to optimize
[05:33:52] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Ping timeout)
[05:34:35] <sfackler> and protects you from having a reference to something that doesn't exist anymore
[05:34:56] <huon> say you had x and y pointing to a ~T, if you borrow the T out of x i.e. `z = &*x`, but then overwrite the ~T via y, the original ~T pointer is freed and z points to freed memory
[05:35:07] *** Quits: jroweboy (jrowe7@moz-18814A6B.provo.static.broadweavenetworks.net) (Ping timeout)
[05:35:43] <dougxxx> ...which might be so, but it means you have to write really really complex code to achieve trivial things like an observer pattern.
[05:36:05] *** Quits: luziie (luziie@moz-CD18B14B.customer.cdi.no) (Connection reset by peer)
[05:36:16] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[05:36:57] <dougxxx> I've been fighting the last day trying to implement a bi-directional linked list; you basically cant do it without unsafe pointers.
[05:37:02] <vincent_> where can i read up on proc() vs || ? i dont see proc in the manual
[05:37:20] *** Joins: luziie (luziie@moz-CD18B14B.customer.cdi.no)
[05:37:32] <huon> dougxxx: you can, using Rc and Weak
[05:37:44] <dougxxx> I suppose.
[05:38:03] *** Quits: luziie (luziie@moz-CD18B14B.customer.cdi.no) (Connection reset by peer)
[05:38:11] <aatch> dougxxx, at the end of the day, Rust is still a programming language and therefore an imperfect tool for expressing your thoughts.
[05:38:16] <dougxxx> We're getting into extremely-complex to implement trivial algorithm land though.
[05:38:36] <dougxxx> yeah, there are lots of good things.
[05:38:47] *** Joins: luziie (luziie@moz-CD18B14B.customer.cdi.no)
[05:38:48] <huon> "being forced to write complex code; but guaranteed memory safety" is not a valid argument against "easy to write, but easy to get memory unsafe code" fo Rust
[05:38:49] <dougxxx> I'm just saying; there's a *lot* of code complexity in some really basic stuff
[05:39:12] <dougxxx> mmm
[05:39:27] <aatch> dougxxx, generally because that basic stuff is actually really complex when you do it properly.
[05:39:28] <dougxxx> perhaps. 
[05:39:37] <aatch> C lets you get away with a lot.
[05:39:53] <aatch> And other languages hide the complexity behind things like Garbage Collectors
[05:39:55] <utkarsh> I wrote `let CharRange {ch, next} = self.string.char_range_at(self.byte_idx);` and I'm getting a warning about "unused variable ch" (I'm only using next). Is it possible to extract only `next`, or is the warning a bug?
[05:40:11] <dougxxx> mhm, but in C you know exactly what's happening.
[05:40:12] <huon> maybe it's not so basic: if rustc is rejecting it, it might be indicating that the C equivalent either (a) is incorrect or (b) has a huge number of invariants that the programmer has to keep in their head
[05:40:12] <aatch> utkarsh, replace ch with `_`
[05:40:25] <huon> utkarsh: self.string.char_range_at(self.byte_idx).next
[05:40:32] <dougxxx> in rust you can't access the same pointer in the same thread because of ... mysterious compiler optimizations.
[05:40:35] <huon> or CharRange {next, ..}
[05:40:43] <dougxxx> :/
[05:40:50] <huon> dougxxx: not optimizations
[05:40:53] <huon> corrcetness
[05:40:55] <huon> correctness is king
[05:41:03] *** Quits: hjr3 (hradtke@moz-699EABC0.lsanca.fios.verizon.net) (Connection reset by peer)
[05:41:06] <utkarsh> huon, thanks. `_` wasn't working
[05:41:24] <huon> `ch: _` would work (the `ch` is a shorthand based on the field name)
[05:41:24] *** Joins: hjr3 (hradtke@moz-699EABC0.lsanca.fios.verizon.net)
[05:41:32] <aatch> You can access the same pointer in the same thread, just not mutate through it.
[05:41:41] <utkarsh> ah, right
[05:41:42] <dougxxx> why not?
[05:41:50] <dougxxx> I mean, I know why not
[05:42:01] <dougxxx> but logically speaking, if you f(x); f(y);
[05:42:16] <dougxxx> and both access and change something then f(y) *may* be unsafe
[05:42:34] <aatch> ok, what we mean is that you can't have two pointers active that you can mutate through.
[05:43:03] <aatch> so you can mutate in f(x), then mutate in g(x) and it's fine.
[05:43:24] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Ping timeout)
[05:43:39] <aatch> it's having multiple active mutable pointers that's the problem.
[05:43:54] <dougxxx> hm
[05:44:05] <dougxxx> but you can't invoke operations on non-mutable pointers can you?
[05:44:06] <aatch> Or rather having a pointer you can mutate through, and any other pointers
[05:44:17] <aatch> dougxxx, you can, as long as they don't change things
[05:44:35] <Amaranth> Hmm, I'm going to have to look at this robin hood hashing implementation
[05:45:00] <Amaranth> Apparently that technique has issues where after lots of insertions and deletions the average probe length explodes
[05:45:00] <aatch> the easiest way to think about it is "could this type of operation cause a reference to be invalid"
[05:46:37] <Havvy> Can I do `Rc<RefCell<T>> as Rc<RefCell<U>>` where U is a trait that T implements?
[05:46:46] *** Joins: LRN (LRN@moz-EA80C63C.nationalcablenetworks.ru)
[05:47:06] <aatch> Havvy, not currently
[05:47:12] *** Quits: ryeguy (ryeguy@9C569A0.5D1143CD.E8644521.IP) (Quit: )
[05:47:18] <aatch> DST would allow that though
[05:47:24] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[05:47:35] *** Quits: hjr3 (hradtke@moz-699EABC0.lsanca.fios.verizon.net) (Ping timeout)
[05:48:01] *** Joins: hjr3 (hradtke@moz-699EABC0.lsanca.fios.verizon.net)
[05:48:37] <Havvy> Okay. So are there any workarounds for that?
[05:48:53] <Havvy> Or should I wait for DST to land?
[05:49:25] <Havvy> Also, somewhat coincidental, DST (Daylight Savings Time) is tonight in most of America.
[05:49:52] <mcpherrin> that's tonight? I hate DST :(
[05:49:56] <mcpherrin> but <3 rust DST
[05:49:57] <huon> Rc<RefCell<~U>> somewhat works
[05:50:53] *** Quits: rileyw (rileyw@moz-E40BCEED.hsd1.ca.comcast.net) (Client exited)
[05:50:53] *** Joins: rileyw (rileyw@moz-E40BCEED.hsd1.ca.comcast.net)
[05:50:54] <dougxxx> I guess I'll keep playing. I'm all for memory and concurrency safeness, but strong enforced protections against null pointers seems odd. 
[05:50:57] *** Quits: james4k (james@moz-9BB5AE72.consolidated.net) (Ping timeout)
[05:50:58] <Havvy> Somewhat?
[05:51:09] <dougxxx> Every piece of code I look at with real examples just gets around it by using unsafe { ... }
[05:51:35] <dougxxx> (so its not safe at all)
[05:51:53] <aatch> dougxxx, really? That
[05:52:03] <aatch> That's not my experience
[05:52:06] *** Joins: rootnode_ (rootnode@moz-35CEA5A.pools.arcor-ip.net)
[05:52:07] <huon> Havvy: there are some instances where can't do what Rc<RefCell<U>> can do... i don't know one off the top of my head
[05:52:18] <huon> dougxxx: it's not protection against nulls
[05:52:38] <Havvy> It's protection against read after free.
[05:52:39] *** Quits: rootnode (rootnode@moz-35CEA5A.pools.arcor-ip.net) (Ping timeout)
[05:52:44] <Havvy> Which is theoretically worse.
[05:52:48] <dougxxx> hm? is there some technical distinction there?
[05:52:48] <huon> it's projection against memory unsafety: null pointers, dangling references, uninitialised data, read after free
[05:52:54] <aatch> because it might work.
[05:52:59] *** Quits: rootnode_ (rootnode@moz-35CEA5A.pools.arcor-ip.net) (Connection reset by peer)
[05:53:06] <aatch> dougxxx, well yes, a null pointer is easy to check for
[05:53:10] *** Joins: rootnode_ (rootnode@moz-35CEA5A.pools.arcor-ip.net)
[05:53:15] <huon> null pointers are just one example of something that *can* cause memory unsafety
[05:53:30] <aatch> a dangling pointer is indistinguishable from a normal one.
[05:53:44] <dougxxx> true enough; -> free'd memory is pretty much the worst thing in the world in c.
[05:54:03] <aatch> Most of Rust is about stopping that
[05:54:11] <aatch> like 75%
[05:54:16] <aatch> maybe more.
[05:54:35] <huon> the new/interesting part of Rust is memory safety without a GC
[05:54:55] *** Quits: rootnode_ (rootnode@moz-35CEA5A.pools.arcor-ip.net) (Ping timeout)
[05:55:21] <huon> most of the rest of rust exists in other mainstream(-ish) languages
[05:55:30] *** Joins: rootnode (rootnode@moz-35CEA5A.pools.arcor-ip.net)
[05:56:03] *** Quits: mbx (mbebenita@moz-B45FE61C.hsd1.ca.comcast.net) (Quit: mbx)
[05:56:08] * Havvy wonders how well a GC-only Rust would do
[05:56:25] <mcpherrin> It wouldn't really be that interesting anymore
[05:56:35] <aatch> Havvy, not well, we'd be like D
[05:57:05] <aatch> D is, by it's own description, C++ done right.
[05:57:27] *** Quits: hjr3 (hradtke@moz-699EABC0.lsanca.fios.verizon.net) (Ping timeout)
[05:57:27] *** Joins: alinab_ (alina@moz-94EAE39D.alinab.org)
[05:57:28] *** Quits: alinab_ (alina@moz-94EAE39D.alinab.org) (Quit: alinab_)
[05:57:30] <Havvy> Call the language 'Dust' then?  ;)
[05:57:35] *** Joins: hjr3 (hradtke@moz-699EABC0.lsanca.fios.verizon.net)
[05:57:55] <Ralith> which is a funny description, really
[05:58:03] <o11c> GC is terrible
[05:58:08] <aatch> Unfortunately, that means it's not very interesting, as many C++ programmers are looking at it and going "I guess that's cool, but I'm already using C++"
[05:58:15] <Ralith> gives you all of the disadvantages of a high level highly abstract language and none of the advantages
[05:58:44] <aatch> Also, I'm convinced that Andrei is just using D as a test bed for future C++ features
[05:58:46] <o11c> aatch: the fact that Rust makes it harder to make mistakes is an advantage, but there are *so* many things I currently do in C++ ...
[05:59:19] <aatch> o11c, oh, I know. But then in C++ you start yearning for Rust features. At least, I did.
[05:59:22] <Jarrett> more like Andrei was tired of waiting for the molasses-slow C++ development process and found himself a language he could mold to his liking ;o
[05:59:24] <huon> and how many of those things have memory safety bugs? :P
[05:59:27] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[05:59:35] <aatch> Being able to reason about ownership is big one.
[06:00:21] <aatch> Jarrett, same thing really. I just think it's amusing that many of the big features in C++11 are taken almost verbatim from D
[06:00:28] *** Joins: koderok (Thunderbir@E874BD9A.6ED97631.50E99975.IP)
[06:00:30] <Jarrett> yeah lol
[06:00:42] *** Quits: MrByte (Dartakio@moz-81792842.chy-wy.client.bresnan.net) (Ping timeout)
[06:00:43] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[06:00:47] <Jarrett> I'm porting D1 code to C++11 and it's surprisingly mechanical
[06:00:55] *** Quits: onelson (owen@18CF7301.95770028.5B6BFE7D.IP) (Ping timeout)
[06:01:05] *** Joins: MrByte (Dartakio@moz-81792842.chy-wy.client.bresnan.net)
[06:01:10] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[06:01:13] <o11c> aatch: which is why I wish Rust were open more open to being like C++ ... because C++ is already stuck in the "backward compatibility" mindset
[06:01:15] <aatch> the type inference via `auto`, variadic templates, static_assert (kinda)
[06:01:31] <aatch> o11c, we are open to being more like C++.
[06:01:34] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[06:01:49] <o11c> my ideal language is pretty much C++ without backward compatibility
[06:02:07] <o11c> I suppose I could write a Foo -> C++ converter ...
[06:02:14] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[06:02:15] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Ping timeout)
[06:02:27] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[06:02:29] <aatch> Don't listen to the rabid anti-C++ people, we have taken what we think is good from C++ and left behind what we think is bad.
[06:02:51] *** Quits: rootnode (rootnode@moz-35CEA5A.pools.arcor-ip.net) (Ping timeout)
[06:02:52] <aatch> I mean, we have an overloaded deref operator now.
[06:03:01] <aatch> How much more C++-ish do you want?
[06:03:06] <o11c> I suppose the problem isn't really that rust *refuses* to be like C++
[06:03:19] *** Joins: bollu (bollu@31CCE710.7065DDB9.6D6A344F.IP)
[06:03:20] <o11c> it's the fact that Rust has already enshrined features that make adding more of C++ harder
[06:03:26] <bollu>  error: cannot borrow immutable dereference of & pointer as mutable <- this means?
[06:03:30] <o11c> like the default argument thing discussed earlier
[06:03:33] *** Joins: matp (matp@moz-16FE1E05.matp.at)
[06:04:00] <o11c> and the whole crate-at-a-time compilation system
[06:04:08] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[06:04:28] <Havvy> bollu:  You're trying to cast a '&' to an '&mut', which you cannot do.
[06:04:37] <pyon> Really, what do C++ people want? :-|
[06:04:44] *** Quits: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca) (Ping timeout)
[06:04:46] <aatch> o11c, crate-at-a-time is deliberate. And doesn't technically preclude incremental recompilation.
[06:04:47] <Jarrett> C++
[06:04:56] <bollu> Havvy: I can cast a mut to an &mut can't I ?
[06:04:59] <Havvy> Jarrett++
[06:05:00] <o11c> pyon: all the power of C++, without the stuff that backward compatibility forces
[06:05:26] <Havvy> bollu:  I believe so. (But I'm also a newbie to the language.)
[06:05:28] <Jarrett> but there are plenty of C++ users who confuse "power" with "useless garbage necessitated by backwards compat"
[06:05:29] <o11c> and when I say all the power, I mean *all* the power
[06:05:47] *** Joins: maxli (Adium@moz-B19F68ED.student.cs.uwaterloo.ca)
[06:05:52] <aatch> I think the only major thing C++ has over Rust is templates
[06:06:04] <Jarrett> and C++'s templates suck, borrow from D please ;)
[06:06:04] <aatch> it's a very big thing, I'll admit
[06:06:07] <pyon> aatch: Templates not being actually generic is a bad thing.
[06:06:12] <bollu> Havvy: thanks. and I got what I was doing wrong - I forgot to add the "mut" at the call site. 
[06:06:15] <mcpherrin> Rust has syntax extensions which are better for metaprogramming
[06:06:19] *** Joins: ahunt (ahunt@moz-6D6D79D6.cable.virginm.net)
[06:06:26] <Havvy> C++ templates are another language on top of C++.
[06:06:50] <pyon> The only thing I really miss from C++'s templates is compile-time dimensional analysis.
[06:07:08] <mcpherrin> pyon: does anybody actually do that in "real" code though?
[06:07:22] <o11c> The thing I've come to realize about C++ is:
[06:07:26] <pyon> mcpherrin: Well, I did it in physics simulations.
[06:07:35] <aatch> mcpherrin, SmallVector impls use the same feature though.
[06:07:38] <o11c> even if something seems crazy, it *was* added to the langauge because somebody needed it
[06:08:05] <o11c> if they only needed it because of backward compatibility, then it's fine to drop ... otherwise, keep it
[06:08:18] <aatch> o11c, I agree. Well, I'd change it to "somebody *thought* they needed it"
[06:08:34] <o11c> I deliberately left that word out
[06:08:43] <pyon> The problem is the lack of principles. I think I once saw a blog post comparing Lisp to Haskell, saying how Haskell begins with a restrictive core, and slowly adds expressive power in a safe way. I feel this could well be the relationship between C++ and Rust as well.
[06:09:01] <pyon> s/the lack/C++'s lack/
[06:09:03] <o11c> one thing I would change about C++ would be putting restrictions on template specialization - but Rust traits solve that better
[06:09:37] <pyon> o11c: Exactly. I hate ForwardIterator, InputIterator, etc. only exist in the heads of C++ programmers, not actually in their code.
[06:09:40] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[06:09:41] <o11c> (before I learned traits, I was thinking static-if at class scope, like python)
[06:09:44] *** Joins: fournm (Aria@moz-ABB60BA0.austin.res.rr.com)
[06:09:50] *** Quits: lpy (lpy@7360AA58.F09091A8.1348A864.IP) (Connection reset by peer)
[06:09:57] *** Joins: lpy_ (lpy@7360AA58.F09091A8.1348A864.IP)
[06:10:01] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Client exited)
[06:10:03] * Havvy wonders if a type combining Rc and RefCell would be useful.
[06:10:12] <o11c> ooh, yeah. That's another great use of traits
[06:10:29] * pyon wonders how much C++ compilation times could be reduced if it had concepts/traits.
[06:11:28] <huon> Havvy: https://github.com/mozilla/rust/issues/12724
[06:11:36] <Jarrett> writing iterators in C++ makes me want to smash things C:
[06:12:07] <o11c> I *really* need to write my own language someday ...
[06:12:13] <bollu> o11c: me too :(
[06:12:25] <o11c> Also, I do solemnly swear I will completely decouple the syntax from the AST
[06:12:28] <pyon>  Jarrett: Heh. Iterators themselves are a great idea. The problem is C++'s type system is not good enough to express them without duck typing (at template instantiation time).
[06:12:35] <o11c> so if you don't like my syntax, you can write your own
[06:12:55] <o11c> there *is* a proposal for concepts at least
[06:13:18] <pyon> o11c: It is worth nothing if use of the feature is not mandatory.
[06:13:23] <o11c> I'm not convinced either way on the "iterators come in pairs" vs "iterators are implicitly pairs" argument ...
[06:13:32] <pyon> But that would break, like, all C++ code out there.
[06:13:33] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[06:13:48] <o11c> pyon: it will get simplify lots of compiler errors just by being added to the standard library
[06:14:00] <huon> o11c: when they're actually pairs, it's all to easy to get them paired up incorrectly
[06:14:00] <o11c> you know how anti-C++ go on about template erorrs
[06:14:09] <huon> *too
[06:14:11] <o11c> huon: not really
[06:14:16] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[06:14:25] <o11c> the hard part is that you can't return 2 objects in C++
[06:14:33] <o11c> but I guess language-level tuples could do that
[06:14:37] <huon> sure it is, a simple typo => bam wrong iterator comparisons
[06:14:53] <o11c> C++ has taught me not to typo
[06:15:10] *** Joins: rusti (rusti@moz-61B073BC.cpe.net.cable.rogers.com)
[06:15:12] <Havvy> To typo is to be human.
[06:15:15] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[06:15:15] *** Joins: rustilite (rustilite@moz-61B073BC.cpe.net.cable.rogers.com)
[06:15:19] <bollu> o11c: std::pair ?
[06:15:27] <bollu> not a neat solution, but a solution exists
[06:15:27] * o11c is a human with software upgrades
[06:15:44] <huon> "C++ has taught me not to make mistakes which cause memory unsafety"
[06:15:48] <huon> doesn't work :P
[06:15:58] *** Joins: mbx (mbebenita@moz-B45FE61C.hsd1.ca.comcast.net)
[06:16:16] <o11c> bollu: there's a huge argument about whether std::pair of an iterator should provide .begin() and .end() ... which is necessary for foreach loops to work
[06:16:55] <o11c> huon: I would actually say that. Since I *never* manually manage the lifetime of a pointer, the only vulnerable things is constructors and destructors
[06:17:11] <bollu> o11c: C++ iterators are broken to begin with :( but for x in pair sounds nice. 
[06:17:21] <Havvy> Since it's been a couple months since I last asked, what's the best ETA for Rust 1.0?
[06:17:23] <bollu> o11c: *never* ?
[06:17:33] *** Joins: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net)
[06:17:37] <o11c> bollu: never.
[06:17:58] <o11c> I absolutely refuse to write any sort of alloc/dealloc pair in my code
[06:18:11] *** Joins: onelson (owen@18CF7301.95770028.5B6BFE7D.IP)
[06:18:13] <bollu> o11c: so you've never messed around with poiners or you just don't do it in a professional environment?
[06:18:21] <huon> oh, so use of destructors implies memory safety?
[06:18:22] <huon> that's new
[06:18:23] <o11c> bollu: I've managed to eliminate the need
[06:19:03] <o11c> huon: pretty much it does. Every variable in scope is valid; every variable out of scope is freed
[06:19:05] <bollu> o11c: my first language was C, so I have a hard time accepting that. huon: RAII implies that right?
[06:19:13] <o11c> only thing to worry about is NULL pointers
[06:20:09] <huon> no! there's so much more to memory safety than freeing pointers correctly
[06:20:09] <pyon> o11c: "Every variable in scope is valid" --> Yeah, but we need much finer-grained control over what is "in scope".
[06:20:11] <huon> :/
[06:20:28] <huon> invalidating references by mutating a different reference
[06:20:39] <huon> anything touching concurrency
[06:21:02] <o11c> well, I'm not currently writing anything multithreaded
[06:21:29] <o11c> and ... I don't ever take a reference that can be invalidated by someone else
[06:21:39] <huon> buffer overruns?
[06:22:04] <o11c> I suppose there's nothing *preventing* me from doing that, but I just don't
[06:22:08] <bollu> huon: huon: rust handles concurreny neatly with the whole Arc thing right?
[06:22:16] <o11c> I learned to avoid buffer overruns before I even started C++
[06:22:17] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[06:22:31] <huon> yes, you can say "I avoid buffer overruns"
[06:22:44] <huon> but a mistake means that, surprise! you've got one
[06:22:53] <huon> perfect C++ is fine
[06:22:57] <huon> but writing perfect C++ is *so* hard
[06:23:10] <o11c> since I am able to avoid them reliably, a language/runtime is not helpful to me
[06:23:27] <o11c> huon: funny, I would say that writing perfect C++ is easier than writing imperfect C++
[06:23:32] *** Joins: maxli1 (Adium@moz-EE42E0E.student.cs.uwaterloo.ca)
[06:23:37] *** Quits: maxli (Adium@moz-B19F68ED.student.cs.uwaterloo.ca) (Ping timeout)
[06:23:59] <mcpherrin> It also depends what scale you're programming at, and how complex your problem domains are
[06:24:01] <o11c> it's just ... I get annoyed, sometimes, at how verbose certain things are
[06:24:05] <Jarrett> well how perfect you are C:
[06:24:19] <pyon> o11c: Except when you have stuff like multiple (untagged) unions where the selected member depends on complex conditions.
[06:25:10] <o11c> pyon: every untagged union gets wrapped in a struct to tag it. And I even have an idea floating around for removing the unions completely.
[06:25:21] *** Quits: bjustin (bjustin@moz-4B914826.hsd1.mn.comcast.net) (Quit: Textual IRC Client: www.textualapp.com)
[06:25:24] * o11c really needs to write a prototype for that (multistack scripting language)
[06:26:19] <whitequark> multistack?
[06:27:40] <Havvy> Multistack?  Continuations?
[06:28:00] *** Quits: quux00 (uid24415@moz-E77DEB21.irccloud.com) (Quit: Connection closed for inactivity)
[06:29:08] *** Joins: huon_ (huon_@moz-D58F3410.pa.nsw.optusnet.com.au)
[06:29:27] *** Joins: doctor (ARealName@moz-9CB48492.nycmny.fios.verizon.net)
[06:30:07] <o11c> basically: in a stack-based embedded language, instead of using tagged unions, just give each function a static type signature and push/pop each type of argument off a different stack
[06:30:24] <huon_> o11c: do you really mean to tell me youve never had to debug a C++ program you've written??
[06:30:30] <o11c> I'm thinking I need 4 primitive types - structs/tuples will be decomposed
[06:30:43] *** Quits: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP) (Ping timeout)
[06:30:50] <o11c> huon_: I've certainly had to debug.
[06:31:07] <pyon> In C++ (resp. Rust), by default types are default-destructible (resp. non-Drop), unless they either have non-default-destructible member or themselves have a destructor (resp. implement Drop), right? I would like to see this reversed: by default one should assume that values have to be explicitly destructed (as a regular instruction, not an implicit destructor call at the end), unless one explicitly nominates a default destructor.
[06:31:19] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[06:31:41] <o11c> pyon: ugh, that missing the whole point of destructors
[06:31:59] <pyon> o11c: No. It is not.
[06:32:27] <huon_> o11c: and it has *always* been a fundamental logic error, rather than a mistake in implementation?
[06:33:13] <o11c> huon_: usually, it's when I'm refactoring and I forget to change one site because it doesn't match the same regex
[06:33:36] <pyon> o11c: The point is that one has the freedom to destroy values in more than one way.
[06:33:49] <huon_> frankly mozilla wouldn't be spend a pile of effort on Rust if perfect C++ was easy
[06:33:52] <pyon> s/has/should have/
[06:34:29] *** Quits: onelson (owen@18CF7301.95770028.5B6BFE7D.IP) (Ping timeout)
[06:34:30] <huon_> and there wouldnt be huge numbers of vulnerabilities in all the big name C++ applications (browsers, OSes, etc.)
[06:34:32] <o11c> huon_: well ... I do think that Rust is better than Java if you're going after the mediocre programmers ... and it's less painful than Java if you're better than that.
[06:34:43] <huon_> Java???
[06:34:58] <Jarrett> oooooooh fighting words
[06:35:03] <pyon> o11c: I do not see mediocre programmers wrapping their heads around compiler errors about lifetimes.
[06:35:23] <Havvy> pyon:  Whic *is* a problem.
[06:35:26] <Havvy> Which*
[06:35:27] <huon_> Java is a different niche to Rust. and not at all relevant to memory safety.
[06:35:29] <o11c> pyon: but at least they have to *face* the error - that's why I said it's better
[06:35:30] <pyon> o11c: They would yell and scream until they are back to their garbage-collected comfort zone.
[06:35:47] <o11c> huon_: no, I'm pretty sure that's the whole point
[06:35:57] <huon_> (because it takes the "just use a GC" route.)
[06:36:04] <bollu> this is a stupid question - but why is rust so zealous about int v/s uint v/s float32 v/s float64? It's frustrating to write math code
[06:36:23] <pyon> o11c: They would deal with the error by switching languages. If compilers telling you your code is shit were the universally accepted way to deal with mediocre programmers, Haskell would be king on the enterprise.
[06:36:56] *** Parts: brihat (bdsatish@moz-5EC00491.dhcp.inet.fi) ()
[06:37:05] *** Quits: tanayseven (tanay@96AD789A.8FC53CD9.5A7A4C68.IP) (Ping timeout)
[06:37:31] <Jarrett> yeah, bollu, I'm not sure why literals like "1" aren't just implicitly convertible to any type in which they can be losslessly represented
[06:37:34] *** Joins: brihat (bdsatish@moz-5EC00491.dhcp.inet.fi)
[06:38:38] *** Quits: maxli1 (Adium@moz-EE42E0E.student.cs.uwaterloo.ca) (Ping timeout)
[06:38:43] <o11c> anyway, my point is ... there are a lot of mediocre programmers writing C++ ... they don't *know* how to write it safely, especially on a large scale.
[06:38:46] <pyon> o11c: And, if anything, enterprise Java (which is what most mediocre programmers write) is an exercise on recreating dynamic typing by exploiting the holes of a not-so-well designed type system. Hence much of the verbosity (downcasts, reflection, classloaders).
[06:39:09] *** Joins: maxli (Adium@moz-B19F68ED.student.cs.uwaterloo.ca)
[06:39:43] *** Quits: huon_ (huon_@moz-D58F3410.pa.nsw.optusnet.com.au) (Ping timeout)
[06:40:11] *** Joins: whidgle (Mibbit@4F7252F2.CEBBE496.E48CFF63.IP)
[06:40:11] *** Joins: ofeldt- (ofeldt@moz-94A6FD49.dip0.t-ipconnect.de)
[06:40:17] <bollu> pyon: I think you can leave reflection out of that list. it's nifty :)
[06:40:39] *** Joins: skade (skade@moz-DD117FD0.pools.arcor-ip.net)
[06:40:48] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[06:41:08] *** Quits: ofeldt (ofeldt@moz-82F6AB0D.dip0.t-ipconnect.de) (Ping timeout)
[06:41:42] <o11c> I'm not sold on reflection, except at compile-time
[06:41:51] <pyon> bollu: Reflection only exists to make up for what you cannot express at compile time.
[06:41:58] <o11c> C++ templates are *awesome* (but could be better)
[06:41:58] *** lpy_ is now known as lpy
[06:42:13] <whitequark> qt's moc is a good use case
[06:42:18] <o11c> e.g. I'd like to be able to iterate over hte (type, name) tuples of a class
[06:42:29] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[06:42:31] *** Quits: maxli (Adium@moz-B19F68ED.student.cs.uwaterloo.ca) (Ping timeout)
[06:42:36] *** Joins: sankha93 (sankha93@7061CD01.D6BD0D91.22D41759.IP)
[06:42:41] <pyon> whitequark: What a coincidence. I do not like Qt-style C++. It reminds me too much of Java and .NET.
[06:42:47] <bollu> pyon: but it makes writing stuff like serialization __so__ much easier. it has a few use-cases where it simplifies stuff drastically
[06:42:53] <pyon> o11c: You just need a smarter type system.
[06:43:10] <bollu> whitequark: Qt's meta object protocol felt a little too weird to use.
[06:43:13] *** Quits: sankha93 (sankha93@7061CD01.D6BD0D91.22D41759.IP) (Client exited)
[06:43:13] <pyon> o11c: The way Ur/Web does it is particularly nice.
[06:43:17] <o11c> bollu: serialization is a good example of when you don't need runtime reflection ...
[06:43:19] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[06:43:27] <pyon> bollu: Again, that just needs a smarter type system.
[06:43:41] <bollu> o11c: how would you serialize with a "smarter" type system? genuinely asking
[06:44:13] <o11c> pyon: ooh, shiny
[06:44:46] <bollu> rust just segfaulted. 
[06:44:48] <o11c> bollu: for (type, name) in class { serialize<type>(obj.name) }
[06:44:49] <pyon> bollu: o11c: Encode the notion of "a struct is made of members that are essentially name-type pairs" into the type system.
[06:44:55] <bollu> well, my program segfaulted
[06:45:21] <bollu> o11c: you're approaching scheme like data <--> objects thing there.
[06:45:25] <pyon> o11c: That "for (type, name)" is something that has to be done at compile-time. At runtime, it should only be a sequence of statements.
[06:45:26] <o11c> speaking of segfaults, if I don't file a bug by tomorrow nag me about my rust ICE
[06:45:59] <whitequark> pyon: bollu: what's your solution to GUI programming in C++, then?
[06:46:07] <bollu> o11c:  that's barely a "type system" though. at that point, it becomes an exercise in symbol manipulation
[06:46:08] <whitequark> I find it that Qt resides in a local optimum
[06:46:16] <pyon> whitequark: Why in C++ in first place?
[06:46:19] *** Joins: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca)
[06:46:45] <o11c> Qt's approach to signals is strange, but it's still the best UI toolkit I've found
[06:46:55] <bollu> whitequark: I've never fount a satisfactory C++ UI framework. 
[06:47:13] *** Joins: pongad (pongad@moz-7E8AAD2E.res.gatech.edu)
[06:47:23] <bollu> whitequark: I'd say CSS comes damn close to a perfect UI framework even with all of it's weirdness
[06:47:32] <pyon> bollu: wat
[06:47:39] <whitequark> bollu: quickly tell me how to center stuff vertically
[06:47:52] <bollu> whitequark: which was why I said "with all of it's weirdness" :)
[06:48:08] <Havvy> whitequark:  flexbox.
[06:48:09] <bollu> whitequark: use a CSS framework (don't touch the actual thing), use something like pure
[06:48:32] <whitequark> well, Qt uses something CSS-like for styling elements (but not positioning)
[06:48:38] <bollu> whitequark: you mean QML?
[06:48:43] <whitequark> I think so
[06:49:10] <whitequark> eh, whatever, I didn't touch it for years. not really interested in this discussion
[06:49:10] *** Quits: Diamond (dick@moz-80556682.ks.ks.cox.net) (Quit: Leaving.)
[06:49:18] *** Joins: onelson (owen@18CF7301.95770028.5B6BFE7D.IP)
[06:49:20] <whitequark> unrelated: whoever did the libcollection split, thank you so much
[06:49:35] <Havvy> https://stackoverflow.com/questions/15726740/
[06:50:04] *** Parts: IanCormac84 (User@659E65F3.64D641E5.67DFF8B4.IP) ()
[06:50:15] * whitequark glares at libarena
[06:50:15] <bollu> how do I step through rust code? can I use GDB?
[06:50:18] <whitequark> RefCell::new(@Nil)
[06:50:20] <aatch> bollu, yes
[06:50:24] <whitequark> do I miss something or is that weird?
[06:50:34] <Havvy> That's weird.
[06:50:34] <aatch> whitequark, that is weird
[06:50:48] <Havvy> RefCell::new(None)
[06:50:50] *** Quits: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net) (Quit: Taking a nap.)
[06:50:52] <aatch> you shouldn't be using `@` (especially not in `@`)
[06:51:04] <whitequark> aatch: that's what libarena uses
[06:51:11] <whitequark> for some reason I do not comprehend
[06:51:33] <bollu> Havvy: yeah, I've been tormented by CSS too, but it's better than most stuff out there to position things
[06:51:33] *** Quits: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca) (Ping timeout)
[06:52:05] *** Quits: pongad (pongad@moz-7E8AAD2E.res.gatech.edu) (Quit: Leaving)
[06:52:23] *** Quits: blindrenderer (blindrende@933424D6.B22400E5.217C7FCC.IP) (Connection reset by peer)
[06:52:41] *** Joins: blindrenderer (blindrende@933424D6.B22400E5.217C7FCC.IP)
[06:53:31] *** Joins: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP)
[06:53:39] *** Quits: edwardw (edwardw@655F78EA.BF27AFA4.B9C6B12A.IP) (Quit: Leaving...)
[06:54:22] <aatch> whitequark, hmm, I thought pcwalton had re-written Arena.
[06:54:52] <bollu> shouldn't the compiler complain if a lifetime of something borrowed doesn't live as long as the borrowee?
[06:55:09] <bollu> if a borrows b, doesn't rust ensure that  b lives at least as long as a?
[06:55:17] <mcpherrin> bollu: yes
[06:55:22] *** Joins: morganb (morgan_b_@moz-5EAC75A2.hfc.comcastbusiness.net)
[06:55:33] <bollu> because it seems to be segfaulting at a borrow where the borrowed object dies
[06:55:40] <bollu> before the borrower
[06:55:46] <aatch> Ahh, he only implemented TypedArena
[06:55:50] <bollu> not sure how much sense I'm making
[06:56:27] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[06:56:30] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Quit: TheHydroImpulse)
[06:56:31] <aatch> bollu, sounds like you're using unsafe code or something.
[06:56:40] <aatch> Either that or have hit a nasty compiler bug
[06:56:59] <bollu> aatch: I'm using rust-SFML which internally may have unsafe code
[06:57:17] <bollu> aatch: should I gist the whole thing or just the important bit?
[06:57:29] *** Joins: kp (kgps@4F7252F2.CEBBE496.E48CFF63.IP)
[07:00:25] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Ping timeout)
[07:01:15] <bollu> aatch https://gist.github.com/bollu/54d3d3fc7c7cf981611c 
[07:02:22] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[07:03:25] *** Quits: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[07:04:02] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Ping timeout)
[07:04:33] <aatch> that shouldn't compile
[07:05:20] <bollu> aatch: it did though
[07:05:27] *** Quits: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net) (Ping timeout)
[07:05:36] <aatch> bollu, yeah...
[07:05:38] <bollu> and it segfaulted >,<
[07:06:06] <bollu> so, what do I do?
[07:06:17] *** Quits: kp (kgps@4F7252F2.CEBBE496.E48CFF63.IP) (Quit: WeeChat 0.4.3)
[07:06:37] <aatch> Well your rectangles in that loop are being destroyed at the end of each loop
[07:06:38] *** Joins: kp (kp@4F7252F2.CEBBE496.E48CFF63.IP)
[07:06:45] <bollu> yep, exactly.
[07:07:10] <bollu> but the compiler is not complaining about the lifetime
[07:07:20] <bollu> maybe I haven't written the lifetime declaration right?
[07:07:53] <aatch> bollu, it's a compiler bug
[07:08:06] <bollu> aatch: you sure? I find it hard to believe
[07:08:15] <aatch> it definitely is.
[07:08:17] <bollu> aatch: so now, write a minimal example?
[07:08:31] <aatch> No relevant unsafe code + segfault = compiler bug
[07:08:49] <aatch> or stack overflow
[07:08:50] *** Quits: limeburst (me@247D1419.D73964AC.27A8748.IP) (Client exited)
[07:10:48] *** Quits: Valloric (Valloric@moz-288722BA.hsd1.ca.comcast.net) (Quit: Valloric)
[07:12:04] <geomyidae> arch pkgs are still drifting I take it/
[07:12:21] *** Joins: tanayseven (tanay@96AD789A.8FC53CD9.5A7A4C68.IP)
[07:13:13] <bollu> aatch: it isn't working with an int
[07:13:18] <bollu> I'm trying to reproduce it
[07:15:13] <aatch> bollu, I've done it.
[07:15:47] <aatch> It's related to the trait coercion
[07:16:28] <bollu> aatch: ah.
[07:16:57] <bollu> so, filed a bug?
[07:17:09] <aatch> not yet, seeing if it's already been filed.
[07:17:50] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[07:18:53] *** Joins: maxli (Instantbir@moz-1650391B.hsd1.ca.comcast.net)
[07:18:53] <bollu> aatch: got it too.
[07:19:10] <bollu> aatch: hm, so the fact that I'm taking a trait and not a struct screws it over eh?
[07:19:21] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Ping timeout)
[07:19:22] <aatch> bollu, yeah, it shouldn't though
[07:19:43] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[07:21:26] <Havvy> Do we have an ETA on DST?
[07:21:54] *** Quits: rdgawdzi (rdgawdzi@moz-21D6B3DE.csclub.uwaterloo.ca) (Ping timeout)
[07:22:02] *** Quits: qxi (qxi@moz-21D6B3DE.csclub.uwaterloo.ca) (Ping timeout)
[07:22:07] <bollu> aatch: so, how do you fix it?
[07:22:35] *** Quits: tav (tav@moz-7F8C7893.range31-52.btcentralplus.com) (Quit: tav)
[07:22:36] *** Quits: jj2baile (jon@moz-345B5EBA.csclub.uwaterloo.ca) (Ping timeout)
[07:22:37] *** Joins: jj2baile (jon@moz-345B5EBA.csclub.uwaterloo.ca)
[07:22:38] <aatch> bollu, you need to have the RenderPump own the drawables
[07:22:38] *** Quits: Luqman (laden@moz-AB7945E9.csclub.uwaterloo.ca) (Ping timeout)
[07:22:43] *** Joins: Luqman (laden@moz-AB7945E9.csclub.uwaterloo.ca)
[07:23:31] *** Joins: gwty (gwtypc@EBDF953E.B13196B9.137C914F.IP)
[07:23:41] <bollu> aatch: so I use ~ ?
[07:23:46] <Jarrett> Havvy: only a couple hours here ;)
[07:23:50] <aatch> bollu, yeah.
[07:23:54] <photex> hi folks
[07:24:01] <photex> I would like to play with Rust on my beaglebone
[07:24:08] *** Joins: richard|s (mindginati@moz-47C51C0D.dyn.cust.vf.net.nz)
[07:24:10] <Havvy> Jarrett:  The other DST.
[07:24:12] <Havvy> ;)
[07:24:15] <photex> can I build rust as a cross compiler?
[07:24:16] <Jarrett> haha
[07:24:22] <photex> or should I just build it on the beagle?
[07:24:32] *** Joins: IanCormac84 (User@659E65F3.64D641E5.67DFF8B4.IP)
[07:24:45] <bollu> aatch: ../src/main.rs:51:34: 51:38 error: cannot pack type `~rsfml::graphics::rectangle_shape::RectangleShape<>`, which does not fulfill `Send`, as a trait bounded by Send
[07:25:17] <aatch> photex, rust should work as a cross-compiler straight off the bat
[07:25:26] <photex> !
[07:25:29] <photex> wow cool
[07:26:07] <Jarrett> I could not fathom compiling LLVM on that lol
[07:27:12] <photex> I'm using Arch and they use distcc and crosstool-ng to build packages
[07:27:46] <photex> so maybe it wouldn't have been so bad
[07:28:00] *** Joins: rdgawdzi (rdgawdzi@moz-21D6B3DE.csclub.uwaterloo.ca)
[07:28:06] *** Joins: qxi (qxi@moz-21D6B3DE.csclub.uwaterloo.ca)
[07:29:04] *** Quits: hjr3 (hradtke@moz-699EABC0.lsanca.fios.verizon.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[07:29:31] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Ping timeout)
[07:29:56] *** Quits: koderok (Thunderbir@E874BD9A.6ED97631.50E99975.IP) (Ping timeout)
[07:30:08] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[07:30:25] *** Quits: whidgle (Mibbit@4F7252F2.CEBBE496.E48CFF63.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[07:33:02] <photex> hrm, how can I determine my target triple?
[07:33:15] *** Joins: koderok (Thunderbir@E874BD9A.6ED97631.50E99975.IP)
[07:33:33] <wolfwood> from gcc --version?
[07:34:08] <wolfwood> er ggc -v
[07:34:10] *** Joins: nlminhtl (ignotus@moz-4CB8A1D.site.volia.net)
[07:34:11] <wolfwood> ggc
[07:34:43] <bollu> photex: I've failed compiling LLVM too on arch.
[07:35:29] <photex> thanks wolfwood 
[07:35:31] <photex> armv7l-unknown-linux-gnueabihf
[07:35:38] *** Quits: pyon (user@6B56F365.A9B419CB.1C8C8CE9.IP) (Quit: ERC Version 5.3 (IRC client for Emacs))
[07:36:18] <photex> welp, can't find crate std with this target
[07:36:44] *** Joins: jroweboy (jrowe7@moz-18814A6B.provo.static.broadweavenetworks.net)
[07:36:54] *** Joins: jensnock_ (jensnocker@moz-33279404.customers.ownit.se)
[07:37:10] <aatch> bollu, https://github.com/mozilla/rust/issues/12781
[07:37:38] <photex> hrm... well, it's too late for me to keep at it right now. I'll pick it up tomorrow
[07:37:46] <photex> thanks for the help folks
[07:38:38] *** Quits: jensnock_ (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[07:41:25] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[07:43:06] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[07:44:39] <bollu> aatch: cool :)
[07:46:40] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Quit: csherratt)
[07:47:29] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[07:48:20] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Connection reset by peer)
[07:48:22] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[07:49:25] *** Joins: Diamond (dick@moz-80556682.ks.ks.cox.net)
[07:50:02] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[07:51:53] *** Quits: koderok (Thunderbir@E874BD9A.6ED97631.50E99975.IP) (Quit: koderok)
[07:52:09] *** Joins: koderok (Thunderbir@E874BD9A.6ED97631.50E99975.IP)
[07:52:09] *** Joins: fr (dymk@C94BAFB1.AA444DA9.3FBA778E.IP)
[07:52:18] <fr> Okay, so blocks do act as expressions then
[07:52:22] *** fr is now known as dymk
[07:52:45] <dymk> someone the other day had me under the impression that blocks on their weren't expressions 
[07:52:56] <dymk> e.g. `let a = { foo(); 1+2 };`
[07:53:10] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Ping timeout)
[07:54:04] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[07:54:23] <aatch> They are expression, they aren't values
[07:54:36] <aatch> Which I think was what you were on about
[07:54:47] *** Quits: koderok (Thunderbir@E874BD9A.6ED97631.50E99975.IP) (Ping timeout)
[07:55:03] <dymk> yeah, I wasn't very clear
[07:56:23] *** Joins: koderok (Thunderbir@E1E19D63.9BB2FF46.85BF2EFC.IP)
[07:56:59] *** Quits: Jarrett (chatzilla@moz-465FA06E.dhcp.rvsd.ca.charter.com) (Ping timeout)
[07:57:00] *** Joins: twi (Adium@moz-CDA0FAF2.cust.vodafonedsl.it)
[07:57:25] *** Quits: jeaye (jeaye@moz-34FEF2BB.hsd1.ca.comcast.net) (Quit: zzz)
[07:58:30] *** Quits: koderok (Thunderbir@E1E19D63.9BB2FF46.85BF2EFC.IP) (Quit: koderok)
[07:58:44] *** Joins: koderok (Thunderbir@E1E19D63.9BB2FF46.85BF2EFC.IP)
[07:59:32] *** Quits: koderok (Thunderbir@E1E19D63.9BB2FF46.85BF2EFC.IP) (Quit: koderok)
[07:59:48] *** Joins: koderok (Thunderbir@E1E19D63.9BB2FF46.85BF2EFC.IP)
[08:00:47] *** Quits: blindrenderer (blindrende@933424D6.B22400E5.217C7FCC.IP) (Ping timeout)
[08:00:47] *** Joins: limeburst (me@247D1419.D73964AC.27A8748.IP)
[08:01:08] *** Quits: koderok (Thunderbir@E1E19D63.9BB2FF46.85BF2EFC.IP) (Quit: koderok)
[08:01:22] *** Joins: koderok (Thunderbir@E1E19D63.9BB2FF46.85BF2EFC.IP)
[08:02:08] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[08:02:30] *** Quits: koderok (Thunderbir@E1E19D63.9BB2FF46.85BF2EFC.IP) (Quit: koderok)
[08:02:45] *** Joins: koderok (Thunderbir@E1E19D63.9BB2FF46.85BF2EFC.IP)
[08:03:51] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[08:06:27] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[08:06:50] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[08:08:31] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[08:09:19] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[08:09:37] *** Quits: mmellott (mmellott@moz-FCDA89D5.ph.ph.cox.net) (Ping timeout)
[08:10:59] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[08:11:22] *** Quits: urbanserj (urbanserj@3E28BD5F.398BF19F.86BD9C9E.IP) (Ping timeout)
[08:11:31] *** Quits: dymk (dymk@C94BAFB1.AA444DA9.3FBA778E.IP) (Quit: This computer has gone to sleep)
[08:12:35] *** Joins: nkoep (nik@moz-D7A0935D.pool.mediaways.net)
[08:13:51] *** Joins: mgottschlag (quassel@moz-E895F1A4.cust.bluewin.ch)
[08:15:53] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Ping timeout)
[08:17:11] *** Joins: urbanserj (urbanserj@3E28BD5F.398BF19F.86BD9C9E.IP)
[08:18:05] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[08:18:41] *** Quits: skade (skade@moz-DD117FD0.pools.arcor-ip.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[08:19:47] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[08:19:58] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[08:21:15] *** Quits: koderok (Thunderbir@E1E19D63.9BB2FF46.85BF2EFC.IP) (Quit: koderok)
[08:21:26] *** Quits: maxli (Instantbir@moz-1650391B.hsd1.ca.comcast.net) (Ping timeout)
[08:21:29] *** Joins: koderok (Thunderbir@E1E19D63.9BB2FF46.85BF2EFC.IP)
[08:22:07] *** Quits: koderok (Thunderbir@E1E19D63.9BB2FF46.85BF2EFC.IP) (Quit: koderok)
[08:22:21] *** Joins: koderok (Thunderbir@E1E19D63.9BB2FF46.85BF2EFC.IP)
[08:23:19] *** Joins: [squiddy] (squiddy@moz-767EF079.dynamic.cablesurf.de)
[08:23:37] *** Quits: Diamond (dick@moz-80556682.ks.ks.cox.net) (Quit: Leaving.)
[08:24:01] *** Quits: mgottschlag (quassel@moz-E895F1A4.cust.bluewin.ch) (Ping timeout)
[08:25:40] *** Joins: gimpf (gimpf@moz-529430CF.adsl.highway.telekom.at)
[08:26:03] *** Quits: urbanserj (urbanserj@3E28BD5F.398BF19F.86BD9C9E.IP) (Quit: Leaving)
[08:26:25] *** Joins: mmellott (mmellott@moz-FCDA89D5.ph.ph.cox.net)
[08:28:34] *** Quits: luziie (luziie@moz-CD18B14B.customer.cdi.no) (Connection reset by peer)
[08:31:42] *** Quits: janx (sid16602@moz-A42E5B7B.irccloud.com) (Ping timeout)
[08:31:42] *** Quits: jzelinskie (sid17772@moz-A42E5B7B.irccloud.com) (Ping timeout)
[08:31:42] *** Quits: tca (sid17279@moz-A42E5B7B.irccloud.com) (Ping timeout)
[08:31:42] *** Quits: balpert_ (sid15886@moz-A42E5B7B.irccloud.com) (Ping timeout)
[08:31:42] *** Quits: huhlig (sid17687@moz-A42E5B7B.irccloud.com) (Ping timeout)
[08:31:42] *** Quits: avdi (sid16245@moz-A42E5B7B.irccloud.com) (Ping timeout)
[08:31:42] *** Quits: abinader (sid21713@moz-A42E5B7B.irccloud.com) (Ping timeout)
[08:32:02] *** Quits: patrikstenmark (sid16326@moz-A42E5B7B.irccloud.com) (Ping timeout)
[08:32:02] *** Quits: jack (sid19593@moz-A42E5B7B.irccloud.com) (Ping timeout)
[08:35:02] *** Quits: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu) (Client exited)
[08:35:23] *** Joins: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu)
[08:37:21] *** Quits: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu) (Ping timeout)
[08:39:00] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[08:39:30] *** Joins: skade (skade@moz-DD117FD0.pools.arcor-ip.net)
[08:40:14] *** Joins: Ms2ger (Ms2ger@moz-D1296957.adsl-dyn.isp.belgacom.be)
[08:44:07] *** Quits: Mowah (Mowah@moz-8548F376.cust.bredbandsbolaget.se) (Ping timeout)
[08:44:11] *** Joins: Mowah (Mowah@moz-8548F376.cust.bredbandsbolaget.se)
[08:45:32] *** Joins: urbanserj (urbanserj@3E28BD5F.398BF19F.86BD9C9E.IP)
[08:45:40] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[08:47:07] *** Quits: Mowah (Mowah@moz-8548F376.cust.bredbandsbolaget.se) (Ping timeout)
[08:49:11] *** Joins: Mowah (Mowah@moz-8548F376.cust.bredbandsbolaget.se)
[08:51:21] *** Joins: blinky (Mibbit@moz-4A19983C.ip227.fastwebnet.it)
[08:54:35] *** Quits: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net) (Input/output error)
[08:57:09] *** Quits: canhtak (canhtak@moz-46C3B4C8.wl.t.ulaval.ca) (Quit: canhtak)
[08:59:17] *** Quits: koderok (Thunderbir@E1E19D63.9BB2FF46.85BF2EFC.IP) (Quit: koderok)
[08:59:33] *** Joins: koderok (Thunderbir@E1E19D63.9BB2FF46.85BF2EFC.IP)
[09:00:34] *** Joins: eddyb (eddy@F8B50789.F33C1089.FB866788.IP)
[09:01:06] *** Quits: koderok (Thunderbir@E1E19D63.9BB2FF46.85BF2EFC.IP) (Quit: koderok)
[09:01:19] *** Joins: koderok (Thunderbir@E1E19D63.9BB2FF46.85BF2EFC.IP)
[09:02:41] *** Joins: mpiechotka (mpiechotka@moz-13C25BAC.adsl.inetia.pl)
[09:03:08] *** Quits: dougxxx (dougxxx@moz-21B0BD70.dyn.iinet.net.au) (Quit: )
[09:03:15] *** Joins: adridu59 (Mibbit@moz-9BAC9171.rev.numericable.fr)
[09:03:55] <adridu59> huon: ping
[09:05:24] *** Quits: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net) (Connection reset by peer)
[09:05:24] <blinky> why is this raw pointer code not doing what I expect? http://pastebin.com/80FV4iPW
[09:05:54] <blinky> the output is (0x2 as *())
[09:06:11] <adridu59> blinky: you should dereference p
[09:06:11] *** Joins: josh (josh@moz-244364B2.cable.virginm.net)
[09:06:18] <FreeFull> blinky: If you want the address, do &x as *int
[09:06:24] <FreeFull> Rather than x itself
[09:06:28] <adridu59> blinky: also avoid using {:?}, it is a raw-printer mechanism that is expensive
[09:06:48] <FreeFull> And then, dereference p inside the println!
[09:07:03] <FreeFull> You'll need an unsafe block for the dereference, since it's a * pointer
[09:07:21] <blinky> ah, now it works
[09:07:33] <adridu59> but I don't see why you would want to do this tbh
[09:07:52] *** Quits: rileyw (rileyw@moz-E40BCEED.hsd1.ca.comcast.net) (Client exited)
[09:08:06] <eddyb> radioactive hazard symbol pls
[09:08:07] *** Quits: luz (lu.cy@moz-586CCE3D.pw) (Quit: 04←)
[09:08:12] *** Joins: luz (lu.cy@moz-CD18B14B.customer.cdi.no)
[09:08:12] *** Joins: rileyw (rileyw@moz-E40BCEED.hsd1.ca.comcast.net)
[09:08:45] <FreeFull> ☢
[09:08:57] <eddyb> unsafe pointers are for building abstractions, not for toying
[09:09:14] <adridu59> ☢
[09:10:26] *** Quits: mpiechotka (mpiechotka@moz-13C25BAC.adsl.inetia.pl) (Quit: mpiechotka)
[09:10:40] <FreeFull> * pointers are almost identical to pointers in C
[09:12:41] *** Joins: marwy (user@41303A68.5C2AEEF8.CFA44423.IP)
[09:13:37] *** Quits: nlminhtl (ignotus@moz-4CB8A1D.site.volia.net) (Quit: Konversation terminated!)
[09:15:39] *** Joins: Ferreus (ferreus@moz-B88AC371.lsn.wtnet.de)
[09:15:49] *** Quits: p1start (rewi@moz-A082F561.adsl.xtra.co.nz) (Ping timeout)
[09:16:29] <adridu59> are `as T` and `.as_T()` the same thing?
[09:16:39] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Quit: Busying myself...)
[09:17:14] <doomlord_> i can imagine projects having some checkin script that throws up alarm bells when unsafes are used
[09:17:22] *** Quits: skade (skade@moz-DD117FD0.pools.arcor-ip.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[09:17:33] <adridu59> doomlord_: servo is one of them
[09:17:42] *** Joins: skade (skade@moz-DD117FD0.pools.arcor-ip.net)
[09:18:49] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[09:19:42] *** Joins: jackneill (jackneill@moz-ACA3B008.pool.digikabel.hu)
[09:20:29] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[09:21:20] <adridu59> doomlord_: unsafe code is not bad, it just has to be used appropriately and reviewed more carefully than safe code; some optimization (i.e. ptr manipulation for Lists) can only be impl. with unsafe, which again isn't evil
[09:21:27] *** Quits: alonlevy (alon@1E965D02.56017D2D.662727B.IP) (Ping timeout)
[09:22:01] <doomlord_> sure. i like the fact its' easier to see where its used and the default is safe.
[09:22:17] <doomlord_> i really like the relegation of mutable globals as unsafe too
[09:22:31] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[09:22:39] *** jorendorff_away is now known as jorendorff
[09:23:32] *** Quits: richard|s (mindginati@moz-47C51C0D.dyn.cust.vf.net.nz) (Quit: brb)
[09:23:57] <blinky> Again I'm not sure how to take a simple raw pointer http://pastebin.com/WvyM4C8E
[09:24:04] <eddyb> https://news.ycombinator.com/item?id=7365812 almost witch hunt
[09:24:37] <adridu59> blinky: do you really need these unsafe pointers?
[09:24:54] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[09:25:37] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[09:25:40] <blinky> I would rather use unsafe pointers than Rc<RefCell<T>> or whatever one is supposed to use
[09:25:53] *** Joins: spider-mario (spidermari@moz-2F72F6FF.dsl.quantic-telecom.net)
[09:26:01] <blinky> because Rc<RefCell<T>> is a complete mess
[09:26:32] *** Quits: fournm (Aria@moz-ABB60BA0.austin.res.rr.com) (Quit: Leaving)
[09:27:50] <eddyb> blinky: huh, why?
[09:28:00] <eddyb> what's the actual use case? unsafe pointers are almost never the answer
[09:28:15] *** Joins: mpiechotka (mpiechotka@moz-13C25BAC.adsl.inetia.pl)
[09:28:44] *** Joins: FrozenCow (FrozenCow@moz-E69F48E.dynamic.upc.nl)
[09:31:12] <utkarsh> why don't the 2 commented out patterns in this gist typecheck? https://gist.github.com/78624ed659559d08c7c4
[09:31:23] <blinky> what I would need is essentially @mut 
[09:31:43] <FreeFull> rusti: unsafe { *(0 as *int) }
[09:31:48] -rusti- application terminated abnormally with signal 11 (Segmentation fault)
[09:31:49] <eddyb> blinky: care to expand on that?
[09:32:16] <eddyb> is it actually shared between many owners that have no hierarchy?
[09:32:42] <eddyb> because then I don't see how you could use *T at all
[09:32:58] <blinky> not really, but Nodes may optionally refer to neighbors
[09:33:01] <eddyb> (without forgetting about several concern points, that is)
[09:33:07] <eddyb> blinky: that's not @mut
[09:33:36] <eddyb> @mut is Rc/Gc<RefCell<T>> *at its most flexible point*
[09:33:49] <eddyb> blinky: so what kind of graph is this?
[09:34:09] <blinky> essentially a chess board
[09:34:24] <eddyb> uhm... you can represent that in many ways
[09:34:41] <eddyb> I asked "graph" so I could get a technical name that even if I don't know, I can search on wikipedia =))
[09:34:54] *** Joins: bollu_ (bollu@31CCE710.7065DDB9.6D6A344F.IP)
[09:34:57] <eddyb> if you're using *T for back references... I tried to come up with a safe wrapper for them... and it's hard
[09:35:15] <eddyb> there's several invariants you have to maintain
[09:35:25] <bollu_> eddyb: (off-topic) is toblerone okay for making s'mores?
[09:35:41] *** Quits: bollu (bollu@31CCE710.7065DDB9.6D6A344F.IP) (Ping timeout)
[09:35:44] <eddyb> bollu_: I know some of those words
[09:35:53] <eddyb> like "making" - I usually use a Makefile
[09:35:53] <bollu_> eddyb: https://en.wikipedia.org/wiki/Toblerone
[09:36:00] <bollu_> eddyb: :) okay, cooking?
[09:36:11] <bollu_> eddyb: I'll try today in the evening with a friend
[09:36:16] <eddyb> I have never seen that stuff in my life
[09:36:20] <Luqman> bollu_: if it's declicious, i say go for it :D
[09:36:29] <adridu59> eddyb: do you know if `as T` and `.as_T()` are the same thing?
[09:36:30] <eddyb> keep in mind this is Eastern Europe... can't help you, sorry
[09:36:35] <eddyb> adridu59: not really
[09:36:39] <bollu_> eddyb: yep, best chocolate I've had. the swiss sure do know how to make chocolate :P
[09:36:52] <eddyb> the first is a limited built-in cast that mainly exists for static constants
[09:37:01] <eddyb> bollu_: that is true
[09:37:27] <eddyb> the second is a method application that could do anything
[09:37:36] <Ms2ger> Pff, Belgian is better
[09:37:41] *** Joins: jensnock_ (jensnocker@moz-33279404.customers.ownit.se)
[09:37:43] <adridu59> hm
[09:38:02] <eddyb> adridu59: but it tends to do something like this https://github.com/eddyb/r3/blob/master/lib/ir.rs#L649
[09:38:07] <Luqman> Ms2ger: i miss Belgium now
[09:38:07] <bollu_> Ms2ger: never had belgian chocolate. wanna trade?
[09:38:33] <adridu59> Leonidas?
[09:38:55] <adridu59> eddyb: I see
[09:39:01] <adridu59> eddyb: thank you
[09:39:26] *** Quits: jensnock_ (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[09:39:48] *** Quits: mpiechotka (mpiechotka@moz-13C25BAC.adsl.inetia.pl) (Quit: mpiechotka)
[09:40:03] <bollu_> eddyb: you have write access to rust?
[09:40:08] *** bollu_ is now known as bollu
[09:40:41] <eddyb> bollu: no
[09:40:48] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[09:42:18] <bollu> Ms2ger, Luqman : name of some kind of belgian chocolate that I *must* try?
[09:42:29] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[09:43:05] <Ms2ger> Any ;)
[09:43:15] <mcpherrin> I don't think toblerone would make good smores.
[09:43:22] <eddyb> that's it, breakfast time
[09:43:27] <bollu> mcpherrin: hm, why not?
[09:43:27] <mcpherrin> also, I miss chocolate.  America seems to suck at it.
[09:43:53] <mcpherrin> bollu: for one, it's an awkward shape
[09:44:12] <eddyb> mcpherrin: hehe, America. fat and gross
[09:44:16] *** Quits: skade (skade@moz-DD117FD0.pools.arcor-ip.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[09:44:18] <bollu> mcpherrin: it's supposed to melt right? so I was considering halving the triangle
[09:44:34] <mcpherrin> also I dunno if the nougat/nuts or whatever in it would work out well
[09:44:35] *** Joins: skade (skade@moz-DD117FD0.pools.arcor-ip.net)
[09:45:01] <bollu> mcpherrin: hm. I was planning on using the plain white cholocate one. no nuts.
[09:45:27] <bollu> Ms2ger: cmon, give me something concrete to buy ;)
[09:46:02] <mcpherrin> I have always used "Jersey Milk" bars
[09:47:03] <bollu> mcpherrin: noope. don't get it where I live. do Cadbury's produce something similar?
[09:47:43] <mcpherrin> Cadbury dairy milk
[09:47:50] <mcpherrin> same sorta thing
[09:48:02] <meTaAU> So many undefined references to __aeabi_unwind_cpp building for thumb/Cortex-M
[09:48:12] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Connection reset by peer)
[09:48:22] <meTaAU> Using -Z no-landing-pads everywhere
[09:48:40] <bollu> mcpherrin: hm okay. will try. I have an allergy to dark chocolate so I'll have to hunt for white chocolate >_<;
[09:48:46] <bollu> mcpherrin: either way, thank you!
[09:49:12] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[09:50:30] <mcpherrin> bollu: do you know what specifically you're allergic to in the dark chocolate?
[09:51:06] *** Joins: pczarn (pczarn@moz-69A55FA.izacom.pl)
[09:51:16] <mcpherrin> It seems weird to me since most of the ingredients are the same
[09:51:25] *** Quits: mmellott (mmellott@moz-FCDA89D5.ph.ph.cox.net) (Ping timeout)
[09:51:27] <bollu> mcpherrin: I'm not entirely sure. I'm allergic to a lot of chocolatey drinks - I tend to get a throat infection. so I just avoid anything dark chocolate-y
[09:51:52] *** Joins: kris (kris@moz-A59368.dk.customer.tdc.net)
[09:51:56] <bollu> I *think* the cocoa powder. I'm not sure
[09:52:02] <mcpherrin> White chocolate omits the solids, yeah
[09:52:19] <mcpherrin> I don't know much about allergies :)
[09:52:48] <eddyb> what was it... theobromine?
[09:53:15] <eddyb> the alkaloid in cocoa that can kill dogs
[09:53:37] *** Joins: mpiechotka (mpiechotka@moz-13C25BAC.adsl.inetia.pl)
[09:54:13] <bollu> eddyb: yep, looks like it. my god, that thing has some bitchin' conjugation - a furan ring and a pyranose ring I think it's called
[09:54:30] <FreeFull> eddyb: Because their livers aren't equipped to handle it
[09:54:44] <FreeFull> I bet caffeine isn't good for dogs either
[09:54:50] <eddyb> FreeFull: think so
[09:54:55] *** Joins: bvssvni (Mibbit@moz-C4579D6F.bb.online.no)
[09:55:01] <eddyb> bollu: would you expect otherwise from an alkaloid?
[09:55:32] <eddyb> s/otherwise/any less
[09:55:33] <eddyb> https://en.wikipedia.org/wiki/Alkaloid pick your poison
[09:55:55] <bollu> eddyb: hehe, but that thing is nuttily complex. heck, *glucose* is simpler
[09:56:02] <luz> http://dec64.com/
[09:56:11] <eddyb> bollu: uhm... glucose is pretty simple
[09:56:19] <eddyb> luz: we've already dissected it
[09:56:24] *** Joins: Matthias247 (Miranda@moz-678B5E4A.hsi2.kabel-badenwuerttemberg.de)
[09:56:29] <bollu> eddyb: yeah, that was what I meant.
[09:56:32] <luz> oh
[09:56:36] <eddyb> luz: see http://www.reddit.com/r/rust/comments/1zwrx0/dec64_an_interesting_floating_point_representation/ and the linked HN post
[09:56:37] <bollu> eddyb: it's more complex than glucose :P 
[09:56:58] <bollu> eddyb: but glucose has the whole ring structure thing which makes it cool
[09:57:12] <huon> adridu59: pong
[09:58:02] <eddyb> bollu: well, yeah, all sugars have that, it's the energy storage mechanism
[09:58:14] <eddyb> charge all the bonds!
[09:59:02] <eddyb> bollu: want something interesting? what does "ATP synthase" sound like to you?
[09:59:18] <eddyb> bollu: a small enzyme, right?
[10:00:12] *** Joins: bollu_ (bollu@31CCE710.7065DDB9.6D6A344F.IP)
[10:00:19] <bollu_> eddyb: yep
[10:00:26] <bollu_> eddyb: ATP = adenosine tri phosphate right?
[10:00:31] <eddyb> wrong: molecular motor that produces ATP by physically joining ADP and Pi
[10:00:35] <bollu_> the whole energy production system of the cell
[10:00:51] <eddyb> https://en.wikipedia.org/wiki/ATP_synthase
[10:01:02] <eddyb> the images there don't do it justice
[10:01:22] <bollu_> eddyb: hmm, TIL - we didn't have that much of bio. and my god that thing is nuts
[10:01:47] <huon> the only chemistry worth talking about is the chemical interaction between Fe and O ;P
[10:02:00] <bollu_> huon: :) 
[10:02:14] * eddyb pours some aluminum powder on huon
[10:02:18] <eddyb> magnesium, anyone?
[10:02:24] * Ms2ger lights it on fire
[10:02:26] <bollu_> huon: is rust a combination of all iron oxides? I'm not sure
[10:02:39] <bollu_> *white flashed everywhere*
[10:02:41] <bollu_> flashes*
[10:02:51] <huon> "Rust consists of hydrated iron(III) oxides Fe2O3·nH2O and iron(III) oxide-hydroxide (FeO(OH), Fe(OH)3)."
[10:03:09] <Ms2ger> Looks like... yeah, what he said
[10:03:11] <bollu_> hmm, so fe2+ and fe+ aren't considered. Interesting
[10:03:21] *** Quits: gwty (gwtypc@EBDF953E.B13196B9.137C914F.IP) (Ping timeout)
[10:03:58] <eddyb> bollu_: from about 1:20 https://www.youtube.com/watch?v=3y1dO4nNaKY
[10:04:42] <bollu_> eddyb: been having problems with google services since the morning - can't access google, youtube, gmail and google news :(
[10:05:05] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[10:05:13] <bollu_> eddyb: you took bio as a minor or something?
[10:05:14] <o11c> bollu_: I didn't know iron would willingly take a +1 charge ... and even the +2 charge is only if it meets an appropriate negative
[10:05:15] *** Joins: gwty (gwtypc@D42E67D8.4CFE793B.49FF672.IP)
[10:05:21] <eddyb> bollu_: lol no
[10:05:39] <eddyb> bollu_: to put it kindly, me and school are orthogonal
[10:06:15] <bollu_> o11c: mohr's salt has iron in a +1 oxidation state
[10:06:22] <bollu_> o11c: it's not common though
[10:06:53] <eddyb> first biology class in highschool, I left an ASCII message encoded in DNA (the hardest part was recalling the ASCII value for A) on the black board
[10:07:04] <eddyb> but some jerk face erased it
[10:07:06] *** Joins: mmellott (mmellott@moz-FCDA89D5.ph.ph.cox.net)
[10:07:13] <whitequark> oooh, a chemistry-related discussion
[10:07:16] <bollu_> eddyb: lol
[10:07:37] <bollu_> eddyb: that's a little sad though that someone erased it :(
[10:07:49] <eddyb> that teacher wouldn't know ASCII though
[10:08:18] <bollu_> eddyb: still, it's cool :) 
[10:08:25] <bollu_> whitequark: you like chem?
[10:08:34] <eddyb> oi, this is worth telling. so this class was about protein synthesis. and we did a small example, starting from DNA to m-RNA
[10:08:42] <whitequark> bollu_: I really do
[10:08:54] * whitequark is a bioengineering & bioinformatics dropout
[10:09:07] *** Quits: ScalaClient (ScalaClien@moz-F958911.hsd1.ca.comcast.net) (Ping timeout)
[10:09:29] <eddyb> so I opened this up on my phone https://en.wikipedia.org/wiki/File:GeneticCode21-version-2.svg
[10:09:31] <whitequark> and working on homebrew high-quality PCB prototyping process these days
[10:09:55] <bollu_> eddyb: go ahead
[10:10:02] <eddyb> and actually translated that small sequence into aminoacids on my notebook
[10:10:14] <eddyb> so teacher comes by, tells me to stop playing on the phone
[10:10:24] <eddyb> I show her that awesome thing and she still doesn't get it
[10:10:28] <bollu_> eddyb: xD
[10:10:38] *** Quits: blinky (Mibbit@moz-4A19983C.ip227.fastwebnet.it) (Quit: http://www.mibbit.com ajax IRC Client)
[10:10:55] <eddyb> oh and then they finally get to that part... "AA1 AA2 AA3" (aminoacids 1, 2, 3) - you get the idea
[10:11:29] <bollu_> whitequark: do you like ochem? I liked it but it has a little too many exceptions for my taste
[10:11:42] <bollu_> eddyb: so then what happened?
[10:11:46] <eddyb> nothing
[10:12:05] <bvssvni> as usual
[10:12:31] <eddyb> I know, it's anticlimactic :/
[10:12:31] <bollu_> :)
[10:12:33] <whitequark> bollu_: never seen
[10:12:37] <bollu_> eddyb: yep, indeed
[10:12:37] <Ms2ger> A roundhouse kick followed by eddyb fleeing the country
[10:12:48] <whitequark> bollu_: wow, thanks, this looks quite useful
[10:13:33] <eddyb> Ms2ger: if only
[10:13:38] <bollu_> whitequark: for the reference to ochem? our lab sir told us "from now on, you can freely ask for chloroform and no one will suspect you". I found it hilarious
[10:14:07] <eddyb> yay rape jokes >_>
[10:14:10] *** Quits: kris (kris@moz-A59368.dk.customer.tdc.net) (Ping timeout)
[10:14:11] *** Joins: kris (kris@moz-147EE6DF.diku.dk)
[10:14:18] <bollu_> eddyb: :) 
[10:14:28] <eddyb> back to our scheduled rebase I go
[10:14:59] <bollu_> I've heard americans boil tea in their microwave. that true?
[10:15:19] *** Quits: mpiechotka (mpiechotka@moz-13C25BAC.adsl.inetia.pl) (Quit: mpiechotka)
[10:15:31] <Ms2ger> Water for tea? I've done that
[10:16:00] <eddyb> teapots are for GL hello worlds
[10:16:10] <bollu_> Ms2ger: why? don't you have a kettle?
[10:16:20] <bollu_> it's just absurd! 
[10:16:38] <eddyb> cattle, you mean?
[10:16:43] <eddyb> maybe in Texas
[10:16:45] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Client exited)
[10:16:52] <Ms2ger> I have a kettle, but sometimes I just want a cup for myself
[10:17:38] <bollu_> Ms2ger: you boil the water first and then put the tea leaves/powder in?
[10:17:45] <Ms2ger> Yeah
[10:18:03] * bvssvni wants a cup of tea
[10:18:13] * Ms2ger waits for gasps from the British audience
[10:18:32] <bollu_> hm, my grandma does it differently - she boils the tea leaves along with the water. 
[10:18:56] *** Quits: gwty (gwtypc@D42E67D8.4CFE793B.49FF672.IP) (Ping timeout)
[10:21:11] <bollu_> https://en.wikipedia.org/wiki/Tea <- it's interesting how most asian languages pronounce it the same.
[10:21:29] *** Quits: josh (josh@moz-244364B2.cable.virginm.net) (Quit: josh)
[10:21:51] *** Joins: doener (doener@moz-C68F600D.unity-media.net)
[10:22:50] *** Joins: soumyaC (uid15286@moz-E77DEB21.irccloud.com)
[10:25:28] * ion gets some cash money from the ATM machine to buy chai tea.
[10:26:07] <myname> bollu_: i loke how esperanto as an artificial language has a different word
[10:26:21] <huon> ion: but do you remember your PIN number?
[10:26:53] <bvssvni> https://github.com/mozilla/rust/issues/12778
[10:26:53] <myname> huon: classic PNS syndrome
[10:27:07] *** Quits: mbx (mbebenita@moz-B45FE61C.hsd1.ca.comcast.net) (Connection reset by peer)
[10:27:20] <bvssvni> what is this :Send thing?
[10:27:46] <bollu_> myname: whoa, yeah, I didn't notice that
[10:27:47] <huon> ion's bank account: RIP in peace :(
[10:27:49] <whitequark> relevant: an exhaustive list of chemicals in tea: http://www.ars-grin.gov/cgi-bin/duke/farmacy2.pl?198
[10:27:49] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[10:28:11] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[10:28:14] <ion> :-(
[10:28:21] <bollu_> myname: PNS?
[10:28:36] <myname> bollu_: PIN number syndrome
[10:28:37] <ion> There are CHEMICALS in tea‽
[10:29:08] <huon> I never ever eat chemicals
[10:29:35] <huon> bvssvni: a trait bound: it specifies that the type erased by the trait object is Send
[10:29:53] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[10:29:55] <huon> so that the compiler can still allow it to be sent between tasks, etc.
[10:30:03] <bollu_> myname: ah :) 
[10:30:19] <huon> (not a &Trait, though; but `~Trait` is implicitly `~Trait:Send` to allow it to be sent.)
[10:30:33] <bvssvni> ah
[10:30:54] *** Joins: mbx (mbebenita@moz-B45FE61C.hsd1.ca.comcast.net)
[10:30:56] <bvssvni> that's why this weird message appear in somebody's code
[10:31:27] *** Joins: balpert_ (sid15886@moz-A42E5B7B.irccloud.com)
[10:31:49] <bvssvni> it was solved by using &mut instead of ~
[10:32:33] <huon> could also be `~Trait:` to override the default bounds
[10:32:41] <bollu_> myname: they got my language kinda wrong I think. we call tea leaves "cha ele" and not "cha soppu", but whataver. I think it varies from region to region though
[10:32:46] <huon> but... if &mut works, then that's better than using ~
[10:33:01] *** Joins: q66 (q66@moz-63C42055.dab.02.net)
[10:33:49] *** Quits: kp (kp@4F7252F2.CEBBE496.E48CFF63.IP) (Quit: WeeChat 0.4.3)
[10:33:50] <bvssvni> it was here https://github.com/kylecook80/RustGameEngine/blob/master/src/main.rs#L27
[10:34:15] <huon> ah, maybe ~ would be appropriate there too
[10:34:26] *** Quits: urbanserj (urbanserj@3E28BD5F.398BF19F.86BD9C9E.IP) (Ping timeout)
[10:34:57] *** Joins: meyer (meyer@moz-A9CF56E4.hsd1.ca.comcast.net)
[10:35:06] <bollu_> huon: & and scoped lifetimes had a bug that caused my program to segfault in the morning >_<
[10:35:17] <meyer> Is it safe to rely on short-circuiting in conditions?
[10:35:53] <huon> bollu: with trait objects?
[10:35:56] *** Joins: alexherbo2 (alexherbo2@moz-A456CD9C.w83-199.abo.wanadoo.fr)
[10:36:10] <huon> meyer: yes, && and || are gauranteed to short-circuit
[10:36:15] <bollu_> huon: yep
[10:36:24] <huon> and theoretically the optimiser won't move sideeffects about
[10:36:26] <meyer> huon: Great. Thanks again!
[10:36:26] <bollu_> huon: aatch filed a bug
[10:36:49] *** Joins: avdi (sid16245@moz-A42E5B7B.irccloud.com)
[10:36:53] <huon> bollu_: ah, yes; I "triaged" it
[10:37:02] <huon> (i.e. linked it to some other similar ones.)
[10:37:04] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[10:37:27] <bollu_> huon: ah. good to know
[10:37:51] <bollu_> huon: isn't triage a hospital thing?
[10:38:03] <aatch> Goddammit. I tried to find similar bugs but couldn't find any
[10:38:04] *** Joins: patrikstenmark (sid16326@moz-A42E5B7B.irccloud.com)
[10:38:14] <huon> aatch: I knew what I was looking for :P
[10:38:22] <Ms2ger> bollu_, it's pretty commonly used for bug triage too
[10:38:25] *** Parts: meyer (meyer@moz-A9CF56E4.hsd1.ca.comcast.net) ()
[10:38:35] <huon> http://en.wikipedia.org/wiki/Bug_triage#Bug_management
[10:39:08] <huon> oh, that's doesn't mention the term "triage" other than in the URL
[10:39:24] *** Joins: urbanserj (urbanserj@3E28BD5F.398BF19F.86BD9C9E.IP)
[10:39:24] <bollu_> huon: english is weird >_<
[10:39:32] <bollu_> anyway, thanks. I didn't know that
[10:40:01] <huon> well, they're pretty similar concepts: new patients, work out how to handle them; new bugs, work out how to handle them.
[10:40:15] *** Joins: io2 (io2@moz-EE406A5.home.otenet.gr)
[10:40:18] <huon> (although... you rarely close patients as duplicates.)
[10:41:07] *** Quits: urbanserj (urbanserj@3E28BD5F.398BF19F.86BD9C9E.IP) (Ping timeout)
[10:41:39] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[10:42:09] <bollu_> huon: I meant in general :) 
[10:42:29] *** Joins: janx (sid16602@moz-A42E5B7B.irccloud.com)
[10:43:19] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[10:43:45] <bollu_> like, english is so weird to pronounce. and it's a mish mash of so much stuff that it gets a little crazy sometimes
[10:45:30] <huon> heh, very true
[10:46:51] *** Joins: kp (kp@4F7252F2.CEBBE496.E48CFF63.IP)
[10:48:19] <adridu59> huon: I have looked at implementing <ol> for line numbering
[10:48:55] *** Joins: urbanserj (urbanserj@3E28BD5F.398BF19F.86BD9C9E.IP)
[10:49:26] <adridu59> huon: however that implies implementing line-by-line parsing from the lexer (i.e. making it parse multiline strings partially)
[10:50:04] <adridu59> otherwise I'm not sure if it gives better performance or not
[10:50:04] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Connection reset by peer)
[10:50:13] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[10:50:27] *** Quits: mixi (mixi@moz-DBD8904A.org) (Input/output error)
[10:52:05] *** Quits: urbanserj (urbanserj@3E28BD5F.398BF19F.86BD9C9E.IP) (Ping timeout)
[10:52:14] *** Joins: leowoe (Leo@moz-3A9760B.dip0.t-ipconnect.de)
[10:53:09] *** Joins: tca (sid17279@moz-A42E5B7B.irccloud.com)
[10:58:30] *** Joins: marianoguerra (marianogue@moz-4C404294.dip0.t-ipconnect.de)
[10:59:37] *** Joins: urbanserj (urbanserj@3E28BD5F.398BF19F.86BD9C9E.IP)
[10:59:47] *** Joins: huhlig (sid17687@moz-A42E5B7B.irccloud.com)
[11:00:46] *** Quits: mbx (mbebenita@moz-B45FE61C.hsd1.ca.comcast.net) (Quit: mbx)
[11:01:10] *** Joins: jzelinskie (sid17772@moz-A42E5B7B.irccloud.com)
[11:03:18] *** Joins: tgkokk (tgkokk@moz-313711E.home.otenet.gr)
[11:05:48] *** Quits: kvanb (kvanb@moz-2393B229.lnse5.lon.bigpond.net.au) (Quit: kvanb)
[11:06:09] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Input/output error)
[11:09:49] *** Joins: mixi (mixi@moz-DBD8904A.org)
[11:10:00] *** Joins: nical (nico@moz-4754F405.fbx.proxad.net)
[11:11:25] *** Joins: kendle (Mibbit@moz-3ED6BB90.dip0.t-ipconnect.de)
[11:12:17] *** Joins: kvanb (kvanb@moz-2393B229.lnse5.lon.bigpond.net.au)
[11:12:50] *** Quits: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net) (Input/output error)
[11:12:57] *** Quits: kendle (Mibbit@moz-3ED6BB90.dip0.t-ipconnect.de) (Quit: http://www.mibbit.com ajax IRC Client)
[11:13:18] *** Joins: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net)
[11:15:00] *** Quits: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net) (Ping timeout)
[11:17:22] *** Quits: tgkokk (tgkokk@moz-313711E.home.otenet.gr) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[11:18:05] *** Joins: jack (sid19593@moz-A42E5B7B.irccloud.com)
[11:18:05] *** ChanServ sets mode: +o jack
[11:18:18] *** Quits: skade (skade@moz-DD117FD0.pools.arcor-ip.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[11:18:48] *** Joins: mno2 (mno2@moz-3506EAC7.singnet.com.sg)
[11:20:01] *** Joins: alonlevy (alon@BF61EE9.A13AE0F4.C93B3C04.IP)
[11:26:50] *** Quits: alonlevy (alon@BF61EE9.A13AE0F4.C93B3C04.IP) (Connection reset by peer)
[11:27:05] *** Joins: lpapp (lpapp@moz-CC1BEF5E.cable.virginm.net)
[11:27:07] <lpapp> Hi!
[11:28:18] *** Quits: mixi (mixi@moz-DBD8904A.org) (Quit: WeeChat 0.4.4-dev)
[11:28:29] *** Joins: mixi (mixi@moz-DBD8904A.org)
[11:28:42] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[11:30:25] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[11:32:02] <kimundi> ho
[11:32:46] <huon> adridu59: ah, I see: I'd guess there's not a huge performance difference... but I've never measured it, so I don't know
[11:32:51] *** Joins: jlong (jlong@moz-6DFDE846.socal.res.rr.com)
[11:33:08] <adridu59> huon: ye
[11:33:40] *** Joins: abinader (sid21713@moz-A42E5B7B.irccloud.com)
[11:35:57] *** Quits: marianoguerra (marianogue@moz-4C404294.dip0.t-ipconnect.de) (Ping timeout)
[11:36:11] *** Quits: JanC_ (janc@moz-36A807F5.dsl.scarlet.be) (Ping timeout)
[11:38:20] *** Joins: arturo (Thunderbir@moz-E83B14F0.superkabel.de)
[11:38:29] *** Joins: jensnock_ (jensnocker@moz-33279404.customers.ownit.se)
[11:40:14] *** Quits: jensnock_ (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[11:42:07] *** Joins: luziie (luziie@moz-CD18B14B.customer.cdi.no)
[11:42:12] *** Quits: luz (lu.cy@moz-CD18B14B.customer.cdi.no) (Ping timeout)
[11:42:22] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[11:42:29] *** Joins: mye (mye@moz-FC60257D.dip0.t-ipconnect.de)
[11:43:31] *** Quits: jlong (jlong@moz-6DFDE846.socal.res.rr.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[11:44:02] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[11:44:17] <pczarn> with master, I get an error: immutable static items must be `Freeze`
[11:44:38] <lpapp> I have this quick rust experiment: curlpaste main2.rs
[11:44:39] <lpapp> http://codepad.org/3nKkNAAT
[11:45:43] <FreeFull> lpapp: What is its purpose?
[11:45:46] <lpapp> my question is if it is possible to use expressions for the match block
[11:45:49] *** Quits: rileyw (rileyw@moz-E40BCEED.hsd1.ca.comcast.net) (Connection reset by peer)
[11:45:51] *** Joins: marianoguerra (marianogue@moz-4C404294.dip0.t-ipconnect.de)
[11:45:56] <lpapp> like I can do that for the if/else block.
[11:45:59] *** Joins: rileyw (rileyw@moz-E40BCEED.hsd1.ca.comcast.net)
[11:46:01] *** Quits: tanayseven (tanay@96AD789A.8FC53CD9.5A7A4C68.IP) (Ping timeout)
[11:46:17] <FreeFull> lpapp: I'm pretty sure the answer is yes
[11:46:25] <lpapp> I would like to get close to this math style: http://paste.kde.org/p7rwyiyhv
[11:46:46] <pczarn> yes
[11:47:52] *** Joins: tanayseven (tanay@F404DA42.BF7A48FA.5A7A4C68.IP)
[11:48:46] *** Quits: bollu (bollu@31CCE710.7065DDB9.6D6A344F.IP) (Quit: Lost terminal)
[11:48:55] *** bollu_ is now known as bollu
[11:49:00] <lpapp> http://paste.kde.org/pqbr6w3hj -> I would like to be able to write something like that.
[11:49:11] <lpapp> it is not correct code, but I think you get my idea?
[11:49:41] <FreeFull> lpapp: Yeah
[11:49:44] <FreeFull> The return is unnecessary
[11:50:34] <FreeFull> Let me write a demonstration
[11:50:37] <lpapp> I would like to return the result of the computation in a function, not necessarily the main, so just trying to demonstrate my idea with my first rust code.
[11:50:45] <huon> lpapp: why is tat second one not correct code?
[11:50:52] *** Joins: JanC_ (janc@moz-36A807F5.dsl.scarlet.be)
[11:50:58] <huon> looks fine to me
[11:51:15] <pczarn> lpapp: in the first experiment, for multiplier=2.2, match will assign multiplier*2.0 = 4.4 to result, is that what you want?
[11:51:21] <lpapp> huon: missing declarations for one.
[11:51:36] <huon> rusti: 1.0 * match 2.0 { 0.0..1.0 => 5.0, 1.0..1.5 => 10.0, _ => 20.0 }
[11:51:37] -rusti- 20f64
[11:51:45] <huon> rusti: 1.0 * match 1.0 { 0.0..1.0 => 5.0, 1.0..1.5 => 10.0, _ => 20.0 }
[11:51:46] -rusti- 5f64
[11:52:23] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[11:52:23] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Quit: TheHydroImpulse)
[11:52:59] <lpapp> huon: main2.rs:6:12: 13:6 error: mismatched types: expected `()` but found `f32` (expected () but found f32)
[11:53:13] <lpapp> cutepaste main2.rs
[11:53:13] <lpapp> http://pastebin.kde.org/pxh5cy3xe
[11:53:24] <lpapp> gosh
[11:53:37] <lpapp> cutepaste main2.rs
[11:53:37] <lpapp> http://pastebin.kde.org/ptyh8nsbv
[11:53:58] <lpapp> pczarn: see my updated code.
[11:54:22] <lpapp> oh, I probably need { ... } to be expression?
[11:54:23] *** Quits: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP) (Connection reset by peer)
[11:54:37] <lpapp> and ';' after the match?
[11:55:00] <pczarn> fn main() -> ()
[11:55:01] *** Quits: doomlord_ (servitor@moz-99BE89EC.range86-184.btcentralplus.com) (Quit: Leaving)
[11:55:36] <pczarn> you are trying to return something from "void main"
[11:56:25] <lpapp> cutepaste main2.rs
[11:56:26] <lpapp> http://pastebin.kde.org/pwqpkoo87
[11:56:28] <lpapp> this compiles.
[11:56:32] <FreeFull> If you put it in a function that returns f64, it will work fine
[11:56:33] <lpapp> let me print the return value. :-)
[11:56:40] <FreeFull> Yeah
[11:56:43] *** Quits: jix (jix@moz-D969BFFC.de) (Client exited)
[11:56:45] *** Joins: ventos (ventos@moz-3ED6BB90.dip0.t-ipconnect.de)
[11:56:48] <lpapp> yeah, f64 is safer than f32, true.
[11:56:53] <lpapp> pczarn: yeah
[11:57:13] <lpapp> is it possible to avoid 0.0..1.5 though?
[11:57:15] <FreeFull> Using f32 is perfectly fine too, if it does what you need
[11:57:17] <lpapp> < 1.5 will not work off-hand.
[11:57:19] <pczarn> println!("{}", foo())
[11:57:24] <lpapp> pczarn: yep
[11:57:26] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[11:58:07] <huon> lpapp: https://gist.github.com/huonw/f960b5ed0d292be01fa1
[11:58:10] <pczarn> lpapp: perhaps, x if x < 1.5 => ...
[11:58:14] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Quit: Leaving...)
[11:58:31] <huon> or just `_ if ratio < 1.5`
[11:58:41] <huon> no need to rebind (although there's no performance difference)
[11:58:51] *** Joins: jix (jix@moz-D969BFFC.de)
[11:59:13] <FreeFull> I like Haskell's guard syntax for that sort of stuff
[11:59:31] <huon> yeah, `|` flows better than repeating `_ if` a lot
[12:00:24] *** Quits: sockmister (Mibbit@moz-AA65C711.lns20.adl2.internode.on.net) (Quit: http://www.mibbit.com ajax IRC Client)
[12:01:07] <FreeFull> You could probably implement a macro for it
[12:01:45] <lpapp> thanks guys!
[12:02:15] <huon> FreeFull: probably
[12:02:52] *** Joins: skade (skade@moz-DD117FD0.pools.arcor-ip.net)
[12:03:06] <pczarn> FreeFull: highly probably a procedural macro
[12:03:54] *** Quits: ventos (ventos@moz-3ED6BB90.dip0.t-ipconnect.de) (Quit: WeeChat 0.4.3)
[12:04:03] *** Quits: dranov (dranov@4A35FFE3.3B6BC09B.A5830293.IP) (Ping timeout)
[12:04:16] <huon> pretty sure a macro_rules macro would work fine
[12:04:38] *** Joins: dranov (dranov@4A35FFE3.3B6BC09B.A5830293.IP)
[12:04:55] <FreeFull> guard!(x < 3,10,x < 5,15)
[12:05:20] <FreeFull> You'd probably have otherwise be a synonym for True
[12:05:48] <FreeFull> And you could use newlines for nicer formatting
[12:06:06] <FreeFull> The only reason it has to be a macro is that it's variadic
[12:06:49] <FreeFull> Otherwise, you could implement it as a function that takes two vectors
[12:09:07] <huon> there was a macro of this form in the stdlib a while ago
[12:09:11] <huon> got removed
[12:10:27] *** Quits: lpapp (lpapp@moz-CC1BEF5E.cable.virginm.net) (Ping timeout)
[12:11:31] *** Quits: victorporof (victorporo@moz-FFB76956.cpe.net.cable.rogers.com) (Quit: victorporof)
[12:11:34] *** Joins: doomlord_ (servitor@moz-99BE89EC.range86-184.btcentralplus.com)
[12:11:44] *** Quits: doomlord_ (servitor@moz-99BE89EC.range86-184.btcentralplus.com) (Connection reset by peer)
[12:11:45] *** Joins: doomlord__ (servitor@moz-99BE89EC.range86-184.btcentralplus.com)
[12:12:16] *** Quits: skade (skade@moz-DD117FD0.pools.arcor-ip.net) (Ping timeout)
[12:12:32] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Connection reset by peer)
[12:12:53] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[12:14:04] <pczarn> match!(x { | x < 3 => 10, | x < 5 => 15, _ => x })
[12:15:59] *** Joins: kngl (Adium@40AE2BF6.ABCDAFD6.7C797F8E.IP)
[12:17:17] *** Quits: kris (kris@moz-147EE6DF.diku.dk) (Ping timeout)
[12:17:18] *** Joins: kris (kris@moz-147EE6DF.diku.dk)
[12:19:00] *** Quits: nical (nico@moz-4754F405.fbx.proxad.net) (Ping timeout)
[12:19:04] *** Joins: skade (skade@moz-1EC0F118.pools.arcor-ip.net)
[12:22:10] *** Quits: [squiddy] (squiddy@moz-767EF079.dynamic.cablesurf.de) (Input/output error)
[12:22:15] <Ms2ger> task 'rustc' failed at 'RefCell<T> already borrowed'
[12:22:17] <Ms2ger> Woop
[12:23:29] *** Joins: [squiddy] (squiddy@moz-767EF079.dynamic.cablesurf.de)
[12:23:56] <eddyb> Ms2ger: which pass?
[12:24:04] *** Joins: Earnestly (earnest@72898B6.37CE9E9E.FB6F0902.IP)
[12:24:32] <Ms2ger> No idea
[12:24:37] <eddyb> -Z time-passes
[12:27:19] <Ms2ger> language item collection?
[12:27:39] <eddyb> Ms2ger: does that show up before or after the failure?
[12:27:55] <eddyb> if before, then it's actually happening in resolution, which is kinda big
[12:28:34] <Ms2ger> bt says resolve_glob_import
[12:28:47] *** Quits: skade (skade@moz-1EC0F118.pools.arcor-ip.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[12:28:49] <eddyb> haha glob strikes again
[12:29:20] *** Quits: Matthias247 (Miranda@moz-678B5E4A.hsi2.kabel-badenwuerttemberg.de) (Connection reset by peer)
[12:29:24] <Ms2ger> Oh
[12:29:25] <eddyb> Ms2ger: any chance of a minimal testcase for this?
[12:29:26] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[12:29:37] <Ms2ger> Lemme try something
[12:30:12] <eddyb> looks like if containing_module == module_ => boom
[12:30:35] <eddyb> "Note that this function cannot fail" sure about that?
[12:30:44] <Ms2ger> Putting use dom::bindings::codegen::UnionTypes::*; in UnionTypes might be a bad idea?
[12:30:57] <eddyb> Ms2ger: that's exactly what can trigger it
[12:31:08] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[12:31:21] <eddyb> search for an issue or open a new one etc. etc.
[12:31:33] <eddyb> rustilite: #[feature(glob)]; use self::*; fn main(){}
[12:32:01] <eddyb> rustilite: #[feature(glob)]; mod foo {use foo::*;} fn main(){println!("hi")}
[12:32:23] <Ms2ger> rustilite: be nice to eddyb 
[12:32:38] <eddyb> well, you get the idea, brb lunch
[12:32:56] *** Quits: rustilite (rustilite@moz-61B073BC.cpe.net.cable.rogers.com) (Ping timeout)
[12:33:53] *** Quits: oxum (anonymous@2EA69919.88326D41.520CDC98.IP) (Quit: Bye..)
[12:34:11] *** Joins: rustilite (rustilite@moz-61B073BC.cpe.net.cable.rogers.com)
[12:34:15] *** Joins: oxum (anonymous@2EA69919.88326D41.520CDC98.IP)
[12:36:38] <huon> rustilite: #[feature(glob)]; use self::*; fn main(){}
[12:36:42] -rustilite- pastebinned 8 lines of output: http://ix.io/b0u
[12:37:03] <eddyb> rustilite: #[feature(globs)]; use self::*; fn main(){}
[12:37:07] -rustilite- pastebinned 7 lines of output: http://ix.io/b0v
[12:37:14] <eddyb> yeah, there
[12:37:36] * huon gets annoyed by the trailing newline being printed
[12:38:38] *** Joins: fabiand (fabiand@moz-C1C20959.hsd1.ma.comcast.net)
[12:38:49] *** Quits: bollu (bollu@31CCE710.7065DDB9.6D6A344F.IP) (Quit: Lost terminal)
[12:38:49] <eddyb> huon: the problem is printing Result instead of its contents
[12:39:18] <eddyb> someone (acrichto?) gave me the precise line, but nobody fixed it yet
[12:41:41] *** Quits: kngl (Adium@40AE2BF6.ABCDAFD6.7C797F8E.IP) (Quit: Leaving.)
[12:42:23] *** Joins: thiagopnts (thiago@BA7F842.3EA4B0F8.5670445F.IP)
[12:43:03] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[12:43:10] *** Joins: skade (skade@moz-1EC0F118.pools.arcor-ip.net)
[12:43:41] *** Parts: thiagopnts (thiago@BA7F842.3EA4B0F8.5670445F.IP) (WeeChat 0.3.7)
[12:44:27] *** Joins: thiagopnts (thiago@BA7F842.3EA4B0F8.5670445F.IP)
[12:44:43] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[12:45:30] *** Joins: jaras (textual@1CDC5701.A48867D7.52E4E107.IP)
[12:46:00] *** Quits: spider-mario (spidermari@moz-2F72F6FF.dsl.quantic-telecom.net) (Ping timeout)
[12:47:50] *** Joins: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP)
[12:49:34] *** jorendorff is now known as jorendorff_away
[12:54:08] *** Quits: tanayseven (tanay@F404DA42.BF7A48FA.5A7A4C68.IP) (Ping timeout)
[12:57:54] <Ms2ger> Can I use Self::foo() to call a static method?
[12:58:16] <kvanb> I recall the tutorial saying something like that
[12:58:36] * Ms2ger tries
[12:59:11] *** Joins: spider-mario (spidermari@moz-2F72F6FF.dsl.quantic-telecom.net)
[13:00:29] <eddyb> Ms2ger: a trait method? pretty sure it won't work
[13:00:39] <Ms2ger> No, plain static
[13:02:52] *** Quits: marianoguerra (marianogue@moz-4C404294.dip0.t-ipconnect.de) (Ping timeout)
[13:03:18] *** Quits: kvanb (kvanb@moz-2393B229.lnse5.lon.bigpond.net.au) (Ping timeout)
[13:05:17] *** Joins: tanayseven (tanay@F404DA42.BF7A48FA.5A7A4C68.IP)
[13:09:52] *** Joins: tgkokk (tgkokk@moz-313711E.home.otenet.gr)
[13:12:33] *** Joins: kngl (Adium@40AE2BF6.ABCDAFD6.7C797F8E.IP)
[13:13:03] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Input/output error)
[13:13:20] *** Joins: mpiechotka (mpiechotka@moz-13C25BAC.adsl.inetia.pl)
[13:13:21] *** Joins: asmyers (quassel@moz-71754EDC.hsd1.md.comcast.net)
[13:15:27] <adridu59> does Travis build the docs?
[13:17:32] *** Quits: asmyers (quassel@moz-71754EDC.hsd1.md.comcast.net) (Ping timeout)
[13:17:56] *** Quits: arturo (Thunderbir@moz-E83B14F0.superkabel.de) (Ping timeout)
[13:18:05] <eddyb> adridu59: for Rust?
[13:18:39] *** Quits: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net) (Quit: killerswan)
[13:18:50] <adridu59> eddyb; yes I mean does it `make docs`?
[13:19:00] <eddyb> ohh
[13:19:04] *** Joins: Florob (Florob@moz-39532932.de)
[13:19:06] <eddyb> adridu59: check .travis.yml
[13:20:23] <adridu59> oh it doesn't
[13:20:32] <adridu59> I was expecting it
[13:23:17] *** Quits: skade (skade@moz-1EC0F118.pools.arcor-ip.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[13:24:07] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[13:24:29] *** Joins: valentin (Thunderbir@93B42FB0.FDA6D3F2.FAF22AF7.IP)
[13:24:30] *** Quits: valentin (Thunderbir@93B42FB0.FDA6D3F2.FAF22AF7.IP) (Input/output error)
[13:26:03] *** Joins: valentin (Thunderbir@93B42FB0.FDA6D3F2.FAF22AF7.IP)
[13:26:29] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[13:26:32] *** Joins: edwardw (edwardw@24D7341C.32602B75.B9C6B12A.IP)
[13:26:45] *** Joins: arturo (Thunderbir@moz-E83B14F0.superkabel.de)
[13:27:16] <whitequark> oooh, conditions have finally been removed
[13:27:24] <whitequark> and now std::io doesn't depend on TLS \o/
[13:28:28] *** Joins: sankha93 (sankha93@7061CD01.D6BD0D91.22D41759.IP)
[13:28:29] *** Quits: kngl (Adium@40AE2BF6.ABCDAFD6.7C797F8E.IP) (Quit: Leaving.)
[13:28:45] <eddyb> whitequark: still does, actually
[13:28:55] * whitequark is very happy with the way rust advanced since start of Jan
[13:29:03] <eddyb> the constructors are on Task which is in TLS
[13:29:10] <whitequark> my microcontroller libstd port is finally starting to be useful
[13:29:12] <whitequark> hm.
[13:29:34] <whitequark> eddyb: no, I was more referring to the fact that you couldn't even use io::MemWriter without pulling in conditions
[13:29:40] <whitequark> because they're in signatures and so on
[13:29:41] <eddyb> ahh
[13:29:50] <eddyb> microcontroller?
[13:29:55] <eddyb> how are you handling LLVM?
[13:30:23] <whitequark> well, the general idea is that libstd is too dependent on OS features to be usable on bare-metal. then there are two approaches to fixing that
[13:30:32] <whitequark> one is an entire libstd rewrite, strcat does that with rust-core
[13:30:53] <whitequark> mine is more conservative: rip off all OS-dependent things off libstd and add replacements where required
[13:31:01] <whitequark> LLVM? what's the problem with it?
[13:31:13] *** Joins: rootnode (rootnode@moz-61DC579A.pools.arcor-ip.net)
[13:32:39] <eddyb> whitequark: it doesn't support any uC architecture
[13:32:55] <eddyb> other than 16bit x86 and that's still incomplete
[13:32:55] <whitequark> ARM?
[13:33:20] <eddyb> oh, baremetal embedded ARM, that makes sense
[13:33:23] <whitequark> Cortexen-M0 and -M3 are all the rage today :)
[13:33:42] <eddyb> you can totally do TLS on baremetal btw
[13:33:47] *** Joins: gwty (gwtypc@E863A5CB.A37514C7.8A00C703.IP)
[13:33:56] <eddyb> so you can implement the entire Task interface and the IO constructors
[13:34:17] <whitequark> btw, LLVM supports MSP430, which is an exclusively µC arch
[13:34:28] *** jorendorff_away is now known as jorendorff
[13:34:45] <eddyb> riiight forgot about that one. it also does some GPUs
[13:35:05] <whitequark> eddyb: (tls) I'm well aware. but the way Rust implements TLS slots (linear search over linked list) makes me very unhappy
[13:35:10] <eddyb> whitequark: you just need a fork of libnative that works in your baremetal setup (if you have a network stack, for example) and it will work
[13:35:15] <eddyb> that's TLD not TLS :P
[13:35:22] <whitequark> TLD?
[13:35:26] <eddyb> Task lives in TLS not TLD
[13:35:30] <eddyb> task-local data
[13:35:37] <whitequark> task, yes, conditions used tld
[13:35:53] *** Joins: skade (skade@moz-1EC0F118.pools.arcor-ip.net)
[13:36:00] <eddyb> could use a cheap HashMap
[13:36:59] <whitequark> mhm, no, I don't want IO pathways to include hashmaps lookups after each operations
[13:37:14] <eddyb> conditions are dead so that's irrelevant
[13:37:18] <whitequark> *nod*
[13:37:21] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[13:37:26] <whitequark> talking about libnative, it's not as simple
[13:37:41] <eddyb> a cheap HashMap would end up being... well... cheap
[13:37:59] *** jorendorff is now known as jorendorff_away
[13:38:16] <whitequark> for example it implies that all tasks want their own stdio streams, RNG and logger
[13:38:16] <eddyb> as long as the keys are "constant enough", the hashes will be constant, so it's just a bitwise and + potential linear search
[13:38:29] <whitequark> which on baremetal targets is silly waste of space
[13:38:35] <whitequark> stacks are bad enough
[13:38:56] <eddyb> you can share those things as long as they're thread safe
[13:39:13] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[13:39:32] <whitequark> sure. what I mean is that it requires some fiddling with libstd sources anyway
[13:39:48] *** Quits: aquassaut (aquassaut@moz-6107CA64.net-81-220-251.rev.numericable.fr) (Ping timeout)
[13:40:08] <eddyb> whitequark: hopefully only a clone of libnative
[13:40:40] <eddyb> that reminds me I should test a runtime-less hello world
[13:40:46] <whitequark> there's also unwinder... :/
[13:40:59] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[13:42:37] *** Quits: koderok (Thunderbir@E1E19D63.9BB2FF46.85BF2EFC.IP) (Ping timeout)
[13:42:42] <whitequark> eddyb: no, clone of libnative is not enough. for example, take a look at the way TLS is bound to rust code
[13:43:20] <whitequark> localptr::compiled uses an interface provided by LLVM, which eventually delegates to OS-provided dynamic linker and loader
[13:43:30] <whitequark> I don't think it is even possible to use that without MMU
[13:43:30] <eddyb> yupp, is that not enough?
[13:43:44] <eddyb> whitequark: isn't it a register?
[13:43:54] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[13:43:59] <eddyb> or does ARM do TLS at a fixed memory address?
[13:44:09] *** Joins: wirespeed (wirespeed@moz-6B368AB3.rev.sfr.net)
[13:44:18] *** Quits: [squiddy] (squiddy@moz-767EF079.dynamic.cablesurf.de) (Input/output error)
[13:44:23] <whitequark> iirc, in ARM mode it's a coprocessor register, but in thumb (which is what cortexes support), it's at a fixed memory address
[13:44:31] <whitequark> 0xFFFFwhatever, which isn't and cannot be maped
[13:44:33] <whitequark> *mapped
[13:44:49] <eddyb> pffft
[13:44:53] <whitequark> I may be wrong in specific details but I looked at it closely a few months ago and determined that it was unfeasible
[13:45:07] <whitequark> *please* don't tell me to install a fault handler :p
[13:45:19] <eddyb> just... make it configurable in LLVM or something
[13:45:25] <whitequark> hahahaha
[13:45:34] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[13:45:41] <whitequark> I've looked into it, LLVM basically hardcodes assembly in the most horrible possible way
[13:45:52] <whitequark> a switch based on target triple
[13:46:03] <whitequark> same problem as with split stacks
[13:46:11] <whitequark> (and for same reason, the latter stores limit in TLS)
[13:46:52] <whitequark> I would really like to make it configurable but I've nfc how to do it 'properly', and from what I understand, Rust doesn't really accept complex LLVM patches which have no chance of being upstreamed
[13:47:25] <Ms2ger> That sounds like a reasonable policy :)
[13:48:26] *** Quits: adridu59 (Mibbit@moz-9BAC9171.rev.numericable.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[13:50:00] <whitequark> hm, I have an idea
[13:50:08] <whitequark> I'll outline it to rust-dev...
[13:50:27] *** Joins: kaeluka (kaeluka@moz-CBEF7664.cust.tele2.se)
[13:50:46] *** Joins: engla (engla@moz-F64E1B0F.cust.bredbandsbolaget.se)
[13:54:19] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[13:56:44] *** Quits: Amaranth (travis@moz-F81BB56A.cpe.cableone.net) (Ping timeout)
[13:57:37] *** Joins: jviereck (Adium@moz-E1530391.dclient.hispeed.ch)
[13:59:38] *** Quits: skade (skade@moz-1EC0F118.pools.arcor-ip.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[13:59:53] *** Quits: wirespeed (wirespeed@moz-6B368AB3.rev.sfr.net) (Quit: Leaving.)
[14:00:57] *** Joins: koderok (Thunderbir@9EEA67B1.FEE11226.8D9DA8D9.IP)
[14:02:11] *** Quits: Axord (xord@moz-C0D5F15A.lsanca.dsl-w.verizon.net) (Ping timeout)
[14:02:59] *** Quits: valentin (Thunderbir@93B42FB0.FDA6D3F2.FAF22AF7.IP) (Ping timeout)
[14:04:35] *** Joins: Axord (xord@moz-C0D5F15A.lsanca.dsl-w.verizon.net)
[14:04:41] *** Joins: Sorella (queen@9D963F5D.DF5D8AE7.54BCAB54.IP)
[14:06:34] *** Joins: barosl (barosl@AF5A7446.7BDB669F.8F036087.IP)
[14:07:31] *** Joins: eibwen (kvirc@moz-163297C8.dip0.t-ipconnect.de)
[14:07:46] *** Joins: RustProof (Mibbit@moz-5A1D68AD.w92-163.abo.wanadoo.fr)
[14:08:24] *** Joins: skade (skade@moz-1EC0F118.pools.arcor-ip.net)
[14:10:08] <RustProof> Hey, lets say that I have a fn get_next() -> uint {...}, should I make a static mut variable to represent a counter ?
[14:10:30] *** Quits: fabiand (fabiand@moz-C1C20959.hsd1.ma.comcast.net) (Quit: Verlassend)
[14:10:59] *** Joins: canhtak (canhtak@moz-46C3B4C8.wl.t.ulaval.ca)
[14:11:30] <eddyb> RustProof: no
[14:11:41] <eddyb> local context is much better than global context
[14:11:52] <RustProof> so how can I do it ?
[14:12:15] <RustProof> I meant to place the static variable inside the function
[14:12:30] <eddyb> you shouldn't do that :P
[14:12:37] <RustProof> so how ? x)
[14:13:07] <eddyb> fn get_next(&mut self) -> uint {self.next += 1; self.next} is one safe way to implement that
[14:13:10] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[14:13:14] <bvssvni> RustProof: change the function to fn get_next(&mut state) -> uint {...}
[14:13:19] <eddyb> (but keep in mind I have no context about what you're doing)
[14:13:28] *** Quits: gwty (gwtypc@E863A5CB.A37514C7.8A00C703.IP) (Ping timeout)
[14:15:20] <bvssvni> if you write like eddyb suggests then it will appear as 'state.get_next()' in the code
[14:15:23] *** Quits: barosl (barosl@AF5A7446.7BDB669F.8F036087.IP) (Ping timeout)
[14:16:14] *** Quits: mpiechotka (mpiechotka@moz-13C25BAC.adsl.inetia.pl) (Quit: mpiechotka)
[14:16:50] <edwardw> rusti: struct Counter { inner: uint }; impl Counter { fn get_next(&mut self) -> uint { self.inner += 1; self.inner } }; let mut c = Counter { inner: 0}; c.get_next(); c.get_next()
[14:16:51] -rusti- 2u
[14:16:54] <RustProof> and state is local of course
[14:17:26] *** Quits: tanayseven (tanay@F404DA42.BF7A48FA.5A7A4C68.IP) (Ping timeout)
[14:18:17] <RustProof> Ok my function is more complex but it should be nice, thanks
[14:18:42] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[14:19:14] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[14:19:33] *** jorendorff_away is now known as jorendorff
[14:21:20] *** Joins: kngl (Adium@750F45B6.10645CA4.9D2324B7.IP)
[14:22:11] *** Joins: Amaranth (travis@moz-F81BB56A.cpe.cableone.net)
[14:23:31] *** Joins: steffenomak (steffenoma@moz-FB0A4BEB.student.uu.se)
[14:24:05] *** Quits: arturo (Thunderbir@moz-E83B14F0.superkabel.de) (Ping timeout)
[14:25:03] *** Quits: RustProof (Mibbit@moz-5A1D68AD.w92-163.abo.wanadoo.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[14:29:45] *** Quits: skade (skade@moz-1EC0F118.pools.arcor-ip.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[14:29:46] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[14:32:24] *** Joins: arturo (Thunderbir@moz-E83B14F0.superkabel.de)
[14:32:56] *** Joins: tanayseven (tanay@F404DA42.BF7A48FA.5A7A4C68.IP)
[14:34:04] *** Quits: arturo (Thunderbir@moz-E83B14F0.superkabel.de) (Ping timeout)
[14:39:08] *** jorendorff is now known as jorendorff_away
[14:39:16] *** Quits: drbawb (drbawb@moz-444F91EA.wi.res.rr.com) (Quit: WeeChat 0.4.3)
[14:41:47] *** Joins: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net)
[14:44:36] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[14:44:45] *** Quits: alexherbo2 (alexherbo2@moz-A456CD9C.w83-199.abo.wanadoo.fr) (Quit: WeeChat 0.4.3-dev)
[14:46:16] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[14:47:17] <utkarsh> can we get the value of fail! from a task executed in std::task::try?
[14:47:48] *** Joins: skade (skade@moz-1EC0F118.pools.arcor-ip.net)
[14:47:54] <eddyb> yeah, it's an ~Any
[14:48:45] *** Quits: lpy (lpy@7360AA58.F09091A8.1348A864.IP) (Ping timeout)
[14:49:42] <utkarsh> eddyb, how do I extract the value from an ~Any? couldn't figure it out from the docs :/
[14:49:47] <eddyb> as_ref
[14:49:55] <eddyb> utkarsh: look at AnyRefExt
[14:50:04] <eddyb> and AnyOwnExt
[14:51:50] *** Quits: jroweboy (jrowe7@moz-18814A6B.provo.static.broadweavenetworks.net) (Ping timeout)
[14:54:01] *** Joins: BizarreCake (BizarreCak@moz-361FE9B2.dynamic.barak-online.net)
[14:54:01] *** Quits: BizarreCake (BizarreCak@moz-361FE9B2.dynamic.barak-online.net) (Quit: BizarreCake)
[14:55:45] *** jorendorff_away is now known as jorendorff
[14:58:37] *** Joins: AvianFlu (AvianFlu@974D245D.130DDD13.67CD788C.IP)
[14:59:45] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Client exited)
[14:59:52] <utkarsh> got it
[15:01:15] <utkarsh> and why is the task automatically printing "task '<unnamed>' failed at 'sup', try_task.rs:7" to stderr if I'm running it in a task::try?
[15:02:03] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[15:02:25] *** Joins: gwty (gwtypc@E863A5CB.A37514C7.8A00C703.IP)
[15:05:07] *** Joins: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu)
[15:06:04] <kimundi> because there doesn't yet exist machinery to surpress that message if you use try
[15:06:54] *** Joins: alexherbo2 (alexherbo2@moz-A456CD9C.w83-199.abo.wanadoo.fr)
[15:07:03] *** Quits: steffenomak (steffenoma@moz-FB0A4BEB.student.uu.se) (Quit: WeeChat 0.4.3)
[15:08:48] *** Quits: koderok (Thunderbir@9EEA67B1.FEE11226.8D9DA8D9.IP) (Ping timeout)
[15:09:11] *** Quits: alexherbo2 (alexherbo2@moz-A456CD9C.w83-199.abo.wanadoo.fr) (Quit: WeeChat 0.4.3-dev)
[15:09:15] *** Joins: drbawb (drbawb@moz-444F91EA.wi.res.rr.com)
[15:14:52] <whitequark> https://mail.mozilla.org/pipermail/rust-dev/2014-March/008943.html
[15:14:55] * whitequark exhales
[15:14:57] *** Quits: Florob (Florob@moz-39532932.de) (Client exited)
[15:15:56] *** Quits: engla (engla@moz-F64E1B0F.cust.bredbandsbolaget.se) (Ping timeout)
[15:16:45] *** Joins: judder (maradukewa@75FA4DEE.A989D80C.78E362FE.IP)
[15:16:57] *** Quits: mno2 (mno2@moz-3506EAC7.singnet.com.sg) (Quit: mno2)
[15:22:28] *** Joins: Anupkumar (uid16774@moz-A42E5B7B.irccloud.com)
[15:22:43] *** Joins: Erik_ (Erik_S@moz-6691E309.hlrn.qwest.net)
[15:22:53] *** Joins: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca)
[15:23:17] *** Joins: hjr3 (hradtke@moz-699EABC0.lsanca.fios.verizon.net)
[15:23:32] <whitequark> eddyb: care to comment on the above perhaps?
[15:24:06] <eddyb> whenever I get to reading it :P
[15:24:31] *** Joins: valentin (Thunderbir@6451AD2B.10601D86.FAF22AF7.IP)
[15:24:43] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[15:24:55] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[15:27:17] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[15:27:23] <whitequark> sure
[15:28:48] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[15:29:07] *** Joins: jensnockert (jensnocker@moz-EDDEAFC.tbcn.telia.com)
[15:29:33] *** Quits: morganb (morgan_b_@moz-5EAC75A2.hfc.comcastbusiness.net) (Ping timeout)
[15:29:45] *** Joins: morganb (morgan_b_@moz-5EAC75A2.hfc.comcastbusiness.net)
[15:32:40] *** Quits: mmellott (mmellott@moz-FCDA89D5.ph.ph.cox.net) (Quit: WeeChat 0.3.8)
[15:32:48] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[15:38:26] *** Quits: tgkokk (tgkokk@moz-313711E.home.otenet.gr) (Ping timeout)
[15:39:28] *** jorendorff is now known as jorendorff_away
[15:39:59] *** Joins: jensnock_ (jensnocker@moz-33279404.customers.ownit.se)
[15:41:33] *** Joins: tav (tav@moz-7F8C7893.range31-52.btcentralplus.com)
[15:41:45] *** Quits: jensnock_ (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[15:42:14] *** Joins: lpy (lpy@12172131.F09091A8.1348A864.IP)
[15:42:29] *** Joins: maxli (Instantbir@moz-1650391B.hsd1.ca.comcast.net)
[15:42:39] *** Quits: jviereck (Adium@moz-E1530391.dclient.hispeed.ch) (Quit: Leaving.)
[15:43:21] *** jorendorff_away is now known as jorendorff
[15:43:53] *** Joins: Houm (Houm@moz-25669AA8.fbx.proxad.net)
[15:44:00] <tristram> I’m strugling with lifetime: https://github.com/Tristramg/rust-graph/blob/wip/src/graph.rs#L41, if I uncomment the block, it won’t compile, I suppose it is because of the mutable struct passed as a parameter
[15:44:13] *** Joins: maxli1 (Adium@moz-B19F68ED.student.cs.uwaterloo.ca)
[15:44:51] <tristram> what I understood, is that I should be able to specify that visited should outlive the call of dfs_rec, but I don’t manage to put everything together
[15:45:24] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[15:47:06] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[15:47:34] <edwardw> tristram: try fn dfs_rec<'a>(&self, source: &Node, visitor: |&Node| -> (), visited: &'a mut HashSet<&Node>)
[15:49:14] *** Quits: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[15:49:21] <edwardw> tristram: but are you sure what you saw isn't double borrow error?
[15:49:28] *** Joins: mno2 (mno2@moz-3506EAC7.singnet.com.sg)
[15:49:38] *** Joins: bollu (bollu@31CCE710.7065DDB9.6D6A344F.IP)
[15:50:06] <tristram> I’m not sure of much right now ;)
[15:50:08] <tristram> 40:57 error: cannot infer an appropriate lifetime due to conflicting requirements
[15:50:56] <tristram> and I really don’t get with the impl block should have lifetime specifier (I put it just following rustc’s orders)
[15:50:59] <edwardw> rustc -v?
[15:51:33] <tristram> rustc 0.10-pre (68a92c5 2014-02-26 21:16:36 -0800)
[15:51:37] <tristram> master, a few days ago
[15:51:42] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[15:51:48] *** Quits: hjr3 (hradtke@moz-699EABC0.lsanca.fios.verizon.net) (Connection reset by peer)
[15:52:01] *** Joins: hjr3 (hradtke@moz-699EABC0.lsanca.fios.verizon.net)
[15:52:25] <edwardw> I don't know then, sorry bro
[15:52:46] *** jorendorff is now known as jorendorff_away
[15:53:00] <tristram> no problem, thanks :)
[15:53:07] *** Joins: Merth (shaun@moz-E41B2C4D.dhcp.mdsn.wi.charter.com)
[15:54:31] *** Quits: mno2 (mno2@moz-3506EAC7.singnet.com.sg) (Ping timeout)
[15:55:53] <kimundi> tristram: what exatcly is the error you get with those lines uncommented?
[15:57:38] *** Quits: jaras (textual@1CDC5701.A48867D7.52E4E107.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[15:58:01] *** Joins: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net)
[15:59:01] <kimundi> tristram: (also, that children() call looks suspicions, I think you end up with a double reference)
[15:59:32] <kimundi> (as in, ref target -> & & Node)
[15:59:45] <tristram> https://gist.github.com/Tristramg/9449905
[16:00:15] *** Joins: nano (nano@moz-ED77243C.superkabel.de)
[16:00:37] <hoverbear> What's doing on here? https://gist.github.com/Hoverbear/b19703a2696da52d38e0
[16:00:38] <tristram> yes, the ref was just some random trying
[16:01:57] <kimundi> ah, interesting. I think because the type of the HashMap contains a &Node, it expects the same lifetiem for that &Node for the node you plug in in contains()
[16:02:17] <doomlord__> size_of() doesn't work with types?
[16:02:27] <kimundi> doomlord__: hm?
[16:02:30] <eddyb> whitequark: looks like a good plan :D
[16:02:34] <kimundi> doomlord__: what do you mean?
[16:02:50] <doomlord__> does size_of work with a type as an argument
[16:03:04] <eddyb> doomlord__: how would you do that :P?
[16:03:13] <eddyb> types are not first-class values in Rust
[16:03:15] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[16:03:20] <kimundi> size_of::<MyType>()
[16:03:38] <doomlord__> eddyb i'm thinking of c sizeof
[16:03:43] <doomlord__> ok
[16:04:06] <tristram> kimundi: ha, maybe I should go with cloning everything for now and think about those subtleties later
[16:05:02] <kimundi> tristram: try this:
[16:05:19] <kimundi>  fn dfs_rec<'a, 'b>(&self, source: &'b Node, visitor: |&Node| -> (), visited: &'a mut HashSet<&'b Node>) {
[16:05:36] <kimundi> as in, giving source and the nodes in HashSet the same lifetime
[16:05:45] <kimundi> insteadof different, as they are now
[16:05:51] *** Joins: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca)
[16:06:10] <kimundi> you could then also remove the 'a I think
[16:06:15] *** Joins: mawuli (mawuli@7178A47A.5A8F9859.DE15C958.IP)
[16:06:40] *** Quits: AvianFlu (AvianFlu@974D245D.130DDD13.67CD788C.IP) (Input/output error)
[16:06:41] <edwardw> tristram: you may also find http://pzol.github.io/getting_rusty/posts/20140203_hashmap/ interesting
[16:07:08] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[16:07:32] *** Quits: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca) (Ping timeout)
[16:07:41] *** Joins: Jarrett (chatzilla@moz-465FA06E.dhcp.rvsd.ca.charter.com)
[16:07:56] <kimundi> tristram: After you did that change, you also need to change children() to make the &N and &E it gives out have the same lifetime as the self
[16:08:14] <kimundi> fn children<'a>(&self, out_node: &N, f : |&'a N, &'a E| -> ())
[16:08:42] *** Quits: mawuli (mawuli@7178A47A.5A8F9859.DE15C958.IP) (Ping timeout)
[16:09:20] *** Joins: stevegury (stevegury@moz-171801E.hsd1.ca.comcast.net)
[16:09:33] <kimundi> Your main problem is that if you don'T give them the explicit names, every function call creates a temporary lifetime that will end after it finished. Which would be fine, if you wheren'T trying to store references from inside those temporaries into a HashMap external to the function.
[16:10:44] <kimundi> But because you _are_ storing it in an external HashMap, you need to annotate that every Node you recursivly walk through here has the same lifetime like the container it is stored in
[16:11:23] *** Joins: mawuli (mawuli@7178A47A.5A8F9859.DE15C958.IP)
[16:11:41] <tristram> thanks, I’ll have enough to work with, even if it is still a bit blurry
[16:13:47] *** Quits: stevegury (stevegury@moz-171801E.hsd1.ca.comcast.net) (Quit: stevegury)
[16:13:50] <Ms2ger> I don't guess there's a function that takes (*T, length) and gives you a &[T]
[16:14:13] *** Quits: valentin (Thunderbir@6451AD2B.10601D86.FAF22AF7.IP) (Ping timeout)
[16:14:18] <kimundi> Ms2ger: transmute would literally take that and produce that ;)
[16:14:25] *** Joins: valentin (Thunderbir@6451AD2B.10601D86.FAF22AF7.IP)
[16:14:33] <kimundi> apart from that, vec::rw maybe ?
[16:14:39] <kimundi> vec::raw
[16:15:06] <Ms2ger> There's buf_as_slice<T, U>(p: *T, len: uint, f: |v: &[T]| -> U) -> U, but that'd not as neat
[16:15:10] <Ms2ger> that's
[16:15:27] <Ms2ger> I'll probably end up with transmute
[16:15:43] <Ms2ger> How likely is that to break? :)
[16:16:07] <eddyb> DST might change the order
[16:16:12] <eddyb> but that's it
[16:16:41] <kimundi> eddyb: Is there a preferable order?
[16:16:48] *** Joins: alexherbo2 (alexherbo2@moz-A456CD9C.w83-199.abo.wanadoo.fr)
[16:17:00] <eddyb> kimundi: DST almost requires all erased values after the pointer
[16:17:32] * Ms2ger ponders
[16:18:27] <kimundi> Ms2ger: You can write a cast function using std::repr s slice representation. That way, it will continue to work even if the memory layout changes
[16:18:42] <eddyb> almost because it's not impossible to work with the reverse...
[16:18:45] <Ms2ger> Ah, neat
[16:19:26] <kimundi> Ms2ger: You still need to transmute, but it will always be correct
[16:19:44] <kimundi> (unless someone forgets to update the representations on a change)
[16:19:47] <Ms2ger> So, I've got to implement functions with a signature like extern fn get_dir(cx: *JSContext, obj: JSHandleObject, this: *mut Box<HTMLElement>, vp: *mut JSVal) -> JSBool {
[16:19:56] <eddyb> kimundi: no, that would break everything :P
[16:20:11] <kimundi> eddyb: True
[16:20:12] <Ms2ger> Bed example
[16:20:30] <Ms2ger> Like extern fn blur(cx: *JSContext, obj: JSHandleObject, this: *mut Box<HTMLElement>, argc: libc::c_uint, vp: *mut JSVal) -> JSBool {
[16:20:35] <Ms2ger> Bad, even, *sigh*
[16:20:43] <edwardw> LOL
[16:20:47] *** Joins: james4k (james@moz-9BB5AE72.consolidated.net)
[16:20:50] <Ms2ger> (Freud much)
[16:21:17] <Ms2ger> I'd like to make sure that argc/vp are only accessed through a struct I'm creating
[16:21:39] <Ms2ger> Is there an easy way to do that?
[16:21:52] <mrmonday> is there someway to get the fields out of an enum without match{}?
[16:22:06] * Ms2ger is thinking about something with &mut, but isn't sure
[16:22:27] <kimundi> Ms2ger: Is that a array of mutable JSVal ues?
[16:22:28] <eddyb> Ms2ger: priv fields?
[16:22:40] <Ms2ger> Yes
[16:23:09] <Ms2ger> I mean, I don't want the actual body of the function to be able to touch argc/vp
[16:23:17] *** Joins: isaacd (quassel@moz-6902374D.dhcp.oxfr.ma.charter.com)
[16:23:38] <eddyb> Ms2ger: yeah, make those priv fields in a struct
[16:23:47] <kimundi> could cast those two to a &mut [JSVal] if you know they don't alies with other code, or put them into private fileds with a get_mut_slice() method that does that
[16:24:02] <kimundi> alias*
[16:24:13] <kimundi> fields**
[16:24:34] <Ms2ger> I don't see how the private fields help
[16:24:50] <eddyb> Ms2ger: they are invisible?
[16:25:02] <Ms2ger> let thing = Thing { argc: argc, vp: vp };
[16:25:04] *** Quits: hjr3 (hradtke@moz-699EABC0.lsanca.fios.verizon.net) (Ping timeout)
[16:25:10] <Ms2ger> <-- I can still touch argc
[16:25:11] <eddyb> well, not invisible, but...
[16:25:13] <eddyb> Ms2ger: ohhh
[16:25:22] <eddyb> don't do that, give a structure to the function
[16:25:26] *** Joins: hjr3 (hradtke@moz-699EABC0.lsanca.fios.verizon.net)
[16:25:34] <eddyb> well, depends on the ABI :/
[16:25:38] *** Joins: evanm (evanm@moz-4D6F9A00.hsd1.ca.comcast.net)
[16:25:45] <Ms2ger> I can't change the signature, this is being called from jitcode
[16:26:04] <eddyb> try making it a tuple and see if that breaks anything
[16:26:44] <eddyb> C ABI is treated differently than the Rust ABI
[16:27:20] <eddyb> if you can't do that... there's still ways
[16:27:30] <eddyb> Ms2ger: lifetimes can be used almost like dependent types
[16:27:39] <eddyb> to create unique tokens and whatnot
[16:27:44] *** Joins: nical (nico@moz-4754F405.fbx.proxad.net)
[16:28:33] *** Joins: jdm (jdm@moz-AC9499B2.cable.teksavvy.com)
[16:28:33] *** ChanServ sets mode: +o jdm
[16:28:38] *** Joins: MP2E (cray@moz-EB1E242D.lv.lv.cox.net)
[16:29:21] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Ping timeout)
[16:29:45] *** Quits: skade (skade@moz-1EC0F118.pools.arcor-ip.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[16:29:55] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[16:30:26] *** Joins: lawrence (lawrence@moz-1B53E2A.wireless.utoronto.ca)
[16:30:26] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Connection reset by peer)
[16:30:51] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[16:31:32] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[16:31:54] *** Joins: jdsanders (Adium@moz-EB8DC389.hlrn.qwest.net)
[16:33:28] <jdsanders> it seems a little awkward that I have to import both the name of an enum, and the name of all its variants, like `use option::{Option, Some, None}` - are there any plans for that to change?
[16:35:03] <edwardw> I always wonder the same. Also, why not Option::Some?
[16:35:17] <edwardw> *option::Some
[16:35:27] <eddyb> this has been discussed
[16:35:40] <eddyb> someone implemented "enum mod" but that was dropped
[16:36:01] <pczarn> enum is not a mod
[16:36:24] <Ms2ger> mod is not an enum
[16:36:32] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Quit: csherratt)
[16:36:33] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[16:36:34] *** Joins: intuxicated (intuxicate@A9443CC2.9D1E10BA.3FFBF42F.IP)
[16:36:46] <eddyb> there is no spoon
[16:36:55] <eddyb> there is only rust
[16:36:57] <Ms2ger> there is only xul
[16:36:59] <Ms2ger> Dammit
[16:37:22] <edwardw> Ah, what will happen to xul in the servo world?
[16:37:44] <Ms2ger> We won't implement it
[16:37:47] *** Joins: mib_l2k1xc (Mibbit@moz-38DCC98D.cable.mindspring.com)
[16:37:53] <eddyb> fill the U in XUL with thermite
[16:37:59] <eddyb> that should do the trick
[16:38:03] <Ms2ger> Or marmite
[16:38:15] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[16:38:37] <edwardw> k
[16:38:39] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[16:39:28] <eddyb> haha what?
[16:39:36] <edwardw> servo will have nice embed API instead, I presume?
[16:39:38] <eddyb> I dragged "marmite" to chrome... and it's gone
[16:39:51] *** Quits: kaeluka (kaeluka@moz-CBEF7664.cust.tele2.se) (Quit: kaeluka)
[16:39:52] <Ms2ger> Hopefully, yes
[16:40:08] <eddyb> I can totally cut words from the IRC log by dragging them to another window
[16:40:19] <eddyb> that confused me for a second
[16:40:45] *** Quits: noam (noam@F6B530A7.720527A7.416762B.IP) (Ping timeout)
[16:40:51] *** jorendorff_away is now known as jorendorff
[16:41:13] *** Joins: noam (noam@F6B530A7.720527A7.416762B.IP)
[16:41:35] <pczarn> you can't eat your marmite and have it, too
[16:42:12] <Ms2ger> The drag must have consumed it
[16:42:53] *** jorendorff is now known as jorendorff_away
[16:43:44] *** Quits: alexherbo2 (alexherbo2@moz-A456CD9C.w83-199.abo.wanadoo.fr) (Quit: WeeChat 0.4.3-dev)
[16:45:27] *** Quits: zmike (discomfito@moz-975BC507.hsd1.ct.comcast.net) (Quit: ah. I see.)
[16:46:03] *** Quits: Anupkumar (uid16774@moz-A42E5B7B.irccloud.com) (Ping timeout)
[16:46:07] *** Quits: janx (sid16602@moz-A42E5B7B.irccloud.com) (Ping timeout)
[16:46:08] *** Joins: kaeluka (kaeluka@moz-CBEF7664.cust.tele2.se)
[16:46:17] *** Joins: koderok (Thunderbir@9EEA67B1.FEE11226.8D9DA8D9.IP)
[16:46:23] *** Joins: till (till@moz-E0853D96.superkabel.de)
[16:46:28] *** Quits: huhlig (sid17687@moz-A42E5B7B.irccloud.com) (Ping timeout)
[16:46:28] *** Quits: jack (sid19593@moz-A42E5B7B.irccloud.com) (Ping timeout)
[16:46:28] *** Quits: patrikstenmark (sid16326@moz-A42E5B7B.irccloud.com) (Ping timeout)
[16:47:03] *** Joins: victorporof (victorporo@moz-FFB76956.cpe.net.cable.rogers.com)
[16:47:44] *** Joins: janx (sid16602@moz-A42E5B7B.irccloud.com)
[16:47:48] *** Quits: tanayseven (tanay@F404DA42.BF7A48FA.5A7A4C68.IP) (Ping timeout)
[16:47:53] <japaric> could someone take a look at this gist https://gist.github.com/japaric/9450541 and explain why I need to call `mod foo` twice?
[16:48:26] *** Quits: koderok (Thunderbir@9EEA67B1.FEE11226.8D9DA8D9.IP) (Ping timeout)
[16:48:43] *** Joins: patrikstenmark (sid16326@moz-A42E5B7B.irccloud.com)
[16:49:15] *** Joins: koderok (Thunderbir@9EEA67B1.FEE11226.8D9DA8D9.IP)
[16:49:29] *** Quits: evanm (evanm@moz-4D6F9A00.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[16:49:58] *** Joins: Anupkumar (uid16774@moz-A42E5B7B.irccloud.com)
[16:51:09] *** Quits: hjr3 (hradtke@moz-699EABC0.lsanca.fios.verizon.net) (Ping timeout)
[16:51:25] *** Quits: Kxepal (Miranda@moz-DA894BAA.pppoe.mtu-net.ru) (Ping timeout)
[16:51:41] *** Joins: Florob (Florob@moz-39532932.de)
[16:51:46] *** Joins: hjr3 (hradtke@moz-699EABC0.lsanca.fios.verizon.net)
[16:51:55] <pczarn> japaric: are you trying to write: use foo:Foo in main?
[16:52:41] <kimundi> japaric: You should never have "mod foo;" twice anywhere in your crate
[16:52:43] *** Joins: zmike (discomfito@moz-975BC507.hsd1.ct.comcast.net)
[16:52:46] *** Joins: cceckman_ (cceckman@moz-3696B76.wybo.fttp.ntelos.net)
[16:52:48] *** Quits: cceckman_ (cceckman@moz-3696B76.wybo.fttp.ntelos.net) (Client exited)
[16:52:57] <kimundi> It leads to a duplicate module, which is mutually incpmatible
[16:53:47] *** Joins: mno2 (mno2@moz-3506EAC7.singnet.com.sg)
[16:53:52] <pczarn> japaric: first, write pub mod foo; in bar
[16:55:20] *** Joins: Kxepal (Miranda@moz-2F3DCB10.pppoe.mtu-net.ru)
[16:55:29] *** Quits: mno2 (mno2@moz-3506EAC7.singnet.com.sg) (Ping timeout)
[16:57:46] *** Joins: huhlig (sid17687@moz-A42E5B7B.irccloud.com)
[16:58:13] <japaric> pczarn: changed mod foo -> pub mod foo in bar.rs - then commented mod foo in main.rs - got the same error 
[16:58:48] *** Joins: jaras (textual@1CDC5701.A48867D7.52E4E107.IP)
[16:58:58] *** Joins: jack (sid19593@moz-A42E5B7B.irccloud.com)
[16:58:58] *** ChanServ sets mode: +o jack
[16:59:03] <pczarn> japaric: use bar::foo::Foo; because foo is locally in bar
[16:59:35] <pczarn> wait
[17:00:03] *** Joins: AskDrCatcher (AskDrCatch@moz-38DCC98D.cable.mindspring.com)
[17:00:03] <pczarn> japaric: you need use self::foo::Foo; in bar
[17:00:10] *** Parts: mib_l2k1xc (Mibbit@moz-38DCC98D.cable.mindspring.com) ()
[17:01:08] <japaric> pczarn: self::foo::Foo worked - no need for pub mod foo in bar.rs
[17:01:43] <japaric> pczarn: now could you explain? :P
[17:02:00] <till> cmr: Hey, thank you a lot for your PR. Just, should <src/examples> work?
[17:02:07] *** till is now known as flan3002
[17:02:12] <pczarn> japaric: `use` looks for paths relative to crate root
[17:02:40] <flan3002> cmr: I mean, it doesn't render as anything (HTML tag)...
[17:03:01] <pczarn> japaric: unless the path starts with `self::`
[17:04:51] <japaric> pczarn: when you say "crate root" you mean /usr/lib/... where libstd lives?
[17:05:17] <pczarn> japaric: the file that you compile becomes crate root
[17:05:40] <pczarn> japaric: libstd is another crate
[17:05:41] <jdsanders> eddyb: sorry I checked out of the enum discussion awhile ago - any chance you have a pointer to where something like `Option::Some` was discussed?
[17:06:07] *** Quits: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net) (Quit: Taking a nap.)
[17:06:08] <pczarn> japaric: in your case everything in main.rs is at crate root.
[17:06:18] <jdsanders> I'm also finding it to be a bummer that enum variants aren't "namespaced" in some fashion, because then names can't collide (or rather, you have to deal with collisions when you use the names)
[17:06:26] <eddyb> jdsanders: there was a PR implementing "enum mod"
[17:06:31] <eddyb> so search for that
[17:06:36] <jdsanders> ok cool, thanks
[17:07:47] <eibwen> the bugreport url which was given to me by the compiler is not valid http://static.rust-lang.org/doc/master/complement-bugreport.html
[17:07:51] *** Quits: twi (Adium@moz-CDA0FAF2.cust.vodafonedsl.it) (Ping timeout)
[17:08:01] <jdsanders> I want a string of all ascii characters of a given length, and I don't much care what's in it, current implementation: `vec::from_elem(128, 'a' as u8).into_ascii().into_str();`
[17:08:08] <eibwen> gives me 'access denied'
[17:08:23] <jdsanders> anything easier than that? seems like I'd like to be able to do `'a' as Ascii` to skip the `into_ascii()` step
[17:08:36] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[17:09:50] <jdsanders> ah...looks like I can use `to_ascii` on the individual char
[17:09:53] <jdsanders> that's probably better
[17:09:56] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Quit: Leaving)
[17:10:16] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[17:10:28] <japaric> pczarn: does the hierarchy looks like this http://bpaste.net/show/186859/ then?
[17:10:42] <whitequark> eddyb: awesome, thanks
[17:10:49] <jensnockert> Hello, what's the sanest way to get a &'a str from a serialize::json::Json/String. I'm trying https://gist.github.com/jensnockert/873394c90f8b14c249d9
[17:11:18] <jensnockert> But I can only get it to be &~str, or ~str. But I think I must be missing something.
[17:11:59] <pczarn> japaric: first tree is correct. The second one means that both foo and bar are in main.rs
[17:12:08] *** Joins: twi (Adium@moz-D690EC9A.cust.vodafonedsl.it)
[17:12:45] <pczarn> japaric: The second one is also correct, if `mod foo` is moved to main.rs, of course
[17:12:51] <kimundi> jensnockert: => str.as_slice()
[17:13:15] <kimundi> jensnockert: there are other ways to force the &~str to a &str, but as_slice() is the easiest
[17:13:34] <japaric> pczarn: thanks, I got it :-)
[17:14:18] <jensnockert> kimundi: But it doesn't get the right lifetime?
[17:14:49] <kimundi> jensnockert: It should infer to have the correctr lifetime
[17:14:57] *** Quits: kaeluka (kaeluka@moz-CBEF7664.cust.tele2.se) (Quit: kaeluka)
[17:15:41] <kimundi> doesn't it?
[17:15:45] <jensnockert> kimundi: I'm trying to do https://gist.github.com/jensnockert/873394c90f8b14c249d9
[17:15:59] <jensnockert> kimundi: No, but that is probably my fault.
[17:16:03] <kimundi> &'a self
[17:16:06] <TeXitoi> tristram: I think the problem is that you have a HashSet<&Node>, and you need a HashSet<&'b Node>
[17:16:30] *** Joins: jroweboy (jrowe7@moz-18814A6B.provo.static.broadweavenetworks.net)
[17:16:31] <jensnockert> kimundi: Oh silly me, of course! Thank you <3 *hugs*
[17:16:59] *** Joins: kaeluka (kaeluka@moz-CBEF7664.cust.tele2.se)
[17:17:21] <kimundi> :)
[17:17:47] *** Quits: ion (ion@heh.fi) (Quit: kernel upgrade)
[17:18:26] <ooo_> \o/
[17:20:17] *** Quits: nano (nano@moz-ED77243C.superkabel.de) (Ping timeout)
[17:20:51] *** Quits: mawuli (mawuli@7178A47A.5A8F9859.DE15C958.IP) (Ping timeout)
[17:20:56] *** Quits: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu) (Client exited)
[17:21:17] *** Joins: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu)
[17:23:12] *** Quits: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu) (Ping timeout)
[17:24:16] *** Quits: jroweboy (jrowe7@moz-18814A6B.provo.static.broadweavenetworks.net) (Quit: Leaving.)
[17:24:32] *** Quits: valentin (Thunderbir@6451AD2B.10601D86.FAF22AF7.IP) (Ping timeout)
[17:24:35] *** Joins: valentin (Thunderbir@6451AD2B.10601D86.FAF22AF7.IP)
[17:24:46] *** Joins: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net)
[17:25:06] *** Joins: mawuli (mawuli@7178A47A.5A8F9859.DE15C958.IP)
[17:25:27] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[17:25:32] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Client exited)
[17:25:32] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[17:25:40] <jdsanders> in case anybody else who wasn't around/involved at the time is interested in the "enum mod" thing, here's the issue - https://github.com/mozilla/rust/issues/10090 - and here's the meeting notes where it was discussed - https://github.com/mozilla/rust/wiki/Meeting-weekly-2013-12-10#wiki-enum-mod
[17:25:42] <jdsanders> bummer!
[17:25:44] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[17:26:02] *** Quits: hjr3 (hradtke@moz-699EABC0.lsanca.fios.verizon.net) (Connection reset by peer)
[17:26:25] *** Joins: tulloch (tulloch@moz-1C33A2E7.nat.csx.cam.ac.uk)
[17:26:32] *** Joins: hjr3 (hradtke@moz-699EABC0.lsanca.fios.verizon.net)
[17:27:10] *** Quits: jaras (textual@1CDC5701.A48867D7.52E4E107.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[17:27:38] *** Quits: lpy (lpy@12172131.F09091A8.1348A864.IP) (Client exited)
[17:28:08] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[17:29:32] *** Joins: mgottschlag (quassel@moz-E895F1A4.cust.bluewin.ch)
[17:30:48] <yoshi> What does "oxidize" mean in the build process?
[17:31:00] <eddyb> compile_and_link
[17:31:23] <yoshi> Using what?
[17:31:29] <MP2E> rust
[17:31:47] <MP2E> rustc to be more precise heh
[17:32:05] <yoshi> All right. Thanks.
[17:32:55] *** Joins: skade (skade@B0278B5A.505237C9.CAE22B62.IP)
[17:33:13] *** Joins: ion (ion@heh.fi)
[17:34:04] <eibwen> <eibwen> the bugreport url which was given to me by the compiler is not valid http://static.rust-lang.org/doc/master/complement-bugreport.html
[17:34:14] <eibwen> is that worthy a bug report?
[17:34:20] *** Joins: fabiand (fabiand@moz-C1C20959.hsd1.ma.comcast.net)
[17:34:40] <jdm> yes
[17:34:57] <eibwen> okay
[17:35:49] *** Quits: jdm (jdm@moz-AC9499B2.cable.teksavvy.com) (Quit: Lost terminal)
[17:35:51] *** Quits: hjr3 (hradtke@moz-699EABC0.lsanca.fios.verizon.net) (Connection reset by peer)
[17:36:04] <pczarn> I want a safer variation of slice_shift_char(&'a str) that would return (Option<char>, &'a str) without failures
[17:36:09] *** Joins: hjr3 (hradtke@moz-699EABC0.lsanca.fios.verizon.net)
[17:39:01] *** Joins: jviereck (Adium@moz-E1530391.dclient.hispeed.ch)
[17:39:29] *** Quits: StarLight (StarLight@moz-72DA9B76.dynamic.avangarddsl.ru) (Ping timeout)
[17:39:54] <kimundi> pczarn: Actually, if you rewrite that method to return a Option to begin with, then that would likely be accepted as a patch
[17:40:14] *** Quits: jviereck (Adium@moz-E1530391.dclient.hispeed.ch) (Quit: Leaving.)
[17:40:17] <pczarn> kimundi: without name change?
[17:40:35] <Ms2ger> fn slice_shift_char_safe(s: &'a str) -> (Option<char>, &'a str) { if s.len() == 0 { (None, s) } else { slice_shift_char(s) } }? :)
[17:40:44] <kimundi> yeah, we've recently moved away from fail-on-error a lot
[17:40:46] *** Joins: blindrenderer (blindrende@A2CE7C46.1B0BFAF2.580BDDEE.IP)
[17:40:46] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Connection reset by peer)
[17:40:47] *** Joins: jensnock_ (jensnocker@moz-33279404.customers.ownit.se)
[17:40:52] <edwardw> how can I assign a lifetime to a block? "'a { ... }" ?
[17:41:05] <pczarn> ok, thanks
[17:41:06] <kimundi> edwardw: can'T do that right now
[17:41:08] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[17:41:14] <edwardw> kimundi: k
[17:41:22] <kimundi> edwardw: what do you need it for?
[17:42:12] <edwardw> I try to do this: let z = &'a y; let ret = xs.iter().fold(z, |acc, &el| {  &'a (*acc + el)  });
[17:42:19] <edwardw> rustc won't let me
[17:42:30] *** Quits: jensnock_ (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[17:43:02] <Ms2ger> That doesn't make sense
[17:43:06] *** Quits: Erik_ (Erik_S@moz-6691E309.hlrn.qwest.net) (Ping timeout)
[17:43:06] *** Quits: kris (kris@moz-147EE6DF.diku.dk) (Ping timeout)
[17:43:08] <edwardw> I'm trying to say the temporaries in the fold closure has the same lifetime as z
[17:43:20] <edwardw> Ms2ger: it is for some crazy test :)
[17:43:21] <kimundi> edwardw: "&'a (*acc + el)" at the end would not work
[17:43:33] <Ms2ger> *acc + el is on the stack of the closure
[17:43:48] <Ms2ger> So it's dead after the closure returns
[17:43:49] * yoshi imagines a world where ccache supports rust...
[17:43:52] <edwardw> kimundi: Ms2ger: Ah, I see
[17:43:54] *** Joins: StarLight (StarLight@moz-8A4B0F30.dynamic.avangarddsl.ru)
[17:44:05] <edwardw> of course it is, ty
[17:44:10] <Ms2ger> Np
[17:44:18] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[17:44:37] * Ms2ger hopes his confident assertion is correct
[17:44:40] <kimundi> yoshi: It wouldn't really help
[17:45:46] *** Joins: alisdair (textual@moz-B1BE70D2.hsd1.co.comcast.net)
[17:48:10] <yoshi> kimundi: Is that behavior duplicated already?
[17:52:02] *** Quits: hjr3 (hradtke@moz-699EABC0.lsanca.fios.verizon.net) (Connection reset by peer)
[17:52:29] *** Joins: nano (nano@moz-ED77243C.superkabel.de)
[17:52:40] *** Joins: hjr3 (hradtke@moz-699EABC0.lsanca.fios.verizon.net)
[17:53:31] *** Joins: Matthias247 (Miranda@moz-678B5E4A.hsi2.kabel-badenwuerttemberg.de)
[17:54:13] *** Joins: mno2 (mno2@moz-3506EAC7.singnet.com.sg)
[17:54:48] *** Quits: valentin (Thunderbir@6451AD2B.10601D86.FAF22AF7.IP) (Ping timeout)
[17:55:09] *** Quits: Anupkumar (uid16774@moz-A42E5B7B.irccloud.com) (Quit: Connection closed for inactivity)
[17:55:54] *** Quits: mno2 (mno2@moz-3506EAC7.singnet.com.sg) (Ping timeout)
[17:55:57] *** Joins: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net)
[17:56:14] <eddyb> yoshi: it *couldn't* help, there's nothing you can cache
[17:56:25] <eddyb> yoshi: unless everything is identical
[17:57:05] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[17:57:08] *** Quits: mye (mye@moz-FC60257D.dip0.t-ipconnect.de) (Quit: mye)
[17:57:08] <bollu> 0 error: macro undefined: 'try' <- trying to build rust from master
[17:57:46] *** Joins: japaric1 (japaric@C9A6A67A.CBA91732.95AFB88D.IP)
[17:58:01] *** Quits: japaric (japaric@5FC96F56.29721F33.F29ED47E.IP) (Ping timeout)
[17:58:36] <bollu> any help? 
[17:58:41] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[17:58:43] <eddyb> is everything clean?
[17:58:50] <eddyb> and up to date?
[17:59:16] <bollu> yep, cleaned and just pulled from master
[17:59:20] <bollu> like, 5 minutes back
[17:59:29] *** Joins: kris (kris@moz-47812C15.static.bcbnet.dk)
[17:59:35] *** Joins: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu)
[18:02:03] <bollu> running make check now
[18:03:09] <bollu> seems to be compiling now
[18:03:21] *** Quits: abaez (a__@moz-8D618AC3.nycmny.fios.verizon.net) (Client exited)
[18:03:21] *** Quits: MP2E (cray@moz-EB1E242D.lv.lv.cox.net) (Quit: brb)
[18:03:33] *** Quits: mceier (mceier@moz-C1591437.dynamic.chello.pl) (Ping timeout)
[18:04:27] <bollu> eddyb: if I want to contribute to rust, how should I start?
[18:04:42] <eddyb> first, learn to be efficient
[18:04:46] <eddyb> make rustc-stage1
[18:05:00] <eddyb> that will get you a working compiler including your changes
[18:05:08] <eddyb> with minimal build time
[18:05:12] *** Quits: murph (murph@moz-EA149729.oracle.com) (Client exited)
[18:05:18] <eddyb> make check-stage1 for the tests
[18:05:23] *** Joins: murph (murph@moz-EA149729.oracle.com)
[18:05:27] *** Quits: AskDrCatcher (AskDrCatch@moz-38DCC98D.cable.mindspring.com) (Ping timeout)
[18:05:48] <pczarn> eddyb: how to install stage1?
[18:05:58] <eddyb> why would you install it :P?
[18:06:05] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[18:06:26] <cmr> flan3002: it should have been a link.
[18:06:42] <eddyb> bollu: though it is more convenient to be able to just type "rustc" so I symlinked the relevant binary (./x*/stage1/bin/rustc) to ~/bin/rustc
[18:07:46] *** Joins: mye (mye@moz-FC60257D.dip0.t-ipconnect.de)
[18:09:43] *** Joins: abaez (a__@moz-8D618AC3.nycmny.fios.verizon.net)
[18:10:58] <pczarn> eddyb: good idea, but does rustc know where to look for libs?
[18:11:07] <eddyb> it's relative so it still works
[18:12:32] *** Joins: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net)
[18:12:58] *** Quits: lawrence (lawrence@moz-1B53E2A.wireless.utoronto.ca) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[18:13:08] *** Joins: olivernn (olivernigh@moz-7CE0F8.access.mtnbusiness.co.za)
[18:13:39] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[18:13:46] *** Joins: tgkokk (tgkokk@moz-313711E.home.otenet.gr)
[18:14:18] *** Joins: lawrence (lawrence@moz-1B53E2A.wireless.utoronto.ca)
[18:14:39] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[18:15:19] *** Quits: hjr3 (hradtke@moz-699EABC0.lsanca.fios.verizon.net) (Ping timeout)
[18:15:53] *** Joins: hjr3 (hradtke@moz-699EABC0.lsanca.fios.verizon.net)
[18:15:58] *** Quits: olivernn (olivernigh@moz-7CE0F8.access.mtnbusiness.co.za) (Ping timeout)
[18:16:07] *** Joins: mceier (mceier@moz-C1591437.dynamic.chello.pl)
[18:16:18] *** Quits: IanCormac84 (User@659E65F3.64D641E5.67DFF8B4.IP) (Ping timeout)
[18:16:53] *** Quits: mawuli (mawuli@7178A47A.5A8F9859.DE15C958.IP) (Ping timeout)
[18:17:00] *** Joins: IanCormac84 (User@A5DBE483.64D641E5.67DFF8B4.IP)
[18:17:10] *** Joins: frogzilla (Mibbit@14310444.B9CCEC14.CC1A2609.IP)
[18:17:56] *** Quits: noam (noam@F6B530A7.720527A7.416762B.IP) (Ping timeout)
[18:18:49] *** Joins: noam (noam@F6B530A7.720527A7.416762B.IP)
[18:20:25] *** Quits: maxli (Instantbir@moz-1650391B.hsd1.ca.comcast.net) (Quit: maxli)
[18:20:28] *** Joins: p1start (rewi@moz-A082F561.adsl.xtra.co.nz)
[18:23:27] *** Quits: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net) (Ping timeout)
[18:23:37] *** Quits: noam (noam@F6B530A7.720527A7.416762B.IP) (Ping timeout)
[18:23:54] *** Quits: lawrence (lawrence@moz-1B53E2A.wireless.utoronto.ca) (Connection reset by peer)
[18:23:54] *** Quits: doener (doener@moz-C68F600D.unity-media.net) (Quit: leaving)
[18:24:00] *** Joins: lawrence (lawrence@moz-1B53E2A.wireless.utoronto.ca)
[18:24:44] *** Joins: rveach (kvirc@moz-E5095E39.hsd1.ca.comcast.net)
[18:25:05] *** Joins: hjr3_ (hradtke@moz-699EABC0.lsanca.fios.verizon.net)
[18:25:07] *** Quits: hjr3 (hradtke@moz-699EABC0.lsanca.fios.verizon.net) (Connection reset by peer)
[18:26:19] *** Joins: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com)
[18:26:57] *** Joins: adridu59 (Mibbit@moz-9BAC9171.rev.numericable.fr)
[18:27:05] <flan3002> cmr: Oh, I fixed it by inserting an ugly absolute link... I couldn't figure out how to get a relative link working.
[18:27:24] *** Joins: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net)
[18:27:46] *** Joins: wirespeed (wirespeed@moz-6B368AB3.rev.sfr.net)
[18:27:47] <adridu59> cmr: do you want to review? just a few changes to the docs: https://github.com/mozilla/rust/pull/12783
[18:28:28] *** Quits: hjr3_ (hradtke@moz-699EABC0.lsanca.fios.verizon.net) (Ping timeout)
[18:28:36] *** Joins: noam (noam@F6B530A7.720527A7.416762B.IP)
[18:28:50] *** Joins: hjr3 (hradtke@moz-699EABC0.lsanca.fios.verizon.net)
[18:28:58] <adridu59> cmr: ah, acrichto is on it
[18:29:23] *** Quits: koderok (Thunderbir@9EEA67B1.FEE11226.8D9DA8D9.IP) (Quit: koderok)
[18:32:16] *** Quits: p1start (rewi@moz-A082F561.adsl.xtra.co.nz) (Ping timeout)
[18:33:10] *** Joins: p1start (rewi@moz-A082F561.adsl.xtra.co.nz)
[18:33:34] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[18:34:01] *** Quits: jensnockert (jensnocker@moz-EDDEAFC.tbcn.telia.com) (Input/output error)
[18:34:29] *** Joins: jensnockert (jensnocker@moz-EDDEAFC.tbcn.telia.com)
[18:35:13] *** Quits: mgottschlag (quassel@moz-E895F1A4.cust.bluewin.ch) (Ping timeout)
[18:36:01] *** Quits: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net) (Input/output error)
[18:36:16] *** Quits: jensnockert (jensnocker@moz-EDDEAFC.tbcn.telia.com) (Ping timeout)
[18:36:30] *** Quits: hjr3 (hradtke@moz-699EABC0.lsanca.fios.verizon.net) (Ping timeout)
[18:36:30] *** Joins: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net)
[18:36:58] *** Quits: lerc (quassel@moz-289EFA2.telstraclear.net) (Ping timeout)
[18:36:58] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[18:37:01] *** Joins: hjr3 (hradtke@moz-699EABC0.lsanca.fios.verizon.net)
[18:37:19] <pczarn> eddyb: I'm going to add that link to my dofiles. As well as https://github.com/pczarn/rust-prompt
[18:37:27] *** Joins: quux00 (uid24415@moz-E77DEB21.irccloud.com)
[18:38:12] *** Quits: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net) (Ping timeout)
[18:38:39] *** Quits: jackneill (jackneill@moz-ACA3B008.pool.digikabel.hu) (Ping timeout)
[18:38:51] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[18:39:03] <eibwen> how can I make a debug build of the rust compiler?
[18:39:12] <eddyb> RUST_FLAGS=-g I'd say
[18:39:26] *** Joins: bollu_ (bollu@31CCE710.7065DDB9.6D6A344F.IP)
[18:39:34] <eddyb> that might be RUSTFLAGS
[18:40:10] *** Quits: lawrence (lawrence@moz-1B53E2A.wireless.utoronto.ca) (Connection reset by peer)
[18:40:27] *** Quits: bollu (bollu@31CCE710.7065DDB9.6D6A344F.IP) (Ping timeout)
[18:40:29] *** Joins: lawrence (lawrence@moz-1B53E2A.wireless.utoronto.ca)
[18:40:41] <bollu_> eddyb: whicle buidling, what does "oxidise" stand for?
[18:40:49] <eddyb> seriously? FAQ pls
[18:41:00] <eddyb> bollu_: compiling with the rust compiler
[18:41:56] <bollu_> eddyb: ah. good to know. they sure do have a sense of (mild) humor
[18:42:04] *** Quits: hjr3 (hradtke@moz-699EABC0.lsanca.fios.verizon.net) (Ping timeout)
[18:42:12] *** Quits: adridu59 (Mibbit@moz-9BAC9171.rev.numericable.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[18:42:41] *** Joins: hjr3 (hradtke@moz-699EABC0.lsanca.fios.verizon.net)
[18:43:37] *** Quits: wirespeed (wirespeed@moz-6B368AB3.rev.sfr.net) (Quit: Leaving.)
[18:43:40] *** Quits: frogzilla (Mibbit@14310444.B9CCEC14.CC1A2609.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[18:44:50] *** Joins: arturo (Thunderbir@moz-E83B14F0.superkabel.de)
[18:46:59] *** Quits: lawrence (lawrence@moz-1B53E2A.wireless.utoronto.ca) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[18:47:47] *** Quits: DanC (connolly@moz-4039CBE6.dyn.everestkc.net) (Ping timeout)
[18:48:21] *** Joins: lerc (quassel@moz-289EFA2.telstraclear.net)
[18:48:44] *** Joins: jensnockert (jensnocker@moz-EDDEAFC.tbcn.telia.com)
[18:50:00] *** Quits: alisdair (textual@moz-B1BE70D2.hsd1.co.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[18:53:52] <bollu_> eddyb: it seems to be stuck at "oxidising" librustc
[18:54:05] <eddyb> it takes like twenty minutes, just wait
[18:54:09] *** Joins: mbx (mbebenita@moz-B45FE61C.hsd1.ca.comcast.net)
[18:54:14] <bollu_> whoops, just finished and moved to librustdoc
[18:54:28] <bollu_> good to know it's just not my rig that's getting old ^_^
[18:54:36] *** Joins: alexherbo2 (alexherbo2@moz-A456CD9C.w83-199.abo.wanadoo.fr)
[18:54:48] *** Joins: mno2 (mno2@moz-3506EAC7.singnet.com.sg)
[18:54:51] <eddyb> I add RUSTFLAGS="-Z time-passes" to the make command
[18:54:59] <eddyb> that gives you somewhat of a progress
[18:55:13] <bollu_> hmm. and why isn't it using all my cores? 
[18:55:20] <bollu_> it's only using the one out of four
[18:55:24] <bollu_> should I have passed -j 4?
[18:55:31] <eddyb> hehe yeah
[18:55:32] <bollu_> I was under the impression it figures it out
[18:55:34] <bollu_> oh well :(
[18:55:39] <eddyb> that's make for you
[18:55:45] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[18:55:55] *** Quits: flan3002 (till@moz-E0853D96.superkabel.de) (Quit: leaving)
[18:56:04] <eddyb> bollu_: as long as you do it immediately after it starts doing something new, you can stop it without losing any sort of progress
[18:56:27] *** Joins: marianoguerra (marianogue@moz-8640768A.dip0.t-ipconnect.de)
[18:56:29] *** Quits: mno2 (mno2@moz-3506EAC7.singnet.com.sg) (Ping timeout)
[18:56:29] <kimundi> bollu_: Note that rustc won't get any speedup from j4
[18:56:35] <Luqman> bollu_: well, even with j there are some serial parts to the whole compilation process
[18:56:43] <eddyb> just the small libraries will be built in parallel
[18:56:46] <eddyb> which kinda helps
[18:56:52] <bollu_> ah, that's sad . this is a bummer
[18:57:04] <Luqman> -j is also pretty useful when you're building for multiple targets since they can all be built in parallel
[18:57:08] <bollu_> okay, looks like it's done anyway. what is librustc?
[18:57:14] <eddyb> the rust compiler
[18:57:23] <bollu_> ah.
[18:57:34] <bollu_> so why "lib" ? because it's part of the standard library?
[18:57:39] <bollu_> that makes my head hurt >_<
[18:57:41] *** Joins: hoverbear (hoverbear@16DC6CFF.EAF1E009.F743D60E.IP)
[18:57:41] <Luqman> bollu_: it's a library
[18:57:49] <Luqman> rustc is just a wrapper around it
[18:57:50] <eddyb> libstd *is* the standard library
[18:58:09] <eddyb> librustc is a library because other tools like rustdoc use it
[18:58:11] <bollu_> Luqman: ah, I see, that makes things clearer
[18:58:21] *** Joins: sprog (Mibbit@DC6C6A6E.D3CD0F30.DF7D71B0.IP)
[18:58:35] <Luqman> bollu_: so for example you could like your own programs with librustc and just compile rust programs in your program
[18:58:35] <bollu_> random question - does anyone here know what lie algebra is?
[18:58:51] *** Quits: sprog (Mibbit@DC6C6A6E.D3CD0F30.DF7D71B0.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[18:58:52] <Luqman> bollu_: i know of it :P
[18:58:52] <eddyb> haha why do you ask?
[18:58:57] <bollu_> Luqman: yep, I can see the implications :) it's really cool to have something like it
[18:59:09] <eddyb> that stuff is crazy
[18:59:10] <bollu_> idk, I was trying to read the wiki page and it was gibberish to me
[18:59:14] *** Quits: p1start (rewi@moz-A082F561.adsl.xtra.co.nz) (Ping timeout)
[18:59:15] <bollu_> anyone wants to ELI5?
[18:59:53] *** Joins: Zylinski (karl@moz-58495553.static.spa.siw.siwnet.net)
[19:00:28] <bollu_> *sigh* I guess not. 
[19:01:58] <bollu_> eddyb: tell me this - if I read topology, will I be able to understand lie algebra?
[19:02:06] <eddyb> who knows
[19:02:14] <bollu_> eddyb: I thought you knew ;)
[19:02:33] *** Quits: IanCormac84 (User@A5DBE483.64D641E5.67DFF8B4.IP) (Ping timeout)
[19:03:00] *** Quits: rileyw (rileyw@moz-E40BCEED.hsd1.ca.comcast.net) (Client exited)
[19:03:01] *** Joins: rileyw (rileyw@moz-E40BCEED.hsd1.ca.comcast.net)
[19:03:21] *** Joins: mgottschlag (quassel@moz-E895F1A4.cust.bluewin.ch)
[19:03:22] *** Joins: IanCormac84 (User@16AF40B0.64D641E5.67DFF8B4.IP)
[19:03:22] <Ms2ger> bollu_, I've heard the word :)
[19:03:43] <bollu_> " The fact that integrals of class C2 of the Hamilton equation are closed with respect to the Poisson brackets, which satisfy the Jacobi identity, was one of the earliest observations to be expressed properly in the language of Lie algebras" <- what in the name of god is that supposed to mean?
[19:03:53] <bollu_> Ms2ger: any idea how I go about reading it?
[19:03:57] <Ms2ger> Heh
[19:04:08] <Ms2ger> I'll need to follow a few links to understand that :)
[19:04:09] <bollu_> like, I know the indivisual words, but puit together as a whole it makes zero sense
[19:04:16] *** Quits: hjr3 (hradtke@moz-699EABC0.lsanca.fios.verizon.net) (Ping timeout)
[19:04:20] *** Quits: abaez (a__@moz-8D618AC3.nycmny.fios.verizon.net) (Client exited)
[19:04:36] <bollu_> so, it's a really specialized branch of topology?
[19:04:41] * Ms2ger kicks up Fx
[19:04:49] *** Joins: hjr3 (hradtke@moz-699EABC0.lsanca.fios.verizon.net)
[19:04:52] <FreeFull> bollu_: Do you know what poisson brackets and the jacobi identity are?
[19:05:34] <bollu_> FreeFull: I know about jacobian matrices. possion brackets is a nope
[19:06:09] *** Quits: isaacd (quassel@moz-6902374D.dhcp.oxfr.ma.charter.com) (Input/output error)
[19:07:39] *** Joins: papanikge (papanikge@moz-77DA0988.access.hol.gr)
[19:07:41] <TeXitoi> where can I find the doc of stdin().lines() ?
[19:07:45] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Client exited)
[19:08:15] *** Joins: IanCormac841 (User@7B004C66.64D641E5.67DFF8B4.IP)
[19:08:25] *** Joins: jackneill (jackneill@moz-ACA3B008.pool.digikabel.hu)
[19:08:26] <hoverbear> TeXitoi: http://static.rust-lang.org/doc/master/std/io/struct.BufferedReader.html#method.lines
[19:08:29] *** Quits: IanCormac84 (User@16AF40B0.64D641E5.67DFF8B4.IP) (Ping timeout)
[19:08:42] *** Quits: arturo (Thunderbir@moz-E83B14F0.superkabel.de) (Ping timeout)
[19:08:48] *** Quits: rileyw (rileyw@moz-E40BCEED.hsd1.ca.comcast.net) (Client exited)
[19:08:52] <TeXitoi> hoverbear: thanks
[19:09:08] *** Joins: rileyw (rileyw@moz-E40BCEED.hsd1.ca.comcast.net)
[19:09:30] <hoverbear> TeXitoi: stdin() gives a buffered reader, you can use all of those methods :)
[19:10:15] *** Quits: jensnockert (jensnocker@moz-EDDEAFC.tbcn.telia.com) (Input/output error)
[19:10:49] *** Joins: mawuli (mawuli@moz-A89BBCE.com.gh)
[19:11:23] *** Joins: jlong (jlong@moz-6DFDE846.socal.res.rr.com)
[19:11:39] *** Quits: kngl (Adium@750F45B6.10645CA4.9D2324B7.IP) (Quit: Leaving.)
[19:12:07] *** Joins: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net)
[19:12:24] <mrmonday> is there a way to do return type inference in Rust?
[19:13:01] <Ms2ger> No
[19:13:05] <Ms2ger> We don't want it :)
[19:13:17] <mrmonday> eg if I want to return foo.filter(...) it has a rather complicated return type which I don't really wanna type out
[19:13:21] <mrmonday> oh
[19:13:21] <mrmonday> ok :<
[19:13:53] <papanikge> why is it so hard to convert from str to int? I have a line like: "let n = match from_str::<int>(lines) {..." to make it work, what exactly is that ::<int> doing there?
[19:14:18] <eddyb> it's a type hint
[19:14:44] <eddyb> rusti: let x: int = from_str("-42").expect("pls gimmie int"); x
[19:14:49] -rusti- -42
[19:14:51] *** Joins: evanm (evanm@moz-4D6F9A00.hsd1.ca.comcast.net)
[19:14:53] <eddyb> that's what I'd do
[19:15:00] <eddyb> depends on how fail-proof you want to be
[19:15:02] <Ms2ger> papanikge, you need to tell it if you want an int, or a uint, or an i32, or...
[19:15:43] <papanikge> Ms2ger: and what do I use the module/generics syntax ?
[19:15:58] <Ms2ger> Come again?
[19:16:00] *** Joins: zztr (Thunderbir@moz-CA50D606.dsl.static.sonic.net)
[19:16:04] <eddyb> s/what/why
[19:16:30] *** Quits: mgottschlag (quassel@moz-E895F1A4.cust.bluewin.ch) (Ping timeout)
[19:16:32] <eddyb> the "module" syntax is called a "path". generic type params are part of a path
[19:16:42] <eddyb> you need the :: to disambiguate
[19:16:56] <eddyb> it's syntax for generics because from_str *is* generic
[19:17:21] <eddyb> it's something like fn from_str<T>(s: &str) -> T {FromStr::from_str(s)}
[19:17:21] <papanikge> yes, "why"
[19:17:29] <papanikge> I mean the  :: combined with  <> 
[19:17:54] <papanikge> eddyb: yes, but that does not have ::
[19:17:57] *** Joins: lawrence (lawrence@moz-1B53E2A.wireless.utoronto.ca)
[19:18:11] <Ms2ger> from_str < int... looks like a less-than
[19:18:28] <eddyb> papanikge: application is different than definition
[19:18:35] <Ms2ger> So to simplify the parser, you have to say "there's a type coming!"
[19:18:40] *** Quits: fabiand (fabiand@moz-C1C20959.hsd1.ma.comcast.net) (Ping timeout)
[19:18:42] <eddyb> not to simplify
[19:18:53] <Ms2ger> To complexify the parser? :)
[19:19:00] <eddyb> Rust has 3 namespaces so from_str < int is a valid expression
[19:19:17] <eddyb> rusti: let int = 0; from_str<int>("foo")
[19:19:21] -rusti- pastebinned 7 lines of output: http://sprunge.us/APXI
[19:20:33] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[19:21:18] *** Quits: yoshi (Mibbit@moz-3213C615.wavecable.com) (Quit: http://www.mibbit.com ajax IRC Client)
[19:22:10] *** Joins: mpiechotka (mpiechotka@moz-13C25BAC.adsl.inetia.pl)
[19:22:31] *** Quits: papanikge (papanikge@moz-77DA0988.access.hol.gr) (Ping timeout)
[19:23:44] <eddyb> rusti: let from_str = 0; let int = 1; from_str<int>("foo")
[19:23:48] -rusti- <anon>:10:53: 10:60 error: mismatched types: expected `bool` but found `&'static str` (expected bool but found &'static str)
[19:23:48] -rusti- <anon>:10         let from_str = 0; let int = 1; from_str<int>("foo")
[19:23:48] -rusti-                                                               ^~~~~~~
[19:23:48] -rusti- error: aborting due to previous error
[19:23:48] -rusti- application terminated with error code 101
[19:24:04] <eddyb> close enough
[19:24:05] *** Joins: dymk (dymk@C94BAFB1.AA444DA9.3FBA778E.IP)
[19:24:52] *** Quits: evanm (evanm@moz-4D6F9A00.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[19:26:32] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[19:28:16] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Client exited)
[19:28:55] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[19:29:29] *** Quits: mpiechotka (mpiechotka@moz-13C25BAC.adsl.inetia.pl) (Quit: mpiechotka)
[19:36:23] *** Quits: Rusky (russell@moz-173BA32C.slkc.qwest.net) (Ping timeout)
[19:36:32] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[19:38:17] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[19:38:18] *** Quits: lawrence (lawrence@moz-1B53E2A.wireless.utoronto.ca) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[19:38:21] *** Joins: Rusky (russell@moz-173BA32C.slkc.qwest.net)
[19:39:23] *** Quits: japaric1 (japaric@C9A6A67A.CBA91732.95AFB88D.IP) (Ping timeout)
[19:39:58] *** Joins: pongad (pongad@moz-7E8AAD2E.res.gatech.edu)
[19:40:07] *** Quits: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net) (Quit: killerswan)
[19:40:07] *** Joins: frogzilla (Mibbit@14310444.B9CCEC14.CC1A2609.IP)
[19:40:17] *** Joins: wirespeed (wirespeed@moz-6B368AB3.rev.sfr.net)
[19:41:18] *** Quits: sankha93 (sankha93@7061CD01.D6BD0D91.22D41759.IP) (Client exited)
[19:41:21] *** Quits: hjr3 (hradtke@moz-699EABC0.lsanca.fios.verizon.net) (Ping timeout)
[19:41:28] *** Joins: aatch_ (James@moz-B437F499.pocketrent.com)
[19:41:32] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[19:41:42] *** Quits: aatch (aatch@moz-2BB0AC01.cable.telstraclear.net) (NickServ (GHOST command used by aatch_))
[19:41:43] *** Joins: hjr3 (hradtke@moz-699EABC0.lsanca.fios.verizon.net)
[19:41:46] *** aatch_ is now known as aatch
[19:41:55] *** Quits: gwty (gwtypc@E863A5CB.A37514C7.8A00C703.IP) (Connection reset by peer)
[19:41:57] *** Joins: aatch_ (aatch@moz-2BB0AC01.cable.telstraclear.net)
[19:42:25] *** Joins: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP)
[19:43:16] *** Quits: kaeluka (kaeluka@moz-CBEF7664.cust.tele2.se) (Quit: kaeluka)
[19:43:16] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[19:43:31] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[19:45:23] *** Joins: jeaye (jeaye@moz-34FEF2BB.hsd1.ca.comcast.net)
[19:45:29] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[19:46:27] *** Joins: lawrence (lawrence@moz-1B53E2A.wireless.utoronto.ca)
[19:48:09] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[19:48:20] *** Quits: frogzilla (Mibbit@14310444.B9CCEC14.CC1A2609.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[19:48:27] *** Joins: jviereck (Adium@moz-CE18E7F8.dynamic.hispeed.ch)
[19:48:47] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[19:49:52] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[19:50:50] *** Quits: skade (skade@B0278B5A.505237C9.CAE22B62.IP) (Quit: Textual IRC Client: www.textualapp.com)
[19:50:54] *** Quits: jlong (jlong@moz-6DFDE846.socal.res.rr.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[19:50:56] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[19:51:56] *** Quits: hoverbear (hoverbear@16DC6CFF.EAF1E009.F743D60E.IP) (Quit: Taking a nap.)
[19:52:36] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[19:54:18] *** Joins: mpiechotka (mpiechotka@moz-13C25BAC.adsl.inetia.pl)
[19:55:10] *** Joins: mno2 (mno2@moz-3506EAC7.singnet.com.sg)
[19:56:53] *** Quits: mno2 (mno2@moz-3506EAC7.singnet.com.sg) (Ping timeout)
[19:57:31] *** Joins: bjustin (bjustin@moz-4B914826.hsd1.mn.comcast.net)
[19:57:40] *** Quits: lawrence (lawrence@moz-1B53E2A.wireless.utoronto.ca) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[19:57:48] *** Joins: kngl (Adium@40AE2BF6.ABCDAFD6.7C797F8E.IP)
[19:58:59] *** Quits: rustilite (rustilite@moz-61B073BC.cpe.net.cable.rogers.com) (Client exited)
[19:59:01] *** Quits: rusti (rusti@moz-61B073BC.cpe.net.cable.rogers.com) (Client exited)
[20:02:29] *** Joins: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net)
[20:03:55] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[20:04:17] *** Joins: dredozubov (dredozubov@EC6EC1F6.27163FAA.806C54C8.IP)
[20:04:50] *** Quits: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net) (Quit: killerswan)
[20:05:11] *** Joins: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[20:05:11] *** Quits: dredozubov (dredozubov@EC6EC1F6.27163FAA.806C54C8.IP) (Input/output error)
[20:05:16] *** Quits: eddyb (eddy@F8B50789.F33C1089.FB866788.IP) (Ping timeout)
[20:05:24] *** Quits: dranov (dranov@4A35FFE3.3B6BC09B.A5830293.IP) (Ping timeout)
[20:06:12] *** Quits: epdtry (stuart@moz-C1405FC7.hsd1.wa.comcast.net) (Connection reset by peer)
[20:06:25] *** Joins: epdtry (stuart@moz-C1405FC7.hsd1.wa.comcast.net)
[20:07:12] *** Quits: Ms2ger (Ms2ger@moz-D1296957.adsl-dyn.isp.belgacom.be) (Quit: nn)
[20:08:32] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Client exited)
[20:08:53] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[20:09:22] *** Quits: jviereck (Adium@moz-CE18E7F8.dynamic.hispeed.ch) (Ping timeout)
[20:09:29] *** Joins: jviereck (Adium@moz-CE18E7F8.dynamic.hispeed.ch)
[20:10:16] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Quit: csherratt)
[20:10:35] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[20:13:20] *** Joins: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP)
[20:13:51] *** Joins: evanm (evanm@moz-4D6F9A00.hsd1.ca.comcast.net)
[20:16:02] *** Joins: paupau (posttext@moz-377BE2CD.hsd1.ca.comcast.net)
[20:16:36] *** Quits: epdtry (stuart@moz-C1405FC7.hsd1.wa.comcast.net) (Connection reset by peer)
[20:17:07] *** Quits: evanm (evanm@moz-4D6F9A00.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[20:17:42] *** Joins: epdtry (stuart@moz-C1405FC7.hsd1.wa.comcast.net)
[20:17:43] *** Quits: ahunt (ahunt@moz-6D6D79D6.cable.virginm.net) (Ping timeout)
[20:19:45] *** Joins: fabiand (fabiand@moz-C1C20959.hsd1.ma.comcast.net)
[20:20:22] *** Joins: ChrisOei (ChrisOei@moz-30D80888.hsd1.ca.comcast.net)
[20:20:25] *** Quits: fabiand (fabiand@moz-C1C20959.hsd1.ma.comcast.net) (Quit: Verlassend)
[20:20:40] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[20:20:44] *** Joins: fabiand (fabiand@moz-C1C20959.hsd1.ma.comcast.net)
[20:21:12] *** Joins: cceckman_ (cceckman@moz-F9616E2B.itc.virginia.edu)
[20:21:15] *** Quits: cceckman_ (cceckman@moz-F9616E2B.itc.virginia.edu) (Client exited)
[20:21:42] *** Joins: cceckman_ (cceckman@moz-F9616E2B.itc.virginia.edu)
[20:21:45] *** Quits: cceckman_ (cceckman@moz-F9616E2B.itc.virginia.edu) (Quit: cceckman_)
[20:22:37] *** Quits: tgkokk (tgkokk@moz-313711E.home.otenet.gr) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[20:23:13] *** Joins: bkircher (bkircher@moz-4263DDB6.dip0.t-ipconnect.de)
[20:24:12] *** Joins: aochagavia (Mibbit@moz-C82E8769.static.ziggozakelijk.nl)
[20:24:23] <aochagavia> are there nightly builds of the compiler for Windows?
[20:24:25] *** Quits: mbx (mbebenita@moz-B45FE61C.hsd1.ca.comcast.net) (Quit: mbx)
[20:26:18] *** Quits: huon (Thunderbir@moz-826BD85A.lns20.syd6.internode.on.net) (Ping timeout)
[20:26:48] <aochagavia> hello?
[20:27:24] <rveach> don't think so, you have to build yourself
[20:27:35] <pczarn> eddyb: do you remember asm format?
[20:27:35] <SiegeLord> There's this: https://www.nuget.org/packages/Rust/
[20:27:37] <SiegeLord> Not quite nightly
[20:27:38] <rveach> unless someone is doing it "unofficaial"
[20:27:55] <aochagavia> and for Linux?
[20:27:59] <aochagavia> Ubuntu/Mint?
[20:28:15] <aatch> aochagavia, not as far as I know for debian systems
[20:28:39] <Earnestly> Arch has a dev who builds nightly rust's for his personal repo you can use
[20:29:20] <myname> help the arch world domination
[20:29:34] <aatch> strcat is a Trusted User for Arch, so the nightly builds he does are as close to official you can get, without actually having it in the official repos
[20:29:48] <aochagavia> okay, thanks. I am going with nuget
[20:29:55] <aatch> The nightly is actually built on Arch's build servers
[20:29:55] <SiegeLord> There's the package everybody uses for Rust-CI
[20:30:07] <SiegeLord> That's Ubuntu, iirc
[20:30:35] *** Quits: FrozenCow (FrozenCow@moz-E69F48E.dynamic.upc.nl) (Quit: Leaving)
[20:30:41] *** Joins: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net)
[20:30:45] <jdsanders> any reason num::Integer has div_floor but not div_ceil?
[20:31:05] <jdsanders> i guess ceil is always floor + 1
[20:32:04] *** Joins: arturo (Thunderbir@moz-E83B14F0.superkabel.de)
[20:32:09] <Florob> SiegeLord, aochagavia, Indeed there is https://launchpad.net/~hansjorg/+archive/rust (and probably some other PPAs)
[20:32:43] <aochagavia> ok, thanks!
[20:34:10] <aatch> jdsanders, because integer division is effectively div_floor?
[20:35:02] *** Quits: bkircher (bkircher@moz-4263DDB6.dip0.t-ipconnect.de) (Client exited)
[20:36:22] <rveach> jdsanders, that's true unless the division is already an integer: 4/2 + 1 = 3, which probably isn't what you want
[20:37:17] <jdsanders> aatch: hmmm, it's actually `div_floor` that *is* implemented separately
[20:37:20] <jdsanders> rveach: oh yeah...
[20:38:28] *** Quits: aochagavia (Mibbit@moz-C82E8769.static.ziggozakelijk.nl) (Quit: http://www.mibbit.com ajax IRC Client)
[20:38:44] <aatch> i guess its: x/y + if (x % y) == 0 { 0 } else { 1 }
[20:39:41] <aatch> which is somewhat wasteful, as there is a div_mod that gets you both at once, so you'd avoid doing two divisions.
[20:40:38] *** Joins: papanikge (papanikge@moz-77DA0988.access.hol.gr)
[20:41:16] <sfackler> aatch: I would guess that llvm would optimize that down to a single div
[20:41:32] <aatch> sfackler, maybe
[20:41:54] <tedh> are the std libraries compiled with debug info?
[20:41:58] *** Quits: bollu_ (bollu@31CCE710.7065DDB9.6D6A344F.IP) (Ping timeout)
[20:42:01] <aatch> tedh, not by default
[20:42:19] *** Quits: edwardw (edwardw@24D7341C.32602B75.B9C6B12A.IP) (Quit: Leaving...)
[20:42:42] <tedh> is there a config option?  I just want backtraces through the libs
[20:42:47] *** Joins: bollu_ (bollu@31CCE710.7065DDB9.6D6A344F.IP)
[20:43:09] *** Parts: bollu_ (bollu@31CCE710.7065DDB9.6D6A344F.IP) ()
[20:43:25] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[20:43:56] <papanikge> guys, I have an iterator of an open file, I take() some elements and after that I want to skip() some others but I get "use of moved value: iter ... maybe you want clone()" do I just add clone? 
[20:44:28] <aatch> tedh, `--enable-debug` should do it.
[20:44:37] <aatch> papanikge, code?
[20:44:46] <tedh> thanks
[20:45:06] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[20:45:54] *** Quits: wirespeed (wirespeed@moz-6B368AB3.rev.sfr.net) (Quit: Leaving.)
[20:47:00] <papanikge> aatch: looks like this: http://sprunge.us/JDNT w/o the second iter usage it works
[20:48:40] <doomlord__> rust strings aren't allowed 0 in them i guess
[20:48:46] <doomlord__> (i'm seeing assertiions)
[20:49:14] <aatch> doomlord__, they should be ok with it, unless they're being converted to ASCII
[20:49:58] <doomlord__> its not something i needed, i just found that on throwing some strings at gl (can't remember which function threw that up... to_c_string or something)
[20:50:14] <aatch> doomlord__, yep, that'll do it.
[20:50:25] <aatch> since C strings have to be null-terminated
[20:50:34] <Luqman> tedh: aatch just --enable-debug won't actually build with debug info. `RUSTFLAGS="-g" make` will work though
[20:50:53] <doomlord__> i was throwing shader source at gl ... going through some rust functions to convert the strings.. that works now
[20:50:54] *** Joins: PumpMagic (PumpMagic@BC54E65C.D93930C9.36634901.IP)
[20:50:59] <aatch> papanikge, take() moves the iterator, cloning it won't work either.
[20:51:13] <papanikge> yeah, I got that
[20:51:21] <papanikge> any ideas?
[20:51:23] <aatch> Just iterate for the number you want
[20:51:26] *** Quits: mpiechotka (mpiechotka@moz-13C25BAC.adsl.inetia.pl) (Quit: mpiechotka)
[20:51:45] <papanikge> with .next() ?
[20:51:47] <aatch> if i == n { break; }
[20:53:59] <tedh> thanks Luqman, trying that now
[20:54:26] <aatch> Luqman, curses.
[20:54:54] *** Joins: brehaut (andrew@6D85C12E.2F6BE07D.613E47D1.IP)
[20:55:43] *** Joins: mno2 (mno2@moz-3506EAC7.singnet.com.sg)
[20:57:24] *** Quits: mno2 (mno2@moz-3506EAC7.singnet.com.sg) (Ping timeout)
[20:57:37] <papanikge> thanks will try it
[20:58:02] *** Joins: kvanb (kvanb@moz-A6BC97AA.lnse4.win.bigpond.net.au)
[20:58:04] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[21:00:27] *** Joins: DanC (connolly@moz-4039CBE6.dyn.everestkc.net)
[21:02:25] *** Joins: valentin (Thunderbir@CAB03F2E.7F69ED53.FAF22AF7.IP)
[21:02:32] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[21:03:13] *** Quits: jackneill (jackneill@moz-ACA3B008.pool.digikabel.hu) (Input/output error)
[21:03:36] *** Quits: robn (robn@moz-76B0302C.static.internode.on.net) (Ping timeout)
[21:04:12] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[21:04:34] *** Joins: robn (robn@moz-76B0302C.static.internode.on.net)
[21:06:28] *** Parts: kvanb (kvanb@moz-A6BC97AA.lnse4.win.bigpond.net.au) ()
[21:07:24] *** Quits: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP) (Quit: colinsurprenant)
[21:07:47] *** Quits: valentin (Thunderbir@CAB03F2E.7F69ED53.FAF22AF7.IP) (Ping timeout)
[21:08:27] *** Joins: valentin (Thunderbir@CAB03F2E.7F69ED53.FAF22AF7.IP)
[21:08:29] <papanikge> is there a way to start iterating from the end?
[21:10:17] *** Quits: cremes (cremes@moz-72B945E0.hsd1.il.comcast.net) (Quit: cremes)
[21:11:01] *** Quits: zv (zv@moz-955F83E9.hsd1.ca.comcast.net) (Ping timeout)
[21:11:36] *** Joins: wirespeed (wirespeed@moz-6B368AB3.rev.sfr.net)
[21:11:58] <paupau> papanikge: http://static.rust-lang.org/doc/master/std/index.html?search=rev
[21:12:23] <paupau> (I don't know which iterator you actually want though, sorry)
[21:12:56] <papanikge> thanks
[21:13:41] *** Joins: strcat (strcat@moz-61B073BC.cpe.net.cable.rogers.com)
[21:15:29] *** Joins: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net)
[21:15:55] *** Joins: saml (saml@moz-AFAADF83.nycmny.east.verizon.net)
[21:17:51] *** jorendorff_away is now known as jorendorff
[21:18:13] <papanikge> paupau: wait, these are the methods, how do I create one from an existing iterator? (LineIterator)
[21:19:15] *** Quits: hjr3 (hradtke@moz-699EABC0.lsanca.fios.verizon.net) (Connection reset by peer)
[21:19:29] <paupau> papanikge: not exactly sure; if LineIterator is a DoubleEndedIterator then it's trivial
[21:19:34] *** Joins: hjr3 (hradtke@moz-699EABC0.lsanca.fios.verizon.net)
[21:19:58] <paupau> then you could just call .rev() I think
[21:20:13] *** Quits: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu) (Client exited)
[21:20:20] <paupau> otherwise you probably have to .collect() it into an array
[21:20:25] <papanikge> it isn't
[21:20:30] *** Joins: mib_cpvuck (Mibbit@moz-DA794587.desm.qwest.net)
[21:20:32] <papanikge> uh
[21:20:33] *** Joins: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu)
[21:21:19] *** Joins: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net)
[21:21:27] *** Quits: valentin (Thunderbir@CAB03F2E.7F69ED53.FAF22AF7.IP) (Ping timeout)
[21:21:28] <sfackler> papanikge: foo.iter().rev() will get you an iterator that goes backwards
[21:21:30] *** Joins: valentin (Thunderbir@CAB03F2E.7F69ED53.FAF22AF7.IP)
[21:22:05] *** Quits: wirespeed (wirespeed@moz-6B368AB3.rev.sfr.net) (Quit: Leaving.)
[21:22:20] <aatch> you can't trivially reverse a LineIterator because it doesn't know how many lines there might be
[21:22:27] *** Quits: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu) (Ping timeout)
[21:23:10] <papanikge> yes, that's what I see. but why? isn't there a way to see how many lines are there in the file?
[21:23:27] <paupau> not until you've read the whole file
[21:23:52] <papanikge> and how do I do that?
[21:24:15] <paupau> probably foo.iter().collect().rev() I think
[21:24:15] <papanikge> maybe a plain reader and not a bufferedreader... ? :P
[21:25:10] <aatch> you need to read the entire file into memory in order to know how many lines there are
[21:25:45] <aatch> so something like `let lines : ~[~str] = file.lines().collect()` will give you a vector of the lines.
[21:26:24] *** Joins: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu)
[21:26:47] *** Quits: nano (nano@moz-ED77243C.superkabel.de) (Connection reset by peer)
[21:27:01] <paupau> (distracting tangent: it's technically possible to read in the file backwards with random access, or mmap it, then manually iterate backwards looking for newlines, but this would be a lot of work, and only worth it if your file is enormous)
[21:27:22] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[21:28:30] <papanikge> that would require system calls and stuff though.. wouldn't it?
[21:28:56] <paupau> Oh! This reminds me. Should I wrap file streams in BufferedStreams for performance, or is that already done by File for me?
[21:29:41] <sfackler> paupau: you'll want to wrap it yourself IIRC
[21:29:44] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[21:30:02] <paupau> sfackler: okay, thanks
[21:30:14] <paupau> I wonder how hard it is to bench this kind of thing...
[21:30:34] *** Quits: iopq (Instantbir@moz-8CB45329.hsd1.ca.comcast.net) (Ping timeout)
[21:30:34] <paupau> papanikge: well, if you have a file implementing Seek you can easily seek around
[21:30:37] <sfackler> unless you're already reading in large blocks, in which case it won't provide a huge benefit
[21:30:52] *** Joins: zv (zv@moz-CF5B1159.lightspeed.sntcca.sbcglobal.net)
[21:31:23] <paupau> papanikge: but I think it would be a huge pain with lots of corner cases to do, whereas .lines().collect().rev() is trivial
[21:32:03] *** Joins: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP)
[21:32:44] <papanikge> got it. thanks
[21:33:32] <mcpherrin> paupau: oh hi
[21:33:37] <paupau> mcpherrin: hey sup
[21:33:49] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[21:34:00] <pczarn> which is better: assert!(v.is_none()) vs assert_eq!(None, v)
[21:34:04] <PumpMagic> anyone have a clue why my rust compiler might ignore #[feature] attributes?
[21:34:17] <pczarn> in tests
[21:34:23] <sfackler> PumpMagic: #[feature] has to be applied to the crate root
[21:34:27] <o11c> PumpMagic: not at top of crate?
[21:34:35] <Havvy> PumpMagic:  Also needs to end with a semicolon.
[21:34:38] <o11c> rustc has a lot of "silently ignore" problems
[21:35:04] <Havvy> pczarn:  I'd argue it's stylistic at that point.
[21:35:16] <paupau> pczarn: assert_eq will give you a slightly more informative error message I guess, if the contents of the Some(_) helps figure out why the test broke?
[21:35:26] <PumpMagic> Havvy: the refman suggests there's different behavior with and without a semicolon
[21:35:41] <PumpMagic> crate root is just my main-defining file, right?
[21:35:49] <sfackler> yep
[21:36:08] <sfackler> a semicolon makes it apply to the enclosing scope, where no semicolon makes it apply to the next item
[21:36:12] <pczarn> paupau: I think so
[21:36:14] <sfackler> (which is changing soon because it's awful)
[21:36:28] <PumpMagic> lol i'm glad someone said it
[21:36:28] *** Quits: epdtry (stuart@moz-C1405FC7.hsd1.wa.comcast.net) (Connection reset by peer)
[21:36:34] <sfackler> yep
[21:36:53] *** Joins: epdtry (stuart@moz-C1405FC7.hsd1.wa.comcast.net)
[21:37:05] *** Joins: kaeluka (kaeluka@moz-CBEF7664.cust.tele2.se)
[21:37:49] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[21:39:31] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[21:40:31] <PumpMagic> rusti: #[feature(globs)]; use std::libc::*; fn main() {}
[21:40:43] <PumpMagic> where'd rusti go?
[21:40:51] <sfackler> strcat's laptop must have gone to sleep :P
[21:40:55] *** Quits: morganb (morgan_b_@moz-5EAC75A2.hfc.comcastbusiness.net) (Ping timeout)
[21:41:03] <myname> main inside of main doesn't sound that great, either
[21:41:09] <PumpMagic> poo
[21:41:11] *** Joins: rusti (rusti@moz-61B073BC.cpe.net.cable.rogers.com)
[21:41:18] *** Joins: rustilite (rustilite@moz-61B073BC.cpe.net.cable.rogers.com)
[21:41:22] <sfackler> but rusti wraps the stuff you give it in fn main() { let foo = <STUFF>; println("{:?}", foo); }
[21:41:34] <sfackler> there's rustilite that doesn't wrap though
[21:41:38] <strcat> rusti: main()
[21:41:43] -rusti- task '<main>' has overflowed its stack
[21:41:43] -rusti- application terminated abnormally with signal 4 (Illegal instruction)
[21:41:49] <PumpMagic> strcat: thank you :)
[21:41:56] *** Joins: evanm (evanm@moz-4D6F9A00.hsd1.ca.comcast.net)
[21:42:03] <PumpMagic> rustilite: #[feature(globs)]; use std::libc::*; fn main() {}
[21:42:03] -rustilite- <anon>:1:24: 1:37 warning: unused import, #[warn(unused_imports)] on by default
[21:42:03] -rustilite- <anon>:1 #[feature(globs)]; use std::libc::*; fn main() {}
[21:42:04] -rustilite-                                 ^~~~~~~~~~~~~
[21:42:14] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[21:42:19] <PumpMagic> rustilite: use std::libc::*; fn main() {}
[21:42:21] -rustilite- pastebinned 8 lines of output: http://ix.io/b0O
[21:43:43] <PumpMagic> ahhh okay, it was the missing semicolon.
[21:44:00] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[21:44:19] <quux00> I'm working with the Rust (0.10) JSON Decoder and it fails if a field is missing: https://gist.github.com/quux00/9455157
[21:44:35] <quux00> Is there a way to allow optional fields and have the decode work?
[21:45:38] <PumpMagic> ahhh okay, it was the missing semicolon.
[21:45:48] <PumpMagic> ^sorry, up-enter in wrong window
[21:48:01] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[21:48:02] <cmr> quux00: not with Decodable.
[21:48:13] <cmr> quux00: Encodable/Decodable are for precise serialization.
[21:48:22] *** Joins: jmmk (jmmk@moz-588F65EA.c3-0.smr-ubr1.sbo-smr.ma.cable.rcn.com)
[21:48:23] <cmr> quux00: though it could be smarter for Option fields.
[21:48:41] <quux00> well, Protocol buffers are for serialization and they allow optional fields
[21:49:00] <cmr> I said precise.
[21:49:00] *** Quits: valentin (Thunderbir@CAB03F2E.7F69ED53.FAF22AF7.IP) (Ping timeout)
[21:49:02] <paupau> I think you could wrap serialize::json with your own impl of Decoder that does .read_option differently.
[21:49:04] *** Joins: valentin (Thunderbir@CAB03F2E.7F69ED53.FAF22AF7.IP)
[21:49:11] <cmr> I agree it's possible.
[21:49:14] <paupau> would be an ugly impl
[21:49:21] <cmr> And it could (and probably should) handle it for Option
[21:49:52] <jmmk> Is there a way I can have a HashMap use two different types as keys? And related - What's the best way to emulate inheritance? Of the two struct types that I want to use as keys, one "inherits" from the other
[21:50:06] <quux00> cmr: That would definitely be nice.  
[21:50:23] <cmr> quux00: open an issue / submit a pull request? :)
[21:50:34] <quux00> cmr: will do - thanks
[21:50:39] *** Quits: papanikge (papanikge@moz-77DA0988.access.hol.gr) (Quit: WeeChat 0.4.3)
[21:51:02] <cmr> jmmk: You can't have to different types as keys, but you can use a single type that can store multiple types: a trait object.
[21:51:09] <cmr> jmmk: then both of the structs implement the same trait.
[21:51:23] <cmr> jmmk: of course, then you need accessors for every field you want to use, which is a pain.
[21:51:33] *** Quits: zv (zv@moz-CF5B1159.lightspeed.sntcca.sbcglobal.net) (Ping timeout)
[21:52:07] <hoverbear> Anyone know what's going on here when I do a `make && make install`? https://gist.github.com/Hoverbear/b19703a2696da52d38e0
[21:53:13] <jmmk> cmr: so it would look like HashMap<MyTrait, v> and both structs impl MyTrait?
[21:53:17] <cmr> hoverbear: crate hashes changed, so it's warning you that you now have two adjacent copies.
[21:53:31] <cmr> jmmk: almost. it'd be HashMap<~MyTrait, V>
[21:53:31] <hoverbear> cmr: How can I clean it out?
[21:53:36] *** Quits: valentin (Thunderbir@CAB03F2E.7F69ED53.FAF22AF7.IP) (Ping timeout)
[21:53:36] <cmr> hoverbear: 'rm'
[21:53:40] *** Joins: valentin (Thunderbir@CAB03F2E.7F69ED53.FAF22AF7.IP)
[21:53:42] <cmr> hoverbear: make uninstall might also work.
[21:53:44] <hoverbear> cmr: Okay.
[21:53:46] <hoverbear> Thanks.
[21:54:10] <cmr> jmmk: bare traits don't exist as types, because they'd be unsized (any type can implement the trait).
[21:54:37] <cmr> jmmk: so you need to put it behind a pointer. That leaves you with ~Trait and &Trait. The first is much much easier, because then your hashmap can outlive the keys.
[21:54:41] <cmr> (which is pretty useful)
[21:54:53] <cmr> or, rather, your hashmap doesn't need to borrow the keys, because you're giving it to them.
[21:55:21] *** Quits: valentin (Thunderbir@CAB03F2E.7F69ED53.FAF22AF7.IP) (Ping timeout)
[21:55:24] *** Joins: valentin (Thunderbir@CAB03F2E.7F69ED53.FAF22AF7.IP)
[21:55:47] <jmmk> cmr: what did you mean by then I need accessors for every field?
[21:56:10] <eibwen> I tried debugging rustc
[21:56:11] *** Joins: mno2 (mno2@moz-3506EAC7.singnet.com.sg)
[21:56:37] <eibwen> but when the task fails
[21:56:42] <eibwen> it says
[21:56:53] <eibwen> Inferior 1 (process ...) exited with code 0145
[21:57:05] <eibwen> so for some reason, gdb doesn't keep the process
[21:57:18] <cmr> eibwen: you need to break on rust_fail
[21:57:37] <cmr> jmmk: you need a method on the trait for every field, that just returns the value of the underlying struct.
[21:57:42] <cmr> jmmk: (or a reference to it)
[21:57:53] *** Quits: mno2 (mno2@moz-3506EAC7.singnet.com.sg) (Ping timeout)
[21:57:54] <eibwen> Why?
[21:58:00] <eibwen> and it gives me
[21:58:05] *** Quits: strcat (strcat@moz-61B073BC.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.3)
[21:58:10] *** Quits: rustilite (rustilite@moz-61B073BC.cpe.net.cable.rogers.com) (Client exited)
[21:58:11] *** Quits: rusti (rusti@moz-61B073BC.cpe.net.cable.rogers.com) (Client exited)
[21:58:17] <cmr> eibwen: because otherwise task failure is going to exit the process, and it won't keep it around :P
[21:58:17] <eibwen> Make breakpoint pending on future shared library load? (y or [n])
[21:58:18] *** Quits: zmike (discomfito@moz-975BC507.hsd1.ct.comcast.net) (Quit: ah. I see.)
[21:58:30] <cmr> say yes
[21:58:54] <eibwen> ok, it shows the same behavior as before
[21:59:00] <cmr> rust version?
[21:59:07] <cmr> did you type it right?
[21:59:19] <eibwen> break rust_fail
[21:59:41] <eibwen> what I did was to adapt the arch linux pkgbuild so I get a debug build of the rustc
[21:59:57] *** Quits: bvssvni (Mibbit@moz-C4579D6F.bb.online.no) (Quit: http://www.mibbit.com ajax IRC Client)
[21:59:59] <eibwen> RUSTFLAGS=-g
[22:00:05] <cmr> hm
[22:00:16] <paupau> actually, json::serialize as it exists looks imprecise to me... Some(None) and None are both JSONified as null for Option<Option<T>>
[22:00:26] <eibwen> (that means I should have the newest master)
[22:00:43] <cmr> paupau: bug.
[22:00:57] <paupau> I have not actually tried this though, as I am still compiling master
[22:01:07] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[22:01:12] *** Joins: zmike (discomfito@moz-975BC507.hsd1.ct.comcast.net)
[22:01:31] *** Quits: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP) (Ping timeout)
[22:01:39] *** Quits: Earnestly (earnest@72898B6.37CE9E9E.FB6F0902.IP) (Quit: WeeChat 0.4.4-dev)
[22:02:14] *** Joins: morganb (morgan_b_@moz-5EAC75A2.hfc.comcastbusiness.net)
[22:02:26] *** Joins: dylukes (dylukes@moz-ED57011A.oakland.resnet.pitt.edu)
[22:02:32] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[22:02:37] <cmr> eibwen: weird, not sure why it's not breaking.
[22:02:59] <cmr> nothing should have changed with rust_fail, looking at the git log...
[22:03:17] *** Quits: valentin (Thunderbir@CAB03F2E.7F69ED53.FAF22AF7.IP) (Ping timeout)
[22:03:23] *** Joins: valentin (Thunderbir@CAB03F2E.7F69ED53.FAF22AF7.IP)
[22:03:50] <jmmk> cmr: oops, just realized I want values not keys. Would they work the same way?
[22:04:13] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[22:04:40] <cmr> jmmk: yep.
[22:05:39] *** Joins: rook (rook@moz-97AF7010.hsd1.mn.comcast.net)
[22:05:46] <eibwen> cmr: do you know a way to check whether I actually got my rustc with debugging info?
[22:08:26] <cmr> eibwen: `file` might say, otherwise check objdump or readelf for debuginfo sections.
[22:08:29] *** Quits: brson (brson@6A848D32.C1B840DD.76F66111.IP) (Ping timeout)
[22:08:48] *** Quits: valentin (Thunderbir@CAB03F2E.7F69ED53.FAF22AF7.IP) (Ping timeout)
[22:08:56] *** Joins: valentin (Thunderbir@CAB03F2E.7F69ED53.FAF22AF7.IP)
[22:09:23] *** Joins: zv (zv@moz-955F83E9.hsd1.ca.comcast.net)
[22:09:45] *** Joins: japaric (japaric@ED0876AA.5160B97E.BFC118EE.IP)
[22:10:00] *** Joins: iopq (Instantbir@moz-8CB45329.hsd1.ca.comcast.net)
[22:11:41] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Client exited)
[22:12:00] *** Quits: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP) (Quit: colinsurprenant)
[22:12:02] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[22:12:32] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Quit: Leaving...)
[22:14:55] *** Joins: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP)
[22:17:09] <eibwen> cmr: it looks like it's my fault :(
[22:17:34] <eibwen> the arch linux package creator strips all executables by default
[22:17:46] <cmr> yeah you need options=(debug, !strip)
[22:17:51] <pongad> Is there a way for us to assign an issue to ourselves? I keep losing track of the issues I'm working on :(
[22:17:52] <cmr> no comma though :P
[22:17:53] *** Joins: cremes (cremes@moz-72B945E0.hsd1.il.comcast.net)
[22:17:58] <cmr> pongad: no.
[22:18:02] <eibwen> I used !strip, it worked
[22:18:05] <eibwen> what's debug?
[22:18:14] <pongad> cmr: :(
[22:18:16] <cmr> eibwen: ah, strips debuginfo into a separate -dbg ackage.
[22:18:32] <cmr> pongad: unfortunately github issues can only be assigned to repo collaborators.
[22:18:58] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[22:21:12] *** Quits: valentin (Thunderbir@CAB03F2E.7F69ED53.FAF22AF7.IP) (Ping timeout)
[22:21:15] *** Joins: valentin (Thunderbir@CAB03F2E.7F69ED53.FAF22AF7.IP)
[22:21:42] *** Quits: spider-mario (spidermari@moz-2F72F6FF.dsl.quantic-telecom.net) (Connection reset by peer)
[22:22:54] <YourBestFriend> when is rust 1.0 coming out?
[22:22:55] *** Quits: valentin (Thunderbir@CAB03F2E.7F69ED53.FAF22AF7.IP) (Ping timeout)
[22:22:59] *** Joins: pepper_chico (pepper_chi@moz-E15D42C8.dsl.telesp.net.br)
[22:23:00] *** Joins: valentin (Thunderbir@CAB03F2E.7F69ED53.FAF22AF7.IP)
[22:23:15] <aatch> YourBestFriend, unknown
[22:23:53] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Connection reset by peer)
[22:24:11] <aatch> Technically, when all planned backwards-incompatible changes have been made
[22:24:31] <YourBestFriend> aaaaww come on, give me some estimate
[22:24:34] <YourBestFriend> yo
[22:24:45] <mcpherrin> YourBestFriend: Within the year, but not within the quarter
[22:24:45] <cmr> planned before end of the year.
[22:24:58] <YourBestFriend> cool
[22:25:07] *** Quits: saml (saml@moz-AFAADF83.nycmny.east.verizon.net) (Ping timeout)
[22:25:09] <YourBestFriend> during forth quarter? third?
[22:25:28] <YourBestFriend> fourth*
[22:25:31] <Havvy> Too hard to forecast which quarter at this point.
[22:25:38] * aatch is skeptical of that release estimate
[22:26:05] *** Joins: frogzilla (Mibbit@14310444.B9CCEC14.CC1A2609.IP)
[22:26:13] <Havvy> YourBestFriend:  Too early of a 1.0 release will be disasterous.
[22:26:56] * cmr isn't
[22:27:37] *** Quits: valentin (Thunderbir@CAB03F2E.7F69ED53.FAF22AF7.IP) (Ping timeout)
[22:27:39] <YourBestFriend> I wish I could help
[22:27:50] *** Joins: valentin (Thunderbir@CAB03F2E.7F69ED53.FAF22AF7.IP)
[22:27:53] *** Quits: kris (kris@moz-47812C15.static.bcbnet.dk) (Ping timeout)
[22:28:13] *** Joins: HollyRain (HollyRain@moz-3B87E6F8.dyn.user.ono.com)
[22:29:31] *** Quits: valentin (Thunderbir@CAB03F2E.7F69ED53.FAF22AF7.IP) (Ping timeout)
[22:29:44] <aatch> cmr, I'm mostly skeptical because DST is pre-1.0 and we only just got something resembling a concrete design.
[22:30:11] *** Joins: valentin (Thunderbir@CAB03F2E.7F69ED53.FAF22AF7.IP)
[22:30:23] <Havvy> YourBestFriend:  You could scour the code for missing #[test]s. :P (I am technically a contributor because I spotted just that.)
[22:30:28] *** Quits: cremes (cremes@moz-72B945E0.hsd1.il.comcast.net) (Ping timeout)
[22:31:54] *** jorendorff is now known as jorendorff_away
[22:32:13] *** Joins: cremes (cremes@moz-72B945E0.hsd1.il.comcast.net)
[22:32:13] *** Joins: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP)
[22:32:15] <eibwen> :)
[22:32:31] *** Quits: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP) (Connection reset by peer)
[22:32:41] *** Quits: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net) (Input/output error)
[22:33:11] *** Joins: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net)
[22:34:10] *** Joins: fournm (Aria@moz-ABB60BA0.austin.res.rr.com)
[22:34:54] *** Quits: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net) (Ping timeout)
[22:35:18] *** Quits: HollyRain (HollyRain@moz-3B87E6F8.dyn.user.ono.com) (Quit: bye, bye)
[22:35:25] *** Joins: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP)
[22:35:41] *** Joins: alisdair (textual@moz-B1BE70D2.hsd1.co.comcast.net)
[22:35:55] *** Quits: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP) (Connection reset by peer)
[22:36:08] *** Quits: twi (Adium@moz-D690EC9A.cust.vodafonedsl.it) (Quit: Leaving.)
[22:36:20] <cmr> aatch: DST was incorporated into the formal model like a month ago
[22:36:42] <aatch> cmr, that's not that long ago. I count that as "just"
[22:36:50] <aatch> given how long it's been talked about.
[22:36:51] *** Joins: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP)
[22:37:04] *** Quits: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP) (Connection reset by peer)
[22:37:15] <cmr> there was DST discussions in some of the oldest meeting notes :P
[22:37:22] *** Quits: frogzilla (Mibbit@14310444.B9CCEC14.CC1A2609.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[22:37:51] <eibwen> is there a This Week in Rust coming this week?
[22:38:11] *** Quits: alexherbo2 (alexherbo2@moz-A456CD9C.w83-199.abo.wanadoo.fr) (Quit: WeeChat 0.4.3-dev)
[22:38:22] <cmr> yes, later.
[22:38:29] <cmr> studying for exams.
[22:38:31] <jmmk> I have a module A which defines a trait A, impl trait A for struct A. module B with struct B, impl A::trait A for struct B. module C imports both of these, but fails to find an implementation of C::A::trait A for struct B.
[22:38:36] *** Quits: paupau (posttext@moz-377BE2CD.hsd1.ca.comcast.net) (Quit: out)
[22:38:55] <jmmk> Why does it namespace the trait starting with itself, instead of where it originates
[22:39:00] <cmr> jmmk: are you using `use` or `mod` to "import"?
[22:39:04] <jmmk> mod
[22:39:09] <cmr> you're doing it wrong.
[22:39:21] <cmr> read http://static.rust-lang.org/doc/master/tutorial.html#crates-and-the-module-system
[22:39:35] <cmr> in short: you only want one `mod a;` in your entire crate, and you `use a;` everywhere else.
[22:39:44] *** Joins: sunfish (chatzilla@moz-42DA0C69.dsl.dynamic.sonic.net)
[22:40:18] <jmmk> So all external creates and all 'mod' should go in my crate entry file (main.rs in my case)?
[22:40:21] <jmmk> *external crate
[22:40:32] <cmr> in general, yes.
[22:41:17] <aatch> cmr, exactly. I'm more saying that it's clearly a complex feature and given that both pcwalton and nmatsakis have significant non-Rust responsibilities, 10 months doesn't seem like very long.
[22:41:43] * Havvy wishes there was a `mod *;`.
[22:42:50] * Havvy writes a proposal of how it works.
[22:43:26] *** Quits: Ferreus (ferreus@moz-B88AC371.lsn.wtnet.de) (Quit: WeeChat 0.4.4-dev)
[22:43:55] *** Quits: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP) (Quit: colinsurprenant)
[22:45:59] *** Quits: rveach (kvirc@moz-E5095E39.hsd1.ca.comcast.net) (Ping timeout)
[22:46:44] <Havvy> Actually, nvmd.
[22:46:57] *** Quits: nkoep (nik@moz-D7A0935D.pool.mediaways.net) (Quit: Leaving)
[22:47:10] *** Quits: TeXitoi (texitoi@moz-9CE70EEE.fbx.proxad.net) (Quit: leaving)
[22:47:51] *** Quits: matp (matp@moz-16FE1E05.matp.at) (Ping timeout)
[22:48:20] *** Joins: hjr3_ (hradtke@moz-699EABC0.lsanca.fios.verizon.net)
[22:48:21] *** Quits: hjr3 (hradtke@moz-699EABC0.lsanca.fios.verizon.net) (Ping timeout)
[22:49:20] *** Joins: matp (matp@moz-16FE1E05.matp.at)
[22:50:11] *** Joins: alexherbo2 (alexherbo2@moz-A456CD9C.w83-199.abo.wanadoo.fr)
[22:52:03] *** Joins: zmthy (zmthy@moz-C2881CC3.ecs.vuw.ac.nz)
[22:52:23] *** Quits: dredozub_ (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Input/output error)
[22:52:31] *** Quits: valentin (Thunderbir@CAB03F2E.7F69ED53.FAF22AF7.IP) (Ping timeout)
[22:52:35] *** Joins: valentin (Thunderbir@CAB03F2E.7F69ED53.FAF22AF7.IP)
[22:53:02] *** Quits: pczarn (pczarn@moz-69A55FA.izacom.pl) (Input/output error)
[22:53:36] *** Quits: gimpf (gimpf@moz-529430CF.adsl.highway.telekom.at) (Quit: Leaving.)
[22:54:32] *** Quits: nical (nico@moz-4754F405.fbx.proxad.net) (Client exited)
[22:56:44] *** Joins: mno2 (mno2@moz-3506EAC7.singnet.com.sg)
[22:57:00] <PumpMagic> the rust ffi guide appears out of date - is anyone familiar with using the crate_id attribute to link to a dynamic library?
[22:57:03] *** Joins: japaric1 (japaric@8068DEC.4F37C8B4.BFC118EE.IP)
[22:57:31] *** Quits: japaric (japaric@ED0876AA.5160B97E.BFC118EE.IP) (Connection reset by peer)
[22:57:44] *** Quits: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[22:58:09] <sfackler> PumpMagic: crate_id isn't used to link to a library
[22:58:17] <sfackler> here's an example: https://github.com/sfackler/rust-openssl/blob/master/ssl/ffi.rs#L103
[22:58:26] *** Quits: mno2 (mno2@moz-3506EAC7.singnet.com.sg) (Ping timeout)
[22:58:37] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[22:58:42] <PumpMagic> rustilite: #[link(name = "vJoyInterface")]; fn main() {}
[22:58:43] *** Quits: kngl (Adium@40AE2BF6.ABCDAFD6.7C797F8E.IP) (Quit: Leaving.)
[22:58:48] *** Joins: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP)
[22:58:49] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[22:58:52] <cmr> the name is the name of the library.
[22:58:54] *** Joins: HollyRain (HollyRain@moz-3B87E6F8.dyn.user.ono.com)
[22:59:02] <PumpMagic> blah.. well, my rustc is saying link has been superceded by crate_id
[22:59:09] <cmr> it has been.
[22:59:11] <cmr> you have a semicolon.
[22:59:22] <cmr> which means it applies to the containing item.
[22:59:24] <cmr> not the following item.
[22:59:31] <cmr> also link attributes only go on extern blocks.
[22:59:43] <cmr> so you want #[link(name = "vJoyInterface")] extern { }
[22:59:56] <cmr> (assuming you have a libvJoyInterface.so)
[22:59:58] *** Joins: libergeekingkid (quassel@F77136E4.80CB47F2.E532ECA5.IP)
[23:00:07] <PumpMagic> perfect. thank you sfackler, thank you cmr
[23:00:18] *** Quits: mawuli (mawuli@moz-A89BBCE.com.gh) (Ping timeout)
[23:00:24] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Quit: )
[23:00:48] <kimundi> jmmk: All your 'mod' _can_ go in the crate root, but can also be in submodules. Its just important that each one declares a new module in a tree of modules, so every mod for a module may only appear once.
[23:00:51] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[23:01:06] <PumpMagic> sfackler: thanks for binding openssl, btw :)
[23:01:47] *** Joins: alkino (alkino@moz-58B8E4B4.w92-151.abo.wanadoo.fr)
[23:03:08] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[23:03:57] *** Quits: valentin (Thunderbir@CAB03F2E.7F69ED53.FAF22AF7.IP) (Ping timeout)
[23:04:10] <sfackler> np :)
[23:04:43] *** Joins: valentin (Thunderbir@CAB03F2E.7F69ED53.FAF22AF7.IP)
[23:04:50] *** jorendorff_away is now known as jorendorff
[23:06:07] <sfackler> i only wrote the ssl side fwiw
[23:06:11] *** Quits: IanCormac841 (User@7B004C66.64D641E5.67DFF8B4.IP) (Ping timeout)
[23:06:12] <Zylinski> Has anyone tried implementing some kind of event system like observer in rust? I'm having a hard time seeing how I will be able to set up event handlers without having to rc/gc every object which I want to wrap inside the handler.
[23:06:51] <Zylinski> Maybe I should take a look at something else than observer-ish for my needs, unsure where to start though :)
[23:07:16] *** Joins: IanCormac84 (User@BF330DFD.2A8D8854.67DFF8B4.IP)
[23:07:42] *** Joins: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net)
[23:09:00] *** Quits: fabiand (fabiand@moz-C1C20959.hsd1.ma.comcast.net) (Quit: Verlassend)
[23:10:04] *** Joins: kngl (Adium@40AE2BF6.ABCDAFD6.7C797F8E.IP)
[23:10:54] *** Quits: kngl (Adium@40AE2BF6.ABCDAFD6.7C797F8E.IP) (Quit: Leaving.)
[23:12:08] *** Quits: valentin (Thunderbir@CAB03F2E.7F69ED53.FAF22AF7.IP) (Ping timeout)
[23:12:16] *** Joins: valentin (Thunderbir@CAB03F2E.7F69ED53.FAF22AF7.IP)
[23:13:57] *** Quits: valentin (Thunderbir@CAB03F2E.7F69ED53.FAF22AF7.IP) (Ping timeout)
[23:14:12] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[23:15:21] *** Quits: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP) (Quit: colinsurprenant)
[23:16:03] *** Joins: valentin (Thunderbir@CAB03F2E.7F69ED53.FAF22AF7.IP)
[23:16:15] *** Quits: robn (robn@moz-76B0302C.static.internode.on.net) (Ping timeout)
[23:17:12] *** Joins: robn (robn@moz-76B0302C.static.internode.on.net)
[23:17:18] *** Joins: rusti (rusti@moz-61B073BC.cpe.net.cable.rogers.com)
[23:17:21] *** Joins: rustilite (rustilite@moz-61B073BC.cpe.net.cable.rogers.com)
[23:17:31] *** Quits: marianoguerra (marianogue@moz-8640768A.dip0.t-ipconnect.de) (Ping timeout)
[23:18:04] *** Joins: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP)
[23:18:35] *** Quits: libergeekingkid (quassel@F77136E4.80CB47F2.E532ECA5.IP) (Ping timeout)
[23:18:37] *** jorendorff is now known as jorendorff_away
[23:18:45] *** Joins: kris (kris@moz-6D20263F.fullrate.dk)
[23:20:18] *** Joins: strcat (strcat@moz-61B073BC.cpe.net.cable.rogers.com)
[23:20:43] *** Joins: libergeekingkid (quassel@F8C4FB0B.6309C548.3C29312E.IP)
[23:23:31] *** Quits: alexherbo2 (alexherbo2@moz-A456CD9C.w83-199.abo.wanadoo.fr) (Quit: WeeChat 0.4.3-dev)
[23:23:33] *** Quits: jviereck (Adium@moz-CE18E7F8.dynamic.hispeed.ch) (Quit: Leaving.)
[23:24:45] *** Quits: arturo (Thunderbir@moz-E83B14F0.superkabel.de) (Ping timeout)
[23:27:15] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[23:27:47] *** Joins: mno2 (mno2@moz-3506EAC7.singnet.com.sg)
[23:28:10] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[23:28:48] *** Quits: jmmk (jmmk@moz-588F65EA.c3-0.smr-ubr1.sbo-smr.ma.cable.rcn.com) (Quit: leaving)
[23:29:31] *** Quits: mno2 (mno2@moz-3506EAC7.singnet.com.sg) (Ping timeout)
[23:30:33] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[23:30:43] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[23:31:09] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[23:31:30] <libergeekingkid> how to install rust on debian?
[23:32:33] <mcpherrin> libergeekingkid: I'd check out git master and compile it
[23:33:01] *** Quits: HollyRain (HollyRain@moz-3B87E6F8.dyn.user.ono.com) (Quit: bye, bye)
[23:33:07] <libergeekingkid> mcpherrin: I am not being able to compile it. 
[23:33:39] *** Quits: eibwen (kvirc@moz-163297C8.dip0.t-ipconnect.de) (Ping timeout)
[23:33:59] <libergeekingkid> mcpherrin: I am failing to do a "make && make install". I have configured it
[23:34:10] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[23:34:25] <mcpherrin> Why is it failing?
[23:34:32] <mcpherrin> Maybe post the errors in a pastebin.
[23:34:33] *** Quits: hjr3_ (hradtke@moz-699EABC0.lsanca.fios.verizon.net) (Ping timeout)
[23:34:47] <libergeekingkid> mcpherrin: GNU make is not installed in my system
[23:35:26] <ross> there's also a rust nightly build repository here https://launchpad.net/~hansjorg/+archive/rust
[23:35:43] <mcpherrin> You should probably install `make` then.  I think it would be included with `apt-get install build-essential`
[23:35:59] *** Joins: hjr3 (hradtke@moz-699EABC0.lsanca.fios.verizon.net)
[23:36:14] *** Joins: jlong (jlong@moz-6DFDE846.socal.res.rr.com)
[23:36:17] <mcpherrin> which gets you a make and compiler at least
[23:37:46] *** Joins: mawuli (mawuli@moz-A89BBCE.com.gh)
[23:38:12] *** Quits: tulloch (tulloch@moz-1C33A2E7.nat.csx.cam.ac.uk) (Ping timeout)
[23:38:33] *** Quits: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu) (Client exited)
[23:38:54] *** Joins: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu)
[23:38:56] <libergeekingkid> mcpherrin: ok, let me figure it out
[23:40:48] *** Quits: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu) (Ping timeout)
[23:40:50] *** Quits: valentin (Thunderbir@CAB03F2E.7F69ED53.FAF22AF7.IP) (Ping timeout)
[23:41:02] *** Joins: valentin (Thunderbir@CAB03F2E.7F69ED53.FAF22AF7.IP)
[23:41:11] *** Joins: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch)
[23:41:19] *** Quits: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net) (Input/output error)
[23:41:45] *** Joins: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net)
[23:42:53] *** Quits: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch) (Ping timeout)
[23:43:00] *** Joins: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch)
[23:43:04] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[23:43:29] *** Quits: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net) (Ping timeout)
[23:43:29] *** Quits: alkino (alkino@moz-58B8E4B4.w92-151.abo.wanadoo.fr) (Ping timeout)
[23:43:38] *** Joins: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net)
[23:43:43] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Quit: Leaving)
[23:44:48] *** Quits: valentin (Thunderbir@CAB03F2E.7F69ED53.FAF22AF7.IP) (Ping timeout)
[23:44:48] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[23:44:59] *** Joins: valentin (Thunderbir@CAB03F2E.7F69ED53.FAF22AF7.IP)
[23:46:13] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[23:46:13] *** ChanServ sets mode: +ao brson brson
[23:46:25] *** Joins: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu)
[23:47:24] *** Quits: libergeekingkid (quassel@F8C4FB0B.6309C548.3C29312E.IP) (Ping timeout)
[23:48:29] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Input/output error)
[23:49:26] *** Quits: Florob (Florob@moz-39532932.de) (Client exited)
[23:49:34] *** Joins: libergeekingkid (quassel@3F1ECA48.B225E3D3.5700D73F.IP)
[23:50:44] *** Quits: mye (mye@moz-FC60257D.dip0.t-ipconnect.de) (Quit: mye)
[23:50:52] *** Quits: dymk (dymk@C94BAFB1.AA444DA9.3FBA778E.IP) (Quit: This computer has gone to sleep)
[23:51:22] *** Joins: mbx (mbebenita@moz-B45FE61C.hsd1.ca.comcast.net)
[23:51:26] *** Quits: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch) (Ping timeout)
[23:52:00] *** Quits: valentin (Thunderbir@CAB03F2E.7F69ED53.FAF22AF7.IP) (Ping timeout)
[23:52:10] *** Joins: valentin (Thunderbir@CAB03F2E.7F69ED53.FAF22AF7.IP)
[23:53:44] *** Quits: mbx (mbebenita@moz-B45FE61C.hsd1.ca.comcast.net) (Quit: mbx)
[23:55:01] *** Joins: mbx (mbebenita@moz-B45FE61C.hsd1.ca.comcast.net)
[23:55:21] *** Joins: mye (mye@moz-FC60257D.dip0.t-ipconnect.de)
[23:55:37] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[23:56:22] *** Quits: Zylinski (karl@moz-58495553.static.spa.siw.siwnet.net) (Ping timeout)
[23:57:07] *** Joins: Zylinski (karl@moz-58495553.static.spa.siw.siwnet.net)
[23:57:10] *** Quits: Zylinski (karl@moz-58495553.static.spa.siw.siwnet.net) (Quit: Zylinski)
[23:57:44] *** Quits: io2 (io2@moz-EE406A5.home.otenet.gr) (Quit: )
[23:58:39] <jdsanders> is there any way to do a destructuring let with a struct that has private fields without needing to mention the private fields?
[23:58:47] *** Quits: alisdair (textual@moz-B1BE70D2.hsd1.co.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[23:58:55] *** jorendorff_away is now known as jorendorff
[23:58:58] <kimundi> yes
[23:59:14] <kimundi> let Foo{ pub1, pub2, .. } = foo();
[23:59:21] <jdsanders> ah, nice
[23:59:22] <jdsanders> thanks
[23:59:31] *** Joins: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca)
[23:59:32] <kimundi> AT least, I assume  that works with private fields
[23:59:49] <jdsanders> yeah, it does
