[00:00:05] *** Quits: tjc (tjc@moz-5335BC44.phlapa.fios.verizon.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[00:00:21] *** Joins: evanm (evanm@636AC086.5999CED5.71743E61.IP)
[00:00:39] *** Quits: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com) (Ping timeout)
[00:02:10] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[00:03:35] <mcpherrin> Jemaclus: Great that you had fun!
[00:03:42] *** Joins: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com)
[00:03:55] *** Quits: drbawb (drbawb@moz-444F91EA.wi.res.rr.com) (Ping timeout)
[00:06:59] *** Quits: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com) (Ping timeout)
[00:07:16] <Jemaclus> question about my run-length encoding algorithm (https://github.com/brianseitel/rust-rosetta/blob/master/run_length.rs)
[00:07:22] <Jemaclus> I have a test at the bottom
[00:07:41] <Jemaclus> If I run rustc --test run_length.rs, then I get a warning about dead code (the fn main()) part.
[00:07:59] *** Joins: jviereck1 (Adium@moz-35466E78.dip0.t-ipconnect.de)
[00:08:07] *** Quits: jviereck (Adium@moz-FFAF58FE.dip0.t-ipconnect.de) (Ping timeout)
[00:08:17] <Jemaclus> Seems like fn main() shouldn't really be marked as dead code for a test build, even if it never gets called...
[00:08:28] <Jemaclus> what's the rationale there? Should I do either a test or a main() and never both?
[00:09:03] *** Joins: drbawb (drbawb@moz-444F91EA.wi.res.rr.com)
[00:09:41] <o11c> Jemaclus: I saw this bug mentioned a few weeks ago
[00:09:47] *** Joins: cgaebel (clark@moz-8E0C6BCA.nyc.res.rr.com)
[00:09:49] *** Quits: evanm (evanm@636AC086.5999CED5.71743E61.IP) (Connection reset by peer)
[00:09:54] *** Quits: nano (nano@moz-ED77243C.superkabel.de) (Connection reset by peer)
[00:09:56] <o11c> Jemaclus: you may be able to work around it by #[cfg(not(test))] ?
[00:09:59] <Jemaclus> go on...
[00:10:06] *** Joins: evanm (evanm@636AC086.5999CED5.71743E61.IP)
[00:10:34] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Input/output error)
[00:10:43] <Jemaclus> hmm
[00:10:47] <Jemaclus> I mean, i don't really care about the warning
[00:10:50] <Jemaclus> I just don't think I should get a warning at all
[00:10:52] <Jemaclus> :)
[00:10:56] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[00:11:42] *** Joins: arturo (Thunderbir@moz-E83B14F0.superkabel.de)
[00:12:11] *** Joins: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com)
[00:12:37] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[00:13:52] *** Quits: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com) (Ping timeout)
[00:14:20] *** Quits: evanm (evanm@636AC086.5999CED5.71743E61.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[00:15:37] *** Joins: ryeguy (ryeguy@9C569A0.5D1143CD.E8644521.IP)
[00:15:54] *** Joins: amousset (amousset@6181009C.10715965.BCDF592F.IP)
[00:16:20] *** Quits: amousset__ (amousset@6181009C.10715965.BCDF592F.IP) (Ping timeout)
[00:16:54] <brson> Jemaclus: there's a whitelist somewhere for things that shouldn't be considered dead
[00:17:00] <ChrisMorgan> How can one check object identity, e.g. that an &T and an &T are pointing to the same object?
[00:17:11] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[00:17:57] *** Joins: bmu (chatzilla@moz-A87574A6.hsd1.pa.comcast.net)
[00:18:04] <ChrisMorgan> In Python, it's the `is` comparison operator: `x is y`. In Rust, I can't readily see any way of doing it, which surprises me.
[00:18:18] *** Quits: rustguest (Mibbit@6A1E3E0A.79CA65DB.DDE5D3F6.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[00:19:45] *** Quits: mawuli (mawuli@moz-A89BBCE.com.gh) (Ping timeout)
[00:19:51] <ChrisMorgan> Looks like using *-pointers works. But that's not exactly an easy way of doing it, as you need (&x as *T).
[00:21:51] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Input/output error)
[00:21:59] <FreeFull> I think *T is the way to go, although you could probably write a helper function for it
[00:24:04] *** Quits: nszceta (hax@moz-E458A7C0.pharm.pitt.edu) (Input/output error)
[00:24:06] *** Joins: kris (kris@moz-147EE6DF.diku.dk)
[00:25:25] *** Quits: veinofstars (veinofstar@moz-73D1F383.nyc.res.rr.com) (Quit: veinofstars)
[00:26:02] <ChrisMorgan> rusti: fn id_eq<T>(a: *T, b: *T) -> bool { a == b } let a = 1; let b = 1; (id_eq(&a, &a), id_eq(&a, &b))
[00:26:03] *** Quits: kris (kris@moz-147EE6DF.diku.dk) (Ping timeout)
[00:26:03] -rusti- (true, false)
[00:26:25] <kmc> there used to be a "borrowed" module that provided equality, I think
[00:27:02] <eddyb> there should still be a ref_eq *somewhere*
[00:27:07] *** Quits: arturo (Thunderbir@moz-E83B14F0.superkabel.de) (Ping timeout)
[00:27:10] <eddyb> huon: interesting result https://news.ycombinator.com/item?id=7322449
[00:28:07] <ChrisMorgan> There's ptr_eq, in std::{managed, gc}, but that's not sufficient.
[00:29:29] <eddyb> no, I'm sure there was a ref_eq
[00:29:48] <kmc> it still exists in libstd/borrow.rs in Servo's version of Rust
[00:30:01] *** Quits: marianoguerra (marianogue@moz-D80CB316.dip0.t-ipconnect.de) (Ping timeout)
[00:30:03] <kmc> and yeah it is just (thing as *T) == (other as *T)
[00:30:38] <jdsanders> is there an easy way to temporarily turn off test output capturing? it makes it hard to debug things with println
[00:31:01] <ryeguy> doesn't it output when the test fails?
[00:31:06] <ryeguy> just toss a fail!() somewhere
[00:31:24] <ChrisMorgan> std::borrow is now std::reference, but there is no ref_eq.
[00:31:36] <FreeFull> ChrisMorgan: Your short helper function seems to work anyway
[00:32:09] *** Joins: victorporof_ (victorporo@moz-FFB76956.cpe.net.cable.rogers.com)
[00:32:09] <jdsanders> ryeguy: I guess that's fair, sadly my tests are crashing too hard to get to that point (trying to figure out some memory corruption)
[00:32:26] * ChrisMorgan was actually just curious about it; he doesn't actually need it at present
[00:32:51] *** Quits: victorporof (victorporo@moz-FFB76956.cpe.net.cable.rogers.com) (Ping timeout)
[00:34:15] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[00:35:43] *** Quits: amousset (amousset@6181009C.10715965.BCDF592F.IP) (Ping timeout)
[00:36:11] *** Joins: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca)
[00:37:01] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[00:37:42] *** Joins: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com)
[00:37:48] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[00:40:55] *** Joins: brendan (brendaneic@45A3491F.A5FB4ABA.FE58E87C.IP)
[00:41:10] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[00:41:35] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[00:41:42] *** Quits: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com) (Ping timeout)
[00:42:19] *** Quits: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[00:42:21] *** Joins: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca)
[00:43:16] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[00:43:30] *** Quits: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca) (Quit: Textual IRC Client: www.textualapp.com)
[00:44:17] *** Joins: evanm (evanm@636AC086.5999CED5.71743E61.IP)
[00:44:26] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[00:45:00] *** Joins: intuxicated (intuxicate@DEC6152.D3139809.1D2B9C94.IP)
[00:46:16] *** Quits: jdm (jdm@moz-AC9499B2.cable.teksavvy.com) (Quit: Lost terminal)
[00:46:21] *** Joins: geomyidae_ (uid214@moz-E77DEB21.irccloud.com)
[00:48:19] *** Joins: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com)
[00:48:34] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[00:49:13] *** Quits: icebattle (wayne@8A14A542.EBE2EE2B.C7CEC4ED.IP) (Quit: leaving)
[00:49:52] *** Joins: lpy (lpy@7360AA58.F09091A8.1348A864.IP)
[00:50:47] *** Joins: evanm_ (evanm@636AC086.5999CED5.71743E61.IP)
[00:50:47] *** Quits: evanm (evanm@636AC086.5999CED5.71743E61.IP) (Connection reset by peer)
[00:51:17] *** Quits: hoverbear (hoverbear@726D908C.44E18222.E74D50F2.IP) (Quit: Taking a nap.)
[00:51:20] *** Joins: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca)
[00:51:33] *** Quits: Jemaclus (Jemaclus@4EEAB704.5843BA5A.D4E4C7A5.IP) (Quit: Leaving...)
[00:52:23] *** Joins: fyolnish (fyolnish@moz-F0363580.uqwimax.jp)
[00:53:09] *** Joins: veinofstars (veinofstar@moz-C57DCEC9.nyc.res.rr.com)
[00:54:05] *** Quits: fyolnish (fyolnish@moz-F0363580.uqwimax.jp) (Ping timeout)
[00:54:40] *** Quits: darthdeus (darthdeus@EEC5B4DB.3B96A244.4E88690D.IP) (Quit: Leaving...)
[00:56:02] *** Quits: nkoep (nik@moz-588A5498.pool.mediaways.net) (Client exited)
[00:56:44] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[00:57:27] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[00:57:42] *** Quits: brendan (brendaneic@45A3491F.A5FB4ABA.FE58E87C.IP) (Quit: brendan)
[00:59:07] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[01:01:26] *** Joins: orospakr (orospakr@moz-4514BEF2.cpe.teksavvy.com)
[01:01:36] *** Quits: ambro718 (ambro@moz-2E81752A.static.dsl.siol.net) (Ping timeout)
[01:03:06] *** Joins: Ralith_ (ralith@A8995AA9.62B6AF6A.922221DB.IP)
[01:03:36] *** Quits: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP) (Ping timeout)
[01:04:08] *** Quits: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com) (Quit: )
[01:04:27] *** Quits: jviereck1 (Adium@moz-35466E78.dip0.t-ipconnect.de) (Quit: Leaving.)
[01:05:06] *** Joins: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com)
[01:05:39] *** Quits: sellout (Adium@moz-53C8D913.hsd1.co.comcast.net) (Quit: Leaving.)
[01:05:46] *** Joins: sellout (Adium@moz-53C8D913.hsd1.co.comcast.net)
[01:06:10] *** Joins: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP)
[01:07:27] *** Quits: sellout (Adium@moz-53C8D913.hsd1.co.comcast.net) (Ping timeout)
[01:09:50] *** Joins: kris (kris@moz-B0258BA9.dk.customer.tdc.net)
[01:10:01] *** Joins: bersam (bersam@DEC6152.D3139809.1D2B9C94.IP)
[01:10:53] *** Quits: mgottschlag (quassel@moz-687B4309.cust.bluewin.ch) (Ping timeout)
[01:12:09] *** Quits: luniv (textual@35A6D713.28909DC9.B7FCEB19.IP) (Quit: Textual IRC Client: www.textualapp.com)
[01:12:13] <jdsanders> what's the best way to allocate a block of memory X bytes long, so that I can pass it into a C API
[01:12:41] <jdsanders> I currently have a working, but convoluted setup with creating a vector, turning it into a slice, and turning that into a CString
[01:13:11] *** Joins: chatterbox (mn@DEC6152.D3139809.1D2B9C94.IP)
[01:14:35] *** Quits: orospakr (orospakr@moz-4514BEF2.cpe.teksavvy.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[01:14:52] *** Quits: io2 (io2@moz-EE406A5.home.otenet.gr) (Quit: )
[01:15:47] *** Parts: bersam (bersam@DEC6152.D3139809.1D2B9C94.IP) ()
[01:16:11] <alan_andrade> I normally use vectors too
[01:16:24] *** Joins: bersam (bersam@DEC6152.D3139809.1D2B9C94.IP)
[01:16:28] *** Quits: tiffnya (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net) (Ping timeout)
[01:16:49] <alan_andrade> vec::with_capacity()
[01:17:10] *** Joins: tiffnya (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net)
[01:17:11] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[01:17:15] <alan_andrade> and after the call, you set the size
[01:17:24] <alan_andrade> jdsanders: ^
[01:17:40] *** zz_kimundi is now known as kimundi
[01:17:46] *** Joins: vosen (vosen@moz-266BA656.icpnet.pl)
[01:17:55] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[01:18:01] <jdsanders> ok, that sounds a bit less convoluted than mine, but good to know I'm not way off
[01:18:02] <jdsanders> thanks
[01:18:32] <alan_andrade> yvw
[01:19:02] *** Joins: jmmk (jmmk@moz-588F65EA.c3-0.smr-ubr1.sbo-smr.ma.cable.rcn.com)
[01:19:19] *** Quits: kris (kris@moz-B0258BA9.dk.customer.tdc.net) (Ping timeout)
[01:19:51] *** Quits: james4k (james@moz-9BB5AE72.consolidated.net) (Ping timeout)
[01:20:33] *** Joins: jviereck (Adium@moz-35466E78.dip0.t-ipconnect.de)
[01:20:39] *** Quits: asmyers (quassel@moz-71754EDC.hsd1.md.comcast.net) (Ping timeout)
[01:20:39] *** Joins: darthdeus (darthdeus@EEC5B4DB.3B96A244.4E88690D.IP)
[01:21:36] *** Quits: mbx (mbebenita@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: mbx)
[01:22:28] *** Joins: pongad (pongad@moz-7E8AAD2E.res.gatech.edu)
[01:23:01] *** Quits: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net) (Quit: Leaving.)
[01:25:48] <jdsanders> alan_andrade: you set the size using `reserve_exact`?
[01:25:57] <alan_andrade> set_len
[01:26:11] <bjz> huon:
[01:26:12] <bjz> src/sdl2/ffi/events.rs:93:126: 93:127 error: no rules expected the token `|`
[01:26:12] <bjz> src/sdl2/ffi/events.rs:93     pub fn key<'a>(&'a self)        -> Option<&'a SDL_KeyboardEvent>         { cast_event!(self, as_key,         SDL_KEYDOWN | SDL_KEYUP) }
[01:26:20] <jdsanders> ah, needed to scroll down :)
[01:26:31] <bjz> huon: my rule is: ($x:ident, $cast:ident, $pattern:pat) =>
[01:30:07] *** Quits: refold (gman@moz-42D68426.a258.priv.bahnhof.se) (Quit: leaving)
[01:30:22] *** Quits: alexherbo2 (alexherbo2@moz-B6E5A02C.w90-3.abo.wanadoo.fr) (Quit: WeeChat 0.4.3-dev)
[01:31:54] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Ping timeout)
[01:32:20] *** Quits: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net) (Input/output error)
[01:32:48] *** Joins: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net)
[01:32:54] *** Joins: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com)
[01:33:09] *** Quits: jmmk (jmmk@moz-588F65EA.c3-0.smr-ubr1.sbo-smr.ma.cable.rcn.com) (Ping timeout)
[01:33:27] *** Joins: brandonson (SingingBoy@610D90A5.EE9B234.1ECA502.IP)
[01:33:50] <bjz> huon: my rule is: ($x:ident, $cast:ident, $pattern:pat) =>
[01:33:53] <bjz> woops
[01:34:02] <bjz> sorry didn't mean to repost
[01:34:04] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[01:34:21] <bjz> sorry didn't mean to repost
[01:34:23] <bjz> woops
[01:34:25] <MP2E> haha
[01:34:25] <bjz> again
[01:34:27] <MP2E> :P
[01:34:31] *** Quits: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net) (Ping timeout)
[01:34:35] <bjz> I was alt-tabbing
[01:34:41] *** Quits: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com) (Ping timeout)
[01:34:43] <bjz> but my irc was on top
[01:34:50] <bjz> instead of my terminal
[01:35:11] <bjz> so up-arrow then enter reposted
[01:35:18] <bjz> rather than recompiling
[01:35:20] <bjz> :D
[01:35:27] <bjz> (sill brendan
[01:35:34] <bjz> *(silly brendan)
[01:36:01] *** Quits: uzi_mantis (iz@moz-4379EE65.hsd1.va.comcast.net) (Quit: )
[01:37:15] *** Quits: cremes_ (cremes@moz-649E729A.lv.lv.cox.net) (Quit: cremes_)
[01:37:27] *** Quits: veinofstars (veinofstar@moz-C57DCEC9.nyc.res.rr.com) (Quit: veinofstars)
[01:37:48] *** Joins: jmmk (jmmk@moz-588F65EA.c3-0.smr-ubr1.sbo-smr.ma.cable.rcn.com)
[01:37:56] *** Joins: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com)
[01:39:51] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[01:40:11] *** Quits: jdsanders (Adium@D073F53D.C41F93F.96556A09.IP) (Quit: Leaving.)
[01:40:44] *** Quits: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Client exited)
[01:41:01] <Armavica> rusti: match ~[42] { ~[42] => 1, _ => 0 }
[01:41:02] -rusti- <anon>:10:23: 10:28 error: mismatched types: expected `~[<generic integer #0>]` but found a ~-box pattern
[01:41:02] -rusti- <anon>:10         match ~[42] { ~[42] => 1, _ => 0 }
[01:41:02] -rusti-                                 ^~~~~
[01:41:02] -rusti- error: aborting due to previous error
[01:41:03] -rusti- application terminated with error code 101
[01:41:38] *** kimundi is now known as zz_kimundi
[01:41:51] <ryeguy> Armavica: https://github.com/mozilla/rust/pull/12244
[01:41:51] <Armavica> does someone see what I am missing?
[01:42:24] *** Joins: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[01:42:44] <Armavica> oh, I see.
[01:42:48] *** Quits: Matthias247 (Miranda@moz-BDD35EC0.hsi5.kabel-badenwuerttemberg.de) (Connection reset by peer)
[01:42:53] <Armavica> thank you
[01:44:11] *** Quits: jviereck (Adium@moz-35466E78.dip0.t-ipconnect.de) (Quit: Leaving.)
[01:45:06] *** Quits: eddyb (eddy@moz-41DB10DA.residential.rdsnet.ro) (Ping timeout)
[01:45:32] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Connection reset by peer)
[01:46:21] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Client exited)
[01:46:40] *** Quits: Ralith_ (ralith@A8995AA9.62B6AF6A.922221DB.IP) (Ping timeout)
[01:46:56] *** Quits: Moor (Moor@moz-C04C27D8.hsd1.ca.comcast.net) (Ping timeout)
[01:47:02] *** Joins: veinofstars (veinofstar@moz-C57DCEC9.nyc.res.rr.com)
[01:47:07] *** Quits: judder (maradukewa@A4DC519F.6379DA33.78E362FE.IP) (Ping timeout)
[01:47:55] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[01:48:33] *** Quits: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com) (Ping timeout)
[01:49:42] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[01:51:19] *** Quits: chatterbox (mn@DEC6152.D3139809.1D2B9C94.IP) (Quit: Konversation terminated!)
[01:51:29] *** Joins: claudiu_ (claudiu@81B10C62.5F4BC945.49B2C1AE.IP)
[01:51:31] *** Joins: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com)
[01:52:01] *** Quits: claudiu (claudiu@CB447DD5.6B10AC3.E2F59BBC.IP) (Ping timeout)
[01:52:25] *** Joins: fyolnish (fyolnish@moz-D2679491.uqwimax.jp)
[01:53:01] *** Quits: tiffnya (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net) (Ping timeout)
[01:53:13] *** Quits: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com) (Ping timeout)
[01:53:57] *** Joins: Moor (Moor@moz-C04C27D8.hsd1.ca.comcast.net)
[01:54:09] *** Quits: fyolnish (fyolnish@moz-D2679491.uqwimax.jp) (Ping timeout)
[01:54:56] *** Joins: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com)
[01:55:00] *** Quits: jmmk (jmmk@moz-588F65EA.c3-0.smr-ubr1.sbo-smr.ma.cable.rcn.com) (Ping timeout)
[01:56:39] *** Quits: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com) (Ping timeout)
[01:57:07] *** Joins: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net)
[01:57:23] <pcwalton> ok, rustdoc fixed
[01:57:25] <pcwalton> that was kind of painful
[01:57:27] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[01:57:27] *** Quits: evanm_ (evanm@636AC086.5999CED5.71743E61.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[01:57:33] <pcwalton> rustdoc sure looks ugly now mid-transition
[01:58:39] *** Quits: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Quit: Leaving...)
[01:59:07] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[01:59:27] <brson> pcwalton: why does Vec make rustdoc ugly?
[01:59:36] <pcwalton> brson: lots of conversions between Vec<T> and ~[T]
[01:59:40] <pcwalton> because it's mid-transition
[02:01:00] *** Joins: kris (kris@moz-B0258BA9.dk.customer.tdc.net)
[02:01:01] *** Quits: dagnir (chatzilla@A1D3E7F1.DBF4469E.7E8D5209.IP) (Input/output error)
[02:02:30] *** Quits: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP) (Quit: colinsurprenant)
[02:02:30] *** Quits: onelson (owen@moz-DD666EC5.laika.com) (Quit: Leaving)
[02:04:53] *** Joins: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net)
[02:07:54] *** Joins: ambimorph (amber@moz-B3FBDFCE.hlrn.qwest.net)
[02:11:51] *** Quits: victorporof_ (victorporo@moz-FFB76956.cpe.net.cable.rogers.com) (Quit: victorporof_)
[02:11:56] *** Joins: victorporof (victorporo@moz-FFB76956.cpe.net.cable.rogers.com)
[02:14:36] <Armavica> hmm, related to the removal of unique vector patterns, the as_slice() trick (cf. rust-dev 21 Feb 00:53) works for 1D vectors but how can I match something like ~[~[42]]?
[02:16:03] *** Joins: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net)
[02:16:11] *** Quits: bmu (chatzilla@moz-A87574A6.hsd1.pa.comcast.net) (Ping timeout)
[02:18:46] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[02:19:02] *** Quits: azakai (alon@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[02:19:44] *** Joins: zv (zv@moz-955F83E9.hsd1.ca.comcast.net)
[02:20:45] *** Quits: sunfish (chatzilla@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[02:21:28] *** Quits: kvanb (kvanb@moz-984033DE.lnse5.win.bigpond.net.au) (Ping timeout)
[02:21:48] *** Joins: saml (saml@moz-AFAADF83.nycmny.east.verizon.net)
[02:22:06] *** Joins: esummers_ (esummers@moz-3B015C90.wi.res.rr.com)
[02:22:13] *** Quits: esummers (esummers@moz-3B015C90.wi.res.rr.com) (Ping timeout)
[02:22:57] *** Joins: kvanb (kvanb@9E43123A.EB246ED8.1611EE05.IP)
[02:24:02] *** Joins: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net)
[02:24:37] <DarkLinkXXXX> Should I run ./configure after each git pull?
[02:25:17] *** Quits: chromatic (chromatic@moz-28CBC7F4.hsd1.or.comcast.net) (Quit: Leaving)
[02:25:43] *** Joins: alexherbo2 (alexherbo2@moz-FC10E83F.de)
[02:25:49] *** Quits: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net) (Input/output error)
[02:26:47] <mcpherrin> DarkLinkXXXX: I generally don't
[02:27:05] <mcpherrin> But I also make sure to do a clean build every couple days
[02:27:49] <DarkLinkXXXX> Also, is there a draft for 1.0?
[02:28:51] *** Joins: jmmk (jmmk@moz-588F65EA.c3-0.smr-ubr1.sbo-smr.ma.cable.rcn.com)
[02:29:55] *** Joins: Ralith (ralith@moz-67D4EB93.customer.broadstripe.net)
[02:29:57] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[02:31:58] *** Joins: frogzilla (Mibbit@14310444.B9CCEC14.CC1A2609.IP)
[02:32:03] *** Quits: pcdummy (pcdummy@moz-CF4CA865.page4me.ch) (Ping timeout)
[02:32:32] *** Joins: pcdummy (pcdummy@moz-CF4CA865.page4me.ch)
[02:33:17] *** Parts: veinofstars (veinofstar@moz-C57DCEC9.nyc.res.rr.com) ()
[02:33:32] *** Joins: veinofstars (veinofstar@moz-C57DCEC9.nyc.res.rr.com)
[02:33:44] *** Quits: frogzilla (Mibbit@14310444.B9CCEC14.CC1A2609.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[02:34:31] *** Quits: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[02:35:13] <pcwalton> whee, already bitrotted.
[02:36:00] *** Quits: pongad (pongad@moz-7E8AAD2E.res.gatech.edu) (Quit: Leaving)
[02:36:15] <bjz> :)
[02:36:40] <jxs> Hi guys, whats the difference between let b: &int and let b: ~int if both are pointers, is first one is a pointer to stack address while the second one is a pointer to an heap address? 
[02:37:24] <pcwalton> ~int is like unique_ptr<int>
[02:37:27] <pcwalton> it frees the memory
[02:37:29] <pcwalton> & is just a reference
[02:38:00] <ryeguy> jxs, have you read this yet? http://static.rust-lang.org/doc/master/guide-pointers.html
[02:38:12] *** Quits: ambimorph (amber@moz-B3FBDFCE.hlrn.qwest.net) (Ping timeout)
[02:38:16] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Client exited)
[02:38:47] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[02:38:50] <jxs> yes ryeguy, a couple times, but you are right going to read again thanks 
[02:38:53] <jxs> also thanks pcwalton 
[02:40:27] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[02:40:50] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[02:43:00] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[02:43:21] <jxs> btw, ryeguy, isn't that article outdated? it still covers managed boxes
[02:43:42] <ryeguy> im pretty sure the info is still good, even though the syntax is out of date
[02:43:44] <mcpherrin> jxs: All rust documentation is always otu of date ;)
[02:43:57] <ryeguy> @Foo is now Gc<Foo>
[02:43:57] <jxs> mcpherrin true :P
[02:44:34] <mcpherrin> wellll @Foo was never really a Gc
[02:44:41] <mcpherrin> so it's more like @Foo is now Rc<Foo>
[02:44:49] *** Joins: fournm (Aria@moz-ABB60BA0.austin.res.rr.com)
[02:45:49] <ryeguy> oh, woops
[02:45:58] <ryeguy> i forgot @ was ref counted
[02:46:15] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Connection reset by peer)
[02:46:16] *** Joins: angdev (angdev@16F167B.4C57D258.D8E8354F.IP)
[02:46:22] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[02:46:41] *** Quits: kris (kris@moz-B0258BA9.dk.customer.tdc.net) (Ping timeout)
[02:46:50] <mcpherrin> I think at some point the plan was for it to be Gc'd
[02:47:41] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[02:49:17] <jxs> and isn't ref counting a gc algorithm?
[02:50:01] <mcpherrin> ref counting with a cycle collector surely is
[02:50:20] <ryeguy> the cycle collector is sometimes referred to as the gc though :p
[02:50:26] <ryeguy> like in php
[02:50:26] *** Quits: Krymise (Nietzsche@moz-CA789EF5.nwrknj.fios.verizon.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[02:50:34] <ryeguy> 5.3 and above
[02:51:07] *** Quits: jmmk (jmmk@moz-588F65EA.c3-0.smr-ubr1.sbo-smr.ma.cable.rcn.com) (Ping timeout)
[02:52:14] *** Quits: NiccosSystem (NiccosSyst@moz-ED196BB4.customer.lyse.net) (Quit: Leaving)
[02:52:23] *** Joins: fyolnish (fyolnish@moz-872D0960.uqwimax.jp)
[02:53:22] *** Joins: untwisted (untwisted@moz-60D579DC.hsd1.ca.comcast.net)
[02:53:51] *** Joins: sellout (Adium@moz-53C8D913.hsd1.co.comcast.net)
[02:54:04] *** Quits: fyolnish (fyolnish@moz-872D0960.uqwimax.jp) (Ping timeout)
[02:54:56] *** nrc is now known as nrc|afk
[02:56:20] *** Joins: jmmk (jmmk@moz-588F65EA.c3-0.smr-ubr1.sbo-smr.ma.cable.rcn.com)
[02:57:21] *** Joins: bmu (chatzilla@moz-A87574A6.hsd1.pa.comcast.net)
[02:58:14] *** Quits: jmmk (jmmk@moz-588F65EA.c3-0.smr-ubr1.sbo-smr.ma.cable.rcn.com) (Ping timeout)
[02:59:34] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[03:00:16] *** Quits: ziad (ziad@B20586FB.BDB3D91.6E370BFC.IP) (Quit: ziad)
[03:02:46] *** Quits: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com) (Ping timeout)
[03:03:06] *** Quits: meTaAU (admin@moz-7ACE51BA.lns20.per1.internode.on.net) (Ping timeout)
[03:03:32] *** Quits: zz_kimundi (kimundi@moz-24FA283.dip0.t-ipconnect.de) (Ping timeout)
[03:03:32] *** Joins: meTaAU (admin@moz-8914DFBA.lns20.per1.internode.on.net)
[03:03:49] *** Joins: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net)
[03:04:42] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Quit: )
[03:07:06] *** Joins: zz_kimundi (kimundi@moz-E299220C.dip0.t-ipconnect.de)
[03:07:32] *** zz_kimundi is now known as kimundi
[03:10:28] *** Joins: onelson (owen@18CF7301.95770028.5B6BFE7D.IP)
[03:10:35] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[03:10:38] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[03:10:40] *** Quits: bersam (bersam@DEC6152.D3139809.1D2B9C94.IP) (Ping timeout)
[03:10:54] *** Quits: intuxicated (intuxicate@DEC6152.D3139809.1D2B9C94.IP) (Ping timeout)
[03:11:06] *** Joins: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[03:11:16] *** Joins: intuxicated (intuxicate@38784B9E.8B4AE909.12775F4D.IP)
[03:11:17] *** Joins: bersam (bersam@38784B9E.8B4AE909.12775F4D.IP)
[03:11:18] *** Quits: bersam (bersam@38784B9E.8B4AE909.12775F4D.IP) (Max SendQ exceeded)
[03:11:48] *** Quits: MP2E (cray@moz-EB1E242D.lv.lv.cox.net) (Quit: bbl)
[03:11:53] *** Joins: bersam (bersam@38784B9E.8B4AE909.12775F4D.IP)
[03:11:54] *** Quits: bersam (bersam@38784B9E.8B4AE909.12775F4D.IP) (Max SendQ exceeded)
[03:12:24] *** Joins: bersam (bersam@38784B9E.8B4AE909.12775F4D.IP)
[03:15:32] *** Quits: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[03:16:27] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[03:19:40] *** Quits: Earnestly (earnest@F86306B4.BBD8F39E.FEA8F6FD.IP) (Ping timeout)
[03:27:49] *** Quits: ricepuddin (graham@moz-7D68765A.cable.virginm.net) (Ping timeout)
[03:30:42] *** Quits: Sorella (quildreen@9D963F5D.DF5D8AE7.54BCAB54.IP) (Quit: Ex-Chat)
[03:30:59] *** Quits: bersam (bersam@38784B9E.8B4AE909.12775F4D.IP) (Ping timeout)
[03:31:11] *** Quits: intuxicated (intuxicate@38784B9E.8B4AE909.12775F4D.IP) (Ping timeout)
[03:31:44] *** Quits: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca) (Quit: Leaving.)
[03:32:09] *** Joins: Erik_ (Erik_S@moz-6691E309.hlrn.qwest.net)
[03:32:13] *** Joins: jsonnull (Thunderbir@20DADFC2.48C8B17D.494A0F8B.IP)
[03:33:09] *** Joins: jmmk (jmmk@moz-588F65EA.c3-0.smr-ubr1.sbo-smr.ma.cable.rcn.com)
[03:36:16] *** Joins: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com)
[03:37:56] *** Quits: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com) (Ping timeout)
[03:40:14] *** Quits: ktt3ja (ktt3ja@moz-54586A12.washdc.fios.verizon.net) (Client exited)
[03:41:18] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[03:45:54] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Input/output error)
[03:46:10] *** Joins: MP2E (cray@moz-EB1E242D.lv.lv.cox.net)
[03:46:23] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[03:47:58] <huon> bjz: :pat doesn't include `foo | bar`
[03:48:03] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[03:48:08] <huon> bjz: need $($...:  pat)|+
[03:49:57] <brandonson> how do I tell if something's freezable?  I can't use Arc with a couple of my datatypes, apparently, but I have no idea why.
[03:50:10] <brandonson> (besides the fact that they don't implement Freeze)
[03:51:19] <huon> brandonson: if they contains something that's not Freeze: e.g. Cell or RefCell
[03:51:32] <mcpherrin> brandonson: it has to be "deeply immutable" to use niko's words.  Can't have Cell<> or such
[03:52:21] <brandonson> huon, mcpherrin: so you can never have an Arc contain an object that contains another Arc? that's... unfortunate.
[03:52:21] <huon> there's various bugs about improving how the compiler handles those traits (including pointing at exactly what causes the errors, etc.)
[03:52:22] *** Joins: fyolnish (fyolnish@moz-6C918B96.uqwimax.jp)
[03:52:40] <huon> Arc isn't freeze?
[03:53:19] <mcpherrin> No, I don't think Arc is or should be Freeze
[03:53:32] <mcpherrin> Kinda by definition its contents can change from under you?
[03:53:38] <huon> no
[03:53:41] <huon> not Arc
[03:53:46] <huon> it's immutable shared memory
[03:53:48] *** Joins: mattyohe (sid5632@moz-31ABA2C0.irccloud.com)
[03:53:53] <mcpherrin> Oh, RWArc 
[03:53:59] <huon> RWArc and MutexArc are definitely non-freeze
[03:54:04] <mattyohe> Eridius: o/
[03:54:05] *** Quits: fyolnish (fyolnish@moz-6C918B96.uqwimax.jp) (Ping timeout)
[03:54:24] <mcpherrin> Well, the refcounts in arc would change...
[03:54:37] <huon> rusti: fn freeze<T: Freeze>() {} freeze::<sync::Arc>()
[03:54:40] -rusti- pastebinned 20 lines of output: http://ix.io/aRN
[03:54:54] <huon> rusti: mod foo { extern mod sync; fn freeze<T: Freeze>() {} freeze::<sync::Arc>() }
[03:54:55] -rusti- <anon>:10:62: 10:68 error: expected item but found `freeze`
[03:54:55] -rusti- <anon>:10         mod foo { extern mod sync; fn freeze<T: Freeze>() {} freeze::<sync::Arc>() }
[03:54:55] -rusti-                                                                        ^~~~~~
[03:54:55] -rusti- application terminated with error code 101
[03:55:04] <huon> rusti: mod foo { extern mod sync; fn freeze<T: Freeze>() {} fn foo { freeze::<sync::Arc>() } }
[03:55:05] -rusti- <anon>:10:69: 10:70 error: expected `(` but found `{`
[03:55:05] -rusti- <anon>:10         mod foo { extern mod sync; fn freeze<T: Freeze>() {} fn foo { freeze::<sync::Arc>() } }
[03:55:05] -rusti-                                                                               ^
[03:55:05] -rusti- application terminated with error code 101
[03:55:47] <huon> fn freeze<T: Freeze>() {} freeze::<extra::arc::Arc<int>>()
[03:55:54] <huon> rusti: fn freeze<T: Freeze>() {} freeze::<extra::arc::Arc<int>>()
[03:55:56] -rusti- ()
[03:56:06] <huon> (Arc is freeze, unless that changed recently...)
[03:56:08] <brandonson> hmm
[03:56:14] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[04:00:01] <brandonson> okay, so a struct is freeze if all its fields are freeze, right?
[04:00:06] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[04:00:43] <brandonson> rusti: fn freeze<T: Freeze>() {} freeze::<HashMap<int, int>>()
[04:00:45] -rusti- pastebinned 8 lines of output: http://ix.io/aRP
[04:01:28] <brandonson> rusti: fn freeze<T: Freeze>() {} freeze::<collections::hashmap::HashMap<int, int>>()
[04:01:31] *** Joins: jdm (jdm@moz-AC9499B2.cable.teksavvy.com)
[04:01:31] -rusti- pastebinned 20 lines of output: http://ix.io/aRQ
[04:01:31] *** ChanServ sets mode: +o jdm
[04:02:03] <brandonson> rusti: extern mod collections; fn freeze<T: Freeze>() {} freeze::<collections::hashmap::HashMap<int, int>>()
[04:02:04] -rusti- <anon>:10:9: 10:32 error: "extern mod" declarations are not allowed here
[04:02:04] -rusti- <anon>:10         extern mod collections; fn freeze<T: Freeze>() {} freeze::<collections::hashmap::HashMap<int, int>>()
[04:02:04] -rusti-                   ^~~~~~~~~~~~~~~~~~~~~~~
[04:02:04] -rusti- error: aborting due to previous error
[04:02:04] -rusti- application terminated with error code 101
[04:02:34] <sfackler> brandonson: that's correct
[04:02:52] <sfackler> unless #[no_freeze] still exists?
[04:04:44] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[04:05:56] <brandonson> oh wait, trait objects would be non-freeze, wouldn't they.
[04:05:59] <brandonson> hmm
[04:06:50] <sfackler> brandonson: you can add a Freeze bound like this: ~Foo:Freeze
[04:07:05] <sfackler> in this case you'd actually want ~Foo:Freeze+Send
[04:07:07] <sfackler> I think
[04:07:34] *** nrc|afk is now known as nrc
[04:07:44] <sfackler> ~Foo is equivalent to ~Foo:Send iirc, though that may be changing
[04:07:48] <brandonson> sfackler: that did it, thanks
[04:08:50] *** Joins: asmyers (quassel@moz-71754EDC.hsd1.md.comcast.net)
[04:09:43] *** Joins: q66 (q66@3D54FE15.5A5C08B5.A574D365.IP)
[04:10:04] *** Joins: fenduru (joshfee@moz-657203E6.dyn.optonline.net)
[04:15:53] *** Quits: limeburst (me@247D1419.D73964AC.27A8748.IP) (Ping timeout)
[04:17:52] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[04:19:31] *** Quits: asmyers (quassel@moz-71754EDC.hsd1.md.comcast.net) (Ping timeout)
[04:20:26] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[04:24:40] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[04:28:44] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[04:33:59] *** Quits: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com) (Quit: )
[04:37:39] *** Quits: veinofstars (veinofstar@moz-C57DCEC9.nyc.res.rr.com) (Quit: veinofstars)
[04:40:20] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Input/output error)
[04:40:42] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[04:42:23] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[04:42:47] *** Quits: engla (engla@moz-F64E1B0F.cust.bredbandsbolaget.se) (Ping timeout)
[04:43:17] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[04:43:17] *** ChanServ sets mode: +ao pcwalton pcwalton
[04:46:14] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[04:48:28] *** Quits: claudiu_ (claudiu@81B10C62.5F4BC945.49B2C1AE.IP) (Ping timeout)
[04:48:44] <ryeguy> what method on Option lets me execute a closure for side effects, only on a Some? Basically, .map() without needing a return value
[04:50:19] *** Joins: p1start1 (rewi@moz-A082F561.adsl.xtra.co.nz)
[04:50:21] *** Quits: p1start (rewi@moz-A082F561.adsl.xtra.co.nz) (Connection reset by peer)
[04:50:23] <sfackler> ryeguy: why not just use Some? you can have a closure that returns () implicitely
[04:50:28] <sfackler> er, map()
[04:50:31] <sfackler> >_>
[04:52:01] *** Joins: claudiu (claudiu@81B10C62.5F4BC945.49B2C1AE.IP)
[04:52:22] *** Joins: fyolnish (fyolnish@moz-E6F0EA6E.uqwimax.jp)
[04:52:54] <Yurume> ryeguy, map() can return `()`; but you may want something like `match x { Some(ref v) => { /* do something with v */ } None => {} }` or `for v in x.iter() { /* do something with v */ }`.
[04:53:03] *** Quits: Moor (Moor@moz-C04C27D8.hsd1.ca.comcast.net) (Ping timeout)
[04:53:24] <Yurume> if your "side effect" includes a change on the Option value itself, you'll need mutate().
[04:54:03] *** Quits: fyolnish (fyolnish@moz-E6F0EA6E.uqwimax.jp) (Ping timeout)
[04:56:45] *** Quits: jmmk (jmmk@moz-588F65EA.c3-0.smr-ubr1.sbo-smr.ma.cable.rcn.com) (Ping timeout)
[04:56:49] *** Joins: claudiu_ (claudiu@81B10C62.5F4BC945.49B2C1AE.IP)
[04:57:03] *** Quits: claudiu (claudiu@81B10C62.5F4BC945.49B2C1AE.IP) (Ping timeout)
[05:00:04] *** Quits: vosen (vosen@moz-266BA656.icpnet.pl) (Connection reset by peer)
[05:00:30] *** Joins: jdsanders (Adium@moz-EB8DC389.hlrn.qwest.net)
[05:00:50] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Ping timeout)
[05:01:11] *** Joins: heftig_ (heftig@moz-B6BF6D03.dip0.t-ipconnect.de)
[05:01:30] *** Quits: jdsanders (Adium@moz-EB8DC389.hlrn.qwest.net) (Quit: Leaving.)
[05:01:50] *** Joins: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net)
[05:01:58] *** Quits: heftig (heftig@moz-79D2E43C.dip0.t-ipconnect.de) (Ping timeout)
[05:03:19] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[05:03:33] *** Joins: claudiu (claudiu@81B10C62.5F4BC945.49B2C1AE.IP)
[05:04:23] *** Quits: claudiu_ (claudiu@81B10C62.5F4BC945.49B2C1AE.IP) (Ping timeout)
[05:04:50] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[05:07:50] *** Joins: Moor (Moor@moz-C04C27D8.hsd1.ca.comcast.net)
[05:08:15] *** Joins: flabbergaster (Mibbit@moz-AF109217.hr.hr.cox.net)
[05:08:24] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[05:09:26] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[05:10:59] *** Parts: flabbergaster (Mibbit@moz-AF109217.hr.hr.cox.net) ()
[05:11:11] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[05:11:47] <fenduru> can you use the select! macro to select on an arbitrary number of ports?
[05:12:04] <huon> yes
[05:12:52] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[05:13:06] *** Quits: Moor (Moor@moz-C04C27D8.hsd1.ca.comcast.net) (Ping timeout)
[05:14:11] <fenduru> do you know how to?
[05:14:37] <fenduru> err, could you share how to?
[05:15:11] * huon doesn't know
[05:15:17] *** Joins: fyolnish (fyolnish@moz-E6F0EA6E.uqwimax.jp)
[05:15:21] <huon> my first port of call would be checking the docs
[05:15:29] <huon> http://static.rust-lang.org/doc/master/std/macros/macro.select.html
[05:15:50] <sfackler> fenduru: do you mean a number that isn't known until runtime?
[05:15:57] <sfackler> if so, select! can'
[05:15:59] <sfackler> 't do it
[05:16:07] <sfackler> you'll want to emulate what select! does yourself
[05:16:37] <fenduru> okay, and just select on a bunch of ports, then iterate over the list of handles and find the one with the right ID?
[05:16:57] <fenduru> (yes, I did mean a number that isn't known until runtime. sorry for being unclear)
[05:17:06] <sfackler> yep
[05:17:33] <sfackler> if you don't know the syntax for a macro definition, you basically want to replace all of the $(...)+ blocks with for loops
[05:18:19] <fenduru> okay cool
[05:18:36] <fenduru> Very new to rust, just playing around. Very neat so far
[05:19:06] <huon> (sorry for misleading you, fenduru :) )
[05:19:23] *** Joins: mawuli (mawuli@moz-A89BBCE.com.gh)
[05:20:01] <fenduru> no worries huon, you were technically correct. It will select over an arbitrary number of ports, just not arbitrary at runtime
[05:20:24] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[05:23:46] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[05:25:35] *** Joins: sawrubh (uid6719@moz-5F4AA75A.irccloud.com)
[05:30:15] *** Joins: Valloric (Valloric@moz-288722BA.hsd1.ca.comcast.net)
[05:30:42] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Quit: Konversation terminated!)
[05:31:06] *** Quits: q66 (q66@3D54FE15.5A5C08B5.A574D365.IP) (Quit: Leaving)
[05:31:10] <Valloric> I see std::char::from_u32, but no std::char::to_u32; what am I missing?
[05:31:37] <huon> 'a' as u32 works fine
[05:31:52] <Valloric> thanks
[05:32:00] <huon> (the reverse doesn't because there are u32 values that are invalid char values: it has to be a valid Unicode codepoint)
[05:32:09] <Valloric> I assumed as much
[05:36:20] *** Joins: pingveno (alevar@moz-544E84DC.cat.pdx.edu)
[05:36:45] *** Joins: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com)
[05:37:20] <pingveno> What's the best way to do a char -> u32 conversion?
[05:37:51] *** Joins: bvssvni (Mibbit@moz-C4579D6F.bb.online.no)
[05:37:58] <o11c> ...
[05:38:05] <fenduru> he just joined
[05:38:13] <o11c> pingveno: [05:31:37] <@huon> 'a' as u32 works fine
[05:38:33] *** Quits: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com) (Ping timeout)
[05:38:38] <o11c> yeah, but still - same question asked by different people so soon? interesting coincidence
[05:39:36] <pingveno> I think I might have asked that and been disconnected.
[05:41:32] <huon> rusti: 'a' as u32
[05:41:33] -rusti- 97u32
[05:41:37] *** Quits: itdaniher (it@moz-7FAAAB8D.bstnma.fios.verizon.net) (Ping timeout)
[05:42:25] <Valloric> rusti: '葉' as u32
[05:42:26] -rusti- 33865u32
[05:42:34] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[05:43:01] <fenduru> woah..... what is that
[05:43:12] <Valloric> I have no clue, but it's in my test suite :D
[05:43:28] <fenduru> lol I meant the rusti user
[05:44:09] <bvssvni> fenduru: it is a bot that runs Rust code
[05:44:24] <fenduru> rusti: "test".len()
[05:44:26] -rusti- 4u
[05:44:35] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Client exited)
[05:44:35] <o11c> rusti: version
[05:44:37] -rusti- "rustc 0.10-pre (4cd555d 2014-01-24 03:28:15 -0500)"
[05:44:46] <o11c> pretty old
[05:44:56] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[05:45:33] <fenduru> There has to be a security concern about a bot that compiles and runs arbitrary code?
[05:46:00] *** Joins: itdaniher (it@moz-7FAAAB8D.bstnma.fios.verizon.net)
[05:46:45] <fenduru> rusti: ::std::os::args()
[05:46:46] -rusti- ~[~"./out"]
[05:47:12] <sfackler> fenduru: it's sandboxed
[05:47:17] *** Quits: ryeguy (ryeguy@9C569A0.5D1143CD.E8644521.IP) (Quit: )
[05:47:33] <sfackler> https://github.com/thestinger/playpen
[05:48:40] <Valloric> but is it time boxed? can someone force rusti to calculate something like 100!
[05:48:51] <sfackler> it is time boxed
[05:48:56] <sfackler> rusti: loop {}
[05:48:59] -rusti- pastebinned 8 lines of output: http://ix.io/aaw
[05:49:12] <sfackler> rusti: loop {} 5
[05:49:12] <c74d> Aaw.
[05:49:15] -rusti- pastebinned 8 lines of output: http://ix.io/aaw
[05:49:24] <sfackler> rusti: loop {} 5u
[05:49:27] -rusti- pastebinned 8 lines of output: http://ix.io/aaw
[05:49:28] <ChrisMorgan> rusti: if true { loop{}}; 5u
[05:49:33] -rusti- timeout triggered!
[05:49:39] <sfackler> there
[05:49:54] <fenduru> 4th times a charm
[05:50:57] *** Joins: Moor (Moor@moz-C04C27D8.hsd1.ca.comcast.net)
[05:51:03] *** Joins: tgkokk (tgkokk@moz-5CF0FE99.home.otenet.gr)
[05:52:21] *** Quits: mawuli (mawuli@moz-A89BBCE.com.gh) (Ping timeout)
[05:52:32] <fenduru> rusti: ::std::os::getenv()
[05:52:32] -rusti- <anon>:10:9: 10:28 error: this function takes 1 parameter but 0 parameters were supplied
[05:52:32] -rusti- <anon>:10         ::std::os::getenv()
[05:52:33] -rusti-                   ^~~~~~~~~~~~~~~~~~~
[05:52:33] -rusti- error: aborting due to previous error
[05:52:33] -rusti- application terminated with error code 101
[05:52:45] *** Joins: mawuli (mawuli@moz-A89BBCE.com.gh)
[05:52:57] <fenduru> rusti: ::std::os::env()
[05:52:58] -rusti- ~[(~"USER", ~"rust"), (~"HOME", ~"/home/rust"), (~"LOGNAME", ~"rust"), (~"PATH", ~"/usr/local/bin:/usr/bin:/bin"), (~"PWD", ~"/home/rust")]
[05:53:38] *** Quits: Moor (Moor@moz-C04C27D8.hsd1.ca.comcast.net) (Ping timeout)
[05:53:49] *** Joins: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com)
[05:54:01] <fenduru> rusti: ::std::os::unsetenv("PATH")
[05:54:03] -rusti- ()
[05:54:11] <fenduru> rusti: ::std::os::getenv("PATH")
[05:54:12] <huon> rusti: ::std::os::env()
[05:54:14] -rusti- Some(~"/usr/local/bin:/usr/bin:/bin")
[05:54:14] -rusti- ~[(~"USER", ~"rust"), (~"HOME", ~"/home/rust"), (~"LOGNAME", ~"rust"), (~"PATH", ~"/usr/local/bin:/usr/bin:/bin"), (~"PWD", ~"/home/rust")]
[05:54:25] <huon> its run in a new container each time
[05:54:28] <fenduru> okay I'm done trying to break your bot
[05:55:33] *** Quits: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com) (Ping timeout)
[05:56:32] <o11c> unsetenv wouldn't be able to survive the *process* death anyway
[05:57:23] <o11c> hm, what does rust do for environment variables that aren't utf-8 ?
[05:58:42] *** Quits: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com) (Input/output error)
[05:58:51] <sfackler> o11c: it runs them through from_utf8_lossy. there's another function to get them as a ~[u8]
[05:59:21] <huon> it used to just crash
[05:59:50] *** Joins: Moor (Moor@moz-C04C27D8.hsd1.ca.comcast.net)
[06:01:42] <huon> rusti: std::os::setenv("foo", unsafe {std::cast::transmute(&['a' as u8, 'b' as u8, 0xFF, 'c' as u8])}); std::os::getenv("foo")
[06:01:44] -rusti- task '<main>' failed at 'assertion failed: is_utf8(v)', /home/strcat/projects/rust/src/libstd/str.rs:961
[06:01:44] -rusti- application terminated with error code 101
[06:01:56] <huon> oh, i guess rusti is too old
[06:02:06] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[06:05:40] *** Quits: Moor (Moor@moz-C04C27D8.hsd1.ca.comcast.net) (Ping timeout)
[06:07:10] <fenduru> What would be a way to have a spawned task manage some state, and have the spawning (parent) task be able to read that state?
[06:07:17] *** Quits: canhtak (canhtak@moz-251024EB.wl.t.ulaval.ca) (Quit: canhtak)
[06:07:41] <fenduru> If it were the other way, I could use std::sync::arc
[06:08:05] <huon> are you on master?
[06:08:15] <fenduru> no but I can be
[06:09:12] <huon> well, either way, one thing to do would be spawn the task with a channel, create the shared state in a MutexArc/RWArc, send a handle to it back to the parent task via the channel, continue as normal.
[06:09:24] *** Quits: teratorn (teratorn@moz-5363C32C.teratorn.org) (Ping timeout)
[06:09:26] <huon> (master is nicer, btw :) )
[06:10:02] <huon> another way would be to just send whatever state the parent needs to know back to it via a channel
[06:10:13] <huon> (i.e. the pieces of the state.)
[06:10:36] <huon> but I guess that only makes sense if the parent needs/wants to see every update
[06:11:47] <fenduru> ok
[06:11:58] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[06:12:52] <huon> (a third method would be to create the state in a MutexArc/RWArc in the parent and move a handle to that into the child.)
[06:13:38] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[06:14:09] <fenduru> That was the first thing I tried
[06:14:34] <fenduru> but it wouldn't let me move mutable data into the closure
[06:15:29] <fenduru> although I guess the error I'm getting is "mutable variables cannot be implicitly captured"... does that imply I can explicitly capture it?
[06:16:08] <huon> oh, the fix for that is either update to master
[06:16:50] <huon> or freeze/thaw it `let mut foo = ...; /* ... */ let foo = foo; spawn(proc() { let mut foo = foo; ... })`
[06:17:28] <huon> (if the state is in a MutexArc then I think the binding itself doesn't have to be mutable `mut`, fwiw.)
[06:18:19] *** Quits: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Quit: lkuper)
[06:18:39] *** Joins: edwardw (edwardw@E6E87FA7.354F6412.B9C6B12A.IP)
[06:20:48] <fenduru> well I'm off to bed. thanks for all the tips :)
[06:23:42] *** Joins: WebeWizard (WebeWizard@moz-7CCD1DAE.ks.ks.cox.net)
[06:24:02] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[06:24:20] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[06:25:01] *** Joins: Moor (Moor@moz-C04C27D8.hsd1.ca.comcast.net)
[06:27:14] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[06:29:30] *** Quits: Erik_ (Erik_S@moz-6691E309.hlrn.qwest.net) (Ping timeout)
[06:32:25] <Valloric> does Rust support nested functions?
[06:33:12] <sfackler> yep
[06:33:24] <Valloric> hm, I can't find it in the manual
[06:33:44] <sfackler> rusti: fn foo() { fn bar() { mod baz { fn blah() {} } } }
[06:33:46] -rusti- pastebinned 16 lines of output: http://ix.io/aRR
[06:34:51] <Eridius> Valloric: nested functions don't have access to the enclosing function's variables, though
[06:35:07] <Valloric> Eridius: that much I assumed
[06:35:43] *** Quits: Moor (Moor@moz-C04C27D8.hsd1.ca.comcast.net) (Ping timeout)
[06:35:47] *** Quits: mawuli (mawuli@moz-A89BBCE.com.gh) (Ping timeout)
[06:35:48] <Eridius> Valloric: gcc nested functions do, though, which is why I mentioned it
[06:35:51] <Valloric> still, strange that I can't find any mention of this in the manual
[06:36:08] <Valloric> ctrl-f "nested" and "inner" doesn't point me to anything about functions
[06:36:12] <huon> there's probably a mention of "functions can contain items"
[06:36:15] *** Joins: mawuli (mawuli@moz-A89BBCE.com.gh)
[06:36:16] <huon> or something like that
[06:36:22] <Eridius> yeah functions can contain types and `use`
[06:36:26] <huon> (maybe in a grammar, as outdated as that is)
[06:37:19] <ChrisMorgan> Is x.clone() on a Pod type identical in performance to implicit copying?
[06:37:26] <Eridius> ChrisMorgan: I would assume it inlines
[06:37:26] <Valloric> this leads me to my next question... how much can the manual be trusted to not be out of date/incomplete?
[06:37:37] <huon> ChrisMorgan: not necessarily
[06:37:42] <huon> but in practice yes
[06:37:51] <ChrisMorgan> huon: expound?
[06:37:59] <huon> (i.e. someone could define a Clone that sleep(100)'s on a Pod type)
[06:38:08] <ChrisMorgan> OK, I'm assuming #[deriving(Clone)]
[06:38:10] <huon> but that would be done, and almost all Clone's are #[deriving]'d
[06:38:26] <huon> (which does make Pod's fast, with optimisatios)
[06:38:36] <huon> Valloric: not much
[06:39:32] <Valloric> huon: huh... so what's the best way to learn the intricacies of Rust then, other than follow all PRs 
[06:39:40] *** Joins: ofeldt- (ofeldt@moz-86967FF2.dip0.t-ipconnect.de)
[06:39:45] <Eridius> read code?
[06:39:49] <huon> ^
[06:40:02] <huon> some stdlib modules are nice
[06:40:08] <Eridius> compiler has a lot of old code, so not the best spot. Recently-updated stdlib modules are ok
[06:40:15] <Eridius> as are recently-announced third-party libraries
[06:40:23] *** Joins: Capt_Redbeard (Capt_Redbe@moz-4998C3D0.ok.ok.cox.net)
[06:40:27] <ChrisMorgan> Suppose this change goes through and Pod becomes *not* the default. I hope the Clone implementation would have continue to have the same performance characteristics for types that could be Pod but aren't?
[06:40:29] *** Quits: ofeldt (ofeldt@moz-B4ED0F1D.dip0.t-ipconnect.de) (Ping timeout)
[06:40:37] <Valloric> Eridius: those are often written by Rust newbies
[06:40:42] <Valloric> like myself
[06:40:47] <huon> (although the stdlib will likely have a higher code quality, since it's reviewed by Rust experts.)
[06:40:48] <huon> yeah
[06:40:50] <Eridius> Valloric: pick ones that aren't ;)
[06:40:50] <Capt_Redbeard> havin trouble with lifetimes again. any suggestions? http://pastebin.com/X2f7TEQv
[06:41:07] <huon> ChrisMorgan: yes
[06:41:19] <huon> ChrisMorgan: deriving just calls clone on the subtypes
[06:41:20] <ChrisMorgan> Then the only difference is implicit copy vs. explicit .clone().
[06:41:49] <huon> ChrisMorgan: well... actually, I lie: implicit copies are basically memcpy(dst, src, sizeof(type))
[06:41:50] <Eridius> Capt_Redbeard: did you trim some lines from the beginning? the line numbers in the errors don't match up with the code
[06:41:50] <ChrisMorgan> huon: but I guess at present implicit copy is just one memcpy; does clone() optimise to that?
[06:41:54] <huon> but clone is individual parts
[06:41:57] <huon> yeah, exactly that
[06:42:05] <huon> not sure if it optimises
[06:42:13] <ChrisMorgan> (That was what I was getting at in the first place.)
[06:42:37] <huon> (theoretically a memcpy of small struct will be "memcpy"'d directly in registers anyway)
[06:42:41] <Capt_Redbeard> Eridius: Sorry about that: http://pastebin.com/SNfiBvBk
[06:42:44] <huon> best way to check: look at the IR/asm
[06:43:06] <ChrisMorgan> Provided perf will be the same, it seems to me that NonPod is strongly to be preferred for most types.
[06:43:12] <Eridius> Capt_Redbeard: the error pretty much says it. The lifetime of the closure is the lifetime of its scope, but the 'a lifetime imposed by the event_loop field outlives it
[06:43:31] <Eridius> Capt_Redbeard: try putting the 'a lifetime on the &mut self in the fn start() declaration
[06:43:36] <Eridius> since your closure is closing over the self value
[06:43:40] <huon> Capt_Redbeard: make the game_loop closures take an &mut Engine parameter
[06:43:47] <huon> hm, wait... that won't work
[06:43:52] <Eridius> or that, if you pass the engine to the closure then your closure can be 'static
[06:43:56] * huon should be ignored
[06:44:21] <Capt_Redbeard> 'static is the lifetime of the program correct?
[06:44:25] *** Quits: mawuli (mawuli@moz-A89BBCE.com.gh) (Ping timeout)
[06:44:29] <Eridius> Capt_Redbeard: effectively, yes
[06:44:32] <huon> Eridius: (it won't work, because (self.game_loop)(...) will borrow `self`, stopping it from being passed as an argument.)
[06:44:33] <Eridius> it means the value never dies
[06:44:47] <Eridius> huon: oh hmm, does it need to be borrowed immutably? darn
[06:44:49] <Eridius> I mean mutably
[06:45:04] *** Joins: mawuli (mawuli@moz-A89BBCE.com.gh)
[06:45:10] <huon> yes, closures are effectively &mut Trait
[06:45:27] <huon> (with fn call(&mut self)
[06:45:28] <huon> )
[06:45:50] <huon> and so are only callable when in an non-aliased place: i.e. they act like &mut
[06:45:59] <Capt_Redbeard> Adding that to start didn't help, although I may have done it incorrect with the syntax. pub fn start(&'a mut self) { ... }
[06:46:22] <Yurume> Capt_Redbeard, pub fn start<'a>(&'a mut self) { ... }?
[06:46:30] <Eridius> Yurume: no, 'a is defined by the impl
[06:46:32] <Yurume> ah
[06:46:34] <Eridius> and needs to be for that to make sense
[06:46:41] <Eridius> but I guess it's not going to work
[06:46:57] *** Joins: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com)
[06:47:22] <Yurume> well, &'a mut self defines self as &'a mut Self, and if Self = Foo<'a>, then it is &'a mut Foo<'a> which would be just fine
[06:48:25] <huon> I think a trait would work reasonably here
[06:48:26] * huon gtg
[06:49:24] <Capt_Redbeard> I guess I am not seeing the lifetime problem in the code. I am passing the lifetime of the struct down to each of these closures, so they should only last as long as the struct does right?
[06:49:35] <Eridius> hrm I think the &'a mut self doesn't work because self is still captured as a reference rather than by-value
[06:50:00] <Eridius> Capt_Redbeard: the problem is the closures you're trying to assign to your fields have a lifetime that's only valid for their stack frame
[06:50:04] <Eridius> because they close over a value from their stack frame
[06:51:01] <Eridius> and that actually makes sense, because if they _were_ able to close over self, they'd need to hold the mutable borrow
[06:51:14] <Eridius> but there's nothing in the type signature of start() to indicate that self remains mutably borrowed
[06:52:08] <Eridius> Capt_Redbeard: basically, I think you need to split Engine up into two structs that are contained by a third
[06:52:11] <Eridius> one is the actual engine
[06:52:12] <Eridius> one holds the two closures
[06:52:21] <Eridius> and then the enclosing struct is what you manipulate
[06:52:29] <Eridius> then you can destruct the enclosing struct into mutable references to the two sub-structs
[06:52:43] <Eridius> and pass the engine sub-struct reference to the closure, which is taken from the other one
[06:53:06] <Capt_Redbeard> Ok, so I'm trying to hold too much in one struct to feasible work with all of the moving parts.
[06:53:43] <Capt_Redbeard> So destructuring a "closure" struct, then passing the engine to each closure separately.
[06:55:18] <Valloric> rusti: let x = 3; 5 > x > 2 == true
[06:55:19] -rusti- <anon>:10:28: 10:29 error: mismatched types: expected `bool` but found `<generic integer #2>` (expected bool but found integral variable)
[06:55:20] -rusti- <anon>:10         let x = 3; 5 > x > 2 == true
[06:55:20] -rusti-                                      ^
[06:55:20] -rusti- error: aborting due to previous error
[06:55:20] -rusti- application terminated with error code 101
[06:55:36] <Valloric> so no Python-style "multi-comparison" in Rust?
[06:55:48] *** Joins: Havvy[Hex] (Havvy@moz-4FE57F72.hsd1.wa.comcast.net)
[06:55:59] <Capt_Redbeard> Eridius: ^
[06:56:02] <huon> Valloric: it's complaining about the pointless `== true` :P
[06:56:17] <huon> (not really; you are correct, no multi-comparison)
[06:56:38] <Valloric> huon: any chance of getting that at some point? it's really handy for ranges
[06:56:53] <huon> syntax extension, I guess
[06:56:57] <Eridius> Capt_Redbeard: yeah hold on I'm trying to write up an example
[06:56:59] <huon> cmp!(a < b < c)
[06:57:01] * huon shrugs
[06:57:04] <Eridius> Valloric: multi-comparison is an abomination
[06:57:11] <Valloric> Eridius: why?
[06:57:12] <Eridius> it completely breaks the logical nature of the type system of comparisons
[06:57:23] *** Joins: Moor (Moor@moz-C04C27D8.hsd1.ca.comcast.net)
[06:57:34] <Valloric> Eridius: could you elaborate? I'm curious
[06:57:51] *** Joins: brendan (brendaneic@45A3491F.A5FB4ABA.FE58E87C.IP)
[06:57:59] <Eridius> it only makes sense if you declare every possible combination of comparison operators as a new trinary operator, and then it requires effectively infinite lookahead to actually parse
[06:58:14] <Eridius> because you need to detect the presence of the trinary operator before being able to determine if any given operator is a boolean or just the start of a trinary
[06:58:29] <huon> trinary?
[06:58:31] <Eridius> python, being a scripting language, can do whatever the fuck it wants
[06:58:33] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[06:58:34] <Eridius> huon: ternary, sorry
[06:58:37] <huon> n-ary ;P
[06:58:51] <huon> >>> 1 < 2 < 3 < 4 < 5
[06:58:52] <huon> True
[06:58:56] <Valloric> ok, thanks for explaining
[06:59:48] *** Quits: saml (saml@moz-AFAADF83.nycmny.east.verizon.net) (Ping timeout)
[07:00:37] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[07:03:32] <Eridius> Capt_Redbeard: here's an example: https://gist.github.com/kballard/9286311
[07:03:49] <Eridius> I ended up giving the loops a &mut Engine pointer instead of &mut RenderWindow, because the RenderWindow is owned by the Engine and I didn't want to split that up any further
[07:05:33] <Capt_Redbeard> Lets see if I understand this. Any of the fields or values that are declared with the 'a value are going to get the lifetime of the object that initially declared that 'a.
[07:06:48] <brandonson> is there a flatten function for vectors somewhere?  i.e something to turn ~[~[T]] into ~[T]
[07:07:48] <Valloric> brandonson: see here http://static.rust-lang.org/doc/master/std/vec/trait.VectorVector.html
[07:08:01] <Eridius> Capt_Redbeard: yes
[07:08:02] *** Joins: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net)
[07:08:11] <Valloric> brandonson: concat_vec on that page
[07:08:27] <brandonson> Valloric: yup, thanks
[07:08:30] <Eridius> Capt_Redbeard: and what the 'a lifetime there enables is that the closures can capture values from the same stack frame that the GameEngine itself was created in
[07:08:34] <Eridius> (or values that have a larger lifetime)
[07:08:46] <Capt_Redbeard> Eridius: Ok that finally makes sense now. Thank you very much for the help! I am going to dissect your example and see where I can go with.
[07:08:50] <Eridius> otherwise the closure has to be 'static, meaning it can't capture anything at all (except other 'static values)
[07:09:30] <Capt_Redbeard> Ok, so the 'a guarantees that the closure's lifetime cannot access values in the stack frame after those values have left their scope, even though the closure may not have yet. If that makes sense.
[07:10:24] <Eridius> all references have a lifetime
[07:10:30] <Eridius> when a closure captures values, it does so by borrowing them
[07:10:39] <Eridius> and the lifetime of the borrow is equal to the lifetime of the scope of the value it's borrowing
[07:11:27] <Capt_Redbeard> Ok that makes much more sense now.
[07:11:29] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Quit: Leaving...)
[07:11:39] <Eridius> this all serves to ensure the closure itself cannot live longer than values it borrows
[07:11:55] <Eridius> and since your struct has as lifetime, it ensures the struct can't live longer than the lifetime it's inferred to have
[07:11:56] <huon> ("values it captures")
[07:12:00] <Eridius> (which is what allows it to contain the closures)
[07:12:16] *** Quits: Moor (Moor@moz-C04C27D8.hsd1.ca.comcast.net) (Ping timeout)
[07:12:16] <Eridius> huon: sure, I said borrow because captures can conceivably be by-value as well
[07:12:24] *** Quits: mawuli (mawuli@moz-A89BBCE.com.gh) (Ping timeout)
[07:12:33] <Eridius> it actually would be nice if a closure could capture by-value, because then you could capture a &'a mut foo and have the lifetime 'a
[07:12:50] <Eridius> (but that wouldn't have fixed the original code, as that would have still tried to modify self after it's borrowed)
[07:12:53] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[07:13:56] <huon> yeah,
[07:13:58] * huon wants C++11-style closures in Rust
[07:14:08] <huon> unique types, capture by ref or by value, etc.
[07:14:35] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[07:15:12] *** Quits: brendan (brendaneic@45A3491F.A5FB4ABA.FE58E87C.IP) (Quit: brendan)
[07:16:39] <Capt_Redbeard> Thank you very much for the help guys!
[07:17:10] <Valloric> how come I don't get a stack trace on a task failure?
[07:17:42] <Valloric> it's really hard to debug without one
[07:17:44] <huon> because it's not implemented
[07:17:51] <huon> run under gdb and break on `rust_fail`
[07:18:00] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[07:18:09] * Valloric grumbles
[07:18:09] <huon> or wait until https://github.com/mozilla/rust/pull/12602 lands
[07:19:06] <Valloric> houn: thanks for the pointer to the PR, subscribed
[07:21:44] *** Quits: jdm (jdm@moz-AC9499B2.cable.teksavvy.com) (Quit: Lost terminal)
[07:22:42] *** Quits: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[07:23:43] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[07:24:00] *** Quits: Capt_Redbeard (Capt_Redbe@moz-4998C3D0.ok.ok.cox.net) (Quit: Textual IRC Client: www.textualapp.com)
[07:27:17] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[07:27:41] *** Joins: ziad (ziad@moz-C0318336.hsd1.ca.comcast.net)
[07:29:05] *** Quits: fyolnish (fyolnish@moz-E6F0EA6E.uqwimax.jp) (Client exited)
[07:29:43] *** Joins: fyolnish (fyolnish@moz-E6F0EA6E.uqwimax.jp)
[07:29:48] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[07:31:28] *** Quits: fyolnish (fyolnish@moz-E6F0EA6E.uqwimax.jp) (Ping timeout)
[07:31:32] *** Joins: brendan (brendaneic@45A3491F.A5FB4ABA.FE58E87C.IP)
[07:32:16] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[07:32:48] *** Joins: Savago (Savago@D8B9C081.E820043D.D4C04133.IP)
[07:34:36] <edwardw> this is not really rust related, but.. I have three commits and need to rearrange chunks in them to get two commits, what is the git magic for this?
[07:34:45] *** Quits: brendan (brendaneic@45A3491F.A5FB4ABA.FE58E87C.IP) (Quit: brendan)
[07:35:05] <huon> git rebase -i HEAD~3
[07:35:11] *** Quits: angdev (angdev@16F167B.4C57D258.D8E8354F.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[07:35:12] <huon> (or maybe HEAD~4)
[07:35:16] * huon can never remember
[07:35:22] *** Quits: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net) (Quit: Taking a nap.)
[07:35:33] *** Joins: angdev (angdev@16F167B.4C57D258.D8E8354F.IP)
[07:35:35] <sfackler> and then probably squash them all, and then git reset -p to pull out parts?
[07:35:35] <huon> oh, wait... if you need to mix-and-match chunks internal of commits
[07:35:37] <edwardw> but not on a chunk bases
[07:35:47] <edwardw> yep, I need that
[07:36:06] <sfackler> edwardw: i'd try to unstage everything and then use git add -p
[07:36:09] <sfackler> to stage individual prts
[07:36:11] <sfackler> *parts
[07:36:24] <edwardw> sfackler: I'll try that
[07:36:35] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[07:39:04] *** Joins: Moor (Moor@moz-C04C27D8.hsd1.ca.comcast.net)
[07:39:56] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[07:42:11] <o11c> edwardw: git rebase -i HEAD^^^, then git checkout commit file and interactive add
[07:42:45] <o11c> edwardw: suggest doing the rearranging first, the squash later
[07:42:48] *** Quits: Moor (Moor@moz-C04C27D8.hsd1.ca.comcast.net) (Ping timeout)
[07:43:11] <edwardw> o11c: ok
[07:43:50] * pzol fell in love with the Firefox design
[07:44:43] <huon> edwardw: (if you screw up, git reflog helps you get back to how things were before you started.)
[07:45:04] <edwardw> gotcha
[07:46:47] *** Joins: Moor (Moor@moz-C04C27D8.hsd1.ca.comcast.net)
[07:47:05] *** Quits: jeaye (jeaye@moz-34FEF2BB.hsd1.ca.comcast.net) (Quit: zzz)
[07:47:24] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[07:53:45] <ion> I tend to use git rebase -i foo/bar where foo/bar is the remote/branch you pushed to the last time.
[07:53:49] <ion> e.g. origin/master
[07:54:31] *** Quits: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net) (Ping timeout)
[07:54:32] <ion> That gives you the most freedom to mutate the commits without accidentally changing something you have already pushed.
[07:54:58] *** Joins: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net)
[07:56:30] <ion> Also recommended: “git config --global rebase.autosquash true” and to fix the earlier commit -m 'O hai', do a commit -m 'fixup! O hai' and rebase -i
[07:56:47] <p1start1> I just updated to the latest master, and I'm getting an ICE: "failed to find block with tag 27" (at libserialize/ebml.rs:209)
[07:56:57] <p1start1> Is this a known issue, or should I submit an issue for it?
[07:57:40] *** Joins: alan_and_ (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[07:58:23] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[07:58:48] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[07:59:14] <huon> p1start1: recompile any libs you are using
[07:59:22] *** Quits: alan_and_ (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[07:59:25] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[07:59:26] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[07:59:35] *** Joins: derek_c (derek@moz-2ECBD2C7.cit.cornell.edu)
[08:00:05] <p1start1> huon: the only lib I'm using is libstd
[08:00:12] <derek_c> given a vector, how do I get another vector that contains the clones of some elements that fulfill certain conditions?
[08:00:39] <derek_c> I'm doing lst.clone().move_iter().filter(...), but that clones the whole list
[08:00:56] <sfackler> derek_c: vec.filter_map(|x| if foo { Some(x.clone()) } else { None }).collect()?
[08:01:08] <sfackler> *vec.iter().filter_map...
[08:01:41] <huon> p1start1: weird
[08:02:43] <derek_c> sfackler: yeah that works, thanks
[08:02:50] <p1start1> huon: Never mind, I fixed it
[08:03:07] <p1start1> huon: I was actually compiling it with a lib that I made myself
[08:03:37] <huon> and recompiling that lib fixed it?
[08:03:52] <p1start1> Yes
[08:04:19] *** Quits: Moor (Moor@moz-C04C27D8.hsd1.ca.comcast.net) (Ping timeout)
[08:05:43] *** Joins: daschl (Adium@moz-DC6DE6E2.vie.surfer.at)
[08:06:18] *** Quits: thesnowdog (doug@8BC5A90F.CDB23781.6F17036B.IP) (Ping timeout)
[08:07:35] *** Joins: mib_do0eeh (Mibbit@B28DD6B4.33C81E99.7E8886FC.IP)
[08:07:40] *** Joins: thesnowdog (doug@8BC5A90F.CDB23781.6F17036B.IP)
[08:08:54] *** Joins: Moor (Moor@moz-C04C27D8.hsd1.ca.comcast.net)
[08:09:39] *** Quits: mib_do0eeh (Mibbit@B28DD6B4.33C81E99.7E8886FC.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[08:10:15] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[08:11:10] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[08:11:29] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Input/output error)
[08:11:43] *** Quits: WebeWizard (WebeWizard@moz-7CCD1DAE.ks.ks.cox.net) (Quit: Leaving)
[08:11:56] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[08:13:38] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[08:13:43] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Ping timeout)
[08:14:28] *** Quits: bmu (chatzilla@moz-A87574A6.hsd1.pa.comcast.net) (Ping timeout)
[08:15:13] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[08:15:21] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[08:16:01] *** Quits: edwardw (edwardw@E6E87FA7.354F6412.B9C6B12A.IP) (Quit: Leaving...)
[08:16:04] *** Quits: Valloric (Valloric@moz-288722BA.hsd1.ca.comcast.net) (Quit: Valloric)
[08:20:03] <bjz> huon: +1 on C++ style closures
[08:23:35] <pzol> Any opinions on Oniguruma as regex engine?
[08:24:18] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[08:24:39] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[08:24:52] *** Joins: avaf (Mibbit@9CFC1D46.FC760468.513C58AA.IP)
[08:25:02] *** Quits: daschl (Adium@moz-DC6DE6E2.vie.surfer.at) (Quit: Leaving.)
[08:25:41] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Quit: Busying myself...)
[08:27:10] <huon> there's a lot of chat on the RE issue about what "should" be done, and only a few people doing...
[08:28:32] *** Joins: c-a (c-a@moz-DBDF8C81.cust.bluewin.ch)
[08:28:58] *** Quits: Savago (Savago@D8B9C081.E820043D.D4C04133.IP) (Quit: Savago)
[08:29:05] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[08:29:18] <huon> (in particular, https://github.com/lfairy/rose/ still seems to be under active development)
[08:29:29] *** Joins: fyolnish (fyolnish@moz-C6D7F734.uqwimax.jp)
[08:31:11] *** Quits: fyolnish (fyolnish@moz-C6D7F734.uqwimax.jp) (Ping timeout)
[08:32:26] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[08:33:06] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[08:33:56] *** Joins: bjz_ (bjz@B398BE78.F804C29E.D35A31DF.IP)
[08:34:21] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[08:36:59] *** Quits: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[08:37:43] *** Quits: avaf (Mibbit@9CFC1D46.FC760468.513C58AA.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[08:39:51] <bjz_> huon: indeed, so much to do :(
[08:40:47] *** Joins: jroweboy (Mibbit@moz-18814A6B.provo.static.broadweavenetworks.net)
[08:40:55] <TheHydroImpulse> Are there plans to support more backends for the compiler? I saw on an older thread in the mailing list about that being an option to speeding up the compiling process.
[08:41:26] *** Joins: matematikaadit (adit@C49C4646.CCF51A00.8B274F0B.IP)
[08:43:41] *** Joins: mawuli (mawuli@moz-A89BBCE.com.gh)
[08:44:12] *** Quits: derek_c (derek@moz-2ECBD2C7.cit.cornell.edu) (Quit: Leaving)
[08:44:21] *** Joins: adridu59 (Mibbit@moz-CB54E913.rev.numericable.fr)
[08:44:22] <cmr> TheHydroImpulse: no not right now.
[08:44:32] <cmr> any extra backend just means more code to have bugs in...
[08:44:53] <adridu59> TheHydroImpulse: rustc is heavily tied to LLVM as it stands now
[08:45:02] <TheHydroImpulse> cmr Gotcha. Thanks
[08:45:12] <adridu59> TheHydroImpulse: https://github.com/redbrain/gccrs
[08:46:36] <TheHydroImpulse> adridu59 Cool. Yeah, I noticed how tied LLVM is to rust.
[08:47:28] <cmr> I very much doubt we'll be able to win *too* much over LLVM, at least with any level of acceptible perf.
[08:47:34] <cmr> (in the generated code)
[08:47:45] <cmr> but I love happy surprises.
[08:48:21] <adridu59> how hard would it be to write a text editor in Rust?
[08:48:26] <TheHydroImpulse> Is that where most of the time is spent? I tried profiling a bit and that's where I saw time spent.
[08:48:33] <adridu59> I have tried GitHub Atom and it was pretty cool
[08:49:01] <jensnockert> adridu59: Hard, not much harder than any other language though.
[08:49:12] <TheHydroImpulse> I thought I was gonna like Atom, but meh
[08:49:18] <jensnockert> (Mostly due to the lack of good UI libraries)
[08:49:22] *** Quits: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net) (Connection reset by peer)
[08:49:57] <adridu59> jensnockert: I see. I've read somewhere that Sublime has a special toolkit that makes it highly optimized
[08:50:14] <TheHydroImpulse> I was gonna attempt to write a text editor, but it wasn't worth the effort. Sublime was great, but kinda stopped updating it, just like textmate.
[08:50:45] *** Quits: bvssvni (Mibbit@moz-C4579D6F.bb.online.no) (Quit: http://www.mibbit.com ajax IRC Client)
[08:50:48] <adridu59> jensnockert: if I look at GitHub Atom, it's programmed with node and a js backend, probably easier to make than in native code?
[08:51:26] <jensnockert> adridu59: The HTML renderer sure helps getting something quick up.
[08:51:37] <adridu59> a Rust backend paired with an HTML frontend could work too I guess
[08:51:51] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[08:51:55] *** Quits: onelson (owen@18CF7301.95770028.5B6BFE7D.IP) (Ping timeout)
[08:52:05] <jensnockert> HTML isn't very good for this sort of thing though.
[08:52:05] <adridu59> HTML frontend is cool even for the user because it's super easy to customize
[08:52:19] <jensnockert> Yeah, that's the advantage.
[08:52:22] <adridu59> jensnockert: speaking about performance?
[08:52:26] <TheHydroImpulse> adridu59 Just like brackets, it's much easier. I don't know if Atom used codemirror for the editor engine. But the HTML + JS combo has a severe performance hit. Atom is useless on moderately large files and even searching in them.
[08:52:28] <jensnockert> adridu59: Yeah.
[08:52:30] *** Joins: fyolnish (fyolnish@moz-C6D7F734.uqwimax.jp)
[08:53:06] <jensnockert> TheHydroImpulse: I would assume so, the popular editors have highly optimized representations for searching.
[08:53:20] <jensnockert> And for mmapping large files and stuff(tm)
[08:53:29] <Havvy[Hex]> Is there a way to get the length of a vector?
[08:53:37] <jensnockert> .len()
[08:53:39] <TheHydroImpulse> jensnockert Yep. I think Native is the only way to get a performant text editor.
[08:53:44] <adridu59> I see, but if the engine is in native code and HTML is used only for rendering would that solve the performance issues? or would it still make a significant difference with a native widget toolkit?
[08:53:59] <huon> http://static.rust-lang.org/doc/master/complement-cheatsheet.html
[08:54:13] *** Quits: fyolnish (fyolnish@moz-C6D7F734.uqwimax.jp) (Ping timeout)
[08:54:14] <huon> TheHydroImpulse: like emacs using elisp? ;P
[08:54:18] <jensnockert> I think it would make a difference, but on the other hand, there's a lot of performance on a modern computer.
[08:54:29] <jensnockert> And extensibility can be important.
[08:54:34] <jensnockert> So it is a trade-off.
[08:55:13] <adridu59> jensnockert: how is extensibility limited on an editor like say Sublime?
[08:55:25] <adridu59> I mean you have packages
[08:56:01] <jensnockert> Yes, but if it was a good old javascript application you could just monkeypatch everything from a package.
[08:56:05] <jensnockert> For example.
[08:56:21] <TheHydroImpulse> huon hehe. I think the overhead of the new "web" editors is the main issue. In those cases, it's not "native". Not necessarily native code.
[08:56:58] <jensnockert> I run Textmate 2, so maybe I shouldn't preach about extensibility though.
[08:57:27] <TheHydroImpulse> adridu59 For Atom, a few lines of code results in tens of lines of HTML. I think there was a post on HN about it
[08:57:31] *** Joins: eddyb (eddy@moz-41DB10DA.residential.rdsnet.ro)
[08:57:33] <Havvy[Hex]> huon:  Useful.
[08:57:46] <TheHydroImpulse> So HTML might not be the best tool in that case
[08:57:57] *** Quits: avsej_ (avsej@D9A610B8.4841F515.FB33447D.IP) (Ping timeout)
[08:58:05] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Quit: Leaving)
[08:58:17] <adridu59> I see... wonder how they will sell and fare vs sublime
[08:58:51] <jensnockert> Probably will sell loads.
[08:58:53] <TheHydroImpulse> They definitely "sold" the editor pretty well.
[08:59:01] <jensnockert> People buy anything from Github.
[08:59:03] <TheHydroImpulse> i.e., marketing and the hype.
[08:59:10] *** Quits: tgkokk (tgkokk@moz-5CF0FE99.home.otenet.gr) (Quit: Textual IRC Client: www.textualapp.com)
[08:59:20] *** Joins: avsej_ (avsej@D9A610B8.4841F515.FB33447D.IP)
[08:59:27] <TheHydroImpulse> Sublime kinda died off a bit. Barely any updates anymore
[08:59:34] <TheHydroImpulse> Pretty closed system
[08:59:35] *** Quits: eddyb (eddy@moz-41DB10DA.residential.rdsnet.ro) (Quit: Konversation terminated!)
[08:59:43] *** Joins: eddyb (eddy@moz-41DB10DA.residential.rdsnet.ro)
[09:00:13] *** Joins: alkino_ (alkino@moz-F4D3BCB1.w92-151.abo.wanadoo.fr)
[09:00:29] <jensnockert> Oh.
[09:00:42] <jensnockert> Hurray for textmate \o/
[09:01:02] * jensnockert still gets updates twice a week years after buying my license.
[09:01:13] *** Quits: untwisted (untwisted@moz-60D579DC.hsd1.ca.comcast.net) (Ping timeout)
[09:04:26] <TheHydroImpulse> hehe
[09:05:02] <FreeFull> Will Rust ever take the Haskell route of a good base language and optional extensions for the crazier stuff?
[09:05:36] *** Quits: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com) (Ping timeout)
[09:05:47] *** Joins: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com)
[09:06:59] *** Quits: avsej_ (avsej@D9A610B8.4841F515.FB33447D.IP) (Ping timeout)
[09:07:35] <jensnockert> FreeFull: Already does, in some sense. With feature flags and stuff.
[09:07:51] *** Joins: avsej_ (avsej@D9A610B8.4841F515.FB33447D.IP)
[09:08:00] <FreeFull> I suppose
[09:09:10] <FreeFull> jensnockert: It's not the same as Haskell though, with issue 9988 open
[09:09:12] *** Joins: brendan (brendaneic@9E9221B0.60D98710.CE12DF22.IP)
[09:09:40] <huon> Rust's crates are more similar to Haskell's modules than the Rust's module
[09:09:41] <huon> s
[09:09:44] <huon> (fwiw)
[09:10:06] *** Joins: ambro718 (ambro@moz-2E81752A.static.dsl.siol.net)
[09:10:19] <FreeFull> So it already is crate-level then?
[09:11:11] *** Joins: nano (nano@moz-ED77243C.superkabel.de)
[09:11:49] <bjz_> jensnockert: the github repo for textmate2 seems very active
[09:12:05] <jensnockert> Yeah, there's a new release at least every week.
[09:12:18] <bjz_> https://github.com/textmate/textmate/
[09:12:21] <bjz_> ahh
[09:12:26] <bjz_> do you still use it?
[09:13:06] <bjz_> I'm on sublime
[09:13:12] *** Joins: tgkokk (tgkokk@moz-5CF0FE99.home.otenet.gr)
[09:13:23] <jensnockert> I use it.
[09:13:29] <bjz_> textmate 2?
[09:13:34] <bjz_> decent?
[09:14:03] <jensnockert> Textmate2, yes.
[09:14:05] *** Joins: glaebhoer1 (glaebhoerl@moz-B5B88D72.catv.broadband.hu)
[09:14:05] <jensnockert> And it's nice.
[09:14:19] <bjz_> how does it compare to sublime?
[09:14:23] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[09:15:11] *** Quits: jroweboy (Mibbit@moz-18814A6B.provo.static.broadweavenetworks.net) (Quit: http://www.mibbit.com ajax IRC Client)
[09:15:59] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Connection reset by peer)
[09:16:05] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[09:16:18] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[09:17:22] *** Quits: kvanb (kvanb@9E43123A.EB246ED8.1611EE05.IP) (Ping timeout)
[09:17:46] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[09:19:24] *** Joins: kvanb (kvanb@moz-5EF0052D.lnse3.lon.bigpond.net.au)
[09:19:43] *** Joins: oxum (anonymous@95C879B1.6B6245D5.C28326FD.IP)
[09:21:35] *** Quits: tgkokk (tgkokk@moz-5CF0FE99.home.otenet.gr) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[09:21:39] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[09:21:42] *** Quits: Blub\w (wry@620605B3.71150E1A.237AE2BA.IP) (Quit: stupid tmux did a protocol upgrade... grrr...)
[09:23:41] *** Joins: Blub\w (wry@620605B3.71150E1A.237AE2BA.IP)
[09:24:26] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[09:25:53] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[09:26:12] *** Joins: mudpit (Mibbit@moz-2E8CA358.hsd1.ca.comcast.net)
[09:26:20] *** Quits: mudpit (Mibbit@moz-2E8CA358.hsd1.ca.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[09:26:21] *** Joins: ricepuddin (graham@moz-7D68765A.cable.virginm.net)
[09:32:09] *** Joins: numerodix (numerodix@moz-A4A47DA2.adsl2.static.versatel.nl)
[09:32:33] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[09:32:34] *** Joins: twi (Adium@BC1E56B6.55F3F843.839F6EC0.IP)
[09:34:04] <whitequark> wait, tm2 is opensource?
[09:36:44] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[09:36:52] *** Joins: mgottschlag (quassel@moz-687B4309.cust.bluewin.ch)
[09:38:48] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[09:39:19] *** Quits: bjz_ (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[09:41:04] <adridu59> whitequark: yes
[09:41:45] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[09:44:57] *** Joins: amousset_ (amousset@6181009C.10715965.BCDF592F.IP)
[09:45:08] *** Joins: lpsmith (lpsmith@E4C1E848.C77A9B09.98155C6F.IP)
[09:47:31] *** Joins: intuxicated (intuxicate@9263FE27.7BE52D34.1D2B9C94.IP)
[09:48:31] <jensnockert> bjz: No idea, haven't used Sublime much. But it supports what I need, except maybe the lacking Rust stuff.
[09:49:02] *** Joins: Matthias247 (Miranda@moz-BDD35EC0.hsi5.kabel-badenwuerttemberg.de)
[09:50:13] *** Joins: fyolnish (fyolnish@moz-CE6583B8.uqwimax.jp)
[09:50:32] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[09:52:30] *** Joins: spider-mario (spidermari@moz-81131DB6.fbx.proxad.net)
[09:54:19] *** Quits: matp (matp@moz-16FE1E05.matp.at) (Quit: Bye!)
[09:56:07] *** Quits: matematikaadit (adit@C49C4646.CCF51A00.8B274F0B.IP) (Ping timeout)
[09:56:39] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Quit: TheHydroImpulse)
[10:00:17] *** Joins: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net)
[10:00:53] *** Quits: p1start1 (rewi@moz-A082F561.adsl.xtra.co.nz) (Ping timeout)
[10:01:07] *** Quits: adridu59 (Mibbit@moz-CB54E913.rev.numericable.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[10:02:54] *** Joins: jackneill (jackneill@moz-71EEFD48.pool.digikabel.hu)
[10:03:30] *** Quits: mgottschlag (quassel@moz-687B4309.cust.bluewin.ch) (Ping timeout)
[10:05:39] *** Joins: matematikaadit (adit@EAB437A3.C9465FFC.4712F74.IP)
[10:05:42] *** Joins: ggherdov_ (sid11402@moz-E77DEB21.irccloud.com)
[10:07:25] *** Joins: adonohue (adonohue@55513BD.95D3F462.59D8BB03.IP)
[10:08:00] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Quit: Jesse)
[10:09:14] *** Quits: fyolnish (fyolnish@moz-CE6583B8.uqwimax.jp) (Client exited)
[10:09:15] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[10:09:18] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Quit: TheHydroImpulse)
[10:09:36] *** Joins: fyolnish (fyolnish@moz-CE6583B8.uqwimax.jp)
[10:10:42] *** Joins: arturo (Thunderbir@moz-4F69776.superkabel.de)
[10:11:10] *** Joins: WebeWizard (WebeWizard@moz-7CCD1DAE.ks.ks.cox.net)
[10:11:16] *** Quits: fyolnish (fyolnish@moz-CE6583B8.uqwimax.jp) (Ping timeout)
[10:12:30] *** Joins: richard|s (mindginati@moz-A13DCAA3.dyn.cust.vf.net.nz)
[10:13:13] *** Quits: arturo (Thunderbir@moz-4F69776.superkabel.de) (Ping timeout)
[10:13:14] *** Joins: arturo (Thunderbir@moz-E83B14F0.superkabel.de)
[10:16:14] *** Quits: brendan (brendaneic@9E9221B0.60D98710.CE12DF22.IP) (Quit: brendan)
[10:16:36] *** Joins: amousset__ (amousset@6181009C.10715965.BCDF592F.IP)
[10:16:44] *** Quits: victorporof (victorporo@moz-FFB76956.cpe.net.cable.rogers.com) (Quit: victorporof)
[10:16:45] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[10:16:52] *** Joins: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net)
[10:16:56] *** Quits: amousset_ (amousset@6181009C.10715965.BCDF592F.IP) (Ping timeout)
[10:17:54] *** Quits: glaebhoer1 (glaebhoerl@moz-B5B88D72.catv.broadband.hu) (Quit: )
[10:17:59] *** Joins: glaebhoer1 (glaebhoerl@moz-B5B88D72.catv.broadband.hu)
[10:18:26] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[10:22:22] *** Joins: victorporof (victorporo@moz-FFB76956.cpe.net.cable.rogers.com)
[10:23:19] *** Quits: c-a (c-a@moz-DBDF8C81.cust.bluewin.ch) (Ping timeout)
[10:23:24] *** Quits: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net) (Quit: killerswan)
[10:26:45] *** Joins: matp (matp@moz-16FE1E05.matp.at)
[10:28:00] *** Quits: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP) (Connection reset by peer)
[10:32:15] *** Joins: alkino (alkino@moz-53CAAA6D.w92-151.abo.wanadoo.fr)
[10:32:54] *** Quits: alkino_ (alkino@moz-F4D3BCB1.w92-151.abo.wanadoo.fr) (Ping timeout)
[10:35:28] <Havvy[Hex]> jensnockert:  There's a Rust package for Sublime.
[10:35:30] *** Havvy[Hex] is now known as Havvy
[10:35:44] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[10:35:51] <jensnockert> Havvy: Yes, but was comparing with Textmate, which doesn't.
[10:35:51] *** Joins: mgottschlag (quassel@moz-687B4309.cust.bluewin.ch)
[10:36:01] <Havvy> Ah.
[10:37:51] *** Joins: m-r-r (m-r-r@DA163170.3FD22A6B.CF651168.IP)
[10:38:14] *** Joins: Ferreus (ferreus@moz-AD3D249C.lsn.wtnet.de)
[10:39:43] *** Joins: nkoep (nik@moz-160379A5.pool.mediaways.net)
[10:39:54] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[10:40:06] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[10:42:23] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[10:44:43] *** Quits: lerc (quassel@moz-289EFA2.telstraclear.net) (Ping timeout)
[10:47:34] *** Joins: lerc (quassel@moz-289EFA2.telstraclear.net)
[10:50:12] *** Joins: io2 (io2@moz-EE406A5.home.otenet.gr)
[10:50:12] *** Quits: ambro718 (ambro@moz-2E81752A.static.dsl.siol.net) (Ping timeout)
[10:50:14] *** Quits: lerc (quassel@moz-289EFA2.telstraclear.net) (Ping timeout)
[10:50:14] <whitequark> jensnockert: but Sublime package can be (partially) used for TextMate
[10:50:21] <whitequark> Sublime uses tmLanguage files for example.
[10:52:56] *** Joins: lerc (quassel@moz-289EFA2.telstraclear.net)
[10:54:38] *** Quits: fournm (Aria@moz-ABB60BA0.austin.res.rr.com) (Quit: Leaving)
[10:56:13] *** Quits: reyre (reyre@8A257803.33EE9F8A.1139E686.IP) (Ping timeout)
[10:57:01] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[10:57:10] *** Joins: reyre (reyre@8A257803.33EE9F8A.1139E686.IP)
[10:57:10] *** Quits: reyre (reyre@8A257803.33EE9F8A.1139E686.IP) (Max SendQ exceeded)
[10:57:28] *** Joins: PTank (p-tank@moz-FEFCCB6C.fbx.proxad.net)
[10:57:41] *** Joins: reyre (reyre@8A257803.33EE9F8A.1139E686.IP)
[10:59:10] *** Quits: oxum (anonymous@95C879B1.6B6245D5.C28326FD.IP) (Ping timeout)
[10:59:18] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[10:59:49] *** Quits: intuxicated (intuxicate@9263FE27.7BE52D34.1D2B9C94.IP) (Ping timeout)
[11:00:22] *** Joins: intuxicated (intuxicate@9263FE27.7BE52D34.1D2B9C94.IP)
[11:00:40] *** Quits: intuxicated (intuxicate@9263FE27.7BE52D34.1D2B9C94.IP) (Max SendQ exceeded)
[11:01:00] *** Quits: eddyb (eddy@moz-41DB10DA.residential.rdsnet.ro) (Ping timeout)
[11:01:09] *** Joins: intuxicated (intuxicate@9263FE27.7BE52D34.1D2B9C94.IP)
[11:02:55] *** Joins: oxum (anonymous@128DA6A6.2FBB076.520CDC98.IP)
[11:04:09] *** Quits: intuxicated (intuxicate@9263FE27.7BE52D34.1D2B9C94.IP) (Ping timeout)
[11:04:24] *** Quits: Matthias247 (Miranda@moz-BDD35EC0.hsi5.kabel-badenwuerttemberg.de) (Connection reset by peer)
[11:06:19] *** Quits: oxum (anonymous@128DA6A6.2FBB076.520CDC98.IP) (Ping timeout)
[11:06:37] *** Joins: engla (engla@moz-F64E1B0F.cust.bredbandsbolaget.se)
[11:08:18] *** Joins: intuxicated (intuxicate@9263FE27.7BE52D34.1D2B9C94.IP)
[11:09:26] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Quit: leaving)
[11:09:52] *** Joins: fyolnish (fyolnish@moz-C277D767.uqwimax.jp)
[11:10:35] *** Quits: matematikaadit (adit@EAB437A3.C9465FFC.4712F74.IP) (Quit: Leaving)
[11:11:33] *** Quits: fyolnish (fyolnish@moz-C277D767.uqwimax.jp) (Ping timeout)
[11:12:45] *** Quits: intuxicated (intuxicate@9263FE27.7BE52D34.1D2B9C94.IP) (Ping timeout)
[11:13:02] *** Joins: oxum (anonymous@DE70D62E.787D7D11.520CDC98.IP)
[11:13:10] *** Joins: intuxicated (intuxicate@9263FE27.7BE52D34.1D2B9C94.IP)
[11:15:32] <bjz> jensnockert: yeah, try the tmlanguage from the sublime package. it is out of date though, and could use some work :/
[11:15:52] <jensnockert> I use C# highlighting and it works alright with some lifetime mods.
[11:15:54] <bjz> jensnockert: I'm wondering if we should add a tmlanguage file to the rust repo
[11:16:05] <jensnockert> That would be cool.
[11:16:10] <bjz> seeing as Atom is using it too
[11:16:20] <bjz> (it seems)
[11:16:46] *** Quits: intuxicated (intuxicate@9263FE27.7BE52D34.1D2B9C94.IP) (Ping timeout)
[11:17:51] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[11:18:10] *** Joins: tgkokk (tgkokk@moz-5CF0FE99.home.otenet.gr)
[11:19:31] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[11:20:18] *** Joins: marianoguerra (marianogue@moz-D80CB316.dip0.t-ipconnect.de)
[11:33:10] *** Quits: angdev (angdev@16F167B.4C57D258.D8E8354F.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[11:34:43] <Armavica> hello, I would like to match a nested vector (something like `~[~[int]]`), what is the best way to do this since the removal of unique vector patterns?
[11:38:44] *** Quits: adonohue (adonohue@55513BD.95D3F462.59D8BB03.IP) (Quit: adonohue)
[11:39:00] *** Quits: glaebhoer1 (glaebhoerl@moz-B5B88D72.catv.broadband.hu) (Ping timeout)
[11:39:17] *** Joins: glaebhoer1 (glaebhoerl@moz-B5B88D72.catv.broadband.hu)
[11:39:52] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[11:41:00] *** Joins: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net)
[11:41:09] *** Quits: twi (Adium@BC1E56B6.55F3F843.839F6EC0.IP) (Quit: Leaving.)
[11:43:06] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[11:43:07] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[11:43:16] <Armavica> err wait, if the idea is to eventually remove unique vectors from the language, I probably don't want to do that
[11:47:48] *** Joins: intuxicated (intuxicate@9263FE27.7BE52D34.1D2B9C94.IP)
[11:48:29] *** Quits: MP2E (cray@moz-EB1E242D.lv.lv.cox.net) (Quit: night)
[11:50:01] *** Joins: Viewtiful (Mibbit@moz-A94BCFE.w92-153.abo.wanadoo.fr)
[11:51:37] <WebeWizard> Armavica, turn it into a slice, then match it
[11:52:29] <Armavica> WebeWizard: yes but the inner one is still an owned vector
[11:52:51] *** Joins: adonohue (adonohue@55513BD.95D3F462.59D8BB03.IP)
[11:52:52] *** Joins: angdev (angdev@16F167B.4C57D258.D8E8354F.IP)
[11:52:56] *** Quits: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net) (Quit: Leaving...)
[11:53:03] <huon> i guess you're forced to have nested matches :(
[11:54:14] <Armavica> :(
[11:54:44] <Armavica> just to be sure that I understand well, is "unique vector" a synonym for "owned vector"?
[11:55:04] *** Joins: c-a (c-a@moz-DBDF8C81.cust.bluewin.ch)
[11:57:02] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[11:57:22] <Armavica> and if it is, what should one use instead once they are removed away?
[11:57:58] *** Joins: eddyb (eddy@moz-41DB10DA.residential.rdsnet.ro)
[11:58:07] *** Quits: WebeWizard (WebeWizard@moz-7CCD1DAE.ks.ks.cox.net) (Client exited)
[11:59:22] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[11:59:41] <huon> unique == owned == ~ in rust parlance, yeah
[11:59:46] <huon> std::vec_ng::Vec
[11:59:52] <huon> (not listed in docs for now)
[12:03:59] <Armavica> ok, I'll check this out
[12:04:01] <Armavica> thank you
[12:06:41] *** Quits: tgkokk (tgkokk@moz-5CF0FE99.home.otenet.gr) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[12:10:57] *** Joins: Earnestly (earnest@F86306B4.BBD8F39E.FEA8F6FD.IP)
[12:12:12] <FreeFull> Armavica: std::vec_ng::Vec will eventually become ~[T] again though, I've heard
[12:12:49] *** Joins: FrozenCow (FrozenCow@moz-E69F48E.dynamic.upc.nl)
[12:13:20] *** Joins: mihe (quassel@moz-DD16D594.ias.bredband.telia.com)
[12:13:30] *** Quits: mmalecki (maciej@DE8E8A22.9EBA3CD1.D6573861.IP) (Ping timeout)
[12:14:00] <Armavica> this would be great, since I've learned to do everything with ~[T] :)
[12:15:32] <huon> no
[12:15:45] <huon> DST would be a new ~[T] would reappear
[12:16:06] <huon> but it would be different to the current behaviour of ~[T] and Vec<T>
[12:16:18] <FreeFull> Ok
[12:16:21] <huon> specifically ~[T] would be like &[T] is now: (*T, length)
[12:16:23] *** Joins: amousset (amousset@6181009C.10715965.BCDF592F.IP)
[12:16:41] <huon> but with the pointer being allocated/freed like ~ is
[12:16:46] *** Quits: amousset__ (amousset@6181009C.10715965.BCDF592F.IP) (Ping timeout)
[12:16:52] *** Joins: mmalecki (maciej@DE8E8A22.9EBA3CD1.D6573861.IP)
[12:17:00] <huon> *would mean a
[12:17:48] <eddyb> the DST ~[T] is mainly a size optimization for a heap vector with a frozen length
[12:18:25] <eddyb> Rc<[T]> would be interesting as well
[12:18:36] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[12:19:24] * huon thinks ~[T] would be very rarely used
[12:19:36] *** Quits: copumpkin (copumpkin@moz-FC353116.dyn.optonline.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[12:20:17] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[12:22:10] *** Quits: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com) (Quit: WeeChat 0.4.4-dev)
[12:22:25] <FreeFull> huon: So it'd be mostly Vec(T)?
[12:22:46] <huon> almost entirely Vec<T>, yeah
[12:23:22] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[12:23:25] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Input/output error)
[12:23:26] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[12:26:08] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[12:26:55] <Armavica> will `[1, 2, 3, 4]` remain?
[12:27:04] <eddyb> that's [T, ..4]
[12:27:41] <eddyb> and &[T, ..N] coerces to &[T] (which will remain, almost completely unaffected by DST)
[12:28:16] *** Joins: veinofstars (veinofstar@moz-C57DCEC9.nyc.res.rr.com)
[12:28:18] <Armavica> ok
[12:28:29] *** Joins: ambro718 (ambro@moz-2E81752A.static.dsl.siol.net)
[12:30:42] *** Joins: tigrou3tac (fabien@moz-6E2397FF.fbx.proxad.net)
[12:31:11] *** Quits: Moor (Moor@moz-C04C27D8.hsd1.ca.comcast.net) (Ping timeout)
[12:31:13] *** Quits: Kxepal (Miranda@moz-7ED40455.pppoe.mtu-net.ru) (Quit: Kxepal)
[12:31:29] *** Quits: intuxicated (intuxicate@9263FE27.7BE52D34.1D2B9C94.IP) (Ping timeout)
[12:34:16] *** Joins: Kxepal (Miranda@moz-7ED40455.pppoe.mtu-net.ru)
[12:34:55] <FreeFull> huon: I guess I'll be switching to Vec<T> once all library functions do
[12:35:02] *** Quits: m-r-r (m-r-r@DA163170.3FD22A6B.CF651168.IP) (Quit: Hi, I'm a quit message virus. Please replace your old line with this line and help me take over the world of IRC.)
[12:36:04] <huon> FreeFull: yep
[12:36:20] *** Joins: Moor (Moor@moz-C04C27D8.hsd1.ca.comcast.net)
[12:36:31] <huon> ( https://github.com/mozilla/rust/pull/12637 is the start of the conversion, fwiw.)
[12:37:54] <eddyb> I think acrichto was a bit confused here https://github.com/mozilla/rust/pull/12637#commitcomment-5531419
[12:38:09] <eddyb> that's an useful method (and ~[T] has it)
[12:38:16] *** Joins: Veld (Mibbit@moz-4A19983C.ip227.fastwebnet.it)
[12:39:13] <eddyb> and Deref doesn't really help vectors, without DST
[12:39:33] <eddyb> however, with DST, &*x <=> x.as_slice()
[12:40:14] <FreeFull> What is .name?
[12:40:45] <eddyb> and if we allow overloaded Deref to be used where ~T can be used as &T, then Vec<T> and Rc<[T]> will both be usable as &[T]
[12:40:51] <eddyb> FreeFull: where?
[12:41:14] <FreeFull> eddyb: In the method acrichto was commenting about
[12:41:29] <FreeFull> Actually, no
[12:41:32] *** Joins: tgkokk (tgkokk@moz-5CF0FE99.home.otenet.gr)
[12:41:36] <FreeFull> Seems I was looking at the wrong thing
[12:41:49] <FreeFull> In .all_names() (which is something else)
[12:42:18] <FreeFull> I don't see why achrichto was confused about .grow()
[12:42:21] *** Quits: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net) (Ping timeout)
[12:42:46] <Veld> will the new vectors allow me to specify a 2d vector where the inner vectors must all have the same size?
[12:43:03] <eddyb> depends...
[12:43:06] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[12:43:07] <doomlord_> i would guess that sort of thing would be library code ?
[12:43:30] <doomlord_> its somethign i commonly make, i dont even know if C++ has one standard, let alone rust
[12:43:35] <eddyb> [[T, ..N]] would work, but N would have to be known at compile-time
[12:43:47] *** Quits: tgkokk (tgkokk@moz-5CF0FE99.home.otenet.gr) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[12:43:58] <eddyb> [[T]] would (sadly) be an impossible type
[12:44:00] <doomlord_> i make 2d,3d arrays with variable size x,y,z for spatial partitioning
[12:44:08] <doomlord_> or representing images
[12:44:19] *** Joins: [squiddy] (squiddy@moz-767EF079.dynamic.cablesurf.de)
[12:44:23] <FreeFull> It sounds like something that should be in the standard libraries, at least
[12:44:33] <huon> Veld: the "correct" way to do that is to have a single Vec<T> and index with i * n + j
[12:44:43] <huon> (is more compact in memory too)
[12:44:47] <doomlord_> but you want to wrap that with 2d acessors
[12:44:51] <eddyb> huon: that would be [[T]]
[12:45:00] <doomlord_> no you dont want allocations 
[12:45:01] <FreeFull> You could make accessors to wrap it
[12:45:02] <huon> eddyb: no, that would be [T] with fancy indexing ;)
[12:45:07] <doomlord_> you want a single allocation for the whole thing
[12:45:13] *** Quits: Moor (Moor@moz-C04C27D8.hsd1.ca.comcast.net) (Ping timeout)
[12:45:13] <huon> Vec<T>
[12:45:15] <doomlord_> as huon suggests (sorry for using return as punctuation)
[12:45:24] <huon> v.get_2d(i, j)
[12:45:40] <eddyb> huon: I mean, [[T, ..N]] and the impossible [[T]] would let you do [j][i]
[12:45:55] <huon> (where v is like struct Vec2d<T> { data: Vec<T>, n: uint })
[12:45:59] <doomlord_> one way is struct Vec2d<T> { data:Vec<T>, width:int } ... but then you need a divide to figure out 'height' and you have the ability to express the wrong sizes
[12:46:05] <huon> heh
[12:46:10] <doomlord_> height = data.len()/width
[12:46:21] <huon> (could store height cached too.)
[12:46:27] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[12:46:31] <doomlord_> so i prefer doing it custom in C++  .... struct Array2d { T* data; int width, int height; ...}
[12:46:47] <eddyb> and with variadic Index, there's nothing stopping you from implementing v[x, y, z] for [[[T]]], doing [z][y][x]
[12:46:56] <eddyb> *of course* [[[T]]] is impossible
[12:47:08] <FreeFull> Without variadic index, you could use tuples
[12:47:12] <FreeFull> [(x,y,z)]
[12:47:27] <FreeFull> Which I think is already possible
[12:47:34] <doomlord_> would you want to keep operator [] general though
[12:47:37] <eddyb> FreeFull: not with current coherence rules :(
[12:47:51] <eddyb> *however*... akin to HKT, we could have unsized "degrees" or "dimensions"
[12:47:56] <doomlord_> i'm guessing operator[] will be overloadable like in c++
[12:48:05] <eddyb> it's already like C++
[12:48:09] <doomlord_> i really dont mind using accessor functions....   my2darray.get(i,j) etc
[12:48:10] <eddyb> we want to make it better, though
[12:48:41] <doomlord_> i suppose [x,y,z] really is distinct to [(x,y,z)] ... if you were going to build it in... i'd prefer to see the former
[12:48:50] <eddyb> mkay, so is it worth having unsized*2 [[T]]?
[12:49:11] <eddyb> wait... is there a problem, at all?
[12:49:13] *** Joins: mindcat (mindcat@986D183E.79C16620.DBA68950.IP)
[12:49:13] <doomlord_> you should keep [[T]] meaning what it does now
[12:49:21] <eddyb> it doesn't mean anything
[12:49:33] <doomlord_> ah of course [~[T]]
[12:49:35] <doomlord_> sorry
[12:49:41] <FreeFull> eddyb: It would work if you had a Vec2 wrapper or such
[12:49:43] *** Joins: Moor (Moor@moz-C04C27D8.hsd1.ca.comcast.net)
[12:49:48] <eddyb> FreeFull: not that...
[12:49:54] <FreeFull> What then?
[12:49:54] *** Joins: saml (saml@moz-AFAADF83.nycmny.east.verizon.net)
[12:50:26] <doomlord_> would [[T]] being distinct from [[T,..N]] start to make funny syntax rules
[12:50:26] <ChrisMorgan> What? Labels work on `for` and `loop`, but not `while`?
[12:50:54] <eddyb> I think I've heard of that bug before
[12:51:00] <doomlord_> heh..    [T*N] ... vs [T^N] .. N=dimensions :)
[12:51:06] <eddyb> doomlord_: no, we already can parse [[T]]
[12:51:15] <eddyb> rusti: let x: [[int]];
[12:51:18] -rusti- pastebinned 8 lines of output: http://ix.io/aS7
[12:51:18] <doomlord_> ok
[12:51:19] *** Quits: huon (Thunderbir@moz-826BD85A.lns20.syd6.internode.on.net) (Quit: huon)
[12:51:42] *** Joins: huon (Thunderbir@moz-826BD85A.lns20.syd6.internode.on.net)
[12:51:43] *** ChanServ sets mode: +o huon
[12:52:17] <huon> ChrisMorgan: yes
[12:53:09] <ChrisMorgan> huon: accidental, I hope?
[12:53:26] <huon> well, it's not been implemented for while
[12:53:36] <huon> feel free to do it
[12:53:41] * ChrisMorgan has a great title for the issue he will file: "Can't use label for while loop"
[12:53:44] <Veld> speaking of indexing, it bugs me that indexing in Rust follows a [y][x] notation, since I consider each subvector to be a row
[12:54:02] <eddyb> that's the same situation as C and C++
[12:54:23] <doomlord_> i prefer that , its more logical
[12:54:46] <doomlord_> in that its the operator[]'s applied sucessively
[12:54:50] <huon> Veld: it depends entirely on the semantics you impose on your program, right?
[12:54:57] <huon> oh, I see, yes
[12:55:01] <eddyb> nmatsakis: so is there any problem on having multiple dimensions of unsized-ness? I don't see a representation issue as long as we restrict trait objects to sized types
[12:55:04] *** Quits: Viewtiful (Mibbit@moz-A94BCFE.w92-153.abo.wanadoo.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[12:55:13] <huon> (btw, our Index isn't like C++'s: you can't return a reference easily)
[12:55:18] <Veld> rusti: let vec = ~[~[1,2],~[3,4]]; println!("{:d}", vec[1][0])
[12:55:20] -rusti- 3
[12:55:20] -rusti- ()
[12:55:40] <eddyb> nmatsakis: however, while [[Trait]] would be representable, its behavior is surprising
[12:55:44] <eddyb> huon: you can now!
[12:55:46] <huon> Veld: anything else would violate all sorts of type system laws
[12:55:47] *** Joins: dranov (dranov@F4C4F199.90AED49B.FB866788.IP)
[12:55:52] <eddyb> well, kinda
[12:56:01] <eddyb> (nevermind)
[12:56:02] <huon> eddyb: impl<'a> Index<&'a T> for &'a MyType { ... }
[12:56:04] <huon> yeah
[12:56:10] <huon> but it's not "easy"
[12:56:12] <eddyb> Deref doesn't really help
[12:56:20] <huon> correct
[12:56:22] <eddyb> you need IndexAssign
[12:56:59] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[12:57:22] <eddyb> nmatsakis: so &[[Trait]] would have a pointer and 3 erased values, from N, M and T in &[[T, ..N], ..M]
[12:57:30] <eddyb> which.... would be useful, I guess
[12:57:44] <eddyb> (in rare situations)
[12:58:10] <mindcat> does rust have a event or async some like systems?
[12:58:20] <huon> eddyb: T varies for each entry
[12:58:22] <huon> as can N
[12:58:26] <eddyb> nope
[12:58:33] *** Quits: amousset (amousset@6181009C.10715965.BCDF592F.IP) (Ping timeout)
[12:58:37] <huon> so... what's the point of it?
[12:58:43] <eddyb> a matrix?
[12:58:51] *** Quits: glaebhoer1 (glaebhoerl@moz-B5B88D72.catv.broadband.hu) (Quit: )
[12:58:51] <huon> there's no polymorphism if the types are all fixed
[12:58:55] *** Joins: aurynj (Eon@583ABBE5.60FA2E28.B9E25744.IP)
[12:59:04] <huon> (specifically, the inner Trait could just be a generic if it's fixed.)
[12:59:17] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[12:59:18] <eddyb> I'm just saying it won't break :P
[12:59:30] *** Quits: adonohue (adonohue@55513BD.95D3F462.59D8BB03.IP) (Quit: adonohue)
[12:59:58] *** Quits: alkino (alkino@moz-53CAAA6D.w92-151.abo.wanadoo.fr) (Ping timeout)
[13:00:11] <eddyb> nmatsakis: and if we're crazy enough... unsized*3 trait Mat3D {} could allow &[[[T]]] as &Mat3D
[13:00:11] <huon> I guess so... unless you regard "adding not particularly useful functionality to the language" as breaking ;P
[13:00:44] <ChrisMorgan> There, filed https://github.com/mozilla/rust/issues/12643
[13:01:04] * ChrisMorgan wishes he had got #12345 for that
[13:01:18] <huon> ChrisMorgan: erm
[13:01:22] <huon> code example please
[13:01:33] <ChrisMorgan> huon: but that spoils the simplicity of it!
[13:01:41] *** Joins: fyolnish (fyolnish@moz-DBEAFA01.uqwimax.jp)
[13:01:50] <huon> (not every one is a native english speaker, and a poem like that is unnecessarily complicated)
[13:02:02] <huon> (a comment is fine ;) )
[13:02:09] *** Joins: jmmk (jmmk@moz-588F65EA.c3-0.smr-ubr1.sbo-smr.ma.cable.rcn.com)
[13:02:21] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[13:02:46] *** Joins: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch)
[13:03:50] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Input/output error)
[13:04:12] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[13:04:53] *** Quits: eddyb (eddy@moz-41DB10DA.residential.rdsnet.ro) (Ping timeout)
[13:05:53] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[13:05:54] * ChrisMorgan loved writing "break 'eggs;"
[13:07:19] <ChrisMorgan> Whoa, Green Eggs and Ham was read on the US Senate floor to support defunding Obamacare!?
[13:07:43] * mindcat was forgot somethings
[13:08:00] <Axord> ChrisMorgan: gotta pad out those fake fillabusters somehow
[13:08:47] <mindcat> when I implement trait, can I overload function?
[13:08:49] *** Joins: eddyb (eddy@DD15F8DE.17CB6122.FCAAE698.IP)
[13:09:31] *** Quits: richard|s (mindginati@moz-A13DCAA3.dyn.cust.vf.net.nz) (Quit: zzZZZ)
[13:11:29] *** Quits: henrikhodne (sid5765@moz-E77DEB21.irccloud.com) (Quit: )
[13:12:01] *** Quits: FrozenCow (FrozenCow@moz-E69F48E.dynamic.upc.nl) (Ping timeout)
[13:13:15] * mindcat seem has been ignored
[13:13:21] *** Quits: matp (matp@moz-16FE1E05.matp.at) (Quit: Bye!)
[13:13:33] *** Joins: tgkokk (tgkokk@moz-5CF0FE99.home.otenet.gr)
[13:14:53] *** Quits: [squiddy] (squiddy@moz-767EF079.dynamic.cablesurf.de) (Input/output error)
[13:15:51] *** Quits: speckle (speckle@moz-AD109A29.hsd1.md.comcast.net) (Ping timeout)
[13:18:13] *** Joins: speckle (speckle@moz-AD109A29.hsd1.md.comcast.net)
[13:24:16] <eddyb> ChrisMorgan: you're now obliged to produce an audio version of that
[13:24:38] <eddyb> by, let's say, april 1st
[13:25:06] <eddyb> preferably live, during a meetup
[13:25:11] * eddyb is picky
[13:25:13] *** Joins: amousset (amousset@6181009C.10715965.BCDF592F.IP)
[13:27:42] <eddyb> https://en.wikipedia.org/wiki/Green_Eggs_and_Ham Marxism? now I'm even more confused
[13:28:34] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Input/output error)
[13:28:55] *** Quits: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch) (Quit: Leaving.)
[13:31:30] *** Quits: jmmk (jmmk@moz-588F65EA.c3-0.smr-ubr1.sbo-smr.ma.cable.rcn.com) (Ping timeout)
[13:31:36] *** Quits: aklt (aklt@moz-E66E9BCB.u.parknet.dk) (Quit: time for out)
[13:31:47] *** Quits: Moor (Moor@moz-C04C27D8.hsd1.ca.comcast.net) (Ping timeout)
[13:32:54] *** Quits: tgkokk (tgkokk@moz-5CF0FE99.home.otenet.gr) (Ping timeout)
[13:32:59] *** Quits: amousset (amousset@6181009C.10715965.BCDF592F.IP) (Ping timeout)
[13:33:21] *** Quits: mindcat (mindcat@986D183E.79C16620.DBA68950.IP) (Quit: Lost terminal)
[13:34:32] *** Quits: mjrosenb (mjrosenb@moz-22104996.hsd1.pa.comcast.net) (Ping timeout)
[13:34:44] *** Quits: aurynj (Eon@583ABBE5.60FA2E28.B9E25744.IP) (Ping timeout)
[13:35:04] *** Joins: aurynj (Eon@583ABBE5.60FA2E28.B9E25744.IP)
[13:36:16] *** Joins: amousset (amousset@6181009C.10715965.BCDF592F.IP)
[13:37:30] *** Joins: aurynj_ (Eon@583ABBE5.60FA2E28.B9E25744.IP)
[13:37:54] *** Quits: aurynj (Eon@583ABBE5.60FA2E28.B9E25744.IP) (Connection reset by peer)
[13:38:45] *** Joins: kngl (Adium@40AE2BF6.ABCDAFD6.7C797F8E.IP)
[13:39:49] *** Joins: jdm (jdm@moz-AC9499B2.cable.teksavvy.com)
[13:39:49] *** ChanServ sets mode: +o jdm
[13:40:56] *** Joins: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net)
[13:42:41] *** Quits: aurynj_ (Eon@583ABBE5.60FA2E28.B9E25744.IP) (Ping timeout)
[13:42:59] *** Joins: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com)
[13:44:04] *** Joins: mjrosenb (mjrosenb@moz-22104996.hsd1.pa.comcast.net)
[13:45:51] *** Joins: aurynj (Eon@583ABBE5.60FA2E28.B9E25744.IP)
[13:46:00] *** Quits: amousset (amousset@6181009C.10715965.BCDF592F.IP) (Ping timeout)
[13:46:43] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[13:49:11] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[13:49:28] *** Joins: tiffnya (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net)
[13:49:33] *** Quits: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net) (Ping timeout)
[13:49:53] *** tiffnya is now known as tiffany
[13:49:55] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[13:51:36] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[13:51:45] *** Quits: eddyb (eddy@DD15F8DE.17CB6122.FCAAE698.IP) (Ping timeout)
[13:52:18] *** Joins: Moor (Moor@moz-C04C27D8.hsd1.ca.comcast.net)
[13:52:29] *** Joins: glaebhoer1 (glaebhoerl@moz-B5B88D72.catv.broadband.hu)
[13:57:05] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[13:59:13] *** Quits: youknowone (youknowone@A826BD81.8A0DEF81.38747683.IP) (Ping timeout)
[13:59:15] *** Joins: youknowone (youknowone@A826BD81.8A0DEF81.38747683.IP)
[13:59:23] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[14:02:33] *** Quits: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[14:04:46] *** Quits: marianoguerra (marianogue@moz-D80CB316.dip0.t-ipconnect.de) (Ping timeout)
[14:04:52] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[14:06:01] *** Joins: ambimorph (amber@moz-B3FBDFCE.hlrn.qwest.net)
[14:06:23] *** Joins: alkino (alkino@moz-53CAAA6D.w92-151.abo.wanadoo.fr)
[14:06:34] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[14:14:57] *** Parts: brihat (bdsatish@moz-5EC00491.dhcp.inet.fi) ()
[14:15:01] *** Quits: lpy (lpy@7360AA58.F09091A8.1348A864.IP) (Ping timeout)
[14:16:07] *** Joins: AvianFlu (AvianFlu@moz-31F97978.nyc.res.rr.com)
[14:16:16] *** Quits: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org) (Ping timeout)
[14:17:36] *** Joins: eibwen (kvirc@moz-97377929.dip0.t-ipconnect.de)
[14:19:49] *** Joins: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org)
[14:21:14] *** Quits: claudiu (claudiu@81B10C62.5F4BC945.49B2C1AE.IP) (Input/output error)
[14:21:19] *** Joins: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net)
[14:21:44] *** Quits: kngl (Adium@40AE2BF6.ABCDAFD6.7C797F8E.IP) (Ping timeout)
[14:22:36] *** Quits: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[14:23:21] *** Joins: FrozenCow (FrozenCow@moz-E69F48E.dynamic.upc.nl)
[14:24:34] *** Joins: james4k (james@moz-9BB5AE72.consolidated.net)
[14:25:51] *** Joins: tgkokk (tgkokk@moz-285360A0.home.otenet.gr)
[14:26:15] *** Quits: ambimorph (amber@moz-B3FBDFCE.hlrn.qwest.net) (Ping timeout)
[14:26:25] *** Joins: Zylinski (karl@moz-58495553.static.spa.siw.siwnet.net)
[14:28:06] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Ping timeout)
[14:28:27] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[14:28:27] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[14:28:38] *** Quits: gavin (gavin@moz-DB4A9C19.scl3.mozilla.com) (Input/output error)
[14:28:52] *** Joins: gavin (gavin@moz-DB4A9C19.scl3.mozilla.com)
[14:28:57] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[14:28:57] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[14:29:27] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[14:29:27] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[14:29:57] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[14:29:57] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[14:30:27] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[14:30:27] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[14:30:58] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[14:30:58] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[14:31:28] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[14:31:28] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[14:31:58] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[14:31:58] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[14:32:28] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[14:32:28] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[14:32:41] *** Joins: kngl1 (Adium@40AE2BF6.ABCDAFD6.7C797F8E.IP)
[14:32:52] *** Joins: Guest_ (textual@moz-68B4E77A.hsd1.ma.comcast.net)
[14:32:59] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[14:32:59] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[14:33:29] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[14:33:29] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[14:33:59] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[14:33:59] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[14:34:29] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[14:34:29] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[14:34:59] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[14:34:59] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[14:35:30] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[14:35:30] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[14:35:58] *** jdm sets mode: +b Yoric!*@*
[14:37:12] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[14:39:56] *** Quits: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net) (Connection reset by peer)
[14:40:16] *** Quits: tgkokk (tgkokk@moz-285360A0.home.otenet.gr) (Ping timeout)
[14:40:18] *** Quits: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org) (Ping timeout)
[14:40:27] *** Joins: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca)
[14:41:32] *** Joins: asmyers (quassel@moz-71754EDC.hsd1.md.comcast.net)
[14:41:36] *** Joins: tgkokk (tgkokk@moz-29BC739C.home.otenet.gr)
[14:41:58] *** Quits: lpsmith (lpsmith@E4C1E848.C77A9B09.98155C6F.IP) (Ping timeout)
[14:42:02] *** Joins: cremes_ (cremes@moz-649E729A.lv.lv.cox.net)
[14:43:12] *** Joins: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org)
[14:44:28] *** Joins: lpsmith (lpsmith@E4C1E848.C77A9B09.98155C6F.IP)
[14:47:24] *** Quits: jsonnull (Thunderbir@20DADFC2.48C8B17D.494A0F8B.IP) (Ping timeout)
[14:49:02] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[14:49:45] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[14:50:30] <jensnockert> Hurray, my first real Rust hackathon, I'm so excited \o/
[14:50:45] *** Joins: lpy (lpy@12172131.F09091A8.1348A864.IP)
[14:50:47] *** Joins: jsonnull (Thunderbir@20DADFC2.48C8B17D.494A0F8B.IP)
[14:51:14] *** Joins: jmmk (jmmk@moz-588F65EA.c3-0.smr-ubr1.sbo-smr.ma.cable.rcn.com)
[14:53:04] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[14:54:22] *** Joins: lht (lht@moz-ACA8F661.hinet-ip.hinet.net)
[14:56:33] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[14:57:04] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[14:59:29] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[14:59:38] *** Quits: tgkokk (tgkokk@moz-29BC739C.home.otenet.gr) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[15:00:14] *** Joins: bmu (chatzilla@moz-A87574A6.hsd1.pa.comcast.net)
[15:02:20] *** Quits: saurik (saurik@moz-DC9423DE.saurik.com) (Ping timeout)
[15:02:54] *** Quits: kngl1 (Adium@40AE2BF6.ABCDAFD6.7C797F8E.IP) (Ping timeout)
[15:05:37] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[15:05:46] *** Joins: saurik (saurik@moz-DC9423DE.saurik.com)
[15:07:18] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[15:08:22] *** lpy is now known as lpy|afk
[15:09:28] *** Quits: jdm (jdm@moz-AC9499B2.cable.teksavvy.com) (Input/output error)
[15:09:31] *** Joins: jdm (jdm@moz-AC9499B2.cable.teksavvy.com)
[15:09:31] *** ChanServ sets mode: +o jdm
[15:10:29] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Connection reset by peer)
[15:11:49] *** Quits: brandonw (brandonw@moz-B334F9B.dhcp.oxfr.ma.charter.com) (Ping timeout)
[15:11:59] *** Joins: brandonw (brandonw@moz-B334F9B.dhcp.oxfr.ma.charter.com)
[15:12:02] *** Joins: kngl (Adium@40AE2BF6.ABCDAFD6.7C797F8E.IP)
[15:12:13] *** Quits: aurynj (Eon@583ABBE5.60FA2E28.B9E25744.IP) (Quit: Leaving)
[15:13:36] *** Joins: pyon (user@6B56F365.A9B419CB.1C8C8CE9.IP)
[15:13:44] *** Quits: asmyers (quassel@moz-71754EDC.hsd1.md.comcast.net) (Ping timeout)
[15:15:48] *** Quits: myname (myname@F6BC1CBC.2C5F047.A0197E77.IP) (Ping timeout)
[15:16:55] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[15:17:17] *** Joins: judofyr (judofyr@moz-6B1F9DC1.uio.no)
[15:17:39] *** Quits: jdm (jdm@moz-AC9499B2.cable.teksavvy.com) (Quit: Lost terminal)
[15:18:31] *** Quits: mgottschlag (quassel@moz-687B4309.cust.bluewin.ch) (Ping timeout)
[15:18:33] *** Quits: cgaebel (clark@moz-8E0C6BCA.nyc.res.rr.com) (Ping timeout)
[15:22:30] *** Quits: mawuli (mawuli@moz-A89BBCE.com.gh) (Ping timeout)
[15:23:25] *** Joins: ambimorph (amber@moz-B3FBDFCE.hlrn.qwest.net)
[15:26:31] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[15:26:38] *** Joins: mindcat (mindcat@986D183E.79C16620.DBA68950.IP)
[15:27:16] *** Joins: hhhhhhhhhh (mike@moz-20E008DD.stcatz.ox.ac.uk)
[15:27:41] <hhhhhhhhhh> i found a segfault in rustc 0.9, should i be putting this on the bugtracker
[15:28:10] <hhhhhhhhhh> oh no a stack overflow
[15:28:15] *** Joins: judder (maradukewa@A4DC519F.6379DA33.78E362FE.IP)
[15:32:50] *** Joins: fabiand (fabiand@moz-DA0EFDBA.adsl.alicedsl.de)
[15:35:24] *** Quits: Guest_ (textual@moz-68B4E77A.hsd1.ma.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[15:39:09] *** Quits: fabiand (fabiand@moz-DA0EFDBA.adsl.alicedsl.de) (Quit: Verlassend)
[15:39:57] *** Quits: jmmk (jmmk@moz-588F65EA.c3-0.smr-ubr1.sbo-smr.ma.cable.rcn.com) (Ping timeout)
[15:44:25] *** Joins: Sorella (quildreen@9D963F5D.DF5D8AE7.54BCAB54.IP)
[15:44:37] *** Quits: FrozenCow (FrozenCow@moz-E69F48E.dynamic.upc.nl) (Client exited)
[15:45:00] *** Joins: FrozenCow (FrozenCow@moz-E69F48E.dynamic.upc.nl)
[15:45:13] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[15:47:32] <mmalecki> hhhhhhhhhh: yes
[15:50:48] *** Joins: arielb1 (arielb1@moz-E6742496.red.bezeqint.net)
[15:52:37] *** Joins: oracal (oracal@moz-F978BCF8.as13285.net)
[15:53:05] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[15:55:28] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[15:55:30] *** Joins: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch)
[15:56:39] *** Joins: jmmk (jmmk@moz-588F65EA.c3-0.smr-ubr1.sbo-smr.ma.cable.rcn.com)
[15:57:04] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[15:57:34] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[15:59:16] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[15:59:22] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[16:00:01] *** Joins: dmillerw (Dylan@moz-C4595FAE.eugn.qwest.net)
[16:00:15] *** Quits: ambimorph (amber@moz-B3FBDFCE.hlrn.qwest.net) (Ping timeout)
[16:01:33] *** Quits: dmillerw (Dylan@moz-C4595FAE.eugn.qwest.net) (Quit: Leaving)
[16:02:30] *** Joins: RustProof (Mibbit@moz-FB62ACB9.w90-24.abo.wanadoo.fr)
[16:03:57] *** Joins: tgkokk (tgkokk@moz-29BC739C.home.otenet.gr)
[16:06:26] <RustProof> I have a little problem : I have a texture and a sprite displaying it, I have to give a reference of the texture to the sprite. Then I have to modify the texture, but as it is borrowed I can't. How should I manage that ?
[16:09:11] *** Quits: hhhhhhhhhh (mike@moz-20E008DD.stcatz.ox.ac.uk) (Quit: WeeChat 0.4.3)
[16:09:24] <angdev> rusti: match 0 { Hello => "World" }
[16:09:28] -rusti- pastebinned 5 lines of output: http://ix.io/aSE
[16:10:40] *** Joins: ambimorph (amber@moz-B3FBDFCE.hlrn.qwest.net)
[16:11:00] *** Quits: Moor (Moor@moz-C04C27D8.hsd1.ca.comcast.net) (Ping timeout)
[16:11:11] <angdev> rusti: let a = match 0 { Hello => "World" }; println!("{}", a);
[16:11:14] -rusti- pastebinned 10 lines of output: http://ix.io/aSF
[16:11:45] <angdev> is this a bug?
[16:13:58] *** Joins: paldepind (simon@332CDF25.3035C84A.1406A3CF.IP)
[16:14:00] *** Joins: Moor (Moor@moz-C04C27D8.hsd1.ca.comcast.net)
[16:14:07] <SiegeLord> It compiles fine here
[16:14:17] <angdev> rusti: fn main() { let a = match 0 { Hello => "World" }; println!("{}", a); }
[16:14:21] -rusti- pastebinned 13 lines of output: http://ix.io/aSG
[16:15:33] <angdev> Okay, but `Hello` can be used instead of placeholder(_)?
[16:16:15] <angdev> output of that code is World. 
[16:17:05] *** Joins: Anupkumar (uid16774@moz-A42E5B7B.irccloud.com)
[16:17:11] <SiegeLord> What output were you expecting?
[16:17:25] *** Joins: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP)
[16:17:32] *** Joins: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com)
[16:17:52] *** Joins: jdsanders (Adium@moz-EB8DC389.hlrn.qwest.net)
[16:18:21] <paldepind> If any of you guys are on rust-gamedev as well – I've posted a quetion over there, and whould appreciate help :)
[16:19:00] *** Joins: Ms2ger (Ms2ger@moz-BA70C317.access.telenet.be)
[16:19:05] <angdev> I expected compile error, since Hello is not defined identifier.
[16:19:11] *** Quits: Ms2ger (Ms2ger@moz-BA70C317.access.telenet.be) (Connection reset by peer)
[16:19:41] <SiegeLord> When you match anything, you have an option to name the value you bound
[16:20:07] <SiegeLord> Err, name the variable
[16:20:22] <SiegeLord> So, you're just introducing a variable named 'Hello' that is set to 0
[16:20:26] <SiegeLord> And it complains that you don't use it
[16:20:40] *** Joins: philix (philix@moz-18618604.user.veloxzone.com.br)
[16:21:28] <angdev> Ah. I got it. Thanks.
[16:22:07] *** Joins: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net)
[16:22:26] *** Joins: cgaebel (clark@moz-8E0C6BCA.nyc.res.rr.com)
[16:22:46] <SiegeLord> It is a bit... confusing, I think there's a bug when 'Hello' is in fact a pre-existing variable
[16:24:30] *** Quits: jmmk (jmmk@moz-588F65EA.c3-0.smr-ubr1.sbo-smr.ma.cable.rcn.com) (Ping timeout)
[16:24:40] *** Joins: mye (mye@moz-574B4C44.dip0.t-ipconnect.de)
[16:26:30] *** Quits: pyon (user@6B56F365.A9B419CB.1C8C8CE9.IP) (Quit: ERC Version 5.3 (IRC client for Emacs))
[16:27:15] *** Quits: Armavica (virgile@moz-AD428ED7.ens.fr) (Quit: leaving)
[16:28:04] *** Joins: pyon (user@6B56F365.A9B419CB.1C8C8CE9.IP)
[16:30:07] *** Joins: jmmk (jmmk@moz-588F65EA.c3-0.smr-ubr1.sbo-smr.ma.cable.rcn.com)
[16:31:46] *** Quits: jmmk (jmmk@moz-588F65EA.c3-0.smr-ubr1.sbo-smr.ma.cable.rcn.com) (Ping timeout)
[16:31:55] *** Joins: Armavica (virgile@moz-AD428ED7.ens.fr)
[16:32:13] *** Quits: tedh (tedh@moz-F3B34318.hsd1.il.comcast.net) (Connection reset by peer)
[16:32:44] *** Joins: edwardw (edwardw@24D7341C.32602B75.B9C6B12A.IP)
[16:32:49] *** Joins: tedh (tedh@moz-F3B34318.hsd1.il.comcast.net)
[16:34:05] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[16:35:05] *** Joins: jmmk (jmmk@moz-588F65EA.c3-0.smr-ubr1.sbo-smr.ma.cable.rcn.com)
[16:38:57] *** Joins: canhtak (canhtak@moz-251024EB.wl.t.ulaval.ca)
[16:39:58] *** Joins: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net)
[16:40:17] *** Quits: lpsmith (lpsmith@E4C1E848.C77A9B09.98155C6F.IP) (Quit: Leaving)
[16:41:01] *** Quits: patpat (patpat@moz-1599AAE4.as13285.net) (Ping timeout)
[16:41:10] *** Joins: patpat (patpat@moz-1599AAE4.as13285.net)
[16:42:31] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[16:43:39] *** Quits: jdsanders (Adium@moz-EB8DC389.hlrn.qwest.net) (Quit: Leaving.)
[16:47:37] *** Joins: matematikaadit (adit@595A8E31.B3B09471.BCFAD875.IP)
[16:47:59] *** Quits: Kxepal (Miranda@moz-7ED40455.pppoe.mtu-net.ru) (Ping timeout)
[16:50:22] *** Joins: marianoguerra (marianogue@moz-D80CB316.dip0.t-ipconnect.de)
[16:51:50] *** Joins: Kxepal (Miranda@moz-7A0000DE.pppoe.mtu-net.ru)
[16:52:13] *** Quits: reyre (reyre@8A257803.33EE9F8A.1139E686.IP) (Ping timeout)
[16:52:20] *** Quits: oracal (oracal@moz-F978BCF8.as13285.net) (Quit: Leaving)
[16:52:53] *** Joins: reyre (reyre@8A257803.33EE9F8A.1139E686.IP)
[16:52:53] *** Quits: reyre (reyre@8A257803.33EE9F8A.1139E686.IP) (Max SendQ exceeded)
[16:53:23] *** Joins: reyre (reyre@8A257803.33EE9F8A.1139E686.IP)
[16:53:23] *** Quits: reyre (reyre@8A257803.33EE9F8A.1139E686.IP) (Max SendQ exceeded)
[16:53:53] *** Joins: reyre (reyre@8A257803.33EE9F8A.1139E686.IP)
[16:53:53] *** Quits: reyre (reyre@8A257803.33EE9F8A.1139E686.IP) (Max SendQ exceeded)
[16:54:10] *** Quits: judofyr (judofyr@moz-6B1F9DC1.uio.no) (Client exited)
[16:54:15] *** Quits: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[16:54:22] *** Quits: fyolnish (fyolnish@moz-DBEAFA01.uqwimax.jp) (Client exited)
[16:54:23] *** Joins: reyre (reyre@8A257803.33EE9F8A.1139E686.IP)
[16:54:23] *** Quits: reyre (reyre@8A257803.33EE9F8A.1139E686.IP) (Max SendQ exceeded)
[16:54:34] *** Joins: judofyr (judofyr@moz-6B1F9DC1.uio.no)
[16:54:53] *** Joins: reyre (reyre@8A257803.33EE9F8A.1139E686.IP)
[16:54:53] *** Quits: reyre (reyre@8A257803.33EE9F8A.1139E686.IP) (Max SendQ exceeded)
[16:54:56] *** Joins: fyolnish (fyolnish@moz-DBEAFA01.uqwimax.jp)
[16:55:23] *** Joins: reyre (reyre@8A257803.33EE9F8A.1139E686.IP)
[16:55:23] *** Quits: reyre (reyre@8A257803.33EE9F8A.1139E686.IP) (Max SendQ exceeded)
[16:55:31] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[16:55:53] *** Joins: reyre (reyre@8A257803.33EE9F8A.1139E686.IP)
[16:55:53] *** Quits: reyre (reyre@8A257803.33EE9F8A.1139E686.IP) (Max SendQ exceeded)
[16:55:56] *** Quits: geomyidae_ (uid214@moz-E77DEB21.irccloud.com) (Quit: Connection closed for inactivity)
[16:56:14] *** Quits: judofyr (judofyr@moz-6B1F9DC1.uio.no) (Ping timeout)
[16:56:23] *** Joins: reyre (reyre@8A257803.33EE9F8A.1139E686.IP)
[16:56:23] *** Quits: reyre (reyre@8A257803.33EE9F8A.1139E686.IP) (Max SendQ exceeded)
[16:56:36] *** Quits: fyolnish (fyolnish@moz-DBEAFA01.uqwimax.jp) (Ping timeout)
[16:56:51] <cmr> when it's a static iirc.
[16:56:53] *** Joins: reyre (reyre@8A257803.33EE9F8A.1139E686.IP)
[16:56:53] *** Quits: reyre (reyre@8A257803.33EE9F8A.1139E686.IP) (Max SendQ exceeded)
[16:56:53] <mindcat> how can I do "#ifdef XXX then `code blocks` #endif" in rust?
[16:57:06] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[16:57:23] *** Joins: reyre (reyre@8A257803.33EE9F8A.1139E686.IP)
[16:57:23] *** Quits: reyre (reyre@8A257803.33EE9F8A.1139E686.IP) (Max SendQ exceeded)
[16:57:43] <cmr> mindcat: #[cfg(XXX)] applies to items. usually you break out the code into an inner function, one for each cfg, and call that.
[16:57:53] *** Joins: reyre (reyre@8A257803.33EE9F8A.1139E686.IP)
[16:57:53] *** Quits: reyre (reyre@8A257803.33EE9F8A.1139E686.IP) (Max SendQ exceeded)
[16:58:06] <mindcat> cmr: oh, ok
[16:58:19] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[16:58:51] <mindcat> cmr: then how can I define "XXX"?
[16:58:53] *** Joins: reyre (reyre@8A257803.33EE9F8A.1139E686.IP)
[16:58:53] *** Quits: reyre (reyre@8A257803.33EE9F8A.1139E686.IP) (Max SendQ exceeded)
[16:59:16] <cmr> --cfg XXX when compiling.
[16:59:21] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[16:59:23] *** Joins: reyre (reyre@8A257803.33EE9F8A.1139E686.IP)
[16:59:23] *** Quits: reyre (reyre@8A257803.33EE9F8A.1139E686.IP) (Max SendQ exceeded)
[16:59:34] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[16:59:53] *** Joins: reyre (reyre@8A257803.33EE9F8A.1139E686.IP)
[16:59:53] *** Quits: reyre (reyre@8A257803.33EE9F8A.1139E686.IP) (Max SendQ exceeded)
[16:59:59] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[17:00:12] <mindcat> cmr: thanks
[17:00:23] *** Joins: reyre (reyre@8A257803.33EE9F8A.1139E686.IP)
[17:00:23] *** Quits: reyre (reyre@8A257803.33EE9F8A.1139E686.IP) (Max SendQ exceeded)
[17:00:41] <fredy> is it possible to add a new method to a primitive type, for example add a succ(essor) method in int type?
[17:00:53] *** Joins: reyre (reyre@8A257803.33EE9F8A.1139E686.IP)
[17:00:53] *** Quits: reyre (reyre@8A257803.33EE9F8A.1139E686.IP) (Max SendQ exceeded)
[17:01:01] <cmr> fredy: yes. you need to create a new trait with that method and impl it for the type.
[17:01:24] *** Joins: reyre (reyre@8A257803.33EE9F8A.1139E686.IP)
[17:01:24] *** Quits: reyre (reyre@8A257803.33EE9F8A.1139E686.IP) (Max SendQ exceeded)
[17:01:54] *** Joins: reyre (reyre@8A257803.33EE9F8A.1139E686.IP)
[17:01:54] *** Quits: reyre (reyre@8A257803.33EE9F8A.1139E686.IP) (Max SendQ exceeded)
[17:02:24] *** Joins: reyre (reyre@8A257803.33EE9F8A.1139E686.IP)
[17:02:24] *** Quits: reyre (reyre@8A257803.33EE9F8A.1139E686.IP) (Max SendQ exceeded)
[17:02:36] <mindcat> cmr: but wait, "#[cfg(XXX)]" does apply a code block? or I need a inline function?
[17:02:45] <cmr> mindcat: you need a functino.
[17:02:47] <cmr> *function
[17:02:52] <mindcat> cmr: ok...
[17:02:54] *** Joins: reyre (reyre@8A257803.33EE9F8A.1139E686.IP)
[17:02:54] *** Quits: reyre (reyre@8A257803.33EE9F8A.1139E686.IP) (Max SendQ exceeded)
[17:02:56] <cmr> it only applies to items, but blocks are expressions.
[17:03:01] <fredy> cmr: hm... I meant sth like impl int {fn succ(self){ ... }} but I guess the trait idea will work fine :)
[17:03:02] <fredy> thanks
[17:03:20] *** Joins: Matthias247 (Miranda@moz-BDD35EC0.hsi5.kabel-badenwuerttemberg.de)
[17:03:24] *** Joins: reyre (reyre@8A257803.33EE9F8A.1139E686.IP)
[17:03:24] *** Quits: reyre (reyre@8A257803.33EE9F8A.1139E686.IP) (Max SendQ exceeded)
[17:03:34] <cmr> fredy: you can't add inherent methods because the coherence rules prevent it
[17:03:50] <cmr> it'd make your crate unlinkable with other crates extending `int` like that
[17:03:54] *** Joins: reyre (reyre@8A257803.33EE9F8A.1139E686.IP)
[17:04:15] <cmr> mindcat: https://github.com/mozilla/rust/blob/master/src/libgreen/stack.rs#L94 as an example.
[17:05:09] *** Joins: tjc (tjc@moz-4679642B.phlapa.fios.verizon.net)
[17:05:09] *** ChanServ sets mode: +o tjc
[17:06:11] <fredy> cmr I see thanks again :)
[17:06:26] *** Quits: veinofstars (veinofstar@moz-C57DCEC9.nyc.res.rr.com) (Quit: veinofstars)
[17:06:36] <mindcat> cmr: but I think some like "#ifdef XXX then `code blocks` #endif" is useful for disable some unnecessary debug code, then improve proformance.
[17:07:07] <mindcat> or disable some features
[17:07:35] <whitequark> mindcat: if(XXX) would be removed by optimizer if XXX is statically false.
[17:07:36] *** Joins: oracal (oracal@moz-F978BCF8.as13285.net)
[17:08:08] *** Joins: Valloric (Valloric@moz-288722BA.hsd1.ca.comcast.net)
[17:08:16] *** Quits: matematikaadit (adit@595A8E31.B3B09471.BCFAD875.IP) (Ping timeout)
[17:08:40] <mindcat> whitequark: did you mean like that `if false {...}`?
[17:09:04] <SiegeLord> I thought there was a cfg!() macro just for this purpose
[17:09:05] <cmr> mindcat: oh I just remembered.
[17:09:10] <cmr> if cfg!(debug) { ... }
[17:09:12] <cmr> yeah
[17:09:25] <mindcat> cmr: oh
[17:09:32] <cmr> sorry, my bad
[17:09:40] <mindcat> cmr: I see :D
[17:13:40] *** Quits: cgaebel (clark@moz-8E0C6BCA.nyc.res.rr.com) (Ping timeout)
[17:13:48] *** Joins: asmyers (quassel@8E9F6B58.CC0B5A80.814EB5F8.IP)
[17:14:03] *** Quits: philix (philix@moz-18618604.user.veloxzone.com.br) (Quit: philix)
[17:14:18] *** Quits: tgkokk (tgkokk@moz-29BC739C.home.otenet.gr) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[17:14:30] *** Joins: novabyte (novabyte@9B549FCE.580BA72D.58F0D5B0.IP)
[17:14:34] *** Joins: matematikaadit (adit@A068AC44.13B4E56D.4CD63535.IP)
[17:16:12] *** Joins: tgkokk (tgkokk@moz-29BC739C.home.otenet.gr)
[17:17:45] *** Joins: ryeguy (ryeguy@9C569A0.5D1143CD.E8644521.IP)
[17:18:24] *** Quits: ziad (ziad@moz-C0318336.hsd1.ca.comcast.net) (Quit: ziad)
[17:19:30] *** Joins: ziad (ziad@moz-C0318336.hsd1.ca.comcast.net)
[17:19:37] <ryeguy> anyone know what's going on with the rust nightlies in Nuget (for windows)? Hasn't been updated in ~2 weeks
[17:20:24] <Yurume> maybe Heather is busy
[17:21:28] *** Quits: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch) (Quit: Leaving.)
[17:21:53] *** Quits: oracal (oracal@moz-F978BCF8.as13285.net) (Quit: Leaving)
[17:21:56] *** Quits: PTank (p-tank@moz-FEFCCB6C.fbx.proxad.net) (Quit: Leaving.)
[17:22:06] *** Quits: tjc (tjc@moz-4679642B.phlapa.fios.verizon.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[17:22:15] <mindcat> so I am interested why "Heather" didn't make script for rust compile and update? :D
[17:22:48] *** Joins: brihat (bdsatish@moz-5EC00491.dhcp.inet.fi)
[17:23:09] *** Joins: brihat1 (bdsatish@moz-5EC00491.dhcp.inet.fi)
[17:23:15] *** Parts: brihat (bdsatish@moz-5EC00491.dhcp.inet.fi) ()
[17:23:19] *** Quits: brihat1 (bdsatish@moz-5EC00491.dhcp.inet.fi) (Quit: Leaving.)
[17:23:56] *** Joins: brihat (bdsatish@moz-5EC00491.dhcp.inet.fi)
[17:25:43] *** Joins: heinousjay (Mibbit@moz-41ECFFD5.washdc.fios.verizon.net)
[17:25:59] *** Quits: reyre (reyre@8A257803.33EE9F8A.1139E686.IP) (Ping timeout)
[17:26:30] *** Joins: reyre (reyre@8A257803.33EE9F8A.1139E686.IP)
[17:26:36] *** Quits: lpy|afk (lpy@12172131.F09091A8.1348A864.IP) (Client exited)
[17:26:50] *** Quits: heinousjay (Mibbit@moz-41ECFFD5.washdc.fios.verizon.net) (Quit: http://www.mibbit.com ajax IRC Client)
[17:27:12] *** Joins: untwisted (untwisted@moz-60D579DC.hsd1.ca.comcast.net)
[17:27:18] *** Joins: heinousjay (Mibbit@moz-41ECFFD5.washdc.fios.verizon.net)
[17:28:41] *** Quits: jmmk (jmmk@moz-588F65EA.c3-0.smr-ubr1.sbo-smr.ma.cable.rcn.com) (Ping timeout)
[17:29:07] *** Joins: twi (Adium@BC1E56B6.55F3F843.839F6EC0.IP)
[17:29:17] *** Quits: tgkokk (tgkokk@moz-29BC739C.home.otenet.gr) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[17:29:50] *** Quits: untwisted (untwisted@moz-60D579DC.hsd1.ca.comcast.net) (Ping timeout)
[17:30:37] *** Quits: rootnode (rootnode@moz-5B6C35C6.pools.arcor-ip.net) (Ping timeout)
[17:31:14] *** Joins: fyolnish (fyolnish@moz-DBEAFA01.uqwimax.jp)
[17:31:40] *** Quits: matematikaadit (adit@A068AC44.13B4E56D.4CD63535.IP) (Ping timeout)
[17:32:18] *** Quits: heinousjay (Mibbit@moz-41ECFFD5.washdc.fios.verizon.net) (Quit: http://www.mibbit.com ajax IRC Client)
[17:32:38] *** Joins: mawuli (mawuli@moz-A89BBCE.com.gh)
[17:32:41] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[17:32:47] *** Quits: ryeguy (ryeguy@9C569A0.5D1143CD.E8644521.IP) (Ping timeout)
[17:32:56] *** Quits: fyolnish (fyolnish@moz-DBEAFA01.uqwimax.jp) (Ping timeout)
[17:32:58] *** Joins: ryeguy (ryeguy@9C569A0.5D1143CD.E8644521.IP)
[17:37:17] *** Quits: mindcat (mindcat@986D183E.79C16620.DBA68950.IP) (Quit: leaving)
[17:37:19] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[17:38:05] *** Joins: bakkdoor (bakkdoor@82C4A5FD.E200E8C3.172227A7.IP)
[17:38:08] *** Quits: StarLight (StarLight@moz-A5D3377F.dynamic.avangarddsl.ru) (Ping timeout)
[17:38:23] *** Quits: bakkdoor (bakkdoor@82C4A5FD.E200E8C3.172227A7.IP) (Quit: Linkinus - http://linkinus.com)
[17:38:25] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Input/output error)
[17:38:39] *** Quits: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net) (Input/output error)
[17:38:39] *** Joins: tcsc (tcsc@moz-5E71BAD9.hsd1.ma.comcast.net)
[17:38:47] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[17:39:06] *** Quits: Moor (Moor@moz-C04C27D8.hsd1.ca.comcast.net) (Ping timeout)
[17:39:18] *** Joins: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net)
[17:40:27] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[17:40:43] *** Joins: rootnode (rootnode@moz-20ED03F5.pools.arcor-ip.net)
[17:40:45] *** Joins: eddyb (eddy@DD15F8DE.17CB6122.FCAAE698.IP)
[17:40:59] *** Quits: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net) (Ping timeout)
[17:40:59] *** Quits: twi (Adium@BC1E56B6.55F3F843.839F6EC0.IP) (Quit: Leaving.)
[17:41:03] *** Joins: twi (Adium@BC1E56B6.55F3F843.839F6EC0.IP)
[17:41:37] *** Quits: reyre (reyre@8A257803.33EE9F8A.1139E686.IP) (Ping timeout)
[17:41:58] *** Joins: reyre (reyre@8A257803.33EE9F8A.1139E686.IP)
[17:42:05] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[17:42:33] *** Joins: StarLight (StarLight@moz-CB840BD3.dynamic.avangarddsl.ru)
[17:43:00] *** Quits: murph1 (murph@moz-F07B75BF.oracle.com) (Broken pipe)
[17:43:12] *** Joins: murph1 (murph@moz-F07B75BF.oracle.com)
[17:43:56] *** Quits: asmyers (quassel@8E9F6B58.CC0B5A80.814EB5F8.IP) (Ping timeout)
[17:44:47] *** Quits: pyon (user@6B56F365.A9B419CB.1C8C8CE9.IP) (Quit: ERC Version 5.3 (IRC client for Emacs))
[17:44:54] <doomlord_> is there a vector iterator for [T] that gives (i,elem) ... a tuple containing the element index and the value
[17:45:19] <cmr> .iter().enumerate()
[17:46:31] *** Joins: cgaebel (clark@moz-8E0C6BCA.nyc.res.rr.com)
[17:46:39] <doomlord_> thanks
[17:46:48] *** Joins: Moor (Moor@moz-C04C27D8.hsd1.ca.comcast.net)
[17:48:15] *** Quits: drbawb (drbawb@moz-444F91EA.wi.res.rr.com) (Quit: WeeChat 0.4.3)
[17:49:19] <hoverbear> Any good articles available on setting up some sort of slick completion or anything for vim with Rust?
[17:49:33] <doomlord_> there is no slick completion yet
[17:49:48] <doomlord_> contributions toward it required :)
[17:50:12] <doomlord_> there's probably syntax highlighting
[17:50:15] *** Joins: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net)
[17:51:11] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[17:51:44] <hoverbear> doomlord_: Syntax highlighting exists. :)
[17:53:24] *** Quits: reyre (reyre@8A257803.33EE9F8A.1139E686.IP) (Ping timeout)
[17:53:36] *** Quits: cremes_ (cremes@moz-649E729A.lv.lv.cox.net) (Quit: cremes_)
[17:54:00] *** Joins: reyre (reyre@8A257803.33EE9F8A.1139E686.IP)
[17:55:04] *** Quits: Veld (Mibbit@moz-4A19983C.ip227.fastwebnet.it) (Quit: http://www.mibbit.com ajax IRC Client)
[17:56:15] *** Quits: nano (nano@moz-ED77243C.superkabel.de) (Connection reset by peer)
[17:56:48] *** Quits: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[17:58:02] *** Joins: pyon (user@6B56F365.A9B419CB.1C8C8CE9.IP)
[17:58:16] <doomlord_> after many months i have finally got used to snake_case
[17:58:24] <doomlord_> (possibly)
[17:59:37] <eddyb> doomlord_: it really helps in Rust
[17:59:37] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[17:59:59] *** Joins: onelson (owen@18CF7301.95770028.5B6BFE7D.IP)
[18:01:01] *** Joins: amousset (amousset@6181009C.10715965.BCDF592F.IP)
[18:01:16] *** Joins: fyolnish (fyolnish@moz-DBEAFA01.uqwimax.jp)
[18:02:50] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[18:02:57] *** Quits: fyolnish (fyolnish@moz-DBEAFA01.uqwimax.jp) (Ping timeout)
[18:03:41] *** Quits: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP) (Quit: colinsurprenant)
[18:03:41] *** Quits: amousset (amousset@6181009C.10715965.BCDF592F.IP) (Ping timeout)
[18:04:37] *** Joins: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch)
[18:05:35] *** Joins: gentlefolk (chatzilla@moz-D195EAF9.cpe.teksavvy.com)
[18:05:41] *** Quits: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net) (Quit: Taking a nap.)
[18:05:50] *** Joins: Guest_ (textual@moz-68B4E77A.hsd1.ma.comcast.net)
[18:07:15] *** Joins: adonohue (adonohue@55513BD.95D3F462.59D8BB03.IP)
[18:14:07] *** Joins: jix (jix@moz-D969BFFC.de)
[18:15:17] *** Joins: [squiddy] (squiddy@moz-767EF079.dynamic.cablesurf.de)
[18:17:12] *** Joins: mauricioc (mauricioc@A6903506.BF40BC51.2F0EC0E9.IP)
[18:17:55] *** Joins: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP)
[18:18:31] *** Parts: mauricioc (mauricioc@A6903506.BF40BC51.2F0EC0E9.IP) ()
[18:19:26] *** Quits: lht (lht@moz-ACA8F661.hinet-ip.hinet.net) (Ping timeout)
[18:20:07] *** Joins: drbawb (drbawb@moz-444F91EA.wi.res.rr.com)
[18:21:59] *** Joins: lht (lht@75877440.DFB0288A.7BA1798C.IP)
[18:22:12] *** Quits: lht (lht@75877440.DFB0288A.7BA1798C.IP) (Quit: lht)
[18:24:06] *** Joins: luniv (textual@35A6D713.28909DC9.B7FCEB19.IP)
[18:25:28] *** Joins: jdsanders (Adium@moz-EB8DC389.hlrn.qwest.net)
[18:27:46] *** Joins: asmyers (quassel@moz-1BA75A5A.hrbgpa.east.verizon.net)
[18:28:21] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Connection reset by peer)
[18:30:52] *** Quits: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP) (Quit: colinsurprenant)
[18:31:41] *** Joins: fyolnish (fyolnish@moz-4EC05241.uqwimax.jp)
[18:33:02] *** Joins: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net)
[18:33:22] *** Quits: fyolnish (fyolnish@moz-4EC05241.uqwimax.jp) (Ping timeout)
[18:34:46] *** Quits: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net) (Ping timeout)
[18:34:54] *** Joins: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net)
[18:35:04] *** Quits: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch) (Quit: Leaving.)
[18:38:31] *** Joins: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net)
[18:39:25] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[18:40:03] *** Joins: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch)
[18:40:44] <jdsanders> hey I'm curious how people prefer to deal with dependencies on other rust libraries right now
[18:41:05] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[18:41:18] <jdsanders> I'm thinking about either using a submodule, or just copying my dylib into RUST_PATH/lib
[18:41:25] *** Joins: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP)
[18:41:50] <jdsanders> which raises the question of whether I should set RUST_PATH to something, or just put things in ~/.rust/lib (assuming that works)
[18:44:11] *** Quits: dpanth3r (dinofelis@228444B8.6B06001A.BB6F225C.IP) (Ping timeout)
[18:45:27] *** Joins: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net)
[18:47:31] *** Joins: p1start (rewi@moz-A082F561.adsl.xtra.co.nz)
[18:48:22] *** Joins: limeburst (me@247D1419.D73964AC.27A8748.IP)
[18:49:46] *** Joins: untwisted (untwisted@moz-60D579DC.hsd1.ca.comcast.net)
[18:51:29] *** Joins: amousset (amousset@moz-2E0A4DA6.minet.net)
[18:51:44] *** Quits: bmu (chatzilla@moz-A87574A6.hsd1.pa.comcast.net) (Ping timeout)
[18:52:04] *** Quits: twi (Adium@BC1E56B6.55F3F843.839F6EC0.IP) (Client exited)
[18:52:31] *** Quits: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch) (Quit: Leaving.)
[18:52:32] *** Joins: bmu (chatzilla@moz-A87574A6.hsd1.pa.comcast.net)
[18:52:35] *** Joins: amousset_ (amousset@6181009C.10715965.BCDF592F.IP)
[18:53:06] *** Quits: paldepind (simon@332CDF25.3035C84A.1406A3CF.IP) (Ping timeout)
[18:53:19] *** Quits: amousset (amousset@moz-2E0A4DA6.minet.net) (Ping timeout)
[18:53:45] *** Quits: Earnestly (earnest@F86306B4.BBD8F39E.FEA8F6FD.IP) (Quit: WeeChat 0.4.4-dev)
[18:53:48] *** Joins: sunfish (chatzilla@moz-42DA0C69.dsl.dynamic.sonic.net)
[18:55:20] *** Quits: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com) (Input/output error)
[18:55:22] *** Quits: asmyers (quassel@moz-1BA75A5A.hrbgpa.east.verizon.net) (Ping timeout)
[18:55:35] <Diamond> woa. what happened to ptr::to_unsafe_ptr?
[18:55:47] <cmr> Diamond: removed.
[18:55:53] <cmr> use `as *T`
[18:56:01] <Diamond> cmr: thanks
[18:56:11] *** Quits: Guest_ (textual@moz-68B4E77A.hsd1.ma.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[18:56:32] *** Joins: WebeWizard (WebeWizard@moz-7CCD1DAE.ks.ks.cox.net)
[18:56:33] <cmr> jdsanders: I set my RUST_PATH to ~/.rust/lib and stick things there.
[18:56:40] <cmr> jdsanders: specifically, with cargo-lite.
[18:56:41] <SiegeLord> Maybe one day we'll get type suggestions and it'll become as *_
[18:56:59] <cmr> SiegeLord: mm that'd be really nice
[18:57:16] *** Quits: amousset_ (amousset@6181009C.10715965.BCDF592F.IP) (Ping timeout)
[18:57:30] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[18:57:50] <eddyb> HashMap::new::<_, _, CheapHash>()
[18:58:13] <eddyb> I can see teary eyes in there
[18:58:14] *** Joins: Guest_ (textual@moz-68B4E77A.hsd1.ma.comcast.net)
[18:58:24] <eddyb> I don't want puppies crying in my code
[18:58:39] *** Quits: eibwen (kvirc@moz-97377929.dip0.t-ipconnect.de) (Ping timeout)
[18:59:09] <jdsanders> cmr: thanks! does rustc have a default search path besides whatever is in RUST_PATH?
[18:59:12] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[18:59:43] <edwardw> why not HashMap::with_hasher()?
[18:59:45] <cmr> jdsanders: it also checks /usr/lib
[19:00:04] <eddyb> with_hasher feels a bit like an anti-pattern
[19:00:16] <jdsanders> cmr: cool, thanks a lot
[19:00:21] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[19:00:25] <edwardw> ha, I just used one
[19:00:32] <cmr> jdsanders: or, rather, /usr/lib/rustlib/$target
[19:00:33] * eddyb wants more Default usage
[19:00:38] *** Joins: Earnestly (earnest@F86306B4.BBD8F39E.FEA8F6FD.IP)
[19:00:47] <cmr> eddyb: how is Default related to with_hasher?
[19:01:01] *** Quits: [squiddy] (squiddy@moz-767EF079.dynamic.cablesurf.de) (Ping timeout)
[19:01:08] <eddyb> cmr: HashMap::new() can do HashMap::with_hasher(Default::default())
[19:01:35] <eddyb> things like with_hasher should be used when you actually want to supply information
[19:01:51] <eddyb> not sure how well sip plays with that
[19:02:02] *** Joins: jmgrosen (user@moz-848F6087.sb.sd.cox.net)
[19:02:16] <edwardw> supply what information?
[19:02:22] <eddyb> like a seed?
[19:02:35] <eddyb> not just UnitStruct
[19:02:36] <cmr> eddyb: this is about driving type inference though.
[19:02:37] <edwardw> oh, ok
[19:02:47] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[19:03:33] *** Quits: arielb1 (arielb1@moz-E6742496.red.bezeqint.net) (Ping timeout)
[19:04:55] *** Joins: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com)
[19:05:04] <jdsanders> cmr: hmm, I set RUST_PATH to ~/.rust/lib, and it works if I do `rustc -L $RUST_PATH foo.rs`, but not if I just do `rustc foo.rs`
[19:05:18] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Quit: Jesse)
[19:06:01] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[19:06:21] <cmr> jdsanders: it should be /home/foo/.rust/lib
[19:06:26] <cmr> rustc won't expand ~
[19:07:10] *** Quits: dranov (dranov@F4C4F199.90AED49B.FB866788.IP) (Ping timeout)
[19:07:11] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[19:07:41] *** Joins: dpanth3r (dinofelis@228444B8.6B06001A.BB6F225C.IP)
[19:07:44] <jdsanders> cmr: yeah, sorry, it is the full path, I was just simplifying in my message
[19:08:17] <eddyb> cmr: how can anyone use this? I close a tab in firefox and memory usage goes up by 4MB >_>. if I didn't know any better, I'd say it doesn't have garbage collection at all
[19:08:19] *** Quits: engla (engla@moz-F64E1B0F.cust.bredbandsbolaget.se) (Ping timeout)
[19:09:29] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Ping timeout)
[19:10:18] *** Quits: Guest_ (textual@moz-68B4E77A.hsd1.ma.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[19:12:19] <jdsanders> oh well, I'll just put stuff in the system rustlib for now
[19:14:32] *** Quits: Yurumechan (23f9939a@B2F514.E4420F21.EEF52F3A.IP) (Ping timeout)
[19:14:44] *** Joins: bytewise (bytewise@moz-DFAF881.adsl.alicedsl.de)
[19:15:02] *** Quits: alkino (alkino@moz-53CAAA6D.w92-151.abo.wanadoo.fr) (Ping timeout)
[19:15:24] <Havvy> Are there copyable vectors?
[19:15:25] *** Quits: ambimorph (amber@moz-B3FBDFCE.hlrn.qwest.net) (Ping timeout)
[19:15:37] <eddyb> Havvy: depends what you mean by "copyable"
[19:15:48] <eddyb> both ~[T] and Vec<T> are cloneable
[19:16:22] <eddyb> [T, ..N] with a Pod T is implicitly copyable
[19:16:25] <FreeFull> eddyb: For cloenable T?
[19:16:29] <eddyb> yeah
[19:16:50] <pyon> What is the difference between Vec<T> and ~[T] now?
[19:17:00] <cmr> pyon: ~[T] is compiler magic.
[19:17:01] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[19:17:04] <cmr> Vec<T> is a library type.
[19:17:10] <eddyb> (*data, len, cap) vs *(len, cap, ..data)
[19:17:11] <cmr> and has a slightly different representation
[19:17:36] <pyon> cmr: eddyb: Ah, so in a [T] the metadata and the data are contiguous, right?
[19:17:42] <pyon> ~[T] *
[19:17:44] <eddyb> pyon: only in ~[T]
[19:17:45] <Havvy> error: copying a value of non-copyable type `~[rustlike::World::Tile]`
[19:17:53] <Havvy> Where Tile is a struct that contains a boolean.
[19:17:53] <eddyb> Havvy: .clone()
[19:17:55] *** Joins: quux00 (uid24415@moz-E77DEB21.irccloud.com)
[19:18:01] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[19:18:02] <pyon> eddyb: Can slices be taken from both?
[19:18:03] <pyon>  
[19:18:07] <eddyb> pyon: yupp
[19:18:15] <eddyb> &[T] is more like Vec<T> than ~[T]
[19:18:17] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Connection reset by peer)
[19:18:34] <eddyb> the DST ~[T] will have the same repr as &[T]
[19:18:38] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[19:19:26] *** Quits: arturo (Thunderbir@moz-E83B14F0.superkabel.de) (Quit: arturo)
[19:19:26] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[19:19:40] *** Quits: novabyte (novabyte@9B549FCE.580BA72D.58F0D5B0.IP) (Quit: Leaving.)
[19:20:12] *** Joins: Yurumechan (23f9939a@B2F514.E4420F21.EEF52F3A.IP)
[19:20:59] <Havvy> Does ~[T.clone(), 88] work?
[19:21:01] *** Joins: amousset_ (amousset@6181009C.10715965.BCDF592F.IP)
[19:21:05] <Havvy> Or do I need a for loop?
[19:21:15] <Havvy> Where T is cloneable.
[19:21:21] <eddyb> vec.clone()
[19:21:25] <eddyb> where vec is ~[T]
[19:21:27] <eddyb> or Vec<T>
[19:22:00] *** Joins: mpiechotka (mpiechotka@moz-48C8138B.dynamic.mnet-online.de)
[19:22:08] <edwardw> there's also vec::from_fn
[19:22:14] <Havvy> Should I just use Vec<T> intsead of ~[T] for my structs?
[19:22:44] <eddyb> they should be interchangeable, but Vec<T> is still missing a few methods
[19:22:48] *** Joins: Guest_ (textual@moz-68B4E77A.hsd1.ma.comcast.net)
[19:23:02] <ryeguy> how far away is the death of ~[T]?
[19:23:15] <eddyb> a week at most
[19:23:27] <eddyb> DST seems to come slower, though :(
[19:23:33] <Havvy> What exactly is the death of ~[T] though?
[19:23:42] <Havvy> Is it a reason to use Vec<T>?
[19:23:54] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Quit: Jesse)
[19:24:04] <quux00> What is the right way to use one Rust file (crate) from another?  Suppose a.rs needs b.rs.  I have compiled b.rs as a library (--lib) and then incluced "extern mod b" in file a.rs.  Is that the correct way?
[19:24:08] *** Quits: kngl (Adium@40AE2BF6.ABCDAFD6.7C797F8E.IP) (Quit: Leaving.)
[19:24:17] <doomlord_> is ~[T] special to the compiler and will Vec<T> be special in the same way?
[19:24:18] <Havvy> quux00:  Yes.
[19:24:30] <quux00> Havvy: thanks.  So here's a problem I'm having.
[19:24:37] <eddyb> doomlord_: Vec<T> is just library code
[19:24:51] <Havvy> And then make sure you do -L "/path/to/directory/holding/b.rs"
[19:25:02] <pyon> So ~[T] will be removed at some point, right?
[19:25:04] <quux00> Havvy: Yes, did that.
[19:25:08] <eddyb> Havvy: b.so/b.rlib even
[19:25:14] <eddyb> pyon: soon
[19:25:16] <quux00> I compiled it on my system and it runs fine.  But when I load it to an EC2 instance (just the binary), I get an error like this: ./zhtta: error while loading shared libraries: libstd-3e5aeb83-0.9.so: cannot open shared object file: No such file or directory
[19:25:20] <pyon> Ah. :-)
[19:25:48] <eddyb> pyon: and it will rise from its ashes
[19:25:53] *** Quits: Anupkumar (uid16774@moz-A42E5B7B.irccloud.com) (Quit: Connection closed for inactivity)
[19:25:55] <eddyb> as a shiny new DST type
[19:25:57] <Havvy> That would be rust 0.9's libstd, and it needs to also be in your library path.
[19:26:30] <pyon> Just wondering, is Vec<T> only implements Drop when T implements Drop, right?
[19:26:49] *** Joins: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net)
[19:26:53] <eddyb> pyon: no
[19:26:54] <kimundi> pyon: Vec<T> always implements Drop - its a heap allocation either way
[19:27:00] <quux00> Havvy: OK.  Since Rust is not installed on that remote system would it work to compile it as a static library on my system and avoid the need for the library on the remote system?
[19:27:02] *** Quits: angdev (angdev@16F167B.4C57D258.D8E8354F.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[19:27:06] <eddyb> pyon: the difference is in complexity
[19:27:27] <edwardw> quux00: I read somewhere that EC2 CPU may lack some SSE2 instructions support that LLVM needs. Never tried myself though
[19:27:33] *** Quits: jdsanders (Adium@moz-EB8DC389.hlrn.qwest.net) (Quit: Leaving.)
[19:27:41] <eddyb> when T doesn't need dropping, Vec<T>'s Drop impl will not have a loop dropping every element
[19:27:42] <pyon> Ah, what I want is that Vec<T>'s destructor be O(1) when T does not implement Drop.
[19:27:43] <Havvy> quux00:  I don't know. Maybe?
[19:27:46] *** Joins: jmmk (jmmk@moz-588F65EA.c3-0.smr-ubr1.sbo-smr.ma.cable.rcn.com)
[19:27:51] <pyon> eddyb: Aaaaaaaah, nice, nice, nice!
[19:28:01] <pyon> eddyb: That is exactly what I wanted to make sure.
[19:28:08] <quux00> OK.  I'll experiment with it.  Thanks for the help.
[19:28:13] <eddyb> it doesn't need any special handling, pyon
[19:28:13] *** Joins: judofyr (judofyr@moz-8BB0A10D.nextgentel.com)
[19:28:36] <eddyb> all Vec<T> does, IIRC, is move out of every element
[19:28:46] *** Joins: jeaye (jeaye@moz-34FEF2BB.hsd1.ca.comcast.net)
[19:28:59] <eddyb> if moving out is a noop, the entire loop becomes a noop (with <3 from LLVM)
[19:29:00] <jensnockert> edwardw: Amazon disables some instructions, like AVX, unless all machines of that instance type supports them. But you should be able to disable the usage of those instructions.
[19:29:17] <pyon> eddyb: Ah, so LLVM has magic that helps in that regard. TIL.
[19:29:31] <edwardw> jensnockert: gotcha
[19:29:42] *** Quits: jmmk (jmmk@moz-588F65EA.c3-0.smr-ubr1.sbo-smr.ma.cable.rcn.com) (Ping timeout)
[19:30:11] *** Joins: tgkokk (tgkokk@moz-29BC739C.home.otenet.gr)
[19:30:25] *** Joins: earlzlap (earlz@8C3598F2.A5DD4B37.AECFCF63.IP)
[19:30:32] <eddyb> pyon: it's just dead code
[19:30:43] *** Joins: bersam (bersam@1508A16E.40DE1490.4D92EDC2.IP)
[19:31:07] <eddyb> I think Vec<T>::drop uses read_ptr
[19:31:13] *** Quits: judofyr (judofyr@moz-8BB0A10D.nextgentel.com) (Client exited)
[19:31:36] *** Joins: judofyr (judofyr@moz-8BB0A10D.nextgentel.com)
[19:31:38] *** Quits: noam (noam@F6B530A7.720527A7.416762B.IP) (Ping timeout)
[19:32:08] <eddyb> if it reads a ~T (from Vec<~T>), then that value has to be cleaned up, so it gets drop glue called on it. if it reads a Pod, like int (from Vec<int>), it's a dead load
[19:32:18] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[19:32:24] *** Joins: noam (noam@F6B530A7.720527A7.416762B.IP)
[19:32:24] *** Joins: fyolnish (fyolnish@moz-4EC05241.uqwimax.jp)
[19:32:25] <eddyb> however, I'd like to see in-place drop
[19:32:36] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[19:33:17] *** Quits: judofyr (judofyr@moz-8BB0A10D.nextgentel.com) (Ping timeout)
[19:33:45] <tristram> hi, I’m trying to get my brain arround iterators, I wanted to have my own structure to be iterable with something like this https://gist.github.com/Tristramg/9295732 (for now I don’t want to implement an iterator)
[19:34:05] *** Quits: fyolnish (fyolnish@moz-4EC05241.uqwimax.jp) (Ping timeout)
[19:34:09] *** Joins: hhhhhhhhhh (mike@moz-20E008DD.stcatz.ox.ac.uk)
[19:34:14] <eddyb> tristram: look at the docs
[19:34:50] <hhhhhhhhhh> is it possible to make a constructor for say `pub struct A { x : f64 }` that would let me write `let a : A = A::new( 1 );`
[19:34:54] *** Quits: Guest_ (textual@moz-68B4E77A.hsd1.ma.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[19:35:01] <hhhhhhhhhh> (lets me write new( 1 ) instead of new( 1.0 )
[19:35:04] <Eridius> tristram: that's doable, since you want to return a concrete iterator from your field
[19:35:11] <eddyb> tristram: http://static.rust-lang.org/doc/master/std/index.html?search=iter
[19:35:23] <Eridius> tristram: you'd need to say `fn iter<'a>(&'a self) -> vec::Items<'a, int> { self.vec.iter() }`
[19:35:30] <eddyb> tristram: in your case, it's this method http://static.rust-lang.org/doc/master/std/vec/trait.ImmutableVector.html#tymethod.iter
[19:35:32] <hhhhhhhhhh> i guess i should also say lets me write 1.0, or pass an f32, etc
[19:35:41] <eddyb> hhhhhhhhhh: you can write a generic constructor
[19:35:44] *** Quits: bersam (bersam@1508A16E.40DE1490.4D92EDC2.IP) (Ping timeout)
[19:35:56] <eddyb> hhhhhhhhhh: bounded by something that can convert to f64
[19:36:14] <eddyb> hhhhhhhhhh: http://static.rust-lang.org/doc/master/std/num/trait.ToPrimitive.html
[19:36:28] *** Quits: noam (noam@F6B530A7.720527A7.416762B.IP) (Ping timeout)
[19:37:06] <eddyb> hhhhhhhhhh: fn new<T: ToPrimitive>(x: T) -> Option<A> {x.to_f64().map(|x| A {x: x})}
[19:37:26] <tristram> eddyb: so that’s the follow-up question, is it possible to make it kind off generic (let’s say I change the internal representation, but I want to expose the same iteration). For instance if I define iter in a Trait
[19:37:59] <hhhhhhhhhh> eddyb: is it possible to make it return an A and not Option< A >
[19:38:10] <eddyb> hhhhhhhhhh: only if you want to fail for non-convertible values
[19:38:25] <eddyb> tristram: you can have Trait<IteratorType>, I guess
[19:38:32] <hhhhhhhhhh> eddyb: runtime error?
[19:38:36] <Eridius> tristram: not really
[19:38:47] <Eridius> tristram: you could technically return an ~Iterator<int>, but that would ruin inlining
[19:38:49] *** Joins: jroweboy (Mibbit@moz-18814A6B.provo.static.broadweavenetworks.net)
[19:39:03] *** Joins: bersam (bersam@1508A16E.40DE1490.4D92EDC2.IP)
[19:39:03] <Eridius> tristram: normally if you need the flexibility to change it later you can expose a typedef for the iteration type
[19:39:18] *** Quits: Moor (Moor@moz-C04C27D8.hsd1.ca.comcast.net) (Ping timeout)
[19:39:21] <Eridius> `pub type Items<'a> = ::std::vec::Items<'a, int>`
[19:39:28] <Eridius> and then you can say `pub fn iter<'a>(&'a self) -> Items<'a>`
[19:39:36] <tristram> hrm, ok, thanks a lot
[19:39:38] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[19:39:40] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[19:39:41] <eddyb> so you implement Trait<vec::Items<'a, T>> for &'a MyVec<T>
[19:39:57] <eddyb> though it can get finicky
[19:40:17] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[19:40:47] <Eridius> eddyb: that doesn't actually solve the problem, which is if any clients need to write the iterator type
[19:41:00] <Eridius> a typedef does because the clients can just use the typedef
[19:41:24] <eddyb> fn iter<T, U: Trait<T>>(x: U) -> T {x.iter()}
[19:41:34] <eddyb> tristram almost wants Iterable, I think
[19:41:40] *** Joins: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca)
[19:42:04] <eddyb> I think we have some lifetime issues related to traits (can't remember the issue #) that's stopping us from defining and implementing Iterable
[19:42:09] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Connection reset by peer)
[19:42:20] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[19:42:39] *** Joins: erickt (Adium@moz-1B1F2EF.mic.jnj.com)
[19:42:58] <jroweboy> Hello everyone! I have a Option<HashMap<A, B>> and in a function I want to get value B with key A, so I use this code http://pastebin.com/bjpVb4kb, but it is complaining that since the lifetime cannot outlive the map.get() expression the lifetime isn't valid for the match
[19:43:29] <jroweboy> Why can't it outlive the map.get part since I'm matching and getting a ref to the map?
[19:43:43] *** Quits: WebeWizard (WebeWizard@moz-7CCD1DAE.ks.ks.cox.net) (Client exited)
[19:45:04] *** Joins: evanm (evanm@moz-4D6F9A00.hsd1.ca.comcast.net)
[19:45:25] <eddyb> jroweboy: hmpf... can you show us more context?
[19:46:05] *** Joins: noam (noam@F6B530A7.720527A7.416762B.IP)
[19:46:21] <jroweboy> Thats the entire method, but sure, I'll include the struct and stuff in a second paste. 
[19:46:22] *** Quits: earlzlap (earlz@8C3598F2.A5DD4B37.AECFCF63.IP) (Ping timeout)
[19:46:51] *** Quits: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP) (Quit: colinsurprenant)
[19:47:36] *** Joins: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch)
[19:47:46] <quux00> Havvy: that worked - compiling b.rs as a static library with --rlib and then in a.rs using: #[link(name = "b", kind = "static")] extern mod b   worked - I can upload the binary to a system (EC2) with no rust libraries and it runs correctly.
[19:47:56] <hhhhhhhhhh> how do you cast a static to use at compile time? i want something with the effect of `static a : uint = 1; static b : f64 = a + a;`
[19:48:11] <Havvy> quux00:  Noted.
[19:48:24] <eddyb> hhhhhhhhhh: a as f64
[19:48:41] <hhhhhhhhhh> eddyb: thanks
[19:50:55] <jroweboy> Here is almost the entire file: http://pastebin.com/Qa8J71P8
[19:51:19] *** Quits: noam (noam@F6B530A7.720527A7.416762B.IP) (Ping timeout)
[19:51:34] *** Quits: zimbatm (zimbatm@moz-D4F596B.cable.virginm.net) (Quit: Leaving...)
[19:51:49] *** Joins: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP)
[19:51:55] *** Quits: adonohue (adonohue@55513BD.95D3F462.59D8BB03.IP) (Quit: adonohue)
[19:52:22] *** Joins: jdsanders (Adium@moz-EB8DC389.hlrn.qwest.net)
[19:53:02] <eddyb> jroweboy: did you try linking &'a self and &'a Data?
[19:53:17] <eddyb> pub fn get_context_var<'a>(&'a self, name: &str) -> &'a Data
[19:53:35] <eddyb> jroweboy: and you should use equiv, not to_owned()
[19:54:02] *** Quits: jdsanders (Adium@moz-EB8DC389.hlrn.qwest.net) (Ping timeout)
[19:54:12] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[19:54:39] *** Joins: bogen (dwight@moz-2BC61D24.tx.res.rr.com)
[19:54:44] <jroweboy> and change the Request to have a lifetime as well? I started on that, but I ran into issues since I use a static function pointer and i was struggling to attach a lifetime to the Request inside a static function pointer.
[19:55:00] *** Parts: bogen (dwight@moz-2BC61D24.tx.res.rr.com) ()
[19:55:06] <eddyb> jroweboy: you don't need to change Request
[19:55:21] <eddyb> &'a self has type &'a Request
[19:55:31] <jroweboy> I can just add a lifetime to that one method? 
[19:55:31] <eddyb> it's the lifetime of the reference, nothing within Request
[19:55:32] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[19:55:36] *** Joins: asmyers (quassel@moz-1BA75A5A.hrbgpa.east.verizon.net)
[19:55:37] <eddyb> jroweboy: of course
[19:55:59] <jroweboy> Oh! Learned something new there :) Lemme try that out then and see what happens
[19:56:21] <eddyb> there seems to be no get_equiv
[19:56:26] <eddyb> http://static.rust-lang.org/doc/master/collections/hashmap/struct.HashMap.html#method.find_equiv
[19:56:33] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[19:57:01] *** Quits: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP) (Quit: colinsurprenant)
[19:57:04] <jroweboy> Oh I see what you mean with that now. I can just use find_equiv and match, its not that different
[19:57:42] <eddyb> self.context.as_ref().and_then(|map| map.find_equiv(&name))
[19:57:52] <eddyb> and return Option<&'a Data>
[19:57:53] *** Joins: jdsanders (Adium@moz-EB8DC389.hlrn.qwest.net)
[19:57:58] <doomlord_> http://static.rust-lang.org/doc/master/std/raw/struct.Vec.html <<< is there more voodoo going on than that in the compiler
[19:58:09] <eddyb> doomlord_: that's "raw"
[19:58:23] <eddyb> (if you're looking for vec_ng::Vec<T>)
[19:58:24] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[19:58:25] <jroweboy> eddyb: Thanks a bunch! That looks like much better code than what I was going to write :D
[19:58:41] *** Joins: Savago (Savago@moz-679D1D3C.hsd1.ca.comcast.net)
[19:59:00] *** Quits: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net) (Quit: killerswan)
[19:59:21] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[19:59:34] *** Quits: jdsanders (Adium@moz-EB8DC389.hlrn.qwest.net) (Ping timeout)
[20:00:07] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[20:00:23] <doomlord_> can't find std::vec::Vec  std::Vec or collections::Vec
[20:00:30] *** Joins: Moor (Moor@moz-C04C27D8.hsd1.ca.comcast.net)
[20:00:35] <eddyb> it's std::vec_ng::Vec
[20:00:58] <doomlord_> ah some transitionary thing
[20:01:43] <jroweboy> hrrmm.. same issue with the lifetime. calling map.find_equiv is still making the compiler say that the reference cannot outlive that line of code and still have the lifetime valid for self.context.as_ref() :/
[20:01:47] *** Quits: nfroidure (nfroidure@moz-3091C784.w90-18.abo.wanadoo.fr) (Ping timeout)
[20:02:05] *** Quits: asmyers (quassel@moz-1BA75A5A.hrbgpa.east.verizon.net) (Client exited)
[20:02:10] <doomlord_> so basically we shuold all start moving to Vec<T>, right
[20:02:10] *** Joins: asmyers (quassel@moz-1BA75A5A.hrbgpa.east.verizon.net)
[20:02:14] <eddyb> jroweboy: doesn't sound right...
[20:03:07] <jroweboy> should I update to the latest master? I'm about 5 days behind I think
[20:03:12] <eddyb> self has lifetime 'a, context inherits 'a, as_ref maps &'a Option<T> to Option<&'a T>, find_equiv returns Option<&'a V>....
[20:03:29] <eddyb> I don't see anything being able to break the chain
[20:03:55] *** Joins: Houm (Houm@moz-25669AA8.fbx.proxad.net)
[20:03:57] <RustProof> Is there no more SharedChan ?
[20:04:07] <eddyb> RustProof: can clone Chan now
[20:04:21] <RustProof> Oh ok, thanks
[20:05:24] *** Joins: ganitsu (ganitsu@moz-87704A22.dialup.mobile.ancel.net.uy)
[20:05:32] *** Joins: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com)
[20:05:53] <kimundi> doomlord_: correct
[20:06:04] *** Joins: cremes_ (cremes@95BE3773.FD5C31A1.284344F5.IP)
[20:06:06] *** Joins: ambimorph (amber@moz-B3FBDFCE.hlrn.qwest.net)
[20:06:11] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[20:06:26] <kimundi> doomlord_: Vec<T> will be the type to use in the future for growable vectors
[20:07:02] <eddyb> *however* a collect to ~[T] should be just as efficient. it's an interesting situation
[20:07:03] <doomlord_> i've found a definiton of 'from_elem' for Vec<T> in vec_ng.rs ... but i can't seem to access it
[20:07:11] <eddyb> doomlord_: docs are hidden
[20:07:19] <eddyb> so Vec<T> is a growable vector
[20:07:28] <eddyb> while ~[T] becomes an "owned array"
[20:07:34] <eddyb> or "unique array"
[20:07:44] <doomlord_> i always had lots of custom vector variants in c++
[20:07:48] *** Quits: cremes_ (cremes@95BE3773.FD5C31A1.284344F5.IP) (Quit: cremes_)
[20:08:00] <doomlord_> i'm one of those people who took a long time to give in to using 'std::vector'
[20:08:07] <jroweboy> Hrmm. I think I'll just find a different templating library :S Maybe just swap to a c library and wrap it. Is it feasible to wrap a c++ library in rust? I've never really looked into that before
[20:08:14] <o11c> no problem with using different vector implementations if you have different needs
[20:08:18] <eddyb> jroweboy: erm
[20:08:24] <eddyb> jroweboy: just fix the lifetime issue =))
[20:08:26] <o11c> I wrote a string library, I have 8 different classes
[20:08:31] <doomlord_> so i thin its a step forward for it to be more like library code.. although i'll miss the compact syntax
[20:08:51] <eddyb> jroweboy: can you share the current code (and on gist, pls. or anything that has rust highlighting)
[20:08:51] <o11c> the important thing is that they all satisfy the same interface except where it doesn't make sense
[20:09:21] <eddyb> a SmallVector that has a One(T) variant can still return a &[T]
[20:09:28] <jroweboy> eddyb: Its more trouble though, I've already spent 10+ hours updating rust-mustache and I actually don't even know how to use it. Sure I can push my code out and link it
[20:09:34] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[20:09:58] *** Joins: jmmk (jmmk@moz-588F65EA.c3-0.smr-ubr1.sbo-smr.ma.cable.rcn.com)
[20:10:08] <FreeFull> eddyb: The new ~[T] actually seems to be what I want in my program
[20:10:16] <FreeFull> So I guess I won't have to switch it to Vec<T>
[20:10:32] <eddyb> well, the current ~[T] is a worse Vec<T>
[20:10:41] <eddyb> and it will be gone for a period of time
[20:10:46] <eddyb> o11c: &T => &[T] is a safe conversion, since the length is stored adjacently, not interiorly
[20:10:59] *** Quits: tgkokk (tgkokk@moz-29BC739C.home.otenet.gr) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[20:11:03] *** Joins: adonohue (adonohue@55513BD.95D3F462.59D8BB03.IP)
[20:11:13] <eddyb> with DST, you can impl Deref<[T]> for SmallVector<T>
[20:11:28] <jroweboy> https://github.com/jroweboy/oxidize/blob/master/src/request.rs is the file I'm working in
[20:11:32] <eddyb> which is just amazing
[20:11:39] <kimundi> That would enable autoslicing, I guess? :)
[20:11:50] <eddyb> jroweboy: you did it wrong
[20:12:15] <jroweboy> Oh? What did I mess up on? 
[20:12:17] <eddyb> kimundi: it would work with the current Deref impl for calling methods defined for &[T] on Vec<T>
[20:12:19] *** Quits: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org) (Ping timeout)
[20:12:28] <eddyb> jroweboy: &'a Data. or Option<&'a Data>
[20:12:40] <eddyb> the point of the lifetime is to link it to the result
[20:12:47] <eddyb> so it's thread through
[20:12:58] *** Quits: amousset_ (amousset@6181009C.10715965.BCDF592F.IP) (Ping timeout)
[20:13:12] <jroweboy> what do you mean by its thread though?
[20:13:20] <jroweboy> through*
[20:13:34] <eddyb> so inside the match, d has type &'a Data
[20:13:44] <eddyb> you just need it to also be in the definition of the function
[20:13:52] <eddyb> so it's linked from start to the end
[20:13:53] <kimundi> jroweboy: You take something with a lifetime 'a, and return something with a lifetime 'a - threading it through the function call
[20:14:12] <eddyb> yeah, words, explanations. I'm tired :(
[20:14:40] <eddyb> jroweboy: I think we're getting better error messages for a missing lifetime on the return type
[20:14:53] <eddyb> suggesting a lifetime placement combination that works
[20:15:19] *** Joins: veinofstars (veinofstar@moz-C57DCEC9.nyc.res.rr.com)
[20:15:32] <jroweboy> eddyb: I'm just really grateful you figured it out! Thanks a bunch! I think lifetimes are the hardest part of the learning curve for me :p I have no clue when and where to place them and I just do it to satisfy the compiler...
[20:15:37] *** Quits: edwardw (edwardw@24D7341C.32602B75.B9C6B12A.IP) (Quit: Leaving...)
[20:16:08] *** Quits: sp3d (s@6361F3B1.19CD1E54.8354FB35.IP) (Ping timeout)
[20:16:27] *** Joins: nfroidure (nfroidure@moz-658F8A26.w90-18.abo.wanadoo.fr)
[20:17:17] <kimundi> jroweboy: Are you experienced with generics?
[20:17:45] *** Quits: adonohue (adonohue@55513BD.95D3F462.59D8BB03.IP) (Quit: adonohue)
[20:18:07] <jroweboy> kimundi: In languages like Java and C++ yeah. I haven't tried generics in Rust yet.
[20:18:17] <eddyb> Java doesn't have generics ;)
[20:18:27] <kimundi> eddyb: hush ;P
[20:18:36] <eddyb> Rust generics are pretty much like C++ templates
[20:18:44] <eddyb> without HKT and numeric constants
[20:19:13] <cmr> and unrelated, type-system-wise :P
[20:19:19] <kimundi> jroweboy: Lifetime variables in Rust are pretty similar to generic type parameters
[20:19:24] <eddyb> (I've done magic in C++11 and I still had to find out C++ has HKT from Rust >_>)
[20:19:57] <eddyb> generics in Rust are monomorphized like C++ templates, but are type-checked at definition (based on trait bounds)
[20:20:11] <kimundi> jroweboy: fn foo<'a, T>(t: &'a T) -> &'a T // for all lifetimes 'a, and all types T, take a reference to T with that melifetime, and return a reference with that lifeti
[20:21:09] <pyon> eddyb: Java does have generics. They are broken, but they do exist.
[20:21:12] <kimundi> Basically, the rules where to place them are more or less identical: If you use generic type parmaters, you need to declare and use them. If you use references, you need to declare and use lifetime names for them.
[20:21:17] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Quit: Busying myself...)
[20:21:20] <eddyb> and lifetimes are inherited, like mutability (except for &T/&mut T, just like mutability)
[20:22:03] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[20:22:10] <eddyb> pyon: that's some form of weak polymorphism you should just not call "generics"
[20:22:34] <eddyb> pyon: have some standards :P
[20:22:58] *** Joins: halleck (a@moz-A2A78401.dynamic.mnet-online.de)
[20:23:30] <jroweboy> Hmm... it'll take a bit before I fully understand it, but if I am understanding correctly, the point of declaring lifetimes is so the compiler knows where and when the reference is used and can infer how long the variable will be around for. 
[20:24:03] <eddyb> myeah
[20:24:04] <pyon> eddyb: If anything, the problem in Java is that subclassing is not as powerful as traits, and in general interacts badly with parametric polymorphism. But, as long as you do not use reflection or downcasts, Java generics are really generic.
[20:24:11] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[20:24:31] <pyon> (Of course, in practice everyone uses reflection and/or downcasts.)
[20:24:32] *** Quits: halleck (a@moz-A2A78401.dynamic.mnet-online.de) (Client exited)
[20:24:40] *** Quits: veinofstars (veinofstar@moz-C57DCEC9.nyc.res.rr.com) (Quit: veinofstars)
[20:24:44] <kimundi> jroweboy: more other way round: you declare them, so that the compiler knows how exactly he should handle them
[20:24:47] <eddyb> java generics are just a hack over Object being almost top
[20:25:21] <pyon> eddyb: Ah, you mean how Java generics are implemented using erasure, as opposed to, say, .NET generics?
[20:25:35] *** Joins: mgottschlag (quassel@moz-687B4309.cust.bluewin.ch)
[20:25:53] *** Quits: victorporof (victorporo@moz-FFB76956.cpe.net.cable.rogers.com) (Ping timeout)
[20:25:54] <eddyb> pyon: they are just syntax sugar over Object
[20:26:02] <eddyb> it's not even "implementation detail"
[20:26:23] <kimundi> jroweboy: Example: "fn foo<'a>(x: &'a T, y: &'a T) -> &'a T", "fn foo<'a, 'b>(x: &'a T, y: &'b T) -> &'a T" and "fn foo<'a, 'b>(x: &'a T, y: &'b T) -> &'b T" have all distinct semantic which the compiler could not figure out on its own
[20:26:26] <eddyb> you could implement Java "generics" in Rust with a crappy macro, I'd say
[20:26:30] <pyon> eddyb: Ah.
[20:26:57] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[20:27:08] <eddyb> rust's Any is more like top than java's Object, because of data/impl disconnection :D
[20:27:09] <jroweboy> Somewhat related though, my roommate was telling me about HKT and such, but he couldn't explain to me what that exactly brings to the language that you couldn't do already with generic types like Any
[20:27:19] <kimundi> eddyb: I'd like to see you try that ;)
[20:27:31] <pyon> eddyb: Also because of primitive types not being objects. :-)
[20:27:33] <pyon> eddyb: Anyway, I like my generics monomorphized whenever possible. :-)
[20:27:39] <cmr> jroweboy: they give you another layer of abstraction.
[20:27:43] <eddyb> kimundi: resolve is going to be a problem :/
[20:27:44] <cmr> jroweboy: *at compile time*.
[20:27:51] *** Joins: sp3d (s@6361F3B1.19CD1E54.8354FB35.IP)
[20:28:11] <cmr> jroweboy: it lets you express, for example, Monad as a type.
[20:28:30] <jroweboy> kimundi: so in that last example you are binding the lifetime of the result to the lifetime of the second parameter? Is that correct?
[20:28:56] <eddyb> kimundi: but you can totally implement some half-assed type param resolution
[20:29:34] <kimundi> jroweboy: Yeah - its a declaration that requires the result to life at least as long as the second parameter
[20:31:00] *** Quits: bmu (chatzilla@moz-A87574A6.hsd1.pa.comcast.net) (Ping timeout)
[20:31:14] <mcpherrin> I've got some code that works on ~[u8] but I'm struggling to make it work on &[u8] https://gist.github.com/mcpherrinm/9296786
[20:31:34] *** Joins: syst3mw0rm (quassel@moz-7886FF16.us-west-2.compute.amazonaws.com)
[20:32:04] <kimundi> jroweboy: wait, other way round - at most as long as the second parameter
[20:32:26] *** Joins: fyolnish (fyolnish@moz-4EC05241.uqwimax.jp)
[20:32:41] <ambro718> How powerful is rust metaprogramming? For example in some C++ microcontroller code of mine, I define a compile-time list of heaters, along with their names, pin mappings and all. Then I have some code which accepts the list of heaters as a template parameter, and it contains a Heater<HeaterIndex> class template which is instantiated for each heater (a tuple). I can do things such as turn on all heaters on at once (call the turn_on function 
[20:32:42] <mcpherrin> Do I need to impl write seperately for &mut [u8] and read on &[u8]?
[20:32:43] <ambro718> for each heater).
[20:32:50] <ambro718> Does rust have such list processing capabilities?
[20:32:59] <mcpherrin> ambro718: You can run arbitrary rust code at compile-time
[20:33:17] <eddyb> syntax extensions, you mean?
[20:33:22] <mcpherrin> Yes, I do
[20:33:37] <eddyb> ambro718: how does that compile-time list look like?
[20:33:46] <eddyb> ambro718: using constants in templates?
[20:34:07] *** Quits: fyolnish (fyolnish@moz-4EC05241.uqwimax.jp) (Ping timeout)
[20:34:10] *** Joins: fyolnish (fyolnish@moz-4EC05241.uqwimax.jp)
[20:34:17] <ambro718> eddyb: It's a simple cons list. A list of integers would be something like:   Cons<1, Cons<2, Cons<3, Nil>>>.
[20:34:24] <eddyb> right
[20:34:38] <kimundi> mcpherrin: As long as we don't have DST, you need to impl for both &[T] and &mut [T] seperately - though you could also leave of the second one, as the &mut [T] coerces to &[T] under the right circiumstances
[20:34:45] <ambro718> struct Nil {};  template <typename THead, typename TTail> struct Cons { using Head = THead; using Tail = TTail; };
[20:34:55] <cmr> kimundi: it shouldn't ever coerce.
[20:35:01] <eddyb> ambro718: you can have static &[T]
[20:35:12] <cmr> kimundi: or, maybe it does, if it's frozen...
[20:35:17] <eddyb> cmr: you can call &[T] methods on &mut [T]
[20:35:31] *** Joins: tgkokk (tgkokk@moz-29BC739C.home.otenet.gr)
[20:35:33] <eddyb> that's technically a re-borrow, I think
[20:35:34] <kimundi> cmr: ? you can borrow a &mut as &, which freezes the &mut for that duration
[20:35:39] <cmr> yeah
[20:35:45] * cmr goes back to work
[20:35:52] <kimundi> but yeah, not a _coercion_, thats true
[20:35:52] *** Quits: fyolnish (fyolnish@moz-4EC05241.uqwimax.jp) (Ping timeout)
[20:36:00] <ambro718> eddyb: I don't know much about Rust yet, but can you point me to the feature that would allow such compile-time code generation? 
[20:36:05] <eddyb> ambro718: and technically, even a static cons list
[20:36:30] *** Quits: heftig_ (heftig@moz-B6BF6D03.dip0.t-ipconnect.de) (Quit: Quitting)
[20:36:32] <eddyb> ambro718: but you depend on LLVM to do const-eval
[20:36:38] <eddyb> not sure if it would actually do it
[20:37:18] <ambro718> a critical part is that this is all resolved at compile time. If my Heater template has a turn_on() function, it should end up with one instance of that function for each heater (no reading heater indices or anything else at compile time)
[20:37:26] *** Joins: nano (nano@moz-ED77243C.superkabel.de)
[20:37:35] <ambro718> * I mean at run time.
[20:37:42] <eddyb> right
[20:38:00] <ambro718> so where should I look for this?
[20:38:01] <eddyb> you can use [T, ..N] to create type-level constants
[20:38:12] <cmr> ambro718: rust doesn't have this.
[20:38:27] <cmr> compile-time metaprogramming is very limited.
[20:38:30] *** Joins: judofyr (judofyr@moz-8BB0A10D.nextgentel.com)
[20:38:35] <cmr> however, we have syntax extensions, which can do a lot.
[20:38:38] <ambro718> So it can'd do something like C++ tuple?
[20:38:45] <eddyb> rust has tuples btw
[20:38:52] <cmr> no.
[20:39:00] <eddyb> but no, there's no type-level recursion magic
[20:39:09] <ambro718> :(
[20:39:12] <eddyb> there's trait-implementation-level recursion
[20:39:29] <eddyb> ambro718: you can have Heater<[u8, ..value]> and then Cons<H1, Cons<H2, Cons<H3, Nil>>> and have that expand to what you want, I think
[20:40:11] <canhtak> hi rust dev's, with the arrival of the std::Vec, [] will be completely remove, or keep as a shortcut too std::Vec?
[20:40:23] <eddyb> ambro718: it will call size_of::<[u8, ..N]>() to extract N, from each Heater, but that should become a constant
[20:40:29] <pyon> ambro718: Rust's tuples are a lot better than C++'s broken ones.
[20:40:50] <eddyb> and with variadic generics, they'll be quite powerful
[20:40:50] *** Quits: judofyr (judofyr@moz-8BB0A10D.nextgentel.com) (Connection reset by peer)
[20:41:01] <eddyb> but right now you don't have them, so you have to find other means
[20:41:12] <Valloric> how well-defined is static init order in Rust?
[20:41:15] *** Joins: judofyr (judofyr@moz-8BB0A10D.nextgentel.com)
[20:41:21] <eddyb> Valloric: there is no such thing as static init
[20:41:28] <mcpherrin> canhtak: I think ~[T] will come back as a shortcut at some point, but probably not right away
[20:41:34] <eddyb> not shortcut
[20:41:55] <Valloric> eddyb: so you're saying I can't have static foo: ~[int]
[20:41:58] <mcpherrin> I'm a little fuzzy on how vec_ng and DST will interact
[20:42:03] <eddyb> DST will allow any pointer and smart pointer to contain [T]
[20:42:12] <eddyb> so ~[T] will be an owned/unique array
[20:42:26] *** Joins: myname (myname@F6BC1CBC.2C5F047.A0197E77.IP)
[20:42:37] *** Quits: c-a (c-a@moz-DBDF8C81.cust.bluewin.ch) (Quit: Ex-Chat)
[20:42:44] <eddyb> mcpherrin: Vec<T> will probably implement Deref<[T]> and DerefMut<[T]> to allow it to be used as &[T] and &mut [T]
[20:42:52] <eddyb> ambro718: so the trouble in Rust is not actually creating type-level constants
[20:43:01] <eddyb> ambro718: but rather using them in non-code contexts
[20:43:09] <eddyb> associated constants might solve that
[20:43:34] *** Quits: bersam (bersam@1508A16E.40DE1490.4D92EDC2.IP) (Ping timeout)
[20:43:39] *** Joins: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net)
[20:43:46] <eddyb> nothing prevents struct Nil; and struct Cons<T, U>; and a recursive trait impl from working
[20:44:42] <eddyb> Valloric: you opened this issue, right? https://github.com/mozilla/rust/issues/12578
[20:44:56] <eddyb> Valloric: I wanted to discuss it a bit with you, but you weren't on IRC then
[20:45:00] <Valloric> eddyb: that's me, yes
[20:45:10] <Valloric> ask away
[20:45:15] <eddyb> so what you propose is... somewhat unrealistic
[20:45:20] <eddyb> syntax extensions work on the AST
[20:45:30] <mcpherrin> eddyb: So ~[T] under DST will be like ~([T, ..N]) with the N erased
[20:45:37] <eddyb> mcpherrin: yupp
[20:45:42] *** Quits: ganitsu (ganitsu@moz-87704A22.dialup.mobile.ancel.net.uy) (Ping timeout)
[20:45:44] <mcpherrin> Gotcha
[20:46:03] <eddyb> Valloric: you'd need to hook into the type system and recursively substitute types, and syntax extensions just can't do that
[20:46:16] <Valloric> eddyb: I mentioned in the issue that I don't really care is this implemented as an attribute or not, just that the functionality would be great
[20:46:34] <eddyb> Valloric: however, there's a few (much) simpler options, depending on what you want to touch
[20:46:56] *** Joins: bmu (chatzilla@moz-A87574A6.hsd1.pa.comcast.net)
[20:47:11] *** Joins: veinofstars (veinofstar@moz-C57DCEC9.nyc.res.rr.com)
[20:47:11] <Rusky> how can I get a chariterator from a &'static str?
[20:47:19] <eddyb> Rusky: &'static str is a &str
[20:47:20] *** Quits: glaebhoer1 (glaebhoerl@moz-B5B88D72.catv.broadband.hu) (Ping timeout)
[20:47:28] <eddyb> so .chars() I would think
[20:47:32] <Valloric> eddyb: all I want is the ability to swap out one type with another when cfg(test)
[20:47:32] <Rusky> ah .chars()
[20:47:48] <eddyb> Valloric: are you okay with an annotation on the actual types?
[20:48:01] <eddyb> Valloric: or an annotation on some enclosing module?
[20:48:11] <Valloric> eddyb: ideally, it shouldn't impact the prod code
[20:48:18] <eddyb> see, that's the problem
[20:48:54] <Valloric> the thing is, you want to be able do swap type A with type B in one test, and type C in another
[20:48:59] <eddyb> you can have a hypothetical #[when(test, replace(Bar, MockBar))]; on the module that contains...
[20:49:01] <eddyb> ohh
[20:49:10] *** Joins: ooo_ (olleolleol@moz-E36F802C.se)
[20:49:18] <eddyb> Valloric: I'll try to think of something that can work at the type level
[20:49:20] <Valloric> all of dependency injection is designed to solve this issue
[20:49:24] <ambro718> So my current C++ code looks something like this (it's half pseudocode because you need a proper metaprogramming library to do it). http://ideone.com/PeYVh8
[20:49:31] <doomlord_> strange... i can clearly see 'from_elem' in libstd/vec_ng.rs ; i'm unable to call ::std::vec_ng::from_elem (& i've tried various ways of using it.. use vec_ng... etc
[20:49:47] <ambro718> Can anyone provide some actual equivalent Rust code?
[20:49:47] <eddyb> doomlord_: it's probably a static method on Vec
[20:50:02] <Valloric> eddyb: I know many enterprise devs who would kill, murder and pillage to be able to get this feature of swapping types for tests without touching prod code
[20:50:16] <eddyb> Valloric: we haven't excluded something like #[phase(typeck)] to allow type-level extensions
[20:50:16] <doomlord_> ah dumb me
[20:50:18] <Valloric> eddyb: ... and that's only a _slight_ exaggeration
[20:51:02] <eddyb> mkay, so...
[20:51:09] <ooo_> Anyone here experimenting with oxidize?
[20:51:22] <ooo_> Am trying to compile it on OS X
[20:51:30] <eddyb> Valloric: you have to run after typeck otherwise there's no inference results
[20:52:00] <Valloric> eddyb: makes sense
[20:52:02] <eddyb> Valloric: then you have to visit all the types in the function and mark the ones that can reach the target type (Bar). that shouldn't be too expensive
[20:52:26] <eddyb> then, you have to use the type folder, to produce new types, with Bar replaced with MockBar
[20:52:32] <eddyb> but wait!
[20:52:36] *** Quits: judofyr (judofyr@moz-8BB0A10D.nextgentel.com) (Client exited)
[20:52:58] <eddyb> now you have calls to functions and methods taking Foo and not replace(Foo, Bar, MockBar)
[20:53:07] *** Joins: judofyr (judofyr@moz-8BB0A10D.nextgentel.com)
[20:53:20] <eddyb> so you'd have to also take those and... I don't know what you'd do
[20:53:26] *** Joins: glennsl (textual@moz-5DA055C6.customer.cdi.no)
[20:53:37] <eddyb> duplicate the AST and type information, and substitute?
[20:53:49] <Valloric> it's a big feature that's hard to implement, I understand... but the payoff is IMO immense
[20:53:51] <eddyb> things like vtables would have to be redone
[20:53:56] <Valloric> no dependency injection!
[20:54:15] <eddyb> Valloric: it's bigger than some features we want and we struggle to implement
[20:54:24] <eddyb> I can't put effort into this even if I wanted to
[20:54:35] <eddyb> there's DST and variadic generics to add to the language before 1.0
[20:54:36] <Valloric> eddyb: I was worried it might be too big of a chunk
[20:54:44] *** Joins: q66 (q66@B11C0D37.EEE9ED06.A574D365.IP)
[20:54:48] *** Quits: judofyr (judofyr@moz-8BB0A10D.nextgentel.com) (Ping timeout)
[20:54:50] <Valloric> eddyb: all of those are more important, no question
[20:54:52] <eddyb> Valloric: but hey, type-level extensions are cool hacks
[20:55:02] <Valloric> eddyb: and I'm not saying this should be for 1.0
[20:55:06] <kimundi> And would be backwards-compatible to add, I assume?
[20:55:14] <Valloric> eddyb: but should be kept in mind, since it would sell Rust like crazy
[20:55:14] <eddyb> this will most likely not be built-in
[20:55:21] <doomlord_> is there a link describing DST
[20:55:28] <eddyb> doomlord_: search for DST5
[20:55:30] <kimundi> doomlord_: sec
[20:55:48] <kimundi> doomlord_: http://smallcultfollowing.com/babysteps/blog/2014/01/05/dst-take-5/
[20:56:08] *** Joins: judofyr (judofyr@moz-8BB0A10D.nextgentel.com)
[20:56:10] <eddyb> Valloric: type-level extensions combined with syntax extensions could allow fully typed generators
[20:56:29] <Valloric> eddyb: look at Guice (https://code.google.com/p/google-guice/) and all the other dep injection frameworks... countless thousands of man hours 
[20:56:41] <doomlord_> in C++ i always seemed to feel the way vector<T> and new[] delete[] was a bit restrictive
[20:56:44] <Valloric> eddyb: all unnecessary if this is implemented
[20:56:47] <eddyb> I guess you don't need a syntax extension, just a defined yield
[20:57:10] <doomlord_> eg in plain c it was possible to have 'vectors' that the user tracks the size of, the size information isn't replicated in the allocator... 
[20:57:18] *** Joins: ganitsu (ganitsu@moz-BD63781C.dialup.adsl.anteldata.net.uy)
[20:57:24] <eddyb> https://duckduckgo.com/?q=DST5 I like the bubble :(
[20:57:31] <doomlord_> doesn't sound like a big deal but when you had things padded out for alignment it was a bit more annoying
[20:57:41] <doomlord_> i liked the 'size-passed' versions of new/delete
[20:57:43] <eddyb> wait, no, google is just as useless
[20:58:35] <doomlord_> ok DST sounds great
[20:58:47] <doomlord_> i remember some talk about that months ago
[20:58:51] <RustProof> I have a little problem : I have a texture and a sprite displaying it, I have to give a reference of the texture to the sprite. Then I have to modify the texture, but as it is borrowed I can't. How should I manage that ? (I'm using a raw pointer for now)
[20:59:11] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[20:59:16] <doomlord_> if you can get vectors which can go through a user-tracking-the-size allocation scheme i'll be a happy chap
[20:59:16] <eddyb> acrichto, nmatsakis: should feature-gate unsafe pointers
[20:59:26] <eddyb> people are overusing them to get around the borrow checker :(
[20:59:46] <eddyb> RustProof: you could use a RefCell
[20:59:47] *** Quits: judofyr (judofyr@moz-8BB0A10D.nextgentel.com) (Client exited)
[21:00:00] <eddyb> doomlord_: what do you mean?
[21:00:09] *** Joins: judofyr (judofyr@moz-8BB0A10D.nextgentel.com)
[21:00:23] <eddyb> ~[T] under DST would be {data: *T, len: uint}
[21:00:28] *** Joins: s_spin (Mibbit@moz-C864FA43.pools.arcor-ip.net)
[21:00:32] <doomlord_> in c++ you have the option of using a variation of delete(void*,size_t size) ... you can use an allocator that doesn't track the size itself
[21:00:33] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Connection reset by peer)
[21:00:39] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[21:00:45] <doomlord_> but you can't use that for array new[] delete[] .. 
[21:00:56] <eddyb> there's no new[] AFAIK
[21:01:03] <eddyb> you have to create it with a size
[21:01:10] <eddyb> doomlord_: [T] knows its size
[21:01:12] *** Quits: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch) (Quit: Leaving.)
[21:01:30] <eddyb> and Vec<T> knows its capacity
[21:01:50] <RustProof> eddyb: well, the textures and sprites are from SFML so I don't think it would help
[21:01:51] *** Quits: judofyr (judofyr@moz-8BB0A10D.nextgentel.com) (Ping timeout)
[21:01:51] <eddyb> doomlord_: strcat actually wanted to force our heap free lang item to take a size
[21:02:08] <eddyb> RustProof: what does the code look like?
[21:02:10] <doomlord_> that sounds like what i'm suggesting
[21:02:13] <kimundi> Afaik Rust allocations in general are based on the assumption that free() just wants a pointer
[21:02:32] <kimundi> Oh there was talk about that?
[21:02:32] <eddyb> kimundi: not really
[21:02:36] <doomlord_> there's options for allocators that that helps
[21:02:49] <doomlord_> the user knows the size.. so exploit that
[21:03:08] *** Quits: hhhhhhhhhh (mike@moz-20E008DD.stcatz.ox.ac.uk) (Quit: WeeChat 0.4.3)
[21:03:09] *** Quits: mawuli (mawuli@moz-A89BBCE.com.gh) (Connection reset by peer)
[21:03:14] <eddyb> kimundi: there's no way to lose the actual size, currently
[21:03:14] *** Quits: s_spin (Mibbit@moz-C864FA43.pools.arcor-ip.net) (Quit: http://www.mibbit.com ajax IRC Client)
[21:03:27] <doomlord_> back when i encountered this is was with 32bit adressing but 16byte alignment for SIMD instructions... padding for a count in memory was irritating
[21:03:33] *** Quits: evanm (evanm@moz-4D6F9A00.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[21:03:33] *** Quits: veinofstars (veinofstar@moz-C57DCEC9.nyc.res.rr.com) (Ping timeout)
[21:03:36] <kimundi> I remember a discussion about the conversion ~[T] -> Vec<T> -> ~[T] being zero cost, because you can forget the exact size
[21:03:59] <eddyb> kimundi: the solution to that is shrink_to_fit
[21:04:11] *** Joins: mawuli (mawuli@moz-A89BBCE.com.gh)
[21:04:12] <kimundi> eddyb: Thats no longer zero cost then
[21:04:18] <eddyb> which can be free if there is no size class change
[21:04:31] <doomlord_> i'll miss the [T] syntax, but i guess words like 'Vec' are eaiser to syntax highlight etc..
[21:04:38] *** Joins: veinofstars (veinofstar@moz-C57DCEC9.nyc.res.rr.com)
[21:04:39] <Valloric> RustProof: I've used SFML, the semantics of textures and sprites should be expressible in Rust with lifetimes
[21:04:47] <doomlord_> and something to hit 'jump to definition' on..
[21:05:00] <eddyb> doomlord_: [T] will no longer be "vector" but "array"
[21:05:06] <Valloric> RustProof: a SFML texture must outlive all sprites that use it, even in C++
[21:05:19] <eddyb> you'll have Rc<[T]> as a way to share a non-growable array
[21:05:41] <kimundi> doomlord_: The [] syntax will stay - only the type lever treating of [T] in general will change
[21:06:13] <eddyb> kimundi: if you inline the allocator code into Vec<T> -> ~[T] function, you can get a very cheap branch that check whether there can be a gain from downsizing the capacity
[21:06:13] <doomlord_> i gather [literals...] will become [T...,N] , that seems sensible
[21:06:19] <kimundi> doomlord_: ~[T] will still be a dynamic heap array with DST - it just won't have amortized O(1) push
[21:06:26] *** Quits: FrozenCow (FrozenCow@moz-E69F48E.dynamic.upc.nl) (Client exited)
[21:06:44] <eddyb> doomlord_: literals already are that
[21:06:55] <eddyb> apart from ~[...]
[21:07:03] <cmr> and &[...] :P
[21:07:07] <cmr> but just [...] is.
[21:07:21] <eddyb> bah, no rusti
[21:07:30] <eddyb> cmr: &[...] creates a slice directly?
[21:07:31] <doomlord_> ah thats nice, having another type of  vector *not* optimized for growing - i use that
[21:07:39] <eddyb> s/vector/array ;)
[21:07:42] *** Quits: fhahn (fhahn@moz-7924DB5C.vie.surfer.at) (Ping timeout)
[21:07:48] <eddyb> yay more confusing terminology
[21:07:52] <eddyb> but C++ uses it so w/e
[21:07:57] <doomlord_> (precompiled assets, small arrays)
[21:08:04] <cmr> eddyb: yes.
[21:08:07] <RustProof> eddyb: https://gist.github.com/Bastacyclop/bbbe8564be4c0b0e768a
[21:08:32] <eddyb> cmr: I guess we don't have all the DST &[T, ..N] => &[T] coercions yet
[21:08:42] <eddyb> thought we did though
[21:08:52] <kimundi> eddyb: I don't really care about the efficiency. ;) I'm just confused because I remember a discussion a while back about how that conversion would work that way, with our two sides swapped. ;) Old discussion I guess.
[21:09:12] <eddyb> kimundi: ask strcat, he's the only one that knows :)
[21:09:35] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[21:09:49] <eddyb> RustProof: how expensive is a Sprite to create?
[21:09:50] <kimundi> I think he was the one that gave me the epiphany that you don't need to know the exact size of a allocation to free it again, as long as you have the pointer - so thats that :P
[21:10:12] <RustProof> eddyb: I don't really know but not much
[21:10:23] <eddyb> RustProof: also, your pattern matches are equivalent to .expect("error")
[21:10:43] <eddyb> RustProof: if you want to be memory-safe... I'd say create the sprite inside the loop
[21:10:51] <Valloric> eddy, RustProof: SFML sprites are very cheap
[21:10:57] <eddyb> good, thought so
[21:11:07] <eddyb> just a drawable wrapper, right?
[21:11:16] <Valloric> they are simple structs with four ints (maybe a bit more) and a pointer to the texture
[21:11:22] <Valloric> eddyb: yep
[21:11:32] <RustProof> Ok, thanks
[21:11:43] *** Joins: bytewise_ (bytewise@moz-2AB636E.adsl.alicedsl.de)
[21:11:44] *** Quits: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[21:11:54] *** Quits: sawrubh (uid6719@moz-5F4AA75A.irccloud.com) (Quit: Connection closed for inactivity)
[21:11:55] *** Quits: RustProof (Mibbit@moz-FB62ACB9.w90-24.abo.wanadoo.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[21:12:01] <Valloric> RustProof: you can create them on demand, even for every frame; I've done this and it's very fast
[21:12:06] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[21:12:18] <Valloric> and I've done it with many sprites per frame
[21:12:30] *** Quits: bytewise (bytewise@moz-DFAF881.adsl.alicedsl.de) (Ping timeout)
[21:12:57] <Valloric> here's the actual Sprite class: http://www.sfml-dev.org/documentation/2.0/Sprite_8hpp_source.php
[21:13:09] *** Joins: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca)
[21:13:27] <eddyb> ahh, RustProof left - https://gist.github.com/eddyb/0d6883668bebf934cfe0
[21:13:40] <eddyb> gotta love how nice idiomatic Rust code looks
[21:14:10] *** Joins: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch)
[21:15:39] *** Joins: fhahn (fhahn@moz-7924DB5C.vie.surfer.at)
[21:16:19] <mcpherrin> I kinda wish this worked assert_eq!( $expr == $expr )
[21:16:23] <mcpherrin> instead of a ,
[21:16:39] *** Joins: heftig (heftig@moz-B6BF6D03.dip0.t-ipconnect.de)
[21:17:06] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[21:17:21] <Valloric> mcpherrin: doesn't this work: assert!( $expr == $expr ) ?
[21:17:35] <cmr> yeah but you don't get the nice error message.
[21:17:44] <cmr> ...... but we could add a special case for it, I think
[21:17:48] <Valloric> cmr: sure, but then you use assert_eq :)
[21:17:49] <cmr> match $expr == $expr first.
[21:18:04] <cmr> Valloric: but then it doesn't look nice :p
[21:18:18] <cmr> I also forget to use assert_eq all the time.
[21:18:27] <Valloric> cmr: IMO the proposed form looks wrong, since it repeats equality
[21:18:34] <Valloric> "eq" reads "equals"
[21:18:44] <Valloric> and then you hit "==" and read equals again
[21:18:48] <cmr> it'd be assert!(foo == bar)
[21:18:53] <cmr> instead of having a separate assert-eq
[21:18:57] <cmr> *assert_eq
[21:19:01] <Valloric> ah, makes sens
[21:19:04] <Valloric> sense*
[21:19:31] <Armavica> I once had an issue about reference lifetimes using assert_eq!, which I solved by using assert!
[21:19:40] <cmr> yeah
[21:20:25] <eddyb> we should've made assert_eq use match instead of let
[21:20:27] <mcpherrin> I'm writing code via TDD so I rather need the nice error messages
[21:21:13] <eddyb> match (&lhs, &rhs) {(lhs, rhs) => assert!(*lhs == *rhs && *rhs == *lhs)}
[21:21:22] <eddyb> that should have no lifetime issues
[21:21:26] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[21:21:41] <eddyb> soooo
[21:21:43] <eddyb> this works assert_eq!((~&~&Rc::new(~~&~5u)).to_uint(), Some(5));
[21:23:12] *** Joins: fournm (Aria@moz-ABB60BA0.austin.res.rr.com)
[21:23:27] *** Quits: jmgrosen (user@moz-848F6087.sb.sd.cox.net) (Ping timeout)
[21:24:11] <kimundi> eddyb: nice :)
[21:24:27] *** Quits: tgkokk (tgkokk@moz-29BC739C.home.otenet.gr) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[21:25:04] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[21:25:22] <eddyb> let v = Rc::new(RefCell::new(~[1, 2, 3])); assert_eq!((v.borrow()[0], v.borrow()[1], v.borrow()[2]), (1, 2, 3));
[21:25:24] *** Joins: dkeenaghan (dkeenaghan@A9F153F4.DDE28F19.986A907C.IP)
[21:27:20] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[21:27:24] <eddyb> kimundi: need a nmatsakis review and a snapshot before we can start a mass removal of .get() calls, though
[21:27:32] *** Joins: willingc (willingc@58EF4CE2.92EDCBE3.97F07BE5.IP)
[21:27:47] *** Joins: adonohue (adonohue@55513BD.95D3F462.59D8BB03.IP)
[21:28:01] *** Joins: jkingyens (jkingyens@moz-B0C1B161.hsd1.ca.comcast.net)
[21:28:08] <eddyb> I should work on killing random @T not in the AST (which will get special treatment), before then
[21:28:17] <eddyb> don't want people to use Rc<T> where &T would work
[21:29:02] <jensnockert> Urgh… -L doesn't follow symlinks.
[21:29:15] <eddyb> I think there was a PR fixing a related issue
[21:29:18] *** Quits: gentlefolk (chatzilla@moz-D195EAF9.cpe.teksavvy.com) (Quit: ChatZilla 0.9.90.1 [Firefox 27.0.1/20140212131424])
[21:30:57] *** Quits: q66 (q66@B11C0D37.EEE9ED06.A574D365.IP) (Ping timeout)
[21:31:23] *** Quits: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch) (Quit: Leaving.)
[21:31:34] *** Quits: bytewise_ (bytewise@moz-2AB636E.adsl.alicedsl.de) (Ping timeout)
[21:31:53] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[21:31:54] *** Quits: jroweboy (Mibbit@moz-18814A6B.provo.static.broadweavenetworks.net) (Quit: http://www.mibbit.com ajax IRC Client)
[21:32:23] *** Joins: fyolnish (fyolnish@moz-4EC05241.uqwimax.jp)
[21:33:27] *** Joins: Guest_ (textual@moz-68B4E77A.hsd1.ma.comcast.net)
[21:33:44] <huon> eddyb: other people can make the Rc vs. & decision themselves ;)
[21:33:59] *** Joins: bytewise_ (bytewise@moz-4971A7D6.adsl.alicedsl.de)
[21:34:04] *** Quits: fyolnish (fyolnish@moz-4EC05241.uqwimax.jp) (Ping timeout)
[21:34:14] <eddyb> huon: it's just not obvious most of the time
[21:34:48] <eddyb> I don't really expect everyone to be as OCD as me and do recursive type-level refactorings, dead code search etc.
[21:37:46] <huon> some people are (in any case, replacing @ by Rc is still an improvement and is big progress on removing @; a "better" `&` replacement can happen later.)
[21:38:00] *** Joins: Viewtiful (Mibbit@moz-A94BCFE.w92-153.abo.wanadoo.fr)
[21:38:04] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[21:38:34] *** Quits: veinofstars (veinofstar@moz-C57DCEC9.nyc.res.rr.com) (Quit: veinofstars)
[21:38:53] <p1start> Are there plans to add `box(RC)` (or `box(<custom pointer type>)` for that matter)?
[21:39:09] *** Quits: Zylinski (karl@moz-58495553.static.spa.siw.siwnet.net) (Quit: )
[21:39:14] <cmr> p1start: yes.
[21:39:17] <cmr> already exists, partially.
[21:39:26] <cmr> only works with Gc and ~T at
[21:39:28] <cmr> m
[21:39:45] <huon> p1start: theoretically it will be `box(<expression implementing a Boxer trait>)` or something like that
[21:39:53] <huon> to allow `box(my_arena) ...`
[21:39:55] *** Quits: luniv (textual@35A6D713.28909DC9.B7FCEB19.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[21:39:55] <huon> etc.
[21:40:28] *** Joins: Capt_Redbeard (Capt_Redbe@moz-494FBED1.olp.net)
[21:40:30] <p1start> Does that mean that eventually custom smart pointer types may be treated in the same way as ~T? (i.e. auto-borrowing, deref with * etc.)
[21:40:39] <cmr> that's exactly the goal, yes.
[21:40:56] <cmr> the goal is to make ~T and @T library types.
[21:41:14] <cmr> (or, even if ~T isn't removed from the language, make it able to be expressed in a library)
[21:41:48] *** Joins: MP2E (cray@moz-EB1E242D.lv.lv.cox.net)
[21:42:47] *** Joins: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch)
[21:43:22] *** Quits: pyon (user@6B56F365.A9B419CB.1C8C8CE9.IP) (Quit: restart)
[21:43:52] *** Quits: asmyers (quassel@moz-1BA75A5A.hrbgpa.east.verizon.net) (Ping timeout)
[21:45:49] *** Quits: Viewtiful (Mibbit@moz-A94BCFE.w92-153.abo.wanadoo.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[21:47:05] *** Quits: Armavica (virgile@moz-AD428ED7.ens.fr) (Quit: leaving)
[21:48:13] *** Joins: judofyr (judofyr@moz-8BB0A10D.nextgentel.com)
[21:48:43] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[21:49:06] *** Quits: judofyr (judofyr@moz-8BB0A10D.nextgentel.com) (Client exited)
[21:49:37] *** Joins: judofyr (judofyr@moz-8BB0A10D.nextgentel.com)
[21:49:56] *** Joins: Armavica (virgile@moz-AD428ED7.ens.fr)
[21:50:32] *** Joins: copumpkin (copumpkin@moz-7ADCA7AB.natpool.nyu.edu)
[21:51:07] *** Joins: arturo (Thunderbir@moz-E83B14F0.superkabel.de)
[21:51:08] *** Quits: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net) (Quit: killerswan)
[21:51:17] *** Quits: judofyr (judofyr@moz-8BB0A10D.nextgentel.com) (Ping timeout)
[21:51:18] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[21:52:12] <eddyb> Valloric: btw, nmatsakis wants typeck to transform the AST into a typed CFG. it should be easier to fold types in that ;)
[21:52:25] <Valloric> eddyb: hooray!
[21:52:48] <eddyb> but that's still a lot of works, just cleaner
[21:52:52] <eddyb> *work
[21:53:03] <eddyb> Valloric: do you have time to put into this?
[21:53:09] *** Quits: ganitsu (ganitsu@moz-BD63781C.dialup.adsl.anteldata.net.uy) (Connection reset by peer)
[21:53:30] *** Joins: ganitsu (ganitsu@4378EC08.E8B7C10B.9D24D5E8.IP)
[21:53:35] <Valloric> eddyb: between work, YouCompleteMe and 3 personal projects, sadly no
[21:53:47] <cmr> That's what I recognize the name from!
[21:53:47] *** Joins: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net)
[21:53:51] <cmr> <3 YCM
[21:54:01] <Valloric> cmr: glad you like it :)
[21:54:06] <eddyb> cmr: that's redundant :P
[21:54:15] <cmr> :P
[21:54:45] <eddyb> I was going to use subtyping (<:) to explain it, in case it wasn't obvious, but I have no idea which way the arrow goes
[21:54:59] * eddyb || type theory
[21:55:29] <mcpherrin> Man, when I took a type theory course I had considerable issues with the notation :|
[21:55:37] *** Quits: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net) (Quit: killerswan)
[21:55:52] <Valloric> cmr: I'd kill for something like libclang for Rust; then hooking it up to YCM would be easy 
[21:56:07] *** Joins: twi (Adium@BC1E56B6.55F3F843.839F6EC0.IP)
[21:56:17] <eddyb> Valloric: well... if you don't mind using rust, librustc already allows you to get a lot of information
[21:56:33] <cmr> Valloric: yeah, a high-quality well-designed production-quality compiler + API would be great
[21:56:35] <eddyb> the main issue I see is performance, but that's because I work on librustc itself
[21:56:41] <Valloric> cmr: :)
[21:56:49] *** Joins: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP)
[21:57:10] <eddyb> nrc is integrating rustc with DXR (MXR? I always forget)
[21:57:23] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[21:57:23] *** ChanServ sets mode: +ao brson brson
[21:57:27] <cmr> dxr
[21:57:30] <cmr> mxr was the old one.
[21:57:50] <Valloric> eddyb: but that doesn't have the latency constraints YCM has
[21:57:51] *** Joins: tupshin (quassel@moz-E7B03838.c3-0.nyr-ubr1.nyr.ny.cable.rcn.com)
[21:58:01] <eddyb> Valloric: yupp
[21:58:06] <eddyb> (about type theory: by this time, my brain is probably just playing dumb, there's a lot of information I've come across and stored, I just can't conciously process some of it)
[21:58:10] *** Quits: willingc (willingc@58EF4CE2.92EDCBE3.97F07BE5.IP) (Client exited)
[21:58:36] *** Joins: jdsanders (Adium@moz-EB8DC389.hlrn.qwest.net)
[21:58:39] <eddyb> Valloric: I know a few things we can improve
[21:58:52] *** Joins: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net)
[21:59:01] *** Quits: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net) (Quit: killerswan)
[21:59:23] <eddyb> acrichto almost halved some passes by just changing the hash used for NodeId and DefId
[21:59:35] <nrc> eddyb: I am. dxr. right now, in fact - and it is driving me a bit nuts - generated code and spans :-(
[21:59:46] <Valloric> eddyb: I remember someone on rust-dev talking about Robin Hood hashing for Rust
[22:00:06] <eddyb> Valloric: there's a PR
[22:00:07] <nrc> eddyb: env |- sub <: super
[22:00:16] *** Quits: jdsanders (Adium@moz-EB8DC389.hlrn.qwest.net) (Ping timeout)
[22:00:33] <eddyb> so YCM <: <3?
[22:00:59] <eddyb> Valloric: and edwardw improved hygiene perf by 4x
[22:01:00] <Valloric> eddyb: I'm failing to parse your response
[22:01:11] <DarkLinkXXXX> Seems a lot has changed in HEAD the last 24 hours. ^_^
[22:01:13] <eddyb> Valloric: a PR for robin hood hashing
[22:01:23] <eddyb> pull request
[22:01:32] *** Quits: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net) (Input/output error)
[22:01:35] *** Joins: pongad (pongad@moz-907BC67A.lawn.gatech.edu)
[22:01:41] <eddyb> by cgaebel IIRC
[22:01:48] <Valloric> not that, this: "so YCM <: <3?"
[22:01:53] <eddyb> hehehe
[22:01:55] <Valloric> doesn't parse for me :(
[22:02:10] *** Quits: pongad (pongad@moz-907BC67A.lawn.gatech.edu) (Quit: Leaving)
[22:02:13] <eddyb> YCM is a subtype of <3
[22:02:30] <Valloric> ok, now I get it :)
[22:02:31] <eddyb> as in, YCM is one way of saying <3
[22:03:25] <Valloric> on the topic of RH hashing...
[22:03:27] *** Quits: erickt (Adium@moz-1B1F2EF.mic.jnj.com) (Quit: Leaving.)
[22:03:43] <Valloric> how difficult will it be to swap out SipHash when one needs perf?
[22:04:08] <Valloric> what's the long-term goal? sip by def, can swap out hash func per container?
[22:04:10] <eddyb> Valloric: look at acrichto's NodeId/DefId Hasher change PR
[22:04:10] <cmr> trivial.
[22:04:16] <cmr> HashMap<Key, Value, Hash>
[22:04:24] *** Joins: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net)
[22:04:28] <Valloric> ok, so you have to do it per container
[22:04:31] <cmr> yeah
[22:04:52] <eddyb> right now I think you have to call HashMap::with_hasher(Hash) even if Hash is an unit struct, but IMO HashMap::new() should work, given a Default impl for Hasher
[22:04:58] <Valloric> kinda sucks a bit... a lot of software will never be exposed to the user and doesn't need DOS prot
[22:05:07] <cmr> jjjjjjjjjjj
[22:05:09] <cmr> derp
[22:05:16] *** Quits: tigrou3tac (fabien@moz-6E2397FF.fbx.proxad.net) (Client exited)
[22:05:36] <eddyb> Valloric: could make large contraptions generic over things like the hashers they use
[22:06:08] <eddyb> I would make my PNG decoder generic over checksum checks and output modes, for example
[22:06:25] <eddyb> and in turn, that would use an inflate impl that's generic over checksum checks
[22:06:34] <Valloric> eddy: I guess I'm just wishfully thinking about a compiler switch saying "use RH instead of sip for all of my code"
[22:06:54] <eddyb> aren't they orthogonal?
[22:07:06] <eddyb> I thought RH had something to do with the implementation of the HashSet/HashMap
[22:07:07] <Valloric> sure, but is the compiler switch ever going to happen? :)
[22:07:07] <cmr> robin hood hashing isn't a hash algorithm
[22:07:24] <cmr> hashmap is going to use robin hood.
[22:07:25] <eddyb> not with the actual hashing
[22:07:30] <Valloric> I might have mixed things up...
[22:07:55] <cmr> in fact I think it already landed
[22:07:57] <Valloric> ah yes, RH is for hash map internals
[22:08:03] *** Quits: ryeguy (ryeguy@9C569A0.5D1143CD.E8644521.IP) (Quit: )
[22:08:21] <Valloric> anyway, my point is that a lot of software doesn't want a SipHash default
[22:08:44] <Valloric> should be the default, sure, because that's safe
[22:09:32] <Valloric> but I'd love a compiler-level switch to opt-out of a DOS-proof hashing func
[22:09:44] <cmr> hm
[22:10:04] <cmr> perhaps HashMap could use a type alias
[22:10:13] <Valloric> you have to look at it from my perspective, I write MapReduce code all the time
[22:10:21] <Valloric> massive data processing
[22:10:27] <Valloric> using ungodly amounts of resources
[22:10:34] <Valloric> 1% slower is $$$
[22:10:36] <cmr> and then `#[cfg(insecure_hash)] type DefaultHash = Foo; #[cfg(not(insecure_hash))] type DefaultHash = SipHash`
[22:10:49] <eddyb> ohh
[22:11:05] <cmr> of course then you have two copies of libcollections...
[22:11:07] <eddyb> yeah, I'd like to see std::hash define DefaultHash and HashMap using that instead of SipHash
[22:11:17] <eddyb> cmr: or of std :P
[22:11:41] <cmr> "weak items" would be nice here, I think.
[22:12:01] <eddyb> no kidding
[22:12:17] *** Quits: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net) (Ping timeout)
[22:12:19] <eddyb> I guess we don't really need it for task-related DCE
[22:12:20] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[22:12:32] <eddyb> but there's a lot of other places where it helps library design
[22:12:42] <eddyb> we should also consider orphan instances
[22:13:20] <eddyb> and maybe, unlike Haskell, we can provide support for disabling conflicting methods
[22:13:24] *** Joins: uzi_mantis (iz@moz-4379EE65.hsd1.va.comcast.net)
[22:13:35] <uzi_mantis> hey guys, is there a way to find the size of a file in rust?
[22:13:36] <eddyb> instead of disallowing importing two crates with conflicting methods
[22:13:46] <uzi_mantis> i was thinking about using EOF, but i'm not certain where to proceed from there
[22:13:50] <eddyb> uzi_mantis: probably some kind of file stat
[22:13:58] <cmr> uzi_mantis: .stat()
[22:14:18] <eddyb> also, if you have something seekable, you can use the age old trick of seeking to the end and telling
[22:14:21] *** Joins: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net)
[22:14:57] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[22:15:16] <uzi_mantis> ^i was aiming for that i think, but i'll definitely look into the stat idea.  thanks eddyb and cmr, appreciate it
[22:15:33] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[22:15:35] <eddyb> seeking to the end != EOF
[22:15:40] <cmr> uzi_mantis: just use .stat()
[22:15:45] <cmr> also works on paths...
[22:15:47] <eddyb> EOF is a pretty bad concept IMO&E
[22:17:38] <eddyb> cmr: does this work for you? http://jsfiddle.net/eddyb/8J7dL/show/
[22:17:47] <eddyb> that is, does it show anything other than a blank page?
[22:17:52] <cmr> nope
[22:17:58] *** Quits: quux00 (uid24415@moz-E77DEB21.irccloud.com) (Quit: Connection closed for inactivity)
[22:17:59] <eddyb> any JS errors?
[22:18:23] <eddyb> I think firefox is being stupid again and throwing a SyntaxError for a deprecated sourcemap syntax (which is just a comment)
[22:18:26] <cmr> nothing out of the usual
[22:18:33] <cmr> well, I do see that
[22:18:36] <cmr> surely that doesn't matter
[22:18:43] <eddyb> it's a SyntaxError
[22:18:47] <eddyb> not a warning :(
[22:19:07] *** Quits: bmu (chatzilla@moz-A87574A6.hsd1.pa.comcast.net) (Ping timeout)
[22:19:20] *** Joins: NiccosSystem (NiccosSyst@moz-ED196BB4.customer.lyse.net)
[22:19:25] <eddyb> /** @license zlib.js 2012 - imaya [ https://github.com/imaya/zlib.js ] The MIT License */
[22:19:39] <eddyb> omg it's actually a doc comment...
[22:19:52] * eddyb splashes firefox with some water
[22:20:17] <eddyb> ahh, it's at the end, nvm //@ sourceMappingURL=zlib_and_gzip.min.js.map
[22:20:18] *** Quits: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch) (Quit: Leaving.)
[22:21:49] *** Quits: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com) (Quit: )
[22:22:22] *** Joins: quux00 (uid24415@moz-E77DEB21.irccloud.com)
[22:22:27] *** Joins: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com)
[22:23:51] <eddyb> cmr: http://jsfiddle.net/eddyb/8J7dL/show fixed that, still no go :/
[22:24:06] <eddyb> must be traceur-compiler breaking and not showing any errors
[22:25:03] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[22:25:46] <quux00> Hi all - I'm trying my first attempt at wrapping a C library (libmemcached) in Rust. Here's the code so far: https://gist.github.com/quux00/9298369
[22:25:54] <quux00> what is the right way to handle a (large) C enum in Rust? Should I type it to an i32?
[22:26:02] <quux00> And is there a way to import/reference that long list of possible enum values without copying them into the Rust code?
[22:26:18] <cmr> quux00: use #[repr(C)] on the enum
[22:26:25] <cmr> quux00: there's rust-bindgen, but besides that, no.
[22:26:41] *** Quits: arturo (Thunderbir@moz-E83B14F0.superkabel.de) (Ping timeout)
[22:26:44] <quux00> OK.  I'll have to go look that up.  Never heard of it :-)
[22:27:19] *** Joins: willingc (willingc@58EF4CE2.92EDCBE3.97F07BE5.IP)
[22:27:21] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[22:27:51] *** Joins: richard|s (mindginati@moz-A13DCAA3.dyn.cust.vf.net.nz)
[22:31:15] <quux00> cmr: I've updated the code with that directive.  Did I do it correctly?  I didn't find any documentation on it in the Rust reference manual.
[22:31:40] <cmr> oh whoops
[22:31:45] <cmr> I didn't realize the enum below was C, not rust
[22:31:59] <quux00> I just put that there for reference.
[22:32:01] <cmr> right
[22:32:07] <cmr> repr goes on enums
[22:32:11] <cmr> it just sets its size
[22:32:23] *** Joins: fyolnish (fyolnish@moz-4EC05241.uqwimax.jp)
[22:32:28] <cmr> #[repr(C)] being a C-compatible enum size (usually)
[22:32:57] <quux00> OK.  So should I create a Rust enum with all those fields using that directive?
[22:33:11] <eddyb> s/fields/variants/
[22:33:38] <quux00> eddyb: thanks
[22:33:44] <huon> quux00: that C enum declaration can be copy-pasted into Rust and used as is
[22:33:47] *** Quits: nano (nano@moz-ED77243C.superkabel.de) (Connection reset by peer)
[22:33:51] <huon> (with the addition of a #[repr(C)])
[22:34:03] <huon> and the removal of the trailing ;
[22:34:04] *** Quits: fyolnish (fyolnish@moz-4EC05241.uqwimax.jp) (Ping timeout)
[22:34:11] <quux00> OK. I'll try that now.
[22:34:25] *** Quits: glennsl (textual@moz-5DA055C6.customer.cdi.no) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[22:36:10] *** Joins: jroweboy (Mibbit@moz-18814A6B.provo.static.broadweavenetworks.net)
[22:38:52] *** Quits: jackneill (jackneill@moz-71EEFD48.pool.digikabel.hu) (Ping timeout)
[22:40:00] *** Joins: alonlevy (alon@2CD54432.57968636.E9C721AF.IP)
[22:40:25] *** Quits: zv (zv@moz-955F83E9.hsd1.ca.comcast.net) (Quit: WeeChat 0.4.2)
[22:40:50] *** Joins: alan_andrade (alan_andra@moz-7559582E.hsd1.ca.comcast.net)
[22:41:34] <Valloric> huon: does Rust have a design goal that some C constructs can be parsed as Rust code? I know D has that.
[22:42:12] *** Quits: richard|s (mindginati@moz-A13DCAA3.dyn.cust.vf.net.nz) (Quit: zzZZZ)
[22:44:44] <huon> I don't know
[22:45:02] <huon> I don't think so, given it only works for enums
[22:49:01] *** Joins: nszceta (hax@38E7EB05.93FA283.689607DE.IP)
[22:49:02] *** Joins: Ms2ger (Ms2ger@moz-BA70C317.access.telenet.be)
[22:50:25] *** Quits: Ms2ger (Ms2ger@moz-BA70C317.access.telenet.be) (Quit: Leaving)
[22:50:28] *** Quits: Blub\w (wry@620605B3.71150E1A.237AE2BA.IP) (Ping timeout)
[22:50:30] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[22:52:25] *** Quits: copumpkin (copumpkin@moz-7ADCA7AB.natpool.nyu.edu) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[22:54:00] *** Joins: Blub\w (wry@620605B3.71150E1A.237AE2BA.IP)
[22:54:46] *** Quits: mgottschlag (quassel@moz-687B4309.cust.bluewin.ch) (Ping timeout)
[22:54:48] *** Joins: AvianFlu_ (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com)
[22:55:23] *** Quits: AvianFlu (AvianFlu@moz-31F97978.nyc.res.rr.com) (Ping timeout)
[22:57:59] *** Joins: arturo (Thunderbir@moz-4F69776.superkabel.de)
[22:58:30] <veddan> error: mismatched types: expected `std::option::Option<A<T>>` but found `std::option::Option<A<T>>` (expected type parameter but found type parameter)
[22:59:20] <bjz> o_o
[22:59:47] <huon> sounds like you have `impl<T> ... { fn foo<T>(...) { ... } }`
[22:59:54] <huon> and the inner one is shadowing the outer one
[23:00:09] <veddan> That's probably it
[23:00:13] <bjz> ahh
[23:00:22] <veddan> Yeah
[23:00:40] <huon> https://github.com/mozilla/rust/issues/11658
[23:01:30] <veddan> huon: Warning about this seems sensible. The error message is confusing to say the least.
[23:01:50] *** Quits: twi (Adium@BC1E56B6.55F3F843.839F6EC0.IP) (Ping timeout)
[23:02:18] *** Quits: arturo (Thunderbir@moz-4F69776.superkabel.de) (Ping timeout)
[23:02:34] <huon> yes
[23:03:23] <uzi_mantis> does read_bytes(self, len) automatically increment our current position in the file being read?
[23:03:34] *** Quits: Capt_Redbeard (Capt_Redbe@moz-494FBED1.olp.net) (Quit: Textual IRC Client: www.textualapp.com)
[23:03:48] <uzi_mantis> e.g., if i call x.read_bytes(10) five times consecutively, will i be reading the first fifty bytes of the file?
[23:04:00] <uzi_mantis> or will i just read the first ten bytes five times redundantly?
[23:04:41] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Connection reset by peer)
[23:04:42] <huon> yes, it steps through the file
[23:05:54] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[23:06:02] *** Joins: arturo (Thunderbir@moz-E83B14F0.superkabel.de)
[23:06:11] *** Joins: glennsl (textual@moz-5DA055C6.customer.cdi.no)
[23:08:52] *** Quits: DarkLinkXXXX (DarkLinkXX@moz-3213C615.wavecable.com) (Client exited)
[23:09:32] *** Joins: twi (Adium@BC1E56B6.55F3F843.839F6EC0.IP)
[23:09:36] *** Quits: twi (Adium@BC1E56B6.55F3F843.839F6EC0.IP) (Client exited)
[23:10:16] *** Quits: mpiechotka (mpiechotka@moz-48C8138B.dynamic.mnet-online.de) (Quit: mpiechotka)
[23:11:37] <uzi_mantis> hmm, but i'm still a bit confused
[23:11:50] <uzi_mantis> how can a function with the signature "fn read_bytes(&mut self, len: uint) -> IoResult<~[u8]>" return Err(e) as a value?
[23:11:51] *** Joins: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch)
[23:12:07] <cmr> IoResult<T> is a typedef for Result<T, IoError>
[23:12:09] <uzi_mantis> since Err(e) isn't of type IoResult<~[u8]>, as far as i can tell...
[23:12:39] <eddyb> and Result is just enum Result<T, E> {Ok(T), Err(E)}
[23:13:13] <kimundi> both Ok(T) and Err(E) are possible values for a IOResult
[23:14:41] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[23:15:00] *** Joins: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net)
[23:16:00] *** Joins: alan_and_ (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[23:16:01] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[23:16:30] *** Quits: cgaebel (clark@moz-8E0C6BCA.nyc.res.rr.com) (Ping timeout)
[23:16:53] *** Quits: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net) (Ping timeout)
[23:17:00] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Input/output error)
[23:17:08] *** Joins: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net)
[23:17:28] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[23:17:35] *** Joins: bmu (chatzilla@moz-A87574A6.hsd1.pa.comcast.net)
[23:18:05] *** Quits: adonohue (adonohue@55513BD.95D3F462.59D8BB03.IP) (Quit: adonohue)
[23:18:05] <cmr> eddyb: https://github.com/cmr/TEMP-rust-png
[23:18:07] *** Joins: mgottschlag (quassel@moz-687B4309.cust.bluewin.ch)
[23:18:33] *** Quits: alan_and_ (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[23:18:54] *** Joins: Guest__ (textual@moz-310FD28A.dynamic.caiway.nl)
[23:19:12] <eddyb> cmr: well... png.rs won't be lib.rs
[23:19:26] *** Joins: hdevalence (quassel@moz-D125A39F.home3.cgocable.net)
[23:19:30] <cmr> it's my fork :p
[23:19:32] <eddyb> but the PNG Decoder implementation...
[23:19:41] <eddyb> cmr: anyways, as long as it stays temporary, it's fine with me
[23:20:51] *** Joins: evanm (evanm@moz-4D6F9A00.hsd1.ca.comcast.net)
[23:22:09] *** Quits: canhtak (canhtak@moz-251024EB.wl.t.ulaval.ca) (Quit: canhtak)
[23:22:14] *** Joins: PumpMagic (PumpMagic@moz-16722420.hsd1.ca.comcast.net)
[23:24:49] <cmr> eddyb: http://rust-ci.org/cmr/TEMP-rust-png/doc/png/ great docs ;p
[23:25:08] *** Joins: btipling_ (btipling@B47CA6CD.BE070C1E.5670445F.IP)
[23:26:01] <eddyb> cmr: best API ever http://rust-ci.org/cmr/TEMP-rust-png/doc/png/struct.Decoder.html
[23:26:15] <eddyb> self documenting http://rust-ci.org/cmr/TEMP-rust-png/doc/png/enum.ImageState.html
[23:26:30] <eddyb> cmr: I have to replace that stuff with Arc's btw
[23:27:04] <eddyb> RWArc<Image> for Partial and either Arc<Image> or Image for Complete
[23:27:38] <uzi_mantis> any idea why this is returning me a compiler error?: http://pastebin.com/31xR4A6R
[23:28:01] <eddyb> which error matters waay more than the fact that there is an error ;)
[23:28:02] <uzi_mantis> bytes should be returning me an IOResult structure, but the compiler is insisting that bytes is returning a vector of u8
[23:28:04] <huon> uzi_mantis: it's  type error right?
[23:28:25] <huon> uzi_mantis: the mismatch is almost certainly with the stream.write(bytes) line
[23:28:27] <uzi_mantis> yeah!
[23:28:57] <huon> it's because bytes is a IoResult<~[u8]>, not a ~[u8]
[23:28:58] <eddyb> you want to match bytes { Err(e) => break, Ok(bytes) => stream.write(bytes) }
[23:29:04] <huon> and write needs a vector of bytes
[23:29:31] <eddyb> I'd actually use stream.write(try!(file_reader.read_bytes(1)))
[23:29:45] <eddyb> (that returns the error instead of breaking though, might be not what you need)
[23:29:47] <uzi_mantis> ahh, so then read_bytes does NOT return just a raw vector, right?
[23:30:02] <uzi_mantis> the compiler is telling me the error: type `~[u8]` does not implement any method in scope named `is_err`
[23:30:04] <huon> yes, it results a IoResult<~[u8]>
[23:30:09] <huon> oh, what?
[23:30:13] <uzi_mantis> which doesn't make sense because the return type is an IoResult..
[23:30:32] <huon> http://static.rust-lang.org/doc/master/std/io/trait.Reader.html#method.read_bytes
[23:30:51] <eddyb> uzi_mantis: you're not using rust master
[23:31:01] *** Joins: erickt (Adium@moz-1B1F2EF.mic.jnj.com)
[23:31:17] <eddyb> the removal of conditions (which introduced IoResult everywhere) was a few weeks ago
[23:31:22] <huon> oh, of course
[23:31:25] <uzi_mantis> OH!
[23:31:26] *** Joins: adonohue (adonohue@55513BD.95D3F462.59D8BB03.IP)
[23:31:31] <huon> http://static.rust-lang.org/doc/0.9/std/io/trait.Reader.html#method.read_bytes
[23:31:36] <uzi_mantis> that makes a lot of sense
[23:32:09] <uzi_mantis> indeed, i'm using 0.9
[23:32:18] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[23:32:23] *** Joins: fyolnish (fyolnish@moz-E1A87389.uqwimax.jp)
[23:32:28] <uzi_mantis> is the master version updated through like a nightlies style kind of way?
[23:32:57] <erickt> hello #rust. Do we have a good strategy to bind to a ffi c union? manually figure out what's the biggest size and use that as my typedef?
[23:33:10] *** Quits: JanC_ (janc@moz-3EA30887.dsl.scarlet.be) (Ping timeout)
[23:33:14] <kimundi> uzi_mantis: there are nightlies for some platforms. what os are you using?
[23:33:17] <jensnockert> erickt: Yeah, unfortunately.
[23:34:03] *** Quits: fyolnish (fyolnish@moz-E1A87389.uqwimax.jp) (Ping timeout)
[23:34:22] <erickt> drat.
[23:34:53] <huon> erickt: rust-bindgen generates code for unions, fwiw
[23:34:55] <erickt> hrm, and it seems enum sizes are undefined. I guess I'm going to have to do some configuration
[23:35:01] *** Joins: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP)
[23:35:04] <erickt> oh? cool
[23:35:43] <cmr> erickt: there's #[repr(C)] for enums but that's only C-like, no data, and isn't much like a union at all.
[23:36:36] *** Quits: Moor (Moor@moz-C04C27D8.hsd1.ca.comcast.net) (Ping timeout)
[23:36:52] <huon> (it basically creates `struct Foo { x: [u8, .. SIZE] }` with transmutes to view it as the various members.)
[23:37:06] <erickt> that's fine for me
[23:37:43] <huon> ("eri" is a popular prefix in #rust!)
[23:38:13] <erickt> soon we'll overrun the channel
[23:38:16] *** cmr is now known as ericmr
[23:38:18] *** kimundi is now known as erimundi
[23:38:21] <ericmr> eric-mr!
[23:38:24] <erickt> haha
[23:38:28] <ericmr> I accidentally just joined the eric conspiracy, I think
[23:38:50] *** Quits: spider-mario (spidermari@moz-81131DB6.fbx.proxad.net) (Input/output error)
[23:38:57] *** erickt is now known as erierickt
[23:39:46] *** jroweboy is now known as jroweboyeri
[23:40:49] *** Quits: btipling_ (btipling@B47CA6CD.BE070C1E.5670445F.IP) (Quit: ZNC - http://znc.sourceforge.net)
[23:40:54] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Quit: rcirc on GNU Emacs 24.3.1)
[23:41:16] <huon> heh
[23:41:22] *** Joins: FrozenCow (FrozenCow@moz-E69F48E.dynamic.upc.nl)
[23:43:27] *** Quits: Ferreus (ferreus@moz-AD3D249C.lsn.wtnet.de) (Quit: WeeChat 0.4.3-dev)
[23:44:14] *** Joins: Moor (Moor@moz-C04C27D8.hsd1.ca.comcast.net)
[23:44:22] *** Joins: btipling_ (btipling@B47CA6CD.BE070C1E.5670445F.IP)
[23:44:40] *** Quits: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP) (Ping timeout)
[23:45:50] *** Quits: btipling_ (btipling@B47CA6CD.BE070C1E.5670445F.IP) (Quit: ZNC - http://znc.sourceforge.net)
[23:46:47] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[23:46:47] *** Quits: willingc (willingc@58EF4CE2.92EDCBE3.97F07BE5.IP) (Connection reset by peer)
[23:47:01] *** Joins: willingc (willingc@58EF4CE2.92EDCBE3.97F07BE5.IP)
[23:47:09] *** Joins: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP)
[23:47:21] *** Joins: victorporof (victorporo@moz-FFB76956.cpe.net.cable.rogers.com)
[23:47:40] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Input/output error)
[23:47:55] *** Joins: JanC_ (janc@moz-E665F87F.dsl.scarlet.be)
[23:47:59] *** Joins: btipling_ (btipling@B47CA6CD.BE070C1E.5670445F.IP)
[23:48:12] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[23:49:33] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[23:49:53] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[23:50:58] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[23:51:54] *** Joins: matp (matp@moz-16FE1E05.matp.at)
[23:52:31] *** Joins: asmyers (quassel@moz-1BA75A5A.hrbgpa.east.verizon.net)
[23:57:08] *** Quits: nszceta (hax@38E7EB05.93FA283.689607DE.IP) (Input/output error)
[23:57:36] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Quit: Leaving)
[23:57:52] *** Joins: cgaebel (clark@moz-8E0C6BCA.nyc.res.rr.com)
[23:57:54] <PumpMagic> does anyone know if there are windows installers for rust master?
[23:59:03] <doomlord_> yuk, c++ looks horrible after rust
[23:59:19] <doomlord_> const scattered allover the place 
[23:59:36] *** Joins: wolfwood (wolfwood@moz-A19F104D.pitbpa.fios.verizon.net)
[23:59:55] *** Joins: canhtak (canhtak@moz-251024EB.wl.t.ulaval.ca)
