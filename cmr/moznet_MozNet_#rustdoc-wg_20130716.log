[00:21:09] <cmr> Seldaek: dunno yet
[00:21:23] <cmr> I'll fix enums tomorrow
[00:22:54] <cmr> Seldaek: enum variants shouldn't have an id... they can't be refernced as a type.
[09:46:39] <Seldaek> cmr: heya, what's a struct with type Unit? How should the definition look like?
[09:47:28] <cmr> Seldaek: http://static.rust-lang.org/doc/std/util.html#struct-noncopyable is an example
[09:48:42] <Seldaek> ah ok simple enough
[09:48:51] <cmr> unit structs are pretty boring :p
[09:48:56] <Seldaek> btw should I show the "pub" or other visibility?
[09:49:12] <cmr> not yet
[09:49:14] <Seldaek> I feel like it's not very interesting because I imagine non-pub stuff isn't exported to docs
[09:49:19] <cmr> yeah
[09:52:49] <Seldaek> eh you have two structs called Bar 
[09:53:02] <Seldaek> which trips up my rendering in some pretty weird way
[09:53:22] <cmr> good
[09:53:29] <cmr> they're in different modules :P
[09:53:31] <Seldaek> no not good :p
[09:53:49] <Seldaek> well ok but I don't see that in the json yet do I?
[09:53:55] <cmr> oh
[09:53:57] <cmr> yeah
[09:53:59] <cmr> oops!
[09:54:09] <Seldaek> :)
[09:54:38] <Seldaek> also I hoped to have a recursive tree with the data in modules
[09:54:42] <Seldaek> but if it's flat it's ok too I guess
[09:54:57] <Seldaek> just will have to adjust all my code that had wrong expectations
[09:55:05] <Seldaek> which isn't much I suppose
[09:55:21] <cmr> a module tree would be better once we have complete handling of items
[09:55:43] <Seldaek> I'm gonna build a tree anyway but I don't really mind if it isn't coming as one
[09:55:55] <Seldaek> I'd just be happy if it doesn't go back and forth 20 times :)
[12:05:18] <Seldaek> cmr: alright gf posted a preview on github
[12:05:25] <Seldaek> and I should publish my code at some point too I suppose :)
[12:18:27] <cmr> Seldaek: .... that looks amazing
[12:18:36] <cmr> literally better than I could have imagined.
[12:19:41] <Seldaek> cmr: feel free to post that on github I'm sure she'll be happy to hear
[15:52:05] <Seldaek> cmr: do you have a timeline on a more or less final json with all modules etc?
[15:52:30] <Seldaek> I realize it's probably hard to tell but just a rough idea
[21:24:44] <cmr> Seldaek: week or two perhaps?
[21:36:21] <Seldaek> cmr: ok
[21:36:47] <Seldaek> cmr: what do you think aobut the modules? can you ship that as a recursive tree or not?
[21:37:20] <cmr> Seldaek: not sure yet
[21:37:30] <Seldaek> essentially besides structs should be modules and in there again structs/modules/enums/..
[21:37:35] <cmr> I think flat might be more useful for ease of indexing?
[21:37:37] <Seldaek> that'd be ideal
[21:37:54] <cmr> If you want it a recursive tree, I can make it a recursive tree
[21:38:01] <Seldaek> well, either works I suppose
[21:38:14] *** Joins: jedestep (jedestep@34641662.FB4DE631.66C78B76.IP)
[21:38:24] <Seldaek> it's just that I wrote recursive code that creates a flat id index while recursing
[21:38:47] <Seldaek> but it's not a huge deal if I have to do it the other way
[21:39:01] <Seldaek> I just want to know :)
[21:39:32] <cmr> it's easier on my end to have it flat
[21:39:36] <cmr> ...I think
[21:39:41] <cmr> not sure yet, haven't gotten to modules :p
[21:40:50] <Seldaek> heh ok
[21:40:59] <Seldaek> well let me know when you find out then
[21:41:03] <Seldaek> I'll adjust if need be
[21:41:21] <Seldaek> I assume the js code is easier to remodel than the rust one :)
[21:42:28] <cmr> jedestep: does the structure of doctree/clean/jsonify make sense to you?
[21:42:44] <cmr> I didn't know if I should separate it out more or less, so I went with that
[21:42:55] <cmr> because the AST isn't all that pleasant to deal with
[21:42:59] <jedestep> cmr: I think so, did I dump way too much stuff in one/the other?
[21:43:03] <cmr> jedestep: nope
[21:43:07] <jedestep> oh ok
[21:43:16] <jedestep> in that case it seems to make sense
[21:44:00] <jedestep> and yeah, the actual AST is a big unwieldy, though if codemap::spanned goes away it would help
[21:44:13] <jedestep> s/big/bit
[21:58:38] <Seldaek> cmr: another thing that I just noticed, "type": {"type": "bool"} 
[21:58:48] <Seldaek> shouldn't that be type:primitive, value:bool?
[22:00:48] <cmr> Hm, yes
[22:00:54] <cmr> apparently the ast doesn't consider bools to be primitive
[22:00:57] <cmr> *sigh*
[22:01:25] <Seldaek> :)
[22:03:38] <Seldaek> just to be entirely sure, ids will be unique across all types per run right?
[22:03:44] <cmr> yes
[22:04:03] <cmr> at least, I hope so
[22:04:10] <cmr> if they aren't we have big problems :\
[22:04:15] <cmr> but they should be
[22:12:52] <Seldaek> blam has a resolved reference to a non existing id (73) in the last json you gave me
[22:13:00] <Seldaek> but I guess that might be a silly bug
[22:15:56] <Seldaek> and it'd be rgeat if everything had consistently an attrs node (enums are missing it right now) just so I can go through it all without littering the code with checks
[22:16:21] <Seldaek> (let me know if you want feedback in a more structured manner)
[22:18:25] <jedestep> Seldaek: where did the non existing id error come from? and w.r.t. enums not having attrs, they do in my current PR :)
[22:18:56] <jedestep> although actually filling out the enum attrs is a bit blocked right now
[22:19:18] <Seldaek> ok cool, I don't mind if attrs is an empty object mind you
[22:19:36] <jedestep> yeah right now it is just ~[] always
[22:20:00] <Seldaek> the non existing id, well I don't know it's a json that cmr  gave me yesterday and now that I added code to resolve these and show the type name behind the id, it blew up:)
[22:20:37] <Seldaek> I'm staying quite isolated from your side of the story, just looking at the json output..
[22:21:00] <Seldaek> but let's forget about that id for now, we'll see if it comes up again 
[22:21:19] <jedestep> there's a chance it's fixed already but if not i'll keep on the lookout for it
[22:31:44] <Seldaek> also you guys might want to add a version field to the json output, just at top level to version the json format..
[22:54:09] <cmr> jedestep: ok, your PR is merged
[23:04:33] *** Quits: jedestep (jedestep@34641662.FB4DE631.66C78B76.IP) (Ping timeout)
