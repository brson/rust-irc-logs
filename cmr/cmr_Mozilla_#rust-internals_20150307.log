[00:00:04] *** Joins: adu (ajr@moz-0foa9t.md.comcast.net)
[00:01:44] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[00:03:39] *** Quits: mrmonday (mrmonday@moz-20udp8.lin.openzula.org) (A TLS packet with unexpected length was received.)
[00:04:22] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[00:10:55] *** Quits: sinclair (chatzilla@moz-o36q4q.xnet.co.nz) (Quit: ChatZilla 0.9.91.1 [Firefox 36.0/20150222232811])
[00:11:30] *** Quits: playbot (playbot@moz-1vk5qd.compute.amazonaws.com) (Connection closed)
[00:11:30] *** Quits: playbot-mini (playbot-min@moz-1vk5qd.compute.amazonaws.com) (Connection closed)
[00:11:32] *** Joins: playbot-mini (playbot-min@moz-1vk5qd.compute.amazonaws.com)
[00:11:32] *** Joins: playbot (playbot@moz-1vk5qd.compute.amazonaws.com)
[00:12:46] *** Quits: p1start (p1start@moz-nftjhe.org) (Ping timeout: 121 seconds)
[00:13:05] *** Quits: playbot (playbot@moz-1vk5qd.compute.amazonaws.com) (Connection closed)
[00:13:05] *** Quits: playbot-mini (playbot-min@moz-1vk5qd.compute.amazonaws.com) (Connection closed)
[00:13:06] *** Joins: playbot-mini (playbot-min@moz-1vk5qd.compute.amazonaws.com)
[00:13:06] *** Joins: playbot (playbot@moz-1vk5qd.compute.amazonaws.com)
[00:13:49] *** Joins: p1start (p1start@moz-nftjhe.org)
[00:14:21] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[00:16:08] *** Joins: sinclair (chatzilla@moz-o36q4q.xnet.co.nz)
[00:16:52] *** Quits: eibwen (eibwen@moz-k1e0v2.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[00:18:39] *** Quits: arrrrrrrrr (arrrrrrrrs@moz-pigq28.dynamic.qsc.de) (Ping timeout: 121 seconds)
[00:19:43] *** Quits: p1start (p1start@moz-nftjhe.org) (Ping timeout: 121 seconds)
[00:20:46] *** Joins: p1start (p1start@moz-nftjhe.org)
[00:21:53] *** Joins: mrmonday (mrmonday@moz-20udp8.lin.openzula.org)
[00:24:42] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[00:27:33] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[00:27:47] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[00:28:42] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[00:29:03] *** Quits: p1start (p1start@moz-nftjhe.org) (Ping timeout: 121 seconds)
[00:29:44] *** Quits: mystor (mystor@moz-ldavpp.home3.cgocable.net) (Connection closed)
[00:31:06] *** Joins: p1start (p1start@moz-nftjhe.org)
[00:32:04] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[00:32:18] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[00:34:28] *** Quits: jdm (jdm@moz-ilbt2e.cable.teksavvy.com) (Quit: )
[00:35:37] *** Joins: mib_x6u769 (Mibbit@moz-juv.9o3.252.72.IP)
[00:36:08] *** Quits: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[00:37:01] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[00:37:26] *** Joins: tjakubow (tom@moz-sgi5qj.biz.rr.com)
[00:37:32] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[00:37:32] *** Quits: mib_x6u769 (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[00:37:33] *** Joins: swgillespie (swgillespie@moz-eie.3un.220.167.IP)
[00:42:34] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[00:43:33] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[00:46:23] *** Joins: ptalbot (ptalbot@moz-j4gnuh.fbx.proxad.net)
[00:47:22] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[00:47:40] *** Quits: munksgaard (munksgaard@moz-478pev.u.parknet.dk) (Ping timeout: 121 seconds)
[00:48:05] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[00:51:06] *** Quits: ptalbot (ptalbot@moz-j4gnuh.fbx.proxad.net) (Ping timeout: 121 seconds)
[00:52:09] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[00:53:14] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[00:54:22] *** Joins: oldornew (oldornew@moz-369lu1.dynamic.simnet.is)
[00:56:16] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[00:56:49] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[00:57:04] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[00:59:38] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[00:59:44] *** Quits: Rym (y@moz-bim.h8b.39.217.IP) (Ping timeout: 121 seconds)
[00:59:59] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[01:00:44] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[01:01:29] *** Joins: Rym (y@moz-bim.h8b.39.217.IP)
[01:14:12] *** Quits: jxv (jxv___@moz-qneod7.pk6i.d98i.030a.2602.IP) (Quit: Leaving)
[01:17:43] *** Joins: maralla (uid69246@moz-mq40mv.brockwell.irccloud.com)
[01:20:15] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[01:20:56] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[01:35:52] *** Quits: Guest63_ (textual@moz-56c.qli.61.176.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[01:42:03] *** japaric|afk is now known as japaric
[01:44:39] *** Joins: theme (theme@moz-i3mhhb.asianet.co.th)
[01:47:43] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[01:48:13] *** Joins: evanfarrar (evanfarrar@moz-56vd31.res.rr.com)
[01:51:33] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[01:52:21] *** Quits: evanfarrar (evanfarrar@moz-56vd31.res.rr.com) (Ping timeout: 121 seconds)
[01:59:53] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[02:00:07] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[02:07:12] *** Joins: dcb (textual@moz-j72nfe.ca.comcast.net)
[02:07:24] *** Quits: swgillespie (swgillespie@moz-eie.3un.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[02:07:27] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[02:07:56] *** Quits: Nekit1234007 (nekit@moz-knq.l91.51.84.IP) (Quit: leaving)
[02:09:05] *** Quits: Skyler (Skyler@moz-e93b35.sd.cox.net) (Client exited)
[02:13:37] *** Joins: {0}grant ({0}grant@moz-63ubas.in.charter.com)
[02:16:04] *** Joins: reem (reem@moz-f8bg6r.coob.q2h1.0009.2601.IP)
[02:20:42] *** Joins: summerlight (summerlight@moz-99k.2mj.130.121.IP)
[02:21:01] *** Joins: tedh (tedh@moz-ctbj7i.il.comcast.net)
[02:29:11] *** Quits: reem (reem@moz-f8bg6r.coob.q2h1.0009.2601.IP) (Connection closed)
[02:30:46] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Quit: Leaving)
[02:31:37] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[02:33:38] *** Quits: Diggsey (diggsey@moz-ifbqbv.dsl.pipex.com) (Ping timeout: 121 seconds)
[02:33:50] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[02:34:37] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[02:37:50] <goffrie> kmc: i wonder what you think of the approach in gh23085
[02:37:50] <[o__o]> Interpolate AST nodes in quasiquote.: https://github.com/rust-lang/rust/pull/23085
[02:38:50] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[02:39:07] *** Joins: Skyler (Skyler@moz-e93b35.sd.cox.net)
[02:42:10] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[02:43:58] *** Quits: nrc|afk (nrc@moz-4bhi2i.xtra.co.nz) (Ping timeout: 121 seconds)
[02:48:10] <barosl> Manishearth, acrichto, Rollup failed!
[02:49:12] <barosl> Would that be useful if Homu displays the browser's notification popup when a test fails?
[02:49:35] <barosl> At least for the rollup
[02:50:17] *** Joins: nrc|afk (nrc@moz-4bhi2i.xtra.co.nz)
[02:50:17] *** ChanServ sets mode: +o nrc|afk
[02:57:57] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[02:58:42] *** Joins: zmack (zmack@moz-4b0.o8l.26.188.IP)
[02:59:07] <kmc> goffrie: !!! that's awesome
[02:59:11] <kmc> i will review it in more detail later
[02:59:17] <kmc> this is something eddyb and I have wanted to do for a long time
[03:00:06] <goffrie> kmc: cool, I thought you might be interested :)
[03:00:22] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[03:01:05] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[03:01:58] *** Joins: gamakichi (Mibbit@moz-juv.9o3.252.72.IP)
[03:02:44] *** Quits: zmack (zmack@moz-4b0.o8l.26.188.IP) (Ping timeout: 121 seconds)
[03:03:40] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[03:05:01] *** Joins: kimundi_ (kimundi@moz-dulthb.dip0.t-ipconnect.de)
[03:08:02] *** Quits: kimundi (kimundi@moz-fslrgi.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[03:08:02] *** kimundi_ is now known as kimundi
[03:08:10] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[03:08:12] *** Joins: bjz (bjz@moz-puppgq.tpgi.com.au)
[03:10:02] *** Quits: gamakichi (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[03:13:08] *** Quits: tjakubow (tom@moz-sgi5qj.biz.rr.com) (Quit: WeeChat 1.1)
[03:13:50] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[03:14:00] *** kimundi is now known as zz_kimundi
[03:20:39] *** zz_kimundi is now known as kimundi
[03:22:24] *** Joins: bytbox (s@moz-doic5m.fios.verizon.net)
[03:22:37] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[03:22:55] *** Joins: reem (reem@moz-oivk6c.coob.q2h1.0009.2601.IP)
[03:25:48] *** Quits: reem (reem@moz-oivk6c.coob.q2h1.0009.2601.IP) (Connection closed)
[03:27:01] *** Joins: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net)
[03:27:01] *** ChanServ sets mode: +o pcwalton
[03:27:28] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[03:30:01] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[03:30:04] *** Joins: tjakubow (tom@moz-ag87jj.fios.verizon.net)
[03:31:43] *** Quits: summerlight (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[03:32:22] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[03:33:33] *** Quits: maralla (uid69246@moz-mq40mv.brockwell.irccloud.com) (Quit: Connection closed for inactivity)
[03:34:34] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[03:39:32] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[03:40:36] *** Quits: Jesin (Jesin@moz-i7sbhm.res.Lehigh.EDU) (Quit: Leaving)
[03:58:30] *** Quits: ytain (ytain@moz-f5jvis.dsl.teksavvy.com) (Quit: Textual IRC Client: www.textualapp.com)
[04:06:18] *** Quits: Rym (y@moz-bim.h8b.39.217.IP) (Ping timeout: 121 seconds)
[04:09:07] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[04:16:57] <theme> Should this PR get a higher priority? https://github.com/rust-lang/rust/pull/23074
[04:17:04] <theme> it affects *loads* of libraries
[04:18:24] <sfackler> theme: yeah, done
[04:18:32] <theme> :D
[04:19:01] <theme> It's surprising how many libraries a single bug can affect
[04:21:58] *** Quits: nrc|afk (nrc@moz-4bhi2i.xtra.co.nz) (Quit: ChatZilla 0.9.91.1 [Firefox 38.0a1/20150219070749])
[04:24:01] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[04:24:39] <Manishearth> barosl: o/
[04:25:18] <Manishearth> barosl: I already get popups, but sure :)
[04:26:01] <Manishearth> kmc: :P
[04:26:09] <Manishearth> It's not a bug, the errors were moved around
[04:26:18] *** Joins: enix (enix@moz-0mgr2v.fios.verizon.net)
[04:27:58] *** Quits: dcb (textual@moz-j72nfe.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[04:28:33] <Manishearth> acrichto: (I'm awake, can take over the rollup)
[04:30:54] <kmc> Manishearth: it's a compiler bug that the error prints twice :P
[04:30:56] <kmc> one that I just fixed
[04:31:17] <kmc> https://github.com/rust-lang/rust/pull/23137
[04:32:05] *** Joins: dcb (textual@moz-j72nfe.ca.comcast.net)
[04:32:15] <Manishearth> oh
[04:32:17] <Manishearth> lol
[04:32:31] *** Joins: mystor (mystor@moz-ldavpp.home3.cgocable.net)
[04:32:58] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[04:33:22] *** Joins: Rym (y@moz-bim.h8b.39.217.IP)
[04:34:14] *** Joins: reem (reem@moz-a9pbs9.coob.q2h1.0009.2601.IP)
[04:37:32] *** Joins: Jesin (Jesin@moz-i7sbhm.res.Lehigh.EDU)
[04:37:52] *** Quits: Rym (y@moz-bim.h8b.39.217.IP) (Ping timeout: 121 seconds)
[04:40:03] *** Joins: mib_a1nxat (Mibbit@moz-juv.9o3.252.72.IP)
[04:40:29] *** Quits: reem (reem@moz-a9pbs9.coob.q2h1.0009.2601.IP) (Connection closed)
[04:46:09] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[04:51:59] *** Quits: sfackler (sfackler@moz-ko8uu1.com) (Quit: ZNC - http://znc.in)
[04:52:17] *** Joins: sfackler (sfackler@moz-ko8uu1.com)
[04:56:09] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[04:57:36] *** Joins: semarie (semarie@moz-61d2lm.46-142-213.telenet.ru)
[05:00:03] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[05:00:03] *** Quits: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net) (Client exited)
[05:02:50] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[05:03:41] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[05:07:33] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[05:09:14] *** Joins: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net)
[05:09:14] *** ChanServ sets mode: +o pcwalton
[05:09:20] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[05:09:23] *** Quits: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net) (A TLS packet with unexpected length was received.)
[05:11:22] <acrichto> Manishearth: good morning! (ish)
[05:11:23] *** Joins: jxv (jxv___@moz-2celrt.res.rr.com)
[05:11:41] <acrichto> Manishearth: I pushed some more PRs to it, not sure how reliable they are
[05:14:31] *** Quits: mib_a1nxat (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[05:19:20] <Manishearth> k
[05:20:11] *** Quits: dcb (textual@moz-j72nfe.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[05:23:51] *** Joins: dcb (textual@moz-j72nfe.ca.comcast.net)
[05:24:01] *** Quits: dcb (textual@moz-j72nfe.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[05:27:31] *** Joins: Rym (y@moz-bim.h8b.39.217.IP)
[05:30:07] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[05:30:20] *** Joins: reem (reem@moz-207vbl.coob.q2h1.0009.2601.IP)
[05:32:00] *** Quits: Rym (y@moz-bim.h8b.39.217.IP) (Ping timeout: 121 seconds)
[05:36:34] <goffrie> eddyb: github emails ;)
[05:42:01] *** Joins: summerlight (summerlight@moz-99k.2mj.130.121.IP)
[05:42:15] *** Quits: reem (reem@moz-207vbl.coob.q2h1.0009.2601.IP) (Connection closed)
[05:45:26] *** Joins: mib_dtw04o (Mibbit@moz-juv.9o3.252.72.IP)
[05:45:54] *** Joins: reem (reem@moz-207vbl.coob.q2h1.0009.2601.IP)
[05:47:01] <Manishearth> acrichto: any reason why linux is so slow?
[05:47:11] <Manishearth> it used to be windows that was the slowest iirc
[05:47:19] <Manishearth> or do we run more tests on linux?
[05:48:27] <sfackler> acrichto: this seem reasonable? https://github.com/sfackler/rust/commit/050dcf27b92509362b338c81a9eaa0dc7decc1de
[05:50:57] <goffrie> Manishearth: according to the wiki, on Windows only `make check-lite` gets run
[05:53:05] *** Quits: reem (reem@moz-207vbl.coob.q2h1.0009.2601.IP) (Connection closed)
[05:53:11] *** Joins: reem (reem@moz-207vbl.coob.q2h1.0009.2601.IP)
[05:53:57] *** Quits: mib_dtw04o (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[05:54:04] *** Quits: tjakubow (tom@moz-ag87jj.fios.verizon.net) (Ping timeout: 121 seconds)
[05:54:05] <Manishearth> ag
[05:54:09] <Manishearth> *ah
[05:55:03] <barosl> Only one builder remaining
[05:55:08] <Manishearth> \o/
[05:56:19] <Manishearth> oh, btw, I should push all my rollup tools somehwere
[05:56:27] <Manishearth> they're hacky, but they work
[05:56:45] *** Quits: reem (reem@moz-207vbl.coob.q2h1.0009.2601.IP) (Connection closed)
[05:57:11] <Luqman> goffrie: pretty sure wiki's out of date and we also do `make check` on windows
[05:57:16] <Luqman> http://buildbot.rust-lang.org/builders/auto-win-64-opt/builds/2487/steps/test/logs/stdio
[05:57:17] * Manishearth checks
[05:57:20] <Luqman> build log seems to confirm
[05:57:28] <Manishearth> yeah, make check
[05:57:40] <barosl> Rollup landed!
[05:57:43] <Manishearth> yesss
[05:58:54] * Manishearth checks the queue to see what's left
[05:59:00] <sfackler> uh, is bors confused?
[05:59:02] * Manishearth curses his home internet connection
[05:59:03] <Manishearth> sfackler: ?
[05:59:10] <sfackler> it's spamming #rust-bots
[06:00:45] *** Joins: krebbit (Mibbit@moz-juv.9o3.252.72.IP)
[06:01:39] <Manishearth> cc acrichto 
[06:01:43] <Manishearth> red alert
[06:01:56] <Manishearth> homu has become sentient
[06:02:17] <acrichto> ?
[06:02:27] <Manishearth> acrichto: see #rust-bots and the homu queue
[06:02:33] <Manishearth> it's spamming pushes to tmp
[06:02:36] <barosl> It finally got mad after years of tiersome merging...
[06:02:47] <Manishearth> and the queue crashed
[06:02:52] <Manishearth> needs a restart?
[06:03:02] <acrichto> hm the queue won't load for me
[06:03:06] <Manishearth> acrichto: exactly
[06:03:09] <barosl> Any exceptions?
[06:03:29] <barosl> If not, Ctrl+C it and let me know the traceback
[06:03:30] <acrichto> none
[06:03:39] <Manishearth> well, it stopped spamming
[06:03:42] <acrichto> no traceback came up on ctrl+c
[06:03:46] <Manishearth> what
[06:03:48] <barosl> :/
[06:03:48] <Manishearth> hm
[06:03:58] <acrichto> https://gist.github.com/alexcrichton/03934abc5afa9b589688
[06:04:02] <acrichto> tht was the most recent exception
[06:04:05] <acrichto> but it's somewhat far up
[06:04:16] <barosl> Yeah, that's not relevant
[06:06:29] <barosl> Huh? It forgot all the approvals
[06:06:36] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[06:06:37] <Manishearth> uh oh
[06:06:47] <acrichto> there may not actually be any
[06:06:54] <acrichto> I pulled in all open PRs into the rollup
[06:06:59] <Manishearth> barosl: acrichto added the recent approvals to the rollup
[06:07:06] <Manishearth> I have the old homu page open, lemme see
[06:07:09] <acrichto> that may have been why it went bonkers?
[06:07:21] <barosl> Oh, yes. I was confused
[06:07:23] <Manishearth> yeah
[06:07:35] <Manishearth> barosl: the mergeability is broken though
[06:07:41] <Manishearth> these should all be on no i think
[06:07:51] <Manishearth> oh, it's sorted them alphabetically
[06:07:54] <Manishearth> wonderful
[06:08:02] <barosl> It loads in the background, so it takes some time to load
[06:08:14] <barosl> Hmm, it is not reproducible
[06:08:20] <barosl> I feel sad :(
[06:09:14] <Manishearth> hm
[06:09:14] <barosl> Oh... wait
[06:09:24] <Manishearth> there we go, mergeability up
[06:10:00] <barosl> So the situation was, many approved PRs in a rollup were closed at once, and there were no approved PRs after the merging
[06:10:15] <Manishearth> yeah
[06:10:16] <barosl> I may reproduce the bug in the situation
[06:10:53] <barosl> By the way, bors' not working! I feel somewhat nervous
[06:11:01] <barosl> Let it work!
[06:11:08] <barosl> until the end of the universe
[06:11:25] <barosl> Approve something!
[06:11:41] <Manishearth> lol
[06:11:48] *** Joins: kmcguire_ (kmcguire@moz-pg1gb9.biz.rr.com)
[06:14:14] *** Quits: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com) (Ping timeout: 121 seconds)
[06:14:25] <Manishearth> Well, somene could fix up https://github.com/rust-lang/rust/pull/22945
[06:16:16] <theme> From #rust
[06:16:26] <theme> why doesn't this compile? http://is.gd/lpg8VL
[06:17:05] <sfackler> theme: Foo isn't Copy
[06:17:10] *** Joins: sav (e@moz-9u3te2.cc)
[06:17:11] <theme> not that
[06:17:31] <sfackler> theme: http://is.gd/1bNYg1
[06:17:32] <theme> I think it looks pretty ok
[06:17:34] *** Quits: pjenvey (pjenvey@moz-ph7jic.org) (Ping timeout: 121 seconds)
[06:18:30] <theme> sfackler, the original code has String in it
[06:19:24] <sfackler> instead of Foo?
[06:19:28] <theme> yes
[06:19:29] <sfackler> String is also not Copy
[06:19:34] <theme> a struct that holds String
[06:19:35] *** Joins: pjenvey (pjenvey@moz-ph7jic.org)
[06:19:38] <theme> and the original had Rc
[06:19:47] <theme> why doesn't this compile?
[06:20:13] <sfackler> because the thing inside of the option isn't Copy - and when you're doing *val on line 7 it has to copy the value
[06:20:21] <theme> nope
[06:20:23] <theme> let ref...
[06:21:21] <sfackler> that doesn't have anything to do with it
[06:21:21] <theme> The question is that "why doesn't it compile" not "how to make it compile"
[06:21:36] <sfackler> let ref x = foo; is equivalen to let x = &foo;
[06:21:38] *** Joins: Rym (y@moz-bim.h8b.39.217.IP)
[06:21:43] <theme> yes
[06:21:44] <sfackler> and if foo doesn't compile the whole thing won't
[06:21:58] <theme> http://is.gd/L2RLLP
[06:22:18] <theme> but this compiles: http://is.gd/dDGxJM
[06:22:29] <sfackler> oh weird
[06:22:31] <sfackler> dunno then
[06:22:59] <theme> sfackler, is it a bug?
[06:23:34] <sfackler> my gut says know, but I'm not confident enough about the semantics of ref patterns to say for sure
[06:23:37] <sfackler> *no
[06:23:47] <theme> sfackler, I eliminated the ref pattern
[06:24:32] <sfackler> oh wait
[06:24:38] <sfackler> okay I didn't see the Copy derivation there
[06:24:52] <theme> whoops *_*
[06:25:16] <sfackler> I think it's not a bug - the compiler's processing the match by itself
[06:25:38] <theme> sfackler, http://is.gd/qzELKU
[06:25:56] <sfackler> yeah, so &*foo is considered a single operation
[06:26:06] <sfackler> while &match { ... } is considered two
[06:26:10] *** Quits: Rym (y@moz-bim.h8b.39.217.IP) (Ping timeout: 121 seconds)
[06:26:10] <theme> vs this: http://is.gd/JP2n5y
[06:26:35] <sfackler> in the match version, the match is typechecked as an expression that returns a thing of type Foo
[06:26:45] <sfackler> so both arms of the match have to be able to do that
[06:27:06] <sfackler> the borrow on the result of the match is a separate thing
[06:28:39] <theme> sfackler, why should it be like that?
[06:29:00] <sfackler> because rvalues aren't first class constructs in rust I think
[06:29:19] <theme> I'd file an issue
[06:29:31] *** Quits: mystor (mystor@moz-ldavpp.home3.cgocable.net) (Connection closed)
[06:29:36] <sfackler> the knowledge that "oh, we're not *really* going to dereference the val ref" doesn't propogate into the match
[06:29:43] <theme> if I'm wrong, it would be closed by someone that is sure
[06:31:33] *** Quits: krebbit (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[06:31:47] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[06:32:03] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[06:33:20] <theme> sfackler, https://github.com/rust-lang/rust/issues/23142
[06:33:21] <theme> submitted
[06:35:58] *** Joins: arrrrrrrrr (arrrrrrrrs@moz-pigq28.dynamic.qsc.de)
[06:36:30] *** Joins: reem (reem@moz-57mn6q.coob.q2h1.0009.2601.IP)
[06:40:28] *** Quits: enix (enix@moz-0mgr2v.fios.verizon.net) (Ping timeout: 121 seconds)
[06:41:18] *** Joins: laumann (laumann@moz-n9e72h.0.fullrate.dk)
[06:42:07] *** Quits: pjenvey (pjenvey@moz-ph7jic.org) (Connection closed)
[06:45:58] *** Quits: arrrrrrrrr (arrrrrrrrs@moz-pigq28.dynamic.qsc.de) (Ping timeout: 121 seconds)
[06:46:42] *** Joins: arrrrrrrrr (arrrrrrrrs@moz-pigq28.dynamic.qsc.de)
[06:46:46] <arrrrrrrrr> nmatsakis: ping
[06:46:48] <WindowsBunny> cmr: Good like on rustfmt :P
[06:49:34] <huon> woah, the queue is empty??
[06:50:25] <WindowsBunny> what
[06:50:28] <WindowsBunny> holy shit
[06:50:33] *** Joins: Rym (y@moz-bim.h8b.39.217.IP)
[06:51:03] *** Quits: kmcguire_ (kmcguire@moz-pg1gb9.biz.rr.com) (Connection closed)
[06:51:31] <theme> homu is dead?
[06:52:53] *** Joins: vky (vky@moz-fqci96.ca.comcast.net)
[06:53:02] <huon> no?
[06:53:07] <huon> http://buildbot.rust-lang.org/homu/queue/rust
[06:53:16] <arrrrrrrrr> would be removing the integer fallback for types in varagrs position be ok?
[06:53:21] <arrrrrrrrr> s/be//
[06:53:37] <arrrrrrrrr> it's backwards compat to add it again
[06:54:34] *** Quits: theme (theme@moz-i3mhhb.asianet.co.th) (Quit: Leaving)
[06:55:04] *** Quits: Rym (y@moz-bim.h8b.39.217.IP) (Ping timeout: 121 seconds)
[06:57:48] *** Joins: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com)
[07:05:33] *** Quits: reem (reem@moz-57mn6q.coob.q2h1.0009.2601.IP) (Connection closed)
[07:07:40] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[07:10:13] <arrrrrrrrr> https://github.com/rust-lang/rfcs/pull/951
[07:10:29] <eddyb> nmatsakis: oops, I've forgotten about https://github.com/rust-lang/rfcs/pull/803#issuecomment-77677349 - it sat in my browser for 20h or so - hope it's not too late :P
[07:10:56] <eddyb> arrrrrrrrr: IMO we should force the type in varargs
[07:11:05] <arrrrrrrrr> force the type?
[07:11:07] <eddyb> yupp
[07:11:11] <Manishearth> huon: yeah, the queue was empty for a glorious hour
[07:11:12] <eddyb> well...
[07:11:14] <arrrrrrrrr> what does that mean?
[07:11:33] <eddyb> arrrrrrrrr: nvm, I forgot how varargs work
[07:11:58] <eddyb> arrrrrrrrr: we could make it so unconstrained integer types in vararg positions default to i32 or something
[07:12:11] <eddyb> having them default to nothing is trickier
[07:12:18] <arrrrrrrrr> the best thing about this varargs thing is that it will never cause memory unsafety until you're on a platform that passes varargs via the stack
[07:12:18] <huon> eddyb: isn't that exactly what we default to now??
[07:12:31] <arrrrrrrrr> eddyb: what huon said
[07:12:32] <eddyb> huon: uhm
[07:12:39] * eddyb facepalms
[07:13:22] <eddyb> I did mean C's int *which happens to be* i32 on all platforms which we officially support
[07:13:37] <eddyb> but that wouldn't explain arrrrrrrrr's concerns
[07:13:49] <arrrrrrrrr> hm?
[07:14:01] <eddyb> huon: I guess I was thinking of the promotion rules in C's vararg calls but I can't remember them
[07:14:05] <eddyb> so I should just shut up
[07:14:42] <arrrrrrrrr> ah, promotion rules is interesting. I wonder how rustc handles that.
[07:15:03] <arrrrrrrrr> >error: can't pass u8 to variadic function, cast to c_uint
[07:15:06] <arrrrrrrrr> yo
[07:15:09] <eddyb> lol
[07:16:00] <eddyb> arrrrrrrrr: hmmm, "can't pass unconstrained integer to variadic function, cast to c_uint"
[07:16:16] <eddyb> arrrrrrrrr: your RFC as written may not be that hard to implement
[07:16:52] <eddyb> if you just deny anything that deals with inference
[07:17:11] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[07:17:23] *** Joins: nrc|afk (nrc@moz-4bhi2i.xtra.co.nz)
[07:17:23] *** ChanServ sets mode: +o nrc|afk
[07:17:35] *** nrc|afk is now known as nrc
[07:17:36] <eddyb> (I was thinking you wanted the use of a type in varargs to later block that type from falling back to a default, but that's not really necessary)
[07:18:01] <arrrrrrrrr> it will error either way so does it matter?
[07:18:10] <eddyb> yes
[07:18:19] <eddyb> it matters because one way is trivial and the other one is hard
[07:18:50] <eddyb> the trivial way won't let you do `let x = 0; printf("%d", x); takes_u32(x);`
[07:18:54] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[07:19:10] <arrrrrrrrr> oh but that should work
[07:19:10] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[07:19:12] <eddyb> which is fine IMO, we're talking highly unsafe code :)
[07:19:25] <arrrrrrrrr> lack of forward inference is annoying
[07:19:32] <eddyb> the inference is there
[07:19:38] <eddyb> but typeck happens before inference
[07:19:59] <eddyb> and inference would make it so an unconstrained integer type is i32 *and you can't tell*
[07:20:39] <eddyb> arrrrrrrrr: given the rules we already have, I would rather consider this to be a bug that doesn't need an RFC to be fixed
[07:20:46] <eddyb> i32 is not c_uint :)
[07:21:02] <eddyb> (though I bet it does let you pass c_int, i.e. i32)
[07:21:10] <arrrrrrrrr> sure
[07:21:13] <eddyb> (even if it has that specific type)
[07:21:31] <arrrrrrrrr> >error: can't pass i8 to variadic function, cast to c_int
[07:21:36] <eddyb> arrrrrrrrr: or better put, this is a bug because i32 is not c_int on all architectures
[07:22:13] <eddyb> so defaulting to something that may not be c_int is *wrong*
[07:23:37] *** Quits: untitaker (untitaker@moz-1hqdar.highway.telekom.at) (Ping timeout: 121 seconds)
[07:27:09] <arrrrrrrrr> not a problem with type ascription yo: printf("%d", 1: c_int);
[07:29:07] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Connection closed)
[07:29:38] *** Joins: untitaker (untitaker@moz-6snqf0.highway.telekom.at)
[07:30:59] <Manishearth> Who do I poke for a snapshot?
[07:32:27] <Luqman> Manishearth: if you have push access you can just push to snap-stage3 afaik
[07:32:55] <Luqman> and that'll kick off a snapshot, when it's done you make a pull request to update the .txt
[07:35:30] <Manishearth> Luqman: I don't. Could you?
[07:35:52] <Manishearth> I have buildbot access so I'm sure I could perform the equivalent operation somehow
[07:35:57] <Manishearth> But I'm wary of breaking things
[07:36:10] <Manishearth> or eddyb , if you don't have access
[07:38:33] <Luqman> Manishearth: done
[07:38:37] <Manishearth> thanks!
[07:39:27] <Manishearth> This rollup landed awlnx' custom attribute changes, which should make should_panic landable
[07:39:48] <Manishearth> Also the queu eis mostly empty so we can put the builders to work
[07:39:55] <Manishearth> so, snapshot :)
[07:40:25] <Manishearth> alright, looks like buildbot got the message. thanks!
[07:42:41] *** Quits: semarie (semarie@moz-61d2lm.46-142-213.telenet.ru) (Ping timeout: 121 seconds)
[07:42:43] <Manishearth> Luqman: there seem to be a lot of build requests
[07:42:43] <Manishearth> http://buildbot.rust-lang.org/builders/snap3-linux
[07:42:44] <Manishearth> O.o
[07:43:03] *** Joins: eerie (eerie@moz-v3eps5.red.bezeqint.net)
[07:43:43] <Manishearth> it's currently building two-day old ocmmits
[07:44:32] *** Joins: mib_i9v29b (Mibbit@moz-juv.9o3.252.72.IP)
[07:44:41] *** Joins: Rym (y@moz-bim.h8b.39.217.IP)
[07:45:08] <Manishearth> anyway, the right PRs are in it so its fine
[07:45:35] *** Joins: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se)
[07:45:39] *** Joins: tjakubow (tom@moz-ag87jj.fios.verizon.net)
[07:46:15] *** Quits: mib_i9v29b (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[07:47:43] *** Quits: vky (vky@moz-fqci96.ca.comcast.net) (Ping timeout: 121 seconds)
[07:49:13] *** Quits: Rym (y@moz-bim.h8b.39.217.IP) (Ping timeout: 121 seconds)
[07:49:25] *** Joins: tjakubo_ (tom@moz-ag87jj.fios.verizon.net)
[07:50:42] *** Quits: summerlight (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[07:54:31] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Client exited)
[07:55:31] *** Joins: semarie (semarie@moz-ej0.8eu.157.37.IP)
[07:55:43] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[07:57:18] *** Joins: theme (theme@moz-i3mhhb.asianet.co.th)
[08:04:22] *** Joins: reem (reem@moz-chhot3.coob.q2h1.0009.2601.IP)
[08:16:44] <eddyb> nmatsakis: you've been summoned https://www.reddit.com/r/rust/comments/2xxjda/when_should_my_type_be_copy/cp4p4yb?context=10
[08:17:23] <eddyb> (for 1.0's sake, I hope it doesn't end with a public apology)
[08:18:16] <huon> eddyb: your comment is misformatted
[08:18:23] *** Quits: tjakubo_ (tom@moz-ag87jj.fios.verizon.net) (Ping timeout: 121 seconds)
[08:24:29] *** Joins: eddyb_ (eddyb@moz-jv2.pug.25.188.IP)
[08:25:37] <eddyb_> huon: that's what I get for writing it on a phome, thanks!
[08:25:44] <eddyb_> *sigh
[08:25:52] <eddyb_> *phone **sigh*
[08:26:36] <theme> ***sigh**
[08:27:09] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[08:27:30] <eddyb_> huon: what was the reason for not implementing Copy on Cell, do you happen to know?
[08:28:32] <eddyb_> nathan7: just realized that RefCell can be dependently typed
[08:29:02] *** Joins: tjakubo_ (tom@moz-ag87jj.fios.verizon.net)
[08:29:23] <nathan7> eddyb_: elaborate
[08:30:14] *** Joins: mystor (mystor@moz-ldavpp.home3.cgocable.net)
[08:33:00] <huon> https://github.com/rust-lang/rust/issues/20813
[08:34:32] *** Quits: eerie (eerie@moz-v3eps5.red.bezeqint.net) (Connection closed)
[08:34:37] *** Quits: mystor (mystor@moz-ldavpp.home3.cgocable.net) (Ping timeout: 121 seconds)
[08:34:54] *** Joins: eerie (eerie@moz-v3eps5.red.bezeqint.net)
[08:35:07] <eddyb_> phone **sigh*
[08:35:35] <theme> *********sigh*********
[08:35:38] <theme> :P
[08:36:28] <eddyb_> there we go
[08:37:02] <eddyb_> the keyboard was refusing to show up in AndChat
[08:37:37] <eddyb_> nathan7: AFAIK we assert that the refcount is 0 on drop
[08:38:52] *** Joins: Rym (y@moz-bim.h8b.39.217.IP)
[08:38:53] <eddyb_> nathan7: maybe I'm going crazy with "use dependent types everywhere"
[08:38:56] *** Quits: eerie (eerie@moz-v3eps5.red.bezeqint.net) (Ping timeout: 121 seconds)
[08:40:12] <nathan7> eddyb_: you'd need full pointer aliasing information
[08:40:38] <eddyb_> what for?
[08:41:07] <eddyb_> I am talking about RefCell not Rc
[08:41:22] <eddyb_> nathan7: but I guess this only works if you own the values
[08:42:09] <eddyb_> nathan7: among other things I want to design a simple borrowing+linear single-threaded type system
[08:42:50] <nathan7> eddyb_: mhm
[08:42:54] <arrrrrrrrr> eddyb_: are you suggesting making raw pointers non-copy?
[08:42:58] <nathan7> I'm still not sure how to do type systems
[08:43:17] <eddyb_> arrrrrrrrr: your code is bad, mkay? :P
[08:43:24] *** Quits: Rym (y@moz-bim.h8b.39.217.IP) (Ping timeout: 121 seconds)
[08:43:37] <arrrrrrrrr> how would ffi work at all with that
[08:44:13] <eddyb_> arrrrrrrrr: possibly like reborrowing &mut T
[08:44:46] <eddyb_> but TBQH I didn't think of that. oops
[08:45:39] <eddyb_> I would like it if we used references or even Option<&T> in FFI
[08:45:53] <eddyb_> I might just do that with LLVM
[08:46:27] <arrrrrrrrr> so you're suggesting removing raw pointers from the language
[08:47:03] <eddyb_> maybe you can copy them but they don't implement Copy
[08:47:21] <arrrrrrrrr> that makes more sense to me
[08:47:39] <theme> eddyb_, arrrrrrrrr, related to the Pod RFC?
[08:48:22] <eddyb_> which means you can't accidentally pass them to generics over T: Copy, unless wrapped
[08:48:55] <eddyb_> and the Send-like behavior would still be possible - maybe in Rust 2.0?
[08:49:16] <eddyb_> theme: not at all, see reddit link above
[08:49:19] <arrrrrrrrr> see you in ten years
[08:49:50] <eddyb_> is there a Pod RFC?
[08:50:00] <theme> eddyb_, yes
[08:50:02] <arrrrrrrrr> there is something like that
[08:50:13] <arrrrrrrrr> https://github.com/rust-lang/rfcs/pull/936
[08:50:26] <eddyb_> because I've seen useless definitions of POD being thrown around
[08:50:40] <eddyb_> and I know of an useful one
[08:50:52] <eddyb_> (all bit patterns are valid values)
[08:51:05] <arrrrrrrrr> >pod
[08:51:08] <arrrrrrrrr> >/// Indicates that this type can be cloned by just copying its bits (`memcpy`)
[08:51:34] <eddyb_> *sigh*
[08:51:57] <eddyb_> yeah, that's not useful IMO
[08:52:42] <arrrrrrrrr> it's probably derived from the C definition
[08:52:58] <arrrrrrrrr> and in C not even int is POD according to your definition
[08:53:10] <arrrrrrrrr> (or C++)
[08:53:53] <eddyb_> my definition is useful for safe abstractions over bit-level value reonterpretation
[08:54:02] <eddyb_> *reinterpretation
[08:54:07] <theme> arrrrrrrrr, eddyb_, for one thing, it makes Cell usable for more values
[08:54:20] <eddyb_> which is not a thing in C/C++
[08:54:37] <eddyb_> theme: well, Cell is too restrictive
[08:54:49] <theme> but it can't take Clone due to soundness problems
[08:55:02] <eddyb_> but we don't have the tools to describe when Cell operations are safe
[08:55:07] <theme> and some types aren't Clone due to other things
[08:55:12] <theme> so, Pod?
[08:55:18] <eddyb_> theme: wait
[08:55:28] <eddyb_> Pod+Clone?
[08:55:31] <theme> s/Clone/Copy
[08:55:49] <theme> correction: and some types aren't Copy due to other things
[08:55:51] *** Joins: eerie (eerie@moz-v3eps5.red.bezeqint.net)
[08:56:02] <eddyb_> are you sure you don't want CloneByCopy?
[08:56:09] <theme> hmm
[08:56:12] <theme> maybe
[08:56:28] <theme> what requires what?
[08:56:34] <theme> what blanket impl?
[08:56:39] <theme> coherence?
[08:56:53] <eddyb_> and how many types out there are CloneByCopy but not Copy?
[08:57:06] <theme> eddyb_, more than one, I think
[08:57:28] <eddyb_> theme: I mean, I'd like to see that RFC use something other than POD
[08:57:30] <theme> basically, the proposed Pod is CloneByCopy
[08:57:42] <theme> almost
[08:58:11] <arrrrrrrrr> eddyb_: you're taking a well known term from other languages, redefine it, and want people to stop using the well known definition?
[08:58:20] <eddyb_> it has a very specific usecase which should not be confused with a general type property
[08:58:34] <eddyb_> arrrrrrrrr: I wouldn't name my thing POD anyways
[08:58:36] <theme> Range is not Copy, for one
[08:58:46] <eddyb_> theme: *sigh*
[08:58:57] <theme> and you probably don't want a struct with a lot of fields to be Copy
[08:59:13] <eddyb_> theme: read my reddit comment
[08:59:26] <eddyb_> we're encoding the wrong properties
[08:59:43] <theme> ok...
[09:00:01] <arrrrrrrrr> theme: you should be more worried about the lack of NRVO and whatever it's called when you pass a type to a function without a copy
[09:00:09] <theme> I interpret Copy to be "copying is implicit, cheap and does what you expect"
[09:00:38] <arrrrrrrrr> fun fact: clang++ has NRVO but clang does not
[09:00:50] <eddyb_> theme: that's wrong
[09:01:43] <eddyb_> the definition of Copy is "using lvalue as rvalue leaves safe, valid value behind"
[09:01:58] <theme> eddyb_, ok
[09:02:03] <eddyb_> it's a language property
[09:02:16] <theme> I amend "does what you expect" to "does simple memcpy or get optimized away"
[09:02:22] <arrrrrrrrr> eddyb_: are you making up definitions again? ;)
[09:02:44] <arrrrrrrrr> In the docs it's defined as "Types that can be copied by simply copying bits (i.e. memcpy)."
[09:02:54] <arrrrrrrrr> efficiency does not matter
[09:02:57] <theme> eddyb_, and what you said is part of my "copying is implicit"
[09:03:12] <theme> or more like "implicit, restricted clone"
[09:03:14] <eddyb_> theme: but that is not explictely defined :P
[09:03:32] <eddyb_> though I need to define a move
[09:03:38] <theme> *_*
[09:03:42] <theme> eddyb_, memmove?
[09:03:45] <eddyb_> no
[09:03:49] <theme> :P
[09:04:05] <kimundi> arrrrrrrrr: Well, the docs have no real superiority in these regards - they are written in this regard, and our terminology around this has way to many cycles and ambiguities anyway
[09:04:09] <eddyb_> moves between lvalued are bitwise copies
[09:04:18] <eddyb_> *lvalues
[09:04:50] <kimundi> eddyb_'s definition of Copy is way clearer than the one given in the docs, and implies the same thing
[09:05:16] <eddyb_> Copy encodes the property of some types of leaving a safe to use value in the source lvalue
[09:05:42] <eddyb_> if you start with an rvalue, you can only use it once, so the distinction is pointless
[09:07:03] <eddyb_> if you start with an lvalue and produce an rvalue, types that don't implement Copy might get the move optimized to reuse the lvalue
[09:07:48] <arrrrrrrrr> kimundi: maybe in the context of many other definitions. e.g. you need to have defined that an lvalue can be used if it contains valid data and that a move stores invalid data in the source lvalue. otherwise it's not even clear that the old lvalue can be used after a copy from eddyb_'s definition alone.
[09:07:51] <kimundi> Imo the docs should either upfront explain rvalues/lvalues, or at least explain them somewhere, and have things like the Copy docs refer to them in additional to the "simpler" explanation
[09:08:28] <eddyb_> the least ambiguous definition would have to rely on a function taking two &mut T arguments (lvalue -> lvalue)
[09:08:46] <kimundi> arrrrrrrrr: Right, that stuff needs to be documented as well
[09:09:07] <eddyb_> you can be certain of the codegen, if it's not inlined
[09:09:51] <kimundi> arrrrrrrrr: My point is is, eddyb_'s line of definition doesn't terminate in the ambigious mix of memcopy/logical copy/physical copy/optimized-away copy that the current one does
[09:10:16] <eddyb_> arrrrrrrrr: my definition doesn't require sources to be written to
[09:10:38] <kimundi> since it talks about the actual semantic, not of idealized implementation bheavior
[09:10:40] <eddyb_> it might as well require that they are not
[09:10:48] <arrrrrrrrr> sure, the current one uses sloppy language for the purpose of brevity and assumes that most people can infer a good approximation of the "correct" definition. I would not expect the docs definition in the specification.
[09:11:01] *** Quits: tjakubo_ (tom@moz-ag87jj.fios.verizon.net) (Ping timeout: 121 seconds)
[09:11:06] <kimundi> arrrrrrrrr: Yeah
[09:11:22] <kimundi> arrrrrrrrr: People keep misunderstanding the sloppy one though ;)
[09:11:42] <eddyb_> the borrow checker enforces that lvalues you *might* have moved away from can no longer be used
[09:11:50] <WindowsBunny> I really want a precise reference to these kinds of things
[09:11:53] <WindowsBunny> like cppreference
[09:11:53] <theme> eddyb_, I commmented on the Pod RFC for you ;)
[09:11:59] <theme> https://github.com/rust-lang/rfcs/pull/936
[09:12:04] <eddyb_> theme: thanks!
[09:12:11] <arrrrrrrrr> WindowsBunny: cppreference? just read the C++ standard.
[09:12:22] <arrrrrrrrr> the parts I've read had pretty clear language.
[09:13:04] <WindowsBunny> I like cppreference because it's a bit easier to understand, nicely organized, and has lots of examples
[09:13:23] <WindowsBunny> the C++ standard itself is a monolith PDF which is kinda hard to traverse
[09:13:29] <eddyb_> cppreference is the only standard
[09:13:31] <eddyb_> :P
[09:13:56] <WindowsBunny> arrrrrrrrr: Remember that not everyone can understand the same things you can or learn the same way as you
[09:14:21] <arrrrrrrrr> didn't help me when I tried to understand atomics. the standard was a breath of fresh air after I'd read 20 websites, none of which addressed the points I cared about
[09:14:38] *** Quits: reem (reem@moz-chhot3.coob.q2h1.0009.2601.IP) (Connection closed)
[09:15:00] <eddyb_> maybe you're talking about the C++11 stuff?
[09:15:03] <arrrrrrrrr> WindowsBunny: sure but a website like cppreference can only be derived from something like the C++ standard so it doesn't really matter.
[09:15:11] <eddyb_> that should be nicer than the 80's
[09:15:20] <arrrrrrrrr> eddyb_: yes, atomics in rust have the same semantics as atomics in C++11
[09:15:30] <eddyb_> I mean, the writing
[09:15:38] <WindowsBunny> arrrrrrrrr: So let's write up a Rust standard and then create a friendly organized website based off of it :D
[09:16:03] <eddyb_> WindowsBunny: good news is we have half of ot already!
[09:16:06] <arrrrrrrrr> eddyb_: yes, I've never seen anything older than the C++11 one. maybe the older ones were harder to grok.
[09:16:41] <eddyb_> arrrrrrrrr: I doubt anyone bothers to rewrite the definitions that don't change
[09:17:15] <eddyb_> WindowsBunny: having automated API docs at 1.0 is amazing
[09:17:44] <eddyb_> before cppreference I used to dive into /usr/include
[09:17:51] <WindowsBunny> eddyb_: Now if only rustdoc wasn't a slow memory hogging shit that produces over 9000 files
[09:18:23] <eddyb_> WindowsBunny: add a loop {} around Yurume++
[09:18:41] <arrrrrrrrr> https://godoc.org/
[09:18:48] <arrrrrrrrr> ^ rustdoc.org when?
[09:19:08] <theme> hmm... This domain name has been registered with Gandi.net
[09:19:12] <WindowsBunny> rusti: let mut Yurume = 0; loop { Yurume += 1; } Yurume
[09:19:15] -playbot- <anon>:14:51: 14:57 warning: unreachable expression, #[warn(unreachable_code)] on by default
[09:19:15] -playbot- <anon>:14         let mut Yurume = 0; loop { Yurume += 1; } Yurume
[09:19:15] -playbot- output truncated; full output at: http://bit.ly/1DUMHBT
[09:19:17] <arrrrrrrrr> theme: cmr owns it
[09:19:26] <WindowsBunny> eddyb_: :(
[09:19:30] <WindowsBunny> unreachable code
[09:19:37] <eddyb_> arrrrrrrrr: doc.rs pls
[09:19:48] <theme> rs.doc?
[09:19:52] <WindowsBunny> http://docs.rs/
[09:19:53] <arrrrrrrrr> Domain name: doc.rs.
[09:19:56] <arrrrrrrrr> Domain status: Activ
[09:19:58] <arrrrrrrrr> rip
[09:20:03] <WindowsBunny> docs.rs is already waiting for us
[09:20:29] <eddyb_> I bugged brson about it
[09:20:46] <theme> who is this heinrich5991@gmail.com
[09:20:56] <arrrrrrrrr> first someone has to write a good rustdoc server that doesn't generate 500 MB of docs for large crates
[09:21:14] <WindowsBunny> theme: Someone who might be kind and generous?
[09:21:20] <WindowsBunny> arrrrrrrrr: Agreed
[09:21:21] <eddyb_> if we had namespaces on crates.io...
[09:21:34] <eddyb_> docs.rs/rust-lang/std
[09:21:37] *** Joins: mpk (mpk@moz-0pd.skh.51.84.IP)
[09:21:48] <eddyb_> docs.rs/piston/gfx_texture
[09:21:52] <arrrrrrrrr> docs.rs/crates.io/std
[09:21:55] <arrrrrrrrr> there you go
[09:22:05] <eddyb_> but...
[09:22:20] <WindowsBunny> eddyb_: Seriously, can we at least have optional namespaces Q_Q
[09:22:22] <arrrrrrrrr> docs.rs/github.com/rust-lang/std
[09:22:37] <eddyb_> WindowsBunny: I was about to say the same thing
[09:22:43] <arrrrrrrrr> WindowsBunny: but then all those assets I've acquired would lose their value
[09:22:49] <eddyb_> with q_q, though
[09:22:58] <WindowsBunny> arrrrrrrrr: lol
[09:23:02] *** Quits: eerie (eerie@moz-v3eps5.red.bezeqint.net) (Connection closed)
[09:23:24] *** Joins: eerie (eerie@moz-v3eps5.red.bezeqint.net)
[09:23:38] <WindowsBunny> I'm thinking like, if you claim a name on crates.io
[09:23:44] <WindowsBunny> you get that name as a namespace as well
[09:23:50] <WindowsBunny> and so can put further crates underneath it
[09:24:17] <WindowsBunny> So for a C library, perhaps you could have blah and blah/sys :D
[09:24:26] *** Quits: eerie (eerie@moz-v3eps5.red.bezeqint.net) (Connection closed)
[09:24:28] *** Joins: eerie (eerie@moz-v3eps5.red.bezeqint.net)
[09:24:47] <arrrrrrrrr> and the crate name would be?
[09:25:05] <eddyb_> arrrrrrrrr: hmm
[09:25:15] *** Joins: Diggsey (diggsey@moz-ifbqbv.dsl.pipex.com)
[09:25:46] <eddyb_> cargo should be able to tell rustc that blah/sys, as a crate, is a certain file
[09:25:53] <eddyb_> or something
[09:26:31] * eddyb_ has gotten into the habit of attempting totality in natural language
[09:27:06] <eddyb_> "or something" is my match fallthrough case :/
[09:27:43] <WindowsBunny> eddyb_: So a way to specify in Cargo.toml that dependency blah/sys should be the crate named "assbutt" ?
[09:28:40] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[09:31:00] <eddyb_> WindowsBunny: no
[09:32:03] <eddyb_> WindowsBunny: cargo telling rustc how to interpret `extern crate "a/b 0.1.*" as a_b;`
[09:32:05] <eddyb_> :P
[09:32:18] <WindowsBunny> eddyb_: ah
[09:32:22] <WindowsBunny> that could work perhaps
[09:32:47] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[09:33:02] *** Joins: Rym (y@moz-bim.h8b.39.217.IP)
[09:33:03] *** Joins: summerlight (summerlight@moz-99k.2mj.130.121.IP)
[09:34:03] <WindowsBunny> would be tricky to implement though
[09:37:34] *** Quits: Rym (y@moz-bim.h8b.39.217.IP) (Ping timeout: 121 seconds)
[09:45:29] *** Quits: bleibig (bleibig@moz-btk.gm4.170.73.IP) (Connection closed)
[09:46:34] *** Joins: bleibig (bleibig@moz-btk.gm4.170.73.IP)
[09:49:20] *** Joins: kmcguire_ (kmcguire@moz-pg1gb9.biz.rr.com)
[09:50:19] *** Quits: bleibig (bleibig@moz-btk.gm4.170.73.IP) (Connection closed)
[09:51:14] *** Joins: bleibig (bleibig@moz-btk.gm4.170.73.IP)
[09:52:14] *** Quits: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com) (Ping timeout: 121 seconds)
[10:15:09] *** Quits: eerie (eerie@moz-v3eps5.red.bezeqint.net) (Connection closed)
[10:16:41] *** Quits: nrc (nrc@moz-4bhi2i.xtra.co.nz) (Quit: ChatZilla 0.9.91.1 [Firefox 39.0a1/20150228030231])
[10:18:38] *** Quits: summerlight (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[10:21:45] *** Quits: tjakubow (tom@moz-ag87jj.fios.verizon.net) (Quit: WeeChat 1.1.1)
[10:21:56] *** Joins: summerlight (summerlight@moz-99k.2mj.130.121.IP)
[10:22:17] *** Joins: tjakubo_ (tom@moz-ag87jj.fios.verizon.net)
[10:27:09] *** Joins: Rym (y@moz-bim.h8b.39.217.IP)
[10:28:48] *** Quits: bfops (uid58242@moz-e5u6m0.charlton.irccloud.com) (Quit: Connection closed for inactivity)
[10:31:29] *** Quits: O01eg (o01eg@moz-ma9ee4.l582.4n8f.2698.2a02.IP) (Client exited)
[10:31:43] *** Quits: Rym (y@moz-bim.h8b.39.217.IP) (Ping timeout: 121 seconds)
[10:36:55] *** Joins: eerie (eerie@moz-v3eps5.red.bezeqint.net)
[10:37:31] *** Joins: ptalbot (ptalbot@moz-j4gnuh.fbx.proxad.net)
[10:39:31] *** Quits: eerie (eerie@moz-v3eps5.red.bezeqint.net) (Connection closed)
[10:40:58] *** Joins: munksgaard (munksgaard@moz-478pev.u.parknet.dk)
[10:45:40] *** Quits: adu (ajr@moz-0foa9t.md.comcast.net) (Client exited)
[10:57:18] *** Quits: rustical (tsur@moz-55rvi2.dclient.hispeed.ch) (Ping timeout: 121 seconds)
[11:02:28] *** Joins: rustical (..@moz-55rvi2.dclient.hispeed.ch)
[11:09:48] *** Joins: eerie (eerie@moz-v3eps5.red.bezeqint.net)
[11:13:43] <doener> eddyb: am I misreading the comments or should this actually skip the deref/ref? 606dab919155192b372ebeb390a773ce01c1d2d2
[11:14:09] *** Quits: eerie (eerie@moz-v3eps5.red.bezeqint.net) (Ping timeout: 121 seconds)
[11:14:10] <doener> I'd say it should skip them, but I don't know that code well enough
[11:20:53] <doener> eddyb: assertion says that it must not skip 
[11:21:20] *** Joins: Rym (y@moz-bim.h8b.39.217.IP)
[11:21:23] *** Quits: laumann (laumann@moz-n9e72h.0.fullrate.dk) (Ping timeout: 121 seconds)
[11:25:52] *** Quits: Rym (y@moz-bim.h8b.39.217.IP) (Ping timeout: 121 seconds)
[11:36:40] *** Quits: jxv (jxv___@moz-2celrt.res.rr.com) (Connection closed)
[11:49:31] *** Quits: rustical (..@moz-55rvi2.dclient.hispeed.ch) (Connection closed)
[11:51:31] *** Quits: mceier (mceier@moz-fm89sb.dynamic.chello.pl) (Quit: leaving)
[11:51:36] *** Quits: kimundi (kimundi@moz-dulthb.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[11:52:55] *** Joins: kimundi (kimundi@moz-mmecd0.dip0.t-ipconnect.de)
[11:53:52] *** Joins: mceier (mceier@moz-fm89sb.dynamic.chello.pl)
[11:54:13] *** Joins: rustical (..@moz-55rvi2.dclient.hispeed.ch)
[11:54:22] <petrochenkov> Hi. I have a technical question. Function `compare_values` in trans/_match.rs reuses language item "str_eq" to compare byte strings. This language item accepts fat pointers. In my PR implementing RFC 339 byte string literals become thin pointers and can't be used with "str_eq" anymore.
[11:54:24] <petrochenkov> So far all my attempts to somehow turn thin pointer ValueRef into fat pointer ValueRef for use with "str_eq" ended up with failed LLVM assertions. What is the easiest way to make it work again?
[11:54:50] *** Quits: theme (theme@moz-i3mhhb.asianet.co.th) (Quit: Leaving)
[11:55:08] <huon> so you want to coerce the &[u8; N] to a &[u8]?
[11:55:19] <petrochenkov> yes
[11:56:11] <Manishearth> .as_slice()?
[11:56:14] <huon> I'd grep for how casts like `&foo as &Trait` are handled, and maybe that can help track it down
[11:56:14] <Manishearth> or [..]
[11:56:24] <huon> Manishearth: how the coercion happens in the compiler
[11:56:27] <Manishearth> oh
[11:57:04] *** kimundi is now known as zz_kimundi
[11:58:17] <doener> petrochenkov: check unsize_expr in expr.rs
[11:58:25] *** Quits: munksgaard (munksgaard@moz-478pev.u.parknet.dk) (Ping timeout: 121 seconds)
[12:01:01] *** Joins: eerie (eerie@moz-v3eps5.red.bezeqint.net)
[12:02:14] *** Joins: zmack (zmack@moz-4b0.o8l.26.188.IP)
[12:03:49] *** zz_kimundi is now known as kimundi
[12:05:33] *** Joins: munksgaard (munksgaard@moz-478pev.u.parknet.dk)
[12:10:28] <petrochenkov> doener: thanks, it does contain something that looks like what i want
[12:12:39] *** Joins: zmack_ (zmack@moz-4b0.o8l.26.188.IP)
[12:12:39] *** Quits: zmack (zmack@moz-4b0.o8l.26.188.IP) (Connection closed)
[12:15:11] <petrochenkov> btw, does something like `make install-stage1` exist? I.e. some way to conveniently use the stage1 compiler
[12:15:22] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[12:15:27] *** Joins: Rym (y@moz-bim.h8b.39.217.IP)
[12:16:03] <huon> petrochenkov: https://github.com/brson/multirust#custom-toolchains
[12:17:00] <huon> petrochenkov: e.g. http://www.reddit.com/r/rust/comments/2tnmu2/multirust_can_also_manage_custom_local_toolchains/
[12:17:27] <huon> petrochenkov: (you can also run it directly manually from the .../bin directory by setting LD_LIBRARY_PATH to point to the .../lib directory (on linux).)
[12:17:41] <huon> but multirust is awesome and handles all that for you
[12:19:30] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Ping timeout: 121 seconds)
[12:19:31] *** Joins: mystor (mystor@moz-ldavpp.home3.cgocable.net)
[12:19:40] <petrochenkov> NIce. I've heard about multirust, but I didn't knew it could do something like this
[12:20:01] *** Quits: Rym (y@moz-bim.h8b.39.217.IP) (Ping timeout: 121 seconds)
[12:20:49] <WindowsBunny> now all we need is multirust to work well on windows
[12:22:44] <Manishearth> psh
[12:24:03] *** Quits: mystor (mystor@moz-ldavpp.home3.cgocable.net) (Ping timeout: 121 seconds)
[12:24:33] *** Quits: p1start (p1start@moz-nftjhe.org) (Ping timeout: 121 seconds)
[12:25:36] *** Joins: Rym (y@moz-bim.h8b.39.217.IP)
[12:28:24] <Manishearth> huon: btw, do you understand the working of the snap builder?
[12:28:32] <Manishearth> Luqman  pushed master to snap-stage3
[12:28:48] <Manishearth> all the other snap builders are building master
[12:28:56] <Manishearth> linux is building a bunch of things
[12:28:56] <Manishearth> http://buildbot.rust-lang.org/builders/snap3-linux
[12:29:17] <Manishearth> has a backlog of 10, and the one up top is not master
[12:29:30] <Manishearth> any idea what's going on, and if I should cancel the current build?
[12:31:49] *** Quits: {0}grant ({0}grant@moz-63ubas.in.charter.com) (Ping timeout: 121 seconds)
[12:34:38] <WindowsBunny> Manishearth: oh gawd, what does bors do when there's nothing to do?
[12:36:41] *** Joins: Nekit1234007 (nekit@moz-knq.l91.51.84.IP)
[12:39:44] <Manishearth> WindowsBunny: last time it crashed :P
[12:40:10] <kimundi> lol
[12:41:36] *** Quits: eerie (eerie@moz-v3eps5.red.bezeqint.net) (Connection closed)
[12:44:07] <Manishearth> 6hrs till next snapshot
[12:44:09] <Manishearth> (I reset it)
[12:52:05] *** Quits: madmalik (uid13697@moz-lfin5p.brockwell.irccloud.com) (Quit: Connection closed for inactivity)
[12:52:13] <WindowsBunny> Manishearth: What will you do without PRs to roll up? :P
[12:52:54] <eddyb_> Manishearth: buildbot is either miserably broken or misconfigured
[12:53:17] <eddyb_> it's hit and mis- either way
[12:53:37] <Manishearth> heh
[12:53:44] <Manishearth> WindowsBunny: study
[12:53:48] <eddyb_> Manishearth: snap and try builds (the branch-based ones) are terrible
[12:53:54] <Manishearth> what do you think I do while the rollups are building anyway?:
[12:54:02] *** Quits: kimundi (kimundi@moz-mmecd0.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[12:54:09] <eddyb_> you have to kill all the builds with the wrong hash
[12:54:34] <Manishearth> yeah, did that
[12:55:01] *** Joins: kimundi (kimundi@moz-b4pvbh.dip0.t-ipconnect.de)
[12:59:30] *** kimundi is now known as zz_kimundi
[12:59:45] *** Joins: eerie (eerie@moz-v3eps5.red.bezeqint.net)
[13:01:01] *** Joins: madmalik (uid13697@moz-lfin5p.brockwell.irccloud.com)
[13:05:15] *** Joins: imperio (Mibbit@moz-8otf3a.fbx.proxad.net)
[13:06:39] *** Joins: sigma (sigma@moz-ohog4c.range86-135.btcentralplus.com)
[13:07:04] <arrrrrrrrr> is the rust syntax documented anywhere?
[13:09:39] <imperio> Manishearth: the bug is still on the run ?
[13:09:51] <Manishearth> imperio: yes
[13:10:15] *** Quits: tjakubo_ (tom@moz-ag87jj.fios.verizon.net) (Ping timeout: 121 seconds)
[13:10:26] <Manishearth> imperio: if you can get a debug build of rust running and get the local variables for that failure (in tr_span), that would be quite helpful
[13:10:51] <imperio> Manishearth: I could, how can I get a debug build of rust ?
[13:11:02] <Manishearth> imperio: RUSTFLAGS="-g" I think?
[13:11:03] <Manishearth> cc huon 
[13:11:09] <Manishearth> or ./configure --enable-debug
[13:11:11] <Manishearth> or somehting
[13:11:14] <Manishearth> can't remember
[13:11:42] <imperio> Manishearth: I already have ./configure --enable-rpath
[13:12:00] <Manishearth> yeah, on top of that
[13:13:08] <Manishearth> one sec
[13:13:09] <Manishearth> hm
[13:13:25] <imperio> meanwhile, I launch linux
[13:14:43] *** Quits: eerie (eerie@moz-v3eps5.red.bezeqint.net) (Connection closed)
[13:14:49] *** Quits: zmack_ (zmack@moz-4b0.o8l.26.188.IP) (Connection closed)
[13:14:50] *** Quits: munksgaard (munksgaard@moz-478pev.u.parknet.dk) (Ping timeout: 121 seconds)
[13:15:43] *** zz_kimundi is now known as kimundi
[13:15:44] <arrrrrrrrr> is whitespace significant anywhere?
[13:16:02] <simukis> arrrrrrrrr: nope
[13:16:10] <arrrrrrrrr> that's good
[13:20:33] <Manishearth> playbot: letx=1u8
[13:20:34] -playbot- <anon>:14:9: 14:13 error: unresolved name `letx`
[13:20:34] -playbot- <anon>:14         letx=1u8
[13:20:34] -playbot- output truncated; full output at: http://bit.ly/1A6Agl8
[13:20:40] <Manishearth> arrrrrrrrr: ^ yes :P
[13:20:51] <arrrrrrrrr> after tokenization
[13:21:00] <Manishearth> yeah, not really significant :)
[13:21:08] *** Joins: eerie (eerie@moz-v3eps5.red.bezeqint.net)
[13:21:35] <Manishearth> related note: comments *are* significant, never use a doc comment where it shouldn't go, you will get an error
[13:22:51] <simukis> Manishearth: line comments are defined like that, to span until the end of the line
[13:22:55] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[13:23:07] <simukis> so that doesn’t really qualify for whitespace significance
[13:24:50] *** Joins: ytain (ytain@moz-f5jvis.dsl.teksavvy.com)
[13:26:04] <Manishearth> simukis: I know they don't :)
[13:26:09] <Manishearth> simukis: it's a related issue
[13:26:14] <Manishearth> bit of a gotcha
[13:26:48] <arrrrrrrrr> rusti: let x = & mut 1;
[13:26:49] -playbot- ()
[13:27:13] <Manishearth> nice
[13:27:28] <arrrrrrrrr> vim doesn't highlight that properly
[13:27:32] <Manishearth> playbot: let x = 1 u9
[13:27:33] -playbot- <anon>:14:19: 14:21 error: expected one of `.`, `;`, or an operator, found `u9`
[13:27:33] -playbot- <anon>:14         let x = 1 u9
[13:27:33] -playbot- output truncated; full output at: http://bit.ly/1EzSZul
[13:27:35] <Manishearth> oops
[13:27:38] <Manishearth> playbot: let x = 1 u8
[13:27:39] -playbot- <anon>:14:19: 14:21 error: expected one of `.`, `;`, or an operator, found `u8`
[13:27:39] -playbot- <anon>:14         let x = 1 u8
[13:27:39] -playbot- output truncated; full output at: http://bit.ly/1A6B89p
[13:27:54] <simukis> Manishearth: this gonna be fixed by type ascription, hopefully
[13:28:13] <Manishearth> simukis: it will need to be `let x = 1 :u8` then
[13:28:57] <Manishearth> not that I really want `let x = 1 u8` to work :p
[13:29:09] <simukis> I want 1u8 to not work
[13:29:36] <Manishearth> why?
[13:31:17] <arrrrrrrrr> rusti: 'a' as usiz
[13:31:18] -playbot- <anon>:14:16: 14:20 error: use of undeclared type name `usiz`
[13:31:18] -playbot- <anon>:14         'a' as usiz
[13:31:18] -playbot- output truncated; full output at: http://bit.ly/1EzTMLM
[13:31:19] <arrrrrrrrr> rusti: 'a' as usize
[13:31:21] -playbot- 97
[13:31:29] <arrrrrrrrr> rusti: let \u{97} = 1; \u{97}
[13:31:30] -playbot- <anon>:14:13: 14:14 error: unknown start of token: \\
[13:31:30] -playbot- <anon>:14         let \u{97} = 1; \u{97}
[13:31:30] -playbot- output truncated; full output at: http://bit.ly/1A6BAEs
[13:31:33] <arrrrrrrrr> aww
[13:31:56] <simukis> because this is just another way to do `1 as u8` and soon will be another way to do `1:u8` too.
[13:32:16] <simukis> and I hate duplication… though not as badly as I hate Java
[13:34:54] <kimundi> Maybe 1:u8 will land soon enough to get rid about the 1 as u8 special case :P
[13:36:07] <kimundi> Though... I'm getting doubts wether it actually ends up being a special case or not...
[13:38:16] <imperio> Manishearth: after redownloading rust, I didn't find any debug option in configure
[13:38:24] <imperio> are you sure it's in ?
[13:38:47] *** Joins: eibwen (eibwen@moz-lb579g.dip0.t-ipconnect.de)
[13:39:21] <Manishearth> imperio: a rust build I mean
[13:39:23] <Manishearth> I'm not sure
[13:39:41] <imperio> hum... no one knows about that ?
[13:42:08] <Manishearth> kimundi: any idea about how rust debug builds can be done?
[13:42:33] <Manishearth> imperio: make foo RUSTFLAGS="-g"
[13:42:37] <kimundi> Manishearth: Uhm, -g flag?
[13:42:53] <Manishearth> yeah, I thought there was a config option for it. gues not
[13:43:02] <kimundi> No idea about the makefile itself, sorry
[13:43:04] <imperio> ok, let's start the build then
[13:44:13] *** Joins: laumann (laumann@moz-n9e72h.0.fullrate.dk)
[13:45:49] <Yurume> http://buildbot.rust-lang.org/builders/nightly-dist-packaging-win-64/builds/68/steps/listing%20artifacts/logs/stdio -> http://buildbot.rust-lang.org/builders/nightly-dist-packaging-win-64/builds/69/steps/listing%20artifacts/logs/stdio
[13:45:54] <Yurume> *smiles*
[13:46:24] * Manishearth pats Yurume 
[13:47:12] <Yurume> it seems that windows exe and msi are less affected, for obvious reasons.
[13:47:23] <Yurume> exe uses LZMA and msi uses LZX I assume?
[13:48:20] <Yurume> (LZX uses much larger window than DEFLATE, topping at 2MB, so it should be less affected indeed)
[13:50:27] *** Joins: zmack (zmack@moz-4b0.o8l.26.188.IP)
[13:53:21] *** Joins: jdm (jdm@moz-ilbt2e.cable.teksavvy.com)
[13:54:05] <barosl> Homu is in free again. I'm getting anxious
[13:55:38] <imperio> what is the makefile to just build stage1 please ?
[13:56:01] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Client exited)
[13:56:26] <Manishearth> imperio: make rustc-stage1
[13:56:35] <imperio> oh ok
[13:56:42] <Yurume> whoooops, I broke rustdoc sidebars
[13:56:44] <imperio> It forgot the 'c', urg
[13:56:51] <Manishearth> :)
[13:56:54] <Manishearth> Yurume: +1
[13:56:58] <Manishearth> would break again
[13:57:01] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[13:57:03] <Yurume> lol
[13:57:12] <Manishearth> Yurume: quick, push a fix so I can r+ it
[13:57:16] <Yurume> yup
[13:57:19] <Manishearth> homu needs stuff to work on
[13:57:44] <Manishearth> I am so happy that we are now looking for things t oapprove
[13:57:46] <Manishearth> *to approve
[13:58:09] <Manishearth> instead of wishing that the characters 'r' and '+' never meet again
[13:58:15] <Yurume> r#
[13:58:17] <Manishearth> it's like Servo now :)
[14:01:03] <Amaranth> Caught up on the backlog of stuff to rollup?
[14:01:29] <Manishearth> yes
[14:01:38] <Manishearth> there are no approved PRs left
[14:01:48] <Manishearth> except for #[should_panic], which should technically be r-d
[14:01:51] <Manishearth> until the next snap
[14:03:54] <Yurume> Manishearth, https://github.com/rust-lang/rust/pull/23146 r?
[14:04:23] <Yurume> hmm, wait
[14:04:35] <Yurume> I *can* test it in my server
[14:06:08] <Manishearth> lol, a friend switched fro mwindows to ubuntu, guess what happened
[14:06:09] <Manishearth> https://github.com/Wafflespeanut/Python/commit/f03df0559c07162a45a64110fbf6559e87041b0a
[14:06:24] <Amaranth> Manishearth: Doesn't should_panic need the support for it to land unused, get a new snapshot, then move all the should_fail to should_panic and remove should_fail support?
[14:06:44] <Manishearth> Amaranth: no, the issue is that new attributes are disallowed
[14:06:59] <Manishearth> c3b77ab41c7b2802d081d788dd020961895120a7 whitelists it
[14:07:08] <Yurume> Manishearth, okay, I quickly verified that this is correct
[14:07:18] <Manishearth> and 2fcdd824efd7e0adc2743b4190c8934b861478eb gives the general fix
[14:08:10] <Manishearth> but basically the stage0 snap complains on new attributes. The first commit adds should_panic to the whitelsit and  the second one makes stage0 ignore the lint
[14:08:41] <Manishearth> Yurume: I don't see the need for pushing this through testing infra though :P
[14:08:50] <Amaranth> Okay so it's not quite what I thought but more or less the same thing, need to teach the compiler about it then get a new snapshot before trying to use it
[14:09:05] <Manishearth> I *would* put up a PR that moves us to the next snapshot ... if I had one -_-
[14:09:11] <Manishearth> Amaranth: yep
[14:09:17] *** Joins: Guest63 (textual@moz-56c.qli.61.176.IP)
[14:09:26] *** Joins: jdm_ (jdm@moz-ilbt2e.cable.teksavvy.com)
[14:10:00] *** Quits: mceier (mceier@moz-fm89sb.dynamic.chello.pl) (Ping timeout: 121 seconds)
[14:11:21] *** Quits: jdm (jdm@moz-ilbt2e.cable.teksavvy.com) (Ping timeout: 121 seconds)
[14:11:30] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[14:11:33] <Manishearth> lifthrasiir:oh-noes-i-broke-rustdoc-sidebars-what-to-do-now
[14:11:35] <Manishearth> +1
[14:11:50] <Manishearth> Yurume: we don't upload docs on each build, right?
[14:11:56] <Manishearth> should we have a `trunk` set of docs?
[14:12:03] *** Joins: mceier (mceier@moz-fm89sb.dynamic.chello.pl)
[14:16:11] *** Quits: jdm_ (jdm@moz-ilbt2e.cable.teksavvy.com) (Connection closed)
[14:17:44] *** Quits: Rym (y@moz-bim.h8b.39.217.IP) (Ping timeout: 121 seconds)
[14:19:47] *** Joins: eddyb__ (eddyb@moz-jv2.pug.25.188.IP)
[14:19:47] *** Quits: eddyb_ (eddyb@moz-jv2.pug.25.188.IP) (Connection closed)
[14:20:27] *** Quits: mpk (mpk@moz-0pd.skh.51.84.IP) (Client exited)
[14:21:40] <Yurume> Manishearth, I think so (for the first question), and I don't know (for the second question).
[14:22:33] <Manishearth> no, we don't upload
[14:22:38] <Manishearth> having /trunk would be sweet
[14:22:47] <Manishearth> (We do this on Servo)
[14:23:53] *** Quits: eddyb__ (eddyb@moz-jv2.pug.25.188.IP) (Ping timeout: 121 seconds)
[14:30:26] <arrrrrrrrr> can you not define && for your types?
[14:34:32] *** Joins: corallok (corallok@moz-k1scau.res.rr.com)
[14:34:37] <Manishearth> arrrrrrrrr: the move operator?
[14:34:47] <arrrrrrrrr> the && operator
[14:34:59] <Manishearth> what is the && operator?
[14:35:08] <Manishearth>  oh
[14:35:10] <Manishearth> that one
[14:35:11] <Manishearth> right
[14:35:13] <Manishearth> um,
[14:35:24] <Manishearth> check core::ops
[14:35:30] <arrrrrrrrr> I did
[14:35:42] <Manishearth> huh
[14:35:44] <imperio> Manishearth: it fails when building in debug mode
[14:35:55] <imperio> I create a file with the errors
[14:35:58] <Manishearth> imperio: failure details?
[14:36:05] <Manishearth> debug mode breaks often
[14:36:11] <Manishearth> mw shall be ccd
[14:36:29] <Manishearth> arrrrrrrrr: perhaps && only works for bools?
[14:36:53] <gleb> is getting arithmetic overflow when building rust a known issue?
[14:36:59] <gleb> rustc: x86_64-unknown-linux-gnu/stage1/lib/rustlib/x86_64-unknown-linux-gnu/lib/libcore
[14:37:00] <gleb> thread '<main>' panicked at 'arithmetic operation overflowed', /home/user/rust/rust/src/libcore/num/wrapping.rs:79
[14:37:30] <Manishearth> gleb: no, nt a known issue, but it's likely to happen
[14:37:33] <imperio> Manishearth: 
[14:37:33] <imperio> https://gist.github.com/GuillaumeGomez/63280240ff65fdff6a6e
[14:37:37] <Manishearth> gleb: can you recompile with RUST_BACKTRACE=1?
[14:37:48] <gleb> Manishearth: okay
[14:38:07] <eddyb> arrrrrrrrr: PartialEq/PartialOrd only return bool, if, && and || only takes bool
[14:38:20] <eddyb> arrrrrrrrr: I think it's the special short-circuiting behavior
[14:38:27] <imperio> Manishearth: yup
[14:38:41] <eddyb> i.e. a && b can be considered to desugar to if a { b } else { false }
[14:38:49] <gleb> Manishearth: seems to be in Isaac64Rng::init
[14:39:01] <Manishearth> gleb: yeah, that was changed too
[14:39:06] <Manishearth> gleb: pastebin the backtrace?
[14:39:13] <eddyb> (hah... what if && was (bool, T) -> T instead of (bool, bool) -> bool?)
[14:39:26] <Manishearth> imperio: backtrace?
[14:39:43] <eddyb> actually, wait
[14:39:54] <imperio> Manishearth: copying
[14:39:57] <eddyb> (bool, T) -> Option<T>
[14:40:07] <Manishearth> imperio: thx
[14:40:18] *** Joins: {0}grant ({0}grant@moz-63ubas.in.charter.com)
[14:40:21] <eddyb> eh, it's not amazing
[14:40:22] *** Joins: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com)
[14:40:23] <gleb> Manishearth: http://pastebin.com/0s3WeYpt
[14:40:32] <imperio> Manishearth: done, same link
[14:40:38] <arrrrrrrrr> eddyb: just make it like Bitand
[14:40:39] <gleb> I configured with --enable-local-rust if it makes any difference
[14:40:45] <Manishearth> gleb: ah
[14:40:51] <eddyb> arrrrrrrrr: but & doesn't short-circuit
[14:40:55] <Manishearth> gleb: what hash are you on?
[14:41:31] <gleb> b0746ff19 2015-03-05 (built 2015-03-06)
[14:41:32] <arrrrrrrrr> eddyb: then like BitAnd with an Option
[14:41:52] <eddyb> o_O
[14:41:56] <eddyb> how would that work?
[14:42:06] <eddyb> oh
[14:42:27] <eddyb> arrrrrrrrr: the RHS may NOT be evaluated, depending on the LHS
[14:42:45] *** Quits: kmcguire_ (kmcguire@moz-pg1gb9.biz.rr.com) (Ping timeout: 121 seconds)
[14:43:17] <gleb> Manishearth: but this is stage1 should that even matter at this point?
[14:43:43] <Manishearth> gleb: https://github.com/rust-lang/rust/pull/23105
[14:44:01] <eddyb> gleb: do you need --enable-local-rust for something?
[14:44:13] <eddyb> if you can use snapshots, don't touch that
[14:44:17] <eddyb> we should maybe remove it
[14:44:38] <gleb> eddyb: no, I wanted to avoid downloading a snapshot :) didn't expect much harm
[14:44:39] <eddyb> nobody actually *needs* the stupid thing, it only confuses newcomers
[14:44:50] <eddyb> gleb: yeah, no, that doesn't work
[14:45:13] <eddyb> if someone needs to use a locally built snapshot, they can adjust snapshots.txt and put it in the cache dir
[14:45:32] <eddyb> or they can write it directly to $target/stage0/bin
[14:45:48] <eddyb> or is it $host? the build dir, anyways
[14:46:22] <arrrrrrrrr> japaric: https://gist.github.com/mahkoh/45b6117d61adca5c11ff this looks very wrong
[14:46:30] <gleb> eddyb: thanks, I'll not touch that option anymore
[14:46:33] <eddyb> Manishearth: do you happen to know whom I need to bug about removing an useless (IME) configure flag?
[14:46:41] *** Joins: quigglex (Mibbit@moz-juv.9o3.252.72.IP)
[14:46:48] <eddyb> gleb: the other evil one (although more useful) is --enable-clang
[14:46:57] <imperio> Manishearth: thx !
[14:47:00] <eddyb> gleb: which doesn't work on some distros/systems
[14:47:04] <Manishearth> eddyb: *shrug*
[14:47:10] <eddyb> acrichto, maybe?
[14:47:13] <Manishearth> put up a PR and get it reviewed
[14:47:16] <eddyb> brson is never around
[14:47:26] <eddyb> Manishearth: I guess it's not a hard one
[14:47:41] <eddyb> I've seen two people in the last few weeks
[14:47:49] <eddyb> being burnt by it
[14:48:16] <eddyb> (okay, I'm exaggerating. still, it's wasting people's time)
[14:50:35] *** Quits: quigglex (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[14:51:52] <semarie> eddyb: I use regulary --enable-local-rust
[14:51:59] <eddyb> semarie: what for?
[14:52:18] <eddyb> how do you ensure it actually builds?
[14:52:31] <semarie> openbsd don't have snaphosts. it is more simple to use a configure option than patch snapshots.txt
[14:53:01] <semarie> I generate rustc port for openbsd (a binary "package")
[14:53:08] <semarie> so it build :)
[14:56:15] *** Quits: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com) (Ping timeout: 121 seconds)
[14:57:02] *** Joins: Rym (y@moz-bim.h8b.39.217.IP)
[14:58:34] <burntsushi> eibwen: `regex` assumes that every character is represented by a Unicode scalar value, so my guess is that means it is no grapheme-aware.
[14:59:07] *** Quits: {0}grant ({0}grant@moz-63ubas.in.charter.com) (Ping timeout: 121 seconds)
[14:59:44] *** Quits: eerie (eerie@moz-v3eps5.red.bezeqint.net) (Connection closed)
[15:01:32] *** Quits: Rym (y@moz-bim.h8b.39.217.IP) (Ping timeout: 121 seconds)
[15:01:57] *** Quits: Guest63 (textual@moz-56c.qli.61.176.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[15:03:32] <doener> did RUST_LOG usage change?
[15:06:04] <eddyb> semarie: yeah, but do you compile snapshots with the last hash from snapshots.txt?
[15:06:08] *** Joins: eerie (eerie@moz-v3eps5.red.bezeqint.net)
[15:06:27] <eddyb> i.e. you build an older version for snapshots then use those to build master?
[15:06:42] <semarie> eddyb: yes
[15:06:53] <eddyb> then you should modify snapshots.txt
[15:07:01] <semarie> my "local-rustc" is the last snapshot
[15:07:07] *** Joins: jdm (jdm@moz-ilbt2e.cable.teksavvy.com)
[15:07:21] <eddyb> and use `make snap-stage3`
[15:07:57] <semarie> it is not very convenient to patch dynamically snapshots.txt
[15:08:30] <eddyb> (to generate the snapshot in the first place) - I assume you have to copy it from a different system?
[15:08:53] <eddyb> semarie: is there no one-liner to insert a line of text into a file?
[15:09:53] <semarie> for generate a openbsd package, it is automated tools (makefile, patches, ...)
[15:10:15] *** Quits: eerie (eerie@moz-v3eps5.red.bezeqint.net) (Connection closed)
[15:10:19] <semarie> I take a look to do differently
[15:11:46] <eddyb> semarie: sed can do it
[15:12:03] *** Quits: ptalbot (ptalbot@moz-j4gnuh.fbx.proxad.net) (Ping timeout: 121 seconds)
[15:12:05] *** Quits: madmalik (uid13697@moz-lfin5p.brockwell.irccloud.com) (Quit: Connection closed for inactivity)
[15:14:09] <semarie> ok, it seems that directly copying the binary in stage0/bin seems to do the trick. so it is just a "post-configure" step to add.
[15:14:40] <semarie> eddyb: you could remove the option :)
[15:15:06] <semarie> but maybe a note in documentation about copying a binary in stage0/bin could be good too
[15:15:43] *** Joins: eerie (eerie@moz-v3eps5.red.bezeqint.net)
[15:16:29] <eibwen> burntsushi: I just stumbled upon that... at least python is also unable to interpret . as grapheme instead of codepoint
[15:16:52] <burntsushi> eibwen: yeah, i'd definitely like to take a look at a regex engine that is grapheme aware.
[15:17:13] *** Quits: eerie (eerie@moz-v3eps5.red.bezeqint.net) (Connection closed)
[15:18:27] <eibwen> burntsushi: I believe your implementation has what unicode.org calls "Level 1: Basic Unicode Support"
[15:18:32] <eibwen> (see TR 18)
[15:19:35] <eibwen> they however recommend to achieve Level 2 (Level 3 is an extra with possible performance impacts)
[15:20:09] <arrrrrrrrr> nmatsakis: ping
[15:20:23] <burntsushi> eibwen: yeah, i've seen those levels before and i think you are right. i'd still like to see a grapheme aware regex engine.
[15:21:13] <burntsushi> eibwen: i'm also not sure if level 2 is "free." comparisons inside the VM would need to be between strings instead of `char`.
[15:21:31] <burntsushi> and of course, graphemes would have to be decoded...
[15:21:41] <eibwen> burntsushi: do you decode UTF-8 in your regex engine?
[15:21:49] <burntsushi> eibwen: yes
[15:21:50] <eibwen> oh
[15:22:05] <eibwen> I thought one would pattern-match the bytes
[15:22:10] <eibwen> is that too much effort?
[15:22:22] *** Quits: jdm (jdm@moz-ilbt2e.cable.teksavvy.com) (Quit: )
[15:23:32] <burntsushi> eibwen: it's certainly another way to go, but it was much easier to implement it this way. :-) probably dropping down to byte comparisons is something i'll have to do eventually.
[15:24:10] <eibwen> (I didn't mean to diminish (?) your work)
[15:24:32] <burntsushi> no you're not! it's useful to point out limitations (and these should probably go in the docs/README).
[15:25:55] *** Joins: eerie (eerie@moz-v3eps5.red.bezeqint.net)
[15:27:55] *** Quits: Kxepal (Miranda@moz-b1v3ht.pppoe.mtu-net.ru) (Ping timeout: 121 seconds)
[15:29:41] *** Quits: eerie (eerie@moz-v3eps5.red.bezeqint.net) (Connection closed)
[15:29:54] *** Joins: Kxepal (Miranda@moz-38h4j0.pppoe.mtu-net.ru)
[15:33:23] *** Joins: eerie (eerie@moz-v3eps5.red.bezeqint.net)
[15:35:29] *** Joins: eddyb_ (eddyb@moz-jv2.pug.25.188.IP)
[15:36:01] *** Joins: mystor (mystor@moz-ldavpp.home3.cgocable.net)
[15:36:40] *** Quits: eerie (eerie@moz-v3eps5.red.bezeqint.net) (Connection closed)
[15:40:19] *** Quits: mystor (mystor@moz-ldavpp.home3.cgocable.net) (Ping timeout: 121 seconds)
[15:42:01] *** Joins: eerie (eerie@moz-v3eps5.red.bezeqint.net)
[15:46:19] *** Quits: eerie (eerie@moz-v3eps5.red.bezeqint.net) (Connection closed)
[15:51:10] *** Joins: Rym (y@moz-bim.h8b.39.217.IP)
[15:55:40] *** Quits: Rym (y@moz-bim.h8b.39.217.IP) (Ping timeout: 121 seconds)
[15:58:58] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[15:59:09] *** Joins: JoNil (JoNil@moz-mhnm7o.cust.bredbandsbolaget.se)
[15:59:16] *** Joins: japaric_ (japaric@moz-md8.d08.42.190.IP)
[16:00:16] *** Joins: eerie (eerie@moz-v3eps5.red.bezeqint.net)
[16:01:42] *** Quits: japaric (japaric@moz-10i.1in.121.200.IP) (Ping timeout: 121 seconds)
[16:02:11] *** Quits: kennyt (ken@moz-camlj5.int80k.com) (Connection closed)
[16:03:13] *** Quits: carter (carter@moz-aheg3i.ieqc.6fdm.3c03.2600.IP) (Quit: ZNC - http://znc.in)
[16:04:56] *** Joins: CharlotteClueless (corallok@moz-k1scau.res.rr.com)
[16:05:09] *** Joins: IdiotAtHome (corallok@moz-k1scau.res.rr.com)
[16:05:33] *** Quits: IdiotAtHome (corallok@moz-k1scau.res.rr.com) (Connection closed)
[16:09:00] *** Quits: seanmonstar (seanmonstar@moz-jd3i0j.fkdv.ulf6.3c01.2600.IP) (Quit: ZNC - http://znc.in)
[16:18:01] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[16:22:19] *** Quits: Zoxc (Zoxc@moz-eucr1n.bb.online.no) (Ping timeout: 121 seconds)
[16:28:43] *** Joins: carter (carter@moz-0253uj.members.linode.com)
[16:31:04] <burntsushi> does anyone know the story for the `stdout` and `stderr` methods on `std::thread::Builder`? the stability message says that it's going away. if they go away, how will the testing infrastructure work?
[16:32:03] <arrrrrrrrr> burntsushi: it won't work
[16:32:38] <burntsushi> arrrrrrrrr: ?
[16:32:44] <arrrrrrrrr> output will not be captured
[16:33:15] <burntsushi> arrrrrrrrr: that's the plan? to just not capture the result of a test failure?
[16:33:16] *** Quits: laumann (laumann@moz-n9e72h.0.fullrate.dk) (Ping timeout: 121 seconds)
[16:33:19] <arrrrrrrrr> that's the plan
[16:33:39] <arrrrrrrrr> burntsushi: you will still see it. it will just shit all over the test output
[16:33:39] <burntsushi> is this explained anywhere?
[16:34:12] <burntsushi> well, that's going to cause serious problems for quickcheck.
[16:35:05] <arrrrrrrrr> <arrrrrrrrr> acrichto: how are you going to capture test output if set_stdout and set_stderr are removed?
[16:35:08] <arrrrrrrrr> <acrichto> we won't
[16:35:10] <arrrrrrrrr> rip
[16:38:45] * WindowsBunny steals arrrrrrrrr's terminal
[16:38:54] <arrrrrrrrr> are you some kind of hacker?
[16:39:04] <WindowsBunny> No, I'm a bunny
[16:41:38] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[16:42:10] <burntsushi> arrrrrrrrr: well, i guess the thing i'm most concerned about is capturing the output of a panic. it looks like i might still be able to do that with the `Box<Any + Send + 'static>` in the result returned.
[16:42:13] <arrrrrrrrr> not-so-fun fact: PhantomData<T> and PhantomData<Fn() -> T> are quite different
[16:42:27] <arrrrrrrrr> this new variance system is actually much worse in practice
[16:42:34] <arrrrrrrrr> it's much harder to get it to do what you want
[16:42:37] *** Joins: vky (vky@moz-fqci96.ca.comcast.net)
[16:42:40] <arrrrrrrrr> it's overly conservative
[16:43:57] *** Joins: Zoxc (Zoxc@moz-eucr1n.bb.online.no)
[16:45:20] *** Joins: Rym (y@moz-bim.h8b.39.217.IP)
[16:46:59] <Manishearth> That's good
[16:47:01] <Manishearth> this is Rust
[16:47:07] <sfackler> isn't that intentional? PhantomData<T> is going to add an invariant bound on T where PhantomData<Fn() -> T> is going to add a covariant (maybe contravariant?) bound
[16:47:07] <Manishearth> conservative is what we want
[16:47:10] <Manishearth> no footgunning
[16:47:13] <Manishearth> yeah
[16:47:14] *** Joins: ptalbot (ptalbot@moz-1gn7gb.eu0n.jcdj.0660.2001.IP)
[16:47:58] <arrrrrrrrr> sfackler: not for T = &'a U. You'd expect it to be invariant on U.
[16:48:46] <arrrrrrrrr> Manishearth: no, it's shit. nobody would use rust if it didn't have lifetime inference. if you can't get it to simply do safe things then nobody will use it.
[16:48:59] <arrrrrrrrr> s/lifetime inference/type inference/
[16:49:28] <Manishearth> arrrrrrrrr: by the time you're using phantomdata you're trying to tweak how a struct behaves wrt lifetimes in a fine grained manner
[16:49:32] <Manishearth> you want that level of control
[16:49:44] <arrrrrrrrr> Manishearth: the old system gave more and simply control
[16:49:50] <arrrrrrrrr> *simpler
[16:49:52] *** Quits: Rym (y@moz-bim.h8b.39.217.IP) (Ping timeout: 121 seconds)
[16:49:55] <arrrrrrrrr> *sigh* typing is hard
[16:50:09] <Manishearth> That's subjective
[16:50:15] <Manishearth> I found the older system confusing
[16:50:33] <Manishearth> There even was debate if the names of covariant/contravariant lifetimes should be swapped
[16:50:42] <arrrrrrrrr> just read the into of the variance article on wikipedia
[16:50:52] <arrrrrrrrr> *intro
[16:50:59] <Manishearth> arrrrrrrrr: find this system confusing? Read the rfc on it. Same difference
[16:51:04] <arrrrrrrrr> en.wikipedia.org/wiki/Covariance_and_contravariance_%28computer_science%29
[16:51:21] <Manishearth> and again, if the language designers are wondering if the names should be *swapped*, tat
[16:51:34] <Manishearth> *that's a guarantee of confusingness
[16:52:10] <arrrrrrrrr> Manishearth: Tell me: given a struct that represents a mutable slice, SliceMut<'a, T>. what markers do you add?
[16:52:52] <Manishearth> PhantomData<&'a mut [T]>?
[16:53:11] <arrrrrrrrr> nope
[16:53:14] <Manishearth> then?
[16:53:15] <arrrrrrrrr> doesn't even compile
[16:53:17] *** Joins: rustinov (..@moz-55rvi2.dclient.hispeed.ch)
[16:53:30] <arrrrrrrrr> the best solution I've right now is
[16:53:37] <arrrrrrrrr>         _marker1: PhantomData<&'a ()>,
[16:53:40] <arrrrrrrrr>         _marker2: PhantomData<*mut T>,
[16:54:01] <WindowsBunny> wat
[16:54:08] <WindowsBunny> We need a good guide on this stuff
[16:54:28] <Manishearth> arrrrrrrrr: compiles for me
[16:54:38] <Manishearth> arrrrrrrrr: And that sounds more like a bug 
[16:54:48] <Manishearth> yes, we do
[16:55:04] <sfackler> arrrrrrrrr: ? http://is.gd/V1SUje
[16:55:08] <arrrrrrrrr> Manishearth: the system was changed in the latest nightly because there was an unsafety
[16:55:22] <arrrrrrrrr> sfackler: that's not the same. you have an additional 'a bound on T
[16:55:22] <Manishearth> arrrrrrrrr: Can you be more specific?
[16:55:32] <goffrie> arrrrrrrrr: don't you need the : 'a bound anyway
[16:55:37] <arrrrrrrrr> goffrie: no
[16:55:45] <sfackler> arrrrrrrrr: yes, that bound has to exist, otherwise you have a pointer to stuff that doesn't live as long as the pointer
[16:55:55] <Manishearth> arrrrrrrrr: well, yeah, you need that bound
[16:55:57] <sfackler> which is no good
[16:56:04] <arrrrrrrrr> sfackler: wrong.
[16:56:17] <Manishearth> expond?
[16:56:19] <sfackler> ?
[16:56:20] <Manishearth> *expound?
[16:56:43] <Manishearth> arrrrrrrrr: you really need to be more clear/specific on these things. Example of what you're trying to do and why it doesn't work?
[16:56:50] <arrrrrrrrr> sfackler: .as_slice() captures the thing that is being sliced. as long as the slice exists the things in the slice exist because the thing that is being sliced can't be dropped.
[16:57:02] <arrrrrrrrr> that's what the 'a does by itself. no need to add the bound to T
[16:57:42] <sfackler> that's the way the rust worked ~6 months ago
[16:57:51] *** Joins: munksgaard (munksgaard@moz-478pev.u.parknet.dk)
[16:57:51] <arrrrrrrrr> Manishearth: https://github.com/rust-lang/rust/issues/23136
[16:58:13] <sfackler> arrrrrrrrr: directly storing a &'a mut [T] requires the exact same bound: http://is.gd/BCy27Z
[16:58:44] *** Quits: JoNil (JoNil@moz-mhnm7o.cust.bredbandsbolaget.se) (Quit: Leaving)
[16:58:47] <Manishearth> Yeah, what sfackler said
[16:59:04] <arrrrrrrrr> so? then slices have that bound right now. that does not imply that the bound is necessary
[16:59:09] <sfackler> i don't see what this has to do with phantom data
[16:59:19] <eddyb> ugh I knew I forgot to comment on something
[16:59:33] <eddyb> kmc: it's easy to make deriving pluggable
[16:59:59] *** Quits: rustinov (..@moz-55rvi2.dclient.hispeed.ch) (Quit: Verlassend)
[17:00:06] <arrrrrrrrr> the natural representation is in fact &mut T or [T]. which is what you would use with PhantomData. But it doesn't give you what you want: Lifetime invariance on T and covariance on 'a.
[17:00:46] <eddyb> kmc: this comments adds that and moves the decodable/encodable stuff to a separate plugin: https://github.com/eddyb/rust/commit/f58b0c5ad3bbd08cbea4cc07f6f9e2d771abb8fa
[17:00:50] *** Parts: goffrie (uid69670@moz-1c9019.brockwell.irccloud.com) ("")
[17:00:51] <arrrrrrrrr> even with the additional 'a bound on T
[17:00:55] <eddyb> kmc: *this commit
[17:01:45] <Manishearth> eddyb: !!!!!!!!!!!!!!!!!!!!!!!!
[17:01:52] <arrrrrrrrr> anyway, there is no point discussing this. nmatsakis agreed with me that the 'a bound is not necessary.
[17:01:56] <klutzy> eddyb: \o/
[17:01:58] <eddyb> wat
[17:02:05] *** Quits: munksgaard (munksgaard@moz-478pev.u.parknet.dk) (Ping timeout: 121 seconds)
[17:02:07] <eddyb> this is my september-ish work
[17:02:10] <eddyb> that never got merged
[17:02:26] <klutzy> oh, rejected or bitrotten?
[17:02:37] <Manishearth> arrrrrrrrr: sure, it might not be necessary, but that means it's not necessary for `struct Slice<'a, T> {t: &'a mut T}` either
[17:02:48] <Manishearth> arrrrrrrrr: which makes your argument about the T : 'a bound, not phantomdata
[17:03:00] <arrrrrrrrr> that might be so
[17:03:05] <kmc> eddyb: yeah, we discussed that yesterday
[17:03:14] <eddyb> me and you or someone else?
[17:03:20] * eddyb doesn't remember
[17:03:23] <kmc> i think not you
[17:03:48] <kmc> we discussed the possibility of a special plugin mechanism for derive
[17:03:56] <eddyb> I don't like derive_Foo one bit
[17:04:01] *** Joins: fuogocder (Mibbit@moz-juv.9o3.252.72.IP)
[17:04:21] <Manishearth> eddyb: heresy
[17:04:22] <kmc> I think as long as it's based on string names, there's no real point to the special plugin mechanism
[17:04:27] * Manishearth burns eddyb at the stake
[17:04:39] <kmc> it's just extra complexity to make us feel like something is safe / hygienic when it isn't at all really
[17:05:02] <kmc> did you have thoughts on how to handle two traits with the same name provided by different crates?
[17:05:07] <kmc> maybe there is something clever we can do
[17:05:15] <kmc> but it's the same problem as with macro import/export
[17:05:47] <sfackler> I mean, both solutions would have the same shadowing issues
[17:06:11] <sfackler> the derive_Foo just seems more hacky
[17:06:14] *** Quits: eerie (eerie@moz-v3eps5.red.bezeqint.net) (Connection closed)
[17:06:17] <kmc> yeah
[17:06:28] <kmc> I dislike it aesthetically
[17:06:51] <kmc> anyway we can make this change later
[17:07:08] <sfackler> Long term, I think we'd want to path-namespace stuff being imported
[17:07:19] <sfackler> so you'd do #[derive(foo::Rand, bar::Rand)] or whatever
[17:07:23] <kmc> yeah
[17:07:43] <kmc> are those per-crate names or full paths?
[17:07:50] <kmc> we are limited in what we can do before resolve runs
[17:07:54] <sfackler> yeah
[17:07:55] <eddyb> we can do resolution at expansion time
[17:08:01] <sfackler> I was initially thinking just crate names
[17:08:03] <eddyb> me and nmatsakis have thought about it
[17:08:16] <eddyb> it could have been done before 1.0
[17:08:22] <eddyb> if people were working on it...
[17:08:32] <kmc> eddyb: i'm getting really sick of this, honestly
[17:08:39] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[17:08:47] <kmc> if you won't do the work or help someone else do the work then shut up about it already
[17:08:49] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[17:08:51] <kmc> it's just a continuous drain on my morale
[17:09:11] <kmc> to have you telling me everything I'm doing is useless
[17:09:14] <eddyb> kmc: I'm mostly punishing myself for wasting last summer with a stupid job
[17:09:15] <kmc> because you have these omg awesome solutions to everything
[17:09:18] <kmc> that never materialize
[17:09:48] <sfackler> eddyb: yes, with infinite resourcing we can do an infinite amount of feature work
[17:10:10] <eddyb> I had moved plugins out of libsyntax
[17:10:24] <eddyb> by mid-november
[17:10:40] <kmc> eddyb: please find a way to "punish yourself" that does not also drain my morale
[17:10:43] <kmc> thank you
[17:11:16] <sfackler> any way, adjusting attribute syntax to deal with paths instead of idents should be easy
[17:11:29] <sfackler> and just crate namespacing seems totally fine
[17:11:35] <kmc> sfackler: I think this problem is basically the same one as macro import/export
[17:11:38] <kmc> where we also have crate namespacing
[17:11:45] <kmc> we should probably design an integrated system
[17:11:49] <sfackler> yeah
[17:11:55] <kmc> i'm not stabilizing #[derive_Foo] though
[17:12:02] <kmc> we can land that and then transition to the other thing
[17:12:08] <sfackler> we'd probably want to enable my_crate::my_macro!() at the same time
[17:12:18] <sfackler> yeah, works for me
[17:12:28] <kmc> if we stick with #[derive_Foo] then we only need to extend macro import to handle all syntax extensions
[17:12:33] <kmc> but we don't need a special thing for deriving
[17:12:35] <kmc> shrug
[17:12:37] <eddyb> kmc: it's more work to implement derive_Foo than allowing plugins to add to deriving, that's one of the reasons I mentioned in the first place
[17:12:43] <eddyb> well, actually, you've just made a point
[17:12:49] <eddyb> that I agree with
[17:12:57] <kmc> eddyb: no, it's about 10 lines of code to implement it, but I did a bunch of cleanup at the same time
[17:13:24] <eddyb> kmc: hmm, maybe I was looking at some of the cleanup and thought it was fallout, my bad
[17:13:24] <sfackler> all it is is an itemmodifier that tacks on a bunch of attributes
[17:13:39] <eddyb> kmc: I have an idea :D
[17:13:49] <kmc> eddyb: anyway, even if it is more code
[17:13:53] <kmc> it's less new special mechanisms
[17:13:57] <eddyb> kmc: what if it's not _ but something which can't be part of an identifier
[17:13:57] <kmc> which seems good
[17:14:00] <eddyb> then I'm totally fine
[17:14:21] <kmc> i don't care
[17:14:49] <eddyb> libsyntax can generate it, plugins can register it, it won't ever be pretty-printed (at least not AFAICT)
[17:14:53] <kmc> you're being a jerk about all of this so I don't really care about your aesthetic complaint
[17:15:13] <kmc> if nmatsakis or sfackler wants to push for that change I will hear them out
[17:15:16] <eddyb> it's not aesthetic, it's making it more special than a regular attribute
[17:15:29] <kmc> you also flipped out about one of my previous patches
[17:15:30] <kmc> repeatedly
[17:15:35] <eddyb> which one?
[17:15:36] <kmc> because you didn't read my explanations
[17:15:38] <kmc> MacEager
[17:16:01] <kmc> sfackler: I'm not sure about my_crate::my_macro!(), we'd have to see if it interferes with parsing
[17:16:07] <eddyb> I'm not sure I understand that yet, I have to look at it again
[17:16:27] *** Joins: goffrie (uid69670@moz-1c9019.brockwell.irccloud.com)
[17:17:10] <eddyb> kmc: either I'll somehow solve all my problems and you won't hear anything like this from me ever again... or I'll end up like strcat
[17:17:28] <kmc> i don't think what you're doing is at all like what he does
[17:17:29] *** Quits: zmack (zmack@moz-4b0.o8l.26.188.IP) (Connection closed)
[17:17:44] <eddyb> yeah, I don't have most of his knowledge or skills
[17:17:45] <sfackler> kmc: hmm, yeah, that's true - awkward
[17:17:59] <sfackler> :rolleyes:
[17:18:45] *** Parts: goffrie (uid69670@moz-1c9019.brockwell.irccloud.com) ("")
[17:19:29] <eddyb> ugh, I almost forgot to send this: sfackler: anyone who doesn't take a fucking month to tweak the snapshot size only to find out it doesn't matter would have got that patch finished by mid-October... except those changes take at most days to make so, really, we could have had no builtin syntax extensions 3 months before alpha1
[17:19:54] *** Parts: kmc (keegan@moz-gjgn5n.compute.amazonaws.com) ()
[17:19:57] <Manishearth> :/
[17:20:02] <sfackler> uh okay
[17:20:08] <sfackler> eddyb: so what
[17:20:28] <sfackler> there exist things you will not have enough time to do
[17:20:47] <sfackler> it is not a useful exercise to self-flagilate over them
[17:20:55] <sfackler> especially not in a public forum
[17:22:31] <sfackler> i don't see why it would matter where builtin syntax extensions live
[17:22:43] <sfackler> other than faster rebuilds when tweaking them
[17:23:08] *** Quits: Slide (slide@moz-qip.011.149.49.IP) (Ping timeout: 121 seconds)
[17:23:17] *** Joins: Slide (slide@moz-qip.011.149.49.IP)
[17:24:44] *** Quits: fuogocder (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[17:25:46] <eddyb> sfackler: by faster you mean "not requiring a snapshot"?
[17:25:58] <eddyb> you can't use quasi-quoting right now and change the AST
[17:26:18] <arrrrrrrrr> the problem seems to be that PhantomData<Fn() -> &'a T> does not imply that it's covariant over 'a and T.
[17:26:25] <eddyb> sometimes you can re-export symbols if you're just renaming
[17:26:39] <eddyb> arrrrrrrrr: lifetime variance is opposite to types, so why would you want that?
[17:27:22] <arrrrrrrrr> you are correct
[17:28:10] <arrrrrrrrr> what I mean is that it does not imply that both 'a and the lifetime of T can be shortened
[17:28:46] <eddyb> does PhantomData<Fn() -> &'a T> behave differently from PhantomData<&'a T>?
[17:28:48] *** Quits: vky (vky@moz-fqci96.ca.comcast.net) (Ping timeout: 121 seconds)
[17:28:56] <arrrrrrrrr> yes, &'a T is even worse
[17:29:03] <arrrrrrrrr> &'a T requires that T: 'a
[17:29:07] <Manishearth> Share this: https://careers.mozilla.org/en-US/position/oymA0fwe
[17:29:12] <Manishearth> we need an ops person
[17:29:27] <arrrrrrrrr> this requirement is there for good reason
[17:29:29] <eddyb> arrrrrrrrr: and the Fn thing doesn't?
[17:29:32] <eddyb> o_O
[17:29:37] <eddyb> wait
[17:29:38] <arrrrrrrrr> eddyb: no, let me explain
[17:29:42] <eddyb> arrrrrrrrr: fn or Fn?
[17:30:01] <Manishearth> fun
[17:30:09] *** Joins: swgillespie (swgillespie@moz-385.tcg.127.174.IP)
[17:30:22] <arrrrrrrrr> eddyb: the one with &'a T is like having a public field of type &'a T. the one with Fn() -> &'a T is like having an access method to that field. in the first case the field can be modified
[17:31:57] <arrrrrrrrr> anyway, Fn() -> &'a T still does not work. so I have to write https://gist.github.com/anonymous/e47c490fc7faa890c404
[17:32:51] *** Joins: Rym (y@moz-bim.h8b.39.217.IP)
[17:35:24] *** Joins: zmack (zmack@moz-4b0.o8l.26.188.IP)
[17:35:46] <arrrrrrrrr> https://gist.github.com/anonymous/22ad4d5c3e212f20edef
[17:35:50] <arrrrrrrrr> for some reason this does not work
[17:35:56] <arrrrrrrrr> oops, wrong gist
[17:35:59] <arrrrrrrrr> one second
[17:36:05] <arrrrrrrrr> https://gist.github.com/anonymous/7d10c4a679f093637999
[17:36:10] <arrrrrrrrr> for some reason this does not work
[17:36:16] <arrrrrrrrr> but when you remove the // it does
[17:36:37] <arrrrrrrrr> ohh, of course
[17:36:40] <arrrrrrrrr> my bad
[17:36:45] <eddyb> arrrrrrrrr: is it fn or Fn?
[17:36:51] <eddyb> they are not identical
[17:36:51] <arrrrrrrrr> eddyb: it's Fn
[17:37:24] <frewsxcv> bors is taking a nap today :)
[17:37:33] <eddyb> maybe you're forgetting about the 'a in Trait+'a?
[17:37:34] <Manishearth> I should too
[17:38:05] <sfackler> eddyb: what I mean is that it provides some nice quality of life improvements for the ~30 people that touch syntax::ext. It's a cool idea and we should do it sometime. I am not shedding tears that it didn't make it into alpha 1.
[17:38:28] <eddyb> sfackler: no, it's not that
[17:38:43] <eddyb> sfackler: it allows us to modify syntax extensions - period
[17:38:59] <eddyb> and test them, too
[17:39:19] <eddyb> sfackler: right now almost all modifications require a snapshot
[17:39:25] <arrrrrrrrr> eddyb: uhh, fn is much better
[17:40:18] <eddyb> with that model, you can rework quasi-quoting entirely, use it in the compiler and test it, without even touching stage2
[17:40:28] <sfackler> right
[17:41:11] <sfackler> and that'll be pretty sweet for the few dozen people in the world that do that kind of thing
[17:41:15] <eddyb> I had hoped to finish that part and move on to make everythign use quasi-quoting, but I never got there
[17:41:29] <arrrrrrrrr> I tried some lifetimes but it didn't work. I blame nmatsakis for only using Fn in the RFC. ¯\_(ツ)_/¯
[17:41:37] <eddyb> sfackler: well, it would allow us to make syntax extensions much nicer to work with
[17:41:43] <eddyb> arrrrrrrrr: Fn sounds like a type
[17:41:46] <eddyb> *typo
[17:41:55] <arrrrrrrrr> ugh
[17:41:59] <eddyb> arrrrrrrrr: since he also had PhantomFn, I believe
[17:42:08] <arrrrrrrrr> maybe
[17:43:27] *** Quits: barosl (barosl@moz-7vg.qma.67.220.IP) (Quit: Leaving)
[17:43:42] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[17:43:48] <eddyb> sfackler: I did make some progress though, e.g. you can implement a slightly inefficient format! - limited to {} - in 10-15 lines of code, with just macro_rules, and that's needed for bootstrapping libformat_macros
[17:44:25] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[17:45:08] *** Joins: Stebalien (Stebalien@moz-gpa.4d0.247.50.IP)
[17:45:23] <eddyb> sfackler: and I've started rebasing my old patches - but it's not blocking anything atm. also, now that resolve is getting simpler, I'm tempted to experiment with partially fusing it to expansion
[17:45:44] *** Quits: zmack (zmack@moz-4b0.o8l.26.188.IP) (Connection closed)
[17:46:09] *** Joins: barosl (barosl@moz-7vg.qma.67.220.IP)
[17:46:18] *** Quits: swgillespie (swgillespie@moz-385.tcg.127.174.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[17:46:41] <eddyb> sfackler: I think removing every pass in between would help - not sure if it's good material for E-an-intereresting-project
[17:48:50] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[17:49:40] <arrrrrrrrr> how do I create the format of git-diff with diff?
[17:52:10] <eddyb> arrrrrrrrr: depending on what you want, the answer is likely "you can't"
[17:52:30] <eddyb> git-diff does a lot more things than diff
[17:52:47] <benh> adding -u probably is a step in the right direction tho
[17:52:54] <eddyb> right
[17:53:16] <eddyb> benh: but you get no rename/copy detection
[17:55:06] <arrrrrrrrr> -u looks good
[17:57:44] *** Joins: japaric (japaric@moz-co5.gvr.230.201.IP)
[17:58:23] *** Joins: goffrie (uid69670@moz-1c9019.brockwell.irccloud.com)
[18:00:31] *** Quits: japaric_ (japaric@moz-md8.d08.42.190.IP) (Ping timeout: 121 seconds)
[18:00:35] *** Quits: shachaf (shachaf@moz-evr8ss.members.linode.com) (Connection closed)
[18:01:24] *** Quits: Stebalien (Stebalien@moz-gpa.4d0.247.50.IP) (Connection closed)
[18:01:59] *** Joins: Stebalien (Stebalien@moz-gpa.4d0.247.50.IP)
[18:03:48] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[18:04:59] *** Joins: zmack (zmack@moz-4b0.o8l.26.188.IP)
[18:06:54] *** Joins: mystor (mystor@moz-ldavpp.home3.cgocable.net)
[18:06:54] *** Quits: mystor (mystor@moz-ldavpp.home3.cgocable.net) (Connection closed)
[18:07:00] *** Joins: mystor (mystor@moz-ldavpp.home3.cgocable.net)
[18:09:01] *** Quits: zmack (zmack@moz-4b0.o8l.26.188.IP) (Ping timeout: 121 seconds)
[18:12:36] <arrrrrrrrr> println!("{:.0}", 9.9);
[18:12:45] <arrrrrrrrr> rusti: println!("{:.0}", 9.9);
[18:12:46] -playbot- output truncated; full output at: http://bit.ly/1BYcyxv
[18:12:56] <arrrrrrrrr> lol
[18:13:18] <arrrrrrrrr> https://github.com/rust-lang/rust/issues/23152#issue-60217052
[18:13:21] <arrrrrrrrr> asking the hard questions
[18:14:34] <arrrrrrrrr>  
[18:14:39] <arrrrrrrrr> re: variance
[18:15:07] <arrrrrrrrr> imho *mut T and *const T should be opaque. that is, if T is only used through a raw pointer, then the code will not compile
[18:15:22] <arrrrrrrrr> you have to explicitly write the variance you want for T down
[18:15:37] <arrrrrrrrr> right now you have to use *const T everywhere because *mut T will force invariance
[18:22:59] *** Joins: xilec (Mibbit@moz-g6k.oht.161.46.IP)
[18:26:04] <arrrrrrrrr> eddyb: are you saying the existence of &'a T implies T: 'a ?
[18:26:30] <eddyb> arrrrrrrrr: what else would?
[18:26:39] <arrrrrrrrr> just making sure
[18:26:53] <eddyb> arrrrrrrrr: it used to imply that and bubble up, before you had to ever write 'b:'a
[18:27:05] <eddyb> s/had to ever/ever had to/
[18:27:19] <arrrrrrrrr> "used to"?
[18:27:31] <eddyb> well, it wasn't amazing
[18:27:37] <eddyb> it screwed up generics
[18:27:54] <arrrrrrrrr> but it still implies the T: 'a part?
[18:28:00] <eddyb> but the new system could be more implicit without any issues (that I'm aware of)
[18:28:10] <eddyb> arrrrrrrrr: it's not implied, you have to write the bound now
[18:28:16] <eddyb> i.e. it requires, not implies
[18:28:19] <arrrrrrrrr> aha
[18:28:39] <eddyb> so if you have a fn() -> &'a T field in a structure
[18:28:48] <eddyb> that doesn't require a T: 'a bound?
[18:29:08] <arrrrrrrrr> that question requires some deep meditation
[18:29:18] <eddyb> can you write fn() -> &'static &'a ()?
[18:29:27] <eddyb> because that's... broken
[18:29:43] <eddyb> I mean, I doubt it would do any harm, but I'm not sure why we ever need these bounds in the first place
[18:29:52] <eddyb> arrrrrrrrr: oh, this might break trait objects
[18:30:15] <eddyb> if something doesn't require T: 'a, you might be able to put it in a Trait+'static
[18:30:26] <kimundi> fn() -> &'static &'a () seems weird but valid
[18:30:37] <eddyb> kimundi: how so?
[18:31:03] <eddyb> kimundi: you can't have the pointee be shorter-lived than the pointer
[18:31:06] *** Joins: rovar (rovar@moz-m2j7h0.dyn.optonline.net)
[18:31:23] <eddyb> if it is, that means there are regions of time you can access the pointer in and do use-after-free
[18:31:28] <goffrie> I guess it would be an empty type
[18:31:41] <eddyb> playbot: struct Foo<'a> { f: fn() -> &'static &'a () }
[18:31:42] -playbot- ()
[18:31:49] <eddyb> playbot: struct Foo<'a> { x: &'static &'a () }
[18:31:50] -playbot- <anon>:14:9: 14:46 error: in type `&'static &'a ()`, reference has a longer lifetime than the data it references
[18:31:50] -playbot- <anon>:14         struct Foo<'a> { x: &'static &'a () }
[18:31:50] -playbot- output truncated; full output at: http://bit.ly/1A0ImuB
[18:31:53] <eddyb> oh dear
[18:31:53] <arrrrrrrrr> https://gist.github.com/anonymous/2f1fde5875f023737565
[18:31:56] <arrrrrrrrr> ^ compiles
[18:32:00] <kimundi> eddyb: it could either return a &'static &'static () which would also fulfill &'static &'a, or it could point at some static memory buffer that holds a reference that is only valid for 'a
[18:32:10] <goffrie> hm, oh yeah, nontermination is a thing
[18:32:35] <arrrrrrrrr> eddyb: that explains why the fn() version is superior ;)
[18:33:22] <eddyb> goffrie: nontermination is one of the ways to create types with no values in safe code, yes
[18:33:31] <eddyb> the only way, I guess
[18:33:42] <kimundi> enum Foo {} ?
[18:33:48] *** Quits: sfackler (sfackler@moz-ko8uu1.com) (Quit: ZNC - http://znc.in)
[18:33:57] *** Joins: sfackler (sfackler@moz-ko8uu1.com)
[18:33:58] <eddyb> goffrie: except it might not be safe if UB is invoked in unreachable code, but I'm not sure on the rules
[18:34:01] <eddyb> kimundi: yeah
[18:34:43] <eddyb> arrrrrrrrr: wait, so you can write the function
[18:34:46] <kimundi> eddyb: "yeah, that too", or "yeah, that's what I mean with nontermination"
[18:34:50] <kimundi> ?
[18:34:55] *** Quits: bytbox (s@moz-doic5m.fios.verizon.net) (Connection closed)
[18:35:05] <eddyb> kimundi: "yeah, that's a type with no values"
[18:35:50] <kimundi> playbot: fn foo() -> &'static &'a () { static FOO: &'static () = &(); &FOO } foo()
[18:35:51] -playbot- <anon>:14:31: 14:33 error: use of undeclared lifetime name `'a` [E0261]
[18:35:51] -playbot- <anon>:14         fn foo() -> &'static &'a () { static FOO: &'static () = &(); &FOO } foo()
[18:35:51] -playbot- output truncated; full output at: http://bit.ly/1BYeeat
[18:35:59] <kimundi> playbot: fn foo<'a>() -> &'static &'a () { static FOO: &'static () = &(); &FOO } foo()
[18:36:00] -playbot- ()
[18:36:17] <goffrie> hm, that's interesting
[18:36:34] <arrrrrrrrr> kimundi: nice
[18:36:35] <eddyb> arrrrrrrrr: ugh, yeah, I had forgotten these variance bounds are somewhat artificial
[18:36:40] <goffrie> I didn't expect that at all
[18:36:51] <eddyb> arrrrrrrrr: you can't ever create a &'a T where T: 'a is not held
[18:36:57] <kimundi> playbot: fn foo<'a>() -> &'static &'a () { static FOO: &'static &'static () = &&(); FOO } foo()
[18:36:58] -playbot- ()
[18:37:00] <kimundi> heh
[18:37:11] <eddyb> arrrrrrrrr: I think I forgot what it's guarding against
[18:37:17] <eddyb> (possibly nothing)
[18:37:22] <kimundi> I guess with the switch enabled on eddyb's patch, that could turn into `return &&()`
[18:37:46] <eddyb> kimundi: okay, yeah, I undestand fn foo<'a>() -> &'a T {...} returning a &'static T
[18:38:15] <eddyb> kimundi: but we didn't start there...
[18:38:36] <eddyb> wait, nvm, it would still be valid
[18:38:37] <kimundi> eddyb: Didn't doubt it, just had fun writing weird code and see if it compiles ;)
[18:38:56] <eddyb> what if something else is invariant over 'a?
[18:38:56] *** Joins: vky (vky@moz-fqci96.ca.comcast.net)
[18:39:02] <arrrrrrrrr> eddyb: how did you fuck up the link https://github.com/rust-lang/rust/issues/23152#issuecomment-77702387
[18:39:22] <eddyb> arrrrrrrrr: wait, how did I?!
[18:39:31] <eddyb> hahahaha
[18:39:32] <arrrrrrrrr> obviously [...](...)
[18:39:36] <kimundi> lol
[18:39:59] <eddyb> arrrrrrrrr: there we go, thanks!
[18:40:01] *** Joins: japaric_ (japaric@moz-2fj.4md.232.190.IP)
[18:40:55] <eddyb> what's up with mobile layouts and no search bars
[18:41:15] <eddyb> at least rustdoc is not that bad - instead, it doesn't let me see the [+][-][src] buttons
[18:41:23] <eddyb> worst part? I get it on my laptop
[18:41:28] *** Quits: sfackler (sfackler@moz-ko8uu1.com) (Quit: ZNC - http://znc.in)
[18:41:32] <arrrrrrrrr> just use my superior css
[18:41:53] *** Joins: kushal (kdas@moz-3tt6sl.202.sitibroadband.in)
[18:42:01] <arrrrrrrrr> http://a.pomf.se/acivkd.png
[18:42:08] *** Joins: sfackler (sfackler@moz-ko8uu1.com)
[18:42:50] *** Quits: japaric (japaric@moz-co5.gvr.230.201.IP) (Ping timeout: 121 seconds)
[18:42:51] *** Quits: sigma (sigma@moz-ohog4c.range86-135.btcentralplus.com) (Ping timeout: 121 seconds)
[18:44:26] <arrrrrrrrr> is there any kind of structure where the signature struct X<'a, T: 'a> is necessary?
[18:44:50] <arrrrrrrrr> X is bound by the minimum of 'a and the lifetime of T. there is no purpose saying that the minimum is 'a
[18:47:36] *** Joins: violaceae (violaceae@moz-s3vd4e.u4is.n1v0.0007.2601.IP)
[18:48:26] *** Quits: Skyler (Skyler@moz-e93b35.sd.cox.net) (Connection closed)
[18:50:57] *** Joins: pcwalton (pcwalton@moz-u92.384.6.71.IP)
[18:50:57] *** ChanServ sets mode: +o pcwalton
[18:52:13] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[18:54:00] *** Quits: Stebalien (Stebalien@moz-gpa.4d0.247.50.IP) (Ping timeout: 121 seconds)
[18:54:31] <arrrrrrrrr> how do I write the minimum of two lifetimes?
[18:54:48] <arrrrrrrrr> no, wait
[18:54:55] <arrrrrrrrr> ugh, the maximum I guess
[18:56:03] *** Joins: Stebalien (Stebalien@moz-t2r8lu.mit.edu)
[18:56:13] <kimundi> hm, maximum... good question
[18:56:18] <arrrrrrrrr> 'a+'b?
[18:57:00] <kimundi> afaik thats the same as the minimum
[18:57:11] <kimundi> or rather, the biggest contained in both
[18:57:47] <kimundi> do you mean maximum as in "one can be valid while the other is invalid"?
[18:58:11] <arrrrrrrrr> 'c: 'a+'b => 'c: 'a && 'c: 'b
[18:58:14] *** Joins: joneshf-laptop (joneshf@moz-l4h.b5s.208.98.IP)
[18:58:56] <cmr> that would make 'c the greatest lower bound, wouldn't it?
[18:59:07] <kimundi> I think so
[18:59:13] <arrrrrrrrr> but 'c: 'a means 'c >= 'a, no?
[18:59:23] <arrrrrrrrr> so 'static: 'a for all 'a
[18:59:43] <kimundi> hmmm
[19:00:58] * kimundi always gets confused about the direction there
[19:01:01] <arrrrrrrrr> eddyb: I think the code does not work if we have to write T: 'a.
[19:01:26] <eddyb> arrrrrrrrr: which means it's likely wrong
[19:01:37] <eddyb> being unsafe code and whatnot
[19:01:44] <arrrrrrrrr> eddyb: you cannot write these functions: https://gist.github.com/anonymous/16c2b0d525ac678b6238
[19:01:54] <arrrrrrrrr> oh, it's safe. you just can't write it down
[19:02:08] *** Quits: Rym (y@moz-bim.h8b.39.217.IP) (Ping timeout: 121 seconds)
[19:02:09] <eddyb> arrrrrrrrr: can't you use tuple indexing?
[19:02:21] <arrrrrrrrr> because you can't add a lifetime to the arguments. because there are no lifetimes in the AddAssign trait signature
[19:02:34] <eddyb> arrrrrrrrr: can you come up with something simpler?
[19:02:45] <arrrrrrrrr> I'll try
[19:03:02] <eddyb> also, what happens if you use tuple indexing?
[19:03:08] <eddyb> instead of let patterns
[19:04:11] *** Quits: Stebalien (Stebalien@moz-t2r8lu.mit.edu) (Connection closed)
[19:04:19] *** Joins: bfops (uid58242@moz-e5u6m0.charlton.irccloud.com)
[19:04:23] <arrrrrrrrr> an uncountable number of errors
[19:04:26] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Connection closed)
[19:04:36] <arrrrrrrrr> axpy(lhs, &rhs.0, ((rhs.1).0).0)
[19:06:17] *** Joins: Stebalien (Stebalien@moz-gpa.4d0.247.50.IP)
[19:06:34] *** Joins: zmack (zmack@moz-4b0.o8l.26.188.IP)
[19:07:54] <arrrrrrrrr> ohh, I managed to write it
[19:08:01] <arrrrrrrrr> looks like a compiler bug
[19:08:36] <arrrrrrrrr> https://gist.github.com/anonymous/ff1ee56f54c7255f4688
[19:08:40] <arrrrrrrrr> https://gist.github.com/anonymous/33f46580596903a73ce0
[19:08:43] <arrrrrrrrr> see the difference?
[19:08:53] *** Joins: eerie (eerie@moz-v3eps5.red.bezeqint.net)
[19:10:36] *** Quits: zmack (zmack@moz-4b0.o8l.26.188.IP) (Ping timeout: 121 seconds)
[19:15:10] *** Quits: mceier (mceier@moz-fm89sb.dynamic.chello.pl) (Quit: leaving)
[19:15:39] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[19:15:57] *** Joins: sigma (sigma@moz-ohog4c.range86-135.btcentralplus.com)
[19:19:12] <imperio> just to be sure, I get the first case of a Vec<String like this : v[0]. Right ?
[19:19:24] <imperio> rusti
[19:20:37] <imperio> playbot-mini: let mut v : Vec<String> = Vec::new(); v.push(String::from_str("test"); let t = v[0];
[19:20:37] -playbot-mini- <anon>:1:45: 1:46 help: did you mean to close this delimiter?
[19:20:38] -playbot-mini- <anon>:1 let mut v : Vec<String> = Vec::new(); v.push(String::from_str("test"); let t = v[0];
[19:20:38] -playbot-mini- output truncated; full output at: http://bit.ly/1A0TEPl
[19:20:50] <arrrrrrrrr> mymy
[19:20:52] <imperio> playbot-mini: let mut v : Vec<String> = Vec::new(); v.push(String::from_str("test")); let t = v[0];
[19:20:53] -playbot-mini- <anon>:1:1: 1:4 error: expected item, found `let`
[19:20:53] -playbot-mini- <anon>:1 let mut v : Vec<String> = Vec::new(); v.push(String::from_str("test")); let t = v[0];
[19:20:53] -playbot-mini- output truncated; full output at: http://bit.ly/1BYh8Ml
[19:21:02] <arrrrrrrrr> rusti: vec!("hurr".to_string())[0]
[19:21:03] -playbot- <anon>:14:9: 14:36 error: cannot move out of indexed content
[19:21:03] -playbot- <anon>:14         vec!("hurr".to_string())[0]
[19:21:03] -playbot- output truncated; full output at: http://bit.ly/1A0TJT7
[19:21:11] <arrrrrrrrr> rusti: vec!("hurr".to_string())[0].to_string()
[19:21:13] -playbot- "hurr"
[19:21:14] <arrrrrrrrr> ^
[19:21:20] <eddyb> arrrrrrrrr: compiler bug? NOPE
[19:21:26] <eddyb> feature :P
[19:21:30] <arrrrrrrrr> feature!
[19:21:42] <eddyb> arrrrrrrrr: Tobba hit something similar some time ago, now I see it
[19:21:46] <imperio> thx arrrrrrrrr 
[19:22:06] <eddyb> arrrrrrrrr: you can have anonymous lifetimes in your function arguments
[19:22:26] <arrrrrrrrr> eddyb: yo but the type of the argument is already fully determined by the trait, including the 'a
[19:22:30] <eddyb> arrrrrrrrr: as long as there aren't multiple uses of the same lifetime
[19:22:38] <imperio> rusti: let v = vec!("test".to_string()); let t = v[0]; println!("{}", t);
[19:22:39] -playbot- <anon>:14:51: 14:55 error: cannot move out of indexed content
[19:22:39] -playbot- <anon>:14         let v = vec!("test".to_string()); let t = v[0]; println!("{}", t);
[19:22:39] -playbot- output truncated; full output at: http://bit.ly/1BYhen9
[19:22:39] <eddyb> arrrrrrrrr: nope, it's not 'a, it's anonymous
[19:22:52] <imperio> it's really weird
[19:23:05] *** Quits: sfackler (sfackler@moz-ko8uu1.com) (Quit: ZNC - http://znc.in)
[19:23:13] <eddyb> arrrrrrrrr: the implementation is valid for all the possible uses of the trait
[19:23:18] <imperio> why can't I get a case from a pointer ?
[19:23:22] <eddyb> arrrrrrrrr: *and possibly others as well*
[19:23:29] <eddyb> but maybe not anymore
[19:23:45] *** Joins: sfackler (sfackler@moz-ko8uu1.com)
[19:24:03] *** Quits: sigma (sigma@moz-ohog4c.range86-135.btcentralplus.com) (Ping timeout: 121 seconds)
[19:24:24] <eddyb> arrrrrrrrr: so you have T: 'a but the anonymous lifetime could be anything
[19:24:36] <eddyb> arrrrrrrrr: so T: 'anon might not be... hang on
[19:24:54] *** Quits: Zoxc (Zoxc@moz-eucr1n.bb.online.no) (Ping timeout: 121 seconds)
[19:24:56] <imperio> rusti: let v = vec!("test".to_string()); let t = &v[0]; println!("{}", t);
[19:24:58] -playbot- test
[19:24:58] -playbot- ()
[19:25:07] <arrrrrrrrr> eddyb: well, T: 'anon is already in the definition of Row
[19:25:12] <imperio> rusti: let v = vec!("test".to_string()); let t = (&v)[0]; println!("{}", t);
[19:25:13] <eddyb> arrrrrrrrr: no
[19:25:13] -playbot- <anon>:14:51: 14:58 error: cannot move out of indexed content
[19:25:13] -playbot- <anon>:14         let v = vec!("test".to_string()); let t = (&v)[0]; println!("{}", t);
[19:25:13] -playbot- output truncated; full output at: http://bit.ly/1A0UEDa
[19:25:17] <eddyb> arrrrrrrrr: 'anon != 'a
[19:25:37] <eddyb> aaah
[19:26:03] *** Quits: sfackler (sfackler@moz-ko8uu1.com) (Quit: ZNC - http://znc.in)
[19:26:13] *** Joins: sfackler (sfackler@moz-ko8uu1.com)
[19:26:36] <arrrrrrrrr> we've pretty much gone full circle. the first post in the issue already talked about that the lack of T: 'anon knowledge is a regression
[19:26:50] <eddyb> lol
[19:27:18] <eddyb> arrrrrrrrr: it has to either be required in all the cases, or bubble up in all the cases
[19:27:35] *** Joins: Zoxc (Zoxc@moz-eucr1n.bb.online.no)
[19:27:36] *** Joins: mceier (mceier@moz-fm89sb.dynamic.chello.pl)
[19:27:41] <eddyb> I guess that can be considered a bug
[19:28:05] <arrrrrrrrr> still like the version without T: 'a better.
[19:28:11] *** Quits: larsberg (sid16141@moz-fnneme.uxbridge.irccloud.com) (Quit: )
[19:30:19] *** Quits: eerie (eerie@moz-v3eps5.red.bezeqint.net) (Connection closed)
[19:30:34] <imperio> panic!("err: {?}"); -> isn't it supposed to fail ?
[19:31:41] <kimundi> imperio: hm?
[19:32:20] <imperio> the fact I don't give argument to panic! whereas I need to ("{?}" in it)
[19:32:44] <arrrrrrrrr> rusti: panic!("err: {:?}");
[19:32:46] -playbot- thread '<main>' panicked at 'err: {:?}', <anon>:14
[19:32:46] -playbot- playpen: application terminated with error code 101
[19:32:56] <arrrrrrrrr> rusti: panic!("err: {}");
[19:32:57] -playbot- thread '<main>' panicked at 'err: {}', <anon>:14
[19:32:58] -playbot- playpen: application terminated with error code 101
[19:33:12] <arrrrrrrrr> anyway, there is an issue open
[19:33:15] <imperio> that's not supposed to compile, right ?
[19:33:18] <imperio> oh ok
[19:33:20] <imperio> perfect
[19:33:24] <imperio> I was about to do it
[19:34:05] *** Quits: Zoxc (Zoxc@moz-eucr1n.bb.online.no) (Ping timeout: 121 seconds)
[19:34:11] *** Joins: chc4 (chc4@moz-7p9ofs.nh.comcast.net)
[19:34:39] *** Quits: chc4 (chc4@moz-7p9ofs.nh.comcast.net) (Quit: AHHHHH BEES)
[19:37:52] *** Joins: jdm (jdm@moz-ilbt2e.cable.teksavvy.com)
[19:40:28] *** Quits: violaceae (violaceae@moz-s3vd4e.u4is.n1v0.0007.2601.IP) (Quit: Leaving)
[19:40:34] *** Joins: sigma (sigma@moz-nhu.oda.211.95.IP)
[19:40:46] <eddyb> imperio: well, it uses the form that lets you pass in anything
[19:40:47] <arrrrrrrrr> ugh god damn hell
[19:40:48] *** Quits: vky (vky@moz-fqci96.ca.comcast.net) (Ping timeout: 121 seconds)
[19:40:57] <arrrrrrrrr>    Compiling comm v0.0.1 (file:///home/julian/rust/comm)
[19:41:00] <arrrrrrrrr> /home/rustbuild/src/rust-buildbot/slave/nightly-dist-rustc-linux/build/src/libstd/sync/mutex.rs:177:37: 180:2 error: internal compiler error: debuginfo:
[19:41:01] <eddyb> there's no way to tell if it's a string literal or not, right now
[19:41:02] *** Joins: pjenvey (pjenvey@moz-ph7jic.org)
[19:41:17] <arrrrrrrrr> this is getting worse with every release
[19:41:24] <eddyb> imperio: panic!(foo) works for any type - literally, it packages an Any
[19:41:26] <arrrrrrrrr> some days ago it only failed with cargo test
[19:41:31] <arrrrrrrrr> now it also fails with cargo build
[19:41:47] <imperio> eddyb: yep, but nothing is considered a type ?
[19:42:17] <eddyb> imperio: nono, no formatting
[19:42:28] <eddyb> imperio: not panic!("{:?}", foo), but panic!(foo)
[19:42:33] <imperio> oh ok
[19:42:34] *** Quits: sfackler (sfackler@moz-ko8uu1.com) (Quit: ZNC - http://znc.in)
[19:42:46] *** Joins: jaspercvd (Mibbit@moz-juv.9o3.252.72.IP)
[19:43:25] *** Joins: sfackler (sfackler@moz-ko8uu1.com)
[19:44:46] *** Joins: chc4 (chc4@moz-7p9ofs.nh.comcast.net)
[19:45:17] <imperio> there is no equivalent for inotify ?
[19:45:27] <imperio> hum... not convienient
[19:45:40] <cmr> imperio: https://github.com/hannobraun/inotify-rs
[19:45:44] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Client exited)
[19:46:03] <imperio> cmr: oh nice ! Thanks !
[19:46:18] <eddyb> there should be at least two inotify crates around - or I'm mistaking the other one for something it is not
[19:46:59] <imperio> eddyb: cmr: I was actually thinking that rustc would provide it. Seems weird not to, no ?
[19:47:03] *** Quits: chc4 (chc4@moz-7p9ofs.nh.comcast.net) (Quit: AHHHHH BEES)
[19:48:32] *** Joins: chc4 (chc4@moz-7p9ofs.nh.comcast.net)
[19:48:36] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[19:49:37] <eddyb> would provide what?
[19:49:43] <eddyb> rustc is a compiler
[19:50:07] <imperio> the std lib I was thinking about
[19:50:09] *** Joins: ctennis (ctennis@moz-vcpg3c.in.comcast.net)
[19:50:14] <imperio> it gets confusing at the end of the day
[19:50:51] <eddyb> imperio: hmm, FileWatcher does sound like something I might have seen in a stdlib
[19:51:00] <cmr> node has it
[19:51:12] *** Joins: Rym (y@moz-bim.h8b.39.217.IP)
[19:51:21] <eddyb> node also has an HTTP implementation in its stdlib
[19:53:30] <arrrrrrrrr> I hear node even ships with a javascript interpreter.
[19:53:40] <eddyb> arrrrrrrrr: oh you
[19:53:44] <arrrrrrrrr> ikr
[19:54:13] <eddyb> arrrrrrrrr: make rustup install Servo
[19:54:43] <arrrrrrrrr> I've never even used rustup. Piping curl to sh? Crazy if you ask me.
[19:55:18] *** Quits: Stebalien (Stebalien@moz-gpa.4d0.247.50.IP) (Quit: leaving)
[19:55:42] *** Quits: Rym (y@moz-bim.h8b.39.217.IP) (Ping timeout: 121 seconds)
[19:56:32] <eddyb> arrrrrrrrr: we're doing it wrong, too
[19:56:58] <eddyb> arrrrrrrrr: http://nixos.org/nix/install check out that wrapper
[19:57:37] <arrrrrrrrr> nice
[19:59:09] *** Joins: eddyb__ (eddyb@moz-i21.8it.25.188.IP)
[20:00:36] *** Joins: eerie (eerie@moz-v3eps5.red.bezeqint.net)
[20:01:09] *** Quits: eddyb_ (eddyb@moz-jv2.pug.25.188.IP) (Ping timeout: 121 seconds)
[20:01:43] <arrrrrrrrr> not one day goes by without doc.rust-lang.org sending me to a 404 page
[20:01:52] <arrrrrrrrr> NOT ONE
[20:02:00] *** Quits: eddyb (eddyb@moz-jv2.pug.25.188.IP) (Ping timeout: 121 seconds)
[20:03:49] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[20:04:47] *** Quits: eerie (eerie@moz-v3eps5.red.bezeqint.net) (Ping timeout: 121 seconds)
[20:05:21] *** Joins: Guest63 (textual@moz-56c.qli.61.176.IP)
[20:05:50] *** Quits: jaspercvd (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[20:06:38] <eddyb__> arrrrrrrrr: I somehow doubt the source code is getting uploaded at all
[20:07:15] <arrrrrrrrr> it's not like it ever worked. if you click on src in a reexport you are guaranteed a 404
[20:08:04] *** eddyb__ is now known as eddyb
[20:08:06] <eddyb> arrrrrrrrr: oh
[20:08:20] <eddyb> arrrrrrrrr: well, actually, I've had that work
[20:08:24] <arrrrrrrrr> from the variance RFC:
[20:08:25] <arrrrrrrrr> >PhantomData<T>         // covariance
[20:08:30] <arrrrrrrrr> Isn't that wrong too?
[20:08:32] <eddyb> I could see an intermediary link
[20:08:34] *** Quits: pcwalton (pcwalton@moz-u92.384.6.71.IP) (Client exited)
[20:08:42] <eddyb> arrrrrrrrr: no, type covariance == lifetime invariance
[20:08:45] <eddyb> arrrrrrrrr: oops
[20:08:56] <eddyb> s/invariance/contravariance
[20:08:57] <arrrrrrrrr> no, I think that's right
[20:09:22] <arrrrrrrrr> variance only matters for X and &X but not &mut X so covariant should be right
[20:09:24] <eddyb> arrrrrrrrr: covariant wrt &'a T means contravariant wrt 'a and covariant wrt T
[20:09:54] <eddyb> arrrrrrrrr: covariant wrt &'a mut means contravariant wrt 'a and invariant wrt T
[20:10:04] <arrrrrrrrr> I don't like that the name go against intuition for lifetimes
[20:10:14] <eddyb> arrrrrrrrr: you are not alone
[20:10:26] <eddyb> this phantom stuff is intended to kill variance terminology usage
[20:10:30] <arrrrrrrrr> I'll just say "can be shortened" for lifetimes and "can be increased"
[20:10:47] <arrrrrrrrr> enlarged maybe
[20:10:51] <eddyb> arrrrrrrrr: now find something that works both on types and lifetimes
[20:11:06] <eddyb> (and refers to the lifetimes inside types)
[20:11:23] <arrrrrrrrr> if subtyping is only about lifetimes then:
[20:11:36] <arrrrrrrrr> "can be shortened" and "the lifetime of T can be shortened"
[20:12:01] <arrrrrrrrr> &'a T -> 'a can be shortened and the lifetime of T can be shortened
[20:12:28] *** Quits: jdm (jdm@moz-ilbt2e.cable.teksavvy.com) (Quit: )
[20:12:29] <arrrrrrrrr> anyway
[20:12:36] <arrrrrrrrr> subtyping is written 'a <: 'b
[20:12:48] <arrrrrrrrr> and <: looks very much like "is shorter"
[20:13:04] <arrrrrrrrr> so I think it should simply be called covariance if the lifetime can be shorter
[20:13:10] <arrrrrrrrr> no wait
[20:13:17] *** Joins: zmack (zmack@moz-4b0.o8l.26.188.IP)
[20:13:18] <arrrrrrrrr> I think I got it the wrong way around again
[20:13:21] <arrrrrrrrr> forget it
[20:13:22] <goffrie> your reasoning leads to the current state of affairs, AIUI
[20:13:25] <arrrrrrrrr> "can be shortened" it is
[20:13:26] <goffrie> that's why it's so confusing -_-
[20:15:24] <eddyb> arrrrrrrrr: the current choice is mostly based on 'static being the absolute "supertype
[20:15:29] <eddyb> *"supertype*
[20:15:33] <eddyb> w/e
[20:16:16] <arrrrrrrrr> whatever language used the word "extends" for subtyping got it right
[20:16:28] <arrrrrrrrr> that would also work for lifetimes: 'static extends 'a
[20:16:34] <arrrrrrrrr> T extends Send+Sync
[20:16:35] <arrrrrrrrr> etc.
[20:20:24] *** Joins: adu (ajr@moz-0foa9t.md.comcast.net)
[20:21:41] <XMPPwocky> macro idea: error!(FooError: std::io::Error, some_other_crate::NasalDemonsError)
[20:21:43] *** Joins: p1start (p1start@moz-nftjhe.org)
[20:22:28] <XMPPwocky> => enum FooError { Error(std::io::Error), NasalDemonsError(some_other_crate::NasalDemonsError) } impl FromError<std::io::Error> for FooError ...
[20:23:01] <XMPPwocky> i guess it would need to be invoked as error!(FooError, Error: std::io::Error), etc.
[20:23:24] <XMPPwocky> name of enum, (name of variant: type it wraps)
[20:24:13] *** Quits: CharlotteClueless (corallok@moz-k1scau.res.rr.com) (Quit: Leaving)
[20:30:35] *** Quits: corallok (corallok@moz-k1scau.res.rr.com) (Connection closed)
[20:33:26] *** Joins: Rym (y@moz-bim.h8b.39.217.IP)
[20:35:51] *** Quits: kushal (kdas@moz-3tt6sl.202.sitibroadband.in) (Quit: Leaving)
[20:37:58] *** Quits: Rym (y@moz-bim.h8b.39.217.IP) (Ping timeout: 121 seconds)
[20:42:07] *** Quits: barosl (barosl@moz-7vg.qma.67.220.IP) (Ping timeout: 121 seconds)
[20:43:43] <sfackler> does --show-span work?
[20:43:51] <sfackler> it doesn't seem to print anything for me
[20:45:01] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[20:45:02] *** Quits: semarie (semarie@moz-ej0.8eu.157.37.IP) (A TLS packet with unexpected length was received.)
[20:46:05] *** Joins: mib_qm3idj (Mibbit@moz-juv.9o3.252.72.IP)
[20:46:34] *** Quits: mib_qm3idj (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[20:49:29] <goffrie> sfackler: `rustc -Z unstable-options --show-span expr my.rs` works for me, I think
[20:51:09] *** Quits: Guest63 (textual@moz-56c.qli.61.176.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[20:51:36] *** Quits: zmack (zmack@moz-4b0.o8l.26.188.IP) (Connection closed)
[20:54:06] <sfackler> it just prints nothing for me :/
[20:54:14] *** Quits: rustical (..@moz-55rvi2.dclient.hispeed.ch) (Ping timeout: 121 seconds)
[20:54:41] *** Joins: vky (vky@moz-fqci96.ca.comcast.net)
[20:55:35] <sfackler> oh there it goes
[20:55:41] <sfackler> weird
[20:57:56] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[21:00:34] *** Joins: enix (enix@moz-0mgr2v.fios.verizon.net)
[21:00:36] *** Joins: mr_trousers (Mibbit@moz-juv.9o3.252.72.IP)
[21:00:48] *** Quits: mr_trousers (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[21:01:40] *** Quits: summerlight (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[21:03:45] *** Joins: zmack (zmack@moz-4b0.o8l.26.188.IP)
[21:05:14] *** Quits: zmack (zmack@moz-4b0.o8l.26.188.IP) (Connection closed)
[21:06:18] *** Joins: arielb1 (Ariel@moz-csau2l.red.bezeqint.net)
[21:08:42] *** Joins: zmack (zmack@moz-4b0.o8l.26.188.IP)
[21:12:01] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[21:12:36] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[21:15:36] *** Quits: enix (enix@moz-0mgr2v.fios.verizon.net) (Ping timeout: 121 seconds)
[21:16:23] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[21:17:10] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[21:18:26] *** Joins: blaenk_ (blaenkdenum@moz-em283u.res.rr.com)
[21:21:25] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Ping timeout: 121 seconds)
[21:21:57] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[21:22:15] *** Quits: blaenk_ (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[21:22:56] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[21:27:23] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[21:27:25] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[21:27:33] *** Joins: Rym (y@moz-bim.h8b.39.217.IP)
[21:27:45] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[21:30:46] *** Joins: nrc (nrc@moz-4bhi2i.xtra.co.nz)
[21:30:46] *** ChanServ sets mode: +o nrc
[21:30:48] *** Joins: reem (reem@moz-2os7jm.coob.q2h1.0009.2601.IP)
[21:31:04] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[21:31:30] *** Joins: guntherx (Mibbit@moz-juv.9o3.252.72.IP)
[21:31:37] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[21:31:53] *** Quits: guntherx (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[21:32:07] *** Quits: Rym (y@moz-bim.h8b.39.217.IP) (Ping timeout: 121 seconds)
[21:33:08] *** Quits: reem (reem@moz-2os7jm.coob.q2h1.0009.2601.IP) (Connection closed)
[21:34:19] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[21:36:33] *** Joins: mib_fi6nne (Mibbit@moz-juv.9o3.252.72.IP)
[21:37:24] *** Quits: mib_fi6nne (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[21:37:27] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[21:37:44] *** Quits: sprang (sprang@moz-d0kmvi.12d9.sm5v.0009.2601.IP) (Ping timeout: 121 seconds)
[21:40:24] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[21:41:22] *** Joins: pcwalton (pcwalton@moz-irp.d2v.254.50.IP)
[21:41:23] *** ChanServ sets mode: +o pcwalton
[21:41:23] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[21:45:11] *** Joins: rdydj9fgfgd (Mibbit@moz-juv.9o3.252.72.IP)
[21:45:14] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[21:45:29] *** Quits: pcwalton (pcwalton@moz-irp.d2v.254.50.IP) (Connection closed)
[21:45:38] *** Quits: rdydj9fgfgd (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[21:45:55] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[21:47:23] *** Joins: pcwalton (pcwalton@moz-irp.d2v.254.50.IP)
[21:47:23] *** ChanServ sets mode: +o pcwalton
[21:50:13] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[21:51:10] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[22:03:44] *** Quits: mystor (mystor@moz-ldavpp.home3.cgocable.net) (Connection closed)
[22:05:52] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[22:05:56] <XMPPwocky> any idea where i should look to fix gh23084 ? i'm stepping out for lunch, then going to go and try to fix it so that my code doesn't ICE anymore
[22:05:56] <[o__o]> Unexpected panic: arithmetic operation overflowed: https://github.com/rust-lang/rust/issues/23084
[22:06:46] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[22:06:53] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[22:06:54] *** Joins: reem (reem@moz-digg35.coob.q2h1.0009.2601.IP)
[22:07:52] <cmr> XMPPwocky: easy fix would probably be using the wrapping wrapper in codemap
[22:09:26] <sfackler> seems like the underflow is a legit bug from looking at tr_span though
[22:10:00] *** Quits: vky (vky@moz-fqci96.ca.comcast.net) (Ping timeout: 121 seconds)
[22:11:07] <imperio> inotify doesn't work on /proc, I'm disappointed...
[22:12:04] <eddyb> arrrrrrrrr: oh, I missed those messages
[22:12:29] <arrrrrrrrr> hm?
[22:12:55] <eddyb> arrrrrrrrr: so the current system is based on top of "'a extends 'static"
[22:13:35] <eddyb> arrrrrrrrr: where "Specific extends General"
[22:14:06] <eddyb> arrrrrrrrr: not "Larger extends Smaller"
[22:14:41] <eddyb> arrrrrrrrr: I think this is an English issue. where can we report that?
[22:15:30] <arrrrrrrrr> I'll call the queen
[22:16:03] *** Joins: enix (enix@moz-0mgr2v.fios.verizon.net)
[22:16:28] *** Quits: zmack (zmack@moz-4b0.o8l.26.188.IP) (Connection closed)
[22:16:33] <simukis> imperio: whatever you’re doing you should not rely on /proc existing at all
[22:16:43] <simukis> or procfs being mounted anywhere, while at that
[22:16:57] <nrc> if I have a bunch of fns that are similar and basically just convenience wrappers around an implementation fn, is there a naming convention for the implementation fn?
[22:17:12] <nrc> e.g., insert, insert_src, insert_target, etc.
[22:17:22] <nrc> insert_impl sounds wrong because impls are a thing
[22:17:38] <cmr> nrc: *_inner?
[22:17:45] <cmr> that's what I use and have seen used
[22:17:51] <cmr> maybe it's an old convention though
[22:17:57] *** Quits: Jesin (Jesin@moz-i7sbhm.res.Lehigh.EDU) (Quit: Leaving)
[22:17:58] <nrc> cmr: sounds good, I like 'inner'
[22:18:02] <nrc> thanks
[22:18:09] <nrc> oph dammit
[22:18:14] <nrc> actually that doesn't work
[22:18:28] <nrc> because insert_inner sounds like it inserts something inside the structure some how
[22:18:36] <cmr> does it need to be public?
[22:18:37] <nrc> same with insert_internal
[22:18:42] <nrc> it is not public
[22:19:01] <cmr> _insert_guts_
[22:19:32] <cmr> same problem...
[22:19:36] <nrc> that is... disturbing
[22:19:47] <cmr> heh
[22:19:48] <nrc> :-p
[22:20:12] <nrc> ah, screw it, I think 'inner' will do 
[22:20:15] <nrc> stupid naming
[22:21:44] *** Joins: Rym (y@moz-bim.h8b.39.217.IP)
[22:22:42] *** Joins: zmack (zmack@moz-4b0.o8l.26.188.IP)
[22:23:30] *** Quits: Slide (slide@moz-qip.011.149.49.IP) (Ping timeout: 121 seconds)
[22:24:35] *** Joins: mortoncv (Mibbit@moz-juv.9o3.252.72.IP)
[22:26:16] *** Quits: Rym (y@moz-bim.h8b.39.217.IP) (Ping timeout: 121 seconds)
[22:26:26] *** Quits: mortoncv (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[22:26:50] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[22:28:54] *** Joins: mystor (mystor@moz-va2.r78.15.130.IP)
[22:29:09] *** Quits: mystor (mystor@moz-va2.r78.15.130.IP) (Connection closed)
[22:29:32] *** Joins: mystor (mystor@moz-va2.r78.15.130.IP)
[22:30:47] *** Joins: sprang (sprang@moz-9e68dn.static-ip.telepacific.net)
[22:31:01] *** Quits: mystor (mystor@moz-va2.r78.15.130.IP) (Connection closed)
[22:31:08] *** Quits: arielb1 (Ariel@moz-csau2l.red.bezeqint.net) (Connection closed)
[22:31:17] *** Joins: mystor (mystor@moz-va2.r78.15.130.IP)
[22:31:50] *** Quits: mystor (mystor@moz-va2.r78.15.130.IP) (Connection closed)
[22:32:18] *** Joins: mystor (mystor@moz-va2.r78.15.130.IP)
[22:34:04] *** Joins: madmalik (uid13697@moz-lfin5p.brockwell.irccloud.com)
[22:34:16] *** Joins: Rym (y@moz-bim.h8b.39.217.IP)
[22:36:06] <imperio> simukis: I'm doing a little processus viewer, so relying on /proc seems a bit mandatory haha
[22:37:30] *** Quits: zmack (zmack@moz-4b0.o8l.26.188.IP) (Connection closed)
[22:39:08] *** Quits: mystor (mystor@moz-va2.r78.15.130.IP) (Connection closed)
[22:39:25] *** Joins: mystor (mystor@moz-va2.r78.15.130.IP)
[22:39:48] *** Quits: pcwalton (pcwalton@moz-irp.d2v.254.50.IP) (Connection closed)
[22:40:46] *** Quits: mystor (mystor@moz-va2.r78.15.130.IP) (Connection closed)
[22:41:51] *** Joins: mystor (mystor@moz-va2.r78.15.130.IP)
[22:42:17] <nrc> Sigh.
[22:43:06] <nrc> I implemented a pretty nice data structure which is a rope extended with source info, it was tricky and fun code, and a fair amount of work, and now I think I don't need it :-(
[22:43:09] *** cmr changes topic to '24 days to 1.0.0-beta1: http://blog.rust-lang.org/2015/02/13/Final-1.0-timeline.html | http://internals.rust-lang.org/ | https://botbot.me/mozilla/rust-internals | https://buildbot.rust-lang.org/homu/queue/rust | see also #rustc and #rust-libs'
[22:43:20] <cmr> nrc: rejoice, less code \o/
[22:43:22] <cmr> (:()
[22:43:24] <nrc> I feel likeI should write a text editor just so it doesn't go to waste
[22:43:29] <cmr> lol
[22:43:36] *** Quits: ptalbot (ptalbot@moz-1gn7gb.eu0n.jcdj.0660.2001.IP) (Ping timeout: 121 seconds)
[22:43:42] <cmr> shove it in a crates.io thing at least
[22:43:58] <nrc> I should I guess
[22:44:14] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[22:44:16] <nrc> it is a superset of a Rope, functionality-wise so it should be useful
[22:44:37] *** Joins: zmack (zmack@moz-4b0.o8l.26.188.IP)
[22:44:38] <nrc> although it is the extras which were the interesting bit, and I bet they won't be useful :-(
[22:45:57] *** Joins: Skyler (Skyler@moz-e93b35.sd.cox.net)
[22:47:21] *** Quits: sigma (sigma@moz-nhu.oda.211.95.IP) (Ping timeout: 121 seconds)
[22:47:34] <imperio> nrc: we're speaking to write a text editor with rgtk for a while now
[22:47:43] <imperio> nrc: but we never have enough time for it...
[22:48:04] *** Joins: tjakubow (tom@moz-ag87jj.fios.verizon.net)
[22:48:12] <imperio> with which GUI would you write it ?
[22:48:26] <eddyb> I've been meaning to experiment with OpenGL text rendering
[22:48:32] *** Quits: chc4 (chc4@moz-7p9ofs.nh.comcast.net) (Ping timeout: 121 seconds)
[22:48:40] <eddyb> for long enough that a new API came out already :/
[22:49:01] <imperio> eddyb: there is a lot of library that does nice text rendering
[22:49:03] <eddyb> imperio: but this is offtopic material already - though gamedev is cool with UI stuff
[22:49:33] <imperio> eddyb: there is even with which you can draw windows and stuff inside !
[22:49:35] <eddyb> imperio: not the sub-glyph stuff, but dealing with a block of text as a whole and specialized to monospaced
[22:49:37] <imperio> that's very nice
[22:49:39] *** Quits: zmack (zmack@moz-4b0.o8l.26.188.IP) (Connection closed)
[22:49:45] <nrc> imperio: I don't think I would seriously write a text editor - way, way too much work
[22:50:14] <imperio> nrc: it depends, just a bloc-note windows like would take maybe an hour
[22:50:32] <imperio> but if you add all synthax and stuff, it's gonna take ages !
[22:50:42] <imperio> so interesting...
[22:50:56] <imperio> w never have time for all interesting stuff, that's a shame !
[22:51:02] <eddyb> imperio: I know of at least one syntax highlighting implementation that's reusable
[22:51:14] <eddyb> all you need is an XML parser :P
[22:51:35] <imperio> eddyb: oh ? I know nothing about synthax stuff, that's not my domain at all ^^
[22:51:42] <imperio> ooooh ? Then it would be quite easy no ?
[22:52:20] <eddyb> you still have to write your own codegen, but if you have a regex lib available, that's already doing a lot for you
[22:53:09] <imperio> erf... regex is my ultimate enemy
[22:53:31] <imperio> I was hoping it could be avoided...
[22:54:08] <eddyb> if you avoid regex you end up implementing a flavor of it some other way
[22:55:12] <imperio> yep, that's the issue. You start to build a wonderfully horrible stuff to then see that regex is easier -even if you hate that-
[22:56:25] <XMPPwocky> "You have a problem, and you say, 'Ooh, I shouldn't use regular expressions, then I'll have two problems!'
[22:56:33] <XMPPwocky> Now you have one *really hard* problem."
[22:57:21] <imperio> like would be way too easy if we did stuff like we should no ? :D
[22:57:38] <imperio> not like but life
[22:59:21] *** Quits: adu (ajr@moz-0foa9t.md.comcast.net) (Client exited)
[23:01:18] *** Quits: Esmil (esmil@moz-rpf3nj.0x90.dk) (A TLS packet with unexpected length was received.)
[23:02:28] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[23:04:06] *** Quits: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[23:10:31] <nrc> my stupid rope: https://github.com/nrc/rustfmt/blob/master/src/rope.rs
[23:10:40] <nrc> its a bit rough and ready, code-wise
[23:10:47] <nrc> but it works (mostly)
[23:10:58] *** nrc is now known as nrc|afk
[23:11:57] <simukis> wow, that’s a lot of code. I spent way much more time on getting a dumb html escape/unescape implementation done
[23:16:10] *** Quits: enix (enix@moz-0mgr2v.fios.verizon.net) (Ping timeout: 121 seconds)
[23:17:39] *** Joins: enix (enix@moz-0mgr2v.fios.verizon.net)
[23:19:12] *** Quits: pauls (pauls@moz-e5p333.ccs.neu.edu) (Ping timeout: 121 seconds)
[23:19:23] <imperio> what keyword is proc ?
[23:22:38] <simukis> it was a keyword for closures at some point
[23:22:56] <simukis> I don’t think we use it anymore
[23:23:02] <bstrie> do we still reserve it?
[23:23:05] <bstrie> probably shouldn't
[23:23:51] <steveklabnik> iirc it's not reserved any more
[23:24:12] <imperio> I think I must update my rustc then..
[23:24:17] <simukis> playbot: let proc = 0; proc
[23:24:17] -playbot- <anon>:14:13: 14:17 error: expected identifier, found keyword `proc`
[23:24:18] -playbot- <anon>:14         let proc = 0; proc
[23:24:18] -playbot- output truncated; full output at: http://bit.ly/1ECl4Bp
[23:24:30] <imperio> so that's not me
[23:24:31] <imperio> hehe
[23:24:56] <imperio> I make a PR for removing it ?
[23:25:08] <steveklabnik> hmm
[23:25:39] <steveklabnik> https://github.com/rust-lang/rfcs/pull/584
[23:25:42] <steveklabnik> sooo yes
[23:25:54] <imperio> Ok I do that
[23:29:34] *** Quits: sprang (sprang@moz-9e68dn.static-ip.telepacific.net) (Ping timeout: 121 seconds)
[23:31:23] *** Joins: aepsil0n (eduard@moz-s4dovi.73sq.ctqi.8071.2a02.IP)
[23:33:15] *** Joins: mib_2ob36w (Mibbit@moz-juv.9o3.252.72.IP)
[23:36:17] *** Quits: mib_2ob36w (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[23:38:37] *** Quits: reem (reem@moz-digg35.coob.q2h1.0009.2601.IP) (Connection closed)
[23:38:52] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[23:39:58] *** Quits: aepsil0n (eduard@moz-s4dovi.73sq.ctqi.8071.2a02.IP) (Connection closed)
[23:44:02] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[23:44:04] *** Joins: reem (reem@moz-digg35.coob.q2h1.0009.2601.IP)
[23:44:51] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[23:45:48] *** Joins: vky (vky@moz-fqci96.ca.comcast.net)
[23:48:04] <imperio> steveklabnik: buidling.. it should be good within half an hour I hope
[23:48:58] *** Joins: Johannes (Johannes@moz-4et8d7.ocn.ne.jp)
[23:50:57] *** Quits: p1start (p1start@moz-nftjhe.org) (Ping timeout: 121 seconds)
[23:52:18] *** Joins: mattico (matt@moz-gpu5hl.bff5.ebih.ea00.2607.IP)
[23:52:56] *** Joins: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net)
[23:52:56] *** ChanServ sets mode: +o pcwalton
[23:53:00] *** Joins: arrrrrrr1 (arrrrrrrrs@moz-gqis62.dynamic.qsc.de)
[23:53:19] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[23:54:56] *** Quits: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net) (Client exited)
[23:55:46] *** Quits: arrrrrrrrr (arrrrrrrrs@moz-pigq28.dynamic.qsc.de) (Ping timeout: 121 seconds)
[23:55:58] *** Joins: ptalbot (ptalbot@moz-j4gnuh.fbx.proxad.net)
