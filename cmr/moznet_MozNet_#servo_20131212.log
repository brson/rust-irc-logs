[00:00:36] <jack> whatever you did worked :)
[00:02:03] *** Joins: vodik_ (simon@moz-FD4ADBC6.cable.teksavvy.com)
[00:03:06] <jdm> I actually did nothing :/
[00:03:22] <jdm> there's a well-meaning poltergeist
[00:03:28] *** Joins: bholley (bholley@moz-A2189431.hsd1.ca.comcast.net)
[00:04:15] *** Quits: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com) (Quit: Jesse)
[00:04:45] <jack> goes to show you that doing nothing works!
[00:07:24] *** Quits: TimAbraldes (quassel@125EF623.B2666F0E.66399531.IP) (Input/output error)
[00:09:08] *** Joins: TimAbraldes (quassel@125EF623.B2666F0E.66399531.IP)
[00:09:30] *** Joins: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com)
[00:11:50] *** Quits: bholley (bholley@moz-A2189431.hsd1.ca.comcast.net) (Quit: bholley)
[00:12:30] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Quit: yichoi)
[00:12:35] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[00:17:35] *** Quits: doomlord_ (servitor@moz-D40D68D6.range86-184.btcentralplus.com) (Ping timeout)
[00:17:47] *** Joins: doomlord_ (servitor@moz-D40D68D6.range86-184.btcentralplus.com)
[00:18:57] *** Joins: Jesse_ (jruderman@moz-BBE3ABD.mv.mozilla.com)
[00:18:59] *** Quits: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com) (Connection reset by peer)
[00:19:09] *** Joins: ghservo (ghservo@C8693FCB.6A2AE50.F3114085.IP)
[00:19:09] <ghservo> 01[13servo01] 15bors-servo merged 06auto into 06master: 02http://git.io/fqltbg
[00:19:09] *** Parts: ghservo (ghservo@C8693FCB.6A2AE50.F3114085.IP) ()
[00:19:10] *** Joins: ghservo (ghservo@C8693FCB.6A2AE50.F3114085.IP)
[00:19:11] <ghservo> [13servo] 15bors-servo closed pull request #1381: layout: Don't delete non-text boxes from the list of input boxes when (06master...06bogus-box-deletion) 02http://git.io/7CUG7w
[00:19:11] *** Parts: ghservo (ghservo@C8693FCB.6A2AE50.F3114085.IP) ()
[00:20:14] *** Quits: Jesse_ (jruderman@moz-BBE3ABD.mv.mozilla.com) (Connection reset by peer)
[00:24:30] *** Quits: dherman (dherman@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: dherman)
[00:24:46] *** Joins: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com)
[00:26:32] *** Joins: dherman (dherman@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[00:26:32] *** ChanServ sets mode: +qo dherman dherman
[00:30:13] *** Quits: dherman (dherman@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: dherman)
[00:32:18] *** Joins: ghservo (ghservo@9C8B94D4.6A2AE50.F3114085.IP)
[00:32:19] <ghservo> [13servo] 15kmcallister opened pull request #1382: Fix headless content tests and make the previous failure not invisible (06master...06headless) 02http://git.io/BQTGMA
[00:32:19] *** Parts: ghservo (ghservo@9C8B94D4.6A2AE50.F3114085.IP) ()
[00:32:25] <kmc> r? jdm
[00:33:16] <jdm> kmc: woah, I didn't realize InheritFd worked
[00:33:23] <jdm> what does that do precisely?
[00:34:20] *** Quits: dzbarsky (Adium@BC1B0569.D5562F02.B5C6E82B.IP) (Quit: Leaving.)
[00:34:54] <jdm> do the standard fds start from 0 or 1?
[00:36:20] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[00:37:06] <kmc> stdin is 0, stdout is 1, stderr is 2
[00:37:36] <kmc> so it should end up with the child getting the same stdout as the parent
[00:37:50] <kmc> the same stderr*
[00:38:07] <jdm> hmm
[00:38:25] <jdm> oh, so stderr will get printed to the terminal by default?
[00:38:48] <jdm> that sounds like it should show up in the logs too, so that sounds good to me
[00:39:06] <jdm> we don't expect to see TEST-UNEXPECTED-FAIL in stderr, so no need to intercept it
[00:39:13] <kmc> right
[00:39:31] <kmc> and yeah, buildbot captures stderr, unless there's some new bug
[00:43:41] *** Joins: ghservo (ghservo@24260B07.6A2AE50.F3114085.IP)
[00:43:41] <ghservo> 01[13servo01] 15bors-servo pushed 0 new commits to 06auto: 02http://git.io/CBv6xg
[00:43:41] *** Parts: ghservo (ghservo@24260B07.6A2AE50.F3114085.IP) ()
[00:45:11] *** Quits: ^emi (glenlivet@moz-9FE842F.cpe.net.cable.rogers.com) (Ping timeout)
[00:45:27] <deokjinkim> Does anyone have plan to implement onLoad event?
[00:45:47] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[00:45:57] <kmc> we have an approximation of it already, at least
[00:46:11] <kmc> https://github.com/mozilla/servo/blob/master/src/components/script/script_task.rs#L784-L791
[00:47:07] <deokjinkim> When I tested onLoad event with the latest servo, it doesn't work yet.
[00:47:47] <deokjinkim> Thank you for your information~
[00:47:49] <kmc> does src/test/html/content/test_load_event.html fail for you?
[00:47:52] *** Joins: harth (heather@moz-C07D5168.p2p.sfo1.mozilla.com)
[00:48:10] <jdm> deokjinkim: so we don't support the onload property yet
[00:48:16] <jdm> addEventListener('load', ...) works
[00:48:57] <jdm> things like <body onload="..."> and document.onload = ... are broken
[00:53:17] <deokjinkim> I tested with <body onload> and window.onload, then it failed.
[00:54:04] <deokjinkim> So do you mean that simon is implementing <body onload>  and window.onload now?
[00:54:17] <pcwalton> found another blocker for acid1 reftest
[00:54:27] <pcwalton> apparently images do not appear in the top left of the page even if border=0,padding=0
[00:56:14] *** Quits: brendan (brendaneic@777B9EEC.C030CAFC.1EF54B18.IP) (Quit: brendan)
[00:56:32] *** Quits: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com) (Quit: Jesse)
[00:59:23] <jdm> deokjinkim: no, nobody is working on support for inline event handlers right now
[01:00:43] <jdm> deokjinkim: https://github.com/mozilla/servo/issues/1238
[01:01:04] *** Joins: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP)
[01:01:04] <ghservo> 01[13servo01] 15bors-servo merged 06auto into 06master: 02http://git.io/Vat_kA
[01:01:04] *** Parts: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP) ()
[01:01:06] *** Joins: ghservo (ghservo@2EE61FCC.6A2AE50.F3114085.IP)
[01:01:06] <ghservo> [13servo] 15bors-servo closed pull request #1382: Fix headless content tests and make the previous failure not invisible (06master...06headless) 02http://git.io/BQTGMA
[01:01:06] *** Parts: ghservo (ghservo@2EE61FCC.6A2AE50.F3114085.IP) ()
[01:02:11] <deokjinkim> ok. thank you for your explanation.
[01:03:07] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[01:06:39] *** Joins: brendan (brendaneic@777B9EEC.C030CAFC.1EF54B18.IP)
[01:08:47] <jack> pcwalton: that seems like it should be easy to fix. do we have an implicit property on HTML? or on document or something?
[01:08:53] <pcwalton> dunno
[01:08:58] <pcwalton> I used * { padding: 0; margin: 0; }
[01:09:01] <pcwalton> and on html and body
[01:09:07] <pcwalton> and border: none;
[01:09:58] *** Joins: ghservo (ghservo@C8693FCB.6A2AE50.F3114085.IP)
[01:09:58] <ghservo> [13servo] 15pcwalton opened issue #1383: This page does not put the image in the top left corner of the page 02http://git.io/Ms3A9Q
[01:09:58] *** Parts: ghservo (ghservo@C8693FCB.6A2AE50.F3114085.IP) ()
[01:10:37] *** Quits: harth (heather@moz-C07D5168.p2p.sfo1.mozilla.com) (Client exited)
[01:10:51] *** Quits: TimAbraldes (quassel@125EF623.B2666F0E.66399531.IP) (Connection reset by peer)
[01:11:59] *** Joins: eddyb (eddy@moz-68E0B7D0.residential.rdsnet.ro)
[01:14:01] *** Quits: fabrice (fabrice@moz-7B0110AD.mv.mozilla.com) (Quit: Leaving.)
[01:14:18] *** Joins: fabrice (fabrice@moz-7B0110AD.mv.mozilla.com)
[01:24:44] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[01:25:26] *** Joins: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net)
[01:26:03] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[01:27:37] *** Quits: fabrice (fabrice@moz-7B0110AD.mv.mozilla.com) (Ping timeout)
[01:30:02] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[01:31:09] *** Joins: ^emi (glenlivet@moz-9FE842F.cpe.net.cable.rogers.com)
[01:33:04] *** Joins: harth (heather@moz-C07D5168.p2p.sfo1.mozilla.com)
[01:44:24] *** Joins: bholley (bholley@moz-A2189431.hsd1.ca.comcast.net)
[01:45:31] *** Quits: jet (jet@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: jet)
[01:47:38] *** Joins: ghservo (ghservo@24260B07.6A2AE50.F3114085.IP)
[01:47:38] <ghservo> [13servo] 15pcwalton opened pull request #1384: layout: If the border style is "none", treat its width as 0. (06master...06border-style-none) 02http://git.io/i3GwRQ
[01:47:38] *** Parts: ghservo (ghservo@24260B07.6A2AE50.F3114085.IP) ()
[01:47:42] <pcwalton> kmc: r? https://github.com/mozilla/servo/pull/1384
[01:48:07] *** Quits: brendan (brendaneic@777B9EEC.C030CAFC.1EF54B18.IP) (Quit: brendan)
[01:48:17] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[01:48:17] *** ChanServ sets mode: +qo dherman dherman
[01:49:04] *** Quits: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net) (Quit: Looking for honey.)
[01:49:11] <kmc> on it
[01:49:12] *** Joins: doomlord__ (servitor@moz-D40D68D6.range86-184.btcentralplus.com)
[01:52:06] *** Joins: ghservo (ghservo@DE823A67.6A2AE50.F3114085.IP)
[01:52:06] <ghservo> 01[13servo01] 15bors-servo pushed 0 new commits to 06auto: 02http://git.io/ELfmbg
[01:52:06] *** Parts: ghservo (ghservo@DE823A67.6A2AE50.F3114085.IP) ()
[01:52:10] *** Joins: ghservo (ghservo@79968228.6A2AE50.F3114085.IP)
[01:52:10] <ghservo> 01[13servo01] 15bors-servo pushed 2 new commits to 06auto: 02http://git.io/mhACcA
[01:52:10] <ghservo> 13servo/06auto 14511d2b1 15Patrick Walton: layout: If the border style is "none", treat its width as 0....
[01:52:10] <ghservo> 13servo/06auto 14500060a 15bors-servo: auto merge of #1384 : pcwalton/servo/border-style-none, r=kmcallister...
[01:52:11] *** Parts: ghservo (ghservo@79968228.6A2AE50.F3114085.IP) ()
[01:52:37] *** Quits: dbaron (dbaron@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: 8403864 bytes have been tenured, next gc will be global.)
[01:54:49] <jack> pcwalton: what were the border sizes previously?
[01:54:55] *** Joins: brendan (brendaneic@777B9EEC.C030CAFC.1EF54B18.IP)
[01:54:59] <jack> Why would they have been anything but Au(0)?
[01:55:00] <pcwalton> they were 3px
[01:55:24] <jack> no that your patch is wrong, i just find i tcurious they'd be set to something else by default
[01:56:32] *** Joins: fabrice (fabrice@moz-94F028C6.hsd1.ca.comcast.net)
[01:57:45] *** Joins: pradeep (pradeep@5AB4884B.FCC4549.14D5B978.IP)
[01:57:53] *** Quits: bholley (bholley@moz-A2189431.hsd1.ca.comcast.net) (Ping timeout)
[01:58:16] *** ChanServ sets mode: +o jack
[01:59:13] *** Quits: brendan (brendaneic@777B9EEC.C030CAFC.1EF54B18.IP) (Quit: brendan)
[01:59:42] <pcwalton> I find it odd too but it was a bug either way
[02:01:47] *** Quits: diegoyam (quassel@FF9B1514.A4EC3D18.3A1EC144.IP) (Client exited)
[02:02:10] <jack> how is it that some of you are auto-opped but not me?
[02:02:26] <jack> do you op yourselves on login? or is chanserv just mean to me?
[02:09:47] *** Joins: bholley (bholley@moz-A2189431.hsd1.ca.comcast.net)
[02:12:29] <brson> jack: i get oped automatically
[02:13:07] *** Joins: ghservo (ghservo@C8693FCB.6A2AE50.F3114085.IP)
[02:13:07] <ghservo> [13servo] 15pcwalton closed issue #1383: This page does not put the image in the top left corner of the page 02http://git.io/Ms3A9Q
[02:13:07] *** Parts: ghservo (ghservo@C8693FCB.6A2AE50.F3114085.IP) ()
[02:13:08] *** Joins: ghservo (ghservo@2EE61FCC.6A2AE50.F3114085.IP)
[02:13:08] <ghservo> [13servo] 15bors-servo closed pull request #1384: layout: If the border style is "none", treat its width as 0. (06master...06border-style-none) 02http://git.io/i3GwRQ
[02:13:08] *** Parts: ghservo (ghservo@2EE61FCC.6A2AE50.F3114085.IP) ()
[02:13:08] *** Joins: ghservo (ghservo@F6EE6DE3.6A2AE50.F3114085.IP)
[02:13:08] <ghservo> [13servo] 15bors-servo closed pull request #1384: layout: If the border style is "none", treat its width as 0. (06master...06border-style-none) 02http://git.io/i3GwRQ
[02:13:08] *** Parts: ghservo (ghservo@F6EE6DE3.6A2AE50.F3114085.IP) ()
[02:14:34] *** Joins: brendan (brendaneic@777B9EEC.C030CAFC.1EF54B18.IP)
[02:15:13] *** Quits: miketaylr (mtaylor@moz-8ACC7131.dyn.grandenetworks.net) (Quit: Leaving...)
[02:15:46] *** Quits: brendan (brendaneic@777B9EEC.C030CAFC.1EF54B18.IP) (Quit: brendan)
[02:16:17] *** Joins: brendan (brendaneic@777B9EEC.C030CAFC.1EF54B18.IP)
[02:17:18] *** Joins: dreamer_ (Patryk@90E8C08F.8480A87C.DDAA0084.IP)
[02:17:57] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[02:19:36] *** Quits: deokjinkim (Mibbit@B4104EBB.3CC170B1.1E14B209.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[02:20:40] *** Joins: deokjinkim (Mibbit@B4104EBB.3CC170B1.1E14B209.IP)
[02:22:33] <jdm> jack: if you don't identify to nickserv before joining, you won't autoop
[02:22:43] *** Joins: ghservo (ghservo@24260B07.6A2AE50.F3114085.IP)
[02:22:43] <ghservo> [13servo] 15kmcallister closed issue #1374: -z is broken on Linux 02http://git.io/rGjA1Q
[02:22:43] *** Parts: ghservo (ghservo@24260B07.6A2AE50.F3114085.IP) ()
[02:22:47] <jdm> if you do identify at some point, /msg chanserv to op yourself
[02:23:49] <jack> maybe that's the problem. i must not have it identifying on connect right
[02:24:03] *** Quits: ^emi (glenlivet@moz-9FE842F.cpe.net.cable.rogers.com) (Ping timeout)
[02:26:56] *** Quits: bjz (bjz@moz-C1B1AF2A.lnse2.cha.bigpond.net.au) (Ping timeout)
[02:28:28] *** Joins: canhtak (canhtak@moz-1D882009.wl.t.ulaval.ca)
[02:30:17] *** Joins: miketaylr (mtaylor@moz-8ACC7131.dyn.grandenetworks.net)
[02:31:03] *** Joins: brson_ (brson@981AA104.E81F12CD.76F66111.IP)
[02:31:14] <deokjinkim> hi jdm. When I tested "onload" event using addEventListener. "onload" event is happened as soon as web page loading is started, not web page loading is finished.
[02:31:34] <jdm> deokjinkim: yes, the load event is not actually correct right now
[02:32:03] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[02:32:04] <jdm> it fires when we've executed all of the script tags that we parsed, which happens after we finish parsing the whole page
[02:32:16] <jdm> that's definitely something we will need to fix
[02:33:12] <deokjinkim> ok. thank you for your info.
[02:45:28] *** Quits: brendan (brendaneic@777B9EEC.C030CAFC.1EF54B18.IP) (Quit: brendan)
[02:46:54] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[02:47:45] *** Joins: bjz (bjz@moz-3392F321.lns7.cha.bigpond.net.au)
[02:48:50] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[02:52:40] *** Quits: dbaupp (Thunderbir@4F13D67D.D5A1DCF.37681C44.IP) (Ping timeout)
[03:00:00] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[03:00:00] *** ChanServ sets mode: +o brson
[03:00:40] *** Quits: bholley (bholley@moz-A2189431.hsd1.ca.comcast.net) (Quit: bholley)
[03:00:44] *** Quits: brson_ (brson@981AA104.E81F12CD.76F66111.IP) (Ping timeout)
[03:05:04] *** Quits: kimundi (kimundi@moz-3DA1FAC3.dip0.t-ipconnect.de) (Ping timeout)
[03:07:08] *** Joins: ghservo (ghservo@79968228.6A2AE50.F3114085.IP)
[03:07:08] <ghservo> [13servo] 15jdm opened issue #1385: Crash in font_list::FontEntry::new 02http://git.io/bj_v6w
[03:07:08] *** Parts: ghservo (ghservo@79968228.6A2AE50.F3114085.IP) ()
[03:07:14] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[03:08:51] *** Joins: kimundi (kimundi@moz-B3388EAA.dip0.t-ipconnect.de)
[03:12:47] *** kimundi is now known as zz_kimundi
[03:15:26] <jdm> oh shi-
[03:15:44] <jdm> we're playing with attributes from the layout thread
[03:15:53] <jdm> layout task
[03:15:56] <jdm> those are @mut Attr
[03:15:56] <jdm> good times
[03:19:10] *** Joins: ghservo (ghservo@F6EE6DE3.6A2AE50.F3114085.IP)
[03:19:10] <ghservo> [13servo] 15jdm opened issue #1386: Stop sharing @mut Attr between script and layout threads 02http://git.io/cQPI0Q
[03:19:10] *** Parts: ghservo (ghservo@F6EE6DE3.6A2AE50.F3114085.IP) ()
[03:27:01] *** Joins: ^emi (glenlivet@moz-9FE842F.cpe.net.cable.rogers.com)
[03:31:45] *** Quits: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca) (Quit: Leaving.)
[03:34:30] *** Joins: dbaupp (Thunderbir@4F13D67D.D5A1DCF.37681C44.IP)
[03:41:46] *** Quits: dbaupp (Thunderbir@4F13D67D.D5A1DCF.37681C44.IP) (Ping timeout)
[03:46:04] *** Quits: jdm (jdm@moz-AC9499B2.cable.teksavvy.com) (Quit: Lost terminal)
[03:52:33] *** Quits: ahal (ahal@moz-7DE89BF0.cable.teksavvy.com) (Quit: Leaving)
[03:53:39] *** Quits: ^emi (glenlivet@moz-9FE842F.cpe.net.cable.rogers.com) (Ping timeout)
[03:56:22] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Quit: leaving)
[04:01:21] *** Quits: canhtak (canhtak@moz-1D882009.wl.t.ulaval.ca) (Quit: canhtak)
[04:03:21] *** Joins: dbaupp (Thunderbir@4F13D67D.D5A1DCF.37681C44.IP)
[04:06:23] *** Joins: pcwalton (pcwalton@moz-14285ACF.ptr.us.xo.net)
[04:06:23] *** ChanServ sets mode: +o pcwalton
[04:06:34] *** Joins: ghservo (ghservo@DE823A67.6A2AE50.F3114085.IP)
[04:06:34] <ghservo> [13servo] 15pcwalton opened pull request #1387: layout: Reference count `ComputedValues` structures like Gecko does. (06master...06ref-count-style) 02http://git.io/5RCWJw
[04:06:34] *** Parts: ghservo (ghservo@DE823A67.6A2AE50.F3114085.IP) ()
[04:07:00] <pcwalton> kmc: r? ^
[04:07:01] <pcwalton> 31% speedup on constraint solving for rainbow page
[04:07:02] <pcwalton> no difference in css matching surprisingly
[04:07:11] <pcwalton> jack: ^
[04:07:36] *** Quits: pcwalton (pcwalton@moz-14285ACF.ptr.us.xo.net) (Quit: pcwalton)
[04:07:38] <jack> nice
[04:17:36] *** Joins: canhtak (canhtak@moz-1D882009.wl.t.ulaval.ca)
[04:19:02] *** Quits: deokjinkim (Mibbit@B4104EBB.3CC170B1.1E14B209.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[04:19:28] *** Joins: deokjinkim (Mibbit@B4104EBB.3CC170B1.1E14B209.IP)
[04:20:55] *** Quits: dbaupp (Thunderbir@4F13D67D.D5A1DCF.37681C44.IP) (Ping timeout)
[04:21:41] *** Joins: Debloper (debloper@moz-88FF8AE8.redhat.com)
[04:25:22] *** Joins: ghservo (ghservo@DE823A67.6A2AE50.F3114085.IP)
[04:25:23] <ghservo> [13servo] 15hyunjunekim opened pull request #1388: Fixed this issue (https://github.com/mozilla/rust/issues/10683) (06master...06cssissues) 02http://git.io/pkHjMg
[04:25:23] *** Parts: ghservo (ghservo@DE823A67.6A2AE50.F3114085.IP) ()
[04:27:23] *** Quits: canhtak (canhtak@moz-1D882009.wl.t.ulaval.ca) (Quit: canhtak)
[04:28:13] *** Joins: canhtak (canhtak@moz-1D882009.wl.t.ulaval.ca)
[04:39:17] *** Joins: dbaupp (Thunderbir@4F13D67D.D5A1DCF.37681C44.IP)
[04:47:48] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[04:49:46] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[04:56:37] *** Joins: ^emi (glenlivet@moz-9FE842F.cpe.net.cable.rogers.com)
[05:05:40] <dhedlund> Anyone know if there's a good reason why the main program thread doesn't wait for the compositor task to finish before quitting?  I would assume it'd be to allow parallel GC, but it turns out that https://github.com/mozilla/servo/issues/1097 is due to that parallel GC.
[05:08:08] *** Quits: canhtak (canhtak@moz-1D882009.wl.t.ulaval.ca) (Quit: canhtak)
[05:09:50] *** Joins: vodik__ (simon@moz-FD4ADBC6.cable.teksavvy.com)
[05:09:59] *** Quits: dbaupp (Thunderbir@4F13D67D.D5A1DCF.37681C44.IP) (Ping timeout)
[05:10:15] *** Quits: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com) (Ping timeout)
[05:10:39] *** Quits: vodik_ (simon@moz-FD4ADBC6.cable.teksavvy.com) (Ping timeout)
[05:10:56] *** Joins: vodik___ (simon@moz-FD4ADBC6.cable.teksavvy.com)
[05:14:12] *** Joins: dbaupp (Thunderbir@4F13D67D.D5A1DCF.37681C44.IP)
[05:21:49] *** Quits: dbaupp (Thunderbir@4F13D67D.D5A1DCF.37681C44.IP) (Ping timeout)
[05:23:14] *** Quits: ^emi (glenlivet@moz-9FE842F.cpe.net.cable.rogers.com) (Ping timeout)
[05:23:16] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[05:23:16] *** ChanServ sets mode: +o pcwalton
[05:23:19] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[05:25:24] *** Joins: dbaupp (Thunderbir@4F13D67D.D5A1DCF.37681C44.IP)
[05:27:00] *** Quits: pradeep (pradeep@5AB4884B.FCC4549.14D5B978.IP) (Quit: Lost terminal)
[05:27:35] *** Joins: ghservo (ghservo@79968228.6A2AE50.F3114085.IP)
[05:27:35] <ghservo> [13servo] 15pcwalton opened issue #1389: Propagate text decoration down during assign-widths 02http://git.io/GeTLxw
[05:27:35] *** Parts: ghservo (ghservo@79968228.6A2AE50.F3114085.IP) ()
[05:39:03] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[05:39:04] *** ChanServ sets mode: +qo dherman dherman
[05:50:15] *** Quits: ibnc (ibnc@moz-718F3037.client.mchsi.com) (Client exited)
[05:50:49] *** Joins: ibnc (ibnc@moz-718F3037.client.mchsi.com)
[05:51:02] *** Quits: dbaupp (Thunderbir@4F13D67D.D5A1DCF.37681C44.IP) (Ping timeout)
[05:52:32] *** Quits: ibnc (ibnc@moz-718F3037.client.mchsi.com) (Ping timeout)
[06:01:40] *** Joins: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP)
[06:01:40] <ghservo> [13servo] 15pcwalton opened pull request #1390: layout: Remove unused `content_box_width` field from `Box`. (06master...06decontentboxwidth) 02http://git.io/qbmNpA
[06:01:40] *** Parts: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP) ()
[06:02:28] *** Quits: vodik__ (simon@moz-FD4ADBC6.cable.teksavvy.com) (Ping timeout)
[06:03:15] *** Quits: dreamer_ (Patryk@90E8C08F.8480A87C.DDAA0084.IP) (Quit: Leaving)
[06:10:31] *** Joins: ghservo (ghservo@C8693FCB.6A2AE50.F3114085.IP)
[06:10:31] <ghservo> 01[13servo01] 15bors-servo pushed 0 new commits to 06auto: 02http://git.io/mrw8nw
[06:10:31] *** Parts: ghservo (ghservo@C8693FCB.6A2AE50.F3114085.IP) ()
[06:10:31] *** Joins: ghservo (ghservo@2EE61FCC.6A2AE50.F3114085.IP)
[06:10:31] <ghservo> 01[13servo01] 15bors-servo pushed 2 new commits to 06auto: 02http://git.io/DSw69A
[06:10:31] <ghservo> 13servo/06auto 1469f4c38 15Patrick Walton: layout: Remove unused `content_box_width` field from `Box`....
[06:10:31] <ghservo> 13servo/06auto 143fe5071 15bors-servo: auto merge of #1390 : pcwalton/servo/decontentboxwidth, r=metajack...
[06:10:32] *** Parts: ghservo (ghservo@2EE61FCC.6A2AE50.F3114085.IP) ()
[06:13:21] *** Joins: jet (jet@moz-79F891EE.hsd1.ca.comcast.net)
[06:16:33] *** Quits: vodik___ (simon@moz-FD4ADBC6.cable.teksavvy.com) (Ping timeout)
[06:20:41] *** Joins: vodik__ (simon@moz-FD4ADBC6.cable.teksavvy.com)
[06:25:27] <bjz> jack: beep
[06:26:34] *** Joins: brendan (brendaneic@777B9EEC.C030CAFC.1EF54B18.IP)
[06:26:50] <bjz> jack: I'm wondering if you could help me move glfw-rs to makefiles. I'm not really sure how to do things like install/uninstall etc
[06:27:22] <bjz> jack: it would also be nice to do it in a way that would make it work ok with servo
[06:28:31] *** Joins: ^emi (glenlivet@moz-9FE842F.cpe.net.cable.rogers.com)
[06:29:03] <bjz> jack: I'm thinking also that it might be a good idea to move all those examples to the root of the src/examples folder. but yeah
[06:29:23] * bjz gets so confused with make
[06:29:29] *** Quits: brendan (brendaneic@777B9EEC.C030CAFC.1EF54B18.IP) (Ping timeout)
[06:31:29] <jack> Bjz: I can chat about it in the morning but the short answer is I've already started
[06:31:42] <bjz> jack: oh yay!
[06:31:51] <bjz> jack: sure thing
[06:32:19] * bjz is excited
[06:32:59] <bjz> jack: it's been a real pain not being able to build the examples via travis
[06:33:50] *** Joins: vodik___ (simon@moz-FD4ADBC6.cable.teksavvy.com)
[06:34:07] *** Joins: ghservo (ghservo@24260B07.6A2AE50.F3114085.IP)
[06:34:07] <ghservo> 01[13servo01] 15bors-servo merged 06auto into 06master: 02http://git.io/DSw69A
[06:34:07] *** Parts: ghservo (ghservo@24260B07.6A2AE50.F3114085.IP) ()
[06:34:08] *** Joins: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP)
[06:34:08] <ghservo> [13servo] 15bors-servo closed pull request #1390: layout: Remove unused `content_box_width` field from `Box`. (06master...06decontentboxwidth) 02http://git.io/qbmNpA
[06:34:08] *** Parts: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP) ()
[06:36:00] *** Quits: ^emi (glenlivet@moz-9FE842F.cpe.net.cable.rogers.com) (Ping timeout)
[06:48:43] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[06:49:47] *** Quits: harth (heather@moz-C07D5168.p2p.sfo1.mozilla.com) (Client exited)
[06:50:39] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[06:52:57] *** Joins: harth (heather@moz-C07D5168.p2p.sfo1.mozilla.com)
[06:53:12] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[06:53:52] *** Quits: jet (jet@moz-79F891EE.hsd1.ca.comcast.net) (Quit: jet)
[06:56:42] *** Joins: jet (jet@moz-79F891EE.hsd1.ca.comcast.net)
[06:59:05] *** Joins: dbaupp (Thunderbir@moz-EB2EFE6F.lns20.syd6.internode.on.net)
[07:00:50] *** Quits: jet (jet@moz-79F891EE.hsd1.ca.comcast.net) (Quit: jet)
[07:03:13] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[07:14:12] *** Quits: robn (robn@moz-76B0302C.static.internode.on.net) (Quit: Coyote finally caught me)
[07:14:37] *** Joins: pradeep (pradeep@5AB4884B.FCC4549.14D5B978.IP)
[07:14:55] *** Joins: vky (chatzilla@moz-4F2E17BF.dsl.dynamic.sonic.net)
[07:22:08] *** Joins: jaebaek (jaebaek@moz-BF74898.kaist.ac.kr)
[07:22:29] <jaebaek> @june0cho_
[07:22:31] <jaebaek> hi
[07:24:26] *** Quits: harth (heather@moz-C07D5168.p2p.sfo1.mozilla.com) (Client exited)
[07:27:49] *** Quits: vodik__ (simon@moz-FD4ADBC6.cable.teksavvy.com) (Ping timeout)
[07:28:39] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[07:30:51] *** Quits: fabrice (fabrice@moz-94F028C6.hsd1.ca.comcast.net) (Ping timeout)
[07:31:47] *** Joins: fabrice (fabrice@moz-94F028C6.hsd1.ca.comcast.net)
[07:37:52] *** Joins: ^emi (glenlivet@moz-9FE842F.cpe.net.cable.rogers.com)
[07:40:18] *** Joins: alex-abreu (alex@moz-4B4D75AD.rev.sfr.net)
[07:50:50] *** fabrice is now known as fabrice|afk
[07:55:01] *** Joins: Ms2ger (Ms2ger@57ACE628.C60A97A6.F9FB0584.IP)
[08:00:24] *** Quits: victorporof_ (victorporo@C8C495F5.E3195F0D.9B1E38F4.IP) (Ping timeout)
[08:00:39] *** Joins: victorporof (victorporo@C8C495F5.E3195F0D.9B1E38F4.IP)
[08:02:31] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[08:02:48] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:03:30] *** Quits: vodik___ (simon@moz-FD4ADBC6.cable.teksavvy.com) (Ping timeout)
[08:03:48] *** Quits: fredy (fredy@moz-E7647C0E.vm.okeanos.grnet.gr) (Ping timeout)
[08:03:48] *** Quits: zz_kimundi (kimundi@moz-B3388EAA.dip0.t-ipconnect.de) (Ping timeout)
[08:04:06] *** Joins: vodik___ (simon@moz-FD4ADBC6.cable.teksavvy.com)
[08:04:12] *** Quits: rhodesd (none@3646D136.4C5731DA.F395EA5B.IP) (Ping timeout)
[08:04:20] *** Quits: wchen (wchen@2D12D1F7.7CA4D702.F7A44A1B.IP) (Ping timeout)
[08:04:20] *** Quits: bhearsum|afk (bhearsum@moz-FBAE94.members.linode.com) (Ping timeout)
[08:04:20] *** Quits: ivan (ivan@moz-531C3EC9.members.linode.com) (Ping timeout)
[08:04:20] *** Quits: jxs (joaoxsouls@1FF12F4F.CDF09DE2.D6573861.IP) (Ping timeout)
[08:04:20] *** Quits: ToBeFree (tobefree@moz-EA367A59.de) (Ping timeout)
[08:04:20] *** Quits: reyre (reyre@moz-89E9865B.com) (Ping timeout)
[08:04:20] *** Quits: nielsle (nielsle@moz-C46DA772.boa.fiberby.dk) (Ping timeout)
[08:04:20] *** Quits: secretrobotron (secretrobo@moz-E9501591.members.linode.com) (Ping timeout)
[08:04:20] *** Quits: victorporof (victorporo@C8C495F5.E3195F0D.9B1E38F4.IP) (Ping timeout)
[08:04:26] *** Joins: victorporof (victorporo@C8C495F5.E3195F0D.9B1E38F4.IP)
[08:04:30] *** Quits: deokjinkim (Mibbit@B4104EBB.3CC170B1.1E14B209.IP) (Ping timeout)
[08:04:30] *** Quits: bstrie (ben@moz-D5A1D0F5.members.linode.com) (Ping timeout)
[08:04:32] *** Quits: Cork (Cork@moz-352B7E7B.a370.priv.bahnhof.se) (Ping timeout)
[08:04:34] *** Quits: ekiara (emk@moz-9B1940E9.tech.co.ke) (Ping timeout)
[08:05:01] *** Joins: zz_kimundi (kimundi@moz-B3388EAA.dip0.t-ipconnect.de)
[08:05:10] *** zz_kimundi is now known as kimundi
[08:05:11] *** Joins: ekiara (emk@moz-9B1940E9.tech.co.ke)
[08:05:37] *** Joins: Cork (Cork@moz-352B7E7B.a370.priv.bahnhof.se)
[08:06:05] *** Quits: ^emi (glenlivet@moz-9FE842F.cpe.net.cable.rogers.com) (Ping timeout)
[08:06:19] *** Joins: bstrie (ben@moz-D5A1D0F5.members.linode.com)
[08:06:59] *** Joins: nielsle (nielsle@moz-C46DA772.boa.fiberby.dk)
[08:07:15] *** Quits: victorporof (victorporo@C8C495F5.E3195F0D.9B1E38F4.IP) (Quit: victorporof)
[08:08:02] *** Joins: rhodesd (none@3646D136.4C5731DA.F395EA5B.IP)
[08:08:13] *** Joins: bhearsum (bhearsum@moz-FBAE94.members.linode.com)
[08:08:20] *** Joins: secretrobotron (secretrobo@moz-E9501591.members.linode.com)
[08:08:30] *** Joins: reyre (reyre@moz-89E9865B.com)
[08:08:39] *** Joins: wchen (wchen@2D12D1F7.7CA4D702.F7A44A1B.IP)
[08:09:11] *** Joins: ivan (ivan@moz-531C3EC9.members.linode.com)
[08:09:30] *** Joins: ToBeFree (tobefree@moz-EA367A59.de)
[08:09:37] *** Joins: jxs (joaoxsouls@1FF12F4F.CDF09DE2.D6573861.IP)
[08:13:35] *** Joins: fredy (fredy@moz-E7647C0E.vm.okeanos.grnet.gr)
[08:17:35] *** Quits: miketaylr (mtaylor@moz-8ACC7131.dyn.grandenetworks.net) (Quit: Leaving...)
[08:24:12] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.2)
[08:27:25] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[08:35:35] *** Joins: victorporof (victorporo@C8C495F5.E3195F0D.9B1E38F4.IP)
[08:43:23] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:49:41] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[08:51:37] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[09:19:17] *** Joins: ^emi (glenlivet@moz-9FE842F.cpe.net.cable.rogers.com)
[09:25:12] *** Joins: glazou (glazou@D8B9C081.E820043D.D4C04133.IP)
[09:35:51] *** Quits: ^emi (glenlivet@moz-9FE842F.cpe.net.cable.rogers.com) (Ping timeout)
[09:49:54] *** Joins: ^emi (glenlivet@moz-9FE842F.cpe.net.cable.rogers.com)
[09:54:10] *** Quits: pradeep (pradeep@5AB4884B.FCC4549.14D5B978.IP) (Quit: leaving)
[10:03:34] *** Quits: vky (chatzilla@moz-4F2E17BF.dsl.dynamic.sonic.net) (Quit: ChatZilla 0.9.90.1 [Firefox 26.0/20131202182626])
[10:05:56] *** Joins: deokjinkim (Mibbit@B4104EBB.3CC170B1.1E14B209.IP)
[10:14:01] *** Joins: robn (robn@moz-76B0302C.static.internode.on.net)
[10:50:38] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[10:52:29] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[10:53:04] *** Joins: jaebaek_ (jaebaek@4D10E9F2.E551553C.7544CABF.IP)
[10:53:18] <jaebaek_> hi
[10:53:54] <jaebaek_> i tried to open http://www.google.co.kr using servo
[10:54:04] <jaebaek_> it does not work
[10:54:35] <jaebaek_> can u let me know which url currently work using servo?
[10:55:07] <cmr> jaebaek_: there are some test files in src/test/html
[10:55:27] <jaebaek_> i see. thx
[10:55:56] <jaebaek_> btw, does servo currently support to connect some web pages in online?
[10:56:39] <jaebaek_> if not, currently only support to render local html and css files?
[10:57:03] <cmr> it does, but it doesn't handle stuff like redirects properly right now.
[10:57:25] <jaebaek_> got it :-)
[11:01:10] <glazou> jaebaek_, you can try one of my personal pages ; it does not crash but is not perfect because of iso-8859-1, nice test
[11:01:12] <glazou> http://www.glazman.org/animal.html
[11:02:59] <eddyb> using rust-encoding should fix that, right?
[11:03:02] <glazou> ok, I now Document.createElementNS() working including a reftest
[11:03:07] <glazou> now have even
[11:03:15] <glazou> eddyb, yes
[11:08:07] *** Joins: Kostic (marko@moz-CA2DB8AA.mbb.telenor.rs)
[11:08:42] *** Quits: Ms2ger (Ms2ger@57ACE628.C60A97A6.F9FB0584.IP) (Quit: bbl)
[11:11:39] <jaebaek_> glazou, it works!
[11:11:50] <glazou> yep
[11:12:25] <jaebaek_> glazou, do u develop js part in rust?
[11:12:54] <glazou> I don't understand the question sorry
[11:15:25] <jaebaek_> i wonder you are working on javascript of servo project because u said "I now Document.createElementNS() working including a reftest"
[11:15:56] <glazou> I am currently adding stuff to DOM, that's different
[11:16:48] <jaebaek_> i see
[11:25:57] *** Joins: kmapped2 (kmapped2@A35331CF.60E9685E.20F09BA6.IP)
[11:27:37] *** Quits: Kostic (marko@moz-CA2DB8AA.mbb.telenor.rs) (Ping timeout)
[11:27:52] *** Joins: Kostic (marko@moz-CA2DB8AA.mbb.telenor.rs)
[11:30:32] *** Joins: ghservo (ghservo@C8693FCB.6A2AE50.F3114085.IP)
[11:30:32] <ghservo> [13servo] 15therealglazou opened pull request #1391: Implement Document.createElementNS() (06master...06therealglazou/createElementNS) 02http://git.io/5aD73A
[11:30:32] *** Parts: ghservo (ghservo@C8693FCB.6A2AE50.F3114085.IP) ()
[12:00:59] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[12:03:11] *** Quits: Kostic (marko@moz-CA2DB8AA.mbb.telenor.rs) (Ping timeout)
[12:04:07] *** Joins: Kostic (marko@moz-CA2DB8AA.mbb.telenor.rs)
[12:14:21] *** Joins: _eddyb_ (eddy@moz-68E0B7D0.residential.rdsnet.ro)
[12:14:21] *** Quits: eddyb (eddy@moz-68E0B7D0.residential.rdsnet.ro) (Connection reset by peer)
[12:16:30] *** _eddyb_ is now known as eddyb
[12:41:58] *** Joins: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca)
[12:51:32] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[12:53:18] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[13:04:08] *** Joins: Ms2ger (Ms2ger@moz-5E951152.ugent.be)
[13:11:32] *** bhearsum is now known as bhearsum|buildduty
[13:33:15] *** Quits: jaebaek_ (jaebaek@4D10E9F2.E551553C.7544CABF.IP) (Ping timeout)
[13:35:30] *** Joins: jaebaek_ (jaebaek@4D10E9F2.E551553C.7544CABF.IP)
[13:36:27] *** Joins: ghservo (ghservo@2EE61FCC.6A2AE50.F3114085.IP)
[13:36:28] <ghservo> [13servo] 15Ms2ger opened pull request #1392: Rename some 'new' functions to 'new_inherited'. (06master...06Node-new_inherited) 02http://git.io/UwV6mQ
[13:36:28] *** Parts: ghservo (ghservo@2EE61FCC.6A2AE50.F3114085.IP) ()
[13:44:20] *** Joins: canhtak (canhtak@moz-1D882009.wl.t.ulaval.ca)
[13:46:51] *** Quits: Kostic (marko@moz-CA2DB8AA.mbb.telenor.rs) (Quit: Kostic)
[13:53:53] *** Quits: fredy (fredy@moz-E7647C0E.vm.okeanos.grnet.gr) (Ping timeout)
[13:54:30] *** Joins: sankha93 (Instantbir@812848B2.35354309.EFB84E89.IP)
[13:56:36] *** Joins: ahal (ahal@moz-7DE89BF0.cable.teksavvy.com)
[13:59:07] *** Joins: fredy (fredy@moz-E7647C0E.vm.okeanos.grnet.gr)
[14:05:06] *** Joins: miketaylr (mtaylor@moz-8ACC7131.dyn.grandenetworks.net)
[14:16:06] <eddyb> jack, cmr: I've dropped by 300ms removing match cases... I think I can specialize the decoder based on color type so it doesn't match it every time. I don't know, I'm getting close to libpng perf
[14:17:20] <eddyb> just 30% slower
[14:21:26] *** Quits: Ms2ger (Ms2ger@moz-5E951152.ugent.be) (Ping timeout)
[14:22:02] *** Joins: Ms2ger (Ms2ger@moz-5E951152.ugent.be)
[14:24:26] *** Quits: Ms2ger (Ms2ger@moz-5E951152.ugent.be) (Ping timeout)
[14:24:41] *** Joins: Ms2ger (Ms2ger@moz-5E951152.ugent.be)
[14:27:12] *** Quits: miketaylr (mtaylor@moz-8ACC7131.dyn.grandenetworks.net) (Quit: Leaving...)
[14:38:53] *** Quits: deokjinkim (Mibbit@B4104EBB.3CC170B1.1E14B209.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[14:40:16] *** Quits: victorporof (victorporo@C8C495F5.E3195F0D.9B1E38F4.IP) (Quit: victorporof)
[14:41:02] *** Joins: victorporof (victorporo@C8C495F5.E3195F0D.9B1E38F4.IP)
[14:52:27] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[14:54:14] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[14:58:13] *** Joins: ghservo (ghservo@9C8B94D4.6A2AE50.F3114085.IP)
[14:58:14] <ghservo> 01[13servo01] 15bors-servo pushed 0 new commits to 06auto: 02http://git.io/2OcrrA
[14:58:14] *** Parts: ghservo (ghservo@9C8B94D4.6A2AE50.F3114085.IP) ()
[14:58:15] *** Joins: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP)
[14:58:15] <ghservo> 01[13servo01] 15bors-servo pushed 2 new commits to 06auto: 02http://git.io/XD_NsA
[14:58:15] <ghservo> 13servo/06auto 147f4283f 15Ms2ger: Rename some 'new' functions to 'new_inherited'.
[14:58:15] <ghservo> 13servo/06auto 146679baa 15bors-servo: auto merge of #1392 : Ms2ger/servo/Node-new_inherited, r=metajack...
[14:58:15] *** Parts: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP) ()
[15:00:23] *** Joins: miketaylr (mtaylor@moz-AD48788D.sw.biz.rr.com)
[15:03:22] <eddyb> 1.09user 0.10system 0:01.19elapsed 100PU (0avgtext+0avgdata 10688maxresident)k
[15:03:26] <eddyb> HYPE HYPE HYPE
[15:03:38] <eddyb> libpng does 1.27 IIRC
[15:03:56] *** Quits: Ms2ger (Ms2ger@moz-5E951152.ugent.be) (Ping timeout)
[15:04:19] <eddyb> cmr: there's nobody around to be proud of me :/
[15:04:39] <cmr> eddyb: the 'i tried' star always looks upon you, proudly.
[15:06:32] *** Quits: canhtak (canhtak@moz-1D882009.wl.t.ulaval.ca) (Quit: canhtak)
[15:17:37] <eddyb> what I don't understand is that it's just as fast when I memset the pixels to 0
[15:17:44] <eddyb> so it's all transparent
[15:19:16] *** Joins: ghservo (ghservo@2EE61FCC.6A2AE50.F3114085.IP)
[15:19:16] <ghservo> 01[13servo01] 15bors-servo merged 06auto into 06master: 02http://git.io/XD_NsA
[15:19:16] *** Parts: ghservo (ghservo@2EE61FCC.6A2AE50.F3114085.IP) ()
[15:19:17] *** Joins: ghservo (ghservo@9C8B94D4.6A2AE50.F3114085.IP)
[15:19:17] <ghservo> [13servo] 15bors-servo closed pull request #1392: Rename some 'new' functions to 'new_inherited'. (06master...06Node-new_inherited) 02http://git.io/UwV6mQ
[15:19:18] *** Parts: ghservo (ghservo@9C8B94D4.6A2AE50.F3114085.IP) ()
[15:23:20] <eddyb> cmr: I have only three hacks left in the code: grayscale/palette-handling code for less than 8 bits - so everything doing bit unpacking - is disabled, I have an impromptu chunks iterator and setting a byte in the pixels array doesn't bound check
[15:24:03] *** Joins: Ms2ger (Ms2ger@moz-5E951152.ugent.be)
[15:24:17] <eddyb> cmr: the last two use unsafe and vec::raw. the last one depends on the logic being sane everywhere else to remain in bounds. it should be cheaper if/when we move to the fat pointer repr
[15:25:50] <eddyb> wait, a slice already has that repr. let me try that
[15:32:05] *** Joins: canhtak (canhtak@moz-1D882009.wl.t.ulaval.ca)
[15:36:09] *** Quits: glazou (glazou@D8B9C081.E820043D.D4C04133.IP) (Quit: bbl)
[15:37:57] *** Quits: jaebaek_ (jaebaek@4D10E9F2.E551553C.7544CABF.IP) (Ping timeout)
[15:44:07] *** Joins: abinader (abinader@D8B9C081.E820043D.D4C04133.IP)
[15:57:34] *** Joins: ibnc (ibnc@moz-718F3037.client.mchsi.com)
[16:00:02] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[16:00:02] *** ChanServ sets mode: +qo dherman dherman
[16:06:49] *** Quits: miketaylr (mtaylor@moz-AD48788D.sw.biz.rr.com) (Quit: Leaving...)
[16:12:55] *** Joins: bholley (bholley@moz-A2189431.hsd1.ca.comcast.net)
[16:15:41] *** Quits: Ms2ger (Ms2ger@moz-5E951152.ugent.be) (Quit: bbl)
[16:16:21] *** Joins: miketaylr (mtaylor@moz-AD48788D.sw.biz.rr.com)
[16:18:02] *** Joins: qlkzy (user@moz-6347038F.range86-177.btcentralplus.com)
[16:26:33] *** Quits: fabrice|afk (fabrice@moz-94F028C6.hsd1.ca.comcast.net) (Quit: Leaving.)
[16:26:44] *** Joins: fabrice (fabrice@moz-94F028C6.hsd1.ca.comcast.net)
[16:26:47] *** Quits: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca) (Ping timeout)
[16:27:17] *** Quits: fabrice (fabrice@moz-94F028C6.hsd1.ca.comcast.net) (Max SendQ exceeded)
[16:27:58] *** Joins: fabrice (fabrice@moz-94F028C6.hsd1.ca.comcast.net)
[16:28:26] *** kimundi is now known as zz_kimundi
[16:30:11] *** Quits: canhtak (canhtak@moz-1D882009.wl.t.ulaval.ca) (Ping timeout)
[16:30:32] *** Joins: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca)
[16:30:48] *** Quits: fabrice (fabrice@moz-94F028C6.hsd1.ca.comcast.net) (Ping timeout)
[16:41:51] *** Quits: qlkzy (user@moz-6347038F.range86-177.btcentralplus.com) (Client exited)
[16:46:55] *** Joins: qlkzy (qlkzy@moz-A97B5CE9.members.linode.com)
[16:51:59] *** Joins: canhtak (canhtak@moz-1D882009.wl.t.ulaval.ca)
[16:52:15] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[16:53:22] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[16:55:17] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[17:02:07] *** Joins: fabrice (fabrice@moz-7B0110AD.mv.mozilla.com)
[17:06:19] *** ahal is now known as ahal|lunch
[17:10:13] <eddyb> jack: did you splice open one of those PNGs?
[17:10:39] <jack> no
[17:10:57] *** Joins: TimAbraldes (quassel@125EF623.B2666F0E.66399531.IP)
[17:13:56] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[17:14:10] *** Quits: canhtak (canhtak@moz-1D882009.wl.t.ulaval.ca) (Quit: canhtak)
[17:18:57] <eddyb> I can't find an easy way to dump metadata
[17:21:53] <eddyb> jack: can you `strings -n 6 foo.png | ix`, for my curiosity?
[17:22:17] <eddyb> I don't want to build servo before it's upgraded to rust master
[17:23:01] <jack> do you mean grep ix?
[17:23:28] <eddyb> ix as in the python script which uploads its input to ix.io. any pastebin will do :P
[17:23:39] <jack> oh
[17:23:55] <jack> https://gist.github.com/metajack/7931807
[17:25:09] *** Joins: jet (jet@moz-79F891EE.hsd1.ca.comcast.net)
[17:25:14] <eddyb> uhm, there's nothing obvious there. text would've showed up
[17:25:27] *** zz_kimundi is now known as kimundi
[17:26:31] <eddyb> jack: can you upload a pair of those identical-content-but-different-hash files somewhere? unless you happen to have a bindiff tool handy, in which case, run that
[17:26:57] <jack> i don't even know if i can reproduce kmc's bug :)
[17:27:07] <eddyb> heh
[17:28:50] <eddyb> you could, you know, bruteforce the PNG into existence :P
[17:29:40] <eddyb> dhedlund: you around? can you confirm this still happens? https://github.com/mozilla/servo/pull/1349#issuecomment-30062393
[17:33:11] *** Joins: Ms2ger (Ms2ger@moz-97D6582B.adsl-dyn.isp.belgacom.be)
[17:34:58] <jack> i can't figure out why this isn't equivalent:
[17:35:12] <jack> echo -n github.com/mozilla-servo/rust-geom#0.1 | shasum -a 256
[17:35:13] <jack> and
[17:35:39] <jack> $(shell echo -n github.com/mozilla-servo/rust-geom\#0.1 | shasum -a 256)
[17:35:44] <jack> (in a Makefile)
[17:36:10] <eddyb> o_O
[17:36:37] <jack> what the hell is make doing to the echo arguments that changes teh sha?
[17:36:40] <eddyb> jack: the latter might go to /bin/sh, but I'm not sure
[17:36:46] *** Quits: jet (jet@moz-79F891EE.hsd1.ca.comcast.net) (Quit: jet)
[17:37:00] <eddyb> jack: check if the latter is the same as the former without -n
[17:37:05] <eddyb> also try without the #
[17:37:30] <eddyb> (since I see you escaped it)
[17:38:35] *** Quits: Debloper (debloper@moz-88FF8AE8.redhat.com) (Quit: Leaving.)
[17:38:47] <jack> you're right.
[17:38:52] <jack> sh and bash give completely differnet answers!
[17:38:55] <jack> wtf!
[17:39:25] <eddyb> echo is built-in, and sh probably doesn't have -n
[17:40:07] <eddyb> lrwxrwxrwx 1 root root 4 oct 25 16:39 /bin/sh -> bash*
[17:40:32] <jack> \\c works
[17:40:38] <jack> what a hack
[17:40:58] <eddyb> for... what?
[17:41:10] <jack> echo foo\\c
[17:41:14] <jack> also suppresses the newline
[17:41:18] <jack> that's actually in POSIX.1
[17:41:19] <eddyb> hah
[17:41:22] <jack> (but so is -n)
[17:41:28] <jack> apparently i can use printf
[17:42:14] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[17:42:15] *** ChanServ sets mode: +o pcwalton
[17:42:44] *** Joins: canhtak (canhtak@moz-1D882009.wl.t.ulaval.ca)
[17:42:50] <jack> I will forget I ever knew about echo now.
[17:43:11] <eddyb> pcwalton: I think I meant to ask you something. or tell you I beat libpng :D
[17:43:17] <pcwalton> in performance?
[17:43:28] <eddyb> yupp. for test.png, though, that might be biased
[17:43:36] <pcwalton> \o/ cool!
[17:44:00] <pcwalton> it's usually not overly difficult to beat very large C/C++ codebases (like Blink)
[17:44:09] <pcwalton> simply because Rust does LTO ;)
[17:44:31] <pcwalton> I just squeezed out 30% more reflow performance in Servo
[17:44:37] <Ms2ger> That's all ;)
[17:44:39] <Ms2ger> ?
[17:44:41] <pcwalton> and we were already beating Blink by like 20% or 30%
[17:44:54] <Ms2ger> (Assemble those two messages somehow)
[17:45:47] <pcwalton> I want to test whether storing percentages as fractions of i32::MAX_VALUE is faster than using f32
[17:45:55] <eddyb> pcwalton: I have only three hacks left in the code: grayscale/palette-handling code for less than 8 bits - so everything doing bit unpacking - is disabled, I have an impromptu chunks iterator and setting a byte in the pixels array doesn't bound check. the last two use unsafe and vec::raw. the last one depends on the logic being sane everywhere else to remain in bounds. bound checking is nasty atm
[17:46:09] <jack> why doesn't make have temp variables? :)
[17:46:20] <Ms2ger> Maaaaaaaaaaaaaaaaaaaaaaaaaaaake
[17:46:20] <pcwalton> since you can then calculate percentage lengths by just multiplying by the percentage and taking the high 32 bits
[17:46:37] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[17:46:37] *** ChanServ sets mode: +qo dherman dherman
[17:46:43] <eddyb> pcwalton: hah :D
[17:46:47] <pcwalton> replaces floating point conversions by integer math
[17:46:54] <eddyb> I... did that today
[17:47:11] *** ahal|lunch is now known as ahal
[17:47:12] <eddyb> helping someone speed up a shootout benchmark
[17:47:21] <pcwalton> I see a lot of cvttsd2si in the servo layout code
[17:47:26] <pcwalton> which makes me sad
[17:47:34] <pcwalton> for calculating percentage stuff
[17:47:51] <Ms2ger> cvwhat?
[17:47:59] <pcwalton> the x86 instruction for doing f64 -> i32 conversion
[17:48:00] <Ms2ger> That sounds like a C function
[17:48:05] <pcwalton> it's an SSE instruction
[17:48:11] <pcwalton> the SSE instructions tend to have really long names
[17:48:31] <eddyb> pcwalton: I can probably put the bounds checks back in after I write a Rust inflate implementation or LTO against zlib :P
[17:48:42] <pcwalton> cool
[17:49:02] <eddyb> it's still safe, because the logic around it does the right checks, it's just a safety hazard
[17:49:26] <eddyb> (and LLVM has no way of using that typestate-like information)
[17:50:05] <cmr> pcwalton: did you see that -Z lto is a thing now?
[17:50:08] <pcwalton> yup
[17:55:41] *** Quits: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca) (Input/output error)
[17:56:55] *** Joins: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca)
[17:58:11] <eddyb> pcwalton: so, I'm thinking... how would you want to customize the output of the PNG decoder?
[17:58:17] *** Quits: abinader (abinader@D8B9C081.E820043D.D4C04133.IP) (Ping timeout)
[17:58:26] <pcwalton> customize?
[17:58:31] <pcwalton> not sure exactly what you mean
[17:58:36] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[17:59:14] <jack> Is bors working now? I see pcwalton retrying
[17:59:22] <eddyb> I doubt it
[18:01:31] *** Joins: abinader (abinader@16F1E95C.5F2797A0.B3575E10.IP)
[18:01:55] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[18:01:55] *** ChanServ sets mode: +o pcwalton
[18:02:11] *** Joins: jet (jet@moz-79F891EE.hsd1.ca.comcast.net)
[18:02:37] <eddyb> pcwalton: yes. right now it's RGBA8, like the libpng bindings. closures are only optimized if you're lucky (like you have enough free stack or something), but something like a couple of unit structs implementing a template could work. the swaps you're doing right now could be free with rust-png :D
[18:02:55] *** Quits: miketaylr (mtaylor@moz-AD48788D.sw.biz.rr.com) (Quit: Leaving...)
[18:04:52] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[18:04:53] *** ChanServ sets mode: +o brson
[18:06:02] <eddyb> pcwalton: so is png::Decoder<ARGB_U32_LE_or_whatever> ok with you?
[18:06:07] <pcwalton> that's fine
[18:06:20] <eddyb> except I have no idea how to name that color profile :P
[18:06:40] <Ms2ger> "ARGB_U32_LE_or_whatever"
[18:10:15] *** Joins: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com)
[18:10:20] <eddyb> BGRA8?
[18:10:39] * eddyb wishes he could have default types for generics
[18:11:09] <pcwalton> eddyb: could use the OpenGL names
[18:11:25] <pcwalton> http://www.opengl.org/sdk/docs/man/xhtml/glTexImage2D.xml
[18:11:33] <pcwalton> GL_UNSIGNED_INT_8_8_8_8_REV
[18:11:35] <pcwalton> is kinda long
[18:11:52] <eddyb> why REV? is there any reason for using *that* format?
[18:11:57] *** Quits: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com) (Quit: WeeChat 0.4.3-dev)
[18:12:09] <pcwalton> well, the names are standardized
[18:12:12] <pcwalton> through khronos
[18:12:41] <eddyb> pcwalton: I mean, why does servo use that buffer format?
[18:12:47] <pcwalton> oh
[18:12:55] <pcwalton> because Azure requires it :(
[18:13:01] <eddyb> REV in its name suggests it's reversed from something sane :P
[18:13:02] <pcwalton> which is because Skia/Cairo require it
[18:13:04] <pcwalton> yeah
[18:13:14] <jack> Mac is reversed from linux i think
[18:13:20] <pcwalton> it's Skia/Cairo/CoreGraphics/D2D's fault.
[18:13:46] <eddyb> pcwalton: at least it's cheap in my decoder :P
[18:14:10] <eddyb> what about K8/KA8?
[18:14:51] <eddyb> if I output K8 (i.e. without alpha), the partial output will be inconsistent with everything else
[18:15:10] <eddyb> since I actually make pixels opaque after they're fully decoded
[18:15:28] <eddyb> wait, does this mean it's thread safe? lol
[18:15:51] *** Quits: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca) (Input/output error)
[18:15:57] * eddyb has to think for a second. or bring strcat in
[18:16:38] <eddyb> I can't see the CPU reordering the individual stores
[18:16:52] *** Joins: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca)
[18:17:00] *** Quits: sankha93 (Instantbir@812848B2.35354309.EFB84E89.IP) (Quit: Gone to save the world!)
[18:17:18] <eddyb> there's no mutable state other than the contents of the pixels array itself, reading it in any direction should produce valid outputs
[18:17:27] <kmc> pcwalton: where does the performance win in https://github.com/mozilla/servo/pull/1387 come from? did you elimiinate a copy of style structs?
[18:17:35] <eddyb> ETA on servo/rust-master?
[18:17:55] <pcwalton> kmc: eliminates going to the node and eliminates traversing the node graph
[18:17:59] * eddyb can't wait to compile servo and make it load an image pixel by pixel :P
[18:18:01] <pcwalton> the DOM graph
[18:18:27] <kmc> where was the traversal?
[18:19:37] <pcwalton> everything that used nearest_ancestor_element().style()
[18:19:42] <pcwalton> which was a lot of code
[18:19:52] <pcwalton> by moving that into flow building it's much faster
[18:19:54] *** Quits: canhtak (canhtak@moz-1D882009.wl.t.ulaval.ca) (Quit: canhtak)
[18:19:57] <pcwalton> and didn't impact the perf of flow building
[18:20:13] *** Joins: rusti (rusti@moz-61B073BC.cpe.net.cable.rogers.com)
[18:20:19] <kmc> i see. and Arc just lets you hold a ptr to that ancestor style from the box
[18:20:23] <kmc> cool :)
[18:20:53] <SimonSapin> pcwalton: Im worried itll do the wrong thing for anonymous boxes, though
[18:21:05] <pcwalton> SimonSapin: it's what WebKit does.
[18:21:27] <pcwalton> also what Gecko does
[18:21:31] <pcwalton> I think going to the node is wrong
[18:21:50] <SimonSapin> what Gecko does is simalar but not that simple, as far as I understand
[18:22:10] <SimonSapin> I agree on the idea of having styles on frames/flows/boxes
[18:22:25] <pcwalton> well, personally I think this is a step in the right direction
[18:22:29] <pcwalton> going to the node is just wrong
[18:22:31] <pcwalton> for many reasons
[18:22:36] <SimonSapin> yes
[18:22:43] <pcwalton> ok, sure
[18:22:44] *** kimundi is now known as zz_kimundi
[18:22:57] <SimonSapin> but still, we should make sure to have the right set of style
[18:23:02] <pcwalton> sure
[18:23:05] *** Joins: CaseyBecking (CaseyBecki@ED8170C4.82E507D6.C334098E.IP)
[18:23:45] *** Joins: canhtak (canhtak@moz-1D882009.wl.t.ulaval.ca)
[18:24:08] <pcwalton> SimonSapin: I'm reworking cascade to be inside-out, so that the caller of cascade provides the iteration
[18:24:14] <pcwalton> instead of passing an array
[18:24:15] <pcwalton> this seems to be what Gecko does
[18:24:23] <SimonSapin> ok
[18:24:26] <pcwalton> this is the first step to reduce allocations
[18:24:29] <pcwalton> is that ok?
[18:33:48] *** Quits: abinader (abinader@16F1E95C.5F2797A0.B3575E10.IP) (Quit: abinader)
[18:34:50] *** Joins: abinader (abinader@D8B9C081.E820043D.D4C04133.IP)
[18:36:39] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[18:37:16] <SimonSapin> Brendan Eich: "Were serious about this. Were gonna push this towards productization in a couple of years." http://www.infoq.com/presentations/web-evolution-trends 48:57
[18:39:18] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[18:39:18] *** ChanServ sets mode: +o brson
[18:44:29] *** Joins: jdm (jdm@moz-AC9499B2.cable.teksavvy.com)
[18:44:29] *** ChanServ sets mode: +o jdm
[18:45:46] *** Quits: CaseyBecking (CaseyBecki@ED8170C4.82E507D6.C334098E.IP) (Ping timeout)
[18:50:51] <kmc> should "id" here be namespace-specific the same way as "style"? https://github.com/mozilla/servo/blob/master/src/components/script/dom/element.rs#L266-L276
[18:54:18] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[18:56:18] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[18:59:37] <jdm> Ms2ger: ^
[18:59:50] <Ms2ger> Yes
[18:59:52] * Ms2ger looks
[19:00:27] <Ms2ger> We just shouldn't call after_set_attr for non-no-namespaced attributes, I think
[19:00:56] <kmc> okay
[19:01:03] <kmc> i'll change that since I'm messing with this code anyway
[19:01:14] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[19:02:47] *** Joins: CaseyBecking (CaseyBecki@moz-29F30CC3.lsanca.fios.verizon.net)
[19:04:28] <eddyb> jdm: ohai. I can tell you too. I beat libpng for test.png
[19:05:28] <jdm> eddyb: \o/
[19:05:32] <jdm> that's rad
[19:09:09] <brson> eddyb: rad
[19:09:18] <brson> eddyb: how did you beat libpng?
[19:10:16] <eddyb> by carefully ignoring every consideration of safety built into Rust :P
[19:10:56] <eddyb> I'm (partially) joking. maybe LLVM optimizes better with --opt-level=3 than whatever libpng was compiled with
[19:11:27] <eddyb> (for some reason, the zlib buffer size of 0x1000 - i.e. one page - seems to work best. lucky guess?)
[19:11:51] <eddyb> brson: but I had to go around bounds checking in one place, it's not optimized at all
[19:12:24] <eddyb> and I use unsafe vector gets in another place because we don't have a strict_chunks iter
[19:13:29] <eddyb> well, there's no easy way to implement what I need. I basically take all 3-byte chunks from a vector, until I have less than 3 bytes left. the check for the latter case is per iteration with .chunks(3), and that's a nasty slowdown
[19:13:48] <eddyb> I think that's what got me faster than libpng, actually
[19:14:53] <eddyb> thought a .strict_chunks(3) could work, since the way I know how many bytes are left is with a counter I increase in the loop - I can do the same thing with a strict_chunks. and I could maybe name it better
[19:15:09] *** Joins: dherman (dherman@moz-B31C6965.dsl.pltn13.sbcglobal.net)
[19:15:09] *** ChanServ sets mode: +qo dherman dherman
[19:15:26] <eddyb> brson: oh, and https://github.com/mozilla/rust/pull/10918 speeds up vec::from_elem by about 20x
[19:17:13] <jdm> heh
[19:17:52] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[19:18:12] <eddyb> and I disabled sub-byte formats (grayscale and palette ones with 1, 2 or 4 bits per pixel) just so there's not too much stack usage/code in the decoder function - it's 3 times slower with those cases (which are switch table entries not taken in test.png)
[19:27:07] *** Joins: jackneill (jackneill@moz-3C74D5A9.pool.digikabel.hu)
[19:28:40] *** Quits: canhtak (canhtak@moz-1D882009.wl.t.ulaval.ca) (Quit: canhtak)
[19:30:57] <pcwalton> SimonSapin: never mind, that's not what WebKit does, and also not what Leo did in Fast and Parallel Webpage Layout :)
[19:31:05] <pcwalton> they actually gather up rules in ElementRuleCollector
[19:31:09] <pcwalton> and then cascade them later
[19:31:11] <pcwalton> let's do that then
[19:33:19] *** Quits: doomlord__ (servitor@moz-D40D68D6.range86-184.btcentralplus.com) (Quit: Leaving)
[19:33:35] *** Joins: azita (Azita@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[19:36:01] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[19:36:42] *** Joins: canhtak (canhtak@moz-1D882009.wl.t.ulaval.ca)
[19:38:20] *** Joins: miketaylr (mtaylor@moz-8ACC7131.dyn.grandenetworks.net)
[19:39:30] *** Quits: jet (jet@moz-79F891EE.hsd1.ca.comcast.net) (Quit: jet)
[19:43:41] *** Quits: bholley (bholley@moz-A2189431.hsd1.ca.comcast.net) (Quit: bholley)
[20:02:57] *** Joins: dzbarsky (Adium@moz-C1DB5192.wireless-pennnet.upenn.edu)
[20:17:51] *** Quits: rusti (rusti@moz-61B073BC.cpe.net.cable.rogers.com) (Ping timeout)
[20:18:12] *** Joins: rusti (rusti@moz-61B073BC.cpe.net.cable.rogers.com)
[20:28:04] <pcwalton> just optimized selector matching a bit, 28% improvement
[20:28:22] <cmr> ... from before the optimization, or total?
[20:29:03] <pcwalton> from before the optimization
[20:29:22] <pcwalton> sadly exposed a shutdown crash that I think is unrelated but needs to be fixed anwyay.
[20:29:23] <pcwalton> anyway.
[20:36:07] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[20:45:33] *** Quits: azita (Azita@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: azita)
[20:47:54] *** Quits: rusti (rusti@moz-61B073BC.cpe.net.cable.rogers.com) (Ping timeout)
[20:48:13] *** Joins: rusti (rusti@moz-61B073BC.cpe.net.cable.rogers.com)
[21:01:19] *** Quits: dzbarsky (Adium@moz-C1DB5192.wireless-pennnet.upenn.edu) (Quit: Leaving.)
[21:02:55] *** Quits: Ms2ger (Ms2ger@moz-97D6582B.adsl-dyn.isp.belgacom.be) (Quit: nn)
[21:04:27] *** zz_kimundi is now known as kimundi
[21:15:56] *** Joins: dbaron (dbaron@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[21:16:34] *** Quits: miketaylr (mtaylor@moz-8ACC7131.dyn.grandenetworks.net) (Quit: Leaving...)
[21:16:36] *** Quits: eddyb (eddy@moz-68E0B7D0.residential.rdsnet.ro) (Ping timeout)
[21:18:11] *** Joins: miketaylr (mtaylor@moz-8ACC7131.dyn.grandenetworks.net)
[21:18:38] <pcwalton> jdm: do you know if your code correctly handles OOMs from the JS engine?
[21:18:45] <pcwalton> I am suspicious that the shutdown crash is caused by JS OOM-ing
[21:18:57] <pcwalton> and thereby a bogus Node reflector
[21:19:10] <pcwalton> and thereby creating a bogus Node reflector that is.
[21:19:36] <jdm> pcwalton: I'm highly doubtful we handle OOMs correctly
[21:19:44] <jdm> in what situation are we hitting that, though?
[21:19:47] <pcwalton> perf-rainbow
[21:19:49] <pcwalton> tons of nodes
[21:19:53] <jdm> hmm
[21:20:02] <pcwalton> so my suspicion is that if CFG_DISABLE_OPTIMIZE is on we get "Error: out of memory"
[21:20:12] <pcwalton> however if CFG_DISABLE_OPTIMIZE is *not* on we do not get that error (?!)
[21:20:18] <pcwalton> and instead we get a shutdown crash.
[21:20:25] <jdm> what does disabling optimizations do that changes it?
[21:20:26] <pcwalton> during reap_layout_data, when accessing the reflector
[21:20:28] <pcwalton> I have no idea :)
[21:20:42] <pcwalton> when accessing the reflector it tries to access a JSObject at address 0x00000004
[21:20:44] <pcwalton> which is quite bogus
[21:21:03] <jdm> so there are asserts about non-null wrappers in various places
[21:21:19] <pcwalton> I added one but it didn't fire because it's 0x00000004 not zero
[21:22:36] <jdm> what I mean is we have asserts about non-null wrappers immediately after the first wrapping
[21:22:41] *** Quits: ^emi (glenlivet@moz-9FE842F.cpe.net.cable.rogers.com) (Ping timeout)
[21:22:43] <pcwalton> oh, hmm
[21:22:51] <pcwalton> but assert! is generally on in rust even if optimization is on
[21:23:29] <jdm> eg http://mxr.mozilla.org/servo/source/src/components/script/dom/bindings/utils.rs#641
[21:23:29] <crowbot> Issue #641: Generate HTMLDocument bindings. - https://github.com/mozilla/servo/pull/641
[21:23:47] <cmr> jdm: crowbot would be really awesome in #rust-internals :)
[21:25:00] <jdm> cmr: the source is at https://github.com/jdm/fennecbot; it shouldn't be too much work to fix the bits that hardcode servo things and make it support multiple channels
[21:25:27] <cmr> cool, might do that next week
[21:25:56] <pcwalton> jdm: it successfully deletes thousands of nodes...
[21:26:05] <pcwalton> still stepping through
[21:26:38] <jdm> pcwalton: yeah, we shouldn't ever lose a reflector for a node, so if the assert doesn't fire, I think something else is the cause
[21:27:34] <pcwalton> boy, that's a lot of nodes we're deleting
[21:27:38] <pcwalton> 27,000 and counting
[21:28:13] <pcwalton> addresses are monotonically increasing
[21:40:05] *** Joins: dzbarsky (Adium@moz-BAD78C24.wlan.wireless-resnet.upenn.edu)
[21:43:35] <pcwalton> jdm: hmm, the crash occurs as GetGlobalForObjectCrossCompartment climbs the parent hierarchy
[21:43:39] <pcwalton> it eventually hits 0x4 (?!)
[21:46:33] *** Quits: dbaupp (Thunderbir@moz-EB2EFE6F.lns20.syd6.internode.on.net) (Ping timeout)
[21:53:37] *** Joins: eholk (eholk@moz-C7FD6CFF.public.wayport.net)
[21:53:44] *** Joins: bholley (bholley@moz-A2189431.hsd1.ca.comcast.net)
[21:53:55] <larsberg> Is it possible that's the spidermonkey JSVAL_TYPE_MAGIC in our build? It looks like the kind of thing you get back for value representations that encode types in bits abusing low-order pointer twiddling, and at least in our build of mozjs, it looks like 0x4 indicates a special runtime status "magic" value that encodes a bunch of custom states enumerated by
[21:53:56] <larsberg> JSWhyMagic in jsval.h
[21:54:03] * larsberg is very new to spidermonkey, though
[21:55:58] *** Quits: dherman (dherman@moz-B31C6965.dsl.pltn13.sbcglobal.net) (Quit: dherman)
[22:05:37] <kmc> pcwalton: #1387 looks good aside from SimonSapin's comment and mine
[22:05:38] <crowbot> Issue #1387: layout: Reference count `ComputedValues` structures like Gecko does. - https://github.com/mozilla/servo/pull/1387
[22:05:51] <kmc> so let me know if you make changes and I can re-review
[22:07:46] <pcwalton> jdm: how do I recompile SpiderMonkey in Servo with assertions on?
[22:11:36] <jdm> pcwalton: figure out what --enable-debug in its configure doe
[22:11:37] <jdm> +s
[22:12:08] *** Quits: jdm (jdm@moz-AC9499B2.cable.teksavvy.com) (Quit: Lost terminal)
[22:13:01] <pcwalton> well, this was a pre-existing bug so I won't figure it out right now.
[22:14:24] *** Quits: miketaylr (mtaylor@moz-8ACC7131.dyn.grandenetworks.net) (Quit: Linkinus - http://linkinus.com)
[22:15:12] *** Joins: miketaylr (mtaylor@moz-8ACC7131.dyn.grandenetworks.net)
[22:17:47] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[22:17:47] *** ChanServ sets mode: +qo dherman dherman
[22:22:02] *** bhearsum|buildduty is now known as bhearsum|afk
[22:24:43] *** Joins: azita (Azita@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[22:27:24] *** Joins: jet (jet@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[22:27:31] *** Quits: abinader (abinader@D8B9C081.E820043D.D4C04133.IP) (Quit: Fui!)
[22:28:02] *** Joins: brendan (brendaneic@777B9EEC.C030CAFC.1EF54B18.IP)
[22:33:19] *** Quits: ahal (ahal@moz-7DE89BF0.cable.teksavvy.com) (Input/output error)
[22:34:20] *** Quits: jet (jet@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: jet)
[22:34:40] *** Quits: eholk (eholk@moz-C7FD6CFF.public.wayport.net) (Quit: eholk)
[22:35:53] *** Quits: rusti (rusti@moz-61B073BC.cpe.net.cable.rogers.com) (Ping timeout)
[22:36:14] *** Joins: rusti (rusti@moz-61B073BC.cpe.net.cable.rogers.com)
[22:36:18] *** Joins: jet (jet@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[22:36:55] *** Quits: jackneill (jackneill@moz-3C74D5A9.pool.digikabel.hu) (Ping timeout)
[22:38:02] *** Quits: rusti (rusti@moz-61B073BC.cpe.net.cable.rogers.com) (Ping timeout)
[22:38:15] *** Joins: rusti (rusti@moz-61B073BC.cpe.net.cable.rogers.com)
[22:39:50] *** Joins: ghservo (ghservo@24260B07.6A2AE50.F3114085.IP)
[22:39:50] <ghservo> [13servo] 15pcwalton opened pull request #1393: style: Reduce allocations in selector matching. (06master...06optimize-css) 02http://git.io/DOkGyA
[22:39:50] *** Parts: ghservo (ghservo@24260B07.6A2AE50.F3114085.IP) ()
[22:39:59] *** Quits: rusti (rusti@moz-61B073BC.cpe.net.cable.rogers.com) (Ping timeout)
[22:40:08] <pcwalton> SimonSapin: r? https://github.com/mozilla/servo/pull/1393
[22:40:16] *** Joins: rusti (rusti@moz-61B073BC.cpe.net.cable.rogers.com)
[22:42:10] *** Joins: jdm (jdm@F2E651E2.2E53F4B8.47C41102.IP)
[22:42:10] *** ChanServ sets mode: +o jdm
[22:46:22] *** Joins: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP)
[22:46:22] <ghservo> [13servo] 15kmcallister opened pull request #1394: Restore restyle damage computation but disable reflow pruning for now (06master...06style-damage) 02http://git.io/06Mt4Q
[22:46:22] *** Parts: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP) ()
[22:46:35] *** Quits: brendan (brendaneic@777B9EEC.C030CAFC.1EF54B18.IP) (Quit: brendan)
[22:48:48] <jdm> pcwalton: open an issue about it, please?
[22:50:22] <pcwalton> sure
[22:50:23] *** Joins: ghservo (ghservo@C8693FCB.6A2AE50.F3114085.IP)
[22:50:23] <ghservo> 01[13servo01] 15bors-servo pushed 0 new commits to 06auto: 02http://git.io/eiysXw
[22:50:23] *** Parts: ghservo (ghservo@C8693FCB.6A2AE50.F3114085.IP) ()
[22:50:27] *** Joins: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP)
[22:50:27] <ghservo> 01[13servo01] 15bors-servo pushed 2 new commits to 06auto: 02http://git.io/o_kYwA
[22:50:27] <ghservo> 13servo/06auto 144c8383c 15Patrick Walton: layout: Reference count `ComputedValues` structures like Gecko does....
[22:50:27] <ghservo> 13servo/06auto 1487acc5d 15bors-servo: auto merge of #1387 : pcwalton/servo/ref-count-style, r=pcwalton...
[22:50:27] *** Parts: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP) ()
[22:51:29] <pcwalton> jdm: can I assign you?
[22:51:34] <jdm> sure
[22:54:05] *** Joins: ghservo (ghservo@C8693FCB.6A2AE50.F3114085.IP)
[22:54:06] <ghservo> [13servo] 15pcwalton opened issue #1395: Shutdown segfault on perf-rainbow.html in JS engine 02http://git.io/2kdK6w
[22:54:06] *** Parts: ghservo (ghservo@C8693FCB.6A2AE50.F3114085.IP) ()
[22:58:55] *** Quits: dzbarsky (Adium@moz-BAD78C24.wlan.wireless-resnet.upenn.edu) (Quit: Leaving.)
[22:59:40] *** Joins: ^emi (glenlivet@moz-9FE842F.cpe.net.cable.rogers.com)
[23:09:05] *** Joins: brendan (brendaneic@777B9EEC.C030CAFC.1EF54B18.IP)
[23:11:22] *** Joins: harth (heather@moz-C07D5168.p2p.sfo1.mozilla.com)
[23:12:06] *** Joins: ghservo (ghservo@24260B07.6A2AE50.F3114085.IP)
[23:12:06] <ghservo> [13servo] 15pcwalton opened pull request #1396: test: Implement a reftest for Acid1. (06master...06acid1-reftest) 02http://git.io/hfhIWA
[23:12:06] *** Parts: ghservo (ghservo@24260B07.6A2AE50.F3114085.IP) ()
[23:12:13] <pcwalton> jack: r? https://github.com/mozilla/servo/pull/1396
[23:12:51] <jack> pcwalton: \o/
[23:13:27] <jdm> yay!
[23:14:04] *** Joins: ghservo (ghservo@F6EE6DE3.6A2AE50.F3114085.IP)
[23:14:04] <ghservo> 01[13servo01] 15bors-servo merged 06auto into 06master: 02http://git.io/o_kYwA
[23:14:04] *** Parts: ghservo (ghservo@F6EE6DE3.6A2AE50.F3114085.IP) ()
[23:14:04] *** Joins: ghservo (ghservo@79968228.6A2AE50.F3114085.IP)
[23:14:04] <ghservo> [13servo] 15bors-servo closed pull request #1387: layout: Reference count `ComputedValues` structures like Gecko does. (06master...06ref-count-style) 02http://git.io/5RCWJw
[23:14:04] *** Parts: ghservo (ghservo@79968228.6A2AE50.F3114085.IP) ()
[23:15:35] *** Quits: dbaron (dbaron@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: 8403864 bytes have been tenured, next gc will be global.)
[23:17:25] *** Quits: azita (Azita@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: azita)
[23:17:27] *** Joins: ghservo (ghservo@2EE61FCC.6A2AE50.F3114085.IP)
[23:17:27] <ghservo> 01[13servo01] 15bors-servo pushed 0 new commits to 06auto: 02http://git.io/-FDArg
[23:17:27] *** Parts: ghservo (ghservo@2EE61FCC.6A2AE50.F3114085.IP) ()
[23:17:29] *** Joins: ghservo (ghservo@DE823A67.6A2AE50.F3114085.IP)
[23:17:29] <ghservo> 01[13servo01] 15bors-servo pushed 7 new commits to 06auto: 02http://git.io/qrIHTw
[23:17:29] <ghservo> 13servo/06auto 14c3c87e3 15Keegan McAllister: Propagate up the right bits of style damage...
[23:17:29] <ghservo> 13servo/06auto 14dd0bb08 15Keegan McAllister: Print restyle damage for debugging
[23:17:29] <ghservo> 13servo/06auto 1439fc9eb 15Keegan McAllister: Get rid of reflow_all...
[23:17:31] *** Parts: ghservo (ghservo@DE823A67.6A2AE50.F3114085.IP) ()
[23:18:33] *** Quits: ^emi (glenlivet@moz-9FE842F.cpe.net.cable.rogers.com) (Ping timeout)
[23:20:01] *** Quits: jet (jet@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: jet)
[23:20:18] *** Joins: jet (jet@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[23:22:18] *** Joins: dzbarsky (Adium@BC1B0569.D5562F02.B5C6E82B.IP)
[23:23:03] *** Joins: ^emi (glenlivet@moz-9FE842F.cpe.net.cable.rogers.com)
[23:24:48] <pcwalton> looks like it's about 13% faster to store percentages as a 32-bit int fraction of INT_MAX and multiply/shift than to use floating point
[23:29:00] *** Quits: CaseyBecking (CaseyBecki@moz-29F30CC3.lsanca.fios.verizon.net) (Ping timeout)
[23:33:59] *** Joins: ghservo (ghservo@C8693FCB.6A2AE50.F3114085.IP)
[23:33:59] <ghservo> [13servo] 15bors-servo closed pull request #1394: Restore restyle damage computation but disable reflow pruning for now (06master...06style-damage) 02http://git.io/06Mt4Q
[23:33:59] *** Parts: ghservo (ghservo@C8693FCB.6A2AE50.F3114085.IP) ()
[23:37:54] *** Joins: ghservo (ghservo@F6EE6DE3.6A2AE50.F3114085.IP)
[23:37:54] <ghservo> 01[13servo01] 15bors-servo pushed 0 new commits to 06auto: 02http://git.io/2XHPVg
[23:37:54] *** Parts: ghservo (ghservo@F6EE6DE3.6A2AE50.F3114085.IP) ()
[23:37:56] *** Joins: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP)
[23:37:56] <ghservo> 01[13servo01] 15bors-servo pushed 2 new commits to 06auto: 02http://git.io/e0C7nQ
[23:37:56] <ghservo> 13servo/06auto 14413a91c 15Patrick Walton: test: Implement a reftest for Acid1.
[23:37:56] <ghservo> 13servo/06auto 147b3c354 15bors-servo: auto merge of #1396 : pcwalton/servo/acid1-reftest, r=metajack...
[23:37:56] *** Parts: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP) ()
[23:39:57] *** Joins: dbaron (dbaron@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[23:44:58] *** Quits: ibnc (ibnc@moz-718F3037.client.mchsi.com) (Client exited)
[23:48:05] *** Joins: ibnc (ibnc@moz-718F3037.client.mchsi.com)
[23:49:47] *** Quits: ibnc (ibnc@moz-718F3037.client.mchsi.com) (Ping timeout)
[23:53:15] *** Joins: dbaron_ (dbaron@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[23:53:25] *** Quits: dbaron (dbaron@moz-DFAA4E15.p2p.sfo1.mozilla.com) (NickServ (GHOST command used by dbaron_))
[23:55:05] *** Joins: deokjinkim (Mibbit@B4104EBB.3CC170B1.1E14B209.IP)
[23:55:28] *** Joins: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP)
[23:55:28] <ghservo> 01[13servo01] 15bors-servo merged 06auto into 06master: 02http://git.io/e0C7nQ
[23:55:28] *** Parts: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP) ()
[23:55:30] *** Joins: ghservo (ghservo@9C8B94D4.6A2AE50.F3114085.IP)
[23:55:30] <ghservo> [13servo] 15bors-servo closed pull request #1396: test: Implement a reftest for Acid1. (06master...06acid1-reftest) 02http://git.io/hfhIWA
[23:55:30] *** Parts: ghservo (ghservo@9C8B94D4.6A2AE50.F3114085.IP) ()
[23:58:04] *** Quits: jdm (jdm@F2E651E2.2E53F4B8.47C41102.IP) (Ping timeout)
[23:58:59] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
