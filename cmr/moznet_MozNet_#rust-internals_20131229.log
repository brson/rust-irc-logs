[00:07:01] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[00:07:01] <ghrust> 01[13rust01] 15bors pushed 4 new commits to 06auto: 02http://git.io/J32KZw
[00:07:01] <ghrust> 13rust/06auto 142277d78 15Huon Wilson: std::rand: remove the `fn main()` from the examples.
[00:07:01] <ghrust> 13rust/06auto 142ca0b58 15Huon Wilson: std::hashmap: add an example to mangle.
[00:07:01] <ghrust> 13rust/06auto 148715736 15Huon Wilson: std::hashmap: add an example with the basic methods.
[00:07:03] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[00:13:12] *** Quits: erickt1 (Adium@moz-4B000CB7.dyn.optonline.net) (Quit: Leaving.)
[00:16:29] <brson> acrichto: thanks for the detailed email about the new scheduling
[00:17:18] *** Quits: dbaupp (Thunderbir@moz-506BECCA.pa.nsw.optusnet.com.au) (Ping timeout)
[00:17:43] *** Joins: canhtak (canhtak@moz-59105D0.wl.t.ulaval.ca)
[00:22:31] *** Joins: erickt1 (Adium@moz-4B000CB7.dyn.optonline.net)
[00:39:26] <larsberg> acrichto, brson: agreed; it helps a lot!
[00:40:22] <larsberg> We will probably still have to ping you guys down the road. This supports how we currently use threads (only the main thread is pinned)
[00:40:39] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[00:40:39] <ghrust> 01[13rust01] 15alexcrichton 04force-pushed 06try from 14486861b to 14d7fda22: 02http://git.io/k471pw
[00:40:39] <ghrust> 13rust/06try 14d7fda22 15Alex Crichton: Implement native UDP I/O
[00:40:39] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[00:40:41] <larsberg> But we probably need to switch some of our renderer threads to be pinned as well, and they're spawned from green threads.
[00:41:12] <larsberg> (because you can't have GL operations within a task move between pthreads after a call to glMakeCurrent)
[00:53:05] *** Quits: erickt1 (Adium@moz-4B000CB7.dyn.optonline.net) (Quit: Leaving.)
[00:54:16] *** Quits: canhtak (canhtak@moz-59105D0.wl.t.ulaval.ca) (Quit: canhtak)
[00:57:50] *** Joins: canhtak (canhtak@moz-59105D0.wl.t.ulaval.ca)
[01:12:36] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[01:12:36] <ghrust> 01[13rust01] 15alexcrichton 04force-pushed 06try from 14d7fda22 to 146354a2e: 02http://git.io/k471pw
[01:12:36] <ghrust> 13rust/06try 146354a2e 15Alex Crichton: Implement native UDP I/O
[01:12:36] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[01:28:08] *** Joins: erickt1 (Adium@moz-4B000CB7.dyn.optonline.net)
[01:32:19] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[01:32:19] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/J32KZw
[01:32:19] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[01:32:45] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Connection reset by peer)
[01:35:47] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[01:37:07] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[01:37:07] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/8GLs8Q
[01:37:07] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[01:37:08] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[01:37:08] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/HeSv1g
[01:37:08] <ghrust> 13rust/06auto 146c6a076 15Alex Crichton: Update bundled gyp...
[01:37:08] <ghrust> 13rust/06auto 14b90989a 15bors: auto merge of #11179 : alexcrichton/rust/update-gyp, r=cmr...
[01:37:09] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[02:01:00] *** Quits: erickt1 (Adium@moz-4B000CB7.dyn.optonline.net) (Quit: Leaving.)
[02:31:42] *** Joins: erickt1 (Adium@moz-4B000CB7.dyn.optonline.net)
[02:32:36] *** Quits: erickt1 (Adium@moz-4B000CB7.dyn.optonline.net) (Quit: Leaving.)
[02:34:38] *** Joins: erickt1 (Adium@moz-4B000CB7.dyn.optonline.net)
[02:35:42] *** Quits: canhtak (canhtak@moz-59105D0.wl.t.ulaval.ca) (Quit: canhtak)
[02:57:11] *** kimundi is now known as zz_kimundi
[02:59:39] *** Joins: lpy (lpy@7360AA58.F09091A8.1348A864.IP)
[03:02:21] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[03:02:21] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/HeSv1g
[03:02:21] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[03:06:37] *** Quits: erickt1 (Adium@moz-4B000CB7.dyn.optonline.net) (Quit: Leaving.)
[03:06:58] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[03:06:58] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/4-WyNw
[03:06:58] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[03:06:59] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[03:06:59] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/yeru1g
[03:06:59] <ghrust> 13rust/06auto 140aab974 15Alex Crichton: Guard a maybe_yield in Chan with can_resched...
[03:06:59] <ghrust> 13rust/06auto 1438a5edb 15bors: auto merge of #11180 : alexcrichton/rust/fix-deferred-send, r=cmr...
[03:06:59] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[03:42:57] *** Quits: zz_kimundi (kimundi@moz-6E87DD93.dip0.t-ipconnect.de) (Ping timeout)
[03:47:13] *** Joins: zz_kimundi (kimundi@moz-DB1AF90B.dip0.t-ipconnect.de)
[03:47:15] *** zz_kimundi is now known as kimundi
[03:58:00] *** Quits: johnrkd (johnrkd@857D8B0A.C6F4759.B05A4819.IP) (Quit: )
[04:22:04] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[04:22:05] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/yeru1g
[04:22:05] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[04:23:47] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[04:27:01] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[04:27:01] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/2sprWQ
[04:27:01] <ghrust> 13rust/06auto 14e6a84c2 15Luqman Aden: Update llvm.
[04:27:01] <ghrust> 13rust/06auto 1476c4d7d 15bors: auto merge of #11181 : luqmana/rust/up-llvm, r=alexcrichton...
[04:27:01] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[04:42:03] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[04:42:03] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/QuRdVQ
[04:42:03] <ghrust> 13rust/06auto 14e6a84c2 15Luqman Aden: Update llvm.
[04:42:03] <ghrust> 13rust/06auto 14e53222f 15bors: auto merge of #11181 : luqmana/rust/up-llvm, r=alexcrichton...
[04:42:03] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[04:42:15] <Luqman> yes, made it in time!
[04:42:23] <cmr> Luqman: <3
[04:42:52] <Luqman> seemed to have hit https://github.com/mozilla/rust/issues/11042
[04:45:58] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[04:48:17] <acrichto> Luqman: ah good, I was trying to watch that but I got distracted :(
[04:48:25] <acrichto> it may strike again though depending on what bot/workspace it lands on
[04:48:36] <cmr> fun fun fun
[04:48:37] <acrichto> updating llvm is a pain
[04:49:11] <Luqman> yea, i've got time so i can keep an eye on it
[04:49:30] <acrichto> man I want timerfd everywhere
[04:49:34] <acrichto> and signalfd
[04:49:35] <sfackler> acrichto: I'm continuing on the de-@mut-ing of syntax::ext, but it looks like changing things to take an @mut ExCtxt runs into some problems in format::expand_args
[04:49:36] <cmr> isn't it great?
[04:49:49] <acrichto> cmr: it's what it should have been in the beginning :(
[04:49:56] <sfackler> do you have any ideas on how to resturcture that to avoid double borrows off the top of your head?
[04:50:04] <acrichto> sfackler: hm, lemme take a look
[04:50:32] <sfackler> wait, I think i'm an idiot
[04:50:36] <acrichto> sfackler: where is it borrowed twice?
[04:50:43] <acrichto> it should just live in the Context and be happy with that
[04:50:51] <acrichto> doesn't even need @, it could be &ExtContext
[04:51:18] <sfackler> acrichto: the call to ecx.expand_expr is the second borrow, but I can just do cx.ecx.expand_expr I think
[04:51:49] <acrichto> sfackler: oh I see now...
[04:52:01] <cmr> acrichto: do you have any idea what PatLit is?
[04:52:07] <acrichto> tricky
[04:52:21] <acrichto> cmr: match [1] { [a, ..] } ?
[04:52:42] <cmr> rustc manages to use it somewhere in function arguments and it's tripping up rustdoc
[04:52:54] <cmr> it's had this bug forever but I could never figure out what it was and eventually forgot
[04:53:17] <sfackler> acrichto: Is this a bug? if I have "foo: &mut Foo", this is a borrow error "bar(foo, foo.blah())"
[04:53:22] <sfackler> between the two arguments
[04:53:24] <sfackler> which seems silly
[04:53:28] <acrichto> sfackler: nah that's a known problem
[04:53:34] <acrichto> there's an issue on that somewhere
[04:53:39] <sfackler> ok
[04:53:49] <acrichto> although that may actually be a bug in the code
[04:53:56] <acrichto> b/c foo.blah() could return a pointer into foo
[04:54:03] <acrichto> then bar could get two pointers at that
[04:54:07] <sfackler> it doesn't in this case
[04:54:27] <acrichto> if blah takes &self, then I think it's just the borrow checker being overly conservative
[04:54:38] <sfackler> cool
[04:58:19] <acrichto> hm, I have a feeling native timers are going to have 3 entirely separate implementations
[04:58:57] <acrichto> as will signal handling...
[04:59:53] <cmr> When I wrote a platform interop library for an earlier project, the only code that was common between linux and windows was most of the socket stuff, and that still had ifdefs for winsock.
[05:00:15] <acrichto> networking actually turned out quite nicely
[05:00:20] <acrichto> only ifdef was close vs closesocket
[05:00:31] <acrichto> at least the types were all handled by libc.rs
[05:00:36] <sfackler> acrichto: libuv/unix/windows?
[05:00:54] *** Joins: dbaupp_ (dbaupp@moz-513A8D69.pa.nsw.optusnet.com.au)
[05:01:00] <acrichto> sfackler: oh man then it'd be 4, libuv/timerfd/windows events/select + hackery
[05:01:13] <sfackler> s/unix/posix
[05:01:21] <acrichto> green/{native linux}/{native windows}/{native everyone else}
[05:01:35] <acrichto> I *think* select can be used
[05:01:37] <acrichto> just have a queue
[05:01:40] <dbaupp_> cmr: isnt PatLit things like `1` and "foo" and ()?
[05:01:45] <acrichto> and add a sprinkling of magic
[05:01:56] <acrichto> cmr: oh PatLit!
[05:01:57] <acrichto> not PatList
[05:02:03] <acrichto> I think dbaupp is right
[05:02:08] <cmr> hm
[05:02:09] <acrichto> fn foo((): ())
[05:02:18] <cmr> why would anyone ever do that.
[05:02:19] <acrichto> that may be the only one...
[05:02:24] <acrichto> visitors
[05:02:29] <cmr> ahhhhh
[05:02:29] <acrichto> I may have done that :(
[05:02:32] <cmr> it probably is the visitor.
[05:02:44] <acrichto> oh man the visitors should totally be trait objects now
[05:02:52] <dbaupp_> traits
[05:03:05] <dbaupp_> e.g. visitor<()>
[05:05:22] *** Quits: dbaupp_ (dbaupp@moz-513A8D69.pa.nsw.optusnet.com.au) (Client exited)
[05:07:05] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[05:07:05] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14e53222f to 1438a5edb: 02http://git.io/N3iJvQ
[05:07:05] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[05:16:07] <cmr> acrichto: r? https://github.com/mozilla/rust/pull/11177
[05:16:22] <cmr> the doc builder will need to build compiler-docs now, too.
[05:17:50] <sfackler> man, @ is really thrown around at random in rustc :(
[05:22:03] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[05:22:04] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 1458e70e4 to 1438a5edb: 02http://git.io/N3iJvQ
[05:22:04] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[05:22:04] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[05:22:05] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/PxV6vQ
[05:22:05] <ghrust> 13rust/06auto 14cb7a7df 15Luqman Aden: Update llvm.
[05:22:05] <ghrust> 13rust/06auto 14b78ce7a 15bors: auto merge of #11181 : luqmana/rust/up-llvm, r=alexcrichton...
[05:22:05] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[05:37:00] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[05:37:00] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14b78ce7a to 1438a5edb: 02http://git.io/N3iJvQ
[05:37:00] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[05:37:02] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[05:37:02] <ghrust> 01[13rust01] 15bors pushed 4 new commits to 06auto: 02http://git.io/uI9nrw
[05:37:02] <ghrust> 13rust/06auto 148ca1c34 15Corey Richardson: Add docs for more crates
[05:37:02] <ghrust> 13rust/06auto 14e53e86a 15Corey Richardson: Add a compiler-docs target
[05:37:02] <ghrust> 13rust/06auto 147b382e5 15Corey Richardson: Fix rustdoc bug involving PatLit
[05:37:04] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[06:16:45] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[07:07:02] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[07:07:02] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/uI9nrw
[07:07:02] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[07:11:59] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[07:11:59] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/NM-k7g
[07:11:59] <ghrust> 13rust/06auto 14cb7a7df 15Luqman Aden: Update llvm.
[07:11:59] <ghrust> 13rust/06auto 145081e0d 15bors: auto merge of #11181 : luqmana/rust/up-llvm, r=alexcrichton...
[07:11:59] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[07:26:59] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[07:26:59] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 145081e0d to 14afe8f6e: 02http://git.io/N3iJvQ
[07:26:59] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[07:28:17] *** Joins: nrc (ncameron@moz-AD2938E.hari.cable.virginm.net)
[07:42:01] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[07:42:01] <ghrust> 01[13rust01] 15bors pushed 5 new commits to 06auto: 02http://git.io/q1vzgA
[07:42:01] <ghrust> 13rust/06auto 149c928bc 15Luis de Bethencourt: Rename pkgid variables
[07:42:01] <ghrust> 13rust/06auto 14ee5077d 15Luis de Bethencourt: Rename PkgId to CrateId
[07:42:01] <ghrust> 13rust/06auto 14d42bbc1 15Luis de Bethencourt: Rename uses of PkgId to CrateId in librustpkg
[07:42:03] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[07:42:15] <ChrisMorgan> Hmm, `make check` on my machine has hung at libgreen's sched::test_spawn_sched_blocking :-(
[07:43:30] <ChrisMorgan> And that was with a completely fresh build (`git clean -fdx`, because running rustc was giving __cxa_throw linking errors of some form).
[07:44:20] <ChrisMorgan> When I say "hung"â€”well, I last saw action over half an hour ago (just got busy with other things in the interim).
[08:06:12] <ChrisMorgan> acrichto: on my machine at least, libgreen's test_spawn_sched_blocking seems to be fragile in a weird way.
[08:08:02] <ChrisMorgan> `make check-stage2-green` fails. Run it again and it passes. Then if I `rm -f tmp/check-stage2-T-x86_64-unknown-linux-gnu-H-x86_64-unknown-linux-gnu-green.ok && make check-stage2-green`, it continually fails (thus not creating the .ok file)â€”but if I drop the rm -f part and just execute `make check-stage2-green`, it works again.
[08:09:36] <ChrisMorgan> The scary part is that this behaviour *seems* to be consistent, though that's ridiculous.
[08:18:03] *** Joins: eddyb (eddy@EE946B63.921A1753.FCAAE698.IP)
[08:32:16] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[08:32:16] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/zClYpw
[08:32:16] <ghrust> 13rust/06auto 14ff805f3 15Huon Wilson: rustdoc: only filter lines starting with '# ' from the shown code....
[08:32:16] <ghrust> 13rust/06auto 14e7f6289 15bors: auto merge of #11185 : huonw/rust/doc-ignore, r=alexcrichton...
[08:32:16] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[08:32:17] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[08:32:18] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 1425e0739 to 14afe8f6e: 02http://git.io/N3iJvQ
[08:32:18] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[09:05:54] <nrc> given a function call, how do I find the function definition (post-analysis)? With a method call, I think I can look it up in the crate analysis > maps > method_map, but I don't see any equivalent for functions
[09:06:30] <eddyb> nrc: doesn't "resolve" do that?
[09:07:27] <nrc> I hope so, but I can't see exactly how and I don't see where that information is stored afterwards
[09:09:02] *** Quits: eddyb (eddy@EE946B63.921A1753.FCAAE698.IP) (Ping timeout)
[09:11:44] *** Joins: eddyb (eddy@EE946B63.921A1753.FCAAE698.IP)
[09:40:33] <eddyb> I need a version of pub fn expr_ty_adjusted(cx: ctxt, expr: &ast::Expr) -> t { // which takes just an ID
[09:41:29] <eddyb> since going through the ast_map to get the Expr just to use the ID seems "meh"
[09:51:42] *** Quits: dcrewi (david@moz-AB8667CE.gyrae.net) (Ping timeout)
[09:52:31] *** Joins: vfetwnuncszu (david@moz-AB8667CE.gyrae.net)
[09:52:41] *** vfetwnuncszu is now known as dcrewi
[10:36:13] <nrc> can anyone explain to me how function calls are type checked? typecheck::check::check_call does it, but I don't understand what is going on :-s
[10:36:54] <nrc> in particular, where the formal types come from
[10:38:49] <eddyb> turns out the ID is already there. bye bye more bloat
[11:00:02] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[11:03:18] *** Quits: nrc (ncameron@moz-AD2938E.hari.cable.virginm.net) (Ping timeout)
[11:09:47] <eddyb> where is pcwalton :/
[11:10:15] <eddyb> I wanted to mention that @RefCell<T> inside a Visitor can be replaced with T :P
[11:10:51] <ChrisMorgan> eddyb: you wanted to *mention* it? Do it and claim the glory!
[11:11:19] <eddyb> ChrisMorgan: shush. I just realized that I can grep for @ast::
[11:11:28] <eddyb> and replace things outside the scope of my commit
[11:11:59] <eddyb> (though most of those have to be replaced with & because they are called from visitors, which no longer use @ which *is* in scope)
[11:12:42] <eddyb> ChrisMorgan: he also replaced @mut T with @T without realizing that field can be unpacked. I'm basically simplifying the result of his work :P
[11:13:30] <eddyb> error: could not find native static library `rustrt`, perhaps an -L flag is missing?
[11:13:39] <eddyb> erm... don't make me make clean ;_;
[11:14:45] <ChrisMorgan> eddyb: I had to clean today when rebuilding three days' changes
[11:15:06] <eddyb> does make clean not remove llvm? I guess I was being silly
[11:16:06] <ChrisMorgan> `make clean` does not remove LLVM.
[11:16:19] <ChrisMorgan> (`make clean-llvm` is for doing that.)
[11:16:33] *** Joins: ninechars (glaebhoerl@moz-B5B88D72.catv.broadband.hu)
[11:16:33] *** Quits: glaebhoer1 (glaebhoerl@moz-B5B88D72.catv.broadband.hu) (Connection reset by peer)
[11:17:29] <eddyb> yay. and you know what? this is fun. let's remove @mut from ast_map
[11:18:43] <ChrisMorgan> \o/
[11:25:25] <eddyb> hmm. does RefCell allow. .borrow().get() without running into lifetime issues?
[11:26:26] *** Joins: dbaupp (dbaupp@moz-AA28C0C4.pa.nsw.optusnet.com.au)
[11:26:36] *** Quits: dbaupp (dbaupp@moz-AA28C0C4.pa.nsw.optusnet.com.au) (Client exited)
[11:28:39] *** Joins: dbaupp (dbaupp@moz-AA28C0C4.pa.nsw.optusnet.com.au)
[11:29:35] <dbaupp> eddyb: doesnt pcwalton have a PR that demuts libsyntax entirely?
[11:29:51] <eddyb> that's what I get for not checking the queue
[11:30:20] *** Quits: dbaupp (dbaupp@moz-AA28C0C4.pa.nsw.optusnet.com.au) (Client exited)
[11:31:14] <eddyb> *great* I have to rebase on top of both https://github.com/mozilla/rust/pull/11167 and https://github.com/mozilla/rust/pull/11168
[11:40:02] *** Joins: canhtak (canhtak@moz-59105D0.wl.t.ulaval.ca)
[12:06:05] *** Quits: canhtak (canhtak@moz-59105D0.wl.t.ulaval.ca) (Quit: canhtak)
[12:46:45] *** Quits: ninechars (glaebhoerl@moz-B5B88D72.catv.broadband.hu) (Connection reset by peer)
[12:46:52] *** Joins: ninechars (glaebhoerl@moz-B5B88D72.catv.broadband.hu)
[12:53:23] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[13:15:14] *** Joins: nuts (tii@822A8E7E.6AD15BF5.75D3BBDB.IP)
[13:21:17] <eddyb> pffft
[13:21:24] <eddyb> I think encode_inlined_item is wrong. not sure though
[13:25:00] <eddyb> I think it's encoding side tables for nested functions though it's not supposed to
[13:28:14] *** Joins: erickt1 (Adium@moz-4B000CB7.dyn.optonline.net)
[13:43:39] *** Joins: canhtak (canhtak@moz-59105D0.wl.t.ulaval.ca)
[13:49:46] *** Quits: erickt1 (Adium@moz-4B000CB7.dyn.optonline.net) (Quit: Leaving.)
[13:51:58] <ChrisMorgan> acrichto: note my comment earlier about sched::test_spawn_sched_blocking being unreliable; I suppose I should report it?
[14:01:03] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[14:17:23] *** Quits: lpy (lpy@7360AA58.F09091A8.1348A864.IP) (Ping timeout)
[14:37:31] *** Joins: erickt1 (Adium@moz-4B000CB7.dyn.optonline.net)
[14:41:13] *** Quits: dcrewi (david@moz-AB8667CE.gyrae.net) (Ping timeout)
[14:42:19] *** Joins: vfetwnuncszu (david@moz-AB8667CE.gyrae.net)
[14:42:30] *** vfetwnuncszu is now known as dcrewi
[14:58:25] *** Quits: dcrewi (david@moz-AB8667CE.gyrae.net) (Ping timeout)
[14:58:50] *** Joins: vfetwnuncszu (david@moz-AB8667CE.gyrae.net)
[14:59:05] *** vfetwnuncszu is now known as dcrewi
[15:02:30] <eddyb> use extra::oldmap::HashMap;
[15:02:41] <eddyb> since when has been typeck::infer:::test rotting away?
[15:06:10] <eddyb> "death checking" shouldn't that be "dead code checking"? heh
[15:13:47] *** Quits: canhtak (canhtak@moz-59105D0.wl.t.ulaval.ca) (Quit: canhtak)
[15:16:58] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[15:18:11] *** Joins: canhtak (canhtak@moz-59105D0.wl.t.ulaval.ca)
[15:18:56] <eddyb> task 'rustc' failed at 'RefCell<T> already borrowed', /home/eddy/Projects/rust/src/libstd/cell.rs:167
[15:48:44] *** Quits: erickt1 (Adium@moz-4B000CB7.dyn.optonline.net) (Quit: Leaving.)
[15:52:07] *** Joins: erickt1 (Adium@moz-4B000CB7.dyn.optonline.net)
[15:53:56] <klutzy> eddyb: borrow failure: https://github.com/mozilla/rust/pull/11175 but other mines may remain
[15:55:41] <eddyb> no debug output here
[15:56:20] <klutzy> huh, then it's really bad
[15:56:45] <eddyb> keep in mind I fiddled with things
[15:57:01] <eddyb> if only I could get a backtrace, that would be fine
[15:59:05] <klutzy> I was examining some code, so I tried to print all debug output then I got borrow failure :p
[15:59:43] *** Quits: erickt1 (Adium@moz-4B000CB7.dyn.optonline.net) (Quit: Leaving.)
[16:09:19] <eddyb> #3  0x00007ffff655ec10 in parse::parser::Parser::bump::hf1b1ca03b0704c476afa46c2874aa073ac686d6c159f50efb3f6acf07af8e0b8jlav::v0.9.pre ()
[16:09:26] <eddyb> klutzy: so it's pcwalton's fault :(
[16:13:00] *** Joins: erickt1 (Adium@moz-4B000CB7.dyn.optonline.net)
[16:13:37] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[16:15:41] <sfackler> eddyb: is that on master or on top of his de-@mut pr?
[16:15:59] <eddyb> on top of his libsyntax demuting
[16:16:40] <eddyb> I didn't want to redo his work. but it looks broken, now that I'm testing with it
[16:22:06] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[16:22:06] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14e7f6289 to 14afe8f6e: 02http://git.io/N3iJvQ
[16:22:06] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[16:22:07] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[16:22:07] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/r-zjzg
[16:22:07] <ghrust> 13rust/06auto 14a9a7a42 15Luca Bruno: std: uniform modules titles for doc...
[16:22:07] <ghrust> 13rust/06auto 14aa5d779 15bors: auto merge of #11134 : lucab/rust/lucab/libstd-doc, r=cmr...
[16:22:07] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[16:27:14] <eddyb> parser.rs > commit_stmt > let last_token = self.last_token.borrow();
[16:27:18] <eddyb> that's not in its own scope
[16:31:40] *** Quits: Kxepal (Miranda@moz-D3669ABE.pppoe.mtu-net.ru) (Ping timeout)
[16:35:40] *** Joins: Kxepal (Miranda@moz-2C828513.pppoe.mtu-net.ru)
[16:38:04] *** Quits: erickt1 (Adium@moz-4B000CB7.dyn.optonline.net) (Quit: Leaving.)
[16:41:53] <eddyb> sfackler: ^^ yeah, that was it, std is compiling now
[16:44:57] *** Quits: canhtak (canhtak@moz-59105D0.wl.t.ulaval.ca) (Quit: canhtak)
[16:45:41] <eddyb> ref item => (*item).clone()
[16:46:11] *** Joins: canhtak (canhtak@moz-59105D0.wl.t.ulaval.ca)
[16:52:49] *** kimundi is now known as zz_kimundi
[16:59:48] *** ninechars is now known as glaebhoerl
[17:05:07] *** Quits: Axord (xord@moz-C0D5F15A.lsanca.dsl-w.verizon.net) (Ping timeout)
[17:20:19] *** Joins: Axord (xord@moz-C0D5F15A.lsanca.dsl-w.verizon.net)
[17:23:19] *** Quits: nuts (tii@822A8E7E.6AD15BF5.75D3BBDB.IP) (Connection reset by peer)
[17:31:07] *** Quits: canhtak (canhtak@moz-59105D0.wl.t.ulaval.ca) (Quit: canhtak)
[17:37:00] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[17:37:00] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/r-zjzg
[17:37:00] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[17:40:30] *** Joins: jdm (jdm@moz-AC9499B2.cable.teksavvy.com)
[17:47:29] *** Joins: canhtak (canhtak@moz-59105D0.wl.t.ulaval.ca)
[17:48:18] *** Joins: gwty (gwtypc@90BFEAA9.8A45D967.F44414AF.IP)
[18:16:49] *** Quits: glaebhoerl (glaebhoerl@moz-B5B88D72.catv.broadband.hu) (Quit: )
[18:30:53] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[18:55:12] *** Joins: johnrkd (johnrkd@3A09C2F6.815752B7.B05A4819.IP)
[18:57:02] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[18:57:02] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/mLK4Ig
[18:57:02] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[18:57:03] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[18:57:03] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/hBOh7g
[18:57:03] <ghrust> 13rust/06auto 1401209f1 15Kevin Ballard: Add method .as_mut_slice() to MutableVector...
[18:57:03] <ghrust> 13rust/06auto 147405d48 15bors: auto merge of #10885 : kballard/rust/as_mut_slice, r=cmr...
[18:57:03] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[19:23:57] *** Joins: nrc (ncameron@moz-A76F1825.cable.virginm.net)
[20:02:19] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[20:02:19] <ghrust> 01[13rust01] 15bors pushed 3 new commits to 06auto: 02http://git.io/Zwzkdg
[20:02:19] <ghrust> 13rust/06auto 148c6bdfa 15g3xzh: Add more benchmark tests to path/posix...
[20:02:19] <ghrust> 13rust/06auto 14bda3501 15g3xzh: Fix and replace benchmark tests
[20:02:19] <ghrust> 13rust/06auto 149e91c5f 15bors: auto merge of #11137 : g3xzh/rust/benchm, r=cmr...
[20:02:21] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[20:25:04] *** Quits: tedh (tedh@moz-F3B34318.hsd1.il.comcast.net) (Ping timeout)
[20:30:08] *** Joins: tedh (tedh@moz-F3B34318.hsd1.il.comcast.net)
[20:30:47] *** Quits: canhtak (canhtak@moz-59105D0.wl.t.ulaval.ca) (Quit: canhtak)
[20:37:04] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[20:37:04] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 149e91c5f to 14aa5d779: 02http://git.io/N3iJvQ
[20:37:04] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[20:37:33] *** Joins: canhtak (canhtak@moz-59105D0.wl.t.ulaval.ca)
[20:47:03] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[20:47:03] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/bBqg3A
[20:47:03] <ghrust> 13rust/06auto 14c45cd8f 15Luqman Aden: Update llvm.
[20:47:03] <ghrust> 13rust/06auto 14fe13ecd 15bors: auto merge of #11181 : luqmana/rust/up-llvm, r=alexcrichton...
[20:47:03] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[20:47:07] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[20:47:07] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 140219c27 to 14aa5d779: 02http://git.io/N3iJvQ
[20:47:07] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[20:52:37] *** Quits: nielsle (nielsle@moz-C46DA772.boa.fiberby.dk) (Quit: Ex-Chat)
[20:53:34] *** Quits: canhtak (canhtak@moz-59105D0.wl.t.ulaval.ca) (Quit: canhtak)
[21:03:30] *** Joins: Diamond (dick@moz-80556682.ks.ks.cox.net)
[21:06:31] *** Parts: Diamond (dick@moz-80556682.ks.ks.cox.net) ()
[21:06:43] *** Joins: Diamond (dick@moz-80556682.ks.ks.cox.net)
[21:08:10] *** Quits: blank_name (blank_name@78B04CD2.66204B68.6D228269.IP) (Connection reset by peer)
[21:09:00] *** Joins: blank_name (blank_name@78B04CD2.66204B68.6D228269.IP)
[21:24:07] *** Joins: sanxiyn (tinuviel@B4104EBB.3CC170B1.1E14B209.IP)
[21:26:25] *** Quits: sanxiyn (tinuviel@B4104EBB.3CC170B1.1E14B209.IP) (Quit: Leaving)
[21:27:56] *** Joins: canhtak (canhtak@moz-59105D0.wl.t.ulaval.ca)
[21:29:48] *** Quits: sfackler (sfackler@moz-AEECCEBA.com) (Ping timeout)
[21:30:03] *** Joins: sfackler (sfackler@moz-AEECCEBA.com)
[21:32:07] <cmr> Luqman: looks like you might be lucky this time!
[21:32:47] *** Joins: dbaupp (Thunderbir@moz-FB344509.pa.nsw.optusnet.com.au)
[21:46:55] *** zz_kimundi is now known as kimundi
[21:47:46] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[21:54:54] *** Quits: jdm (jdm@moz-AC9499B2.cable.teksavvy.com) (Quit: Lost terminal)
[22:02:19] *** Quits: canhtak (canhtak@moz-59105D0.wl.t.ulaval.ca) (Quit: canhtak)
[22:05:34] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[22:12:06] <Luqman> cmr: haha yes, just one more to go!
[22:16:50] <Luqman> also just saw #11197 :(
[22:17:20] <dbaupp> Luqman: awesome work with the trait object coercions, btw :)
[22:22:39] *** Joins: canhtak (canhtak@moz-59105D0.wl.t.ulaval.ca)
[22:39:38] *** Quits: dbaupp (Thunderbir@moz-FB344509.pa.nsw.optusnet.com.au) (Ping timeout)
[22:40:03] *** Joins: erickt1 (Adium@moz-4B000CB7.dyn.optonline.net)
[23:00:27] *** Quits: dbussink (dbussink@moz-E0A5568C.bussink.me) (Ping timeout)
[23:00:34] *** Joins: dbussink (dbussink@moz-E0A5568C.bussink.me)
[23:07:03] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[23:07:03] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/z9e9wg
[23:07:03] <ghrust> 13rust/06auto 14c45cd8f 15Luqman Aden: Update llvm.
[23:07:03] <ghrust> 13rust/06auto 1410782df 15bors: auto merge of #11181 : luqmana/rust/up-llvm, r=alexcrichton...
[23:07:03] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[23:07:07] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[23:07:07] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14fe13ecd to 14aa5d779: 02http://git.io/N3iJvQ
[23:07:07] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[23:10:15] *** Quits: b (b@moz-55CA322E.org) (Ping timeout)
[23:13:37] *** Joins: b (b@moz-55CA322E.org)
[23:15:16] *** Quits: b (b@moz-55CA322E.org) (Ping timeout)
[23:16:08] *** Joins: b (b@moz-55CA322E.org)
[23:25:43] <acrichto> lol windows cvars never blocked at all
[23:25:46] *** Quits: b (b@moz-55CA322E.org) (Ping timeout)
[23:25:52] <acrichto> that would explain the weird behavior I was seeing...
[23:26:15] <cmr> heh
[23:26:45] <strcat> acrichto: are you using the vista cond vars?
[23:26:49] <strcat> or something else
[23:26:57] <acrichto> same as we always have, the event objects
[23:27:42] <strcat> which are really slow ;p
[23:28:02] <strcat> but I dunno if we support XP
[23:28:06] <acrichto> well they're super fast if they never block
[23:28:16] <acrichto> I don't think we actually do 
[23:28:23] <acrichto> just haven't gotten around to making an official decision
[23:28:28] <strcat> vista has actual cond vars that aren't kernel objects
[23:28:30] * acrichto puts that on the meeting agenda
[23:28:37] <acrichto> so I have heard
[23:28:41] <cmr> XP is almost EOL
[23:28:43] <strcat> but.... MSVC++ implements them again for C++11
[23:28:50] <cmr> I really hope they don't extend it again
[23:28:51] <strcat> it implements almost all of it again afaik
[23:29:08] *** Joins: b (b@moz-55CA322E.org)
[23:29:08] <ChrisMorgan> I think not supporting XP would be a serious error for Rust.
[23:29:24] <eddyb> cmr: s/XP/Microsoft
[23:29:35] <strcat> acrichto: a really easy way of supporting windows would be making a C++11 stub based on MSVC headers... but then we probably need MSVC to compile ;\
[23:29:56] <acrichto> it'd be awesome if we could do that
[23:30:02] <acrichto> as in not rely on mingw
[23:30:32] <strcat> acrichto: well I mean using the C++11 threading implemented by MSVC because it maps 1:1 to pthreads
[23:30:35] <strcat> so much less of a PITA
[23:31:12] <acrichto> day 1: remove libstdc++ dep
[23:31:16] <cmr> ChrisMorgan: I guess what we need to do is figure out what post-XP gains that we need/want, and if we can emulate it on XP
[23:31:18] <acrichto> day 2: add it back for windows
[23:31:32] <strcat> acrichto: MSVC isn't libstdc++ ;p
[23:32:01] <eddyb> statically link pls
[23:32:11] <eddyb> (though would that be distributable?)
[23:32:38] <ChrisMorgan> Despite being close to EOL, XP will continue to be widely used for years. I think Rust should support it for at least the next five years.
[23:32:48] * strcat doesn't
[23:32:56] <strcat> if they aren't doing security updates it shouldn't be supported
[23:33:30] <ChrisMorgan> strcat: Rust cares about pragmatism. Pragmatism doesn't work that way.
[23:33:49] <eddyb> in five years everyone would be running ServOS anyway, ChrisMorgan :P
[23:33:51] <strcat> do we have a single user on XP?
[23:33:53] <strcat> doubt it.
[23:33:59] <strcat> that's not pragmatism
[23:34:05] <strcat> pragmatism is using APIs added in vista or later
[23:34:06] <ChrisMorgan> strcat: I do not doubt it in the slightest.
[23:34:26] <ChrisMorgan> strcat: people will be wanting to write programs for Windows and wanting them to work on XP.
[23:34:36] <cmr> Of the thousand or so people who use rust atm? I do.
[23:34:48] <strcat> ChrisMorgan: and MSVC won't allow them to do that, so if we rely on MSVC...
[23:35:10] <strcat> clang/LLVM requires MSVC++ 2012/2013
[23:35:17] <strcat> and they'll keep bumping it
[23:35:32] <strcat> if microsoft doesn't support something, it's not realistic to support it
[23:35:46] *** Quits: nrc (ncameron@moz-A76F1825.cable.virginm.net) (Ping timeout)
[23:36:03] <strcat> anyway if you want to write a condition variable implementation for XP go ahead ;p, mingw tries to do that and the threading implementation is awfully slow
[23:36:19] * ChrisMorgan was delighted with the way Firefox handled the removal of Windows 2000 support between Firefox 12 and 13, which he knows about as he still has a single-purpose machine that runs Windows 2000.
[23:36:55] <cmr> if it's single-purpose why does it have firefox on it? :p
[23:37:12] <strcat> encouraging people to use operating systems with known remote exploits is irresponsible
[23:37:42] <strcat> doesn't really make sense to me that mozilla would care more about market share than doing the sane thing
[23:38:07] <benh> pretty sure mozilla cares about not making people use things with known remote exploits, actually :V
[23:38:13] <ChrisMorgan> When Firefox 12 was released, "Hey, this is the last release that'll support Windows 2000. You should probably upgrade Windows, but if not, you might like to try Opera." Repeated it when 13 was released, saying it was now completely unsupportedâ€”and it doesn't try to upgrade to a known-broken release. I compare that with Flash which keeps on trying to install broken updatesâ€¦
[23:38:37] <benh> I thought "no, winxp support is not a goal" has been stated a bunch of times :s
[23:38:39] <ChrisMorgan> cmr: its single purpose is recording audio and then uploading it, which I use Firefox for.
[23:38:47] <cmr> ok, makes sense.
[23:40:07] <ChrisMorgan> It's behind appropriate firewalls and is only used to access the one website, so I'm not overly concerned about it. Keeping using it as it is is easier than upgrading it all. *That* is the face of pragmatism which keeps XP alive.
[23:40:07] <cmr> XP still has 6.17% share on Steam, I find that surprising.
[23:40:16] <benh> dx11? :V
[23:41:05] <strcat> ChrisMorgan: and what happens when libuv drops support? ;p
[23:41:05] * ChrisMorgan should state that despite reckoning that XP should still be supported by Rust if not excessively expensive, he definitely prefers Windows 7 and 8 to XP
[23:41:28] * benh calls off the winquisition
[23:42:12] <cmr> and it's' not like we can't add cfg's for XP
[23:44:53] <benh> searched logs and i guess strcat had this conversation before
[23:45:09] <benh> "<@brson> strcat: windows 7 is the earliest we *do* support afaik. i personally don't care about xp" "<@brson> it's not clear if servo will by the time it hits production"
[23:48:51] <ChrisMorgan> acrichto: did you see my comments about how libgreen's sched::test_spawn_sched_blocking test is unstable?
[23:49:20] <acrichto> ChrisMorgan: oh I was gonna ping you at the time but you were gone
[23:49:23] <acrichto> ChrisMorgan: could you open an issue?
[23:49:27] <ChrisMorgan> OK, will do.
[23:55:39] <acrichto> my calls to SetWaitableTimer do not appear to work when it's periodic...
[23:56:31] <acrichto> oh hm maybe they are
[23:59:00] <acrichto> either I don't know what I'm doing or windows timers are horribly inaccurate
[23:59:03] <acrichto> or it doesn't play well in a VM
[23:59:39] <acrichto> maybe it's just always a 10ms delay
[23:59:41] <ChrisMorgan> acrichto: filed as https://github.com/mozilla/rust/issues/11200
