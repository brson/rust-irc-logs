[00:00:13] <bjz> oh ok
[00:00:15] <bjz> o/
[00:04:59] <nrc> :-( It would be great to have a working pretty printer (espcially if it could be the base for  rust-format/rust-fix type tools)
[00:07:39] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Connection reset by peer)
[00:09:22] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[00:11:14] *** Joins: bytbox (s@moz-AA99B23F.washdc.fios.verizon.net)
[00:11:55] *** Joins: ghrust (ghrust@511FAEBD.6A2AE50.F3114085.IP)
[00:11:55] <ghrust> [13rust] 15bors 04force-pushed 06auto from 140d528e5 to 145736deb: 02http://git.io/N3iJvQ
[00:11:55] *** Parts: ghrust (ghrust@511FAEBD.6A2AE50.F3114085.IP) ()
[00:11:56] *** Joins: ghrust (ghrust@23EC81EC.6A2AE50.F3114085.IP)
[00:11:56] <ghrust> [13rust] 15bors pushed 2 new commits to 06auto: 02http://git.io/vZfebQ
[00:11:56] <ghrust> 13rust/06auto 1437bf97a 15gentlefolk: Updated metadata::creader::resolve_crate_deps to use the correct span. Clarified error message when an external crate's dependency is missing. Closes #2404.
[00:11:56] <ghrust> 13rust/06auto 1425147b2 15bors: auto merge of #12146 : gentlefolk/rust/issue-2404, r=alexcrichton...
[00:11:57] *** Parts: ghrust (ghrust@23EC81EC.6A2AE50.F3114085.IP) ()
[00:19:09] <ChrisMorgan> Macros have also become quite widely used more recently; formatting them is a fundamentally impossible task.
[00:30:25] *** Joins: erickt (Adium@moz-BDF423C7.hfc.comcastbusiness.net)
[00:30:56] <erickt> acrichto: I managed to get my Hash module down to 3 traits: Hash, StreamState, and Hasher
[00:32:24] <erickt> acrichto: and now end users only have to implement Hash, typically with `impl<S: StreamState> Hash<S> for Foo { fn hash(&self, state: &mut S) { self.x.hash(state); self.y.hash(state); } }`
[00:32:54] <erickt> brson: you might also be interested in ^
[00:33:53] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[00:34:27] <erickt> apparently brson was not interested
[00:34:35] <steveklabnik> neat
[00:34:38] <steveklabnik> ahahah
[00:36:35] <Eridius> erickt: nice
[00:37:08] <erickt> Getting real close now :)
[00:44:45] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[00:49:12] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Quit: Leaving...)
[00:49:43] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[00:57:18] *** Quits: wycats (sid79@moz-5F4AA75A.irccloud.com) (Ping timeout)
[00:57:18] *** Quits: steveklabnik_ (uid17044@moz-A42E5B7B.irccloud.com) (Ping timeout)
[00:57:25] *** Quits: angdev (uid7041@moz-E77DEB21.irccloud.com) (Ping timeout)
[00:57:25] *** Quits: whitglint (uid15486@moz-31ABA2C0.irccloud.com) (Ping timeout)
[00:57:25] *** Quits: larsberg (sid16141@moz-A42E5B7B.irccloud.com) (Ping timeout)
[00:57:25] *** Quits: jack (sid19593@moz-A42E5B7B.irccloud.com) (Ping timeout)
[00:57:46] *** Quits: ggherdov_ (sid11402@moz-E77DEB21.irccloud.com) (Ping timeout)
[00:58:24] *** Joins: wycats (sid79@moz-5F4AA75A.irccloud.com)
[00:58:31] *** Quits: canhtak (canhtak@moz-8C86DA1D.wl.t.ulaval.ca) (Quit: canhtak)
[01:02:14] *** flaper87 is now known as flaper87|afk
[01:02:37] *** Joins: steveklabnik_ (uid17044@moz-A42E5B7B.irccloud.com)
[01:06:54] *** Parts: aepsil0n (eduard@moz-7D5ED05F.mullvad.net) ()
[01:09:12] *** Joins: canhtak (canhtak@moz-8C86DA1D.wl.t.ulaval.ca)
[01:22:35] *** Joins: jack (sid19593@moz-A42E5B7B.irccloud.com)
[01:24:14] *** Quits: eibwen (kvirc@moz-B267FF8F.dip0.t-ipconnect.de) (Ping timeout)
[01:26:51] *** Joins: ghrust (ghrust@7BEB6F9D.6A2AE50.F3114085.IP)
[01:26:51] <ghrust> [13rust] 15bors merged 06auto into 06master: 02http://git.io/vZfebQ
[01:26:51] *** Parts: ghrust (ghrust@7BEB6F9D.6A2AE50.F3114085.IP) ()
[01:29:57] *** Joins: Sharp (Sharp@19388942.6B775EBE.DC877F3B.IP)
[01:30:00] *** Quits: Sharp (Sharp@19388942.6B775EBE.DC877F3B.IP) (Quit: Sharp)
[01:31:55] *** Joins: ghrust (ghrust@5AC7F92B.6A2AE50.F3114085.IP)
[01:31:55] <ghrust> [13rust] 15bors pushed 0 new commits to 06auto: 02http://git.io/ff93xg
[01:31:55] *** Parts: ghrust (ghrust@5AC7F92B.6A2AE50.F3114085.IP) ()
[01:31:57] *** Joins: ghrust (ghrust@2DCF43EA.6A2AE50.F3114085.IP)
[01:31:57] <ghrust> [13rust] 15bors pushed 3 new commits to 06auto: 02http://git.io/Z7VwmA
[01:31:57] <ghrust> 13rust/06auto 14b94daee 15Kevin Ballard: Clean up std::task docs, make TaskBuilder a real builder...
[01:31:57] <ghrust> 13rust/06auto 1401b31af 15Kevin Ballard: Update clients of the TaskBuilder API
[01:31:57] <ghrust> 13rust/06auto 1493a2ee8 15bors: auto merge of #12232 : kballard/rust/taskbuilder-is-a-builder, r=alexcrichton...
[01:31:59] *** Parts: ghrust (ghrust@2DCF43EA.6A2AE50.F3114085.IP) ()
[01:32:23] *** Joins: whitglint (uid15486@moz-31ABA2C0.irccloud.com)
[01:36:11] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[01:37:04] *** Quits: lkuper (lkuper@moz-AD4C50F5.dhcp-bl.indiana.edu) (Quit: lkuper)
[01:37:57] *** Joins: lkuper (lkuper@moz-AD4C50F5.dhcp-bl.indiana.edu)
[01:39:37] *** Quits: lkuper (lkuper@moz-AD4C50F5.dhcp-bl.indiana.edu) (Ping timeout)
[01:42:50] *** Joins: ggherdov_ (sid11402@moz-E77DEB21.irccloud.com)
[01:42:55] *** Quits: gimpf (gimpf@moz-189DFB6B.adsl.highway.telekom.at) (Connection reset by peer)
[01:47:56] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[01:47:57] *** ChanServ sets mode: +qo brson brson
[02:00:36] <brson> acrichto: are the bots ok now?
[02:01:05] <nrc> what should I use instead of path_ident_to_str now that it has disappeared?
[02:13:43] *** Quits: mawuli (mawuli@moz-5ADAB167.com.gh) (Ping timeout)
[02:14:03] *** Joins: mawuli (mawuli@moz-5ADAB167.com.gh)
[02:14:46] *** Quits: erickt (Adium@moz-BDF423C7.hfc.comcastbusiness.net) (Quit: Leaving.)
[02:18:08] *** Quits: geoffhill (geoffhill@moz-95FF7399.members.linode.com) (Ping timeout)
[02:18:36] *** Quits: canhtak (canhtak@moz-8C86DA1D.wl.t.ulaval.ca) (Quit: canhtak)
[02:19:16] *** Joins: canhtak (canhtak@moz-8C86DA1D.wl.t.ulaval.ca)
[02:23:01] *** Joins: angdev (uid7041@moz-E77DEB21.irccloud.com)
[02:23:32] *** Quits: canhtak (canhtak@moz-8C86DA1D.wl.t.ulaval.ca) (Quit: canhtak)
[02:29:01] *** Joins: erickt (Adium@moz-BDF423C7.hfc.comcastbusiness.net)
[02:34:48] *** Joins: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[02:41:54] *** Joins: ghrust (ghrust@94BD74B8.6A2AE50.F3114085.IP)
[02:41:54] <ghrust> [13rust] 15bors merged 06auto into 06master: 02http://git.io/Z7VwmA
[02:41:54] *** Parts: ghrust (ghrust@94BD74B8.6A2AE50.F3114085.IP) ()
[02:45:04] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[02:46:49] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[02:46:49] <ghrust> [13rust] 15bors pushed 0 new commits to 06auto: 02http://git.io/Kz8IPQ
[02:46:49] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[02:46:52] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[02:46:52] <ghrust> [13rust] 15bors pushed 2 new commits to 06auto: 02http://git.io/rtZ0lw
[02:46:52] <ghrust> 13rust/06auto 14b609d57 15Derek Guenther: Added more scripts to tidy check
[02:46:52] <ghrust> 13rust/06auto 1403c5342 15bors: auto merge of #12243 : dguenther/rust/extend-tidy, r=alexcrichton...
[02:46:53] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[02:48:42] *** Joins: brson (brson@59C3BD5D.9810012B.7A1399C0.IP)
[02:48:42] *** ChanServ sets mode: +qo brson brson
[02:50:14] <Eridius> yay bors is happy
[02:52:01] <acrichto> brson: they are indeed it appears
[02:52:30] <acrichto> Eridius: awesome! that's kinda what I would expect
[02:52:34] <acrichto> whoops erickt^
[02:52:47] <erickt> :)
[02:52:53] <acrichto> erickt: if we didn't support truly custom hashing, could we simplify that down to Hasher + Hash ?
[02:58:20] <erickt> acrichto: just pushed up my latest version here: https://github.com/mozilla/rust/pull/11863
[02:59:19] <acrichto> erickt: looks like ast_old.rs still snuck in
[02:59:32] <erickt> oops, lemme fix it
[03:00:14] <acrichto> erickt: also some deleted tests in io/net/ip.rs which probably shouldn't be deleted just yet
[03:02:16] <erickt> acrichto: pushed up a version without ast_old.rs
[03:02:23] <acrichto> cool
[03:02:28] <acrichto> I'll start leaving comments inline
[03:02:45] <erickt> I'll factor out the ip.rs change too
[03:04:44] <erickt> acrichto: ip.rs is now gone
[03:05:12] <acrichto> erickt: hm maybe I should ask here, but could we merge StreamState and Hasher?
[03:05:41] <erickt> acrichto: I thought we already talked about that :D
[03:05:43] <acrichto> fn hash<T: Hash<Self>>(&mut self, value: &T) -> u64;
[03:05:54] <acrichto> we did, and this would involve removing truly custom hashes?
[03:06:16] <acrichto> I thought that the same reason for having Hasher and StreamHasher was the same as having StreamState and Hasher
[03:07:52] <erickt> acrichto: not quite. StreamHasher was just some silly redundancy.
[03:08:19] <acrichto> hm, I think I'm still not grasping this then :(
[03:09:36] <erickt> Maybe I should rename these traits. Hash=>Hash, StreamState=>Hasher, Hasher=>HasherFactory
[03:10:26] <acrichto> ah ok that makes more sense to me
[03:10:33] <acrichto> then I think we could eliminate HasherFactory for now
[03:10:51] <erickt> If you merge StreamState and Hasher, you then need to add a `.reset()` method to the resulting trait, and that .reset() then needs to get called after every value that gets hashed
[03:11:33] <acrichto> ok, I definitely understand that distinction then
[03:11:56] <acrichto> but you could still merge the traits, right?
[03:12:06] <acrichto> fn hash on Hasher would be a default method on StreamState
[03:12:15] <acrichto> self.reset(); value.input(self); self.result()
[03:12:41] <erickt> But that wouldn't work with a concurrent hashmap
[03:13:13] <acrichto> hash could also be a static method
[03:13:30] <erickt> it can't be, Sip has some initialization parameters
[03:13:52] <acrichto> hm, that's unfortunate
[03:13:56] *** Joins: tjr (trevor@moz-F6C93216.hsd1.mn.comcast.net)
[03:13:57] <erickt> so the hasher needs to be a value
[03:15:51] <erickt> acrichto: can you give your argument again why the StreamState argument should go away? Now there's only one trait to implement, and once we permanently turn on default typarams, using a `Hash` trait in typaram lists will have the same syntactic weight as what we have right now  
[03:16:29] <acrichto> erickt: no I really like what you have right now with 'impl Hash for MyType'
[03:16:40] <acrichto> and it's just hasher.hash_some_type(self.field)
[03:16:56] <acrichto> although I liked the input_XXX names instead of hash_XXX
[03:18:10] <erickt> acrichto: I changed it because input_XXX just seemed so generic
[03:18:17] <acrichto> erickt: I kinda like the renaming of Hash/Hasher/HasherFactory
[03:18:26] <acrichto> although HasherFactory needs a better nalme
[03:18:27] <acrichto> naem*
[03:18:33] <erickt> hehe
[03:18:57] <acrichto> also, have you thought about Writer for hashers?
[03:19:04] <acrichto> like if I wanted to just hash a whole stream of bytes
[03:20:06] <erickt> do you mean something like `impl Hash for &Writer`?
[03:20:30] <acrichto> http://golang.org/pkg/hash/#Hash
[03:20:44] <acrichto> I think this would be on the Hasher instead of a Hash for &Writer
[03:20:59] <acrichto> I don't think we want quite what go has
[03:21:31] <acrichto> but something where I could call write() on the Hahser
[03:21:34] <acrichto> Hasher*
[03:21:50] <erickt> ah, so using my old terminology, you mean something like `trait StreamState: Writer { â€¦ }`
[03:22:00] <acrichto> let mut hasher = Adler32::new(); io::copy(&mut hasher, &mut my_stream); hasher.result()
[03:22:55] <acrichto> I think it would work more like `impl Writer for StreamState`
[03:23:06] <acrichto> so yes
[03:23:12] <acrichto> but something provided by default
[03:23:34] <acrichto> impl<S: StreamState> Writer for S { ... } <- that won't work though sadly
[03:23:50] <erickt> i was just going to bemoan that pattern doesn't work yet
[03:24:00] <acrichto> but technically all hashers are writers
[03:24:04] <acrichto> they're just a sink for all information
[03:24:09] <acrichto> all byte streams*
[03:24:46] <erickt> it's simple enough to make `trait StreamState: Writer`. That would accomplish what you want
[03:25:17] <acrichto> it would be slightly burdensome for those implementing StreamState
[03:25:20] <acrichto> b/c it'd all be the same
[03:25:35] <acrichto> impl Writer for MyType { fn write(&mut self, bytes: &[u8]) { self.hash_bytes(bytes); } }
[03:27:16] <erickt> no, we'd get rid of StreamState.hash_bytes. We'd just have everything call .write
[03:28:09] <acrichto> seems a little odd though
[03:28:16] <acrichto> to write() a byte array but hash_XX everything else
[03:28:18] *** Quits: brson (brson@59C3BD5D.9810012B.7A1399C0.IP) (Quit: leaving)
[03:28:34] <acrichto> although wait hm
[03:28:41] <acrichto> could a hasher just be a writer?
[03:28:46] <acrichto> you get write_XXX for free
[03:28:48] <erickt> we can always change hash_XX to write
[03:28:56] <erickt> oh, maybe
[03:29:31] <acrichto> one problem there is the unused_must_use lint
[03:29:43] <acrichto> you don't really want to have to deal with the return value everywhere because you know it will always be Ok(())
[03:30:30] <acrichto> but then 'trait Hash<W: Writer> { fn hash(&self, w: &mut W); }`
[03:31:08] <acrichto> or rather
[03:31:18] <acrichto> 'trait Hash { fn hash<W: Writer>(&self, w: &mut W); }
[03:34:19] *** Joins: canhtak (canhtak@moz-8C86DA1D.wl.t.ulaval.ca)
[03:34:24] <erickt> It's a shame a subtrait can't override default methods in the supertrait, because hashing a float differs from writing a float in regards to what happens with 0.0 and -0.0
[03:35:33] <acrichto> hm that's unfortunate
[03:36:05] <erickt> so all the hashers would have to copy-paste the float hashing code
[03:36:56] <acrichto> would they?
[03:37:00] <acrichto> could you impl Hash for f32?
[03:37:05] <acrichto> and do the special tidbits there?
[03:37:17] <acrichto> you'd just have to be careful to say type.hash(writer)
[03:37:22] <acrichto> not writer.write_type(type)
[03:38:02] <erickt> all sorts of competing interests here. huon mentioned that it might be useful for a hasher to do something special with a type
[03:38:42] <erickt> such as hash an integer with a different algorithm than a string or something
[03:39:03] <acrichto> that's an interesting idea yeah
[03:39:40] *** Quits: tjr (trevor@moz-F6C93216.hsd1.mn.comcast.net) (Ping timeout)
[03:39:47] <erickt> so that means I had to move a lot of the logic into the StreamHasher (using the new terms now) so a impl of StreamHasher could do that interesting thing
[03:40:49] <acrichto> it's an interesting idea, we haven't really adopted the "everything is a Reader or Writer" quite like go has
[03:40:55] <acrichto> so perhaps mixing writers and hashing isn't a great idea
[03:41:34] <sfackler> using a different algorithm for integer hashing would be great perf-wise.
[03:42:07] <acrichto> although if you have a Writer you could always still override by type
[03:42:15] <acrichto> you can override write_i32 and such
[03:42:25] <acrichto> to do the "different algorithm"
[03:43:43] <erickt> all sorts of great questions for the meeting tomorrow :) it's a shame I can't participate in it :( I'm completely booked up with work
[03:48:22] <erickt> acrichto: oh and Writer doesn't provide a .write_slice
[03:48:58] <acrichto> erickt: but you write slice.hash(writer)
[03:49:03] <acrichto> not writer.write_slice(hash)
[03:49:15] <acrichto> write_slice(slice) *
[03:49:32] <erickt> yeah, but that doesn't let the hasher do something special with a slice
[03:49:55] <acrichto> slice.hash(writer) does
[03:50:09] <acrichto> well no I guess so
[03:50:18] <acrichto> there's a limit though
[03:50:23] <erickt> of course :) 
[03:50:28] <acrichto> the hasher can't do anything special with MyType
[03:51:40] <erickt> part of me wonders if anyone would actually hash an integer differently from a string though. would there there really be much performance out of that instead of just working on the bytes of both?
[03:51:59] *** Quits: zz_kimundi (kimundi@moz-B3D6A22F.dip0.t-ipconnect.de) (Ping timeout)
[03:52:08] <acrichto> it doesn't seem *too* worth it to me
[03:52:11] <erickt> am I making things unnecessarily overridable?
[03:52:33] <acrichto> so if we used Writer, we could have Hash and Hasher
[03:52:37] * Yurume is reading backlogs for the context
[03:52:39] <erickt> if you really want to do something unique, just use a custom hasher :)
[03:52:43] <acrichto> lol
[03:52:46] <acrichto> true
[03:55:01] <Yurume> I was thinking of `HashBytes` trait, which decouples the actual byte-hashing algorithm from the construction of bytes to be hashed, while making sure that it is only intended to be used for hashing.
[03:55:46] <Yurume> for me, bool::hash (for example) does not make sense, since it would be very inefficient.
[03:55:53] *** Joins: zz_kimundi (kimundi@moz-3A1FA64A.dip0.t-ipconnect.de)
[03:55:55] *** zz_kimundi is now known as kimundi
[03:56:49] *** Joins: ghrust (ghrust@99CAE845.6A2AE50.F3114085.IP)
[03:56:49] <ghrust> [13rust] 15bors merged 06auto into 06master: 02http://git.io/rtZ0lw
[03:56:49] *** Parts: ghrust (ghrust@99CAE845.6A2AE50.F3114085.IP) ()
[03:57:40] <erickt> acrichto: so if we kill off the whole 'lets make everything overridable', I believe we can replace StreamHasher with Writer
[03:58:08] <acrichto> erickt: sounds appealing to me, but I'm curious what others would think of that
[03:58:18] <erickt> Yurume: Does the `HashBytes` trait just have a .hash_bytes method on it?
[03:58:50] <erickt> Does it just convert a value into a stream of bytes?
[03:58:51] <Yurume> erickt: sure. (bool::hash example is for `Hash`.)
[04:00:16] <erickt> Yurume: What if you want to hash `Person { name: ~str, likes_sandwiches: bool }`? You need some way of feeding that bool into the hash
[04:00:58] <Yurume> erickt: self.name.hash_bytes(...); self.likes_sandwiches.hash_bytes(...);.
[04:01:21] <Yurume> just like the current Hash::hash, but hash gives the direct hash value while hash_bytes only gives the byte sequences to be hashed.
[04:01:41] <erickt> acrichto: So if we replace StreamHasher with Writer and keep `trait Hash<h = sip::StreamWriter> { â€¦ }`, then we get down to 2 traits and we keep the ability to have custom hashing
[04:01:54] *** Joins: ghrust (ghrust@C95C9FF.6A2AE50.F3114085.IP)
[04:01:54] <ghrust> [13rust] 15bors pushed 4 new commits to 06auto: 02http://git.io/xAq6MQ
[04:01:54] <ghrust> 13rust/06auto 14a226f56 15Geoffroy Couprie: Implement Unix domain sockets in libnative
[04:01:54] <ghrust> 13rust/06auto 1494b2d9d 15Alex Crichton: Move unix pipes implementation to pipe_unix.rs...
[04:01:55] <ghrust> 13rust/06auto 14a526aa1 15Alex Crichton: Implement named pipes for windows, touch up unix...
[04:01:57] *** Parts: ghrust (ghrust@C95C9FF.6A2AE50.F3114085.IP) ()
[04:02:34] <erickt> Yurume: have you seen https://github.com/mozilla/rust/pull/11863? I am doing some radical changes to Hash :)
[04:02:49] <acrichto> erickt: nice!
[04:03:00] <Yurume> ah, I didn't know about that. let me look at it :)
[04:03:25] <erickt> Yurume: no problem! I think I capture some of what you're talking about in it
[04:03:59] <Yurume> that seems about what I was thinking of (except for the custom StreamState trait)
[04:04:04] <erickt> well I need to head off to bed. we're almost there!
[04:04:51] <erickt> acrichto: if you see huon, you should ask him if he had anything specific in mind when he wanted a hasher to do custom things for a type
[04:05:00] <acrichto> will do
[04:05:19] <erickt> gnight!
[04:05:24] <Yurume> StreamState looks good to me, especially hash_slice and other generic methods.
[04:05:27] <Yurume> sleep tight :)
[04:07:38] *** Quits: erickt (Adium@moz-BDF423C7.hfc.comcastbusiness.net) (Quit: Leaving.)
[04:07:50] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[04:14:41] *** Quits: canhtak (canhtak@moz-8C86DA1D.wl.t.ulaval.ca) (Quit: canhtak)
[04:22:05] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[04:31:13] *** Joins: canhtak (canhtak@moz-8C86DA1D.wl.t.ulaval.ca)
[04:31:31] *** Quits: jack (sid19593@moz-A42E5B7B.irccloud.com) (Ping timeout)
[04:31:31] *** Quits: steveklabnik_ (uid17044@moz-A42E5B7B.irccloud.com) (Ping timeout)
[04:31:36] *** Quits: wycats (sid79@moz-5F4AA75A.irccloud.com) (Ping timeout)
[04:31:54] *** Quits: angdev (uid7041@moz-E77DEB21.irccloud.com) (Ping timeout)
[04:31:59] *** Quits: ggherdov_ (sid11402@moz-E77DEB21.irccloud.com) (Ping timeout)
[04:32:00] *** Quits: whitglint (uid15486@moz-31ABA2C0.irccloud.com) (Ping timeout)
[04:33:11] *** Joins: wycats (sid79@moz-5F4AA75A.irccloud.com)
[04:45:43] <sfackler> acrichto: r? https://github.com/mozilla/rust/pull/12361
[04:50:19] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[04:52:14] *** Joins: steveklabnik_ (uid17044@moz-A42E5B7B.irccloud.com)
[04:52:17] *** Joins: ggherdov_ (sid11402@moz-E77DEB21.irccloud.com)
[04:56:12] *** Joins: angdev (uid7041@moz-E77DEB21.irccloud.com)
[04:57:17] *** Joins: whitglint (uid15486@moz-31ABA2C0.irccloud.com)
[05:02:29] *** Joins: eddyb (eddy@moz-41DB10DA.residential.rdsnet.ro)
[05:07:41] *** Quits: Diamond (dick@moz-80556682.ks.ks.cox.net) (Quit: Leaving.)
[05:11:56] *** Joins: ghrust (ghrust@B750D19A.6A2AE50.F3114085.IP)
[05:11:56] <ghrust> [13rust] 15bors merged 06auto into 06master: 02http://git.io/xAq6MQ
[05:11:56] *** Parts: ghrust (ghrust@B750D19A.6A2AE50.F3114085.IP) ()
[05:16:52] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[05:16:53] <ghrust> [13rust] 15bors pushed 0 new commits to 06auto: 02http://git.io/UnjpLA
[05:16:53] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[05:25:15] *** Joins: lpy|afk (lpy@9A6870A6.F09091A8.1348A864.IP)
[05:27:18] *** Joins: jack (sid19593@moz-A42E5B7B.irccloud.com)
[05:29:58] *** Quits: lpy|afk (lpy@9A6870A6.F09091A8.1348A864.IP) (Connection reset by peer)
[05:30:10] <bjz> is there a way to do `make check-stage2-std NO_REBUILD=1` without the benchmarks?
[05:30:24] *** Joins: lpy|afk (lpy@7360AA58.F09091A8.1348A864.IP)
[05:30:31] <eddyb> NO_BENCH=1
[05:37:08] <bjz> eddyb: cheers
[05:41:17] *** Joins: edwardw (edwardw@ED48E813.BF27AFA4.B9C6B12A.IP)
[05:42:43] <nrc> eddyb: what should I use instead of path_ident_to_str now that it has disappeared?
[05:43:05] <eddyb> nrc: what do you need?
[05:43:22] <eddyb> I mean, what do you have, and what do you wish to get?
[05:43:52] <nrc> eddyb: I have a path and an ident and I want to get a str representation
[05:44:53] <Eridius> is there any specialized function to go from *T to &T or do I have to use cast::transmute()?
[05:45:09] <eddyb> Eridius: yes, and it's considered highly unsafe
[05:45:46] <eddyb> &T and &mut T have to obey some very strict rules, otherwise (future) optimizations can shred your code
[05:46:33] <eddyb> nrc: path_to_str(path.chain(Some(PathName(ident.name)).move_iter()))
[05:47:58] <nrc> yikes, ok
[05:48:02] <nrc> thanks eddyb
[05:48:06] <eddyb> nrc: also see the two methods here https://github.com/mozilla/rust/pull/12162/files#diff-87946a10679226d1e5b4d6f9c30ab133R291
[05:48:26] <Eridius> eddyb: I am aware of aliasing rules. Due to Lua, I need to store a &Foo as a *libc::c_void and convert it back later in a different function
[05:48:36] <eddyb> Eridius: okay, that's fine
[05:48:41] <Eridius> eddyb: so since you said "yes", what's the right way to convert *T to &T?
[05:48:47] * Eridius doesn't like using transmute() if there's a more specialized hammer
[05:48:55] <eddyb> Eridius: "yes" for transmute
[05:48:58] <Eridius> oh ok
[05:49:29] <eddyb> nrc: path_to_str_with_ident is like path_to_str + what I've told you from memory., but it's private because only node_to_str in the same module uses it
[05:50:07] <nrc> eddyb: oh, sweet, I thought it had gone, but it's just moved onto ast_map
[05:50:30] <eddyb> it was in ast_map
[05:50:31] <nrc> I think I was missing a _with on my original question
[05:50:46] <eddyb> no
[05:50:55] <eddyb> the original names were derpy
[05:51:19] <eddyb> nrc: if that method does exactly what you need, you may make it public
[05:51:23] <nrc> oh, eight, I was using something like that which took an interner and was a bare fn, not a method
[05:51:28] <nrc> *right
[05:51:38] *** Quits: canhtak (canhtak@moz-8C86DA1D.wl.t.ulaval.ca) (Quit: canhtak)
[05:51:42] <nrc> eddyb: I'll do that
[05:51:56] <eddyb> the interner shouldn't be passed around, except for something like a pretty printer, which might as well have fast access to it
[05:52:05] <eddyb> nrc: that is, if you would be using with_path anyways
[05:52:26] <eddyb> where is the rustc/dxr code at?
[05:52:49] *** Joins: huon (Thunderbir@9E0D83DA.D5A1DCF.37681C44.IP)
[05:53:06] <huon> Eridius: unsafe {&*ptr}
[05:53:18] <nrc> eddyb: https://github.com/nick29581/rust/tree/dxr3
[05:53:23] <eddyb> huon: I wouldn't do that
[05:53:35] <huon> eddyb: transmute is 100x worse
[05:53:38] <nrc> that's a bit old now, I'm in the middle of a rebase
[05:53:58] *** Quits: edwardw (edwardw@ED48E813.BF27AFA4.B9C6B12A.IP) (Quit: Leaving...)
[05:54:18] <eddyb> huon: transmute doesn't feel weird
[05:54:27] <huon> eddyb: transmute is too powerful
[05:54:29] <huon> too dangerou
[05:54:34] <huon> too easy to screw up
[05:54:51] <huon> &*ptr requires a pointer: nearly impossible to screw up
[05:54:52] <eddyb> transmute_r2b and b2r?
[05:55:03] <huon> (modulo valid pointer-ness & &/&mut invariants)
[05:55:14] <eddyb> but it looks like a dereference!
[05:55:22] <huon> so?
[05:55:43] <eddyb> lvalue semantics in rust are magic :(
[05:56:02] <huon> *dangerous
[05:56:14] * huon time del.... ay
[05:56:30] <eddyb> I was going to say slowpoke giraffe, but yeah
[05:56:52] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[05:56:52] <ghrust> [13rust] 15bors 04force-pushed 06auto from 14e494514 to 1462d7d00: 02http://git.io/N3iJvQ
[05:56:52] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[05:56:54] *** Joins: ghrust (ghrust@5AC7F92B.6A2AE50.F3114085.IP)
[05:56:54] <ghrust> [13rust] 15bors pushed 6 new commits to 06auto: 02http://git.io/0Y6e8g
[05:56:54] <ghrust> 13rust/06auto 14493a4b6 15Huon Wilson: std: iteratize str::is_utf16 & add tests....
[05:56:54] <ghrust> 13rust/06auto 14b7656d0 15Huon Wilson: std: convert str::from_utf16 to an external iterator....
[05:56:54] <ghrust> 13rust/06auto 14a96cea4 15Huon Wilson: str: provide lossy UTF-16 support....
[05:56:56] *** Parts: ghrust (ghrust@5AC7F92B.6A2AE50.F3114085.IP) ()
[06:14:05] *** Quits: angdev (uid7041@moz-E77DEB21.irccloud.com) (Ping timeout)
[06:14:07] *** Quits: steveklabnik_ (uid17044@moz-A42E5B7B.irccloud.com) (Ping timeout)
[06:14:07] *** Quits: jack (sid19593@moz-A42E5B7B.irccloud.com) (Ping timeout)
[06:16:25] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Ping timeout)
[06:16:53] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[06:16:53] <ghrust> [13rust] 15bors pushed 2 new commits to 06auto: 02http://git.io/O4-8Jw
[06:16:53] <ghrust> 13rust/06auto 14876eb93 15Brendan Zabarauskas: Remove Real trait and move methods into Float...
[06:16:53] <ghrust> 13rust/06auto 14b0ce960 15bors: auto merge of #12321 : bjz/rust/remove-real, r=alexcrichton...
[06:16:53] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[06:16:54] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[06:16:55] <ghrust> [13rust] 15bors 04force-pushed 06auto from 140517058 to 1462d7d00: 02http://git.io/N3iJvQ
[06:16:55] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[06:18:09] *** Joins: yati (yati@EECFC45B.E866096E.CECE23B2.IP)
[06:18:10] *** Joins: angdev (uid7041@moz-E77DEB21.irccloud.com)
[06:23:42] <Eridius> huon: oh heh, yeah, that would work. thanks
[06:30:01] *** Joins: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP)
[06:33:06] *** Quits: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Quit: lkuper)
[06:36:18] <eddyb> hmm, should we introduce first-class lvalues?
[06:36:24] <eddyb> without syntax for them?
[06:38:09] <eddyb> (lvalues, as in C++ references)
[06:39:49] <huon> *x is too much?
[06:41:21] <eddyb> the language doesn't have a way to describe what *x does, which means patterns like &*x and *x = ...; are compiler magic
[06:41:51] <eddyb> ref T and ref mut T come to mind, though they aren't self-explanatory at all
[06:42:04] * huon -> home
[06:42:09] *** Quits: huon (Thunderbir@9E0D83DA.D5A1DCF.37681C44.IP) (Quit: huon)
[06:42:29] *** Quits: yati (yati@EECFC45B.E866096E.CECE23B2.IP) (Ping timeout)
[06:42:42] *** Joins: yati (yati@EECFC45B.E866096E.CECE23B2.IP)
[06:43:24] *** Joins: jack (sid19593@moz-A42E5B7B.irccloud.com)
[06:43:45] <eddyb> well, the lack of a sigil is nice, conveys the fact that there is no apparent indirection
[06:44:33] <eddyb> so *x could be defined to produce a ref T out of a &T x, or a ref mut T out of a &mut T
[06:45:27] <eddyb> using a ref T as a T value will perform the actual pointer dereference
[06:46:23] <yati> I think this is similar to how Go does it? Not sure.
[06:46:44] <yati> I think *T is deref'd automatically when it is used as a T
[06:47:15] *** Parts: eddyb (eddy@moz-41DB10DA.residential.rdsnet.ro) (Konversation terminated!)
[06:47:23] *** Joins: eddyb (eddy@moz-41DB10DA.residential.rdsnet.ro)
[06:47:36] <eddyb> have to disable that binding
[06:48:40] <eddyb> there, Ctrl+W doesn't do anything \o/
[06:49:05] <eddyb> yati: pretty sure we don't want it in the language
[06:49:07] * ChrisMorgan wishes he could do that without needing to change IRC client just yet
[06:49:25] <yati> eddyb, It is indeed very confusing.
[06:50:15] <eddyb> and you can't change a C++ reference to point to something else, they only have one level of indirection and that's it etc.
[06:50:39] <eddyb> I was just fiddling with the idea of using such a concept to model the dereference operator
[06:50:58] <eddyb> am I turning into nmatsakis?
[06:53:27] *** Joins: steveklabnik_ (uid17044@moz-A42E5B7B.irccloud.com)
[06:53:28] *** Joins: larsberg (sid16141@moz-A42E5B7B.irccloud.com)
[06:53:32] <eddyb> anyways, there's no real type for result of dereferencing a &T, other than &T treated as an lvalue
[06:54:12] *** Quits: zw01 (zev@3C32E5CD.21A2D65F.BCF77D2A.IP) (Ping timeout)
[06:54:39] <yati> eddyb, But the deref in C++ is implicit for references, right? And rust &Ts can be dereferenced to get a T, no? (That's what I was thinking)
[06:55:06] <eddyb> yati: using the result of the dereference as a value produces the actual dereference
[06:55:52] <eddyb> I guess C has a similar problem, maybe only for *x = y;
[06:57:29] *** Quits: bytbox (s@moz-AA99B23F.washdc.fios.verizon.net) (Ping timeout)
[06:57:41] *** Joins: zw01 (zev@3C32E5CD.21A2D65F.BCF77D2A.IP)
[07:00:02] <eddyb> does anyone know what &*&x does in C?
[07:00:30] <eddyb> actually, nevermind me, &x requires x to be an lvalue in C/C++
[07:00:31] *** Quits: yati (yati@EECFC45B.E866096E.CECE23B2.IP) (Ping timeout)
[07:00:52] <eddyb> it's only confusing in Rust because we allow "taking the address" of an rvalue
[07:01:00] *** Joins: yati (yati@EECFC45B.E866096E.CECE23B2.IP)
[07:01:30] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[07:05:03] *** Joins: edwardw (edwardw@96E7298D.3E260003.B9C6B12A.IP)
[07:08:32] *** Quits: yati (yati@EECFC45B.E866096E.CECE23B2.IP) (Ping timeout)
[07:11:36] <eddyb> "can seem somewhat magical and intuitive at first"
[07:11:43] <eddyb> was that supposed to be "unintuitive"?
[07:19:00] *** Quits: edwardw (edwardw@96E7298D.3E260003.B9C6B12A.IP) (Ping timeout)
[07:20:21] *** Joins: edwardw_ (edwardw@3570A9BA.4E6A4251.FAED9FFC.IP)
[07:21:09] *** Joins: bytbox (s@moz-AA99B23F.washdc.fios.verizon.net)
[07:21:10] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[07:21:41] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[07:23:57] *** Joins: yati (yati@EECFC45B.E866096E.CECE23B2.IP)
[07:31:52] *** Joins: ghrust (ghrust@49477F7E.6A2AE50.F3114085.IP)
[07:31:52] <ghrust> [13rust] 15bors merged 06auto into 06master: 02http://git.io/O4-8Jw
[07:31:52] *** Parts: ghrust (ghrust@49477F7E.6A2AE50.F3114085.IP) ()
[07:32:22] *** Quits: edwardw_ (edwardw@3570A9BA.4E6A4251.FAED9FFC.IP) (Quit: Leaving...)
[07:34:42] <yati> I think Julia's approach to metaprogramming is very interesting: http://julia.readthedocs.org/en/latest/manual/metaprogramming/
[07:36:21] <yati> The macros there have to "return" an Expr object the macro should expand to, and constructing one is super easy
[07:36:55] *** Joins: ghrust (ghrust@C95C9FF.6A2AE50.F3114085.IP)
[07:36:55] <ghrust> [13rust] 15bors pushed 0 new commits to 06auto: 02http://git.io/40U3xA
[07:36:55] *** Parts: ghrust (ghrust@C95C9FF.6A2AE50.F3114085.IP) ()
[07:37:20] <eddyb> yati: looks like LISP in disguise
[07:37:27] <Yurume> yati: is it almost like Rust's procedural macros with quote_*!() helper macros?
[07:37:33] <Yurume> isn't it*
[07:37:47] <Yurume> eddyb: quoting and unquoting, maybe splicing too.
[07:37:55] <eddyb> the only interesting part is how the syntax looks... desirable
[07:38:02] *** Quits: yati (yati@EECFC45B.E866096E.CECE23B2.IP) (Ping timeout)
[07:41:26] *** flaper87|afk is now known as flaper87
[07:45:47] *** Joins: huon (Thunderbir@moz-826BD85A.lns20.syd6.internode.on.net)
[07:47:14] *** Joins: yati (yati@1ABB069E.74330A8E.CECE23B2.IP)
[07:47:45] * yati hates Xchat for not even telling he's disconnected :\
[07:49:56] <yati> eddyb, for me, the various code-fragment types in rust - ty, ident, etc. look very shaky - in contrast, Julia seems to have generalized everything as an expression?
[07:51:30] <yati> But I guess the rust way allows the compiler to do much more work than otherwise would have been possible
[07:52:04] <eddyb> rustc does total compilation, I highly doubt Julia has a similar design
[07:52:24] <eddyb> it's a bit sad, because it means you can't use type information in macros and whatnot
[07:52:52] <eddyb> and macros are expanded before resolve runs, so there's no notion of module resulotion in expansion
[07:52:53] <yati> Yeah - Julia is JIT compiled with optional type annotations
[07:53:25] <eddyb> rustc vs Julia is like fixed pipeline vs programmable
[07:54:31] <eddyb> ohh, hygiene escape, that's cool
[07:54:44] <eddyb> we still don't have hygiene for anything more than let
[07:55:02] <eddyb> nor do we handle it efficiently
[07:55:54] <yati> Hmm - I didn't know that - I definitely like Julia's way better than CL's GENSYM
[07:56:22] <yati> For a serious macro-system, hygiene is a must no?
[07:57:56] <huon> hygiene for non-let things is just a bug
[07:58:32] <huon> and I believe that there our algorithm for hygiene is relatively state-of-the-art
[07:58:32] <huon> aiui
[07:59:59] <huon> s/there/
[08:00:06] <huon>  /
[08:01:06] <flaper87> agreed... Our issue is just a bug
[08:01:19] <flaper87> I haven't played with Eduard's branch yet
[08:01:26] <flaper87> damn, time is not enough
[08:01:31] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[08:01:36] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[08:01:39] <eddyb> which Eduard?
[08:01:45] <flaper87> eddyb: not you
[08:01:46] <flaper87> :)
[08:02:02] <eddyb> surely it must be with a w then, no?
[08:02:15] <yati> huon, Where can I find the code for that?
[08:02:17] <flaper87> eddyb: yeah, I must have misspelled his name
[08:02:17] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[08:02:26] <huon> yati: our hygiene?
[08:02:35] <eddyb> yati: it's not readable
[08:02:48] <flaper87> yati: https://github.com/mozilla/rust/issues/12262
[08:03:12] <eddyb> libsyntax/ext/expand.rs, using some functions from libsyntax/ast_util.rs
[08:03:31] <huon> flaper87: that's minor one :P
[08:03:51] <huon> https://github.com/mozilla/rust/issues/9384 and https://github.com/mozilla/rust/issues/9383 are the most important ones
[08:04:17] <flaper87> huon: yeah, but it's a start :P
[08:04:21] <huon> flaper87: yep
[08:06:27] <flaper87> The new static rules patch made it to stage2 last night... w000t
[08:06:38] <flaper87> now I've got to disable moves from statics
[08:06:45] <yati> I see in that file code like `match (*mac).node =>...` - Shouldn't it just be `match mac.node => ...`?
[08:06:54] *** Joins: ghrust (ghrust@88C0CBA2.6A2AE50.F3114085.IP)
[08:06:54] <ghrust> [13rust] 15bors 04force-pushed 06auto from 146eb83f9 to 14b0ce960: 02http://git.io/N3iJvQ
[08:06:54] *** Parts: ghrust (ghrust@88C0CBA2.6A2AE50.F3114085.IP) ()
[08:06:57] <flaper87> funny thing is, changing the current behavior in gather_moves did *nothing*
[08:07:00] <eddyb> yati: maybe
[08:07:03] <flaper87> so there must be a bigger bug there
[08:07:17] <eddyb> yati: libsyntax and librustc are ancient
[08:07:25] <yati> Oh
[08:07:34] <eddyb> there's more style violations than stars on the night sky
[08:07:41] <yati> Haha :D
[08:11:48] <yati> In librustc/driver/session.rs, we define a struct Session_ and then a type `pub type Session = @Session_;`. Any specific reason for doing that?
[08:12:03] <eddyb> reason? no
[08:12:13] <eddyb> there may be problems with fixing it? yes
[08:12:23] <huon> yati: history
[08:12:25] *** Joins: Zr40 (zr40@EE4BB9F5.926C319A.BE2F4011.IP)
[08:12:56] <yati> Yeah yeah got it - librustc -> ancient :P
[08:12:56] <huon> previously (years ago) Rust only had @Trait style objects, and doing that was the easiest migration path, aiui
[08:14:02] <eddyb> if you wish to clean up, rename Session_ to Session, replace Session with @Session everywhere, and then try to remove the newly added @ (the latter two can be done in one step)
[08:18:26] <yati> Hmm, there are places where it is used like driver::session::Session and session::Session
[08:19:44] <eddyb> yeah, each module may import it differently
[08:20:40] <flaper87> yati: are you looking things that you could contribute to? Or are you just interested in hacking on random things in rustc ?
[08:21:24] <flaper87> yati: here are some things that you could work on if you want: https://github.com/mozilla/rust/wiki/Note-contribution-ideas
[08:21:30] <flaper87> some of them were already implemented
[08:22:20] <yati> flaper87, both :) I was checking the easy tags on github issues, but many of the unassigned ones already have patches :\
[08:22:26] <yati> Will check that out.
[08:26:48] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[08:26:49] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[08:39:15] *** Joins: rca (rcatolino@moz-61BF891E.adsl.proxad.net)
[08:39:30] <nrc> if I want to write unit tests for methods in an impl which are private, should/can I put the test module inside the impl?
[08:39:58] <Eridius> you can't put a module in an impl. You also can't have a private impl
[08:40:02] <Eridius> you can have private methods in an impl though
[08:40:05] <Eridius> but the privacy rules already handle that
[08:40:17] <Eridius> any code can see into a single level of privacy from anywhere in its ancestor chain
[08:40:28] <Eridius> so if you have mod foo and mod foo::test, then anything in foo::test can see private items that are in foo
[08:40:32] <Eridius> (but they can't see private items in foo::bar)
[08:41:11] <nrc> right so I have foo::bar and methods in bar are not pub, but I want to test them - is it possible in any way?
[08:41:23] <Eridius> put your tests in foo::bar::test
[08:41:33] <Eridius> anything in foo::bar::test can see private items (including private methods) from foo::bar
[08:41:49] <nrc> sorry, bar is a struct/impl
[08:42:02] <Eridius> ok then put them in foo::test
[08:42:10] <Eridius> impls don't establish privacy boundaries
[08:42:12] <Eridius> and structs don't contain methods
[08:42:24] <Eridius> only module boundaries matter for this
[08:42:54] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:42:56] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:43:04] <nrc> so I think I should be able to see the methods, perhaps I  jumped to conclusions and it is not a privacty issue
[08:44:07] <Eridius> rusti: struct Foo; impl Foo { fn foo(&self) { println!("called private method foo"); } } mod tests { pub fn test() { let f = Foo; f.foo(); } } tests::test()
[08:44:10] -rusti- pastebinned 5 lines of output: http://ix.io/azM
[08:44:23] <Eridius> rusti: struct Foo; impl Foo { fn foo(&self) { println!("called private method foo"); } } mod tests { pub fn test() { use super::Foo; let f = Foo; f.foo(); } } tests::test()
[08:44:26] -rusti- pastebinned 8 lines of output: http://ix.io/azN
[08:44:42] <Eridius> ugh ok, I don't think this will work well in rusti because of defining items inside of a function
[08:45:28] * Eridius goes to bed
[09:03:32] *** Joins: doener (bs@moz-AA189A5A.unitymedia.biz)
[09:06:51] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[09:06:51] <ghrust> [13rust] 15bors 04force-pushed 06auto from 145203035 to 14b0ce960: 02http://git.io/N3iJvQ
[09:06:51] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[09:06:54] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[09:06:54] <ghrust> [13rust] 15bors pushed 7 new commits to 06auto: 02http://git.io/xBAlvg
[09:06:54] <ghrust> 13rust/06auto 1423f331d 15Alex Crichton: rustdoc: Fixup links to enum variants...
[09:06:54] <ghrust> 13rust/06auto 14fd3827a 15Alex Crichton: rustdoc: Show macros in documentation...
[09:06:54] <ghrust> 13rust/06auto 14e40f7b1 15Alex Crichton: rustdoc: Highlight methods jumped to...
[09:06:56] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[09:15:05] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[09:20:05] <huon> rustilite: struct Foo; impl Foo { fn foo(&self) { println!("called private method foo"); } } mod tests { pub fn test() { use super::Foo; let f = Foo; f.foo(); } }  fn main() { tests::test() }
[09:20:06] -rustilite- called private method foo
[09:20:10] <huon> nrc: ^
[09:23:33] <nrc> My problem wasn't privacy - I missed out the receiver :-s
[09:23:41] <nrc> thanks Eridius and huon
[09:29:16] *** Joins: eibwen (kvirc@moz-960503D8.dip0.t-ipconnect.de)
[09:32:25] *** Quits: zw01 (zev@3C32E5CD.21A2D65F.BCF77D2A.IP) (Ping timeout)
[09:33:58] *** Joins: zw01 (zev@3C32E5CD.21A2D65F.BCF77D2A.IP)
[09:34:03] <eddyb> http://julia.readthedocs.org/en/latest/manual/metaprogramming/#non-standard-string-literals
[09:35:17] <eddyb> maybe we should allow simple macro forms like foo! "bar"
[09:35:26] <eddyb> (just one token after !)
[09:36:18] <Yurume> eddyb: hmm, so we essentially accept exactly one token tree after !?
[09:36:33] <Yurume> after `!`?*
[09:36:53] *** Joins: ghrust (ghrust@C82447D.6A2AE50.F3114085.IP)
[09:36:53] <ghrust> [13rust] 15bors pushed 2 new commits to 06auto: 02http://git.io/yqACFQ
[09:36:53] <ghrust> 13rust/06auto 14b9c476b 15Ehsanul Hoque: Update tasks guide: SharedChan as been removed...
[09:36:53] <ghrust> 13rust/06auto 141e60084 15bors: auto merge of #12342 : ehsanul/rust/remove-shared-chan-tasks-guide, r=alexcrichton...
[09:36:54] *** Parts: ghrust (ghrust@C82447D.6A2AE50.F3114085.IP) ()
[09:36:55] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[09:36:55] <ghrust> [13rust] 15bors 04force-pushed 06auto from 1470d0365 to 14b0ce960: 02http://git.io/N3iJvQ
[09:36:55] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[09:38:21] <eddyb> Yurume: you mean "we would"? currently, the situation is a bit odd
[09:39:06] <Yurume> eddyb: ah, yes.
[09:44:42] <huon> one token tree, right?
[09:44:56] <huon> so foo! 1 and foo! { a b c } would be valid
[09:45:41] <eddyb> hmm, I guess it would be a generalization
[09:45:50] <kimundi> I'm for that generalization
[09:46:19] <eddyb> I'd like simd![...] just because it's nicer than whatever we have
[09:46:34] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[09:46:55] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[09:48:35] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[09:48:37] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[09:48:56] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[09:48:57] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[09:50:05] *** Joins: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP)
[09:52:35] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[09:52:57] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[09:53:56] <pnkfelix> huon: ping
[09:54:17] <huon> pnkfelix: pong
[09:54:38] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[09:54:47] <pnkfelix> huon: I pushed my fix for the libtool issue on BDW to the branch, bdw-bootstrapped-fixps-rebasing-2014feb11
[09:54:48] <Yurume> eddyb: simd![...] <3
[09:54:58] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[09:54:59] <pnkfelix> huon: It still doesn't build -- there's a link failure now
[09:55:11] <Yurume> we might will have big!"3.14159265358979326535" or similar as a separate library.
[09:55:35] <pnkfelix> huon: which I have not started trying to dissect.  Just wanted to let you know in case you wanted to try dissecting, but feel free to wait for me to do it too.  :)
[09:55:37] <Yurume> (though it now starts to look like D's template arguments. :p)
[09:55:40] <huon> Yurume: (our float literal token actually stores a string, so big!3.14159.... could preserve precision)
[09:56:14] <Yurume> huon: ah, right. that sounds cool.
[09:56:49] <huon> pnkfelix: Ok, cool. I won't be able to start for a few hours, but I might have a go later. (I guess I probably won't in the near future, though.)
[10:00:57] *** Quits: zw01 (zev@3C32E5CD.21A2D65F.BCF77D2A.IP) (Ping timeout)
[10:01:05] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[10:01:38] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[10:02:28] *** Joins: zw01 (zev@3C32E5CD.21A2D65F.BCF77D2A.IP)
[10:03:20] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Ping timeout)
[10:15:18] *** Joins: aepsil0n (eduard@moz-15CB80F2.hsi8.kabel-badenwuerttemberg.de)
[10:16:38] *** Quits: yati (yati@1ABB069E.74330A8E.CECE23B2.IP) (Connection reset by peer)
[10:30:00] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[10:34:28] *** Joins: jdm (jdm@E0579646.A7C48BE0.19EE75AF.IP)
[10:44:05] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[10:44:14] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[10:44:40] *** Joins: yati (yati@BE61E459.F16C4DAB.CECE23B2.IP)
[10:46:54] *** Joins: ghrust (ghrust@88C0CBA2.6A2AE50.F3114085.IP)
[10:46:54] <ghrust> [13rust] 15bors merged 06auto into 06master: 02http://git.io/yqACFQ
[10:46:54] *** Parts: ghrust (ghrust@88C0CBA2.6A2AE50.F3114085.IP) ()
[10:48:08] <pnkfelix> ooh, progress: error: could not exec the linker `cc`: not enough memory
[10:50:15] <eddyb> what did you do?
[10:51:49] *** Joins: ghrust (ghrust@2DCF43EA.6A2AE50.F3114085.IP)
[10:51:49] <ghrust> [13rust] 15bors pushed 0 new commits to 06auto: 02http://git.io/65WzlQ
[10:51:49] *** Parts: ghrust (ghrust@2DCF43EA.6A2AE50.F3114085.IP) ()
[10:51:50] *** Joins: ghrust (ghrust@94BD74B8.6A2AE50.F3114085.IP)
[10:51:50] <ghrust> [13rust] 15bors pushed 2 new commits to 06auto: 02http://git.io/qBGj8A
[10:51:50] <ghrust> 13rust/06auto 146555b04 15Huon Wilson: Spellcheck library docs.
[10:51:51] <ghrust> 13rust/06auto 14b3ed38f 15bors: auto merge of #12345 : huonw/rust/speeling, r=cmr
[10:51:51] *** Parts: ghrust (ghrust@94BD74B8.6A2AE50.F3114085.IP) ()
[10:53:01] *** Quits: lpy|afk (lpy@7360AA58.F09091A8.1348A864.IP) (Ping timeout)
[10:54:08] <huon> Downside of being 'huon' here: I get emails and IRC pings from bors.
[10:55:30] *** Joins: youknowone (youknowone@A826BD81.8A0DEF81.38747683.IP)
[10:56:38] <pnkfelix> huon: surely there's ways to work around that?  e.g. would you still get them if you were huon.w or some such?
[10:57:51] <huon> pnkfelix: yes I imagine I could be huonw... but it's a very minor thing.
[10:57:52] <pnkfelix> huon: (also, I think I've fixed the obscure link problem on that bdw branch; now I'm hitting OOM on my VM, so I'll need to up the limit there.)
[10:58:03] <huon> (and it makes me feel popular :P )
[10:58:07] <pnkfelix> bors loves us
[10:58:19] <huon> pnkfelix: if you push it, I can attempt to build it here
[10:59:02] <pnkfelix> huon: I believe it is now pushed
[10:59:13] <huon> ok, I'll get to that in a few minutes
[11:00:11] *** Quits: jdm (jdm@E0579646.A7C48BE0.19EE75AF.IP) (Ping timeout)
[11:00:48] *** Joins: jdm (jdm@E0579646.A7C48BE0.19EE75AF.IP)
[11:17:30] <aepsil0n> regarding https://github.com/mozilla/rust/issues/12350
[11:17:46] <aepsil0n> does this hurt readability?
[11:17:46] <aepsil0n> version_ok = buf0 == encoder::metadata_encoding_version;
[11:20:36] <huon> aepsil0n: maybe
[11:21:37] <eddyb> aepsil0n: I would venture to say that if you need parens for visibility, you might as well be structuring your code wrong
[11:22:59] <huon> eddyb: how can you structure `a = b == c` better?
[11:23:07] <eddyb> b == c
[11:23:19] <eddyb> huon: I am not talking about a single statement
[11:23:32] <aepsil0n> and if you need in two places?
[11:23:34] *** Quits: yati (yati@BE61E459.F16C4DAB.CECE23B2.IP) (Ping timeout)
[11:24:13] <eddyb> it depends on the context, and very much so
[11:24:42] <pnkfelix> clearly the answer is (|a|{ ... })(b == c).  ;)
[11:24:53] <aepsil0n> lol
[11:24:55] <huon> match b == c { a => { ... }
[11:24:59] <huon> }
[11:25:06] <huon> so many options!
[11:25:35] <pnkfelix> but in all seriousness, I think that `let a = b == c;` is a serious counter example
[11:26:19] *** Joins: ghrust (ghrust@23EC81EC.6A2AE50.F3114085.IP)
[11:26:19] <ghrust> [13rust] 15huonw 04force-pushed 06try from 14f2ab314 to 147d2a45f: 02http://git.io/k471pw
[11:26:19] <ghrust> 13rust/06try 14493a4b6 15Huon Wilson: std: iteratize str::is_utf16 & add tests....
[11:26:19] <ghrust> 13rust/06try 14b7656d0 15Huon Wilson: std: convert str::from_utf16 to an external iterator....
[11:26:19] <ghrust> 13rust/06try 14a96cea4 15Huon Wilson: str: provide lossy UTF-16 support....
[11:26:20] <aepsil0n> i'll open up a PR as soon as the tests run cleanly
[11:26:21] *** Parts: ghrust (ghrust@23EC81EC.6A2AE50.F3114085.IP) ()
[11:26:22] * huon agrees
[11:26:49] <aepsil0n> then we can see all the potentially ugly cases in the compiler code itself I will have had to fix for this to work ;)
[11:27:16] <huon> sounds good :) (assuming you're ok with that work possibly being rejected.)
[11:27:24] <aepsil0n> yeah, that's fine
[11:27:38] <aepsil0n> still a nice exercise to get into Rust ;)
[11:27:52] <huon> is this your first patch?
[11:27:56] <aepsil0n> no
[11:28:07] <aepsil0n> 3rd one
[11:28:11] * pnkfelix switches to running `make -j1` in his VM to try to avoid OOM.
[11:28:22] <huon> oh awesome, welcome :)
[11:28:40] <aepsil0n> thanks ^^
[11:28:53] <huon> pnkfelix: how much memory does your VM have?
[11:28:56] * huon checks out that branch
[11:30:30] <pnkfelix> huon: It had 6 gb before
[11:30:58] <pnkfelix> huon: i pumped it up to 8 gb, but figured "why risk another fail?"
[11:31:13] <huon> pnkfelix: ah... maybe I won't be able to compile it locally either
[11:31:25] <huon> still, lets see how this goes...
[11:31:56] <pnkfelix> huon: I was frankly surprised it had died with 6 gb.  I had thought the VM only had 2 gb and thus was not shocked when it died originally.
[11:32:24] <huon> pnkfelix: is BDW actually deallocating anything?
[11:32:41] <huon> ( :( an LLVM rebuild)
[11:33:55] <pnkfelix> huon: you mean is the collector doing anything yet?  It shouldn't be, since I've left in the RC code
[11:34:03] <pnkfelix> huon: so its still using all the old calls to free
[11:34:30] <pnkfelix> huon: When I've run with GC stats, it reports very little storage being reclaimed on each GC, which matches my expectations since the RC list would keep everything alive.
[11:34:56] <huon> pnkfelix: ah, and ~ allocations too?
[11:35:12] <pnkfelix> huon: Yeah, all the old calls to malloc/free are in place
[11:35:14] <huon> pnkfelix: (it still appears to need --enable-clang, fwiw)
[11:35:26] <pnkfelix> huon: but it should be reclaiming storage that has been freed
[11:35:36] <pnkfelix> huon: Yeah, sorry, I didn't attempt to address that yet
[11:35:46] <pnkfelix> I guess I should do that now while I'm looking athtis
[11:35:56] <huon> Oh, ok. Just pointing it out in case you had
[11:38:36] *** Joins: yati (yati@BE61E459.F16C4DAB.CECE23B2.IP)
[11:39:31] *** Joins: lpy|afk (lpy@665181D6.D58093C6.8C13C571.IP)
[11:43:09] <huon> pnkfelix: ah, cool! it's on to stage1 libstd for me
[11:44:15] <yati> I found https://github.com/mozilla/rust/issues/11783 very interesting - was reading up on how Python does it. They have a very subtle random probing opposed to the linear probing we are using. I guess in the latest cpython(3.4+) they're also using SipHash
[11:45:14] <huon> yati: we're getting a better hashmap implementation in https://github.com/mozilla/rust/pull/12081, btw
[11:46:05] <pnkfelix> huon: and for me, it just finished building in my VM
[11:46:16] <huon> pnkfelix: oh, cool \o/
[11:46:19] <pnkfelix> huon: yay.  Now to try to remove the `clang` dependency (shouldn't be that hard I think)
[11:47:37] *** Quits: yati (yati@BE61E459.F16C4DAB.CECE23B2.IP) (Ping timeout)
[11:56:27] * huon watches as the RES size of rustc ticks over 50%
[11:57:23] <huon> and then the linker fails due to OOM
[11:57:37] <pnkfelix> huon: d'oh.  How much memory on your machine?
[11:57:49] <huon> pnkfelix: 8GB
[11:57:56] <pnkfelix> huon: hmm.  Okay.
[11:57:58] <eddyb> what's happening?
[11:57:59] <huon> with 3GB currently used
[11:58:17] <huon> eddyb: building a branch of rust using Boehm as the allocator
[11:58:44] <eddyb> I hope that never gets used for librustc
[11:58:57] <pnkfelix> eddyb: Its one of many possible paths towards GC support
[11:59:14] <pnkfelix> eddyb: this particular step is going to have the worst of all worlds
[11:59:20] <huon> eddyb: well it's clearly unworkable for "production" use at the moment, so don't worry about that
[11:59:36] <pnkfelix> eddyb: since it leaves in the RC code while adopting all the overheads of conservative GC
[11:59:57] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[12:00:01] <pnkfelix> eddyb: (e.g. every periodic GC attempt will fail to reclaim anything)
[12:00:17] <pnkfelix> huon: Okay thanks for trying it out
[12:00:28] <huon> np
[12:00:29] <pnkfelix> huon: I'll wait until I get the memory consumption down
[12:00:35] <pnkfelix> huon: to ping you about it again
[12:00:47] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[12:00:51] <huon> pnkfelix: sounds good
[12:01:52] *** Joins: ghrust (ghrust@5AC7F92B.6A2AE50.F3114085.IP)
[12:01:52] <ghrust> [13rust] 15bors merged 06auto into 06master: 02http://git.io/qBGj8A
[12:01:52] *** Parts: ghrust (ghrust@5AC7F92B.6A2AE50.F3114085.IP) ()
[12:06:51] *** Joins: ghrust (ghrust@C95C9FF.6A2AE50.F3114085.IP)
[12:06:51] <ghrust> [13rust] 15bors pushed 3 new commits to 06auto: 02http://git.io/5mP8Sw
[12:06:51] <ghrust> 13rust/06auto 14a68d10e 15Huon Wilson: std::str: safen and optimize is_utf8....
[12:06:51] <ghrust> 13rust/06auto 14a39056e 15Huon Wilson: std: convert first_non_utf8_byte to use the iterator....
[12:06:52] <ghrust> 13rust/06auto 14e4ce8a9 15bors: auto merge of #12314 : huonw/rust/is_utf8_iter, r=kballard...
[12:06:54] *** Parts: ghrust (ghrust@C95C9FF.6A2AE50.F3114085.IP) ()
[12:12:05] <aepsil0n> has anybody been thinking about static variables as parameters for generics?
[12:12:49] <eddyb> aepsil0n: in which sense?
[12:13:15] <aepsil0n> like in C++
[12:13:15] <eddyb> if you mean something like FixedVec<N>, yeah, it's planned
[12:13:24] <aepsil0n> yeah pretty much
[12:13:33] <eddyb> well, not planned, but desired
[12:13:42] <aepsil0n> thought about this when I saw, Tuple1, Tuple2, ...
[12:13:44] *** Quits: jdm (jdm@E0579646.A7C48BE0.19EE75AF.IP) (Quit: Lost terminal)
[12:14:10] <eddyb> aepsil0n: constants in generics wouldn't do anything there
[12:15:04] * huon waits for eddyb to mention variadic generics :P
[12:15:20] <aepsil0n> those would be awesome, too!
[12:15:33] <aepsil0n> @eddyb: how so?
[12:16:15] <eddyb> aepsil0n: how would you use them?
[12:16:25] <aepsil0n> let me think about that for a sec...
[12:17:09] <aepsil0n> ok, i get it
[12:17:24] <aepsil0n> in a trait they are not usefulâ€¦
[12:17:50] <aepsil0n> well...
[12:17:59] <aepsil0n> they could be for default method implementations at least
[12:18:21] <eddyb> hmm?
[12:18:21] <aepsil0n> but then that wouldn't give you any compile-time guarantees
[12:18:31] <eddyb> just sketch an API
[12:19:15] <eddyb> .get::<N>()? that won't work because you can't extract the N'th type out of a tuple
[12:20:22] <aepsil0n> i was briefly thinking about something like: trait Tuple<static n: int> { fn new(stuff: /*n times...*/])}
[12:20:33] <aepsil0n> but variadic generics make more sense here
[12:20:42] *** Joins: jdm (jdm@E0579646.A7C48BE0.19EE75AF.IP)
[12:21:53] <eddyb> Tuple::new? that's... silly :)
[12:22:17] <aepsil0n> uhm... yes, i guess
[12:23:00] <aepsil0n> anyway, let's move to vectors and matrices (the algebraic ones)
[12:23:23] <aepsil0n> this is where they make more sense, I suppose
[12:25:11] <aepsil0n> i would like to be able to declare something like struct Vector<static n: int, T: Float> {data: [T, ...n]}
[12:25:38] <eddyb> there's parsing issues with it, among other things
[12:26:53] <aepsil0n> such as?
[12:26:59] <eddyb> Vector<N, T> will parse both N and T as types
[12:27:06] <eddyb> I guess resolving can be fixed
[12:27:49] <eddyb> that is, resolve the name first, and check it's generic type params
[12:28:07] <eddyb> s/type/type and/or values/
[12:30:21] <pnkfelix> mrrh, switching to gcc yields segfaulting rustc, so weird...
[12:37:31] *** Joins: canhtak (canhtak@moz-8C86DA1D.wl.t.ulaval.ca)
[12:38:09] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[12:38:09] <ghrust> [13rust] 15huonw 04force-pushed 06try from 147d2a45f to 14e15ce24: 02http://git.io/k471pw
[12:38:09] <ghrust> 13rust/06try 14e15ce24 15Huon Wilson: std::os: pass the correct buffer size to windows calls....
[12:38:09] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[12:38:44] *** Quits: lpy|afk (lpy@665181D6.D58093C6.8C13C571.IP) (Ping timeout)
[12:40:29] *** Joins: lpy|afk (lpy@12172131.F09091A8.1348A864.IP)
[12:42:28] *** Quits: jdm (jdm@E0579646.A7C48BE0.19EE75AF.IP) (Quit: Lost terminal)
[12:49:37] <aepsil0n> @eddyb what about making up a keyword to distinguish that? (like i tentatively sketched in the example)
[12:50:08] <eddyb> "making up"?
[12:50:53] <eddyb> well, something like would work Vector<static N + M, T>, i.e. the static keyword could be used to enforce that whatever comes after it is an expression
[12:52:01] <kimundi> Afaik the most likely future is that we get associated constants, then a number literal trait with a VAL associated constant, and finally integer literals as sugar for a type that implements the trait with a constant value
[12:52:45] <eddyb> that's a bit nasty
[12:53:13] <kimundi> struct Val1; impl IntegerLiteral for Val1 { static VAL: uint = 1; }
[12:53:29] <kimundi> ANd then later just have "1" as a type literal be sugar for that
[12:54:04] <kimundi> eddyb: Well its either that, or building _both_ associated constants and a seperate intger type parameter system into the language
[12:54:31] <eddyb> hmm
[12:55:06] <kimundi> type Vec<T, N> = [T, ..N::VAL]
[12:55:18] <kimundi> or type Vec<T, N> = [T, ..IntegerLiteral::<for N>::VAL]
[12:56:35] <Yurume> kimundi: <for static N>?
[12:57:02] <kimundi> Yurume: No, just <for T> - the hypotetical self type selection suagr
[12:57:12] <Yurume> type <T, static N: uint> = [T, ..IntegerLiteral::<for static N>::VAL]... nevermind.
[12:57:26] <kimundi> Trait::<for SelfType>::associated_function()
[12:58:08] <kimundi> Yurume: I'm talking about something where there wouldn't be a "static N" as seperate type parameter concept, but assoziated constants fro traits instead
[12:58:47] <Yurume> kimundi: and disambiguating exprs from types with a separate parsing step?
[12:59:00] <kimundi> Yurume: No, no disambiguation.
[12:59:07] <Yurume> (I think eddyb's response for `static` was for that)
[12:59:13] <Yurume> thought*
[12:59:33] <eddyb> kimundi: hmm, I think you can do that today
[12:59:35] <kimundi> eddyb did not respond to anything I said with "static", I think?
[12:59:36] *** Joins: darnuria (darnuria@moz-AB6EB255.ip-91-121-133.eu)
[12:59:48] <eddyb> we do have static methods
[13:00:06] <eddyb> don't need associated constants to make it work
[13:00:15] <eddyb> and ::value() is nicer than ::VAL (albeit longer)
[13:00:28] <Yurume> with CTFE?
[13:00:34] <eddyb> ahh, but... yeah, CTFE *sigh*
[13:00:41] <darnuria> Hello I made a pull-request and eddyb told me to ask for review here PR : https://github.com/mozilla/rust/pull/12367
[13:00:56] <eddyb> darnuria: the short version of that is "r?" :P
[13:01:07] <eddyb> (asking for a review, that is)
[13:02:08] <kimundi> For reference, I'm talking about http://smallcultfollowing.com/babysteps/blog/2013/04/02/associated-items/ and http://smallcultfollowing.com/babysteps/blog/2013/04/03/associated-items-continued/
[13:02:26] <darnuria> eddyb: like I say thats my first real contribution (not traduction or thing like this) I have to learn XD
[13:02:38] <eddyb> darnuria: and I am giving you tips
[13:02:52] <darnuria> eddyb: Yep thanks I carefully takes notes
[13:03:14] <eddyb> keep in mind that I am the least nice contributor I know of
[13:03:32] <eddyb> kimundi: ah, more ancient reading material from nmatsakis. how lovely :)
[13:04:01] <pnkfelix> eddyb: 2013 is not that ancient
[13:04:08] <pnkfelix> eddyb: at least compared to 2012.  :)
[13:05:15] * eddyb gently brushes the papyrus with the tips of his fingers
[13:05:23] <eddyb> how... exquisite
[13:09:58] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[13:10:37] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[13:10:39] *** Quits: canhtak (canhtak@moz-8C86DA1D.wl.t.ulaval.ca) (Quit: canhtak)
[13:10:42] *** Quits: huon (Thunderbir@moz-826BD85A.lns20.syd6.internode.on.net) (Quit: huon)
[13:10:58] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[13:11:51] *** Joins: huon (Thunderbir@moz-826BD85A.lns20.syd6.internode.on.net)
[13:23:13] <darnuria> r? : https://github.com/mozilla/rust/pull/12367
[13:26:58] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[13:26:58] <ghrust> [13rust] 15bors merged 06auto into 06master: 02http://git.io/5mP8Sw
[13:26:58] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[13:27:42] *** Joins: canhtak (canhtak@moz-8C86DA1D.wl.t.ulaval.ca)
[13:31:21] <pnkfelix> darnuria: sorry, I should have done a more thorough review earlier.
[13:31:57] *** Joins: ghrust (ghrust@99CAE845.6A2AE50.F3114085.IP)
[13:31:57] <ghrust> [13rust] 15bors pushed 0 new commits to 06auto: 02http://git.io/79QyiA
[13:31:57] *** Parts: ghrust (ghrust@99CAE845.6A2AE50.F3114085.IP) ()
[13:32:25] <eddyb> hmpf
[13:32:43] <eddyb> staring at hygiene more... I think we're doing something stupid for let (a, b, c, ...);
[13:33:31] *** Joins: edwardw (edwardw@E6E87FA7.354F6412.B9C6B12A.IP)
[13:33:32] <eddyb> instead of renaming each one separately, we rename all bindings with all bindings
[13:33:52] *** Quits: canhtak (canhtak@moz-8C86DA1D.wl.t.ulaval.ca) (Quit: canhtak)
[13:34:14] <eddyb> s/with/against
[13:34:23] <darnuria> pnkfelix: Np that me too. :)
[13:34:33] *** Joins: canhtak (canhtak@moz-8C86DA1D.wl.t.ulaval.ca)
[13:42:07] <eddyb> gaaah I can't hold SyntaxContext in my head, it... burns
[13:43:24] <eddyb> pending renames is a ~[(Name, Name)].... why isn't it a HashMap<Name, Name>?
[13:43:38] <eddyb> well, those are a bit slow now. maybe a TrieMap?
[13:44:18] <eddyb> then you wouldn't have to fold over the vector, to hit the right rename, you'd just extract it
[13:45:59] <eddyb> isn't that way more sensible?
[13:48:20] <eddyb> also, calling fresh_name is filling up the IdentInterner with RcStr clones
[13:48:41] <eddyb> I wouldn't call what we have "state of the art"
[13:49:47] <edwardw> eddyb: context? I missed most part of the conversation
[13:50:10] <eddyb> "hmpf. staring at hygiene more... I think we're doing something stupid for let (a, b, c, ...);"
[13:50:11] <edwardw> sounds like what I wanted to do with hygienic break / continue the other day
[13:50:14] <eddyb> that's what you missed
[13:50:26] <edwardw> okay
[13:53:19] <eddyb> anyways, it's filthy and I don't know enough to optimize it
[13:53:30] <eddyb> I'll go back to my trans dungeons
[13:55:31] <edwardw> lol
[14:06:01] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[14:33:10] *** Quits: eddyb (eddy@moz-41DB10DA.residential.rdsnet.ro) (Ping timeout)
[14:34:56] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[14:35:17] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[14:36:59] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Ping timeout)
[14:37:05] *** Joins: eddyb (eddy@moz-41DB10DA.residential.rdsnet.ro)
[14:42:11] *** Joins: ghrust (ghrust@511FAEBD.6A2AE50.F3114085.IP)
[14:42:11] <ghrust> [13rust] 15bors merged 06auto into 06master: 02http://git.io/aaoclw
[14:42:11] *** Parts: ghrust (ghrust@511FAEBD.6A2AE50.F3114085.IP) ()
[14:46:58] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[14:46:58] <ghrust> [13rust] 15bors pushed 2 new commits to 06auto: 02http://git.io/jsiyhA
[14:46:58] <ghrust> 13rust/06auto 14fd2ed71 15Alex Crichton: Fix a segfault in the rustuv tests...
[14:46:58] <ghrust> 13rust/06auto 14517e389 15bors: auto merge of #12354 : alexcrichton/rust/fix-rustuv-segfault, r=cmr...
[14:46:58] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[14:47:00] *** Joins: ghrust (ghrust@511FAEBD.6A2AE50.F3114085.IP)
[14:47:00] <ghrust> [13rust] 15bors pushed 0 new commits to 06auto: 02http://git.io/MTekIw
[14:47:00] *** Parts: ghrust (ghrust@511FAEBD.6A2AE50.F3114085.IP) ()
[14:50:33] <darnuria> after a fight with git r? https://github.com/mozilla/rust/pull/12367
[14:55:01] *** Joins: jensnock_ (jensnocker@moz-C4B24C3.customers.ownit.se)
[15:02:22] *** Quits: jensnock_ (jensnocker@moz-C4B24C3.customers.ownit.se) (Input/output error)
[15:08:09] *** Joins: jensnock_ (jensnocker@moz-33279404.customers.ownit.se)
[15:09:48] *** Quits: jensnock_ (jensnocker@moz-33279404.customers.ownit.se) (Input/output error)
[15:22:59] *** Joins: doomlord_ (servitor@moz-9B2006BF.range109-151.btcentralplus.com)
[15:24:40] *** Joins: tjr (trevor@moz-8F411513.uofm-secure.wireless.umn.edu)
[15:28:39] <acrichto> eddyb: ping
[15:34:41] *** Quits: Kxepal (Miranda@moz-EB6B0A42.pppoe.mtu-net.ru) (Ping timeout)
[15:35:15] *** Quits: tjr (trevor@moz-8F411513.uofm-secure.wireless.umn.edu) (Ping timeout)
[15:38:25] *** Joins: tjr (trevor@moz-8F411513.uofm-secure.wireless.umn.edu)
[15:39:04] *** Joins: Kxepal (Miranda@moz-E72C39CC.pppoe.mtu-net.ru)
[15:48:53] *** Joins: jensnock_ (jensnocker@moz-C4B24C3.customers.ownit.se)
[15:49:22] *** Quits: Kxepal (Miranda@moz-E72C39CC.pppoe.mtu-net.ru) (Quit: Kxepal)
[15:49:38] *** Joins: Kxepal (Miranda@moz-E72C39CC.pppoe.mtu-net.ru)
[15:49:42] *** Joins: jensnoc__ (jensnocker@moz-33279404.customers.ownit.se)
[15:49:58] *** Quits: canhtak (canhtak@moz-8C86DA1D.wl.t.ulaval.ca) (Quit: canhtak)
[15:50:23] *** Joins: canhtak (canhtak@moz-8C86DA1D.wl.t.ulaval.ca)
[15:50:39] *** Quits: jensnoc__ (jensnocker@moz-33279404.customers.ownit.se) (Input/output error)
[15:50:39] *** Quits: jensnock_ (jensnocker@moz-C4B24C3.customers.ownit.se) (Ping timeout)
[15:52:05] *** Quits: tjr (trevor@moz-8F411513.uofm-secure.wireless.umn.edu) (Quit: WeeChat 0.4.3)
[15:52:34] *** Quits: Zr40 (zr40@EE4BB9F5.926C319A.BE2F4011.IP) (Quit: leaving)
[15:53:02] <eddyb> acrichto: pong
[15:53:28] <acrichto> eddyb: it looks like closures are generating un-mangleable names b/c they're all named the same thing
[15:53:38] <acrichto> they're all <path>::closure
[15:53:46] <acrichto> even if you have multiple closures in a function
[15:53:56] <eddyb> was it using PathPrettyName before?
[15:54:10] <acrichto> I think they went through some different path
[15:54:19] <acrichto> I think they also factored in the type earlier
[15:54:27] <acrichto> unsure though
[15:54:30] <eddyb> hmm
[15:54:56] <eddyb> factoring in the ID should be enough
[15:55:18] <eddyb> did I ever send that PR?
[15:55:19] <acrichto> for now yeah
[15:55:21] *** Quits: Kxepal (Miranda@moz-E72C39CC.pppoe.mtu-net.ru) (Quit: Kxepal)
[15:55:24] <acrichto> for closures?
[15:55:32] <eddyb> for statics, it was, wasn't it?
[15:55:39] *** Joins: Kxepal (Miranda@moz-E72C39CC.pppoe.mtu-net.ru)
[15:55:48] * eddyb is a bit fuzzy
[15:55:53] <acrichto> the original PR landed
[15:55:56] <acrichto> which fixed up statics
[15:56:03] <acrichto> but closures leaked through
[15:56:20] <eddyb> so then there's a function in back::link doing the right thing
[15:56:38] <eddyb> s/the right/a desirable/
[15:56:53] *** Joins: ghrust (ghrust@38D6F008.6A2AE50.F3114085.IP)
[15:56:53] <ghrust> [13rust] 15bors merged 06auto into 06master: 02http://git.io/jsiyhA
[15:56:53] *** Parts: ghrust (ghrust@38D6F008.6A2AE50.F3114085.IP) ()
[16:00:20] <eddyb> acrichto: I hate my situation, I need this fan on to do anything without frying my laptop (and causing it to halt), but I've got this cold
[16:01:47] <acrichto> :(
[16:01:52] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[16:01:52] <ghrust> [13rust] 15bors pushed 0 new commits to 06auto: 02http://git.io/wKucOw
[16:01:52] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[16:01:52] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[16:01:52] <ghrust> [13rust] 15bors pushed 3 new commits to 06auto: 02http://git.io/A9cjHg
[16:01:52] <ghrust> 13rust/06auto 145cf2d76 15Alex Crichton: Tweak how preference factors into linkage...
[16:01:52] <ghrust> 13rust/06auto 14e09318a 15Alex Crichton: Re-work loading crates with nicer errors...
[16:01:53] <ghrust> 13rust/06auto 1485ab589 15bors: auto merge of #12164 : alexcrichton/rust/rlibs-and-dylibs, r=cmr...
[16:01:55] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[16:02:14] <eddyb> acrichto: I was asking, because I was hoping someone else can fix it, it's a small change
[16:02:30] <acrichto> sure, I can take a look into it
[16:07:44] <eddyb> acrichto: I was thinking more like E-easy but if you don't have anything more important to do in this shift, might as well :)
[16:12:27] <acrichto> eh, if I don't get around to it I'll open a bug and cc you
[16:12:39] <eddyb> https://github.com/mozilla/rust/issues/12358
[16:13:24] <eddyb> wait a second... that looks like someone took my temporary impl pretty name replacement and made something out of it
[16:13:43] <eddyb> I used T.Trait
[16:14:18] <cmr> I very much doubt that had anything to do with it
[16:14:53] <eddyb> cmr: interesting coincidence
[16:15:20] <eddyb> I've used it because I thought the type is most likely to fit in with the rest of the path
[16:16:08] <eddyb> I can't wrap what comes before the impl name
[16:16:31] <eddyb> also, impl items within impl items would be even crazier
[16:24:23] <eddyb> pnkfelix: I have no variadic generics patches other than the first one, which was just something auxiliary and it rotted anyways
[16:24:55] <pnkfelix> eddyb: okay.  I mostly wasn't sure if its feature-set included the ability to write a single IterBytes for all tuples
[16:25:33] <pnkfelix> eddyb: so I figured it was safer to say that upfront, since it was the closest thing I've heard of for Rust for providing that functionality
[16:25:37] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[16:25:37] *** ChanServ sets mode: +ao dherman dherman
[16:26:04] <eddyb> you need full variadic generics for it to work for all tuples
[16:26:37] <pnkfelix> eddyb: right, like I said, I didn't know how far your patch went
[16:26:59] <eddyb> that just allowed doing something like Result<..(T, U)>
[16:27:01] <pnkfelix> eddyb: (if you want me to remove the reference to you from my comment, I can do so)
[16:27:09] *** Quits: lpy|afk (lpy@12172131.F09091A8.1348A864.IP) (Client exited)
[16:27:25] <eddyb> you could replace the patch mention with the variadics generics RFC
[16:27:42] <eddyb> which is https://github.com/mozilla/rust/issues/10124
[16:28:42] <pnkfelix> eddyb: k
[16:28:59] *** Quits: canhtak (canhtak@moz-8C86DA1D.wl.t.ulaval.ca) (Quit: canhtak)
[16:29:25] <eddyb> being able to implement generic operations on tuples is one of its main goals (at least those expressible with tail recursion, something like zip is much harder as you need to create the type and we don't have type "pattern" matching)
[16:35:54] *** Joins: lpy|afk (lpy@12172131.F09091A8.1348A864.IP)
[16:44:30] *** Quits: doener (bs@moz-AA189A5A.unitymedia.biz) (Quit: leaving)
[16:45:19] *** Joins: canhtak (canhtak@moz-8C86DA1D.wl.t.ulaval.ca)
[16:56:53] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[16:56:53] <ghrust> [13rust] 15bors pushed 2 new commits to 06auto: 02http://git.io/sgtB8A
[16:56:53] <ghrust> 13rust/06auto 148334915 15Nick Cameron: Test ordering of glue_drop and glue_takew in self-re-assignment. Closes #3290.
[16:56:53] <ghrust> 13rust/06auto 1454bccc5 15bors: auto merge of #12330 : nick29581/rust/glue, r=huonw...
[16:56:53] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[16:56:56] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[16:56:57] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[16:56:57] <ghrust> [13rust] 15bors 04force-pushed 06auto from 1485ab589 to 14517e389: 02http://git.io/N3iJvQ
[16:56:57] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[16:57:48] <mrmonday> acrichto: https://gist.github.com/mrmonday/6adf8b822a8b7efbc548 <= I've tried a million different permutations of this, but I could never get ::new() working (hence ::act()). How do I make it work? :)
[16:58:14] <acrichto> mrmonday: you need some more lifetime parameters
[16:58:27] <acrichto> fn new<'a>(&'a mut [u8]) -> EthernetHeader<'a>
[16:58:28] <eddyb> <'p> in the return type of new
[16:58:45] <eddyb> acrichto: 'p should be fine, as long as it's used in the return type
[16:59:17] <mrmonday> EthernetHeader<'a> <= the lifetime I was missing
[16:59:18] <mrmonday> awesome
[16:59:19] <mrmonday> thank you :)
[17:17:53] *** Quits: lpy|afk (lpy@12172131.F09091A8.1348A864.IP) (Client exited)
[17:38:12] *** Joins: jensnockert (jensnocker@moz-C4B24C3.customers.ownit.se)
[17:54:27] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[17:54:27] *** ChanServ sets mode: +ao pcwalton pcwalton
[17:55:16] *** Joins: jdm (jdm@moz-AC9499B2.cable.teksavvy.com)
[18:02:11] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[18:02:11] *** ChanServ sets mode: +qo brson brson
[18:03:41] *** Joins: doener (doener@moz-C68F600D.unity-media.net)
[18:11:52] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[18:11:52] <ghrust> [13rust] 15bors merged 06auto into 06master: 02http://git.io/sgtB8A
[18:11:52] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[18:16:48] *** Joins: ghrust (ghrust@2DCF43EA.6A2AE50.F3114085.IP)
[18:16:48] <ghrust> [13rust] 15bors pushed 0 new commits to 06auto: 02http://git.io/uGSX2g
[18:16:48] *** Parts: ghrust (ghrust@2DCF43EA.6A2AE50.F3114085.IP) ()
[18:16:49] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[18:16:49] <ghrust> [13rust] 15bors pushed 3 new commits to 06auto: 02http://git.io/V8bgOg
[18:16:49] <ghrust> 13rust/06auto 1466bed17 15Kevin Ballard: Remove Freeze bounds from sync::MutexArc...
[18:16:49] <ghrust> 13rust/06auto 14449c34a 15Kevin Ballard: Remove the compile-fail test that's now obsolete
[18:16:50] <ghrust> 13rust/06auto 14a886549 15bors: auto merge of #12336 : kballard/rust/mutexarc-no-freeze, r=alexcrichton...
[18:16:52] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[18:31:28] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[18:35:56] <edwardw> what will the pattern part of match &[&x, &y, &z] => { [xx, yy, zz] => ... } be translate to? an ast::PatVec?
[18:58:45] <brson> huon: the assert! issue has a decision if you want to move it forward https://github.com/mozilla/rust/pull/12108
[19:00:10] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[19:01:01] <brson> if_ok! also has a resolution if somebody wants to rename it to try! https://github.com/mozilla/rust/issues/12037
[19:03:28] <eddyb> o_O
[19:11:44] *** Quits: mawuli (mawuli@moz-5ADAB167.com.gh) (Connection timed out)
[19:12:13] *** Joins: mawuli (mawuli@moz-5ADAB167.com.gh)
[19:13:41] <cmr> I just set mozilla/rust to "Watch"
[19:13:49] <cmr> wish me luck
[19:14:29] <eddyb> well, you know how to use your mail client
[19:14:34] <eddyb> so you should be fine :P
[19:15:07] <eddyb> (github notifications could be a bit more dynamic...)
[19:15:53] <nrc> I lasted three days
[19:16:20] <brson> i don't have rust on 'watch'
[19:16:33] <cmr> nrc: I used to do 175 issues of triage a week.
[19:17:45] <nrc> I didn't mind the volume, I just need a way to separate important messages from 'other'  - GitHub doesn't seem to offer much in the way of customisation
[19:18:06] <nrc> cmr: sounds like you're pretty much watching already with that many ccs
[19:18:19] <cmr> I have a filter that drops issues I'm cc'd in into a separate folder
[19:18:30] <cmr> nrc: not so much recently, haven't done it for a few months, only down to 10
[19:18:43] <nrc> cmr: how can you tell that from the email message?
[19:18:59] <nrc> I couldn't see any difference
[19:19:10] <cmr> I'm more worried about new issues not getting noticed...
[19:19:52] <cmr> nrc: I don't actually know.
[19:19:59] <cmr> I'm not sure it works yet.
[19:22:14] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[19:23:07] <cmr> nrc: ok first one just came in.
[19:23:14] <cmr> nrc: I wasn't cc'd in it.
[19:24:01] <cmr> The To field is set to mozilla/rust <rust@noreply.github.com>
[19:24:13] <cmr> but I have no idea how it ended up in my mail account at all..
[19:24:18] <cmr> maybe Delivered-To ?
[19:24:53] <nrc> cc
[19:24:57] <nrc> for mine
[19:25:10] <nrc> but that is the same if I am cc'ed or watching, I think
[19:25:29] <cmr> if I'm actually in the issue I get cc'd in the email.
[19:26:05] <nrc> but not for watching ones?
[19:26:11] <cmr> seems not.
[19:26:45] <nrc> ah cool, perhaps I will start watching again
[19:26:46] *** Joins: ghrust (ghrust@C95C9FF.6A2AE50.F3114085.IP)
[19:26:46] <ghrust> [13rust] 15bors merged 06auto into 06master: 02http://git.io/V8bgOg
[19:26:46] *** Parts: ghrust (ghrust@C95C9FF.6A2AE50.F3114085.IP) ()
[19:27:11] <sfackler> cmr: or a bcc
[19:27:39] <cmr> I haven't seen bcc's from github before.
[19:29:10] <flaper87> acrichto: did you mean to say that `let _ = &'static [~"a"]` shouldn't be allowed ?
[19:29:17] <flaper87> acrichto: sorry, I failed at parsing that comment
[19:29:25] <flaper87> acrichto: FWIW, it is allowed w/ current implementation
[19:29:40] <eddyb> rusti: &'static [0u]
[19:29:41] -rusti- &[0u]
[19:29:47] <eddyb> o_O
[19:29:50] <eddyb> rusti: &[0u]
[19:29:51] -rusti- &[0u]
[19:29:54] <eddyb> ahh
[19:29:58] <eddyb> rusti: {&[0u]}
[19:29:59] -rusti- &[0u]
[19:30:04] <eddyb> how does it work?
[19:30:15] <flaper87> eddyb: &[0u] and &'static [0u] are the same thing, AFAIK
[19:30:20] <eddyb> is it always static now when it has constants?
[19:30:34] <eddyb> rusti: let x = 0u; &[x]
[19:30:35] -rusti- &[0u]
[19:30:40] <eddyb> wat
[19:30:57] <eddyb> rusti: let x = 0u; {&[x]}
[19:30:58] -rusti- &[0u]
[19:31:16] <eddyb> can someone tell me why that doesn't cause borrow issues?
[19:31:28] <eddyb> rusti: let x = 0u; &x
[19:31:31] -rusti- pastebinned 16 lines of output: http://ix.io/aAV
[19:31:41] <eddyb> rusti: &0u
[19:31:42] -rusti- &0u
[19:31:54] *** Joins: ghrust (ghrust@23EC81EC.6A2AE50.F3114085.IP)
[19:31:54] <ghrust> [13rust] 15bors pushed 7 new commits to 06auto: 02http://git.io/p0-19w
[19:31:54] <ghrust> 13rust/06auto 1423a8e81 15Alex Crichton: rustdoc: Fixup links to enum variants...
[19:31:54] <ghrust> 13rust/06auto 14273e246 15Alex Crichton: rustdoc: Show macros in documentation...
[19:31:54] <eddyb> ahh, it's the rvalue changes
[19:31:55] <ghrust> 13rust/06auto 143ed97f4 15Alex Crichton: rustdoc: Highlight methods jumped to...
[19:31:57] *** Parts: ghrust (ghrust@23EC81EC.6A2AE50.F3114085.IP) ()
[19:31:59] *** Joins: ghrust (ghrust@B750D19A.6A2AE50.F3114085.IP)
[19:31:59] <ghrust> [13rust] 15bors pushed 0 new commits to 06auto: 02http://git.io/Rq2wJw
[19:31:59] *** Parts: ghrust (ghrust@B750D19A.6A2AE50.F3114085.IP) ()
[19:32:39] <cmr> nrc: ok, I'm filtering out bors activity
[19:32:43] <cmr> I already get it on irc :P
[19:32:47] *** Quits: jensnockert (jensnocker@moz-C4B24C3.customers.ownit.se) (Input/output error)
[19:32:49] <eddyb> flaper87: I'm pretty sure lifetimes don't do anything in ExprAddrOf
[19:34:06] <edwardw> what does the ast for "match (&x, &y, &z) { (xx, yy, zz) => ... } looks like?
[19:34:34] <eddyb> you can parse it "manually"  by reading the parser code
[19:34:36] <edwardw> I know the pattern part, it is ast::PatTup
[19:34:47] <eddyb> why are you asking?
[19:35:06] <edwardw> well, I couldn't figure out the expression part
[19:35:14] <eddyb> the match?
[19:35:16] <edwardw> I want to construct one programtically
[19:35:34] <edwardw> for expanding format_args! macro
[19:35:35] <eddyb> from where?
[19:35:40] <eddyb> aaah, fixing that?
[19:35:50] <edwardw> yep, it worked already
[19:35:59] <eddyb> hmm, I wonder whether we already have a macro that expands like that
[19:36:14] <edwardw> only that I want to unroll the match expression to avoid deeply nested match
[19:36:21] <nmatsakis> acrichto: ping
[19:36:31] <eddyb> edwardw: I think for loops expand to a match
[19:36:37] <eddyb> you already have a match?
[19:36:58] <edwardw> eddyb: let me check
[19:36:59] <eddyb> if (&x, &y, &z) is what you're confused about, that's just ExprTup with ExprAddrOf inside
[19:37:13] *** Joins: erickt (Mibbit@moz-DDA018B8.mycingular.net)
[19:37:27] <edwardw> bingo!
[19:37:37] <edwardw> somehow I missed that
[19:37:41] <eddyb> which one?
[19:37:50] <eddyb> they're pretty mundane Expr variants
[19:37:56] <edwardw> ast::ExprTup you just mentioned
[19:38:25] <eddyb> well, you want a tuple, use the variant that means "tuple expression" :P
[19:38:26] <edwardw> I found ast::PatTup, that sounds intuitive, but missed ast::ExprTup
[19:38:47] * edwardw back to coding
[19:39:06] *** Quits: erickt (Mibbit@moz-DDA018B8.mycingular.net) (Quit: http://www.mibbit.com ajax IRC Client)
[19:39:09] <cmr> We agreed on krate in librustc yeah?
[19:41:04] <flaper87> nmatsakis: there you are 
[19:41:05] <flaper87> :D
[19:41:11] <flaper87> eddyb: sorry, back
[19:41:21] <nrc> cmr: yes
[19:41:43] <eddyb> nmatsakis: sorry for the lack of progress ;(
[19:41:47] <flaper87> eddyb: it;s the rvalue changes
[19:43:51] <nmatsakis> eddyb: not sure what you're referring to but it's ok! ;)
[19:44:33] <eddyb> nmatsakis: my stupid cold
[19:44:52] <eddyb> I have had this code in my face for days but I just can't make progress
[19:48:00] <flaper87> nmatsakis: https://github.com/mozilla/rust/pull/11979 I haven't replied to acrichto comments yet, I'll get to that now
[19:48:49] <nmatsakis> flaper87: neat I'll try to take a look later today. I'm only working 50% this week, so I'm slower even than normal ;)
[19:49:11] <flaper87> nmatsakis: oh no worries, take your time!
[19:49:34] <eddyb> at least it's not 0% *coughs some more*
[19:49:34] * flaper87 will start working on augmented assigments
[19:50:00] <flaper87> eddyb: get better man! We haven't seen a 20k patch in weeks
[19:50:03] <flaper87> :D
[19:50:04] <edwardw> eddyb: hurray! ExprTup seems to work. I spent hours to fiddle with that, Thanks a million
[19:50:25] <flaper87> edwardw: what's up with the hygiene patch?
[19:50:38] <edwardw> flaper87: it is still WIP
[19:50:47] <eddyb> nmatsakis: if you don't hear from me, feel free to advertise the Deref traits to anyone who can work on them
[19:50:56] <edwardw> flaper87: I couldn't figure out how to solve double renaming
[19:51:06] <flaper87> edwardw: sorry I haven't added much. I said I was going to mentor but it's been crazy at work lately
[19:51:16] <flaper87> well, who am I going to fool? It's always crazy at work
[19:51:17] <flaper87> anyway
[19:51:25] <edwardw> LOL
[19:51:52] <edwardw> flaper87: the renaming seems to work, but with double renaming the net effect is zero
[19:51:53] <flaper87> edwardw: I'll pull your patch and play with it
[19:52:08] <edwardw> flaper87: that'll be great
[19:57:12] *** Joins: dherman (dherman@moz-B31C6965.dsl.pltn13.sbcglobal.net)
[19:57:13] *** ChanServ sets mode: +ao dherman dherman
[19:59:59] <acrichto> nmatsakis: pong
[20:00:03] <eddyb> nrc: oh, the associated items proposal was yours?
[20:00:45] <acrichto> flaper87: oh I just wanted to be sure that `static foo: &'static [~str] = &'static [~"foo"]` was disallowed
[20:00:46] <eddyb> nrc: I was noticing there's a peculiar coincidence, the "pretty" symbol name I chose for "impl Trait for T" is T.Trait
[20:00:49] <nrc> eddyb: yes nrc == nick29581
[20:01:01] <nmatsakis> acrichto: re: this PR for a RAII based unlock,
[20:01:15] <eddyb> nrc: in the ast_map PR, that is
[20:01:30] <nrc> eddyb: ah, was just about to ask
[20:01:33] <nmatsakis> acrichto: from what I can tell, that is used something like this? `let _guard = acquire_lock(&lock)`
[20:01:42] <acrichto> nmatsakis: essentially yeah
[20:01:48] <nmatsakis> acrichto: I guess I'll have to read the details, but I am concerned it is not sound (as I noted in the PR...)
[20:01:56] <acrichto> how so?
[20:02:02] <nmatsakis> in general if it has to unsafe_dtor,
[20:02:06] <nmatsakis> it is not safe to release to the wild,
[20:02:11] <nmatsakis> that's why the dtor is calle dunsafe.
[20:02:15] <nmatsakis> because only unsafe code should call it
[20:02:17] <flaper87> acrichto: ah yeah, that's not allowed but that actually raises "cannot allocate vectors in constant expressions"
[20:02:18] <acrichto> it's true
[20:02:33] <nmatsakis> but maybe with privacy it's ok
[20:02:34] *** Quits: edwardw (edwardw@E6E87FA7.354F6412.B9C6B12A.IP) (Quit: Leaving...)
[20:02:41] <nmatsakis> one danger is that people create cycles and so on
[20:02:53] <acrichto> nmatsakis: isn't Ref/RefMut unsound then?
[20:02:57] <acrichto> for RefCell
[20:03:14] <acrichto> they have the same behavior of using #[unsafe_destructor]
[20:03:25] <nmatsakis> acrichto: possibly :) good point -- though actually I think it is ok, as long as all fields are priv
[20:03:37] <nmatsakis> we really need to revise the dtor rules
[20:03:39] <nmatsakis> there is a clear need
[20:03:46] <acrichto> nmatsakis: there was that bug where you could drop the original thing and *then* drop the borrowed things
[20:04:00] <acrichto> but yeah I igured that this behavior would be sound one day
[20:04:12] <acrichto> with destructor reform and whatnot
[20:05:27] <nmatsakis> acrichto: yes, it's prob ok -- it's definitely required that the fields be priv and not assigned to, though
[20:05:31] <nmatsakis> to avoid creating cycles
[20:05:45] <acrichto> nmatsakis: makes sense, I think that's safe in terms of cells/mutexes
[20:07:49] *** Joins: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net)
[20:07:49] *** ChanServ sets mode: +o tjc
[20:08:36] * Eridius reads meeting
[20:08:42] <Eridius> please please PLEASE don't require issue numbers to start the title of commits
[20:08:45] *** Quits: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net) (Connection reset by peer)
[20:08:47] <Eridius> that's one of the most godawful styles I've ever seen
[20:08:54] <Eridius> It's simply not useful to anyone reading the commit
[20:08:57] *** Joins: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net)
[20:08:57] *** ChanServ sets mode: +o tjc
[20:09:05] <Eridius> and it leads to people thinking that the issue number is sufficient to describe the commit
[20:09:39] <Eridius> I've worked on projects that enforced that style, and it always devolved into the most utterly useless commit messages. You couldn't understand a thing without constantly looking up issues in the bug tracker
[20:12:06] <nrc> You should have a proper commit message AND an issue number
[20:12:57] <Eridius> issue number does not belong in the subject of the commit
[20:13:01] <Eridius> it belongs somewhere in the boyd
[20:13:02] <Eridius> *body
[20:13:15] <Eridius> and that's assuming you even have an issue. A lot of PRs don't have an initial issue; the PR itself is the issue in question
[20:13:22] <nrc> e.g., http://hg.mozilla.org/mozilla-central/
[20:13:30] <Eridius> requiring someone to file an issue before writing code and submitting a PR is busywork that will discourage contributions
[20:13:37] <Eridius> I have worked in projects that did that, and it was crap
[20:13:37] <nrc> "no issue" is fine if there is no issue
[20:13:42] <Eridius> it only makes sense once a project is in maintenance mode
[20:14:03] <Eridius> If a commit doesn't have an associated issue, the lack of an issue number should be sufficient to say there's no issue
[20:14:38] <Eridius> that's assuming the author even knows about the issue. It can often be hard to find issues relevant to a given problem, I know I've submitted PRs before that ended up closing issues I didn't know about
[20:14:51] <nrc> for the price of 8 chars you _know_ there is no issue and not that the writer forgot
[20:14:52] <Eridius> (in that case I modify the PR description to reference the issue before it gets r+'d)
[20:15:07] <Eridius> nrc: except you don't know there's no issue, you just know that the author wrote the words "no issue"
[20:15:18] <Eridius> you don't know how exhaustively they searched github
[20:15:26] <Eridius> all you know is they were not inspired by a preexisting issue
[20:15:38] <eddyb> is "Closes #1234" or Fixes enough?
[20:15:47] <flaper87> what happenes if there are more than 1 issue that a PR would close?
[20:15:48] <Eridius> eddyb: that's what we do today, if the author is aware of the issue
[20:15:54] <nrc> well, modulo good faith, you know that there us bi ore0existing issue the author knew about - that is often enough
[20:15:55] <flaper87> which one should go in the commit summary?
[20:15:59] <Eridius> flaper87: you have to list each individually with "closes" or "fixes" for github to automate it
[20:16:09] <Eridius> oh, summary again. Please please please please please don't require it in the summary
[20:16:15] <flaper87> Eridius: I know, but which one would go in the summary?
[20:16:16] <Eridius> the summary is only 50-odd characters long, including issue numbers makes that even shorter
[20:16:28] <nrc> Eridius: that's what we _sometimes_ do today, the proposal is simply to do that all the time
[20:16:37] <flaper87> FWIW, this is what we do in OpenStack https://wiki.openstack.org/wiki/GitCommitMessages
[20:17:07] <nrc> flaper87: list 'em
[20:17:28] <Eridius> nrc: why are you so dead set on making commit summaries fundamentally useless?
[20:17:51] <nrc> flaper87: holy crap! that is a lot of detail about commit summaries :-p
[20:18:09] <flaper87> nrc: :) We're quite strict there, TBH
[20:18:15] <tjc> Eridius: please follow the code of conduct, specifically the third and fourth points ( https://github.com/mozilla/rust/wiki/Note-development-policy#Conduct )
[20:19:25] <nrc> Eridius: not dead set, I'm open to modifying the idea - if we can do something automatically or something, that would be great. But the situation we're in at the moment where we can look at a commit and not be able to find any discussion about it is really bad
[20:19:32] <flaper87> I think GHs PRs are quite structured to support the same format we do manually in OpenStack
[20:19:50] <nrc> I guess we have differnet past experiences here - I have found the bug numbers in Firefox, really useful
[20:19:57] <flaper87> That is, 50 chars line for the summary and 70 chars wrapped lines for the description
[20:20:10] <Eridius> nrc: github does not have a great way to go from an arbitary commit to the PR in question. I acknowledge that's a big issue. But putting issue numbers in commit summaries is not relevant to that
[20:21:46] *** Joins: ghrust (ghrust@B750D19A.6A2AE50.F3114085.IP)
[20:21:46] <ghrust> [13rust] 15bors pushed 2 new commits to 06auto: 02http://git.io/DctIXA
[20:21:46] <ghrust> 13rust/06auto 1496102b3 15chromatic: Made fail_bounds_check more careful with strings....
[20:21:47] <ghrust> 13rust/06auto 14aa06bf4 15bors: auto merge of #12357 : chromatic/rust/gh_11976_fail_bounds_check_str, r=alexcrichton...
[20:21:47] *** Parts: ghrust (ghrust@B750D19A.6A2AE50.F3114085.IP) ()
[20:21:48] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[20:21:49] <ghrust> [13rust] 15bors 04force-pushed 06auto from 1483fa3a9 to 14a886549: 02http://git.io/N3iJvQ
[20:21:49] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[20:22:15] <eddyb> if you find the merge commit, that has the PR number in it
[20:22:46] <nrc> Eridius: I am totally open to other solutions to the problem - the consensus at the meeting at least, was that putting issue numbers in the commit message is not ideal, but probably the easiest solution
[20:23:10] <Eridius> nrc: we already put issue numbers in commit messages if we have them
[20:23:26] <Eridius> there's several issues that make it hard to do that any more than we already do:
[20:23:35] <Eridius> 1) there's often no pre-existing issue. the PR itself is the issue, and where the discussion takes place
[20:23:46] <Eridius> this PR cannot be linked in the commit message for the obvious reason that it doesn't exist when the commit is written
[20:24:01] <Eridius> 2) searching for issues on github is hard. The author of a PR may not know about a preexisting issue when the PR is submitted
[20:24:13] <Eridius> that's happened to me several times. In those cases I adjusted the PR description to include the referenced issue
[20:24:53] <Eridius> also 3) sometimes individual commits don't fix an issue, only the PR as a whole does. Personally I've been putting the issue # in the PR description alone for those, though in that case I can understand a desire to mention the issue in each individual commit.
[20:25:38] <brson> from my perspective, one of our goals is to start having fewer prs that have no associated issue
[20:25:50] <brson> it's a problem that too many solutions spring up without discussion
[20:26:07] <Eridius> brson: I understand that, although a lot of issues don't have discussion at all until someone tries to fix it
[20:26:45] <flaper87> again, FWIW, we kinda always require to have issues created in OpenStack for *every* patch
[20:26:49] <flaper87> unless it's a typo fix
[20:27:11] <Eridius> what is OpenStack?
[20:27:21] <flaper87> Eridius: http://openstack.org/
[20:27:37] <nrc> Those are all fair points - I think 1 is addressed by not requiring an issue number (if the space is an issue #0 would be fine by me to indicate this). wrt 2 I think it is ok to not be perfect - any improvement would be welcome. For 3, I think it is fine to have the issue numer on each commit even if it doesn't fix the whole issue by itself
[20:27:39] <Eridius> personally, I think that requiring pre-existing issues for every non-typo commit is something that's only appropriate when a project is in maintenance mode, and when issues actually need to be approved
[20:28:11] <Eridius> I've worked in projects that do both, and in fact I've worked in a project that started free-form and moved to the highly-rigid needing an issue approved by the project manager
[20:28:19] <Eridius> and the latter _severely_ restricted the rate of development of the project
[20:28:40] <nrc> I don't think we would ever do that
[20:28:44] <flaper87> I'm not a fan of having the issue in the commit title but I do appreciate having it in the summary
[20:29:06] <Eridius> we eventually got it relaxed such that we could effectively approve issues ourselves, but it was still an impedance to development
[20:29:15] <Eridius> to be required to write up a detailed issue before we even write a line of code
[20:29:38] <Eridius> flaper87: what do you mean by "summary"? That word in this context typically means in the first line of the commit, but you already said "commit title". Are you referring to the commit body?
[20:30:50] <flaper87> Eridius: for me commit title is the first line, the summary / description is the commit body
[20:31:15] <Eridius> nrc: here's where I stand. I think that issue numbers should never go in the commit summary (or at best, only if there's still room left after writing an otherwise-complete one-line commit message)
[20:31:27] <Eridius> I think that if an issue does exist, it should be referenced in the commit and the PR
[20:31:51] <Eridius> if the author is not aware that an issue exists, writing "no issue" is counterproductive because it gives the impression that the author asserts that there is no issue, when they merely are not aware of one
[20:32:34] <Eridius> if a PR is non-trivial, it should have a pre-existing issue, but I don't think that should be a hard requirement as sometimes commit authors either believe their change is non-controversial, or is willing to accept the time spent if the PR is rejected
[20:32:58] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[20:32:58] *** ChanServ sets mode: +ao pcwalton pcwalton
[20:33:14] <flaper87> well, there's a lot reviewers *have* to do. I normally double check if there are other issues related to the PR before providing any feedback and / or approving
[20:33:44] <Eridius> flaper87: I think that PR submitters should make an attempt to find relevant issues, but I also think github's issue search is pretty bad
[20:34:02] <Eridius> many times I've searched for an issue and been unable to find it, until someone else gave me the issue #
[20:34:28] <eddyb> doesn't help when people use unofficial terminology or weird wording
[20:34:33] <flaper87> Eridius: oh submitters definitely should but although we'll always assume good faith, we won't be able to know if that job was dong thoroughly
[20:34:44] <tjc> IMO, making an issue is less cognitive burden than having to decide for myself whether something is going to be controversial or whether it's trivial
[20:34:44] <Eridius> true
[20:34:46] <eddyb> there's no synonym stuff in github's search, AFAIK
[20:35:01] <tjc> there is no uniformly accepted definition of what's controversial, sort of inherently to the notion of being "controversial"
[20:35:16] <Eridius> tjc: if you make an issue first, you still have to decide if it's non-controversial/trivial in order to decide whether you should start fixing the issue before there's been any discussion
[20:35:26] <Eridius> especially becase, as I said before, issues often don't get discussion until someone submits a PR
[20:36:56] <Eridius> oh here's a thought to help fix the problem of finding the PR on github: bors could comment on each mozilla/rust/commit/$SHA page saying "Merged in PR #1234"
[20:37:09] <nrc> at least there is a place for the discussion if someone wants to have it though
[20:38:23] <nrc> Eridius: My troubl ehas been getting to a GitHub page with comments in the first place. I guess if bors were thorough enough, we could solve that
[20:38:49] <Eridius> nrc: my impression is you're looking at arbitrary commits on github's commit history for mozilla/rust?
[20:38:51] <flaper87> sorry if I quote OpenStack again. Here's what a commit looks like when it is commited to the main repo: https://github.com/openstack/nova/commit/71946855591a41dcc87ef59656a8a340774eeaf2
[20:39:03] <flaper87> you can go to the bottom, there's a git-note with all the info about the review process
[20:39:04] <nrc> from the meeting, there was a preference to prefer a small amount of developer effort for each patch rather than a large amount of effort on automation
[20:39:15] <nrc> Eridius: right
[20:39:19] <flaper87> result of the gate, reviewers that approved the patch etc
[20:39:37] <Eridius> nrc: right, so that's why I'm saying bors should just comment on the mozilla/rust commits. Bors already knows how to comment, so that's not a large amount of automatioin
[20:39:46] <nrc> flaper87: yes! I want this!
[20:39:52] <flaper87> nrc: :)
[20:40:08] <Eridius> nrc: my big worry is that any extra barrier to contribution will lower the amount of contribution
[20:40:22] <Eridius> OpenStack's process seems too rigid for a project in active pre-1.0 development
[20:40:42] <Eridius> once you've deployed to the world and committed to backwards compatibility, adding more process around reviews and approvals makes sense
[20:40:49] <flaper87> Eridius: it is rigid and I agree with you. However, you've to consider that we're near to 1.0 and we need to be prepared
[20:41:08] <eddyb> Eridius: I already have enough trouble writing tests :P
[20:41:10] <flaper87> migrating from non-rigid to rigid whatsoever has an impact in the community and development process
[20:41:16] <nrc> yeah, I would say we are now heading into that territory
[20:41:36] <Eridius> I think this is something we have to plan for, but I don't think adding any rigidity to the process makes sense until we hit the button and release 1.0
[20:41:41] <Eridius> but yes, we should know what we're going to change at that point
[20:41:51] <eddyb> nrc: is Hades in your job description by any chance?
[20:41:55] * flaper87 has a draft of an email that he has been meaning to send w.r.t rust's review process
[20:41:56] <Eridius> e.g. once we hit 1.0 maybe then requiring preexisting issues makes sense
[20:41:58] <flaper87> I'll get to that
[20:42:05] <Eridius> (as opposed to simply encouraging it)
[20:42:43] <eddyb> (I was joking earlier, and I'm by no means responsible for any significant part of the contributions)
[20:43:08] <Eridius> I could also see something like a mozilla employee is required to approve any non-trivial issue (e.g. typo fixes), separate from the code-review we currently do, although that may be going too far
[20:43:17] <huon> http://git-scm.com/docs/git-notes seems like the perfect thing: associated with a commit, but doesn't cause the commits to change.
[20:43:34] <Eridius> huon: git-notes are nice, but AFAIK they still don't get pushed/pulled without extra effort on the user's part
[20:43:38] <flaper87> huon: git-notes are nice
[20:43:41] <flaper87> lol
[20:43:42] <cmr> no programmatic api, needs seprate pushing
[20:43:44] <eddyb> you mean, could bors add notes without changing the commit identity?
[20:43:48] <cmr> eddyb: yes.
[20:44:00] <cmr> (programmatic in terms of github)
[20:44:01] <huon> they're at least displayed by github by default
[20:44:04] <Eridius> eddyb: notes are stored in a separate ref, the problem is pushing/pulling
[20:44:18] <eddyb> if they get pulled, then that's fine, bors can do the pushing
[20:44:45] <nrc> Eridius: relative to learning a whole new language and hacking on a compiler for it, filing a GitHub issue and putting the number in a git message is not something I imagine putting people off
[20:45:09] <nrc> eddyb: ?
[20:45:09] <Eridius> nrc: the former is interesting, exciting work. The latter is drudge-work.
[20:45:37] <Eridius> every extra bit of process that's separate from actually writing code is one more barrier to contribution
[20:45:47] <nrc> fair enough
[20:46:05] <Eridius> I do believe there are times when these things make sense. I just don't think we're there yet
[20:46:06] <nrc> it wouldn't put me off, but my perspective is not universal
[20:46:20] <eddyb> nrc: if you're confused by the bad reference... I'll show myself out. a real question would involve library freeze and everything else that needs to happen for 1.0
[20:46:57] <tjc> just my opinion, but I think that encouraging contributions from people who want to document their work and not just write code can only be a good thing
[20:47:06] <Eridius> oh, speaking of library freezes, I could see us doing something like requiring a pre-existing issue for anything that modifies a module/API that's marked stable, but not requiring it for unstable modules/APIs
[20:47:25] <Eridius> tjc: the PR should already document the work. Filing an issue first is often just duplication
[20:47:39] <tjc> personally, I don't think that code has value on its own without explanation of what it does and why it's being added... and it's usually the person who wrote the code who has to provide that explanation
[20:47:51] <tjc> without that explanation, it just adds maintenance burden
[20:48:00] <Eridius> I firmly believe that great commit messages, including PR title/description, is vital, whereas filing an issue ahead of time encourages people to just reference the issue and consider that to be sufficient. Because why should they write the same thing twice?
[20:48:10] <Eridius> tjc: yes, explanations are great
[20:48:19] <Eridius> I feel I should be able to get the info I need without having access to the bug tracker
[20:48:39] <nrc> eddyb: I believe that "moving to 1.0" will be a process rather than an on/off thing - some things will start before others, mopre process around issues and reviews might start before or after feature-freeze etc.
[20:48:50] <tjc> At least right now, there isn't a culture of writing detailed commit messages in Rust. So, perhaps instead of requiring issues, that culture could be encouraged, but nrc's proposal is more concrete
[20:49:12] <eddyb> nrc: yeah, I know, just curious if you have any specific enforcing role in it
[20:49:43] <nrc> eddyb: oh right, no, other than fixing 1.0 bugs is my work priority
[20:51:05] <cmr> acrichto sets a good precedent for commit messages.
[20:51:07] <cmr> look at his.
[20:51:13] <cmr> we should all aspire to acrichto
[20:51:22] <eddyb> cmr: which one?
[20:51:30] <nrc> Eridius: sometimes there is a lot of info that should not be with the code but is useful to other devs - e.g., if a function is removed - what should replace it or what other possible solutions were considered and dismissed, it's good to be able to easily find these things
[20:51:30] <cmr> *all of them*
[20:51:33] <nrc> cmr++
[20:51:35] <eddyb> or I guess they all do great work
[20:51:39] <nrc> well, acrichto++, I guess
[20:53:10] <doener> tjc: FWIW I agree with Eridius that "busy work" such as filing issues in advance might discourage writing of good commit messages. And IMHO commit messages are far more valuable. I can quite quickly go through the history of some chunk of code using git tools, and read the commit messages. Having to switch to external information slows that process down tremendously or even makes it impossible (when working offline)
[20:53:40] <Eridius> nrc: arguably stuff like that could go in the commit, but I get what you're saying. If there is a preexisting issue with discussion, it should definitely be referenced in the commit. If the PR has discussion, well, the PR is accessible from the merge
[20:54:20] <Eridius> That same project I mentioned earlier that switched to the rigid system, that switch was accompanied by a surprising decrease in commit message quality
[20:54:27] <Eridius> all commit messages referenced their issue in their summary
[20:54:50] <Eridius> and a bunch of my team members started basically just saying "BUG-1234: Fix frobnitz" and relying on the bug to contain the actual description
[20:55:00] <Eridius> that's what I'm sorely afraid of happening to rust if we try to make any similar change
[20:55:17] <tjc> doener: I get what you're saying; if that's the answer, then there has to be *some* sort of process put into place to improve commit message quality systematically. In either case, there's going to have to be a process change
[20:55:53] <Eridius> reviewers should read commit messages too, not just code, and flag bad messages just as they would flag bad code
[20:56:31] <doener> tjc: at work, our review process regularly involves requesting new versions just to improve commit mess.... what Eridius said
[20:56:57] <Eridius> I know I've seen some merges in rust that even contain WIP or fixup! commits
[20:57:00] <Eridius> and that makes me cry a little every time
[20:57:09] <doener> Eridius++
[20:57:09] *** Quits: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com) (Quit: Jesse)
[20:57:18] <tjc> that would be good. As it is (as far as I know, I haven't been following as closely for the past 3 months), there aren't any guidelines for what reviewers are supposed to look for
[20:57:29] <cmr> there is a list on the wiki that was made recently.
[20:57:33] <tjc> cool
[20:57:46] <huon> there's https://github.com/mozilla/rust/wiki/Note-code-review but it hasn't had much effort
[20:58:29] <cmr> yeah that's the one
[20:59:09] *** Joins: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com)
[20:59:19] <huon> could e.g. have guidelines about `unsafe`
[20:59:58] <eddyb> servo has some bot warnings for changing certain parts of the codebase
[21:00:06] <eddyb> and for "changing unsafe code"
[21:01:10] <Eridius> btw, I apologize to anyone if they think I've been.. over-zealous during this recent discussion. This is just something that I care a lot about
[21:02:01] *** Quits: doener (doener@moz-C68F600D.unity-media.net) (Quit: zZ)
[21:02:56] *** Quits: angdev (uid7041@moz-E77DEB21.irccloud.com) (Ping timeout)
[21:03:09] *** Joins: angdev (uid7041@moz-E77DEB21.irccloud.com)
[21:04:04] * pnkfelix now knows an easy way to annoy Eridius the next time Eridius puts up a PR
[21:04:13] <Eridius> :O
[21:04:15] <flaper87> LOL
[21:04:37] <flaper87> Eridius: I think it was a great discussion and brought up many opinions and ideas
[21:04:47] <Eridius> pnkfelix: I expect to see an issue number as the full subject, and a typo-ridden single-line description in the body
[21:05:24] <pnkfelix> Eridius: better yet, all in the title, so bors drops it.
[21:06:11] <pnkfelix> I probably should go try to fix that rather than continuing to mention it.
[21:06:23] <Eridius> :D
[21:10:49] *** Joins: lkuper (lkuper@2F1D7F56.CDD31A0A.51B6877.IP)
[21:13:37] <huon> brson: ping
[21:19:24] <huon> brson: unping, wrote a comment instead: https://github.com/mozilla/rust/pull/12108#issuecomment-35435220
[21:22:53] <mrmonday> it's nice watching this raw socket stuff gradually come together
[21:23:31] <mrmonday> which I didn't have to rush through it so much :(
[21:31:38] *** Quits: eddyb (eddy@moz-41DB10DA.residential.rdsnet.ro) (Ping timeout)
[21:36:53] *** Joins: ghrust (ghrust@4BC7FFDD.6A2AE50.F3114085.IP)
[21:36:53] <ghrust> [13rust] 15bors merged 06auto into 06master: 02http://git.io/DctIXA
[21:36:53] *** Parts: ghrust (ghrust@4BC7FFDD.6A2AE50.F3114085.IP) ()
[21:37:05] <aepsil0n> r? https://github.com/mozilla/rust/pull/12366
[21:38:38] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[21:40:38] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[21:40:39] <acrichto> aepsil0n: could you squash your commits together and also mention the issue number in the PR as well?
[21:40:49] <acrichto> if you have "Closes #XXXX" in the commit message the issue will auto-close when merged
[21:40:59] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[21:41:49] *** Joins: ghrust (ghrust@4BC7FFDD.6A2AE50.F3114085.IP)
[21:41:49] <ghrust> [13rust] 15bors pushed 0 new commits to 06auto: 02http://git.io/xo0MDg
[21:41:49] *** Parts: ghrust (ghrust@4BC7FFDD.6A2AE50.F3114085.IP) ()
[21:41:51] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[21:41:51] <ghrust> [13rust] 15bors pushed 2 new commits to 06auto: 02http://git.io/rcb6qg
[21:41:51] <ghrust> 13rust/06auto 142b7e333 15Alex Crichton: Update compiler-rt...
[21:41:51] <ghrust> 13rust/06auto 14ee8f45e 15bors: auto merge of #12359 : alexcrichton/rust/update-compiler-rt, r=luqmana...
[21:41:51] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[21:42:24] <aepsil0n> will do
[21:43:26] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[21:44:37] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[21:46:40] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[21:46:55] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[21:46:59] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[21:47:00] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[21:48:40] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[21:49:01] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[21:49:11] <aepsil0n> @achrichto squashed and compiled into one consistent commit message
[21:50:06] *** Quits: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP) (Quit: rcirc on GNU Emacs 24.3.1)
[21:50:43] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[21:51:05] <acrichto> aepsil0n: thanks!
[21:54:00] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[21:54:09] <huon> acrichto: ping
[21:54:44] <acrichto> huon: pong, but I'm boarding a flight in about 15min, so perhaps not for long
[21:55:22] <huon> acrichto: it's quick: did you happen to test https://github.com/mozilla/rust/pull/12365 with a current windows build to see if that testcase actually fails?
[21:55:40] <acrichto> huon: nah I'd just trust bors
[21:55:57] <huon> acrichto: ok
[21:56:12] <Eridius> hrm, what does it take for lldb to show source with a function?
[21:56:20] <Eridius> I set a breakpoint on a function, broke, but `source list` just shows me main()
[21:57:54] *** Joins: sunfish (chatzilla@moz-8DE7F965.dsl.dynamic.sonic.net)
[21:59:53] *** Quits: dherman (dherman@moz-B31C6965.dsl.pltn13.sbcglobal.net) (Ping timeout)
[22:01:37] *** Joins: dherman (dherman@moz-B31C6965.dsl.pltn13.sbcglobal.net)
[22:01:37] *** ChanServ sets mode: +ao dherman dherman
[22:01:40] *** Quits: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP) (Ping timeout)
[22:04:36] *** Joins: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP)
[22:04:54] *** Quits: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP) (Client exited)
[22:05:26] *** Quits: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com) (Quit: Jesse)
[22:05:38] <Eridius> ah hah, it actually set two breakpoints. one in the function, and one in.. some sort of prolog?
[22:05:43] <Eridius> if I continue from the first it hits the second
[22:05:52] *** Joins: rca_ (rcatolino@2B62C6AB.EFF801F1.520D6FA6.IP)
[22:06:28] *** Quits: rca (rcatolino@moz-61BF891E.adsl.proxad.net) (Ping timeout)
[22:06:33] <huon> the morestack stuff?
[22:06:45] <Eridius> do we still have that?
[22:06:58] <huon> yes, for stack safety
[22:07:01] <Eridius> the early address is rustirc`plugins::irc::lua_addhandler::hb7f4940166eee8f4tmb::v0.1, the later one with source is rustirc`rustirc::plugins::irc::lua_addhandler + 56
[22:08:41] *** Quits: rca_ (rcatolino@2B62C6AB.EFF801F1.520D6FA6.IP) (Ping timeout)
[22:08:59] *** Joins: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com)
[22:09:58] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Quit: Leaving...)
[22:10:04] <Eridius> there's no way to invoke Rust code from lldb is there?
[22:14:49] *** Quits: huon (Thunderbir@moz-826BD85A.lns20.syd6.internode.on.net) (Quit: huon)
[22:17:58] *** Joins: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP)
[22:21:09] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[22:21:13] *** Quits: lkuper (lkuper@2F1D7F56.CDD31A0A.51B6877.IP) (Quit: lkuper)
[22:23:18] <aepsil0n> anybody working on restructuredtext support yet?
[22:23:36] <brson> aepsil0n: no, there is not consensus to switch from markdown to rest
[22:25:26] <aepsil0n> switch? are they considered mutually exclusive?
[22:27:50] <steveklabnik> yes
[22:27:54] <steveklabnik> two formats is bad news
[22:32:49] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[22:32:49] *** ChanServ sets mode: +ao pcwalton pcwalton
[22:34:04] <bjz> acrichto: hey, I have worked out how to use prad_integer without having to reconstruct the byte buffer
[22:34:07] *** Quits: sunfish (chatzilla@moz-8DE7F965.dsl.dynamic.sonic.net) (Client exited)
[22:34:08] <bjz> *pad_integer
[22:34:10] <bjz> :D
[22:34:36] <bjz> I have also refactored it to (hopefully) make it easier to understand
[22:34:38] <ChrisMorgan> aepsil0n: it's at the stage where we need a demonstration of what using reStructuredText would entail, how it would change things, &c. I plan on providing that test case in Teepee (what rust-http is about to evolve into).
[22:35:11] <bjz> ChrisMorgan: reST would be incredible
[22:36:21] <aepsil0n> i seeâ€¦ would be interested in contributing to this, in principle
[22:37:46] <aepsil0n> markdown is somewhat limited compared to reST
[22:38:08] <bjz> I am interested in the quality of the docs
[22:38:19] <bjz> cross-linking and stuff is super important
[22:38:50] <bjz> plus LaTex math!
[22:39:33] <aepsil0n> that's what i was thinking
[22:39:40] <bjz> (lol jk)
[22:39:41] <bjz> latex math?
[22:39:43] <bjz> xD
[22:39:45] *** Quits: jdm (jdm@moz-AC9499B2.cable.teksavvy.com) (Quit: Lost terminal)
[22:39:52] <aepsil0n> well, not latex per se but math
[22:40:00] <aepsil0n> depends on your project
[22:40:20] <bjz> unicode in code fences can only go so far
[22:40:23] <bjz> :P
[22:40:46] * ChrisMorgan finds it funny how important a factor math support seems to be for several people
[22:41:10] * aepsil0n is a physicist.
[22:41:32] <bjz> aepsil0n: https://github.com/bjz/num-rs/blob/master/src/math/algebra.rs#L392-L420
[22:41:43] <bjz> ChrisMorgan: I'm kind joking abit
[22:41:53] <bjz> ChrisMorgan: but still, it would be cool
[22:42:06] <bjz> ChrisMorgan: would we get a literate rust format?
[22:42:08] <bjz> :D
[22:42:17] <aepsil0n> ^^
[22:42:32] <ChrisMorgan> That's approximately orthogonal.
[22:42:34] <aepsil0n> ok, that's also a way to do it
[22:42:37] *** Joins: lkuper (lkuper@moz-AD4C50F5.dhcp-bl.indiana.edu)
[22:42:53] * ChrisMorgan believes the word "orthogonal" is overused in the Rust community
[22:43:10] <bjz> ChrisMorgan: that's orthogonal to orthogonal
[22:43:18] <bjz> orthogonal orthogonal orthogonal
[22:43:39] <aepsil0n> i've begun to do fluid dynamics in rust
[22:43:43] <bjz> \o/ tests pass
[22:43:49] <bjz> aepsil0n: awesome!
[22:44:00] <bjz> aepsil0n: how goes it?
[22:44:16] <aepsil0n> i don't quite feel like writing partial differential equations in unicode ;)
[22:44:19] <bjz> aepsil0n: we are in the process of improving the math situation *again*
[22:44:25] <aepsil0n> uhm... so far it's mostly data structures
[22:44:30] <bjz> ah cool
[22:44:53] <bjz> we need a better floating point api
[22:44:59] <aepsil0n> that's true
[22:45:07] <bjz> but that is in the works
[22:45:12] <aepsil0n> i should have some basic 1D solver soon enough
[22:45:14] <bjz> big effort though
[22:45:24] <bjz> oh nice
[22:45:37] <aepsil0n> currently it feels a little bit like coding against some hypothetical future interface ;)
[22:45:44] <aepsil0n> especially when i think about vectors...
[22:45:51] <ChrisMorgan> bjz: you went to the trouble of writing things like â»Â¹ but you didnâ€™t use Ã—?
[22:46:08] <bjz> ChrisMorgan: hah
[22:46:09] <aepsil0n> if you want to have a look: https://github.com/aepsil0n/triton
[22:46:45] <bjz> ChrisMorgan: well, would have used the dot operator
[22:47:05] <ChrisMorgan> â‹…
[22:47:20] <bjz> aepsil0n: what do you mean, hypothetical interface?
[22:47:28] <bjz> aepsil0n: which one?
[22:47:56] <aepsil0n> algebraic traits
[22:48:16] <bjz> acrichto: what does Formatter::runplural do?
[22:48:21] <ChrisMorgan> bjz: and you use the word "where" rather than U+2219 BULLET OPERATOR (âˆ™). So much potential Unicode missing!
[22:48:29] <bjz> acrichto: why is it neccesary to use uint::to_str_bytes?
[22:48:33] <aepsil0n> like vectors, matrices
[22:48:38] <bjz> acrichto: is it performance intensive?
[22:48:47] <bjz> aepsil0n: would libnum help?
[22:48:54] <aepsil0n> a great deal
[22:48:58] <bjz> aepsil0n: awesome
[22:49:11] <aepsil0n> there is nalgebra already
[22:49:25] <aepsil0n> which sorta covers the same kind of thing
[22:49:27] <bjz> aepsil0n: there are some that thing it is a little.... impractical
[22:49:39] <bjz> aepsil0n: yeah
[22:49:47] <aepsil0n> i haven't used it extensively yet
[22:49:57] <bjz> not a *huge* fan of the nalgebra api
[22:49:57] <bjz> but at least it works in practice
[22:50:18] * ChrisMorgan loves http://shapecatcher.com/ for when he can't think of the right name for a character
[22:51:35] <bjz> aepsil0n: I am spending lots of time thinking about the in the back of my mind. every now and then I come back to it
[22:51:35] <bjz> aepsil0n: it's gone through a huge number of iterations :D
[22:51:42] *** Joins: ghrust (ghrust@23EC81EC.6A2AE50.F3114085.IP)
[22:51:42] <ghrust> [13rust] 15bors merged 06auto into 06master: 02http://git.io/rcb6qg
[22:51:42] *** Parts: ghrust (ghrust@23EC81EC.6A2AE50.F3114085.IP) ()
[22:52:02] <bjz> aepsil0n: in the process I discovered the awesomeness of abstract algebra
[22:52:03] <bjz> :)
[22:52:24] *** Quits: dherman (dherman@moz-B31C6965.dsl.pltn13.sbcglobal.net) (Quit: dherman)
[22:52:33] <aepsil0n> ^^
[22:53:06] <bjz> aepsil0n: hopefully I will start to move it into libnum soon
[22:53:27] <aatch> Abstract Algebra, because removing the numbers from maths isn't enough
[22:53:48] <bjz> aepsil0n: then we can start getting feedback from users
[22:53:48] <bjz> <3
[22:54:02] <tjc> Category Theory, because removing the names from math isn't enough
[22:54:03] <tjc> ;-)
[22:54:06] <aepsil0n> cool
[22:54:49] <aatch> It's weird thinking in those terms, since you end up going 'one? Oh, the additive identity for reals!'
[22:55:01] <aatch> *multiplicative
[22:55:06] <bjz> well, maths is more than numbers. lots to do with the consequences of choosing a some arbitrary axioms/relationships between things
[22:55:35] <bjz> as far as my puny mind understands it now
[22:55:57] <aepsil0n> a couple of days ago i felt like i needed an abstract 8
[22:56:23] <cmr> *8*?
[22:56:25] *** Quits: doomlord_ (servitor@moz-9B2006BF.range109-151.btcentralplus.com) (Quit: Leaving)
[22:56:41] <aepsil0n> for something like assert_approx_eq!
[22:56:42] <bjz> I love how rotations of rubics cubes form a group. or something like that
[22:56:45] <larsberg> ChrisMorgan: as a young grad student, I relied heavily on http://detexify.kirelabs.org/classify.html
[22:56:46] *** Joins: ghrust (ghrust@38D6F008.6A2AE50.F3114085.IP)
[22:56:46] <ghrust> [13rust] 15bors pushed 0 new commits to 06auto: 02http://git.io/ooW82Q
[22:56:46] *** Parts: ghrust (ghrust@38D6F008.6A2AE50.F3114085.IP) ()
[22:56:48] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[22:56:48] <ghrust> [13rust] 15bors pushed 7 new commits to 06auto: 02http://git.io/7buYpQ
[22:56:48] <ghrust> 13rust/06auto 14493a4b6 15Huon Wilson: std: iteratize str::is_utf16 & add tests....
[22:56:48] <ghrust> 13rust/06auto 14b7656d0 15Huon Wilson: std: convert str::from_utf16 to an external iterator....
[22:56:48] <ghrust> 13rust/06auto 14a96cea4 15Huon Wilson: str: provide lossy UTF-16 support....
[22:56:50] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[22:56:54] <aepsil0n> i thought i should have some margin of error > machine epsilon
[22:57:33] <bjz> strings are some form of additive monoid
[22:57:34] <bjz> I think
[22:57:40] <aepsil0n> 8 * machine epsilon seemed reasonable, but i hesitated to use a literal 8
[22:57:55] <bjz> aepsil0n: we used to have that
[22:58:05] <tjc> when I was a young grad student, Detexify didn't exist yet
[22:58:07] * tjc cries
[22:58:24] <bjz> aepsil0n: but we removed the ApproxEq trait
[22:58:24] <bjz> aepsil0n: might be added back in the future, probably in libnum
[22:58:34] <bjz> tjc: Detexify?
[22:58:38] <aepsil0n> i have one!
[22:58:48] <tjc> bjz: larsberg mentioned it up there ^
[22:58:57] <aepsil0n> it's not complete though
[22:59:29] <bjz> tjc: scrollback not long enough -_-
[22:59:29] <bjz> looking at botbot now
[22:59:50] <tjc> bjz: heh, are you using a TTY? ;-) but, he said "as a young grad student, I relied heavily on http://detexify.kirelabs.org/classify.html "
[23:00:02] <bjz> aepsil0n: yeah, I think that's something worth adding
[23:00:14] <nrc> Oh. My. God. That would have halved my thesis writing time
[23:00:20] * nrc picks jaw off ground
[23:00:25] <tjc> haha
[23:00:27] *** Joins: new_one (new_one@ECFBFAA9.328FFDD8.B3C0173E.IP)
[23:00:39] *** Quits: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP) (Ping timeout)
[23:00:44] <tjc> genius is 5% inspiration and 95% knowing the right LaTeX symbols
[23:00:59] <nrc> haha, so true
[23:01:06] <bjz> oooh!
[23:01:06] <bjz> thanky!
[23:01:15] <aepsil0n> so libnum is generally open for extension by math beyond the stdlib?
[23:01:16] <bjz> tjc: TTY?
[23:01:33] <bjz> aepsil0n: yes, that is the idea
[23:01:54] <bjz> aepsil0n: to make it usable in community libs
[23:01:58] <aepsil0n> great
[23:01:59] <bjz> aepsil0n: so that things are composable
[23:02:14] *** Joins: sunfish (chatzilla@moz-8DE7F965.dsl.dynamic.sonic.net)
[23:02:17] <bjz> not all would want it though
[23:03:01] <aepsil0n> what i'm still missing in rust for this though (mentioned that earlier) are variadic generics and static variables as generic parameters like in C++11
[23:03:38] <bjz> eddyb is working on that
[23:03:38] <bjz> I would love that
[23:03:39] <aepsil0n> so you can implement e.g. Matrix<static n: int, static m: int, T: Float>
[23:03:42] <aepsil0n> i know
[23:03:45] <bjz> and associated items
[23:04:09] <aepsil0n> it's probably worth waiting for that language feature w.r.t. some of the math
[23:04:10] <bjz> I really kinda with rust was dependently typed
[23:04:10] <bjz> s/with/wish
[23:04:12] <bjz> :D
[23:05:14] <tjc> bjz: I mean, a '70s style typewriter-like output device that would only let you see a few lines at a time :-)
[23:05:22] <bjz> tjc: haw haw
[23:05:37] <bjz> tjc: me is a young wippersnapper
[23:05:59] <bjz> tjc: not familiar with prehistoric contraptions like that
[23:06:27] <tjc> bjz: well, I've never seen one IRL either. though I did use IRC for the first time on a VT220 terminal
[23:06:40] * ChrisMorgan loves calling people whippersnippers
[23:06:46] <cmr> https://www.youtube.com/watch?v=_DTpQ4Kk2wA
[23:07:01] <cmr> APL had its own teletype ball.
[23:07:14] <bjz> cmr: <3 that video
[23:07:28] <bjz> cmr: I love how analogue the output is
[23:07:29] <tjc> awesome
[23:08:09] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[23:08:10] <bjz> cmr: maybe 'physical' is a better word for it
[23:09:07] <cmr> We watched all the apl videos we could find on youtube one night in the cs labs, was very fun.
[23:09:20] <bjz> awesome
[23:11:01] <tjc> I also recommend Erlang: The Movie - http://www.youtube.com/watch?v=xrIjfIjssLE
[23:14:59] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[23:15:00] *** ChanServ sets mode: +ao dherman dherman
[23:15:19] *** kimundi is now known as zz_kimundi
[23:19:07] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[23:20:13] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[23:24:01] *** Quits: lkuper (lkuper@moz-AD4C50F5.dhcp-bl.indiana.edu) (Quit: lkuper)
[23:26:45] *** flaper87 is now known as flaper87|afk
[23:47:00] <nrc> new_one: could I tempt you to submit a PR for your type param work?
[23:47:18] <nrc> new_one: btw, I just rebased - new version at /dxr4
[23:49:33] <acrichto> bjz: the formatting code is fairly performance sensitive, but not overly so, basically try not to allocate
[23:49:48] <acrichto> bjz: runplural is used for {0, plural, one{ ... } two {... } } etc
[23:49:53] <acrichto> it's one of the internationalization things
[23:49:58] <acrichto> not that we use them that often
[23:51:42] *** Joins: ghrust (ghrust@23EC81EC.6A2AE50.F3114085.IP)
[23:51:42] <ghrust> [13rust] 15bors 04force-pushed 06auto from 14c6b7f22 to 14ee8f45e: 02http://git.io/N3iJvQ
[23:51:42] *** Parts: ghrust (ghrust@23EC81EC.6A2AE50.F3114085.IP) ()
[23:51:42] *** Joins: ghrust (ghrust@511FAEBD.6A2AE50.F3114085.IP)
[23:51:43] <ghrust> [13rust] 15bors pushed 2 new commits to 06auto: 02http://git.io/kOGsHw
[23:51:43] <ghrust> 13rust/06auto 146ccd1e1 15Steven Fackler: rustdoc: Only inject extern crates if not present
[23:51:43] <ghrust> 13rust/06auto 14a3fe94d 15bors: auto merge of #12361 : sfackler/rust/rustdoc-test-extern, r=alexcrichton
[23:51:43] *** Parts: ghrust (ghrust@511FAEBD.6A2AE50.F3114085.IP) ()
[23:52:02] <bjz> acrichto: I am 30% faster on the integer formatting
[23:52:11] <bjz> acrichto: so it seems
[23:53:37] <new_one> nrc: sure, I'll work on that
[23:54:20] <new_one> nrc: spent a little time trying to get lifetimes working, but having looked at parse.rs I'm not sure where the issue is
[23:56:26] <acrichto> bjz: nice!
[23:58:17] <new_one> nrc: looking at your branch -- is the change to krate because crate's reserved now?
[23:58:42] *** Joins: Diamond (dick@moz-80556682.ks.ks.cox.net)
[23:58:59] <steveklabnik> hehe, just like ruby
[23:59:05] <steveklabnik> class -> klass
[23:59:09] <steveklabnik> crate -> krate
[23:59:14] <nrc> new_one: yes
[23:59:22] <nrc> it makes me sad
[23:59:56] <bjz> acrichto: I do more checks too :)
