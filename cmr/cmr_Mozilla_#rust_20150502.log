[00:00:03] <sinistersnare> wait, is that what dev-dependencies are for?
[00:00:07] <ssammy> cmr: start using rust
[00:00:14] <mbrubeck> sinistersnare: Yes
[00:00:20] <cmr> ssammy: the easiest way to install it is to use the installer, yes.
[00:00:23] <mbrubeck> sinistersnare: i.e., yes, that's what dev-dependencies are for
[00:00:35] <sinistersnare> mbrubeck: is there any documentation for them? or do they just work?
[00:00:52] <reem> sinistersnare: examples in the `examples` folder will get compiled as their own crate, you just put stuff in dev-dependencies if you only use it in tests or examples and it should just work
[00:01:06] <sinistersnare> reem: tyty
[00:02:30] *** Quits: tcard (tcard@moz-jdrdbk.ddns.jazztel.es) (Client exited)
[00:02:57] <ssammy> i just wrote my first rust program !!
[00:03:01] <ssammy> wow
[00:03:05] <sfackler> Codenator: https://github.com/sfackler/rust-postgres#optional-features
[00:03:31] *** Joins: fkaa (tundmatu@moz-3gjfoq.cust.tele2.se)
[00:04:07] *** Joins: tcard (tcard@moz-jdrdbk.ddns.jazztel.es)
[00:04:45] <bluss> ssammy: that was quick. glhf
[00:05:32] *** Quits: kgrandon (Adium@moz-nsdojb.2rkg.9kg1.0101.2620.IP) (Quit: Leaving.)
[00:05:58] <Yen> rkruppe: I'll paste it up in a second. got it working.
[00:06:06] *** Quits: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[00:06:14] <bstrie> ssammy: tell us what it does!
[00:06:44] *** Quits: chmanchester (Chris@moz-h1c.ktt.28.204.IP) (Quit: Leaving)
[00:07:05] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[00:07:35] <ssammy> ha ha.  "hello world"
[00:07:43] *** Joins: InfiniteJacuzzi (darren@moz-804egb.dyn.optonline.net)
[00:07:58] <bstrie> ssammy: auspicious beginnings
[00:08:20] <sfackler> andor: if it's saying there's an unexpected parameter type, then there's an unexpected parameter type :P
[00:08:44] <sfackler> andor: looks like a bare "LIMIT $1" defaults to int8, but you can do stuff lik "LIMIT $1::INT" to specify the type you want
[00:08:44] <andor> sfackler: yes, i figured out in the mean time that u32 != i64 :\
[00:08:57] <andor> which is kind of annoying
[00:09:12] <andor> i mean not the inequality of those types
[00:09:18] <andor> but that limit wants i64
[00:09:38] *** Quits: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net) (Ping timeout: 121 seconds)
[00:10:17] <fkaa> how do i please the borrow checker? http://is.gd/2kVpYB
[00:11:08] <mbrubeck> fkaa: `for a in &a.dirs`
[00:11:27] <mbrubeck> s/a/p/
[00:11:33] <mbrubeck> fkaa: then `p` will have type `&Direction`
[00:11:43] *** Quits: iiixtiii (ixti@moz-i3d.dae.119.188.IP) (Ping timeout: 121 seconds)
[00:11:56] <fkaa> ooo
[00:12:06] *** Joins: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net)
[00:12:37] *** Quits: gp5st (jim@moz-k130hq.east.verizon.net) (Quit: Leaving.)
[00:13:35] *** Quits: mkpankov (user@moz-ppg.0jj.23.84.IP) (Ping timeout: 121 seconds)
[00:13:49] *** Quits: tcard (tcard@moz-jdrdbk.ddns.jazztel.es) (Client exited)
[00:14:37] *** Joins: swgillespie (swgillespie@moz-1i5.3un.220.167.IP)
[00:16:20] *** Quits: jbcurtin (jbcurtin@moz-lskisb.LosAngeles1.Level3.net) (Ping timeout: 121 seconds)
[00:16:31] <Yen> hmm. it's too long to share
[00:18:30] *** Joins: gp5st (jim@moz-k130hq.east.verizon.net)
[00:18:33] *** Quits: aatch (james@moz-is4j4r.cable.telstraclear.net) (Quit: Leaving)
[00:18:55] *** Joins: fabianvf (fabianvf@moz-fjqmui.va.comcast.net)
[00:19:23] *** Quits: sonder (chatzilla@moz-nt8r49.idi.ntnu.no) (Ping timeout: 121 seconds)
[00:19:54] <Yen> rkruppe: what I'm trying to do is this: http://pastebin.com/vZrDxe5n
[00:20:33] <Yen> I had one version that I think was mostly working, based on Arc and Weak, but it was really ugly code
[00:20:55] *** Quits: Gamecubic (cubic@moz-bglmk5.mc.videotron.ca) (Quit: Leaving)
[00:21:11] *** Joins: breiska (breiska@moz-sdntg3.dhcp.inet.fi)
[00:21:20] <rkruppe> Ugh, graphcs
[00:21:22] *** Joins: kgrandon (Adium@moz-hhonqp.2rkg.9kg1.0101.2620.IP)
[00:21:27] <rkruppe> Graphs are ugly
[00:21:28] <Yen> yeah
[00:21:34] <mbrubeck> graphs, the ancient nemesis of rustc
[00:21:38] *** AutomatedTester is now known as AutomatedTester|AFK
[00:21:43] <Yen> indeed
[00:22:10] <Yen> this one being a bit uglier than other graphs, since I want it to be very mutable - the node values are mutable, and nodes can be added and removed
[00:22:30] <rkruppe> You can have interior mutability with Cell and RefCell
[00:22:30] <Yen> it may be a case of using the wrong language for the job. /me shrugs
[00:22:44] <mbrubeck> Have you seen https://github.com/nrc/r4cppp/blob/master/graphs/README.md and http://smallcultfollowing.com/babysteps/blog/2015/04/06/modeling-graphs-in-rust-using-vector-indices/ ?
[00:22:50] <rkruppe> Uglier, but at least you'll get a runtime error instead of silent wrongness when it fails
[00:23:04] <rkruppe> Or Vec<Node> with indices, yes
[00:23:23] <rkruppe> My personal favorite, except that it requires carrying the Vec around everywhere
[00:23:47] <Yen> well this has a HashMAp that it's carrying everywhere anyway
[00:24:28] *** Joins: chmanchester (Chris@moz-h1c.ktt.28.204.IP)
[00:25:31] <Yen> in fact, I could basically just do the whole thing the as HashMap<key, node>, except that for my intended application, <key> is kind of heavy, and I don't want each node to have a ton of <key> in the children/parents
[00:26:27] <iamtyler> is there a way to have a function take an iterator as an argument? in particular, i'd like to have a function that takes an iterator over strings
[00:26:36] *** Quits: gp5st (jim@moz-k130hq.east.verizon.net) (Ping timeout: 121 seconds)
[00:27:02] <mbrubeck> iamtyler: fn f<I>(iter: I) where I: Iterator<Item=String>
[00:27:38] *** Joins: narann (narann@moz-mjj.eaj.250.162.IP)
[00:29:14] *** Joins: playjax (chatzilla@moz-k5s6hh.optusnet.com.au)
[00:29:22] <iamtyler> mbrubeck: thanks!
[00:29:28] *** Joins: chc4 (chc4@moz-pdo0at.ma.comcast.net)
[00:29:39] *** Joins: scientes_ (scientes@moz-l6hdmu.wa.comcast.net)
[00:30:06] <reem> Any insights on how I might work around this? http://is.gd/xL66hd
[00:30:09] <mbrubeck> iamtyler: Or if you do `fn f<I>(iter: I) where I: IntoIterator<Item=String>` then f can accept both Iterators and collections like Vec that implement IntoIterator.
[00:30:32] <reem> I need a more flexible version of FnBox, basically
[00:30:35] <iamtyler> mbrubeck: ah, that's clever. thanks!
[00:30:37] *** bentley is now known as bentley|away
[00:31:05] *** Quits: ascarter_ (ascarter@moz-705hf8.wa.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[00:31:55] *** Quits: eric_lagergren (barsonme@moz-add4ru.fomj.2174.0008.2601.IP) (Ping timeout: 121 seconds)
[00:31:57] *** Joins: srh (User@moz-mb8h9g.ca.charter.com)
[00:32:06] *** Quits: w4ffles (w4ffles_@moz-34v1r4.res.rr.com) (Quit: This computer has gone to sleep)
[00:34:15] *** Joins: hjr3 (hradtke@moz-pp9.av4.169.69.IP)
[00:35:00] *** Joins: davebettin (davebettin@moz-acc.cl4.35.72.IP)
[00:35:19] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[00:36:14] *** Quits: mcpherrin (uid11663@moz-cgplg8.brockwell.irccloud.com) (Quit: Connection closed for inactivity)
[00:36:51] *** Quits: swgillespie (swgillespie@moz-1i5.3un.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[00:37:25] *** Quits: Racquetball (namestolenw@moz-nof0ce.res.rr.com) (Ping timeout: 121 seconds)
[00:37:54] *** Quits: kgrandon (Adium@moz-hhonqp.2rkg.9kg1.0101.2620.IP) (Quit: Leaving.)
[00:38:15] *** Joins: fengshaun (fengshaun@moz-rf0qk5.cable.teksavvy.com)
[00:40:01] *** Quits: arBmind1 (Andreas@moz-283vr7.dyn.telefonica.de) (Quit: Leaving.)
[00:40:58] <scott> reem: it does appear to work with FnBox: http://is.gd/Wg533U
[00:41:12] <scott> I don't know much about FnBox, though
[00:41:47] <reem> scott: I reduced it to the actual issue: http://is.gd/4sRWGT
[00:42:06] <reem> I would like Self == SpecialFnBox in the “impl” of SpecialFnBox for SpecialFnBox
[00:42:35] <scott> ahh, rustc doesn't know Box<Self> is object safe?
[00:42:43] *** Joins: lenstr (lenstr@moz-vho.vju.25.171.IP)
[00:42:59] <reem> ya…
[00:43:32] <reem> I have a gigantic new feature (like ~1000 loc changed) that depends on this…
[00:43:34] *** Quits: lenstr (lenstr@moz-vho.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[00:43:49] *** Joins: lenstr (lenstr@moz-vho.vju.25.171.IP)
[00:43:59] *** Quits: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[00:44:10] *** Joins: Guest_ (textual@moz-rtn.fg7.77.192.IP)
[00:44:41] *** Quits: lenstr (lenstr@moz-vho.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[00:44:42] *** Quits: jimb (user@moz-09a.i8g.126.207.IP) (Ping timeout: 121 seconds)
[00:44:46] <reem> scott: I think it is angered by the reference to Self in X<Self>, even though it shouldn’t be
[00:44:55] *** Quits: rkruppe (chatzilla@moz-7m9kvt.diu2.0rth.0908.2a02.IP) (Ping timeout: 121 seconds)
[00:45:12] *** Quits: lawki (lawki@moz-8t2ukr.abo.wanadoo.fr) (Ping timeout: 121 seconds)
[00:45:29] <scott> I'm guessing it doesn't look inside X<Self> to check that it doesn't use Self by-value
[00:45:59] *** Quits: chmanchester (Chris@moz-h1c.ktt.28.204.IP) (Quit: Leaving)
[00:46:15] *** Joins: chmanchester (chmancheste@moz-h1c.ktt.28.204.IP)
[00:46:27] *** Quits: btobolaski (btobolaski@moz-fsmk90.fios.verizon.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[00:46:50] *** Quits: robe (robe@moz-gg3dee.compute.amazonaws.com) (Quit: ZNC - http://znc.in)
[00:47:19] <reem> it shouldn’t have to
[00:47:22] *** Quits: simukis1 (nagisa@moz-8t068g.static.zebra.lt) (Quit: Leaving.)
[00:47:36] <reem> X<SpecialFnBox> is legal, since X<T: ?Sized>
[00:47:42] <reem> that’s all the inspection that is needed
[00:48:04] *** Quits: hjr3 (hradtke@moz-pp9.av4.169.69.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[00:49:05] <bluss> I don't understand. using Self in arguments is incompatible with object safety
[00:49:30] <reem> Self can be the trait object type itself
[00:49:35] <reem> s/can be/is/
[00:49:49] <reem> in the “object impl” of SpecialFnBox for SpecialFnBox
[00:50:34] <bluss> I don't think you can be sure that it's safe to do that replacement
[00:50:42] *** Quits: jdm (jdm@moz-ul43ak.dsl.bell.ca) (Quit: )
[00:50:51] <bluss> if I impl your trait for i32 an f32
[00:50:52] *** Quits: Guest_ (textual@moz-rtn.fg7.77.192.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[00:51:00] <scott> oh, right...
[00:51:29] <scott> then you could call the method on a trait object with different types for each use of Self
[00:51:38] <scott> since they'd all be casted to the same trait object type
[00:52:53] <bluss> it's the same reason Eq is not object safe
[00:53:47] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[00:54:48] <reem> I’m not sure what you mean
[00:54:52] <reem> can you write a code example?
[00:55:00] <reem> I can’t think of a way in which this is somehow unsafe.
[00:55:32] *** Quits: lov2cod (Adium@moz-7akq8k.u583.gjp6.0119.2620.IP) (Ping timeout: 121 seconds)
[00:55:44] <reem> scott bluss: If you call this with X containing a SpecialFnBox trait object that is a different concrete type that is totally fine.
[00:55:58] *** Quits: tomprogrammer (thomas@moz-lcud7p.tr5r.qept.4dd0.2001.IP) (Quit: WeeChat 1.1.1)
[00:56:20] <bluss> rustc doesn't know that all the impls respect that
[00:56:31] *** Quits: andrewd18 (andrew@moz-o8v7av.res.rr.com) (Quit: Leaving.)
[00:56:48] <reem> You have to respect that
[00:56:53] <reem> you can’t not respect it
[00:57:01] <reem> this code is the same as http://is.gd/96Cku3
[00:57:04] *** Quits: ytain (ytain@moz-hut.ooe.161.108.IP) (Quit: Textual IRC Client: www.textualapp.com)
[00:57:25] <bluss> which is also not object safe
[00:57:27] <reem> the self argument isn’t special, if you can take Box<Self> where Self == SpecialFnBox, then you can take another argument of Box<Self> where Self == SpecialFnBox
[00:57:40] <reem> bluss: right, but rustc is wrong, there’s no reason it couldn’t be object safe
[00:57:47] *** Joins: marky (jose@moz-n98a4h.org)
[00:58:02] *** Joins: yuja (yuja@moz-9bkrqb.pikara.ne.jp)
[00:58:18] <bluss> I don't think so
[00:58:28] *** Quits: Guest63 (textual@moz-ttd.2as.255.109.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[00:58:47] *** Quits: DerisiveLogic (smuxi@moz-g93io6.res.rr.com) (Ping timeout: 121 seconds)
[00:58:59] <bstrie> does vim ship with rust highlighting yet?
[00:59:59] <reem> bluss: Can you construct an example or something to show me what you mean?
[01:00:10] <bluss> reem: http://is.gd/RTZOZl
[01:00:13] <bluss> yes I'm trying
[01:00:22] <niconii> bstrie: i have rust highlighting in vim and didn't install anything for that, so i'm thinking yes? unless installing rust did that for some reason
[01:00:39] <bluss> what would happen if you would call do_boxed with one of each kind
[01:00:49] *** Joins: saml_ (saml@moz-rkfmct.res.rr.com)
[01:01:00] <reem> bluss: Ah I see what you are saying - I don’t want to be able to call Box<SpecialFnBox>.do_boxed with a Box<String>
[01:01:24] <bluss> then don't take X<Self> but X<SpecialFnBox>
[01:01:26] <bluss> which is ok
[01:01:53] <niconii> bstrie: though the syntax highlighting isn't *completely* up-to-date from what i can tell (special highlighting for things like "Reader" and "Writer" which no longer exist, but none for "Read" and "Write")
[01:01:55] *** Quits: Ms2ger (Ms2ger@moz-f3v.iou.182.91.IP) (Quit: nn)
[01:02:06] <reem> bluss: but then I can’t impl for SpecialFnBox + Send
[01:02:19] <bluss> niconii: Read is not in the prelude, so that's why
[01:02:23] <reem> bluss: what I’m actually trying to do here is allow X to be instantiated with both FnBox and FnBox + send
[01:02:43] <bluss> reem: well we don't have templates for traits like that
[01:02:43] <reem> e.g. actually use trait DSTs for their true purpose :P
[01:02:55] <bluss> you can't parameterise over traits
[01:03:01] <reem> yes you can, DSTs
[01:03:25] <bluss> ok I'm too tired to think. I'm only repeating what I know :)
[01:03:35] <bluss> can't learn new stuff
[01:03:47] <reem> if I say struct X<T: ?Sized(Box<T>); I can have X<FnBox> and X<FnBox + Send>
[01:03:51] <reem> alright :)
[01:04:02] *** Joins: Izacht13 (Izacht13@moz-gee645.atsnmeam.ccmaine.net)
[01:06:02] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[01:07:27] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[01:07:37] *** Quits: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[01:08:44] *** Quits: slurps-mad-rips (slurps-mad-@moz-o2c.uaj.44.17.IP) (Quit: Connection reset by bear)
[01:09:23] *** Joins: Wild_Cat (Max@moz-na0tak.dsl.teksavvy.com)
[01:09:30] *** Quits: ssammy (Mibbit@moz-reablc.res.rr.com) (Quit: http://www.mibbit.com ajax IRC Client)
[01:09:42] *** Joins: atomic (atomic@moz-32rrpe.snydernet.net)
[01:10:04] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Ping timeout: 121 seconds)
[01:11:19] *** Quits: zzing (textual@moz-jucm1n.cpe.distributel.net) (Ping timeout: 121 seconds)
[01:11:20] *** Quits: JagaJaga (JagaJaga@moz-ua8.hhl.62.178.IP) (Ping timeout: 121 seconds)
[01:13:18] *** Quits: bkearns (Adium@moz-rudtng.static.wiline.com) (Quit: Leaving.)
[01:13:47] *** Quits: mkoskar (mkoskar@moz-6d47kv.torservers.net) (Ping timeout: 121 seconds)
[01:14:20] *** Joins: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se)
[01:14:25] *** Quits: InfiniteJacuzzi (darren@moz-804egb.dyn.optonline.net) (Quit: WeeChat 1.1.1)
[01:14:53] *** Joins: Borg (smuxi@moz-97jvbc.redstation.co.uk)
[01:15:55] *** Joins: zzing (textual@moz-jucm1n.cpe.distributel.net)
[01:17:38] *** Joins: brianloveswords (brianlovesw@moz-tq78gs.fios.verizon.net)
[01:18:26] *** Quits: brianloveswords (brianlovesw@moz-tq78gs.fios.verizon.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[01:19:18] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[01:19:46] *** Quits: Borg (smuxi@moz-97jvbc.redstation.co.uk) (Connection closed)
[01:23:27] *** Joins: nedp (nedp@moz-vg6vvt.bigpond.net.au)
[01:24:03] *** Joins: kazimuth (james@moz-m67.l4o.189.18.IP)
[01:25:42] *** Quits: breiska (breiska@moz-sdntg3.dhcp.inet.fi) (Quit: leaving)
[01:25:54] *** Joins: breiska (breiska@moz-sdntg3.dhcp.inet.fi)
[01:26:17] *** Quits: zcourts (zcourts@moz-7ms809.cable.virginm.net) (Client exited)
[01:27:00] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[01:29:47] *** Quits: playjax (chatzilla@moz-k5s6hh.optusnet.com.au) (Quit: ChatZilla 0.9.91.1 [Firefox 32.0.1/20140911151253])
[01:31:06] *** Quits: nedp (nedp@moz-vg6vvt.bigpond.net.au) (Connection closed)
[01:31:57] *** Quits: Perceptes (Perceptes@moz-oaa.ifu.101.75.IP) (Quit: Leaving.)
[01:37:03] *** Joins: dawehner (quassel@moz-h829oe.hsi6.kabel-badenwuerttemberg.de)
[01:37:46] *** Quits: zzmp (zzmp@moz-5p1.h2b.247.173.IP) (A TLS packet with unexpected length was received.)
[01:38:08] *** Quits: fabianvf (fabianvf@moz-fjqmui.va.comcast.net) (Connection closed)
[01:39:28] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[01:39:34] *** Quits: reed (reed@tech.monkey) (RecvQ exceeded)
[01:39:52] *** Quits: iamtyler (Adium@moz-uhc.i3g.162.66.IP) (Quit: Leaving.)
[01:39:53] *** Joins: reed (reed@tech.monkey)
[01:41:09] <fkaa> how do you compile with highest optimizations with rustc?
[01:41:16] <sinistersnare> -03
[01:41:31] *** Quits: dawehner (quassel@moz-h829oe.hsi6.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[01:43:05] *** Joins: achanda (achanda@moz-qv7q4n.ca.comcast.net)
[01:43:12] *** Joins: idk_erikson (quassel@moz-nto6je.hsi04.unitymediagroup.de)
[01:43:41] *** Joins: Racquetball (namestolenw@moz-nof0ce.res.rr.com)
[01:44:01] *** Joins: andrewseidl (andrewseidl@moz-7e86q0.aas.io)
[01:44:39] *** Joins: iamtyler (Adium@moz-uhc.i3g.162.66.IP)
[01:45:23] *** Quits: trwired (trwired@moz-itmlma.kofeina.net) (Connection closed)
[01:45:40] *** Joins: lenstr (lenstr@moz-vho.vju.25.171.IP)
[01:45:50] *** Quits: davebettin (davebettin@moz-acc.cl4.35.72.IP) (Ping timeout: 121 seconds)
[01:46:12] *** Quits: lenstr (lenstr@moz-vho.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[01:46:22] *** Joins: da-kid (da@moz-url7nl.dip0.t-ipconnect.de)
[01:46:27] *** Joins: lenstr (lenstr@moz-vho.vju.25.171.IP)
[01:47:14] *** Quits: idk_erikson (quassel@moz-nto6je.hsi04.unitymediagroup.de) (Ping timeout: 121 seconds)
[01:47:30] *** Quits: lenstr (lenstr@moz-vho.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[01:47:43] *** Quits: Racquetball (namestolenw@moz-nof0ce.res.rr.com) (Ping timeout: 121 seconds)
[01:48:08] *** Joins: tyoverby (tyoverby@moz-6hdod5.cs.washington.edu)
[01:49:11] *** Quits: da-kid_ (da@moz-gfiuv1.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[01:49:17] *** Joins: TheDan64 (TheDan64@moz-3f1.e79.63.129.IP)
[01:49:24] *** Joins: Guest67 (textual@moz-gfs9v0.fios.verizon.net)
[01:49:28] *** Quits: xrl (uid1091@moz-f0543s.brockwell.irccloud.com) (Quit: Connection closed for inactivity)
[01:49:31] *** Joins: nedp (nedp@moz-vg6vvt.bigpond.net.au)
[01:50:41] *** Joins: nil (nil@moz-5impap.p5sj.b1d9.0003.2601.IP)
[01:50:56] *** Joins: brianloveswords (brianlovesw@moz-tq78gs.fios.verizon.net)
[01:51:20] <drasa> Hey, what's the easiest way to replace a regex! macro for 1.0 compliance? Regex::new().unwrap() would do, but the codebase is initializing the Regex to a static variable, and rustc won't allow constructing it directly there.
[01:51:34] <drasa> *into
[01:51:38] *** Quits: brianloveswords (brianlovesw@moz-tq78gs.fios.verizon.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[01:52:22] *** Joins: manlycode (manlycode@moz-q1mb3q.mi.comcast.net)
[01:52:41] <mbrubeck> drasa: Would https://github.com/Kimundi/lazy-static.rs work for that?
[01:53:20] <manlycode> I'm fleshing out a library, and I get a ton of "x is never used" warnings. They're used in tests though. Is there a way to temporarily quitet these kind of warnings?
[01:53:57] <mbrubeck> manlycode: You can put #[cfg(test)] in front of each such item
[01:54:09] *** Joins: annodomini (lambda@moz-qgii5v.ma.comcast.net)
[01:54:12] *** Quits: annodomini (lambda@moz-qgii5v.ma.comcast.net) (Client exited)
[01:54:17] <mbrubeck> manlycode: Or if you have a lot of them but they're only temporary, put #![allow(unused_variables)] in your crate or module root
[01:54:49] <mbrubeck> (I think that's the right lint name...)
[01:55:21] *** Quits: Rym (y@moz-rmaga4.range86-187.btcentralplus.com) (Connection closed)
[01:55:31] <manlycode> Cool. Thanks mbrubeck!
[01:55:34] *** Joins: Rym (y@moz-rmaga4.range86-187.btcentralplus.com)
[01:55:38] *** Quits: scientes_ (scientes@moz-l6hdmu.wa.comcast.net) (Ping timeout: 121 seconds)
[01:56:25] *** Quits: Guest67 (textual@moz-gfs9v0.fios.verizon.net) (Quit: Textual IRC Client: www.textualapp.com)
[01:58:37] *** Joins: playjax (chatzilla@moz-k5s6hh.optusnet.com.au)
[01:58:59] *** Quits: claudiop (claudiop@moz-sqo2tm.cpe.netcabo.pt) (Connection closed)
[01:59:21] *** Joins: scientes_ (scientes@moz-l6hdmu.wa.comcast.net)
[01:59:52] *** Joins: tristanseifert (tristanseif@moz-r0t7ns.res.rr.com)
[02:01:49] *** Quits: tyoverby (tyoverby@moz-6hdod5.cs.washington.edu) (Connection closed)
[02:03:47] <drasa> mbrubeck: Seems promising, I'll try that one!
[02:05:36] *** Joins: fkaa_ (tundmatu@moz-501od2.business.telia.com)
[02:06:04] *** Quits: fkaa (tundmatu@moz-3gjfoq.cust.tele2.se) (Connection closed)
[02:08:31] *** Quits: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[02:08:38] *** Quits: iamtyler (Adium@moz-uhc.i3g.162.66.IP) (Quit: Leaving.)
[02:09:16] <drasa> mbrubeck: It works! Thank you!
[02:11:29] *** Joins: davebettin (davebettin@moz-acc.cl4.35.72.IP)
[02:15:28] *** Joins: hatman (Mibbit@moz-irj.eoq.214.186.IP)
[02:15:28] *** Quits: g5pw (g5pw@moz-4e9gb9.me) (Connection closed)
[02:15:40] *** Quits: davebettin (davebettin@moz-acc.cl4.35.72.IP) (Ping timeout: 121 seconds)
[02:15:57] *** Joins: claudiop (claudiop@moz-sqo2tm.cpe.netcabo.pt)
[02:16:40] <hatman> is the memory layout of enum { Ex(u16, u16) } well defined? 
[02:16:59] <sinistersnare> IIRC no hatman 
[02:18:06] <claudiop> Hi. How can I suffix an integer value so it becomes its ASCII char? Like making 65 become the letter A
[02:18:21] <sinistersnare> if you want a well defined layout you need #[repr(C)] 
[02:18:44] <claudiop> 65char just by itself outputs "illegal suffix `char` for numeric literal"
[02:18:47] <talchas> playbot: 65 as char  // claudiop 
[02:18:48] -playbot- 'A'
[02:18:49] *** Joins: g5pw (g5pw@moz-5i3.7ej.244.162.IP)
[02:18:52] <talchas> there's no suffix
[02:19:37] <bombless> http://doc.rust-lang.org/complement-design-faq.html#data-layout-is-unspecified
[02:20:01] <claudiop> talchas, "It outputs error: unterminated character constant: '6"
[02:20:56] <talchas> claudiop: no single-quote
[02:21:13] *** Joins: dfinninger (dfinninger@moz-o78v05.fios.verizon.net)
[02:21:27] <talchas> (or just use 'x' or whatever, if it's something unprintable '\x01' works iirc)
[02:21:49] <manlycode> I'm trying to pass a vector index to a function (line 13) but I get errors trying to evaluate it: http://is.gd/Hx3hyg
[02:21:52] <manlycode> any suggestions?
[02:22:53] <manlycode> The error I see is "error: the trait `core::ops::Index<i16>` is not implemented for the type `[u8]`"
[02:23:17] <claudiop> talchas, I have no need for it. Just was curious because when I began reading C some time ago, there were a few algorithms that could be done by using numbers for ASCII char's representation
[02:23:24] *** Quits: QuadTan (Tan@moz-r5oa06.student.uu.se) (Quit: Leaving)
[02:23:33] <claudiop> If i wanted to use 'A' i would :p
[02:23:39] *** Joins: choplin (choplin@moz-qkm9un.ap.nuro.jp)
[02:23:40] <talchas> manlycode: two things: remove the semicolon, and self.map[address as usize]
[02:24:04] *** Joins: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se)
[02:24:24] *** Joins: rmgk (ragnar@moz-uapc1p.dyn.telefonica.de)
[02:25:54] <manlycode>  talchas: works like a charm. thank you.
[02:26:56] *** Joins: turtil (turtil@moz-8am.857.98.121.IP)
[02:27:03] *** Joins: QuadTan (Tan@moz-r5oa06.student.uu.se)
[02:27:23] *** Quits: kimundi (kimundi@moz-tnjjh1.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[02:27:41] *** Quits: choplin (choplin@moz-qkm9un.ap.nuro.jp) (Ping timeout: 121 seconds)
[02:27:49] *** Quits: rmgk_ (ragnar@moz-p56990.dyn.telefonica.de) (Ping timeout: 121 seconds)
[02:28:27] *** Joins: zz_kimundi (kimundi@moz-3muk93.dip0.t-ipconnect.de)
[02:28:44] *** zz_kimundi is now known as kimundi
[02:29:05] *** Joins: scemin (scemin@moz-6v59cl.user.start.ca)
[02:29:54] *** Joins: GGist (Mibbit@moz-st7v59.wa.comcast.net)
[02:30:21] *** Quits: Izacht13 (Izacht13@moz-gee645.atsnmeam.ccmaine.net) (Quit: Leaving)
[02:32:05] *** Quits: dfinninger (dfinninger@moz-o78v05.fios.verizon.net) (Connection closed)
[02:32:13] *** Joins: tadh (quassel@moz-88tk3f.res.rr.com)
[02:32:15] *** Quits: scemin (scemin@moz-6v59cl.user.start.ca) (Client exited)
[02:33:13] *** Joins: raph (raph@moz-erv.4ra.239.216.IP)
[02:37:27] *** Joins: KLP (KLP@moz-qdcjho.res.rr.com)
[02:38:17] *** Joins: zzmp (zzmp@moz-vt5a07.12ul.lrlq.5500.2604.IP)
[02:38:49] *** Joins: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net)
[02:41:26] *** Joins: summerlight (summerlight@moz-99k.2mj.130.121.IP)
[02:42:11] *** Quits: hatman (Mibbit@moz-irj.eoq.214.186.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[02:42:39] *** Quits: zzmp (zzmp@moz-vt5a07.12ul.lrlq.5500.2604.IP) (Ping timeout: 121 seconds)
[02:42:48] <KLP> "error: the trait `core::cmp::PartialEq<_>` is not implemented for the type `&i32`" is `x != 2` not kosher ?
[02:43:13] *** Quits: pyon (suckmy@moz-v9d.mdl.7.179.IP) (Quit: I have irrefutable proof that D < 0. It follows trivially from 2D > 3D, which is obviously true.)
[02:43:17] <mbrubeck> KLP: `*x != 2`
[02:43:19] <Sgeo_> Is the examples directory documented somewhere?
[02:43:28] <Sgeo_> I need to test how my code works in an external trait
[02:43:33] <Sgeo_> *crate
[02:43:58] <mbrubeck> Sgeo_: Not extensively: http://doc.crates.io/manifest.html#examples
[02:44:02] *** Joins: pyon (pyon@moz-v9d.mdl.7.179.IP)
[02:44:05] <p1start> Sgeo_: Normally you use tests/ for that
[02:44:11] <p1start> examples is just for examples
[02:44:14] <KLP> mbrubeck: thanks
[02:44:22] *** Quits: manlycode (manlycode@moz-q1mb3q.mi.comcast.net) (Ping timeout: 121 seconds)
[02:44:34] <Sgeo_> p1start, ok. Is each test compiled in a separate crate or all the same crate?
[02:44:35] *** Joins: davebettin (davebettin@moz-acc.cl4.35.72.IP)
[02:45:13] <mbrubeck> Sgeo_: Files in test/*rs are each compiled as separate crates
[02:45:21] <Sgeo_> ty
[02:45:23] *** Joins: zzmp (zzmp@moz-vt5a07.12ul.lrlq.5500.2604.IP)
[02:45:47] *** Quits: ai (ai@moz-pqofrl.sunline.net.ua) (Quit: Leaving.)
[02:46:22] <Sgeo_> I wish macros could disable coherence checking. Like, if a macro that crate ABC provides is run from crate BCD, I assume the macro knows what it's doing
[02:46:35] *** Quits: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[02:46:45] <Sgeo_> Not disable full checking, but... should be allowed to act as though in originating crate
[02:47:23] <mbrubeck> Yeah, I wish there more escape valves for coherence.
[02:47:41] <mbrubeck> You can always do the newtype thing... maybe a macro could make that less painful?
[02:47:51] *** Joins: lenstr (lenstr@moz-vho.vju.25.171.IP)
[02:48:33] *** Quits: naerbnic (naerbnic@moz-q2p.4ra.239.216.IP) (Client exited)
[02:50:25] *** Quits: lenstr (lenstr@moz-vho.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[02:50:30] *** Joins: viktor (viktor@moz-704qgr.cust6.csbnet.se)
[02:50:40] *** Joins: lenstr (lenstr@moz-vho.vju.25.171.IP)
[02:50:45] *** Joins: manlycode (manlycode@moz-q1mb3q.mi.comcast.net)
[02:51:49] *** Quits: lenstr (lenstr@moz-vho.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[02:52:14] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[02:52:16] *** Quits: veddan (viktor@moz-v5cdfj.cust6.csbnet.se) (Ping timeout: 121 seconds)
[02:52:59] *** Joins: marsel (user@moz-530.u29.180.94.IP)
[02:53:40] <scientes_> does rust work with llvm mainline?
[02:54:12] *** Joins: narann_ (narann@moz-79v.5nu.192.199.IP)
[02:54:26] *** Quits: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com) (Ping timeout: 121 seconds)
[02:55:38] *** darkowlzz|afk is now known as darkowlzz
[02:55:49] *** Joins: brianloveswords (brianlovesw@moz-tq78gs.fios.verizon.net)
[02:55:51] *** Quits: narann (narann@moz-mjj.eaj.250.162.IP) (Ping timeout: 121 seconds)
[02:56:08] *** Joins: Hail_Spacecake (greg@moz-djc.ktt.28.204.IP)
[02:56:17] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Ping timeout: 121 seconds)
[02:57:24] <Hail_Spacecake> I'm writing a raytracer, and I want to multithread the per-pixel ray tracing process
[02:57:37] <Hail_Spacecake> I'm not super-familiar with writing parallel code
[02:58:28] <Hail_Spacecake> since this is raytracing I should just be able to spawn a thread for each pixel, and then when it's done write the color into the right spot in a pre-allocated buffer, I think
[02:58:58] <Hail_Spacecake> but I'm not sure what rust consructs I should be looking into for how to do the thread-spawning
[02:59:13] *** Quits: zzing (textual@moz-jucm1n.cpe.distributel.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[03:00:07] *** Quits: brianloveswords (brianlovesw@moz-tq78gs.fios.verizon.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[03:00:13] *** Joins: brianloveswords (brianlovesw@moz-tq78gs.fios.verizon.net)
[03:00:56] <reem> scientes_: No, we use a fork with a few changes.
[03:01:35] <reem> Hail_Spacecake: You probably want to use a bit less granularity than per-pixel.
[03:01:51] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[03:02:04] <reem> Hail_Spacecake: You might find you have a bit of trouble doing this without thread::scoped, particularly avoiding synchronizing access to the shared array
[03:02:42] *** Quits: KLP (KLP@moz-qdcjho.res.rr.com) (Quit: http://www.kiwiirc.com/ - A hand crafted IRC client)
[03:03:24] *** Quits: colinsurprenant (colin@moz-q9ee1n.74.electronicbox.net) (Client exited)
[03:03:41] <mbrubeck> Hail_Spacecake: Maybe you'd like a work queue... https://github.com/servo/servo/blob/master/components/util/workqueue.rs
[03:04:03] *** Joins: Guest_ (textual@moz-rtn.fg7.77.192.IP)
[03:04:23] <reem> mbrubeck: What is the material difference between using that and just threadpool::ThreadPool?
[03:04:27] <Hail_Spacecake> if I preallocate the buffer I shouldn't need to synchronize access to it, right?
[03:04:35] <mbrubeck> reem: Not sure -- this may predate ThreadPool
[03:04:43] <Hail_Spacecake> every thread will write to the location in the array that corresponds to the pixel 
[03:04:53] <Hail_Spacecake> or is that not something rust will let me do at the language level?
[03:05:06] <reem> Hail_Spacecake: With thread::scoped yes, without it no.
[03:05:25] <mbrubeck> Hail_Spacecake: In safe rust, a thread can't write to data whose lifetime might be shorter than the thread
[03:05:40] <mbrubeck> which means that a non-`scoped` thread can only write to 'static data
[03:05:49] <mfs> Hail_Spacecake: this was a cool talk on concurrency. Info on thread::{spawn,scoped} and links at the end. http://huonw.github.io/concurrency-apr15/#0
[03:06:03] *** Quits: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[03:06:18] *** Joins: onix (Mibbit@moz-2b4rh6.fios.verizon.net)
[03:06:20] <reem> The traditional way to avoid synchronizing when accessing a shared array is to use something like split_at_mut or iter_mut to get distinct mutable references then pass those to thread::scoped
[03:06:35] *** Quits: brianloveswords (brianlovesw@moz-tq78gs.fios.verizon.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[03:06:41] <reem> That lets you use the borrow checker to ensure each thread can only access some parts of the array, and everything is safe and data-race-free without any runtime overhead
[03:06:50] <reem> but right now thread::scoped is unstable, so you can’t do that
[03:06:51] <mbrubeck> Hail_Spacecake: You can get around that by using reference counting and locking primitives, or by using `unsafe` (and ensuring the lifetimes work out yourself)
[03:08:31] *** Quits: meh (meh@moz-p5gc2m.42-151.net24.it) (Ping timeout: 121 seconds)
[03:08:52] *** Quits: onix (Mibbit@moz-2b4rh6.fios.verizon.net) (Quit: http://www.mibbit.com ajax IRC Client)
[03:08:53] *** Joins: brianloveswords (brianlovesw@moz-tq78gs.fios.verizon.net)
[03:08:59] *** Quits: brianloveswords (brianlovesw@moz-tq78gs.fios.verizon.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[03:09:03] *** Joins: brianloveswords (brianlovesw@moz-tq78gs.fios.verizon.net)
[03:09:04] *** Quits: brianloveswords (brianlovesw@moz-tq78gs.fios.verizon.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[03:09:35] *** Quits: marsel (user@moz-530.u29.180.94.IP) (Ping timeout: 121 seconds)
[03:10:39] *** Joins: zzing (textual@moz-jucm1n.cpe.distributel.net)
[03:10:58] *** Joins: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net)
[03:10:58] *** ChanServ sets mode: +ao pcwalton pcwalton
[03:11:06] *** Quits: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net) (Client exited)
[03:12:08] *** Quits: scientes_ (scientes@moz-l6hdmu.wa.comcast.net) (Ping timeout: 121 seconds)
[03:14:23] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[03:14:45] *** Joins: brianloveswords (brianlovesw@moz-tq78gs.fios.verizon.net)
[03:16:24] <claudiop> A function demands an i8. I type there a number or an unused variable (that fits an i8). What will happen? The compiler figures out that the function wants an i8 and makes that constant/variable an i8, or it makes it an i32 and casts it to an i8?
[03:16:55] <claudiop> Just to know if it is worth to suffix everything that its not meant to be an i32 or an f64
[03:17:18] <Murarth> claudiop: It infers that that value is an i8. There are no implicit casts. Just inference.
[03:18:16] <Murarth> Well, there is implicit dereference of reference types, but that's different than integer/float casts.
[03:18:19] <claudiop> Murarth, Then there's no performance hit at all. The binary would be the same as if there was an i8 suffix?
[03:18:50] <Murarth> claudiop: That's right. Suffixes are only necessary in situations where inference isn't possible, like generic functions.
[03:19:12] *** darkowlzz is now known as darkowlzz|afk
[03:19:19] <claudiop> Murarth, Thanks ;)
[03:19:35] *** Quits: nil (nil@moz-5impap.p5sj.b1d9.0003.2601.IP) (Quit: Leaving)
[03:20:01] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[03:21:23] <Hail_Spacecake> so, I remember noticing at one point that, a function that took an integer value
[03:21:33] <Hail_Spacecake> er, a function that took a float value
[03:21:36] <Hail_Spacecake> wouldn't accept an integer literal
[03:21:46] <Hail_Spacecake> I had to type 0.0 and not just 0 for something that accepted a f64
[03:21:57] <Hail_Spacecake> I don't know if that is still the case, or if that is an intentional design decision
[03:22:06] <Murarth> Yeah, literals are strict that way. I assume it's intentional.
[03:23:30] *** Quits: idegen (greg@moz-9c4nle.or.frontiernet.net) (Ping timeout: 121 seconds)
[03:26:01] *** Joins: dawehner (quassel@moz-h829oe.hsi6.kabel-badenwuerttemberg.de)
[03:27:07] *** Quits: achanda (achanda@moz-qv7q4n.ca.comcast.net) (Connection closed)
[03:27:28] *** Joins: achanda (achanda@moz-qv7q4n.ca.comcast.net)
[03:29:04] *** Quits: erz (erz@moz-efrhus.broadband.corbina.ru) (Quit: My Mac has gone to sleep. ZZZzzz…)
[03:29:37] *** Quits: Guest_ (textual@moz-rtn.fg7.77.192.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[03:30:25] *** Joins: forgottenone (forgottenon@moz-pde.j99.45.92.IP)
[03:30:28] *** Quits: dawehner (quassel@moz-h829oe.hsi6.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[03:31:30] *** Quits: achanda (achanda@moz-qv7q4n.ca.comcast.net) (Ping timeout: 121 seconds)
[03:31:38] *** Joins: idk_erikson (quassel@moz-nto6je.hsi04.unitymediagroup.de)
[03:31:50] *** Joins: diegogub (Mibbit@moz-rqnj7s.telecom.net.ar)
[03:34:26] *** Quits: davebettin (davebettin@moz-acc.cl4.35.72.IP) (Ping timeout: 121 seconds)
[03:36:20] <MetaCosm> There has to be some better way to write this: s.lines().next().unwrap().trim().parse::<usize>().ok().unwrap(); // for reading the first line of a string (from a file) into a usize.
[03:36:28] *** Quits: idk_erikson (quassel@moz-nto6je.hsi04.unitymediagroup.de) (Ping timeout: 121 seconds)
[03:40:26] *** Quits: zzmp (zzmp@moz-vt5a07.12ul.lrlq.5500.2604.IP) (A TLS packet with unexpected length was received.)
[03:42:33] *** Joins: dfinninger (dfinninger@moz-o78v05.fios.verizon.net)
[03:42:58] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[03:43:14] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[03:44:03] *** Joins: tiago1 (tiago@moz-rkleei.dsl.telepac.pt)
[03:45:53] *** Quits: srh (User@moz-mb8h9g.ca.charter.com) (Quit: Leaving)
[03:46:35] *** Quits: dfinninger (dfinninger@moz-o78v05.fios.verizon.net) (Ping timeout: 121 seconds)
[03:46:53] *** Quits: tiago (tiago@moz-otpp3p.dsl.telepac.pt) (Ping timeout: 121 seconds)
[03:47:28] *** darkowlzz|afk is now known as darkowlzz
[03:47:50] *** Joins: BossKonaSegway (Michael@moz-vp8rf7.res.rr.com)
[03:50:14] <Mutabah> Is there a builtin formatter for raw strings?
[03:50:31] <Mutabah> I.e. Print a [u8] as b"bytes"
[03:51:19] *** Joins: hoony (Thunderbird@moz-q5r.8e9.96.183.IP)
[03:52:10] *** Joins: lenstr (lenstr@moz-vho.vju.25.171.IP)
[03:52:10] *** Quits: housl (housl@moz-qnjt4k.ut.comcast.net) (Quit: WeeChat 1.1.1)
[03:52:59] *** Quits: lenstr (lenstr@moz-vho.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[03:53:13] *** Joins: lenstr (lenstr@moz-vho.vju.25.171.IP)
[03:54:09] *** Quits: lenstr (lenstr@moz-vho.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[03:54:10] <passcod> Is the timeline for Rust stable still May 15th?
[03:54:36] <Havvy> passcod:  Yes.
[03:54:39] <woboats> Yes.
[03:54:47] *** Quits: polyfractal (polyfractal@moz-v88dif.artists.westelcom.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[03:54:53] <passcod> good, thanks
[03:55:17] *** Joins: scientes (scientes@moz-l6hdmu.wa.comcast.net)
[03:55:53] *** Joins: jonalmeida-mobile (jonathan@moz-5j8.kvb.131.104.IP)
[03:57:33] <mbrubeck> MetaCosm: Well you can leave out the .ok()
[03:57:34] *** Joins: tyrick (tyrick@moz-q9b.0o3.144.24.IP)
[03:58:15] <tyrick> Yay.  Just installed rust
[03:58:36] <tyrick> why is the command rustc btw?
[03:58:43] <Kurufu> rust Compiler.
[03:58:45] <mbrubeck> tyrick: Just like `cc` for the C compiler
[03:58:57] <Wqer> tyrick: Make sure to get familiar with Cargo
[03:58:58] <Havvy> Or `javac` for the Java Compiler.
[03:59:20] <tyrick> makes sense
[04:00:21] *** Quits: rmdashrf (rmdashrf@moz-n1r.cr0.54.128.IP) (Quit: WeeChat 0.4.2)
[04:02:14] <diegogub> hello, i'm trying to write structs and ints to a file. I'm using bincode crate..any useful link? first time with rust 
[04:02:42] <diegogub> I have a Vec<u8>, but I need &[u8]
[04:03:07] <mbrubeck> diegogub: `&vec[..]`
[04:03:11] <mbrubeck> or sometimes just `&vec`
[04:03:14] *** Quits: claudiop (claudiop@moz-sqo2tm.cpe.netcabo.pt) (Ping timeout: 121 seconds)
[04:04:14] *** Joins: w4ffles (w4ffles_@moz-krqhvd.3l9u.jbps.6000.2605.IP)
[04:04:36] *** Quits: Diggsey (diggsey@moz-abvo78.dsl.pipex.com) (Ping timeout: 121 seconds)
[04:05:07] <diegogub> I mean, I need to cast Vec<u8> to &[u8]..
[04:05:24] <Mutabah> diegogub: A &[u8] is a borrowof the Vec<u8>
[04:05:33] <Mutabah> diegogub: So, by slicing into the Vec, you obtain a borrow of it
[04:06:34] <diegogub> aah thanks, i got it. one is fixed, while Vec can grow in size.. right?
[04:06:44] *** Quits: brianloveswords (brianlovesw@moz-tq78gs.fios.verizon.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[04:06:56] <Mutabah> Kinda...
[04:07:19] <mbrubeck> diegogub: &[u8] is just a fat pointer (address+length) to a slice of the Vec
[04:07:24] <Mutabah> diegogub: A &[u8] is like a pointer into a Vec (or any other array of bytes)
[04:07:32] *** Quits: new_one (new_one@moz-1bd.nva.42.128.IP) (A TLS packet with unexpected length was received.)
[04:07:38] <mbrubeck> `[u8; N]` is a fixed-sized array
[04:08:13] <jonalmeida-mobile> Is this part about C callbacks in Rust something that I can still learn from? http://doc.rust-lang.org/0.11.0/guide-ffi.html#callbacks-from-c-code-to-rust-functions
[04:08:22] <jonalmeida-mobile> I haven't found a newer up-to-date version yet
[04:08:34] <reem> The Debug output from the new io::Error is remarkably unhelpful, since it’s now just Os(number)
[04:09:05] <drasa> Hey, is there any replacement for std::fs::walk_dir on stable rust? Tried to search from cargo with keyword "walk_dir" and "walk", but with little success.
[04:09:20] <mbrubeck> jonalmeida-mobile: There might be some minor out-of-date stuff there, but at a glance it looks reasonably okay.
[04:09:22] <diegogub> thanks  @mbrubeck  @Mutabah ç
[04:09:33] <Mutabah> jonalmeida-mobile: The book has a current version of that
[04:09:33] *** Quits: diegogub (Mibbit@moz-rqnj7s.telecom.net.ar) (Quit: http://www.mibbit.com ajax IRC Client)
[04:09:42] <Mutabah> jonalmeida-mobile: (4.8 FFI)
[04:10:04] <Mutabah> reem: Display?
[04:10:19] <reem> Mutabah: Well, unwrap uses Debug.
[04:10:25] <reem> and tests frequently use unwrap
[04:11:02] <jonalmeida-mobile> Mutabah: I swear I was looking for that and I didn't find it earlier!
[04:11:17] <jonalmeida-mobile> Oh well, thanks Mutabah and mbrubeck 
[04:11:34] <reem> Mutabah: I feel like Debug should at least try to be helpful, even if it is meant to have similar structure/be auto-generated
[04:11:39] <Mutabah> reem: Yeah
[04:11:54] <Mutabah> It should probably return the symbolic name of the error (e.g. ENOENT)
[04:12:03] *** Parts: BossKonaSegway (Michael@moz-vp8rf7.res.rr.com) ()
[04:12:17] <reem> I’d rather a description
[04:12:29] <reem> node has famously bad errors because it just dumps their symbolic name
[04:13:10] <reem> I feel like error logging is a place where we are seriously behind
[04:13:20] <reem> actually figuring out what went wrong when you get a panic can be daunting
[04:13:32] <reem> even if it came from an unwrap on a type with a solid Error impl
[04:14:07] <reem> (where we *could* log the description and detail of every error in the cause chain, which would be infinitely more helpful)
[04:14:33] *** Joins: rmdashrf (rmdashrf@moz-n1r.cr0.54.128.IP)
[04:14:42] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[04:14:50] *** Joins: brson (brson@moz-sni.tdl.56.172.IP)
[04:14:50] *** ChanServ sets mode: +ao brson brson
[04:14:59] *** Quits: turtil (turtil@moz-8am.857.98.121.IP) (Ping timeout: 121 seconds)
[04:18:04] *** bentley|away is now known as bentley
[04:20:05] *** Quits: gopar (gopar@moz-5039uj.ca.comcast.net) (Connection closed)
[04:20:07] *** Joins: slashus2 (slashus2___@moz-evfg9e.res.rr.com)
[04:21:12] *** Joins: kgrandon (Adium@moz-gu8gor.hjek.d045.0009.2601.IP)
[04:21:20] *** Joins: eevee (eevee@moz-snfe52.qot6.ifqp.0470.2001.IP)
[04:21:43] <archshift> Arrays can't be default-initialized? :/
[04:22:00] <Mutabah> archshift: Depends on the size
[04:22:18] *** Quits: manlycode (manlycode@moz-q1mb3q.mi.comcast.net) (Ping timeout: 121 seconds)
[04:22:23] <archshift> error: the trait `core::default::Default` is not implemented for the type `[u8; 32]`
[04:22:30] <Mutabah> Actually... there's no impl for default on arrays
[04:22:37] <Mutabah> Interesting
[04:22:46] *** Quits: Wild_Cat (Max@moz-na0tak.dsl.teksavvy.com) (Ping timeout: 121 seconds)
[04:23:06] <Mutabah> Most traits like that have impls up to 32 entries for arrays
[04:24:25] <archshift> I guess I'll have to break out the memzero
[04:24:50] *** Quits: scientes (scientes@moz-l6hdmu.wa.comcast.net) (Ping timeout: 121 seconds)
[04:25:11] <Mutabah> yeah, that's the option I usually take
[04:26:02] *** Quits: robertknight (robertknigh@moz-pcg0sj.members.linode.com) (Ping timeout: 121 seconds)
[04:26:09] *** Quits: qlkzy (qlkzy@moz-vmi0ml.members.linode.com) (Ping timeout: 121 seconds)
[04:26:52] *** Joins: XgF (quassel@moz-2vmms7.uk.e43.eu)
[04:27:08] *** Quits: mermi (Mibbit@moz-mj803l.net.unlv.edu) (Ping timeout: 121 seconds)
[04:27:16] <Mutabah> Random - Would allowing a doc comment on trait impls be a good idea?
[04:27:33] <Mutabah> E.g. to annotate that Read on &[u8] does/doesn't update the slice?
[04:27:34] *** Quits: GGist (Mibbit@moz-st7v59.wa.comcast.net) (Ping timeout: 121 seconds)
[04:27:35] *** Quits: ewdafa (ewdafa@moz-3lnrlt.members.linode.com) (Ping timeout: 121 seconds)
[04:27:51] *** Joins: robertknight (robertknigh@moz-pcg0sj.members.linode.com)
[04:27:58] *** Joins: qlkzy (qlkzy@moz-vmi0ml.members.linode.com)
[04:28:04] *** Joins: sayan (sayan@moz-ip8.595.51.106.IP)
[04:28:19] <reem> Mutabah: +1, I have had to dig in to the source to find out the behavior of a bunch of impls in std
[04:28:37] *** Joins: ewdafa (ewdafa@moz-3lnrlt.members.linode.com)
[04:28:41] <Mutabah> Speaking of that - What does Read on &[u8] dos :D
[04:28:43] <reem> I could also apply that to documenting impls of Modifier in iron
[04:28:52] <Mutabah> I presume it doesn't update the pointer (as Cursor impls exist)
[04:29:19] <reem> I wouldn’t be so sure
[04:29:25] <reem> but I don’t remember what it does exactly
[04:29:28] *** Quits: agjacome_ (agjacome@moz-2na505.dynamic.jazztel.es) (Quit: leaving)
[04:29:53] *** Joins: dcb (textual@moz-j72nfe.ca.comcast.net)
[04:30:25] <dcb> I'm trying to do a non-bounds checked set on an array, but I can't figure out the syntax.  Any hints on what I'm doing wrong? http://is.gd/uF0npJ
[04:31:37] <Mutabah> playbot: use std::io::Read; let mut s: &[u8] = &[1,2,3,4]; let mut out = [0u8]; s.read(&mut out).unwrap(); s.read(&mut out).unwrap(); out[0]
[04:31:39] -playbot- 2
[04:31:48] <Mutabah> reem: ^ huh, looks like it does update the pointer
[04:32:02] *** Joins: gp5st (jim@moz-k130hq.east.verizon.net)
[04:32:38] *** Joins: idk_erikson (quassel@moz-nto6je.hsi04.unitymediagroup.de)
[04:32:39] *** Joins: manlycode (manlycode@moz-q1mb3q.mi.comcast.net)
[04:33:25] <mbrubeck> dcb: *array.get_unchecked_mut(0) = 1
[04:33:33] <mbrubeck> http://is.gd/sSEddh
[04:33:52] <dcb> mbrubeck: ah, of course, thank you
[04:35:44] *** Quits: DemonOne (Avi@moz-832aqt.cablep.bezeqint.net) (Ping timeout: 121 seconds)
[04:36:08] *** Quits: zaeleus (zaeleus@moz-r5abra.cpe.cableone.net) (Quit: Leaving...)
[04:37:09] *** Quits: idk_erikson (quassel@moz-nto6je.hsi04.unitymediagroup.de) (Ping timeout: 121 seconds)
[04:37:26] *** Joins: Wild_Cat (Max@moz-na0tak.dsl.teksavvy.com)
[04:38:49] *** Joins: fabianvf (fabianvf@moz-fjqmui.va.comcast.net)
[04:40:52] *** Quits: kgrandon (Adium@moz-gu8gor.hjek.d045.0009.2601.IP) (Quit: Leaving.)
[04:41:33] *** Joins: kgrandon (Adium@moz-4tg8i8.hjek.d045.0009.2601.IP)
[04:41:35] *** Joins: minot2 (kkus@moz-baj4jj.74.srtnet.com)
[04:41:41] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[04:42:39] *** Joins: wei2912 (wei2912@moz-oh8.2mf.156.175.IP)
[04:42:51] *** Quits: fabianvf (fabianvf@moz-fjqmui.va.comcast.net) (Ping timeout: 121 seconds)
[04:43:41] *** Joins: iamtyler (Adium@moz-1dtmni.wa.comcast.net)
[04:44:07] *** bentley is now known as bentley|away
[04:46:10] *** Quits: Wild_Cat (Max@moz-na0tak.dsl.teksavvy.com) (Ping timeout: 121 seconds)
[04:46:49] *** Joins: eibwen (eibwen@moz-93ooqs.dip0.t-ipconnect.de)
[04:46:53] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Ping timeout: 121 seconds)
[04:46:58] <reem> Is there a debug #[cfg] flag?
[04:47:04] <reem> for debug/release builds?
[04:48:08] *** Joins: turtil (turtil@moz-8am.857.98.121.IP)
[04:48:21] *** Quits: orangeshark (erik@moz-oo48fd.44tj.56ot.0306.2602.IP) (Quit: Leaving)
[04:48:40] *** Joins: achanda (achanda@moz-qv7q4n.ca.comcast.net)
[04:49:31] *** Quits: chmanchester (chmancheste@moz-h1c.ktt.28.204.IP) (Quit: )
[04:52:33] *** Joins: davebettin (davebettin@moz-acc.cl4.35.72.IP)
[04:53:07] <hoverbear> What happened to ringbuf?
[04:53:17] <reem> hoverbear: VecDeque
[04:53:22] <hoverbear> Ahhh
[04:53:24] <hoverbear> Ty!
[04:53:25] *** Quits: tadh (quassel@moz-88tk3f.res.rr.com) (Connection closed)
[04:54:23] *** Quits: Sgeo_ (Sgeo@moz-e55.c82.194.68.IP) (Connection closed)
[04:54:29] *** Joins: lenstr (lenstr@moz-vho.vju.25.171.IP)
[04:54:29] *** Joins: Sgeo_ (Sgeo@moz-mo8ath.dyn.optonline.net)
[04:54:34] <huon> reem: no
[04:54:48] <huon> (re debug/releae)
[04:54:52] <reem> Oh goodness I wish we could override From<T> for T where T: Error <- provide tracebacks through try! calls
[04:54:58] <huon> reem: although there is debug_assertions
[04:55:18] *** Quits: lenstr (lenstr@moz-vho.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[04:55:30] *** Joins: lenstr (lenstr@moz-vho.vju.25.171.IP)
[04:55:34] *** Joins: negge_ (nathan@moz-p79l68.fios.verizon.net)
[04:56:27] *** Quits: lenstr (lenstr@moz-vho.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[04:57:07] *** Joins: Twinklebear (Twinklebear@moz-ttrcn3.ut.comcast.net)
[04:57:28] *** Joins: whidgle (Mibbit@moz-irj.eoq.214.186.IP)
[04:57:54] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[04:58:11] <whidgle> FromPrimitive and from_u16 is gone. How do I convert from a u16 into another integral type T?
[04:58:14] *** Quits: negge (nathan@moz-p79l68.fios.verizon.net) (Ping timeout: 121 seconds)
[04:58:30] *** Quits: Rym (y@moz-rmaga4.range86-187.btcentralplus.com) (Connection closed)
[04:59:00] <mbrubeck> reem: #[cfg(not(ndebug))]
[05:00:13] *** Quits: narann_ (narann@moz-79v.5nu.192.199.IP) (Quit: Leaving)
[05:00:26] *** Joins: anders (andars@moz-bsldst.sntcca.sbcglobal.net)
[05:01:57] <mbrubeck> hmm, not sure that's built in... it's used by the logging crate
[05:03:45] <mbrubeck> Ah, #[cfg(debug_assertions)]
[05:03:48] *** Joins: skade (skade@moz-jjlf9r.dip0.t-ipconnect.de)
[05:04:03] <mbrubeck> is the new not(ndebug)
[05:04:10] <hoverbear> How can I create say `[1,2,3,4,5]` with something of a range call? `[0..5]`?
[05:04:35] *** Quits: turtil (turtil@moz-8am.857.98.121.IP) (Connection closed)
[05:04:43] *** Joins: turtil (turtil@moz-8am.857.98.121.IP)
[05:05:04] *** Joins: scientes (scientes@moz-l6hdmu.wa.comcast.net)
[05:06:55] <niconii> hoverbear: the equivalent of [1,2,3,4,5] is [1..6]
[05:07:28] <niconii> hoverbear: er, wait wait wait, you want to make an array from a range?
[05:07:39] <hoverbear> niconii: A slice yeah
[05:07:53] <reem> hoverbear: You can get &[T] with &x[range]
[05:07:54] <niconii> hoverbear: sorry, wasn't paying much attention, er
[05:08:04] <hoverbear> playbot: let foo = [0..5]; println!("{}", foo)
[05:08:05] -playbot- output truncated; full output at: http://bit.ly/1DQPJHK
[05:08:18] <reem> ah, you can get a Vec but not an array
[05:08:24] <reem> since the length of the range is dynamic
[05:08:32] <reem> (in the general case)
[05:08:47] <whidgle> Maybe if you .collect the range iterator
[05:08:52] <whidgle> like so 
[05:08:54] <whidgle> let x: Vec<i32> = (0..5).collect()
[05:08:59] <hoverbear> Hmmm wait I think that worked
[05:08:59] <mbrubeck> Can't collect into a fixed-length array though
[05:09:06] <whidgle> Oh yeah a slice
[05:09:10] <hoverbear> playbot: let foo = [0..5]; println!("{:?}", foo)
[05:09:12] -playbot- [0..5]
[05:09:12] -playbot- ()
[05:09:19] <hoverbear> Okay why doesn't it work in my code :S
[05:09:24] <reem> you can’t collect into a slice/array only a Vec
[05:09:26] <mbrubeck> hoverbear: That's a [Range<i32>; 1]
[05:09:32] <hoverbear> Oh you're right
[05:09:34] <reem> (or other collect-able data structures)
[05:09:36] <mbrubeck> That is, an array with one element (0..5)
[05:09:38] <niconii> playbot: (0..5).collect::<Vec<u8>>()
[05:09:39] -playbot- [0, 1, 2, 3, 4]
[05:09:51] <hoverbear> (0..5) is odd syntax o.o
[05:10:02] <reem> 0..5 is the literal, () is just grouping
[05:10:15] <reem> so it’s not 0 .. (5.collect())
[05:10:24] <hoverbear> Ahh
[05:10:25] <niconii> hoverbear: it's an exclusive range, i don't think inclusive range syntax has hit yet?
[05:10:40] <mbrubeck> A macro `array![0..6]` should be possible, right?
[05:10:42] <niconii> hoverbear: 0..5 would be equivalent to 0...4 once it does
[05:10:58] <reem> mbrubeck: A syntax extension, but not a macro
[05:11:22] <archshift> woo NIH deserializing
[05:11:50] <niconii> hoverbear: (the reasoning behind the dots is like, if you have 0..10 and 0...10, "more dots means more numbers", so 0...10 includes 10)
[05:11:57] <hoverbear> Right
[05:12:24] *** Quits: davebettin (davebettin@moz-acc.cl4.35.72.IP) (Ping timeout: 121 seconds)
[05:14:16] <mbrubeck> Well you can do a dumb macro, at least: http://is.gd/SevnT2
[05:15:00] <mbrubeck> (only works with ranges that start at 0)
[05:15:21] <hoverbear> Oh dear I can't use `max_by` in the beta? o.o
[05:17:49] *** Joins: mindtree (Mitch@moz-p8h.mdh.138.202.IP)
[05:19:50] <Mutabah> Huh... try! in libcore doesn't use the From trait
[05:19:52] <Sgeo_> mbrubeck, that only works for constan bs
[05:20:15] *** Quits: skade (skade@moz-jjlf9r.dip0.t-ipconnect.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[05:20:31] *** Quits: minot2 (kkus@moz-baj4jj.74.srtnet.com) (Connection closed)
[05:20:33] <whidgle> How do I implement this test function properly? http://is.gd/Vlt4O3
[05:20:44] <whidgle> I was using FromPrimitive before but it got removed
[05:20:56] <whidgle> T in test will always be a integer type
[05:20:56] <Mutabah> whidgle: Use the num crate's FromPrimitive
[05:21:41] <whidgle> Mutabah: Hmm isn't that the one that got removed recently?
[05:22:04] <mbrubeck> Slightly smarter macro: http://is.gd/3EXsuB
[05:22:16] <mbrubeck> s/smarter/more flexible/
[05:22:22] <Mutabah> whidgle: the num module was removed, in favor of the num crates.io crate
[05:23:21] *** Quits: zzing (textual@moz-jucm1n.cpe.distributel.net) (Ping timeout: 121 seconds)
[05:24:09] <archshift> https://doc.rust-lang.org/std/string/struct.String.html#method.from_utf8 <- why does this take a vec while all the others take slices?
[05:24:20] *** Quits: woboats (tatterdemal@moz-a0dnkb.ca.comcast.net) (Connection closed)
[05:24:24] *** Quits: dcb (textual@moz-j72nfe.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[05:24:57] <Mutabah> archshift: it takes a Vec by value
[05:25:11] <mbrubeck> archshift: If you have a slice, you get a slice: file:///usr/local/share/doc/rust/html/std/str/fn.from_utf8.html
[05:25:19] <Mutabah> archshift: It uses that Vec as the interior of the returned String (Avoiding a new allocation
[05:25:25] <mbrubeck> oops https://doc.rust-lang.org/std/str/fn.from_utf8.html
[05:26:23] *** Joins: dcb (textual@moz-j72nfe.ca.comcast.net)
[05:27:22] *** Quits: hoony (Thunderbird@moz-q5r.8e9.96.183.IP) (Client exited)
[05:27:51] *** Joins: gsingh93 (gulshan@moz-qnbukr.mi.comcast.net)
[05:28:21] *** Joins: weirdo (Mibbit@moz-5ibsha.nsk.sibset.net)
[05:28:29] *** Quits: kazimuth (james@moz-m67.l4o.189.18.IP) (Quit: Textual IRC Client: www.textualapp.com)
[05:28:35] *** Joins: zzing (textual@moz-jucm1n.cpe.distributel.net)
[05:28:36] <raph> woohoo, all major functionality implemented in my markdown parser, and it's passing 500 of the 548 tests in the commonmark spec
[05:29:05] <raph> i'll probably release it some time next week
[05:30:52] *** Quits: tristanseifert (tristanseif@moz-r0t7ns.res.rr.com) (Ping timeout: 121 seconds)
[05:31:16] *** Quits: weirdo (Mibbit@moz-5ibsha.nsk.sibset.net) (Quit: http://www.mibbit.com ajax IRC Client)
[05:32:07] *** Quits: mindtree (Mitch@moz-p8h.mdh.138.202.IP) (Ping timeout: 121 seconds)
[05:33:01] *** Quits: whidgle (Mibbit@moz-irj.eoq.214.186.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[05:33:21] *** Joins: skade (skade@moz-jjlf9r.dip0.t-ipconnect.de)
[05:36:01] <hoverbear> raph: I was just looking for a markdown lib!
[05:36:33] <raph> hoverbear: i think you might like this one :)
[05:36:47] <hoverbear> raph: Can't wait.
[05:36:58] <raph> out of curiosity, what are you using it for?
[05:37:09] <hoverbear> raph: Rust powered Blog
[05:37:23] <raph> excellent
[05:37:24] <archshift> that's...unorthodox
[05:37:34] <raph> are you okay with plain commonmark, or do you need extensions?
[05:37:48] *** Quits: TheDan64 (TheDan64@moz-3f1.e79.63.129.IP) (Quit: Leaving)
[05:37:49] <hoverbear> It's ghost right now which is some gnarly node/sql
[05:38:34] <hoverbear> raph: Common is fine. I use highlightjs to do syntax. Would love to disable __ support though so I can use my MathJAX without escaping everything
[05:38:52] *** Quits: gsingh93 (gulshan@moz-qnbukr.mi.comcast.net) (Ping timeout: 121 seconds)
[05:39:16] <raph> hoverbear: I haven't started putting in options yet, but that sounds simple enough
[05:39:26] <hoverbear> raph: I'm excited for it regardless. :)
[05:39:34] <raph> highlightjs means the syntax highlighting is done client-side?
[05:39:52] <hoverbear> raph: Yeah! I just want a static site generator so I can make nginx host it for me
[05:40:06] <hoverbear> Should be quick to do.
[05:40:14] *** Joins: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com)
[05:40:16] <hoverbear> I saw a mustache impl around for templates.
[05:40:20] <raph> what's an example of a string for which the __ would get in the way?
[05:40:39] <hoverbear> raph: $ x_1 + x_2 = x_3 $
[05:40:53] *** Quits: csherratt (colin@moz-357qdq.cable.teksavvy.com) (A TLS packet with unexpected length was received.)
[05:41:07] *** Joins: csherratt (colin@moz-357qdq.cable.teksavvy.com)
[05:41:12] <raph> that should be fine as-is
[05:41:33] <raph> commonmark has some stricter rules about when _ can actually mean emphasis
[05:41:42] <hoverbear> Ah okay
[05:42:33] <hoverbear> Some parsers are super lax and they make me escape it so you end up with tons of $ \int\_0^\inf $ and stuff. One I used even made me escape the `\`
[05:42:41] <Hail_Spacecake> is there any runtime overhead to implementing functions as methods with a self argument?
[05:42:53] <Hail_Spacecake> as opposed to an equivalent non-method function that takes self as a named argument?
[05:43:24] *** Joins: avikpal (avikpal@moz-lji.igl.194.117.IP)
[05:43:53] <raph> hoverbear: \_ will need to be written as \\_
[05:43:53] *** Quits: g5pw (g5pw@moz-5i3.7ej.244.162.IP) (Connection closed)
[05:44:04] <hoverbear> raph: Yes! That was the problem I was having. Sorry.
[05:44:16] <zamabe> Does Rust use CommonMark for documentation?
[05:44:22] <zamabe> The book says Markdown
[05:44:26] <sinistersnare> zamabe: no
[05:44:28] <hoverbear> raph: I don't quite recall. I will look into it later when you release it :)
[05:44:28] <raph> zamabe: it uses hoedown, i believe
[05:44:37] <zamabe> kthx
[05:44:47] <raph> hoverbear: the other possibility is to make $ an extension, not process inline markup inside
[05:44:58] <raph> i think i'd rather do that, frankly
[05:45:00] <hoverbear> raph: Lots of options. :)
[05:45:29] <raph> i dug into hoedown, actually i started by porting it to rust
[05:45:36] <raph> i think it's pretty good but not fantastic
[05:46:27] <raph> my goal of course is to make the best markdown parser in the world :)
[05:46:47] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Quit: It's a joke, it's all a joke.)
[05:46:57] *** Quits: skade (skade@moz-jjlf9r.dip0.t-ipconnect.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[05:47:12] *** Quits: brson (brson@moz-sni.tdl.56.172.IP) (Quit: leaving)
[05:47:54] *** Quits: wei2912 (wei2912@moz-oh8.2mf.156.175.IP) (Quit: Lost terminal)
[05:48:40] *** Joins: g5pw (g5pw@moz-5i3.7ej.244.162.IP)
[05:48:46] *** Joins: skade (skade@moz-jjlf9r.dip0.t-ipconnect.de)
[05:50:39] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[05:50:49] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[05:51:13] <hoverbear> raph: Good!
[05:53:25] *** Joins: idk_erikson (quassel@moz-nto6je.hsi04.unitymediagroup.de)
[05:53:46] <raph> hoverbear: raw speed is not a blocking concern for now?
[05:54:01] <hoverbear> raph: Psh no it'll be a static site generator
[05:54:10] <raph> right :)
[05:54:13] <hoverbear> As long as it doesn't take a decade
[05:54:21] <raph> the issue is that it takes two full passes over the document
[05:54:41] *** Quits: kalail (uid62296@moz-5ck9vu.charlton.irccloud.com) (Quit: Connection closed for inactivity)
[05:54:42] *** Quits: skade (skade@moz-jjlf9r.dip0.t-ipconnect.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[05:55:08] <hoverbear> raph: Is that normal for md?
[05:55:28] <raph> two passes is basically required, for link references
[05:55:52] <raph> but you don't have to do all the work both passes
[05:55:55] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[05:56:03] <hoverbear> Yeah
[05:56:27] <raph> i do know how to fix it
[05:56:36] <raph> but i'm concentrating on getting it right first, then fast second
[05:56:48] *** Joins: lenstr (lenstr@moz-vho.vju.25.171.IP)
[05:57:18] <hoverbear> *nods*
[05:57:38] *** Quits: lenstr (lenstr@moz-vho.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[05:57:54] *** Joins: lenstr (lenstr@moz-vho.vju.25.171.IP)
[05:57:59] *** Quits: zzing (textual@moz-jucm1n.cpe.distributel.net) (Connection closed)
[05:58:03] <raph> so, brace yourself for the speed measurement...
[05:58:09] <raph> it takes 13ms to render spec.txt
[05:58:46] *** Joins: Douman (Douman@moz-4t7j70.dynamic.mts-nn.ru)
[05:58:46] *** Quits: lenstr (lenstr@moz-vho.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[05:59:14] <chowmeined> is that good?
[05:59:16] *** Joins: nott (nott@moz-to4.06o.57.86.IP)
[05:59:39] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[05:59:55] <raph> yes, it's good, but it's not the absolute fastest possible
[06:00:36] <raph> (the cmark reference impl, in C, is 11ms)
[06:00:53] <raph> and i believe hoedown strives to be a bit faster than that
[06:01:08] <chowmeined> thats pretty darn good
[06:01:10] <chowmeined> then
[06:01:27] <raph> the other interesting thing about this parser is that it takes almost no memory
[06:01:55] <raph> it's implemented as a big-ass iterator over the source text
[06:02:12] *** Joins: twipeD (wipeD@moz-u25o7o.dip0.t-ipconnect.de)
[06:03:05] *** Quits: iotku (ayy@moz-qgf.1im.244.104.IP) (Ping timeout: 121 seconds)
[06:07:24] *** Joins: iotku (ayy@moz-qgf.1im.244.104.IP)
[06:08:04] *** Quits: anders (andars@moz-bsldst.sntcca.sbcglobal.net) (Ping timeout: 121 seconds)
[06:10:06] *** Joins: zzing (textual@moz-jucm1n.cpe.distributel.net)
[06:12:38] *** Joins: jiojiajiu (anonymous@moz-trc2j7.asianet.co.th)
[06:13:51] *** Quits: basicdays (basicdays@moz-vreeoj.cable.rcn.com) (Ping timeout: 121 seconds)
[06:14:40] *** Joins: mindtree (Mitch@moz-p8h.mdh.138.202.IP)
[06:15:24] *** Quits: dcb (textual@moz-j72nfe.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[06:22:25] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[06:23:52] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[06:23:59] *** Quits: chc4 (chc4@moz-pdo0at.ma.comcast.net) (Quit: AHHHHH BEES)
[06:24:44] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[06:24:44] *** Quits: summerlight (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[06:24:55] <hoverbear> raph: :)
[06:26:34] *** Quits: manlycode (manlycode@moz-q1mb3q.mi.comcast.net) (Ping timeout: 121 seconds)
[06:26:43] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[06:26:54] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[06:29:46] *** Joins: mkoskar (mkoskar@moz-stu.9h6.254.199.IP)
[06:30:28] *** Joins: SneakySnake (nya@moz-i9is4u.pool.telekom.hu)
[06:31:13] *** Quits: freefall (ff@moz-4lmh4m.privacyfoundation.ch) (A TLS packet with unexpected length was received.)
[06:31:16] *** Joins: freefall (ff@moz-m7r97s.hviv.nl)
[06:32:15] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[06:32:35] *** Joins: areski (areski@moz-aehvq9.user.ono.com)
[06:35:02] *** Quits: Twinklebear (Twinklebear@moz-ttrcn3.ut.comcast.net) (Quit: Leaving)
[06:36:06] <Mutabah> I know global state is frowned on in rust, but which is better - A collection of protected statics, or a single static of a "singleton" type?
[06:36:17] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Ping timeout: 121 seconds)
[06:36:20] <Mutabah> (I used singleton, even if it doesn't enforce that, there's only going to be once instance)
[06:37:29] *** Quits: playjax (chatzilla@moz-k5s6hh.optusnet.com.au) (Connection closed)
[06:38:24] *** Joins: dawehner (quassel@moz-h829oe.hsi6.kabel-badenwuerttemberg.de)
[06:38:44] <csherratt> so is Box<FnOnce()> Unusable in 1.0?
[06:39:39] *** Joins: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net)
[06:39:43] <Mutabah> csherratt: It appears that FnBox is currently unstable
[06:40:47] <Mutabah> However, it should be easy to implement
[06:40:53] *** Joins: zxq9 (ceverett@moz-qsm369.mesh.ad.jp)
[06:41:37] *** Quits: laogao_ (laogao@moz-k1t.k7v.78.124.IP) (Ping timeout: 121 seconds)
[06:43:35] *** Quits: jiojiajiu (anonymous@moz-trc2j7.asianet.co.th) (Connection closed)
[06:43:45] *** Joins: jiojiajiu (anonymous@moz-trc2j7.asianet.co.th)
[06:45:08] *** Joins: laogao (laogao@moz-k1t.k7v.78.124.IP)
[06:46:06] *** darkowlzz is now known as darkowlzz|afk
[06:46:07] *** Joins: jviereck (Adium@moz-u30kpl.dclient.hispeed.ch)
[06:46:12] *** Joins: Lotos (chat@moz-o2dbpp.dip0.t-ipconnect.de)
[06:46:59] *** Joins: ballpointcarrot (quassel@moz-f18aru.qk3s.opjh.0008.2601.IP)
[06:47:35] *** Quits: Lotos (chat@moz-o2dbpp.dip0.t-ipconnect.de) (Quit: Anywhere.)
[06:48:15] *** Quits: Douman (Douman@moz-4t7j70.dynamic.mts-nn.ru) (Connection closed)
[06:48:30] *** Joins: conan (chat@moz-o2dbpp.dip0.t-ipconnect.de)
[06:49:11] *** Joins: Douman (Douman@moz-4t7j70.dynamic.mts-nn.ru)
[06:50:15] *** Quits: saml_ (saml@moz-rkfmct.res.rr.com) (Quit: Leaving)
[06:50:16] *** Quits: jviereck (Adium@moz-u30kpl.dclient.hispeed.ch) (Quit: Leaving.)
[06:50:23] <Kingsquee> Is there a way to pass rustc the location to check for *modules*?
[06:50:35] <Kingsquee> as opposed to crates
[06:51:18] *** Joins: jviereck (Adium@moz-u30kpl.dclient.hispeed.ch)
[06:51:19] *** Quits: ballpointcarrot (quassel@moz-f18aru.qk3s.opjh.0008.2601.IP) (A TLS packet with unexpected length was received.)
[06:51:22] *** Parts: conan (chat@moz-o2dbpp.dip0.t-ipconnect.de) ("Anywhere.")
[06:51:24] <Mutabah> Kingsquee: #[path="path/to/mod.rs"]
[06:51:37] *** Quits: iamtyler (Adium@moz-1dtmni.wa.comcast.net) (Quit: Leaving.)
[06:52:34] *** Quits: sayan (sayan@moz-ip8.595.51.106.IP) (Ping timeout: 121 seconds)
[06:53:27] <Kingsquee> Mutabah: yeah, I have to put that in my source though
[06:53:29] *** Quits: jviereck (Adium@moz-u30kpl.dclient.hispeed.ch) (Quit: Leaving.)
[06:54:00] <Kingsquee> I was hoping I could just pass that to rustc so as to never type it ever again
[06:54:46] <FreeFull> Kingsquee: Any reason you're diverging from the standard module structure?
[06:54:52] *** darkowlzz|afk is now known as darkowlzz
[06:55:24] <huhlig> does cargo support something analagous to maven pom packaging where you have a top level project with no artifacts?
[06:55:40] <huhlig> and children that are possibly interdependent
[06:56:19] *** Quits: khades (Thunderbird@moz-u45.3vk.74.212.IP) (Client exited)
[06:56:19] <Kingsquee> FreeFull: http://i.imgur.com/27Iq1en.png
[06:57:02] <Kingsquee> macros and types are shared between god-knows-how-many of the application types in src
[06:57:17] <Kingsquee> I could compile them to their own libraries but it seems silly
[06:57:25] <FreeFull> Ah, I see
[06:58:10] <FreeFull> Kingsquee: I think you should be able to do "mod common;" and have it just work
[06:58:25] *** Joins: loyd (loyd@moz-uft.32f.108.213.IP)
[06:59:00] <FreeFull> Actually, no, it wont
[06:59:13] *** Joins: lenstr (lenstr@moz-vho.vju.25.171.IP)
[06:59:55] *** Quits: lenstr (lenstr@moz-vho.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[07:00:00] <FreeFull> Kingsquee: Typically in src/ you would have kernel.rs, processes.rs, scheduler.rs, schedules.rs and state.rs
[07:00:10] *** Joins: lenstr (lenstr@moz-vho.vju.25.171.IP)
[07:00:27] <FreeFull> I haven't done multi-binary projects myself though
[07:01:06] *** Quits: lenstr (lenstr@moz-vho.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[07:01:17] <Kingsquee> FreeFull: most of those directories (besides kernel) hold their own self contained rustc projects, like a plugin architecture
[07:01:30] <Kingsquee> which is why I'm hoping to reduce typing
[07:02:00] <Kingsquee> hmm
[07:03:01] <Kingsquee> I might be able to automatically insert the 'use common' w/ path attribute text before sending it to the compiler / :D
[07:03:35] <Kingsquee> a tad terrifying
[07:04:36] <Kingsquee> alternatively, symlinks to common within each of the dirs
[07:05:10] *** Quits: scientes (scientes@moz-l6hdmu.wa.comcast.net) (Ping timeout: 121 seconds)
[07:06:10] *** Quits: laogao (laogao@moz-k1t.k7v.78.124.IP) (Ping timeout: 121 seconds)
[07:06:14] *** Joins: joneshf-laptop (joneshf@moz-l4h.b5s.208.98.IP)
[07:06:38] *** Joins: laogao (laogao@moz-k1t.k7v.78.124.IP)
[07:07:06] *** Joins: slashus2_ (slashus2___@moz-evfg9e.res.rr.com)
[07:09:39] *** Quits: slashus2_ (slashus2___@moz-evfg9e.res.rr.com) (Quit: Leaving)
[07:10:22] *** Joins: dalarmmst (dalarmmst@moz-mb21j4.bredband.comhem.se)
[07:10:40] *** Joins: skade (skade@moz-bmrglh.web.vodafone.de)
[07:11:13] *** Quits: slashus2 (slashus2___@moz-evfg9e.res.rr.com) (Quit: Leaving)
[07:11:59] *** Quits: skade (skade@moz-bmrglh.web.vodafone.de) (Connection closed)
[07:12:55] *** Joins: skade (skade@moz-bmrglh.web.vodafone.de)
[07:14:04] *** Joins: kmicu (kmicu@moz-uga.edn.218.91.IP)
[07:15:05] *** Quits: skade (skade@moz-bmrglh.web.vodafone.de) (Connection closed)
[07:15:08] *** Joins: skade (skade@moz-bmrglh.web.vodafone.de)
[07:15:45] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[07:15:53] *** Joins: Palmik (palmik@moz-7pku2p.net.upcbroadband.cz)
[07:15:57] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[07:16:31] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[07:16:48] *** Quits: libfud (libfud@moz-p2rb38.eph2.ptd.net) (Ping timeout: 121 seconds)
[07:18:14] *** Joins: Lotos (chat@moz-o2dbpp.dip0.t-ipconnect.de)
[07:21:05] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[07:22:02] *** Quits: sinistersnare (Mibbit@moz-vj2.mkr.2.129.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[07:23:54] *** Joins: alonlevy (alon@moz-p48.q13.159.94.IP)
[07:25:21] <csherratt> is there a way to enable feature flags based on cfg?
[07:26:12] <huon> #![cfg_attr(foo, feature(...))]
[07:26:12] <XMPPwocky> feature flags? i don't think so
[07:26:16] <XMPPwocky> but there's cfg_attr
[07:27:25] <comex> steveklabnik: FYI, reference section 6.1.3.2.4 claims integer overflow is well-defined
[07:27:30] <comex> no idea if you know that already :)
[07:30:47] *** Quits: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net) (Ping timeout: 121 seconds)
[07:32:10] *** Joins: veqz (veqz@moz-nvr8g6.209.getinternet.no)
[07:32:42] *** Joins: Nextra (Nextra@moz-v6s56a.osnanet.de)
[07:34:15] *** Joins: dinfuehr (dinfuehr@moz-iljk9t.highway.telekom.at)
[07:34:22] <csherratt> thanks huon, that worked.
[07:34:30] *** Joins: loempl (Mibbit@moz-62v5ue.dip0.t-ipconnect.de)
[07:35:46] *** Quits: fmtq (fmtq@moz-d08itp.tpgi.com.au) (Ping timeout: 121 seconds)
[07:35:47] *** Quits: avikpal (avikpal@moz-lji.igl.194.117.IP) (Connection closed)
[07:37:11] *** Joins: zzmp (zzmp@moz-4ds.959.14.76.IP)
[07:38:15] *** Joins: fmtq (fmtq@moz-d08itp.tpgi.com.au)
[07:38:17] *** Quits: dinfuehr (dinfuehr@moz-iljk9t.highway.telekom.at) (Ping timeout: 121 seconds)
[07:39:40] *** Quits: loempl (Mibbit@moz-62v5ue.dip0.t-ipconnect.de) (Quit: http://www.mibbit.com ajax IRC Client)
[07:40:24] *** Joins: loempl (textual@moz-62v5ue.dip0.t-ipconnect.de)
[07:41:11] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Client exited)
[07:41:29] *** Quits: Ycros (ycros@moz-f8shio.ycros.org) (Connection closed)
[07:41:35] *** Joins: Ycros (ycros@moz-f8shio.ycros.org)
[07:41:39] *** Joins: ty (ty@moz-i6c4to.wa.comcast.net)
[07:41:46] *** Quits: mark_edward (mark@moz-dg4mrp.in.comcast.net) (Ping timeout: 121 seconds)
[07:41:51] *** Quits: areski (areski@moz-aehvq9.user.ono.com) (Ping timeout: 121 seconds)
[07:42:00] *** Joins: mark_edward (mark@moz-dg4mrp.in.comcast.net)
[07:42:32] *** Joins: lenstr (lenstr@moz-vho.vju.25.171.IP)
[07:42:42] *** Joins: munksgaard (munksgaard@moz-ob0t16.0.fullrate.dk)
[07:43:00] *** Quits: kgrandon (Adium@moz-4tg8i8.hjek.d045.0009.2601.IP) (Quit: Leaving.)
[07:43:00] *** Quits: w4ffles (w4ffles_@moz-krqhvd.3l9u.jbps.6000.2605.IP) (Quit: This computer has gone to sleep)
[07:43:19] *** Joins: DerisiveLogic (smuxi@moz-g93io6.res.rr.com)
[07:43:25] *** Quits: zzing (textual@moz-jucm1n.cpe.distributel.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[07:44:14] *** Quits: Lotos (chat@moz-o2dbpp.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[07:45:02] *** Quits: niconii (nicole@moz-5e9nqt.frgo.qwest.net) (Quit: leaving)
[07:45:19] *** Quits: loyd (loyd@moz-uft.32f.108.213.IP) (Ping timeout: 121 seconds)
[07:47:27] *** Quits: DerisiveLogic (smuxi@moz-g93io6.res.rr.com) (Ping timeout: 121 seconds)
[07:50:13] *** Joins: areski (areski@moz-aehvq9.user.ono.com)
[07:50:19] *** Joins: zummenix (zummenix@moz-uo3.96n.87.213.IP)
[07:51:26] *** Quits: jasonrm (jasonrm@moz-hp1.v1s.99.68.IP) (Ping timeout: 121 seconds)
[07:51:34] *** Quits: skade (skade@moz-bmrglh.web.vodafone.de) (Ping timeout: 121 seconds)
[07:52:51] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[07:53:28] *** Joins: rbrs (rbrs@moz-m5thmg.static.zebra.lt)
[07:54:36] *** Joins: avikpal (avikpal@moz-lji.igl.194.117.IP)
[07:55:59] *** Quits: SneakySnake (nya@moz-i9is4u.pool.telekom.hu) (Connection closed)
[07:56:13] *** Quits: fmtq (fmtq@moz-d08itp.tpgi.com.au) (Ping timeout: 121 seconds)
[07:56:54] *** Quits: Kxepal (Miranda@moz-40smf2.pppoe.mtu-net.ru) (Connection closed)
[07:57:58] <zummenix> What it means if 'cargo test' runs tests and exits with error: 'Process didn't exit successfully: ... (signal: 4)'?
[07:58:14] *** Joins: fmtq (fmtq@moz-d08itp.tpgi.com.au)
[07:58:55] *** Quits: panicbit (panicbit@moz-r4ks4s.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[08:01:26] *** Joins: Kxepal (Miranda@moz-jbfiec.pppoe.mtu-net.ru)
[08:02:31] *** Quits: alonlevy (alon@moz-p48.q13.159.94.IP) (Ping timeout: 121 seconds)
[08:02:31] *** Joins: panicbit (panicbit@moz-r4ks4s.dip0.t-ipconnect.de)
[08:03:20] *** Quits: fengshaun (fengshaun@moz-rf0qk5.cable.teksavvy.com) (Ping timeout: 121 seconds)
[08:03:41] *** Joins: TheLemonMan (lemonboy@moz-kkoj6d.50-151.net24.it)
[08:04:37] *** Quits: casey (casey@moz-v0ns05.tpgi.com.au) (Connection closed)
[08:04:45] *** Joins: soma (Mibbit@moz-ef5.7ab.191.107.IP)
[08:04:48] *** Quits: james4k (james@moz-ao8aj6.consolidated.net) (Ping timeout: 121 seconds)
[08:04:56] *** Joins: giucam (giucam@moz-iv0nnc.bb.dnainternet.fi)
[08:05:02] *** Joins: casey (casey@moz-v0ns05.tpgi.com.au)
[08:06:07] *** Joins: jdef (Mibbit@moz-uo3.96n.87.213.IP)
[08:06:44] <soma> Hello! are there any situations most suited for Cow pointers?
[08:07:19] <csherratt> strings?
[08:07:54] *** darkowlzz is now known as darkowlzz|afk
[08:08:13] *** Quits: jdef (Mibbit@moz-uo3.96n.87.213.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[08:08:14] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[08:08:15] <FreeFull> There is probably plenty of literature about CoW
[08:08:22] <ty> soma: Cow pointers are great when you may or may not be modifying data that needs to not change to outside observers 
[08:08:28] *** Joins: jasonrm (jasonrm@moz-m96h5m.ph.cox.net)
[08:09:04] *** Quits: casey (casey@moz-v0ns05.tpgi.com.au) (Ping timeout: 121 seconds)
[08:09:24] <ty> Cow is also pretty great because it has the option to mutate the data in place if there is only one reference to it 
[08:09:33] <ty> (If you are using Rc<Cow<T>>
[08:09:35] <ty> )
[08:10:41] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[08:11:16] *** Joins: defyrlt (user@moz-u6g.e4f.217.91.IP)
[08:11:27] <soma> ty: thanks. are there any examples or small projects using it? I may need to learn some detail usage
[08:13:40] *** Joins: moa (Cedric@moz-2c48t7.4cuv.n3q0.0e34.2a01.IP)
[08:13:59] <Skyler> soma, I find myself searching github for examples outside of the docs: https://github.com/search?q=std%3A%3Aborrow%3A%3ACow+language%3ARust&type=Code
[08:14:15] <Skyler> (sorry to give a vague answer)
[08:14:23] <ty> soma: hmm, not sure I know of any good self-contained examples 
[08:15:00] *** Quits: mmatyas (mmatyas@moz-4lg94m.inf.u-szeged.hu) (Ping timeout: 121 seconds)
[08:15:06] <ty> the wiki page is pretty good though http://en.wikipedia.org/wiki/Copy-on-write
[08:15:09] *** Quits: acmiyaguchi (acmiyaguchi@moz-knv031.res.rr.com) (Ping timeout: 121 seconds)
[08:15:14] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[08:15:36] *** Joins: khades (Thunderbird@moz-u45.3vk.74.212.IP)
[08:15:37] *** Joins: Ms2ger (Ms2ger@moz-f3v.iou.182.91.IP)
[08:16:31] *** Joins: acmiyaguchi (acmiyaguchi@moz-knv031.res.rr.com)
[08:16:40] *** Parts: rbrs (rbrs@moz-m5thmg.static.zebra.lt) ()
[08:17:15] *** Quits: yichoi (yichoi@moz-t0r.chb.167.121.IP) (Connection closed)
[08:17:27] *** Joins: wtw (wtw@moz-tpvltk.org)
[08:18:03] *** Joins: woboats (tatterdemal@moz-a0dnkb.ca.comcast.net)
[08:20:08] *** Joins: Lilly (Lilly@moz-pfkvo9.bredband.comhem.se)
[08:20:18] *** Quits: Ycros (ycros@moz-f8shio.ycros.org) (Connection closed)
[08:20:43] *** Quits: khades (Thunderbird@moz-u45.3vk.74.212.IP) (Client exited)
[08:21:40] *** Joins: khades (Thunderbird@moz-u45.3vk.74.212.IP)
[08:22:02] *** Quits: khades (Thunderbird@moz-u45.3vk.74.212.IP) (Client exited)
[08:22:48] *** Quits: nott (nott@moz-to4.06o.57.86.IP) (Ping timeout: 121 seconds)
[08:24:27] *** Quits: avikpal (avikpal@moz-lji.igl.194.117.IP) (Connection closed)
[08:25:18] *** Joins: avikpal (avikpal@moz-lji.igl.194.117.IP)
[08:25:28] *** Joins: brandonson (brandonson@moz-04bj5s.cs.ubc.ca)
[08:25:38] *** Joins: Ycros (ycros@moz-f8shio.ycros.org)
[08:25:50] <tomaka> ty: hey
[08:26:04] <tomaka> ty: (you're not in #rust-gamedev)
[08:26:41] <brandonson> is there a good way to test I/O stuff?  Trying to test a logging lib, which is kind of hard without checking file contents, stdout, etc
[08:27:12] *** Quits: veqz (veqz@moz-nvr8g6.209.getinternet.no) (Ping timeout: 121 seconds)
[08:27:51] <loempl> Which is the fastest way to build the Rust book from the source?
[08:27:56] *** Quits: bombless (_@moz-dtnvvc.0v2u.0v40.0da8.2001.IP) (Quit: Leaving)
[08:28:26] <Ms2ger> seanmonstar, thanks, btw!
[08:29:14] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[08:29:30] *** Quits: avikpal (avikpal@moz-lji.igl.194.117.IP) (Ping timeout: 121 seconds)
[08:29:33] <tomaka> brandonson: Cargo does actually check file content, stdout, etc.
[08:29:35] *** Joins: schickling (textual@moz-gajb44.dynamic.kabel-deutschland.de)
[08:29:40] *** Joins: khades (Thunderbird@moz-u45.3vk.74.212.IP)
[08:29:42] <tomaka> brandonson: Cargo's tests, I mean
[08:29:44] <soma> Hello! let mut cow: Cow<[_]> = Cow::Owned(vec![1, 2, 3]);  why does cow not have type Cow<Vec<_>>?
[08:30:24] *** Quits: khades (Thunderbird@moz-u45.3vk.74.212.IP) (Client exited)
[08:30:30] *** Joins: khades (Thunderbird@moz-u45.3vk.74.212.IP)
[08:31:52] <brandonson> tomaka: hmm. do you have a specific one that does?
[08:31:52] <Ms2ger> Because Cow<T> is a Cow with borrowed type T and owned type T::Owned
[08:32:02] *** Joins: choplin (choplin@moz-i5s5hr.rev.vmobile.jp)
[08:32:03] <brandonson> tomaka: there are a lot of tests here
[08:32:51] *** Quits: khades (Thunderbird@moz-u45.3vk.74.212.IP) (Client exited)
[08:33:22] <brandonson> oh, there's a whole module backing it up
[08:33:26] *** Joins: mib_aywl6l (Mibbit@moz-bto.6t7.68.207.IP)
[08:33:27] <tomaka> brandonson: most tests check for stdout, there's a .with_stdout functionn combined with assert_that
[08:33:30] <brandonson> maybe I should just write a lib for this...
[08:33:30] <tomaka> yeah
[08:35:21] *** Quits: zummenix (zummenix@moz-uo3.96n.87.213.IP) (Quit: )
[08:35:42] <ty> toamak: hey, what's up
[08:35:48] *** Joins: hoony (Thunderbird@moz-q5r.8e9.96.183.IP)
[08:35:59] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[08:36:12] <tomaka> ty: ah
[08:36:16] <tomaka> you're hre
[08:36:29] <tomaka> fyi there's a new DebugStructGenerator in gl_generator
[08:36:50] <tomaka> so if you clone glium and replace "StructGenerator" by "DebugStructGenerator" in build.rs, it will print all opengl calls to stdout
[08:36:55] *** Quits: choplin (choplin@moz-i5s5hr.rev.vmobile.jp) (Connection closed)
[08:37:05] <tomaka> which is very useful
[08:37:34] <ty> as a replacement for e.g. ApiTrace?
[08:37:37] *** Quits: achanda (achanda@moz-qv7q4n.ca.comcast.net) (Connection closed)
[08:37:43] <tomaka> yeah
[08:38:02] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[08:38:29] <ty> I've been learning ApiTrace recently and I'm loving the GUI viewer
[08:38:42] *** Joins: jaen (jaen@moz-ifmik2.copit.pl)
[08:38:51] *** Joins: emilk (emilk@moz-eossn5.cust.bredbandsbolaget.se)
[08:39:01] <tomaka> ok, ok
[08:39:29] <tomaka> I also wrote it because of embedded platforms where you don't have access to apitrace, but it may be useful for desktop
[08:39:53] <tomaka> apitrace doesn't seem to record EGL/OpenGL ES calls on linux
[08:39:53] <soma> Ms2ger: hmm. I still can't figure out why the compiler could tell that Vec type equals to [ _ ]::Owned
[08:39:54] *** Joins: avikpal (avikpal@moz-lji.igl.194.117.IP)
[08:40:02] <ty> I have been wondering if we could add an "auto assert_no_error" feature, where assert_no_error gets called after literally every call to opengl when in debug mode
[08:40:25] <ty> tomaka: huh, I haven't does any OpenGL-es
[08:41:13] <tomaka> ty: It would be a good addition to the DebugStructGenerator
[08:41:25] <tomaka> adding some code after each GL function call in glium would be painful
[08:41:32] <ty> yeah, that's my thought
[08:41:37] *** Quits: Ycros (ycros@moz-f8shio.ycros.org) (Connection closed)
[08:42:14] <ty> I saw a C++ game engine that did it with a #define macro and it looked pretty handy
[08:42:15] *** Joins: espadrine (tyl@moz-l019mn.fbx.proxad.net)
[08:42:18] *** fkaa_ is now known as fkaa
[08:42:30] *** Quits: espadrine (tyl@moz-l019mn.fbx.proxad.net) (Quit: Konversation terminated!)
[08:42:34] *** Joins: espadrine (tyl@moz-l019mn.fbx.proxad.net)
[08:42:41] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[08:43:24] *** Joins: choplin (choplin@moz-i5s5hr.rev.vmobile.jp)
[08:43:26] <Ms2ger> soma, http://static.rust-lang.org/doc/master/src/collections/slice.rs.html#1102-1104
[08:43:49] *** Quits: zzmp (zzmp@moz-4ds.959.14.76.IP) (A TLS packet with unexpected length was received.)
[08:45:40] *** Joins: alonlevy (alon@moz-4jqdpb.telavivmakers.org)
[08:47:18] <soma> Ms2ger: thank you. So [_] always refers to some vector
[08:47:47] <ty> soma: it can be any group of contiguous elements in memory
[08:47:51] <Ms2ger> [T] is a slice
[08:47:58] <ty> so a `Vec`, or an array
[08:48:09] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Quit: No Ping reply in 180 seconds.)
[08:49:03] <soma> then why it's Owned type is Vec?
[08:49:14] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[08:49:19] *** Joins: debu (debu@moz-554v7e.adsl.alicedsl.de)
[08:49:32] <Mutabah> soma: The most generic owned type for a [T] is Vec<T>
[08:49:40] <Ms2ger> Do you understand what Vec and [T] are?
[08:49:45] <Mutabah> soma: But that doesn't mean that Vec<T> is the only way to get a &[T]
[08:49:49] <ty> soma: because you can't pull a slice out into an array in rust because the size of an array must be known at compile time 
[08:50:03] *** Joins: asQuirreL (asQuirreL@moz-ro1qqu.ox.ac.uk)
[08:50:18] <Manishearth> because it
[08:50:20] *** Joins: rudolph (rudolph@moz-7rgme5.o3k5.dsq9.010d.2620.IP)
[08:50:43] <Manishearth> because it's identical to a Vec in the heap representation, but that doesn't mean that [_] always came from a Vec
[08:50:46] <rudolph> hi, if I've got a Vec<f64> and I want to truncate it to: myvec.truncate(myvec.len() - 3); I get a borrow error, is there a more consice way to do it without getting the lenght in a previous line ?
[08:50:55] <soma> Ok. so I can convert any contiguous elements in memory to a [T]. But I can only convert it back to some Vec<T>?
[08:50:57] <Manishearth> You could get one out of a fixed length array too
[08:51:07] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Connection closed)
[08:51:09] <Manishearth> rudolph: take the len() call out
[08:51:36] <rudolph> Manishearth: yeah, but wanted to avoid that... 
[08:51:45] <Manishearth> soma: well, yeah. The contiguous elements are part of some larger data structure that you can't know of at compile time
[08:52:02] <Manishearth> rudolph: it's something that we want to fix, but not been fixed yet
[08:52:09] <rudolph> Manishearth: I's looking for some way to advice I'm done with len()
[08:52:15] <soma> ok. thank you all :)
[08:52:23] <rudolph> Manishearth: cool, any rfc on that?
[08:52:42] <fkaa> Manishearth: nice flair :)
[08:52:55] *** Joins: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net)
[08:53:27] *** Quits: debu (debu@moz-554v7e.adsl.alicedsl.de) (Quit: Leaving)
[08:54:24] <soma> Is a slice correspond to &[T] or [T]?
[08:54:46] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[08:55:27] <ty> rudolph: `myvec.drain().rev().take(3)`
[08:55:38] *** Joins: nott (nott@moz-to4.06o.57.86.IP)
[08:55:40] <rudolph> ty: isn't drain unstable? 
[08:55:58] <ty> everything that is useful is unstable, so probably
[08:56:12] <rudolph> :-p can't find a way to enable unstable stuff
[08:56:21] <huon> use the nightly compilers
[08:56:47] <ty> rudolph: http://www.rust-lang.org/install.html
[08:57:06] <rudolph> so I can no longer use #![feature.... ?
[08:57:09] <Manishearth> rudolph: it's a borrow checker bug. https://github.com/rust-lang/rust/issues/6393
[08:57:15] <ty> rudolph: the Nightly section is where you want to look
[08:57:21] <Manishearth> no rfc, this isn't exactly rfcable
[08:57:37] <rudolph> Manishearth: thanks!
[08:57:49] *** Quits: tyrick (tyrick@moz-q9b.0o3.144.24.IP) (Connection closed)
[08:58:11] *** Joins: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr)
[08:59:45] <p1start> Manishearth: https://github.com/rust-lang/rfcs/pull/396
[08:59:51] *** Joins: barometz (dominic@moz-vot83i.ip.telfort.nl)
[09:00:44] *** Joins: khades (Thunderbird@moz-u45.3vk.74.212.IP)
[09:01:03] *** Quits: khades (Thunderbird@moz-u45.3vk.74.212.IP) (Client exited)
[09:02:06] *** Joins: rbrs (rbrs@moz-m5thmg.static.zebra.lt)
[09:02:11] <Mutabah> Style question - When spinning on hardware (and using an iteration count to avoid spinning forever) Is doing "while hw_status { count+=1; if count==MAX { break; }}" best, or doing "for _ in (0 .. MAX) { if hw_status { break; } }" better?
[09:02:45] <Ms2ger> Probably the latter
[09:02:48] <Ms2ger> (imo)
[09:03:15] <Mutabah> It's a touch shorter...
[09:03:26] <ty> It really depends on what you think is the primary means of breaking that loop
[09:03:39] <Mutabah> ty: IO success is the expected and desired case
[09:03:50] <ty> I'd go for the first one.  It seems to imply that `hw_status` is more important.
[09:03:54] <Mutabah> So, the first is more logically accurate
[09:04:40] *** Quits: schickling (textual@moz-gajb44.dynamic.kabel-deutschland.de) (Quit: My Mac has gone to sleep. ZZZzzz…)
[09:04:48] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[09:04:56] *** Joins: schickling (textual@moz-gajb44.dynamic.kabel-deutschland.de)
[09:05:50] *** Quits: schickling (textual@moz-gajb44.dynamic.kabel-deutschland.de) (Quit: Textual IRC Client: www.textualapp.com)
[09:05:55] <ty> As a totally non-informed reader, I'd assume that the first loop is primarily checking hw_status, but has a fallback break.  The 2nd one makes it look like the max iteration is the expected case and you break on the off-chance that hw_status is true
[09:06:19] <Mutabah> yeah
[09:07:16] *** Quits: munksgaard (munksgaard@moz-ob0t16.0.fullrate.dk) (Ping timeout: 121 seconds)
[09:08:37] *** Quits: AngelOfSol (AngelOfSol@moz-uo0.c3h.21.129.IP) (Quit: Remember to close the door when you're done!)
[09:09:24] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[09:10:27] <soma> Hello! By calling a slice does the compiler mean a [T] or an AsRef<[T]>
[09:10:32] *** Joins: dam (user@moz-it9sv4.fbx.proxad.net)
[09:10:47] <reem> soma: &[T]
[09:10:59] *** Quits: dalarmmst (dalarmmst@moz-mb21j4.bredband.comhem.se) (Ping timeout: 121 seconds)
[09:11:02] <Mutabah> soma: "calling a slice"
[09:11:18] *** Joins: spider-mario (spidermario@moz-coblcf.fbx.proxad.net)
[09:11:22] <soma> reem: then what is the type of [T]
[09:11:36] <Mutabah> soma: an unsized array
[09:12:13] *** Joins: loyd (loyd@moz-uft.32f.108.213.IP)
[09:12:32] <dam> hi, what can i use to replace match_indices in rust beta?
[09:12:56] *** Joins: mindcat (mindcat@moz-dph.tp2.136.119.IP)
[09:13:03] *** darkowlzz|afk is now known as darkowlzz
[09:13:20] <mindcat> another rustc stack overflow bug, http://is.gd/zUrIKd
[09:13:23] <mindcat> :P
[09:13:42] *** Joins: abique (abique@moz-alq0r9.ko9f.54u1.0e35.2a01.IP)
[09:13:48] <abique> Hi!
[09:13:55] *** darkowlzz is now known as darkowlzz|afk
[09:13:57] *** Joins: eerie (eerie@moz-rll6i6.red.bezeqint.net)
[09:14:04] <ty> abique: Hi!
[09:14:30] <ty> mindcat: haha, that's cruel 
[09:14:58] <mindcat> I am going to report it :D
[09:15:11] <abique> I'm looking to start a 2d rendering project, I mostly want to do some music visualisation. Do you have anything to recommend? I'm on archlinux.
[09:15:46] <ty> I'm a huge fan of glutin + glium
[09:15:47] <abique> Do you think that getting some cairo binding would be a good idea?
[09:16:16] <abique> ty, do you have some links?
[09:16:22] <ty> abique: glutin is a rust-only replacement for GLUT, it handles window creation and events 
[09:16:25] <filsmick> I've made a RFC, and after discussion a different solution than the one I originally proposed seems to the best. Should I make a new RFC and close the current one, or edit the current one heavily?
[09:16:48] <ty> abique: glium is a rust-only modern-opengl wrapper that makes it hard to screw up
[09:17:07] <ty> abique https://github.com/tomaka/glium
[09:17:17] *** Joins: playjax (chatzilla@moz-k5s6hh.optusnet.com.au)
[09:17:28] <abique> ty, cool!
[09:17:32] <ty> abique: I'm actually working on a 2d-rendering engine right now using glutin and glium
[09:17:50] <ty> if you want to try it out, I'll add you to the private repo
[09:17:51] <abique> How will it go with opengl-next?
[09:18:19] *** Joins: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se)
[09:18:23] <ty> abique: tomaka would be the person to ask, but I think he mentioned that it will be supported 
[09:18:29] <abique> ty, so what is the benefit of your engine over glium?
[09:18:53] *** Quits: choplin (choplin@moz-i5s5hr.rev.vmobile.jp) (Connection closed)
[09:19:12] <ty> abique: glium also supports opengl-es and web-gl (experimental)
[09:19:46] <abique> ty, you mean that you can export to webgl like we can do in unity?
[09:19:50] *** Joins: zyga (zyga@moz-84t.g3u.7.89.IP)
[09:20:06] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[09:20:12] <ty> abique: my engine only does 2d, so it is more limited in scope but is way easier to do simple things in 
[09:20:25] *** Quits: loempl (textual@moz-62v5ue.dip0.t-ipconnect.de) (Quit: Textual IRC Client: www.textualapp.com)
[09:20:35] *** Joins: Anupkumar (uid16774@moz-cf8smb.uxbridge.irccloud.com)
[09:20:45] <ty> `let sprite = window.load_sprite("foo.png").into_sprite();  frame.sprite(&sprite, 0.0, 0.0).draw();`
[09:21:22] <ty> abique: because Rust uses LLVM, we can leverage Emscripten to compile Rust to Javascript 
[09:22:01] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[09:22:05] <ty> abique: it isn't even close to being officially supported, but people are playing around with it 
[09:22:06] <soma> Mutabah: thank you. I'm still confused about the names. What's the name of &T.  pointer to T or borrow of T? 
[09:22:06] * Mutabah is away (Roped into moving stuff)
[09:22:23] <ty> soma: "immutable reference to T"
[09:22:25] <reem> soma: both are used
[09:22:36] <abique> ty, sounds cool!
[09:22:41] *** Quits: raignarok (raignarok@moz-8cmva9.dip0.t-ipconnect.de) (Quit: ZNC - http://znc.in)
[09:22:42] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Connection closed)
[09:22:44] *** Joins: skade (skade@moz-bmrglh.web.vodafone.de)
[09:22:47] *** Joins: victor (Mibbit@moz-8o0.3gv.152.89.IP)
[09:23:13] <ty> reem: I noticed that you opened a few issues on bincode; are you using it for anything cool?
[09:23:47] *** Joins: raignarok (raignarok@moz-1f5d9j.dip0.t-ipconnect.de)
[09:23:54] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[09:23:54] *** Joins: dalarmmst (dalarmmst@moz-mb21j4.bredband.comhem.se)
[09:24:11] <reem> ty: a simple distributed queue
[09:24:19] <tomaka> abique: yeah, the state of emscripten+rust is that with a lot of hacks we can make it work approximately
[09:24:24] *** Quits: zyga (zyga@moz-84t.g3u.7.89.IP) (Ping timeout: 121 seconds)
[09:24:26] <reem> serializing messages from client to server
[09:24:38] <victor> Hi! I was trying to understand the problem with the http://miburl.com/pu9vvD unsound scoped and JoinGuard and I ran into Rc cycles. Why is it possible in Rust to have reference-counted objects keeping themselves alive through chains?
[09:24:48] <victor> (through cycles, I mean)
[09:25:13] <ty> reem: neat!  Any end-goals for the project?
[09:25:21] *** Joins: zyga (zyga@moz-84t.g3u.7.89.IP)
[09:25:31] <tomaka> abique: About opengl-next, glium won't support it as it's a totally different API
[09:25:31] <victor> Shouldn't it be syntacticly impossible to create a Rc chain in the first place? Isn't that what C++'s weak_ptr is for?
[09:25:43] <ty> victor: Cycles are an inherant problem with reference counting 
[09:26:09] <tomaka> abique: and IMO you can't write a good abstraction over both glnext/vulkan, and opengl
[09:26:13] <abique> tomaka, so what is better for me? To wait some times so I can use opengl-next directly?
[09:26:16] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[09:26:20] <ty> victor: rust has Weak<T> as well, but the programmer needs to make weak links manually
[09:26:29] <tomaka> abique: the name of opengl-next is "vulkan" by the way
[09:26:36] <ty> victor: so it is still possible to forget and add cycles
[09:26:39] <abique> yes but I forgot it :D
[09:26:46] *** Joins: grncdr (Adium@moz-m1g.e47.90.95.IP)
[09:26:53] <tomaka> abique: I don't know what the best is
[09:27:04] <tomaka> it will probably be unveiled in august
[09:27:07] <FreeFull> And Weak is marked unstable
[09:27:21] <tomaka> then you'll need to wait a few months before drivers are available in all major platforms
[09:27:43] <victor> ty: Thanks for the explanation!
[09:27:55] <ty>  victor: no problem!
[09:28:06] <tomaka> there are also several issues with writing a safe abstraction over vulkan, which are not all totally addressed yet
[09:28:33] <tomaka> while with opengl you'd have a result now
[09:28:43] <abique> ok
[09:28:49] <abique> so maybe I can use opengl
[09:28:59] <abique> and if there are some benefits for me in the future
[09:29:06] <abique> rewrite some parts to vulkan
[09:29:12] <ty> abique: for a music visualizer, you probably won't be gaining much with vulkan
[09:29:35] *** Quits: jiojiajiu (anonymous@moz-trc2j7.asianet.co.th) (Connection closed)
[09:29:42] <abique> ok
[09:29:48] *** Joins: jiojiajiu (anonymous@moz-trc2j7.asianet.co.th)
[09:29:48] <FreeFull> I somehow don't think Mesa will support Vulkan any time soon
[09:29:58] <abique> ok
[09:30:14] <tomaka> Mesa uses gallium internally, whose design is very similar to Vulkan
[09:30:23] <tomaka> so it's possible that it's not that difficult for them
[09:30:23] <abique> So I'm going to learn rust + glium + glutin today :D
[09:31:03] <ty> abique: do it!  Also, the maintainer of glutin + glium is amazing :P
[09:31:08] <abique> great :D
[09:31:09] <tomaka> hah
[09:31:29] <tomaka> the maintainer of glutin just published then yanked two versions because they didn't compile
[09:31:35] <abique> It is you!?
[09:31:39] <tomaka> Yeah :D
[09:32:39] <tomaka> most people who work on anything related to rust are at least from time to time in this channel
[09:33:11] *** Joins: tcard (tcard@moz-jdrdbk.ddns.jazztel.es)
[09:33:42] *** Quits: CustosLimen (CustosLimen@moz-qrs.1np.210.105.IP) (Ping timeout: 121 seconds)
[09:34:08] *** Quits: zyga (zyga@moz-84t.g3u.7.89.IP) (Ping timeout: 121 seconds)
[09:34:08] *** Quits: skade (skade@moz-bmrglh.web.vodafone.de) (Connection closed)
[09:34:50] *** Quits: grncdr (Adium@moz-m1g.e47.90.95.IP) (Ping timeout: 121 seconds)
[09:34:54] *** Joins: grncdr (Adium@moz-m1g.e47.90.95.IP)
[09:35:16] *** Joins: zyga (zyga@moz-84t.g3u.7.89.IP)
[09:36:04] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[09:36:25] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[09:38:47] <filsmick> is there a default cfg flag to indicate debug or release build?
[09:38:49] <abique> tomaka, here: https://github.com/tomaka/glium_graphics/blob/master/examples/image_test.rs#L27 can you auto detect image format?
[09:39:21] <ty> abique: that's using the `image` crate which is not owned by glutin + glium
[09:39:29] <ty> there is a way to autodetect, let me find the docs
[09:39:36] *** Joins: larhat (Adium@moz-tb1ulb.cable.virginm.net)
[09:39:36] *** Quits: Sgeo_ (Sgeo@moz-mo8ath.dyn.optonline.net) (Connection closed)
[09:39:41] <tomaka> "image" can auto-detect the format based on the extension
[09:39:42] *** Joins: Sgeo_ (Sgeo@moz-mo8ath.dyn.optonline.net)
[09:39:52] <tomaka> I don't know if it can detect the format with just the data
[09:39:52] *** Joins: skade (skade@moz-bmrglh.web.vodafone.de)
[09:39:59] <abique> ok
[09:40:01] <tomaka> (but it should be able to)
[09:40:11] <tomaka> (I mean, if it can't, someone should open an issue)
[09:40:13] <abique> that could make the example sexiest :)
[09:40:14] <ty> oh, wait, abique: that's not the right repo btw
[09:40:25] <tomaka> oh right
[09:40:29] <tomaka> I didn't even notice that :D
[09:40:31] *** Joins: frankmcsherry (frankmcsher@moz-lk7oj0.adsl.alicedsl.de)
[09:40:43] <tomaka> your link points to a fork of a library that links glium and piston
[09:40:50] <tomaka> glium itself https://github.com/tomaka/glium
[09:41:51] <ty> abique: http://www.piston.rs/image/image/fn.load_from_memory.html
[09:41:56] <filsmick> do I have to use a macro if I want conditional compilation in the crate that depends on my crate?
[09:41:57] <Hail_Spacecake> I need to have an arm of a match statement
[09:42:07] <Hail_Spacecake> that is either Some(x) if x.condition(), or None
[09:42:19] <Hail_Spacecake> and if I write that Some(x) if x.condition() | None => {...}
[09:42:25] <Hail_Spacecake> it treis to parse the | as a bitwise operator
[09:42:45] <filsmick> for example, I want a library function to do X when cfg(debug), and Y on cfg(not(debug)) - can I use a regular function and the cfg! macro or do I have to make my own macro?
[09:42:45] *** Quits: zyga (zyga@moz-84t.g3u.7.89.IP) (Connection closed)
[09:42:51] *** Joins: casey (casey@moz-v0ns05.tpgi.com.au)
[09:42:55] *** Quits: Shackra (Jorge@moz-7bh.ng6.177.186.IP) (Connection closed)
[09:43:04] *** Joins: SneakySnake (nya@moz-i9is4u.pool.telekom.hu)
[09:43:18] <tomaka> filsmick: just `if cfg!(ndebug) { } else { }` should work
[09:43:32] *** Joins: zyga (zyga@moz-84t.g3u.7.89.IP)
[09:44:04] <tomaka> or you can also use   `fn foo() {  #[cfg(debug)] fn foo_impl() {}   #[cfg(not(debug))] fn foo_impl() {}   foo_impl()   }
[09:44:18] <filsmick> tomaka: won't it be triggered if ndebug is set when compiling the LIBRARY crate?
[09:44:46] <tomaka> isn't that what you want?
[09:44:47] *** Quits: spider-mario (spidermario@moz-coblcf.fbx.proxad.net) (Ping timeout: 121 seconds)
[09:44:59] *** Quits: larhat (Adium@moz-tb1ulb.cable.virginm.net) (Quit: Leaving.)
[09:44:59] <tomaka> for the moment cargo passes the same debug/ndebug flag to everything
[09:45:00] <filsmick> tomaka: no, I want to depend on the value of debug / ndebug in the crate that links to the library crate
[09:45:24] <tomaka> so yeah you probably have to use a macro
[09:45:28] <filsmick> tomaka: ok thanks :)
[09:46:00] *** Joins: summerlight (summerlight@moz-99k.2mj.130.121.IP)
[09:46:24] *** Quits: skade (skade@moz-bmrglh.web.vodafone.de) (Ping timeout: 121 seconds)
[09:46:30] <Hail_Spacecake> is there no way to do this?
[09:46:41] <tomaka> Hail_Spacecake: I don't think you can
[09:46:56] <tomaka> the syntax is `A | B | C if condition`
[09:47:03] *** Joins: skade (skade@moz-fs9uan.web.vodafone.de)
[09:47:04] <tomaka> not `A if condition | B if condition | C if condition`
[09:47:08] <bluss> Hail_Spacecake: no convenient way maybe
[09:47:22] <Hail_Spacecake> hm
[09:47:24] <soma> Hello! What does the operator " * " do. does it automatically call deref() and then do the actual dereference?
[09:47:27] <Hail_Spacecake> I really need A | B if condition
[09:47:59] *** Joins: untitaker_ (untitaker@moz-0jfda1.highway.telekom.at)
[09:48:04] <bluss> what about ref opt if opt.as_ref().map_or(true, |x| x.condition()) => { }
[09:48:14] <bluss> isn't it beautiful? :)
[09:48:19] <Hail_Spacecake> heh, okay, I guess that will work
[09:48:37] <tomaka> Or you can just write  `Some(x) if !x.condition() => (), _ => ()`
[09:48:39] *** Quits: untitaker (untitaker@moz-u14och.highway.telekom.at) (Ping timeout: 121 seconds)
[09:48:49] <bluss> sounds better
[09:49:20] *** Quits: kmcguire_ (kmcguire@moz-pg1gb9.biz.rr.com) (Connection closed)
[09:49:23] <Hail_Spacecake> that works too
[09:50:03] *** Joins: kmcguire_ (kmcguire@moz-pg1gb9.biz.rr.com)
[09:52:17] *** Joins: sonder (chatzilla@moz-nt8r49.idi.ntnu.no)
[09:54:31] *** Quits: eerie (eerie@moz-rll6i6.red.bezeqint.net) (Connection closed)
[09:54:48] *** Joins: zettablade (zettablade@moz-58u.jiv.125.50.IP)
[09:55:41] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Connection closed)
[09:55:48] *** Quits: emilk (emilk@moz-eossn5.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[09:56:29] *** Joins: untitaker (untitaker@moz-euf75a.highway.telekom.at)
[09:56:31] *** Quits: nott (nott@moz-to4.06o.57.86.IP) (Ping timeout: 121 seconds)
[09:56:50] *** Quits: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com) (Ping timeout: 121 seconds)
[09:56:59] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[09:57:49] *** Quits: untitaker_ (untitaker@moz-0jfda1.highway.telekom.at) (Ping timeout: 121 seconds)
[09:58:11] *** Joins: eerie (eerie@moz-rll6i6.red.bezeqint.net)
[09:59:00] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[09:59:21] *** Quits: moa (Cedric@moz-2c48t7.4cuv.n3q0.0e34.2a01.IP) (Ping timeout: 121 seconds)
[09:59:53] *** Quits: skade (skade@moz-fs9uan.web.vodafone.de) (Connection closed)
[09:59:58] *** Joins: skade (skade@moz-fs9uan.web.vodafone.de)
[10:03:34] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[10:04:09] *** Quits: fmtq (fmtq@moz-d08itp.tpgi.com.au) (Ping timeout: 121 seconds)
[10:05:08] *** Quits: errordeveloper (ilya@moz-rfe.3fh.206.90.IP) (Ping timeout: 121 seconds)
[10:06:33] *** Joins: fmtq (fmtq@moz-d08itp.tpgi.com.au)
[10:08:52] <filsmick> does cargo define cfg(debug), or cfg(ndebug)?
[10:08:52] *** Quits: zyga (zyga@moz-84t.g3u.7.89.IP) (Connection closed)
[10:09:05] *** Joins: zyga (zyga@moz-84t.g3u.7.89.IP)
[10:09:48] *** Quits: skade (skade@moz-fs9uan.web.vodafone.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[10:10:27] *** Joins: arBmind (Andreas@moz-283vr7.dyn.telefonica.de)
[10:13:27] *** Joins: Kirth (Kirth@moz-t4k4ap.0o56.icp4.1811.2a02.IP)
[10:13:27] *** Quits: zyga (zyga@moz-84t.g3u.7.89.IP) (Connection closed)
[10:13:28] *** Joins: genbattle (Mibbit@moz-ikj3l8.xtra.co.nz)
[10:13:43] *** Joins: munksgaard (munksgaard@moz-478pev.u.parknet.dk)
[10:14:21] *** Quits: ty (ty@moz-i6c4to.wa.comcast.net) (Quit: leaving)
[10:14:22] *** Joins: zyga (zyga@moz-84t.g3u.7.89.IP)
[10:14:29] *** Joins: smarr (Mibbit@moz-7qhnk3.uni-linz.ac.at)
[10:14:47] *** Quits: Kingsquee (kingsley@moz-3fm07c.bchsia.telus.net) (Quit: Konversation terminated!)
[10:15:27] *** Joins: skade (skade@moz-fs9uan.web.vodafone.de)
[10:15:27] *** Quits: zyga (zyga@moz-84t.g3u.7.89.IP) (Connection closed)
[10:17:05] *** Quits: jiojiajiu (anonymous@moz-trc2j7.asianet.co.th) (Connection closed)
[10:17:09] *** Quits: zyphrus (David@moz-nhi.pas.98.101.IP) (Quit: Bye bye)
[10:17:32] *** Joins: jiojiajiu (anonymous@moz-trc2j7.asianet.co.th)
[10:17:52] *** Quits: victor (Mibbit@moz-8o0.3gv.152.89.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[10:18:27] <aji> i'm extremely confused
[10:18:45] <aji> why can HashMap have &mut self and then do multiple inserts,
[10:18:47] <aji> but a type of my own can't?
[10:19:03] <aji> am i not using lifetimes correctly?
[10:19:15] <bluss> HashMap is a library type and so if it can you can
[10:19:22] *** Joins: zyga (zyga@moz-84t.g3u.7.89.IP)
[10:19:42] <bluss> aji: in some way it would have to be a borrow conflict yes
[10:19:42] *** Quits: zyga (zyga@moz-84t.g3u.7.89.IP) (Connection closed)
[10:19:49] *** Quits: defyrlt (user@moz-u6g.e4f.217.91.IP) (A TLS packet with unexpected length was received.)
[10:19:57] <aji> yeah, it's saying the mutable borrow goes to the end of the function
[10:20:02] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[10:20:04] <aji> but i am returning a reference to the inserted value
[10:20:41] <bluss> so the borrow should last until that reference is out of scope
[10:21:19] <aji> it still doesn't work if i remove the return value
[10:21:29] <aji> let me see if i can reproduce this in a simpler example in the sandbox
[10:21:37] <bluss> pastebin the method's signature
[10:21:50] <bluss> and/or the code?
[10:22:32] <aji> alright i'll pastebin it
[10:22:45] <aji> https://gist.github.com/aji/c2dd0e74ddcf5d17db77
[10:22:47] <aji> it's a work in progress
[10:22:56] <aji> the method in question is add_user
[10:23:01] <aji> and the bad code is the test at the very end
[10:23:06] <aji> add_user on line 128
[10:23:47] *** Joins: spider-mario (spidermario@moz-coblcf.fbx.proxad.net)
[10:24:10] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[10:24:10] <bluss> pub fn add_user(&'a mut self, uid: StringRef) {
[10:24:22] <aji> yes
[10:24:23] *** Joins: zyga (zyga@moz-84t.g3u.7.89.IP)
[10:24:26] <bluss> the 'a here is what causes this
[10:24:35] <bluss> is it needed?
[10:24:49] <aji> ahhh, ok
[10:25:02] <dam> is there a way to replace std::env::set_exit_status unstable function by an equivalent in rust beta?
[10:25:02] *** Quits: zyga (zyga@moz-84t.g3u.7.89.IP) (Connection closed)
[10:25:02] <aji> well it was needed when i was actually using the value on line 133
[10:25:07] <aji> if i comment that out it works
[10:25:07] <bluss> probably not
[10:25:53] <bluss> aji: use a new liftime parameter if you need to borrow &mut self for the return value
[10:26:22] <bluss> aji: the 'a parameter is too long, it's a borrow as long as all the struct fields that use 'a too
[10:26:29] <aji> i see
[10:26:31] <bluss> aji: hope that helps
[10:26:38] *** Joins: dfinninger (dfinninger@moz-o78v05.fios.verizon.net)
[10:26:40] <aji> so basically the entire life of n then
[10:27:02] <aji> would that be like fn add_user<'b>(...) -> ..&'b User? more or less?
[10:27:05] *** Quits: jiojiajiu (anonymous@moz-trc2j7.asianet.co.th) (Connection closed)
[10:27:09] <bluss> yes
[10:27:17] <aji> ok i'll see if i can get that to work. thanks :D
[10:27:18] <bluss> with &'b mut self 
[10:27:22] <aji> ah
[10:27:30] *** Joins: jiojiajiu (anonymous@moz-trc2j7.asianet.co.th)
[10:28:49] <aji> bluss: while you're being non-judgemental and helpful, any other obvious places for improvement in that code?
[10:29:03] <aji> if there's nothing obvious don't worry about it, but i'm still a noob and like to know when i'm messing up
[10:29:23] *** Joins: zyga (zyga@moz-84t.g3u.7.89.IP)
[10:29:27] *** Joins: Jackneill (Jackneill@moz-g6qg5q.pool.digikabel.hu)
[10:30:25] <aji> neat, the 'b thing works perfectly!
[10:31:18] *** Quits: dfinninger (dfinninger@moz-o78v05.fios.verizon.net) (Connection closed)
[10:31:23] <bluss> great
[10:31:38] <bluss> the 'b thing is what the default looks like with lifetime elision
[10:31:59] <bluss> you should be able to remove <'b> and both the 'b tags on &mut self and return value to confirm that :)
[10:32:05] *** Quits: jiojiajiu (anonymous@moz-trc2j7.asianet.co.th) (Connection closed)
[10:32:09] *** Joins: dfinninger (dfinninger@moz-o78v05.fios.verizon.net)
[10:32:33] <bluss> your code looks clean. I'm not very good at architechture
[10:32:34] *** Joins: jiojiajiu (anonymous@moz-trc2j7.asianet.co.th)
[10:32:50] <aji> neat, it does work!
[10:33:03] <aji> i never really understood lifetime elision, or lifetimes in general, but i think i have a better handle on it now
[10:33:05] *** Quits: jiojiajiu (anonymous@moz-trc2j7.asianet.co.th) (Connection closed)
[10:33:11] *** Quits: dfinninger (dfinninger@moz-o78v05.fios.verizon.net) (Connection closed)
[10:34:34] *** Joins: jiojiajiu (anonymous@moz-trc2j7.asianet.co.th)
[10:34:42] *** Joins: ptalbot (ptalbot@moz-g2mokk.ircam.fr)
[10:35:05] *** Quits: jiojiajiu (anonymous@moz-trc2j7.asianet.co.th) (Connection closed)
[10:35:53] *** Joins: jiojiajiu (anonymous@moz-trc2j7.asianet.co.th)
[10:36:38] *** Joins: HollyRain (HollyRain@moz-lnracf.user.ono.com)
[10:37:17] *** Quits: Kirth (Kirth@moz-t4k4ap.0o56.icp4.1811.2a02.IP) (Connection closed)
[10:38:08] <smarr> hi, I am learning Rust, and I am confused what the Rust book says about mutability of variable bindings. Is there a difference between `let v = &mut vec![2, 5];` and `let mut v = vec![2, 5];`?
[10:38:37] <abique> tomaka, finally I'm not sure to use cairo. I gave some context and goals to my project and here is what I want to do: I'm making music like that: https://soundcloud.com/abique/ and I want to render visuals for that music so I can have a movie going on with the sound. I don't need to do it "real time", a video rendering is perfect. I want to do some motif/mandalas/kaleidoscope animations. I'm thinking to use the following libraries: fftw3, 
[10:38:37] <abique> libvpx and cairo.
[10:38:44] *** Joins: mnemnion (mnemnion@moz-kf3boi.ca.comcast.net)
[10:39:05] <abique> I meant "I'm not sure to use rust"
[10:39:34] <smarr> in the first let, I would expect to be able to change the content of the vector, in the second let, I would expect to be able to change the binding, and assign a new vector to v. But, what I get is both times a mutable vector
[10:39:57] <mindtree> smarr: yes, the first is an immutable binding to a mutable reference to the vec - the second is a mutable binding to the vec
[10:40:08] <mindtree> (yes, as in there is a difference)
[10:40:25] <chowmeined> abique, offline rendering? do it in python or something quick you can prototype and be creative with
[10:40:52] <abique> I hate python and ruby
[10:41:04] *** Joins: mib_i740e7 (Mibbit@moz-mif.gl5.132.104.IP)
[10:41:05] <genbattle> javascript and WebGL shaders?
[10:41:06] <chowmeined> then do it in lisp
[10:41:20] <mib_i740e7> hello
[10:41:22] *** Joins: errordeveloper (ilya@moz-rfe.3fh.206.90.IP)
[10:41:30] <chowmeined> for a one time art project that will be rendered offline, it just doesnt sound like rust is necessary to me
[10:41:35] *** Joins: Boddlnagg (Patrick@moz-l2kbp7.dyn.telefonica.de)
[10:41:37] <genbattle> [your favourite compiles-to-javascript language here]] + WebGL Shaders?
[10:41:37] <mib_i740e7> I see that error::Error does not implement PartialEq
[10:41:49] <HollyRain> which options is better? to have tests after of every function or into a separated file for tests?
[10:41:51] <mib_i740e7> so how do people test things that return Result?
[10:41:52] <abique> I don't like scripting languages, especially js where I don't understand the scoping and I always do mistakes
[10:42:01] <chowmeined> so use haskell
[10:42:37] <abique> chowmeined, well I want to re-use it, maybe use some cool filters etc...
[10:42:40] *** Joins: nwin (textual@moz-03iocj.pools.vodafone-ip.de)
[10:42:52] <abique> Also at some point if it is fast why not use it realtime
[10:43:00] <chowmeined> it sounds like you're looking to hear what you want to hear
[10:43:10] <abique> I see
[10:43:24] <tomaka> if you write something slow enough to not be realtime, you almost have to do it on purpose
[10:43:27] <chowmeined> what did you have in mind?
[10:43:42] <chowmeined> do you want to write it in rust for fun? write it in rust
[10:43:46] <aji> smarr: http://is.gd/v5Yn1f not sure if this helps
[10:44:03] <genbattle> abique: Rust is still fairly unstable, and there's not many libraries to help you out for the sort of stuff you want to do. It is the slowest way to achieve what you want (in terms of development time).
[10:44:06] *** Joins: libfud (libfud@moz-p2rb38.eph2.ptd.net)
[10:44:18] <smarr> I don't understand why `let mut v = vec![2, 5]; v[1] = 3;` works
[10:44:36] <abique> tomaka, true
[10:44:42] *** Quits: tcard (tcard@moz-jdrdbk.ddns.jazztel.es) (Client exited)
[10:44:52] <aji> smarr: v is just a Vec, it's not a reference or anything, so 'mut' indicates the value can be changed
[10:45:01] <soma> Hello! In the rust book's deref section[http://doc.rust-lang.org/book/deref-coercions.html]: "Even though f isn’t a reference, and foo takes &self, this works."  This seems a auto-ref to me. Why does it work?
[10:45:30] *** Quits: eerie (eerie@moz-rll6i6.red.bezeqint.net) (Connection closed)
[10:45:37] <abique> chowmeined, I wanted to learn rust with that project ; but I'm thinking to use C/C++ libs and so it maybe better for me to go that way. I wanted to let tomaka know as we spoke previously.
[10:45:41] <smarr> aji, hm, ok, then I do understand something different under the term 'variable binding'
[10:45:43] <aji> smarr: let mut v = &vec![2, 5]; v[1] = 3; will not work
[10:45:46] <abique> genbattle, I think so
[10:46:01] <chowmeined> abique, well, ive found wrapping C libraries to be super easy with rust
[10:46:03] <chowmeined> which is awesome
[10:46:19] <aji> smarr: v is auto-deref'd like (*v)[1] there, so you can see you're trying to change an immutable value, what v points to
[10:46:24] *** Quits: lenstr (lenstr@moz-vho.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[10:46:48] *** Quits: fmtq (fmtq@moz-d08itp.tpgi.com.au) (Ping timeout: 121 seconds)
[10:46:52] <tomaka> soma: It works because the compiler allows it, I don't know hwo this could be explained better
[10:47:41] <Boddlnagg> do you think that something like this is generally useful: http://is.gd/y7IDJY ?
[10:48:43] *** Joins: terpstra_ (terpstra@moz-prpbj8.dip0.t-ipconnect.de)
[10:48:54] *** Joins: fmtq (fmtq@moz-d08itp.tpgi.com.au)
[10:49:06] *** Joins: Matthias247 (Miranda@moz-49li60.hsi14.kabel-badenwuerttemberg.de)
[10:49:44] *** Quits: spider-mario (spidermario@moz-coblcf.fbx.proxad.net) (Ping timeout: 121 seconds)
[10:50:43] *** Quits: errordeveloper (ilya@moz-rfe.3fh.206.90.IP) (Ping timeout: 121 seconds)
[10:50:58] <genbattle> abique: stand on the shoulders of something like OpenFrameworks or Cinder, those sorts of frameworks seem to be weapons of choice for the sort of visualization you're talking about
[10:51:19] <soma> tomaka: sorry. I may not express it clearly. I mean that since it's all about auto-deref or deref-coercion stuff, why does it give an example of autoref?
[10:51:33] <abique> genbattle, thanks!
[10:51:34] <smarr> hm, ok, thanks aji & mindtree
[10:51:35] <mindtree> abique: can confirm, openFrameworks and Cinder are both amazing for throwing together fast, easy visualisations
[10:51:51] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[10:52:09] <TeXitoi> please review my code: https://github.com/TeXitoi/osmpbfreader-rs/pull/3 (and I may not respond just now as I'm in the train). Thanks
[10:52:16] *** Joins: emilk (emilk@moz-eossn5.cust.bredbandsbolaget.se)
[10:52:21] <abique> I'm having a look!
[10:52:39] *** Joins: dstrbad (dstrbad@moz-4tev7n.dsl.iskon.hr)
[10:53:11] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[10:53:15] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[10:54:31] *** Joins: willem (willem@moz-facs2s.dynamic.upc.nl)
[10:54:42] <mindtree> genbattle: I heard on the grapevine we might see a rust version of oF - no idea when though
[10:55:50] *** Quits: dstrbad (dstrbad@moz-4tev7n.dsl.iskon.hr) (A TLS packet with unexpected length was received.)
[10:56:22] *** Quits: emilk (emilk@moz-eossn5.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[10:56:48] *** Joins: lenstr (lenstr@moz-vho.vju.25.171.IP)
[10:57:43] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[10:58:05] *** Joins: tyrion-mx (tyrion@moz-j5rng1.tor-exit.network)
[10:58:19] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Ping timeout: 121 seconds)
[10:58:38] <TeXitoi> abique: thanks
[10:58:49] *** Quits: hurufu (hurufu@moz-5a5pn1.uw.edu.pl) (Connection closed)
[10:59:07] <mindtree> TeXitoi: (I think abique was talking about checking out oF and Cinder)
[10:59:15] <abique> TeXitoi, not at your pull request but at some links I was given; sorry ;-)
[10:59:20] *** Joins: khades (Thunderbird@moz-u45.3vk.74.212.IP)
[10:59:28] <genbattle> mindtree: I can imagine Rust probably wouldn't be the language of choice for the rapid prototyping/creative coding crowd
[10:59:58] <TeXitoi> Ahh, never mind ;)
[11:00:22] *** Joins: jophish (jophish@moz-epocft.broadband.tesco.net)
[11:00:38] <mindtree> genbattle: I'm not so sure, I'm a part of that crowd and am loving it :)
[11:00:59] <terpstra_> genbattle: i’ve been trying to use Rust to prototype a few new algorithms as a learn-rust! exercise. it is indeed a bit more work than other languages in this respect!
[11:01:06] *** Joins: dinfuehr (dinfuehr@moz-3uus2r.highway.telekom.at)
[11:02:02] <smarr> another beginners question, if I have a Vec in a field of a struct, and want to be able to mutate it, the only way to do that is to put it into a RefCell? for example: http://is.gd/Lm1CmW
[11:02:29] <terpstra_> smarr: if you own or have a &mut to the struct you do not need RefCell
[11:02:49] <terpstra_> you only need RefCell if you want to operate on it while it should be constant
[11:03:20] *** Quits: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[11:04:27] *** Quits: dinfuehr (dinfuehr@moz-3uus2r.highway.telekom.at) (Connection closed)
[11:04:35] <mindtree> smarr: you don't need refcell at all in that example
[11:04:43] <mindtree> smarr: http://is.gd/y75zcT
[11:04:43] <TeXitoi> smarr: in an Rc, yes, but if you can avoid Rc, avoid it
[11:04:48] *** Joins: dinfuehr (dinfuehr@moz-3uus2r.highway.telekom.at)
[11:04:53] <smarr> I guess, I don't own it, there are multiple aliases to that vector, so, I thought, I need to put it into an Rc, instead of being able to have it directly in the struct, the struct itself also got multiple aliases, but doesn't need to be muted itself
[11:05:51] *** Quits: mib_i740e7 (Mibbit@moz-mif.gl5.132.104.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[11:05:56] *** Quits: genbattle (Mibbit@moz-ikj3l8.xtra.co.nz) (Quit: http://www.mibbit.com ajax IRC Client)
[11:06:24] <terpstra_> if there are multiple aliases, and you want to nevertheless get a &mut ref, then you need RefCell, yes
[11:06:46] <smarr> ok, thanks
[11:07:02] <terpstra_> but in my (not so experienced) view, you should try to respect the aliasing+mutating rules if possible
[11:07:21] <terpstra_> otherwise you are basically avoiding rust’s borrow checker. sometimes you might need to, but try not to.
[11:07:37] *** Joins: Altazimuth_ (Altazimuth@moz-rb7u6p.skybroadband.com)
[11:08:50] *** Quits: dinfuehr (dinfuehr@moz-3uus2r.highway.telekom.at) (Ping timeout: 121 seconds)
[11:08:51] *** Joins: munksgaa1d (munksgaard@moz-urnkl5.u.parknet.dk)
[11:10:53] *** Joins: DemonOne (Avi@moz-eb61je.red.bezeqint.net)
[11:11:09] *** Joins: eerie (eerie@moz-rll6i6.red.bezeqint.net)
[11:11:50] *** Quits: munksgaard (munksgaard@moz-478pev.u.parknet.dk) (Ping timeout: 121 seconds)
[11:12:15] *** Joins: demelev (Mibbit@moz-5qbmjd.dyn.idknet.com)
[11:13:22] *** Joins: wei2912 (wei2912@moz-oh8.2mf.156.175.IP)
[11:13:24] <demelev> Hello world)
[11:14:20] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[11:14:55] <demelev> Who knows why impl Drop for Vec<T> performs  for x in &*self { ptr::read(x); } before dealloc ?
[11:15:31] <terpstra_> that runs drop on the contents
[11:16:47] <demelev> It's simulates move operation for content?
[11:16:52] <terpstra_> yes
[11:17:09] <terpstra_> returns an object that you don’t do anything with => gets dropped
[11:17:28] *** Joins: gbersac (Mibbit@moz-comrgv.abo.bbox.fr)
[11:17:33] <gbersac> Hi
[11:17:39] <demelev> Understand ) Thanks!)
[11:17:50] <gbersac> does cargo support cross dependency between modules ?
[11:17:58] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[11:18:17] <terpstra_> gbersac: what do you mean by “cross” dependencies? cross compilation?
[11:18:57] <mindtree> gbersac: rustc supports cross imports for modules (as long as the imported items don't create a cyclic dependency)
[11:19:39] <gbersac> I mean use modB::bbb; in modA and use modA::aaa; in modB
[11:20:04] <mindtree> gbersac: sure, that should work
[11:20:36] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[11:21:04] *** Joins: dfinninger (dfinninger@moz-o78v05.fios.verizon.net)
[11:23:00] *** Quits: Palmik (palmik@moz-7pku2p.net.upcbroadband.cz) (Ping timeout: 121 seconds)
[11:24:01] *** Quits: Ms2ger (Ms2ger@moz-f3v.iou.182.91.IP) (Quit: bbl)
[11:24:03] <gbersac> mindtree terpstra_ : it is not working
[11:24:17] <terpstra_> are these modules in the same crate?
[11:24:23] *** Quits: Anupkumar (uid16774@moz-cf8smb.uxbridge.irccloud.com) (Quit: Connection closed for inactivity)
[11:24:42] <gbersac> terpstra_ yes they are
[11:24:44] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[11:25:00] <demelev> error message?
[11:25:03] *** Joins: Palmik (palmik@moz-f2g6om.vpn.muni.cz)
[11:25:06] *** Quits: dfinninger (dfinninger@moz-o78v05.fios.verizon.net) (Ping timeout: 121 seconds)
[11:25:18] *** Quits: kieran (kieran@moz-c5gk5j.ihug.co.nz) (Ping timeout: 121 seconds)
[11:25:19] <mindtree> gbersac: can you show us what you're trying with a playpen example?
[11:26:12] *** Joins: newbiz (newbiz@moz-9m0cr9.fbxo.proxad.net)
[11:26:47] *** Joins: dstrbad (dstrbad@moz-4tev7n.dsl.iskon.hr)
[11:27:11] <gbersac> I am working on it
[11:27:59] <terpstra_> is there a way to get around the fact that closures are unnamed? http://is.gd/Ex9Opx
[11:28:22] <terpstra_> if only we had type inference at the top-level ...
[11:29:33] <demelev> I need to collect lines from big String, I use `let lines: Vec<String> = data.split('\n').map(|line| String::from(line) ).collect()`
[11:29:59] *** Joins: nott (nott@moz-to4.06o.57.86.IP)
[11:30:03] <demelev> Can I make it without copying data from big string?
[11:30:04] *** Quits: ptalbot (ptalbot@moz-g2mokk.ircam.fr) (Connection closed)
[11:30:25] <mindtree> terpstra_: something like this would help https://github.com/rust-lang/rfcs/pull/105
[11:30:37] <terpstra_> demelev: you could collect references instead..?
[11:30:40] *** Quits: newbiz (newbiz@moz-9m0cr9.fbxo.proxad.net) (Connection closed)
[11:30:46] *** Joins: ptalbot (ptalbot@moz-1gn7gb.eu0n.jcdj.0660.2001.IP)
[11:30:50] <demelev> No
[11:31:08] <demelev> My big String it is output from Command
[11:31:20] <demelev> and it will be dropped )
[11:31:23] <dam> is possible to do something like: let foo = r"foo"; let bar = r"bar"; let foobar = ????(foo, bar); // to have foobar = "foobar"? i tried concat! but it only works on literals
[11:31:28] *** Joins: lawki (lawki@moz-8t2ukr.abo.wanadoo.fr)
[11:31:50] <terpstra_> demelev: well, if the source will be dropped, then you will need to copy it.
[11:31:51] <filsmick> dam: you could use a String
[11:32:53] *** Joins: jkbbwr (jakob@moz-n8t64u.angrykittens.co.uk)
[11:32:53] <filsmick> dam: http://is.gd/mpeRmh
[11:32:55] <dam> filsmick: of course but i do not want to heap allocate in this case
[11:33:02] <jkbbwr> is there a simple forking or multiprocessing mechanic in rust?
[11:33:08] *** Joins: newbiz (newbiz@moz-9m0cr9.fbxo.proxad.net)
[11:33:23] <filsmick> dam: last time I had this problem, I tried using concat! too, and asked here
[11:33:30] *** Quits: munksgaa1d (munksgaard@moz-urnkl5.u.parknet.dk) (Ping timeout: 121 seconds)
[11:34:06] <filsmick> dam: I was told to use a String, I doubt there's an easy-to-use way to do this currently
[11:34:23] *** Quits: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr) (Connection closed)
[11:34:29] *** Quits: newbiz (newbiz@moz-9m0cr9.fbxo.proxad.net) (Connection closed)
[11:34:34] *** Joins: newbiz (newbiz@moz-9m0cr9.fbxo.proxad.net)
[11:34:44] *** Joins: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr)
[11:34:57] *** Joins: emilk (emilk@moz-eossn5.cust.bredbandsbolaget.se)
[11:35:07] <mindtree> dam: what do you want to do with them once they're joined? if you don't want to allocate, you could chain both their iterators together http://doc.rust-lang.org/std/iter/trait.Iterator.html#method.chain
[11:35:30] *** Quits: eerie (eerie@moz-rll6i6.red.bezeqint.net) (Connection closed)
[11:35:40] <terpstra_> jkbbwr: https://doc.rust-lang.org/std/thread/index.html
[11:35:50] *** Quits: p1start (p1start@moz-nftjhe.org) (Ping timeout: 121 seconds)
[11:35:51] *** Joins: eerie (eerie@moz-rll6i6.red.bezeqint.net)
[11:36:19] *** Joins: tigrou3tac (fabien@moz-gdonfo.fbx.proxad.net)
[11:36:23] *** Joins: nerdopoly (nerdopoly@moz-ouaagf.range86-143.btcentralplus.com)
[11:36:44] <jkbbwr> terpstra_: Those are threads, I kinda need whole seperate processes
[11:36:55] <terpstra_> jkbbwr: or you mean fork like unix fork() to get a new process? i don’t believe rust gives you this since windows for example does not have it.
[11:37:11] <terpstra_> you can run child processes though
[11:37:37] <terpstra_> jkbbwr: https://doc.rust-lang.org/std/process/struct.Command.html
[11:37:45] <jkbbwr> terpstra_: was hoping for a nicer way :)
[11:38:01] <terpstra_> if you want raw fork(), though, i don’t think rust has it in std:: atm 
[11:38:07] <jkbbwr> terpstra_: I looked at go, and its the same story, both require you to run a whole seperate command wrapped by a Command type
[11:38:24] <terpstra_> well, blame windows for not being posix! ;p
[11:38:27] <dam> mindtree: in this case, i want to do: let foo = r"my_regex"; let not_my_regex = r"[^" my_regex r"]";
[11:38:49] <terpstra_> rust just gives you the portable lowest common denominator 
[11:39:02] *** Joins: tcard (tcard@moz-jdrdbk.ddns.jazztel.es)
[11:39:04] <jkbbwr> terpstra_: uhuh
[11:39:20] <mindtree> dam: right, so you want to concat them at compile time? (i'm not sure how to do this sorry)
[11:39:38] <dam> filsmick: ok, so if i want to not duplicate the code i have to write a macro or use String
[11:39:47] <dam> mindtree: exactly
[11:39:53] *** Quits: eerie (eerie@moz-rll6i6.red.bezeqint.net) (Ping timeout: 121 seconds)
[11:40:58] <terpstra_> dam: where can i read about this r”…” regex syntax?
[11:41:12] *** Quits: mib_aywl6l (Mibbit@moz-bto.6t7.68.207.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[11:41:23] <dam> terpstra_: http://doc.rust-lang.org/regex/regex/index.html
[11:41:28] <soma> hello! http://is.gd/E0VV8X  Why does multi-value enum not be a tuple struct?
[11:41:32] <dam> it is not build in
[11:41:39] <dam> you have to use the regex crate
[11:42:03] <dam> terpstra_: r"..." means raw string not regex
[11:42:31] <terpstra_> i see
[11:42:38] <mindtree> soma: because an enum can have any number of variants, so calling an enum like x.0 doesn't mean anything
[11:43:24] <rudolph> I'm getting an warning at a macro definition place: warning: variant is never used: `None`... can't repro in playpen: http://is.gd/YNoPcR any clues ? 
[11:43:32] <mindtree> soma: you either want to use a tuple struct instead, or you want to do something like `if let A::B(foo, _, _) { ... }`
[11:44:19] *** Quits: nerdopoly (nerdopoly@moz-ouaagf.range86-143.btcentralplus.com) (Quit: leaving)
[11:44:34] *** Joins: geri (geri@moz-gto70s.highway.telekom.at)
[11:44:36] <terpstra_> dam: a pity these compiler plugins don’t work with beta
[11:44:36] <soma> mindtree: so tuple structs have number limits?
[11:44:37] <geri> hi
[11:44:39] *** Joins: zzmp (zzmp@moz-4ds.959.14.76.IP)
[11:44:41] *** Joins: ai (ai@moz-pqofrl.sunline.net.ua)
[11:44:54] <dam> can someone tell me if String::from(foo) is still faster than foo.to_string() and if this is the case why?
[11:44:59] <geri> how can i call c++ code from rust?
[11:45:18] <dam> terpstra_: regex works with beta, but not regex!
[11:45:18] *** Joins: andrew (andrew@moz-ihr.fbp.126.86.IP)
[11:45:44] <terpstra_> yeah, but regexp compiled to native code is bloody awesome
[11:45:57] <dam> terpstra_: y
[11:45:57] *** Joins: nerdopoly (nerdopoly@moz-ouaagf.range86-143.btcentralplus.com)
[11:46:02] <FreeFull> geri: Rust doesn't support interfacing with C++ directly. The easiest way is to have a C wrapper around the C++, and then call the C from Rust
[11:46:11] <terpstra_> dam: foo.to_string calls format!(“{}”, …)
[11:46:14] <mindtree> soma: what do you mean by "number limits"?
[11:46:20] <terpstra_> dam: i don’t think from does, checking
[11:46:21] <geri> FreeFull:why is that?
[11:46:35] <FreeFull> geri: C++ is really tricky to interface with, compared to C
[11:46:36] <dam> geri: mangling
[11:47:01] <geri> FreeFull:do you have an example which shows how to call c code?
[11:47:03] <FreeFull> The mangling would be the easiest part
[11:47:04] <cmr> dam: name mangling isn't an issue.
[11:47:12] <terpstra_> i am wrong
[11:47:21] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[11:47:23] <dam> cmr: really?
[11:47:29] <cmr> dam: yes.
[11:47:31] <terpstra_> dam:     fn from(s: &'a str) -> String { s.to_string() }
[11:47:32] <FreeFull> geri: The FFI part of the book does
[11:47:43] <soma> mindtree: I mean how many elements can a tuple struct have?
[11:47:45] <mindtree> geri: http://blog.rust-lang.org/2015/04/24/Rust-Once-Run-Everywhere.html
[11:47:47] *** Quits: nerdopoly (nerdopoly@moz-ouaagf.range86-143.btcentralplus.com) (Quit: leaving)
[11:47:49] <dam> cmr: could you ellaborate?
[11:47:55] <geri> FreeFull:do you have an example which shows how to call c code?
[11:47:58] <geri> obs
[11:48:04] <cmr> geri: http://doc.rust-lang.org/1.0.0-beta.3/book/ffi.html
[11:48:16] <cmr> dam: name mangling is pretty much trivial to implement.
[11:48:40] <mindtree> soma: about 12 I think? but it's very rare that you'd need any more than half that
[11:48:40] <cmr> dam: actually laying out classes, instantiating templates, and mapping those between Rust and C++, now that's hard.
[11:48:41] *** Quits: zzmp (zzmp@moz-4ds.959.14.76.IP) (Ping timeout: 121 seconds)
[11:49:01] <geri> cmr: callbacks?
[11:49:13] <mindtree> soma: do you understand the enum wasn't working?
[11:49:20] <mindtree> why the*
[11:50:11] <soma> mindtree: actually no. http://is.gd/jd0ENa. I just cannot see the difference
[11:50:33] *** Joins: rkruppe (chatzilla@moz-u65p2j.diu2.0rth.0908.2a02.IP)
[11:51:07] <jkbbwr> Can I set socket options in rust
[11:51:11] <jkbbwr> before it binds
[11:51:29] <mindtree> soma: the difference is that A is an enum (an entirely different kind of type)
[11:51:39] <mindtree> soma: enum's are usually used to hold multiple variants
[11:51:55] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[11:52:36] <mindtree> soma: for example, what is the compiler supposed to do if your enum has two variants? (like this http://is.gd/DKGj7Y)
[11:52:43] <dam> terpstra_: where did you find the code?
[11:52:44] <geri> cmr: can it be done without callbacks?
[11:52:50] <dam> cmr: ok
[11:52:55] <terpstra_> rust/src/libcollections/string.rs
[11:52:58] *** Quits: kmcguire_ (kmcguire@moz-pg1gb9.biz.rr.com) (Ping timeout: 121 seconds)
[11:53:08] <soma> mindtree: Ok, got it. thank you. 
[11:53:15] <mindtree> soma: you can only get data out of enums using pattern matching
[11:53:45] <mindtree> soma: no prob (sorry for my poor explanations :-p)
[11:54:56] <andrew> is it possible to have two functions with the same name but different parameters ?
[11:55:01] <jkbbwr> I can't see any documentation for it
[11:55:20] *** Quits: emilk (emilk@moz-eossn5.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[11:56:01] *** Joins: eerie (eerie@moz-rll6i6.red.bezeqint.net)
[11:56:38] <mindtree> andrew: no
[11:57:01] <geri> can you also call a c function without callbacks?
[11:58:46] *** Joins: Lotos (chat@moz-nq7ss3.dip0.t-ipconnect.de)
[11:59:00] <dam> terpstra_: i see fn from(s: &'a str) -> String { String { vec: <[_]>::to_vec(s.as_bytes()) }
[11:59:40] *** Quits: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr) (Connection closed)
[11:59:41] *** Joins: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr)
[11:59:59] <terpstra_> dam: in “impl<'a> From<&'a str> for String “ ?
[12:00:02] *** Quits: abcrawf (abcrawf@moz-11rs77.acrawford.com) (Connection closed)
[12:00:20] <filsmick> dam: you could write a macro I think, if stack allocations are OK
[12:00:48] <dam> https://github.com/rust-lang/rust/blob/master/src/libcollections/string.rs#L1061
[12:01:05] *** Joins: erz (erz@moz-efrhus.broadband.corbina.ru)
[12:01:15] *** Quits: nott (nott@moz-to4.06o.57.86.IP) (Ping timeout: 121 seconds)
[12:01:30] <terpstra_> dam: this must have been changed. in my version of beta it’s different
[12:01:41] <filsmick> terpstra_: yes, it was optimized very recently.
[12:02:05] <filsmick> terpstra_: https://github.com/rust-lang/rust/pull/24517 if I'm not mistaken.
[12:03:41] <terpstra_> dam: https://github.com/rust-lang/rust/blob/beta/src/libcollections/string.rs#L1005 =D
[12:04:02] *** Quits: forgottenone (forgottenon@moz-pde.j99.45.92.IP) (Quit: Konversation terminated!)
[12:04:13] <geri> can you also call a c function without callbacks?
[12:04:20] <geri> i cant find any good example
[12:04:36] <mindtree> geri: what do you mean "without callbacks"?
[12:04:49] <geri> as it is presented here: http://doc.rust-lang.org/1.0.0-beta.3/book/ffi.html
[12:05:03] *** Joins: dinfuehr (dinfuehr@moz-3uus2r.highway.telekom.at)
[12:05:23] <dam> terpstra_: ;-)
[12:06:24] <terpstra_> how do i get a T::zero() in beta? 
[12:06:50] *** Quits: fmtq (fmtq@moz-d08itp.tpgi.com.au) (Ping timeout: 121 seconds)
[12:06:59] <mindtree> terpstra_: see `num` on crates.io
[12:07:03] <terpstra_> ah
[12:07:05] <terpstra_> of course
[12:07:22] <filsmick> can I get the internal &[u8] from a &str?
[12:08:04] <rudolph> to crate rand in rust-beta, do I need to do anything special? extern crate rand; use rand::rand; doesn't work: error: unresolved import `rand::rand`
[12:08:24] <rudolph> do I need to declare it in Cargo.toml ?
[12:08:24] *** Quits: skade (skade@moz-fs9uan.web.vodafone.de) (Connection closed)
[12:08:31] *** Joins: OwenJia (OwenJia@moz-g8moeh.19.16clouds.com)
[12:08:38] <filsmick> rudolph: yes, in [dependencies]
[12:08:48] *** Joins: fmtq (fmtq@moz-d08itp.tpgi.com.au)
[12:08:51] <rudolph> filsmick: thanks
[12:08:54] <filsmick> rudolph: you have to do this for crates in rust-lang/ that are not part of std, like regex
[12:08:57] <filsmick> or log
[12:09:06] *** Quits: dinfuehr (dinfuehr@moz-3uus2r.highway.telekom.at) (Ping timeout: 121 seconds)
[12:09:13] <rudolph> ah, thanks, didn't know that
[12:09:37] <filsmick> rudolph: by the way, why "rand::rand"? Did you mean "rand::Rand", or something else?
[12:10:36] <rudolph> hmm, I thought of using rand::rand::random<f64>()
[12:10:46] *** Joins: RaVeY (james@moz-umc25m.be)
[12:10:57] <filsmick> rudolph: you want rand::random, I think
[12:11:32] <rudolph> do I have to specify a version for rand crate in [dependencies] ?
[12:11:48] <filsmick> rudolph: you can use "*" if you don't care about the version
[12:12:06] <filsmick> rudolph: `rand = "*"` in [dependencies]
[12:12:14] <rudolph> filsmick: thanks!
[12:12:29] <filsmick> rudolph: :)
[12:13:15] *** Quits: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net) (Quit: 재부팅)
[12:13:24] *** Quits: DemonOne (Avi@moz-eb61je.red.bezeqint.net) (Ping timeout: 121 seconds)
[12:13:43] *** Joins: DemonOne (Avi@moz-pq3i3v.red.bezeqint.net)
[12:14:13] <filsmick> is there any way to get a &[u8] from a &str?..
[12:15:08] *** Quits: khades (Thunderbird@moz-u45.3vk.74.212.IP) (Client exited)
[12:15:11] *** Joins: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net)
[12:15:19] *** Joins: marsel (user@moz-c50.2sa.147.46.IP)
[12:15:29] <terpstra_> filsmick: http://doc.rust-lang.org/std/primitive.str.html#method.as_bytes
[12:15:44] <soma> Hello! why does deref method return a reference?
[12:16:04] <filsmick> terpstra_: thanks! I was looking at https://doc.rust-lang.org/std/str/
[12:16:27] <mindtree> soma: what would you prefer it do? move the whole value out?
[12:16:55] <cmr> geri: not sure what you mean, there are no callbacks in what I linked.
[12:17:14] <cmr> in the core FFI, that is, not the callbacks section.
[12:17:15] <terpstra_> soma: the goal of Deref is to put it into a form where you can access the contents from a custom type. returning ref achieves that goal without implying that the object is consumed
[12:17:17] *** Joins: sigma (sigma@moz-llrbra.range86-135.btcentralplus.com)
[12:17:17] *** Joins: manlycode (manlycode@moz-q1mb3q.mi.comcast.net)
[12:17:19] *** Parts: Boddlnagg (Patrick@moz-l2kbp7.dyn.telefonica.de) ()
[12:17:42] <geri> cmr:?
[12:17:51] *** Joins: yod4z (yod4z@moz-ps9ugv.dyn.nltelcom.net)
[12:18:06] <mindtree> soma: there is also DerefMut btw
[12:18:23] <yod4z> Could Dennis Ritchie have created Rust instead of C back in the day, resulting in a more beautiful world of programming, or are there any technological reasons he couldn't have?
[12:18:36] <soma> terpstra_: thanks.
[12:18:40] <yod4z> or other reasons
[12:18:50] <geri> ... In this example Rust's main() will call trigger_callback() in C, which would, in turn, call back to callback() in Rust.
[12:18:51] <filsmick> yod4z: well, for one, C is a much much simpler language
[12:19:07] <cmr> geri: that's not the only part of that docs, that's only one example.
[12:19:08] <filsmick> yod4z: it would have been extremely hard to implement Rust from scratch at the time
[12:19:41] <yod4z> filsmick: why? is rust made in c maybe?
[12:19:43] <filsmick> yod4z: the original compiler was written in OCaml 
[12:19:46] <terpstra_> half the compiler optimizations that make a language like rust feasible hadn’t been invented yet
[12:20:12] <yod4z> ah ok
[12:20:14] <mindtree> nor had the concept of regions (at least I don't think)
[12:20:19] *** Joins: emilk (emilk@moz-eossn5.cust.bredbandsbolaget.se)
[12:20:32] <filsmick> I may be wrong, but at the time, what was needed was something more portable than assembly, something simple
[12:20:40] <filsmick> C fits that role perfectly
[12:20:48] *** Quits: tcard (tcard@moz-jdrdbk.ddns.jazztel.es) (Client exited)
[12:20:59] <filsmick> Rust's inspiration are relatively recent
[12:21:03] <filsmick> inspirations*
[12:21:20] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[12:21:29] *** Joins: tomprogrammer (thomas@moz-l09qqn.tr5r.qept.4dd0.2001.IP)
[12:21:33] *** Joins: Lotos_ (chat@moz-k3so47.dip0.t-ipconnect.de)
[12:21:46] <filsmick> C still has its uses, many uses
[12:21:46] <geri> can someone construct a small sample and show how to call a c function from rust? the docu only shows callback calls....
[12:22:05] *** Joins: kieran (kieran@moz-c5gk5j.ihug.co.nz)
[12:22:10] <mindtree> geri: I already sent you this, but here it is again http://blog.rust-lang.org/2015/04/24/Rust-Once-Run-Everywhere.html
[12:22:10] <filsmick> geri: this maybe? https://github.com/alexcrichton/rust-ffi-examples
[12:22:26] <cmr> geri: the introduction has what you want. http://doc.rust-lang.org/1.0.0-beta.3/book/ffi.html#introduction
[12:22:34] <cmr> it does *not* only show callbacks.
[12:23:18] <geri> which point?
[12:23:35] *** Quits: lawki (lawki@moz-8t2ukr.abo.wanadoo.fr) (Ping timeout: 121 seconds)
[12:24:01] *** Quits: Porkepix (Porkepix@moz-e1bv2v.rev.sfr.net) (Ping timeout: 121 seconds)
[12:24:18] *** Quits: nedp (nedp@moz-vg6vvt.bigpond.net.au) (Connection closed)
[12:24:33] <geri> can find any useful example
[12:24:41] *** Quits: Lotos (chat@moz-nq7ss3.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[12:25:14] <mindtree> geri: if you actually read through those links properly, you will find the simplest examples possible
[12:25:28] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[12:25:30] <Mutabah> geri: The first sample on that page is calling an external function
[12:25:40] <Mutabah> callbacks are a large-ish chunk down the page
[12:26:15] *** Quits: kieran (kieran@moz-c5gk5j.ihug.co.nz) (Ping timeout: 121 seconds)
[12:27:14] <geri> snappy_max_compressed_length is a c function?
[12:27:26] <Mutabah> geri: Yes
[12:27:38] <geri> so i declare a .c and .h file
[12:27:41] <geri> and try?
[12:27:44] *** Quits: eerie (eerie@moz-rll6i6.red.bezeqint.net) (Connection closed)
[12:27:48] *** Quits: giucam (giucam@moz-iv0nnc.bb.dnainternet.fi) (Connection closed)
[12:27:53] *** Quits: andrew (andrew@moz-ihr.fbp.126.86.IP) (Ping timeout: 121 seconds)
[12:28:19] *** Joins: giucam (giucam@moz-iv0nnc.bb.dnainternet.fi)
[12:28:23] <Mutabah> geri: You need a "libsnappy.[a,so]" file avaliable
[12:28:43] *** Joins: moa (Cedric@moz-biifv3.fbx.proxad.net)
[12:28:44] <Mutabah> geri: Or just libsnappy installed
[12:29:25] <yod4z> In this modern age, when should I use C instead of Rust?
[12:29:50] <cmr> yod4z: there are still C compilers on more platforms than LLVM supports.
[12:30:08] *** Joins: Porkepix (Porkepix@moz-e1bv2v.rev.sfr.net)
[12:30:26] <freefall> yod4z: when you want doubly-linked lists
[12:30:59] <mindtree> freefall: nah, you just want unsafe ;)
[12:31:50] <WindowsBunny> yod4z: Whenever Rust is impossible and C is the only choice
[12:31:57] <filsmick> is there a way to statically get the size of a fixed-size array? (for use in a macro)
[12:31:58] <yod4z> heh
[12:32:21] *** Joins: acgtyrant (acgtyrant@moz-3kd.b79.160.124.IP)
[12:32:28] <cmr> filsmick: not really, no, there's just .len()
[12:32:39] <filsmick> cmr: ew, it's too bad
[12:33:06] * mindtree imagines it being a const fn
[12:33:09] <filsmick> cmr: so it's impossible to concatenate two &'static str without heap alloc...?
[12:33:22] <cmr> filsmick: correct.
[12:33:24] <geri> libsnappy?
[12:33:29] <cmr> filsmick: well, no, not correct.
[12:33:33] <geri> i need to create a static lib?
[12:33:35] * filsmick is all hears
[12:33:35] <cmr> filsmick: there's concat!()
[12:33:38] <aji> can't C do some things faster than rust? like working with arbitrary graph structures?
[12:33:43] <filsmick> cmr: this only works on literals.
[12:33:50] *** Quits: dalarmmst (dalarmmst@moz-mb21j4.bredband.comhem.se) (Ping timeout: 121 seconds)
[12:33:57] <cmr> filsmick: right.
[12:34:02] <filsmick> aji: C can be faster than Rust when you don't need some features or safety checks.
[12:34:10] <cmr> aji: you can write any C code in Rust using unsafe.
[12:34:15] <rkruppe> aji: If you use unsafe {} you can do whatever C does, it's just no better than C
[12:34:28] <terpstra_> is there a .split() for &[T] that also includes the delimiter in the ranges?
[12:34:35] <filsmick> cmr: yes, but won't you have to reimplement a ton of things, like null-terminated strings and such?
[12:34:40] *** Joins: dalarmmst (dalarmmst@moz-mb21j4.bredband.comhem.se)
[12:34:51] *** Quits: giucam (giucam@moz-iv0nnc.bb.dnainternet.fi) (Ping timeout: 121 seconds)
[12:34:53] <rkruppe> And for most kinds of graphs there is a safe representation that ought to be as fast as any reasonable C implementation
[12:34:57] <cmr> Some of that is in the stdlib, but yes.
[12:35:05] <aji> i wonder how a h264 decoder written in rust would perform
[12:35:09] <aji> with and without unsafe code
[12:35:42] <filsmick> cmr: I hope the day will come when it's possible to write C in Rust, literally, to avoid crossing language boundaries (inlining comes to my mind)
[12:35:42] <mindtree> I don't see why there's reason rust can't be just as fast in any case, you just need unsafe to compete properly sometimes
[12:35:43] <Blub\w> shouldn't `var @ 1 | 2 | 3` work as a match pattern? it seems to make me type `var @ 1 | var @ 2 | var @ 3 ...`
[12:35:46] <cmr> probably like crap compared to one written in mostly-assembly or hardware accelerated :)
[12:36:16] <cmr> Blub\w: whether it should or it shouldn't is up for debate, but that's not how the language works right now.
[12:36:29] <aji> true, libx264 is probably full of tons of assembly (i haven't actually looked to be honest)
[12:36:50] <Mutabah> geri: Read the example properly
[12:37:01] <mindtree> Blub\w: woah that actually works still?? I thought that was canned?
[12:37:24] <soma> Hello!  http://is.gd/wBpSU0 ; How can I make B and C produce different items?
[12:37:26] <Mutabah> geri: You don't _need_ a static lib (if you do linking manually)
[12:37:47] <Blub\w> so what do I do instead?
[12:37:51] <cmr> aji: it is, yes.
[12:37:54] <Mutabah> soma: :/ They'd be different T's
[12:38:19] <Blub\w> mindtree: yeah: http://is.gd/81EvRJ
[12:38:40] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Connection closed)
[12:38:41] <Mutabah> soma: You could have "enum A<T: Iterator<Item=IA>,U: Iterator<Item=IB>> { A(T), B(U) }"
[12:38:53] <steveklabnik> comex: it is
[12:39:04] *** Quits: LinuxBunny (Retep998@moz-prmara.east.verizon.net) (Ping timeout: 121 seconds)
[12:39:07] <steveklabnik> comex: at least, thats what i thought last time i read the overflow RFC
[12:39:28] <cmr> comex: steveklabnik is correct.
[12:40:15] <geri> Mutabah:You need a "libsnappy.[a,so]" file avaliable  ?? can i just add a .c file und use unsafe?
[12:40:29] <soma> Mutabah: that seems complex. is there a better way?
[12:40:48] <mindtree> Blub\w: ohhh, right, you used to be able to do pattern bindings after the @ as well
[12:40:57] <soma> Mutabah: I may have about ten variants
[12:41:03] <Mutabah> geri: The C file must be compiled by a C compiler, and be avaliable for rustc to use
[12:41:29] <Blub\w> I mean I know in this simple case I can just use `value` instead of writing `good@` everywhere...
[12:41:29] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[12:41:41] *** Joins: achanda (achanda@moz-qv7q4n.ca.comcast.net)
[12:41:53] <Mutabah> soma: Not really... each variant would be using a different iterator type
[12:42:38] <geri> Murarth:i want to use unsafe!
[12:42:39] <Mutabah> geri: The example on the page uses a library, and uses that fact that rustc by defauly will compile+link for you (the #[link] attribute tells rustc to link against the named library)
[12:42:50] <Mutabah> geri: ... unsafe is a completely different point
[12:43:35] <geri> Murarth:i dont want to use a library
[12:43:37] <mindtree> soma: you could `Box` the iterators, but that would require a dynamic allocation
[12:43:44] *** Quits: gp5st (jim@moz-k130hq.east.verizon.net) (Ping timeout: 121 seconds)
[12:44:05] *** Joins: anoman (andrew@moz-ihr.fbp.126.86.IP)
[12:44:09] *** Quits: playjax (chatzilla@moz-k5s6hh.optusnet.com.au) (Ping timeout: 121 seconds)
[12:44:25] <Mutabah> geri: 1. Check your nicknames, 2. How versed are you with multi-file C?
[12:44:37] <mindtree> geri: the link I sent you links to actual working examples of ffi with C
[12:44:58] <geri> mindtree:you example uses a library
[12:45:20] <mindtree> geri: https://github.com/alexcrichton/rust-ffi-examples/tree/master/c-to-rust
[12:45:22] <frankmcsherry> I have two slices &[S] and &[T], would like to produce an iterator over all pairs (&S, &T). flat_map doesn't seem to cut it due to lifetimes...
[12:45:36] <cmr> frankmcsherry: .zip ?
[12:45:43] *** Quits: achanda (achanda@moz-qv7q4n.ca.comcast.net) (Ping timeout: 121 seconds)
[12:45:44] <cmr> Oh, cartesian product?
[12:45:49] <frankmcsherry> cmr: right, sorry.
[12:45:52] <geri> mindtree:wrong direction... this calls rust from c!
[12:45:54] <mindtree> geri: sorry, this https://github.com/alexcrichton/rust-ffi-examples/tree/master/rust-to-c
[12:45:59] *** Quits: dstrbad (dstrbad@moz-4tev7n.dsl.iskon.hr) (A TLS packet with unexpected length was received.)
[12:46:03] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[12:46:22] <geri> mindtree:thanks, exactly what i look for
[12:46:32] <mindtree> geri: I did send it 3 times now :-p
[12:46:53] *** Joins: mahdi (mahdi@moz-hvj.ahp.244.151.IP)
[12:47:01] <FreeFull> frankmcsherry: flat_map should work
[12:47:11] <huon> playbot: let a = &[1,2,3]; let b = &[10, 20, 30, 40]; a.iter().flat_map(|x| std::iter::repeat(x).zip(b.iter())).count() // frankmcsherry 
[12:47:12] -playbot- 12
[12:47:19] <anoman> re matching multiple things, via a | or a ..., you can bind the value to a name with @:
[12:47:22] <anoman> let x = 1;
[12:47:48] <frankmcsherry> huon: ok, that is different than what I wrote. :)
[12:47:59] <geri> mindtree: error: use of unstable library feature 'libc'
[12:48:00] *** Joins: nedp (nedp@moz-vg6vvt.bigpond.net.au)
[12:48:01] *** Joins: gp5st (jim@moz-k130hq.east.verizon.net)
[12:48:02] <anoman> sorry for that,
[12:48:21] <mindtree> geri: add `libc = "*"` to your Cargo dependencies
[12:48:55] *** Quits: marsel (user@moz-c50.2sa.147.46.IP) (Ping timeout: 121 seconds)
[12:48:57] <geri> i dont use cargo until now
[12:49:09] <benh> I really like forget() becoming safe because it makes methods that disarm RAII guards safely less smelly <:D
[12:50:45] *** Quits: woboats (tatterdemal@moz-a0dnkb.ca.comcast.net) (Ping timeout: 121 seconds)
[12:50:59] <Mutabah> benh: Exept usually if you're disarming a guard, you're doing unsafe stuff anyway
[12:51:24] *** Joins: nott (nott@moz-to4.06o.57.86.IP)
[12:51:34] <frankmcsherry> FreeFull, huon: ok, that seemed to work. Is it easy to explain why a.iter().flat_map(|x| b.iter().map(|y| my_func(x, y))) doesn't?
[12:51:49] <Mutabah> benh: Every place I've used forget, it's in conjuction with FFI or some other unsafe method
[12:51:55] <frankmcsherry> FreeFull, huon: or just, "lifetimes, lol".
[12:52:07] *** Joins: essem2 (Thunderbird@moz-l86scb.sd.cox.net)
[12:52:20] <Mutabah> benh: Drop might not be required for memory safety, but just for program stability, you want them to run
[12:52:24] <soma> Hello! http://is.gd/WqtOXO, why does this enum take 16bytes
[12:52:31] <dam> does rust have something like constant local value like 'static const int foo = 1' in c++ for e.g.?
[12:52:41] <Mutabah> soma: The tag
[12:52:48] <mindtree> geri: there is a Cargo tutorial at the very beginning of the rust book
[12:52:58] <Mutabah> soma: 8 bytes for the f64/i64 fields, plus an integer for the tag
[12:53:01] <cmr> dam: sure, you can have all items local to functions, ie, fn foo() { const foo: int = 1; ... }
[12:53:09] <frankmcsherry> soma: because it has an 8byte element, and needs an additional field for alignment, but structs are aligned on the largest element alignment.
[12:53:09] <cmr> (unlimited nesting)
[12:53:22] <Mutabah> soma: THat iteger could be 1 byte... but the other fields need to be aligned, so it rounds up to 16 bytes
[12:53:26] <frankmcsherry> *for enum tag*, sorry.
[12:54:28] <soma> thank you 
[12:55:43] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[12:56:10] *** Quits: nott (nott@moz-to4.06o.57.86.IP) (Ping timeout: 121 seconds)
[12:56:55] <huon> frankmcsherry: closures capture by reference if the internal types mean they can, by default
[12:57:15] <huon> frankmcsherry: which means x is being captured with a reference that's trapped to the outer closure
[12:57:36] <frankmcsherry> huon: so the repeat explicitly clones the reference for me?
[12:57:39] <huon> frankmcsherry: one can override the default with te `move` keyword, `.map(move |y| my_func(x, y))`.
[12:58:14] <huon> playbot: let a = &[1,2]; let b = &[3,4,5]; a.iter().flat_map(|x| b.iter().map(move |y| (x, y))).count()
[12:58:16] -playbot- 6
[12:58:36] <huon> repeat is "capturing" x by value
[13:00:16] *** Quits: yatima (yatima@moz-826ghf.compute.amazonaws.com) (Quit: WeeChat 0.4.2)
[13:01:13] <dam> cmr: ok and does it work with str? ie i would like to do: const foo = "foo"
[13:01:36] *** Joins: __mark__ (mark@moz-n9pouk.fios.verizon.net)
[13:01:52] <frankmcsherry> huon: ty!
[13:02:07] <dam> cmr: in my case i really want something like #define 
[13:02:44] *** Quits: __mark__ (mark@moz-n9pouk.fios.verizon.net) (Client exited)
[13:02:58] *** Joins: Johannes (Johannes@moz-ufvp1b.nttpc.ne.jp)
[13:03:45] *** Joins: burntsushi__ (burntsushi@moz-t92kn9.ma.charter.com)
[13:04:09] *** Quits: burntsushi (burntsushi@moz-t92kn9.ma.charter.com) (Ping timeout: 121 seconds)
[13:05:06] <geri> im new to rust but its cool!
[13:05:49] <geri> are there any plans to support c++ for rust? at the moment you need to write a c wrapper
[13:05:49] *** Joins: dinfuehr (dinfuehr@moz-3uus2r.highway.telekom.at)
[13:06:36] <cmr> not in the short term.
[13:06:47] <geri> cmr:what do yo mean?
[13:07:16] *** Joins: lawki (lawki@moz-8t2ukr.abo.wanadoo.fr)
[13:07:16] <cmr> geri: it's a lot of work and it's not on anyone's to-do list afaik.
[13:07:20] *** Quits: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net) (Ping timeout: 121 seconds)
[13:07:35] <geri> cmr: oh i see.... why is there so much work?
[13:07:36] *** Quits: Johannes (Johannes@moz-ufvp1b.nttpc.ne.jp) (Connection closed)
[13:07:51] <cmr> Handling templates, multiple inheritance, etc.
[13:08:01] <dam> cmr: forget my last question, it works for str too
[13:08:08] <geri> ok... templates might be difficult
[13:08:21] <geri> im new to cargo... why does it say Compiling gcc v0.3.5?
[13:08:25] <geri> gcc 0.3.5?
[13:08:43] <SneakySnake> geri: https://crates.io/crates/gcc
[13:08:46] *** Joins: eerie (eerie@moz-rll6i6.red.bezeqint.net)
[13:09:42] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[13:09:52] *** Quits: dinfuehr (dinfuehr@moz-3uus2r.highway.telekom.at) (Ping timeout: 121 seconds)
[13:10:04] <geri> why is Cargo.lock not cleaned if you enter cargo clean?
[13:10:44] *** Quits: mahdi (mahdi@moz-hvj.ahp.244.151.IP) (Ping timeout: 121 seconds)
[13:11:02] *** Joins: mahdi (mahdi@moz-ipf.n3s.129.78.IP)
[13:11:34] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[13:12:18] *** Joins: alex-abreu (alex@moz-32c1u6.mc.videotron.ca)
[13:12:25] <steveklabnik> cargo clean is for a clean build
[13:12:28] *** Quits: lawki (lawki@moz-8t2ukr.abo.wanadoo.fr) (Ping timeout: 121 seconds)
[13:12:34] <steveklabnik> deleting the lock would destroy information about what to build
[13:12:57] <steveklabnik> you should never need to destroy the lockfile unless something has seriously gone wrong
[13:13:01] <geri> is the not re-created if you do cargo build ?
[13:13:05] <steveklabnik> well
[13:13:09] <steveklabnik> it could be different
[13:13:18] <steveklabnik> it would re-do the entire dependnecy resolution algorithm
[13:13:30] <steveklabnik> it'd be unfortunate if you lost your repeatable build when you want a clean rebuild
[13:13:40] <geri> i see
[13:13:46] *** Joins: Ycros (ycros@moz-f8shio.ycros.org)
[13:14:12] *** Joins: nott (nott@moz-to4.06o.57.86.IP)
[13:14:16] *** Joins: Guest63 (textual@moz-ttd.2as.255.109.IP)
[13:14:23] *** Joins: Hiroghkk (maxxie@moz-3trfs4.31-151.libero.it)
[13:14:23] <steveklabnik> 'cargo update' will re-do the resoltion if that's what you want, cargo update -p foo will only update with regards to foo
[13:14:29] <geri> i guess the lock file shouldnt not be checked into git...
[13:14:36] <terpstra_> &[T].iter().as_slice() is super useful. is there any way to get it for &[T].iter().rev().as_slice() ?
[13:15:23] <steveklabnik> geri: it should for binaries, but shouldn't for libraries
[13:15:36] *** Joins: dinfuehr (dinfuehr@moz-3uus2r.highway.telekom.at)
[13:15:40] *** Joins: marsel (user@moz-c50.2sa.147.46.IP)
[13:15:42] *** Quits: dinfuehr (dinfuehr@moz-3uus2r.highway.telekom.at) (Connection closed)
[13:15:57] *** Joins: dinfuehr (dinfuehr@moz-3uus2r.highway.telekom.at)
[13:16:14] <geri> steveklabnik:binaries?
[13:16:14] <steveklabnik> geri: http://doc.crates.io/faq.html#why-do-binaries-have-cargo.lock-in-version-control,-but-not-libraries?
[13:16:32] <steveklabnik> main.rs, rather than lib.rs. an executable program
[13:16:38] <emilk> Borrow checker problem: I want to iterate over a collection and mutate its elements. But I need to do an immutable borrow as well, but I can't. http://is.gd/AZslOt
[13:16:57] <steveklabnik> that's iterator invalidation
[13:16:59] <emilk> should I do this with .into_iter().map(|...|).collect() maybe ?
[13:17:19] <Hiroghkk> Is it a design choice not to let binaries export unmangled symbols like libraries do?
[13:17:22] <steveklabnik> well
[13:17:25] <steveklabnik> hold on, emilk 
[13:17:28] <emilk> but that would have a performance hit
[13:17:29] <emilk> ok!
[13:17:51] *** Quits: fmtq (fmtq@moz-d08itp.tpgi.com.au) (Ping timeout: 121 seconds)
[13:17:55] <terpstra_> emilk: why not just put ‘let len = stuff.len();’ before the loop?
[13:17:59] <frankmcsherry> emilk: just capture the len outside the loop?
[13:18:47] <emilk> well, my actual use case is a bit more involved
[13:18:51] <terpstra_> and if stuff.len() was just a stand-in for some more complex borrow, then you cannot use an iterator in this cas.e
[13:19:07] <emilk> it's more like  for x in &mut self.foo { *x += self.bar(); }
[13:19:18] <emilk> well, self.bar(x); I guess
[13:19:21] <terpstra_> you cannot do a loop like that with iterators.
[13:19:53] *** Quits: mindcat (mindcat@moz-dph.tp2.136.119.IP) (Quit: Lost terminal)
[13:19:56] <emilk> the problem is I borrow "self" I think
[13:20:06] *** Quits: willem (willem@moz-facs2s.dynamic.upc.nl) (Quit: leaving)
[13:20:06] <geri> so rust gets stable on may 15?
[13:20:11] *** Joins: fmtq (fmtq@moz-d08itp.tpgi.com.au)
[13:20:11] <terpstra_> the problem is the iterator borrowed the self as mutable
[13:20:19] <terpstra_> so you cannot have another borrow while the iterator is alive
[13:20:30] *** Joins: Wild_Cat (Max@moz-ijo.rq2.175.184.IP)
[13:20:41] <terpstra_> => you cannot use an iterator in this case
[13:20:57] <frankmcsherry> huon: can one selectively move/not values into a closure?
[13:21:00] <emilk> I came up with a solution now... but I will have problems with this again I feel
[13:21:12] <terpstra_> yes. it annoys me constantly as well.
[13:21:13] <frankmcsherry> huon: in this case, I have that ref I'd love to move in, and another that I cannot.
[13:21:17] *** Joins: orangeshark (erik@moz-ddkpvg.44tj.56ot.0306.2602.IP)
[13:21:37] <soma> terpstra_: I suppose not. as_slice can only be called when there is a well-defined continuos memory region. Rev is not.
[13:21:41] <emilk> for x in &mut self.foo { ... }  <- does that borrow 'self'? b/c I feel it should borrow self.foo specifically, freeing up other members to be borrowed
[13:22:00] <frankmcsherry> emilk: another option is to skip the for .. in .. pattern, and do "while let Some(data) = iterator.next()"
[13:22:00] <terpstra_> soma: one could have provided an impl for Rev<Iter> in slice.rs
[13:22:06] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[13:22:09] *** Joins: Quanttek (quassel@moz-25k96c.6fkd.dvrb.8108.2a02.IP)
[13:22:32] <terpstra_> soma: since in the case of Rev<Slice::Iter>, you in fact still have a contiguous region
[13:22:37] <frankmcsherry> emilk: or rather, if you have something that exposes .next() that isn't an iterator that holds a long borrow, I guess I meant.
[13:22:44] *** Joins: uuser (chatzilla@moz-gprb3u.range86-136.btcentralplus.com)
[13:22:49] <huon> frankmcsherry: explicitly make a reference and capture that
[13:23:07] <huon> frankmcsherry: (the default capturing-by-reference is the same as `move`ing a reference)
[13:23:15] *** Quits: essem2 (Thunderbird@moz-l86scb.sd.cox.net) (Client exited)
[13:23:18] <terpstra_> emilk: yes, it only borrows self.foo
[13:23:33] *** Quits: Lotos_ (chat@moz-k3so47.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[13:23:48] <emilk> I think I groked it now
[13:23:53] <terpstra_> frankmcsherry: a while let Some(data) = iterator.next() will not help him
[13:24:02] <terpstra_> because the iterator will still hold a &mut to self.foo
[13:24:05] <frankmcsherry> emilk: the problem is usually that in the closure, self.bar.method() usually captures a reference to self, not self.bar.
[13:24:18] <emilk> insteaf of doing   self.foo()  inside the inenr loop I did  foo(self.other_member)  which is what I really needed
[13:24:28] *** Joins: tristanseifert (tristanseif@moz-r0t7ns.res.rr.com)
[13:24:30] <terpstra_> oh!
[13:24:36] <terpstra_> then you *can* use an iterator
[13:24:40] <terpstra_> you’re in luck. ;)
[13:24:40] <frankmcsherry> emilk: another fix is to do let bar = &self.bar; outside the loop, and use bar in the loop.
[13:24:58] <terpstra_> exactly what frankmcsherry said
[13:24:59] *** Quits: emilk (emilk@moz-eossn5.cust.bredbandsbolaget.se) (Quit: Lost terminal)
[13:25:28] *** Joins: emilk (emilk@moz-eossn5.cust.bredbandsbolaget.se)
[13:25:41] <emilk> oops
[13:25:43] *** Joins: idegen (greg@moz-9c4nle.or.frontiernet.net)
[13:25:43] <terpstra_> i thought you wanted to iterator something and then inspect it while iterating (like with your .len() examply)
[13:25:54] <emilk> my example was stupid =)
[13:26:10] <terpstra_> well, on the code i am working on, i need exactly this feature :(
[13:26:14] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[13:26:47] *** Quits: idegen (greg@moz-9c4nle.or.frontiernet.net) (Connection closed)
[13:27:03] <soma> terpstra_: I don't think it is. In the compiler's view, contiguous region should have consist address order, otherwise all the sorting algothrims impl for [T] will get mess up
[13:27:27] <terpstra_> soma: Rev<T> is just a struct including the original iterator
[13:27:36] <terpstra_> soma: and an iterator over a slice is a start+end pointer
[13:27:47] <terpstra_> when you got rev().next() it just backs up the end pointer
[13:28:00] <terpstra_> so in fact, rev.iter.as_slice() works… but i have no access to the rev.iter
[13:28:51] *** Quits: nedp (nedp@moz-vg6vvt.bigpond.net.au) (Connection closed)
[13:29:33] *** Quits: anoman (andrew@moz-ihr.fbp.126.86.IP) (Ping timeout: 121 seconds)
[13:30:01] <fkaa> i seem to have angered the borrow checker again: http://is.gd/G3pena
[13:30:08] <terpstra_> actually, the fix might be as simple as adding an impl Rev<T> { fn get_original(&self) { self.iter } }
[13:30:35] *** Quits: jiojiajiu (anonymous@moz-trc2j7.asianet.co.th) (Connection closed)
[13:30:36] <fkaa> i want to split up iterating through a vec and make it parallel, is the problem with my data structure?
[13:30:46] *** Joins: jiojiajiu (anonymous@moz-trc2j7.asianet.co.th)
[13:31:03] *** Parts: Hiroghkk (maxxie@moz-3trfs4.31-151.libero.it) ()
[13:31:08] <terpstra_> fkaa: you cannot use a global thread for this
[13:31:11] <terpstra_> you need a soped thread
[13:31:11] *** Joins: idegen (greg@moz-9c4nle.or.frontiernet.net)
[13:31:14] <soma> terpstra_: Ok, suppose I get the iter field. will the slice you get be a new one or the original one?
[13:31:17] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[13:31:29] <fkaa> global thread?
[13:31:44] <terpstra_> thread::spawn can run longer than your function lives
[13:31:48] <cmr> fkaa: I would recommend putting the vec in an Arc and sending the threads indices of the start/end of the slices they are responsiable for.
[13:31:50] <terpstra_> so ‘a’ may go out of scope
[13:32:01] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[13:32:07] <terpstra_> you need to promise that the thread’s lifetime is shorter than the function body
[13:32:12] <terpstra_> you can get this using scoped threads
[13:32:30] <terpstra_> fkaa: https://doc.rust-lang.org/std/thread/
[13:32:58] *** Quits: wunki (wunki@moz-hd3.jfj.210.149.IP) (A TLS packet with unexpected length was received.)
[13:33:09] <terpstra_> (unfortunately, scoped threads atm are being broken for beta i believe)
[13:33:30] <fkaa> i feel so lost http://is.gd/PDXR2N
[13:34:08] <terpstra_> fkaa: get rid of the ‘move’ keywrod
[13:34:24] *** Quits: grncdr (Adium@moz-m1g.e47.90.95.IP) (Quit: Leaving.)
[13:34:53] <fkaa> "the trait `core::marker::Sync` is not implemented for the type `core::cell::UnsafeCell<std::sync::mpsc::Flavor<(&(i32, i32), (i32, i32))>>`"
[13:34:56] *** Joins: cmtptr (corey@moz-csd.obd.59.71.IP)
[13:35:16] <FreeFull> fkaa: http://is.gd/eBQQwp
[13:35:41] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[13:35:42] <FreeFull> fkaa: Note that the thread::scoped api is going to change very soon
[13:35:42] *** Joins: wunki (wunki@moz-hd3.jfj.210.149.IP)
[13:36:53] *** Joins: ytain (ytain@moz-hut.ooe.161.108.IP)
[13:37:27] <geri> so rust gets stable on may 15?
[13:37:33] *** Parts: uuser (chatzilla@moz-gprb3u.range86-136.btcentralplus.com) ("")
[13:37:34] <fkaa> not safe to send tuples over channels?
[13:38:03] <mbrubeck> geri: yes!
[13:38:17] *** Quits: dinfuehr (dinfuehr@moz-3uus2r.highway.telekom.at) (Connection closed)
[13:38:31] <FreeFull> fkaa: Tuples are safe
[13:38:33] <geri> mbrubeck:pretty cool
[13:38:44] <FreeFull> fkaa: Does your data contain a Cell<T>?
[13:38:45] <geri> mbrubeck:thanks for the hard work@
[13:38:47] <geri> !
[13:38:48] <FreeFull> Cell<T> isn't thread-safe
[13:38:53] <fkaa> it doesn't
[13:39:05] <mindtree> fkaa: what about Rc?
[13:39:24] <fkaa> for?
[13:39:26] <mbrubeck> impl<T> !Sync for UnsafeCell<T>
[13:39:32] <mbrubeck> http://doc.rust-lang.org/std/cell/struct.UnsafeCell.html
[13:39:55] <mindtree> fkaa: does your data contain an Rc?
[13:39:59] *** Joins: dinfuehr (dinfuehr@moz-3uus2r.highway.telekom.at)
[13:40:04] <fkaa> nope
[13:40:15] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[13:41:06] <fkaa> if anyone wants to have a look at all the code: https://gist.github.com/fkaa/8c60bf4b949c3123caa0 (~120 lines)
[13:42:19] <eerie> why is default float f64?
[13:44:31] *** Quits: nott (nott@moz-to4.06o.57.86.IP) (Ping timeout: 121 seconds)
[13:44:35] *** Quits: bvssvni (sven@moz-j9hjar.bb.online.no) (Ping timeout: 121 seconds)
[13:44:48] *** Joins: bvssvni (sven@moz-j9hjar.bb.online.no)
[13:44:58] *** Quits: wunki (wunki@moz-hd3.jfj.210.149.IP) (Connection closed)
[13:45:02] <mbrubeck> eerie: I think i32 and f64 were chosen as defaults because they're fairly reasonable for a range of use cases.  There's really no "right" answer.
[13:45:05] *** Joins: giucam (giucam@moz-iv0nnc.bb.dnainternet.fi)
[13:45:21] <steveklabnik> i32 was chosen because it's the default in other languages, and is generally faster on all systems
[13:45:25] <mbrubeck> https://github.com/rust-lang/rfcs/blob/master/text/0212-restore-int-fallback.md explains why the defaults exist, but doesn't really mention why f64 over f32.
[13:45:33] <steveklabnik> i don't think there was as strong of a case for f32/f64
[13:45:47] *** Joins: mkpankov (mkpankov@moz-fc8.n6u.23.84.IP)
[13:46:19] *** Joins: colinsurprenant (colin@moz-q9ee1n.74.electronicbox.net)
[13:47:39] *** Joins: errordeveloper (ilya@moz-rfe.3fh.206.90.IP)
[13:48:24] <frankmcsherry> i'm still pro-BigInt.
[13:49:00] <eerie> any reason why println!("{}", var); can't be just  println!(var); ?
[13:49:08] <frankmcsherry> hey, when do we get all of our slices implementing Index<u64>, or whatever the plan was?
[13:49:25] <mbrubeck> fkaa: I think it's the Sender `tx` that has an UnsafeCell, so it can't be sent by reference to another thread.
[13:49:36] <mbrubeck> http://doc.rust-lang.org/src/std/sync/mpsc/mod.rs.html#321-323
[13:49:46] *** Joins: kmcguire (kmcguire@moz-c955nf.res.rr.com)
[13:50:15] *** Quits: psy (psy@moz-ous.ntd.6.103.IP) (Connection closed)
[13:50:27] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[13:50:43] <mbrubeck> eerie: I wonder the same thing... Seems like the macro could specialize for the one-argument case...
[13:50:52] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[13:50:55] <fkaa> grr
[13:50:56] <frankmcsherry> fkaa: looks like you might want a move in front of the end.map closure?
[13:51:15] *** Quits: hoony (Thunderbird@moz-q5r.8e9.96.183.IP) (Client exited)
[13:51:24] <mbrubeck> eerie: Though in that case, should `println!("{}")` print a literal {} or be an error?
[13:51:54] *** Quits: errordeveloper (ilya@moz-rfe.3fh.206.90.IP) (Ping timeout: 121 seconds)
[13:52:05] <eerie> mbrubeck: I think it could go even further and have a case for println!(x, y, z) to expand to println!("{} {} {}", x, y, z)
[13:52:26] <fkaa> :/ nope, borrow checker doesn't like me today
[13:52:26] <eerie> mbrubeck: { and } are not escaped, so error I suppose
[13:52:36] <fkaa> think i'm going to put it on hold for now at least
[13:53:01] *** Quits: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr) (Connection closed)
[13:53:11] *** Quits: yuja (yuja@moz-9bkrqb.pikara.ne.jp) (Ping timeout: 121 seconds)
[13:53:16] <mbrubeck> eerie: Okay, but that means that the initial expression has a different meaning if it's a string literal versus any other expression... I don't think you could do that in a macro, though I guess you could in a syntax extension.
[13:53:17] *** Joins: psy (psy@moz-ous.ntd.6.103.IP)
[13:53:42] *** Joins: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr)
[13:53:58] *** Quits: dinfuehr (dinfuehr@moz-3uus2r.highway.telekom.at) (Connection closed)
[13:54:02] <frankmcsherry> fkaa: sorry, the thread.scoped closure, rather.
[13:55:04] *** Quits: lenstr (lenstr@moz-vho.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[13:55:29] <soma> Hello!http://is.gd/fftS07, why does variable a not need to be mut?
[13:55:48] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Connection closed)
[13:55:51] <fkaa> frankmcsherry: it compiles!
[13:56:01] *** Quits: manlycode (manlycode@moz-q1mb3q.mi.comcast.net) (Ping timeout: 121 seconds)
[13:56:08] <fkaa> now, how to read from the receiver..
[13:56:11] *** Quits: thiblahute (tsaunier@moz-68f5rr.rev.sfr.net) (Ping timeout: 121 seconds)
[13:56:24] <frankmcsherry> fkaa: you just got a taste of the frankmcsherry magic: "hrm, doesn't compile. maybe this. nope. hrm. maybe this. nope hrm."
[13:56:50] <fkaa> is this what spaghetti coding is? throwing code onto the compiler and seeing if it sticks
[13:57:01] <mbrubeck> soma: RefCell is used for `interior mutability` that is checked at runtime, not compile time.
[13:57:17] <mbrubeck> soma: see http://doc.rust-lang.org/std/cell/index.html
[13:57:35] *** Joins: lenstr (lenstr@moz-vho.vju.25.171.IP)
[13:57:39] *** Quits: Matthias247 (Miranda@moz-49li60.hsi14.kabel-badenwuerttemberg.de) (Connection closed)
[13:58:04] *** Joins: qwerty_nor (Thunderbird@moz-vuo.d5a.248.5.IP)
[13:59:54] <soma> thank you
[14:01:37] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[14:01:45] <dam> why concat! is restricted to literal and not extended to work with const variable?
[14:02:42] *** Joins: tyrick (tyrick@moz-q9b.0o3.144.24.IP)
[14:02:51] *** Joins: happy-dude_ (uid62780@moz-jt3517.charlton.irccloud.com)
[14:03:04] <soma> Hello! where does method with_c_str go?
[14:04:10] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[14:05:01] *** Joins: thiblahute (tsaunier@moz-68f5rr.rev.sfr.net)
[14:05:02] *** Quits: mkoskar (mkoskar@moz-stu.9h6.254.199.IP) (Client exited)
[14:05:34] <bstrie> dam: because that's literally impossible :)
[14:06:53] <bstrie> dam: syntax extensions inspect token trees during the parsing phase, they don't know anything about types or anything about what's outside of their expansion
[14:09:16] *** Quits: QuadTan (Tan@moz-r5oa06.student.uu.se) (Connection closed)
[14:09:59] *** Joins: Guest96 (textual@moz-dmfek5.ma.comcast.net)
[14:10:41] *** Quits: Lilly (Lilly@moz-pfkvo9.bredband.comhem.se) (Quit: bajs)
[14:10:43] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Connection closed)
[14:10:44] *** Quits: Guest96 (textual@moz-dmfek5.ma.comcast.net) (Quit: Textual IRC Client: www.textualapp.com)
[14:10:57] *** Joins: kieran (kieran@moz-c5gk5j.ihug.co.nz)
[14:11:02] *** Joins: griffindy (textual@moz-dmfek5.ma.comcast.net)
[14:11:16] *** Quits: emilk (emilk@moz-eossn5.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[14:11:32] *** Quits: thiblahute (tsaunier@moz-68f5rr.rev.sfr.net) (Ping timeout: 121 seconds)
[14:11:52] *** Quits: tyrion-mx (tyrion@moz-j5rng1.tor-exit.network) (Ping timeout: 121 seconds)
[14:13:10] *** Joins: mkpankov` (mkpankov@moz-31a.jvq.149.83.IP)
[14:13:16] *** Joins: spastorino (sid27384@moz-i6sgse.brockwell.irccloud.com)
[14:13:49] *** Joins: manlycode (manlycode@moz-q1mb3q.mi.comcast.net)
[14:13:54] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[14:15:08] *** Quits: kieran (kieran@moz-c5gk5j.ihug.co.nz) (Ping timeout: 121 seconds)
[14:15:50] *** Quits: mkpankov (mkpankov@moz-fc8.n6u.23.84.IP) (Ping timeout: 121 seconds)
[14:16:09] *** Quits: avikpal (avikpal@moz-lji.igl.194.117.IP) (Connection closed)
[14:17:38] <frankmcsherry> as much as I like .drain(), it is the main source of bugs I have (putting it under a conditional, so the vector isn't emptied)
[14:20:39] *** Joins: adjivas (adjivas@moz-t655t6.abo.wanadoo.fr)
[14:21:32] *** Joins: DerisiveLogic (smuxi@moz-g93io6.res.rr.com)
[14:22:23] *** Joins: mceier (mceier@moz-fm89sb.dynamic.chello.pl)
[14:22:31] *** Joins: tcard (tcard@moz-jdrdbk.ddns.jazztel.es)
[14:22:52] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[14:25:21] <dam> bstrie: ok
[14:25:22] <adjivas> Hi @all! I search a library for parse String by braket '"' and splace ' ', have you a recommendation for me :-)?
[14:26:37] *** Quits: psy (psy@moz-ous.ntd.6.103.IP) (Ping timeout: 121 seconds)
[14:26:59] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[14:27:21] *** Joins: annodomini (lambda@moz-qgii5v.ma.comcast.net)
[14:27:22] <dam> playbot: "foo\"bar foobar".split([' ', '\"'])
[14:27:23] -playbot- output truncated; full output at: http://bit.ly/1DRFmng
[14:27:57] *** Quits: yod4z (yod4z@moz-ps9ugv.dyn.nltelcom.net) (Client exited)
[14:28:26] <adjivas> dam: Thank you! I will try this
[14:29:40] *** Joins: killercup (killercup@moz-gpufip.dip0.t-ipconnect.de)
[14:30:50] *** Quits: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr) (Connection closed)
[14:30:51] *** Joins: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr)
[14:31:15] *** darkowlzz|afk is now known as darkowlzz
[14:33:28] <dam> adjivas: http://is.gd/f7a4Fx
[14:35:25] *** Joins: lenstr_ (lenstr@moz-hri.vju.25.171.IP)
[14:35:29] *** bentley|away is now known as bentley
[14:36:14] *** Joins: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net)
[14:37:03] *** Quits: alex-abreu (alex@moz-32c1u6.mc.videotron.ca) (Quit: Leaving)
[14:37:11] *** Joins: alex-abreu (alex@moz-32c1u6.mc.videotron.ca)
[14:37:37] *** Quits: lenstr (lenstr@moz-vho.vju.25.171.IP) (Ping timeout: 121 seconds)
[14:38:06] *** Quits: fmtq (fmtq@moz-d08itp.tpgi.com.au) (Ping timeout: 121 seconds)
[14:38:16] *** Quits: marsel (user@moz-c50.2sa.147.46.IP) (Ping timeout: 121 seconds)
[14:38:20] *** Joins: gareins (Mibbit@moz-nks.906.235.212.IP)
[14:38:29] <adjivas> dam: Thank's :-) This link is a best example
[14:38:39] *** Quits: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[14:40:15] <adjivas> dam: I try more to do this http://is.gd/tRecCi but now I can search and try to continue your example
[14:40:20] *** Joins: fmtq (fmtq@moz-d08itp.tpgi.com.au)
[14:42:24] *** Quits: michael1 (michael@moz-9vjtig.mo.charter.com) (Ping timeout: 121 seconds)
[14:42:41] *** Joins: psy (psy@moz-ous.ntd.6.103.IP)
[14:43:29] *** Joins: achanda (achanda@moz-qv7q4n.ca.comcast.net)
[14:44:52] *** Joins: duesenfranz_ (jona@moz-711djm.tirol.surfer.at)
[14:45:19] *** Joins: ianj (ianjneu@moz-ht5jmt.ma.comcast.net)
[14:46:10] *** Quits: gareins (Mibbit@moz-nks.906.235.212.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[14:46:25] *** Quits: manlycode (manlycode@moz-q1mb3q.mi.comcast.net) (Ping timeout: 121 seconds)
[14:47:21] *** Quits: SneakySnake (nya@moz-i9is4u.pool.telekom.hu) (Connection closed)
[14:47:31] *** Quits: achanda (achanda@moz-qv7q4n.ca.comcast.net) (Ping timeout: 121 seconds)
[14:47:37] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[14:47:50] *** Joins: dcb (textual@moz-j72nfe.ca.comcast.net)
[14:48:46] *** Joins: mib_1dsacv (Mibbit@moz-m7a79u.hsi17.kabel-badenwuerttemberg.de)
[14:49:17] *** Quits: Wild_Cat (Max@moz-ijo.rq2.175.184.IP) (Ping timeout: 121 seconds)
[14:49:47] *** Quits: fkaa (tundmatu@moz-501od2.business.telia.com) (Ping timeout: 121 seconds)
[14:49:57] *** Joins: Riastradh (riastradh@moz-ums8mr.tor-exit.network)
[14:50:36] <mib_1dsacv> hi, I have a quick question: Is it possible to remove the notes when compiling a static library with cargo? Or do I have to read the 'note: link against the following native artifacts when linking against this static library' every time?
[14:51:32] *** Quits: kmcguire (kmcguire@moz-c955nf.res.rr.com) (Connection closed)
[14:51:48] *** Joins: kmcguire (kmcguire@moz-c955nf.res.rr.com)
[14:52:31] <frankmcsherry> I'm seeing a surprising amount of cmp::impls::u32.PartialOrd::le in my profiler runs. I'm looking at core::cmp, and it looks like the logic is to match a < or an =; how sure are we that LLVM figures out the right asm?
[14:52:52] <cmr> frankmcsherry: are you building with optimizations?
[14:52:56] <frankmcsherry> cmr: yes
[14:53:29] *** Joins: fkaa (tundmatu@moz-501od2.business.telia.com)
[14:53:58] <frankmcsherry> cmr: I have debug=true in Cargo.toml, though, to get nice symbols. I'm presuming this just keeps an annotation of symbols vs code segments, or is that wrong?
[14:55:04] <cmr> frankmcsherry: building with debuginfo does prohibit some optimizations because of how we need to emit code for that case
[14:55:13] <frankmcsherry> cmr: lemme re-try without that
[14:55:32] *** Quits: ianj (ianjneu@moz-ht5jmt.ma.comcast.net) (Ping timeout: 121 seconds)
[14:55:40] *** Joins: dusty (dusty@moz-209sor.abo.wanadoo.fr)
[14:55:52] <frankmcsherry> cmr: I mean, I suspect I won't see u32::le anymore, of course, but I should be able to notice the perf if it gets simplified.
[14:56:04] *** Quits: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr) (Quit: )
[14:56:42] *** Parts: dusty (dusty@moz-209sor.abo.wanadoo.fr) ("WeeChat 1.1.1")
[14:56:47] *** Joins: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr)
[14:57:45] *** Quits: turtil (turtil@moz-8am.857.98.121.IP) (Ping timeout: 121 seconds)
[14:58:13] *** Joins: woboats (tatterdemal@moz-a0dnkb.ca.comcast.net)
[14:58:14] <frankmcsherry> cmr: hard to say. It got about 1s faster, with about 3.4s reported in u32::le when symbols were live
[14:58:21] *** Joins: Diggsey (diggsey@moz-260ua7.dsl.pipex.com)
[14:58:52] <cmr> frankmcsherry: should pull out the disassembler and take a look.
[14:59:11] *** Quits: jjthrash (jjthrash@moz-gsigbq.res.rr.com) (Quit: Leaving...)
[14:59:11] <cmr> the impl is just a <= b, so the only issue would be if the calls aren't getting inlined (which they should be)
[14:59:15] <frankmcsherry> cmr: that makes sense. I haven't gotten that far yet, unfortunately. >.<
[14:59:29] <geri> any company already building stuff in rust?
[15:01:02] <dam> adjivas: in this case i think you should search for '\"' or ' '
[15:01:07] <frankmcsherry> cmr: i'm sorry, you are right. I saw the default impls, but didn't see that the partial_ord_impl! macro overrode them.
[15:01:08] <Dr-Emann> Beyond mozilla? Not many yet, though there are a few I think. And several evaluating it for use. 
[15:01:26] <steveklabnik> geri: there's a few
[15:01:34] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[15:01:35] <steveklabnik> geri: big ones are skylight.io, opendns, maidsafe
[15:01:37] <geri> can i find a list somewhere?
[15:02:02] <frankmcsherry> ^
[15:02:07] <gp5st> ^
[15:02:47] <fmtq> >
[15:03:10] *** Quits: mib_1dsacv (Mibbit@moz-m7a79u.hsi17.kabel-badenwuerttemberg.de) (Quit: http://www.mibbit.com ajax IRC Client)
[15:03:15] <dam> is there a crate which make it possible to use #bench with rust beta?
[15:03:39] <steveklabnik> you can do stuff with feature flags
[15:03:45] *** Joins: polyfractal (polyfractal@moz-v88dif.artists.westelcom.com)
[15:04:41] *** Joins: dinfuehr (dinfuehr@moz-3uus2r.highway.telekom.at)
[15:05:06] <steveklabnik> cargo feature flags
[15:05:16] <steveklabnik> so that way it doesn't run the benches on beta, but can on nightly
[15:05:21] *** Joins: unixpickle (textual@moz-rac9cb.nj.comcast.net)
[15:05:34] *** Quits: soma (Mibbit@moz-ef5.7ab.191.107.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[15:07:57] *** Joins: michael1 (michael@moz-9vjtig.mo.charter.com)
[15:08:43] *** Joins: dschatzberg (dschatz@moz-nk1clf.bu.edu)
[15:08:49] *** Quits: dinfuehr (dinfuehr@moz-3uus2r.highway.telekom.at) (Ping timeout: 121 seconds)
[15:09:51] *** Joins: purak (purak@moz-qam.l9c.236.88.IP)
[15:10:04] *** Joins: hjr3 (hradtke@moz-5lr.q30.13.108.IP)
[15:10:09] *** Joins: Twinklebear (Twinklebear@moz-ttrcn3.ut.comcast.net)
[15:10:45] <adjivas> dam: I have another idea, I will send to you a example when I hase ended it
[15:11:03] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[15:11:38] <mkpankov`> any links on Rust usage in MaidSafe? their site mentions C++ only
[15:11:57] <cmr> mkpankov`: they have some info on their forum
[15:12:54] <steveklabnik> https://forum.safenetwork.io/t/weekly-devupdate-16-march-2015/3370 <- mkpankov` 
[15:13:00] *** Joins: frankmcs_ (frankmcsher@moz-adqedv.adsl.alicedsl.de)
[15:13:02] *** Quits: dam (user@moz-it9sv4.fbx.proxad.net) (Ping timeout: 121 seconds)
[15:13:34] *** Quits: frankmcsherry (frankmcsher@moz-lk7oj0.adsl.alicedsl.de) (Ping timeout: 121 seconds)
[15:13:34] *** Joins: avikpal (avikpal@moz-lji.igl.194.117.IP)
[15:13:49] *** Joins: tadh (quassel@moz-88tk3f.res.rr.com)
[15:14:09] *** Joins: meh (meh@moz-p5gc2m.42-151.net24.it)
[15:14:26] <mkpankov`> thanks!
[15:14:56] *** Quits: michael1 (michael@moz-9vjtig.mo.charter.com) (Ping timeout: 121 seconds)
[15:17:45] *** Joins: mdup (cc@moz-g3j7cf.abo.wanadoo.fr)
[15:17:47] *** Joins: Guest74 (textual@moz-sgc6kt.east.myfairpoint.net)
[15:19:19] *** Joins: mkpankov (user@moz-31a.jvq.149.83.IP)
[15:19:20] *** Joins: khades (Thunderbird@moz-u45.3vk.74.212.IP)
[15:19:55] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[15:20:04] *** Quits: mkpankov` (mkpankov@moz-31a.jvq.149.83.IP) (Quit: Bye)
[15:20:10] *** Joins: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net)
[15:21:35] *** Quits: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[15:21:42] *** Joins: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net)
[15:22:16] *** Joins: bombless (_@moz-v758bl.0v2u.0v40.0da8.2001.IP)
[15:22:29] *** Joins: RalfJ (quassel@moz-5t4t9t.ralfj.de)
[15:23:08] *** Joins: new_one (new_one@moz-suj.lcf.15.50.IP)
[15:23:36] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[15:23:49] <RalfJ> Hi all - why does Any have duplicate implementations of sume functions? according to <http://doc.rust-lang.org/std/any/trait.Any.html>, there's an impl for "Any + 'static" and one for "Any + 'static + Send". But any type that's "Any + 'static + Send" is also "Any + 'static", and hence could just use the first impl, right? What am I missing here?
[15:24:41] <eddyb> RalfJ: it might be working around some limitations of method dispatch, I'm not sure
[15:25:21] <RalfJ> eddyb: I'd have expected some hint in the docs for that, but even in the source I could not find any. also, what limitations could that be?
[15:25:42] *** Quits: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[15:26:01] <eddyb> you can test it by writing a dummy trait and seeing if methods implemented on Trait apply to Trait+Send
[15:26:33] *** Quits: eerie (eerie@moz-rll6i6.red.bezeqint.net) (Connection closed)
[15:26:54] *** Joins: eerie (eerie@moz-rll6i6.red.bezeqint.net)
[15:26:57] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[15:27:10] *** Quits: alonlevy (alon@moz-4jqdpb.telavivmakers.org) (Ping timeout: 121 seconds)
[15:27:37] *** Joins: blank_na1e (blank_name@moz-204.u7h.36.50.IP)
[15:27:43] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[15:28:02] *** Quits: blank_name (blank_name@moz-trd.8u3.36.50.IP) (Ping timeout: 121 seconds)
[15:28:34] *** Joins: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net)
[15:29:58] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Connection closed)
[15:30:48] *** Quits: yota (Sebastien@moz-gunu6t.3iqc.r856.0e35.2a01.IP) (Connection closed)
[15:30:56] *** Quits: eerie (eerie@moz-rll6i6.red.bezeqint.net) (Ping timeout: 121 seconds)
[15:32:01] <RalfJ> eddyb: this is not trait implementations... it's inherent methods of a trait?! "impl Any {". I did not even know that's possible?
[15:33:15] <gbersac> Hi
[15:33:31] <gbersac> I have circular dependency error. How to solve it ?
[15:33:42] *** Quits: terpstra_ (terpstra@moz-prpbj8.dip0.t-ipconnect.de) (Client exited)
[15:34:28] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[15:34:41] *** Joins: Ms2ger (Ms2ger@moz-f3v.iou.182.91.IP)
[15:35:09] *** Joins: wippler (Mibbit@moz-7vj.o7a.80.183.IP)
[15:35:51] <eddyb> RalfJ: well, it used to be "impl<'a> AnyRefExt for &'a Any", before. but extension traits are annoying to have around, and they're no longer necessary for a bunch of things
[15:36:08] *** Joins: anomico (anhedonia@moz-30a.f3u.135.5.IP)
[15:36:29] *** Quits: wippler (Mibbit@moz-7vj.o7a.80.183.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[15:36:38] <RalfJ> eddyb: wait, Self is &'a Any? I'd have expected it to be Any?
[15:37:12] <eddyb> well, at some point `impl AnyExt for Any` became possible
[15:37:21] <mindtree> gbersac: you'll have to share some code / more details
[15:37:30] *** Joins: brianloveswords (brianlovesw@moz-tq78gs.fios.verizon.net)
[15:37:54] <eddyb> but I don't recall it ever going through that phase
[15:38:07] *** Quits: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr) (Connection closed)
[15:38:22] *** Joins: anoman (andrew@moz-ihr.fbp.126.86.IP)
[15:38:36] <eddyb> both `impl TraitA for TraitB` and simply `impl Trait` are valid now
[15:38:48] *** Joins: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr)
[15:38:52] *** Joins: w4ffles (w4ffles_@moz-39g2un.3l9u.jbps.6000.2605.IP)
[15:39:27] <RalfJ> eddyb: so the first adds a & implicitly? your message above seems to indicate that. though I'd expect it to be sugar for "impl<T: TraitB> TraitA for T"
[15:39:41] <RalfJ> eddyb: here's my attempt at a similar exampl,e but it doesn't like it: http://is.gd/GixsYO
[15:39:54] *** Quits: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr) (Connection closed)
[15:39:55] *** Joins: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr)
[15:40:58] *** Joins: mib_eboyi5 (Mibbit@moz-uuj.3et.127.77.IP)
[15:41:44] *** Joins: davebettin (davebettin@moz-acc.cl4.35.72.IP)
[15:42:41] <gbersac> For my depency error, I am sorry, but I failed to reduce the problem, I'll give you the pages by themselves :
[15:42:44] <gbersac> https://github.com/gbersac/rustc-serialize/blob/json_mod/src/json/builder.rs
[15:42:51] <gbersac> https://github.com/gbersac/rustc-serialize/blob/json_mod/src/json/builder.rs
[15:42:58] *** Quits: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[15:42:59] <gbersac> https://github.com/gbersac/rustc-serialize/blob/json_mod/src/json/json.rs
[15:43:17] <gbersac> If anyone could help me it would be awesome.
[15:43:26] <gbersac> The problem is on the json_mod branch
[15:43:35] *** Joins: munksgaard (munksgaard@moz-vj4.hq0.225.130.IP)
[15:44:07] *** Quits: tadh (quassel@moz-88tk3f.res.rr.com) (Ping timeout: 121 seconds)
[15:44:39] *** Quits: woboats (tatterdemal@moz-a0dnkb.ca.comcast.net) (Ping timeout: 121 seconds)
[15:44:58] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[15:46:17] *** Quits: wei2912 (wei2912@moz-oh8.2mf.156.175.IP) (A TLS packet with unexpected length was received.)
[15:46:26] *** Quits: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr) (Connection closed)
[15:46:52] *** Joins: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr)
[15:46:58] *** Quits: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr) (Connection closed)
[15:46:59] *** Joins: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr)
[15:47:06] *** Quits: mib_eboyi5 (Mibbit@moz-uuj.3et.127.77.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[15:47:15] *** Joins: ruabmbua (Mibbit@moz-g8amnl.highway.telekom.at)
[15:47:52] <gbersac> It looks like most of the time, cross dependency is not a problem, but that, for unknow reason, it is a problem in that case.
[15:47:59] <mbrubeck> gbersac: I'm getting a few errors, including an "unresolved import" at src/json/mod.rs:1 pub use self::to_json::{ToJson};
[15:48:13] <mbrubeck> does that match what you're seeing?
[15:48:48] <gbersac> mbrubeck yes it is
[15:48:57] <RalfJ> eddyb: the reference at <http://doc.rust-lang.org/nightly/reference.html#implementations> still says that inherent impls "are limited to nominal types (enums, structs)"
[15:49:08] *** Quits: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr) (Connection closed)
[15:49:09] *** Quits: kvsari (kvsari@moz-fgsnv9.bbtec.net) (Connection closed)
[15:49:18] <RalfJ> is the behaviour of "impl Trait" and "impl TraitA for TraitB" documented anywhere?
[15:49:49] *** Joins: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr)
[15:49:55] <Ms2ger> Not sure what you mean by "behaviour"
[15:49:58] <steveklabnik> RalfJ: eddyb impl: http://doc.rust-lang.org/nightly/book/method-syntax.html impl for http://doc.rust-lang.org/nightly/book/traits.html
[15:50:00] *** Quits: colinsurprenant (colin@moz-q9ee1n.74.electronicbox.net) (Client exited)
[15:50:18] <steveklabnik> but i mean, it's also right there
[15:50:20] <Ms2ger> Those constructs add methods to trait objects
[15:51:02] *** Quits: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr) (Connection closed)
[15:51:03] *** Joins: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr)
[15:51:37] <RalfJ> steveklabnik: that only covers "impl Struct" and "impl Trait for Struct", doesn't it?
[15:51:52] *** Quits: Guest74 (textual@moz-sgc6kt.east.myfairpoint.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[15:52:09] <mkpankov> does anyone by any chance have code samples with memory safety bugs of the types that Rust prevents?..
[15:52:24] <RalfJ> I know these. but I just learned that one can write "impl T", where T is the name of a trait, and I'd like to know what htat means. my attempts at making <http://is.gd/GixsYO> compile failed ;-)
[15:52:24] <mkpankov> writing example code for keynote turned out to be not so easy
[15:53:02] *** Quits: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr) (Connection closed)
[15:53:07] <ruabmbua> Does anyone of you know something about game development / graphics in rust? I do not have any experience in game development at all, and want to begin with rust, because it seems to me, that it fits for the task. Also it looks like to me, that there is a little bit infrastructure for it(pistion). Do you recommend starting game development in rust?
[15:53:09] *** Quits: tcard (tcard@moz-jdrdbk.ddns.jazztel.es) (Client exited)
[15:53:21] <frankmcs_> mkpankov: I just take screenshots >.>
[15:53:27] <steveklabnik> RalfJ: ahhh, yes. Ms2ger has your answer though
[15:53:29] *** Joins: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr)
[15:53:33] <steveklabnik> ruabmbua: there's #rust-gamedev
[15:53:42] <steveklabnik> ruabmbua: piston is the big project in the space for sure
[15:53:55] *** Quits: munksgaard (munksgaard@moz-vj4.hq0.225.130.IP) (Ping timeout: 121 seconds)
[15:54:01] <mkpankov> frankmcs_: screenshots of what? I mean I don't want toy examples
[15:54:13] <cmtptr> am I going insane or does rustbyexample.com change like every few hours?
[15:54:13] *** Quits: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr) (Connection closed)
[15:54:14] *** Joins: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr)
[15:54:24] <steveklabnik> cmtptr: i just merged a big re-organization PR
[15:54:40] <cmtptr> but I thought it's happened more than once over the past few days
[15:54:40] <RalfJ> Ms2ger, steveklabnik: to trait objects *only*? oh wow, that's surprising. why should trait objects have methods that one cannot call on proper types implementating all these traits?
[15:54:57] <cmtptr> I keep looking back and discovered sections that come before where I'm at but that I never read
[15:55:04] <ruabmbua> steveklabnik: I am a little bit confused about the piston. Am i right, that there are multiple backend for windowing and drawing? (Like glutin, and gfx-rs)
[15:55:08] <frankmcs_> mkpankov: I misunderstood, sorry! I had issues getting nicely formatted code into keynote, the presentation software, and thought you had the same problem.
[15:55:19] <ruabmbua> ~ the piston project
[15:55:22] <RalfJ> mkpankov: I usually take an example where I first borrow something from a String/Vec (like, a slice or so), and then call some function taht may reallocate the backbuffer (like, appending, or reserve). rust forbids the 2nd call as long as the reference returned by the 1st is in scope.
[15:55:27] <gbersac> steveklabnik did you heard about cross dependency between modules error in rust ?
[15:55:32] <Ms2ger> RalfJ, you may be looking for impl<T: Trait> T {}
[15:56:03] <mkpankov> frankmcs_: no sweat :) maybe I'll encounter that problem later
[15:56:04] <steveklabnik> ruabmbua: i don't know _THAT_ well, but yes, that's my understanding
[15:56:09] <RalfJ> Ms2ger: oh, that also exists? wow. what I'm looking for is actually understanding what's going on with Any.
[15:56:22] <steveklabnik> gbersac: i saw you pasted a bunch of stuff, but didn't have the time to dive in
[15:56:27] <ruabmbua> Okay I`ll go over to rust-gamedev
[15:56:36] <RalfJ> Ms2ger: there's an "impl Any", and an "impl Any+Send" that has the same functions again...?!?
[15:57:07] <gbersac> steveklabnik no problem, just in case you knew about a ressource talking about it.
[15:57:10] *** Joins: eerie (eerie@moz-rll6i6.red.bezeqint.net)
[15:57:23] <RalfJ> Ms2ger: also, rustc rejects "impl<T: Mytest> T" with "no base type found for inherent implementation; implement a trait or new type instead"
[15:57:27] <Ms2ger> Oh
[15:57:37] <Ms2ger> impl<T: Trait> Foo for T {}, then
[15:57:56] <Ms2ger> I believe the methods on Any vs Any+Send have slightly different signatures?
[15:58:03] <RalfJ> yeah, okay so that's as I know it: defining an extension trait and then implementing it. okay.
[15:58:35] <RalfJ> Ms2ger: if they do, I can't spot it
[15:59:00] <RalfJ> but maybe it's because of the downcasts, and how one would lose the Send
[15:59:13] <mbrubeck> trait objects Box<Any> and Box<Any+Send> are distinct types, aren't they?
[15:59:19] <Ms2ger> They are
[15:59:20] <RalfJ> but then, this just shows that the entire method does not scale, as there's many more things one may want to keep, that one loses here
[15:59:24] *** Joins: agjacome (agjacome@moz-2na505.dynamic.jazztel.es)
[15:59:56] *** Joins: kieran (kieran@moz-c5gk5j.ihug.co.nz)
[16:00:13] <RalfJ> no, actually I dont see it. the return type is a type parameter, doesn't make a difference.
[16:00:22] *** Joins: zzing (textual@moz-jucm1n.cpe.distributel.net)
[16:00:33] <RalfJ> mbrubeck: well, yes. but one can convert from Any+Send to Any. right?
[16:01:15] <RalfJ> I mean, I may also have Any+Sync, or Any+<some custom trait>, all distinc types - and then the Any+Send impl won't help at all... so what's special about Send?
[16:01:29] *** Quits: eerie (eerie@moz-rll6i6.red.bezeqint.net) (Ping timeout: 121 seconds)
[16:02:47] *** bentley is now known as bentley|away
[16:04:05] *** Quits: kieran (kieran@moz-c5gk5j.ihug.co.nz) (Ping timeout: 121 seconds)
[16:05:08] *** Quits: ptalbot (ptalbot@moz-1gn7gb.eu0n.jcdj.0660.2001.IP) (Ping timeout: 121 seconds)
[16:05:45] *** Quits: davebettin (davebettin@moz-acc.cl4.35.72.IP) (Ping timeout: 121 seconds)
[16:05:49] <mbrubeck> huh, you're right... http://is.gd/SMcDn5
[16:06:01] <mbrubeck> I didn't realize you could "downcast" like that.
[16:06:02] <RalfJ> eddyb: so this answer my original question: <http://is.gd/MmZqMD>. it seems that Any+Send is just one that happens to be used a lot, so it's globally provided, but really this makes me wonder about the usefulnes of impls for trait objects.
[16:06:02] <RalfJ> also, when I replace "Box<Mytest>" by "&mytest", I get type/lifetime errors.
[16:06:31] *** Quits: laogao (laogao@moz-k1t.k7v.78.124.IP) (Connection closed)
[16:06:52] <RalfJ> ("&Mytest", of course)
[16:07:13] <darkfox> Is there any way to encode/decode traits? (More specifically using toml with rustc_serialize)
[16:07:18] *** suvash_away is now known as suvash
[16:08:26] <darkfox> One 'incomplete' method that I've thought of is to just get a HashMap of the results at the level of the trait - then have the implementors work on the hashmap to extract their required bits.
[16:10:12] *** Joins: nedp (nedp@moz-vg6vvt.bigpond.net.au)
[16:10:41] *** Quits: thelastinuit (thelastinui@moz-doh.aqt.240.148.IP) (Quit: Textual IRC Client: www.textualapp.com)
[16:10:58] *** Joins: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP)
[16:12:41] *** Joins: thelastinuit (thelastinui@moz-doh.aqt.240.148.IP)
[16:13:05] *** Joins: guaqua (user@moz-nk0gc7.kapsi.fi)
[16:13:43] *** Quits: alex-abreu (alex@moz-32c1u6.mc.videotron.ca) (Quit: Leaving)
[16:13:48] <cmtptr> can I somehow print the type of a thing?
[16:14:42] <Mutabah> cmtptr: Depends, at compile-time the trick is to assign it to a () or similar
[16:15:04] <Mutabah> cmtptr: At run time, you can use the type_name intrinsic to turn a type parameter into a string
[16:15:29] *** Quits: avikpal (avikpal@moz-lji.igl.194.117.IP) (Connection closed)
[16:15:36] *** Joins: yota (Sebastien@moz-3iekue.3iqc.r856.0e35.2a01.IP)
[16:15:45] <cmtptr> Mutabah, thanks
[16:16:34] *** Joins: tyrion-mx (tyrion@moz-4lmh4m.privacyfoundation.ch)
[16:16:53] <guaqua> are there some good rules for how to name a rust library? i'm in the process of porting a library in another language and i'd like to have distinct name for the rust version. i.e. what is the synonym for pymylib in python in rust world? i've seen -rs -suffix being used, but...
[16:16:57] *** Joins: colinsurprenant (colin@moz-q9ee1n.74.electronicbox.net)
[16:17:10] *** Quits: qwerty_nor (Thunderbird@moz-vuo.d5a.248.5.IP) (Ping timeout: 121 seconds)
[16:17:52] <guaqua> one option off course is just call it mylib and then have "-rust"-suffix in the repository name
[16:18:36] *** Joins: dam (user@moz-it9sv4.fbx.proxad.net)
[16:19:07] *** darkowlzz is now known as darkowlzz|afk
[16:21:35] *** Joins: rubberduck (Mibbit@moz-9k4u0i.dip0.t-ipconnect.de)
[16:22:14] *** Joins: soma (Mibbit@moz-ef5.7ab.191.107.IP)
[16:22:23] *** Quits: mahdi (mahdi@moz-ipf.n3s.129.78.IP) (Quit: Leaving)
[16:22:45] <Ms2ger> guaqua, rust- prefix or -rs suffix, mostly
[16:22:57] <mkpankov> if I want to initialize a Vec with numbers, is dumb loop idiomatic?
[16:23:05] <mkpankov> like this
[16:23:05] <mkpankov>     for i in 0..numbers.len() {
[16:23:05] <mkpankov>         numbers[i] = i as isize;
[16:23:05] <mkpankov>     }
[16:23:08] *** mkpankov was kicked by fripp.mozilla.org (Channel flood triggered (limit is 5 lines in 3 secs))
[16:23:10] <gbersac> Thanks every one for taking the time to trying to help me. I posted my problem on stackoverflow : http://stackoverflow.com/questions/30004569/circular-depency-between-modules-error
[16:23:24] *** Quits: jwatt (roslea@jwatt.irc.users.mozilla.org) (Ping timeout: 121 seconds)
[16:23:25] <gbersac> It would be great if you took time to take a look
[16:23:26] <soma> hello! rustc complains: could not find native static library jit, perhaps an -L flag is missing?  cmd: -L native="/root/jit.rs/sys/target/debug/build/libjit-sys-b604d88b704dee73/out" -l static=jit`; I've checked that this dir has libjit.a
[16:23:34] <rkruppe> guaqua: thing-rust, thing-rs, thing.rs are all common when it's modeled after an existing library or implements a rust-agnostic algorithm/protocol/etc.
[16:23:36] *** Joins: nwin_ (textual@moz-33a01v.stratoserver.net)
[16:23:50] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[16:24:03] <dam> steveklabnik: ty
[16:24:10] *** Joins: edbond (edbond@moz-8st.7gv.108.109.IP)
[16:24:12] *** Joins: mkpankov (user@moz-31a.jvq.149.83.IP)
[16:24:13] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[16:24:16] <Ms2ger> mkpankov, no :)
[16:24:18] <rkruppe> When it's a more original work, I've mostly seen cutesy names without reference to Rust, or at most wordplays on rust
[16:24:20] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[16:24:25] *** Quits: griffindy (textual@moz-dmfek5.ma.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[16:24:41] <mkpankov> Ms2ger: what do I do instead?
[16:24:48] <steveklabnik> yeah, adding -rust or -rs or .rs in the rust package name is kinda bad
[16:24:51] <Ms2ger> mkpankov, let number = (0..x).collect::<Vec<_>>()
[16:24:56] <steveklabnik> in the repo name? less bad
[16:25:52] <mkpankov> Ms2ger: ah, good, but what if I have Vec pre-allocated with right capacity?
[16:26:20] <mkpankov> Ms2ger: I can't use it w/o making it mutable and doing a loop, right?
[16:26:23] *** Quits: nwin (textual@moz-03iocj.pools.vodafone-ip.de) (Ping timeout: 121 seconds)
[16:26:23] *** Quits: tyrick (tyrick@moz-q9b.0o3.144.24.IP) (Quit: Leaving)
[16:26:48] <Ms2ger> mkpankov, capacity or length?
[16:27:03] <Mutabah> mkpankov: In that simple case, the size hint will be used to allocate the correct capcaicty vec
[16:27:05] <geri> how can i make the vector part of the struct? http://is.gd/8INkXC
[16:27:05] <mkpankov> Ms2ger: Vec::with_capacity
[16:27:34] <Mutabah> geri: Vec::new() or vec![]
[16:27:50] <mkpankov> Mutabah: suppose it's just separate function that allocates, and another that initializes
[16:27:54] <Ms2ger> mkpankov, extend(0..x) then, I think
[16:28:10] <Mutabah> Ms2ger: Afaik, IntoIterator uses extend
[16:28:15] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[16:28:22] <Ms2ger> Mutabah, come again?
[16:28:28] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[16:28:44] <mkpankov> wow
[16:28:54] <mkpankov> it, like, works
[16:29:08] <Mutabah> Ms2ger: .collect() will create a Vec, and call .extend on it (which uses the size hint to expand the allocation)
[16:29:24] <Ms2ger> Mutabah, ah
[16:29:24] <mkpankov> and doesn't need cast shenanigans even
[16:29:32] <Ms2ger> That's FromIter, though, no?
[16:29:51] <dam> steveklabnik: can you give me a link to 
[16:29:53] <Mutabah> Ms2ger: Think so
[16:29:56] *** Quits: sonder (chatzilla@moz-nt8r49.idi.ntnu.no) (Ping timeout: 121 seconds)
[16:29:58] <dam> cargo feature flags
[16:30:04] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[16:30:14] <dam> i am not able to find any documentation
[16:30:19] <rubberduck> hello all. i am about on writing an LL(1) parser-generator in rust. my question is for iOS user. how does the line ending is encoded today. in the past it was an \r. but i am unsure to have that to consider too?
[16:30:22] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[16:31:01] <Ms2ger> I'm pretty sure iOS uses \n by now
[16:31:12] <Ms2ger> s/by now//
[16:31:31] <rubberduck> what about old files?
[16:31:55] <Ms2ger> You can get files on iOS? :)
[16:32:04] <rubberduck> from the old MaxOS times
[16:32:05] *** Joins: dfinninger (dfinninger@moz-o78v05.fios.verizon.net)
[16:32:35] <Twinklebear> hey all, is there a way to do responsive images in rust doc? I'd like to have a sample image but with just a regular markdown tag it doesn't resize properly
[16:32:39] <rubberduck> no. i am a windows user (with same linux background)
[16:32:46] <rubberduck> *some
[16:32:59] <Mutabah> rubberduck: iOS is the apple mobile platform, which rarely has legacy internals
[16:33:10] <Mutabah> rubberduck: OSX is the modern unix-based Mac OS
[16:33:11] *** Joins: griffindy (textual@moz-dmfek5.ma.comcast.net)
[16:33:18] *** Joins: ascarter (ascarter@moz-705hf8.wa.comcast.net)
[16:33:21] <geri> Mutabah:ok, but how can i make the vector mutable?
[16:33:29] <rubberduck> Ohh, yes i mean OSX, sorry
[16:33:50] <Mutabah> geri: Struct fields inherit mutability, so if the stack slot is mutable, you can mutate the struct
[16:34:07] *** Quits: soma (Mibbit@moz-ef5.7ab.191.107.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[16:34:08] <Mutabah> geri: so "let mut m = ...";
[16:34:27] <geri> i did: m.vec.push(1); <--- cannot borrow immutable field `m.vec` as mutable
[16:34:44] <Mutabah> geri: 'm' needs to be mutable
[16:35:03] <geri> Murarth:yes, how to make it mutable within the struct?
[16:35:08] *** Quits: dschatzberg (dschatz@moz-nk1clf.bu.edu) (Quit: Leaving)
[16:35:30] *** Quits: gbersac (Mibbit@moz-comrgv.abo.bbox.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[16:35:31] <Mutabah> geri: (you missed again) 'let mut m = ...'
[16:35:49] <Mutabah> geri: the struct itself needs to be mutable, i.e. the way you access the struct needs to be mutable
[16:35:52] *** Joins: pavelpenev (quassel@moz-8vs4j7.btc-net.bg)
[16:36:03] *** Quits: anomico (anhedonia@moz-30a.f3u.135.5.IP) (Ping timeout: 121 seconds)
[16:36:03] <Mutabah> (either with a mut let binding, or a &mut)
[16:36:12] <rubberduck> that means, on OSX i can live with \n too and no one will complains about an wrong line counting?
[16:36:21] *** Joins: QuadTan (Tan@moz-r5oa06.student.uu.se)
[16:36:23] *** Quits: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP) (Client exited)
[16:36:33] <geri> how to add the let binding? http://is.gd/N7LhJa
[16:37:07] <Mutabah> geri: I have told you twice already. "let mut m = ..."
[16:37:20] <geri> in the function new?
[16:37:27] <Mutabah> in main, where you use it
[16:37:39] *** Quits: meh (meh@moz-p5gc2m.42-151.net24.it) (Quit: reboot)
[16:37:48] <Ms2ger> It's probably not a bad idea to read the part of the guide that explains mutability
[16:37:52] <Mutabah> geri: May I suggest reading the book from start to finish, it does sound like you have not
[16:37:58] <geri> i see: let mut m = m.vec;
[16:37:58] <geri>     m.push(1);
[16:38:07] *** Joins: mib_d6ktk2 (Mibbit@moz-nks.906.235.212.IP)
[16:38:15] *** Quits: mib_d6ktk2 (Mibbit@moz-nks.906.235.212.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[16:38:30] <geri> interesting that it can have the same name
[16:38:31] *** Joins: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP)
[16:38:45] <Mutabah> that wasn't quite what I meant
[16:38:59] <Mutabah> (but yes, the latter binding shadows and takes precedence over the firsT)
[16:38:59] *** Quits: gp5st (jim@moz-k130hq.east.verizon.net) (Quit: Leaving.)
[16:39:23] <geri> Mutabah:not what you mean?
[16:39:29] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[16:39:31] <Mutabah>     let m = new(10, 20);
[16:39:39] <Mutabah> Use "let mut m = new(10, 20);" instead
[16:39:50] <Mutabah> And suddenly you can mutate m and its contents
[16:40:09] *** Quits: dfinninger (dfinninger@moz-o78v05.fios.verizon.net) (Connection closed)
[16:40:48] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[16:40:48] *** ChanServ sets mode: +o erickt
[16:40:58] *** Joins: dfinninger (dfinninger@moz-o78v05.fios.verizon.net)
[16:41:35] *** Joins: nwin (textual@moz-03iocj.pools.vodafone-ip.de)
[16:42:03] <demelev> There is some discussion about IDE for rust?
[16:42:51] <dam> how can compile some code only on nigthly?
[16:43:08] *** Quits: TheLemonMan (lemonboy@moz-kkoj6d.50-151.net24.it) (Quit: "It's now safe to turn off your computer.")
[16:43:10] *** Quits: fflam (mdt@moz-gpnqht.sd.cox.net) (Connection closed)
[16:43:11] <geri> Murarth:ok
[16:43:25] <Mutabah> geri: It's Mutabah 
[16:43:35] <Mutabah> (poor Murarth, getting pinged for unrelated stuff)
[16:43:36] <geri> kinda
[16:43:48] <dam> i am trying to use #[cfg(... but i do not know how can i test the version of rust
[16:44:24] *** Quits: nwin_ (textual@moz-33a01v.stratoserver.net) (Ping timeout: 121 seconds)
[16:45:24] <rubberduck> u get the version with 'rustc --version'
[16:45:33] *** Joins: achanda (achanda@moz-qv7q4n.ca.comcast.net)
[16:45:36] <steveklabnik> dam: not built in
[16:45:43] *** Joins: avikpal (avikpal@moz-lji.igl.194.117.IP)
[16:45:49] <steveklabnik> dam: best you can do is use a cargo feature to set cfg, and name it something like 'nightly'
[16:46:01] <steveklabnik> there's been some discussion about it
[16:46:05] <steveklabnik> but nothing implemented yet
[16:48:17] *** Joins: meh (meh@moz-p5gc2m.42-151.net24.it)
[16:48:36] *** Quits: dfinninger (dfinninger@moz-o78v05.fios.verizon.net) (Connection closed)
[16:48:44] *** Quits: Douman (Douman@moz-4t7j70.dynamic.mts-nn.ru) (Quit: )
[16:48:58] <dam> ok, it is possible to check the version of rust in Cargo.toml or it is a build variant, ie i have to specify the version on command line with 'cargo build nigthly' or 'cargo build beta'?
[16:49:35] *** Quits: achanda (achanda@moz-qv7q4n.ca.comcast.net) (Ping timeout: 121 seconds)
[16:49:39] *** Joins: dfinninger (dfinninger@moz-o78v05.fios.verizon.net)
[16:49:48] <steveklabnik> you'd be doing 'cargo build' or 'cargo build --features=nightly', iirc
[16:49:58] <steveklabnik> i think most people call that feature 'unstable'
[16:50:05] *** Quits: avikpal (avikpal@moz-lji.igl.194.117.IP) (Ping timeout: 121 seconds)
[16:50:51] *** Joins: Douman (Douman@moz-4t7j70.dynamic.mts-nn.ru)
[16:51:30] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[16:51:49] *** Joins: avikpal (avikpal@moz-j22.t2s.79.112.IP)
[16:52:19] *** Joins: fflam (mdt@moz-gpnqht.sd.cox.net)
[16:52:54] <dam> ok
[16:52:57] *** Joins: starless (starless@moz-la4lha.r6vo.di63.6000.2604.IP)
[16:53:38] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[16:53:52] *** Joins: manlycode (manlycode@moz-q1mb3q.mi.comcast.net)
[16:54:39] <mkpankov> any idea why chat history at botbot.me doesn't show anything for "Current" date?
[16:55:00] *** Quits: dfinninger (dfinninger@moz-o78v05.fios.verizon.net) (Connection closed)
[16:55:10] *** Quits: griffindy (textual@moz-dmfek5.ma.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[16:55:11] *** Joins: skade (skade@moz-fs9uan.web.vodafone.de)
[16:55:15] *** Joins: griffindy (textual@moz-dmfek5.ma.comcast.net)
[16:55:17] *** Joins: soma (Mibbit@moz-ef5.7ab.191.107.IP)
[16:55:36] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[16:56:24] *** Joins: zaeleus (zaeleus@moz-r5abra.cpe.cableone.net)
[16:56:37] *** darkowlzz|afk is now known as darkowlzz
[16:56:37] *** Quits: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP) (Client exited)
[16:57:17] *** Quits: rubberduck (Mibbit@moz-9k4u0i.dip0.t-ipconnect.de) (Quit: http://www.mibbit.com ajax IRC Client)
[16:57:43] <zamabe> It never reconnected after the ircd update
[16:58:43] <mkpankov> should we ping anyone about this?
[16:58:49] *** Joins: michael1 (michael@moz-9vjtig.mo.charter.com)
[16:59:05] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[16:59:12] <mkpankov> huon ? ^
[16:59:20] <fkaa> should i do anything after i'm done sending stuff through channels? iterating over one seems to block forever
[16:59:35] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[17:00:11] <fkaa> nvm, something else is blocking..
[17:00:34] *** Quits: avikpal (avikpal@moz-j22.t2s.79.112.IP) (Connection closed)
[17:01:08] *** Quits: frankmcs_ (frankmcsher@moz-adqedv.adsl.alicedsl.de) (Connection closed)
[17:01:09] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Connection closed)
[17:01:21] *** Joins: tadh (quassel@moz-88tk3f.res.rr.com)
[17:01:24] *** Joins: jviereck (Adium@moz-pqri8u.dclient.hispeed.ch)
[17:01:25] *** Joins: jdm (jdm@moz-p7urr4.dsl.bell.ca)
[17:01:25] *** ChanServ sets mode: +o jdm
[17:01:42] *** Joins: stjahns_ (stjahns@moz-9oh245.ed.shawcable.net)
[17:02:53] *** Quits: michael1 (michael@moz-9vjtig.mo.charter.com) (Ping timeout: 121 seconds)
[17:04:34] *** Quits: bombless (_@moz-v758bl.0v2u.0v40.0da8.2001.IP) (Quit: Leaving)
[17:05:03] *** Joins: nerdopoly (nerdopoly@moz-ouaagf.range86-143.btcentralplus.com)
[17:05:13] *** Quits: ascarter (ascarter@moz-705hf8.wa.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[17:07:00] *** Joins: ainieco (ainieco@moz-2rb.qih.162.188.IP)
[17:07:03] <ainieco> hello
[17:08:05] <Ms2ger> G'day
[17:08:16] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[17:08:30] <ainieco> what the difference between "for x in xs" and "for x in &mut xs"? it gives me "cannot move out of borrowed content" when xs has &mut Vec type
[17:09:07] *** Quits: skade (skade@moz-fs9uan.web.vodafone.de) (Ping timeout: 121 seconds)
[17:09:13] *** Joins: mib_lg0cmg (Mibbit@moz-i7cb3r.fios.verizon.net)
[17:09:15] *** Quits: mib_lg0cmg (Mibbit@moz-i7cb3r.fios.verizon.net) (Quit: http://www.mibbit.com ajax IRC Client)
[17:09:28] *** Joins: davebettin (davebettin@moz-acc.cl4.35.72.IP)
[17:09:36] *** Quits: griffindy (textual@moz-dmfek5.ma.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[17:09:37] *** Joins: essem2 (Thunderbird@moz-l86scb.sd.cox.net)
[17:09:38] *** Quits: essem2 (Thunderbird@moz-l86scb.sd.cox.net) (Client exited)
[17:09:56] *** Joins: anomico (anhedonia@moz-27q.nhl.10.176.IP)
[17:10:07] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Connection closed)
[17:10:15] <Murarth> ainieco: The former consumes the Vec and iterates over T for Vec<T>. The latter borrows it, iterating over &mut T for Vec<T>.
[17:10:17] *** Quits: sigma (sigma@moz-llrbra.range86-135.btcentralplus.com) (Ping timeout: 121 seconds)
[17:10:28] *** Joins: Brochacho (alberto@moz-cs7.q5h.156.131.IP)
[17:10:40] *** Joins: tiw (Mibbit@moz-dl2kbl.members.linode.com)
[17:10:42] *** Quits: tiw (Mibbit@moz-dl2kbl.members.linode.com) (Quit: http://www.mibbit.com ajax IRC Client)
[17:10:59] *** Joins: skade (skade@moz-fs9uan.web.vodafone.de)
[17:11:36] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[17:12:13] <Brochacho> Is there an easy way to get a value from an option without using a match?
[17:12:23] <ainieco> Murarth: if xs has "&mut Vec" type then it borrows borrowed vector, right? seems more logical to me that when xs is already borrowed then "for x in xs" should borrow as well without re-borrowing borrowed thing
[17:12:30] <dam> Brochacho: unwrap()
[17:12:36] *** Quits: stjahns_ (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[17:12:54] <Brochacho> dam: Hah yes, meant also without using unwrap
[17:12:58] *** Joins: stjahns_ (stjahns@moz-9oh245.ed.shawcable.net)
[17:13:14] <ainieco> Brochacho: let Some(x) = your_stuff;
[17:13:58] <mbrubeck> ainieco, Brochacho: Has to be `if let Some(x) = your_stuff { ... }`
[17:14:03] *** Joins: Hannibal_Smith (nico@moz-ikflj7.retail.telecomitalia.it)
[17:14:06] <cmtptr> how do I know how to type-annotate x in let x = "5".parse()?  I'm pretty sure it's a Result<i32, SOMETHING>
[17:14:32] *** Quits: Brochacho (alberto@moz-cs7.q5h.156.131.IP) (Connection closed)
[17:15:00] <mbrubeck> cmtptr: look for the `impl FromStr` on http://doc.rust-lang.org/std/primitive.i32.html
[17:15:11] *** Quits: jdm (jdm@moz-p7urr4.dsl.bell.ca) (Quit: )
[17:15:16] *** Quits: manlycode (manlycode@moz-q1mb3q.mi.comcast.net) (Ping timeout: 121 seconds)
[17:15:18] *** Joins: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP)
[17:15:24] <talchas> playbot: "5".parse::<i32>()
[17:15:25] -playbot- Ok(5)
[17:15:32] <steveklabnik> ^ is the easiest way
[17:15:34] <talchas> cmtptr: ^ is usually simpler
[17:15:36] *** Joins: Brochacho (alberto@moz-cs7.q5h.156.131.IP)
[17:15:41] * zamabe uses ^
[17:15:47] <mbrubeck> ^_^
[17:15:50] <cmtptr> ah ha, thanks everyone
[17:15:55] <Murarth> ainieco: Right, if xs is of type &mut Vec<T>, then the "for x in xs" form should work.
[17:16:16] <ainieco> Murarth: nah, it says "cannot move out of borrowed content"
[17:16:31] *** Quits: thelastinuit (thelastinui@moz-doh.aqt.240.148.IP) (Quit: Textual IRC Client: www.textualapp.com)
[17:16:35] <mbrubeck> ainieco: What are you doing inside the for loop?
[17:16:38] <Murarth> ainieco: Show a code snippet?
[17:16:43] <Brochacho> ainieco: Don't think that's what I'm looking for. I'm trying to assign a variable the return of `relative_from`
[17:16:50] *** Joins: yoshi (Mibbit@moz-i7cb3r.fios.verizon.net)
[17:17:02] *** Quits: stjahns_ (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[17:17:07] <ainieco> ah, my bad
[17:17:09] *** Quits: jviereck (Adium@moz-pqri8u.dclient.hispeed.ch) (Quit: Leaving.)
[17:17:17] *** Parts: talchas (user@moz-8ubbgk.ca.comcast.net) ("ERC Version 5.3 (IRC client for Emacs)")
[17:17:18] <mbrubeck> Brochacho: What do you want to do if it returns None?
[17:17:22] *** Joins: gsingh93 (gulshan@moz-qnbukr.mi.comcast.net)
[17:17:22] <ainieco> yeah, it works as expected, sorry
[17:17:23] *** Joins: talchas (user@moz-8ubbgk.ca.comcast.net)
[17:17:41] <Brochacho> mbrubeck: Throw an error with an exit status
[17:18:01] <Brochacho> mbrubeck: Still very unfamiliar with Options
[17:18:02] <ainieco> could you please provide an example when you want to consume vector instead of borrowing it for "for" ?
[17:18:07] <mbrubeck> Brochacho: You could use http://doc.rust-lang.org/std/option/enum.Option.html#method.ok_or
[17:18:37] <mbrubeck> Brochacho: let x = try!(path.relative_from(other).ok_or(SomeError));
[17:18:59] <Brochacho> See I'd rather not throw a panic!
[17:19:21] <mbrubeck> Brochacho: `ok_or` and `try` don't panic - they return a Result
[17:19:24] <Brochacho> doesn't try! return a panic or is it result
[17:19:27] <Brochacho> ah
[17:19:29] <Brochacho> Ok thanks
[17:19:43] *** Joins: manlycode (manlycode@moz-q1mb3q.mi.comcast.net)
[17:19:48] *** Joins: Lilly (Lilly@moz-pfkvo9.bredband.comhem.se)
[17:19:56] <Murarth> ainieco: If you intend to use the Vec after the for loop, you need to borrow it. If not, you can consume it.
[17:20:28] <ainieco> Murarth: okay, thank you
[17:20:47] *** Joins: Anupkumar (uid16774@moz-cf8smb.uxbridge.irccloud.com)
[17:20:50] *** Quits: matp (matp@moz-rvt9hl.matp.at) (Ping timeout: 121 seconds)
[17:21:07] <cmtptr> how would I do that with the if-let syntax?  if let Ok(x: i32) = "5".parse() {...}  <-- not that, apparently
[17:21:19] *** Quits: nedp (nedp@moz-vg6vvt.bigpond.net.au) (Connection closed)
[17:21:27] *** Quits: DerisiveLogic (smuxi@moz-g93io6.res.rr.com) (A TLS packet with unexpected length was received.)
[17:21:32] *** Quits: skade (skade@moz-fs9uan.web.vodafone.de) (Ping timeout: 121 seconds)
[17:22:17] *** Quits: soma (Mibbit@moz-ef5.7ab.191.107.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[17:22:53] *** Joins: skade (skade@moz-fs9uan.web.vodafone.de)
[17:23:24] *** Joins: stjahns_ (stjahns@moz-9oh245.ed.shawcable.net)
[17:23:39] *** Joins: ascarter (ascarter@moz-705hf8.wa.comcast.net)
[17:24:10] <talchas> playbot-mini: if let Ok(x) = "5".parse::<i32>() {println!("parsed: {}", x); }
[17:24:11] -playbot-mini- <anon>:1:1: 1:3 error: expected item, found `if`
[17:24:11] -playbot-mini- <anon>:1 if let Ok(x) = "5".parse::<i32>() {println!("parsed: {}", x); }
[17:24:11] -playbot-mini- output truncated; full output at: http://bit.ly/1Pel1hb
[17:24:56] <talchas> playbot: if let Ok(x) = "5".parse::<i32>() {println!("parsed: {}", x); }
[17:24:57] -playbot- parsed: 5
[17:24:57] -playbot- ()
[17:25:01] <talchas> tabcomplete fail
[17:25:09] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[17:25:38] <cmtptr> the parse::<i32> part weirds me out
[17:25:50] *** Quits: newbiz (newbiz@moz-9m0cr9.fbxo.proxad.net) (Connection closed)
[17:26:05] <geri> i like rust's match statement
[17:26:07] *** Joins: Gabriel_7 (Gabriel@moz-98d8uo.mtgr.92aj.0e35.2a01.IP)
[17:26:10] <steveklabnik> it's the ugliest syntax bit we have, cmtptr , for sure
[17:26:18] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[17:27:04] <Havvy> I actually like the ::<> syntax.
[17:27:13] <geri> ?
[17:27:38] <mbrubeck> cmtptr: It would be more logical as `parse<i32>` but that would be ambiguous in the grammar, because `<` could also be a comparison operator there. 
[17:27:43] <ruabmbua> I like the ::<> syntax, but I dont like the if let part
[17:27:51] <geri> steveklabnik:any syntax change before rust 1.0?
[17:28:02] <cmtptr> I just don't get it.  It looks like it's something in parse's namespace, but it isn't - it's specifying i32's implementation of parse
[17:28:07] <cmtptr> or from_str, rather, I guess
[17:28:14] *** Joins: fengshaun (fengshaun@moz-rf0qk5.cable.teksavvy.com)
[17:28:24] <mbrubeck> Yeah, it's purely there to make the tokenizer happy.
[17:28:37] <cmtptr> like, I don't get the relationship between parse::<i32> and i32::from_str
[17:28:41] *** Quits: adjivas (adjivas@moz-t655t6.abo.wanadoo.fr) (Ping timeout: 121 seconds)
[17:29:01] <mbrubeck> Well, parse is `fn parse<F>(&self)`
[17:29:06] <mbrubeck> and in this case F = i32
[17:29:17] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[17:29:19] <mbrubeck> so you are calling a function that in C++ would be called `parse<i32>`
[17:29:21] <steveklabnik> geri: nope
[17:29:26] *** Joins: ptalbot (ptalbot@moz-j4gnuh.fbx.proxad.net)
[17:29:35] <cmtptr> ah
[17:29:43] <mbrubeck> (although C++ also has some cases where this can cause ambiguity and needs ugly syntax to disambiguate)
[17:30:29] <cmtptr> maybe that's no so bad, then.  thanks
[17:30:32] *** Joins: mib_a400g9 (Mibbit@moz-u4u1te.nap.wideopenwest.com)
[17:30:40] *** Quits: starless (starless@moz-la4lha.r6vo.di63.6000.2604.IP) (Quit: Leaving)
[17:30:53] *** Joins: bbloom (bbloom@moz-mmuemv.wa.comcast.net)
[17:31:25] *** Quits: skade (skade@moz-fs9uan.web.vodafone.de) (Ping timeout: 121 seconds)
[17:31:58] *** Joins: __mark__ (mark@moz-n9pouk.fios.verizon.net)
[17:32:31] *** Joins: tcard (tcard@moz-jdrdbk.ddns.jazztel.es)
[17:33:13] *** Joins: skade (skade@moz-fs9uan.web.vodafone.de)
[17:33:42] *** Joins: timj (timj@moz-qrm.hdf.102.91.IP)
[17:34:16] *** Joins: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net)
[17:34:19] *** Quits: stjahns_ (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[17:34:38] <ptalbot> I can't find the definition of the macro `quote_item!` in the rust source code, why?
[17:34:41] *** Joins: stjahns_ (stjahns@moz-9oh245.ed.shawcable.net)
[17:35:04] <Ms2ger> I suspect it's a syntax extension, not a macro
[17:35:06] *** Joins: dstrbad (dstrbad@moz-4tev7n.dsl.iskon.hr)
[17:35:10] *** Quits: Palmik (palmik@moz-f2g6om.vpn.muni.cz) (Ping timeout: 121 seconds)
[17:35:57] <ptalbot> Ms2ger, you're right, good point ;-)
[17:37:13] *** Joins: Palmik (palmik@moz-7pku2p.net.upcbroadband.cz)
[17:37:37] *** Quits: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr) (Connection closed)
[17:38:00] *** Joins: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr)
[17:38:09] *** Parts: __mark__ (mark@moz-n9pouk.fios.verizon.net) ()
[17:38:43] *** Quits: stjahns_ (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[17:39:47] *** Joins: refold (gman@moz-ml8pv7.priv.bahnhof.se)
[17:41:04] *** Joins: fabianvf (fabianvf@moz-fjqmui.va.comcast.net)
[17:41:33] *** Quits: Brochacho (alberto@moz-cs7.q5h.156.131.IP) (Ping timeout: 121 seconds)
[17:42:00] *** Joins: forgottenone (forgottenon@moz-pde.j99.45.92.IP)
[17:42:02] *** Joins: woboats (tatterdemal@moz-a0dnkb.ca.comcast.net)
[17:43:00] <comex> steveklabnik: er... I guess it's just a matter of how I interpreted the reference text about overflow.  even though it's not directly related to the section, "(well-defined as wrapping)" makes it sound like wrapping is all it'll do (as opposed to possibly panicking)
[17:46:00] *** Joins: zeebo (zeebo@moz-6rqv1a.ut.comcast.net)
[17:47:09] *** Quits: fabianvf (fabianvf@moz-fjqmui.va.comcast.net) (Connection closed)
[17:47:10] *** Joins: Shtong (realshtong@moz-pjjr75.abo.wanadoo.fr)
[17:47:27] *** Joins: achanda (achanda@moz-qv7q4n.ca.comcast.net)
[17:47:39] *** Quits: zeebo_ (zeebo@moz-qtpltq.ut.vivintwireless.net) (Ping timeout: 121 seconds)
[17:48:27] *** Quits: rovar (rovar@moz-6iq.47m.88.38.IP) (NickServ (RECOVER command used by rovar_))
[17:48:27] *** rovar_ is now known as rovar
[17:48:31] *** Joins: kieran (kieran@moz-c5gk5j.ihug.co.nz)
[17:48:39] *** Joins: rovar_ (rovar@moz-6iq.47m.88.38.IP)
[17:48:46] *** Joins: fabianvf (fabianvf@moz-fjqmui.va.comcast.net)
[17:49:04] <rovar> is there an iterator terminator like collect which works on void? e.g. I want to do an effectful iteration on a collection with inspect which returns nothing. 
[17:49:44] *** Joins: DerisiveLogic (smuxi@moz-1jqqlg.biz.rr.com)
[17:51:21] <eddyb> rovar: a for loop
[17:51:29] <rovar> eddyb, :(
[17:51:29] *** Quits: achanda (achanda@moz-qv7q4n.ca.comcast.net) (Ping timeout: 121 seconds)
[17:52:03] *** Quits: joneshf-laptop (joneshf@moz-l4h.b5s.208.98.IP) (Connection closed)
[17:52:22] *** Quits: asQuirreL (asQuirreL@moz-ro1qqu.ox.ac.uk) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[17:52:37] *** Quits: fabianvf (fabianvf@moz-fjqmui.va.comcast.net) (Connection closed)
[17:52:40] *** Joins: joneshf-laptop (joneshf@moz-l4h.b5s.208.98.IP)
[17:52:43] *** Quits: kieran (kieran@moz-c5gk5j.ihug.co.nz) (Ping timeout: 121 seconds)
[17:53:01] <eddyb> putting effects in functional data flow paths rather than imperative ones seems like an anti-pattern
[17:53:08] *** darkowlzz is now known as darkowlzz|afk
[17:53:22] <eddyb> *rather than in imperative control flow paths
[17:53:23] *** Quits: glennpratt (glennpratt@moz-neq2gf.dsl-w.verizon.net) (A TLS packet with unexpected length was received.)
[17:53:58] *** Quits: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr) (Connection closed)
[17:53:59] *** Joins: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr)
[17:54:08] *** darkowlzz|afk is now known as darkowlzz
[17:54:56] *** suvash is now known as suvash_away
[17:55:12] *** Joins: glennpra_ (glennpratt@moz-neq2gf.dsl-w.verizon.net)
[17:55:26] *** Joins: adjivas (adjivas@moz-t655t6.abo.wanadoo.fr)
[17:55:46] *** Joins: fabianvf (fabianvf@moz-fjqmui.va.comcast.net)
[17:55:57] *** Quits: fabianvf (fabianvf@moz-fjqmui.va.comcast.net) (Connection closed)
[17:56:35] *** Quits: hjr3 (hradtke@moz-5lr.q30.13.108.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[17:57:15] *** Quits: moa (Cedric@moz-biifv3.fbx.proxad.net) (Ping timeout: 121 seconds)
[17:58:40] *** Quits: skade (skade@moz-fs9uan.web.vodafone.de) (Connection closed)
[17:59:04] *** Quits: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr) (Connection closed)
[17:59:09] <Shtong> hey guys, I was looking at a sample code shown here https://stackoverflow.com/a/29710561/323589 and wondering why the author used "let input = &mut String::new()" instead of "let mut input = String::new()". Does it mean it creates a reference to a string? Why would you do that in that context ?
[17:59:25] *** Joins: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr)
[18:00:39] *** Quits: glennpra_ (glennpratt@moz-neq2gf.dsl-w.verizon.net) (A TLS packet with unexpected length was received.)
[18:00:41] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Quit: Leaving.)
[18:00:53] *** Quits: annodomini (lambda@moz-qgii5v.ma.comcast.net) (Client exited)
[18:00:54] *** Joins: kgrandon (Adium@moz-ai5ndv.hjek.d045.0009.2601.IP)
[18:01:08] *** Quits: dstrbad (dstrbad@moz-4tev7n.dsl.iskon.hr) (A TLS packet with unexpected length was received.)
[18:01:11] *** Joins: saml_ (saml@moz-rkfmct.res.rr.com)
[18:01:13] *** Joins: slurps-mad-rips (slurps-mad-@moz-o2c.uaj.44.17.IP)
[18:01:18] <rkruppe> Shtong: Because read_line takes a &mut String parameter
[18:01:40] <rkruppe> Whether to create input as a &mut String or let it be a String and pass &mut input to read_line is a matter of taste
[18:01:52] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[18:02:02] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[18:02:34] <Shtong> all right thanks. seeing that &mut on the declaration line really confused me :)
[18:02:59] *** bentley|away is now known as bentley
[18:04:14] *** Joins: new_one_ (new_one@moz-6en.o0i.42.128.IP)
[18:04:17] <FreeFull> rkruppe: The latter would be preferable anyway, since having ownership of the String is more powerful
[18:04:29] *** Joins: abcrawf (abcrawf@moz-11rs77.acrawford.com)
[18:04:47] <rkruppe> FreeFull: But if you don't need it, why care?
[18:05:21] *** Joins: lawki (lawki@moz-eln5df.abo.wanadoo.fr)
[18:05:33] *** Quits: dcb (textual@moz-j72nfe.ca.comcast.net) (Ping timeout: 121 seconds)
[18:05:48] *** Joins: emilk (emilk@moz-cv64nf.cust.bredbandsbolaget.se)
[18:06:10] *** Quits: new_one (new_one@moz-suj.lcf.15.50.IP) (Ping timeout: 121 seconds)
[18:06:31] *** Joins: KLP (KLP@moz-qdcjho.res.rr.com)
[18:07:35] <Shtong> I feel the latter looks nicer, although I was wondering if maybe the one used in the example was slightly faster? if I put &mut inside the loop, will the compiler put one "borrowing" operation inside the loop so we have to execute N times, insead of only once in we put &mut outside the loop ?
[18:07:39] *** Joins: Rym (y@moz-rmaga4.range86-187.btcentralplus.com)
[18:08:07] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Connection closed)
[18:09:11] *** Quits: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr) (Connection closed)
[18:09:12] *** Joins: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr)
[18:09:25] *** Quits: forgottenone (forgottenon@moz-pde.j99.45.92.IP) (Quit: Konversation terminated!)
[18:09:32] *** Joins: jshs (jshs@moz-4nr8rl.dip0.t-ipconnect.de)
[18:09:55] *** Quits: emilk (emilk@moz-cv64nf.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[18:10:07] *** Joins: james4k (james@moz-ao8aj6.consolidated.net)
[18:10:18] <rovar> where are the docs for operations on *mut and *const?  I need to calculate the difference between two pointers
[18:10:34] <talchas> http://doc.rust-lang.org/std/primitive.pointer.html I think
[18:11:05] <talchas> that doesn't have a - though, I don't know if it's too builtin or what
[18:11:25] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Connection closed)
[18:11:28] <rovar> alternatively, is it possible to cast a pointer and a length to an array?  I know I can construct a RawSlice out of that and transmute it..
[18:11:44] <rovar> talchas, thanks, thats the one, and yea, Rust doesn't encourage ptr arithmetic :)
[18:11:45] *** Joins: dcb (textual@moz-j72nfe.ca.comcast.net)
[18:11:48] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[18:12:10] *** Quits: edbond (edbond@moz-8st.7gv.108.109.IP) (Ping timeout: 121 seconds)
[18:12:29] *** Joins: marsel (user@moz-qln.g6r.180.94.IP)
[18:12:43] <talchas> rawslice is I think how you're supposed to do convert to &[T]
[18:13:01] *** Quits: Dr-Emann (Dr-Emann@moz-f8hd1t.tvh.ptd.net) (Ping timeout: 121 seconds)
[18:13:03] <XMPPwocky> std::slice::from_raw_parts
[18:13:07] <talchas> actually yeah, that
[18:13:12] <jshs> playbot: let x = 1; let y = 2; &x as *const _ as usize - &y as *const _ as usize
[18:13:13] -playbot- 16
[18:13:55] *** Joins: nott (nott@moz-to4.06o.57.86.IP)
[18:15:21] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[18:15:26] *** Joins: Dr-Emann (Dr-Emann@moz-f8hd1t.tvh.ptd.net)
[18:15:30] <rovar> the problem is this particular array of buffers doesn't fit quite into any existing mould
[18:15:47] <rovar> as I use the first 8 bytes of each buffer for accounting
[18:16:52] <rkruppe> In principle you could be able to declare your buffers as Buffer<T> { stuff: Accounting; data: [T] }
[18:17:33] <rkruppe> Buffer<T> would be a DST and &Buffer<T> would be a fat pointer, perhaps duplicating the length if that's stored in your accounting, but there are worse things
[18:17:36] *** Quits: tadh (quassel@moz-88tk3f.res.rr.com) (Connection closed)
[18:17:50] <rkruppe> But I'm not sure if that's implement yet
[18:17:57] *** Quits: nott (nott@moz-to4.06o.57.86.IP) (Ping timeout: 121 seconds)
[18:18:00] <rovar> hmm
[18:18:41] *** Joins: ptrptr (petri@moz-3p3asm.dhcp.inet.fi)
[18:18:45] <rovar> I guess if I did #[repr(C, packed)] that would guarantee it  and data: [] would have to be fixed type array, e.g. the size would need to be ascribed to the type
[18:19:00] <rovar> but we don't get number literals as type params yet
[18:19:08] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[18:19:11] <rovar> and the size of [T] is variable..
[18:19:19] <rovar> rather the number of T's in [T] is variable
[18:19:39] <rkruppe> Well, are your buffers run-time sized or constant-sized?
[18:20:07] <rovar> they can be constant sized, but they would be sized by the user of the API
[18:20:13] <rovar> (I'm writing an allocator)
[18:20:20] <rovar> block alloc + free list
[18:20:25] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[18:20:29] <rovar> ultimately with buckets
[18:20:41] <rkruppe> So you basically need to track the size at run time
[18:20:47] <rkruppe> Sounds like [T] is the right abstraction
[18:20:51] <rovar> my initial approach is to size at runtime
[18:21:07] <rovar> and presently its all *mut ptrs :)
[18:21:25] <rkruppe> You need unsafe code to set those up, but once that's taken care of, all the power of slices will be available to your users
[18:21:28] *** Joins: stjahns_ (stjahns@moz-9oh245.ed.shawcable.net)
[18:21:41] <rovar> (and ownership issues)
[18:21:45] <XMPPwocky> THE POWER OF SLICE COMPELLS YOU
[18:23:09] <rovar> hmm. my goal is actually to produce Iobufs
[18:23:20] <rovar> so producing slices is superfluous 
[18:24:25] *** Joins: hhhhhhhhhh (mike@moz-969kuj.cable.virginm.net)
[18:24:28] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[18:24:37] *** Quits: Kurufu (Kurufu@moz-pvv8b5.res.rr.com) (Ping timeout: 121 seconds)
[18:24:46] *** Joins: scientes (scientes@moz-l6hdmu.wa.comcast.net)
[18:25:30] *** Quits: stjahns_ (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[18:25:30] *** Quits: new_one_ (new_one@moz-6en.o0i.42.128.IP) (Connection closed)
[18:25:36] *** Joins: niconii (nicole@moz-5e9nqt.frgo.qwest.net)
[18:25:48] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[18:26:32] *** Joins: jviereck (Adium@moz-pqri8u.dclient.hispeed.ch)
[18:26:33] *** Quits: ascarter (ascarter@moz-705hf8.wa.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[18:26:40] *** Joins: Kurufu (Kurufu@moz-pvv8b5.res.rr.com)
[18:27:05] *** Joins: emilk (emilk@moz-cv64nf.cust.bredbandsbolaget.se)
[18:27:45] <mib_a400g9> Hey, I'm trying to create a static struct in a generic function containing a function pointer to another generic function, and...no luck. Help? https://is.gd/NHNuvt
[18:28:00] <mib_a400g9> "error: cannot use an outer type parameter in this context"
[18:28:13] *** Quits: Quanttek (quassel@moz-25k96c.6fkd.dvrb.8108.2a02.IP) (Connection closed)
[18:29:28] *** Joins: willem (willem@moz-facs2s.dynamic.upc.nl)
[18:29:50] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[18:31:46] *** Joins: Quanttek (quassel@moz-25k96c.6fkd.dvrb.8108.2a02.IP)
[18:32:26] *** Quits: demelev (Mibbit@moz-5qbmjd.dyn.idknet.com) (Quit: http://www.mibbit.com ajax IRC Client)
[18:33:14] *** Quits: emilk (emilk@moz-cv64nf.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[18:33:38] <SiegeLord> What's up with unsafe_destructor? Is it gone?
[18:33:42] *** Joins: kazimuth (james@moz-gne.8or.17.73.IP)
[18:33:45] <mbrubeck> SiegeLord: Yes.
[18:33:51] *** Joins: matp (matp@moz-rvt9hl.matp.at)
[18:34:07] <SiegeLord> Is there a reason? It seemed a useful heuristic
[18:34:14] *** Joins: penguin42 (dg@moz-0v8anh.cable.virginm.net)
[18:34:52] *** Quits: rkruppe (chatzilla@moz-u65p2j.diu2.0rth.0908.2a02.IP) (Ping timeout: 121 seconds)
[18:34:53] <mbrubeck> generic destructors are no longer unsafe, apparently
[18:35:04] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[18:35:11] <SiegeLord> I had a different use case
[18:35:18] <mbrubeck> https://github.com/rust-lang/rfcs/blob/master/text/0769-sound-generic-drop.md
[18:35:38] <SiegeLord> My types weren't Send
[18:35:48] * penguin42 waits for Rust to build from source; the make -j 24 I did failed 
[18:35:54] <SiegeLord> Maybe the requirement for types being Send disappeared at some point
[18:35:55] <penguin42> wth is it building the PPC backend for llvm
[18:35:55] *** Quits: lenstr_ (lenstr@moz-hri.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[18:36:42] <Dr-Emann> mib_a400g9: statics aren't monomorphized. 
[18:37:19] *** Joins: grncdr (Adium@moz-m1g.e47.90.95.IP)
[18:37:27] *** Joins: lenstr (lenstr@moz-hri.vju.25.171.IP)
[18:37:32] *** Quits: unixpickle (textual@moz-rac9cb.nj.comcast.net) (Quit: Textual IRC Client: www.textualapp.com)
[18:37:34] *** Joins: logan_e (logan_e@moz-ltn.qg3.218.73.IP)
[18:38:12] *** Quits: james4k (james@moz-ao8aj6.consolidated.net) (Ping timeout: 121 seconds)
[18:39:06] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[18:39:07] *** Quits: rudolph (rudolph@moz-7rgme5.o3k5.dsq9.010d.2620.IP) (Quit: WeeChat 1.1.1)
[18:39:28] *** Joins: raph1 (raph@moz-o75.fg7.77.192.IP)
[18:39:29] <niconii> mib_a400g9, Dr-Emann: right, if you turn it into a normal variable (and fix some other things with the code) it works, but not as a static
[18:40:17] *** Joins: glennpratt (glennpratt@moz-neq2gf.dsl-w.verizon.net)
[18:40:24] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[18:40:37] *** Quits: tyrion-mx (tyrion@moz-4lmh4m.privacyfoundation.ch) (Ping timeout: 121 seconds)
[18:40:54] <mib_a400g9> ...It kind of needs to be static. run_whatever is an extern "C" function.
[18:40:55] *** Quits: raph (raph@moz-erv.4ra.239.216.IP) (Ping timeout: 121 seconds)
[18:41:16] *** Joins: futile (felix@moz-cmcd12.unity-media.net)
[18:41:29] <mib_a400g9> Or rather, the run_whatever equivalent in my actual code.
[18:41:34] *** Quits: mdup (cc@moz-g3j7cf.abo.wanadoo.fr) (Ping timeout: 121 seconds)
[18:42:25] <mib_a400g9> And the C function requires that the struct not change.
[18:42:37] *** Quits: nerdopoly (nerdopoly@moz-ouaagf.range86-143.btcentralplus.com) (Quit: leaving)
[18:42:45] *** Joins: nerdopoly (nerdopoly@moz-ouaagf.range86-143.btcentralplus.com)
[18:43:08] *** Quits: lenstr (lenstr@moz-hri.vju.25.171.IP) (Ping timeout: 121 seconds)
[18:43:11] *** Joins: basicdays (basicdays@moz-vreeoj.cable.rcn.com)
[18:44:26] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[18:44:39] *** Quits: nerdopoly (nerdopoly@moz-ouaagf.range86-143.btcentralplus.com) (Quit: leaving)
[18:44:41] <niconii> mib_a400g9: as long as you ensure it lives long enough, and it's an immutable variable, shouldn't that be enough?
[18:44:42] *** Quits: anoman (andrew@moz-ihr.fbp.126.86.IP) (Ping timeout: 121 seconds)
[18:44:44] *** Joins: nerdopoly (nerdopoly@moz-ouaagf.range86-143.btcentralplus.com)
[18:44:50] *** Joins: emilk (emilk@moz-cv64nf.cust.bredbandsbolaget.se)
[18:45:24] *** Joins: new_one_ (new_one@moz-suj.lcf.15.50.IP)
[18:45:41] *** Joins: anoman (andrew@moz-ihr.fbp.126.86.IP)
[18:45:45] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[18:45:55] *** Quits: ainieco (ainieco@moz-2rb.qih.162.188.IP) (Quit: leaving)
[18:46:19] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Quit: Leaving)
[18:46:40] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[18:46:52] *** Joins: anders (andars@moz-bsldst.sntcca.sbcglobal.net)
[18:47:25] <mib_a400g9> The thing is, I'm calling do_this<T>() with various parameters for T. I need a different static Whatever each time. I'm not quite sure how else I could do this.
[18:47:28] *** Quits: ruabmbua (Mibbit@moz-g8amnl.highway.telekom.at) (Quit: http://www.mibbit.com ajax IRC Client)
[18:47:49] *** Joins: michael1 (michael@moz-9vjtig.mo.charter.com)
[18:47:50] *** Joins: nott (nott@moz-to4.06o.57.86.IP)
[18:48:04] <niconii> mib_a400g9: why does it have to be static at all?
[18:49:08] *** Joins: dinfuehr (dinfuehr@moz-3avimr.highway.telekom.at)
[18:49:28] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[18:49:32] <mib_a400g9> run_whatever() isn't my code. And the docs say not to change a Whatever after being given to run_whatever().
[18:49:47] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[18:50:59] <niconii> mib_a400g9: i'm saying if it lives long enough and is immutable, it doesn't need to be static
[18:51:21] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[18:51:35] *** Joins: Racquetball (namestolenw@moz-nof0ce.res.rr.com)
[18:51:53] <mib_a400g9> Yeah, but I'm not sure how to get it to live long enough otherwise.
[18:51:53] *** Quits: michael1 (michael@moz-9vjtig.mo.charter.com) (Ping timeout: 121 seconds)
[18:51:59] *** Joins: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net)
[18:52:23] *** Quits: DerisiveLogic (smuxi@moz-1jqqlg.biz.rr.com) (A TLS packet with unexpected length was received.)
[18:52:37] <niconii> well, what does run_whatever() do? does it just use the struct and then return? does it hold onto its pointer for a while?
[18:53:16] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[18:53:22] <mib_a400g9> It holds on to the pointer until some other object dies; in my case it's the end of the program.
[18:53:24] *** Quits: glennpratt (glennpratt@moz-neq2gf.dsl-w.verizon.net) (A TLS packet with unexpected length was received.)
[18:53:30] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Ping timeout: 121 seconds)
[18:54:01] *** Joins: DerisiveLogic (smuxi@moz-1jqqlg.biz.rr.com)
[18:54:58] <geri> how long does a c++ programer need to catch up rust?
[18:55:17] *** Quits: olsner (salparot@moz-8aqvfr.bredband.comhem.se) (Ping timeout: 121 seconds)
[18:55:19] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[18:56:30] *** Quits: summerlight (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[18:56:53] *** Quits: tcard (tcard@moz-jdrdbk.ddns.jazztel.es) (Client exited)
[18:57:07] *** Joins: olsner (salparot@moz-8aqvfr.bredband.comhem.se)
[18:57:14] *** Joins: glennpratt (glennpratt@moz-neq2gf.dsl-w.verizon.net)
[18:57:16] <niconii> mib_a400g9: hmm, well, it's hard to say without seeing your real code
[18:57:23] *** Quits: gsingh93 (gulshan@moz-qnbukr.mi.comcast.net) (Ping timeout: 121 seconds)
[18:57:33] *** Quits: zofrex (zofrex@moz-t7ao94.ip-188-165-239.eu) (A TLS packet with unexpected length was received.)
[18:57:50] *** Quits: jfredett (Adium@moz-a9ilmn.fios.verizon.net) (Quit: Leaving.)
[18:57:55] *** Quits: anoman (andrew@moz-ihr.fbp.126.86.IP) (Ping timeout: 121 seconds)
[18:57:59] *** Joins: skade (skade@moz-6g5dak.pools.vodafone-ip.de)
[18:58:04] *** Joins: jfredett (Adium@moz-a9ilmn.fios.verizon.net)
[18:58:23] *** Joins: Verdagon (Verdagon@moz-ff302e.ca.comcast.net)
[18:58:33] *** Quits: dinfuehr (dinfuehr@moz-3avimr.highway.telekom.at) (Connection closed)
[18:58:41] <mib_a400g9> FWIW, a Whatever is actually this: https://www.sqlite.org/c3ref/module.html
[18:58:48] <panicbit> geri: I reckon it depends on the experience level. An experienced developer will probably have an implicit understanding of lifetimes.
[18:58:54] *** Joins: dinfuehr (dinfuehr@moz-3avimr.highway.telekom.at)
[18:59:21] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[18:59:44] * penguin42 observs that you don't get much parallelism during a make -j   build during rust compilation
[18:59:52] <Zoxc> How to iterate over everything but the last element of a vec?
[19:00:10] <panicbit> Zoxc: Use init()
[19:00:25] <niconii> mib_a400g9: ...well i can certainly see why you simplified it down
[19:00:33] <panicbit> playbot: vec![1,2,3].init()
[19:00:34] -playbot- <anon>:9:21: 9:27 error: use of unstable library feature 'collections': likely to be renamed
[19:00:34] -playbot- <anon>:9         vec![1,2,3].init()
[19:00:34] -playbot- output truncated; full output at: http://bit.ly/1Jh4W8I
[19:00:38] <panicbit> eh...
[19:00:45] <mib_a400g9> niconii: Yyyyyep.
[19:00:54] *** Joins: achanda (achanda@moz-qv7q4n.ca.comcast.net)
[19:01:20] <geri> hm note: `m.vec` moved here because it has type `collections::vec::Vec<i32>`, which is non-copyable
[19:01:35] *** Joins: glen (Mibbit@moz-orc2oj.res.bhn.net)
[19:01:45] <geri> let y = m.vec;
[19:02:25] *** Joins: jdm (jdm@moz-mu9.06r.98.75.IP)
[19:02:25] *** ChanServ sets mode: +o jdm
[19:02:56] *** Quits: dinfuehr (dinfuehr@moz-3avimr.highway.telekom.at) (Ping timeout: 121 seconds)
[19:02:56] <panicbit> Zoxc: Rustc is complaining because init() is going to be renamed: http://doc.rust-lang.org/std/primitive.slice.html#method.init
[19:03:17] <mib_a400g9> niconii: I guess it's time for me to write a couple macros. Oh well. Thanks anyway. 
[19:03:29] <niconii> mib_a400g9: hang on, i think i might have a workaround
[19:03:39] *** Joins: minot2 (kkus@moz-baj4jj.74.srtnet.com)
[19:03:41] <mib_a400g9> niconii: Listening...
[19:03:42] <Zoxc> panicbit: Yeah, I was confused about the name
[19:03:55] <archshift> I can't borrow a mutable twice for use in the same function? :|
[19:03:56] <panicbit> Zoxc: It's very familar when coming from haskell or scala
[19:04:10] <panicbit> Zoxc: Or functional languages in general I suppose
[19:04:11] <Zoxc> Haven't seen it in Haskell yet
[19:04:13] <jshs> geri: if you have a small portion of code you can put it on play.rust-lang.org and then share it here
[19:04:30] <jshs> geri: makes it easier to help
[19:04:31] <panicbit> Zoxc: Then try "init [1,2,3]" next time in ghci :)
[19:04:59] <niconii> mib_a400g9: http://is.gd/owneee
[19:05:09] <rovar> is benchmarking possible in rust beta?
[19:05:11] <niconii> mib_a400g9: something like this, perhaps?
[19:05:13] <geri> jshs: http://is.gd/mSp7ll
[19:05:17] <rovar> test and test::bencher are marked unstable
[19:06:06] <niconii> mib_a400g9: this way they stay alive for as long as the vec
[19:06:06] <mib_a400g9> niconii: I guess that's one way to do it.
[19:06:14] <archshift> In Rust, can we open the same file twice?
[19:06:28] *** Quits: happy-dude_ (uid62780@moz-jt3517.charlton.irccloud.com) (Quit: Connection closed for inactivity)
[19:06:29] *** Joins: dfinninger (dfinninger@moz-o78v05.fios.verizon.net)
[19:06:31] <rovar> archshift, that's more of an OS limitation, but, yea. 
[19:06:35] <panicbit> Zoxc: It would also be nice if iterators (or itertools) had an init-like method
[19:07:34] *** Joins: frankmcsherry (frankmcsher@moz-adqedv.adsl.alicedsl.de)
[19:07:44] <archshift> I *would* use the same file-handle, but apparently Rust won't let me pass the same file handle twice if I had a function like `fn some_op(in_file: &mut File, out_file: &mut File)`
[19:07:50] <simukis> you could make one by combining `take_while` and `peekable`
[19:08:22] <panicbit> simukis: Or using next_back() in some cases
[19:08:25] <jshs> geri: a for loop `for x in y { ... }` turns y _into_ an iterator, which consumes it in the case of Vec<_>
[19:08:29] *** Quits: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[19:08:32] <mib_a400g9> niconii: I think I'm gonna stop thinking about this for a while. Thanks for your help.
[19:08:39] <rovar> archshift, that has nothing to do with files, but the fact tha you are giving a mutable reference to a function. Once the function owns that mutable reference, you can't provide another mutable reference to a function (even the same function)
[19:08:39] <jshs> geri: use `for &x in &m.vec { ... }` instead
[19:08:47] <niconii> mib_a400g9: alright, no problem
[19:08:48] <geri> for?
[19:08:55] <geri> the for loop is before!
[19:09:21] <jshs> sorry, what do you mean?
[19:09:51] <archshift> rovar: I understand, it's just frustrating because the work-around would involve duplicating all those functions
[19:09:56] <geri> the interator is created within the for loop?!
[19:09:59] *** Quits: glen (Mibbit@moz-orc2oj.res.bhn.net) (Quit: http://www.mibbit.com ajax IRC Client)
[19:10:01] <Zoxc> error: internal compiler error: cat_expr Errd :(
[19:10:27] <jshs> geri: yes, and in your code the iterator takes the Vec apart
[19:10:31] *** Joins: killercu_ (killercup@moz-gpufip.dip0.t-ipconnect.de)
[19:10:37] *** Quits: anomico (anhedonia@moz-27q.nhl.10.176.IP) (Quit: leaving)
[19:10:40] <rovar> archshift, why do you need to pass the same file to a function twice?
[19:10:43] <geri> jshs strange
[19:10:44] <rovar> why not just pass it once?
[19:10:58] *** Joins: tcard (tcard@moz-jdrdbk.ddns.jazztel.es)
[19:11:18] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[19:11:27] <archshift> `fn some_op(in_file: &mut File, out_file: &mut File)` <- I want to be able to do in-place operations, as well as non-in-place ones
[19:11:47] <duesenfranz_> "the requirement `for<'a> u64 : 'a` is not satisfied" ?
[19:11:57] *** Joins: ecogiko (ecogiko@moz-p59qrv.chello.nl)
[19:12:00] <duesenfranz_> http://is.gd/BsRHG1 
[19:12:06] <jshs> geri: you need to use a different iterator instead which only borrows it
[19:12:19] <duesenfranz_> can somebody explain me why this is "not satisfied"?
[19:12:49] *** Quits: brianloveswords (brianlovesw@moz-tq78gs.fios.verizon.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[19:13:05] *** Quits: killercup (killercup@moz-gpufip.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[19:13:10] *** Quits: ptrptr (petri@moz-3p3asm.dhcp.inet.fi) (Ping timeout: 121 seconds)
[19:13:56] *** Quits: Hannibal_Smith (nico@moz-ikflj7.retail.telecomitalia.it) (Quit: Leaving)
[19:14:14] *** Quits: kazimuth (james@moz-gne.8or.17.73.IP) (Quit: Textual IRC Client: www.textualapp.com)
[19:14:50] *** Quits: dfinninger (dfinninger@moz-o78v05.fios.verizon.net) (Connection closed)
[19:15:03] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[19:15:31] *** Quits: Kurufu (Kurufu@moz-pvv8b5.res.rr.com) (Ping timeout: 121 seconds)
[19:15:43] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[19:16:22] <guaqua> hmm. i'm doing something very simple with TcpStream. i can write into it okay, but reading always seems to return 0
[19:16:38] <guaqua> i.e. it seems like the connection is either closed from the getgo or something else weird
[19:16:48] <guaqua> the other end is known to work
[19:17:07] <guaqua> err - reading always returns 0 bytes
[19:17:33] *** Quits: achanda (achanda@moz-qv7q4n.ca.comcast.net) (Connection closed)
[19:17:34] *** Joins: Kurufu (Kurufu@moz-pvv8b5.res.rr.com)
[19:17:48] <guaqua> hmm... rubber-ducking. could it be the buffer i'm passing to it? :)
[19:17:59] *** Joins: annodomini (lambda@moz-qgii5v.ma.comcast.net)
[19:18:13] <niconii> ...where *is* the documentation for stuff like "for<'a>" though
[19:18:25] *** Joins: brianloveswords (brianlovesw@moz-tq78gs.fios.verizon.net)
[19:18:40] <niconii> i've seen it a few times but i have no idea what it means, and obviously it's not something you can search easily...
[19:19:05] <duesenfranz_> niconii: it basically means "for every lifetime 'a, the following must hold:"
[19:19:29] <duesenfranz_> niconii: but i'm pretty sure this is a bug?
[19:19:43] *** Joins: VsyachePuz (smuxi@moz-u5ntsb.nationalcablenetworks.ru)
[19:20:05] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[19:20:31] <panicbit> Zoxc: What's causing it?
[19:20:36] *** Joins: Kingsquee (kingsley@moz-3fm07c.bchsia.telus.net)
[19:21:14] <panicbit> Zoxc: If possible let us see the code
[19:21:19] *** Quits: geri (geri@moz-gto70s.highway.telekom.at) (Quit: http://www.kiwiirc.com/ - A hand crafted IRC client)
[19:21:39] *** Quits: nott (nott@moz-to4.06o.57.86.IP) (Ping timeout: 121 seconds)
[19:22:12] *** Joins: stjahns_ (stjahns@moz-9oh245.ed.shawcable.net)
[19:22:33] *** Quits: brianloveswords (brianlovesw@moz-tq78gs.fios.verizon.net) (Ping timeout: 121 seconds)
[19:23:39] <steveklabnik> comex: well, well-defined just means defined behavior happens. in debug builds, it's a panic, and in release builds, it's wrapping. that's still well-defined
[19:23:46] <steveklabnik> niconii: there isn't docs for 'for <'a>' yet
[19:24:31] *** Joins: mr_trousers (Mibbit@moz-sb2.m47.4.24.IP)
[19:24:32] <niconii> steveklabnik: gotcha, is there an rfc at least?
[19:24:49] <Zoxc> panicbit: Next nightly gives me error: cannot determine a type for this local variable: unconstrained type [E0102] instead :)
[19:25:05] *** Joins: Guest_ (textual@moz-rtn.fg7.77.192.IP)
[19:25:08] <panicbit> Zoxc: Good to know =D
[19:25:44] <steveklabnik> niconii: i think so, lemme look
[19:25:47] <smarr> hi, how do I go from String to str, as_slice() is gone, and as_str() gives an error about an unstable feature
[19:26:02] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[19:26:14] *** Quits: stjahns_ (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[19:26:21] <steveklabnik> niconii: https://github.com/nikomatsakis/rfcs/blob/hrtb/active/0000-higher-ranked-trait-bounds.md
[19:26:25] <steveklabnik> smarr: &String coerces to &str
[19:26:32] <steveklabnik> smarr: so generally, if foo is a String, you &foo
[19:26:39] *** Joins: Shackra (Jorge@moz-7bh.ng6.177.186.IP)
[19:26:47] <steveklabnik> smarr: that's called a 'deref coercion' http://doc.rust-lang.org/nightly/book/deref-coercions.html
[19:26:50] <niconii> steveklabnik: thanks!
[19:27:12] *** Joins: terpstra_ (terpstra@moz-b3vpjr.hrz.tu-darmstadt.de)
[19:27:22] *** Joins: mdup (cc@moz-g69.e0p.12.80.IP)
[19:27:27] *** bentley is now known as bentley|away
[19:27:58] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[19:27:58] <guaqua> so my problem was with passing a Vec (albeit initialized with with_capacity) that had zero size to TcpStream.read
[19:28:08] *** Quits: mib_a400g9 (Mibbit@moz-u4u1te.nap.wideopenwest.com) (Quit: http://www.mibbit.com ajax IRC Client)
[19:28:26] *** Joins: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se)
[19:28:35] *** Quits: dawehner (quassel@moz-h829oe.hsi6.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[19:29:04] *** Quits: basicdays (basicdays@moz-vreeoj.cable.rcn.com) (Quit: I'm out)
[19:29:35] <smarr> steveklabnik: well, I saw that somewhere, but I still got an issue with a match http://is.gd/bzMAJM
[19:30:07] <smarr> `match &s { "\u{001B}[A" => "up key", _ => "baz" }` doesn't work as I would expect
[19:30:28] *** Joins: chmanchester (chmancheste@moz-h1c.ktt.28.204.IP)
[19:30:42] *** Quits: zettablade (zettablade@moz-58u.jiv.125.50.IP) (Ping timeout: 121 seconds)
[19:30:51] *** Joins: anoman (andrew@moz-ihr.fbp.126.86.IP)
[19:30:59] *** Quits: skade (skade@moz-6g5dak.pools.vodafone-ip.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[19:31:00] *** Joins: zettablade (zettablade@moz-i7p.mg6.56.172.IP)
[19:31:14] <steveklabnik> yeah, so this part _wont_ do that
[19:31:15] <steveklabnik> http://is.gd/tIORrt
[19:31:22] <steveklabnik> you have to do the more-explicit &*
[19:31:38] <steveklabnik> also, i switched to method syntax to make the String, it's considered more diomatic
[19:32:05] *** Quits: dcb (textual@moz-j72nfe.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[19:32:07] *** Joins: rkruppe (chatzilla@moz-cha9d8.unity-media.net)
[19:32:09] *** Quits: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr) (Connection closed)
[19:32:36] <smarr> steveklabnik: thanks, that helps
[19:32:50] *** Joins: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr)
[19:33:00] <harrisonclarke> borrow checker question: i'm looping over a vec, and conditionally returning a ref to an element of it. the borrow on the vec extends to the end of the function, instead of the end of the block. why/how do i fix it? http://is.gd/kTlPgD
[19:33:16] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[19:33:34] *** Joins: dcb (textual@moz-j72nfe.ca.comcast.net)
[19:33:34] *** Quits: zzing (textual@moz-jucm1n.cpe.distributel.net) (Ping timeout: 121 seconds)
[19:34:23] *** Quits: Anupkumar (uid16774@moz-cf8smb.uxbridge.irccloud.com) (Quit: Connection closed for inactivity)
[19:34:35] <steveklabnik> harrisonclarke: first of all, you don't need tha t'use' line
[19:34:38] <steveklabnik> that 'use' line
[19:35:12] *** Joins: zzing (textual@moz-jucm1n.cpe.distributel.net)
[19:35:56] *** Joins: nott (nott@moz-to4.06o.57.86.IP)
[19:36:59] <bluss> harrisonclarke: I don't understand it either, it seems weird
[19:37:30] *** Joins: elbow_jason (elbow@moz-hgb.qaf.30.50.IP)
[19:37:30] *** Joins: kieran (kieran@moz-c5gk5j.ihug.co.nz)
[19:38:06] <steveklabnik> but yeah, i'm with bluss 
[19:39:24] <bluss> harrisonclarke: I promise, normally we clear these questions up. I'm missing why rust extends the borrow to the end of the function here
[19:39:32] <steveklabnik> yeah
[19:39:35] <niconii> it runs if you comment out the return line inside the for loop
[19:39:38] <niconii> i don't know why though
[19:39:44] <steveklabnik> even if you put it in another scope
[19:40:05] <harrisonclarke> my guess is that 'return' is implemented by creating a local, and using that local as the last statement in the function?
[19:40:24] <bluss> harrisonclarke: the borrow checker only looks at scopes and not at dataflow (yet)
[19:40:24] <harrisonclarke> last expression, rather
[19:40:37] *** Quits: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net) (Ping timeout: 121 seconds)
[19:40:44] <bluss> so yes the return creates a situation where the borrow lasts until the end of the function for some reason
[19:41:38] *** Quits: kieran (kieran@moz-c5gk5j.ihug.co.nz) (Ping timeout: 121 seconds)
[19:42:09] <harrisonclarke> that makes sense.
[19:42:16] *** Quits: timj (timj@moz-qrm.hdf.102.91.IP) (Ping timeout: 121 seconds)
[19:42:37] *** Joins: skade (skade@moz-6g5dak.pools.vodafone-ip.de)
[19:42:45] <bluss> the good news is that we can improve it
[19:42:57] <harrisonclarke> i should be able to put the loop in a function, to work around it for now
[19:43:04] <bluss> here is one work around http://is.gd/7N7sMB
[19:43:14] *** Quits: Jackneill (Jackneill@moz-g6qg5q.pool.digikabel.hu) (A TLS packet with unexpected length was received.)
[19:43:14] *** Joins: Stebalien (Stebalien@moz-i00.hrk.38.73.IP)
[19:43:26] <penguin42> is the example in here correct: http://doc.rust-lang.org/getopts/getopts/index.html     I'm getting   error: unresolved import `getopts::Options`. There is no `Options` in `getopts       :2 use getopts::Options;        on my little toy program
[19:43:36] *** darkowlzz is now known as darkowlzz|afk
[19:44:37] *** Quits: Verdagon (Verdagon@moz-ff302e.ca.comcast.net) (Client exited)
[19:44:54] <steveklabnik> penguin42: should be right. quick check: do you have 'getopts' in your Cargo.toml?
[19:45:14] <bluss> harrisonclarke: maybe this is a bit more elegant http://is.gd/SdAvFN
[19:45:42] <penguin42> steveklabnik: hmm, I was trying to compile this with just    rustc  program.rs    (my first attempt!)  I hadn't got to cargo yet;  it does have an 'extern crate getopts;' at the top
[19:45:59] *** Joins: timj (timj@moz-qrm.hdf.102.91.IP)
[19:46:44] <steveklabnik> penguin42: ah! so that's the issue
[19:46:58] <steveklabnik> so, rust has an _internal_ getopts that it uses
[19:47:05] <steveklabnik> but that's different than the external library we publish
[19:47:14] *** Quits: KLP (KLP@moz-qdcjho.res.rr.com) (Quit: http://www.kiwiirc.com/ - A hand crafted IRC client)
[19:47:25] <penguin42> steveklabnik: Oh - that's erm confusing
[19:47:27] *** Joins: larhat (Adium@moz-tb1ulb.cable.virginm.net)
[19:47:32] <ecogiko> Hello! I have a problem with cargo build and the image library from Piston. When trying to build some rust code I have to wait 20 seconds for the build to complete, it's not more than 50 lines.
[19:47:36] <steveklabnik> if you're just using rustc, you'll need to first compile the getopts crate, and THEN link it in with this one. which is much, much harder than just using cargo
[19:47:54] *** Joins: dawehner (quassel@moz-h829oe.hsi6.kabel-badenwuerttemberg.de)
[19:47:55] *** Quits: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr) (Connection closed)
[19:47:55] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[19:47:55] *** ChanServ sets mode: +o erickt
[19:47:56] *** Joins: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr)
[19:48:04] <penguin42> steveklabnik: OK, time to go back to the thing about using cargo then - thanks
[19:48:11] <steveklabnik> any time
[19:48:14] <steveklabnik> it's really easy
[19:48:14] <penguin42> steveklabnik: I'd assumed the standard library would be well, standard :-)
[19:48:26] *** Quits: mdup (cc@moz-g69.e0p.12.80.IP) (Ping timeout: 121 seconds)
[19:48:26] <penguin42> yeh, I saw it in the book
[19:48:29] <steveklabnik> hehe, yeah, well, it's not actually part of the standard library
[19:48:34] <steveklabnik> it's external
[19:48:51] <steveklabnik> this is certainly a papercut thing though
[19:48:54] *** Joins: michael1 (michael@moz-9vjtig.mo.charter.com)
[19:49:04] <SiegeLord> Fwiw, I'm using the internal getopts without any issues... I don't use the Options type directly though
[19:49:34] <penguin42> IMHO it's a bad idea to have two things with the same name in the standardish set of stuff
[19:49:49] <SiegeLord> The fact that these internal crates conflict with the extran crates are pretty bad nonetheless
[19:49:54] <SiegeLord> There's a bug about this somewhere
[19:50:17] *** Joins: anomico (anhedonia@moz-hqmkvu.mit.edu)
[19:50:38] <penguin42> and that was the first page I hit for doing option parsing on Rust
[19:50:42] <steveklabnik> yeah
[19:50:45] <steveklabnik> so part of this is
[19:50:55] <SiegeLord> You're actually will have a lot of issues using the getopts crate with rustc
[19:50:56] <steveklabnik> https://github.com/rust-lang/getopts clearly says to use cargo.toml
[19:51:08] <steveklabnik> i should mirror that text into the page you found
[19:51:11] *** Quits: saml_ (saml@moz-rkfmct.res.rr.com) (Connection closed)
[19:51:12] * steveklabnik goes to update all of our crates
[19:51:14] <SiegeLord> Since -L does not make the local copy be preferred to the private version
[19:51:29] <SiegeLord> You have to use --extern getopts=your_local_getopts
[19:51:33] <SiegeLord> It's pretty terrible
[19:51:52] *** Quits: mkpankov (user@moz-31a.jvq.149.83.IP) (Ping timeout: 121 seconds)
[19:52:51] <SiegeLord> So I prefer to just use the private version, as it's easier
[19:52:58] *** Quits: michael1 (michael@moz-9vjtig.mo.charter.com) (Ping timeout: 121 seconds)
[19:53:09] <jshs> why are internal crates other than libstd and its dependencies considered for linking at all?
[19:53:17] <penguin42> ok, so another thing, why does the default building from source causing it to build backends for anything other than the OS you're on?
[19:53:27] *** Quits: nerdopoly (nerdopoly@moz-ouaagf.range86-143.btcentralplus.com) (Quit: leaving)
[19:53:46] <penguin42> I mean it's good to be able to cross to ARM/MIPS etc - but as a default from just a ./configure && make ?
[19:53:54] <SiegeLord> jshs: You need to link to libsyntax and stuff for syntax extensions
[19:53:57] <penguin42> hmm, I guess i need to build crate
[19:54:07] *** Parts: rbrs (rbrs@moz-m5thmg.static.zebra.lt) ()
[19:54:07] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[19:54:21] <SiegeLord> I think it's a bug with the -L flag
[19:54:31] *** Quits: woboats (tatterdemal@moz-a0dnkb.ca.comcast.net) (Ping timeout: 121 seconds)
[19:54:44] <SiegeLord> Or they should be a different flag that truly sets a preferred path
[19:55:03] <SiegeLord> I guess you could use sysroot and then -L to the real sysroot
[19:55:10] <SiegeLord> But that's a horrible hack
[19:55:30] <jshs> I only compile via cargo, so I haven't been bitten by this issue yet
[19:55:47] <jshs> people are confused quite often though
[19:56:11] *** Joins: mkpankov (mkpankov@moz-31a.jvq.149.83.IP)
[19:56:26] <dickturnip> I'm confused all the time since taking up Rust XD
[19:56:34] *** Quits: atomic (atomic@moz-32rrpe.snydernet.net) (Ping timeout: 121 seconds)
[19:56:38] <penguin42> hmm, the cargo build instructions (running the ./.travis.install.deps.sh ) tries to download a rustc nightly tar even though I've just built rustc  - why is it downloading a binary?
[19:56:39] <SiegeLord> Another way of thinking about is that the cargo crates shouldn't be named the same as the private crates
[19:56:53] <steveklabnik> penguin42: it's pinned to a specific version of rustc
[19:57:04] <SiegeLord> Rustc uses a global namespace, and it is because they violate it that this issue occurs
[19:57:11] *** Joins: nerdopoly (nerdopoly@moz-ouaagf.range86-143.btcentralplus.com)
[19:57:26] <bluss> SiegeLord: the internal crates should probably have other names then
[19:57:38] <SiegeLord> That's probably the easier solution these days
[19:57:56] *** Joins: sinistersnare (Mibbit@moz-vj2.mkr.2.129.IP)
[19:58:09] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Ping timeout: 121 seconds)
[19:58:21] *** Quits: anoman (andrew@moz-ihr.fbp.126.86.IP) (Ping timeout: 121 seconds)
[19:58:42] *** Joins: sayan (sayan@moz-ip8.595.51.106.IP)
[19:59:02] *** Joins: JagaJaga (JagaJaga@moz-ua8.hhl.62.178.IP)
[19:59:11] <penguin42> steveklabnik: Can you explain that - if I clone rustc and build it, how do I then build the cargo that goes with it - how do I build the whole thing from source?
[19:59:19] <SiegeLord> --extern is a bit of a terrible solution, incidentally, since it requires the precise filename
[19:59:40] <SiegeLord> If your binary is generated by cargo, and you want to link to it using bare rustc, you're going to need to hardcode the hash
[19:59:44] <steveklabnik> penguin42: cargo requires a specific rust version to compile itself. but it can use basically any rustc
[19:59:54] *** Parts: sinistersnare (Mibbit@moz-vj2.mkr.2.129.IP) ()
[20:00:02] <steveklabnik> penguin42: so, cargo needs to grab a nightly to compile itself because it may be a different version than the rustc you'll use generally
[20:00:37] *** Joins: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net)
[20:00:46] <penguin42> steveklabnik: So do you mean I can't build cargo from source without using a binary build?
[20:00:46] *** Quits: mkpankov (mkpankov@moz-31a.jvq.149.83.IP) (Connection closed)
[20:00:52] *** Quits: marsel (user@moz-qln.g6r.180.94.IP) (Ping timeout: 121 seconds)
[20:00:52] *** Joins: mkpankov (mkpankov@moz-pih.971.220.91.IP)
[20:00:52] *** Quits: khades (Thunderbird@moz-u45.3vk.74.212.IP) (Client exited)
[20:01:07] <steveklabnik> well, if you build that version of the compiler from source and then configure cargo to use it, no
[20:01:11] <steveklabnik> but by default, that's what it does
[20:01:36] <penguin42> steveklabnik: OK, so how do I determine which version of rustc I need to build the cargo, so I can then get that version?
[20:02:05] <steveklabnik> there's a text file in the cargo source, i forget exactly where it is tbh
[20:02:22] <penguin42> src/rustversion.txt
[20:02:27] <steveklabnik> sounds about right
[20:02:35] <penguin42> now that's a nightly date - but which git version is that?
[20:03:02] <steveklabnik> no idea. i just use binary builds, i stopped building myself a long time ago
[20:03:06] <steveklabnik> i mean
[20:03:12] *** Joins: savorywatt (savorywatt@moz-0e9dd3.desm.qwest.net)
[20:03:13] <steveklabnik> that nightly, when you run rustc -v on it, will tell you
[20:03:22] <steveklabnik> but that still involves grabbing a binary build
[20:03:52] <penguin42> steveklabnik: It seems to be missing the obvious thing to just have the rust git have a tag in it
[20:04:22] <steveklabnik> that's a LOT of tags
[20:04:28] * steveklabnik shrugs
[20:04:36] *** Quits: nerdopoly (nerdopoly@moz-ouaagf.range86-143.btcentralplus.com) (Ping timeout: 121 seconds)
[20:04:41] *** Quits: Palmik (palmik@moz-7pku2p.net.upcbroadband.cz) (Ping timeout: 121 seconds)
[20:04:45] <steveklabnik> maybe there's something i'm not aware of, like i said, i don't really do this myself
[20:04:57] * penguin42 is feeling this isn't going well
[20:05:02] *** Quits: grncdr (Adium@moz-m1g.e47.90.95.IP) (Quit: Leaving.)
[20:05:14] <jshs> penguin42: why do you want to build a rustc just for cargo?
[20:05:20] <penguin42> jshs: I don't
[20:05:30] <niconii> penguin42: in any case, your situation seems rather rare, and cargo will eventually be built on stable rust
[20:05:35] <penguin42> jshs: I've built a rustc already - but steveklabnik says cargo needs to be built with a specific version
[20:05:38] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[20:06:03] <SiegeLord> I remember hacking up cargo's makefile to build it with my current version, hah
[20:06:06] *** Joins: KLP (KLP@moz-qdcjho.res.rr.com)
[20:06:21] <SiegeLord> That was a few months ago, however
[20:06:37] <penguin42> niconii: I'd be happy if the rustc docs that told me how to compile rustc had a big fat warning that I might need a particular version to compile cargo, and if the docs on compiling cargo told me that it wasn't going to use my local rustc version
[20:06:43] *** Joins: Palmik (palmik@moz-n6d90r.vpn.muni.cz)
[20:06:44] *** Joins: khades (Thunderbird@moz-u45.3vk.74.212.IP)
[20:06:53] <jshs> penguin42: why avoid the snapshot binary then?
[20:07:08] <penguin42> jshs: I prefer to build from source
[20:07:10] *** Joins: laogao (laogao@moz-k1t.k7v.78.124.IP)
[20:07:23] *** Quits: hhhhhhhhhh (mike@moz-969kuj.cable.virginm.net) (Quit: WeeChat 1.1.1)
[20:07:29] *** Joins: mkpankov` (mkpankov@moz-053.dee.149.83.IP)
[20:07:51] *** Joins: nerdopoly (nerdopoly@moz-ouaagf.range86-143.btcentralplus.com)
[20:07:54] <penguin42> jshs: And if you can't build from source without downloading a binary then it's pretty pointless
[20:08:06] <jshs> eh ... when you build rustc it grabs a binary for compiling itself
[20:08:08] *** Joins: achanda (achanda@moz-qv7q4n.ca.comcast.net)
[20:08:23] <penguin42> sigh
[20:08:40] * penguin42 was feeling quite positive about rust having read a lot of the docs, but the distribution process is a disaster
[20:09:03] <steveklabnik> self-hosting compilers: they're complicated
[20:09:11] <penguin42> steveklabnik: Been there, done it
[20:09:12] *** Quits: Racquetball (namestolenw@moz-nof0ce.res.rr.com) (Ping timeout: 121 seconds)
[20:09:15] <mkpankov`> penguin42 well how do you think compiler could be bootstrapped w/o that? 
[20:09:17] *** Joins: dinfuehr (dinfuehr@moz-3avimr.highway.telekom.at)
[20:09:40] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[20:09:50] *** Quits: mkpankov (mkpankov@moz-pih.971.220.91.IP) (Ping timeout: 121 seconds)
[20:10:02] <penguin42> mkpankov`: Boot strap a basic version from C(++)/perl/whatever
[20:10:08] *** Joins: james4k (james@moz-ao8aj6.consolidated.net)
[20:10:18] <steveklabnik> that's still going to use a c compiler
[20:10:22] <steveklabnik> which was probably built from a binary
[20:10:26] *** Joins: sonder (chatzilla@moz-nt8r49.idi.ntnu.no)
[20:10:30] <steveklabnik> because the c compiler is written in c
[20:10:34] <mkpankov`> not sure depending on another compiler is better
[20:10:45] <penguin42> at least I have signed binaries for my C compiler
[20:10:49] <mkpankov`> I'd say it's worst
[20:10:51] *** Joins: cjwelborn (cjwelborn@moz-np6hed.al.charter.com)
[20:10:56] <steveklabnik> rust binaries are signed
[20:11:13] *** Quits: laogao (laogao@moz-k1t.k7v.78.124.IP) (Ping timeout: 121 seconds)
[20:11:47] <penguin42> steveklabnik: The scripts don't check anything, they curl stuff but that's it
[20:11:53] <steveklabnik> sure, but you can check it.
[20:11:56] <steveklabnik> multirust does
[20:12:10] <penguin42> but it's too late - and all the docs make you think your actually building from source
[20:12:17] <steveklabnik> anyway, i know you rpain, in a way. i also used to build from source only for a very long time.
[20:12:27] <steveklabnik> but realistically, it all ends up coming from a binary at SOME point
[20:12:33] <penguin42> I'm happy to take the pain of building from source; if it actually worked and I could
[20:12:50] <penguin42> but the docs on doing it really need sorting out
[20:12:57] <SiegeLord> Nothing stops you from building up from the original OCaml compiler ;)
[20:12:59] *** bentley|away is now known as bentley
[20:13:02] <SiegeLord> If you have a week or so to waste
[20:13:20] *** Quits: dinfuehr (dinfuehr@moz-3avimr.highway.telekom.at) (Ping timeout: 121 seconds)
[20:13:23] <penguin42> SiegeLord: Well, I can install OCaml - where's the build script?
[20:13:44] <SiegeLord> The build process is manual :P
[20:13:59] <penguin42> right....
[20:14:21] <steveklabnik> you'd go through... what, 50, 100 builds?
[20:14:41] <steveklabnik> https://github.com/rust-lang/rust/blob/master/src/snapshots.txt <0
[20:14:48] *** Quits: minot2 (kkus@moz-baj4jj.74.srtnet.com) (Connection closed)
[20:14:50] <penguin42> even if I did have to use a binary to boot strap, I really don't like the instructions for building from source causing it to download binaries without telling you this
[20:15:23] *** Joins: grncdr (Adium@moz-m1g.e47.90.95.IP)
[20:15:36] *** Quits: emilk (emilk@moz-cv64nf.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[20:16:07] *** Joins: Azdle (Azdle@moz-fv6arh.mn.comcast.net)
[20:16:40] <panicbit> penguin42: Huh? https://github.com/rust-lang/rust#notes
[20:16:50] *** Quits: anomico (anhedonia@moz-hqmkvu.mit.edu) (Quit: leaving)
[20:16:52] *** Quits: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr) (Connection closed)
[20:17:08] *** Joins: arty (Mibbit@moz-ineiim.il.comcast.net)
[20:17:16] <niconii> penguin42: i imagine you're so hellbent on building only from source because it's more secure in your eyes? but, i mean... are you actually reading the entire body of source code? how do you know no one tampered with that?
[20:17:21] *** Joins: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr)
[20:17:40] <penguin42> panicbit: Hmm, ah fair - I did just follow the 'building on' bit
[20:17:56] *** Joins: newbiz (newbiz@moz-9m0cr9.fbxo.proxad.net)
[20:18:02] <penguin42> niconii: No, I'm not - but at least those things are checked out from git so I can verify what I've checked out correspond to what's on github
[20:18:07] <panicbit> niconii: The "Ken Thompson Hack" is a nice read :D http://c2.com/cgi/wiki?TheKenThompsonHack
[20:18:09] *** Quits: achanda (achanda@moz-qv7q4n.ca.comcast.net) (Connection closed)
[20:18:21] <panicbit> also penguin42 ^
[20:18:26] <penguin42> yeh, I'm aware of that hack
[20:19:00] *** Quits: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr) (Connection closed)
[20:19:01] *** Joins: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr)
[20:19:09] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[20:19:52] *** Quits: g5pw (g5pw@moz-5i3.7ej.244.162.IP) (Connection closed)
[20:20:11] *** Joins: maedhroz (maedhroz@moz-4jk5ho.res.rr.com)
[20:20:22] *** Joins: mib_717fik (Mibbit@moz-gbgntn.sub-70-192-35.myvzw.com)
[20:20:29] <niconii> anyway, yes, there are rough patches, some of which have to do with the fact that rust hasn't been released yet
[20:20:32] *** Quits: Guest_ (textual@moz-rtn.fg7.77.192.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[20:21:30] <niconii> for instance, the cargo issue will be sorted out eventually, and once 1.0 hits, you should see distro package managers picking it up, which should make for a more reliable way to trust that your binaries are legit
[20:21:51] *** Quits: mib_717fik (Mibbit@moz-gbgntn.sub-70-192-35.myvzw.com) (Quit: http://www.mibbit.com ajax IRC Client)
[20:22:03] *** Joins: mib_v2z2bg (Mibbit@moz-gbgntn.sub-70-192-35.myvzw.com)
[20:22:14] *** Quits: mib_v2z2bg (Mibbit@moz-gbgntn.sub-70-192-35.myvzw.com) (Quit: http://www.mibbit.com ajax IRC Client)
[20:22:40] *** Quits: refold (gman@moz-ml8pv7.priv.bahnhof.se) (Quit: leaving)
[20:22:47] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[20:22:57] *** Joins: stjahns_ (stjahns@moz-9oh245.ed.shawcable.net)
[20:23:44] *** Joins: atomic (atomic@moz-29eeuu.puckey.org)
[20:23:53] *** Quits: mkpankov` (mkpankov@moz-053.dee.149.83.IP) (Quit: Bye)
[20:24:06] <penguin42> niconii: They will, but they really won't like build scripts that try and grab binaries on their package build hosts
[20:24:22] *** Joins: xeviox (ben@moz-jev0er.pools.vodafone-ip.de)
[20:24:35] *** Joins: mkpankov (user@moz-053.dee.149.83.IP)
[20:24:37] <steveklabnik> that's why they won't build that way :)
[20:24:48] <penguin42> steveklabnik: Why, how will they build?
[20:25:00] <steveklabnik> they'll point it at their own stage0
[20:25:13] <steveklabnik> at least, that's what the debian crew is doing at the moment
[20:25:19] <steveklabnik> can't speak much about other distros
[20:25:21] *** Joins: srh (User@moz-k0i14f.q9f2.utp8.0306.2602.IP)
[20:26:59] *** Quits: stjahns_ (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[20:28:45] <penguin42> hmm, thanks; I may come back when someone has tidied up the build system or packaged it properly
[20:28:52] <penguin42> it's a shame - I was looking forward to it
[20:28:55] *** Quits: rkruppe (chatzilla@moz-cha9d8.unity-media.net) (Ping timeout: 121 seconds)
[20:29:04] *** Joins: mdup (cc@moz-g3j7cf.abo.wanadoo.fr)
[20:29:09] *** Quits: penguin42 (dg@moz-0v8anh.cable.virginm.net) (Quit: Leaving.)
[20:29:55] *** Quits: nerdopoly (nerdopoly@moz-ouaagf.range86-143.btcentralplus.com) (Quit: leaving)
[20:30:25] <steveklabnik> cool cool
[20:31:29] *** Quits: zettablade (zettablade@moz-i7p.mg6.56.172.IP) (Connection closed)
[20:31:33] *** Joins: zettablade (zettablade@moz-i7p.mg6.56.172.IP)
[20:32:32] *** Quits: c0170 (c0170@moz-4stj9o.cable.virginm.net) (Connection closed)
[20:33:41] *** Joins: g5pw (g5pw@moz-5i3.7ej.244.162.IP)
[20:34:02] <Zoxc> Hm.. now ld can't find crt2.o, crtbegin.o and crtend.o
[20:34:39] *** Joins: agjacome_ (agjacome@moz-s8ft7l.dynamic.jazztel.es)
[20:34:59] *** Joins: chc4 (chc4@moz-mjph4c.ma.comcast.net)
[20:35:42] *** Quits: g5pw (g5pw@moz-5i3.7ej.244.162.IP) (Connection closed)
[20:35:56] *** Quits: chmanchester (chmancheste@moz-h1c.ktt.28.204.IP) (Quit: )
[20:36:58] *** Quits: anders (andars@moz-bsldst.sntcca.sbcglobal.net) (Ping timeout: 121 seconds)
[20:37:11] *** Quits: agjacome (agjacome@moz-2na505.dynamic.jazztel.es) (Ping timeout: 121 seconds)
[20:37:19] *** Joins: Guest_ (textual@moz-rtn.fg7.77.192.IP)
[20:37:27] *** Quits: jaen (jaen@moz-ifmik2.copit.pl) (Connection closed)
[20:37:45] *** Joins: dstrbad (dstrbad@moz-4tev7n.dsl.iskon.hr)
[20:38:06] *** Joins: kieran (kieran@moz-c5gk5j.ihug.co.nz)
[20:38:16] *** Quits: pyon (pyon@moz-v9d.mdl.7.179.IP) (Quit: I have irrefutable proof that D < 0. It follows trivially from 2D > 3D, which is obviously true.)
[20:38:22] *** Quits: dstrbad (dstrbad@moz-4tev7n.dsl.iskon.hr) (A TLS packet with unexpected length was received.)
[20:38:42] *** Joins: Verdagon (Verdagon@moz-lslbjn.hfc.comcastbusiness.net)
[20:38:58] *** Quits: houzi (houzi@moz-ke2hvv.20.getinternet.no) (Ping timeout: 121 seconds)
[20:40:12] *** Joins: g5pw (g5pw@moz-5i3.7ej.244.162.IP)
[20:40:26] *** Quits: timj (timj@moz-qrm.hdf.102.91.IP) (Ping timeout: 121 seconds)
[20:40:27] <archshift> does FromError exist anymore?
[20:40:35] *** Joins: lenstr (lenstr@moz-hri.vju.25.171.IP)
[20:40:55] <steveklabnik> archshift: it does not
[20:40:58] *** Quits: jviereck (Adium@moz-pqri8u.dclient.hispeed.ch) (Quit: Leaving.)
[20:41:00] <steveklabnik> use From<Error> instead 
[20:41:14] *** Quits: eibwen (eibwen@moz-93ooqs.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[20:41:50] *** Quits: futile (felix@moz-cmcd12.unity-media.net) (Quit: WeeChat 1.2-rc1)
[20:42:17] *** Quits: kieran (kieran@moz-c5gk5j.ihug.co.nz) (Ping timeout: 121 seconds)
[20:42:46] <terpstra_> erm. BTreeMap doesn’t implement IndexMut ??
[20:42:58] *** Joins: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net)
[20:42:59] *** Quits: logan_e (logan_e@moz-ltn.qg3.218.73.IP) (Client exited)
[20:43:26] *** Joins: dr_bibble (Mibbit@moz-gfi.b4r.59.187.IP)
[20:43:47] <bluss> terpstra_: the maps don't until the "IndexSet" feature is ready
[20:44:09] *** Joins: flaub (flaub@moz-p42j78.customer.broadstripe.net)
[20:44:17] *** Quits: Verdagon (Verdagon@moz-lslbjn.hfc.comcastbusiness.net) (Client exited)
[20:44:19] *** Joins: hhhhhhhhhh (mike@moz-969kuj.cable.virginm.net)
[20:44:20] <terpstra_> is there a technical limitation? i’d have thought it’d be as easy as just returning a &mut to the node in the tree?
[20:44:21] *** Joins: Verdagon (Verdagon@moz-lslbjn.hfc.comcastbusiness.net)
[20:44:28] *** Joins: iiixtiii (ixti@moz-i3d.dae.119.188.IP)
[20:44:39] <Verdagon> hey guys, what’s going on in this line? what does <F as Zero> mean?
[20:44:40] <xeviox> hi guys, when I try to use a c API from Rust (using ffi) and there is one function that returns a pointer to a struct and another one that accepts that pointer, do I have to rebuild the struct if I'm not interested in the data itself?
[20:44:43] *** Quits: lenstr (lenstr@moz-hri.vju.25.171.IP) (Ping timeout: 121 seconds)
[20:44:44] <Verdagon> https://github.com/dche/glm-rs/blob/d6ab3aee669a679880b341b30c638989570d5acc/src/ext/matrix/mod.rs#L73
[20:45:02] *** Joins: wippler (Mibbit@moz-gjmj22.wa.comcast.net)
[20:45:22] <bluss> terpstra_: no, I think it was present and then was removed. So that it can be reintroduced without conflicts or problems when IndexSet is ready. Set as in setting values
[20:45:37] *** Quits: wippler (Mibbit@moz-gjmj22.wa.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[20:46:00] <terpstra_> oh, i see
[20:46:01] <ecogiko> Is there a Piston image developer here? I have a weird problem loading an image and building the code. It takes 23 seconds to compile the first time.
[20:46:10] <terpstra_> it lets us insert with foo[key] = val
[20:46:20] <terpstra_> that is indeed worthwhile to wait for
[20:46:25] <bluss> Verdagon: just to explicitly use the Zero trait impl of type F
[20:46:27] <steveklabnik> Verdagon: that's http://doc.rust-lang.org/nightly/book/ufcs.htmlhttp://doc.rust-lang.org/nightly/book/ufcs.html
[20:46:30] <steveklabnik> whhops
[20:46:31] <steveklabnik> double paste
[20:46:32] <steveklabnik> http://doc.rust-lang.org/nightly/book/ufcs.html
[20:46:50] <dickturnip> how do i make a struct field mutable?
[20:46:50] <steveklabnik> ecogiko: is that including dependnecies, since you said 'first time'
[20:46:51] <Verdagon> cool, thanks steveklabnik!
[20:46:55] <talchas> ecogiko: 23s compile seems unfortunate but not unbelievable for rust
[20:47:07] <steveklabnik> dickturnip: http://doc.rust-lang.org/nightly/book/mutability.html#field-level-mutability
[20:47:16] <ecogiko> steveklabnik: Dependencies have already been compiled, everything is compiled.
[20:47:35] <ecogiko> Only when I make a change to the code and have to recompile I have to wait 23 seconds for a 50 line single file.
[20:47:39] *** Joins: rkruppe (chatzilla@moz-l9r0tn.diu2.0rth.0908.2a02.IP)
[20:47:39] <flaub> syntax question: How do I specify the Output associated type for a Fn trait derivative?
[20:47:57] <steveklabnik> ecogiko: for 50 lines? yeah, seems excessive
[20:48:07] *** Joins: lenstr (lenstr@moz-hri.vju.25.171.IP)
[20:48:17] <terpstra_> is the idea that crates like num and rand will move into std:: once they are finalized? (and then become available in rust 1.x, x>0)
[20:48:31] <steveklabnik> terpstra_: depends
[20:48:41] <steveklabnik> it's not entirely clear
[20:48:43] <terpstra_> i find that even trivial programs i write at the moment end up needing basic things from these crates
[20:48:53] <steveklabnik> that's one possibility
[20:49:12] <terpstra_> i find it rather distasteful that std is not really self-contained atm
[20:49:15] <steveklabnik> they might just also stay external. we'll see.
[20:49:26] *** Quits: lenstr (lenstr@moz-hri.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[20:49:27] <steveklabnik> oh, well, minimalism is what we're going for long-term
[20:49:28] <terpstra_> i understand for getting things out the door quick, it makes sense to leave them external for now
[20:49:30] *** Joins: timj (timj@moz-qrm.hdf.102.91.IP)
[20:49:31] <steveklabnik> anti-batteries-included
[20:49:47] <terpstra_> steveklabnik: there’s minimalism, and then there’s not including Zero. ;P
[20:49:49] <steveklabnik> there are still good reasons to have certain things in-tree
[20:50:23] <steveklabnik> right now, it's sorta 1) stuff that's in _every_ rust program. 2) common traits, for interop reasons 3) things that require a large amount of unsafe code, like datastructures
[20:50:41] <steveklabnik> yeah, it really depends on what work you do
[20:50:47] <steveklabnik> i've never written code that requires Zero ;)
[20:50:52] <terpstra_> seriously?
[20:50:58] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[20:51:08] <terpstra_> the moment you want to write code that works for a generic integral type, you need at the least, Zero =)
[20:51:17] *** Quits: larhat (Adium@moz-tb1ulb.cable.virginm.net) (Connection closed)
[20:51:22] <steveklabnik> right, i haven't written much code that's generic over integer types
[20:51:28] <comex> steveklabnik: yes, but in the debug case, not well-defined as wrapping :)
[20:51:31] <terpstra_> i sort of expect the traits for primitive types that live in num atm to be in std
[20:51:36] *** Joins: larhat (Adium@moz-tb1ulb.cable.virginm.net)
[20:51:41] *** Quits: skade (skade@moz-6g5dak.pools.vodafone-ip.de) (Quit: Textual IRC Client: www.textualapp.com)
[20:51:41] <steveklabnik> yeah, so, they _were_
[20:51:46] <mkpankov> ok, suddenly, this works as it should http://is.gd/8wa3Rc
[20:51:50] <steveklabnik> and they are certainly excellent candidates, under #2 above
[20:51:54] <mkpankov> can someone explain why?
[20:51:57] <steveklabnik> comex: sure, but still well-defined
[20:52:08] <mkpankov> (I expected that I'd need AtomicInt for this)
[20:52:19] *** Quits: rkruppe (chatzilla@moz-l9r0tn.diu2.0rth.0908.2a02.IP) (Ping timeout: 121 seconds)
[20:52:35] <jshs> mkpankov: you did see that warning? it's sequential
[20:52:36] <talchas> mkpankov: you're only running one thread at a time
[20:52:45] <mkpankov> ok, thanks
[20:52:47] *** Quits: larhat (Adium@moz-tb1ulb.cable.virginm.net) (Quit: Leaving.)
[20:53:19] *** Quits: killercu_ (killercup@moz-gpufip.dip0.t-ipconnect.de) (Quit: Bye)
[20:53:52] *** Quits: mindtree (Mitch@moz-p8h.mdh.138.202.IP) (Quit: leaving)
[20:55:00] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[20:55:04] <dickturnip> hmm this is weird, I have a player struct, and when set it to a variable let mut player = Player, I can't change the defualt values in it
[20:55:09] *** Joins: anders (andars@moz-bsldst.sntcca.sbcglobal.net)
[20:55:24] *** Quits: dr_bibble (Mibbit@moz-gfi.b4r.59.187.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[20:55:28] <dickturnip> after they have been created when I set it up
[20:55:56] <dickturnip> error: cannot assign to immutable field `player.magic`
[20:56:04] *** Joins: larhat (Adium@moz-tb1ulb.cable.virginm.net)
[20:56:37] *** Joins: fabianvf (fabianvf@moz-fjqmui.va.comcast.net)
[20:57:06] *** Quits: juanfra (juanfra@moz-hs9.q8p.76.84.IP) (Client exited)
[20:58:33] *** Joins: mib_lawimo (Mibbit@moz-gfi.b4r.59.187.IP)
[20:58:49] *** Joins: juanfra (juanfra@moz-hs9.q8p.76.84.IP)
[20:59:03] <mib_lawimo> aw, really I cannot do something like self.push(self.fetch())? Both methods are mut. Gives error: cannot borrow `*self` as mutable more than once at a time
[20:59:04] <mib_lawimo> Too bad :(
[20:59:38] <niconii> dickturnip: how are you trying to do it exactly? can you give a code example?
[20:59:39] <steveklabnik> mib_lawimo: put the fetch on another line, with a binding
[20:59:41] <flaub> is it possible to make a type alias for a specialization of a trait?
[20:59:48] <steveklabnik> mib_lawimo: let x = self.fetch(); self.push(x);
[21:00:01] <jn> mib_lawimo: let tmp = self.foo(); self.bar(tmp); might help
[21:00:06] <xeviox> can I use a "c_void" as long as I'm not interested in the struct itself?
[21:00:30] <steveklabnik> xeviox: not 100% sure what you're asking, c_void is (void *), not a struct-specific thing
[21:00:37] <terpstra_> why no “impl From<i8> for isize” ? or is there some sort of trait i can overload/grab for the “as” conversion between integer types?
[21:00:39] *** Quits: fabianvf (fabianvf@moz-fjqmui.va.comcast.net) (Ping timeout: 121 seconds)
[21:00:44] <mib_lawimo> steveklabnik: Yeah I fixed using this way tho I'd preefer using it directly without additional verbosity ;d
[21:00:49] <dickturnip> yeah no probs http://pastebin.com/vJCUkiJL
[21:00:53] <archshift> mmmmmh
[21:01:11] <Zoxc> panicbit: init() overflows when the slice is empty :(
[21:01:12] <steveklabnik> mib_lawimo: yeah, we may end up doing something to make that easier in the future, we'll see
[21:01:23] <niconii> dickturnip: right, so you're giving Monster::attack an immutable reference
[21:01:24] <dickturnip> im just messing around with code to try and learn how to piece together a working program atm
[21:01:31] <niconii> dickturnip: you need to give it a &mut Player, not a &Player
[21:01:36] <steveklabnik> terpstra_: you have to have iether the type or the trait. you can do this with a newtype
[21:01:42] <steveklabnik> terpstra_: and no, as is not overridable
[21:01:43] <dickturnip> ah!
[21:01:44] <xeviox> steveklabnik: when I want to call two c functions through ffi where the first returns a pointer to some struct and the other receives the pointer... Seems like I can use c_void to avoid building the struct in Rust..
[21:01:46] <panicbit> Zoxc: Haskell agrees
[21:01:52] <dickturnip> right I see thank you niconii 
[21:01:59] <panicbit> Prelude> init []
[21:01:59] <panicbit> *** Exception: Prelude.init: empty list
[21:01:59] <dickturnip> much obliged
[21:02:00] <steveklabnik> xeviox: yeah, i mean, a void * can point at anything, including a struct
[21:02:04] <niconii> dickturnip: no problem
[21:02:16] <Zoxc> panicbit: Agrees with what? Overflow doesn't panic
[21:02:24] <xeviox> steveklabnik: ok, will give it a try :D thanks!
[21:02:26] *** Quits: juanfra (juanfra@moz-hs9.q8p.76.84.IP) (Client exited)
[21:02:47] *** Joins: juanfra (juanfra@moz-hs9.q8p.76.84.IP)
[21:03:07] <frankmcsherry> two thoughts: 1. Rust's ownership should make memory profiling really sensible. 2. I don't think there is such a thing yet, is there?
[21:03:13] *** Quits: HollyRain (HollyRain@moz-lnracf.user.ono.com) (Quit: bye, bye)
[21:03:18] <panicbit> Zoxc: True, there should at least be a panic
[21:03:42] <Ms2ger> Servo has some memory profiling code
[21:04:00] <Zoxc> panicbit: Nvm, it does panic in another location in release
[21:04:37] *** Quits: anders (andars@moz-bsldst.sntcca.sbcglobal.net) (Ping timeout: 121 seconds)
[21:04:46] <terpstra_> steveklabnik:  http://is.gd/nDjx0y makes me sad :(
[21:04:53] *** Quits: lawki (lawki@moz-eln5df.abo.wanadoo.fr) (Ping timeout: 121 seconds)
[21:04:58] <steveklabnik> coherence!
[21:05:02] <steveklabnik> it's important
[21:05:03] <terpstra_> i want to accept a vector of any type that i can somehow convert into isize
[21:05:05] <terpstra_> i know it is
[21:05:17] <terpstra_> but that’s why std:: should already have these Froms
[21:05:36] <steveklabnik> yeah, i can see that
[21:05:46] <terpstra_> and to make coherence work both ways, there should be From and To… and they should have blanket impls vs. each other
[21:05:54] *** Joins: Racquetball (namestolenw@moz-nof0ce.res.rr.com)
[21:05:54] <frankmcsherry> terpstra_: to_primitive!
[21:05:58] <terpstra_> that way you can make your type both from+to i64 or something
[21:06:03] <terpstra_> frankmcsherry: that interface sucks
[21:06:08] <LysanderAkili> does <vec<vec<cell>> increases the efficiency of allocation?  does it prevent from exceeding outside of allocation?   
[21:06:08] <bluss> terpstra_: do you accept integers that may not fit?
[21:06:16] <terpstra_> frankmcsherry: i may only be able to convert to ONE of the types, and i don’t need/want a some.
[21:06:27] <terpstra_> bluss: no
[21:06:31] <steveklabnik> terpstra_: well, there already is a To -> from blanket impl
[21:06:42] <frankmcsherry> bluss! I have an exciting proposal for itertools!
[21:06:49] <terpstra_> there is a To? i didn’t find it
[21:06:50] <panicbit> Zoxc: You could define a wrapper which returns an Option<&[T]>.
[21:06:52] <bluss> that sounds exciting!
[21:07:03] <frankmcsherry> at least, thing I need to do, but can't at the moment, so may have to write an iterator and ...
[21:07:09] <bluss> frankmcsherry: I'm happy to hear it here or on the issue tracker
[21:07:09] <steveklabnik> terpstra_: errr maybe Into
[21:07:21] <panicbit> Zoxc: I think that's how init should be anyway. I hope that will change as well.
[21:07:28] <terpstra_> steveklabnik: aha! 
[21:07:40] <terpstra_> still, there should be impls for primitive types wrt.  From
[21:07:43] <steveklabnik> impl<T, U> Into<U> for T where U: From<T> {
[21:07:44] *** Joins: Hannibal_Smith (Nicola@moz-ikflj7.retail.telecomitalia.it)
[21:07:46] <terpstra_> all the ones that can’t possibly overflow
[21:07:59] *** Quits: Azdle (Azdle@moz-fv6arh.mn.comcast.net) (Ping timeout: 121 seconds)
[21:08:12] <terpstra_> and then users can also make types that can turn into isize => suitable for indexing a vector
[21:08:19] <frankmcsherry> bluss: actually, thinking more it may be a SliceExt sort of thing; in the spirit of Split/Chunk/Window. Does itertools do that type of iterator stuff too?
[21:08:29] *** Quits: KLP (KLP@moz-qdcjho.res.rr.com) (Quit: http://www.kiwiirc.com/ - A hand crafted IRC client)
[21:08:40] <jshs> terpstra_: so, what types can be converted to isize without overflowing?
[21:09:20] *** Joins: rfw (sid22696@moz-964b38.charlton.irccloud.com)
[21:09:22] *** Quits: nott (nott@moz-to4.06o.57.86.IP) (Ping timeout: 121 seconds)
[21:09:30] <terpstra_> jshs: i8 i16 and i32, i would guess
[21:09:33] <bluss> frankmcsherry: not sure. I'm working on one related thing that was cool, which was taking a stream of slices and merging them if they were exactly adjacent
[21:09:45] <frankmcsherry> bluss: trying to drain a sorted list into a sequence of iterators, sort of like GroupBy, I guess, but without the Vec
[21:09:51] <rfw> hi all, i just have a (hopefully) quick question -- how do i force a variable to be tied to the lifetime of another?
[21:10:03] <steveklabnik> rfw: hey hey.
[21:10:16] <steveklabnik> rfw: in what? a function signature? struct definition?
[21:10:37] *** Quits: nwin (textual@moz-03iocj.pools.vodafone-ip.de) (Quit: My Mac Mini has gone to sleep. ZZZzzz…)
[21:10:52] <rfw> steveklabnik: i'm doing some stuff with std::dynamic_lib and i want an object that's static to the library i loaded to have the lifetime of the library
[21:11:02] *** Quits: Racquetball (namestolenw@moz-nof0ce.res.rr.com) (Ping timeout: 121 seconds)
[21:11:03] *** Joins: kazagistar (kazagistar@moz-1jum1i.client.bresnan.net)
[21:11:08] <jshs> terpstra_: a minor issue is that it's platform dependent
[21:11:32] <terpstra_> jshs: only the i64<->isize choice
[21:11:44] <terpstra_> rust already tacticly assumes machine work >= 32
[21:11:50] <talchas> does it?
[21:12:04] *** Quits: polyfractal (polyfractal@moz-v88dif.artists.westelcom.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[21:12:07] <talchas> (I mean, I could believe it, and the defauling to i32 certainly would be annoying on 16-bit)
[21:12:09] <terpstra_> 8 is an i32 with no other constraints
[21:12:31] <rfw> so something like let lib = DynamicLibrary::open(...).unwrap(); let obj : &'libs_lifetime_here Obj = unsafe { transmute::<some function that returns a &'static Obj to lib>(lib.symbol::<u8>("constructor").unwrap())() }
[21:12:37] <rfw> sorry that's a bit verbose
[21:12:42] *** Quits: dalarmmst (dalarmmst@moz-mb21j4.bredband.comhem.se) (Ping timeout: 121 seconds)
[21:12:43] *** Joins: iamtyler (Adium@moz-1dtmni.wa.comcast.net)
[21:12:50] *** Joins: polyfractal (polyfractal@moz-v88dif.artists.westelcom.com)
[21:12:56] *** Joins: winding-lines (textual@moz-9utvl5.frokca.sbcglobal.net)
[21:12:57] <terpstra_> what is the point of the ‘as’ operator in rust, actually?
[21:13:41] *** Joins: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net)
[21:13:45] <archshift> terpstra_: casting..
[21:13:47] <terpstra_> if it were transformed into From/Into, i’d understand it as syntactical sugar, but instead it’s like some C casting relic
[21:13:50] <steveklabnik> rfw: no, that's helpful
[21:13:55] *** Quits: colinsurprenant (colin@moz-q9ee1n.74.electronicbox.net) (Client exited)
[21:14:05] *** Joins: pyon (pyon@moz-v9d.mdl.7.179.IP)
[21:14:24] <bluss> frankmcsherry: that might be possible, so would it group exactly like group_by?
[21:14:36] <steveklabnik> rfw: that said, i'm a bit lost to try to explain here. i'm pretty sure that lifetimes don't do what you're trying to get them to do
[21:14:51] *** Joins: colinsurprenant (colin@moz-q9ee1n.74.electronicbox.net)
[21:15:00] <terpstra_> steveklabnik: btw, your ability to multitask is pretty amazing
[21:15:05] <steveklabnik> terpstra_: well, From/Into are just library features. as is a keyword, it's been in the language a very long time. From/Into are like 10 weeks old
[21:15:17] *** Quits: savorywatt (savorywatt@moz-0e9dd3.desm.qwest.net) (Ping timeout: 121 seconds)
[21:15:22] <frankmcsherry> bluss: i'm reading your source now; I think, based on what GroupBy does, it would be identical just with Item = SubIterator<...> rather than Item=Vec<...>
[21:15:23] <terpstra_> steveklabnik: everything in ‘ops’ is just a ‘library feature’ ;P
[21:15:26] <steveklabnik> terpstra_: <3, heh, you don't see the tweeting and reddit/HNing. but, it also means i'm dumb sometimes and say the wrong thing
[21:15:34] <terpstra_> so by that reasoning < and > should also not need sugar
[21:15:35] <steveklabnik> and yeah, it's true
[21:15:40] *** Joins: gsingh93 (gulshan@moz-qnbukr.mi.comcast.net)
[21:15:50] <steveklabnik> but somewhere, you'd need to actually do the cast
[21:15:51] <frankmcsherry> but your curly braces are making my brain hurt (and the beer)
[21:15:54] <rfw> steveklabnik: i think you might be right
[21:15:58] *** Joins: druzac (druzac@moz-pq2483.vc.shawcable.net)
[21:16:03] <terpstra_> steveklabnik: sure. that’s why a compiler instrinsic is for
[21:16:10] <steveklabnik> right
[21:16:14] *** Quits: jdm (jdm@moz-mu9.06r.98.75.IP) (Quit: )
[21:16:17] <steveklabnik> that's 'as', in a sense :p
[21:16:29] <terpstra_> as is lame :P
[21:16:39] <rfw> i've been doing let obj : &'static Obj, which i'm pretty sure is horribly unsafe
[21:16:39] <frankmcsherry> bluss: ima go try an write one!
[21:16:39] <terpstra_> it should be like all the other ops and turn into a trait 
[21:16:51] <bluss> frankmcsherry: this is a bit at odds with rust Iterators unfortunately. Because you might extract two subiterators at the same time, before you iterated any of them. So you need to buffer the data in between. (This implies using vec is just as "cheap")
[21:16:57] <rfw> and i guess what my actual question is is there a less disgusting way to go about it
[21:17:12] <steveklabnik> rfw: yeah, 'static means 'for the life of the program'
[21:17:23] <Shtong> pardon me if that sound dumb, but how would you convert say a u16 to a u32 without as, using Into / From ?
[21:17:32] <frankmcsherry> bluss: oh, right. this is the difference between iterators and cursors, or something, isn't it...
[21:17:45] <rfw> steveklabnik: yeah – is there a way to indicate that the function is for the life of lib being in scope?
[21:17:46] <jshs> terpstra_: have you had a look at, say, the Add impls for primitives? they just use the corresponding operator
[21:17:48] <bluss> frankmcsherry: I guess
[21:17:51] <terpstra_> Shtong: you’d still have as, but it would turn (x as i32) into i32::from(x) or something like this
[21:17:58] <steveklabnik> Shtong: it's not! terpstra_ basically argues that as should just be sugar for some kind of invocation of From, and that the implementation of From would use a compiler intrinsict that actually does the casting
[21:18:12] <terpstra_> yes
[21:18:14] <steveklabnik> rfw: not without passing lib into it as an argument.
[21:18:37] <steveklabnik> i think
[21:18:53] <frankmcsherry> bluss: there was talk of a different interface where you consume something (the iterand? cursor, I suppose) with each call to next, ensuring that you only keep one around at the time. 
[21:18:54] <Shtong> ok so you could override the operator
[21:18:54] <terpstra_> jshs: hah. i had not noticed this.
[21:19:10] *** Quits: untitaker (untitaker@moz-euf75a.highway.telekom.at) (Ping timeout: 121 seconds)
[21:19:11] <bluss> frankmcsherry: yes the keyword would be streaming iterators I think
[21:19:17] <terpstra_> Shtong: and also you could then write a funciton like: fn myfoo<T:From<i32>>(x: T) ...
[21:19:18] <terpstra_> or whatever
[21:19:55] *** Joins: michael1 (michael@moz-9vjtig.mo.charter.com)
[21:20:12] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[21:20:16] <rfw> steveklabnik: aha, that makes sense
[21:20:27] <terpstra_> frankmcsherry: do you not mean .into_iter() ?
[21:20:40] <rfw> steveklabnik: so i want something like fn get_object<'a>(lib : &'a DynamicLibrary) -> &'a Obj, then do some unsafe stuff inside it?
[21:20:50] *** Joins: untitaker (untitaker@moz-aq8ivn.highway.telekom.at)
[21:21:23] *** Joins: nerdopoly (nerdopoly@moz-ouaagf.range86-143.btcentralplus.com)
[21:21:41] <frankmcsherry> terpstra_: I think this is a bit different. the problem is an iterator that returns references to internal state, which gets complicated if you call next multiple times without releasing the result in between.
[21:21:48] <steveklabnik> rfw: yeah
[21:21:55] *** Quits: Douman (Douman@moz-4t7j70.dynamic.mts-nn.ru) (Quit: )
[21:22:03] *** Quits: druzac (druzac@moz-pq2483.vc.shawcable.net) (Ping timeout: 121 seconds)
[21:22:05] <rfw> it works! thanks :)
[21:22:10] <frankmcsherry> terpstra_, bluss: I guess this is why Slice/Chunk/Window is defined on slices just fine, rather than iterators
[21:22:14] <terpstra_> frankmcsherry: i admit i wasn’t following the previous talk. i cannot multitask like steveklabnik 
[21:22:17] <simias> is there a way to return from the *calling* function in a closure?
[21:22:40] <steveklabnik> rfw: woot!
[21:22:45] <steveklabnik> simias: not directly
[21:23:12] *** Quits: yuriks (quassel@moz-hnlou0.yuriks.net) (Ping timeout: 121 seconds)
[21:23:18] *** Quits: Shackra (Jorge@moz-7bh.ng6.177.186.IP) (Ping timeout: 121 seconds)
[21:23:32] <bluss> frankmcsherry: yes
[21:23:53] <simias> steveklabnik: okay
[21:23:59] *** Quits: michael1 (michael@moz-9vjtig.mo.charter.com) (Ping timeout: 121 seconds)
[21:24:13] <terpstra_> frankmcsherry: could you not just buffer the results of a few next() calls into the Iterator’s struct and then hand them all off at once?
[21:24:15] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[21:24:18] <bluss> frankmcsherry: you could do something in the middle by sharing the underlying iterator using Rc, but it would instead "invalidate" (consume) the older subiterators if a newer was started. That's what I think would work
[21:24:18] <frankmcsherry> bluss: I need a Split/Drain combination, which I think means I'll have to copy/paste/roll my own.
[21:24:20] <heftig> simias: as in return from the frame that was captured?
[21:24:44] <frankmcsherry> terpstra_: I think so; this is basically what the for loop I use at the moment does, but I was trying to figure out a more elegant way of doing it.
[21:25:30] <frankmcsherry> bluss: hrm. that is interesting!
[21:25:58] <terpstra_> ML iterators are actually much superior to Rust’s in this regard
[21:26:18] *** Joins: yuriks (quassel@moz-hnlou0.yuriks.net)
[21:26:25] <terpstra_> ML iterators are not mutated when you call .next(). Instead, they return a value and a new iterator when you call next()
[21:26:26] *** Joins: druzac (druzac@moz-hn17us.vc.shawcable.net)
[21:26:36] <frankmcsherry> terpstra_: actually, sorry, that is basically what bluss's group by does at the moment, but the buffered stuff is handed out as a vec, rather than a Drain (which is the problem; you don't know when it will be disposed)
[21:26:40] *** Joins: zyphrus (David@moz-nhi.pas.98.101.IP)
[21:26:43] <terpstra_> so you can always walk the container, and re-read where you’ve already been
[21:26:56] <Shtong> question : I have a macro that calls io::stdout().flush() ; is there a way to use the macro without having to "use std::io::Write" everywhere ?
[21:27:07] *** Quits: ecogiko (ecogiko@moz-p59qrv.chello.nl) (Quit: leaving)
[21:27:18] <heftig> Shtong: put the use into the macro?
[21:27:22] <steveklabnik> Shtong: you'd write the macro with UFCS
[21:27:57] <steveklabnik> and yeah, heftig 's would work too i'd imagine
[21:28:04] <terpstra_> i guess you could never do ML-style iterators which return &mut, though.
[21:28:08] <steveklabnik> seems more straightforward :)
[21:28:11] <steveklabnik> )
[21:28:30] *** Quits: dawehner (quassel@moz-h829oe.hsi6.kabel-badenwuerttemberg.de) (Quit: No Ping reply in 210 seconds.)
[21:28:43] <bluss> Shtong: you can also use UFCS syntax  std::io::Write::flush(&mut xyz)  without having to `use`
[21:29:35] <Shtong> UFCS heh ? I guess i still have a lot to learn -_-
[21:29:44] <Shtong> but thanks
[21:30:07] *** Joins: dawehner (quassel@moz-h829oe.hsi6.kabel-badenwuerttemberg.de)
[21:30:28] <steveklabnik> Shtong: it's pretty easy :) http://doc.rust-lang.org/book/ufcs.html
[21:30:44] <terpstra_> i don’t really understand the :: scoping in Rust. :-( like, why do i need “use self::num::traits::Zero;” … what is the ‘self’ here? and sometimes if I try to use std::cmp::Ordering it will not work depending on which module I do it in.
[21:30:58] <steveklabnik> terpstra_: use is always relative
[21:31:12] <steveklabnik> err
[21:31:22] <steveklabnik> i always get this backwards
[21:31:33] *** Joins: rkruppe (chatzilla@moz-i91olr.diu2.0rth.0908.2a02.IP)
[21:31:40] *** Parts: frankmcsherry (frankmcsher@moz-adqedv.adsl.alicedsl.de) ("Leaving...")
[21:32:02] *** bentley is now known as bentley|away
[21:32:23] <steveklabnik> use is always absolute
[21:32:32] *** Quits: twipeD (wipeD@moz-u25o7o.dip0.t-ipconnect.de) (Connection closed)
[21:32:33] <steveklabnik> but, use self:: is relative
[21:32:46] <steveklabnik> use super:: is go up a directory
[21:32:53] <terpstra_> ohhhhhh
[21:33:05] *** Joins: jviereck (Adium@moz-0no8e7.dynamic.hispeed.ch)
[21:33:10] <terpstra_> so if i’m in a module, std:: is not there, but super::std:: is?
[21:33:12] <terpstra_> that makes sense
[21:33:13] <steveklabnik> yes
[21:33:15] <steveklabnik> or, ::std
[21:33:24] <terpstra_> that explains it
[21:33:37] *** Joins: p1start (p1start@moz-nftjhe.org)
[21:33:39] <Shtong> thanks for the link, this page was not in the alpha book and I didn't see it yet :)
[21:33:53] <steveklabnik> Shtong: :) yeah, since beta, i've been making changes on nightly
[21:33:59] <terpstra_> if i say ‘extern crate num’ in two places in my crate, does that mean it put it into ::my_mod::num as well ass::num ?
[21:34:00] <steveklabnik> Shtong: so, the nightly book is the most updated
[21:34:13] <steveklabnik> terpstra_: i'm not sure why that's not an error, frankly. it should only be in your crate root
[21:34:22] <mib_lawimo> Fighting with the borrow checker! yay! https://gist.github.com/thelink2012/11638d10778d17d3e416 Any ideias to get around?
[21:34:29] *** Joins: asQuirreL (asQuirreL@moz-ro1qqu.ox.ac.uk)
[21:34:40] <Shtong> I saw the summary was completely changed but sonce most entries are still placeholders I thougth I'd wait
[21:34:42] <terpstra_> steveklabnik: lol. i just put the extern crate into random .rs files b/c i can never sort out how to get at num
[21:34:46] <Shtong> since*
[21:35:24] *** Joins: nstoddard (nstoddard@moz-urhoua.resnet.purdue.edu)
[21:35:25] *** Joins: krdln (krdln@moz-ohe9vg.dynamic.chello.pl)
[21:35:31] *** Quits: dam (user@moz-it9sv4.fbx.proxad.net) (Connection closed)
[21:35:35] <steveklabnik> Shtong: yeah, almost all of the placeholders are filled in now
[21:35:41] <steveklabnik> terpstra_: heh :(
[21:35:46] <jshs> terpstra_: put `extern crate num` in the crate root (lib.rs or main.rs), then `use num::whatever` everywhere you like
[21:35:52] <Shtong> cool i'll have a read then
[21:36:01] <talchas> I think extern crate isn't restricted to root so that it can be used in macros
[21:36:04] <terpstra_> steveklabnik: oh, and the other source of confusion is that main.rs and lib.rs are actually different crates, even though they are in the same directory
[21:36:11] <terpstra_> but i get it now
[21:36:30] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[21:36:35] <steveklabnik> talchas: that might make sense.
[21:36:41] <steveklabnik> yeah
[21:36:59] *** Quits: manlycode (manlycode@moz-q1mb3q.mi.comcast.net) (Ping timeout: 121 seconds)
[21:37:02] *** Quits: cjwelborn (cjwelborn@moz-np6hed.al.charter.com) (Quit: sys.exit(1))
[21:37:33] <terpstra_> ok, so ‘use’ is absolute, but in the rest of the module, it’s relative
[21:38:03] *** Quits: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[21:38:30] <terpstra_> and self:: in the use makes it relative
[21:38:31] *** Quits: polyfractal (polyfractal@moz-v88dif.artists.westelcom.com) (Connection closed)
[21:38:44] *** Quits: kgrandon (Adium@moz-ai5ndv.hjek.d045.0009.2601.IP) (Quit: Leaving.)
[21:38:44] *** Joins: diegogub (Mibbit@moz-rqnj7s.telecom.net.ar)
[21:38:47] *** Joins: polyfractal (polyfractal@moz-v88dif.artists.westelcom.com)
[21:38:53] <xeviox> is it possible to call a c function that accepts a variable length of arguments?
[21:39:09] *** Quits: giucam (giucam@moz-iv0nnc.bb.dnainternet.fi) (Ping timeout: 121 seconds)
[21:39:22] *** Joins: KLP (KLP@moz-qdcjho.res.rr.com)
[21:39:26] <bluss> xeviox: yes, just declare it extern "C" with ... in the end of the signature
[21:39:31] *** Joins: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net)
[21:39:48] <diegogub> with crate  should I use to encode/decode struct to binary to write to file for ex?
[21:39:48] <bluss> xeviox: I'm sure the libc crate has examples in its implementation
[21:39:50] <xeviox> bluss: is "..." also valid in rust?
[21:39:55] *** Quits: jviereck (Adium@moz-0no8e7.dynamic.hispeed.ch) (Quit: Leaving.)
[21:40:01] <bluss> xeviox: for rust functions no
[21:40:44] <xeviox> bluss: so I have to define fixed length of arguments for the safe interface?!?
[21:40:59] *** Quits: scientes (scientes@moz-l6hdmu.wa.comcast.net) (Ping timeout: 121 seconds)
[21:41:51] *** Joins: manlycode (manlycode@moz-q1mb3q.mi.comcast.net)
[21:42:11] <c74d> xeviox: one of those arguments can be a list of arguments to pass as varargs to the C function.
[21:42:23] <bluss> what if the safe interface is a macro? then you don't.
[21:42:37] <c74d> or that
[21:43:11] <xeviox> c74d: so its possible to convert the list to be accepted by the varargs argument?
[21:43:30] <xeviox> bluss: nice idea, but I would prefer the list if possible..
[21:43:32] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[21:43:56] <c74d> I'm sure it is, but I don't know about how (or if it's possible to do safely and portably).
[21:44:25] <c74d> I'd forgotten about the macro solution, that's how Rust's printf-equivalent works.
[21:45:01] <archshift> hmmm
[21:45:18] <archshift> is there a reasonable way to use take with a bufstream but retain the ability to write to it?
[21:45:30] *** Quits: elbow_jason (elbow@moz-hgb.qaf.30.50.IP) (Quit: Leaving)
[21:45:31] *** Quits: nstoddard (nstoddard@moz-urhoua.resnet.purdue.edu) (Quit: ChatZilla 0.9.91.1 [Firefox 37.0.2/20150415140819])
[21:46:08] *** Quits: winding-lines (textual@moz-9utvl5.frokca.sbcglobal.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[21:46:54] <bluss> archshift: yes, after the .take() has expired if you do it by reference, then you can write to it again
[21:47:23] *** Quits: khades (Thunderbird@moz-u45.3vk.74.212.IP) (Client exited)
[21:48:09] *** Joins: winding-lines (textual@moz-9utvl5.frokca.sbcglobal.net)
[21:48:18] <archshift> what I'm trying to do is something like this: http://git.io/vJ0Qw
[21:48:37] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Ping timeout: 121 seconds)
[21:48:39] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[21:48:57] *** Quits: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[21:49:13] *** Joins: Wild_Cat (Max@moz-na0tak.dsl.teksavvy.com)
[21:49:20] <archshift> aka read part of a file, change it up, write back to that same portion, and continue
[21:49:27] <archshift> for the entire file
[21:49:44] <archshift> actually for part of a file
[21:50:14] *** Joins: munksgaard (munksgaard@moz-vj4.hq0.225.130.IP)
[21:50:19] *** Quits: silven (quassel@moz-0roor3.priv.bahnhof.se) (Ping timeout: 121 seconds)
[21:50:42] <mkpankov> when I do let x = &AtomicUsize::new(1);, what owns the AtomicUsize?
[21:50:59] *** Quits: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr) (Connection closed)
[21:50:59] *** Joins: silven (quassel@moz-0roor3.priv.bahnhof.se)
[21:51:08] <mkpankov> it looks strange to immediately take reference
[21:51:20] *** Joins: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr)
[21:51:33] <archshift> if I were to use a take that way, it doesn't look like I'd be able to both have control of the bufstream size, and be able to write to it in the same iteration
[21:51:51] <steveklabnik> mkpankov: it's stack allocated
[21:52:09] <steveklabnik> mkpankov: let x = &foo; <-> let _x = foo; let x = &_x;
[21:52:12] *** Joins: tmerr (tmerr@moz-pnav4e.net.t-com.hr)
[21:52:30] <mkpankov> steveklabnik: ok, thanks
[21:54:21] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[21:54:27] *** Quits: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr) (Connection closed)
[21:54:28] *** Joins: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr)
[21:54:34] *** Joins: qrlpx (quassel@moz-n7t.3nb.211.95.IP)
[21:55:05] *** Joins: Franciman (francesco@moz-cd3nu9.retail.telecomitalia.it)
[21:55:11] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[21:56:13] *** Quits: Franciman (francesco@moz-cd3nu9.retail.telecomitalia.it) (Quit: Sto andando via)
[21:56:13] *** Quits: hhhhhhhhhh (mike@moz-969kuj.cable.virginm.net) (Quit: WeeChat 1.1.1)
[21:56:17] *** Quits: tmerr (tmerr@moz-pnav4e.net.t-com.hr) (Ping timeout: 121 seconds)
[21:56:22] *** Quits: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr) (Quit: )
[21:56:44] *** Joins: tmerr (tmerr@moz-pnav4e.net.t-com.hr)
[21:57:00] <tmerr> preferred pastebin for rust?
[21:57:05] <comex> steveklabnik: yes, but the reference says "well-defined as wrapping". :p  anyway, just my opinion that it's confusing
[21:57:32] <terpstra_> tmerr: http://play.rust-lang.org/
[21:57:47] *** Quits: zettablade (zettablade@moz-i7p.mg6.56.172.IP) (Ping timeout: 121 seconds)
[21:58:11] *** Quits: xeviox (ben@moz-jev0er.pools.vodafone-ip.de) (Quit: Leaving)
[21:58:21] <tmerr> ah of course. i feel stupid now.
[21:58:36] *** Joins: Franciman (francesco@moz-cd3nu9.retail.telecomitalia.it)
[21:58:41] *** Quits: gsingh93 (gulshan@moz-qnbukr.mi.comcast.net) (Ping timeout: 121 seconds)
[21:58:49] <mib_lawimo> https://gist.github.com/thelink2012/11638d10778d17d3e416 any ideais to get around this? been thinking for a while now :/
[21:59:14] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[21:59:21] <Franciman> Hello
[21:59:32] <terpstra_> welcome
[21:59:36] <Franciman> thanks
[21:59:43] <Franciman> Are there any plans to add dependent types to rust?
[22:00:05] <terpstra_> i believe rust has dependent types in traits. or do you mean something else?
[22:00:16] <comex> mib_lawimo: can't you call self.pop() first and store in a temporary?
[22:00:27] <Franciman> uhm, I mean types whose parameters can be values
[22:00:28] <steveklabnik> Franciman: in theory, maybe, someday. but not any time soon
[22:00:32] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[22:00:34] <steveklabnik> Franciman: we don't even have HKT yet
[22:00:44] *** Quits: arty (Mibbit@moz-ineiim.il.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[22:00:50] <Franciman> HKT = Higher Kinded Types?
[22:00:51] <steveklabnik> Franciman: it's also possible that we'll get type-level integers, which isn't full-blown dependent types
[22:00:54] <steveklabnik> yes
[22:01:00] <mib_lawimo> comex: I can't because .dest may change the stack too (for instance pop too)
[22:01:02] <Franciman> that'd be some first step
[22:01:05] <steveklabnik> yeah
[22:01:12] <steveklabnik> that is something that's relatively high priority
[22:01:25] <steveklabnik> but not full blown dependent types ,that's far-future if ever
[22:01:28] <mdup> steveklabnik: type-level integers would be awesome!
[22:01:55] *** Joins: woboats (tatterdemal@moz-a0dnkb.ca.comcast.net)
[22:02:05] <mdup> that would enforce size constraints at compile-time, is that right?
[22:02:12] <steveklabnik> some of them
[22:02:18] <steveklabnik> it would also let arrays be one type
[22:02:22] <steveklabnik> rather than one type per length
[22:02:36] *** Joins: TheDan64 (Mibbit@moz-d3g.e79.63.129.IP)
[22:02:48] <mdup> nice
[22:02:51] <Franciman> steveklabnik, I think that with DTs, array 1
[22:02:54] <Franciman> and arra 2
[22:02:56] <Franciman> array 2
[22:03:14] <Franciman> are two different types, as vector<Int> is different from vector<String>
[22:03:35] <Franciman> (just fantasy syntax, I've just started learnin rust :P)
[22:03:46] <mdup> would you be able, say, for a function taking two vectors, to force at compile-time those two vectors to have the same length?
[22:03:53] <Franciman> yes
[22:03:57] *** Quits: Verdagon (Verdagon@moz-lslbjn.hfc.comcastbusiness.net) (Client exited)
[22:04:01] *** Quits: DerisiveLogic (smuxi@moz-1jqqlg.biz.rr.com) (Ping timeout: 121 seconds)
[22:04:04] <TheDan64> I keep getting thread '<main>' panicked at 'called `Result::unwrap()` on an `Err` value: GenericFailure' while rustc links with --verbose. Is there any way to get more info out of this?
[22:04:12] <steveklabnik> Franciman: well, arrays would still be polymorphic over what they contain, it's that they could also be polymorphic over length
[22:04:25] <steveklabnik> TheDan64: RUST_STACKTRACE=1 will give you a trace
[22:04:34] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[22:04:45] <bluss> does anyone have a shell escape function ready in rust? "$' => \"\$\'  etc
[22:04:51] <TheDan64> steveklabnik: thanks, ill try that
[22:04:57] <jshs> mib_lawimo: refactor both methods such that they don't borrow self completely, but orthogonal parts of it
[22:05:27] <Franciman> steveklabnik, uhm yeah mean compile-time polymorphism right?
[22:05:37] *** Joins: DerisiveLogic (smuxi@moz-1jqqlg.biz.rr.com)
[22:05:42] <Franciman> you mean*
[22:06:10] <steveklabnik> Franciman: i mean, right now, arrays are like [T; 1] and [T; 2], etc, those are two different types. type-level integers would let you write a function that takes a [T; N], for any N
[22:06:24] <steveklabnik> that would be at compile time
[22:06:29] <Franciman> oh ok
[22:06:30] <Franciman> then
[22:06:32] <terpstra_> this would be very nice
[22:06:39] <Franciman> yeah, I wasn't sure what you meant
[22:06:53] <Shtong> tried to use UFCS but I'm probably doing something wrong :/ http://pastebin.com/tyUqdAi1
[22:07:06] <Franciman> anyways, I see rust has deep roots in programming languages theory
[22:07:13] <Franciman> that's something really cool, from my point of view
[22:07:42] *** Joins: eric_lagergren (barsonme@moz-lr1hrn.wa.comcast.net)
[22:07:45] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Client exited)
[22:07:47] <steveklabnik> Shtong: try ::std
[22:07:50] <steveklabnik> instead of std
[22:08:07] <mdup> that would be really great, given how rust's priority is on safety, yet it feels like anything done with index-based arrays is just praying for not panicking at runtime
[22:08:12] *** Quits: yota (Sebastien@moz-3iekue.3iqc.r856.0e35.2a01.IP) (Connection closed)
[22:08:12] <Franciman> steveklabnik, actually I was pretty much tempted to try implement them by myself, after havin learnt the language
[22:08:13] <steveklabnik> Franciman: yeah, several core team members have phds. i just have a bs
[22:08:34] <Franciman> you're working on rust too?
[22:08:44] <steveklabnik> yes
[22:08:47] <steveklabnik> i do docs
[22:08:49] <Franciman> cool stuf
[22:08:50] <steveklabnik> mostly
[22:08:50] <Franciman> stuff
[22:08:59] *** Quits: winding-lines (textual@moz-9utvl5.frokca.sbcglobal.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[22:09:14] <mib_lawimo> jshs: orthogonal borrowing? how so?
[22:10:50] <Shtong> thanks steveklabnik, that was it. is that ::prefix specific to ufcs ?
[22:11:02] <jshs> mib_lawimo: make them either free functions taking references to fields of self, or split self into structs with corresponding methods
[22:11:05] <jshs> or some mix of that
[22:11:33] <comex> mib_lawimo: if it's pointing into a vector, you can also return an index instead of a borrow
[22:11:47] <mbrubeck> Shtong: It's needed in any absolute path outside of a `use` item or the root module.
[22:12:06] <Shtong> k thanks all
[22:12:07] *** Joins: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com)
[22:12:31] *** Quits: nerdopoly (nerdopoly@moz-ouaagf.range86-143.btcentralplus.com) (Quit: leaving)
[22:12:46] *** Quits: dawehner (quassel@moz-h829oe.hsi6.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[22:13:09] <jshs> mib_lawimo: in `self.dest(...)`, where does the reference it returns live? is it part of the stack `self.pop()` pops from?
[22:13:23] <Ms2ger> hoverbear, ".iter() can be used on many different types that implement the Iterator trait." sounds kinda backwards
[22:13:28] *** Joins: khades (Thunderbird@moz-u45.3vk.74.212.IP)
[22:14:34] <mib_lawimo> jshs: Yep it *may* be a reference to a stack location
[22:14:40] *** Joins: Verdagon (Verdagon@moz-ff302e.ca.comcast.net)
[22:15:11] *** Joins: moa (Cedric@moz-h3f7lu.abo.wanadoo.fr)
[22:16:17] <Ms2ger> hoverbear, also, the indexing example doesn't seem to do what you suggest it does
[22:16:30] *** Quits: kmicu (kmicu@moz-uga.edn.218.91.IP) (Client exited)
[22:16:54] <comex> mib_lawimo: alternately, Cell
[22:17:05] *** Joins: ixti (ixti@moz-i3d.dae.119.188.IP)
[22:18:12] *** Quits: timj (timj@moz-qrm.hdf.102.91.IP) (Ping timeout: 121 seconds)
[22:18:14] *** Quits: blank_na1e (blank_name@moz-204.u7h.36.50.IP) (Ping timeout: 121 seconds)
[22:18:28] <Ms2ger> hoverbear, and your fold() example could use a reference to sum()
[22:18:30] *** Quits: Ms2ger (Ms2ger@moz-f3v.iou.182.91.IP) (Quit: nn)
[22:18:49] *** Joins: yota (Sebastien@moz-l4llnk.3iqc.r856.0e35.2a01.IP)
[22:18:58] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[22:19:01] *** Joins: dalarmmst (dalarmmst@moz-mb21j4.bredband.comhem.se)
[22:19:15] *** Joins: blank_name (blank_name@moz-204.u7h.36.50.IP)
[22:19:32] *** Quits: iiixtiii (ixti@moz-i3d.dae.119.188.IP) (Ping timeout: 121 seconds)
[22:19:44] <jshs> mib_lawimo: can you add a little more context to the gist?
[22:19:45] *** Joins: lenstr (lenstr@moz-hri.vju.25.171.IP)
[22:19:50] <simias> how can I use extend to put a &[u8] inside a mut Vec<u8> ?
[22:20:14] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[22:20:26] *** Quits: blank_name (blank_name@moz-204.u7h.36.50.IP) (Quit: leaving)
[22:20:35] *** Quits: lenstr (lenstr@moz-hri.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[22:20:49] <bluss> simias: .extend(that_slice.iter().cloned())
[22:20:50] *** Joins: lenstr (lenstr@moz-hri.vju.25.171.IP)
[22:20:59] <bluss> but rust also allows vec + that_slice which is shorter
[22:21:00] <simias> ugh
[22:21:07] *** Joins: timj (timj@moz-qrm.hdf.102.91.IP)
[22:21:26] <bluss> simias: Gankro naturally has something in the pipeline to smoothen out .extend
[22:21:36] <bluss> hehe
[22:21:44] *** Quits: lenstr (lenstr@moz-hri.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[22:21:56] <simias> I'll use push_all for now...
[22:21:59] <mib_lawimo> jshs: Well I have no problem in showing the code :P https://gist.github.com/thelink2012/0677500815064f386ef6 It's my first try to do something bigger than a little algorithm, I guess this fight would be expectable eh?
[22:22:06] <simias> even if rust wants me to add an option to the crate
[22:22:08] <bluss> simias: oh, I didn't know it was still alive
[22:22:17] <simias> bluss: is it being removed?
[22:22:31] <simias> the compiler tells me that it might be replaced "by a more optimized extend"
[22:22:40] <bluss> simias: Right, so that's probably it
[22:22:54] <simias> but it my case it's much clearer
[22:22:56] <bluss> simias: when .extend(that_slice) works it will be all good
[22:23:09] <simias> yeah, that would be the best of both worlds
[22:23:17] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Ping timeout: 121 seconds)
[22:23:24] <bluss> I agree. We should comment on the RFC
[22:23:28] *** Quits: larhat (Adium@moz-tb1ulb.cable.virginm.net) (Quit: Leaving.)
[22:23:45] *** Quits: Guest63 (textual@moz-ttd.2as.255.109.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[22:23:47] <bluss> https://github.com/rust-lang/rfcs/pull/839
[22:24:16] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[22:25:08] <Franciman> thanks for the little talk people, good night
[22:25:38] *** Quits: manlycode (manlycode@moz-q1mb3q.mi.comcast.net) (Ping timeout: 121 seconds)
[22:26:04] *** Quits: Quanttek (quassel@moz-25k96c.6fkd.dvrb.8108.2a02.IP) (Ping timeout: 121 seconds)
[22:26:10] <jshs> mib_lawimo: after looking at the code, I second comex's suggestion to use indices instead of references
[22:26:13] *** Quits: Diggsey (diggsey@moz-260ua7.dsl.pipex.com) (Ping timeout: 121 seconds)
[22:26:51] *** Joins: Diggsey (diggsey@moz-46lma2.dsl.pipex.com)
[22:26:52] <mib_lawimo> jshs: Thanks :D
[22:26:57] <simias> bluss: thanks for the comment
[22:27:00] *** Joins: kieran (kieran@moz-c5gk5j.ihug.co.nz)
[22:27:17] *** Joins: florentia (florentia@moz-jf5b8o.rev.poneytelecom.eu)
[22:27:27] *** Quits: maedhroz (maedhroz@moz-4jk5ho.res.rr.com) (Connection closed)
[22:27:50] *** Quits: tmerr (tmerr@moz-pnav4e.net.t-com.hr) (Ping timeout: 121 seconds)
[22:28:05] <jshs> mib_lawimo: oh wait
[22:28:12] *** Quits: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net) (Ping timeout: 121 seconds)
[22:28:55] *** Joins: erickt (erickt@moz-g7qhvc.vlljca.sbcglobal.net)
[22:28:55] *** ChanServ sets mode: +o erickt
[22:28:55] *** Joins: Brochacho (alberto@moz-q4j.q5h.156.131.IP)
[22:29:10] <jshs> nvm, don't wait :p
[22:29:11] *** Quits: Shtong (realshtong@moz-pjjr75.abo.wanadoo.fr) (Quit: )
[22:29:38] *** Quits: fkaa (tundmatu@moz-501od2.business.telia.com) (Ping timeout: 121 seconds)
[22:30:52] *** Joins: arBmind1 (Andreas@moz-blcijh.adsl.alicedsl.de)
[22:31:09] *** Quits: kieran (kieran@moz-c5gk5j.ihug.co.nz) (Ping timeout: 121 seconds)
[22:31:23] <mib_lawimo> eh :P
[22:32:47] *** Joins: zettablade (zettablade@moz-uic.glr.56.172.IP)
[22:32:59] *** Parts: kazagistar (kazagistar@moz-1jum1i.client.bresnan.net) ()
[22:33:05] *** Quits: arBmind (Andreas@moz-283vr7.dyn.telefonica.de) (Ping timeout: 121 seconds)
[22:33:49] *** Joins: ascarter (ascarter@moz-705hf8.wa.comcast.net)
[22:33:53] *** Quits: colinsurprenant (colin@moz-q9ee1n.74.electronicbox.net) (Client exited)
[22:35:12] *** Quits: mr_trousers (Mibbit@moz-sb2.m47.4.24.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[22:35:44] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[22:36:53] *** Joins: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net)
[22:38:04] *** Joins: hoony (Thunderbird@moz-q5r.8e9.96.183.IP)
[22:39:04] *** Quits: DerisiveLogic (smuxi@moz-1jqqlg.biz.rr.com) (A TLS packet with unexpected length was received.)
[22:39:08] *** Quits: tigrou3tac (fabien@moz-gdonfo.fbx.proxad.net) (Ping timeout: 121 seconds)
[22:39:47] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[22:39:52] *** Quits: dcb (textual@moz-j72nfe.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[22:40:54] *** Joins: fkaa (tundmatu@moz-3gjfoq.cust.tele2.se)
[22:41:02] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[22:42:22] *** Quits: madmalik (uid13697@moz-lfin5p.brockwell.irccloud.com) (Quit: Connection closed for inactivity)
[22:42:33] *** Joins: choplin (choplin@moz-b1oa9n.zaq.ne.jp)
[22:43:33] *** Quits: p1start (p1start@moz-nftjhe.org) (Ping timeout: 121 seconds)
[22:44:01] *** Parts: Franciman (francesco@moz-cd3nu9.retail.telecomitalia.it) ("Sto andando via")
[22:44:26] *** Joins: DerisiveLogic (smuxi@moz-1jqqlg.biz.rr.com)
[22:44:31] *** Quits: zettablade (zettablade@moz-uic.glr.56.172.IP) (Ping timeout: 121 seconds)
[22:44:36] *** Joins: p1start (p1start@moz-nftjhe.org)
[22:44:40] *** Quits: jshs (jshs@moz-4nr8rl.dip0.t-ipconnect.de) (Client exited)
[22:45:04] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[22:46:13] *** Joins: zettablade (zettablade@moz-uic.glr.56.172.IP)
[22:46:23] *** Quits: zettablade (zettablade@moz-uic.glr.56.172.IP) (Quit: AndroIRC - Android IRC Client ( http://www.androirc.com ))
[22:46:24] <Brochacho> Trying to count the amount of items in a directory, can I do something like for i in match fs::read_dir(dir) {...}?
[22:46:34] *** Quits: duesenfranz_ (jona@moz-711djm.tirol.surfer.at) (Client exited)
[22:46:41] *** Joins: zettablade (zettablade@moz-uic.glr.56.172.IP)
[22:46:52] *** Quits: zettablade (zettablade@moz-uic.glr.56.172.IP) (Quit: AndroIRC - Android IRC Client ( http://www.androirc.com ))
[22:47:17] *** Joins: zettablade (zettablade@moz-uic.glr.56.172.IP)
[22:48:06] *** Quits: annodomini (lambda@moz-qgii5v.ma.comcast.net) (Client exited)
[22:48:55] *** Quits: Verdagon (Verdagon@moz-ff302e.ca.comcast.net) (Client exited)
[22:49:29] *** Joins: manlycode (manlycode@moz-q1mb3q.mi.comcast.net)
[22:50:11] *** Joins: Tekk (user@moz-20od8k.res.rr.com)
[22:50:20] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[22:51:30] <Tekk> Is there anything like ocaml's :: in rust? Like say turning an RGB value into RGBA, you could do say [255, 0, 0] :: 255
[22:51:35] <Tekk> which yields [255, 0, 0, 255
[22:51:36] <Tekk> ]
[22:51:37] <mkpankov> Brochacho: http://doc.rust-lang.org/1.0.0-beta.3/std/fs/fn.walk_dir.html
[22:51:42] <steveklabnik> Brochacho: should be able to, yeah
[22:52:09] *** Joins: arty (Mibbit@moz-ineiim.il.comcast.net)
[22:52:32] <mkpankov> Brochacho: seems I misunderstood your intention, nevermind
[22:52:39] *** Joins: logan_e (logan_e@moz-ltn.qg3.218.73.IP)
[22:52:46] <steveklabnik> Tekk: .push() ?
[22:52:52] *** burntsushi__ is now known as burntsushi
[22:52:57] *** Quits: areski (areski@moz-aehvq9.user.ono.com) (Ping timeout: 121 seconds)
[22:53:01] <Tekk> steveklabnik: is that destructive?
[22:53:27] <steveklabnik> Tekk: i'm not entirely sure what you mean by 'destructive'
[22:53:43] <Tekk> I meant whether it updates
[22:53:46] <steveklabnik> it requires a mutable vector, yeah
[22:53:48] <Tekk> doesn't seem to work in my case though
[22:53:49] <Tekk> yeah
[22:53:53] <steveklabnik> it may reallocate though
[22:53:57] <steveklabnik> depending
[22:54:04] <Tekk> I have an array of 3 numbers
[22:54:07] *** Quits: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP) (Client exited)
[22:54:22] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[22:54:29] <steveklabnik> oh, well, arrays have a fixed size
[22:54:31] *** Quits: Palmik (palmik@moz-n6d90r.vpn.muni.cz) (Ping timeout: 121 seconds)
[22:54:33] <Tekk> mhm
[22:54:37] <steveklabnik> yeah
[22:54:41] <steveklabnik> i get where you're coming from
[22:55:01] <Tekk> yeah, it's a thing of "create a new array prefilled with these elements, but also add this on the end"
[22:55:21] <steveklabnik> yeah. don't think so, to be honest
[22:55:28] <steveklabnik> arrays are hard to work with
[22:55:35] *** Quits: tcard (tcard@moz-jdrdbk.ddns.jazztel.es) (Client exited)
[22:56:34] *** Joins: Palmik (palmik@moz-7pku2p.net.upcbroadband.cz)
[22:57:42] *** Quits: ptalbot (ptalbot@moz-j4gnuh.fbx.proxad.net) (Ping timeout: 121 seconds)
[23:00:25] *** Quits: ascarter (ascarter@moz-705hf8.wa.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[23:00:28] *** Quits: grncdr (Adium@moz-m1g.e47.90.95.IP) (Quit: Leaving.)
[23:02:22] <Brochacho> steveklabnik: can I use fmt to print items on a new line if any of those items exceed a certain amount of characters?
[23:03:27] *** Joins: tcard (tcard@moz-jdrdbk.ddns.jazztel.es)
[23:03:36] *** Quits: tcard (tcard@moz-jdrdbk.ddns.jazztel.es) (Client exited)
[23:03:41] <mbrubeck> Tekk: In ocaml, :: is an operator on linked lists, right?  So it doesn't have to copy.  To do the same on an array you need to allocate a new array and copy all the old elements.
[23:04:05] <mbrubeck> Brochacho: I don't think there's a built-in format trait for that.
[23:04:50] *** Parts: toddaaro (toddaaro@moz-afg3gm.us) ()
[23:05:09] <Brochacho> mbrubeck: Dang, not what I wanted to hear
[23:05:22] <Tekk> mbrubeck: yeah, I just went and wrote a function to do it for me
[23:05:27] <Tekk> I was just hoping that it was an operator built in
[23:06:08] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[23:06:49] *** Joins: blaphmat (Mibbit@moz-2f4734.iam.net.ma)
[23:06:53] *** Quits: manlycode (manlycode@moz-q1mb3q.mi.comcast.net) (Ping timeout: 121 seconds)
[23:06:56] <blaphmat> hi people
[23:07:14] <mbrubeck> hi
[23:07:15] *** Quits: tomprogrammer (thomas@moz-l09qqn.tr5r.qept.4dd0.2001.IP) (Quit: WeeChat 1.1.1)
[23:07:20] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[23:07:54] <blaphmat> i would like to start with a calculator program using rust, but i don't know how to assign input to variable, some "let x = INPUT_FN;"
[23:08:06] *** Joins: JanC_ (janc@moz-uva6kh.dsl.scarlet.be)
[23:08:35] <mbrubeck> blaphmat: You can use `let x = stdin().read_line()`
[23:08:46] *** Joins: mib_41i48u (Mibbit@moz-775sfq.165.getinternet.no)
[23:08:57] *** Joins: michael1 (michael@moz-9vjtig.mo.charter.com)
[23:08:58] <blaphmat> Thank you :)
[23:09:11] <mbrubeck> actually, wait
[23:09:15] *** Joins: blank_name (blank_name@moz-204.u7h.36.50.IP)
[23:09:25] <mbrubeck> You need to pass a character buffer to read_line: http://doc.rust-lang.org/std/io/struct.Stdin.html
[23:09:37] *** Quits: mkpankov (user@moz-053.dee.149.83.IP) (Ping timeout: 121 seconds)
[23:09:49] *** Quits: espadrine (tyl@moz-l019mn.fbx.proxad.net) (Ping timeout: 121 seconds)
[23:10:10] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[23:10:36] *** Quits: mib_41i48u (Mibbit@moz-775sfq.165.getinternet.no) (Quit: http://www.mibbit.com ajax IRC Client)
[23:10:47] *** Quits: JanC (janc@moz-q9484u.dsl.scarlet.be) (Ping timeout: 121 seconds)
[23:11:01] *** Joins: manlycode (manlycode@moz-q1mb3q.mi.comcast.net)
[23:11:05] *** Joins: kieran (kieran@moz-c5gk5j.ihug.co.nz)
[23:11:40] <blaphmat> ah ok
[23:12:32] <blaphmat> i just got tto see the doc
[23:12:47] <mbrubeck> blaphmat: Here's a simple example: http://is.gd/efSdEM
[23:12:51] <blaphmat> rust seams to be a little tricky ^^
[23:13:01] *** Quits: michael1 (michael@moz-9vjtig.mo.charter.com) (Ping timeout: 121 seconds)
[23:13:14] *** Quits: timj (timj@moz-qrm.hdf.102.91.IP) (Ping timeout: 121 seconds)
[23:13:24] <blaphmat> thank you for the code example
[23:13:29] *** Quits: druzac (druzac@moz-hn17us.vc.shawcable.net) (Ping timeout: 121 seconds)
[23:13:30] *** Joins: tcard (tcard@moz-jdrdbk.ddns.jazztel.es)
[23:13:44] <blaphmat> but how can i know that some "ok" function exist ??? 
[23:13:59] <blaphmat> i would create a test as first reflex ??
[23:14:30] <mbrubeck> blaphmat: Looking at the docs at http://doc.rust-lang.org/std/io/struct.Stdin.html#method.read_line you can see read_line returns a Result
[23:14:41] <mbrubeck> if you click on "Result" it'll take you to the docs for that type
[23:14:47] <bstrie> mbrubeck: you literally just preempted my resonse word-for-word
[23:15:09] *** Quits: kieran (kieran@moz-c5gk5j.ihug.co.nz) (Ping timeout: 121 seconds)
[23:15:23] <mbrubeck> :)
[23:16:05] <mbrubeck> Result is a very common return type in Rust; you can read more at http://doc.rust-lang.org/book/error-handling.html#handling-errors-with-option-and-result
[23:16:05] *** Quits: abique (abique@moz-alq0r9.ko9f.54u1.0e35.2a01.IP) (Quit: Leaving)
[23:16:33] *** Joins: spinda_ (spindas@moz-shv.avk.170.107.IP)
[23:17:19] <blaphmat> thank you, and my question maybe wasn't clear, but tha ok for now :)
[23:18:13] <rfw> alright, another question – say i have a struct Holder<'a> { lib : DynamicLibrary, obj : &'a Obj }, and the only way to get Obj is get_obj<'a>(lib : &'a DynamicLibrary) -> &'a obj, how do i write function to return a Holder?
[23:18:50] <rfw> i'm getting invalid borrows because i'm doing let lib = dynamic library stuff; let obj = get_obj(lib); return Holder { lib: lib, obj: obj }
[23:19:22] <rfw> and apparently i can't return obj because its lifetime exceeds the lifetime of lib, even though i've moved lib into Holder with obj together
[23:19:26] <mbrubeck> rfw: The short answer is, if you do this, you can't ever move a `Holder`
[23:19:41] *** Quits: newbiz (newbiz@moz-9m0cr9.fbxo.proxad.net) (Ping timeout: 121 seconds)
[23:19:44] <mbrubeck> because if you move it, the location of the DynamicLibrary changes
[23:19:53] <mbrubeck> and holder.obj will become a dangling poniter
[23:19:55] <mbrubeck> pointer
[23:19:56] <rfw> mbrubeck: ah ok
[23:20:02] <rfw> that makes sense
[23:20:07] *** Quits: terpstra_ (terpstra@moz-b3vpjr.hrz.tu-darmstadt.de) (Ping timeout: 121 seconds)
[23:20:08] <mbrubeck> rfw: Longer discussion at https://www.reddit.com/r/rust/comments/33tk1a/crossreferences/
[23:20:18] <panicbit> In other words: In C++ you'd have been struck by lightening now
[23:20:23] <mbrubeck> well, similar one anyway
[23:20:28] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[23:20:46] <mbrubeck> rfw: Similar discussion https://www.reddit.com/r/rust/comments/2ma9xp/struct_with_reference_to_other_value_in_struct/
[23:20:53] <mbrubeck> panicbit: Well, C++ isn't so move-happy
[23:20:53] <rfw> mbrubeck: aha
[23:21:07] <rfw> so i guess i'd have to allocate it on the heap and pass a box to it around?
[23:21:12] <rfw> i don't mind if i can't move it
[23:21:13] <mbrubeck> panicbit: in C++ you'd probably create this on the heap and leave it there
[23:21:26] <panicbit> mbrubeck: Hm, true
[23:21:40] *** Joins: achanda (achanda@moz-qv7q4n.ca.comcast.net)
[23:22:23] *** Joins: lenstr (lenstr@moz-hri.vju.25.171.IP)
[23:22:37] *** Joins: lawki (lawki@moz-eln5df.abo.wanadoo.fr)
[23:22:50] <blaphmat> People, would someone take a look to my code, i can't perform a x+y ^^ : http://is.gd/zxvSRU
[23:22:53] *** Quits: lenstr (lenstr@moz-hri.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[23:22:55] *** Parts: Tekk (user@moz-20od8k.res.rr.com) ("ERC Version 5.3 (IRC client for Emacs)")
[23:23:07] *** Joins: lenstr (lenstr@moz-hri.vju.25.171.IP)
[23:23:14] <rfw> but another issue i run into is i can't borrow the DynamicLibrary because Holder is only partially initialized
[23:24:03] <mdup> blaphmat: first, what are you trying to achieve? It doesn't sound like what you've written
[23:24:31] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Ping timeout: 121 seconds)
[23:24:31] <rfw> let mut holder : Holder; holder.lib = lib; holder.obj = get_obj(holder.lib); // do anything with holder; compiler can't verify holder is completely initialized
[23:24:33] *** Quits: lenstr (lenstr@moz-hri.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[23:24:45] <blaphmat> mdup : i'm new to rust, and i would like to make a program that calculate the addition of X + Y
[23:24:50] *** Joins: pnpuff (Mibbit@moz-jjc.vg7.149.201.IP)
[23:25:06] <mdup> I was pretty sure of that :) Now let's go step by step
[23:25:20] <pnpuff> hi all... I'm new to Rust and I'm following the online tutorial to getting started
[23:25:25] <blaphmat> ok, thank you a loot :D
[23:25:26] <mdup> if you have a look in the doc, the signature of read_line is the following: fn read_line(&mut self, buf: &mut String) -> Result<usize>
[23:25:35] <panicbit> blaphmat: The resulting string of read_line won't be in x or y but in buf!
[23:25:42] <pnpuff> I've a question since I would like to know how to use cargo
[23:26:07] <pnpuff> now I'm reading here: http://doc.rust-lang.org/1.0.0-beta.3/book/hello-cargo.html
[23:26:10] <blaphmat> so i have to make x, y mutable and assign the Buf value each time ?
[23:26:12] <mdup> you can find it on http://doc.rust-lang.org/nightly/std/ the search bar is really powerful
[23:26:39] <mdup> the doc says "will return Ok(n) where n is the number of bytes which were read."
[23:26:40] *** Quits: Rym (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[23:27:07] *** Quits: iamtyler (Adium@moz-1dtmni.wa.comcast.net) (Quit: Leaving.)
[23:27:08] <mdup> so first, as you can see, the result of read_lines is something related to the number of bytes read, but not what was *actually* read
[23:27:10] <pnpuff> and I'm not able to use cargo at all... just created a Cargo.toml file and put my simploe program sources into the folder src
[23:27:17] <panicbit> blaphmat: x and y (as it currently is) are of the type Result<usize, std::io::Error> which can only tell you if the read succeeded and how much was read
[23:27:45] <blaphmat> mmm
[23:27:58] *** Joins: iamtyler (Adium@moz-1dtmni.wa.comcast.net)
[23:28:17] <pnpuff> Then I've tryied with cargo build but I get: failed to parse manifest at `E:\programming_languages\Rust programs\Tutorial\src\Cargo.toml`
[23:28:39] <panicbit> blaphmat: So what you want are 2 String bufs
[23:28:45] <mdup> blaphmat: the doc also says that what you've read will be appended to the buffer, you know, the one you passed as argument
[23:28:55] *** Joins: agjacome (agjacome@moz-ggep3p.dynamic.jazztel.es)
[23:28:59] *** Quits: chc4 (chc4@moz-mjph4c.ma.comcast.net) (Ping timeout: 121 seconds)
[23:29:02] *** Quits: niconii (nicole@moz-5e9nqt.frgo.qwest.net) (Ping timeout: 121 seconds)
[23:29:14] *** Quits: choplin (choplin@moz-b1oa9n.zaq.ne.jp) (Connection closed)
[23:29:15] <pnpuff> I don't know the reason for such kind of behaviour and since I'm still new I would like an help if it's possible
[23:29:35] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[23:29:45] *** Quits: moa (Cedric@moz-h3f7lu.abo.wanadoo.fr) (Ping timeout: 121 seconds)
[23:29:47] *** Joins: niconii (nicole@moz-uh57i1.frgo.qwest.net)
[23:30:14] <rfw> mbrubeck: if i change lib : DynamicLibrary to lib : Box<DynamicLibrary>, then it's safe to move right?
[23:30:23] *** Quits: eac (eac@moz-9dnbq4.fkdv.ulf6.3c01.2600.IP) (Quit: ZNC - http://znc.in)
[23:30:38] <panicbit> pnpuff: Can you please show us your Cargo.toml?
[23:30:45] *** Joins: eac (eac@moz-9dnbq4.fkdv.ulf6.3c01.2600.IP)
[23:30:52] <woboats> What is the best way to handle FFI with a C function that takes a void pointer?
[23:31:00] <pnpuff> panicbit: wait just a moment please
[23:31:44] *** Quits: agjacome_ (agjacome@moz-s8ft7l.dynamic.jazztel.es) (Ping timeout: 121 seconds)
[23:31:54] <pnpuff> http://paste.lisp.org/display/147750
[23:32:06] *** Quits: sonder (chatzilla@moz-nt8r49.idi.ntnu.no) (Ping timeout: 121 seconds)
[23:32:16] <panicbit> pnpuff: Hm, that looks alright
[23:32:29] <simukis> woboats: *const/mut libc::void
[23:32:36] <simukis> or is it libc::c_void
[23:32:44] <mbrubeck> rfw: Yeah, that should work.
[23:32:51] <woboats> It's c_void, but I'm not clear how to use it.
[23:32:57] *** Quits: funnel (hegel@moz-hmd.ddu.4.81.IP) (Ping timeout: 121 seconds)
[23:33:00] <rfw> mbrubeck: the issue though is i don't know how to initialize both members at the same time
[23:33:02] <panicbit> pnpuff: But I'm getting the same error... somethings wrong
[23:33:07] *** Quits: agjacome (agjacome@moz-ggep3p.dynamic.jazztel.es) (Ping timeout: 121 seconds)
[23:33:15] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[23:33:23] <mbrubeck> rfw: You can make the other field an Option and initialize it separately
[23:33:28] <mbrubeck> or a raw pointer
[23:33:29] <rfw> ah
[23:33:31] <rfw> i would rather not
[23:33:42] <rfw> so the only way is unsafely?
[23:33:44] <panicbit> pnpuff: Oh wait, you probably gotta have a src/main.rs or a src/lib.rs
[23:33:56] *** Joins: agjacome (agjacome@moz-qh89bt.dynamic.jazztel.es)
[23:34:11] <pnpuff> no, I've only a file hello_world.rs in my src folder
[23:34:12] *** Joins: brianloveswords (brianlovesw@moz-tq78gs.fios.verizon.net)
[23:34:16] <mbrubeck> rfw: Well, it's safe if you do it right - you just need to check it since the compiler can't.
[23:34:20] <mbrubeck> :)
[23:34:24] <simukis> woboats: there’s no such thing as plain void type in C
[23:34:28] * mbrubeck -> afk for a bit
[23:34:41] <rfw> mbrubeck: well unsafe{}ly ;)
[23:34:44] <simukis> if it is in return type position, in rust you can omit it completely
[23:34:45] <panicbit> pnpuff: The convention is to have a "src/main.rs" otherwise you have to specify where your sources are
[23:35:00] <pnpuff> ok, I will try just now
[23:35:12] <woboats> simukis, it's a return parameter unfortunately.
[23:35:23] <woboats> output parameter, i mean
[23:35:32] *** Joins: Shiz (shiz@moz-d00d14.shiz.me)
[23:35:38] *** Joins: scp (rando@moz-35ee3b.compute.amazonaws.com)
[23:35:39] <simukis> woboats: then it is a pointer
[23:35:45] <panicbit> pnpuff: I think something like this should work: http://pastebin.com/raw.php?i=hFmhpD5Z
[23:35:46] *** Joins: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp)
[23:35:47] <simukis> in which case you use *mut libc::c_void
[23:35:51] <scp> Is there anything cool in nightly that isn't in beta at the moment?
[23:36:01] *** Quits: KLP (KLP@moz-qdcjho.res.rr.com) (Quit: http://www.kiwiirc.com/ - A hand crafted IRC client)
[23:36:07] <woboats> simukis, right, but I am confused about a few more things then.
[23:36:26] *** Quits: pavelpenev (quassel@moz-8vs4j7.btc-net.bg) (Ping timeout: 121 seconds)
[23:36:28] <panicbit> pnpuff: However, I'd recomend to stick to the src/main.rs convention^^
[23:36:30] <woboats> How would I cast it then to a properly value?
[23:36:46] *** Joins: geofft (geofft@moz-vfphq1.mit.edu)
[23:36:47] <woboats> & libc::c_void is an enum, an aspect I don't understand.
[23:36:51] <woboats> *to a proper value
[23:37:17] <simukis> I believe you can just `let t: *mut c_void = ...; t as *mut YourType`
[23:37:20] *** Quits: Gabriel_7 (Gabriel@moz-98d8uo.mtgr.92aj.0e35.2a01.IP) (Quit: Quitte)
[23:37:41] <simukis> you aren’t supposed to dereference void pointers
[23:37:51] *** Joins: pavelpenev (quassel@moz-8vs4j7.btc-net.bg)
[23:38:08] *** Quits: agjacome (agjacome@moz-qh89bt.dynamic.jazztel.es) (Ping timeout: 121 seconds)
[23:38:09] *** Quits: csherratt (colin@moz-357qdq.cable.teksavvy.com) (A TLS packet with unexpected length was received.)
[23:38:24] *** Joins: csherratt (colin@moz-357qdq.cable.teksavvy.com)
[23:38:29] <panicbit> "Deep into tha voidness peering..."
[23:38:31] <geofft> c_void is an enum to force LLVM to consider it the right type of pointer, IIRC 
[23:38:33] <panicbit> that*
[23:38:55] <pnpuff> panicbit: no success, anyway thanks a lot :-)
[23:38:56] <geofft> you're not supposed to use c_void as a type, just as a thing that you can make raw pointers to that are compatible with C `void *` pointers 
[23:38:57] *** Joins: agjacome (agjacome@moz-pso3tl.dynamic.jazztel.es)
[23:39:05] <pnpuff> I will try later
[23:39:18] <geofft> just like in C you can't (it is invalid to) dereference a void *, have a void[] array, etc. 
[23:39:22] <woboats> So I should cast the buffer to *mut libc::c_void when passing it in.
[23:39:32] *** Quits: Brochacho (alberto@moz-q4j.q5h.156.131.IP) (Client exited)
[23:39:39] <geofft> also botbot seems to have disconnected so I can't check logs to see what the question was :) 
[23:39:48] *** Quits: fyolnish (fyolnish@moz-ehtogo.so-net.ne.jp) (Ping timeout: 121 seconds)
[23:39:53] <woboats> That doesn't seem to work.
[23:40:31] <woboats> The function is fgetxattr().
[23:40:38] <geofft> woboats: do you mind reposting the question? 
[23:40:57] <woboats> My specific problem is just trying to FFI with fgetxattr(2)
[23:41:27] <woboats> So it takes a void* as an output parameter and returns a size.
[23:41:59] <geofft> hmmm. I'd be inclined to just FFI it as if it were a u8 * 
[23:42:26] <woboats> That should be ABI compatible and so on?
[23:42:57] *** Quits: DerisiveLogic (smuxi@moz-1jqqlg.biz.rr.com) (A TLS packet with unexpected length was received.)
[23:42:58] *** Quits: Kurufu (Kurufu@moz-pvv8b5.res.rr.com) (Ping timeout: 121 seconds)
[23:43:12] <talchas> yeah, I don't think any abi distinguishes on the target of a data pointer type
[23:43:16] *** Joins: kgrandon (Adium@moz-ai5ndv.hjek.d045.0009.2601.IP)
[23:43:37] <talchas> or you can just cast to *mut c_void
[23:43:51] *** Joins: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net)
[23:44:12] <woboats> Doing it as a *mut u8 is very easy; all I have to do is create the vector and then call as_mut_ptr() on it.
[23:44:56] <talchas> yeah, I suspect the reason it's void* in C is that struct whatever* autocasts, for whatever the data actually is
[23:45:01] *** Joins: Kurufu (Kurufu@moz-pvv8b5.res.rr.com)
[23:46:33] <scp> What do I use instead of PhantomFn?
[23:46:36] <pnpuff> http://doc.rust-lang.org/1.0.0-beta.3/book/the-stack-and-the-heap.html it's empty :-(
[23:46:37] <geofft> I guess it's to make it clear it's binary data, not a null-terminated string? 
[23:47:00] <spinda_> If I have a module named ttr::api::login in ttr/api/login.rs, how can I import it from main.rs?
[23:47:06] <spinda_> Or is my directory structure bad?
[23:47:48] <talchas> scp: I think PhantomData<Fn(A) -> B>
[23:48:15] *** Quits: brianloveswords (brianlovesw@moz-tq78gs.fios.verizon.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[23:48:20] *** Joins: brianloveswords (brianlovesw@moz-tq78gs.fios.verizon.net)
[23:48:26] <spinda_> Ah, mod ttr { pub mod api { pub mod login; } }
[23:48:32] <scp> talchas: that doesn't make sense. PhantomFn is a trait, not a data member
[23:48:39] <talchas> oh right
[23:49:09] <talchas> I think the idea was that it was no longer necessary?
[23:49:39] <scp> oh, ok
[23:49:51] <geofft> woboats: `Vec::<u8>::with_capacity(32).as_mut_ptr() as *mut libc::c_void` works for me 
[23:49:52] <talchas> because they removed tyvar variance or something
[23:50:32] *** Quits: Skyler (Skyler@moz-rv949t.sd.cox.net) (Client exited)
[23:51:02] <woboats> geofft, thanks. I haven't tested it (only compiled it), but changing the definition in the extern block to take a *mut u8 seems to be working fine also.
[23:51:21] *** Joins: proc (proc@moz-c2t5u7.dip0.t-ipconnect.de)
[23:51:27] *** Quits: niconii (nicole@moz-uh57i1.frgo.qwest.net) (Ping timeout: 121 seconds)
[23:51:40] <talchas> yeah, the only way those would be different is if the abi was different, which would be insane
[23:51:47] *** Joins: niconii (nicole@moz-jkab93.frgo.qwest.net)
[23:51:52] <woboats> I was confused about this function taking a void* because extended attributes just store binary data.
[23:52:11] <talchas> yeah, it seems an odd choice
[23:52:13] *** Joins: colinsurprenant (colin@moz-q9ee1n.74.electronicbox.net)
[23:52:46] <woboats> I guess it makes sense that you could store a C struct in an xattr, but that's not very interoperable with languages other than C.
[23:53:20] *** Joins: Rym (y@moz-rmaga4.range86-187.btcentralplus.com)
[23:53:35] <Shiz> or with C itself
[23:53:38] <Shiz> considering ABI differences
[23:53:52] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[23:54:04] <woboats> Shiz, why not? Do different Cs represent structs differently?
[23:54:13] <Shiz> different compilers do, even
[23:54:13] *** Quits: rkruppe (chatzilla@moz-i91olr.diu2.0rth.0908.2a02.IP) (Ping timeout: 121 seconds)
[23:54:19] <Shiz> struct alignment, padding
[23:54:23] <Shiz> even different versions of compilers
[23:54:46] <mib_lawimo> what's the idiomatic way of copying some data from a slice to another?
[23:55:04] <woboats> Shiz, that makes sense.
[23:55:21] <woboats> But how does #[repr(C)] work then?
[23:55:48] <talchas> "whatever llvm wants, and hopefully we know what clang would give it"
[23:56:04] <talchas> in theory C compilers could screw with things more, in practice they really don't
[23:56:06] <woboats> ahaha good luck then
[23:56:16] <blaphmat> a good website : http://rustbyexample.com/
[23:56:16] <Shiz> clang and gcc are mostly compatible w.r.t. struct alignment
[23:56:23] *** Quits: blaphmat (Mibbit@moz-2f4734.iam.net.ma) (Quit: http://www.mibbit.com ajax IRC Client)
[23:56:31] <Shiz> msvc can differ, and if you reach into embedded territory all bets are off
[23:56:32] <talchas> mostly it says that /rust/ won't screw with things
[23:56:43] <Shiz> (of course even in gcc/clang it can differ, take for instance __attribute__((packed)))
[23:57:08] *** Joins: choplin (choplin@moz-b1oa9n.zaq.ne.jp)
[23:57:14] <woboats> mib_lawimo, what exactly do you want to do?
[23:57:27] *** Quits: choplin (choplin@moz-b1oa9n.zaq.ne.jp) (Connection closed)
[23:57:33] *** Joins: choplin (choplin@moz-b1oa9n.zaq.ne.jp)
[23:57:36] *** Joins: bob (mischief@moz-aaidf8.offblast.org)
[23:57:40] <bob> hello
[23:57:51] *** Quits: Rym (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[23:57:54] <bob> what packages would i emerge to begin using rust on gentoo?
[23:59:10] <Shiz> * dev-lang/rust
[23:59:11] <mdup> bob: I'm not on gentoo, but I'd rather follow the "rustup.sh" instructions on http://www.rust-lang.org/install.html
[23:59:18] *** Quits: loyd (loyd@moz-uft.32f.108.213.IP) (Ping timeout: 121 seconds)
[23:59:21] <woboats> mib_lawimo, I think probably what you want is the clone_from_slice() method, which is unstable, but I'm not sure.
[23:59:35] <Shiz> for the beta, you can # emerge =dev-lang/rust-1.0.0_beta2
[23:59:38] <Shiz> after unmasking it
[23:59:57] <mib_lawimo> woboats: I have this [u16; 0x10000] array, then I read everything in a binary file into a Vec<u8>, how do I copy from the data from the &[u8] slice into the [u16; 0x10000] one
