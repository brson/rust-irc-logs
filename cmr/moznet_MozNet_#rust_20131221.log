[00:00:34] *** Quits: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net) (Ping timeout)
[00:00:35] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[00:00:35] *** ChanServ sets mode: +ao pcwalton pcwalton
[00:01:20] *** Quits: Skif_ (emschwar@moz-CA025D57.ip.mcleodusa.net) (Ping timeout)
[00:03:54] <o11c> its_dangerous_to_go_alone!
[00:03:59] <kvanb> lol
[00:04:05] <kvanb> Actually, could you automatically implement A for everything that implements B?
[00:04:13] <o11c> yes
[00:04:17] <o11c> impl A for B
[00:04:28] <kvanb> ok.
[00:04:39] <kvanb> what happens if something implements B and C
[00:04:45] <kvanb> and you do impl A for B
[00:04:47] <kvanb> impl A for C
[00:05:15] <dwrensha> Does using "///" to start a comment mean something special?
[00:05:26] <glaebhoerl> er
[00:05:32] <dwrensha> I get an error with this program: fn main() {} /// hi
[00:05:33] *** Quits: exobit_ (textual@moz-E06F46F0.corp.bitshelter.com) (Quit: )
[00:05:50] *** Quits: Scriptor (anonymous@moz-E06F46F0.corp.bitshelter.com) (Quit: Scriptor)
[00:06:24] <glaebhoerl> kvanb: "automatically implement A for everything that implements B" is impl<T: B> A for T, and it'll complain if you have any other impls of A
[00:06:32] *** Joins: Yurumechan (23f9939a@B2F514.E4420F21.EEF52F3A.IP)
[00:06:47] <kvanb> thats very useful
[00:06:49] <kvanb> thanks
[00:07:08] <glaebhoerl> (i.o.w. you're not allowed to have overlap of impls)
[00:08:05] *** Quits: nkoep (nik@moz-4C7D5106.pool.mediaways.net) (Quit: Leaving)
[00:09:52] *** Joins: mcpherrin (mcpherrin@BB4DB59D.2876C283.70845BE5.IP)
[00:11:02] <SiegeLord> dwrensha: Yes, it specifies a doc-comment
[00:11:07] <SiegeLord> And it has to precede an item
[00:11:59] <Luqman> ChrisMorgan: oh, so i had stripped the rpaths cause they were hardcoded to my machine
[00:15:58] <kvanb> Im very very impressed by the numeric traits in libstd/num/
[00:16:08] <kvanb> props to whoever designed those, much better than haskells.
[00:16:23] *** Quits: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com) (Input/output error)
[00:16:55] *** Quits: eddyb (eddy@moz-68E0B7D0.residential.rdsnet.ro) (Ping timeout)
[00:17:41] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[00:18:31] <ChrisMorgan> Luqman: what can be done about it?
[00:19:49] <brson> kvanb: bjz did a lot of the numerics
[00:19:56] *** Quits: lenstr (lenstr@728D8BB9.9636F313.7A27613B.IP) (Client exited)
[00:20:12] <bjz> kvanb: still think it needs work before 1.0
[00:20:17] <kvanb> I get to buy bjz a coffee when we meet up sometime :P
[00:20:54] <bjz> kvanb: I'm starting to think it'd be better to make them 'stupider' to allow algebraic libs more room to build their own heirachies
[00:21:19] <bjz> then stop auto-importing the numeric traits in the prelude
[00:21:28] *** Joins: ofeldt- (ofeldt@moz-B0843512.dip0.t-ipconnect.de)
[00:21:44] *** Quits: bheylin (textual@moz-8255E94E.adsl.online.nl) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[00:21:48] <bjz> mos folks can use the free-standin funs in std::num anyway, which often look nicer for maths stuff
[00:21:50] <Luqman> ChrisMorgan: hmm, come to think of it, they may include relative paths that would work. i hadn't looked to hard last night
[00:21:57] *** Quits: awidegreen (awidegreen@moz-3FE0A1F.a357.priv.bahnhof.se) (Ping timeout)
[00:22:16] *** Quits: ofeldt (ofeldt@moz-12D3043B.dip0.t-ipconnect.de) (Ping timeout)
[00:22:16] <bjz> kvanb: if you have any suggestions, feedback, criticisms, let me know
[00:22:27] <kvanb> I have some suggestions for Ord (unsure if thats your kind of thing)
[00:22:33] <o11c> IMHO it'd be better with no prelude at all by default</blasphemy>
[00:22:34] <kvanb> but I have to test it first when this git pull finishes
[00:22:57] <bjz> kvanb: that's more pcwalton, dbaupp and pcwalton's area
[00:23:13] <bjz> oh, meant to replace that last pcwalton with strcat :P
[00:23:26] *** Joins: vk (chatzilla@moz-4F2E17BF.dsl.dynamic.sonic.net)
[00:23:39] <bjz> kvanb: strcat has pretty stong opinions about Ord because he does lots of work with collections
[00:23:46] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[00:24:01] <bjz> kvanb: anyway, at the moment we have far too many ord traits
[00:24:09] <bjz> would be nice if we could simplify it
[00:24:09] <kvanb> I dont really think that the default Ord should assume partial ordering and not total ordering. It would make more sense IMO if TotalOrd was the default
[00:24:22] <kvanb> since ATM implementing Ord for a type that needs to be put in a map or something is a lot of work...
[00:24:34] <bjz> yep
[00:24:42] *** Parts: mcpherrin (mcpherrin@BB4DB59D.2876C283.70845BE5.IP) ()
[00:25:07] *** Quits: andreypopp (andreypopp@moz-7261DC60.net) (Quit: andreypopp)
[00:25:07] <bjz> brson: https://github.com/mozilla/rust/issues/11090 RFC: Disallow interleaving commas after result blocks
[00:25:30] <bjz> (in match exprs)
[00:25:46] <kvanb> I noticed in some places like sinh people are using 0.5 * instead of / 2
[00:26:01] <kvanb> I dont think that's precision-safe.
[00:26:16] <bjz> heh
[00:26:19] * pcwalton kinda likes the existing comma behavior, but I don't feel extremely strongly
[00:26:20] <kvanb> its the fastest, yes
[00:26:24] <kvanb> infact, I wrote a blog post on it
[00:26:25] <kvanb> wanna read?
[00:26:39] <kvanb> http://kvanberendonck.wordpress.com/2013/12/06/be-aware-of-floating-point-optimizations-introduced-by-constant-folding-in-conformant-code/
[00:26:42] <bjz> pcwalton: guess just in favour of simplifying things
[00:26:53] <pcwalton> yeah, I understand
[00:26:54] <pcwalton> hmm
[00:27:20] <bjz> pcwalton: it's like it might be nice if loop would be a macro
[00:27:40] <pcwalton> I don't think that would work because liveness knows about it and treats it specially
[00:27:47] <bjz> oh really?
[00:27:50] <pcwalton> yeah
[00:27:56] <bjz> different to while o_o?
[00:27:59] <pcwalton> Java's liveness cheats and special cases "while true"
[00:28:08] <pcwalton> so while 1 == 1 won't work in java
[00:28:10] <SiegeLord> Huh, I didn't know you could omit commas after blocks in matches...
[00:28:21] <achin> hehe:  error: failed to find an implementation of trait std::cmp::Eq for [type error]
[00:28:22] <bjz> pcwalton: why are the semantics different?
[00:28:36] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[00:28:40] <pcwalton> bjz: because liveness knows that the loop executes at least once
[00:28:49] <bjz> pcwalton: what about `while fn_that_always_returns_true() {}`
[00:28:50] <pcwalton> so you can do
[00:28:56] <bjz> oh
[00:29:02] <pcwalton> let foo; loop { foo = 1; … } … use foo … 
[00:29:07] <pcwalton> whereas "while" will not compile there
[00:29:15] <bjz> interesting
[00:29:20] <pcwalton> in java
[00:29:27] * bjz didn't know that
[00:29:30] <pcwalton> int foo; while (true) { foo = 1; … } … use foo … 
[00:29:31] <pcwalton> that's ok
[00:29:35] <pcwalton> int foo; while (1 == 1) { foo = 1; … } … use foo … 
[00:29:37] <pcwalton> that's not ok
[00:29:38] <pcwalton> it's uglier
[00:29:49] *** Quits: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca) (Quit: Leaving.)
[00:30:08] *** Joins: tupshin (quassel@moz-E7B03838.c3-0.nyr-ubr1.nyr.ny.cable.rcn.com)
[00:30:19] <bjz> pcwalton: so it's either simplify the external grammar and add an ugly compication to the semantics
[00:30:30] <bjz> s/and/or
[00:30:33] <pcwalton> yeah, I think it's cleaner to have a slightly more complex grammar
[00:30:39] <pcwalton> especially since "loop" is used surprisingly often
[00:30:58] <bjz> well loop! {} is still quite pretty
[00:31:09] <bjz> but yeah, I understand
[00:31:25] * pcwalton stares blankly at https://github.com/mozilla/rust/pull/11058
[00:31:28] <pcwalton> so big
[00:31:32] <pcwalton> and so not yet done :P
[00:31:43] <pcwalton> at least Servo won't be affected -- Servo barely uses any @ these days
[00:31:57] <bjz> heh
[00:32:10] <pcwalton> this will boost my github stats at least
[00:32:17] <bjz> but can you rival acrichto?
[00:32:31] <pcwalton> not while I'm splitting my time between Rust and Servo
[00:32:39] <pcwalton> does anyone here know the deriving code well?
[00:32:49] <bjz> dbaupp is the man
[00:32:52] <pcwalton> ok
[00:32:53] <bjz> but he is out atm
[00:33:16] <pcwalton> was wondering about #[deriving(Encodable<JsonEncoder>)] to make an encodable thing that only works with the JSON encoder
[00:33:31] * bjz is sure acrichto is going to fly past the github stats
[00:33:35] <pcwalton> that would be very useful for abusing the encoding infrastructure to get auto generated JS GC hooks
[00:33:38] <bjz> mm
[00:33:57] <bjz> hopefully it will be more extensible in the future anyway
[00:35:03] *** Quits: pepper_chico (pepper_chi@moz-95A5633B.dsl.telesp.net.br) (Quit: Ex-Chat)
[00:35:34] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[00:36:06] <kvanb> is there documentation for the #[ ] pragmas anywhere?
[00:36:10] <kvanb> what are those called ... pragmas?
[00:36:20] <bjz> kvanb: attributes
[00:36:29] <bjz> kvanb: not that I know of
[00:36:42] <bjz> kvanb: they have changed quite abit over time
[00:37:01] <bjz> might be something in the manual. but the manual is always out of date :P
[00:37:23] *** jorendorff is now known as jorendorff_away
[00:37:24] *** Quits: dkeenaghan (dkeenaghan@A9F153F4.DDE28F19.986A907C.IP) (Quit: Leaving)
[00:37:26] <bjz> (the code samples in there are fine, because they are checked in testsuite)
[00:37:55] <kvanb> theres a list in Note-defined-attributes which is enought o infer what they do
[00:38:19] <bjz> oh ok, that might be it
[00:38:43] <bjz> there migh be some that have changed, some that have been removed, and some that have been added though
[00:39:01] <kvanb> has someone suggested a branch weight attribute for microoptimization before?
[00:39:16] <kvanb> there is #[cold] but its for functions
[00:39:49] <SiegeLord> Maybe it could be added and just set to do absolutely nothing, as it's often a misoptimisation :P
[00:39:59] <SiegeLord> But a nice placebo effect
[00:40:24] *** Quits: tupshin (quassel@moz-E7B03838.c3-0.nyr-ubr1.nyr.ny.cable.rcn.com) (Ping timeout)
[00:40:29] <kvanb> not really
[00:40:46] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Client exited)
[00:40:49] <kvanb> everyone likes to pass it off as a placebo effect, but those people would be misunderstood.
[00:41:02] *** Joins: hacker_sam (hacker_sam@2EE27BB6.661C02A7.B0CE379A.IP)
[00:41:31] *** Parts: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net) ()
[00:41:37] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[00:41:48] <bjz> kvanb: did you know Rust has cross-package inlining?
[00:42:05] <kvanb> no I didn't, but that's very cool.
[00:42:08] <bjz> :D
[00:42:12] <bjz> #[inline]
[00:42:22] <kvanb> lack of -flto is one reason why C++ can suck
[00:42:38] <bjz> doesn't do much in-pkg afaik, I think it's more for cross-pkg thaff
[00:42:46] <bjz> hah wut
[00:42:51] <bjz> s/thaff/stuff
[00:42:57] <kvanb> lol
[00:42:59] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[00:42:59] *** ChanServ sets mode: +ao dherman dherman
[00:43:08] <kvanb> autocorrect?
[00:43:18] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[00:43:20] <bjz> no, weird alien hands
[00:43:27] <kvanb> I once went a week with autocorrect on IRC and it was doing stuff like changing C++ to cat
[00:43:30] <bjz> mind of their own
[00:43:36] <kvanb> and technical terms to random words
[00:43:50] <bjz> my username gets changed to `biz`
[00:44:09] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[00:44:10] <bjz> by osx's stupid autocorrect
[00:44:20] * bjz turns it off
[00:44:20] <kvanb> iirc I would write something like asm and it'd get corrected to ass or something like that :P
[00:44:25] *** Joins: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca)
[00:44:27] *** Quits: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[00:44:34] <bjz> haaa
[00:44:36] *** Quits: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca) (Input/output error)
[00:44:41] *** Joins: etw (john@moz-BA114036.nyc.res.rr.com)
[00:52:34] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[00:53:20] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[00:53:20] *** ChanServ sets mode: +ao pcwalton pcwalton
[00:57:05] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[01:03:25] <hoverbear> bjz: First thing I do
[01:04:02] <bjz> yah?
[01:05:11] *** Joins: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net)
[01:05:12] *** ChanServ sets mode: +o tjc
[01:06:03] *** Joins: csherratt (csherratt@moz-CAF331EA.cable.teksavvy.com)
[01:06:15] <kvanb> hoverbear clearly hasn't seen an australian dropbear
[01:06:24] <bjz> heh
[01:06:31] <hoverbear> I have so
[01:06:42] <hoverbear> One was at the bear convention this year.
[01:07:43] <kvanb> :P
[01:09:58] * aatch just managed to screw up `n * 0.75`
[01:10:45] <tjc> aatch: gj
[01:10:47] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Client exited)
[01:10:53] <tjc> did you omit the leading zero?
[01:10:55] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[01:11:07] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[01:11:13] <aatch> tjc, nope, I did it as ((n / 3) * 4)
[01:11:22] <tjc> heh
[01:11:27] <aatch> Then wondered why my assertion was triggered.
[01:11:33] <tjc> yay for assertions!
[01:11:35] * aatch is glad the assertion was there now
[01:12:26] *** Quits: csherratt (csherratt@moz-CAF331EA.cable.teksavvy.com) (Quit: csherratt)
[01:12:39] *** Quits: nrc|Christmas (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Ping timeout)
[01:12:42] *** Quits: c-a_ (c-a@moz-57C82A9.a163.priv.bahnhof.se) (Quit: Ex-Chat)
[01:12:55] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Ping timeout)
[01:14:16] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[01:16:00] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[01:16:53] *** Joins: csherratt (csherratt@moz-CAF331EA.cable.teksavvy.com)
[01:17:09] *** Quits: ziad (ziad@B20586FB.BDB3D91.6E370BFC.IP) (Quit: ziad)
[01:17:14] *** Joins: z0w0 (zack@D80AA51.4F58607A.2CE63F58.IP)
[01:18:21] *** Joins: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net)
[01:18:24] *** Quits: jyyou (jyyou@moz-47B052FA.cs.nctu.edu.tw) (Ping timeout)
[01:18:34] *** kimundi is now known as zz_kimundi
[01:19:26] <alan_andrade> I'm trying to write a port of BSD head.c
[01:19:38] <alan_andrade> It's supposed to return an int.
[01:20:07] <alan_andrade> Is it possible that Rust's fn main returns an integer ?
[01:20:15] <kvanb> flamebait
[01:20:23] * kvanb posts #11092 and goes for lunch
[01:20:48] <alan_andrade>  error: main function expects type: `fn()`: expected () but found int
[01:20:54] <kvanb> btw its kind annoying not being able to classify issues as a non dev
[01:21:12] <brson> alan_andrade: rust's main function doesn't return an int, but you can set the return code with std::os::set_exit_status
[01:21:22] <alan_andrade> ohhh
[01:21:27] <alan_andrade> got it!
[01:21:30] <alan_andrade> :)
[01:21:33] <arrrrrrrrr> brson: Why doesn't rust's main function return an int?
[01:22:17] <cmr> arrrrrrrrr: process return code is an OS-specific thing. main is just an entry point, and platform agnostic.
[01:22:37] <cmr> #[start] takes the argc/argv and returns an int as you'd expect
[01:22:47] <arrrrrrrrr> cmr: Doesn't windows have return codes?
[01:22:48] <brson> i don't think there is a particularly good reason for not doing it, but the reason for doing it is basically just because C does
[01:23:04] <brson> i think there were a lot of shrugs last time we discussed it
[01:23:07] <cmr> arrrrrrrrr: Well not via returning from main.
[01:23:18] <cmr> My kernel and the things I run on my little ARM board certainly don't.
[01:24:45] <kvanb> I prefer not returning an int
[01:24:56] <cmr> so do I
[01:25:35] <kvanb> os::set_exit_status is useful too because it lets you set the status from outside main
[01:25:37] <kvanb> without failing
[01:25:45] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[01:25:49] <kvanb> in C you'd have to set a global variable or use abort or something
[01:25:58] <cmr> exit(), not abort
[01:26:03] <kvanb> thats the one
[01:26:09] <arrrrrrrrr> it's the unix way
[01:26:28] <cmr> "the unix way" is such a misguided motivator :)
[01:26:40] <arrrrrrrrr> if your process is going to return != 0 then just exit and let it burn to the ground
[01:26:43] *** Joins: Jesin (Jesin@moz-4B662E55.washdc.fios.verizon.net)
[01:28:04] <arrrrrrrrr> I mean, what are you even going to do after os::set_exit_status(1)? (btw are there EXIT_SUCCESS etc?)
[01:28:35] <cmr> libc::EXIT_{FAILURE,SUCCESS} yes
[01:29:14] *** Quits: kvanb (kvanb@moz-1C09EC1.lnse1.win.bigpond.net.au) (Quit: kvanb)
[01:29:53] <brson> arrrrrrrrr: yeah, you generally call set_exit_status right before main exits
[01:30:03] <brson> rust doesn't have any exit() equivalent
[01:30:10] <cmr> well there's libc::exit
[01:31:05] <arrrrrrrrr> brson: Which is bad. Exceptions should be handled locally.
[01:35:15] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[01:35:18] *** Quits: ianj (ianjneu@moz-7BA002E.hsd1.ma.comcast.net) (Quit: leaving)
[01:35:52] *** Joins: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net)
[01:38:37] *** Joins: nrc|Christmas (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[01:41:06] <wycats_> ok bros
[01:41:10] <wycats_> a wild question appears
[01:41:20] <wycats_> we have a ~[u8]
[01:41:30] <wycats_> and have an f64
[01:41:34] <wycats_> and want to write it into the ~[u8]
[01:41:38] <wycats_> what's the easiest way to do that?
[01:41:54] <cmr> let mut w = MemWriter::new(your_vec_); w.write_f64(foo);
[01:41:55] <arrrrrrrrr> brah, le or be?
[01:42:32] <cmr> let vec = w.inner();
[01:42:50] <cmr> actually yeah it's write_{le,be}_f64
[01:42:53] <cmr> so pick your poison
[01:42:59] *** Quits: jlong (jlong@moz-6DFDE846.socal.res.rr.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[01:43:06] <wycats_> can we use write_f64 on a ~[u8]?
[01:43:11] <wycats_> or does it have to be a MemWriter
[01:43:18] <cmr> ~[u8] doesn't implement Writer, so no.
[01:43:25] <wycats_> ok
[01:43:36] <cmr> oh hmmmm
[01:43:38] <brson> i'm glad we have an answer for that question
[01:43:45] <wycats_> :)
[01:43:55] <cmr> there seems to be no way to get a MemWriter from a vec :(
[01:43:56] <brson> seems like we have passable answers pretty often these days!
[01:44:04] <cmr> only MemReader
[01:44:08] <cmr> that's truly unfortunate
[01:44:10] <SiegeLord> I kind of think those billions of write_*_* functions are unsightly
[01:44:39] <cmr> wycats_: new answer: vec.extend(your_f64.to_bytes().iter())
[01:44:44] <brson> cmr: oh, grum :(
[01:45:00] <cmr> yeah :((
[01:45:29] <brson> seems like we need a from_vec method
[01:45:32] <cmr> agree
[01:45:34] <cmr> it's on my todo list now
[01:46:50] *** Quits: synackse (synackse__@moz-DFB8ED3B.lightspeed.wepbfl.sbcglobal.net) (Ping timeout)
[01:47:30] *** Joins: santiago (santiago@moz-8ADE82B4.socal.res.rr.com)
[01:48:14] *** Quits: Ferreus (ferreus@moz-92F37979.pools.arcor-ip.net) (Quit: WeeChat 0.4.2)
[01:48:22] <glaebhoerl> how do you guys deal with it re-bootstrapping every time you fix a typo in a comment (and/or making it not do that)? (in general, minimizing latency while iterating on the code?)
[01:48:49] <brson> glaebhoerl: make check-stage1-std NO_REBUILD=1
[01:49:12] <brson> if i'm not working on tests in std then I mostly just switch to another workspace, until all of them are doing a build and i OOM
[01:49:31] <tjc> glaebhoerl: using multiple workspaces, like brson said. the mental context-switching does get tough, though, at least for me
[01:49:33] <brson> NO_REBUILD probably also works for some other crates
[01:49:36] <tjc> alternately, going for coffee
[01:49:37] <cmr> (git-new-workdir FTW)
[01:49:37] <tjc> a lot
[01:49:43] <cmr> tjc: coffee? video games!
[01:49:51] <glaebhoerl> hrm. I tried that earlier, but it started rebuilding anyways. maybe because I had stupidly tried a make check without NO_REBUILD earlier and it already deleted the stuff i could've avoided rebuilding
[01:49:54] <tjc> cmr: meh, if I started playing a game I would never stop :-)
[01:49:59] <cmr> heh
[01:50:08] *** Quits: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[01:50:32] <glaebhoerl> hmm
[01:50:58] <phil_> anyone know what happened to as_mut_buf
[01:51:01] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[01:51:03] <phil_> and as_imm_buf
[01:51:08] <phil_> what must i use now
[01:51:11] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[01:52:14] <glaebhoerl> I wonder if you could outsource the compile to EC2 or some other cloud-thing somehow to make it go faster
[01:52:23] <glaebhoerl> (at least faster than on my Brazos netbook!)
[01:54:14] <shachaf> hi glaebhoerl
[01:54:21] <shachaf> It seems that everyone is in here these days.
[01:54:27] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[01:54:58] <glaebhoerl> oh hi shachaf!
[01:55:09] <pcwalton> nmatsakis: were you planning to use the stmt_map for anything in borrowck? it's populated but unused
[01:55:14] <glaebhoerl> yes I've been occasionally noticing people myself
[01:55:37] <tjc> glaebhoerl: that basically amounts to parallelizing LLVM, which would be a lot of work
[01:55:51] <tjc> since LLVM is where most of the compile time is (and that in turn is because rustc generates a lot of bitcode to feed into it)
[01:56:07] <wycats_> once we have a MemWriter, how do we get the bytes out?
[01:56:14] <wycats_> as a ~[u8]
[01:56:17] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Ping timeout)
[01:56:39] <glaebhoerl> tjc: top is reporting both my cores are loaded - I guess it's parallelizing at the crate level?
[01:57:27] <glaebhoerl> (both cores are doing rustc)
[01:58:27] <tjc> glaebhoerl: Yes, at the crate level. The problem is when you're compiling a large crate like libsyntax or librustc
[01:58:41] <tjc> someone could also refactor rustc into many tiny crates, which would solve the problem
[01:58:44] <tjc> at what cost, I'm not sure :-)
[01:58:59] *** Quits: smodo (tadnr@moz-6398EFDF.dclient.hispeed.ch) (Input/output error)
[01:59:02] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[01:59:02] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[02:03:26] <glaebhoerl> the lowest-hanging fruit would probably be to just buy a box with a fast CPU in it :(
[02:04:14] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[02:05:37] <SiegeLord> I did that... it still takes way too long
[02:05:51] *** Joins: jlong (jlong@moz-6DFDE846.socal.res.rr.com)
[02:06:31] *** Quits: etw (john@moz-BA114036.nyc.res.rr.com) (Quit: etw)
[02:07:31] *** Quits: azakai (alon@moz-BBE3ABD.mv.mozilla.com) (Quit: Ex-Chat)
[02:08:43] <cmr> wycats_: see my revised answer, but the .inner() method (from the Decorator trait)
[02:10:03] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Quit: Busying myself...)
[02:11:17] <wycats_> cmr: sweet
[02:12:20] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[02:13:20] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[02:13:47] <wycats_> why is Decorator in std::io
[02:13:49] <wycats_> weird
[02:14:01] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[02:14:02] *** Quits: jlong (jlong@moz-6DFDE846.socal.res.rr.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[02:14:09] <cmr> only place it's used in libstd really
[02:14:21] <brson> wycats_: Decorator is going to be removed at some point
[02:14:29] <brson> it's overdesigned and not safe
[02:14:31] <cmr> brson: in favor of?
[02:14:41] <cmr> yeah probably
[02:14:53] <brson> cmr: methods as appropriate for the types that are implementing it currently
[02:14:56] <cmr> although I've used its functionality a few times, so it's pretty useful
[02:15:04] <cmr> the most useful is inner
[02:15:57] <brson> it's not always safe to let callers mutate the state inside a decorator, and nobody is ever going to parameterize on Decorator
[02:16:11] <cmr> nope
[02:16:15] *** Quits: canhtak (canhtak@38266F07.7A8E554D.FC900DAF.IP) (Quit: canhtak)
[02:16:27] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[02:17:00] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[02:17:29] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[02:17:50] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[02:18:02] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[02:18:02] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[02:18:39] *** Quits: arrrrrrrrr (arrrrrrrrr@moz-15B51ABB.dynamic.qsc.de) (Ping timeout)
[02:18:49] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[02:20:33] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[02:23:37] <wycats_> is there something like map_ref?
[02:23:45] <wycats_> we're using map on an Option<~str>
[02:23:49] <wycats_> hm
[02:23:58] *** Quits: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net) (Ping timeout)
[02:23:59] <wycats_> we need to be  yielded a &str
[02:24:26] *** Joins: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net)
[02:24:34] <cmr> .map(|x| x.as_slice()) ?
[02:24:40] <cmr> it may just be easier to match on it
[02:24:52] <wycats_> the issue is that it's moving out the ~str
[02:24:55] <wycats_> how do we avoid that?
[02:24:58] *** jorendorff_away is now known as jorendorff
[02:25:20] <cmr> match o { Some(ref s) => { let s = s.as_slice(); }, None => ... }
[02:25:39] <cmr> or you can even leave off the as_slice, autoderef should do the right thing
[02:27:13] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[02:29:11] <wycats_> ok next problem
[02:29:32] <wycats_> we have a method pub fn bytes(...) { self.buffer.inner() }
[02:29:34] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Ping timeout)
[02:29:38] <wycats_> where self.buffer is a Decorato
[02:29:48] <wycats_> what should the self parameter be?
[02:30:01] <cmr> "self"
[02:30:36] <wycats_> can you explain?
[02:30:43] <cmr> just plain "self"
[02:30:50] <cmr> it takes self by-value, rather than any type of reference.
[02:31:05] <cmr> fn bytes(self) { ... }
[02:31:24] <wycats_> and destroys it?
[02:31:35] <cmr> if it's a type that moves, yes.
[02:33:38] <wycats_> what does it mean to take a self by value?
[02:33:44] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[02:34:19] *** Joins: lpy (lpy@7360AA58.F09091A8.1348A864.IP)
[02:34:20] <cmr> it's like saying "let x = some_value; some_func(x);" where "fn some_func(foo: SomeType)"
[02:34:35] <cmr> as opposed to &x and &SomeType
[02:34:54] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[02:36:37] <wycats_> and it will have copy/move semantics based on whether it's a Pod?
[02:37:39] <cmr> hm
[02:37:49] *** Joins: brson_ (brson@6A848D32.C1B840DD.76F66111.IP)
[02:37:51] <cmr> I'm not 100% jiggy with Pod, but I'm pretty sure yes
[02:38:32] <wycats_> Pod seems important
[02:38:34] <wycats_> such Pod
[02:38:41] <wycats_> like two Peas in a Pod
[02:38:46] <wycats_> are the Peas owned?
[02:38:57] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[02:39:15] *** Quits: brson_ (brson@6A848D32.C1B840DD.76F66111.IP) (Quit: leaving)
[02:39:19] *** Joins: brson (brson@6A848D32.C1B840DD.76F66111.IP)
[02:39:19] *** ChanServ sets mode: +ao brson brson
[02:41:35] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Quit: Jesse)
[02:42:50] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[02:43:16] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[02:46:26] *** Joins: canhtak (canhtak@38266F07.7A8E554D.FC900DAF.IP)
[02:47:54] *** Joins: synackse (synackse__@moz-DFB8ED3B.lightspeed.wepbfl.sbcglobal.net)
[02:48:01] *** jorendorff is now known as jorendorff_away
[02:51:48] *** Quits: synackse (synackse__@moz-DFB8ED3B.lightspeed.wepbfl.sbcglobal.net) (Ping timeout)
[02:52:01] *** Quits: nrc|Christmas (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Quit: ChatZilla 0.9.90.1 [Firefox 26.0/20131202182626])
[02:52:39] *** Joins: synackse (synackse__@moz-DFB8ED3B.lightspeed.wepbfl.sbcglobal.net)
[02:53:16] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[02:57:34] *** Quits: alan_andrade (alan_andra@8AB4864E.75F2E118.B7838CA6.IP) (Input/output error)
[02:57:57] <phil_> hey guys
[02:58:04] *** Quits: synackse (synackse__@moz-DFB8ED3B.lightspeed.wepbfl.sbcglobal.net) (Ping timeout)
[02:58:12] <phil_> did as_mut_buf get removed?
[02:58:35] <cmr> phil_: probably a victim of dbaupp's vec cleanup.
[02:58:52] <phil_> ah
[02:58:58] <cmr> https://github.com/mozilla/rust/pull/11029
[03:01:02] <phil_> hm
[03:02:12] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[03:04:43] *** Joins: derek_c (derek@moz-8D8DB540.clarityconnect.net)
[03:04:59] <derek_c> how do you iterate through a string line by line?
[03:05:10] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[03:05:11] <cmr> derek_c: for line in s.lines() { ... }
[03:05:21] <phil_> welp
[03:05:31] <phil_> this is now going to be more difficult to fix
[03:05:40] <derek_c> cmr: thanks
[03:05:57] <aatch> wycats_, cmr, Pod is pretty much anything where memcpy == logical copy.
[03:06:09] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[03:06:19] <cmr> aatch: right, but I don't know if that is soley what determines whether something have copy semantics or not.
[03:06:32] *** Joins: kvanb (kvanb@moz-1C09EC1.lnse1.win.bigpond.net.au)
[03:06:58] <kvanb> what does I-slow mean?
[03:07:05] *** Joins: synackse (synackse__@moz-DFB8ED3B.lightspeed.wepbfl.sbcglobal.net)
[03:07:07] <o11c> I know know what pod is for C++ ... the ctor also matters (not applicable to rust) and the dtor (which IS possibly applicable)
[03:07:08] <aatch> cmr, all Pods are implicitly copyable, however things containing managed pointers are also implicitly copyable.
[03:07:23] <cmr> kvanb: it's a perf bug or something preventing optimizations
[03:07:29] <kvanb> oic
[03:07:33] <aatch> o11c, drop makes is non-pod
[03:07:38] <aatch> it*
[03:07:54] <cmr> aatch: ok, so Pod == NonAffine
[03:08:36] <aatch> cmr, I think so. I'd have to look at TypeContents (again) to be certain.
[03:11:07] <aatch> But the important bit is really that `let a = b` and `copy_memory(&mut a, &mut b)` are (theoretically) identical at runtime. More interestingly, it allows for a copy of ~[T:Pod] to be a single memcpy.
[03:12:35] <phil_> so it looks like replacing code that called as_mut_buf isnt going to be as simple as just changing a line of code
[03:12:38] <phil_> is that right?
[03:12:46] <phil_> or am i just missing something because im a crap coder
[03:12:58] <cmr> it should be two lines
[03:13:09] <cmr> let (ptr, len) = (vec.as_ptr(), vec.len());
[03:13:21] <cmr> maybe three
[03:13:25] <cmr> removing the layer of closure
[03:14:17] <phil_> what if i had it in a closure
[03:14:22] <phil_> err
[03:15:21] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[03:15:47] <phil_> as_mut_buf(|buf, len| some_code_here)
[03:15:57] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[03:16:04] <phil_> s. in front of that
[03:16:18] <cmr> let (buf, len) = (s.as_mut_ptr(), s.len());
[03:16:21] <cmr> some_code_here
[03:17:07] <phil_> okay
[03:17:08] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[03:18:27] <aatch> phil_, basically, the closure form was kinda silly because it was easy to make the pointer escape the closure.
[03:18:55] <phil_> alright
[03:19:01] <phil_> ill try and get this working
[03:19:02] <phil_> thanks!
[03:19:10] <kvanb> wow rust symbols are retarded
[03:19:14] <kvanb> thats really, really annoying.
[03:19:20] <kvanb> you open them in lldb and the names look like this:
[03:19:21] <kvanb> main::hd8fe7addc398f76daa1fcf59e54893ef06c6ee1519deb7bed6424845417687d5ah::v0.0
[03:19:33] <aatch> kvanb, it's only the hash+version that throws it off.
[03:19:56] <kvanb> how do I even disassemble that by name
[03:19:57] <kvanb> I can't
[03:19:58] <kvanb> ;(
[03:20:02] <cmr> kvanb: if you use -Z extra-debug-info it's better
[03:20:07] <cmr> but it's just main
[03:20:10] <cmr> the rest is a hash
[03:20:13] <cmr> (and the version)
[03:20:48] <aatch> kvanb, strip out the last two components of the path (to get the name you want)
[03:21:27] <aatch> main::hd8fe7addc398f76daa1fcf59e54893ef06c6ee1519deb7bed6424845417687d5ah::v0.0 -> main::<hash>::<version>
[03:22:01] <kvanb> wait a sec, let me digest what's going on here
[03:22:31] <kvanb> According to this ticket there is supposed to be some hungry tight loop here
[03:22:45] <kvanb> what's unstable::lang::start ?
[03:23:00] <cmr> see libstd/unstable/lang.rs
[03:23:04] <cmr> it's the entry point that calls main
[03:23:07] <aatch> kvanb, the "start", it sets up the runtime and calls main()
[03:23:26] * cmr defers to aatch, goes to do other things
[03:23:35] <kvanb> pfft.
[03:23:39] <kvanb> so where's the real main?
[03:23:46] <kvanb> the one made by rust.
[03:23:52] <kvanb> not the runtime, rather.
[03:23:52] <aatch> kvanb, define "real main"
[03:24:06] <cmr> it's unstable::lang::start
[03:24:24] <cmr> as annotated with #[lang="start"]
[03:24:36] *** Quits: csherratt (csherratt@moz-CAF331EA.cable.teksavvy.com) (Ping timeout)
[03:24:55] *** Joins: csherratt (csherratt@moz-CAF331EA.cable.teksavvy.com)
[03:25:01] <aatch> (the "real" entry point for most programs is actually in crt.{a,o})
[03:25:10] <kvanb> I'm compiling foo.rs from here: https://github.com/mozilla/rust/issues/11015
[03:25:40] <kvanb> when I disassemble -n main using lldb I just get a runtime stub with no other calls except to unstable::lang::start, but you can't disassemble unstable::lang::start because apparently it doesn't exist
[03:26:01] <aatch> kvanb, ah right. Give me a moment
[03:26:11] * cmr actually goes to do other things
[03:26:14] *** Parts: cmr (moznet@moz-EC676DFE.members.linode.com) (WeeChat 0.4.2)
[03:33:13] *** Joins: cmr (moznet@moz-EC676DFE.members.linode.com)
[03:33:49] <derek_c> ah, I see!
[03:37:10] *** Joins: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP)
[03:41:26] *** Quits: gwty (gwtypc@76EA0583.D155B7DB.F44414AF.IP) (Ping timeout)
[03:41:26] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[03:43:17] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Ping timeout)
[03:44:52] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[03:46:42] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[03:49:54] *** Joins: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com)
[03:52:15] *** Quits: zz_kimundi (kimundi@moz-BD8FA620.dip0.t-ipconnect.de) (Ping timeout)
[03:54:48] <derek_c> I have a function that expects &~str.  I'm giving it a &'static str and it's complaining.  how do I get around that?
[03:55:12] *** Joins: zz_kimundi (kimundi@moz-94542831.dip0.t-ipconnect.de)
[03:55:12] <cmr> &~"foo"
[03:55:41] *** zz_kimundi is now known as kimundi
[03:55:48] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Client exited)
[03:56:52] *** Joins: gwty (gwtypc@C57D02B0.22CD9E4E.F44414AF.IP)
[03:57:01] <derek_c> cmr: looks kinda ugly :(
[03:57:11] <cmr> &~str is kinda ugly as a type :P
[04:00:11] <glaebhoerl> can I make check with some specific compiler option passed to the compiler?
[04:00:23] <cmr> glaebhoerl: RUSTFLAGS="..." make check
[04:00:32] <glaebhoerl> danke schön
[04:00:42] *** Joins: ercxx (ercan@moz-5B55241D.dyn.optonline.net)
[04:01:52] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[04:02:54] *** Quits: Earnestly (earnest@88884C6.A3735F9C.39C00A7A.IP) (Ping timeout)
[04:03:00] *** Quits: synackse (synackse__@moz-DFB8ED3B.lightspeed.wepbfl.sbcglobal.net) (Ping timeout)
[04:07:35] <derek_c> how do I compare a ~str to a &'static str?
[04:07:53] *** Joins: alan_andrade (alan_andra@8AB4864E.75F2E118.B7838CA6.IP)
[04:08:09] *** Quits: ercxx (ercan@moz-5B55241D.dyn.optonline.net) (Ping timeout)
[04:08:27] *** Quits: k4nar (quassel@moz-F5EFF779.kimsufi.com) (Ping timeout)
[04:08:30] *** Joins: k4nar (quassel@moz-F5EFF779.kimsufi.com)
[04:08:54] <sfackler> derek_c: there's an equiv method defined on them I think
[04:08:59] <cmr> also "foo" == str
[04:09:37] *** Quits: alan_andrade (alan_andra@8AB4864E.75F2E118.B7838CA6.IP) (Ping timeout)
[04:10:54] *** Joins: diverse (diverse@moz-ED94B8D.oc.oc.cox.net)
[04:11:02] <achin> how do i surpress the dead_code warnings when my code is built as a library?
[04:11:14] <achin> (i still want to see the dead_code warnings when i build with --test)
[04:14:55] *** Joins: synackse (synackse__@moz-DFB8ED3B.lightspeed.wepbfl.sbcglobal.net)
[04:15:06] *** Quits: canhtak (canhtak@38266F07.7A8E554D.FC900DAF.IP) (Quit: canhtak)
[04:17:16] *** Joins: holomorph (holomorph@moz-CF91A262.hsd1.md.comcast.net)
[04:18:08] *** Quits: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net) (Quit: ChatZilla 0.9.90.1 [Firefox 25.0.1/20131112160018])
[04:19:33] <derek_c> is there something like os.exit?
[04:19:46] <derek_c> i.e. some function to terminate the whole program?
[04:20:10] <achin> std::libc::funcs::c95::stdlib::exit
[04:20:33] <cmr> (which is reexported as libc::exit)
[04:21:36] <derek_c> achin: that should work on all platforms?
[04:21:59] <achin> as far as i know, yes
[04:22:02] *** Quits: holomorph (holomorph@moz-CF91A262.hsd1.md.comcast.net) (Quit: holomorph)
[04:22:58] <derek_c> achin: thanks
[04:23:17] *** Joins: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net)
[04:24:12] *** Joins: ercxx (ercan@moz-5B55241D.dyn.optonline.net)
[04:25:54] *** Quits: ercxx (ercan@moz-5B55241D.dyn.optonline.net) (Ping timeout)
[04:27:31] *** Quits: glaebhoerl (glaebhoerl@moz-B5B88D72.catv.broadband.hu) (Quit: )
[04:30:26] *** Joins: canhtak (canhtak@38266F07.7A8E554D.FC900DAF.IP)
[04:36:11] <dcrewi> achin: might want to search the github issues for your conditional lint idea, and file an issue if there isn't one
[04:37:59] <achin> i'm taking a detour to see if rustpkg does the Right Thing with regard to this
[04:39:16] <dcrewi> last time I looked (which admittedly was a while ago in rust time) compiling with test had the same default lint levels, I think
[04:41:14] <achin> it seems like if you're building a library, you want the dead code analyser to assume that all public APIs will be used
[04:41:40] <achin> since without a main() or #test entry point, it warns that everything is dead, which is not helpful
[04:41:47] <dcrewi> oh, it doesn't do that?
[04:41:57] *** Joins: ercxx (ercan@moz-5B55241D.dyn.optonline.net)
[04:42:22] <dcrewi> maybe that's the issue to file instead?
[04:43:31] <achin> dcrewi: https://gist.github.com/eminence/1b84933ccc05d2d53df5
[04:44:24] <achin> i think this is it: https://github.com/mozilla/rust/issues/10914
[04:44:51] <achin> (sort of)
[04:45:08] <dcrewi> there, mod Foo isn't public, so foo isn't reachable
[04:45:32] <achin> oops, am i a noob?
[04:45:51] <achin> i am a noob!  ok, much better! thanks dcrewi 
[04:47:15] <diverse> achin: think of it this way, you are less of a noob, than you were 5 minutes ago. :)
[04:47:51] <achin> true, this is the only purpose in life, is to be a little less nooby from 1 minute to the next
[04:49:39] <ercxx> I can do that in reverse!
[04:49:53] * achin ins't quite sure he fully understands the theory of rustpkg
[04:50:57] <tjc> achin: what about it is puzzling you?
[04:52:07] <achin> if i explicitly set RUST_PATH, are the implicit entries (./.rust, ~/.rust, etc) still in RUST_PATH?  if so, where (at the front? end?)
[04:53:52] <tjc> achin: Yes, at the end...
[04:54:02] <tjc> the idea is that if you explicitly set RUST_PATH, you want rustpkg to look there first
[04:54:55] <achin> i've written a library, and i've put it in the workspace ~/devel/MyLib/.  i'm working an another project that lives in ~/devel/MyProj/, and MyProj requires MyLib
[04:55:40] <achin> so what i think i want to do is set RUST_PKG=~/devel/MyLib/ and then do "cd ~/devel/MyProj; rustpkg install MyLib"
[04:55:58] *** Quits: derek_c (derek@moz-8D8DB540.clarityconnect.net) (Ping timeout)
[04:56:03] <achin> but if i'm reading the docs correctly, this will install MyLib into ~/devel/MyLib, not ~/devel/MyProj
[04:56:16] *** Joins: enix (Mibbit@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[04:56:35] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[04:57:11] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[04:58:55] <achin> (which i don't think i want, since i want the installation of MyLib to be private to MyProj)
[04:58:57] <tjc> achin: well, RUST_PATH, not RUST_PKG...
[04:59:18] <achin> (oops, yes, i typoed that)
[04:59:31] <tjc> but if you just want it to be private to MyProj....
[04:59:51] <tjc> then you would just install MyProj without manually installing MyLib
[04:59:59] <tjc> in that case, rustpkg would automatically find the sources for MyLib
[05:00:03] <tjc> and build it locally to your project
[05:00:10] <tjc> That is, locally to your project if you don't set RUST_PATH at all
[05:00:32] <achin> i think i have to set RUST_PATH, don't it?  how else will rustpkg find MyLib ?
[05:01:03] <tjc> it depends on where the sources are
[05:01:14] <achin> btw, this is the part of the docs that i'm working from:  "If RUST_PATH is declared as an environment variable, then rustpkg installs the libraries and executables into the lib and bin subdirectories of the first entry in RUST_PATH"
[05:01:19] <tjc> Right
[05:01:57] <achin> let's still assume that MyLib is in ~/devel/MyLib and MyProj is in ~/devel/MyProj
[05:03:15] *** Joins: derek_c (derek@moz-8D8DB540.clarityconnect.net)
[05:03:21] <achin> moreover, is i set RUST_PATH to ~/devel/MyLib/ and then run "rustpkg install MyProj", it seems like MyProj will be installed into ~/devel/MyLib, which seems entirely inappropriate
[05:04:31] <tjc> You're right that that will be the behavior
[05:04:55] <tjc> The correct thing to do here would be to set the RUST_PATH to ~/dev/MyProj:~/devel/MyLib
[05:05:04] <tjc> That said, it's still a little bit weird, I agree
[05:05:23] <tjc> In this case, you *do* want it to treat the "default" directories as being first in the RUST_PATH
[05:05:40] <achin> i see.  ok, that makes sense
[05:05:44] *** Joins: bmu (chatzilla@moz-A87574A6.hsd1.pa.comcast.net)
[05:05:59] <tjc> I'm not sure how inconvenient it will actually be, in general, to have to also include the current directory in the RUST_PATH in this scenario
[05:06:06] <tjc> If you find it's a papercut, please do file an issue about it
[05:06:42] <achin> i think only a doc clarification to the tutorial is needed, maybe
[05:06:51] <achin> i have 1 more question, if you have the time
[05:07:45] <tjc> sure!
[05:08:01] <tjc> (also, please feel free to file an issue for the doc clarification, too)
[05:08:14] <achin> (i will try to think of any cases when having an implicit CWD at the front of RUST_PKG gets in the way)
[05:09:01] <achin> when you do something like `rustpkg install github.com/steveklabnik/hello`  it seems to me that "hello" is actually the package name, and the github.com part just gives some hints about how to modify the RUST_PATH.  is that a reasonable way to think about this?
[05:11:23] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Quit: Busying myself...)
[05:12:07] <tjc> the entire thing after "install" is a package ID
[05:12:23] <tjc> a package ID includes a short name, which might or might not be the same string as the package ID
[05:12:27] <tjc> in this case the short name is "hello"
[05:12:52] <tjc> rustpkg has some heuristics built into it that deduce that if the package ID doesn't exist locally, and its path starts with github.com, it can go check out the sources from github.com
[05:12:58] <tjc> does that help?
[05:13:25] <achin> sort of.  let me briefly explain my thought process.  perhaps it would be an RFE, or you might say "it doesn't work like that"
[05:13:47] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Client exited)
[05:14:41] *** Quits: ercxx (ercan@moz-5B55241D.dyn.optonline.net) (Ping timeout)
[05:14:42] <achin> i thought that perhaps, in a way similar to how github.com might be a hint about where to find a package, rustpkg might do something similar if the package ID started with a slash (that is, it was an absolute path to a local workspace)
[05:15:35] *** Joins: moostik (Icedove@moz-654D48E3.w83-202.abo.wanadoo.fr)
[05:15:49] <achin> that is, "rustpkg install /home/achin/devel/MyLib" might mean "install the package_id 'MyLib' and look in the /home/achin/devel/MyLib workspace"
[05:16:07] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[05:16:15] <tjc> Ah, yeah, it doesn't do that -- if you wanted to achieve that, you would set RUST_PATH=/ and then say
[05:16:20] <tjc> rustpkg install home/achin/devel/MyLib
[05:16:27] <tjc> the idea is that package IDs are always relative to something
[05:16:30] <achin> though now that i've typed this out, i see that this assumes that the name of the directory will exactly match the name of the package.  this seems non-obvious
[05:16:34] <tjc> Either a directory in the RUST_PATH, or "the Internet" :-)
[05:17:13] <achin> this distinction between a package ID and a short ID is a new one to me
[05:17:45] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[05:18:08] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[05:18:11] <achin> maybe it could be documented where/whenever #[crate_id] gets documented
[05:18:49] <achin> this have been quite helpful, thanks tjc !
[05:19:19] <tjc> achin: again, it would be great if you filed an issue for that documentation improvement -- I wrote most of the current version of rustpkg, but am not working on Rust full-time anymore
[05:19:35] <tjc> so, if you file it, someone wil probably do it :-)
[05:19:47] <tjc> and, you're welcome
[05:19:49] *** Quits: synackse (synackse__@moz-DFB8ED3B.lightspeed.wepbfl.sbcglobal.net) (Ping timeout)
[05:20:03] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[05:20:09] <achin> sure.  i will sleep on this and try to find a coherent way to express my thoughts about the missing bits of docs
[05:20:29] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[05:20:41] <tjc> Great
[05:20:47] <achin> for reference, my thought process when approaching rustpkg is heavily influenced by python's virtual envs
[05:22:20] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[05:24:11] <achin> hrm, `rustpkg install` didn't seem to actually install naything
[05:25:38] *** Quits: canhtak (canhtak@38266F07.7A8E554D.FC900DAF.IP) (Quit: canhtak)
[05:25:52] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[05:26:39] *** Joins: ctult (Mibbit@moz-C934DE01.bois.qwest.net)
[05:26:54] <ctult> Is there some sort of display library that works with Rust 0.8?
[05:27:45] <tjc> achin: if your RUST_PATH isn't set, it would install to ./.rust
[05:28:24] <achin> i have RUST_PATH set to ~/devel/MyProj:~/devel/MyLib/
[05:28:32] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[05:28:50] <tjc> what's the output if you ls ~/devel/MyProj?
[05:29:19] <achin> bin lib rustpkg_db.json test.rs   (test.rs is something i've created)
[05:29:55] <achin> bin/ is empty, lib/ only contains my host tripple, but is otherwise empty
[05:30:42] *** Joins: ercxx (ercan@moz-5B55241D.dyn.optonline.net)
[05:31:37] <derek_c> ChrisMorgan: https://github.com/derekchiang/nba-scores
[05:31:53] <achin> instead it seems to have installed the library to ~/devel/MyLib/lib
[05:33:08] *** Quits: moostik (Icedove@moz-654D48E3.w83-202.abo.wanadoo.fr) (Ping timeout)
[05:34:19] *** Joins: moostik (Icedove@moz-654D48E3.w83-202.abo.wanadoo.fr)
[05:34:34] <achin> tjc: i am going to open an issue for this
[05:35:09] <tjc> achin: What's in lib/<host-triple> ?
[05:35:20] <achin> nothing
[05:35:22] <tjc> hmm
[05:35:28] <tjc> actually
[05:35:43] <achin> (perhaps rustpkg is working as expected, but the docs are not matching the behavior?)
[05:36:15] <tjc> achin: were you in ~/devel/MyLib when you typed `rustpkg install`?
[05:36:21] <achin> no
[05:36:29] <achin> i was in ~/devel/MyProj
[05:36:42] <tjc> hmm
[05:36:50] <tjc> Yeah, that's weird. And unexpected
[05:37:02] <achin> and rustpkg say it was installing MyLib to ~/devel/MyLib and ~/devel/MyProj
[05:37:23] <tjc> it said it was installing it to both?
[05:37:25] <achin> yeah
[05:37:37] <aatch> Yay, the "doesn't need to be mutable" warning caught an infinite loop bug in my code!
[05:37:38] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[05:38:30] <tjc> achin: can you pastebin the output?
[05:38:31] <tjc> brb
[05:41:44] <achin> tjc: https://gist.github.com/eminence/292dc04a906f88c07479
[05:43:57] <diverse> aatch: isn't it great to have a compiler that is smarter than you? :)
[05:44:08] <aatch> diverse, yep.
[05:44:15] <tjc> achin: Yeah, that's something weird going on. As far as I know, rustpkg should never install a package to two different destinations during the same install
[05:44:20] <tjc> so yeah, bug
[05:44:35] <aatch> Checking `to_read > 0` isn't very helpful if you never update `to_read`
[05:44:52] *** Quits: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[05:44:53] <tjc> compilers aren't smarter than us -- they just get bored less easily than we do :-)
[05:45:48] <achin> tjc: when i try to build a reproducer, i am finding that things are working as expected
[05:45:57] <tjc> achin: weird
[05:46:03] <achin> so maybe i can track down the difference
[05:47:10] *** Quits: ercxx (ercan@moz-5B55241D.dyn.optonline.net) (Quit: WeeChat 0.4.2)
[05:49:21] <achin> tjc: ah, the presence of a test.rs seems to cause this
[05:49:37] <tjc> achin: that's weird too, since test executables shouldn't get installed...
[05:49:38] *** Joins: guacamole (Mibbit@BA13A167.FB5956E3.C7DA06F6.IP)
[05:50:26] <guacamole> Is Rust really "low-level" or "low&high level"?
[05:51:22] <kvanb> What happened to cargo?
[05:51:41] <guacamole> I feel that Rust is not lower than js.
[05:51:58] <kvanb> oh, its rustpkg now
[05:52:35] *** Joins: synackse (synackse__@moz-DFB8ED3B.lightspeed.wepbfl.sbcglobal.net)
[05:52:56] <guacamole> I mean whether or not Rust is both high and low level.
[05:53:23] <guacamole> Why Rust is described as low-level?
[05:54:08] <carter> kvanb: was it your or bjz  i was talking baout math stuff with a week ago
[05:54:08] <carter> ?
[05:55:13] <tjc> kvanb: rustpkg doesn't share any code with cargo -- it was decided that it was time for a complete rewrite
[05:55:42] <tjc> guacamole: Trolling or serious?
[05:56:31] <guacamole> tjc both ,haha
[05:57:01] <tjc> guacamole: OK, well, this is a space where we try to keep the tone sincere. I asked because saying Rust is higher-level than JS didn't seem like a sincere comment to me
[05:57:26] <aatch> guacamole, well, considering I'm currently writing code that reads from a socket straight into a datastructure, I'd say that's pretty low-level.
[05:57:27] <tjc> Also, "low-level" and "high-level" are both pretty vaguely defined concepts.
[05:58:27] <guacamole> sorry!
[05:58:37] <sully> I mean, rust does have some abstractions that JS doesn't have
[05:58:39] <sully> but.
[05:59:00] <guacamole> yes, this is my serious aspect
[05:59:21] <aatch> I actually see Rust described as a "systems programming language" more than high vs low level.
[05:59:45] <aatch> since, as tjc says, low vs high level is pretty nebulous.
[05:59:46] <tjc> One particular feature that systems programming languages have is direct control over memory allocation
[05:59:51] <tjc> This is usually considered to be a low-level feature
[05:59:55] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[05:59:57] <tjc> Rust has that, while (for example) JS doesn't
[05:59:59] <guacamole> I feel that Rust has many high-level charactors than Go or some. but Go is not described as low-level
[06:00:15] <achin> tjc: do you want to be CCd on this issue?
[06:00:35] <tjc> achin: Sure, although no promises that I'll actually have time to follow up in it beyond tonight, since this is a volunteer gig for me now :-)
[06:00:52] <achin> of course
[06:01:06] <tjc> oh, and my github username is catamorphism
[06:01:07] <achin> who are you on github?
[06:01:13] <achin> got it, thanks
[06:01:15] <tjc> poor tjc on github is probably tired of getting notified about Rust issues :-)
[06:01:28] <kvanb> carter: wasnt me
[06:01:47] <achin> hehe
[06:02:09] <carter> JS doesn't have types
[06:02:15] <carter> so its low level in thought
[06:02:33] <carter> high levle in terms of vague run time peformance characteristics withouth crazy hacks :)
[06:02:57] <carter> I think any language which doesn't have parametric polymorphism in some form can't be high level :)
[06:03:42] <tjc> carter: I think that whether types are checked dynamically or statically is orthogonal to whether a language is low-level or not
[06:03:55] <tjc> for example, C only has a very weak type system, but most people would say it's low-level
[06:04:07] <tjc> Sorry, other way around
[06:04:25] <tjc> What I mean is, it seems weird to put C and JS in the same bin, even though neither has strong static typechecking
[06:04:42] <guacamole> carter thx
[06:04:43] *** Joins: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net)
[06:04:58] <tjc> I'm just going to roll back to what I originally said: these are terms that don't mean very much :-) It's better to talk about what a language allows you to express, and what static guarantees its semantics provides.
[06:05:09] <guacamole> carter so why Rust lacks parametric polymorphism?
[06:05:17] <carter> no, rust has parametric polymorphism
[06:05:28] <carter> with some monomorphization guarantees
[06:05:30] <carter> though i'm still learnign stuff
[06:05:39] <guacamole> therefore, I say rust is both high and low level
[06:05:46] <carter> indeed
[06:05:48] <achin> tjc: submitted.  thanks again for your help and explainations
[06:05:57] *** Quits: synackse (synackse__@moz-DFB8ED3B.lightspeed.wepbfl.sbcglobal.net) (Ping timeout)
[06:06:27] <tjc> achin: you're welcome! thanks for taking the time to submit the issue
[06:06:45] <tjc> carter: Not exactly -- Rust has generic types and items, but it doesn't have parametric polymorphism in the sense that Haskell and ML do
[06:06:49] <tjc> parametric types in Rust aren't first-class
[06:06:56] <carter> oh yeah
[06:07:05] <carter> everything must specialize
[06:07:13] <tjc> it allows you to implement most of the same code that you could write in a language with more conventional parametric polymorphism
[06:07:15] <carter> otoh, thats still something
[06:07:17] <tjc> yeah
[06:07:26] <carter> and it still gives you free theorems
[06:07:46] <tjc> well, I'd be careful about saying that... the original proofs of parametricity are conditioned on the language being non-strict
[06:08:23] <carter> thats ok, i write pretty strict haskell code
[06:08:30] <tjc> Sorry, I was in grad school long enough to become a pedant :-)
[06:08:39] <carter> and the parametricity stuff technically breaks when you have seq
[06:08:41] <carter> tjc: how long is that?
[06:08:42] <carter> :)
[06:09:30] <carter> i was in grad school for a wee bit
[06:09:31] <tjc> carter: I clocked it at about 3.5 years :-)
[06:09:35] <carter> ahhh
[06:09:38] *** Joins: jvns__ (bork@moz-DE62990.nyc.res.rr.com)
[06:09:39] <carter> then you graduated or ran away?
[06:09:55] <tjc> some of both, I got a consolation master's the first time. the second time is complicated, but I didn't graduate :-)
[06:10:05] <guacamole> tjc Will Rust have Ml-like parametric polymorphism in future?
[06:10:15] <tjc> As far as `seq`, you can actually prove that you can preserve parametricity in the presence of seq if it's used in a monomorphic way
[06:10:16] <carter> guacamole: that requires more boxing
[06:10:21] <tjc> see Patricia Johann's work if you're interested
[06:10:26] <tjc> guacamole: there aren't any plans for it that I'm aware of
[06:10:28] <carter> patricia is cool
[06:10:33] <tjc> yes, she is
[06:10:34] <carter> i've not spoken to her in a few years
[06:10:40] <carter> i really enjoyed meeting her in like 2005
[06:10:49] <tjc> she was one of the two people I learned Haskell from 13 years ago
[06:10:50] <carter> I was a precocious high schooler 
[06:11:03] <tjc> and that's what I owe my successive fame and fortune to :P
[06:11:07] <carter> tjc: ohh, i've seen you on twitter!
[06:11:13] <tjc> carter: heh, probably
[06:11:23] <carter> i'm cartazio on twitter
[06:11:31] <carter> carter on the haskell mailing lists
[06:12:00] *** Joins: mark_edward (quassel@96AA16C1.78A885A5.FA72ABB8.IP)
[06:12:15] <tjc> oh, ok, I think I've seen you on twitter
[06:12:23] <tjc> I haven't read the Haskell mailing lists regularly in... a while
[06:12:28] <tjc> Maybe I should be, now that I'm doing Haskell again
[06:12:36] <carter> tjc: … i've kinda become the ghc recruiter by accident
[06:12:42] <tjc> carter: Heh, really?
[06:12:53] <carter> yeah
[06:12:54] <tjc> recruiting volunteers or recruiting people to work on it for pay?
[06:12:59] <carter> ghc.haskell.org/trac/ghc/wiki/Status/Oct13
[06:13:04] <carter> former
[06:13:06] <carter> as in
[06:13:08] <carter> i want nice things
[06:13:11] *** Quits: enix (Mibbit@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Quit: http://www.mibbit.com ajax IRC Client)
[06:13:18] <guacamole> carter tjc Will Rust suitable for web-server dev?
[06:13:18] <carter> luring more peopel into wokring on nice things that they need a wee nudge to leap into
[06:13:38] <carter> Rust on a Railgun
[06:13:40] <carter> i like it
[06:14:10] <carter> guacamole: since the whole meta picture for rust is to write a next generation web browser with no bugs… it'd better be able to handle server side too
[06:14:11] <guacamole> sorry, Will Rust be suitable for web-server dev?
[06:14:37] <aatch> guacamole, well ChrisMorgan is writing a http-server in Rust
[06:14:45] <tjc> carter: that's a really helpful thing to do... starting to volunteer on a project like GHC (or Rust!) isn't easy
[06:14:46] <carter> tjc: ghc.haskell.org/trac/ghc/wiki/Status/Oct13
[06:15:01] <aatch> and has lofty goals of a Rust web-dev framework.
[06:15:06] <carter> cool
[06:15:08] <guacamole> aatch I know that, but the benchmark is not good.
[06:15:13] <carter> tjc: grep for carter in that page
[06:15:29] <tjc> guacamole: a web server is a good example of a systems program, so it should be -- if it's not, there'll be something wrong (or incomplete)
[06:15:31] <aatch> guacamole, "benchmark", what do you mean by that?
[06:15:38] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[06:16:04] <aatch> Because I'm assuming it's not "speed" (since only hyper-optimized servers like nginx beat rust-http if I recall correctly)
[06:16:10] <guacamole> aatch Chris's github show comparison
[06:16:16] <carter> link?
[06:16:24] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[06:17:09] <guacamole> https://github.com/chris-morgan/rust-http/tree/master/comparisons
[06:17:52] <carter> guacamole: node's perf ins't 'cause of node :)
[06:18:11] <guacamole> better than node.js
[06:18:21] <aatch> guacamole, hmm, I must have mis-remembered. However, there have been significant improvements to various related systems in the month since that was last updated.
[06:18:51] <carter> guacamole: i'm doing some consulting for a company that does 1+ tb of data processing a day, and they're planning to migrate from node to maybe something like haskell or maybe rust
[06:18:59] <carter> and they initially built stuff in node
[06:19:01] <carter> and it works
[06:19:11] <carter> butt… 
[06:19:28] <carter> tjc: at lof of it is talking people who want to get involved to take a leap
[06:19:49] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[06:19:49] <carter> and saying "don't try to understand everything immediately, choose one area you care about and focus on understanding / pwning it"
[06:20:03] <carter> "and then you'll find infinite things to work on that'll be great and useful and cool"
[06:20:09] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[06:20:14] <guacamole> Rust should be better than Go as webserver.
[06:20:17] <tjc> carter: Yes, I think most of a role like that is being an amateur therapist :-)
[06:20:20] <aatch> guacamole, why?
[06:20:27] <tjc> helping people fight back impostor syndrome long enough to just try something
[06:20:29] <carter> tjc: i need the therapy, but yeh
[06:20:34] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[06:20:37] <tjc> carter: most therapists have their own therapists :-)
[06:20:42] <aatch> Go is designed, from the ground up, to be good at that role.
[06:20:49] <aatch> They pay for that elsewhere though.
[06:21:01] <carter> their GC scares me 
[06:21:07] * aatch wasn't thinking earlier
[06:21:08] <guacamole> because pointers' usage must show better performance
[06:21:14] <aatch> guacamole, why?
[06:21:33] <tjc> yeah, I've never had the courage to do much with the GHC RTS
[06:21:38] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[06:21:44] <carter> tjc: thats the easy part to not break
[06:21:49] <tjc> that's why I used to work on a project that was trying to replace it with a certified RTS, though that didn't exactly work out
[06:21:58] <carter> yeah, i don't think its worth it there
[06:22:01] <guacamole> http://www.techempower.com/benchmarks/#section=data-r8&hw=i7&test=db
[06:22:13] <tjc> carter: I actually did break the GHC RTS once (when I had commit access), but I try not to speak of that :P
[06:22:15] <carter> a broken RTS is easier to fix than a broken type system
[06:22:16] <guacamole> Go is worse than java and c++
[06:22:27] <carter> tjc: i broke the -fvia-c backend for a month by accident
[06:22:31] <tjc> depends how subtly it's broken, I guess, in either case
[06:22:37] <guacamole> So, Go should be slower than Rust.
[06:22:43] <tjc> carter: Heh, was that the time when nobody noticed it was broken? because I think I remember seeing someone mention that
[06:22:44] <carter> guacamole: benchmarks are hard
[06:22:53] <carter> yeah
[06:23:00] <carter> i even asked if i was forgetting a backend
[06:23:19] <aatch> guacamole, it's really not that simple.
[06:23:31] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[06:23:32] <carter> and no one caught it till m3ga tried to make sure that sparc or power64 stil worked
[06:23:35] <tjc> re: benchmarks, everybody should read http://www.eecs.harvard.edu/~margo/papers/hotos99-2/paper.pdf
[06:23:38] * tjc drops the mic
[06:23:50] <carter> tjc: theres an amazing book on benchmarking
[06:23:53] <carter> i have it somewhere
[06:24:22] <tjc> carter: that would be useful to know about, I didn't know there was an entire book
[06:26:05] <guacamole> Thank all.
[06:26:30] <tjc> ok, it's close to my bedtime, but thanks for the interesting chats, all :-)
[06:26:33] *** Quits: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net) (Quit: Textual IRC Client: www.textualapp.com)
[06:27:28] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[06:28:22] <carter> http://www.amazon.com/Guide-Experimental-Algorithmics-Catherine-McGeoch/dp/0521173019 t25  guacamole  
[06:28:38] *** Quits: pyon (user@D883E380.480D3EC1.1C8C8CE9.IP) (Quit: restart)
[06:28:39] <carter> can't find my copy right now
[06:28:41] <carter> but thats the book
[06:29:49] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[06:31:29] <guacamole> carter, but benchmark also show sth. right?
[06:31:37] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[06:31:38] <carter> whats it show?
[06:32:16] <guacamole> like experiments in physics labs,
[06:32:42] <carter> guacamole: you can't say "in benchmark a,   X > Y" and "in benchmark b, Y > Z",  and then deduce "X > Z"
[06:32:51] <carter> guacamole: have you heard of the concept of a partial order?
[06:32:52] <guacamole> yes
[06:33:06] <guacamole> deduction must be careful.
[06:33:09] <carter> yes
[06:33:21] <carter> which benchmarks are we talkinga bout right now?
[06:33:27] <eevee> er, partial orders are still transitive
[06:33:32] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Ping timeout)
[06:33:33] <carter> fuck
[06:33:33] <carter> yeah
[06:33:35] <carter> ok
[06:33:38] <carter> i need a better idea
[06:33:39] <guacamole> http://www.techempower.com/benchmarks/#section=data-r8&hw=i7&test=db
[06:33:44] *** Quits: jvns__ (bork@moz-DE62990.nyc.res.rr.com) (Ping timeout)
[06:33:44] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[06:33:56] <carter> what about it?
[06:34:11] <carter> saying "this"is confusing :)
[06:34:15] <carter> eevee: good point
[06:34:38] <carter> eevee: did you happen to have the handle / nickname eevee  in ~ 2006?
[06:34:42] <guacamole> It shows that Go in some aspect is worse than Java or C++ as a webserver.
[06:34:42] <eevee> probably!
[06:34:59] <carter> eevee: were you a prefrosh host at random hall in 2006?
[06:35:27] <eevee> nope, i bailed on post-secondary in 2005
[06:35:31] <carter> ok
[06:35:33] <carter> nevermind
[06:35:36] <carter> different person
[06:36:27] <carter> pardon
[06:36:36] <carter> guacamole: microbenchmarks tell very little
[06:37:56] *** Joins: jyyou (jyyou@moz-47B052FA.cs.nctu.edu.tw)
[06:38:57] <carter> and i say this as someone who microbenchamrks :O
[06:39:33] *** Joins: flabbergaster (Mibbit@DD53B3C0.FDB1084A.268E2EF2.IP)
[06:41:20] <aatch> guacamole, it's a matter of what you're doing. The system you use will (or at least should) be influenced by the problem domain you are solving.
[06:41:29] <carter> yeah
[06:41:52] <carter> like one problem with jvm vs not jvm benchmarking is that to make it "fair" i think they' remove the jvm warm up time
[06:42:22] <aatch> So Go is really good at really fast async IO. This makes it amazing a front-end for systems that experience many concurrent connections.
[06:42:46] <aatch> *amazing for*
[06:43:12] <carter> aatch: i'm really excited to see how GHC fairs on that front once 7.8 lands :)
[06:43:22] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[06:43:40] *** Quits: guacamole (Mibbit@BA13A167.FB5956E3.C7DA06F6.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[06:43:56] <carter> once those benchmarks switch to using ghc 7.8, most of the haskell web frameworks will jump up a large amoutn
[06:44:07] <aatch> carter, I shall take your work for it :D
[06:44:11] <aatch> word*
[06:44:15] * aatch cannot type today
[06:44:16] <carter> aatch: dont :)
[06:44:17] <carter> soke
[06:44:26] <carter> aatch: just bunchmark stuff yourself after 7.8 is out
[06:44:33] *** Quits: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net) (Quit: Taking a nap.)
[06:44:39] <aatch> carter, but I don't even have Haskell installed...
[06:45:02] <carter> thats ok, you can install it once 7.8 is released and packages are all updated to workwith 7.8
[06:45:32] * o11c can't believe there are still languages that aren't compatible between releases ... oh, wait.
[06:45:58] <flabbergaster> carter What is the difference with 7.8?
[06:46:10] <carter> theres a lot of different nice things landing
[06:46:47] <carter> but the object of this discussion is  http://www.reddit.com/r/haskell/comments/1k6fsl/mio_a_highperformance_multicore_io_manager_for/  http://haskell.cs.yale.edu/wp-content/uploads/2013/08/hask035-voellmy.pdf
[06:47:01] <carter> which is a bunch of bottlenecks were removed from the GHC io manager
[06:47:14] <carter> mind you the benchmarks in that paper are out of date now, theres been even more optimziations
[06:47:35] <aatch> carter, nice.
[06:47:50] <carter> theres still plenty of things that aren't done yet for ghc
[06:47:52] *** Quits: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com) (Input/output error)
[06:47:56] <aatch> I'm big on profiling and benchmarking code, I'm a performance nut a lot of the time.
[06:48:08] <carter> aatch: you should check out criterion then :)
[06:48:15] <carter> its probably the nicest benchmarking tool ever
[06:48:18] <aatch> However, I get annoyed at people that don't know how benchmark properly.
[06:48:33] <aatch> Or read too much into the results.
[06:48:57] <carter> i think microbenchmarks are great when you are trying to decide how to implement a primop
[06:49:02] <carter> but yeah
[06:49:22] <carter> aatch: wanna know how i benchmark? you'll love this
[06:49:32] <ChrisMorgan> I should have updated the rust-http benchmarks—I have newer figures which show drastic improvements in Rust's concurrency so that it very conclusively beats node and is getting closer to go for higher  concurrencies.
[06:49:48] <carter> ChrisMorgan: how many cores have you benched on
[06:49:59] <carter> 'cause you'll discover scaling issues with many cores workloads :)
[06:50:15] <ChrisMorgan> carter: only my own dual-core laptop, around six years old.
[06:50:15] <flabbergaster> ChrisMorgan Good Job!
[06:50:28] <aatch> ChrisMorgan, I figured there would be improvements.
[06:50:35] <carter> ChrisMorgan: you should ask someone for benchmarking access to a many core machine
[06:50:50] <ChrisMorgan> flabbergaster: thank acrichto for the performance wins! It's nothing whatsoever to do with rust-http changes in that time.
[06:50:50] <carter> and then benmchark with various numbers of cores in use
[06:50:59] <carter> you may find some intersting scaling patterns
[06:51:10] <ChrisMorgan> derek_c: re. https://github.com/derekchiang/nba-scores/blob/master/main.rs - EEEEEEEEEEEEEEEEEEEEEK!
[06:51:45] <ChrisMorgan> I've heard of indentation of doom (rightward shift of doom? Can't remember the really nice sounding form of it that I heard), but that's just ridiculous!
[06:51:55] <aatch> carter, well I'm pretty sure acrichto (who has done most of the runtime work recently) was looking at benchmarking on a 64-core machine
[06:52:03] <aatch> ChrisMorgan, "rightward drift"
[06:52:16] <ChrisMorgan> Ah, that's it. The rightward drift of doom.
[06:52:19] <eevee> oh goodness
[06:52:33] <carter> eek, someone needs do notation / monads stat
[06:52:53] <carter> can do notation be faked with the macros rust has now?
[06:53:32] <ChrisMorgan> Macros is one straightforward way which would fix it.
[06:53:33] <aatch> carter, or just take advantage of the fact that Rust is actually imperative instead of faking it with do notation.
[06:53:52] <aatch> mutable variables!
[06:54:02] <carter> aatch: that doesnt help with this nested matching i think
[06:54:23] <kvanb> should I be using rustpkg to build an exe if I start a new project
[06:54:44] <kvanb> ie, rustpkg init
[06:54:47] <carter> aatch: anyways the way I benchmark my code is I look at how much slower it is than blas / lapack :)
[06:54:56] <aatch> carter, heh
[06:55:04] <carter> aatch: it keeps me honest
[06:55:21] *** Quits: brson (brson@6A848D32.C1B840DD.76F66111.IP) (Quit: leaving)
[06:55:37] <tautologico> but what version of blas/lapack?
[06:56:07] <tautologico> reference implementations aren't that efficient
[06:57:05] <carter> tautologico: open blas and atlas using open blas
[06:57:05] <carter> :)
[06:57:35] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[06:57:37] <carter> afaik, those are pretty much as fast as you can get thats publically available
[06:57:50] <aatch> carter, anyway, I'm a PHP dev at my day-job (mostly, I do a bit of everything), and me and my colleague found a massive bottleneck in some framework code. A horribly over-engineered cache that was significantly slower than just using a regular hash-map
[06:58:04] <carter> oh?
[06:58:18] <aatch> yeah, decided to implement a LRU cache.
[06:58:38] <aatch> For caching stuff in the *Config* system.
[06:58:42] <aatch> It was mad.
[06:58:59] <tautologico> MKL is freely available on linux if I'm not mistaken (as in free beer, though still proprietary of course)
[06:59:18] <carter> tautologico: my main dev machine right now is a mac
[06:59:31] <tautologico> it's hard to beat a well-tuned LA library like OpenBLAS though
[06:59:32] <carter> tautologico: that said, the folks at continuum analytics owe me hard :)
[06:59:34] <carter> yeah
[06:59:51] <carter> tautologico: i've some pretty high level code that with very little tuning gets within 5-10x
[07:00:42] <aatch> anyway, we replaced it with a regular hash-map based cache and with a little tuning managed to get it drop completely off the profile and net a ~30% performance win.
[07:01:02] <carter> neat
[07:01:05] <aatch> I was just so mad that the person that wrote the original code didn't bother to even profile the code.
[07:01:32] <aatch> We found it because it added ~1,000,000 calls to `in_array` to the profile
[07:02:09] <carter> tautologico: at least last time i compared my high leevel stuff, i my naive using my tools matrix mult was within 5-10x of open blas DGEMM on square matrices over a large range of sizes
[07:02:10] *** Quits: flabbergaster (Mibbit@DD53B3C0.FDB1084A.268E2EF2.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[07:02:15] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[07:02:35] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[07:04:38] *** Joins: rrust (Mibbit@DD53B3C0.FDB1084A.268E2EF2.IP)
[07:04:48] * ChrisMorgan was cutting that rightward drift of doom down to shape and as he began his dad passed and observed. "Anything that has that much indentation is broken," he said.
[07:06:07] <rrust> Is Rust appropriate for writing a GUI lib?
[07:06:19] <carter> tautologico: whats your numericla hacking in?
[07:07:10] <aatch> rrust, I hope so, I'm working on a native X11 impl at the moment.
[07:07:11] *** Quits: LimeBurst (me@247D1419.D73964AC.27A8748.IP) (Ping timeout)
[07:07:45] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Client exited)
[07:08:02] <tautologico> carter: you mean language?
[07:08:41] <carter> or problem domain
[07:08:53] *** Quits: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net) (Ping timeout)
[07:09:11] <rrust> aatch good
[07:09:14] <tautologico> optimization problems, machine learning, that kind of stuff
[07:09:18] <carter> cool
[07:09:38] <carter> i'm releasing some cute array libs soon that i hope to enable nice experimentation in that space
[07:10:29] <ziad> ChrisMorgan, watch, so what would be a better way to refactor https://github.com/derekchiang/nba-scores/blob/master/main.rs ?
[07:10:43] <ziad> without do notation (for the moment?)
[07:11:27] <ChrisMorgan> No need for do notation at all.
[07:11:32] <carter> .unwrap? 
[07:11:41] <ziad> unwrap() crashes if None, right?
[07:12:00] <ziad> unwrap_or_else()?
[07:12:12] <carter> well, your'e calling fail anyways..
[07:12:17] <ziad> in this case, yes
[07:12:21] <tautologico> SciRust was kinda nice, but it's horribly outdated
[07:12:23] <ziad> what if we don't want it to fail though
[07:12:27] <aatch> carter, just what I was going to say.
[07:12:43] <carter> ziad: monads are nice because they handle that :)
[07:12:53] <carter> write a monadic bind just for Option types
[07:13:22] <carter> bind :: Option a -> (a -> Option b)-> Option b
[07:13:27] <aatch> carter, yes, yes, Haskell is very clever with it's monad support.
[07:13:37] <carter> bind doesn't require any special suport :)
[07:13:46] <carter> its do notation that does
[07:13:47] <ChrisMorgan> ziad, derek_c: https://gist.github.com/chris-morgan/0704438c5d3126d1a597
[07:13:59] <carter> tautologico: yeah, i don't care about any preexisting array libs :)
[07:14:09] <tautologico> generic bind needs higher-kinded types
[07:14:15] <carter> yindeed
[07:14:20] <carter> hence the optionbind type :)
[07:14:24] <aatch> carter, I'm pretty sure that there's a method on Option that does something similar though.
[07:14:34] <carter> ok, cool, i'm still a new person :)
[07:14:52] <ziad> hmm, how is the option bind that carter wrote different from a "generic" bind?
[07:15:01] <carter> i wrote Option instead of m :)
[07:15:04] <ziad> and HKTs are post Rust 1.0?
[07:15:32] <carter> tautologico: i've got a pretty neat design that i think will work out really nice array lib for haskell, and I'm learnign rust so i can see if i can adapt the design ideas to rust
[07:15:46] <aatch> ChrisMorgan, you missed the ']' on the feature crate attr
[07:15:51] <ChrisMorgan> aatch: already fixed
[07:16:11] <ziad> ChrisMorgan -- better than the original, but still drifts way too much :)
[07:16:20] <ChrisMorgan> ziad: as noted, it's only partially done
[07:16:26] <ziad> gotcha
[07:16:38] <tautologico> carter: cool
[07:16:40] <ChrisMorgan> I've just given the form of the improvement that can be made—I need to go just about now.
[07:16:54] * ChrisMorgan discovered a rustc bug on his tablet: ICE when linking if cc ain't there
[07:17:03] <carter> tautologico: i spent a year figuring out how to make writing good memory lcoality code easy and accidental
[07:17:05] <ChrisMorgan> (Fresh distro installation, hadn't installed it yet.)
[07:17:34] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[07:17:43] * ChrisMorgan will report that a bit later
[07:17:45] <tautologico> carter: do know FLAME?
[07:17:47] <carter> tautologico: the only reason i know i'm not a crazy person is because when I talk to people who write gpu compilers  / DSL libraries, they get excited aboutthe ideas
[07:17:51] <carter> tautologico: yeah
[07:19:14] <ziad> carter: I'm still trying to grasp monads. What did you mean when you wrote Option::bind vs a "generic" bind?
[07:19:20] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[07:20:38] *** Joins: Blei (philipp@moz-B2F9E4BD.cust.bluewin.ch)
[07:20:42] <carter> generic_bind :: Monad m => m a -> (a -> m b) -> m b
[07:20:59] <carter> vs  option_bind :: Option a -> (a-> Option b) -> Option b
[07:21:28] *** Quits: dcrewi (david@moz-AB8667CE.gyrae.net) (Ping timeout)
[07:21:35] <aatch> There is a timeshare business in my country called 'Monad'
[07:21:47] <rrust> Has somebody experience meta-programming in Rust?
[07:22:13] <rrust> Has somebody experienced with meta-programming in Rust?
[07:22:24] <ziad> carter: thanks
[07:22:47] <aatch> rrust, Rust only has macro-by-example macros for meta-programming.
[07:23:15] <carter> tautologico: reading some ot the newer FLAME papers rightnow
[07:23:30] <rrust> rrust, generic?
[07:24:25] <aatch> rrust, what do you actually want to do?
[07:24:27] <ziad> carter: so something like this https://github.com/mozilla/rust/blob/master/src/libstd/option.rs?source=c#L167
[07:24:46] <carter> nah
[07:24:53] <ziad> actually it's not there
[07:25:09] <ziad> it's like map(), but it takes a |T| -> Option<U>
[07:25:10] <carter> thats more like option :: Option a -> b -> (a-> b)-> b
[07:25:11] <tautologico> carter: the FLAME people will do a MOOC on linear algebra starting January
[07:25:13] <rrust> I want find a metaprogramming language. aatch
[07:25:24] <carter> tautologico: i'm reading their blis paper
[07:25:27] <carter> my stuff is more generally :)
[07:25:29] <ziad> maybe we can add it to the standard lib
[07:25:29] <carter> *general
[07:25:38] <tautologico> I think they will use flame in the course
[07:25:45] <carter> tautologico: cool
[07:25:52] <aatch> rrust, Well if that's your only criteria, try a LISP
[07:25:57] <carter> tautologico: i have areally really nice way to add new matrix formats 
[07:26:25] <ziad> carter: https://github.com/mozilla/rust/blob/master/src/libstd/option.rs?source=c#L236
[07:26:36] <rrust> aatch, ok, I want to find a fast metaprogramming language.
[07:26:37] <carter> ziad: i'm really ignorant about rust :)
[07:26:37] <aatch> ziad, yep
[07:26:42] <ziad> cool!
[07:26:50] <kvanb> Just thought i'd say the rustpkg documentation is seemingly terrible
[07:26:55] <ziad> just wanted to see if we had it in the std lib
[07:27:03] <aatch> rrust, those two things are kinda at odds with each other.
[07:27:36] <aatch> Depending on what exactly you want to do.
[07:27:43] <rrust> D or rust or nimrod, who is better at meteprogramming
[07:27:47] <rrust> ?
[07:28:10] <aatch> rrust, well D is better than Rust for metaprogramming. I can't say about Nimrod though.
[07:28:23] <carter> tautologico: thanks for the nudge, 
[07:28:34] <carter> reading the recent flame stuff makes me even mroe excited about my stuff :)
[07:29:43] <carter> happy hacking
[07:29:44] <carter> 'm off
[07:29:51] <rrust> aatch, thx. what's the differentce between D and LISP in metaprogramming?
[07:30:09] *** Quits: lpy (lpy@7360AA58.F09091A8.1348A864.IP) (Ping timeout)
[07:30:12] <aatch> rrust, well D can only do it at compile time.
[07:30:30] *** Joins: lpy (lpy@D4DF2483.F09091A8.1348A864.IP)
[07:30:49] <aatch> And it more limited. Lisp allows you to write entire new language constructs.
[07:30:59] <bjz> heh
[07:31:20] <aatch> Lisp is the epitome of metaprogramming.
[07:31:27] <rrust> aatch. You mean we can use lisp to write an interpreter and D not.
[07:31:31] <bjz> D has powerful static code generating
[07:31:40] <bjz> *generation
[07:32:01] <bjz> powerful enough that h3r3tic made a raytracer that worked at compile time
[07:32:41] <aatch> rrust, well just "interpreter", then technically any language that accepts input can be an interpreter. If you mean "meta-circular interpreter" (which I still don't know what that really it), then I don't know, but probably.
[07:32:46] <rrust> bjz, macro of Rust can do some static code generating, right?
[07:32:57] <bjz> rrust: no
[07:33:29] <bjz> rrust: macros don't understand the type system, or can do calculations or conditionals
[07:33:52] <bjz> rrust: macros are great, but they're just AST transormations
[07:33:53] <rrust> aatch, thx. 
[07:34:16] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[07:35:04] <rrust> bjz, so you mean the macro of Rust and Nimord can not do really metaprogramming ( write a DSL)?
[07:35:30] <bjz> rrust: D uses ducktyped templates like in C++ though, so it shares the same enormous error explosions
[07:36:14] <rrust> bjz. so D's meteprogramming is unsafe.
[07:36:22] <bjz> it is safe
[07:36:47] <bjz> just breaks in obscure ways and doesn't give you good errors
[07:36:56] *** Joins: victorporof (victorporo@18CBE5E4.20A86B53.2B3D3D4.IP)
[07:37:06] <bjz> when you use a templated thing incorrectly
[07:37:17] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[07:37:38] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[07:37:40] <rrust> bjz. ok, then how do we metaprogramming in Rust?
[07:37:53] <ziad> bjz: someone also wrote a compile time ray tracer with C++ templates
[07:38:02] <bjz> we can do metaprogramming with macros, but it's limited
[07:38:15] <ziad> are there any plans for Rust to have compile time code execution?
[07:38:17] <aatch> ziad, D templates are about as powerful as C++ ones.
[07:38:24] <ziad> constexpr, etc
[07:38:28] <bjz> ziad: I believe so
[07:38:31] <aatch> ziad, I think so.
[07:38:33] <ziad> very nice
[07:38:45] <ziad> but not before 1.0 I presume?
[07:38:50] <aatch> There's not real reason not to other than them being a low-priority feature.
[07:39:02] <aatch> ziad, probably not.
[07:39:12] <bjz> ziad: I hope so. also parametising types with constants
[07:39:12] <aatch> I'm not sure what the stance is though, so they might accept a PR.
[07:39:20] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[07:39:59] <rrust> bjz. besides, can we use ML to do metaprogramming?
[07:40:01] <aatch> constant-parameterized types might be held off on 'til post-1.0 though, given the impact on the typesystem that'd have.
[07:40:04] <bjz> aatch: I think it would be a tough PR to accept, seeing as they probably don't want to introduce more potentially buggy stuff.
[07:40:15] <bjz> rrust: ML?
[07:40:30] <rrust> bjz. say Ocaml, haskell?
[07:40:40] <ziad> aatch: but it would still have to be backward compatible right?
[07:40:51] <bjz> rrust: no, they are limited in the same way too
[07:40:54] <ziad> even post 1.0
[07:41:06] <aatch> ziad, which constexpr-style things or constant parameters?
[07:41:21] <aatch> Because I'm pretty sure both are backwards compatible.
[07:41:28] <ziad> the former, I don't know what you mean by constant parameters
[07:41:33] <aatch> Which is why they are post-1.0 things.
[07:41:42] <ziad> can you give an example?
[07:41:46] <rrust> bjz. So, only LISP can do a unlimited metaprogramming, right?
[07:41:47] <aatch> ziad, you know the type [T..n]? A fixed size array?
[07:41:54] <ziad> yes
[07:41:55] <bjz> ziad: like say I want to parameterise a matrix with a number of rows and columns
[07:42:07] <aatch> Well that 'n' is part of the type in Rust.
[07:42:16] <bjz> ziad: Matrix<3, 4, T>
[07:42:18] <ziad> ah, so right now I can't do Matrix<3, 4>?
[07:42:24] <ziad> like in C++
[07:42:31] <aatch> However, there's no way to parameterize over that.
[07:42:35] <aatch> ziad, correct.
[07:42:39] <ziad> I see
[07:43:07] <aatch> Since Rust doesn't have templates, it has generics (which seems to trip some C++ programmers up)
[07:43:35] <ziad> I suppose macros can be used to get around that at this time though
[07:43:40] <bjz> rrust: various languages do different kinds of metaprogramming. The good thing about template metaprogramming for static, optimising compilers is that the flatten down into very efficient code.
[07:44:19] <aatch> ziad, to some extent, yes.
[07:44:30] <bjz> rrust: so If I had a Matrix<3, 4, T>, it would generate a single matrix implementation as if I had written it out by hand
[07:45:14] <kvanb> are there any good examples of how to setup an exe for rustpkg
[07:45:34] <kvanb> rustpkg is erroring out with something cryptic like "task '<unnamed>' failed at 'assertion failed: pkg_src.start_dir.join(p).exists()', /Users/kvanb/rust/src/librustpkg/lib.rs:535"
[07:46:32] <bjz> rrust: I don't know of any lisps that do compile time code generation like C++ or D, but there might some. not saying C++ or D do it well, just that they are the standard to beat when it comes to zero cost abstraction
[07:46:47] <bjz> kvanb: rustpkg is a pain
[07:46:57] <bjz> kvanb: just use makefiles :P
[07:47:14] <bjz> kvanb: jack is working through a series of tutes
[07:47:30] <kvanb> mhm
[07:47:42] <bjz> kvanb: I'm going to be moving my stuff back to makefiles when I get the chance
[07:47:44] <rrust> bjz. thank you. I know that Danial has written a language framework named mini-kanren, can it be written in Rust?
[07:48:13] <bjz> rrust: I thoght that was a logic dsl thing?
[07:48:33] <rrust> bjz. yes
[07:48:34] <bjz> rrust: which Daniel?
[07:48:47] <rrust> bjz, Friedman
[07:49:19] <bjz> oh him! :P
[07:49:32] <bjz> yeah, the reasoned schemer fellow
[07:49:34] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[07:49:41] <rrust> yes.
[07:49:44] * bjz has 'the little schemer'
[07:49:46] *** Joins: Ms2ger (Ms2ger@8B85F0F7.C5F25A2D.F15B0BB3.IP)
[07:49:56] <kvanb> can you still bench and test using makefile
[07:49:57] <bjz> are you interested in doing something for rust?
[07:50:00] <kvanb> +s
[07:50:09] <bjz> kvanb: yeah, that's in rustc
[07:50:20] <bjz> rustc --test blah.rs
[07:50:22] <rrust> yes bjz. I want to copy a mini-kanren.
[07:50:37] <bjz> rrust: nice, that's super exciting
[07:51:21] <rrust> bjz. but I am a newb.
[07:51:40] <bjz> there's only one way you learn
[07:51:59] <rrust> bjz what way?
[07:52:10] <bjz> porting projects is a good way of playing with a language
[07:52:17] *** ben is now known as socksy
[07:52:33] <bjz> or re-writing/designing stuff to fit with a different language's semantics
[07:53:00] <bjz> kvanb: http://metajack.im/2013/12/12/building-rust-code--using-make/ http://metajack.im/2013/12/19/building-rust-code--using-make-part-2/
[07:53:22] <bjz> kvanb: I believe jack is then going to do one on using CMake
[07:53:49] *** Joins: fyolnish (fyolnish@4584A6C2.9770FC71.D680B01C.IP)
[07:54:01] <rrust> bjz. Thanks for teaching.
[07:54:26] <bjz> rrust: about the metaprogramming stuff?
[07:54:44] <rrust> yes
[07:54:50] <bjz> no worries
[07:54:55] <bjz> it's super cool
[07:55:33] <aatch> I use `tup`.
[07:55:36] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[07:55:41] <aatch> It's actually pretty damn cool.
[07:55:44] <bjz> aatch: tup?
[07:55:56] <rrust> my worries rest in my metaprogramming skills and the way of Rusty metaprogramming.
[07:55:58] <olsonjeffery> bjz: https://www.youtube.com/watch?v=6WPm2mOZuQI&feature=youtu.be
[07:56:13] <aatch> bjz, yep, jack actually mentioned it.
[07:56:23] <kvanb> bjz: cheers
[07:57:00] <aatch> It watches the filesystem for changes and uses fuse to find dependencies based on the files the tools read.
[07:57:39] <aatch> So for C/C++ it will automatically infer header file dependencies.
[07:57:58] <Blei> how does fuse do that?
[07:58:08] <Blei> olsonjeffery: very cool!
[07:58:35] <olsonjeffery> thanks
[07:58:36] <aatch> Blei, it uses fuse to make a shadow filesystem so it can see all the reads and writes that happen to it.
[07:59:02] <olsonjeffery> now for important stuff, like adding sprite fonts
[07:59:06] <bjz> rrust: focus on the code first. metaprogramming second
[07:59:17] <olsonjeffery> and serializing the world.
[07:59:26] <Blei> aatch: interesting... i'll have to check it out
[07:59:29] <rrust> bjz. ok.
[07:59:40] <kvanb> bjz: cheers
[07:59:44] <kvanb> oh, already sent that
[07:59:47] <kvanb> I thought I hadnt
[08:00:07] <bjz> rrust: metaprogramming is amazing for reducing the complexity and size of your code, but at the end of the day it is 'code generation' so you can just write the generated code yourself :P
[08:00:29] <bjz> http://gittup.org/tup/
[08:01:02] <aatch> bjz, yep.
[08:01:04] *** Joins: andreypopp (andreypopp@moz-7261DC60.net)
[08:01:22] <aatch> The 'Tup vs. Mordor' page is amusing.
[08:01:27] <bjz> aatch: so might it be better to move my things to tup rather than make?
[08:01:51] <aatch> bjz, well for Rust it matters less.
[08:03:13] *** Quits: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net) (Connection reset by peer)
[08:03:42] <rrust> bjz. so my brain is the code generator:)
[08:05:03] <bjz> rrust: it might make sense to think of metaprogramming as 'programs that generate programs'. I have a program that generates an opengl function generator based on the opengl spec. but some languages can actually integrate the code generation into the language itself
[08:05:53] <aatch> rrust, heh, yes. There's also the option I've taken for my project which is writing a program that generates rust code.
[08:06:13] <aatch> like bjz did.
[08:06:17] <bjz> aatch: heh, indeed
[08:06:37] <aatch> Mine is converting descriptions of the X11 protocol into Rust code.
[08:06:45] <aatch> Though I've only just finished the parser.
[08:07:01] * aatch is shaving many yaks for this project
[08:07:19] <bjz> :D
[08:07:40] <rrust> aatch. bjz.  so you use a rust programs do the generator.
[08:08:19] <rrust> aatch. bjz. so you use rust programs to do generators.
[08:08:20] <bjz> I think the capnproto data interchange format uses code generation for speed too, but not sure
[08:08:21] <bjz> https://github.com/dwrensha/capnproto-rust
[08:08:30] <bjz> (the rust version)
[08:08:44] <aatch> I do, especially since it parses a relatively complex text file format.
[08:08:56] <bjz> rrust: well, that's one way of doing things. but it's not very flexible for client coode
[08:08:59] <bjz> *code
[08:10:15] <aatch> rrust, mine and bjz's projects use codegen as part of the build process more than being part of the API.
[08:10:45] <bjz> rrust: like, say I had a linear algebra library that generated fixed sized NxM matrices. I would have to generate a huge amount of code for that. that's why language support is important
[08:11:32] <rrust> but you just said that the metaprogramming support of rust is limited.
[08:11:38] <bjz> it is.
[08:12:17] <bjz> just showing you the world, but then telling you that Rust can't do that (yet)
[08:12:25] <bjz> :P
[08:12:52] <rrust> I don't know, even Ruby has a mini-kanren version.
[08:13:05] <bjz> why did you ask about metaprogramming in the first place. was it to do with minikanren?
[08:13:37] <bjz> oh, Ruby is exellent for metaprogramming, but it does it in different ways
[08:13:39] <rrust> ok, may not, what I should do is a interpreter
[08:13:59] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[08:14:06] <olsonjeffery> i would love for rusti to return
[08:14:12] <olsonjeffery> i miss it so :/
[08:14:16] <bjz> there is also a Haskell logic thingy inspired by minikanren
[08:15:02] <rrust> I just first writer an interpreter in Rust, which is of no relationship of meta-programming
[08:15:13] <bjz> yeah
[08:16:10] <rrust> thank aatch, bjz...
[08:16:28] <aatch> rrust, writing an interpreter for a simple language is a pretty good way to learn.
[08:16:35] <bjz> yeah
[08:16:39] <bjz> ADTs are nice
[08:16:46] <aatch> Since you get to work with most/all parts of the language.
[08:16:55] <bjz> aatch: minikanren, is pretty crazy though
[08:17:10] <aatch> Also, Rust is amazing for hand-implementing parsers.
[08:17:28] <rrust> about 1k lines of code.
[08:17:40] <bjz> aatch: it's the ML heritage :D
[08:17:52] <eevee> if pegex ever comes into existence i want to implement it in one big rust macro
[08:17:58] <bjz> ohey, Lindsey Kuper is mentioned on the minikanren site: http://lindseykuper.livejournal.com/345176.html
[08:18:09] <bjz> http://minikanren.org/
[08:18:11] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[08:18:41] <bjz> rrust: the Rust one might be a little more verbose :D
[08:19:32] <aatch> Since enums are pretty much tagged unions and the traditional implementation of tokens is a tagged union.
[08:19:50] <bjz> yup
[08:19:56] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Ping timeout)
[08:20:32] <rrust> less verbose than python or so
[08:20:48] <bjz> I liked what strcat said once, "ADTs are like mini dynamic type systems"
[08:21:25] <bjz> https://github.com/miniKanren/miniKanren/blob/master/mk.scm
[08:21:51] * bjz has never understood why they use such weird names
[08:22:15] *** Quits: mark_edward (quassel@96AA16C1.78A885A5.FA72ABB8.IP) (Ping timeout)
[08:22:16] <rrust> 784 lines of scheme, 1k rust code?
[08:22:28] <bjz> symbolo, numbero, booleano?
[08:22:46] <bjz> rrust: 3500 maybe?
[08:22:56] <aatch> bjz, yeah. Every time I think about using trait objects, I stop and think "could I use an ADT instead?"
[08:23:09] <bjz> aatch: expression problem
[08:23:29] <aatch> bjz, expression problem?
[08:23:40] <bjz> rrust: you might need some infrastructure surrounding it to make it works in the static type system
[08:23:45] <rrust> aatch can every trait of Rust be replaced by ADT?
[08:24:12] <aatch> rrust, trait objects are how Rust does runtime polymorphism.
[08:24:29] <bjz> http://en.wikipedia.org/wiki/Expression_problem
[08:25:08] <bjz> rrust: that's the same with many languages (if they provide both, that is), but either choice has it's own positives and negatives
[08:25:43] <bjz> rrust: the issue is, afaik, you can only have either one or the other, so that's why it's a 'problem'
[08:26:20] <bjz> rrust: but your even more screwed if your language doesn't support one of them. that leads to lots of the crazy design patterns in javaland
[08:26:55] <aatch> bjz, ah right. Yeah, basically I boil it down to a decision between extensibility and efficiency.
[08:27:01] <bjz> yep
[08:27:17] <aatch> Often I don't need it to be extended from outside.
[08:27:27] <bjz> and API stability too, which I guess is extensibility. and refactorability
[08:28:02] <aatch> bjz, though using traits as trait bounds can help with the last one without changing anything else.
[08:28:11] <bjz> yes
[08:28:38] <rrust> bjz, what surroundings should I add in the static type system?
[08:28:52] <bjz> but it also leads to scattering out related bits of logic around your codebase
[08:29:17] <bjz> rrust: dunno
[08:29:27] <aatch> bjz, programming is hard :/
[08:29:52] <bjz> aatch: that's why we constantly work to improve our methods of abstraction. CS ftw!
[08:30:42] <bjz> rrust: but I've found that quite a bit when porting dynamic stuff. I still prefer the statically typed versions even when they are larger because it's clearer what is going on
[08:30:50] <aatch> bjz, yeah, some people get the wrong idea though and make AbstractFactoryFactorys
[08:31:23] *** Quits: lpy (lpy@D4DF2483.F09091A8.1348A864.IP) (Ping timeout)
[08:31:43] <rrust> aatch such patterns are like interpreters.
[08:32:05] *** Quits: fyolnish (fyolnish@4584A6C2.9770FC71.D680B01C.IP) (Quit: Bye)
[08:32:24] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Quit: Leaving...)
[08:32:30] <rrust> aatch do some work that interpreters should do
[08:32:50] <aatch> rrust, I'm not sure what you're trying to say.
[08:32:50] <bjz> aatch: well, as I said before AbstractFactoryFactorys normally come about because Java is statically typed and yet lacks a key tool for abstraction: ADTs and pattern matching
[08:33:07] <bjz> aatch: not sure about AbstractFactoryFactorys in particular
[08:33:26] *** Joins: lpy (lpy@D4DF2483.F09091A8.1348A864.IP)
[08:33:30] <aatch> bjz, I was being somewhat faeceitious.
[08:33:32] <bjz> aatch: I think it's more to do with other design patterns
[08:33:37] <bjz> hehe
[08:33:39] <bjz> :D
[08:34:12] <aatch> bjz, I think the over-abstraction is just mediocre programming to be honest.
[08:34:31] <bjz> aatch: yeah, that can happen in any language
[08:34:46] <bjz> I am very much a medicore programmer as well :P
[08:34:56] <aatch> bjz, yep, Java just has *a lot* of code out there, so it's easy to find.
[08:35:51] <rrust> bjz, are you working in Rust Team?
[08:36:03] <aatch> Especially considering it's popularity in academia (compared to, say, Python or C++), which filters down to what gets taught at universities.
[08:36:32] <bjz> I would argue it's still symptomatic. Java has good parts, but its lack of expressivity in conjunction with a crude static type system leads to that kind of code bloat.
[08:36:46] *** Quits: andreypopp (andreypopp@moz-7261DC60.net) (Client exited)
[08:36:56] *** Joins: andreypopp (andreypopp@moz-7261DC60.net)
[08:37:22] <aatch> bjz, oh yeah, I agree with that too.
[08:37:25] <bjz> aatch: isn't it more 'popularity with uni administration and employers'?
[08:37:30] <bjz> :P
[08:37:36] *** Quits: bmu (chatzilla@moz-A87574A6.hsd1.pa.comcast.net) (Ping timeout)
[08:38:11] <aatch> bjz, half the CS papers I read have all the code either in Java or in a pseudo-language suspiciously similar to Java.
[08:38:20] <bjz> really?
[08:38:40] <bjz> most of mine are in ML/Haskell pseudo code
[08:38:47] <aatch> Yeah, ones that are more about algorithms tend to be in Java.
[08:38:47] <eevee> i haven't read a whole lot of CS papers but i've seen the same yeah
[08:38:51] <eevee> far more than half i think
[08:38:58] <bjz> maybe sometimes imperative psuedocode
[08:39:03] <aatch> Type stuff is mostly ML/Haskell
[08:39:09] <eevee> "i invented this fancy new parser.  here's some pseudocode: <java code>.  also i tested it by writing a java parser."
[08:39:10] <bjz> what kind of papers do you read then?
[08:39:14] <eevee> i have read at least three papers that do this
[08:39:22] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[08:39:50] <bjz> I guess it depends on the sub-field
[08:40:00] <aatch> I remember my colleague having to teach himself SML so he could understand the papers he was reading for his honours course.
[08:40:15] <aatch> His project was type-theory related.
[08:40:20] <bjz> Yay SML
[08:40:36] <aatch> I tend to read more about lock-free datastructures & algorithms.
[08:40:43] <bjz> ahh
[08:40:44] <aatch> So seems to be the split there.
[08:41:10] <bjz> is lock-free data structures part of shared state concurrency?
[08:41:21] <aatch> Which matches eevee's experience, parsers being algorithms+data structures.
[08:41:33] <aatch> bjz, I would assume so.
[08:41:49] <bjz> aatch: yeah, that heads into Javaland
[08:42:28] <bjz> aatch: Java is the big shared state concurrency lang (from what I have gathered, not first hand)
[08:42:49] <aatch> bjz, it gets very annoying when they rely on the garbage collector to avoid memory leaks though.
[08:42:55] <bjz> heh
[08:43:12] <aatch> I'm like "I can't Rust all this code!"
[08:43:42] <bjz> eevee: I think I might have some selection-bias when it comes to parser papers - I must skip the javatastic ones
[08:44:38] <derek_c> ChrisMorgan: still here?
[08:44:39] <bjz> aatch: now you must write a paper showing all the inefficiencies/problems you found whilst porting their stuff to Rust
[08:45:02] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[08:45:11] *** Quits: vk (chatzilla@moz-4F2E17BF.dsl.dynamic.sonic.net) (Quit: ChatZilla 0.9.90.1 [Firefox 27.0/20131216183647])
[08:45:30] <aatch> bjz, but that means I'd have to actually write a paper.
[08:45:37] <bjz> haha, yup
[08:45:45] <aatch> I dropped out of uni to avoid that!
[08:45:45] <bjz> blog post?
[08:45:58] <bjz> when did you drop out?
[08:45:58] <aatch> (not really, I actually plan on going back at some point)
[08:46:03] <bjz> oh
[08:47:00] <aatch> bjz, a few years ago. I wasn't doing well, was piss-broke, sliding into depression. I needed a change so I got a full-time job where I am now and just didn't re-enrol.
[08:47:10] <bjz> uni is a pain
[08:47:27] <aatch> I blame my then-undiagnosed ADHD.
[08:47:45] *** Quits: KindOne (KindOne@moz-BEDB10AE.dynamic.ip.windstream.net) (Ping timeout)
[08:48:47] <bjz> well several years back a uni course triggered of some Bipolar in me :D
[08:49:03] *** Joins: bheylin (textual@moz-8255E94E.adsl.online.nl)
[08:49:38] <bjz> aatch: how is the job going?
[08:50:51] <aatch> bjz, really well.
[08:51:20] <aatch> It's how I managed to get involved with HHVM
[08:51:22] <bjz> where do you work?
[08:51:27] *** Joins: KindOne (KindOne@moz-F293D7F3.dynamic.ip.windstream.net)
[08:51:29] <bjz> HHVM?
[08:51:37] <aatch> bjz, tiny startup called PocketRent.
[08:51:41] * o11c is trying to force his way through one last semester
[08:51:45] <aatch> HipHop Virtual Machine
[08:52:03] <bjz> ah
[08:52:04] <aatch> o11c, you can do it!
[08:52:33] * bjz is trying to finish half of first semseter
[08:52:51] <o11c> I almost failed this semester ... I mean, it's senior year, shouldn't they be actually teaching something by now?
[08:52:59] <bjz> ack :(
[08:53:12] <aatch> I still want to do some sort of researchy project, hence going back to University.
[08:53:38] <bjz> o11c: failing out of apathy?
[08:53:38] <o11c> there's no way *I* am going for grad school, they took enough of my money for undergrad
[08:53:48] <aatch> o11c, sounds like my experience... I got in an argument with a guest lecturer about Agile Programming.
[08:53:54] <aatch> mid-lecture
[08:53:58] <bjz> o11c: are you in that horrid american place?
[08:54:08] <bjz> o11c: no govenment assistance?
[08:54:25] * aatch gets interest-free student loans
[08:54:31] <bjz> yup
[08:54:48] <o11c> my parents have that awkward amount of income where we don't qualify for any signficant amount of money but we can't afford to pay for college out-of-pocket
[08:54:55] <bjz> <3 western countries (most of them at least)
[08:55:03] <aatch> o11c, hey, that's like my parents
[08:55:11] <bjz> oh bugger
[08:55:13] <rrust> bjz, do you know why Racket uses many memory than say go and rust in runtime?
[08:55:31] <o11c> and now that my grades are not doing so well I don't get as many scholarships
[08:56:00] <bjz> rrust: it's a dynamically typed language, probably with lots of indirection
[08:56:11] <bjz> rrust: not sure if it's jitted even
[08:56:20] <aatch> At one point both me and my mother were in tertiary study (my mum was studing Nursing) and I qualified for student allowance and she didn't
[08:57:28] <o11c> rrust: languages that say "everything is an object" automatically use about twice as much memory ... double again if they use dicts/maps/tables for memory instead of slots/arrays
[08:58:02] <bjz> o11c: it's more to do with if they have an optimising compiler, no?
[08:58:20] <bjz> o11c: and unboxed data types
[08:58:31] <aatch> I know that from experience, working on a PHP VM. At least HipHop has a JIT and some fancy tricks to lower memory usage.
[08:58:32] <rrust> o11c, oh, and lazy evaluation use twice as well.
[08:59:52] *** Quits: z0w0 (zack@D80AA51.4F58607A.2CE63F58.IP) (Ping timeout)
[08:59:57] <bjz> o11c: oh I guess you might be right
[09:00:18] <aatch> Stuff like having slots *and* a map helps, especially if you lazily allocate the map, so it only takes up 1 pointer worth of size in the object.
[09:00:29] <o11c> generally speaking, optimization doesn't affect RAM use (except on the stack)
[09:06:50] *** Joins: awidegreen (awidegreen@moz-82C30824.dip0.t-ipconnect.de)
[09:06:53] *** Quits: rrust (Mibbit@DD53B3C0.FDB1084A.268E2EF2.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[09:07:37] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[09:08:21] *** Quits: Deewiant (deewiant@moz-C015B7F8.iki.fi) (Ping timeout)
[09:09:56] *** Quits: lpy (lpy@D4DF2483.F09091A8.1348A864.IP) (Client exited)
[09:10:23] *** Joins: lpy (lpy@7360AA58.F09091A8.1348A864.IP)
[09:11:35] *** Joins: fournm (Aria@moz-ABB60BA0.austin.res.rr.com)
[09:11:40] *** Quits: fournm (Aria@moz-ABB60BA0.austin.res.rr.com) (Connection reset by peer)
[09:13:27] <derek_c> ChrisMorgan: thanks man! now it's much better: https://github.com/derekchiang/nba-scores/blob/master/main.rs
[09:14:21] *** Joins: rca (rcatolino@moz-F4F5DA13.adsl.proxad.net)
[09:18:08] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[09:19:56] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[09:20:45] <ChrisMorgan> derek_c: that looks much, much better. I'd probably reduce the indentation further by reversing the s == "nba" clause and making it continue—s/if s == "nba" { ... }/if s != "nba" { continue } .../
[09:21:53] *** Joins: jlong (jlong@moz-6DFDE846.socal.res.rr.com)
[09:22:53] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[09:23:58] *** Quits: awidegreen (awidegreen@moz-82C30824.dip0.t-ipconnect.de) (Ping timeout)
[09:25:10] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Quit: Busying myself...)
[09:26:56] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[09:28:38] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[09:30:28] <derek_c> ChrisMorgan: good suggestion! done
[09:31:20] <ChrisMorgan> (The main reasoning there is actually not about indentation as such, but that with it the other way round, you've got to find the other end, a long way down, before you'll understand what it's doing, whereas with continue it's immediately obvious.)
[09:31:58] *** Quits: bheylin (textual@moz-8255E94E.adsl.online.nl) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[09:34:14] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[09:35:15] *** Joins: rootnode_ (rootnode@moz-7FAB5E8.ip1.george24.com)
[09:36:21] *** Quits: rootnode (rootnode@moz-7FAB5E8.ip1.george24.com) (Ping timeout)
[09:36:51] *** Joins: bheylin (textual@moz-8255E94E.adsl.online.nl)
[09:38:01] <rootnode_> http://imgur.com/gallery/pDC1X
[09:38:11] *** Joins: spider-mario (spidermari@moz-81131DB6.fbx.proxad.net)
[09:43:14] <rootnode_> ah sorry, wrong channel
[09:45:48] *** Quits: nielsle (nielsle@moz-C46DA772.boa.fiberby.dk) (Ping timeout)
[09:47:08] *** Quits: gwty (gwtypc@C57D02B0.22CD9E4E.F44414AF.IP) (Ping timeout)
[09:47:32] *** Joins: jaen (jaen@moz-F39AA415.play-internet.pl)
[09:49:10] *** Joins: eddyb (eddy@moz-68E0B7D0.residential.rdsnet.ro)
[09:51:00] <derek_c> ChrisMorgan: that makes sense
[09:51:04] *** Quits: derek_c (derek@moz-8D8DB540.clarityconnect.net) (Quit: Leaving)
[09:51:56] <phil_> jeaye: you got that pull request you asked for
[09:53:05] *** Joins: lhk (nobody@moz-171CEA1.dip0.t-ipconnect.de)
[09:54:52] *** Joins: nielsle (nielsle@moz-C46DA772.boa.fiberby.dk)
[09:56:44] *** Quits: andreypopp (andreypopp@moz-7261DC60.net) (Quit: andreypopp)
[09:57:38] *** Joins: arrrrrrrrr (arrrrrrrrr@moz-BCE2F538.dynamic.qsc.de)
[09:57:49] *** Quits: nielsle (nielsle@moz-C46DA772.boa.fiberby.dk) (Ping timeout)
[09:57:52] *** Quits: lhk (nobody@moz-171CEA1.dip0.t-ipconnect.de) (Client exited)
[09:59:27] *** Joins: nielsle (nielsle@moz-C46DA772.boa.fiberby.dk)
[10:00:38] *** Joins: jackneill (jackneill@moz-C158F899.pool.digikabel.hu)
[10:00:54] *** Joins: canhtak (canhtak@38266F07.7A8E554D.FC900DAF.IP)
[10:01:25] *** Quits: nielsle (nielsle@moz-C46DA772.boa.fiberby.dk) (Ping timeout)
[10:01:28] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[10:01:42] *** Quits: jlong (jlong@moz-6DFDE846.socal.res.rr.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[10:02:46] *** Quits: bheylin (textual@moz-8255E94E.adsl.online.nl) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[10:03:45] *** Joins: nielsle (nielsle@moz-C46DA772.boa.fiberby.dk)
[10:04:46] <ChrisMorgan> Good, now I really know for sure that I can compile Rust code on my tablet once more and know that it all works correctly. Probably marginally faster, too, being armhf rather than armel.
[10:05:37] <eddyb> now we only need a basic game framework that works *everywhere* :P
[10:05:46] <eddyb> like LWJGL for Java
[10:06:20] <eddyb> Rust: corroding market shares away
[10:06:49] *** Quits: nielsle (nielsle@moz-C46DA772.boa.fiberby.dk) (Ping timeout)
[10:12:18] <kvanb> how are the directories supposed to work
[10:12:24] <kvanb> if I do extern mod foo::bar::whatever
[10:12:31] <kvanb> is it in /foo/bar/whatever.rs?
[10:12:49] *** Quits: pepijndevos (pepijndevo@9EACEF43.E50A3180.BCE47D84.IP) (Ping timeout)
[10:13:37] *** Joins: pepijndevos (pepijndevo@9EACEF43.E50A3180.BCE47D84.IP)
[10:13:39] <eddyb> kvanb: .rs files are modules. "extern mod" is an unfortunate naming for "importing" a crate
[10:13:47] *** Joins: nkoep (nik@moz-F4D4643D.pool.mediaways.net)
[10:14:14] <eddyb> which is an external library (the equivalent of .a/.so on linux)
[10:14:47] <eddyb> kvanb: you can either do #[path="foo/bar/whatever.rs"] mod whatever; or construct a proper module tree
[10:14:51] <bjz> and 'crate' is used interchangeably with 'package'
[10:15:09] <bjz> it made more sense when we had the cargo package manager way back
[10:15:26] * bjz now just calls them packages
[10:15:30] <Ms2ger> eddyb, write once, debug everywhere?
[10:15:48] <eddyb> hehe
[10:15:54] <bjz> ChrisMorgan: is that android or ios?
[10:16:11] <ChrisMorgan> bjz: Debian, running inside Android on its Linux kernel.
[10:16:30] * bjz wonders if we will ever get Rust running on PS4
[10:16:33] <eddyb> kvanb: foo would have a mod.rs with "pub mod bar;" in it, bar would have a mod.rs with "pub mod whatever;"
[10:16:35] <ChrisMorgan> bjz: "packages" is not the correct term.
[10:16:41] <ChrisMorgan> bjz: PS4 architecture?
[10:16:42] <bjz> it uses clang/llvm
[10:17:02] <eddyb> x86_64
[10:17:20] <eddyb> they mentioned windows in the LLVM slides, I thought they were going for a FreeBSD derivative
[10:17:21] <bjz> the apis apparently use C++11 though, so they'd have to be wrapped
[10:17:23] <bjz> dunno
[10:17:47] <ChrisMorgan> That shouldn't be too hard (har hardy har har).
[10:17:59] <diverse> eddyb: they went with a custom FreeBSD for ps4
[10:18:05] <bjz> ChrisMorgan: it's not? re pkgs.
[10:18:09] <eddyb> so what's with "windows"?
[10:18:12] <kvanb> hmm
[10:18:22] <bjz> eddyb: they have the toolchain set up for VS
[10:18:37] <eddyb> aaah, the cross-compiler?
[10:18:39] <eddyb> gotcha
[10:18:40] <ChrisMorgan> bjz: there was some accidental mixup recently with the two, but there is at present no concept of packages in the Rust world; they're crates.
[10:18:51] *** Quits: ross (ross@moz-5EA04060.br.br.cox.net) (Quit: )
[10:19:02] <ChrisMorgan> (Hence the intermediate state pkgid and why it was changed to crate_id.)
[10:19:12] <bjz> ChrisMorgan: so is a crate a technical term?
[10:19:22] <eddyb> kvanb: if it's all your code, you want the minimal directory depth that still makes sense - otherwise you'll have a bunch of useless mod.rs files
[10:19:22] <ChrisMorgan> It's Rust jargon.
[10:19:25] <kvanb> so, for constructing a proper module tree
[10:19:26] <bjz> ChrisMorgan: I've never heard it outside rust
[10:19:32] <bjz> oh
[10:19:34] <ChrisMorgan> It is the unit of compilation in Rust.
[10:19:39] <kvanb> oh I have to make mod.rs
[10:19:46] *** Quits: Dessimat0r (Dessimat0r@3258E608.E588CE06.9A579328.IP) (Ping timeout)
[10:20:02] *** Joins: pyon (user@D883E380.480D3EC1.1C8C8CE9.IP)
[10:20:04] <rca> ChrisMorgan: what does rustpkg deal with then? Can you put several crates in a 'thing' managed with rustpkg ?
[10:20:09] <ChrisMorgan> (Realise that jargon is not necessarily a bad thing.)
[10:20:23] <bjz> ChrisMorgan: so Rust does not have packages becuase the unit of compilation is... um... monolithic? (dunno if that's the right term)
[10:20:26] <ChrisMorgan> rca: rustpkg isn't well enough matured for that to be quite evident. Things are still being worked out.
[10:20:43] <diverse> ChrisMorgan: sad thing is, jargon isn't universal
[10:20:45] <eddyb> kvanb: if you include a submodule, for example, and it's not a crate, then you have to use #[path=.... - otherwise, you should go for a module tree
[10:21:18] <ChrisMorgan> Well, packages could potentially be being used to mean broader than crates. From my following of the matter, it really is not decided precisely what these things shall become, but for the moment, there is no such thing as a package.
[10:21:23] *** Joins: lhk (nobody@moz-171CEA1.dip0.t-ipconnect.de)
[10:21:24] <ChrisMorgan> The core team can correct me on that if I'm wrong.
[10:21:39] <kvanb> okay I'll give this a shot
[10:23:47] <eddyb> kvanb: so it doesn't bite you, "mod foo;" "injects" foo.rs or foo/mod.rs into the module tree ("pub" before "mod" to also "export" it) - don't "inject" a certain module more than once
[10:23:59] <kvanb> ok
[10:24:10] <kvanb> and if I had one main.rs somewhere in an ultra root directory
[10:24:19] <kvanb> I could just list every module once there and no longer worry about it?
[10:24:33] <kvanb> even if foo/bar1 depends on foo/bar2 or so on
[10:24:35] *** Quits: nkoep (nik@moz-F4D4643D.pool.mediaways.net) (Quit: Leaving)
[10:24:39] <kvanb> or is that the point of mod.rs in each directory
[10:24:51] *** Joins: Dessimat0r (Dessimat0r@3258E608.E588CE06.9A579328.IP)
[10:25:00] <eddyb> if you have a tree, it makes more sense with a mod.rs for each directory
[10:25:38] <eddyb> so the absolute paths will be foo::bar1 and foo::bar2, instead of bar1 and bar2
[10:26:41] <diverse> or ::foo::bar* incase you don't use 'use'
[10:26:41] <eddyb> also, it's easier for anyone reading your code if there's no #[path="..."] used, because then module paths map to file paths
[10:26:45] <eddyb> yes
[10:29:59] <eddyb> hah, this is a thing https://mail.mozilla.org/pipermail/rust-commits/2013-December/thread.html
[10:31:07] <kvanb> ugh, I cant make it work
[10:31:22] <kvanb> I have main.rs with extern mod test;
[10:31:35] <kvanb> src/test/mod.rs with mod test;
[10:31:40] <kvanb> woops, src/mod.rs
[10:32:05] <eddyb> no extern
[10:32:29] <eddyb> kvanb: where is main.rs?
[10:32:50] <kvanb> oh, I got it dont worry. Now I get a missing module error for the very last branch
[10:32:52] *** Quits: Dessimat0r (Dessimat0r@3258E608.E588CE06.9A579328.IP) (Ping timeout)
[10:33:55] <eddyb> you also need "pub" to make it visible
[10:34:29] *** Quits: lhk (nobody@moz-171CEA1.dip0.t-ipconnect.de) (Client exited)
[10:34:29] <kvanb> blam! got it working
[10:34:36] <kvanb> yeah, its just 1 error after another trial and error
[10:34:39] <kvanb> eventually you get there :P
[10:35:02] *** Joins: gwty (gwtypc@51A75406.75E6295F.27560D6E.IP)
[10:36:40] *** Quits: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net) (Quit: killerswan)
[10:40:24] <kvanb> is it OK to use #[feature(globs)] at the top of files
[10:40:27] <kvanb> and then import ::* ?
[10:40:31] <kvanb> or is there a neater way
[10:41:13] *** Joins: lhk (Mibbit@moz-171CEA1.dip0.t-ipconnect.de)
[10:42:55] *** Joins: Dessimat0r (Dessimat0r@3258E608.E588CE06.9A579328.IP)
[10:45:53] <lhk> hi, im coming from a go background. the lack of essential language features in go has always disturbed me. no generics ! special treatment for built-in collections, ... now i read up rust and am intrigued. the language seems to be perfect. can you recommend a tutorial for learning rust's concurrency mechanisms ? this is most important to me. the rust website 
[10:46:04] <lhk> advertises lightweight threads that communicate with messages
[10:46:17] <lhk> sounds great
[10:46:29] <lhk> but the tutorial doesn't seem to cover this
[10:46:42] <lhk> maybe you can post a link to a nice example or tutorial ?
[10:47:27] *** Quits: lhk (Mibbit@moz-171CEA1.dip0.t-ipconnect.de) (Quit: http://www.mibbit.com ajax IRC Client)
[10:47:37] *** Quits: Dessimat0r (Dessimat0r@3258E608.E588CE06.9A579328.IP) (Ping timeout)
[10:47:58] *** Joins: lhk (Mibbit@moz-171CEA1.dip0.t-ipconnect.de)
[10:48:02] <lhk> sorry
[10:48:08] <lhk> my wlan just disconnected
[10:48:13] <lhk> did i miss something ?
[10:48:35] <diverse> http://static.rust-lang.org/doc/master/tutorial-tasks.html
[10:48:38] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[10:48:47] <diverse> that link is at the bottom of the tutorial
[10:49:04] <lhk> thanks
[10:49:12] <lhk> looks great
[10:49:15] <lhk> ill read it
[10:53:05] <ChrisMorgan> lhk: at present the Rust documentation is quite poor; this is a known issue and will be being improved significantly in the next few months.
[10:55:56] <lhk> ChrisMorgan, that's good to know
[10:56:22] <lhk> the concurrency model of rust looks fantastic
[10:56:24] *** Joins: Dessimat0r (Dessimat0r@3258E608.E588CE06.9A579328.IP)
[10:56:32] <lhk> as far as i can tell now, it's basically the same as in go
[10:56:52] <lhk> but there's one feature that seems to be missing:
[10:56:53] *** Joins: LimeBurst (me@247D1419.D73964AC.27A8748.IP)
[10:57:04] <lhk> in go one can use the select statement to wait on multiple ports
[10:58:03] <arrrrrrrrr> I have to distinguish a subset of the structs which implement a certain trait. This subset is finite and known to me at compile time. Certain functions must not accept objects that aren't of this sub-type. How do I do this?
[10:58:31] <arrrrrrrrr> I'm asking because empty traits aren't allowed.
[10:58:39] <ChrisMorgan> lhk: http://static.rust-lang.org/doc/master/std/comm/select/index.html
[10:58:46] *** Quits: canhtak (canhtak@38266F07.7A8E554D.FC900DAF.IP) (Quit: canhtak)
[11:00:27] <ChrisMorgan> lhk: truth to tell, however, select! is not currently available as it was downgraded from the prelude to that module and macros are not exported. So you can't actually use select! directly, but you can see its implementation at http://static.rust-lang.org/doc/master/src/std/home/rustbuild/src/rust-buildbot/slave/doc/build/src/libstd/comm/select.rs.html#57
[11:00:32] *** Joins: ferminter (Mibbit@moz-4DA0B54B.dynamic.primacom.net)
[11:00:35] <lhk> let's say you have spawned multiple algorithms to approximate some result and just need one solution
[11:00:35] <lhk> you would like to use the solution that was computed first
[11:00:57] *** Joins: lhk2 (Mibbit@moz-171CEA1.dip0.t-ipconnect.de)
[11:01:03] <lhk2> im really sorry
[11:01:08] <lhk2> my wlan disconnected again
[11:01:14] <lhk2> and now my nick seems to be taken
[11:01:18] <arrrrrrrrr> my bad. Empty traits seem to be allowed.
[11:01:18] <lhk2> which is rather strange
[11:01:24] <lhk2> did i miss something ?
[11:01:25] <ChrisMorgan> lhk2: you're still here as lhk
[11:01:30] <ChrisMorgan> lhk2: there isn't any good way to kill off the other calculations at present (linked task failure would have worked in the past, but that was removed recently).
[11:01:31] <Ms2ger> The server hasn't realized you're gone yet
[11:01:47] <lhk2> yeah, seems so
[11:02:00] <lhk2> things will get awkward if lhk starts to talk ;)
[11:02:20] <lhk2> anything on select will i was gone ?
[11:02:25] <Ms2ger> Nope
[11:02:34] <lhk2> is there something like this in rust ?
[11:02:59] <ChrisMorgan> lhk2: you received the links I gave, http://static.rust-lang.org/doc/master/std/comm/select/index.html and http://static.rust-lang.org/doc/master/src/std/home/rustbuild/src/rust-buildbot/slave/doc/build/src/libstd/comm/select.rs.html#57 ?
[11:04:03] <lhk2> am i still there ?
[11:04:03] <lhk2> this wlan is driving me crazy
[11:04:03] <lhk2> ah
[11:04:12] <lhk2> ChrisMorgan, thanks for the links
[11:04:17] <lhk2> just what i was looking for
[11:05:37] *** Quits: lhk (Mibbit@moz-171CEA1.dip0.t-ipconnect.de) (Quit: http://www.mibbit.com ajax IRC Client)
[11:05:49] <ChrisMorgan> (In case no one has warned you yet, be prepared for pain in Rust; it's not stable yet and these sorts of things in particular have not been all ironed out.)
[11:08:29] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[11:08:36] *** Joins: Deewiant (deewiant@moz-C015B7F8.iki.fi)
[11:12:24] *** Quits: pkoerbitz (user@moz-11CBE382.pool.mediaways.net) (Ping timeout)
[11:13:47] *** Joins: nkoep (nik@moz-F4D4643D.pool.mediaways.net)
[11:15:46] *** Quits: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net) (Ping timeout)
[11:17:24] *** Joins: dkeenaghan (dkeenaghan@A9F153F4.DDE28F19.986A907C.IP)
[11:18:02] *** Joins: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net)
[11:18:30] *** Joins: bheylin (textual@moz-8255E94E.adsl.online.nl)
[11:23:22] *** Quits: moostik (Icedove@moz-654D48E3.w83-202.abo.wanadoo.fr) (Ping timeout)
[11:25:01] *** Quits: doomlord_ (servitor@moz-D40D68D6.range86-184.btcentralplus.com) (Ping timeout)
[11:27:22] *** Joins: moostik (Icedove@moz-654D48E3.w83-202.abo.wanadoo.fr)
[11:28:24] *** Quits: lhk2 (Mibbit@moz-171CEA1.dip0.t-ipconnect.de) (Quit: http://www.mibbit.com ajax IRC Client)
[11:29:15] *** Joins: smodo (tadnr@moz-6398EFDF.dclient.hispeed.ch)
[11:41:02] <arrrrrrrrr> trait A { fn f() -> i32 }     <--- how can I invoke f for a type that implements the trait?
[11:47:09] <arrrrrrrrr> pls help
[11:49:17] <kimundi> arrrrrrrrr: In theory it would be A::<for T>::f(), but that is afaik not currently implemented
[11:49:51] <arrrrrrrrr> yeah :(
[11:50:23] <kimundi> need a workaround like  trait A { fn f(Option<Self>) -> i32 } ... A::fn(None::<T>)
[11:52:59] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[11:53:28] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[11:55:16] *** Quits: csherratt (csherratt@moz-CAF331EA.cable.teksavvy.com) (Quit: csherratt)
[11:55:19] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[11:55:39] *** Quits: Blei (philipp@moz-B2F9E4BD.cust.bluewin.ch) (Quit: WeeChat 0.4.2)
[11:55:59] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[11:56:58] *** Joins: Ferreus (ferreus@moz-FEC408DC.pools.arcor-ip.net)
[11:57:38] *** Joins: jviereck (Adium@moz-80E87D4F.dip0.t-ipconnect.de)
[12:01:10] *** Quits: jviereck (Adium@moz-80E87D4F.dip0.t-ipconnect.de) (Quit: Leaving.)
[12:01:24] *** Quits: kvanb (kvanb@moz-1C09EC1.lnse1.win.bigpond.net.au) (Quit: kvanb)
[12:01:48] *** Joins: nano (nano@moz-ED77243C.superkabel.de)
[12:07:59] *** Joins: glaebhoerl (glaebhoerl@moz-B5B88D72.catv.broadband.hu)
[12:10:55] *** Quits: hacker_sam (hacker_sam@2EE27BB6.661C02A7.B0CE379A.IP) (Client exited)
[12:11:16] *** Joins: hacker_sam (hacker_sam@2EE27BB6.661C02A7.B0CE379A.IP)
[12:11:40] *** Quits: bheylin (textual@moz-8255E94E.adsl.online.nl) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[12:13:59] *** Joins: samnardoni (samnardoni@moz-6E63ABD.dyn.plus.net)
[12:31:32] *** Joins: kvanb (kvanb@moz-1C09EC1.lnse1.win.bigpond.net.au)
[12:37:31] <arrrrrrrrr> What happens if Reader.read_*_* is called and the underlying fd is closed or the reading fails for some other reason?
[12:38:13] *** Quits: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net) (Ping timeout)
[12:38:30] *** Joins: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net)
[12:41:50] *** Joins: refold (gman@moz-42D68426.a258.priv.bahnhof.se)
[12:41:51] <ChrisMorgan> arrrrrrrrr: io_error condition raised; if handled, you'll get uncertain values (anything not yet read will be zeroes).
[12:44:04] *** Joins: Earnestly (earnest@88884C6.A3735F9C.39C00A7A.IP)
[12:44:50] *** Joins: pao (pao@moz-AF905E87.fbx.proxad.net)
[12:45:05] <kvanb> rust doesn't have exceptions, does it?
[12:45:12] <Ms2ger> No
[12:45:25] <kvanb> I guess the rationale for that one is that they are bad?
[12:45:31] <kimundi> It doesn'T have catchable exceptions
[12:45:39] <kimundi> the catchable part is bad
[12:46:01] <kvanb> I used them in C++ sometimes for otherwise impossible code flow
[12:46:39] <arrrrrrrrr> kvanb: setjmp, longjmp
[12:46:48] <kimundi> Rust has failure though, which is like a expception but can not be caught and will unwind the stack of the task it is thrown in
[12:47:06] <kvanb> arrrrrrrrr: are those better in rust than they are in C?
[12:47:07] *** Quits: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net) (Ping timeout)
[12:47:15] <kvanb> In C/C++ those are seen as the biggest hacks imaginable...
[12:48:04] <arrrrrrrrr> kvanb: Even better than goto :p
[12:48:05] <ChrisMorgan> Conditions were an experiment which has demonstrated itself suboptimal for the general case, so they're actually on the way out.
[12:48:07] *** Joins: eternaleye (eternaleye@moz-5668AFCB.hsd1.wa.comcast.net)
[12:48:15] <ChrisMorgan> https://github.com/mozilla/rust/issues/10602
[12:48:50] <arrrrrrrrr> ChrisMorgan: Any idea how read_*_* will work when conditions have been removed?
[12:49:23] <ChrisMorgan> arrrrrrrrr: I don't know; it all depends on what read() does, because all of those others use it.
[12:49:35] <kimundi> arrrrrrrrr: The remaining options are: it returns an enum type that encapsulates all possible failure cases, or it fails
[12:49:57] <arrrrrrrrr> Guess it will be an enum then.
[12:50:45] <kvanb> maybe someone could start a fluid interface idiom for failures
[12:50:47] <bjz> http://static.rust-lang.org/doc/master/tutorial-conditions.html
[12:50:52] *** Quits: glaebhoerl (glaebhoerl@moz-B5B88D72.catv.broadband.hu) (Ping timeout)
[12:51:00] <kvanb> do_unsafe_thing( .... ).on_failure(..)
[12:51:56] <ChrisMorgan> kvanb: that's "Finally" with a "failing" check. Not recommended for the general case. Also remember that truly unsafe code might just be crashing outright.
[12:52:23] <kvanb> didnt know about Finally, cheers.
[12:52:38] <kvanb> well, its late. night rustians.
[12:52:45] <ChrisMorgan> It's in std::unstable::finally.
[12:52:54] <ChrisMorgan> And also http://static.rust-lang.org/doc/master/std/task/fn.failing.html
[12:53:03] *** Joins: mortisha (Mibbit@moz-EFBC2B7.adsl.highway.telekom.at)
[12:53:12] <ChrisMorgan> But that's probably not generally a good pattern.
[12:53:25] <kvanb> got it.
[12:53:35] *** Quits: kvanb (kvanb@moz-1C09EC1.lnse1.win.bigpond.net.au) (Quit: kvanb)
[12:53:52] *** Quits: eddyb (eddy@moz-68E0B7D0.residential.rdsnet.ro) (Ping timeout)
[12:54:47] *** Quits: mortisha (Mibbit@moz-EFBC2B7.adsl.highway.telekom.at) (Quit: http://www.mibbit.com ajax IRC Client)
[12:55:15] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[12:55:57] <diverse> ChrisMorgan: I have this feeling that kvanb cares more about 'Finally' than the stability of it
[12:59:14] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[13:02:51] *** Joins: jviereck (Adium@moz-80E87D4F.dip0.t-ipconnect.de)
[13:03:10] *** Joins: glaebhoerl (glaebhoerl@moz-B5B88D72.catv.broadband.hu)
[13:09:20] *** Quits: jackneill (jackneill@moz-C158F899.pool.digikabel.hu) (Ping timeout)
[13:09:34] *** Joins: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net)
[13:10:51] <arrrrrrrrr> where is the reserved word "type" used?
[13:11:22] *** Quits: nano (nano@moz-ED77243C.superkabel.de) (Connection reset by peer)
[13:11:34] <ChrisMorgan> arrrrrrrrr: `type x = y` is (from other languages) a typedef.
[13:11:55] <arrrrrrrrr> ah yes. anyway, I'd like to use type as a field name
[13:11:55] <kimundi> not typedef
[13:11:59] <kimundi> type alias
[13:12:02] <diverse> arrrrrrrrr: s/where/how/
[13:15:46] *** Quits: jviereck (Adium@moz-80E87D4F.dip0.t-ipconnect.de) (Quit: Leaving.)
[13:15:48] <ChrisMorgan> arrrrrrrrr: the common convention is to do what PEP 8 did, tack on an underscore: type_
[13:16:23] *** Joins: judder (maradukewa@837BB533.C8128DC0.78E362FE.IP)
[13:20:10] *** Joins: nano (nano@moz-ED77243C.superkabel.de)
[13:21:12] <diverse> btw, what made 'try/catch' a bad idea? What kind of problems did it incure?
[13:23:24] *** Quits: lpy (lpy@7360AA58.F09091A8.1348A864.IP) (Quit: Leaving...)
[13:23:35] *** Quits: km (quassel@moz-777F24DE.kevinmehall.com) (Ping timeout)
[13:23:52] *** Quits: stvc (quassel@DDF9BE86.571456BD.9510F13D.IP) (Ping timeout)
[13:23:57] <bjz> arrrrrrrrr: I sometimes use `ty`
[13:24:26] <diverse> s/incure/incur/
[13:24:41] <ChrisMorgan> Inside librustc/libsyntax/etc. `ty` is largely what is used.
[13:25:08] <arrrrrrrrr> bjz: I'd like to stick to the names in the dbus specification as much as possible. 
[13:25:31] <bjz> ah ok
[13:26:06] <bjz> yeah, it's hard when apis use reserved words from your lang
[13:26:09] <bjz> :P
[13:26:10] <arrrrrrrrr> "path" isn't a reserved word, right?
[13:26:14] <ChrisMorgan> No.
[13:27:01] <ChrisMorgan> diverse: I'm not at all clear on the details, but it was something to do with safety violations, that you couldn't be quite sure of what had been destroyed, because the catching needs to happen in destructors, or something along those lines.
[13:27:51] *** Parts: judder (maradukewa@837BB533.C8128DC0.78E362FE.IP) ()
[13:28:18] <ChrisMorgan> diverse: the people best able to answer your question are probably asleep at present, sorry.
[13:29:23] <kimundi> The problem with "catch" is basically that you can't control how and where a "throw" happens, which might result in your datastructures being in an partly invalid state
[13:30:05] <diverse> eww, ouch.
[13:30:17] <kimundi> And that partly invalid state bites you if you if you catch and continue executing code
[13:30:53] <ChrisMorgan> So to be clear, it's the resuming that's problematic, not the executing of code during unwind which can only access its own (constructed) state; so destructors—which can include the concept of "finally"—are fine.
[13:31:10] <ChrisMorgan> Leastways, that's how I understand it, but my knowledge on the point is not complete.
[13:31:25] <arrrrrrrrr> exceptions have unpredictable runtime performance (it's hard to prove the code flow at compile time)
[13:31:30] <kimundi> Thats correct, as far as I know
[13:35:15] <diverse> that makes sense why Rust doesn't want it, since Rust needs to be deterministic
[13:36:12] *** Quits: joelteon (bzzt@moz-317E8D0C.io) (Ping timeout)
[13:36:17] *** Quits: kmapped2 (kmapped2@A35331CF.60E9685E.20F09BA6.IP) (Ping timeout)
[13:38:32] <diverse> at least for the default safe code, I assume :)
[13:40:34] *** Joins: stvc (quassel@DDF9BE86.571456BD.9510F13D.IP)
[13:40:37] *** Joins: km (quassel@moz-777F24DE.kevinmehall.com)
[13:40:38] *** Joins: kmapped2 (kmapped2@A35331CF.60E9685E.20F09BA6.IP)
[13:40:43] *** Joins: joelteon (bzzt@moz-317E8D0C.io)
[13:41:19] *** Joins: noct (quassel@moz-4F2CA1D7.noctal.com)
[13:43:37] *** Quits: pao (pao@moz-AF905E87.fbx.proxad.net) (Quit: pao)
[13:45:20] *** Quits: santiago (santiago@moz-8ADE82B4.socal.res.rr.com) (Quit: Computer has gone to sleep.)
[13:47:54] <bstrie_vacation> diverse: the pernicious problem with exceptions is that they introduce potential inconsistencies in state in places where you least expect it
[13:48:17] <bstrie_vacation> diverse: just yesterday I wrote up an example of exception unsafety in python: https://gist.github.com/bstrie/8062295
[13:48:45] *** Joins: jviereck (Adium@moz-80E87D4F.dip0.t-ipconnect.de)
[13:49:14] <bstrie_vacation> in other words, trying to design any consistent interface in the presence of exceptions requires much more vigilance than anybody is used to practicing
[13:49:32] <kimundi> bstrie_vacation: I see you're not taking this vacation business very seriously :P
[13:49:41] <bstrie_vacation> :P
[13:49:51] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[13:51:09] <arrrrrrrrr> can I split one module into several files?
[13:51:27] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[13:51:54] <bstrie_vacation> arrrrrrrrr: probably, but to still make it look like a single module you'll likely have to import and reexport from the modules that are implicitly defined by the new files
[13:52:09] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[13:52:38] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[13:54:28] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[13:54:37] *** Quits: noam (noam@F6B530A7.720527A7.416762B.IP) (Ping timeout)
[13:55:59] *** Joins: noam (noam@F6B530A7.720527A7.416762B.IP)
[13:56:40] *** Joins: fixplz (uid18459@moz-A42E5B7B.irccloud.com)
[13:57:04] <diverse> bstrie_vacation: I gotcha, thanks for the example as well (and for taking time from your vacation to answer :P)
[13:57:30] * bstrie_vacation goes back to sipping mojitos
[13:57:45] <diverse> yeah, enjoy yourself
[13:59:50] <diverse> ^.append(~" :)");
[14:03:32] <ChrisMorgan> bstrie_vacation is really bad at keeping a vacation all vacationy.
[14:04:54] *** Quits: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[14:05:50] *** Joins: synackse (synackse__@moz-DFB8ED3B.lightspeed.wepbfl.sbcglobal.net)
[14:06:05] <diverse> I wonder if I should start getting in the habit of doing `box " :)"` instead?
[14:06:18] *** Joins: kirneh (kirneh@moz-FA14E0C7.cpe.webspeed.dk)
[14:12:36] <diverse> box(Gc) "GC'd string"; :D
[14:13:08] <ziad> let v = box [box "a", box "b", box "c"];
[14:13:15] *** Quits: synackse (synackse__@moz-DFB8ED3B.lightspeed.wepbfl.sbcglobal.net) (Ping timeout)
[14:13:26] <ziad> perhaps a macro can be written to ease the visual load?
[14:13:58] <ziad> though that would go against the whole point of ~ -> box move in the first place
[14:22:32] *** Quits: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl) (Ping timeout)
[14:23:30] <arrrrrrrrr> how about calling it `bx` as a nice parallel to `ty` :p
[14:24:02] <ziad> let v = bx [bx "a", bx "b", bx "c"];
[14:24:06] <ziad> nah
[14:24:19] <arrrrrrrrr> Okok, I'll go down to `b`
[14:24:29] <diverse> heh
[14:24:32] <arrrrrrrrr> maybe remove the space between b and "
[14:24:42] <arrrrrrrrr> let v = b[b"a", b"b", b"c"];
[14:24:45] <arrrrrrrrr> noice
[14:25:59] <kimundi> And now change the b to something thats's not confusing with hypothetical byte strings
[14:26:08] <arrrrrrrrr> how about ~?
[14:26:12] <ziad> good idea!
[14:26:15] <kimundi> let v = ~[~"a", ~"b", ~"c"];
[14:26:15] *** Joins: c-a (c-a@moz-57C82A9.a163.priv.bahnhof.se)
[14:26:18] <cmr> my response to that: http://arke.me/oprah-bees.gif
[14:26:20] <kimundi> It's perfect!
[14:26:29] <Yurume> I have once joked about using [] instead of `box` (it indeed looks like a box).
[14:26:30] <ziad> cmr: lol
[14:27:19] *** Joins: Blub\1 (wry@620605B3.71150E1A.237AE2BA.IP)
[14:27:19] <diverse> cmr: brilliant
[14:27:30] <cmr> kimundi: I think the real solution to that is generic initializer lists and string literal type inference... though the latter may be too complex.
[14:27:39] <kimundi> let v = ☐[☐"a", ☐"b", ☐"c"];
[14:27:55] <ziad> kimundi: was about to type the same
[14:28:10] *** Joins: eddyb (eddy@moz-68E0B7D0.residential.rdsnet.ro)
[14:28:13] <Yurume> Unicode is great but one cannot be sure about what box character should be used
[14:28:16] <kimundi> cmr: yeah
[14:28:17] <Earnestly> let v = ["a", "b", "c"] /cry
[14:28:22] <kimundi> cmr: SOunds about right
[14:28:23] <diverse> would this work? let v = ☐(Gc)[☐(Gc)"a", ☐(Gc)"b", ☐(Gc)"c"];
[14:28:24] *** Quits: Blub\0 (wry@620605B3.71150E1A.237AE2BA.IP) (Ping timeout)
[14:28:42] <kimundi> Yurume: jUST ACCEPT ALL OF THEM! :p
[14:28:45] <kimundi> whoops
[14:28:48] <kimundi> caps fail
[14:29:02] <Yurume> you didn't fail, you just swapped the case
[14:29:10] <Yurume> or cases?
[14:29:13] <Earnestly> You're the first person I've seen who uses capslock to being sentences with an uppercase letter.
[14:29:14] *** Quits: k4nar (quassel@moz-F5EFF779.kimsufi.com) (Ping timeout)
[14:29:23] <Earnestly> begin*
[14:29:24] <kimundi> I failed in not accidentally hitting the caps lock key
[14:29:34] <kimundi> :P
[14:29:39] <Earnestly> Question though, why is your capslock even a key?
[14:29:54] *** Joins: k4nar (quassel@moz-F5EFF779.kimsufi.com)
[14:30:10] <kimundi> Cause I'm still to lazy to keep using a different layout :P
[14:30:32] *** Quits: hacker_sam (hacker_sam@2EE27BB6.661C02A7.B0CE379A.IP) (Ping timeout)
[14:30:33] <Earnestly> It must be painful :<
[14:30:39] *** Quits: nkoep (nik@moz-F4D4643D.pool.mediaways.net) (Quit: Leaving)
[14:30:59] <diverse> I made my capslock act as ctrl
[14:31:17] <diverse> so much easier on my fingers too
[14:31:21] <arrrrrrrrr> diverse: how many food pedals?
[14:31:42] <arrrrrrrrr> *foot
[14:31:58] <ion> You only noticed the caps lock after typing five words, a smiley and enter? :-P
[14:32:15] <diverse> arrrrrrrrr: sorry man I am not getting the context of your joke. :(
[14:32:22] <arrrrrrrrr> :(
[14:32:31] <arrrrrrrrr> Not an emacs user, eh?
[14:32:37] <diverse> ah I see
[14:32:42] <Earnestly> you don't need foot pedals for emacs
[14:32:44] <diverse> nope, vim user here
[14:32:54] <arrrrrrrrr> diverse: so where do you map esc?
[14:32:57] <ziad> vim > emacs :P
[14:33:08] <Earnestly> And ctrl as caps in vim and emacs are both handy since vim has a ton of great keys which use ctrl
[14:33:11] <kimundi> nano ftw /trollface
[14:33:16] * ziad tries to start a flamewar
[14:33:22] <Earnestly> C-t, C-d, C-n/p, C-r, etc.
[14:33:23] * Ms2ger fires up eclipse ._.
[14:33:32] <Earnestly> Ms2ger: You poor soul :P
[14:33:44] <ziad> eclipse comes with emacs bindings
[14:33:47] <Earnestly> Anyway, there is eclim
[14:33:53] *** Joins: Matthias (Mibbit@moz-7B1710C8.rev.sfr.net)
[14:33:54] * Ms2ger goes on to write lisp ._.
[14:33:59] <Earnestly> And there is the same for emacs iirc
[14:33:59] <Matthias> hi
[14:34:25] <Earnestly> ziad: Emacs is not really amount its bindings
[14:34:27] <diverse> arrrrrrrrr: esc is same place, it's just arm reflex to reach it.
[14:34:29] <Earnestly> about*
[14:35:00] <Earnestly> Please people, make sure your jokes are *informed* at the very least :P
[14:35:05] <arrrrrrrrr> diverse: :o   the horror
[14:35:08] *** Quits: Matthias (Mibbit@moz-7B1710C8.rev.sfr.net) (Quit: http://www.mibbit.com ajax IRC Client)
[14:35:16] <diverse> arrrrrrrrr: acquired taste
[14:35:17] <ziad> Earnestly: true, but I find traditional navigation with arrows to be so annoying after using Vim/Emacs
[14:35:43] <ziad> so it goes a long way for me
[14:35:51] <ziad> I guess since I'm mainly a vim user
[14:35:53] <Earnestly> Huh?
[14:36:05] *** Joins: Matthias (Mibbit@moz-7B1710C8.rev.sfr.net)
[14:36:10] <Matthias> sorry guys
[14:36:16] <Matthias> I lost the connection
[14:36:36] <Earnestly> But, you don't really navigate vim or emacs using those one-by-one keys anyway, arrow keys or hjkl or C-fbpn
[14:36:50] <Earnestly> (Usually just for "off-by-one" mistakes)
[14:37:11] <ziad> I usually do, maybe that's why I said what I did :)
[14:37:25] <ziad> what's a better way? 'f' in vim?
[14:37:36] <ziad> % also?
[14:37:38] <Earnestly> f/F, %, , ; etc
[14:37:43] <Matthias> I'm trying to compile Rust, but after two hours, it went awry: http://paste.awesom.eu/Mathuin/Z1q&ln
[14:37:48] *** Joins: synackse (synackse__@moz-DFB8ED3B.lightspeed.wepbfl.sbcglobal.net)
[14:37:55] <Matthias> could you please help me understand ?
[14:38:01] <ziad> hmm, I'll have to look up , and ;
[14:38:07] <Matthias> arch linux, up-to-date
[14:38:17] <Earnestly> ziad: And / ? 
[14:38:24] <ziad> ah
[14:38:25] <Earnestly> (they're inclusive motions)
[14:38:27] <cmr> Matthias: the rust-git in the aur is broken iirc
[14:38:31] <ziad> yeah I use those too
[14:38:40] <cmr> Matthias: use strcat's pkgbuild, or just add his repo for nightlies.
[14:38:50] <Matthias> thanks
[14:38:57] <ziad> the thing is, *good* vi keybindings are sufficient to recreate most of that experience
[14:39:10] <ziad> same with emacs ones (when I mentioned eclipse)
[14:39:12] <Earnestly> ziad: So generally hjkl is good for just narrowing down, but not really used more than two or three times in a row
[14:39:14] <Matthias> 'cause I really want to try Rust out, it looks pretty awesome
[14:39:34] <ziad> I don't really modify the editors by having large .vimrc or .emacs files
[14:39:36] <Earnestly> emacs has evil.   But emacs is not about keys, you can use anything you want
[14:39:55] <ziad> my .vimrc is minimalistic, mainly some style issues
[14:39:56] <Ms2ger> Folks, that's good ;)
[14:40:02] <Earnestly> Uh, you would modify emacs a lot.  That's the whole point of it.
[14:40:20] <diverse> Earnestly: I think there was a more improved version of 'evil' for emacs, I forgot what it was called.
[14:40:20] <ziad> Earnestly: yep, that's what I meant by the first message I posted
[14:40:22] <Earnestly> vim just comes with more awesome keys out of the box whereas you build your own editor with emacs
[14:40:29] <Earnestly> diverse: Nah
[14:40:34] <ziad> which is why I'm more of a vim guy
[14:40:45] <Matthias> strcat's pkgbuild ? where ? I found this: https://github.com/strcat
[14:40:49] <nano> <kimundi> nano ftw /trollface
[14:40:50] <nano> lolwat?
[14:40:55] <Matthias> but it doesn't seem to be the right one, it's empty
[14:40:57] <Earnestly> I don't really see how emacs and vim is comparable anyway *shrug*
[14:40:59] <ziad> since I don't really want to spend time modifying, and I prefer vim style key bindings for navigation over emacs
[14:41:01] <ChrisMorgan> Matthias: in AUR.
[14:41:10] <Matthias> oops
[14:41:12] <nano> oh text editor discussion
[14:41:13] <Matthias> sorry
[14:41:17] <ziad> I know their philosophies are completely different
[14:41:18] <nano> k then
[14:41:19] <cmr> Matthias: [thestinger]
[14:41:21] <Matthias> Earnestly: 1
[14:41:22] <cmr> SigLevel = Optional
[14:41:24] <cmr> Server = http://pkgbuild.com/~thestinger/repo/$arch
[14:41:30] <diverse> arrrrrrrrr: look what you and I started :P
[14:41:30] *** flaper87|afk is now known as flaper87
[14:41:35] <Matthias> +1 Earnestly I meant
[14:41:50] <Earnestly> ziad: Think of it like this: "Vim is a great text editor only lacking a decent Operating system" :p
[14:41:57] <ziad> Yep :)
[14:41:59] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[14:42:00] *** Quits: synackse (synackse__@moz-DFB8ED3B.lightspeed.wepbfl.sbcglobal.net) (Ping timeout)
[14:42:09] <arrrrrrrrr> diverse: do you have a key between qwerty z and shift?
[14:42:22] <Earnestly> emacs provides a really consistent environemnt for /everything/ you can do on a terminal
[14:42:23] <diverse> I don't
[14:42:47] <arrrrrrrrr> that's sad :{
[14:42:53] <Earnestly> From email/rss/irc/games/repls/org/some text editting maybe etc heh
[14:43:26] <diverse> arrrrrrrrr: what's the keyboard you have?
[14:43:36] <Earnestly> Where as if you want vim everywhere you need to hunt around for "vi-like" keybind features or hack them into the projects yourself :( (e.g. htop-vi)
[14:43:51] * ChrisMorgan thinks that this text editor et al. debate is getting out of hand and not adding anything much to #rust, especially while help was being sought just now; perhaps #rust-offtopic would be a better place?
[14:43:53] <arrrrrrrrr> Earnestly: But does it come with a functional kernel?
[14:43:58] <Matthias> I can't find strcat's PKGBUILD in AUR
[14:44:03] *** Joins: lenstr (lenstr@F51627A8.9636F313.7A27613B.IP)
[14:44:18] <Earnestly> arrrrrrrrr: Not yet, although you can run emacs on linux on its own.  You only need the mount binary from linux-utils
[14:44:39] <arrrrrrrrr> diverse: http://upload.wikimedia.org/wikipedia/commons/3/36/KB_Germany.svg
[14:44:52] <cmr> Matthias: it's not in the aur.
[14:45:01] <cmr> I don't remember where it is
[14:45:04] <cmr> I can't find it atm
[14:45:14] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[14:45:36] <Matthias> well, I'll have to compile it by hand
[14:45:43] <Earnestly> Matthias: He has a repo if you want that
[14:45:47] <diverse> arrrrrrrrr: I use a US keyboard, I can't help that.
[14:45:48] <Earnestly> With nightly builds
[14:46:10] <Matthias> could you provide me with the link ?
[14:46:29] <Earnestly> Matthias: Server = http://pkgbuild.com/~thestinger/repo/$arch
[14:46:37] <arrrrrrrrr> diverse: You could try :p. Here is my remapped layout for maximum vim productivity: http://i.imgur.com/5SQYra7.png
[14:46:55] <Matthias> I searched for strcat on github but the only thing I see on his profile is a BSD diablo humping someone -_-'
[14:47:04] <cmr> his username is thestinger
[14:47:06] <cmr> https://github.com/mozilla/rust/wiki/Doc-packages,-editors,-and-other-tools
[14:47:11] <ChrisMorgan> Matthias: https://mail.mozilla.org/pipermail/rust-dev/2013-May/004061.html
[14:47:28] * ChrisMorgan ain't an Arch user though, so can't add anything much more than that
[14:48:48] *** Joins: yorickpeterse (yorickpete@moz-85A96365.yorickpeterse.com)
[14:49:28] <yorickpeterse> Hi folks, question regarding borrowed pointers. If I want to store a borrowed pointer in a Option, e.g. `struct Foo { bar: <&SomeValue> }` how would I go about doing this? This particular example leads to an error saying I don't specify a lifetime
[14:49:33] <yorickpeterse> But I can't quite figure out how to do so
[14:49:53] <yorickpeterse> (I want to store values in this Option without copying/moving them)
[14:49:53] *** Quits: dkeenaghan (dkeenaghan@A9F153F4.DDE28F19.986A907C.IP) (Quit: Leaving)
[14:50:04] <Matthias> thanks ChrisMorgan 
[14:50:37] <Matthias> now, when I tried to join #rust, I couldn't as Mathuin (my usual username)
[14:50:37] <ChrisMorgan> yorickpeterse: `struct Foo<'a> { bar: Option<&'a SomeValue> }`
[14:50:47] <Matthias> is it registered or whatever ?
[14:50:47] *** Quits: jviereck (Adium@moz-80E87D4F.dip0.t-ipconnect.de) (Quit: Leaving.)
[14:51:11] <ChrisMorgan> Matthias: no, NickServ says it's not registered.
[14:51:14] *** Quits: samnardoni (samnardoni@moz-6E63ABD.dyn.plus.net) (Client exited)
[14:51:25] <Matthias> wierd
[14:51:31] <yorickpeterse> ChrisMorgan: aha, so that's the syntax. Googling/messing around revelead a bunch of things but it seems most didn't work
[14:51:31] <Matthias> *weird
[14:51:32] <yorickpeterse> thanks
[14:51:50] <Matthias> ok, I added thestinger's repo
[14:52:09] <ChrisMorgan> Matthias: I mean, it's not *registered*, but it is in use.
[14:52:24] <Matthias> which chan ?
[14:52:37] <ChrisMorgan> Uncertain, /whois doesn't reveal any
[14:52:43] <Matthias> it might be my ghost
[14:53:01] <Matthias> if the host is mathuin.lu.gd it is
[14:53:08] <yorickpeterse> ChrisMorgan: assuming the struct should contain itself, would `pub struct Foo<'L>{parent: Option<&'L Foo<'L>>}` be the right way of doing that? I at least don't get any compiler errors
[14:53:51] <ChrisMorgan> Matthias: irc.mozilla.org doesn't reveal hostnames entirely. "/whois Mathuin" should tell you all I know about what it is.
[14:54:24] <ChrisMorgan> Matthias: I would recommend registering Mathuin and linking Matthias to it so that you can then ghost it and take back the nick if you want.
[14:54:35] <Matthias> it's my username
[14:54:48] <Matthias> ok, i'll do that
[14:55:15] <ChrisMorgan> yorickpeterse: yep, that's it.
[14:55:51] <Matthias> ChrisMorgan: Mathuin is in use, so I can't register it
[14:56:02] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[14:56:09] <ChrisMorgan> Matthias: correct, you'll need to be it before you can register it.
[14:56:09] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Quit: willingc)
[14:56:17] *** Joins: jvns__ (bork@moz-DE62990.nyc.res.rr.com)
[14:56:25] <yorickpeterse> ChrisMorgan: ok, thanks!
[14:56:29] *** Joins: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com)
[14:57:12] <Matthias> isn't there someone who could kick it ?
[14:57:47] <yorickpeterse> gah, now I have to specify that everywhere
[14:57:49] <yorickpeterse> hmpf
[14:57:50] <ChrisMorgan> Matthias: only a network operator, and they're unlikely to be willing to do it.
[14:58:03] <ChrisMorgan> yorickpeterse: yep; it's fun, isn't it?
[14:58:07] <Matthias> I can understand that
[14:58:19] <diverse> wait for brson to come on
[14:58:40] <yorickpeterse> ChrisMorgan: is there a way around that?
[14:58:51] <ChrisMorgan> diverse: no, this is a user which he wants killed—it's not in the channel
[14:59:02] <diverse> oh...
[14:59:09] <ChrisMorgan> yorickpeterse: not with borrowed pointers. Lifetimes must be explicit in the signatures.
[14:59:30] *** Quits: ferminter (Mibbit@moz-4DA0B54B.dynamic.primacom.net) (Quit: http://www.mibbit.com ajax IRC Client)
[14:59:37] <Matthias> that's when I tried to join using irssi
[14:59:39] <yorickpeterse> ChrisMorgan: right. The pointer thing is still a bit fuzzy to me
[14:59:43] <Matthias> somehow I fumbled
[14:59:47] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[14:59:51] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[14:59:54] <Matthias> and now there's my ghost haunting
[14:59:58] <yorickpeterse> e.g. I had a Option<~Foo> but that doesn't play nice if somewhere else you return stuff as a borrowed pointer
[15:00:06] <yorickpeterse> plus I believe ~Foo would move it right?
[15:00:25] <diverse> `box Foo` eventually :P
[15:00:26] <ChrisMorgan> yorickpeterse: ~Foo is an owned value, just as Foo is an owned value.
[15:01:02] <Matthias> gnnhhh
[15:01:07] <ChrisMorgan> (~Foo is just a heap allocated owned value with only a pointer on the stack, while Foo is a stack allocated owned value.)
[15:01:20] <Matthias> avertissement: «database file thestinger missing»
[15:01:24] <ChrisMorgan> yorickpeterse: so yes, it would still either move or require you to clone.
[15:01:29] <yorickpeterse> ChrisMorgan: so imagine the following case: I have `struct Foo { parent: <~Foo> }`. I create an initial Foo (somewhere), lets say A, and then at some point create another Foo that's called B
[15:01:35] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[15:01:39] <yorickpeterse> at the time of B I want to set A as the parent without moving/copying it
[15:01:45] <yorickpeterse> (so that the original thing stays in place)
[15:02:09] <yorickpeterse> basically a linked list of existing Foos
[15:02:32] <ChrisMorgan> yorickpeterse: be careful with your design; borrowed pointers if done the wrong way round can cause immense pain later on. Ensure that the correct object has ownership.
[15:02:59] <yorickpeterse> I'm not stricly bound to borrowed ones, if there's a way around this I'd love to hear
[15:03:04] <yorickpeterse> I just don't want to move/copy the data
[15:03:31] <ChrisMorgan> Typically it is good to have ownership in just one place. That might be in your linked list.
[15:04:09] <ChrisMorgan> If that ends up transpiring to be impossible—where you have two objects, both needing access to it with not necessarily related lifetimes, then you will probably need reference counting, with Rc.
[15:04:28] <Matthias> fixed
[15:04:44] <yorickpeterse> so the context is this: trying to hack together a little programming language, at some point a bunch of classes are set up that optionally have a parent
[15:05:02] <yorickpeterse> when setting the parent I want to use the original value opposed to moving/copying it, the latter could cause synchronization problems
[15:05:08] <yorickpeterse> (e.g. the parent is modified but the original thing isn't)
[15:05:33] <yorickpeterse> diverse: box foo?
[15:05:38] *** Joins: sigma1 (sigma@moz-6E1846A2.range86-184.btcentralplus.com)
[15:06:06] <arrrrrrrrr> is support for #[deriving] hard coded into the compiler?
[15:06:11] <ChrisMorgan> yorickpeterse: he's referring to the way "~x" is steadily being replaced with "box x"
[15:06:14] <ChrisMorgan> arrrrrrrrr: yes
[15:06:31] <Ms2ger> That'll be fun to update over
[15:06:31] <SiegeLord> Does "box x" already work?
[15:06:37] <diverse> yes
[15:06:46] <SiegeLord> Cool beans
[15:06:54] <eddyb> can we please have it infer, like from_str?
[15:07:10] <yorickpeterse> would `box Foo` be a solution for my problem or am I missing that part?
[15:07:24] <ChrisMorgan> But I think at present it's only for values, not types—they're still ~T only.
[15:07:38] *** Joins: vfetwnuncszu (david@moz-AB8667CE.gyrae.net)
[15:07:39] <ChrisMorgan> yorickpeterse: no, `~x` and `box x` are identical at present.
[15:07:46] <ChrisMorgan> eddyb: ?
[15:07:48] <eddyb> since we don't have HKT yet, but we probably want functions to be generic over a smart pointer
[15:07:48] *** vfetwnuncszu is now known as dcrewi
[15:07:58] <SiegeLord> Also... I heard about native threads and whatnot... is it possible to turn that on today (is it default?) and can I check whether I am in a native thread mode?
[15:08:01] <ChrisMorgan> arrrrrrrrr: syntax::ext::deriving, BTW
[15:08:04] <SiegeLord> Err... native tasks
[15:08:07] <ChrisMorgan> eddyb: that's coming
[15:08:13] <yorickpeterse> hmm
[15:08:27] <diverse> HKT?
[15:08:34] <ChrisMorgan> Higher Kinded Types.
[15:08:35] <yorickpeterse> darn it, so I either have to put <'L> every time I refer to Foo or have to find a way around this
[15:08:57] <eddyb> fn box_two<T: Pod, Ptr: Box<T>>(value: T) -> (Ptr, Ptr) {(box value, box value)}
[15:09:06] <ChrisMorgan> yorickpeterse: using Rc is also an option and will probably scale up better.
[15:09:13] <eddyb> ChrisMorgan: ^^ that would very nice to work
[15:09:32] <yorickpeterse> ChrisMorgan: does that invoke a GC?
[15:09:34] <ChrisMorgan> yorickpeterse: just be careful about cycles, you can't properly have them at present
[15:09:35] <eddyb> where Box<T> is a hypothetical trait
[15:09:46] <eddyb> yorickpeterse: no, it's "manually" ref-counted
[15:09:48] <ChrisMorgan> yorickpeterse: Rc is reference counting.
[15:10:05] <yorickpeterse> Yes, but they usually come with some GC that automatically does things for you
[15:10:06] <yorickpeterse> hmm
[15:10:10] <eddyb> no
[15:10:10] <yorickpeterse> Any docs on Rc?
[15:10:15] <ChrisMorgan> Thus I would say, "sort of". Yes, it's garbage collection, but not the type that runs in the background.
[15:10:19] <ChrisMorgan> Sure, in the usual place.
[15:10:27] <ChrisMorgan> std::rc::Rc
[15:10:51] <eddyb> maybe box will put some pressure on smart pointer traits
[15:11:16] <ChrisMorgan> eddyb: it's part of the design. But I haven't followed it especially closely, so I'm not certain of what the plan is.
[15:11:25] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[15:11:31] <diverse> time to ask pcwalton
[15:11:34] <ChrisMorgan> But first-class support for smart pointers is essential.
[15:12:07] <yorickpeterse> ugh, there should be an easier way for this :/
[15:12:36] <eddyb> Rc should be easier to use :P
[15:13:04] <yorickpeterse> Yes, but having to use reference counting for this feels a bit odd
[15:13:09] <yorickpeterse> maybe I'm just too pedantic
[15:13:22] <ChrisMorgan> yorickpeterse: for something like a programming language, I would suggest Rc; even if you don't yet, you'll probably come up with cases later on where straight references don't cut it.
[15:13:27] <eddyb> yorickpeterse: what is it? I wasn't around when you started talking about it
[15:13:35] *** Joins: nielsle (nielsle@moz-C46DA772.boa.fiberby.dk)
[15:13:37] <yorickpeterse> eddyb: working on a programming language
[15:13:47] <ChrisMorgan> eddyb: "so the context is this" a few dozen lines ago
[15:13:51] <yorickpeterse> Right now I have some half-assed stuff in D, but D uses a GC
[15:14:02] <yorickpeterse> plus meh, D isn't as nice as I hoped
[15:14:25] <yorickpeterse> ChrisMorgan: right, besides the std docs is there any info on how to use std::rc::Rc?
[15:14:36] *** Joins: blank_name (blank_name@3D456DE8.9E887BEB.53C6B850.IP)
[15:14:37] <ChrisMorgan> Don't think so. Is it insufficient?
[15:14:37] <yorickpeterse> the std docs aren't very clear on how to use it, if I should manually increment counts, etc
[15:15:03] <yorickpeterse> it's mostly just "Here's a thing and its methods. Have fun!"
[15:15:04] <eddyb> yorickpeterse: it moves by default, to split an Rc into two (and increase the refcount), you have to clone it
[15:15:06] <ChrisMorgan> I thought I heard that D didn't need to use GC. (Haven't used it, though.)
[15:15:18] <yorickpeterse> most of D's stdlib relies on it
[15:15:33] <yorickpeterse> plus from what I've read it's a stop-the-world GC too
[15:15:41] <diverse> ChrisMorgan: D relies on GC for most of its operation
[15:15:43] <ChrisMorgan> yorickpeterse: yep, that's the problem with a lot of the current docs. Never fear, they'll be fixed (at the very least, mostly) before 1.0.
[15:15:55] <SiegeLord> It's the same story as Rust not needing a runtime... you lose the stdlib and some language features
[15:16:02] <eddyb> yorickpeterse: oh, yeah, you need Rc/Gc if you want to share things. Gc should be avoided before it's actually functional
[15:16:45] *** Quits: nielsle (nielsle@moz-C46DA772.boa.fiberby.dk) (Ping timeout)
[15:17:01] <ChrisMorgan> Anyway, I need to buckle down and finish off a talk for tomorrow. I shall now cease paying any attention whatsoever to this channel for the next few hours.
[15:17:06] *** Quits: sigma1 (sigma@moz-6E1846A2.range86-184.btcentralplus.com) (Ping timeout)
[15:17:11] <yorickpeterse> ok, thanks for the help!
[15:17:20] <diverse> ChrisMorgan: take care
[15:17:56] <Matthias> sorry for my newbieness, but how do you print an u8 ?
[15:18:44] <eddyb> print!("{}", value)
[15:19:01] <eddyb> works with bools, any integers/floats, strings and maybe a few other things
[15:19:28] <diverse> now that I think about it, what's the difference between {:?} and {}?
[15:19:32] <eddyb> I think {:u} does unsigned integers, but don't quote me on that
[15:19:42] <eddyb> diverse: {:?} uses reflection
[15:19:45] <Matthias> thanks eddyb !
[15:19:55] <utkarsh> What's the best way to check if a char is in "a-zA-Z0-9+-*/"?
[15:20:05] <diverse> eddyb: reflection?
[15:20:15] <eddyb> diverse: runtime traversal of the type, so it works with anything
[15:20:23] <diverse> ah okay
[15:20:27] <Matthias> how come I can't find print! in the doc ?
[15:20:42] <eddyb> Matthias: std::fmt
[15:20:42] <Ms2ger> Does documentation for macros work already?
[15:21:32] <Matthias> thanks again eddyb 
[15:21:33] <eddyb> utkarsh: I think someone (ChrisMorgan?) wanted to add generic matching for chars/strings (that could work with regexp in the future) - not sure how far you can get right now, check std::char
[15:22:12] *** Joins: pedantech (quassel@moz-5B428D44.msl-mt.client.bresnan.net)
[15:22:53] <eddyb> utkarsh: doesn't look like there's any char ranges here http://static.rust-lang.org/doc/master/std/char/trait.Char.html
[15:22:57] *** Joins: pao (pao@moz-AF905E87.fbx.proxad.net)
[15:22:59] <utkarsh> eddyb, .alphanumeric() + manually check others seems to be the best way now..
[15:23:13] <eddyb> yeah, that works
[15:30:58] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[15:31:12] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[15:31:54] <arrrrrrrrr> utkarsh: https://gist.github.com/anonymous/d23d96763c9b4ee8316e
[15:32:02] <arrrrrrrrr> ?
[15:33:08] *** Parts: yorickpeterse (yorickpete@moz-85A96365.yorickpeterse.com) (WeeChat 0.4.1)
[15:33:31] <utkarsh> arrrrrrrrr, that looks good, thanks!
[15:34:28] <Matthias> with file a BufferedReader, why must I wirte let lines: ~[~str] = file.lines().collect(); ?
[15:34:37] <Matthias> I mean, why the type annotation ?
[15:35:06] <cmr> Matthias: because collect can collect to many data structures.
[15:35:20] <cmr> it could be a HashSet, TreeSet, or anything else implementing FromIterator
[15:35:22] <Matthias> hum
[15:35:26] <eddyb> I think there's a .to_owned_vec()
[15:35:32] <Matthias> so I mean I need to specify what I want ?
[15:35:37] <cmr> eddyb: its use is discourage.
[15:35:38] <cmr> Matthias: exactly
[15:35:42] <eddyb> cmr: oh, ok
[15:35:42] <Matthias> *you mean
[15:35:46] *** Joins: sigma1 (sigma@C91C7F36.70518F41.9D18269F.IP)
[15:35:50] <cmr> eddyb: (it's just a wrapper for collect)
[15:35:52] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[15:35:54] <eddyb> yeah, I know
[15:35:58] <Matthias> so that's kind of a cast ?
[15:36:04] <eddyb> it's a hint
[15:36:07] <cmr> Matthias: conceptually, kinda.
[15:36:18] *** Joins: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net)
[15:36:56] <eddyb> the collect method looks like fn collect<Container: CollectibleOrSomething<T>>(&mut self) -> Container;
[15:37:15] *** Quits: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[15:37:16] <cmr> http://static.rust-lang.org/doc/master/std/iter/trait.FromIterator.html :P
[15:37:17] <eddyb> it's generic over the return type
[15:37:30] <eddyb> Matthias: same thing with from_str
[15:37:36] <Matthias> ok
[15:37:50] <Matthias> I think I'll have to hang here a long time
[15:38:01] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[15:38:06] <eddyb> Matthias: if it can figure out the type from the code which uses "lines", you won't need the explicit type
[15:38:14] <Matthias> it couldn't
[15:38:35] <eddyb> too bad rusti isn't here
[15:38:37] <Matthias> «the type of this value must be known in this context»
[15:38:58] *** Joins: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net)
[15:39:04] <Matthias> I'm implementing a «cat»
[15:39:17] <Matthias> to get a feeling for Rust
[15:39:47] <diverse> not a bad idea :)
[15:40:00] <Ms2ger> Why not a doge?
[15:40:07] <Matthias> :p
[15:40:26] <Matthias> want to take a look at the code ?
[15:40:37] <eddyb> Matthias: when you finish it, compare it with uutils' cat :P
[15:40:42] *** Joins: csherratt (csherratt@moz-CAF331EA.cable.teksavvy.com)
[15:40:49] <diverse> will you also implemented its 'head' and 'tail'?
[15:40:54] <eddyb> oh, calling a method doesn't work
[15:41:00] *** Quits: pedantech (quassel@moz-5B428D44.msl-mt.client.bresnan.net) (Client exited)
[15:41:24] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[15:41:29] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[15:41:47] <Matthias> http://paste.awesom.eu/Mathuin/b0m&ln
[15:41:57] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[15:42:00] *** Quits: arrrrrrrrr (arrrrrrrrr@moz-BCE2F538.dynamic.qsc.de) (Ping timeout)
[15:42:01] <Matthias> it's naive, ugly and doesn't check for erros
[15:42:04] <Matthias> +r
[15:42:23] <eddyb> Matthias: if you were to return "lines", it would use the return type of the function - but that's not the case there
[15:42:37] <Matthias> I don't understand
[15:42:38] <eddyb> I can't come up with a fancy inference example right now
[15:42:42] *** Quits: lenstr (lenstr@F51627A8.9636F313.7A27613B.IP) (Client exited)
[15:42:42] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[15:43:04] *** Joins: lenstr (lenstr@F51627A8.9636F313.7A27613B.IP)
[15:43:44] <Matthias> you mean, it'd use the function's signature to infer lines' type ?
[15:43:50] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[15:43:51] <eddyb> Matthias: fn get_lines(file: &File) -> ~[~str] {file.lines().collect()}
[15:44:22] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[15:44:43] <eddyb> yeah
[15:44:47] *** Quits: lenstr (lenstr@F51627A8.9636F313.7A27613B.IP) (Ping timeout)
[15:44:55] <Matthias> ok
[15:45:01] *** Quits: KindOne (KindOne@moz-F293D7F3.dynamic.ip.windstream.net) (Ping timeout)
[15:45:05] <eddyb> anyways, that was a quick lesson on inference :P
[15:45:16] <Matthias> I have an OCaml background
[15:45:34] <eddyb> Matthias: you're collecting the lines and then iterating on them
[15:45:46] <eddyb> Matthias: you can just do "for x in file.lines()"
[15:46:01] *** Joins: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net)
[15:46:05] <eddyb> iterators are lazy ;)
[15:47:24] <Matthias> «attempted to take value of method `lines` on type `std::io::buffered::BufferedReader<std::option::Option<std::io::fs::File>>` (try writing an anonymous function)»
[15:47:52] <Matthias> Oo
[15:47:57] <Matthias> I'm stupid
[15:48:01] <eddyb> hehe
[15:48:12] <eddyb> this isn't Ruby/Haskell :))
[15:48:14] *** Joins: bmu (chatzilla@moz-A87574A6.hsd1.pa.comcast.net)
[15:48:39] <Matthias> or ocaml :p
[15:48:55] *** Joins: KindOne (KindOne@5CDBB343.E114B4AE.EC6A1518.IP)
[15:49:16] <eddyb> Matthias: you should've known, you wrote file.lines().collect(); not file.lines.collect; :))
[15:49:34] <Matthias> ahem
[15:50:35] <Matthias> and now it's http://paste.awesom.eu/Mathuin/mX3&ln
[15:51:17] <eddyb> <3 minimalism
[15:51:57] *** Joins: hadron (Mibbit@moz-8916A821.bredband.comhem.se)
[15:52:04] *** Joins: lenstr (lenstr@F51627A8.9636F313.7A27613B.IP)
[15:52:07] <Matthias> I second that eddyb 
[15:52:22] <Matthias> that's why I use Arch
[15:52:29] <eddyb> Matthias: it also uses less memory and it's faster :D
[15:52:46] <Matthias> yep
[15:52:54] <Matthias> sorry, but i'll have to go
[15:52:58] * eddyb is an optimization nut
[15:53:04] <eddyb> see ya :)
[15:53:06] <Matthias> thanks again
[15:53:10] <Matthias> i'll come back
[15:53:38] <Matthias> if you keep welcoming newbies this way in two year's time, the world will use only Rust
[15:53:50] <eddyb> we wish >:)
[15:54:01] <Matthias> bye :)
[15:54:06] *** Quits: Matthias (Mibbit@moz-7B1710C8.rev.sfr.net) (Quit: http://www.mibbit.com ajax IRC Client)
[15:56:14] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Quit: Leaving...)
[15:57:28] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[15:58:12] *** Quits: Blub\1 (wry@620605B3.71150E1A.237AE2BA.IP) (Ping timeout)
[15:58:23] *** Joins: Blub\1 (wry@620605B3.71150E1A.237AE2BA.IP)
[15:58:36] *** Joins: mib_ulbx9x (Mibbit@EF743C8E.C475E7B9.4785A682.IP)
[15:58:37] *** Quits: mib_ulbx9x (Mibbit@EF743C8E.C475E7B9.4785A682.IP) (Quit: mib_ulbx9x)
[15:58:47] *** Quits: LRN (LRN@moz-50DF30B.nationalcablenetworks.ru) (Ping timeout)
[16:00:54] *** Blub\1 is now known as Blub\w
[16:01:35] *** Joins: samnardoni (samnardoni@moz-6E63ABD.dyn.plus.net)
[16:03:24] *** Quits: samnardoni (samnardoni@moz-6E63ABD.dyn.plus.net) (Ping timeout)
[16:04:37] <cmr> luisbg: ping
[16:04:41] *** Quits: blank_name (blank_name@3D456DE8.9E887BEB.53C6B850.IP) (Quit: leaving)
[16:04:43] <cmr> or, actually, unping
[16:04:49] *** Joins: Krymise (Nietzsche@moz-CA789EF5.nwrknj.fios.verizon.net)
[16:08:26] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[16:10:05] *** Quits: KindOne (KindOne@5CDBB343.E114B4AE.EC6A1518.IP) (Quit: ZNC 1.2 - http://znc.in)
[16:10:46] *** Joins: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net)
[16:12:29] *** Quits: jvns__ (bork@moz-DE62990.nyc.res.rr.com) (Ping timeout)
[16:12:35] *** Joins: KindOne (KindOne@5CDBB343.E114B4AE.EC6A1518.IP)
[16:13:21] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[16:13:50] *** Joins: arrrrrrrrr (arrrrrrrrr@moz-BCE2F538.dynamic.qsc.de)
[16:17:40] *** Joins: LRN (LRN@moz-50DF30B.nationalcablenetworks.ru)
[16:24:08] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[16:24:31] *** Parts: achin (achin@moz-193F7FAD.ri.ri.cox.net) (WeeChat 0.4.0)
[16:25:04] *** Quits: moostik (Icedove@moz-654D48E3.w83-202.abo.wanadoo.fr) (Ping timeout)
[16:25:04] *** Joins: achin (achin@moz-193F7FAD.ri.ri.cox.net)
[16:25:57] *** Joins: aeqwa (aeqwa@moz-8EF28476.dsl.tropolys.de)
[16:28:09] *** Joins: jvns__ (bork@moz-DE62990.nyc.res.rr.com)
[16:29:27] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[16:32:52] <arrrrrrrrr> why is tell() in Seek?
[16:33:23] <cmr> arrrrrrrrr: because getting the location of the cursor is a property of seekable things?
[16:33:38] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Connection reset by peer)
[16:34:01] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[16:34:39] <SiegeLord> Is '///' a doc comment?
[16:34:43] <FreeFull> Yes
[16:35:12] <arrrrrrrrr> cmr: Not what I'm asking. It being in Seek implies that it's _only_ the property of seekable things.
[16:35:30] *** Quits: hadron (Mibbit@moz-8916A821.bredband.comhem.se) (Quit: http://www.mibbit.com ajax IRC Client)
[16:35:42] *** Joins: blank_name (blank_name@3D456DE8.9E887BEB.53C6B850.IP)
[16:35:45] <FreeFull> Where do you think it'd belong?
[16:35:50] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[16:35:51] <arrrrrrrrr> Tell
[16:36:04] <arrrrrrrrr> or whereever. not in seek
[16:36:26] <arrrrrrrrr> I mean: trait Seek : Tell. Sure. Not the other way around.
[16:36:40] <cmr> The need for it to be elsewhere hasn't happened, anything else would be overdesign right now.
[16:37:08] <SiegeLord> How about '/******' ?
[16:37:11] <cmr> SiegeLord: no
[16:37:13] *** Joins: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP)
[16:37:22] <cmr> SiegeLord: only /** and /// indicate a doc comment
[16:37:26] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[16:37:28] <cmr> (and //! and /*! )
[16:39:21] *** Joins: andreypopp (andreypopp@moz-7261DC60.net)
[16:42:08] <SiegeLord> /!! is still a doc comment though, right?
[16:42:12] <cmr> no
[16:42:14] <SiegeLord> *//!!
[16:42:24] <cmr> hmm, it shouldn't be
[16:42:32] <cmr> I don't think I added a test for that in my PR...
[16:43:36] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[16:44:40] *** Joins: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net)
[16:46:31] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[16:51:03] <SiegeLord> As far as I understand lexer.rs //!! is a doc comment
[16:51:16] <SiegeLord> I don't really have a problem with that, but it'd be nice to be sure
[16:53:07] *** Quits: alonlevy (alon@moz-B406282A.bb.netvision.net.il) (Ping timeout)
[16:53:19] *** Quits: bodie (bodie@moz-9A1A7949.cmdnnj.fios.verizon.net) (Ping timeout)
[16:54:25] <arrrrrrrrr> what's the correct code for a type that implements two traits: https://gist.github.com/anonymous/11b375b88159d2fb0ad2
[16:54:36] *** Quits: lenstr (lenstr@F51627A8.9636F313.7A27613B.IP) (Client exited)
[16:54:50] <ChrisMorgan> cmr: you didn't cover the ! variants; I noticed it at the time but didn't speak up (perhaps I should have). Anyway, the main thing that's important to me is that the Vim syntax highlighting is correct :P—it's not quite, but it's close enough.
[16:55:22] <SiegeLord> I'm updating the Scintilla highlighter atm, heh
[16:55:37] <SiegeLord> The stricter rules are easier to implement, I have to say
[16:55:46] <ChrisMorgan> Ensure nested comments work properly, if you can.
[16:55:51] <cmr> arrrrrrrrr: you need to create a dummy trait: trait SeekWriter: Seek + Writer { } impl<T: Seek + Writer> SeekWriter for T { }
[16:56:38] <ChrisMorgan> (The Vim syntax file doesn't have *quite* perfect support due to a different design employed in Vim for how it "tokenises", as it were, so /**/* doesn't highlight correctly.)
[16:56:39] <cmr> arrrrrrrrr: it's a bit unfortunate
[16:56:41] *** Quits: a__ (a__@moz-56DB9895.nycmny.fios.verizon.net) (Client exited)
[16:56:47] <arrrrrrrrr> cmr: What about this: https://gist.github.com/anonymous/9bb97459ec7932408d50
[16:57:07] <cmr> arrrrrrrrr: sure, but that's different than what you had. That's type parameteric rather than taking a trait object.
[16:58:21] <arrrrrrrrr> What's the difference?
[16:59:13] *** flaper87 is now known as flaper87|afk
[16:59:25] <cmr> With the generic, it will be "monomorphized" or specialized for each instantiation, has static dispatch and is eligible for inlining, etc. The trait object is virtual (runtime) dispatch.
[17:01:05] *** Joins: bodie (bodie@moz-9A1A7949.cmdnnj.fios.verizon.net)
[17:02:23] <arrrrrrrrr> I guess I'll go with the generic.
[17:02:51] *** Joins: jackneill (jackneill@moz-D69E90B5.pool.digikabel.hu)
[17:03:52] *** Quits: jaen (jaen@moz-F39AA415.play-internet.pl) (Ping timeout)
[17:04:13] <arrrrrrrrr> ChrisMorgan: How do you feel about special highlighting for non-reserved words? http://i.imgur.com/5u1uhUb.png
[17:05:16] *** Joins: [squiddy] (squiddy@moz-D09FFDE5.adsl.alicedsl.de)
[17:06:38] <achin> vim has this problem for many languages, so i suspect other editors might as well
[17:07:42] <arrrrrrrrr> It's not a problem if you don't treat types differently only because the are in the stdlib
[17:09:33] *** Joins: lenstr (lenstr@F51627A8.9636F313.7A27613B.IP)
[17:09:46] *** Quits: sigma1 (sigma@C91C7F36.70518F41.9D18269F.IP) (Ping timeout)
[17:10:59] *** Joins: machunter (Mibbit@moz-A0BF94DA.hsd1.ca.comcast.net)
[17:11:21] <SiegeLord> Alright, now to actually do the nested comments...
[17:11:53] *** Quits: csherratt (csherratt@moz-CAF331EA.cable.teksavvy.com) (Quit: csherratt)
[17:13:03] *** Joins: jaebaek (jaebaek@4D10E9F2.E551553C.7544CABF.IP)
[17:17:00] *** Quits: [squiddy] (squiddy@moz-D09FFDE5.adsl.alicedsl.de) (Ping timeout)
[17:17:17] *** Joins: vodik (simon@moz-EDB12EDB.dsl.bell.ca)
[17:17:57] <achin> for those of you who are actively writing rust code, what kind of projects are you all working on?
[17:19:02] <cmr> achin: rustc! but also playing with some opengl stuff.
[17:19:08] <eddyb> achin: from osdev to games to web stuff
[17:19:23] <eddyb> (speaking a bit in general, not just about me)
[17:19:57] <achin> what kind of webstuff?
[17:20:08] <achin> cmr: :)
[17:20:45] <eddyb> achin: I think we have the start of web servers (I'd look at rust-http - though I don't remember seeing anything recent about it)
[17:21:16] <eddyb> achin: and someone got some Rust code to compile with emscripten and run that in the browser
[17:21:21] <cmr> achin: http://www.rust-ci.org/
[17:21:31] <eddyb> oh, that too. huge list :D
[17:21:44] <achin> cmr: ooh, neat
[17:22:54] <achin> eddyb: i was actually just looking at that not 15 minutes ago (rust+emscripten)
[17:23:30] <achin> i had some C code that i build for JS with emscripten, now i'm re-writing in rust to try to do the same thing
[17:23:31] <SiegeLord> I'm working on my gnuplot controller and an Allegro binding from time to time
[17:23:31] *** Quits: Houm (Houm@moz-25669AA8.fbx.proxad.net) (Connection reset by peer)
[17:24:01] <cmr> I have a few projects that are waiting for a usable web framework
[17:24:09] <cmr> (because I do *not* want to write another web framework)
[17:25:05] <achin> what flavor of web framework?  something like BaseHTTPServer?  web.py?  django?
[17:25:24] <eddyb> I wouldn't mind something like express.js or sinatra
[17:27:19] *** Joins: Houm (Houm@moz-25669AA8.fbx.proxad.net)
[17:27:47] *** Quits: heftig (heftig@moz-BCB6FE2E.dip0.t-ipconnect.de) (Quit: Quitting)
[17:27:47] <achin> also, i just discovered github.com/crabtw/rust-bindgen
[17:27:59] <cmr> achin: well BaseHTTPServer is hardly a framework :p I was thinking flask or sinatra
[17:28:04] <achin> which looks very useful
[17:28:31] <achin> cmr: true, but i've had use for it in the past :)
[17:28:44] *** Joins: heftig (heftig@moz-BCB6FE2E.dip0.t-ipconnect.de)
[17:28:52] <achin> "framework" can mean a lot of different things for different projects :)
[17:29:40] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[17:29:44] <cmr> (rust-http fills basehttpserver's role, for the most part)
[17:30:21] *** Joins: mib_irtdby (Mibbit@96307CB.F2A10B2F.5E500FC7.IP)
[17:30:25] *** Joins: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com)
[17:30:28] *** Joins: sigma1 (sigma@moz-6E1846A2.range86-184.btcentralplus.com)
[17:30:55] *** Quits: mib_irtdby (Mibbit@96307CB.F2A10B2F.5E500FC7.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[17:32:53] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[17:34:34] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[17:34:42] *** Quits: jvns__ (bork@moz-DE62990.nyc.res.rr.com) (Ping timeout)
[17:40:22] *** Joins: pepper_chico (pepper_chi@moz-95A5633B.dsl.telesp.net.br)
[17:46:48] *** Quits: lenstr (lenstr@F51627A8.9636F313.7A27613B.IP) (Ping timeout)
[17:47:10] *** Joins: lenstr (lenstr@F51627A8.9636F313.7A27613B.IP)
[17:52:49] *** jld|mt_tam is now known as jld|32
[17:54:10] *** Joins: alan_andrade (alan_andra@8AB4864E.75F2E118.B7838CA6.IP)
[17:54:38] *** Quits: vodik (simon@moz-EDB12EDB.dsl.bell.ca) (Quit: work)
[18:00:44] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[18:02:30] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[18:02:48] <jfbk> anyone around familiar w/ task work-stealing?  trying to figure out if https://gist.github.com/jfager/8072694 is a bug
[18:03:53] <cmr> acrichto: ^
[18:04:03] <cmr> jfbk: slap a #[no_uv]; on it and see what happens, too!
[18:05:13] <jfbk> just on main()?
[18:05:18] <cmr> on the crate
[18:06:04] <jfbk> yeah, that makes it better
[18:06:21] <cmr> (no_uv uses native threads and io rather than libuv and green threads)
[18:07:21] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[18:11:03] *** Quits: nano (nano@moz-ED77243C.superkabel.de) (Connection reset by peer)
[18:11:44] *** Quits: bmu (chatzilla@moz-A87574A6.hsd1.pa.comcast.net) (Ping timeout)
[18:14:45] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[18:20:52] <epdtry> i got this strange error trying to convert a ~pointer to a ~trait object:  error: cannot pack type `~SelectableHandleImpl<,U,T>`, which does not fulfill `Send`, as a trait bounded by Send
[18:21:06] <epdtry> how did the trait become 'bounded by Send'?  its declaration doesn't mention Send at all
[18:21:18] <cmr> epdtry: so when you write ~Foo, what you really say is ~Foo:Send
[18:21:20] <cmr> Send is the default bound
[18:21:33] <cmr> to override, do ~SelectableHandleImpl<...>:
[18:21:44] <cmr> or the colon might go before the typarams...
[18:21:44] *** Joins: mark_edward (quassel@96AA16C1.78A885A5.FA72ABB8.IP)
[18:21:49] <epdtry> huh, that seems kind of weird, but ok i'll try that
[18:22:25] <epdtry> cmr: yep, it works, with the : before the type bounds
[18:22:31] <jfbk> cmr: are there native (no_uv friendly) sockets available yet?
[18:22:56] <cmr> jfbk: not yet
[18:24:59] <jfbk> ok, thanks.  i'm going to go ahead and open an issue, worst that happens is it gets wontfixed
[18:26:54] *** Quits: autra (augustin@moz-BE76895F.fbx.proxad.net) (Quit: by!)
[18:30:25] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[18:32:04] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[18:32:33] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[18:32:54] *** Joins: sankha93 (Instantbir@B39FFB54.35354309.EFB84E89.IP)
[18:33:34] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[18:35:20] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[18:36:01] *** Quits: gwty (gwtypc@51A75406.75E6295F.27560D6E.IP) (Ping timeout)
[18:36:22] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[18:38:26] *** Joins: io2 (io2@moz-34E8FDD4.home.otenet.gr)
[18:41:38] *** Joins: ssbr (~ssbr@5320A7E.3778D849.1D6E592A.IP)
[18:42:50] *** Joins: jviereck (Adium@moz-80E87D4F.dip0.t-ipconnect.de)
[18:43:08] *** Quits: jessta (jessta@moz-9DDA1270.dyn.iinet.net.au) (Ping timeout)
[18:45:56] *** Joins: eholk (eholk@moz-58C5EE6F.wavecable.com)
[18:48:45] *** Quits: klaus (koz@moz-E49E7C4B.hsd1.wa.comcast.net) (Quit: klaus)
[18:50:15] *** Joins: gunther (Mibbit@moz-B4C75DD5.tontut.fi)
[18:50:37] *** Quits: gunther (Mibbit@moz-B4C75DD5.tontut.fi) (Quit: http://www.mibbit.com ajax IRC Client)
[18:55:33] *** Quits: jviereck (Adium@moz-80E87D4F.dip0.t-ipconnect.de) (Quit: Leaving.)
[18:56:08] <glaebhoerl> if I do `make check-stage1-cfail NO_REBUILD=1` (for example), it indeed doesn't rebuild everything, but doesn't run the tests either. I'm guessing because `make` considers them already done. can I tell it to rebuild the tests but not the compiler somehow?
[18:56:28] <Ms2ger> Running the tests is make check, no?
[18:56:39] <cmr> glaebhoerl: there's a .ok file somewhere, removing it will re-run the tests
[18:57:55] <glaebhoerl> Ms2ger: there's a bunch of different subdivisions/targets, see https://github.com/mozilla/rust/wiki/Note-testsuite (if that's what you meant)
[18:58:37] <glaebhoerl> cmr: aha, that did it. thanks!
[18:58:43] <glaebhoerl> (I'll add that to the wiki...)
[19:01:20] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[19:03:06] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[19:05:57] *** Quits: heftig (heftig@moz-BCB6FE2E.dip0.t-ipconnect.de) (Ping timeout)
[19:06:58] *** Quits: pao (pao@moz-AF905E87.fbx.proxad.net) (Quit: pao)
[19:08:44] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[19:09:44] *** Joins: heftig (heftig@moz-A3C925B5.dip0.t-ipconnect.de)
[19:11:36] *** Quits: jaebaek (jaebaek@4D10E9F2.E551553C.7544CABF.IP) (Ping timeout)
[19:12:42] *** Quits: saf (Mibbit@moz-A378BFE8.vc.shawcable.net) (Quit: http://www.mibbit.com ajax IRC Client)
[19:15:33] *** Quits: sankha93 (Instantbir@B39FFB54.35354309.EFB84E89.IP) (Quit: Gone to save the world!)
[19:15:35] *** Joins: ross (ross@moz-5EA04060.br.br.cox.net)
[19:18:01] *** Quits: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[19:21:56] *** Quits: ssbr (~ssbr@5320A7E.3778D849.1D6E592A.IP) (Ping timeout)
[19:22:04] <bstrie_vacation> steveklabnik: "my role in rust is to be bad at rust forever" NO steveklabnik, that is MY JOB
[19:24:09] <epdtry> is there any way to create a non-Send owned closure?
[19:24:20] *** Joins: amey (user@EA8D8655.7575CC79.BE90E62C.IP)
[19:26:45] *** Joins: gwty (gwtypc@177091FB.18989014.F44414AF.IP)
[19:28:16] <Ms2ger> bstrie_vacation, OUT
[19:29:47] *** Quits: eholk (eholk@moz-58C5EE6F.wavecable.com) (Ping timeout)
[19:30:33] *** Joins: eholk (eholk@moz-58C5EE6F.wavecable.com)
[19:31:52] <alan_andrade> Makefile question, What's the meaning/value of the at sign in the very start of this LOC: https://github.com/mozilla/rust/blob/master/mk/docs.mk#L54
[19:34:19] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[19:34:56] *** Quits: mark_edward (quassel@96AA16C1.78A885A5.FA72ABB8.IP) (Ping timeout)
[19:35:04] <amey> I believe the Windows section of https://github.com/mozilla/rust/wiki/Note-getting-started-developing-Rust needs to be updated
[19:35:09] <Ms2ger> Silent, or something
[19:35:45] <amey> Since the old version of gcc is no longer being used, mingw32-pthread-old is no longer the right package to install for pthread
[19:35:59] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[19:36:14] <amey> -lpthread just fails outright on any c program, the mingw32-pthreads-win32 package needs to be installed
[19:37:47] *** Quits: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net) (Ping timeout)
[19:38:51] <amey> Would someone like to do that, or should I fork and send a pull request? :)
[19:38:53] *** Joins: synackse (synackse__@moz-DFB8ED3B.lightspeed.wepbfl.sbcglobal.net)
[19:39:52] *** Joins: bmu (chatzilla@moz-A87574A6.hsd1.pa.comcast.net)
[19:43:26] *** Quits: victorporof (victorporo@18CBE5E4.20A86B53.2B3D3D4.IP) (Quit: victorporof)
[19:44:35] *** Quits: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net) (Ping timeout)
[19:46:18] *** Quits: pepper_chico (pepper_chi@moz-95A5633B.dsl.telesp.net.br) (Quit: Ex-Chat)
[19:47:46] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Quit: Busying myself...)
[19:48:15] *** Joins: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP)
[19:48:41] *** Quits: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[19:51:15] *** Quits: synackse (synackse__@moz-DFB8ED3B.lightspeed.wepbfl.sbcglobal.net) (Ping timeout)
[19:55:17] *** Joins: hoverbear (hoverbear@7780AB28.22FA315D.C6F15025.IP)
[19:56:58] *** Quits: hoverbear (hoverbear@7780AB28.22FA315D.C6F15025.IP) (Ping timeout)
[19:58:30] *** Joins: doomlord_ (servitor@moz-D40D68D6.range86-184.btcentralplus.com)
[19:59:14] *** Quits: lenstr (lenstr@F51627A8.9636F313.7A27613B.IP) (Client exited)
[19:59:18] *** Joins: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net)
[19:59:32] *** Quits: alan_andrade (alan_andra@8AB4864E.75F2E118.B7838CA6.IP) (Input/output error)
[20:01:51] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[20:02:59] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[20:03:00] *** ChanServ sets mode: +ao dherman dherman
[20:03:33] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[20:05:07] *** Quits: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net) (Ping timeout)
[20:06:45] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[20:07:28] *** Joins: rca_ (rcatolino@moz-60C1810D.adsl.proxad.net)
[20:08:11] *** Quits: rca (rcatolino@moz-F4F5DA13.adsl.proxad.net) (Ping timeout)
[20:11:06] *** Quits: andreypopp (andreypopp@moz-7261DC60.net) (Quit: andreypopp)
[20:17:50] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[20:18:48] *** Quits: io2 (io2@moz-34E8FDD4.home.otenet.gr) (Ping timeout)
[20:18:57] *** Joins: dkeenaghan (dkeenaghan@A9F153F4.DDE28F19.986A907C.IP)
[20:20:26] *** Joins: io2 (io2@moz-34E8FDD4.home.otenet.gr)
[20:20:43] *** Joins: ianj (ianjneu@moz-7BA002E.hsd1.ma.comcast.net)
[20:21:07] *** Joins: tjc (tjc@moz-6EB4E533.dsl.tsoft.com)
[20:21:08] *** ChanServ sets mode: +o tjc
[20:21:15] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[20:22:00] *** Quits: eholk (eholk@moz-58C5EE6F.wavecable.com) (Quit: eholk)
[20:23:41] *** Joins: jlong (jlong@moz-6DFDE846.socal.res.rr.com)
[20:23:59] *** Joins: csherratt (csherratt@moz-CAF331EA.cable.teksavvy.com)
[20:24:17] *** Joins: eholk (eholk@moz-58C5EE6F.wavecable.com)
[20:24:19] *** Quits: ctult (Mibbit@moz-C934DE01.bois.qwest.net) (Quit: http://www.mibbit.com ajax IRC Client)
[20:26:26] *** Joins: lhk (Mibbit@moz-171CEA1.dip0.t-ipconnect.de)
[20:26:49] *** Quits: amey (user@EA8D8655.7575CC79.BE90E62C.IP) (Client exited)
[20:29:43] *** Joins: qrpth (andreas@moz-C54F6246.dyn.estpak.ee)
[20:32:13] *** Quits: jlong (jlong@moz-6DFDE846.socal.res.rr.com) (Ping timeout)
[20:34:45] *** Joins: jlong (jlong@moz-6DFDE846.socal.res.rr.com)
[20:35:04] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[20:36:52] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[20:41:53] *** Quits: jlong (jlong@moz-6DFDE846.socal.res.rr.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[20:45:06] *** Quits: lhk (Mibbit@moz-171CEA1.dip0.t-ipconnect.de) (Quit: http://www.mibbit.com ajax IRC Client)
[20:46:06] *** Joins: amey (user@EA8D8655.7575CC79.BE90E62C.IP)
[20:47:45] *** Quits: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[20:52:33] *** Quits: Krymise (Nietzsche@moz-CA789EF5.nwrknj.fios.verizon.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[20:54:23] *** Joins: jensnockert (jensnocker@moz-29FB8CF2.mobileonline.telia.com)
[20:56:40] *** Quits: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com) (Input/output error)
[20:57:59] *** Quits: amey (user@EA8D8655.7575CC79.BE90E62C.IP) (Client exited)
[20:58:27] *** Quits: tjc (tjc@moz-6EB4E533.dsl.tsoft.com) (Ping timeout)
[20:59:44] *** Joins: fournm (Aria@moz-ABB60BA0.austin.res.rr.com)
[21:01:00] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[21:01:54] *** Joins: tjc (tjc@moz-6EB4E533.dsl.tsoft.com)
[21:01:54] *** ChanServ sets mode: +o tjc
[21:02:27] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[21:04:16] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[21:04:37] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[21:04:37] <arrrrrrrrr> does rust have an equivalent of ungetc? (ungetc pushes one byte back onto the input stream such that getc on that stream returns the pushed back character)
[21:05:21] *** Joins: mark_edward (quassel@96AA16C1.78A885A5.FA72ABB8.IP)
[21:05:27] <arrrrrrrrr> I have to write a parser and need one byte lookahead
[21:06:23] *** Quits: Ms2ger (Ms2ger@8B85F0F7.C5F25A2D.F15B0BB3.IP) (Quit: nn)
[21:06:33] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[21:06:41] *** Joins: fabiand (fabiand@moz-6AEBA99F.adsl.alicedsl.de)
[21:08:38] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[21:08:38] *** ChanServ sets mode: +ao brson brson
[21:09:57] *** Joins: alan_andrade (alan_andra@8AB4864E.75F2E118.B7838CA6.IP)
[21:10:57] <kimundi> Dunno - there is the peekable Iterator adapter, which might do what you want
[21:11:15] *** Joins: alonlevy (alon@moz-B406282A.bb.netvision.net.il)
[21:11:43] *** Quits: alan_andrade (alan_andra@8AB4864E.75F2E118.B7838CA6.IP) (Ping timeout)
[21:12:33] *** Quits: rca_ (rcatolino@moz-60C1810D.adsl.proxad.net) (Ping timeout)
[21:13:04] *** Quits: fabiand (fabiand@moz-6AEBA99F.adsl.alicedsl.de) (Quit: Verlassend)
[21:14:54] <arrrrrrrrr> BufferedReader with capacity 1 looks like what I want
[21:16:45] <arrrrrrrrr> But it doesn't implement Seek, damn it
[21:17:05] <carter> is there a parser combinator lib yet?
[21:17:17] <carter> or does that require HKT?
[21:17:29] <myname> what about making an seekable iterator?
[21:17:51] <arrrrrrrrr> (I only need tell() but tell() is in Seek)
[21:20:59] <o11c> arrrrrrrrr: why do you need tell() ?
[21:21:43] <o11c> charnormally you want (line, column), not (byteoffset)
[21:22:22] <arrrrrrrrr> o11c: it's a binary format with dynamic size and the size is the first byte as u8
[21:22:23] <o11c> s/\(char\)\(.*\)\(column\)/\2\1\3/
[21:22:37] <o11c> ah, okay
[21:22:50] * o11c doesn't remember the last time he had to parse a format that wasn't text
[21:25:27] *** Quits: refold (gman@moz-42D68426.a258.priv.bahnhof.se) (Quit: leaving)
[21:27:38] *** Joins: jlong (jlong@moz-6DFDE846.socal.res.rr.com)
[21:29:54] <arrrrrrrrr> and the data inside is aligned ;_;
[21:29:56] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: Leaving)
[21:31:07] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[21:33:52] <eddyb> wow, someone bothered to post to the *mailing list* about the Rust game
[21:34:05] <eddyb> I understand reddit, but this is a step too far
[21:34:17] *** Quits: csherratt (csherratt@moz-CAF331EA.cable.teksavvy.com) (Quit: csherratt)
[21:35:49] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[21:35:57] *** Joins: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com)
[21:35:57] *** ChanServ sets mode: +ao pcwalton pcwalton
[21:36:52] *** Joins: a__ (a__@moz-56DB9895.nycmny.fios.verizon.net)
[21:37:37] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[21:37:45] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[21:37:51] <carter> does look like an intersting game though
[21:38:03] <carter> mine craft has launched a thousand clones
[21:38:07] <arrrrrrrrr> Do I understand correctly that a MemReader reads from a fixed owned pointer whose size doesn't change while the reader exists?
[21:39:29] <arrrrrrrrr> s/owned pointer/~[u8]/
[21:39:43] <Luqman> yes
[21:40:19] <arrrrrrrrr> then I'd like something like at(index) which equals [index]
[21:41:01] <arrrrrrrrr> should be trivial from inside but from outside I have to read, unwrap(), and seek back.
[21:41:50] <Luqman> arrrrrrrrr: you can get to the underlying buffer with the Decorator methods: inner,inner_ref & inner_mut_ref
[21:42:22] <arrrrrrrrr> but they consume the reader, no?
[21:42:42] <arrrrrrrrr> ah, no. inner does, inner_ref doesn't
[21:43:42] <arrrrrrrrr> then I guess I'll just read it all at once and put it in a memreader
[21:44:51] *** Quits: Kxepal (Miranda@moz-BCAF7DE0.pppoe.mtu-net.ru) (Ping timeout)
[21:46:52] *** Joins: gareth0 (gareth0@moz-BF38AE9B.dynamic.dsl.as9105.com)
[21:47:39] *** Joins: Kxepal (Miranda@moz-4DD94850.pppoe.mtu-net.ru)
[21:47:53] *** Quits: fournm (Aria@moz-ABB60BA0.austin.res.rr.com) (Quit: Leaving)
[21:51:30] *** Quits: mark_edward (quassel@96AA16C1.78A885A5.FA72ABB8.IP) (Ping timeout)
[21:52:36] <bvssvni> is it possible to call a static function on generic type?
[21:53:54] <Tari> yes, assuming you mean something like fn Somestruct::foo<T>(x: T)
[21:53:56] <kimundi> bvssvni: YOu can call a static function of a trait for a generic type that implements that trait - but that currently requires an workaround because of missing syntax for it
[21:54:23] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[21:54:41] <bvssvni> kimundi: how do I work around it?
[21:55:09] <bvssvni> kimundi: how do I work around it?
[21:55:43] <bvssvni> kimundi: sorry, I thought I spelled your username wrong
[21:56:07] <kimundi> bvssvni: The function needs to contain Self as a type
[21:56:21] <kimundi> bvssvni: If it returns Self, then inference can figure it out
[21:56:37] <kimundi> else you need to add an paramter that uses the Self type
[21:56:52] <bvssvni> kimundi: I am trying to implement 'approx_epsilon' on ApproxEq
[21:56:54] <kimundi> trait Foo { fn bar(Option<Self>); } impl Foo for uint { fn bar(_: Option<uint>) {  } } Foo::bar(None::<uint>)
[21:57:11] <kimundi> Oh, is it an existing trait in the stdli?
[21:57:47] <bvssvni> yes
[21:58:32] <kimundi> Well, implementing approx_epsilon should not be a problem
[21:58:33] *** Joins: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu)
[21:58:44] <kimundi> But actually calling it at the moment is impossible
[21:59:14] <bvssvni> T::approx_epsilon() doesn't work
[21:59:36] *** Joins: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net)
[22:00:18] <kimundi> Yes, the syntax would be ApproxEq::<for T, Eps>::approx_epsilon()
[22:00:39] <kimundi> with the "for T" part being the missing syntax for specifiy ing the self type
[22:00:43] <olsonjeffery> another day, another round of rustpkg woe :(
[22:01:10] <kimundi> There has not been a final decision on how to deal with such functions, which is why it did not get implemented yet
[22:01:51] <olsonjeffery> anyone familiar w/ building bindings libraries w/ rustpkg on osx?
[22:02:07] <olsonjeffery> im trying to build rust-sdl2 and it can't find my installed SDL2 library..
[22:02:14] <olsonjeffery> don't know the secret incantation
[22:02:40] <kimundi> bvssvni: Hm, but looking at that trait further, it is apparently inteded for the "Eps" type paramter to be equal to the Self type
[22:03:02] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[22:03:18] <kimundi> So, impl ApproxEq<MyType> for MyType { ... } ... ApproxEq::<MyType>::approx_epsilon(() should work
[22:03:52] <bvssvni> kimundi: what if MyType<T>?
[22:04:09] <bvssvni> kimundi: I am creating a Matrix 4x4 generic type
[22:04:26] <kimundi> impl<T> ApproxEq<MyType<T>> for MyType<T> { ... } ... ApproxEq::<MyType<SomeOtherType>>::approx_epsilon()
[22:04:31] *** Joins: brendan (brendaneic@moz-569CD944.tor.primus.ca)
[22:04:52] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[22:05:04] <kimundi> You can generically implement a trait
[22:05:29] <bvssvni> I think it should be: ApproxEq::<T>::approx_epsilon()
[22:05:44] <bvssvni> but I get 'cannot determine a type for this bounded type parameter: unconstrained type'
[22:06:18] <kimundi> Hm? Show your code
[22:06:31] <bjz> bvssvni: the issue is you can't infer the Self type, because it is not present anywhere in the signature, nor can it infer it via the return type
[22:06:42] <kimundi> My last impl lines should work in principle as a starting point
[22:06:44] <bjz> (bcause the rturn type is not Self)
[22:06:57] <bvssvni> http://pastebin.com/wLPnvBJe
[22:07:06] <bjz> kimundi: Eps is not intended to always be Self
[22:07:07] *** Joins: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com)
[22:07:31] <kimundi> bjz: Well, it is for the two existing impls for f32 and f64, so I though that'S how it gets used atm :P
[22:07:44] <kimundi> If I'm wrong, please take over :)
[22:07:55] <bjz> kimundi: for example a matrix would have an Eps of the type of the element
[22:07:56] <kimundi> You have wastly more experince with this problem area ;)
[22:08:10] <kimundi> yeah
[22:08:23] <bjz> unfortunetely you can't access it atm
[22:08:29] *** Quits: eholk (eholk@moz-58C5EE6F.wavecable.com) (Ping timeout)
[22:08:31] <bvssvni> nooooo!
[22:08:42] <bjz> bvssvni: sorry :(
[22:08:51] *** Quits: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com) (Ping timeout)
[22:08:52] <bvssvni> bjz: it's ok
[22:09:06] <bvssvni> bjz: I just move the methods to the impl of the type
[22:09:18] <bjz> yeah, that's what I do
[22:09:40] <bjz> then I can have Matrix::<T>::some_thing()
[22:09:58] <bvssvni> bjz: I can implement ApproxEq when rust gets syntax for it
[22:10:18] <bjz> have you seen my maths lib?
[22:10:43] <bvssvni> no
[22:10:46] <bvssvni> link?
[22:10:47] <bjz> I assume you are doing game stuff if your doing 4x4s
[22:11:03] <bjz> still a wip: https://github.com/bjz/cgmath-rs
[22:11:19] <bjz> but folks are using it successfully for stuff
[22:11:45] *** Joins: kvanb (kvanb@moz-1C09EC1.lnse1.win.bigpond.net.au)
[22:13:54] <bvssvni> bjz: this is excellent!
[22:14:06] * kimundi is meanwhile busy implementing frustrum culling - in java!
[22:14:56] *** Quits: eddyb (eddy@moz-68E0B7D0.residential.rdsnet.ro) (Ping timeout)
[22:15:05] <bvssvni> bjz: have you looked into dual numbers?
[22:16:11] *** Joins: jvns__ (bork@moz-DE62990.nyc.res.rr.com)
[22:16:32] *** Joins: z0w0 (zack@D80AA51.4F58607A.2CE63F58.IP)
[22:17:11] *** Joins: alan_andrade (alan_andra@8AB4864E.75F2E118.B7838CA6.IP)
[22:17:50] <kimundi> Okay, I skimmed the wiki article for Dual Numbers now, but I'm still not sure what they are used for :P
[22:18:11] <bvssvni> they are used for automatic differentiation
[22:19:06] <bvssvni> there are some pretty cool things you can do, but it is difficult to wrap the head around it
[22:19:17] <bjz> heh, no, haven't
[22:19:30] <bjz> why do you ask
[22:19:57] <bvssvni> I am trying to make a generic algebra library in Rust
[22:19:58] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[22:20:07] <olsonjeffery> im curious.. does std contain basic math stuff like abs, mix, max, etc?
[22:20:27] <olsonjeffery> i couldnt find them so ended up impl'ing them locally. figured they were likely candidates for inclusion in std
[22:20:45] <bjz> look in std::num
[22:20:45] <olsonjeffery> min, max, etc, even
[22:20:51] <kimundi> http://static.rust-lang.org/doc/master/std/cmp/index.html
[22:20:51] <olsonjeffery> ty
[22:21:05] <bvssvni> bjz: including some research I have done about nilpotent 3 (generalization of dual numbers)
[22:22:00] <bjz> bvssvni: being fully generic with algebra in Rust is hard atm
[22:22:33] <bjz> bvssvni: you'd have to make some concessions surrounding type safety and performance
[22:22:38] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[22:22:58] <bvssvni> bjz: performance does not matter for me
[22:23:23] <bvssvni> bjz: I can create a type that generates the formulas
[22:23:41] *** Quits: jensnockert (jensnocker@moz-29FB8CF2.mobileonline.telia.com) (Ping timeout)
[22:23:44] <bvssvni> bjz: and then use the formula with copy & paste when needed
[22:24:00] <geal> bvssvni: being fully generic with algebra would make interesting stuff. Using algebra only on numbers is not fun enough :p
[22:24:48] <bvssvni> geal: the problem is to simplify the expressions, because it often grows expontentially
[22:25:29] <geal> yep
[22:25:32] <bjz> bvssvni: are dual numbers related to geometric algebra?
[22:25:44] <bvssvni> bjz: almost
[22:25:44] <phil_> so guys, .iter().map() no longer works on a string... whats the ideal solution now?
[22:26:10] <bvssvni> bjz: dual numbers can be emulated with numbers like 4.0000002
[22:26:26] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[22:26:40] <kimundi> phil_: .cahrs().map()
[22:26:40] *** Joins: Krymise (Nietzsche@moz-CA789EF5.nwrknj.fios.verizon.net)
[22:26:46] <kimundi> phil_: .chars().map(), even
[22:26:48] <bvssvni> bjz: it follows the same laws as for infinitesimals, which is heavily used in physics
[22:27:25] <bvssvni> bjz: dual numbers got also interesting properties when nested into complex number or quaternions
[22:27:27] <phil_> thanks kimundi 
[22:27:50] <bvssvni> bjz: dual quaternions fully model rigid body movement
[22:28:09] <bjz> I've heard that before
[22:28:51] *** Joins: synackse (synackse__@moz-DFB8ED3B.lightspeed.wepbfl.sbcglobal.net)
[22:30:22] *** Quits: doomlord_ (servitor@moz-D40D68D6.range86-184.btcentralplus.com) (Ping timeout)
[22:32:07] *** Joins: eholk (eholk@moz-58C5EE6F.wavecable.com)
[22:33:00] *** Quits: tjc (tjc@moz-6EB4E533.dsl.tsoft.com) (Ping timeout)
[22:35:01] *** Quits: alonlevy (alon@moz-B406282A.bb.netvision.net.il) (Ping timeout)
[22:36:34] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[22:38:19] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[22:38:50] *** Quits: synackse (synackse__@moz-DFB8ED3B.lightspeed.wepbfl.sbcglobal.net) (Ping timeout)
[22:39:05] *** Joins: bheylin (textual@moz-8255E94E.adsl.online.nl)
[22:39:29] *** Joins: synackse (synackse__@moz-DFB8ED3B.lightspeed.wepbfl.sbcglobal.net)
[22:41:38] *** Joins: jessta (jessta@moz-9DDA1270.dyn.iinet.net.au)
[22:44:43] *** Quits: jackneill (jackneill@moz-D69E90B5.pool.digikabel.hu) (Ping timeout)
[22:47:23] <olsonjeffery> hey rustc wizards.. got a question.. how do you specify OSX -framework linker args where you'd normall use #[link] or -lLibName for a non-framework dependeny?
[22:47:28] <olsonjeffery> for example, this: #[link(name="framework SDL2")]
[22:47:40] *** jorendorff_away is now known as jorendorff
[22:47:44] <olsonjeffery> produces the erroneous linker input of `-lframework SDL2`
[22:47:55] <olsonjeffery> which lead to much confusion and mucking about so that i could fix it..
[22:48:09] *** jorendorff is now known as jorendorff_away
[22:48:24] <olsonjeffery> is this a bug? or is there some other path to specific this correctlu?
[22:49:59] *** Joins: Lurk_ (chatzilla@moz-F088D030.hsd1.in.comcast.net)
[22:50:07] <olsonjeffery> specify this correctly*
[22:50:40] *** Quits: brendan (brendaneic@moz-569CD944.tor.primus.ca) (Quit: brendan)
[22:52:43] <o11c> olsonjeffery: IIRC it's type="framework"
[22:54:12] <olsonjeffery> Users/jeff/src/rust-sdl2/src/sdl2/sdl.rs:8:11: 8:15 error: found `type` in ident position
[22:54:14] <olsonjeffery> /Users/jeff/src/rust-sdl2/src/sdl2/sdl.rs:8     #[link(type="framework", name="SDL2")]
[22:54:15] <olsonjeffery> :/
[22:54:59] <olsonjeffery> ah.
[22:55:06] <olsonjeffery> kind="framework"
[22:56:47] <olsonjeffery> niiice.
[22:58:14] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[23:00:14] *** Quits: jlong (jlong@moz-6DFDE846.socal.res.rr.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[23:02:28] <olsonjeffery> o11c: thanks for the lead
[23:02:51] <arrrrrrrrr> How do I implement a trait for every struct that implements another trait?
[23:03:39] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[23:05:25] <olsonjeffery> arrrrrrrrr: impl<T: AnotherTrait> FooTrait for T {}
[23:05:25] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[23:05:26] <olsonjeffery> iirc
[23:05:57] <arrrrrrrrr> looks good
[23:06:49] <arrrrrrrrr> this looks a bit odd. how do I do this correctly: https://gist.github.com/anonymous/42bc4732bd2ca52f3b3f
[23:07:33] *** Joins: jlong (jlong@moz-6DFDE846.socal.res.rr.com)
[23:09:37] <olsonjeffery> arrrrrrrrr: that gist builds for me..
[23:09:46] <arrrrrrrrr> for me too
[23:09:48] <arrrrrrrrr> but it looks odd
[23:10:17] *** Quits: qrpth (andreas@moz-C54F6246.dyn.estpak.ee) (Quit: Lost terminal)
[23:10:17] <olsonjeffery> i don't think you need to box it, though? It should be statically available.
[23:10:24] <olsonjeffery> you only need to box it when you're passing it arround..
[23:10:41] <arrrrrrrrr> (a as Tell) doesn't work
[23:10:48] <olsonjeffery> you shouldn't need to cast it
[23:11:01] <arrrrrrrrr> tell() is defined in Seek and in Tell
[23:11:17] <olsonjeffery> yeah..
[23:12:12] *** Quits: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[23:12:27] <olsonjeffery> so are you dealing w/ a heterogenous collect of Tell implementors?
[23:12:42] <arrrrrrrrr> I'm not sure what you mean by that
[23:12:54] <olsonjeffery> maybe the issue is that the example is kind of contrived and the method name overlap kind of cuases it to break down?
[23:13:19] <olsonjeffery> because my first instinct is to say "Why do you even need Tell, here?"
[23:13:29] <arrrrrrrrr> because I don't have seek()
[23:13:55] <arrrrrrrrr> (I have seek for memreader but not in general)
[23:16:29] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[23:16:39] <arrrrrrrrr> ~[1,2,3,4] is ~[u8]? That's unexpected.
[23:16:53] <arrrrrrrrr> nope it's not, sorry
[23:18:05] *** Joins: jvns_ (bork@moz-DE62990.nyc.res.rr.com)
[23:18:05] *** Quits: jvns__ (bork@moz-DE62990.nyc.res.rr.com) (Connection reset by peer)
[23:18:45] <bheylin> the compiler is reporting #[warn(dead_code)] for public method of a lib 
[23:19:23] <bheylin> is this expected behavior? or should I be tagging those methods as 'used by an external party' in some way
[23:19:45] <achin> are the methods in a module?  if so, is the module public?
[23:20:04] <bheylin> they are in the default module of my lib
[23:20:06] <bheylin> so lib.rs
[23:20:14] *** Joins: nielsle (nielsle@moz-C46DA772.boa.fiberby.dk)
[23:20:17] <achin> i mean, in a mod {} block
[23:20:41] <bheylin> no not in a mod block, I presume that's my answer :)
[23:20:49] *** Joins: andreypopp (andreypopp@moz-7261DC60.net)
[23:21:50] <SiegeLord> Is the structure itself public?
[23:22:27] *** Quits: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com) (Ping timeout)
[23:22:32] <achin> anyway, if things are actually public, the dead_code analysis seems to be working correctly in my tests
[23:22:34] <bheylin> yep struct is pub
[23:22:37] *** Joins: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com)
[23:22:46] *** Joins: pedantech (quassel@moz-5B428D44.msl-mt.client.bresnan.net)
[23:22:51] <bheylin> giving warning on impl new method
[23:23:56] <achin> can you give an example, bheylin ?
[23:24:18] *** Quits: jlong (jlong@moz-6DFDE846.socal.res.rr.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[23:24:55] <bheylin> achin:  the way
[23:25:03] <bheylin> achin:  on the way, even
[23:25:10] *** Joins: apoelstra (username@moz-B7040E82.vs.shawcable.net)
[23:25:30] <apoelstra> mozilla foundation is asking for donations -- does any of that go to rust development?
[23:26:02] <bheylin> https://gist.github.com/brianheylin/8076554
[23:26:47] <achin> what's the error on?
[23:26:52] <achin> or rather, the dead_code warning
[23:27:21] <achin> (neither Document::new nor EDN::default are public)
[23:27:56] *** Quits: nielsle (nielsle@moz-C46DA772.boa.fiberby.dk) (Ping timeout)
[23:28:27] <bheylin> there's my presumption
[23:28:37] <bheylin> thought all impl methods were public
[23:28:50] <bheylin> making them public fixes the issue
[23:32:43] <achin> the tutorial does mention this: "by default, items (fn, struct, static, mod, ...) are private."
[23:35:27] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[23:35:44] <bheylin> it sure does, but my brain has a terrible short term memory
[23:36:47] <achin> just like anything that's new, there's a lot to remember
[23:37:15] *** Quits: paulproteus (quassel@199.199.210.158) (Ping timeout)
[23:37:28] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[23:37:29] <achin> or even things that aren't new.  i've been programming in python for years, and i always have a browser tab open to docs.python.org whenever i'm working on python code
[23:37:56] *** Quits: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl) (Quit: Leaving)
[23:37:56] <bheylin> indeed, the curse of the internet
[23:38:51] *** Joins: paulproteus (quassel@458FE134.3EC36C88.CBDCF1DC.IP)
[23:39:18] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[23:39:18] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[23:39:33] *** Quits: spider-mario (spidermari@moz-81131DB6.fbx.proxad.net) (Input/output error)
[23:40:03] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[23:43:41] *** Joins: brson (brson@981AA104.E81F12CD.76F66111.IP)
[23:43:41] *** ChanServ sets mode: +ao brson brson
[23:43:58] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[23:49:36] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[23:50:30] *** Quits: synackse (synackse__@moz-DFB8ED3B.lightspeed.wepbfl.sbcglobal.net) (Ping timeout)
[23:52:21] *** Quits: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu) (Ping timeout)
[23:53:12] *** Quits: eholk (eholk@moz-58C5EE6F.wavecable.com) (Quit: eholk)
[23:56:29] *** Joins: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu)
[23:57:21] <olsonjeffery> so does https://github.com/mozilla/rust/issues/10470 mean that it's pretty much impossible to import a foreign github project that's organized as it should be, according to rustpkg doctrine?
[23:57:33] <olsonjeffery> import/reference/take a dep on in another rustpkg
[23:59:12] *** Joins: synackse (synackse__@moz-DFB8ED3B.lightspeed.wepbfl.sbcglobal.net)
