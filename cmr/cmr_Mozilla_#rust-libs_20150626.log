[00:02:13] *** kimundi is now known as zz_kimundi
[00:09:08] *** Joins: aatch (james@moz-is4j4r.cable.telstraclear.net)
[01:17:45] *** Quits: brson (brson@moz-ilu.bfn.243.173.IP) (Connection closed)
[02:16:58] *** Quits: scott (uid25790@moz-e5ok1n.brockwell.irccloud.com) (Quit: Connection closed for inactivity)
[02:38:00] *** Quits: zz_kimundi (kimundi@moz-3idv6e.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[02:40:18] *** Joins: zz_kimundi (kimundi@moz-8qef24.dip0.t-ipconnect.de)
[02:40:19] *** zz_kimundi is now known as kimundi
[03:26:28] *** Joins: annodomini (lambda@moz-qgii5v.ma.comcast.net)
[04:06:36] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[04:52:51] *** Quits: annodomini (lambda@moz-qgii5v.ma.comcast.net) (Client exited)
[04:52:54] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[05:51:54] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[06:07:10] <Gankro> huon: upon reflection I'm pretty sure what you said about Iterator and StreamingIterator is crap
[06:07:47] <Gankro> Iterator fundamentally says "you can always call next again" while StreamingIterator fundmentally says "you can only have one next at a time"
[06:07:57] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Ping timeout: 121 seconds)
[06:10:02] <eternaleye> seanmonstar: Personally, I think UTC should be treated as another localtime, and the basis should be TAI. Mainly because leap seconds are disgusting and error-prone. See also: https://lwn.net/Articles/504744/ and https://lwn.net/Articles/648313/
[06:10:41] <Gankro> hmm... wait I think I got the inheritance you're describing backwards. It's unsound for StreamingIterator to be an Iterator, but the other might work... it's not clear you can just say `&'a self`...
[06:10:45] <eternaleye> seanmonstar: In which the *exact same bug* recurred in a different place, with regard to leap second handling, because it's rarely exercised
[06:11:44] <eternaleye> seanmonstar: (and "timers expire 1s early" can be a catastrophic bug under the right circumstances, which did and do occur)
[06:13:09] <huon> Gankro: no, what I said was totally true
[06:13:34] <huon> Gankro: "can call next again" is a subset of "next can't be called again"
[06:13:40] <huon> since you can arbitrarily impose the latter
[06:14:10] <huon> Gankro: yeah, your second thing is what I mean
[06:14:13] * huon reads slowly
[06:14:52] <Gankro> Wait no
[06:15:02] <Gankro> How do you soften the streamingiterator constraing
[06:15:12] <Gankro> Or are you just suggesting a second `next` method
[06:15:47] <huon> impl<I: Iterator> StreamingIterator for I { type Item<'a> = I::Item; fn next<'b>(&'b mut self) -> Option<I::Item> { Iterator::next(self) } }
[06:15:51] <huon> should type check
[06:16:07] <huon> (assuming the unused lifetime works out there)
[06:16:22] *** Quits: rustbot (havvy@moz-epv20b.wa.comcast.net) (Ping timeout: 121 seconds)
[06:16:34] <huon> I::Item == <I as Iterator>::Item
[06:17:06] <Gankro> Shouldn't 'a and 'b be unified? Isn't that the whole point?
[06:17:19] <huon> the definition of StreamingIterator is
[06:17:37] <huon> trait StreamingIterator { type Item<'a>; fn next<'b>(&'b mut self) -> Option<Item<'b>>; }
[06:17:46] <huon> *Self::Item<'b>
[06:17:58] <Gankro> Ah right
[06:18:05] <Gankro> I use Item<*> for hkt :P
[06:18:12] <huon> nonsense :P
[06:18:32] <Gankro> (also you omitted the lifetime in the return)
[06:19:03] <huon> ?
[06:19:11] <Gankro> Option<I::Item>
[06:19:21] <huon> that's <I as Iterator>::Item
[06:19:29] <huon> was ambiguous, sorry
[06:20:45] <Gankro> doesn't that imply the yielded item lives as long as self?
[06:20:57] <huon> that is true for Iterator
[06:21:05] * Gankro thinks
[06:21:14] <huon> it must strictly outlive the anonymous &mut self lifetime
[06:21:27] <Gankro> modulo our current soundness bugs :P
[06:21:28] <huon> it certainly can't be less than or equal to that anonymous lifetime
[06:21:41] <huon> yeah, the compiler is perfect in this world :P
[06:32:45] *** Joins: rustbot (havvy@moz-epv20b.wa.comcast.net)
[06:53:12] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[06:53:42] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[06:53:48] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[07:07:40] <Gankro> aturon: read turpl
[07:20:38] *** Joins: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se)
[08:15:00] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Connection closed)
[08:15:52] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[08:18:08] *** Quits: ChrisMorgan (ChrisMorgan@moz-g6osuq.tpgi.com.au) (Ping timeout: 121 seconds)
[08:42:35] *** Joins: nagisa (nagisa@moz-8t068g.static.zebra.lt)
[09:11:08] *** Quits: nagisa (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[09:13:41] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[10:05:48] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[10:18:20] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[11:20:06] *** Quits: aatch (james@moz-is4j4r.cable.telstraclear.net) (Ping timeout: 121 seconds)
[13:04:06] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[13:13:01] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[13:22:43] *** Joins: annodomini (lambda@moz-qgii5v.ma.comcast.net)
[13:29:56] *** Joins: ChrisMorgan (ChrisMorgan@moz-g6osuq.tpgi.com.au)
[13:30:59] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[13:38:16] <bluss> it would be awesome if the substring search PR could get final approval https://github.com/rust-lang/rust/pull/26327
[13:46:41] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[14:01:45] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Connection closed)
[14:45:14] <bluss> sometimes I wish Vec had a method .take() that swapped it with an empty vec
[16:08:43] <kimundi> bluss: Interesting idea
[16:08:53] *** Joins: ryanhiebert (ryanhiebert@moz-nsd5kl.ks.cox.net)
[16:25:29] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[16:38:40] *** Quits: eternaleye (eternaleye@moz-7ps.ehi.245.50.IP) (Ping timeout: 121 seconds)
[16:39:24] *** Quits: annodomini (lambda@moz-qgii5v.ma.comcast.net) (Client exited)
[16:42:17] *** Joins: eternaleye (eternaleye@moz-7ps.ehi.245.50.IP)
[16:48:01] *** Quits: ryanhiebert (ryanhiebert@moz-nsd5kl.ks.cox.net) (Connection closed)
[16:48:22] *** Joins: ryanhiebert (ryanhiebert@moz-nsd5kl.ks.cox.net)
[16:52:24] *** Quits: ryanhiebert (ryanhiebert@moz-nsd5kl.ks.cox.net) (Ping timeout: 121 seconds)
[17:03:11] *** Joins: sigma (sigma@moz-l8bauc.range217-44.btcentralplus.com)
[17:13:16] *** Quits: sigma (sigma@moz-l8bauc.range217-44.btcentralplus.com) (Ping timeout: 121 seconds)
[17:22:27] <SimonSapin> bluss: mem::replace?
[17:25:28] <bluss> yes, a convenience for mem replace
[17:57:59] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[19:30:06] *** kimundi is now known as zz_kimundi
[19:32:26] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (A TLS packet with unexpected length was received.)
[19:35:21] *** zz_kimundi is now known as kimundi
[19:57:08] *** Quits: Asandari (Asandari@moz-emp96u.cable.teksavvy.com) (Ping timeout: 121 seconds)
[19:57:43] *** Joins: Asandari (Asandari@moz-emp96u.cable.teksavvy.com)
[20:11:20] *** Joins: Tuba (Tobba@moz-o13d22.bredband.telia.com)
[20:12:00] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[20:12:23] *** Tuba is now known as Tobba
[20:16:00] *** Joins: ryanhiebert (ryanhiebert@moz-nsd5kl.ks.cox.net)
[21:17:49] *** Quits: JustAPerson (JustAPerson@moz-un628q.moe) (*.net *.split)
[21:17:50] *** Quits: ryanhiebert (ryanhiebert@moz-nsd5kl.ks.cox.net) (*.net *.split)
[21:17:50] *** Quits: eternaleye (eternaleye@moz-7ps.ehi.245.50.IP) (*.net *.split)
[21:17:50] *** Quits: [o__o] ([o__o]@moz-4s2t5k.compute-1.amazonaws.com) (*.net *.split)
[21:17:50] *** Quits: Sergio (Sergio@moz-g1j.0qd.199.198.IP) (*.net *.split)
[21:17:50] *** Quits: burntsushi (burntsushi@moz-t92kn9.ma.charter.com) (*.net *.split)
[21:17:50] *** Quits: pingveno (alevar@moz-oia.vdk.239.23.IP) (*.net *.split)
[21:17:50] *** Quits: WindowsBunny (Peter@moz-vlal7g.east.verizon.net) (*.net *.split)
[21:17:50] *** Quits: Gankro (sid71432@moz-sc2bd6.charlton.irccloud.com) (*.net *.split)
[21:17:50] *** Quits: huon (huon@moz-hj272o.8rnv.rggd.6180.2400.IP) (*.net *.split)
[21:17:50] *** Quits: spastorino (sid27384@moz-i6sgse.brockwell.irccloud.com) (*.net *.split)
[21:17:50] *** Quits: reem (sid78397@moz-octfcu.brockwell.irccloud.com) (*.net *.split)
[21:17:50] *** Quits: frewsxcv (sid86219@moz-dneii9.brockwell.irccloud.com) (*.net *.split)
[21:17:50] *** Quits: aturon (sid379@moz-hhfc8n.0j4i.jtu0.0101.2620.IP) (*.net *.split)
[21:17:50] *** Quits: carllerche (sid50851@moz-8i75uq.brockwell.irccloud.com) (*.net *.split)
[21:17:50] *** Quits: nmatsakis (sid381@moz-32a8b5.0j4i.jtu0.0101.2620.IP) (*.net *.split)
[21:17:50] *** Quits: seanmonstar (seanmonstar@moz-jd3i0j.fkdv.ulf6.3c01.2600.IP) (*.net *.split)
[21:17:50] *** Quits: erikj (erikj@moz-1bq7nj.com) (*.net *.split)
[21:17:50] *** Quits: rdgawdzi (sid91768@moz-36ps68.ealing.irccloud.com) (*.net *.split)
[21:17:50] *** Quits: sfackler (sfackler@moz-ko8uu1.com) (*.net *.split)
[21:17:50] *** Quits: Dabo (dabo@znc.dabo.guru) (*.net *.split)
[21:17:50] *** Quits: acrichto (acrichto@moz-u3dg2t.sfo1.mozilla.com) (*.net *.split)
[21:17:50] *** Quits: archshift (archshift@moz-53g.v1r.161.107.IP) (*.net *.split)
[21:17:51] *** Quits: rustbot (havvy@moz-epv20b.wa.comcast.net) (*.net *.split)
[21:17:51] *** Quits: Asandari (Asandari@moz-emp96u.cable.teksavvy.com) (*.net *.split)
[21:17:51] *** Quits: blank_name (blank_name@moz-p4egrb.mi.frontiernet.net) (*.net *.split)
[21:17:51] *** Quits: c74d (c74d3a4ebb6@moz-0ersgu.oc.cox.net) (*.net *.split)
[21:17:51] *** Quits: stl (stl@moz-511.ict.15.176.IP) (Connection closed)
[21:17:54] *** Joins: acrichto (acrichto@moz-u3dg2t.sfo1.mozilla.com)
[21:17:54] *** Joins: Dabo (dabo@znc.dabo.guru)
[21:17:54] *** Joins: rustbot (havvy@moz-epv20b.wa.comcast.net)
[21:17:54] *** Joins: archshift (archshift@moz-53g.v1r.161.107.IP)
[21:17:54] *** Joins: sfackler (sfackler@moz-ko8uu1.com)
[21:17:54] *** Joins: JustAPerson (JustAPerson@moz-un628q.moe)
[21:17:54] *** Joins: Sergio (Sergio@moz-g1j.0qd.199.198.IP)
[21:17:54] *** Joins: erikj (erikj@moz-1bq7nj.com)
[21:17:54] *** Joins: huon (huon@moz-hj272o.8rnv.rggd.6180.2400.IP)
[21:17:54] *** Joins: seanmonstar (seanmonstar@moz-jd3i0j.fkdv.ulf6.3c01.2600.IP)
[21:17:54] *** Joins: frewsxcv (sid86219@moz-dneii9.brockwell.irccloud.com)
[21:17:54] *** Joins: rdgawdzi (sid91768@moz-36ps68.ealing.irccloud.com)
[21:17:54] *** Joins: Gankro (sid71432@moz-sc2bd6.charlton.irccloud.com)
[21:17:54] *** Joins: spastorino (sid27384@moz-i6sgse.brockwell.irccloud.com)
[21:17:54] *** Joins: reem (sid78397@moz-octfcu.brockwell.irccloud.com)
[21:17:54] *** Joins: carllerche (sid50851@moz-8i75uq.brockwell.irccloud.com)
[21:17:54] *** Joins: [o__o] ([o__o]@moz-4s2t5k.compute-1.amazonaws.com)
[21:17:54] *** Joins: Asandari (Asandari@moz-emp96u.cable.teksavvy.com)
[21:17:54] *** Joins: nmatsakis (sid381@moz-32a8b5.0j4i.jtu0.0101.2620.IP)
[21:17:54] *** Joins: aturon (sid379@moz-hhfc8n.0j4i.jtu0.0101.2620.IP)
[21:17:54] *** Joins: eternaleye (eternaleye@moz-7ps.ehi.245.50.IP)
[21:17:54] *** Joins: pingveno (alevar@moz-oia.vdk.239.23.IP)
[21:17:54] *** Joins: blank_name (blank_name@moz-p4egrb.mi.frontiernet.net)
[21:17:54] *** Joins: burntsushi (burntsushi@moz-t92kn9.ma.charter.com)
[21:17:54] *** Joins: c74d (c74d3a4ebb6@moz-0ersgu.oc.cox.net)
[21:17:54] *** Joins: WindowsBunny (Peter@moz-vlal7g.east.verizon.net)
[21:17:54] *** Joins: ryanhiebert (ryanhiebert@moz-nsd5kl.ks.cox.net)
[21:17:54] *** belew.mozilla.org sets mode: +qoqooo acrichto acrichto huon huon nmatsakis aturon
[21:19:58] *** Joins: stl (stl@moz-511.ict.15.176.IP)
[21:23:33] <SimonSapin> aturon: Servo uses both Arc::dowrgrade and Arc::make_unique, but not on the same data (according to grep)
[21:24:01] <aturon> SimonSapin: ok. nevertheless, i am prototyping a solution that allows both with (i think) little downside
[21:24:08] <SimonSapin> cool
[21:27:51] <bluss> aturon: I think it's mostly brson who is concerned if we should have weak pointers at all, other than that I think weak pointers are almost close to defacto stabilization
[21:29:08] <bluss> aturon: Just wondering if the change involves making Weak pointers optional?
[21:29:39] <aturon> bluss: what i'm prototyping keeps the same basic design for weak pointers, but alters the protocol slightly to avoid the race condition
[21:29:58] <aturon> if there were a way to make them optional (i've heard a few ideas), that should apply to this approach as well
[21:31:28] <bluss> oh interesting.
[22:29:57] *** kimundi is now known as zz_kimundi
[22:50:49] *** Quits: ryanhiebert (ryanhiebert@moz-nsd5kl.ks.cox.net) (Connection closed)
[23:18:06] *** Quits: burntsushi (burntsushi@moz-t92kn9.ma.charter.com) (Ping timeout: 121 seconds)
[23:21:36] *** Joins: burntsushi (burntsushi@moz-t92kn9.ma.charter.com)
[23:30:25] *** Joins: aatch (james@moz-is4j4r.cable.telstraclear.net)
