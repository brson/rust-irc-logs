[00:00:49] <vmx> is that a bug, a feature or am i doing something wrong. why would Ratio<BigInt> but Rational won't work:  https://www.friendpaste.com/1YIb87vfVyjI7JJvqlB6Ef
[00:01:16] *** Quits: Krymise (Nietzsche@1C166AC3.81BFCEFF.52A100C7.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[00:01:27] *** Quits: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net) (Quit: killerswan)
[00:01:32] <vmx> actually `impl Ratio<BigInt> {}` and `impl BigRational {}`
[00:02:08] <aatch> vmx, ah. You can't `impl` on type aliases
[00:02:31] <vmx> (though that was not my original error btw, just found that out now)
[00:02:41] <vmx> ok, so it's a feature :)
[00:03:03] <aatch> vmx, yes. You'd have to ask somebody else for the reasoning though.
[00:03:04] *** Quits: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net) (Quit: jmgrosen)
[00:05:45] *** Quits: patrickkim (Mibbit@B4104EBB.3CC170B1.1E14B209.IP) (Ping timeout)
[00:07:17] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[00:08:42] *** Quits: kemurphy (kemurphy@3863AC20.C4E71399.9510F13D.IP) (Quit: ZNC - http://znc.in)
[00:09:03] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[00:09:03] <vmx> dbaupp: i couldn't reproduce my initial problem, it works now. that's for making me trying it again
[00:09:04] *** Quits: canhtak (canhtak@moz-6F820ACE.wl.t.ulaval.ca) (Quit: canhtak)
[00:10:39] *** Quits: gareth0 (gareth0@850E65E7.A148E8A0.A1D26C92.IP) (Input/output error)
[00:11:47] *** Joins: twb (textual@moz-5DE8950B.hsd1.ga.comcast.net)
[00:13:08] *** Joins: kemurphy (kemurphy@3863AC20.C4E71399.9510F13D.IP)
[00:14:26] *** Joins: canhtak (canhtak@moz-6F820ACE.wl.t.ulaval.ca)
[00:15:52] *** Joins: steve (Thunderbir@moz-329E56D.hsd1.fl.comcast.net)
[00:15:58] *** Joins: jviereck (Adium@moz-FC52FD58.dip0.t-ipconnect.de)
[00:17:01] *** Quits: kemurphy (kemurphy@3863AC20.C4E71399.9510F13D.IP) (Quit: ZNC - http://znc.in)
[00:17:20] *** Joins: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net)
[00:17:40] *** Joins: vky (chatzilla@moz-4F2E17BF.dsl.dynamic.sonic.net)
[00:17:45] *** Joins: kemurphy (kemurphy@3863AC20.C4E71399.9510F13D.IP)
[00:17:55] *** Quits: kemurphy (kemurphy@3863AC20.C4E71399.9510F13D.IP) (Quit: ZNC - http://znc.in)
[00:18:49] *** Quits: SiegeLord (sl@moz-C606190.bstnma.fios.verizon.net) (Quit: Leaving)
[00:19:36] *** Joins: kemurphy (kemurphy@3863AC20.C4E71399.9510F13D.IP)
[00:20:42] <vmx> thanks for all your help again, this community is just great. i'm again one step closer with my rationalize() pull request. g'night
[00:23:32] *** Quits: vmx (vmx@moz-DA8CED0A.pools.arcor-ip.net) (Quit: Leaving)
[00:23:46] *** Quits: jesse99 (jesse99@moz-8B1E0C5D.hsd1.wa.comcast.net) (Quit: jesse99)
[00:24:03] *** Joins: jesse99 (jesse99@moz-8B1E0C5D.hsd1.wa.comcast.net)
[00:27:43] *** Quits: jviereck (Adium@moz-FC52FD58.dip0.t-ipconnect.de) (Quit: Leaving.)
[00:30:14] <Earnestly> For those who care, you can use the firefox inspector to watch the network traffic from vid.ly to pull out the video file to play or download for later.
[00:30:29] *** Quits: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[00:30:35] <cmr> I had thought amo had direct links before..
[00:30:45] <Earnestly> E.g. for the sprocketNES talk: https://d3fenhwk93s16g.cloudfront.net/3u9r8y/webm.webm
[00:31:01] <Earnestly> cmr: None that I could find :/
[00:31:19] <cmr> I know it doesn't now, but I remember it being easy to download the video before.
[00:31:34] *** Joins: sprang (sprang@moz-920A95C4.hsd1.ca.comcast.net)
[00:32:30] <Earnestly> I thought I could build the link from the source but it seems to send a referal to cloudfont which then prefixes it with a different parked domain and I don't have the curl-fu to figure that out
[00:32:38] <Earnestly> front/
[00:33:33] *** Quits: engla (engla@moz-F64E1B0F.cust.bredbandsbolaget.se) (Ping timeout)
[00:34:05] <Earnestly> d132d9vcg4o0oh.cloudfront.net"d3fenhwk93s16g
[00:34:17] <Earnestly> That d132... becomes d3fe...
[00:37:20] *** Joins: santiago (santiago@moz-CF057779.lv.lv.cox.net)
[00:40:37] *** Joins: alonlevy (alon@moz-DCBA91C6.bb.netvision.net.il)
[00:40:42] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[00:40:43] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Quit: glennsl)
[00:43:48] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[00:45:32] *** Quits: twb (textual@moz-5DE8950B.hsd1.ga.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[00:45:49] *** Joins: idog98 (idog98@moz-E8679337.spacedump.net)
[00:48:08] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[00:52:27] *** Joins: Skif (emschwar@moz-4C5BB5A8.beyondbb.com)
[00:54:15] *** Quits: Skif (emschwar@moz-4C5BB5A8.beyondbb.com) (Ping timeout)
[00:56:03] *** Quits: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net) (Quit: jmgrosen)
[01:00:09] *** Joins: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net)
[01:00:13] *** Quits: jmgrosen (jmgrosen@moz-848F6087.sb.sd.cox.net) (Quit: jmgrosen)
[01:00:33] *** Joins: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[01:03:03] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[01:07:34] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[01:07:46] *** Quits: notmatt (notmatt@CC62CF7E.1E7FDFDB.A82DBDDB.IP) (Client exited)
[01:07:52] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[01:08:25] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[01:10:16] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[01:15:50] *** Quits: sprang (sprang@moz-920A95C4.hsd1.ca.comcast.net) (Quit: sprang)
[01:16:28] *** Quits: alonlevy (alon@moz-DCBA91C6.bb.netvision.net.il) (Ping timeout)
[01:21:50] *** Quits: Sorella (quildreen@9D963F5D.DF5D8AE7.54BCAB54.IP) (Client exited)
[01:24:21] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[01:25:48] *** Joins: Sorella (quildreen@9D963F5D.DF5D8AE7.54BCAB54.IP)
[01:27:00] *** Quits: donri (donri@moz-9BB61102.tbcn.telia.com) (Client exited)
[01:27:04] *** Joins: Sharp (Sharp@moz-780FECDA.washdc.fios.verizon.net)
[01:27:20] *** Quits: moostik (Icedove@moz-C2FFB694.w82-121.abo.wanadoo.fr) (Ping timeout)
[01:27:24] *** Joins: moostik (Icedove@moz-C2FFB694.w82-121.abo.wanadoo.fr)
[01:27:45] *** Quits: nsf (nsf@moz-EEF3238A.convex.ru) (Quit: WeeChat 0.4.2)
[01:31:40] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Ping timeout)
[01:36:37] *** Joins: SiegeLord (sl@moz-C606190.bstnma.fios.verizon.net)
[01:37:59] *** kimundi is now known as zz_kimundi
[01:39:02] *** Joins: quibbit (Mibbit@moz-6BAFD52D.f0.protectedgroup.com)
[01:39:15] *** Quits: quibbit (Mibbit@moz-6BAFD52D.f0.protectedgroup.com) (User has been banned from Mozilla (no spamming here))
[01:44:06] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[01:45:52] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Ping timeout)
[01:49:17] *** Quits: nkoep (nik@moz-D88FE34D.pool.mediaways.net) (Client exited)
[01:49:54] *** Quits: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net) (Input/output error)
[01:50:01] *** Joins: twb (textual@moz-5DE8950B.hsd1.ga.comcast.net)
[01:56:26] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[02:06:58] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[02:09:58] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[02:10:55] *** Quits: bytewise (bytewise@moz-AD6B53F3.adsl.alicedsl.de) (Quit: Leaving)
[02:11:20] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Client exited)
[02:11:41] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[02:12:54] *** Quits: csherratt (csherratt@moz-CAF331EA.cable.teksavvy.com) (Quit: csherratt)
[02:13:03] *** Joins: csherratt (csherratt@moz-CAF331EA.cable.teksavvy.com)
[02:16:21] *** Quits: vky (chatzilla@moz-4F2E17BF.dsl.dynamic.sonic.net) (Ping timeout)
[02:16:28] *** Quits: Sharp (Sharp@moz-780FECDA.washdc.fios.verizon.net) (Quit: Sharp)
[02:17:25] *** Joins: sprang (sprang@moz-920A95C4.hsd1.ca.comcast.net)
[02:25:14] *** Joins: osa1_ (omer@moz-8FDAB45C.hsd1.il.comcast.net)
[02:28:46] *** Quits: sprang (sprang@moz-920A95C4.hsd1.ca.comcast.net) (Quit: sprang)
[02:32:10] *** Joins: sprang (sprang@moz-920A95C4.hsd1.ca.comcast.net)
[02:32:55] *** Quits: z0w0 (zack@moz-2EC2B6F6.lns5.woo.bigpond.net.au) (Ping timeout)
[02:33:12] *** Joins: z0w0 (zack@11C6506B.AE186D02.2CE63F58.IP)
[02:41:11] *** Joins: Skif (emschwar@moz-4C5BB5A8.beyondbb.com)
[02:41:31] <osa1_> any experienced compiler hackers online? I'm working on this https://github.com/mozilla/rust/issues/10485 all I added new command line parameter and other stuff and I think all I need is to convert processed AST to JSON and print it
[02:41:50] <osa1_> can anyone help me with this? I don't know how to convert ast to JSON
[02:42:40] *** Quits: sp3d (s@moz-41A29595.dhcp.stls.mo.charter.com) (Ping timeout)
[02:42:56] *** Quits: Skif (emschwar@moz-4C5BB5A8.beyondbb.com) (Ping timeout)
[02:42:59] *** Quits: SiegeLord (sl@moz-C606190.bstnma.fios.verizon.net) (Connection reset by peer)
[02:44:49] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[02:45:10] <aatch> osa1_, you should be able to use the serializer traits and just throw the top-level of the AST at it.
[02:45:52] *** Joins: SiegeLord (sl@moz-C606190.bstnma.fios.verizon.net)
[02:46:34] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Ping timeout)
[02:47:07] *** Joins: sp3d (s@moz-41A29595.dhcp.stls.mo.charter.com)
[02:47:55] <cmr> osa1_: https://github.com/mozilla/rust/blob/master/src/librustdoc/lib.rs#L316 is basically how encoding works
[02:49:35] <osa1_> cmr: thanks for code example! do you mind if I send you privmsg for further questions?
[02:49:47] <cmr> Why not ask here or in #rust-internals?
[02:50:39] <osa1_> okay sure
[02:51:55] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[02:52:19] <klutzy> is there any Map inside ast? I'm slightly worried that Map and json doesn't mix well
[02:53:03] <aatch> klutzy, I don't think so.
[02:53:35] <dcrewi> might want to include a version number in the dump as well
[02:54:13] <dcrewi> osa1_: --^
[02:54:53] <osa1_> dcrewi: how to do that? do you mean printing version number in a comment or something like that?
[02:55:49] <dbaupp> osa1_: {"ast_version": "...", "ast": ..., "crate_name": ... }` as the top level structure, or something like that.
[02:55:58] <dcrewi> maybe define another struct that has a field filled with the rustc version string and a field holding the ast?
[02:56:14] <dcrewi> deriving(Encodable) or whatever it is
[02:56:22] <dcrewi> and dump that struct
[03:04:15] *** Quits: moostik (Icedove@moz-C2FFB694.w82-121.abo.wanadoo.fr) (Ping timeout)
[03:04:59] <sam113101> will rust be used in firefox?
[03:05:53] <cmr> sam113101: see the faq
[03:06:42] *** Quits: Florob (Florob@moz-39532932.de) (Client exited)
[03:08:22] <sam113101> which one ◔ ◡ ◔ 
[03:09:14] <Eridius> some day rust will take over the world and then it will be in everything
[03:09:25] <cmr> hm, it appears to be gone now
[03:09:29] <cmr> anyway, the answer is no
[03:09:44] <cmr> if anything, servo would eventually replace gecko
[03:10:10] <cmr> but it's just a research project
[03:12:25] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[03:13:18] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Ping timeout)
[03:14:09] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[03:14:19] *** Joins: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com)
[03:15:20] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[03:16:08] <sam113101> "No. This is a research project. The point is to explore ideas. There is no plan to incorporate any Rust-based technology into Firefox."
[03:16:10] <sam113101> found it
[03:18:33] *** Joins: maxiepoo (Max@moz-63A79E35.sw.biz.rr.com)
[03:20:41] *** Quits: zz_kimundi (kimundi@moz-8CF1B152.dip0.t-ipconnect.de) (Ping timeout)
[03:21:47] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[03:24:02] *** Joins: zz_kimundi (kimundi@moz-E2132B33.dip0.t-ipconnect.de)
[03:24:20] *** zz_kimundi is now known as kimundi
[03:24:21] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Ping timeout)
[03:26:50] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[03:27:39] *** Parts: idog98 (idog98@moz-E8679337.spacedump.net) ()
[03:29:33] *** Quits: aatch (James@moz-B437F499.pocketrent.com) (Quit: Leaving)
[03:30:48] *** Quits: z0w0 (zack@11C6506B.AE186D02.2CE63F58.IP) (Quit: z0w0)
[03:32:05] *** Joins: Sharp (Sharp@moz-780FECDA.washdc.fios.verizon.net)
[03:33:35] *** Quits: Sharp (Sharp@moz-780FECDA.washdc.fios.verizon.net) (Quit: Sharp)
[03:38:47] *** Joins: mib_v0rzxs (Mibbit@681ED09F.8B713B31.E2D7CD47.IP)
[03:38:58] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[03:39:55] <mib_v0rzxs> I hope Rust will add something to cover the realm of Prolog.
[03:39:55] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Ping timeout)
[03:41:26] <mib_v0rzxs> because I think logic programming, this important rusty approach, has not been learned by Rust.
[03:42:06] <cmr> mib_v0rzxs: the complexity budget doesn't really have any room left.
[03:43:05] <mib_v0rzxs> just add ":-"
[03:44:12] <mib_v0rzxs> and something like "safe-unsafe-like" declaration: "logic" 
[03:44:36] *** Joins: octokitten (dieselpowe@AF74D677.F7C4012D.1A3E6EBE.IP)
[03:45:07] <mib_v0rzxs> if people want to use logic programming, they should delcare first
[03:45:19] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[03:45:20] <mib_v0rzxs> declare
[03:45:34] <strcat> for 1.0, the existing features really just need to be refined
[03:45:48] <ssbr_> mib_v0rzxs: logic programming is very different from what Rust is aimed at.
[03:46:04] <ssbr_> if you want to do that, you can always write a library for it
[03:46:13] <cmr> Or a syntax extension
[03:46:19] <ssbr_> it turns out that logic programming languages are easy to write as libraries
[03:46:41] <mib_v0rzxs> OO, FP, macro, and logic, multi enough
[03:47:02] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Ping timeout)
[03:48:00] <mib_v0rzxs> but logic programming needs tail-o
[03:48:08] <cmr> Rust will never have it.
[03:48:36] <mib_v0rzxs> for performance consideration?
[03:48:51] <dbaupp> (Rust will never have guaranteed tail-opt)
[03:49:13] <strcat> mib_v0rzxs: rust isn't going to do optimizations in the frontend, in general
[03:49:22] <strcat> and you will always be able to compile without optimizations
[03:50:11] <strcat> especially with something like TCO, you need to be able to have it off for sane debugging
[03:50:57] <mib_v0rzxs> I hope rust cover the realm of AI
[03:51:12] <mib_v0rzxs> that's future
[03:51:57] <mib_v0rzxs> so far I really love rust for the combination of all things together
[03:52:06] <mib_v0rzxs> all important things
[03:53:00] <mib_v0rzxs> so if possible, consider LP realm
[03:54:08] *** Quits: mib_v0rzxs (Mibbit@681ED09F.8B713B31.E2D7CD47.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[03:54:28] *** Quits: jstevans (Instantbir@moz-8DBF3BC4.washdc.fios.verizon.net) (Ping timeout)
[04:00:24] *** Joins: recrack (Mibbit@5AB4884B.FCC4549.14D5B978.IP)
[04:02:29] *** Quits: lmandel (lmandel@moz-76CE9D51.cable.teksavvy.com) (Ping timeout)
[04:02:36] *** Joins: lmandel (lmandel@moz-76CE9D51.cable.teksavvy.com)
[04:03:46] *** Quits: recrack (Mibbit@5AB4884B.FCC4549.14D5B978.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[04:04:37] *** Quits: hansjorg (hansjorg@moz-41C5CE61.redpill-linpro.com) (Ping timeout)
[04:05:28] *** Quits: maxiepoo (Max@moz-63A79E35.sw.biz.rr.com) (Quit: maxiepoo)
[04:05:28] *** Quits: lmandel (lmandel@moz-76CE9D51.cable.teksavvy.com) (Ping timeout)
[04:07:46] *** Joins: maxiepoo (Max@moz-63A79E35.sw.biz.rr.com)
[04:07:59] *** Joins: hansjorg (hansjorg@moz-41C5CE61.redpill-linpro.com)
[04:08:38] <ssbr_> is there any kind of guarantee of TCO with optimizations turned on?
[04:09:08] <dbaupp> no
[04:09:25] <ssbr_> ah well.
[04:09:29] <strcat> ssbr_: if you're willing to consider the specific details about LLVM's tailcallelim pass a 'guarantee'
[04:09:35] <dbaupp> ssbr_: https://mail.mozilla.org/pipermail/rust-dev/2013-April/003557.html
[04:09:35] <strcat> it's not like it's non-deterministic
[04:09:41] <ssbr_> strcat: Probably in practice that's good enough
[04:11:12] <ssbr_> dbaupp: thanks! That's a perfect link :)
[04:11:53] *** Joins: Sharp (Sharp@moz-780FECDA.washdc.fios.verizon.net)
[04:11:58] *** Joins: dd (chatzilla@F63B62E8.8AE8A320.7C0F3359.IP)
[04:12:26] <ssbr_> I buy that argument. Thanks.
[04:13:16] *** Quits: Sharp (Sharp@moz-780FECDA.washdc.fios.verizon.net) (Quit: Sharp)
[04:14:04] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[04:15:00] *** Joins: Sharp (Sharp@moz-780FECDA.washdc.fios.verizon.net)
[04:15:26] *** Joins: recrack (Mibbit@B4104EBB.3CC170B1.1E14B209.IP)
[04:16:43] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[04:16:45] *** Joins: lmandel (lmandel@moz-76CE9D51.cable.teksavvy.com)
[04:18:23] *** Joins: pradeep (pradeep@5AB4884B.FCC4549.14D5B978.IP)
[04:21:16] *** Quits: lmandel (lmandel@moz-76CE9D51.cable.teksavvy.com) (Ping timeout)
[04:22:51] *** Quits: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com) (Client exited)
[04:23:00] *** Joins: lmandel (lmandel@moz-76CE9D51.cable.teksavvy.com)
[04:29:56] *** Joins: Skif (emschwar@moz-4C5BB5A8.beyondbb.com)
[04:31:42] *** Quits: Skif (emschwar@moz-4C5BB5A8.beyondbb.com) (Ping timeout)
[04:32:50] *** Quits: jeaye (Jeaye@moz-34FEF2BB.hsd1.ca.comcast.net) (Quit: zzz)
[04:36:20] *** Quits: osa1_ (omer@moz-8FDAB45C.hsd1.il.comcast.net) (Quit: Konversation terminated!)
[04:43:03] *** Quits: TD-Linux (TD-Linux@E338EB99.2B4F0AE0.A0A36CCE.IP) (Quit: ZNC - http://znc.in)
[04:43:34] *** Joins: TD-Linux (TD-Linux@E338EB99.2B4F0AE0.A0A36CCE.IP)
[04:44:28] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Client exited)
[04:44:54] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[04:45:49] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[04:47:35] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Ping timeout)
[04:48:39] *** Quits: sprang (sprang@moz-920A95C4.hsd1.ca.comcast.net) (Quit: sprang)
[04:52:52] *** Joins: mib_yl5znc (Mibbit@moz-2777BD3E.hsd1.ct.comcast.net)
[04:53:01] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[04:53:42] *** Quits: mib_yl5znc (Mibbit@moz-2777BD3E.hsd1.ct.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[04:57:20] *** Quits: zippity (Mibbit@moz-3213C615.wavecable.com) (Quit: http://www.mibbit.com ajax IRC Client)
[04:58:16] *** Quits: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Ping timeout)
[05:03:39] *** Quits: SiegeLord (sl@moz-C606190.bstnma.fios.verizon.net) (Quit: Leaving)
[05:03:55] *** Quits: dd (chatzilla@F63B62E8.8AE8A320.7C0F3359.IP) (Quit: ChatZilla 0.9.90.1 [Firefox 25.0.1/20131115110315])
[05:05:54] *** Joins: telotortium (rmi1@moz-4341776B.hsd1.il.comcast.net)
[05:07:57] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[05:08:12] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[05:08:12] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[05:10:26] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Ping timeout)
[05:15:09] *** Joins: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net)
[05:19:56] *** Quits: lmandel (lmandel@moz-76CE9D51.cable.teksavvy.com) (Quit: lmandel)
[05:21:26] <geomyidae> Are there significant changes between 90754ae and 90d06ec? they're both 0.9-pre but rustcrypto isn't  building for me....
[05:21:37] *** Quits: Earnestly (earnest@38FE72A5.82423D8F.BFD1ABFD.IP) (Ping timeout)
[05:22:10] <cmr> geomyidae: ask git log?
[05:22:25] <cmr> 0.9-pre means "after 0.8, before 0.9"
[05:22:28] <cmr> it's a 3 month span
[05:23:24] *** Joins: axitkhurana (Adium@63F3AA56.9CFBD76D.30E7AE68.IP)
[05:23:40] *** Quits: axitkhurana (Adium@63F3AA56.9CFBD76D.30E7AE68.IP) (Quit: Leaving.)
[05:23:42] <geomyidae> Oh there are build dates in the -v info. Looks like this is nearly two weeks old version of rustc :/
[05:23:45] <geomyidae> stupid AUR
[05:23:58] <cmr> strcat has a repo with nightlies, why are you using the AUR? :>
[05:24:48] <geomyidae> https://mail.mozilla.org/pipermail/rust-dev/2013-May/004073.html cmr <- that?
[05:25:01] <cmr> yes
[05:25:24] <geomyidae> cmr, sweet, didn't know about it until you mentioned it. I'll give it a go.
[05:25:38] <cmr> https://github.com/mozilla/rust/wiki/Doc-packages,-editors,-and-other-tools
[05:26:44] *** Quits: Kingsley (kingsley@9B172CBE.BEA5C56D.DF4B730F.IP) (Quit: Leaving.)
[05:27:26] *** Parts: octokitten (dieselpowe@AF74D677.F7C4012D.1A3E6EBE.IP) ()
[05:27:27] *** Joins: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP)
[05:27:30] <cmr> bjz: thanks!
[05:28:06] <bjz> cmr: np, was stunned I hadn't added you alrteady
[05:30:19] *** Joins: jdm (jdm@moz-AC9499B2.cable.teksavvy.com)
[05:30:19] *** ChanServ sets mode: +o jdm
[05:31:22] <geomyidae> :P now rustcrypto builds but not d3cap. let's see what I can do
[05:37:16] *** Joins: GeneralMaximus (ankur@704E18E2.13A5FC81.D5D59AD9.IP)
[05:40:20] *** Quits: telotortium (rmi1@moz-4341776B.hsd1.il.comcast.net) (Ping timeout)
[05:43:11] *** Quits: nielsle (nielsle@moz-C46DA772.boa.fiberby.dk) (Ping timeout)
[05:44:44] *** Quits: ab (alex@BC9D99CC.37C1012D.FE617B51.IP) (Ping timeout)
[05:45:20] *** Joins: nielsle (nielsle@moz-C46DA772.boa.fiberby.dk)
[05:46:20] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[05:46:21] *** Joins: ab (alex@BC9D99CC.37C1012D.FE617B51.IP)
[05:47:35] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[05:48:06] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Ping timeout)
[05:51:10] *** Quits: nielsle (nielsle@moz-C46DA772.boa.fiberby.dk) (Ping timeout)
[05:51:47] *** Quits: dbaupp (Thunderbir@A192CB9D.D5A1DCF.37681C44.IP) (Ping timeout)
[05:52:47] *** Joins: nielsle (nielsle@moz-C46DA772.boa.fiberby.dk)
[05:54:12] *** Joins: enix_ (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[05:54:19] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Quit: Konversation terminated!)
[05:54:40] *** Joins: beifeng (Mibbit@D01E734C.3DB51B1C.64FAF8EC.IP)
[05:55:22] *** Quits: maxiepoo (Max@moz-63A79E35.sw.biz.rr.com) (Quit: maxiepoo)
[05:56:49] *** Joins: BizarreCake (BizarreCak@moz-361FE9B2.dynamic.barak-online.net)
[05:57:40] *** Quits: nielsle (nielsle@moz-C46DA772.boa.fiberby.dk) (Ping timeout)
[05:58:52] *** Quits: JanC (janc@moz-B3774AFF.dsl.scarlet.be) (Ping timeout)
[05:59:43] *** Joins: nielsle (nielsle@moz-C46DA772.boa.fiberby.dk)
[06:01:46] *** Quits: Jesse (jruderman@moz-5973C6FA.oc.oc.cox.net) (Quit: Jesse)
[06:02:16] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[06:02:46] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[06:03:17] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[06:04:39] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[06:07:35] *** Quits: paulproteus (quassel@199.199.210.158) (Ping timeout)
[06:14:24] *** Joins: JanC (janc@moz-64D6DA10.dsl.scarlet.be)
[06:16:08] *** Quits: canhtak (canhtak@moz-6F820ACE.wl.t.ulaval.ca) (Quit: canhtak)
[06:16:49] *** Joins: jviereck (Adium@moz-FC52FD58.dip0.t-ipconnect.de)
[06:16:57] *** Quits: jviereck (Adium@moz-FC52FD58.dip0.t-ipconnect.de) (Client exited)
[06:18:02] *** Joins: Jesse (jruderman@moz-5973C6FA.oc.oc.cox.net)
[06:18:36] *** Joins: avsej (avsej@DF1824D5.EFF97412.48F984E6.IP)
[06:18:41] *** Joins: Skif (emschwar@moz-4C5BB5A8.beyondbb.com)
[06:20:29] *** Quits: Skif (emschwar@moz-4C5BB5A8.beyondbb.com) (Ping timeout)
[06:20:51] *** Joins: jstevans (Instantbir@moz-8DBF3BC4.washdc.fios.verizon.net)
[06:21:24] *** Quits: heftig (heftig@moz-8FC7A1C0.dip0.t-ipconnect.de) (Quit: Quitting)
[06:21:46] *** Joins: jviereck (Adium@moz-FC52FD58.dip0.t-ipconnect.de)
[06:23:18] *** Quits: Jesse (jruderman@moz-5973C6FA.oc.oc.cox.net) (Quit: Jesse)
[06:23:36] *** Joins: Jackneill (Jackneill@moz-408977C4.pool.digikabel.hu)
[06:24:20] *** Joins: paulproteus (quassel@458FE134.3EC36C88.CBDCF1DC.IP)
[06:24:40] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[06:27:14] <geomyidae> :P now rustcrypto builds but not d3cap. let's see what I can do
[06:27:17] <geomyidae> oops
[06:28:56] *** Quits: jviereck (Adium@moz-FC52FD58.dip0.t-ipconnect.de) (Quit: Leaving.)
[06:29:16] *** Joins: jviereck (Adium@moz-FC52FD58.dip0.t-ipconnect.de)
[06:29:19] *** Quits: jviereck (Adium@moz-FC52FD58.dip0.t-ipconnect.de) (Client exited)
[06:29:32] *** Joins: Jesse (jruderman@moz-5973C6FA.oc.oc.cox.net)
[06:32:49] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: sleep)
[06:34:16] <geomyidae> rustpcap.rs:52:40: 52:54 error: use of possibly uninitialized variable: `filter_program`
[06:34:16] <geomyidae> rustpcap.rs:52         let res = pcap_compile(handle, &filter_program, filter_str, 0, &netp);
[06:34:16] <geomyidae> How do I avoid this? It IS uninitialized, but pcap_compile initializes it. It's already in an unsafe fn
[06:34:46] <cmr> geomyidae: let filter_program = std::unstable::intrinsics::uninit();
[06:35:13] *** Joins: engla (engla@moz-F64E1B0F.cust.bredbandsbolaget.se)
[06:36:14] *** Quits: nfroidure (nfroidure@moz-72C6FB61.w90-34.abo.wanadoo.fr) (Ping timeout)
[06:37:57] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[06:38:10] *** Joins: mizar99 (onur@F1E050D9.972F1E56.8D47ACD1.IP)
[06:38:14] *** Quits: twb (textual@moz-5DE8950B.hsd1.ga.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[06:38:39] <geomyidae> pastebin?
[06:39:03] <cmr> hm?
[06:39:11] <geomyidae> http://kib2.free.fr/pastebin/view_paste.php?id=142
[06:39:43] <cmr> Huh. What's the code that makes that?
[06:40:28] <geomyidae> https://github.com/colemickens/rustpcapsample/blob/master/rustpcap.rs#L49
[06:40:31] <geomyidae> there she is
[06:41:24] *** Quits: Jesin (Jesin@moz-27916D21.washdc.fios.verizon.net) (Quit: Leaving)
[06:41:29] <geomyidae> this is someone else's pcap work that I've forked and added pcap_{lookupnet,compile,setfilter} to be able to set a filter on a pcap session. Part of that is letting pcap_compile initialize a bpf_program struct.
[06:42:25] <cmr> that's definitely a rust bug.
[06:42:40] <cmr> can you file it? cc @cmr
[06:43:04] <geomyidae> hehe that didn't take long, my first hour writing actual rust code that might not be deleted in 12 hours.
[06:43:07] <geomyidae> sure
[06:45:20] <cmr> ohh
[06:46:04] <cmr> well, it's easy to reproduce at least!
[06:46:40] <cmr> enum v {}
[06:46:42] <cmr> fn main() {
[06:46:44] <cmr>     let y: v = unsafe { std::unstable::intrinsics::uninit() };
[06:46:46] <cmr> }
[06:46:51] *** Joins: valenting (Thunderbir@95C905BA.4985FA88.FCAAE698.IP)
[06:47:42] <geomyidae> https://github.com/mozilla/rust/issues/10714
[06:49:03] <geomyidae> cmr, any creative suggestions for a workaround?
[06:49:30] <cmr> geomyidae: give the enum a variant.
[06:49:50] <geomyidae> I uh, don't know what that means intuitively :O
[06:49:52] <cmr> just enum v { Empty } works around it
[06:50:17] *** Quits: valenting (Thunderbir@95C905BA.4985FA88.FCAAE698.IP) (Ping timeout)
[06:50:41] <geomyidae> oh and it works. on basically the first shot. wow, that was satisfying. :)
[06:50:43] <geomyidae> thanks!
[06:50:47] <cmr> np
[06:51:12] <cmr> (the things listed in the body of an enum are called variants)
[06:51:21] *** Quits: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com) (Quit: WeeChat 0.4.3-dev)
[06:51:22] *** Joins: nfroidure (nfroidure@moz-B8959E56.w90-18.abo.wanadoo.fr)
[06:52:07] *** Quits: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[06:52:26] *** Joins: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net)
[06:54:57] *** Quits: jstevans (Instantbir@moz-8DBF3BC4.washdc.fios.verizon.net) (Ping timeout)
[07:02:08] *** Quits: enix_ (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Quit: Konversation terminated!)
[07:02:15] *** Joins: barosl (barosl@3DE683B6.E551553C.7544CABF.IP)
[07:07:58] *** Joins: jeaye (Jeaye@moz-34FEF2BB.hsd1.ca.comcast.net)
[07:08:25] *** Joins: fabiand (fabiand@moz-E2C97B82.adsl.alicedsl.de)
[07:27:34] *** Joins: eddyb (eddy@EBE709F3.F7C96DA2.FCAAE698.IP)
[07:29:18] *** Quits: cubic (cubic@moz-80241A3A.mc.videotron.ca) (Quit: Leaving)
[07:30:14] *** Joins: peterdn (chatzilla@moz-6C268C7F.as13285.net)
[07:30:58] *** Joins: infynyxx (infynyxx@moz-8BE8F2CD.hsd1.md.comcast.net)
[07:31:07] *** Quits: infynyxx (infynyxx@moz-8BE8F2CD.hsd1.md.comcast.net) (Client exited)
[07:31:28] *** Joins: infynyxx (infynyxx@moz-8BE8F2CD.hsd1.md.comcast.net)
[07:31:58] *** Quits: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[07:31:58] *** Quits: infynyxx (infynyxx@moz-8BE8F2CD.hsd1.md.comcast.net) (Connection reset by peer)
[07:32:13] *** Joins: infynyxx (infynyxx@moz-8BE8F2CD.hsd1.md.comcast.net)
[07:32:26] *** Joins: victorporof (victorporo@47B918E3.BCF05198.9B1E38F4.IP)
[07:33:03] *** Quits: FreeFull (freefull@moz-33375531.skybroadband.com) (Quit: )
[07:33:14] *** Quits: infynyxx (infynyxx@moz-8BE8F2CD.hsd1.md.comcast.net) (Quit: Leaving...)
[07:33:16] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[07:33:34] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[07:33:36] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[07:33:55] *** Joins: Ms2ger (Ms2ger@C91975CB.3387515C.187A1082.IP)
[07:38:20] *** Joins: vky (chatzilla@moz-4F2E17BF.dsl.dynamic.sonic.net)
[07:38:20] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[07:43:07] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[07:45:18] *** Quits: steve (Thunderbir@moz-329E56D.hsd1.fl.comcast.net) (Ping timeout)
[07:48:41] *** Joins: oberstet (quassel@moz-7CD57A32.dynamic.mnet-online.de)
[07:49:41] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Ping timeout)
[07:50:07] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[08:00:42] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[08:01:12] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[08:01:30] *** Quits: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net) (Ping timeout)
[08:02:59] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[08:03:16] *** Quits: refold (gman@moz-42D68426.a258.priv.bahnhof.se) (Quit: leaving)
[08:03:27] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[08:03:36] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[08:03:36] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[08:05:06] *** Joins: dbaupp (Thunderbir@moz-3BE4086E.lns20.syd6.internode.on.net)
[08:07:26] *** Joins: Skif (emschwar@moz-4C5BB5A8.beyondbb.com)
[08:09:10] *** Quits: Skif (emschwar@moz-4C5BB5A8.beyondbb.com) (Ping timeout)
[08:11:51] *** Quits: Liothen (liothen@96625EAC.566451EE.31191230.IP) (Quit: Textual IRC Client: www.textualapp.com)
[08:12:48] *** Joins: alonlevy (alon@moz-DCBA91C6.bb.netvision.net.il)
[08:13:20] *** Quits: beifeng (Mibbit@D01E734C.3DB51B1C.64FAF8EC.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[08:17:36] *** flaper87|afk is now known as flaper87
[08:19:49] *** Joins: Ferreus (ferreus@moz-3F8C9F4.dip0.t-ipconnect.de)
[08:21:05] *** Joins: heftig (heftig@moz-E8E2034C.inf.fh-bonn-rhein-sieg.de)
[08:22:36] *** Joins: victorporof_ (victorporo@47B918E3.BCF05198.9B1E38F4.IP)
[08:24:07] *** Quits: victorporof (victorporo@47B918E3.BCF05198.9B1E38F4.IP) (Ping timeout)
[08:24:55] *** Quits: tedh (tedh@moz-A5D1CAB7.public.wayport.net) (Ping timeout)
[08:28:34] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[08:31:10] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[08:37:06] <geomyidae> DAK of any json example off hand?
[08:38:10] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Quit: Busying myself...)
[08:40:44] <friggle> geomyidae: https://github.com/mozilla/rust/pull/10689
[08:40:51] *** Joins: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net)
[08:41:35] <geomyidae> http://permalink.gmane.org/gmane.comp.lang.rust.devel/6855 seems even more complete
[08:43:41] *** Quits: victorporof_ (victorporo@47B918E3.BCF05198.9B1E38F4.IP) (Ping timeout)
[08:43:47] <geomyidae> actually, someone is using the others' code it seems, I guess
[08:43:50] <killerswan> is there a built-in way to get random numbers in a benchmark?
[08:44:01] <dbaupp> killerswan: in wht sense?
[08:44:08] <geomyidae> hehe
[08:44:09] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Ping timeout)
[08:44:13] <dbaupp> std::rand has a pile of stuff.
[08:45:20] <killerswan> well, for example, I might do a test where I generate some random strings (which I can do with things there) and then do a benchmark of a thing I want to measure
[08:45:44] <killerswan> is there a built-in way to do this, or a part of it?
[08:45:50] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Client exited)
[08:45:54] <dbaupp> geomyidae: what do you want the JSON example to show? fwiw https://github.com/luqmana/mcchat/blob/master/json.rs is a neat little helper.
[08:45:55] <killerswan> I don't want to benchmark the randomness
[08:46:45] <geomyidae> dbaupp: the one I linked to and the one that friggle linked to are great
[08:46:47] <dbaupp> killerswan: `#[bench] fn name(bh: &mut extra::test::BenchHarness) { let s = task_rng().gen_ascii_str(100); bh.iter(|| { ... }); }`?
[08:46:59] <dbaupp> geomyidae: oh, ok.
[08:47:07] *** Joins: victorporof (victorporo@47B918E3.BCF05198.9B1E38F4.IP)
[08:47:28] <killerswan> yeah, but s is only done once there, right?
[08:47:41] <killerswan> rather than before each iteration
[08:47:55] *** Quits: quvarxa (chatzilla@moz-978E4C31.static.tpgi.com.au) (Ping timeout)
[08:48:04] *** Joins: quvarxa (chatzilla@moz-978E4C31.static.tpgi.com.au)
[08:48:07] <killerswan> and since I don't know how many iterations will be made, I can't pre-allocate, can i?
[08:48:08] *** pmoore|away is now known as pmoore
[08:48:09] <eddyb> is there an issue for making "in" a contextual keyword?
[08:48:24] <dbaupp> geomyidae: even so, Luqman's json wrapper is nice :P (it makes it look like https://github.com/luqmana/mcchat/blob/master/conn.rs#L311-L313 rather than the ugly thing it would be using extra::json directly.)
[08:48:37] <eddyb> I really want to use .in and .out :P
[08:48:58] <geomyidae> dbaupp: thanks, I was about to check it out to search for it :P
[08:49:10] <killerswan> eddyb: stop talking about food ;D
[08:49:20] <dbaupp> killerswan: oh, I see, so you want a set-up phase for each iteration; I *think* each benchmark function may get called multiple times
[08:49:22] <geomyidae> that looks much more friendly at first glance for sure
[08:49:48] <eddyb> killerswan: uhm, what?
[08:49:55] *** Joins: moostik (Icedove@moz-C2FFB694.w82-121.abo.wanadoo.fr)
[08:49:58] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Client exited)
[08:50:39] <killerswan> eddyb: http://www.in-n-out.com/ (all over california)
[08:50:51] <dbaupp> geomyidae: more examples, if you care :P , https://github.com/luqmana/mcchat/blob/master/conn.rs#L83-L92 https://github.com/luqmana/mcchat/blob/master/conn.rs#L152-L179
[08:51:04] <bjz> eddyb: yeah, .in is nice
[08:51:05] <eddyb> california is a state in US. I'm on another continent :))
[08:51:11] <bjz> eddyb: :)
[08:51:49] <eddyb> I think I can make it contextual by just removing it from the list of keywords and have for expect an ident == "in"
[08:52:25] <geomyidae> this is a great resource in general for me right now
[08:52:46] <eddyb> <'static>|| hmm, this doesn't work
[08:53:53] <killerswan> another thing, is there a way to get structural test results out?  (doesn't have to be JUnit style XML, but anything more structured to use in other test runners besides pass/fail process return codes?)
[08:54:05] <eddyb> what's the real syntax? <'self>|| doesn't work either
[08:54:18] <Luqman> dbaupp: but all the copies it makes :P
[08:54:54] <dbaupp> Luqman: meh :P
[08:56:00] <dbaupp> killerswan: don't think so
[08:56:04] <dbaupp> (not yet)
[08:56:09] <Luqman> but i do like the double dispatch to index by either strings or ints :P
[08:58:17] <geomyidae> dbaupp: this whole invoking curl thing is to mae an http request for something application/minecraft specific, right? 
[08:58:29] *** Quits: oberstet (quassel@moz-7CD57A32.dynamic.mnet-online.de) (Ping timeout)
[08:58:49] *** Joins: oberstet (quassel@moz-51AEB97E.dynamic.mnet-online.de)
[08:59:02] <Luqman> geomyidae: yes, just wasn't bothered enough to find/wrap a library :P
[08:59:52] <dbaupp> Luqman: *the library. :P
[08:59:54] *** Quits: bjz (bjz@moz-DD4A2A91.lnse2.cha.bigpond.net.au) (Ping timeout)
[09:00:04] <dbaupp> (rust-http, the one true library.)
[09:00:18] <eddyb> / New-style closure syntax (`<'lt>|A|:K -> B`).
[09:00:24] <eddyb> that doesn't work for me :(
[09:00:36] <geomyidae> Luqman: so login and status are the only packets where you read a response afterwards?
[09:00:53] <killerswan> dbaupp: for that matter, is the test runner even part of Rust's libstd?
[09:01:03] <dbaupp> killerswan: libextra
[09:01:29] <eddyb> src/mach/pic.rs:26:7: 26:13 error: missing lifetime specifier
[09:01:30] <eddyb> src/mach/pic.rs:26     f: <'a>||,
[09:01:35] <eddyb> seriously, what's up with this?
[09:01:39] <klutzy> f: 'a||?
[09:01:39] <dbaupp> eddyb: is that the correct syntax?
[09:01:55] <Luqman> geomyidae: well i read all the packets, i just don't handle them
[09:02:09] <eddyb> klutzy: thanks... that's weird
[09:02:41] <eddyb> you can't guess the syntax from the parser code >_<
[09:03:12] <dbaupp> eddyb: you can from the tests :P
[09:03:52] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[09:04:14] <klutzy> eddyb: https://github.com/mozilla/rust/issues/10553
[09:04:33] *** Quits: jeaye (Jeaye@moz-34FEF2BB.hsd1.ca.comcast.net) (Quit: zzz)
[09:05:28] <killerswan> dbaupp: hmm, not documented at all: http://static.rust-lang.org/doc/master/extra/index.html
[09:05:40] <eddyb> klutzy: thanks. now to find the one about contextual keywords
[09:06:02] *** Quits: oberstet (quassel@moz-51AEB97E.dynamic.mnet-online.de) (Ping timeout)
[09:06:17] *** Joins: oberstet (quassel@moz-5E4CCC0B.dynamic.mnet-online.de)
[09:07:17] <killerswan> #[doc(hidden)];
[09:07:36] * killerswan quietly draws a sword
[09:08:02] *** Quits: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[09:09:30] *** Joins: amro (quassel@D9E34ACF.8AAAF769.FAAB0799.IP)
[09:15:07] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[09:18:19] <geomyidae> Luqman: does read_packet() get enough volume that you don't have to worry about it blockign you from sending messages for too long? I guess not if other people are chatting, or you're getting keepalives or what not with a high enough frequency.
[09:20:28] <geomyidae> anyway, I think I grok a lot of this, it's super useful and readable and good for even a noobie like me.
[09:20:58] <eddyb> why is return not allowed in a closure >_<?
[09:21:34] *** Quits: csherratt (csherratt@moz-CAF331EA.cable.teksavvy.com) (Ping timeout)
[09:21:37] *** Joins: tedh (tedh@moz-A5D1CAB7.public.wayport.net)
[09:22:07] *** Joins: csherratt (csherratt@moz-CAF331EA.cable.teksavvy.com)
[09:25:36] *** Joins: jsancio (Mibbit@moz-CAA5C5B6.hsd1.ca.comcast.net)
[09:27:16] <killerswan> eddyb: that is a good question :(
[09:27:40] <eddyb> I understand in a do-style context, but that's a proc now
[09:31:55] *** pmoore is now known as pmoore|away
[09:32:14] *** Quits: Kxepal (Miranda@moz-4306BDB7.pppoe.mtu-net.ru) (Ping timeout)
[09:32:44] <Luqman> geomyidae: it seems to work well enough since i get one packet or other often enough
[09:35:17] *** Joins: Kxepal (Miranda@moz-62D3C795.pppoe.mtu-net.ru)
[09:37:12] *** Joins: Blei (philipp@moz-B2F9E4BD.cust.bluewin.ch)
[09:37:30] *** Joins: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net)
[09:37:55] <dbaupp> eddyb: because `for` used to use closures and hijack `return` to do weird things and (attempt to) return from the outer function; I think there's no fundamental reason why we couldn't have `return` in closures now that we have a less idiosyncratic `for`.
[09:38:43] *** Quits: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP) (Quit: Leaving)
[09:39:34] *** Quits: santiago (santiago@moz-CF057779.lv.lv.cox.net) (Ping timeout)
[09:39:55] *** Joins: santiago (santiago@moz-CF057779.lv.lv.cox.net)
[09:42:22] *** Quits: csherratt (csherratt@moz-CAF331EA.cable.teksavvy.com) (Quit: csherratt)
[09:43:32] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Client exited)
[09:44:57] *** Joins: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP)
[09:46:38] *** Quits: dbussink (dbussink@moz-E0A5568C.bussink.me) (Quit: bye)
[09:46:57] *** Joins: dbussink (dbussink@moz-E0A5568C.bussink.me)
[09:47:04] *** Joins: nano (nano@moz-74CAD1CA.superkabel.de)
[09:47:24] *** Quits: mizar99 (onur@F1E050D9.972F1E56.8D47ACD1.IP) (Client exited)
[09:50:24] *** Joins: banananana (ba@E7E2A35D.6F99A8B0.2AADDDA7.IP)
[09:50:51] *** Quits: pradeep (pradeep@5AB4884B.FCC4549.14D5B978.IP) (Quit: leaving)
[09:51:35] *** Joins: andre_ (andre@CA528A4A.45A4338E.8EE27E6.IP)
[09:55:38] *** Quits: GeneralMaximus (ankur@704E18E2.13A5FC81.D5D59AD9.IP) (Ping timeout)
[09:56:09] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Client exited)
[09:56:11] *** Joins: Skif (emschwar@moz-4C5BB5A8.beyondbb.com)
[09:56:30] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[09:56:38] *** Joins: z0w0 (zack@moz-6264033D.qcl9.cha.bigpond.net.au)
[09:56:49] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Client exited)
[09:57:17] *** Joins: bjz (bjz@moz-DD4A2A91.lnse2.cha.bigpond.net.au)
[09:57:54] *** Quits: Skif (emschwar@moz-4C5BB5A8.beyondbb.com) (Ping timeout)
[09:58:15] *** Quits: jsancio (Mibbit@moz-CAA5C5B6.hsd1.ca.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[09:58:39] *** Quits: zmthy (tim@moz-C2881CC3.ecs.vuw.ac.nz) (Quit: leaving)
[09:58:41] *** Quits: jdm (jdm@moz-AC9499B2.cable.teksavvy.com) (Ping timeout)
[09:59:13] *** Joins: nsf (nsf@moz-EEF3238A.convex.ru)
[10:00:32] *** Joins: GeneralMaximus (ankur@633FB70A.5C183543.EF1555B.IP)
[10:00:56] *** pmoore|away is now known as pmoore
[10:01:30] *** Joins: nkoep (nik@moz-AF5C1DFE.pool.mediaways.net)
[10:04:39] *** Quits: vky (chatzilla@moz-4F2E17BF.dsl.dynamic.sonic.net) (Ping timeout)
[10:06:54] *** Quits: ricepuddin (graham@moz-7D68765A.cable.virginm.net) (Ping timeout)
[10:10:03] <Blei> hrrm, so is it not possible anymore to match enums and not be interested in its fields?
[10:10:25] <Blei> something like: match foo { Bar(*) => (), Baz(a) => whatever(a) }
[10:10:58] <Blei> apparently Bar(*) got removed, but Bar(_) needs to supply the correct number of enum fields, which is annoying
[10:12:12] *** Quits: z0w0 (zack@moz-6264033D.qcl9.cha.bigpond.net.au) (Client exited)
[10:12:18] <eddyb> Blei: .. is the replacement for *
[10:12:30] <Blei> ah, great, thanks!
[10:12:48] <eddyb> at some point, ..x will capture one or more fields in a tuple
[10:13:00] *** Joins: z0w0 (zack@moz-6264033D.qcl9.cha.bigpond.net.au)
[10:13:40] <Blei> reminds me of clay
[10:14:20] <Blei> they had a nice system of template pattern matching
[10:15:35] <Ms2ger> eddyb, interesting, why?
[10:16:01] <eddyb> Ms2ger: part of the tuple extensions required for variadic generics
[10:16:50] <Blei> heh, again, as clay
[10:17:05] <Blei> too bad it died
[10:17:42] *** Joins: skade (skade@30BBD5E6.505237C9.CAE22B62.IP)
[10:18:18] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[10:18:40] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[10:20:21] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[10:20:35] *** Quits: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP) (Quit: Leaving)
[10:25:15] *** Joins: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP)
[10:27:06] *** Quits: amro (quassel@D9E34ACF.8AAAF769.FAAB0799.IP) (Ping timeout)
[10:28:41] *** Joins: amro (quassel@F1E3FD84.8AAAF769.FAAB0799.IP)
[10:31:08] <dbaupp> eddyb: is `..x` capturing fields a definite, or just something you want/have planned? ;)
[10:31:30] *** Joins: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP)
[10:31:33] <eddyb> dbaupp: it's mostly for consistency
[10:31:45] <eddyb> dbaupp: since it will have to work in function arguments (which are patterns)
[10:31:54] *** Joins: leaper (Mibbit@C83F40FA.C3C4EFEF.4BC5EF08.IP)
[10:32:07] <dbaupp> eddyb: so this is part of *your* plan, not something accepted by the core team, right?
[10:32:18] <dbaupp> *accepted yet
[10:32:21] <eddyb> part of my RFC. nmatsakis likes it :P
[10:32:36] *** Quits: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP) (Quit: Leaving)
[10:32:39] <eddyb> if I weren't so desperate about memory usage, I could've worked on that
[10:32:52] <eddyb> fn foo<..Args>(..args: Args) is how it will work (in my vision)
[10:33:12] <dbaupp> right; just pointing out that saying "..x *will* capture ..." isn't correct, because it's not going to be part of rust for sure
[10:34:39] <eddyb> sorry
[10:35:02] <eddyb> dbaupp: "at some point" wasn't clear enough
[10:35:07] *** Quits: leaper (Mibbit@C83F40FA.C3C4EFEF.4BC5EF08.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[10:39:42] *** Quits: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[10:46:17] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[10:46:51] *** Joins: Kingsley (kingsley@9B172CBE.BEA5C56D.DF4B730F.IP)
[10:50:18] *** Joins: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net)
[10:52:15] *** Joins: mermi (Mibbit@C83F40FA.C3C4EFEF.4BC5EF08.IP)
[10:54:06] *** Quits: nkoep (nik@moz-AF5C1DFE.pool.mediaways.net) (Ping timeout)
[10:59:00] *** Joins: ricepuddin (graham@moz-F5091D38.wlan.ic.ac.uk)
[11:01:53] *** Quits: mermi (Mibbit@C83F40FA.C3C4EFEF.4BC5EF08.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[11:03:19] *** Joins: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP)
[11:04:36] *** Quits: fabiand (fabiand@moz-E2C97B82.adsl.alicedsl.de) (Quit: Verlassend)
[11:04:39] *** Joins: fabiand (fabiand@moz-E2C97B82.adsl.alicedsl.de)
[11:04:47] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[11:08:32] *** Joins: nkoep (nik@moz-D9C11524.vpn.rwth-aachen.de)
[11:20:14] *** Parts: z0w0 (zack@moz-6264033D.qcl9.cha.bigpond.net.au) ()
[11:20:43] *** Joins: z0w0 (zack@moz-6264033D.qcl9.cha.bigpond.net.au)
[11:22:15] *** Quits: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl) (Client exited)
[11:26:07] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[11:40:09] *** Joins: dredozubov (dredozubov@2F14E2C1.F70E5FA9.F63E14E8.IP)
[11:41:02] *** Quits: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP) (Quit: Leaving)
[11:42:20] *** Joins: Earnestly (earnest@38FE72A5.82423D8F.BFD1ABFD.IP)
[11:44:58] *** Joins: Skif (emschwar@moz-4C5BB5A8.beyondbb.com)
[11:46:46] *** Quits: Skif (emschwar@moz-4C5BB5A8.beyondbb.com) (Ping timeout)
[11:49:24] *** Joins: Sorella_ (quildreen@D2D1E5DD.81EFC25A.A95FAE2B.IP)
[11:49:55] *** Joins: sarclops (sarclops@454B35C7.6848B658.5CE2311A.IP)
[11:51:31] *** Quits: santiago (santiago@moz-CF057779.lv.lv.cox.net) (Ping timeout)
[11:52:03] *** Joins: santiago (santiago@moz-CF057779.lv.lv.cox.net)
[11:56:08] *** Joins: dd (chatzilla@8CA41291.DAD92AC8.D216A595.IP)
[11:57:10] *** Joins: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP)
[12:01:34] *** Quits: m_kato (m_kato@moz-C286AD9A.bitcat.net) (Quit: Leaving...)
[12:04:48] *** Quits: dredozubov (dredozubov@2F14E2C1.F70E5FA9.F63E14E8.IP) (Client exited)
[12:09:14] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[12:10:35] *** Quits: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net) (Quit: killerswan)
[12:10:57] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[12:16:34] *** Quits: fabiand (fabiand@moz-E2C97B82.adsl.alicedsl.de) (Ping timeout)
[12:18:52] *** Quits: robn (robn@moz-76B0302C.static.internode.on.net) (Ping timeout)
[12:21:23] *** Joins: robn (robn@moz-76B0302C.static.internode.on.net)
[12:22:45] *** Joins: fabiand (fabiand@moz-E2C97B82.adsl.alicedsl.de)
[12:28:03] *** Quits: GeneralMaximus (ankur@633FB70A.5C183543.EF1555B.IP) (Connection reset by peer)
[12:28:46] *** Joins: donri (donri@moz-9BB61102.tbcn.telia.com)
[12:31:52] *** Joins: dredozubov (dredozubov@2F14E2C1.F70E5FA9.F63E14E8.IP)
[12:34:30] *** Joins: GeneralMaximus (ankur@96E19828.67D0397B.C8956BBE.IP)
[12:35:09] *** Quits: quvarxa (chatzilla@moz-978E4C31.static.tpgi.com.au) (Quit: ChatZilla 0.9.90.1 [Firefox 26.0/20131125215016])
[12:37:45] *** kimundi is now known as zz_kimundi
[12:38:20] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[12:38:59] *** Joins: octurion (octurion@moz-E7EA111C.clients.kiwiirc.com)
[12:41:25] *** Quits: heftig (heftig@moz-E8E2034C.inf.fh-bonn-rhein-sieg.de) (Quit: Quitting)
[12:46:20] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[12:48:54] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Ping timeout)
[12:52:11] *** Quits: Houm (Houm@moz-25669AA8.fbx.proxad.net) (Ping timeout)
[12:52:45] *** Quits: GeneralMaximus (ankur@96E19828.67D0397B.C8956BBE.IP) (Ping timeout)
[12:57:29] *** Quits: dd (chatzilla@8CA41291.DAD92AC8.D216A595.IP) (Quit: ChatZilla 0.9.90.1 [Firefox 25.0.1/20131115110315])
[12:59:01] *** Joins: GeneralMaximus (ankur@A1529669.603786A3.B29E8538.IP)
[13:02:55] *** Joins: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net)
[13:11:16] *** Quits: GeneralMaximus (ankur@A1529669.603786A3.B29E8538.IP) (Ping timeout)
[13:12:01] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[13:13:01] *** Joins: beifeng (Mibbit@F0EAC113.1F1EDF21.47BFDB16.IP)
[13:14:54] *** Joins: GeneralMaximus (ankur@A1529669.603786A3.B29E8538.IP)
[13:18:09] *** Quits: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[13:29:03] *** Quits: ricepuddin (graham@moz-F5091D38.wlan.ic.ac.uk) (Ping timeout)
[13:33:07] *** Joins: mib_scfvsv (Mibbit@moz-800058AA.pools.arcor-ip.net)
[13:33:41] *** Joins: Skif (emschwar@moz-4C5BB5A8.beyondbb.com)
[13:34:04] *** Quits: mib_scfvsv (Mibbit@moz-800058AA.pools.arcor-ip.net) (Quit: http://www.mibbit.com ajax IRC Client)
[13:34:38] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[13:35:21] *** Quits: Skif (emschwar@moz-4C5BB5A8.beyondbb.com) (Ping timeout)
[13:39:01] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[13:41:45] *** Joins: vq (vq@moz-65A5483F.tbcn.telia.com)
[13:42:18] *** Joins: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net)
[13:43:55] *** Quits: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[13:46:33] *** Quits: Ferreus (ferreus@moz-3F8C9F4.dip0.t-ipconnect.de) (Ping timeout)
[13:47:06] *** Joins: Heather_ (Heather@19663F6.F53BAACC.9C17E900.IP)
[13:47:13] <Heather_> Hey again
[13:47:18] <Heather_> wait
[13:47:22] <Heather_> my _ ...
[13:47:24] <Heather_> damn...
[13:47:36] <Heather_> Is it okay to have rust as binary package on nuget?
[13:48:40] *** Joins: canhtak (canhtak@moz-6F820ACE.wl.t.ulaval.ca)
[13:49:23] *** Joins: aeqwa (aeqwa@moz-FEA36D89.dsl.tropolys.de)
[13:49:57] *** Quits: GeneralMaximus (ankur@A1529669.603786A3.B29E8538.IP) (Ping timeout)
[13:50:25] *** Quits: Heather_ (Heather@19663F6.F53BAACC.9C17E900.IP) (Quit: ~ Trillian - www.trillian.im ~)
[13:55:16] *** Quits: nsf (nsf@moz-EEF3238A.convex.ru) (Quit: WeeChat 0.4.2)
[13:58:02] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[13:59:16] *** Joins: GeneralMaximus (ankur@704E18E2.13A5FC81.D5D59AD9.IP)
[13:59:48] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[14:00:27] *** Joins: heftig (heftig@moz-8FC7A1C0.dip0.t-ipconnect.de)
[14:01:45] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[14:10:59] *** Joins: lenstr (lenstr@E0E80B8D.ED45D46B.DFEAE789.IP)
[14:11:02] *** Quits: lenstr (lenstr@E0E80B8D.ED45D46B.DFEAE789.IP) (Quit: Leaving...)
[14:11:09] *** Joins: lenstr (lenstr@E0E80B8D.ED45D46B.DFEAE789.IP)
[14:11:13] *** Quits: lenstr (lenstr@E0E80B8D.ED45D46B.DFEAE789.IP) (Quit: lenstr)
[14:11:26] *** Joins: lmandel (lmandel@moz-76CE9D51.cable.teksavvy.com)
[14:14:09] *** Quits: canhtak (canhtak@moz-6F820ACE.wl.t.ulaval.ca) (Quit: canhtak)
[14:17:08] *** Joins: nuts (tii@822A8E7E.6AD15BF5.75D3BBDB.IP)
[14:17:22] <nuts> Hello
[14:18:39] *** Joins: vmx (vmx@moz-867092DB.dip0.t-ipconnect.de)
[14:19:18] *** pmoore is now known as pmoore|away
[14:20:10] *** Joins: ricepuddin (graham@moz-606EC05A.wlan.ic.ac.uk)
[14:21:27] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[14:21:46] *** Joins: mib_lfxqns (Mibbit@moz-A03C05DE.retail.telecomitalia.it)
[14:22:16] *** Quits: mib_lfxqns (Mibbit@moz-A03C05DE.retail.telecomitalia.it) (Quit: http://www.mibbit.com ajax IRC Client)
[14:28:09] *** Quits: moostik (Icedove@moz-C2FFB694.w82-121.abo.wanadoo.fr) (Ping timeout)
[14:28:34] <Blei> is it a known bug that typedef'd struct names can't be used to construct structs?
[14:29:01] <Blei> ah, it is
[14:29:36] *** Joins: canhtak (canhtak@moz-6F820ACE.wl.t.ulaval.ca)
[14:30:01] *** Joins: jdm (jdm@moz-AC9499B2.cable.teksavvy.com)
[14:30:01] *** ChanServ sets mode: +o jdm
[14:31:05] <pnkfelix> Blei: if you really just want to rename the struct, maybe you could just rename it from `use` instead ?
[14:34:38] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Ping timeout)
[14:35:14] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[14:37:14] <Blei> i don't want to rename, i want to work with the output of bindgen :)
[14:39:41] *** Quits: canhtak (canhtak@moz-6F820ACE.wl.t.ulaval.ca) (Quit: canhtak)
[14:41:34] *** Quits: eddyb (eddy@EBE709F3.F7C96DA2.FCAAE698.IP) (Ping timeout)
[14:44:43] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[14:44:57] *** Quits: octurion (octurion@moz-E7EA111C.clients.kiwiirc.com) (Quit: http://www.kiwiirc.com/ - A hand crafted IRC client)
[14:47:43] *** zz_kimundi is now known as kimundi
[14:50:02] *** Quits: luisbg (luisbg@moz-C54443AD.baconseed.org) (Ping timeout)
[14:51:10] <sarclops> Why is bindgen even neccessary? Rust depends on clang, so why can't I just call c functions directly?
[14:51:55] <pnkfelix> sarclops: 1. I don't think Rust depends on clang anymore (just LLVM)
[14:52:20] *** Joins: moostik (Icedove@DEF0989.ED71B4E7.BCDF592F.IP)
[14:52:22] <pnkfelix> sarclops: 2. C syntax does not match Rust's syntax.  So unless you're like me and enjoy porting C header files by hand, you need a tool like bindgen.
[14:53:00] <vmx> cmr: i saw on one of you github issued that you have updated one commit, several times. it showed up as "referenced from...". how do i do it? just adding a "closes #issuenumber" in the commit message?
[14:54:08] <Blei> sarclops: i think there is actually an issue open about integrating bindgen (or something similar) into rustc directly
[14:54:11] <pnkfelix> sarclops: having said that … there is https://github.com/mozilla/rust/issues/2124
[14:54:23] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[14:57:33] *** Joins: abinader (abinader@D8B9C081.E820043D.D4C04133.IP)
[14:57:37] <sarclops> Thanks
[14:58:16] <cmr> vmx: yes
[14:59:36] <vmx> cmr: i was referring to https://github.com/mozilla/rust/issues/10638 i don't see many branches about that in your fork. where are the commits. is there a way to push without a branch (or to preserve them somehow)?
[15:00:14] <cmr> vmx: the multiple messages are because I rebased and force pushed
[15:00:39] <vmx> cmr: but why are they still there? when i force push they are gone
[15:00:57] * cmr shrugs
[15:01:02] <vmx> (that is acutally the problem i have with github pull requests, that it doesn't really preserve the history)
[15:01:06] <cmr> github works in mysterious ways
[15:01:59] <vmx> cmr: take mine as example: https://github.com/mozilla/rust/pull/9838 it had a commit somewhere at the top (when i created the pull request). now it is gone as i force pushed something new
[15:02:42] <cmr> yes, that's how it is supposed to work.
[15:02:58] <vmx> and i haven't found a way to preserve old commits. i haven't thought it's possible until i saw your issue. i guess i need to play a bit in some test repo
[15:03:00] <cmr> the PR only shows the commits on the branch it is tracking.
[15:03:36] <vmx> oh, so there's a difference between PR and issues
[15:03:53] *** Quits: beifeng (Mibbit@F0EAC113.1F1EDF21.47BFDB16.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[15:04:14] <ssbr_> I seem to remember there being a way to run only one task at a time with tests, but I don't see anything in my_test_executable -h. Is there a way to eliminate test concurrency? The output is jumbled.
[15:04:20] *** Quits: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com) (Ping timeout)
[15:04:34] <cmr> ssbr_: RUST_TEST_TASKS=1
[15:04:58] *** Joins: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com)
[15:05:27] <vmx> cmr: thanks i'll play with it a bit to have a better understanding
[15:05:33] *** kimundi is now known as zz_kimundi
[15:05:34] <ssbr_> cmr: perfect, thanks
[15:12:46] <Blei> trying to integrate rust ports and chans into the gtk main loop. _so_ many transmutes
[15:17:51] *** Joins: canhtak (canhtak@moz-6F820ACE.wl.t.ulaval.ca)
[15:19:09] *** Joins: steve (Thunderbir@moz-329E56D.hsd1.fl.comcast.net)
[15:19:20] *** Joins: cubic (cubic@moz-80241A3A.mc.videotron.ca)
[15:22:20] *** Joins: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP)
[15:22:25] *** Joins: Skif (emschwar@moz-4C5BB5A8.beyondbb.com)
[15:23:09] *** Joins: xexio (xexio@E0B6D10F.3DF1D9C2.E62F6450.IP)
[15:23:46] *** Quits: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP) (Client exited)
[15:24:11] *** Quits: Skif (emschwar@moz-4C5BB5A8.beyondbb.com) (Ping timeout)
[15:26:45] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[15:27:34] *** Quits: canhtak (canhtak@moz-6F820ACE.wl.t.ulaval.ca) (Quit: canhtak)
[15:27:47] *** Quits: avsej (avsej@DF1824D5.EFF97412.48F984E6.IP) (Ping timeout)
[15:32:17] *** Joins: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP)
[15:32:25] *** Quits: arodier74 (Thunderbir@5901C3C8.B6144566.D3B9122.IP) (Quit: arodier74)
[15:34:09] *** Quits: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP) (Client exited)
[15:34:43] *** Joins: autra (augustin@A14DAE84.7F753DD1.EE2CA32B.IP)
[15:34:52] *** Quits: autra (augustin@A14DAE84.7F753DD1.EE2CA32B.IP) (Client exited)
[15:37:42] *** Quits: DasIch (dasich@moz-5EDA591.de) (Ping timeout)
[15:37:44] *** Joins: beifeng (Mibbit@B5497CF4.FA7FF645.C7DB8B78.IP)
[15:38:14] <bstrie> Seldaek: damn, you already implemented yes, true, and false
[15:38:25] <bstrie> there's not much more I can do
[15:38:42] <bstrie> also... cat looks much more complicated than I expected
[15:39:05] *** Joins: infynyxx (infynyxx@moz-8BE8F2CD.hsd1.md.comcast.net)
[15:39:12] <diverse>  what's "yes"?
[15:39:24] <klutzy> bstrie: what about this? https://github.com/erkin/ponysay :)
[15:39:30] <cmr> diverse: outputs y in an infinite loop
[15:39:32] <bstrie> diverse: type "yes" into your shell
[15:39:33] <cmr> (or its argument)
[15:39:34] <bstrie> cmr: dammit!
[15:39:42] <bstrie> it was supposed to be a surprise
[15:39:51] <cmr> lol
[15:39:56] <bstrie> you're no fun
[15:39:59] <diverse> rofl
[15:40:03] <cmr> "yes no" makes me giggle every time
[15:40:46] *** Joins: luisbg (luisbg@moz-C54443AD.baconseed.org)
[15:41:56] *** Joins: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP)
[15:42:08] *** Quits: moostik (Icedove@DEF0989.ED71B4E7.BCDF592F.IP) (Ping timeout)
[15:43:09] <tiffany> mozilla air has made it harder to download videos
[15:43:23] <diverse> klutzy: there is also this: https://github.com/rossy2401/img2xterm
[15:43:26] <tiffany> right click plays the video instead of opening a menu with a convienient download video option
[15:43:34] <diverse> bitmap RMS is always funny
[15:43:54] <cmr> almost as impressive as ass
[15:44:05] <diverse> hahaha
[15:44:54] *** Quits: z0w0 (zack@moz-6264033D.qcl9.cha.bigpond.net.au) (Ping timeout)
[15:45:13] *** Joins: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net)
[15:45:21] <cmr> sorry, caca
[15:45:30] <cmr> I frequently get those confused
[15:46:17] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[15:46:25] <diverse> libass is for soft subtitles in videos, I think you were referring to libaa?
[15:47:21] <cmr> http://caca.zoy.org/wiki/libcaca
[15:47:32] <cmr> same thing, really
[15:48:01] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[15:48:56] *** Joins: arodier74 (Thunderbir@5901C3C8.B6144566.D3B9122.IP)
[15:49:47] <Seldaek> bstrie: all those commands are a lot more complicated than they look like, because most args are never used
[15:52:19] *** Joins: moostik (Icedove@5A22E6A1.10715965.BCDF592F.IP)
[15:53:32] <diverse> I wonder if someone implemented a "maybe" command?
[15:55:04] *** Joins: Ferreus (ferreus@moz-3F8C9F4.dip0.t-ipconnect.de)
[15:57:48] <Seldaek> diverse: for the chronically indecisive?
[15:58:10] *** Joins: SiegeLord (sl@moz-C606190.bstnma.fios.verizon.net)
[15:59:31] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[16:00:08] *** zz_kimundi is now known as kimundi
[16:00:31] *** Joins: csherratt (csherratt@moz-CAF331EA.cable.teksavvy.com)
[16:01:22] *** pmoore|away is now known as pmoore
[16:03:44] <diverse> Seldaek: or for trolling users
[16:04:29] <diverse> with unexpected behavior some of the time.
[16:04:38] *** Joins: canhtak (canhtak@moz-6F820ACE.wl.t.ulaval.ca)
[16:07:59] <zxcdw> could_be and must_be too
[16:08:36] *** Quits: Sharp (Sharp@moz-780FECDA.washdc.fios.verizon.net) (Quit: Sharp)
[16:13:22] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[16:14:54] *** Quits: lerc (quassel@1025964E.9BA67FF7.788638A4.IP) (Ping timeout)
[16:15:00] *** Quits: canhtak (canhtak@moz-6F820ACE.wl.t.ulaval.ca) (Quit: canhtak)
[16:19:35] *** Quits: ricepuddin (graham@moz-606EC05A.wlan.ic.ac.uk) (Ping timeout)
[16:20:18] <strcat> dbaupp: https://github.com/thestinger/rust-core/commit/917c836002fa703a58a64242045d026cd6031c99 sanity! ;p
[16:20:24] <strcat> silly floats
[16:21:39] <strcat> I wonder if we could have an alternate way of overloading those operators (another trait) for floats
[16:21:55] <strcat> for user-defined messed up numbers ;]
[16:22:01] * strcat doesn't really care
[16:22:50] *** Quits: xexio (xexio@E0B6D10F.3DF1D9C2.E62F6450.IP) (Ping timeout)
[16:23:03] *** Quits: banananana (ba@E7E2A35D.6F99A8B0.2AADDDA7.IP) (Quit: Verlassend)
[16:26:05] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[16:29:49] *** Joins: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net)
[16:30:00] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[16:34:04] *** Joins: nsf (nsf@moz-EEF3238A.convex.ru)
[16:36:43] *** Quits: themgt (themgt@moz-83F07CDA.cm.vtr.net) (Quit: themgt)
[16:37:17] *** Joins: themgt (themgt@moz-83F07CDA.cm.vtr.net)
[16:37:47] <shadower> if I have a C struct with a field that's a C enum and a C function that builds that struct: can I just write the equivalent struct & enum in rust, call the C code and safely use the result?
[16:38:35] <shadower> that sounded better in my head
[16:39:28] <shadower> it wasn't working for me yesterday, but it was on 0.8 and I've seen some commits regarding enum layouts lately
[16:40:14] <shadower> so I'm just curious whether that's supposed to work now and if not if there are plans to make it work later on
[16:40:19] <bstrie> shadower: I believe you can, but you have to make sure all the types are the appropriate size
[16:40:48] <shadower> bstrie: using the enum type hint?
[16:40:51] <bstrie> and for enums, you probably have to use the special `enum Foo { bar=5 }` forms, and maybe also tag it with an attribute to tell it what size to use
[16:41:09] <bstrie> I'm not an expert in this area
[16:41:20] <sp3d> rust enums will be ABI-compatible with C enums if you use #[repr(C)]
[16:41:33] <shadower> ah, cool
[16:41:49] <shadower> sp3d: is that in master already or planned?
[16:41:55] <sp3d> master
[16:42:01] <bstrie> oh neat
[16:42:03] <shadower> sweet
[16:42:15] <shadower> thanks to both of you
[16:42:39] *** Quits: nano (nano@moz-74CAD1CA.superkabel.de) (Connection reset by peer)
[16:42:54] <bstrie> np
[16:43:19] *** Joins: spider-mario (spidermari@moz-2F72F6FF.dsl.quantic-telecom.net)
[16:44:31] *** Joins: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP)
[16:44:54] *** Quits: spider-mario (spidermari@moz-2F72F6FF.dsl.quantic-telecom.net) (Connection reset by peer)
[16:45:03] <bstrie> Seldaek: do you have uutils on rust-ci?
[16:46:17] *** Quits: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP) (Ping timeout)
[16:46:52] <Seldaek> bstrie: yup, as coreutils
[16:47:05] <Seldaek> it's been very handy so far :)
[16:48:32] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[16:50:07] *** Quits: SiegeLord (sl@moz-C606190.bstnma.fios.verizon.net) (Connection reset by peer)
[16:51:02] *** Joins: canhtak (canhtak@moz-6F820ACE.wl.t.ulaval.ca)
[16:51:13] *** jorendorff_away is now known as jorendorff
[16:53:25] *** Joins: spider-mario (spidermari@moz-2F72F6FF.dsl.quantic-telecom.net)
[16:58:39] *** Quits: dredozubov (dredozubov@2F14E2C1.F70E5FA9.F63E14E8.IP) (Client exited)
[17:01:06] *** Quits: canhtak (canhtak@moz-6F820ACE.wl.t.ulaval.ca) (Quit: canhtak)
[17:04:59] *** Quits: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[17:06:23] *** Quits: csherratt (csherratt@moz-CAF331EA.cable.teksavvy.com) (Quit: csherratt)
[17:07:37] *** Joins: devbug (quassel@2D4E172D.4C8B6099.9B57EA59.IP)
[17:09:26] *** Quits: peterdn (chatzilla@moz-6C268C7F.as13285.net) (Ping timeout)
[17:10:08] *** Joins: twb (textual@moz-5DE8950B.hsd1.ga.comcast.net)
[17:10:57] *** Quits: jc (Mibbit@B0F4602F.45C6C921.2862F179.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[17:11:09] *** Joins: Skif (emschwar@moz-4C5BB5A8.beyondbb.com)
[17:12:10] *** Joins: csherratt (csherratt@moz-CAF331EA.cable.teksavvy.com)
[17:12:27] <strcat> rusti: -5u
[17:12:29] -rusti- 18446744073709551611u
[17:12:31] <strcat> hm
[17:12:45] *** Joins: icebattle (icebattle@8A14A542.EBE2EE2B.C7CEC4ED.IP)
[17:12:52] *** Quits: Skif (emschwar@moz-4C5BB5A8.beyondbb.com) (Ping timeout)
[17:14:11] * Ms2ger disapproves of silent overflow
[17:14:35] <strcat> as in at runtime, or the lack of a lint?
[17:14:50] <csherratt> they can be useful.
[17:15:07] <strcat> if you don't have known bounds you need a big integer, anyway
[17:15:24] *** Quits: arodier74 (Thunderbir@5901C3C8.B6144566.D3B9122.IP) (Quit: arodier74)
[17:16:28] *** Joins: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com)
[17:16:57] <csherratt> rusti: (-45 % 64)
[17:16:58] -rusti- -45
[17:17:08] *** Joins: Savago (Savago@D8B9C081.E820043D.D4C04133.IP)
[17:17:31] <csherratt> rusti: (-45u % 64u)
[17:17:32] -rusti- 19u
[17:19:41] *** Joins: arodier74 (Thunderbir@5901C3C8.B6144566.D3B9122.IP)
[17:20:05] *** Joins: maxiepoo (Max@moz-63A79E35.sw.biz.rr.com)
[17:24:05] *** Quits: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP) (Quit: Leaving.)
[17:25:37] *** pmoore is now known as pmoore|away
[17:26:02] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[17:28:13] *** Joins: hjr3 (hradtke@1A0AE795.28A5F6C3.A2D40ED2.IP)
[17:28:25] *** Joins: alisdair (textual@E1CEBB1A.D061F0C9.AA6AEE7B.IP)
[17:29:46] *** Joins: peterdn (chatzilla@moz-6C268C7F.as13285.net)
[17:30:08] *** Quits: alisdair (textual@E1CEBB1A.D061F0C9.AA6AEE7B.IP) (Ping timeout)
[17:35:19] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[17:35:20] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[17:35:29] *** Joins: canhtak (canhtak@moz-6F820ACE.wl.t.ulaval.ca)
[17:37:56] *** Quits: beifeng (Mibbit@B5497CF4.FA7FF645.C7DB8B78.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[17:38:09] *** Joins: beifeng (Mibbit@B5497CF4.FA7FF645.C7DB8B78.IP)
[17:38:56] *** Quits: maxiepoo (Max@moz-63A79E35.sw.biz.rr.com) (Quit: maxiepoo)
[17:40:36] *** Joins: maxiepoo (Max@moz-63A79E35.sw.biz.rr.com)
[17:43:41] *** Quits: BizarreCake (BizarreCak@moz-361FE9B2.dynamic.barak-online.net) (Connection reset by peer)
[17:44:53] *** Quits: maxiepoo (Max@moz-63A79E35.sw.biz.rr.com) (Quit: maxiepoo)
[17:45:21] *** Joins: lastdev (lastdev@moz-5A47DD8E.dyn.user.ono.com)
[17:46:32] *** Joins: sprang (sprang@moz-920A95C4.hsd1.ca.comcast.net)
[17:47:42] <bstrie> wycats_: if you haven't yet filed an issue for that rush.h, I can do it right now
[17:47:48] <bstrie> *rust.h
[17:47:53] <strcat> bstrie: hm?
[17:48:45] <strcat> bstrie: https://github.com/mozilla/rust/issues/10530
[17:49:07] <bstrie> strcat: wycats_ had an idea of shipping a rust.h file containing C definitions of all our built-in types
[17:49:26] <bstrie> or perhaps I'm describing it wrong, which is why I wanted him to file the issue :P
[17:49:29] <wycats_> :)
[17:49:31] <strcat> are there really any interesting types?
[17:49:34] <wycats_> Wheee
[17:49:52] <strcat> slices, I guess, but they're defined in the stdlib
[17:50:00] <wycats_> Vectors (and strings)
[17:50:06] <wycats_> And slices
[17:50:07] <strcat> the built-in vectors will be removed
[17:50:45] <wycats_> rust.h can help paper over those kinds of changes
[17:51:05] <strcat> wycats_: if they're removed from the language?
[17:51:15] <strcat> so is rust.h for the language, or the whole stdlib?
[17:51:17] <wycats_> ~[] will stop working?
[17:51:28] <strcat> it won't be a resizable vector
[17:52:28] <strcat> I don't think it makes sense to write a header by hand
[17:52:56] <wycats_> I don't think it makes sense for me to write a header by hand in my C code ;)
[17:52:59] <strcat> teaching rustc to generate one from a crate/module makes a lot more sense
[17:53:04] <wycats_> Sounds good
[17:53:20] <wycats_> Some extern "C" functions may he enough
[17:54:44] <strcat> rustc can be taught to generate a header with public extern "C" functions, primitive types, repr(C) or repr(fixed_size) enums, structs of representable types, etc.
[17:55:37] <strcat> wouldn't be that hard
[17:55:43] <strcat> you can build an AST with libclang and write it
[17:56:06] <strcat> 20 minutes of work maybe? plus all the wasted compiling time ;p
[17:57:46] <wycats_> Plus learning libclang and libsyntax ;)
[17:58:06] <wycats_> strcat: do it ;)
[17:58:09] <strcat> well you'd need librustc
[17:58:28] * strcat is more interested with the *opposite* direction
[17:58:42] <wycats_> Say more?
[18:00:01] <strcat> #[sys_header = "sqlite3.h"] extern mod sqlite3;
[18:00:22] <strcat> and have libclang parse it on-demand make it resolve as if it's a rust module
[18:00:36] <strcat> no hardwired, non-portable definitions in the code
[18:00:59] <strcat> we really need that to support alternate C libraries and portability for others that vary in ABI based on configuration or the system
[18:01:20] <strcat> (not every linux libc has the glibc ABI! rust assumes they do)
[18:01:44] *** Joins: mikezaby (mikezaby@moz-AA896205.home.otenet.gr)
[18:03:49] *** Joins: FreeFull (freefull@moz-33375531.skybroadband.com)
[18:04:04] *** Quits: abinader (abinader@D8B9C081.E820043D.D4C04133.IP) (Ping timeout)
[18:05:20] *** Quits: sarclops (sarclops@454B35C7.6848B658.5CE2311A.IP) (Quit: sarclops)
[18:05:21] <wycats_> That would help me too
[18:05:43] <wycats_> #[sys_header(ruby.h)]
[18:10:54] *** Joins: abinader (abinader@496D17B0.2513D022.AD91B79.IP)
[18:14:10] *** Quits: canhtak (canhtak@moz-6F820ACE.wl.t.ulaval.ca) (Quit: canhtak)
[18:14:32] *** jorendorff is now known as jorendorff_away
[18:14:41] *** Joins: eholk (eholk@moz-EA69C7A5.wavecable.com)
[18:15:00] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[18:15:33] *** Quits: isaacd (me@moz-6902374D.dhcp.oxfr.ma.charter.com) (Ping timeout)
[18:16:12] *** Quits: csherratt (csherratt@moz-CAF331EA.cable.teksavvy.com) (Quit: csherratt)
[18:17:07] *** Joins: isaacd (me@moz-6902374D.dhcp.oxfr.ma.charter.com)
[18:17:24] <ssbr_> Is there a way to disable the colored output when running the tests?
[18:17:45] *** Quits: Ferreus (ferreus@moz-3F8C9F4.dip0.t-ipconnect.de) (Ping timeout)
[18:18:32] *** Joins: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net)
[18:21:39] *** Joins: lerc (quassel@1025964E.9BA67FF7.788638A4.IP)
[18:27:14] *** Joins: eddyb (eddy@EBE709F3.F7C96DA2.FCAAE698.IP)
[18:31:07] *** Joins: canhtak (canhtak@moz-6F820ACE.wl.t.ulaval.ca)
[18:31:31] *** Quits: KindOne (KindOne@moz-40255860.dynamic.ip.windstream.net) (Ping timeout)
[18:33:08] *** Quits: fabiand (fabiand@moz-E2C97B82.adsl.alicedsl.de) (Ping timeout)
[18:33:55] <kimundi> ssbr_: You get colored output?! Afaik the colors are always disabled if the test suite uses more than one thread
[18:34:37] <kimundi> If the question is how to disable it in that situation, then there is afaik no way except changing the place where it is hardcoded
[18:34:42] <ssbr_> kimundi: a sane choice, but I told it not to use multiple threads, because I'm piping the output to something else
[18:34:49] <ssbr_> of course, when you're piping things, you don't want colors, either
[18:35:15] <kimundi> I don't know about those things, but afaik in a pipe it should disable colors automatically?
[18:35:23] <ssbr_> kimundi: it doesn't :(
[18:35:38] <kimundi> hmm...
[18:35:52] *** Quits: lastdev (lastdev@moz-5A47DD8E.dyn.user.ono.com) (Quit: )
[18:36:38] <ssbr_> try running something like RUST_TEST_TASKS=1 ./example_test 2>&1 | tee /dev/null
[18:36:44] <ssbr_> whazam, colors! :P
[18:37:45] *** Quits: peterdn (chatzilla@moz-6C268C7F.as13285.net) (Ping timeout)
[18:38:30] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[18:40:44] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Ping timeout)
[18:41:20] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[18:41:35] *** Joins: peterdn (chatzilla@moz-E4A450C.as13285.net)
[18:44:32] *** Quits: alonlevy (alon@moz-DCBA91C6.bb.netvision.net.il) (Ping timeout)
[18:46:27] <phil_> anyone mind helping me with more noob garbage?
[18:46:42] <phil_> error: mismatched types: expected `~str` but found `&'static str` (str storage differs: expected ~ but found &'static )
[18:46:50] <kimundi> phil_: Sure, what is your question?
[18:47:02] <phil_> im unsure about these string types
[18:47:07] <kimundi> Okay, in what context do you get that error?
[18:47:11] <phil_> i dont think i understandi it correctly
[18:47:12] <phil_> one sec
[18:47:18] <diverse> pastebin the code
[18:47:20] <phil_> fn print_word(guesses: &~[char], correct_word: ~str) {
[18:47:23] <phil_> ok
[18:49:17] <phil_> http://pastebin.com/8ndsdyng
[18:49:35] *** Quits: jdm (jdm@moz-AC9499B2.cable.teksavvy.com) (Quit: Lost terminal)
[18:49:38] <phil_> get_input() just gets a single byte from stdin
[18:49:42] <kimundi> a &str is a reference to a string allocated somewhere, the 'static means that that allocation lives as long as your process, which means a &'static is a reference to a compiletime constant string. A ~str is a heap allocated owned string. You can borrow a &str from a ~str without problem, but you can't turn a &str into a ~str without calling .to_owned() on it
[18:49:51] *** Quits: nkoep (nik@moz-D9C11524.vpn.rwth-aachen.de) (Ping timeout)
[18:50:37] <phil_> i tried changing the function declaration so correct_word was &str
[18:50:48] <phil_> and then changing the string to be &
[18:50:52] <phil_> or at least i thought so
[18:51:00] <phil_> i guess its possible i didnt do so completely
[18:51:12] <kimundi> phil_: Okay, in you code the word_list vatriable is going to be of type ~[&str], which means word_list[n] gives you a &str, and you get a type error on print_word because of the type mismatch
[18:51:27] <phil_> oh
[18:51:38] <phil_> so i do need to change it to &str
[18:51:44] <phil_> in the function
[18:51:45] *** Joins: jvshahid (jvshahid@moz-C1BC0CE4.nyc.res.rr.com)
[18:52:00] <kimundi> fn print_word(guesses: &~[char], correct_word: &str) { ... } should probably work, yeah
[18:52:09] *** Quits: jvshahid (jvshahid@moz-C1BC0CE4.nyc.res.rr.com) (Quit: leaving)
[18:52:21] *** Quits: infynyxx (infynyxx@moz-8BE8F2CD.hsd1.md.comcast.net) (Client exited)
[18:52:26] <phil_> wow okay
[18:52:29] <phil_> that did work
[18:52:37] <kimundi> btw, you can change it to
[18:52:38] <phil_> so when i did that before
[18:52:41] *** Joins: infynyxx (infynyxx@moz-8BE8F2CD.hsd1.md.comcast.net)
[18:52:45] <kimundi> fn print_word(guesses: &[char], correct_word: &str) { ... }
[18:52:46] <phil_> maybe i was messing other stuff up at the same time
[18:53:01] <phil_> okay
[18:53:15] <phil_> that tilde after the & doesnt mean much or wht?
[18:53:26] <kimundi> that is, you also don't need to take a reference to the owned vector, you can just take a slice of the vector itself
[18:53:57] <kimundi> phil_: It has meaning, but it's uneccessary in this situation
[18:53:57] <phil_> okay
[18:54:26] <phil_> so much stuff to wrap my head around :X
[18:54:29] *** Quits: infynyxx (infynyxx@moz-8BE8F2CD.hsd1.md.comcast.net) (Ping timeout)
[18:54:47] <kimundi> If you would take a &mut~[T], then that would mean you could push/pop from the vector trough the reference, something that is not possible with a &mut [T]
[18:54:53] <bstrie> phil_: we hope to change string types to be more consistent in the future
[18:55:10] <kimundi> But for &~[T] and &[T] you canT change the vector either way
[18:55:19] <phil_> ah gotcha
[18:55:27] <phil_> it would need to be defined as mutable?
[18:55:40] <Ms2ger> Can't push to an immutable vector
[18:55:45] <kimundi> a & is a immutable reference
[18:55:52] <phil_> oh haha
[18:56:09] <kimundi> and ~ inherits mutability from the location it is in
[18:56:22] <phil_> ok
[18:58:21] <kimundi> so let x = ~[a, b, c]; is a vector in a immutable location, which means you can'T change it through that variable, or through a immutable reference to it (&). You can change it if it is is stored somewhere mutable, like let mut x = ~[a, b, c]. Then you are also allowed to create a mutable reference to (&mut)
[18:58:38] <kimundi> to it*
[18:58:40] *** Joins: jeaye (Jeaye@moz-34FEF2BB.hsd1.ca.comcast.net)
[18:58:48] <phil_> ah ok
[18:59:19] <phil_> so is there any point to me making my word list with a ~ in front of it
[18:59:51] <kimundi> In this code - no, because it is a compiletime constant array.
[18:59:54] *** Joins: Skif (emschwar@moz-4C5BB5A8.beyondbb.com)
[18:59:56] <phil_> ok
[19:00:11] *** Quits: eddyb (eddy@EBE709F3.F7C96DA2.FCAAE698.IP) (Ping timeout)
[19:00:26] <kimundi> let word_list = ["cookies", "apartment", "house", "cage", "dog", "stringy", "stereo", "door"]; would make it a fixed sized [&str, ..8] array on the stack
[19:00:28] <phil_> ive got another question... is there any way to initialize an empty array so i can push elements onto it at run time?
[19:00:51] <phil_> i looked in the docs and didnt see anything
[19:01:01] <kimundi> rusti: let mut v = ~[]; v.push(5u); v.push(10u); v
[19:01:02] -rusti- ~[5u, 10u]
[19:01:11] <kimundi> A ~[T] is a growable vector
[19:01:12] *** Joins: nejucomo (Adium@moz-3B9BDB73.hlrn.qwest.net)
[19:01:13] *** Joins: infynyxx (infynyxx@moz-8BE8F2CD.hsd1.md.comcast.net)
[19:01:23] <phil_> okay i thought i tried that too
[19:01:33] <phil_> i probably messed it up though hooray me
[19:01:34] *** Quits: nejucomo (Adium@moz-3B9BDB73.hlrn.qwest.net) (Quit: Leaving.)
[19:01:39] *** Quits: Skif (emschwar@moz-4C5BB5A8.beyondbb.com) (Ping timeout)
[19:01:39] <kimundi> Might not have beein in a mutable variable
[19:01:51] <phil_> yeah probably
[19:01:57] *** Quits: heftig (heftig@moz-8FC7A1C0.dip0.t-ipconnect.de) (Ping timeout)
[19:02:06] <phil_> do i need to define the type somehow or does the compiler figure it out?
[19:02:44] <kimundi> It ususally can find it out through inference, but if you want to be explicit you can also just tell it which type the variable should have
[19:02:52] <phil_> okay
[19:03:01] *** Quits: andre_ (andre@CA528A4A.45A4338E.8EE27E6.IP) (Quit: leaving)
[19:03:02] <kimundi> rusti: let mut v = ~[]; v.push(5u); v.push(10u); v // This infers v to be ~[uint] through usage
[19:03:02] -rusti- ~[5u, 10u]
[19:03:10] <phil_> okay
[19:03:18] <phil_> that rusti is pretty neat
[19:03:30] <kimundi> rusti: let mut v: ~[uint] = ~[]; v // This tells the compiler to be ~[uint]
[19:03:31] -rusti- <anon>:9:17: 9:18 warning: variable does not need to be mutable [-W unused-mut (default)]
[19:03:32] -rusti- <anon>:9          let mut v: ~[uint] = ~[]; v // This tells the compiler to be ~[uint]
[19:03:32] -rusti-                           ^
[19:03:32] -rusti- ~[]
[19:03:55] <kimundi> (That what happens if you don't actually mutate the variable btw :P)
[19:03:59] <phil_> okay
[19:04:03] <phil_> thanks kimundi
[19:04:09] <kimundi> No problem
[19:04:10] <phil_> much appreciated
[19:05:22] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Ping timeout)
[19:05:57] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[19:08:26] *** Joins: nkoep (nik@moz-AF5C1DFE.pool.mediaways.net)
[19:09:14] *** Joins: BizarreCake (BizarreCak@moz-361FE9B2.dynamic.barak-online.net)
[19:10:27] *** Joins: nano (nano@moz-74CAD1CA.superkabel.de)
[19:10:56] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Quit: Busying myself...)
[19:14:36] *** Quits: skade (skade@30BBD5E6.505237C9.CAE22B62.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[19:14:38] *** Quits: moostik (Icedove@5A22E6A1.10715965.BCDF592F.IP) (Ping timeout)
[19:15:34] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[19:15:54] *** Quits: BizarreCake (BizarreCak@moz-361FE9B2.dynamic.barak-online.net) (Ping timeout)
[19:15:55] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[19:16:37] *** Joins: heftig (heftig@moz-FC483BB3.dip0.t-ipconnect.de)
[19:17:41] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[19:17:51] *** Joins: eddyb (eddy@EBE709F3.F7C96DA2.FCAAE698.IP)
[19:19:03] *** Quits: eholk (eholk@moz-EA69C7A5.wavecable.com) (Ping timeout)
[19:20:09] <jdavis> Is it possible to write a custom allocator for unique pointers in rust? In particular, I'd like to allocate regions of memory, and then allocate chunks inside of that. How would I approach that kind of thing?
[19:20:59] *** Joins: sarclops (sarclops@moz-DE5C3EA6.zone8.bethere.co.uk)
[19:22:46] <sam113101> what would be &[0, ..1024]
[19:22:49] <sam113101> ?
[19:22:53] <strcat> jdavis: the built-in unique pointers don't support allocators
[19:23:15] <strcat> sam113101: a reference to a fixed-size array
[19:23:39] <jdavis> strcat: it doesn't have to be integrated into the syntax. It's fine with me if it's a library where I have to call some function to allocate an object inside a region.
[19:23:43] <bstrie> strcat: pcwalton seemed to agree that custom allocator support would be nice, but I don't know if he also meant for unique pointers
[19:24:18] <jdavis> My use case is this: Let's say my algorithm starts to use a lot of memory, and I want to evict some objects.
[19:24:31] <sam113101> strcat: but it says that bare [something] is not a type, what would & reference to? ~[0, ..1024]?
[19:24:31] <strcat> what do you mean by evict?
[19:24:35] <sam113101> this is confusing
[19:24:36] <strcat> now it's sounding memory unsafe
[19:24:48] *** Quits: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com) (Client exited)
[19:24:50] <strcat> sam113101: dunno what you're asking me now
[19:24:55] <jdavis> I mean write them to disk and get them out of memory
[19:24:58] <sam113101> ( ≖‿≖) 
[19:25:00] *** Joins: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com)
[19:25:04] <strcat> [1u, 2, 3] is a [uint, ..3]
[19:25:11] <tiffany> well that's what swap is for
[19:25:29] *** Parts: mikezaby (mikezaby@moz-AA896205.home.otenet.gr) ()
[19:25:43] <sam113101> rusti: let mut test: [uint] = [0, ..1024];
[19:25:43] <jdavis> strcat: so I will remove all references to the object after writing to disk
[19:25:44] -rusti- pastebinned 8 lines of output: http://sprunge.us/PicH
[19:25:50] <strcat> jdavis: can you just use a memory mapped file and mlock certain parts?
[19:26:02] <sam113101> <anon>:9:23: 9:29 error: bare `[]` is not a type
[19:26:22] <jdavis> strcat: the eviction might be more complicated than that -- the disk representation might be different than the memory representation
[19:26:27] <strcat> jdavis: there's no safe, efficient way to do what you're saying beyond mmap though
[19:26:40] <tiffany> why do you need a different format for the on-disk representation?
[19:26:53] *** Joins: Ferreus (ferreus@moz-303EBF2B.pools.arcor-ip.net)
[19:27:39] <sam113101> is that weird
[19:27:49] <strcat> jdavis: you're either going to have to use raw pointers directly (throughout the code) or have shared ownership smart pointers you can mark as dead
[19:27:52] <jdavis> strcat: I'm a database guy, so lots of these kinds of things come up: structures that start out in memory but need to go to disk. Is it just impossible to do that safely?
[19:28:00] *** Quits: canhtak (canhtak@moz-6F820ACE.wl.t.ulaval.ca) (Quit: canhtak)
[19:28:00] *** Quits: twb (textual@moz-5DE8950B.hsd1.ga.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[19:28:06] <strcat> jdavis: what about the existing references to those objects?
[19:28:13] <tiffany> it's perfectly possible using mmap
[19:28:18] <strcat> you can freely pass unique pointers (and similar owned values) around the program
[19:28:35] <tiffany> anyway, if you use ~ pointers you can have a function which takes those and writes them to disk, and the callee won't be able to use it anymore
[19:28:58] <strcat> jdavis: you're going to have to make a smart pointer type that checks if it's dead when someone tries to deref
[19:29:03] <strcat> if you want safety
[19:29:07] <strcat> so yes, you do that
[19:29:28] <jdavis> strcat: yeah, that's fine. I don't even need a reference at all, actually, I can free the entire reference.
[19:29:32] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[19:30:11] <jdavis> The problem I have is that I just want to evict objects in a certain region, so when I free all of the objects and the region, then it actually frees up real memory pages, rather than just causing fragmentation.
[19:30:14] <strcat> sam113101: [T] isn't a type
[19:30:23] <strcat> sam113101: [T, ..n] is a fixed-size array, &[T] is a slice
[19:30:44] *** Joins: BizarreCake (BizarreCak@moz-361FE9B2.dynamic.barak-online.net)
[19:31:06] <strcat> jdavis: how big are the objects?
[19:31:12] <sam113101> rusti: let mut test: [uint, ..1024] = [0, ..1024];
[19:31:14] -rusti- pastebinned 7 lines of output: http://sprunge.us/EZJa
[19:31:24] *** Joins: KindOne (KindOne@moz-40255860.dynamic.ip.windstream.net)
[19:31:25] <jdavis> a hundred bytes each maybe
[19:31:29] <strcat> modern allocators like tcmalloc/jemalloc put small allocations in thread-local pools based on size classes and have bounds on fragmentation
[19:31:38] <strcat> jdavis: it won't cause fragmentation, then, unless the malloc implementation is bad
[19:32:04] <strcat> although I guess glibc might count as 'bad' here ;]
[19:32:10] <jdavis> strcat: but if I am freeing 10% of my objects, how do I know which 10% to free so that it doesn't fragment?
[19:32:15] *** Quits: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[19:32:34] <strcat> jdavis: it doesn't matter which ones you free, it's a pool
[19:32:38] <sam113101> so I absolutely need to specify the size twice?
[19:32:39] <jdavis> The allocator can't do much if I free them randomly... that's guaranteed to fragment.
[19:32:58] <strcat> jdavis: it's not 'fragmentation'
[19:33:02] <jdavis> strcat: I don't follow, sorry
[19:33:06] <tiffany> it'll hurt cache locality, but it will not fragment
[19:33:09] <strcat> there's basically no such thing as fragmentation for small size classes in modern allocators
[19:33:10] *** Joins: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP)
[19:33:20] <strcat> jdavis: so, here's how jemalloc works
[19:33:26] <strcat> it makes 4MiB arenas
[19:33:31] <strcat> an arena is dedicated to a size class
[19:33:45] <strcat> it threads a linked list through the free spots in the arena
[19:33:57] <strcat> malloc just pops from the start of that
[19:34:04] <strcat> free has to push to the start
[19:34:24] <strcat> there's actually a worst-case bound on wasted space
[19:34:33] <strcat> it's something like 15-20%
[19:34:44] <strcat> (for small size classes)
[19:34:57] <jdavis> OK, let's say that all of the allocations are done, and I have 128M objects of 128 bytes each. They are laid out in memory sequentially from object 1 to object 128 million
[19:35:16] <strcat> they won't be sequential though
[19:35:23] <strcat> they'll be in 4MiB arenas
[19:35:38] <jdavis> OK, sure, in a bunch of 4MiB arenas.
[19:35:58] <jdavis> Then I want to free up 32MiB of memory
[19:36:54] <jdavis> It doesn't do me much good to free up every 4th object I find, because every memory page will still be almost full, and so can't be released.
[19:36:54] *** Joins: canhtak (canhtak@moz-6F820ACE.wl.t.ulaval.ca)
[19:37:03] <strcat> but aren't you then going to allocate more objects?
[19:37:06] <strcat> and it will put them in the gaps
[19:37:53] <tiffany> why do you need to free up pages back to the OS?
[19:38:10] *** Joins: twb (textual@moz-5DE8950B.hsd1.ga.comcast.net)
[19:38:24] <tiffany> if this is really a huge concern for you, you should probably implement your own arena allocation
[19:38:50] <jdavis> I guess if the objects are perfectly fixed size then it will work pretty well. But if they vary in size, it's really hard to know how much space reuse you'll actually get.
[19:39:09] <tiffany> do your objects have a fixed size?
[19:39:38] <jdavis> tiffany: in the real case, no. I was trying to simplify my concern about fragmentation.
[19:40:24] <jdavis> tiffany, that was my original question was how to do a custom allocator as a rust library.
[19:40:39] <TeXitoi> strcat: https://github.com/mozilla/rust/pull/10704#issuecomment-29533149
[19:41:04] <TeXitoi> strcat: strange, I received your comment by mail, but can't find it on github
[19:41:11] <strcat> TeXitoi: I think I commented on the commit?
[19:41:14] * strcat shrugs
[19:41:22] *** Quits: Jesse (jruderman@moz-5973C6FA.oc.oc.cox.net) (Quit: Jesse)
[19:41:46] *** Quits: Savago (Savago@D8B9C081.E820043D.D4C04133.IP) (Ping timeout)
[19:42:15] <TeXitoi> strcat: but if you have a better idea for the parallelisation, I'm open to it ;)
[19:42:53] *** Quits: infynyxx (infynyxx@moz-8BE8F2CD.hsd1.md.comcast.net) (Client exited)
[19:43:11] *** Quits: oberstet (quassel@moz-5E4CCC0B.dynamic.mnet-online.de) (Client exited)
[19:43:36] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[19:46:21] <TeXitoi> strcat: and using Arc(()), and unwrap it at the end to wait for the tasks to end is quite ugly :/
[19:46:45] *** Quits: victorporof (victorporo@47B918E3.BCF05198.9B1E38F4.IP) (Quit: victorporof)
[19:47:09] *** Joins: jdm (jdm@FCCEA34F.7672369.D8E68FF6.IP)
[19:47:09] *** ChanServ sets mode: +o jdm
[19:47:34] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[19:47:47] <strcat> TeXitoi: sure, it's nicer if you can join them https://github.com/thestinger/rust-core/blob/master/test/thread.rs#L42 
[19:47:53] <strcat> or if something joins them for you https://github.com/thestinger/rust-core/blob/master/test/thread_pool.rs
[19:47:55] * strcat shrugs
[19:52:02] *** Joins: SiegeLord (sl@moz-C606190.bstnma.fios.verizon.net)
[19:52:11] *** Quits: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[19:53:11] *** Joins: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP)
[19:55:21] *** Joins: Jesse (jruderman@moz-5973C6FA.oc.oc.cox.net)
[19:57:12] <jstevans1> Can I use #[cfg(target_arch = "arm")] on an entire file, or does it have to come before each function?
[19:57:15] *** Joins: tikue (tkuehn@moz-C55F9DFF.hsd1.pa.comcast.net)
[19:57:20] <strcat> jstevans1: before an item
[19:57:33] <jstevans1> Cool. Is there documentation on these directives?
[19:57:49] <strcat> the manual covers some
[19:57:59] *** Quits: tikue (tkuehn@moz-C55F9DFF.hsd1.pa.comcast.net) (Quit: tikue)
[19:58:00] <strcat> attributes in general can be applied to any item
[19:58:06] <strcat> some are crate attributes
[19:58:39] <kimundi> module declarations are also items btw
[19:59:56] <jstevans1> I think you may have lost me... I do need to put that attribute before a given function? And I'm unable to put it at the top of my Rust file?
[20:00:35] <Ms2ger> I think you can do  #[cfg(target_arch = "arm")] mod foo {}
[20:01:39] <kimundi> jstevans1: What Ms2ger said, files are irrelvant for rusts module system, mod declares a module, which body might come from a file, but in eitehr case you can put the cfg attribute on it
[20:01:52] <strcat> jstevans1: on an item (impl, mod, fn, static)
[20:02:20] <strcat> it doesn't make sense to put it at the top of a file - where would rust get the alternative for other platforms?
[20:03:00] *** Quits: Sorella_ (quildreen@D2D1E5DD.81EFC25A.A95FAE2B.IP) (Quit: Ex-Chat)
[20:03:33] *** Joins: infynyxx (infynyxx@moz-8BE8F2CD.hsd1.md.comcast.net)
[20:03:42] <jstevans1> Hrm. What is the proper way to compile to a library with the ARM AAPCS?
[20:04:04] *** Joins: Liothen (liothen@96625EAC.566451EE.31191230.IP)
[20:04:30] *** Joins: g3xzh (g3xzh@moz-85224D43.red.bezeqint.net)
[20:04:58] *** Quits: BizarreCake (BizarreCak@moz-361FE9B2.dynamic.barak-online.net) (Connection reset by peer)
[20:06:07] *** Quits: spider-mario (spidermari@moz-2F72F6FF.dsl.quantic-telecom.net) (Input/output error)
[20:06:21] <jstevans1> Right now, I'm trying to take tutorial code for an x86_64 UEFI kernel and build it for ARM. The only thing that I think needs to change within the file is swapping any extern "win64" fn's to be extern "aapcs", instead. However, I believe in the Rust compiler, "aapcs" just uses the C calling convention for whatever architecture you're currently on. Is that right?
[20:07:24] <jdm> jstevans1: correct
[20:07:32] <jdm> http://mxr.mozilla.org/rust/source/src/librustc/middle/trans/foreign.rs#103
[20:07:53] <jstevans1> So if I'm building this on an x86_64 machine, then "aapcs" didn't really change anything?
[20:08:23] *** Quits: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[20:10:33] *** Joins: eholk (eholk@moz-EA69C7A5.wavecable.com)
[20:14:22] *** Quits: infynyxx (infynyxx@moz-8BE8F2CD.hsd1.md.comcast.net) (Client exited)
[20:16:22] *** Joins: infynyxx (infynyxx@moz-8BE8F2CD.hsd1.md.comcast.net)
[20:16:31] *** Joins: ryeguy (ryeguy@9C569A0.5D1143CD.E8644521.IP)
[20:16:39] *** Quits: infynyxx (infynyxx@moz-8BE8F2CD.hsd1.md.comcast.net) (Client exited)
[20:16:50] *** Quits: ryeguy (ryeguy@9C569A0.5D1143CD.E8644521.IP) (Quit: )
[20:18:37] *** Joins: refold (gman@moz-42D68426.a258.priv.bahnhof.se)
[20:19:35] <g3xzh> can anyone explain me what crate is ?
[20:19:46] <g3xzh> it is not clear from the tutorial
[20:20:08] <g3xzh> is it like a "target" in makefile?
[20:21:02] <Ms2ger> It's a compilation unit, I think
[20:21:45] <SiegeLord> Yeah, that's one of the most fundamental properties of it
[20:22:24] *** Quits: Ms2ger (Ms2ger@C91975CB.3387515C.187A1082.IP) (Quit: nn)
[20:23:51] <g3xzh> so for instance,
[20:23:58] <g3xzh> rustc u1.rs u2.rs
[20:24:31] <g3xzh> means that u1.rs and u2.rs are a crate
[20:24:36] <g3xzh> or it means that
[20:24:47] <g3xzh> u1.rs is a crate and u2.rs is a different crate
[20:24:50] <g3xzh> ?
[20:26:05] <kimundi> g3xzh: It either means u1 is a crate and u2 is a crate, or it means u1 is a crate and u2 is unknwon command line argument
[20:26:06] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[20:26:11] <kimundi> ;)
[20:26:51] <kimundi> Yeah, just tested it, rustc only accepts one file
[20:26:51] <g3xzh> kimundi: thanks. it makes sense now.
[20:27:27] <g3xzh> kimundi: :D
[20:33:29] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Quit: Gone to save the world!)
[20:35:33] <jstevans1> If I do #[cfg(target_arch="arm")], then any functions labelled with "aapcs" should compile with the ARM calling convention, right?
[20:36:56] <bascule>  13_4__8__ 9_11__12_  13_4__ 8_9__11_    13_ 4_8_   11__12_ 13_ 4_ 
[20:37:00] <bascule> 4|  8_9__11|  12_ 13\4|_ 8_9|  11_ 12\  4/ 8\\ 9\ 11/ 12/ 13| 4| 8|
[20:37:02] <bascule> 8| 9|_  12| 13|_4) 8|| 9|11| 12| 13| 4|/ 8_ 9\11\ 12V 13/| 4| 8| 9|
[20:37:05] <bascule> 9|  11_12| 13|  4_ 8< 9| 11|12| 13|_4| 8/ 9__11_ 12\| 13| 4|8_|9_|11_|
[20:37:08] <bascule> 11|_12|   4|_8| 9\_11\_12__13|_4__8_/9_/   12\13_\4_| 8(9_|11_|12_)
[20:37:11] <bascule>                                         
[20:37:46] <jdm> wat
[20:37:47] <sam113101> what are you gonna fry?
[20:39:34] *** Joins: aeqwa1 (aeqwa@moz-4064984B.dsl.tropolys.de)
[20:40:03] *** Quits: aeqwa (aeqwa@moz-FEA36D89.dsl.tropolys.de) (Ping timeout)
[20:40:10] *** Quits: eholk (eholk@moz-EA69C7A5.wavecable.com) (Quit: eholk)
[20:40:46] <kimundi> jstevans1: Hu? cfg just includes/excludes a item from compilation, it doesn't change anything about the calling convention
[20:41:28] <jstevans1> Then how do I get a function (or, more directly, all of my code) to use the ARM ABI?
[20:41:37] <jstevans1> kimundi*
[20:41:39] <kimundi> No idea
[20:41:42] <jstevans1> Ack.
[20:44:11] *** Quits: g3xzh (g3xzh@moz-85224D43.red.bezeqint.net) (Client exited)
[20:45:13] <jdm> cross compile, maybe?
[20:46:15] *** Quits: nsf (nsf@moz-EEF3238A.convex.ru) (Quit: WeeChat 0.4.2)
[20:46:23] *** Quits: amro (quassel@F1E3FD84.8AAAF769.FAAB0799.IP) (Ping timeout)
[20:46:47] <jstevans1> I need to rebuild rustc for ARM, right?
[20:48:39] *** Joins: amro (quassel@D9E34ACF.8AAAF769.FAAB0799.IP)
[20:48:44] *** Joins: Skif (emschwar@moz-4C5BB5A8.beyondbb.com)
[20:50:26] *** Quits: Skif (emschwar@moz-4C5BB5A8.beyondbb.com) (Ping timeout)
[20:50:58] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[20:52:06] *** Joins: tikue (tkuehn@moz-C55F9DFF.hsd1.pa.comcast.net)
[20:55:17] <tikue> rusti: for i in range(0, 10).scan(~[], |v, i| if i % 2 == 0 { v.push(i); Some(i) } else { None }) { print!("{}, ", i) }
[20:55:18] -rusti- 0, ()
[20:55:56] <tikue> anyone know what i'm doing wrong here? i'd like scan() to print all evens (yes I know I could use filter, this is a toy example)
[20:56:40] <strcat> if you return None, the scan ends
[20:56:57] *** Quits: Blei (philipp@moz-B2F9E4BD.cust.bluewin.ch) (Quit: WeeChat 0.4.2)
[20:57:56] <tikue> ah. when is that useful, generally?
[20:58:13] <strcat> scan is fold with the intermediate values yielded
[20:58:13] <tikue> presumably you can just use take_while if you want to terminate early
[20:58:27] <tikue> fold never terminates earl
[20:58:37] <strcat> tikue: fold also returns 1 value
[20:58:39] *** Joins: ricepuddin (graham@moz-7D68765A.cable.virginm.net)
[20:58:42] <strcat> scan yields all the intermediate ones
[20:58:54] <tikue> not all -- only until you return None
[20:58:57] *** Joins: skade (skade@moz-A586637D.pools.arcor-ip.net)
[20:59:00] <tikue> but i don't know why that's useful
[20:59:19] <strcat> yeah I don't know why it's done that way
[20:59:26] *** Quits: skade (skade@moz-A586637D.pools.arcor-ip.net) (Quit: Textual IRC Client: www.textualapp.com)
[21:02:36] *** Quits: tikue (tkuehn@moz-C55F9DFF.hsd1.pa.comcast.net) (Quit: tikue)
[21:02:57] *** Quits: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl) (Client exited)
[21:05:31] <jstevans1> According to Linaro wiki, I need to build the Rust compiler for arm-none-eabi. The closest it looks like Rust comes is arm-unknown-linux-gnueabihf. Since my code compiles standalone (#[no_std];), will that affect anything?
[21:06:27] *** Quits: lmandel (lmandel@moz-76CE9D51.cable.teksavvy.com) (Ping timeout)
[21:07:57] <strcat> jstevans1: isn't that just about whether enums are short or long?
[21:08:00] * strcat shrugs
[21:08:08] <Luqman> jstevans1: https://github.com/jensnockert/dueboot/blob/master/Rakefile#L64-L72
[21:08:10] <strcat> I think it'll be fine
[21:10:17] <jstevans1> Luqman: When I try to run configure for arm-[none/unknown/linux]-[noeabi/eabi], none of those combinations work
[21:10:57] *** Quits: beifeng (Mibbit@B5497CF4.FA7FF645.C7DB8B78.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[21:14:10] <eddyb> gnueabihf is eabi + GNU + hard-float, no?
[21:15:13] <strcat> eddyb: yes but the GNU part seems irrelevant for no_std rust
[21:15:29] <strcat> at most it means LLVM might output something like sincos, afaik
[21:15:56] <Luqman> jstevans1: afaik, if you're using no_std then afaik you don't really need to build a separate rust
[21:16:25] <jstevans1> Just discovered that, I think! I don't need to rebuild rust, I just --target=arm-linux-noeabi?
[21:16:32] <jstevans1> For rustc*
[21:17:35] *** Joins: _alephlambda (alephlambd@moz-3D2CE66D.mycingular.net)
[21:18:00] *** Quits: canhtak (canhtak@moz-6F820ACE.wl.t.ulaval.ca) (Quit: canhtak)
[21:18:35] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Connection reset by peer)
[21:19:36] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[21:22:49] *** Quits: abinader (abinader@496D17B0.2513D022.AD91B79.IP) (Quit: Fui!)
[21:23:24] <eddyb> jstevans1: I think so, the reason you would want to build rust for the arm target is to get an arm rustc instead of a native one, and to have libraries you can link against
[21:25:08] <Luqman> eddyb: almost, specifying and arm --target would just give you the libs not an arm rustc
[21:25:19] <Luqman> an arm target*
[21:25:24] <eddyb> oh, interesting
[21:26:02] <Luqman> you'd pass arm to --host to get an arm rustc (theoretically)
[21:27:26] *** Joins: DAddYE (DAddYE@moz-CA6BED0D.dsl.pltn13.pacbell.net)
[21:28:20] *** Joins: eholk (eholk@moz-EA69C7A5.wavecable.com)
[21:29:12] <eddyb> Luqman: so you can have a rustc that can build both x86 and arm binaries, and it can link to the right libraries :D
[21:29:26] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[21:29:30] *** Quits: vmx (vmx@moz-867092DB.dip0.t-ipconnect.de) (Ping timeout)
[21:29:46] <eddyb> (since, if I recall correctly, the shared libraries are in a {triple}/lib directory)
[21:30:34] *** Joins: vmx (vmx@moz-867092DB.dip0.t-ipconnect.de)
[21:31:39] <Luqman> eddyb: yes, you'd have $PREFIX/lib/libstd-*.so and $PREFIX/lib/rustc/$TRIPLE/lib/libstd-*.so  the first is what the compiler itself is linked against while the latter is what your resulting binary will be linked against
[21:31:52] <Luqman> so you can have multiple targets
[21:32:39] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Quit: Leaving.)
[21:32:42] <Luqman> (i.e the current targets i have are: arm-linux-androideabi  arm-unknown-linux-gnueabi  arm-unknown-linux-gnueabihf  i686-w64-mingw32  x86_64-unknown-linux-gnu)
[21:33:25] <eddyb> this is a lot better than working with cross-compilers :P
[21:37:43] *** Joins: canhtak (canhtak@moz-6F820ACE.wl.t.ulaval.ca)
[21:39:57] *** Joins: tikue (tkuehn@moz-C55F9DFF.hsd1.pa.comcast.net)
[21:41:09] *** Quits: tikue (tkuehn@moz-C55F9DFF.hsd1.pa.comcast.net) (Quit: tikue)
[21:41:19] <eddyb> hmm, how would one create a tree of objects and then register some of these objects (after casting to trait pointers) into a callback-like list, which can call &mut self methods, but the objects are also available in the tree?
[21:41:40] <eddyb> Rc<RefCell<~Trait>> maybe?
[21:41:57] *** Quits: engla (engla@moz-F64E1B0F.cust.bredbandsbolaget.se) (Ping timeout)
[21:46:07] <sp3d> what's the shortest non-{:?} way to print an enum?
[21:47:19] <bstrie> sp3d: `fn p(foo: T) { println!("{:?}", foo); }`
[21:47:40] <bstrie> should be a type parameter somewhere in there
[21:47:55] *** Quits: isaacd (me@moz-6902374D.dhcp.oxfr.ma.charter.com) (Quit: Leaving.)
[21:48:33] <dbaupp> bstrie: "non-{:?}"?
[21:48:33] <sp3d> yeah, but that uses reflection
[21:48:47] <bstrie> oh, I thought you just wanted to be lazy :)
[21:48:49] <dbaupp> sp3d: #[deriving(ToStr)] enum { ... } foo.to_str()
[21:48:49] <jstevans1> So wait, eddyb: I *can't* just use rustc --target=arm-none-noeabi rust.rs?
[21:48:59] <sp3d> mm, ok
[21:48:59] *** Joins: ofeldt- (ofeldt@moz-27DC1338.dip0.t-ipconnect.de)
[21:49:15] <sp3d> wasn't sure if there was a way to derive a Default impl in one step or such
[21:49:40] *** Quits: ofeldt (ofeldt@moz-C9B23CE3.dip0.t-ipconnect.de) (Ping timeout)
[21:50:06] <eddyb> rusti: #[deriving(Default)] enum Foo { Bar, Baz } print!("{} {} ", Bar, Baz);
[21:50:07] -rusti- pastebinned 10 lines of output: http://sprunge.us/bPDK
[21:51:08] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[21:51:24] <dbaupp> eddyb: deriving doesn't work with Default, and doesn't work inside functions anyway
[21:52:14] *** Quits: DAddYE (DAddYE@moz-CA6BED0D.dsl.pltn13.pacbell.net) (Client exited)
[21:53:12] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[21:55:49] <eddyb> jstevans1: did I say you couldn't?
[21:56:14] <eddyb> strcat: does rust-core have something like Rc<RefCell<T>>?
[21:56:34] <strcat> it doesn't have Cell/RefCell yet
[21:57:02] <eddyb> Rc<Mut<T>> would've been nice :(
[21:57:02] <jstevans1> eddyb: I guess not? Sorry! Turkey and coding do not mesh well in my head...
[21:57:29] <eddyb> I wish I had turkey, no thanksgiving here :P
[21:58:13] *** Quits: Jackneill (Jackneill@moz-408977C4.pool.digikabel.hu) (Input/output error)
[22:00:37] *** Joins: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP)
[22:00:39] *** Joins: derek_c (derek@moz-E72F174.cit.cornell.edu)
[22:12:46] *** Quits: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP) (Client exited)
[22:14:31] *** Quits: Amaranth (travis@moz-F81BB56A.cpe.cableone.net) (Ping timeout)
[22:19:48] *** Joins: lmandel (lmandel@moz-76CE9D51.cable.teksavvy.com)
[22:19:56] *** Joins: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP)
[22:20:05] *** Quits: nano (nano@moz-74CAD1CA.superkabel.de) (Connection reset by peer)
[22:20:28] *** Joins: Sharp (Sharp@moz-39EFDA61.hfc.comcastbusiness.net)
[22:21:51] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[22:24:31] *** Quits: Yurumechan (23f9939a@B2F514.E4420F21.EEF52F3A.IP) (Ping timeout)
[22:27:20] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[22:27:39] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[22:27:40] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[22:29:18] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[22:32:38] *** Quits: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net) (Ping timeout)
[22:34:29] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Client exited)
[22:36:44] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[22:37:24] *** Joins: Skif (emschwar@moz-4C5BB5A8.beyondbb.com)
[22:37:24] *** Joins: Yurumechan (23f9939a@B2F514.E4420F21.EEF52F3A.IP)
[22:38:03] *** Quits: Sharp (Sharp@moz-39EFDA61.hfc.comcastbusiness.net) (Quit: Sharp)
[22:38:36] *** Quits: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com) (Ping timeout)
[22:39:09] *** Quits: Skif (emschwar@moz-4C5BB5A8.beyondbb.com) (Ping timeout)
[22:40:33] <james4k> does 
[22:41:12] <james4k> has servo's copy on write DOM implementation been realized?
[22:42:17] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[22:42:33] <dbaupp> james4k: (if you don't get an answer here you could try #servo)
[22:44:50] *** Joins: Vert (quassel@moz-4FE2C4EE.bethere.co.uk)
[22:45:01] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Quit: Konversation terminated!)
[22:45:21] *** Quits: StarLight (StarLight@moz-2CFC6EE0.dynamic.avangarddsl.ru) (Ping timeout)
[22:46:02] *** Quits: Vert (quassel@moz-4FE2C4EE.bethere.co.uk) (Quit: quit)
[22:46:17] <james4k> thanks
[22:46:24] <james4k> found an issue https://github.com/mozilla/servo/issues/447
[22:47:05] <jdm> james4k: nope
[22:49:46] *** Joins: StarLight (StarLight@moz-2F47C036.dynamic.avangarddsl.ru)
[22:49:59] *** Quits: lmandel (lmandel@moz-76CE9D51.cable.teksavvy.com) (Ping timeout)
[22:50:30] *** Parts: _alephlambda (alephlambd@moz-3D2CE66D.mycingular.net) ()
[22:51:14] *** Joins: quvarxa (chatzilla@moz-978E4C31.static.tpgi.com.au)
[22:54:18] *** Joins: lmandel (lmandel@moz-76CE9D51.cable.teksavvy.com)
[22:55:04] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Client exited)
[22:59:00] *** Quits: lmandel (lmandel@moz-76CE9D51.cable.teksavvy.com) (Ping timeout)
[22:59:50] *** Joins: lmandel (lmandel@moz-76CE9D51.cable.teksavvy.com)
[23:02:04] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[23:02:57] <ktt3ja> is .. the same as * in pattern matching, or does it do something new as well?
[23:03:27] *** Quits: devbug (quassel@2D4E172D.4C8B6099.9B57EA59.IP) (Ping timeout)
[23:04:11] *** Joins: etw (john@moz-D871A25B.nyc.res.rr.com)
[23:05:46] *** Joins: xexio (xexio@E0B6D10F.3DF1D9C2.E62F6450.IP)
[23:06:45] *** Quits: eholk (eholk@moz-EA69C7A5.wavecable.com) (Quit: eholk)
[23:06:56] <kimundi> ktt3ja: .. is the unified replacement for *
[23:07:43] <kimundi> ktt3ja: Before, depending on pattern either * or _ would act as the wildcard pattern that matches all remaining values
[23:08:06] <kimundi> ktt3ja: Now, only .. fills that role, with _ being only for single elment wildcards
[23:08:18] <eddyb> ..x *might* do something more in the future, for things other than vectors
[23:08:21] <ktt3ja> kimundi: okay, thanks!
[23:08:50] *** Quits: derek_c (derek@moz-E72F174.cit.cornell.edu) (Ping timeout)
[23:09:27] <ktt3ja> so I can replace something like `blah(_, _, foofoo)` with `blah(.., foofoo)`, right?
[23:13:21] <eddyb> yupp
[23:15:55] *** Quits: eddyb (eddy@EBE709F3.F7C96DA2.FCAAE698.IP) (Ping timeout)
[23:17:44] *** Joins: mib_163bmm (Mibbit@1EEF8F2.50A2C647.5A42B74E.IP)
[23:18:03] <mib_163bmm> Why do object types need to be pointer types?
[23:18:27] *** Joins: Sharp (Sharp@moz-39EFDA61.hfc.comcastbusiness.net)
[23:19:08] <mib_163bmm> If they consist of only two pointers (to vtable and to value of original pointer) isn't their size known?
[23:20:41] <strcat> mib_163bmm: the size of the *object* isn't known
[23:20:48] <strcat> the pointer sigil refers to the object pointer
[23:21:12] <strcat> ~Trait in the current type system isn't ~T, there's no such type as Trait
[23:21:43] *** Quits: GeneralMaximus (ankur@704E18E2.13A5FC81.D5D59AD9.IP) (Ping timeout)
[23:21:54] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[23:21:55] <benh> mhm, do we really have separate .. and ... tokens?
[23:22:04] <kimundi> yes
[23:22:09] <kimundi> since c variadics
[23:22:11] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[23:22:19] *** Joins: GeneralMaximus (ankur@704E18E2.13A5FC81.D5D59AD9.IP)
[23:23:02] <mib_163bmm> strcat: How is the size of the object not known? It says in the docs that it only consists of 2 pointers
[23:23:14] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Quit: Busying myself...)
[23:23:27] <kimundi> mib_163bmm: The size of the object the pojnter points at is not known
[23:23:36] <strcat> mib_163bmm: a pointer to an object, of unknown size
[23:23:43] <mib_163bmm> strcat: Oh I see what you're saying
[23:23:47] <strcat> ~Trait doesn't mean 'Trait' behind a unique pointer
[23:24:01] <strcat> rusti: fn foo<T>(_: ~T) {} foo(~5)
[23:24:03] -rusti- ()
[23:24:10] <strcat> rusti: fn foo<T>(_: ~T) {} foo(~5 as ~ToStr) /* nope */
[23:24:10] -rusti- <anon>:9:33: 9:45 error: mismatched types: expected `~<V6>` but found `~std::to_str::ToStr:Send` (expected ~-ptr but found trait std::to_str::ToStr)
[23:24:10] -rusti- <anon>:9          fn foo<T>(_: ~T) {} foo(~5 as ~ToStr) /* nope */
[23:24:11] -rusti-                                           ^~~~~~~~~~~~
[23:24:11] -rusti- error: aborting due to previous error
[23:24:11] -rusti- application terminated with error code 101
[23:24:19] <kimundi> rusti: trait Foo {} impl Foo for uint {} impl Foo for u8 {} (~1u as ~Foo, ~1u8 as ~Foo)
[23:24:20] -rusti- (~main::Foo:Send, ~main::Foo:Send)
[23:24:35] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[23:24:44] <strcat> mib_163bmm: the ~ is the object pointer corresponding to the object the trait object came from
[23:24:55] *** Quits: xexio (xexio@E0B6D10F.3DF1D9C2.E62F6450.IP) (Quit: Konversation terminated!)
[23:24:59] <kimundi> Two trait objects, both size of two pointers, one points at a object one byte big, one at a object 8 byte bit
[23:26:09] *** Joins: mib_fw7v1w (Mibbit@moz-5EC452BE.superkabel.de)
[23:27:23] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[23:27:30] <mib_163bmm> I was thinking of objects as physical entities I guess
[23:29:05] <mib_163bmm> strcat: So, fn foo<T>(_: ~T) {} You cannot possibly bind a trait object to _ now?
[23:29:25] <mib_163bmm> Because you can't take a pointer to an object?
[23:29:31] <strcat> no
[23:29:39] <strcat> Trait isn't a type
[23:29:43] <strcat> T needs to be a type
[23:30:33] <mib_163bmm> strcat: But an object is a type
[23:30:44] <strcat> I don't know what you mean 'object'
[23:30:56] <mib_163bmm> strcat: http://static.rust-lang.org/doc/master/rust.html#TOC
[23:30:58] <strcat> if you have 'trait Foo {}', there's no such type as Foo
[23:31:00] <mib_163bmm> Sorry wrong link
[23:31:17] <mib_163bmm> strcat: http://static.rust-lang.org/doc/master/rust.html#object-types
[23:31:30] <strcat> mib_163bmm: it's not correct
[23:31:43] <mib_163bmm> :(
[23:31:51] <mib_163bmm> Rust is juct confusing me
[23:31:54] <mib_163bmm> just*
[23:32:20] <mib_163bmm> strcat: Even the compiler refers to traits as types in error messages
[23:32:29] <strcat> where does it refer to them as types?
[23:32:33] <strcat> ~Trait is a type
[23:32:35] <strcat> Trait alone isn't a type
[23:32:50] *** Quits: mib_fw7v1w (Mibbit@moz-5EC452BE.superkabel.de) (Quit: http://www.mibbit.com ajax IRC Client)
[23:32:54] <mib_163bmm> strcat: Okay, now that makes sense
[23:33:04] *** Joins: Jesin (Jesin@moz-27916D21.washdc.fios.verizon.net)
[23:33:06] <strcat> rusti: let x: ~int;
[23:33:07] -rusti- <anon>:9:13: 9:14 warning: unused variable: `x` [-W unused-variable (default)]
[23:33:07] -rusti- <anon>:9          let x: ~int;
[23:33:07] -rusti-                       ^
[23:33:07] -rusti- ()
[23:33:09] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Quit: Leaving...)
[23:33:10] <strcat> rusti: let _: ~int;
[23:33:11] -rusti- ()
[23:33:13] <strcat> rusti: let _: ~(int);
[23:33:14] -rusti- ()
[23:33:17] <strcat> rusti: let _: ~ToStr;
[23:33:17] <ktt3ja> how come I get this error? "/home/ktt3ja/rust/src/librustc/middle/dead.rs:61:37: 61:39 error: unexpected token: `..` /home/ktt3ja/rust/src/librustc/middle/dead.rs:61             ast::DefVariant(enum_id, ..) => Some(enum_id),"
[23:33:18] -rusti- ()
[23:33:21] <strcat> rusti: let _: ~(ToStr);
[23:33:22] -rusti- ()
[23:33:28] <strcat> meh that parses so it doesn't help
[23:33:30] <strcat> ;p
[23:33:34] <strcat> anyway ToStr alone isn't valid
[23:33:38] <strcat> rusti: let _: ToStr;
[23:33:38] -rusti- <anon>:9:16: 9:21 error: reference to trait `ToStr` where a type is expected; try `@ToStr`, `~ToStr`, or `&ToStr`
[23:33:39] -rusti- <anon>:9          let _: ToStr;
[23:33:39] -rusti-                          ^~~~~
[23:33:39] -rusti- error: aborting due to previous error
[23:33:39] -rusti- application terminated with error code 101
[23:34:04] <strcat> all types at the moment have a fixed, known size
[23:34:09] <strcat> ~Trait is 2 pointers
[23:34:16] <strcat> Trait wouldn't have a known size
[23:34:25] <mib_163bmm> strcat: So how are the docs wrong?
[23:34:35] <mib_163bmm> You didn't explain that
[23:34:52] <strcat> 'Every trait item (see traits) defines a type with the same name as the trait.' this isn't true
[23:34:57] <strcat> it never was true
[23:35:33] <mib_163bmm> strcat: But do we still call &Trait an object type?
[23:35:50] <strcat> &Trait is a type, Trait isn't, the word 'object' doesn't make a whole lot of sense those
[23:36:15] <strcat> it's a 'trait object' (a trait used as an object, not an *object* - that's just weird terminology the manual uses)
[23:36:26] *** Quits: donri (donri@moz-9BB61102.tbcn.telia.com) (Client exited)
[23:36:30] <strcat> the tutorial and manual were mostly written a long time ago
[23:36:32] <mib_163bmm> strcat: So, then structs are objects, too
[23:36:49] <strcat> sure, if you want to use 'object' to mean 'instance of a type'
[23:37:02] <mib_163bmm> strcat: Is that how you would use it?
[23:37:02] <strcat> the manual is not using it that way, it's coming up with a weird concept of trait objects being the only objects
[23:37:04] <strcat> mib_163bmm: yes
[23:37:23] <strcat> 'value' or 'object' to me means 'instance of a type' and I'm sure that's what 95% of people here would say
[23:37:29] <strcat> I think everyone says 'trait object' now
[23:37:48] <strcat> the docs rot away and no one really works on them
[23:37:51] *** Quits: vmx (vmx@moz-867092DB.dip0.t-ipconnect.de) (Quit: Leaving)
[23:37:56] <strcat> a few sections in the manual are new, and they're accurate
[23:37:57] <mib_163bmm> So, fn foo<T>(_: ~T) {} T can be a trait object, right?
[23:38:05] <strcat> mib_163bmm: yes it can be ~Trait
[23:38:07] <strcat> like
[23:38:10] <mib_163bmm> Okay, cool
[23:38:25] <mib_163bmm> Then you're doing a double dereference
[23:38:26] <strcat> rusti: fn foo<T>(_: ~T) {} foo(~(~5 as ~ToStr))
[23:38:28] -rusti- ()
[23:39:21] <mib_163bmm> strcat: I think what also messed up my understanding was that the &, ~, @ in &Trait, etc was highlighted different from Trait in the syntax highlighting in docs
[23:39:31] <ktt3ja> kimundi, eddyb: do you know why I get this error? "/home/ktt3ja/rust/src/librustc/middle/dead.rs:61:37: 61:39 error: unexpected token: `..` /home/ktt3ja/rust/src/librustc/middle/dead.rs:61 ast::DefVariant(enum_id, ..) => Some(enum_id),"
[23:39:45] <strcat> mib_163bmm: fwiw, the documentation is *really* lacking at this point and it's a known issue
[23:41:01] <kimundi> ktt3ja: Not sure. do you have current master?
[23:41:11] <kimundi> ... Did that PR even land?
[23:41:21] * kimundi is not so sure right now
[23:41:35] <mib_163bmm> Okay I also have another question. When do you use enums versus trait objects?
[23:41:36] *** Joins: ldunn (username@moz-94CB0FA.cyberius.net)
[23:41:48] <ktt3ja> kimundi: yea, I have current master
[23:42:12] <kimundi> mib_163bmm: enums: if you have a known set of differnt types. trait objects: if the idfferent types are not known in advance, or might be user defined
[23:42:33] *** Joins: joeatwork (joe@moz-F0C51B49.hsd1.ca.comcast.net)
[23:42:54] <ktt3ja> kimundi: I guess I'll try running ./configure first or something
[23:43:18] <mib_163bmm> kimundi: Now if you write your code generically, the user can choose to use either enums or trait object or whatever they so desire, correct? There's no drawback to writing generic code?
[23:43:21] <strcat> mib_163bmm: you could think of trait objects as basically being a plugin system
[23:43:39] <mib_163bmm> strcat: Ah, ok
[23:43:41] <strcat> with generic code the user can choose whatever
[23:43:44] <dbaupp> ktt3ja: .. is just a replacement for *, so Foo(_, _, foo) is still that, but Foo(*) becomes Foo(..)
[23:43:45] <ChrisMorgan> kimundi: yes, it landed, * is replaced by .. in such cases.
[23:44:13] * ChrisMorgan knows it landed because rust-http's CI builds started failing
[23:44:21] <ktt3ja> dbaupp: so it doesn't do "match the rest"?
[23:44:24] <strcat> mib_163bmm: there are cases when you can't really express something completely statically, and if you don't want to have a fixed set of possible types you end up needing a trait object over an enum
[23:44:37] <dbaupp> ktt3ja: no, not for enum variants like that
[23:44:51] <strcat> beyond that, the choice would just be based on the current limitations (i.e. yet to be fixed issues with the languages) of each
[23:44:56] <dbaupp> ktt3ja: for structs/struct enum variants FOo { x: x, .. } does match the rest but not for "tuple" ones.
[23:45:33] *** Quits: samnardoni (samnardoni@FC9A45BE.3393236F.BFD1ABFD.IP) (Client exited)
[23:45:56] <mib_163bmm> strcat: This might be a weird question... and I should probably read the enum section in the docs... but why aren't enums simple grouping of structs? Why do they have that weird functiony syntax in them?
[23:46:22] <strcat> mib_163bmm: variants are basically equivalent to structs
[23:46:28] <strcat> enum Foo { Bar, Baz }
[23:46:34] <strcat> struct Bar; struct Baz;
[23:46:39] <strcat> enum Foo { Bar, Baz(int, int) }
[23:46:42] <strcat> struct Baz(int, int);
[23:46:53] <strcat> enum Foo { Bar { x: int, y: int } }
[23:47:12] <strcat> (although variants with named fields are experimental because they don't completely work)
[23:48:04] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Ping timeout)
[23:48:23] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[23:48:26] *** Joins: derek_c (derek@moz-F868ABF5.clarityconnect.com)
[23:49:04] <ChrisMorgan> https://travis-ci.org/chris-morgan/rust-http/builds certainly shows *many* more failures (¹⁵⁄₄₂) than I would want from a normal project—but they've almost all been due to language/stdlib changes :-)
[23:52:00] <mib_163bmm> strcat: Why do we need the concept of variants? Why not just use structs?
[23:52:27] <strcat> mib_163bmm: because their type is the enum type
[23:52:34] <strcat> they are 'just structs' beyond that
[23:52:44] <joeatwork> ls
[23:52:58] <joeatwork> (wrong window)
[23:53:14] *** Quits: twb (textual@moz-5DE8950B.hsd1.ga.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[23:53:23] <kimundi> rusti: struct Foo(uint) enum Bar{ BarVariant(uint) } (Foo(5), BazVariant(5))
[23:53:25] -rusti- <anon>:9:26: 9:30 error: expected `;` but found `enum`
[23:53:25] -rusti- <anon>:9          struct Foo(uint) enum Bar{ BarVariant(uint) } (Foo(5), BazVariant(5))
[23:53:25] -rusti-                                    ^~~~
[23:53:25] -rusti- application terminated with error code 101
[23:53:29] <strcat> enums with 1 variant are basically a struct, and some languages only expose that and not structs
[23:53:43] *** Joins: csherratt (csherratt@moz-CAF331EA.cable.teksavvy.com)
[23:53:45] <kimundi> rusti: struct Foo(uint); enum Bar{ BarVariant(uint) } (Foo(5), BazVariant(5))
[23:53:46] -rusti- <anon>:9:65: 9:75 error: unresolved name `BazVariant`.
[23:53:46] -rusti- <anon>:9          struct Foo(uint); enum Bar{ BarVariant(uint) } (Foo(5), BazVariant(5))
[23:53:46] -rusti-                                                                           ^~~~~~~~~~
[23:53:46] -rusti- error: aborting due to previous error
[23:53:47] -rusti- application terminated with error code 101
[23:54:00] <kimundi> rusti: struct Foo(uint); enum Bar{ BarVariant(uint) } (Foo(5), BarVariant(5))
[23:54:02] -rusti- (main::Foo(5u), BarVariant(5u))
[23:54:44] *** Quits: Sharp (Sharp@moz-39EFDA61.hfc.comcastbusiness.net) (Quit: Sharp)
[23:54:44] <kimundi> ... wait what did I want to show here anyway? Oh right, the type, which is not visible that way :|
[23:55:45] *** Joins: askalski (akuda@325F8E42.CC7751E8.6712E96B.IP)
[23:56:17] *** Quits: derek_c (derek@moz-F868ABF5.clarityconnect.com) (Ping timeout)
[23:56:55] *** Quits: askalski (akuda@325F8E42.CC7751E8.6712E96B.IP) (Quit: Wychodzi)
[23:57:21] *** Quits: jlong (jlong@moz-6DFDE846.socal.res.rr.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[23:59:42] <mib_163bmm> Variants looks just like tuple structrs
[23:59:46] <mib_163bmm> Is that what they are?
[23:59:57] <ktt3ja> is there any situation when an extern fn has a body? 
