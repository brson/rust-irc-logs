[00:00:00] *** Joins: jdm (jdm@F2E651E2.2E53F4B8.47C41102.IP)
[00:07:58] <acrichto> 111 files changed, 11137 insertions(+), 11560 deletions(-)
[00:08:04] <acrichto> a compiling libnative/libgreen/librustuv
[00:08:10] <acrichto> I'm surprised I managed to overall delete code
[00:08:37] <acrichto> oh whoop, forgot to document the new homing strategy, maybe i'll be + code after all
[00:08:45] <acrichto> plus I guess I still need compiler modifications...
[00:10:07] <acrichto> bors is having a lot of trouble today :(
[00:10:32] *** Quits: bytewise (bytewise@moz-54D5CB49.adsl.alicedsl.de) (Ping timeout)
[00:11:46] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[00:11:46] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/bYGz1Q
[00:11:46] <ghrust> 13rust/06auto 1454e1179 15Kiet Tran: Check more live Path nodes in dead-code pass
[00:11:46] <ghrust> 13rust/06auto 1426386ba 15bors: auto merge of #10870 : ktt3ja/rust/issue-10865, r=alexcrichton...
[00:11:46] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[00:11:48] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[00:11:48] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 14bd1f488 to 141b12dca: 02http://git.io/N3iJvQ
[00:11:48] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[00:15:05] *** Joins: bytewise (bytewise@moz-B2051EC.adsl.alicedsl.de)
[00:17:03] *** Quits: bytewise (bytewise@moz-B2051EC.adsl.alicedsl.de) (Ping timeout)
[00:21:48] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[00:21:48] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 1426386ba to 141b12dca: 02http://git.io/N3iJvQ
[00:21:48] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[00:21:48] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[00:21:49] <ghrust> 01[13rust01] 15bors pushed 4 new commits to 06auto: 02http://git.io/q_QJNg
[00:21:49] <ghrust> 13rust/06auto 145bd4d2e 15Jack Moffitt: Fix missing code map entry for uses of `include_str!`.
[00:21:49] <ghrust> 13rust/06auto 149365375 15Jack Moffitt: Add --dep-info to write Makefile-compatible dependency info....
[00:21:50] <ghrust> 13rust/06auto 14b2ccd4c 15Jack Moffitt: Add test for --dep-info.
[00:21:51] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[00:31:04] <jack> brson: what happened: http://buildbot.rust-lang.org/builders/auto-linux-32-opt/builds/2952/steps/configure/logs/stdio
[00:32:06] <acrichto> jack: linux2 just came back online after being reimaged and it apparently is having trouble
[00:32:14] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[00:32:14] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/07dhGQ
[00:32:14] <ghrust> 13rust/06auto 1454e1179 15Kiet Tran: Check more live Path nodes in dead-code pass
[00:32:14] <ghrust> 13rust/06auto 1447f8bb7 15bors: auto merge of #10870 : ktt3ja/rust/issue-10865, r=alexcrichton...
[00:32:14] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[00:32:27] <brson> acrichto: have you seen other errors on linux2?
[00:32:45] <acrichto> brson: just that one, I manually went in and fetched llvm but it apparently didn't help
[00:32:57] <acrichto> it died after an hour in git
[00:33:01] <acrichto> which I think corrupted git
[00:34:02] <acrichto> there we go
[00:34:04] <acrichto> now it should wokr
[00:34:11] <acrichto> git was just in a weird state
[00:34:19] <acrichto> threw in a couple of --hard's and everything turned out ok
[00:36:15] <jack> acrichto: thanks
[00:38:42] *** kimundi is now known as zz_kimundi
[00:51:39] *** Quits: jdm (jdm@F2E651E2.2E53F4B8.47C41102.IP) (Quit: Lost terminal)
[00:54:57] <nmatsakis> pcwalton: I assume you saw my comments on the POD PR?
[00:59:25] <pcwalton> oh, I should look again.
[01:05:42] * acrichto wonders why linux2 hasn't completed anything before mac
[01:05:45] <acrichto> lol llvm builds
[01:13:02] <aatch> Does &T affect whether or not something is POD?
[01:13:28] <pcwalton> no but &mut T does.
[01:14:51] <aatch> pcwalton, ok, I'm looking at attacking https://github.com/mozilla/rust/issues/9243 and was wondering if limiting statics to Pod-kind was too limiting.
[01:15:27] <pcwalton> sounds pretty good to me, I guess putting &mut in statics is kind of pointless
[01:15:32] <pcwalton> since it'd have to be static mut
[01:18:17] <aatch> pcwalton, cool. I commented on the issue so I can get a wider opinion, but I figure that Pod should be acceptable for it.
[01:18:44] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Quit: Lost terminal)
[01:19:16] *** Quits: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[01:20:10] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[01:20:11] *** ChanServ sets mode: +qo brson brson
[01:20:46] <aatch> Where should I do the check? check_const?
[01:21:44] *** Joins: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP)
[01:21:44] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 1447f8bb7 to 141b12dca: 02http://git.io/N3iJvQ
[01:21:44] *** Parts: ghrust (ghrust@C8693FCB.6A2AE50.F3114085.IP) ()
[01:21:46] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[01:21:46] <ghrust> 01[13rust01] 15bors pushed 4 new commits to 06auto: 02http://git.io/Tdd7gw
[01:21:46] <ghrust> 13rust/06auto 145bd4d2e 15Jack Moffitt: Fix missing code map entry for uses of `include_str!`.
[01:21:46] <ghrust> 13rust/06auto 149365375 15Jack Moffitt: Add --dep-info to write Makefile-compatible dependency info....
[01:21:46] <ghrust> 13rust/06auto 14b2ccd4c 15Jack Moffitt: Add test for --dep-info.
[01:21:48] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[01:28:30] *** Joins: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net)
[01:28:30] *** ChanServ sets mode: +o tjc
[01:46:24] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[01:51:53] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[01:58:15] *** Joins: brson_ (brson@6A848D32.C1B840DD.76F66111.IP)
[01:58:57] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[02:00:40] <aatch> hmm, turns out there are a bunch of things in libstd that arent Pod, but are in statics
[02:04:42] <Luqman> aatch: like what?
[02:04:52] <aatch> mutexes
[02:05:05] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[02:05:23] <aatch> the atomic initialisers (because they're non-copyable)
[02:06:16] <aatch> which suggests a possible problem with how statics work with those rules...
[02:11:12] *** Quits: canhtak (canhtak@moz-1D882009.wl.t.ulaval.ca) (Quit: canhtak)
[02:11:45] <acrichto> brson_: ping
[02:13:43] <brson_> acrichto: pong
[02:13:53] <acrichto> brson_: you mentioned something like 32-core machines on aws?
[02:14:06] <acrichto> I only see up to 8 vCPUs and 26 ECUs (whatever an ecu is)
[02:14:38] <acrichto> m2.4xlarge as the instance
[02:14:50] <aatch> Hmm.. trying to fix #9243 will require some other changes...
[02:15:46] <aatch> Because of the way NonCopyable is implemented, it has a destructor.
[02:15:48] *** Quits: doomlord_ (servitor@moz-D40D68D6.range86-184.btcentralplus.com) (Ping timeout)
[02:16:38] <aatch> and all the atomic types have a NonCopyable field, which means they satisfy NeedsDrop
[02:18:23] <brson_> acrichto: c3.8xlarge has 32 vcpus
[02:18:35] <acrichto> brson_: whoa how'd you find that?
[02:19:02] <brson_> acrichto: https://aws.amazon.com/ec2/instance-types/
[02:19:06] <brson_> maybe we don't have access to it?
[02:19:14] <acrichto> hm maybe only some images have access to it
[02:19:46] <acrichto> in the "Choose an Intance Type" step I cannot see that
[02:20:13] <aatch> Anybody have any ideas?
[02:20:30] <brson_> acrichto: i don't see it either
[02:21:10] <brson_> aatch: part of nmatsakis's ideas to change how these types work would probably make NonCopyable a lang item, not needing drop
[02:21:19] <acrichto> brson_: I even tried all the linux-related images :(
[02:21:37] <brson_> https://github.com/mozilla/rust/issues/10834
[02:22:14] <brson_> aatch: NonCopyable needs to either be a lang item or an attribute like #[no_copy]
[02:23:31] <brson_> acrichto: :-/ there's got to be a way to create these!
[02:23:55] <acrichto> brson_: hm one of the "help" options os "Service Limit Increase"
[02:24:08] <acrichto> maybe I should send them a message
[02:24:13] <aatch> brson_, ok, so the dec 10th meeting pretty much decided on making it a lang item by the looks of it.
[02:24:17] <jack> brson, acrichto: if you want i can email my contact at AWS and see what's up
[02:24:27] <acrichto> jack: sure!
[02:24:29] <jack> it may be you have to get whitelisted for them. some things are gated on you asking.
[02:24:33] <acrichto> I'm not making much progress...
[02:24:52] <jack> can you PM me hte username for hte AWS stuff in case he can just flip the switch?
[02:25:48] <brson_> jack: we have a private vpc
[02:26:07] <jack> ah, maybe that's why.
[02:26:26] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[02:26:31] *** Quits: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[02:30:06] <acrichto> brson_: btw balance has been restored, linux has finished superfast and osx is lagging behind
[02:30:26] <acrichto> brson_: although do you know why it's got 3 idle macs and one running 3 builds?
[02:31:13] <aatch> acrichto, because buildbot is silly
[02:31:38] *** Joins: canhtak (canhtak@moz-1D882009.wl.t.ulaval.ca)
[02:32:30] <brson_> acrichto: that slave may be configured for max 3 builds, and buildbot apparently loads up a single machine before moving onto others
[02:32:43] <brson_> not sure if it has multiple strategies (but it probably does, it's very flexible)
[02:32:54] <brson_> we want it to use mac5 and mac6 first since they're the fastest
[02:32:57] <acrichto> hm, that does seem silly
[02:33:00] <brson_> not sure why 6 keeps going offline
[02:33:10] <brson_> well, for ec2 instances you want to maximize your vms
[02:33:15] <acrichto> yeah right now mac4 is doing all the work
[02:33:41] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[02:33:41] *** ChanServ sets mode: +qo brson brson
[02:33:57] <acrichto> a 20 minute gap between linux/osx is sad though
[02:34:03] <acrichto> I would expect the gap to be less than 4
[02:34:05] <acrichto> 5*
[02:34:14] <brson> yeah mac4 is configured for max=3
[02:34:43] <acrichto> I guess it's just weird buildbot scheduling the
[02:34:44] <acrichto> then*
[02:35:11] *** Quits: brson_ (brson@6A848D32.C1B840DD.76F66111.IP) (Ping timeout)
[02:35:28] <brson> restarted mac6
[02:36:23] <acrichto> oh wow it already reconnected
[02:36:25] <acrichto> that was fast
[02:36:32] <brson> i can at least lower the max builds on the minis
[02:44:15] <brson> set mac3 and 4 to 1 max build
[02:45:08] <acrichto> cool, I'll watch to make sure that everything is at least started when the builds start
[02:45:37] <acrichto> brson: looked like it worked though, mac4 has 1 build and mac5 has too
[02:45:47] <acrichto> still seems weird that mac6 doesn't have any, but I guess that's buildbot for you
[02:46:22] <jack> wow. that was a fast response. c3's are all gone at amazon.
[02:46:26] <jack> sucks to be us :(
[02:46:27] <brson> :(
[02:46:42] <brson> i wonder if anybody in mv has a beefy machine we can borrow
[02:46:42] <acrichto> :(
[02:47:33] <jack> What exactly do we need it for? Is a single beefy machine useful?
[02:47:47] <brson> we just want to test how well rust's runtime scales to many cores
[02:47:47] <acrichto> I wanted to test the new std::comm impls
[02:48:33] <jack> So I talked to Azita today about getting such a machine. The Daala team needs one and I know Servo and Rust need to test on many cores.
[02:49:32] <jack> I'm trying to gather specific requirements and figure out what to get. If you have something more specific than "a whole lotta cores" let me know. I was thinking something with 64 or so :)
[02:50:21] <brson> 64 would be acceptable
[02:50:25] <brson> :)
[02:50:57] <Luqman> acrichto: if you want a quick test now, there's a 64core machine i could run it on for you
[02:51:10] <acrichto> Luqman: oh man! now I'd just need a test
[02:51:24] <acrichto> I was hoping to play around on it with some benchmark, nothing whipped up just yet though
[02:53:08] <larsberg> If you still have your student ID, check out the intel many core testing lab. Always has the top end unreleased quad processor server machines :)
[02:53:56] <larsberg> I've been hoping we could rent time or work with a partner
[02:54:27] <larsberg> The intel server chips are about 4k each, and change every year in big ways...
[02:54:54] <larsberg> Though you can do 64 AMD for about a buck-fiddy
[02:57:06] <ChrisMorgan> Thinking of such parallelism, have we looked at things like the Parallella <http://www.parallella.org/board/> 16-/64-core Epiphany chip at all?
[02:57:10] <Luqman> acrichto: just ping me once you've got something
[02:57:35] <acrichto> Luqman: cool, I may try to whip up some things tonight
[02:59:12] *** Joins: dbaupp (Thunderbir@1D1B1F7A.D5A1DCF.37681C44.IP)
[03:01:29] <brson> acrichto: i definitely feel pretty icky about the Decorator trait
[03:01:58] <acrichto> brson: I agree, once I finish rampaging through 1:1 I have a std::io::net impl for 1:1 and I can just drop Decorator at the same time
[03:03:35] <brson> i rebased a month-old patch to remove struct deref and it's been really painful. i'm hoping to get it done before you move around the entire runtime
[03:03:38] *** Quits: gwty_ (gwtypc@F0223657.EF114143.217E1206.IP) (Ping timeout)
[03:04:00] *** Quits: zz_kimundi (kimundi@moz-B3388EAA.dip0.t-ipconnect.de) (Ping timeout)
[03:04:05] * brson dinner
[03:04:06] <acrichto> lol
[03:07:39] *** Joins: zz_kimundi (kimundi@moz-553526BA.dip0.t-ipconnect.de)
[03:07:40] *** zz_kimundi is now known as kimundi
[03:08:21] <aatch> Hmm, would pre-populating the typecontents cache with information about lang-items be too hacky?
[03:10:42] *** Quits: dbaupp (Thunderbir@1D1B1F7A.D5A1DCF.37681C44.IP) (Ping timeout)
[03:13:32] *** Joins: Kxepal (Miranda@moz-6A3B3028.pppoe.mtu-net.ru)
[03:23:24] * ChrisMorgan wonders if it's even worth while submitting a PR for removing all usage of `do`, with 20 PRs sitting approved in bors' queue
[03:27:13] <jack> ChrisMorgan: if you want to do that, probably you should also ask for a p=10 tag so it can land quick. other I imagine it will cause a lot of PRs to need rebasing.
[03:27:33] <jack> There's not really a good way to wait in line for something like that.
[03:27:53] <ChrisMorgan> jack: the alternative is waiting till all of those land and then updating it myself as necessary. That way it's more work for one person rather than several.
[03:29:17] <jack> You're assuming there aren't going to be 20 more by then.
[03:29:31] <jack> The rust community seems amazingly productive :)
[03:30:27] <ChrisMorgan> eddyb was sad that #10918 didn't pass (rustpkg tests failed), so it's currently tenth in the queue; he suggested it was be good for performance. Might be good to bump its priority. (I don't know how much faster it makes it.)
[03:32:03] *** Quits: TimAbraldes (quassel@125EF623.B2666F0E.66399531.IP) (Input/output error)
[04:04:00] *** Quits: canhtak (canhtak@moz-1D882009.wl.t.ulaval.ca) (Quit: canhtak)
[04:11:33] <jack> brson: is cycle time really long right now? I don't remember it taking multiple hours :(
[04:11:58] <acrichto> the android bot is incredibly slow for some reason
[04:12:02] <acrichto> http://buildbot.rust-lang.org/builders/auto-linux-64-x-android/builds/2123
[04:12:05] <acrichto> 1.5 hrs
[04:12:18] <jack> it's been ~3hrs since bors started working on that PR
[04:12:26] <acrichto> the mac builds had to be restarted
[04:12:30] <acrichto> b/c brson restarted buildbot
[04:12:33] <jack> ah
[04:12:35] <acrichto> the completed in < 1hr so normal
[04:14:13] <acrichto> jack: android built LLVM
[04:14:18] <acrichto> that must be why it's so slow
[04:14:23] <acrichto> dunno why it built llvm, but oh well
[04:16:52] <aatch> Dammit, rustc makes statics that use types that need drop
[04:26:32] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Client exited)
[04:27:54] *** Quits: Kxepal (Miranda@moz-6A3B3028.pppoe.mtu-net.ru) (Quit: Kxepal)
[04:28:06] *** Joins: Kxepal (Miranda@moz-6A3B3028.pppoe.mtu-net.ru)
[04:28:23] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[04:38:23] *** Joins: gwty (gwtypc@F0223657.EF114143.217E1206.IP)
[04:42:44] *** Joins: jdm (jdm@moz-78156D60.dsl.teksavvy.com)
[04:47:58] *** Quits: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net) (Ping timeout)
[04:51:49] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[04:51:49] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 1482694e7 to 141b12dca: 02http://git.io/N3iJvQ
[04:51:49] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[04:53:36] <jack> acrichto, brson: it seems to have gated my PR on the android failure :(
[04:53:39] <sfackler> is bors supposed to be gating on the android bot?
[04:53:53] <acrichto> it's gated on the android bot which just builds things
[04:53:58] <acrichto> I didn't think that bot actually ran tests
[04:54:05] <acrichto> I thought it just cross compiled and called it a day
[04:54:37] * acrichto goes to find a successful build
[04:55:00] <acrichto> lol past 30 builds all failed
[04:55:20] <acrichto> hm yeah the test step used to be skipped
[04:55:29] <acrichto> must have been accidentally turned on
[04:59:10] *** Joins: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net)
[05:01:19] <brson> everything failing?
[05:01:49] <brson> urgh
[05:02:04] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[05:02:05] <ghrust> 01[13rust01] 15bors pushed 3 new commits to 06auto: 02http://git.io/q70iRg
[05:02:05] <ghrust> 13rust/06auto 14544ed03 15Vadim Chugunov: Embed Windows application manifest.
[05:02:05] <ghrust> 13rust/06auto 14d4d1310 15Vadim Chugunov: Fixed "unused variable" errors and trailing whitespace.
[05:02:05] <ghrust> 13rust/06auto 1409bb3c0 15bors: auto merge of #10878 : vadimcn/rust/manifest, r=alexcrichton...
[05:02:07] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[05:02:37] <brson> i see the problem
[05:03:49] <brson> ok the non-test android builder should not test now
[05:04:10] <brson> sorry :(
[05:04:15] <ChrisMorgan> eddyb ws suggesting https://github.com/mozilla/rust/pull/10918 would improve performanceâ€”should it be given a higher priority?
[05:04:37] <acrichto> brson: oh did you just modify bors?
[05:04:56] <acrichto> brson: lol I'm looking at config files and I couldn't figure it out b/c before it looked bad and now it looks good
[05:05:21] <brson> acrichto: i modified master.cfg
[05:05:30] <acrichto> ah I see
[05:05:41] <ChrisMorgan> Finallyalizer... who came up with that name? It's almost as bad as my branch names :P
[05:07:32] <acrichto> brson: do you know why we would be getting all these weird errors about g++ not being found on windows?
[05:07:37] <acrichto> they're becoming more and mre common
[05:07:39] <acrichto> http://buildbot.rust-lang.org/builders/auto-win-32-nopt-t/builds/2048/steps/compile/logs/stdio
[05:07:45] <acrichto> that's like the third I've seen today
[05:08:20] <acrichto> and it's not the slave b/c the slave had a recent successful build (or at least I think it's not the slave
[05:08:58] <brson> acrichto: :'(
[05:09:14] <acrichto> they go away occasionally, just not sure why it'd happen in the first place
[05:09:26] <brson> ChrisMorgan: that's my creation and I stand behind it
[05:09:33] <ChrisMorgan> brson: :-)
[05:09:52] <brson> acrichto: no, i have no idea
[05:10:03] <acrichto> oh well
[05:10:08] <brson> acrichto: is it all on win1?
[05:10:10] <acrichto> @bors: retry for everyone!
[05:10:21] <acrichto> brson: dunno, I'll try to keep track from now on
[05:10:41] <acrichto> brson: http://buildbot.rust-lang.org/builders/auto-win-32-nopt-t/builds/2022/steps/clean/logs/stdio
[05:11:23] <brson> ;_;
[05:11:33] <brson> maybe win1 is dying
[05:21:34] *** Joins: ktt3ja (ktt3ja@moz-D69B60E4.hsd1.va.comcast.net)
[05:25:53] <ktt3ja> cmr: what did you run when it warned dead code in librustdoc/lib.rs? https://github.com/mozilla/rust/issues/10939
[05:26:52] <brson> bors queue: 50. that's what happens when you break things for 24 hours+
[05:27:15] <acrichto> but it's a wall of gren!
[05:27:16] <acrichto> green*
[05:27:38] <acrichto> brson: also mac6 died again apparently
[05:27:40] <acrichto> oddly enough
[05:27:46] <acrichto> but the load is evenly distributed
[05:27:47] <acrichto> which is good
[05:28:03] <ChrisMorgan> Only 20 approved.
[05:32:49] <brson> mac6, you disappoint me
[05:33:22] <acrichto> brson: oh wait hm, there are two mac builds that aren't running now
[05:33:50] <acrichto> perhaps for now we should bump each of the 3 stable macs to 2 builds max
[05:33:57] <acrichto> so if mac6 dies we're all good
[05:34:03] <acrichto> otherwise it favors mac6 hopeuflly
[05:34:42] <brson> well i restarted mac6, and i need to go now
[05:35:43] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Quit: leaving)
[05:35:46] <acrichto> brson: ok
[05:52:57] <acrichto> ktt3ja: omg dead code is finding so many test cases in libstd that aren't marked #[test] but should be
[05:53:03] <acrichto> this lint is the most useful thing ever
[05:53:08] <acrichto> ktt3ja: you're amazing
[05:54:03] <ktt3ja> they are not false positive, right? :x
[05:54:38] <acrichto> no these are all legit dead code bugs
[05:54:57] <ktt3ja> whew
[05:55:03] <acrichto> I'm linking having the dead code lint turned on during testing
[05:55:10] <acrichto> there are a few false positives that I've run across
[05:55:16] <acrichto> but I'm hoping the visit_path change will fix all of them
[05:55:35] <ChrisMorgan> ktt3ja: it found a few test_* functions that should have been annotated #[test] in rust-http also.
[05:55:42] <acrichto> ktt3ja: you weren't here earlier, but the dead code lint found a very large bug in my code as well
[05:55:55] <acrichto> in summary, dead_code == awesome
[05:56:00] * ChrisMorgan concurs
[05:56:19] <ktt3ja> hehe, I'm happy to hear that
[06:04:18] *** Quits: aatch (James@moz-B437F499.pocketrent.com) (Client exited)
[06:17:17] <sfackler> acrichto: did anything change recently with #[doc(html_root_url=...)]?
[06:17:32] <acrichto> sfackler: it shouldn't have
[06:18:23] <sfackler> hmm, so this struct links properly on docs from a week or so ago, but not newly generated ones:
[06:18:29] <sfackler> new: http://sfackler.github.io/rust-postgres/doc/rust-postgres/enum.SslMode.html
[06:18:41] <sfackler> old: http://sfackler.com/doc/rust-postgres/enum.SslMode.html
[06:20:26] <sfackler> rustdoc should fail if it can't resolve an external crate, right?
[06:21:00] <acrichto> it should yeah
[06:34:40] *** Quits: pauls (pauls@moz-7140CF01.ccs.neu.edu) (Ping timeout)
[06:35:17] *** Joins: pauls (pauls@moz-7140CF01.ccs.neu.edu)
[06:35:33] <cmr> ktt3ja: rustc lib.rs
[06:39:37] <ktt3ja> cmr: I got this... http://pastebin.com/mud0VU5v (I'll never understand how to read that error)
[06:39:46] <cmr> hrm
[06:40:11] <sfackler> acrichto: so it looks like the doc crate attribute isn't even showing up if I do a rustc --ls. Am I doing something dumb here? https://github.com/sfackler/rust-ssl/blob/master/lib.rs#L6
[06:40:32] <sfackler> wat, but only if I build with rustpkg
[06:41:08] <sfackler> in fact, building with rustpkg, the _only_ crate attribute is an autogenerated #[pkgid=..]
[06:43:03] <acrichto> whoa that's weird
[06:43:28] <sfackler> and I can't seem to get rustdoc to link against a manually compiled version
[06:44:22] <sfackler> did the pkgid change do anything weird with rustdoc?
[06:44:44] <acrichto> I don't see why it would have, but I didn't review that patch
[06:45:43] <acrichto> wait what
[06:45:50] <acrichto> we only encode pkgid now
[06:45:53] <acrichto> ugh
[06:46:12] <acrichto> https://github.com/mozilla/rust/blob/master/src/librustc/metadata/encoder.rs#L1501
[06:46:24] <acrichto> sfackler: you're having a problem that crates aren't inter-linking?
[06:47:23] <sfackler> with rustdoc? I don't think so 
[06:47:41] <acrichto> in terms of hyperlinks
[06:47:45] <cmr> ktt3ja: well that's... weird. I cleaned up my code to commit, and now I can't reproduce!
[06:47:52] <acrichto> b/c rustdoc can't read the attributes of dependent crates
[06:47:57] <cmr> hm actually.
[06:48:18] <sfackler> links to std and extra seem to still work
[06:48:37] <cmr> here we go
[06:48:48] <sfackler> wait, why do rustc and rustpkg take different paths through metadata encoding?
[06:48:55] <acrichto> they do?
[06:49:07] <cmr> ktt3ja: https://github.com/cmr/rust/tree/rustdoc_troff with that branch I get it
[06:49:08] <acrichto> ugh this pkgid change is sad :(
[06:49:11] <sfackler> If I build the crate with "rustc --lib lib.rs", the attributes are still encoded
[06:49:35] <sfackler> which is I assume why links to libstd and libextra still work
[06:49:39] <acrichto> oh wait no
[06:49:40] <acrichto> nvmd
[06:49:44] <acrichto> pkgid is just handled specially
[06:49:53] <ktt3ja> cmr: whoa, you have so many branches
[06:50:08] <cmr> yeah I don't remove my branches when I'm done with them :P
[06:50:58] *** Joins: eddyb (eddy@moz-68E0B7D0.residential.rdsnet.ro)
[06:52:00] <eddyb> bors is *still* broken?
[06:52:27] <eddyb> I also don't understand how I'm in the same position in the queue
[06:53:56] *** Quits: rusti (rusti@moz-61B073BC.cpe.net.cable.rogers.com) (Ping timeout)
[06:57:07] *** Quits: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net) (Ping timeout)
[06:58:45] <jack> rustpkg should be injecting package id instead of the link metadata it was before
[06:59:02] <jack> and pkgid is handled specially just like link metadata was before
[06:59:15] <jack> but i didn't remove any attributes i don't think.
[07:00:13] <sfackler> jack: here's some output: https://github.com/mozilla/rust/issues/10947
[07:01:28] <jack> i think i see hte problem.
[07:02:00] <jack> https://github.com/mozilla/rust/blob/master/src/librustpkg/util.rs#L303
[07:02:08] <jack> i think i messed that up
[07:03:10] <jack> sfackler: no. it only had link metadata there before.
[07:03:10] <sfackler> haha, that'd do it
[07:03:17] <jack> so that's not it.
[07:03:23] <jack> unless you are depending on link metadata.
[07:03:37] <jack> In which case the bug is that I didn't update rustdoc.
[07:04:00] <cmr> rustdoc requires a #[link(name="foo")]
[07:04:03] <sfackler> rustdoc depends on the #[doc(html_root_url)] attribute and a couple of others
[07:04:18] <cmr> (unless that was updated, I didn't see it in the PR though)
[07:04:42] <jack> here's the old code for example: https://github.com/mozilla/rust/blob/1755408d1a58684b6c9bce11aeceb18a1ec2d66e/src/librustpkg/util.rs#L309
[07:04:58] <jack> cmr: i'll have to update rustdoc then.
[07:05:37] <sfackler> jack: ah, it's because I have a #[link] but not a #[pkgid] so the crate attributes weren't paved over before the pkgid change
[07:06:18] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Connection reset by peer)
[07:06:20] <sfackler> it seems like "crate.attrs = ~[attr::mk_attr(pkgid_attr)];" should change to "crate.attrs.push(attr::mk_attr(pkgid_attr));" though
[07:06:26] <jack> i'll update rustdoc in the morning.
[07:06:33] <cmr> I can do it now
[07:06:41] <jack> cmr: even better :)
[07:06:53] <jack> sfackler: agreed.
[07:07:02] <sfackler> cmr: could you toss that change in as well?
[07:07:12] *** Joins: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net)
[07:07:18] <cmr> sfackler: sure
[07:08:23] <sfackler> maybe it'll make it into master in a week or so!
[07:08:30] <cmr> >_<
[07:09:25] <cmr> jack: any simple way to get the shortname from a pkgid?
[07:09:46] <jack> libsyntax::pkgid has convenience functions
[07:09:53] <cmr> ah cool
[07:10:07] <jack> if you have a PkgId type, then it's just pkgid.name :)
[07:10:19] <cmr> nah it's a string
[07:10:31] <jack> from_str(pkgid_string).unwrap().name :)
[07:10:58] <jack> oh wait
[07:11:02] *** Joins: rusti (rusti@moz-61B073BC.cpe.net.cable.rogers.com)
[07:11:05] <jack> you can use attrs::find_pkgid() too
[07:11:10] <jack> that returns a PkgId
[07:11:13] *** Joins: vky (chatzilla@moz-4F2E17BF.dsl.dynamic.sonic.net)
[07:11:30] <jack> (if you already have attrs)
[07:11:38] <cmr> yup
[07:11:54] <cmr> heh
[07:12:03] <cmr> find_pkgid is *exactly* what I had written
[07:12:13] <ktt3ja> cmr: no idea what went wrong :x
[07:12:33] <ktt3ja> cmr: you moved the files in html/ to render/html, right?
[07:12:37] <cmr> ktt3ja: yes
[07:12:43] <cmr> ktt3ja: but render also isn't pub anymore
[07:12:46] <cmr> which is the big difference
[07:14:11] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[07:14:11] *** ChanServ sets mode: +ao dherman dherman
[07:14:51] <cmr> r? https://github.com/mozilla/rust/pull/10948
[07:16:37] <ktt3ja> cmr: ah, so there's no warning when render is pub
[07:16:44] <cmr> ktt3ja: right
[07:16:51] <cmr> (sorry, didn't make that clear)
[07:17:06] * jack sleeps now
[07:25:09] *** Quits: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net) (Ping timeout)
[07:26:23] *** Joins: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net)
[07:35:10] *** Joins: dbaupp (Thunderbir@moz-EB2EFE6F.lns20.syd6.internode.on.net)
[07:36:29] *** Quits: dbaupp (Thunderbir@moz-EB2EFE6F.lns20.syd6.internode.on.net) (Quit: dbaupp)
[07:36:31] *** Joins: dbaupp (Thunderbir@moz-EB2EFE6F.lns20.syd6.internode.on.net)
[07:42:33] <ktt3ja> cmr: I can reproduce it now. Here's the test case: https://gist.github.com/ktt3ja/08f51f870b8752bb184a
[08:00:15] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[08:06:04] *** flaper87|afk is now known as flaper87
[08:06:29] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[08:06:29] *** ChanServ sets mode: +ao dherman dherman
[08:11:44] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[08:18:54] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Client exited)
[08:27:02] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[08:27:02] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/q70iRg
[08:27:02] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[08:28:27] <eddyb> woo, it's working :D
[08:32:49] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[08:32:49] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/1o_RxQ
[08:32:49] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[08:41:10] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[08:48:03] <ktt3ja> there should be a visitor whose sole purpose is to print out information about the ast...
[08:48:20] <cmr> information like what?
[08:49:56] <jdm> its current mood
[08:49:58] <jdm> bmi
[08:50:18] <jdm> favourite band
[08:50:37] * jdm -> bed
[08:50:56] <dbaupp> heh
[08:51:06] <cmr> ast.asl()
[08:51:42] *** Quits: jdm (jdm@moz-78156D60.dsl.teksavvy.com) (Quit: Lost terminal)
[08:52:08] <ktt3ja> cmr: well, I have been doing a lot of println debugging. For example, when I look things up the DefMap and get x -> y. Since y is a number, I don't necessary know what y refers to, so I have another visitor that goes around and print item identification -> y to find out which is which
[08:52:26] <ktt3ja> not sure if what I'm saying makes sense; I'm really tired right now
[08:52:46] <dbaupp> ktt3ja: you're allowed to go to bed ;)
[08:53:01] <ktt3ja> and when I'm done debugging I remove them
[08:53:08] <ktt3ja> but when there's another bug, I gotta put them back in again...
[08:54:02] <ktt3ja> dbaupp: I was looking into this issue: https://github.com/mozilla/rust/issues/10939
[08:54:35] <ktt3ja> dbaupp: I got the answer to your question
[08:55:42] <dbaupp> ktt3ja: the answer is
[08:55:43] <dbaupp> ?
[08:56:14] <ktt3ja> dbaupp: `free` doesn't get warned because `extern` gets exported; the dead-code pass walks into `extern` and then into all the inner functions
[08:56:26] <ktt3ja> dbaupp: yes, it took me that long to type that sentence, lol
[08:56:33] <dbaupp> heh
[08:56:41] <dbaupp> ah, so is that "correct"?
[08:58:02] <ktt3ja> it should become correct if I ignore `extern`
[08:59:36] <ktt3ja> like I did with `impl`
[09:02:41] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[09:03:30] <ktt3ja> this is what my println debugging looks like: https://gist.github.com/ktt3ja/4053f488d64763d57be3
[09:03:45] <ktt3ja> it's kinda weird that extern is exported in the first one but not the second :p
[09:04:19] <dbaupp> btw, you can use `debug!()` which means you can leave the debugging in there
[09:04:41] <dbaupp> then setting RUST_LOG=module::name=debug will activate it
[09:04:57] <dbaupp> (e.g. `RUST_LOG=rustc::middle::dead=debug rustc foo.rs`)
[09:05:16] <dbaupp> assuming the debugging is in that module, of course.
[09:05:20] <ktt3ja> ah, that's nice
[09:06:14] <dbaupp> I guess it's "reachable paths to extern are reachable", and apparently the top level in a binary is considered reachable for extern.
[09:06:16] <dbaupp> weird
[09:09:41] <ktt3ja> ah nvm, the sentence that took me a long time to type is wrong...
[09:09:47] <ktt3ja> yea, good night @_@
[09:10:12] *** Quits: ktt3ja (ktt3ja@moz-D69B60E4.hsd1.va.comcast.net) (Quit: Leaving)
[09:12:52] *** Quits: gwty (gwtypc@F0223657.EF114143.217E1206.IP) (Ping timeout)
[09:19:35] *** Joins: gwty (gwtypc@F0223657.EF114143.217E1206.IP)
[09:25:07] <cmr> hm, what is bors doing.
[09:26:18] *** Quits: b (b@moz-55CA322E.org) (Ping timeout)
[09:27:08] *** Quits: ssbr (devin@moz-8EC4F450.lightspeed.sntcca.sbcglobal.net) (Ping timeout)
[09:27:28] <dbaupp> waiting for tests to finish?
[09:28:19] <cmr> ghrust never told us about a push
[09:29:20] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[09:29:28] <cmr> "slave lost"
[09:29:31] <cmr> that looks ominous
[09:31:05] *** Quits: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net) (Ping timeout)
[09:33:04] <dbaupp> cmr: where's it say slave lost?
[09:33:26] <cmr> dbaupp: buildbot waterfall
[09:33:52] <dbaupp> cmr: (also, I think ghrust only tells us when commits that haven't already been in mozilla/rust are pushed, so retries don't get the message.)
[09:34:01] <dbaupp> at least, that's the only pattern I've noticed.
[09:34:05] <cmr> ahh
[09:34:07] <cmr> that's unfortunate
[09:34:48] <dbaupp> it does still do the `19:32:49 - ghrust: [rust] bors pushed 0 new commits to auto: http://git.io/1o_RxQ` messages though
[09:36:57] *** Quits: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Ping timeout)
[09:38:26] *** Joins: ssbr (devin@moz-8EC4F450.lightspeed.sntcca.sbcglobal.net)
[09:43:51] *** Quits: vky (chatzilla@moz-4F2E17BF.dsl.dynamic.sonic.net) (Quit: ChatZilla 0.9.90.1 [Firefox 27.0/20131209204824])
[09:48:39] *** Quits: eddyb (eddy@moz-68E0B7D0.residential.rdsnet.ro) (Ping timeout)
[09:51:01] *** Joins: eddyb (eddy@moz-68E0B7D0.residential.rdsnet.ro)
[09:58:33] *** Joins: b (b@moz-55CA322E.org)
[10:02:03] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[10:02:03] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/q7Tq_A
[10:02:03] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[10:03:04] *** Quits: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net) (Quit: Sharp)
[10:06:46] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[10:06:46] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/Z02Ivg
[10:06:46] <ghrust> 13rust/06auto 1454e1179 15Kiet Tran: Check more live Path nodes in dead-code pass
[10:06:46] <ghrust> 13rust/06auto 1472a7f2a 15bors: auto merge of #10870 : ktt3ja/rust/issue-10865, r=alexcrichton...
[10:06:46] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[10:06:49] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[10:06:49] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/T8YuOg
[10:06:49] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[10:10:43] <cmr> a healthy bors means a happy TWiR
[10:13:54] *** Quits: Kxepal (Miranda@moz-6A3B3028.pppoe.mtu-net.ru) (Ping timeout)
[10:16:46] *** Joins: Kxepal (Miranda@moz-AB22CEC2.pppoe.mtu-net.ru)
[10:17:21] *** Quits: gwty (gwtypc@F0223657.EF114143.217E1206.IP) (Connection reset by peer)
[10:18:34] *** Joins: gwty (gwtypc@F0223657.EF114143.217E1206.IP)
[10:19:29] *** Joins: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP)
[10:29:37] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[10:32:17] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[10:33:37] *** flaper87 is now known as flaper87|afk
[10:46:50] *** Quits: gwty (gwtypc@F0223657.EF114143.217E1206.IP) (Ping timeout)
[10:56:45] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[10:56:45] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/HVSpLw
[10:56:45] <ghrust> 13rust/06auto 147fe5e30 15Steven Fackler: Add std::io::util...
[10:56:45] <ghrust> 13rust/06auto 142ec4712 15bors: auto merge of #10895 : sfackler/rust/io-util, r=alexcrichton...
[10:56:46] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[10:56:47] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[10:56:47] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 1472a7f2a to 149bbef13: 02http://git.io/N3iJvQ
[10:56:47] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[10:58:49] *** Joins: gwty (gwtypc@F0223657.EF114143.217E1206.IP)
[11:03:02] <dbaupp> well, that was surprisingly easy: `test slow ... bench:  10139191 ns/iter (+/- 235879)` (10ms)
[11:03:33] <cmr> it should erally stop displaynig in ns at that point
[11:03:44] *** Quits: gwty (gwtypc@F0223657.EF114143.217E1206.IP) (Ping timeout)
[11:03:44] <cmr> and maybe give a percentage +/- ?
[11:03:48] *** Joins: gwty (gwtypc@F0223657.EF114143.217E1206.IP)
[11:05:13] <dbaupp> the problem with changing units is it makes comparisons awkward
[11:05:33] <dbaupp> and, e.g., 100 ns and 100 ms looks pretty similar
[11:05:55] <cmr> that's true
[11:06:11] *** Quits: gwty (gwtypc@F0223657.EF114143.217E1206.IP) (Ping timeout)
[11:06:16] <dbaupp> percentage +/- is good
[11:06:26] <dbaupp> but i'll leave that bikeshedding for a different PR :)
[11:07:15] <pnkfelix> dbaupp: what about using scientific notation?  Or do you see that has having the same problem?
[11:07:50] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[11:08:04] <pnkfelix> dbaupp: (I'm just trying to get the output down to a  max of like 4 significant figures)
[11:10:16] <dbaupp> pnkfelix: I think that's nicer than changing units
[11:11:03] <dbaupp> but seeing the length is useful for general comparisons... but having huge numbers like that is suboptimal.
[11:11:33] <pnkfelix> dbaupp: I don't remember if scientific notation always requires using n.xxx and never nn.xx; I'd be perfectly happy if we only adjusted the exponent by multiples of 3 or 4 or something
[11:12:17] <dbaupp> I think that's sometime called engineering notation (at least, my calculator calls it that)
[11:12:30] <dbaupp> that would be an ok middle ground, I think.
[11:13:19] <pnkfelix> dbaupp: wikipedia agrees with your calculator: http://en.wikipedia.org/wiki/Engineering_notation
[11:13:40] <dbaupp> ah, neat
[11:14:29] <pnkfelix> dbaupp: I think its a good call here.  And maybe if we drop the `x 10^0` case and just make it empty space, that might help keep the common cases easy to distinguish
[11:14:34] <pnkfelix> dbaupp:  from the outliers
[11:15:28] <dbaupp> yeah, and imagine that most benchmarks that people wish to compare will be within 3 orders of magnitude of each other
[11:16:09] <dbaupp> pnkfelix: would you like to file the bug, or should I?
[11:16:51] *** Joins: gwty (gwtypc@F0223657.EF114143.217E1206.IP)
[11:17:34] <pnkfelix> dbaupp: I'm a little distracted right now, I'd appreciate it if you could file it.
[11:18:36] <dbaupp> sure
[11:21:46] <dbaupp> oh :( the failures on android-t mean that IRFY is ignoring those PRs...
[11:27:49] *** kimundi is now known as zz_kimundi
[11:31:53] *** Quits: gwty (gwtypc@F0223657.EF114143.217E1206.IP) (Ping timeout)
[11:44:25] *** Joins: gwty (gwtypc@F0223657.EF114143.217E1206.IP)
[11:48:06] *** Quits: gwty (gwtypc@F0223657.EF114143.217E1206.IP) (Ping timeout)
[11:52:04] *** Joins: gwty (gwtypc@F0223657.EF114143.217E1206.IP)
[11:53:11] *** Joins: w3lcome (Mibbit@moz-E9ABA59E.home.otenet.gr)
[11:54:45] <cmr> I'm not sure whether or not to get involved in the module system thread...
[11:54:59] <cmr> I don't know what I can say that isn't mean or just a link to the docs..
[11:55:02] <pnkfelix> I'm ignoring it
[11:55:34] <pnkfelix> but I do constantly wonder why people who say up front that they are learning the language don't understand that they might need to learn a bit more before they suggest changes to it
[11:56:11] *** Quits: gwty (gwtypc@F0223657.EF114143.217E1206.IP) (Ping timeout)
[11:56:20] <pnkfelix> â€¦ not that newcomers don't have good ideas; fresh eyes can be helpful
[11:57:20] <ChrisMorgan> The noise to signal ratio has increased significantly on the mailing list in these past couple of months. :-(
[11:58:46] <cmr> IRC, too, to an extent.
[11:59:18] <dbaupp> separating the channels was nice
[12:01:23] <pnkfelix> I don't think a separate rust-users list would solve this particular problem
[12:01:38] <pnkfelix> since the person isn't asking *why* there are the separate constructs
[12:01:49] <pnkfelix> though it seems like that is the implicit question here
[12:02:59] *** Joins: gwty (gwtypc@F0223657.EF114143.217E1206.IP)
[12:03:14] <ChrisMorgan> We've got a whole bunch of new people piping up about things which they simply don't understand. And other similarly clueless people egging them on. The people who *do* know better tend to also know that responding doesn't help much. Catch 22.
[12:06:44] <pnkfelix> Beyond the poor effect it has on the S:N ratio, I also now am wondering whether outsiders casually reading the mailing list or the archives are concluding "wow these guys are direction-less".  Maybe we should just move the mailing list to a reddit forum or something.  **ducks**
[12:07:52] <dbaupp> offer up/down-voting of emails
[12:08:00] <ChrisMorgan> I was wondering whether we can have a more official and fairly prompt sitting on of such ideas. There's value in them being heard, but once only, and there's not value in such things being spread abroad so muchâ€”it just wastes people's time. The democratising effect of "everyone can post!" isn't entirely a good thing.
[12:13:56] <ChrisMorgan> There's the danger that people come to the conclusion that most people who respond are in favour of this, it must be a good ideaâ€”without taking into account the fact that half of those haven't used the language for more than two weeks and the other half haven't worked on the compiler at all.
[12:21:54] <dbaupp> https://github.com/mozilla/rust/pull/10952 r?
[12:33:33] *** Joins: canhtak (canhtak@moz-1D882009.wl.t.ulaval.ca)
[12:56:49] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[12:56:49] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/HVSpLw
[12:56:49] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[12:59:16] *** Joins: mw (mw@moz-85AF06D4.adsl.highway.telekom.at)
[13:01:36] <dbaupp> pnkfelix, et al.: https://github.com/mozilla/rust/issues/10953
[13:01:59] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[13:01:59] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/JoMk_w
[13:01:59] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[13:01:59] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[13:01:59] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/VrKRsg
[13:01:59] <ghrust> 13rust/06auto 14ee618e1 15Alex Crichton: Don't always modify the symbol table in rlibs...
[13:01:59] <ghrust> 13rust/06auto 14d52e1bf 15bors: auto merge of #10908 : alexcrichton/rust/issue-10907, r=cmr...
[13:02:00] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[13:02:03] <dbaupp> (I'm less against changing the units than I thought I would be, having written that up.)
[13:02:35] <mw> Hi everyone :)
[13:02:35] <mw> If I want to know if a function is only visible within the current crate, how would I find that out (in trans)?
[13:03:17] <mw> Is it the CrateContext::reachable set?
[13:04:47] <dbaupp> something with `exported` in the name iirc
[13:05:08] <dbaupp> (possibly multiple things covering `pub use` as well as plain `pub` things.)
[13:05:36] <mw> there is an exp_map2 there...
[13:06:11] <dbaupp> that sounds approximately correct
[13:07:09] <dbaupp> something with type privacy::ExportedItems
[13:08:05] <dbaupp> (maybe?)
[13:08:17] <mw> I think these are not available in trans anymore
[13:08:42] <mw> but I think that map used to fill the `reachable` set mention before
[13:08:47] <mw> I think :)
[13:08:54] <mw> let me take another look...
[13:10:36] <dbaupp> fwiw, reachable is a superset of exported: it is the set of things that need to have symbols in the output, because, e.g. they are private but used by something that's public and is marked #[inline].
[13:11:01] *** Quits: gwty (gwtypc@F0223657.EF114143.217E1206.IP) (Ping timeout)
[13:11:56] <mw> dbaupp: Ah, OK, that's very useful information!
[13:12:52] <mw> The reason I need this information is for setting the 'isLocalToUnit' flag in debug info correctly
[13:13:46] <mw> this should tell LLVM how to generate DWARF for the function and I think it can produce a bit more concise debug info for local functions
[13:14:45] <mw> using the `reachable` set for this check would do no harm
[13:14:57] <dbaupp> ah, so you just need to check for functions that are in this crate?
[13:15:41] <mw> yes, I need to find out whether the function that is currently translated will be visible from the outside
[13:16:34] <mw> using reachable here would give some false positives then I guess, but that wouldn't do much harm
[13:16:38] <dbaupp> yup
[13:17:19] <mw> atm we are marking everything as externally visible in debuginfo and it works pretty well :)
[13:18:12] <mw> the `exported_items` map from driver::CrateAnalysis is not passed on to the trans::CrateContext...
[13:19:59] <mw> I'll use reachable for now
[13:20:03] <mw> thanks! :)
[13:23:43] *** Quits: dbaupp (Thunderbir@moz-EB2EFE6F.lns20.syd6.internode.on.net) (Quit: dbaupp)
[13:24:09] *** Joins: dbaupp (Thunderbir@moz-EB2EFE6F.lns20.syd6.internode.on.net)
[13:24:55] *** Quits: dbaupp (Thunderbir@moz-EB2EFE6F.lns20.syd6.internode.on.net) (Quit: dbaupp)
[13:25:07] *** Joins: dbaupp (Thunderbir@moz-EB2EFE6F.lns20.syd6.internode.on.net)
[13:29:12] *** Joins: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net)
[13:30:15] *** Quits: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net) (Quit: Sharp)
[13:34:14] *** Joins: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net)
[13:44:30] *** Quits: blank_name (blank_name@F62A39BD.9E887BEB.53C6B850.IP) (Ping timeout)
[13:46:05] *** Joins: blank_name (blank_name@8DB1FDC4.16360A46.537E532E.IP)
[14:09:00] *** Parts: mw (mw@moz-85AF06D4.adsl.highway.telekom.at) ()
[14:17:39] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[14:18:45] *** Quits: rusti (rusti@moz-61B073BC.cpe.net.cable.rogers.com) (Ping timeout)
[14:18:53] *** Joins: rusti (rusti@moz-61B073BC.cpe.net.cable.rogers.com)
[14:21:44] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[14:21:44] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/VrKRsg
[14:21:44] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[14:26:43] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[14:26:43] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/9DiVlg
[14:26:43] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[14:26:43] *** Joins: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP)
[14:26:44] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/gdbwXQ
[14:26:44] <ghrust> 13rust/06auto 1455d2d8e 15Seo Sanghyeon: Remove -Z coherence
[14:26:44] <ghrust> 13rust/06auto 146e0b82e 15bors: auto merge of #10909 : sanxiyn/rust/coherence, r=alexcrichton...
[14:26:44] *** Parts: ghrust (ghrust@9C8B94D4.6A2AE50.F3114085.IP) ()
[14:26:53] *** flaper87|afk is now known as flaper87
[14:31:54] *** Joins: jdm (jdm@CC0122E6.8F96AEA7.2D179A7D.IP)
[14:37:25] <cmr> acrichto: so moving forward I think we need a way to link to librariesfrom the command line, not just #[link[
[14:37:32] <cmr> To handle things like libs that change name a lot
[14:37:53] <cmr> to make it easier to lean on stuff like pkg-config
[14:42:35] *** Quits: eddyb (eddy@moz-68E0B7D0.residential.rdsnet.ro) (Ping timeout)
[14:43:20] *** Quits: canhtak (canhtak@moz-1D882009.wl.t.ulaval.ca) (Quit: canhtak)
[14:50:11] *** Joins: canhtak (canhtak@moz-1D882009.wl.t.ulaval.ca)
[14:53:17] *** Joins: gwty (gwtypc@F0223657.EF114143.217E1206.IP)
[14:54:50] *** Quits: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net) (Quit: Sharp)
[14:55:14] *** Quits: gwty (gwtypc@F0223657.EF114143.217E1206.IP) (Ping timeout)
[14:56:26] *** Joins: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net)
[14:56:56] *** zz_kimundi is now known as kimundi
[15:00:29] *** Joins: gwty (gwtypc@F0223657.EF114143.217E1206.IP)
[15:08:20] *** Quits: Kxepal (Miranda@moz-AB22CEC2.pppoe.mtu-net.ru) (Quit: Kxepal)
[15:08:36] *** Joins: Kxepal (Miranda@moz-AB22CEC2.pppoe.mtu-net.ru)
[15:08:41] *** Quits: gwty (gwtypc@F0223657.EF114143.217E1206.IP) (Ping timeout)
[15:15:07] *** Joins: gwty (gwtypc@F0223657.EF114143.217E1206.IP)
[15:16:17] *** Quits: Kxepal (Miranda@moz-AB22CEC2.pppoe.mtu-net.ru) (Quit: Kxepal)
[15:16:31] *** Joins: Kxepal (Miranda@moz-AB22CEC2.pppoe.mtu-net.ru)
[15:35:01] *** Quits: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net) (Ping timeout)
[15:35:01] *** Quits: gwty (gwtypc@F0223657.EF114143.217E1206.IP) (Ping timeout)
[15:35:57] *** Joins: doomlord_ (servitor@moz-D40D68D6.range86-184.btcentralplus.com)
[15:37:39] *** Joins: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP)
[15:41:44] *** Quits: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[15:42:47] <cmr> "No way I wanted to do Konusdur JDM Boots"
[15:42:54] <cmr> that's ... curious
[15:43:48] <jdm> wat?
[15:44:04] <cmr> I am receiving that message from about 360 bots.
[15:44:16] <cmr> every 2 seconds
[15:45:51] <jdm> haha
[15:45:57] <jdm> gavin: ^
[15:46:35] <cmr> Heh, it changed to "Botnet Show"
[15:46:46] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[15:46:46] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/gdbwXQ
[15:46:46] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[15:50:39] <cmr> lol
[15:50:46] <cmr> the bots now take the form of Ms2ger`afsdfsadg
[15:51:43] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[15:51:43] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/lbEDAw
[15:51:43] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[15:51:44] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[15:51:44] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/t_OdIg
[15:51:44] <ghrust> 13rust/06auto 14fa36de3 15Richard Diamond: Fixed a minor typo.
[15:51:44] <ghrust> 13rust/06auto 14e5f4904 15bors: auto merge of #10912 : DiamondLovesYou/rust/master, r=alexcrichton
[15:51:44] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[15:51:52] <cmr> I think I'm just going to quit fora bit... 
[15:54:02] <jdm> what's the status of abandoning segmented stacks?
[15:55:33] <jdm> mw and I are convinced that they're causing our gdb woes
[15:55:40] <jdm> the __morestack check in particular
[15:56:59] <cmr> jdm: abandoned, but we plan on keeping __morestack to catch overflow.
[15:57:16] <jdm> oh
[15:57:18] <cmr> although I've heard some things about a __chkstk, ala windows, that gcc supports.
[15:57:18] <jdm> that's unfortunate
[15:57:33] <jdm> hmm, if gcc supports it then we might get gdb support for free
[15:57:48] <jdm> otherwise it looks like we'll need to hack on gdb to improve its prologue recognition
[15:59:58] <jdm> https://sourceware.org/gdb/onlinedocs/gdbint/Algorithms.html
[16:00:00] <jdm> oh lord
[16:00:03] *** Quits: bstrie (ben@moz-D5A1D0F5.members.linode.com) (Ping timeout)
[16:01:44] *** Joins: tjc (tjc@moz-6EB4E533.dsl.tsoft.com)
[16:01:44] *** ChanServ sets mode: +o tjc
[16:03:12] *** Quits: jdm (jdm@CC0122E6.8F96AEA7.2D179A7D.IP) (Quit: Lost terminal)
[16:05:14] <acrichto> cmr: you mean for extern blocks?
[16:05:56] <acrichto> oh yay, bors is landing things!
[16:07:06] <cmr> acrichto: well in general
[16:07:47] <acrichto> I'm wary of adding a litany of command line options for something like this
[16:07:54] <acrichto> it seems like cfg would suffice
[16:08:24] <cmr> the lib name can be arbitrary, cfg doesn't really suffice?
[16:08:40] <cmr> and really just needs to be --link-to=libwhatever.bar
[16:08:55] <acrichto> is it really that arbitrary?
[16:09:04] <acrichto> or is is one of a set of N things
[16:09:29] <acrichto> like I don't think libuv wil be called libuv on some platforms and libuvyay on others
[16:09:53] <acrichto> basically I would imagine that if it's a small set of names, then you have each of them in your code and you select via cfg
[16:10:46] <cmr> I suppose it's version numbers that vary
[16:10:58] <cmr> and those can't actually change without a code change, usually.
[16:11:37] <acrichto> is the version number in the name of the library?
[16:11:53] <acrichto> b/c yeah with a different interface I would certainly expect a cfg option
[16:12:55] <cmr> yesd
[16:12:58] <cmr> *yes
[16:15:22] <cmr> although most systems have symlinks now, I guess
[16:15:38] *** Joins: bstrie (ben@moz-D5A1D0F5.members.linode.com)
[16:21:01] <acrichto> dbaupp: I updated the bot configuration to not upload benches in a directory structure, but I probably got something wrong
[16:21:12] <acrichto> *not in a directory structure
[16:24:05] *** Joins: doomlord__ (servitor@moz-D40D68D6.range86-184.btcentralplus.com)
[16:24:13] *** Quits: doomlord__ (servitor@moz-D40D68D6.range86-184.btcentralplus.com) (Client exited)
[16:27:30] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[16:27:30] *** ChanServ sets mode: +qo brson brson
[16:46:23] *** Quits: canhtak (canhtak@moz-1D882009.wl.t.ulaval.ca) (Quit: canhtak)
[16:47:03] *** Quits: tjc (tjc@moz-6EB4E533.dsl.tsoft.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[16:48:46] *** Joins: canhtak (canhtak@moz-1D882009.wl.t.ulaval.ca)
[16:55:07] *** Joins: jdm (jdm@moz-AC9499B2.cable.teksavvy.com)
[16:56:30] *** Joins: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net)
[16:58:44] *** Quits: rusti (rusti@moz-61B073BC.cpe.net.cable.rogers.com) (Ping timeout)
[16:58:56] *** Parts: canhtak (canhtak@moz-1D882009.wl.t.ulaval.ca) ()
[16:59:07] *** Joins: canhtak (canhtak@moz-1D882009.wl.t.ulaval.ca)
[16:59:11] *** Joins: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net)
[16:59:37] *** Joins: dherman (dherman@moz-BBE3ABD.mv.mozilla.com)
[16:59:38] *** ChanServ sets mode: +ao dherman dherman
[17:07:44] *** Joins: eddyb (eddy@moz-68E0B7D0.residential.rdsnet.ro)
[17:10:38] *** Quits: Luqman (laden@moz-AB7945E9.csclub.uwaterloo.ca) (Ping timeout)
[17:11:02] *** Quits: kimundi (kimundi@moz-553526BA.dip0.t-ipconnect.de) (Ping timeout)
[17:11:28] *** Quits: nielsle (nielsle@moz-C46DA772.boa.fiberby.dk) (Ping timeout)
[17:11:42] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[17:11:43] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/t_OdIg
[17:11:43] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[17:11:44] *** Quits: rhodesd (none@3646D136.4C5731DA.F395EA5B.IP) (Ping timeout)
[17:16:44] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[17:16:44] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/6_Wdkw
[17:16:44] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[17:16:47] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[17:16:47] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/EmdlXQ
[17:16:47] <ghrust> 13rust/06auto 1454e1179 15Kiet Tran: Check more live Path nodes in dead-code pass
[17:16:47] <ghrust> 13rust/06auto 140141b1d 15bors: auto merge of #10870 : ktt3ja/rust/issue-10865, r=alexcrichton...
[17:16:47] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[17:17:51] *** Joins: Luqman (laden@moz-AB7945E9.csclub.uwaterloo.ca)
[17:21:49] *** Joins: kimundi (kimundi@moz-553526BA.dip0.t-ipconnect.de)
[17:22:48] *** kimundi is now known as zz_kimundi
[17:26:48] *** Joins: notmatt (notmatt@moz-9FB2565E.vc.shawcable.net)
[17:27:28] *** Joins: nielsle (nielsle@moz-C46DA772.boa.fiberby.dk)
[17:29:34] <eddyb> is #rust throttled?
[17:29:45] <cmr> eddyb: register your nick
[17:30:04] <eddyb> cmr: I was curious why :P
[17:30:13] <cmr> bot spam
[17:30:14] <eddyb> I know I'm overdue on a private talk with NickServ
[17:30:21] <cmr> and if you're curious why, you should ask why
[17:30:23] <cmr> :P
[17:31:25] *** Quits: c74d (c74d@moz-E2EAC718.oc.oc.cox.net) (Ping timeout)
[17:32:54] <eddyb> cmr: yeah, I should've guessed "bot attack"
[17:33:11] <eddyb> since I've witnessed this happening on freenode a few times
[17:34:33] *** Joins: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com)
[17:34:33] *** ChanServ sets mode: +ao pcwalton pcwalton
[17:35:24] *** Joins: c74d (c74d@moz-E2EAC718.oc.oc.cox.net)
[17:37:38] *** Quits: c74d (c74d@moz-E2EAC718.oc.oc.cox.net) (Ping timeout)
[17:38:22] *** zz_kimundi is now known as kimundi
[17:38:55] *** Quits: eddyb (eddy@moz-68E0B7D0.residential.rdsnet.ro) (Ping timeout)
[17:39:59] *** Joins: c74d (c74d@moz-E2EAC718.oc.oc.cox.net)
[17:41:16] *** Joins: eddyb (eddy@moz-68E0B7D0.residential.rdsnet.ro)
[17:42:37] *** Joins: rhodesd (none@3646D136.4C5731DA.F395EA5B.IP)
[17:43:41] *** kimundi is now known as zz_kimundi
[17:46:41] *** Joins: lpy (lpy@12172131.F09091A8.1348A864.IP)
[17:58:10] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[18:01:58] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[18:01:58] <ghrust> 01[13rust01] 15bors pushed 3 new commits to 06auto: 02http://git.io/y-SBtw
[18:01:58] <ghrust> 13rust/06auto 14a658d9b 15Patrick Walton: librustc: Remove identifiers named `box`, since it's about to become a keyword.
[18:01:58] <ghrust> 13rust/06auto 14a70b733 15Patrick Walton: libsyntax: Implement the new `box` syntax for unique pointers.
[18:01:58] <ghrust> 13rust/06auto 142afedb5 15bors: auto merge of #10929 : pcwalton/rust/deboxing, r=brson...
[18:02:00] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[18:02:13] *** Quits: dherman (dherman@moz-BBE3ABD.mv.mozilla.com) (Quit: dherman)
[18:03:03] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[18:09:02] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[18:09:03] *** ChanServ sets mode: +qo brson brson
[18:10:24] *** Quits: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP) (Quit: Leaving.)
[18:10:53] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[18:10:59] *** Joins: dherman (dherman@moz-BBE3ABD.mv.mozilla.com)
[18:10:59] *** ChanServ sets mode: +ao dherman dherman
[18:11:30] *** Quits: canhtak (canhtak@moz-1D882009.wl.t.ulaval.ca) (Ping timeout)
[18:11:32] *** Quits: dherman (dherman@moz-BBE3ABD.mv.mozilla.com) (Quit: dherman)
[18:12:22] *** Joins: canhtak (canhtak@moz-1D882009.wl.t.ulaval.ca)
[18:16:10] *** Joins: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP)
[18:16:38] *** Quits: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP) (Quit: Leaving.)
[18:20:44] *** Joins: dherman (dherman@moz-BBE3ABD.mv.mozilla.com)
[18:20:44] *** ChanServ sets mode: +ao dherman dherman
[18:24:07] *** Quits: lpy (lpy@12172131.F09091A8.1348A864.IP) (Quit: Leaving...)
[18:33:44] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[18:33:44] *** ChanServ sets mode: +qo brson brson
[18:41:39] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[18:41:40] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/R0ASrQ
[18:41:40] <ghrust> 13rust/06auto 1454e1179 15Kiet Tran: Check more live Path nodes in dead-code pass
[18:41:40] <ghrust> 13rust/06auto 140983c90 15bors: auto merge of #10870 : ktt3ja/rust/issue-10865, r=alexcrichton...
[18:41:40] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[18:48:42] *** Quits: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net) (Quit: Sharp)
[19:05:38] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[19:06:33] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[19:06:33] *** ChanServ sets mode: +o pnkfelix
[19:14:17] *** Joins: tjc (tjc@moz-6EB4E533.dsl.tsoft.com)
[19:14:17] *** ChanServ sets mode: +o tjc
[19:23:59] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[19:24:05] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[19:24:05] *** ChanServ sets mode: +qo brson brson
[19:28:01] *** Joins: Sharp (Sharp@1710C26.8381A41.8725677B.IP)
[19:31:58] *** Joins: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP)
[19:31:58] <ghrust> 01[13rust01] 15bors 04force-pushed 06auto from 140983c90 to 14e5f4904: 02http://git.io/N3iJvQ
[19:31:58] *** Parts: ghrust (ghrust@2EE61FCC.6A2AE50.F3114085.IP) ()
[19:31:59] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[19:32:00] <ghrust> 01[13rust01] 15bors pushed 3 new commits to 06auto: 02http://git.io/IUkMQQ
[19:32:00] <ghrust> 13rust/06auto 14e08c936 15kud1ing: proto is gone...
[19:32:00] <ghrust> 13rust/06auto 14f0867e0 15Corey Richardson: Some rustdoc manual fixes...
[19:32:00] <ghrust> 13rust/06auto 14ae3078c 15bors: auto merge of #10913 : cmr/rust/rustdoc_man, r=huonw...
[19:32:01] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[19:35:57] *** Quits: tjc (tjc@moz-6EB4E533.dsl.tsoft.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[19:44:44] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[19:56:27] *** Quits: Sharp (Sharp@1710C26.8381A41.8725677B.IP) (Quit: Sharp)
[19:58:05] <jack> acrichto: link_args is bad now, so is there a new way to link frameworks, or should I just enable link_args?
[20:01:27] *** Quits: jdm (jdm@moz-AC9499B2.cable.teksavvy.com) (Quit: Lost terminal)
[20:02:47] <bstrie> spam attack over in #rust
[20:02:57] <bstrie> op requestd
[20:03:12] <bstrie> someone must have removed the protection that jdm enabled earlier
[20:05:08] <bstrie> jack: earlier there was a flag set that only let registered users talk, not sure what letter it is though
[20:05:17] <jack> +M?
[20:05:23] <jack> i thought that's what i did.
[20:05:23] <bstrie> yeah
[20:05:34] <bstrie> right now it says I need voice to talk
[20:05:44] <bstrie> also I think you set +m
[20:05:53] <bstrie> not sure if the capital letter makes a difference
[20:23:08] *** Joins: bytewise (bytewise@moz-1D2330.adsl.alicedsl.de)
[20:23:17] *** Joins: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net)
[20:23:17] *** ChanServ sets mode: +o tjc
[20:26:36] *** Joins: ktt3ja (ktt3ja@moz-D69B60E4.hsd1.va.comcast.net)
[20:30:35] *** Quits: doomlord_ (servitor@moz-D40D68D6.range86-184.btcentralplus.com) (Ping timeout)
[20:40:32] <jack> acrichto: nm. just found your commit for kind="framework
[20:49:58] *** Joins: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[20:51:38] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[20:51:39] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/IUkMQQ
[20:51:39] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[20:54:50] *** Joins: sprocket (Mibbit@moz-E1FF077C.rev.numericable.fr)
[20:56:09] <sprocket> hi sorry to pollute but I can't connect to #rust :(
[20:56:37] *** Joins: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP)
[20:56:37] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/WpnOQA
[20:56:37] *** Parts: ghrust (ghrust@F6EE6DE3.6A2AE50.F3114085.IP) ()
[20:56:37] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[20:56:38] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/iXeaMA
[20:56:38] <ghrust> 13rust/06auto 14667d114 15Alex Crichton: Disable all unwinding on -Z no-landing-pads LTO...
[20:56:38] <ghrust> 13rust/06auto 14378897a 15bors: auto merge of #10916 : alexcrichton/rust/nounwind, r=pcwalton...
[20:56:38] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[20:56:46] <tjc> sprocket: Yeah, you now have to register your nick with nickserv
[20:56:46] <kmc> at the moment it's only open to registered users due to spam
[20:56:48] <tjc> due to spam problems
[20:57:11] <sprocket> alright thanks I'll come back at another time
[20:57:12] <kmc> /msg NickServ help register
[20:57:21] <kmc> it's easy to register :)
[20:57:43] <sprocket> I have work to do anyways, thanks guys :)
[20:57:47] *** Quits: sprocket (Mibbit@moz-E1FF077C.rev.numericable.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[21:02:33] <jack> acrichto: how does the new link stuff work when you need differnet linkages for different platforms?
[21:03:13] <jack> do i put #[nolink] on the real extern block and then make fake extern blocks for the #[link(...)] attributes? (ie, same as the old way)
[21:07:09] *** Joins: lkuper (lkuper@moz-D862222C.dhcp-bl.indiana.edu)
[21:09:09] *** Quits: dherman (dherman@moz-BBE3ABD.mv.mozilla.com) (Quit: dherman)
[21:09:48] <vadimcn> btw, is there an IRC option to turn off join/departure messages?
[21:10:05] <tjc> vadimcn: it depends on your IRC client
[21:10:14] <tjc> in Textual, there's a preferences option for each channel to suppress join/part messages
[21:10:17] <tjc> dunno about any other clients
[21:10:26] <vadimcn> i'm using Chatzilla
[21:10:52] <vadimcn> but I am not seeing any of that on #rust, only on #rust-internals
[21:11:15] *** Joins: Sharp (Sharp@1710C26.8381A41.8725677B.IP)
[21:11:18] <tjc> yeah, it's per-channel usuall
[21:11:19] <tjc> +y
[21:14:34] *** Quits: lkuper (lkuper@moz-D862222C.dhcp-bl.indiana.edu) (Ping timeout)
[21:23:21] *** Joins: dherman (dherman@moz-BBE3ABD.mv.mozilla.com)
[21:23:21] *** ChanServ sets mode: +ao dherman dherman
[21:23:43] <acrichto> jack: ah yes that's kind = "framework" should get the job done
[21:27:41] <dbaupp> acrichto: that new bench tar looks perfect!
[21:27:45] <dbaupp> thanks
[21:27:57] <acrichto> dbaupp: yay!
[21:27:57] * dbaupp hooks up IRFY to start downloading them
[21:28:02] * acrichto can't wait
[21:28:57] <dbaupp> displaying them sanely will be tricky...
[21:29:27] <jack> acrichto: anything better for the conditional linkage than #[nolink] and fake extern blocks?
[21:29:28] <dbaupp> especially as we gain/lose benchmarks
[21:30:10] <acrichto> jack: #[nolink] doesn't do anything, but #[cfg] with empty extern blocks is the way things are done righ tnow
[21:34:49] *** Joins: doomlord_ (servitor@moz-D40D68D6.range86-184.btcentralplus.com)
[21:40:07] *** Quits: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com) (Quit: pcwalton)
[21:41:43] *** Joins: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com)
[21:41:43] *** ChanServ sets mode: +ao pcwalton pcwalton
[21:42:36] <jack> acrichto: it's cool to have multiple link args on an extern block right?
[21:42:54] <Luqman> jack: yep
[21:43:00] <acrichto> jack: indeed, take a look at https://github.com/mozilla/rust/blob/master/src/libstd/rtdeps.rs
[21:43:10] <acrichto> that's where we pull in all the native deps of libstd
[21:44:26] <carter> is this the right channel for asking for help when trying to build rust?
[21:44:37] <carter> i've been banging my head on it for the past day
[21:44:53] <acrichto> carter: sure! although #rust isn't a wrong place for it either
[21:44:58] <acrichto> basically, either one is ok
[21:45:04] <carter> well, no ones helped me there
[21:45:10] <carter> so i'm widening my aim
[21:45:13] <pnkfelix> carter: and right now, rust-internals is a little less susceptible to spambots
[21:45:16] * acrichto should watch #rust more often
[21:45:26] <carter> spambots?
[21:45:47] <carter> https://github.com/mozilla/rust/issues/10941 is driving me mad
[21:45:52] <pnkfelix> carter: some bots are repeatedly joining/leaving the room
[21:45:55] <carter> oh
[21:46:03] <carter> i have join / leaves hidden in my irc client
[21:46:21] <acrichto> carter: you had mentioned that you have a local LLVM installation, is that true?
[21:46:26] <carter> yeah
[21:46:32] <carter> but its hidden
[21:46:37] <acrichto> try removing it entirely
[21:46:48] <acrichto> if mixing happened at all that would be bad
[21:47:06] <carter> acrichto: did you look at the error messages in that ticket?
[21:47:24] <acrichto> it's all linker errors, right?
[21:47:35] <carter> i tink so
[21:47:38] <pnkfelix> carter: we might also need to see your LD_LIBRARY_PATH â€¦
[21:47:50] <carter> how do I do that agian?
[21:48:00] <pnkfelix> (or is that only for dynamic loadingâ€¦ can't remember)
[21:48:02] <carter> print $LD_LIBRARY_PATH ..?
[21:48:06] <Luqman> carter: try `brew edit rust` to see what steps it's taking exactly since that seems to work?
[21:48:16] <carter> Luqman: very little
[21:48:19] <pnkfelix> carter: yeah, or `echo $LD_LIBRARY_PATH`
[21:48:39] <carter> looks empty
[21:48:40] <acrichto> I think osx is DYLD_LIBRARY_PATH
[21:49:01] <Luqman> that shouldn't affect it? since we compile all the llvm stuff statically
[21:49:01] <carter> looks empty
[21:49:17] <carter> but notice how its complaining about MIPS
[21:49:47] <acrichto> we build support for mips
[21:49:55] <acrichto> we build LLVM to codegen all possible targets
[21:49:57] <carter> cross compling?
[21:49:59] <acrichto> {x86, arm, mips}
[21:50:02] <carter> yeah
[21:50:17] <carter> is there a way to disable that to test just one arch?
[21:50:29] <pnkfelix> carter: I think that would be red herring here
[21:50:40] <carter> oh?
[21:50:50] <pnkfelix> carter: the fact you are getting this linking error is a pretty bad sign.  I'd want to see the linker invocation it is attempting
[21:51:20] <Luqman> pnkfelix: it should be noted there 'cc arguments'
[21:51:22] <acrichto> this may just be an old or outdated version of libsdc++
[21:51:54] <carter> i am on 10.8
[21:52:25] <pnkfelix> Luqman: good point.  So I guess my next step would be to ensure I could replicate the same problem locally by invoking `cc` the same way
[21:52:52] <pnkfelix> Luqman: and then investigating whether modifications to the invocation make the problem go away
[21:53:56] <pnkfelix> carter: the other thing I was wondering was whether you should try on a fresh user environment.  (Most importantly, one without brewâ€¦) but maybe easiest to just make a new user, login locally in a terminal window, and then see if you can build rust as that new user
[21:54:12] <carter> brew builds it fine 
[21:54:22] <carter> hrm
[21:54:24] <pnkfelix> carter: you're misinterpreting my suggestion
[21:54:32] <carter> no
[21:54:35] <carter> i understand it
[21:55:01] <carter> https://gist.github.com/cartazio/7952057 is the brew formula
[21:55:31] <carter> how do I get the build to be verbose so i can share the linking invocation?
[21:55:35] <carter> -v didn't work
[21:55:56] <carter> -d ?
[21:55:56] <pnkfelix> carter: `make VERBOSE=1`, I think.  But that won't tell you more about the linker invocation beyond what it printed earlier
[21:56:12] <pnkfelix> carter: the "linking with `cc` failed: exit code: 1" message
[21:56:24] <carter> but wont' it print the invocations?
[21:56:28] <pnkfelix> carter: prints out all of the arguments it passes to its invocation of `cc`, which is how its trying to do the link
[21:56:39] <carter> yes
[21:56:41] <pnkfelix> carter: on the line immediately following
[21:56:42] <carter> i underestand that
[21:56:45] <Luqman> carter: VERBOSE=1 RUSTFLAGS="-Z print-link-args" make
[21:57:12] <carter> Luqman: doing that now
[21:58:10] <pnkfelix> Luqman: am I incorrect?  Will `-Z print-link-args` give us more info than what was already in the earlier printout? (though perhaps it will indeed be more nicely formatted)
[21:58:47] <Luqman> pnkfelix: ah, no. you're right, it'll print out the same thing
[21:59:49] <Luqman> anyways, i think the problem is not with llvm but maybe it's finding an older libstdc++ ?
[22:00:10] <Luqman> since the defined symbols are std::__detail::_List_node_base::_M_hook/unhook
[22:00:10] <carter> could be
[22:00:47] <carter> how do I look that up?
[22:01:04] <carter> i do have a gcc 4.8 installedâ€¦. thats newish right?
[22:01:19] <Luqman> what does `cc -v` say?
[22:01:37] <carter> welll
[22:01:42] <carter> cc -v
[22:01:44] <carter> oops
[22:01:50] <carter> Apple LLVM version 5.0 (clang-500.2.79) (based on LLVM 3.3svn)
[22:01:50] <carter> Target: x86_64-apple-darwin12.5.0
[22:01:50] <carter> Thread model: posix
[22:02:08] <carter> do i want cc to piont to clang or gcc if i have gcc in my path?
[22:03:19] <Luqman> hmm, i wonder if it's because of some mismatch. since i have xcode 5 on 10.8 but `cc -v` is "Apple LLVM version 4.2 (clang-425.0.28) (based on LLVM 3.2svn)" for me
[22:03:40] *** Quits: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP) (Client exited)
[22:04:28] <carter> nah
[22:04:49] <carter> Luqman: your gcc is actually clang
[22:04:50] <pnkfelix> carter: well, just to be sure, what does `which cc` say?  :)
[22:05:03] *** Joins: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP)
[22:05:03] <carter>  /usr/bin/cc
[22:05:10] <pnkfelix> okay just double-checking. :)
[22:05:14] <carter> ok, hangon
[22:05:18] <carter> i have a crazy person theory
[22:06:00] <Luqman> carter: i kow, i'm not talking about gcc. rust just call's cc which is symlinked to either clang or gcc usually
[22:06:21] <Luqman> carter: can you try running the cc command manually?
[22:06:28] <carter> which cc command?
[22:07:11] <pnkfelix> Luqman: by the way I think my cc version matches his: Apple LLVM version 5.0 (clang-500.2.79) (based on LLVM 3.3svn)
[22:07:51] <carter> i think luq did the "give me xcode 4 cli tools"
[22:07:59] <carter> where his gcc is actually an old clang
[22:08:09] <Luqman> carter: basically this: https://gist.github.com/luqmana/3dea32a14ccbc41d910f
[22:08:30] <Luqman> it's a bit more annoying nowadays, since you have to remove all the single quotes
[22:08:33] *** Quits: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP) (Client exited)
[22:08:38] <Luqman> (acrichto ^)
[22:08:53] *** Joins: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP)
[22:09:15] <pnkfelix> carter: of course, if you're doing a fresh verbose build in the same directory, you might not be able to run that command of Luqman's yet ...
[22:09:43] <carter> pnkfelix: that oen failed :)
[22:09:56] <Luqman> carter: same error?
[22:10:52] <carter> whats the command for  llvm clean again?
[22:11:09] <Luqman> make clean-llvm
[22:11:47] <carter> sooo, i have a theory
[22:11:53] *** Quits: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP) (Client exited)
[22:11:55] <carter> that somehow having my own gcc installed and in path
[22:11:58] <carter> is the root issue
[22:12:05] <carter> so i'm using the apple gcc thats actually calng
[22:12:10] <carter> clang to try building it
[22:12:11] <carter> now
[22:13:05] <pnkfelix> carter: ah yes, I suspect trying to build via gcc while cc is still pointed at clang could be bad.
[22:13:21] <Luqman> well, if the command does succeed if you replace cc with your gcc then perhaps that's the case
[22:13:46] <carter> can i just have cc point to gcc and "stuff should workâ„¢" ?
[22:13:53] <carter> i'm going to first try with clang
[22:14:00] <pnkfelix> carter: yes I think first trying with clang is a good plan
[22:14:15] <carter> i'm skilled at weird mac bugs :)
[22:14:27] <carter> nb: pretty much anyone using haskell has to have a reall gcc installed 
[22:14:43] <carter> so anyone who's doing haskell dev + wanting to play with rust will likely hit this issue on macs
[22:14:54] <carter> ('cause the clang CPP barfs on otherwise ok haskell cpp)
[22:15:25] <Luqman> carter: i have both gcc 4.8 & 4.6 installed
[22:15:37] <carter> Luqman: sure, but are gcc pointing to them?
[22:15:43] <carter> I have gcc as gcc-4.8
[22:15:50] <carter> and whats cc pointing to :)
[22:15:50] <carter> ?
[22:15:52] <Luqman> no, i just use CC=gcc-4.x as needed
[22:15:59] <carter> ahhh
[22:16:02] <carter> i should have done that
[22:16:13] <carter> i'm shocking ignorant on many things
[22:16:17] <pnkfelix> Luqman: will that affect rustc's `cc` invocation >
[22:16:21] <pnkfelix> Luqman: ?
[22:16:25] <carter> thats my wonder too
[22:16:36] <pnkfelix> Luqman: or does it just call `cc` directly ignoring the CC setting?
[22:16:39] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[22:16:39] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/iXeaMA
[22:16:39] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[22:16:57] <Luqman> pnkfelix: no it won't, but you can override it by passing --linker
[22:17:23] <carter> how
[22:17:29] <pnkfelix> Luqman: still, it might provide for a more uniform user experience if it observed $CC.  Maybe.
[22:18:04] <Luqman> ok
[22:18:26] <Luqman> carter: i think your problem is that by default, the configure script will use `gcc` to build llvm
[22:18:32] <Luqman> if you don't pass --enable-clang
[22:18:41] <carter> i think i tried using --enable-clang
[22:18:59] <carter> well, its uisng clang on a clean tree now
[22:19:00] <carter> soooo
[22:19:02] <carter> we'll see
[22:21:12] *** Joins: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP)
[22:21:35] *** Joins: ghrust (ghrust@79968228.6A2AE50.F3114085.IP)
[22:21:35] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/xr8Dmw
[22:21:35] *** Parts: ghrust (ghrust@79968228.6A2AE50.F3114085.IP) ()
[22:21:37] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[22:21:37] <ghrust> 01[13rust01] 15bors pushed 3 new commits to 06auto: 02http://git.io/YvG9Xg
[22:21:37] <ghrust> 13rust/06auto 1489e1fb3 15Adrien TÃ©tar: rustdoc: fix the search-bar layout...
[22:21:37] <ghrust> 13rust/06auto 141999b25 15Adrien TÃ©tar: doc: CSS changes + commit improved favicon
[22:21:37] <ghrust> 13rust/06auto 14fbbadae 15bors: auto merge of #10849 : adridu59/rust/patch-css, r=alexcrichton...
[22:21:39] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[22:22:06] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[22:22:09] *** Joins: jensnock_ (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[22:22:17] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[22:24:28] *** Quits: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com) (Quit: pcwalton)
[22:25:02] *** Joins: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com)
[22:25:02] *** ChanServ sets mode: +ao pcwalton pcwalton
[22:25:47] *** Quits: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP) (Client exited)
[22:25:59] *** Joins: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP)
[22:26:22] <carter> does rust's llvm binding include the mcjit?
[22:27:23] <dbaupp> acrichto: ^
[22:28:03] <Luqman> carter: no, but afaik not too hard to expose
[22:28:03] <carter> (actuallly, where IS the rust llvm binding in the tree?)
[22:28:12] <jack> carter: librustllvm
[22:28:13] <jack> i thin
[22:28:22] <Luqman> src/librustc/lib/llvm.rs
[22:28:31] <Luqman> will give show you what you can access from Rust
[22:28:54] <Luqman> the stuff in rustllvm is mostly to workaround the fact that llvm's C api is lacking a bit
[22:29:05] <Luqman> so we need to wrap the C++ stuff to expose it to Rust
[22:29:30] <carter> llvm-general in haskell is a a pretty nice set of bindings for llvm that does the power tools tuff
[22:29:36] <carter> has a bunch of extern c bits
[22:29:42] <carter> and a nice AST api
[22:30:36] *** Quits: dherman (dherman@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[22:31:19] <carter> though a rust idiomatic one may be a bit different
[22:42:24] <acrichto> carter: yeah we build the mcjit from awhile ago, we could probably turn that off now
[22:42:34] <carter> oh
[22:42:37] <carter> i wasn't suggesting that :)
[22:42:47] <acrichto> but I think it still does
[22:42:48] <carter> i was thinking about runtime code gen + linking being fun :)
[22:43:15] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[22:43:46] *** Quits: jensnock_ (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[22:50:37] *** Quits: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP) (Quit: ChatZilla 0.9.90.1 [Firefox 26.0/20131205075310])
[23:02:02] <carter> carter repoScratcher/rust â€¹masterâ€º Â» ./x86_64-apple-darwin/stage2/bin/rustc -v                                                                             1 â†µ
[23:02:02] <carter> ./x86_64-apple-darwin/stage2/bin/rustc 0.9-pre (ae3078c 2013-12-13 11:31:57 -0800)
[23:02:04] <carter> VICTORY
[23:03:50] <dbaupp> carter: \o/
[23:04:41] <carter> dbaupp: be warned, now this means i may try to write a patch or two, and RFC them in tandem with giving a PR
[23:04:46] <carter> at the end of the holidays
[23:05:02] *** Quits: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[23:05:52] <dbaupp> well, if they're improvements, i'm not complaining
[23:06:14] <dbaupp> (especially so if they're numerics improvements.)
[23:10:24] <carter> mathy things or gtfo :)
[23:10:39] <carter> sadly, i just tried using gcc 48 + cc == gcc, and i get the following https://gist.github.com/cartazio/7953076
[23:10:54] <carter> anyone know anything about gcc-4.8: error: unrecognized command line option '-Wcovered-switch-default'?
[23:12:06] <pnkfelix> carter: I'm wondering if that's a clang option â€¦ ?
[23:12:09] <Luqman> carter: gcc does not support that switch
[23:12:11] <carter> ye
[23:12:16] <carter> so why's it being called?
[23:13:05] <carter> ohhhhhh
[23:13:10] <carter> g++ still points to clang ++
[23:13:12] <carter> wtf
[23:13:13] <carter> ok
[23:13:52] <Luqman> carter: i think you'll have much easier time leaving whatever the defaults are for cc/gcc/g++ and just using gcc-4.8 and friends as needed
[23:13:57] <carter> Luqman: nope
[23:14:03] <carter> then i'll have weird issues in haskell
[23:14:05] <carter> i like my tools
[23:14:10] <carter> and i'll config systems to make them ALL ortk
[23:14:12] <carter> work
[23:14:24] <carter> breaking one thing so another can work, not ok
[23:14:45] <Luqman> can you not use clang with haskell?
[23:15:08] <carter> not for CPP
[23:15:19] <carter> clang's CPP ahs some weird issues
[23:15:34] <carter> and while theres plans ot have a proper haskell sane CPP in the future
[23:15:38] <carter> that doesn't solve right now :)
[23:15:52] <carter> if there was, i'd not have my own gcc installed :)
[23:16:00] <pnkfelix> carter: I'm surprised there isn't some "gcc compatibility" option for clang's CPP to deal with that
[23:16:16] <carter> pnkfelix: the issue is they don't want FULL gcc CPP traditional mode
[23:16:20] <carter> because its crazy
[23:16:43] <carter> that austin seipp worked out a patch that they'd accept for basic stuff was great
[23:17:13] <Luqman> carter: https://pdp7.org/blog/?p=471 seems to suggest just editing one file works as opposed to replacing /usr/bin/gcc
[23:17:31] <carter> Luqman: i wrote the canonical docs
[23:17:33] <carter> on this topic
[23:17:52] <carter> that doesn't solve everything
[23:17:58] <carter> theres a few things that have GCC hard coded in
[23:18:06] <carter> likeâ€¦ part of the GHC bulid process
[23:18:24] <carter> Luqman: http://www.haskell.org/platform/mac.html look at the link "this page"
[23:18:26] <carter> for my docs
[23:19:19] <carter> sooooo, i kinda know what i'm talking about, except when i don't :)
[23:19:19] *** Parts: canhtak (canhtak@moz-1D882009.wl.t.ulaval.ca) ()
[23:19:24] *** Joins: canhtak (canhtak@moz-1D882009.wl.t.ulaval.ca)
[23:19:47] <carter> woot, my g++ to g++-4.8 wrapper works
[23:19:57] <carter> love ~/bin
[23:20:52] <carter> that aside, odds are other peopl will eventually hit the same weird problems
[23:21:00] <carter> so now it'll be easier to help them :)
[23:22:57] <carter> also now we know how to to debug it! 
[23:23:08] <carter> do cc -v ; gcc -v ; g++ -v
[23:23:15] <carter> and they need to point to the same compiler
[23:23:45] <pnkfelix> carter: we should consider checking that as part of the configure script
[23:23:52] <carter> good idea!
[23:24:06] <carter> i'll open a ticket for that after i close my ticket with the notes on this
[23:24:07] <pnkfelix> carter: (and maybe even the makefile as wellâ€¦ though that would be a little harder to whip up...)
[23:24:29] <carter> and then the build/ configure can bail out if they're not consistent
[23:24:55] <pnkfelix> carter: or at least emit a warning
[23:24:58] <carter> yeah
[23:25:04] <carter> something to save someoen else a day
[23:25:04] <carter> :)
[23:25:11] *** Quits: Sharp (Sharp@1710C26.8381A41.8725677B.IP) (Quit: Sharp)
[23:27:27] <carter> point being, tis a funny config corner case that can exist on macs
[23:28:03] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[23:30:09] *** Joins: Sharp (Sharp@1710C26.8381A41.8725677B.IP)
[23:32:50] <carter> dbaupp: why expecially if thy're numerical?
[23:32:51] <carter> :)
[23:33:28] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[23:37:30] <carter> granted, that IS what i'd be focusing on
[23:37:38] * carter in  very opinionated way
[23:41:34] *** Joins: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP)
[23:41:34] <ghrust> 01[13rust01] 15bors merged 06auto into 06master: 02http://git.io/YvG9Xg
[23:41:34] *** Parts: ghrust (ghrust@DE823A67.6A2AE50.F3114085.IP) ()
[23:43:56] <carter> woot, the all gcc/g++ build it onto stage2
[23:44:03] <carter> or stage 1
[23:44:05] <carter> not sure which
[23:45:43] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[23:46:34] *** Joins: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP)
[23:46:34] <ghrust> 01[13rust01] 15bors pushed 0 new commits to 06auto: 02http://git.io/HYghIw
[23:46:34] *** Parts: ghrust (ghrust@24260B07.6A2AE50.F3114085.IP) ()
[23:46:36] *** Joins: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP)
[23:46:36] <ghrust> 01[13rust01] 15bors pushed 2 new commits to 06auto: 02http://git.io/Mn2n3w
[23:46:36] <ghrust> 13rust/06auto 14331c6ef 15Eduard Burtescu: Inline Finallyalizer::drop, allowing LLVM to optimize `finally`....
[23:46:36] <ghrust> 13rust/06auto 1409bf5de 15bors: auto merge of #10918 : eddyb/rust/inline-finally-dtor, r=thestinger...
[23:46:36] *** Parts: ghrust (ghrust@1E8607E8.6A2AE50.F3114085.IP) ()
[23:50:11] *** flaper87 is now known as flaper87|afk
[23:53:36] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
