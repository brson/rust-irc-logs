[00:00:20] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[00:03:52] *** Quits: eibwen (eibwen@moz-p2t07k.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[00:04:02] *** Quits: swgillespie (swgillespie@moz-upj.3un.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[00:04:16] <arrrrrrr1> theme: have you written the fastest sort algorithm in existence?
[00:04:31] *** Joins: zrneely (Mibbit@moz-cvu.566.189.18.IP)
[00:04:33] <theme> arrrrrrr1, Actually, I copied it from a cargo crate
[00:04:55] <theme> but I'd say that the fasted sorting algorithms are similar to this
[00:04:57] <arrrrrrr1> then you've just shown that there is one sort algorithm that is faster with these assumptions
[00:05:04] <theme> btw I think I found a bug on #rust
[00:05:15] <arrrrrrr1> there might be a faster one that doesn't need assumptions
[00:05:15] <theme> playbot, -(0x8000i16)
[00:05:17] -playbot- -32768
[00:05:24] <theme> playbot, (0x8000i16)
[00:05:26] -playbot- <anon>:14:10: 14:19 warning: literal out of range for i16, #[warn(overflowing_literals)] on by default
[00:05:26] -playbot- <anon>:14         (0x8000i16)
[00:05:26] -playbot- output truncated; full output at: http://bit.ly/1EoPMKJ
[00:05:29] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[00:05:37] <theme> The first one should warn/panic, and the second one shouldn't
[00:05:50] <theme> due to two's complements weirdness
[00:06:21] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[00:06:29] <theme> arrrrrrr1, the fact that gcc's sorting algorithm looks like this should be enough evidence that this is fast
[00:06:33] *** Quits: reem (reem@moz-9m5ss2.coob.q2h1.0009.2601.IP) (Connection closed)
[00:06:41] <arrrrrrr1> you're implying that gcc == fast
[00:06:47] <theme> arrrrrrr1, why not?
[00:06:52] <arrrrrrr1> clang is faster than gcc
[00:06:55] <arrrrrrr1> check and mate
[00:06:59] <theme> ok...
[00:07:08] * theme looks up clang's code
[00:07:45] <theme> my guess is that clang uses something similar
[00:08:22] <sfackler> (something tells me that sorting arrays does not dominate build time for either gcc or clang)
[00:08:39] <theme> sfackler, I don't think we're talking about build time
[00:08:50] <theme> And I never compared compilers
[00:09:09] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[00:09:51] <arrrrrrr1> theme: I was talking about build time
[00:10:07] <theme> what??
[00:10:11] <theme> I'm talking about run time
[00:10:12] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[00:10:27] *** Joins: swgillespie (swgillespie@moz-upj.3un.220.167.IP)
[00:10:30] <theme> I'm talking about std::sort()
[00:10:36] <theme> Sorry I didn't make this clear
[00:10:37] <arrrrrrr1> but, yeah, as sfackler said, it was in jest because the sort algorithms used in gcc are probably completely irrelevant
[00:11:04] <arrrrrrr1> theme: you mean libstdc++?
[00:11:07] <theme> yes
[00:12:07] <arrrrrrr1> well, glibc's malloc is supposedly slower than jemalloc. the algorithm used in libstdc++ might have other constraints
[00:13:37] <theme> btw anybody want to have a look at the overflow bug above?
[00:14:21] <zwarich> theme / arrrrrrr1: the fastest sorts aren't actually comparison-based
[00:14:29] <zwarich> :P
[00:14:43] <theme> zwarich, well.... the fastest comparison sorts are quicksort variants
[00:14:51] <theme> you don't have to nitpick on my wording
[00:15:40] <zrneely> radix sort only works if you have a bound on the maximum value, and it gets much worse with larger bounds (unless there's an in-place variation I'm not aware of)
[00:15:44] *** Joins: jdm (jdm@moz-6sq.tjp.175.184.IP)
[00:16:10] <zwarich> theme: but how much slower is a partition for quicksort that doesn't rely on that assumption?
[00:16:24] <theme> zwarich, according to my benchmarks, 15%
[00:16:29] *** Quits: mystor_ (mystor@moz-5cj.r78.15.130.IP) (Connection closed)
[00:16:33] <theme> https://github.com/rust-lang/rfcs/pull/956#issuecomment-82267862
[00:16:46] <arrrrrrr1> sleepsort is O(1) and doesn't need unsafe code
[00:16:50] <arrrrrrr1> *O(n)
[00:17:07] <theme> arrrrrrr1, that's exponential to the number of bits :P
[00:17:15] <zwarich> zrneely: there are in-place variants
[00:17:25] <brson> acrichto: i need to update rustup.sh to support release channels before the beta, and i'm thinking of moving it to its own repo and rewriting it with the guts of multirust, with tests. what do you think?
[00:17:37] <zwarich> mergesort is faster than quicksort if your comparison is inordinately more expensive than actual element access
[00:17:37] <theme> playbot, 0x1000_i16
[00:17:38] -playbot- 4096
[00:17:43] <theme> playbot, 0x8000_i16
[00:17:45] -playbot- <anon>:14:9: 14:19 warning: literal out of range for i16, #[warn(overflowing_literals)] on by default
[00:17:45] -playbot- <anon>:14         0x8000_i16
[00:17:45] -playbot- output truncated; full output at: http://bit.ly/1EoSMGP
[00:17:50] <theme> is that supposed to warn? ^
[00:18:04] <theme> playbot, -(0x8000_i16)
[00:18:05] -playbot- -32768
[00:18:11] <theme> is that supposed *not* to warn? ^
[00:18:11] <acrichto> brson: seems fine so long as it's still just one script to download
[00:18:25] <acrichto> brson: e.g. it shouldn't have to clone anything to get more scripting support
[00:18:51] <zrneely> I agree with theme, I think the warnings should be inverted there
[00:19:39] <theme> If someone writes a number in hex, I think he should already know about overflow
[00:19:58] *** Quits: jdm (jdm@moz-6sq.tjp.175.184.IP) (Quit: )
[00:19:59] <theme> but if someone adds a minus to that, why does rustc become warning-free?
[00:20:42] *** Joins: kmcguire (kmcguire@moz-uqq.d7l.207.68.IP)
[00:23:39] <theme> How much is overflow checking implemented?
[00:24:24] <arrrrrrr1> gh23463
[00:24:24] <[o__o]> Literal overflow warnings should only apply to decimal.: https://github.com/rust-lang/rust/issues/23463
[00:24:38] <theme> :)
[00:24:44] *** Joins: blaenk_ (blaenkdenum@moz-em283u.res.rr.com)
[00:25:50] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Ping timeout: 121 seconds)
[00:27:08] <huon> zrneely: what's your reasoning for -0x8000_i16 getting a warning?
[00:27:34] <theme> huon, -0x8000_i16 overflows on the unary minus
[00:27:44] <theme> two's complement is not symmetric
[00:27:51] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[00:27:54] <huon> yes, -0x8000_i16 is the corret representation
[00:28:07] <huon> i.e. the bit pattern 0x8000_i16 is numerically -0x8000
[00:28:19] <huon> 0x8000 < 0
[00:28:45] <theme> well... if you are writing in hex, you are more concerned about the bit pattern, right?
[00:29:33] <zrneely> huon: I think it's unclear what it means; it's not easy to understand. You're specifying a literal negative number, but then sticking a - in front of it. Are you indicating that you want -1 * (0x8000), or are you saying that 0x8000 is negative? It's an easy mistake to make either way, if you don't understand two's complement.
[00:30:33] <huon> zrneely: hm, what's the difference between -0x8000 and a negative 0x8000?
[00:30:43] <huon> (I'm genuinely confused, sorry)
[00:30:51] <theme> huon, I interpret -0x8000 to be *positive*
[00:30:58] <theme> since 0x8000_i16 is negative
[00:32:06] <theme> in other words, I interpret `0x8000_i16` as `-32768`
[00:32:18] <huon> theme: ah, its confusing because its kinda a halfway point with ambiguity about the intention, since its not clear if the programmer understands two's complement?
[00:32:19] <theme> and I interpret `-0x8000_i16` as `32768`, which overflows
[00:32:25] <theme> huon, maybe
[00:32:35] <huon> (overflows to be -32768 ;) )
[00:32:42] <theme> yes
[00:33:32] <theme> Personally, I'd say that the mere act of writing numbers in hex implies that "yes, I understand two's complement"
[00:33:52] <huon> understanding two's complement is different to not making a mistake :)
[00:34:07] <theme> I'd say that writing -0x8000_i16 is a mistake
[00:34:26] <theme> It's basically a double negative
[00:35:12] <huon> using signed numbers for specific bit patterns is often a mistake too
[00:35:38] <huon> in any case, I disagree that writing -0x8000_i16 is a mistake
[00:35:56] <huon> if you want (negative 0x8000) as i16 then it's the correct thing to say
[00:36:23] <theme> hmm
[00:36:41] <zrneely> huon: Sorry, all I really meant to say was that it's kind of unclear either way, and I think that it's possible for people to misunderstand, and think that the string "-0x8000" is saying: do something with this hexadecimal number (which is negative).
[00:36:41] <huon> I'm unsure about how we handle 0x8000_i16 by itself though...
[00:37:45] <theme> zrneely, I interpret that as someone trying to get a positive number in a dumb way
[00:37:47] <arrrrrrr1> Eridius: why do you want the intrinsic to return u64 instead of i64?
[00:37:52] <zrneely> theme: I know when I was younger I wrote hex numbers, and had no clue how two's complement worked. I think clarifying this could help lower some barriers to entry.
[00:37:55] *** Quits: jxv (jxv___@moz-qneod7.pk6i.d98i.030a.2602.IP) (Quit: Leaving)
[00:38:20] <arrrrrrr1> Eridius: (haven't been following the whole discussion)
[00:38:23] <zrneely> theme (again): I do as well, haha.
[00:39:02] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[00:40:16] *** Joins: mib_xp2g1h (Mibbit@moz-juv.9o3.252.72.IP)
[00:40:33] <theme> Int::min_value() is hard
[00:42:02] <theme> Should next_power_of_two() panic on debug builds?
[00:42:06] <theme> http://doc.rust-lang.org/nightly/std/num/trait.UnsignedInt.html#tymethod.next_power_of_two
[00:42:10] *** Quits: larsberg (sid16141@moz-fnneme.uxbridge.irccloud.com) (Quit: )
[00:42:20] <arrrrrrr1> >Unspecified behavior on overflow.
[00:42:20] *** Quits: ikorin (ikorin@moz-3j6ic5.corp.etonreve.com) (Client exited)
[00:42:25] <kmc> acrichto: hm, my rustc build where I was hitting gh23407 was done with ./configure --enable-rpath
[00:42:25] <arrrrrrr1> why?
[00:42:25] <[o__o]> rustc crashed building gfx_graphics: https://github.com/rust-lang/rust/issues/23407
[00:42:28] <kmc> that should optimize rustc, right?
[00:42:38] <theme> arrrrrrr1, seriously, unspecified behavior?
[00:42:43] <arrrrrrr1> seriously
[00:42:53] <huon> when were those docs last updated?
[00:42:55] <theme> Don't you think it's weird?
[00:42:58] <acrichto> kmc: what rev?
[00:43:03] <arrrrrrr1> theme: it is
[00:43:06] <kmc> 3e4be02b80a3dd27bce20870958fe0aef7e7336d
[00:43:34] <huon> I suspect it may've been before the integer overflow changes (I could be wrong, though), when we had a less clear story about how to handle overflow
[00:43:46] <theme> huon, destabilize it?
[00:43:49] <theme> like abs()
[00:43:56] *** Quits: brson (brson@moz-832.7vl.56.172.IP) (Quit: leaving)
[00:44:27] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[00:44:43] <acrichto> kmc: that may not have the wiring up to -O
[00:45:09] <acrichto> kmc: I'm not 100% sure though
[00:46:05] <Eridius> arrrrrrr1: because u64 is correct for all enums that aren't #[repr(i64)]
[00:46:13] <Eridius> and the intrinsic cannot dynamically change its return type based on the enum repr
[00:46:40] <theme> Eridius, oh... that enum overflow bug?
[00:47:01] <Eridius> another approach would be to have the language define an intrinsic trait Enum with an associated type Repr that is the discriminant type, and then you could have a method that returns that type
[00:47:14] *** Quits: mib_xp2g1h (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[00:47:17] <sfackler> Eridius: isn't it incorrect for any signed discriminant?
[00:47:17] <Eridius> theme: I don't know what bug you're talking about. This is about an RFC for an intrinsic that returns the enum discriminant
[00:47:20] <theme> huon, arrrrrrr1, https://github.com/rust-lang/rust/issues/18604
[00:47:29] <Eridius> sfackler: err yeah, it is.
[00:47:47] <Eridius> I guess that logic would say it should return i64 by default and then only be incorrect on enums that use u64
[00:47:48] <theme> Eridius, these 2 bugs:
[00:47:52] <theme> https://github.com/rust-lang/rust/issues/23221
[00:47:57] <theme> https://github.com/rust-lang/rust/issues/23235
[00:48:35] <Eridius> huh, interesting bug. I don't think it's related though
[00:48:40] <theme> Eridius, it is
[00:48:58] <theme> Eridius, -1 translates to maximum value on u64
[00:49:00] <Eridius> theme: we're talking about an RFC that returns the disciminant, not about anything to do with the actual implementation of disciminants
[00:49:09] <theme> and adding one to it causes overflow
[00:49:29] <theme> Eridius, the point is that you cannot implement it as either only u64 or only i64
[00:49:50] <Eridius> theme: sounds like a bug where wrapping addition was assumed but was not properly caught when switching arithmetic to detect overflows
[00:50:06] <Eridius> theme: yes, that's a given. But it doesn't really matter what it is, the primary use-case here is comparing discriminants with ==
[00:50:16] <kmc> acrichto: ok. I got the version from the latest nightly, i think
[00:50:20] <kmc> I'll upgrade to current master
[00:50:22] * theme hates overflows
[00:50:22] <Eridius> in my comment I said that for #[rep(i64)] enums it should just use the u64 with the same bit pattern
[00:50:23] <kmc> see if it goes away
[00:50:24] <kmc> thanks
[00:51:00] <Eridius> but now I'm wondering if it should actually be the othe way aound, have it return i64 by default and only fail on enums that try to use the full range of u64
[00:51:32] <acrichto> kmc: ok!
[00:52:00] <sfackler> we could also remove signed enum reprs :)
[00:52:52] *** Quits: zrneely (Mibbit@moz-cvu.566.189.18.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[00:53:48] <theme> playbot, VERSION
[00:53:50] -playbot- "rustc 1.0.0-nightly (30e1f9a1c 2015-03-14) (built 2015-03-15)"
[00:54:01] <theme> any idea why the version is this?
[00:54:02] <theme> ^
[00:55:10] *** Joins: mystor (mystor@moz-5cj.r78.15.130.IP)
[00:55:32] <theme> What's the latest nightly version?
[00:56:42] <huon> http://buildbot.rust-lang.org/builders/nightly-dist-rustc-linux
[00:56:51] <huon> looks like that's the latest
[00:57:00] <theme> seriously? what?
[00:57:13] <theme> looks horribly wrong
[00:57:13] <huon> yes, seriously
[00:57:52] <huon> looking at the build logs it looks like a slight misconfiguring of the nightly build system
[00:58:02] <huon> I guess acrichto and/or brson know about it already?
[00:58:28] <theme> "No such file or directory"
[00:58:29] <theme> wtf
[00:58:58] <theme> weird way to fail a compilation
[01:00:09] <acrichto> theme: huon: yes I think it will be fixed by https://github.com/rust-lang/rust/pull/23429
[01:00:12] <acrichto> that pr didn't make it into the last nightly
[01:00:45] <theme> :)
[01:00:49] <huon> theme: where do you see that?
[01:00:52] <huon> I see "error: empty search path given via `-L`"
[01:00:56] <huon> acrichto: great!
[01:00:58] <theme> huon, one line above that
[01:01:06] <theme> actually, two
[01:01:12] <huon> oh :)
[01:02:21] <theme> I'm just wondering one thing
[01:02:25] <theme> what is error 101?
[01:03:15] <theme> Googling gave me "Network is unreachable"
[01:03:18] <theme> probably not that
[01:04:06] <kimundi> theme: afaik its just the return value the compiler returns to the operating system on an error
[01:04:33] <kimundi> No idea why its 101 specifically, probably just a random pick ages ago
[01:05:31] <theme> An intro course?
[01:05:32] <theme> lol
[01:07:10] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[01:08:33] *** Quits: blaenk_ (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[01:09:12] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[01:11:02] *** Joins: scott (uid25790@moz-e5ok1n.brockwell.irccloud.com)
[01:12:15] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[01:18:14] *** Quits: mystor (mystor@moz-5cj.r78.15.130.IP) (Connection closed)
[01:19:41] *** Joins: etw (john@moz-2lpgmu.fios.verizon.net)
[01:20:13] *** Quits: swgillespie (swgillespie@moz-upj.3un.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[01:22:30] *** Quits: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[01:22:43] *** Joins: swgillespie (swgillespie@moz-upj.3un.220.167.IP)
[01:24:09] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[01:26:22] *** Quits: swgillespie (swgillespie@moz-upj.3un.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[01:26:30] *** Joins: swgillespie (swgillespie@moz-upj.3un.220.167.IP)
[01:26:30] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[01:28:51] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[01:28:52] *** Joins: reem (reem@moz-3e0lc7.coob.q2h1.0009.2601.IP)
[01:28:52] *** Quits: swgillespie (swgillespie@moz-upj.3un.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[01:29:41] *** Joins: swgillespie (swgillespie@moz-upj.3un.220.167.IP)
[01:31:02] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[01:35:05] *** Quits: swgillespie (swgillespie@moz-upj.3un.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[01:39:36] *** Quits: reem (reem@moz-3e0lc7.coob.q2h1.0009.2601.IP) (Connection closed)
[01:42:34] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[01:43:57] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[01:45:27] <huon> acrichto: what do you think about having homu configured for the rust-lang crates.io libraries?
[01:46:11] <huon> acrichto: even if we don't use it for testing, being able to see a list of all the prs would be nice (e.g. http://buildbot.rust-lang.org/homu/queue/getopts+rustc-serialize+... )
[01:47:19] <acrichto> huon: hm perhaps yeah, not sure how homu would handle the no-buildbot connection though?
[01:47:25] <acrichto> huon: although I think homu can listen to travis?
[01:47:50] <huon> acrichto: yeah
[01:48:20] <huon> acrichto: e.g. https://github.com/huonw/simple_parallel/pull/3 is using travis :)
[01:48:51] <acrichto> oh nice
[01:55:17] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[01:58:16] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[02:06:33] *** Joins: Johannes_ (Johannes@moz-4et8d7.ocn.ne.jp)
[02:06:49] *** Quits: Johannes_ (Johannes@moz-4et8d7.ocn.ne.jp) (Connection closed)
[02:08:10] *** Joins: Johannes_ (Johannes@moz-4et8d7.ocn.ne.jp)
[02:08:38] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[02:09:49] *** Quits: Johannes (Johannes@moz-4et8d7.ocn.ne.jp) (Ping timeout: 121 seconds)
[02:09:55] *** Joins: Johannes (Johannes@moz-4et8d7.ocn.ne.jp)
[02:12:29] *** Joins: Johanne__ (Johannes@moz-4et8d7.ocn.ne.jp)
[02:13:12] *** Quits: Johannes_ (Johannes@moz-4et8d7.ocn.ne.jp) (Ping timeout: 121 seconds)
[02:14:46] *** Joins: Johannes_ (Johannes@moz-4et8d7.ocn.ne.jp)
[02:14:47] *** Quits: Johannes (Johannes@moz-4et8d7.ocn.ne.jp) (Connection closed)
[02:17:34] *** Quits: Johanne__ (Johannes@moz-4et8d7.ocn.ne.jp) (Ping timeout: 121 seconds)
[02:18:10] *** Quits: theme (theme@moz-i3mhhb.asianet.co.th) (Quit: Leaving)
[02:21:35] *** Joins: reedlepee (Mibbit@moz-juv.9o3.252.72.IP)
[02:27:21] *** Joins: summerlight (summerlight@moz-99k.2mj.130.121.IP)
[02:29:13] *** Joins: Johannes (Johannes@moz-4et8d7.ocn.ne.jp)
[02:31:09] *** Quits: reedlepee (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[02:31:48] *** Quits: Johannes_ (Johannes@moz-4et8d7.ocn.ne.jp) (Ping timeout: 121 seconds)
[02:32:32] *** Joins: Johannes_ (Johannes@moz-4et8d7.ocn.ne.jp)
[02:34:22] *** Quits: ^BR (br@moz-egk.dm6.194.78.IP) (Connection closed)
[02:35:15] *** Quits: Johannes (Johannes@moz-4et8d7.ocn.ne.jp) (Ping timeout: 121 seconds)
[02:38:04] *** Joins: mib_06odhp (Mibbit@moz-juv.9o3.252.72.IP)
[02:38:34] *** Quits: mib_06odhp (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[02:38:45] <nrc> my builds have stopped working :_(
[02:39:51] <kmc> acrichto: still seeing the ICE on ea8b82e90 (current master)
[02:43:15] <Luqman> eddyb: yay! the tydesc changes landed
[02:44:39] *** Joins: theme (theme@moz-i3mhhb.asianet.co.th)
[02:48:17] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[02:51:35] *** Joins: minzh (minzh@moz-u8rq5v.citrix.com)
[02:54:21] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[02:54:46] *** Joins: reem (reem@moz-3e0lc7.coob.q2h1.0009.2601.IP)
[03:03:19] *** Quits: Johannes_ (Johannes@moz-4et8d7.ocn.ne.jp) (Connection closed)
[03:05:21] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[03:12:40] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Client exited)
[03:12:52] *** Quits: minzh (minzh@moz-u8rq5v.citrix.com) (A TLS packet with unexpected length was received.)
[03:12:59] *** Joins: minzh (minzh@moz-u8rq5v.citrix.com)
[03:13:28] *** Quits: minzh (minzh@moz-u8rq5v.citrix.com) (A TLS packet with unexpected length was received.)
[03:14:15] *** Joins: minzh (minzh@moz-u8rq5v.citrix.com)
[03:14:25] *** Quits: minzh (minzh@moz-u8rq5v.citrix.com) (A TLS packet with unexpected length was received.)
[03:21:21] *** Joins: quantheory (quantheory@moz-m50t2f.44nj.jtvf.0001.2601.IP)
[03:31:00] *** Joins: kimundi_ (kimundi@moz-r03hcq.dip0.t-ipconnect.de)
[03:34:30] *** Quits: kimundi (kimundi@moz-8ivgis.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[03:34:30] *** kimundi_ is now known as kimundi
[03:40:15] *** kimundi is now known as zz_kimundi
[03:42:32] *** Joins: erickt (erickt@moz-uotmv4.pltn13.pacbell.net)
[03:44:02] *** Joins: mib_1gazxn (Mibbit@moz-juv.9o3.252.72.IP)
[03:44:22] *** Joins: dpc (dpc@moz-a8v.6sn.162.73.IP)
[03:44:56] *** Quits: mib_1gazxn (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[03:46:23] <theme> Why is MutexGuard not Send?
[03:46:53] *** zz_kimundi is now known as kimundi
[03:47:18] <theme> RwLockWriteGuard and WrLockReadGuard too
[03:48:33] <huon> oversight
[03:48:38] <theme> -_-
[03:48:46] <huon> they previously couldn't be Send because &mut couldn't be Send
[03:48:52] <huon> and &
[03:48:54] <theme> ok
[03:49:08] <theme> does poisoning work with Send?
[03:50:09] <theme> btw what happens if a thread panics while holding StdinLock/StdoutLock?
[03:53:19] *** Joins: Johannes (Johannes@moz-4et8d7.ocn.ne.jp)
[03:54:32] <theme> huon, https://github.com/rust-lang/rust/issues/23465
[03:54:35] <theme> filed an issue
[03:58:43] *** Quits: reem (reem@moz-3e0lc7.coob.q2h1.0009.2601.IP) (Connection closed)
[04:01:12] *** Quits: kmcguire (kmcguire@moz-uqq.d7l.207.68.IP) (Ping timeout: 121 seconds)
[04:02:48] *** Quits: erickt (erickt@moz-uotmv4.pltn13.pacbell.net) (Ping timeout: 121 seconds)
[04:04:53] *** Joins: reem (reem@moz-3e0lc7.coob.q2h1.0009.2601.IP)
[04:07:16] *** Joins: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net)
[04:07:16] *** ChanServ sets mode: +o pcwalton
[04:08:44] *** Joins: lfairy (lfairy@moz-hk2b0q.vf.net.nz)
[04:09:29] *** Quits: arrrrrrr1 (arrrrrrrrs@moz-gjrm1c.dynamic.qsc.de) (Ping timeout: 121 seconds)
[04:14:49] *** Joins: minzh (minzh@moz-u8rq5v.citrix.com)
[04:16:21] *** Quits: Johannes (Johannes@moz-4et8d7.ocn.ne.jp) (Ping timeout: 121 seconds)
[04:22:55] <bstrie> has anyone ever done a time-passes on rustc?
[04:23:53] *** Joins: Gankro (uid71432@moz-sc2bd6.charlton.irccloud.com)
[04:27:33] *** Joins: semarie (semarie@moz-d6ctul.dfri.se)
[04:27:33] *** Quits: semarie (semarie@moz-d6ctul.dfri.se) (Z-Lined: [gavin] botnet-20150302 (ID: GSJYHYCIZW))
[04:29:15] <nrc> bstrie: in what sense?
[04:29:49] <theme> nrc, judging from what bstrie said on #rust, I guess profiling performance for rustc compiling rustc
[04:30:08] <pcwalton> I always build rustc with TIME_PASSES=1
[04:30:14] <pcwalton> just so I can see progress messages
[04:30:22] <nrc> theme, bstrie yes, I keep records too: https://github.com/nrc/rustc-timing
[04:30:32] <nrc> I almost have graphs
[04:30:37] <nrc> but priorities...
[04:30:44] <bstrie> ha, great
[04:31:12] <bstrie> I was just asking because I timed a hello world program on a lark and saw that all passes were at 0 ms except for coherence checking, which was at 100 ms
[04:31:34] <nrc> :-s
[04:31:46] <pcwalton> yeah, coherence checking at least used to be nonlocal
[04:31:48] <pcwalton> it should be local
[04:32:53] <theme> nrc, I found this: "Missing VERSION file, and unable to generate it; creating bogus VERSION"
[04:33:08] <theme> bogus version??
[04:33:20] <nrc> theme: found where?
[04:33:39] <theme> nrc, https://github.com/nrc/rustc-timing/blob/master/raw/2015-03-17.log#L664
[04:34:22] <theme> is that normal?
[04:34:26] <nrc> I have no idea
[04:34:32] <nrc> doesn't seem to cause any problems
[04:34:44] *** Joins: jdm (jdm@moz-6sq.tjp.175.184.IP)
[04:35:58] <theme> Why does libsyntax take that much time? O_o
[04:36:38] <theme> librustc takes even more...
[04:38:05] *** Joins: semarie (semarie@moz-72p.nhl.10.176.IP)
[04:39:27] <sfackler> :( https://github.com/rust-lang/rust/pull/23300#issuecomment-82736078
[04:43:18] *** Joins: tjakubow (tom@moz-ag87jj.fios.verizon.net)
[04:46:50] *** sunfish is now known as sunfish-away
[04:55:13] *** Quits: reem (reem@moz-3e0lc7.coob.q2h1.0009.2601.IP) (Connection closed)
[05:04:14] *** Quits: scott (uid25790@moz-e5ok1n.brockwell.irccloud.com) (Quit: Connection closed for inactivity)
[05:08:32] *** Quits: dhneio (username@moz-0f7uo0.fios.verizon.net) (Quit: )
[05:09:32] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[05:12:49] <eddyb> pcwalton: does coherence checking use anything like fast_reject?
[05:12:54] *** Quits: O01eg (o01eg@moz-h0qgsf.ncbs.4n8f.2698.2a02.IP) (Client exited)
[05:13:00] <pcwalton> not as far as I know.
[05:13:21] <eddyb> the times look quadratic (or worse)
[05:14:48] <eddyb> I think it should be possible to make it linear for "obviously distinct" types (a million #[derive(Copy)] struct Foo; in a crate, for example)
[05:14:53] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[05:15:08] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[05:16:24] <eddyb> pcwalton: I think WindowsBunny's winapi crates are a good testcase, they take a lot in coherence checking, with a bunch of #[derive] impls for each struct (if by non-local you mean "including dependencies", that shouldn't matter in that case)
[05:16:51] <WindowsBunny> pcwalton: coherence checking takes like half a minute for winapi
[05:16:59] <pcwalton> I'm not fixing it
[05:17:01] <pcwalton> anytime soon
[05:17:24] *** Joins: reem (reem@moz-3e0lc7.coob.q2h1.0009.2601.IP)
[05:17:36] <WindowsBunny> It would be nice if someone fixed it eventually
[05:19:55] *** Joins: mib_1iv5v8 (Mibbit@moz-juv.9o3.252.72.IP)
[05:22:15] *** Quits: mib_1iv5v8 (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[05:28:26] *** Joins: Johannes (Johannes@moz-4et8d7.ocn.ne.jp)
[05:39:56] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[05:41:13] <theme> huon, turns out that the MutexGuard being !Send is not an oversight
[05:41:18] <theme> https://github.com/rust-lang/rust/issues/23465#issuecomment-82730326
[05:42:05] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Quit: It's a joke, it's all a joke.)
[05:47:43] <huon> oh, right
[05:47:46] <huon> I forgot that detail :)
[05:48:10] <theme> Do Deref and DerefMut somehow "disregard field privacy"?
[05:48:19] <Mutabah> theme: Kinda
[05:48:20] <huon> I believe std::cell::{Ref, RefMut} can be Send, though
[05:48:26] <huon> maybe they are already...
[05:48:26] <theme> Mutabah, how?
[05:48:40] <Mutabah> theme: The autoref rules ignore privacy when determining when to stop autoderef
[05:48:44] <huon> actually, probably not. bleh.
[05:48:50] <theme> Mutabah, eh?
[05:48:55] <theme> wtf
[05:49:13] <huon> theme: it'd be really great if your first reaction to something slightly confusing wasn't 'wtf' :)
[05:49:19] <theme> ok
[05:49:24] <theme> O_o
[05:51:43] <reem> I should be able to send an &mut MutexGuard though
[05:51:55] <theme> reem, why?
[05:52:04] <theme> you can replace it with another MutexGuard
[05:52:08] <reem> ugh yes
[05:52:10] <theme> and bad things (TM) happens
[05:52:24] * reem wants a variant of &mut that doesn't allow replace/swap
[05:52:33] <theme> &uniq?
[05:52:36] <reem> Yay more pointer types
[05:54:36] *** Quits: jdm (jdm@moz-6sq.tjp.175.184.IP) (Quit: )
[05:55:13] <bstrie> &only
[05:55:14] <theme> Are we going to ever be able to send StdinLock's around?
[05:55:17] <bstrie> &my
[05:55:29] <theme> &only &my &unique?
[05:55:45] <bstrie> it's like that poetry that larry wall wrote that's a valid perl program
[05:56:00] <bstrie> http://en.wikipedia.org/wiki/Black_Perl
[05:56:26] <huon> theme: doesn't acrichto's point about MutexGuard apply directly to StdinLock/
[05:56:27] <huon> *?
[05:56:39] <theme> huon, well... are there any other possible implementations?
[05:56:47] <huon> theme: I guess?
[05:57:11] <huon> theme: I suppose would could try to implement a custom mutex that can be unlocked on different threads
[05:57:17] <theme> btw why doesn't Stdin or StdinLock implement AsRawFd?
[05:57:18] <huon> seems... kinda wild, though.
[05:57:29] *** Joins: munksgaard (munksgaard@moz-urnkl5.u.parknet.dk)
[05:59:43] <theme> mio cannot work with stdio/stdout because they don't implement AsRawFd
[06:00:25] <theme> oh... wait
[06:00:36] <theme> I can use 0/1/2 after all O_o
[06:00:55] <WindowsBunny> theme: Curse your non-platform code
[06:01:01] <WindowsBunny> *non-cross-platform
[06:01:23] <theme> well... is mio going to ever work on windows?
[06:01:33] <Manishearth> define "work"
[06:01:44] <theme> force times distance?
[06:01:46] <theme> lol
[06:01:56] <Manishearth> correct
[06:01:58] <theme> Manishearth, support windows
[06:02:15] <Manishearth> everything supports windows if you try hard enough
[06:02:20] <Manishearth> a couple of nested VMs should do it
[06:02:29] <theme> https://github.com/carllerche/mio#platforms
[06:02:35] <theme> Currently, MIO only supports Linux and Darwin. The goal is to support all platforms that support Rust and the readiness IO model.
[06:02:37] <Manishearth> (I'm joking around, ignore me)
[06:02:41] <theme> what is the "readiness IO model"?
[06:02:43] <huon> acrichto: ping
[06:03:05] <carllerche> theme: it's getting notified when a socket is ready to perform an operation
[06:03:18] <carllerche> theme: vs. the completion model where you queue up a job and get notified when the job completes
[06:03:20] <reem> theme: That's actually kind of outdated, the project has since decided it's better to not support windows in this lib
[06:03:30] <theme> reem, eh?
[06:03:33] <Manishearth> huon: http://www.reddit.com/r/rust/comments/2kv3y5/async_io/clprped
[06:03:35] <carllerche> reem: I updated the docs, but it's not super clear :P
[06:03:38] <Manishearth> * theme 
[06:03:42] <theme> carllerche, ok....
[06:03:56] <carllerche> theme: I'm working on a higher level IO lib that will will work on windows as well
[06:03:59] <reem> carllerche: To be clear, I haven't read what he's talking about
[06:04:17] * theme is confused by conflicting information
[06:04:31] <Manishearth> you should disappear in a puff of logic
[06:04:32] * theme evaluates P and not P
[06:04:48] <theme> false...
[06:05:12] <bstrie> mu
[06:05:33] <carllerche> I thought at first i would attempt to support windows w/ mio, but as of now, i think that it is probably not worth it :P
[06:05:47] <theme> carllerche, what is that lib?
[06:06:14] <bstrie> carllerche: if people mostly want green threads so that they can do C10k servers, nobody will miss the lack of windows support :P
[06:06:33] <theme> bstrie, thread pool?
[06:07:15] <bstrie> don't we do thread pools already without mio?
[06:07:25] <theme> we do
[06:09:44] <huon> Manishearth: hm?
[06:09:46] <theme> carllerche, are we going to have io on windows?
[06:09:55] <theme> I mean, async
[06:09:59] *** Quits: munksgaard (munksgaard@moz-urnkl5.u.parknet.dk) (Ping timeout: 121 seconds)
[06:09:59] <carllerche> theme: the lib is not published yet, and it will support windows async
[06:10:01] <huon> Manishearth: oh, just a misdirect, nvm
[06:10:32] <Manishearth> yeah
[06:11:24] <carllerche> theme: it's based around futures & streams... looks something like this: http://slides.com/carllerche/rust-io-meetup#/7/4
[06:12:36] *** Quits: eddyb (eddyb@moz-l1n.kjd.26.188.IP) (Ping timeout: 121 seconds)
[06:12:39] <theme> Maybe I'd better use good old IO
[06:13:11] <carllerche> for now, probably
[06:13:12] <theme> btw is select!{} going to be stable for 1.0?
[06:15:11] <Manishearth> goold old IO or good old old IO?
[06:15:15] <Manishearth> *good
[06:15:39] * Manishearth is really bored after waiting for a simulation to run
[06:16:09] <theme> std::io :P
[06:17:01] <Manishearth> std::old_old_old_no_really_prehistoric_io
[06:17:28] *** Quits: sprang (sprang@moz-bll05b.zoominternet.net) (Ping timeout: 121 seconds)
[06:17:39] <reem> std::io and std::old_io is a lot better than std::io and std::new_io
[06:20:54] <bstrie> theme: is there a bug for the src links being broken?
[06:21:05] <theme> bstrie, not filed yet
[06:24:04] <bstrie> theme: found https://github.com/rust-lang/rust/issues/23192
[06:26:41] <carllerche> Any idea on how to work around "error: internal compiler error: cat_expr Errd"
[06:27:48] *** Quits: njn (chatzilla@moz-gok.4b2.214.203.IP) (Quit: ChatZilla 0.9.91.1 [Firefox 39.0a1/20150315153114])
[06:29:48] <bstrie> ooh, rustc has such pretty colors now
[06:30:29] <theme> playbot, VERSION
[06:30:30] -playbot- "rustc 1.0.0-nightly (30e1f9a1c 2015-03-14) (built 2015-03-15)"
[06:33:07] <huon> carllerche: do you have a reproduction?
[06:33:16] <carllerche> huon: not minimal :-/
[06:33:21] <carllerche> i'm not even sure how it is happening
[06:33:25] *** Quits: Johannes (Johannes@moz-4et8d7.ocn.ne.jp) (Connection closed)
[06:34:13] <carllerche> huon: `cargo test` https://github.com/carllerche/mio/tree/ice-cat-expr-errd
[06:34:44] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[06:34:54] <huon> carllerche: oh :(
[06:36:29] <huon> carllerche: there's 4 issues with that message, maybe they have a hint for tracking it down? gh22037,22897,23041,23437
[06:36:29] <[o__o]> internal compiler error: fictitious type [type error] in sizing_type_of(): https://github.com/rust-lang/rust/issues/22037, ICE: cat_expr Errd from array of unconstrained type -- { []; }: https://github.com/rust-lang/rust/issues/22897, internal compiler error: cat_expr Errd when downcasting: https://github.com/rust-lang/rust/issues/23041, compiler panic - struct function fields passed to higher order function.: https://github.com/rust
[06:36:45] <carllerche> yeah, i have been looking at them, but still trying to figure it out
[06:36:57] *** Joins: Johannes (Johannes@moz-4et8d7.ocn.ne.jp)
[06:37:01] *** Quits: Johannes (Johannes@moz-4et8d7.ocn.ne.jp) (Connection closed)
[06:37:03] *** Joins: Johannes (Johannes@moz-4et8d7.ocn.ne.jp)
[06:37:06] <carllerche> it must be an unconstrained type or something
[06:37:48] <carllerche> huon: I think I may see the problem... 
[06:38:19] <theme> Is it just me, or there are more ICEs lately?
[06:39:16] <carllerche> huon: yeah, i did not specify some associated types
[06:39:21] *** Quits: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net) (Client exited)
[06:39:40] *** Joins: Guest__ (textual@moz-o8p.pug.156.104.IP)
[06:40:17] *** Quits: Guest__ (textual@moz-o8p.pug.156.104.IP) (Quit: Textual IRC Client: www.textualapp.com)
[06:40:29] *** Joins: Guest__ (textual@moz-o8p.pug.156.104.IP)
[06:40:54] *** Quits: Guest__ (textual@moz-o8p.pug.156.104.IP) (Connection closed)
[06:47:04] <acrichto> kmc: hm, what's the repro? (can I test?)
[06:47:06] <acrichto> huon: pong
[06:50:50] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[06:51:26] *** Joins: zmack (zmack@moz-b26i0b.home.aster.pl)
[06:52:15] <huon> acrichto: ah, forgotten what it was
[06:52:22] <bstrie> steveklabnik: person with doc-existence questions https://www.reddit.com/r/rust/comments/2zcl6j/idiomatic_rust/
[06:53:30] *** Joins: dinfuehr (dinfuehr@moz-72a2il.tuwien.ac.at)
[06:55:53] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[06:57:20] *** Quits: theme (theme@moz-i3mhhb.asianet.co.th) (Quit: Leaving)
[06:57:42] *** Quits: quantheory (quantheory@moz-m50t2f.44nj.jtvf.0001.2601.IP) (Quit: Leaving)
[07:03:04] *** Joins: simukis (nagisa@moz-pol184.mif.vu.lt)
[07:07:26] *** Joins: squiddy (squiddy@moz-md4.pm3.19.178.IP)
[07:10:29] *** Joins: eddyb (eddyb@moz-7gq.2kg.166.109.IP)
[07:13:12] *** Joins: Johannes_ (Johannes@moz-4et8d7.ocn.ne.jp)
[07:15:56] *** Quits: Johannes (Johannes@moz-4et8d7.ocn.ne.jp) (Ping timeout: 121 seconds)
[07:17:32] *** Quits: dinfuehr (dinfuehr@moz-72a2il.tuwien.ac.at) (Connection closed)
[07:18:32] *** Quits: Gankro (uid71432@moz-sc2bd6.charlton.irccloud.com) (Quit: Connection closed for inactivity)
[07:24:23] *** Quits: untitaker (untitaker@moz-kp2con.highway.telekom.at) (Ping timeout: 121 seconds)
[07:31:38] *** Joins: untitaker (untitaker@moz-m10bh3.highway.telekom.at)
[07:31:44] *** Quits: Johannes_ (Johannes@moz-4et8d7.ocn.ne.jp) (Connection closed)
[07:32:43] *** Quits: kushal (kdas@moz-dbin9j.202.sitibroadband.in) (Quit: Leaving)
[07:34:14] *** Quits: c0170 (c0170@moz-4stj9o.cable.virginm.net) (Ping timeout: 121 seconds)
[07:34:34] *** Quits: eddyb (eddyb@moz-7gq.2kg.166.109.IP) (Ping timeout: 121 seconds)
[07:35:14] *** Joins: kushal (kdas@moz-dbin9j.202.sitibroadband.in)
[07:36:47] *** Joins: Johannes (Johannes@moz-4et8d7.ocn.ne.jp)
[07:36:53] *** Quits: Johannes (Johannes@moz-4et8d7.ocn.ne.jp) (Connection closed)
[07:37:15] *** Joins: Johannes (Johannes@moz-4et8d7.ocn.ne.jp)
[07:42:12] *** Quits: reem (reem@moz-3e0lc7.coob.q2h1.0009.2601.IP) (Connection closed)
[07:43:14] *** Quits: gsingh93 (gulshan@moz-3fu4am.mi.comcast.net) (Ping timeout: 121 seconds)
[07:45:01] *** Quits: dpc (dpc@moz-a8v.6sn.162.73.IP) (Ping timeout: 121 seconds)
[07:45:12] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[07:45:27] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[07:48:15] *** Joins: c0170 (c0170@moz-bb29a4.cambridge.arm.com)
[07:48:38] *** Joins: dinfuehr (dinfuehr@moz-72a2il.tuwien.ac.at)
[07:49:06] *** Quits: dinfuehr (dinfuehr@moz-72a2il.tuwien.ac.at) (Connection closed)
[07:51:03] *** Quits: c0170 (c0170@moz-bb29a4.cambridge.arm.com) (Connection closed)
[07:51:07] *** Joins: c0170 (c0170@moz-bb29a4.cambridge.arm.com)
[07:53:47] *** Quits: lfairy (lfairy@moz-hk2b0q.vf.net.nz) (Connection closed)
[07:55:59] *** Joins: Rym_ (y@moz-859.d1r.39.217.IP)
[07:56:10] *** Quits: Rym (y@moz-859.d1r.39.217.IP) (Connection closed)
[07:58:35] *** Joins: mw (mw@moz-f1s7jp.vie.surfer.at)
[08:00:24] *** Joins: bjz (bjz@moz-4l6.mjm.52.113.IP)
[08:02:02] *** Joins: Tobba|Laptop (Tobba@moz-1hh.7ki.21.217.IP)
[08:04:56] *** Quits: Rym_ (y@moz-859.d1r.39.217.IP) (Ping timeout: 121 seconds)
[08:05:41] *** Quits: bjz (bjz@moz-4l6.mjm.52.113.IP) (Ping timeout: 121 seconds)
[08:09:32] *** Joins: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net)
[08:09:33] *** ChanServ sets mode: +o pnkfelix
[08:12:20] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Client exited)
[08:14:15] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[08:14:24] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Client exited)
[08:21:34] *** Joins: killercup (killercup@moz-4udt1b.dip0.t-ipconnect.de)
[08:27:57] *** Joins: munksgaard (munksgaard@moz-33d.hq0.225.130.IP)
[08:28:22] *** Joins: ptalbot (ptalbot@moz-1gn7gb.eu0n.jcdj.0660.2001.IP)
[08:30:17] *** Joins: bjz (bjz@moz-puppgq.tpgi.com.au)
[08:31:26] *** Joins: Rym_ (y@moz-859.d1r.39.217.IP)
[08:35:55] *** Quits: Rym_ (y@moz-859.d1r.39.217.IP) (Ping timeout: 121 seconds)
[08:35:55] *** Joins: arrrrrrr1 (arrrrrrrrs@moz-gjrm1c.dynamic.qsc.de)
[08:41:55] *** Quits: arrrrrrr1 (arrrrrrrrs@moz-gjrm1c.dynamic.qsc.de) (Ping timeout: 121 seconds)
[08:43:52] *** Joins: imperio (Mibbit@moz-aibeqg.fbx.proxad.net)
[08:55:38] *** Joins: reem (reem@moz-n45dpb.coob.q2h1.0009.2601.IP)
[08:58:40] *** Joins: reem_ (reem@moz-2icmmi.ca.comcast.net)
[08:59:48] *** Quits: reem (reem@moz-n45dpb.coob.q2h1.0009.2601.IP) (Ping timeout: 121 seconds)
[09:03:29] *** Quits: reem_ (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[09:05:35] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[09:05:49] *** Joins: dinfuehr (dinfuehr@moz-72a2il.tuwien.ac.at)
[09:08:00] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[09:09:09] *** Joins: aepsil0n (eduard@moz-s4dovi.73sq.ctqi.8071.2a02.IP)
[09:11:41] *** Quits: simukis (nagisa@moz-pol184.mif.vu.lt) (Client exited)
[09:23:30] *** Joins: reem (reem@moz-0eqd3d.coob.q2h1.0009.2601.IP)
[09:25:34] *** Joins: Rym_ (y@moz-859.d1r.39.217.IP)
[09:26:35] *** Quits: reem (reem@moz-0eqd3d.coob.q2h1.0009.2601.IP) (Connection closed)
[09:27:25] *** Joins: alexchandel (Adium@moz-ppg6qr.sub-174-253-112.myvzw.com)
[09:27:49] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[09:30:02] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[09:30:06] *** Quits: Rym_ (y@moz-859.d1r.39.217.IP) (Ping timeout: 121 seconds)
[09:31:30] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[09:33:26] *** Joins: reem (reem@moz-iov04i.coob.q2h1.0009.2601.IP)
[09:35:37] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[09:36:30] *** Quits: alexchandel (Adium@moz-ppg6qr.sub-174-253-112.myvzw.com) (Quit: Leaving.)
[09:45:02] *** Quits: nrc (nrc@moz-4bhi2i.xtra.co.nz) (Ping timeout: 121 seconds)
[09:47:44] *** Quits: reem (reem@moz-iov04i.coob.q2h1.0009.2601.IP) (Connection closed)
[09:48:52] *** Quits: bfops (uid58242@moz-e5u6m0.charlton.irccloud.com) (Quit: Connection closed for inactivity)
[09:52:20] *** Joins: reem (reem@moz-hi4tbc.coob.q2h1.0009.2601.IP)
[10:02:42] *** Quits: reem (reem@moz-hi4tbc.coob.q2h1.0009.2601.IP) (Connection closed)
[10:08:57] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[10:11:26] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[10:13:34] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[10:19:45] *** Joins: Rym_ (y@moz-859.d1r.39.217.IP)
[10:23:29] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[10:24:17] *** Quits: Rym_ (y@moz-859.d1r.39.217.IP) (Ping timeout: 121 seconds)
[10:25:57] *** Quits: minzh (minzh@moz-u8rq5v.citrix.com) (Ping timeout: 121 seconds)
[10:26:57] *** Joins: marsel (user@moz-ha4.nr5.180.94.IP)
[10:27:36] *** Quits: etw (john@moz-2lpgmu.fios.verizon.net) (Client exited)
[10:30:29] *** Quits: darnuria (darnuria@moz-cagds5.kokakiwi.net) (Quit: WeeChat 1.2-dev)
[10:30:37] *** Joins: darnuria (darnuria@moz-cagds5.kokakiwi.net)
[10:34:10] *** Joins: c0170_ (c0170@moz-bb29a4.cambridge.arm.com)
[10:34:46] *** Quits: darnuria (darnuria@moz-cagds5.kokakiwi.net) (Connection closed)
[10:34:53] *** Joins: darnuria (darnuria@moz-cagds5.kokakiwi.net)
[10:35:14] *** Quits: c0170 (c0170@moz-bb29a4.cambridge.arm.com) (Ping timeout: 121 seconds)
[10:35:57] *** Joins: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com)
[10:38:44] *** Quits: darnuria (darnuria@moz-cagds5.kokakiwi.net) (Connection closed)
[10:38:51] *** Joins: darnuria (darnuria@moz-cagds5.kokakiwi.net)
[10:47:53] *** Quits: Tobba|Laptop (Tobba@moz-1hh.7ki.21.217.IP) (Ping timeout: 121 seconds)
[10:48:48] *** Parts: mw (mw@moz-f1s7jp.vie.surfer.at) ("")
[10:51:13] *** Joins: eibwen (eibwen@moz-eknsl2.dip0.t-ipconnect.de)
[10:52:03] *** Quits: marsel (user@moz-ha4.nr5.180.94.IP) (Ping timeout: 121 seconds)
[10:52:49] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[10:53:58] *** Joins: {-}grant ({0}grant@moz-63ubas.in.charter.com)
[10:54:00] *** Joins: {-}grant- ({0}grant@moz-63ubas.in.charter.com)
[10:54:51] *** Joins: summerlight_ (summerlight@moz-99k.2mj.130.121.IP)
[10:57:20] *** Quits: summerlight (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[11:01:56] *** Joins: rustical (dida@moz-55rvi2.dclient.hispeed.ch)
[11:04:19] *** Joins: larhat (Adium@moz-8v4.af0.232.213.IP)
[11:04:41] *** Joins: c0170 (c0170@moz-bb29a4.cambridge.arm.com)
[11:05:23] *** Quits: c0170_ (c0170@moz-bb29a4.cambridge.arm.com) (Ping timeout: 121 seconds)
[11:12:24] *** Quits: akawaka (akawaka@moz-0bb8q8.irvnca.sbcglobal.net) (Quit: ZNC - http://znc.sourceforge.net)
[11:12:48] *** Joins: akawaka (akawaka@moz-0bb8q8.irvnca.sbcglobal.net)
[11:13:54] *** Joins: Rym_ (y@moz-859.d1r.39.217.IP)
[11:16:00] *** Joins: Tobba|Laptop (Tobba@moz-1hh.7ki.21.217.IP)
[11:18:26] *** Quits: Rym_ (y@moz-859.d1r.39.217.IP) (Ping timeout: 121 seconds)
[11:21:29] *** Quits: kushal (kdas@moz-dbin9j.202.sitibroadband.in) (Ping timeout: 121 seconds)
[11:25:13] *** Joins: eddyb (eddyb@moz-l1n.kjd.26.188.IP)
[11:33:55] *** Joins: kushal (kdas@moz-dbin9j.202.sitibroadband.in)
[11:37:50] *** Joins: sigma (sigma@moz-ohog4c.range86-135.btcentralplus.com)
[11:38:09] *** Quits: kushal (kdas@moz-dbin9j.202.sitibroadband.in) (Ping timeout: 121 seconds)
[11:50:02] *** Joins: kushal (kdas@moz-dbin9j.202.sitibroadband.in)
[11:50:29] *** Joins: mw (mw@moz-f1s7jp.vie.surfer.at)
[11:51:20] *** Joins: Gankro (uid71432@moz-sc2bd6.charlton.irccloud.com)
[12:00:36] *** Joins: larsberg (sid16141@moz-fnneme.uxbridge.irccloud.com)
[12:01:09] *** Joins: summerlight (summerlight@moz-99k.2mj.130.121.IP)
[12:02:13] *** Quits: summerlight_ (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[12:04:08] *** Joins: sigma1 (sigma@moz-ohog4c.range86-135.btcentralplus.com)
[12:04:08] *** Quits: sigma (sigma@moz-ohog4c.range86-135.btcentralplus.com) (Connection closed)
[12:08:05] *** Joins: Rym_ (y@moz-859.d1r.39.217.IP)
[12:12:37] *** Quits: Rym_ (y@moz-859.d1r.39.217.IP) (Ping timeout: 121 seconds)
[12:16:27] <Manishearth> Anyone want to review my AST PR?
[12:17:48] <huon> which?
[12:18:28] <Manishearth> huon: https://github.com/rust-lang/rust/pull/23428
[12:18:57] <huon> oh, nice
[12:26:27] *** Joins: kmcguire_ (kmcguire@moz-pg1gb9.biz.rr.com)
[12:26:53] <Manishearth> huon: ping me when done so that I can push
[12:27:07] *** Quits: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com) (Ping timeout: 121 seconds)
[12:28:15] <simukis> am I only one who finds unclear which value is discarded http://doc.rust-lang.org/std/result/enum.Result.html#method.err (see docstring)?
[12:30:00] <eddyb> simukis: yes, look at the types
[12:30:04] *** Joins: napoleonx (Mibbit@moz-juv.9o3.252.72.IP)
[12:30:07] <Gankro> simukis: Seems obvious by the types
[12:30:19] <huon> Manishearth: done
[12:30:20] <simukis> the Err(value) is also value
[12:30:28] <simukis> I mean what’s inside the Err
[12:30:33] <eddyb> simukis: error
[12:30:49] <eddyb> Ok(value) | Err(error)
[12:31:38] <simukis> sigh, smels of implicity here to me
[12:31:43] <simukis> smells*
[12:32:19] <kimundi> simukis: I agree that the doc string could be more clear
[12:32:22] <simukis> even the `Variants` section describes both Err and Ok as containing a value.
[12:32:31] <kimundi> "discarding the Ok value, if any"
[12:32:38] <simukis> so maybe s/the value/the success value/
[12:32:48] <eddyb> kimundi, simukis: I like both of those
[12:32:52] <simukis> or as kimundi proposed
[12:33:04] <eddyb> I guess someone would get confused if they took the full description too seriously
[12:33:52] <simukis> I just spend good 5 seconds being confused even knowing very well what the function does.
[12:33:53] <kimundi> Yeah, but even if it seems obvious from the type signatures the doc string should still be clear and precise
[12:37:19] <Manishearth> huon: pushed a fixup
[12:39:24] *** Quits: napoleonx (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[12:45:00] <eddyb> hehehehe
[12:45:41] <eddyb> acrichto, aturon: https://github.com/rust-lang/rfcs/pull/982 gives us [T; N]: Unsize<[T]> forall N *and the design makes it impossible to prevent abuse*
[12:46:30] <eddyb> (the traits would be unstable, so we couldn't use everywhere, but it should still be useful in libstd)
[12:49:04] *** Joins: zenonxc (Mibbit@moz-juv.9o3.252.72.IP)
[12:54:00] *** Quits: dinfuehr (dinfuehr@moz-72a2il.tuwien.ac.at) (Connection closed)
[12:54:21] *** Joins: dinfuehr (dinfuehr@moz-72a2il.tuwien.ac.at)
[12:54:39] <Manishearth> eddyb: how hard would it be to make Sized take a type param?
[12:55:16] <Manishearth> (I ask because then optin traits could be defined by external libs; eg ?OptIn<Affine>, ?OptIn<Sized>, etc
[12:55:19] <Manishearth> )
[12:58:23] *** Quits: dinfuehr (dinfuehr@moz-72a2il.tuwien.ac.at) (Ping timeout: 121 seconds)
[12:59:46] *** Joins: arrrrrrr1 (arrrrrrrrs@moz-gjrm1c.dynamic.qsc.de)
[12:59:53] *** Quits: zenonxc (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[13:02:14] *** Joins: Rym_ (y@moz-859.d1r.39.217.IP)
[13:06:47] *** Quits: Rym_ (y@moz-859.d1r.39.217.IP) (Ping timeout: 121 seconds)
[13:07:37] *** Joins: jdm (jdm@moz-mu9.06r.98.75.IP)
[13:14:48] *** Quits: zmack (zmack@moz-b26i0b.home.aster.pl) (Connection closed)
[13:15:09] *** Joins: zmack (zmack@moz-b26i0b.home.aster.pl)
[13:15:56] *** Quits: ctennis (ctennis@moz-vcpg3c.in.comcast.net) (Quit: Leaving...)
[13:20:25] *** Joins: ytain (ytain@moz-44k.q8p.140.24.IP)
[13:23:50] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[13:24:15] *** Quits: sigma1 (sigma@moz-ohog4c.range86-135.btcentralplus.com) (Ping timeout: 121 seconds)
[13:25:13] <steveklabnik> bstrie: thanks, checkin it out
[13:25:16] *** Quits: jgallagher (john@moz-6ge.dhn.131.24.IP) (Client exited)
[13:28:11] *** Joins: ctennis (ctennis@moz-su6.e72.137.99.IP)
[13:28:14] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Ping timeout: 121 seconds)
[13:39:01] *** Joins: sigma (sigma@moz-ohog4c.range86-135.btcentralplus.com)
[13:40:02] *** Quits: Tobba|Laptop (Tobba@moz-1hh.7ki.21.217.IP) (Ping timeout: 121 seconds)
[13:56:25] *** Joins: Rym_ (y@moz-859.d1r.39.217.IP)
[13:57:33] *** Joins: marsel (user@moz-b9s.mg0.180.94.IP)
[14:00:56] *** Quits: Rym_ (y@moz-859.d1r.39.217.IP) (Ping timeout: 121 seconds)
[14:08:26] <pnkfelix> eddyb: ping
[14:09:59] *** Quits: munksgaard (munksgaard@moz-33d.hq0.225.130.IP) (Ping timeout: 121 seconds)
[14:10:19] <eddyb> pnkfelix: pong
[14:10:57] <pnkfelix> eddyb: I'm currently working on http://internals.rust-lang.org/t/attention-hackers-filling-drop/1715/7?u=pnkfelix
[14:11:40] <pnkfelix> eddyb: which requires `#[unsafe_no_drop_flag]` structures like `Arc` to explicitly track whether their destructors have run or not
[14:12:02] <pnkfelix> eddyb: obviously the "NonZero" invariant cannot actually be holding today, since zeroing-on-drop is breaking it
[14:12:24] <eddyb> pnkfelix: NonZero affects loads so it's safe if you load from a **mut T
[14:12:32] <eddyb> *affects only loads
[14:13:28] <pnkfelix> eddyb: so my questions are: 1. What are you expecting to break when one breaks this invariant, and 2. which would be best: 2a. Remove the NonZero wrapper, 2b. Break the NonZero invariant from the destructor, or 2c. Change the representation more dramatically (e.g. to Option<NonZero<...>>) ?
[14:14:19] <pnkfelix> eddyb: I was under the impression from earlier conversations that very bad things could happen if one breaks the NonZero invariant (e.g. by passing a null pointer into the `NonZero` constructor
[14:14:20] <eddyb> pnkfelix: 2d. sidestep the invariant in the destructor by casting *mut NonZero<*mut T> to *mut *mut T
[14:14:53] <pnkfelix> eddyb: how is 2d different from 2b ?
[14:15:08] <eddyb> pnkfelix: breaking the invariant is UB, casting the pointer isn't
[14:15:22] <pnkfelix> eddyb: and also, are you saying such a cast should be used for *both* the read of the field (to check for the zero value) and for the write ?
[14:15:50] <eddyb> if you're writing a zero/null, yes, though there is no LLVM store metadata AFAIK
[14:16:20] <pnkfelix> eddyb: okay, so it sounds like you're saying that both the read and the write should go through the cast.
[14:16:54] <eddyb> oh, you can do something very nice :P
[14:17:33] <eddyb> pnkfelix: cast *mut NonZero<*mut T> to *mut Option<NonZero<*mut T>> and call .take()
[14:17:50] <pnkfelix> eh that's a little too clever for my taste
[14:18:30] <eddyb> fair enough
[14:27:51] *** Joins: jgallagher (john@moz-d5e8oc.hfc.comcastbusiness.net)
[14:29:44] *** Joins: bugweiserxc (Mibbit@moz-juv.9o3.252.72.IP)
[14:31:25] *** Quits: ytain (ytain@moz-44k.q8p.140.24.IP) (Quit: Textual IRC Client: www.textualapp.com)
[14:32:03] *** Quits: bugweiserxc (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[14:37:24] *** Quits: squiddy (squiddy@moz-md4.pm3.19.178.IP) (Quit: Leaving)
[14:37:33] *** Joins: mystor (mystor@moz-ldavpp.home3.cgocable.net)
[14:37:50] <mw> Manishearth: just saw your AST documentation PR -> super cool!
[14:38:10] *** Quits: sigma (sigma@moz-ohog4c.range86-135.btcentralplus.com) (Ping timeout: 121 seconds)
[14:39:10] *** Quits: ptalbot (ptalbot@moz-1gn7gb.eu0n.jcdj.0660.2001.IP) (Ping timeout: 121 seconds)
[14:49:52] <Manishearth> mw: thanks :)
[14:50:35] *** Joins: Rym_ (y@moz-859.d1r.39.217.IP)
[14:53:22] *** Joins: pauls (pauls@moz-e5p333.ccs.neu.edu)
[14:55:06] *** Quits: Rym_ (y@moz-859.d1r.39.217.IP) (Ping timeout: 121 seconds)
[14:55:56] *** Joins: squiddy (squiddy@moz-md4.pm3.19.178.IP)
[15:01:11] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[15:06:01] *** Joins: ^BR (br@moz-egk.dm6.194.78.IP)
[15:06:42] *** Quits: jdm (jdm@moz-mu9.06r.98.75.IP) (Quit: )
[15:14:41] *** sunfish-away is now known as sunfish
[15:28:43] *** Joins: munksgaard (munksgaard@moz-urnkl5.u.parknet.dk)
[15:30:52] *** Joins: jdm (jdm@moz-ggnn33.ckpj.s0pt.0450.2001.IP)
[15:34:18] *** Quits: Kxepal (Miranda@moz-bf65kn.pppoe.mtu-net.ru) (Ping timeout: 121 seconds)
[15:35:46] *** Joins: Kxepal (Miranda@moz-a6fhk9.pppoe.mtu-net.ru)
[15:37:03] *** Quits: c0170 (c0170@moz-bb29a4.cambridge.arm.com) (Ping timeout: 121 seconds)
[15:37:35] *** Joins: mib_3jir32 (Mibbit@moz-juv.9o3.252.72.IP)
[15:39:04] *** Quits: squiddy (squiddy@moz-md4.pm3.19.178.IP) (Quit: Leaving)
[15:42:48] <simukis> https://pastebin.mozilla.org/8826255 the stack of new thread is eye-popping
[15:43:20] <simukis> (oh right, forgot to optimise, dumb me)
[15:43:41] *** Joins: O01eg (o01eg@moz-vnl.it5.194.109.IP)
[15:43:43] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[15:44:01] *** Quits: pauls (pauls@moz-e5p333.ccs.neu.edu) (Connection closed)
[15:44:44] *** Joins: Rym_ (y@moz-859.d1r.39.217.IP)
[15:44:58] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[15:49:16] *** Quits: Rym_ (y@moz-859.d1r.39.217.IP) (Ping timeout: 121 seconds)
[15:51:00] *** Joins: pauls (pauls@moz-e5p333.ccs.neu.edu)
[15:51:29] *** Joins: c0170 (c0170@moz-4stj9o.cable.virginm.net)
[15:51:50] *** Quits: barosl (barosl@moz-7vg.qma.67.220.IP) (Quit: Leaving)
[15:53:13] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Client exited)
[15:54:51] *** Joins: barosl (barosl@moz-7vg.qma.67.220.IP)
[16:02:29] *** jdm is now known as jdm|f00ding
[16:05:02] *** Joins: sprang (sprang@moz-bll05b.zoominternet.net)
[16:06:25] *** Quits: mib_3jir32 (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[16:10:35] *** Quits: imperio (Mibbit@moz-aibeqg.fbx.proxad.net) (Quit: http://www.mibbit.com ajax IRC Client)
[16:17:35] <simukis> does thread_local! data run destructors?
[16:18:48] <arrrrrrr1> can thread_local have destructors?
[16:19:06] <simukis> arrrrrrr1: it can contain arbitrary structs
[16:19:20] <arrrrrrr1> odd
[16:19:24] <simukis> I’m wondering if destructors for those arbitrary structs will be run when the thread finishes
[16:19:35] <arrrrrrr1> just one way to find out
[16:23:32] *** Quits: munksgaard (munksgaard@moz-urnkl5.u.parknet.dk) (Ping timeout: 121 seconds)
[16:26:04] <arrrrrrr1> from the looks of it, it does
[16:26:22] <arrrrrrr1> on the other hand #[thread_local] probably doesn't
[16:26:54] <arrrrrrr1> simukis: thread_local! probably uses pthread functions which allow destructors
[16:28:40] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[16:29:23] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[16:30:41] *** Joins: Astrum|Lap (Astrum|Lap@moz-7enfbr.co.comcast.net)
[16:32:45] <kmc> acrichto: https://github.com/kmcallister/html5ever/tree/rustup
[16:32:48] <kmc> clone it and run ./scripts/travis-build.sh
[16:32:54] <klutzy> there're two ways of supporting thread local storage, dynamic/scoped one (pthread/win32 api) and static one (e.g. .tbss/.tdata for elf)
[16:33:15] <kmc> it will ICE building the examples; at least that's what happens here
[16:33:17] <klutzy> `thread_local!` is static
[16:33:47] <arrrrrrr1> it's the other way around
[16:34:07] <klutzy> and c++11's thread local semantic allows dtor (while gcc's __thread didn't), so we can implement it similar to c++11 way
[16:35:49] *** Joins: dinfuehr (dinfuehr@moz-oq92c2.highway.telekom.at)
[16:38:54] *** Joins: Rym_ (y@moz-859.d1r.39.217.IP)
[16:39:21] <acrichto> kmc: I'm hitting compile errors, perhaps rustc needs to be updated?
[16:41:10] <kmc> which errors?
[16:41:37] <kmc> did you grab the rustup branch? that should include everything needed to get as far as the ICE
[16:42:20] <acrichto> kmc: https://gist.github.com/alexcrichton/8196005c2bf5a5c61465
[16:42:24] <acrichto> I'm on the rustup branch
[16:42:33] <acrichto> rustc 1.0.0-nightly (30e1f9a1c 2015-03-14) (built 2015-03-15)
[16:43:01] <acrichto> kmc: overflow assertions should *not* be happening in our distributed compiler because it is optimized
[16:43:11] <acrichto> so if you're building a compiler from elsewhere it could be that overflow checks are leaking in
[16:43:23] <acrichto> which is to say that this is a real bug, but ensuring that debug assertions are turned off will paper over it for now
[16:43:25] *** Quits: Rym_ (y@moz-859.d1r.39.217.IP) (Ping timeout: 121 seconds)
[16:43:35] <kmc> i'm just building the compiler for get
[16:43:37] <kmc> from git*
[16:43:54] <acrichto> it depends how you configured it
[16:43:56] <kmc> maybe I will try the binary nightly
[16:44:00] <kmc> ./configure --enable-rpath
[16:44:01] <acrichto> e.g. if you have --enable-debug then it will have overflow checks
[16:44:30] <kmc> my rustc doesn't even have collections::str::StrExt
[16:44:38] <acrichto> hm it does look like it's the default
[16:44:44] <acrichto> -C debug-assertions=on
[16:44:53] <acrichto> it's --disable-debug apparently instead of --enable-debug
[16:45:01] * acrichto is always lost on those configure options
[16:46:36] <kmc> ohhhh... the default is optimizations + debug
[16:46:50] * acrichto is surprised
[16:51:43] *** jdm|f00ding is now known as jdm
[16:53:02] <mw> kmc, acrichto, in case you are talking about the arithmetic overflow error in astencode, I've been working on that:
[16:53:07] <mw> https://github.com/rust-lang/rust/issues/23115#issuecomment-82938811
[16:53:34] <kmc> cool
[16:53:40] <mw> I'm just now running tests on a fix, PR will follow today hopefully
[16:53:41] <kmc> acrichto: I still get the ICE with the nightly binary
[16:53:46] <kmc> though some of them are 'assertion failed: bpos.to_usize() >= mbc.pos.to_usize() + mbc.bytes'
[16:53:50] *** Joins: Rym_ (y@moz-859.d1r.39.217.IP)
[16:53:51] <kmc> but some of them are still the astencode overflow
[16:53:55] <kmc> mw: thanks!
[16:54:06] <acrichto> kmc: what nightly are you using?
[16:56:00] <kmc> rustc 1.0.0-nightly (30e1f9a1c 2015-03-14) (built 2015-03-15)
[16:57:01] <mrmonday> So I'm writing a syntax extension - is there an equivilant to ecx.parse_item() which returns an option/doesn't print error messages? glancing over the source it seems like I need to set up my own parse session to do this?
[16:57:19] <mrmonday> (where I'm looking - https://github.com/rust-lang/rust/blob/master/src/libsyntax/ext/quote.rs#L352)
[16:58:38] <acrichto> kmc: it may be a platform specific then at that point, we're using the exact same compilers (I'm on ubuntu)
[16:59:12] *** Parts: marsel (user@moz-b9s.mg0.180.94.IP) ("ERC Version 5.3 (IRC client for Emacs)")
[16:59:23] <kmc> hopefully mw's fix will do it
[16:59:35] <kmc> mw: is there a branch I can test?
[16:59:39] *** Joins: marsel (user@moz-b9s.mg0.180.94.IP)
[17:06:04] *** Quits: killercup (killercup@moz-4udt1b.dip0.t-ipconnect.de) (Quit: My Mac has gone to sleep. ZZZzzz…)
[17:06:33] <mrmonday> is there a null implementation of syntax::diagnostic::Emitter somewhere, or do I need to roll my own?
[17:07:54] *** Joins: brson (brson@moz-cfhap5.mtv2.mozilla.com)
[17:07:54] *** ChanServ sets mode: +o brson
[17:08:46] <mw> kmc: not yet
[17:09:57] <mw> kmc: now there is: https://github.com/michaelwoerister/rust/tree/span-artihmetic-overflow-bug
[17:12:36] <arrrrrrr1> nmatsakis: ping
[17:12:50] <eddyb> mrmonday: why null?
[17:14:51] <kmc> artihmetic >_>
[17:16:55] *** Joins: gsingh93 (gulshan@moz-3fu4am.mi.comcast.net)
[17:17:03] *** Joins: blaenk_ (blaenkdenum@moz-em283u.res.rr.com)
[17:17:47] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Ping timeout: 121 seconds)
[17:18:05] <mw> :)
[17:22:33] *** Joins: munksgaard (munksgaard@moz-urnkl5.u.parknet.dk)
[17:23:11] <nmatsakis> arrrrrrr1: pong
[17:23:42] <arrrrrrr1> nmatsakis: >The appeal of one of pnkfelix's hybrids seems to be that you give up very little -- you can get today's semantics by adding a mask
[17:23:48] <arrrrrrr1> also works with the strict verson
[17:24:03] <arrrrrrr1> in the meantime I've already replied on the board
[17:24:18] *** Joins: scialex (scialex@moz-j5mi8i.cs.brown.edu)
[17:25:12] <acrichto> restarting buildbot
[17:27:25] <mrmonday> eddyb: I want to compile a chunk of code without it outputting anything
[17:28:04] <eddyb> mrmonday: not even dump errors on failure?
[17:28:09] <mrmonday> correct
[17:29:13] <eddyb> haven't seen anything like that around, sorry
[17:30:24] <brson> huon: nice blog post. i didn't realize homu supported travis
[17:30:49] <brson> barosl: have you considered how homu might support multiple integration branches?
[17:31:03] <mrmonday> I'm generating code which may or may not be correct, depending on the types of other items - since I'm generating the code in a Decorator I don't have access to type information, so can't guarantee the code I'm generating is correct... but there's no point spilling errors about code the user didn't write back to them - I know the possible causes of the errors though, so if compilation fails I can output a relevant error message instead
[17:31:06] <brson> i ... haven't put much thought into it, but we need automation to support beta integration w/in 3 weeks!
[17:32:12] <mrmonday> or, at least, I would be able to if I could figure out why my NullEmitter that I just wrote doesn't seem to be in use...
[17:32:17] <brson> acrichto: besides updating rustup.sh, one of the final things i intend to do is get integration working for the beta branch. do you agree that's critical for the beta?
[17:33:00] <acrichto> brson: hm, while important, I'm not sure that it's necessarily critical to get it up and running for the beta cycle
[17:33:01] *** Quits: munksgaard (munksgaard@moz-urnkl5.u.parknet.dk) (Ping timeout: 121 seconds)
[17:33:21] <acrichto> it would be nice to get a dry run of updating-the-beta, but I'm not sure that we'll see a mass migration towards the beta instead of the nightly
[17:33:45] *** Joins: summerlight_ (summerlight@moz-99k.2mj.130.121.IP)
[17:35:03] <brson> acrichto: you suspect we will not fix bugs in the first beta?
[17:35:21] <acrichto> we'll definitely find bugs, but if we fix them I'm not sure that anyone will notice
[17:35:33] <acrichto> I would consider updates to the beta during the beta cycle to be a dry run for the real cycles
[17:35:56] <acrichto> it depends though on how strongly we want to push the recommendation to use beta vs nightly though
[17:36:43] *** Quits: summerlight (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[17:36:49] <brson> if we don't have any automatic integration istm like we at least need some way to manually test beta on all platforms. I guess that can be done with a manual push to 'auto'
[17:37:10] <brson> we could wait and see how much manual integration and backporting we're doing before automating it
[17:37:40] <brson> i wonder how homu feels about manual pushes to auto
[17:38:24] <acrichto> I think homu would actually handle it well
[17:38:35] <acrichto> b/c it used to be that the 'try' command pushed another commit to beta
[17:38:41] <acrichto> so homu knows which build is which on the auto builders
[17:40:06] *** Joins: sigma (sigma@moz-ohog4c.range86-135.btcentralplus.com)
[17:40:43] *** Quits: Jesin (Jesin@moz-i7sbhm.res.Lehigh.EDU) (Quit: Leaving)
[17:43:35] *** Parts: mw (mw@moz-f1s7jp.vie.surfer.at) ("")
[17:43:54] *** Joins: Jesin (Jesin@moz-i7sbhm.res.Lehigh.EDU)
[17:45:05] <acrichto> brson: I'm pretty worried about these mac builders, we haven't had a new nightly in days because of them now
[17:45:33] <acrichto> brson: do you know if it'd be all that much effort to set up builders on macstadium?
[17:45:47] <acrichto> e.g. what the major blocker there is
[17:48:18] <kmc> acrichto: mw's branch fixes it; now I have to deal with #23110 which seems totally separate
[17:49:20] <acrichto> kmc: oh nice!
[17:49:23] <pnkfelix> arrrrrrr1: how does adding a mask help with iN <-> uN conversion?
[17:50:25] <arrrrrrr1> pnkfelix: it doesn't.
[17:50:51] <arrrrrrr1> but you don't want to do that anyway
[17:51:13] <kmc> fortunately the workaround is very simple :)
[17:52:38] <arrrrrrr1> there are already lots of easy to discover bugs in the stdlib that are caused by wrong as casts
[17:54:18] *** Quits: scialex (scialex@moz-j5mi8i.cs.brown.edu) (Quit: Leaving)
[17:56:55] *** Joins: killercup (killercup@moz-edmf2j.dip0.t-ipconnect.de)
[17:58:03] *** Joins: avikpal (avikpal@moz-dv3.420.194.117.IP)
[17:59:11] *** Quits: dinfuehr (dinfuehr@moz-oq92c2.highway.telekom.at) (Connection closed)
[17:59:32] <brson> acrichto: I believe the only blockers are getting somebody to commit the money and then implementing it
[17:59:41] <brson> acrichto: both 3 and 4 are disappearing?
[17:59:44] <brson> what about 5 and 6?
[18:00:30] <acrichto> brson: 5/6 are always around, 4 is basically permanently gone, and 3 is having lots of trouble staying online for more than an hour at a time
[18:00:37] <acrichto> but we only build snaps on 3/4
[18:00:49] <acrichto> so we're only getting snaps out of 3 which are getting timed out recently
[18:00:59] <acrichto> as in mac3 disappears before the build finishes
[18:01:36] <Gankro> acrichto: so foo-bar == foo_bar in cargo is basically guarnateed?
[18:02:02] <acrichto> Gankro: with that RFC implemented, yeah
[18:02:18] <Gankro> acrichto: Oh the RFC was accepted proper?
[18:02:48] <acrichto> not yet
[18:02:51] <acrichto> but soon I believe
[18:02:54] <brson> acrichto: is next week too late to start working on transitioning to macstadium?
[18:03:04] <Gankro> acrichto: Preferred convention is then to use dashes?
[18:03:22] <brson> i thought we had a nightly recently
[18:03:34] <acrichto> brson: I would suspect that it wouldn't be too bad as it's laregely just installing all the right software (I don't mind doing it in spare time), there's not necessarily a need to accelerate plans for it I guess
[18:03:46] <acrichto> brson: I just get uncomfortable seeing all these failed builds on mac3 and having no clue why
[18:03:54] <acrichto> Gankro: with package names on crates.io, yeah
[18:04:05] *** Joins: mw (mw@moz-f1s7jp.vie.surfer.at)
[18:04:09] <Gankro> acrichto: Cool
[18:04:25] *** Quits: blaenk_ (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[18:04:58] <brson> acrichto: i'll ask for the money today
[18:05:02] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[18:05:06] <acrichto> brson: ok!
[18:05:21] <acrichto> brson: also btw I'm hoping that https://github.com/rust-lang/rust-buildbot/commit/38bee8e5d07dc145b506dbd26beda6946d50423a will fix the "I triggered a try build but spawned 200 builds" problem
[18:05:47] <brson> acrichto: crossing my fingers
[18:08:03] *** Joins: nrc (nrc@moz-4bhi2i.xtra.co.nz)
[18:08:03] *** ChanServ sets mode: +o nrc
[18:08:13] *** Quits: rovar (rovar@moz-m2j7h0.dyn.optonline.net) (NickServ (RECOVER command used by rovar_))
[18:08:14] *** rovar_ is now known as rovar
[18:08:26] *** Joins: rovar_ (rovar@moz-m2j7h0.dyn.optonline.net)
[18:09:15] *** Quits: summerlight_ (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[18:09:18] <mw> kmc: It works for you? Cool!
[18:10:00] <mw> kmc: It did for me too, but I'm having trouble writing a test case that triggers the bug :/
[18:12:00] *** Quits: Rym_ (y@moz-859.d1r.39.217.IP) (Ping timeout: 121 seconds)
[18:12:06] *** Quits: nrc (nrc@moz-4bhi2i.xtra.co.nz) (Ping timeout: 121 seconds)
[18:13:18] *** Joins: nrc (nrc@moz-4bhi2i.xtra.co.nz)
[18:13:18] *** ChanServ sets mode: +o nrc
[18:13:52] *** Joins: Rym_ (y@moz-859.d1r.39.217.IP)
[18:15:25] *** Joins: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se)
[18:15:58] *** Joins: evanfarrar (evanfarrar@moz-3vf.glc.17.89.IP)
[18:16:05] <mrmonday> hrrm, I can't make libsyntax not print to stdout
[18:16:16] <mrmonday> it seems to ignore the null emitter I created
[18:19:30] <aturon> acrichto: brson: hm, so i am hoping we can get a significant group running on beta, and that much of the work we'll be doing during the beta will be polish/bugfixing that could be pushed to the beta branch
[18:20:47] <acrichto> aturon: in that sense I would consider it more pressing to get beta automation in place
[18:21:12] <aturon> acrichto: do you agree with the goal? basically, my concern is that the beta branch is what becomes 1.0, so testing and polish there is paramount
[18:22:28] *** Quits: zmack (zmack@moz-b26i0b.home.aster.pl) (Connection closed)
[18:22:44] *** Quits: rustical (dida@moz-55rvi2.dclient.hispeed.ch) (Ping timeout: 121 seconds)
[18:22:49] <acrichto> aturon: yeah I do agree with the goal, and it makes sense to me :)
[18:23:06] *** Quits: jdm (jdm@moz-ggnn33.ckpj.s0pt.0450.2001.IP) (Connection closed)
[18:23:31] *** Joins: jdm (jdm@moz-ggnn33.ckpj.s0pt.0450.2001.IP)
[18:23:33] <aturon> acrichto: btw, i updated the stability schedule and assigned a couple more things to myself explicitly, just want to check that none of those are things you're working on
[18:24:00] * acrichto looks
[18:24:13] <acrichto> aturon: lgtm
[18:24:25] <acrichto> I'm trawling through deps trying to remove unstable apis
[18:24:38] *** Quits: ^BR (br@moz-egk.dm6.194.78.IP) (Ping timeout: 121 seconds)
[18:25:05] <aturon> acrichto: awesome, thanks for that work! once these explicit checkmarks are done, we should do a milestone triage for the stragglers
[18:25:37] <acrichto> indeed
[18:25:45] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[18:25:45] *** ChanServ sets mode: +o pcwalton
[18:28:11] *** Quits: {-}grant ({0}grant@moz-63ubas.in.charter.com) (Ping timeout: 121 seconds)
[18:28:12] *** Joins: ^BR (br@moz-egk.dm6.194.78.IP)
[18:28:43] *** Quits: {-}grant- ({0}grant@moz-63ubas.in.charter.com) (Ping timeout: 121 seconds)
[18:30:06] <sfackler> aturon: speaking of stability, what's the deal with duration?
[18:30:36] *** Joins: dcb (textual@moz-i0id0o.ca.comcast.net)
[18:30:45] *** Quits: evanfarrar (evanfarrar@moz-3vf.glc.17.89.IP) (Connection closed)
[18:30:51] *** Joins: evanfarrar (evanfarrar@moz-3vf.glc.17.89.IP)
[18:30:53] <aturon> sfackler: we're exploring several options; wycats is starting work on a reform-style RFC, but acrichto and are working on immediate-term plans for stabilizing a very small portion of its API for use in timeouts, etc
[18:30:54] *** Quits: ^BR (br@moz-egk.dm6.194.78.IP) (Connection closed)
[18:31:12] *** Joins: ^BR (br@moz-egk.dm6.194.78.IP)
[18:31:13] <sfackler> ok
[18:31:31] <aturon> sfackler: i would very much like to have timeouts stable for 1.0 on sockets and condvars
[18:31:54] <dcb> Could anyone point me to the file that contains the implementation of std::io::Read for &[u8]?
[18:32:39] <sfackler> dcb: https://github.com/rust-lang/rust/blob/master/src/libstd/io/impls.rs#L106-L115
[18:33:02] <dcb> sfackler: perfect, thanks
[18:33:51] *** Quits: ^BR (br@moz-egk.dm6.194.78.IP) (Connection closed)
[18:34:13] *** Joins: ^BR (br@moz-egk.dm6.194.78.IP)
[18:34:21] *** Joins: srh (User@moz-gk35n7.hfc.comcastbusiness.net)
[18:37:06] *** Quits: evanfarrar (evanfarrar@moz-3vf.glc.17.89.IP) (Connection closed)
[18:37:08] *** Quits: dcb (textual@moz-i0id0o.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[18:37:18] *** Joins: evanfarrar (evanfarrar@moz-3vf.glc.17.89.IP)
[18:38:37] *** Quits: larhat (Adium@moz-8v4.af0.232.213.IP) (Quit: Leaving.)
[18:39:37] *** Joins: ^BR_ (br@moz-egk.dm6.194.78.IP)
[18:39:41] *** Quits: ^BR (br@moz-egk.dm6.194.78.IP) (Connection closed)
[18:39:41] *** ^BR_ is now known as ^BR
[18:40:03] <acrichto> aturon: r? https://github.com/rust-lang/rust/pull/23434
[18:46:29] *** Joins: ^BR_ (br@moz-egk.dm6.194.78.IP)
[18:46:52] *** Quits: ^BR (br@moz-egk.dm6.194.78.IP) (Connection closed)
[18:46:53] *** ^BR_ is now known as ^BR
[18:47:24] *** Quits: evanfarrar (evanfarrar@moz-3vf.glc.17.89.IP) (Connection closed)
[18:47:44] *** Quits: mystor (mystor@moz-ldavpp.home3.cgocable.net) (Connection closed)
[18:49:32] *** Joins: dcb (textual@moz-j72nfe.ca.comcast.net)
[18:51:57] *** Joins: ^BR_ (br@moz-egk.dm6.194.78.IP)
[18:52:09] *** Quits: ^BR (br@moz-egk.dm6.194.78.IP) (Connection closed)
[18:52:09] *** ^BR_ is now known as ^BR
[18:52:38] <barosl> brson, So there needs to be multiple integration targets, e.g. master, beta, alpha, and so on?
[18:54:28] <brson> burntsushi: https://www.reddit.com/r/rust/comments/2zf8ur/rust_infrastructure_can_be_your_infrastructure/cpj1o0n
[18:54:37] <barosl> How do we choose a target branch for an approved PR?
[18:55:23] <brson> barosl: the master, beta, and potentially stable branches will need integration
[18:55:34] <brson> barosl: i *think* we should integrate with github's pr target branches
[18:55:47] <brson> so pr's against master integrate to master, pr's against beta integrate to beta
[18:55:49] *** Quits: Rym_ (y@moz-859.d1r.39.217.IP) (Ping timeout: 121 seconds)
[18:55:56] <barosl> Oh, yeah. Each PR already has a target
[18:55:58] <brson> the problem with that though is that people will not realize to pr against master
[18:56:16] <brson> but perhaps we can wait to see if that's a problem
[18:56:33] <barosl> Huh? Won't master be the default target in the future?
[18:56:46] <barosl> Why will people not recognize it as a default target?
[18:57:00] <brson> sorry, 'pr against *beta*'
[18:57:06] <barosl> Ah, that makes sense
[18:57:29] <brson> there's also the q about how to forward port beta patches to master. beta always needs to be merged back into master. should we do it manually?
[18:58:00] <steveklabnik> brson: sounds like a good wycats question, see what they do in ember
[18:58:03] <brson> i'm assuming that the process goes something like, 'pr against beta' -> test and merge into beta -> merge beta into master
[18:58:19] <barosl> That sounds complicated! What do other projects do at such situations?
[18:58:29] <acrichto> sfackler: are you ok with the atexit strategy for liblog? (vs rt::at_exit)
[18:58:41] <Manishearth> barosl: some projects ask for a PR to be made along with a backport PR
[18:58:48] <brson> barosl: not sure. i can ask in #releng
[18:58:50] <brson> or you can
[18:59:14] <Manishearth> some merge to the release branches and then to trunk later
[18:59:33] <Manishearth> I believe firefox does something similar to backporting
[18:59:35] <Manishearth> can't remember
[18:59:36] *** Quits: bleibig (bleibig@moz-btk.gm4.170.73.IP) (Quit: Textual IRC Client: www.textualapp.com)
[19:00:19] <barosl> That's interesting, because I've always imaged that they would merge things into the master first, and then backport it into the beta or alpha branches. Because master is meant to be more unstable
[19:01:08] <brson> barosl: if you do it that way then you have to cherry-pick parts of master into beta and create two different histories
[19:01:16] <brson> barosl: if you merge beta into master there's one history
[19:01:25] <Manishearth> barosl: beta predates master
[19:01:30] <barosl> Hmm, I see
[19:01:39] <Manishearth> git checkotu beta; git merge master --> all of master goes onto beta
[19:01:53] <Manishearth> git checkout master; git merge beta --> only the new stuff in beta goes onto master
[19:01:59] *** Joins: evanfarrar (evanfarrar@moz-3vf.glc.17.89.IP)
[19:02:32] *** Joins: ^BR_ (br@moz-egk.dm6.194.78.IP)
[19:02:33] *** Quits: ^BR (br@moz-egk.dm6.194.78.IP) (Connection closed)
[19:02:33] *** ^BR_ is now known as ^BR
[19:02:39] <barosl> Yeah, that makes sense. I thought of something like cherry-picking, but the method you mentioned seems to be more reliable
[19:02:40] *** Quits: evanfarrar (evanfarrar@moz-3vf.glc.17.89.IP) (Connection closed)
[19:02:57] <Manishearth> cherry picking works fine too
[19:04:24] *** Quits: aepsil0n (eduard@moz-s4dovi.73sq.ctqi.8071.2a02.IP) (Connection closed)
[19:07:40] *** Joins: ^BR_ (br@moz-egk.dm6.194.78.IP)
[19:07:55] *** Quits: ^BR (br@moz-egk.dm6.194.78.IP) (Connection closed)
[19:07:55] *** ^BR_ is now known as ^BR
[19:09:56] *** Joins: dinfuehr (dinfuehr@moz-oq92c2.highway.telekom.at)
[19:10:31] *** Joins: mystor (mystor@moz-ldavpp.home3.cgocable.net)
[19:13:59] *** Quits: dinfuehr (dinfuehr@moz-oq92c2.highway.telekom.at) (Ping timeout: 121 seconds)
[19:14:06] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[19:17:12] <Manishearth> steveklabnik: the linebreak only needs to be there for the first one right>
[19:17:53] <steveklabnik> it depends on the formatting you want
[19:17:58] <steveklabnik> it looked like they were paragraphs to me
[19:18:02] <steveklabnik> but if not, it's not a big deal.
[19:19:02] <Manishearth> k
[19:19:04] <Manishearth> alright
[19:19:13] <Manishearth> unfortunately, it's in the rollup already :/
[19:19:16] <Manishearth> and being tested
[19:19:28] <Manishearth> but I could just cherrypick the fixups in a different rollup
[19:22:11] <steveklabnik> i'm not super stressing it as libsytnax won't be stable for a long time
[19:22:15] <steveklabnik> and it's still a big improvmeent
[19:22:20] <steveklabnik> i didn't realize that it had gotten the r+ already
[19:22:37] <simukis> 12 files changed, 429 insertions(+), 804 deletions(-) so far 😉
[19:24:19] <simukis> http://doc.rust-lang.org/std/ptr/index.html#functions somebody broke rustdoc again
[19:25:42] *** Quits: ^BR (br@moz-egk.dm6.194.78.IP) (Ping timeout: 121 seconds)
[19:26:00] <Manishearth> steveklabnik: update the PR?
[19:26:08] <Manishearth> *I updated the PR
[19:26:16] <Manishearth> yeah, huon had r=me'd it
[19:26:43] <steveklabnik> yehayeah, iirc a fix is in
[19:29:54] *** Quits: gavin (gavin@moz-no0.93r.245.63.IP) (Quit: Reconnecting)
[19:30:14] <Manishearth> steveklabnik: a fix is i nthe queue, though it doesn't seem to like mac
[19:30:17] *** Joins: gavin (gavin@moz-no0.93r.245.63.IP)
[19:30:30] *** Joins: srh_ (User@moz-gk35n7.hfc.comcastbusiness.net)
[19:30:33] <steveklabnik> :)
[19:30:42] <steveklabnik> anyway, even though i had those nits, thanks for doing that :)
[19:30:46] <steveklabnik> sorry to be a small pain
[19:30:58] <Manishearth> no problem :)(
[19:31:02] <Manishearth> * :)
[19:33:41] *** Joins: ^BR (br@moz-egk.dm6.194.78.IP)
[19:33:55] *** Quits: srh (User@moz-gk35n7.hfc.comcastbusiness.net) (Ping timeout: 121 seconds)
[19:36:19] *** Joins: Tobba|Laptop (Tobba@moz-o13d22.bredband.telia.com)
[19:37:43] <sfackler> acrichto: yeah, seems fine to me
[19:38:01] <sfackler> acrichto: the method doesn't really matter too much as long as we make an attempt to let the logger drop
[19:38:51] *** Joins: Rym_ (y@moz-859.d1r.39.217.IP)
[19:39:48] *** Quits: ^BR (br@moz-egk.dm6.194.78.IP) (Ping timeout: 121 seconds)
[19:40:29] *** Quits: Tobba|Laptop (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[19:42:23] *** Joins: dov (dov@moz-qqr.2do.74.80.IP)
[19:43:21] *** Quits: Rym_ (y@moz-859.d1r.39.217.IP) (Ping timeout: 121 seconds)
[19:47:44] *** Quits: Kxepal (Miranda@moz-a6fhk9.pppoe.mtu-net.ru) (Connection closed)
[19:52:00] *** Joins: Kxepal (Miranda@moz-a6fhk9.pppoe.mtu-net.ru)
[19:53:56] *** Joins: Rym_ (y@moz-859.d1r.39.217.IP)
[19:55:52] *** Joins: summerlight_ (summerlight@moz-99k.2mj.130.121.IP)
[19:57:56] *** Quits: Nekit1234007 (nekit@moz-2vpc3e.broadband.iskratelecom.ru) (Quit: leaving)
[19:58:28] *** Quits: Rym_ (y@moz-859.d1r.39.217.IP) (Ping timeout: 121 seconds)
[20:04:07] *** Quits: sigma (sigma@moz-ohog4c.range86-135.btcentralplus.com) (Ping timeout: 121 seconds)
[20:07:09] * simukis not sure whether he dislikes cross-platform rust or cross-platform C moer
[20:07:13] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[20:07:13] *** ChanServ sets mode: +o pcwalton
[20:08:15] *** Quits: gavin (gavin@moz-no0.93r.245.63.IP) (Changing host)
[20:08:15] *** Joins: gavin (gavin@irc.mozilla.org)
[20:12:00] *** Joins: reem (reem@moz-dh1bmk.coob.q2h1.0009.2601.IP)
[20:14:28] *** Joins: scott (uid25790@moz-e5ok1n.brockwell.irccloud.com)
[20:16:32] *** Quits: avikpal (avikpal@moz-dv3.420.194.117.IP) (Connection closed)
[20:18:14] <nrc> brson, barosl: in Firefox we landed on master first, a big patch would have to survive use in nightly for 'a while' before a backport was accepted to earlier branches (aurora, beta, release). The bigger the patch, the longer it would have to marinate on nightly. Obvs, chemspill stuff got fast tracked
[20:18:43] <nrc> in quick moving code it was sometimes like making the patch 3 times from scratch :-s
[20:18:49] *** Joins: avikpal (avikpal@moz-dv3.420.194.117.IP)
[20:19:52] <cmr> The way I thought I saw it happening was code would be merged into master, and every three months the current state of master would be taken and pushed onto the train, and not being changed afterwards (being supported by a robust regression suite, no bugs can be introduced!)
[20:19:58] *** Quits: reem (reem@moz-dh1bmk.coob.q2h1.0009.2601.IP) (Connection closed)
[20:20:14] <nrc> cmr: yes in general, I'm talking only about the special cases
[20:20:30] <nrc> lol at "no bugs"
[20:20:42] <cmr> :P
[20:20:48] <nrc> I would push to aurora about once every 1-2 months
[20:21:00] <nrc> I only pushed to release once in two years and it was terrifying
[20:21:12] *** Quits: ctennis (ctennis@moz-su6.e72.137.99.IP) (Quit: Leaving...)
[20:21:48] <brson> nrc: thanks. one adv of going to master first is that you can be sure the fix *can* merge into master
[20:22:08] <brson> if you merge to beta first, you may subsequently be unable to merge into master
[20:22:37] <brson> interesting that fx creates diverging branches for each beta
[20:22:58] <brson> i guess it doesn't matter since the final stable will get tagged to keep track of it
[20:23:39] <nrc> well, they aren't actually branches they are completely different repos
[20:23:58] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[20:23:59] <nrc> merging is 'interesting'
[20:24:11] *** Quits: avikpal (avikpal@moz-dv3.420.194.117.IP) (Connection closed)
[20:24:17] <nrc> but, mostly at least, no one works off anything but master
[20:26:37] *** Joins: Rym_ (y@moz-859.d1r.39.217.IP)
[20:26:57] *** Quits: Kxepal (Miranda@moz-a6fhk9.pppoe.mtu-net.ru) (Connection closed)
[20:27:17] *** Quits: srh_ (User@moz-gk35n7.hfc.comcastbusiness.net) (Quit: Leaving)
[20:30:33] *** Joins: Kxepal (Miranda@moz-a6fhk9.pppoe.mtu-net.ru)
[20:30:59] *** Joins: ctennis (ctennis@moz-vcpg3c.in.comcast.net)
[20:33:09] *** Quits: Kxepal (Miranda@moz-a6fhk9.pppoe.mtu-net.ru) (Client exited)
[20:33:32] *** Joins: Kxepal (Miranda@moz-a6fhk9.pppoe.mtu-net.ru)
[20:36:50] *** Joins: {-}grant ({0}grant@moz-63ubas.in.charter.com)
[20:36:51] *** Joins: {-}grant- ({0}grant@moz-63ubas.in.charter.com)
[20:39:12] *** Quits: {-}grant ({0}grant@moz-63ubas.in.charter.com) (Connection closed)
[20:39:12] *** Quits: {-}grant- ({0}grant@moz-63ubas.in.charter.com) (Connection closed)
[20:40:29] *** Quits: kushal (kdas@moz-dbin9j.202.sitibroadband.in) (Quit: Leaving)
[20:44:55] *** Quits: jdm (jdm@moz-ggnn33.ckpj.s0pt.0450.2001.IP) (Connection closed)
[20:45:02] *** Quits: semarie (semarie@moz-72p.nhl.10.176.IP) (A TLS packet with unexpected length was received.)
[20:45:20] *** Joins: jdm (jdm@moz-i5m.05u.207.66.IP)
[20:47:09] <WindowsBunny> so would we have nightly betas?
[20:47:26] <WindowsBunny> or would we do weeklies?
[20:50:30] *** Quits: jgallagher (john@moz-d5e8oc.hfc.comcastbusiness.net) (Client exited)
[20:53:22] *** Quits: Murarth (Murarth@moz-c6ubhh.phnx.qwest.net) (Ping timeout: 121 seconds)
[20:55:03] *** Joins: Murarth (Murarth@moz-12ajc1.phnx.qwest.net)
[20:55:48] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[20:58:39] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[20:58:49] *** Quits: kmcguire_ (kmcguire@moz-pg1gb9.biz.rr.com) (Connection closed)
[20:59:42] *** Joins: kmcguire_ (kmcguire@moz-pg1gb9.biz.rr.com)
[21:00:46] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Client exited)
[21:01:25] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[21:01:54] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Client exited)
[21:02:32] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[21:03:23] <brson> WindowsBunny: weekly-ish is most likely
[21:05:21] *** Quits: eibwen (eibwen@moz-eknsl2.dip0.t-ipconnect.de) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[21:05:28] <WindowsBunny> so will homu be updated to allow specifying that a PR should be backported to the beta channel?
[21:05:30] *** Joins: eibwen (eibwen@moz-eknsl2.dip0.t-ipconnect.de)
[21:05:42] <WindowsBunny> Or will someone have to merge them manually?
[21:10:12] <wycats> brson: steveklabnik we do the opposite
[21:10:17] <wycats> we land everything on master
[21:10:25] <wycats> and some commits are [BUGFIX beta]
[21:10:28] <wycats> and if they pass the tests
[21:10:33] <wycats> they get automatically cherry-picked
[21:10:37] <wycats> (onto the beta branch)
[21:10:43] <wycats> we also have rare [BUGFIX release]
[21:13:09] <steveklabnik> interesting
[21:13:16] <steveklabnik> that seems better to me
[21:17:31] <reem> me too, but it concerns me that we will have to instruct people to put things in their commit messages, whereas right now we can control the whole process via @bors commands. 
[21:17:56] <steveklabnik> yeah, i'd imagine @bors: r+ beta or something, like we do with rollup
[21:19:42] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[21:20:34] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[21:21:36] *** Quits: bjz (bjz@moz-puppgq.tpgi.com.au) (Quit: My Mac has gone to sleep. ZZZzzz…)
[21:22:50] *** Quits: dov (dov@moz-qqr.2do.74.80.IP) (Client exited)
[21:23:13] *** Joins: zmack (zmack@moz-4b0.o8l.26.188.IP)
[21:23:40] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[21:27:15] *** Quits: zmack (zmack@moz-4b0.o8l.26.188.IP) (Ping timeout: 121 seconds)
[21:28:20] *** Joins: violaceae (violaceae@moz-7uq2fc.u4is.n1v0.0007.2601.IP)
[21:28:30] *** Quits: joneshf-laptop (joneshf@moz-l4h.b5s.208.98.IP) (Connection closed)
[21:29:11] *** Joins: joneshf-laptop (joneshf@moz-l4h.b5s.208.98.IP)
[21:29:28] *** Joins: reem (reem@moz-fc2p47.coob.q2h1.0009.2601.IP)
[21:30:12] *** Parts: mw (mw@moz-f1s7jp.vie.surfer.at) ("")
[21:30:47] <nrc> for Firefox you need approval from a sherrif to land on older branches than master. That is probably overkill for Rust, but there is merit in not making it too easy to land on beta, etc. - programmers always think their fixes are important and want to land them on beta, but that decreases stability
[21:33:32] *** Quits: reem (reem@moz-fc2p47.coob.q2h1.0009.2601.IP) (Ping timeout: 121 seconds)
[21:34:20] <wycats> instructing people to put things in their commits is devilishly easy
[21:34:39] <wycats> http://emberjs.com/guides/contributing/adding-new-features/
[21:34:48] <wycats> we just triage and point people to ^^
[21:34:51] <wycats> and people get used to it
[21:34:57] <wycats> it hasn't proven to be a big issue in practice
[21:35:03] <wycats> and the commit messages are very useful
[21:35:15] <wycats> we can scan commits to see what things have happened very effectively
[21:36:04] <nrc> wycats: do you have issues with stability? My worry is that such an easy system makes people trigger happy about landing on beta and you end up with churn on what should a stable channel
[21:36:16] <nrc> *should be
[21:36:28] <wycats> nrc: someone on the core team has to approve backports
[21:36:35] <wycats> before merging the PR
[21:36:42] <wycats> it's a pretty light process
[21:36:54] <wycats> anyone with triage rights can decide
[21:37:09] <wycats> http://emberjs.com/guides/contributing/adding-new-features/
[21:37:11] <wycats> whoops
[21:37:20] *** Quits: dcb (textual@moz-j72nfe.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[21:37:21] <wycats> https://github.com/emberjs/ember.js/commits/master
[21:37:26] <wycats> look at BUGFIX beta
[21:37:33] <wycats> most are initiated by core team members to backport deprecations
[21:40:08] <nrc> ah right, so its not just a commit flag it is commit flag + approval, that makes sense
[21:41:19] *** Joins: dov (anonymous@moz-qqr.2do.74.80.IP)
[21:41:58] *** Parts: dov (anonymous@moz-qqr.2do.74.80.IP) ()
[21:44:57] *** Joins: njn (chatzilla@moz-gok.4b2.214.203.IP)
[21:45:58] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Connection closed)
[21:54:36] *** nrc is now known as nrc|afk
[21:55:56] *** Quits: rovar_ (rovar@moz-m2j7h0.dyn.optonline.net) (Ping timeout: 121 seconds)
[21:55:58] *** Quits: _rovar_ (rovar@moz-m2j7h0.dyn.optonline.net) (Ping timeout: 121 seconds)
[21:56:15] *** Joins: rovar_ (rovar@moz-m2j7h0.dyn.optonline.net)
[22:02:40] *** Joins: dinfuehr (dinfuehr@moz-oq92c2.highway.telekom.at)
[22:06:35] *** Quits: Rym_ (y@moz-859.d1r.39.217.IP) (Ping timeout: 121 seconds)
[22:06:35] *** Joins: njn_ (chatzilla@moz-sqinim.iinet.net.au)
[22:08:26] *** Joins: _rovar_ (rovar@moz-m2j7h0.dyn.optonline.net)
[22:08:44] *** Quits: njn (chatzilla@moz-gok.4b2.214.203.IP) (Ping timeout: 121 seconds)
[22:08:53] *** njn_ is now known as njn
[22:11:05] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[22:12:25] *** Joins: circeuser ({0}grant@moz-63ubas.in.charter.com)
[22:13:22] *** Quits: circeuser ({0}grant@moz-63ubas.in.charter.com) (Connection closed)
[22:16:39] *** Quits: killercup (killercup@moz-edmf2j.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[22:17:28] *** Joins: {-}grant ({0}grant@moz-63ubas.in.charter.com)
[22:18:06] *** Quits: violaceae (violaceae@moz-7uq2fc.u4is.n1v0.0007.2601.IP) (Quit: Leaving)
[22:18:28] *** Quits: mystor (mystor@moz-ldavpp.home3.cgocable.net) (Connection closed)
[22:19:54] *** Joins: mystor (mystor@moz-ldavpp.home3.cgocable.net)
[22:20:38] *** Quits: {-}grant ({0}grant@moz-63ubas.in.charter.com) (Connection closed)
[22:24:00] *** Quits: mystor (mystor@moz-ldavpp.home3.cgocable.net) (Ping timeout: 121 seconds)
[22:24:01] *** Joins: circeuser ({0}grant@moz-63ubas.in.charter.com)
[22:24:03] *** Quits: circeuser ({0}grant@moz-63ubas.in.charter.com) (Connection closed)
[22:26:46] *** Quits: Astrum|Lap (Astrum|Lap@moz-7enfbr.co.comcast.net) (Client exited)
[22:34:14] *** Quits: scott (uid25790@moz-e5ok1n.brockwell.irccloud.com) (Quit: Connection closed for inactivity)
[22:37:47] *** Quits: jdm (jdm@moz-i5m.05u.207.66.IP) (Quit: )
[22:38:06] *** Joins: {-}grant ({0}grant@moz-63ubas.in.charter.com)
[22:40:12] *** Joins: Rym_ (y@moz-859.d1r.39.217.IP)
[22:42:20] *** Quits: Murarth (Murarth@moz-12ajc1.phnx.qwest.net) (Quit: Mani Mani is always Mani Mani at Mani Mani with all Mani Mani Mani)
[22:44:55] *** Joins: Murarth (Murarth@moz-clm.78t.166.46.IP)
[22:45:01] *** Joins: scott (uid25790@moz-e5ok1n.brockwell.irccloud.com)
[22:45:12] *** Joins: reem (reem@moz-hpgac3.coob.q2h1.0009.2601.IP)
[22:45:25] *** Joins: jgallagher (john@moz-6ge.dhn.131.24.IP)
[22:45:27] *** Quits: {-}grant ({0}grant@moz-63ubas.in.charter.com) (Ping timeout: 121 seconds)
[22:46:40] *** Joins: reem_ (reem@moz-hk2k8r.coob.q2h1.0009.2601.IP)
[22:48:10] *** Quits: dinfuehr (dinfuehr@moz-oq92c2.highway.telekom.at) (Connection closed)
[22:49:26] *** Quits: reem (reem@moz-hpgac3.coob.q2h1.0009.2601.IP) (Ping timeout: 121 seconds)
[22:51:45] *** Quits: reem_ (reem@moz-hk2k8r.coob.q2h1.0009.2601.IP) (Connection closed)
[22:52:21] *** Joins: James (quassel@moz-t5os7p.range86-163.btcentralplus.com)
[22:52:55] *** Joins: reem (reem@moz-a6ef9c.coob.q2h1.0009.2601.IP)
[22:54:58] *** Joins: reem_ (reem@moz-rnqk15.ca.comcast.net)
[22:56:59] *** Quits: reem (reem@moz-a6ef9c.coob.q2h1.0009.2601.IP) (Ping timeout: 121 seconds)
[22:58:15] *** Joins: scialex (scialex@moz-if7.du5.16.138.IP)
[23:05:46] *** Joins: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net)
[23:05:46] *** ChanServ sets mode: +o pcwalton
[23:06:08] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[23:18:59] <huon> aturon: we could theoretically do something like `trait Rng: Iterator<Item = u32>`
[23:19:03] <aturon> huon: so, in a nutshell, here's my idea: `fn rand(rng: Rng, dist: Distribution) -> impl Iterator<Item = Self>`
[23:19:05] <huon> but I don't think it's worth it
[23:19:11] <huon> oh!
[23:19:28] <aturon> huon: (in the context of `trait Rand<Distribution>`)
[23:19:38] *** Joins: dcb (textual@moz-j72nfe.ca.comcast.net)
[23:19:53] <aturon> because we are taking rng by value, we can desugar impl Trait here for an associated type
[23:20:46] <aturon> drat, this won't work
[23:20:51] <huon> :(
[23:21:06] <aturon> at least not quite like this
[23:21:11] <huon> (one downside of Iterator in this context is the useless Option: the streams are all modelled as infinit)
[23:21:12] <huon> e
[23:21:13] <aturon> Rng shoudl actually be generic
[23:21:16] <aturon> yes
[23:21:24] <aturon> but gen_iter, which is the primary use case, gives you an iterator
[23:21:24] <huon> ah, HKT...
[23:21:35] <huon> yeah, it's unfortunate there too :)
[23:21:37] <aturon> yes, wants HKT... but lifting might be reasonable here
[23:22:10] <aturon> huon: https://gist.github.com/aturon/1dbb8a06d3f3d966126e
[23:22:44] <aturon> huon: so, that would work, but tying to a specific Rng is undesirable for several reasons
[23:23:15] <aturon> (alas, you really do need HKT to make this particular variant work nicely)
[23:23:25] *** Quits: larsberg (sid16141@moz-fnneme.uxbridge.irccloud.com) (Quit: )
[23:23:28] <aturon> i have some other ideas...
[23:23:40] *** Quits: dcb (textual@moz-j72nfe.ca.comcast.net) (Ping timeout: 121 seconds)
[23:23:50] <huon> putting the type parameter in the trait makes the docs much harder to read, too: http://huonw.github.io/rand-sketch/rand-sketch/typeparam/trait.Random.html
[23:23:57] <huon> I suppose that's a rustdoc bug
[23:24:19] <huon> we could theoretically support collapsing multidispatch impls down to a single expandable one
[23:24:43] <huon> (i.e. display `impl Random<_> for u32` `impl Random<_> for i64` by default)
[23:25:26] <aturon> huon: https://gist.github.com/aturon/d53613d1c0cce1297bf1
[23:25:37] *** Joins: swgillespie (swgillespie@moz-upj.3un.220.167.IP)
[23:26:06] <aturon> huon: note, this is yet another variation that is isomorphic to your "combo"
[23:26:49] <huon> aturon: hm, it's not clear to me how you're intending impls of that to work
[23:26:52] <huon> could you add one?
[23:27:08] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[23:27:20] <aturon> huon: sure
[23:29:07] <aturon> oh woops, missed a self parameter, that's probably why you're confused :)
[23:29:25] <aturon> huon: updated https://gist.github.com/aturon/d53613d1c0cce1297bf1
[23:30:19] <aturon> huon: note, this is literally the "combo" variant once more broken into two traits
[23:31:14] *** Joins: mystor_ (mystor@moz-rrn.r78.15.130.IP)
[23:31:29] *** Joins: tijs (Mibbit@moz-sgul1j.speed.planet.nl)
[23:31:46] *** reem_ is now known as reem
[23:32:01] *** Joins: etw (john@moz-2lpgmu.fios.verizon.net)
[23:32:17] <tijs> Hey I am struggling with rust borrowing and strings, here is my playpen with explanation: http://is.gd/5l79is
[23:32:41] <aturon> huon: this is definitely similar to the IntoIterator/Iterator split, except for generation rather than consumption
[23:32:53] <reem> 'a: 'b means that 'a outlives 'b, right?
[23:35:23] <huon> reem: yeah (in fact, ...: 'b means ... outlives 'b whether ... is a type or a lifetime)
[23:35:39] <reem> ah right
[23:35:52] <huon> aturon: ah, cool
[23:36:28] <aturon> huon: anyway, i need to run now, but my hunch is that the "combo" proposal is in spirit the right one, and it's just a matter of division into traits to capture the "right" abstract perspective
[23:36:55] *** Quits: kmcguire_ (kmcguire@moz-pg1gb9.biz.rr.com) (Connection closed)
[23:37:45] *** Joins: kmcguire_ (kmcguire@moz-pg1gb9.biz.rr.com)
[23:40:57] *** Parts: tijs (Mibbit@moz-sgul1j.speed.planet.nl) ()
[23:46:52] *** Quits: James (quassel@moz-t5os7p.range86-163.btcentralplus.com) (Ping timeout: 121 seconds)
[23:47:10] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[23:47:12] <pcwalton> brson: r? https://github.com/rust-lang/rust/pull/23495
[23:47:15] <pcwalton> or aturon: ^
[23:51:53] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[23:53:03] <steveklabnik> aturon: acrichto was this method just missed or was this intentional? https://github.com/rust-lang/rust/issues/23374
[23:53:17] <cmr> We need to be more cognizant about adding #[inline] to these small wrapper types.
[23:54:57] *** Joins: arrrrrrrrr (arrrrrrrrs@moz-vimofl.dynamic.qsc.de)
[23:56:24] <WindowsBunny> There is a disturbing lack of #[inline] in std
[23:56:25] <bstrie> cmr: that might be something worth denoting in rustdoc, whether something is cross-crate-inlineable
[23:56:40] <WindowsBunny> Things like from_utf8_unchecked are not #[inline] even though they're just a transmute
[23:57:03] <bstrie> we should have an inlining initiative
[23:57:45] *** Quits: arrrrrrr1 (arrrrrrrrs@moz-gjrm1c.dynamic.qsc.de) (Ping timeout: 121 seconds)
[23:58:07] <acrichto> steveklabnik: I believe that was just missed
[23:58:09] <WindowsBunny> Why can't Rust automatically opt-in any small enough function for inlining which hasn't opted out?
[23:58:24] <pcwalton> because of ABI compatibility concerns
[23:58:36] *** Quits: reem (reem@moz-rnqk15.ca.comcast.net) (Connection closed)
[23:58:44] <pcwalton> you may want to upgrade a library without recompiling dependencies in some cases
[23:58:47] <steveklabnik> acrichto: gotcha
[23:58:48] <pcwalton> we don't want to close off that possibility
[23:59:03] *** Quits: mystor_ (mystor@moz-rrn.r78.15.130.IP) (Connection closed)
[23:59:48] *** Joins: mystor (mystor@moz-rrn.r78.15.130.IP)
[23:59:53] <acrichto> pcwalton: hm btw on gh23495, I think the only methods that really *need* #[inline] are the BorrowRef ones, all the Cell/RefCell ones are inlineable b/c of the T type param, right?
[23:59:53] <[o__o]> core: Inline most cell methods.: https://github.com/rust-lang/rust/pull/23495
