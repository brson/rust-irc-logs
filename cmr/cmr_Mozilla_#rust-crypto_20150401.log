[00:01:19] <Ilari> Serviceworkers run in sandboxed contexts? Aren't serviceworkers already darn dangerous if misused?
[00:10:17] <Tobba> ROT26 ciphersuite for TLS when?
[00:10:48] <mcpherrin> Tobba: today! It's spelled "NULL"
[00:10:56] <Tobba> rats
[00:13:54] <lahwran> bascule: I  thought that'd be a joke but it sure doesn't look like one
[00:13:54] <lahwran> ;_;
[00:14:07] <tiffany> will firefox actually allow connections with a NULL suite?
[00:14:19] <Ilari> tiffany: Nope.
[00:14:21] <Tobba> it shouldn't
[00:14:30] <Tobba> that means you could just MitM the site and force a NULL suite
[00:15:26] <klutzy> with ssl>=3 it checks if client's ciphersuite list has been mitm-ed.
[00:15:39] <Tobba> neat
[00:15:40] <tiffany> well can't you also MITM the site and just force plaintext http
[00:15:52] <Tobba> well thats just sslstrip
[00:16:04] <Tobba> simpler and more reliable
[00:16:09] <Tobba> but it feels cheap
[00:16:10] <tiffany> I've had to go out of my way to disable my https everywhere rules for tumblr since I keep getting access denied errors on images
[00:16:13] <Tobba> klutzy: does it sign the list or something?
[00:16:31] <tiffany> probably incompetence rather than mitm but whatever
[00:17:07] <Ilari> Tobba: At end of handshake, there is a finished value which is PRF of master secret and hash of handshake messages.
[00:17:19] <Tobba> brilliant
[00:18:47] <Ilari> Tobba: Current TLS 1.3 draft does it by hashing the handshake messages into (handshake) Master Secret, where it will go into encryption keys, so if one alters ciphersuite lists, the keys won't match and decrypting the rest of handshake doesn't work.
[00:19:08] <Tobba> yeah
[00:19:39] <Ilari> (Well, there is Finished too)
[00:20:27] <mcpherrin> TLS_RSA_WITH_NULL_SHA or whatever is vaguely useful for cases where encryption is illegal
[00:20:41] <mcpherrin> (which for me, means amateur radio broadcasts)
[00:21:07] <mcpherrin> (and by broadcast, I mean transmission, since broadcasting is also illegal)
[00:21:35] <tiffany> so authenticated but not encrypted communication?
[00:22:28] <mcpherrin> yeah
[00:22:49] <tiffany> for some reason I was under the impression that you couldn't do anything but standard voice / whatever channels
[00:23:05] <mcpherrin> "data" or "packet radio" is a thing
[00:23:08] <mcpherrin> AX.25 et al
[00:23:12] <cmr> nah, you can do data, but it needs to be a "public protocol" and unencrypted
[00:24:25] <tiffany> is there some complex legalese that explains what public protocol means?
[00:24:43] <cmr> no, iirc it's a very vague clause
[00:24:56] <cmr> it's been a *long time* since I've been active in amatuer radio though, it may have changed.
[00:25:12] <lahwran> mcpherrin: wait, what the fuck? encryption is *actually still illegal*?
[00:25:21] <Ilari> lahwran: Yeah.
[00:25:21] <tiffany> lahwran: for amateur radio
[00:25:23] <lahwran> on anything
[00:25:25] <lahwran> tiffany: I got that
[00:25:55] <mcpherrin> lahwran: Music is also illegal on amateur radio
[00:25:56] <tiffany> it's probably also illegal in certain countries with authoritarian regimes
[00:25:59] <lahwran> presumably because that would actually be unbreakable for the NSA?
[00:26:27] <tiffany> certain politicians in both the UK and australia have recently expressed their desires to ban encryption as well, though that will not happen
[00:26:34] <lahwran> hah yes
[00:26:39] <mcpherrin> amateur radio is supposed to be used to talk to other people, strangers, whatever.  If you want to use it for "private" purposes you need to get a commercial radio allocation
[00:26:48] <lahwran> there is absolutely no way they'd get away with actually outright banning encryption
[00:26:53] <lahwran> too much of the real world depends on it
[00:27:06] <lahwran> it seems they're doing a good job at breaking it by not assigning competent people to build it, though :p
[00:27:18] <lahwran> (probably just incompetence, but it's the same useless end result)
[00:27:22] <Ilari> Oh, and ocassional moles too...
[00:27:37] <tiffany> can you even get a radio allocation for under a billion dollars, mcpherrin?
[00:27:52] <mcpherrin> tiffany: yeah, there's vendors for this
[00:28:01] <mcpherrin> like every taxi cab company ever has an allocation
[00:28:14] <tiffany> low bandwidth though, right?
[00:28:29] <tiffany> maybe enough for voice, and not much else
[00:28:44] <mcpherrin> tiffany: sure, you're not gonna be streaming 1080p video, but dozens of voice channels is doable
[00:29:14] <mcpherrin> enough bandwidth to do kilobits/s of traffic probably
[00:29:39] <mcpherrin> Well, depending on your use case
[00:29:40] <Ilari> If one doesn't care too much abous sound quality, one can do voice channel in 2400bps or even lower.
[00:29:45] <Ilari> *about
[00:30:00] <mcpherrin> EG, microwave point-to-point links that do 10 or faster gigabits/s are possible to get
[00:30:01] <tiffany> the more I learn about wireless, the less and less practical/desirable mesh nets seem to become
[00:30:03] <cmr> tiffany: "No amateur station shall transmit: ... messages encoded for the purpose of obscuring their meaning"
[00:30:24] <cmr> (http://www.arrl.org/files/file/FCC%20Documents/47%20CFR%20Part%2097%20-%20September%2023%202014.pdf, section 97.113.a.4)
[00:30:46] <mcpherrin> https://en.wikipedia.org/wiki/Business_band
[00:31:09] <mcpherrin> this is what private two-way radios use
[00:34:40] <Tobba> cmr: does giving them two meanings count?
[00:34:48] <Tobba> that seems a bit... vague
[00:35:13] <cmr> Tobba: steno would be against the spirit of it, yes.
[00:36:30] <mcpherrin> http://jonestown.sdsu.edu/?page_id=32349 is an interesting case
[00:37:03] <Tobba> cmr: oh yeah I remember this actually, what makes this *really* hilarious is that the ham radio bands intersect the GSM bands
[00:37:11] <Tobba> so you can legally operate a cell tower with a ham license
[00:37:16] <Tobba> but only if you disable the encryption
[00:37:30] <Tobba> which is part of what you need to do to make nefarious things happen
[00:38:23] <Ilari> Also, some ham bands intersect Wi-Fi bands. And the power limit is a few orders of magnitude greater...
[00:38:45] <Tobba> but it's only legal if you disable encryption!
[00:38:50] <mcpherrin> Hmm, I wonder if my cell phone intersects with any bands I can legally xmit on
[00:38:51] <Tobba> who even comes up with this
[00:39:32] <Ilari> IIRC, at least in some places, ham bands intersecting Wi-Fi go up to 1.5kW.
[00:39:47] <cmr> the ham radio club at my school has a 1 kilo amp in the basement, but we can get it up to 1.3. it's great
[00:39:49] <Tobba> isnt the limit on WiFi 1mW
[00:39:59] <Tobba> normally
[00:40:28] <mcpherrin> Tobba: 1W on 5ghz
[00:40:42] <Tobba> still 1500x the normal limit
[00:40:57] <Tobba> but 1500000x would have been hilarious
[00:57:33] <Ilari> "Have we tested in the wild that using elliptic_curves (10) in the ClientHello won't trigger some ECC code that causes handshakes to barf?"
[00:59:35] <bascule> uhh what?
[00:59:46] <bascule> lol
[00:59:55] <bascule> if that didn't work, wouldn't the Internet be melting right now?
[01:00:31] <mcpherrin> bascule: are you sure it isn't melting?
[01:02:14] <bascule> hahaha
[01:02:18] <bascule> I guess it's melting all the time
[01:02:57] <Ilari> Well, offering elliptic_curves extension with no ECDH(E) chipersuites would be a bit odd...
[01:14:50] <Ilari> The certificate formats offered by TLS: 1) X.509: An enormous pile of crap. 2) RPK: Just the key part of previous. 3) OpenPGP: like 2, but with different bitpacking.
[01:21:42] <Ilari> If you want to do anything actually more complicated than RPK with keys with TLS, that means using X.509. Bugdoors ahoy.
[01:26:44] <Ilari> Ah, looks like there are already some charter discussions about the proposed WG that most of the JOSE WG meeting turned up into.
[01:31:46] <bascule> lololol
[01:32:12] <bascule> a new certificate format would be amazing
[01:32:18] <bascule> and better hostname verification guidelines
[01:32:29] <bascule> RFC 6125 is the latest evolution of shitty shit
[01:32:43] <bascule> here's how it should be done
[01:32:47] <bascule> YOU CAN HAVE ONE *.
[01:32:54] <bascule> IT MUST BE AT THE BEGINNING
[01:33:06] <Ilari> CBOR: Designed for constrained environments. One would think that something that works in constrained would really fly on nonconstrained. But I have looked at CBOR and find it annoying.
[01:33:40] <bascule> I think I'm a fan of git pkt-lines (again)
[01:33:53] <bascule> they're context-sensitive though (like ASN.1)
[01:33:58] <bascule> not sure how I feel about that
[01:34:43] <bascule> when I was trying to lolredesign X.509 (not really) I opted for something regular
[01:34:56] <Ilari> I figured out a extensible structure representation based on canonical S-Expressions. Only tokenizably context sensitive.
[01:35:04] <bascule> https://github.com/cryptosphere/ordo
[01:35:21] * bascule like all regular or GTFO ;)
[01:35:49] <bascule> pkt-lines are nice in that while they are context-sensitive, they can contain binary data
[01:36:20] <bascule> as opposed to ordo, which does Base32 encoding (and nowadays I'd probably use Base64uri? o_O
[01:36:21] <Ilari> Tokenizable context sensitivity is just about the best one can have for extensible structure representation that has 8-bit clean elements.
[01:36:39] <bascule> yeah, so that's how Macaroons work (they're pkt-lines)
[01:37:00] <bascule> a 4-byte length prefix (length in hex) and 8-bit clean
[01:37:12] <bascule> seems ok
[01:39:56] <Ilari> Meaning that all context sensitivity in grammar can be resolved by first doing tokenization pass that can be carred out in-order.
[01:42:05] <Ilari> What I find annoying about CBOR: Too much freedom to muck around with types.
[01:42:47] *** Joins: blank_na1e (blank_name@moz-sct.ivp.36.50.IP)
[01:44:03] *** Joins: adu (ajr@moz-rdrp0r.biz.rr.com)
[01:45:27] *** Quits: blank_name (blank_name@moz-gnl.24b.36.50.IP) (Ping timeout: 121 seconds)
[01:48:02] <Ilari> What makes extensible structure representation is so nasty is devising way to do it that is simultaneously extensible, doesn't offer the crazy type-mucking in CBOR, JSON and ASN.1 nor has the crazy serialization constructs of ASN.1 and such.
[01:51:43] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[01:52:15] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[01:52:26] <Ilari> I think funkily enough, CBOR data model is true superset of JSON data model.
[01:52:38] <Ilari> *proper superset
[01:57:24] <Ilari> Oh yup, Null, Booleans, Numbers (integer and float), strings, arrays and objects. Then there are octet strings, non-string object keys and such...
[02:04:41] <Ilari> bascule: Simple excercise in extensible structure representation. Suppose you have a asymmetric auth key field. You can put RSA keys, EdDSA keys, ECDH keys, etc... into it. Now you want to add HECDH keys, which take three modular integers to represent...
[02:09:26] <Ilari> Also: https://auth0.com/blog/2015/03/31/critical-vulnerabilities-in-json-web-token-libraries/
[02:12:02] <Ilari> Transporting key data separatedly from algorithm it is for is a rotten idea. Doesn't mean that various things don't get it wrong (even TLS 1.2 handshake does!)
[02:23:37] <bascule> Ilari: this is why Macaroons not being extensible is kind of nice
[02:23:51] <Ilari> Lol, looking at the queue, getting all those through is going to take a bit of time...
[02:23:52] <bascule> but
[02:24:01] <bascule> I would actually like adding that JOSE-style header to Macaroons
[02:25:42] <eternaleye> Ilari: It was explicitly designed as a superset of JSON - specifically, to be suitable for carrying JSON exactly, plus special support only possible in a binary format
[02:27:19] <Ilari> There is pacman ghost codepoint in Unicode? Geez....
[02:27:47] <eternaleye> Ilari: There are at least two snowman codepoints.
[02:27:54] <eternaleye> Ilari: With and without falling snow.
[02:27:56] <bascule> hmm
[02:28:05] <bascule> yeah, I like the suggestion
[02:28:06] <bascule> a key ID field
[02:28:27] <eternaleye> bascule: no KIDding :P
[02:32:29] <eternaleye> bascule: ...the 'ordo' example violates a line right below it
[02:32:29] <eternaleye> bascule: >> We linewrap at 64 characters, and indent to the column matching the length of the key name plus 2 characters (the ': ' delimiter)
[02:32:37] <eternaleye> bascule: The example is indented to 2chars
[02:32:44] <eternaleye> bascule: Not the :
[02:40:51] <bascule> haha, ORDO is a joke
[02:40:52] <bascule> ;)
[02:40:57] <bascule> not really, it's actually a thing, but
[02:41:30] <bascule> I don't know where "length of the key name" came from but as the sole committer I guess I fucked up ;)
[02:41:35] <bascule> who knew that specifying stuff was hard?
[02:58:02] *** Quits: BigE (BigE@moz-p2g2k7.ip-5-135-148.eu) (Ping timeout: 121 seconds)
[03:13:26] *** Joins: brson (brson@moz-33j.fpf.56.172.IP)
[03:21:13] *** Quits: brson (brson@moz-33j.fpf.56.172.IP) (Quit: leaving)
[03:28:29] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[03:40:39] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[04:01:22] *** Quits: adu (ajr@moz-rdrp0r.biz.rr.com) (Client exited)
[04:17:00] *** Joins: adu (ajr@moz-rdrp0r.biz.rr.com)
[04:17:19] *** Quits: adu (ajr@moz-rdrp0r.biz.rr.com) (Client exited)
[04:27:56] *** Joins: adu (ajr@moz-rdrp0r.biz.rr.com)
[04:40:50] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[04:41:08] <Ilari> Best usecases for arbitrary curves: 1) Causing security problems. 2) Causing IPR problems. 3) Using few remaining curves when most of ECC has been broken. :->
[04:41:50] <bascule> Ilari: https://pbs.twimg.com/media/B_C0w_2VAAAwFKx.png
[04:42:01] <Ilari> Of course, 3) might be rather bad idea, since it is probably not easy to figure out what the ECC-busting attack actually affects...
[04:43:32] <Ilari> Hmm... Are there curves with small cofacotor, small CM discriminant but large embedding degree?
[04:46:55] <Ilari> Specifically, orders that are very rare for the prime, so isogeny walks reach relatively very few curves.
[04:59:08] *** Quits: adu (ajr@moz-rdrp0r.biz.rr.com) (Client exited)
[05:29:38] *** Joins: adu (ajr@moz-rdrp0r.biz.rr.com)
[06:21:33] *** Quits: adu (ajr@moz-rdrp0r.biz.rr.com) (Client exited)
[06:57:00] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[07:01:05] *** Joins: Tobba|Laptop (Tobba@moz-1hh.7ki.21.217.IP)
[07:25:15] *** Quits: gsingh93 (gulshan@moz-3fu4am.mi.comcast.net) (Ping timeout: 121 seconds)
[07:53:26] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[07:58:11] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[08:21:26] *** Joins: ttaubert (uid2620@moz-6d2u0s.uxbridge.irccloud.com)
[09:42:26] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[09:46:59] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[10:29:30] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[14:02:34] <Dcoder> rust's integers make less and less sense by the week
[14:02:45] *** Quits: Tobba|Laptop (Tobba@moz-1hh.7ki.21.217.IP) (Ping timeout: 121 seconds)
[14:02:45] <Dcoder> now Int is deprecated?
[14:03:34] <lahwran> wait what
[14:03:34] <lahwran> why
[14:04:06] <Dcoder> beats me
[14:15:12] <Ilari> Some changes lately have been "fun".
[14:18:08] <Ilari> Also, planning to remove unsigned -... At least (!x).wrapping_add(1) optimizes to neg.
[14:18:27] <lahwran> what?
[14:18:40] <lahwran> they're really planning to remit's april fools I'll ask you tomorrow
[14:25:10] <Dcoder> ok i give up
[14:25:25] <Dcoder> with Int deprecated it becomes damn hard to write decent generic code
[14:26:05] <Dcoder> if i wanted generic code to be hard to write i'd use Go
[14:27:37] <Ilari> Or one needs to add BS code...
[14:32:35] <klutzy> the whole point of trait Int was to provide methods with prelude, not to provide generics
[14:34:39] <klutzy> it was indeed backwards atm, although not a news right now
[14:35:17] <klutzy> and some weeks ago it became possible to implement method for builtin, i.e. `#[lang="i8"] impl i8 { ... }`, so the point of "prelude traits" was vanished
[14:35:46] <klutzy> well, I'm still not sure if the `#[lang] impl` change is good or not..
[14:37:13] <klutzy> anyway, the point is that you should've relied on rust-lang/num traits, not std ones. because they decided to not stabilize generic ints at all
[14:37:24] <klutzy> (of std)
[14:40:41] <Dcoder> is something like fn<T : OneOf<u8, u16, u32, u64>>() doable in the language?
[14:41:04] <Dcoder> instead of having to reverse enginner whatever traits are required
[14:44:19] <klutzy> it wouldn't be so meaningful since T doesn't implement Add
[14:44:24] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[14:44:53] <Ilari> Okay, some pretty big rollup with number of changes just landed to master...
[14:45:12] <Dcoder> idea would be that OneOf<T...> would inherit every common trait of T...
[14:46:13] <klutzy> you need impl<T1: Add, T2: Add, T3: Add, T4: Add> Add for OneOfTheFollowingFour<T1, T2, T3, T4> { ... }
[14:46:19] <klutzy> it's definitely not what you want to do :p
[14:46:35] <Dcoder> hm
[14:47:28] <klutzy> that is, it's easier to define `trait MyPrimitive: Add + Sub + ...`, with obvious downside that users must import your `MyPrimitive` to your code
[14:48:13] <Ilari> Also, MemoryMap got removed (it was deprecated before).
[14:48:35] <klutzy> is MemoryMap moved to external repo?
[14:49:43] <Ilari> klutzy: I don't know any crate it would have moved to.
[14:50:10] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[14:50:20] <Ilari> Neither "MemoryMap" nor "mmap" on crates.io search yields anything meaningful.
[14:51:50] <Ilari> Shouldn't be hard to lift the code to its own crate tho.
[14:53:59] <klutzy> gah
[14:54:23] <Ilari> Also, noticed that rand was broken...
[15:10:10] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[15:31:01] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[16:15:39] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[16:33:15] *** Joins: brson (brson@moz-1t0.c9m.56.172.IP)
[17:43:28] *** Joins: gsingh93 (gulshan@moz-3fu4am.mi.comcast.net)
[18:09:08] *** Quits: brson (brson@moz-1t0.c9m.56.172.IP) (Quit: leaving)
[19:09:51] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[19:20:25] *** Quits: ttaubert (uid2620@moz-6d2u0s.uxbridge.irccloud.com) (Quit: Connection closed for inactivity)
[19:54:15] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[20:14:27] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[21:16:12] *** WindowsBunny1 is now known as WindowsBunny
[21:54:26] <Ilari> "theoretical attacks sometimes morph into pretty demos with funky acronyms."
[22:10:01] <eternaleye> Ilari: Can't you use the mmap from libc?
[22:10:20] <eternaleye> Ilari: Or rather the libc crate, not the system libc manually
[22:10:23] *** Joins: brson (brson@moz-20p.7vl.56.172.IP)
[22:45:13] *** Quits: Church (hatter@moz-e031bf.dyn.optonline.net) (Ping timeout: 121 seconds)
[23:05:47] <eternaleye> bascule: Did you see the PHC today?
[23:06:37] <Ilari> Yeah, that... Haha.
[23:06:47] <bascule> lol indeed
[23:19:32] *** Joins: Church (hatter@moz-r3irp5.dyn.optonline.net)
[23:22:42] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[23:23:40] <Ilari> Another huge rollup in testing. Looks like it will make it to next nightly if it succeeds (but if it fails, there is no time for any more tests before next nightly is cut off).
[23:40:39] <Ilari> No Dual-EC DRBG? :->
[23:41:59] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[23:49:29] <eternaleye> I think pnkfelix glitched :P https://github.com/rust-lang/rust/pull/23895
[23:50:06] <eternaleye> Ah, no, he just commented on each patch, and then the patches vanished
[23:50:20] <eternaleye> (Which reminds me, I really hate how github does that)
[23:51:55] <Ilari> "De novo design done in IETF WG. Track record on IETF-sourced crypto design: invariably compromised by politics, crappy inputs."
[23:53:23] <Ilari> HKDF HOW-NOT-TO: See draft of "DH-based" key exchange posted by EKR.
[23:56:31] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[23:57:42] *** Quits: brson (brson@moz-20p.7vl.56.172.IP) (Quit: leaving)
