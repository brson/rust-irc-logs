[00:00:09] *** Quits: jmgrosen (user@moz-848F6087.sb.sd.cox.net) (Ping timeout)
[00:00:26] <Denommus> huon: I have, my main problem with it is that it assumes the dependency will also have a cargo-lite.conf file on the root directory, and it overrides the dependencies every time I build the project, so I have to manually place cargo-lite.conf all the time there
[00:00:28] *** Quits: brendan (brendaneic@moz-62518563.mtv2.mozilla.com) (Quit: brendan)
[00:00:48] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[00:00:49] *** Joins: jack_ (sid19593@moz-A42E5B7B.irccloud.com)
[00:00:53] *** Joins: dnyy (sid2106@moz-31ABA2C0.irccloud.com)
[00:00:53] <Denommus> huon: I'm honestly thinking about manually installing packages on a file, and just passing their location to a Makefile
[00:01:15] <huon> Denommus: ah, ok (I've never used cargo-lite, so I haven't met any limitations myself :P )
[00:01:16] <Denommus> s/on a file/on a directory/
[00:01:28] *** Quits: alkino_ (alkino@moz-61F150EC.w92-151.abo.wanadoo.fr) (Ping timeout)
[00:02:06] <bvssvni> Denommus: perhaps this site will be useful https://github.com/mozilla/rust/wiki/Computer-Graphics-and-Game-Development
[00:02:07] *** Quits: derek_c (derek@moz-16A6DFBC.cit.cornell.edu) (Ping timeout)
[00:02:15] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[00:02:20] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[00:02:25] *** Joins: lenary (sid5084@moz-31ABA2C0.irccloud.com)
[00:02:33] *** Quits: Jesse (jruderman@moz-62518563.mtv2.mozilla.com) (Connection reset by peer)
[00:02:33] *** Joins: Jesse_ (jruderman@moz-62518563.mtv2.mozilla.com)
[00:03:13] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[00:03:30] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[00:03:38] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Ping timeout)
[00:03:49] <Denommus> bvssvni: oh, I have already see this link :-)
[00:04:02] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Ping timeout)
[00:04:06] *** Joins: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP)
[00:04:14] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[00:05:12] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[00:05:23] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[00:07:05] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[00:07:11] <Denommus> oh, I know what I can do. I'll put my dependencies as submodules
[00:07:12] *** Quits: Earnestly (earnest@18162BE0.BA6AC103.30311652.IP) (Quit: WeeChat 0.4.4-dev)
[00:07:25] *** Joins: lacrosse (sid21607@moz-31ABA2C0.irccloud.com)
[00:07:26] *** Joins: tomdale (sid5518@moz-31ABA2C0.irccloud.com)
[00:07:29] *** Joins: patrikstenmark (sid16326@moz-A42E5B7B.irccloud.com)
[00:07:43] *** Joins: canhtak (canhtak@moz-2C382DC9.wl.t.ulaval.ca)
[00:07:50] *** Parts: thewonderidiot (mstewart@FAFE6CB6.8FBF3E66.60E22FEA.IP) ()
[00:07:52] *** Joins: herrwolfe45 (uid26657@moz-E77DEB21.irccloud.com)
[00:08:01] *** Joins: Earnestly (earnest@18162BE0.BA6AC103.30311652.IP)
[00:08:12] *** Quits: Guest___ (textual@moz-B0DA5BFF.hsd1.sc.comcast.net) (Client exited)
[00:08:30] *** Quits: Mathieu (cicak@7B7B7C8D.8F79F0B0.9900354A.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[00:08:36] *** Joins: Guest___ (textual@moz-B0DA5BFF.hsd1.sc.comcast.net)
[00:08:56] *** Joins: brendan (brendaneic@moz-62518563.mtv2.mozilla.com)
[00:10:09] *** Quits: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net) (Client exited)
[00:10:22] *** Quits: aatch_ (aatch@moz-2BB0AC01.cable.telstraclear.net) (Ping timeout)
[00:10:29] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[00:10:29] *** Joins: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net)
[00:11:35] *** Joins: Rym (y@E4616792.61CF0AA7.51C6DE68.IP)
[00:12:16] *** Quits: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net) (Ping timeout)
[00:12:51] *** Quits: jix (jix@moz-D969BFFC.de) (Ping timeout)
[00:13:03] *** Joins: soumyaC (uid15286@moz-E77DEB21.irccloud.com)
[00:14:13] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[00:14:54] *** Quits: dpanth3r (dinofelis@228444B8.6B06001A.BB6F225C.IP) (Ping timeout)
[00:14:54] *** Quits: sk (sk@61A494B3.BA40E8A.AAC02D62.IP) (Ping timeout)
[00:14:54] *** Quits: nstoddard (nstoddard@moz-8527C50E.dhcp.embarqhsd.net) (Ping timeout)
[00:14:56] *** Joins: dpanth3r (dinofelis@228444B8.6B06001A.BB6F225C.IP)
[00:14:56] *** Joins: crail (sid24674@moz-E77DEB21.irccloud.com)
[00:14:59] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[00:15:00] *** Joins: abinader (sid21713@moz-A42E5B7B.irccloud.com)
[00:15:04] *** Joins: iamstef (sid12605@moz-31ABA2C0.irccloud.com)
[00:15:19] *** Joins: nstoddard (nstoddard@moz-8527C50E.dhcp.embarqhsd.net)
[00:15:42] *** Joins: valentin (Thunderbir@4F2F9D91.E06BF678.B9540FE1.IP)
[00:16:03] *** Joins: sk (sk@61A494B3.BA40E8A.AAC02D62.IP)
[00:16:21] *** Joins: bmccallister (brianm@B14CC6C5.5D49961F.D8D85ABD.IP)
[00:16:35] *** Quits: bmccallister (brianm@B14CC6C5.5D49961F.D8D85ABD.IP) (Quit: Leaving...)
[00:16:36] *** Joins: eholk (eric@moz-F70D5031.hsd1.in.comcast.net)
[00:17:08] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Quit: Leaving)
[00:17:09] *** Joins: aatch_ (aatch@moz-2BB0AC01.cable.telstraclear.net)
[00:17:31] *** Joins: huhlig (sid17687@moz-A42E5B7B.irccloud.com)
[00:17:33] *** Joins: W0rmDr1nk (wormdrink@moz-6B95D38.access.mtnbusiness.co.za)
[00:17:36] *** Quits: brianm (brianm@B14CC6C5.5D49961F.D8D85ABD.IP) (Ping timeout)
[00:18:39] *** Joins: jix (jix@moz-D969BFFC.de)
[00:19:23] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[00:20:04] *** Joins: mattyohe (sid5632@moz-31ABA2C0.irccloud.com)
[00:20:26] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[00:22:17] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[00:22:17] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[00:22:32] *** Quits: Guest___ (textual@moz-B0DA5BFF.hsd1.sc.comcast.net) (Client exited)
[00:22:57] *** Joins: Guest_ (textual@moz-B0DA5BFF.hsd1.sc.comcast.net)
[00:23:51] *** Quits: tingmo (bzlandfill@moz-69BAB3A5.pete-bam-1.adsl.virginm.net) (Quit: CGI:IRC)
[00:24:12] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Ping timeout)
[00:24:26] *** Joins: victorporof (victorporo@moz-FFB76956.cpe.net.cable.rogers.com)
[00:24:55] *** Quits: jack (jack@moz-DF5A9AA3.members.linode.com) (Quit: leaving)
[00:24:56] *** Quits: anshin (anshin@CD85F10D.F21429E2.354459FA.IP) (Ping timeout)
[00:25:13] <eholk> what did info! get replaced by?
[00:25:30] *** jack_ is now known as jack
[00:25:53] <ChrisMorgan> eholk: it got shifted into the log crate
[00:25:54] *** Joins: janx (sid16602@631DDABB.E02B7C75.9377050C.IP)
[00:26:04] <ChrisMorgan> https://github.com/mozilla/rust/pull/12791
[00:26:19] <eholk> ChrisMorgan: thanks!
[00:26:31] <huon> http://static.rust-lang.org/doc/master/log/index.html
[00:27:45] <ChrisMorgan> Yeah, that's the better link for it.
[00:28:17] *** Quits: Guest_ (textual@moz-B0DA5BFF.hsd1.sc.comcast.net) (Client exited)
[00:28:24] <eholk> i'm excited that Rust has loadable syntax extensions now
[00:28:38] *** Joins: Guest_ (textual@moz-B0DA5BFF.hsd1.sc.comcast.net)
[00:30:00] *** Quits: Guest_ (textual@moz-B0DA5BFF.hsd1.sc.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[00:30:41] <bvssvni> does somebody know how to iterate chars in pairs?
[00:31:42] <kmc> iterate from what?
[00:31:46] <krdln> bvssvni: vector has a .windows() method. Don't know if you mean something like that.
[00:32:21] <bvssvni> krdln: I would like to not use collect(), because it's for the Rust compiler
[00:32:22] *** Quits: Sharp (Sharp@moz-3301C7AB.static-ip.telepacific.net) (Quit: Sharp)
[00:32:28] <mcpherrin> there's also a .chunks method
[00:32:35] *** Joins: tautologico (uid22285@moz-A42E5B7B.irccloud.com)
[00:33:19] <Florob> Does anyone actually have a clear idea concerning strings in a DST world? In particular I'm wondering how you'd create a ~Str, and I'm starting to think the answer is "you just don't"
[00:33:21] <kmc> it would be cool to have a type that acts like ~str but stores strings smaller than uint immediate rather than heap-allocated
[00:33:34] *** Quits: Rym (y@E4616792.61CF0AA7.51C6DE68.IP) (Ping timeout)
[00:33:44] *** Joins: alisdair (textual@BB0336C3.D2943E17.C579BC3E.IP)
[00:33:51] <bvssvni> mcpherrin: does .chunks iterate chars or u8?
[00:33:54] *** Joins: Siecje1 (Cody@21B5DF9.6875DAED.146816B2.IP)
[00:34:00] <bvssvni> mcpherrin: on &str
[00:34:05] *** Quits: refold (gman@moz-42D68426.a258.priv.bahnhof.se) (Quit: leaving)
[00:34:14] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[00:35:00] <mcpherrin> bvssvni: I don't think it's defined on a &str
[00:35:20] *** Quits: q66 (q66@moz-E680C693.range109-154.btcentralplus.com) (Ping timeout)
[00:35:30] *** Quits: doomlord_ (servitor@moz-99BE89EC.range86-184.btcentralplus.com) (Ping timeout)
[00:35:32] *** Joins: q66 (q66@moz-E680C693.range109-154.btcentralplus.com)
[00:35:49] *** Joins: doomlord_ (servitor@moz-99BE89EC.range86-184.btcentralplus.com)
[00:35:58] <krdln> kmc: why not go further and allow compiler to inline-optimize every ~T:Pod
[00:37:21] <kmc> yes perhaps
[00:37:44] <kmc> I wouldn't bet on Servo being free of unsafe code that assumes ~T is a pointer :/
[00:37:55] <kmc> I think it should probably be an opt-in optimization
[00:37:56] <esummers> @kmc: You could tag the pointers.  Most platforms have at least a couple bits lost to alignment.  Probably not hard to write that.  If you had a lot of strings you would probably just try to use an arena though.
[00:38:02] <kmc> esummers: yeah
[00:38:27] <krdln> esummers: and on amd64 there are whole 2 bytes to use
[00:38:47] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[00:39:01] <esummers> krdln: Actually there are 20-bits (alignment + top 16 bits)
[00:40:28] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[00:40:39] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[00:40:50] <kmc> the 16 before the top one, I think
[00:40:56] <kmc> not like it matters, just being pedantic
[00:40:59] *** Joins: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net)
[00:41:32] <kmc> I kind of wish you could disable pointer canonicalization with a control register bit or something
[00:41:33] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[00:41:40] <kmc> not everybody cares about portability
[00:41:47] <kmc> I bet NSA gets secret microcode updates that turn it off
[00:42:22] <krdln> kmc: what you mean by pointer canonalization?
[00:42:52] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Quit: Leaving)
[00:43:06] *** Quits: maxli1 (Adium@moz-F47DD19B.student.cs.uwaterloo.ca) (Quit: Leaving.)
[00:43:12] *** Quits: W0rmDr1nk (wormdrink@moz-6B95D38.access.mtnbusiness.co.za) (Ping timeout)
[00:43:19] *** Joins: Sharp (Sharp@moz-633F3606.hsd1.ca.comcast.net)
[00:44:05] <kmc> on AMD64, deref'ing a pointer where the unused virtual address bits don't match the top bit causes a processor exception
[00:44:12] *** Quits: Matthias247 (Miranda@moz-678B5E4A.hsi2.kabel-badenwuerttemberg.de) (Connection reset by peer)
[00:44:17] <kmc> so that people don't stash things there and then have their code break when the virtual address space expands
[00:44:25] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[00:44:38] <kmc> (although you can use those bits, you just need to mask them first, much like using the alignment-determined bits)
[00:44:51] <krdln> kmc: really? i recently written some code and used without masking
[00:45:39] <kmc> http://en.wikipedia.org/wiki/X86-64#Canonical_form_addresses
[00:45:48] *** Quits: Denommus (user@237F30EB.6FA539A5.AD91B79.IP) (Quit: going home)
[00:45:49] *** Quits: IanCormac841 (User@322BC06.64D641E5.67DFF8B4.IP) (Ping timeout)
[00:46:32] <Armavica> hello, with the removal of owned vectors I guess `to_owned_vec()` is living its last days too?  would it be relevant to implement a `to_vec()`, returning a Vec<T>?
[00:46:36] <krdln> so my processor just ignores specification
[00:46:38] *** Joins: lpy (lpy@8B40CDAC.F09091A8.1348A864.IP)
[00:46:41] *** Joins: IanCormac84 (User@56B6D042.64D641E5.67DFF8B4.IP)
[00:46:51] <kmc> fun fact: Xen got exploited through a difference in the way AMD64 and Intel64 handle non-canonical SYSRET addresses
[00:46:56] <kmc> krdln: haha
[00:46:59] <esummers> obviously tagging pointers is very platform specific, so you need to know what you are running on.  You could always convert to fat pointers for archs you don't directly support though.
[00:47:06] <kmc> krdln: out of curiosity, could I see your code?
[00:47:12] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Connection reset by peer)
[00:47:12] <kmc> or some minimal test case
[00:47:21] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Client exited)
[00:47:32] *** Quits: janua (francis@moz-C38AAD4A.cable.virginm.net) (Quit: janua)
[00:47:33] *** Joins: avdi (sid16245@moz-A42E5B7B.irccloud.com)
[00:47:41] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[00:47:43] <krdln> kmc: if I find :) Or if not, I'll try to write sth.
[00:49:22] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Ping timeout)
[00:49:45] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[00:50:02] *** Joins: balpert_ (sid15886@moz-A42E5B7B.irccloud.com)
[00:50:05] *** Joins: cmeiklejohn (sid1900@moz-31ABA2C0.irccloud.com)
[00:50:13] *** Quits: bmu (chatzilla@moz-A87574A6.hsd1.pa.comcast.net) (Ping timeout)
[00:51:00] *** Joins: Rym (y@6A178123.F555FE1C.51C6DE68.IP)
[00:51:38] *** Joins: derek_c (derek@moz-16A6DFBC.cit.cornell.edu)
[00:52:23] *** Quits: brendan (brendaneic@moz-62518563.mtv2.mozilla.com) (Quit: brendan)
[00:53:25] *** Quits: ChrisOei (ChrisOei@moz-53A9266A.blurb.com) (Client exited)
[00:53:36] <esummers> would be interesting if there was a macro that could test the platform at compile time and automatically generate a compatible tag or fat pointer
[00:55:19] <krdln> kmc: It segfaults. So I made a mistake while testing. Or was testing on other machine.
[00:55:33] <esummers> maybe isn't future proof enough, but I doubt the current scheme is changing anytime soon.  Too many dynamic languages use this trick
[00:56:05] <krdln> esummers: you can check architecture by a macro and generate different code
[00:56:23] <esummers> yeah
[00:56:51] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[00:57:08] <esummers> Will probably be awhile before any of my rust programs are far enough along that I might consider such an optimization though ;-)
[00:57:28] <gsnedders> AMD64 already extended from 40-bit to 48-bit, no?
[00:58:13] <o11c> address sizes   : 48 bits physical, 48 bits virtual
[00:58:21] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[00:58:40] <o11c> I swear I've been a 56 somewhere
[00:58:44] <esummers> I think most tagging schemes use an alignment bit though
[00:58:51] <o11c> don't remember which size
[00:59:01] <esummers> not the high bits
[00:59:03] <o11c> esummers: yeah, because alignment can be guaranteed
[00:59:05] <gsnedders> I've seen 52 somewhere, too :P
[00:59:05] *** Joins: jzelinskie (sid17772@moz-A42E5B7B.irccloud.com)
[00:59:32] *** Quits: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP) (Quit: colinsurprenant)
[00:59:54] <kmc> usually you also have a guarantee about userspace vs. kernel addresses, too
[01:00:17] <o11c> a VM I have access to: address sizes   : 46 bits physical, 48 bits virtual
[01:00:31] <kmc> heh
[01:00:33] <o11c> that's intel rather than AMD like my own system
[01:00:44] <kmc> is it paravirt? might be hypervisor page table hax
[01:00:54] <sp3d> o11c: maybe you saw 36 physical?
[01:01:37] *** Joins: brontrn (Mibbit@moz-C8D86903.tc.ph.cox.net)
[01:02:01] <o11c> yeah, I'm guessing the 2 bits are lost to virtualization
[01:02:04] <kmc> although it's not really a guarantee -- typical i386 Linux only hands out the bottom 3/4 of virtual memory to userspace, but that's configurable, and there are patches to get the full 4GB, and the same binary running in compat mode on amd64 gets the full 4G
[01:02:08] *** Quits: jdm (jdm@moz-AC9499B2.cable.teksavvy.com) (Input/output error)
[01:02:47] <kmc> course you can always go out of your way not to map certain addresses -- NULL pointers are already an example of that, or small integers for error codes
[01:04:17] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[01:04:44] *** Joins: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP)
[01:05:15] *** Quits: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP) (Quit: buildmaster reconfigured: bot disconnecting)
[01:05:16] *** Joins: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP)
[01:06:05] *** Quits: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP) (Quit: buildmaster reconfigured: bot disconnecting)
[01:06:05] *** Joins: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP)
[01:06:48] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[01:07:12] <krdln> hm, why rustc isn't optimizing such an enum? enum E { A, B, P(~int) }
[01:08:13] <esummers> krdln: There is also the option of packing tags for several enums in a single byte.  I think they just have been more focused on finishing the language ;-)
[01:08:26] <ChrisMorgan> rusti: enum E { A, B, P(~int) } std::mem::size_of::<E>()
[01:08:27] -rusti- 16
[01:08:47] <krdln> esummers: but that breaks pointers to interior enums
[01:09:04] <ChrisMorgan> krdln: it can't be optimised further at present as it has a third variant.
[01:09:29] <krdln> ChrisMorgan: I see, but are there any good reasons not to do that, or it's just not done (yet)?
[01:09:34] <sp3d> is it allowed to have an unaligned ~int at address 1?
[01:09:39] <o11c> when I did my "variant" class in C++, I wept over the inability to pack the tag
[01:09:59] * ChrisMorgan presumes that in the long term unused bits in the address may be reclaimed
[01:10:14] <o11c> you *can* do stuff with a union of uint16_t[3] and uint32_t
[01:10:40] <Havvy> krdln:  Because when passing an E to a function by value, you can only pass a static amount of digits.
[01:10:45] <Havvy> s/digits/bytes/
[01:10:47] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[01:10:56] <sp3d> rusti: #[repr(u8)] enum E { A, B, P(~int) } std::mem::size_of::<E>()
[01:10:57] -rusti- 16
[01:11:13] <o11c> because padding
[01:11:24] <o11c> #[repr(u8)] enum E { A, B, P(u8) }
[01:11:27] <sp3d> you can't ask to have the tag after the pointer :(
[01:11:48] <o11c> sp3d: doesn't usually buy you anything, because arrays
[01:12:11] <sp3d> true
[01:12:14] <krdln> Havvy: Of course I can't. And i don't want
[01:12:35] <o11c> but the [u16, ..3], u32 case you *can*
[01:12:55] <sp3d> why u16, ..3 instead of u8, ..5?
[01:12:56] <o11c> because the last u16 is unused but the u32 already requries it as pad
[01:13:12] <sp3d> oh, u32 only needs half-alignment?
[01:13:14] <o11c> in general, anything where the largest size is not a multiple of the largest align
[01:13:17] <o11c> no
[01:13:27] <SiegeLord> Heh, 'Cargo'... the circle is complete
[01:13:40] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Quit: Leaving...)
[01:13:44] <sp3d> o11c: oh, did you mean tagged variant, not C union?
[01:13:44] <o11c> even though u32 is 4 bytes and [u16, ..3] is 6 bytes, when put in an untagged union they take 8 bytes
[01:13:54] <sp3d> yeah
[01:13:56] <o11c> so you can use the last 2 bytes for the tag
[01:14:00] <sp3d> right, ok
[01:14:30] <sp3d> I thought you were discarding tag entirely to explain something related >_>
[01:14:57] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Input/output error)
[01:15:24] <krdln> rusti: #[repr(u8)] enum E { A([u16, ..3]), B(u32) } std::mem::size_of<E>()
[01:15:24] -rusti- <anon>:16:72: 16:73 error: unresolved name `E`.
[01:15:24] -rusti- <anon>:16         #[repr(u8)] enum E { A([u16, ..3]), B(u32) } std::mem::size_of<E>()
[01:15:24] -rusti-                                                                                  ^
[01:15:24] -rusti- error: aborting due to previous error
[01:15:25] -rusti- application terminated with error code 101
[01:15:27] *** Quits: onelson (owen@moz-DD666EC5.laika.com) (Quit: Leaving)
[01:15:28] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[01:15:44] <aatch> rusti: #[repr(u8)] enum E { A([u16, ..3]), B(u32) } std::mem::size_of::<E>()
[01:15:45] -rusti- 8
[01:16:09] <aatch> the adt code doesn't do that particular optimisation.
[01:16:14] <aatch> Or many other ones, actually
[01:16:15] * ChrisMorgan prefers the name Cargo
[01:16:16] <sp3d> rusti: #[repr(u8)] enum E { A([u8, ..7]), B(u32) } std::mem::size_of::<E>()
[01:16:16] -rusti- 8
[01:16:41] *** Joins: Mathieu (cicak@420C86E4.9C1E3043.FBF02BB8.IP)
[01:16:46] <aatch> rusti: #[repr(u8)] #[packed] enum E { A([u16, ..3]), B(u32) } std::mem::size_of::<E>()
[01:16:47] -rusti- 8
[01:17:02] *** Quits: lawrence (lawrence@moz-9810A08F.wireless.utoronto.ca) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[01:17:17] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[01:17:40] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[01:18:27] *** Joins: redbrain (uid24282@moz-E77DEB21.irccloud.com)
[01:18:39] *** Joins: ggherdov_ (sid11402@moz-E77DEB21.irccloud.com)
[01:20:03] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[01:20:27] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[01:21:05] *** Joins: refold (gman@moz-42D68426.a258.priv.bahnhof.se)
[01:21:07] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Input/output error)
[01:21:34] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[01:21:56] <krdln> #[packed] seems to be ignored by enums
[01:22:08] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[01:22:11] *** Joins: Guest_ (textual@moz-B0DA5BFF.hsd1.sc.comcast.net)
[01:22:50] <krdln> #[packed] #[repr(u8)] enum E { A(u8,u32,u8,u32), B } std::mem::size_of::<E>()
[01:23:03] <krdln> rusti: #[packed] #[repr(u8)] enum E { A(u8,u32,u8,u32), B } std::mem::size_of::<E>()
[01:23:04] -rusti- 16
[01:23:08] <huon> krdln: that's correct it's only registered on structs
[01:23:10] <huon> atm
[01:23:16] *** Quits: leowoe (Leo@moz-5FF61C5.dip0.t-ipconnect.de) (Quit: Leaving.)
[01:23:21] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[01:23:28] <krdln> huon: thanks, good to know
[01:24:08] <sp3d> we don't've a "meaningless attribute" lint, do we (e.g. which would have warned here)?
[01:25:31] *** Quits: brson (brson@moz-62518563.mtv2.mozilla.com) (Ping timeout)
[01:25:32] <krdln> sp3d: for now, no. There was discussion about this and as far as I remember, it's not obvious to add
[01:25:49] <sp3d> kinda makes sense
[01:26:20] *** Joins: brson (brson@moz-62518563.mtv2.mozilla.com)
[01:26:20] *** ChanServ sets mode: +ao brson brson
[01:27:31] *** Quits: cptroot (Mibbit@moz-4F146589.caltech.edu) (Quit: http://www.mibbit.com ajax IRC Client)
[01:27:54] <krdln> hm, I don't recall why it isn't straightforward to add
[01:29:31] *** Joins: mib_urybu0 (Mibbit@7E217F04.2C8DBE39.CC1A2609.IP)
[01:32:06] *** Quits: andrewd18 (andrew@moz-DAC9D29F.wi.res.rr.com) (Quit: Leaving.)
[01:32:22] *** Quits: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP) (Ping timeout)
[01:33:09] <sp3d> krdln: my guess would be that the lint processors don't mark them as used in any way, so one can't just look at the end and see which were never read-from
[01:33:23] *** Quits: mib_urybu0 (Mibbit@7E217F04.2C8DBE39.CC1A2609.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[01:33:42] <sp3d> s/lint/attr/
[01:34:04] *** Quits: bvssvni (Mibbit@moz-A47B6F8E.bb.online.no) (Quit: http://www.mibbit.com ajax IRC Client)
[01:34:07] <sp3d> plus maybe cfg throws wrenches in
[01:34:38] *** Quits: alisdair (textual@BB0336C3.D2943E17.C579BC3E.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[01:34:54] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[01:34:58] *** Joins: sw17ch (sw17ch@moz-675AFBCF.hsd1.mi.comcast.net)
[01:35:03] *** Quits: tyna (liadon@moz-BB1BAD9A.dynamic.chello.pl) (Ping timeout)
[01:35:06] *** Quits: soumyaC (uid15286@moz-E77DEB21.irccloud.com) (Quit: Connection closed for inactivity)
[01:35:21] *** Joins: brendan (brendaneic@35E90EE3.B8B12C49.396B22AD.IP)
[01:35:29] <dougxxx> hm... anyone know why a rust build on one mac would work, but fail on another? (ld: Assertion failed: (memberIndex != 0), function makeObjectFileForMember, file /SourceCache/ld64/ld64-236.3/src/ld/parsers/archive_file.cpp, line 355.)
[01:35:40] <dougxxx> ah, I mean, compiling a crate that statically links to a c lib
[01:36:02] <aatch> dougxxx, bug in ld?
[01:36:06] <dougxxx> They're both identical versions of osx, pulled and built head about an hour ago on both
[01:36:14] <dougxxx> yeah, but O_o works on one machine
[01:36:19] *** Quits: lpy (lpy@8B40CDAC.F09091A8.1348A864.IP) (Ping timeout)
[01:36:33] <aatch> Assertions are generally a sign of a bug in the software asserting.
[01:36:38] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[01:37:00] <dougxxx> mm... reinstall clang time
[01:37:02] <dougxxx> :P
[01:39:38] *** Joins: mno2 (mno2@E1E0A0A3.621D86F0.CFF65E33.IP)
[01:40:56] *** Quits: philix (felipe@moz-9FAFA12F.user.veloxzone.com.br) (Ping timeout)
[01:41:03] *** Quits: Rym (y@6A178123.F555FE1C.51C6DE68.IP) (Ping timeout)
[01:43:37] *** Joins: olivernn (olivernigh@moz-7CE0F8.access.mtnbusiness.co.za)
[01:45:27] *** Quits: olivernn (olivernigh@moz-7CE0F8.access.mtnbusiness.co.za) (Ping timeout)
[01:46:53] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Client exited)
[01:47:37] *** Joins: mbrubeck (sid17036@moz-A42E5B7B.irccloud.com)
[01:47:37] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[01:48:24] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[01:48:29] *** Joins: tomh- (uid501@moz-E77DEB21.irccloud.com)
[01:48:40] *** Joins: jagtalon (sid24114@moz-E77DEB21.irccloud.com)
[01:48:53] *** Joins: Rym (y@6A178123.F555FE1C.51C6DE68.IP)
[01:48:55] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Quit: Konversation terminated!)
[01:49:03] *** Joins: gwty (gwtypc@9CBCEDA8.6ED6EC5D.137C914F.IP)
[01:49:14] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[01:49:26] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[01:49:57] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[01:50:06] *** Joins: ChrisOei (ChrisOei@moz-30D80888.hsd1.ca.comcast.net)
[01:50:16] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Quit: Konversation terminated!)
[01:50:29] *** Quits: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP) (Quit: colinsurprenant)
[01:50:34] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[01:50:49] *** Quits: sunfish (chatzilla@moz-62518563.mtv2.mozilla.com) (Ping timeout)
[01:51:01] *** Quits: mno2 (mno2@E1E0A0A3.621D86F0.CFF65E33.IP) (Quit: mno2)
[01:51:12] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Quit: Konversation terminated!)
[01:51:25] <dougxxx> \o/ yay, updating clang made the problem go away~
[01:51:31] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[01:51:31] *** Quits: brendan (brendaneic@35E90EE3.B8B12C49.396B22AD.IP) (Quit: brendan)
[01:51:40] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[01:53:03] *** Quits: m-r-r (m-r-r@moz-D06911F6.rev.sfr.net) (Client exited)
[01:53:14] *** Joins: philix (felipe@moz-9FAFA12F.user.veloxzone.com.br)
[01:53:26] *** Quits: evanm (evanm@636AC086.5999CED5.71743E61.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[01:53:31] *** Quits: q66 (q66@moz-E680C693.range109-154.btcentralplus.com) (Ping timeout)
[01:53:42] *** Joins: q66 (q66@moz-E680C693.range109-154.btcentralplus.com)
[01:54:09] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Quit: Konversation terminated!)
[01:55:05] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[01:55:51] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Quit: Konversation terminated!)
[01:56:10] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[01:58:28] *** Joins: jmsaunde (jmsaunde@moz-6FB6A254.cmclub.uwaterloo.ca)
[01:58:54] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[02:00:57] *** Joins: brendan (brendaneic@35E90EE3.B8B12C49.396B22AD.IP)
[02:01:30] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[02:01:58] <kmc> does the contract behind the Iterator trait allow an iterator to return None and then later return Some(x)?
[02:02:23] <ChrisMorgan> kmc: it does, but in most cases that is not desirable behaviour.
[02:02:28] *** Joins: Ralith (ralith@moz-67D4EB93.customer.broadstripe.net)
[02:02:42] <ChrisMorgan> (The existence of the fuse method acknowledges this case.)
[02:02:59] *** Joins: alan_andrade (alan_andra@moz-8862F69E.hsd1.ca.comcast.net)
[02:03:01] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[02:03:05] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[02:03:20] <kmc> well my thing returns None for "no data ready at the moment", and I don't really need it to be an Iterator, except that things like .take(n) are convenient (when I already know there are n characters available)
[02:05:03] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Ping timeout)
[02:05:35] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[02:05:41] *** Quits: refold (gman@moz-42D68426.a258.priv.bahnhof.se) (Quit: leaving)
[02:06:10] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[02:06:25] *** Quits: Guest_ (textual@moz-B0DA5BFF.hsd1.sc.comcast.net) (Client exited)
[02:06:47] *** Joins: Guest_ (textual@moz-B0DA5BFF.hsd1.sc.comcast.net)
[02:07:30] *** Quits: bjustin (bjustin@moz-8FC28563.sierrabravo.net) (Ping timeout)
[02:07:34] *** Joins: onelson (owen@18CF7301.95770028.5B6BFE7D.IP)
[02:08:03] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[02:09:49] *** Joins: p1start (rewi@moz-A082F561.adsl.xtra.co.nz)
[02:11:05] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[02:11:33] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[02:12:37] <ChrisMorgan> sfackler: just trying rust-openssl now, in `make check`, all of ssl::tests::* except ssl::tests::test_new_ctx are failing. Any clues?
[02:14:40] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[02:14:52] *** Quits: q66 (q66@moz-E680C693.range109-154.btcentralplus.com) (Quit: Leaving)
[02:14:56] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[02:14:58] <ChrisMorgan> sfackler: your Travis CI config is running `make test` which isn't a real thing rather than `make check`!
[02:16:25] *** Quits: Jesse_ (jruderman@moz-62518563.mtv2.mozilla.com) (Quit: Jesse_)
[02:17:43] <ChrisMorgan> sfackler: looks like the tests are depending on something running on port 15418? (That won't do, especially not documented.)
[02:17:55] *** Quits: claudiu (claudiu@moz-FB94486E.thefacebook.com) (Input/output error)
[02:18:16] *** Joins: claudiu (claudiu@moz-FB94486E.thefacebook.com)
[02:19:13] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Quit: Leaving...)
[02:20:02] *** Quits: claudiu (claudiu@moz-FB94486E.thefacebook.com) (Ping timeout)
[02:20:26] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[02:22:06] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[02:22:11] *** Joins: phay (phay@16E8BAAB.D2C4A785.91986DB5.IP)
[02:23:03] *** Quits: brendan (brendaneic@35E90EE3.B8B12C49.396B22AD.IP) (Ping timeout)
[02:25:03] *** Quits: lerc (quassel@moz-289EFA2.telstraclear.net) (Client exited)
[02:25:11] *** Joins: anshin (anshin@CD85F10D.F21429E2.354459FA.IP)
[02:27:12] *** Joins: kanru (kanru@moz-DB4A9C19.scl3.mozilla.com)
[02:28:49] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[02:29:10] <sfackler> ChrisMorgan: check out the before-script section. It boots openssl s_server
[02:29:24] <sfackler> "make test" was inherited from rust-crypto :P
[02:30:12] <ChrisMorgan> sfackler: then .travis.yml needs to be changed to use make check instead of make test (so that it actually gets tested) and make check needs to be fixed to start the server.
[02:30:49] <ChrisMorgan> (I'd prefer it to be done inside the rustc-built test executable, but I'm not certain whether that can be conveniently done at present.)
[02:31:19] <ChrisMorgan> Getting lots of errors about unwrap() on Err is not the nicest way to have it.
[02:31:25] *** Joins: Jesse (jruderman@moz-62518563.mtv2.mozilla.com)
[02:31:36] *** Quits: Guest_ (textual@moz-B0DA5BFF.hsd1.sc.comcast.net) (Client exited)
[02:31:47] *** Quits: valentin (Thunderbir@4F2F9D91.E06BF678.B9540FE1.IP) (Ping timeout)
[02:31:57] *** Joins: Guest_ (textual@moz-B0DA5BFF.hsd1.sc.comcast.net)
[02:32:08] *** Joins: valentin (Thunderbir@4F2F9D91.E06BF678.B9540FE1.IP)
[02:32:14] <ChrisMorgan> sfackler: you would then also need to kill the openssl process, whereas I presume it's done automatically by Travis CI.
[02:32:55] *** Joins: philix_ (felipe@moz-805B694F.user.veloxzone.com.br)
[02:33:09] <ChrisMorgan> Good, it all passes now.
[02:33:10] *** Quits: Jesse (jruderman@moz-62518563.mtv2.mozilla.com) (Quit: Jesse)
[02:33:19] * ChrisMorgan prepares to build rust-http with SSL support
[02:33:41] *** Quits: Rufflewind (rf@moz-4556AD29.lightspeed.lnngmi.sbcglobal.net) (Connection reset by peer)
[02:33:45] *** Quits: philix (felipe@moz-9FAFA12F.user.veloxzone.com.br) (Ping timeout)
[02:34:36] *** Quits: brson (brson@moz-62518563.mtv2.mozilla.com) (Ping timeout)
[02:37:46] *** Quits: Phlogistique (no@moz-B2BEB013.net) (Ping timeout)
[02:37:49] *** Quits: darnuria (darnuria@moz-AB6EB255.ip-91-121-133.eu) (Ping timeout)
[02:37:56] *** Quits: darkf (darkf@moz-F9058B8A.net) (Ping timeout)
[02:37:56] *** Quits: alexherbo2 (alexherbo2@moz-AB6EB255.ip-91-121-133.eu) (Ping timeout)
[02:37:58] *** Quits: Seldaek (seld@moz-5DEA7688.ch) (Ping timeout)
[02:38:03] *** Quits: davbo (dave@moz-D026B2A9.skybroadband.com) (Ping timeout)
[02:38:03] *** Quits: kangz (kangz@moz-61F34019.kimsufi.com) (Ping timeout)
[02:38:03] *** Quits: abustany (abustany@moz-C0C970CD.org) (Ping timeout)
[02:38:10] *** Quits: kaeso (kaeso@moz-F21FF626.unstable.it) (Ping timeout)
[02:38:10] *** Quits: Siyo (Siyo@A89938F4.87DAA49F.F113998C.IP) (Ping timeout)
[02:38:10] *** Quits: TobiasFar (tm@moz-A929D162.flosoft-servers.net) (Ping timeout)
[02:38:12] *** Quits: GrecKo (GrecKo@moz-A7AA1BB6.fr) (Ping timeout)
[02:38:12] *** Quits: companion_cube (simon@moz-F48A362B.cedeela.fr) (Ping timeout)
[02:38:23] *** Quits: luisbg (luisbg@moz-C54443AD.baconseed.org) (Ping timeout)
[02:38:23] *** Quits: glandium (glandium@moz-A09032B1.kimsufi.com) (Ping timeout)
[02:38:24] *** Quits: Siosm (quassel@moz-9911B053.fr) (Ping timeout)
[02:38:24] *** Quits: k4nar (quassel@moz-EE8DAF45.ip-91-121-75.eu) (Ping timeout)
[02:38:27] *** Joins: Siosm (quassel@moz-9911B053.fr)
[02:38:27] *** Joins: k4nar (quassel@moz-EE8DAF45.ip-91-121-75.eu)
[02:38:28] *** Joins: luisbg (luisbg@moz-C54443AD.baconseed.org)
[02:38:28] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[02:38:28] *** Joins: kaeso (kaeso@moz-F21FF626.unstable.it)
[02:38:29] *** Joins: GrecKo (GrecKo@moz-A7AA1BB6.fr)
[02:38:31] *** Joins: Seldaek (seld@moz-5DEA7688.ch)
[02:38:31] *** Joins: glandium (glandium@moz-A09032B1.kimsufi.com)
[02:38:33] *** Quits: luz (lu.cy@moz-CD18B14B.customer.cdi.no) (Ping timeout)
[02:38:35] *** Quits: dpanth3r (dinofelis@228444B8.6B06001A.BB6F225C.IP) (Ping timeout)
[02:38:36] *** Joins: dpanth3r (dinofelis@228444B8.6B06001A.BB6F225C.IP)
[02:38:36] *** concrete.mozilla.org sets mode: +R 
[02:38:46] *** Joins: luz (lu.cy@moz-CD18B14B.customer.cdi.no)
[02:38:47] *** Quits: krdln (Mibbit@moz-C271714F.dynamic.chello.pl) (Ping timeout)
[02:38:55] *** Quits: brontrn (Mibbit@moz-C8D86903.tc.ph.cox.net) (Ping timeout)
[02:38:58] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Quit: TheHydroImpulse)
[02:42:54] *** Quits: oxum (anonymous@9057F4B6.6E532920.520CDC98.IP) (Quit: ...)
[02:42:55] * ChrisMorgan has rust-http + rust-openssl working and will finish tidying it up and merge it after lunch
[02:43:34] *** concrete.mozilla.org sets mode: -R 
[02:43:43] *** Joins: Siyo (Siyo@A89938F4.87DAA49F.F113998C.IP)
[02:45:16] <bstrie> since Cargo is a pretty big announcement, I'm putting aside my reservations of fishing for upvotes: https://news.ycombinator.com/item?id=7419553
[02:45:49] *** Quits: valentin (Thunderbir@4F2F9D91.E06BF678.B9540FE1.IP) (Ping timeout)
[02:46:16] *** Joins: valentin (Thunderbir@4F2F9D91.E06BF678.B9540FE1.IP)
[02:48:31] *** Joins: GameGamer43 (sid5533@moz-E77DEB21.irccloud.com)
[02:49:26] <bstrie> bjz_: ^upvote requested
[02:49:31] <bstrie> other hners too
[02:49:53] <bstrie> let's see if HN still goes crazy over anything vaguely associated with ruby
[02:50:08] <mcpherrin> be careful about linking HN threads directly
[02:50:16] <mcpherrin> the spam-killer will kill your post 
[02:50:39] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[02:50:42] <mcpherrin> I suppose IRC doesn't always have the same referer so it's not so bad
[02:50:54] <bstrie> mcpherrin: I've never linked an HN thread from here before, it has no reason to suspect an upvote brigade :P
[02:51:02] *** Quits: gimpf (gimpf@moz-20705D24.adsl.highway.telekom.at) (Ping timeout)
[02:51:19] *** Quits: gwty (gwtypc@9CBCEDA8.6ED6EC5D.137C914F.IP) (Ping timeout)
[02:52:11] *** Quits: Rym (y@6A178123.F555FE1C.51C6DE68.IP) (Ping timeout)
[02:52:20] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[02:52:24] <dougxxx> mm... cargo sounds interesting. Hopefully it follows the npm model of things~
[02:52:52] <mcpherrin> Well, bundler is a more likely place to look than npm :P
[02:53:02] <dougxxx> bundler isn't bad either.
[02:53:11] <dougxxx> but gem is still terrible system-wide installs
[02:53:20] <dougxxx> rather than local directory installs
[02:53:31] <mcpherrin> yeah but you should use your OS package manager for that
[02:53:42] <mcpherrin> npm explicitly doesn't do it, right?
[02:53:52] <o11c> mcpherrin: os package manager should just do cargo --prefix=/usr
[02:53:54] <dougxxx> which thing specifically?
[02:54:13] <mcpherrin> system-wide packages 
[02:54:15] <o11c> (well, probably --no-remote-deps also)
[02:54:17] <dougxxx> yep
[02:54:28] <o11c> but --prefix=/usr/local should definitely be supported
[02:54:35] <dougxxx> npm -g is a 'global' install, but that just means install into a default folder
[02:54:37] <o11c> I don't do ruby so I don't know how bundle works
[02:54:52] <dougxxx> I thought bundle just invoked gme honestly.
[02:54:52] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[02:54:54] *** Joins: erickt (etryzelaar@49C4075F.3AC15C18.2321E71E.IP)
[02:54:55] <dougxxx> *gem
[02:54:57] <o11c> I like the python setup.py way; I don't like npm
[02:55:05] <dougxxx> !
[02:55:11] <dougxxx> you can't uninstall setup.py instals though
[02:55:12] <dougxxx> terrible
[02:55:13] <dougxxx> :(
[02:55:14] <o11c> but I *really* hope ~/.local/rust is the way it happens
[02:55:15] *** Quits: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[02:55:37] <o11c> I wrote an RFC about that ...
[02:55:46] <mcpherrin> you should just go read the design docs
[02:55:52] <dougxxx> where are they?
[02:56:07] <ChrisMorgan> https://github.com/carlhuda/cargo/tree/master/DESIGN
[02:56:08] <mcpherrin> https://github.com/carlhuda/cargo/
[02:56:16] *** Quits: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net) (Ping timeout)
[02:56:41] *** Quits: erickt (etryzelaar@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[02:56:55] <huon> o11c: I cc'd the contractors on your RFC
[02:57:16] * ChrisMorgan doesn't like toml or yaml much
[02:57:20] <o11c> huon: thanks
[02:57:35] <Kxepal> dougxxx: because setup.py isn't a package manager as npm. pip can do that
[02:58:03] <o11c> but half the time I don't use pip to install something
[02:58:05] *** Joins: Rym (y@6A178123.F555FE1C.51C6DE68.IP)
[02:58:25] <o11c> I run git-clone *myself* (because I want to hack on it or something), and then run setup.py
[02:58:45] <dougxxx> Kxepal; yes, but broadly speaking system-wide library installs are in conflict with version pinning. 
[02:58:47] <o11c> actually, I often download via git even if I'm just installing it, because it menas future updates are downloaded faster
[02:58:55] <Kxepal> well, pip is able to handle git links and filesystem dirs with setup.py inside
[02:58:57] <o11c> but rust has hashes for that
[02:59:00] <dougxxx> Its one or the other, or screw around with obscure named install folders.
[02:59:09] *** Joins: erickt (etryzelaar@49C4075F.3AC15C18.2321E71E.IP)
[02:59:47] <dougxxx> (but yes, pip is a godsend; finally python package manager that actually works)
[03:00:24] <huon> (Someone write a 5 dimensional 2048 in Rust; it's a sure-fire way to get to the frontpages of proggit and HN ;P )
[03:00:30] *** Joins: mno2 (mno2@E1E0A0A3.621D86F0.CFF65E33.IP)
[03:02:06] <o11c> I expected a noun other than "2048" while parsing that sentence
[03:02:22] <kmc> I was going to write a 2048 AI so I can stop playing the fucking game myself
[03:02:34] <kmc> also, http://doge2048.com/
[03:02:40] <dougxxx> haha~ that'd get you good karma~
[03:03:09] *** Joins: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[03:03:13] *** Joins: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net)
[03:03:13] *** ChanServ sets mode: +o tjc
[03:03:19] <bstrie> kmc: they beat you to that, it was on the frontpage of HN the day after the original post
[03:03:30] <bstrie> it wasn't reliably beating the game, though
[03:04:08] *** Quits: Sorella (queen@9D963F5D.DF5D8AE7.54BCAB54.IP) (Quit: It is tiem!)
[03:04:21] *** Quits: Guest_ (textual@moz-B0DA5BFF.hsd1.sc.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[03:04:32] <kmc> can't say I'm surprised
[03:04:55] *** Joins: Denommus (user@moz-CAD047F5.user.veloxzone.com.br)
[03:05:16] <huon> apparently it's at 90% or so
[03:05:24] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Client exited)
[03:05:25] <huon> (success rate)
[03:05:26] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[03:05:28] *** Quits: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[03:05:58] <Denommus> having a RWArc is... awesome
[03:07:23] *** Joins: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca)
[03:08:22] <aatch> Denommus, you can thank bblum(?) for it.
[03:08:42] <Kxepal> kmc: http://ov3y.github.io/2048-AI/
[03:09:31] <bblum> aatch: yep
[03:09:39] <bblum> rwarc is my proudest contribution
[03:10:06] <aatch> bblum, along with half of what is now libsync
[03:10:29] <bblum> is libsync just the associated stuff, like the semaphores and rwlocks?
[03:10:47] <aatch> bblum, I think it has Arc and MutexArc too
[03:10:51] <bblum> sure
[03:11:01] <Denommus> I'm doing a XNA-inspired game engine, and I wanted the "update" calls to be spawned into another task. Of course, the update may change the state of the game, so it should lock it while the game is running. On the other hand, "draw" SHOULDN'T change the state of the game (besides that fact that the changes will appear on the screen). So, yeah, RWArc is welcome :-)
[03:11:24] <bblum> Denommus: thanks for the validation :)
[03:11:52] <bblum> aatch: they are all different flavours of the same theme; rwarc is just what i think of as the culmination of all the flavours into the maximally expressive thing you can do
[03:11:59] <bblum> does it still have downgrade
[03:12:06] <aatch> bblum, good point.
[03:12:10] <aatch> bblum, no idea, probably.
[03:12:17] <huon> yeah
[03:12:20] <huon> it does
[03:12:34] <huon> although acrichto has a big rewrite of libsync that may change that
[03:12:37] * huon checks
[03:12:56] <acrichto> bblum: I did indeed keep downgrade
[03:13:02] <aatch> If I remember correctly, RWArc is less efficient in cases with many writers?
[03:13:20] <huon> aatch: yeah, a plain mutex is faster
[03:13:27] *** Joins: evanm (evanm@moz-4D6F9A00.hsd1.ca.comcast.net)
[03:13:37] <bjz_> bstrie: ack, you didn't kill it did you? :(
[03:13:38] <bblum> acrichto: excellent
[03:13:54] <bblum> aatch: shouldn't be; i used a balanced-fairness algorithm
[03:13:54] <huon> bjz_: it's on the front page now
[03:14:23] <aatch> bblum, I shall take your word for it (I have no idea really...)
[03:14:30] <huon> bblum: surely it has to be? a single mutex is doing strictly less work than a RW one does for the same task?
[03:14:36] <Denommus> aatch: the resource is shared with only two tasks, so that wouldn't be a problem for me
[03:14:37] <acrichto> bblum: when I was updating the tests, I could definitely tell that someone from 410 wrote that rwarc
[03:14:48] * huon defers to bblum's knowledge, though
[03:14:51] <bblum> aatch: http://en.wikipedia.org/wiki/Readers%E2%80%93writers_problem#The_third_readers-writers_problem
[03:14:52] *** Joins: twi (Adium@moz-A3B8EA95.static.bezeqint.net)
[03:14:54] <sfackler> ChrisMorgan: I just leave it running in the background :D
[03:14:57] <bblum> acrichto: ;)
[03:15:13] <ChrisMorgan> sfackler: that won't work for others. Reproducible results, man. Reproducible results.
[03:15:32] <bjz_> huon: awesome!
[03:15:52] <sfackler> ChrisMorgan: patches welcome :P
[03:16:06] <bblum> huon: sure, it technically does more work than a mutexarc would
[03:16:11] <bblum> but like, not much
[03:16:14] <bblum> it just takes an extra mutex
[03:16:21] <huon> bjz_: it's actually there twice now ;P
[03:16:35] <bjz_> haha
[03:16:40] <bjz_> it's awesome news
[03:16:48] <bjz_> what is the dev's name on irc?
[03:16:56] <huon> wycats
[03:16:56] <bjz_> (just curious)
[03:17:01] <huon> not sure about carl's
[03:17:07] <bjz_> wycats: yaayy!!
[03:17:07] <ChrisMorgan> (wycats = Yehuda Katz)
[03:17:22] <bjz_> <3 <3
[03:17:24] <bblum> huon: but like, if you have a many-writers-infrequent-readers scenario, i'd still recommend a rwarc over a mutexarc because the simultaneous-readers performance win is algorithmic, while the extra-mutex performance loss is more of a microoptimization
[03:17:25] <bjz_> super excited
[03:17:57] *** Quits: evanm (evanm@moz-4D6F9A00.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[03:18:01] <ChrisMorgan> sfackler: hmm... I'm getting an "SSL session closed" error on my rust-http + rust-ssl when I get to response.read_to_end() (header reading goes fine), not sure why.
[03:18:24] *** Joins: zil (sid23500@moz-31ABA2C0.irccloud.com)
[03:18:31] <huon> bblum: constant factors can still be significant ;P (but yeah, I take your point)
[03:19:38] <bblum> it's always a judgement call
[03:20:11] <bblum> back when i did some work on linux, there was serious emphasis on favouring hot-path performance, even if it meant massive performance hits in other code paths
[03:20:19] <Denommus> is there any equivalent to "exit" in Rust?
[03:20:26] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[03:20:30] <acrichto> Denommus: libc::exit, but it's unsafe
[03:20:44] <bblum> how could libc::exit be unsafe
[03:20:51] *** Quits: IanCormac84 (User@56B6D042.64D641E5.67DFF8B4.IP) (Ping timeout)
[03:20:54] <huon> bblum: ffi
[03:20:59] <bblum> yeah but like
[03:21:01] <bblum> it's exit.
[03:21:12] <huon> there were some crashes on OSX(?) from using exit
[03:21:13] *** Quits: jeaye (jeaye@moz-34FEF2BB.hsd1.ca.comcast.net) (Quit: zzz)
[03:21:13] <Denommus> acrichto: if I have two tasks, and one is responsible for exiting, what would be the safest approach?
[03:21:14] <huon> iirc
[03:21:20] <bblum> oh i see
[03:21:24] <bblum> like memory heap stuff
[03:21:31] <huon> probably
[03:21:41] * huon can't remember
[03:21:48] <acrichto> Denommus: the safest approach is to have all tasks exit
[03:21:48] *** Joins: oxum (anonymous@E074467E.49BE8C5.520CDC98.IP)
[03:21:58] *** Joins: IanCormac84 (User@B960A8D.2A8D8854.67DFF8B4.IP)
[03:22:04] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[03:22:04] <acrichto> Denommus: otherwise there is no safe approach, you need each task to exit somehow (via failing or returning)
[03:22:15] *** Quits: andor (andor@moz-708868D.neferty.me) (Ping timeout)
[03:22:15] *** Quits: glandium (glandium@moz-A09032B1.kimsufi.com) (Ping timeout)
[03:22:15] *** Quits: luisbg (luisbg@moz-C54443AD.baconseed.org) (Ping timeout)
[03:22:15] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[03:22:15] *** Quits: KokaKiwi (kokakiwi@moz-D674DAC6.kokakiwi.net) (Ping timeout)
[03:22:17] *** Quits: kaeso (kaeso@moz-F21FF626.unstable.it) (Ping timeout)
[03:22:17] *** Quits: Siyo (Siyo@A89938F4.87DAA49F.F113998C.IP) (Ping timeout)
[03:22:17] *** Quits: dpanth3r (dinofelis@228444B8.6B06001A.BB6F225C.IP) (Ping timeout)
[03:22:21] *** Joins: rusty_banger (rusty_bang@moz-DCEC0170.hsd1.co.comcast.net)
[03:22:22] <acrichto> bblum: no destructors are run
[03:22:25] *** Joins: Auv (Jack@moz-341A75C6.cpe.net.cable.rogers.com)
[03:22:26] *** Quits: Seldaek (seld@moz-5DEA7688.ch) (Ping timeout)
[03:22:29] <acrichto> resources can be leaked
[03:22:29] *** Joins: andor (andor@moz-708868D.neferty.me)
[03:22:29] *** Joins: Seldaek (seld@moz-5DEA7688.ch)
[03:22:29] *** Joins: abustany (abustany@moz-C0C970CD.org)
[03:22:30] *** Joins: KokaKiwi (kokakiwi@moz-D674DAC6.kokakiwi.net)
[03:22:31] <bblum> ahhh, yes
[03:22:32] <acrichto> (temporary files, etc)
[03:22:32] *** Joins: dpanth3r (dinofelis@228444B8.6B06001A.BB6F225C.IP)
[03:22:33] *** Joins: darnuria (darnuria@moz-AB6EB255.ip-91-121-133.eu)
[03:22:35] *** Joins: darkf (darkf@moz-F9058B8A.net)
[03:22:37] *** Joins: glandium (glandium@moz-A09032B1.kimsufi.com)
[03:22:40] *** Quits: Siosm (quassel@moz-9911B053.fr) (Ping timeout)
[03:22:40] *** Quits: k4nar (quassel@moz-EE8DAF45.ip-91-121-75.eu) (Ping timeout)
[03:22:40] *** Quits: GrecKo (GrecKo@moz-A7AA1BB6.fr) (Ping timeout)
[03:22:41] *** Joins: GrecKo (GrecKo@moz-A7AA1BB6.fr)
[03:22:41] *** Joins: k4nar (quassel@moz-EE8DAF45.ip-91-121-75.eu)
[03:22:41] <Denommus> acrichto: so, should the responsible task send a signal to the other task just before it exits?
[03:22:42] *** Joins: Siosm (quassel@moz-9911B053.fr)
[03:22:45] *** Joins: Siyo (Siyo@A89938F4.87DAA49F.F113998C.IP)
[03:22:54] <acrichto> Denommus: ideally, yes
[03:22:55] *** Joins: int3_ (int3_@moz-431EBCCF.lightspeed.cicril.sbcglobal.net)
[03:22:55] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[03:22:58] *** Joins: kaeso (kaeso@moz-F21FF626.unstable.it)
[03:23:29] *** Quits: xitology (xi@85437D54.5AFA3E4.CEDFC552.IP) (Ping timeout)
[03:23:44] *** Joins: xitology (xi@85437D54.5AFA3E4.CEDFC552.IP)
[03:24:01] <Denommus> acrichto: that seems hard-ish to model at first sight (not that I'm still having trouble to understand). I guess it would fit really well in outlining the challenges and best approaches for common patterns
[03:24:38] *** Joins: luisbg (luisbg@moz-C54443AD.baconseed.org)
[03:25:54] <Denommus> I'll think about it tomorrow, I'm going to sleep
[03:26:03] <Denommus> good night for you all
[03:26:23] *** Quits: Denommus (user@moz-CAD047F5.user.veloxzone.com.br) (Quit: going to sleep)
[03:27:14] *** Joins: bleibig (bleibig@moz-B4D9C5AF.hsd1.ca.comcast.net)
[03:29:51] *** Joins: pepper_chico (pepper_chi@BE2968B5.6F4A2706.E4090502.IP)
[03:29:57] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Ping timeout)
[03:30:02] *** Quits: untitaker (untitaker@moz-EC5E198A.adsl.highway.telekom.at) (Ping timeout)
[03:30:23] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[03:31:25] <rusty_banger> So, I've done a quick search in the docs and on /r/rust, but I want to hear some opinions here about idiomatic I/O error handling. I have a background task that's reading JSON data from a gpsd instance. If the protocol has changed or something else goes wrong, is the correct behavior to fail the background task? That's what I understood in 0.9, but it seems like a lot of I/O error handling has changed since then.
[03:34:08] <ChrisMorgan> rusty_banger: conditions are gone since 0.9 and replaced (in I/O) with explicit errors. But that's not especially relevant to your situation: is there anything that your background task can do if something goes wrong or the protocol has changed? If the answer is no then it is likely that failing is the best thing to do.
[03:35:14] *** Quits: oxum (anonymous@E074467E.49BE8C5.520CDC98.IP) (Quit: Bye..)
[03:35:33] *** Joins: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[03:35:36] <rusty_banger> nope, it really can't do anything. It uses an Option so that if it can't get a proper fix, it can return a None.
[03:35:41] *** Joins: oxum (anonymous@E074467E.49BE8C5.520CDC98.IP)
[03:36:06] <rusty_banger> but that's independent of the background task.
[03:36:19] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[03:36:27] *** Quits: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com) (Client exited)
[03:36:57] <rusty_banger> is the is_ok! macro still a thing?
[03:37:04] <ChrisMorgan> rusty_banger: try!
[03:37:06] <ChrisMorgan> (renamed)
[03:37:17] <rusty_banger> cool, thank you
[03:37:46] *** Joins: untitaker (untitaker@moz-CE40CB19.adsl.highway.telekom.at)
[03:37:48] *** Quits: Yurumechan (23f9939a@B2F514.E4420F21.EEF52F3A.IP) (Ping timeout)
[03:38:50] *** Quits: sellout (Adium@moz-50E0C35.hlrn.qwest.net) (Ping timeout)
[03:39:43] *** Joins: sellout (Adium@moz-6B18A669.hlrn.qwest.net)
[03:41:44] *** Quits: dapz (textual@moz-F958911.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[03:41:45] *** Joins: Yurumechan (23f9939a@B2F514.E4420F21.EEF52F3A.IP)
[03:42:20] *** Joins: IanCormac841 (User@14C15397.64D641E5.67DFF8B4.IP)
[03:42:29] *** Quits: IanCormac84 (User@B960A8D.2A8D8854.67DFF8B4.IP) (Ping timeout)
[03:42:58] *** Quits: nstoddard (nstoddard@moz-8527C50E.dhcp.embarqhsd.net) (Ping timeout)
[03:44:06] *** Quits: japaric1 (japaric@F7ED54E5.59294C36.95AFB88D.IP) (Ping timeout)
[03:44:25] *** Joins: olivernn (olivernigh@moz-7CE0F8.access.mtnbusiness.co.za)
[03:44:36] <wycats> bjz_: ohai
[03:44:39] <rusty_banger> what about the and_then() function on the Result type? Is that useful in my case?
[03:44:50] *** Joins: nstoddard (nstoddard@moz-8527C50E.dhcp.embarqhsd.net)
[03:44:57] *** Joins: japaric1 (japaric@59593737.CBA91732.95AFB88D.IP)
[03:45:13] <bjz_> wycats: posted some questions to the ML
[03:45:26] *** Quits: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[03:46:02] *** Joins: sunfish (chatzilla@moz-42DA0C69.dsl.dynamic.sonic.net)
[03:46:10] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[03:46:10] *** ChanServ sets mode: +ao pcwalton pcwalton
[03:46:21] *** Quits: olivernn (olivernigh@moz-7CE0F8.access.mtnbusiness.co.za) (Ping timeout)
[03:47:06] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[03:47:30] *** Joins: evanm (evanm@moz-4D6F9A00.hsd1.ca.comcast.net)
[03:47:49] *** Joins: sawrubh (uid6719@moz-5F4AA75A.irccloud.com)
[03:48:26] <wycats> bjz_: will respond after dinner :)
[03:48:28] <wycats> "I put "package manager" in scare quotation marks because one of the design goals of Go is essentially to render most of the functionality of such package managers irrelevant." <= WAT
[03:48:42] <bjz_> wycats: no problem
[03:48:45] *** Quits: nstoddard (nstoddard@moz-8527C50E.dhcp.embarqhsd.net) (Ping timeout)
[03:48:47] <bjz_> heh
[03:48:48] <wycats> ah these are softballs :)
[03:48:49] <bjz_> :D
[03:48:53] <wycats> thank you
[03:50:55] *** Joins: nstoddard (nstoddard@moz-8527C50E.dhcp.embarqhsd.net)
[03:51:35] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[03:52:36] *** Joins: bmu (chatzilla@moz-A87574A6.hsd1.pa.comcast.net)
[03:53:19] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[03:54:05] *** Joins: wilmoore (wilmoore@moz-4EF3CEBC.hsd1.co.comcast.net)
[03:55:08] <huon> wycats: it's because Go doesn't allow you to build reusable abstractions that make sense as package managers
[03:55:11] <huon> :P
[03:55:21] <huon> *make sense as packages
[03:56:10] <ChrisMorgan> huon: you should've written that as `s/ \S+$/s/`!
[03:56:14] <ChrisMorgan> Just to confuse people!
[03:57:52] *** Quits: zz_kimundi (kimundi@moz-C61A47F0.dip0.t-ipconnect.de) (Ping timeout)
[03:57:56] *** Quits: mib_mj0nnc (Mibbit@moz-F6E8DA4C.pppoe-dynamic.high-speed.ns.bellaliant) (Quit: http://www.mibbit.com ajax IRC Client)
[03:58:26] <tautologico> you don't need packages with Go, everything is so easy to do with the language that you just rewrite anything you need
[03:58:31] <tautologico> :)
[03:59:00] * ChrisMorgan is sad—most HTTPS requests are failing with the message "SSL session closed" when trying to read the body
[03:59:36] <ChrisMorgan> I say most because it's not all. A quick sample of https://example.com/, https://github.com/ and https://google.com/ has the third one working and the other two not.
[04:00:33] <huon> 1 out of 3 ain't bad
[04:00:43] <j3rky> :)
[04:00:51] <ChrisMorgan> And https://news.ycombinator.com/ works.
[04:01:08] <ChrisMorgan> sfackler: any ideas about what it would be, or am I going to have to dig real deep?
[04:01:15] <olsonjeffery> wycats: what is the worst package manager you've ever worked on and why is it bundler?
[04:01:17] * olsonjeffery hides
[04:01:18] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[04:01:19] <sfackler> ChrisMorgan: you may have to dig a bit
[04:01:23] <ChrisMorgan> :-(
[04:01:26] <sfackler> that's just returned if openssl returns it
[04:01:29] *** Joins: zz_kimundi (kimundi@moz-CAFCCD90.dip0.t-ipconnect.de)
[04:01:47] <sfackler> if you can repro it on a server you control you can try MITMing it with wireshark to look at the back and forth
[04:01:53] *** zz_kimundi is now known as kimundi
[04:02:16] <ChrisMorgan> sfackler: I don't know what could be causing it. The stream is passed around a few times but it's all inside the one task and it never goes out of scope.
[04:02:19] <sfackler> it's definitly not returning the whole body before it runsi into that?
[04:02:45] <ChrisMorgan> I guess I've just been calling read_to_end(), which would obscure the entire thing if it hits an error…
[04:02:49] <wycats> olsonjeffery: lololol
[04:02:54] <olsonjeffery> i hope im showing my hand as to my general lack of seriousness, since i can't really say bundler's a package manager.. more like a package, environment... bundler?
[04:03:00] <wycats> I admit to working on rubygems :P
[04:03:07] <ChrisMorgan> rust-http is the worst HTTP library I've ever written ☹
[04:03:19] <wycats> olsonjeffery: bundler actually relies on rubygems very little
[04:03:21] <olsonjeffery> im a perpetual ruby neophyte.. but i have retained some of the brain cells that messed w/ sinatra apps i played with
[04:03:24] <huon> rustc is the worst compiler I've contributed to
[04:03:29] <ChrisMorgan> Ditto.
[04:03:29] <wycats> rubygems doesn't have a "packages from github" feature
[04:03:35] * olsonjeffery nods
[04:03:36] <wycats> so if bundler isn't a package manager, where does it come from?
[04:03:58] <olsonjeffery> well you specify gems
[04:04:01] <olsonjeffery> so mumble mumble handwave
[04:04:02] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[04:04:07] * ChrisMorgan doesn't like GitHub URLs being package paths, like Go uses. Things break mighty easily and frequently.
[04:04:08] <olsonjeffery> once again, i can't presume to tell you how bundler works
[04:04:24] <olsonjeffery> so ill [un]gracefully demure to your learned opinion on the matter
[04:04:26] <wycats> ChrisMorgan: nor do we
[04:04:31] <ChrisMorgan> *whew*
[04:04:32] <wycats> ChrisMorgan: it's an excellent escape valve
[04:04:38] <wycats> but it should not be the primary mode of operation
[04:04:41] <wycats> published packages should be
[04:04:43] <ChrisMorgan> Absolutely.
[04:05:00] <huon> pkg.rust-lang.org as a canonical index?
[04:05:07] <ChrisMorgan> huon: register pkg.rs
[04:05:12] <ChrisMorgan> cargo.rs
[04:05:20] <dougxxx> on the other hand, it makes running your own package index very easy, which is good.
[04:05:24] <wycats> I think dherman has registered all of the things
[04:05:27] *** Quits: Yurumechan (23f9939a@B2F514.E4420F21.EEF52F3A.IP) (Ping timeout)
[04:05:30] <dougxxx> nothing irritates more more than when pypi goes down
[04:05:31] <wycats> dougxxx: you really do need a package *index*
[04:05:44] <ChrisMorgan> Oh no! cargo.rs is registered!
[04:05:44] <wycats> a way to search things that does not require downloading the entire git repo
[04:05:59] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Ping timeout)
[04:06:00] <dougxxx> oh yes, I agree with that
[04:06:01] <ChrisMorgan> dougxxx: it's easy to run a PyPI mirror
[04:06:20] <dougxxx> it's not as easy as pointing at a git repository
[04:06:24] *** Quits: anasyrma (x@moz-DE175E38.caltech.edu) (Ping timeout)
[04:06:27] <dougxxx> (but, yes it is)
[04:06:31] <dougxxx> easy that is
[04:06:48] <wycats> mirroring is a design goal
[04:06:58] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[04:07:08] <wycats> the problem with git repos is just the amount of cloning you have to do before you can even resolve dependencies
[04:07:16] <wycats> some people like in NZ and Australia y'know
[04:07:47] *** Joins: anasyrma (x@moz-DE175E38.caltech.edu)
[04:07:58] <dougxxx> mhm; and people delete tags, which breaks things.
[04:08:04] <wycats> yep
[04:08:07] <wycats> or just change 'em
[04:08:09] <wycats> which breaks things
[04:08:12] <mjrosenb> i'm guessing assuming a webview of the git repo, and just grabbing the single relevant file from the webview isn't a reasonable solution :-p
[04:08:20] <wycats> hahahaha
[04:08:32] <wycats> having a canonical package repo has a lot of benefits
[04:08:46] *** Quits: evanm (evanm@moz-4D6F9A00.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[04:08:49] <ChrisMorgan> Moreover, Git isn't the only version control system in existence. Some of us prefer hg. I've heard that there are even one or two people that still prefer SVN.
[04:08:53] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[04:08:59] <dougxxx> git archive downloads one file if you want I think
[04:09:19] <huon> ChrisMorgan: heretical lies!
[04:09:33] <wycats> dougxxx: yes, but there is nothing like either keeping incremental updates to all packages or an API server that lets you do queries
[04:09:34] <ChrisMorgan> huon: it was just a rumour. It might not be true.
[04:09:35] <huon> Git is the one true VCS, just like Rust is the one true language
[04:09:41] <wycats> you have to clone the repos to get started
[04:09:44] <wycats> which can be very slow
[04:09:45] <mcpherrin> wycats: What do you think of multiple canonical indexes?  In particular I'm thinking about closed-source code inside a company
[04:09:48] <ChrisMorgan> I mean, the SVN part. The hg part is certainly true.
[04:09:48] <mjrosenb> ChrisMorgan: svn *definitely* allows you to grab a single file/directory from a repo.
[04:09:49] <dougxxx> yep. ot
[04:09:50] *** Joins: Yurumechan (23f9939a@B2F514.E4420F21.EEF52F3A.IP)
[04:09:58] *** Quits: Earnestly (earnest@18162BE0.BA6AC103.30311652.IP) (Ping timeout)
[04:10:03] <mcpherrin> I suppose an "augmented mirror" would work just as well
[04:10:04] <wycats> bundler uses shallow clones
[04:10:05] <wycats> fwiw
[04:10:24] <wycats> but bundler also limits github repos to a small fraction of your packages
[04:10:33] <wycats> so most of it can be done using the faster central package server
[04:10:55] *** Quits: sunfish (chatzilla@moz-42DA0C69.dsl.dynamic.sonic.net) (Ping timeout)
[04:10:55] <dougxxx> >_> centralized server and faster aren't usually two things that go in the same sentence...
[04:11:03] <wycats> I see github as a nice escape valve for unfinished packages or unpublished updates
[04:11:13] <wycats> dougxxx: when you compare with cloning 100 repos, I think it is ;)
[04:11:42] <qmx> wycats: yay!
[04:11:46] *** Quits: klaus (koz@moz-4486E876.hsd1.wa.comcast.net) (Quit: klaus)
[04:12:29] <dougxxx> yeah, totally. I just think that if you're building a package repository it should be very very easy to clone it somehow and run your own local pinned version. 
[04:12:46] <dougxxx> Being able to build a rust project while (shock!) offline
[04:12:52] <dougxxx> might be a nice thing to be able to do
[04:13:01] <o11c> in my experience, github is usually faster than random centralized servers
[04:13:24] <sfackler> until it goes down
[04:13:43] <qmx> so true
[04:14:02] <wycats> dougxxx: confirm
[04:14:11] <wycats> cargo offline is an important command we have in mind
[04:14:26] <wycats> o11c: faster per byte maybe
[04:14:34] <wycats> but you need a lot more bytes when you're cloning repos
[04:14:44] <sfackler> wycats: cargo pointing to not-the-canonical-package-server as well?
[04:14:54] <dougxxx> I'd hope so
[04:14:56] <wycats> the manifest will let you point to any source
[04:15:00] <sfackler> sweet
[04:15:01] <wycats> bundler has this as well
[04:15:08] <wycats> local cache is just a local cache
[04:15:19] <wycats> cargo offline just makes sure the cache is populated fully
[04:15:27] <dougxxx> It would be a lovely feature to have cargo able to maintain it's own local server.
[04:15:29] <wycats> so you can run it before you get on an airplane but not have to run the full build
[04:15:32] <dougxxx> Destinct from a cache
[04:15:32] <qmx> question, are we going to divert from the Whateverfile name?
[04:15:41] <wycats> Cargo.toml
[04:16:05] <dougxxx> (ie. not an offline mode; I run it on blah.com and use that as my canonical server)
[04:16:11] <mcpherrin> What about Trust?  With packages distributed across the net, a server comprimise could be bad.  Signatures in the index?
[04:16:24] <qmx> wycats: is it really going to use toml?
[04:16:30] <wycats> the architecture actually doesn't care about the format of the manifest, the commands run cargo read-manifest first, which spits out a JSON and then just pipes it into the next command
[04:16:33] <ChrisMorgan> wycats: it's common for libraries to have examples. The current draft spec doesn't make it obvious to me how they should be handled.
[04:16:37] <wycats> so you could have Cargo.json if you wanted to write it
[04:16:45] *** Quits: canhtak (canhtak@moz-2C382DC9.wl.t.ulaval.ca) (Quit: canhtak)
[04:16:47] <qmx> gotcha
[04:16:53] <wycats> ChrisMorgan: there's a readme slot
[04:16:56] <wycats> no?
[04:17:08] <ChrisMorgan> wycats: I'm talking about examples that compile and can be run.
[04:17:12] <wycats> ahhhh
[04:17:14] <wycats> ChrisMorgan: good idea
[04:17:20] <ChrisMorgan> rust-http and ncurses-rs are two examples of things with such examples.
[04:17:24] <wycats> ChrisMorgan: rust-http has em
[04:17:25] <wycats> yes
[04:17:26] <sfackler> rust-sdl as well
[04:17:37] <wycats> the current manifest would treat them as executables
[04:17:37] <ChrisMorgan> It'll be a very common thing.
[04:17:40] <wycats> yeah
[04:17:47] <wycats> we can make an [[example]] thing
[04:17:52] <qmx> previous experience with multi-format manifest make me hate this idea to death :P (mvn pom.xml & pom.rb & pom.groovy)
[04:18:02] <ChrisMorgan> My general feeling is that bin would be for things that might then be globally installed?
[04:18:04] <wycats> qmx: we'll ship with toml
[04:18:07] <wycats> ChrisMorgan: right
[04:18:10] <wycats> qmx: people should use toml
[04:18:16] <ChrisMorgan> Which examples would not be appropriate for.
[04:18:20] <wycats> right
[04:18:27] <mcpherrin> If somebody hates toml so much they could json2toml
[04:18:29] <wycats> I don't think we'll even have a plugin system at first ;)
[04:18:30] <ChrisMorgan> Good, all sorted out ☺
[04:18:42] *** Joins: lpy (lpy@8B40CDAC.F09091A8.1348A864.IP)
[04:18:56] <qmx> that's what I'm talking about, that's ok to use toml even if I dislike it, just standardize on something
[04:19:10] * ChrisMorgan doesn't like hamcrest—too pseudo-Englishy
[04:19:32] <wycats> qmx: yes
[04:19:37] <wycats> ChrisMorgan: whatevs bro
[04:19:49] <wycats> ChrisMorgan: I don't like shoehorning everything into assert_eq! ;)
[04:20:06] <ChrisMorgan> assert_that(foo, is(equal_to(bar)));
[04:20:10] <ChrisMorgan> assert_eq!(foo, bar);
[04:20:11] <TheHydroImpulse> wycats is Cargo planning on being local by default or global by default?
[04:20:11] <wycats> is() is stupid
[04:20:14] <wycats> leave it off
[04:20:23] <wycats> assert_that(foo, equal_to(bar));
[04:20:24] <TheHydroImpulse> (for installing packages)
[04:20:25] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[04:20:28] <wycats> composable matchers are the key
[04:20:29] <ChrisMorgan> Or in the future, hopefully, assert!(foo == bar).
[04:20:44] <wycats> output
[04:20:50] <qmx> wycats: is there any discussion on the format or is just opinionated BDFL decision? (I just want context)
[04:21:14] <wycats> qmx: BDFL decision
[04:21:17] <ChrisMorgan> wycats: I mean with assert! being made to handle such comparisons intelligently and produce good output
[04:21:24] <wycats> qmx: bikeshed level decisions are going to be made BDFL-style
[04:21:27] <wycats> so we can ship
[04:21:29] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[04:21:36] <ChrisMorgan> Wise.
[04:21:37] <qmx> wycats: k
[04:21:44] <wycats> ChrisMorgan: you would need to have a way to hook into operators and give them output
[04:21:45] <wycats> and methods
[04:21:59] <wycats> we want assert_that("some command", outputs("some output"))
[04:22:04] <wycats> you're not going to do that with assert!
[04:22:08] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[04:22:13] *** Joins: alan_and_ (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[04:22:31] * ChrisMorgan is not convinced that that is true, actually
[04:22:43] <ChrisMorgan> I mean, theoretically.
[04:23:17] <bjz_> wycats: what about packages that have more complex compilation processes? Like gl-rs includes a pre-generated set of bindings, but it would be cool to be able to pass it an opengl version number with some extensions in part of the package info
[04:24:00] *** Quits: alan_and_ (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[04:24:08] <bjz_> wycats: dunno if that makes sense... gl-rs has a generator binary the generates the library source based on the opengl xml specification
[04:24:08] *** Quits: alan_andrade (alan_andra@moz-8862F69E.hsd1.ca.comcast.net) (Input/output error)
[04:24:22] <bjz_> wycats: (the generator is written in rust)
[04:24:46] <bjz_> wycats: opengl has core versions, but it also has vendor-specific extensions
[04:25:13] <wycats> cargo will support delegating to make or whatever
[04:25:24] <bjz_> wycats: the generator can take those extensions and versions and generate a source file specific for that
[04:25:31] <bjz_> ah nice
[04:25:36] <wycats> but it won't try to take over the job of Makefile
[04:26:32] <wycats> and there will be a slot to say in human-readable form what you need to have installed
[04:26:50] <erickt> bjz_: I'm working on a pure rust build library that could be used with cargo to build gl-rs
[04:27:01] <bjz_> neat
[04:27:21] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[04:27:23] <bjz_> erickt: that would be super amazing
[04:27:26] *** Joins: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca)
[04:27:27] <erickt> bjz_: it's quite early but I can compile c libraries! https://github.com/erickt/rbuild
[04:28:29] <earlzlap> So are there any timeframe for 1.0 yet? 
[04:28:33] <earlzlap> is*
[04:28:43] <erickt> earlzlap: hope is this year
[04:28:51] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Ping timeout)
[04:29:03] <earlzlap> :) Reminds me that I need to start doing more Rust stuff heh
[04:29:35] <earlzlap> Especially with rumors that Xamarin is going to be acquired, which practically means no more Linux Mono support
[04:30:13] <qmx> earlzlap: I wouldn't count on that, MS is really different from what it was in the past
[04:31:14] <earlzlap> They are, developing ASP.NET MVC in an open source way.. but I wouldn't place any bets on them making switching from Windows to Linux any easier.. 
[04:31:46] <earlzlap> I think they're only interested in iOS and Android because Windows Phone is dead, or might as well be 
[04:32:12] <bjz_> earlzlap: Rust is fun!
[04:32:35] <sfackler> ChrisMorgan: haha, I never new example.com was a thing (it also seems to have an invalid SSL cert)
[04:32:38] *** Quits: Rym (y@6A178123.F555FE1C.51C6DE68.IP) (Ping timeout)
[04:33:01] *** Joins: Rym (y@6A178123.F555FE1C.51C6DE68.IP)
[04:33:02] <earlzlap> I used it somewhere between 0.8 and 0.9 a few months ago. It is fun, just hard making projects in Rust when I just want to get something done heh 
[04:33:04] *** Quits: rusty_banger (rusty_bang@moz-DCEC0170.hsd1.co.comcast.net) (Quit: rusty_banger)
[04:33:13] <bjz_> earlzlap: of course
[04:33:34] <earlzlap> So, can anyone summarize in a 2 or 3 sentences what major changes have happened over the past 3 months? 
[04:33:50] <earlzlap> I heard about Cargo (much excitement!) but other than that, not much
[04:33:57] <bjz_> earlzlap: ~[] has been deprecated
[04:34:00] <ChrisMorgan> Biggest change is probable explicit error handling replacing conditions.
[04:34:22] *** Quits: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[04:34:32] <bjz_> earlzlap: in favor of Vec<T>
[04:35:15] <earlzlap> ah, neat. did they condense the error handling stuff so that there aren't 2 methods everywhere(one with error condition, one without) now? 
[04:35:24] <qmx> wycats: which repo should we watch?
[04:35:36] <bjz_> earlzlap: libextra has been split up into lots of separate libs that are bundled with the distribution
[04:35:37] <earlzlap> Are the docs fairly up to date these days? 
[04:35:38] *** Quits: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net) (Ping timeout)
[04:35:58] *** Quits: eatkinson-away (eatkinson@moz-261EDE03.hsd1.ca.comcast.net) (Ping timeout)
[04:36:02] *** Joins: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net)
[04:36:03] <earlzlap> oh yea.. remember seeing about that on the mailing list..
[04:36:38] <bjz_> earlzlap: ish. always could be better. of course the best, most up to date documentation is #rust
[04:36:52] <bjz_> :P
[04:37:06] <huon> The library docs are pretty good
[04:37:08] <earlzlap> Glad to know it'sstill that way :) 
[04:37:11] <huon> especially after the doc sprint
[04:37:17] <bjz_> huon: agreed
[04:37:23] <huon> (almost) all examples are automatically tested
[04:37:31] <bjz_> yup, that too
[04:38:21] <bjz_> earlzlap: most of the stuff over the fast few months has been changes to library APIs
[04:38:22] <earlzlap> What about win32 support.. is that still reliant on cygwin or mingw or something like that being bundled with the final binaries? 
[04:39:08] <bjz_> earlzlap: we got a Deref trait
[04:39:32] <earlzlap> Deref? 
[04:39:36] <bjz_> earlzlap: I dunno if it was in the past 3 months, but @ has been deprecated too
[04:39:41] *** Joins: eatkinson-away (eatkinson@moz-261EDE03.hsd1.ca.comcast.net)
[04:39:43] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Quit: Leaving...)
[04:39:44] <bjz_> dereference
[04:39:51] *** Quits: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp) (Client exited)
[04:39:54] <wycats> qmx: for now, carlhuda/cargo
[04:40:01] <wycats> we plan to move to rust-lang/cargo in a week or 2
[04:40:04] <earlzlap> Yea, I knew about @ and all the managed stuff.. I assume Gc<T> works by now? 
[04:40:07] <wycats> once we're no longer in spike mode
[04:40:13] <bjz_> earlzlap: like: let x = ~2; let y = *x;
[04:40:21] <qmx> wycats: ok, thanks
[04:40:36] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[04:40:41] *** Joins: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp)
[04:40:41] <bjz_> earlzlap: Gc is just reference counting still
[04:40:44] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[04:40:48] <bjz_> earlzlap: afaik
[04:40:54] <huon> (bad reference counting, yes)
[04:40:57] <earlzlap> that's useful. I remember that being on of the more annoying things was having casting everywhere for simple stuff like that
[04:41:24] <earlzlap> ugh.. is it planned to be true GC by 1.0, or is that not a priority? 
[04:41:33] <bjz_> earlzlap: deref will make user defined pointer stuff much nicer to work with
[04:41:43] *** Quits: mno2 (mno2@E1E0A0A3.621D86F0.CFF65E33.IP) (Quit: mno2)
[04:41:46] <bjz_> earlzlap: probably not
[04:41:48] <huon> most of the time you can just use Rc (and Weak for cycles)
[04:41:57] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[04:41:57] <bjz_> earlzlap: as long as the api is there
[04:42:06] <bjz_> it can be improved
[04:42:08] <huon> bjz_: not really
[04:42:17] <bjz_> huon: ah
[04:42:18] <huon> the API will be influenced by the uses
[04:42:22] <huon> *implementation
[04:42:26] <earlzlap> Yea, one of the most amazing things about Rust was how seldom I actually needed garbage collection once completely groking ownership heh
[04:42:29] <bjz_> ah ok
[04:42:40] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[04:43:00] <bjz_> earlzlap: well, it was a learning process for the language designers too
[04:43:02] <huon> (e.g. a incremental/generation/... GC may require a different API to the "default" one that one might first think of)
[04:43:20] <sfackler> ChrisMorgan: ah, it should just be returning an EndOfFile instead of OtherIoError
[04:43:23] <earlzlap> it's definitely a learning curve heh but once you get it, it hurts so bad to go back to C or something like that
[04:43:35] <bjz_> earlzlap: they thought the main method of allocation was going to be @
[04:43:49] <bjz_> earlzlap: indeed @ was the first smart pointer implemented
[04:44:15] <bjz_> earlzlap: but once we got ~ everyone started using that
[04:44:34] <bjz_> turns out you don't need gc nearly as much
[04:44:56] <bjz_> huon: ok, cool
[04:45:11] <bjz_> huon: so it would mean a different API?
[04:45:18] <huon> bjz_: yes, possibly
[04:45:24] <huon> it's not immediately clear
[04:45:27] <bjz_> yeah
[04:45:41] <cceckman> So here's something I think is odd: --emit=bc,link and --emit=bc producing different .bc files.
[04:45:42] <bjz_> huon: Gc is marked experimental right?
[04:45:46] <huon> so Gc will not ever be advertised as "API is final, but implementation is not"
[04:45:51] <cceckman> Test with rust-core at https://gist.github.com/cceckman/9613689
[04:45:51] <huon> bjz_: yes
[04:45:56] <bjz_> cool
[04:46:05] <bjz_> huon: Rc will be ok though?
[04:46:32] <sfackler> ChrisMorgan: pushed an update, try that
[04:47:51] *** Quits: derek_c (derek@moz-16A6DFBC.cit.cornell.edu) (Quit: Leaving)
[04:48:01] *** Joins: nik_ (nik@moz-7218C807.pool.mediaways.net)
[04:49:04] *** Quits: nik__ (nik@moz-5B9D2DBF.pool.mediaways.net) (Ping timeout)
[04:49:41] *** Quits: erickt (etryzelaar@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[04:50:30] <ChrisMorgan> sfackler: all good ☺
[04:50:40] <ChrisMorgan> Thanks ☺
[04:50:48] <sfackler> np
[04:52:00] <cceckman> Would anyone mind verifying something before I submit a bug? Should be a quick test, have a script for it: https://gist.github.com/cceckman/9613689
[04:52:10] <cceckman> Possible rustc bug in relation to --emit flags
[04:52:10] *** Joins: Rufflewind (rf@moz-4556AD29.lightspeed.lnngmi.sbcglobal.net)
[04:52:20] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[04:52:48] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[04:52:54] <earlzlap> Does Rust work on vanilla LLVM yet? 
[04:53:12] <ChrisMorgan> cceckman: Binary files bc/core.bc and bclink/core.bc differ
[04:53:41] <cceckman> ChrisMorgan: That's what I'm getting too. Not what I'd expect, though; still not sure it's a bug. Thanks!
[04:53:51] <earlzlap> and/or has anyone ported Rust to AVR (the microcontroller, Arduino, etc) 
[04:54:02] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[04:54:06] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[04:54:27] <mcpherrin> earlzlap: I don't think so.  There's not an AVR target in LLVM afaik?
[04:55:09] <earlzlap> There is unofficial support that seems to work decently for vanilla LLVM
[04:55:25] *** Joins: alan_andrade (alan_andra@moz-8862F69E.hsd1.ca.comcast.net)
[04:55:48] <mcpherrin> you certainly couldn't use the rust runtime in 2k of sram :)
[04:55:57] <mcpherrin> but I would like to see you get something working!
[04:56:19] <earlzlap> Isn't there rust-metal or something like that suitable for OS development atleast? 
[04:56:19] <mcpherrin> maybe a rustyduino library
[04:56:35] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[04:56:47] <mcpherrin> earlzlap: Allocating a 2 megabyte stack isn't going to work with 2k of ram :P
[04:56:51] <klutzy> earlzlap: travis uses vanilla llvm for testing pull reqs
[04:56:53] <earlzlap> What would consume much space in Rust intristic to the language? 
[04:56:59] <klutzy> https://github.com/mozilla/rust/blob/master/.travis.yml#L30
[04:57:07] *** Joins: krdln (Mibbit@moz-C271714F.dynamic.chello.pl)
[04:57:11] *** Quits: alan_andrade (alan_andra@moz-8862F69E.hsd1.ca.comcast.net) (Ping timeout)
[04:57:12] <klutzy> so it works quite well
[04:57:28] <mcpherrin> klutzy: Are you sure that isn't a patched llvm?
[04:57:33] <earlzlap> Reduce the stack size for such a target? I imagine a 2M stack is going to be a problem for a lot of embedded targets, like ARM boards with 16M of RAM
[04:57:37] *** Quits: Rym (y@6A178123.F555FE1C.51C6DE68.IP) (Ping timeout)
[04:57:42] <cceckman> earlzlap: Doing OS dev with RasPi on ARM. Build your crate with #[no_std]
[04:57:44] *** Quits: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP) (Quit: buildmaster reconfigured: bot disconnecting)
[04:57:45] *** Joins: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP)
[04:58:14] <earlzlap> Has it been abstracted so that #[no_std] still gives you platform independent stuff? 
[04:58:26] <cceckman> earlzlap: Erm, with rust, not necessarily RPi (yet.)
[04:58:48] <klutzy> mcpherrin: on travis it installs: deb http://llvm.org/apt/precise/ llvm-toolchain-precise-3.4 main
[04:58:51] <earlzlap> I mean things like string manipulation, etc.. 
[04:58:59] *** Quits: Florob (Florob@moz-39532932.de) (Client exited)
[04:59:11] <cceckman> earlzlap: You can use rust-core for things like strings
[04:59:22] <cceckman> earlzlap: if you build it in with your distribution
[04:59:24] <earlzlap> ah, rust-core.. that was the project
[04:59:46] <cceckman> earlzlap: Take a look at pczarn's rustboot, or wbthomason's ironkernel
[04:59:47] <earlzlap> I was wondering if they had made something similar as part of the official distribution 
[05:00:05] <kmc> the tutorial shows Gc<T> being implicitly copyable, because it's really still @T under the hood, but surely that will change sometime soon? http://static.rust-lang.org/doc/master/tutorial.html#ownership-escape-hatches
[05:00:17] <kmc> this confuses me because I thought that a big part of getting rid of @T was getting rid of its magical copyability
[05:00:22] *** Joins: japaric2 (japaric@B07B45DD.24D108FE.95AFB88D.IP)
[05:00:40] <huon> kmc: not necessarily
[05:00:42] *** Quits: japaric1 (japaric@59593737.CBA91732.95AFB88D.IP) (Ping timeout)
[05:01:13] <huon> it may stay implicitly copyable (which would be one of it's advantages/distinctions over Rc)
[05:01:18] <huon> bjz_: yes, Rc is fine
[05:01:38] <dougxxx> hm, how do I wrap a var args c call in rust? (eg. void LogInfo(const char *f, ...)
[05:01:43] <kmc> how would that work? would Rust grow the ability to define copy constructors / assignment operators?
[05:01:46] <kmc> that seems bad.
[05:01:55] *** Quits: tcsc (tcsc@moz-5E71BAD9.hsd1.ma.comcast.net) (Quit: computer sleeping)
[05:02:01] <kmc> or are we talking #[lang="gc"] pub struct Gc<T> { ... }
[05:02:08] <huon> dougxxx: `extern { fn LogInfo(f: *u8, ...); }`
[05:02:27] <huon> kmc: I don't think copy constructor/assignment operators are necessary?
[05:02:53] <dougxxx> oic, that jsut works? nice~
[05:03:06] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[05:03:15] <kmc> huon: because it's just a raw pointer and that's POD?
[05:03:18] <huon> I believe the plan is to provide compiler hooks (possibly with #[lang="gc"], or #[managed] or something) to allow more detailed type-based info (e.g. precise tracing)
[05:03:24] <kmc> hrm
[05:03:31] *** Joins: mib_3nr9zw (Mibbit@7E217F04.2C8DBE39.CC1A2609.IP)
[05:03:44] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[05:03:52] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[05:03:59] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[05:04:01] <huon> i.e. in let x = something_gc; the compiler knows that `x` is a Gc<T> and can use that info
[05:04:07] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[05:04:09] <kmc> ok
[05:04:15] <kmc> so deprecating @T is purely a syntactic choice for now?
[05:04:17] <huon> (well, a conservative stack scan doesn't need the info)
[05:04:27] <huon> no, @'s implementation is all wrong
[05:04:43] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[05:04:46] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[05:05:04] <huon> (bad reference counting)
[05:05:08] <aatch> One of the main problems with @ being implicitly copyable is that it essentially ends up being eager ref-counting.
[05:05:19] <aatch> So you do refcount bumps that aren't needed.
[05:05:20] <kmc> I liked the suggestion that Rust could do deferred refcounting
[05:05:26] <kmc> aatch: yeah
[05:05:32] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[05:05:33] <aatch> It doesn't sound like much, but it adds up.
[05:05:47] <huon> Rc is pretty much deferred refcounting (aiu deferred RC)
[05:06:01] <huon> due to move semantics
[05:06:13] *** Joins: tiffany (kawaii@moz-5A1FA59C.dhcp.embarqhsd.net)
[05:06:17] *** Quits: mib_3nr9zw (Mibbit@7E217F04.2C8DBE39.CC1A2609.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[05:06:53] <kmc> aiui in DRC you wouldn't bump for stack variables at all
[05:07:12] <kmc> it has a GC-like stack scan, it's just that's all you need to do, no heap tracing
[05:07:25] <huon> ah, I see
[05:07:44] * huon didn't understand DRC correctly
[05:08:07] <kmc> I was just reminded it exists by http://sebastiansylvan.com/2012/12/01/garbage-collection-thoughts/
[05:08:20] *** Quits: fmtq (fmt@moz-5769BD38.static.tpgi.com.au) (Client exited)
[05:09:16] <kmc> it sounds like something Rust could take advantage of better than most languages
[05:09:23] <kmc> but i don't know
[05:10:15] *** Quits: avsej (avsej@D9A610B8.4841F515.FB33447D.IP) (Ping timeout)
[05:10:43] *** Joins: derek_c (derek@moz-16A6DFBC.cit.cornell.edu)
[05:11:01] <derek_c> what happened to Port and Chan?
[05:11:16] *** Joins: avsej (avsej@D9A610B8.4841F515.FB33447D.IP)
[05:11:17] <Yurume> renamed.
[05:11:28] <derek_c> Yurume: to what?
[05:11:34] <Yurume> derek_c: Sender and Receiver?
[05:11:43] *** Quits: twi (Adium@moz-A3B8EA95.static.bezeqint.net) (Quit: Leaving.)
[05:11:52] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[05:11:53] <Yurume> I think it is better since I'm not very sure if Port supports recv or send ;)
[05:11:54] <derek_c> Yurume: kk thanks
[05:11:56] <ChrisMorgan> Receiver and Sender.
[05:12:03] <bascule> Sender and Receiver!
[05:12:07] <derek_c> yeah I agree
[05:12:07] <bstrie> huon: ahahahaha, I just saw 2048 4d
[05:12:09] <derek_c> it's less confusing
[05:12:13] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[05:12:17] <bascule> woohoo confusion-- clarity++
[05:12:27] * huon likes it the other way around
[05:12:32] <ChrisMorgan> Port → Receiver, Chan → Sender, (Port, Chan) → (Sender, Receiver)
[05:12:36] <bstrie> huon: why didn't you write it in rust?!? get emscripten working!!
[05:12:42] <huon> no-one knows what's going on! \o/
[05:13:02] <Yurume> also creating a connected Receiver and Sender involves std::comm::channel, not std::comm::<Blah>::new
[05:13:03] <bascule> hahaha
[05:13:10] <Yurume> (<Blah> for some ident)
[05:13:19] <Yurume> it's now a proper function
[05:13:25] <bascule> Yurume: makes sense!
[05:13:55] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Ping timeout)
[05:14:36] <huon> bstrie: it was a tiny line patch to the original... I could've spend 20x longer working out how to program in Rust, or just spend an hour on it. :P
[05:15:24] *** Joins: chridou (chatzilla@moz-1DC0E814.ip.dokom21.de)
[05:15:30] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[05:18:42] *** Joins: bronton (Mibbit@moz-C8D86903.tc.ph.cox.net)
[05:19:22] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Client exited)
[05:19:46] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[05:20:13] <wycats> bjz_: I replied to you
[05:20:26] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[05:20:42] <derek_c> from the docs: let (tx, rx) = channel();
[05:20:47] <derek_c> why call them tx and rx?
[05:21:28] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[05:22:07] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[05:22:12] <zwarich> derek_c: standard shorthand for transmit / receive
[05:22:20] <derek_c> ah, transmit
[05:23:11] *** Quits: lpy (lpy@8B40CDAC.F09091A8.1348A864.IP) (Ping timeout)
[05:23:49] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Quit: csherratt)
[05:23:53] *** Joins: magg (magg@1E3C2369.D9E568E3.3D0AE249.IP)
[05:26:22] <derek_c> how are you supposed to port ~[] to std::vec_ng::Vec?
[05:26:28] *** Quits: cceckman (cceckman@moz-135DFDD5.bootp.virginia.edu) (Client exited)
[05:26:37] <derek_c> ok
[05:26:59] <chridou> good morning. is it possible to include files into rust binaries and access them?
[05:27:25] <mcpherrin> What do you mean by include?  there's no literal #include like the C preprocessor
[05:27:44] <chridou> im just talking about text files etc. just some static data
[05:27:45] <ChrisMorgan> derek_c: ~[T] → Vec<T>; ~[x, y, z] → vec!(x, y, z)
[05:28:00] <ChrisMorgan> include_str! or include_bin!
[05:28:00] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[05:28:27] <ChrisMorgan> chridou: http://static.rust-lang.org/doc/master/rust.html#syntax-extensions
[05:28:29] <chridou> ah, will lookup those. thanks!
[05:28:36] <chridou> even more thanks ;-)
[05:28:50] <derek_c> ChrisMorgan: thanks
[05:28:57] <ChrisMorgan> Ooh, error!, warn! et al. need to be shifted out of there.
[05:30:05] *** Joins: mno2 (mno2@E1E0A0A3.621D86F0.CFF65E33.IP)
[05:31:17] *** Joins: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net)
[05:31:17] *** ChanServ sets mode: +o tjc
[05:33:16] *** Quits: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[05:33:59] *** Joins: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net)
[05:33:59] *** ChanServ sets mode: +o tjc
[05:34:11] *** Quits: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[05:34:19] *** Quits: wilmoore (wilmoore@moz-4EF3CEBC.hsd1.co.comcast.net) (Ping timeout)
[05:34:31] <huon> chridou: I don't think there's any docs for either of them, but `include_str!("foo/bar.txt")` opens and includes that (UTF-8) file as a &str
[05:34:33] *** Quits: pepper_chico (pepper_chi@BE2968B5.6F4A2706.E4090502.IP) (Ping timeout)
[05:34:48] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[05:34:57] <huon> and include_bin!("foo/bar.txt") gives a &[u8]  (doesn't require UTF-8 or anything)
[05:35:40] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[05:39:04] *** Joins: wilmoore (wilmoore@moz-4EF3CEBC.hsd1.co.comcast.net)
[05:40:49] *** Quits: victorporof (victorporo@moz-FFB76956.cpe.net.cable.rogers.com) (Quit: victorporof)
[05:43:29] *** Quits: bmu (chatzilla@moz-A87574A6.hsd1.pa.comcast.net) (Ping timeout)
[05:43:31] *** Quits: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp) (Client exited)
[05:45:12] *** Quits: krdln (Mibbit@moz-C271714F.dynamic.chello.pl) (Quit: http://www.mibbit.com ajax IRC Client)
[05:45:34] *** Joins: cceckman (cceckman@moz-135DFDD5.bootp.virginia.edu)
[05:48:46] *** Joins: krdln (Mibbit@moz-C271714F.dynamic.chello.pl)
[05:49:32] <earlzlap> Is the match `variable @ pattern` syntax new? 
[05:50:10] <huon> nope
[05:50:14] *** Quits: Siecje1 (Cody@21B5DF9.6875DAED.146816B2.IP) (Connection reset by peer)
[05:50:24] <chridou> ok. thank you. I have to dig into that deeper get some understanding of how rust makes its binaries since i am also interested in whether its possible to acces data from other binaries. but i think thats the domain of vm languages...
[05:50:36] <earlzlap> Maybe it was just recently put in the tutorial then 
[05:50:46] <huon> earlzlap: it's been around for quite a while, but not really documented, yeah
[05:50:57] *** Quits: int3_ (int3_@moz-431EBCCF.lightspeed.cicril.sbcglobal.net) (Client exited)
[05:51:17] *** Joins: int3_ (int3_@moz-431EBCCF.lightspeed.cicril.sbcglobal.net)
[05:52:15] <magg> can i sort an vector of structs by a specific value?
[05:52:44] <ChrisMorgan> magg: sort_by
[05:52:53] <ChrisMorgan> http://static.rust-lang.org/doc/master/std/vec/trait.MutableVector.html#tymethod.sort_by
[05:52:56] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[05:53:12] *** Quits: int3_ (int3_@moz-431EBCCF.lightspeed.cicril.sbcglobal.net) (Ping timeout)
[05:53:24] <magg> thanks ChrisMorgan
[05:53:33] *** Joins: tjc (tjc@moz-6EB4E533.dsl.tsoft.com)
[05:53:33] *** ChanServ sets mode: +o tjc
[05:54:31] *** Quits: derek_c (derek@moz-16A6DFBC.cit.cornell.edu) (Ping timeout)
[05:54:36] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[05:54:49] *** Quits: tjc (tjc@moz-6EB4E533.dsl.tsoft.com) (Quit: Textual IRC Client: www.textualapp.com)
[05:55:21] *** Joins: alan_andrade (alan_andra@moz-8862F69E.hsd1.ca.comcast.net)
[05:56:33] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[05:56:40] *** Joins: edwardw (edwardw@96E7298D.3E260003.B9C6B12A.IP)
[05:59:40] *** Joins: aravindavk (aravinda@moz-BD0CADEE.redhat.com)
[06:00:09] *** Joins: int3_ (int3_@moz-F4EBDD71.lightspeed.cicril.sbcglobal.net)
[06:00:41] <kvanb> cmr: around?
[06:02:43] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[06:03:34] <ChrisMorgan> Can someone on a Mac run `getopt --long '' -- ''`? (I believe --long is GNU only and thus to be avoided for Mac compatibility?)
[06:03:48] <kvanb> yeah
[06:03:49] <kvanb> moment
[06:03:52] <Eridius> ChrisMorgan: it prints: kevin@Erebor ~> getopt --long '' -- '' --  -- 
[06:03:54] <Eridius> wtf
[06:03:57] <kvanb> Kyles-iMac:ghc kvanb$ getopt --long '' -- ''
[06:03:58] <kvanb>  --  --
[06:03:59] <Eridius> it prints: ` --  -- `
[06:04:00] <Eridius> without the backticks
[06:04:50] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[06:05:10] <kvanb> I've been thinking about porting the haskell stm directly to rust...
[06:05:19] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[06:05:37] *** Joins: WalrusPony (retep998@moz-DBA66FA0.bstnma.east.verizon.net)
[06:05:42] <ChrisMorgan> How about `getopt --long=foo -- '' --foo`?
[06:06:10] <ChrisMorgan> (Passing result is something like ` --foo --`.)
[06:06:10] <kvanb> how are these ever going to work on windows
[06:06:14] *** Quits: WalrusPony1 (retep998@moz-DBA66FA0.bstnma.east.verizon.net) (Ping timeout)
[06:06:14] *** Joins: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp)
[06:06:19] <kvanb> Kyles-iMac:ghc kvanb$ getopt --long=foo -- '' --foo
[06:06:20] <kvanb>  --  --foo
[06:06:41] *** Quits: nfroidure (nfroidure@moz-5D77108B.w90-18.abo.wanadoo.fr) (Quit: Ex-Chat)
[06:06:41] <ChrisMorgan> OK, so it doesn't work. And worse, silently consumes the --long option :-/
[06:06:49] <ChrisMorgan> kvanb: Windows people don't run ./configure scripts
[06:06:52] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Ping timeout)
[06:06:59] *** Joins: eddyb (eddy@F8B50789.F33C1089.FB866788.IP)
[06:07:17] <kvanb> cmake for rustc would be glorious
[06:07:42] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[06:07:43] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Quit: Busying myself...)
[06:08:22] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Ping timeout)
[06:09:30] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[06:09:46] *** Joins: mib_q3mkjo (Mibbit@moz-E1994C7D.xdsl.xnet.co.nz)
[06:10:43] <sfackler> ChrisMorgan: aww, do I have to do my own arg parsing for my config scripts? :(
[06:11:11] <ChrisMorgan> sfackler: I'm going to be lazy and require the use of environment variables.
[06:11:18] <sfackler> ew
[06:12:54] * ChrisMorgan is surprised to find the situation for argument parsing so bad
[06:13:08] <sfackler> it's pretty sad in C-land as well
[06:14:08] <o11c> environment variables are ... sadly, the least sad way for a lot of things
[06:15:07] <o11c> I *have* had a recent revelation about how to do non-sad argument parsing, but I haven't put it in practice yet
[06:15:39] *** Quits: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca) (Quit: Leaving.)
[06:16:08] *** Joins: skade (skade@moz-1EC0F118.pools.arcor-ip.net)
[06:17:09] <mib_q3mkjo> hello all
[06:17:15] *** mib_q3mkjo is now known as sinclair
[06:17:20] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Client exited)
[06:17:34] *** Joins: dapz (textual@moz-F958911.hsd1.ca.comcast.net)
[06:17:41] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[06:18:02] <sinclair> so, just took a look at rust, i am curious about how it is leveraging libuv under the hood
[06:18:34] <eddyb> well, not "rust" but libgreen
[06:18:42] <Amaranth> I thought this was solved by everyone using gnu getopt or a library compatible with it
[06:19:01] <Amaranth> But I guess I forgot the BSDs, just like everyone else :D
[06:19:13] *** Joins: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP)
[06:19:23] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[06:19:24] <ChrisMorgan> Amaranth: not that even GNU getopt is nice.
[06:19:44] <o11c> I wouldn't call getopt nice
[06:19:54] <eddyb> I wouldn't call GNU nice
[06:20:01] * ChrisMorgan wouldn't even call nice nice
[06:20:10] *** Quits: sinclair (Mibbit@moz-E1994C7D.xdsl.xnet.co.nz) (Quit: http://www.mibbit.com ajax IRC Client)
[06:20:22] <Amaranth> To be honest I didn't know getopt was even a command, I've only familiar with the library versions
[06:20:26] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[06:20:30] * ChrisMorgan has taken to running `nice make` rather than `make`
[06:20:44] <Amaranth> Wow I fail english
[06:21:16] <o11c> ChrisMorgan: also ionice
[06:21:26] <ChrisMorgan> Yeah, that'd be a good idea.
[06:21:54] * ChrisMorgan wonders whether it similarly lowers the priority for swapping
[06:22:09] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[06:25:50] *** Joins: derek_c (derek@moz-CF9D001D.cit.cornell.edu)
[06:26:07] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[06:26:14] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Ping timeout)
[06:27:08] *** Quits: alan_andrade (alan_andra@moz-8862F69E.hsd1.ca.comcast.net) (Quit: )
[06:28:40] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[06:28:44] *** Joins: twi (Adium@moz-A3B8EA95.static.bezeqint.net)
[06:30:33] *** Joins: benjamin_____ (benjamin@moz-7BB34CFF.dip0.t-ipconnect.de)
[06:30:56] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[06:32:06] <huon> Building Rust doesn't do much io?
[06:32:22] *** Quits: twi (Adium@moz-A3B8EA95.static.bezeqint.net) (Quit: Leaving.)
[06:32:51] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[06:33:33] *** Quits: magg (magg@1E3C2369.D9E568E3.3D0AE249.IP) (Quit: magg)
[06:34:15] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[06:35:17] <ChrisMorgan> huon: unless you're swapping. Not sure if ionice fixes that or not.
[06:35:18] <ChrisMorgan> "However, C++ is a platform  agnostic language, while Rust thus far has only supported Linux as a  first class  platform. I find the attitude of the Rust devs ("we will  improve Windows support once the language is stable") deeply misguided."
[06:35:24] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[06:35:54] <mcpherrin> ChrisMorgan: context?
[06:36:03] <ChrisMorgan> https://news.ycombinator.com/item?id=7420483
[06:36:19] <o11c> ChrisMorgan: windows support is a bug, not a feature
[06:36:49] * ChrisMorgan finds very little in that post of his that he agrees with or considers reasonable
[06:38:24] <eddyb> "Package managers" are a Linux-ism, they deliver a certain UX you may or may not like (personally I hate it with passion)
[06:38:38] <eddyb> ^^ *flies off*
[06:39:30] * ChrisMorgan sits in awe, not knowing quite where to start in responding to that post because it is *so* wrong.
[06:39:42] *** Quits: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Quit: ChatZilla 0.9.90.1 [Firefox 30.0a1/20140316030202])
[06:39:45] <eddyb> pretty sure cargo won't be in Ruby
[06:40:03] <eddyb> but rather using the experience gathered by people writing a package manager in Ruby
[06:40:19] <Ralith> ChrisMorgan: maybe don't bother?
[06:40:32] <eddyb> ChrisMorgan: can I downvote on HN?
[06:40:39] <dougxxx> Only if you have > 1000 karma
[06:40:44] <ChrisMorgan> 500, actually
[06:40:52] <eddyb> fair enough
[06:41:06] *** Joins: ofeldt (ofeldt@moz-C2965E0E.dip0.t-ipconnect.de)
[06:41:11] <huon> (and only comments)
[06:41:21] <dougxxx> he makes a decent(ish) point about VS though; I idly wonder how that's going to work.
[06:41:27] <dougxxx> msbuild isn't very friendly.
[06:41:48] *** Joins: bourbaki (luesebrink@moz-8A75E362.dip0.t-ipconnect.de)
[06:41:51] <bourbaki> Greetings
[06:42:01] *** Quits: ofeldt- (ofeldt@moz-19996209.dip0.t-ipconnect.de) (Ping timeout)
[06:42:24] <eddyb> dougxxx: why is that stuff still alive?
[06:42:35] <dougxxx> :/
[06:42:40] <bourbaki> eddyb: Do you ever sleep?
[06:42:51] <bourbaki> Or maybe you are an android oO?
[06:42:56] <dougxxx> I wish clang ran on windows. 
[06:43:03] <ChrisMorgan> dougxxx: it's not a decent point, actually. Microsoft have integrated things like Python package management into Visual Studio; cargo will be just the same.
[06:43:07] <dougxxx> I hope the guys from jetbrains basically make that work
[06:43:15] <eddyb> so, hmm
[06:43:30] <eddyb> "project dependency manager" - is that similar to npm?
[06:43:31] <bourbaki> dougxxx: Is it not packaged with the LLVM redist?
[06:43:38] <eddyb> because I haven't had any experience with Ruby
[06:43:42] <bourbaki> I happened to download that the other dday.
[06:43:59] <dougxxx> I haven't looked
[06:44:05] <dougxxx> I hope so; it seems really promising
[06:44:10] <bourbaki> dougxxx: Search for LLVM binary windows clang
[06:44:22] <bourbaki> There is a pre-built binary there
[06:44:31] <Ralith> the clang stack has pretty good VS integration
[06:44:38] <dougxxx> really? I thought the c++11 stuff didn't work.
[06:44:43] <Ralith> it's been a design goal for some time
[06:44:45] <dougxxx> Been some time since I looked tho
[06:45:05] *** Joins: nlminhtl (ignotus@moz-393BCEC.la.net.ua)
[06:45:09] <sfackler> is "extern fn" equivalent to "extern "C" fn" now?
[06:45:31] <huon> yes
[06:46:07] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[06:46:16] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[06:46:19] <eddyb> like it should be :P
[06:46:39] <eddyb> speaking of extern "C", I have to go back to my trans::foreign
[06:47:12] *** Quits: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net) (Quit: killerswan)
[06:47:39] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[06:50:52] *** Joins: alonlevy (alon@2CD54432.57968636.E9C721AF.IP)
[06:51:56] *** Quits: zw01 (zev@3C32E5CD.21A2D65F.BCF77D2A.IP) (Ping timeout)
[06:52:07] *** Quits: bourbaki (luesebrink@moz-8A75E362.dip0.t-ipconnect.de) (Quit: leaving)
[06:53:09] *** Quits: philix_ (felipe@moz-805B694F.user.veloxzone.com.br) (Ping timeout)
[06:54:01] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[06:54:46] *** Joins: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com)
[06:54:57] *** Quits: ksev (DrunkenPan@745B767B.989A61DC.CA5B6332.IP) (Ping timeout)
[06:55:29] *** Joins: zw01 (zev@3C32E5CD.21A2D65F.BCF77D2A.IP)
[06:55:49] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[06:59:39] *** Joins: daschl (Adium@moz-DC6DE6E2.vie.surfer.at)
[07:00:55] *** Quits: cdidd (cdidd@moz-FC37667D.broadband.corbina.ru) (Ping timeout)
[07:00:56] *** Joins: ksev (DrunkenPan@745B767B.989A61DC.CA5B6332.IP)
[07:02:58] *** Joins: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net)
[07:03:43] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[07:04:46] *** Joins: Ferreus (ferreus@moz-9E6C5FBD.dip0.t-ipconnect.de)
[07:05:34] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[07:08:45] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[07:09:06] *** Joins: gwty (gwtypc@8473EFD5.3FFECA9D.5785B5AF.IP)
[07:11:18] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[07:11:22] *** Quits: fournm (Aria@moz-ABB60BA0.austin.res.rr.com) (Quit: Leaving)
[07:11:39] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[07:11:41] *** Quits: nlminhtl (ignotus@moz-393BCEC.la.net.ua) (Quit: Konversation terminated!)
[07:13:27] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Ping timeout)
[07:13:30] *** Quits: james4k (james@moz-9BB5AE72.consolidated.net) (Ping timeout)
[07:18:06] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[07:19:53] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[07:20:27] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[07:20:34] *** Joins: Ms2ger (Ms2ger@moz-4A14BC33.ugent.be)
[07:21:09] *** Joins: alkino_ (alkino@moz-61F150EC.w92-151.abo.wanadoo.fr)
[07:22:04] *** Joins: oso (Mibbit@moz-8EBA3569.hsd1.ca.comcast.net)
[07:22:08] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[07:22:11] *** Quits: skade (skade@moz-1EC0F118.pools.arcor-ip.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[07:23:38] *** Quits: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com) (Ping timeout)
[07:23:39] *** Quits: oso (Mibbit@moz-8EBA3569.hsd1.ca.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[07:24:37] *** Joins: autra (augustin@moz-BE76895F.fbx.proxad.net)
[07:27:19] *** Joins: glaebhoerl_ (glaebhoerl@moz-3590251D.kabelnet.hu)
[07:28:39] *** Quits: autra (augustin@moz-BE76895F.fbx.proxad.net) (Ping timeout)
[07:29:34] *** Quits: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net) (Connection reset by peer)
[07:31:53] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[07:31:56] *** Quits: sawrubh (uid6719@moz-5F4AA75A.irccloud.com) (Quit: Connection closed for inactivity)
[07:32:10] *** Joins: jmgao (josh@moz-E3235B27.insolit.us)
[07:32:16] *** Quits: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp) (Client exited)
[07:32:53] *** Quits: derek_c (derek@moz-CF9D001D.cit.cornell.edu) (Ping timeout)
[07:33:34] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[07:33:49] *** Quits: edwardw (edwardw@96E7298D.3E260003.B9C6B12A.IP) (Quit: Leaving...)
[07:35:48] *** Joins: m_kato (m_kato@moz-C286AD9A.bitcat.net)
[07:36:33] *** Joins: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp)
[07:37:27] *** Joins: oberstet (quassel@moz-6C4C3A9D.dynamic.mnet-online.de)
[07:38:24] *** Quits: gwty (gwtypc@8473EFD5.3FFECA9D.5785B5AF.IP) (Ping timeout)
[07:38:54] <eddyb> huon: wha, #9 on HN
[07:39:14] <mcpherrin> eddyb: #5!
[07:39:27] <eddyb> mcpherrin: 4D 2048
[07:39:35] <benh> 4!
[07:39:36] <mcpherrin> oh I assume you were talking about the cargo post
[07:39:45] <benh> oh
[07:40:22] <mcpherrin> nonetheless, well done huon, though 4d 2048 is too confusing for me to play ;)
[07:41:06] *** Joins: lpy (lpy@8B40CDAC.F09091A8.1348A864.IP)
[07:41:14] <Ralith> I found 3D was much easier than 2D, and 2D was pretty easy
[07:42:26] <benh> huon: that's pretty great
[07:42:34] <eddyb> http://mike199515.free3v.com/1597/2.htm oh dear
[07:42:51] *** Quits: daschl (Adium@moz-DC6DE6E2.vie.surfer.at) (Quit: Leaving.)
[07:43:27] <eddyb> my base 2 intuition just jumped off the window
[07:43:59] *** Joins: autra (augustin@A14DAE84.7F753DD1.EE2CA32B.IP)
[07:46:25] <sigma> nope
[07:46:37] <sigma> not losing a day to that
[07:48:50] *** Quits: oxum (anonymous@E074467E.49BE8C5.520CDC98.IP) (Quit: ...)
[07:49:37] *** Quits: onelson (owen@18CF7301.95770028.5B6BFE7D.IP) (Ping timeout)
[07:50:30] *** Quits: Yurumechan (23f9939a@B2F514.E4420F21.EEF52F3A.IP) (Ping timeout)
[07:51:59] <Ms2ger> Yes you are ;)
[07:54:27] *** Joins: Yurumechan (23f9939a@B2F514.E4420F21.EEF52F3A.IP)
[07:54:46] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[07:55:39] *** pmoore|away is now known as pmoore
[07:55:49] <huon> eddyb: I was at 1 or 2 for a while :P
[07:56:26] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[07:56:53] <huon> benh, mcpherrin: thanks :)
[07:57:25] <huon> sigma: you know you can't resist
[07:58:09] <huon> let the 2048-variants steal your day; resistance is futile
[07:58:14] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[07:58:40] *** Quits: autra (augustin@A14DAE84.7F753DD1.EE2CA32B.IP) (Ping timeout)
[07:58:52] *** Quits: fyolnish (fyolnish@moz-49396AB9.dynamic.ppp.asahi-net.or.jp) (Quit: Bye)
[08:00:32] *** Joins: marianoguerra (marianogue@moz-7497155F.dip0.t-ipconnect.de)
[08:02:34] *** Joins: soumyaC (uid15286@moz-E77DEB21.irccloud.com)
[08:03:21] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[08:03:58] *** Quits: robn (robn@moz-76B0302C.static.internode.on.net) (Ping timeout)
[08:04:18] *** Quits: tautologico (uid22285@moz-A42E5B7B.irccloud.com) (Quit: Connection closed for inactivity)
[08:05:04] *** Joins: Zr40 (zr40@EE4BB9F5.926C319A.BE2F4011.IP)
[08:05:32] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[08:05:45] *** Joins: twi (Adium@357B7B48.5CFAE43E.C605BBF7.IP)
[08:06:53] *** Joins: robn (robn@moz-76B0302C.static.internode.on.net)
[08:08:28] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[08:09:32] *** Joins: Matthias247 (Miranda@moz-678B5E4A.hsi2.kabel-badenwuerttemberg.de)
[08:10:17] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[08:10:54] *** Quits: Matthias247 (Miranda@moz-678B5E4A.hsi2.kabel-badenwuerttemberg.de) (Quit: Matthias247)
[08:10:58] *** Quits: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Quit: lkuper)
[08:13:24] *** Joins: skade (skade@B4A5FE21.505237C9.CAE22B62.IP)
[08:14:42] *** Joins: daschl (Adium@moz-DC6DE6E2.vie.surfer.at)
[08:15:11] *** Joins: jaras (textual@1CDC5701.A48867D7.52E4E107.IP)
[08:16:54] *** Joins: W0rmDr1nk (wormdrink@moz-6B95D38.access.mtnbusiness.co.za)
[08:19:02] *** Quits: W0rmDr1nk (wormdrink@moz-6B95D38.access.mtnbusiness.co.za) (Input/output error)
[08:19:16] *** Joins: W0rmDr1nk (wormdrink@moz-6B95D38.access.mtnbusiness.co.za)
[08:19:44] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[08:20:26] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[08:20:49] *** Joins: bollu (bollu@31CCE710.7065DDB9.6D6A344F.IP)
[08:21:21] *** Quits: W0rmDr1nk (wormdrink@moz-6B95D38.access.mtnbusiness.co.za) (Ping timeout)
[08:22:07] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[08:22:51] <bollu> is this piece of code okay? https://gist.github.com/bollu/ebb5e858bee366df3e6c
[08:23:04] <bollu> I think there is a better way to write it...
[08:23:43] *** Joins: W0rmDr1nk (wormdrink@moz-6B95D38.access.mtnbusiness.co.za)
[08:24:33] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[08:24:33] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[08:24:55] <Ms2ger> Yes, drop the outer parens in 	if (save_exists(save_path)) {
[08:25:06] <Ms2ger> That's all I see :)
[08:25:30] *** Quits: jaras (textual@1CDC5701.A48867D7.52E4E107.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[08:27:03] *** Joins: mib_sz9ywa (Mibbit@7E217F04.2C8DBE39.CC1A2609.IP)
[08:27:07] <bollu> Ms2ger: thanks!
[08:28:50] *** Joins: oxum (anonymous@7120F591.A3F7A334.C28326FD.IP)
[08:32:47] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[08:34:33] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[08:34:47] *** Quits: mib_sz9ywa (Mibbit@7E217F04.2C8DBE39.CC1A2609.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[08:37:08] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[08:40:18] *** Joins: autra (augustin@A14DAE84.7F753DD1.EE2CA32B.IP)
[08:41:13] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:41:16] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:47:21] *** Quits: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net) (Quit: killerswan)
[08:48:58] *** Quits: barosl (barosl@AF5A7446.7BDB669F.8F036087.IP) (Ping timeout)
[08:49:24] *** Quits: Ms2ger (Ms2ger@moz-4A14BC33.ugent.be) (Ping timeout)
[08:50:55] *** Joins: arturo (Thunderbir@moz-E83B14F0.superkabel.de)
[08:51:36] *** Joins: philix (felipe@moz-805B694F.user.veloxzone.com.br)
[08:52:35] *** Quits: bollu (bollu@31CCE710.7065DDB9.6D6A344F.IP) (Client exited)
[08:53:34] *** Quits: philix (felipe@moz-805B694F.user.veloxzone.com.br) (Ping timeout)
[08:55:32] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[08:55:54] *** Joins: silven (quassel@moz-F81D3961.a328.priv.bahnhof.se)
[08:57:17] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[08:58:59] *** Quits: glaebhoerl_ (glaebhoerl@moz-3590251D.kabelnet.hu) (Quit: )
[08:59:05] *** Joins: glaebhoerl_ (glaebhoerl@moz-3590251D.kabelnet.hu)
[08:59:28] *** Joins: Axord (xord@moz-C0D5F15A.lsanca.dsl-w.verizon.net)
[09:01:20] *** Quits: Axord (xord@moz-C0D5F15A.lsanca.dsl-w.verizon.net) (Ping timeout)
[09:03:10] *** Quits: pcdummy (pcdummy@AD7016A2.B71DB6CA.6A8D7145.IP) (Client exited)
[09:03:47] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[09:04:51] *** Joins: pcdummy (pcdummy@AD7016A2.B71DB6CA.6A8D7145.IP)
[09:05:02] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[09:05:29] *** Quits: alkino_ (alkino@moz-61F150EC.w92-151.abo.wanadoo.fr) (Ping timeout)
[09:05:56] *** Quits: vadimcn (chatzilla@moz-E841EA3A.hsd1.wa.comcast.net) (Ping timeout)
[09:05:56] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[09:06:37] *** Joins: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP)
[09:07:50] *** Quits: daschl (Adium@moz-DC6DE6E2.vie.surfer.at) (Quit: Leaving.)
[09:10:04] *** Quits: cschneid (cschneid@moz-621ACC77.hlrn.qwest.net) (Connection reset by peer)
[09:10:24] *** Quits: akhosrav (akhosrav@moz-75023AE8.tukw.qwest.net) (Connection reset by peer)
[09:10:28] *** Joins: cschneid (cschneid@moz-621ACC77.hlrn.qwest.net)
[09:10:33] *** Joins: akhosrav (akhosrav@moz-75023AE8.tukw.qwest.net)
[09:14:50] *** Joins: janua (francis@moz-C38AAD4A.cable.virginm.net)
[09:15:55] *** Joins: Axord (xord@moz-C0D5F15A.lsanca.dsl-w.verizon.net)
[09:16:32] *** Joins: barosl (barosl@AF5A7446.7BDB669F.8F036087.IP)
[09:18:12] *** Quits: janua (francis@moz-C38AAD4A.cable.virginm.net) (Quit: janua)
[09:20:18] *** Joins: jaras (textual@1CDC5701.A48867D7.52E4E107.IP)
[09:20:26] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[09:20:31] *** Quits: luz (lu.cy@moz-CD18B14B.customer.cdi.no) (Ping timeout)
[09:21:55] *** Joins: janra (Janus@1CDC5701.A48867D7.52E4E107.IP)
[09:22:09] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[09:23:49] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[09:24:30] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[09:26:02] *** Joins: luz (lu.cy@moz-CD18B14B.customer.cdi.no)
[09:29:20] *** Quits: pcdummy (pcdummy@AD7016A2.B71DB6CA.6A8D7145.IP) (Client exited)
[09:29:32] *** Joins: pcdummy (pcdummy@AD7016A2.B71DB6CA.6A8D7145.IP)
[09:30:43] *** Quits: jaras (textual@1CDC5701.A48867D7.52E4E107.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[09:31:40] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[09:31:55] *** Joins: tyna (liadon@moz-BB1BAD9A.dynamic.chello.pl)
[09:33:24] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Connection reset by peer)
[09:33:31] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[09:33:52] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[09:35:05] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Input/output error)
[09:35:21] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[09:35:27] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[09:37:16] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[09:37:24] *** Joins: claudiu (claudiu@81B10C62.5F4BC945.49B2C1AE.IP)
[09:38:12] *** Joins: daschl (Adium@moz-DC6DE6E2.vie.surfer.at)
[09:40:53] *** Quits: daschl (Adium@moz-DC6DE6E2.vie.surfer.at) (Ping timeout)
[09:42:57] *** Quits: p1start (rewi@moz-A082F561.adsl.xtra.co.nz) (Ping timeout)
[09:44:30] *** Quits: rootnode (rootnode@moz-519FFEF0.pools.arcor-ip.net) (Ping timeout)
[09:48:20] *** Joins: bvssvni (Mibbit@moz-A47B6F8E.bb.online.no)
[09:51:20] *** Quits: j3rky (gmpreussne@moz-97180B8B.nc.res.rr.com) (Quit: Leaving)
[09:53:23] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Quit: Busying myself...)
[09:53:28] *** Quits: tyna (liadon@moz-BB1BAD9A.dynamic.chello.pl) (Quit: Leaving.)
[10:00:21] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[10:00:22] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[10:01:36] *** Joins: Ms2ger (Ms2ger@moz-9FBF7DC.adsl-dyn.isp.belgacom.be)
[10:03:19] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[10:04:10] *** Joins: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP)
[10:05:30] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[10:06:29] *** Quits: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP) (Connection reset by peer)
[10:07:02] *** Joins: mawuli (mawuli@F7A4F2ED.68EE7C48.E520B65A.IP)
[10:08:40] *** Joins: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP)
[10:10:40] <cmr> kvanb: sup
[10:15:00] *** Joins: leowoe (Leo@moz-CEF2400C.inf.uni-konstanz.de)
[10:20:26] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[10:21:08] *** Quits: enos (jkingyens@moz-B0C1B161.hsd1.ca.comcast.net) (Ping timeout)
[10:22:08] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[10:23:05] *** Joins: enos (jkingyens@moz-B0C1B161.hsd1.ca.comcast.net)
[10:23:34] *** Joins: lunaryorn (lunaryorn@moz-6935F539.dynamic.mnet-online.de)
[10:23:41] *** Quits: alonlevy (alon@2CD54432.57968636.E9C721AF.IP) (Ping timeout)
[10:27:10] *** Joins: jaras (textual@1CDC5701.A48867D7.52E4E107.IP)
[10:28:31] *** Quits: mno2 (mno2@E1E0A0A3.621D86F0.CFF65E33.IP) (Quit: mno2)
[10:31:12] <huon> inf
[10:31:20] *** Quits: nstdloop (nstdloop@moz-C7FAE86A.washdc.fios.verizon.net) (Input/output error)
[10:31:46] *** Joins: nstdloop (nstdloop@moz-C7FAE86A.washdc.fios.verizon.net)
[10:32:58] *** Joins: paldepind (simon@8C529550.87451125.F2979BBF.IP)
[10:33:28] *** Quits: nstdloop (nstdloop@moz-C7FAE86A.washdc.fios.verizon.net) (Ping timeout)
[10:33:31] <Ms2ger> max
[10:34:13] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[10:36:02] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[10:36:28] <kimundi> min
[10:36:39] <ChrisMorgan> sub
[10:36:44] <bvssvni> NaN
[10:36:49] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[10:36:51] <cmr> please stop this madness
[10:36:51] <kimundi> -0
[10:36:56] <ChrisMorgan> bvssvni: you forgot to make it lowercase
[10:37:09] <Taneb> It's weird that I'm coming from Haskell but my programming style in Rust is barely functional at all
[10:37:39] *** Joins: gimpf (gimpf@moz-DB86CEB0.adsl.highway.telekom.at)
[10:37:40] <bvssvni> it's NAN now
[10:38:00] <huon> bvssvni: "inf" was infimum rather than than floating-point infinity :P
[10:38:02] <kimundi> Taneb: People coming from FP tend to say that :) - they usually start Rust code functional, then optimize it to more idiomatic imperative.
[10:38:05] <huon> cmr: never
[10:38:24] *** Joins: fabiand (fabiand@moz-C12DB286.adsl.alicedsl.de)
[10:38:34] <bvssvni> huon: I will look it up in the #rust manual :P
[10:38:51] <huon> ( http://en.wikipedia.org/wiki/Infimum_and_supremum )
[10:38:58] <tiffany> I mostly stick to functional style
[10:39:07] <bjz_> Taneb: I think the biggest thing to come from the functional world is the type system
[10:39:14] <kimundi> Obviously nAn is the only correct casing
[10:39:23] *** pmoore is now known as pmoore|lunch
[10:39:23] * huon also tries to have functional code
[10:39:27] <tiffany> I don't like that implication that imperitive is more idiomatic or faster
[10:39:30] <huon> (in both senses :P )
[10:39:47] <tiffany> like, rust's iterators are declarative but they're by no means slow
[10:39:56] <Taneb> Maybe if I was doing larger things I'd use a different style
[10:40:01] <bjz_> Taneb: but I definitely work in a more expression-based way
[10:40:02] <kimundi> tiffany: Oh, I didn't mean that
[10:40:08] <eddyb> value flow <3
[10:40:33] <bjz_> eddyb: that's a great way to describe what I find myself doing now
[10:40:49] <eddyb> and we can even optimize for it!
[10:40:54] <bjz_> you move things in and out of functions
[10:40:55] <eddyb> (if we stop being silly in trans)
[10:41:00] <bjz_> in a pipelined way
[10:41:07] <eddyb> if/else could use phi nodes
[10:41:21] <bjz_> and only mutate if you need to by unfreezing
[10:41:22] *** Joins: daschl (Adium@moz-DC6DE6E2.vie.surfer.at)
[10:41:31] <kimundi> tiffany: Rust model is just based around having mutation available, so you generally have the choice and in certain situations one is more efficient/idiomatic/readable than the other
[10:42:08] <tiffany> in most of my cases, the functional style is more readable
[10:42:18] <bjz_> tiffany: indeed
[10:42:24] <tiffany> it's hard to prevent rightward drift, and I don't tend to use fold instead of a for loop
[10:42:34] <bjz_> tiffany: well, not some much readable... understandable
[10:43:05] *** Quits: daschl (Adium@moz-DC6DE6E2.vie.surfer.at) (Ping timeout)
[10:43:55] * bvssvni use iterators whenever possible
[10:44:38] <bvssvni> the .windows iterator is cool
[10:44:51] * huon likes the .linux one
[10:45:19] <bvssvni> huon: .linux?
[10:45:25] <eddyb> lol
[10:45:26] <bvssvni> AH
[10:45:30] <bvssvni> haha
[10:47:57] <eddyb> "Again, could a 64-year-old non-native English speaker use 'kinda'? Maybe! But I consider it enough of a colloquial mutation of correct English that it would be unlikely for a non-native speaker to default to that word."
[10:48:00] <eddyb> I use kinda a lot
[10:48:09] <ChrisMorgan> Are you 64?
[10:48:23] <ChrisMorgan> And a non-native English speaker?
[10:48:30] <eddyb> only the latter :P
[10:48:40] <eddyb> just being lost on HN again http://www.mikehearn.com/Hosted-Files/Nakamoto-Could-Newsweek-Have-Known/index.html
[10:48:59] *** Quits: Auv (Jack@moz-341A75C6.cpe.net.cable.rogers.com) (Ping timeout)
[10:52:26] *** Joins: philix (felipe@moz-9E12C1FF.user.veloxzone.com.br)
[10:53:01] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Client exited)
[10:54:27] *** Quits: philix (felipe@moz-9E12C1FF.user.veloxzone.com.br) (Ping timeout)
[10:57:39] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[10:59:31] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[11:00:53] *** Quits: phay (phay@16E8BAAB.D2C4A785.91986DB5.IP) (Client exited)
[11:01:16] *** Joins: phay (phay@16E8BAAB.D2C4A785.91986DB5.IP)
[11:01:59] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[11:01:59] *** Quits: phay (phay@16E8BAAB.D2C4A785.91986DB5.IP) (Connection reset by peer)
[11:03:16] *** Joins: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP)
[11:03:23] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[11:03:45] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[11:05:34] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[11:06:12] *** Joins: canhtak (canhtak@moz-2C382DC9.wl.t.ulaval.ca)
[11:06:36] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[11:06:51] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[11:08:25] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[11:10:26] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[11:10:57] *** Quits: int3_ (int3_@moz-F4EBDD71.lightspeed.cicril.sbcglobal.net) (Client exited)
[11:11:18] *** Joins: int3_ (int3_@moz-F4EBDD71.lightspeed.cicril.sbcglobal.net)
[11:12:15] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[11:13:09] *** Quits: int3_ (int3_@moz-F4EBDD71.lightspeed.cicril.sbcglobal.net) (Ping timeout)
[11:13:21] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[11:15:08] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[11:15:38] *** Joins: daschl (Adium@moz-DC6DE6E2.vie.surfer.at)
[11:15:39] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[11:15:59] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[11:16:03] *** Quits: W0rmDr1nk (wormdrink@moz-6B95D38.access.mtnbusiness.co.za) (Input/output error)
[11:16:49] *** Joins: W0rmDr1nk (wormdrink@moz-6B95D38.access.mtnbusiness.co.za)
[11:17:21] *** Quits: daschl (Adium@moz-DC6DE6E2.vie.surfer.at) (Ping timeout)
[11:17:46] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[11:17:47] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[11:18:16] *** Quits: IanCormac841 (User@14C15397.64D641E5.67DFF8B4.IP) (Ping timeout)
[11:19:54] *** Joins: IanCormac84 (User@BA60D8C3.2A8D8854.67DFF8B4.IP)
[11:20:09] *** Joins: Guest_ (textual@D6B5DD7E.D8252BC.9532F1CE.IP)
[11:20:14] <pnkfelix> did we get rid of the debug! macro?  I'm getting "undefined macro" errors on a recent rustc build...
[11:20:26] <pnkfelix> (oh I bet it was part of the logging crate stuff)
[11:20:26] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[11:20:40] *** Joins: victorporof (victorporo@moz-FFB76956.cpe.net.cable.rogers.com)
[11:20:40] <eddyb> liblog
[11:20:55] <benh> Aren't we worried about taking all these short, prominent libfoo names?
[11:21:02] <huon> liblog and prosper
[11:21:25] <benh> *groan*
[11:21:27] <benh> :D
[11:21:42] <pnkfelix> benh: they should be able to collide
[11:22:05] <pnkfelix> though I guess handling that would require putting proper id references into the extern directive
[11:22:11] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[11:22:11] *** Joins: tigrou3tac (fabien@moz-6E2397FF.fbx.proxad.net)
[11:22:36] <pnkfelix> benh: (I was mostly just thinking of how we put a hash on the filename and exported symbols)
[11:22:43] *** Joins: andre (andre@CA528A4A.45A4338E.8EE27E6.IP)
[11:24:56] <pnkfelix> so, skimming over PR 12791, it is not clear to me what I am supposed to do to get debug! back
[11:25:22] <pnkfelix> a lot of PR 12791 is sed'ing s/debug!/println!/, which is not what I want.
[11:26:13] <pnkfelix> ah, okay, need to do `#[phase(syntax, link)] extern crate log;`
[11:26:46] *** Quits: Mathieu (cicak@420C86E4.9C1E3043.FBF02BB8.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[11:27:51] *** Quits: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP) (Ping timeout)
[11:27:54] <huon> pnkfelix: http://static.rust-lang.org/doc/master/log/index.html
[11:28:00] <huon> has an example
[11:28:29] <pnkfelix> reading docs, pshaw
[11:29:08] *** Quits: W0rmDr1nk (wormdrink@moz-6B95D38.access.mtnbusiness.co.za) (Ping timeout)
[11:29:35] *** Quits: aravindavk (aravinda@moz-BD0CADEE.redhat.com) (Ping timeout)
[11:29:37] *** Joins: alonlevy (alon@DCC04B97.C0AFD91D.27DA33FF.IP)
[11:29:50] *** Joins: mihneadb (mihneadb@moz-6B31F5AA.static.ziggozakelijk.nl)
[11:30:11] *** Quits: benjamin_____ (benjamin@moz-7BB34CFF.dip0.t-ipconnect.de) (Ping timeout)
[11:30:31] <pnkfelix> (for that matter, "reading the log msg for first commit, as referenced by acrictho in the opening line of the PR, pshaw")
[11:31:18] *** Quits: asmyers (quassel@moz-71754EDC.hsd1.md.comcast.net) (Ping timeout)
[11:31:57] <huon> "reading, pshaw"
[11:32:54] *** Joins: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP)
[11:33:43] *** Quits: kvanb (kvanb@moz-94A0AFD2.vxl8.lon.bigpond.net.au) (Ping timeout)
[11:35:06] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[11:35:12] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[11:35:46] *** Quits: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP) (Client exited)
[11:35:54] *** Quits: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP) (Ping timeout)
[11:36:07] *** Joins: hacker_sam (hacker_sam@C0FE520A.661C02A7.B0CE379A.IP)
[11:36:54] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[11:37:36] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[11:38:34] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[11:39:08] *** Joins: daschl (Adium@moz-DC6DE6E2.vie.surfer.at)
[11:39:45] *** Quits: JanC_ (janc@moz-503D5FC.dsl.scarlet.be) (Ping timeout)
[11:41:33] *** Quits: Ferreus (ferreus@moz-9E6C5FBD.dip0.t-ipconnect.de) (Ping timeout)
[11:41:39] *** Joins: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP)
[11:41:45] *** Quits: daschl (Adium@moz-DC6DE6E2.vie.surfer.at) (Ping timeout)
[11:41:55] <eddyb> 32768 at 457600 score
[11:42:07] <eddyb> this 8x8 board is pretty hard to lose at. making this even more addicting
[11:42:11] *** Joins: kvanb (kvanb@moz-B34A43F2.lnse7.win.bigpond.net.au)
[11:43:34] *** Joins: aepsil0n (ebopp@moz-EF530DCB.ita.uni-heidelberg.de)
[11:44:04] <Ms2ger> eddyb, I ended up just closing it when I went to bed :)
[11:44:36] *** Quits: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP) (Ping timeout)
[11:45:16] *** Quits: Soft (soft@moz-EC8D39F.yok.fi) (Ping timeout)
[11:45:59] *** Joins: aravindavk (aravinda@moz-BD0CADEE.redhat.com)
[11:50:31] *** Quits: andre (andre@CA528A4A.45A4338E.8EE27E6.IP) (Quit: leaving)
[11:50:34] *** Joins: andre (andre@CA528A4A.45A4338E.8EE27E6.IP)
[11:50:50] *** Joins: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP)
[11:53:49] *** Quits: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP) (Ping timeout)
[11:54:08] *** Quits: andre (andre@CA528A4A.45A4338E.8EE27E6.IP) (Client exited)
[11:54:34] *** Quits: andre_ (andre@CA528A4A.45A4338E.8EE27E6.IP) (Quit: leaving)
[11:54:36] *** Joins: andre (andre@CA528A4A.45A4338E.8EE27E6.IP)
[11:54:40] *** Joins: doener (bs@moz-AA189A5A.unitymedia.biz)
[11:55:03] *** Joins: JanC_ (janc@moz-C18D7729.dsl.scarlet.be)
[11:55:16] *** Joins: Sorella (queen@9D963F5D.DF5D8AE7.54BCAB54.IP)
[11:56:06] *** Quits: mihneadb (mihneadb@moz-6B31F5AA.static.ziggozakelijk.nl) (Ping timeout)
[11:57:26] *** Joins: Anupkumar (uid16774@moz-A42E5B7B.irccloud.com)
[11:57:51] *** Joins: mihneadb (mihneadb@moz-6B31F5AA.static.ziggozakelijk.nl)
[11:58:24] *** Joins: Ferreus (ferreus@moz-26B99244.dip0.t-ipconnect.de)
[12:00:30] *** Joins: gwty (gwtypc@34B1BA24.9A245E16.8A00C703.IP)
[12:00:46] *** Joins: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP)
[12:02:12] *** Quits: valentin (Thunderbir@4F2F9D91.E06BF678.B9540FE1.IP) (Ping timeout)
[12:02:30] *** Quits: mindcat (mindcat@D5ADD164.E1ABDF54.E47F7BFE.IP) (Ping timeout)
[12:02:30] *** Joins: valentin (Thunderbir@4F2F9D91.E06BF678.B9540FE1.IP)
[12:03:13] *** Joins: asmyers (quassel@F39AC551.9A737B8F.FAA4474F.IP)
[12:03:20] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[12:03:29] *** Quits: Guest_ (textual@D6B5DD7E.D8252BC.9532F1CE.IP) (Ping timeout)
[12:03:36] *** Joins: W0rmDr1nk (wormdrink@moz-6B95D38.access.mtnbusiness.co.za)
[12:03:44] *** Quits: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP) (Ping timeout)
[12:05:29] *** Quits: Kxepal (Miranda@moz-C9CC9CAB.pppoe.mtu-net.ru) (Ping timeout)
[12:05:32] *** Quits: dagle (dagle@moz-B17C4A95.cust.tele2.se) (Ping timeout)
[12:05:32] *** Quits: nomme (nomme@moz-FED8EFBC.a336.priv.bahnhof.se) (Ping timeout)
[12:05:32] *** Quits: Ke (jkarlson@moz-785A3407.org.aalto.fi) (Ping timeout)
[12:05:32] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[12:05:41] *** Quits: aravindavk (aravinda@moz-BD0CADEE.redhat.com) (Ping timeout)
[12:05:41] *** Quits: EKK (kviiri@moz-4C25427B.cs.helsinki.fi) (Ping timeout)
[12:05:41] *** Quits: LRN (LRN@moz-EA80C63C.nationalcablenetworks.ru) (Ping timeout)
[12:05:45] *** Quits: o11c (ben@3492CB95.7BF6B158.8D3CC9DB.IP) (Ping timeout)
[12:05:46] *** Joins: IanCormac841 (User@9E2C5474.2A8D8854.67DFF8B4.IP)
[12:05:57] *** Quits: IanCormac84 (User@BA60D8C3.2A8D8854.67DFF8B4.IP) (Ping timeout)
[12:06:06] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[12:06:06] *** Quits: silven (quassel@moz-F81D3961.a328.priv.bahnhof.se) (Ping timeout)
[12:06:06] *** Quits: Cork (Cork@moz-352B7E7B.a370.priv.bahnhof.se) (Ping timeout)
[12:06:06] *** Quits: ski (ski@moz-E5796727.student.chalmers.se) (Ping timeout)
[12:06:14] *** Joins: Guest_ (textual@D6B5DD7E.D8252BC.9532F1CE.IP)
[12:06:50] *** Quits: sk (sk@61A494B3.BA40E8A.AAC02D62.IP) (Ping timeout)
[12:06:55] *** Joins: mindcat (mindcat@AA41C5D8.3B6AB676.857BDFA9.IP)
[12:07:07] *** Quits: dpanth3r (dinofelis@228444B8.6B06001A.BB6F225C.IP) (Ping timeout)
[12:07:10] *** Quits: leowoe (Leo@moz-CEF2400C.inf.uni-konstanz.de) (Quit: Leaving.)
[12:08:09] *** Joins: kris (kris@moz-6D20263F.fullrate.dk)
[12:08:35] *** Joins: dpanth3r (dinofelis@228444B8.6B06001A.BB6F225C.IP)
[12:09:53] *** Quits: canhtak (canhtak@moz-2C382DC9.wl.t.ulaval.ca) (Quit: canhtak)
[12:10:40] *** Joins: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP)
[12:12:32] *** Joins: aravindavk (aravinda@moz-BD0CADEE.redhat.com)
[12:13:33] *** Quits: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP) (Ping timeout)
[12:13:34] *** Joins: Cork (Cork@456A2672.BA574D4D.BB9C2183.IP)
[12:14:07] *** Joins: silven (quassel@moz-F81D3961.a328.priv.bahnhof.se)
[12:14:30] *** Joins: mib_wrssa8 (Mibbit@89F212E2.AAE65B47.5D19E9EC.IP)
[12:14:57] *** Joins: o11c (ben@moz-C0FD33EF.a357.priv.bahnhof.se)
[12:16:06] *** Joins: nomme (nomme@moz-FED8EFBC.a336.priv.bahnhof.se)
[12:17:35] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Quit: Leaving.)
[12:18:13] *** Joins: eibwen (kvirc@moz-25FA2E23.dip0.t-ipconnect.de)
[12:20:04] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[12:20:27] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[12:20:28] *** pmoore|lunch is now known as pmoore
[12:20:49] * ChrisMorgan almost has SSL support for rust-http finished to his satisfaction ☺
[12:21:04] *** Joins: dagle (dagle@moz-B17C4A95.cust.tele2.se)
[12:21:08] *** Joins: sk (sk@61A494B3.BA40E8A.AAC02D62.IP)
[12:21:42] *** Joins: ski (ski@moz-E5796727.student.chalmers.se)
[12:21:54] *** Joins: Ke (jkarlson@moz-785A3407.org.aalto.fi)
[12:22:02] *** Quits: patpat (patpat@moz-1599AAE4.as13285.net) (Ping timeout)
[12:22:07] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[12:22:20] *** Joins: edwardw (edwardw@2D2C4852.2264CD20.339614B0.IP)
[12:22:42] *** Joins: [squiddy] (squiddy@moz-767EF079.dynamic.cablesurf.de)
[12:22:43] *** Joins: EKK (kviiri@moz-4C25427B.cs.helsinki.fi)
[12:23:47] <jensnockert> ChrisMorgan: Awesome!
[12:23:51] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[12:25:13] *** Joins: canhtak (canhtak@moz-2C382DC9.wl.t.ulaval.ca)
[12:26:38] <ChrisMorgan> I thought that default type params (e.g. struct RequestWriter<S = NetworkStream>) meant that I would just use RequestWriter in other crates with no need to fill the type parameter. The default doesn't seem to be kicking in ☹
[12:27:48] <ChrisMorgan> Oh, wow. It's got to be on the impl defining the appropriate method, not on the struct. (I guess I can have a different default for different constraints or methods, then? Interesting idea, could be quite nifty.)
[12:28:28] * ChrisMorgan takes that back; putting the default on the impls didn't actually help
[12:28:57] *** Quits: gimpf (gimpf@moz-DB86CEB0.adsl.highway.telekom.at) (Ping timeout)
[12:29:01] *** Joins: LRN (LRN@moz-EA80C63C.nationalcablenetworks.ru)
[12:29:04] <huon> ChrisMorgan: need it everywhere
[12:29:05] <huon> iirc
[12:29:07] *** Quits: japaric2 (japaric@B07B45DD.24D108FE.95AFB88D.IP) (Ping timeout)
[12:29:21] <ChrisMorgan> And so I still get `error: cannot determine a type for this bounded type parameter: unconstrained type` on the RequestWriter::new part of `let request = RequestWriter::new(Get, from_str(url).unwrap())`
[12:29:35] <huon> shadowing generics?
[12:29:39] <ChrisMorgan> Summary: default type parameters aren't working for me. What am I doing wrong?
[12:29:45] * ChrisMorgan looks blankly at huon
[12:30:21] *** Quits: W0rmDr1nk (wormdrink@moz-6B95D38.access.mtnbusiness.co.za) (Ping timeout)
[12:30:34] <eddyb> ChrisMorgan: defaults on impls don't help
[12:30:50] <eddyb> ChrisMorgan: they're there for Foo::<T>::bar
[12:30:51] *** Quits: m_kato (m_kato@moz-C286AD9A.bitcat.net) (Quit: Leaving...)
[12:30:57] *** Joins: japaric2 (japaric@EAACEE24.8C2993CE.5C7588CA.IP)
[12:31:05] *** Joins: leowoe (Leo@moz-CEF2400C.inf.uni-konstanz.de)
[12:31:23] *** Joins: W0rmDr1nk (wormdrink@moz-6B95D38.access.mtnbusiness.co.za)
[12:31:26] <huon> ChrisMorgan: `impl<T> ... { fn foo<T>(...) }`, the inner T shadows the outer T
[12:31:41] <ChrisMorgan> huon: not happening
[12:31:57] * eddyb reads more backlog
[12:32:04] <eddyb> ChrisMorgan: have you tried RequestWriter<> for the type?
[12:32:11] <ChrisMorgan> Well, I *had* RequestWriter::<NetworkStream>::new(…) but naturally want to drop the ::<NetworkStream> part. Changing the struct to `struct RequestWriter<S = NetworkStream>` is not changing a thing.
[12:32:17] <eddyb> the issue is that RequestWriter could either be a HKT or a fully qualified type
[12:32:35] <eddyb> ChrisMorgan: the default isn't used when type inference fails
[12:32:50] <eddyb> that would be interesting magic to have
[12:33:03] <ChrisMorgan> Why would type inference be failing? Isn't this exactly the case that default type parameters was for?
[12:33:19] <eddyb> ChrisMorgan: inference is complicated and I didn't touch it
[12:33:31] *** Quits: mib_wrssa8 (Mibbit@89F212E2.AAE65B47.5D19E9EC.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[12:33:36] *** Quits: mihneadb (mihneadb@moz-6B31F5AA.static.ziggozakelijk.nl) (Quit: Computer gone to sleep - Zzzz...)
[12:33:39] <eddyb> I don't even know how "weak override" fits in HM
[12:34:29] <ChrisMorgan> So… where *does* default type parameters do anything?
[12:34:47] <pnkfelix> ChrisMorgan: presumably at spots where inference does not apply?
[12:34:49] <eddyb> but if implemented, it would solve some related issues with HashMap, where you can't have HashMap::new() be generic over a Hasher implementing Default because it won't infer to the default
[12:34:51] <pnkfelix> ChrisMorgan: e.g. top level signatures?
[12:35:18] <eddyb> pnkfelix: in his unfortunate case, RequestWriter<> might be required
[12:35:32] *** flaper87|afk is now known as flaper87
[12:35:44] <pnkfelix> eddyb: I'm just trying to answer his more basic Q
[12:35:47] <ChrisMorgan> I thought it was supposed to mean that for other crates that didn't use the type, RequestWriter was a type in its own right and any attempt to write RequestWriter<NetworkStream> would require another gated feature to be activated.
[12:35:53] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[12:36:12] <eddyb> ChrisMorgan: now I'm curious
[12:36:20] <eddyb> does RequestWriter::<>::new() work?
[12:36:51] <ChrisMorgan> eddyb: no change
[12:37:01] <eddyb> yea that should probably be fixed
[12:37:16] <eddyb> rusti: struct Foo<T = int> {x: T}; let foo: Foo = Foo {x: 0}; foo
[12:37:17] -rusti- pastebinned 8 lines of output: http://sprunge.us/BeGf
[12:37:42] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[12:37:54] <eddyb> rustilite: #[feature(default_type_params)]; fn main() {struct Foo<T = int> {x: T}; let foo: Foo = Foo {x: 0};}
[12:37:54] -rustilite- <anon>:1:77: 1:80 warning: unused variable: `foo`, #[warn(unused_variable)] on by default
[12:37:55] -rustilite- <anon>:1 #[feature(default_type_params)]; fn main() {struct Foo<T = int> {x: T}; let foo: Foo = Foo {x: 0};}
[12:37:55] -rustilite-                                                                                      ^~~
[12:37:55] -rustilite- application terminated abnormally with signal 31 (Bad system call)
[12:38:03] <eddyb> okay
[12:38:14] *** Quits: canhtak (canhtak@moz-2C382DC9.wl.t.ulaval.ca) (Quit: canhtak)
[12:38:22] <eddyb> ChrisMorgan: okay, it seems you do not need <> for a qualified type
[12:39:11] *** Joins: daschl (Adium@moz-DC6DE6E2.vie.surfer.at)
[12:39:17] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[12:40:55] <ChrisMorgan> … so I have to annotate the type as `RequestWriter` :-/
[12:40:55] *** Quits: daschl (Adium@moz-DC6DE6E2.vie.surfer.at) (Ping timeout)
[12:41:02] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[12:41:42] <eddyb> (HKT will ruin that)
[12:42:00] <ChrisMorgan> Yes, `let request: RequestWriter = RequestWriter::new(…);` instead of `let request = RequestWriter::new(…);` works. That is *weird*.
[12:42:27] <kvanb> hi cmr
[12:42:28] * ChrisMorgan now sees that default type parameters are certainly not ready for general consumption ☹
[12:42:49] <cmr> kvanb: hi
[12:42:53] <kvanb> Im patching configure to make it possible to build rustc on mingw64 (ie, msys2 64-bit mode)
[12:43:09] <kvanb> I just appended some rules for the MINGW64 uname and made it a proper llvm triple and such
[12:43:23] <kvanb> anything I should know before I test and submit the pull?
[12:43:49] <cmr> nope, sounds good to me.
[12:43:54] <kvanb> coolio
[12:44:06] <cmr> should cc @klutzy and @vadimcn
[12:44:33] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[12:45:27] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Client exited)
[12:45:39] <eddyb> ChrisMorgan: if I knew how to implement an inference fallback, I'd totally do it
[12:45:58] <eddyb> hmm, "fallback". that might be a place to start
[12:47:14] <eddyb> put the optional default in the type inference variable, and when inference fails, (and there's only one default available) use the default instead
[12:47:22] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[12:47:33] <eddyb> nmatsakis: ^^ thoughts? I didn't really consider using defaults in inference before
[12:47:35] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[12:48:13] *** Joins: canhtak (canhtak@moz-2C382DC9.wl.t.ulaval.ca)
[12:48:32] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[12:49:05] <kvanb> defaults ... oh lawd
[12:49:13] *** Joins: Earnestly (earnest@18162BE0.BA6AC103.30311652.IP)
[12:49:23] <kvanb> reminds me of this bad situation over in ghc-land where things default to Integer
[12:49:41] <kvanb> (which is an unbounded int gmp-based type)
[12:49:51] *** jorendorff_away is now known as jorendorff
[12:50:02] *** Quits: aravindavk (aravinda@moz-BD0CADEE.redhat.com) (Ping timeout)
[12:50:25] <huon> it's not that bad... (depending what you're using Haskell for, of course)
[12:51:26] <benh> I think there's been some demand to make that the default for rust as well, given that our int/uint types being pointer-sized isn't really obvious from the name ;)
[12:53:19] *** Joins: philix (felipe@moz-9E12C1FF.user.veloxzone.com.br)
[12:53:27] <kvanb> its not bad in like 90% of situations
[12:53:51] <kvanb> but in that other 10% where it infers your iterator or something to be an Integer and your loop takes about 2 minutes to complete (from like, 0.1s)
[12:54:04] *** Quits: matp (matp@moz-16FE1E05.matp.at) (Ping timeout)
[12:54:05] <kvanb> it can be frustrating ;)
[12:55:20] *** Quits: philix (felipe@moz-9E12C1FF.user.veloxzone.com.br) (Ping timeout)
[12:55:44] *** Joins: mihneadb (mihneadb@moz-6B31F5AA.static.ziggozakelijk.nl)
[12:56:22] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[12:57:10] *** Quits: marianoguerra (marianogue@moz-7497155F.dip0.t-ipconnect.de) (Ping timeout)
[12:57:30] *** Joins: aravindavk (aravinda@moz-BD0CADEE.redhat.com)
[12:58:20] *** Quits: alonlevy (alon@DCC04B97.C0AFD91D.27DA33FF.IP) (Ping timeout)
[12:58:32] *** Joins: XyMa (Mibbit@A8A43B71.12FF1288.B4C97B2.IP)
[13:00:44] *** Quits: IanCormac841 (User@9E2C5474.2A8D8854.67DFF8B4.IP) (Ping timeout)
[13:00:53] *** Joins: IanCormac84 (User@7AE36A4E.2A8D8854.67DFF8B4.IP)
[13:03:10] *** Joins: gimpf (gimpf@moz-DB86CEB0.adsl.highway.telekom.at)
[13:03:19] *** Quits: Guest_ (textual@D6B5DD7E.D8252BC.9532F1CE.IP) (Ping timeout)
[13:03:30] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[13:04:14] *** Quits: leowoe (Leo@moz-CEF2400C.inf.uni-konstanz.de) (Quit: Leaving.)
[13:05:19] *** Joins: Kynes (Kynes@moz-3DC6C6E7.mit.edu)
[13:05:28] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[13:05:31] *** Joins: bgyss (sid11244@moz-31ABA2C0.irccloud.com)
[13:05:51] *** Joins: mno2 (mno2@C9C55379.F9BA5024.DA359910.IP)
[13:06:54] *** pmoore is now known as pmoore|away
[13:07:06] *** Quits: mno2 (mno2@C9C55379.F9BA5024.DA359910.IP) (Quit: mno2)
[13:07:10] *** Joins: mye (mye@moz-59B9446A.dip0.t-ipconnect.de)
[13:07:29] *** Joins: jdm (jdm@moz-AC9499B2.cable.teksavvy.com)
[13:07:29] *** ChanServ sets mode: +o jdm
[13:07:30] *** Quits: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net) (Connection reset by peer)
[13:07:39] *** Joins: Guest_ (textual@D6B5DD7E.D8252BC.9532F1CE.IP)
[13:08:27] *** Quits: edwardw (edwardw@2D2C4852.2264CD20.339614B0.IP) (Ping timeout)
[13:08:49] <doomlord_> definitions in 'mod.rs' should be in the scope of their 'directory name' , right?    i've got some code which isn't finding 'rustc::middle::typeck::MethodMap' (librustc/middle/typeck/mod.rs)  
[13:08:51] *** Joins: dranov (dranov@5C5E522B.F39E9F97.FCAAE698.IP)
[13:09:48] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[13:09:52] *** Joins: edwardw (edwardw@C5A98CE5.177282A3.FAED9FFC.IP)
[13:10:38] *** flaper87 is now known as flaper87|afk
[13:11:26] *** pmoore|away is now known as pmoore
[13:12:25] <eddyb> doomlord_: what's the context?
[13:12:41] <eddyb> that module path might not be accurate
[13:13:23] *** Quits: cremes (cremes@moz-72B945E0.hsd1.il.comcast.net) (Ping timeout)
[13:13:26] *** Joins: cremes (cremes@moz-72B945E0.hsd1.il.comcast.net)
[13:14:29] <doomlord_> i'll paste..
[13:14:53] *** Joins: leowoe (Leo@moz-CEF2400C.inf.uni-konstanz.de)
[13:14:57] *** Quits: Axord (xord@moz-C0D5F15A.lsanca.dsl-w.verizon.net) (Quit: I'm sure it's perfectly safe)
[13:15:44] *** Quits: Guest_ (textual@D6B5DD7E.D8252BC.9532F1CE.IP) (Ping timeout)
[13:16:19] <doomlord_> http://pastebin.com/Hn5KK21x  <<< i've tried requalifiying it various ways
[13:16:30] *** Joins: Guest_ (textual@D6B5DD7E.D8252BC.9532F1CE.IP)
[13:16:46] <huon> apparently having a package manager/dependency manager is an inconvenience
[13:16:59] <eddyb> more HN?
[13:17:12] * ChrisMorgan is utterly baffled by some of the reactions thus far.
[13:17:22] *** flaper87|afk is now known as flaper87
[13:17:28] <eddyb> doomlord_: gist would be nice, I can read things there
[13:17:37] <doomlord_> ok 1min
[13:17:40] <eddyb> doomlord_: you're importing typeck twice *and then all its contents*
[13:17:46] <eddyb> there should be errors for that
[13:17:53] <doomlord_> yeah i've randomly tried adding more uses..
[13:18:07] <doomlord_> i'll just try getting rid of the glob
[13:18:41] *** Joins: rootnode (rootnode@moz-CC640AB.pools.arcor-ip.net)
[13:19:23] *** Quits: XyMa (Mibbit@A8A43B71.12FF1288.B4C97B2.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[13:19:39] <doomlord_> https://gist.github.com/dobkeratops/9619841 <<< ok i'ver removed the glob and tried again, but its still telling my those are unresolved ; yikes.
[13:19:50] *** Joins: patpat (patpat@6D98B3B5.A0E34C8E.98F3E2B5.IP)
[13:19:52] <huon> eddyb: yes, more HN :/
[13:19:56] *** Quits: Guest_ (textual@D6B5DD7E.D8252BC.9532F1CE.IP) (Ping timeout)
[13:20:12] *** Quits: kris (kris@moz-6D20263F.fullrate.dk) (Ping timeout)
[13:20:14] <eddyb> doomlord_: does method_map resolve?
[13:20:27] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[13:20:28] <eddyb> maybe the crate you're building against is old
[13:20:37] <doomlord_> *yes* that does; 
[13:20:54] <eddyb> update pls
[13:21:13] <doomlord_> ah as simple as that..
[13:21:42] <huon> doomlord_: what's the exact error message?
[13:21:48] <huon> oh
[13:22:00] * huon should scroll to the bottom of the window
[13:22:05] <eddyb> the change got merged less than a week ago
[13:22:05] <doomlord_> right i've updated, i've got other errors, i'll deal with those
[13:22:12] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[13:22:22] *** Joins: marianoguerra (marianogue@moz-75C9ECC6.hsi14.kabel-badenwuerttemberg.de)
[13:22:49] *** Joins: Guest_ (textual@D6B5DD7E.D8252BC.9532F1CE.IP)
[13:23:01] *** Joins: redShadow (redShadow@9BDAF02B.D15F9219.1CCF65D9.IP)
[13:23:55] <huon> http://www.standalone-sysadmin.com/blog/2014/03/just-what-we-need-another-package-manager/
[13:23:56] *** Quits: Guest_ (textual@D6B5DD7E.D8252BC.9532F1CE.IP) (Quit: Textual IRC Client: www.textualapp.com)
[13:24:29] <ChrisMorgan> The article starts with a mention of Rust and then goes on to talk about what is more or less a completely different problem.
[13:25:19] <eddyb> kibwen is spamming http://careers.mozilla.org/en-US/position/o3VZWfwD lol
[13:25:51] <huon> ChrisMorgan: and they say "Please, accept that a tool someone else wrote that you see as imperfect may actually solve the problem" ... without actually telling us what tool that is
[13:26:07] *** Joins: heftig (heftig@moz-EA2845C1.dip0.t-ipconnect.de)
[13:26:20] <huon> (or even the approximate class: are they thinking of using apt-get/yum style package managers, or 0install, or what?)
[13:26:34] <ChrisMorgan> huon: well, for the problem that he's dealing with (deployment) there are a number of options which will all more or less do what is desired. But that's nothing to do with cargo.
[13:26:55] <huon> ChrisMorgan: true enough
[13:27:09] <cmr> eddyb: kibwen is bstrie 
[13:27:28] <eddyb> oh that's... something to keep in mind
[13:27:38] *** Quits: cschneid (cschneid@moz-621ACC77.hlrn.qwest.net) (Client exited)
[13:28:30] <doomlord_> Session::codemap - what has this been replaced with
[13:28:44] <sigma> wow that hackernews thread is frustrating
[13:28:45] <cmr> huon: it's not like there aren't existing solutions. they all just suck in their own, special way
[13:28:47] <doomlord_> {struct Session {} used to have a field codemap }
[13:28:55] *** Joins: kris (kris@moz-707453A4.dk.customer.tdc.net)
[13:29:07] <cmr> sigma: link?
[13:29:15] <sigma> https://news.ycombinator.com/item?id=7419553
[13:29:29] <Yurume> what is the best strategy to detect if the type parameter is a particular type in compile time (or compile-time-optimizable run time)?
[13:29:32] <doomlord_> ah an accessr function
[13:30:21] *** Joins: ganitsu (ganitsu@moz-9C7D3C92.dialup.adsl.anteldata.net.uy)
[13:30:22] *** Quits: mihneadb (mihneadb@moz-6B31F5AA.static.ziggozakelijk.nl) (Quit: Computer gone to sleep - Zzzz...)
[13:30:47] *** Joins: Rym (y@B38B74BC.61CF0AA7.51C6DE68.IP)
[13:30:48] <doomlord_> ".borrow" coerces Rc<T> to &T ?
[13:30:49] <eddyb> Yurume: TypeId
[13:30:54] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Quit: csherratt)
[13:30:55] <eddyb> doomlord_: borrow is gone
[13:31:35] <huon> Yurume: traits?
[13:31:37] <Yurume> eddyb, TypeId::of::<T>() == TypeId::of::<SomeType>()? but it wouldn't work for non-'static T.
[13:31:47] <huon> oh
[13:31:53] <cmr> sigma: wow that thread is painful.
[13:32:00] <Yurume> hmm, okay, let me give the exact use case:
[13:32:06] <eddyb> Yurume: I think &'static T might work
[13:32:07] *** Joins: pczarn (pczarn@moz-69A55FA.izacom.pl)
[13:32:09] <huon> TypeId equality doesn't inform the compiler that T == SomeType
[13:32:20] <huon> eddyb: that's still not 'static, iirc
[13:32:41] <cmr> ah crap it's on the frontpage too
[13:32:44] <eddyb> huon: I thought Yurume wanted to *checK* type equality
[13:32:47] <Yurume> I was working with `Buffer` and I needed to force-fill the buffer
[13:32:47] <doomlord_> i have somewhere that used take a @T  passing elsewhere as a &T  - "expected &... but found Rc<...>" ... whats the solution if i just sticka a & infront wont that be &Rc<T> rather than &T
[13:33:00] <huon> cmr: the best bit is the top comment which is full of misunderstandings
[13:33:05] <eddyb> Yurume: if you actually need to cast to the type as well
[13:33:09] <eddyb> Yurume: I'd suggest use Any
[13:33:21] <huon> cmr: and the person apparently thinks we're no longer in heavy development
[13:33:27] <eddyb> doomlord_: &*x
[13:33:46] <eddyb> doomlord_: was that FileMap?
[13:34:00] *** Joins: benjamin_____ (benjamin@moz-7BB34CFF.dip0.t-ipconnect.de)
[13:34:03] <Yurume> `Buffer` *can* return the empty buffer for `fill`, which is a sort of pain when you want the multi-byte lookahead
[13:34:06] <eddyb> FileMap was one of the two things I've had to use Rc on
[13:34:07] <doomlord_> thanks. yes that was i think
[13:34:25] <eddyb> because of interior mutability and CodeMap and it would just not work otherwise
[13:34:34] *** Joins: fenak (Mibbit@moz-EC1FC22F.corp.uolinc.com)
[13:34:38] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[13:34:40] <Yurume> so I wanted to make an adapter for `Buffer` which ensures the `fill` gives at least given number of bytes in the buffer
[13:34:53] <Yurume> (while not consuming the buffer)
[13:35:53] <Yurume> since `BufReader` and `MemReader`, for example, do not suffer from this problem (no refill possible) and they are used a lot with my current design, I want to special-case them
[13:36:12] <eddyb> ah, TypeId *might* work then
[13:36:14] *** Joins: vgeddes (vincent.ge@5BD5C502.911DBC7C.C6E4398C.IP)
[13:36:27] <Yurume> I think `impl<T:Buffer> BufferAdapter for T { ... } impl BufferAdapter for BufReader { ... }` etc currently does not work
[13:36:32] *** Quits: edwardw (edwardw@C5A98CE5.177282A3.FAED9FFC.IP) (Ping timeout)
[13:36:33] <ChrisMorgan> There, SSL support for rust-http is fresh again: https://github.com/chris-morgan/rust-http/pull/68
[13:36:38] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[13:36:47] <Yurume> oh, great!
[13:37:54] <Yurume> eddyb, ah, BufReader requires a non-static pointer obviously. :S
[13:38:11] <eddyb> Yurume: does &'static T and &'static U work?
[13:38:13] <Yurume> `impl<'a> BufferAdapter for BufReader<'a> { ... }` would be exact
[13:38:17] <Yurume> eddyb, let me try
[13:38:19] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[13:38:25] <doomlord_> matching a ~str    ....   match yada /* its a ~str */  { .... ~"foo" => ...  , ~"bar" => ...   } ... this doesn't seem to be compiling now ; i've tried "foo" &"foo" "*yada" 
[13:38:27] <eddyb> TypeId has erased lifetimes AFAIK
[13:38:36] <huon> doomlord_: ~str patterns are gone
[13:38:42] <eddyb> doomlord_: .as_slice()
[13:38:44] <huon> the compiler probably told you that?
[13:39:05] *** Joins: edwardw (edwardw@FC63E399.AB331A3B.FAED9FFC.IP)
[13:39:08] *** Joins: daschl (Adium@moz-DC6DE6E2.vie.surfer.at)
[13:39:15] <eddyb> Yurume: so &'static T and &'static BufReader<'static> may work
[13:39:16] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Quit: TheHydroImpulse)
[13:39:44] *** Joins: Guest_ (textual@moz-6FD8C94B.hfc.comcastbusiness.net)
[13:39:52] *** Quits: Rym (y@B38B74BC.61CF0AA7.51C6DE68.IP) (Ping timeout)
[13:40:06] <eddyb> maybe the TypeId intrinsic should do the erasure itself?
[13:40:22] <eddyb> I mean, who's gonna use it to compare lifetime equality at runtime?
[13:41:45] *** Quits: daschl (Adium@moz-DC6DE6E2.vie.surfer.at) (Ping timeout)
[13:42:05] *** Quits: Khady (Khady@moz-31F9D77E.khady.info) (Ping timeout)
[13:42:21] <edwardw> It seems stage1 rustc loses its debug output. Is it only me?
[13:42:33] *** Quits: sw17ch (sw17ch@moz-675AFBCF.hsd1.mi.comcast.net) (Quit: sw17ch)
[13:42:34] <Yurume> eddyb, t.rs:15:6: 15:30 error: instantiating a type parameter with an incompatible type `&'static T`, which does not fulfill `'static`
[13:42:53] <cmr> edwardw: from RUST_LOG? I think it's just you, I'm debugging a stage1 rustc right now
[13:42:56] <Yurume> for the code like this: if TypeId::of::<&'static T>() == TypeId::of::<&'static BufReader<'static>>() || TypeId::of::<&'static T>() == TypeId::of::<&'static MemReader>() { ... }
[13:43:16] <edwardw> cmr: yeah, RUST_LOG. very strange
[13:43:32] <huon> edwardw: do you have the right RUST_LOG?
[13:43:33] *** Joins: pepper_chico (pepper_chi@BE2968B5.6F4A2706.E4090502.IP)
[13:43:50] <edwardw> huon: I've tried RUST_LOG=rustc=debug
[13:44:02] <edwardw> and the same works if I use a stage2
[13:44:07] <huon> oh, weird
[13:44:16] <huon> logging recently changed so maybe it's something to do with that
[13:44:19] <huon> ... oh!
[13:44:20] <edwardw> I thought it's liblog, but seems not
[13:44:21] <huon> I know
[13:44:39] <huon> module_path!() for the stage1 compilers doesn't include the crate name
[13:44:46] <huon> (until a snapshot)
[13:45:04] <huon> so RUST_LOG=middle=debug probably works
[13:45:18] <edwardw> let me try
[13:45:23] <eddyb> Yurume: why the two things?
[13:45:43] <edwardw> huon: works like a charm, ty
[13:45:44] *** Quits: pepper_chico (pepper_chi@BE2968B5.6F4A2706.E4090502.IP) (Quit: WeeChat 0.4.1)
[13:45:45] <Yurume> eddyb, I need to detect if the type is either BufReader or MemReader
[13:45:50] <eddyb> Yurume: all lifetimes are erased to ReStatic - oh, wait. cmr just proved me wrong :(
[13:46:00] <eddyb> ahh and only one of them is generic over a lifetime. nevermind me
[13:46:06] <Yurume> awwww ;)
[13:46:35] <Yurume> hmm, would this be one reason to add additional methods to Buffer? :p
[13:46:54] <eddyb> maybe associated items?
[13:47:12] <eddyb> Yurume: I feel like the type ID intrinsic is just not designed right
[13:47:18] <olsonjeffery> what is up with the glacial pace of bors? has this been an issue for a while?
[13:47:31] <Yurume> eddyb, a hacky hack as usual...
[13:47:39] *** Joins: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com)
[13:47:41] <eddyb> Yurume: lift the restriction and erase regions "manually" within the implementation
[13:47:56] <eddyb> olsonjeffery: win bots have been slower for a few days now
[13:47:59] <eddyb> not really sure why
[13:48:24] *** Quits: canhtak (canhtak@moz-2C382DC9.wl.t.ulaval.ca) (Quit: canhtak)
[13:48:43] <Yurume> eddyb, uh, can *I* do that?
[13:48:53] *** Joins: fmtq (fmt@moz-5769BD38.static.tpgi.com.au)
[13:50:15] <eddyb> Yurume: thank you, HN
[13:50:23] <eddyb> this is what I get for clicking on things
[13:50:30] <eddyb> err, s/Yurume//
[13:50:34] <Yurume> lol
[13:50:40] <eddyb> (swap hell)
[13:50:50] *** Joins: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com)
[13:51:19] <eddyb> Yurume: worst case, you might have to implement a custom TypeFolder to erase *all* regions, but even that is like 20 lines
[13:52:18] <eddyb> https://transferwise.com/blog/2014-03/watch-as-1000-years-of-european-borders-change-timelapse-map/?utm_medium=content&utm_source=hackernews
[13:52:20] <Yurume> eddyb, ah, I thought you meant to do that in the user code...
[13:52:24] <eddyb> that site is ridiculously bad
[13:52:38] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[13:52:40] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Quit: TheHydroImpulse)
[13:53:04] <Yurume> (and I wasn't looking at -internals until now)
[13:53:07] *** Quits: aravindavk (aravinda@moz-BD0CADEE.redhat.com) (Ping timeout)
[13:53:41] <olsonjeffery> just came across a really interesting img domain/problem that i hope to be able to tackle w/ rust
[13:54:07] *** Joins: canhtak (canhtak@moz-2C382DC9.wl.t.ulaval.ca)
[13:54:14] <olsonjeffery> talking with the person for maintains an online map utility for project zomboid, which shows the map of the main town in the game
[13:54:25] <olsonjeffery> using a sort of google maps type ui
[13:54:44] <eddyb> give this man some gold https://news.ycombinator.com/item?id=7421839
[13:54:49] <eddyb> oh wait, this ain't reddit :(
[13:54:50] <olsonjeffery> he has a shell script that iterates over the game map, via the official map mod tool, and spits out screen shots of all the tiles
[13:55:04] <olsonjeffery> and then he has another shell script that stiches the screenshots together
[13:55:11] <eddyb> https://news.ycombinator.com/item?id=7421665 this reminds me I have to try out nix
[13:55:18] <olsonjeffery> something like 160,000 SS taking on the order of days to build a new map
[13:55:25] <olsonjeffery> so hoping i could optimize it a bit
[13:55:34] <olsonjeffery> curious if i can get uncompressed screenshots
[13:55:45] <eddyb> hmm, I wonder if nix can import configurations from a different distro. and then give you a git-like overview of what's not default
[13:55:51] *** Quits: kris (kris@moz-707453A4.dk.customer.tdc.net) (Ping timeout)
[13:56:04] *** Joins: kris_ (kris@moz-147EE6DF.diku.dk)
[13:56:09] <eddyb> a lot of things are cruft from three years of updates without a proper mergetool for config files
[13:56:10] *** Quits: jaras (textual@1CDC5701.A48867D7.52E4E107.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[13:57:06] <eddyb> olsonjeffery: so what would you need? a PNG reader?
[13:57:22] <eddyb> or, wait, screenshots... X APIs? I don't really know
[13:57:41] *** Joins: froglegstew (Mibbit@7E217F04.2C8DBE39.CC1A2609.IP)
[13:57:46] *** Joins: gregburd (uid3997@moz-E77DEB21.irccloud.com)
[13:57:48] *** Joins: philix (felipe@moz-9E12C1FF.user.veloxzone.com.br)
[13:58:43] *** Joins: Khady (Khady@moz-31F9D77E.khady.info)
[13:59:30] <olsonjeffery> eddyb: so the map editor can be called from the CLI to spit out a SS at a given map coord
[13:59:41] <eddyb> ah okay
[13:59:42] <olsonjeffery> id keep that outside of the rust code
[13:59:49] *** Quits: gwty (gwtypc@34B1BA24.9A245E16.8A00C703.IP) (Ping timeout)
[13:59:52] <olsonjeffery> basically optimize the stiching operation
[13:59:55] <eddyb> riiight
[14:00:06] *** Joins: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca)
[14:00:08] <olsonjeffery> which the current maintainer is doing w/ shell script + imagemagick
[14:00:15] <eddyb> olsonjeffery: how large are we talking?
[14:00:29] <olsonjeffery> 185GB for all the screenshots!
[14:00:30] <eddyb> each tile and the stiched map? do you have to resize?
[14:00:36] <olsonjeffery> i could develop a solution on a smaller map
[14:00:39] <cmr> olsonjeffery: an easy fix would be trying graphicsmagic
[14:00:55] <cmr> image joining isn't like, a hard problem?
[14:01:08] *** Quits: sellout (Adium@moz-6B18A669.hlrn.qwest.net) (Quit: Leaving.)
[14:01:11] <cmr> I'd be surprised if there's much gain over imagemagick/graphicsmagic
[14:01:23] *** Joins: lessless (lessless@moz-F3755E99.emplot.net)
[14:01:33] <olsonjeffery> yeah. you can't keep much in memory, for sure.
[14:01:50] *** Quits: cremes (cremes@moz-72B945E0.hsd1.il.comcast.net) (Ping timeout)
[14:02:05] <eddyb> cmr: if my PNG decoder had more internals exposed, you could do crazy things with it
[14:02:16] <eddyb> like, seek to the start of each line
[14:02:16] *** Quits: glaebhoerl_ (glaebhoerl@moz-3590251D.kabelnet.hu) (Quit: )
[14:02:18] *** Joins: glaebhoer1 (glaebhoerl@moz-3590251D.kabelnet.hu)
[14:03:00] <eddyb> without keeping anything in memory, other than that line. do this for N PNGs, while outputting data for an uncompressed PNG to a file
[14:03:12] <olsonjeffery> the maintainer says most of the baggage is in decompressing the pngs
[14:03:13] *** Quits: goffrie (goffrie@BF60BC60.2D0E3299.F2563FDA.IP) (Ping timeout)
[14:03:14] *** Joins: goffrie (goffrie@moz-A05CBFD4.dsl.ncf.ca)
[14:03:21] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[14:03:46] <eddyb> but for some reason I doubt you can have PNGs so big that you actually get a benefit from doing this
[14:05:01] *** Joins: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP)
[14:05:15] <olsonjeffery> 435200 x 204800 px
[14:05:30] *** Quits: Khady (Khady@moz-31F9D77E.khady.info) (Ping timeout)
[14:05:30] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[14:06:12] *** Quits: victorporof (victorporo@moz-FFB76956.cpe.net.cable.rogers.com) (Ping timeout)
[14:06:28] <eddyb> olsonjeffery: I take that back
[14:06:33] *** Joins: Rym (y@B38B74BC.61CF0AA7.51C6DE68.IP)
[14:07:09] *** Joins: cremes (cremes@moz-72B945E0.hsd1.il.comcast.net)
[14:07:12] <eddyb> 320MB in RAM, right?
[14:07:31] <olsonjeffery> he says 19gb, compressed png
[14:07:43] <eddyb> that can't be right
[14:07:46] <olsonjeffery> eddyb: it's the backing data for this: http://pzmap.crash-override.net/
[14:07:55] *** Quits: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP) (Ping timeout)
[14:08:01] <eddyb> rusti: 435200*204800*4
[14:08:02] -rusti- 356515840000
[14:08:10] <Seldaek> eddyb: yeah I'm dealing with a project where we must handle up to 2GB images, it's fun stuff, and that's not even that big I guess when it comes to images
[14:08:14] <eddyb> where did I... OOOH
[14:08:20] <eddyb> olsonjeffery: I suck at math. 320GB in RAM
[14:08:25] *** Quits: cremes (cremes@moz-72B945E0.hsd1.il.comcast.net) (Connection reset by peer)
[14:08:35] <olsonjeffery> you forgot to carry the 0xf!
[14:08:41] *** Joins: bjustin (bjustin@moz-8FC28563.sierrabravo.net)
[14:08:57] *** Quits: froglegstew (Mibbit@7E217F04.2C8DBE39.CC1A2609.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[14:09:02] <bstrie> eddyb: I spammed it just to mollify the people crying "why doesn't mozilla hire windows devs?!?"
[14:09:18] *** Joins: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP)
[14:09:18] <eddyb> stop whining and get hired!
[14:09:25] <eddyb> bstrie: so motivational
[14:09:51] <Ms2ger> bstrie, we did, and put them on Metro? :)
[14:10:10] <eddyb> olsonjeffery: so an uncompressed row is under 2MB. we can deal with that
[14:10:11] *** Joins: cremes (cremes@moz-72B945E0.hsd1.il.comcast.net)
[14:10:13] <bstrie> honestly, with mozilla shuttering metrofox and persona I'm surprised to see that rust isn't also looking to get chopped
[14:10:21] *** Joins: jackneill (jackneill@moz-A28E8B07.pool.digikabel.hu)
[14:10:27] <olsonjeffery> eddyb: so if you were given a bunch of input files, could you build the stiched file as an append operation?
[14:10:32] <olsonjeffery> w/ computing the headers at the start
[14:10:32] <bstrie> they must think that we're valuable or something!
[14:10:32] *** Quits: avdi (sid16245@moz-A42E5B7B.irccloud.com) (Ping timeout)
[14:10:32] *** Quits: Anupkumar (uid16774@moz-A42E5B7B.irccloud.com) (Ping timeout)
[14:10:36] <Ms2ger> bstrie, unlike those, rust has users :)
[14:10:44] <olsonjeffery> and just cat'ing the other files into the output?
[14:10:47] <bstrie> Ms2ger: despite our best efforts
[14:10:52] <eddyb> olsonjeffery: it's not that easy
[14:11:00] <Ms2ger> bstrie, not going to deny that :)
[14:11:02] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[14:11:08] <eddyb> olsonjeffery: you have to load a row of tiles
[14:11:15] <eddyb> olsonjeffery: and also keep the current long line in memory
[14:11:21] <lessless> bstrie, persona was a great thing
[14:11:29] <eddyb> maybe two long lines (for compression purposes)
[14:11:49] <cmr> does png do single line RLE?
[14:11:53] *** Joins: avdi (sid16245@moz-A42E5B7B.irccloud.com)
[14:12:00] <cmr> that'd be a simple pass to do before you write it out
[14:12:00] <eddyb> cmr: PNG uses DEFLATE
[14:12:05] <bstrie> Ms2ger: my surprise is that metro and persona were probably *still* better value propositions in the short-term than servo and rust
[14:12:09] <cmr> eddyb: that's not *all* it does, is it?
[14:12:19] <cmr> istr various filters it applied before that.
[14:12:23] <eddyb> cmr: but the 32KB buffer is tiny compared to how big a row is
[14:12:27] <cmr> been a while since I read the spec though
[14:12:27] *** Joins: bourbaki (chatzilla@moz-8A75E362.dip0.t-ipconnect.de)
[14:12:28] <eddyb> cmr: yupp, filters, but not RLE
[14:12:34] <Ms2ger> bstrie, I guess we care about more than the short term ;)
[14:12:36] <bourbaki> Moin
[14:12:37] <cmr> RLE could be a filter :P
[14:12:39] <eddyb> filters are there to decrease the entropy
[14:12:40] <bstrie> lessless: I agree. let's hope it gets revived one day
[14:12:42] *** Joins: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com)
[14:12:43] <bstrie> bourbaki: moin
[14:12:50] *** Joins: erickt (etryzelaar@49C4075F.3AC15C18.2321E71E.IP)
[14:13:12] <eddyb> cmr: you can apply something like Up or Sub and it might work most of the time
[14:13:26] <eddyb> but you need two rows and an iteration to figure out which filter to use
[14:13:32] <bourbaki> bstrie: disco?
[14:13:45] <lessless> bstrie, nope, it has a successor already - a  WebID from w3c
[14:14:09] *** Joins: daschl (Adium@moz-DC6DE6E2.vie.surfer.at)
[14:14:15] <Ms2ger> We'll see what happens to that :)
[14:14:43] <lessless> cmr, are you doing a png library? 
[14:14:48] <cmr> lessless: no
[14:14:53] *** Quits: daschl (Adium@moz-DC6DE6E2.vie.surfer.at) (Quit: Leaving.)
[14:15:08] <Ms2ger> But eddyb is
[14:15:12] <cmr> indeed
[14:15:14] <cmr> (https://github.com/cmr/TEMP-rust-png)
[14:15:14] *** Joins: Anupkumar (uid16774@moz-A42E5B7B.irccloud.com)
[14:15:30] <eddyb> that TEMP will be the bane of me
[14:15:41] <cmr> :P
[14:15:45] <eddyb> it would be less permanent if it weren't there to begin with
[14:16:33] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Ping timeout)
[14:16:33] *** Quits: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP) (Ping timeout)
[14:17:16] <lessless> that's nice! I'm really brood an idea of writing a bitcoind in rust, haha... feels so silly all the time :D 
[14:17:20] *** Quits: lunaryorn (lunaryorn@moz-6935F539.dynamic.mnet-online.de) (Quit: )
[14:17:38] <lessless> *I really brood 
[14:18:43] <Ms2ger> Why not dogecoin
[14:20:27] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[14:20:33] <bstrie> cmr: name your next lib TEST-LIB-DO-NOT-USE-gif
[14:20:40] *** Quits: ChrisOei (ChrisOei@moz-30D80888.hsd1.ca.comcast.net) (Ping timeout)
[14:20:53] <eddyb> "your" *grumbles*
[14:21:01] <Ms2ger> "Our"
[14:21:12] <cmr> bstrie: eddyb wrote it. it's temp because he's slacking!
[14:21:14] <bstrie> eddyb: yeah, can't you see the username there in the url? :P
[14:21:48] *** Joins: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net)
[14:21:51] * cmr whips bstrie
[14:21:54] <cmr> back to work
[14:22:05] <eddyb> bstrie: http://servomemes.tumblr.com/post/79357480162/eddyb-has-feelings-about-how-long-servo-goes
[14:22:13] <eddyb> that's what I'm waiting for
[14:22:15] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[14:22:35] <cmr> eddyb: I was expecting an "op will surely deliver" image :P
[14:22:44] <bstrie> cmr: you have no idea how much work I need to get done today :)
[14:22:49] * bstrie slacks
[14:23:29] <lessless> Ms2ger, that is one of the questions to answer... 'cause the main point is to build something really socially valuable, that  can help a free world 
[14:23:50] *** Joins: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca)
[14:24:35] <Tobba> theres seriously an tumblr for servo memes?
[14:24:37] <Tobba> oh dear
[14:25:15] *** flaper87 is now known as flaper87|afk
[14:25:34] <cmr> Tobba: to misquote ajax, nothing involved with the web should be far from its own memes site
[14:26:01] <Tobba> some are funny though, specially the one involving this https://github.com/mozilla/servo/pull/1753#commitcomment-5488303
[14:26:03] <huon> it's why there's all those spiderman memes
[14:26:14] *** Joins: jaras (textual@1CDC5701.A48867D7.52E4E107.IP)
[14:26:15] <cmr> yup
[14:27:54] *** Quits: reverend_paco (chatzilla@moz-FDBE15EC.hsd1.ma.comcast.net) (Ping timeout)
[14:27:54] *** Quits: vgeddes (vincent.ge@5BD5C502.911DBC7C.C6E4398C.IP) (Ping timeout)
[14:30:11] *** Quits: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com) (Ping timeout)
[14:30:39] *** pmoore is now known as pmoore|away
[14:30:44] <Tobba> according to github
[14:30:50] <Tobba> more issues are being filed than are closed
[14:31:00] <Tobba> abandon ship its going critical
[14:31:21] *** Quits: philix (felipe@moz-9E12C1FF.user.veloxzone.com.br) (Ping timeout)
[14:31:33] <Ms2ger> Abandon ship? No, all hands on deck!
[14:31:45] * Ms2ger assigns all of this week's issues to Tobba 
[14:31:55] *** Joins: derek_c (derek@moz-3744D40D.cit.cornell.edu)
[14:32:12] *** Joins: Kxepal (Miranda@moz-C9CC9CAB.pppoe.mtu-net.ru)
[14:33:22] <eddyb> taking a look at https://fleep.io
[14:33:27] <Tobba> I'm hoping the Share PR gets pulled soon
[14:33:45] *** Quits: wilmoore (wilmoore@moz-4EF3CEBC.hsd1.co.comcast.net) (Ping timeout)
[14:33:47] <eddyb> there seems to be a "monologue" feature. was that implemented just for me?
[14:34:02] <Ms2ger> Is that a 2048 variant?
[14:34:15] <Ms2ger> I should try the 3D one
[14:34:22] <Ms2ger> Anyone got a link?
[14:34:35] <Tobba> http://joppi.github.io/2048-3D/
[14:34:53] <eibwen> there's a "4d" variant
[14:35:01] <mbrubeck> The 4D one makes for a slighty better puzzle in my opinion: http://huonw.github.io/2048-4D/
[14:35:05] <Ms2ger> I still need my brain today
[14:35:10] <Tobba> this is getting out of hand
[14:35:12] *** Quits: Rym (y@B38B74BC.61CF0AA7.51C6DE68.IP) (Ping timeout)
[14:35:27] <eddyb> I need to shovel trans
[14:35:31] * eddyb stops slacking
[14:35:51] *** Joins: Rym (y@B38B74BC.61CF0AA7.51C6DE68.IP)
[14:36:16] <Tobba> I should get back on working on that kernel
[14:36:43] <Tobba> though if I do I think I'll have a fun week of porting
[14:37:12] *** Joins: vikstrous (v@13F2CEC5.7672369.D8E68FF6.IP)
[14:37:17] *** Joins: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net)
[14:38:51] <Tobba> oo, chocolatey nightlies are updated
[14:38:59] *** Quits: jvoorhis (jvoorhis@moz-930B7923.ptld.qwest.net) (Ping timeout)
[14:39:49] *** Joins: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net)
[14:39:58] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Ping timeout)
[14:40:40] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[14:41:04] *** Joins: sunfish (chatzilla@moz-42DA0C69.dsl.dynamic.sonic.net)
[14:42:40] *** Joins: naquad (naquad@E2A17FDC.661B40E4.CC82A838.IP)
[14:42:43] <naquad> hi
[14:43:36] <naquad> is there some rust package repository? i would like to see what is available
[14:43:59] <cmr> naquad: there's http://rust-ci.org/
[14:44:08] <cmr> but there's no package repository because we don't have a package manager yet
[14:44:13] <Tobba> there was rustpkg
[14:44:16] <Tobba> but yeeeaaaaah
[14:44:48] *** Joins: Soft (soft@moz-EC8D39F.yok.fi)
[14:44:50] *** Joins: lunaryorn (lunaryorn@moz-6935F539.dynamic.mnet-online.de)
[14:45:06] <naquad> i've just read the news about Cargo that is package manager :\ or am i getting it wrong?
[14:45:39] <cmr> naquad: it's not anywhere near done yet.
[14:45:55] <eddyb> I'm surprised they actually have something that does anything at all :)
[14:46:08] <naquad> mm k, thanks for the info
[14:46:10] *** Parts: naquad (naquad@E2A17FDC.661B40E4.CC82A838.IP) (Bye)
[14:47:40] *** Quits: jzelinskie (sid17772@moz-A42E5B7B.irccloud.com) (Ping timeout)
[14:47:46] *** Quits: krdln (Mibbit@moz-C271714F.dynamic.chello.pl) (Quit: http://www.mibbit.com ajax IRC Client)
[14:47:51] *** Quits: abinader (sid21713@moz-A42E5B7B.irccloud.com) (Ping timeout)
[14:48:09] *** Quits: avdi (sid16245@moz-A42E5B7B.irccloud.com) (Ping timeout)
[14:48:09] *** Quits: Anupkumar (uid16774@moz-A42E5B7B.irccloud.com) (Ping timeout)
[14:48:20] *** Quits: balpert_ (sid15886@moz-A42E5B7B.irccloud.com) (Ping timeout)
[14:48:20] *** Quits: huhlig (sid17687@moz-A42E5B7B.irccloud.com) (Ping timeout)
[14:48:20] *** Quits: janx (sid16602@631DDABB.E02B7C75.9377050C.IP) (Ping timeout)
[14:48:20] *** Quits: jack (sid19593@moz-A42E5B7B.irccloud.com) (Ping timeout)
[14:48:54] *** Joins: Anupkumar (uid16774@moz-A42E5B7B.irccloud.com)
[14:49:36] *** Joins: janx (sid16602@moz-A42E5B7B.irccloud.com)
[14:50:35] *** Joins: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org)
[14:50:49] *** Quits: mbrubeck (sid17036@moz-A42E5B7B.irccloud.com) (Ping timeout)
[14:50:49] *** Quits: Anupkumar (uid16774@moz-A42E5B7B.irccloud.com) (Ping timeout)
[14:51:18] *** Quits: patrikstenmark (sid16326@moz-A42E5B7B.irccloud.com) (Ping timeout)
[14:51:20] *** Quits: janx (sid16602@moz-A42E5B7B.irccloud.com) (Ping timeout)
[14:51:48] <Tobba> why is there still sync stuff in libstd?
[14:51:57] <cmr> Tobba: because parts of libstd uses it.
[14:52:11] <Tobba> I checked and it didnt seem to be used
[14:52:12] *** Quits: bjustin (bjustin@moz-8FC28563.sierrabravo.net) (Connection reset by peer)
[14:52:13] <cmr> Tobba: there's an issue open to mark the stuff in libstd as #[deprecated] and reexport them in libcollections
[14:52:28] <cmr> erm, libsync
[14:52:36] <Tobba> oh wait, some runtime stuff does
[14:52:37] <Tobba> ugh
[14:52:48] *** Quits: patpat (patpat@6D98B3B5.A0E34C8E.98F3E2B5.IP) (Ping timeout)
[14:54:10] *** Quits: erickt (etryzelaar@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[14:56:12] *** Joins: cschneid (cschneid@moz-CA025D57.ip.mcleodusa.net)
[14:58:23] *** Joins: Kruppe (user@moz-AE4856.dynamic.uwaterloo.ca)
[14:58:46] *** Joins: benjamin_ (benjamin@moz-4B6B3156.dip0.t-ipconnect.de)
[14:58:52] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Ping timeout)
[14:59:06] *** Quits: benjamin_____ (benjamin@moz-7BB34CFF.dip0.t-ipconnect.de) (Ping timeout)
[14:59:08] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[14:59:25] *** Joins: abinader (sid21713@moz-A42E5B7B.irccloud.com)
[14:59:36] <huon> http://cesarkawakami.github.io/2048-5D/ too
[15:00:06] <Tobba> <Tobba> this is getting out of hand
[15:00:23] <huon> (i think it's significantly easier than the 4D one; you just play on a single board as if it were 4d, and then occasionally pull down things from the other one, if you need/want it ;P )
[15:00:24] *** Joins: daschl (Adium@moz-DC6DE6E2.vie.surfer.at)
[15:00:30] <huon> Tobba: 2048 is never out of hand :P
[15:00:38] <benh> i'm gonna make the 1D variant that's just one field that says 2048 and you win
[15:00:43] *** Joins: mbrubeck (sid17036@moz-A42E5B7B.irccloud.com)
[15:00:57] *** Joins: janx (sid16602@moz-A42E5B7B.irccloud.com)
[15:02:00] *** Quits: infynyxx (infynyxx@moz-E95B370B.nyc.res.rr.com) (Client exited)
[15:02:16] *** Ms2ger is now known as Ms2ger|sheriffduty
[15:02:29] <Yurume> huon, oh my...
[15:02:30] *** Joins: jack_ (sid19593@moz-A42E5B7B.irccloud.com)
[15:02:40] *** Joins: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP)
[15:03:08] *** Joins: EastByte (EastByte@moz-6D8FA74D.ewe-ip-backbone.de)
[15:03:46] *** Joins: avdi (sid16245@moz-A42E5B7B.irccloud.com)
[15:04:30] <doomlord_> phase_3_run_analysis_passes( sess:Session, ... )  <<< i've got some code that used to pass a 'Session', now its telling me i can't because i borrow; does the result of this take ownership of 'Session' ;... thing is i see 'CrateAnalysis has various things but not a 'Session', is the 'Session' supposed to be discarded perhaps ... my tool references is later
[15:04:47] <doomlord_> phase_3_run_analysis_passes( sess:Session, ... )  <<< i've got some code that used to pass a 'Session', now its telling me i can't because i borrow; does the result of this take ownership of 'Session' ;... thing is i see 'CrateAnalysis has various things but not a 'Session', is the 'Session' supposed to be discarded perhaps ... my tool references it^ later;
[15:05:37] <doomlord_> hmm, i see tycx has a 'sessiion', and thats returned by CrateAnalysis, so i guess i'm supposed to use it from there 
[15:06:07] <cmr> doomlord_: these questions are better for #rust-internals
[15:06:19] *** Quits: Rym (y@B38B74BC.61CF0AA7.51C6DE68.IP) (Ping timeout)
[15:06:39] *** Joins: Rym (y@B38B74BC.61CF0AA7.51C6DE68.IP)
[15:07:03] *** pmoore|away is now known as pmoore
[15:10:08] *** Joins: patrikstenmark (sid16326@moz-A42E5B7B.irccloud.com)
[15:10:17] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[15:10:33] *** Quits: lpy (lpy@8B40CDAC.F09091A8.1348A864.IP) (Ping timeout)
[15:11:24] *** Joins: int3_ (int3_@moz-F4EBDD71.lightspeed.cicril.sbcglobal.net)
[15:11:50] *** Quits: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[15:12:12] *** Joins: bjustin (bjustin@moz-8FC28563.sierrabravo.net)
[15:12:28] <eddyb> doomlord_: hehe yeah
[15:12:35] <eddyb> doomlord_: I changed a lot of things to linear ownership
[15:12:47] <eddyb> I assure you they're much saner now
[15:12:47] *** Quits: ksev (DrunkenPan@745B767B.989A61DC.CA5B6332.IP) (Ping timeout)
[15:12:47] *** Quits: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com) (Ping timeout)
[15:13:28] * Ms2ger|sheriffduty saw that
[15:13:32] *** Quits: int3_ (int3_@moz-F4EBDD71.lightspeed.cicril.sbcglobal.net) (Ping timeout)
[15:14:25] *** Quits: xitology (xi@85437D54.5AFA3E4.CEDFC552.IP) (Quit: Ex-Chat)
[15:14:45] <doomlord_> ok its making sense
[15:15:08] *** Joins: gwty (gwtypc@C920894F.E56F3B82.AAF4A5CC.IP)
[15:15:32] *** Quits: Rym (y@B38B74BC.61CF0AA7.51C6DE68.IP) (Ping timeout)
[15:15:51] *** Joins: Rym (y@B38B74BC.61CF0AA7.51C6DE68.IP)
[15:16:51] *** jack_ is now known as jack
[15:16:55] *** Joins: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP)
[15:17:09] *** Ms2ger|sheriffduty is now known as Ms2ger
[15:17:30] *** Joins: wilmoore (wilmoore@moz-7EE4D9D6.mystrotv.com)
[15:18:57] *** Joins: philix (felipe@moz-9E12C1FF.user.veloxzone.com.br)
[15:19:17] *** Joins: balpert_ (sid15886@moz-A42E5B7B.irccloud.com)
[15:19:18] *** Joins: huhlig (sid17687@moz-A42E5B7B.irccloud.com)
[15:20:04] *** Joins: mib_lovx7b (Mibbit@62F7993B.1E9E4C17.196CBBC8.IP)
[15:20:27] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[15:21:14] *** Quits: mib_lovx7b (Mibbit@62F7993B.1E9E4C17.196CBBC8.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[15:21:34] *** Quits: tiffany (kawaii@moz-5A1FA59C.dhcp.embarqhsd.net) (Ping timeout)
[15:21:39] *** Quits: sunfish (chatzilla@moz-42DA0C69.dsl.dynamic.sonic.net) (Ping timeout)
[15:21:40] *** pmoore is now known as pmoore|biab
[15:21:48] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[15:22:09] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[15:22:35] *** Joins: dschatzberg (dschatzber@moz-E2680405.bu.edu)
[15:23:48] *** Quits: japaric2 (japaric@EAACEE24.8C2993CE.5C7588CA.IP) (Connection reset by peer)
[15:24:09] *** Joins: japaric2 (japaric@EAACEE24.8C2993CE.5C7588CA.IP)
[15:26:30] <olsonjeffery> eddyb: so you have some expertise about png encoder/decoders and such and mentioned a possible approach (handling per-row).. could you point me in the right direction w/ some reading materials? as opposed to me asking you questions for all eternity
[15:26:40] *** Quits: Rym (y@B38B74BC.61CF0AA7.51C6DE68.IP) (Ping timeout)
[15:26:42] <olsonjeffery> is there a good c library i could use?
[15:27:09] *** Joins: Rym (y@B38B74BC.61CF0AA7.51C6DE68.IP)
[15:27:10] <eddyb> libpng? *maybe*
[15:27:23] *** Joins: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net)
[15:27:24] *** Quits: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net) (Quit: killerswan)
[15:27:36] *** Quits: canhtak (canhtak@moz-2C382DC9.wl.t.ulaval.ca) (Quit: canhtak)
[15:27:52] *** Quits: derek_c (derek@moz-3744D40D.cit.cornell.edu) (Ping timeout)
[15:28:53] <cmr> there's also the spec, http://www.w3.org/TR/PNG/ or http://www.libpng.org/pub/png/spec/
[15:29:03] *** Joins: sellout (Adium@moz-94C19942.hsd1.co.comcast.net)
[15:30:15] *** Quits: paldepind (simon@8C529550.87451125.F2979BBF.IP) (Quit: paldepind)
[15:30:25] *** Joins: int3_ (int3_@moz-F4EBDD71.lightspeed.cicril.sbcglobal.net)
[15:31:06] *** Quits: Ferreus (ferreus@moz-26B99244.dip0.t-ipconnect.de) (Ping timeout)
[15:34:42] *** Joins: jzelinskie (sid17772@moz-A42E5B7B.irccloud.com)
[15:36:58] *** Joins: thewonderidiot (mstewart@FAFE6CB6.8FBF3E66.60E22FEA.IP)
[15:39:57] *** Joins: Anupkumar (uid16774@moz-A42E5B7B.irccloud.com)
[15:40:16] *** Joins: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net)
[15:42:04] *** Quits: arturo (Thunderbir@moz-E83B14F0.superkabel.de) (Ping timeout)
[15:42:05] *** pmoore|biab is now known as pmoore
[15:44:09] *** Joins: sawrubh (uid6719@moz-5F4AA75A.irccloud.com)
[15:45:05] *** Joins: Florob (Florob@moz-39532932.de)
[15:47:12] *** Joins: tiffany (kawaii@moz-5A1FA59C.dhcp.embarqhsd.net)
[15:48:12] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Quit: Leaving.)
[15:48:52] *** Quits: japaric2 (japaric@EAACEE24.8C2993CE.5C7588CA.IP) (Ping timeout)
[15:49:13] <cmr> Another big week for TWiR: over 9k visitors!
[15:49:26] *** Joins: japaric2 (japaric@508B8F57.E321A207.5C7588CA.IP)
[15:49:51] <jensnockert> What does the scouters say about Rust's power-level?! IT'S OVER 9000!!11!
[15:50:01] <jensnockert> (Sorry, couldn't stop myself
[15:50:03] <jensnockert> )
[15:50:25] *** Quits: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[15:50:39] *** Quits: dapz (textual@moz-F958911.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[15:51:32] *** Quits: IanCormac84 (User@7AE36A4E.2A8D8854.67DFF8B4.IP) (Ping timeout)
[15:51:49] *** Quits: chridou (chatzilla@moz-1DC0E814.ip.dokom21.de) (Quit: ChatZilla 0.9.90.1 [Firefox 27.0.1/20140214013806])
[15:51:55] *** Quits: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com) (Ping timeout)
[15:51:57] *** Joins: IanCormac84 (User@FAE620DA.64D641E5.67DFF8B4.IP)
[15:52:15] <eddyb> doomlord_: hmm... I wish you'd use a monospaced font in your rust-find demo. and bold on hover (instead of rectangular background)
[15:52:24] <SiegeLord> "We only plan to support a single lib at the moment because if you have multiple libs, you would want projects to be able to depend on them separately. If you don't care about that, why do you have separate libs?" o_O
[15:52:30] <SiegeLord> Are they serious?
[15:52:37] <eddyb> whom?
[15:52:40] *** Quits: tiffany (kawaii@moz-5A1FA59C.dhcp.embarqhsd.net) (Ping timeout)
[15:52:42] <eddyb> doomlord_: but it looks great otherwise :D
[15:52:49] <SiegeLord> Cargo folks
[15:53:31] <doomlord_> eddyb it used to , someone else changed that i think, let me see if i can get it back to monospace
[15:53:45] *** Joins: lpy (lpy@1834E2CB.F09091A8.1348A864.IP)
[15:53:45] <cmr> SiegeLord: *at the moment*
[15:53:45] *** Joins: azita (Azita@moz-62518563.mtv2.mozilla.com)
[15:53:57] <olsonjeffery> SiegeLord: you know.. this is a matter of "please all the people some of the time, etc"
[15:54:28] <SiegeLord> No, it's not
[15:54:29] <olsonjeffery> and, in general, these kinds of dismissive gestures based on preliminary statements (we saw this with the virtual struct thing, as well.. and the "RUST HAS GC ZOMGSIDSFGBBQWTF thread on reddit)
[15:54:36] <olsonjeffery> aren't constructive or productive
[15:54:53] *** Quits: bourbaki (chatzilla@moz-8A75E362.dip0.t-ipconnect.de) (Quit: ChatZilla 0.9.90.1 [Firefox 27.0.1/20140212131424])
[15:55:07] *** Quits: eddyb (eddy@F8B50789.F33C1089.FB866788.IP) (No route to host)
[15:55:14] <olsonjeffery> SiegeLord: ill say this: yehuda katz and carl lerche know this domain better than pretty much everyone. you owe them the benefit of the doubt.
[15:55:18] *** Quits: Zr40 (zr40@EE4BB9F5.926C319A.BE2F4011.IP) (Quit: leaving)
[15:55:33] <SiegeLord> My package will contain multiple libraries no matter what those two think
[15:56:06] *** Quits: azita (Azita@moz-62518563.mtv2.mozilla.com) (Quit: azita)
[15:56:43] *** Joins: arturo (Thunderbir@moz-E83B14F0.superkabel.de)
[15:56:47] <olsonjeffery> because you chafe under the tyranny of multiple git repos?
[15:56:52] <olsonjeffery> i mean, really.
[15:57:03] <doomlord_> (i have no idea whats going on with the font)
[15:57:13] *** Joins: jeaye (jeaye@moz-34FEF2BB.hsd1.ca.comcast.net)
[15:57:20] <cmr> you sometimes need separate crates for syntax extensions.
[15:57:24] <cmr> it's not really outlandish.
[15:57:39] <SiegeLord> When rust repository gets broken up into 20, then come talk to me
[15:57:59] <cmr> anyway it's not like cargo will be like that forever
[15:58:16] *** Quits: mawuli (mawuli@F7A4F2ED.68EE7C48.E520B65A.IP) (Ping timeout)
[15:58:17] <olsonjeffery> SiegeLord: you realize thats on the roadmap, right?
[15:58:45] <SiegeLord> Is it on the roadmap to change their justifications?
[15:59:05] <olsonjeffery> you're not really making an argument. you're just annoyed because $FEATURE_I_WANT isn't there (for now)
[15:59:07] <SiegeLord> I'm primarily talking about the last sentence
[15:59:25] <cmr> SiegeLord: why *would* you have separate libs if you don't want to use them independantly of each other?
[15:59:25] <SiegeLord> It is very clear why you'd want multiple libraries
[15:59:46] <olsonjeffery> dude. i have multiple repos at this very moment with more than one library crate in them.
[15:59:49] <SiegeLord> Package dependency and link dependency are unrelated concepts
[16:00:02] <olsonjeffery> so i know and understand the circumstance you describe and will no doubt be at great pains to adjust
[16:00:11] *** Quits: ganitsu (ganitsu@moz-9C7D3C92.dialup.adsl.anteldata.net.uy) (Ping timeout)
[16:00:24] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Client exited)
[16:01:32] <olsonjeffery> (and my "that's on the roadmap" comment was about rust being broken into multiple repos)
[16:01:49] <SiegeLord> I'll believe it when I see it
[16:02:23] *** Quits: Florob (Florob@moz-39532932.de) (Client exited)
[16:02:26] *** Joins: johnmurray (jmurray@moz-BBA4C05E.dynamic.ip.windstream.net)
[16:02:34] *** Joins: eddyb (eddy@F8B50789.F33C1089.FB866788.IP)
[16:03:05] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[16:03:34] <bvssvni> when creating bindings to a C library, what can be done with documentation?
[16:03:45] <cmr> bvssvni: what do you mean?
[16:04:11] <bvssvni> I am copying Cairo documentation to a binding based on jensnockert
[16:04:19] *** Joins: evanm (evanm@636AC086.5999CED5.71743E61.IP)
[16:04:20] *** Quits: fenak (Mibbit@moz-EC1FC22F.corp.uolinc.com) (Quit: http://www.mibbit.com ajax IRC Client)
[16:04:26] *** Joins: cdidd (cdidd@moz-4B79A635.broadband.corbina.ru)
[16:04:31] <bvssvni> without documentation, it the binding is not very usable
[16:04:32] *** Joins: canhtak (canhtak@moz-2C382DC9.wl.t.ulaval.ca)
[16:04:41] * eddyb kicks systemd
[16:04:52] <eddyb> systemctl status ntp seems to ruin my HDD every time I boot
[16:04:53] <cmr> bvssvni: you can document FFI functions just like normal rust functions
[16:04:58] <cmr> eddyb: #rust-offtopic
[16:05:07] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[16:05:21] <bvssvni> cmr: yeah, but it has idiomatic Rust on top of it
[16:05:28] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[16:05:30] <cmr> bvssvni: then you can also document those...
[16:05:38] *** Parts: johnmurray (jmurray@moz-BBA4C05E.dynamic.ip.windstream.net) ()
[16:05:42] <bvssvni> cmr: yes, but it's a lot of work :(
[16:05:51] <cmr> then you can not document them :P
[16:05:56] <bvssvni> haha
[16:06:06] <cmr> or just put a link to cairo's docs
[16:06:08] <cmr> or whatever
[16:06:53] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[16:06:53] *** Quits: Sharp (Sharp@moz-633F3606.hsd1.ca.comcast.net) (Ping timeout)
[16:07:37] *** Joins: Sharp (Sharp@moz-633F3606.hsd1.ca.comcast.net)
[16:09:11] <cmr> huon: acrichto: r? https://github.com/mozilla/rust/pull/13002
[16:09:56] *** Joins: jvoorhis (jvoorhis@moz-C34F9C32.hfc.comcastbusiness.net)
[16:10:21] *** Joins: espindola (espindola@moz-9F530B29.com)
[16:13:09] *** Quits: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP) (Quit: colinsurprenant)
[16:13:36] <SiegeLord> I guess they are allowing multiple packages per resository at least... so I take it I'll be able to create a package per crate and then a package per example to depend on the permutations of those packages
[16:13:49] *** Quits: doener (bs@moz-AA189A5A.unitymedia.biz) (Quit: leaving)
[16:13:52] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[16:13:58] *** Quits: daschl (Adium@moz-DC6DE6E2.vie.surfer.at) (Quit: Leaving.)
[16:14:18] *** Quits: lessless (lessless@moz-F3755E99.emplot.net) (Ping timeout)
[16:14:27] <SiegeLord> Or I guess I could make all examples a package that depends on everything
[16:14:33] <Ms2ger> Hmm, 4096 is ugly in 3D
[16:14:36] *** Joins: onelson (owen@moz-DD666EC5.laika.com)
[16:15:05] <cmr> Ms2ger: it's even better in 5D
[16:15:06] *** Joins: mihneadb (mihneadb@moz-6B31F5AA.static.ziggozakelijk.nl)
[16:15:09] <Ms2ger> Ha
[16:15:30] <myname> there is a 5d version? you gotta be kidding me
[16:15:36] *** Joins: kngl (Adium@moz-18BD1C.ipv4.evonet.be)
[16:15:45] <cmr> http://cesarkawakami.github.io/2048-5D/
[16:15:45] *** Joins: brianm (brianm@B14CC6C5.5D49961F.D8D85ABD.IP)
[16:16:29] *** Joins: james4k (james@moz-9BB5AE72.consolidated.net)
[16:16:37] <myname> it doesn't stop
[16:17:03] *** Joins: tiffany (kawaii@moz-5A1FA59C.dhcp.embarqhsd.net)
[16:18:08] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[16:19:49] <SiegeLord> I guess it isn't offtopic if it's the offtopic warden doing it ;)
[16:19:58] *** Joins: Nojan (Mibbit@moz-4302DFD9.fbx.proxad.net)
[16:20:00] <cmr> :(
[16:20:08] <Yurume> 2048-1D anyone?
[16:20:18] <Yurume> (with a torus environment)
[16:20:41] *** Joins: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP)
[16:22:51] <Ms2ger> Why not on a Mbius strip?
[16:23:27] <myname> Ms2ger: like, you maje a move and it never stops?
[16:23:29] <SiegeLord> I wonder how well would something like #[macro_prefix="foo"]; work
[16:23:38] <myname> why not a klein bottle
[16:23:45] <SiegeLord> To imply something like foo::bar!()
[16:25:21] *** Joins: m-r-r (Mibbit@moz-6E5436C0.unice.fr)
[16:26:09] *** Quits: arturo (Thunderbir@moz-E83B14F0.superkabel.de) (Ping timeout)
[16:27:03] <eibwen> I'm getting 'use of deprecated `~[]` vector'. shouldn't ~[] be fine for vectors that are allocated once wiht a size known at runtime?
[16:27:08] *** Quits: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[16:27:26] *** Quits: valentin (Thunderbir@4F2F9D91.E06BF678.B9540FE1.IP) (Ping timeout)
[16:27:31] <bvssvni> eibwen: not yet
[16:27:54] *** Joins: valentin (Thunderbir@4F2F9D91.E06BF678.B9540FE1.IP)
[16:27:56] <myname> why is this deprecated?
[16:28:01] <bvssvni> eibwen: you need to wait for DST
[16:28:01] *** japaric2 is now known as japaric
[16:28:09] <eibwen> bvssvni: so I should switch to std::vec_ng::Vec?
[16:28:15] <bvssvni> eibwen: yes
[16:28:19] *** Joins: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP)
[16:28:20] <eibwen> okay
[16:28:23] *** Quits: Nojan (Mibbit@moz-4302DFD9.fbx.proxad.net) (Quit: http://www.mibbit.com ajax IRC Client)
[16:28:27] *** Joins: bourbaki (chatzilla@moz-8A75E362.dip0.t-ipconnect.de)
[16:28:43] <bvssvni> myname: ~[T] will be just an owned pointer to [T], a dynamically sized type
[16:28:56] *** Joins: lessless (lessless@moz-F3755E99.emplot.net)
[16:29:30] <myname> and what is it now?
[16:29:35] <cmr> myname: they are deprecated becase we need to stop using them to implement DST
[16:29:54] *** Quits: [squiddy] (squiddy@moz-767EF079.dynamic.cablesurf.de) (Input/output error)
[16:29:54] *** Quits: maxli (Adium@moz-F47DD19B.student.cs.uwaterloo.ca) (Quit: Leaving.)
[16:30:06] *** Joins: bmccallister (brianm@B14CC6C5.5D49961F.D8D85ABD.IP)
[16:30:11] <bvssvni> myname: it is moved std::vec_ng::Vec
[16:30:21] *** Quits: bmccallister (brianm@B14CC6C5.5D49961F.D8D85ABD.IP) (Quit: Leaving...)
[16:30:22] *** Quits: bleibig (bleibig@moz-B4D9C5AF.hsd1.ca.comcast.net) (Quit: bleibig)
[16:30:36] *** Joins: derek_c (derek@moz-16A6DFBC.cit.cornell.edu)
[16:30:45] <bourbaki> ng?
[16:30:52] *** flaper87|afk is now known as flaper87
[16:30:55] <cmr> "next generation"
[16:30:58] <bourbaki> :)
[16:30:59] <cmr> if there is anything I regret in life
[16:31:02] <bourbaki> really?
[16:31:03] *** Joins: arturo (Thunderbir@moz-E83B14F0.superkabel.de)
[16:31:07] <cmr> it's naming that damned project rustdoc_ng
[16:31:11] <cmr> it just never ends
[16:31:16] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[16:31:28] *** Joins: dherman (dherman@moz-62518563.mtv2.mozilla.com)
[16:31:28] *** ChanServ sets mode: +ao dherman dherman
[16:31:38] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[16:31:42] *** Quits: brianm (brianm@B14CC6C5.5D49961F.D8D85ABD.IP) (Ping timeout)
[16:31:52] * bvssvni wondered what _ng meant :)
[16:31:53] <bourbaki> DST's are all types like arrays et all?
[16:31:59] *** Joins: brianm (brianm@B14CC6C5.5D49961F.D8D85ABD.IP)
[16:31:59] <Seldaek> cmr: and wait until the next-next-gen comes.. like with the consoles now, they don't know what to call the next gen anymore now the next gen arrived 
[16:32:07] <bvssvni> bourbaki: yes
[16:32:09] *** Quits: lunaryorn (lunaryorn@moz-6935F539.dynamic.mnet-online.de) (Quit: )
[16:32:34] <Ms2ger> 4G
[16:32:45] <japaric> will fs::readdir, os::args et al. also return a Vec<_>? (they still return ~[] + warnings atm)
[16:32:54] *** Joins: azita (Azita@moz-62518563.mtv2.mozilla.com)
[16:32:59] <cmr> japaric: unlikely, they'll probably return a DST ~[T]
[16:33:04] *** Joins: mikey_h (Mibbit@2434CED6.BF061CFB.10975BA7.IP)
[16:33:20] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Ping timeout)
[16:33:41] <bourbaki> Rust wont get anything like values in templates right?
[16:33:51] <japaric> cmr: then the ~[] warning will be removed after DST lands?
[16:33:57] <cmr> japaric: yes
[16:34:04] *** Joins: krdln (Mibbit@moz-C271714F.dynamic.chello.pl)
[16:34:13] *** Quits: m-r-r (Mibbit@moz-6E5436C0.unice.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[16:34:17] <mikey_h> attempting to compile rust-http, getting 'can't find create for 'log''?
[16:34:22] *** Quits: gwty (gwtypc@C920894F.E56F3B82.AAF4A5CC.IP) (Ping timeout)
[16:34:26] <cmr> mikey_h: update your rustc
[16:34:31] <japaric> cmr: ok, thanks
[16:34:48] <mikey_h> OK
[16:35:10] <eibwen> bvssvni: 'cannot index a value of type `std::vec_ng::Vec<i32>'
[16:35:21] *** Quits: IanCormac84 (User@FAE620DA.64D641E5.67DFF8B4.IP) (Ping timeout)
[16:35:23] *** Quits: derek_c (derek@moz-16A6DFBC.cit.cornell.edu) (Ping timeout)
[16:35:34] <japaric> any reason Vec's remove() is private?
[16:35:54] *** Joins: IanCormac84 (User@33A1DC15.2A8D8854.67DFF8B4.IP)
[16:35:55] <japaric> eibwen: you probably want to use get()
[16:36:07] *** Joins: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net)
[16:36:09] <eibwen> no indexing yet? :/
[16:36:11] *** Quits: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net) (Input/output error)
[16:36:29] *** Quits: Rym (y@B38B74BC.61CF0AA7.51C6DE68.IP) (Ping timeout)
[16:36:31] *** Joins: gwty (gwtypc@36B896FC.BD82C0B5.645B845A.IP)
[16:36:39] *** Quits: W0rmDr1nk (wormdrink@moz-6B95D38.access.mtnbusiness.co.za) (Ping timeout)
[16:36:41] <sfackler> japaric: probably a mistake
[16:36:44] <cmr> the indexing traits need to be redesigned.
[16:36:52] <japaric> eibwen: you can do vec.as_slice() and do indexing on that
[16:37:14] <eddyb> we can't really do decent indexing traits until we resolve the method lookup issues
[16:37:23] *** Quits: krdln (Mibbit@moz-C271714F.dynamic.chello.pl) (Quit: http://www.mibbit.com ajax IRC Client)
[16:37:27] <eddyb> right now typeck doesn't know much about mutability
[16:37:59] <eddyb> but it should, since choices like deref/deref_mut and index_get/index_set need it
[16:38:00] <japaric> sfackler: should I fill an issue?
[16:38:09] <eddyb> japaric: s/issue/PR
[16:38:21] <eddyb> if it's a missing pub, it should be easy to fix
[16:38:27] <bourbaki> Is anyone working on a vector that is backed up with a memory mapped file?
[16:38:33] <eddyb> though... wouldn't dead code report that?
[16:38:49] *** Joins: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net)
[16:39:32] <eddyb> bourbaki: you can't use Vec with it. but I think we have a MemoryMap struct somewhere
[16:39:40] <cmr> bourbaki: you can get a mutable slice from std::os::MemoryMap
[16:39:42] <bourbaki> eddyb: yeah just saw that
[16:40:03] <sfackler> japaric: sure, or a 1 line PR to fix it :)
[16:40:15] <bourbaki> Well the idea is that you can fetch data with an index and if its not in the cache it gets read from the mmf.
[16:40:17] *** Joins: brson (brson@moz-62518563.mtv2.mozilla.com)
[16:40:17] *** ChanServ sets mode: +ao brson brson
[16:40:40] <japaric> sfackler: will do the PR then
[16:40:41] <eddyb> bourbaki: it's all done by the OS
[16:40:41] <bourbaki> So you can have like 16mb mem cached and a mmf with like a peta byte data.
[16:40:43] <eibwen> japaric: thanks
[16:40:55] <bourbaki> Hm ok
[16:41:04] *** Joins: Rym (y@B38B74BC.61CF0AA7.51C6DE68.IP)
[16:41:14] <bourbaki> Even if you have random lookups in the file?
[16:41:42] <cmr> bourbaki: especially then
[16:41:44] *** Joins: xitology (xi@moz-8864BD7B.hsd1.il.comcast.net)
[16:41:47] <cmr> this is just the page cache
[16:41:53] <bourbaki> Ok
[16:42:03] <bourbaki> That is pretty nice
[16:42:11] *** Quits: enos (jkingyens@moz-B0C1B161.hsd1.ca.comcast.net) (Ping timeout)
[16:43:37] *** Quits: gwty (gwtypc@36B896FC.BD82C0B5.645B845A.IP) (Ping timeout)
[16:43:39] *** Joins: gwty (gwtypc@36B896FC.BD82C0B5.645B845A.IP)
[16:43:53] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[16:45:44] *** Quits: Rym (y@B38B74BC.61CF0AA7.51C6DE68.IP) (Ping timeout)
[16:46:05] *** Joins: Rym (y@B38B74BC.61CF0AA7.51C6DE68.IP)
[16:46:15] *** Quits: valentin (Thunderbir@4F2F9D91.E06BF678.B9540FE1.IP) (Ping timeout)
[16:48:41] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Quit: Leaving)
[16:49:47] *** Joins: matp (matp@moz-16FE1E05.matp.at)
[16:50:42] *** Joins: patpat (patpat@moz-1599AAE4.as13285.net)
[16:50:48] *** Quits: Doppp (Doppp@moz-6B405134.hsd1.ca.comcast.net) (Ping timeout)
[16:51:14] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[16:52:12] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[16:53:02] *** Joins: patpatter (patpat@moz-1599AAE4.as13285.net)
[16:53:08] *** Quits: bronton (Mibbit@moz-C8D86903.tc.ph.cox.net) (Quit: http://www.mibbit.com ajax IRC Client)
[16:53:17] *** Quits: patpat (patpat@moz-1599AAE4.as13285.net) (Ping timeout)
[16:54:24] *** Quits: asmyers (quassel@F39AC551.9A737B8F.FAA4474F.IP) (Ping timeout)
[16:54:31] *** Quits: brianm (brianm@B14CC6C5.5D49961F.D8D85ABD.IP) (Quit: Leaving...)
[16:54:39] *** Joins: patpat (patpat@moz-1599AAE4.as13285.net)
[16:54:46] *** Quits: patpatter (patpat@moz-1599AAE4.as13285.net) (Ping timeout)
[16:54:46] *** Quits: alonlevy (alon@moz-EB7C9CF3.telavivmakers.org) (Ping timeout)
[16:55:55] *** Quits: Kxepal (Miranda@moz-C9CC9CAB.pppoe.mtu-net.ru) (Ping timeout)
[16:56:11] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[16:56:21] *** Quits: patpat (patpat@moz-1599AAE4.as13285.net) (Ping timeout)
[16:56:40] *** Joins: patpat (patpat@moz-1599AAE4.as13285.net)
[16:57:23] *** Joins: krdln (Mibbit@moz-C271714F.dynamic.chello.pl)
[16:57:49] *** Quits: brson (brson@moz-62518563.mtv2.mozilla.com) (Ping timeout)
[16:58:38] *** Joins: brson (brson@moz-62518563.mtv2.mozilla.com)
[16:58:38] *** ChanServ sets mode: +ao brson brson
[17:00:00] *** Joins: Kxepal (Miranda@moz-1110A3C3.pppoe.mtu-net.ru)
[17:02:57] *** Quits: azita (Azita@moz-62518563.mtv2.mozilla.com) (Quit: azita)
[17:02:59] *** Joins: ChrisOei (ChrisOei@moz-53A9266A.blurb.com)
[17:03:07] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[17:04:30] *** Quits: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net) (Ping timeout)
[17:04:45] <drbawb> g'afternoon rustlers: I was wondering if theres some way for a tuple-struct `struct Foo(f64)` to access the methods defined by the trait `std::num::Float`?
[17:05:20] <benh> Could you do that by implementing those new fancy deref traits for your struct?
[17:05:32] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[17:05:47] *** Joins: Denommus (user@237F30EB.6FA539A5.AD91B79.IP)
[17:06:00] <drbawb> benh: Ahh that's an interesting approach, I certainly could try that
[17:06:06] *** Parts: nical (nico@87C1F78E.1DE10CA8.D8E68FF6.IP) ()
[17:06:11] <eddyb> yeah, a Deref impl should be enough to be able to call &self and self methods
[17:06:50] <Denommus> anyone tried rust-sdl2?
[17:07:01] *** Joins: azita (Azita@moz-62518563.mtv2.mozilla.com)
[17:08:05] <drbawb> Denommus: I used it for `rust-story`, it works pretty well. (Though I can't get hardware accel in my VM but that's not SDL or rust's fault...)
[17:08:14] *** Quits: oberstet (quassel@moz-6C4C3A9D.dynamic.mnet-online.de) (Client exited)
[17:08:22] <Denommus> drbawb: I'd like to know if it is viable to use different tasks for "update" and "draw" 
[17:09:25] *** Quits: sp3d (s@6361F3B1.19CD1E54.8354FB35.IP) (Ping timeout)
[17:09:55] *** Quits: benjamin_ (benjamin@moz-4B6B3156.dip0.t-ipconnect.de) (Ping timeout)
[17:10:16] <drbawb> Denommus: I'm not sure about that yet, though I've been meaning to experiment w/ that. From what I've read it seems like you could have a thread pumping events and a thread handling rendering.
[17:10:38] <drbawb> But I believe all rendering related stuff has to be done on the same thread that created the window & renderer.
[17:11:15] *** Quits: mihneadb (mihneadb@moz-6B31F5AA.static.ziggozakelijk.nl) (Quit: Computer gone to sleep - Zzzz...)
[17:11:17] *** Joins: io2 (io2@moz-EE406A5.home.otenet.gr)
[17:11:18] <drbawb> I don't think rust-sdl2 does anything w.r.t thread safety.
[17:11:33] *** Joins: bourbaki_ (chatzilla@moz-A6FDD3D8.dip0.t-ipconnect.de)
[17:11:38] *** Quits: bourbaki (chatzilla@moz-8A75E362.dip0.t-ipconnect.de) (Ping timeout)
[17:11:44] *** bourbaki_ is now known as bourbaki
[17:11:50] <cmr> Denommus: you need to be on the main thread.
[17:12:04] *** Quits: kris_ (kris@moz-147EE6DF.diku.dk) (Ping timeout)
[17:12:14] <cmr> Denommus: so you could create a new pool with libgreen and then use tasks within that...
[17:12:19] *** Joins: kris_ (kris@moz-707453A4.dk.customer.tdc.net)
[17:12:33] *** Joins: paraze (paraze@moz-DAFFEE79.w90-27.abo.wanadoo.fr)
[17:14:53] *** Quits: Denommus (user@237F30EB.6FA539A5.AD91B79.IP) (Ping timeout)
[17:16:37] *** Joins: Auv (Jack@662E2197.34889732.46391764.IP)
[17:17:13] *** Joins: chridou (chatzilla@moz-8D57414A.dip0.t-ipconnect.de)
[17:18:22] *** Quits: dherman (dherman@moz-62518563.mtv2.mozilla.com) (Quit: dherman)
[17:19:26] *** Quits: lpy (lpy@1834E2CB.F09091A8.1348A864.IP) (Ping timeout)
[17:19:47] *** Quits: Kruppe (user@moz-AE4856.dynamic.uwaterloo.ca) (Client exited)
[17:20:36] *** Joins: brianm (brianm@B14CC6C5.5D49961F.D8D85ABD.IP)
[17:20:45] *** Quits: brianm (brianm@B14CC6C5.5D49961F.D8D85ABD.IP) (Client exited)
[17:20:47] *** Joins: brianm (brianm@B14CC6C5.5D49961F.D8D85ABD.IP)
[17:21:24] <drbawb> eddyb , benh: The deref seems to work well! Thanks.
[17:22:07] *** Quits: kris_ (kris@moz-707453A4.dk.customer.tdc.net) (Ping timeout)
[17:23:12] *** Quits: glaebhoer1 (glaebhoerl@moz-3590251D.kabelnet.hu) (Ping timeout)
[17:23:12] *** Joins: Kruppe (user@moz-A85AFD5.dynamic.uwaterloo.ca)
[17:23:35] *** Joins: maxli (Adium@moz-EE42E0E.student.cs.uwaterloo.ca)
[17:23:35] *** Quits: jdm (jdm@moz-AC9499B2.cable.teksavvy.com) (Quit: Lost terminal)
[17:24:21] *** Joins: alonlevy (alon@moz-61A0AD83.red.bezeqint.net)
[17:24:36] *** Quits: sigma (sigma@moz-55097A0B.range86-163.btcentralplus.com) (Connection reset by peer)
[17:25:31] *** Joins: daschl (Adium@moz-DC6DE6E2.vie.surfer.at)
[17:25:33] *** Joins: sigma (sigma@moz-55097A0B.range86-163.btcentralplus.com)
[17:25:48] *** Quits: huseby (huseby@moz-CA874743.dyn.embarqhsd.net) (Ping timeout)
[17:26:19] <olsonjeffery> drbawb: yeah.. but that's pretty much the condition of most drawing libraries, period
[17:26:29] <olsonjeffery> ie you have to isolate drawing operations to a single thread
[17:26:47] <olsonjeffery> (the principled ones, at least)
[17:27:11] *** Quits: matp (matp@moz-16FE1E05.matp.at) (Client exited)
[17:27:27] <o11c> better to say "isolate the drawing operations to a callback that is passed a drawing context that can't be passed between threads)
[17:27:38] *** Quits: sellout (Adium@moz-94C19942.hsd1.co.comcast.net) (Quit: Leaving.)
[17:27:43] <o11c> rust can actually say that
[17:27:52] *** Quits: autra (augustin@A14DAE84.7F753DD1.EE2CA32B.IP) (Ping timeout)
[17:27:55] <cmr> unfortunately all of the libs suck.
[17:28:02] <cmr> in their own ways, of course.
[17:28:03] *** Joins: wolfspaw (wolfspaw@746E5425.A605C5CA.EDCDF352.IP)
[17:28:18] <eddyb> cmr: my libraries suck because they don't exist yet
[17:28:21] *** Quits: edwardw (edwardw@FC63E399.AB331A3B.FAED9FFC.IP) (Ping timeout)
[17:29:08] <wolfspaw> Hi guys and girls, I'm trying to setup Rust on windows... Followed the tutorial, but no success yet. Heres the gist of the error I get:
[17:29:11] <wolfspaw> https://gist.github.com/astamatto/9624877
[17:29:30] <eddyb> http://clarkgaebel.com/clarks-curious-corallary-of-concurrency/ is this the cgaebel contributing to Rust?
[17:29:39] <wolfspaw> Do I need to put some dynamic library on the same folder? (like DLL or something)
[17:29:56] *** Joins: carllerche (carllerche@moz-2B516F15.hsd1.or.comcast.net)
[17:30:22] <eddyb> https://www.nitrous.io/ two people from here on the front page... hmmm
[17:30:42] <eddyb> can we have Rust in it?
[17:30:49] <cmr> eddyb: http://tilde.io/
[17:30:55] <cmr> eddyb: we have rust in https://www.skylight.io/ :P
[17:31:18] <carllerche> yeah, we'll be opening skylight up to the public soon hopefully!
[17:31:40] <cmr> oh you mean something different by "in" I assume...
[17:31:42] <eddyb> wait, how much of jQuery are these guys responsible for?
[17:31:57] *** Joins: matp (matp@moz-16FE1E05.matp.at)
[17:34:03] <wolfspaw> Hello dear programmers, I'm trying to setup Rust on windows... 
[17:34:03] <wolfspaw> Followed the tutorial, but no success yet. Heres the gist of the error I get:
[17:34:03] <wolfspaw> ---- https://gist.github.com/astamatto/9624877 ----
[17:34:03] <wolfspaw> which seems to be a link error.
[17:34:05] <carllerche> these guys?
[17:34:14] *** Quits: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP) (Quit: buildmaster reconfigured: bot disconnecting)
[17:34:14] *** Joins: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP)
[17:34:16] <cmr> wolfspaw: you might have a wrong version of mingw installed.
[17:34:21] <eddyb> carllerche: I guess... wycats. and maybe someone else?
[17:34:26] <cmr> wolfspaw: those symbols should come from libgcc_s ...
[17:34:36] <wolfspaw> cmr
[17:34:40] <cmr> which std *should* be linking to I think
[17:34:46] <wolfspaw> thanks! I'll look into
[17:34:51] <carllerche> I have 0 to do w/ jquery
[17:35:13] <eddyb> carllerche: I found him on the jQuery's team page
[17:35:27] <carllerche> would have to ask him
[17:36:05] <cmr> eddyb: #rust-offtopic!
[17:36:07] <cmr> you're bad at this :P
[17:36:08] <eddyb> riiiiight
[17:36:26] <eddyb> I was just going to say that all this stuff reminds me of http://bellard.org/
[17:36:44] *** Quits: Rusky (russell@moz-173BA32C.slkc.qwest.net) (Ping timeout)
[17:37:14] *** Joins: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se)
[17:37:58] *** Quits: brson (brson@moz-62518563.mtv2.mozilla.com) (Ping timeout)
[17:38:08] *** Joins: klaus (koz@moz-4486E876.hsd1.wa.comcast.net)
[17:39:49] *** Quits: dschatzberg (dschatzber@moz-E2680405.bu.edu) (Input/output error)
[17:40:09] *** Quits: krdln (Mibbit@moz-C271714F.dynamic.chello.pl) (Quit: http://www.mibbit.com ajax IRC Client)
[17:40:36] *** Joins: mawuli (mawuli@F7A4F2ED.68EE7C48.E520B65A.IP)
[17:41:01] *** Quits: StarLight (StarLight@moz-43CE8B50.dynamic.avangarddsl.ru) (Ping timeout)
[17:41:04] *** Quits: Kynes (Kynes@moz-3DC6C6E7.mit.edu) (Quit: Leaving)
[17:41:08] *** Joins: nszceta (nszceta@moz-E458A7C0.pharm.pitt.edu)
[17:43:55] *** Quits: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net) (Quit: killerswan)
[17:43:55] *** Quits: espindola (espindola@moz-9F530B29.com) (Connection reset by peer)
[17:44:04] *** Joins: espindola (espindola@moz-9F530B29.com)
[17:44:42] *** Joins: brson (brson@moz-62518563.mtv2.mozilla.com)
[17:44:42] *** ChanServ sets mode: +ao brson brson
[17:44:48] *** Joins: StarLight (StarLight@520F7084.DA277C5.F1EF1E39.IP)
[17:44:55] *** Joins: espindol_ (espindola@780017EA.BC8F0BCC.87193065.IP)
[17:45:31] *** Joins: krdln (Mibbit@moz-C271714F.dynamic.chello.pl)
[17:45:48] *** Quits: espindola (espindola@moz-9F530B29.com) (Ping timeout)
[17:46:08] <KokaKiwi> In Rust source directory, is there a way to build only the doc (with installed rustdoc for crates doc)?
[17:46:13] *** Quits: IanCormac84 (User@33A1DC15.2A8D8854.67DFF8B4.IP) (Ping timeout)
[17:46:20] *** Joins: IanCormac84 (User@DFFA01C6.2A8D8854.67DFF8B4.IP)
[17:46:39] *** Joins: dapz (textual@moz-F958911.hsd1.ca.comcast.net)
[17:46:49] <cmr> KokaKiwi: not using the installed rustdoc, no.
[17:46:57] <KokaKiwi> :/
[17:47:00] <cmr> at least not beyond doing it manually 
[17:47:38] *** Quits: marianoguerra (marianogue@moz-75C9ECC6.hsi14.kabel-badenwuerttemberg.de) (Ping timeout)
[17:47:40] <nszceta> when would you say Rust will reach production-grade quality
[17:47:41] *** Joins: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP)
[17:47:44] <nszceta> whatever that means to you
[17:48:19] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[17:48:37] <cmr> nszceta: 1.0 is planned for this year
[17:48:40] <wolfspaw> cmr: fixed it! It was a collision of mingws, the gcc I use comes/depends on mingw-64, and this mingw instance come first on the path variable. Re-ordering my path, making the recommended mingw-32 from rust tutorial, fixed it!.
[17:48:41] <nszceta> sounds good
[17:49:01] <cmr> some people (tilde, opendns) are using rust in production now
[17:49:14] <nszceta> very interesting
[17:49:27] *** Joins: dschatzberg (dschatzber@moz-E2680405.bu.edu)
[17:49:57] <wolfspaw> cmr: but now I can't target x64 with my gcc, because the mingw-32 appears first on path =p.  Is there a way to make Rustc to use mingw-32, while tdmgcc to use mingw-64? =p
[17:50:14] <wolfspaw> anyway, I can atleast alternate the path variable depending on what I want =p
[17:50:19] <cmr> wolfspaw: you can say --linker=path\to\correct\gcc
[17:50:21] *** Joins: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net)
[17:50:25] <cmr> or actually
[17:50:27] <cmr> -C linker=...
[17:50:35] *** Quits: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net) (Quit: killerswan)
[17:50:44] <wolfspaw> cmr: nice! Thanks
[17:53:12] *** flaper87 is now known as flaper87|afk
[17:53:25] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[17:54:33] *** Quits: Havvy (Havvy@moz-4FE57F72.hsd1.wa.comcast.net) (Ping timeout)
[17:55:02] *** Quits: IanCormac84 (User@DFFA01C6.2A8D8854.67DFF8B4.IP) (Ping timeout)
[17:55:16] *** Joins: edwardw (edwardw@3570A9BA.4E6A4251.FAED9FFC.IP)
[17:55:39] *** Joins: IanCormac84 (User@C20D5874.64D641E5.67DFF8B4.IP)
[17:56:08] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[17:57:44] *** Joins: Rusky (russell@moz-173BA32C.slkc.qwest.net)
[17:57:53] *** Joins: marianoguerra (marianogue@moz-D08D38B1.dip0.t-ipconnect.de)
[17:58:08] *** Joins: q66 (q66@moz-F6A06AD8.range31-52.btcentralplus.com)
[17:59:05] *** Joins: johnpclaus (johnpclaus@moz-7B864857.hlrn.qwest.net)
[18:00:23] *** Joins: espindola (espindola@moz-9F530B29.com)
[18:00:29] *** Joins: ganitsu (ganitsu@moz-6A83448D.dialup.adsl.anteldata.net.uy)
[18:01:05] *** Joins: sunfish (chatzilla@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[18:01:05] *** Quits: nszceta (nszceta@moz-E458A7C0.pharm.pitt.edu) (Quit: Textual IRC Client: www.textualapp.com)
[18:01:12] *** Quits: espindol_ (espindola@780017EA.BC8F0BCC.87193065.IP) (Ping timeout)
[18:01:14] *** Quits: brianm (brianm@B14CC6C5.5D49961F.D8D85ABD.IP) (Quit: Leaving...)
[18:01:19] *** Joins: brianm (brianm@B14CC6C5.5D49961F.D8D85ABD.IP)
[18:01:37] *** Quits: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP) (Quit: colinsurprenant)
[18:01:46] *** Joins: vincent_ (vincent@92340C0D.F31F2D7D.9510F13D.IP)
[18:02:30] <vincent_> rusti: unsafe { &mut *(0 as *uint) }
[18:02:31] -rusti- pastebinned 8 lines of output: http://sprunge.us/BLhZ
[18:02:33] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[18:03:01] *** Quits: brianm (brianm@B14CC6C5.5D49961F.D8D85ABD.IP) (Ping timeout)
[18:05:14] <vincent_> i am getting "error: cannot borrow immutable dereference of `*`-pointer as mutable" https://gist.github.com/9625807
[18:05:21] *** Joins: kvark (Mibbit@9A8A5739.49975FB2.AE2D72A6.IP)
[18:05:49] <bvssvni> vincent_: *mut?
[18:05:52] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[18:05:59] *** Joins: brianm (brianm@B14CC6C5.5D49961F.D8D85ABD.IP)
[18:06:08] *** Joins: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com)
[18:06:16] *** Quits: japaric (japaric@508B8F57.E321A207.5C7588CA.IP) (Ping timeout)
[18:06:43] <kvark> (rust habits) caught myself omitting 'return' and ';' frequently on the last sentences of C++ functions at work...
[18:06:44] <vincent_> oh, yea
[18:06:49] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Input/output error)
[18:07:14] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[18:07:16] *** Quits: daschl (Adium@moz-DC6DE6E2.vie.surfer.at) (Quit: Leaving.)
[18:07:17] <Ms2ger> I find myself putting "let" all over my python
[18:07:30] *** Joins: japaric (japaric@7433ECC4.8FD1E798.5C7588CA.IP)
[18:07:40] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[18:07:46] <vincent_> bvssvni: thanks, i forgot that raw pointers ha dto be mutable too
[18:07:55] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[18:08:52] *** Quits: murph (murph@moz-A933BAE1.oracle.com) (Client exited)
[18:09:04] *** Joins: murph (murph@moz-A933BAE1.oracle.com)
[18:09:28] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[18:10:02] <paraze> Hi :)
[18:10:07] <paraze> Is the 0.10-pre == nightly ?
[18:10:11] *** Quits: ganitsu (ganitsu@moz-6A83448D.dialup.adsl.anteldata.net.uy) (Ping timeout)
[18:11:09] <vincent_> i hope this will let me have safe read/writable globals
[18:11:17] <bvssvni> paraze: it's more like minutely
[18:11:59] <bvssvni> paraze: are you looking for nightly builds?
[18:12:00] *** Joins: p1start (rewi@moz-E7F3D014.org)
[18:12:07] <cmr> vincent_: `static mut` is never safe.
[18:12:12] <cmr> but just static is.
[18:12:35] *** Quits: eibwen (kvirc@moz-25FA2E23.dip0.t-ipconnect.de) (Ping timeout)
[18:12:43] <Tobba> "mutable static items are not allowed to have destructors"
[18:12:44] <Tobba> oh boy
[18:13:06] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[18:13:11] *** Joins: dherman (dherman@moz-24157589.mtv2.mozilla.com)
[18:13:11] *** ChanServ sets mode: +ao dherman dherman
[18:13:27] <paraze> bvssvni, I currently use it (thanks to #rust) ^^
[18:13:30] *** Quits: dherman (dherman@moz-24157589.mtv2.mozilla.com) (Quit: dherman)
[18:13:45] *** Quits: leowoe (Leo@moz-CEF2400C.inf.uni-konstanz.de) (Quit: Leaving.)
[18:13:46] <Tobba> are static mutable destructors disallowed because they'll never get called or something?
[18:13:49] <Tobba> my kernel used them all over
[18:14:08] <cmr> Tobba: that was the original reasoning
[18:14:19] <cmr> that restriction is going to be lifted somewhat, eventually.
[18:14:26] <Tobba> well shit
[18:14:29] *** Quits: sigma (sigma@moz-55097A0B.range86-163.btcentralplus.com) (Client exited)
[18:14:37] <Tobba> in my case they're never called because they're never destroyed
[18:14:45] <vincent_> i dont think a kernel would care about exiting gracefully
[18:14:46] <Tobba> and by all logic shouldent, but ugh
[18:14:53] <Tobba> exactly
[18:14:54] *** Quits: Kruppe (user@moz-A85AFD5.dynamic.uwaterloo.ca) (Connection reset by peer)
[18:15:13] <Tobba> looks like I'll need a meta-unsafe keyword here
[18:15:24] <cmr> just store a *u8 and transmute it when you need it
[18:15:31] <cmr> PITA, but is a workaround
[18:15:40] <Tobba> just as I'm exicted not to have to transmute stuff
[18:15:51] <Tobba> because static mutable slices just got pulled
[18:16:24] *** Quits: brianm (brianm@B14CC6C5.5D49961F.D8D85ABD.IP) (Quit: Leaving...)
[18:16:27] *** Joins: sigma (sigma@moz-55097A0B.range86-163.btcentralplus.com)
[18:17:07] *** Joins: ganitsu (ganitsu@moz-6A83448D.dialup.adsl.anteldata.net.uy)
[18:17:39] <Tobba> I should probably rethink how the global scheduling works though
[18:18:00] *** Quits: sunfish (chatzilla@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Client exited)
[18:18:03] <Tobba> in theory, there is one task per core, if any of those fails the whole thing dies, then a bunch of other "green" minor tasks
[18:18:36] *** Quits: vadimcn (chatzilla@FB06B64.76F9E272.DA40C4B3.IP) (Input/output error)
[18:18:46] *** Joins: glaebhoer1 (glaebhoerl@3391DE98.E9231B2.A0179ACD.IP)
[18:19:33] *** Joins: brianm (brianm@B14CC6C5.5D49961F.D8D85ABD.IP)
[18:20:02] *** Quits: kngl (Adium@moz-18BD1C.ipv4.evonet.be) (Ping timeout)
[18:20:07] *** Joins: dherman (dherman@moz-62518563.mtv2.mozilla.com)
[18:20:08] *** ChanServ sets mode: +ao dherman dherman
[18:20:16] <Tobba> this also means instead of mutable statics all over
[18:21:15] *** Joins: tiffnya (kawaii@moz-5A1FA59C.dhcp.embarqhsd.net)
[18:21:25] <Tobba> I can make the "setup" task pass references to all the global managers
[18:21:51] <brandonson> does ~"mystring" not declare a ~str anymore?
[18:21:54] *** Quits: tiffany (kawaii@moz-5A1FA59C.dhcp.embarqhsd.net) (Ping timeout)
[18:22:06] <Tobba> which I should make Share, except this will need me to make master build on windows (oh god) then manage to pull the Share PR into my local repo without a thermonuclear explosion occuring
[18:22:08] <cmr> brandonson: it does.
[18:22:16] <cmr> brandonson: but you can't match against a ~str anymore
[18:23:41] *** Joins: sellout (Adium@moz-6B18A669.hlrn.qwest.net)
[18:23:59] *** Joins: infynyxx_ (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[18:24:21] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[18:24:26] <brandonson> cmr: is there any way to match against a string now?  or do I need to use if guards (or whatever the rust term for if in a match is)?
[18:24:51] <cmr> brandonson: you can still match against &str
[18:24:58] <cmr> match foo.as_slice() { "stuff" => { ... } }
[18:25:55] <brandonson> cmr: okay, thanks.
[18:27:25] *** Joins: Kruppe (user@moz-5CB7832.dynamic.uwaterloo.ca)
[18:27:33] *** Joins: claudiu_ (claudiu@CB447DD5.6B10AC3.E2F59BBC.IP)
[18:28:12] *** Joins: vadimcn (chatzilla@moz-E841EA3A.hsd1.wa.comcast.net)
[18:28:27] <Tobba> I cant remember
[18:28:32] <Tobba> was ~str dying with ~[]?
[18:28:39] *** Quits: claudiu (claudiu@81B10C62.5F4BC945.49B2C1AE.IP) (Ping timeout)
[18:29:02] <cmr> the exact fate of str is unknown I think
[18:29:15] *** Quits: p1start (rewi@moz-E7F3D014.org) (Ping timeout)
[18:29:30] <cmr> to my knowledge there is going to be a Str type which is unsized, and you'd use it as ~Str or &Str, with a StrBuf being the equivalent of today's mutable ~str
[18:29:36] <Tobba> hmm
[18:29:45] *** Quits: azita (Azita@moz-62518563.mtv2.mozilla.com) (Quit: azita)
[18:29:51] <eddyb> s/mutable/growable
[18:29:59] <cmr> same thing!
[18:30:21] *** Quits: skade (skade@B4A5FE21.505237C9.CAE22B62.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[18:30:22] <Tobba> well if I get back on working on kernel stuff I should try and lobby someone for weak lang items again
[18:30:24] *** Joins: olivernn (olivernigh@moz-7CE0F8.access.mtnbusiness.co.za)
[18:30:33] <eddyb> Tobba: write a RFC!
[18:30:40] <cmr> I can add it to my rfc list
[18:30:43] <cmr> I want them too
[18:30:58] <cmr> so we're on the same page
[18:31:00] *** Quits: redShadow (redShadow@9BDAF02B.D15F9219.1CCF65D9.IP) (Quit: Leaving)
[18:31:01] <Tobba> I think a way to implement them would be to secretly rename the methods
[18:31:06] <cmr> Tobba: what exactly do you want from weak lang items?
[18:31:25] *** Quits: Auv (Jack@662E2197.34889732.46391764.IP) (Ping timeout)
[18:31:32] *** Quits: dherman (dherman@moz-62518563.mtv2.mozilla.com) (Quit: dherman)
[18:31:42] <Tobba> libraries not having to define all the function lang items, instead import them from whatever imports the crate is the main thing I guess
[18:31:45] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[18:31:50] *** Quits: brianm (brianm@B14CC6C5.5D49961F.D8D85ABD.IP) (Quit: Leaving...)
[18:32:11] <Tobba> its also a good step towards splitting std
[18:32:11] <cmr> ok
[18:32:22] *** Joins: brianm (brianm@B14CC6C5.5D49961F.D8D85ABD.IP)
[18:33:11] *** Joins: Havvy (Havvy@moz-4FE57F72.hsd1.wa.comcast.net)
[18:33:58] *** Quits: evanm (evanm@636AC086.5999CED5.71743E61.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[18:34:39] *** Joins: Ferreus (ferreus@moz-97A05E43.lsn.wtnet.de)
[18:36:01] *** Quits: IanCormac84 (User@C20D5874.64D641E5.67DFF8B4.IP) (Ping timeout)
[18:36:09] <Tobba> I think if OS-specific stuff was moved into a libos, weak lang items were a thing and they were moved into a librt of sorts, then std could be useable freestanding
[18:36:43] <cmr> I've moved libc out of std
[18:36:49] <cmr> std::os is next on my chopping block
[18:37:02] *** Joins: skade (skade@B4A5FE21.505237C9.CAE22B62.IP)
[18:37:24] <eddyb> Tobba: it's not just lang items
[18:37:31] <eddyb> I wish libraries could interact more... dynamically
[18:37:35] *** Joins: IanCormac84 (User@8CCA81F.2A8D8854.67DFF8B4.IP)
[18:37:49] <eddyb> I miss a little the crazy monkeypatching action from node.js
[18:38:53] *** Joins: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu)
[18:39:11] <krdln> It would be cool to compile std with „poisoned” @T or ~T. Everything that ie. touches @T just won't exist. It will be easy to make „embedded std” version.
[18:39:21] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Ping timeout)
[18:39:26] <Tobba> cmr: iirc libc kinda depended on std though?
[18:39:31] <eddyb> @T will be removed soon
[18:39:35] <cmr> Tobba: nah not really
[18:39:35] <eddyb> Tobba: the other way around
[18:39:44] <eddyb> and ~T is pretty well defined
[18:39:45] <cmr> Tobba: CString didn't move, just the FFI decls
[18:39:55] <Tobba> ah, right
[18:40:21] <bvssvni> hmm rustc -ignore-breaking-code-deps
[18:40:31] <Tobba> maybe libprim should just be librust
[18:40:34] <Tobba> and define the basic lang items
[18:40:35] *** Quits: alonlevy (alon@moz-61A0AD83.red.bezeqint.net) (Ping timeout)
[18:41:12] <eddyb> ten seconds after I close the screen, I have a good idea
[18:41:26] <krdln> cmr: So maybe with poisoned, hmm... rt module. I mean to easily generate std for kernel or microcontrolers without losing builting structs and traits.
[18:41:27] <eddyb> extern crate {collections, num, sync};
[18:41:40] <bvssvni> eddyb: bravo
[18:41:41] <cmr> eddyb: please
[18:41:44] <eddyb> so you can import libs just as simply as modules
[18:42:04] <eddyb> that's my only nit with having a lot of crates
[18:42:08] <Tobba> krdln: oh man rust on a microcontroller
[18:42:10] <eddyb> otherwise it's pretty nice
[18:42:15] <Tobba> std is currently like 3MB
[18:42:19] <Tobba> and LTO is messed up
[18:42:24] <cmr> Tobba: almost all of that is metadata
[18:42:28] <krdln> eddyb: mean't you, not cmr, sry.
[18:42:37] <Tobba> sounds like it needs a good 'ol stripping
[18:42:39] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[18:43:00] *** Quits: infynyxx_ (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[18:43:33] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[18:43:40] *** Joins: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP)
[18:43:41] *** Joins: autra (augustin@moz-BE76895F.fbx.proxad.net)
[18:43:45] *** tiffnya is now known as tiffany
[18:44:29] <krdln> Tobba: rust seems to be perfect language for µc! Only thing I miss is constants template parameters
[18:44:39] <Tobba> it is pretty good
[18:46:26] *** Quits: csherratt (csherratt@moz-7685819.cpe.teksavvy.com) (Ping timeout)
[18:46:31] <Tobba> now just to make std not require libc
[18:47:08] <cmr> I think we only use it for allocators and miscellany
[18:47:19] *** Quits: brianm (brianm@B14CC6C5.5D49961F.D8D85ABD.IP) (Quit: Leaving...)
[18:47:25] <Tobba> I think it gets used for file stuff
[18:47:35] <cmr> isn't that moved out into libnative?
[18:47:49] <Tobba> and libc.rs in the current std isnt all libc
[18:47:54] *** Joins: csherratt (csherratt@moz-7685819.cpe.teksavvy.com)
[18:47:59] <Tobba> theres a bunch of windows.h stuff in there too, dunno what you did with that
[18:48:19] <cmr> yeah
[18:48:41] <cmr> libc is one of the oldest parts of std to my knowledge
[18:49:06] *** Quits: bourbaki (chatzilla@moz-A6FDD3D8.dip0.t-ipconnect.de) (Quit: ChatZilla 0.9.90.1 [Firefox 27.0.1/20140212131424])
[18:50:00] *** Quits: dapz (textual@moz-F958911.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[18:50:07] <Tobba> I think we might also want to move io into os
[18:50:12] *** Joins: dapz (textual@moz-F958911.hsd1.ca.comcast.net)
[18:50:29] *** Quits: fabiand (fabiand@moz-C12DB286.adsl.alicedsl.de) (Quit: Verlassend)
[18:50:45] <cmr> it'd be its own crate if that were to happen, I think?
[18:50:52] <Tobba> its all os specific though
[18:50:53] <Tobba> I dunno
[18:51:01] <cmr> std::io isn't intended to be
[18:51:09] <Tobba> just getting it out of there would be nice because then std would be freestanding
[18:51:13] <cmr> yeah
[18:51:22] *** Quits: dapz (textual@moz-F958911.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[18:52:11] <Tobba> some basic stuff like Writer and Reader should maybe be in std
[18:52:32] <bjz_> krdln: µc?
[18:52:37] <cmr> bjz_: microcontroller
[18:52:42] <bjz_> ah
[18:52:49] <Tobba> although, I think the io stuff just implements things from the runtime
[18:52:56] <Tobba> being able to be runtime-less would be nice
[18:53:09] <bjz_> cmr: yeah, I doubt libc has changed all that much
[18:53:44] <bjz_> cmr: apart from syntax stuff
[18:53:46] *** Joins: kris (kris@moz-B13E1F6E.inet.dsl.telianet.dk)
[18:54:21] *** Joins: brianm (brianm@B14CC6C5.5D49961F.D8D85ABD.IP)
[18:54:34] *** Quits: brianm (brianm@B14CC6C5.5D49961F.D8D85ABD.IP) (Client exited)
[18:54:36] *** Joins: brianm (brianm@B14CC6C5.5D49961F.D8D85ABD.IP)
[18:55:18] *** Quits: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP) (Quit: colinsurprenant)
[18:55:30] *** Joins: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[18:56:00] *** Joins: Florob (Florob@moz-39532932.de)
[18:56:20] *** Quits: brianm (brianm@B14CC6C5.5D49961F.D8D85ABD.IP) (Ping timeout)
[18:56:54] *** Joins: jdm (jdm@13F2CEC5.7672369.D8E68FF6.IP)
[18:56:54] *** ChanServ sets mode: +o jdm
[18:57:58] *** Quits: kris (kris@moz-B13E1F6E.inet.dsl.telianet.dk) (Ping timeout)
[18:58:40] *** Quits: ChrisOei (ChrisOei@moz-53A9266A.blurb.com) (Ping timeout)
[18:59:33] *** Joins: eibwen (kvirc@moz-25FA2E23.dip0.t-ipconnect.de)
[18:59:51] *** flaper87|afk is now known as flaper87
[19:00:46] *** Quits: lucian (lucian@6B2B4644.4304AE1E.CE5E78F6.IP) (Input/output error)
[19:00:48] *** Quits: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net) (Quit: sw17ch)
[19:01:08] *** Joins: lucian (lucian@303F9692.4304AE1E.CE5E78F6.IP)
[19:01:54] *** Joins: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net)
[19:02:27] *** Quits: sellout (Adium@moz-6B18A669.hlrn.qwest.net) (Quit: Leaving.)
[19:02:42] *** Quits: olivernn (olivernigh@moz-7CE0F8.access.mtnbusiness.co.za) (Ping timeout)
[19:02:48] *** Quits: lucian (lucian@303F9692.4304AE1E.CE5E78F6.IP) (Ping timeout)
[19:02:55] *** Joins: leowoe (Leo@moz-B36BEE6A.dip0.t-ipconnect.de)
[19:04:17] *** Joins: enos (jkingyens@moz-B0C1B161.hsd1.ca.comcast.net)
[19:05:19] *** Joins: sellout (Adium@moz-6B18A669.hlrn.qwest.net)
[19:05:39] *** Quits: dranov (dranov@5C5E522B.F39E9F97.FCAAE698.IP) (Ping timeout)
[19:06:24] *** Joins: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP)
[19:06:26] *** Joins: ChrisOei (ChrisOei@6D90E5E9.CA21CEB1.98A37E8C.IP)
[19:07:00] *** Quits: sellout (Adium@moz-6B18A669.hlrn.qwest.net) (Ping timeout)
[19:07:17] *** Quits: Houm (Houm@moz-25669AA8.fbx.proxad.net) (Ping timeout)
[19:07:58] *** Joins: evanm (evanm@636AC086.5999CED5.71743E61.IP)
[19:08:03] *** Joins: dapz (textual@moz-F958911.hsd1.ca.comcast.net)
[19:08:14] *** Joins: sellout (Adium@moz-6B18A669.hlrn.qwest.net)
[19:09:14] *** Quits: nstoddard (nstoddard@moz-8527C50E.dhcp.embarqhsd.net) (Quit: ChatZilla 0.9.90.1 [Firefox 26.0/20131205075310])
[19:09:18] *** Quits: claudiu_ (claudiu@CB447DD5.6B10AC3.E2F59BBC.IP) (Input/output error)
[19:09:27] *** Quits: twi (Adium@357B7B48.5CFAE43E.C605BBF7.IP) (Ping timeout)
[19:09:30] *** Joins: pcwalton (pcwalton@moz-24157589.mtv2.mozilla.com)
[19:09:30] *** ChanServ sets mode: +ao pcwalton pcwalton
[19:09:51] *** Joins: infynyxx_ (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[19:10:17] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[19:13:43] *** Quits: wolfspaw (wolfspaw@746E5425.A605C5CA.EDCDF352.IP) (Connection reset by peer)
[19:13:46] *** Joins: alkino_ (alkino@moz-61F150EC.w92-151.abo.wanadoo.fr)
[19:13:49] *** Quits: jaras (textual@1CDC5701.A48867D7.52E4E107.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[19:15:26] *** Quits: espindola (espindola@moz-9F530B29.com) (Ping timeout)
[19:15:41] *** Quits: skade (skade@B4A5FE21.505237C9.CAE22B62.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[19:15:46] *** Joins: twi (Adium@E1F4AFAB.BA536DA5.C605BBF7.IP)
[19:16:15] <kmc> sfackler: I'm looking at rust-phf for purpose of dealing with http://www.whatwg.org/specs/web-apps/current-work/multipage/named-character-references.html#named-character-references
[19:16:18] <kmc> any thoughts?
[19:17:09] *** Quits: arturo (Thunderbir@moz-E83B14F0.superkabel.de) (Ping timeout)
[19:17:20] *** Joins: arturo (Thunderbir@moz-E83B14F0.superkabel.de)
[19:17:22] <Tobba> subreddit is referring to people who code in rust as "rustlers" now
[19:17:24] <Tobba> I cant stop laughing
[19:17:39] <kmc> that's pretty good
[19:18:51] <Tobba> it just reminds me of this old meme
[19:18:52] <Tobba> http://3.bp.blogspot.com/-iYjhsn-phKc/T37v-dABNtI/AAAAAAAAB6c/9LyimVO_Lsg/s640/jimmies.jpg
[19:19:15] <cmr> I'm very, very sad that people decided to use that collective pronoun, of all the less negative-conntationy ones.
[19:20:50] <Tobba> that meme in the first place stems from 4chan making fox news think that james ferrario guy who shot a bunch of cops was named jimmy rustles
[19:21:10] <Tobba> and then somehow convincing the police to lock the guy in a burning building but thats another part of that story
[19:21:32] *** Quits: infynyxx_ (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[19:22:28] *** Quits: tiffany (kawaii@moz-5A1FA59C.dhcp.embarqhsd.net) (Ping timeout)
[19:22:32] <bvssvni> cmr: the subreddit says rustaceans in the sidebarr
[19:22:41] <Tobba> thats even worse
[19:22:45] <cmr> bvssvni: the sidebar says lots of crap
[19:23:00] <bvssvni> cmr: have you read rule 6?
[19:23:08] <cmr> bvssvni: it used to say *I* was infallible!
[19:23:21] <bvssvni> haha
[19:23:34] <Sharp> Is anyone here familiar with what LLVM does to optimize boolean logic?  Is it limited by the fact that most logical operators short circuit?
[19:24:02] <bvssvni> Sharp: && short circuts, & does not
[19:24:16] <Sharp> & isn't bitwise in Rust?
[19:24:20] <cmr> it's both.
[19:24:24] <cmr> bitwise for numerics
[19:24:26] *** Quits: dapz (textual@moz-F958911.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[19:24:33] *** Joins: dapz (textual@moz-F958911.hsd1.ca.comcast.net)
[19:24:34] *** Quits: dapz (textual@moz-F958911.hsd1.ca.comcast.net) (Quit: dapz)
[19:24:36] <cmr> non-short-circuiting for booleans.
[19:24:44] <Sharp> Ah, okay.
[19:24:52] <bvssvni> Sharp: not sure what LLVM does
[19:24:54] <Sharp> Well, that doesn't quite answer my question but still good to know :)
[19:25:18] <sfackler> kmc: seems like a good use case to me. FYI, rust-phf isn't is as fast as it could be, but it should still be a bit faster than HashMap, and doesn't require allocation or one time setup
[19:25:26] <Sharp> I'm trying to figure out what a good pragmatic algorithm would be (I doubt LLVM would accept a problem with NP-complete behavior).
[19:25:47] <sfackler> e.g. it still uses SipHash internally, because I haven't gotten around to writing a faster hash function
[19:25:48] *** Joins: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[19:25:51] *** Quits: glaebhoer1 (glaebhoerl@3391DE98.E9231B2.A0179ACD.IP) (Connection reset by peer)
[19:25:54] *** Joins: ninechars (glaebhoerl@3391DE98.E9231B2.A0179ACD.IP)
[19:26:26] <kmc> sfackler: how's compile time on a 2,000+ key map?
[19:26:33] *** Joins: tiffany (kawaii@moz-5A1FA59C.dhcp.embarqhsd.net)
[19:26:48] <kmc> I'm wondering if I want something that generates serialized Rust code, which I wouldn't need to re-do on every build
[19:27:18] <sfackler> I haven't tested anything that large, but I'm using it with a map with a couple hundred entries and it takes something like 1ms
[19:27:31] <sfackler> if you set the PHF_STATS environment variable, it'll spit out the generation times
[19:27:39] *** Quits: Florob (Florob@moz-39532932.de) (Client exited)
[19:27:58] <kmc> nice
[19:27:59] <kmc> thanks
[19:28:20] *** Quits: tiffany (kawaii@moz-5A1FA59C.dhcp.embarqhsd.net) (Ping timeout)
[19:28:25] *** Joins: tiffany (kawaii@moz-5A1FA59C.dhcp.embarqhsd.net)
[19:28:30] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[19:28:41] <sfackler> you could totally cache it by running it with --pretty expanded and saving off the output
[19:28:45] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[19:28:46] <Sharp> I guess given that LLVM targets C it probably only cares about what C allows.  Though it's entirely possible that C added a non-short-circuting and operator while I wasn't looking.
[19:28:53] <Sharp> C/C++.
[19:29:01] <cmr> Sharp: it doesn't *only* target C
[19:29:20] <Sharp> Sure... but I think it's fair to say its core developers mostly care about C/C++
[19:29:28] <cmr> Also Obj-C, Haskell, D, ocaml, ...
[19:29:53] <Sharp> Not to mention Rust :P
[19:30:02] <cmr> obviously ;p
[19:30:02] <kmc> sfackler: good point
[19:30:17] <Sharp> I just meant, I'd imagine there probably aren't a ton of Rust or D specific optimizations in there.
[19:33:11] <bvssvni> Sharp: it's not that strange since Rust is not 1.0 yet
[19:34:32] <Sharp> No, it isn't.  Wasn't putting a value judgment on it one way or the other really :)  I didn't even think Rust had such an operator before I asked, I just know some people in here have pretty intricate knowledge of LLVM.
[19:35:09] *** Quits: Anupkumar (uid16774@moz-A42E5B7B.irccloud.com) (Quit: Connection closed for inactivity)
[19:35:40] <doomlord_> isnt the idea of LLVM that it doesn't need language specific optimizations
[19:35:42] *** Quits: xitology (xi@moz-8864BD7B.hsd1.il.comcast.net) (Quit: Ex-Chat)
[19:36:11] <cmr> well for example the loop-idiom pass is pretty specific to what C loops look like and what C++ iterators do
[19:36:23] <o11c> doomlord_: theoretically, but if some source languages can offer guarantees like "this pointer will never alias, this one will never be null ..."
[19:36:24] *** Quits: evanm (evanm@636AC086.5999CED5.71743E61.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[19:36:51] <brandonson> Are parts of the libraries not being updated to use the new vectors on purpose? (i.e. being left alone because they'll be fine with the new ~[T])
[19:37:00] <Sharp> Based on what I've seen it would be more accurate to say that thei dea of LLVM is that you shouldn't put optimizations in the compiler frontend.
[19:37:06] <Sharp> *the idea
[19:37:10] *** Joins: keret (Mibbit@moz-244CF33A.amazon.com)
[19:37:20] <brandonson> Don't want to spend time fixing librand if it doesn't actually need fixing :p
[19:37:22] *** Quits: gwty (gwtypc@36B896FC.BD82C0B5.645B845A.IP) (Ping timeout)
[19:37:53] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[19:37:56] <sfackler> kmc: report back on how long generation takes! the paper I based it off of claims linear time with high probability, but I'm not totally sure I believe them
[19:38:11] <kmc> okay
[19:38:16] <keret> is there an established method that splits a string into an array of strings by a separator? something like ruby's string.split(separator) method?
[19:38:17] *** Joins: kngl (Adium@40AE2BF6.ABCDAFD6.7C797F8E.IP)
[19:38:42] <kmc> keret: some here http://static.rust-lang.org/doc/master/std/vec/trait.ImmutableVector.html
[19:38:47] <cmr> keret: s.iter().split(...)
[19:39:17] <cmr> wait that's not a method on iterators
[19:39:19] <cmr> my bad
[19:39:21] <kmc> fun fact: the HTML entity with the longest name is &CounterClockwiseContourIntegral;
[19:39:37] <kmc> which is pretty long, but it's no ARABIC LIGATURE UIGHUR KIRGHIZ YEH WITH HAMZA ABOVE WITH ALEF MAKSURA ISOLATED FORM
[19:39:57] <Ms2ger> Yay for MathML
[19:40:39] <Tobba> also, are iterators ever gonna be cleaned up?
[19:40:46] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[19:40:47] <cmr> Tobba: what do you mean?
[19:40:50] <cmr> iterators are the cleanest part of rust
[19:41:02] <Tobba> are they still just a huge hack?
[19:41:05] <Tobba> or did I miss something major
[19:41:09] <doomlord_> wtf :)
[19:41:09] <cmr> hack in what way?
[19:41:27] <doomlord_> they're really nice
[19:41:33] <Tobba> back when I looked at them "for" would just expand to a bunch of code
[19:41:41] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[19:41:42] <Ms2ger> Sure
[19:41:44] <kmc> why shouldn't it?
[19:41:45] <Ms2ger> So?
[19:41:47] <Sharp> Yeah... that's the point.
[19:41:54] <doomlord_> most things do just expand to a bunch of code :)
[19:42:11] *** Joins: Florob (Florob@moz-39532932.de)
[19:42:15] <benh> It's a hack that it expands in libsyntax
[19:42:21] <cmr> it still does but that's just frontend mess.
[19:42:26] <cmr> nothing to do with iterators themselves really
[19:42:26] <doomlord_> having said that i miss the old idea of do ..... || { .. }
[19:42:28] <kmc> and it doesn't require the Iterator trait, iirc
[19:42:29] <Tobba> it was horrible and the errors involved were horrible, it would also involve Option even if it isnt defined
[19:42:35] <strcat> there were iterators before there were for loops
[19:42:51] <Tobba> theres an iterator trait?
[19:42:55] <Tobba> I dont think it has ever cared about that one
[19:42:59] *** Joins: gwty (gwtypc@36B896FC.BD82C0B5.645B845A.IP)
[19:43:15] <strcat> the Iterator trait existed before the language had support for iterators
[19:43:36] <doomlord_> the current for was to avoid compiler problems that they used to have with .... ||{  .. } , i think? they wanted to reduce the nubmer of closures used to do things
[19:43:40] <strcat> if you want the `for` syntax to work better (not freezing lvalues, etc.) then fix it
[19:44:03] <strcat> doomlord_: only one of many reasons
[19:44:13] <strcat> and not the principle one
[19:44:19] <aatch> doomlord_, the closure-based stuff was a massive hack
[19:44:27] <brandonson> is there a list of things that need to get updated to Vec from ~[] in the libraries?
[19:44:42] <doomlord_> was it that the closure basded iterations couldn't 'break' or something, 
[19:44:54] <doomlord_> what *was* the principle reason
[19:44:57] <brandonson> also, hasn't half the frontend stuff always been a massive hack? :p
[19:45:04] <cmr> brandonson: if you turn off the ~[] lint and mark `push` as #[deprecated] you'll get a nice list.
[19:45:07] <strcat> doomlord_: external iterators are better than internal ones
[19:45:09] *** Quits: azakai (alon@moz-62518563.mtv2.mozilla.com) (Quit: Ex-Chat)
[19:45:13] <strcat> regardless of the implementation details
[19:45:16] *** Joins: azakai (alon@moz-62518563.mtv2.mozilla.com)
[19:45:21] *** Quits: Havvy (Havvy@moz-4FE57F72.hsd1.wa.comcast.net) (Ping timeout)
[19:45:23] <doomlord_> (i liked the versatility of it being closure based, but i'm not the one who has to fix it)
[19:45:34] <strcat> it wasn't versatile in any sense of the word
[19:45:45] *** Joins: Havvy (Havvy@moz-4FE57F72.hsd1.wa.comcast.net)
[19:45:47] *** Quits: Ralith (ralith@moz-67D4EB93.customer.broadstripe.net) (Ping timeout)
[19:45:56] <keret> I can't seem to find a way to get this to work
[19:46:01] <keret>     let string: &str = "Hi\tHi\tHi";     let substr = string.split(|x: &str| x == "\t");
[19:46:04] <doomlord_> i thought it was
[19:46:04] <cmr> internal iterators are impossible to compose and difficult to reason about
[19:46:08] <strcat> doomlord_: it wasn't
[19:46:10] *** Joins: claudiu (claudiu@moz-FB94486E.thefacebook.com)
[19:46:12] <keret> any help?
[19:46:18] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[19:46:20] <aatch> The only advantage the closure-based version had was that it was a bit easier to iterate over recursive structures
[19:46:23] *** Joins: Havvy[Hex] (Havvy@moz-4FE57F72.hsd1.wa.comcast.net)
[19:46:26] <brandonson> cmr: okay, so anything that does a push should be updated, but parts that don't modify vectors?
[19:46:27] <strcat> doomlord_: you had to either iterate all at once or break, you couldn't store it
[19:46:37] <strcat> doomlord_: there was no way to have lazy adaptors like map, filter, skip, etc.
[19:46:39] *** Joins: evanm (evanm@636AC086.5999CED5.71743E61.IP)
[19:46:42] <cmr> brandonson: if they don't modify the length, they don't need to be a Vec<T>
[19:46:44] *** Joins: claudiu_ (claudiu@CB447DD5.6B10AC3.E2F59BBC.IP)
[19:46:51] <doomlord_> so break the main reason ?
[19:46:56] <strcat> doomlord_: no
[19:47:12] *** Joins: mib_9z1tbx (Mibbit@FE6DC2CE.C9634DEA.EB50AD2C.IP)
[19:47:18] <strcat> I'm not sure how you can draw that from me saying 2 things that are unrelated to the ability to break were important
[19:47:22] <brandonson> cmr: alright, well now I know what to look for at least. thanks.
[19:47:23] <strcat> nvm though
[19:47:27] *** Joins: Havvy_ (Havvy@moz-4FE57F72.hsd1.wa.comcast.net)
[19:47:27] <bvssvni> keret: does split takes a closure?
[19:47:29] *** Quits: Havvy (Havvy@moz-4FE57F72.hsd1.wa.comcast.net) (Ping timeout)
[19:47:52] *** Quits: claudiu (claudiu@moz-FB94486E.thefacebook.com) (Ping timeout)
[19:48:01] <cmr> keret: look at the CharEq trait.
[19:48:03] <bvssvni> keret: ah the Sep thing
[19:48:07] <keret> it appears to 
[19:48:11] <cmr> keret: it's implemented for closures that take a *char*
[19:48:16] <cmr> not a string slice.
[19:48:19] <doomlord_> well the old idea was very much in line with parallelizing .. which is what got me looking into fp ideas. refactoring problems until they can be done like that suited me
[19:48:31] *** Quits: Havvy[Hex] (Havvy@moz-4FE57F72.hsd1.wa.comcast.net) (Ping timeout)
[19:48:35] *** Havvy_ is now known as Havvy
[19:48:43] <doomlord_> the current 'for' is good though, i know.
[19:48:46] <cmr> keret: you can just say string.split('\t')
[19:49:26] <doomlord_> somthing that needs 'break' isn't parallelizable (behaviour of the next item depends on the previous)
[19:49:29] <bvssvni> keret: it also works for |char| -> bool
[19:50:09] <keret> cmr: it tells me that it failed to find an implementation of trait std::str::CharEq for &'static str
[19:50:19] <cmr> keret: single quotes, not double.
[19:50:51] *** Joins: kngl1 (Adium@40AE2BF6.ABCDAFD6.7C797F8E.IP)
[19:50:51] *** Quits: kngl (Adium@40AE2BF6.ABCDAFD6.7C797F8E.IP) (Connection reset by peer)
[19:51:19] <keret> ah, forgot that char literals only used single quotes
[19:51:21] <keret> thanks
[19:51:31] *** Quits: kvark (Mibbit@9A8A5739.49975FB2.AE2D72A6.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[19:51:33] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[19:52:55] *** Quits: ChrisOei (ChrisOei@6D90E5E9.CA21CEB1.98A37E8C.IP) (Ping timeout)
[19:53:26] *** Quits: mib_9z1tbx (Mibbit@FE6DC2CE.C9634DEA.EB50AD2C.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[19:53:57] *** Joins: ChrisOei (ChrisOei@6D90E5E9.CA21CEB1.98A37E8C.IP)
[19:55:41] *** Quits: ChrisOei (ChrisOei@6D90E5E9.CA21CEB1.98A37E8C.IP) (Ping timeout)
[19:56:08] *** Quits: bjustin (bjustin@moz-8FC28563.sierrabravo.net) (Ping timeout)
[19:56:36] *** Joins: dapz (textual@moz-ADE1780.hsd1.ca.comcast.net)
[19:57:01] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[19:57:46] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[19:58:16] *** Joins: huseby (huseby@moz-CA874743.dyn.embarqhsd.net)
[19:58:41] *** Quits: huseby (huseby@moz-CA874743.dyn.embarqhsd.net) (Max SendQ exceeded)
[19:58:58] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[19:59:46] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[20:00:52] *** Joins: asmyers (quassel@moz-71754EDC.hsd1.md.comcast.net)
[20:01:58] <doomlord_> internal iterator break.. could you have wrapped a closure return value in enum {Continue, Break } (i guess it would have seemed inconvinient having to always return something, and pick a different type of 'breakable external iterator' .. but my interest was in refactoring code for parallelizing... par_foreach() feeding worker threads, or code that can be mapped to wide SIMD / gpu
[20:02:25] <doomlord_> nothing precluding writing that aswell as whats given as standard, i know 
[20:02:49] <cmr> doomlord_: internal iterator closures returned a bool
[20:02:59] <cmr> doomlord_: it was true for "break" iirc
[20:03:10] <cmr> but... iterators didn't need to respect this.
[20:03:13] <cmr> which was a problem.
[20:03:18] <cmr> because there were many bugs with this
[20:03:27] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[20:04:27] *** Joins: huseby (huseby@moz-CA874743.dyn.embarqhsd.net)
[20:05:01] *** Quits: huseby (huseby@moz-CA874743.dyn.embarqhsd.net) (Max SendQ exceeded)
[20:05:43] *** Quits: keret (Mibbit@moz-244CF33A.amazon.com) (Quit: http://www.mibbit.com ajax IRC Client)
[20:06:41] *** Joins: jensnockert (jensnocker@moz-33279404.customers.ownit.se)
[20:07:27] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Input/output error)
[20:07:56] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[20:08:28] *** Quits: jensnockert (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[20:08:49] *** Quits: dapz (textual@moz-ADE1780.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[20:09:36] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[20:10:11] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[20:10:46] *** Joins: huseby (huseby@moz-CA874743.dyn.embarqhsd.net)
[20:11:19] *** Quits: huseby (huseby@moz-CA874743.dyn.embarqhsd.net) (Max SendQ exceeded)
[20:11:29] *** Joins: valentin (Thunderbir@4F2F9D91.E06BF678.B9540FE1.IP)
[20:11:31] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[20:11:36] *** Joins: dapz (textual@moz-ADE1780.hsd1.ca.comcast.net)
[20:12:05] *** Joins: jaras (textual@1CDC5701.A48867D7.52E4E107.IP)
[20:13:07] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Input/output error)
[20:13:09] *** Quits: valentin (Thunderbir@4F2F9D91.E06BF678.B9540FE1.IP) (Ping timeout)
[20:13:15] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[20:13:15] *** Quits: eddyb (eddy@F8B50789.F33C1089.FB866788.IP) (Ping timeout)
[20:13:31] *** Quits: dapz (textual@moz-ADE1780.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[20:13:40] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[20:13:45] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[20:15:21] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[20:16:01] *** Quits: jackneill (jackneill@moz-A28E8B07.pool.digikabel.hu) (Connection reset by peer)
[20:16:14] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[20:17:19] <doomlord_> min / max ... TotalOrd vs Ord ... one no longer has min/max without TotalOrd?
[20:17:46] *** Joins: fabiand (fabiand@moz-C12DB286.adsl.alicedsl.de)
[20:17:58] *** Quits: philix (felipe@moz-9E12C1FF.user.veloxzone.com.br) (Ping timeout)
[20:17:59] *** Joins: philix (felipe@moz-E210B33C.user.veloxzone.com.br)
[20:18:00] <cmr> correct.
[20:18:07] <strcat> doomlord_: min/max don't work with partially ordered values
[20:18:10] <cmr> floats have a.min(b)
[20:18:12] <strcat> Float trait provides min/max
[20:18:14] *** Joins: dapz (textual@moz-ADE1780.hsd1.ca.comcast.net)
[20:18:15] *** Havvy is now known as Havvy|shower
[20:18:29] <strcat> and we should probably have cmp::clamp and a clamp method on Float too
[20:18:55] <strcat> nearly everything will require TotalEq/TotalOrd - they now provide the operators via inheritance
[20:19:05] <strcat> and Float provides the operators via inheritance
[20:19:12] <strcat> shouldn't need to use raw Eq/Ord much
[20:19:17] <strcat> they need a renaming to reflect that
[20:19:26] *** Quits: dapz (textual@moz-ADE1780.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[20:19:29] *** Joins: dapz (textual@moz-ADE1780.hsd1.ca.comcast.net)
[20:19:50] <strcat> + need total ordering wrapper types for floats
[20:20:13] *** Quits: carllerche (carllerche@moz-2B516F15.hsd1.or.comcast.net) (Quit: carllerche)
[20:20:15] <doomlord_> ^ by that do you mean a type that just supports TotalOrd , but is a float internally
[20:20:26] <doomlord_> ^supports totalord like everything else..
[20:20:51] <strcat> an alternate set of floating point types also implementing Float, but using the total order defined by IEEE754 instead of the normal one
[20:21:14] *** Quits: pcwalton (pcwalton@moz-24157589.mtv2.mozilla.com) (Quit: pcwalton)
[20:22:16] *** Joins: ChrisOei (ChrisOei@moz-53A9266A.blurb.com)
[20:22:41] *** Joins: brontron (Mibbit@moz-C8D86903.tc.ph.cox.net)
[20:23:18] <doomlord_> do the other types also impl a.min(b)
[20:23:39] <strcat> depends on how that is organized
[20:24:14] <doomlord_> basically what i've got is code where i could have a Vec3<i32> or Vec3<f32> and a lot of common implementations
[20:24:15] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[20:24:27] *** Joins: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP)
[20:24:42] <doomlord_> min / max giving vector extents (could be discrete int screen pixels, could be float regions of space) and so on
[20:24:46] *** Quits: jaras (textual@1CDC5701.A48867D7.52E4E107.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[20:24:54] <strcat> doomlord_: impl<T: Ord> Ord for T { ... }, etc.
[20:25:07] <strcat> doomlord_: min/max on floating point vectors is non-trivial
[20:25:09] *** Quits: dapz (textual@moz-ADE1780.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[20:25:20] <strcat> min(2.0, NaN), min(2.0, NaN)
[20:25:21] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[20:25:25] <strcat> IEEE754 says those are both 2.0
[20:25:30] <strcat> NaN is treated as missing data
[20:25:35] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Input/output error)
[20:25:38] *** Joins: victorporof (victorporo@moz-FFB76956.cpe.net.cable.rogers.com)
[20:25:41] <doomlord_> true but in games we just assert in debug builds, and have code that must work with hardware instructions assuming all is well
[20:25:49] <o11c> ok, crazy idea
[20:25:50] <strcat> min((2.0, NaN), (3.0, 5.0))
[20:25:55] <strcat> min((2.0, NaN), (NaN, 5.0))
[20:25:57] <strcat> what about those?
[20:25:57] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[20:26:01] <doomlord_> i know i know
[20:26:13] <doomlord_> floats are hazardous, and we must use them with min/max :)
[20:26:14] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[20:26:18] <o11c> specialize Option<float>as the only way to get a nan
[20:26:41] <doomlord_> and we must have high performance branchless code .. so we used asserts in debug builds and got code to the state where it never has NaNs
[20:27:02] *** Joins: skade (skade@moz-1EC0F118.pools.arcor-ip.net)
[20:27:02] <doomlord_> i suppose if you're really intending to represent this safely in the typesystem.. we'd need a new type of float
[20:27:06] <strcat> o11c: floats are only around for performance since they're implemented in hw, so I don't think you'll convince people of that
[20:27:14] <doomlord_> that has those assumptions - undefined behaviour if its ever a NaN
[20:27:17] *** flaper87 is now known as flaper87|afk
[20:27:17] <strcat> o11c: for the same reason, using the total ordering for floats by default didn't appeal to people
[20:27:27] <strcat> because it takes a few more instructions
[20:27:48] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[20:27:51] <doomlord_> i understand rust is suppposed to be 'safe' hence the current decision
[20:27:55] <doomlord_> what would you suggest we do
[20:27:56] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[20:28:07] <strcat> I think it's okay for a messed up performance-oriented type to only work well with generic code abstracted over Float
[20:28:12] *** Joins: pcwalton (pcwalton@moz-24157589.mtv2.mozilla.com)
[20:28:12] *** ChanServ sets mode: +ao pcwalton pcwalton
[20:28:14] <strcat> and not *all* generic code, like tree maps/sets
[20:28:16] <doomlord_> basically my float type is somethign that has been asserted in debug builds to never be NaN
[20:28:30] <cmr> doomlord_: you could define your own min that operators on MyComparisonTrait
[20:28:42] <cmr> and then implement that for the primitive numerics
[20:28:46] <cmr> no branches, is free.
[20:29:00] <cmr> can even have an if cfg!(debug) { assert!(v != NaN) }
[20:29:03] *** Joins: dherman (dherman@moz-62518563.mtv2.mozilla.com)
[20:29:03] *** ChanServ sets mode: +ao dherman dherman
[20:29:08] *** Joins: valentin (Thunderbir@4F2F9D91.E06BF678.B9540FE1.IP)
[20:29:21] <o11c> strcat: well, all the methods would just take Option<float> for maximum performance
[20:29:32] <o11c> strcat: there'd only be a cost if you match or .unwrap
[20:29:43] <strcat> o11c: Option doesn't respect the IEEE754 NaN semantics though
[20:29:44] <o11c> (and there would be overloads for non-option things)
[20:29:47] *** flaper87|afk is now known as flaper87
[20:29:58] <tiffany> IEEE754's semantics are pretty awkward
[20:30:00] <strcat> None == None, etc.
[20:30:02] <o11c> well, probably not Option itself
[20:30:09] <strcat> o11c: NaN also isn't the only issue
[20:30:11] <strcat> 0.0 and -0.0
[20:30:18] <strcat> we hash them differently, but they compare equal
[20:30:21] *** Joins: dapz (textual@moz-ADE1780.hsd1.ca.comcast.net)
[20:30:29] <strcat> and they compare equal despite being different things
[20:31:02] <strcat> so if you get a hash collision, or the different hashes end up the same bucket, you have different behaviour
[20:31:10] <strcat> so floats in HashMap actually have *random* behaviour
[20:31:17] <strcat> not just random order, but random results for lookups
[20:31:19] <strcat> per hash table
[20:31:56] <strcat> sometimes -0.0 might find the 0.0 key/value, sometimes it might replace it, sometimes it might not
[20:32:02] * strcat shrugs
[20:32:23] <strcat> imo the only sane thing to do is have generic code on IEEE754 floats use the Float trait
[20:32:37] <doomlord_> i've never used floats in a hashtable, but have certainly done 'hashing' with spatial grids; there were some bitwise tricks aswell to allow int sorts of float data
[20:32:58] <strcat> not much point in trying to have Real, Round, Fractional, Ring or whatever incorporating floats
[20:33:03] <strcat> just shove it all in one giant IEEE754 trait
[20:33:06] <tiffany> why would you want to use floats in a hash table?
[20:33:21] <doomlord_> vertex reduction
[20:33:23] <strcat> tiffany: I don't know, that's why HashMap should just use TotalEq (which should be called Eq, with PartialEq for the operators - imo)
[20:33:45] <doomlord_> but whenever i've done that i've done it with a spatial "hash" .. a grid
[20:33:45] <o11c> just don't make them hashable
[20:33:53] <strcat> o11c: hashing them is sensible
[20:33:57] <o11c> when?
[20:34:17] <o11c> by their very nature they are not supposed to be exact
[20:34:37] <strcat> hashes are useful for more than hash tables, and it wouldn't be *totally* insane to use a totally ordered float wrapper as a map key if you were rounding them first
[20:34:43] <doomlord_> vertex reduction would typically be done with a tolerance, hence the spatial approach
[20:34:58] <o11c> strcat: which would be a newtype of float, not float itself
[20:35:08] <doomlord_> but there are certainly cases where you've been given repeated float data and you want to get the unique values back
[20:35:57] <strcat> sqlite4 is dropping IEEE754 floats
[20:36:08] <strcat> and just using a custom decimal representation ;p
[20:36:12] <cmr> also the resent dec64 thing
[20:36:18] <cmr> that made the rounds on hn
[20:36:33] <strcat> decimal IEEE754 floats aren't really any saner though
[20:36:40] <tiffany> non-normalized representation means that you can't safely hash dec64
[20:36:42] <doomlord_> r.e. safety - typically what happened is assets are conditioned by tools , and a runtime engine can assume data is valid
[20:36:52] <strcat> you don't lose precision from how your literals are written, but otherwise it's not saner
[20:37:33] <tiffany> er nevermind
[20:37:36] <strcat> still distributed in clumps, still have negative zero, still have NaN
[20:38:11] <doomlord_> is there a link to discussion on this, i'm definitely not going to be the only user with this question 
[20:38:17] *** Quits: andre (andre@CA528A4A.45A4338E.8EE27E6.IP) (Quit: leaving)
[20:38:26] <doomlord_> i guess you probably have all the implications thought about
[20:38:43] <tiffany> I feel as though fixed point is more appropriate for things like keys into hash maps
[20:39:02] <doomlord_> if i really need a new unsafe/performance comparison trait - every gamedev that uses rust will write one .. it would seem its something you want in the standard library aswell
[20:39:11] *** Joins: alonlevy (alon@moz-4EC2EC49.static.012.net.il)
[20:39:19] *** pmoore is now known as pmoore|away
[20:39:23] *** flaper87 is now known as flaper87|afk
[20:39:33] <o11c> fixed point is more appropriate for most things
[20:39:34] *** Joins: huseby (huseby@moz-CA874743.dyn.embarqhsd.net)
[20:39:38] <doomlord_> i guess what it is i want to represent is a float that is never NaN, or a set of operations that are undefined for NaN
[20:39:52] <doomlord_> fixed point isn't usually accelerated
[20:40:04] *** Quits: huseby (huseby@moz-CA874743.dyn.embarqhsd.net) (Max SendQ exceeded)
[20:40:24] <doomlord_> or rather some platforms dictate the use of one or the other.. its' mostly been float this centuary for us
[20:40:27] <cmr> doomlord_: there is discussion scattered on a bunch of issues, as well as at least one meeting notes...
[20:40:30] <tiffany> it's unfortunate that they aren't
[20:40:40] <tiffany> I don't really see why intel doesn't add some fixed point instructions
[20:40:47] *** Joins: espindola (espindola@780017EA.BC8F0BCC.87193065.IP)
[20:40:48] <doomlord_> i was shocked when graphics moved to floats :) 
[20:40:49] <strcat> o11c: or big-integer rationals, if you don't care about perf and don't need fancy stuff ;p
[20:40:51] *** Quits: alonlevy (alon@moz-4EC2EC49.static.012.net.il) (Ping timeout)
[20:41:07] <o11c> tiffany: because integer instructions work just fine
[20:41:17] *** Havvy|shower is now known as Havvy
[20:41:27] <strcat> tiffany: there are too many viable fixed-point representations to choose from
[20:41:33] <doomlord_> i wrote 3d engines on 16 bit machiens and the ps1 was still fixedpoint. it was just after that the world moved to float.
[20:41:46] <strcat> without a super popular standard like IEEE754 to follow, implementing them in hardware wouldn't be very viable
[20:41:47] *** Quits: edwardw (edwardw@3570A9BA.4E6A4251.FAED9FFC.IP) (Quit: Leaving...)
[20:42:01] <strcat> ARM might also implement them, but pick a different way of doing it...
[20:42:01] <doomlord_> what they say is float is just more versatile. it uses all the bits.
[20:42:05] *** Quits: richard|s_ (mindginati@moz-45375516.dyn.cust.vf.net.nz) (Ping timeout)
[20:42:05] *** Quits: chridou (chatzilla@moz-8D57414A.dip0.t-ipconnect.de) (Client exited)
[20:42:16] <doomlord_> fixed point is still used for representing compressed data
[20:42:27] *** Quits: skade (skade@moz-1EC0F118.pools.arcor-ip.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[20:42:30] <doomlord_> but its usually converted to floats internally for actual processing
[20:42:51] <doomlord_> the xbox 360 did have special instructions for converting all the d3d fixed point formats 
[20:43:12] <vincent_> wouldn't fixed point usally be faster? if your not doing trig functions
[20:43:33] *** Joins: bjustin (bjustin@moz-8FC28563.sierrabravo.net)
[20:43:35] <doomlord_> the reasoning is, float uses all the bits - so its better use of silicon
[20:43:42] <strcat> doomlord_: floats definitely don't use all the bits
[20:43:48] <doomlord_> they use more than fixed
[20:43:55] <strcat> 2**52 representations of NaN, many representations of zero
[20:44:10] *** Quits: brontron (Mibbit@moz-C8D86903.tc.ph.cox.net) (Quit: http://www.mibbit.com ajax IRC Client)
[20:44:11] <strcat> doomlord_: there are many fixed-point representations
[20:44:17] <krdln> doomlord_: where are unused bits in fixed-point??
[20:44:22] <doomlord_> they ensure whatever data you have, its significant. with fixed point, you have to have codepaths that have been tuned to specific ranges
[20:44:22] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[20:44:30] <doomlord_> and yes i've done physics engines that way
[20:44:41] <doomlord_> its a pain :)
[20:45:02] *** Joins: derek_c (derek@moz-DE2AD42A.cit.cornell.edu)
[20:45:15] <doomlord_> krdln in fixed point, smaller values use fewer bits
[20:45:19] <doomlord_> you have more zeros
[20:45:21] *** Joins: nstdloop (nstdloop@moz-C7FAE86A.washdc.fios.verizon.net)
[20:45:51] <doomlord_> you have to over-estimate the amount of precisioin and make those bits available to avoid overflow hazards
[20:45:53] <krdln> ah, you mean worse precision for smaller values?
[20:46:05] *** Quits: fabiand (fabiand@moz-C12DB286.adsl.alicedsl.de) (Quit: Verlassend)
[20:46:10] <doomlord_> yes. tunign code so it doesn't overflow is hard
[20:46:22] *** Joins: mib_f3ro41 (Mibbit@moz-F492D37.greenmountainaccess.net)
[20:46:55] <doomlord_> fixed point has remained useful for data storage where you know you have values in a certain range (compression/asset conditioning can deal with that)
[20:47:23] <doomlord_> ^ thats why i still write fixed point types using ints in typesystem :)
[20:47:45] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[20:47:49] <doomlord_> and like generic maths libraries that can accept float or fixed..
[20:48:48] *** Joins: orospakr (orospakr@moz-4514BEF2.cpe.teksavvy.com)
[20:49:48] <doomlord_> has any langauge attempted to express in the type system values which can be validated at one point, then used with assumption  later
[20:49:50] *** Joins: _Y_ (Mibbit@moz-43087E12.dynamic.isp.telekom.rs)
[20:50:10] <paraze> A basic tree is just a dlist with an array of next, right ? But, I don't know how to implement it... idea ('just a simple tree, without generic things etc.) ? :)
[20:50:12] <mcpherrin> doomlord_: That sounds like typestate
[20:50:13] <doomlord_> 2 use cases - non NaN floats, and array-indices guaranteed to be in bounds of certain arrays
[20:50:17] <tiffany> I want to do that in my language, doomlord
[20:50:19] <Havvy> doomlord_:  Rust 0.1 era. ;)
[20:50:20] *** Quits: orospakr (orospakr@moz-4514BEF2.cpe.teksavvy.com) (Client exited)
[20:50:21] <mcpherrin> doomlord_: which Rust used to have :)
[20:50:25] <tiffany> er, assuming we're thinking of the same thing
[20:50:27] <cmr> doomlord_: dependent types, or perhaps refinement types?
[20:50:30] *** Joins: orospakr (orospakr@moz-4514BEF2.cpe.teksavvy.com)
[20:50:48] *** Joins: mib_fyz0aa (Mibbit@moz-7AD9232F.rev.numericable.fr)
[20:50:53] *** Parts: tiffany (kawaii@moz-5A1FA59C.dhcp.embarqhsd.net) (Leaving)
[20:50:56] *** Joins: tiffany (kawaii@moz-5A1FA59C.dhcp.embarqhsd.net)
[20:51:03] <tiffany> oops, ctrl=w
[20:51:04] <doomlord_> one thing we'd need is an unsafe index operation that assumes its indices are valid
[20:51:11] *** Quits: orospakr (orospakr@moz-4514BEF2.cpe.teksavvy.com) (Client exited)
[20:51:14] <_Y_> Hi, Rusters :)
[20:51:21] <krdln> doomlord_: Ada have indices bounds
[20:51:22] <doomlord_> i've got no problem with that having to be a method name instead of []
[20:51:42] <tiffany> let foo : Option<int> = ...; if (foo.is_some()) {/* foo's type is now just int in this scope */}
[20:51:42] <_Y_> I'm currently stumped by an import problem 
[20:51:46] <tiffany> is that what you meant?
[20:52:13] <_Y_> this line https://github.com/DanielFath/rust-wikisort/blob/master/src/test.rs#L9 currently requires feature_glob imports
[20:52:17] <doomlord_> the main use case is unsafe array indexing
[20:52:28] <_Y_> It's trying to import this line https://github.com/DanielFath/rust-wikisort/blob/master/src/util.rs#L31
[20:52:30] <cmr> doomlord_: we have that. unsafe_ref
[20:52:40] <doomlord_> ok nice.
[20:52:59] *** Quits: twi (Adium@E1F4AFAB.BA536DA5.C605BBF7.IP) (Quit: Leaving.)
[20:53:12] <cmr> _Y_: it doesn't need glob imports? `use util::Manipulate;`
[20:53:25] *** Quits: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Quit: lkuper)
[20:53:27] <_Y_> don't I need to name the function?
[20:53:31] <cmr> no.
[20:53:40] <cmr> just the trait that defines the method
[20:53:41] <krdln> paraze: Why not struct Tree(~[~Tree])?
[20:53:52] *** Joins: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch)
[20:54:08] <_Y_> ok, but when do I import a trait vs. import a fn?
[20:54:11] <krdln> paraze: even Tree(~[Tree])
[20:54:32] <doomlord_> tiffany intel originally accelerated fixed point with MMX instructions, but it was quickly superceeded
[20:55:00] <_Y_> I kinda assumed you can import structs/fns (including ones in a trait)
[20:55:55] <cmr> _Y_: it's a method, not a function.
[20:55:59] <cmr> _Y_: you can never import methods.
[20:56:29] <_Y_> even ones that are defined in struct impl?
[20:56:39] <cmr> they're still methods, and that's an impl of a trait.
[20:56:54] <cmr> this feature is the subject of the UFCS RFC
[20:57:00] *** Joins: xitology (xi@85437D54.5AFA3E4.CEDFC552.IP)
[20:57:06] <_Y_> cmr:UFCS
[20:57:09] <_Y_> ?
[20:57:11] <cmr> https://github.com/rust-lang/rfcs/pull/4
[20:58:49] *** Quits: pcwalton (pcwalton@moz-24157589.mtv2.mozilla.com) (Quit: pcwalton)
[20:59:04] *** Quits: xitology (xi@85437D54.5AFA3E4.CEDFC552.IP) (Ping timeout)
[20:59:09] <Tobba> Deref is in now right?
[20:59:20] <strcat> yes
[20:59:34] <Tobba> what was the new Rc<RefCell> syntax that used deref?
[21:00:12] <Havvy> Tobba:  Remove .borrow()
[21:00:18] <Havvy> And it'll do it for you.
[21:00:31] <Tobba> wasent it possible to condense it down to just get()?
[21:00:39] <Havvy> Probably.
[21:00:40] <cmr> no, the gets are what were removed
[21:00:49] *** Quits: espindola (espindola@780017EA.BC8F0BCC.87193065.IP) (Input/output error)
[21:00:51] <cmr> you still need .borrow() or .borrow_mut() on the RefCell
[21:00:53] <Havvy> Oh. Guess I have it backwards.
[21:01:03] * Havvy is still writing all of them. V.V
[21:01:07] <doomlord_> r.e. operations with unsafe assumptions  - would you want to confine them to unsafe blocks? ... or is it enough to say 'safe only really means memory safety'. 
[21:01:11] <cmr> they don't implement Deref because that would be hiding failure
[21:01:20] <doomlord_> ^(unsafe float assumptions, like no NaNs)
[21:01:24] * _Y_ sends a pack of virtual cookies to cmr
[21:01:31] *** Joins: alonlevy (alon@2CD54432.57968636.E9C721AF.IP)
[21:01:37] *** Joins: olivernn (olivernigh@moz-7CE0F8.access.mtnbusiness.co.za)
[21:01:51] <cmr> doomlord_: http://static.rust-lang.org/doc/master/rust.html#unsafety
[21:01:52] <tiffany> doomlord: I think the general approach thus far is if you make assumptions outside the type system, they don't need unsafe but they will result in task failure if they turn out wrong
[21:01:59] <tiffany> with functions like .unwrap()
[21:02:27] <benh> does that ufcs proposal support int::size_of() or just T::size_of()?
[21:02:53] <benh> what about ~[T, 42]::size_of() etc?
[21:02:57] <doomlord_> for my usecases there can't even be the potential of task failiure - we must be able to know there are no extraneous comparisons/checks/branches going on :)   i realise such functions would need to be clearly marked.
[21:03:03] <tiffany> I think it would be considerably more productive to expand the type system to support dependent types and proofs than it would be to add a bunch of standard library stuff for making assumptions
[21:03:18] <doomlord_> consoles have weak CPUs 
[21:03:27] *** Quits: olivernn (olivernigh@moz-7CE0F8.access.mtnbusiness.co.za) (Ping timeout)
[21:03:39] <paraze> krdln, er, sorry, but I don't know how to use it (and I'm not sure to understand it), because I want to have some data in each node, and with your solution... dunno ^^
[21:03:41] <doomlord_> (relatively speaking) . the later gen is a lot better but..
[21:04:05] <strcat> doomlord_: rust needs extra branches on division, shifts, integer to float casts and float to integer casts to avoid UB
[21:04:21] <strcat> signed int division needs to check for INT_MIN / -1 in addition to division by 0
[21:04:42] <doomlord_> so basically we'd need a whole set of unsafe versions of all those
[21:05:07] *** Joins: glaebhoerl (glaebhoerl@3391DE98.E9231B2.A0179ACD.IP)
[21:05:08] <doomlord_> or a compiler flag .. numerically unsafe rust :)
[21:05:08] *** Quits: ninechars (glaebhoerl@3391DE98.E9231B2.A0179ACD.IP) (Connection reset by peer)
[21:05:14] <strcat> doomlord_: memory unsafe
[21:05:33] <krdln> paraze: maybe struct Node { stuff: Stuff, children: ~[Node] }
[21:05:52] <strcat> Vec<Node>
[21:06:01] <strcat> ~[T] is deprecated
[21:06:02] <doomlord_> did i see someone do some LLVM trickery to strip out safe stack growing. 
[21:06:10] <doomlord_> perhaps we could have something similar
[21:06:23] <strcat> doomlord_: on systems with an MMU, the checks don't need to be there
[21:06:25] <_Y_> can I ask what is the most elegant way to construct an Xml-like Node?
[21:06:27] <strcat> we can do what -fcheck-stack in gcc does
[21:06:34] <strcat> we don't atm, due to lack of LLVM support, but we could
[21:06:43] <_Y_> write a custom constructor or keep node simple?
[21:07:01] <krdln> strcat: it's sad, that the lint screems not only on functions dealing with growth / capacity
[21:07:22] <strcat> krdln: why?
[21:07:25] <strcat> krdln: it's going away as a whole
[21:07:37] <strcat> ~[T] won't be a distinct type anymore, it will be removed before [T] exists
[21:08:09] <strcat> all code planning to work while ~[T] doesn't exist anymore needs to move to Vec<T>
[21:08:37] <strcat> if you don't mind waiting N months for the code to start working again, then sure, it can stay as ~[T] ;p
[21:08:45] *** Joins: espindola (espindola@780017EA.BC8F0BCC.87193065.IP)
[21:09:02] <krdln> strcat: thought it won't dissappear, just switch to DST some day
[21:09:06] <doomlord_> so ~[T] will come back 'later' as non-growable vector ?
[21:09:15] <strcat> krdln: it will disappear before DST happens
[21:09:23] <strcat> doomlord_: [T] will come back later
[21:09:43] <aatch> [T] will arrive, bringing ~[T] along with it.
[21:09:44] <strcat> Rc<[T]> or ~[T] will just be plain old Rc<T>/~T
[21:09:48] <doomlord_> i realise Vec<T> is what ~[T] is now. And "non growable vector" is actually a common type for me :) i welcome that
[21:09:56] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[21:10:03] <aatch> As well as Rc<[T]> and AwesomePtr<[T]>
[21:10:12] <strcat> doomlord_: an ~[T] type isn't being explicitly added
[21:10:16] <strcat> it isn't necessarily very useful
[21:10:23] <strcat> it will just exist by virtue of [T] existing
[21:10:31] <strcat> just like Gc<[T]> and Rc<[T]> will exist
[21:10:39] *** Quits: dschatzberg (dschatzber@moz-E2680405.bu.edu) (Input/output error)
[21:10:44] <strcat> (which are a lot more useful, since they're not just a subset of Vec<T>)
[21:10:51] <krdln> doomlord_: for me too, and I was almost sure it won't disappear before dst
[21:10:52] <_Y_> strcat: will ~[T] be ungrowable?
[21:11:03] <strcat> _Y_: won't be growable
[21:11:20] <doomlord_> i'm glad i'm not the only one in this word who has differentiated growable and non growable.
[21:11:38] <comex> oxidize: x86_64-apple-darwin/stage0/lib/rustlib/x86_64-apple-darwin/lib/libstd
[21:11:40] <comex> error: Unrecognized option: 'C'.
[21:11:42] <strcat> doomlord_: it's not being differentiated for the sake of differentiating it
[21:11:42] <comex> halp
[21:11:54] <doomlord_> its a happy accident?
[21:12:00] <_Y_> yes :P
[21:12:06] <doomlord_> if it wasn't id write a seperate one :)
[21:12:14] <aatch> [T] is going to be [T, ...n] with the 'n' "erased" and stored at runtime.
[21:12:15] <krdln> strcat: woud it be good code pattern to use Vec<T> while building, but send / store ~[T]?
[21:12:22] <strcat> krdln: I don't think so
[21:12:29] <_Y_> as that video says, we don't make mistakes, we make happy accidents
[21:12:50] <strcat> krdln: going from Vec<T> -> ~[T] will lose the capacity field and may need to call shrink_to_fit
[21:13:15] <doomlord_> with 64bit machines, always having a 64bit size for counts of arrays you know have been chopped up into smaller chunks is wasteful... and it might not be much memory, but its sometimes important to stuff as much useful information into a cacheline as possible
[21:13:17] <strcat> if you actually want to drop the excess capacity, then yes, it's an optimization
[21:13:29] <strcat> it's 2 words instead of 3 words and shrink_to_fit will free up allocator resources
[21:13:40] <comex> i guess that is my fault for using local rust
[21:14:03] <strcat> doomlord_: if the size/count isn't 64-bit then you need overflow checks for memory safety
[21:14:29] <strcat> fewer things bloating the data cache, sure, but more bloating the instruction cache
[21:14:33] <comex> related to th discussion, i like not making ~[] special anymore
[21:14:42] <krdln> strcat: I think it's common to stop growing a vector after build.
[21:14:46] <doomlord_> i realise this isn't a 'safe' concept, but its what i've dealt with :) 
[21:14:56] <doomlord_> debug builds that assert everything works...
[21:14:58] <strcat> krdln: in that case it's fine, but if you ever grow it again then it's inefficient
[21:15:06] <strcat> as you've dropped preallocated capacity
[21:15:11] *** Quits: _Y_ (Mibbit@moz-43087E12.dynamic.isp.telekom.rs) (Quit: http://www.mibbit.com ajax IRC Client)
[21:15:16] <doomlord_> .. and software is rejected in test if it can fail
[21:15:22] <vincent_> doomlord_: sounds like you are prematurally optimizing
[21:15:24] <strcat> imo it will be easy to accidentally turn stuff into O(n) or O(n^2) from O(1) or O(n) if you do that a lot
[21:15:32] <doomlord_> vincent_ not at all
[21:15:41] <doomlord_> vincent_ this is all real world experience 
[21:15:57] <strcat> krdln: we already had a lot of code that was O(n^2) due to 'reserve' reserving *exactly* n
[21:15:57] <doomlord_> we had rather stringent requirements
[21:16:09] <strcat> krdln: so now reserve reserves the next power of 2 and there's reserve_exact
[21:16:16] <strcat> krdln: converting to ~[T] when you can will have the same gotchas
[21:16:18] *** Quits: mib_f3ro41 (Mibbit@moz-F492D37.greenmountainaccess.net) (Quit: http://www.mibbit.com ajax IRC Client)
[21:16:21] <doomlord_> performance AND software correctness
[21:16:40] <Ms2ger> doomlord_, formally proven correctness?
[21:16:46] <doomlord_> empirically 
[21:16:53] *** Quits: alonlevy (alon@2CD54432.57968636.E9C721AF.IP) (Ping timeout)
[21:17:11] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Client exited)
[21:17:11] <strcat> krdln: for example, 'for i in range(0, n) { xs.push(i); }' is clearly O(n)
[21:17:12] <aatch> I don't think there's room in commercial game development for formally proving correctness.
[21:17:16] <doomlord_> thigns are different now with downloads and patches - but they can still cause bad reputation
[21:17:34] *** Quits: Kruppe (user@moz-5CB7832.dynamic.uwaterloo.ca) (Ping timeout)
[21:17:34] <doomlord_> software burned onto disks simply wasn't supposed to break, ever.
[21:17:39] <strcat> krdln: it was less clear that 'for i in range(0, n) { xs.reserve(xs.capacity() + 1); xs.push(i); }' was O(n^2), but that's what it was
[21:17:51] <Ms2ger> Except missingno, we liked that one
[21:17:54] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[21:18:02] <strcat> krdln: a method like push_str would call 'reserve', because it seemed right
[21:18:12] <strcat> but then push_str in a loop -> much. much worse time complexity
[21:18:20] * strcat shrugs
[21:18:28] <paraze> With, struct Node {/*...*/, children: Option<Vec<Node>>, father: Option<~Node>} -> it compile (thx), but there will be a problem with the ownership (father and children), no ?
[21:18:30] *** Joins: Matthias247 (Miranda@moz-678B5E4A.hsi2.kabel-badenwuerttemberg.de)
[21:18:34] <strcat> so be careful when you call shrink_to_fit (or convert to ~[T])
[21:18:52] <strcat> it's the kind of micro-optimization that's bound to be a macro-deoptimization in many cases ;p
[21:19:21] <krdln> strcat: I will be scared to do so till death, thanks to you know :P
[21:19:38] <fredy> Hello, I am trying to run a method from an extern crate but I cannot, you can check more details in http://pastebin.mozilla.org/4623192 , any help appreciated :)
[21:19:51] <kimundi> paraze: Correct, written as that a Node would own both his father and his children, which is kinda mutually exclusive with single ownership types.
[21:19:56] <aatch> That said, much of the code in rustc *does* follow the pattern of not changing a vector after it's built.
[21:19:58] <krdln> strcat: But in my usecases, ~[T] fits correctly
[21:20:19] *** Joins: twi (Adium@moz-A3B8EA95.static.bezeqint.net)
[21:21:18] <aatch> It's not like ~[T] is going to be very amenable to growing anyway. API-wise
[21:21:56] *** Quits: sawrubh (uid6719@moz-5F4AA75A.irccloud.com) (Quit: Connection closed for inactivity)
[21:21:56] <kimundi> Right, I guess we just wouldn't expose a push() for it? Or at least something called differently.
[21:22:09] <krdln> paraze: Yeah, father could not be owned by children and it's own parent simultaneously
[21:22:13] <kimundi> .push_reallocate() ? :P
[21:23:45] *** Joins: kris (kris@D954AD01.1D0A8692.683E4874.IP)
[21:24:42] <Tobba> woo mingw segfaults
[21:24:44] <paraze> Have I to work with raw pointers ? Or there is another solution ?
[21:24:47] <Tobba> mingw makes them entirely untracable
[21:24:49] <Tobba> for whatever reason
[21:25:07] <kmc> paraze: the doubly linked DList in the std lib uses raw pointers
[21:25:08] *** Joins: richard|s_ (mindginati@moz-45375516.dyn.cust.vf.net.nz)
[21:25:17] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Quit: Leaving...)
[21:25:24] <kimundi> paraze: You can use shared ownership smartpointers
[21:25:34] <kimundi> paraze: Like Rc<T> for example
[21:25:45] <kmc> isn't there a weak rc now too?
[21:25:53] <aatch> kmc, same thing, sort-of
[21:26:03] <aatch> Rc<T> supports weak references.
[21:26:32] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[21:26:43] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[21:27:29] <kimundi> paraze: struct Node {/*...*/, children: Vec<Rc<Node>>, father: Option<Weak<Node>>}
[21:27:30] *** Joins: Rubennn (Rubennn@moz-529E706D.gewooniets.nl)
[21:27:36] *** Quits: kris (kris@D954AD01.1D0A8692.683E4874.IP) (Ping timeout)
[21:27:54] *** Quits: tiffany (kawaii@moz-5A1FA59C.dhcp.embarqhsd.net) (Ping timeout)
[21:28:17] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[21:28:26] *** Parts: Rubennn (Rubennn@moz-529E706D.gewooniets.nl) ()
[21:28:35] *** Quits: Munchor (munchor@moz-8CFC84AD.yourvserver.net) (Ping timeout)
[21:28:35] *** Quits: Rym (y@B38B74BC.61CF0AA7.51C6DE68.IP) (Ping timeout)
[21:28:41] *** Joins: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net)
[21:28:57] *** Quits: derek_c (derek@moz-DE2AD42A.cit.cornell.edu) (Ping timeout)
[21:30:50] *** Joins: tiffany (kawaii@moz-7AF84602.dhcp.embarqhsd.net)
[21:30:55] *** Joins: Rym (y@B38B74BC.61CF0AA7.51C6DE68.IP)
[21:31:00] <strcat> kimundi: no, we wouldn't expose any push function for it
[21:31:07] <strcat> methods would be implemented for [T] afaik
[21:31:13] <strcat> we wouldn't special-case ~[T]
[21:31:28] *** Joins: tyna (liadon@moz-BB1BAD9A.dynamic.chello.pl)
[21:31:44] *** Quits: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net) (Quit: sw17ch)
[21:32:02] *** Quits: autra (augustin@moz-BE76895F.fbx.proxad.net) (Ping timeout)
[21:32:19] <kimundi> Right
[21:32:40] *** Quits: Rym (y@B38B74BC.61CF0AA7.51C6DE68.IP) (Ping timeout)
[21:32:56] *** Quits: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch) (Ping timeout)
[21:33:09] <jmgao> are arrays invariant in rust?
[21:33:11] *** Joins: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch)
[21:33:16] *** Quits: Florob (Florob@moz-39532932.de) (Client exited)
[21:33:18] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Connection reset by peer)
[21:33:30] *** Quits: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch) (Max SendQ exceeded)
[21:33:42] *** Joins: Rym (y@B38B74BC.61CF0AA7.51C6DE68.IP)
[21:34:13] <kimundi> strcat: Hm, if you overwrite the clone_from default method on Clone, it should try to call clone_from on substructures, right?
[21:34:15] <krdln> Is there a way to get lifetime from ~T?
[21:34:24] <strcat> kimundi: yes
[21:34:28] *** Quits: nik_ (nik@moz-7218C807.pool.mediaways.net) (Quit: Leaving)
[21:34:31] <paraze> kimundi, thanks !
[21:34:37] *** Joins: kris (kris@moz-6D20263F.fullrate.dk)
[21:34:46] <kimundi> strcat: Actually, anything implementing clone by calling clone on substructures should call clone_from if possible, right?
[21:34:53] <strcat> krdln: it's not different than `int` in that regard
[21:34:55] <ChrisMorgan> krdln: you mean a T with an explicit lifetime, e.g. T = U<'a>?
[21:34:58] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[21:35:08] <strcat> kimundi: if it can
[21:35:10] *** Joins: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch)
[21:35:15] <strcat> kimundi: seems unlikely
[21:35:28] *** Quits: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch) (Max SendQ exceeded)
[21:35:28] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[21:35:39] <kimundi> strcat: I'd imagine deriving(Clone) should call it exclusively.
[21:35:44] <strcat> how?
[21:35:50] <kimundi> ah, right
[21:35:50] <strcat> clone_from needs a pre-existing value...
[21:35:52] <krdln> ChrisMorgan: I think yes
[21:35:55] <kimundi> stupid me
[21:36:08] *** Joins: Florob (Florob@moz-39532932.de)
[21:36:11] *** Joins: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch)
[21:36:14] <ChrisMorgan> krdln: what exactly do you mean by getting the lifetime from it?
[21:36:21] <krdln> something like that: fn foo(a: &~'a A) -> &'a A;
[21:36:24] <kimundi> Anyway, I'm gonna make a one line PR for the current clone_from implementation for ~T
[21:36:27] *** Quits: Rym (y@B38B74BC.61CF0AA7.51C6DE68.IP) (Ping timeout)
[21:36:33] <ChrisMorgan> krdln: ~A<'a>
[21:37:07] <ChrisMorgan> fn foo(a: ~A<'a>) -> &'a A<'a>
[21:37:24] <krdln> ChrisMorgan: But A have to be parametrized over that lifetime, yes?
[21:38:00] <krdln> ChrisMorgan: and I don't want foo to consume, as you wrote
[21:38:32] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[21:38:32] <ChrisMorgan> krdln: `struct T { … }` has no lifetime of itself. `struct T<'a> { … }` contains references of lifetime 'a and so must have a lifetime itself.
[21:38:43] <ChrisMorgan> krdln: do you just mean that you want a &T out of a ~T?
[21:39:10] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[21:39:14] *** Quits: JanC_ (janc@moz-C18D7729.dsl.scarlet.be) (Ping timeout)
[21:39:17] <krdln> ChrisMorgan: Yes, but I want &'a T, so I could use it elsewhere
[21:39:24] <krdln> (that lifetime)
[21:39:36] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Quit: Leaving...)
[21:39:38] <ChrisMorgan> krdln: any reason why you're using ~T rather than T?
[21:40:07] <ChrisMorgan> Normally stack-allocated variables are the way things should be done; ~ doesn't actually show up as much as you might expect at first.
[21:40:09] <jensnockert> Can I use super::Sometype to refer to a type in another file in the same crate?
[21:40:15] <kimundi> Heh, I know its bikesheddy and not worth making the fuzz about, but my brain is still trying to decide whether `old.clone_from(original)` or `original.clone_into(old)` is the more intuitive API :P
[21:40:20] <krdln> ChrisMorgan: recursive data structure. so I have to
[21:40:25] <jensnockert> I updated the compiler and did some refactoring at the same time (silly mistake)
[21:40:34] <ChrisMorgan> krdln: yep, that's certainly a situation where you need ~T.
[21:40:52] <jensnockert> And now I get a lot of errors about not being able to find type 'super::Status' and the like.
[21:41:01] <ChrisMorgan> krdln: &*a takes a ~A and produces a &A which cannout outlive the object a.
[21:41:05] <jensnockert> "error: use of undeclared type name `super::Status`"
[21:41:05] <krdln> ChrisMorgan: I'm trying to write tree with backreferences without unsafe pointers and Rc and Weaks.
[21:41:38] <strcat> you need either Rc/Weak or raw ptrs to write a tree with parent ptrs unless it's all static
[21:42:29] <jensnockert> The errors may be entirely useless, but https://gist.github.com/jensnockert/d4dc34dfeae2e8266236
[21:42:44] *** Quits: io2 (io2@moz-EE406A5.home.otenet.gr) (Quit: )
[21:42:49] <krdln> but with lifetimes and some unsafety (but only when creating &-refs) i think i'm trying to convince compiler that it will work..
[21:43:07] <ChrisMorgan> krdln: it's not possible to have a recursive structure with just ~ and &.
[21:43:16] <strcat> well, unless you use unsafe code
[21:43:18] *** Quits: ganitsu (ganitsu@moz-6A83448D.dialup.adsl.anteldata.net.uy) (Quit: WeeChat 0.4.1)
[21:43:29] <ChrisMorgan> strcat: shh! ;-)
[21:43:36] <ChrisMorgan> And that would be… unsafe.
[21:43:52] <strcat> sure and then it's up to you to keep the external API safe
[21:43:56] <krdln> ChrisMorgan: Hm, I will have to prove that I won't move Vec<Node> from parent
[21:44:13] *** Joins: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[21:44:34] *** Joins: derek_c (derek@moz-2D6D10D7.cit.cornell.edu)
[21:44:48] <ChrisMorgan> Exactly.
[21:45:25] <strcat> krdln: why not just use Rc/Weak? until you show the extra 2 words in the allocation to be a perf issue at least
[21:45:32] <strcat> it's not like it will do any refcounting
[21:46:04] *** Quits: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch) (Ping timeout)
[21:46:05] <strcat> depending on your node size, it may even be the same allocation size (since allocators will round up to bucket sizes)
[21:46:06] *** Joins: pcwalton (pcwalton@moz-24157589.mtv2.mozilla.com)
[21:46:06] *** ChanServ sets mode: +ao pcwalton pcwalton
[21:46:17] <strcat> or it may be 2x as big... but it's not necessarily an issue
[21:46:26] *** Joins: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch)
[21:46:46] *** Joins: Rym (y@B38B74BC.61CF0AA7.51C6DE68.IP)
[21:46:59] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[21:47:04] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Quit: willingc)
[21:47:13] <krdln> strcat: now I see that it won't be any refbumps here, but... I just think it's too ugly for this simple problem
[21:47:31] *** Quits: pczarn (pczarn@moz-69A55FA.izacom.pl) (Input/output error)
[21:47:37] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[21:48:20] <krdln> strcat: of course, safe etc., but, hey, rust is system programming language, so it should be as fast as possible
[21:48:57] <strcat> you can do it as fast as possible but then it's up to you to do it right and expose a safe API
[21:49:56] <krdln> strcat: of course!
[21:51:02] <krdln> hm, it's not bad to store such a tree in Arena with just &'a pointers
[21:51:35] *** Quits: halosghost (halosghost@moz-A41005D9.org) (Quit: rouk.org)
[21:51:54] <strcat> krdln: use TypedArena
[21:52:00] <strcat> Arena is really inefficient
[21:52:37] *** Joins: jviereck1 (Adium@moz-24195EF9.dclient.hispeed.ch)
[21:52:44] *** Quits: jviereck (Adium@moz-7859BAFE.dclient.hispeed.ch) (Ping timeout)
[21:52:49] <kmc> anything in the std lib I can use to parse a hex string to a uint?
[21:53:03] <aatch> kmc, from_str_radix
[21:53:08] <cmr> kmc: there used to be an extra::hex lying around toop
[21:53:11] <cmr> *too
[21:53:12] <aatch> in std::num I think
[21:53:33] <sfackler> extra::hex is now in encoding, but you probably want from_str_radix here
[21:53:39] <kmc> thanks
[21:53:45] <sfackler> encoding::hex is for [u8] >-> hex str conversions
[21:54:00] <sfackler> s/>->/<->/
[21:54:09] *** Joins: halosghost (halosghost@moz-A41005D9.org)
[21:54:40] <krdln> strcat: Now I see also that solution with Rc or &'a creates another layer of indirection. But with ~[Node] I can't grow vector..
[21:55:06] <strcat> krdln: is the # of children fixed?
[21:55:16] <strcat> max #
[21:55:19] <strcat> at some low number
[21:55:26] *** Quits: Rym (y@B38B74BC.61CF0AA7.51C6DE68.IP) (Ping timeout)
[21:55:28] <strcat> could always use [Option<~Node>, ..n]
[21:55:35] <krdln> strcat: Nope, but won't change after construction
[21:55:56] <strcat> krdln: well, why do you need to grow the vector?
[21:56:05] <strcat> krdln: you can use with_capacity from the start
[21:56:56] *** Quits: canhtak (canhtak@moz-2C382DC9.wl.t.ulaval.ca) (Quit: canhtak)
[21:57:14] *** Joins: Havvy[Hex] (Havvy@moz-4FE57F72.hsd1.wa.comcast.net)
[21:57:55] <krdln> strcat: yeah, you're right. but it's really unsafe.
[21:58:15] *** Quits: Havvy (Havvy@moz-4FE57F72.hsd1.wa.comcast.net) (Ping timeout)
[21:58:17] <strcat> krdln: if it's going to be unsafe anyway... ;p
[21:58:26] <strcat> the with_capacity trick is used with FFI all the time
[21:58:38] *** Joins: carllerche (carllerche@moz-2B516F15.hsd1.or.comcast.net)
[21:58:44] <strcat> C code that gives you the size of a buffer you need to allocate yourself
[21:58:51] <strcat> and then you set_len after
[21:59:51] <krdln> strcat: I'm just trying to use typesystem to make it as safe as possible.
[22:00:47] <strcat> krdln: making it *look* safe internally when it's not isn't helpful imo
[22:01:14] <strcat> unless you can guarantee that it's safe if construction was correct
[22:01:15] *** Quits: Matthias247 (Miranda@moz-678B5E4A.hsi2.kabel-badenwuerttemberg.de) (Connection reset by peer)
[22:01:18] *** Quits: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP) (Ping timeout)
[22:01:40] *** Quits: marianoguerra (marianogue@moz-D08D38B1.dip0.t-ipconnect.de) (Ping timeout)
[22:02:00] *** Joins: Rym (y@B38B74BC.61CF0AA7.51C6DE68.IP)
[22:02:34] *** Joins: Munchor (munchor@moz-8CFC84AD.yourvserver.net)
[22:02:38] *** Havvy[Hex] is now known as Havvy
[22:02:43] <krdln> strcat: thanks
[22:03:18] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[22:03:27] *** Joins: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com)
[22:04:01] *** Quits: Ms2ger (Ms2ger@moz-9FBF7DC.adsl-dyn.isp.belgacom.be) (Quit: nn)
[22:04:16] <paraze> er... http://paste.awesom.eu/9XVx -> I don't know what to do with father and children (new) and I get the error "can not assign to immutable field", with the cpy.is_root = true ('cause  The Rc type provides shared ownership of an immutable value  I think, so how to make it works ?)
[22:04:26] *** Quits: Havvy (Havvy@moz-4FE57F72.hsd1.wa.comcast.net) (Ping timeout)
[22:04:56] <cmr> paraze: store a RefCell<Node>, not a bare Node
[22:05:03] *** Joins: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP)
[22:05:36] *** Quits: Rym (y@B38B74BC.61CF0AA7.51C6DE68.IP) (Ping timeout)
[22:06:11] <strcat> any recommended library for audio recording? It'd be great if it also had the ability to create a wav rather than needing a separate lib
[22:06:24] <strcat> otherwise I'm stuck in portaudio hell ;p
[22:07:30] *** Joins: jensnock_ (jensnocker@moz-33279404.customers.ownit.se)
[22:08:24] <strcat> Please note that SDL 2.0 does not support recording yet; as such, this function will fail if iscapture is not zero. In the future, when recording is implemented, this value can be non-zero.
[22:08:26] <strcat> makes me sad.
[22:09:18] *** Quits: jensnock_ (jensnocker@moz-33279404.customers.ownit.se) (Ping timeout)
[22:09:25] *** Joins: jroweboy (Mibbit@moz-77F5D920.byu.edu)
[22:10:24] <o11c> strcat: eh? wav header is pretty trivial
[22:10:42] *** Joins: Denommus (user@237F30EB.6FA539A5.AD91B79.IP)
[22:11:14] <o11c> strcat: all my experience involves executing the 'arecord' program (requiring alsa)
[22:11:16] <jroweboy> Hello everyone! Something that I have seen in both rust-http and servo is codegen. Is codegen a rust specific thing or is it this http://codegen.codeplex.com/ ? Also, what are the advantages of using codegen to generate rust code instead of something like writing a macro?
[22:11:20] *** Joins: Rym (y@B38B74BC.61CF0AA7.51C6DE68.IP)
[22:11:35] <ChrisMorgan> jroweboy: it just means code generation.
[22:11:44] <strcat> o11c: well this has to work on linux *and* windows ;)
[22:11:55] *** Joins: canhtak (canhtak@moz-2C382DC9.wl.t.ulaval.ca)
[22:12:01] <o11c> strcat: then it sucks to be you
[22:12:08] <ChrisMorgan> rust-http's code generation is for things that macros were not able to do before loadable syntax extensions. Now that is the better way to do it.
[22:12:13] *** Joins: Havvy (Havvy@moz-4FE57F72.hsd1.wa.comcast.net)
[22:12:21] *** Joins: marianoguerra (marianogue@moz-D08D38B1.dip0.t-ipconnect.de)
[22:12:49] <jroweboy> ChrisMorgan: Where can I learn more about making loadable syntax extensions?
[22:13:12] <strcat> o11c: portaudio's docs make me sad ;\
[22:13:41] <krdln> jroweboy: https://github.com/mozilla/rust/pull/11151
[22:14:09] <strcat> o11c: http://www.portaudio.com/docs/v19-doxydocs/paex__record__file_8c_source.html
[22:14:12] *** Joins: skade (skade@moz-1EC0F118.pools.arcor-ip.net)
[22:14:17] <ChrisMorgan> jroweboy: ask sfackler to document them, then when he has done so, http://static.rust-lang.org/doc/master/guide-macros.html
[22:14:38] <strcat> o11c: I would not expect recording to a file to be so complicated...
[22:14:42] <o11c> strcat: when you say windows, do you mean "end-user systems" or "systems I control but that are forced to use windows for other reasons" ?
[22:14:44] *** Quits: dapz (textual@moz-ADE1780.hsd1.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[22:14:46] <kmc> jroweboy: https://github.com/mozilla/rust/pull/11151
[22:14:54] <strcat> o11c: I don't use windows ;p
[22:14:59] *** Quits: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com) (Ping timeout)
[22:15:05] <strcat> so yes, end-user
[22:15:21] <sfackler> jroweboy: also take a look at http://sfackler.github.io/syntax-ext-talk/#/
[22:15:21] *** Joins: johnsoft (johnsoft@moz-7E09A266.neo.res.rr.com)
[22:15:21] *** Joins: alan_and_ (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net)
[22:15:24] <strcat> o11c: portaudio is seriously way worse than using pulseaudio or alsa directly
[22:15:38] <strcat> I wonder how bad the win32 apis are
[22:15:41] <sfackler> the talk should also be up on air.mozilla.org
[22:15:50] <o11c> strcat: I was going to say, "if you can, just install pulse"
[22:15:53] <Denommus> if I call receiver.recv(), the task will wait until the sender sends something, right?
[22:16:01] <paraze> Er, I'll need some help tomorow, and ty cmr. ^^ sleep time...
[22:16:01] <jroweboy> ChrisMorgan: kmc: krdln: Thanks for the info! sfackler: awesome, I'll check that out then 
[22:16:05] *** Quits: paraze (paraze@moz-DAFFEE79.w90-27.abo.wanadoo.fr) (Quit: Quitte)
[22:16:12] *** Quits: tigrou3tac (fabien@moz-6E2397FF.fbx.proxad.net) (Ping timeout)
[22:16:20] *** Quits: alan_andrade (alan_andra@moz-B2C44770.car1.sanfrancisco1.level3.net) (Ping timeout)
[22:16:20] <kmc> Denommus: yes
[22:16:24] <strcat> o11c: a function like PaUtil_GetRingBufferReadAvailable makes me cry
[22:16:32] *** Quits: derek_c (derek@moz-2D6D10D7.cit.cornell.edu) (Ping timeout)
[22:16:49] <strcat> I'd prefer to just use sdl2, if only this part was finished ;p
[22:16:55] *** Joins: derek_c (derek@moz-2D6D10D7.cit.cornell.edu)
[22:17:10] <Denommus> kmc: so, what would be the best way for me to break two tasks running infinite loops? With a RWArc, or something else?
[22:17:14] <o11c> strcat: go help implement it?
[22:17:16] <comex> builder.rs:29:6: 29:13 error: found module name used as a type: impl TypeRef::TypeRef (id=37)
[22:17:24] *** Quits: derek_c (derek@moz-2D6D10D7.cit.cornell.edu) (Input/output error)
[22:17:35] <comex> i'm making a copy of rustc's Type thingy, but trying to change it to work directly on TypeRef to reduce bloat
[22:17:37] <strcat> o11c: this portaudio sample also has UB from data races
[22:17:57] <o11c> I don't need to be told how bad portaudio is
[22:17:58] <cmr> comex: which Type thingy?
[22:18:11] *** Quits: Guest_ (textual@moz-6FD8C94B.hfc.comcastbusiness.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[22:18:12] <strcat> hm
[22:18:17] <comex> Type in type_.rs, which wraps TypeRef from llvm.rs
[22:18:26] <comex> which is pub type TypeRef = *Type_opaque;
[22:18:50] <comex> but I guess I need an actual trait to impl
[22:18:59] <kvanb> cmr: I get a python error
[22:19:08] <kvanb> no snapshot file found for winnt-x86_64
[22:19:11] <kvanb> when building
[22:19:11] <eibwen> does someone know who kballard is? is heo n this IRC? (https://github.com/kballard/rust-lua/)
[22:19:22] <cmr> kvanb: you're using the wrong target triple.
[22:19:28] <cmr> Eridius: ^
[22:19:38] <cmr> comex: no, you just can't impl on typedefs.
[22:19:42] <kvanb> okay, so I need the host triple as x64 but the target triple as x86?
[22:20:07] <kvanb> it's a shame there is no 64-bit support for windows
[22:20:15] <cmr> kvanb: no, you just plain can't use winnt-x86_64
[22:20:28] <kvanb> the whole point of my patch is to make it build under mingw x64
[22:20:30] <jroweboy> Another documentation related question I have is is there somewhere that explains the differences between a Ref, RefCell, and Cell? I had someone in my group ask me about that and I have no idea so I'd like to read up on them
[22:20:36] <kvanb> I've already added the defs into the configure scripts and such
[22:20:48] <cmr> jroweboy: search the std docs for Ref, RefCell, and Cell
[22:20:50] <cmr> kvanb: oh that!
[22:20:58] <cmr> kvanb: yeah you need to make a new snapshot for the platform.
[22:21:03] <cmr> kvanb: sorry, lost context for a bit
[22:21:10] <kvanb> is that hard?
[22:21:16] <jroweboy> cmr: this page? I don't think you mean this one cause its got like nothing on it http://static.rust-lang.org/doc/master/std/cell/index.html
[22:21:18] <cmr> not extremely so.
[22:21:27] <cmr> jroweboy: click the types
[22:21:32] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[22:21:37] <jroweboy> Usually the crate pages have really useful info on them
[22:21:39] *** Joins: Denommus` (user@79485229.20CA00E6.AD91B79.IP)
[22:21:41] <strcat> o11c: openal looks a lot saner...
[22:21:41] *** Quits: vikstrous (v@13F2CEC5.7672369.D8E68FF6.IP) (Ping timeout)
[22:21:47] <cmr> kvanb: you just need to cross-compile a rustc
[22:21:52] <cmr> for the target
[22:21:58] <cmr> and then... after that I don't really know.
[22:22:02] <cmr> brson: ping
[22:22:11] *** Joins: sp3d (s@6361F3B1.19CD1E54.8354FB35.IP)
[22:22:15] <kvanb> I have rustc 0.9 installed, not good enough?
[22:22:15] <o11c> strcat: true ... I just think of OpenAL as *unnecessary* usually ...
[22:22:20] *** Quits: Denommus (user@237F30EB.6FA539A5.AD91B79.IP) (Ping timeout)
[22:22:22] <cmr> kvanb: no
[22:22:39] <cmr> strcat: last I was looking around I couldn't find much docs on openal...
[22:22:43] *** Joins: dapz (textual@moz-ADE1780.hsd1.ca.comcast.net)
[22:23:07] <cmr> kvanb: it needs to be the same revision as the rest of the snapshots
[22:23:12] <cmr> kvanb: see src/snapshots.txt
[22:23:13] <strcat> cmr: no docs > portaudio docs
[22:23:21] <cmr> strcat: hahah, are they really that awful?
[22:23:21] <jroweboy> I have read all those pages :/ Each of them have a short sentence that says something like "A mutable memory location with dynamically checked borrow rules" I don't understand when this is useful and there are no examples for it either. I wouldn't mind adding docs to it myself if I only understood what they were used for :)
[22:23:30] <strcat> cmr: yes they are full of undefined behaviour and memory leaks
[22:23:30] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Ping timeout)
[22:23:35] <strcat> cmr: and they have examples that only work on windows
[22:23:37] <strcat> so what's the point
[22:23:43] *** Quits: Denommus` (user@79485229.20CA00E6.AD91B79.IP) (Ping timeout)
[22:24:04] *** Quits: dapz (textual@moz-ADE1780.hsd1.ca.comcast.net) (Quit: Textual IRC Client: www.textualapp.com)
[22:24:19] <strcat> makes me wonder about the library quality when there are obvious mem leaks in the examples
[22:24:33] <strcat> hm, or sfml
[22:24:37] <kvanb> whats the point of this snapshot file
[22:24:39] *** Quits: Ferreus (ferreus@moz-97A05E43.lsn.wtnet.de) (Quit: WeeChat 0.4.4-dev)
[22:24:40] <kvanb> thats a bloody lot of stuff
[22:24:51] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[22:25:03] <brson> cmr: pong
[22:25:19] <cmr> brson: kvanb has a working mingw-w64 port it seems! he's at the point where he needs a snapshot.
[22:25:27] *** Joins: Denommus (user@79485229.20CA00E6.AD91B79.IP)
[22:25:42] <cmr> kvanb: it lists the date and commit and platform and git commit for that platform.
[22:25:46] <cmr> kvanb: to fetch and use a snapshot
[22:25:53] <comex> it's annoying that rustc waits for one phase to completely finish without errors before displaying any errors from the next phase
[22:25:57] <strcat> http://www.sfml-dev.org/tutorials/2.0/audio-recording.php glorious!
[22:25:57] *** Quits: Florob (Florob@moz-39532932.de) (Client exited)
[22:26:02] <comex> fix all the bugs, and then, suddenly 41 new ones
[22:26:19] <cmr> kvanb: 1. rustc needs an exact version to build with, 2. it keeps a (secure!) log that we can go back to if we need to of the entire history
[22:26:32] <cmr> to help mitigate attacks on the compiler
[22:26:33] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[22:26:42] <kmc> secure until somebody finds a SHA1 collision, which will happen pretty soon
[22:26:54] <brson> cmr: i am trying to get the snapshot bots back online
[22:27:22] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[22:27:24] <kvanb> so, brson, can that bot build me a snapshot.
[22:27:25] *** Joins: lerc (quassel@moz-289EFA2.telstraclear.net)
[22:27:40] <sfackler> cmr: it seems to me that the snapshot file can contain the single newest snapshot and git's history provides the log
[22:27:44] <cmr> brson: sure but who and how does the original cross-compile, sets up the bot, etc.
[22:27:48] <cmr> sfackler: it probably could, yes.
[22:28:10] *** Quits: canhtak (canhtak@moz-2C382DC9.wl.t.ulaval.ca) (Quit: canhtak)
[22:28:25] <strcat> and there's conveniently already a mingw-w64-sfml package so I can be lazy ;p
[22:28:29] *** Quits: marianoguerra (marianogue@moz-D08D38B1.dip0.t-ipconnect.de) (Ping timeout)
[22:28:34] <brson> kvanb: we want to switch completely to mingw-w64, right?
[22:28:41] <kvanb> yes
[22:28:48] <kvanb> 64-bit target and 64-bit host
[22:28:57] <strcat> mingw-w64 covers 32-bit too
[22:29:08] <strcat> I'm cross-compiling 32-bit executables with it as we speak ;p
[22:29:11] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[22:29:27] *** Quits: jviereck1 (Adium@moz-24195EF9.dclient.hispeed.ch) (Quit: Leaving.)
[22:29:31] <kvanb> 32-bit is pretty bad for compiling performant code nowadays. doesn't have enough registers for llvm to play with
[22:29:38] *** Quits: lerc (quassel@moz-289EFA2.telstraclear.net) (Client exited)
[22:29:42] <strcat> rust still needs to support it
[22:29:44] <brson> kvanb: how is the mingw-64 build bootstrapped from the current mingw build?
[22:30:11] *** Quits: cschneid (cschneid@moz-CA025D57.ip.mcleodusa.net) (Ping timeout)
[22:30:19] <kvanb> I don't think I've figured that out yet. I have a 32-bit rustc on PATH, and literally all I've done is setup the necessary things in configure to setup the proper host/target triple
[22:30:22] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[22:30:41] <strcat> brson: hm, didn't vadimcn have that working?
[22:30:47] <brson> i think so
[22:31:01] <brson> kvanb: oh, so you don't have a mingw-64 build?
[22:31:18] <cmr> kvanb: ./configure --enable-targets=i686-pc-mingw,x86_64-winnt
[22:31:23] <cmr> or whatever the targets are
[22:31:52] <Denommus> does Rust have an asynchronous channel API?
[22:31:55] <kvanb> I guess I have to do that from mingw32
[22:32:04] <bvssvni> yahoo! finished copying Cairo docs
[22:32:04] <doomlord_> hello Denommus 
[22:32:17] *** Joins: lerc (quassel@moz-289EFA2.telstraclear.net)
[22:32:18] *** Quits: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net) (Quit: ChatZilla 0.9.90.1 [Firefox 27.0.1/20140212131424])
[22:32:19] <vadimcn> kvanb: beware that win64 rustc generates broken code when optimization is on
[22:32:26] <comex> builder.rs:150:13: 150:23 error: cannot index a value of type `std::vec_ng::Vec<*rustc::lib::llvm::Type_opaque>`
[22:32:35] <comex> huh, I hope indexing will be overloadable soon
[22:32:37] <cmr> Denommus: not particularly?
[22:32:50] <cmr> Denommus: I mean there's try_send and try_recv
[22:32:53] <Denommus> doomlord_: hi
[22:33:04] <brson> kvanb: vadimcn is probably the best to talk to about windows porting issues. he's done a lot of the existing work
[22:33:15] <kvanb> vadimcn: one step at a time
[22:33:27] <Denommus> cmr: if the other task didn't send anything, does try_recv returns some kind of failure?
[22:33:31] <kvanb> I had to patch some assembler files already to get the build to progress
[22:33:36] *** Quits: pcwalton (pcwalton@moz-24157589.mtv2.mozilla.com) (Quit: pcwalton)
[22:33:40] <cmr> Denommus: look at its docs
[22:33:43] <kvanb> and then it hit the snapshot error
[22:33:47] <cmr> jroweboy: sorry about the delay
[22:33:55] <kvanb> so now I'm using 32-bit to build a 64-bit rust like suggested, I think
[22:33:58] <kvanb> and then I'll try and resume
[22:34:03] <cmr> jroweboy: so Ref is just the return type of RefCell::get(), you never need to use it.
[22:34:09] <kvanb> rather, a 32-bit rust which can build for 64-bit
[22:34:27] <Denommus> cmr: also, is there some way to know when a task has ended?
[22:34:35] <doomlord_> i see you can't impl another crates' trait for another crates' type, is that just when those are both from the same "other crate"
[22:35:23] <doomlord_> or does it have to be either your type or your trait for you to implement it, always
[22:35:28] <cmr> doomlord_: always
[22:36:02] <kimundi> jroweboy: I could explain to you the differences about ef, RefCell, Cell etc if you want :)
[22:36:04] <cmr> jroweboy: RefCell is for "interior mutability". That is, with an immutable reference to one, you can still mutate its contents, by using borrow_mut. It does checks at runtime and will fail if you violate the aliasing rules.
[22:36:15] <cmr> jroweboy: Cell is pretty much the same thing but for Pod types.
[22:36:20] <kimundi> Wait, cmr just started doing that...
[22:36:21] *** Joins: orospakr (orospakr@moz-4514BEF2.cpe.teksavvy.com)
[22:36:23] <jroweboy> cmr: As in I should never need to make a Ref right? Its just something returned from a RefCell always. And no big deal about taking a while. I've got an hour till next class 
[22:36:28] <brson> kvanb vadimcn: just fyi, there's a lot of automation-related stuff going on right now - fixing the fallout from the office move, then moving bors and buildmaster to a new machine, getting the 0.10 release out, updating the automation for new installers. upgrading our windows environment is my next priority after all those things
[22:36:54] <brson> it's good to get the mingw-w64 conversion ready to go
[22:36:57] <cmr> jroweboy: slightly lower overhead than RefCell because it doesn't need the so-called borrow flag, 
[22:36:58] <vadimcn> brson: so you are going to go to mingw-w64?
[22:37:03] <brson> vadimcn: yes
[22:37:09] <brson> vadimcn: that's what you want, isn't it?
[22:37:11] <kimundi> oh, 0.10 is happening too already?
[22:37:19] <brson> kimundi: early april
[22:37:21] <cmr> jroweboy: correct, you can't construct a Ref yourself, only get it from RefCell
[22:37:31] <kimundi> Ah, so still a few weeks off
[22:37:35] <kvanb> so just to confirm, I *should* be running what cmr said above and building the 64-bit capable 32-bit rust?
[22:37:37] <vadimcn> brson: yes, probably makes sense
[22:37:53] <kvanb> I dont know why, but -j doesn't work so these take hours..
[22:38:13] *** Joins: mib_k29696 (Mibbit@moz-1BB03833.lnk.telstra.net)
[22:38:41] <cmr> kvanb: and then you can build the snapshot with that
[22:38:50] <vadimcn> kvanb: not so fast.   firstly, you'll need to fake stage0 download for x86_64
[22:38:50] <cmr> make sure to checkout a version that works with it, though ... it can be painful
[22:39:09] <vadimcn> and add it to snapshots.txt
[22:39:21] <kvanb> surely I dont need to add it everywhere
[22:39:23] <kvanb> just the top one?
[22:39:37] <jroweboy> What does it mean exactly by a dynamically checked borrowed pointer though. I guess a statically checked borrowed pointer is a &'lifetime, but what kind of advantages does one get by using a RefCell instead?
[22:39:38] <cmr> yes, of course
[22:39:49] <kvanb> ok. I'll go grab a random git hash
[22:39:51] <cmr> jroweboy: it's not about lifetime, it's about mutability.
[22:40:06] <vadimcn> secondly, there's stuff missing in libstd to compile for win64
[22:40:21] <cmr> kvanb: well it needs to be one that 1. builds for the target, 2. can build the #[cfg(stage0)] stuff
[22:40:25] <cmr> listen to vadimcn though :P
[22:40:25] <strcat> why not start by using mingw-w64 for the 32-bit build?
[22:40:32] *** Quits: asmyers (quassel@moz-71754EDC.hsd1.md.comcast.net) (Ping timeout)
[22:40:47] <vadimcn> strcat: that already works fine
[22:41:18] <kvanb> uh, wiat, so is there some scientific method to grabbing this hash
[22:41:19] <strcat> ah, so the bots could already just be switched to it
[22:41:27] <cmr> jroweboy: so you can for example store a Rc<RefCell<T>>
[22:41:38] <cmr> jroweboy: Rc treats its contents as immutable
[22:41:55] <cmr> jroweboy: but you can mutate its contents
[22:42:26] <cmr> jroweboy: the pointer aliasing rules say 1. you can't have two &mut pointing to the same thing, 2. you can't have a &mut and a & pointing to the same thing
[22:42:31] <cmr> so it needs to enforce that
[22:42:35] <abinader> anyone knows why am I having a segfault here? https://gist.github.com/brunoabinader/9631399
[22:42:38] <jroweboy> And this Rc can be any kind of Rc like Arc CowArc or RWArc? 
[22:42:40] <cmr> it used to be that we had a bunch of types that all did this checking themselves
[22:42:46] <cmr> like RcMut, @mut, etc
[22:42:57] <cmr> it was just factored out into RefCell (which used to be called Mut<T>)
[22:43:02] <kvanb> vadimcn: I'll take it one step at a time
[22:43:15] <kvanb> I'm happy to add all the support and debug libstd and whatever if people walk me through the other steps
[22:43:21] <cmr> jroweboy: well, yes. any type that doesn't require Freeze.
[22:43:52] <kvanb> I've got some minimal experience hacking with build systems because I added windows support (from nothing) to the disciplined disciple compiler
[22:44:21] <cmr> jroweboy: Freeze means that it obeys inherited mutability. That is, it's deeply immutable if you have a & too it. RefCell obviously isn't because you can mutate it (borrow_mut) with just a &
[22:44:26] <bvssvni> abinader: I would recommend &mut instead of ~ in do_something_with_test
[22:44:37] <kimundi> jroweboy: You can use RefCell for anything task local - so Rc<T>, Gc<T> etc, but not Arc<T>
[22:45:02] *** Quits: gimpf (gimpf@moz-DB86CEB0.adsl.highway.telekom.at) (Ping timeout)
[22:45:09] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[22:45:11] <abinader> bvssvni: hmm, lemme try that :-) thanks!
[22:45:13] <kvanb> uh, I get
[22:45:20] <kvanb> --enable-targets=... not recognised
[22:45:28] <kimundi> jroweboy: For shares across thread boundaries, you need the threadsafe version of RefCell, which is called RWlock :)
[22:45:30] <kvanb> when I run ./configure with it afterwards
[22:45:35] *** Joins: tautologico (uid22285@moz-A42E5B7B.irccloud.com)
[22:45:41] <bvssvni> abinader: what version of rust are you running?
[22:45:43] <vadimcn> kvanb: I'll try to update my win64 changeset sometime soon and share it out, so you can start from state-of-the art
[22:45:51] *** Quits: tomh- (uid501@moz-E77DEB21.irccloud.com) (Quit: Connection closed for inactivity)
[22:45:53] <abinader> bvssvni: segfault sitll
[22:45:56] <kvanb> okay
[22:45:58] <abinader> bvssvni: servo's rust
[22:46:09] <abinader> lemme check rust's trunk
[22:46:13] <kvanb> vadimcn: eta?
[22:46:16] <jroweboy> kimundi: Oh! I haven't read about RWLock yet. That may be what I was looking for though. Lemme read up on it
[22:46:27] *** Havvy is now known as Havvy|out
[22:46:41] <cmr> jroweboy: RefCell is for within a single task, RWLock is a reader-writer lock for between tasks.
[22:46:46] <vadimcn> kvanb: hard to say.  I'll try by tomorrow.  
[22:46:52] *** Quits: Rym (y@B38B74BC.61CF0AA7.51C6DE68.IP) (Ping timeout)
[22:46:55] <bvssvni> abinader: as far as I know, servo's rust is a bit old and may still have bugs
[22:47:01] <kvanb> there's no rush
[22:47:09] <kvanb> thanks
[22:47:12] <vadimcn> sure
[22:47:24] <kvanb> anyone know if somebody has tried porting haskells stm to rust
[22:47:27] <kimundi> jroweboy: Not sure if it landed yet - I remember a PR a few days ago that turned RWArc<T> and MutexArc<T> into Arc<RwLock<T>> and Arc<Mutex<T>>
[22:47:44] *** Joins: Rym (y@B38B74BC.61CF0AA7.51C6DE68.IP)
[22:48:09] <kimundi> That is, it applied the same "one reference counting type that can be combined with dynamic borrow checking" factoring we have for Rc<T> now
[22:49:33] <abinader> bvssvni: yep, servo's rust version is being upgraded as we speech, hopefully it is addressed
[22:49:58] <jroweboy> kimundi: In my opinion the PR's way seems much cleaner in the sense that the same style you learn for using Rc<RefCell<T>> will also apply to Arc<RwLock<T>> :)
[22:50:11] <kimundi> yeah
[22:50:34] *** Joins: sw17ch (sw17ch@moz-675AFBCF.hsd1.mi.comcast.net)
[22:50:44] <kimundi> Its getting more composable that way too
[22:51:24] <kimundi> Can have a mostly immutable shared struct in a Arc with only one field that contains a RwLock for example
[22:51:50] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[22:52:48] *** Quits: dherman (dherman@moz-62518563.mtv2.mozilla.com) (Quit: dherman)
[22:53:12] <kvanb> vadimcn: the other thing, is I'm building using msys2
[22:53:25] *** Quits: Rym (y@B38B74BC.61CF0AA7.51C6DE68.IP) (Ping timeout)
[22:53:26] <kvanb> I'm not sure if that's different from what's desired, but it's certainly what everyone is moving to nowadays
[22:53:37] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[22:54:04] <strcat> o11c: I used portaudio anyway ;s, it works
[22:54:38] <strcat> the quality is absolutely terrible
[22:54:40] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Quit: Leaving)
[22:54:58] *** Joins: Rym (y@B38B74BC.61CF0AA7.51C6DE68.IP)
[22:55:16] <strcat> I can record myself talking and it just sounds like a ceiling fan and some beeping
[22:55:18] <cmr> strcat: working on anything interesting?
[22:55:24] <strcat> cmr: not really
[22:55:24] <vadimcn> kvanb: I'm using mingw's msys.   that would me msys1, right?
[22:55:28] <cmr> this just in: strcat is a robot
[22:55:36] <vadimcn> er, "would be"
[22:55:41] <kvanb> uh, mingws msys is kind of frankenstein
[22:55:52] <kvanb> its some ultra old version from aaages ago
[22:56:04] <strcat> kvanb: also breaks on large files (>4GiB)
[22:56:06] <strcat> it's junk ;p
[22:56:12] <kvanb> msys2 has a package manager, swappable 32-bit and 64-bit environments
[22:56:19] <kvanb> make -j that doesn't deadlock
[22:56:25] <cmr> ohh a non-deadlocking make!
[22:56:26] <kvanb> and a few other excellent improvements
[22:56:29] <cmr> such luxury
[22:56:36] *** Quits: int3_ (int3_@moz-F4EBDD71.lightspeed.cicril.sbcglobal.net) (Client exited)
[22:56:38] <kvanb> well, heh, mingw has always had a broken make
[22:56:40] <SiegeLord> I couldn't install msys2 :P
[22:56:44] <vadimcn> ok, well then it probably works just as well
[22:56:44] <kvanb> if you make -j build anything it just freezes
[22:56:46] <strcat> cmr: commands that don't truncate >4GiB files...
[22:56:54] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[22:56:56] *** Joins: int3_ (int3_@moz-F4EBDD71.lightspeed.cicril.sbcglobal.net)
[22:57:07] <kvanb> the thing is, it can work too well
[22:57:09] <strcat> cmr: mingw-w64 is great simply by being in the arch repos though ;p
[22:57:16] <kvanb> it has an emulation layer for linux including all the linux header files
[22:57:20] <strcat> cmr: pacman -S mingw-w64-toolchain
[22:57:22] <cmr> strcat: I agree
[22:57:28] <cmr> such laze
[22:57:33] <kvanb> so if something builds on msys2 it doesn't necessarily mean it's going to build on msys1
[22:57:59] <strcat> cmr: on that note I kind of feel like deleting all of the old mingw32 packages from the aur
[22:58:12] <cmr> strcat: please do, they clutter up my search ;P
[22:58:13] <kvanb> it also does some tricky things, like it defines __UNIX__ and doesn't define _WIN32, rather, _MSYS or something like that
[22:58:15] <kvanb> -___-
[22:58:23] <strcat> I clearly don't have enough hate mail already
[22:58:27] <cmr> heh
[22:58:28] *** Quits: glaebhoerl (glaebhoerl@3391DE98.E9231B2.A0179ACD.IP) (Ping timeout)
[22:58:35] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[22:58:44] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[22:58:52] *** Quits: int3_ (int3_@moz-F4EBDD71.lightspeed.cicril.sbcglobal.net) (Ping timeout)
[22:59:13] *** Joins: carrutstick (isaac@moz-D88D0022.med.upenn.edu)
[22:59:42] *** Quits: mitsuhiko (mitsuhiko-@moz-BC29B73E.srv.pocoo.org) (Ping timeout)
[22:59:52] <vadimcn> kvanb: I'm saying it builds on msys1, so it'll probably be just fine on msys2
[23:00:02] <kvanb> oh, okay.
[23:00:12] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[23:00:32] <kvanb> I wasn't aware that when you said you had something building on 64-bit you meant /actually/ building, so I assume the only work left to do is to fix up missing features and segfaults
[23:00:44] <kvanb> which is great!
[23:01:34] *** Quits: skade (skade@moz-1EC0F118.pools.arcor-ip.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[23:01:51] *** Quits: mib_fyz0aa (Mibbit@moz-7AD9232F.rev.numericable.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[23:01:59] <vadimcn> kvanb: ok, the status is this: it can build a 64-bit rustc with optimizations disabled, which, in turn can produce 64-bit executables
[23:02:23] <vadimcn> stack unwinding doesn't work though, so most tests don't pass
[23:02:35] *** Joins: olivernn (olivernigh@moz-7CE0F8.access.mtnbusiness.co.za)
[23:02:54] <carrutstick> Hi, rust novice here; trying to get parallelism to work, but I can't seem to engage multiple cores. Right now I'm setting RUST_THREADS=7 and using std::task::try. Am I on the right track?
[23:02:54] <kvanb> can it build optimized executables?
[23:03:13] <cmr> carrutstick: no, not at all.
[23:03:24] <cmr> task::try blocks on the task you spawn, waiting for the result
[23:03:25] <vadimcn> simple executables , yes, but something like libstd - no
[23:03:50] <vadimcn> I mean it compiles, but then segfaults at run time
[23:03:54] <kvanb> that's going to be hard to pinpoint, but well worth the effort.
[23:04:10] <kvanb> I guess starting with stack unwinding is probably a good idea
[23:04:25] <kvanb> anyway, gotta go to a job interview now ..
[23:04:28] <cmr> carrutstick: second, you should probably be using native::spawn if you want parallelism and not just concurrency. it will actually spwan threads.
[23:04:29] *** Quits: olivernn (olivernigh@moz-7CE0F8.access.mtnbusiness.co.za) (Ping timeout)
[23:04:30] *** Joins: nano (nano@moz-ED77243C.superkabel.de)
[23:04:30] <cmr> kvanb: good luck!
[23:04:37] <vadimcn> kvanb: yes.   I tried to figure out how to use bugpoint to track it down, but gave up.  For now at least.
[23:05:18] <kvanb> I specialize in binary forensics/reverse engineering so I should be able to help you out
[23:05:26] *** Joins: gimpf (gimpf@moz-DB86CEB0.adsl.highway.telekom.at)
[23:05:31] <kvanb> @ cmr thanks :)
[23:05:37] <kimundi> cmr: well libgreen is using multiple threads already, or not?
[23:05:47] <cmr> kimundi: no.
[23:05:50] <vadimcn> kvanb: good, nice to have you with us!
[23:06:05] <comex> is there a simple way to get rustc to print the filename corresponding to a particular 'extern crate'?
[23:06:05] <cmr> kimundi: well I mean yes, in that libuv might be using a threadpool...
[23:06:11] <carrutstick> cmr: thanks! is native in the standard library? I don't see it in the docs...
[23:06:17] <cmr> carrutstick: `extern crate native;`
[23:06:22] <kimundi> cmr: No? Is it just a single thread with... ah
[23:06:35] <cmr> carrutstick: http://static.rust-lang.org/doc/master/index.html
[23:06:43] <cmr> kimundi: you won't get any parallelism though.
[23:06:53] <kimundi> why not?
[23:07:02] <cmr> because the scheduler only runs on one thread.
[23:07:20] <kimundi> so, per default just one scheduler?
[23:07:28] <cmr> not actually sure tbh
[23:07:30] <cmr> http://static.rust-lang.org/doc/master/green/index.html
[23:07:44] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[23:07:56] <kimundi> Last information I rembered it spawned a number of schedulers equal to the number of cores
[23:08:12] <cmr> that might be how it works, but I had thought it only ran on a single thread
[23:08:19] <cmr> ahhh
[23:08:23] <cmr> pool.spawn_sched()
[23:08:45] <Denommus> doomlord_: are you using rust-sdl2?
[23:08:51] <Denommus> doomlord_: or pure OpenGL ES?
[23:09:37] <tautologico> is pattern matching the only way to access components of a tuple struct?
[23:09:42] <cmr> tautologico: yes
[23:11:35] *** Quits: awidegreen (awidegreen@moz-9FADBE94.a357.priv.bahnhof.se) (Ping timeout)
[23:13:09] <Tobba> oh hey
[23:13:11] <Tobba> Share is getting pulled
[23:13:17] <Tobba> whenever bors decides to anyways
[23:13:54] <abinader> bvssvni: rust's trunk doesn't sefaults :-)
[23:14:36] <jroweboy> sfackler: What flags do I need to add to your rust-postgres configure script in order to generate a dylib and rlib? Or is this something that I'll wanna add directly to the Makefile.in in the RUST_FLAGS section? 
[23:15:05] *** Quits: bvssvni (Mibbit@moz-A47B6F8E.bb.online.no) (Quit: http://www.mibbit.com ajax IRC Client)
[23:15:07] <cmr> --crate-type=rlib,dylib
[23:15:13] <cmr> probably in the RUST_FLAGS
[23:15:21] <kvanb> oh yeah, glad to gear cargo is coming back
[23:15:29] <kvanb> rustpkg is pretty bad..
[23:15:47] <kvanb> isn't cargo the original package manager that they discontinued...?
[23:15:53] *** Quits: nano (nano@moz-ED77243C.superkabel.de) (Connection reset by peer)
[23:15:57] <cmr> it's unrelated to the original cargo
[23:16:07] <kvanb> oh
[23:16:10] <kvanb> is it also a package build tool?
[23:16:15] <jroweboy> cmr: I was just wondering if there was a option to pass to configure, or if I should just add --crate-type to the Makefile.in directly :) I guess I'll just do that the former then
[23:16:18] <kvanb> if not, I'll be sad.
[23:16:29] <sfackler> jroweboy: it should already be generating both
[23:16:32] <sfackler> is it not?
[23:16:49] *** Quits: abinader (sid21713@moz-A42E5B7B.irccloud.com) (Quit: )
[23:17:01] <jroweboy> Its not on the copy that I have checked out o.o Lemme update the code and try to see if that was the problem
[23:17:56] <jmgao> is there any way to express [None, ..some_compile_time_constant]?
[23:18:02] *** Quits: ChrisOei (ChrisOei@moz-53A9266A.blurb.com) (Ping timeout)
[23:18:05] <sfackler> jroweboy: it should have been making both since at least 2/9/14
[23:18:17] <cmr> jmgao: only if it's actually a compile time constant, by rustc's definition of it
[23:18:21] <Denommus> I'm starting to think that SDL2 is not the best multitasking option for games -.-
[23:18:41] <strcat> Denommus: hm?
[23:18:51] <sfackler> jroweboy: https://github.com/sfackler/rust-postgres/blame/master/src/lib.rs#L58
[23:19:00] <sfackler> maybe something changed in the way those are handled?
[23:19:04] <jmgao> cmr: does "static foo: uint = 32" count?
[23:19:11] <cmr> jmgao: yes
[23:19:19] <Denommus> strcat: I don't know if I'm too dumb, but I can't get a simple library with an update and a draw tasks to run properly
[23:19:36] <jmgao> rustc is rejecting that snippet because Option<T> isn't copyable
[23:19:45] <strcat> Denommus: you need to do everything on the main thread on windows and OS X afaik
[23:19:52] <strcat> Denommus: nothing to do with sdl
[23:20:01] <strcat> (everything as in input and drawing)
[23:20:08] <jroweboy> sfackler: and that code is present on my version of it as well, it just wasn't outputting both :s I don't really know why either
[23:20:10] *** Quits: jyasskin_w (jyasskin@DAF66858.C60FE7DC.4065847B.IP) (Quit: Ex-Chat)
[23:20:20] <sfackler> is it only making an rlib or something?
[23:20:24] <Denommus> strcat: ... input must be done in the main thread? That makes having a different task for update... well, useless!
[23:20:54] <strcat> Denommus: on linux you can do it in any thread, but on OS X and windows I think your event loop needs to be on the main thread
[23:21:02] <strcat> rust also doesn't start you on the main thread
[23:21:29] <Denommus> I think I'll use OpenGL ES, then
[23:21:41] <strcat> Denommus: if you need to do input, you still need to do it on the main thread
[23:21:44] <strcat> with sdl or not
[23:21:52] *** Quits: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net) (Quit: Leaving)
[23:22:01] <strcat> (and opengl es won't cover that ;p)
[23:22:06] <jroweboy> sfackler: It is only making an rlib right now, but its probably my fault and I'm just forgetting something small :)
[23:22:21] <jmgao> strcat: i think it's actually subtler than that
[23:22:36] <jmgao> iirc, windows associates messages to a window with the thread that creates it
[23:22:46] <sfackler> jroweboy: i'm building a new copy of rustc to check it out
[23:23:00] <Denommus> strcat: hm, so should I capture the events in the main thread, and pass them to another task using a signal?
[23:23:24] <strcat> Denommus: well I think you should just leave the event handling on the main thread
[23:23:29] <strcat> you can do opengl rendering in another
[23:23:31] <strcat> afaik
[23:23:53] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[23:23:58] <jroweboy> sfackler: I am about 2 weeks behind in rust right now. I don't think updating will reproduce the problem 
[23:25:21] <sfackler> jroweboy: what rustc and rust-postgres commits?
[23:25:24] *** Joins: Jesin (Jesin@moz-3A2C5D36.washdc.fios.verizon.net)
[23:25:43] *** kimundi is now known as zz_kimundi
[23:26:10] *** Quits: carrutstick (isaac@moz-D88D0022.med.upenn.edu) (Quit: leaving)
[23:26:28] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Ping timeout)
[23:26:37] *** Joins: carrutstick (isaac@moz-D88D0022.med.upenn.edu)
[23:26:44] *** Parts: carrutstick (isaac@moz-D88D0022.med.upenn.edu) ()
[23:27:17] *** Joins: zmthy (zmthy@moz-C2881CC3.ecs.vuw.ac.nz)
[23:27:47] *** zz_kimundi is now known as kimundi
[23:28:29] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[23:29:16] <jroweboy> sfackler: 712c630ab is the hash of rust, and the rust-postgres version is the one at this fork https://github.com/jroweboy/rust-postgres Sorry I don't have any time to say anything more since I have to run to class right now :(
[23:30:10] *** Quits: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP) (Quit: buildmaster reconfigured: bot disconnecting)
[23:30:10] *** Joins: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP)
[23:30:53] <jroweboy> its only producing rlib so I added --crate-type=dylib,rlib to the Makefile.In. Maybe I'm misunderstanding something though, so I wouldn't be too worried :) 
[23:30:56] *** Joins: ChrisOei (ChrisOei@moz-53A9266A.blurb.com)
[23:31:01] *** Quits: jroweboy (Mibbit@moz-77F5D920.byu.edu) (Quit: http://www.mibbit.com ajax IRC Client)
[23:33:45] *** Joins: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net)
[23:34:34] <doomlord_> http://pastebin.com/Nc4WLQnY <<< this is how i was linking GL , however i was also bringing in a lib holding a C source whenever its' worked. Are you supposed to be able to do this with pure rust code ? do i need additional parameters to invoke rustc with here
[23:35:12] <cmr> doomlord_: -C link-args="$(pkg-config --libs gl)"
[23:35:22] <doomlord_> thanks
[23:35:28] <cmr> etc
[23:35:30] *** Quits: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net) (Ping timeout)
[23:35:36] <cmr> that works well for programs
[23:35:43] *** Quits: kngl1 (Adium@40AE2BF6.ABCDAFD6.7C797F8E.IP) (Quit: Leaving.)
[23:35:43] <cmr> but for libs link-args doesn't carry over to deps
[23:35:49] *** Joins: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net)
[23:35:50] <cmr> so your deps won't have those link-args passed
[23:36:12] <cmr> also of note is #[allow(warnings)];
[23:36:21] <krdln> I want to make something like the Iterable trait for my own, and I don't know what to do with lifetimes: https://gist.github.com/krdln/2194481b58649737b426
[23:36:21] <cmr> to silence every warning
[23:36:29] <cmr> and feature can take a comma-separate list
[23:36:38] <cmr> so #[feature(macro_rules, globs, ...)];
[23:37:05] <cmr> krdln: trait Iterable<'a, T, I: Iterator<&'a T>>
[23:38:11] <Denommus> strcat: sending the event after it was polled to the other task works
[23:38:21] <krdln> cmr: oh, seems simple. But it won't be a problem if I want to store Iterable in some struct?
[23:38:46] <cmr> krdln: not really a "problem", just needs a lifetime
[23:39:27] <krdln> cmr: but the struct would have to be templated over lifetime
[23:39:42] <cmr> krdln: so?
[23:40:26] *** Quits: colinsurprenant (colin@2AADC632.55903650.5DADCDAE.IP) (Quit: colinsurprenant)
[23:40:46] <krdln> cmr: hm, give me some time, I'll try. But I feel there will be a problem.
[23:41:13] <cmr> this approach is probably going to be unworkable for other reasons
[23:41:20] <cmr> but I wouldn't be able to tell you what they were
[23:41:33] <cmr> krdln: you could make it simpler by just using trait Iterable<T, I: Iterator<T>>
[23:41:40] <cmr> where T would sometimes be &'a Foo
[23:42:37] <krdln> cmr: that would be simpler, but I have use T in my usecase
[23:42:50] <cmr> hm?
[23:42:54] <krdln> have to*
[23:42:59] <cmr> you mean &T?
[23:43:22] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[23:43:48] *** Quits: Tobba (Tobba@moz-462B7F7F.ias.bredband.telia.com) (Ping timeout)
[23:44:50] <krdln> I want to have a struct containing some containter of T-s. And i want this container to have an iter() method.
[23:45:05] <cmr> sure
[23:46:11] *** Joins: rook (rook@moz-97AF7010.hsd1.mn.comcast.net)
[23:46:17] *** Quits: lawrence (lawrence@moz-D2AE8C65.chestnutresnet.utoronto.ca) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[23:46:53] *** Quits: tiffany (kawaii@moz-7AF84602.dhcp.embarqhsd.net) (Input/output error)
[23:47:38] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[23:49:10] *** Joins: pcwalton (pcwalton@moz-24157589.mtv2.mozilla.com)
[23:49:10] *** ChanServ sets mode: +ao pcwalton pcwalton
[23:49:13] *** Joins: cschneid (cschneid@moz-621ACC77.hlrn.qwest.net)
[23:51:10] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[23:51:12] <krdln> cmr: I refreshed gist. It compiles. Is that how I should implement it?
[23:51:48] <cmr> looks reasonable
[23:52:37] *** Joins: lucian (lucian@moz-8408FDFA.cable.virginm.net)
[23:52:59] <krdln> I forgot that we don't specify traits at struct definition and was woried that 'a will have to be Wrapper's parameter
[23:53:06] *** Joins: jmgrosen (user@moz-848F6087.sb.sd.cox.net)
[23:53:34] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[23:53:41] <jmgrosen> hmm, should vec and str slicing be special-cased, like it is for indexing?
[23:53:57] <jmgrosen> I say nay, but I'm not sure
[23:54:22] *** Quits: lucian (lucian@moz-8408FDFA.cable.virginm.net) (Ping timeout)
[23:54:34] <cmr> jmgrosen: once we have DST we can have a deref impl for Vec that returns a slice
[23:55:14] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[23:55:15] *** Joins: ehsanul (harish@moz-A9E56CFE.hfc.comcastbusiness.net)
[23:55:31] *** Parts: Soarez (Soarez@2CC54C74.962BAB29.F7A44A1B.IP) ()
[23:55:32] <jmgrosen> cmr: yeah, I'm aware; I think the special case indexing for vec and str are for performance reasons, though
[23:55:40] <cmr> no?
[23:56:01] <jmgrosen> hmmm... why, then?
[23:56:06] <jmgrosen> why don't they just impl Index?
[23:56:14] <cmr> Index can't express indexing on vecs.
[23:56:35] <cmr> also they existed before Index did
[23:56:41] <sfackler> cmr: doing deref like that will make for some pretty confusing behavior wrt magic methods that don't show up in the Vec docs but are callable on it
[23:56:53] <cmr> sfackler: not that the situation is much better today.
[23:57:02] <cmr> sfackler: but I consider that a good thing tbh
[23:57:02] <jmgrosen> cmr: why can't Index express indexing on vecs? (as it is now)
[23:57:17] <cmr> sfackler: all Vec needs is like push() and pop()
[23:57:38] <strcat> jmgrosen: Index as it is now is going to be removed
[23:57:44] <strcat> so it would be counterproductive to add more uses
[23:57:56] <strcat> code is just going to start using them and then need to be changed
[23:58:05] <jmgrosen> strcat: ah, I hadn't heard that; how's it going to be changed?
[23:58:05] <cmr> jmgrosen: how do you do *v[3] = bar with it?
[23:58:15] <strcat> jmgrosen: by making it work like it does on slices
[23:58:26] <jmgrosen> cmr: oh, that's what you mean, with LHS, okay
[23:58:29] <strcat> &x[0], &mut x[0], x[0], x[0] = 5
[23:58:32] <strcat> all those need to work
[23:58:39] <krdln> cmr: One more question: in each call to iter, there will be used different lifetime 'a, yes? ( https://gist.github.com/krdln/2194481b58649737b426 )
[23:58:42] <strcat> 3 or 4 traits
[23:58:56] *** Quits: eibwen (kvirc@moz-25FA2E23.dip0.t-ipconnect.de) (Ping timeout)
[23:58:56] <jmgrosen> yikes
[23:59:29] *** Joins: canhtak (canhtak@moz-2C382DC9.wl.t.ulaval.ca)
[23:59:48] <jmgrosen> so by making it work like it does on slices, do you mean like python's unified __getitem__?
