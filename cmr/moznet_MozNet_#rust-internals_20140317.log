[00:01:03] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[00:01:06] <nrc> what does # do?
[00:01:23] <cmr> in format strings or in raw strings?
[00:01:56] *** Joins: ghrust (ghrust@7BEB6F9D.6A2AE50.F3114085.IP)
[00:01:56] <ghrust> [13rust] 15bors pushed 2 new commits to 06auto: 02http://git.io/5bvLSQ
[00:01:56] <ghrust> 13rust/06auto 148b6592e 15Davis Silverman: Asked if missing (), then asks about an anonymous function. Also added test.
[00:01:56] <ghrust> 13rust/06auto 144e1172e 15bors: auto merge of #12937 : sinistersnare/rust/method-error-message, r=huonw...
[00:01:56] *** Parts: ghrust (ghrust@7BEB6F9D.6A2AE50.F3114085.IP) ()
[00:02:14] <nrc> both
[00:02:29] <cmr> in raw strings it serves as a delimiter
[00:02:33] <cmr> r###"..."###
[00:02:46] <cmr> same number of #, so you can use # inside.
[00:03:20] <cmr> in format strings I think it's just an arbitrary flag
[00:03:25] <cmr> I know for hex it prefixes it with 0x
[00:03:37] <acrichto> rusti: format!("{0, select, other{#}}", "test")
[00:03:38] -rusti- test
[00:04:17] <acrichto> cmr: yeah I'd love to have sub-spans in format string errors, sadly I don't think we can do that righ tnow :(
[00:06:23] *** Quits: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Ping timeout)
[00:07:59] *** Quits: vky (chatzilla@moz-402D01EB.dsl.dynamic.sonic.net) (Ping timeout)
[00:09:46] *** Joins: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[00:17:32] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[00:22:22] *** Joins: erickt (etryzelaar@moz-A3BF1793.mycingular.net)
[00:26:59] *** Quits: erickt (etryzelaar@moz-A3BF1793.mycingular.net) (Ping timeout)
[00:28:08] *** Joins: erickt (etryzelaar@moz-F52384F9.mycingular.net)
[00:31:46] *** Quits: erickt (etryzelaar@moz-F52384F9.mycingular.net) (Ping timeout)
[00:33:03] *** Quits: jyyou (jyyou@moz-47B052FA.cs.nctu.edu.tw) (Quit: Lost terminal)
[00:33:17] *** Joins: jyyou (jyyou@moz-47B052FA.cs.nctu.edu.tw)
[00:44:06] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[00:46:24] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[00:47:31] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[00:49:32] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[00:51:52] *** Joins: lpy (lpy@186A8F3A.F09091A8.1348A864.IP)
[00:53:09] *** Quits: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Ping timeout)
[00:54:13] *** Joins: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[00:54:13] *** Quits: angdev (angdev@16F167B.4C57D258.D8E8354F.IP) (Quit: My MacBook has gone to sleep. ZZZzzz‚Ä¶)
[00:58:51] *** Joins: vky (chatzilla@moz-402D01EB.dsl.dynamic.sonic.net)
[01:05:15] *** Quits: eibwen (kvirc@moz-11EA65C9.dip0.t-ipconnect.de) (Ping timeout)
[01:08:26] *** Joins: KimmyLeo (KimmyLeo@10931E07.6FD7A518.CB05CF38.IP)
[01:10:03] *** Quits: vky (chatzilla@moz-402D01EB.dsl.dynamic.sonic.net) (Ping timeout)
[01:15:51] *** Quits: strcat (strcat@moz-61B073BC.cpe.net.cable.rogers.com) (Quit: back later)
[01:17:36] *** Quits: rusti (rusti@moz-61B073BC.cpe.net.cable.rogers.com) (Ping timeout)
[01:17:46] *** Quits: rustilite (rustilite@moz-61B073BC.cpe.net.cable.rogers.com) (Ping timeout)
[01:24:49] *** Quits: glaebhoerl_ (glaebhoerl@moz-B5B88D72.catv.broadband.hu) (Ping timeout)
[01:27:13] <nrc> anyone else having trouble with make check?
[01:27:26] <nrc> I'm getting failure in linkage2.rs
[01:31:40] *** Quits: japaric1 (japaric@F125041E.42AF0950.5C7588CA.IP) (Ping timeout)
[01:41:00] <aatch> acrichto, it should be possible to have sub-spans...
[01:46:52] *** Joins: ghrust (ghrust@2E45E35D.6A2AE50.F3114085.IP)
[01:46:52] <ghrust> [13rust] 15bors merged 06auto into 06master: 02http://git.io/5bvLSQ
[01:46:52] *** Parts: ghrust (ghrust@2E45E35D.6A2AE50.F3114085.IP) ()
[01:47:22] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[01:49:20] *** Quits: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Ping timeout)
[01:49:35] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[01:49:53] *** Joins: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[01:51:30] *** Quits: KimmyLeo (KimmyLeo@10931E07.6FD7A518.CB05CF38.IP) (Client exited)
[01:51:53] *** Joins: ghrust (ghrust@511FAEBD.6A2AE50.F3114085.IP)
[01:51:53] <ghrust> [13rust] 15bors pushed 0 new commits to 06auto: 02http://git.io/tEknnw
[01:51:53] *** Parts: ghrust (ghrust@511FAEBD.6A2AE50.F3114085.IP) ()
[01:53:24] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[01:56:34] *** strcat is now known as thestinger
[01:56:42] *** thestinger is now known as strcat
[01:56:46] *** Joins: KimmyLeo (KimmyLeo@10931E07.6FD7A518.CB05CF38.IP)
[01:56:46] *** Quits: KimmyLeo (KimmyLeo@10931E07.6FD7A518.CB05CF38.IP) (Connection reset by peer)
[01:57:43] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[01:57:47] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[01:58:06] <strcat> brson: for some reason rusti is banned from #servo ;s
[01:58:17] <cmr> acrichto: r? https://github.com/mozilla/rust/pull/12961
[01:58:31] * strcat was wondering why it was spewing errors
[02:01:18] <acrichto> cmr: can you render libstd docs?
[02:01:31] <cmr> acrichto: they're currently being scp'd over.
[02:01:36] <cmr> it's super slow, sorry :(
[02:01:37] <mrmonday> cmr: what does check-fast do exactly? doesn't seem to run any of the #[test] bits for the standard library? (or am I doing something wrong?)
[02:01:38] <strcat> acrichto: do you have op in #servo? I guess not
[02:01:48] *** Quits: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Quit: lkuper)
[02:01:54] <strcat> I think rusti must have triggered some spam threshold 
[02:01:56] <cmr> mrmonday: I think it just runs compile-fail and run-pass tests.
[02:02:00] * strcat has no idea though
[02:02:45] <mrmonday> is there any way to run the libstd tests on windows? on other platforms I was just using check-stage1, but that doesn't seem to work on Windows
[02:03:18] <cmr> mrmonday: it's quite possible that they just plain don't run.
[02:04:17] *** Joins: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[02:04:31] <mrmonday> I guess I won't worry about that then :p
[02:04:38] <brson> strcat: how do i unban rusti?
[02:04:52] <strcat> brson: I'm not sure which pattern it's banned with, can you look in /ban ?
[02:04:56] <strcat> it should list out all the patterns
[02:05:04] <strcat> look at /whois rusti or /whois strcat
[02:05:16] <strcat> and then /unban pattern should work
[02:05:27] <klutzy> check-fast runs stdtest afaik
[02:05:29] <strcat> rusti doesn't log very much ;s
[02:06:07] <brson> rusti is unbanned
[02:06:12] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Connection reset by peer)
[02:06:14] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[02:06:18] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[02:06:23] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[02:06:27] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[02:06:40] * strcat wonders how/why that happened though...
[02:07:27] <mrmonday> klutzy: weird, it doesn't seem to run for me :S
[02:07:31] <strcat> 22:08:51  -- | Mode #servo [+nf [5c#C5,7j#R5,3k#K5,10m#M5,5n#N5,6t#b]:10]
[02:07:34] <strcat> I blame whatever that means
[02:09:01] <acrichto> brson: what do you think of https://github.com/mozilla/rust/pull/12962 ?
[02:12:23] *** Joins: esummers_ (esummers@moz-3B015C90.wi.res.rr.com)
[02:12:31] *** Quits: esummers (esummers@moz-3B015C90.wi.res.rr.com) (Connection reset by peer)
[02:12:33] <klutzy> mrmonday: what tests are failed?
[02:16:44] *** Quits: lpy (lpy@186A8F3A.F09091A8.1348A864.IP) (Broken pipe)
[02:18:26] <brson> acrichto: it sounds right to me
[02:18:41] <acrichto> brson: you'll have to explain it to me later
[02:19:14] <mrmonday> klutzy: the test just plain don't run
[02:19:28] <mrmonday> nothing fails because the tests aren't run
[02:20:05] *** Quits: bytbox (s@moz-E1E7FAC3.washdc.fios.verizon.net) (Ping timeout)
[02:20:14] <strcat> acrichto: it works with drop/clone but the other methods should probably be double-checked
[02:20:17] <strcat> is unwrap gone now?
[02:20:22] <brson> acrichto: lol
[02:20:30] * strcat looks
[02:22:22] <strcat> yeah that's gone
[02:23:20] <klutzy> mrmonday: do you mean check-fast doesn't run check-stage2-std? or check-stage2-std doesn't work?
[02:24:10] <sinistersnare> woohoo my PR landed :) thanks so much guys!
[02:25:07] *** Quits: brson (brson@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: leaving)
[02:25:25] *** Quits: sunfish (chatzilla@moz-42DA0C69.dsl.dynamic.sonic.net) (Ping timeout)
[02:26:34] <mrmonday> klutzy: ooh, hadn't tried check-stage2-std, I'll give that a shot
[02:28:20] <sinistersnare> now its time to annoy the mods or /r/rust about it :)
[02:28:30] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[02:28:34] <klutzy> mrmonday: anyway bors log shows stdtest results: http://buildbot.rust-lang.org/builders/auto-win-32-opt/builds/4787
[02:28:37] <klutzy> for check-fast
[02:28:52] <mrmonday> weird that they didn't seem to be running for me
[02:28:54] <klutzy> so it's strange if your machine skips std during check-fast
[02:30:01] <mrmonday> I could just be being stupid, it's 2.30am here and the windows box I'm using takes a minimum of an hour to do anything involving the word make :<
[02:30:27] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[02:31:17] <klutzy> don't worry; just windows is stupid
[02:31:29] <klutzy> :P
[02:32:09] <klutzy> anyway if you're fixing library, you could do `make check-stage1-std NO_REBUILD=1`
[02:32:32] <mrmonday> also, this is the first time I've used Windows in years, it's very confusing :p
[02:36:19] *** Joins: lpy (lpy@186A8F3A.F09091A8.1348A864.IP)
[02:38:28] <mrmonday> I think I might have it *crosses fingers*
[02:45:32] *** Joins: vky (chatzilla@moz-402D01EB.dsl.dynamic.sonic.net)
[02:47:20] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[02:48:40] <mrmonday> oh, wow, there's something I thought would never happen
[02:48:56] <mrmonday> code I've written has better Windows support than BSD/OSX support
[02:48:57] <mrmonday> o.o
[02:49:31] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[02:51:06] *** Quits: madmoose (Hat@moz-E1973371.nerp.net) (Ping timeout)
[02:56:08] *** Joins: madmoose (Hat@moz-E1973371.nerp.net)
[03:16:04] *** Quits: gimpf (gimpf@moz-DF4B0476.adsl.highway.telekom.at) (Quit: Leaving.)
[03:17:21] *** Quits: lpy (lpy@186A8F3A.F09091A8.1348A864.IP) (Client exited)
[03:24:38] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[03:30:28] *** Joins: japaric1 (japaric@D63910DF.55B992BD.5C7588CA.IP)
[03:36:53] *** Joins: ghrust (ghrust@4089EBDC.6A2AE50.F3114085.IP)
[03:36:53] <ghrust> [13rust] 15bors merged 06auto into 06master: 02http://git.io/ro-C0g
[03:36:53] *** Parts: ghrust (ghrust@4089EBDC.6A2AE50.F3114085.IP) ()
[03:41:25] <nrc> can anyone help me with 'task '<main>' failed at 'assertion failed: !foo.is_null()', /home/nick/rust2/src/test/run-pass/linkage1.rs:29" when running make check with trunk?
[03:41:53] <nrc> I've tried make clean and configure and deletering by objdir, all to no avail
[03:41:58] *** Joins: ghrust (ghrust@4BC7FFDD.6A2AE50.F3114085.IP)
[03:41:58] <ghrust> [13rust] 15bors pushed 2 new commits to 06auto: 02http://git.io/5Y8YZQ
[03:41:58] <ghrust> 13rust/06auto 146b2888a 15Alan Andrade: getopts missing docs
[03:41:58] <ghrust> 13rust/06auto 146fa72df 15bors: auto merge of #12942 : alan-andrade/rust/docathon-getopts, r=alexcrichton...
[03:41:59] *** Parts: ghrust (ghrust@4BC7FFDD.6A2AE50.F3114085.IP) ()
[03:42:00] *** Joins: ghrust (ghrust@4089EBDC.6A2AE50.F3114085.IP)
[03:42:01] <ghrust> [13rust] 15bors pushed 0 new commits to 06auto: 02http://git.io/z1VCVQ
[03:42:01] *** Parts: ghrust (ghrust@4089EBDC.6A2AE50.F3114085.IP) ()
[03:42:10] <nrc> my poor jet lagged brain can't think of anything else
[03:43:11] * ChrisMorgan can't see how that is supposed to work
[03:44:04] <ChrisMorgan> Oh, yeah: ../auxiliary/linkage1.rs
[03:44:20] <nrc> but that should just work, right?
[03:44:35] <ChrisMorgan> Should do
[03:46:59] * nrc starts deleting random directories
[03:47:13] * nrc hopes he is not so jet lagged as to include ~ in that
[03:47:21] <ChrisMorgan> nrc: it's failing for me, too
[03:47:32] <ChrisMorgan> (Running `make check-stage1-rpass TESTNAME=linkage1`)
[03:49:04] * ChrisMorgan imagines that it's a genuine bug
[03:50:32] <nrc> shouldn't bors have noticed when it ran its tests?
[03:50:41] <nrc> am I being naive?
[03:50:42] <cmr> only if it broke on the bots.
[03:51:04] * nrc doesn't understand linking
[03:51:15] <ChrisMorgan> Sometimes things only break in certain places and situations ‚òπ
[03:51:22] <nrc> I'd assume if it worked on the bots, it would work locally
[03:51:29] <nrc> yeah
[03:51:51] <nrc> oh hey, it seems to have worked
[03:52:33] <nrc> i deleted all the run-pass stuff in tmp and my objdir and now it worked
[03:53:37] <nrc> I think only the first is necessary because I tried the second before without joy
[03:57:00] <nrc> filed https://github.com/mozilla/rust/issues/12966
[03:57:06] <ChrisMorgan> :-/
[03:59:12] *** Quits: zz_kimundi (kimundi@moz-31C8768.dip0.t-ipconnect.de) (Ping timeout)
[04:02:48] *** Joins: zz_kimundi (kimundi@moz-C61A47F0.dip0.t-ipconnect.de)
[04:02:49] *** zz_kimundi is now known as kimundi
[04:22:22] *** Quits: rook (rook@moz-97AF7010.hsd1.mn.comcast.net) (Quit: rook)
[04:25:02] *** Joins: lpy (lpy@8B40CDAC.F09091A8.1348A864.IP)
[04:30:15] *** Joins: erickt (etryzelaar@49C4075F.3AC15C18.2321E71E.IP)
[04:37:08] *** Quits: canhtak (canhtak@moz-2C382DC9.wl.t.ulaval.ca) (Quit: canhtak)
[04:42:15] *** Joins: jdm (jdm@moz-AC9499B2.cable.teksavvy.com)
[04:46:07] *** Quits: erickt (etryzelaar@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[04:47:05] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[04:49:27] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[05:01:52] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[05:02:10] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[05:03:38] *** aatch is now known as aatch|work
[05:27:00] *** Joins: ghrust (ghrust@2DCF43EA.6A2AE50.F3114085.IP)
[05:27:00] <ghrust> [13rust] 15bors merged 06auto into 06master: 02http://git.io/5Y8YZQ
[05:27:00] *** Parts: ghrust (ghrust@2DCF43EA.6A2AE50.F3114085.IP) ()
[05:31:57] *** Joins: ghrust (ghrust@4089EBDC.6A2AE50.F3114085.IP)
[05:31:57] <ghrust> [13rust] 15bors pushed 2 new commits to 06auto: 02http://git.io/sDDBFA
[05:31:57] <ghrust> 13rust/06auto 145026d11 15Matthew McPherrin: Doc-sprint: Document endian conversion functions
[05:31:57] <ghrust> 13rust/06auto 14eb68bee 15bors: auto merge of #12944 : mcpherrinm/rust/master, r=alexcrichton
[05:31:57] *** Parts: ghrust (ghrust@4089EBDC.6A2AE50.F3114085.IP) ()
[05:31:59] *** Joins: ghrust (ghrust@4BC7FFDD.6A2AE50.F3114085.IP)
[05:31:59] <ghrust> [13rust] 15bors pushed 0 new commits to 06auto: 02http://git.io/SCIydA
[05:31:59] *** Parts: ghrust (ghrust@4BC7FFDD.6A2AE50.F3114085.IP) ()
[05:32:11] <mcpherrin> yay 
[05:41:15] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Ping timeout)
[05:46:49] <nrc> oh, now I have the test failure back
[05:46:54] <nrc> this is not my day :-(
[05:47:05] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[05:49:31] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[05:58:02] *** Joins: edwardw (edwardw@24D7341C.32602B75.B9C6B12A.IP)
[05:58:11] *** Joins: xam (MaXYZW@moz-F787D177.dk.customer.tdc.net)
[05:59:02] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.3)
[06:07:57] *** Quits: carter (carter@moz-58F59B3A.members.linode.com) (Ping timeout)
[06:08:38] *** Quits: bstrie (ben@moz-D5A1D0F5.members.linode.com) (Ping timeout)
[06:10:38] *** Quits: xales (xales@moz-7DEA692E.forevernothing.com) (Ping timeout)
[06:11:06] *** Quits: friggle (friggle@moz-A607EAFA.members.linode.com) (Ping timeout)
[06:11:54] *** Joins: carter (carter@moz-58F59B3A.members.linode.com)
[06:11:57] *** Quits: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Quit: lkuper)
[06:12:17] *** Joins: bstrie (ben@moz-D5A1D0F5.members.linode.com)
[06:14:01] *** Joins: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[06:14:30] *** Joins: friggle (friggle@moz-A607EAFA.members.linode.com)
[06:14:41] *** Quits: nanotech (nanotech@moz-DD3580FD.members.linode.com) (Ping timeout)
[06:14:41] *** Quits: Edwards (MeltdownMo@moz-B62E1D6B.members.linode.com) (Ping timeout)
[06:15:18] *** Quits: edwardw (edwardw@24D7341C.32602B75.B9C6B12A.IP) (Quit: Leaving...)
[06:15:19] *** Joins: nanotech (nanotech@moz-DD3580FD.members.linode.com)
[06:17:01] *** Quits: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Quit: lkuper)
[06:18:06] *** Joins: Edwards (MeltdownMo@moz-B62E1D6B.members.linode.com)
[06:27:15] *** Joins: edwardw (edwardw@BF6575DE.1B2F6624.7F41E82D.IP)
[06:38:43] *** Quits: Diamond (dick@moz-80556682.ks.ks.cox.net) (Quit: Leaving.)
[06:40:05] *** Quits: bstrie (ben@moz-D5A1D0F5.members.linode.com) (Ping timeout)
[06:40:34] *** Quits: Edwards (MeltdownMo@moz-B62E1D6B.members.linode.com) (Ping timeout)
[06:40:39] *** Quits: nanotech (nanotech@moz-DD3580FD.members.linode.com) (Ping timeout)
[06:41:07] *** Joins: Edwards (MeltdownMo@moz-B62E1D6B.members.linode.com)
[06:41:22] *** Quits: xam (MaXYZW@moz-F787D177.dk.customer.tdc.net) (Quit: Computer has gone to sleep.)
[06:41:23] *** Quits: jdm (jdm@moz-AC9499B2.cable.teksavvy.com) (Quit: Lost terminal)
[06:41:39] *** Joins: xales (xales@moz-7DEA692E.forevernothing.com)
[06:43:36] *** Joins: bstrie (ben@moz-D5A1D0F5.members.linode.com)
[06:43:40] *** Quits: xales (xales@moz-7DEA692E.forevernothing.com) (Ping timeout)
[06:44:22] *** Joins: nanotech (nanotech@moz-DD3580FD.members.linode.com)
[06:46:16] *** Joins: bytbox (s@moz-E1E7FAC3.washdc.fios.verizon.net)
[06:47:06] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[06:47:09] *** Quits: carter (carter@moz-58F59B3A.members.linode.com) (Ping timeout)
[06:49:27] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[06:49:32] *** Joins: xales (xales@moz-7DEA692E.forevernothing.com)
[06:50:51] *** Quits: nanotech (nanotech@moz-DD3580FD.members.linode.com) (Ping timeout)
[06:51:28] *** Joins: carter (carter@moz-58F59B3A.members.linode.com)
[06:52:11] *** Quits: edwardw (edwardw@BF6575DE.1B2F6624.7F41E82D.IP) (Ping timeout)
[06:52:19] *** Quits: xales (xales@moz-7DEA692E.forevernothing.com) (Ping timeout)
[06:54:34] *** Quits: bstrie (ben@moz-D5A1D0F5.members.linode.com) (Ping timeout)
[06:55:02] *** Quits: carter (carter@moz-58F59B3A.members.linode.com) (Ping timeout)
[06:55:58] *** Joins: carter (carter@moz-58F59B3A.members.linode.com)
[06:58:06] *** Joins: bstrie (ben@moz-D5A1D0F5.members.linode.com)
[07:04:58] *** Quits: carter (carter@moz-58F59B3A.members.linode.com) (Ping timeout)
[07:10:29] *** Joins: carter (carter@moz-58F59B3A.members.linode.com)
[07:17:01] *** Joins: ghrust (ghrust@B750D19A.6A2AE50.F3114085.IP)
[07:17:02] <ghrust> [13rust] 15bors merged 06auto into 06master: 02http://git.io/sDDBFA
[07:17:02] *** Parts: ghrust (ghrust@B750D19A.6A2AE50.F3114085.IP) ()
[07:18:21] *** Quits: vky (chatzilla@moz-402D01EB.dsl.dynamic.sonic.net) (Quit: ChatZilla 0.9.90.1 [Firefox 28.0/20140306171728])
[07:22:00] *** Joins: ghrust (ghrust@4089EBDC.6A2AE50.F3114085.IP)
[07:22:00] <ghrust> [13rust] 15bors pushed 0 new commits to 06auto: 02http://git.io/K4OSqg
[07:22:00] *** Parts: ghrust (ghrust@4089EBDC.6A2AE50.F3114085.IP) ()
[07:22:01] *** Joins: ghrust (ghrust@49477F7E.6A2AE50.F3114085.IP)
[07:22:01] <ghrust> [13rust] 15bors pushed 2 new commits to 06auto: 02http://git.io/ufXdeA
[07:22:01] <ghrust> 13rust/06auto 145db7f7e 15Cadence Marseille: Add method Vec<T>::as_mut_ptr()
[07:22:01] <ghrust> 13rust/06auto 14b6d5b8f 15bors: auto merge of #12945 : cadencemarseille/rust/vec_ng-as_mut_ptr, r=alexcrichton
[07:22:01] *** Parts: ghrust (ghrust@49477F7E.6A2AE50.F3114085.IP) ()
[07:23:01] *** Joins: xales (xales@moz-7DEA692E.forevernothing.com)
[07:30:26] *** flaper87|afk is now known as flaper87
[07:31:04] *** Quits: xales (xales@moz-7DEA692E.forevernothing.com) (Ping timeout)
[07:32:35] *** Joins: eddyb (eddy@F8B50789.F33C1089.FB866788.IP)
[07:32:51] *** Quits: bstrie (ben@moz-D5A1D0F5.members.linode.com) (Ping timeout)
[07:34:03] *** Quits: carter (carter@moz-58F59B3A.members.linode.com) (Ping timeout)
[07:35:40] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[07:35:46] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[07:36:12] *** Joins: bstrie (ben@moz-D5A1D0F5.members.linode.com)
[07:38:02] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[07:38:02] *** Joins: carter (carter@moz-58F59B3A.members.linode.com)
[07:47:06] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[07:49:34] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[07:52:24] <eddyb> cmr: pffft
[07:52:32] <eddyb> I missed one unused import
[07:54:20] <eddyb> (because I didn't  compile again after removing an unused variable keeping that import alive)
[07:59:00] <eddyb> cmr: r? https://github.com/mozilla/rust/pull/12735
[07:59:07] <eddyb> (one line change)
[07:59:35] *** Joins: xales (xales@moz-7DEA692E.forevernothing.com)
[07:59:51] *** Joins: eibwen (kvirc@moz-F5B37D2F.dip0.t-ipconnect.de)
[08:05:54] *** Joins: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP)
[08:16:37] *** Joins: huon (Thunderbir@moz-826BD85A.lns20.syd6.internode.on.net)
[08:16:37] *** ChanServ sets mode: +o huon
[08:16:57] <huon> cmr: nice data
[08:21:00] *** Quits: lpy (lpy@8B40CDAC.F09091A8.1348A864.IP) (Connection reset by peer)
[08:21:12] *** Joins: lpy_ (lpy@8B40CDAC.F09091A8.1348A864.IP)
[08:23:53] <eddyb> what data?
[08:23:59] <cmr> irsy
[08:24:13] <eddyb> oh dear
[08:24:17] <eddyb> NOPE
[08:25:44] <eddyb> http://huonw.github.io/isrustfastyet/mem/#910012a oh, look, Vec<T>
[08:26:33] <eddyb> http://huonw.github.io/isrustfastyet/mem/#2eebeb8 :D
[08:26:50] <eddyb> okay, so 1.5GB wasn't my fault
[08:27:12] <eddyb> but for safe arena in tcx, I need a snapshot (lifetimes in traits)
[08:27:20] <eddyb> cmr: thanks btw
[08:27:34] <eddyb> I doubt the other change (dropping TLD) does much
[08:30:28] <eddyb> cmr: whenever you have time, if you believe this can help at all (and if still merges): https://github.com/mozilla/rust/pull/12770
[08:31:10] <cmr> eddyb: rebase and r+
[08:31:34] <eddyb> I mean, graph. I'm curious if it makes any visible change
[08:31:45] <cmr> oh
[08:32:05] <cmr> once the bencher is all caught up
[08:32:14] <eddyb> sure ::D
[08:32:25] <eddyb> (one day behind?)
[08:32:39] <cmr> it was like 20 days beind at one point.
[08:35:34] *** Quits: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Quit: ChatZilla 0.9.90.1 [Firefox 30.0a1/20140315030204])
[08:36:35] <eddyb> https://github.com/mozilla/rust/pull/12950/files docsprint is a pretty cool guy
[08:41:46] *** Quits: eibwen (kvirc@moz-F5B37D2F.dip0.t-ipconnect.de) (Ping timeout)
[08:42:45] <cmr> eddyb: I'm not convinced the Vec<T> spike is valid...
[08:43:10] <eddyb> how are you not?
[08:43:28] <cmr> oh nevermind I was looking at the wrong commits
[08:43:54] <eddyb> I wonder if my 4 words -> 3 words optimization shows up on there
[08:46:19] <cmr> do you have any idea why Vec is such a huge regression?
[08:46:24] <cmr> is it really just the new representation? :\
[08:46:35] <eddyb> yeah
[08:46:59] <eddyb> and OptVec was like 5 or 6 words when being Option<Vec<T>>
[08:47:05] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[08:47:09] <eddyb> we need the DST ~[T] or a library equivalent of it
[08:47:11] *** Joins: Zr40 (zr40@EE4BB9F5.926C319A.BE2F4011.IP)
[08:47:34] <eddyb> http://huonw.github.io/isrustfastyet/mem/#4d64441 my change must be in there. I wonder if the robin hood hashmap is really what makes that drop
[08:48:09] <cmr> look at the shapes of the graphs
[08:48:25] <cmr> also
[08:48:32] <cmr> it's using the stage2 rustc
[08:48:44] <cmr> so any and all changes from that PR are measures in the data from that PR
[08:49:17] <eddyb> mkay
[08:49:32] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[08:56:52] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[08:58:08] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[09:07:07] *** Joins: ghrust (ghrust@511FAEBD.6A2AE50.F3114085.IP)
[09:07:07] <ghrust> [13rust] 15bors merged 06auto into 06master: 02http://git.io/ufXdeA
[09:07:07] *** Parts: ghrust (ghrust@511FAEBD.6A2AE50.F3114085.IP) ()
[09:07:29] <eddyb> NEXT!
[09:08:07] <eddyb> any idea when brson will bring the snapshot bots back up? IIRC they were moving offices
[09:11:53] <kimundi> eddyb: I heard something about wednesday
[09:12:00] *** Joins: ghrust (ghrust@7BEB6F9D.6A2AE50.F3114085.IP)
[09:12:00] <ghrust> [13rust] 15bors pushed 0 new commits to 06auto: 02http://git.io/VPrqFA
[09:12:00] *** Parts: ghrust (ghrust@7BEB6F9D.6A2AE50.F3114085.IP) ()
[09:12:00] *** Joins: ghrust (ghrust@49477F7E.6A2AE50.F3114085.IP)
[09:12:01] <ghrust> [13rust] 15bors pushed 18 new commits to 06auto: 02http://git.io/p0cUmw
[09:12:01] <ghrust> 13rust/06auto 144fae068 15Eduard Burtescu: De-@ Session usage.
[09:12:01] <ghrust> 13rust/06auto 149b1fee8 15Eduard Burtescu: De-@ ty::ctxt usage.
[09:12:01] <ghrust> 13rust/06auto 140ba5f1b 15Eduard Burtescu: De-@ tyencode::ctxt and related parts of astencode.
[09:12:03] *** Parts: ghrust (ghrust@49477F7E.6A2AE50.F3114085.IP) ()
[09:12:13] *** Joins: aepsil0n (ebopp@moz-EF530DCB.ita.uni-heidelberg.de)
[09:13:54] * eddyb is tempted to remove .get/.get_mut/.insert methods on containers
[09:14:19] <eddyb> actually, that would be a disaster
[09:14:41] <eddyb> nmatsaki1: sorry, can't implement Index traits yet. we need the better method lookup who cares about mutability
[09:15:12] <eddyb> otherwise v[i].bar() will always do (*v[i].get_mut()).bar()
[09:16:08] <eddyb> nmatsaki1: I already don't attempt mutability when autoderefing &T. I wonder if just checking the mutability of an lvalue is enough to make most cases work
[09:17:00] <eddyb> nmatsaki1: ah, but here we need mem_categorization in typeck, because *foo() is an lvalue and its mutability depends on a lot of things
[09:17:44] <eddyb> huon: 17 commits in one PR. I hope you're proud :P
[09:27:46] *** Joins: glaebhoerl_ (glaebhoerl@moz-B5B88D72.catv.broadband.hu)
[09:28:04] *** Quits: glaebhoerl_ (glaebhoerl@moz-B5B88D72.catv.broadband.hu) (Quit: )
[09:28:08] *** Joins: glaebhoerl_ (glaebhoerl@moz-B5B88D72.catv.broadband.hu)
[09:28:31] <flaper87> eddyb: you could've done better
[09:28:34] * flaper87 is messing with eddyb
[09:28:48] * flaper87 hides
[09:28:53] <eddyb> flaper87: you go make a 6k PR
[09:29:12] <flaper87> eddyb: touch√© 
[09:29:15] <eddyb> hint: snake_case -> UpperCamelCase gives you a lot of lines
[09:29:27] * flaper87 has been avoiding PR >1k
[09:30:17] <flaper87> well, to be fair, it's not that I've been avoiding them but I haven't had the need :D
[09:30:37] <flaper87> eddyb: btw, glad to see fewer usages of @ :D
[09:30:55] <eddyb> I have to tell you this :P
[09:31:08] <eddyb> [17:34] <eddyb> CodeMap -> SpanHandler (where it already was) -> ParseSess (where it already was, alongside another copy of CodeMap)
[09:31:30] <eddyb> so it was like ParseSess {SpanHandler {CodeMap, Handler}, CodeMap}, CodeMap
[09:31:49] <eddyb> aliasing *and* refcounting
[09:32:51] <eddyb> I turned that into a linear ownership scheme. only FileMap is wrapped in Rc, because of how complicated its usage is
[09:42:33] *** nmatsaki1 is now known as nmatsakis
[09:46:34] <huon> eddyb: <3
[09:46:47] <huon> next time you can do 170
[09:46:51] <huon> and I'll be ever so happy
[09:47:06] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[09:47:18] <huon> :P
[09:47:26] <eddyb> nmatsakis is awake or something
[09:47:37] <eddyb> suddenly aware of identity issues :P
[09:49:14] <nmatsakis> hello 
[09:49:33] <nmatsakis> spend a weekend away from your computer...
[09:49:35] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[09:49:58] <nmatsakis> eddyb: regarding method lookup, that's part of the RFC I am supposed to write about traits
[09:50:01] <nmatsakis> :)
[09:50:17] <kimundi> yay, nmatsakis is back to fix the mess I caused with partial type hints \o/
[09:50:41] <eddyb> nmatsakis: I don't have time for weekends :P
[09:50:44] <kimundi> ;)
[09:50:45] <nmatsakis> kimundi: I haven't looked at that yet, but I think your PR was fine.... if there is a problem, it's probably related also to that trait resolution RFC :) 
[09:50:57] <kimundi> nmatsakis: hm, might be
[09:51:07] <kimundi> nmatsakis: the issue about whats going wrong: https://github.com/mozilla/rust/issues/12909
[09:51:14] <nmatsakis> yes, I saw the issue
[09:51:22] <kimundi> okay. :)
[09:51:23] <nmatsakis> I just didn't dig into it yet
[09:51:27] <flaper87> kimundi: u stop breaking things!!!! (says the guy that always breaks things)
[09:51:44] <nmatsakis> (I'm working on a couple of tight deadlines for some other stuff...so I haven't had many spare cycles)
[09:51:57] <nmatsakis> I think come april I will have more free time
[09:52:03] <eddyb> nmatsakis: at first sight, I'd say our inference is incapable of handling such indirections
[09:52:31] <kimundi> flaper87: The only thing I like more than breaking things is wasting an entire sunday on doing the exact opposite of what was wanted :P
[09:53:10] <eddyb> nmatsakis: that is, given B: FromIterator<A> and B = Vec<C>, it can't connect A and C
[09:53:15] <nmatsakis> yes, I saw your comment.
[09:53:25] <eddyb> I hope I wasn't being a complete dummy
[09:53:34] <nmatsakis> no you are correct that there is no direct connection,
[09:53:45] <nmatsakis> that's why I say it's related to the trait resolution algorithm
[09:53:52] <kimundi> nmatsakis: Ah, I understand if you don't have much time, just say so :)
[09:54:03] <eddyb> nmatsakis: oh, I see now
[09:54:05] <flaper87> kimundi: LOOOOOOOOOOOOOOOL, :D
[09:54:28] <huon> kimundi: :(
[09:54:39] <nmatsakis> eddyb: regarding the Index traits, why can't we implement them at first in a similarly hacky way as to what you did for deref?
[09:54:47] <nmatsakis> eddyb: that's what I expected to do
[09:54:52] <eddyb> nmatsakis: because it's even worse
[09:55:15] <eddyb> with DerefMut on RefCell's RefMut, it's not an issue because you couldn't do immutable .get() before
[09:55:45] <eddyb> but any smart pointer implementing DerefMut will kinda break :/
[09:55:51] <eddyb> for very simple use cases
[09:55:55] <eddyb> s/kinda//
[09:55:56] <flaper87> kimundi: FWIW, that has happened to me like tons of times :(
[09:56:00] *** Quits: huseby (huseby@moz-9D57B0ED.dhcp.embarqhsd.net) (Ping timeout)
[09:56:06] <eddyb> nmatsakis: and same with IndexGetMut on Vec<T>
[09:57:36] <eddyb> I'd rather have everyone move to indexing (even remove get/get_mut/set/insert) once the traits are in, and we can't do that if v[i].imm_method() calls IndexGetMut
[09:58:46] <nmatsakis> eddyb: ok, I just expected to land the code and have it not work right :)
[09:58:53] <nmatsakis> eddyb: until we fix the method resolution algorithm
[09:59:08] <nmatsakis> eddyb: but I agree there will be more prevelant problems
[10:01:59] *** Quits: glaebhoerl_ (glaebhoerl@moz-B5B88D72.catv.broadband.hu) (Ping timeout)
[10:02:26] *** Joins: glaebhoerl_ (glaebhoerl@moz-B5B88D72.catv.broadband.hu)
[10:04:11] *** Joins: jensnock_ (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[10:04:40] <eddyb> nmatsakis: would you have anything against Datum-izing a lot of things in trans?
[10:04:44] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Ping timeout)
[10:05:06] <eddyb> hah, I was thinking of C_struct as a counterexample
[10:05:53] <eddyb> but if you make it out of Datums, you can take each of its types and turn them into a ty_tup
[10:07:51] <eddyb> hmm, at some point, we could have it so we can swap one or two base constructs (say, Datum and Type) and just have it work with a completely different backend
[10:14:07] <nmatsakis> eddyb: no, I don't object to that
[10:14:15] <nmatsakis> my one concern is that we may stretch the meaning of a datum too far
[10:14:24] <nmatsakis> that is sometimes there are special cases that would require distinct modes etc
[10:14:37] <nmatsakis> of course I'm happier if we can just remove those
[10:14:53] <eddyb> like Pod ByValue Rvalues?
[10:15:13] <nmatsakis> (otoh, maybe those cases are mostly gone; I think as the language evolves, its semantics are moving more and more to have straightforward trans equivalents, and that is a good thing)
[10:15:36] <nmatsakis> yes, though those may be worth the trouble
[10:16:22] <nmatsakis> eddyb: I guess what I'd say is, let's go piecemeal, e.g., datum-ify match or something, and then proceed
[10:16:27] <nmatsakis> rather than one massive PR
[10:16:45] <nmatsakis> but it seems like a good thing to do
[10:17:05] <eddyb> I want to simplify call logic
[10:17:19] <eddyb> remember that enum, ArgExprs, ArgOverloadedOp and ArgValues?
[10:17:31] <nmatsakis> yes
[10:17:37] <eddyb> it would be an Iterator<Datum> instead, IMO
[10:17:42] <eddyb> *should
[10:17:52] <nmatsakis> yeah, I can see that
[10:18:08] <nmatsakis> be careful to preserve order of evaluation
[10:18:29] <eddyb> as long as it's LTR :P
[10:18:45] <nmatsakis> I mostly meant this:
[10:18:47] <nmatsakis> e0(e1, e2, e3)
[10:18:56] <nmatsakis> in that order :)
[10:19:04] <nmatsakis> i.e., also with respect to the func expr itself
[10:19:19] <eddyb> one of the issues with it is that a Deref trait object doesn't work
[10:19:29] <nmatsakis> shouldn't be too hard, I was just thinking that if you pull the "arg -> datum" trans too far out, you get trouble
[10:19:54] <nmatsakis> why doesn't a deref trait object work?
[10:20:04] <nmatsakis> (and why is that an issue here?)
[10:20:06] <eddyb> because trait objects need an expr
[10:20:38] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[10:20:39] <eddyb> it's just a silly special case that I want to get rid of
[10:20:49] <nmatsakis> why do they need an expr?
[10:20:53] * nmatsakis insufficiently caffeinated
[10:20:59] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[10:21:05] <eddyb> it's the old CalleeSomething path
[10:21:15] <nmatsakis> I have some vague memories of complications
[10:21:16] <eddyb> I removed most of it with the self & env changes
[10:21:27] <eddyb> meth and callee interactions, nasty stuff
[10:21:33] <nmatsakis> as an aside, I'd still like to see that change to pack the expr-id into the datum (hint, hint) ;)
[10:21:43] <nmatsakis> seems like it'd be helpful 
[10:21:45] <nmatsakis> for what you're taking about
[10:21:52] <nmatsakis> since if you have to arrange temp cleanup
[10:21:57] <nmatsakis> you'd not need to thread an expr id along
[10:22:19] <eddyb> I think I can solve that by just moving things around
[10:22:40] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Ping timeout)
[10:26:20] <eddyb> windows is *sooo* slow :(
[10:36:50] <eddyb> acrichto: ^^ any idea why that is?
[10:44:54] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[10:45:30] *** Quits: jensnock_ (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Ping timeout)
[10:47:06] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[10:49:31] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[10:50:29] *** Quits: glaebhoerl_ (glaebhoerl@moz-B5B88D72.catv.broadband.hu) (Quit: )
[11:00:03] *** Joins: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP)
[11:03:14] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[11:03:50] <eddyb> \o/
[11:05:26] <eddyb> there is no @RefCell in the entirety of libsyntax
[11:05:56] <eddyb> only a few left in librustc/metadata
[11:06:09] <eddyb> resolve, and the typeck maps
[11:07:05] *** Joins: ghrust (ghrust@C82447D.6A2AE50.F3114085.IP)
[11:07:06] <ghrust> [13rust] 15bors merged 06auto into 06master: 02http://git.io/p0cUmw
[11:07:06] *** Parts: ghrust (ghrust@C82447D.6A2AE50.F3114085.IP) ()
[11:07:08] *** Joins: easy_muffin (martin@moz-68A12518.public.telering.at)
[11:07:09] *** Quits: japaric1 (japaric@D63910DF.55B992BD.5C7588CA.IP) (Ping timeout)
[11:07:47] *** Joins: gimpf (gimpf@moz-20705D24.adsl.highway.telekom.at)
[11:08:08] *** Joins: japaric1 (japaric@D441B96A.6A7849D9.95AE23EB.IP)
[11:09:30] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[11:10:58] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[11:12:04] *** Joins: ghrust (ghrust@C82447D.6A2AE50.F3114085.IP)
[11:12:04] <ghrust> [13rust] 15bors pushed 2 new commits to 06auto: 02http://git.io/b898EQ
[11:12:04] <ghrust> 13rust/06auto 1480c79ad 15Alex Crichton: rustdoc: Implement cross-crate searching...
[11:12:04] <ghrust> 13rust/06auto 149739c7d 15bors: auto merge of #12946 : alexcrichton/rust/discover, r=huonw...
[11:12:04] *** Parts: ghrust (ghrust@C82447D.6A2AE50.F3114085.IP) ()
[11:12:38] <huon> "eddyb, destroyer of @"
[11:13:00] <eddyb> plaguebringer
[11:13:11] <huon> "eddyb, hater of email"
[11:13:46] <eddyb> now, if you'll excuse my antihero persona, I've gotta start on something else
[11:20:07] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[11:26:56] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Connection reset by peer)
[11:27:56] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[11:37:04] *** Joins: canhtak (canhtak@moz-2C382DC9.wl.t.ulaval.ca)
[11:38:09] *** Joins: gwty (gwtypc@32B5C817.8B179CE5.2E2F6049.IP)
[11:47:06] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[11:49:30] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[12:07:06] *** Joins: ghrust (ghrust@5AC7F92B.6A2AE50.F3114085.IP)
[12:07:06] <ghrust> [13rust] 15bors pushed 2 new commits to 06auto: 02http://git.io/hXh8uQ
[12:07:06] <ghrust> 13rust/06auto 141943cfc 15Matthew McPherrin: Docsprint: Document ops module, primarily Deref.
[12:07:06] <ghrust> 13rust/06auto 14c82b6ec 15bors: auto merge of #12950 : mcpherrinm/rust/ops, r=alexcrichton
[12:07:07] *** Parts: ghrust (ghrust@5AC7F92B.6A2AE50.F3114085.IP) ()
[12:07:09] *** Joins: ghrust (ghrust@99CAE845.6A2AE50.F3114085.IP)
[12:07:09] <ghrust> [13rust] 15bors 04force-pushed 06auto from 149739c7d to 14e4c91e6: 02http://git.io/N3iJvQ
[12:07:09] *** Parts: ghrust (ghrust@99CAE845.6A2AE50.F3114085.IP) ()
[12:07:36] *** lpy_ is now known as lpy
[12:17:04] *** Joins: ghrust (ghrust@49477F7E.6A2AE50.F3114085.IP)
[12:17:04] <ghrust> [13rust] 15bors 04force-pushed 06auto from 14c82b6ec to 14e4c91e6: 02http://git.io/N3iJvQ
[12:17:04] *** Parts: ghrust (ghrust@49477F7E.6A2AE50.F3114085.IP) ()
[12:17:06] *** Joins: ghrust (ghrust@94BD74B8.6A2AE50.F3114085.IP)
[12:17:06] <ghrust> [13rust] 15bors pushed 2 new commits to 06auto: 02http://git.io/nhzk9g
[12:17:06] <ghrust> 13rust/06auto 1413d73e9 15Cadence Marseille: Remove AtomicFlag...
[12:17:06] <ghrust> 13rust/06auto 1450e3aa3 15bors: auto merge of #12951 : cadencemarseille/rust/issue-12943-remove-AtomicFlag, r=alexcrichton...
[12:17:07] *** Parts: ghrust (ghrust@94BD74B8.6A2AE50.F3114085.IP) ()
[12:31:31] *** Quits: esummers_ (esummers@moz-3B015C90.wi.res.rr.com) (Ping timeout)
[12:32:21] *** Joins: esummers (esummers@moz-3B015C90.wi.res.rr.com)
[12:47:05] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[12:49:35] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[13:41:05] *** Quits: canhtak (canhtak@moz-2C382DC9.wl.t.ulaval.ca) (Quit: canhtak)
[13:41:43] *** Quits: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[13:42:50] <eddyb> huon: all over trans::reflect, we create Vec<T> when [T, ..N] would suffice
[13:43:05] <eddyb> it's ridiculous
[13:43:49] *** Joins: jdm (jdm@moz-AC9499B2.cable.teksavvy.com)
[13:45:29] *** Quits: gwty (gwtypc@32B5C817.8B179CE5.2E2F6049.IP) (Ping timeout)
[13:47:06] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[13:49:33] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[13:53:36] *** Joins: canhtak (canhtak@moz-2C382DC9.wl.t.ulaval.ca)
[13:54:34] <huon> eddyb: well fix it ;P
[13:54:45] <eddyb> doing it right now
[13:54:47] <huon> (in small well-separated commits)
[13:54:49] <huon> \o/
[13:55:23] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[13:55:29] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[13:55:45] <eddyb> I'm afraid to just switch all the constant constructors to Datum, that would in turn cause almost everything to be datumized
[13:55:50] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[13:57:34] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Ping timeout)
[13:59:41] <eddyb> huon: ahh, the constant constructors are methods on the Reflector, so I can change them without touching things like C_int
[14:03:42] <mrmonday> are test cases meant to pass if assertions fail? the test runner prints "ok" for all my tests despite also printing assertion failures...
[14:04:00] <eddyb> mrmonday: those are should_fail tests
[14:04:23] *** Quits: Yurumechan (23f9939a@B2F514.E4420F21.EEF52F3A.IP) (Ping timeout)
[14:04:25] <eddyb> i.e. it's testing that they fail (which is easier sometimes, than the other way around)
[14:06:27] <mrmonday> why would my tests be should_fail? they're just marked as #[test], they're definitely not meant to fail :p
[14:07:00] *** Joins: ghrust (ghrust@C95C9FF.6A2AE50.F3114085.IP)
[14:07:00] <ghrust> [13rust] 15bors merged 06auto into 06master: 02http://git.io/nhzk9g
[14:07:00] *** Parts: ghrust (ghrust@C95C9FF.6A2AE50.F3114085.IP) ()
[14:07:22] *** Joins: Yurumechan (23f9939a@B2F514.E4420F21.EEF52F3A.IP)
[14:07:51] <eddyb> mrmonday: ah, your tests?
[14:08:04] *** Joins: edwardw (edwardw@BB690835.D7DB55D8.50B134B9.IP)
[14:08:22] <eddyb> mrmonday: I know that the first time I ran make check I was very confused
[14:08:56] <eddyb> the number of tests passed/failed isn't emphasized, but assertion failures are (and those came for tests that were expecting failure)
[14:09:06] <edwardw> the De-@ PR landed after all!
[14:09:13] <eddyb> yeah, a few hours ago
[14:09:33] <edwardw> awesome
[14:09:57] *** Quits: Zr40 (zr40@EE4BB9F5.926C319A.BE2F4011.IP) (Quit: leaving)
[14:10:16] <mrmonday> it's weird, on some platforms it shows failures (with the exact same assertion failures), but on others it shows passes (yet the asserts fail in the same way)
[14:10:27] <mrmonday> not particularly useful behaviour :p
[14:10:31] <edwardw> PpAnn survived, though :D
[14:10:43] *** Quits: tca (sid17279@moz-A42E5B7B.irccloud.com) (Ping timeout)
[14:11:06] *** Joins: luz (lu.cy@moz-CD18B14B.customer.cdi.no)
[14:11:18] <eddyb> edwardw: it's not used as a trait object anymore
[14:11:31] *** Joins: Zr40 (zr40@EE4BB9F5.926C319A.BE2F4011.IP)
[14:11:36] <edwardw> Ah I see
[14:11:37] <eddyb> but I can revert that change if the bencher shows a spike
[14:11:56] <eddyb> right now it's easy to change the layout of State without causing issues because all the free functions have become methods
[14:11:58] *** Joins: ghrust (ghrust@5AC7F92B.6A2AE50.F3114085.IP)
[14:11:58] <ghrust> [13rust] 15bors pushed 2 new commits to 06auto: 02http://git.io/KGB6nQ
[14:11:58] <ghrust> 13rust/06auto 14d35e814 15Steven Fackler: Docify std::vec_ng...
[14:11:58] <ghrust> 13rust/06auto 148ee5be1 15bors: auto merge of #12955 : sfackler/rust/vec_ng-doc, r=alexcrichton...
[14:11:59] *** Parts: ghrust (ghrust@5AC7F92B.6A2AE50.F3114085.IP) ()
[14:12:00] *** Joins: ghrust (ghrust@94BD74B8.6A2AE50.F3114085.IP)
[14:12:00] <ghrust> [13rust] 15bors pushed 0 new commits to 06auto: 02http://git.io/HoEEcQ
[14:12:00] *** Parts: ghrust (ghrust@94BD74B8.6A2AE50.F3114085.IP) ()
[14:17:28] *** Quits: lpy (lpy@8B40CDAC.F09091A8.1348A864.IP) (Ping timeout)
[14:17:44] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[14:18:31] *** Quits: jack (sid19593@moz-A42E5B7B.irccloud.com) (Ping timeout)
[14:18:49] *** Quits: japaric1 (japaric@D441B96A.6A7849D9.95AE23EB.IP) (Ping timeout)
[14:19:08] *** Quits: larsberg (sid16141@moz-A42E5B7B.irccloud.com) (Ping timeout)
[14:19:53] *** Joins: japaric1 (japaric@4DD1D5A0.F9FFD430.3E85381A.IP)
[14:23:58] *** Quits: flaper87 (flaper87@moz-107AD163.redhat.com) (Ping timeout)
[14:24:45] <eddyb> let modeval = 5u;   // "by copy"
[14:24:59] <eddyb> cmr, huon: ^^ any clues what ancient runes I'm looking at?
[14:25:55] <cmr> that mode would have been +
[14:25:59] <cmr> which apparently had value 5
[14:28:03] *** Joins: larsberg (larsberg@moz-5D8E4B14.lightspeed.cicril.sbcglobal.net)
[14:31:39] *** Joins: flaper87|afk (flaper87@moz-107AD163.redhat.com)
[14:31:44] *** flaper87|afk is now known as flaper87
[14:40:08] <bjz> lol, modes
[14:40:25] <bjz> is that a relic?
[14:41:01] *** Joins: tca (sid17279@moz-A42E5B7B.irccloud.com)
[14:43:42] *** Joins: larsberg_ (sid16141@moz-A42E5B7B.irccloud.com)
[14:43:50] *** Quits: eddyb (eddy@F8B50789.F33C1089.FB866788.IP) (Ping timeout)
[14:44:06] *** Quits: larsberg (larsberg@moz-5D8E4B14.lightspeed.cicril.sbcglobal.net) (Quit: Leaving.)
[14:44:06] *** larsberg_ is now known as larsberg
[14:44:16] *** Joins: jack (sid19593@moz-A42E5B7B.irccloud.com)
[14:44:57] *** Joins: eddyb (eddy@F8B50789.F33C1089.FB866788.IP)
[14:45:24] *** Joins: sunfish (chatzilla@moz-42DA0C69.dsl.dynamic.sonic.net)
[14:45:28] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Input/output error)
[14:45:59] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[14:47:00] <eddyb>  // We're careful to not use first class aggregates here because that will kick us off fast isel. (Issue #4352.)
[14:47:29] <eddyb> where is strcat when you need to ask him LLVM trivia?
[14:47:43] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Ping timeout)
[14:58:41] *** Quits: edwardw (edwardw@BB690835.D7DB55D8.50B134B9.IP) (Ping timeout)
[15:00:52] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[15:01:59] *** Joins: ghrust (ghrust@511FAEBD.6A2AE50.F3114085.IP)
[15:01:59] <ghrust> [13rust] 15bors pushed 2 new commits to 06auto: 02http://git.io/6N0xMg
[15:01:59] <ghrust> 13rust/06auto 147da2074 15Lindsey Kuper: `strdup_uniq` doesn't have to be `pub`.
[15:01:59] <ghrust> 13rust/06auto 1479203b5 15bors: auto merge of #12957 : lkuper/rust/docsprint, r=alexcrichton
[15:01:59] *** Parts: ghrust (ghrust@511FAEBD.6A2AE50.F3114085.IP) ()
[15:02:02] *** Joins: ghrust (ghrust@23EC81EC.6A2AE50.F3114085.IP)
[15:02:02] <ghrust> [13rust] 15bors 04force-pushed 06auto from 148ee5be1 to 1450e3aa3: 02http://git.io/N3iJvQ
[15:02:02] *** Parts: ghrust (ghrust@23EC81EC.6A2AE50.F3114085.IP) ()
[15:02:03] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[15:09:39] <eddyb> error: refutable pattern in local binding
[15:09:44] <eddyb> *sigh* nobody fixed this?
[15:14:47] *** Joins: lkuper (lkuper@82C581AE.654CD82F.51B6877.IP)
[15:15:23] *** Joins: lpy (lpy@1834E2CB.F09091A8.1348A864.IP)
[15:15:38] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[15:15:59] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[15:17:41] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Ping timeout)
[15:18:37] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[15:20:01] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[15:24:04] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[15:34:57] *** flaper87 is now known as flaper87|afk
[15:38:21] <nmatsakis> acrichto: ping
[15:40:14] <nmatsakis> acrichto: unping
[15:49:40] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[15:49:45] <eddyb> gotta love rust, 0 occurrences of "return" in this file. much simpler to understand what's going on
[15:51:48] *** Quits: lpy (lpy@1834E2CB.F09091A8.1348A864.IP) (Client exited)
[15:52:38] <benh> is it all written in continuation-passing style? :D
[15:53:10] <eddyb> I'm tempted to turn these for loops into folds
[15:54:46] <kmc> eddyb: yeah that's one of the things that now looks super archaic about C code :)
[16:00:18] *** Quits: Zr40 (zr40@EE4BB9F5.926C319A.BE2F4011.IP) (Quit: leaving)
[16:05:04] *** Quits: lkuper (lkuper@82C581AE.654CD82F.51B6877.IP) (Quit: lkuper)
[16:07:03] *** Quits: aepsil0n (ebopp@moz-EF530DCB.ita.uni-heidelberg.de) (Ping timeout)
[16:10:35] *** Quits: luz (lu.cy@moz-CD18B14B.customer.cdi.no) (Ping timeout)
[16:11:06] *** Joins: edwardw (edwardw@4112974A.B4358688.30F15291.IP)
[16:12:19] *** Joins: lkuper (lkuper@moz-AD4C50F5.dhcp-bl.indiana.edu)
[16:19:29] <aphistic> tbh that's one of the things i dislike about ruby and don't use in rust. implicit returns
[16:19:59] <cmr> they aren't implicit.
[16:20:13] <cmr> ie, leaving off the semicolon won't return.
[16:20:32] *** Quits: japaric1 (japaric@4DD1D5A0.F9FFD430.3E85381A.IP) (Ping timeout)
[16:20:51] <eddyb> aphistic: it's all about value flow
[16:21:16] <eddyb> recursive flow and function composition, as in Haskell, is still very hard for me to piece together
[16:21:22] <eddyb> but value flow is easier than explicit returns
[16:22:10] *** Joins: japaric1 (japaric@F9C7BCBB.E90D5F40.F29ED47E.IP)
[16:23:07] <aphistic> i just don't like (taking the tutorial as an example) where it goes { x == 4 } and the result is the return value. in some cases it's nice but in the ruby code i've seen it's used to excess
[16:23:30] <cmr> matter of taste I suppose
[16:23:32] <aphistic> i believe it makes code less readable
[16:24:16] <aphistic> it's definitely a matter of taste :)
[16:24:22] <Seldaek> aphistic: for having used coffeescript for a while now (which does that too), I find all these syntaxical sugar things are nice (even for readability) when used wisely
[16:24:51] *** Joins: luz (lu.cy@moz-CD18B14B.customer.cdi.no)
[16:24:51] <eddyb> it's not just syntax sugar
[16:25:06] <eddyb> I now see "return" as an explicit jump, while normal value flow is linear
[16:25:17] <eddyb> imagine having "continue;" at the end of every loop
[16:25:39] <kimundi> Yeah, in rust `return` is exclusively _early_ return from a function now.
[16:25:55] <eddyb> or "break;" at the end of each match case (I know this is a real issue with other languages' "switch")
[16:26:29] <Seldaek> eddyb: yup, it does make some sense
[16:26:46] <bstrie> I use `return` at the end of long functions, because I can't always be certain that some long if or match statement at the end of a function doesn't have a return value
[16:27:02] <eddyb> lol
[16:27:07] <aphistic> i just remember using some ruby code where the return value was implicitly set a number of lines before the end of the function and that lead to it being hard to read.  my dislike for it just moved to rust :)
[16:27:12] <bstrie> since you don't put semicolons after them normally anyway, you can't just say "no semicolon there, has a return value"
[16:27:14] <aphistic> but i get what you're saying
[16:27:34] <kimundi> bstrie: Well, you either get a type error or the expected behavior that way, right?
[16:27:37] <eddyb> aphistic: that's something different
[16:27:44] <bstrie> kimundi: this is for the sake of reading, not running
[16:27:52] <kimundi> ah, okay
[16:28:11] <bstrie> kimundi: if I can see both the end of the function and the signature on the same screen, I'll forgo the keyword
[16:28:11] <eddyb> aphistic: reminds me of the APIs some VMs have
[16:28:26] <bstrie> just a personal style
[16:28:34] <eddyb> v8 moved to args.set_return(...) for some reason
[16:29:07] <eddyb> which I find despicable and if I were still working with it, I'd always wrap the darn thing
[16:29:08] <cmr> acrichto: r? https://github.com/mozilla/rust/pull/12980
[16:29:36] *** Quits: easy_muffin (martin@moz-68A12518.public.telering.at) (Quit: My MacBook Pro has gone to sleep. ZZZzzz‚Ä¶)
[16:29:54] <eddyb> I want |self| now
[16:30:19] <eddyb> I wonder if anyone has anything against allowing self as a regular identifier
[16:30:59] <cmr> I do
[16:31:02] <cmr> it makes code unreadable
[16:31:04] <cmr> just use `this`
[16:31:16] <eddyb> but this makes code ugly :P
[16:31:47] <eddyb> (I understand the concern. I guess folding could remove the issue entirely)
[16:32:02] <Seldaek> eddyb: what did you mean by slow windows earlier btw? is rust on windows much slower? just IO or everything?
[16:32:08] <eddyb> nmatsakis: *sigh* Rvalue datums are not on my side
[16:32:17] <eddyb> Seldaek: the win-* buildbots
[16:32:26] <Seldaek> oh that :)
[16:32:40] <cmr> Seldaek: program loading is much slower on windows due to mingw linker ultrasadness :(
[16:32:50] <cmr> mingw-w64 fixes it though, so we have hope!
[16:33:14] <Seldaek> it's kind of a pity rust relies on mingw.. that sounds very hackish to me
[16:33:45] <cmr> we just need it for the linker.
[16:35:15] <Seldaek> isn't there something more windowsy that can do this? I really don't know enough about all this stuff :/
[16:35:23] <cmr> not really no
[16:39:26] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[16:39:48] *** Joins: ghrust (ghrust@88C0CBA2.6A2AE50.F3114085.IP)
[16:39:48] <ghrust> [13rust] 15cmr pushed 1 new commit to 06try: 02http://git.io/fKGM7Q
[16:39:48] <ghrust> 13rust/06try 148daff39 15Corey Richardson: rand: fix libc fallout
[16:39:48] *** Parts: ghrust (ghrust@88C0CBA2.6A2AE50.F3114085.IP) ()
[16:46:37] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[16:48:30] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Ping timeout)
[16:48:53] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[16:52:08] *** Joins: ghrust (ghrust@511FAEBD.6A2AE50.F3114085.IP)
[16:52:08] <ghrust> [13rust] 15bors merged 06auto into 06master: 02http://git.io/6N0xMg
[16:52:08] *** Parts: ghrust (ghrust@511FAEBD.6A2AE50.F3114085.IP) ()
[16:55:10] *** Quits: lkuper (lkuper@moz-AD4C50F5.dhcp-bl.indiana.edu) (Quit: lkuper)
[16:55:28] *** Quits: Kxepal (Miranda@moz-2765ECDB.pppoe.mtu-net.ru) (Ping timeout)
[16:56:26] <eddyb> nmatsakis: hmm, what's the best safe API... fn PodDatum(val: ValueRef, ty: ty::t, mode: RvalueMode) -> Datum<PodRvalue> {assert!(!ty::type_needs_drop(???, ty)); Datum(...)}
[16:56:36] *** Joins: easy_muffin (martin@moz-68A12518.public.telering.at)
[16:56:39] *** Joins: lkuper (lkuper@moz-AD4C50F5.dhcp-bl.indiana.edu)
[16:56:41] *** Quits: easy_muffin (martin@moz-68A12518.public.telering.at) (Client exited)
[16:56:44] <eddyb> I guess I need the tcx to assert the type's pod-ness
[16:57:06] *** Joins: ghrust (ghrust@88C0CBA2.6A2AE50.F3114085.IP)
[16:57:06] <ghrust> [13rust] 15bors pushed 0 new commits to 06auto: 02http://git.io/1HGBRg
[16:57:06] *** Parts: ghrust (ghrust@88C0CBA2.6A2AE50.F3114085.IP) ()
[16:57:07] *** Joins: ghrust (ghrust@2DCF43EA.6A2AE50.F3114085.IP)
[16:57:07] <ghrust> [13rust] 15bors pushed 3 new commits to 06auto: 02http://git.io/6T-BkA
[16:57:07] <ghrust> 13rust/06auto 148b8d41d 15xales: Allow mutable slices in statics....
[16:57:07] <ghrust> 13rust/06auto 14abfc6db 15Flavio Percoco: rustc: Move mut slice check to `check_static`...
[16:57:08] <nmatsakis> eddyb: I envisioned a method on Datum<Rvalue>, I think, but yeah something like that
[16:57:08] <ghrust> 13rust/06auto 140a181a8 15bors: auto merge of #12742 : FlaPer87/rust/issue-11411-static-mut-slice, r=nikomatsakis...
[16:57:10] *** Parts: ghrust (ghrust@2DCF43EA.6A2AE50.F3114085.IP) ()
[16:57:29] <eddyb> nmatsakis: I'd rather have a type I can freely copy around
[16:57:45] <nmatsakis> eddyb: huh? I'm talking about fn to_pod(self) -> Datum<PodRvalue>
[16:58:09] <eddyb> aah
[16:58:18] <nmatsakis> eddyb: I think that's more how the existing interconversion functions look
[16:58:24] *** Quits: lkuper (lkuper@moz-AD4C50F5.dhcp-bl.indiana.edu) (Quit: lkuper)
[16:59:47] *** Joins: Kxepal (Miranda@moz-C9CC9CAB.pppoe.mtu-net.ru)
[17:00:03] *** Joins: MaXYZW (MaXYZW@moz-F787D177.dk.customer.tdc.net)
[17:00:22] <eddyb> nmatsakis: that method makes sense, but I'd rather have an easy way of constructing constant Datum's than going through a more restrictive Datum type first
[17:00:39] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Connection reset by peer)
[17:00:53] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[17:01:41] <eddyb> because that's the main usecase, you wouldn't want to call to_pod on something that you aren't sure is a Pod
[17:02:14] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[17:04:20] *** Joins: gwty (gwtypc@2C6B6FCD.A45EE6F9.645B845A.IP)
[17:05:33] <eddyb> <3 DCE. trans_lang_call_with_type_params is unused
[17:06:18] *** Quits: gwty (gwtypc@2C6B6FCD.A45EE6F9.645B845A.IP) (Ping timeout)
[17:06:31] <eddyb> did we remove matching on ~str?
[17:06:44] <eddyb> the mechanism is still there
[17:07:45] <cmr> eddyb: we did
[17:08:57] <nmatsakis> eddyb: yes that makes sense
[17:09:19] <nmatsakis> eddyb: might want both, or maybe just the one you were talking about, depends on which gets used most often I guess
[17:12:44] <eddyb> &str gets passed as *&str, right?
[17:16:44] *** Quits: sunfish (chatzilla@moz-42DA0C69.dsl.dynamic.sonic.net) (Ping timeout)
[17:17:08] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[17:17:30] <aphistic> sooo... as a developer who has never worked on a language or compiler before and is an extreme beginner in rust... how could i contribute if i wanted to? :P
[17:18:08] <cmr> aphistic: 
[17:18:10] <cmr> https://github.com/mozilla/rust/wiki/Note-guide-for-new-contributors
[17:18:14] <cmr> (sorry for the spurious newline)
[17:19:03] <aphistic> ah, great. thanks :)
[17:22:16] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Connection reset by peer)
[17:24:03] *** Quits: Sharp (Sharp@moz-633F3606.hsd1.ca.comcast.net) (Quit: Sharp)
[17:32:39] *** Joins: dherman (dherman@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[17:32:40] *** ChanServ sets mode: +ao dherman dherman
[17:35:06] <eddyb> strcat: since you're here,   // We're careful to not use first class aggregates here because that will kick us off fast isel. (Issue #4352.)
[17:35:12] <eddyb> strcat: does that still apply?
[17:35:20] <strcat> yes but fastisel is fixable
[17:35:23] *** Quits: MaXYZW (MaXYZW@moz-F787D177.dk.customer.tdc.net) (Quit: Computer has gone to sleep.)
[17:35:32] <eddyb> okay, I won't touch it then
[17:42:14] *** Joins: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net)
[17:42:15] *** ChanServ sets mode: +o tjc
[17:47:43] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[17:49:48] <mrmonday> any chance someone could take a look over https://github.com/mozilla/rust/pull/11410 ? It's not quite complete (couple of testing bits left to do) I'd like to know the rest of it is sane/good to go though
[17:50:29] <mrmonday> if it is I'll write up the documentation for it and should hopefully have the remaining bits of test done in the next couple of days
[17:50:56] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Quit: Jesse)
[17:55:05] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[17:55:46] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[17:57:00] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[17:57:00] *** ChanServ sets mode: +ao pcwalton pcwalton
[18:02:39] *** Joins: MaXYZW (MaXYZW@moz-F787D177.dk.customer.tdc.net)
[18:11:20] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Ping timeout)
[18:13:13] *** Joins: sunfish (chatzilla@moz-62518563.mtv2.mozilla.com)
[18:17:38] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[18:18:09] *** Joins: intuxicated (intuxicate@5BA9DB47.F2F0EDE4.DA0107E2.IP)
[18:19:34] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[18:24:07] *** Joins: Sharp (Sharp@moz-3301C7AB.static-ip.telepacific.net)
[18:36:36] *** Joins: brson (brson@moz-62518563.mtv2.mozilla.com)
[18:36:36] *** ChanServ sets mode: +qo brson brson
[18:36:53] *** Quits: brson (brson@moz-62518563.mtv2.mozilla.com) (Quit: leaving)
[18:36:57] *** Joins: brson (brson@moz-62518563.mtv2.mozilla.com)
[18:36:57] *** ChanServ sets mode: +qo brson brson
[18:48:48] *** Quits: edwardw (edwardw@4112974A.B4358688.30F15291.IP) (Quit: Leaving...)
[18:49:50] *** Joins: edwardw (edwardw@B5386878.16F55560.50B134B9.IP)
[18:51:00] *** Joins: TimAbraldes (quassel@125EF623.B2666F0E.66399531.IP)
[18:52:04] *** Joins: ghrust (ghrust@38D6F008.6A2AE50.F3114085.IP)
[18:52:05] <ghrust> [13rust] 15bors merged 06auto into 06master: 02http://git.io/6T-BkA
[18:52:05] *** Parts: ghrust (ghrust@38D6F008.6A2AE50.F3114085.IP) ()
[18:53:38] *** Quits: dherman (dherman@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: dherman)
[18:54:38] *** Quits: japaric1 (japaric@F9C7BCBB.E90D5F40.F29ED47E.IP) (Ping timeout)
[18:55:24] *** Joins: japaric1 (japaric@A04A13FD.EFCA05B1.5C7588CA.IP)
[18:57:13] *** Joins: ghrust (ghrust@23EC81EC.6A2AE50.F3114085.IP)
[18:57:13] <ghrust> [13rust] 15bors pushed 2 new commits to 06auto: 02http://git.io/JSRR7w
[18:57:13] <ghrust> 13rust/06auto 14695114e 15Laurent Bonnans: rustc: disallow trailing parentheses for nullary enum variants...
[18:57:13] <ghrust> 13rust/06auto 14af93684 15bors: auto merge of #12935 : lbonn/rust/nullenum, r=alexcrichton...
[18:57:14] *** Parts: ghrust (ghrust@23EC81EC.6A2AE50.F3114085.IP) ()
[18:57:14] *** Quits: canhtak (canhtak@moz-2C382DC9.wl.t.ulaval.ca) (Quit: canhtak)
[18:57:16] *** Joins: ghrust (ghrust@C95C9FF.6A2AE50.F3114085.IP)
[18:57:16] <ghrust> [13rust] 15bors pushed 0 new commits to 06auto: 02http://git.io/qX1upA
[18:57:16] *** Parts: ghrust (ghrust@C95C9FF.6A2AE50.F3114085.IP) ()
[18:58:55] <edwardw> nmatsakis: regarding the tweaked variance inference rules, is the "unused" qualifier important?
[18:59:14] <nmatsakis> edwardw: yes, since I didn't change the rules for type parameters that are used
[18:59:15] <edwardw> my current patch doesn't distinguish used from unused
[18:59:27] <edwardw> ok, I'll tweak the patch then
[18:59:28] <nmatsakis> it does implicitly, by selecting for unit structs
[18:59:38] <nmatsakis> but the only case where you get bivariance today
[18:59:48] <nmatsakis> is if the type/lifetime parameter is unused
[18:59:55] <edwardw> correct
[19:04:41] *** Joins: dherman (dherman@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[19:04:41] *** ChanServ sets mode: +ao dherman dherman
[19:05:23] <nmatsakis> edwardw: technically that's just an RFC :) but I anticipate getting my way on this
[19:07:31] <edwardw> lol
[19:09:00] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[19:10:28] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[19:12:34] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[19:23:01] *** Joins: glaebhoerl (glaebhoerl@3391DE98.E9231B2.A0179ACD.IP)
[19:23:05] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Ping timeout)
[19:25:17] <eddyb> Note that these LLVM types are not quite the same as the LLVM types would be for a native Rust function because foreign functions just plain ignore modes.
[19:25:20] <eddyb> modes again?
[19:25:30] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[19:25:40] * eddyb prods the Egyptian tombs
[19:37:05] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[19:40:19] *** Joins: Jesse (jruderman@moz-62518563.mtv2.mozilla.com)
[19:41:21] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Ping timeout)
[19:42:46] *** Quits: Jesse (jruderman@moz-62518563.mtv2.mozilla.com) (Ping timeout)
[19:44:39] *** Joins: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[19:47:57] *** Quits: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz‚Ä¶)
[19:48:44] *** Quits: MaXYZW (MaXYZW@moz-F787D177.dk.customer.tdc.net) (Quit: Computer has gone to sleep.)
[19:54:52] *** Quits: doomlord_ (servitor@moz-99BE89EC.range86-184.btcentralplus.com) (Ping timeout)
[19:56:01] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[19:59:25] *** Joins: Jesse (jruderman@moz-62518563.mtv2.mozilla.com)
[20:00:31] *** Joins: canhtak (canhtak@moz-2C382DC9.wl.t.ulaval.ca)
[20:02:51] *** Joins: doomlord_ (servitor@moz-99BE89EC.range86-184.btcentralplus.com)
[20:11:06] *** Quits: eddyb (eddy@F8B50789.F33C1089.FB866788.IP) (Ping timeout)
[20:12:24] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Ping timeout)
[20:12:56] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (No route to host)
[20:13:11] <bstrie> hm
[20:13:17] <bstrie> is our rvo recursive?
[20:13:35] <strcat> recursive?
[20:13:51] <strcat> rust doesn't really do 'return value optimization' in the C++ sense of the term
[20:13:58] <strcat> like C, it returns large values via an out pointer
[20:14:07] <strcat> there aren't move/copy constructors so RVO can't exist
[20:14:14] <bstrie> like, if foo calls bar calls qux, and bar just returns the value of qux, does the value get allocated in foo's stack?
[20:14:27] <strcat> yes, because it returns via an out pointer
[20:14:34] <strcat> no guarantee rust won't do a bunch of copies along the way
[20:14:39] <aatch|work> bstrie, the out-pointer is passed down the stack
[20:14:40] <strcat> but it *will* return large values via an out pointer
[20:14:42] *** aatch|work is now known as aatch
[20:14:51] <bstrie> ok
[20:14:55] <strcat> even if we return everything directly by-value, LLVM would still use an out ptr
[20:15:09] <strcat> it's not really a rust thing, it's just how returning works
[20:15:32] <strcat> RVO refers to C++ permitting the elimination of move/copy constructor calls on returns even if it changes the program's behaviour (for example, if your copy constructor prints)
[20:15:44] <strcat> doesn't exist in rust
[20:15:56] <strcat> rust doesn't permit eliminating a clone() call if it may change behaviour
[20:17:19] * bstrie reading http://nethack4.org/blog/memory.html
[20:17:27] <bstrie> which has a tiny mention of rust
[20:17:44] <mcpherrin> bstrie: that blog post makes me sad
[20:18:16] <mcpherrin> I realize this is way old code but still
[20:18:31] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[20:19:06] *** Joins: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net)
[20:19:06] *** ChanServ sets mode: +o tjc
[20:20:02] <bstrie> mcpherrin: way old code, yeah, but it's seen enough love from smart people over the years that I'm sure its quality, if not great, is still comparable to much younger projects
[20:22:29] <bstrie> like, dcss is based off of linley's dungeon crawl, which is 10 years younger than nethack, but linley wrote it when he was just learning how to program, and it shows :P
[20:23:06] <mcpherrin> bstrie: Well, mostly the fact that it's 2014 and we're still dealing with sprintf overflows :(
[20:23:42] <mcpherrin> (I didn't read the whole article yet)
[20:23:48] <strcat> C strings as a whole are awful
[20:24:04] <strcat> if you have to deal with them, you can still use sprintf/snprintf sanely
[20:24:34] <strcat> char buffer[std::numeric_limits<unsigned>::max() + 1]; snprintf(buffer, sizeof buffer, "%u", integer);
[20:24:36] * strcat shrugs
[20:24:54] <mcpherrin> I know you can, but, well, I want Rust :)
[20:24:56] <jensnockert> Yes, that's totally sane.
[20:25:00] <mcpherrin> safettyyyy
[20:25:25] <strcat> er
[20:25:28] <strcat> ::digits10
[20:25:44] <strcat> (luckily snprintf wouldn't have turned that into an exploit ;p)
[20:26:00] <strcat> well actually I guess it wouldn't compile
[20:26:14] <mcpherrin> are zero sized buffers illegal?
[20:26:17] * mcpherrin has never tried
[20:26:21] <jensnockert> No, it should be fine.
[20:26:30] <strcat> mcpherrin: in standard C, zero-size arrays are illegal
[20:26:39] <strcat> you can safely pass 0 as the size to snprintf afaik
[20:26:41] <strcat> if that's what you mean
[20:26:42] <jensnockert> Unsized ones are legal though.
[20:26:47] <mcpherrin> I mean in the char buffer[0]
[20:26:56] <strcat> mcpherrin: invalid in standard C/C++
[20:27:04] <strcat> valid as a GNU ext
[20:27:40] <jensnockert> In C99 buffer[] is legal, buffer[0] is not, iirc.
[20:27:42] <strcat> anyway I guess it will compile, it's only half the stack
[20:27:52] <strcat> jensnockert: legal as the last field in a struct
[20:28:03] <strcat> afaik it's not legal in other places in C99 that it wasn't before
[20:28:25] *** Quits: Kxepal (Miranda@moz-C9CC9CAB.pppoe.mtu-net.ru) (Quit: Kxepal)
[20:28:39] *** Joins: Kxepal (Miranda@moz-C9CC9CAB.pppoe.mtu-net.ru)
[20:28:42] <jensnockert> strcat: That would totally make sense, so it is probably true.
[20:28:42] <strcat> void foo(char x[static 5]) is valid c99, for example
[20:28:48] <strcat> but without the static it's also valid c89
[20:28:58] <jensnockert> Of course, the 5 is ignored‚Ä¶
[20:29:07] <strcat> jensnockert: I don't think it's ignored
[20:29:17] <strcat> it guarantees that the array is at least 5 long iirc
[20:29:31] <strcat> (with static)
[20:29:43] <strcat> one of the many faces of static
[20:30:44] * strcat has to go rebuild some packages for python 3.4 *sigh*
[20:31:00] <jensnockert> strcat: I'm pretty sure it is ignored without static.
[20:31:11] <strcat> jensnockert: yeah I think that's true
[20:31:52] <jensnockert> Then we just misunderstood each other, and meant the same thing.
[20:32:08] <strcat> foo.c:4:26: warning: sizeof on array function parameter will return size of 'char *' instead of 'char [5]'
[20:32:10] <strcat>       [-Wsizeof-array-argument]
[20:32:12] <strcat>   printf("%zu\n", sizeof foo);
[20:32:14] <strcat> jensnockert: clang even has a warning for it
[20:32:16] <strcat> ;)
[20:32:22] <jensnockert> Clang is nice to me.
[20:32:44] <jensnockert> One of my teachers always put n and stuff in there‚Ä¶
[20:32:52] <jensnockert> ./o\
[20:45:03] *** Quits: glaebhoerl (glaebhoerl@3391DE98.E9231B2.A0179ACD.IP) (Ping timeout)
[20:48:50] *** Joins: glaebhoerl (glaebhoerl@3391DE98.E9231B2.A0179ACD.IP)
[20:48:53] *** Quits: edwardw (edwardw@B5386878.16F55560.50B134B9.IP) (Ping timeout)
[20:51:57] *** Joins: ghrust (ghrust@B750D19A.6A2AE50.F3114085.IP)
[20:51:58] <ghrust> [13rust] 15bors merged 06auto into 06master: 02http://git.io/JSRR7w
[20:51:58] *** Parts: ghrust (ghrust@B750D19A.6A2AE50.F3114085.IP) ()
[20:54:29] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (No route to host)
[20:56:58] *** Joins: ghrust (ghrust@4089EBDC.6A2AE50.F3114085.IP)
[20:56:58] <ghrust> [13rust] 15bors pushed 2 new commits to 06auto: 02http://git.io/MUHyHQ
[20:56:58] <ghrust> 13rust/06auto 144835a0d 15Alex Crichton: rustdoc: Implement cross-crate searching...
[20:56:58] <ghrust> 13rust/06auto 14e0c5a80 15bors: auto merge of #12946 : alexcrichton/rust/discover, r=huonw...
[20:56:58] *** Parts: ghrust (ghrust@4089EBDC.6A2AE50.F3114085.IP) ()
[20:57:01] *** Joins: ghrust (ghrust@38D6F008.6A2AE50.F3114085.IP)
[20:57:01] <ghrust> [13rust] 15bors pushed 0 new commits to 06auto: 02http://git.io/Vz7otg
[20:57:01] *** Parts: ghrust (ghrust@38D6F008.6A2AE50.F3114085.IP) ()
[20:57:43] *** Quits: glaebhoerl (glaebhoerl@3391DE98.E9231B2.A0179ACD.IP) (Connection reset by peer)
[20:57:46] *** Joins: glaebhoerl_ (glaebhoerl@3391DE98.E9231B2.A0179ACD.IP)
[21:00:03] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[21:16:29] *** Quits: canhtak (canhtak@moz-2C382DC9.wl.t.ulaval.ca) (Quit: canhtak)
[21:22:01] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (No route to host)
[21:22:10] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[21:22:56] *** Joins: canhtak (canhtak@moz-2C382DC9.wl.t.ulaval.ca)
[21:25:42] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[21:26:59] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[21:27:19] <nrc> how do I do a non-optimsed build of Rust?
[21:27:55] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[21:28:58] <acrichto> nrc: ./configure --disable-optimize
[21:29:26] <nrc> thanks acrichto!
[21:31:30] *** Quits: brson (brson@moz-62518563.mtv2.mozilla.com) (Ping timeout)
[21:31:53] <aatch> nrc, fair warning, non-optimized builds of rustc are very, very slow.
[21:32:39] <nrc> aatch: only slow to use right? Building rust should be faster (I have heard much faster)
[21:32:53] <aatch> nrc, only for stage1
[21:33:10] <aatch> after that you're using the non-optimized compiler to build
[21:33:26] <nrc> aatch: that's fine, 90% of the time that is all I care about
[21:33:38] <nrc> acrichto: do you know anything about run-pass/linkage1.rs failure?
[21:34:16] <acrichto> nrc: I wrote it, but not sure if that counts :P
[21:34:42] <nrc> acrichto: its been failing for me locally since pulling master yesterday
[21:34:46] <nrc> I have no idea why
[21:34:52] <acrichto> what's the failure message?
[21:35:09] <nrc> task '<main>' failed at 'assertion failed: !foo.is_null()', /home/nick/rust2/src/test/run-pass/linkage1.rs:29
[21:35:19] <nrc> 	command: x86_64-unknown-linux-gnu/test/run-pass/linkage1.stage2-x86_64-unknown-linux-gnu
[21:35:34] <nrc> I tried deleting everything, but no joy
[21:35:35] *** Quits: glaebhoerl_ (glaebhoerl@3391DE98.E9231B2.A0179ACD.IP) (Ping timeout)
[21:35:36] <acrichto> you're on linux?
[21:35:38] <nrc> yep
[21:35:42] * ChrisMorgan also gets that
[21:35:56] <ChrisMorgan> And that indicates that the weak linkage has failed.
[21:36:13] <acrichto> nrc: can you run 'nm' over the aux lib file and see what it prints out?
[21:36:18] <nrc> I can't work out why this fails for me but not bors
[21:36:19] <nrc> sure
[21:36:48] *** Joins: brson (brson@moz-62518563.mtv2.mozilla.com)
[21:36:48] *** ChanServ sets mode: +qo brson brson
[21:37:00] <nrc> acrichto: where do I find it?
[21:37:22] <acrichto> $target/test/run-pass/linkage1-aux-file-something-here
[21:37:26] <strcat> stage1 might be slower too... compiling the rustlib libs + tests will be very slow
[21:39:05] *** Quits: Axord (xord@moz-C0D5F15A.lsanca.dsl-w.verizon.net) (Quit: I'm sure it's perfectly safe)
[21:39:13] <huon> do we have an issue for linkage1 failing?
[21:40:16] <acrichto> nrc: I suspect that it's failing because the order of the arguments to the linker has changed
[21:40:21] <nrc> acrichto: the closest I can find is linkage1.stage2-x86_64-unknown-linux-gnu.libaux, but nm gives
[21:40:22] <nrc> nm: Warning: 'linkage1.stage2-x86_64-unknown-linux-gnu.libaux/' is not an ordinary file
[21:40:31] <acrichto> nrc: that's a directory, it should be inside there
[21:41:39] <nrc> acrichto: d'oh! Here it is http://pastebin.mozilla.org/4613981
[21:42:05] <acrichto> what does R mean?
[21:42:23] <acrichto> read-only... hm..
[21:42:53] <acrichto> nrc: can you run 'make check-stage2-rpass TESTNAME=linkage1 RUSTFLASS='-Z print-link-args' VERBOSE=1
[21:42:58] <acrichto> and paste the output of that?
[21:45:15] <nrc> same as before - should I delete tmp and/or something else?
[21:45:21] <acrichto> nah
[21:45:25] <acrichto> it should rebuild everything
[21:45:27] <acrichto> if you touch the file
[21:45:30] <acrichto> linkage1.rs
[21:46:21] <nrc> acrichto: http://pastebin.mozilla.org/4614024
[21:46:24] *** Joins: GrecKo (GrecKo@moz-A7AA1BB6.fr)
[21:46:55] <acrichto> hm it didn't print the link args
[21:47:21] <nrc> oh type in RUSTFLAGS
[21:47:26] <nrc> *typo
[21:47:32] <acrichto> oh oops
[21:47:41] <acrichto> FLASS - the new flags
[21:47:52] *** Quits: brson (brson@moz-62518563.mtv2.mozilla.com) (Ping timeout)
[21:48:01] <nrc> acrichto: http://pastebin.mozilla.org/4614038
[21:48:03] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[21:48:10] *** Joins: brson (brson@moz-62518563.mtv2.mozilla.com)
[21:48:10] *** ChanServ sets mode: +qo brson brson
[21:48:20] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.3)
[21:49:51] <acrichto> nrc: try this, add another symbol to the linkage1 aux crate (some rust function), and then use the function in main()
[21:50:00] <acrichto> just like "fn foo() {}" and "other::foo()"
[21:50:16] <acrichto> I think --as-needed throws away the library because it's only pulled in because of a weak symbol
[21:51:29] *** Joins: krdln (Mibbit@moz-C271714F.dynamic.chello.pl)
[21:52:03] *** Joins: ghrust (ghrust@7BEB6F9D.6A2AE50.F3114085.IP)
[21:52:04] <ghrust> [13rust] 15bors 04force-pushed 06auto from 14e0c5a80 to 14af93684: 02http://git.io/N3iJvQ
[21:52:04] *** Parts: ghrust (ghrust@7BEB6F9D.6A2AE50.F3114085.IP) ()
[21:52:04] *** Joins: ghrust (ghrust@94BD74B8.6A2AE50.F3114085.IP)
[21:52:04] <ghrust> [13rust] 15bors pushed 2 new commits to 06auto: 02http://git.io/AOo1Lw
[21:52:04] <ghrust> 13rust/06auto 14de8099e 15Lindsey Kuper: Typo fixes.
[21:52:04] <ghrust> 13rust/06auto 145e12608 15bors: auto merge of #12958 : lkuper/rust/rustdoc-typos, r=alexcrichton
[21:52:04] *** Parts: ghrust (ghrust@94BD74B8.6A2AE50.F3114085.IP) ()
[21:52:29] <nrc> acrichto: yep, you're right, passes now
[21:52:42] <acrichto> nrc: ugh, I hate --as-needed
[21:52:59] <acrichto> I'm ok with this behavior now though, you wanna submit a patch?
[21:53:18] <nrc> acrichto: with just the fix above?
[21:53:22] <acrichto> yeah
[21:53:32] <nrc> sure, coming up
[21:56:09] <nrc> acrichto: https://github.com/mozilla/rust/pull/12983
[21:57:40] <acrichto> nrc: oops, commented too soon, will edit
[21:59:21] <acrichto> nrc: https://github.com/mozilla/rust/pull/12983#issuecomment-37876142
[22:00:58] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Input/output error)
[22:01:32] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[22:03:13] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Ping timeout)
[22:04:23] *** Quits: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP) (Ping timeout)
[22:08:36] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Connection reset by peer)
[22:11:44] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[22:20:31] <nrc> acrichto: done (I thought it needed a comment, but didn't know what to put, so thanks!)
[22:20:57] *** Joins: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP)
[22:21:08] <nrc> (it took a while because I got distracted - apparently my brother secretly got married last November!)
[22:21:26] <acrichto> nrc: thanks (also congrats!)
[22:21:30] <acrichto> (I think?)
[22:22:11] <nrc> yeah, I think so, but not sure too :-p
[22:24:14] *** Joins: mawuli (mawuli@C44935E1.26C63A7.DE15C958.IP)
[22:24:20] *** Quits: mawuli (mawuli@C44935E1.26C63A7.DE15C958.IP) (Connection reset by peer)
[22:30:50] *** Quits: canhtak (canhtak@moz-2C382DC9.wl.t.ulaval.ca) (Quit: canhtak)
[22:37:01] *** Quits: jdm (jdm@moz-AC9499B2.cable.teksavvy.com) (Ping timeout)
[22:38:20] *** Joins: jdm (jdm@moz-AC9499B2.cable.teksavvy.com)
[22:39:21] *** kimundi is now known as zz_kimundi
[22:41:11] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[22:42:04] *** Joins: ghrust (ghrust@B750D19A.6A2AE50.F3114085.IP)
[22:42:04] <ghrust> [13rust] 15bors 04force-pushed 06auto from 145e12608 to 14af93684: 02http://git.io/N3iJvQ
[22:42:04] *** Parts: ghrust (ghrust@B750D19A.6A2AE50.F3114085.IP) ()
[22:43:31] *** Joins: bjz_ (bjz@B398BE78.F804C29E.D35A31DF.IP)
[22:43:31] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[22:49:36] *** Quits: bytbox (s@moz-E1E7FAC3.washdc.fios.verizon.net) (Client exited)
[22:49:48] *** Joins: bytbox (s@moz-E1E7FAC3.washdc.fios.verizon.net)
[22:51:34] <huon> cmr: btw, did you ever fix the buffering of -Z ast-json?
[22:51:52] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[22:52:36] *** Joins: Transformer (Transforme@moz-83357A1F.dyn.optonline.net)
[22:54:28] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[22:55:47] <brson> acrichto: i've turned gating back on for mac and android
[22:55:54] <brson> but our automation is newly crippled
[22:56:01] <acrichto> newly crippled?
[22:56:12] *** Parts: Transformer (Transforme@moz-83357A1F.dyn.optonline.net) ()
[22:56:19] <brson> mac3, mac4 can't talk to the build master. win1 and win2 have disappeared
[22:56:23] <brson> we can't do snapshots
[22:56:28] <brson> on any platform ...
[22:56:29] <acrichto> :
[22:56:30] <acrichto> :\
[22:56:35] <acrichto> well, at least it's some progress!
[22:56:47] <acrichto> sounds like the new digs are treating us well!
[22:57:06] *** Joins: ghrust (ghrust@B750D19A.6A2AE50.F3114085.IP)
[22:57:06] <ghrust> [13rust] 15bors 04force-pushed 06auto from 14a1cb2b7 to 14af93684: 02http://git.io/N3iJvQ
[22:57:06] *** Parts: ghrust (ghrust@B750D19A.6A2AE50.F3114085.IP) ()
[22:57:07] *** Joins: ghrust (ghrust@49477F7E.6A2AE50.F3114085.IP)
[22:57:07] <ghrust> [13rust] 15bors pushed 2 new commits to 06auto: 02http://git.io/pEB9Dg
[22:57:07] <ghrust> 13rust/06auto 14c18fea5 15Jonathan S: Relaxed the memory ordering on the implementation of UnsafeArc
[22:57:07] <ghrust> 13rust/06auto 14bfd8085 15bors: auto merge of #12962 : gereeter/rust/relaxed-arc, r=alexcrichton...
[22:57:08] *** Parts: ghrust (ghrust@49477F7E.6A2AE50.F3114085.IP) ()
[22:58:57] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[22:59:29] <brson> acrichto: all the bots have dns names now though
[22:59:47] <brson> eg rust-mac5.corp.mtv2.mozilla.com
[23:00:13] <acrichto> oh I presume the ips changed as well
[23:00:26] <brson> yes
[23:00:27] *** Quits: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP) (Ping timeout)
[23:01:33] <acrichto> brson: hm, it appears I can't log in to mac5
[23:02:19] <brson> as administrator?
[23:02:19] <acrichto> ah nmvd
[23:02:21] <acrichto> yeah
[23:02:31] <acrichto> you can reach mac3/mac4?
[23:02:36] <acrichto> they just can't reach the buildmaster?
[23:02:42] <brson> yes
[23:02:51] <acrichto> I can't reach mac3/mac4 from SF
[23:03:08] <acrichto> can't ping rust-mac3.corp.mtv2.mozilla.com
[23:04:02] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[23:04:21] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[23:04:44] <brson> may be related to 3/4 not being able to connect to the build master
[23:05:16] <acrichto> it just got a comment on bugzilla
[23:05:20] <acrichto> something about gateways may be off
[23:05:39] <brson> ifconfig doesn't say anything about default gateways
[23:05:50] <acrichto> sounds suspicious
[23:06:18] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[23:07:19] *** Quits: dherman (dherman@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: dherman)
[23:09:30] <acrichto> brson: you should be able to change it from network preferences on the machine?
[23:09:38] <acrichto> or do you only have ssh access?
[23:10:09] <brson> i'd rather not plug in a monitor, but am I really supposed to manually edit this?
[23:10:17] <brson> i think this is something i've never changed before
[23:10:17] <acrichto> hmm...
[23:10:32] <acrichto> http://apple.stackexchange.com/questions/33097/how-to-change-the-default-gateway-of-a-mac-osx-machine
[23:10:36] <acrichto> route delete default
[23:10:38] <acrichto> route add default 192.168.0.1
[23:10:42] <acrichto> (perhaps)
[23:11:39] <brson> omg deleting the default route is probably something i should not be doing without supervision
[23:11:49] <brson> not sure what i've done but I can't ping anything
[23:11:58] <acrichto> oh
[23:11:59] <acrichto> yes
[23:11:59] <mcpherrin> haha you probably need a default route
[23:12:05] <acrichto> that would kill all ssh connections
[23:12:11] <mcpherrin> or at least routes to where you're connecting from
[23:12:16] <brson> i still have my ssh connection!
[23:12:19] <acrichto> wow
[23:12:24] <acrichto> I'm kinda surprised
[23:12:26] <acrichto> oh wait of course
[23:12:30] <acrichto> that only needs it for new connections...
[23:12:34] <acrichto> I think...
[23:12:37] <mcpherrin> uh, I don't think that's true
[23:12:49] <mcpherrin> I don't know the OS X network stack though
[23:14:17] *** Quits: larsberg (sid16141@moz-A42E5B7B.irccloud.com) (Ping timeout)
[23:14:49] *** Quits: tca (sid17279@moz-A42E5B7B.irccloud.com) (Ping timeout)
[23:14:49] *** Quits: ggherdov_ (sid11402@moz-E77DEB21.irccloud.com) (Ping timeout)
[23:14:49] *** Quits: jack (sid19593@moz-A42E5B7B.irccloud.com) (Ping timeout)
[23:17:16] <ChrisMorgan> Some problems get fixed by rebooting. Other problems become insurmountable by rebooting!
[23:19:22] *** Quits: TimAbraldes (quassel@125EF623.B2666F0E.66399531.IP) (Input/output error)
[23:24:17] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[23:35:31] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[23:47:01] *** Joins: ghrust (ghrust@4089EBDC.6A2AE50.F3114085.IP)
[23:47:01] <ghrust> [13rust] 15bors pushed 2 new commits to 06auto: 02http://git.io/8B1MLA
[23:47:01] <ghrust> 13rust/06auto 14a198d54 15Ziad Hatahet: Documentation and formatting changes for option.rs.
[23:47:01] <ghrust> 13rust/06auto 1473bff98 15bors: auto merge of #12965 : hatahet/rust/option_doc, r=alexcrichton
[23:47:02] *** Parts: ghrust (ghrust@4089EBDC.6A2AE50.F3114085.IP) ()
[23:49:31] *** Joins: larsberg (larsberg@moz-5D8E4B14.lightspeed.cicril.sbcglobal.net)
[23:51:14] *** Joins: jack (jack@moz-DF5A9AA3.members.linode.com)
[23:52:04] *** Quits: japaric1 (japaric@A04A13FD.EFCA05B1.5C7588CA.IP) (Ping timeout)
[23:53:34] *** Joins: japaric1 (japaric@F7ED54E5.59294C36.95AFB88D.IP)
[23:58:19] <esummers> brson: @acrichto: Maybe you figured it out, but I think you were looking for `man networksetup`.  `route` might work until you reboot though.
[23:58:54] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
