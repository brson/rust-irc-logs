[00:01:08] *** Quits: Rym_ (y@moz-c2u.sd4.38.217.IP) (Ping timeout: 121 seconds)
[00:01:55] *** Joins: jgallagher (john@moz-6ge.dhn.131.24.IP)
[00:01:57] *** Joins: swgillespie (swgillespie@moz-1i5.3un.220.167.IP)
[00:02:29] *** Joins: mfranzwa (mike@moz-or1vuv.ca.comcast.net)
[00:06:10] <annodomini> Was wondering where all the trolls had come from, there's a thread on 4chan linking to the threads and tickets on diversity.
[00:06:23] <geofft> *sigh* 
[00:08:57] <nrc> :-(
[00:10:49] *** Joins: Rym_ (y@moz-c2u.sd4.38.217.IP)
[00:14:39] *** Joins: harrisonclarke (harrisoncla@moz-b21rr4.eastlink.ca)
[00:14:46] *** Quits: mfranzwa (mike@moz-or1vuv.ca.comcast.net) (Client exited)
[00:15:33] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[00:16:46] <aatch> I personally think it's all blown out of proportion on both sides. But unless it (somehow) starts affecting the technical aspects of Rust, I don't care.
[00:17:51] *** Joins: mfranzwa (mike@moz-or1vuv.ca.comcast.net)
[00:18:51] <bstrie> annodomini: where?
[00:18:56] <bstrie> annodomini: can I get links?
[00:19:44] <annodomini> bstrie: sent via private message
[00:23:52] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[00:27:01] *** Quits: ytain (ytain@moz-07c3h9.dsl.teksavvy.com) (Quit: Textual IRC Client: www.textualapp.com)
[00:30:53] *** Quits: aldeka (quassel@moz-qqf.of6.243.162.IP) (Connection closed)
[00:30:54] *** Joins: aldeka (quassel@moz-qqf.of6.243.162.IP)
[00:46:27] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[00:46:41] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[00:48:33] <bstrie> Manishearth: ping
[00:49:43] *** Quits: Kingsquee (kingsley@moz-3fm07c.bchsia.telus.net) (Quit: Konversation terminated!)
[00:58:08] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[00:58:15] *** Quits: brson (brson@moz-cfhap5.mtv2.mozilla.com) (Quit: leaving)
[00:59:43] <bstrie> Manishearth: annodomini and I were wondering if the modteam has a batsignal that we can use when stuff like https://github.com/rust-lang/rust/issues/25650 rears its head
[01:07:23] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[01:08:39] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[01:12:37] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[01:12:59] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[01:22:49] *** Quits: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[01:24:28] *** Joins: joneshf-laptop (joneshf@moz-l4h.b5s.208.98.IP)
[01:25:50] <bstrie> burntsushi: thanks for locking that thread, btw
[01:29:42] *** Quits: gsingh93 (gulshan@moz-ln1ktu.st3l.iv8o.0004.2601.IP) (Ping timeout: 121 seconds)
[01:30:01] *** Joins: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se)
[01:30:35] *** Joins: summerlight (summerlight@moz-99k.2mj.130.121.IP)
[01:31:26] *** Quits: Rym_ (y@moz-c2u.sd4.38.217.IP) (Connection closed)
[01:31:41] *** Joins: Rym_ (y@moz-c2u.sd4.38.217.IP)
[01:32:50] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[01:36:39] *** Quits: harrisonclarke (harrisoncla@moz-b21rr4.eastlink.ca) (Connection closed)
[01:37:13] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[01:48:36] *** Quits: jga (jga@moz-57d.t1q.244.77.IP) (Ping timeout: 121 seconds)
[01:49:50] *** Quits: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[01:50:35] *** Quits: davebettin (davebettin@moz-acc.cl4.35.72.IP) (Ping timeout: 121 seconds)
[01:53:10] <Eridius> nmatsakis: your peg parser macros thing is very neat. But I'm a bit confused about the regexp exceptions thing. Looking at the wikipedia page for Parsing expression grammar, it defines two predices And (&e) and Not (!e) that don't seem to be in your macros, and `regexp(foo) - [exception]` seems like it should just be `!exception, regexp(foo)`
[01:58:14] *** Quits: swgillespie (swgillespie@moz-1i5.3un.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[02:00:39] *** Joins: c0170 (c0170@moz-4stj9o.cable.virginm.net)
[02:03:59] *** Quits: zz_kimundi (kimundi@moz-e86r7p.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[02:06:35] *** Joins: zz_kimundi (kimundi@moz-pgadja.dip0.t-ipconnect.de)
[02:06:37] *** zz_kimundi is now known as kimundi
[02:06:42] *** Quits: c0170 (c0170@moz-4stj9o.cable.virginm.net) (Ping timeout: 121 seconds)
[02:07:18] *** Quits: barosl (barosl@moz-tmp.qma.67.220.IP) (Quit: Leaving)
[02:07:46] *** Quits: XMPPwocky (wocky@moz-70npf7.net) (Quit: leaving)
[02:09:05] *** Joins: harrisonclarke (harrisoncla@moz-b21rr4.eastlink.ca)
[02:09:19] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[02:10:02] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[02:10:32] *** Joins: barosl (barosl@moz-tmp.qma.67.220.IP)
[02:10:49] *** Quits: harrisonclarke (harrisoncla@moz-b21rr4.eastlink.ca) (Connection closed)
[02:15:43] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[02:16:05] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[02:24:05] *** Quits: kmcguire (kmcguire@moz-bbqf14.res.bhn.net) (Ping timeout: 121 seconds)
[02:24:30] *** Quits: blank_name (blank_name@moz-5t8mvg.mi.frontiernet.net) (Quit: leaving)
[02:26:40] <ChrisMorgan> acrichto: r? https://github.com/rust-lang/rust-playpen/pull/111
[02:27:06] *** Joins: blank_name (blank_name@moz-5t8mvg.mi.frontiernet.net)
[02:34:09] *** Quits: steshaw (sid30841@moz-eom82r.uxbridge.irccloud.com) (Quit: )
[02:34:18] *** Joins: steshaw (sid30841@moz-mij4a1.highgate.irccloud.com)
[02:38:49] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[02:41:25] *** Joins: gsingh93 (gulshan@moz-ln1ktu.st3l.iv8o.0004.2601.IP)
[02:42:32] *** Quits: joh (uid13099@moz-2c7ap3.ealing.irccloud.com) (Quit: Connection closed for inactivity)
[02:42:38] *** Quits: mfranzwa (mike@moz-or1vuv.ca.comcast.net) (Client exited)
[02:45:13] *** Quits: annodomini (lambda@moz-hceqmj.hfc.comcastbusiness.net) (Client exited)
[02:46:23] *** Quits: gsingh93 (gulshan@moz-ln1ktu.st3l.iv8o.0004.2601.IP) (Ping timeout: 121 seconds)
[02:47:45] *** Joins: blank_na1e (blank_name@moz-0lko1v.mi.frontiernet.net)
[02:48:30] *** Joins: bdero (bran@moz-lbs.91h.47.73.IP)
[02:50:17] *** Quits: blank_name (blank_name@moz-5t8mvg.mi.frontiernet.net) (Ping timeout: 121 seconds)
[02:50:28] *** Joins: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net)
[02:50:28] *** ChanServ sets mode: +o pcwalton
[02:51:30] *** Quits: bdero (bran@moz-lbs.91h.47.73.IP) (Connection closed)
[02:51:50] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[02:51:51] *** Quits: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net) (Client exited)
[02:52:09] *** Joins: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net)
[02:52:09] *** ChanServ sets mode: +o pcwalton
[02:52:20] *** Quits: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net) (Client exited)
[02:54:27] *** Joins: bdero (bran@moz-216hqv.oo5r.e4su.0006.2601.IP)
[03:00:09] *** Joins: mib_zrk8lk (Mibbit@moz-juv.9o3.252.72.IP)
[03:03:05] *** Quits: kimundi (kimundi@moz-pgadja.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[03:04:37] *** Joins: zz_kimundi (kimundi@moz-uvfh0m.dip0.t-ipconnect.de)
[03:04:38] *** zz_kimundi is now known as kimundi
[03:16:16] *** Joins: adu (ajr@moz-0foa9t.md.comcast.net)
[03:19:33] *** Joins: SilverKey (SilverKey@moz-liif3j.res.rr.com)
[03:19:41] *** Quits: SilverKey (SilverKey@moz-liif3j.res.rr.com) (Quit: Cheerio!)
[03:20:54] *** Quits: mib_zrk8lk (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[03:27:35] *** Joins: semarie (semarie@moz-skq614.dfri.se)
[03:38:32] *** Quits: chc4 (chc4@moz-pdo0at.ma.comcast.net) (Quit: AHHHHH BEES)
[03:41:59] *** Quits: bdero (bran@moz-216hqv.oo5r.e4su.0006.2601.IP) (Ping timeout: 121 seconds)
[03:44:37] *** Quits: scott (uid25790@moz-e5ok1n.brockwell.irccloud.com) (Quit: Connection closed for inactivity)
[03:50:20] *** Joins: Kingsquee (kingsley@moz-k2ccpb.va.shawcable.net)
[03:52:21] *** Joins: c74d3 (c74d3a4ebb6@moz-iklbs1.mggc.hibn.4404.2002.IP)
[03:52:50] *** Quits: c74d (c74d3a4ebb6@moz-0ersgu.oc.cox.net) (Ping timeout: 121 seconds)
[03:58:49] *** Quits: c74d3 (c74d3a4ebb6@moz-iklbs1.mggc.hibn.4404.2002.IP) (Ping timeout: 121 seconds)
[04:01:06] *** Joins: c74d (c74d3a4ebb6@moz-c0t2f8.mggc.hibn.4404.2002.IP)
[04:07:02] *** Quits: adu (ajr@moz-0foa9t.md.comcast.net) (Client exited)
[04:29:59] *** Joins: davebettin (davebettin@moz-acc.cl4.35.72.IP)
[04:45:38] *** Quits: Rym_ (y@moz-c2u.sd4.38.217.IP) (Ping timeout: 121 seconds)
[04:52:33] <sfackler> is it possible to do something like this without transmuting? http://is.gd/lgv54Y
[04:52:49] <sfackler> removing the ref breaks because it tries to move the &mut X
[04:53:32] <bstrie> heh, am I right in thinking that the answer to this is just "LLVM is pretty smart?" https://www.reddit.com/r/rust/comments/36gqop/hey_new_rust_users_got_an_easy_question_ask_it/crg1zjk
[04:54:07] <nrc> bstrie: yes
[04:54:09] <reem> almost certainly
[04:54:35] <nrc> (although it is always possible their code is wrong)
[04:54:40] <Manishearth> bstrie: rust-mods@googlegroups.com
[04:54:47] <Manishearth> that's temporary
[04:55:23] <nrc> oh, there is a link to the code
[04:55:38] <nrc> yeah, I bet llvm optimises the hell out of that
[04:56:23] <nrc> goddamit, I was going to have the best ever commit streak with this account and I screwed it up already: https://github.com/rust-timer
[04:57:55] <ChrisMorgan> sfackler: you’re trying to live the dangerous life, aren’t you. The compiler is right to stop you from doing it, because you *are* introducing incorrect aliasing.
[04:59:30] <sfackler> the mutable reference will be transitively frozen, won't it?
[05:03:03] <ChrisMorgan> sfackler: http://is.gd/AamECz
[05:03:12] <ChrisMorgan> Proof that it’ll explode if you transmute.
[05:03:46] <ChrisMorgan> sfackler: start by assuming that if the compiler doesn’t let you do something, it’s right!
[05:04:02] <ChrisMorgan> Even if you’re fairly confident you’re right, it’s still probably right!
[05:04:18] <sfackler> oh yeah, since the ref would outlive the destruction of the thing that's freezing it
[05:04:25] <ChrisMorgan> Quite.
[05:04:33] <sfackler> alas
[05:05:26] * ChrisMorgan never seems to win in a disagreement with the compiler outside of limitations that will be lifted with SEME
[05:06:08] <sfackler> seme?
[05:06:16] <ChrisMorgan> !SEME
[05:06:29] <ChrisMorgan> Bah, no rustbot.
[05:07:23] *** Joins: rustbot (havvy@moz-u0e4io.net)
[05:07:56] <ChrisMorgan> !SEME @ sfackler
[05:07:56] <rustbot> sfackler: Non-lexical borrow scopes https://github.com/rust-lang/rfcs/issues/811
[05:07:59] *** Joins: p1start (p1start@moz-nftjhe.org)
[05:08:11] *** Joins: guewen (guewen@moz-ftf7u4.cust.swisscom.ch)
[05:08:41] <sfackler> oh right
[05:12:21] *** Joins: Rym_ (y@moz-c2u.sd4.38.217.IP)
[05:12:49] *** Quits: Diggsey (diggsey@moz-1vrf3h.dsl.pipex.com) (Ping timeout: 121 seconds)
[05:16:53] *** Quits: Rym_ (y@moz-c2u.sd4.38.217.IP) (Ping timeout: 121 seconds)
[05:34:01] *** Quits: jbomo (dkd@moz-uol4mm.fios.verizon.net) (Quit: )
[05:40:29] *** Quits: O01eg (o01eg@moz-587.n83.112.37.IP) (Client exited)
[05:40:39] *** Quits: eddyb (eddyb@moz-ure.pug.25.188.IP) (Ping timeout: 121 seconds)
[05:41:10] <Mutabah> Where would I look to get a definitive spec of how macro_rules expands? (Specifically, how repetitions are handled)
[05:42:44] *** Joins: adu (ajr@moz-0foa9t.md.comcast.net)
[05:50:09] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[05:52:11] *** Quits: genbattle (genbattle@moz-4v0.gkd.16.182.IP) (Ping timeout: 121 seconds)
[05:55:30] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[05:57:28] *** Quits: aatch (james@moz-8r6eer.orns.ubhm.e000.2406.IP) (Connection closed)
[05:58:17] *** Quits: amir (amir@moz-jnohkj.3bcq.01f6.0168.2a02.IP) (Ping timeout: 121 seconds)
[06:00:19] *** Quits: rprichard (rprichard@moz-5v7oqc.en8f.d045.0009.2601.IP) (Ping timeout: 121 seconds)
[06:05:58] *** Joins: munksgaard (munksgaard@moz-478pev.u.parknet.dk)
[06:06:31] *** Joins: Rym_ (y@moz-c2u.sd4.38.217.IP)
[06:07:00] *** Joins: ptalbot (ptalbot@moz-g2mokk.ircam.fr)
[06:07:30] *** Joins: erz (erz@moz-fiq1tl.broadband.corbina.ru)
[06:07:55] *** Joins: c74d3 (c74d3a4ebb6@moz-0ersgu.oc.cox.net)
[06:08:01] *** Quits: c74d (c74d3a4ebb6@moz-c0t2f8.mggc.hibn.4404.2002.IP) (Ping timeout: 121 seconds)
[06:10:41] *** Quits: c74d3 (c74d3a4ebb6@moz-0ersgu.oc.cox.net) (Connection closed)
[06:10:57] *** Joins: c0170 (c0170@moz-bb29a4.cambridge.arm.com)
[06:11:03] *** Quits: Rym_ (y@moz-c2u.sd4.38.217.IP) (Ping timeout: 121 seconds)
[06:11:03] *** Joins: c74d (c74d3a4ebb6@moz-0ersgu.oc.cox.net)
[06:12:25] *** Joins: rprichard (rprichard@moz-b65edn.en8f.d045.0009.2601.IP)
[06:12:58] *** Joins: amir (amir@moz-qbf4gg.fiber7.init7.net)
[06:13:53] *** Quits: c74d (c74d3a4ebb6@moz-0ersgu.oc.cox.net) (Connection closed)
[06:14:03] *** Quits: Kingsquee (kingsley@moz-k2ccpb.va.shawcable.net) (Quit: Konversation terminated!)
[06:14:11] *** Joins: c74d (c74d3a4ebb6@moz-0ersgu.oc.cox.net)
[06:22:16] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[06:23:25] *** Quits: munksgaard (munksgaard@moz-478pev.u.parknet.dk) (Ping timeout: 121 seconds)
[06:27:49] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[06:27:57] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Quit: It's a joke, it's all a joke.)
[06:29:50] *** Quits: c74d (c74d3a4ebb6@moz-0ersgu.oc.cox.net) (Connection closed)
[06:30:40] *** Quits: davebettin (davebettin@moz-acc.cl4.35.72.IP) (Ping timeout: 121 seconds)
[06:31:00] *** Joins: c74d (c74d3a4ebb6@moz-0ersgu.oc.cox.net)
[06:32:03] *** Quits: adu (ajr@moz-0foa9t.md.comcast.net) (Client exited)
[06:34:08] *** Joins: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se)
[06:40:28] *** Joins: munksgaard (munksgaard@moz-478pev.u.parknet.dk)
[06:43:55] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[06:44:38] *** Joins: joh (uid13099@moz-2c7ap3.ealing.irccloud.com)
[06:46:57] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[06:48:30] *** Joins: squiddy (squiddy@moz-md4.pm3.19.178.IP)
[06:48:40] *** Quits: njn (chatzilla@moz-jkhneq.iinet.net.au) (Quit: ChatZilla 0.9.91.1 [Firefox 41.0a1/20150517160022])
[06:53:40] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[06:53:53] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[06:54:41] <bstrie> nmatsakis: the question from #rust is, why do we allow [T] for unsized T, if such types cannot be instantiated
[06:55:51] <ChrisMorgan> For comparison, Vec<T> requires T: Sized.
[06:55:52] <Manishearth> Mutabah: the code is a definitive spec
[06:55:52] * Mutabah is away (Screen Detached)
[06:55:57] <Manishearth> :p
[06:58:09] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Ping timeout: 121 seconds)
[06:58:52] <bstrie> steveklabnik: the links to install rust on windows in trpl point to beta installers, although in the source this has already been fixed. can we update the page?
[07:00:40] *** Joins: Rym_ (y@moz-c2u.sd4.38.217.IP)
[07:02:21] *** Joins: Kingsquee (kingsley@moz-3fm07c.bchsia.telus.net)
[07:05:12] *** Quits: Rym_ (y@moz-c2u.sd4.38.217.IP) (Ping timeout: 121 seconds)
[07:08:03] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[07:08:37] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[07:09:05] *** Quits: munksgaard (munksgaard@moz-478pev.u.parknet.dk) (Ping timeout: 121 seconds)
[07:09:20] <semarie> if someone wants to review gh25648, if would help to build under openbsd (and will unbreak bitrig too)
[07:09:20] <[o__o]> use posix command to extract first 8 chars: https://github.com/rust-lang/rust/pull/25648
[07:09:56] <semarie> hum... *may* unbreak bitrig. I am not sure if the problem is related or not
[07:10:29] *** Joins: munksgaard (munksgaard@moz-478pev.u.parknet.dk)
[07:12:20] *** Joins: Tuba (Tobba@moz-6oh.7ki.21.217.IP)
[07:13:15] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Client exited)
[07:14:57] <Luqman> semarie: `cut` adds a newline whereas head doesn't, not sure how much that matters though
[07:16:11] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[07:16:35] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[07:17:34] *** Joins: tamird_ (textual@moz-cb8kq7.east.verizon.net)
[07:18:14] <semarie> Luqman: it shouldn't be a problem as it is used in a shell variable (configure script)
[07:18:19] <semarie> TEST=`echo -n a` ; echo ${TEST}
[07:18:22] <semarie> TEST=`echo a` ; echo ${TEST}
[07:18:26] <semarie> are the same
[07:19:23] <Luqman> semarie: ok, r+!
[07:19:43] <semarie> (wait, the command is in mk/main.mk a Makefile, but it is the same result)
[07:19:53] <semarie> the PR run fine under openbsd
[07:20:08] *** Quits: tamird (textual@moz-cb8kq7.east.verizon.net) (Ping timeout: 121 seconds)
[07:21:49] *** Quits: munksgaard (munksgaard@moz-478pev.u.parknet.dk) (Ping timeout: 121 seconds)
[07:24:05] <semarie> Luqman: thanks !
[07:24:11] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[07:24:11] *** ChanServ sets mode: +ao erickt erickt
[07:25:13] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[07:25:19] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[07:28:52] *** Joins: munksgaard (munksgaard@moz-urnkl5.u.parknet.dk)
[07:29:01] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[07:32:12] <nrc> bstrie: http://www.reddit.com/r/rust/comments/36gqop/hey_new_rust_users_got_an_easy_question_ask_it/ is a really great idea :-)
[07:33:32] <bstrie> nrc: thanks! what would be an even better idea would be to go through weekly and harvest the questions and stick them on SO
[07:36:09] <nrc> I was just thinking it would be a great source for a FAQ or SO
[07:36:49] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[07:41:23] *** Joins: skeuomorf (skeuomorf@moz-k2d.2md.32.197.IP)
[07:45:29] *** Quits: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com) (Ping timeout: 121 seconds)
[07:46:27] *** Joins: imperio (Mibbit@moz-rvj4o4.abo.wanadoo.fr)
[07:46:45] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[07:52:37] *** Quits: Skyler (Skyler@moz-rv949t.sd.cox.net) (Connection closed)
[07:52:50] *** Joins: Skyler (Skyler@moz-rv949t.sd.cox.net)
[07:54:21] *** Quits: rprichard (rprichard@moz-b65edn.en8f.d045.0009.2601.IP) (Connection closed)
[07:54:48] *** Joins: Rym_ (y@moz-c2u.sd4.38.217.IP)
[07:55:05] *** Tuba is now known as Tobba
[07:55:50] <Mutabah> Manishearth: :) Yeah, that means I need to find said code and understand it
[07:58:14] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[07:58:27] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[07:59:20] *** Quits: Rym_ (y@moz-c2u.sd4.38.217.IP) (Ping timeout: 121 seconds)
[08:00:01] <Manishearth> Mutabah: hmm
[08:00:04] <Manishearth> https://github.com/rust-lang/rust/blob/master/src/libsyntax/ext/expand.rs#L370
[08:00:07] <Manishearth> looks likely
[08:02:07] <Mutabah> :/ welcome to opaque rustc code
[08:02:08] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[08:02:09] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[08:02:11] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Connection closed)
[08:02:32] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[08:02:53] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[08:02:58] <Manishearth> heh
[08:03:27] *** Joins: dinfuehr (dinfuehr@moz-c25.u8s.112.91.IP)
[08:04:37] *** Quits: munksgaard (munksgaard@moz-urnkl5.u.parknet.dk) (Ping timeout: 121 seconds)
[08:04:44] *** Joins: filsmick (filsmick@moz-15h0td.abo.wanadoo.fr)
[08:05:25] <imperio> Manishearth: I think there is a problem on my PR (there are 3 commits instead of 1 !)
[08:05:46] <imperio> you sure you wanna rollup it ?
[08:05:59] <Manishearth> imperio: oh that's just github being wonky
[08:06:07] <imperio> pfiou
[08:06:17] <Manishearth> imperio: oh wait you did a revert
[08:06:25] <imperio> I didn't
[08:06:28] <Manishearth> imperio: please get rid of those commits and force push :)
[08:06:36] <imperio> ah you see =D
[08:06:37] <Manishearth> https://github.com/rust-lang/rust/pull/25670
[08:07:12] <Manishearth> imperio: are you doing it now or should I exclude it?
[08:07:16] <imperio> well, let's hope git will allow to clone locally
[08:07:26] <imperio> Manishearth: I think you should exclude it
[08:07:30] <Manishearth> kay
[08:07:49] <imperio> I didn't think you'd be this fast :p
[08:08:13] *** Joins: zmack (zmack@moz-htpein.home.aster.pl)
[08:08:54] <Mutabah> Manishearth: libsyntax/ext/tt/macro_rules.rs
[08:09:10] <Manishearth> ohhhh
[08:09:12] <Manishearth> that makes sense
[08:09:25] <Manishearth> I knew it would be in ext but I couldnt find it
[08:09:31] <Manishearth> forgot that macros operate on tt not ast
[08:10:37] <imperio> Manishearth: I'll fix it this evening, I can't clone from where I am it seems
[08:11:13] <Manishearth> cool
[08:11:16] <Manishearth> neither can I
[08:11:56] <imperio> proxy is annoying...
[08:13:13] *** Quits: c0170 (c0170@moz-bb29a4.cambridge.arm.com) (Ping timeout: 121 seconds)
[08:13:33] *** Quits: vadimcn (uid46608@moz-o7asbu.uxbridge.irccloud.com) (Quit: )
[08:13:38] *** Joins: vadimcn (uid46608@moz-0d43u8.highgate.irccloud.com)
[08:16:31] *** Joins: c0170 (c0170@moz-bb29a4.cambridge.arm.com)
[08:17:42] *** Joins: kushal (kdas@moz-faf1tq.202.sitibroadband.in)
[08:18:45] <semarie> Manishearth: as you have rollup 25648 (which is pending now), you should force to test your rollup-PR I think.
[08:19:22] <Manishearth> ah bors didn;t catch the force
[08:22:16] *** Joins: sigma (sigma@moz-llrbra.range86-135.btcentralplus.com)
[08:22:35] *** Joins: nicknikolov (nicknikolov@moz-k08.qm9.214.90.IP)
[08:33:32] *** Joins: munksgaard (munksgaard@moz-vj4.hq0.225.130.IP)
[08:41:23] *** Quits: filsmick (filsmick@moz-15h0td.abo.wanadoo.fr) (Quit: )
[08:41:26] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[08:46:04] *** Quits: Tobba (Tobba@moz-6oh.7ki.21.217.IP) (Ping timeout: 121 seconds)
[08:47:57] *** Joins: Tobba (Tobba@moz-6oh.7ki.21.217.IP)
[08:48:58] *** Joins: Rym_ (y@moz-c2u.sd4.38.217.IP)
[08:49:48] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[08:53:56] *** Quits: Rym_ (y@moz-c2u.sd4.38.217.IP) (Ping timeout: 121 seconds)
[08:54:17] *** Quits: nham (nham@moz-755.bu3.214.98.IP) (Quit: leaving)
[09:04:45] *** Quits: Tobba (Tobba@moz-6oh.7ki.21.217.IP) (Ping timeout: 121 seconds)
[09:06:29] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[09:14:19] *** Quits: Kingsquee (kingsley@moz-3fm07c.bchsia.telus.net) (Quit: Konversation terminated!)
[09:20:27] *** Joins: andreabe_ (andreabedin@moz-fpvfar.iinet.net.au)
[09:20:41] *** Joins: Rym_ (y@moz-c2u.sd4.38.217.IP)
[09:22:29] *** Joins: Kingsquee (kingsley@moz-3fm07c.bchsia.telus.net)
[09:23:34] *** Joins: laumann (thomas@moz-gqpfnm.science.ku.dk)
[09:25:12] *** Quits: Rym_ (y@moz-c2u.sd4.38.217.IP) (Ping timeout: 121 seconds)
[09:27:55] *** Quits: nicknikolov (nicknikolov@moz-k08.qm9.214.90.IP) (Connection closed)
[09:29:24] <nmatsakis> Eridius: it's just that it's way more efficient to do a hashset lookup (and nice to have a convenient notation); but I'm not especially happy with that aspect of the parser, particularly as it is not DRY
[09:30:07] <nmatsakis> Eridius: and yeah, I haven't added & and !, they are easy to add and indisputably useful, but also somewhat at odds with some other directions I might like to go
[09:46:02] <nmatsakis> Eridius: (note that I don't claim to have done measurements ;)
[09:47:52] *** Joins: bjz (bjz@moz-65q0ko.tpgi.com.au)
[09:54:42] *** Joins: nicknikolov (nicknikolov@moz-k08.qm9.214.90.IP)
[09:57:03] <bstrie> nmatsakis: did you see the [T] question from earlier?
[09:58:53] *** Quits: nicknikolov (nicknikolov@moz-k08.qm9.214.90.IP) (Ping timeout: 121 seconds)
[10:02:14] *** Quits: andreabe_ (andreabedin@moz-fpvfar.iinet.net.au) (Quit: My Mac has gone to sleep. ZZZzzz…)
[10:02:52] <nmatsakis> bstrie: no, oh, I see it now. We probably shouldn't, is the answer. In general, we do try to avoid permitting `Foo<T>` where the where-clauses on `Foo` are not met, and I think this falls into that category.
[10:04:39] *** Joins: nicknikolov (nicknikolov@moz-k08.qm9.214.90.IP)
[10:04:49] <bstrie> nmatsakis: it would be an interesting case to remove it, becauase *technically* it's a breaking change as per the RFC, but it's impossible to instantiate so there's no sense to using it
[10:04:54] *** Quits: nicknikolov (nicknikolov@moz-k08.qm9.214.90.IP) (Connection closed)
[10:04:55] *** Joins: nicknikolov (nicknikolov@moz-k08.qm9.214.90.IP)
[10:05:09] <bstrie> unless maybe someone was doing something crazy with phantom types? dunno if that even makes sense
[10:06:15] <bstrie> I'd say run crater to be sure, but it's probably safe to just call it a bugfix
[10:06:33] <bstrie> but maybe we could just leave it in, I dunno
[10:06:53] <bstrie> it's not actually harming anything, but it is a head-scratcher to some
[10:09:20] <Manishearth> bstrie: I'm wondering what happens if we use transmute to refer to some random portion of allocated heap memory with this
[10:09:38] <Manishearth> becuase really the compiler shouldn't know how to handle [str] in the first place
[10:09:44] <Manishearth> *because
[10:10:33] *** Quits: aepsil0n (eduard@moz-6491ha.mv2h.pepi.8071.2a02.IP) (Ping timeout: 121 seconds)
[10:11:49] *** Joins: aepsil0n (eduard@moz-q1v5ai.mv2h.pepi.8071.2a02.IP)
[10:13:52] *** Joins: jga (jga@moz-a3p.t1q.244.77.IP)
[10:14:50] *** Joins: Rym_ (y@moz-c2u.sd4.38.217.IP)
[10:19:09] <bstrie> Manishearth: sounds like undefined behavior
[10:19:22] *** Quits: Rym_ (y@moz-c2u.sd4.38.217.IP) (Ping timeout: 121 seconds)
[10:19:40] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[10:19:47] <bstrie> can we please petition the language community to rename "undefined behavior" to "impossible behavior"
[10:30:48] *** Joins: pnkfelix (pnkfelix@moz-6v5.3nd.202.89.IP)
[10:30:48] *** ChanServ sets mode: +ao pnkfelix pnkfelix
[10:33:18] *** Joins: nodweber (nodweber@moz-rc2.a7k.178.5.IP)
[10:44:44] *** Joins: eddyb (eddyb@moz-ure.pug.25.188.IP)
[10:46:56] *** Joins: vmx (vmx@moz-hnvtfl.dip0.t-ipconnect.de)
[10:52:33] *** Joins: jevin_ (jevin@moz-sra.ovp.12.72.IP)
[10:53:56] *** Quits: jevin (jevin@moz-sra.ovp.12.72.IP) (Ping timeout: 121 seconds)
[10:56:04] *** Joins: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com)
[10:57:00] <huon> bstrie: what about "illegal behaviour"?
[10:57:09] *** Joins: andreabe_ (andreabedin@moz-fpvfar.iinet.net.au)
[10:58:33] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[10:59:06] *** Quits: andreabe_ (andreabedin@moz-fpvfar.iinet.net.au) (Quit: Textual IRC Client: www.textualapp.com)
[11:01:47] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[11:01:47] *** ChanServ sets mode: +ao erickt erickt
[11:03:29] *** Quits: aepsil0n (eduard@moz-q1v5ai.mv2h.pepi.8071.2a02.IP) (Ping timeout: 121 seconds)
[11:05:10] *** Quits: nrc (nrc|afk@moz-14pjgj.xtra.co.nz) (Quit: ChatZilla 0.9.91.1 [Firefox 40.0a1/20150504030210])
[11:05:38] *** Quits: p1start (p1start@moz-nftjhe.org) (Ping timeout: 121 seconds)
[11:06:30] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[11:07:57] *** Joins: aepsil0n (eduard@moz-q1v5ai.mv2h.pepi.8071.2a02.IP)
[11:08:59] *** Joins: Rym_ (y@moz-c2u.sd4.38.217.IP)
[11:12:04] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[11:13:32] *** Quits: Rym_ (y@moz-c2u.sd4.38.217.IP) (Ping timeout: 121 seconds)
[11:20:38] *** Quits: martin (martin@moz-bmp33l.u0v6.gff7.1608.2001.IP) (A TLS packet with unexpected length was received.)
[11:21:02] *** Joins: harrisonclarke (harrisoncla@moz-b21rr4.eastlink.ca)
[11:22:31] *** Joins: martin (martin@moz-bmp33l.u0v6.gff7.1608.2001.IP)
[11:23:25] *** Quits: bjz (bjz@moz-65q0ko.tpgi.com.au) (Quit: My Mac has gone to sleep. ZZZzzz…)
[11:26:18] *** Quits: harrisonclarke (harrisoncla@moz-b21rr4.eastlink.ca) (Connection closed)
[11:30:13] *** Quits: Kingsquee (kingsley@moz-3fm07c.bchsia.telus.net) (Quit: Konversation terminated!)
[11:30:47] *** Quits: ptalbot (ptalbot@moz-g2mokk.ircam.fr) (Ping timeout: 121 seconds)
[11:31:53] *** Joins: harrisonclarke (harrisoncla@moz-b21rr4.eastlink.ca)
[11:32:29] *** Quits: skeuomorf (skeuomorf@moz-k2d.2md.32.197.IP) (Ping timeout: 121 seconds)
[11:33:18] *** Joins: skeuomorf (skeuomorf@moz-k2d.2md.32.197.IP)
[11:33:23] *** Quits: imperio (Mibbit@moz-rvj4o4.abo.wanadoo.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[11:33:34] *** kimundi is now known as zz_kimundi
[11:34:06] <bluss> enhanced optimization techniques
[11:44:31] *** Quits: harrisonclarke (harrisoncla@moz-b21rr4.eastlink.ca) (Connection closed)
[11:45:02] *** Joins: harrisonclarke (harrisoncla@moz-b21rr4.eastlink.ca)
[11:45:24] *** Joins: imperio (Mibbit@moz-aibeqg.fbx.proxad.net)
[11:46:20] *** Joins: iitaku (textual@moz-u578hl.ocn.ne.jp)
[11:49:14] *** Quits: harrisonclarke (harrisoncla@moz-b21rr4.eastlink.ca) (Ping timeout: 121 seconds)
[11:49:58] *** Joins: harrisonclarke (harrisoncla@moz-b21rr4.eastlink.ca)
[11:52:33] *** Joins: zmack_ (zmack@moz-htpein.home.aster.pl)
[11:54:07] <pnkfelix> hmm homu queue is empty6
[11:54:29] *** Joins: tromey (tromey@moz-m3id6o.hlrn.qwest.net)
[11:55:15] *** Quits: zmack (zmack@moz-htpein.home.aster.pl) (Ping timeout: 121 seconds)
[11:55:35] *** Quits: iitaku (textual@moz-u578hl.ocn.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzz…)
[12:00:42] *** Joins: Sho (sho@moz-o6e.jgh.28.5.IP)
[12:01:22] *** Quits: jga (jga@moz-a3p.t1q.244.77.IP) (Ping timeout: 121 seconds)
[12:03:10] *** Joins: Rym_ (y@moz-c2u.sd4.38.217.IP)
[12:04:31] *** Joins: skeuomor1 (skeuomorf@moz-0j9.hq3.32.197.IP)
[12:04:52] *** zz_kimundi is now known as kimundi
[12:06:05] <bstrie> I'm on windows, when I download deps via cargo where is their source stored?
[12:06:15] <bstrie> ~/.cargo doesn't seem to ahve it
[12:06:32] <bstrie> oh, no, I'm dumb, those are directories
[12:07:18] *** Quits: skeuomorf (skeuomorf@moz-k2d.2md.32.197.IP) (Ping timeout: 121 seconds)
[12:07:42] *** Quits: Rym_ (y@moz-c2u.sd4.38.217.IP) (Ping timeout: 121 seconds)
[12:11:47] <bluss> rustdoc is so slow when compiled in debug mode. It's insane.
[12:27:00] *** Quits: nodweber (nodweber@moz-rc2.a7k.178.5.IP) (A TLS packet with unexpected length was received.)
[12:32:57] <bluss> rust gets so many PRs it's insane
[12:33:35] <bluss> I'm sure there are many important ones waiting, but if you want to give homu something you can approve this rustdoc fix https://github.com/rust-lang/rust/pull/25675
[12:33:38] <bluss> :)
[12:37:26] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[12:41:25] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[12:41:36] *** Joins: mukilan (mukilan@moz-vbh.502.164.122.IP)
[12:41:58] <nmatsakis> bstrie: I think that falls under the category of "bug fixes" and "soundness changes"; I plan to add some text expanding a bit there, it makes for an interesting example.
[12:42:00] *** Quits: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se) (Quit: Lost terminal)
[12:44:06] *** Joins: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se)
[12:45:24] *** Joins: bdero (bran@moz-lbs.91h.47.73.IP)
[12:46:34] *** Quits: skeuomor1 (skeuomorf@moz-0j9.hq3.32.197.IP) (Ping timeout: 121 seconds)
[12:53:54] *** Quits: harrisonclarke (harrisoncla@moz-b21rr4.eastlink.ca) (Connection closed)
[12:54:56] *** Quits: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[12:55:49] *** Joins: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se)
[12:57:19] *** Joins: Rym_ (y@moz-c2u.sd4.38.217.IP)
[12:58:15] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[12:58:55] <huon> pnkfelix: https://github.com/rust-lang/rust/pull/25646 could do with a review :)
[12:59:06] *** Joins: harrisonclarke (harrisoncla@moz-b21rr4.eastlink.ca)
[12:59:11] <huon> (if you're looking to maybe fill the queue)
[13:01:50] *** Quits: Rym_ (y@moz-c2u.sd4.38.217.IP) (Ping timeout: 121 seconds)
[13:02:35] <Sho> huon, https://github.com/rust-lang/kate-config/pull/9 :-)
[13:03:02] <pnkfelix> huon: yeah I'm in a mtg right now, and was thinkin I actually might try to revise gh25603 to provide more info about the actual error encountered
[13:03:03] <[o__o]> removes syntax diagnostic err code uniqueness check: https://github.com/rust-lang/rust/pull/25603
[13:05:36] *** Quits: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se) (Quit: Lost terminal)
[13:06:04] *** Joins: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se)
[13:13:36] *** Joins: bluss_ (bluss@moz-ec5o68.cust.bredbandsbolaget.se)
[13:14:44] *** Quits: ryanhiebert (ryanhiebert@moz-nsd5kl.ks.cox.net) (Ping timeout: 121 seconds)
[13:16:00] *** Joins: jdm (jdm@moz-4vu.06r.98.75.IP)
[13:16:30] *** Quits: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[13:16:37] *** bluss_ is now known as bluss
[13:16:45] *** Joins: ryanhiebert (ryanhiebert@moz-nsd5kl.ks.cox.net)
[13:18:00] *** Quits: harrisonclarke (harrisoncla@moz-b21rr4.eastlink.ca) (Connection closed)
[13:20:53] *** Quits: laumann (thomas@moz-gqpfnm.science.ku.dk) (Ping timeout: 121 seconds)
[13:22:56] *** Joins: laumann (thomas@moz-1i4.hq0.225.130.IP)
[13:24:13] *** Quits: tamird_ (textual@moz-cb8kq7.east.verizon.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[13:31:20] <bstrie> thinking about the current accepted rfc for placement in
[13:32:08] <bstrie> is the idea that doing the equivalent of `foo.emplace_back(2);` in C++ would be `in foo.emplace_back() { 2 };` in rust?
[13:34:57] *** Quits: jgallagher (john@moz-6ge.dhn.131.24.IP) (Client exited)
[13:36:18] <bstrie> because that's not really a favorable comparison, beauty-wise
[13:36:21] *** Joins: Rym_ (y@moz-c2u.sd4.38.217.IP)
[13:36:35] *** Joins: duesenfranz_ (jona@moz-711djm.tirol.surfer.at)
[13:37:59] *** kimundi is now known as zz_kimundi
[13:39:21] <huon> bstrie: (I guess it might be worth noting that `in` is more flexible as it works with anything that returns something of the right type, while, AFAICT, emplace_back only works with the fixed set of defined constructors)
[13:41:36] <bluss> but does it require new apis everywhere, adding emplace versions?
[13:42:08] <bstrie> huon: but C++'s emplace_back is just using placement-new internally, and that's as flexible as placement-in, right? the nice api here is actually due to argument forwarding
[13:42:42] <bstrie> afaiu
[13:45:01] <bstrie> huon: or are you implying that our protocol (which I still don't fully grasp the idea of) would allow us to have a public member on vecs such that we could do `in foo.back { 2 };` ?
[13:45:05] <bstrie> because that's not too bad
[13:46:02] *** Quits: ryanhiebert (ryanhiebert@moz-nsd5kl.ks.cox.net) (Connection closed)
[13:46:27] *** Quits: _Vi (vi@moz-bbs.vhj.131.104.IP) (Ping timeout: 121 seconds)
[13:47:18] *** Joins: iitaku (textual@moz-u578hl.ocn.ne.jp)
[13:49:11] *** Joins: harrisonclarke (harrisoncla@moz-th044a.ns.bellaliant.net)
[13:49:51] *** Joins: mjboa (mike@moz-gfdglf.hsi06.unitymediagroup.de)
[13:51:15] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[13:51:15] *** ChanServ sets mode: +ao erickt erickt
[13:51:42] <bstrie> maybe `in foo.place_back { 2 };`, and we could establish a convention that all public members that are places have such names
[13:52:14] <bstrie> but again I'm still assuming that it's possible for such a field to exist on the vec struct
[13:53:13] <bluss> you could have the function call syntax do blocks had
[13:53:20] *** Quits: harrisonclarke (harrisoncla@moz-th044a.ns.bellaliant.net) (Connection closed)
[13:53:38] <bstrie> and unless we can use type magic to keep the user from instantiating a proper place, we would need unsafe fields to actually expose such an api
[13:54:58] <bstrie> bluss: possibly
[13:55:05] *** Joins: ryanhiebert (ryanhiebert@moz-nsd5kl.ks.cox.net)
[13:55:48] <pnkfelix> huon: Hmm, is making align_of behave like min_align_of potentially a breaking chang?
[13:56:00] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[13:56:26] <pnkfelix> huon: I suppose relying on its particular value is analogous to relying on the particular output of our float->string routines (and we didn't classify fixing those as breaking changes)
[13:57:38] <pnkfelix> huon: Still, i do wonder whether the potential for breakage is worth pointing out more explicitly?
[13:58:08] <bstrie> pnkfelix: I think we did classify the new float formatting work as breaking, at least it was in twir
[13:58:33] <pnkfelix> bstrie: I don't *think* I tagged it as [breaking-change] though, let me check
[14:00:11] <pnkfelix> oh it was tagged, but I think that was because lifthrasiir didn't update the description
[14:00:58] <pnkfelix> because my intention was for the PR to remove all the changes to the output format that were sources of *significant* breakage, e.g. things like including theminus sign on -0.0
[14:01:39] <pnkfelix> after it was revised, I guess we should have updated the description to reflect it containing just "bug fixes" to the choices of digits to output...
[14:08:45] <steveklabnik> hey, do we have mod team members around?
[14:09:51] *** Joins: jgallagher (john@moz-d5e8oc.hfc.comcastbusiness.net)
[14:10:34] *** Quits: iitaku (textual@moz-u578hl.ocn.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzz…)
[14:10:52] *** Joins: harrisonclarke (harrisoncla@moz-th044a.ns.bellaliant.net)
[14:13:03] <pnkfelix> steveklabnik: what's up?
[14:13:09] <steveklabnik> pnkfelix: sooooo
[14:13:19] <steveklabnik> we have a pretty notorius reddit troll running around discourse
[14:13:20] <steveklabnik> at the moment
[14:13:31] <steveklabnik> i flagged and removed his first super-trolly response, so he posted it again
[14:13:36] <steveklabnik> https://internals.rust-lang.org/t/pronoun-policy/2111
[14:13:40] <steveklabnik> milesroute
[14:14:01] <steveklabnik> so, mostly want that to be made aware and make sure someone who's actually on the mod team is paying attention
[14:15:03] *** Quits: sigma (sigma@moz-llrbra.range86-135.btcentralplus.com) (Ping timeout: 121 seconds)
[14:15:44] *** Joins: iitaku (textual@moz-u578hl.ocn.ne.jp)
[14:16:23] *** Joins: nodweber (nodweber@moz-rc2.a7k.178.5.IP)
[14:16:27] <pnkfelix>  hmm, I mean, bringing up the Chicago manual of style is not itself an invalid thing.  but the statements about triggers does seem inflammatory
[14:16:45] <pnkfelix> oh and only now did I look to what they linked
[14:16:47] <pnkfelix> sigh
[14:17:11] <steveklabnik> yeah
[14:17:28] <steveklabnik> this person basically has been on proggit posting troll stuff about rust for the last... year is?
[14:17:31] <steveklabnik> h
[14:18:21] *** Joins: sigma (sigma@moz-k1ghg8.range109-153.btcentralplus.com)
[14:18:49] *** zz_kimundi is now known as kimundi
[14:19:50] <steveklabnik> see also http://www.reddit.com/r/programming/comments/362u7e/rust_10_is_here/cranw3t
[14:19:54] <pnkfelix> steveklabnik: still, seems like the situation is .... okay for now?
[14:20:10] <steveklabnik> yeah, we'll see
[14:20:20] <steveklabnik> mostly just trying to raise the flag here
[14:20:31] <steveklabnik> and make sure that my flagging was resonable
[14:21:07] <pnkfelix> steveklabnik: I was questioning it until I hovered over the last link
[14:21:40] <pnkfelix> steveklabnik: but that pushed it over the line to likely-troll in my mind.
[14:21:58] <pnkfelix> (perhaps an *unwitting* troll, but troll nonetheless)
[14:22:28] <Manishearth> pnkfelix: steveklabnik I'm here btw
[14:23:20] *** Quits: tekacs (sid17636@moz-uus3so.highgate.irccloud.com) (Quit: Updating details, brb)
[14:23:21] *** Joins: tekacs (tekacs@moz-uus3so.highgate.irccloud.com)
[14:23:36] *** Quits: tekacs (tekacs@moz-uus3so.highgate.irccloud.com) (Quit: Updating details, brb)
[14:24:24] <Manishearth> steveklabnik: most of the comments are trolly but not actionalbe IMO
[14:25:12] *** Joins: tekacs (tekacs@moz-q64vt8.com)
[14:26:07] *** Quits: iitaku (textual@moz-u578hl.ocn.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzz…)
[14:26:14] <steveklabnik> i'm not suggesting a ban
[14:26:29] *** Quits: sigma (sigma@moz-k1ghg8.range109-153.btcentralplus.com) (Ping timeout: 121 seconds)
[14:27:14] <Manishearth> I'm talking about deleting
[14:27:18] <steveklabnik> ah
[14:27:22] <steveklabnik> yeah, i mean
[14:27:27] <steveklabnik> really, what to do is up to you all :)
[14:27:36] <Manishearth> well the first delete was correct anyway. A bit borderline, but meh, troll
[14:27:37] <steveklabnik> just bringing it to your attention
[14:27:57] <Manishearth> yaeh thanks :)
[14:28:34] <Manishearth> burntsushi got it
[14:31:05] *** Quits: c0170 (c0170@moz-bb29a4.cambridge.arm.com) (Connection closed)
[14:31:10] *** Joins: iitaku (textual@moz-u578hl.ocn.ne.jp)
[14:35:21] <nmatsakis> pnkfelix: btw that const-fn Pr is still not bootstrapping
[14:35:27] <nmatsakis> hopefully I'll have time to dig into it today
[14:35:29] <nmatsakis> mot sure what happening
[14:35:35] <pnkfelix> nmatsakis: ok
[14:38:11] <nmatsakis> pnkfelix: might be a refcell failure :)
[14:38:13] <nmatsakis> but in diagnostics?
[14:38:23] <pnkfelix> nmatsakis: oh wait
[14:38:29] <pnkfelix> are you just encountering our json issue?
[14:38:38] <pnkfelix> nmatsakis: I should have asked that off the top
[14:38:59] *** Joins: _Vi (vi@moz-bbs.vhj.131.104.IP)
[14:39:06] <pnkfelix> nmatsakis: e.g. gh25364
[14:39:06] <[o__o]> make: stale diagnostics info in .json files can break unclean builds: https://github.com/rust-lang/rust/issues/25364
[14:39:31] <pnkfelix> nmatsakis: I'm actually currently trying to revive a PR about that
[14:40:33] <pnkfelix> nmatsakis: but surely its not that that is plaguing you; that's readily identifable from the stack trace, as I recall
[14:40:40] *** Parts: kmc (keegan@moz-gjgn5n.compute.amazonaws.com) ()
[14:41:00] *** Joins: bjz (bjz@moz-puppgq.tpgi.com.au)
[14:41:27] *** Quits: iitaku (textual@moz-u578hl.ocn.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzz…)
[14:41:56] *** Quits: bjz (bjz@moz-puppgq.tpgi.com.au) (Quit: My Mac has gone to sleep. ZZZzzz…)
[14:42:22] *** Joins: bjz (bjz@moz-puppgq.tpgi.com.au)
[14:42:40] *** Quits: squiddy (squiddy@moz-md4.pm3.19.178.IP) (A TLS packet with unexpected length was received.)
[14:44:08] <nmatsakis> pnkfelix: it's not that issue, though I Was encountering that from a time
[14:44:16] <nmatsakis> *for a time
[14:44:21] <pnkfelix> nmatsakis: and you aren't doing a parallel build?
[14:44:35] <nmatsakis> I'm actually not, though I usually do
[14:44:43] <nmatsakis> it's dying with "decoder error"
[14:44:45] <pnkfelix> odd
[14:44:47] <nmatsakis> I'm not sure what causes that anymore
[14:44:53] <nmatsakis> I mean this PR probably does touch metadata
[14:44:54] <pnkfelix> but wait
[14:44:55] <nmatsakis> perhaps this is the cause
[14:45:03] <pnkfelix> this is while decoding what, the diagnostics info?
[14:45:03] <nmatsakis> tbh I ahven't read it as closely as I should hvae ;)
[14:45:11] <nmatsakis> funny how you can rebase a PR without fully knowing everything it does
[14:45:17] <bluss> oh I just hit that as well. enable-debug enable-optimize
[14:45:40] <nmatsakis> pnkfelix: well I'm really sure, the stacktrace confuses me a bit, but the stuff at the top seems to be diagnostics, yes
[14:46:15] * pnkfelix again wonders whether it would be worthwhile to have bors block PRs on at least one target with `--enable-debug --enable-optimize`
[14:46:28] *** Joins: iitaku (textual@moz-u578hl.ocn.ne.jp)
[14:46:51] <nmatsakis> man IO hate that this doesn't work yes
[14:46:53] *** Joins: davebettin (davebettin@moz-rnhkmd.bendcable.com)
[14:47:08] <nmatsakis> bluss: wait, you hit what exactly?
[14:47:13] <pnkfelix> steveklabnik: you know that gh25640 is locked, right?
[14:47:13] <[o__o]> Dining philosophers rephrasing: https://github.com/rust-lang/rust/pull/25640
[14:47:19] <bluss> 'rustc' panicked at 'decoder error', /home/ulrik/src/rust/src/libsyntax/diagnostics/plugin.rs:171
[14:47:38] *** Joins: mib_jev6g6 (Mibbit@moz-juv.9o3.252.72.IP)
[14:47:41] <pnkfelix> steveklabnik: i.e. you are writing a comment but the person you are engaging with is unlikely to be able to respond in-thread
[14:47:45] <bluss> nmatsakis: ^  This is just one unrelated commit difference from master
[14:48:01] <nmatsakis> bluss: ah, this is precisely what I am seeing
[14:48:26] *** Quits: mib_jev6g6 (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[14:48:38] <nmatsakis> bluss: you think it's related to --enable-debug --enable-optimize  ?
[14:49:17] <bluss> I'm not sure, but I built this with --enable-debug and now I added --enable-optimize. Might be unrelated
[14:50:26] *** Joins: jga (jga@moz-a3p.t1q.244.77.IP)
[14:50:34] *** Quits: guewen (guewen@moz-ftf7u4.cust.swisscom.ch) (Quit: Leaving...)
[14:50:48] <nmatsakis> well, easy enough to reconfigure and test I guess
[14:50:50] * nmatsakis does that
[14:52:26] <bluss> I'll report an issue for this since I can't find one
[14:53:00] *** Joins: jbomo (dkd@moz-uol4mm.fios.verizon.net)
[14:56:20] *** Quits: iitaku (textual@moz-u578hl.ocn.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzz…)
[14:59:10] <steveklabnik> pnkfelix: yes, im aware. i still felt leaving the comment in general is important though. what should i do differently?
[14:59:28] <pnkfelix> steveklabnik: I don't know, I just wanted to make sure you were aware.
[14:59:38] <steveklabnik> :)
[14:59:39] <steveklabnik> cool
[15:00:02] <pnkfelix> steveklabnik: my main concern is that your comment is phrased... well, to some degree its phrased like the final word on the topic, which is good
[15:00:12] *** Joins: iitaku (textual@moz-u578hl.ocn.ne.jp)
[15:00:43] <pnkfelix> steveklabnik: but I was wondering if it might also be interpreted otherwise, e.g. as being open to further discussion/debate/clarification
[15:00:49] *** Quits: nodweber (nodweber@moz-rc2.a7k.178.5.IP) (A TLS packet with unexpected length was received.)
[15:00:56] <pnkfelix> steveklabnik: and if the latter was at all intended, then it seems bad to do so on a locked thread.
[15:01:05] <steveklabnik> well, two things. 1, there's that internals thread if people really want to talk about it
[15:01:05] <WindowsBunny> Rust needs to have a firm policy on using they wherever gender is unknown and then stick by it
[15:01:15] <pnkfelix> steveklabnik: yes I understand
[15:01:34] <steveklabnik> the OP has already said on discourse that they already thought enough ink was spilled here, and so we should just do something and be done with it
[15:01:44] <steveklabnik> so i guess i saw that as them asking for some sort of final response
[15:03:19] <pnkfelix> steveklabnik: okay, yes, re-reading the OP statements you quoted in your final comment, I think my concerns are addressed.
[15:03:59] <steveklabnik> cool :)
[15:04:29] *** Quits: jga (jga@moz-a3p.t1q.244.77.IP) (Connection closed)
[15:05:23] <Manishearth> pnkfelix: ++
[15:06:03] <Manishearth> but yeah, discourse is good enough
[15:06:42] *** Quits: imperio (Mibbit@moz-aibeqg.fbx.proxad.net) (Quit: http://www.mibbit.com ajax IRC Client)
[15:09:05] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[15:10:37] *** Quits: iitaku (textual@moz-u578hl.ocn.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzz…)
[15:11:11] *** Joins: iitaku (textual@moz-u578hl.ocn.ne.jp)
[15:15:24] *** Quits: rovar (rovar@moz-96effg.dyn.optonline.net) (NickServ (RECOVER command used by rovar_))
[15:15:24] *** rovar_ is now known as rovar
[15:15:37] *** Joins: rovar_ (rovar@moz-96effg.dyn.optonline.net)
[15:19:49] <nmatsakis> bluss: I still see that same error
[15:19:59] <nmatsakis> bluss: the backtrace seems to be in macro expansion...
[15:21:24] *** Joins: jga (jga@moz-a3p.t1q.244.77.IP)
[15:21:35] *** Quits: iitaku (textual@moz-u578hl.ocn.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzz…)
[15:22:08] *** Joins: iitaku (textual@moz-u578hl.ocn.ne.jp)
[15:24:29] *** Quits: Rym_ (y@moz-c2u.sd4.38.217.IP) (Ping timeout: 121 seconds)
[15:24:47] *** Joins: madmalik (uid13697@moz-lfin5p.brockwell.irccloud.com)
[15:28:27] *** Joins: murphm8 (matt@moz-ftnii1.static.twtelecom.net)
[15:28:45] <nmatsakis> (for me)
[15:32:03] *** Quits: iitaku (textual@moz-u578hl.ocn.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzz…)
[15:32:37] *** Joins: iitaku (textual@moz-u578hl.ocn.ne.jp)
[15:36:40] <bstrie> so what is the next avenue of attack in the ongoing war on compiler time
[15:37:56] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Quit: It's a joke, it's all a joke.)
[15:38:24] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[15:39:49] *** Joins: tamird (textual@moz-lje.m54.130.157.IP)
[15:41:46] *** Quits: jdm (jdm@moz-4vu.06r.98.75.IP) (Quit: )
[15:43:01] *** Quits: iitaku (textual@moz-u578hl.ocn.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzz…)
[15:43:39] *** Joins: iitaku (textual@moz-u578hl.ocn.ne.jp)
[15:46:10] *** Joins: casey (casey@moz-v0ns05.tpgi.com.au)
[15:51:16] *** Joins: killercup (killercup@moz-qj5qhi.dip0.t-ipconnect.de)
[15:51:25] <nmatsakis> bstrie: good question :) nrc has been working on nice measurement infrastructure, brson is experimenting with some backend work, and I'm doing front-end profiling and trying to find a few minutes to write up some thoughts on a new assoc type impl strategy, but it's hard to say what next move will be precisely
[15:52:00] *** Quits: dinfuehr (dinfuehr@moz-c25.u8s.112.91.IP) (Connection closed)
[15:52:21] *** Joins: dinfuehr (dinfuehr@moz-c25.u8s.112.91.IP)
[15:53:26] <bstrie> I saw that we already have two 10% speedups in for 1.0, we just need like a hundred more of those and we're set :)
[15:53:31] <bstrie> er, 1.1
[15:53:51] <bstrie> jeez, you get so used to looking forward to a specific versin number
[15:53:57] <larsberg> bstrie: On Servo, I saw "Rustup perf upgrade - took linux builder from 11.8 mins to about 10.5, and mac from 8.75 mins to around 8 mins. " moving to 1.1
[15:54:12] *** Quits: iitaku (textual@moz-u578hl.ocn.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzz…)
[15:54:13] <larsberg> (those are our debug builds; release is... quite a bit longer)
[15:54:30] <nmatsakis> pnkfelix: bluss: hmm, that ICE I was observing also occurred on a plain master build. I'm rebasing now in hopes it is fixed :)
[15:54:35] <bstrie> hopefully the speedups are relatively greater as well on release
[15:54:45] <nmatsakis> unlikely
[15:54:52] <nmatsakis> since those speedups were primarily in front-end I think
[15:55:00] <nmatsakis> in release we are dominated by LLVM
[15:55:13] *** Joins: iitaku (textual@moz-u578hl.ocn.ne.jp)
[15:55:43] <bstrie> well, not that release builds taking forever are bad, but debug builds taking a long time are probably worse
[15:55:56] <bstrie> *taking forever are good
[15:56:24] *** Quits: dinfuehr (dinfuehr@moz-c25.u8s.112.91.IP) (Ping timeout: 121 seconds)
[15:56:25] *** Joins: gsingh93 (gulshan@moz-ln1ktu.st3l.iv8o.0004.2601.IP)
[15:56:56] *** Quits: Jesin (Jesin@moz-a3uhsd.fios.verizon.net) (Quit: Leaving)
[15:58:10] <nmatsakis> y
[16:05:02] *** Joins: Rym_ (y@moz-c2u.sd4.38.217.IP)
[16:05:10] *** Quits: iitaku (textual@moz-u578hl.ocn.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzz…)
[16:06:03] *** Joins: ptalbot (ptalbot@moz-90i.nk4.162.37.IP)
[16:06:11] *** Joins: iitaku (textual@moz-u578hl.ocn.ne.jp)
[16:13:14] <nmatsakis> I guess nobody else is seeing this "decoder error" thing in macro expansion, eh?
[16:13:21] * nmatsakis gru
[16:13:24] <pnkfelix> i haven't tried to replicate it yet
[16:13:24] * nmatsakis grumbles
[16:13:30] <nmatsakis> I see it with a plain master build :(
[16:13:55] * nmatsakis double checks that
[16:14:01] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[16:14:01] *** ChanServ sets mode: +ao erickt erickt
[16:14:24] <nmatsakis> I guess I can start digging into it more
[16:14:33] <nmatsakis> I was kind of hoping it would just go away :)
[16:16:08] *** Quits: iitaku (textual@moz-u578hl.ocn.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzz…)
[16:17:08] *** Joins: iitaku (textual@moz-u578hl.ocn.ne.jp)
[16:23:13] *** Quits: zmack_ (zmack@moz-htpein.home.aster.pl) (Connection closed)
[16:24:12] *** Quits: summerlight (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[16:25:38] *** Quits: pnkfelix (pnkfelix@moz-6v5.3nd.202.89.IP) (Quit: rcirc on GNU Emacs 24.5.1)
[16:26:36] *** Quits: iitaku (textual@moz-u578hl.ocn.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzz…)
[16:27:33] *** Joins: iitaku (textual@moz-u578hl.ocn.ne.jp)
[16:33:28] *** Joins: O01eg (o01eg@moz-2rgsd7.5ii6.3egh.2698.2a02.IP)
[16:34:02] *** Quits: tamird (textual@moz-lje.m54.130.157.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[16:34:24] *** Quits: casey (casey@moz-v0ns05.tpgi.com.au) (Connection closed)
[16:35:03] *** Quits: aepsil0n (eduard@moz-q1v5ai.mv2h.pepi.8071.2a02.IP) (Connection closed)
[16:36:17] *** Joins: tamird (textual@moz-lje.m54.130.157.IP)
[16:37:32] *** Quits: ptalbot (ptalbot@moz-90i.nk4.162.37.IP) (Ping timeout: 121 seconds)
[16:37:34] *** Quits: iitaku (textual@moz-u578hl.ocn.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzz…)
[16:38:12] *** Joins: iitaku (textual@moz-u578hl.ocn.ne.jp)
[16:40:12] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Client exited)
[16:40:38] *** Joins: Diggsey (diggsey@moz-omvv6q.dsl.pipex.com)
[16:42:12] *** Quits: vmx (vmx@moz-hnvtfl.dip0.t-ipconnect.de) (Quit: Leaving)
[16:48:30] *** Joins: pcwalton (pcwalton@moz-nh2.o1i.216.216.IP)
[16:48:30] *** ChanServ sets mode: +o pcwalton
[16:48:31] *** Quits: iitaku (textual@moz-u578hl.ocn.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzz…)
[16:49:06] *** Joins: iitaku (textual@moz-u578hl.ocn.ne.jp)
[16:53:16] *** Quits: farcaller (farcaller@moz-8bdd0s.prod.ihdev.net) (Quit: .oO( z..z..z.. ))
[16:53:34] *** Joins: farcaller (farcaller@moz-8bdd0s.prod.ihdev.net)
[16:53:43] *** Joins: ptalbot (ptalbot@moz-k23.re4.163.37.IP)
[16:55:13] *** Quits: pcwalton (pcwalton@moz-nh2.o1i.216.216.IP) (Ping timeout: 121 seconds)
[16:55:44] *** Joins: pcwalton (pcwalton@moz-nh2.o1i.216.216.IP)
[16:55:44] *** ChanServ sets mode: +o pcwalton
[16:58:06] *** Quits: harrisonclarke (harrisoncla@moz-th044a.ns.bellaliant.net) (Connection closed)
[16:58:28] *** Quits: mjboa (mike@moz-gfdglf.hsi06.unitymediagroup.de) (Quit: leaving)
[16:59:29] *** Quits: iitaku (textual@moz-u578hl.ocn.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzz…)
[16:59:58] *** Joins: Astrum|Lap (Astrum|Lap@moz-7enfbr.co.comcast.net)
[17:00:08] *** Joins: iitaku (textual@moz-u578hl.ocn.ne.jp)
[17:03:17] <Eridius> `/sb end
[17:03:19] <Eridius> argh
[17:03:57] *** rovar is now known as otherguy
[17:04:07] *** otherguy is now known as rovar
[17:04:39] *** Quits: laumann (thomas@moz-1i4.hq0.225.130.IP) (Quit: leaving)
[17:06:17] *** Joins: harrisonclarke (harrisoncla@moz-th044a.ns.bellaliant.net)
[17:06:46] *** Joins: harrison_ (harrisoncla@moz-th044a.ns.bellaliant.net)
[17:06:46] *** Quits: harrisonclarke (harrisoncla@moz-th044a.ns.bellaliant.net) (Connection closed)
[17:07:06] *** Quits: harrison_ (harrisoncla@moz-th044a.ns.bellaliant.net) (Connection closed)
[17:08:39] *** Quits: ptalbot (ptalbot@moz-k23.re4.163.37.IP) (Ping timeout: 121 seconds)
[17:10:27] *** Quits: iitaku (textual@moz-u578hl.ocn.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzz…)
[17:11:05] *** Joins: iitaku (textual@moz-u578hl.ocn.ne.jp)
[17:20:33] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[17:21:46] *** Joins: ptalbot (ptalbot@moz-nmo.se4.164.37.IP)
[17:21:47] *** Quits: iitaku (textual@moz-u578hl.ocn.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzz…)
[17:22:26] *** Joins: iitaku (textual@moz-u578hl.ocn.ne.jp)
[17:22:27] *** Quits: _Vi (vi@moz-bbs.vhj.131.104.IP) (Ping timeout: 121 seconds)
[17:23:47] *** Quits: pcwalton (pcwalton@moz-nh2.o1i.216.216.IP) (Ping timeout: 121 seconds)
[17:23:50] *** Joins: zmack (zmack@moz-htpein.home.aster.pl)
[17:24:32] <joh> bstrie: one small improvement would be improving the (Partial)Eq deriving for enums without fields. Currently there are huge functions emitted to llvm that llvm can't fully optimize. They could be a simple icmp eq
[17:24:54] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[17:25:26] <sfackler> we added a discriminant extraction intrinsic but only updated PartialCmp to use it, not PartialEq iirc
[17:28:37] <Manishearth> joh: cc doener 
[17:28:48] <Manishearth> joh: the deriving code is a bit problematic
[17:29:12] <Manishearth> doener tried fixing it , not sure where he reached
[17:29:55] *** Quits: zmack (zmack@moz-htpein.home.aster.pl) (Ping timeout: 121 seconds)
[17:32:43] <joh> sfackler: PartialOrd also seems to be emitting the same type of huge functions
[17:32:44] *** Quits: iitaku (textual@moz-u578hl.ocn.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzz…)
[17:33:46] *** Joins: iitaku (textual@moz-u578hl.ocn.ne.jp)
[17:34:40] <sfackler> oh right, here's the PR: https://github.com/rust-lang/rust/pull/24270/files
[17:34:58] <sfackler> I believe it was more concerned with fixing the varaint comparison order rather than optimizations
[17:35:31] <sfackler> I think we still need to restructure it to have a fast path for c-like variants
[17:35:41] <Manishearth> sfackler: oh, you're here, thoughts on https://github.com/rust-lang/rust/issues/25683 ?
[17:35:56] *** Joins: charmander (Mibbit@moz-juv.9o3.252.72.IP)
[17:36:36] <doener> Manishearth, joh: didn't get far enough for a PR and got distracted by semi-related issues
[17:36:50] <sfackler> We need to restructure that API in general. I created the decorator/modifier distinction to try to keep extensions from stepping on each others' toes but it ended up being a bad idea
[17:36:53] *** Quits: Gankro (sid71432@moz-sc2bd6.charlton.irccloud.com) (Quit: )
[17:37:04] *** Joins: Gankro (sid71432@moz-sc2bd6.charlton.irccloud.com)
[17:37:17] <Manishearth> sfackler: we could take Annotatables by move and ask for people to send them to push
[17:37:28] <Manishearth> so then we just have MultiModifier
[17:37:30] *** Quits: charmander (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[17:37:35] <sfackler> yep
[17:37:53] <Manishearth> sfackler: think this fix would cause a significant drop in memory usage? or is it a tiny drop in the bucket?
[17:38:10] <sfackler> I think the algorithm should be: find the first attribute correspoinding to a syntax extension. Remove it and pass the annotatable into the extension. It reutrns some number of new annotatables and you recurse on those
[17:38:21] <sfackler> it'll be totally unnoticable
[17:38:41] <sfackler> expansion is basically 0% of compile time and memory usage peaks during trans iirc
[17:38:45] <Manishearth> wait theres a difference
[17:39:07] <eddyb> sfackler: expansion is *huge* for me
[17:39:22] <eddyb> never dismiss pre-typeck usecases
[17:39:41] <Manishearth> currently #[foo] #[bar] struct Baz; the stuff generated by #[foo] will not be decorated by #[bar], if both are Decorators
[17:39:43] <eddyb> pointless clones are evil
[17:39:52] <Manishearth> eddyb: want to profile this for me?
[17:40:32] <eddyb> Manishearth: valgrind --tool=massif rustc -Z no-trans
[17:40:43] <Manishearth> ooh thats nice
[17:40:55] <sfackler> Manishearth: it'd be foo's job to annotate the stuff it produces properly. the struct Baz passed in will still be decorated by #[bar], but if foo's doing something like generating an impl, you probably don't want to add #[bar] to that
[17:41:02] <eddyb> and then use massif-visualizer on the output. or ms_print
[17:41:09] <Manishearth> sfackler: ah I see
[17:43:29] <Manishearth> eddyb: anything I can easily test it on though? Servo?
[17:44:03] *** Quits: iitaku (textual@moz-u578hl.ocn.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzz…)
[17:44:34] *** Joins: ytain (ytain@moz-07c3h9.dsl.teksavvy.com)
[17:44:53] <eddyb> well, no-trans isn't enou- OH!
[17:45:04] *** Joins: iitaku (textual@moz-u578hl.ocn.ne.jp)
[17:45:15] <Manishearth> eddyb: yes, yes, we can theoretically compile with no-trans
[17:45:15] <eddyb> Manishearth: you can make rustc stop even earlier, with --pretty=expanded
[17:45:20] <Manishearth> oh right :p
[17:45:25] <Manishearth> silly me
[17:45:34] <Manishearth> but wouldn't the mem usage be dominated by I/O?
[17:45:36] <eddyb> and Ctrl+C when you see your terminal flooded
[17:45:40] <Manishearth> lol
[17:45:45] <eddyb> I/O and memory usage?
[17:45:53] *** Joins: chc4 (chc4@moz-pdo0at.ma.comcast.net)
[17:45:55] <Manishearth> right
[17:46:09] <eddyb> it's not building it in memory - unless acrichto's hack was never removed. which is a possibility
[17:46:24] <Manishearth> I could just pipe to devnull
[17:46:39] <eddyb> Manishearth: but you'll be able to tell by a huge spike. expansion is not as fast as printing to a Vec<u8>
[17:47:13] <Manishearth> ah
[17:49:33] <Manishearth> eddyb: should a stage1 build be fine to profile this?
[17:49:56] <eddyb> Manishearth: yes
[17:49:58] <Manishearth> cool
[17:50:48] <eddyb> we should add more stop points. and/or see what nrc has been working on for profiling
[17:51:21] <eddyb> cmr, huon: have you ever seen a flamegraph with time as a third axis?
[17:51:35] <cmr> no.
[17:51:46] <cmr> What would the other two axes be?
[17:52:07] <eddyb> the usual of the flame-graph. well, not exactly "axis" but it's a 2D representation
[17:53:17] <eddyb> to be clear, this is what I'm thinking of http://www.brendangregg.com/FlameGraphs/cpu-mysql-filt.svg
[17:53:33] <eddyb> extruded in a third dimension to visualize its evolution in time
[17:53:40] <eddyb> as samples accumulate
[17:55:01] *** Quits: iitaku (textual@moz-u578hl.ocn.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzz…)
[17:55:02] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Connection closed)
[17:55:28] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[17:55:32] <eddyb> additive could be useful, but "fading" old samples would let you see temporary hot spots
[17:55:41] *** Joins: iitaku (textual@moz-u578hl.ocn.ne.jp)
[17:57:14] <eddyb> cmr: does perf record data let you distinguish between samples taken at different times? could you "slice", for example, the first second of a long profile run?
[17:58:08] <eddyb> because then you could make a tool to split the samples into individual passes (in rustc's case)
[17:58:37] <cmr> eddyb: I assume so, pretty sure the output is just a list of hardware counter samples.
[17:58:57] <eddyb> or short intervals that can be used to do a 3D plot (x=code location, y=heat, z=time)
[17:59:39] <eddyb> cmr: great. but you don't know of any fancy visualization tools that make use of the information, right?
[17:59:46] <cmr> no.
[18:00:18] <eddyb> thanks. guess someone will have to make it happen
[18:01:05] <eddyb> nmatsakis: ^^ nrc might be interested in that
[18:05:59] *** Quits: iitaku (textual@moz-u578hl.ocn.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzz…)
[18:06:38] *** Joins: iitaku (textual@moz-u578hl.ocn.ne.jp)
[18:07:42] *** Joins: Bira (Bira@moz-9c6.3d8.64.187.IP)
[18:09:11] *** Quits: Kxepal (Miranda@moz-lt78nh.pppoe.mtu-net.ru) (Ping timeout: 121 seconds)
[18:10:45] *** Joins: Kxepal (Miranda@moz-7v9ppv.pppoe.mtu-net.ru)
[18:12:03] <Manishearth> eddyb: I assume cargo shouldn't cause too much noise here?
[18:12:20] <Manishearth> in the profiling I mean
[18:13:36] *** Quits: davebettin (davebettin@moz-rnhkmd.bendcable.com) (Ping timeout: 121 seconds)
[18:16:29] <eddyb> Manishearth: wait, you said Servo. the easiest way to test this is on rustc itself
[18:16:41] <eddyb> (which takes... 4 seconds in expansion, I believe)
[18:16:48] *** Quits: iitaku (textual@moz-u578hl.ocn.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzz…)
[18:16:48] <eddyb> Manishearth: doing it on an external project is much harder
[18:16:59] <eddyb> (and you need stage2. and cargo will recompile *everything*)
[18:17:52] *** Joins: iitaku (textual@moz-u578hl.ocn.ne.jp)
[18:18:05] <Manishearth> eddyb: cargo won't work, it just calls rustc
[18:18:25] <Manishearth> I did profiles for pretty=expanded, no-trans, and full, and they looked exactly the same
[18:18:41] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[18:18:41] *** ChanServ sets mode: +o pcwalton
[18:19:48] <Manishearth> .... and so does multirust
[18:19:58] <eddyb> Manishearth: uhm, you ran cargo under valgrind? that's going to profile cargo...
[18:20:01] <Manishearth> yes
[18:20:05] <Manishearth> I know
[18:20:11] <Manishearth> I should invoke rustc idrectly
[18:20:20] <eddyb> make rustc-stage2 until it starts compiling librustc
[18:20:30] <Manishearth> eddyb: why stage2?
[18:20:33] <Manishearth> oh to test it
[18:20:51] <eddyb> stop it, run again with VERBOSE=1, stop it, copy the command and use that
[18:21:09] <eddyb> (the dylib path is the important part, really)
[18:21:59] <Manishearth> got it
[18:27:19] *** Quits: iitaku (textual@moz-u578hl.ocn.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzz…)
[18:28:20] *** Joins: iitaku (textual@moz-u578hl.ocn.ne.jp)
[18:29:17] <Manishearth> eddyb: waitaminute. Can't we do borrowck and typeck in parallel?
[18:29:47] <eddyb> no?
[18:29:56] <Manishearth> internally i mean
[18:30:01] <eddyb> typeck doesn't check types (most of the time)
[18:30:08] <eddyb> typeck *assigns* types
[18:30:13] <Sho> nmatsakis: feel like reviewing https://github.com/rust-lang/kate-config/pull/9? :)
[18:30:18] <Manishearth> they're visitors and afaict the side tables they build can be built in parallel
[18:30:21] <Manishearth> eddyb: I know
[18:30:29] <eddyb> checking is a side-effect
[18:30:29] *** Parts: chc4 (chc4@moz-pdo0at.ma.comcast.net) ("Bye!")
[18:30:34] <Manishearth> we borrowck on functions, right? We could do that in parallel
[18:30:48] *** Quits: martin (martin@moz-bmp33l.u0v6.gff7.1608.2001.IP) (A TLS packet with unexpected length was received.)
[18:30:48] <doener> hrm, seems like we're losing region information for function arguments a bit early... the function to determine the argument attributes sees e.g. &i32 as having ReStatic
[18:30:55] <eddyb> Manishearth: how do you plan to borrow-check without type info? or are you thiking of a different kind of parallel?
[18:31:00] <Manishearth> eddyb: different
[18:31:03] <Manishearth> eddyb: internally
[18:31:09] <Manishearth> do typeck in parallel, do borrowck in parallel
[18:31:11] <eddyb> ehm
[18:31:13] <Manishearth> as in use multiple threads
[18:31:15] <Manishearth> for each
[18:31:21] <Manishearth> not do both parallel to each other
[18:31:23] <Manishearth> that's insane
[18:31:25] <eddyb> that gives the wrong impression
[18:31:29] <eddyb> AH
[18:31:34] <Manishearth> yeah I know I was unclear
[18:31:34] *** Joins: martin (martin@moz-bmp33l.u0v6.gff7.1608.2001.IP)
[18:31:35] <eddyb> Manishearth: sheesh I read that so wrong
[18:31:45] <Manishearth> and I am pretty insane so the interpretation makes sense :p
[18:31:48] <eddyb> "each" would have help
[18:31:56] <eddyb> each of typeck and borrowck
[18:32:06] <eddyb> (but I doubt that's even proper English)
[18:32:12] *** Quits: mukilan (mukilan@moz-vbh.502.164.122.IP) (A TLS packet with unexpected length was received.)
[18:32:19] <Manishearth> yeah
[18:32:29] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[18:32:41] <nmatsakis> Sho: ok :)
[18:32:47] <Manishearth> eddyb: so whaddya think?
[18:33:00] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[18:33:00] *** ChanServ sets mode: +o pcwalton
[18:33:09] <eddyb> Manishearth: definitely. needs more work to make tcx and friends thread-safe
[18:33:24] <eddyb> borrowck should be somewhat easier
[18:33:30] <Manishearth> eddyb: won't borrowck use very limited portions of tcx?
[18:33:35] <Sho> nmatsakis: context: i hashed out a plan with brson to move development of the file over to kde, so the first step is fixing up the licensing info before replaying the upstream repo history at our place
[18:33:38] <eddyb> (as it doesn't save any data, so it can use a frozen tcx)
[18:33:42] <Manishearth> exactly
[18:33:47] <Manishearth> eddyb: I think it builds the region tables?
[18:33:50] <Manishearth> I can't remember
[18:33:54] <Manishearth> nmatsakis: thoughts?
[18:33:55] <Sho> nmatsakis: thanks!
[18:34:18] <Manishearth> (on parallelizing borrowck)
[18:34:38] <eddyb> doener: I thought anonymous function argument regions were preserved. did that change? nmatsakis should know, I guess. I have seen new calls around type substitution in trans, those might eat away regions
[18:35:30] <nmatsakis> Manishearth: sorry, what?
[18:35:47] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[18:35:49] <Manishearth> nmatsakis: borrowck runs via pretty-independent per-function passes
[18:36:03] <Manishearth> nmatsakis: we could run these in parallel via some sort of pooling
[18:36:10] <nmatsakis> Manishearth: are you asking if we could parallelize borrowck and typeck? yes, of course, that's a goal
[18:36:14] <doener> eddyb: the RegionEraser does not drop ReLateBound regions
[18:36:25] <Manishearth> nmatsakis: oh okay it's already on your list then :)
[18:36:34] <eddyb> doener: right, so how does it disappear?
[18:36:38] <nmatsakis> Manishearth: I was actually hoping today to go through the data structures and try to list out what is used by what
[18:36:40] <doener> eddyb: not sure yet
[18:36:47] <Manishearth> nmatsakis: cool
[18:36:47] <nmatsakis> Manishearth: and write a discuss post trying to lay out plans in this direction 
[18:36:59] <nmatsakis> Manishearth: but yeah it's one of the things I want to work towrads, along with incremental compilation
[18:37:48] *** Joins: nham (nham@moz-755.bu3.214.98.IP)
[18:37:56] <Manishearth> I would help, but I can't Rust at my intern (well, I can ,  since I stay there past hours often, but I don't have the guts to try on Windows) and I'm tired the rest of the day
[18:38:16] *** Quits: iitaku (textual@moz-u578hl.ocn.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzz…)
[18:38:53] <eddyb> nmatsakis: how cheap of a hack is to construct a frozen tcx out of .borrow() on all the RefCell's? I guess you can't use all the functions in middle::ty then, though :/
[18:39:18] *** Joins: iitaku (textual@moz-u578hl.ocn.ne.jp)
[18:39:25] *** Quits: blank_na1e (blank_name@moz-0lko1v.mi.frontiernet.net) (Ping timeout: 121 seconds)
[18:39:27] *** Quits: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net) (Ping timeout: 121 seconds)
[18:39:57] <Manishearth> eddyb: we could split tcx into pre-tyck and post-tyck bits
[18:40:07] <Manishearth> and similarly change the stuff that middle::ty takes
[18:40:28] *** Joins: blank_name (blank_name@moz-0lko1v.mi.frontiernet.net)
[18:40:52] <nmatsakis> eddyb: seems ok but for that; have you ever experimented with this idae of writing "monotonic" hashmaps? I was kind of hoping to just refactor the tcx into more per-fn data tho
[18:40:54] <Manishearth> eddyb: why does it give three massif outfiles?
[18:41:11] <Manishearth> nmatsakis: aren't most of the hashmaps in tcx monotonic?
[18:41:21] <Manishearth> I'm pretty sure they can be used in parallel
[18:41:37] <Manishearth> unless I'm misinterpreting what you're saying
[18:41:51] <nmatsakis> Manishearth: I mean monotonic in a stricter sense
[18:41:59] <Manishearth> The concurrency sense?
[18:42:00] <nmatsakis> in particular, you'd want the guarantee that each entry, once added, can never be moved
[18:42:03] <nmatsakis> then you can have insert on an &self
[18:42:04] <Manishearth> oh, moving
[18:42:05] <nmatsakis> and get
[18:42:08] <nmatsakis> and not require RefCell
[18:42:10] <Manishearth> perfect
[18:42:20] <nmatsakis> well insert might still be with &mut
[18:42:21] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[18:42:29] <nmatsakis> so that the map can be sync
[18:42:32] *** Quits: ptalbot (ptalbot@moz-nmo.se4.164.37.IP) (Connection closed)
[18:42:33] <nmatsakis> without locking etc
[18:42:34] <nmatsakis> anyway
[18:42:37] <Manishearth> yeah got it
[18:42:47] <Manishearth> nmatsakis: we'd need to preallocate then
[18:42:54] <Manishearth> or something
[18:42:55] <nmatsakis> Manishearth: well, no.
[18:43:03] <nmatsakis> I mean, we already gather up results for each fn into distinct maps
[18:43:07] <nmatsakis> we could do insertions on main thread
[18:43:10] <nmatsakis> but really
[18:43:16] <nmatsakis> it is stupid to use one create-wide map
[18:43:21] <nmatsakis> (in most cases)
[18:43:32] <Manishearth> nmatsakis: don't regular hashmaps move when they run out of space?
[18:43:37] <nmatsakis> yes, that's the point :)
[18:43:49] <Manishearth> Yeah so we need to predict and preallocate
[18:43:50] <nmatsakis> I'm not really sure if this "monotonic" map idea makes any sense
[18:43:52] <nmatsakis> no
[18:43:58] <nmatsakis> you don't have to predict and preallocate :)
[18:43:59] <Manishearth> nmatsakis: I'm not sure how the hashmaps are being used in typeck though
[18:44:15] <nmatsakis> I mean, you don't have to have enough space, but you have to think about the best way to design it :)
[18:44:19] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[18:44:20] <Manishearth> yeah
[18:44:21] <nmatsakis> it doesn't have to be a single flat array iow
[18:44:32] <nmatsakis> anyway, I don't really think we need this technology
[18:44:33] *** Quits: blank_name (blank_name@moz-0lko1v.mi.frontiernet.net) (Ping timeout: 121 seconds)
[18:44:37] <Manishearth> nmatsakis: hah
[18:44:38] <nmatsakis> well I'm not sure
[18:44:42] <nmatsakis> I just think it's an interesting thought experiment
[18:44:56] <Manishearth> It highly depnds on how they're used in typeck
[18:44:59] <eddyb> nmatsakis: no, I haven't done anything with hashmaps, like that
[18:45:04] <nmatsakis> I should stop talking now and try to draw up my plan instead :)
[18:45:08] <Manishearth> haha sure
[18:45:10] <nmatsakis> so I can speak with more confidence
[18:45:23] <nmatsakis> but I have some ideas that have been floating in my head; hard to say what will happen when they contact reality
[18:45:27] <Manishearth> hah
[18:47:32] <Eridius> nmatsakis: regarding the efficiency of just looking up a regexp() result in a negative map, you could theoretically optimize `!"foo" regexp(bar)` to do the same thing.
[18:47:51] <Eridius> well actually you can't, can you?
[18:47:55] <Eridius> because the regexp might just match "fo"
[18:48:40] <Eridius> I suppose you could optimize it to adjust the regular expression to use a negative lookahead assertion (if that's actually an optimization at all). I'm assuming that the regex engine supports that, of course, but I don't actually recall offhand what it does and doesn't support
[18:49:14] *** Quits: iitaku (textual@moz-u578hl.ocn.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzz…)
[18:49:42] *** Quits: Diggsey (diggsey@moz-omvv6q.dsl.pipex.com) (Ping timeout: 121 seconds)
[18:50:07] *** Joins: Diggsey (diggsey@moz-97o4tk.dsl.pipex.com)
[18:50:16] *** Joins: iitaku (textual@moz-u578hl.ocn.ne.jp)
[18:50:56] <nmatsakis> Eridius: theoretically perhaps. fwiw I don't have regex("") as an "operator" in the grammar, that would be poitentially ambiguous to parse (well, not today, because of the commas, but I did hope to remove those), but rather as a "kind" of nonterminal
[18:51:03] <nmatsakis> Eridius: in principle you don't need regexps either :)
[18:51:09] <nmatsakis> Eridius: you can model them completely using nonterminals...
[18:51:27] *** Joins: blank_name (blank_name@moz-0lko1v.mi.frontiernet.net)
[18:51:28] <Eridius> yeah. I assume the regex engine might have some nice optimizations though?
[18:51:33] <nmatsakis> I assume so :)
[18:51:38] <nmatsakis> it's convenient if nothing else
[18:51:55] <nmatsakis> my goal here is to make it easy and "fast enough" to parse, I don't care a whit about purity ;)
[18:51:57] <Eridius> also, offhand I don't recall seeing a range nonterminal, e.g. [0-9], it would be nice to support that without having to fall back to regex (or did I just imss it?)
[18:52:00] <Eridius> s/imss/miss/
[18:52:08] <nmatsakis> nope, that's what a regexp is for.
[18:52:18] <nmatsakis> (you didn't miss it, that is)
[18:52:36] <Eridius> falling back to the regex engine for a simple "[0-9]" is better than just supporting it directly? I would have assumed there's some overhead to regexes
[18:53:00] <nmatsakis> yeah, perhaps. longer term I think I'd like to do a proper lexer
[18:53:04] <nmatsakis> that is, you give a series of regexs
[18:53:07] <nmatsakis> and we combine them together
[18:53:14] <nmatsakis> I've just not thought hard about how to do that
[18:53:28] <nmatsakis> not sure if it even makes sense really, I might want to move on to doing a front-end
[18:53:31] <nmatsakis> rather than driving everything through macros
[18:53:31] <Eridius> if you say something like `DIGIT = regexp("[0-9]")` will it cache the compiled regex?
[18:53:35] <nmatsakis> so I can generate LR parses etc
[18:53:44] <nmatsakis> Eridius: yes, it does
[18:53:59] <Eridius> the macro appproach is very neat, but long-term it might make more sense just to build a syntax extension instead
[18:54:12] <nmatsakis> well, if we had those :)
[18:54:16] <nmatsakis> I want something that works now in stable code...
[18:54:19] <Eridius> ah true
[18:54:30] <nmatsakis> but yeah I agree
[18:54:43] <nmatsakis> this was a nic way to learn the macro system more deeply though
[18:54:54] <Eridius> didn't someone here have a crate that attempted to provide a "nicer" approach to syntax extensions?
[18:54:57] <nmatsakis> I kind of understood it at a theoretical level
[18:55:01] *** Joins: davebettin (davebettin@moz-acc.cl4.35.72.IP)
[18:55:06] <nmatsakis> but had never tried to do anything nontrivial :)
[18:55:15] <Eridius> I wonder if there's any value in letting a crate "wrap" unstability in a stable API, so it can be used from stable rust even though it relies on feature flags internally
[18:55:48] <Eridius> (with the expectation that it's prepared to do the necessary legwork to deal with any breakage caused by changes to the unstable APIs without having to break its own stable APIs)
[18:56:45] *** Joins: willem (willem@moz-facs2s.dynamic.upc.nl)
[18:57:48] *** Quits: blank_name (blank_name@moz-0lko1v.mi.frontiernet.net) (Ping timeout: 121 seconds)
[18:58:53] *** Joins: blank_name (blank_name@moz-0lko1v.mi.frontiernet.net)
[18:59:13] <nmatsakis> this was hotly debated :)
[18:59:20] <bstrie> steveklabnik: you know, C++ programmers seem to really, really enjoy writing raytracers as first rust projects. might be worth thinking about having one in the book, to complement the guessing game and philosophers
[18:59:35] <sfackler> in a lot of cases it's possible to copy the implementation out into a separate crate entirely
[18:59:47] <aturon> bstrie: that's a great idea! would be a good chance to show of parallelism in Rust, also
[19:00:04] <sfackler> it can be pretty transparent (modulo an extension trait) for things like socket timeouts for example
[19:00:10] <sfackler> since it can work through as_raw_fd
[19:00:12] *** Quits: iitaku (textual@moz-u578hl.ocn.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzz…)
[19:00:35] <steveklabnik> bstrie: yeah, quite possibly
[19:00:35] *** Joins: summerlight (summerlight@moz-99k.2mj.130.121.IP)
[19:00:42] <steveklabnik> i haven't looked at a ray tracer since i was 12
[19:00:43] <steveklabnik> O_O
[19:00:48] *** Joins: iitaku (textual@moz-u578hl.ocn.ne.jp)
[19:00:51] <steveklabnik> my biggest problem with coming up with examples from the book
[19:00:57] <aturon> (or if not in the book, at least written up somewhere)
[19:00:59] <steveklabnik> is doing stuff without any / many external libraries
[19:01:14] <bstrie> steveklabnik: take a look at the one from the blog post today, it seems to be deliberately minimal
[19:01:14] <steveklabnik> one of the most common requests was a GUI app
[19:01:19] <steveklabnik> will do
[19:01:25] <steveklabnik> i didnt look at the code, just enjoyed the text :)
[19:01:28] <bstrie> steveklabnik: this doesn't need a gui, iirc you're just writing image data to disk
[19:01:54] <steveklabnik> yeah totally
[19:01:57] <WindowsBunny> steveklabnik: If you do one day make a GUI example, make sure it works on Windows
[19:02:09] <steveklabnik> WindowsBunny: yes, that was the most common request, windows specific actually
[19:02:14] <steveklabnik> this is from tweets a few weeks back
[19:02:57] <Eridius> bstrie: I remember being really impressed by the raytracer in Paul Graham's ANSI Common Lisp (if I'm recalling that correctly)
[19:03:01] <Eridius> having a Rust one would be neat
[19:03:59] <Eridius> we could also have a mandelbrot generator? (assuming there isn't one already, I haevn't looked at the book in a while)
[19:04:11] <nmatsakis> aturon: what do you think about using a command-line/cargo.toml option to specify rust version instead of #[rust_version]? seemed like a good ida to me
[19:04:17] <Eridius> if we could actually have a GUI, being able to show the mandelbrot being generated in parallel in real-time would be neat
[19:04:37] <Eridius> (but I don't know if the book wants to depend in cargo to pull down any sort of GUI or OpenGL bindings)
[19:05:07] *** Quits: summerlight (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[19:05:36] *** Quits: nicknikolov (nicknikolov@moz-k08.qm9.214.90.IP) (Connection closed)
[19:05:37] <larsberg> bstrie: it's funny you mention raytracers, as one of my friends just wrote a post on one he did in Rust: http://xania.org/201505/two-commutes-with-rust, also has the start of parallelization at: https://github.com/mattgodbolt/path-tracer/blob/master/src/main.rs :-)
[19:05:43] <nmatsakis> aturon: https://github.com/rust-lang/rfcs/pull/1122#discussion_r30428216 (context)
[19:06:52] <Manishearth> larsberg:  a > systems language in the same vein as C, C++ and to a lesser extent, Googogle's Go
[19:06:55] <Manishearth> wat
[19:07:07] <Manishearth> then again nobody knows what a systems language is
[19:07:20] <Eridius> Go was originally announced as a systems language. Of course it's _not_ one, as the community quickly told them
[19:07:38] <Manishearth> on the other end of the spectrum we have the book I'm reading call C a "high level language"
[19:08:05] <carllerche> What exactly are the guarantees of OsString on *nix platforms?
[19:08:32] <Eridius> "On Unix systems, any byte sequence can be successfully converted into an OsString."
[19:08:33] <larsberg> Manishearth: Well, Matt left Google when Go was still internal, so his Go knowledge may be from before it was public
[19:08:38] <Eridius> hrm, do we allow NUL in OsString?
[19:08:39] <Manishearth> ah okay
[19:08:45] <carllerche> Eridius: sure, but are they null terminated or not?
[19:09:27] <carllerche> I'm going to guess the answer is no...
[19:09:34] <Eridius> no. Use CString for nul-terminated
[19:11:10] *** Quits: iitaku (textual@moz-u578hl.ocn.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzz…)
[19:12:19] *** Joins: iitaku (textual@moz-u578hl.ocn.ne.jp)
[19:13:13] *** Joins: nicknikolov (nicknikolov@moz-k08.qm9.214.90.IP)
[19:15:04] <Manishearth> carllerche: OSString is only different from string in encoding matters
[19:15:13] <Manishearth> and stuff
[19:15:23] <Manishearth> (the various allowed/non allowed chars)
[19:16:06] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[19:18:45] <nmatsakis> larsberg: that's a fun blog post
[19:20:07] <Manishearth> Yeah
[19:20:18] <Manishearth> Now I want to write another post
[19:20:24] *** Quits: erz (erz@moz-fiq1tl.broadband.corbina.ru) (Connection closed)
[19:20:30] <Eridius> hrm, NUL is indeed allowed in OsString. Does this mean that I can get a NUL in a Path, even though paths on unix can't have NULs in them?
[19:20:45] *** Joins: ptalbot (ptalbot@moz-kaj.v25.163.37.IP)
[19:20:47] *** Joins: erz (erz@moz-fiq1tl.broadband.corbina.ru)
[19:20:52] <Manishearth> Eridius: O.o
[19:20:56] <Manishearth> that doesn't sound right
[19:21:03] <Manishearth> 301 acrichto though
[19:21:16] <Manishearth> I only recall reading some of the design in an rfc
[19:22:08] *** Quits: iitaku (textual@moz-u578hl.ocn.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzz…)
[19:23:17] *** Joins: iitaku (textual@moz-u578hl.ocn.ne.jp)
[19:24:21] <larsberg> nmatsakis: thanks! I'll let Matt know.
[19:25:09] <Eridius> yep, I can definitely create a Path with a NUL. I guess the idea is that any API call that requires going through CString will raise an error there, or alternatively the API itself will return an error because NUL is invalid (if the API takes buffer+len instead of a cstring)?
[19:31:12] *** Quits: blank_name (blank_name@moz-0lko1v.mi.frontiernet.net) (Ping timeout: 121 seconds)
[19:32:36] *** Quits: iitaku (textual@moz-u578hl.ocn.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzz…)
[19:33:45] *** Joins: iitaku (textual@moz-u578hl.ocn.ne.jp)
[19:38:19] <doener> eddyb: hahaha! from_fn_type() calls erase_late_bound_regions and then goes to look for ReLateBound
[19:39:11] *** Quits: nicknikolov (nicknikolov@moz-k08.qm9.214.90.IP) (Connection closed)
[19:39:50] <doener> nmatsakis: ping -- you added the call to erase_late_bound_regions there in a fix for #20644
[19:39:52] *** Quits: ptalbot (ptalbot@moz-kaj.v25.163.37.IP) (Ping timeout: 121 seconds)
[19:40:44] <nmatsakis> doener: sorry, bit more context?
[19:41:12] <nmatsakis> doener: just because we call erase_late_bound_regions doesn't imply there are no late-bound reions at all remaining, in particular there can be LBR in the fn argument types and so forth
[19:41:24] <nmatsakis> (not really sure what you're talking about)
[19:43:26] <Manishearth> steveklabnik: btw the change to Rc docs in your gender PR -- the "he" refers to "Gadget Man", perhaps the name itself should be changed? (otherwise it reads a bit strangely)
[19:43:31] <Manishearth> no strong opinion here
[19:43:34] *** Quits: iitaku (textual@moz-u578hl.ocn.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzz…)
[19:43:59] *** Joins: nicknikolov (nicknikolov@moz-k08.qm9.214.90.IP)
[19:44:11] <steveklabnik> Manishearth: yeah, i use 'they' so often it didn't stick out to me, but i woudln't mind changin that
[19:44:36] <Manishearth> sure
[19:44:44] *** Joins: iitaku (textual@moz-u578hl.ocn.ne.jp)
[19:45:02] *** Quits: semarie (semarie@moz-skq614.dfri.se) (A TLS packet with unexpected length was received.)
[19:45:32] <doener> nmatsakis: sorry, in trans::attributes::from_fn_type there's a call to erase_late_bound regions and that replaces an anonymous late bound region with a static region
[19:45:52] <doener> nmatsakis: https://gist.github.com/dotdash/e4132b275130445f3f08 -- function definition and relevant part from compile log
[19:46:38] <nmatsakis> doener: and this is causing a problem?
[19:47:31] <doener> nmatsakis: a bit later in that function, we check for ReLateBound(_, BrAnon(_)) to check if we can apply the NoCapture attribute
[19:48:06] <doener> nmatsakis: i.e. just a missed opportunity for optimization, but I wondered what happened to that when I tried to show just that optimization to a co-worker
[19:51:05] <nmatsakis> doener: ah, I see -- sorry, I'll be afk for a sec, can we chat in 5-10 mins?
[19:51:10] <doener> nmatsakis: sure
[19:52:05] *** Joins: ptalbot (ptalbot@moz-7qp.t96.161.37.IP)
[19:54:32] *** Quits: iitaku (textual@moz-u578hl.ocn.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzz…)
[19:54:57] *** Quits: ytain (ytain@moz-07c3h9.dsl.teksavvy.com) (Quit: Textual IRC Client: www.textualapp.com)
[19:55:42] *** Joins: iitaku (textual@moz-u578hl.ocn.ne.jp)
[19:57:52] *** Quits: Rym_ (y@moz-c2u.sd4.38.217.IP) (Ping timeout: 121 seconds)
[20:01:20] *** Quits: noustuff (sid82844@moz-n7p65f.uxbridge.irccloud.com) (Quit: )
[20:01:23] *** Joins: noustuff (sid82844@moz-0s5vdk.highgate.irccloud.com)
[20:05:29] *** Quits: iitaku (textual@moz-u578hl.ocn.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzz…)
[20:05:41] <nmatsakis> doener: ok, I'm back, so you just want to detect that case, but yeah unfortunately erase-late-bound-regions hides it from you, hmm
[20:06:03] <nmatsakis> doener: you could presumably keep around the unerased version as well to use for this check I guess
[20:06:11] *** Joins: iitaku (textual@moz-u578hl.ocn.ne.jp)
[20:07:45] <nmatsakis> doener: I added those calls to erase_late_bound_regions because, well, when you're inside the fn, the regions are not bound, and not being correct about such things was cause trouble in terms of matching impls and other things because of subtyping
[20:07:46] <doener> nmatsakis: yeah, I pinged you because I'm not sure why the erasure happens there
[20:08:05] <nmatsakis> basically...the regions are *not* bound :)
[20:08:14] <nmatsakis> we could also use liberate_late_bound_reions
[20:08:34] <nmatsakis> which would allow you to determine, after the fact, that it was an anonymous region  
[20:08:42] <nmatsakis> let me re-examine and see where code flows there I guess
[20:09:25] <nmatsakis> yes, I see
[20:10:49] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[20:11:03] <nmatsakis> so I can't remember whether there was a *specific* problem there or not (I may have been being pre-emptive), but I imagine what was happening was something like
[20:11:12] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (A TLS packet with unexpected length was received.)
[20:11:13] <nmatsakis> the type (with bound regions intact) was flowing into type_of::type_of
[20:11:15] <nmatsakis> this is sort of invalid,
[20:11:31] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[20:11:34] <nmatsakis> since type_of::type_of should really not see types with "escaping" bound regions like that,
[20:11:54] <nmatsakis> and in particular it probably was causing problems when normalizing associated types, 
[20:12:01] <nmatsakis> assertion failures and the like
[20:12:15] <nmatsakis> doener: do you know what I mean by bound region etc?
[20:12:48] <nmatsakis> anyway, probably the *easiest fix* is to use liberate-late-bound-reions
[20:13:07] <nmatsakis> and then instead of checking for ReLateBound(BrAnon)
[20:13:11] <nmatsakis> check for ReFree(BrAnon)
[20:13:22] <doener> nmatsakis: roughly
[20:13:26] <nmatsakis> that seems ok
[20:13:28] *** Joins: vmx (vmx@moz-qprbo6.pools.vodafone-ip.de)
[20:13:47] <nmatsakis> or else to leave code as it is and keep the original fn-sig around
[20:13:48] *** Joins: larhat1 (Adium@moz-vlo5br.cable.virginm.net)
[20:13:49] <nmatsakis> and check against that
[20:13:53] <nmatsakis> to determine what the region originally was
[20:14:05] <nmatsakis> but that's maybe a bit annoying
[20:15:22] <Eridius> nmatsakis: random idea: could you write a macro that takes a token tree and reifies it into a stable form defined by your library, such that you can then write a regular function to consume it?
[20:16:01] <nmatsakis> Eridius: sorry I don't quite get what you mean?
[20:16:12] <Eridius> I guess you'd have to write a separate rule to match every token in the rust grammar in order to consume the token tree?
[20:16:27] *** Quits: iitaku (textual@moz-u578hl.ocn.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzz…)
[20:16:33] <Eridius> just a random thought for producing basically a syntax extension that uses the macro machinery to work with stable
[20:17:18] <Eridius> actually, scratch that. You can't generate code that way
[20:17:37] *** Joins: iitaku (textual@moz-u578hl.ocn.ne.jp)
[20:20:19] *** Quits: ptalbot (ptalbot@moz-7qp.t96.161.37.IP) (Ping timeout: 121 seconds)
[20:23:33] *** Quits: tromey (tromey@moz-m3id6o.hlrn.qwest.net) (Quit: ERC (IRC client for Emacs 25.0.50.4))
[20:24:50] <doener> nmatsakis: sorry, had to get afk quite suddenly.
[20:25:03] *** Joins: Rym_ (y@moz-c2u.sd4.38.217.IP)
[20:25:11] *** Joins: blank_name (blank_name@moz-k7i.38r.183.192.IP)
[20:25:39] <nmatsakis> doener: np, going to have to leave myself shortly ;(
[20:26:09] <doener> nmatsakis: type_of seems to erase regions anyway, but I think using liberate_late_bound_regions seems fine, we only care about regions being anonymous there AFAICT
[20:26:14] <doener> I'll try that
[20:26:17] <aturon> nmatsakis: re: where to put version information: i do agree that there are a lot of implementation benefits to having it out of band. somehow in my mind, though, it was "part of the source", but i don't think that distinction is so important
[20:26:55] *** Quits: iitaku (textual@moz-u578hl.ocn.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzz…)
[20:26:59] <nmatsakis> doener: ok
[20:27:04] <sfackler> aturon: r? https://github.com/rust-lang/rust/pull/24847
[20:27:05] <nmatsakis> aturon: I uploaded a revised version in any case :)
[20:27:24] <aturon> sfackler: on it
[20:27:27] <sfackler> tjamls
[20:27:28] <sfackler> *thanks
[20:28:05] *** Joins: iitaku (textual@moz-u578hl.ocn.ne.jp)
[20:28:15] *** Quits: doener (doener@moz-929cn9.unity-media.net) (Quit: leaving)
[20:29:39] *** Quits: Rym_ (y@moz-c2u.sd4.38.217.IP) (Ping timeout: 121 seconds)
[20:32:10] *** Joins: swgillespie (swgillespie@moz-1i5.3un.220.167.IP)
[20:32:52] *** Joins: Rym_ (y@moz-c2u.sd4.38.217.IP)
[20:37:53] *** Quits: iitaku (textual@moz-u578hl.ocn.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzz…)
[20:38:34] *** Joins: iitaku (textual@moz-u578hl.ocn.ne.jp)
[20:39:38] <mitsuhiko> anyone seen the last jai video?
[20:39:45] <mitsuhiko> blow implemented implicit contexts
[20:40:09] <mitsuhiko> i still think this should be done via tls and not a function parameter
[20:40:10] *** Quits: blank_name (blank_name@moz-k7i.38r.183.192.IP) (Ping timeout: 121 seconds)
[20:40:12] <mitsuhiko> but i think it's a great concept
[20:40:52] <cmr> a la https://github.com/PistonDevelopers/current ?
[20:41:17] <mitsuhiko> cmr: yap, similar
[20:41:18] <mitsuhiko> just stack based
[20:41:20] <mitsuhiko> not sure if that is
[20:42:01] <cmr> I thought it was but I guess it isn't.
[20:42:11] <mitsuhiko> maybe it is, let me check
[20:42:24] <cmr> looking through the source it isn't.
[20:42:34] <cmr> unless by "stack" you mean the runtime stack and not a stack of contexts.
[20:42:42] <cmr> current uses TLS.
[20:43:58] <mitsuhiko> in flask i use a similar concept as actual stack: http://flask.pocoo.org/docs/0.10/extensiondev/#using-app-ctx-stack
[20:44:09] <mitsuhiko> hard to read
[20:44:13] <mitsuhiko> but i made a port of that at one point for rust
[20:44:19] <mitsuhiko> but jai uses it for memory allocators even apparently
[20:44:24] <mitsuhiko> which is pretty neat but also quite dangerous
[20:44:39] <steveklabnik> i haven't watched the latest video
[20:44:41] <steveklabnik> but i want to
[20:44:53] <steveklabnik> mostly been commenting on the reddit thread ;)
[20:44:58] <mitsuhiko> i think what he does with allocators is fundamentally unsound
[20:45:19] <mitsuhiko> but the general concept is still a neat ide
[20:45:20] <mitsuhiko> *idea
[20:46:47] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[20:48:51] *** Quits: iitaku (textual@moz-u578hl.ocn.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzz…)
[20:49:25] *** Quits: Bira (Bira@moz-9c6.3d8.64.187.IP) (A TLS packet with unexpected length was received.)
[20:50:02] *** Joins: iitaku (textual@moz-u578hl.ocn.ne.jp)
[20:50:25] *** Joins: nrc (nrc@moz-14pjgj.xtra.co.nz)
[20:50:25] *** ChanServ sets mode: +o nrc
[20:51:06] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Ping timeout: 121 seconds)
[20:52:36] *** Quits: madmalik (uid13697@moz-lfin5p.brockwell.irccloud.com) (Quit: Connection closed for inactivity)
[20:53:52] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[20:53:52] *** ChanServ sets mode: +ao erickt erickt
[20:55:29] *** Quits: jgallagher (john@moz-d5e8oc.hfc.comcastbusiness.net) (Client exited)
[20:56:55] *** Joins: genbattle (genbattle@moz-4v0.gkd.16.182.IP)
[20:59:48] *** Quits: iitaku (textual@moz-u578hl.ocn.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzz…)
[21:00:28] *** Joins: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net)
[21:00:29] *** ChanServ sets mode: +ao pnkfelix pnkfelix
[21:00:31] *** Joins: iitaku (textual@moz-u578hl.ocn.ne.jp)
[21:00:52] *** Quits: swgillespie (swgillespie@moz-1i5.3un.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[21:02:58] *** Joins: swgillespie (swgillespie@moz-1i5.3un.220.167.IP)
[21:06:06] *** Quits: munksgaard (munksgaard@moz-vj4.hq0.225.130.IP) (Ping timeout: 121 seconds)
[21:07:11] *** Joins: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com)
[21:10:46] *** Quits: iitaku (textual@moz-u578hl.ocn.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzz…)
[21:11:58] *** Joins: iitaku (textual@moz-u578hl.ocn.ne.jp)
[21:12:22] *** Quits: gsingh93 (gulshan@moz-ln1ktu.st3l.iv8o.0004.2601.IP) (Ping timeout: 121 seconds)
[21:13:30] *** Joins: James (quassel@moz-739rgr.range86-148.btcentralplus.com)
[21:15:06] *** Quits: murphm8 (matt@moz-ftnii1.static.twtelecom.net) (Client exited)
[21:21:44] *** Quits: iitaku (textual@moz-u578hl.ocn.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzz…)
[21:22:56] *** Joins: iitaku (textual@moz-u578hl.ocn.ne.jp)
[21:27:03] *** Quits: fredy (fredy@moz-s6pco4.okeanos.grnet.gr) (Connection closed)
[21:31:45] *** Quits: killercup (killercup@moz-qj5qhi.dip0.t-ipconnect.de) (Quit: Bye)
[21:32:12] *** Quits: iitaku (textual@moz-u578hl.ocn.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzz…)
[21:32:53] *** Joins: iitaku (textual@moz-u578hl.ocn.ne.jp)
[21:34:05] *** Joins: aepsil0n (eduard@moz-6491ha.mv2h.pepi.8071.2a02.IP)
[21:41:42] *** Joins: fredy (fredy@moz-s6pco4.okeanos.grnet.gr)
[21:43:10] *** Quits: iitaku (textual@moz-u578hl.ocn.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzz…)
[21:43:57] *** Quits: davebettin (davebettin@moz-acc.cl4.35.72.IP) (Ping timeout: 121 seconds)
[21:44:22] *** Joins: iitaku (textual@moz-u578hl.ocn.ne.jp)
[21:46:53] *** Quits: nicknikolov (nicknikolov@moz-k08.qm9.214.90.IP) (Connection closed)
[21:47:07] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[21:54:08] *** Quits: iitaku (textual@moz-u578hl.ocn.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzz…)
[21:54:13] *** Quits: vmx (vmx@moz-qprbo6.pools.vodafone-ip.de) (Quit: Leaving)
[21:55:20] *** Joins: iitaku (textual@moz-u578hl.ocn.ne.jp)
[21:56:45] *** Quits: joneshf-laptop (joneshf@moz-l4h.b5s.208.98.IP) (Connection closed)
[21:56:47] *** Joins: joneshf-laptop (joneshf@moz-l4h.b5s.208.98.IP)
[22:04:09] *** Quits: willem (willem@moz-facs2s.dynamic.upc.nl) (Quit: leaving)
[22:04:53] *** Joins: nicknikolov (nicknikolov@moz-k08.qm9.214.90.IP)
[22:05:06] *** Quits: iitaku (textual@moz-u578hl.ocn.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzz…)
[22:05:47] *** Joins: iitaku (textual@moz-u578hl.ocn.ne.jp)
[22:08:01] *** Quits: James (quassel@moz-739rgr.range86-148.btcentralplus.com) (Ping timeout: 121 seconds)
[22:08:42] *** Joins: arielb1 (Ariel@moz-dqnh1v.red.bezeqint.net)
[22:09:45] <pnkfelix> nmatsakis: FYI I have now seen the "thread '<main>' panicked at 'decoder error'" locally.  (and then worked around it.)
[22:10:09] <arielb1> pnkfelix: I have seen this error a bunch of times
[22:10:43] <pnkfelix> arielb1: I did `rm tmp/extended-errors/librustc*` and it seemed to go away on the next build attempt
[22:10:51] *** Quits: swgillespie (swgillespie@moz-1i5.3un.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[22:10:52] <arielb1> that's what I did too
[22:10:59] *** Joins: swgillespie (swgillespie@moz-1i5.3un.220.167.IP)
[22:16:03] *** Quits: iitaku (textual@moz-u578hl.ocn.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzz…)
[22:17:14] *** Joins: iitaku (textual@moz-u578hl.ocn.ne.jp)
[22:19:30] <eddyb> oh, that thing
[22:19:48] <eddyb> it gave me a "diagnostic code already used" or something
[22:20:05] <eddyb> figured it was make parallelism gone wrong
[22:20:48] <eddyb> Manishearth: did you get any data related to expansion?
[22:21:12] *** Quits: duesenfranz_ (jona@moz-711djm.tirol.surfer.at) (Client exited)
[22:23:22] *** Joins: summerlight (summerlight@moz-99k.2mj.130.121.IP)
[22:23:45] *** Quits: larhat1 (Adium@moz-vlo5br.cable.virginm.net) (Quit: Leaving.)
[22:26:31] *** Quits: iitaku (textual@moz-u578hl.ocn.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzz…)
[22:27:14] *** Joins: iitaku (textual@moz-u578hl.ocn.ne.jp)
[22:29:03] *** Quits: nicknikolov (nicknikolov@moz-k08.qm9.214.90.IP) (Connection closed)
[22:30:24] *** Quits: eddyb (eddyb@moz-ure.pug.25.188.IP) (Ping timeout: 121 seconds)
[22:36:28] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[22:37:29] *** Quits: iitaku (textual@moz-u578hl.ocn.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzz…)
[22:38:40] *** Joins: iitaku (textual@moz-u578hl.ocn.ne.jp)
[22:40:19] *** Quits: summerlight (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[22:43:50] *** Quits: Astrum|Lap (Astrum|Lap@moz-7enfbr.co.comcast.net) (Client exited)
[22:45:31] *** Joins: gsingh93 (gulshan@moz-ln1ktu.st3l.iv8o.0004.2601.IP)
[22:45:52] *** Quits: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com) (Quit: Leaving)
[22:45:52] *** Quits: erz (erz@moz-fiq1tl.broadband.corbina.ru) (Quit: My Mac has gone to sleep. ZZZzzz…)
[22:47:42] <bluss> acrichto: ping, have you seen how associated types in methods don't how up in full in rustdoc? if a method parameter is of type X::Item, it only shows as X. Do you know where to begin to look to fix this?
[22:48:27] *** Quits: iitaku (textual@moz-u578hl.ocn.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzz…)
[22:49:40] *** Joins: iitaku (textual@moz-u578hl.ocn.ne.jp)
[22:50:59] *** Quits: bjz (bjz@moz-puppgq.tpgi.com.au) (Quit: My Mac has gone to sleep. ZZZzzz…)
[22:56:16] <frewsxcv> bluss: alex is on vacation from what i have heard
[22:56:18] <aturon> bluss: fyi acrichto is on vacation until next week
[22:57:18] <bluss> aha thanks
[22:58:28] *** Joins: njn (chatzilla@moz-jkhneq.iinet.net.au)
[22:59:25] *** Quits: iitaku (textual@moz-u578hl.ocn.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzz…)
[23:00:48] <bstrie> you know, it occurs to me that we technically *could* allow you to have combination c-style enums with tagged union-style enums, like `enum Foo { X = 0, Y(i32) }`
[23:00:59] <bstrie> ...maybe
[23:01:09] <cmr> bstrie: What would the benefit be?
[23:01:17] *** kimundi is now known as zz_kimundi
[23:01:18] <bstrie> there's technically an integral tag value for the Y case
[23:01:25] <cmr> It'd ruin the null-pointer optimization, and 
[23:01:31] <cmr> just the tag isn't particularly useful?
[23:01:36] <bstrie> cmr: shrug, just thinking out loud at the question in https://www.reddit.com/r/rust/comments/36gqop/hey_new_rust_users_got_an_easy_question_ask_it/crgtzoz?context=3
[23:01:43] <cmr> Like, you can't use that for doing FFI anyway.
[23:01:54] *** Joins: Kingsquee (kingsley@moz-3fm07c.bchsia.telus.net)
[23:01:54] <bstrie> nullptr opt occurred to me as I was typing it, yes
[23:01:57] <bluss> explicit #[repr] already removes the enum optimization
[23:02:00] <bstrie> hence the "maybe" :)
[23:02:22] <cmr> bluss: I don't know why #[repr] is allowed on non-C-like enums, when the feature was first added it certainly wasn't.
[23:02:45] <bluss> cmr: I submitted a PR to document & test this fact
[23:02:57] <bluss> with a note that if that's wrong it should be disabled instead
[23:03:23] <bluss> but I found a use for it, exactly that it disables the layout optimization
[23:03:24] <Eridius> I can see why #[repr(C)] wouldn't make sense, but surely there's other reprs that would?
[23:03:30] <Eridius> e.g. if we actually had a #[repr(packed)] then that would make sense
[23:04:18] <cmr> #[repr(packed)] would make sense, yeah
[23:05:19] <aturon> cmr: do you know if it's possible to move and/or merge discourse categories?
[23:05:24] <cmr> aturon: I do not
[23:05:39] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[23:12:09] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[23:12:33] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[23:13:39] <aturon> hm so, nmatsakis added a "subteams" category with further categories underneath (for each team), and i was going to try to move the existing top-level categories under them, but i'm now wondering whether that actually makes sense
[23:14:20] <aturon> IOW maybe it would be better to just have them be top-level categories
[23:14:38] <aturon> (and make sure we have one per subteam)
[23:15:28] <nrc> I'm confused
[23:15:39] <nrc> which "them" are proposing be top level categories?
[23:15:46] <nrc> *are you
[23:16:05] <aturon> sorry, the subteam ones that niko added -- we already had top-level categories, and he added subteam/*
[23:16:32] <aturon> (so e.g. we have libs, and subteams/libs, right now)
[23:17:00] <aturon> i'm trying to remove the redundancy, but i'm thinking the "subteam" step in the hierarchy isn't actually adding anything, and i should just undo nmatsakis's additions
[23:17:54] <nrc> that sounds like a good idea to me
[23:19:01] <bluss> what has happened to the nightlies?
[23:20:19] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[23:21:42] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[23:22:24] *** Joins: Jesin (Jesin@moz-48mne2.nsvltn.sbcglobal.net)
[23:23:29] *** Joins: zrneely (Mibbit@moz-pd9.h6j.189.18.IP)
[23:24:19] *** Quits: rovar (rovar@moz-6iq.47m.88.38.IP) (NickServ (RECOVER command used by rovar_))
[23:24:19] *** rovar_ is now known as rovar
[23:24:32] *** Joins: rovar_ (rovar@moz-6iq.47m.88.38.IP)
[23:25:07] <zrneely> Are there any plans in the works for default function arguments? Something like "fn foo(x: u32, y=4: u32)" which can be called as "foo(1)", "foo(1, y=3)", or similar?
[23:25:21] <cmr> zrneely: I don't think there are any immediate plans or RFCs.
[23:25:31] <cmr> it's a commonly requested feature though.
[23:26:02] *** Quits: aepsil0n (eduard@moz-6491ha.mv2h.pepi.8071.2a02.IP) (Connection closed)
[23:27:21] <zrneely> cmr: ok, thanks. Off the top of your head, can you think of any problems that syntax could cause?
[23:27:43] <zrneely> It seems fairly simple to me.
[23:27:53] <cmr> That specific syntax? It's ambiguous.
[23:28:05] *** Joins: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net)
[23:28:12] <cmr> Well, I suspect it's ambigous, but it definitely requires infinite lookahead to parse.
[23:28:17] <cmr> `4: u32` is an expr.
[23:28:38] <ChrisMorgan> y: u32 = 4 would be unambiguous.
[23:28:52] <cmr> We also don't have very good support for constant expressions, the feature would be pretty limited right now.
[23:29:01] <blaenk> Clone isn't implemented for fn(&T) huh
[23:29:27] <blaenk> but it is for fn(T), is there a reason for that? what do the parameters matter?
[23:29:29] <bluss> right clone is only implemented manually for a few fn types
[23:29:46] <blaenk> oh is that the reason? since it's manual, they just didn't implement it for some others like this one?
[23:29:49] <sfackler> there's variance weirdness with the lifetime of the reference iirc
[23:29:54] <blaenk> ahh
[23:29:58] <blaenk> oh yeah I vaguely remember that
[23:30:09] <cmr> impl<A, ReturnType> Clone for unsafe fn(A) -> ReturnType
[23:30:16] <cmr> well, copied the wrong one.
[23:30:31] <cmr> But A = &SomeOtherType is a valid instantiation?
[23:30:48] <bluss> I think it is cmr, it will work in some contexts
[23:31:02] <bluss> I've used it
[23:31:05] *** Quits: zrneely (Mibbit@moz-pd9.h6j.189.18.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[23:31:09] <blaenk> "this may not be sufficient for fns with region parameters"
[23:31:14] <blaenk> region parameters = &/&mut?
[23:31:27] <bluss> <'a, 'b>
[23:31:29] <cmr> no, region parameters is the <'a, 'b>
[23:31:31] <blaenk> oh okay thanks
[23:32:02] <blaenk> which is what you need if you have a &/&mut right, ignoring lte
[23:32:22] <blaenk> fn func<'a>(&'a var); fn func(&var) expands to that via lte right
[23:33:28] <blaenk> impl<$($A,)* ReturnType> Clone for extern "Rust" fn($($A),*) -> ReturnType
[23:33:31] <blaenk> that's the impl right
[23:34:07] <cmr> rusti: fn a(a: &i32) { } (a as fn(&i32)).clone();
[23:34:08] -playbot- ()
[23:34:13] <cmr> rusti: fn a(a: &i32) { } (a as fn(&i32)).clone();
[23:34:15] -playbot- ()
[23:34:15] <cmr> erp.
[23:34:27] <cmr> rusti: fn a<'a>(a: &'a i32) { } (a as /* can't write the type */ fn(&i32)).clone();
[23:34:29] -playbot- ()
[23:35:32] <blaenk> playbot: #[derive(Clone)] struct S { func: fn(&mut Vec<i32>) }
[23:35:32] -playbot- <anon>:9:37: 9:60 error: the trait `core::clone::Clone` is not implemented for the type `fn(&mut collections::vec::Vec<i32>)` [E0277]
[23:35:33] -playbot- <anon>:9         #[derive(Clone)] struct S { func: fn(&mut Vec<i32>) }
[23:35:33] -playbot- output truncated; full output at: http://bit.ly/1Emwvc9
[23:35:36] <blaenk> ^
[23:36:25] <blaenk> so that's because the impl doesn't cover that parameter?
[23:36:27] <blaenk> impl<$($A,)* ReturnType> Clone for extern "Rust" fn($($A),*) -> ReturnType
[23:36:28] <cmr> There's a bug somewhere.
[23:36:31] <cmr> rusti: fn a(a: &mut Vec<i32>) { } (a as fn(&mut Vec<i32>)).clone();
[23:36:34] -playbot- ()
[23:36:37] <blaenk> lol
[23:36:42] *** Quits: zxq9 (ceverett@moz-qsm369.mesh.ad.jp) (Quit: Konversation terminated!)
[23:36:44] <cmr> rusti: fn a(a: &mut Vec<i32>) { } (a : fn(&mut Vec<i32>)).clone();
[23:36:45] -playbot- <anon>:9:39: 9:40 error: expected one of `!`, `)`, `,`, `.`, `::`, `{`, or an operator, found `:`
[23:36:45] -playbot- <anon>:9         fn a(a: &mut Vec<i32>) { } (a : fn(&mut Vec<i32>)).clone();
[23:36:45] -playbot- output truncated; full output at: http://bit.ly/1SkvHiG
[23:36:59] <cmr> rusti: fn a(a: &mut Vec<i32>) { } Clone::clone(a)
[23:37:00] -playbot- <anon>:9:49: 9:50 error: mismatched types:
[23:37:01] -playbot-  expected `&_`,
[23:37:01] -playbot- output truncated; full output at: http://bit.ly/1EmwGnE
[23:37:05] <cmr> heh
[23:37:38] <bluss> playbot: fn foo<T: Copy>(t: T) -> T { t.clone() }   foo(foo::<&i32>);
[23:37:39] -playbot- <anon>:9:38: 9:47 error: internal compiler error: Encountered error `Unimplemented` selecting `Binder(core::clone::Clone)` during trans
[23:37:40] -playbot- <anon>:9         fn foo<T: Copy>(t: T) -> T { t.clone() }   foo(foo::<&i32>);
[23:37:40] -playbot- output truncated; full output at: http://bit.ly/1EmwKDX
[23:37:54] <cmr> nice.
[23:38:03] <blaenk> hahah
[23:39:09] <bluss> yup. see that blaenk, that's the promise that clone will one day be implemented
[23:39:12] <bluss> :)
[23:39:20] *** Quits: Jesin (Jesin@moz-48mne2.nsvltn.sbcglobal.net) (Quit: Leaving)
[23:39:43] *** Joins: Jesin (Jesin@moz-48mne2.nsvltn.sbcglobal.net)
[23:39:54] <blaenk> yay I got that to look forward to
[23:40:52] <bluss> this hit me in practice because iter::Filter doesn't impl Clone even if I give it a fn pointer
[23:41:13] <bluss> iter::Map is fine, but Filter passes the element by reef
[23:41:22] <blaenk> aw
[23:44:28] *** Quits: arielb1 (Ariel@moz-dqnh1v.red.bezeqint.net) (Quit: Ex-Chat)
[23:56:30] *** Quits: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net) (Ping timeout: 121 seconds)
[23:58:07] *** Quits: tamird (textual@moz-lje.m54.130.157.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
