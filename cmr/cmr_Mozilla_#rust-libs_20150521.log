[00:01:08] *** Quits: Rym_ (y@moz-c2u.sd4.38.217.IP) (Ping timeout: 121 seconds)
[00:11:07] *** Joins: Rym_ (y@moz-c2u.sd4.38.217.IP)
[00:58:15] *** Quits: brson (brson@moz-cfhap5.mtv2.mozilla.com) (Quit: leaving)
[01:22:49] *** Quits: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[01:30:01] *** Joins: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se)
[01:31:26] *** Quits: Rym_ (y@moz-c2u.sd4.38.217.IP) (Connection closed)
[01:31:59] *** Joins: Rym_ (y@moz-c2u.sd4.38.217.IP)
[01:49:50] *** Quits: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[02:03:59] *** Quits: zz_kimundi (kimundi@moz-e86r7p.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[02:06:35] *** Joins: zz_kimundi (kimundi@moz-pgadja.dip0.t-ipconnect.de)
[02:06:37] *** zz_kimundi is now known as kimundi
[02:07:18] *** Quits: barosl (barosl@moz-tmp.qma.67.220.IP) (Quit: Leaving)
[02:24:30] *** Quits: blank_name (blank_name@moz-5t8mvg.mi.frontiernet.net) (Quit: leaving)
[02:27:06] *** Joins: blank_name (blank_name@moz-5t8mvg.mi.frontiernet.net)
[02:38:49] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[02:45:13] *** Quits: annodomini (lambda@moz-hceqmj.hfc.comcastbusiness.net) (Client exited)
[02:47:45] *** Joins: blank_na1e (blank_name@moz-0lko1v.mi.frontiernet.net)
[02:50:17] *** Quits: blank_name (blank_name@moz-5t8mvg.mi.frontiernet.net) (Ping timeout: 121 seconds)
[03:03:05] *** Quits: kimundi (kimundi@moz-pgadja.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[03:04:37] *** Joins: zz_kimundi (kimundi@moz-uvfh0m.dip0.t-ipconnect.de)
[03:04:38] *** zz_kimundi is now known as kimundi
[03:19:33] *** Joins: SilverKey (SilverKey@moz-liif3j.res.rr.com)
[03:19:41] *** Quits: SilverKey (SilverKey@moz-liif3j.res.rr.com) (Quit: Cheerio!)
[03:44:37] *** Quits: scott (uid25790@moz-e5ok1n.brockwell.irccloud.com) (Quit: Connection closed for inactivity)
[03:52:50] *** Quits: c74d (c74d3a4ebb6@moz-0ersgu.oc.cox.net) (Ping timeout: 121 seconds)
[03:53:27] *** Joins: c74d3 (c74d3a4ebb6@moz-iklbs1.mggc.hibn.4404.2002.IP)
[03:58:49] *** Quits: c74d3 (c74d3a4ebb6@moz-iklbs1.mggc.hibn.4404.2002.IP) (Ping timeout: 121 seconds)
[04:02:11] *** Joins: c74d (c74d3a4ebb6@moz-c0t2f8.mggc.hibn.4404.2002.IP)
[04:45:38] *** Quits: Rym_ (y@moz-c2u.sd4.38.217.IP) (Ping timeout: 121 seconds)
[05:07:59] *** Joins: p1start (p1start@moz-nftjhe.org)
[05:12:16] *** Joins: rustbot (havvy@moz-u0e4io.net)
[05:12:39] *** Joins: Rym_ (y@moz-c2u.sd4.38.217.IP)
[05:16:53] *** Quits: Rym_ (y@moz-c2u.sd4.38.217.IP) (Ping timeout: 121 seconds)
[05:50:09] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[05:55:30] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[05:57:28] *** Quits: aatch (james@moz-8r6eer.orns.ubhm.e000.2406.IP) (Connection closed)
[06:06:49] *** Joins: Rym_ (y@moz-c2u.sd4.38.217.IP)
[06:08:01] *** Quits: c74d (c74d3a4ebb6@moz-c0t2f8.mggc.hibn.4404.2002.IP) (Ping timeout: 121 seconds)
[06:09:02] *** Joins: c74d3 (c74d3a4ebb6@moz-0ersgu.oc.cox.net)
[06:10:41] *** Quits: c74d3 (c74d3a4ebb6@moz-0ersgu.oc.cox.net) (Connection closed)
[06:11:03] *** Quits: Rym_ (y@moz-c2u.sd4.38.217.IP) (Ping timeout: 121 seconds)
[06:12:10] *** Joins: c74d (c74d3a4ebb6@moz-0ersgu.oc.cox.net)
[06:13:53] *** Quits: c74d (c74d3a4ebb6@moz-0ersgu.oc.cox.net) (Connection closed)
[06:15:04] *** Joins: c74d (c74d3a4ebb6@moz-0ersgu.oc.cox.net)
[06:29:50] *** Quits: c74d (c74d3a4ebb6@moz-0ersgu.oc.cox.net) (Connection closed)
[06:31:53] *** Joins: c74d (c74d3a4ebb6@moz-0ersgu.oc.cox.net)
[06:34:08] *** Joins: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se)
[07:00:58] *** Joins: Rym_ (y@moz-c2u.sd4.38.217.IP)
[07:05:12] *** Quits: Rym_ (y@moz-c2u.sd4.38.217.IP) (Ping timeout: 121 seconds)
[07:55:06] *** Joins: Rym_ (y@moz-c2u.sd4.38.217.IP)
[07:59:20] *** Quits: Rym_ (y@moz-c2u.sd4.38.217.IP) (Ping timeout: 121 seconds)
[08:13:33] *** Quits: vadimcn (uid46608@moz-o7asbu.uxbridge.irccloud.com) (Quit: )
[08:13:36] *** Joins: vadimcn (uid46608@moz-0d43u8.highgate.irccloud.com)
[08:22:16] *** Joins: sigma (sigma@moz-llrbra.range86-135.btcentralplus.com)
[08:41:26] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[08:49:16] *** Joins: Rym_ (y@moz-c2u.sd4.38.217.IP)
[08:52:21] <bluss> Gankro: let's start implementing Extend<&T> where T: Clone
[08:53:56] *** Quits: Rym_ (y@moz-c2u.sd4.38.217.IP) (Ping timeout: 121 seconds)
[09:20:59] *** Joins: Rym_ (y@moz-c2u.sd4.38.217.IP)
[09:25:12] *** Quits: Rym_ (y@moz-c2u.sd4.38.217.IP) (Ping timeout: 121 seconds)
[10:13:19] <bluss> gh24880 -- mark unsafe or remove?
[10:15:08] *** Joins: Rym_ (y@moz-c2u.sd4.38.217.IP)
[10:19:22] *** Quits: Rym_ (y@moz-c2u.sd4.38.217.IP) (Ping timeout: 121 seconds)
[10:30:48] *** Joins: pnkfelix (pnkfelix@moz-6v5.3nd.202.89.IP)
[10:30:48] *** ChanServ sets mode: +ao pnkfelix pnkfelix
[10:58:33] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[11:05:38] *** Quits: p1start (p1start@moz-nftjhe.org) (Ping timeout: 121 seconds)
[11:09:17] *** Joins: Rym_ (y@moz-c2u.sd4.38.217.IP)
[11:13:32] *** Quits: Rym_ (y@moz-c2u.sd4.38.217.IP) (Ping timeout: 121 seconds)
[11:33:34] *** kimundi is now known as zz_kimundi
[12:03:28] *** Joins: Rym_ (y@moz-c2u.sd4.38.217.IP)
[12:04:52] *** zz_kimundi is now known as kimundi
[12:07:42] *** Quits: Rym_ (y@moz-c2u.sd4.38.217.IP) (Ping timeout: 121 seconds)
[12:42:00] *** Quits: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se) (Quit: Lost terminal)
[12:44:09] *** Joins: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se)
[12:54:56] *** Quits: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[12:55:56] *** Joins: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se)
[12:57:36] *** Joins: Rym_ (y@moz-c2u.sd4.38.217.IP)
[12:58:15] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[13:01:50] *** Quits: Rym_ (y@moz-c2u.sd4.38.217.IP) (Ping timeout: 121 seconds)
[13:05:36] *** Quits: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se) (Quit: Lost terminal)
[13:07:10] *** Joins: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se)
[13:13:36] *** Joins: bluss_ (bluss@moz-ec5o68.cust.bredbandsbolaget.se)
[13:14:44] *** Quits: ryanhiebert (ryanhiebert@moz-nsd5kl.ks.cox.net) (Ping timeout: 121 seconds)
[13:16:30] *** Quits: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[13:16:37] *** bluss_ is now known as bluss
[13:16:45] *** Joins: ryanhiebert (ryanhiebert@moz-nsd5kl.ks.cox.net)
[13:36:39] *** Joins: Rym_ (y@moz-c2u.sd4.38.217.IP)
[13:37:59] *** kimundi is now known as zz_kimundi
[13:46:02] *** Quits: ryanhiebert (ryanhiebert@moz-nsd5kl.ks.cox.net) (Connection closed)
[13:55:05] *** Joins: ryanhiebert (ryanhiebert@moz-nsd5kl.ks.cox.net)
[14:15:03] *** Quits: sigma (sigma@moz-llrbra.range86-135.btcentralplus.com) (Ping timeout: 121 seconds)
[14:18:21] *** Joins: sigma (sigma@moz-k1ghg8.range109-153.btcentralplus.com)
[14:18:49] *** zz_kimundi is now known as kimundi
[14:26:29] *** Quits: sigma (sigma@moz-k1ghg8.range109-153.btcentralplus.com) (Ping timeout: 121 seconds)
[14:38:19] *** Joins: tekacs (tekacs@moz-q64vt8.com)
[15:24:29] *** Quits: Rym_ (y@moz-c2u.sd4.38.217.IP) (Ping timeout: 121 seconds)
[15:51:16] *** Joins: killercup (killercup@moz-qj5qhi.dip0.t-ipconnect.de)
[16:05:03] *** Joins: Rym_ (y@moz-c2u.sd4.38.217.IP)
[16:25:38] *** Quits: pnkfelix (pnkfelix@moz-6v5.3nd.202.89.IP) (Quit: rcirc on GNU Emacs 24.5.1)
[16:58:32] <Gankro> bluss: I thought I already had a PR in for that...
[17:36:53] *** Quits: Gankro (sid71432@moz-sc2bd6.charlton.irccloud.com) (Quit: )
[17:37:07] *** Joins: Gankro (sid71432@moz-sc2bd6.charlton.irccloud.com)
[18:39:25] *** Quits: blank_na1e (blank_name@moz-0lko1v.mi.frontiernet.net) (Ping timeout: 121 seconds)
[18:40:28] *** Joins: blank_name (blank_name@moz-0lko1v.mi.frontiernet.net)
[18:44:33] *** Quits: blank_name (blank_name@moz-0lko1v.mi.frontiernet.net) (Ping timeout: 121 seconds)
[18:51:27] *** Joins: blank_name (blank_name@moz-0lko1v.mi.frontiernet.net)
[18:57:48] *** Quits: blank_name (blank_name@moz-0lko1v.mi.frontiernet.net) (Ping timeout: 121 seconds)
[18:58:53] *** Joins: blank_name (blank_name@moz-0lko1v.mi.frontiernet.net)
[19:31:12] *** Quits: blank_name (blank_name@moz-0lko1v.mi.frontiernet.net) (Ping timeout: 121 seconds)
[19:57:52] *** Quits: Rym_ (y@moz-c2u.sd4.38.217.IP) (Ping timeout: 121 seconds)
[20:11:12] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (A TLS packet with unexpected length was received.)
[20:11:31] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[20:25:11] *** Joins: blank_name (blank_name@moz-k7i.38r.183.192.IP)
[20:25:21] *** Joins: Rym_ (y@moz-c2u.sd4.38.217.IP)
[20:29:39] *** Quits: Rym_ (y@moz-c2u.sd4.38.217.IP) (Ping timeout: 121 seconds)
[20:33:10] *** Joins: Rym_ (y@moz-c2u.sd4.38.217.IP)
[20:40:10] *** Quits: blank_name (blank_name@moz-k7i.38r.183.192.IP) (Ping timeout: 121 seconds)
[20:50:32] *** Joins: nrc (nrc@moz-14pjgj.xtra.co.nz)
[20:50:33] *** ChanServ sets mode: +qo nrc nrc
[20:52:34] *** Parts: nrc (nrc@moz-14pjgj.xtra.co.nz) ("")
[21:00:29] *** Joins: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net)
[21:00:29] *** ChanServ sets mode: +ao pnkfelix pnkfelix
[21:31:45] *** Quits: killercup (killercup@moz-qj5qhi.dip0.t-ipconnect.de) (Quit: Bye)
[21:42:28] <bluss> Gankro: I don't see any such PR. An RFC I know you have
[21:44:24] <Gankro> bluss: Must've imagined it
[21:44:48] <Gankro> Oh I think I started implementing it and had a cool idea but that flopped on coherence so I bailed out or something
[21:45:03] <bluss> hm I thought it should be easy
[21:45:08] <Gankro> It is
[21:45:18] <bluss> hehe great
[21:45:25] <Gankro> I think I tried to see if I could make a blanket of Extend<&T> for Extend<T> or something
[21:46:59] <Gankro> I think I ended up bugging nmatsakis about why that doesn't work (&T is known to != T for all T). Something about the analysis not being powerful enough to levarages this (and how it might not be desirable for it to be)
[21:47:07] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[21:48:48] <Gankro> bluss: The RFC is in an unfortunate bikeshed limbo, though
[21:48:55] <Gankro> namely Copy vs Clone
[21:49:15] <Gankro> Dunno if it could even reasonably go into final comments or just be closed as "no concensus" or something :/
[21:49:21] <bluss> yeah but I thought now that the Copy level is uncontroversial and we really need this API
[21:49:40] <bluss> so I'd accept starting with just Copy even though I've stated my opinion
[21:51:12] <bluss> (I think it's a mistake to use Copy, it's an arbitrary restriction. That's like labeling all .clone() bad, while often a clone is maybe just copying two pointers like an iterator)
[21:53:56] <reem> implicit deep copies though…
[21:54:44] <bluss> itertools has a lot of adaptors that use Clone to duplicate elements or so
[21:54:58] <bluss> in the most common cases, that Clone amounts to duplicating references or integers
[21:55:01] <Gankro> itertools isn't in std, though ;)
[21:55:17] <bluss> Clone is the generic way to duplicate stuff
[21:55:24] <bluss> Gankro: that's not the important part
[21:55:52] <bluss> Gankro: std::iter::repeat() uses Clone the same way too 
[21:57:26] <Gankro> bluss: Anyway I'm happy to knock out a patch for doing copy. iirc it's a trivial one-liner copy-paste job for each collection (input.into_iter().cloned().collect() or input.into_iter().map(|(&a, &b)| (a, b)).collect())
[21:57:34] <Gankro> Unless you're on it?
[21:58:27] <aturon> Gankro: yeah we should move it to final comment period
[21:58:33] <bluss> I haven't started
[21:58:53] <Gankro> bluss: Cool, I can do it then
[21:58:54] <aturon> (FWIW the core team has been ready to merge for a while...)
[21:59:12] <Gankro> I need to get the rust off my Rust skills anyway
[21:59:18] <Gankro> apparently I haven't landed a PR since march!
[21:59:22] <bluss> oh noes
[21:59:31] <aturon> also FWIW i still prefer Clone
[21:59:47] <cmr> Which RFC is this?
[21:59:51] <aturon> (i suppose if we go into FCP we'll do so with the current Clone-based proposal?)
[21:59:55] <bluss> Extend<&T> RFC
[21:59:59] <Gankro> cmr: Extend<&T> for Extend<T> where T: COpy
[22:00:04] <aturon> cmr: https://github.com/rust-lang/rfcs/pull/839
[22:00:08] <cmr> thanks aturon.
[22:00:24] * Gankro relearns to code
[22:00:26] <aturon> Gankro: heh, that's *not* the current title/state of the RFC 
[22:00:33] <aturon> (re: Copy)
[22:00:50] <Gankro> aturon: Yeah but I'm pretty sure that's what's landing :)
[22:00:54] <aturon> hahaha
[22:00:58] <aturon> well, i guess my point is:
[22:01:11] <aturon> whatever way we want to go on this, the RFC needs to be updated before we do FCP
[22:01:24] <aturon> btw, we're planning to do team status reports/FCP announcements on Mondays
[22:01:42] <bluss> Gankro: :(
[22:02:09] <aturon> Gankro: is your personal preference now for Copy?
[22:02:52] <Gankro> aturon: Only from a political position
[22:02:55] <Gankro> Copy can land
[22:03:17] <Gankro> I'm ambivalent about Clone
[22:03:28] <Gankro> And it's back-compat to move to
[22:03:37] <Gankro> (updating rfc now)
[22:04:13] <aturon> burntsushi: sfackler: kimundi: huon: opinions on Copy/Clone for the Extend RFC? https://github.com/rust-lang/rfcs/pull/839
[22:04:22] <aturon> (acrichto and I both prefer Clone)
[22:04:31] <aturon> i was also wondering how important it is that this go through `extend` in particular --
[22:04:49] <aturon> we could consider having a separate method that is more clear that it's going to clone that can incorporate data from iterators
[22:05:06] <aturon> bluss: i take it you prefer Clone here?
[22:05:38] <Gankro> aturon: Oh, wait now I'm remembering why I didn't update the RFC
[22:05:42] <bluss> aturon: yes. It's in the RFC thread and I'm happy with what I put there
[22:05:44] <Gankro> Now the story on push_all is unclear
[22:06:18] <Gankro> push_all does Clone
[22:06:21] <aturon> bluss: ah sorry, i missed those most recent comments
[22:06:48] <aturon> Gankro: right. thoughts on the question above re: `extend` vs different name but still general concept?
[22:07:07] <aturon> one downside would be generic contexts, of course
[22:07:11] <aturon> i.e. bounding over Extend
[22:07:44] <Gankro> aturon: my feelings are currently in transition; not sure. A few months ago I was all in on "one method to rule them all", but now I've grown to appreciate mutliple methods.
[22:08:31] <aturon> yeah, i hear you. my preference remains for using Extend and Clone.
[22:08:36] <Gankro> aturon: Well the generic context is actually quite weird! You might expect references to get stored, when really all that happens is stuff gets copied!
[22:08:42] <aturon> (for reasons i've given on thread)
[22:08:49] <sfackler> i'll have to take a look at the rfc to have an opinion
[22:09:14] <aturon> Gankro: hm, that's an interesting point. we've skirted this question a bit by not having much in the way of collection traits
[22:09:28] <aturon> but there's always the question of: if i implement this method, am i promising something about the cost semantics?
[22:10:08] <Gankro> aturon: I'm not sure it's cost so much as "does a very different thing"
[22:10:53] <aturon> yes, i see
[22:11:06] <aturon> i'll add a comment
[22:11:33] <eternaleye> Gankro: But if they expected it to store references, the container would have a lifetime param and be parameterized on &'lifetime T
[22:12:04] <eternaleye> Gankro: That feels like entirely sufficient disambiguation
[22:12:37] * Gankro isn't sure Extend is used in a generic context at all
[22:12:53] <bluss> Gankro: it is in Iterator::unzip
[22:12:54] <aturon> it is
[22:12:58] <eternaleye> Gankro: Oh, I can see a bunch of uses for it
[22:13:05] <bluss> aturon: you did that trick, right?!
[22:13:28] <aturon> bluss: guilty as charged
[22:13:50] <cmr> extend doing a Clone seems like a non-obvious perf pitfall in a deep iterator chain somewhere...
[22:14:02] <cmr> potential perf pitfall, that is.
[22:14:07] <cmr> I prefer it though.
[22:14:15] <cmr> for extend, that is.
[22:16:17] <Gankro> Also this is such a "we can live without it" thing
[22:16:20] <Gankro> It's just nicer
[22:16:23] <Gankro> in theory
[22:17:21] <aturon> eternaleye: Gankro: https://play.rust-lang.org/?gist=44acfa1290a5b1447980&version=stable
[22:17:38] <aturon> this is in reference to "You'll have to bound the container"
[22:17:49] <aturon> the only bound you have to give is the one for the trait itself
[22:17:57] <aturon> so I think the confusion Gankro raises is a real possibility
[22:18:37] <bluss> that's an orthogonal issue from Copy vs Clone though
[22:18:50] <aturon> that's right
[22:18:55] <Gankro> bluss: definitely
[22:18:58] <aturon> well,
[22:19:00] <Gankro> Still an issue, though
[22:19:07] <aturon> sort of. it argues for having a separate method/trait,
[22:19:12] <aturon> which would *also* resolve the copy/clone question
[22:19:21] <aturon> because that separate method could be clearly marked as doing a clone
[22:20:02] <Gankro> I'm also not a fan of adding more types for people to worry about
[22:20:47] <eternaleye> aturon: That bound (on both the impl and the generic) is what I meant, though.
[22:21:13] <aturon> eternaleye: the one on the generic is just the trait bound, though?
[22:21:25] <eternaleye> aturon: The one inside the parameter
[22:21:25] <aturon> so, for example,
[22:21:28] <eternaleye> aturon: &'a T
[22:21:37] <aturon> well, so the point I think is:
[22:21:51] <aturon> Extend<&'a T> would be implemented by both Vec<&'a T> and Vec<T>
[22:21:57] <aturon> but the semantics of the two cases is wildly different!
[22:22:05] <aturon> which seems like a real footgun
[22:22:07] <eternaleye> Mm
[22:22:22] <eternaleye> I'm kind of dubious of that
[22:22:35] <eternaleye> You don't get those two kinds of Vecs magically in the same place
[22:22:56] <eternaleye> With HKP it could happen if you are polymorphic over Vec<_>
[22:23:10] <aturon> but the point is, what semantics do you assume in the generic code?
[22:23:15] <eternaleye> But it's not something that's going to be much of a concern before that IMO
[22:23:26] <aturon> (left a comment on thread, for the public record; https://github.com/rust-lang/rfcs/pull/839#issuecomment-104439069)
[22:24:10] <eternaleye> aturon: That lifetime bound propagates up, though
[22:24:12] <Gankro> eternaleye: http://is.gd/XXPj5M
[22:24:29] <eternaleye> aturon: If you put Vec<&'a T> into some struct Foo, Foo will also need a lifetime, &c
[22:24:39] <bluss> aturon: if that's all you bound on - just Extend<&'a T>, does it matter which type implements it?
[22:24:45] <aturon> eternaleye: right, but none of that is visible to the generic code
[22:25:14] <aturon> bluss: no, and that's exactly the worry -- you can instantiate with either, but the generic code will presumably be broken for one of them
[22:26:16] <bluss> I don't see it
[22:26:31] <aturon> bluss: take a look at Gankro's link above?
[22:27:26] <Gankro> aturon: ooh, defaulted method is a nice idea
[22:27:37] <Gankro> Although it doesn't work right for Maps
[22:27:42] <bluss> aturon: yes, it doesn't look broken. If I go to .unzip() it bounds on FromA: Default + Extend<A>
[22:28:08] <bluss> doesn't that mean that I can unzip a `(&T, &U)` into both Vec<T>, Vec<U> and into Vec<&T>, Vec<U>
[22:28:13] <bluss> and so on
[22:28:26] <Gankro> We need some trait to make &(x, y) isomorphic to (&x, &y)
[22:28:44] <aturon> Gankro: with HKT, that would be Borrow
[22:28:56] <aturon> bluss: so, not *all* generic code is broken by this --
[22:28:58] <reem> &mut (x, y) -> (&mut x, &mut y) would be even better
[22:29:10] <Gankro> aturon: Is Borrow supposed to handle that?
[22:29:28] <aturon> bluss: but the worry is that you could have code that works over a generic extendable collection, and expects to put actual references into them
[22:29:32] <aturon> (not copies)
[22:29:50] <bluss> aturon: but that expectation would come with some bound?
[22:29:54] <reem> Gankro: under HKT sure, since you’d have the output type be (&’_ X, &’_, Y)
[22:30:05] <bluss> say Extend<&T> + Sequence<&T> or so
[22:30:10] <aturon> bluss: which bound, though? Extend by itself can't distinguish
[22:30:20] <aturon> (but is all you need to put the data into the collection)
[22:30:24] <aturon> Gankro: not today, but with HKT
[22:30:37] <aturon> Gankro: related to other requests for borrowing working with newtypes
[22:30:37] <bluss> aturon: but if there is no bound for it, the generic code can't distinguish either and it shouldn't matter. that's just what I think
[22:31:28] <aturon> bluss: i think you're saying: without another bound, the generic code can't extract the data, so it can't tell anyway? that's a fair point
[22:32:04] <aturon> OTOH, moving this out to a separate, defaulted method on the Extend trait is also a potentially nice way of resolving the Copy/Clone dispute by being a bit more explicit
[22:32:16] <aturon> but without discoverability downsides (since it's on a single trait)
[22:34:59] <aturon> bluss: noted on RFC (https://github.com/rust-lang/rfcs/pull/839#issuecomment-104440948)
[22:36:28] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[22:37:11] <bluss> I'm basically 10 minutes behind Gankro saying ooh default method
[22:37:30] *** Joins: bstrie (ben@moz-avu3ju.members.linode.com)
[22:37:36] <bluss> it's a good idea. the best separate method idea.
[22:38:22] <Gankro> What's the method called? clextend?
[22:38:36] <Gankro> mem_clopy
[22:38:49] <bluss> hehe silly names is how a big bikeshed starts
[22:39:45] <cmr> clone_from is already taken, shame ;)
[22:40:05] <Gankro> I like to think rustlibs is a safe space where bikesheds are never serious
[22:40:24] <Gankro> deep_extend?
[22:40:28] <bluss> .extend_cloned() is kind of logical after .cloned()
[22:40:46] <Gankro> Yeah that's probably the easiest
[22:40:51] <bluss> boringest
[22:40:57] <Gankro> bstrie: https://github.com/rust-lang/rfcs/pull/839#issuecomment-104440948
[22:41:09] <Gankro> bluss: We can write a fork where everything is CoW for days
[23:01:17] *** kimundi is now known as zz_kimundi
[23:56:30] *** Quits: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net) (Ping timeout: 121 seconds)
