[00:01:49] *** Quits: futile (felix@moz-7aqurh.hsi13.unitymediagroup.de) (Quit: WeeChat 1.0-dev)
[00:02:49] *** Quits: fyolnish (fyolnish@moz-0iibse.au-net.ne.jp) (Ping timeout: 121 seconds)
[00:03:15] *** Joins: sprang (sprang@moz-d0kmvi.12d9.sm5v.0009.2601.IP)
[00:03:18] *** Joins: kvark (Mibbit@moz-8egann.cpe.pppoe.ca)
[00:05:57] *** Joins: glenc (glenc@moz-7ku.qb5.12.185.IP)
[00:08:03] *** Joins: Rym (y@moz-vsu.f6d.55.31.IP)
[00:08:15] *** Joins: fyolnish (fyolnish@moz-0iibse.au-net.ne.jp)
[00:08:58] *** Joins: jwatt (roslea@jwatt.irc.users.mozilla.org)
[00:09:43] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[00:09:56] *** Joins: RCIX (RCIX@moz-vnmep7.ph.cox.net)
[00:11:04] *** Quits: glenc (glenc@moz-7ku.qb5.12.185.IP) (Ping timeout: 121 seconds)
[00:11:27] *** Quits: jaen (jaen@moz-ifmik2.copit.pl) (Connection closed)
[00:11:29] *** Quits: kvark (Mibbit@moz-8egann.cpe.pppoe.ca) (Quit: http://www.mibbit.com ajax IRC Client)
[00:12:17] *** Quits: fyolnish (fyolnish@moz-0iibse.au-net.ne.jp) (Ping timeout: 121 seconds)
[00:12:38] *** Quits: fizzbooze (bp@moz-7qjnra.sm5k.54kg.0101.2620.IP) (Ping timeout: 121 seconds)
[00:13:04] *** Quits: Rym (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[00:14:53] *** Joins: Rym (y@moz-vsu.f6d.55.31.IP)
[00:15:24] *** Joins: dodo (dodo@moz-trg.cj2.196.66.IP)
[00:16:37] *** Quits: brushbox (Adium@moz-4he6va.iinet.net.au) (Quit: Leaving.)
[00:18:32] <Kingsquee> http://is.gd/LEtFK8
[00:18:49] <Kingsquee> so when I run this with "cargo build", it outputs the binary to target/debug
[00:19:01] *** Joins: Popinman322 (Mibbit@moz-79ak9q.res.rr.com)
[00:19:02] <Kingsquee> and when I run it outputs "IN RELEASE"
[00:19:13] <Kingsquee> I am thoroughly confused.
[00:19:14] <XMPPwocky> Kingsquee: what's in cargo.toml
[00:19:41] *** Quits: michas (michas@moz-tjq2ir.web.vodafone.de) (Connection closed)
[00:19:55] <Kingsquee> XMPPwocky: just the default from calling 'cargo new --bin whatever'
[00:20:08] <XMPPwocky> weird
[00:20:17] <XMPPwocky> what if you build with --release
[00:20:32] *** Quits: dodo (dodo@moz-trg.cj2.196.66.IP) (Ping timeout: 121 seconds)
[00:20:37] <Kingsquee> http://pastebin.com/raw.php?i=wNwwH0Hx
[00:20:38] *** Quits: cryptojuice (cryptojuice@moz-uvr5ad.res.rr.com) (Connection closed)
[00:20:41] <Kingsquee> lemme try
[00:20:46] <ChrisMorgan> Kingsquee: it’s not debug, it’s not(ndebug)
[00:21:06] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[00:21:20] <Kingsquee> ChrisMorgan: wat
[00:21:23] <ChrisMorgan> i.e. Rust code is not in debug by default.
[00:21:39] *** Quits: sugaku (sugaku@moz-24j.5gi.12.128.IP) (Connection closed)
[00:21:45] <Kingsquee> then why is cargo sticking it in a debug folder
[00:22:17] <ChrisMorgan> Remember that Cargo’s --release equates to *two* things in rustc: the debug mode, and the optimisation level.
[00:22:22] <Popinman322> I'm looking at rustc's manpage and I can't find the details for the SPEC portion of the --cfg flag :S
[00:22:39] *** Joins: bojo1 (bojo@moz-oc096p.plala.or.jp)
[00:22:59] <ChrisMorgan> Kingsquee: `cargo build` == debug, meaning cfg(ndebug) is false. `cargo build --release` == release, meaning cfg(ndebug) is true.
[00:24:03] *** Joins: csherratt (textual@moz-357qdq.cable.teksavvy.com)
[00:24:57] <ChrisMorgan> Kingsquee: http://is.gd/8SVREJ
[00:25:02] *** Quits: edlothiol (user@moz-n7m9to.unity-media.net) (Ping timeout: 121 seconds)
[00:25:13] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[00:25:14] <cmr> u
[00:25:48] *** Joins: cryptojuice (cryptojuice@moz-uvr5ad.res.rr.com)
[00:25:52] <talchas> this is C tradition, where I'm guessing they wanted asserts on by default with no compiler parameters
[00:25:55] *** Quits: laogao (laogao@moz-aek.cnj.229.101.IP) (Connection closed)
[00:26:27] <Kingsquee> ChrisMorgan: cargo build --release && cargo run outputs "IN DEBUG" with that
[00:26:59] <ChrisMorgan> Kingsquee: `cargo run` compiles (if necessary) and runs the debug build.
[00:27:04] <Kingsquee> also why for the love of all that is good and holy would we be using double negative attributes
[00:27:11] <ChrisMorgan> Kingsquee: `cargo run --release` does that for the release build.
[00:27:36] <ChrisMorgan> cargo build && cargo run is superfluous, cargo run does the build bit as well.
[00:27:47] *** Joins: dougxxx (dougxxx@moz-0js00c.iinet.net.au)
[00:28:31] <Kingsquee> ChrisMorgan: http://i.imgur.com/NiVW98f.png
[00:29:26] *** Quits: duesenfranz (jona@moz-piq5sk.tirol.surfer.at) (Client exited)
[00:29:33] <cmr> ChrisMorgan: Kingsquee: https://github.com/alexcrichton/rust/commit/c6be9fc4be4cdfa133363e53e877fff8bcd75cde
[00:30:02] <ChrisMorgan> Kingsquee: that’s not what I observe
[00:30:18] <cmr> ndebug doesn't exist.
[00:30:37] <ChrisMorgan> cmr: it works still.
[00:30:56] *** Quits: kgrandon1 (Adium@moz-6m3528.ca.comcast.net) (Quit: Leaving.)
[00:31:02] *** Joins: adu (ajr@moz-rdrp0r.biz.rr.com)
[00:31:12] <Kingsquee> cmr: interesting
[00:31:14] <Kingsquee> "The flag is turned off at any optimization level greater than 1"
[00:31:25] <Kingsquee> I'm a little terrified
[00:31:28] <cmr> With what rustc/cargo versions? cargo doesn't pass it as of https://github.com/rust-lang/cargo/pull/1444, and rustc doesn't set it either.
[00:31:51] <Kingsquee> so at any optimization level greater than 1, it's assumed to be release?
[00:33:07] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[00:33:51] <cmr> Kingsquee: right, though you can enable it explicityl.
[00:33:59] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[00:34:55] <Kingsquee> cmr: alright, now I need to check what optimization level cargo defaults to...
[00:35:06] <cmr> Kingsquee: --release is opt-level=3, default is 0.
[00:35:33] *** Quits: cryptojuice (cryptojuice@moz-uvr5ad.res.rr.com) (Connection closed)
[00:36:04] *** Quits: Romster (Romster@moz-4g83e8.rev.eftel.com) (Ping timeout: 121 seconds)
[00:36:16] <Kingsquee> http://imgur.com/4RvoRc7
[00:36:21] <Kingsquee> cmr: awesome, thanks!
[00:36:39] <ChrisMorgan> cmr, Kingsquee: http://chrismorgan.info/temp/ndebug.png
[00:37:02] <cmr> ChrisMorgan: your cargo is older than the PR that changed it.
[00:37:21] *** Quits: Popinman322 (Mibbit@moz-79ak9q.res.rr.com) (Quit: http://www.mibbit.com ajax IRC Client)
[00:38:00] * ChrisMorgan goes to examine why his cargo hasn’t updated itself along with rustc as it should have
[00:39:16] <adu> burntsushi: hey
[00:39:18] *** Joins: _td (tatterdemal@moz-c1pqg7.ca.charter.com)
[00:39:21] <ChrisMorgan> Bah, Cargo’s Makefile appears to be broken again. It has been under the impression that it has nothing to do for ten days or so, by the looks of it.
[00:40:25] * ChrisMorgan metaphorically throws up his hands (physically doing it would take too much effort) and does `make clean`
[00:41:19] * adu gives ChrisMorgan a .PHONY cookie
[00:41:45] * ChrisMorgan wants a .REAL cookie!
[00:42:18] <adu> cookie: $(baking_items)
[00:42:31] * adu does not have $(baking_items)
[00:42:32] <ChrisMorgan> Somehow I still find myself depending on syntax highlighting to convince myself that it’s .PHONY and not .PHONEY.
[00:42:37] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[00:42:40] <ChrisMorgan> adu: then you’d better make them!
[00:42:53] *** Quits: SerialVelocity (SerialVeloc@moz-g0e9ub.range86-152.btcentralplus.com) (Connection closed)
[00:43:19] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[00:43:24] *** Joins: Feyn (Feyn@moz-n9f.csn.115.42.IP)
[00:44:47] <ChrisMorgan> *sigh* and now after `make`, `make install` flunks.
[00:44:49] *** Joins: fizzbooze (bp@moz-lt3.k7f.113.208.IP)
[00:44:50] *** Joins: sugaku (sugaku@moz-24j.5gi.12.128.IP)
[00:45:38] <ChrisMorgan> One should NEVER need to manually ./configure again. If anything changes, the Makefile should update itself.
[00:46:00] <asmodeius> can i have static member in struct?
[00:46:11] <ChrisMorgan> asmodeius: what do you mean by that?
[00:46:29] <ChrisMorgan> You can have whatever you like in a struct. When it comes to references, 'static ones are just fine.
[00:46:33] *** Joins: alfred (rndm@moz-fg3.o0i.131.104.IP)
[00:46:46] <asmodeius> sry my bad
[00:47:01] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[00:47:13] <asmodeius> i mean if i can have default value in struct
[00:47:14] *** Joins: lenstr (lenstr@moz-gkn.vju.25.171.IP)
[00:47:18] <asmodeius> const if possible
[00:47:27] *** Quits: bleibig (bleibig@moz-kn8mvj.ca.comcast.net) (Connection closed)
[00:47:32] <cmr> asmodeius: no, not really.
[00:47:43] *** Joins: theme (theme@moz-i3mhhb.asianet.co.th)
[00:48:03] *** Joins: bleibig (bleibig@moz-kn8mvj.ca.comcast.net)
[00:48:04] <asmodeius> so i have to create constructor to do that and no const? :<
[00:48:06] <cmr> asmodeius: just use a `const`.
[00:48:09] *** Quits: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net) (A TLS packet with unexpected length was received.)
[00:48:13] <ChrisMorgan> asmodeius: there is the struct initialisation syntax `Foo { bar: baz, .. default }` where `default` is an expression evaluating to a Foo from which it will pull any omitted values.
[00:48:17] <cmr> playbot: const FOO: i32 = 0; FOO
[00:48:19] -playbot- 0
[00:49:08] <cmr> asmodeius: no, just forget about it being a field of the struct :) that'd be rather wasteful for a value that doesn't change. Rust structs are *not* classes, or like them. They are a means of aggregating data, not abstraction.
[00:50:21] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[00:50:29] *** Joins: Rym_ (y@moz-vsu.f6d.55.31.IP)
[00:50:44] <asmodeius> ok, thanks
[00:50:52] *** Quits: Rym (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[00:51:19] *** Quits: lenstr (lenstr@moz-gkn.vju.25.171.IP) (Ping timeout: 121 seconds)
[00:51:30] *** Joins: blaenk_ (blaenkdenum@moz-em283u.res.rr.com)
[00:51:41] *** Quits: gus (quassel@moz-kgm.3mq.9.119.IP) (Quit: No Ping reply in 180 seconds.)
[00:51:42] <adu> I'm wondering if I should add some algorithms to my digest library
[00:52:36] *** Joins: jonalmei_ (jonalmeida@moz-ruqfvo.home.cgocable.net)
[00:52:53] *** Joins: gus (quassel@moz-s29c4j.1136.t8sg.1801.2401.IP)
[00:53:45] *** Joins: jminer (Instantbird@moz-b1u.qch.163.66.IP)
[00:54:29] *** Joins: jonalme__ (jonalmeida@moz-5j8.kvb.131.104.IP)
[00:54:32] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Ping timeout: 121 seconds)
[00:54:33] *** Quits: jonalmeida (jonalmeida@moz-5j8.kvb.131.104.IP) (Connection closed)
[00:54:43] *** Quits: blaenk_ (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[00:54:58] *** Quits: Guest74 (textual@moz-lmfinb.fios.verizon.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[00:55:10] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[00:55:35] *** Quits: csherratt (textual@moz-357qdq.cable.teksavvy.com) (Connection closed)
[00:57:21] <glendc> I just published version 0.1.0 (first release) of the github v3 api in rust. As i'm still very new to rust, I would appriciate any feedback on it @ http://www.reddit.com/r/rust/comments/30r7sr/a_crate_im_working_on_for_the_github_v3_api_client/ :) 
[00:57:38] *** Quits: jonalmei_ (jonalmeida@moz-ruqfvo.home.cgocable.net) (Ping timeout: 121 seconds)
[00:58:21] *** Quits: dcb (textual@moz-j72nfe.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[00:58:44] *** Quits: rfnash (weechat@moz-203epe.in.comcast.net) (Ping timeout: 121 seconds)
[01:00:00] *** Joins: blaenk_ (blaenkdenum@moz-em283u.res.rr.com)
[01:00:28] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Ping timeout: 121 seconds)
[01:01:28] *** Joins: dcb (textual@moz-j72nfe.ca.comcast.net)
[01:01:28] *** Quits: Rym_ (y@moz-vsu.f6d.55.31.IP) (Connection closed)
[01:01:57] *** Joins: dfinninger (dfinninger@moz-6a9v7n.res.rr.com)
[01:02:38] <asmodeius> is there a way to do that:
[01:02:39] <asmodeius> fn get_result(&mut self) -> Train{
[01:02:39] <asmodeius>         self._train
[01:02:39] <asmodeius>     }
[01:03:13] *** Joins: dfoelber (dfoelber@moz-obfuab.fios.verizon.net)
[01:03:45] <Mutabah> asmodeius: Hmm?
[01:03:54] <asmodeius> it says cannot move out of borrowed content
[01:04:06] <cmr> asmodeius: yes, and exactly that code will work, depending on Train, see http://doc.rust-lang.org/book/pointers.html and http://doc.rust-lang.org/book/ownership.html
[01:04:33] <asmodeius> thanks :)
[01:04:39] *** Joins: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net)
[01:05:25] <ChrisMorgan> asmodeius: prefixing a field name with an underscore is not idiomatic Rust, incidentally. If you want it to be private, simply don’t mark it as `pub` and it will not be accessible from elsewhere.
[01:05:32] *** Quits: dardevelin (dardevelin@moz-a3ode1.adslplus.ch) (Ping timeout: 121 seconds)
[01:05:34] *** Quits: zcourts (zcourts@moz-7ms809.cable.virginm.net) (Client exited)
[01:06:27] <asmodeius> ok, I'll remember that :)
[01:06:42] *** Joins: glenc (glenc@moz-7ku.qb5.12.185.IP)
[01:07:15] *** Quits: dfoelber (dfoelber@moz-obfuab.fios.verizon.net) (Ping timeout: 121 seconds)
[01:07:28] *** Quits: blaenk_ (blaenkdenum@moz-em283u.res.rr.com) (Ping timeout: 121 seconds)
[01:09:10] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[01:10:27] *** Quits: daniel-s (daniel-s@moz-upmq06.monash.edu.au) (A TLS packet with unexpected length was received.)
[01:10:43] *** Joins: daniel-s (daniel-s@moz-upmq06.monash.edu.au)
[01:11:50] *** Quits: glenc (glenc@moz-7ku.qb5.12.185.IP) (Ping timeout: 121 seconds)
[01:12:19] *** Joins: fyolnish (fyolnish@moz-4f9iq2.ocn.ne.jp)
[01:13:22] *** Joins: jonalmeida (jonalmeida@moz-ruqfvo.home.cgocable.net)
[01:13:46] <_td> What does it specifically entail for a trait to be "object safe"?
[01:14:03] <WindowsBunny> ChrisMorgan: Unless you are making a smart pointer
[01:14:15] *** Quits: jonalme__ (jonalmeida@moz-5j8.kvb.131.104.IP) (Connection closed)
[01:14:26] *** Joins: Gamecubic (cubic@moz-qfrl13.mc.videotron.ca)
[01:14:29] <cmr> _td: In general, every property which is required for 'impl Trait for Trait', that is, that the trait object can implement the trait.
[01:14:29] *** Joins: jonalmei_ (jonalmeida@moz-5j8.kvb.131.104.IP)
[01:14:34] <WindowsBunny> I don't think anyone fixed that thing with private fields interfering with deref resolution to inner public fields
[01:14:38] *** Joins: Rym (y@moz-vsu.f6d.55.31.IP)
[01:14:49] <ChrisMorgan> WindowsBunny: indeed, when making types that implement Deref underscores are still considered a necessary evil.
[01:15:19] <_td> cmr, I don't know exactly what that means.
[01:15:21] <WindowsBunny> Would be nice to have a big list of all the necessary evils and exceptions when writing Rust :P
[01:15:27] *** Quits: dwrensha (chatzilla@moz-52ciq2.east.verizon.net) (Ping timeout: 121 seconds)
[01:15:37] <WindowsBunny> _td: Basically, every function must be invokable as a virtual function
[01:15:54] <_td> The compiler gives me the note "the trait cannot use `Self` as a type parameter in the supertrait listing"
[01:15:56] *** Joins: drasich (indefini@moz-4p4v25.ucom.ne.jp)
[01:15:57] <theme> _td, there's a list here
[01:15:58] *** Quits: khades1 (Thunderbird@moz-08k.3vk.74.212.IP) (Client exited)
[01:16:01] <theme> lemme get it
[01:16:17] <theme> _td, https://github.com/rust-lang/rfcs/blob/master/text/0255-object-safety.md
[01:16:27] *** Quits: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net) (A TLS packet with unexpected length was received.)
[01:17:02] *** Quits: paullepoulpe (paullepoulp@moz-5fs.qdm.218.85.IP) (Connection closed)
[01:17:27] *** Quits: jonalmeida (jonalmeida@moz-ruqfvo.home.cgocable.net) (Ping timeout: 121 seconds)
[01:19:08] *** Quits: daniel-s (daniel-s@moz-upmq06.monash.edu.au) (A TLS packet with unexpected length was received.)
[01:19:09] <_td> Thanks, I definitely don't intuit this yet but I'll read through that.
[01:19:33] *** Joins: Guest74 (textual@moz-lmfinb.fios.verizon.net)
[01:20:02] *** Joins: daniel-s (daniel-s@moz-upmq06.monash.edu.au)
[01:20:29] *** Joins: dardevelin (dardevelin@moz-a3ode1.adslplus.ch)
[01:20:42] *** Quits: colinsurprenant (colin@moz-lu9sne.92.electronicbox.net) (Client exited)
[01:20:55] *** Quits: dardevelin (dardevelin@moz-a3ode1.adslplus.ch) (Quit: Leaving)
[01:21:01] <ChrisMorgan> WindowsBunny: I wonder whether the caveat about Rust eating your laundry will be removed from http://www.rust-lang.org/ on 1.0…
[01:21:49] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[01:22:04] <WindowsBunny> ChrisMorgan: We should add to the features "won't eat your laundry*"
[01:22:14] *** Joins: da-kid (da@moz-f94q3u.dip0.t-ipconnect.de)
[01:22:18] <WindowsBunny> *Unless you use unsafe code
[01:22:22] <dougxxx> O_o the trait `core::marker::Reflect` is not implemented for the type `T`? 
[01:22:31] <ChrisMorgan> Nah, “probably won’t eat your laundry” sounds better.
[01:22:41] <ChrisMorgan> dougxxx: meaning you need to add it as a bound
[01:22:54] * dougxxx stares as TypeId docs
[01:22:54] <theme> dougxxx, rust has reflection?
[01:22:59] <dougxxx> T where T: Any?
[01:23:06] <theme> O_o
[01:23:08] <enjolras> theme: sort off yes
[01:23:29] <cmr> theme: it's limited to comparing trait objects for type-equality, essentially.
[01:23:30] *** Joins: cakecatz (cakecatz@moz-hunn6o.sannet.ne.jp)
[01:23:31] <ChrisMorgan> Reflect is a bound for the sake of future-proofing.
[01:23:33] <theme> http://doc.rust-lang.org/nightly/std/marker/trait.Reflect.html
[01:23:39] <theme> "This trait is implemented for all types."
[01:23:41] <theme> what???
[01:23:48] <panicbit> How to make rustc eat all of your memory: http://is.gd/yiN8AL
[01:23:50] <enjolras> fucking insomnia. I'd rather code :/
[01:24:02] <Mutabah> theme: Probably using 'impl Reflect for ..'
[01:24:03] <enjolras> panicbit: haha nice
[01:24:10] <panicbit> I'm crazy and I know it. *claps*
[01:24:23] <Mutabah> panicbit: Gotta love explosive macro invocations
[01:24:33] <theme> panicbit, I once tried to implement a turing machine in the module system
[01:24:37] <panicbit> It will easily emit about 244140625 tokens :)
[01:24:37] <Mutabah> panicbit: There's a macro in libcore that did that to me at a point
[01:24:39] <dougxxx> ChrisMorgan: I'm confused though; what theme said; What bound do I need on the generic ?
[01:24:40] <theme> panicbit, failed with "too many symlinks"
[01:24:52] *** Joins: morphy (Mibbit@moz-c70.u5s.65.112.IP)
[01:24:56] * ChrisMorgan just had to update mopa because he’d written his bounds slightly suboptimally so that Reflect broke it.
[01:24:57] <theme> dougxxx, T: Any
[01:24:58] <theme> I guess
[01:25:04] *** Quits: da-kid_ (da@moz-7vh1s1.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[01:25:14] <panicbit> theme: Did it really?
[01:25:16] <ChrisMorgan> Yeah, go with T: Any rather than T: 'static.
[01:25:20] <_td> http://is.gd/Wvu0bj <- So the issue that makes this trait not object-safe is one of Send, Eq, or Debug?
[01:25:41] *** Joins: leonlee (leonlee@moz-98g.1ve.189.27.IP)
[01:25:43] <theme> panicbit, didn't work
[01:25:51] <cmr> _td: yes, and it's Eq.
[01:25:56] <panicbit> theme: Well, what do you expect?
[01:25:57] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[01:26:01] <theme> panicbit, apparently, cargo is not lazy with crate dependencies :(
[01:26:17] <panicbit> Now you're just confusing me =D
[01:26:32] <ChrisMorgan> _td: `trait Eq: PartialEq<Self>`
[01:26:40] <_td> Eq and Debug are only there for writing tests, how should you test that an object is the correct implementor?
[01:26:55] <asmodeius> is there a way to return copy of member?
[01:27:12] <_td> Cool, I see the problem with it now. I just need to write my tests differently.
[01:27:13] *** Joins: brson (brson@moz-cfhap5.mtv2.mozilla.com)
[01:27:13] *** ChanServ sets mode: +ao brson brson
[01:27:14] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[01:27:14] *** Joins: colinsurprenant (colin@moz-lu9sne.92.electronicbox.net)
[01:27:17] <theme> _td, debug is for writing tests
[01:27:21] <ChrisMorgan> asmodeius: if the type implements Copy, it is copied automatically; if it doesn’t, it should implement Clone and then write x.clone().
[01:27:22] <theme> _td, but not Eq
[01:27:35] <asmodeius> ChrisMorgan: thanks
[01:27:37] *** Joins: coxg (sazzer@moz-1hq.kh5.32.217.IP)
[01:27:53] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[01:27:55] *** Joins: laogao (laogao@moz-m3ssu7.members.linode.com)
[01:29:06] <_td> What I was doing (which is clearly a mistake) was ```assert_eq!(some_value, Box::new(TestStruct) as Box<TestTrait>);```
[01:29:06] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[01:29:12] *** Quits: timwilkensf1 (timwilkensf@moz-lk22vr.sd.cox.net) (Client exited)
[01:29:28] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[01:29:43] <_td> How should I test that a Box<Trait> is a particular implementation of that trait?
[01:30:10] *** Quits: fyolnish (fyolnish@moz-4f9iq2.ocn.ne.jp) (Connection closed)
[01:30:20] *** Quits: Guest74 (textual@moz-lmfinb.fios.verizon.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[01:30:22] *** Joins: danv (danv@moz-0js00c.iinet.net.au)
[01:30:36] *** Joins: fyolnish (fyolnish@moz-4f9iq2.ocn.ne.jp)
[01:30:58] *** Quits: fizzbooze (bp@moz-lt3.k7f.113.208.IP) (Ping timeout: 121 seconds)
[01:30:59] *** Quits: fyolnish (fyolnish@moz-4f9iq2.ocn.ne.jp) (Connection closed)
[01:31:00] *** Joins: fyolnish (fyolnish@moz-4f9iq2.ocn.ne.jp)
[01:31:15] *** Joins: GGist (Mibbit@moz-35qr64.wa.comcast.net)
[01:31:18] <ChrisMorgan> _td: PartialEq<TestTrait> is OK, but PartialEq<Self> is not.
[01:31:49] *** Quits: coxg (sazzer@moz-1hq.kh5.32.217.IP) (Ping timeout: 121 seconds)
[01:32:33] <ChrisMorgan> However, such a cyclic reference is not permitted ☹
[01:32:52] <_td> Yeah that's what I'm discovering as well.
[01:33:30] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[01:33:35] *** Joins: nawns (nawns@moz-m5m0i6.lfytina2.metronetinc.net)
[01:34:14] <dougxxx> _td: https://github.com/shadowmint/rust-traits/blob/master/src/type_.rs#L68 ?
[01:34:15] *** Joins: closures999 (closures999@moz-hbi.gpd.70.118.IP)
[01:34:15] *** Quits: dfinninger (dfinninger@moz-6a9v7n.res.rr.com) (Connection closed)
[01:34:17] <dougxxx> perhaps?
[01:34:45] <dougxxx> OR something like that, returning the TypeId of Self
[01:34:48] *** Joins: jonalmeida (jonalmeida@moz-ruqfvo.home.cgocable.net)
[01:34:56] <dougxxx> (obviously that example wont work straight off, its not a trait)
[01:35:00] *** Quits: laogao (laogao@moz-m3ssu7.members.linode.com) (Ping timeout: 121 seconds)
[01:35:04] *** Joins: yuja (yuja@moz-31d0d7.so-net.ne.jp)
[01:35:11] <GGist> Does anyone here know if it is usually safe to unwrap the result of cloning a UdpSocket or TcpSocket, im trying to understand why Hyper decided to just call unwrap on the clone method within their HttpStream.
[01:35:13] <ChrisMorgan> I’ve done some pretty tricky things along these lines in teepee’s header handling.
[01:35:20] *** Joins: dwrensha (chatzilla@moz-46o4hi.pa.comcast.net)
[01:35:53] *** Quits: gbs (gbs@moz-jsu.e79.82.201.IP) (Ping timeout: 121 seconds)
[01:36:09] *** Joins: kgrandon (Adium@moz-6m3528.ca.comcast.net)
[01:36:21] *** Quits: tinaun (tinaun@moz-7l08ds.ct.comcast.net) (Quit: )
[01:36:29] *** Joins: jonalme__ (jonalmeida@moz-5j8.kvb.131.104.IP)
[01:36:39] *** Quits: jonalmei_ (jonalmeida@moz-5j8.kvb.131.104.IP) (Connection closed)
[01:37:03] *** Joins: csherratt (textual@moz-357qdq.cable.teksavvy.com)
[01:37:06] *** Quits: alhof (dylan@moz-pa8.d0d.43.100.IP) (Ping timeout: 121 seconds)
[01:37:25] *** Quits: dylan_ (dylan@moz-pa8.d0d.43.100.IP) (Ping timeout: 121 seconds)
[01:37:47] *** Quits: adu (ajr@moz-rdrp0r.biz.rr.com) (Client exited)
[01:37:59] *** Quits: jonalme__ (jonalmeida@moz-5j8.kvb.131.104.IP) (Quit: They know where I live... I have to run now!)
[01:38:02] *** Joins: tinaun (tinaun@moz-7l08ds.ct.comcast.net)
[01:38:04] <ChrisMorgan> _td: proof of concept: http://is.gd/SesEwX
[01:38:27] <dougxxx> oh, that's quite nice.
[01:39:07] <ChrisMorgan> It’s not entirely clear to me why the PartialEq<TestTrait> bound doesn’t work where the same thing with the generics manually expanded effectively does.
[01:39:22] <_td> Thanks.
[01:39:33] <panicbit> I optimized my original idea :] http://is.gd/QG2HQ0
[01:39:50] *** Quits: jonalmeida (jonalmeida@moz-ruqfvo.home.cgocable.net) (Ping timeout: 121 seconds)
[01:40:06] *** Quits: crazymykl (mikemac@moz-dkas6j.cable.rcn.com) (Ping timeout: 121 seconds)
[01:40:52] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[01:40:55] <panicbit> Don't know of a quicker way to crash except ICEs
[01:42:33] <dougxxx> anyway, just so I understand, because I go out and change a million things, what is the difference between T:'static and T:Any?
[01:42:46] <dougxxx> ...and when is T ever not Any?
[01:43:59] <dougxxx> (sorry, 'static and not Any)
[01:44:46] <steveklabnik> Any implies 'static but 'static does not imply Any
[01:45:19] <steveklabnik> and if you look at http://doc.rust-lang.org/nightly/std/any/trait.Any.html
[01:45:23] <steveklabnik> impl<T> Any for T where T: Reflect, T: 'static
[01:45:28] *** Joins: joel1 (joel@moz-4v1.4bo.191.67.IP)
[01:45:29] <dougxxx> I'm reading the Reflect docs at the moment, but I have to say I don't appreciate the difference.
[01:45:29] *** Joins: dfinninger (dfinninger@moz-6a9v7n.res.rr.com)
[01:45:33] <steveklabnik> T is only Any if T is Reflect, and if T is 'static
[01:45:39] <dougxxx> 'This trait is implemented for all types.'
[01:45:39] <steveklabnik> Any is a trait used for casting
[01:45:43] <steveklabnik> 'static is a lifetime
[01:45:48] *** Joins: laogao (laogao@moz-m3ssu7.members.linode.com)
[01:45:55] *** Joins: Romster (Romster@moz-4g83e8.rev.eftel.com)
[01:46:00] <dougxxx> Indeed, but is Reflect not implemented on all types?
[01:46:07] <steveklabnik> it should be
[01:46:11] <steveklabnik> but not all types are Any
[01:46:14] <steveklabnik> Any is for dynamic typing
[01:46:30] <steveklabnik> but it can't work for, for example, a struct that has a non-'static reference
[01:46:35] <asmodeius> i have trait A; impl A for B; Box<A>
[01:46:35] <dougxxx> So... what's the difference between T: 'static and T: Any then; where Any is Reflect (on all types) + 'static?
[01:46:43] <_td> How do I actually implement a check to see if two objects are the same type?
[01:46:46] <asmodeius> is there a way to make A Box cloneable?
[01:46:52] *** Joins: dawehner (quassel@moz-6aq1ua.hsi7.kabel-badenwuerttemberg.de)
[01:46:53] <seanmonstar> GGist: it's memory safe, because if it fails, the process will crash
[01:47:05] <asmodeius> should i trait A :Clone?
[01:47:15] *** Quits: iamtyler (Adium@moz-1dtmni.wa.comcast.net) (Quit: Leaving.)
[01:47:39] <dougxxx> Unless Reflect is not implemented on some types? If that is the case I can understand it.
[01:47:45] <seanmonstar> GGist: I simply unwrap because I didn't think through a proper way to bubble up the error. 
[01:48:26] *** Joins: jan247 (Adium@moz-22p.46v.146.49.IP)
[01:48:27] *** Quits: jan247 (Adium@moz-22p.46v.146.49.IP) (Connection closed)
[01:49:24] <_td> Okay, it's TypeId
[01:49:46] <aatch> asmodeius, you can't use `Clone` on trait objects, since Clone isn't object-safe.
[01:50:07] *** Joins: crazymykl (mikemac@moz-dkas6j.cable.rcn.com)
[01:50:44] <aatch> Well, you might be able to use clone, but it requires a bit of wrangling
[01:50:54] *** Quits: dawehner (quassel@moz-6aq1ua.hsi7.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[01:50:57] <asmodeius> hmm
[01:51:08] *** Quits: Altazimuth (Altazimuth@moz-duldq6.skybroadband.com) (Ping timeout: 121 seconds)
[01:51:44] *** Joins: c74d3 (c74d3a4ebb6@moz-b2tjn2.mggc.hibn.4404.2002.IP)
[01:52:21] *** Quits: c74d (c74d3a4ebb6@moz-0ersgu.oc.cox.net) (Ping timeout: 121 seconds)
[01:52:51] *** Quits: laogao (laogao@moz-m3ssu7.members.linode.com) (Ping timeout: 121 seconds)
[01:53:28] <scott> dougxxx: you can opt out of such traits
[01:53:32] <scott> playbot-mini: #![feature(optin_builtin_traits)]  trait Foo: std::marker::MarkerTrait {}  impl Foo for .. {}  impl !Foo for i32 {}  fn f<T: Foo>(_: T) {}  fn main() { f(0_i32) }
[01:53:33] -playbot-mini- output truncated; full output at: http://bit.ly/1DahgHM
[01:53:45] <dougxxx> scott: ah~
[01:54:26] <dougxxx> Kind of nice. I prefer having T: Any to T: 'static.
[01:55:06] * dougxxx aesthetically doesnt like having a lifetime in a type bound.
[01:55:36] *** Joins: Guest5 (textual@moz-hnb58r.oc.cox.net)
[01:55:37] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[01:55:44] *** Joins: fizzbooze (bp@moz-lt3.k7f.113.208.IP)
[01:56:01] *** Joins: paullepoulpe (paullepoulp@moz-5fs.qdm.218.85.IP)
[01:59:12] *** Joins: laogao (laogao@moz-m3ssu7.members.linode.com)
[02:00:34] *** Quits: TheDan64 (TheDan64@moz-3f1.e79.63.129.IP) (Quit: Leaving)
[02:01:07] *** Quits: nawns (nawns@moz-m5m0i6.lfytina2.metronetinc.net) (Client exited)
[02:01:16] *** Joins: adrusi (adrusi@moz-u4m5mp.fios.verizon.net)
[02:01:18] *** adrusi is now known as adrusi_
[02:01:39] <asmodeius> http://pastebin.com/kZaPH9As what do i do wrong?
[02:02:13] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[02:02:15] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Connection closed)
[02:02:42] *** Quits: glendc (glendc@moz-lm5.ch9.159.212.IP) (Ping timeout: 121 seconds)
[02:02:52] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[02:04:31] *** Quits: gingermusketeer (gingermuske@moz-pv0s5c.compute.amazonaws.com) (Connection closed)
[02:04:39] *** Joins: gingermusketeer (gingermuske@moz-8g5q54.compute.amazonaws.com)
[02:06:14] *** Quits: infinigon (x@moz-54e146.range86-142.btcentralplus.com) (Quit: leaving)
[02:06:31] <dougxxx> ? You're trying to assign an instance to a pointer.
[02:06:34] <dougxxx> &train
[02:07:17] *** Quits: laogao (laogao@moz-m3ssu7.members.linode.com) (Ping timeout: 121 seconds)
[02:07:30] *** Joins: glenc (glenc@moz-7ku.qb5.12.185.IP)
[02:07:55] <dougxxx> (Or  MagLevBuilder { _factroy: Box<...>, _train: Trait } instead, which seem to make more sense?)
[02:08:09] <dougxxx> woops. _traint: Train 
[02:08:22] <asmodeius> hmm
[02:08:23] * dougxxx gives up, cant type. :P
[02:08:43] <asmodeius> now i have error 'train' does not live long enough
[02:08:44] <asmodeius> :<
[02:08:54] <dougxxx> With &train?
[02:08:58] <asmodeius> yes
[02:09:26] <dougxxx> Yes; you create the instance of Train in new(), but you return a reference to it (&train) in the struct
[02:09:34] <dougxxx> The instance is allocated on the stack in the function new
[02:09:39] <dougxxx> So after new ends, it no longer exists
[02:10:00] <dougxxx> This is why you should have _train: Train, not _train: &Train
[02:11:02] *** Joins: ok32 (ok32@moz-nc7pn3.broadband.corbina.ru)
[02:11:29] *** Quits: daniel-s (daniel-s@moz-upmq06.monash.edu.au) (A TLS packet with unexpected length was received.)
[02:11:35] *** Joins: dcb_ (textual@moz-j72nfe.ca.comcast.net)
[02:11:45] *** Quits: dcb (textual@moz-j72nfe.ca.comcast.net) (Ping timeout: 121 seconds)
[02:11:45] *** Quits: adrusi_ (adrusi@moz-u4m5mp.fios.verizon.net) (Ping timeout: 121 seconds)
[02:11:45] *** Joins: daniel-s (daniel-s@moz-upmq06.monash.edu.au)
[02:11:53] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[02:11:53] *** ChanServ sets mode: +o erickt
[02:11:55] *** Quits: dcb_ (textual@moz-j72nfe.ca.comcast.net) (Quit: Textual IRC Client: www.textualapp.com)
[02:12:02] *** Quits: cursivecode (textual@moz-4u56i9.res.bhn.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[02:12:17] <asmodeius> so how can i repair it
[02:12:25] <asmodeius> i'm going out of ideas :<
[02:12:34] *** Joins: dcb (textual@moz-j72nfe.ca.comcast.net)
[02:12:38] *** Quits: glenc (glenc@moz-7ku.qb5.12.185.IP) (Ping timeout: 121 seconds)
[02:12:53] *** Quits: zz_kimundi (kimundi@moz-jjo3eb.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[02:13:14] <asmodeius> hmm
[02:13:25] <asmodeius> mayby i should use Rc for what i want
[02:13:31] <asmodeius> maybe*
[02:14:30] *** Joins: cursivecode (textual@moz-4u56i9.res.bhn.net)
[02:14:34] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[02:14:55] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[02:14:59] *** Joins: zz_kimundi (kimundi@moz-9boq3l.dip0.t-ipconnect.de)
[02:15:11] *** Quits: ok32 (ok32@moz-nc7pn3.broadband.corbina.ru) (Ping timeout: 121 seconds)
[02:15:26] *** zz_kimundi is now known as kimundi
[02:15:28] *** Joins: playjax (chatzilla@moz-m2t78f.optusnet.com.au)
[02:15:56] <theme> asmodeius, fn get_result(&'a self) -> &'a Train{
[02:15:58] <theme> I guess
[02:16:28] <theme> fn get_result(&'a self) -> &'a Train;
[02:16:35] *** Quits: cakecatz (cakecatz@moz-hunn6o.sannet.ne.jp) (Quit: My Mac has gone to sleep. ZZZzzz…)
[02:16:38] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[02:16:43] *** Joins: cakecatz (cakecatz@moz-hunn6o.sannet.ne.jp)
[02:16:58] *** Joins: palodequeso (quassel@moz-p991eu.fios.verizon.net)
[02:17:25] *** Joins: rootnode (rootnode@moz-go1ut4.ip1.george24.com)
[02:18:32] <dougxxx> asmodeius: http://is.gd/8eHWOd ?
[02:18:37] *** Quits: fyolnish (fyolnish@moz-4f9iq2.ocn.ne.jp) (Connection closed)
[02:18:43] <dougxxx> I'm not really sure what you're trying to do though.
[02:18:43] *** Joins: popow (Thunderbird@moz-03f.kd0.252.223.IP)
[02:18:57] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[02:19:05] *** Joins: fyolnish (fyolnish@moz-4f9iq2.ocn.ne.jp)
[02:19:27] <asmodeius> im trying to return _train
[02:19:48] <dougxxx> http://is.gd/L4MfP1 <---
[02:20:02] <dougxxx> You can return it
[02:20:11] <cmr> asmodeius: please read the book. you're mired in an object-oriented way of thinking that Rust simply *does not have*, and missing some very core concepts.
[02:20:20] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[02:20:59] *** Joins: dcb_ (textual@moz-j72nfe.ca.comcast.net)
[02:21:06] *** Quits: cakecatz (cakecatz@moz-hunn6o.sannet.ne.jp) (Ping timeout: 121 seconds)
[02:21:17] <asmodeius> cmr: i'll do it first thing in the morning :< but i have to have this thing done now :<
[02:21:26] <asmodeius> dougxxx: thanks a lot :)
[02:21:46] <asmodeius> dougxxx: you're saving my life
[02:21:54] <_td> What's the deal? http://is.gd/kTvUDi
[02:21:57] *** Quits: dcb (textual@moz-j72nfe.ca.comcast.net) (Ping timeout: 121 seconds)
[02:22:03] <dougxxx> Just so you appreciate what's happening here; the *instance* of train is stored in _train, and in get_result you return the address of it (ie. a pointer to it).
[02:22:05] *** Quits: fyolnish (fyolnish@moz-4f9iq2.ocn.ne.jp) (Connection closed)
[02:22:07] *** Joins: fyolnish (fyolnish@moz-4f9iq2.ocn.ne.jp)
[02:22:13] *** Joins: ambimorph (amber@moz-v9oeoi.co.comcast.net)
[02:22:19] <dougxxx> You're not moving it when you call get_result
[02:22:27] <dougxxx> anyway~ back to work...
[02:22:37] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[02:22:43] *** Joins: dcb (textual@moz-j72nfe.ca.comcast.net)
[02:24:11] <_td> ^ It only doesn't work when the tx is a &'a Sender<Box<Trait>>, make it a &'a Sender<u8> and either order works.
[02:24:22] <_td> Does it have to do with boxed traits being 'static?
[02:24:50] <theme> _td, they are 'static by default
[02:24:54] *** Quits: colinsurprenant (colin@moz-lu9sne.92.electronicbox.net) (Client exited)
[02:24:59] <theme> _td, but you can say `Box<Trait + 'a>` if you want
[02:25:04] *** Quits: dcb_ (textual@moz-j72nfe.ca.comcast.net) (Ping timeout: 121 seconds)
[02:25:23] <_td> I don't want to couple the lifetime of the trait objects and the sending channel.
[02:25:29] <theme> _td, wait not
[02:25:39] <_td> Do they have to be coupled?
[02:25:41] <theme> _td, what is Trait
[02:25:46] *** Joins: colinsurprenant (colin@moz-lu9sne.92.electronicbox.net)
[02:26:04] <_td> http://is.gd/kTvUDi
[02:26:05] <theme> _td, you might want to try Box<Trait + Send>
[02:26:20] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[02:26:33] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[02:26:38] <theme> _td, try Box<Trait + 'static>?
[02:26:44] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[02:26:45] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[02:26:53] <theme> _td, I believe that &'a Sender<Box<Trait>> defaults to +'a
[02:27:06] <_td> That does work.
[02:27:16] <enjolras> expected `core::iter::Map<<MapTo as map::Iter>::Iter, fn((&'a V, &'a *mut Label)) -> (&'a V, &'a Label)>`, found `core::iter::Map<<MapTo as map::Iter>::Iter, fn((&'a V, &'a *mut Label)) -> (&'a V, &'a Label) {deref}>`
[02:27:20] <enjolras> (expected fn pointer, found fn item) [E0308]
[02:27:24] <enjolras> any idea about this error ? 
[02:27:28] <enjolras> (sorry for the flood)
[02:27:32] <_td> Does that make the Sender static or just the trait?
[02:27:46] <theme> enjolras, add & or * somewhere
[02:27:50] <theme> _td, just the trait
[02:27:55] <enjolras> theme: nop
[02:27:56] <_td> Great, that's what I want.
[02:28:12] <theme> enjolras, code?
[02:28:32] <theme>  &'a *mut Label and &'a Label do not match
[02:28:36] <enjolras> e.map.iter().map(deref) and fn deref<'a, Label, V>((v, label) : (&'a V, &'a *mut Label)) -> (&'a V, &'a Label)
[02:29:04] <enjolras> theme: exveruthing matches 
[02:29:09] <theme> wait, no
[02:29:16] <blaenk> rust is the best fools
[02:29:22] *** Joins: jan247 (Adium@moz-fkp.p9p.93.119.IP)
[02:29:49] *** Quits: fizzbooze (bp@moz-lt3.k7f.113.208.IP) (Ping timeout: 121 seconds)
[02:30:30] <theme> enjolras, tried .map(|x| deref(x))?
[02:30:57] <ChrisMorgan> theme: Box<Trait> == Box<Trait + 'static>, &'a Trait == &'a (Trait + 'a)
[02:31:03] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[02:31:23] <theme> ChrisMorgan, I know
[02:31:24] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[02:31:28] <theme> I was helping _td
[02:31:29] <enjolras> theme: i'm trying to avoid a closure to get a sized type actually
[02:31:51] <enjolras> anyway, it is dirty, i'll try something else
[02:31:58] <ChrisMorgan> Just clarifying things; so in Box<Trait + 'static> the + 'static is superfluous.
[02:32:01] <theme> enjolras, Box<Iterator<Item=...>>
[02:32:07] <theme> enjolras, if you want to return an iterator
[02:32:15] <_td> Without specifying, &'a Sender<Box<Trait>> causes 'a == 'static, right?
[02:32:18] <enjolras> i don't want to return a Box
[02:32:19] *** Joins: mib_z60ryq (Mibbit@moz-8vua5j.baf.movistar.cl)
[02:32:19] *** Quits: ELD (textual@moz-mqboa7.co.comcast.net) (Quit: Textual IRC Client: www.textualapp.com)
[02:32:22] <theme> _td, nope
[02:32:30] *** Quits: c74d3 (c74d3a4ebb6@moz-b2tjn2.mggc.hibn.4404.2002.IP) (Connection closed)
[02:32:35] <theme> _td, that causes &'a Sender<Box<Trait + 'a>> by defaut
[02:32:37] <theme> default
[02:32:46] <theme> enjolras, you have to :/
[02:32:56] *** Joins: c74d (c74d3a4ebb6@moz-b2tjn2.mggc.hibn.4404.2002.IP)
[02:33:26] <enjolras> nop, not if i use a function :)
[02:33:30] <_td> So it was some other inference that the boxed trait had to be static that was causing the compiler to say that everything with 'a had to be 'static?
[02:33:33] <enjolras> it used to work actually
[02:33:42] *** Joins: fizzbooze (bp@moz-lt3.k7f.113.208.IP)
[02:34:00] <enjolras> the other solution is to implement Fn on a custom struct
[02:34:06] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[02:34:13] <enjolras> which is ugly too, but you don't *have* to use a box
[02:34:20] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[02:35:42] *** Quits: Rym (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[02:35:57] *** Quits: colinsurprenant (colin@moz-lu9sne.92.electronicbox.net) (Client exited)
[02:36:33] *** Quits: kgrandon (Adium@moz-6m3528.ca.comcast.net) (Quit: Leaving.)
[02:37:23] *** Joins: colinsurprenant (colin@moz-lu9sne.92.electronicbox.net)
[02:38:50] *** Quits: jan247 (Adium@moz-fkp.p9p.93.119.IP) (Quit: Leaving.)
[02:40:42] *** Joins: kgrandon (Adium@moz-6m3528.ca.comcast.net)
[02:40:57] *** Joins: blaenk_ (blaenkdenum@moz-em283u.res.rr.com)
[02:41:05] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Ping timeout: 121 seconds)
[02:44:46] *** Quits: Nextra (Nextra@moz-hg5p2o.osnanet.de) (Quit: Leaving)
[02:46:12] *** Quits: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[02:46:27] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[02:46:58] *** Joins: adrusi (adrusi@moz-u4m5mp.fios.verizon.net)
[02:47:00] *** adrusi is now known as adrusi_
[02:48:10] *** Joins: reem (reem@moz-vqnf7c.coob.q2h1.0009.2601.IP)
[02:48:46] *** Joins: brianloveswords (brianlovesw@moz-mve27s.fios.verizon.net)
[02:49:05] *** Joins: copumpkin (copumpkin@moz-regr09.dyn.optonline.net)
[02:49:07] *** Joins: Rym (y@moz-vsu.f6d.55.31.IP)
[02:49:45] *** Quits: fizzbooze (bp@moz-lt3.k7f.113.208.IP) (Ping timeout: 121 seconds)
[02:50:35] *** Quits: fyolnish (fyolnish@moz-4f9iq2.ocn.ne.jp) (Quit: Bye)
[02:51:39] *** Quits: flyfische (flyfische@moz-p5p8ug.sth3.ptd.net) (Ping timeout: 121 seconds)
[02:51:56] *** Quits: paullepoulpe (paullepoulp@moz-5fs.qdm.218.85.IP) (Connection closed)
[02:51:56] *** Quits: adrusi_ (adrusi@moz-u4m5mp.fios.verizon.net) (Ping timeout: 121 seconds)
[02:52:04] *** Quits: mib_z60ryq (Mibbit@moz-8vua5j.baf.movistar.cl) (Quit: http://www.mibbit.com ajax IRC Client)
[02:52:12] *** Joins: aaronm04 (u@moz-mjj.7uc.236.104.IP)
[02:52:50] *** Joins: adrusi (adrusi@moz-u4m5mp.fios.verizon.net)
[02:52:52] *** adrusi is now known as adrusi_
[02:54:34] *** Quits: reem (reem@moz-vqnf7c.coob.q2h1.0009.2601.IP) (Connection closed)
[02:57:15] *** Quits: joel1 (joel@moz-4v1.4bo.191.67.IP) (Ping timeout: 121 seconds)
[02:57:50] *** Quits: kgrandon (Adium@moz-6m3528.ca.comcast.net) (Quit: Leaving.)
[02:58:15] *** Quits: brson (brson@moz-cfhap5.mtv2.mozilla.com) (Quit: leaving)
[02:58:35] *** Quits: dwrensha (chatzilla@moz-46o4hi.pa.comcast.net) (Ping timeout: 121 seconds)
[02:59:22] *** Quits: tamird (textual@moz-5v5pe2.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[02:59:27] *** Quits: rootnode (rootnode@moz-go1ut4.ip1.george24.com) (Ping timeout: 121 seconds)
[03:01:38] *** Joins: Wild_Cat (Max@moz-f1ofqf.cpe.teksavvy.com)
[03:02:18] *** Joins: c74d3 (c74d3a4ebb6@moz-0ersgu.oc.cox.net)
[03:02:23] *** Quits: c74d (c74d3a4ebb6@moz-b2tjn2.mggc.hibn.4404.2002.IP) (Ping timeout: 121 seconds)
[03:02:42] <WindowsBunny> I have a question regarding trivial casts
[03:02:51] <WindowsBunny> src\node.rs:170:9: 170:33 warning: trivial cast: `&'a node::Data` as `*const node::Data`, #[warn(trivial_casts)] on by default
[03:02:52] <WindowsBunny> src\node.rs:170         self.data as *const Data == other.data as *const Data
[03:03:06] <WindowsBunny> How do I change that code to get the warning to shut up?
[03:03:53] <cmr> WindowsBunny: I believe that warning wants you to use type ascription, ie, self.data : *const Data == other.data : *const Data
[03:04:03] *** Quits: colinsurprenant (colin@moz-lu9sne.92.electronicbox.net) (Client exited)
[03:04:09] <WindowsBunny> cmr: Oh good, it wants me to use a feature that isn't implemented yet
[03:05:31] *** Joins: colinsurprenant (colin@moz-lu9sne.92.electronicbox.net)
[03:05:37] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[03:05:58] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[03:06:07] *** Joins: kgrandon (Adium@moz-6m3528.ca.comcast.net)
[03:06:11] *** Quits: kgrandon (Adium@moz-6m3528.ca.comcast.net) (Connection closed)
[03:06:38] *** Quits: sugaku (sugaku@moz-24j.5gi.12.128.IP) (Connection closed)
[03:07:42] <WindowsBunny> Is there a replacement for MemoryMap that isn't deprecated?
[03:07:45] <WindowsBunny> Maybe on crates.io?
[03:08:10] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[03:08:16] *** Joins: glenc (glenc@moz-7ku.qb5.12.185.IP)
[03:08:44] *** Joins: summerlight (summerlight@moz-99k.2mj.130.121.IP)
[03:10:00] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[03:10:52] *** Quits: jminer (Instantbird@moz-b1u.qch.163.66.IP) (Ping timeout: 121 seconds)
[03:12:51] *** Joins: jminer (Instantbird@moz-b1u.qch.163.66.IP)
[03:13:23] *** Quits: glenc (glenc@moz-7ku.qb5.12.185.IP) (Ping timeout: 121 seconds)
[03:16:25] *** Joins: coxg (sazzer@moz-1hq.kh5.32.217.IP)
[03:16:33] *** Joins: Guest39 (textual@moz-s2c.v8q.47.99.IP)
[03:16:40] *** darkowlzz|afk is now known as darkowlzz
[03:17:06] <frewsxcv> what trait on Vec/slice allows me to do: for i in &my_vec { ... }
[03:17:30] <Mutabah> frewsxcv: IntoIter on &[T}
[03:17:53] <frewsxcv> Mutabah: that consumes self though. i.e. it's not &self
[03:18:06] <talchas> it's implemented on &[T] as well
[03:18:12] <talchas> which thus just consumes the pointer
[03:18:16] <frewsxcv> ah, true
[03:18:21] *** Quits: idegen (greg@moz-9c4nle.or.frontiernet.net) (Ping timeout: 121 seconds)
[03:18:36] *** Quits: colinsurprenant (colin@moz-lu9sne.92.electronicbox.net) (Client exited)
[03:18:46] <Mutabah> frewsxcv: It's on &[T], which consumes the slice... not the underlying object
[03:18:59] <Mutabah> frewsxcv: and since &-ptrs are Copy, that consume is just a copy
[03:19:59] *** Joins: snoj (Mibbit@moz-6rl.m3o.122.121.IP)
[03:20:37] *** Quits: coxg (sazzer@moz-1hq.kh5.32.217.IP) (Ping timeout: 121 seconds)
[03:21:41] *** Quits: theme (theme@moz-i3mhhb.asianet.co.th) (Ping timeout: 121 seconds)
[03:23:19] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[03:24:27] *** Joins: iamtyler (Adium@moz-1dtmni.wa.comcast.net)
[03:24:28] *** Quits: jiojiajiu (jiojiajiu@moz-trc2j7.asianet.co.th) (Ping timeout: 121 seconds)
[03:24:45] *** Joins: jiojiajiu (jiojiajiu@moz-trc2j7.asianet.co.th)
[03:25:40] *** Quits: dfinninger (dfinninger@moz-6a9v7n.res.rr.com) (Connection closed)
[03:25:47] *** Quits: sprang (sprang@moz-d0kmvi.12d9.sm5v.0009.2601.IP) (Ping timeout: 121 seconds)
[03:26:17] *** Joins: m_kato (m_kato@moz-86b4bs.bitcat.net)
[03:27:15] * frewsxcv opens a PR for that https://github.com/rust-lang/rust/issues/23851
[03:27:27] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[03:27:28] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[03:30:26] *** Joins: adrusi (adrusi@moz-u4m5mp.fios.verizon.net)
[03:30:32] *** Quits: adrusi_ (adrusi@moz-u4m5mp.fios.verizon.net) (Client exited)
[03:31:48] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Ping timeout: 121 seconds)
[03:32:38] <_td> How can I make the lifetimes work here: http://is.gd/Hyo8rK
[03:33:41] *** Quits: kmcguire (kmcguire@moz-uqq.d7l.207.68.IP) (Ping timeout: 121 seconds)
[03:34:03] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[03:35:03] <scott> _td: you're returning a .chars() for a String you created inside the functions (so essentially you're returning a reference to a local)
[03:35:09] <scott> maybe just return that String?
[03:35:57] <_td> Right but since the local is being built from parts with the outer lifetime, isn't there a way to declare the lifetime of that local. 
[03:36:16] *** Joins: cryptojuice (cryptojuice@moz-uvr5ad.res.rr.com)
[03:36:33] <scott> it's totally irrelevant what a String was built from when it comes to lifetimes
[03:36:53] <scott> it's owned and will be destroyed when the function returns, unless the String is returned (and thus moved out)
[03:37:07] <_td> My actual situation which I'm trying to build toward is more complicated. I have a struct with members that are a Chars<'a> and a &'a mut Vec<String> and I want to 'prepend' the Strings in the Vec to the Chars iterator.
[03:38:00] <scott> maybe something involving .chain
[03:38:19] *** Quits: orangeshark (erik@moz-ejtbsq.44tj.56ot.0306.2602.IP) (Quit: Leaving)
[03:38:28] <scott> I'm not very experienced with iterators
[03:38:37] <_td> Making the accumulator a chars which chains had the same problem, but maybe there's a way to declare the lifetime there.
[03:40:16] <scott> .drain is likely a problem, since that moves the Strings out of the &mut Vec<String>
[03:40:18] *** Quits: cryptojuice (cryptojuice@moz-uvr5ad.res.rr.com) (Ping timeout: 121 seconds)
[03:40:18] *** Joins: theme (theme@moz-i3mhhb.asianet.co.th)
[03:40:54] *** Quits: brianloveswords (brianlovesw@moz-mve27s.fios.verizon.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[03:41:15] <_td> http://is.gd/1lfiBy <- I get a type error unless I add to the fold function .collect::<String>().chars(), which brings back the lifetime issue.
[03:41:16] <reem> just use .iter_mut() or .iter() even instead of .drain()
[03:41:33] *** Quits: polyfractal (polyfractal@moz-roi.c9b.43.69.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[03:41:42] *** Quits: Gamecubic (cubic@moz-qfrl13.mc.videotron.ca) (Quit: Leaving)
[03:41:50] <talchas> http://is.gd/2JWKau works nicely
[03:42:08] <talchas> you'd like to get rid of the Box, but naming the flat_map iterator is somewhat problematic
[03:42:21] <talchas> (wtb -> impl Iterator)
[03:42:39] <_td> Thanks, that looks like what I need.
[03:42:48] <scott> you can change the &mut Vec<String> to &Vec<String> in that case, too
[03:43:20] <scott> (well, &'a Vec<String>)
[03:43:28] <dougxxx> _td: conceptually though, Char's points to a slice internally; you can create a new Chars iterator, but it'll have to point to a concrete string at some point.
[03:44:28] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[03:44:32] <talchas> yeah, flat_map's iterator is in fact exactly what you want, but there are issues about naming closures
[03:44:45] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[03:45:01] <_td> I also need the Vec<String> emptied as part of the sequence of events was why I used drain, but I'll handle that another way.
[03:45:02] <talchas> and while you don't actually /care/ what type the return value is, besides Iterator<Item=char>+'a, you need to name it
[03:45:06] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[03:45:46] <talchas> now, if you're actually going to immediately collect these into a string, it's probably faster to do so directly
[03:46:15] *** Joins: laogao (laogao@moz-m3ssu7.members.linode.com)
[03:46:24] <talchas> because String isn't [char], it's [u8], and this code is doing UTF-8 <-> UTF-32 encode/decode unnecessarily
[03:46:47] <_td> I'm not collecting it back as you can probably guess, I'm parsing tokens out of the Chars iterator.
[03:47:09] <_td> Sometimes malformed data would need to backtrack, that's what this is supposed to be for.
[03:47:58] <_td> The Vec<String> is an intermediate step in the parsing.
[03:47:59] <scott> oh, in fact the argument can be &'a [String]: http://is.gd/w8UXik
[03:48:00] *** Quits: freefall (ff@moz-72p.nhl.10.176.IP) (Ping timeout: 121 seconds)
[03:48:20] *** Joins: khades (Thunderbird@moz-08k.3vk.74.212.IP)
[03:48:46] *** Quits: snoj (Mibbit@moz-6rl.m3o.122.121.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[03:49:08] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[03:49:48] <talchas> yeah, that's reasonable then
[03:50:10] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[03:50:48] *** Quits: Wild_Cat (Max@moz-f1ofqf.cpe.teksavvy.com) (Ping timeout: 121 seconds)
[03:50:52] <reem> Here's (imo) the best way to do it: http://is.gd/eW3wkM
[03:50:55] <talchas> (I suppose it might be faster to do string.starts_with("x") instead, but only bother if it actually turns out to matter)
[03:51:02] <reem> most general
[03:51:26] *** Joins: brainproxy (michael@moz-9vjtig.mo.charter.com)
[03:51:31] <talchas> yeah, using an fn lets you name it and toss the unnecessary Box
[03:51:45] *** Joins: freefall (ff@moz-i4n.nhl.10.176.IP)
[03:51:46] <reem> still virtual dispatch but the type is much less cumbersome
[03:51:50] *** Joins: dfinninger (dfinninger@moz-6a9v7n.res.rr.com)
[03:52:06] <reem> honestly it's easier to not write this function
[03:52:17] <reem> and just do .flat_map(|s| s.chars()) when you need it
[03:52:24] *** Quits: SpaceWizard (RJones@moz-fmqc9c.res.rr.com) (Quit: leaving)
[03:52:40] <reem> that'll even be *faster*
[03:53:15] <_td> In my actual use case I also need to empty the Vec<String> and chain this with another Chars iterator.
[03:53:25] *** Joins: colinsurprenant (colin@moz-lu9sne.92.electronicbox.net)
[03:53:58] *** Quits: colinsurprenant (colin@moz-lu9sne.92.electronicbox.net) (Client exited)
[03:54:05] <reem> oh.. so you *do* want to consume the Vec?
[03:54:24] <_td> Yes.
[03:55:22] *** Quits: DroidLogician (Austin@moz-9lhp5e.ca.charter.com) (Quit: Leaving)
[03:56:36] <reem> You can't really do it without keeping the original strings around
[03:57:10] <reem> not with the tools in std at least
[03:57:17] <reem> you need to write a consuming version of Chars
[03:57:25] <_td> The problem is that Chars doesn't own its underlying String.
[03:57:28] <_td> Right?
[03:57:45] <reem> then you can just .into_iter().flat_map(|s| s.into_chars()) and be done wiht it
[03:57:48] <reem> yes
[03:57:51] *** Quits: chc4 (chc4@moz-pdo0at.ma.comcast.net) (Quit: AHHHHH BEES)
[03:58:59] *** Joins: adu (ajr@moz-rdrp0r.biz.rr.com)
[03:59:03] *** Quits: adu (ajr@moz-rdrp0r.biz.rr.com) (Client exited)
[03:59:08] <_td> Couldn't I cast the strings to Vec<char>s and run into_iter() on those?
[03:59:14] <reem> No
[03:59:19] <reem> The Strings are encoded as Vec<char>
[03:59:20] <reem> sorry
[03:59:22] <reem> Vec<u8>
[03:59:23] <talchas> yeah, I was about to mention what you can actually do
[03:59:33] <talchas> which is that, and then into_iter and match on utf-8!
[03:59:41] <talchas> (as mostly-joking)
[03:59:52] <reem> you just need a consuming version of Chars
[04:00:20] *** Quits: laogao (laogao@moz-m3ssu7.members.linode.com) (Ping timeout: 121 seconds)
[04:00:44] *** Quits: isaacd (quassel@moz-64e7pa.east.verizon.net) (A TLS packet with unexpected length was received.)
[04:00:53] *** Quits: daniel-s (daniel-s@moz-upmq06.monash.edu.au) (A TLS packet with unexpected length was received.)
[04:01:09] *** Joins: daniel-s (daniel-s@moz-upmq06.monash.edu.au)
[04:02:06] *** Joins: jonsaw (jonsaw@moz-6rl.m3o.122.121.IP)
[04:03:06] *** Joins: adu (ajr@moz-rdrp0r.biz.rr.com)
[04:04:31] *** Joins: bombless (_@moz-pl92mj.0v2u.0v40.0da8.2001.IP)
[04:05:27] *** Joins: ucarion (ulyssecario@moz-7b29q5.ResHall.Berkeley.EDU)
[04:06:04] *** Joins: laogao (laogao@moz-m3ssu7.members.linode.com)
[04:06:52] <ucarion> Does html5ever and other servo projects try to compile on rust nightly?
[04:06:52] *** Quits: csherratt (textual@moz-357qdq.cable.teksavvy.com) (Connection closed)
[04:07:31] <bombless> Hmmm, there's version info on the right-bottom corner of https://doc.rust-lang.org/ so I think other pages like https://doc.rust-lang.org/std/ should also have one.
[04:08:36] <ucarion> html5ever doesn't compile right now because of an issue in servo/string-cache
[04:09:02] *** Joins: glenc (glenc@moz-7ku.qb5.12.185.IP)
[04:09:09] *** Quits: fmtq (fmtq@moz-d08itp.tpgi.com.au) (Ping timeout: 121 seconds)
[04:10:40] *** Quits: bazz (bazz@moz-3348s5.h2it.jh9g.9a00.2604.IP) (Ping timeout: 121 seconds)
[04:11:51] *** Quits: paul_ (paul@moz-fg228m.dsl.bell.ca) (Quit: Leaving)
[04:12:07] *** Joins: timwilkensf1 (timwilkensf@moz-lk22vr.sd.cox.net)
[04:12:07] <cmr> ucarion: no, they don't.
[04:12:15] <cmr> ucarion: they use a fixed snapshot.
[04:12:18] *** Joins: srh (User@moz-ov4.5f3.242.50.IP)
[04:12:33] *** Parts: jonsaw (jonsaw@moz-6rl.m3o.122.121.IP) ()
[04:13:02] *** Joins: snoj (jonsaw@moz-6rl.m3o.122.121.IP)
[04:13:25] <ucarion> cmr: How do I find out what version of rustc I should be using?
[04:13:52] <ucarion> Also, should I be using multirust? Is it reliable?
[04:13:59] *** Quits: Mouq (amoquin@moz-ac6j1t.pa.comcast.net) (Quit: leaving)
[04:14:09] *** Quits: glenc (glenc@moz-7ku.qb5.12.185.IP) (Ping timeout: 121 seconds)
[04:14:29] <theme> ucarion, currently, use nightly version
[04:14:31] <cmr> ucarion: servo's build system checks out its own rustc, https://github.com/servo/servo/blob/master/rust-snapshot-hash
[04:14:36] <theme> ucarion, I dunno about multirust
[04:14:44] <cmr> ucarion: I use multirust, it's great :)
[04:14:59] *** Joins: bletch (Mibbit@moz-7g0bmj.ca.comcast.net)
[04:15:18] <ucarion> cmr: I'm not building servo itself -- I'm trying to build html5ever, which happens to have a bunch dependencies that are hosted under the "servo" GitHub organization.
[04:15:31] <ucarion> Maybe I didn't word my question very well.
[04:16:55] *** Quits: dcb (textual@moz-j72nfe.ca.comcast.net) (Quit: Textual IRC Client: www.textualapp.com)
[04:18:29] *** Quits: oneeman (oneeman____@moz-bp1.ape.176.186.IP) (Quit: Leaving)
[04:20:27] *** Quits: palodequeso (quassel@moz-p991eu.fios.verizon.net) (Ping timeout: 121 seconds)
[04:22:51] *** Quits: thesnowdog (doug@moz-fpd.03a.181.180.IP) (Connection closed)
[04:22:59] *** Quits: dfinninger (dfinninger@moz-6a9v7n.res.rr.com) (Connection closed)
[04:23:31] *** Joins: fizzbooze (bp@moz-03sr6q.cable.rogers.com)
[04:24:07] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[04:24:18] *** Quits: snoj (jonsaw@moz-6rl.m3o.122.121.IP) (Client exited)
[04:24:37] *** Joins: lenstr (lenstr@moz-gkn.vju.25.171.IP)
[04:26:49] *** Joins: kazimuth (james@moz-239.lqe.111.18.IP)
[04:27:06] *** Quits: laogao (laogao@moz-m3ssu7.members.linode.com) (Ping timeout: 121 seconds)
[04:27:18] <bombless> "Made with rustdoc. Generated: x86_64-pc-windows-gnu, 2015-03-30" How about adding this to every page of the doc.
[04:27:35] *** Joins: sugaku (sugaku@moz-24j.5gi.12.128.IP)
[04:28:15] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[04:28:49] *** Quits: lenstr (lenstr@moz-gkn.vju.25.171.IP) (Ping timeout: 121 seconds)
[04:28:54] *** Quits: adrusi (adrusi@moz-u4m5mp.fios.verizon.net) (Ping timeout: 121 seconds)
[04:29:46] *** Joins: adrusi (adrusi@moz-u4m5mp.fios.verizon.net)
[04:30:30] *** Joins: laogao (laogao@moz-m3ssu7.members.linode.com)
[04:30:40] *** Joins: forgottenone (forgottenon@moz-002.g2v.45.92.IP)
[04:30:51] *** Quits: kazimuth (james@moz-239.lqe.111.18.IP) (Ping timeout: 121 seconds)
[04:31:12] *** Quits: DerisiveLogic (smuxi@moz-frd.7ki.56.172.IP) (Ping timeout: 121 seconds)
[04:31:16] <ucarion> Those of you using multirust: How do I use a particular nightly?
[04:31:22] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[04:32:26] <ucarion> When I try, I get an error when downloading the checksum: https://gist.github.com/ucarion/df6d139f258f8ae7e53e
[04:32:40] *** Joins: marsel (user@moz-j4m.c8s.180.94.IP)
[04:33:49] *** Quits: sugaku (sugaku@moz-24j.5gi.12.128.IP) (Connection closed)
[04:33:52] *** Joins: DerisiveLogic (smuxi@moz-g93io6.res.rr.com)
[04:34:01] *** Joins: dylan_ (dylan@moz-pa8.d0d.43.100.IP)
[04:34:01] *** Joins: alhof (dylan@moz-pa8.d0d.43.100.IP)
[04:34:34] *** Joins: sugaku (sugaku@moz-24j.5gi.12.128.IP)
[04:34:43] *** Quits: meh (meh@moz-649fdd.42-151.net24.it) (Ping timeout: 121 seconds)
[04:34:47] *** Joins: snoj (jonsaw@moz-6rl.m3o.122.121.IP)
[04:35:45] *** Joins: dawehner (quassel@moz-6aq1ua.hsi7.kabel-badenwuerttemberg.de)
[04:36:59] *** Quits: srh (User@moz-ov4.5f3.242.50.IP) (Quit: Leaving)
[04:38:00] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Client exited)
[04:38:14] *** Joins: waieez (Mibbit@moz-gmgfu1.cicril.sbcglobal.net)
[04:38:25] *** Joins: johnnyg (Mibbit@moz-a1cspc.ca.charter.com)
[04:39:09] *** Quits: alhof (dylan@moz-pa8.d0d.43.100.IP) (Ping timeout: 121 seconds)
[04:39:14] *** Quits: dylan_ (dylan@moz-pa8.d0d.43.100.IP) (Ping timeout: 121 seconds)
[04:39:33] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[04:39:35] *** Quits: sugaku (sugaku@moz-24j.5gi.12.128.IP) (Ping timeout: 121 seconds)
[04:40:08] *** Quits: ucarion (ulyssecario@moz-7b29q5.ResHall.Berkeley.EDU) (Quit: WeeChat 1.0.1)
[04:40:20] *** Quits: dawehner (quassel@moz-6aq1ua.hsi7.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[04:41:59] *** Quits: johnnyg (Mibbit@moz-a1cspc.ca.charter.com) (Quit: http://www.mibbit.com ajax IRC Client)
[04:42:43] *** Quits: adrusi (adrusi@moz-u4m5mp.fios.verizon.net) (Ping timeout: 121 seconds)
[04:43:07] *** Quits: Rym (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[04:43:16] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[04:43:53] *** Quits: nil (nil@moz-fouhuu.p5sj.b1d9.0003.2601.IP) (Quit: Leaving)
[04:44:32] *** Joins: zcourts (zcourts@moz-7ms809.cable.virginm.net)
[04:44:46] *** Joins: Rym (y@moz-vsu.f6d.55.31.IP)
[04:45:49] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[04:46:28] *** Quits: waieez (Mibbit@moz-gmgfu1.cicril.sbcglobal.net) (Quit: http://www.mibbit.com ajax IRC Client)
[04:46:41] <joneshf-laptop> how can i make a subarray?
[04:47:12] <joneshf-laptop> like if i want: [i32: 10] -> [i32: 5]
[04:47:23] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[04:47:23] <joneshf-laptop> erm
[04:47:26] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Ping timeout: 121 seconds)
[04:47:32] <joneshf-laptop> [i32; 10] -> [i32; 5]
[04:47:39] <WindowsBunny> joneshf-laptop: not safely
[04:48:24] *** Joins: Shackra (Jorge@moz-7bh.ng6.177.186.IP)
[04:48:26] <GGist> Yeah you could collect the sub array into a Vec but you cant split a static array arbitrarily.
[04:48:37] <joneshf-laptop> i dont want to split it
[04:48:43] <joneshf-laptop> I just want a new one
[04:48:57] <joneshf-laptop> is there a function for that
[04:49:03] <joneshf-laptop> or do i have to roll my own?
[04:50:05] <XMPPwocky> fixed size arrays have a *lot* of pain points
[04:50:26] <theme> joneshf-laptop, why do you want fixed sized arrays?
[04:50:30] *** Quits: timwilkensf1 (timwilkensf@moz-lk22vr.sd.cox.net) (Client exited)
[04:51:03] <joneshf-laptop> theme, I want to make static guarantees.
[04:51:11] <theme> joneshf-laptop, why?
[04:51:20] <theme> joneshf-laptop, what kind of program are you writing?
[04:51:20] <joneshf-laptop> theme, because I don't like bugs
[04:51:35] *** Quits: laogao (laogao@moz-m3ssu7.members.linode.com) (Ping timeout: 121 seconds)
[04:51:42] *** Joins: nawns (nawns@moz-m5m0i6.lfytina2.metronetinc.net)
[04:51:52] <theme> a protocol that takes at most 10 numbers?
[04:52:05] <theme> I hope not
[04:52:54] *** Joins: dfinninger (dfinninger@moz-6a9v7n.res.rr.com)
[04:53:04] <joneshf-laptop> theme, sorry, i'm not familiar with `protocol`
[04:53:13] <theme> joneshf-laptop, then... ignore that
[04:53:19] <theme> joneshf-laptop, what kind of program are you writing?
[04:53:26] <theme> joneshf-laptop, a toy program?
[04:53:52] <Kingsquee> so uh, how am I supposed to do an overflowing add now
[04:53:59] <XMPPwocky> it's pretty clear that was just an example, theme
[04:54:00] *** Quits: zcourts (zcourts@moz-7ms809.cable.virginm.net) (Client exited)
[04:54:09] <joneshf-laptop> game things, like say a tic-tac-toe game. You can statically know thre are 9 squares or so
[04:54:10] <GGist> joneshf-laptop: Here are a few options http://is.gd/EmPf7u
[04:54:12] <XMPPwocky> Kingsquee: http://doc.rust-lang.org/std/num/wrapping/trait.OverflowingOps.html
[04:54:27] <XMPPwocky> Kingsquee: and http://doc.rust-lang.org/std/num/wrapping/struct.Wrapping.html if you want to do a lot of them
[04:54:29] <joneshf-laptop> theme, or say chess with 64 squares
[04:54:38] *** Joins: laogao (laogao@moz-m3ssu7.members.linode.com)
[04:54:54] <joneshf-laptop> theme, and i want to get  view into those for different representations
[04:54:57] <theme> joneshf-laptop, ok
[04:55:01] *** Quits: blaenk_ (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[04:55:09] *** Quits: O01eg (o01eg@moz-l3fsb1.7jes.4n8f.2698.2a02.IP) (Client exited)
[04:55:10] <joneshf-laptop> GGist, thanks
[04:55:11] <theme> joneshf-laptop, you want to get [i32; 10] -> [i32; 5]?
[04:55:16] *** Quits: marsel (user@moz-j4m.c8s.180.94.IP) (Ping timeout: 121 seconds)
[04:55:21] <theme> joneshf-laptop, do you want to copy?
[04:55:27] *** Joins: negge_ (nathan@moz-p79l68.fios.verizon.net)
[04:55:31] <theme> I mean, O(n) copy
[04:55:56] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[04:56:01] <theme> joneshf-laptop, I suggest that you might actually want to turn [i32; 10] -> &[i32]
[04:56:23] *** darkowlzz is now known as darkowlzz|afk
[04:56:23] <Kingsquee> XMPPwocky: so.. muhu8.overflowing_sub(1);, for example?
[04:56:29] <theme> joneshf-laptop, btw GGist's code is not "fool-proof" with static guarantees
[04:57:04] <joneshf-laptop> theme, can i then some something: `&[i32] -> [i32; 5]` say?
[04:57:06] <Kingsquee> ech, I'll just use an if
[04:57:08] <XMPPwocky> Kingsquee: yeah. or wrap it in that Wrapper struct
[04:57:13] <joneshf-laptop> s/some/use/
[04:57:17] <XMPPwocky> Kingsquee: then you can use + or - or watever
[04:57:35] <theme> joneshf-laptop, are you sure you want that
[04:57:54] *** Joins: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net)
[04:58:03] <theme> joneshf-laptop, that is pretty inefficient if you want to use, say, [i32; 64]
[04:58:07] *** Quits: ChrisMorgan (ChrisMorgan@moz-g6osuq.tpgi.com.au) (Ping timeout: 121 seconds)
[04:58:21] <joneshf-laptop> theme, I'm not really concerned about effciency at the moment
[04:58:26] *** Quits: negge (nathan@moz-p79l68.fios.verizon.net) (Ping timeout: 121 seconds)
[04:58:31] <theme> joneshf-laptop, but any way, you gotta do it manually
[04:58:34] <joneshf-laptop> theme, the rest of the algorithm is like O(n^3) or so
[04:58:39] <theme> *_*
[04:58:46] <joneshf-laptop> theme, alright
[04:58:49] <joneshf-laptop> theme, thanks
[04:59:45] *** Quits: laogao (laogao@moz-m3ssu7.members.linode.com) (Ping timeout: 121 seconds)
[05:00:32] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[05:00:37] *** Joins: hoony (Thunderbird@moz-olm.1t8.70.110.IP)
[05:01:10] <theme> Does rust allocate memory in chunks of 2^20 bytes or something?
[05:01:22] <theme> I'm seeing some weird results in valgrind's massif
[05:01:28] *** Quits: tinaun (tinaun@moz-7l08ds.ct.comcast.net) (Connection closed)
[05:02:06] <theme> and does anybody have any idea why clone() might call start_thread()?
[05:02:30] <Mutabah> theme: Depends on what's being cloned
[05:02:49] <theme> Mutabah, erm... such as?
[05:03:14] <theme> btw I'm tracking down some memory usage problems in my code
[05:03:38] <carllerche> theme: you could set a break point on start_thread and see? :)
[05:03:39] <theme> I expect that the biggest allocation should be something like 64MB (it's a huge custom hash table)
[05:03:52] <theme> but my program is using something like 80MB
[05:03:58] <enjolras> theme: a chunk of 2^20 bytes ? sounds huge. I think it's handle by mmap 
[05:03:59] *** Joins: tinaun (tinaun@moz-7l08ds.ct.comcast.net)
[05:04:20] <enjolras> so the exact size rounded up at the page size
[05:05:16] *** Joins: coxg (sazzer@moz-1hq.kh5.32.217.IP)
[05:05:20] <theme> carllerche, do I need to use the debug build?
[05:06:01] <theme> btw that 64MB allocation is done in a Vec
[05:06:10] <enjolras> i don't know the internal of jemmaloc very well, i doubt there are 64MB arenas
[05:06:12] <enjolras> oh
[05:06:55] <theme> enjolras, oh what?
[05:07:01] <carllerche> theme: i would assume that vec grows in powers of 2 or something
[05:07:18] *** Quits: nawns (nawns@moz-m5m0i6.lfytina2.metronetinc.net) (Client exited)
[05:07:20] *** Quits: dfinninger (dfinninger@moz-6a9v7n.res.rr.com) (Connection closed)
[05:07:27] <huon> jemalloc used to have chunks of size 4MB (I think they're now more like 256KB)
[05:07:42] <carllerche> theme: you would probably need to build rustc w/ debug symbols to be able to break in the stdlib
[05:07:44] <theme> btw, for some reason massif reports total(B) to be always about 1 million
[05:07:54] <theme> carllerche, erm... then nope
[05:08:22] *** Joins: ascarter (ascarter@moz-i0dnmd.wa.comcast.net)
[05:08:25] <theme> I am expecting at least one call with size 64MB+
[05:08:29] <theme> but I see none
[05:08:39] *** Joins: ai (ai@moz-pqofrl.sunline.net.ua)
[05:09:17] <enjolras> theme: if you know it's a vec, it makes sense, because of what carllerche said
[05:09:28] *** Quits: coxg (sazzer@moz-1hq.kh5.32.217.IP) (Ping timeout: 121 seconds)
[05:09:34] <enjolras> theme: maybe it's not done yet
[05:09:48] *** Joins: glenc (glenc@moz-7ku.qb5.12.185.IP)
[05:09:58] *** Joins: fyolnish (fyolnish@moz-4f9iq2.ocn.ne.jp)
[05:11:40] *** Parts: fyolnish (fyolnish@moz-4f9iq2.ocn.ne.jp) ("Bye")
[05:12:42] <theme> Heh... turns out I'm looking at the wrong function
[05:13:02] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[05:13:25] *** Joins: laogao (laogao@moz-m3ssu7.members.linode.com)
[05:13:30] <theme> start_thread() ended up calling a few functions, ending up at vec::from_elem() -_-
[05:14:23] *** Joins: swgillespie (swgillespie@moz-liu.7tn.134.198.IP)
[05:14:57] *** Quits: glenc (glenc@moz-7ku.qb5.12.185.IP) (Ping timeout: 121 seconds)
[05:15:00] *** Quits: _zxq9_ (ceverett@moz-qsm369.mesh.ad.jp) (Quit: Konversation terminated!)
[05:15:56] *** Joins: jaen (jaen@moz-ifmik2.copit.pl)
[05:16:40] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[05:17:33] <adu> hey
[05:17:47] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[05:17:58] <adu> http://pastie.org/pastes/10061973/text
[05:18:05] <adu> this used to work
[05:18:20] <adu> I think getotps might have a regression bug
[05:18:29] *** Quits: laogao (laogao@moz-m3ssu7.members.linode.com) (Ping timeout: 121 seconds)
[05:18:31] <adu> getopts*
[05:18:58] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[05:19:31] *** Quits: iamtyler (Adium@moz-1dtmni.wa.comcast.net) (Quit: Leaving.)
[05:19:40] <mcpherrin> And my home internet slowed to a crawl :(
[05:20:25] <theme> adu, breaking change?
[05:20:37] <theme> adu, maybe there was an api change
[05:20:38] <adu> theme: I don't know
[05:20:45] <theme> adu, reread the docs?
[05:20:58] <theme> maybe index 0 no longer refers to the program name
[05:21:10] *** Quits: sp3d (sp3d@moz-ik970v.enn1.s22b.000d.2601.IP) (Ping timeout: 121 seconds)
[05:21:15] <Mutabah> theme: Looks like an error inside the library
[05:21:21] *** Quits: iopq (Mibbit@moz-uuic7b.ca.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[05:21:25] <adu> theme: "-" used to be an unrecognized option, which made it an arg, but now I think it's an option that has an invalid missing letter
[05:21:41] <theme> Mutabah, ah right
[05:21:42] <Mutabah> My guess too
[05:21:51] *** Quits: snoj (jonsaw@moz-6rl.m3o.122.121.IP) (Client exited)
[05:21:53] <theme> Mutabah, it's in Option::parse()
[05:21:56] <theme> wait, it's Options
[05:21:59] <theme> not Option
[05:22:02] *** Joins: laogao (laogao@moz-m3ssu7.members.linode.com)
[05:22:12] *** Quits: GGist (Mibbit@moz-35qr64.wa.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[05:22:20] *** Quits: wldcordeiro (wldcordeiro@moz-6fd9ov.hmj8.a2nn.0007.2601.IP) (Ping timeout: 121 seconds)
[05:22:54] *** Quits: zeph (zeph@moz-jn4cjt.3nlo.p53a.ffda.2602.IP) (Ping timeout: 121 seconds)
[05:22:54] <hoverbear> Hmmm... was I wrong assuming that examples in the examples directory would be tested?
[05:22:58] <theme> That said, the docs are weird
[05:23:02] <theme> http://doc.rust-lang.org/getopts/getopts/struct.Options.html#method.parse
[05:23:06] *** Quits: mnemnion (mnemnion@moz-e8rfii.ca.comcast.net) (Connection closed)
[05:23:15] <theme> "panics: returns `Err(Fail)`" wtf
[05:23:19] <reem> hoverbear: examples get compiled but not run
[05:23:23] <reem> hoverbear: on cargo test
[05:23:30] <hoverbear> reem: Can I make them be run?
[05:23:38] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[05:23:46] <reem> hoverbear: Make them tests?
[05:23:56] <hoverbear> reem: Fineee :)
[05:23:59] <talchas> hmm, that seems less than optimal given the sorta-tradition of - == stdin/stdout
[05:24:00] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[05:24:23] <Mutabah> talchas: I'd call it a bug
[05:24:24] *** darkowlzz|afk is now known as darkowlzz
[05:24:35] <Mutabah> talchas: In theory, that lone - should be treated as a free
[05:24:42] *** Joins: mnemnion (mnemnion@moz-e8rfii.ca.comcast.net)
[05:24:59] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[05:25:23] <adu> how do I use getopts when I need to recognize "-" as an argument (not an option)?
[05:25:27] *** Quits: ziad (ziad@moz-3kp.prd.136.50.IP) (Ping timeout: 121 seconds)
[05:25:34] *** Quits: dmac (dmac@moz-2ig65r.ca.comcast.net) (Quit: Leaving)
[05:25:52] <Mutabah> adu: Patch it? That crash is a bug
[05:26:25] *** Quits: AngelOfSol (AngelOfSol@moz-dj58kc.rh.rit.edu) (Quit: Remember to close the door when you're done!)
[05:26:29] *** Quits: bleibig (bleibig@moz-kn8mvj.ca.comcast.net) (Connection closed)
[05:26:34] *** Quits: mnemnion (mnemnion@moz-e8rfii.ca.comcast.net) (Connection closed)
[05:26:50] *** darkowlzz is now known as darkowlzz|afk
[05:26:58] *** Joins: mnemnion (mnemnion@moz-e8rfii.ca.comcast.net)
[05:27:16] *** Quits: ascarter (ascarter@moz-i0dnmd.wa.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[05:28:02] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[05:28:05] *** Joins: csherratt (textual@moz-357qdq.cable.teksavvy.com)
[05:28:33] *** Quits: acharles (acharles@moz-ulbdcn.ca.comcast.net) (Ping timeout: 121 seconds)
[05:29:09] *** Joins: GGist (Mibbit@moz-35qr64.wa.comcast.net)
[05:29:34] *** Joins: zeph (zeph@moz-jn4cjt.3nlo.p53a.ffda.2602.IP)
[05:29:59] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[05:30:52] *** Quits: reed (reed@tech.monkey) (RecvQ exceeded)
[05:30:58] *** Joins: wldcordeiro (wldcordeiro@moz-6fd9ov.hmj8.a2nn.0007.2601.IP)
[05:31:00] *** Quits: mnemnion (mnemnion@moz-e8rfii.ca.comcast.net) (Ping timeout: 121 seconds)
[05:31:00] *** Joins: jfredett (Adium@moz-a9ilmn.fios.verizon.net)
[05:31:14] *** Joins: reed (reed@tech.monkey)
[05:31:46] *** Joins: sprang (sprang@moz-d0kmvi.12d9.sm5v.0009.2601.IP)
[05:31:47] *** Joins: bleibig (bleibig@moz-kn8mvj.ca.comcast.net)
[05:32:03] *** Quits: mcpherrin (mcpherrin@moz-fl0kt2.ca.comcast.net) (Quit: leaving)
[05:32:05] <theme> Does this valgrind massif output look like it uses 80MB?
[05:32:06] <theme> http://pastebin.com/dcWEuTCp
[05:32:41] <XMPPwocky> so why is std::f32::consts::PI needing a feature
[05:32:49] <XMPPwocky> are we expecting the value of pi to change after 1.0
[05:33:00] <theme> XMPPwocky, will be replaced with associated constants
[05:33:06] <XMPPwocky> aha
[05:33:11] <XMPPwocky> that's much less exciting
[05:33:58] <WindowsBunny> XMPPwocky: Really though, I'm gonna tweak a few of the physics constants ;)
[05:34:11] *** Quits: laogao (laogao@moz-m3ssu7.members.linode.com) (Ping timeout: 121 seconds)
[05:34:20] <theme> My valgrind output seems to say that my program uses 1MB peak memory
[05:34:29] <theme> but it actually uses 80MB peak memory
[05:34:38] <theme> Is this related to some weird rustc behavior?
[05:34:44] <WindowsBunny> theme: I blame valgrind
[05:34:54] <theme> btw there's a warning
[05:34:56] <theme> "WARNING: unhandled syscall: 318"
[05:34:59] <FreeFull> Maybe valgrind isn't considering mmap
[05:35:05] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[05:35:17] <WindowsBunny> since thats how jemalloc allocates
[05:35:29] <theme> ah... damn
[05:35:30] *** Joins: dmac (dmac@moz-2ig65r.ca.comcast.net)
[05:35:44] <theme> here it is... http://valgrind.org/docs/manual/ms-manual.html#ms-manual.not-measured
[05:35:48] <talchas> valgrind's checking behavior should work out, I don't know how its heapsize works
[05:36:09] <talchas> it pretty much has to handle mmap for glibc's malloc, though that doesn't necessarily require general mmap
[05:36:16] *** Joins: acharles (acharles@moz-ulbdcn.ca.comcast.net)
[05:36:39] *** Joins: mcpherrin (mcpherrin@moz-fl0kt2.ca.comcast.net)
[05:36:40] *** Joins: laogao (laogao@moz-m3ssu7.members.linode.com)
[05:36:52] *** Quits: DerisiveLogic (smuxi@moz-g93io6.res.rr.com) (Ping timeout: 121 seconds)
[05:36:54] <talchas> yeah, try that --pages-as-heap=yes then
[05:37:28] <theme> FreeFull, thanks
[05:37:36] <theme> My new valgrind output looks better now
[05:37:44] <jfredett> Howdy, I have a question which I hope is astoundingly trivial. What's the signature syntax for returning a function from a function, e.g., fn foo(a: Bar) -> <something that is a function from a -> r> { <definition> }
[05:37:54] <jfredett> I've dug through the book + other docs
[05:38:09] <FreeFull> It depends on if you want to return a plain function, or a closure
[05:38:44] *** Quits: ellinokon (ellinokon@moz-gh5.r2h.62.178.IP) (A TLS packet with unexpected length was received.)
[05:38:48] *** Joins: ellinokon (ellinokon@moz-gh5.r2h.62.178.IP)
[05:38:49] <jfredett> my goal is to return a thing that will return an iterator, I don't think I need a closure for that
[05:39:01] <jfredett> but for sake of argument, can I say both? :)
[05:39:03] <theme> jfredett, you might have to return a `Box<Fn(Bar) -> Baz>`
[05:39:29] <jfredett> that'd be for a closure, yah? I've seen some oblique references to boxed closures
[05:40:31] *** Quits: adu (ajr@moz-rdrp0r.biz.rr.com) (Client exited)
[05:40:42] <jfredett> the exact goal, if it helps, is to return a function like (haskell syntax) \x -> mk_iter SomeHardcodedConstant x
[05:40:57] <jfredett> which is why I don't *think* it needs to be a closure, it can ignore it's environment
[05:41:12] <talchas> yeah, a boxed closure is that (or FnOnce or FnMut). Returning fn(Foo) -> Bar is just a function pointer, but doesn't require a Box
[05:41:13] <bombless> At last you will need a concret type that can iterate your values.
[05:41:51] *** Joins: ChrisMorgan (ChrisMorgan@moz-g6osuq.tpgi.com.au)
[05:42:21] <talchas> (in theory there is no reason to not be able to return an unboxed closure, in practice you cannot currently give it a name, and it might be weird trying to name the ways it could change and such)
[05:43:35] <jfredett> okay. then returning the function pointer version would just have a syntax something like : `fn foo(…) -> fn(i32) -> MyIteratorType`
[05:43:45] *** Quits: fengshaun (fengshaun@moz-rf0qk5.cable.teksavvy.com) (Ping timeout: 121 seconds)
[05:43:48] <jfredett> that syntax feels wrong to me, but I've only been doing this for about an hour
[05:44:54] <jfredett> the body would be `{ |s| { mk_iter(MyHardcodedConstant, s) } }`
[05:45:02] <theme> jfredett, rust ain't haskell
[05:45:09] <theme> we don't often use currying :/
[05:45:15] *** Joins: azar77 (azar77@moz-i5u.rcc.246.46.IP)
[05:45:35] *** Quits: mkoskar (mkoskar@moz-s8qnkd.cs.usu.edu) (Client exited)
[05:45:41] <mcpherrin> the inner {} are superflous
[05:45:50] <jfredett> okay.
[05:45:55] *** Quits: bojo1 (bojo@moz-oc096p.plala.or.jp) (Client exited)
[05:46:15] <jfredett> theme: I figure I'll go after it the way I know how and then let you all tell me how wrong I am later. :)
[05:46:31] <mcpherrin> returning closures has issues today, unfortunately
[05:46:37] <mcpherrin> since you can't name their type
[05:46:42] <jfredett> I like it when people can gawk at my ineptitude in it's full glory
[05:46:58] <theme> jfredett, Have you done C++ before?
[05:47:13] <talchas> for the function pointer it would need to be { fn inner() -> WhateverIterator { mk_iter(...) } inner }
[05:47:14] <theme> jfredett, if you have, you might understand the problem
[05:47:31] <talchas> because closures don't cast to fn-ptr even if they don't close over anything
[05:47:36] <theme> jfredett, but any way, haskell's closures are probably equivalent to `Box<Fn(A) -> B>`
[05:47:54] <jfredett> theme: I have not done C++
[05:48:03] <talchas> but yeah, mostly rust doesn't do currying
[05:48:11] <jfredett> Lisp -> Haskell -> Ruby, more or less.
[05:48:14] <theme> jfredett, well... the reason of this mess is performance
[05:48:39] <theme> jfredett, closures get much harder when you want performance
[05:48:46] <jfredett> I imagine
[05:48:48] *** Quits: laogao (laogao@moz-m3ssu7.members.linode.com) (Ping timeout: 121 seconds)
[05:49:25] <jfredett> talchas: mostly I'm just trying to figure out what 'can' be done. I tried rust a bit back around 0.5 and gave up because things were still pretty nascent
[05:49:49] *** Joins: giucam (giucam@moz-iv0nnc.bb.dnainternet.fi)
[05:49:52] <theme> jfredett, me too...
[05:50:05] <jfredett> what 'should' be done — well, I've never had much love for the rules anyway
[05:50:27] <jfredett> (rules of good practice in programming languages, anyway)
[05:51:17] *** Joins: laogao (laogao@moz-m3ssu7.members.linode.com)
[05:51:23] <jfredett> my first job was in C#, I was not kind to C#'s type system. My Boss had to tell me to stop trying to implement features at compile time.
[05:51:26] <jfredett> :)
[05:52:53] *** Quits: Uther (Thunderbird@moz-gssp49.fbx.proxad.net) (Ping timeout: 121 seconds)
[05:54:08] *** Joins: drewm1980 (drewm1980@moz-kahuir.hujf.dasj.1812.2a02.IP)
[05:54:21] *** Quits: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net) (A TLS packet with unexpected length was received.)
[05:54:45] *** Quits: Rym (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[05:55:20] *** Quits: laogao (laogao@moz-m3ssu7.members.linode.com) (Ping timeout: 121 seconds)
[05:56:20] *** Joins: sayan (sayan@moz-ip8.595.51.106.IP)
[05:58:01] *** Quits: omissis (omissis@moz-ftf.c01.90.95.IP) (Client exited)
[05:58:14] *** Joins: James (quassel@moz-d43h0f.range86-163.btcentralplus.com)
[05:58:39] *** Joins: dstrbad (dstrbad@moz-qrhvrh.cable.xnet.hr)
[05:59:04] *** Quits: darkowlzz|afk (Elite12883@moz-kue6ah.elitebnc.org) (Quit: EliteBNC free bnc service - http://elitebnc.org - be a part of the Elite!)
[05:59:08] *** Joins: laogao (laogao@moz-m3ssu7.members.linode.com)
[05:59:35] *** Quits: swgillespie (swgillespie@moz-liu.7tn.134.198.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[06:00:24] *** Joins: rootnode (rootnode@moz-e9j13d.vpn.rwth-aachen.de)
[06:00:45] *** Quits: khades (Thunderbird@moz-08k.3vk.74.212.IP) (Ping timeout: 121 seconds)
[06:01:42] *** Joins: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net)
[06:02:06] *** Quits: hoverbear (hoverbear@moz-csaicn.gv.shawcable.net) (Quit: Time to hibernate.... ZzZz...)
[06:03:16] *** Joins: __mark__ (mark@moz-pb9mc5.dynamic.chello.pl)
[06:03:29] *** Quits: ai (ai@moz-pqofrl.sunline.net.ua) (Quit: Leaving.)
[06:05:31] *** Joins: jviereck (Adium@moz-q5q1dh.dclient.hispeed.ch)
[06:06:04] *** Joins: SneakySnake (nya@moz-i9is4u.pool.telekom.hu)
[06:06:14] *** Quits: laogao (laogao@moz-m3ssu7.members.linode.com) (Ping timeout: 121 seconds)
[06:06:28] *** Quits: ukarlsson (ukarlsson@moz-jhs6q1.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[06:06:41] *** Quits: Guest39 (textual@moz-s2c.v8q.47.99.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[06:06:43] *** Joins: dawehner (quassel@moz-6aq1ua.hsi7.kabel-badenwuerttemberg.de)
[06:07:44] *** Quits: sayan (sayan@moz-ip8.595.51.106.IP) (Ping timeout: 121 seconds)
[06:07:58] *** Joins: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net)
[06:09:04] <_td> http://is.gd/K7221l <- How can I define that self.data implements Clone?
[06:09:08] *** Quits: playjax (chatzilla@moz-m2t78f.optusnet.com.au) (Connection closed)
[06:09:12] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[06:09:23] <_td> If I can't, is there a way to do a conditional on whether or not an object implements a trait?
[06:10:09] <Mutabah> _td: i.e. that it's a clonable iterator?
[06:10:21] <_td> Right.
[06:10:22] <theme> _td, you have to say `Box<Iterator<Item=char> + Clone + 'a>`
[06:10:30] <_td> Throws an error.
[06:10:31] <Mutabah> theme: Don't think that works yet
[06:10:34] <theme> _td, but then, some iterators won't work
[06:10:36] *** Joins: glenc (glenc@moz-7ku.qb5.12.185.IP)
[06:10:43] *** Joins: eddyb (eddyb@moz-lt3.fmm.166.109.IP)
[06:10:49] <theme> wait, doesn't work?
[06:10:51] <_td> "only the builtin traits can be used as closure or object bounds"
[06:10:56] <Mutabah> _td: You need to create a new trait
[06:11:06] *** Quits: dawehner (quassel@moz-6aq1ua.hsi7.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[06:11:09] <_td> When I do that I get that it's not object safe
[06:11:14] <Mutabah> 'trait ClonableIterator<T> : Iterator<Item=T> + Clone
[06:12:11] <theme> _td, http://is.gd/9Fhdwf
[06:12:16] <theme> but object safety *_*
[06:12:35] *** Quits: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net) (A TLS packet with unexpected length was received.)
[06:12:52] *** Joins: darkowlzz|afk (Elite12883@moz-kue6ah.elitebnc.org)
[06:13:02] <Mutabah> oh, of course! Clone isn't object safe
[06:13:14] <theme> ...
[06:13:43] *** Joins: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net)
[06:14:09] <_td> It's really frustrating because every value that I want to assign to self.data implements Clone.
[06:14:23] <Mutabah> _td: And you want to be able to clone it?
[06:14:27] <_td> Yes.
[06:14:35] *** Joins: zmack (zmack@moz-1oe.89t.76.82.IP)
[06:14:53] <Mutabah> I think you can write a 'BoxClone' trait, and impl that for all Clone items
[06:15:07] *** Quits: james4k_ (james@moz-gi3bll.consolidated.net) (Ping timeout: 121 seconds)
[06:15:14] *** Quits: hoony (Thunderbird@moz-olm.1t8.70.110.IP) (Client exited)
[06:15:15] <Mutabah> (Maybe)
[06:15:43] *** Quits: glenc (glenc@moz-7ku.qb5.12.185.IP) (Ping timeout: 121 seconds)
[06:16:28] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Connection closed)
[06:16:32] <_td> Is there a way (something to do with Any?) to write a conditional
[06:16:43] <_td> if this implements Clone, clone it, otherwise evaluate to some other value
[06:16:49] <eddyb> nope
[06:17:06] <Mutabah> _td: A BoxClone trait is probably the way to go
[06:17:24] <_td> I don't understand what that means
[06:17:29] *** Quits: drewm1980 (drewm1980@moz-kahuir.hujf.dasj.1812.2a02.IP) (Ping timeout: 121 seconds)
[06:17:45] *** Quits: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net) (Ping timeout: 121 seconds)
[06:17:51] *** Joins: dfinninger (dfinninger@moz-6a9v7n.res.rr.com)
[06:18:03] <eddyb> other than a trait with a blanket Clone impl and manual impls for other traits
[06:18:03] <eddyb> oh this is the BoxClone issue?
[06:18:09] <Mutabah> _td: An object-safe trait that defines a clone_boxed() method that returns Box<T>
[06:18:17] <Mutabah> eddyb: Yeah
[06:18:25] <Mutabah> I'm not 100% sure it's possible actually
[06:18:30] *** Quits: csherratt (textual@moz-357qdq.cable.teksavvy.com) (Ping timeout: 121 seconds)
[06:18:33] <theme> Anybody have any idea why sync::mpsc::blocking::tokens::h8cf3843f557d1953vnw is allocating 8MB of memory?
[06:18:36] <eddyb> not Box<T> but Box<SpecificTrait>
[06:18:53] <eddyb> the
[06:18:58] <Mutabah> eddyb: Yeah, T is an input to CloneBoxed
[06:19:05] <eddyb> theme: huh, odd name
[06:19:06] *** Joins: acgtyrant (acgtyrant@moz-3kd.b79.160.124.IP)
[06:19:13] <theme> eddyb, I dunno
[06:19:13] *** Joins: drewm1980 (drewm1980@moz-kahuir.hujf.dasj.1812.2a02.IP)
[06:19:17] <eddyb> Mutabah: doubt that works
[06:19:22] <Mutabah> eddyb: Yeah
[06:19:28] <theme> eddyb, but it showed up in valgrind's massif output
[06:19:29] <Mutabah> I can't quite wrap my head around it
[06:19:36] <eddyb> used to cause recursion errors
[06:19:46] <theme> it's calling je_mallocx
[06:20:02] <eddyb> also, can't coerce without Unsize which is not merged yet
[06:20:26] <_td> I feel like my actual problem would be solved if Iterator implemented IntoIterator.
[06:20:41] <eddyb> I'm *so* going to abuse being generic over types implementing a trait :P
[06:20:46] <_td> err that is, if all the std Iterators implemented it.
[06:21:02] <eddyb> _td: there's a blanket impl
[06:21:16] <eddyb> all iterators impl IntoIterator
[06:21:44] *** Joins: Rym (y@moz-vsu.f6d.55.31.IP)
[06:21:53] *** Quits: dfinninger (dfinninger@moz-6a9v7n.res.rr.com) (Ping timeout: 121 seconds)
[06:22:16] <_td> They do? So I should be able to use an IntoIter<Item=char> instead of a Box<Iterator<Item=char>>
[06:22:39] <eddyb> uhm, IntoIterator is not object-safe
[06:23:02] <eddyb> also, you forgot the iterator type
[06:23:06] <_td> I don't need it to be a boxed trait.
[06:23:11] <eddyb> oh!
[06:23:20] <eddyb> sure then?
[06:23:34] <eddyb> if you can be generic, use that
[06:23:35] *** Quits: acgtyrant (acgtyrant@moz-3kd.b79.160.124.IP) (Ping timeout: 121 seconds)
[06:23:59] <_td> I'm saying instead of using a boxed trait, I should be able to use the type returned by into_iter() and just call that every time I assign to this binding.
[06:24:35] *** Quits: zzing (textual@moz-jucm1n.cpe.distributel.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[06:25:16] *** Joins: bojo (bojo@moz-oc096p.plala.or.jp)
[06:25:27] <_td> ack no
[06:25:36] <_td> IntoIterator for iterators just returns self
[06:25:54] *** Joins: fyolnish (fyolnish@moz-4f9iq2.ocn.ne.jp)
[06:26:10] *** Quits: Rym (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[06:26:17] * theme totally hates object safety
[06:26:31] <_td> All I'm trying to do with this boxed trait is normalize between different `Iterator<Item=char>`s
[06:27:00] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[06:27:36] *** Quits: eddyb (eddyb@moz-lt3.fmm.166.109.IP) (Ping timeout: 121 seconds)
[06:27:52] *** Joins: iopq (Mibbit@moz-uuic7b.ca.comcast.net)
[06:27:55] <theme> _td, such as?
[06:28:08] <theme> _td, can't you just collect into a Vec?
[06:28:22] <theme> or String?
[06:28:32] <_td> I'm seeing if I can collect into a vec and then call into_iter on that
[06:28:59] <theme> _td, but why do you want Clone, any way?
[06:29:08] <theme> I don't think a lot of iterators implement Clone
[06:29:15] *** Quits: fyolnish (fyolnish@moz-4f9iq2.ocn.ne.jp) (Connection closed)
[06:29:16] *** Joins: fyolnish (fyolnish@moz-4f9iq2.ocn.ne.jp)
[06:29:18] *** Joins: dfoelber (dfoelber@moz-obfuab.fios.verizon.net)
[06:29:44] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[06:29:45] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[06:29:57] <_td> The actual object is an iterating parser.
[06:30:14] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[06:30:27] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[06:30:38] <_td> When the data is malformed I need to role back from an intermediate step and prepend it to the underlying Iterator<Item=char>
[06:30:52] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[06:31:08] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[06:31:10] *** Joins: munksgaard (munksgaard@moz-urnkl5.u.parknet.dk)
[06:31:20] <iopq> I have an iterator, I want to do an operation for each element and ignore Err values, what's the correct thing to do in this case
[06:32:33] <_td> It sounds like filter_map iopq.
[06:33:08] <_td> theme: "I don't think a lot of iterators implement Clone" Chars and Chain (the two I was dealing with before) both did, but of course vec::IntoIter does not.
[06:33:20] *** Quits: dfoelber (dfoelber@moz-obfuab.fios.verizon.net) (Ping timeout: 121 seconds)
[06:33:26] <iopq> _td: I don't want to add the Err case to the resulting Vector when I .collect
[06:33:31] *** Joins: hoony (Thunderbird@moz-olm.1t8.70.110.IP)
[06:33:48] <iopq> do I need to pattern match and return None for Err?
[06:33:59] *** Joins: _zxq9_ (ceverett@moz-qsm369.mesh.ad.jp)
[06:34:04] <_td> Result has a method .ok() which does that for you.
[06:34:17] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[06:34:21] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[06:35:20] <_td> It should convert Ok(n) into Some(n) and Err(_) into None, and then filter_map will filter out the Nones.
[06:35:36] *** Quits: wldcordeiro (wldcordeiro@moz-6fd9ov.hmj8.a2nn.0007.2601.IP) (Ping timeout: 121 seconds)
[06:35:56] *** Joins: timj1 (timj@moz-80ljlm.dip0.t-ipconnect.de)
[06:36:37] <reem> results.flat_map(|res| res.ok())
[06:36:37] *** Joins: wldcordeiro (wldcordeiro@moz-6fd9ov.hmj8.a2nn.0007.2601.IP)
[06:36:37] <reem> s/flat_map/filter_map
[06:37:22] *** Quits: timj (timj@moz-if4ro6.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[06:37:30] *** Quits: drewm1980 (drewm1980@moz-kahuir.hujf.dasj.1812.2a02.IP) (Ping timeout: 121 seconds)
[06:38:16] *** Quits: summerlight (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[06:38:32] *** Joins: khades (Thunderbird@moz-ual.b31.186.31.IP)
[06:38:47] *** Quits: khades (Thunderbird@moz-ual.b31.186.31.IP) (Client exited)
[06:38:55] <iopq> _td: reem: I have Node::new(new_game, m) and self.game.play_move(m) is the Result
[06:39:31] <GGist> reem: Hey reem, I was wondering in Hyper, I saw that you guys have, on the server side request, a RequestUri::Star, how would I send that from the client side request object?
[06:40:23] *** Joins: bjz (bjz@moz-b43.1aa.161.202.IP)
[06:40:23] <_td> iopq, so what is the type that the Iterator contains?
[06:40:23] <_td> Is it m or Node<.., m> or something else?
[06:40:23] <iopq> _td: it contains m
[06:40:23] *** Quits: morphy (Mibbit@moz-c70.u5s.65.112.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[06:40:29] <iopq> I need to make Nodes at the end
[06:40:32] *** Joins: kgrz (uid74824@moz-vnirk2.brockwell.irccloud.com)
[06:40:33] *** Joins: khades (khades@moz-ual.b31.186.31.IP)
[06:40:35] <GGist> apologies for the barrage of commas I just used
[06:40:51] <_td> So you want to do iterator.filter_map(|m| self.game.play_move(m).ok())
[06:41:05] *** Joins: hebz0rl (hebz0rl@moz-cfcrtj.static.qsc.de)
[06:41:12] <iopq> _td: and then map to nodes?
[06:41:15] <_td> Now you have only the ms that returned Ok, which you can collect or whatever other transformation.
[06:41:20] <theme> _td, I tried messing around with your code
[06:41:27] <theme> got a weird error
[06:41:27] <_td> iopq, yeah.
[06:41:33] *** Quits: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[06:41:34] *** Joins: squiddy (squiddy@moz-md4.pm3.19.178.IP)
[06:41:34] <theme> _td, http://is.gd/931KQN
[06:41:35] <reem> GGist: I don't think you can right now, you might want to file an issue.
[06:41:36] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[06:41:44] *** Joins: kushal (kdas@moz-78qhfn.202.sitibroadband.in)
[06:42:39] <iopq> _td: but Node takes a game AND move argument
[06:42:56] <GGist> reem: Ok, just wanted to make sure. Im trying to implement SSDP using hyper so I really needed access to something like that. Ill go ahead and file an issue.
[06:43:18] <_td> iopq, can you put the code on play.rust-lang.org?
[06:43:45] *** Quits: mancman (martin@moz-n51tc4.range86-143.btcentralplus.com) (Quit: Ex-Chat)
[06:43:50] <_td> theme, this is what I'm working on to forgo the messiness of boxed traits. http://is.gd/ULgyNN
[06:43:59] <theme> _td, tweaked some more, got a weirder message
[06:44:00] <theme> http://is.gd/SarNQ4
[06:44:32] <iopq> _td: http://is.gd/T3yZ5y
[06:45:33] *** Quits: dstrbad (dstrbad@moz-qrhvrh.cable.xnet.hr) (A TLS packet with unexpected length was received.)
[06:46:04] <_td> So what you have is actually not an iterator of m after the filter_map
[06:46:16] <_td> It's an iterator of the "new_game"s from the top example.
[06:46:32] *** Quits: zmack (zmack@moz-1oe.89t.76.82.IP) (Connection closed)
[06:46:45] *** Joins: sugaku (sugaku@moz-24j.5gi.12.128.IP)
[06:46:50] <_td> You can't just call ok() because you want to keep the m that you passed into it, you do have to match in the filter_map.
[06:46:59] *** Quits: hebz0rl (hebz0rl@moz-cfcrtj.static.qsc.de) (A TLS packet with unexpected length was received.)
[06:47:17] <_td> I think it's an identical match statement to the one on lines 8-11
[06:47:23] *** Joins: hebz0rl (hebz0rl@moz-cfcrtj.static.qsc.de)
[06:47:36] <iopq> _td: I was hoping there was a more elegant solution
[06:47:39] *** Joins: kkus (minot@moz-baj4jj.74.srtnet.com)
[06:47:52] <_td> only instead of "self.children.push(...)" it's "Some(...)"
[06:48:09] <_td> Well probably you can combine the filter_map with the filter above it.
[06:48:22] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[06:48:31] <_td> in fact you can probably combine the map above that into it to
[06:48:32] *** Joins: nwin (textual@moz-e1ofce.pools.vodafone-ip.de)
[06:48:36] *** Joins: marsel (user@moz-r01.end.162.188.IP)
[06:48:46] <theme> wtf is this code... http://is.gd/VdYO4D
[06:48:48] <_td> So you just write iter().filter_map(|coord| ...) and then a method that handles 1 coord and it'll be applied to all of them.
[06:49:00] <theme> I will ask on #rust-internals about this
[06:49:01] <iopq> _td: OK let me do that
[06:49:14] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[06:49:35] <_td> just return Some(Node::new()) on success and None on error and it'll filter out the failures for you.
[06:50:48] *** Joins: rainemak (rainemak@moz-2g3dlb.gjaa.pi0p.0998.2001.IP)
[06:51:03] *** Quits: kkus (minot@moz-baj4jj.74.srtnet.com) (Quit: Leaving)
[06:51:30] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[06:51:57] *** Joins: kmicu (kmicu@moz-uga.edn.218.91.IP)
[06:51:58] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[06:52:44] *** Quits: Romster (Romster@moz-4g83e8.rev.eftel.com) (Ping timeout: 121 seconds)
[06:52:47] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Connection closed)
[06:52:58] <iopq> _td: WEOW, it was slow because it didn't inline self.board()
[06:53:03] *** Joins: Romster (Romster@moz-4g83e8.rev.eftel.com)
[06:53:05] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[06:53:23] <_td> theme, not to get off the train to trait object black magic, but I got my use case working with an IntoIter<char>: http://is.gd/L0Zj4Y
[06:53:38] *** Joins: andresv (Mibbit@moz-m48tte.sta.estpak.ee)
[06:53:39] <theme> _td, ok... I'm investigating these error message
[06:53:46] <theme> I suspect I found 2 compiler bugs
[06:53:48] *** Quits: Kxepal (Miranda@moz-giuu7e.pppoe.mtu-net.ru) (Ping timeout: 121 seconds)
[06:53:52] *** Quits: psd (psd@moz-acc.mpg.78.202.IP) (Ping timeout: 121 seconds)
[06:54:07] *** Joins: lfairy (lfairy@moz-8p3ka9.ihug.co.nz)
[06:54:10] *** Joins: coxg (sazzer@moz-1hq.kh5.32.217.IP)
[06:54:42] *** Quits: munksgaard (munksgaard@moz-urnkl5.u.parknet.dk) (Ping timeout: 121 seconds)
[06:55:08] *** Quits: wldcordeiro (wldcordeiro@moz-6fd9ov.hmj8.a2nn.0007.2601.IP) (Ping timeout: 121 seconds)
[06:56:33] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[06:57:15] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[06:57:47] *** Quits: James (quassel@moz-d43h0f.range86-163.btcentralplus.com) (Ping timeout: 121 seconds)
[06:58:22] *** Quits: coxg (sazzer@moz-1hq.kh5.32.217.IP) (Ping timeout: 121 seconds)
[07:00:09] <iopq> _td: replacing everything in filter_map looks somehow worse: http://is.gd/30lJjG what am I supposed to do instead of filter
[07:00:18] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[07:01:29] <_td> iopq, you've got code with a lot of branches I'm afraid.
[07:01:48] <iopq> _td: it made it run slower than .filter()
[07:01:49] *** Joins: laogao (laogao@moz-m3ssu7.members.linode.com)
[07:02:05] *** Quits: basicdays (basicdays@moz-vreeoj.cable.rcn.com) (Quit: I'm out)
[07:02:36] <theme> iopq, your link has mismatched parentheses
[07:02:53] <_td> theme: remove the map statement on line 23
[07:03:14] *** Joins: TreeNode (Mibbit@moz-0tl.f6r.120.77.IP)
[07:03:14] <theme> ok...
[07:03:17] <_td> You could do bigger picture design stuff to make it cleaner. Possibly it would make sense to move the is_legal and is_eye check inside of the play_move method
[07:03:58] <_td> I don't know anything about performance though iopq, I like my code clean and slow.
[07:04:16] *** Quits: JanC__ (janc@moz-v5d0fl.dsl.scarlet.be) (Ping timeout: 121 seconds)
[07:04:22] <theme> iopq, http://is.gd/PorA0P
[07:04:25] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[07:04:35] *** Joins: Tobba|Laptop (Tobba@moz-1hh.7ki.21.217.IP)
[07:05:32] <theme> _td, do you think these two codes look like compiler bugs?
[07:05:38] <theme> http://is.gd/c7WkNe
[07:05:44] <theme> http://is.gd/TO5aGY
[07:05:44] <iopq> _td: there is no point in writing yet another Go engine if I can't compete with C engines at speed
[07:05:52] *** Quits: laogao (laogao@moz-m3ssu7.members.linode.com) (Ping timeout: 121 seconds)
[07:06:04] *** Joins: zcourts (zcourts@moz-q5hesg.rdg.ac.uk)
[07:06:06] <theme> iopq, swap the two sides of &&
[07:06:10] <theme> tried that yet?
[07:06:36] *** Quits: sugaku (sugaku@moz-24j.5gi.12.128.IP) (Connection closed)
[07:06:44] <iopq> theme: yeah, I think I benched that before
[07:07:04] <theme> iopq, does self.game.play_move(m) always return Some?
[07:07:04] <_td> I don't know if I agree with that philosophically (the maintainability of your code could be significantly better, for example). But I'm not saying Rust can't be fast, just that I don't have much advice about performance.
[07:07:09] <theme> I mean Ok
[07:08:10] <_td> theme: The second one definitely looks like a bug, Clone is always in scope, right?
[07:08:22] <theme> _td, yes
[07:08:47] <iopq> theme: no, it can sometimes return None because of superko rule, but very rarely
[07:09:04] <theme> iopq, O_o
[07:09:31] <_td> And the first one also looks like you did specify the type, so yeah they're both very perplexing errors.
[07:09:47] <_td> Even if that shouldn't compile, those error messages do not explain why.
[07:09:58] *** Quits: dcuddeback (textual@moz-cb7v53.ca.comcast.net) (Quit: Textual IRC Client: www.textualapp.com)
[07:10:25] <iopq> theme I mean it returns Err, I believe it's a Result
[07:10:34] <theme> iopq, ok
[07:10:55] <theme> iopq, I think you *might* wait for rustc to be better for performance
[07:10:57] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[07:11:15] *** Joins: lenstr (lenstr@moz-gkn.vju.25.171.IP)
[07:11:21] <reem> rust is pretty fast right now
[07:11:24] *** Joins: glenc (glenc@moz-7ku.qb5.12.185.IP)
[07:11:27] <theme> _td, I'm getting an even weirder weirder error
[07:11:29] <theme> _td, http://is.gd/vUELQP
[07:11:30] *** Joins: acdimalev (jamin@moz-stcj0j.res.rr.com)
[07:11:30] *** Joins: james4k_ (james@moz-gi3bll.consolidated.net)
[07:11:50] <theme> reem, can you have a look?
[07:12:04] *** Quits: jviereck (Adium@moz-q5q1dh.dclient.hispeed.ch) (Quit: Leaving.)
[07:12:23] <reem> Clone isn't object safe
[07:12:33] <theme> reem, well... yes
[07:12:41] <theme> but I wrote Box<Self>:Clone
[07:12:43] <theme> line 4
[07:13:11] *** Joins: jviereck (Adium@moz-q5q1dh.dclient.hispeed.ch)
[07:13:22] <theme> reem, also this weird error: http://is.gd/c7WkNe
[07:13:27] <theme> dunno if they are related
[07:13:46] <enjolras> how can i create a function pointer ?
[07:14:06] <theme> enjolras, use the function name without parentheses
[07:14:06] *** Joins: ukarlsson (ukarlsson@moz-8p0489.clq1.sjcg.02b0.2a01.IP)
[07:14:11] <theme> but not the closure notation
[07:14:19] *** Joins: kkus (kkus@moz-baj4jj.74.srtnet.com)
[07:14:22] <enjolras> looks like it can't be done with polymorphic functions
[07:14:23] <reem> theme: What do you expect this to do?
[07:14:24] *** Quits: GGist (Mibbit@moz-35qr64.wa.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[07:14:34] *** Joins: dstrbad (dstrbad@moz-qrhvrh.cable.xnet.hr)
[07:14:42] <theme> reem, the iterator code?
[07:14:43] <reem> theme: What function is invoked when you do <Box<MyClone>>::clone?
[07:14:48] <reem> that implementation of Clone?
[07:14:49] *** Quits: dstrbad (dstrbad@moz-qrhvrh.cable.xnet.hr) (A TLS packet with unexpected length was received.)
[07:14:54] <reem> what*
[07:15:03] <theme> reem, hmm
[07:15:12] <theme> It's already using dynamic dispatch, right?
[07:15:19] *** Quits: lenstr (lenstr@moz-gkn.vju.25.171.IP) (Ping timeout: 121 seconds)
[07:15:43] *** Joins: Rym (y@moz-vsu.f6d.55.31.IP)
[07:15:55] *** Joins: dawehner (quassel@moz-6aq1ua.hsi7.kabel-badenwuerttemberg.de)
[07:16:09] <reem> theme: You're trying to just clever away object safety
[07:16:12] <reem> it's not going to work
[07:16:12] <theme> reem, are you saying that Box<MyClone> does not implement Clone?
[07:16:30] <theme> Maybe this one's not a bug
[07:16:30] *** Quits: glenc (glenc@moz-7ku.qb5.12.185.IP) (Ping timeout: 121 seconds)
[07:16:37] <theme> reem, can you look at another one?
[07:16:41] <reem> sure
[07:16:46] <theme> http://is.gd/c7WkNe
[07:17:14] <theme> This one is associated types weirdness
[07:17:24] *** Joins: JanC__ (janc@moz-65slkk.dsl.scarlet.be)
[07:17:32] *** Joins: morphy (Mibbit@moz-c70.u5s.65.112.IP)
[07:17:35] *** Joins: dinfuehr (dinfuehr@moz-c25.u8s.112.91.IP)
[07:17:57] <reem> that one should work
[07:18:01] <enjolras> playbot: fn test<T : Sized>(_ : T) -> u32 { 42 } fn testtest<T : Sized>(f : fn(T) -> u32, t : T) -> u32 { f(t) }
[07:18:03] -playbot- ()
[07:18:11] <theme> reem, this one also doesn't compile: http://is.gd/hPHF3Q
[07:18:14] <enjolras> meh. Why it doesn't work in my code 
[07:18:14] <kkus> how easy is it to submit a one line change request to the 30 minute introduction to rust? 
[07:18:28] <reem> very
[07:18:32] *** Quits: james4k_ (james@moz-gi3bll.consolidated.net) (Ping timeout: 121 seconds)
[07:18:38] <reem> you can do it from the github interface evne
[07:18:56] <theme> reem, should I open an issue?
[07:18:59] <reem> just go to the document you want to edit, click the edit button, make the change, commit + PR it right there
[07:19:08] <reem> theme: sure
[07:19:17] *** Quits: Romster (Romster@moz-4g83e8.rev.eftel.com) (Ping timeout: 121 seconds)
[07:19:23] *** Joins: daniel-s_ (daniel-s@moz-upmq06.monash.edu.au)
[07:19:36] *** Quits: daniel-s_ (daniel-s@moz-upmq06.monash.edu.au) (A TLS packet with unexpected length was received.)
[07:19:52] *** Joins: daniel-s_ (daniel-s@moz-upmq06.monash.edu.au)
[07:19:53] *** Joins: Romster (Romster@moz-4g83e8.rev.eftel.com)
[07:19:57] *** Quits: daniel-s_ (daniel-s@moz-upmq06.monash.edu.au) (A TLS packet with unexpected length was received.)
[07:20:05] *** Joins: sugaku (sugaku@moz-24j.5gi.12.128.IP)
[07:20:14] *** Joins: daniel-s_ (daniel-s@moz-upmq06.monash.edu.au)
[07:20:19] *** Quits: Rym (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[07:20:22] *** Joins: aravindavk (aravinda@moz-m6j.f0d.244.121.IP)
[07:20:57] <iopq> is there a function like ok() that takes an argument for the content of the Some
[07:21:02] <enjolras> haha, i just need to cast it
[07:21:05] <kkus> thanks reem ... actually i made a mistake reading. the example code is actually fine o.O 
[07:21:08] *** Joins: laparca (laparca@moz-rgcs06.mgob.kh00.0488.2a01.IP)
[07:21:24] *** darkowlzz|afk is now known as darkowlzz
[07:21:33] <enjolras> iopq: map().ok() ?
[07:22:05] *** Quits: Asandari (Asandari@moz-emp96u.cable.teksavvy.com) (Ping timeout: 121 seconds)
[07:22:19] *** Quits: daniel-s (daniel-s@moz-upmq06.monash.edu.au) (Ping timeout: 121 seconds)
[07:22:44] *** Joins: michas (michas@moz-tjq2ir.web.vodafone.de)
[07:23:36] *** Joins: futile (felix@moz-7aqurh.hsi13.unitymediagroup.de)
[07:23:48] <theme> reem, https://github.com/rust-lang/rust/issues/23856
[07:24:10] <reem> cool
[07:24:31] *** suvash_away is now known as suvash
[07:24:43] <kkus> this page says cargo.toml is something we write and cargo.lock is something cargo generates so does that mean we don't commit cargo.lock? http://doc.crates.io/guide.html#cargo.toml-vs-cargo.lock 
[07:25:04] <theme> kkus, we commit Cargo.lock only for binaries
[07:25:36] <kkus> I don't understand the difference... sorry but why different behavior between lib and bin? 
[07:25:46] <kkus> between library and binary? 
[07:26:31] <theme> kkus, bin produces an executable
[07:26:47] <theme> kkus, lib is used by a bin to produce an executable
[07:26:48] *** Quits: evilman_work (evilman@moz-bmo.108.244.87.IP) (Connection closed)
[07:26:51] *** Joins: Asandari (Asandari@moz-emp96u.cable.teksavvy.com)
[07:26:54] *** Quits: sugaku (sugaku@moz-24j.5gi.12.128.IP) (Connection closed)
[07:27:37] <kkus> theme, so lib never has external dependencies? 
[07:27:41] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[07:27:45] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[07:27:53] <theme> kkus, wait... no
[07:28:05] <theme> kkus, lib can be used by a lib too
[07:28:14] <theme> but nobody can depend on a bin
[07:28:22] *** Quits: Awerush (Awerush@moz-15s7c4.udtd.gaqb.04f8.2a01.IP) (Ping timeout: 121 seconds)
[07:28:27] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[07:28:50] *** Joins: areski (areski@moz-uuek6u.user.ono.com)
[07:28:50] <iopq> _td: I think the whole point of why play_move doesn't check for legal is because we first need to filter out the illegal moves and THEN filter out the eyes for performance reasons
[07:28:52] <theme> kkus, bin also has a main function
[07:29:21] <kkus> theme, if we can add a line like git = "https://github.com/rust-lang/semver.git" don't we need the commit sha for when which commit we got when *we* got it? 
[07:29:25] *** Quits: daniel-s_ (daniel-s@moz-upmq06.monash.edu.au) (A TLS packet with unexpected length was received.)
[07:29:25] <iopq> _td: I actually have a .play() method that checks for illegal moves, but I get better performance by checking for them before checking for eyes
[07:29:41] *** Joins: daniel-s_ (daniel-s@moz-upmq06.monash.edu.au)
[07:30:00] *** Quits: Skyler (Skyler@moz-e93b35.sd.cox.net) (Connection closed)
[07:30:04] <kkus> I guess I can't wrap my head around why things are different for lib vs bin 
[07:30:11] <theme> kkus, the commit sha will be written in Cargo.lock
[07:30:19] *** Joins: Awerush (Awerush@moz-15s7c4.udtd.gaqb.04f8.2a01.IP)
[07:30:27] *** Joins: Skyler (Skyler@moz-e93b35.sd.cox.net)
[07:30:43] <theme> I'm not exactly sure too about why bin and lib are different :/
[07:31:09] *** Quits: khades (khades@moz-ual.b31.186.31.IP) (Quit: leaving)
[07:31:21] *** Joins: khades (khades@moz-ual.b31.186.31.IP)
[07:31:25] <kkus> thanks though 
[07:31:52] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[07:31:58] *** Quits: SneakySnake (nya@moz-i9is4u.pool.telekom.hu) (Connection closed)
[07:32:14] <ChrisMorgan> theme: in a library, you stipulate “I want a version, any version, that will be compatible with X”. If X is 1.2.3, for example, 1.9.7 is fine. So all you need is the version specifier in Cargo.toml.
[07:32:21] *** Joins: arctanx (arctanx@moz-246.4bv.167.59.IP)
[07:32:24] <theme> kkus, ^
[07:32:37] <theme> ChrisMorgan, what about a bin?
[07:32:38] *** Quits: hoony (Thunderbird@moz-olm.1t8.70.110.IP) (Connection closed)
[07:34:18] <khades> hi
[07:34:28] <ChrisMorgan> In a binary, you tend to want reproducibility, so that if you build it later you get *exactly* the same thing. If you’re deploying an application to multiple servers, for example, you will probably want them to be precisely the same, so that you can *know* that either all is right or all is wrong, and that you don’t get a precise version that has a bug in it being used on one server and not
[07:34:31] <ChrisMorgan> another.
[07:35:14] <ChrisMorgan> In practical terms, you don’t tend to *need* to lock versions, but for anything where you want guarantees of sanity, it’s a good idea to lock them.
[07:35:15] *** Quits: forgottenone (forgottenon@moz-002.g2v.45.92.IP) (Quit: Konversation terminated!)
[07:35:32] <ChrisMorgan> For a library, though, that’s not your concern. It’s the concern of the person who is using your library.
[07:35:55] <ChrisMorgan> That clear enough?
[07:36:02] <theme> I guess...
[07:36:11] <iopq> enjolras: it was cleaner to write .map().ok() but the performance was worse :(
[07:36:13] *** Quits: bjz (bjz@moz-b43.1aa.161.202.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[07:36:22] *** Joins: forgottenone (forgottenon@moz-002.g2v.45.92.IP)
[07:36:34] <theme> iopq, are you building with optimizations on?
[07:36:44] <iopq> theme: I'm benching with -C lto even
[07:37:01] *** Joins: coxg (sazzer@moz-1hq.kh5.32.217.IP)
[07:37:33] *** Joins: psd (psd@moz-jnt.oes.249.115.IP)
[07:37:47] *** Joins: ebel_ (rory@moz-l1ldq7.hsi4.kabel-badenwuerttemberg.de)
[07:38:06] <kkus> If X is 1.2.3, and the latest on 1.x.x is 1.9.7 but 2.3.4 is latest, will the lib automatically pick 1.9.7? or as lib writer, you leave it up to the people using it to care? 
[07:39:00] <theme> kkus, it will if you write it as 1.2.3^ I think
[07:39:04] *** Joins: ok32 (ok32@moz-nc7pn3.broadband.corbina.ru)
[07:39:11] *** Joins: evilman_work (evilman@moz-bmo.108.244.87.IP)
[07:39:54] *** Quits: Tobba|Laptop (Tobba@moz-1hh.7ki.21.217.IP) (Ping timeout: 121 seconds)
[07:39:54] <kkus> just wondering, not even close to that far yet. thanks theme 
[07:40:02] *** Joins: io2 (io2@moz-fphcqm.home.otenet.gr)
[07:40:06] *** Joins: fabiand (fabiand@moz-rj0okk.dip0.t-ipconnect.de)
[07:40:22] <enjolras> iopq: -C lto and -C opt-level=3 i guess ? 
[07:40:45] *** Quits: kryptigma (kryptigma@moz-ss0unc.wp.shawcable.net) (Ping timeout: 121 seconds)
[07:41:09] <XMPPwocky> lto is crashy and often *very* slow
[07:41:34] <iopq> enjolras: level 3 is the default for benches, but I just did cargo bench -v and yes level 3
[07:41:34] <enjolras> slow to build or resulting in slow code ?
[07:41:43] <enjolras> iopq: ah ok
[07:42:28] *** Quits: robmiller (robmiller@moz-1u0.tg5.0.141.IP) (Quit: Leaving.)
[07:42:31] <iopq> XMPPwocky: it's like middle ground between inlining everything and not inlining at all
[07:43:02] <XMPPwocky> slow to build
[07:43:14] <iopq> XMPPwocky: putting inline always on my hot path caused 2 minute compile times, while -C lto only causes 1 minute build times
[07:43:46] <XMPPwocky> bizarre, that shouldn't happen.
[07:43:54] <XMPPwocky> fwiw you only need #[inline] to get it across crates
[07:44:22] <iopq> XMPPwocky: I need to put #[inline(always)] or it won't choose to inline these huge complicated functions
[07:44:45] <XMPPwocky> are you sure it should BE inlining these huge complicated functions?
[07:44:49] <iopq> XMPPwocky: but inlining them actually gives at least 10% performance boost at the cost of huge compile times
[07:44:52] <XMPPwocky> hm
[07:45:26] *** Quits: futile (felix@moz-7aqurh.hsi13.unitymediagroup.de) (Quit: WeeChat 1.0-dev)
[07:46:06] <iopq> I just search and replace inline annotations depending on whether I want to profile (then I inline never), build a release (inline always), or bench (comment out the inline annotation)
[07:46:30] <XMPPwocky> sounds like you need #[cfg_attr
[07:46:43] <iopq> what does that do
[07:46:49] <XMPPwocky> like #[cfg]
[07:46:52] <XMPPwocky> but for attributes
[07:46:53] *** Joins: zmack (zmack@moz-1oe.89t.76.82.IP)
[07:47:05] <iopq> what is #[cfg]
[07:47:17] <XMPPwocky> so you could turn on / off #[inline] / #[inline(always)] based on a config option
[07:47:34] <XMPPwocky> http://rustbyexample.com/attribute/cfg.html
[07:47:45] *** Joins: james4k_ (james@moz-gi3bll.consolidated.net)
[07:48:30] <XMPPwocky> "panicing" vs "panicking"- discuss.
[07:49:05] *** darkowlzz is now known as darkowlzz|afk
[07:49:07] *** Joins: killercup (killercup@moz-4udt1b.dip0.t-ipconnect.de)
[07:49:12] *** Quits: closures999 (closures999@moz-hbi.gpd.70.118.IP) (Ping timeout: 121 seconds)
[07:49:24] *** Quits: Shackra (Jorge@moz-7bh.ng6.177.186.IP) (Connection closed)
[07:49:38] *** Quits: jminer (Instantbird@moz-b1u.qch.163.66.IP) (Ping timeout: 121 seconds)
[07:49:49] <iopq> I think the purpose of the ck combo is to signify that the c is hard
[07:50:01] *** Joins: skade (skade@moz-0djl38.boh1-r2.syseleven.net)
[07:50:36] *** Quits: cptroot (Mibbit@moz-n169l8.caltech.edu) (Quit: http://www.mibbit.com ajax IRC Client)
[07:50:55] *** Quits: zmack (zmack@moz-1oe.89t.76.82.IP) (Ping timeout: 121 seconds)
[07:51:03] *** Quits: coxg (sazzer@moz-1hq.kh5.32.217.IP) (Ping timeout: 121 seconds)
[07:51:14] <iopq> XMPPwocky: so #[cfg_attr] doesn't even exist?
[07:51:25] <theme> iopq, it does, I think?
[07:51:26] <XMPPwocky> i thought it did
[07:51:58] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[07:51:58] <XMPPwocky> the syntax is lie
[07:52:09] <theme> the syntax is a lie?
[07:52:10] <iopq> I don't know, I can't find any example of it, but I found some proposals for it
[07:52:16] * theme translates syntax to cake
[07:52:16] <XMPPwocky> #[cfg_attr(profile, inline(always)]
[07:52:27] <XMPPwocky> #[cfg_attr(profile, inline(always))]
[07:52:28] <XMPPwocky> rather
[07:52:29] *** Joins: closures999 (closures999@moz-hbi.gpd.70.118.IP)
[07:52:40] <XMPPwocky> and then if run with the "profile" config setting, it'll inline
[07:53:21] *** Joins: akiss (akiss@moz-q030pk.inf.u-szeged.hu)
[07:53:57] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[07:54:14] <lfairy> iopq: here's an example in one of my projects -- https://github.com/lfairy/rust-errno/blob/e7fc6967490787c4154949d6bb90a42907b6d499/src/unix.rs#L63-L79
[07:54:18] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[07:55:30] <enjolras> XMPPwocky: well, slow buildtime is easy to get anyway : time rustc -O -A dead_code lib.rs : 0m7.95s real     0m7.59s user     0m0.15s system
[07:55:47] <enjolras> wc -l lib.rs : 1201
[07:56:15] *** Quits: giucam (giucam@moz-iv0nnc.bb.dnainternet.fi) (Connection closed)
[07:56:52] *** Joins: giucam (giucam@moz-iv0nnc.bb.dnainternet.fi)
[07:57:03] <iopq> XMPPwocky: how do I inline(always) if it's profile.release
[07:57:09] *** Joins: nowhere_man (pierre@moz-a2hgsr.abo.wanadoo.fr)
[07:57:09] *** Quits: killercup (killercup@moz-4udt1b.dip0.t-ipconnect.de) (Quit: Bye)
[07:57:12] <enjolras> it's cheating
[07:57:15] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[07:57:35] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[07:57:52] <iopq> #[cfg_attr(profile.release, inline(always))] or something?
[07:58:18] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[07:58:21] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[07:58:56] *** Joins: reem (reem@moz-o8hgs0.coob.q2h1.0009.2601.IP)
[07:59:16] *** Quits: kkus (kkus@moz-baj4jj.74.srtnet.com) (Ping timeout: 121 seconds)
[08:00:13] *** Joins: oberstet (quassel@moz-02jb9c.dynamic.mnet-online.de)
[08:00:42] *** Joins: demelev (demelev@moz-5qbmjd.dyn.idknet.com)
[08:00:47] *** Joins: bjz (bjz@moz-4l6.mjm.52.113.IP)
[08:01:23] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Client exited)
[08:01:45] *** Joins: omissis (omissis@moz-6mn.mb0.111.217.IP)
[08:02:26] *** Quits: forgottenone (forgottenon@moz-002.g2v.45.92.IP) (Ping timeout: 121 seconds)
[08:02:30] *** Quits: ok32 (ok32@moz-nc7pn3.broadband.corbina.ru) (Connection closed)
[08:02:51] *** Joins: ok32 (ok32@moz-nc7pn3.broadband.corbina.ru)
[08:03:32] *** Joins: laogao (laogao@moz-m3ssu7.members.linode.com)
[08:05:02] *** Joins: zmack (zmack@moz-1oe.89t.76.82.IP)
[08:05:08] <jiojiajiu> i want to send my closure as argument in another generic function, what defined as fn a<F: Fn(i64) -> i64> (f: F) ..
[08:05:33] <jiojiajiu> the problem that i've got error: the trait `core::ops::Fn<(devtools_traits::TimelineMarker, devtools_traits::TimelineMarker)>` is not implemented for the type `[closure ..
[08:05:42] *** Quits: bjz (bjz@moz-4l6.mjm.52.113.IP) (Ping timeout: 121 seconds)
[08:05:44] <jiojiajiu> in what problem could be?
[08:05:48] <michas> btw, how is that #[..] syntax called. what options are there? where is it documented? (I don't think the book does mention it anywhere.)
[08:05:51] *** Joins: coxg (sazzer@moz-1hq.kh5.32.217.IP)
[08:06:36] <iopq> jiojiajiu: you need to force it to be a trait object
[08:06:43] *** Quits: rouma (zack@moz-fsmfap.pekn.hg8m.2000.2604.IP) (Ping timeout: 121 seconds)
[08:06:58] *** Quits: ok32 (ok32@moz-nc7pn3.broadband.corbina.ru) (Ping timeout: 121 seconds)
[08:07:01] <jiojiajiu> @iopq here i don't see anything about deriving http://doc.rust-lang.org/book/closures.html#accepting-closures-as-arguments
[08:07:22] <jiojiajiu> @iopg just create closure and use it
[08:07:35] *** Quits: laogao (laogao@moz-m3ssu7.members.linode.com) (Ping timeout: 121 seconds)
[08:07:54] <iopq> jiojiajiu: sometimes you need to tell the compiler that your closure has the trait type because it can't figure it out by itself
[08:08:32] <iopq> let f: Fn(i64) -> i64 = |i| ...
[08:08:37] <jiojiajiu> @iopq hm, ok, but how to do it? #[derive(Fn)]
[08:08:49] <jiojiajiu> before let clos = || {.. ?
[08:08:54] *** Quits: fizzbooze (bp@moz-03sr6q.cable.rogers.com) (Ping timeout: 121 seconds)
[08:09:10] *** Joins: Ms2ger (Ms2ger@moz-j5v40r.isp.belgacom.be)
[08:09:14] <iopq> let clos: Fn(i64) -> i64 = |i| { ... }
[08:09:28] *** Joins: Guest40 (textual@moz-pgf.vsa.206.213.IP)
[08:09:41] <jiojiajiu> @iopg thank you!
[08:09:54] *** Joins: Rym (y@moz-vsu.f6d.55.31.IP)
[08:10:03] <Ms2ger> That works?
[08:10:19] <iopq> Ms2ger: I had the same issue in my FizzBuzz implementation
[08:10:53] <Ms2ger> michas, that's called an attribute
[08:11:35] <Ms2ger> Weird
[08:11:37] <lfairy> playbot: let f: Fn(i32) -> i32 = |i| 1 + i; f(1)
[08:11:39] -playbot- <anon>:14:33: 14:42 error: mismatched types:
[08:11:39] -playbot-  expected `core::ops::Fn(i32) -> i32`,
[08:11:39] -playbot- output truncated; full output at: http://bit.ly/1BVq2n6
[08:11:42] <ebfull> ya wat
[08:11:46] <ebfull> that shouldn't work
[08:12:03] <theme> iopq, let f: Fn... won't work
[08:12:08] *** Joins: glenc (glenc@moz-7ku.qb5.12.185.IP)
[08:12:29] <theme> iopq, `Fn(i64) -> i64` is a trait object
[08:12:33] <theme> which is not Sized
[08:12:35] <jiojiajiu> yes) it doesn't work
[08:12:41] <iopq> you may need to sprinkle &
[08:12:43] <theme> so you  can't make a variable of that type
[08:12:51] <theme> iopq, just remove the type annotation
[08:12:53] <theme> and it should work
[08:12:58] <lfairy> jiojiajiu: I'd like to see the code that causes the error
[08:13:05] <theme> a closure has an "anonymous" type
[08:13:16] <jiojiajiu> error: mismatched types:
[08:13:17] <jiojiajiu>  expected `core::ops::Fn(devtools_traits::TimelineMarker, devtools_traits::TimelineMarker)`,
[08:13:19] <jiojiajiu>     found `[closure
[08:13:29] <theme> jiojiajiu, code?
[08:13:29] <jiojiajiu> the same like in playbot
[08:13:36] <lfairy> jiojiajiu: not the error message, your code
[08:13:48] <jiojiajiu>  let emit: Fn(TimelineMarker, TimelineMarker) -> () = |start_payload: TimelineMarker, end_payload: TimelineMarker| {    
[08:13:49] <ebfull> playbot: let clos: &(Fn(i64) -> i64) = &|i| i;
[08:13:51] -playbot- ()
[08:14:05] *** Joins: hoony (Thunderbird@moz-olm.1t8.70.110.IP)
[08:14:16] <theme> jiojiajiu, iopq, read this: http://doc.rust-lang.org/nightly/book/static-and-dynamic-dispatch.html
[08:14:28] *** Quits: Rym (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[08:14:40] <iopq> theme: I'm aware
[08:15:05] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[08:15:09] <theme> iopq, and Fn(i64)->i64 is a trait
[08:15:27] <iopq> yeah, I ended up passing &Fn into my function
[08:15:31] *** Joins: robmiller (robmiller@moz-vi5.alb.250.94.IP)
[08:15:42] <theme> iopq, use static dispatch
[08:15:45] <iopq> pub fn cowbuzz<'a>(tuples: &[(&'a str, &Fn(i32) -> bool)], i: i32) -> CowString<'a>
[08:15:50] <theme> oh...
[08:16:01] <theme> a slice of fns
[08:16:12] *** Joins: akiss_ (akiss@moz-kij.q96.114.160.IP)
[08:16:15] <iopq> that's why I need to dynamically dispatch
[08:16:23] *** Joins: tigrou3tac (fabien@moz-gdonfo.fbx.proxad.net)
[08:16:31] *** Joins: chowmeined_ (chowmeined@moz-vqsrfv.wa.comcast.net)
[08:16:38] <lfairy> ebfull: you won't be able to call that unfortunately -- iirc the closure is dropped at the end of the let
[08:16:40] *** Quits: chowmeined (chowmeined@moz-vqsrfv.wa.comcast.net) (Connection closed)
[08:16:56] <lfairy> playbot: let clos: &(Fn(i64) -> i64) = &|i| i; clos(42)
[08:16:57] -playbot- 42
[08:17:06] <lfairy> crickey
[08:17:06] <lfairy> did they change it
[08:17:16] *** Quits: glenc (glenc@moz-7ku.qb5.12.185.IP) (Ping timeout: 121 seconds)
[08:17:22] <lfairy> ebfull: never mind
[08:17:50] <lfairy> playbot: let offset = 42; let clos: &(Fn(i64) -> i64) = &|i| i + offset; clos(1)
[08:17:52] -playbot- 43
[08:18:24] <theme> lfairy, note that that only works for literals
[08:18:31] <theme> In this case, a closure literal
[08:18:50] <arctanx> dumb question of the day... what do I need to be reading about if I want to find the index of a substring within a string slice? The std::str reference isn't helping a great deal
[08:19:00] *** Joins: pczarn (piotr@moz-9un7t9.izacom.pl)
[08:19:17] <Ms2ger> I don't know if that exists
[08:19:18] *** Joins: Tobba|Laptop (Tobba@moz-1hh.7ki.21.217.IP)
[08:19:21] *** Quits: akiss (akiss@moz-q030pk.inf.u-szeged.hu) (Ping timeout: 121 seconds)
[08:19:36] <lfairy> playbot: struct Wrapper<'a>(&'a Fn(i64) -> i64); let clos = Wrapper(&|i| i); (clos.0)(1)
[08:19:38] -playbot- <anon>:14:69: 14:74 error: borrowed value does not live long enough
[08:19:38] -playbot- <anon>:14         struct Wrapper<'a>(&'a Fn(i64) -> i64); let clos = Wrapper(&|i| i); (clos.0)(1)
[08:19:38] -playbot- output truncated; full output at: http://bit.ly/1a9XKA2
[08:19:42] <lfairy> here we go
[08:20:02] <theme> arctanx, that was moved to the primitive type str
[08:20:04] <lfairy> theme: that's the error I was trying to trigger
[08:20:11] <theme> lfairy, O_o
[08:20:39] <theme> arctanx, http://doc.rust-lang.org/nightly/std/primitive.str.html#method.find
[08:20:48] <lfairy> it might be a bug? who knows
[08:20:52] <theme> there's a bug in rustdoc so searching std won't find it
[08:21:23] <theme> playbot: struct Wrapper<'a> { val: &'a Fn(i64) -> i64 }; let clos = Wrapper { val: &|i| i }; (clos.0)(1)
[08:21:24] -playbot- <anon>:14:94: 14:100 error: attempted tuple index `0` on type `main::Wrapper<'_>`, but the type was not a tuple or tuple struct
[08:21:24] -playbot- <anon>:14         struct Wrapper<'a> { val: &'a Fn(i64) -> i64 }; let clos = Wrapper { val: &|i| i }; (clos.0)(1)
[08:21:24] -playbot- output truncated; full output at: http://bit.ly/1BVr02T
[08:21:29] <theme> playbot: struct Wrapper<'a> { val: &'a Fn(i64) -> i64 }; let clos = Wrapper { val: &|i| i }; (clos.val)(1)
[08:21:29] <arctanx> theme: ahah, I was wondering why I hadn't stumbled across it. thank you very much
[08:21:31] -playbot- 1
[08:21:35] <theme> wtf
[08:21:38] <theme> lfairy, ^
[08:21:52] <theme> apparently, tuple structs and normal structs are somehow different
[08:22:51] *** Joins: forgottenone (forgottenon@moz-002.g2v.45.92.IP)
[08:22:55] *** Quits: michas (michas@moz-tjq2ir.web.vodafone.de) (Connection closed)
[08:23:24] <iopq> self.game.play_move(m).map(|game| Node::new(game, m)).ok() is slower than an explicit match, any way to write it without a match that performs well?
[08:23:36] *** Quits: timonv (timonv@moz-1qu311.dynamic.ziggo.nl) (Ping timeout: 121 seconds)
[08:23:46] *** Quits: hoony (Thunderbird@moz-olm.1t8.70.110.IP) (Client exited)
[08:23:48] *** Quits: james4k_ (james@moz-gi3bll.consolidated.net) (Ping timeout: 121 seconds)
[08:23:51] <Ms2ger> Anyone who can diagnose an improper_ctypes warning?
[08:24:07] *** darkowlzz|afk is now known as darkowlzz
[08:24:10] <lfairy> theme: maybe tuple struct constructors are considered functions, and so try to consume their argument
[08:24:17] <lfairy> I don't know, just making stuff up here
[08:24:25] *** Joins: SneakySnake (nya@moz-i9is4u.pool.telekom.hu)
[08:24:46] <theme> iopq, .ok().map()?
[08:24:56] <theme> iopq, does that make it faster?
[08:25:06] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[08:25:24] *** Quits: Slava_I (slava@moz-5tn.ul0.216.178.IP) (Ping timeout: 121 seconds)
[08:25:38] *** Joins: BlaXpirit (blaxpirit@moz-0p00p1.pool.ukrtel.net)
[08:25:51] *** Quits: zmack (zmack@moz-1oe.89t.76.82.IP) (Connection closed)
[08:25:59] *** Quits: DemonOne (Avi@moz-4nrie5.red.bezeqint.net) (Connection closed)
[08:26:13] <iopq> theme: no, still slower
[08:26:35] <theme> iopq, no idea
[08:26:43] <theme> iopq, maybe rustc will optimize that soon
[08:26:55] <iopq> I wouldn't hold my breath
[08:27:04] <theme> -_-
[08:27:17] <iopq> how many hundreds of outstanding issues for rustc right now?
[08:28:22] *** Joins: munksgaard (munksgaard@moz-urnkl5.u.parknet.dk)
[08:28:29] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[08:29:05] *** Joins: Slava_I (slava@moz-5tn.ul0.216.178.IP)
[08:29:11] *** Joins: zmack (zmack@moz-1oe.89t.76.82.IP)
[08:29:14] *** Quits: areski (areski@moz-uuek6u.user.ono.com) (Ping timeout: 121 seconds)
[08:30:59] *** Joins: bjz (bjz@moz-puppgq.tpgi.com.au)
[08:31:23] *** Quits: fyolnish (fyolnish@moz-4f9iq2.ocn.ne.jp) (Connection closed)
[08:31:32] *** Joins: glendc (glendc@moz-lm5.ch9.159.212.IP)
[08:31:48] *** Joins: fyolnish (fyolnish@moz-4f9iq2.ocn.ne.jp)
[08:31:54] *** Quits: coxg (sazzer@moz-1hq.kh5.32.217.IP) (Ping timeout: 121 seconds)
[08:31:54] *** Joins: sugaku (sugaku@moz-24j.5gi.12.128.IP)
[08:32:37] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[08:33:12] *** Joins: MaxV (MaxV@moz-1nu.kln.167.83.IP)
[08:33:23] *** Quits: bojo (bojo@moz-oc096p.plala.or.jp) (Ping timeout: 121 seconds)
[08:33:47] *** Joins: lllshamanlll (Thunderbird@moz-tlc.puj.66.146.IP)
[08:34:33] *** Quits: deadc0de (chsitter@moz-lrh.035.31.94.IP) (Ping timeout: 121 seconds)
[08:35:18] *** Joins: kamilc__ (kamil@moz-i3euum.play-internet.pl)
[08:35:52] *** Quits: fyolnish (fyolnish@moz-4f9iq2.ocn.ne.jp) (Ping timeout: 121 seconds)
[08:35:56] *** Quits: sugaku (sugaku@moz-24j.5gi.12.128.IP) (Ping timeout: 121 seconds)
[08:36:52] *** Quits: lllshamanlll (Thunderbird@moz-tlc.puj.66.146.IP) (Client exited)
[08:37:05] *** Joins: ok32 (ok32@moz-nc7pn3.broadband.corbina.ru)
[08:37:18] *** Joins: coxg (sazzer@moz-1hq.kh5.32.217.IP)
[08:37:21] *** Joins: fyolnish (fyolnish@moz-4f9iq2.ocn.ne.jp)
[08:37:28] <mtsr> iopq: If you are certain that it's always Ok, you can transmute it, I think.
[08:37:29] *** Quits: CustosL1men (CustosLimen@moz-9fnnts.mtnbusiness.co.za) (Ping timeout: 121 seconds)
[08:37:38] <mtsr> But yeah, that is unsafe.
[08:37:50] *** Quits: morphy (Mibbit@moz-c70.u5s.65.112.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[08:38:34] *** Joins: ehiggs (ehiggs@moz-pob5cp.ugent.be)
[08:38:44] *** Quits: lfairy (lfairy@moz-8p3ka9.ihug.co.nz) (Connection closed)
[08:39:10] <ehiggs> Is there a pubsub trait api in the stdlib? I thought I saw one before but maybe it was some old docs. I can't find it anymore
[08:39:26] *** Quits: fyolnish (fyolnish@moz-4f9iq2.ocn.ne.jp) (Connection closed)
[08:39:26] <ehiggs> aka listener aka observer pattern api
[08:39:27] *** Joins: fyolnish (fyolnish@moz-4f9iq2.ocn.ne.jp)
[08:39:44] *** Quits: Guest40 (textual@moz-pgf.vsa.206.213.IP) (Quit: Textual IRC Client: www.textualapp.com)
[08:40:27] *** Joins: dtantsur (dtantsur@moz-1821b5.net.upcbroadband.cz)
[08:40:33] *** Quits: jml (jml@moz-mqpurn.178.in-addr.arpa) (Ping timeout: 121 seconds)
[08:41:50] *** Joins: gizmo (Mibbit@moz-ptc.oo5.19.193.IP)
[08:41:58] <gizmo> hello
[08:42:01] <ehiggs> otherwise, when I make a struct MySource { subscribers : Vec<&mut Sink<MyEventType>>} I'm told "hained comparison operators require parentheses"
[08:42:18] *** Joins: qdwang (qdwang@moz-54n.6cl.175.180.IP)
[08:42:31] <gizmo> how do i read binary file (without transmuting by hand) ?
[08:42:38] <Ms2ger> File::read?
[08:42:41] *** Joins: jml (jml@moz-mqpurn.178.in-addr.arpa)
[08:43:05] <theme> ehiggs, code?
[08:43:07] <gizmo> and how do i get f32 from it, for example&
[08:43:18] <theme> ehiggs, you have to use ::<...> somewhere
[08:43:23] <qdwang> rust regex is really slow. A Regex with 80 groups to match 150k text. V8 javascript using 0.5s, rust regex takes more than 30s
[08:43:54] <qdwang> js using `text.match(//g)`,  rust using find_iter
[08:43:57] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[08:43:59] <qdwang> what is wrong here?
[08:44:11] <gizmo> Or, alternativly how do i use Reader experimental trait from std::io?
[08:44:34] <gizmo> rustc says it doesnot exist
[08:44:54] <ehiggs> qdwang: obvious question: are you using cargo build --release or just cargo build?
[08:45:18] <qdwang> with --release
[08:47:15] *** Quits: demelev (demelev@moz-5qbmjd.dyn.idknet.com) (Ping timeout: 121 seconds)
[08:48:12] *** Joins: smohan (smohan@moz-m6j.f0d.244.121.IP)
[08:48:44] <qdwang> sry, maybe the print problem. I remove the print code, then it cut time to about 1s
[08:49:04] <iopq> what's more efficient than vec.iter().map().collect()
[08:49:19] <ehiggs> theme: http://pastebin.com/Fk0X3X8n
[08:49:58] <theme> ehiggs, line 36
[08:50:02] <theme> ehiggs, Vec::<...
[08:50:22] <theme> It's an ambiguity problem, so we need that ugly syntax
[08:50:38] *** Joins: BlaXpirit-UA (blaxpirit@moz-vha79b.pool.ukrtel.net)
[08:51:21] <qdwang> but still slower than v8 regex
[08:51:36] <qdwang> v8 regex is really fast
[08:52:44] *** Quits: BlaXpirit (blaxpirit@moz-0p00p1.pool.ukrtel.net) (Ping timeout: 121 seconds)
[08:52:47] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[08:52:54] <ehiggs> theme I had tried that but I get this: expected ident, found `<`
[08:52:55] *** Joins: Uther (Thunderbird@moz-gssp49.fbx.proxad.net)
[08:53:29] <Yurume> ehiggs: `subscriber: Vec::new(),` is sufficient.
[08:53:36] *** darkowlzz is now known as darkowlzz|afk
[08:53:38] <ehiggs> sorry I changed the wrong one. I changed the decl
[08:53:43] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[08:53:48] <Yurume> it leaves a hole in the type parameter, but this is filled by type inference.
[08:54:01] <ehiggs> it's pretty annoying to access static functions differently than variable decls
[08:54:33] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[08:54:39] <ehiggs> Yurume: thanks. I elided the underlying types
[08:54:39] *** Joins: alonlevy (alon@moz-4jqdpb.telavivmakers.org)
[08:54:40] <theme> ehiggs, hmm?
[08:54:47] *** Joins: shellac (pldms@moz-c7026f.bris.ac.uk)
[08:54:49] <theme> nvm
[08:55:24] <ehiggs> theme: Vec<&mut Sink<MyEvent>> as decl vs Vec::<&mut Sink<MyEvent>>::new() as static func access
[08:55:26] *** Joins: demelev (demelev@moz-5qbmjd.dyn.idknet.com)
[08:55:28] *** Joins: frankmcsherry (Mibbit@moz-s05.64c.177.91.IP)
[08:55:55] <theme> ehiggs, yes
[08:55:57] <theme> that's annoying
[08:56:08] <theme> but we don't want C++'s confusing ambiguities
[08:56:18] <theme> since we don't want slow compile times
[08:57:26] <Yurume> theme: I think that's not a rationale here, since this is mostly about the syntactic issue.
[08:57:29] <ehiggs> yeah i come from c++ with the mindset "learning rust will be great because then i wont have to deal with c++'s ridiculous warts" I mean I read all 3 scott meyers books; C++ gotchas, both exceptional C++ books... 
[08:57:46] <ebfull> type inference makes it so unusual for me to specify type parameters for anything
[08:57:48] <ehiggs> im just used to that particular brand of ridiculousness. gotta learn rust's warts now. :)
[08:57:50] *** Quits: jviereck (Adium@moz-q5q1dh.dclient.hispeed.ch) (Ping timeout: 121 seconds)
[08:58:18] <Yurume> ehiggs: even in C++, types and expressions do not mix well (*cough* typename *cough*). Rust tries to avoid that problem by clearly separating two contexts, and in result types in expr context are ugly.
[08:58:35] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[08:58:36] <frankmcsherry> Hello! I'm trying to write a trait resembling an iterator, with a fn pop<'a>(&'a self) -> Option<&'a T> type method. I'm not exactly clear on how to do the signature in the trait (i.e. to say "returns a reference with the same lifetime as &Self"). The iterator impls all seem to bake a new struct with the lifetime encoded as a generic param, avoiding this...
[08:58:37] *** Joins: areski (areski@moz-raunpv.dynamicIP.rima-tde.net)
[08:58:49] <ehiggs> having to use 'typename' is basically the answer i get when i am stuck with a compile error and have to consult the company language lawyer
[08:58:56] <Yurume> ehiggs: so it is considered a good practice to leave as much type definition as possible to the proper type context or inference.
[08:59:22] <Yurume> for example, `let x: Vec<T> = Vec::new();` is considered a better style than `let x = Vec::<T>::new();`.
[08:59:24] *** Joins: gonzaloserrano (Adium@moz-kd4oel.user.ono.com)
[08:59:26] <ehiggs> So I had another question: is there a pubsub/asio/observer/listener type api in rust?
[08:59:45] <Yurume> I think mio is trying to get there.
[08:59:47] <theme> frankmcsherry, code?
[08:59:50] *** Joins: jnicklas (dev@moz-922jbo.sme.bredbandsbolaget.se)
[08:59:51] <Yurume> I haven't used mio by myself, so YMMV.
[09:00:00] <frankmcsherry> Maybe a better question: what is a good way to "workshop" ideas/questions? I have a bunch of problems that are not so much "I'm missing one line of code", but not "issue with Rust that needs attention"
[09:00:13] <ebfull> frankmcsherry: play.rust-lang.org
[09:00:13] <theme> frankmcsherry, btw I think it should be `fn pop(&mut self) -> Option<T>`
[09:00:16] *** Joins: glenc (glenc@moz-7ku.qb5.12.185.IP)
[09:00:34] *** darkowlzz|afk is now known as darkowlzz
[09:00:34] <frankmcsherry> Somewhere closer to a design question that could be "you are doing it wrong, see XYZ" or, "weird, let's work on that".
[09:00:36] <theme> frankmcsherry, there is more than one way to do that
[09:00:52] <theme> frankmcsherry, in that case, I suggest http://internals.rust-lang.org/
[09:01:01] *** Joins: mib_24mh5b (Mibbit@moz-2s6.ppr.9.185.IP)
[09:01:25] *** Quits: mib_24mh5b (Mibbit@moz-2s6.ppr.9.185.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[09:02:40] *** Joins: [afk]Soarez (Soarez@moz-grf.23u.85.95.IP)
[09:03:07] <frankmcsherry> theme: that sounds smart. perhaps just the act of writing it down so that others can understand it more clearly will help. durned Rust works great when it makes sense, and hurts my brain other times. >.<
[09:03:23] <theme> frankmcsherry, erm... ok
[09:03:38] <theme> btw
[09:03:41] <theme> what is "durned"?
[09:03:49] <ebfull> lol
[09:04:04] *** Joins: Rym (y@moz-vsu.f6d.55.31.IP)
[09:04:07] <frankmcsherry> theme: I guess it was meant to be a less obnoxious form of "darned". 
[09:04:10] *** Joins: gonzaloserrano1 (Adium@moz-1nv.3t7.97.62.IP)
[09:04:21] <frankmcsherry> theme: because I do like rust, but ... oooo! It vexes me!
[09:04:30] <theme> ???
[09:04:39] * theme looks up "vex"
[09:04:52] <ebfull> theme: hey let's be nice :(
[09:04:52] <frankmcsherry> theme: ok, that is totally a word.
[09:05:12] <theme> ...
[09:05:17] <theme> :/
[09:05:28] *** Quits: gonzaloserrano (Adium@moz-kd4oel.user.ono.com) (Ping timeout: 121 seconds)
[09:05:56] *** AutomatedTester|AFK is now known as AutomatedTester
[09:06:25] *** Quits: glenc (glenc@moz-7ku.qb5.12.185.IP) (Ping timeout: 121 seconds)
[09:07:20] *** Quits: coxg (sazzer@moz-1hq.kh5.32.217.IP) (Ping timeout: 121 seconds)
[09:07:40] *** Joins: CustosL1men (CustosLimen@moz-43o.etd.160.41.IP)
[09:08:38] *** Quits: Rym (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[09:08:51] <Yurume> frankmcsherry, ebfull: I think they are not well known words to non-native speakers including me :)
[09:09:54] *** Joins: espadrine (tyl@moz-qfr4fg.abo.wanadoo.fr)
[09:10:03] <frankmcsherry> theme: A short version of what I am trying to do is at http://is.gd/V9gVEp . Ignoring the correctness of the pop impl, trying to get lifetimes right for an implementation of a push/pop trait that returns slices internal to its structure.
[09:10:28] *** darkowlzz is now known as darkowlzz|afk
[09:10:39] <theme> frankmcsherry, http://is.gd/NyGmpO
[09:10:47] <ebfull> oh i'm sorry theme
[09:10:47] <theme> modified to show the real error
[09:11:02] <theme> ???
[09:11:06] * theme is confused
[09:11:19] <frankmcsherry> theme: and my inability to go between &[u8] and &str, which is probably where the lifetime complaint would arise; but, not really clear that I've understood the borrowing properly.
[09:11:38] *** Joins: coxg (sazzer@moz-1hq.kh5.32.217.IP)
[09:11:44] <frankmcsherry> Yes, sorry the Default thing is a red herring. Can be added/deleted appropriately (just did a copy paste to put the corresponding bits in place).
[09:12:41] *** Joins: marc_ (uid5324@moz-t3einu.ealing.irccloud.com)
[09:13:00] <frankmcsherry> theme: The part I'm confused about how to do properly is in the pop method, where I'd like to return an Option<&'a str> for some value of 'a that is correct (most likely related to &mut self)
[09:13:08] *** Joins: lucian (lucian@moz-iuo.htl.74.194.IP)
[09:13:08] <theme> frankmcsherry, I am thinking...
[09:13:53] *** Quits: dougxxx (dougxxx@moz-0js00c.iinet.net.au) (Quit: Leaving...)
[09:14:57] <frankmcsherry> theme: if it were a one-off method, I'd use pop<'a>(&'a self) -> Option<&'a str> I think, but that annoys the trait signature. Putting a 'a in the trait definition seems to make the &'a self angry ("expected bound lifetime, found concrete lifetime", or similar error).
[09:15:21] <theme> frankmcsherry, found a way to convert between [u8] and str
[09:15:22] <theme> http://is.gd/pwSc49
[09:15:27] <theme> now... the lifetimes
[09:18:42] <theme> frankmcsherry, ok... we have a little problem here
[09:18:49] <frankmcsherry> theme: It feels like something akin to "where Self : 'a" would work, but no. :)
[09:18:51] <theme> frankmcsherry, I think you should use String instead of &str
[09:18:57] *** Joins: dfoelber (dfoelber@moz-obfuab.fios.verizon.net)
[09:19:10] <theme> frankmcsherry, oh... wait
[09:19:12] <frankmcsherry> theme: Ah, so. I have a String impl already, and I'm trying to get a copy-free version.
[09:19:51] <theme> frankmcsherry, apparently, rustc protected you from incorrect code :P
[09:20:02] *** suvash is now known as suvash_away
[09:20:07] <theme> frankmcsherry, it is probably impossible to do this without copies
[09:20:28] *** Quits: khades (khades@moz-ual.b31.186.31.IP) (Quit: Lost terminal)
[09:20:28] *** Quits: gonzaloserrano1 (Adium@moz-1nv.3t7.97.62.IP) (Quit: Leaving.)
[09:20:32] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[09:20:33] <theme> frankmcsherry, after popping, does the corresponding Vec<u8> elements get removed?
[09:20:47] <theme> what happens if you pop then push?
[09:20:55] <frankmcsherry> theme: but, what is the incorrect code? I'm pretty sure I could write this if I weren't using a trait.
[09:21:12] <frankmcsherry> theme: ok, lemme sort it out. (I think there is a correct version, but it may be underspecified at the moment).
[09:21:50] *** Joins: DerisiveLogic (smuxi@moz-g93io6.res.rr.com)
[09:22:04] <theme> frankmcsherry, another method requires unsafe code
[09:22:23] *** Joins: dodo (dodo@moz-trg.cj2.196.66.IP)
[09:22:24] <frankmcsherry> theme: at the moment, it doesn't get removed (in a correct version, it should of course). but, it seems that what is written (hand back a slice pointing at some of the bytes in Vec) should be safe even if it is not correctly implementing a stack at the moment. :)
[09:22:28] *** Joins: khades (Thunderbird@moz-ual.b31.186.31.IP)
[09:22:59] *** Quits: dfoelber (dfoelber@moz-obfuab.fios.verizon.net) (Ping timeout: 121 seconds)
[09:23:15] <frankmcsherry> theme: imagine we just removed the 'push' method, and wanted to walk over some slices (or just repeatedly return the first slice, as in this case). it seems like that still gets tripped up by the lifetimes.
[09:23:56] <theme> ok...
[09:24:21] <theme> frankmcsherry, the pop() method
[09:24:29] *** Quits: simias (simias@moz-hesd72.svkt.org) (Ping timeout: 121 seconds)
[09:24:37] <theme> what the heck does that do, again?
[09:24:40] <theme> lemme check
[09:24:58] *** Joins: yeahnoob (Xanadu@moz-ku8.ugi.122.118.IP)
[09:25:09] <frankmcsherry> theme: sorry, all that it really wants to do is take some owned memory (a Vec<u8> here) and return a &[u8] from a &mut self.
[09:25:27] *** Quits: glendc (glendc@moz-lm5.ch9.159.212.IP) (Ping timeout: 121 seconds)
[09:25:52] *** Quits: DerisiveLogic (smuxi@moz-g93io6.res.rr.com) (Ping timeout: 121 seconds)
[09:25:55] <theme> frankmcsherry, this *does* compile
[09:25:55] <theme> http://is.gd/arEcDU
[09:26:03] <theme> not sure why we need the temporary
[09:26:25] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[09:26:28] *** Quits: dawehner (quassel@moz-6aq1ua.hsi7.kabel-badenwuerttemberg.de) (Quit: No Ping reply in 180 seconds.)
[09:26:29] *** Joins: moonglum (moonglyn@moz-ric4rk.unity-media.net)
[09:26:43] <frankmcsherry> theme: oh weird. Ok. I had not considered that because I thought Rust would hate me for a lifetime that wasn't much used.
[09:26:45] <theme> frankmcsherry, maybe this is better: http://is.gd/2mssee
[09:27:14] <theme> frankmcsherry, it's just that the Option<&'a str> borrows from &'a mut self
[09:27:23] <frankmcsherry> theme: ok, that looks like a great start (for now making the code work correctly!).
[09:27:25] <theme> and we but that doesn't match the original trait
[09:27:28] *** Joins: lenstr (lenstr@moz-gkn.vju.25.171.IP)
[09:27:32] <theme> frankmcsherry, there is a little problem
[09:27:45] *** Joins: dawehner (quassel@moz-6aq1ua.hsi7.kabel-badenwuerttemberg.de)
[09:27:55] <theme> frankmcsherry, making this code correct requires unsafe code
[09:28:15] <frankmcsherry> theme: hrm. why do you say that? (not that I don't believe you).
[09:28:20] <theme> frankmcsherry, wait a sec
[09:28:27] <theme> frankmcsherry, your code is weird
[09:28:39] <theme> this stack pushes at the end and pops at the front?
[09:28:48] *** Quits: sprang (sprang@moz-d0kmvi.12d9.sm5v.0009.2601.IP) (Ping timeout: 121 seconds)
[09:29:15] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[09:29:32] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[09:29:42] <frankmcsherry> theme: usually it pushes and pops from the end, but in this case, as it is handing slices back, it does them in order. Perhaps you should think of self.1[..count] as being self.1[(self.1.len() - count) ..]
[09:29:56] <frankmcsherry> theme: this is part of the code that isn't yet correct. :)
[09:30:14] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[09:30:16] *** Joins: mgottschlag (quassel@moz-nlhdmn.qiv1.bbcb.1398.2a00.IP)
[09:31:12] <theme> frankmcsherry, the thing is that if you remove some elements from the end of the Vec, they get dropped unless you copy/clone them
[09:31:15] *** Joins: summerlight (summerlight@moz-99k.2mj.130.121.IP)
[09:31:18] *** Quits: dawehner (quassel@moz-6aq1ua.hsi7.kabel-badenwuerttemberg.de) (Quit: No Ping reply in 180 seconds.)
[09:31:18] <theme> frankmcsherry, so you need some unsafe code
[09:31:45] <frankmcsherry> theme: I think what I should probably do (current guess) is not pop them, until the None case where I do self.1.clear().
[09:31:49] *** Joins: tomprogrammer (thomas@moz-v27rsp.tr5r.qept.4dd0.2001.IP)
[09:32:04] <theme> frankmcsherry, what if you pop it and then push it?
[09:32:33] *** Joins: dawehner (quassel@moz-6aq1ua.hsi7.kabel-badenwuerttemberg.de)
[09:32:42] *** Joins: snoj (jonsaw@moz-6rl.m3o.122.121.IP)
[09:32:46] <theme> frankmcsherry, unsafe code is used a lot in container code
[09:32:52] <theme> so I think it should be OK in this case
[09:33:01] <frankmcsherry> theme: from a correctness point of view, or a safety point of view? I'm hoping it stays memory safe (lemme know if you think otherwise) and ... yeah, the intended use is (push^*, pop^*, clear)^*
[09:33:09] *** Quits: demelev (demelev@moz-5qbmjd.dyn.idknet.com) (Ping timeout: 121 seconds)
[09:33:16] <theme> frankmcsherry, correctness 
[09:33:21] <theme> and safety for users
[09:33:22] <nwin> How can I use features in [lib]? It seems to be ignored…
[09:33:23] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[09:33:25] <frankmcsherry> theme: yes, totally broken in that case. :D
[09:33:34] <theme> nwin, put them in lib.rs?
[09:33:50] <frankmcsherry> theme: but I can fix that, I think.
[09:33:53] <nwin> theme: no Carto.toml
[09:33:58] <nwin> Cargo.toml
[09:34:03] <theme> nwin, I dunno....
[09:34:19] *** Quits: dinfuehr (dinfuehr@moz-c25.u8s.112.91.IP) (Connection closed)
[09:34:48] <frankmcsherry> theme: for example, keeping a "last valid" number around, not popping elements in "pop", but rather in the next call to either push or pop. Or, maybe thinking of a better trait definition that separates push and pop, and a RAII guard for each.
[09:34:52] *** Quits: rootnode (rootnode@moz-e9j13d.vpn.rwth-aachen.de) (Ping timeout: 121 seconds)
[09:35:11] <theme> frankmcsherry, maybe that doesn't need unsafe code
[09:35:15] <frankmcsherry> theme: but explaining the memory safety to Rust was blocking me. This has helped tremendously!
[09:35:19] <theme> frankmcsherry, you can keep the "last valid" member
[09:35:22] <theme> number
[09:35:31] *** Quits: aravindavk (aravinda@moz-m6j.f0d.244.121.IP) (Ping timeout: 121 seconds)
[09:35:51] <theme> frankmcsherry, and the lifetimes ensure that the &'a str gets dropped before the next call to whatever
[09:35:56] *** Quits: qdwang (qdwang@moz-54n.6cl.175.180.IP) (Quit: http://www.kiwiirc.com/ - A hand crafted IRC client)
[09:36:30] <frankmcsherry> theme: yup. this is the part of Rust that I love: that guarantee. :D
[09:36:34] *** Joins: nicoch (nicoch@moz-g02d7k.be)
[09:36:41] *** Joins: Gabriel_7 (Gabriel@moz-po3t0n.loria.fr)
[09:36:48] <theme> :)
[09:36:55] *** Quits: jnicklas (dev@moz-922jbo.sme.bredbandsbolaget.se) (Client exited)
[09:37:08] <theme> however, I feel that the enums are the best part of rust :P
[09:37:20] *** Joins: Nextra (Nextra@moz-00nguj.dip.osnanet.de)
[09:37:32] <frankmcsherry> theme: okies, off to catch a train and work this out. thanks again (and enums are great; I've written much more robust code because of them!).
[09:37:42] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[09:37:43] <theme> Rust is one of the few programming languages that are not functional but have this flavor of enums
[09:37:49] <theme> frankmcsherry, :)
[09:37:54] *** Quits: dtantsur (dtantsur@moz-1821b5.net.upcbroadband.cz) (Quit: Leaving)
[09:37:54] *** Quits: frankmcsherry (Mibbit@moz-s05.64c.177.91.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[09:38:15] *** Quits: _ixti_ (ixti@moz-i3d.dae.119.188.IP) (Ping timeout: 121 seconds)
[09:38:24] *** Quits: nrc (nrc@moz-4bhi2i.xtra.co.nz) (Ping timeout: 121 seconds)
[09:38:40] *** Quits: dmac (dmac@moz-2ig65r.ca.comcast.net) (Connection closed)
[09:40:31] *** Joins: jnicklas (dev@moz-922jbo.sme.bredbandsbolaget.se)
[09:40:40] *** Joins: dinfuehr (dinfuehr@moz-c25.u8s.112.91.IP)
[09:42:28] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[09:42:53] *** Joins: glenc (glenc@moz-7ku.qb5.12.185.IP)
[09:43:11] *** glenc is now known as glendc
[09:44:30] *** Joins: lllshamanlll (Thunderbird@moz-tlc.puj.66.146.IP)
[09:44:40] *** Quits: coxg (sazzer@moz-1hq.kh5.32.217.IP) (Ping timeout: 121 seconds)
[09:44:54] *** Joins: lllshama1 (Thunderbird@moz-tlc.puj.66.146.IP)
[09:45:32] *** Quits: lllshamanlll (Thunderbird@moz-tlc.puj.66.146.IP) (Connection closed)
[09:45:32] *** Quits: lllshama1 (Thunderbird@moz-tlc.puj.66.146.IP) (Connection closed)
[09:46:30] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[09:46:44] <nwin> I didn’t know Rust even had fat raw pointers…
[09:46:59] *** suvash_away is now known as suvash
[09:47:23] *** Quits: sirGusWrk (Gustav@moz-bo7slh.sme.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[09:48:40] <theme> nwin, O_o
[09:48:42] <theme> wtf
[09:49:05] <theme> I wonder how that affects unsafe code...
[09:49:08] <gizmo> Rust had to have means to parse numbers from binary byte representation, and now i can't find them, are there alternatives?
[09:49:13] *** Quits: Tobba|Laptop (Tobba@moz-1hh.7ki.21.217.IP) (Connection closed)
[09:49:18] <nwin> theme: well that is fine because the compiler warns you…
[09:49:18] *** Joins: Tobba|Laptop (Tobba@moz-1hh.7ki.21.217.IP)
[09:49:23] <Mutabah> gizmo: Crates.io crates
[09:49:41] <Mutabah> gizmo: I don't remember which was the most popular, but I think there's several alternatives
[09:49:47] *** Quits: cursivecode (textual@moz-4u56i9.res.bhn.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[09:49:54] <gizmo> ok thanks
[09:50:11] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[09:52:07] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[09:52:09] *** Quits: zmack (zmack@moz-1oe.89t.76.82.IP) (Connection closed)
[09:52:55] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[09:53:06] <RCIX> alright
[09:53:08] *** Joins: demelev (demelev@moz-5qbmjd.dyn.idknet.com)
[09:53:20] *** Joins: nano (nano@moz-00j6et.dynamic.kabel-deutschland.de)
[09:53:30] <ebfull> alright :)
[09:53:34] <RCIX> haha
[09:53:41] <RCIX> my compiler told me to use std::convert::AsRef instead of .as_slice, and i cant tell what its talking about
[09:53:42] <gizmo> i find crates descriptions very compelling
[09:53:55] <RCIX> is there a change or commit somewhere i can read to explain that
[09:53:57] <ebfull> RCIX: what are you doing as_slice on?
[09:54:02] <RCIX> strings
[09:54:11] <ebfull> just borrow it &foo (where foo: String)
[09:54:28] *** Joins: twipeD (wipeD@moz-m2khlq.dip0.t-ipconnect.de)
[09:54:29] <ebfull> if that doesn't work do &*foo (where foo: String)
[09:55:02] <ebfull> &String impl Deref<&str>, it's autoderef'd in some areas of the language
[09:55:38] <RCIX> that seemed to work
[09:55:43] *** Joins: vmx (vmx@moz-jvcq83.pools.vodafone-ip.de)
[09:56:26] <RCIX> now for why it's telling me that my serialize import is deprecated in favor of the rustc-serialize importa on crates.io
[09:56:38] <RCIX> when i have that dependency in my cargo.toml
[09:57:01] <ebfull> should be doing extern crate rustc_serialize;
[09:57:31] <ebfull> doing a rustup i see? ;)
[09:57:33] *** Joins: kmicu1 (kmicu@moz-uga.edn.218.91.IP)
[09:58:04] *** Quits: kmicu (kmicu@moz-uga.edn.218.91.IP) (Connection closed)
[09:58:14] *** Joins: Rym (y@moz-vsu.f6d.55.31.IP)
[09:58:14] <RCIX> well, upgrading yes, but im on windows :P
[09:58:24] <RCIX> src\main.rs:7:17: 8:3 error: unresolved import `serialize::json`. Maybe a missing `extern crate serialize`?
[09:58:26] <RCIX> ಠ_ಠ
[09:58:52] <RCIX> wait hm
[09:59:13] <RCIX> mayber im using the wrong use
[09:59:15] <ebfull> oh, you should do extern crate "rustc-serialize" as serialize;
[09:59:20] <ebfull> makes all your imports work
[09:59:20] *** Joins: ericsuh (eric@moz-p18m7l.ca.comcast.net)
[09:59:21] *** Quits: ericsuh (eric@moz-p18m7l.ca.comcast.net) (Client exited)
[09:59:33] <ebfull> i think extern crate rustc_serialize as serialize; will work as well now
[09:59:48] <ebfull> hypens/underscores are interchangable in that context
[10:00:04] <RCIX> yeah that
[10:00:05] <RCIX> was it
[10:00:12] <RCIX> i had to use rustc_serialize
[10:00:13] *** Joins: dardevelin (dardevelin@moz-a3ode1.adslplus.ch)
[10:00:15] *** Quits: theme (theme@moz-i3mhhb.asianet.co.th) (Connection closed)
[10:00:49] <RCIX> okay now to go figure out decoding api
[10:01:33] *** Quits: tomprogrammer (thomas@moz-v27rsp.tr5r.qept.4dd0.2001.IP) (Quit: WeeChat 1.1.1)
[10:02:28] *** Joins: nical (nical@moz-ptdvfc.lmuk.1rfi.0450.2001.IP)
[10:02:38] *** Quits: andresv (Mibbit@moz-m48tte.sta.estpak.ee) (Quit: http://www.mibbit.com ajax IRC Client)
[10:02:38] *** Joins: tomprogrammer (thomas@moz-g4k46g.tr5r.qept.4dd0.2001.IP)
[10:02:51] *** Quits: khades (Thunderbird@moz-ual.b31.186.31.IP) (Ping timeout: 121 seconds)
[10:03:34] *** Joins: bojo (bojo@moz-uin660.ocn.ne.jp)
[10:03:35] *** Quits: shellac (pldms@moz-c7026f.bris.ac.uk) (Connection closed)
[10:03:55] *** Quits: Rym (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[10:04:08] *** Quits: _zxq9_ (ceverett@moz-qsm369.mesh.ad.jp) (Ping timeout: 121 seconds)
[10:04:28] *** suvash is now known as suvash_away
[10:05:18] *** Joins: _zxq9_ (ceverett@moz-qsm369.mesh.ad.jp)
[10:05:21] <RCIX> dumb question time
[10:05:34] *** Joins: _ixti_ (ixti@moz-i3d.dae.119.188.IP)
[10:05:56] <RCIX> can i loop for x times without using a variable that rust will proceed to warn me ts unused?
[10:07:38] *** Joins: aravindavk (aravinda@moz-so4.f0d.244.121.IP)
[10:07:51] <lyxia> for _ in 0..x {}
[10:08:28] *** Joins: james4k_ (james@moz-gi3bll.consolidated.net)
[10:08:31] <RCIX> ty
[10:08:35] *** Joins: laogao (laogao@moz-m3ssu7.members.linode.com)
[10:08:46] <lyxia> You're welcome.
[10:09:37] <ehiggs> I'm a bit confused on the syntax for generic traits. http://is.gd/TskESC
[10:09:50] <jiojiajiu> may i create object from struct literal, for example: 
[10:10:09] <jiojiajiu> let a: Trait = { a: 1, b: 2} ?
[10:10:25] <ehiggs> If I don't have the <T> on impl Sink<T> for Printer<T> { ... then I am told I am missing a type arg. If I add it then I am told I'm not using the type (when I am...) 
[10:10:31] <RCIX> jiojiajiu, i think thats
[10:10:50] <Ms2ger> impl<T> Sink<T> for Printer<T>
[10:10:55] <Ms2ger> ehiggs, ^
[10:11:05] <RCIX> let a : Trait = Trait {a: 1, b: 2};
[10:11:11] <RCIX> where trait is the name of your struct
[10:11:20] <ehiggs> Ms2ger: thanks. 
[10:12:32] *** Quits: james4k_ (james@moz-gi3bll.consolidated.net) (Ping timeout: 121 seconds)
[10:12:57] *** Joins: timonv (timonv@moz-7btgcn.dynamic.ziggo.nl)
[10:14:24] <jiojiajiu> @RCIX i've got error: use of trait `JsonPacketStream` as a struct constructor 
[10:14:39] <jiojiajiu> @RCIX let reply: JsonPacketStream = JsonPacketStream {
[10:14:53] <RCIX> ah 
[10:14:59] <RCIX> you have a trait not a struct
[10:15:07] <jiojiajiu> @RCIX yes)
[10:15:23] <RCIX> youll need to find a relevant struct implementing that trait
[10:15:27] <RCIX> and create one of those
[10:15:29] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[10:15:57] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[10:16:32] *** Joins: shellac (pldms@moz-c7026f.bris.ac.uk)
[10:16:57] <jiojiajiu> @RCIX but if in common: i couldn't create object via struct literal? as let a = {b: 1} ?
[10:17:48] *** Quits: mgottschlag (quassel@moz-nlhdmn.qiv1.bbcb.1398.2a00.IP) (Ping timeout: 121 seconds)
[10:17:49] *** Quits: Johannes (Johannes@moz-4et8d7.ocn.ne.jp) (Connection closed)
[10:18:05] <glendc> jiojiajiu: you need to prepend the struct name
[10:18:13] <RCIX> if im understanding you correctly, i dont think rust supports anonymous structs at this time
[10:18:14] <glendc> as in let a = Foo { b: 1}
[10:18:36] <ebfull> jiojiajiu probably is thinking of inheritance, which rust doesn't have yet
[10:18:43] <jiojiajiu> @RCIX ok, i've understood
[10:18:58] <glendc> oh yeah and anonymous structs don't exist yet
[10:19:10] <glendc> in worst case you can always go for a struct tuple if you want something similar
[10:19:13] <jiojiajiu> @ebfull @glendc thank you, i hope that i could create object without creating separated type
[10:19:30] <ebfull> oh you definitely have to create the type
[10:19:34] <glendc> in which case you could just do let a = { 1 }
[10:19:43] *** Quits: laogao (laogao@moz-m3ssu7.members.linode.com) (Ping timeout: 121 seconds)
[10:19:48] <glendc> but you lose the benifit of having the member name to reference to b in that case
[10:19:48] *** Joins: paullepoulpe (paullepoulp@moz-5fs.qdm.218.85.IP)
[10:20:01] *** Joins: playjax (chatzilla@moz-m2t78f.optusnet.com.au)
[10:20:07] <ebfull> jiojiajiu: you could use a tuple if you'd like to not create a separate type, but they aren't as flexible
[10:20:10] <ebfull> depends on what you're doing
[10:20:16] <ebfull> let a = ("hello", 1);
[10:20:30] *** Joins: michas (michas@moz-tjq2ir.web.vodafone.de)
[10:22:03] *** Joins: infynyxx (infynyxx@moz-nh1qrt.nj.comcast.net)
[10:22:35] <glendc> or a tuple as ebfull states
[10:22:53] <glendc> but if you keep your struct private, you have a similar affect as having it anonymous
[10:23:13] <jiojiajiu> @ebfull but tuples couldn't have traits and methods? (not tuple type)
[10:23:41] *** Quits: fyolnish (fyolnish@moz-4f9iq2.ocn.ne.jp) (Connection closed)
[10:24:33] *** Joins: gonzaloserrano (Adium@moz-1nv.3t7.97.62.IP)
[10:24:35] *** Quits: yeahnoob (Xanadu@moz-ku8.ugi.122.118.IP) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[10:24:40] <glendc> no they can't jiojiajiu 
[10:24:54] <glendc> but i think you can even declare a struct type in a function body
[10:25:04] <demelev> playbot: let a = [0]; let b: &[_] = &[0]; assert_eq!(a, b);
[10:25:06] -playbot- ()
[10:25:09] <glendc> although i'm not sure at all of that
[10:25:19] *** Quits: _ixti_ (ixti@moz-i3d.dae.119.188.IP) (Ping timeout: 121 seconds)
[10:25:41] *** Joins: laogao (laogao@moz-m3ssu7.members.linode.com)
[10:26:10] <RCIX> i... wait
[10:26:18] <RCIX> so there's the read trait in IO
[10:26:21] <RCIX> which says on read
[10:26:31] <RCIX> OH
[10:26:39] <RCIX> never mind it's talking in terms of implementation, not usage
[10:26:51] <ebfull> you can impl _your own_ trait for a tuple
[10:27:23] <RCIX> this part confuses me though: All bytes read from this source will be appended to the specified buffer buf. This function will return a call to read either:
[10:27:28] *** Quits: reem (reem@moz-o8hgs0.coob.q2h1.0009.2601.IP) (Connection closed)
[10:27:30] <RCIX> and the conditions
[10:27:47] <RCIX> so is it saying it operates like an iterator over chained read calls till the EOF?
[10:27:51] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[10:27:53] <RCIX> sorry, in read_to_end
[10:28:03] *** Quits: psy (psy@moz-ous.ntd.6.103.IP) (Ping timeout: 121 seconds)
[10:28:05] <glendc> oh ebfull, can you collaborate on that?
[10:28:11] <glendc> with an example perhaps
[10:28:15] <glendc> as I've not seen that before i think
[10:28:20] <ebfull> glendc: http://is.gd/7lB9he
[10:28:39] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[10:29:12] <glendc> so that means that from then on, when the compiler pattern matches that type of typle, it will have that trait functionality?
[10:29:40] <ebfull> glendc: when the trait is in scope yea
[10:29:47] <glendc> I suppose in practice you would at least want that tupple give a type, no?
[10:30:00] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[10:30:29] <jiojiajiu> 0
[10:30:46] <jiojiajiu> execuse me
[10:32:26] *** Joins: coxg (sazzer@moz-1hq.kh5.32.217.IP)
[10:32:29] <ebfull> glendc: what do you mean
[10:33:17] *** Quits: errordeveloper (ilya@moz-ak1.d0i.5.94.IP) (Ping timeout: 121 seconds)
[10:33:20] *** Joins: errordeveloper (ilya@moz-ak1.d0i.5.94.IP)
[10:33:38] <ebfull> glendc: http://is.gd/U0JNli
[10:33:51] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[10:34:07] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[10:35:25] <glendc> Oh I meant that you probably want to do sth like `type MyTuple = (&'static str, usize);` and use that type instead no? As you'll probably going to be needing that type quite a lot
[10:35:49] <ebfull> in this example, the type is already Self
[10:35:55] <ebfull> so in the impl's, we know the type
[10:36:16] <ebfull> in the provided functions of the trait yeah, we could use Self instead
[10:37:15] <glendc> does anybody know btw if there's already sth like the go-slides in rust, where you can have also rust playground frames?
[10:37:34] *** Quits: moonglum (moonglyn@moz-ric4rk.unity-media.net) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[10:37:36] *** Joins: moonglum (moonglyn@moz-ric4rk.unity-media.net)
[10:38:05] *** Joins: pyfisch_ (pyfisch@moz-aid8cb.9id6.l129.0908.2a02.IP)
[10:38:05] <glendc> sth like https://talks.golang.org/ which is the Go version
[10:38:07] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[10:38:22] <glendc> oh no wait, wrong url
[10:38:29] *** Quits: bojo (bojo@moz-uin660.ocn.ne.jp) (Ping timeout: 121 seconds)
[10:38:59] *** Joins: _ixti_ (ixti@moz-i3d.dae.119.188.IP)
[10:39:09] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[10:39:45] <gizmo> how do i iterate over range? http://is.gd/ox3DRy
[10:40:15] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Connection closed)
[10:40:40] <ebfull> gizmo: http://is.gd/KOhDKt
[10:40:46] <ebfull> 0..42 is, itself, an iterator
[10:40:55] *** Joins: daschl (Adium@moz-oirn1i.vie.surfer.at)
[10:41:03] <glendc> https://godoc.org/golang.org/x/tools/cmd/present
[10:41:05] <glendc> that's the url I think
[10:41:32] *** Quits: lenstr (lenstr@moz-gkn.vju.25.171.IP) (Ping timeout: 121 seconds)
[10:41:59] *** Quits: laogao (laogao@moz-m3ssu7.members.linode.com) (Ping timeout: 121 seconds)
[10:42:10] *** Joins: pnkfelix (pnkfelix@moz-6v5.3nd.202.89.IP)
[10:42:10] *** ChanServ sets mode: +o pnkfelix
[10:42:25] <nwin> How do I link against a Rust library? gcc -l<lib> does not find the library unless I remove the hash but if I remove the hash the runtime does not find the library…
[10:43:12] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[10:43:15] *** Joins: lenstr (lenstr@moz-gkn.vju.25.171.IP)
[10:43:20] <nwin> I somehow need two copies of the lib or is there a way to tell the c compiler to ignore the hash?
[10:43:23] <nwin> in the filename
[10:44:01] *** Quits: _ixti_ (ixti@moz-i3d.dae.119.188.IP) (Ping timeout: 121 seconds)
[10:44:20] *** Joins: andresv (Mibbit@moz-m48tte.sta.estpak.ee)
[10:44:30] <RCIX> is this the preferred syntax for file reads? http://hastebin.com/pibuzoboqo.coffee
[10:45:02] *** Quits: pyfisch_ (pyfisch@moz-aid8cb.9id6.l129.0908.2a02.IP) (Quit: Leaving)
[10:45:08] *** Joins: pyfisch_ (pyfisch@moz-aid8cb.9id6.l129.0908.2a02.IP)
[10:45:25] *** Joins: zmack (zmack@moz-1oe.89t.76.82.IP)
[10:45:58] *** Quits: dalarmmst (dalarmmst@moz-kgfju0.bredband.comhem.se) (Ping timeout: 121 seconds)
[10:46:44] *** Quits: pyfisch_ (pyfisch@moz-aid8cb.9id6.l129.0908.2a02.IP) (Quit: Leaving)
[10:47:14] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[10:47:36] *** Joins: aepsil0n (eduard@moz-6491ha.mv2h.pepi.8071.2a02.IP)
[10:47:39] *** Quits: infynyxx (infynyxx@moz-nh1qrt.nj.comcast.net) (Connection closed)
[10:47:44] *** Joins: pyfisch (pyfisch@moz-hs65gi.stefan-betz.net)
[10:47:53] *** Quits: daniel-s_ (daniel-s@moz-upmq06.monash.edu.au) (A TLS packet with unexpected length was received.)
[10:48:09] *** Joins: daniel-s_ (daniel-s@moz-upmq06.monash.edu.au)
[10:48:56] *** Quits: daniel-s_ (daniel-s@moz-upmq06.monash.edu.au) (A TLS packet with unexpected length was received.)
[10:49:11] *** Joins: daniel-s_ (daniel-s@moz-upmq06.monash.edu.au)
[10:49:22] *** Quits: omissis (omissis@moz-6mn.mb0.111.217.IP) (Ping timeout: 121 seconds)
[10:49:26] <pyfisch> If you create a struct in Rust, should you use public fields so that users can set them directly and may insert invalid values, or should you only expose the fields throught wrapper methods?
[10:49:52] *** Quits: popow (Thunderbird@moz-03f.kd0.252.223.IP) (Connection closed)
[10:49:57] *** Quits: andresv (Mibbit@moz-m48tte.sta.estpak.ee) (Quit: http://www.mibbit.com ajax IRC Client)
[10:50:28] *** Joins: dtantsur (dtantsur@moz-vs8vb1.redhat.com)
[10:50:34] *** Quits: Kingsquee (kingsley@moz-qq7ns6.bchsia.telus.net) (Quit: Konversation terminated!)
[10:50:44] <aepsil0n> pyfisch: depends on what the struct is for. if you want to maintain some run-time invariant, it needs to be private.
[10:51:52] <aepsil0n> pyfisch: but you don't have to do this always, it is ok to have structs that are just transparent data. not really a Rust-specific issue though…
[10:52:04] *** Quits: closures999 (closures999@moz-hbi.gpd.70.118.IP) (Quit: Leaving...)
[10:52:05] <pyfisch> I just want to check for example that a string only contains A-Z characters
[10:52:44] <aepsil0n> pyfisch: yes, that would be a run-time invariant.
[10:52:48] *** Quits: aravindavk (aravinda@moz-so4.f0d.244.121.IP) (Ping timeout: 121 seconds)
[10:53:20] <aepsil0n> alternatively, you could make a new wrapper type around String, which checks that property upon construction.
[10:53:59] <aepsil0n> just in case you need that specific run-time invariant in more than one place.
[10:54:11] *** Joins: Rym (y@moz-vsu.f6d.55.31.IP)
[10:54:37] <pyfisch> ok
[10:54:55] <pyfisch> as an example the entity tag: http://pastebin.com/FMSPkrUQ
[10:55:16] <pyfisch> the weakness indicator is has no run-time invariant so it can be public
[10:56:14] <pyfisch> but the tag is limited to a set of characters: %x21 / %x23-7E / obs-text
[10:56:46] *** Quits: tomprogrammer (thomas@moz-g4k46g.tr5r.qept.4dd0.2001.IP) (Quit: WeeChat 1.1.1)
[10:56:47] <pyfisch> a new wrapper type is not useful since this kind of text is only used in etags
[10:57:31] *** Quits: marsel (user@moz-r01.end.162.188.IP) (Ping timeout: 121 seconds)
[10:57:57] <pyfisch> so I new EntityTag::new() and EntityTag.tag() to get the tag and EntityTag.set_tag() to set the tag.
[10:58:12] <pyfisch> aepsil0n: is this correct?
[10:58:16] *** Quits: matp_ (matp@moz-rvt9hl.matp.at) (Ping timeout: 121 seconds)
[10:58:45] *** Quits: Rym (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[10:58:52] *** Joins: xificurC (xificurC@moz-3u7gmd.chello.sk)
[10:58:57] *** Joins: dalarmmst (dalarmmst@moz-mb21j4.bredband.comhem.se)
[10:58:57] *** Joins: andresv (textual@moz-m48tte.sta.estpak.ee)
[10:58:58] *** Joins: kmcguire (kmcguire@moz-7em.2c1.78.97.IP)
[10:59:12] *** Joins: khades (Thunderbird@moz-08k.3vk.74.212.IP)
[10:59:47] *** Quits: panicbit (panicbit@moz-gg7i2b.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[11:00:01] *** Quits: munksgaard (munksgaard@moz-urnkl5.u.parknet.dk) (Ping timeout: 121 seconds)
[11:04:14] *** Quits: michas (michas@moz-tjq2ir.web.vodafone.de) (Connection closed)
[11:04:15] <pyfisch> if there are DQUOTEs (") or newlines in the String it may break http parsing and allows to insert bad headers
[11:05:20] *** Joins: Tobba|Craptop (Tobba@moz-1hh.7ki.21.217.IP)
[11:05:54] *** Quits: Tobba|Laptop (Tobba@moz-1hh.7ki.21.217.IP) (Connection closed)
[11:06:04] *** Joins: dstrbad (dstrbad@moz-3rm.39p.188.46.IP)
[11:06:38] *** Joins: larhat (Adium@moz-8v4.af0.232.213.IP)
[11:06:49] *** Joins: marsel (user@moz-lv2.4he.147.46.IP)
[11:09:36] *** Joins: Hannibal_Smith (nico@moz-qk9ib8.retail.telecomitalia.it)
[11:12:39] *** Quits: drasich (indefini@moz-4p4v25.ucom.ne.jp) (Connection closed)
[11:14:43] <aepsil0n> pyfisch: in that case it shouldn't be public, i guess.
[11:16:04] <pyfisch> aepsil0n: is what I proposed the right way to do it?
[11:16:15] *** Joins: matp (matp@moz-rvt9hl.matp.at)
[11:16:55] <pyfisch> and should new and set_tag panic if someone tries to insert invalid data
[11:16:58] <iopq> how do I rewrite this function to return an iterator? http://is.gd/NP0hhl
[11:17:09] <aepsil0n> pyfisch: i'm hesitant to call anything absolutely "the right way", but it's certainly a valid approach to prevent the data from being corrupted by invalid usage
[11:17:16] <aepsil0n> pyfisch: so essentially yes
[11:18:14] *** Quits: TreeNode (Mibbit@moz-0tl.f6r.120.77.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[11:18:51] <aepsil0n> iopq: remove the collect and fill in the complex iterator type
[11:19:07] *** Quits: skade (skade@moz-0djl38.boh1-r2.syseleven.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[11:19:14] <iopq> aepsil0n: I don't know how to fill in that iterator type, that's what I'm asking
[11:20:00] <aepsil0n> iopq: well, that's difficult to say without knowing what self.board.legal_moves…() is
[11:20:33] <iopq> aepsil0n: it's another thing that's Vec<Move>
[11:21:35] *** Quits: gonzaloserrano (Adium@moz-1nv.3t7.97.62.IP) (Quit: Leaving.)
[11:21:56] *** Joins: qwerty_nor (Thunderbird@moz-kkumeb.pool.ukrtel.net)
[11:22:20] <aepsil0n> oh, that's tricky
[11:22:21] <pyfisch> aepsil0n: thank you
[11:22:33] <aepsil0n> Filter takes the type of the predicate
[11:22:35] *** Quits: matp (matp@moz-rvt9hl.matp.at) (Ping timeout: 121 seconds)
[11:22:42] <aepsil0n> pyfisch: you're welcome
[11:23:03] <aepsil0n> but there's currently no way to refer to the type of a particular closure
[11:23:18] *** Quits: snoj (jonsaw@moz-6rl.m3o.122.121.IP) (Client exited)
[11:23:26] *** Joins: fmtq (fmtq@moz-d08itp.tpgi.com.au)
[11:23:42] <aepsil0n> so you'd have to wrap it as a trait object… and i hope that doesn't mess up the closure's lifetime bounds
[11:24:38] <RCIX> does a use of an enum in a struct definition not count for purposes of dead code warnings?
[11:24:59] <aepsil0n> iopq: you can probably get around that limitation, but it will be verbose and hacky…
[11:25:10] *** Joins: edlothiol (user@moz-n7m9to.unity-media.net)
[11:25:19] *** suvash_away is now known as suvash
[11:25:22] *** Joins: sprang (sprang@moz-d0kmvi.12d9.sm5v.0009.2601.IP)
[11:25:55] <iopq> aepsil0n: I have performance issue because of Vec everywhere
[11:26:20] *** Joins: matp (matp@moz-rvt9hl.matp.at)
[11:26:34] <aepsil0n> yeah, i've run into this issue as well
[11:26:39] *** AutomatedTester is now known as AutomatedTester|AFK
[11:26:54] *** Joins: SpaceWizard (RJones@moz-fmqc9c.res.rr.com)
[11:27:44] *** Joins: _ixti_ (ixti@moz-i3d.dae.119.188.IP)
[11:27:55] <iopq> if I turn on inline(always) I get compilation time issues
[11:28:20] *** Quits: demelev (demelev@moz-5qbmjd.dyn.idknet.com) (Ping timeout: 121 seconds)
[11:28:20] *** Joins: andre_ (andre@moz-rnd.3qv.76.201.IP)
[11:28:34] <iopq> besides, I can't profile it anymore because the profiled executable is slow and the release is fast, but impossible to decipher
[11:29:11] <aepsil0n> so the compiler can optimize away these issues?
[11:29:35] <iopq> I believe it can see that the Vec is temporary, but it won't do it until you force it to inline
[11:29:41] <iopq> which means multi-minute compilation times
[11:30:35] *** Quits: Lunatrius (Lunatrius@moz-mkv.hcu.38.77.IP) (Ping timeout: 121 seconds)
[11:30:45] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[11:30:56] <aepsil0n> afaik there are some RFCs, which might eventually make this somewhat easier
[11:31:53] *** Joins: panicbit (panicbit@moz-gg7i2b.dip0.t-ipconnect.de)
[11:31:58] <aepsil0n> that e.g. allow a function to return some implementation of a trait while keeping out of the API which it is
[11:32:01] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[11:32:34] <aepsil0n> so you could have your method defined as `fn legal_moves(&self) -> Iterator<Move>`
[11:32:38] *** Quits: playjax (chatzilla@moz-m2t78f.optusnet.com.au) (Connection closed)
[11:32:55] *** Joins: mr_evil (Mibbit@moz-nks.906.235.212.IP)
[11:32:56] <aepsil0n> but I'm not sure what this means for lifetimes…
[11:33:21] *** Quits: grindhold (quassel@moz-6k8ctl.cyan.servdiscount-customer.com) (Ping timeout: 121 seconds)
[11:33:26] <mr_evil> Hello!
[11:33:33] <iopq> lifetimes are cancer, any time I have to put any lifetimes on anything it eventually blows up in my face and I realize I can't do that
[11:34:16] <mr_evil> Anyone knows, how can I get anything useful out of thread::JoinHandle.join() : https://doc.rust-lang.org/std/thread/struct.JoinHandle.html#method.join
[11:34:53] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[11:35:07] <aepsil0n> thinking about it, it's probably going to be `fn legal_moves(&'a self) -> Iterator<Move> + 'a`
[11:35:12] *** Joins: nodweber_ (nodweber@moz-knt.fgq.178.5.IP)
[11:35:19] <iopq> also, is there tail call optimization available?
[11:35:25] <aepsil0n> iopq: no
[11:35:33] <tomaka> mr_evil: Use thread::scoped which returns a JoinGuard instead of a JoinHandle, or use channels
[11:35:48] *** Quits: _ixti_ (ixti@moz-i3d.dae.119.188.IP) (Ping timeout: 121 seconds)
[11:36:21] *** Joins: vaskir (bzlandfill@moz-bm1.4g4.103.91.IP)
[11:37:12] *** Joins: Quanttek (quassel@moz-25k96c.6fkd.dvrb.8108.2a02.IP)
[11:37:17] <mr_evil> But if scoped thread panics, doesn't main panic also?
[11:38:06] <aepsil0n> iopq: https://github.com/rust-lang/rfcs/issues/990
[11:38:38] <aepsil0n> also #977 (linked there) has some detail but has been postponed
[11:40:38] *** Joins: Lunatrius (Lunatrius@moz-mkv.hcu.38.77.IP)
[11:40:51] *** Joins: duncan (paul@moz-dst.ms6.225.173.IP)
[11:41:43] *** Joins: rootnode (rootnode@moz-go1ut4.ip1.george24.com)
[11:41:47] *** Quits: smohan (smohan@moz-m6j.f0d.244.121.IP) (Quit: Linkinus - http://linkinus.com)
[11:41:54] *** Joins: aravindavk (aravinda@moz-m6j.f0d.244.121.IP)
[11:42:09] *** Quits: Quanttek (quassel@moz-25k96c.6fkd.dvrb.8108.2a02.IP) (Ping timeout: 121 seconds)
[11:43:54] *** Quits: SpaceWizard (RJones@moz-fmqc9c.res.rr.com) (Quit: leaving)
[11:43:59] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[11:44:37] *** Quits: Feyn (Feyn@moz-n9f.csn.115.42.IP) (Ping timeout: 121 seconds)
[11:44:44] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[11:45:06] *** Joins: thesnowdog (doug@moz-1jd.03a.181.180.IP)
[11:45:15] *** Joins: sirGusWrk (Gustav@moz-bo7slh.sme.bredbandsbolaget.se)
[11:45:48] *** Quits: khades (Thunderbird@moz-08k.3vk.74.212.IP) (Client exited)
[11:46:06] *** Joins: khades (Thunderbird@moz-08k.3vk.74.212.IP)
[11:46:08] *** Joins: omissis (omissis@moz-6mn.mb0.111.217.IP)
[11:46:56] <tomaka> mr_evil: yes
[11:47:44] *** Quits: errordeveloper (ilya@moz-ak1.d0i.5.94.IP) (Ping timeout: 121 seconds)
[11:47:45] *** Joins: errordeveloper (ilya@moz-ak1.d0i.5.94.IP)
[11:48:01] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[11:48:18] *** Joins: Rym (y@moz-vsu.f6d.55.31.IP)
[11:52:00] *** Quits: vaskir (bzlandfill@moz-bm1.4g4.103.91.IP) (Quit: CGI:IRC (Ping timeout))
[11:52:35] *** Quits: ok32 (ok32@moz-nc7pn3.broadband.corbina.ru) (Connection closed)
[11:52:54] *** Quits: Rym (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[11:52:57] *** Joins: ok32 (ok32@moz-imu.af0.232.213.IP)
[11:55:25] *** Joins: grindhold (quassel@moz-6k8ctl.cyan.servdiscount-customer.com)
[11:55:31] *** Quits: Tobba|Craptop (Tobba@moz-1hh.7ki.21.217.IP) (Ping timeout: 121 seconds)
[11:57:07] *** Quits: nedp (nedp@moz-vg6vvt.bigpond.net.au) (Connection closed)
[11:57:54] *** Joins: Feyn (Feyn@moz-m0a.k93.115.42.IP)
[11:58:53] *** Quits: matp (matp@moz-rvt9hl.matp.at) (Connection closed)
[11:59:01] *** Joins: amyers (amyers@moz-2bj.mme.177.128.IP)
[11:59:26] *** Joins: bojo (bojo@moz-uin660.ocn.ne.jp)
[12:01:14] *** Joins: Wild_Cat (Max@moz-f1ofqf.cpe.teksavvy.com)
[12:01:35] *** Joins: Kynes (Kynes@moz-j2us35.mit.edu)
[12:02:09] *** Joins: matp (matp@moz-rvt9hl.matp.at)
[12:02:44] *** Joins: _ixti_ (ixti@moz-i3d.dae.119.188.IP)
[12:02:48] *** Joins: palodequeso (quassel@moz-ebjt83.hfc.comcastbusiness.net)
[12:03:58] *** Quits: devyn (devyn@moz-h4a2o5.vc.shawcable.net) (Ping timeout: 121 seconds)
[12:06:20] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[12:07:06] *** Joins: toqueteos (toqueteos@moz-3h49f9.dynamicIP.rima-tde.net)
[12:07:16] *** Quits: __mark__ (mark@moz-pb9mc5.dynamic.chello.pl) (Client exited)
[12:07:27] *** Joins: oneeman (oneeman____@moz-bp1.ape.176.186.IP)
[12:08:23] *** Joins: skade (skade@moz-0djl38.boh1-r2.syseleven.net)
[12:08:28] *** Joins: ytain (ytain@moz-6bg2hd.dsl.teksavvy.com)
[12:08:32] *** Quits: _td (tatterdemal@moz-c1pqg7.ca.charter.com) (Ping timeout: 121 seconds)
[12:09:34] *** Quits: ehiggs (ehiggs@moz-pob5cp.ugent.be) (Ping timeout: 121 seconds)
[12:10:01] *** Quits: pczarn (piotr@moz-9un7t9.izacom.pl) (Ping timeout: 121 seconds)
[12:12:28] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[12:14:38] *** Quits: m_kato (m_kato@moz-86b4bs.bitcat.net) (Quit: Leaving...)
[12:15:37] *** Joins: laogao (laogao@moz-aek.cnj.229.101.IP)
[12:17:11] *** Quits: zmack (zmack@moz-1oe.89t.76.82.IP) (Connection closed)
[12:17:48] *** Joins: zmack (zmack@moz-1oe.89t.76.82.IP)
[12:18:47] *** Joins: timj (timj@moz-1bt9hp.dip0.t-ipconnect.de)
[12:19:57] *** Quits: timj1 (timj@moz-80ljlm.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[12:22:46] *** Quits: iopq (Mibbit@moz-uuic7b.ca.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[12:22:48] *** Quits: sprang (sprang@moz-d0kmvi.12d9.sm5v.0009.2601.IP) (Ping timeout: 121 seconds)
[12:24:35] *** Joins: _td (tatterdemal@moz-c1pqg7.ca.charter.com)
[12:25:55] *** Joins: Lilly (Lilly@moz-ca683g.bredband.comhem.se)
[12:27:42] *** Joins: gonzaloserrano (Adium@moz-kd4oel.user.ono.com)
[12:28:33] *** Joins: simias (simias@moz-hesd72.svkt.org)
[12:28:44] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[12:28:52] *** Quits: gonzaloserrano (Adium@moz-kd4oel.user.ono.com) (Quit: Leaving.)
[12:29:53] *** Quits: lenstr (lenstr@moz-gkn.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[12:29:57] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[12:31:12] *** Joins: gonzaloserrano (Adium@moz-kd4oel.user.ono.com)
[12:31:31] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[12:32:20] *** Quits: dstrbad (dstrbad@moz-3rm.39p.188.46.IP) (A TLS packet with unexpected length was received.)
[12:32:40] *** Joins: nawns (nawns@moz-0l6.cn2.211.128.IP)
[12:33:22] *** Quits: errordeveloper (ilya@moz-ak1.d0i.5.94.IP) (Ping timeout: 121 seconds)
[12:34:05] *** Joins: errordeveloper (ilya@moz-ak1.d0i.5.94.IP)
[12:34:57] *** Joins: Tobba|Craptop (Tobba@moz-1hh.7ki.21.217.IP)
[12:35:20] *** Quits: Tobba|Craptop (Tobba@moz-1hh.7ki.21.217.IP) (Connection closed)
[12:35:39] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[12:35:55] *** Quits: aepsil0n (eduard@moz-6491ha.mv2h.pepi.8071.2a02.IP) (Connection closed)
[12:37:11] *** Joins: dstrbad (dstrbad@moz-qrhvrh.cable.xnet.hr)
[12:37:37] <gleb> how do I deprecate a crate (not rust) feature, make rust warn when the feature is used?
[12:39:07] *** Quits: Wild_Cat (Max@moz-f1ofqf.cpe.teksavvy.com) (Connection closed)
[12:40:21] *** Quits: errordeveloper (ilya@moz-ak1.d0i.5.94.IP) (Ping timeout: 121 seconds)
[12:41:14] *** Quits: Hannibal_Smith (nico@moz-qk9ib8.retail.telecomitalia.it) (Quit: Leaving)
[12:42:28] *** Joins: Rym (y@moz-vsu.f6d.55.31.IP)
[12:42:34] *** Joins: munksgaard (munksgaard@moz-urnkl5.u.parknet.dk)
[12:43:32] *** Quits: Guest5 (textual@moz-hnb58r.oc.cox.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[12:43:36] <gleb> or more generally can I cause rustc to emit a custom warning?
[12:43:38] *** Joins: Altazimuth (Altazimuth@moz-duldq6.skybroadband.com)
[12:43:46] *** Joins: lenstr (lenstr@moz-gkn.vju.25.171.IP)
[12:44:40] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[12:44:44] *** Joins: jshs (jshs@moz-a5j43f.dip0.t-ipconnect.de)
[12:45:00] *** Joins: errordeveloper (ilya@moz-ak1.d0i.5.94.IP)
[12:45:31] *** Quits: Feyn (Feyn@moz-m0a.k93.115.42.IP) (Quit: Leaving)
[12:45:33] <Ms2ger> gleb, #[deprecated]?
[12:45:55] *** Quits: nical (nical@moz-ptdvfc.lmuk.1rfi.0450.2001.IP) (Ping timeout: 121 seconds)
[12:46:06] <Ms2ger> gleb, as for custom warnings, look at https://github.com/servo/servo/tree/master/components/plugins
[12:46:12] <gleb> Ms2ger: doesn't the item that's deprecated have to be used for the warning to appear?
[12:46:44] *** Quits: tristanseifert (tristanseif@moz-r0t7ns.res.rr.com) (Ping timeout: 121 seconds)
[12:46:46] <Ms2ger> I'm not sure I follow what you want to do
[12:47:04] *** Quits: Rym (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[12:47:22] <gleb> suppose a crate has a feature foo that I want to rename to bar
[12:47:48] <gleb> I want the users to see a warning when they do cargo build --feature foo
[12:47:57] *** Quits: aravindavk (aravinda@moz-m6j.f0d.244.121.IP) (Quit: Konversation terminated!)
[12:48:03] <gleb> * --features foo
[12:49:34] *** Quits: nodweber_ (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[12:49:55] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[12:50:01] *** Quits: kamilc__ (kamil@moz-i3euum.play-internet.pl) (Quit: Leaving...)
[12:50:23] *** Joins: polyfractal (polyfractal@moz-roi.c9b.43.69.IP)
[12:51:26] <nollidj> can anyone verify problems building libc 0.1.3, which is what the latest version of rand on crates.io (0.3.3) depends on?
[12:51:37] *** Quits: _td (tatterdemal@moz-c1pqg7.ca.charter.com) (Ping timeout: 121 seconds)
[12:51:53] *** Quits: paullepoulpe (paullepoulp@moz-5fs.qdm.218.85.IP) (Connection closed)
[12:52:36] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[12:53:18] *** Quits: errordeveloper (ilya@moz-ak1.d0i.5.94.IP) (Ping timeout: 121 seconds)
[12:53:24] <gleb> nollidj: you've tried cargo update, right?
[12:54:00] *** Quits: daschl (Adium@moz-oirn1i.vie.surfer.at) (Quit: Leaving.)
[12:54:11] *** Joins: daschl (Adium@moz-oirn1i.vie.surfer.at)
[12:55:48] <teotwaki> test is unstable?
[12:58:25] *** Joins: joel2 (joel@moz-6ampnk.gtri.gatech.edu)
[12:58:35] *** Joins: gonzaloserrano1 (Adium@moz-1nv.3t7.97.62.IP)
[12:59:22] *** Joins: kkus (kkus@moz-baj4jj.74.srtnet.com)
[12:59:44] *** Quits: gonzaloserrano (Adium@moz-kd4oel.user.ono.com) (Ping timeout: 121 seconds)
[13:01:11] *** Quits: fabiand (fabiand@moz-rj0okk.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[13:03:37] *** Joins: pato (alcuadrado@moz-po8.fg5.194.190.IP)
[13:04:14] *** Joins: symoo (simookis@moz-8t068g.static.zebra.lt)
[13:04:23] *** Joins: cryptojuice (cryptojuice@moz-pc2dp8.fios.verizon.net)
[13:05:43] *** Joins: dfoelber (dfoelber@moz-ncvqfk.fios.verizon.net)
[13:06:07] *** Quits: symoo (simookis@moz-8t068g.static.zebra.lt) (Quit: zombie attack)
[13:06:19] *** AutomatedTester|AFK is now known as AutomatedTester
[13:07:48] *** Joins: dan_s (Mibbit@moz-gc4shp.plus.com)
[13:08:14] *** Joins: dfinninger (dfinninger@moz-6a9v7n.res.rr.com)
[13:08:30] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[13:08:58] *** Joins: mkoskar (mkoskar@moz-37vaas.compute-1.amazonaws.com)
[13:09:13] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[13:09:17] *** Joins: errordeveloper (ilya@moz-ak1.d0i.5.94.IP)
[13:09:27] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[13:10:13] *** Joins: jjthrash (jjthrash@moz-j6raeg.pools.spcsdns.net)
[13:10:26] <dan_s> is there a better way to convert a &str into a CString other than CString::from_slice(original_string.as_bytes()) ? 
[13:10:42] <dan_s> I know some allocation needs to be involved but I can't help but think that looks a bit unwieldyy
[13:10:52] *** Joins: duesenfranz (jona@moz-piq5sk.tirol.surfer.at)
[13:11:41] *** Quits: daniel-s_ (daniel-s@moz-upmq06.monash.edu.au) (A TLS packet with unexpected length was received.)
[13:11:56] *** Joins: daniel-s_ (daniel-s@moz-upmq06.monash.edu.au)
[13:12:43] *** Quits: daniel-s_ (daniel-s@moz-upmq06.monash.edu.au) (A TLS packet with unexpected length was received.)
[13:12:58] *** Joins: daniel-s_ (daniel-s@moz-upmq06.monash.edu.au)
[13:14:10] *** Joins: ehiggs (ehiggs@moz-pob5cp.ugent.be)
[13:14:45] *** Joins: mattkrea (textual@moz-hr3gaj.subnet.rcn.com)
[13:14:54] <Mutabah> dan_s: Does CString::new(original_string) work?
[13:15:01] <Mutabah> (using conversion trait magic)
[13:15:15] *** Joins: fabiand (fabiand@moz-uct07d.dip0.t-ipconnect.de)
[13:15:45] *** Joins: idegen (greg@moz-9c4nle.or.frontiernet.net)
[13:18:08] <dan_s> Mutabah: it looks like CString::new takes a Into<Vec<u8>>, which isn't implemented for &str
[13:18:22] <Mutabah> dan_s: It kinda is
[13:18:41] <Mutabah> dan_s: Did you try it?
[13:18:49] <Mutabah> The example for that method uses a string literal
[13:19:02] <Mutabah> (I think there's an impl chain which allows that to work)
[13:19:11] *** Quits: daniel-s_ (daniel-s@moz-upmq06.monash.edu.au) (A TLS packet with unexpected length was received.)
[13:20:16] *** Joins: daniel-s_ (daniel-s@moz-upmq06.monash.edu.au)
[13:21:29] *** Quits: dfinninger (dfinninger@moz-6a9v7n.res.rr.com) (Connection closed)
[13:21:41] <dan_s> Mutabah: thanks, I'll try it, it'll probably be a while before I start compiling any of what I'm writing though...
[13:23:12] *** Quits: moonglum (moonglyn@moz-ric4rk.unity-media.net) (Quit: Textual IRC Client: www.textualapp.com)
[13:23:22] <ehiggs> Hi all. i'm a bit confused about mutability in structs/vectors/iteration. If I have a vector of mutable references to my sink objects. http://is.gd/DbOQyD
[13:23:51] <ehiggs> This is so they can update internal state. e.g. counters and the like. But when I try to call 'notify' it won't compile since it wants to borrow somewhere.
[13:24:50] *** Quits: dfoelber (dfoelber@moz-ncvqfk.fios.verizon.net) (Connection closed)
[13:24:51] <bombless> (self ...) means consume
[13:24:54] *** Joins: tunnuz (tunnuz@moz-q97n2a.optusnet.com.au)
[13:25:01] *** Joins: dfoelber (dfoelber@moz-ncvqfk.fios.verizon.net)
[13:25:03] *** Quits: tunnuz (tunnuz@moz-q97n2a.optusnet.com.au) (Connection closed)
[13:25:31] *** Joins: tunnuz (tunnuz@moz-q97n2a.optusnet.com.au)
[13:25:37] *** Joins: zzing (textual@moz-jucm1n.cpe.distributel.net)
[13:25:41] <bombless> while (&self ... means immutable borrow, (&mut self ...) means mutable borrow
[13:25:58] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[13:26:14] *** Joins: vaskir (bzlandfill@moz-bm1.4g4.103.91.IP)
[13:26:28] *** Joins: dfoelber_ (dfoelber@moz-ncvqfk.fios.verizon.net)
[13:26:57] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[13:27:10] *** Quits: dfoelber_ (dfoelber@moz-ncvqfk.fios.verizon.net) (Connection closed)
[13:27:16] <ehiggs> (self ...) doesn't mean make a copy of self?
[13:27:21] <Ms2ger> No
[13:27:23] <ehiggs> what does 'consume' mean
[13:27:25] *** Joins: dfoelber_ (dfoelber@moz-ncvqfk.fios.verizon.net)
[13:27:30] *** Joins: tomprogrammer (thomas@moz-mj8ki9.tr5r.qept.4dd0.2001.IP)
[13:27:35] <Ms2ger> It means that you can't use the receiver after the call
[13:27:51] *** Quits: dfoelber (dfoelber@moz-ncvqfk.fios.verizon.net) (Connection closed)
[13:28:08] <ehiggs> even outside of the function?
[13:28:15] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[13:28:19] <ehiggs> or just 'don't store this'
[13:29:36] <mtsr> A function that takes self consumes it, or in ownership terms takes ownership of. That means the old owner doesn't have access to it anymore.
[13:31:05] <mtsr> ehiggs: In your example just replacing with &self works.
[13:31:17] <Ms2ger> Have you read the bits of the Book that talk about ownership?
[13:31:30] *** Quits: maraoz_ (maraoz@moz-7fc9s6.fibertel.com.ar) (Quit: Leaving)
[13:31:52] *** Joins: tkellen (tkellen@moz-g9i.jha.92.190.IP)
[13:32:16] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[13:32:23] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Ping timeout: 121 seconds)
[13:32:31] *** AutomatedTester is now known as AutomatedTester|AFK
[13:32:55] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Connection closed)
[13:32:58] <ehiggs> Ms2ger: yes I read the book parts about ownership and pointers
[13:33:47] *** Joins: loyd (loyd@moz-uft.32f.108.213.IP)
[13:34:08] *** AutomatedTester|AFK is now known as AutomatedTester
[13:34:35] *** Quits: munksgaard (munksgaard@moz-urnkl5.u.parknet.dk) (Ping timeout: 121 seconds)
[13:34:41] <ehiggs> mtsr: which &self? self.subscribers.iter() -> &self.subscribers.iter() ?
[13:35:00] <mtsr> both onEvent functions
[13:35:38] <jarrednicholls> dfoelber_: You win the prize for finding this: https://s3.amazonaws.com/uploads.hipchat.com/211840/1833786/1H1iFb5eXt8hwSx/Screen%20Shot%202015-03-30%20at%209.32.25%20AM.png
[13:35:38] <mtsr> The functions take a reference so that they don't move ownership of the self.
[13:36:24] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[13:36:25] *** Joins: jjthrash_ (jjthrash@moz-ja5vuf.pools.spcsdns.net)
[13:36:29] <jarrednicholls> acrichto: here's a new one for the class :D https://s3.amazonaws.com/uploads.hipchat.com/211840/1833786/1H1iFb5eXt8hwSx/Screen%20Shot%202015-03-30%20at%209.32.25%20AM.png
[13:36:38] *** Joins: essem2 (Thunderbird@moz-f9p.4ol.7.74.IP)
[13:36:39] *** Joins: Rym (y@moz-vsu.f6d.55.31.IP)
[13:36:39] <ehiggs> mtsr: and if I make them mutable refs? http://is.gd/LtpOsE <- 24:14 error: cannot borrow data mutably in a `&` reference
[13:37:32] *** Quits: ukarlsson (ukarlsson@moz-8p0489.clq1.sjcg.02b0.2a01.IP) (Ping timeout: 121 seconds)
[13:38:16] *** Quits: jjthrash (jjthrash@moz-j6raeg.pools.spcsdns.net) (Ping timeout: 121 seconds)
[13:38:54] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[13:39:47] *** Joins: fyolnish (fyolnish@moz-ilgqiq.au-net.ne.jp)
[13:39:57] *** Quits: tkellen (tkellen@moz-g9i.jha.92.190.IP) (Ping timeout: 121 seconds)
[13:40:17] *** Joins: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net)
[13:40:42] *** Quits: daniel-s_ (daniel-s@moz-upmq06.monash.edu.au) (A TLS packet with unexpected length was received.)
[13:40:58] *** Joins: daniel-s_ (daniel-s@moz-upmq06.monash.edu.au)
[13:41:13] *** Quits: Rym (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[13:41:24] <mtsr> ehiggs: use iter_mut() instead of iter()
[13:41:26] *** Joins: maraoz (maraoz@moz-7fc9s6.fibertel.com.ar)
[13:41:34] <mtsr> (and the cascading mutability changes from there)
[13:41:57] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[13:41:59] *** Quits: daniel-s_ (daniel-s@moz-upmq06.monash.edu.au) (A TLS packet with unexpected length was received.)
[13:42:14] *** Joins: daniel-s_ (daniel-s@moz-upmq06.monash.edu.au)
[13:42:20] *** Quits: andresv (textual@moz-m48tte.sta.estpak.ee) (Quit: My Mac has gone to sleep. ZZZzzz…)
[13:42:44] *** Joins: tkellen (tkellen@moz-p7s.946.2.186.IP)
[13:42:51] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[13:44:15] *** Joins: jjthrash (jjthrash@moz-d7e.ku7.220.184.IP)
[13:45:40] *** Joins: scialex (scialex@moz-nn5.l1h.16.138.IP)
[13:45:49] *** Joins: james4k_ (james@moz-gi3bll.consolidated.net)
[13:46:08] *** Quits: tunnuz (tunnuz@moz-q97n2a.optusnet.com.au) (Ping timeout: 121 seconds)
[13:46:18] *** Joins: khades1 (Thunderbird@moz-08k.3vk.74.212.IP)
[13:46:27] *** Quits: jjthrash_ (jjthrash@moz-ja5vuf.pools.spcsdns.net) (Ping timeout: 121 seconds)
[13:46:45] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[13:47:12] *** Joins: Gamecubic (cubic@moz-qfrl13.mc.videotron.ca)
[13:47:23] *** Quits: acdimalev (jamin@moz-stcj0j.res.rr.com) (Quit: .)
[13:47:47] *** Quits: khades (Thunderbird@moz-08k.3vk.74.212.IP) (Ping timeout: 121 seconds)
[13:48:44] *** Quits: gizmo (Mibbit@moz-ptc.oo5.19.193.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[13:49:05] *** Joins: __mark__ (mark@moz-pb9mc5.dynamic.chello.pl)
[13:49:53] *** Quits: james4k_ (james@moz-gi3bll.consolidated.net) (Ping timeout: 121 seconds)
[13:50:30] *** Joins: acgtyrant (acgtyrant@moz-3kd.b79.160.124.IP)
[13:50:35] *** Joins: kamilc__ (kamil@moz-i3euum.play-internet.pl)
[13:51:28] *** Quits: fyolnish (fyolnish@moz-ilgqiq.au-net.ne.jp) (Connection closed)
[13:52:40] *** Quits: forgottenone (forgottenon@moz-002.g2v.45.92.IP) (Quit: Konversation terminated!)
[13:52:46] <ehiggs> where is iter_mut defined? I don't see any references here: http://doc.rust-lang.org/std/vec/struct.Vec.html
[13:52:49] *** Quits: kushal (kdas@moz-78qhfn.202.sitibroadband.in) (Ping timeout: 121 seconds)
[13:52:50] *** Joins: forgottenone (forgottenon@moz-002.g2v.45.92.IP)
[13:53:00] <ehiggs> I had guessed mut_iter but obviously was unlucky
[13:53:07] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[13:53:21] *** Quits: duesenfranz (jona@moz-piq5sk.tirol.surfer.at) (Ping timeout: 121 seconds)
[13:53:58] <mtsr> http://doc.rust-lang.org/core/slice/trait.SliceExt.html
[13:54:16] <mtsr> Bit unfortunate, that, since it's hard to find if you don't know about slices.
[13:54:55] *** Quits: zzing (textual@moz-jucm1n.cpe.distributel.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[13:56:09] <ehiggs> I know about slices as regards strings and arrays. I didn't think to look there. 
[13:56:18] *** Joins: jdm (jdm@moz-ilbt2e.cable.teksavvy.com)
[13:56:18] *** ChanServ sets mode: +o jdm
[13:57:03] *** Quits: forgottenone (forgottenon@moz-002.g2v.45.92.IP) (Ping timeout: 121 seconds)
[13:57:20] <jshs> the std reexport actually lives there: http://doc.rust-lang.org/nightly/std/primitive.slice.html#method.iter_mut
[13:57:50] <jshs> it doesn't show up in the search results, for some reason
[13:58:26] *** Quits: dfoelber_ (dfoelber@moz-ncvqfk.fios.verizon.net) (Connection closed)
[13:58:47] *** Joins: dfoelber (dfoelber@moz-ncvqfk.fios.verizon.net)
[13:59:14] <mtsr> jshs: Thanks, was looking for that page heh :)
[14:00:35] *** Joins: paullepoulpe (paullepoulp@moz-nhdqee.epfl.ch)
[14:01:34] *** Quits: nwin (textual@moz-e1ofce.pools.vodafone-ip.de) (Quit: My Mac Mini has gone to sleep. ZZZzzz…)
[14:01:39] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[14:02:17] *** Quits: dtantsur (dtantsur@moz-vs8vb1.redhat.com) (Quit: Leaving)
[14:03:03] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[14:03:14] *** Quits: scialex (scialex@moz-nn5.l1h.16.138.IP) (Ping timeout: 121 seconds)
[14:03:22] *** Joins: tunnuz (tunnuz@moz-q97n2a.optusnet.com.au)
[14:03:25] *** Joins: saml (saml@moz-0pt9vd.cst.lightpath.net)
[14:03:30] *** Joins: Guest17 (textual@moz-1kb.96p.27.198.IP)
[14:03:35] *** Quits: gonzaloserrano1 (Adium@moz-1nv.3t7.97.62.IP) (Quit: Leaving.)
[14:03:36] *** Joins: gonzaloserrano (Adium@moz-1nv.3t7.97.62.IP)
[14:03:48] *** Quits: jwatt (roslea@jwatt.irc.users.mozilla.org) (Ping timeout: 121 seconds)
[14:04:09] *** Joins: colinsurprenant (colin@moz-lu9sne.92.electronicbox.net)
[14:05:02] *** Quits: daniel-s_ (daniel-s@moz-upmq06.monash.edu.au) (A TLS packet with unexpected length was received.)
[14:05:17] *** Joins: daniel-s_ (daniel-s@moz-upmq06.monash.edu.au)
[14:06:00] *** Quits: paullepoulpe (paullepoulp@moz-nhdqee.epfl.ch) (Connection closed)
[14:06:48] *** Joins: munksgaard (munksgaard@moz-urnkl5.u.parknet.dk)
[14:08:12] *** Quits: colinsurprenant (colin@moz-lu9sne.92.electronicbox.net) (Ping timeout: 121 seconds)
[14:08:35] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[14:10:01] *** Joins: fyolnish (fyolnish@moz-ilgqiq.au-net.ne.jp)
[14:10:04] *** sunfish-away is now known as sunfish
[14:10:36] *** Joins: mnemnion (mnemnion@moz-e8rfii.ca.comcast.net)
[14:10:40] *** Joins: paullepoulpe (paullepoulp@moz-nhdqee.epfl.ch)
[14:12:55] *** Joins: Guest74 (textual@moz-il1.n6s.204.65.IP)
[14:13:15] *** Joins: nwin (textual@moz-e1ofce.pools.vodafone-ip.de)
[14:13:19] *** Joins: bitonic (bitonic@moz-th0de9.31-151.libero.it)
[14:13:25] *** Joins: michas (michas@moz-tjq2ir.web.vodafone.de)
[14:13:31] *** Joins: kushal (kdas@moz-6rsep0.202.sitibroadband.in)
[14:14:11] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[14:14:58] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[14:15:00] *** Quits: dfoelber (dfoelber@moz-ncvqfk.fios.verizon.net) (Connection closed)
[14:15:49] *** Quits: vaskir (bzlandfill@moz-bm1.4g4.103.91.IP) (Quit: CGI:IRC)
[14:15:50] *** Quits: lenstr (lenstr@moz-gkn.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[14:16:06] *** Joins: lenstr (lenstr@moz-gkn.vju.25.171.IP)
[14:16:23] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[14:17:01] *** Joins: morne (morne@moz-lp1.vh9.225.105.IP)
[14:17:15] *** Quits: fyolnish (fyolnish@moz-ilgqiq.au-net.ne.jp) (Connection closed)
[14:17:18] *** Joins: dfoelber (dfoelber@moz-ncvqfk.fios.verizon.net)
[14:17:49] *** Parts: morne (morne@moz-lp1.vh9.225.105.IP) ("WeeChat 1.1.1")
[14:19:11] *** Joins: sprang (sprang@moz-d0kmvi.12d9.sm5v.0009.2601.IP)
[14:19:17] <RCIX> i should probably stop soon
[14:19:17] *** Joins: fyolnish (fyolnish@moz-ilgqiq.au-net.ne.jp)
[14:19:22] *** Quits: acgtyrant (acgtyrant@moz-3kd.b79.160.124.IP) (Quit: 堕入 /dev/null)
[14:19:35] <RCIX> i was matching for a result on a struct creation and not the call that consumed the struct to produce a result
[14:19:40] *** Joins: dfinninger (dfinninger@moz-fe6.5n7.235.207.IP)
[14:21:13] *** Quits: Gabriel_7 (Gabriel@moz-po3t0n.loria.fr) (Connection closed)
[14:22:03] *** Quits: nawns (nawns@moz-0l6.cn2.211.128.IP) (Client exited)
[14:22:26] *** Joins: gamakichi (Mibbit@moz-9ci.1t5.72.194.IP)
[14:22:55] *** Joins: psy (psy@moz-ous.ntd.6.103.IP)
[14:23:01] <tunnuz> Hello
[14:23:02] *** Joins: boss_mc (boss_mc@moz-btt7od.metaswitch.com)
[14:23:04] *** Joins: JagaJaga (JagaJaga@moz-ua8.hhl.62.178.IP)
[14:23:15] <tunnuz> does anyone have a pointer to a good explanation of the "ref" keyword?
[14:23:41] <marc_> http://doc.rust-lang.org/book/pointers.html#patterns-and-ref
[14:23:57] *** Joins: mib (Mibbit@moz-fqj.oov.88.187.IP)
[14:24:14] *** Joins: nawns (nawns@moz-0l6.cn2.211.128.IP)
[14:24:27] <tunnuz> thanks
[14:24:35] <marc_> np
[14:24:49] <tunnuz> I think I read that section, but maybe it was a while ago
[14:24:51] <marc_> As for why its not just '&s' (in the example), I don't know
[14:25:14] *** Quits: nano (nano@moz-00j6et.dynamic.kabel-deutschland.de) (Connection closed)
[14:25:26] <mib> Hello all, any ideas how can I get some insight of an signal 4 failure in my tests?
[14:25:33] *** Joins: demelev (demelev@moz-5qbmjd.dyn.idknet.com)
[14:25:40] <tunnuz> marc_, yeah, actually I was wondering just that
[14:25:44] *** Joins: symoo (simookis@moz-8t068g.static.zebra.lt)
[14:26:35] *** Quits: kung_fu_mike (mike@moz-nae3f6.wa.comcast.net) (Ping timeout: 121 seconds)
[14:26:39] *** Joins: gbersac (Mibbit@moz-edc.lpf.210.62.IP)
[14:27:55] <gbersac> Hi, do you know how to convert from string to f32 ?
[14:28:12] <cmr> gbersac: .parse()3
[14:28:16] <mib> gbersac: try the parse method
[14:28:37] <mib> Any ideas how can I get some more info about an signal 4 failure in my tests?
[14:28:42] *** Joins: khades (Thunderbird@moz-08k.3vk.74.212.IP)
[14:29:05] *** Quits: hebz0rl (hebz0rl@moz-cfcrtj.static.qsc.de) (Quit: Leaving)
[14:29:09] <cmr> mib: sigill is a call to abort, which in Rust usually means out-of-memory or panic-while-panicking.
[14:29:10] *** symoo is now known as simukis_1
[14:29:25] *** Joins: ahal (ahal@moz-blga2k.cpe.pppoe.ca)
[14:29:39] *** Joins: awgross (Adium@moz-p4j.th9.86.207.IP)
[14:29:47] <gbersac> this is what I get :
[14:29:49] <gbersac> type `&[collections::string::String]` does not implement any method in scope named `parse`
[14:29:51] <mib> cmr: any way to get a callstack or something like that?
[14:29:51] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[14:29:55] *** Quits: paullepoulpe (paullepoulp@moz-nhdqee.epfl.ch) (Connection closed)
[14:29:59] <simukis_1> mib:mib: use gdb
[14:30:17] *** Joins: SpaceWizard (RJones@moz-anbpsl.east.myfairpoint.net)
[14:30:40] *** Quits: khades1 (Thunderbird@moz-08k.3vk.74.212.IP) (Ping timeout: 121 seconds)
[14:30:47] *** Joins: Rym (y@moz-vsu.f6d.55.31.IP)
[14:30:59] *** Joins: nical (nical@moz-be91i5.2500.1rfi.0450.2001.IP)
[14:31:03] <jshs> gbersac: well, that's not a string, but a slice of strings. do you want to convert each string?
[14:31:07] *** Quits: darkowlzz|afk (Elite12883@moz-kue6ah.elitebnc.org) (Ping timeout: 121 seconds)
[14:31:10] *** Quits: pato (alcuadrado@moz-po8.fg5.194.190.IP) (Quit: (null))
[14:31:11] *** Quits: simukis_1 (simookis@moz-8t068g.static.zebra.lt) (Connection closed)
[14:31:21] *** Quits: cryptojuice (cryptojuice@moz-pc2dp8.fios.verizon.net) (Connection closed)
[14:31:27] *** Joins: cryptojuice (cryptojuice@moz-pc2dp8.fios.verizon.net)
[14:31:42] <gbersac> still an error
[14:31:44] <gbersac> error: type `core::option::Option<collections::string::String>` does not implement any method in scope named `parse`
[14:31:50] <mib> simukis: thanks, it worked wonders
[14:32:05] <mib> gbersac:  unwrap the option first
[14:32:46] <simukis> and then you need to convert String to &str
[14:32:49] *** Quits: michas (michas@moz-tjq2ir.web.vodafone.de) (Connection closed)
[14:32:56] <cmr> simukis: should auto-deref.
[14:33:03] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[14:33:27] <gbersac> mib: thanks, it was such a stupid error ^^
[14:33:34] *** Joins: zcourts_ (zcourts@moz-q5hesg.rdg.ac.uk)
[14:33:37] <ehiggs> mtsr: Ms2ger, etc. Thanks for your input. I got something building. And of course it appears to work as intended after building. Which is refreshing.
[14:33:47] *** Quits: zcourts (zcourts@moz-q5hesg.rdg.ac.uk) (Ping timeout: 121 seconds)
[14:33:47] *** zcourts_ is now known as zcourts
[14:33:49] *** Quits: errordeveloper (ilya@moz-ak1.d0i.5.94.IP) (Ping timeout: 121 seconds)
[14:33:52] *** Joins: darkowlzz|afk (Elite12883@moz-kue6ah.elitebnc.org)
[14:34:13] <ehiggs> I guess I'm on a long road to rust API design since I do a lot of copying in my code. I'll need to massage my lifetime decls a bit; but it's not an issue for now.
[14:35:05] *** Parts: gamakichi (Mibbit@moz-9ci.1t5.72.194.IP) ()
[14:35:17] *** Parts: shmup (shmup@moz-ucm.ei6.184.192.IP) ()
[14:35:23] *** Quits: Rym (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[14:35:47] *** Joins: pudgetta (Mibbit@moz-6he867.res.rr.com)
[14:35:52] *** Joins: spider-mario (spidermario@moz-meu9c6.wb.wifirst.net)
[14:36:14] <pudgetta> How do I write the "impl" statement inside a macro?  http://is.gd/5llIHx
[14:36:32] <marc_> cmr why does the ref keyword exist (vs just using &)
[14:36:57] <cmr> marc_: & in a pattern would dereference a pointer, ref creates a pointer.
[14:37:10] <marc_> And why does & deref instead of * ?
[14:37:11] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[14:37:28] <cmr> In patterns, things that are usually constructors are instead destructors (the dual)
[14:37:34] *** Joins: ascarter (ascarter@moz-i0dnmd.wa.comcast.net)
[14:37:42] <cmr> You're writing the "shape" of the value and extracting pieces out of it.
[14:37:53] <marc_> ok thanks, that helps
[14:38:20] *** Quits: kmcguire (kmcguire@moz-7em.2c1.78.97.IP) (Connection closed)
[14:38:23] *** Joins: ptalbot (ptalbot@moz-g2mokk.ircam.fr)
[14:38:27] <tunnuz> cmr, could you expand on the concept that in patterns constructors are destructors?
[14:38:32] <tunnuz> what do you mean?
[14:38:36] *** Joins: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com)
[14:39:01] <pudgetta> I need to implement a variety of traits with a somewhat complex where clause, and I'm trying to put that in a single place so I can edit it more easily
[14:39:27] <tunnuz> also, is there a way to overload +=, *=, -=, and /=
[14:39:28] *** Quits: leonlee (leonlee@moz-98g.1ve.189.27.IP) (Ping timeout: 121 seconds)
[14:39:29] *** Joins: xcombelle (xcombelle@moz-eseu4p.abo.wanadoo.fr)
[14:39:37] <tunnuz> if not, is there a recommended way to implement the same functionality?
[14:39:40] *** Quits: squiddy (squiddy@moz-md4.pm3.19.178.IP) (Quit: Leaving)
[14:39:40] <cmr> tunnuz: In an expression, you are introducing structure. In a pattern, you are eliminating structure.
[14:40:02] <tunnuz> cmr, I see, makes sense
[14:40:23] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[14:40:35] <cmr> pudgetta: blocks are expressions, the { ... } on an impl isn't a block.
[14:41:11] <cmr> pudgetta: there's no fragment specifier for the body of an impl.
[14:41:17] <pudgetta> cmr: :-(
[14:41:17] *** Joins: v038 (chatzilla@moz-n4m.bqs.204.223.IP)
[14:41:19] *** Quits: untitaker (untitaker@moz-kn1buo.highway.telekom.at) (Ping timeout: 121 seconds)
[14:41:25] *** Quits: panicbit (panicbit@moz-gg7i2b.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[14:41:26] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[14:41:29] <cmr> tunnuz: you can't overload += etc right now, only + etc
[14:41:36] *** Joins: scialex (scialex@moz-nn5.l1h.16.138.IP)
[14:41:39] <tunnuz> cmr, do you have any idea if this will be added?
[14:41:53] <simukis> there was an RFC AFAIR.
[14:41:53] <cmr> tunnuz: I believe it's planned post-1.0
[14:42:04] <tunnuz> cmr, OK, thanks
[14:42:05] *** Quits: gbersac (Mibbit@moz-edc.lpf.210.62.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[14:42:38] <simukis> https://github.com/rust-lang/rfcs/pull/953
[14:44:52] *** Joins: khades1 (Thunderbird@moz-08k.3vk.74.212.IP)
[14:45:01] *** Joins: paullepoulpe (paullepoulp@moz-nhdqee.epfl.ch)
[14:45:29] *** Joins: errordeveloper (ilya@moz-ak1.d0i.5.94.IP)
[14:45:45] *** Quits: fmtq (fmtq@moz-d08itp.tpgi.com.au) (Ping timeout: 121 seconds)
[14:45:46] *** Joins: tunnuz_ (tunnuz@moz-q97n2a.optusnet.com.au)
[14:45:59] *** Quits: tunnuz_ (tunnuz@moz-q97n2a.optusnet.com.au) (Quit: Leaving)
[14:46:42] *** Joins: fmtq (fmtq@moz-d08itp.tpgi.com.au)
[14:46:50] *** Joins: lenstr_ (lenstr@moz-kso.vju.25.171.IP)
[14:46:51] *** Quits: khades (Thunderbird@moz-08k.3vk.74.212.IP) (Ping timeout: 121 seconds)
[14:46:55] *** Joins: coryforsyth (coryforsyth@moz-q577km.static.cosmoweb.net)
[14:47:45] *** Joins: untitaker (untitaker@moz-r9t92s.highway.telekom.at)
[14:47:54] *** Quits: paullepoulpe (paullepoulp@moz-nhdqee.epfl.ch) (Connection closed)
[14:48:15] *** Joins: Izacht13 (Izacht13@moz-5tc3lv.atsnmeam.ccmaine.net)
[14:48:55] *** Quits: nawns (nawns@moz-0l6.cn2.211.128.IP) (Client exited)
[14:48:58] *** Quits: shellac (pldms@moz-c7026f.bris.ac.uk) (Connection closed)
[14:49:08] *** Quits: lenstr (lenstr@moz-gkn.vju.25.171.IP) (Ping timeout: 121 seconds)
[14:49:28] *** Quits: kkus (kkus@moz-baj4jj.74.srtnet.com) (Connection closed)
[14:49:43] *** Quits: zoosha (gmunoz@moz-e0j.3sr.79.167.IP) (Quit: leaving)
[14:49:44] *** Joins: frogonia (Mibbit@moz-s2t.28j.56.172.IP)
[14:49:47] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[14:49:49] *** Joins: adrusi (adrusi@moz-p89pc5.wireless.umd.edu)
[14:50:15] *** Quits: frogonia (Mibbit@moz-s2t.28j.56.172.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[14:50:21] *** Joins: dtantsur (dtantsur@moz-1821b5.net.upcbroadband.cz)
[14:52:07] *** Quits: tunnuz (tunnuz@moz-q97n2a.optusnet.com.au) (Quit: Leaving)
[14:52:14] *** Joins: housl (housl@moz-qnjt4k.ut.comcast.net)
[14:52:18] *** Quits: Izacht13 (Izacht13@moz-5tc3lv.atsnmeam.ccmaine.net) (Ping timeout: 121 seconds)
[14:53:49] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[14:54:08] *** Joins: Izacht13 (Izacht13@moz-5tc3lv.atsnmeam.ccmaine.net)
[14:55:53] *** Quits: ascarter (ascarter@moz-i0dnmd.wa.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[14:56:30] *** Quits: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net) (A TLS packet with unexpected length was received.)
[14:56:59] *** Joins: freiguy1 (Mibbit@moz-pk0.3db.236.192.IP)
[14:57:06] *** Joins: nawns (nawns@moz-0l6.cn2.211.128.IP)
[14:57:19] *** Quits: Izacht13 (Izacht13@moz-5tc3lv.atsnmeam.ccmaine.net) (Quit: Leaving)
[14:57:34] *** Quits: fyolnish (fyolnish@moz-ilgqiq.au-net.ne.jp) (Connection closed)
[14:59:05] *** Joins: morphy (Mibbit@moz-2cv.9ta.84.114.IP)
[14:59:06] *** Joins: DerisiveLogic (smuxi@moz-g93io6.res.rr.com)
[14:59:44] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[15:00:00] *** Joins: fyolnish (fyolnish@moz-ilgqiq.au-net.ne.jp)
[15:00:26] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[15:00:27] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[15:02:07] *** Quits: adrusi (adrusi@moz-p89pc5.wireless.umd.edu) (Client exited)
[15:03:22] *** Joins: adrusi (adrusi@moz-p89pc5.wireless.umd.edu)
[15:04:30] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[15:04:36] *** Joins: forgottenone (forgottenon@moz-002.g2v.45.92.IP)
[15:04:46] *** Joins: zoosha (gmunoz@moz-e0j.3sr.79.167.IP)
[15:05:01] *** Quits: fyolnish (fyolnish@moz-ilgqiq.au-net.ne.jp) (Connection closed)
[15:05:09] *** Quits: ehiggs (ehiggs@moz-pob5cp.ugent.be) (Ping timeout: 121 seconds)
[15:06:26] *** Joins: fyolnish (fyolnish@moz-ilgqiq.au-net.ne.jp)
[15:06:46] *** Joins: shellac (pldms@moz-c7026f.bris.ac.uk)
[15:08:10] *** Joins: hoony (Thunderbird@moz-q5r.8e9.96.183.IP)
[15:08:34] *** Joins: jkerim (jkerim@moz-i5m.05u.207.66.IP)
[15:09:03] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[15:10:01] *** Quits: tkellen (tkellen@moz-p7s.946.2.186.IP) (Ping timeout: 121 seconds)
[15:10:17] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[15:10:46] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[15:13:32] <XMPPwocky> i almost feel like the nicest Rust code is similar to nice C code, moreso than nice C++ or Java or whatever code
[15:13:47] *** Joins: nano (nano@moz-00j6et.dynamic.kabel-deutschland.de)
[15:13:50] *** Joins: tamird (textual@moz-oii9i6.ca.comcast.net)
[15:14:08] *** Quits: v038 (chatzilla@moz-n4m.bqs.204.223.IP) (Quit: ChatZilla 0.9.91.1 [SeaMonkey 2.33/20150308223711])
[15:16:03] *** Quits: morphy (Mibbit@moz-2cv.9ta.84.114.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[15:16:20] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[15:16:31] *** Joins: kung_fu_mike (mike@moz-5835nf.static.qwest.net)
[15:16:35] *** Joins: drewm1980 (drewm1980@moz-51d1tq.hujf.dasj.1812.2a02.IP)
[15:16:50] <XMPPwocky> the biggest difference probably is that Rust makes you avoid globals
[15:17:08] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[15:17:31] <XMPPwocky> while in C, since there's no nice method call syntax or anything to associate a big bucket of state with a bunch of functions (besides passing it in), you see globals used for that
[15:17:35] *** Joins: ohpesky (ohpesky@moz-rtdb8g.dynamic.hinet.net)
[15:17:45] *** Quits: ohpesky (ohpesky@moz-rtdb8g.dynamic.hinet.net) (Quit: leaving)
[15:17:47] *** Joins: tkellen (tkellen@moz-g9i.jha.92.190.IP)
[15:17:58] *** Quits: Guest74 (textual@moz-il1.n6s.204.65.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[15:18:03] *** Joins: alhof (dylan@moz-tdm.6j4.9.153.IP)
[15:18:22] *** Joins: ohpesky (ohpesky@moz-rtdb8g.dynamic.hinet.net)
[15:19:08] *** Joins: dylan_ (dylan@moz-tdm.6j4.9.153.IP)
[15:19:10] <cmr> XMPPwocky: yeah, I agree with that sentiment.
[15:19:13] *** Quits: daniel-s_ (daniel-s@moz-upmq06.monash.edu.au) (A TLS packet with unexpected length was received.)
[15:19:25] *** Joins: GaryOak_ (GaryOak_@moz-etoj16.hfc.comcastbusiness.net)
[15:19:28] *** Joins: daniel-s_ (daniel-s@moz-upmq06.monash.edu.au)
[15:20:15] *** Quits: daniel-s_ (daniel-s@moz-upmq06.monash.edu.au) (A TLS packet with unexpected length was received.)
[15:20:31] *** Joins: daniel-s_ (daniel-s@moz-upmq06.monash.edu.au)
[15:20:39] *** Joins: flyfische (flyfische@moz-p5p8ug.sth3.ptd.net)
[15:20:59] *** Joins: AngelOfSol (AngelOfSol@moz-dj58kc.rh.rit.edu)
[15:20:59] <dan_s> is there any way to return the return value of iterator.map() from a function?
[15:21:09] <dan_s> i.e. return the iterator adapter
[15:21:25] <XMPPwocky> dan_s: not nicely, at the moment :(
[15:21:26] *** Quits: fyolnish (fyolnish@moz-ilgqiq.au-net.ne.jp) (Connection closed)
[15:21:45] <XMPPwocky> because of unboxed closures having inexpressible types
[15:22:16] <XMPPwocky> you either have to box the iterator, box the closure, use a fn instead of a closure (I haven't tried that, but it should work)
[15:22:39] *** Quits: JagaJaga (JagaJaga@moz-ua8.hhl.62.178.IP) (Quit: WeeChat 1.1.1)
[15:22:44] <XMPPwocky> i also think you can use an &Fn trait object, which won't allocate at least
[15:22:49] *** Joins: JagaJaga (JagaJaga@moz-ua8.hhl.62.178.IP)
[15:22:54] <XMPPwocky> should be legal to make that &'static Fn so you can return it
[15:23:02] <XMPPwocky> assuming your closure doesn't close over anything
[15:23:07] <dan_s> yeah, it doesn't close over anything
[15:23:36] <dan_s> i'm writing a function to convert a slice of *mut to a slice of newtype wrappers over the *mut pointers
[15:23:48] <dan_s> which should be a noop, i think
[15:23:58] *** Joins: rfnash (weechat@moz-203epe.in.comcast.net)
[15:24:34] *** Quits: jdm (jdm@moz-ilbt2e.cable.teksavvy.com) (Quit: )
[15:24:49] * hugod wonders why String doesn't implement Read
[15:24:56] *** Joins: Rym (y@moz-vsu.f6d.55.31.IP)
[15:25:01] <XMPPwocky> hugod: it'd need to track the position in the string
[15:25:13] <phaylon> I find that writing my own iterators for such cases isn't too much work. did one yesterday just because I wanted to wrap the index value in an .enumerate().peekable()
[15:25:31] *** Quits: fmtq (fmtq@moz-d08itp.tpgi.com.au) (Ping timeout: 121 seconds)
[15:25:39] <hugod> XMPPwocky: ah, of course. Thanks.'
[15:25:53] <talchas> it doesn't seem to be possible to assign &|| 4 to &'static Fn()->i32, even if it should be legit
[15:25:57] <cmr> hugod: there's Cursor for that though
[15:26:16] <talchas> (sure maybe you can get away with transmuting it)
[15:26:25] *** Joins: fmtq (fmtq@moz-d08itp.tpgi.com.au)
[15:27:13] <hugod> cmr: thanks - that seems to fit the bill nicely
[15:27:23] <XMPPwocky> dan_s: http://is.gd/BKlM5A this works, at least
[15:27:30] *** Quits: skade (skade@moz-0djl38.boh1-r2.syseleven.net) (Quit: Textual IRC Client: www.textualapp.com)
[15:27:32] <hugod> Is there anything available that implements Write and Read, and pipes data that is written to it to the read methods?
[15:27:45] *** Quits: JagaJaga (JagaJaga@moz-ua8.hhl.62.178.IP) (Quit: WeeChat 1.1.1)
[15:27:51] *** Joins: JagaJaga (JagaJaga@moz-ua8.hhl.62.178.IP)
[15:27:56] *** Quits: bitonic (bitonic@moz-th0de9.31-151.libero.it) (Ping timeout: 121 seconds)
[15:28:30] <cmr> hugod: so you want a shared buffer that something writes to, and something else reads from that same thing, each with their own cursors?
[15:28:39] *** Quits: dardevelin (dardevelin@moz-a3ode1.adslplus.ch) (Quit: Leaving)
[15:28:48] *** sunfish is now known as sunfish-away
[15:29:04] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[15:29:11] *** Joins: Quanttek (quassel@moz-25k96c.6fkd.dvrb.8108.2a02.IP)
[15:29:22] *** Quits: rfnash (weechat@moz-203epe.in.comcast.net) (Quit: ZNC - http://znc.in)
[15:29:32] *** Quits: Rym (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[15:29:34] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[15:29:54] <hugod> cmr: yes; I just want to feed the output of some function that takes a Write, to some function that takes a Read
[15:29:58] *** Joins: rfnash (weechat@moz-203epe.in.comcast.net)
[15:30:42] <hugod> afaik, both functions just do sequential writes/reads
[15:30:42] <cmr> hugod: well, you should be able to Write into a Cursor<Vec<u8>> and then pass that to the thing that wants the Read.
[15:30:49] <cmr> (after resetting the cursor)
[15:30:58] *** Quits: mr_evil (Mibbit@moz-nks.906.235.212.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[15:31:29] <hugod> cmr: that will require everything to fit into memory, iiuc
[15:31:50] <cmr> hugod: are the functions running concurrently?
[15:32:03] *** Quits: MaxV (MaxV@moz-1nu.kln.167.83.IP) (Connection closed)
[15:32:13] <cmr> I don't think there's a "Stream" sort of thing that does this nicely right now.
[15:32:24] <hugod> I think they would have to in order to achieve this
[15:32:46] <XMPPwocky> build something on top of a channel<Vec> ?
[15:32:49] *** Quits: daniel-s_ (daniel-s@moz-upmq06.monash.edu.au) (A TLS packet with unexpected length was received.)
[15:32:58] *** Joins: Guest74 (textual@moz-il1.n6s.204.65.IP)
[15:32:58] <mtsr> What about VecDeque?
[15:33:04] *** Joins: daniel-s_ (daniel-s@moz-upmq06.monash.edu.au)
[15:33:24] <cmr> mtsr: VecDeque doesn't implement Read/Write and can't be wrapped in a Cursor right now.
[15:33:41] <cmr> A deque is nearly ideal, though.
[15:33:50] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[15:33:52] *** Quits: zcourts (zcourts@moz-q5hesg.rdg.ac.uk) (Client exited)
[15:34:02] <XMPPwocky> well, if it walks like a deque and quacks like a deque
[15:34:06] *** Joins: O01eg (o01eg@moz-j09co0.452a.4n8f.2698.2a02.IP)
[15:34:12] <dan_s> XMPPwocky: thanks, the function cast did the trick
[15:35:15] <hugod> I'll have a go at writing something.  Thanks cmr, XMPPwocky, mtsr.
[15:35:58] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[15:36:23] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[15:37:21] *** Joins: zcourts (zcourts@moz-q5hesg.rdg.ac.uk)
[15:37:58] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[15:39:43] *** Joins: blaenk_ (blaenkdenum@moz-em283u.res.rr.com)
[15:39:57] *** Joins: Dr-Emann (Dr-Emann@moz-f8hd1t.tvh.ptd.net)
[15:40:44] *** Quits: psy (psy@moz-ous.ntd.6.103.IP) (Connection closed)
[15:41:05] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Ping timeout: 121 seconds)
[15:41:22] <Dr-Emann> It would be nice if we could get the rust nightly gz with zsync
[15:41:59] *** Joins: StarBrilliant (StarBrillia@moz-h7h.lsk.57.36.IP)
[15:42:13] <Dr-Emann> could make things like multirust update nightly take almost no time at all.
[15:43:31] *** Joins: dlc (dlc@moz-ijetde.res.rr.com)
[15:43:32] *** Quits: gonzaloserrano (Adium@moz-1nv.3t7.97.62.IP) (Quit: Leaving.)
[15:44:05] *** Quits: blaenk_ (blaenkdenum@moz-em283u.res.rr.com) (Ping timeout: 121 seconds)
[15:45:26] *** Joins: psy (psy@moz-ous.ntd.6.103.IP)
[15:45:33] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[15:45:56] *** Quits: adrusi (adrusi@moz-p89pc5.wireless.umd.edu) (Client exited)
[15:46:55] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[15:47:58] *** Joins: gonzaloserrano (Adium@moz-1nv.3t7.97.62.IP)
[15:48:01] <cmr> Dr-Emann: you should try downloading a few nightlies and seeing how big the deltas are. strcat was doing deltas for the Arch packages for a while but the deltas were nearly as large as the package itself.
[15:48:50] *** Quits: mib (Mibbit@moz-fqj.oov.88.187.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[15:48:54] <Dr-Emann> cmr: With zsync? Because it's smart enough to use the uncompressed checksums.
[15:49:08] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[15:49:54] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[15:50:15] *** Joins: adrusi (adrusi@moz-p89pc5.wireless.umd.edu)
[15:50:30] *** Quits: bletch (Mibbit@moz-7g0bmj.ca.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[15:50:34] *** ahal is now known as ahal|lunch
[15:50:43] *** Joins: evanfarrar (evanfarrar@moz-7vs.bl6.251.207.IP)
[15:51:27] *** Joins: paullepoulpe (paullepoulp@moz-5fs.qdm.218.85.IP)
[15:54:39] *** Quits: daschl (Adium@moz-oirn1i.vie.surfer.at) (Quit: Leaving.)
[15:55:19] *** Quits: Porkepix (Porkepix@moz-e1bv2v.rev.sfr.net) (Ping timeout: 121 seconds)
[15:55:41] *** Quits: SneakySnake (nya@moz-i9is4u.pool.telekom.hu) (Quit: Leaving)
[15:56:15] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Quit: It's a joke, it's all a joke.)
[15:56:21] *** Quits: jjthrash (jjthrash@moz-d7e.ku7.220.184.IP) (Ping timeout: 121 seconds)
[15:56:51] *** Joins: SneakySnake (nya@moz-i9is4u.pool.telekom.hu)
[15:57:07] *** Quits: mnemnion (mnemnion@moz-e8rfii.ca.comcast.net) (Connection closed)
[15:57:08] *** Joins: chmanchester (Chris@moz-5cva26.2rkg.9kg1.0101.2620.IP)
[15:57:51] *** Quits: ebel_ (rory@moz-l1ldq7.hsi4.kabel-badenwuerttemberg.de) (Connection closed)
[15:57:54] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[15:57:54] *** ChanServ sets mode: +o erickt
[15:57:56] *** Quits: _ixti_ (ixti@moz-i3d.dae.119.188.IP) (Ping timeout: 121 seconds)
[15:58:19] *** Joins: _ixti_ (ixti@moz-i3d.dae.119.188.IP)
[15:58:40] *** Quits: pudgetta (Mibbit@moz-6he867.res.rr.com) (Quit: http://www.mibbit.com ajax IRC Client)
[15:58:41] *** Quits: flyfische (flyfische@moz-p5p8ug.sth3.ptd.net) (Ping timeout: 121 seconds)
[15:58:52] *** Joins: dylan__ (dylan@moz-tdm.6j4.9.153.IP)
[15:58:56] *** Joins: jimb (user@moz-09a.i8g.126.207.IP)
[15:59:24] *** Joins: mnemnion (mnemnion@moz-e8rfii.ca.comcast.net)
[15:59:34] *** Quits: RCIX (RCIX@moz-vnmep7.ph.cox.net) (Ping timeout: 121 seconds)
[16:00:57] *** suvash is now known as suvash_away
[16:01:00] <Hyeon> slice pattern syntax is experimental
[16:01:03] <Hyeon> OMG
[16:01:11] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[16:01:15] *** Joins: Porkepix (Porkepix@moz-e1bv2v.rev.sfr.net)
[16:01:22] *** Quits: mattkrea (textual@moz-hr3gaj.subnet.rcn.com) (Quit: My Mac has gone to sleep. ZZZzzz…)
[16:01:50] *** Joins: marco` (marco`@moz-8bbeoc.emb6.d045.0009.2601.IP)
[16:02:10] <steveklabnik> it just landed, yeah?
[16:02:19] <steveklabnik> everything lands unstable
[16:02:35] *** Quits: adrusi (adrusi@moz-p89pc5.wireless.umd.edu) (Client exited)
[16:03:00] *** Quits: dylan__ (dylan@moz-tdm.6j4.9.153.IP) (Quit: leaving)
[16:03:08] <bombless> which gives you a good reason to use nightlies after 1.0 (maybe)
[16:03:15] <steveklabnik> yeah, it all depends
[16:03:22] *** Joins: zzing (textual@moz-cfdo15.uwindsor.ca)
[16:03:28] *** Quits: mnemnion (mnemnion@moz-e8rfii.ca.comcast.net) (Ping timeout: 121 seconds)
[16:04:41] *** Joins: essem3 (Thunderbird@moz-f9p.4ol.7.74.IP)
[16:04:41] *** Quits: talchas (user@moz-8ubbgk.ca.comcast.net) (Connection closed)
[16:05:01] *** Quits: cdidd (cdidd@moz-k8fd5i.broadband.corbina.ru) (Ping timeout: 121 seconds)
[16:05:12] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[16:05:13] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[16:05:15] *** Joins: lov2cod (Adium@moz-263u4n.static.qwest.net)
[16:05:18] *** Joins: minzh (minzh@moz-olh.58o.206.111.IP)
[16:05:18] *** Joins: talchas (user@moz-8ubbgk.ca.comcast.net)
[16:05:44] *** Quits: lov2cod (Adium@moz-263u4n.static.qwest.net) (Quit: Leaving.)
[16:05:44] *** Joins: adrusi (adrusi@moz-p89pc5.wireless.umd.edu)
[16:05:45] *** Quits: essem2 (Thunderbird@moz-f9p.4ol.7.74.IP) (Ping timeout: 121 seconds)
[16:05:45] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[16:05:52] <Hyeon> Literally ALL my projects have broken
[16:06:14] *** Quits: __mark__ (mark@moz-pb9mc5.dynamic.chello.pl) (Ping timeout: 121 seconds)
[16:06:15] <XMPPwocky> welcome to rust, enjoy your stay :P
[16:06:23] <Hyeon> ._.
[16:07:45] *** Joins: jwatt (roslea@jwatt.irc.users.mozilla.org)
[16:08:43] *** Quits: essem3 (Thunderbird@moz-f9p.4ol.7.74.IP) (Ping timeout: 121 seconds)
[16:09:22] *** Quits: evanfarrar (evanfarrar@moz-7vs.bl6.251.207.IP) (Connection closed)
[16:09:30] <libfud> uh
[16:09:37] <libfud> is std not building for anyone then?
[16:09:54] <libfud> rather, gcc
[16:10:03] <libfud> what the heck is going on?
[16:10:04] *** Joins: jdm (jdm@moz-i5m.05u.207.66.IP)
[16:10:04] *** ChanServ sets mode: +o jdm
[16:10:57] *** Quits: timonv (timonv@moz-7btgcn.dynamic.ziggo.nl) (Ping timeout: 121 seconds)
[16:11:14] <steveklabnik> libfud: do you have the latest nightly?
[16:11:20] <steveklabnik> Hyeon: from how long ago?
[16:11:23] <libfud> I used the rustup script
[16:11:32] <libfud> should I actually use something different?
[16:11:33] *** Joins: tOkeshu (tOkeshu@moz-op8177.me)
[16:11:37] <Hyeon> steveklabnik: Five days
[16:11:38] <steveklabnik> nope, that's fine
[16:11:46] <libfud> then wat do
[16:11:53] <steveklabnik> Hyeon: yeah, that's when the 'feature gates are now compiler errors' change was, 
[16:12:00] *** Quits: StarBrilliant (StarBrillia@moz-h7h.lsk.57.36.IP) (Quit: Leaving)
[16:12:06] <Hyeon> Oops
[16:12:08] <steveklabnik> libfud: i haven't tried building it yet today, what's the problem you're seeing?
[16:12:16] <steveklabnik> Hyeon: all you have to do is declare the gates, and it will work again
[16:12:17] <Hyeon> Sounds 1.0.0-beta ready but still sad
[16:12:19] *** Joins: evanfarrar (evanfarrar@moz-7vs.bl6.251.207.IP)
[16:12:21] *** Quits: evanfarrar (evanfarrar@moz-7vs.bl6.251.207.IP) (Connection closed)
[16:12:23] <libfud> oh, maybe it's chrono
[16:12:24] <Hyeon> Alright
[16:12:32] <Hyeon> Thank you
[16:12:35] *** Joins: lov2cod (Adium@moz-263u4n.static.qwest.net)
[16:12:35] <steveklabnik> Hyeon: the error specifically is 'using a feature gate without declaring it is an error'
[16:12:35] <libfud> which I don't think I really need for this anyway
[16:12:55] <Hyeon> Aha
[16:13:11] *** Joins: lov2cod1 (Adium@moz-263u4n.static.qwest.net)
[16:13:17] <libfud> oh, wait, I do, I just haven't implemented that stuff yet
[16:13:18] <tOkeshu> hi, I have an old version of rustc and cargo and I want to upgrade. I did not find any obvious documentation to upgrade it to the latest version.
[16:13:23] *** Quits: lov2cod (Adium@moz-263u4n.static.qwest.net) (Connection closed)
[16:13:35] <steveklabnik> libfud: chrono builds for me on the latest nightly
[16:13:37] <steveklabnik> including gcc
[16:13:39] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[16:13:44] <libfud> hmm
[16:13:45] <steveklabnik> tOkeshu: how did you install in the first place?
[16:13:48] <libfud> what's going on then?
[16:13:53] <steveklabnik> rustc 1.0.0-nightly (d8be84eb4 2015-03-29) (built 2015-03-30)
[16:13:55] <libfud> here, let me paste 
[16:14:07] <steveklabnik> tOkeshu: also, what platform are you on?
[16:14:44] <tOkeshu> steveklabnik: I'm on linux. I don't remember what I used
[16:14:56] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[16:15:01] <tOkeshu> steveklabnik: I have a nightly version though (I mean an old one)
[16:15:26] *** Quits: qwerty_nor (Thunderbird@moz-kkumeb.pool.ukrtel.net) (Ping timeout: 121 seconds)
[16:15:36] *** Quits: minzh (minzh@moz-olh.58o.206.111.IP) (A TLS packet with unexpected length was received.)
[16:15:42] *** Joins: zmv (Mibbit@moz-ib8.b7k.139.177.IP)
[16:15:46] *** Joins: owl (owl@moz-hhb.1r3.33.213.IP)
[16:15:48] <libfud> what what
[16:15:51] <libfud> literally what
[16:15:59] <steveklabnik> tOkeshu: okay. so i guess i'd just tell you to either 1: use multirust, which is awesome, or 2: just run rustup.sh again, and it should upgrade
[16:16:00] <libfud> ok, nevermind, it's building fine now
[16:16:00] <libfud> but
[16:16:10] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Connection closed)
[16:16:10] <libfud> cargo clean followed by cargo build didn't work before
[16:16:14] <owl> hey guys
[16:16:21] <libfud> but then after removing chrono as a dependency, trying to build it, and readding it, it works
[16:16:25] <owl> I see some strange behavior of HashMap
[16:16:27] <libfud> I'm stumped
[16:16:28] <steveklabnik> tOkeshu: iv'e switched to https://github.com/brson/multirust and it's pretty great, as it lets you switch between versions and update really easily
[16:16:32] <steveklabnik> libfud: strange
[16:16:35] <owl> it says it doesn't have method .len
[16:16:38] <owl> is it possible?
[16:16:42] *** Quits: zmack (zmack@moz-1oe.89t.76.82.IP) (Connection closed)
[16:16:51] <libfud> steveklabnik: well, if it happens again I'll speak up
[16:16:56] <libfud> time to fix these new warnings
[16:16:57] <steveklabnik> owl: seems weird. have some code?
[16:17:00] <owl> yep
[16:17:06] <owl> what's the current address of playpen?
[16:17:13] <steveklabnik> play.rust-lang.org
[16:18:00] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (A TLS packet with unexpected length was received.)
[16:18:06] *** Quits: alhof (dylan@moz-tdm.6j4.9.153.IP) (Ping timeout: 121 seconds)
[16:18:10] <owl> http://is.gd/QdZcUi here you are
[16:18:14] *** Quits: dylan_ (dylan@moz-tdm.6j4.9.153.IP) (Ping timeout: 121 seconds)
[16:18:40] <owl> oh, i just realized that it's &HashMap, not HashMap
[16:18:48] <libfud> so with anything that has .as_slice (namely, String)
[16:18:48] <owl> it's not auto-dereferenced?
[16:18:57] <libfud> I need to add #[feature(convert)]
[16:19:01] <ruzu> weird q: is there a way on x86 (or anything i guess) to pin code to be loaded an executed on a specific ram module?
[16:19:03] <libfud> then use std::convert
[16:19:05] *** Joins: Rym (y@moz-vsu.f6d.55.31.IP)
[16:19:11] <libfud> uh
[16:19:20] <libfud> man, I'm confused as to the actual syntax for this
[16:19:40] <bodie> let's say I'm using Racer and recompiling with each nightly Rust build.  in my mind, it shouldn't really matter much which version of Rust I compiled it with (right?) as long as it compiles and has access to the source.  so, this brings me to my question....
[16:19:43] <Mutabah> owl: Known issue
[16:19:51] <Mutabah> owl: Basically, you need to bound K to be Hash
[16:19:53] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[16:19:57] *** Joins: cdidd (cdidd@moz-ahda60.broadband.corbina.ru)
[16:20:20] <steveklabnik> libfud: s.as_slice should be &s now
[16:20:25] <Mutabah> owl: Many library types don't have bounds on the type (instead having bounds on the impl)
[16:20:30] <steveklabnik> libfud: or sometimes &s[..]
[16:20:34] *** Quits: dodo (dodo@moz-trg.cj2.196.66.IP) (Connection closed)
[16:20:38] <bodie> can I just use the Cargo.toml to specify what version of Rust should be used to compile a crate?
[16:20:39] *** Quits: dinfuehr (dinfuehr@moz-c25.u8s.112.91.IP) (Connection closed)
[16:20:39] <Mutabah> adrusi: Which means you can make the type, but can't do anything with it
[16:20:47] *** Joins: dodo (dodo@moz-trg.cj2.196.66.IP)
[16:20:49] <steveklabnik> bodie: well, it depends on how racer was written
[16:20:54] <steveklabnik> bodie: but no, you cannot do that currently
[16:20:55] *** AutomatedTester is now known as AutomatedTester|AFK
[16:20:58] <bodie> hmmm
[16:21:00] *** Joins: dinfuehr (dinfuehr@moz-c25.u8s.112.91.IP)
[16:21:14] <libfud> steveklabnik:  but not &s[..] for strings because of the variable length of chars, right?
[16:21:17] <bodie> steveklabnik, what's the next-best workaround for demanding a particular rustc version?
[16:21:27] *** Quits: rampantmonkey (rampantmonk@moz-bq6.697.143.69.IP) (Connection closed)
[16:21:29] <steveklabnik> libfud: probably, yes. i usually just use &s at first and see if it works :p
[16:21:45] <steveklabnik> bodie: we don't really have one yet
[16:21:47] *** Joins: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP)
[16:21:59] *** Joins: Irbis (Irbis@moz-u02516.abo.bbox.fr)
[16:22:01] <steveklabnik> bodie: it's pretty much 'use nightly and upgrade if stuff breaks' so far
[16:22:03] <bodie> oh, okay
[16:22:04] <owl> Mutabah: I did that (added Foo + Hash bound on K), but the error stays the same
[16:22:14] <Mutabah> owl: Sorry, Hash+Eq
[16:22:21] <Mutabah> owl: Check the docs when things like this happen
[16:22:34] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Ping timeout: 121 seconds)
[16:22:37] <bodie> steveklabnik, can cargo specify crate versions, at least?
[16:22:45] <steveklabnik> absolutely!
[16:22:56] <bodie> okay.  I'm used to lein and sbt, ya know?  so this is throwing me off a bit
[16:23:06] <bodie> maybe the community would benefit from something more along those lines?
[16:23:08] <steveklabnik> i haven't used those as much as pip and bundler
[16:23:15] <steveklabnik> well, see, we've talked about it
[16:23:33] <steveklabnik> one of the things is that since rust is going for great backwards compatibility, it's got some different constraints
[16:23:39] *** Quits: zzing (textual@moz-cfdo15.uwindsor.ca) (Quit: My Mac has gone to sleep. ZZZzzz…)
[16:23:48] <steveklabnik> what you want is a _minimum_ version, and we can even theoretically do it automatically, possibly
[16:23:57] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Ping timeout: 121 seconds)
[16:23:57] *** Quits: areski (areski@moz-raunpv.dynamicIP.rima-tde.net) (Ping timeout: 121 seconds)
[16:23:58] <steveklabnik> anyway, versioning crates
[16:24:11] <steveklabnik> is your dependency on crates.io, or are you pointing it to a git repository at the moment?
[16:24:20] <bodie> still just thinking hypothetically
[16:24:26] <steveklabnik> ah
[16:24:34] <owl> Mutabah: what should I pay attention when looking in the docs? `len` help doesn't state anything about type bounds
[16:24:43] *** Joins: sargas (sargas@moz-863roc.hfc.comcastbusiness.net)
[16:24:45] <steveklabnik> if it's a git repo, you can point it to a branch, ref, or tag
[16:24:46] <Mutabah> owl: The impl block it's part of does
[16:24:53] <sargas> are we beta tomorrow?
[16:24:55] <bodie> nice
[16:24:55] <steveklabnik> if it's on crates.io, you can use whatever version constraints you want
[16:24:56] <steveklabnik> sargas: friday
[16:25:03] *** Quits: dinfuehr (dinfuehr@moz-c25.u8s.112.91.IP) (Ping timeout: 121 seconds)
[16:25:04] <Mutabah> owl: As said, it's a known issue that rustc doesn't tell you about those missing bounds
[16:25:09] *** Joins: Guest39 (textual@moz-8vrlkj.austtx.sbcglobal.net)
[16:25:23] <libfud> http://is.gd/uImAjL
[16:25:37] <bodie> I'm considering trying to apply rust to build some microservices where I'd normally use something more like scala, but not being able to constrain the build to a maintainable rust version is obviously problematic.  OTOH, I recognize it's still in flux
[16:25:37] <owl> Mutabah: oh, yeah, now it's clearer. Thanks
[16:25:45] <libfud> steveklabnik: how're you supposed to use &s there?
[16:25:47] <Mutabah> libfud: No = on that line
[16:25:51] <bodie> but like
[16:25:56] <bodie> Servo does it!!1
[16:25:56] <libfud> I'm still not clear on this
[16:26:02] *** Quits: Guest74 (textual@moz-il1.n6s.204.65.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[16:26:07] *** Joins: Kxepal (Miranda@moz-a3ojac.pppoe.mtu-net.ru)
[16:26:08] <libfud> eh?
[16:26:33] *** Quits: owl (owl@moz-hhb.1r3.33.213.IP) (Quit: Leaving)
[16:26:41] <bodie> so that got me thinking about Rust build tech and whether I should learn to use Mach
[16:26:47] <steveklabnik> libfud: you don't need to: http://is.gd/SRfbgM
[16:27:04] <steveklabnik> bodie: yeah. beta is friday, which is the first time we have a new, more stable channel (beta)
[16:27:04] *** Quits: lenstr_ (lenstr@moz-kso.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[16:27:16] <bodie> :D
[16:27:17] <libfud> oh, so I can use str methods for Strings now?
[16:27:25] <libfud> that's pretty sweet
[16:27:25] <Mutabah> libfud: yes
[16:27:34] <Mutabah> libfud: String impls Deref<Target=str>
[16:27:39] <steveklabnik> servo uses mach for a number of reasons, but one of those is that they didn't know you can write a 'cargo-foo' command to get 'cargo foo'. mach adds extra stuff on top, like that
[16:28:00] <steveklabnik> mach also lets them pin to a specific version of rust, which matters to them, and isn't part of our tooling, as the community mostly just updates
[16:28:19] *** Joins: mcoffee (mcoffee@moz-pulhkr.wireless.sfu.ca)
[16:28:38] <steveklabnik> one of the things to do during the beta is to figure out these new kinds of norms, like specifying compiler versions.
[16:29:05] *** Quits: jnicklas (dev@moz-922jbo.sme.bredbandsbolaget.se) (Client exited)
[16:29:23] *** ahal|lunch is now known as ahal
[16:29:26] *** Quits: yuja (yuja@moz-31d0d7.so-net.ne.jp) (Ping timeout: 121 seconds)
[16:29:28] <libfud> ooh
[16:29:33] <libfud> I wonder if I should rewrite this
[16:30:12] *** Quits: dlc (dlc@moz-ijetde.res.rr.com) (Quit: Leaving)
[16:30:17] *** Quits: onelson (owen@moz-au7is8.laika.com) (A TLS packet with unexpected length was received.)
[16:30:26] *** Joins: Astrum|Lap (Astrum|Lap@moz-7enfbr.co.comcast.net)
[16:30:27] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[16:31:20] *** Quits: shellac (pldms@moz-c7026f.bris.ac.uk) (Ping timeout: 121 seconds)
[16:31:23] *** Joins: evanfarrar (evanfarrar@moz-7vs.bl6.251.207.IP)
[16:31:29] *** Quits: fabiand (fabiand@moz-uct07d.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[16:31:40] *** Joins: eddyb (eddyb@moz-ar9.ad3.27.188.IP)
[16:31:45] *** Quits: nawns (nawns@moz-0l6.cn2.211.128.IP) (Client exited)
[16:31:46] *** Joins: jarjar_prime (jarjar_prim@moz-p2pbtb.ca.comcast.net)
[16:31:50] *** Quits: zcourts (zcourts@moz-q5hesg.rdg.ac.uk) (Ping timeout: 121 seconds)
[16:32:03] *** Quits: ptalbot (ptalbot@moz-g2mokk.ircam.fr) (Ping timeout: 121 seconds)
[16:32:31] <libfud> I'm trying to figure out why I did this
[16:32:31] <libfud> so
[16:33:10] <libfud> I have a struct which is for an iterator, and one of its fields is a vector of functions
[16:33:41] <libfud> I pass that vector to another function as an array of functions instead
[16:34:25] <libfud> would it be fine to pass it as a reference like &foo.rules instead, or is there some benefit to passing it as I do now (foo.rules.as_slice())?
[16:34:34] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[16:34:59] *** Quits: scialex (scialex@moz-nn5.l1h.16.138.IP) (Ping timeout: 121 seconds)
[16:35:01] *** Joins: onelson (owen@moz-au7is8.laika.com)
[16:35:09] *** Joins: duesenfranz (jona@moz-t4ekhe.dyn.drei.com)
[16:35:12] *** Joins: michas (michas@moz-pk13qm.web.vodafone.de)
[16:35:16] <jn> libfud: what's the signature of the "other function"?
[16:35:32] *** Quits: evanfarrar (evanfarrar@moz-7vs.bl6.251.207.IP) (Ping timeout: 121 seconds)
[16:35:32] <libfud> the signature of the functions in the vector
[16:35:35] <XMPPwocky> libfud: you can pass it as &foo.rules now, because of deref coercions
[16:35:37] <libfud> or the signature of the helper function?
[16:35:59] <libfud> XMPPwocky: kk
[16:36:00] *** Quits: nicoch (nicoch@moz-g02d7k.be) (Quit: My Mac has gone to sleep. ZZZzzz…)
[16:36:13] *** Joins: dschatzberg (dschatz@moz-merj6t.ma.comcast.net)
[16:36:39] <dschatzberg> libc crate is broken on nightly?
[16:36:59] *** Quits: marco` (marco`@moz-8bbeoc.emb6.d045.0009.2601.IP) (Connection closed)
[16:37:51] *** Quits: dstrbad (dstrbad@moz-qrhvrh.cable.xnet.hr) (A TLS packet with unexpected length was received.)
[16:37:58] *** Joins: jviereck (Adium@moz-iqlcgt.ethz.ch)
[16:38:33] *** Quits: adrusi (adrusi@moz-p89pc5.wireless.umd.edu) (Client exited)
[16:38:42] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[16:38:59] <SneakySnake> dschatzberg: libc 0.1.4 builds for me on (d8be84eb4 2015-03-29)
[16:39:01] *** Joins: lenstr (lenstr@moz-kso.vju.25.171.IP)
[16:39:08] *** Quits: drewm1980 (drewm1980@moz-51d1tq.hujf.dasj.1812.2a02.IP) (Ping timeout: 121 seconds)
[16:39:08] *** Joins: flyfische (flyfische@moz-p5p8ug.sth3.ptd.net)
[16:39:19] <libfud> I have my parser functional now, but before I commit any further to this, I want to fish for some opinions
[16:39:23] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[16:39:49] *** Joins: Guest74 (textual@moz-il1.n6s.204.65.IP)
[16:40:14] <libfud> I'm using sexps for some data structures which are recursive
[16:40:49] <dschatzberg> SneakySnake: I'm on c89de2c56 and having no luck
[16:40:49] <libfud> can json and/or yaml handle that, and is there an advantage in using either of those to just rolling my own with sexps?
[16:40:51] *** Joins: __ixti__ (ixti@moz-i3d.dae.119.188.IP)
[16:41:17] <libfud> data structure may not be the right word here to begin with, but I'm at a loss for a better way to describe it
[16:41:44] *** Quits: _ixti_ (ixti@moz-i3d.dae.119.188.IP) (Ping timeout: 121 seconds)
[16:42:00] <dschatzberg> SneakySnake: ah nvm, had libc at 0.1.3
[16:42:06] <jviereck> steveklabnik: hi Steve, what's your opinion on this one here? https://github.com/rust-lang/rust/pull/23795#discussion_r27331633 - happy to do whatever you two guys want me todo, but at the moment I have two conflicting opinions and don't know which one I should follow
[16:42:35] *** Joins: Savago (Savago@moz-8hd.3b6.246.162.IP)
[16:43:01] <tOkeshu> steveklabnik: ok, I had to uninstall the current toolchain but I installed multirust, danke dir
[16:43:07] *** Joins: mattkrea (textual@moz-hr3gaj.subnet.rcn.com)
[16:43:09] *** Joins: Xirdus (Mibbit@moz-noa5ui.tvk.wroc.pl)
[16:43:59] *** Joins: dardevelin (dardevelin@moz-a3ode1.adslplus.ch)
[16:44:21] <Xirdus> when i declare a trait in my lib thats supposed to be derived by clients, and one of methods takes iterator as parameter, should i require the iterator to be Sized?
[16:45:14] *** Joins: rezrov (rez@moz-lks.nus.241.192.IP)
[16:45:24] <SneakySnake> jviereck: It sounds redundant and noisy to me. It should be enough to see the type arguments once.
[16:45:56] *** Joins: shmup (shmup@moz-ucm.ei6.184.192.IP)
[16:47:16] *** Joins: pcwalton (pcwalton@moz-nh2.o1i.216.216.IP)
[16:47:17] *** ChanServ sets mode: +ao pcwalton pcwalton
[16:48:47] *** Quits: akawaka (akawaka@moz-0bb8q8.irvnca.sbcglobal.net) (Ping timeout: 121 seconds)
[16:49:00] *** Quits: CustosL1men (CustosLimen@moz-43o.etd.160.41.IP) (Ping timeout: 121 seconds)
[16:49:42] *** Joins: akawaka (akawaka@moz-0bb8q8.irvnca.sbcglobal.net)
[16:49:45] *** Joins: jjthrash (jjthrash@moz-os4jel.rmo.bellsouth.net)
[16:50:11] *** Joins: MaxV (MaxV@moz-3essje.rev.sfr.net)
[16:50:20] *** Joins: matthewhill (matthewhill@moz-63h.n37.205.137.IP)
[16:50:22] *** Joins: evanfarrar (evanfarrar@moz-7vs.bl6.251.207.IP)
[16:50:24] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[16:50:39] *** Quits: matthewhill (matthewhill@moz-63h.n37.205.137.IP) (Quit: Lingo: www.lingoirc.com)
[16:50:52] *** Quits: summerlight (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[16:51:15] *** Quits: robmiller (robmiller@moz-vi5.alb.250.94.IP) (Quit: Leaving.)
[16:51:21] *** Joins: drewm1980 (drewm1980@moz-51d1tq.hujf.dasj.1812.2a02.IP)
[16:52:07] <Xirdus> is there a way to typedef a trait?
[16:52:15] <Xirdus> or something akin to typedef?
[16:54:17] <Xirdus> i tried "pub trait Foo: Iterator where <Self as Iterator>::Item: Iterator<Item=char> {}" but then it complains that "type `<T as core::iter::Iterator>::Item` does not implement any method in scope named `take_while`"
[16:54:32] *** Quits: evanfarrar (evanfarrar@moz-7vs.bl6.251.207.IP) (Ping timeout: 121 seconds)
[16:54:51] *** Joins: jedahan (jedahan@moz-58nkpr.biz.rr.com)
[16:54:51] *** Parts: talchas (user@moz-8ubbgk.ca.comcast.net) ("ERC Version 5.3 (IRC client for Emacs)")
[16:54:55] *** Joins: talchas (user@moz-8ubbgk.ca.comcast.net)
[16:55:29] *** Joins: azita (Azita@moz-cfhap5.mtv2.mozilla.com)
[16:57:39] <pcwalton> Xirdus: you can "pub use" if there are no type parameters involved, but you can't typedef a trait otherwise
[16:58:22] *** Quits: acomar (acomar@moz-28n3q9.fios.verizon.net) (Ping timeout: 121 seconds)
[16:58:56] <bombless> hmmm do you mean `trait Foo: Iterator<Item=char> {}`?
[16:58:57] *** Quits: laparca (laparca@moz-rgcs06.mgob.kh00.0488.2a01.IP) (Quit: Leaving.)
[16:59:16] <Xirdus> bombless: no, i mean an iterator over iterators over chars
[16:59:37] *** Quits: mithsv (mithsv@moz-gahb71.dynamic.caiway.nl) (Quit: )
[16:59:39] <Xirdus> the declaration is longer than function body in some cases
[16:59:46] *** Joins: akahuh (akawaka@moz-0bb8q8.irvnca.sbcglobal.net)
[16:59:54] *** Quits: akawaka (akawaka@moz-0bb8q8.irvnca.sbcglobal.net) (Connection closed)
[16:59:55] *** akahuh is now known as akawaka
[17:00:20] <Xirdus> ...is it possible to have stateful compiler plugin macros?
[17:00:23] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[17:00:32] *** Joins: mnemnion (mnemnion@moz-kf3boi.ca.comcast.net)
[17:00:40] <Xirdus> ie. with some values preserved between calls?
[17:00:54] <Xirdus> s/values/variables
[17:01:20] *** Quits: tkellen (tkellen@moz-g9i.jha.92.190.IP) (Ping timeout: 121 seconds)
[17:02:01] *** Joins: mr_trousers (Mibbit@moz-rnk.r3h.163.177.IP)
[17:02:08] *** Joins: tkellen (tkellen@moz-n6d.946.2.186.IP)
[17:02:10] *** Joins: jjthrash_ (jjthrash@moz-rf5qcp.pools.spcsdns.net)
[17:02:41] *** Joins: jjthras__ (jjthrash@moz-rf5qcp.pools.spcsdns.net)
[17:02:49] *** Joins: evanfarrar (evanfarrar@moz-7vs.bl6.251.207.IP)
[17:03:16] *** Quits: jjthrash_ (jjthrash@moz-rf5qcp.pools.spcsdns.net) (Connection closed)
[17:03:20] <eddyb> Xirdus: TLS
[17:03:44] *** Quits: gonzaloserrano (Adium@moz-1nv.3t7.97.62.IP) (Quit: Leaving.)
[17:03:55] <Xirdus> eddyb: um... what?
[17:04:09] *** Joins: yodle (Mibbit@moz-1scnim.skybroadband.com)
[17:04:13] <eddyb> Xirdus: thread-local state
[17:04:38] <Xirdus> eddyb: will it work with compiler plugins?
[17:04:45] <yodle> is there a bug with Enum namespaces? I seem to sometimes get "does not contain a method in scope" when trying `crate::Enum::Variant`
[17:04:55] <Xirdus> and what are the semantics for multi-file crates?
[17:04:56] <eddyb> Xirdus: yupp, it's single-threaded
[17:05:13] <Xirdus> do i have any guarantee about order of evaluation at all?
[17:05:23] <Xirdus> can i force multiple passes?
[17:05:33] <eddyb> somewhat and no
[17:05:40] <Xirdus> :/
[17:05:47] <eddyb> (the order of evaluation of everything is AST order)
[17:05:48] *** Quits: jjthrash (jjthrash@moz-os4jel.rmo.bellsouth.net) (Ping timeout: 121 seconds)
[17:06:13] <eddyb> (source order, basically)
[17:06:15] <Xirdus> i thought of making declare_typedef!() and use_typedef!() macros
[17:06:49] <eddyb> oh
[17:06:53] <Xirdus> but that would require all declare_typedef!()'s to be parsed before any use_typedef!()
[17:06:56] <eddyb> Xirdus: that's a pretty bad idea
[17:06:57] *** Quits: evanfarrar (evanfarrar@moz-7vs.bl6.251.207.IP) (Ping timeout: 121 seconds)
[17:07:04] <Xirdus> in whole crate, including dependencies
[17:07:14] <eddyb> in terms of integrating with rustc in its current state
[17:07:27] <eddyb> Xirdus: why do you think you need it?
[17:07:40] <eddyb> instead of `type X = Y;`
[17:07:44] *** jarjar_prime is now known as jarjar_prime_away
[17:08:02] <Xirdus> eddyb: im tired of writing "where T: Iterator, <T as Iterator>::Item: Iterator<Item=char>"
[17:08:37] *** Joins: nielx (Mibbit@moz-7jr.c9a.145.46.IP)
[17:08:41] <eddyb> aaand how would anything typedef-like solve that?
[17:08:50] <eddyb> you can totally make a trait encompassing that property
[17:08:57] *** Quits: MaxV (MaxV@moz-3essje.rev.sfr.net) (Connection closed)
[17:08:59] <Xirdus> eddyb: no i cant
[17:09:08] <eddyb> why?
[17:09:09] <Xirdus> i tried "pub trait Foo: Iterator where <Self as Iterator>::Item: Iterator<Item=char> {}" but then it complains that "type `<T as core::iter::Iterator>::Item` does not implement any method in scope named `take_while`"
[17:09:09] *** Joins: ziad (ziad@moz-3kp.prd.136.50.IP)
[17:09:26] <Xirdus> ie. it doesnt recognize T::Item as Iterator
[17:09:55] *** Joins: pedroff (pedroff@moz-5327rl.rev.vodafone.pt)
[17:10:03] *** Joins: jedahan_ (jedahan@moz-58nkpr.biz.rr.com)
[17:10:07] <eddyb> Xirdus: that's not supposed to happen
[17:10:13] <eddyb> Xirdus: did you have a blanket impl?
[17:10:19] <Xirdus> yep
[17:10:41] <eddyb> can you put the trait, the blanket impl and a function on playpen?
[17:10:43] <Xirdus> impl<T> Foo for T where T: Iterator, <T as Iterator>::Item: Iterator<Item=char> {}
[17:10:45] *** Joins: robmiller (robmiller@moz-1u0.tg5.0.141.IP)
[17:10:52] *** Joins: hhhhhhhhhh (mike@moz-969kuj.cable.virginm.net)
[17:10:53] *** Joins: areski (areski@moz-uuek6u.user.ono.com)
[17:11:10] *** Quits: nielx (Mibbit@moz-7jr.c9a.145.46.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[17:11:39] *** Quits: jedahan (jedahan@moz-58nkpr.biz.rr.com) (Ping timeout: 121 seconds)
[17:11:53] <eddyb> okay, I can work with that, thanks
[17:12:07] *** Joins: acomar (acomar@moz-28n3q9.fios.verizon.net)
[17:12:09] <eddyb> Xirdus: OH
[17:12:14] <eddyb> Xirdus: take_while is your issue?
[17:12:21] <silven> What's the status on unsized return types? Like returning a "raw" Iterator or such?
[17:12:21] <Xirdus> eddyb: yes
[17:12:33] <eddyb> Xirdus: try pub trait Foo: Sized + Iterator ... (the rest is the same)
[17:13:40] <yodle> looks like I get "does not imaplement any method in scope" when trying to access any Enum outside my crate, changing the namespace path results in "undeclared type", so it's being found, but I can't access the Enum variants?
[17:13:41] *** Joins: robmiller1 (robmiller@moz-96e.teo.74.77.IP)
[17:13:43] <Savago> Good morning. A question: is it possible to use rustc + icecc?
[17:14:08] <Xirdus> eddyb: still the same error
[17:14:14] *** Quits: coryforsyth (coryforsyth@moz-q577km.static.cosmoweb.net) (Client exited)
[17:14:19] <eddyb> Savago: I don't expect it to work out of the box
[17:14:47] *** Quits: robmiller (robmiller@moz-1u0.tg5.0.141.IP) (Ping timeout: 121 seconds)
[17:14:47] <eddyb> Savago: and, well, rustc's model cannot be distributed, not even across threads, atm
[17:14:48] <Xirdus> though i also get "cannot infer enough type information" for a function that takes Foo
[17:14:52] <Savago> eddyb: has anyone ever tried? icecc can use both gcc and/or clang. In theory should be possible.
[17:14:54] <eddyb> Xirdus: hmm
[17:14:54] <steveklabnik> yodle: how are you defining the methods on those enums? just an impl block or a trait + impl? And if you can share your code, that helps
[17:15:08] <eddyb> Savago: those two have the same CLI
[17:15:23] <eddyb> Savago: i.e. you can make /usr/bin/gcc point to clang and nothing should break
[17:15:34] <steveklabnik> jviereck: i'll comment in thread, i thought i did already, sorry :(
[17:15:36] <Xirdus> ill try to work out minimum example - mine is very... complicated, with several skips and takes and zips and curryings and such
[17:15:40] <yodle> steveklabnik: I'm using the glfw-rs library, trying to access glfw::Key, no methods involved
[17:15:44] <Rubennn> hey all, I was wondering, could anyone tell me what the difference is between Fn() and FnMut()? As in, what can I do with FnMut() that I can't do with Fn()? Should my library allow the user to provide a Fn() or FnMut() for a callback?
[17:15:45] <Savago> eddyb: you mean the way rustc works wouldn’t scale with multiple machines compiling?
[17:16:01] <steveklabnik> yodle: hmm, not familliar with glfw. i ask because if it's a trait, you have to use the trait, otherwise, it doesn't get the meothds
[17:16:05] <eddyb> Savago: you can't split the compilation of a crate, it might as well be atomic
[17:16:27] <Savago> eddyb: damn…
[17:16:28] <eddyb> Rubennn: FnMut can mutate its environment
[17:16:44] <yodle> steveklabnik: yeap I've managed to get my head around that one. I seem to get this all the time and just end up re-implementing the Enums in my own modules, is there some problem with cross-crate Enum namespaces?
[17:17:42] <yodle> steveklabnik: this is in a module that makes extensive successful use of glfw, but any attempt to access the Enums fails with "no method in scope", (why is it even looking for a method in an Enum...)
[17:18:01] <Rubennn> eddyb: so with FnMut I can change something in the 'parent scope' (I'm not sure what the correct term is) whereas with Fn I cannot?
[17:18:25] <eddyb> Rubennn: pretty much
[17:18:32] *** Parts: nical (nical@moz-be91i5.2500.1rfi.0450.2001.IP) ("")
[17:18:43] <Rubennn> I see, that explains a lot :) thanks!
[17:18:53] <eddyb> Rubennn: also, a value with a type implementing FnMut needs to be mutable to be called
[17:18:59] *** Joins: marco` (marco`@moz-mg4hel.static.sonic.net)
[17:19:03] <eddyb> Rubennn: so if you have Rc<something>, it's easier to put Fn there
[17:19:09] <steveklabnik> yodle: not aware of any. maybe just put what you have up on github so i can check i tout?
[17:19:12] <steveklabnik> it out
[17:19:13] *** jarjar_prime_away is now known as jarjar_prime
[17:19:42] <Rubennn> eddyb: sounds reasonable
[17:19:57] <eddyb> Rc<Fn()> coming soon to a rustc near you (review wanted https://github.com/rust-lang/rust/pull/23785)
[17:20:00] <jviereck> when is a struct in Rust exactly copyable? When the field declarations are copyable and the struct doesn't have a marker::NoCopy marker?
[17:20:07] <dschatzberg> can anyone help me understand why this requires a lifetime bound? http://is.gd/2adZc5
[17:20:17] <eddyb> jviereck: nowadays you have to implement Copy (it's derived most of the time)
[17:20:23] <yodle> steveklabnik: for example;  let x = crate::Enum::Variant;  //fails
[17:20:38] *** Joins: WD-40 (uid59278@moz-0a9h81.ealing.irccloud.com)
[17:20:39] <eddyb> yodle: is Enum at the top of the crate?
[17:20:42] <WD-40> Hey guys
[17:20:46] <eddyb> (and not in some sub-module?)
[17:20:49] *** Joins: Racquetball (namestolenw@moz-dnlovt.cpe.twtelecom.net)
[17:20:56] *** Joins: adrusi (adrusi@moz-p89pc5.wireless.umd.edu)
[17:21:01] <WD-40> There's this benchmark repo that needs some updating with the latest Rust: https://github.com/kostya/benchmarks
[17:21:06] <yodle> eddyb: not a namespace issue I dont think, otherwise it would fail with "undefined type" right?
[17:21:19] <yodle> eddyb: this is failing with "no method in scope named Variant"
[17:21:29] <WD-40> though, that language named Crystal is peculiar 
[17:21:36] <yodle> eddyb: can an Enum not be an lvalue or something like that perhaps?
[17:21:45] *** Quits: robmiller1 (robmiller@moz-96e.teo.74.77.IP) (Ping timeout: 121 seconds)
[17:21:52] <jviereck> eddyb: thx!
[17:21:54] *** Quits: __ixti__ (ixti@moz-i3d.dae.119.188.IP) (Ping timeout: 121 seconds)
[17:22:13] *** Quits: ziad (ziad@moz-3kp.prd.136.50.IP) (Client exited)
[17:22:28] *** Joins: dmac_ (dmac@moz-h4nvlf.ca.comcast.net)
[17:22:40] *** Joins: evanfarrar (evanfarrar@moz-7vs.bl6.251.207.IP)
[17:22:43] <eddyb> Xirdus: minimal reproduction http://is.gd/lAQpx4
[17:22:53] *** Joins: deadc0de (chsitter@moz-lrh.035.31.94.IP)
[17:22:59] *** Quits: adrusi (adrusi@moz-p89pc5.wireless.umd.edu) (Client exited)
[17:23:02] <eddyb> yodle: uhm...
[17:23:04] *** Quits: jiojiajiu (jiojiajiu@moz-trc2j7.asianet.co.th) (Ping timeout: 121 seconds)
[17:23:31] <eddyb> yodle: does let _: crate::Enum; work?
[17:23:54] *** Joins: james4k_ (james@moz-gi3bll.consolidated.net)
[17:23:56] <eddyb> Xirdus: OOPS
[17:24:02] <eddyb> Xirdus: I told you to put Sized on the wrong type!
[17:24:24] <yodle> eddyb: yes that compiles
[17:24:30] *** Quits: WD-40 (uid59278@moz-0a9h81.ealing.irccloud.com) (Quit: )
[17:24:36] <eddyb> yodle: what does the definition of the enum look like?
[17:24:40] *** Joins: cursivecode (textual@moz-4u56i9.res.bhn.net)
[17:24:45] <steveklabnik> yodle: it really, really depends. as i said, some code would make it much easier
[17:25:09] *** Quits: dtantsur (dtantsur@moz-1821b5.net.upcbroadband.cz) (Quit: Leaving)
[17:25:21] <yodle> eddyb: http://www.rust-ci.org/bjz/glfw-rs/doc/glfw/enum.Key.html
[17:25:21] <eddyb> yodle: the method error means the type was resolved (as you've just proven), so the variant is not there *or* rustc has a bug and doesn't see the variant for some reason
[17:25:33] *** Joins: mithsv (mithsv@moz-gahb71.dynamic.caiway.nl)
[17:25:35] <eddyb> yodle: you have to look in the code you are working with, sorry
[17:26:07] <eddyb> it's so much more likely that the version you're compiling does not have that variant name
[17:26:55] <eddyb> (if you're using Cargo, look in Cargo.lock for glfw and grab the commit hash)
[17:26:56] *** dmac_ is now known as dmac
[17:27:09] <Xirdus> eddyb: i put Sized everywhere and still get error
[17:27:13] <yodle> eddyb: on it, thanks for the help
[17:27:18] *** Joins: tatref (tatref@moz-cdnalk.abo.wanadoo.fr)
[17:27:23] <Xirdus> http://is.gd/syguDk
[17:27:35] <eddyb> Xirdus: I'm not getting it to work either :(
[17:27:49] *** Quits: pcwalton (pcwalton@moz-nh2.o1i.216.216.IP) (Client exited)
[17:27:57] *** Joins: {AS} (uid45026@moz-srvrrh.uxbridge.irccloud.com)
[17:27:58] *** Quits: james4k_ (james@moz-gi3bll.consolidated.net) (Ping timeout: 121 seconds)
[17:28:08] *** Quits: espadrine (tyl@moz-qfr4fg.abo.wanadoo.fr) (Ping timeout: 121 seconds)
[17:28:28] *** Joins: gsingh93 (gulshan@moz-3fu4am.mi.comcast.net)
[17:28:36] <eddyb> steveklabnik: who thought it was a good idea to hide part of the UI for smaller viewport widths?
[17:28:53] *** Quits: hhhhhhhhhh (mike@moz-969kuj.cable.virginm.net) (Quit: WeeChat 1.1.1)
[17:28:56] <yodle> eddyb: wow, they changed the name of the variant, docs are out of date :( thanks, I never even considered that would be the case!
[17:28:58] <eddyb> steveklabnik: if I tile my browser window so it doesn't use 100% of my display, I can't see the [src] links in rustdoc
[17:28:58] *** Joins: meh (meh@moz-649fdd.42-151.net24.it)
[17:29:08] <eddyb> yodle: Occam's razor, really
[17:29:17] *** Quits: tatref (tatref@moz-cdnalk.abo.wanadoo.fr) (Quit: http://www.kiwiirc.com/ - A hand crafted IRC client)
[17:29:24] * steveklabnik shrugs
[17:29:28] <eddyb> yodle: though you should know that rust-ci is a bit old... and I'm not sure how many projects are still updated
[17:29:29] *** Joins: jesse99 (jjones@moz-iu7.is7.137.67.IP)
[17:29:43] <eddyb> steveklabnik: mostly wondering if you've seen an issue about that
[17:29:51] <steveklabnik> i have not
[17:29:53] <cmr> eddyb: I'm pretty sure I r+'d the PR that did that.
[17:29:56] <yodle> eddyb: I'll bare that in mind thanks 
[17:29:57] <steveklabnik> might be worth fililng
[17:29:58] <cmr> eddyb: I consider it a feature.
[17:30:07] <eddyb> cmr: *sigh*
[17:30:07] <steveklabnik> i mean, yes, the general approach is a good one
[17:30:09] <cmr> It's mostly for mobile viewports.
[17:30:11] *** Quits: lucian (lucian@moz-iuo.htl.74.194.IP) (Ping timeout: 121 seconds)
[17:30:15] <steveklabnik> hiding some things for mobile is a good idea, generally
[17:30:23] <steveklabnik> we may or may not want to re-evaluate if src belongs there or not
[17:30:24] <eddyb> you cannot tell whether something is mobile just from the window size!
[17:30:31] <eddyb> can the internet stop being stupid?
[17:30:34] <steveklabnik> it doesn't matter if it's mobile or not
[17:30:35] <steveklabnik> realy
[17:30:48] <steveklabnik> a small size means a different UI, this is pretty much the most basic of UX principles
[17:30:49] <eddyb> there's a whole half a thousand pixels to work with
[17:30:51] *** Quits: zaeleus (zaeleus@moz-r5abra.cpe.cableone.net) (Ping timeout: 121 seconds)
[17:30:55] <steveklabnik> one size does not fit all
[17:31:04] <bombless> with those `position: absolute` I dont think it is good for mobile
[17:31:13] <eddyb> so much unused space where [src] could very nicely fit
[17:32:03] *** Joins: dinfuehr (dinfuehr@moz-g0h6ai.highway.telekom.at)
[17:32:21] *** Joins: tatref (tatref@moz-cdnalk.abo.wanadoo.fr)
[17:32:22] <eddyb> the web is also largely DPI-ignorant so the same number of pixels doesn't mean the same aspect everywhere
[17:32:46] <dschatzberg> what are the rules w.r.t aliasing in unsafe code?
[17:32:56] <steveklabnik> dschatzberg: check the reference
[17:32:58] *** Quits: pnkfelix (pnkfelix@moz-6v5.3nd.202.89.IP) (Quit: rcirc on GNU Emacs 24.3.92.1)
[17:33:18] <steveklabnik> dschatzberg: but the tl;dr is llvm's alias.scoped rules
[17:33:23] <steveklabnik> for &t and &mut T
[17:33:32] <steveklabnik> (where the &T isn't an UnsafeCell)
[17:33:33] <eddyb> (also, no way to show the sidebar. I was hoping the Rust logo would act as a burger menu button thingie but it doesn't)
[17:33:54] <eddyb> steveklabnik: the reference? I hope you mean the LLVM one
[17:34:09] *** Quits: dfinninger (dfinninger@moz-fe6.5n7.235.207.IP) (Connection closed)
[17:34:23] <eddyb> unless someone has rewritten the reference from scratch and it doesn't lie about everything anymore
[17:34:34] <cmr> The unsafe section of the reference is still up-to-date.
[17:34:52] <cmr> eddyb: believe it or not, the reference is large and has many sections!
[17:35:08] <cmr> The reference is *not* uniformly out of date.
[17:35:13] <eddyb> cmr: giving each of them a status would help
[17:35:29] *** jarjar_prime is now known as jarjar_prime_away
[17:35:30] <steveklabnik> nothin in the reference should be straight-up wrong at this point, i will fix anything that is immediately
[17:35:33] <eddyb> might also encourage people to update the rest of it
[17:35:34] <cmr> You don't say :)
[17:35:34] <steveklabnik> it's not as good as it should be
[17:35:38] <steveklabnik> and it doesn't have enough stuff
[17:35:47] <steveklabnik> the reference is slated for work post-beta
[17:36:02] <eddyb> steveklabnik: I've seen people bitten by reading the reference at least a couple times in the past weeks
[17:36:05] *** Quits: dinfuehr (dinfuehr@moz-g0h6ai.highway.telekom.at) (Ping timeout: 121 seconds)
[17:36:15] <cmr> eddyb: please file bugs.
[17:36:19] <steveklabnik> yes ^
[17:36:21] *** Joins: __ixti__ (ixti@moz-i3d.dae.119.188.IP)
[17:36:37] *** Joins: hhhhhhhhhh (mike@moz-969kuj.cable.virginm.net)
[17:37:03] *** Quits: dan_s (Mibbit@moz-gc4shp.plus.com) (Quit: http://www.mibbit.com ajax IRC Client)
[17:37:15] <eddyb> well, this is me getting the memo that we can stop telling people that the reference lies and we can start filling fine-grained bugs about it
[17:37:34] <dschatzberg> steveklabnik: that LLVM section seems insufficient - the important thing to me is how references interact with unsafe raw pointers - I assume I cannot mutate through a raw pointer while an immutable reference is held, right?
[17:37:36] <eddyb> cmr, steveklabnik: so, thanks, I'll keep it in mind
[17:37:53] <steveklabnik> dschatzberg: oh, i also have a PR: https://github.com/rust-lang/rust/pull/23813 sorry, forgot it didn't get merged
[17:37:56] <steveklabnik> eddyb: :+1:
[17:38:17] *** Quits: Savago (Savago@moz-8hd.3b6.246.162.IP) (Client exited)
[17:38:21] <steveklabnik> eddyb: the important thing is that it's about stuff that's incorrect, not about stuff that's missing. ie, the reference should give you a factual but incomplete picture at this stage
[17:38:33] <steveklabnik> i'm going to be going over it after beta to add in stuf that's missing
[17:38:45] <steveklabnik> and to clean it up / think about a reorg / whatever
[17:38:59] <mr_trousers> how's this possible: error: type `core::result::Result<core::cell::UnsafeCell<map::BucketNode<K, V>>, alloc::rc::Rc<core::cell::UnsafeCell<map::BucketNode<K, V>>>>` does not implement any method in scope named `unwrap`
[17:39:36] <eddyb> steveklabnik: might be good to somehow embed the more technical docs we have around, but some of those are also outdated
[17:39:42] <talchas> mr_trousers: it requires E: Debug
[17:39:55] <talchas> and I'm guessing the error portion of your result doesn't impl Debug
[17:39:58] <steveklabnik> eddyb: yeah, i have an issue open for 'go over all rfcs'
[17:39:59] <dschatzberg> so if any reference might be held, I cannot mutate via a raw pointer? How about reading from a raw pointer while a mutable reference may be held?
[17:40:09] <steveklabnik> dschatzberg: nope, a &mut is the _only_ pointer
[17:40:13] <mr_trousers> talchas: ohhhhhh, thank you
[17:40:26] <steveklabnik> dschatzberg: what you're suggesting enables iterator invalidation
[17:40:27] <eddyb> steveklabnik: oh, I did not even consider RFCs, was mostly thinking of the markdown docs in the borrowck and a couple other places
[17:40:31] <steveklabnik> yeah
[17:40:33] <steveklabnik> that stuff too
[17:40:40] *** Joins: ziad (ziad@moz-fh9.u9c.240.50.IP)
[17:40:47] *** Joins: fabiand (fabiand@moz-9lhjbu.dip0.t-ipconnect.de)
[17:40:48] *** Quits: sprang (sprang@moz-d0kmvi.12d9.sm5v.0009.2601.IP) (Ping timeout: 121 seconds)
[17:41:09] *** Quits: glendc (glenc@moz-7ku.qb5.12.185.IP) (Ping timeout: 121 seconds)
[17:41:26] <dschatzberg> steveklabnik: what do you mean only pointer? Surely I can hold a raw pointer while a mutable reference is held at the same time
[17:41:33] <steveklabnik> nope
[17:41:34] *** Joins: dstrbad (dstrbad@moz-1sgbpk.dialin.iskon.hr)
[17:41:37] <steveklabnik> a &mut is the only one
[17:41:41] *** Joins: kgrandon (Adium@moz-blkfas.2rkg.9kg1.0101.2620.IP)
[17:41:46] <eddyb> steveklabnik: you can still have a mutable pointer
[17:41:48] <steveklabnik> it was almost called &uniq for this reason
[17:41:52] <dschatzberg> thats rediculously limiting
[17:41:53] <eddyb> erm
[17:42:03] <eddyb> you can still have a raw pointer pointing to the same data as a mutable reference
[17:42:08] *** Joins: rbranson (rbranson@moz-i7m.9o0.201.199.IP)
[17:42:10] <dschatzberg> I would assume so
[17:42:24] <eddyb> but you can't work with them as if they were unrelated
[17:42:27] <steveklabnik> news to me, and i just read that section
[17:42:33] <steveklabnik> maybe that's it
[17:42:41] <dschatzberg> linked_list would be broken otherwise
[17:42:42] *** Joins: jjensen (jjensen@moz-ui1e2q.members.linode.com)
[17:42:43] *** Joins: nr152522 (nr152522@moz-d5te1r.cust.relish.net)
[17:42:54] <seanmonstar> is it possible to represent IntoCow using the new Into<Type>?
[17:43:01] <dschatzberg> since it contains Box forward and raw pointers backwards
[17:43:03] <eddyb> steveklabnik: as I've said previously, it's very hard to reason about these things
[17:43:07] *** Parts: jjensen (jjensen@moz-ui1e2q.members.linode.com) ()
[17:43:11] <eddyb> dschatzberg: wait, does it now?
[17:43:16] <eddyb> dschatzberg: where is this?
[17:43:33] *** Joins: Savago (Savago@moz-8hd.3b6.246.162.IP)
[17:43:36] <seanmonstar> I have Into<Cow<'static, str>>, and rustc is erroring that Cow<'_, str> does not implement From<&str>
[17:43:41] <dschatzberg> eddyb: linked_list last I looked at has ownership managed forwards and raw pointers to link backwards
[17:43:43] *** Quits: kimwonyong (kimwonyong@moz-gfp.vhi.163.221.IP) (Quit: )
[17:43:48] <eddyb> dschatzberg: that seems quite wrong
[17:43:52] <dschatzberg> eddyb: why?
[17:43:53] <eddyb> dschatzberg: but where is this linked_list you speak of?
[17:44:04] *** Parts: Savago (Savago@moz-8hd.3b6.246.162.IP) ()
[17:44:13] *** Joins: adrusi (adrusi@moz-p89pc5.wireless.umd.edu)
[17:44:17] <dschatzberg> eddyb: libcollections/linked_list.rs
[17:44:37] *** Joins: MaxV (MaxV@moz-3essje.rev.sfr.net)
[17:44:47] <dschatzberg> eddyb: next is Option<Box<Node<T>> and prev is Rawlink<Node<T>>
[17:44:55] <eddyb> steveklabnik: LLVM does fine with borrowing (which results in multiple mutable pointers on the stack, for example, pointing at the same data)
[17:44:56] *** Quits: DerisiveLogic (smuxi@moz-g93io6.res.rr.com) (Ping timeout: 121 seconds)
[17:45:00] <dschatzberg> where rawlink is some wrapper around raw pointers
[17:45:07] *** Joins: Savago (Savago@moz-8hd.3b6.246.162.IP)
[17:45:27] <eddyb> steveklabnik: so I'm not sure you can formally specify aliasing without either region types or some kind of tainting
[17:45:47] *** Quits: Rym (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[17:46:21] <dschatzberg> so what's the relationship between reads/writes of raw pointers and held references?
[17:46:58] *** Quits: sargas (sargas@moz-863roc.hfc.comcastbusiness.net) (Quit: This computer has gone to sleep)
[17:47:13] *** Quits: tkellen (tkellen@moz-n6d.946.2.186.IP) (Ping timeout: 121 seconds)
[17:47:46] <cmr> steveklabnik: the thing about aliasing is that it's about memory dependencies, not pointer values.
[17:48:16] <steveklabnik> yeah, i guess that's true as well
[17:48:19] <dschatzberg> I'm working on an intrusive linked list and while it's working, I'm concerned I don't fully grasp the safety properties I must abide by
[17:48:34] *** Joins: __mark__ (mark@moz-pb9mc5.dynamic.chello.pl)
[17:48:46] <eddyb> dschatzberg: I'm not sure you can make that 100% safe in Rust
[17:48:57] <seanmonstar> no cows for me :( http://is.gd/hBi11A
[17:49:10] *** Quits: Xirdus (Mibbit@moz-noa5ui.tvk.wroc.pl) (Quit: http://www.mibbit.com ajax IRC Client)
[17:50:01] <dschatzberg> eddyb: meaning it can't provide a safe interface?
[17:50:24] <eddyb> yeah
[17:50:32] <eddyb> depends how flexible you're trying to be
[17:50:40] *** Quits: Kynes (Kynes@moz-j2us35.mit.edu) (Quit: Leaving)
[17:50:55] *** jarjar_prime_away is now known as jarjar_prime
[17:51:11] <dschatzberg> eddyb: I guess as long as a client could hold some mutable reference to an element in the list, I cannot even read that element
[17:51:19] <eddyb> there's this but I haven't gotten back to attempting to make something safer with it http://internals.rust-lang.org/t/potential-solution-for-types-that-shouldnt-be-moved-like-staticmutex/1663
[17:51:26] <seanmonstar> aturon: is it currently possible to represent IntoCow with Into<Cow> in some way?
[17:51:39] *** Quits: jarjar_prime (jarjar_prim@moz-p2pbtb.ca.comcast.net) (Quit: Textual IRC Client: www.textualapp.com)
[17:52:01] *** Quits: mcoffee (mcoffee@moz-pulhkr.wireless.sfu.ca) (A TLS packet with unexpected length was received.)
[17:52:24] *** Quits: Lilly (Lilly@moz-ca683g.bredband.comhem.se) (Quit: bajs)
[17:52:34] <aturon> seanmonstar: yes, there's not really a semantic distinction, which is why IntoCow was moved back to `#unstable` when `Into` landed. but there may be impl coherence reasons to keep around IntoCow in the long run; i'm not sure yet
[17:52:54] <seanmonstar> aturon: im struggling with it then http://is.gd/hBi11A
[17:53:25] *** Quits: cursivecode (textual@moz-4u56i9.res.bhn.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[17:54:22] <dschatzberg> eddyb: My implementation uses a generic DerefMut for forward pointers. It sounds like reading any backwards raw pointer would be undefined
[17:54:57] *** Joins: mcoffee (mcoffee@moz-pulhkr.wireless.sfu.ca)
[17:55:07] <aturon> seanmonstar: ok, i'll take a look shortly
[17:55:09] <eddyb> dschatzberg: it really boils down to whether or not an user can invalidate your structure in safe code
[17:55:24] *** Joins: sugaku (sugaku@moz-0tljh1.stanford.edu)
[17:55:46] *** Joins: ai (ai@moz-pqofrl.sunline.net.ua)
[17:55:48] <dschatzberg> eddyb: its more complicated
[17:56:05] *** Joins: tkellen (tkellen@moz-g9i.jha.92.190.IP)
[17:56:40] <dschatzberg> eddyb: every element impls a trait Node which has get_links() which gives me a reference to the struct that has forwards and backwards pointers
[17:56:42] *** Joins: ericsuh (eric@moz-p1g.l4p.189.205.IP)
[17:57:08] <dschatzberg> eddyb: insert takes a DerefMut<Target=T> where T: Node
[17:57:09] <eddyb> dschatzberg: what if nodes move in memory?
[17:57:17] <aturon> seanmonstar: ok i took a look -- this is just a problem of some of the std lib types missing impls for Into
[17:57:19] <dschatzberg> eddyb: then Links drop gets called and panics
[17:57:23] *** Joins: basicdays (basicdays@moz-vreeoj.cable.rcn.com)
[17:57:30] <aturon> seanmonstar: just an oversight, the conversion trait PR added a pretty minimal set of impls
[17:58:04] *** Quits: __ixti__ (ixti@moz-i3d.dae.119.188.IP) (Ping timeout: 121 seconds)
[17:58:08] <eddyb> dschatzberg: how would dropping happen for a *move*?
[17:58:09] <seanmonstar> aturon: oh ok
[17:58:31] <eddyb> dschatzberg: you can never prevent a move without self-borrowing
[17:58:37] <dschatzberg> eddyb: doesn't move Drop the source?
[17:58:42] <eddyb> uhm
[17:58:54] <eddyb> dschatzberg: moves are language primitives with no side-effects
[17:58:57] <seanmonstar> no, move just moves it to a different memeory address
[17:59:06] <seanmonstar> memory even
[17:59:07] <dschatzberg> ah
[17:59:11] <eddyb> dropping the source requires a copy constructor of sorts
[17:59:13] <eddyb> Rust has none of that
[17:59:34] *** Quits: omissis (omissis@moz-6mn.mb0.111.217.IP) (Client exited)
[17:59:38] *** Quits: mr_trousers (Mibbit@moz-rnk.r3h.163.177.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[17:59:40] <dschatzberg> and with &mut you can move?
[18:00:10] <seanmonstar> no..
[18:00:15] *** Quits: jviereck (Adium@moz-iqlcgt.ethz.ch) (Quit: Leaving.)
[18:00:16] *** Joins: fizzbooze (bp@moz-03sr6q.cable.rogers.com)
[18:00:17] <dschatzberg> eddyb: as long as you insert with DerefMut then until I give you that DerefMut back, you can't move it safely
[18:00:17] *** Quits: hoony (Thunderbird@moz-q5r.8e9.96.183.IP) (Client exited)
[18:00:20] <seanmonstar> you can only modify the memory it points to
[18:00:28] <dschatzberg> then that's not a problem in my design
[18:00:48] <talchas> there is mem::swap
[18:01:04] <seanmonstar> tho, you can move properties off the &mut
[18:01:13] *** Quits: ok32 (ok32@moz-imu.af0.232.213.IP) (Connection closed)
[18:01:22] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[18:01:27] *** Joins: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se)
[18:01:42] <eddyb> dschatzberg: so who owns the data?
[18:01:50] <seanmonstar> such as self.opt.take()
[18:02:12] *** Quits: khades1 (Thunderbird@moz-08k.3vk.74.212.IP) (Client exited)
[18:02:26] <dschatzberg> eddyb: list owns a DerefMut to the data, so it can be a Box, it could be RC, etc.
[18:03:02] <eddyb> what?
[18:03:08] <eddyb> dschatzberg: Box<DerefMut>?
[18:03:10] <dschatzberg> eddyb: it may be cooperatively owned, or uniquely owned by the list, but as long as the list has the DerefMut, the memory cannot be moved
[18:03:15] <dschatzberg> Box is DerefMut
[18:03:17] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Connection closed)
[18:03:20] *** Joins: khades (Thunderbird@moz-08k.3vk.74.212.IP)
[18:03:26] <eddyb> a type that implements DerefMut?
[18:03:30] <dschatzberg> yes
[18:03:31] <eddyb> DerefMut is merely a trait
[18:03:37] <dschatzberg> yes, I'm using the term loosely
[18:03:38] *** Joins: stjahns (stjahns@moz-9oh245.ed.shawcable.net)
[18:03:47] <eddyb> okay, I see your point
[18:03:52] <eddyb> dschatzberg: okay, that's unsafe
[18:03:58] <dschatzberg> what is?
[18:04:05] <eddyb> what you're doing
[18:04:12] <eddyb> anything can implement DerefMut
[18:04:37] <eddyb> wait, hang on
[18:04:41] <eddyb> dschatzberg: DerefMut and Rc?
[18:04:41] <dschatzberg> but can it break things without itself resorting to unsafe?
[18:05:00] <eddyb> (I'm not considering unsafe user code, which can do *literally anything*)
[18:05:13] <eddyb> dschatzberg: I'm getting confused by a few details still
[18:05:35] <dschatzberg> effectively, list has T: DerefMut<Target=Node<T>>
[18:06:08] <dschatzberg> I can link to code if it's easier, but theres some details I'm glossing over
[18:06:52] *** Quits: Tuna-Fish (quassel@moz-5djkv5.kortex.jyu.fi) (Connection closed)
[18:07:23] <dschatzberg> Node<T> is a trait with get_links() -> Links<T> and Links<T> is a struct with T: DerefMut<Target=Node<T>> (just like the list itself)
[18:07:38] <dschatzberg> so each element holds the link to the next one
[18:07:40] *** Quits: stjahns (stjahns@moz-9oh245.ed.shawcable.net) (Ping timeout: 121 seconds)
[18:07:44] *** Joins: glendc (glenc@moz-7ku.qb5.12.185.IP)
[18:07:56] <dschatzberg> this is all fine, the question is, what if I want to make it doubly linked
[18:08:00] *** Quits: tamird (textual@moz-oii9i6.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[18:08:15] *** Joins: bhamilton (bhamilton@moz-5da.nhj.210.105.IP)
[18:08:33] *** Quits: bhamilton (bhamilton@moz-5da.nhj.210.105.IP) (Connection closed)
[18:08:35] *** Quits: jedahan_ (jedahan@moz-58nkpr.biz.rr.com) (Connection closed)
[18:08:52] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[18:09:21] *** Joins: glendc_ (glendc@moz-lm5.ch9.159.212.IP)
[18:09:23] *** Parts: ericsuh (eric@moz-p1g.l4p.189.205.IP) ()
[18:09:28] <eddyb> dschatzberg: can't use DerefMut with Rc
[18:09:33] <dschatzberg> why not?
[18:09:40] <eddyb> because Rc implements only Deref
[18:10:10] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[18:10:12] <dschatzberg> can't you use one of the Cells, and just wrap RC<Cell>?
[18:10:32] <Ms2ger> You could, but should you?
[18:10:38] <eddyb> Ms2ger: you can't
[18:10:47] *** Joins: andresv (textual@moz-l3cjp2.cable.starman.ee)
[18:10:53] <Ms2ger> Well, you still don't get DerefMut
[18:10:59] <eddyb> dschatzberg: think about it, if you could get &mut T from Rc<X> then you could trivially alias &mut T if you clone the Rc<X>
[18:11:14] <dschatzberg> eddyb: not if what it points to has interior mutability
[18:11:15] *** Quits: Racquetball (namestolenw@moz-dnlovt.cpe.twtelecom.net) (Quit: leaving)
[18:11:23] <eddyb> dschatzberg: that's not how inner mutability works
[18:11:36] <dschatzberg> enlighten me
[18:11:40] *** Joins: sigma (sigma@moz-ohog4c.range86-135.btcentralplus.com)
[18:11:47] <eddyb> Cell has by-value get/set (which is why it requires Copy)
[18:11:51] *** Quits: glendc (glenc@moz-7ku.qb5.12.185.IP) (Ping timeout: 121 seconds)
[18:11:53] <Ms2ger> Rc<RefCell<T>> is a thing, and you can &mut *x.borrow_mut()
[18:12:00] <dschatzberg> perhaps its RefCell I mean
[18:12:04] *** Quits: sugaku (sugaku@moz-0tljh1.stanford.edu) (Ping timeout: 121 seconds)
[18:12:04] <eddyb> RefCell has you call borrow/borrow_mut which are temporary values
[18:12:09] <eddyb> which borrow the RefCell
[18:12:21] <eddyb> s/which are/which return
[18:12:34] <dschatzberg> I haven't played with them at all, but it seems feasible to create a T: DerefMut which is clonable
[18:12:39] <eddyb> and those values (Ref and RefMut, respectively) implement DerefMut
[18:12:51] <eddyb> dschatzberg: that literally means you can clone &mut T
[18:12:55] <eddyb> dschatzberg: which is UB
[18:13:04] <dschatzberg> why not lock around deref?
[18:13:09] <cmr> eddyb: no, it literally doesn't. Calling deref_mut could acquire a lock.
[18:13:14] <dschatzberg> I assume thats what RC<RefCell<T>> does
[18:13:45] <eddyb> cmr: and never release it?
[18:13:52] <dschatzberg> for the duration of the borrow
[18:14:01] <eddyb> sorry for not considering one-shot DerefMut implementations
[18:14:10] <eddyb> they seem rather... impractical
[18:14:18] <eddyb> dschatzberg: how do you do something when the borrow ends?
[18:14:22] <cmr> the value you deref into can be a guard.
[18:14:33] <eddyb> cmr: which does not own the data
[18:14:35] <cmr> replace borrow_mut with deref_mut and you have the same thing, just fallible.
[18:15:02] <dschatzberg> ah I see
[18:15:32] *** Joins: Rym (y@moz-vsu.f6d.55.31.IP)
[18:15:40] <eddyb> cmr: the point here was that a Smaht<T> can't exist that implements DerefMut<T> and has shared ownership over a T value
[18:16:33] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[18:16:33] *** ChanServ sets mode: +ao pcwalton pcwalton
[18:17:06] *** Quits: khades (Thunderbird@moz-08k.3vk.74.212.IP) (Client exited)
[18:17:07] <dschatzberg> eddyb: then there is no concern with backwards pointers, as the list uniquely owns it
[18:17:13] *** Joins: khades (Thunderbird@moz-08k.3vk.74.212.IP)
[18:17:18] <dschatzberg> that makes me a lot happier
[18:17:29] <eddyb> dschatzberg: except you can implement DerefMut without an indirection
[18:17:37] <dschatzberg> what do you mean?
[18:17:39] <eddyb> oh, wait, you can't
[18:17:46] <eddyb> because of the type recursion. hmm
[18:17:48] *** Quits: dstrbad (dstrbad@moz-1sgbpk.dialin.iskon.hr) (A TLS packet with unexpected length was received.)
[18:17:49] *** Joins: sugaku (sugaku@moz-0tljh1.stanford.edu)
[18:18:17] <eddyb> dschatzberg: okay, so you call something with the signature &'a mut Smaht<T> -> &'a mut T
[18:18:21] <steveklabnik> what am i doing wrong here?  http://is.gd/0NlDIx
[18:18:30] <eddyb> dschatzberg: DerefMut::deref_mut, that is
[18:18:33] *** Joins: Tuna-Fish (quassel@moz-5djkv5.kortex.jyu.fi)
[18:18:39] *** Joins: james4k_ (james@moz-gi3bll.consolidated.net)
[18:18:43] <dschatzberg> eddyb: thats the signature of deref_mut I believe
[18:19:16] <eddyb> dschatzberg: that could replace the Smaht<T> with a different one, pointing to a different allocation
[18:19:16] *** Joins: ELD (textual@moz-u07lep.Mines.EDU)
[18:19:48] <dschatzberg> eddyb: you mean modify it?
[18:19:59] <eddyb> modify the pointer, not just the pointee
[18:20:14] <eddyb> though that's a bit tricky, hmpf
[18:20:16] <dschatzberg> hmm
[18:20:21] <eddyb> can totally do it with Option, I guess
[18:20:33] <dschatzberg> if it drops the pointee then it panics, so thats not an issue
[18:20:49] <dschatzberg> question is, can it do it without dropping
[18:20:54] <eddyb> yes
[18:21:15] <eddyb> dschatzberg: you can totally do this with Option<Box<T>>
[18:21:18] <dschatzberg> hmm that sucks
[18:21:38] <steveklabnik> anybody?  http://is.gd/0NlDIx probably just missing something basic
[18:22:01] <dschatzberg> eddyb: so instead of DerefMut I should use unsafe trait MyDerefMut which is identical but with some partially known restrictions about what is allowed =)
[18:22:07] <eddyb> self.ptr = Some(box self.ptr.take().unwrap()); self.ptr.as_mut().unwrap()
[18:22:34] <eddyb> dschatzberg: which is what I thought we could use to make Box<Mutex<T>>, Arc<Mutex<T>>, etc. work
[18:23:10] <cmr> steveklabnik: T: BorrowMut<[U]>
[18:23:15] *** Joins: mark_edward (mark@moz-dg4mrp.in.comcast.net)
[18:23:25] <dschatzberg> eddyb: thanks for the help
[18:23:29] <eddyb> dschatzberg: but that was too restrictive so I made that internals post and reasoning about linked lists is too difficult to simply do in my spare time
[18:23:31] <steveklabnik> cmr: ahhhhhhhhhhhh ffuu
[18:23:37] *** Joins: timj1 (timj@moz-lc2o2p.dip0.t-ipconnect.de)
[18:23:37] *** Quits: timj (timj@moz-1bt9hp.dip0.t-ipconnect.de) (Quit: Leaving.)
[18:23:42] <eddyb> dschatzberg: s/and reasoning/but reasoning
[18:23:48] <steveklabnik> cmr: i was wondering with the error, i was like 'i don't have a vec in this vec'
[18:24:10] <eddyb> dschatzberg: so it got nowhere :(. and no feedback from core devs about it
[18:24:12] <cmr> steveklabnik: yeah :)
[18:24:21] <cmr> steveklabnik: then some garbage with the comparison that I can't figure out
[18:24:33] <steveklabnik> http://is.gd/uFaxIA works
[18:25:04] <dschatzberg> eddyb: yeah, but unmovable types is only part of the problem here
[18:25:04] *** Quits: deadc0de (chsitter@moz-lrh.035.31.94.IP) (Quit: leaving)
[18:25:16] *** Quits: ELD (textual@moz-u07lep.Mines.EDU) (Quit: Textual IRC Client: www.textualapp.com)
[18:25:24] *** Joins: hoverbear (hoverbear@moz-230atp.wireless.uvic.ca)
[18:25:31] <eddyb> dschatzberg: right, there's too many invariants to keep track of :(
[18:25:35] *** Quits: andresv (textual@moz-l3cjp2.cable.starman.ee) (Quit: My Mac has gone to sleep. ZZZzzz…)
[18:26:05] <dschatzberg> eddyb: yeah, maybe easier to just do away with the guise of safety :)
[18:26:54] <eddyb> dschatzberg: I've wanted to try to make a sort of primitive unsafe prover based on state transitions, I remember about it once in a blue moon (and decide it's too much theoretical work for one person)
[18:29:10] *** Quits: mcoffee (mcoffee@moz-pulhkr.wireless.sfu.ca) (A TLS packet with unexpected length was received.)
[18:29:25] *** Quits: alonlevy (alon@moz-4jqdpb.telavivmakers.org) (Ping timeout: 121 seconds)
[18:29:43] *** Joins: lucian (lucian@moz-2c3pda.cable.virginm.net)
[18:30:02] *** Quits: joneshf-laptop (joneshf@moz-l4h.b5s.208.98.IP) (Ping timeout: 121 seconds)
[18:30:07] *** Joins: tomleb (Mibbit@moz-7n1.40h.168.198.IP)
[18:30:21] *** Joins: eerie (eerie@moz-aang3l.red.bezeqint.net)
[18:31:11] *** Joins: mib_42g1tk (Mibbit@moz-73tbup.fios.verizon.net)
[18:31:13] *** Quits: MaxV (MaxV@moz-3essje.rev.sfr.net) (Connection closed)
[18:32:21] *** Quits: larhat (Adium@moz-8v4.af0.232.213.IP) (Quit: Leaving.)
[18:32:23] *** Joins: dfinninger (dfinninger@moz-fe6.5n7.235.207.IP)
[18:33:18] *** Joins: mcoffee (mcoffee@moz-pulhkr.wireless.sfu.ca)
[18:33:45] *** Quits: lucian (lucian@moz-2c3pda.cable.virginm.net) (Ping timeout: 121 seconds)
[18:33:46] *** Quits: mcoffee (mcoffee@moz-pulhkr.wireless.sfu.ca) (Connection closed)
[18:34:00] *** Joins: mcoffee (mcoffee@moz-pulhkr.wireless.sfu.ca)
[18:34:46] *** Joins: ehiggs (ehiggs@moz-t7ohe9.1fqp.rav1.1812.2a02.IP)
[18:35:38] *** Joins: grobinson (grobinson@moz-vfov5f.dynamic.fusionbroadband.com)
[18:35:42] *** Joins: brson (brson@moz-0k6.crj.56.172.IP)
[18:35:42] *** ChanServ sets mode: +ao brson brson
[18:35:52] *** Quits: sigma (sigma@moz-ohog4c.range86-135.btcentralplus.com) (Ping timeout: 121 seconds)
[18:36:17] *** Joins: lucian_ (lucian@moz-2c3pda.cable.virginm.net)
[18:36:20] *** Joins: coryforsyth (coryforsyth@moz-q577km.static.cosmoweb.net)
[18:36:21] *** Joins: cursivecode (textual@moz-4u56i9.res.bhn.net)
[18:38:57] *** Joins: claudiu (claudiu@moz-6n2.dig.242.50.IP)
[18:39:18] *** Quits: claudiu (claudiu@moz-6n2.dig.242.50.IP) (A TLS packet with unexpected length was received.)
[18:39:39] *** Joins: claudiu (claudiu@moz-vmg02u.7dgi.09sg.010d.2620.IP)
[18:40:46] *** Joins: __ixti__ (ixti@moz-i3d.dae.119.188.IP)
[18:40:47] *** Quits: bombless (_@moz-pl92mj.0v2u.0v40.0da8.2001.IP) (Ping timeout: 121 seconds)
[18:40:48] *** Quits: ehiggs (ehiggs@moz-t7ohe9.1fqp.rav1.1812.2a02.IP) (Ping timeout: 121 seconds)
[18:40:59] *** Joins: filsmick (filsmick@moz-68c0ao.abo.wanadoo.fr)
[18:41:19] *** Joins: omissis (omissis@moz-ftf.c01.90.95.IP)
[18:41:48] *** Quits: ohpesky (ohpesky@moz-rtdb8g.dynamic.hinet.net) (Ping timeout: 121 seconds)
[18:42:32] *** Quits: coryforsyth (coryforsyth@moz-q577km.static.cosmoweb.net) (Client exited)
[18:42:39] *** Quits: timj1 (timj@moz-lc2o2p.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[18:43:07] *** Quits: thesnowdog (doug@moz-1jd.03a.181.180.IP) (Connection closed)
[18:43:26] *** Joins: ok32 (ok32@moz-nc7pn3.broadband.corbina.ru)
[18:44:46] *** Quits: tkellen (tkellen@moz-g9i.jha.92.190.IP) (Ping timeout: 121 seconds)
[18:45:02] *** Joins: pczarn (piotr@moz-9un7t9.izacom.pl)
[18:46:54] *** Joins: tkellen (tkellen@moz-g9i.jha.92.190.IP)
[18:46:56] *** Quits: Guest74 (textual@moz-il1.n6s.204.65.IP) (Quit: Textual IRC Client: www.textualapp.com)
[18:47:02] *** Joins: rav (rav@moz-4eh8st.bnaa.dk)
[18:47:24] *** Joins: gonzaloserrano (Adium@moz-nrl.6hf.231.77.IP)
[18:48:03] *** Quits: omissis (omissis@moz-ftf.c01.90.95.IP) (Client exited)
[18:48:18] <pyfisch> will std::convert be present in 1.0?
[18:48:35] <steveklabnik> pyfisch: it should be
[18:48:38] *** Quits: gonzaloserrano (Adium@moz-nrl.6hf.231.77.IP) (Quit: Leaving.)
[18:48:41] *** Joins: akiss__ (akiss@moz-q030pk.inf.u-szeged.hu)
[18:50:12] *** Quits: lucian_ (lucian@moz-2c3pda.cable.virginm.net) (A TLS packet with unexpected length was received.)
[18:50:32] *** Joins: omissis (omissis@moz-ftf.c01.90.95.IP)
[18:50:44] *** Joins: BlaXpirit_UA (blaxpirit@moz-c44c9b.pool.ukrtel.net)
[18:50:46] *** Quits: omissis (omissis@moz-ftf.c01.90.95.IP) (Client exited)
[18:51:08] *** Quits: akiss_ (akiss@moz-kij.q96.114.160.IP) (Ping timeout: 121 seconds)
[18:51:36] *** Joins: Shackra (Jorge@moz-7bh.ng6.177.186.IP)
[18:51:53] *** Quits: BlaXpirit-UA (blaxpirit@moz-vha79b.pool.ukrtel.net) (Ping timeout: 121 seconds)
[18:51:59] <pyfisch> steveklabnik: thanks
[18:53:01] *** Quits: akiss__ (akiss@moz-q030pk.inf.u-szeged.hu) (Ping timeout: 121 seconds)
[18:53:27] *** Joins: bcoopers (Mibbit@moz-njcgdb.wireless.rochester.edu)
[18:53:38] *** Joins: andresv (textual@moz-l3cjp2.cable.starman.ee)
[18:53:40] <bcoopers> Hey grammar question
[18:53:41] <bcoopers> https://play.rust-lang.org/?code=fn%20does_something(x%3A%20i8)%20-%3E%20Option%3Ci8%3E%20%7B%0D%0A%20%20%20%20match%20x%20%7B%0D%0A%20%20%20%20%20%20%20%200%20%3D%3E%20return%20None%2C%0D%0A%20%20%20%20%20%20%20%20z%20%3D%3E%20return%20Some(z)%2C%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afn%20main()%20%7B%0D%0A%20%20%20%20match%20does_something(1i8)%20%7B%0D%
[18:53:53] <bcoopers> lol h/o
[18:53:59] <bcoopers> http://miburl.com/OkgFVI 
[18:54:01] *** Joins: jgilchrist (jonny@moz-r9or92.as13285.net)
[18:54:16] *** Quits: duesenfranz (jona@moz-t4ekhe.dyn.drei.com) (Client exited)
[18:54:18] <bcoopers> ^ is the fact that that doesn't run a feature or is it a bug in the grammar?
[18:54:26] *** Joins: duesenfranz (jona@moz-t4ekhe.dyn.drei.com)
[18:54:41] <bcoopers> dammit
[18:54:42] <bcoopers> http://miburl.com/P6riWj
[18:54:55] <bcoopers> wtf the minifier don't work
[18:55:11] <bcoopers> Dang it
[18:55:17] <steveklabnik> hey bcoopers 
[18:55:20] <bcoopers> hey
[18:55:24] <steveklabnik> so, plaay.rust-lang.org has its own share button
[18:55:24] *** Joins: timonv (timonv@moz-1qu311.dynamic.ziggo.nl)
[18:55:27] <duesenfranz> bcoopers: you can just click "share" on top of the playpen :)
[18:55:27] <steveklabnik> which will give you a short URL
[18:55:29] <bcoopers> Ah nice
[18:55:31] <bcoopers> Thank you!
[18:55:42] *** Joins: ehiggs (ehiggs@moz-t7ohe9.1fqp.rav1.1812.2a02.IP)
[18:56:08] <steveklabnik> give that a shot and we'll talk :)
[18:56:23] <bcoopers> hmm share isn't doing anything for me
[18:56:32] <bcoopers> I click it and nothing happens
[18:56:33] <steveklabnik> it should then print a thing on th ebottom
[18:56:46] <steveklabnik> like short url: http://is.gd/uFaxIA
[18:56:50] <bcoopers> No nothing
[18:56:52] *** Joins: omissis (omissis@moz-ftf.c01.90.95.IP)
[18:56:54] <bcoopers> I can type it it's short
[18:56:57] <duesenfranz> bcoopers: on the bottom? :)
[18:57:09] <bcoopers> Bottom of thepage?
[18:57:15] <steveklabnik> below the editor
[18:57:25] <steveklabnik> it replaces the output when you click 'run'
[18:57:32] <steveklabnik> like, 'run' should add output at the bottom
[18:57:40] <steveklabnik> and if you click 'share', it clears that out and puts the URL
[18:57:50] *** Quits: reed (reed@tech.monkey) (RecvQ exceeded)
[18:57:55] <bcoopers> Lol well evaluate isn't working either
[18:57:58] <bcoopers> Let me reload the page
[18:58:11] *** Joins: eerie_ (eerie@moz-aang3l.red.bezeqint.net)
[18:58:14] *** Joins: reed (reed@tech.monkey)
[18:58:18] <bcoopers> There we go!
[18:58:19] <bcoopers> http://is.gd/evkHkD
[18:58:19] <eddyb> I never understood how people got the URLs with code in them without pressing Share
[18:58:31] <bcoopers> Anyway line 10
[18:58:34] <eddyb> is my browser misbehaving?
[18:58:51] <bcoopers> Is that intended behavior or a bug in the grammar?
[18:59:01] *** Joins: DroidLogician (austin@moz-9lhp5e.ca.charter.com)
[18:59:17] <bcoopers> I understand what the error message is saying, but it seems like it'd be useful to be able to have a variable bound purely to the matching expression
[18:59:30] <steveklabnik> hmm interesting
[18:59:33] <eddyb> bcoopers: not a bug in the grammar
[18:59:45] <eddyb> bcoopers: also not a syntax error
[18:59:48] <bcoopers> Well perhaps bug isn't the right word
[18:59:53] <bcoopers> But missing feature perhaps?
[18:59:55] <eddyb> no
[19:00:00] <bcoopers> x isn't referenced on the right
[19:00:11] <eddyb> the condition is for both patterns
[19:00:14] <bcoopers> So it seems like you could use it without an issue to me
[19:00:20] *** Joins: rampantmonkey (rampantmonk@moz-bq6.697.143.69.IP)
[19:00:32] <eddyb> it's not None | (Some(x) if x < 0)
[19:00:35] *** Quits: DroidLogician (austin@moz-9lhp5e.ca.charter.com) (Quit: Leaving)
[19:00:39] <eddyb> but (None | Some(x)) if x < 0
[19:00:45] <bcoopers> Oh
[19:01:00] <bcoopers> Hmm
[19:01:24] <bcoopers> Perhaps being able to put parenthesis to disambiguate could be useful?
[19:01:27] *** Quits: eerie (eerie@moz-aang3l.red.bezeqint.net) (Ping timeout: 121 seconds)
[19:01:29] <bcoopers> Seems like a code duplication thing
[19:01:52] <eddyb> bcoopers: well, generalized pattern guards could be considered a missing feature
[19:01:54] *** Parts: duncan (paul@moz-dst.ms6.225.173.IP) ()
[19:02:00] *** Joins: makhauser (quassel@moz-7p8.00g.111.213.IP)
[19:02:00] *** Joins: devyn (devyn@moz-h4a2o5.vc.shawcable.net)
[19:02:07] *** Joins: rcx (rcx@moz-vqm.jmj.174.217.IP)
[19:02:13] <bcoopers> I found a use case
[19:02:27] <bcoopers> Not a huge deal but I've got a PR with a tiny amount of code duplication because of it
[19:02:30] *** Quits: makhauser (quassel@moz-7p8.00g.111.213.IP) (Connection closed)
[19:02:45] *** Joins: DroidLogician (austin@moz-9lhp5e.ca.charter.com)
[19:02:54] <eddyb> I'm not sure they would be 100% sound
[19:03:09] <bcoopers> Any particular reason?
[19:03:12] *** Joins: zzing (textual@moz-jucm1n.cpe.distributel.net)
[19:03:14] <bcoopers> Seems parseable to me
[19:03:16] *** Quits: andre_ (andre@moz-rnd.3qv.76.201.IP) (Quit: leaving)
[19:03:30] <talchas> and None | Some(x) isn't allowed because without allowing that pattern guard there is no use to binding x
[19:03:39] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (A TLS packet with unexpected length was received.)
[19:03:42] <bcoopers> Admittedly I haven't studied parsers and grammars in a while
[19:03:49] <eddyb> bcoopers: again, not a syntax issue
[19:03:51] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[19:03:56] <eddyb> but a semantic one
[19:04:08] <bcoopers> Hmm what's the semantic trouble?
[19:04:14] <bcoopers> Anyway it's line 317 of this
[19:04:14] <bcoopers> https://github.com/rust-lang/rust/pull/23849/files
[19:04:29] <bcoopers> Seems like it'd be clearer as
[19:04:46] <bcoopers> (Some(x) if x > MAX_MEMORY_SIZE) | None => MAX_MEMORY_SIZE,
[19:04:49] <eddyb> talchas: no, beacause you *can't* bind x, as it may not always exist
[19:04:53] *** Quits: sugaku (sugaku@moz-0tljh1.stanford.edu) (Connection closed)
[19:04:54] *** Joins: rvlander (rvlander@moz-ug5qpu.fbx.proxad.net)
[19:05:03] <eddyb> bcoopers: sounds like clamping to me
[19:05:28] <bcoopers> clamping?
[19:05:34] <eddyb> clamping a value to a range
[19:05:35] <flyfische>  /quit
[19:05:38] *** Quits: flyfische (flyfische@moz-p5p8ug.sth3.ptd.net) (Quit: WeeChat 1.0.1)
[19:05:39] *** Quits: lov2cod1 (Adium@moz-263u4n.static.qwest.net) (Quit: Leaving.)
[19:05:54] <bcoopers> It is
[19:06:02] <bcoopers> But in this case the range includes an overflow error
[19:06:11] <eddyb> bcoopers: in this case, new_min_cap.checked_next_power_of_two().unwrap_or(MAX_MEMORY_SIZE).min(MAX_MEMORY_SIZE)
[19:06:26] <bcoopers> Ah that looks really nice
[19:06:36] <eddyb> not sure if `min` is available as a method though
[19:07:07] <bcoopers> Cool
[19:07:15] <bcoopers> That's useful, thanks
[19:07:48] <bcoopers> Anyway, I was just curious if the more generalized pattern guards was something people might find useful
[19:07:59] *** Quits: kaksmet_ (kaksmet@moz-ismsth.se.alltele.net) (Ping timeout: 121 seconds)
[19:08:09] <eddyb> bcoopers: our patterns are already pretty complicated to argue about
[19:08:12] <saml> http://howistart.org/  are you going to write rust?
[19:08:17] <talchas> eddyb: yeah, the range of expressions in which you could use such a binding is empty, thus it would be dumb
[19:08:25] *** Joins: glendc (glenc@moz-7ku.qb5.12.185.IP)
[19:08:37] *** Quits: jgilchrist (jonny@moz-r9or92.as13285.net) (Ping timeout: 121 seconds)
[19:08:40] *** Quits: duesenfranz (jona@moz-t4ekhe.dyn.drei.com) (Client exited)
[19:08:46] *** Joins: bkearns (Adium@moz-rudtng.static.wiline.com)
[19:09:07] <bcoopers> Alright thanks for the feedback
[19:09:09] <steveklabnik> saml: yes, i am slated to after rust 1.0
[19:09:21] <eddyb> bcoopers: and certain features, like `x @ Some(y)` have been disabled (you can only write `x @ Some(_)`, i.e. no bindings in sub-patterns)
[19:09:34] *** Joins: tetsuharu (tetsuharu@moz-fmjbd6.ucom.ne.jp)
[19:09:56] <bcoopers> Hmm interesting
[19:10:07] <saml> thanks steveklabnik 
[19:10:16] <saml> are you going to make a web server?
[19:10:39] *** Quits: ehiggs (ehiggs@moz-t7ohe9.1fqp.rav1.1812.2a02.IP) (Ping timeout: 121 seconds)
[19:10:42] *** Joins: alan_andrade (alan_andrad@moz-m80b6q.SanFrancisco1.Level3.net)
[19:11:09] <lyxia> eddyb: Do bindings in subpatterns clash with the borrow checker?
[19:11:31] <steveklabnik> saml: haven't decided yet
[19:11:36] <steveklabnik> it's still weeks away :)
[19:12:08] <eddyb> lyxia: I think moves were incorrectly implemented
[19:12:19] <eddyb> lyxia: or rather, not checked as strictly as they should be
[19:12:39] *** Joins: Izacht13 (Izacht13@moz-5tc3lv.atsnmeam.ccmaine.net)
[19:12:45] <eddyb> (it would be perfectly fine if x's type is Copy)
[19:12:50] *** Quits: Izacht13 (Izacht13@moz-5tc3lv.atsnmeam.ccmaine.net) (Quit: Leaving)
[19:13:12] *** Quits: omissis (omissis@moz-ftf.c01.90.95.IP) (Client exited)
[19:13:32] *** Quits: glendc (glenc@moz-7ku.qb5.12.185.IP) (Ping timeout: 121 seconds)
[19:13:46] <lyxia> I kind of see, ok. Thanks.
[19:13:50] *** Quits: tomleb (Mibbit@moz-7n1.40h.168.198.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[19:14:13] *** Joins: tomleb (Mibbit@moz-7n1.40h.168.198.IP)
[19:14:23] *** Quits: kushal (kdas@moz-6rsep0.202.sitibroadband.in) (Ping timeout: 121 seconds)
[19:14:42] *** Joins: gonzaloserrano (Adium@moz-nrl.6hf.231.77.IP)
[19:14:44] *** Joins: bitonic (bitonic@moz-th0de9.31-151.libero.it)
[19:15:13] <andresv> I turned C "int Get_Next_Tle_Set (char line[3][80], tle_t *tle)" into "pub fn Get_Next_Tle_Set(line: *mut[*mut[c_char; 80]; 3], tle: *mut tle_t) -> c_int;"
[19:15:26] *** Joins: SerialVelocity (SerialVeloc@moz-g0e9ub.range86-152.btcentralplus.com)
[19:15:33] <andresv> I turned C "int Get_Next_Tle_Set (char line[3][80], tle_t *tle)" into "pub fn Get_Next_Tle_Set(line: *mut[*mut[c_char; 80]; 3], tle: *mut tle_t) -> c_int;", however I am not sure how to init this array
[19:15:39] <andresv> I turned C "int Get_Next_Tle_Set (char line[3][80], tle_t *tle)" into "pub fn Get_Next_Tle_Set(line: *mut[*mut[c_char; 80]; 3], tle: *mut tle_t) -> c_int;", however I am not sure how to init this array with string
[19:15:56] *** Joins: Guest74 (textual@moz-il1.n6s.204.65.IP)
[19:16:12] *** Joins: deadc0de (chsitter@moz-a4f.m35.220.2.IP)
[19:17:07] *** Joins: dam (user@moz-it9sv4.fbx.proxad.net)
[19:17:10] <Ms2ger> andresv, asking once is enough
[19:17:20] <dam> hi 
[19:17:21] <talchas> the array type isn't accurate
[19:17:31] <Ms2ger> andresv, the right declaration is *mut *mut c_char
[19:17:37] <talchas> (if you're doing ffi calls and not just writing a mustly-equivalent function)
[19:17:42] <dam> filsmick: thx for the links given yesterday
[19:17:47] <andresv> sorry about that, I fixed some wording did not know it updates it 3 times
[19:17:55] *** Joins: nrc (nrc@moz-4bhi2i.xtra.co.nz)
[19:17:55] *** ChanServ sets mode: +o nrc
[19:17:58] *** Quits: nwin (textual@moz-e1ofce.pools.vodafone-ip.de) (Quit: My Mac Mini has gone to sleep. ZZZzzz…)
[19:18:01] *** Quits: dfinninger (dfinninger@moz-fe6.5n7.235.207.IP) (Connection closed)
[19:18:11] <eddyb> andresv: I've only ever seen Skype do that
[19:18:21] <eddyb> your IRC client should have shown your message being sent 3 times
[19:18:43] <eddyb> unlike Skype where you can tell it modifies in-place
[19:18:47] <talchas> char line[3][80] will be a pointer to a contiguous array of c_chars, not any sort of pointer-to-pointer
[19:18:51] *** Quits: freiguy1 (Mibbit@moz-pk0.3db.236.192.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[19:19:14] *** Quits: daniel-s_ (daniel-s@moz-upmq06.monash.edu.au) (A TLS packet with unexpected length was received.)
[19:19:18] <eddyb> I think *mut [[c_char; 80]; 3] is ok
[19:19:22] <Ms2ger> Really
[19:19:36] *** Joins: daniel-s_ (daniel-s@moz-upmq06.monash.edu.au)
[19:19:39] <talchas> eddyb: yeah, I believe that is the correct interpretation
[19:19:40] *** Quits: ahal (ahal@moz-blga2k.cpe.pppoe.ca) (A TLS packet with unexpected length was received.)
[19:20:29] *** Joins: timj (timj@moz-lc2o2p.dip0.t-ipconnect.de)
[19:20:53] <seanmonstar> we used to be able to see log lines when running tests, is there a new integration with the log crate?
[19:21:18] *** Quits: ok32 (ok32@moz-nc7pn3.broadband.corbina.ru) (Connection closed)
[19:21:29] *** Joins: ssd (Mibbit@moz-9n9.anv.28.89.IP)
[19:21:29] *** Quits: mcoffee (mcoffee@moz-pulhkr.wireless.sfu.ca) (A TLS packet with unexpected length was received.)
[19:21:30] *** Quits: joelpet (quassel@moz-eta24h.cust.bredbandsbolaget.se) (Quit: No Ping reply in 180 seconds.)
[19:21:40] *** Joins: ok32 (ok32@moz-imu.af0.232.213.IP)
[19:21:48] *** Joins: tedsta (Mibbit@moz-um2.20t.160.132.IP)
[19:21:58] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[19:22:19] <eddyb> seanmonstar: I don't think there was ever any integration
[19:22:31] <eddyb> other than capturing stdout
[19:22:32] <tedsta> I'm just upgrading Rust now and have to switch to the new io. Is there a replacement for `set_read_timeout` in TcpStreams?
[19:22:47] *** Joins: ehiggs (ehiggs@moz-t7ohe9.1fqp.rav1.1812.2a02.IP)
[19:22:51] <seanmonstar> eddyb: sure. but it worked :)
[19:22:52] *** Quits: ssd (Mibbit@moz-9n9.anv.28.89.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[19:23:00] <seanmonstar> tedsta: negative
[19:23:10] <eddyb> seanmonstar: you might be missing EnvLogger?
[19:23:18] <tedsta> seanmonstar: :( thanks
[19:23:26] *** Joins: joelpet (quassel@moz-eta24h.cust.bredbandsbolaget.se)
[19:23:30] <seanmonstar> eddyb: i use it in some places, but there's no hook to set it up in the test runner
[19:23:58] <steveklabnik> tedsta: it got cut becuase it's not supported on all platforms natively, so in old_io, we had some code that would implement it on said platforms. 
[19:24:06] *** chmanchester is now known as chmanchester|lunch
[19:24:08] <steveklabnik> tedsta: new io tries to not do stuff like that
[19:24:14] *** Joins: Guest74_ (textual@moz-il1.n6s.204.65.IP)
[19:24:23] <eddyb> seanmonstar: other than calling a function in every single test, which I assume you don't want
[19:24:46] <seanmonstar> eddyb: ha
[19:24:53] *** Joins: kaksmet (kaksmet@moz-ismsth.se.alltele.net)
[19:25:38] *** Quits: Guest74 (textual@moz-il1.n6s.204.65.IP) (Ping timeout: 121 seconds)
[19:25:44] *** Joins: Guest63 (textual@moz-6gq.t8s.78.166.IP)
[19:25:46] *** Quits: Guest63 (textual@moz-6gq.t8s.78.166.IP) (Connection closed)
[19:25:50] *** Quits: mattkrea (textual@moz-hr3gaj.subnet.rcn.com) (Quit: My Mac has gone to sleep. ZZZzzz…)
[19:25:52] *** Joins: mcoffee (mcoffee@moz-pulhkr.wireless.sfu.ca)
[19:26:25] *** Quits: deadc0de (chsitter@moz-a4f.m35.220.2.IP) (Ping timeout: 121 seconds)
[19:26:26] *** Quits: ai (ai@moz-pqofrl.sunline.net.ua) (Quit: Leaving.)
[19:26:36] *** Joins: kushal (kdas@moz-6rsep0.202.sitibroadband.in)
[19:26:38] <tedsta> steveklabnik: I see. My use case is actually a hacked up select. I want to be able to read from multiple streams and channels without having multiple threads. Could you point me in the right direction?
[19:26:49] *** Quits: rootnode (rootnode@moz-go1ut4.ip1.george24.com) (Ping timeout: 121 seconds)
[19:27:03] <steveklabnik> not sure off the top of my head, to be honest
[19:27:17] <ehiggs> tedsta: mio?
[19:27:24] *** Quits: bcoopers (Mibbit@moz-njcgdb.wireless.rochester.edu) (Quit: http://www.mibbit.com ajax IRC Client)
[19:27:30] <filsmick> dam: glad I could help! I was afraid you wouldn't see them.
[19:27:40] <tedsta> steveklabnik: thanks, I'll figure it out :P
[19:27:56] <tedsta> ehiggs: I would use mio, but it's a game, and my game server needs to be able to run on Windows :/
[19:28:27] *** Joins: eerie (eerie@moz-aang3l.red.bezeqint.net)
[19:28:30] <ehiggs> tedsta: if you're being paid then maybe you could port it to windows and contribute it. :)
[19:29:14] <ehiggs> tedsta: or maybe wrap c++ asio?
[19:29:18] <ehiggs> or libev, etc
[19:29:19] *** Quits: filsmick (filsmick@moz-68c0ao.abo.wanadoo.fr) (Quit: )
[19:29:51] *** Joins: duesenfranz (jona@moz-t4ekhe.dyn.drei.com)
[19:30:06] *** Quits: DroidLogician (austin@moz-9lhp5e.ca.charter.com) (Ping timeout: 121 seconds)
[19:30:23] *** Joins: mattkrea (textual@moz-hr3gaj.subnet.rcn.com)
[19:30:28] <dam> filsmick: if you want a more elegant solution http://is.gd/YJTymH or http://is.gd/pk8JsY
[19:30:32] *** Joins: jkerim_ (jkerim@moz-i5m.05u.207.66.IP)
[19:30:36] *** Joins: DerisiveLogic (smuxi@moz-g93io6.res.rr.com)
[19:31:01] <tedsta> ehiggs: not getting paid, it's for the imagine cup competition. I guess porting mio would be a cool learning experience. Also sounds like a lot of time though! But I'll figure something out.
[19:31:15] *** Quits: eerie_ (eerie@moz-aang3l.red.bezeqint.net) (Ping timeout: 121 seconds)
[19:31:19] *** Quits: jkerim (jkerim@moz-i5m.05u.207.66.IP) (Ping timeout: 121 seconds)
[19:31:43] <ehiggs> a few questions about modules: when do I know if I need to use 'self::' aside from when the compiler tells me to use it? And if I have src/main.rs how would I include src/submodule/something.rs ? I have a src/submodule/mod.rs but I don't see how other programs appear to include it
[19:31:58] <ehiggs> e.g. burntsushi's xsv uses 'cmd' from main.rs but I don't see where it's imported
[19:31:58] *** Quits: jkerim_ (jkerim@moz-i5m.05u.207.66.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[19:31:59] *** Quits: Irbis (Irbis@moz-u02516.abo.bbox.fr) (Quit: )
[19:32:01] *** Joins: Binero (quirkyclien@moz-91joat.69vi.s4ge.1810.2a02.IP)
[19:32:13] <Binero> Hello 
[19:32:30] <Binero> I am using a Nightly build, and I have a code piece using .as_ref()
[19:32:33] *** Joins: ELD (textual@moz-u07lep.Mines.EDU)
[19:32:41] <Binero> rust wants me to add #![feature(convert)]
[19:32:41] *** Joins: CustosLimen (CustosLimen@moz-9fnnts.mtnbusiness.co.za)
[19:32:51] <Binero> I added it to my module at the top, but it still complains it wants me to add it 
[19:32:57] <Binero> Any suggestions? 
[19:33:15] <Binero> Exact error: error: use of unstable library feature 'convert': recently added, experimental traits
[19:33:16] <mbrubeck> Binero: Try adding it to your crate's main file (lib.rs or main.rs)?
[19:33:16] <Rym> ehiggs: check for appropriate `mod` declarations
[19:33:25] *** Quits: jdm (jdm@moz-i5m.05u.207.66.IP) (Connection closed)
[19:33:28] <Binero> Well I can only add it without the ! to my main.rs
[19:33:29] <ELD> Is there a prebuilt tree data structure library in Rust? I know the stdlib doesn't have any, but are there any community crates? I don't mean a binary search tree, but just a regular tree that I could use to build an AST with?
[19:33:32] <ehiggs> Binero: it needs to be in lib.rs or main.rs depending on whether you're making aprogram or library
[19:33:43] *** Joins: jdm (jdm@moz-b0n4il.ckpj.s0pt.0450.2001.IP)
[19:33:43] *** ChanServ sets mode: +o jdm
[19:33:47] *** Quits: martin (martin@moz-9td.bol.200.84.IP) (Ping timeout: 121 seconds)
[19:33:56] <ehiggs> Rym: I am. https://github.com/BurntSushi/xsv/blob/master/src/main.rs <-- I don't see a mod decl.
[19:34:13] <Binero> ehiggs, I added it to main.rs, but now it says it cannot be placed in that context
[19:34:13] <dam> ehiggs: uh wrapping c++ asio seems quite hard, I think it is better to port libuv
[19:34:16] <Binero> it'll only work if I remove the ! 
[19:34:18] <mbrubeck> ehiggs: paths in `use` statements are absolute paths by default; `self::` makes them relative to the current module.
[19:34:30] <Rym> ehiggs: very bottom: `mod cmd`
[19:34:38] <mbrubeck> ehiggs: Outside of `use` statements, paths are relative by default, so you never need `self::`.
[19:34:44] *** Joins: jkerim (jkerim@moz-i5m.05u.207.66.IP)
[19:34:50] <andresv> eddyb: let name = CString::new("name").unwrap();
[19:34:51] <andresv>     let line1 = CString::new("something").unwrap();
[19:34:51] <andresv>     let line2 = CString::new("something else").unwrap();
[19:34:51] <andresv>     let mut buf = [[0; 80]; 3];
[19:34:51] <Binero> aha, I see
[19:34:52] *** andresv was kicked by fripp.mozilla.org (Channel flood triggered (limit is 5 lines in 3 secs))
[19:34:53] *** Joins: coryforsyth (coryforsyth@moz-q577km.static.cosmoweb.net)
[19:34:56] <mbrubeck> ehiggs: more at http://doc.rust-lang.org/book/crates-and-modules.html
[19:34:56] <ehiggs> Rym: arg thanks. I don't know how I missed it. I thought I searched for 'mod'
[19:34:57] <Binero> It's because there was a comment above it
[19:34:59] <Binero> that's lame though 
[19:35:11] *** Joins: Guest74 (textual@moz-il1.n6s.204.65.IP)
[19:35:36] *** Quits: Guest74_ (textual@moz-il1.n6s.204.65.IP) (Connection closed)
[19:35:50] <ehiggs> mbrubeck: if i do extern crate xml; and then try to use things in the xml lib, the compiler insisted I need to use self. It surprised me
[19:35:59] <Binero> Is that intended behaviour? 
[19:36:12] *** Joins: omissis (omissis@moz-ftf.c01.90.95.IP)
[19:36:45] <Rym> ehiggs: if you only do `extern crate foo` in lib.rs / main.rs then you won't need the self, and `use foo;` will work in any module
[19:36:57] <mbrubeck> ehiggs: `extern crate` modifies whatever namespace it's in. It's common to put all `extern crate` statements in the root module.
[19:37:25] *** Joins: andresv (textual@moz-l3cjp2.cable.starman.ee)
[19:37:44] <mbrubeck> ehiggs: It'd also be surprising if `extern crate foo;` in a submodule added a name `foo` to the root module. :)
[19:37:47] <ehiggs> ohhhhhhhhhhhhhhhhhh ok I see now. thanks
[19:38:20] <ehiggs> cool so the way i have it now is actually better since it's only one file input source using xml. so i'll keep it as 'self::...'
[19:39:25] *** Quits: timonv (timonv@moz-1qu311.dynamic.ziggo.nl) (Ping timeout: 121 seconds)
[19:39:40] *** Quits: tetsuharu (tetsuharu@moz-fmjbd6.ucom.ne.jp) (A TLS packet with unexpected length was received.)
[19:41:16] *** Quits: adrusi (adrusi@moz-p89pc5.wireless.umd.edu) (Client exited)
[19:42:25] *** Quits: ELD (textual@moz-u07lep.Mines.EDU) (Quit: Textual IRC Client: www.textualapp.com)
[19:42:33] *** Quits: jkerim (jkerim@moz-i5m.05u.207.66.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[19:42:56] *** Joins: dfinninger (dfinninger@moz-6a9v7n.res.rr.com)
[19:44:02] *** Quits: eerie (eerie@moz-aang3l.red.bezeqint.net) (Connection closed)
[19:44:10] *** Joins: edcba (edcba@moz-n6e.n4l.193.78.IP)
[19:44:11] *** Quits: jml (jml@moz-mqpurn.178.in-addr.arpa) (Ping timeout: 121 seconds)
[19:44:17] *** Quits: tedsta (Mibbit@moz-um2.20t.160.132.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[19:44:32] *** Joins: zmack (zmack@moz-4b0.o8l.26.188.IP)
[19:44:58] *** Joins: ok32_ (ok32@moz-nc7pn3.broadband.corbina.ru)
[19:44:59] <Binero> When matching, is there a way to write this less redundantly? "XmlEvent::StartElement { ref name, attributes: _, namespace: _ }"
[19:45:00] <hoverbear> How can I copy `n` bytes from one [u8] to another [u8]?
[19:45:01] <Murarth> How is there someone with an in-addr.arpa host and someone else with a .IP host? This is madness!
[19:45:08] <Binero> I would like to just leave out the attributes and namespace
[19:45:30] *** Joins: jml (jml@moz-mqpurn.178.in-addr.arpa)
[19:45:41] <SneakySnake> Binero: I think you can do { ref name, .. }
[19:46:03] *** Joins: jkerim (jkerim@moz-i5m.05u.207.66.IP)
[19:46:04] <Rym> hoverbear: http://doc.rust-lang.org/std/slice/bytes/fn.copy_memory.html
[19:46:24] <hoverbear> Rym: Hero!
[19:46:31] <Binero> SneakySnake, Thanks :)
[19:47:42] *** Quits: ok32 (ok32@moz-imu.af0.232.213.IP) (Ping timeout: 121 seconds)
[19:48:59] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[19:48:59] *** ChanServ sets mode: +ao pcwalton pcwalton
[19:49:08] *** Joins: adu (ajr@moz-rdrp0r.biz.rr.com)
[19:49:12] *** Quits: rezrov (rez@moz-lks.nus.241.192.IP) (A TLS packet with unexpected length was received.)
[19:49:26] *** Joins: rezrov (rez@moz-lks.nus.241.192.IP)
[19:49:28] *** Quits: rezrov (rez@moz-lks.nus.241.192.IP) (A TLS packet with unexpected length was received.)
[19:49:32] *** Quits: zmack (zmack@moz-4b0.o8l.26.188.IP) (Connection closed)
[19:49:47] *** Joins: mjboa (mike@moz-gfdglf.hsi06.unitymediagroup.de)
[19:50:47] *** Joins: Irbis (Irbis@moz-u02516.abo.bbox.fr)
[19:50:57] *** Quits: Irbis (Irbis@moz-u02516.abo.bbox.fr) (Connection closed)
[19:51:27] *** Quits: rbranson (rbranson@moz-i7m.9o0.201.199.IP) (Quit: Computer has gone to sleep.)
[19:51:55] *** Joins: Guest74_ (textual@moz-il1.n6s.204.65.IP)
[19:52:02] *** Joins: Rym_ (y@moz-vsu.f6d.55.31.IP)
[19:52:08] *** Quits: agile (mike@moz-m71dqt.rcsntx.sbcglobal.net) (Ping timeout: 121 seconds)
[19:52:21] *** Joins: cptroot (Mibbit@moz-n169l8.caltech.edu)
[19:52:27] *** Quits: Rym (y@moz-vsu.f6d.55.31.IP) (Connection closed)
[19:53:04] *** Joins: rezrov (rez@moz-lks.nus.241.192.IP)
[19:53:58] *** Joins: hhhhhhhh1 (mike@moz-969kuj.cable.virginm.net)
[19:54:42] *** Joins: nwin (textual@moz-e1ofce.pools.vodafone-ip.de)
[19:55:04] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[19:55:13] *** Quits: ok32_ (ok32@moz-nc7pn3.broadband.corbina.ru) (Connection closed)
[19:55:23] *** Quits: Guest74 (textual@moz-il1.n6s.204.65.IP) (Ping timeout: 121 seconds)
[19:55:24] *** Quits: mnemnion (mnemnion@moz-kf3boi.ca.comcast.net) (Connection closed)
[19:55:25] *** Quits: zmv (Mibbit@moz-ib8.b7k.139.177.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[19:55:30] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[19:55:34] *** Joins: ok32 (ok32@moz-imu.af0.232.213.IP)
[19:55:34] *** Joins: infinigon (x@moz-54e146.range86-142.btcentralplus.com)
[19:56:02] <ehiggs> Binero: im using xml-rs too. :)
[19:56:40] *** Quits: claudiu (claudiu@moz-vmg02u.7dgi.09sg.010d.2620.IP) (Ping timeout: 121 seconds)
[19:56:40] *** Quits: dodo (dodo@moz-trg.cj2.196.66.IP) (Connection closed)
[19:56:43] *** Joins: lov2cod1 (Adium@moz-263u4n.static.qwest.net)
[19:56:44] *** Joins: dodo (dodo@moz-trg.cj2.196.66.IP)
[19:56:52] <Binero> ehiggs, <3
[19:57:36] *** Quits: giucam (giucam@moz-iv0nnc.bb.dnainternet.fi) (Ping timeout: 121 seconds)
[19:58:35] *** Joins: adrusi (adrusi@moz-p89pc5.wireless.umd.edu)
[19:58:57] *** Joins: Lilly (Lilly@moz-ca683g.bredband.comhem.se)
[20:02:43] *** Joins: js2a (js2a@moz-i3p2fd.net.upcbroadband.cz)
[20:04:14] *** Quits: gonzaloserrano (Adium@moz-nrl.6hf.231.77.IP) (Quit: Leaving.)
[20:04:23] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Connection closed)
[20:04:46] *** Joins: zmack (zmack@moz-4b0.o8l.26.188.IP)
[20:05:01] *** Joins: BestUsedCarSales (Mibbit@moz-pus054.arizona.edu)
[20:05:16] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[20:05:16] *** Joins: jgilchrist (jonny@moz-r9or92.as13285.net)
[20:05:29] *** Quits: fizzbooze (bp@moz-03sr6q.cable.rogers.com) (Ping timeout: 121 seconds)
[20:05:30] *** Joins: lucian (lucian@moz-2c3pda.cable.virginm.net)
[20:05:54] *** Quits: BestUsedCarSales (Mibbit@moz-pus054.arizona.edu) (Quit: http://www.mibbit.com ajax IRC Client)
[20:06:10] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[20:06:37] *** Quits: hoverbear (hoverbear@moz-230atp.wireless.uvic.ca) (Quit: Time to hibernate.... ZzZz...)
[20:07:05] *** Joins: agile (mike@moz-m71dqt.rcsntx.sbcglobal.net)
[20:08:05] *** Joins: jimblandy (user@moz-c3a.i8g.126.207.IP)
[20:09:10] *** Joins: glendc (glenc@moz-7ku.qb5.12.185.IP)
[20:09:10] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[20:09:32] *** Quits: lucian (lucian@moz-2c3pda.cable.virginm.net) (Ping timeout: 121 seconds)
[20:09:32] *** Quits: jimb (user@moz-09a.i8g.126.207.IP) (Ping timeout: 121 seconds)
[20:09:32] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[20:09:50] *** Joins: lucian (lucian@moz-2c3pda.cable.virginm.net)
[20:10:32] *** Joins: akiss (akiss@moz-92prrp.pool.digikabel.hu)
[20:12:23] *** Quits: zmack (zmack@moz-4b0.o8l.26.188.IP) (Connection closed)
[20:12:39] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[20:12:43] *** Quits: adu (ajr@moz-rdrp0r.biz.rr.com) (Client exited)
[20:13:22] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[20:13:31] *** Joins: zmack (zmack@moz-4b0.o8l.26.188.IP)
[20:13:36] <brandonson> anyone know of a library for timestamping things and sorting based on that?
[20:13:47] *** Quits: jkerim (jkerim@moz-i5m.05u.207.66.IP) (Ping timeout: 121 seconds)
[20:13:58] <brandonson> long shot, but figured I'd ask :p
[20:14:11] *** chmanchester|lunch is now known as chmanchester
[20:14:19] *** Quits: glendc (glenc@moz-7ku.qb5.12.185.IP) (Ping timeout: 121 seconds)
[20:14:54] *** Quits: jjthras__ (jjthrash@moz-rf5qcp.pools.spcsdns.net) (Connection closed)
[20:15:06] *** Quits: __mark__ (mark@moz-pb9mc5.dynamic.chello.pl) (Client exited)
[20:15:14] *** Quits: bitonic (bitonic@moz-th0de9.31-151.libero.it) (Ping timeout: 121 seconds)
[20:15:15] *** Quits: tomleb (Mibbit@moz-7n1.40h.168.198.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[20:15:18] *** Quits: Quanttek (quassel@moz-25k96c.6fkd.dvrb.8108.2a02.IP) (Ping timeout: 121 seconds)
[20:15:47] *** Joins: qard (qard@moz-nekdha.vc.shawcable.net)
[20:15:58] *** Joins: sugaku (sugaku@moz-cns.934.66.171.IP)
[20:17:05] *** Quits: Shackra (Jorge@moz-7bh.ng6.177.186.IP) (Ping timeout: 121 seconds)
[20:17:45] *** Joins: Shackra (Jorge@moz-7bh.ng6.177.186.IP)
[20:17:48] *** Joins: bpayton (bpayton@moz-ifileu.ph.cox.net)
[20:18:12] *** Joins: adu (ajr@moz-rdrp0r.biz.rr.com)
[20:19:44] <eddyb> brandonson: like a time::now?
[20:20:03] *** Quits: sugaku (sugaku@moz-cns.934.66.171.IP) (Ping timeout: 121 seconds)
[20:20:13] <tomprogrammer> The AST in the rust compiler is basically a big enum, is that right?
[20:20:23] <eddyb> tomprogrammer: a bunch of enums
[20:20:30] *** Quits: rav (rav@moz-4eh8st.bnaa.dk) (Quit: leaving)
[20:20:58] *** Quits: dschatzberg (dschatz@moz-merj6t.ma.comcast.net) (Quit: Leaving)
[20:21:08] *** Joins: calvinmetcalf (sid25915@moz-2ij.vkt.184.192.IP)
[20:21:14] <eddyb> brandonson: https://rust-lang.github.io/time/time/fn.precise_time_ns.html
[20:21:37] *** Joins: dschatzberg (dschatz@moz-merj6t.ma.comcast.net)
[20:21:49] <tomprogrammer> eddyb: ok, just wanted to be sure. thanks
[20:22:05] <eddyb> tomprogrammer: and structures and whatnot :P
[20:23:01] <nwin> Some C-Wizard here? Rust defines the result of fopen as *mut FILE. C libraries often taken an int as fp…how does that fit?
[20:23:22] *** Quits: rezrov (rez@moz-lks.nus.241.192.IP) (Connection closed)
[20:23:30] *** Joins: ascarter (ascarter@moz-i0dnmd.wa.comcast.net)
[20:23:33] *** Quits: mcoffee (mcoffee@moz-pulhkr.wireless.sfu.ca) (A TLS packet with unexpected length was received.)
[20:23:46] <talchas> nwin: they generally are taking an fd (from open), not a FILE* (from fopen)
[20:23:46] *** suvash_away is now known as suvash
[20:24:00] <talchas> FILE* has things like buffering
[20:24:01] *** Joins: espadrine (tyl@moz-l019mn.fbx.proxad.net)
[20:24:09] <rovar> nwin, FILE represents a buffered file handle in C
[20:24:14] <rovar> whereas fd is an int
[20:24:23] <rovar> fopen vs open
[20:24:35] <Binero> Does the rustc create have anything useful for code generation? 
[20:24:38] <Binero> *crate 
[20:24:51] <eddyb> Binero: what exactly do you have in mind?
[20:24:59] <rovar> Binero, do you want to print code from an AST?
[20:25:20] *** Quits: brson (brson@moz-0k6.crj.56.172.IP) (Ping timeout: 121 seconds)
[20:25:32] <Binero> Yes 
[20:26:00] *** Joins: mcoffee (mcoffee@moz-pulhkr.wireless.sfu.ca)
[20:27:05] *** Quits: pedroff (pedroff@moz-5327rl.rev.vodafone.pt) (Connection closed)
[20:27:14] *** Joins: MaxV (MaxV@moz-v78e24.abo.wanadoo.fr)
[20:27:28] <nwin> talchas: thanks…hidden gems…apparently
[20:27:34] *** Quits: akiss (akiss@moz-92prrp.pool.digikabel.hu) (Ping timeout: 121 seconds)
[20:28:14] *** Quits: andresv (textual@moz-l3cjp2.cable.starman.ee) (Quit: My Mac has gone to sleep. ZZZzzz…)
[20:28:49] *** Quits: fabiand (fabiand@moz-9lhjbu.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[20:28:49] *** Joins: Gabriel_7 (Gabriel@moz-qid8sb.mtgr.92aj.0e35.2a01.IP)
[20:28:50] <cmr> nwin: FILE is C stdlib stuff, fds are POSIX stuff.
[20:29:18] *** Joins: amukiza (user@moz-gvv.fcf.125.189.IP)
[20:29:23] <nwin> cmr is it interchangeable?
[20:29:33] <cmr> no
[20:29:56] <mcpherrin> A FILE probably contains an fd though
[20:30:33] <talchas> unless it's from fmemopen or something! :D
[20:30:56] <talchas> (that the custom-FILE* function is called "fopencookie"...)
[20:31:23] <brandonson> struct StampOrdered<STAMP, S: Stamped<STAMP>>(S); says STAMP is unused... what?
[20:31:29] *** Quits: zmack (zmack@moz-4b0.o8l.26.188.IP) (Connection closed)
[20:31:37] <brandonson> that doesn't seem right unless I'm missing something here
[20:31:42] <nwin> cmr: ok, apparently windows also knows read…
[20:32:07] <eddyb> brandonson: it is unused
[20:32:14] <eddyb> brandonson: inside the structure itself
[20:32:36] <eddyb> brandonson: this is what PhantomData is for
[20:32:43] *** Quits: kgrandon (Adium@moz-blkfas.2rkg.9kg1.0101.2620.IP) (Quit: Leaving.)
[20:32:46] *** Joins: kgrandon (Adium@moz-blkfas.2rkg.9kg1.0101.2620.IP)
[20:33:06] *** Quits: kgrandon (Adium@moz-blkfas.2rkg.9kg1.0101.2620.IP) (Connection closed)
[20:33:07] *** Joins: kgrandon (Adium@moz-blkfas.2rkg.9kg1.0101.2620.IP)
[20:33:21] *** Quits: alevy (alevy@moz-vmo.kom.66.171.IP) (Quit: ZNC - http://znc.in)
[20:33:55] *** Quits: palodequeso (quassel@moz-ebjt83.hfc.comcastbusiness.net) (Ping timeout: 121 seconds)
[20:34:15] *** Quits: amyers (amyers@moz-2bj.mme.177.128.IP) (Ping timeout: 121 seconds)
[20:35:09] *** Quits: amukiza (user@moz-gvv.fcf.125.189.IP) (Ping timeout: 121 seconds)
[20:35:14] *** Joins: alevy (alevy@moz-roc8ao.scs.stanford.edu)
[20:35:18] *** Joins: duesenfranz_ (jona@moz-t4ekhe.dyn.drei.com)
[20:35:51] *** Joins: hoverbear (hoverbear@moz-82h62u.wireless.uvic.ca)
[20:35:55] *** Quits: duesenfranz_ (jona@moz-t4ekhe.dyn.drei.com) (Connection closed)
[20:35:59] *** Quits: duesenfranz (jona@moz-t4ekhe.dyn.drei.com) (Connection closed)
[20:36:02] *** Joins: duesenfranz_ (jona@moz-t4ekhe.dyn.drei.com)
[20:36:36] *** Joins: claudiu (claudiu@moz-3ej.9o0.201.199.IP)
[20:36:37] *** Quits: jimblandy (user@moz-c3a.i8g.126.207.IP) (Ping timeout: 121 seconds)
[20:36:42] *** Quits: ascarter (ascarter@moz-i0dnmd.wa.comcast.net) (Quit: Textual IRC Client: www.textualapp.com)
[20:37:08] *** Joins: duesenfranz__ (jona@moz-t4ekhe.dyn.drei.com)
[20:37:14] *** Quits: duesenfranz_ (jona@moz-t4ekhe.dyn.drei.com) (Connection closed)
[20:37:45] *** Quits: ebel (rory@moz-0lehdb.m4r4.nqcu.0470.2001.IP) (Quit: Leaving)
[20:38:00] *** Joins: brson (brson@moz-0k6.crj.56.172.IP)
[20:38:00] *** ChanServ sets mode: +ao brson brson
[20:38:05] *** Joins: rezrov (rez@moz-lks.nus.241.192.IP)
[20:38:11] *** Joins: glendc (glenc@moz-7ku.qb5.12.185.IP)
[20:38:32] *** Quits: kamilc__ (kamil@moz-i3euum.play-internet.pl) (Quit: Linkinus - http://linkinus.com)
[20:38:36] <mcpherrin> FILE->_fileno is the FD I assume, looking at /usr/include/libio.h in passing
[20:38:52] *** Quits: xcombelle (xcombelle@moz-eseu4p.abo.wanadoo.fr) (Quit: Quitte)
[20:39:11] <talchas> use fileno() rather than that, but yeah
[20:39:37] <mcpherrin> Yeah, I was just looking at the struct :P
[20:40:19] *** Joins: tetsuharu (tetsuharu@moz-fmjbd6.ucom.ne.jp)
[20:40:33] *** Quits: jdm (jdm@moz-b0n4il.ckpj.s0pt.0450.2001.IP) (A TLS packet with unexpected length was received.)
[20:40:58] *** Joins: jdm (jdm@moz-b0n4il.ckpj.s0pt.0450.2001.IP)
[20:40:58] *** ChanServ sets mode: +o jdm
[20:42:14] *** Quits: tatref (tatref@moz-cdnalk.abo.wanadoo.fr) (Quit: http://www.kiwiirc.com/ - A hand crafted IRC client)
[20:42:54] *** Quits: lov2cod1 (Adium@moz-263u4n.static.qwest.net) (Quit: Leaving.)
[20:44:04] *** AutomatedTester|AFK is now known as AutomatedTester
[20:44:04] *** Joins: jkerim (jkerim@moz-i5m.05u.207.66.IP)
[20:44:39] *** Quits: tetsuharu (tetsuharu@moz-fmjbd6.ucom.ne.jp) (Ping timeout: 121 seconds)
[20:44:45] *** Quits: rntz (rntz@moz-iibfiq.compound.emarhavil.com) (Connection closed)
[20:45:21] *** Quits: glendc (glenc@moz-7ku.qb5.12.185.IP) (Ping timeout: 121 seconds)
[20:45:30] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[20:45:51] *** Quits: duesenfranz__ (jona@moz-t4ekhe.dyn.drei.com) (Client exited)
[20:45:54] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[20:46:23] *** Joins: duesenfranz_ (jona@moz-t4ekhe.dyn.drei.com)
[20:46:37] *** duesenfranz_ is now known as duesenfranz__
[20:47:39] *** Joins: dcb (textual@moz-j72nfe.ca.comcast.net)
[20:47:59] <burntsushi> adu: hi
[20:48:39] <adu> burntsushi: hi
[20:48:42] <dschatzberg> Really confused about this lifetime complaint: http://is.gd/9yXIFD - If I make Foo not take a type parameter, it checks, otherwise it gives this error
[20:48:53] <adu> burntsushi: how is life?
[20:49:01] <burntsushi> adu: swell. what's up?
[20:49:10] *** Joins: zaeleus (zaeleus@moz-r5abra.cpe.cableone.net)
[20:49:37] <adu> burntsushi: I think I pinged you yesterday to let you know that I had updated bswap
[20:49:37] *** Joins: fengshaun (fengshaun@moz-rf0qk5.cable.teksavvy.com)
[20:49:42] *** Joins: blaenk_ (blaenkdenum@moz-em283u.res.rr.com)
[20:49:50] <burntsushi> adu: ooo, nice, thanks :)
[20:49:58] *** Joins: ptalbot (ptalbot@moz-j4gnuh.fbx.proxad.net)
[20:50:13] <adu> burntsushi: I also added 2 hex functions to bswap::u8, so now my other libs no longer have a dependancy on rustc-serialize
[20:50:23] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Ping timeout: 121 seconds)
[20:50:30] <dschatzberg> it seems completely unnecessary to put a lifetime bound where it tells me to, but I may be misunderstanding the bounds checking
[20:50:42] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[20:50:44] *** Joins: lov2cod (Adium@moz-263u4n.static.qwest.net)
[20:52:13] *** Quits: dfoelber (dfoelber@moz-ncvqfk.fios.verizon.net) (Connection closed)
[20:52:36] *** Joins: fmendez (fmendez@moz-no8.pm4.80.190.IP)
[20:53:47] *** Joins: dfoelber (dfoelber@moz-ncvqfk.fios.verizon.net)
[20:54:10] *** Joins: fizzbooze (bp@moz-lbcmt7.sm5k.54kg.0101.2620.IP)
[20:55:23] *** Joins: sambotron (sambotron@moz-lgc.bdf.247.173.IP)
[20:55:26] *** Quits: sambotron (sambotron@moz-lgc.bdf.247.173.IP) (Connection closed)
[20:55:26] <talchas> dschatzberg: I /think/ the issue is that if the /type/ F had some lifetime shorter than &self's, then you could have an issue, and it doesn't realize that get_foo is sufficient proof that that is impossible
[20:55:59] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[20:56:03] <dschatzberg> what issue could I have though? It's a type parameter, so I can only use it through the trait anyways
[20:56:53] *** Quits: blaenk_ (blaenkdenum@moz-em283u.res.rr.com) (Ping timeout: 121 seconds)
[20:57:03] *** Quits: adrusi (adrusi@moz-p89pc5.wireless.umd.edu) (Ping timeout: 121 seconds)
[20:57:06] *** Quits: dfoelber (dfoelber@moz-ncvqfk.fios.verizon.net) (Connection closed)
[20:57:21] <dam> is it possible to test that a function panic on some input? If yes it is a good practise or should I return an Option or a Result?
[20:57:43] <cmr> dam: #[should_panic]
[20:57:45] <talchas> but you could have some struct FooImpl<'a> {whatever}, impl<'a> Foo<Stuff> for FooImpl<'a>, and impl<'a> Bar<Stuff, FooImpl<'a>> for BarImpl
[20:57:45] <cmr> on the test
[20:58:07] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[20:58:14] <JustAPerson> dam: generally Option/Result are preferred, but using an assert!() which may panic is okay in some instances
[20:58:18] <kimundi> dam: Its possible to explicitly test for in unit tests, but it shouldn't be used for normal control flow
[20:58:34] <dschatzberg> talchas: but thats a matter for the implementation of the trait, not the trait itself
[20:58:37] <dam> cmr: ok, is it possible to add a "str"
[20:58:49] <talchas> in which case Bar::foo() is &'b self -> &'b T, but 'a might be shorter than 'a
[20:59:07] <dam> kimundi: in my case is to do some units test
[20:59:09] *** Joins: gavinb (gavinb@moz-ovemob.optusnet.com.au)
[20:59:12] <talchas> in this case it is impossible to implement Bar::get_foo, and so you should still be fine, but it doesn't realize this
[20:59:33] *** Quits: boss_mc (boss_mc@moz-btt7od.metaswitch.com) (Ping timeout: 121 seconds)
[20:59:39] <dschatzberg> I see
[20:59:39] *** Joins: boss_mc (boss_mc@moz-btt7od.metaswitch.com)
[21:00:07] <dschatzberg> so the only solution is to put the explicit bound?
[21:00:15] <talchas> er, Bar::<Stuff, FooImpl<'a>::foo() is &'b BarImpl -> &'b FooImpl<'a>, and doesn't have the constraint 'b: 'a
[21:00:21] *** Joins: glendc (glenc@moz-7ku.qb5.12.185.IP)
[21:00:52] *** Quits: errordeveloper (ilya@moz-ak1.d0i.5.94.IP) (Ping timeout: 121 seconds)
[21:01:04] *** Joins: jviereck (Adium@moz-q5q1dh.dclient.hispeed.ch)
[21:01:04] <dschatzberg> talchas: simpler - http://is.gd/tN5UlG
[21:01:09] *** Quits: mattkrea (textual@moz-hr3gaj.subnet.rcn.com) (Quit: Textual IRC Client: www.textualapp.com)
[21:01:40] <dam> is it possible to tell that a test function should panic with a given string, e.g.: #[should_panic:"expected panic message"]?
[21:02:03] <JustAPerson> dam: I think it's should_panic=""
[21:02:08] <Binero> Is there an interator function much like find, but errors when it finds more than one? 
[21:02:18] <Binero> As opposed to just returning on the first find? 
[21:02:49] *** Joins: mcanders (carter@moz-kd3.g9o.171.216.IP)
[21:03:32] <talchas> dschatzberg: yeah, I don't know if there's anything better you can do than sticking F: 'a either on the trait or every trait method calling get_foo
[21:03:36] <kimundi> dam: Don't think so
[21:03:50] <dam> JustAPerson: it does not seem to work
[21:04:01] *** Quits: ktakv (ktakv@moz-2igq4u.1984.is) (Ping timeout: 121 seconds)
[21:04:04] <dschatzberg> talchas: how would trait method help? needs a bound on F it seems
[21:04:13] <kimundi> Binero: Thats not really a semantic compatible with iterators lazy-evaluation
[21:04:14] <mcanders> is there any standard way to get a range iterator that decreases?  like 10..0 instead of 0..10 ?
[21:04:26] <eddyb> mcanders: 0..10.rev()
[21:04:43] <dam> kimundi: ok, so I think I should return a Result to check the error message
[21:04:49] <kimundi> Binero: As in, it always would have to traverse it completely - hm though I guess that would still be more performant than collecting to a vector or so and checking...
[21:04:59] <mcanders> is that efficient?  will i loop through the list twice?
[21:05:04] <talchas> it does seem incorrect that it can't realize that "fn get_foo<'a>(&'a self) -> &F where F: 'a;" implies the bound on everything calling get_foo(). Hmm I guess that's because it would infect the type of everything calling those functions, which is terrible and thus rust doesn't allow that sort of thing
[21:05:15] <kimundi> mcanders: Its efficient
[21:05:18] *** Quits: evanfarrar (evanfarrar@moz-7vs.bl6.251.207.IP) (Quit: Leaving...)
[21:05:29] *** Quits: glendc (glenc@moz-7ku.qb5.12.185.IP) (Ping timeout: 121 seconds)
[21:05:32] <mcanders> thanks!
[21:05:35] <talchas> dschatzberg: you can also do "fn foo<'a>(&'a self) -> &T where F: 'a {" for everything calling get_foo, but that's basically the same thing as putting it on the impl
[21:05:35] <gavinb> Is there a good, detailed article on using Rc and RefCell in real programs around?
[21:05:52] <kimundi> playbot: for i in (0..10).rev() { print!("{} ", i); }
[21:05:55] -playbot- 9 8 7 6 5 4 3 2 1 0 ()
[21:05:58] <Binero> kimundi, Right now I am probably just going to .filter it, check the length of the filtered iterator and if it's higher than 1, error. If it's 1, use that element, if it's 0, error
[21:06:02] *** Joins: timj1 (timj@moz-6fm.gpb.87.77.IP)
[21:06:05] <Binero> Just hoped there'd be a built in way 
[21:06:14] <JustAPerson> Binero: let x = iter.filter(|x| x == Thing); x.next(); if x.next().is_some() { panic!() }
[21:06:19] *** Joins: larhat (Adium@moz-9vj.vcf.204.37.IP)
[21:07:05] <JustAPerson> Binero: just use .next() rather than potentially .collect()ing the whole thing
[21:07:08] <Binero> JustAPerson, Wouldn't that error if what I'm matching for isn't at the end of the iterator? 
[21:07:15] <dschatzberg> talchas: hmm, didn't realize you could put a further bound on a single function - how does that work? http://is.gd/Wt8jg5
[21:07:18] *** Quits: duesenfranz__ (jona@moz-t4ekhe.dyn.drei.com) (Connection closed)
[21:07:18] *** Quits: kaksmet (kaksmet@moz-ismsth.se.alltele.net) (Connection closed)
[21:07:20] <kimundi> Binero: Don't know of one explicitly, but there is something for collecting a Iterator<Result<T, Err>> into a Result<Vec<T>, Err>, which might be kind what you want?
[21:07:23] *** Joins: kazimuth (james@moz-tfi.pt1.189.18.IP)
[21:07:23] <Binero> Ah no, it wouldn't 
[21:07:27] *** Joins: duesenfranz_ (jona@moz-t4ekhe.dyn.drei.com)
[21:07:27] *** Quits: joel2 (joel@moz-6ampnk.gtri.gatech.edu) (Ping timeout: 121 seconds)
[21:07:30] *** duesenfranz_ is now known as duesenfranz__
[21:07:45] <dschatzberg> talchas: It's certainly preferable to avoid having to add a lifetime parameter to every use of Bar if I can
[21:07:47] <Binero> kimundi, Not quite, but thanks anyway 
[21:07:54] *** Joins: ok32_ (ok32@moz-nc7pn3.broadband.corbina.ru)
[21:07:56] <mcanders> kimundi: are you sure it isn't just .collect()ing the .next()s
[21:08:06] <kimundi> mcanders: What do you mean?
[21:08:08] <talchas> dschatzberg: I believe it only allows you to call the function if the bound is specified
[21:08:13] *** Quits: bkearns (Adium@moz-rudtng.static.wiline.com) (Ping timeout: 121 seconds)
[21:08:42] <kimundi> mcanders: You mean rev() ?
[21:08:45] <talchas> er, satisfied
[21:08:48] <mcanders> yeah
[21:08:54] <dschatzberg> talchas: ah I see, if I add the bound to all the functions in the trait it works
[21:09:08] <kimundi> mcanders: It literally just constructs a wrapper that swaps around next() and next_back()
[21:09:09] <talchas> (which is the same as with bounds on local generic variables, but also allows you to specify bounds on trait stuff)
[21:09:20] *** Quits: kazimuth (james@moz-tfi.pt1.189.18.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[21:09:23] *** Quits: gavinb (gavinb@moz-ovemob.optusnet.com.au) (Client exited)
[21:09:31] *** Joins: sprang (sprang@moz-d0kmvi.12d9.sm5v.0009.2601.IP)
[21:09:41] *** Quits: timj (timj@moz-lc2o2p.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[21:09:43] <mbrubeck> mcanders: http://doc.rust-lang.org/src/core/iter.rs.html#1165-1173
[21:10:02] <kimundi> mcanders: It does nothing apart from constructing that adapter - and the actual iteration then behaves exactly the same way, it just uses the other end of the DoubleEndedIterator
[21:10:22] <mcanders> great.   good to know DoubleEndedIterator is a thing
[21:10:32] *** Joins: ktakv (ktakv@moz-2igq4u.1984.is)
[21:10:36] *** Quits: ok32 (ok32@moz-imu.af0.232.213.IP) (Ping timeout: 121 seconds)
[21:11:17] <rweichler> is there an irc chan for piston?
[21:11:20] <rweichler> #piston is dead
[21:11:27] <Binero> why doesn't Vec implement Peekable? 
[21:11:46] <mbrubeck> rweichler: #rust-gamedev
[21:11:46] <talchas> dschatzberg: I think you still need to if there are things that take Bar<T> and then call these functions, but not if everything is just dealing with Bar<Struct>
[21:11:56] <Binero> Should be able to peek in a vector, no? 
[21:12:01] <rweichler> mbrubeck: thanks
[21:12:25] *** Joins: duesenfranz_ (jona@moz-t4ekhe.dyn.drei.com)
[21:12:36] <mbrubeck> Binero: vec::IntoIter does - http://doc.rust-lang.org/std/vec/struct.IntoIter.html#tymethod.peekable
[21:12:52] *** Quits: duesenfranz__ (jona@moz-t4ekhe.dyn.drei.com) (Client exited)
[21:13:10] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[21:13:23] <dschatzberg> talchas: Everything dealing with Bar<T> didn't need an explicit bound on T - just had to muck with the impls of Bar<Struct> 
[21:13:44] <mbrubeck> or rather, it implements Iterator which provides the peekable method
[21:13:50] <mbrubeck> Binero: Peekable is not a trait, btw.
[21:15:58] <Binero> does calling peekable collect the entire iterator? 
[21:15:59] *** Joins: aepsil0n (eduard@moz-6491ha.mv2h.pepi.8071.2a02.IP)
[21:16:45] <bluss> no
[21:17:14] <dschatzberg> talchas: http://is.gd/9HuBz2 - no clue why this works or why it requires the where clause in the impl
[21:17:17] *** Quits: rvlander (rvlander@moz-ug5qpu.fbx.proxad.net) (Client exited)
[21:17:30] <Binero> ok so there is no significant overhead? 
[21:17:32] <Binero> That's great
[21:17:58] *** Quits: lov2cod (Adium@moz-263u4n.static.qwest.net) (Quit: Leaving.)
[21:18:16] *** Joins: dstrbad (dstrbad@moz-1sgbpk.dialin.iskon.hr)
[21:18:46] *** Joins: ucarion (ulyssecario@moz-7b29q5.ResHall.Berkeley.EDU)
[21:18:49] <dschatzberg> I don't understand the use of a where clause on something that isn't a type parameter
[21:18:53] *** Quits: xificurC (xificurC@moz-3u7gmd.chello.sk) (Ping timeout: 121 seconds)
[21:19:02] <bluss> the overhead is minimized. It's still overhead due to an extra branch in every .next() to see if a value had been peeked or not
[21:19:03] *** Quits: munksgaard (munksgaard@moz-urnkl5.u.parknet.dk) (Ping timeout: 121 seconds)
[21:19:06] <talchas> dschatzberg: ah, yeah, it probably would require that wouldn't it - trait impl signatures are supposed to be basically copy-paste, even for things that are obvious
[21:19:24] *** Quits: duesenfranz_ (jona@moz-t4ekhe.dyn.drei.com) (Ping timeout: 121 seconds)
[21:19:49] <dschatzberg> talchas: its not just obvious, it makes no sense - shouldn't that be what gets checked?
[21:19:49] *** Quits: js2a (js2a@moz-i3p2fd.net.upcbroadband.cz) (Quit: Leaving)
[21:19:56] *** Joins: rvlander (rvlander@moz-ug5qpu.fbx.proxad.net)
[21:20:05] *** Joins: jjthrash (jjthrash@moz-e4cn73.res.rr.com)
[21:20:05] <talchas> note that you don't actually need the get_foo bound, http://is.gd/K7Nxq5 works
[21:20:30] <dschatzberg> ah
[21:20:34] <talchas> dschatzberg: where <bounds> is part of the function signature, not external to it
[21:20:46] *** Quits: dmac (dmac@moz-h4nvlf.ca.comcast.net) (Connection closed)
[21:20:58] *** Joins: dmac (dmac@moz-h4nvlf.ca.comcast.net)
[21:21:06] *** Joins: ascarter (ascarter@moz-i0dnmd.wa.comcast.net)
[21:21:49] <dschatzberg> then I misunderstood what it means - I thought it can only apply to a type parameter - why can I call that function without asserting that bound?
[21:21:59] *** Joins: timonv (timonv@moz-1qu311.dynamic.ziggo.nl)
[21:22:33] <talchas> though it doesn't require it for the Self: Sized bounds you see on constructors, which is weird
[21:22:39] <fmendez> Is there a way that the N could be supplied dynamically? For instance, I know that the array will never grow but I want the initial value supplied by whoever is using Foo? http://is.gd/bIm1LQ 
[21:22:40] *** Quits: dstrbad (dstrbad@moz-1sgbpk.dialin.iskon.hr) (Ping timeout: 121 seconds)
[21:23:02] <talchas> Self being special is understandable but it seems like that should be extended to all trait-only bounds
[21:23:16] *** Quits: dmac (dmac@moz-h4nvlf.ca.comcast.net) (Connection closed)
[21:23:29] *** Joins: dmac (dmac@moz-h4nvlf.ca.comcast.net)
[21:23:37] *** Quits: twipeD (wipeD@moz-m2khlq.dip0.t-ipconnect.de) (Connection closed)
[21:23:56] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[21:24:07] <kimundi> dschatzberg: where clauses on an item basically introduce a bunch of predicates that need to hold for that item to be accessible - and a single predicate check arbitrary complex things
[21:24:27] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[21:24:34] *** Joins: DemonOne (Avi@moz-4nrie5.red.bezeqint.net)
[21:24:43] <dschatzberg> talchas: http://is.gd/sIwOaD - how come I don't need a bound on F in "test" to call foo()?
[21:24:57] <Binero> I'm out for the day - thanks for your help all! 
[21:24:58] *** Parts: Binero (quirkyclien@moz-91joat.69vi.s4ge.1810.2a02.IP) ()
[21:25:22] <talchas> dschatzberg: uhhh... it is a mystery
[21:25:46] <ucarion> I'm trying to use html5ever, but I can't find a version of rustc it will compile on. What should I do?
[21:25:57] <dschatzberg> talchas: glad I'm not the only one who doesn't understand =)
[21:26:14] <talchas> (I /think/ a smarter compiler could make the bound on Bar::foo unnecessary to begin with, though I'm not sure. If that's the case it could be smart enough to figure it out here for... some reason)
[21:26:34] <Ms2ger> ucarion, you want kmc over in #servo 
[21:26:34] <dschatzberg> so where clause on a function in a trait means what exactly?
[21:26:54] <talchas> dschatzberg: it does need it if you want to return the isize from test
[21:26:55] <kimundi> dschatzberg: that that function is only accessible if the predicates in the where clause hold
[21:27:09] <eddyb> well, s/function/method
[21:27:12] <ucarion> Ms2ger: Good idea, I'll head over there.
[21:27:43] <dschatzberg> talchas: thats seems unrelated to calling foo though, just the same problem as before
[21:28:07] <dschatzberg> kimundi: see my example, that doesn't seem to be true
[21:28:56] <eddyb> heh
[21:28:59] *** Quits: timonv (timonv@moz-1qu311.dynamic.ziggo.nl) (Ping timeout: 121 seconds)
[21:28:59] <kimundi> dschatzberg: Right, I'm trying to understand it - either it figures out the predicate is always true due the way you use 'a there, or its a bug (in which case, cc nmatsakis)
[21:29:02] <eddyb> dschatzberg: that's because it's always true :P
[21:29:23] <dschatzberg> eddyb: how is it always true that F: 'a?
[21:29:39] <eddyb> dschatzberg: because 'a is late-bound
[21:29:40] <eddyb> wait, no
[21:29:48] <eddyb> dschatzberg: this is confusing
[21:30:11] <eddyb> plugging 'a = 'static can shed a light on things, I guess
[21:30:30] <dschatzberg> what does late-bound mean?
[21:31:05] *** Quits: ok32_ (ok32@moz-nc7pn3.broadband.corbina.ru) (Connection closed)
[21:31:26] *** Quits: yodle (Mibbit@moz-1scnim.skybroadband.com) (Quit: http://www.mibbit.com ajax IRC Client)
[21:31:29] *** Joins: fabiand (fabiand@moz-1mr9ed.dip0.t-ipconnect.de)
[21:31:31] *** Quits: frecel (quassel@moz-qme.p1t.254.162.IP) (Connection closed)
[21:31:45] <eddyb> dschatzberg: actually, forget what I said
[21:31:47] <eddyb> I have no clue
[21:31:55] <dschatzberg> ok
[21:32:01] <dschatzberg> still, what does late-bound mean?
[21:32:09] *** Quits: ucarion (ulyssecario@moz-7b29q5.ResHall.Berkeley.EDU) (Quit: WeeChat 1.0.1)
[21:32:14] <eddyb> dschatzberg: but lifetime predicates don't affect method lookup
[21:32:41] <eddyb> dschatzberg: they just bubble up and may result in a region inference failure
[21:32:47] <dschatzberg> F: 'a is a lifetime predicate?
[21:33:07] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[21:33:10] *** Quits: hoverbear (hoverbear@moz-82h62u.wireless.uvic.ca) (Quit: Time to hibernate.... ZzZz...)
[21:33:13] <eddyb> that and 'a: 'b
[21:33:25] <eddyb> they're both outlive predicates, type/lifetime and lifetime/lifetime
[21:33:48] <dschatzberg> ok, so if I did give an F without F: 'a, then I might see it fail?
[21:34:00] *** Quits: kmicu1 (kmicu@moz-uga.edn.218.91.IP) (Client exited)
[21:34:01] *** Joins: akiss (akiss@moz-92prrp.pool.digikabel.hu)
[21:34:09] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[21:34:10] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[21:34:20] <eddyb> aaaah, okay, the predicate is indeed true
[21:34:32] <eddyb> dschatzberg: but only in the actual usecase
[21:34:37] <eddyb> not necessarily always
[21:34:54] <dschatzberg> how is it true?
[21:34:56] <kimundi> edhoso?
[21:35:03] <kimundi> eddyb: howso?*
[21:35:33] <eddyb> http://is.gd/Vx8Nel
[21:35:42] <eddyb> dschatzberg: because 'a is going to be something very short
[21:35:55] *** Quits: marsel (user@moz-lv2.4he.147.46.IP) (Ping timeout: 121 seconds)
[21:35:55] *** Joins: hoverbear (hoverbear@moz-82h62u.wireless.uvic.ca)
[21:36:05] <eddyb> that is outlived by any possible type parameter
[21:36:28] <dschatzberg> eddyb: thats just because you try to return &isize
[21:36:31] <eddyb> no
[21:36:33] <dschatzberg> make it return () and it works
[21:36:38] <dschatzberg> http://is.gd/TUOl6g
[21:36:45] <eddyb> dschatzberg: that's what shortens 'a
[21:37:25] <dschatzberg> hmm I see
[21:37:28] *** Quits: mcanders (carter@moz-kd3.g9o.171.216.IP) (Client exited)
[21:37:32] *** Joins: k4-t (Dbeste@moz-5f3c4l.res.rr.com)
[21:37:54] *** Quits: rvlander (rvlander@moz-ug5qpu.fbx.proxad.net) (Client exited)
[21:39:42] *** Joins: lov2cod (Adium@moz-263u4n.static.qwest.net)
[21:39:43] <dschatzberg> so as long as I keep the result of foo() within a single scope, then I'm fine
[21:40:19] *** Quits: kgrandon (Adium@moz-blkfas.2rkg.9kg1.0101.2620.IP) (Quit: Leaving.)
[21:40:21] *** Joins: kgrandon (Adium@moz-blkfas.2rkg.9kg1.0101.2620.IP)
[21:40:40] *** Quits: nwin (textual@moz-e1ofce.pools.vodafone-ip.de) (Quit: My Mac Mini has gone to sleep. ZZZzzz…)
[21:40:56] <eddyb> dschatzberg: yeah, because it's reborrowed
[21:41:05] *** Joins: tetsuharu (tetsuharu@moz-fmjbd6.ucom.ne.jp)
[21:41:11] *** Joins: mib_u0fh5f (Mibbit@moz-esr422.dyn.telefonica.de)
[21:41:38] *** Quits: lucian (lucian@moz-2c3pda.cable.virginm.net) (A TLS packet with unexpected length was received.)
[21:41:47] <dschatzberg> ok, given my actual code works that way then this is fine
[21:42:05] *** Quits: jgilchrist (jonny@moz-r9or92.as13285.net) (Quit: Quit)
[21:42:14] *** AutomatedTester is now known as AutomatedTester|AFK
[21:43:03] *** Quits: mib_u0fh5f (Mibbit@moz-esr422.dyn.telefonica.de) (Quit: http://www.mibbit.com ajax IRC Client)
[21:44:27] *** Quits: lov2cod (Adium@moz-263u4n.static.qwest.net) (Quit: Leaving.)
[21:44:31] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[21:44:38] *** Quits: marc_ (uid5324@moz-t3einu.ealing.irccloud.com) (Quit: Connection closed for inactivity)
[21:44:45] *** Quits: jkerim (jkerim@moz-i5m.05u.207.66.IP) (Ping timeout: 121 seconds)
[21:45:34] *** Quits: tetsuharu (tetsuharu@moz-fmjbd6.ucom.ne.jp) (Ping timeout: 121 seconds)
[21:47:06] *** Joins: mnemnion (mnemnion@moz-kf3boi.ca.comcast.net)
[21:47:31] *** Quits: MaxV (MaxV@moz-v78e24.abo.wanadoo.fr) (Connection closed)
[21:47:32] *** Quits: maraoz (maraoz@moz-7fc9s6.fibertel.com.ar) (Ping timeout: 121 seconds)
[21:47:45] *** Joins: popinman322 (Mibbit@moz-79ak9q.res.rr.com)
[21:48:21] <popinman322> What's the format of the SPEC for rustc's cfg flag?
[21:49:09] *** Quits: fabiand (fabiand@moz-1mr9ed.dip0.t-ipconnect.de) (Quit: Verlassend)
[21:49:59] *** Joins: zcourts (zcourts@moz-7ms809.cable.virginm.net)
[21:50:05] *** Quits: wldcordeiro_ (wldcordeiro@moz-863roc.hfc.comcastbusiness.net) (Quit: Leaving)
[21:51:14] *** Quits: kgrz (uid74824@moz-vnirk2.brockwell.irccloud.com) (Quit: Connection closed for inactivity)
[21:51:41] *** Quits: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[21:51:52] *** Quits: JagaJaga (JagaJaga@moz-ua8.hhl.62.178.IP) (Ping timeout: 121 seconds)
[21:52:33] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[21:52:33] *** ChanServ sets mode: +o erickt
[21:52:44] *** Quits: loyd (loyd@moz-uft.32f.108.213.IP) (Ping timeout: 121 seconds)
[21:53:57] *** Quits: Uther (Thunderbird@moz-gssp49.fbx.proxad.net) (Client exited)
[21:54:29] <dam> is there a way to convert a slice of i32 into a str or should I do it with a map or something else?
[21:55:41] <mbrubeck> popinman322: `name` or `name="value"`
[21:55:59] <mbrubeck> dam: The i32 are unicode codepoints?
[21:56:22] *** Quits: hhhhhhhh1 (mike@moz-969kuj.cable.virginm.net) (Quit: WeeChat 1.1.1)
[21:56:57] *** Joins: loyd (loyd@moz-uft.32f.108.213.IP)
[21:57:27] <dam> mbrubeck: no, it is like &[1, 2, 3]
[21:57:41] *** Quits: SpaceWizard (RJones@moz-anbpsl.east.myfairpoint.net) (Ping timeout: 121 seconds)
[21:57:56] *** Joins: tomleb (tomleb@moz-7n1.40h.168.198.IP)
[21:58:00] *** Quits: tomleb (tomleb@moz-7n1.40h.168.198.IP) (Quit: leaving)
[21:58:03] <Ms2ger> dam, and the string you want is?
[21:58:13] <mbrubeck> dam: Do you want a string like "[1, 2, 3]"?
[21:58:22] *** Quits: michas (michas@moz-pk13qm.web.vodafone.de) (Quit: Verlassend)
[21:58:27] <mbrubeck> format!("{:?}", my_slice)
[21:58:37] <dam> mbrubeck: "[1, 2, 3]" or "1, 2, 3"
[21:59:41] *** Joins: JagaJaga (JagaJaga@moz-ua8.hhl.62.178.IP)
[21:59:56] *** Joins: cryptoju_ (cryptojuice@moz-pc2dp8.fios.verizon.net)
[22:00:04] <FreeFull> playbot: [1,2,3].to_string()
[22:00:06] -playbot- <anon>:14:17: 14:28 error: type `[_; 3]` does not implement any method in scope named `to_string`
[22:00:06] -playbot- <anon>:14         [1,2,3].to_string()
[22:00:06] -playbot- output truncated; full output at: http://bit.ly/1BFnN7I
[22:00:14] <FreeFull> playbot: (&[1,2,3]).to_string()
[22:00:16] -playbot- <anon>:14:20: 14:31 error: type `&[_; 3]` does not implement any method in scope named `to_string`
[22:00:16] -playbot- <anon>:14         (&[1,2,3]).to_string()
[22:00:16] -playbot- output truncated; full output at: http://bit.ly/1xu53fQ
[22:00:24] <FreeFull> playbot: (&[1,2,3][..]).to_string()
[22:00:26] -playbot- <anon>:14:24: 14:35 error: type `&[_]` does not implement any method in scope named `to_string`
[22:00:26] -playbot- <anon>:14         (&[1,2,3][..]).to_string()
[22:00:26] -playbot- output truncated; full output at: http://bit.ly/1BFnPfX
[22:00:32] <FreeFull> playbot: (&[1i32,2,3][..]).to_string()
[22:00:34] -playbot- <anon>:14:27: 14:38 error: type `&[i32]` does not implement any method in scope named `to_string`
[22:00:34] -playbot- <anon>:14         (&[1i32,2,3][..]).to_string()
[22:00:34] -playbot- output truncated; full output at: http://bit.ly/1xu56bG
[22:00:37] <FreeFull> Huh
[22:00:41] <FreeFull> Is that only for Display?
[22:00:57] *** Joins: cjwelborn (cjwelborn@moz-np6hed.al.charter.com)
[22:00:58] <dam> mbrubeck: lol, ok it was so simple, ty
[22:00:59] *** Quits: bjz (bjz@moz-puppgq.tpgi.com.au) (Quit: My Mac has gone to sleep. ZZZzzz…)
[22:01:07] *** Joins: glendc (glenc@moz-7ku.qb5.12.185.IP)
[22:01:19] <FreeFull> playbot: format!("{:?}", [1,2,3])
[22:01:22] -playbot- "[1, 2, 3]"
[22:01:24] *** Parts: cmr (cmr@moz-35s2fm.members.linode.com) ("WeeChat 0.3.8")
