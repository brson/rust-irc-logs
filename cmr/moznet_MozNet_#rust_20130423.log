[22:35:39] *** Joins: cmr (moznet@F468AD76.B3752F1D.93D630DC.IP)
[22:35:42] <strcat> mitsuhiko: yeah
[22:36:09] <mitsuhiko> i think i like that
[22:36:43] <mitsuhiko> the concept, not necessarily the implicitness
[22:36:43] <strcat> [cling]$ std::map<int, const char *> map {{0, "foo"}, {5, "bar"}};
[22:36:45] <strcat> [cling]$ map[0]
[22:36:47] <strcat> (mapped_type) "foo"
[22:36:56] <strcat> it's really terrible as implemented in C++ because it's ambiguous with a bunch of other things
[22:37:17] <benh> it's in good company in c++ then
[22:37:23] <strcat> for example...
[22:37:29] <strcat> they added 'uniform initialization syntax'
[22:37:30] <mitsuhiko> c++ is just too fucked by now parsing wise :(
[22:37:31] <strcat> so
[22:37:34] <strcat> foo{0, 2, 3}
[22:37:38] <strcat> that could
[22:37:43] <strcat> 1) initialize a struct with 3 fields
[22:37:50] <strcat> 2) call a constructor with three integer arguments
[22:37:59] <strcat> 3) call a constructor that takes an initializer list
[22:38:05] <mitsuhiko> 4) could do pretty much anything because macros :P
[22:38:23] <strcat> you have to disambiguate between 2 and 3 with horrible SFINAE crap ;[
[22:38:35] <eevee> c++: an experiment in designing a programming language that is impossible to use without an IDE
[22:38:47] <eevee> thusfar it has succeeded beyond all expectation
[22:38:49] <strcat> I really don't understand why they added "uniform initialization syntax"
[22:38:57] *** Joins: infynyxx_ (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[22:38:58] <strcat> I guess they had too much to drink that day
[22:39:07] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[22:39:10] <cmr> More than usual? ;)
[22:39:40] <strcat> std::vector<int> foo{10, 2}; // ambiguous - could make a vector like [10, 2] or call the constructor that initializes 10 elements to 2
[22:39:50] <strcat> what it actually does is call the initializer list one...
[22:39:55] * strcat sighs
[22:40:24] <mitsuhiko> "The traditional constructor syntax, for example, can look like a function declaration, and steps must be taken to ensure that the compiler's most vexing parse rule will not mistake it for such"
[22:40:32] <bjz> graydon: https://gist.github.com/bjz/d11a7bc8c0ac6187a81b
[22:40:34] <mitsuhiko> â€¦ because clearly that problem was solved
[22:40:50] *** kimundi is now known as zz_kimundi
[22:41:19] <bjz> eevee: pretty sure that's Java?
[22:41:36] <eevee> java is *tedious* to use without an IDE
[22:41:43] <bjz> true
[22:41:44] <eevee> C++ simply cannot be understood by a human being
[22:41:49] <strcat> mitsuhiko: ofc, they left the old syntax :)
[22:41:57] <strcat> so now there's a new ambiguous syntax too!
[22:42:11] <bjz> graydon: that issue seems to be something the pops up for me.
[22:42:22] <bjz> *that
[22:42:23] <strcat> mitsuhiko: also sometimes it lets you 'return {}' or 'return {1, 2, 3}' to call a constructor now, I basically have no idea what it allows :)
[22:42:37] <eevee> strcat: omg what
[22:42:41] <mitsuhiko> eevee: i got used to some files at work being without syntax highlighting because visual studio just does not see certain macros as defined
[22:42:46] <mitsuhiko> because the build system is external :P
[22:43:20] <mitsuhiko> also it's an unholy intermix of c++ and some scripting language that compiles that was designed by a non language designer :P
[22:43:27] *** Quits: Jesse (jruderman@2557E599.66715431.D25A875A.IP) (Quit: Jesse)
[22:43:28] <bjz> eevee: cannot be understood be compilers either
[22:43:29] <strcat> [cling]$ auto x = []() -> int { return {}; }
[22:43:31] <strcat> (class <lambda at input_line_4:2:11>) @0x7fafbd618020
[22:43:33] <strcat> [cling]$ x()
[22:43:35] <strcat> (int) 0
[22:43:37] <strcat> ;p
[22:43:53] <mitsuhiko> visual studio is not much more useful than vim there. the only thing it adds is the debugger :)
[22:43:54] <eevee> WHAT
[22:43:57] <strcat> return {5} calls the int constructor that makes 5
[22:44:02] <strcat> so it's the same as return 5
[22:44:05] <strcat> but if it was a vector...
[22:44:14] <eevee> or if it were a struct name, or a class...
[22:44:27] * strcat doesn't know if it calls the constructor or brace-initializer-list thing
[22:44:28] <eevee> or a c-style array?  does that work with {} syntax?
[22:44:36] <strcat> eevee: oh C style arrays are weirder
[22:44:37] <mitsuhiko> strcat: since we're here bashing c++11: no operator auto() :-/
[22:44:40] <eevee> oh good
[22:44:47] <strcat> because C has like 4 ways to initialize them now
[22:44:51] <strcat> and C++ inherited some but not all
[22:44:53] <strcat> and added others
[22:44:55] <strcat> :(
[22:44:58] <mitsuhiko> which is awesome if you have a library that optimizes binary ops to template expressions and only evaluates them on cast
[22:45:06] <eevee> of course it did
[22:45:09] <strcat> eevee: C has weird crap that's not in C++ though
[22:45:10] <strcat> like
[22:45:11] <eevee> because [1, 2, 3] is so hard
[22:45:12] <mitsuhiko> (and that case never happens)
[22:45:16] <mitsuhiko> *cast
[22:45:18] <strcat> void foo(int x[static 10])
[22:45:24] <strcat> I forget what that means
[22:45:26] <eevee> instead of one sane thing let's add four insane things that all look like something else
[22:45:28] <strcat> I think it means "at least 10"
[22:45:32] <eevee> oh wait i remember that--  yeah
[22:45:34] <strcat> it's an optimization hint or something
[22:45:48] <tiffany> C99 has things C++ lacks, like fixed-width types, complex numbers, variable-length types, etc.
[22:45:53] <eevee> i assume some compilers will gripe if they know you're passing fewer than 10 as well
[22:46:05] <cmr> strcat: it's a warning in at least clang as well
[22:46:06] <mitsuhiko> tiffany: none of the ones you liste actually being sane either
[22:46:08] <strcat> tiffany: stdint/inttypes are in C++
[22:46:15] <strcat> as is the c99 preprocessor
[22:46:22] <strcat> some things aren't (designated initializers)
[22:46:31] <tiffany> then why does every C++ project I see have its own remake of stdint.h?
[22:46:38] <strcat> tiffany: why does every C project? :)
[22:46:38] <mitsuhiko> tiffany: because msvc
[22:46:49] <strcat> msvc actually has it
[22:46:54] <strcat> they buy their stdlib from some company
[22:46:55] *** Quits: tgt (tgt@moz-D59EE478.aztw.cable.virginmedia.com) (Ping timeout)
[22:46:57] <strcat> they only make the compiler
[22:47:04] <mitsuhiko> strcat: no inttypes.h
[22:47:09] <strcat> mitsuhiko: in the new versions it's there
[22:47:15] <strcat> as cinttypes though
[22:47:24] *** Joins: tgt (tgt@moz-D59EE478.aztw.cable.virginmedia.com)
[22:47:25] <mitsuhiko> ah yes, 2012 added it or something
[22:47:51] <strcat> they have a "complete" C++11 stdlib implementation (they claim), but ofc they leave out all the parts that their compiler doesn't understand :)
[22:48:05] <strcat> clang/libc++ is actually a fully complete C++11 implementation now
[22:48:07] <cmr> Also the source is an unholy mess.
[22:48:37] <mitsuhiko> cmr: <_W,_A,_T> __areYou_talking__cxx_about_T
[22:48:48] <cmr> the STL is a nightmare in general but they don't make it any better
[22:48:52] *** Quits: jfredett (jfredett@moz-4B238F9.mycingular.net) (Ping timeout)
[22:49:09] <mitsuhiko> god i should stop ranting about this. but c++ does not make me very happy
[22:49:15] <mitsuhiko> especially not the microsoft flavour
[22:49:32] *** Joins: azita (Azita@2557E599.66715431.D25A875A.IP)
[22:49:46] <mitsuhiko> (which btw in recent versions of the windows api started to embrace their managed pointers and async framework shenanigans)
[22:49:49] <tiffany> I ragequit C++ over a year ago and I don't plan on going back
[22:50:23] <strcat> the C++ standard basically seeks out the most backwards way to do everything
[22:50:26] <strcat> like how they did moves
[22:50:46] * strcat has a hard time understanding perfect forwarding
[22:50:53] <strcat> std::forward, std::forward_as_tuple, all that crap
[22:50:53] <mitsuhiko> http://msdn.microsoft.com/en-us/library/vstudio/yk97tc08.aspx <- referring to this 
[22:50:54] <strcat> :(
[22:51:09] <strcat> mitsuhiko: yeah and they have older extensions too
[22:51:50] *** Joins: devbug (quassel@moz-E1DE087C.bchsia.telus.net)
[22:53:23] *** Quits: donri (dag@moz-9BB61102.tbcn.telia.com) (Quit: Leaving)
[22:55:08] *** Quits: alexrp (zor@moz-180BED6.rfw.name) (Ping timeout)
[22:55:10] *** Joins: alexrp (zor@moz-180BED6.rfw.name)
[22:55:17] <bjz> graydon: I added an issue anyway: https://github.com/mozilla/rust/issues/6037
[22:55:39] <graydon> checking
[22:55:44] *** Quits: spider-mario (spidermari@moz-EE4B8A09.rev.sfr.net) (Input/output error)
[22:56:19] *** Quits: jorendorff (jorendorff@moz-2F32ACA3.hsd1.tn.comcast.net) (Quit: jorendorff)
[22:58:39] <strcat> I don't understand why gmail thinks rust-dev isn't a normal mailing list :(
[22:59:03] <strcat> if I reply to an email from any other mailing list it does reply-to-all by default...
[22:59:09] <strcat> mutt doesn't get confused
[22:59:55] *** Quits: libertas (libertas@856FE099.4898E476.593B3862.IP) (Quit: Lost terminal)
[23:01:13] *** Quits: jdm (jdm@941349F4.F58C7D4D.F945DA.IP) (Quit: Lost terminal)
[23:01:17] *** Joins: jorendorff (jorendorff@moz-2F32ACA3.hsd1.tn.comcast.net)
[23:01:30] *** Joins: cuemin (Quemin@44EEE21C.A6E21E6E.5E500FC7.IP)
[23:04:15] <bjz> graydon: I updated it to show different options of formatting the if-else. It's mainly a syntactic/formatting/readability thing. I understand if you dan't want to make the grammar more complex though
[23:07:13] *** Quits: devinus (devinus@moz-B4AF84BC.ptr.us.xo.net) (Quit: Textual IRC Client: www.textualapp.com)
[23:07:14] *** Joins: EXetoC (ex@moz-2DBEB1E4.customer.t3.se)
[23:10:15] *** Joins: jfredett (jfredett@moz-C01C350.bstnma.fios.verizon.net)
[23:10:29] *** Quits: tgt (tgt@moz-D59EE478.aztw.cable.virginmedia.com) (Quit: Computer has gone to sleep.)
[23:13:34] <cmr> Can one do out-of-tree builds?
[23:15:18] <cmr> (of rust itself, that is)
[23:17:17] *** Quits: a__ (a__@moz-9BBD1F27.nycmny.fios.verizon.net) (Ping timeout)
[23:17:29] *** Quits: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP) (Quit: Leaving.)
[23:19:54] *** Joins: a__ (a__@moz-9BBD1F27.nycmny.fios.verizon.net)
[23:19:55] *** Quits: btipling (btipling@moz-E36F67E7.hfc.comcastbusiness.net) (Quit: Computer has gone to sleep.)
[23:20:23] *** Quits: int3_ (int3_@moz-2242076.subnet-248.amherst.edu) (Client exited)
[23:22:01] *** Quits: terra (Adium@moz-D293EB03.pool.mediaways.net) (Quit: Leaving.)
[23:23:47] *** Joins: Sorella (queen@D6917206.B46B7936.54BCAB54.IP)
[23:23:56] *** Quits: RMF (RMF@moz-5287DC84.dsl.telepac.pt) (Quit: Textual IRC Client: www.textualapp.com)
[23:24:16] <cuemin> So if I want to implement a trait on an enum variant, must I implement it for the entire enum and then do pattern matching on self to determine the variant?
[23:24:43] <cuemin> or can I do impl MyTrait for MyEnumVariant on all the variants?
[23:26:15] <benh> i strongly suspect it's the former
[23:26:20] <benh> enum variants aren't types in their own right
[23:27:57] <mitsuhiko> yeah, you need to do it on the enum type
[23:28:04] <mitsuhiko> and then pattern match :)
[23:28:21] <cuemin> makes sense; seems safer that way
[23:28:33] <mitsuhiko> also avoids ambiguity :)
[23:29:20] *** Quits: Jesin (Jessin_@moz-60120A2E.cc.lehigh.edu) (Ping timeout)
[23:30:36] *** Joins: RMF (RMF@moz-5287DC84.dsl.telepac.pt)
[23:30:54] *** Quits: RMF (RMF@moz-5287DC84.dsl.telepac.pt) (Quit: Textual IRC Client: www.textualapp.com)
[23:34:29] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[23:34:36] *** Quits: devbug (quassel@moz-E1DE087C.bchsia.telus.net) (Ping timeout)
[23:35:08] *** Joins: tgt (tgt@moz-D59EE478.aztw.cable.virginmedia.com)
[23:35:11] *** Quits: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP) (Client exited)
[23:35:16] *** Quits: tgt (tgt@moz-D59EE478.aztw.cable.virginmedia.com) (Quit: tgt)
[23:37:11] *** Joins: devbug (quassel@moz-E1DE087C.bchsia.telus.net)
[23:39:36] *** Joins: wilsonk-laptop (kvirc@moz-39EFBFC2.cg.shawcable.net)
[23:40:06] *** Quits: wilsonk|2 (kvirc@moz-39EFBFC2.cg.shawcable.net) (Ping timeout)
[23:42:07] *** Joins: jviereck (Adium@moz-788AC8AF.ethz.ch)
[23:42:59] *** Joins: RMF (RMF@moz-5287DC84.dsl.telepac.pt)
[23:47:39] *** Joins: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP)
[23:50:58] <brson> cmr: yes, rust supports out-of-tree builds
[23:51:42] <graydon> ZOMG how did I not see LLBMC before!?
[23:52:12] * graydon falls off chair repeatedly
[23:52:25] <graydon> exploring state space of all possible ways of falling off chair
[23:52:49] <graydon> echristo: have you seen this thing!?
[23:52:53] <cmr> brson: how?
[23:53:45] *** Quits: erickt (erickt@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[23:55:16] <brson> cmr: something like `git clone git://github.com/mozilla/rust.git && mkdir build && cd build && ../rust/configure`. Run configure from whatever directory you want to build in
[23:55:34] <cmr> Ah
[23:57:06] *** Joins: int3_ (int3_@moz-2242076.subnet-248.amherst.edu)
[23:57:51] *** Quits: snearch (snearch@moz-B9E85588.pool.mediaways.net) (Quit: Verlassend)
[23:58:05] *** Quits: Bernkastel (suckmy@7F352483.A9B419CB.1C8C8CE9.IP) (Ping timeout)
