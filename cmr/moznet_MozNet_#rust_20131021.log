[00:00:38] *** Quits: brson (brson@981AA104.E81F12CD.76F66111.IP) (Ping timeout)
[00:00:40] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[00:00:47] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[00:01:52] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[00:01:55] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[00:01:58] *** sam113101 is now known as sam113101_afk
[00:02:00] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[00:02:06] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[00:02:11] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[00:03:32] <bjz> how does one create a path from a string now?
[00:03:50] <Eridius> Path::new(s)
[00:03:58] <Eridius> same function can accept strings, &[u8]s, and Paths
[00:04:06] *** Quits: adridu59 (Mibbit@moz-6C393FDD.rev.numericable.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[00:04:21] <sp3d> bjz: out of curiosity, how did you get the path originally?
[00:05:08] <bjz> GenericPath::from_str
[00:05:34] <Eridius> bjz: really? The old common method was just Path(s)
[00:05:49] <Eridius> while GenericPath::from_str worked, it was kind of awkward
[00:06:06] <Eridius> Path also implements FromStr, but that returns an Option (which may be fine if your string possibly contains a NUL)
[00:09:28] *** Quits: nejucomo (Adium@moz-A94CACD5.dsl.pltn13.sbcglobal.net) (Quit: Leaving.)
[00:11:04] *** Quits: jordyd (jordyd@moz-DB376585.seg32.ucf.edu) (Ping timeout)
[00:11:21] *** Quits: skoizza (Mibbit@moz-C3630477.hsd1.va.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[00:13:39] *** Quits: bleibig (bleibig@moz-CB11172C.hsd1.ca.comcast.net) (Quit: bleibig)
[00:13:47] <kemurphy> dbaupp: so the dust from my relocation is finally settling, i'm thinking i can get back into that struct/enum overhaul patch
[00:14:15] *** Quits: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net) (Quit: ChatZilla 0.9.90.1 [Firefox 24.0/20130910160258])
[00:14:21] <kemurphy> noticed that struct-like enum variants are now feature-gated... what's the story there?
[00:14:53] *** Quits: ofeldt- (ofeldt@moz-F90A2DDF.dip0.t-ipconnect.de) (Ping timeout)
[00:16:27] *** Quits: jdm (jdm@A931292E.20A5B7E6.930FA32.IP) (Ping timeout)
[00:16:48] <strcat> kemurphy: I think they're broken in matches
[00:16:56] *** Joins: jordyd (jordyd@moz-DB376585.seg32.ucf.edu)
[00:16:57] <strcat> if it gets fixed the feature gate can probably be removed
[00:17:07] *** Joins: jdm (jdm@A931292E.20A5B7E6.930FA32.IP)
[00:17:07] *** ChanServ sets mode: +o jdm
[00:17:56] <kemurphy> strcat: ah, gotcha. good to know it's not planned for removal :P
[00:18:51] *** Quits: jordyd (jordyd@moz-DB376585.seg32.ucf.edu) (Ping timeout)
[00:20:22] *** Joins: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP)
[00:20:39] *** Quits: jdm (jdm@A931292E.20A5B7E6.930FA32.IP) (Quit: Lost terminal)
[00:21:24] <frau> Apple's CGFloat typedef is 32 or 64-bit depending on CPU. So #[cfg(target_word_size = "32")] is perfect for that right?
[00:21:44] <strcat> frau: no
[00:22:05] *** Quits: nkoep (nik@moz-DC7F7F3E.pool.mediaways.net) (Client exited)
[00:22:10] *** Quits: duaneb (textual@moz-73F5A240.hsd1.pa.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[00:22:18] <strcat> frau: the word size is unrelated to whether CGFloat will be single or double precision
[00:22:39] *** Quits: earlz (earlz@moz-9E279EAD.neo.res.rr.com) (Client exited)
[00:22:50] <strcat> you would just have to hardcode architectures with cfg
[00:22:59] <frau> strcat: Huh. So Apple's logic is more complex than that...
[00:23:06] <frau> oh, that's not pretty
[00:23:10] <strcat> frau: well, tying it to word size wouldn't really make sense
[00:23:27] <Eridius> CGFloat is a double if __LP64__ is defined
[00:23:33] <Eridius> what are the conditions under which clang defines __LP64__?
[00:23:47] <frau> strcat: It doesn't make much sense to me, but I thought that's what Apple is doing...
[00:23:59] *** Joins: ofeldt (ofeldt@moz-16935A91.dip0.t-ipconnect.de)
[00:24:00] <frau> LP64 eh
[00:24:01] <Eridius> my assumption would have been that __LP64__ corresponds to a target_word_size of 64
[00:24:17] * strcat shrugs
[00:24:26] <Eridius> apparently LP64 stands for "longs and pointers are 64-bits"
[00:24:29] <strcat> I thought it had to do with whether the hardware has double precision floats
[00:24:31] <Eridius> so yeah, that's pretty much target_word_size
[00:24:32] <strcat> had*
[00:24:59] <frau> strcat: nope. Just apple being mysterious and apple-y
[00:25:18] <strcat> opengl has one that's either 32-bit or 64-bit based on hw support
[00:25:22] <frau> I don't know why you would ever need double precision for iOS UI or core graphics or everything
[00:25:50] <Eridius> frau: I think it's more that apple wanted to move to double, but didn't want to break any existing 32-bit code
[00:25:53] *** sam113101_afk is now known as sam113101
[00:26:02] *** Joins: earlzlap (earlz@moz-9E279EAD.neo.res.rr.com)
[00:26:22] <frau> Eridius: Huh, OK. Maybe for fancy transformations and things more elaborate than UIKit.
[00:26:39] <Eridius> CGFloat is used in more than just UI code
[00:26:48] <Eridius> it's the de-facto floating point type for Apple code now
[00:27:04] <frau> even outside Core Graphics eh
[00:27:10] <Eridius> yeah
[00:27:16] <frau> curious
[00:28:33] *** Joins: nejucomo (Adium@moz-434492BB.dsl.static.sonic.net)
[00:29:39] *** Joins: ibnc (ibnc@moz-8A9CD85B.client.mchsi.com)
[00:29:59] <frau> maybe Apple is just that forward-thinking that they see a day when single floats will be an archaic nuisance
[00:30:21] <strcat> frau: they'll never be ;p
[00:30:33] <strcat> double-precision float arrays will always use double the cache space
[00:30:46] <strcat> if single-precision if all you need, it's useful
[00:30:53] <frau> indeed. double seems overkill for lots of uses.
[00:31:14] <strcat> hw support half precision would be useful ;p
[00:31:42] <frau> maybe we'll move to memristors and never have cache/memory level worries again ;)
[00:32:35] *** Quits: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP) (Ping timeout)
[00:32:49] *** Quits: alonlevy (alon@moz-B0E66DB7.static.bezeqint.net) (Ping timeout)
[00:33:24] *** Joins: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP)
[00:33:28] * nejucomo looks up memristors.
[00:34:27] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[00:34:27] *** ChanServ sets mode: +ao brson brson
[00:34:46] <nejucomo> It seems that locality is a physical constraint and will always be an issue.
[00:35:32] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[00:36:10] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[00:37:26] <bstrie> "we wrote our company's primary datastore in Go, it's been reliable and performant" "can you tell us more about it?" "well it's really just a wrapper around [database written in C++]" #shitHNsays
[00:37:48] *** Quits: ibnc (ibnc@moz-8A9CD85B.client.mchsi.com) (Client exited)
[00:38:09] *** Joins: ibnc (ibnc@moz-8A9CD85B.client.mchsi.com)
[00:38:15] <frau> maybe rust will make programming for 100-core architectures easy. Horizontally scaling that + memristors will finally destroy the scourge of cache hierarchies ;)
[00:39:53] *** Quits: ibnc (ibnc@moz-8A9CD85B.client.mchsi.com) (Ping timeout)
[00:39:54] *** Joins: brson (brson@981AA104.E81F12CD.76F66111.IP)
[00:39:54] *** ChanServ sets mode: +ao brson brson
[00:39:56] <frau> replacing it with the scourge of sharded non-volatile memory...
[00:40:00] *** Joins: ibnc (ibnc@moz-8A9CD85B.client.mchsi.com)
[00:40:22] <nejucomo> There will always be cache hierarchies.
[00:40:36] <bstrie> "by insisting that all data start in a zeroed state, Go makes the same Billion Dollar Mistake that language designers have been making for decades" "And Dijkstra considered goto harmful. He wasn't right either." #shitHNsays #defendingnullpointers
[00:40:56] <frau> bstrie: duhuhu
[00:41:17] <frau> nejucomo: But... QUANTUM COMPUTING!!
[00:41:31] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[00:42:03] *** Quits: blank_name (blank_name@2E4E7E43.800E1818.31EC03F3.IP) (Quit: leaving)
[00:42:30] <Eridius> bstrie: I don't see what zeroing by default has to do with null pointers. They're orthogonal
[00:42:44] <Eridius> and you can certainly initialize structs to non-zero values
[00:43:01] <maikeru> You made me go and read HN...
[00:43:12] <bstrie> Eridius: right, I'm just pointing out the complete incoherency of comments on HN
[00:43:19] <maikeru> " after living in a dynamic language heavy environment for many years, I can't imagine going back to not having a compiler"
[00:43:22] <nejucomo> Maybe the rust slogan could be "Default::default by default, given T: Default".  :-p
[00:43:46] <bstrie> it's not like go even lets you do anything dangerous with null pointers, it's not a security issue like in C++
[00:43:54] <bstrie> but the comments sections are just so full of clowns
[00:44:00] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[00:44:17] *** Joins: blank_name (blank_name@2E4E7E43.800E1818.31EC03F3.IP)
[00:44:33] <nejucomo> bstrie: Even with memory safety, the danger is unanticipated runtime failure in production, right?
[00:45:05] <bstrie> nejucomo: which is still much less bad than exploitable security vulns
[00:45:23] <nejucomo> Agreed.
[00:45:24] *** Joins: martndemus (martndemus@moz-876695FC.sshunet.nl)
[00:45:48] <frau> "Both the original post and comments such as mine have made no mention comparing Go to other languages. We're just saying that Go itself is reliable. Not that others aren't or that Go is more reliable than others.
[00:45:51] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[00:45:53] <frau> reliability is binary
[00:45:53] <nejucomo> -except unanticipated runtime states are often security vulns.
[00:47:27] *** Quits: martndemus (martndemus@moz-876695FC.sshunet.nl) (Ping timeout)
[00:48:29] <frau> Are imports always relative to the crate? I am having a tricky time using a function from file subdir/B.rs in subdir/A.rs without doing "use subdir::A::foo"
[00:50:06] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[00:50:17] <SiegeLord> You might be able to do super::A::foo
[00:50:33] <strcat> bstrie: the problem is having nullability everywhere instead of just where you need it
[00:50:43] *** Quits: heftig (heftig@moz-7609170D.dip0.t-ipconnect.de) (Quit: Quitting)
[00:50:55] <strcat> bstrie: a null ptr deref isn't a problem for C++ on a system with an MMU
[00:51:06] <strcat> (problem as in security issue)
[00:51:26] <frau> SiegeLord: oh, super does it, cool. Any idea if that kind of relative path is preferred over absolute crate paths?
[00:51:27] <strcat> it's considered undefined behaviour by the compiler but that's a separate issue ;p
[00:52:09] <SiegeLord> frau, Not sure. I prefer to use super only when I have several modules in the same file
[00:53:56] <frau> Hmm, OK. Well, I'm going to use "use super" for now because I like the parent-independentness.
[00:59:44] *** Quits: nejucomo (Adium@moz-434492BB.dsl.static.sonic.net) (Quit: Leaving.)
[01:00:59] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[01:01:51] *** Joins: rveach (kvirc@3B9F6824.B2F116C2.C69D10BF.IP)
[01:08:39] *** Joins: alonlevy (alon@moz-3F073415.bb.netvision.net.il)
[01:09:18] *** Quits: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com) (Ping timeout)
[01:10:59] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[01:12:42] *** Joins: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com)
[01:14:25] <dg> I'm getting an error compiling rust on Mavericks/Xcode 5.0.1, has anyone had similar problems? Here's the make log: http://pastebin.com/L9fVb6N6
[01:15:25] <balpert> dg: last I heard it doesn't work on 10.9 yet: https://github.com/mozilla/rust/issues/6849
[01:15:33] <balpert> though it looks like maybe your issue is different
[01:16:35] *** sam113101 is now known as sam113101_afk
[01:16:41] *** Joins: lfox (lfox@moz-F9C0E858.nycmny.east.verizon.net)
[01:17:27] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[01:17:42] <dg> hmm, that's unfortunate
[01:17:52] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[01:19:03] <Eridius> dg: what version are you compiling?
[01:20:26] <frau> if Foo impls Drop and I do { let foo = Foo(); <...> }, but I don't mention foo within <...}, does Rust drop foo before <...>? Or does it guarantee that foo will only be dropped once foo goes out of scope?
[01:20:28] <dg> the latest master, should be 69860b7
[01:20:41] <Eridius> frau: I think it doesn't drop until foo goes out of scope
[01:20:50] <Eridius> frau: btw to avoid an unused variable warning, use `let _foo = ...`
[01:21:31] <frau> Eridius: that seems to be the behavior I see too, OK. I'm adopting it for RAII purposes (CFReleasing is hairy!) but I'm wondering if this could ever change in the future.
[01:21:55] <Eridius> frau: I think it's this way by design
[01:21:59] <Eridius> (probably because of RAII)
[01:22:01] <benh> That's the RAII pattern rustc uses anyway
[01:22:05] <Eridius> if you say `let _ = ...` btw it drops immediately
[01:22:07] <benh> just don't do let _ = ... because ... yeah
[01:22:14] <frau> interesting
[01:22:25] <strcat> Eridius: let _ = ... is broken, though :)
[01:22:28] <Eridius> oh?
[01:23:20] <frau> I wouldn't have expected the end-of-scope behavior at first (seems logical to drop as soon as you can) but yeah, RAII , and no thrashing of lifetimes if you happen to drop a mention, seems to make this policy more sane
[01:24:37] <frau> it's only a little weird coming from other languages where let-reduction is impotent. Borrowing is neat
[01:26:50] *** Joins: Satwiki (chatzilla@63A4C9D3.CC770024.EFB84E89.IP)
[01:27:49] <Satwiki> Hello, I have a question. Is Rust compatible with Windows 8? I am having some difficulties with it. 
[01:28:45] <bstrie> Satwiki: I have no idea if anyone's ever tried rust on windows 8
[01:28:56] <bstrie> I guess it really depends on if mingw works on windows 8
[01:29:53] <bstrie> Eridius: it's broken in that it doesn't currently drop it immediately
[01:31:28] <frau> it would be nice if rust had an instruction to "keep this alive until here please" or something, as a borrowing sanity check
[01:31:37] <bstrie> also, trying to accurately track when objects are last used and free them ASAP is counterproductive. better to release memory in batches, rather than one-thing-at-a-time
[01:32:10] *** Quits: Satwiki (chatzilla@63A4C9D3.CC770024.EFB84E89.IP) (Quit: ChatZilla 0.9.90.1 [Firefox 15.0.1/20120905151427])
[01:32:25] <frau> I guess my suggestion doesn't make sense given the current lifetime semantics
[01:32:26] <bstrie> frau: not sure what you mean?
[01:32:36] *** Joins: Satwiki (chatzilla@63A4C9D3.CC770024.EFB84E89.IP)
[01:32:48] <bstrie> Satwiki: did you see the github issue that I tagged you on?
[01:33:58] <frau> bstrie: yeah disregard that. On the other hand... is there a way to tell rust to drop a local var explicitly? like "let res = get_resource(); ... drop(res); /* further attempts to access res will cause compilation error */"?
[01:34:16] <Satwiki> Yes I checked it out. But the problem is, I am having difficulties with rust and windows 8, that is why I need a little more time..
[01:34:25] <frau> There's just scopes right now, I guess.
[01:34:41] <dg> Eridius: 0.8 is compiling fine
[01:36:38] <bstrie> frau: yes, `let res = get_resource(); let _ = res;` will make it a compilation error if you try to refer to `res` later. ideally we'd also run the destructor at that point as well, but it doesn't currently
[01:37:07] <bstrie> frau: you can also introduce a new block to remove something from scope at a given point
[01:37:12] <strcat> bstrie: Eridius: it sometimes doesn't drop it at all
[01:37:14] *** Quits: ChrisMorgan (chris@moz-B3EDAB85.its.monash.edu.au) (Quit: Leaving.)
[01:37:34] *** Joins: ChrisMorgan (chris@moz-B3EDAB85.its.monash.edu.au)
[01:37:37] <bstrie> gross
[01:38:22] <frau> bstrie: ah great! I'm thinking there could be memory leaks in long-running tasks from unintended capture, so it's nice to have an out, but this is all armchair speculation on my part
[01:41:13] *** Joins: tikue_ (tikue_star@9B9EFD68.B9B3942C.689607DE.IP)
[01:42:40] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[01:43:52] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[01:45:34] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Quit: Textual IRC Client: www.textualapp.com)
[01:46:58] *** Joins: martndemus (martndemus@moz-876695FC.sshunet.nl)
[01:49:02] *** Quits: martndemus (martndemus@moz-876695FC.sshunet.nl) (Ping timeout)
[01:49:32] *** Quits: Satwiki (chatzilla@63A4C9D3.CC770024.EFB84E89.IP) (Quit: ChatZilla 0.9.90.1 [Firefox 15.0.1/20120905151427])
[01:50:31] *** Joins: sruggier (sruggier@moz-B9FB4CF4.cpe.pppoe.ca)
[01:53:16] <sruggier> perhaps this is more of a mailing list question, but is there a chance of UnsafeArc being modified to avoid expensive checks in the get and get_immut functions?
[01:53:55] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[01:55:38] *** Quits: yusukesuzuki (yusukesuzu@moz-FEE44B6.net220148245.t-com.ne.jp) (Connection reset by peer)
[01:56:40] <sruggier> for what I'm working on, it results in a 75% speedup to use a cached raw pointer to the data instead of calling UnsafeArc::get
[01:56:55] <sruggier> (approximately)
[01:57:12] *** Joins: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp)
[01:57:53] *** sam113101_afk is now known as sam113101
[01:58:37] *** Joins: sluggo (Mibbit@moz-B3996059.hsd1.co.comcast.net)
[01:58:40] *** Joins: pnkfelix (pnkfelix@moz-B906FD97.bstnma.fios.verizon.net)
[01:58:40] *** ChanServ sets mode: +o pnkfelix
[02:00:27] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[02:00:48] *** Joins: gretchen (Mibbit@moz-B3996059.hsd1.co.comcast.net)
[02:01:32] *** Joins: strcat1 (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[02:02:21] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[02:02:33] *** strcat1 is now known as strcat
[02:02:50] *** sam113101 is now known as sam113101_afk
[02:03:19] *** sam113101_afk is now known as sam113101
[02:10:37] *** Quits: BitPuffin (isak@moz-98F8BF74.cust.tele2.se) (Ping timeout)
[02:13:21] *** Joins: jhenahan (jhenahan@moz-65B7D4EE.hsd1.vt.comcast.net)
[02:13:59] *** Quits: ibnc (ibnc@moz-8A9CD85B.client.mchsi.com) (Client exited)
[02:14:20] *** Joins: ibnc (ibnc@moz-8A9CD85B.client.mchsi.com)
[02:15:37] *** Quits: silotis (quassel@moz-4B8C4631.oc.oc.cox.net) (Ping timeout)
[02:15:45] *** Quits: earlzlap (earlz@moz-9E279EAD.neo.res.rr.com) (Ping timeout)
[02:15:45] *** Quits: ChrisMorgan (chris@moz-B3EDAB85.its.monash.edu.au) (Ping timeout)
[02:16:07] *** Quits: ibnc (ibnc@moz-8A9CD85B.client.mchsi.com) (Ping timeout)
[02:16:38] *** Joins: silotis (quassel@moz-4B8C4631.oc.oc.cox.net)
[02:17:26] *** Joins: heftig (heftig@moz-51161D0E.dip0.t-ipconnect.de)
[02:20:05] *** Quits: kimundi (kimundi@moz-F488EB60.dip0.t-ipconnect.de) (Ping timeout)
[02:21:49] *** Quits: KindOne (KindOne@D9528BDE.5ADC762.34F73994.IP) (Ping timeout)
[02:22:25] *** Quits: brson (brson@981AA104.E81F12CD.76F66111.IP) (Quit: leaving)
[02:23:09] *** Quits: cdidd (cdidd@moz-5D81FD0F.broadband.corbina.ru) (Input/output error)
[02:23:14] *** Joins: kimundi (kimundi@moz-4D74261A.dip0.t-ipconnect.de)
[02:25:22] *** Joins: cdidd (cdidd@moz-760A6FF4.broadband.corbina.ru)
[02:27:09] *** Joins: KindTwo (KindOne@moz-37EE9F86.dynamic.ip.windstream.net)
[02:27:55] *** kimundi is now known as zz_kimundi
[02:28:26] *** KindTwo is now known as KindOne
[02:28:33] *** Joins: voxpopuli (fanservice@2239379C.2D9F9402.DCC32DC2.IP)
[02:29:14] *** Joins: z0w0 (zack@moz-C877F2F7.lnse2.cha.bigpond.net.au)
[02:31:25] *** Quits: themgt (themgt@A766FE1A.D59CA935.886CAED5.IP) (Ping timeout)
[02:31:59] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[02:34:48] *** zz_kimundi is now known as kimundi
[02:35:08] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[02:35:56] *** Joins: themgt (themgt@moz-4C0A6F23.baf.movistar.cl)
[02:36:20] *** Quits: malvarez (malvarez@5E36B4FF.E5444AFD.FD1591F7.IP) (Quit: )
[02:36:22] *** Joins: Dartakio (Dartakio@moz-147070D0.chy-wy.client.bresnan.net)
[02:36:41] *** Quits: MrByte (Dartakio@moz-147070D0.chy-wy.client.bresnan.net) (Ping timeout)
[02:40:57] *** Joins: m_kato (m_kato@moz-C286AD9A.bitcat.net)
[02:42:35] *** Joins: ibnc (ibnc@moz-8A9CD85B.client.mchsi.com)
[02:42:44] *** Quits: ilyoan (ilyoan@B4104EBB.3CC170B1.1E14B209.IP) (Input/output error)
[02:43:52] *** Quits: frau (frau@moz-3F7DB997.hsd1.ca.comcast.net) (Quit: out)
[02:48:32] *** Joins: martndemus (martndemus@moz-876695FC.sshunet.nl)
[02:50:38] *** Quits: martndemus (martndemus@moz-876695FC.sshunet.nl) (Ping timeout)
[02:52:18] *** Joins: earlzlap (earlz@moz-9E279EAD.neo.res.rr.com)
[02:52:49] *** Joins: nwmcsween__ (nwmcsween@E0025B86.51EE1362.3655BBF5.IP)
[02:53:31] *** Quits: nwmcsween_ (nwmcsween@E0025B86.51EE1362.3655BBF5.IP) (Ping timeout)
[03:00:22] *** Quits: KindOne (KindOne@moz-37EE9F86.dynamic.ip.windstream.net) (Ping timeout)
[03:01:46] *** Quits: lfox (lfox@moz-F9C0E858.nycmny.east.verizon.net) (Quit: ZZZzzzâ€¦)
[03:01:57] *** Joins: strcat1 (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[03:02:18] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[03:03:23] *** Quits: ibnc (ibnc@moz-8A9CD85B.client.mchsi.com) (Client exited)
[03:03:44] *** Joins: ibnc (ibnc@moz-8A9CD85B.client.mchsi.com)
[03:04:13] *** Joins: KindOne (KindOne@moz-61725A00.dynamic.ip.windstream.net)
[03:04:14] *** Quits: ibnc (ibnc@moz-8A9CD85B.client.mchsi.com) (Connection reset by peer)
[03:05:49] *** Joins: ibnc (ibnc@moz-8A9CD85B.client.mchsi.com)
[03:06:11] *** Joins: crembo (crembo@moz-C2B364AA.vc.shawcable.net)
[03:07:34] *** Quits: ibnc (ibnc@moz-8A9CD85B.client.mchsi.com) (Ping timeout)
[03:08:42] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[03:11:00] *** Quits: pnkfelix (pnkfelix@moz-B906FD97.bstnma.fios.verizon.net) (Quit: Leaving.)
[03:11:50] *** Joins: ilyoan (ilyoan@B4104EBB.3CC170B1.1E14B209.IP)
[03:14:13] *** Quits: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[03:14:57] *** Joins: ibnc (ibnc@moz-8A9CD85B.client.mchsi.com)
[03:15:00] *** Joins: ziad (Mibbit@moz-5729CEA7.hsd1.ca.comcast.net)
[03:15:55] *** Joins: el_flaco (ircap8@706FF6B3.27C97B39.D9F9915C.IP)
[03:16:51] *** Quits: el_flaco (ircap8@706FF6B3.27C97B39.D9F9915C.IP) (Quit: IRcap [8.2] configurado para TerraChile 4• http://elayudantedesanta.tripod.com 4•)
[03:16:51] *** Quits: ambimorph (amber@moz-F1964F26.hlrn.qwest.net) (Ping timeout)
[03:21:19] *** Quits: ziad (Mibbit@moz-5729CEA7.hsd1.ca.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[03:22:47] *** Joins: bleibig (bleibig@moz-CB11172C.hsd1.ca.comcast.net)
[03:27:02] *** Quits: earlzlap (earlz@moz-9E279EAD.neo.res.rr.com) (Ping timeout)
[03:28:02] *** Quits: m_kato (m_kato@moz-C286AD9A.bitcat.net) (Quit: Leaving...)
[03:28:07] *** Joins: Jesin (Jessin_@moz-14627F8E.cc.lehigh.edu)
[03:28:10] *** Joins: eddyb (eddy@3C6E2DBB.FFB4E060.A5830293.IP)
[03:28:59] *** Quits: maxli (maxli@moz-A607CA26.student.cs.uwaterloo.ca) (Quit: Leaving.)
[03:29:48] *** Joins: maxli (maxli@moz-A607CA26.student.cs.uwaterloo.ca)
[03:31:31] *** Quits: maxli (maxli@moz-A607CA26.student.cs.uwaterloo.ca) (Quit: Leaving.)
[03:34:50] *** Joins: earlzlap (earlz@moz-9E279EAD.neo.res.rr.com)
[03:36:44] *** Quits: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP) (Ping timeout)
[03:47:03] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[03:47:31] *** Quits: earlzlap (earlz@moz-9E279EAD.neo.res.rr.com) (Quit: Leaving.)
[03:47:39] *** Quits: cubic (cubic@moz-FE5AD6C7.mc.videotron.ca) (Connection reset by peer)
[03:47:48] *** Quits: jeffdb (jeff@moz-D13B6004.hsd1.ca.comcast.net) (Quit: jeffdb)
[03:48:34] *** Joins: jeffdb (jeff@moz-D13B6004.hsd1.ca.comcast.net)
[03:50:05] *** Joins: martndemus (martndemus@moz-876695FC.sshunet.nl)
[03:52:13] *** Quits: martndemus (martndemus@moz-876695FC.sshunet.nl) (Ping timeout)
[03:54:47] *** Joins: earlzlap (earlz@moz-9E279EAD.neo.res.rr.com)
[03:58:47] *** Quits: crembo (crembo@moz-C2B364AA.vc.shawcable.net) (Client exited)
[04:01:46] *** Quits: strcat1 (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[04:02:12] *** Joins: maxli (maxli@moz-A607CA26.student.cs.uwaterloo.ca)
[04:02:20] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[04:02:33] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[04:03:49] *** Quits: Jesin (Jessin_@moz-14627F8E.cc.lehigh.edu) (Ping timeout)
[04:05:21] *** Joins: Jesin (Jessin_@moz-14627F8E.cc.lehigh.edu)
[04:06:22] *** Quits: jeffdb (jeff@moz-D13B6004.hsd1.ca.comcast.net) (Ping timeout)
[04:06:42] *** Joins: jeffdb (jeff@moz-D13B6004.hsd1.ca.comcast.net)
[04:08:30] *** Quits: ibnc (ibnc@moz-8A9CD85B.client.mchsi.com) (Client exited)
[04:08:37] *** Quits: jeffdb (jeff@moz-D13B6004.hsd1.ca.comcast.net) (Ping timeout)
[04:08:50] *** Joins: ibnc (ibnc@moz-8A9CD85B.client.mchsi.com)
[04:09:15] *** Quits: Jesin (Jessin_@moz-14627F8E.cc.lehigh.edu) (Ping timeout)
[04:09:25] *** Joins: jeffdb (jeff@moz-D13B6004.hsd1.ca.comcast.net)
[04:09:33] *** Joins: Jesin (Jessin_@moz-14627F8E.cc.lehigh.edu)
[04:10:41] *** Quits: ibnc (ibnc@moz-8A9CD85B.client.mchsi.com) (Ping timeout)
[04:10:41] *** Quits: eddyb9 (eddy@3C6E2DBB.FFB4E060.A5830293.IP) (Ping timeout)
[04:11:58] *** Quits: Jesin (Jessin_@moz-14627F8E.cc.lehigh.edu) (Ping timeout)
[04:14:46] *** Joins: Diamond (dick@moz-80556682.ks.ks.cox.net)
[04:16:53] *** Joins: Jesin (Jessin_@moz-14627F8E.cc.lehigh.edu)
[04:17:36] *** Joins: crembo (crembo@moz-C2B364AA.vc.shawcable.net)
[04:18:04] *** Joins: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP)
[04:18:33] *** Quits: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[04:19:49] *** Quits: Jesin (Jessin_@moz-14627F8E.cc.lehigh.edu) (Ping timeout)
[04:20:24] *** Joins: SingingBoyo (SingingBoy@DA28FB90.A5D0D593.4F048BDC.IP)
[04:21:28] *** Joins: BizarreCake (BizarreCak@moz-361FE9B2.dynamic.barak-online.net)
[04:22:15] *** Joins: six600110 (six600110@moz-C663577C.hsd1.il.comcast.net)
[04:22:22] *** Quits: jxv (jxv@4732E7D7.2AB34561.9B38A32A.IP) (Quit: Leaving)
[04:24:37] *** Quits: rveach (kvirc@3B9F6824.B2F116C2.C69D10BF.IP) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[04:25:07] *** Quits: bleibig (bleibig@moz-CB11172C.hsd1.ca.comcast.net) (Quit: bleibig)
[04:25:11] *** Joins: Jesin (Jessin_@moz-14627F8E.cc.lehigh.edu)
[04:25:29] *** Quits: SingingBoyo (SingingBoy@DA28FB90.A5D0D593.4F048BDC.IP) (Quit: Leaving)
[04:26:18] *** Joins: SingingBoyo (SingingBoy@DA28FB90.A5D0D593.4F048BDC.IP)
[04:32:37] *** Joins: int3_ (int3_@moz-ADA4FF50.dsl.dynamic.sonic.net)
[04:35:05] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[04:36:04] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[04:36:22] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[04:36:56] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[04:38:34] *** Joins: bleibig (bleibig@moz-CB11172C.hsd1.ca.comcast.net)
[04:40:55] *** Quits: Jesin (Jessin_@moz-14627F8E.cc.lehigh.edu) (Ping timeout)
[04:42:31] *** Joins: Jesin (Jessin_@moz-14627F8E.cc.lehigh.edu)
[04:42:56] *** Quits: maxli (maxli@moz-A607CA26.student.cs.uwaterloo.ca) (Ping timeout)
[04:43:20] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Quit: Konversation terminated!)
[04:47:41] *** Quits: jeffdb (jeff@moz-D13B6004.hsd1.ca.comcast.net) (Quit: jeffdb)
[04:49:19] *** Joins: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca)
[04:51:43] *** Joins: martndemus (martndemus@moz-876695FC.sshunet.nl)
[04:53:50] *** Quits: martndemus (martndemus@moz-876695FC.sshunet.nl) (Ping timeout)
[04:54:09] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[04:54:35] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[04:56:20] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[04:57:50] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[04:58:23] *** Joins: mib_zri142 (Mibbit@moz-B3996059.hsd1.co.comcast.net)
[04:58:30] *** Joins: SilverKey (SilverKey@moz-B589DA51.sw.biz.rr.com)
[04:59:26] *** Quits: Jesin (Jessin_@moz-14627F8E.cc.lehigh.edu) (Ping timeout)
[04:59:34] <mib_zri142> On http://static.rust-lang.org/doc/0.8/extra/treemap/index.html, why doesn't the insert function appear?
[05:00:09] <mib_zri142> i assume that page is auto generated?
[05:00:50] *** Joins: mib_23fnxm (Mibbit@CEDFF363.BC8DABAB.8DE9D37C.IP)
[05:01:06] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Connection reset by peer)
[05:01:20] *** Quits: SilverKey (SilverKey@moz-B589DA51.sw.biz.rr.com) (Quit: Textual IRC Client: www.textualapp.com)
[05:01:23] <sruggier> yeah, the library docs are generated by parsing the source files
[05:01:40] <sruggier> it's analogous to javadoc or doxygen
[05:01:44] <mib_zri142> is it an error that the functions from that module don't appear then?
[05:01:58] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[05:02:07] <mib_zri142> or are there missing documentation nodes in the file?
[05:02:12] *** Joins: mib_4h8wh1 (Mibbit@moz-EE62FB75.lightspeed.jcvlfl.sbcglobal.net)
[05:02:13] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[05:02:43] *** Quits: mib_4h8wh1 (Mibbit@moz-EE62FB75.lightspeed.jcvlfl.sbcglobal.net) (Z:lined (no thanks))
[05:02:57] *** Quits: SingingBoyo (SingingBoy@DA28FB90.A5D0D593.4F048BDC.IP) (Ping timeout)
[05:03:14] <sfackler> It should show up in the documentation for the implementation of MutableMap, but it's not
[05:03:23] <sfackler> i'm guessing because insert is a default method
[05:03:33] *** Quits: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com) (Client exited)
[05:03:33] <sruggier> I'm seeing an insert if you look under the TreeSet type
[05:03:57] <mib_zri142> yea but insert should operate on both i think? it seems like it should be top level in the module based on other modules
[05:04:29] *** Joins: Jesin (Jessin_@moz-14627F8E.cc.lehigh.edu)
[05:04:31] <sruggier> oh, I see the insert you mean
[05:04:36] <mib_zri142> i'm new here and just poking around, so forgive me if i'm just ignorant of where to look for things
[05:05:08] <sruggier> I'm new here too, but I think you're looking in the right place
[05:05:09] <sfackler> no problem! that's definitely a bug in rustdoc
[05:05:17] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[05:06:27] *** Quits: Jesin (Jessin_@moz-14627F8E.cc.lehigh.edu) (Ping timeout)
[05:06:35] *** Joins: SingingBoyo (SingingBoy@DA28FB90.A5D0D593.4F048BDC.IP)
[05:06:45] *** Joins: eddyb9 (eddy@C1AECB14.C75CDC83.4A6B528C.IP)
[05:06:59] *** Joins: pyrac (pyrac@moz-E2FF17D7.w109-214.abo.wanadoo.fr)
[05:07:02] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[05:07:08] <strcat> mib_zri142: because it doesn't implement insert
[05:07:12] *** Joins: Jesin (Jessin_@moz-14627F8E.cc.lehigh.edu)
[05:07:18] <strcat> it implements swap for the MutableMap trait and gets insert as a default method
[05:07:29] <strcat> the doc generator currently only lists default methods on the trait page
[05:07:45] <sruggier> I don't know if it's actually rustdoc's fault, I think that fn is private
[05:07:59] <strcat> it's not private
[05:08:00] <sruggier> the insert fn in module scope isn't marked pub
[05:08:09] <strcat> that's not the insert method
[05:08:18] <strcat> it's the implementation detail of swap
[05:08:41] *** Joins: nejucomo (Adium@moz-434492BB.dsl.static.sonic.net)
[05:09:39] <sruggier> sorry, I didn't read your comments about MutableMap until after I said that
[05:09:41] *** Joins: SilverKey (SilverKey@moz-B589DA51.sw.biz.rr.com)
[05:10:20] *** Quits: nejucomo (Adium@moz-434492BB.dsl.static.sonic.net) (Quit: Leaving.)
[05:10:23] <mib_zri142> has it been proposed to change rustdoc to include default methods on the implementer page as well?
[05:10:49] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[05:11:02] <sfackler> I proposed it 2 minutes ago :P https://github.com/mozilla/rust/issues/9985
[05:11:26] *** Quits: sruggier (sruggier@moz-B9FB4CF4.cpe.pppoe.ca) (Ping timeout)
[05:12:08] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Connection reset by peer)
[05:12:23] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[05:13:00] <mib_zri142> ah cool
[05:13:04] *** Joins: sruggier (sruggier@moz-B9FB4CF4.cpe.pppoe.ca)
[05:13:14] *** Parts: sruggier (sruggier@moz-B9FB4CF4.cpe.pppoe.ca) ()
[05:14:07] *** Quits: crembo (crembo@moz-C2B364AA.vc.shawcable.net) (Client exited)
[05:14:08] *** Quits: Kxepal (Miranda@moz-8A197C01.pppoe.mtu-net.ru) (Ping timeout)
[05:14:40] *** Quits: canhtak (jeremy@moz-12EBB66A.wl.t.ulaval.ca) (Quit: canhtak)
[05:15:05] *** Quits: earlzlap (earlz@moz-9E279EAD.neo.res.rr.com) (Ping timeout)
[05:17:31] *** Joins: Kxepal (Miranda@moz-3C594C69.pppoe.mtu-net.ru)
[05:18:34] *** Quits: themgt (themgt@moz-4C0A6F23.baf.movistar.cl) (Quit: themgt)
[05:19:04] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[05:19:38] <eddyb9> is there an easy way to have a structure having a field that's either a static or owned, without making the structure generic?
[05:19:52] <eddyb9> s/having/with/
[05:19:54] <strcat> enum?
[05:19:54] *** Quits: FreeFull (freefull@645AD8C8.5FE644CF.4A75C8A1.IP) (Quit: )
[05:20:39] <eddyb9> strcat: so the field would be either StaticAllocated or HeapAllocated, and I would match against those?
[05:20:47] <strcat> yes
[05:21:01] <strcat> you could make convenience functions
[05:21:05] <sfackler> eddyb9: for example, http://static.rust-lang.org/doc/master/std/send_str/enum.SendStr.html
[05:21:40] <eddyb9> is this a container anywhere? it could be handy for other things, I can assume
[05:23:19] <eddyb9> strcat: and there's no borrowed magic that can do this by itself?
[05:23:47] *** Quits: mib_23fnxm (Mibbit@CEDFF363.BC8DABAB.8DE9D37C.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[05:23:47] <strcat> eddyb9: could have SendPtr
[05:23:52] <strcat> doesn't exist atm
[05:23:59] <strcat> anyway afaik it would have to be an enum
[05:24:05] <strcat> it needs a way to check that it's owned, to destroy it
[05:24:12] <eddyb9> (althought you can't borrow static mut in static without the unimplemented unsafe block)
[05:24:29] *** Quits: Jesin (Jessin_@moz-14627F8E.cc.lehigh.edu) (Ping timeout)
[05:24:31] <eddyb9> strcat: yeah, makes sense
[05:24:55] <eddyb9> strcat: good news is that I can make this a mutable "reference"
[05:25:25] *** Quits: Jesse (jruderman@moz-537BCF9.hsd1.ca.comcast.net) (Quit: Jesse)
[05:26:12] *** Joins: Jesin (Jessin_@moz-14627F8E.cc.lehigh.edu)
[05:26:22] *** Quits: tikue_ (tikue_star@9B9EFD68.B9B3942C.689607DE.IP) (Ping timeout)
[05:26:39] <eddyb9> strcat: wait, couldn't an UniqPtr do this trick, with an internal enum? the question now is: would we want a container that can potentially use a lot of memory but doesn't express it in its name?
[05:27:08] <eddyb9> strcat: &'static would be free, but it becomes useless, you can't instantiate it
[05:27:19] <strcat> eddyb9: well I would call it a SendRef
[05:27:34] <strcat> hm
[05:27:37] <strcat> or not
[05:27:58] *** Quits: Jesin (Jessin_@moz-14627F8E.cc.lehigh.edu) (Ping timeout)
[05:28:06] * strcat shrugs
[05:28:15] <strcat> atm rust-core doesn't have strings at all :)
[05:28:24] <eddyb9> rusti: static mut x : int = 0; static y : &'static mut int = x;
[05:28:28] -rusti- pastebinned 7 lines of output: http://ix.io/8F5
[05:29:03] <eddyb9> rusti: static mut x : int = 0; static y : &'static mut int = &x;
[05:29:05] -rusti- pastebinned 7 lines of output: http://ix.io/8F6
[05:29:33] <eddyb9> wait, what?
[05:29:53] <eddyb9> rusti: static mut x : int = 0; static y : &'static mut int = &mut x;
[05:29:55] -rusti- pastebinned 7 lines of output: http://ix.io/8F7
[05:30:38] <eddyb9> strcat: this is it, but was it changed?
[05:30:52] *** Joins: lmandel (lmandel@moz-705E7FCC.static.twtelecom.net)
[05:31:18] <strcat> eddyb9: hm?
[05:31:37] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[05:31:37] <eddyb9> strcat: it was saying it's unsafe before. and without an unsafe static block, it was impossible
[05:31:46] <strcat> I don't know
[05:31:58] <strcat> constants are a weak point of rust atm
[05:32:11] *** Joins: mib_zsdum8 (Mibbit@CEDFF363.BC8DABAB.8DE9D37C.IP)
[05:32:30] *** Quits: mib_zsdum8 (Mibbit@CEDFF363.BC8DABAB.8DE9D37C.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[05:32:40] *** Joins: mib_ptqmkh (Mibbit@CEDFF363.BC8DABAB.8DE9D37C.IP)
[05:33:40] *** Joins: Jesin (Jessin_@moz-14627F8E.cc.lehigh.edu)
[05:33:41] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[05:34:10] <eddyb9> strcat: I don't really want constants, I want statics :P
[05:34:49] <strcat> yeah, we'll see what happens with it
[05:35:04] <eddyb9> if there were a way to have thread or task-local mutable statics, I could use those instead
[05:35:38] <strcat> eddyb9: well, task-local data exists in the stdlib
[05:36:01] <strcat> but it depends on the a concurrency implementation, and that's entirely a library thing
[05:37:18] <eddyb9> IMO handling the static mut "unsafety" should happen when writing a slot in a &'static mut, and with effects, that can be safe if atomic
[05:37:46] <eddyb9> but then you can't assert the atomic operation is used correctly
[05:37:57] *** Joins: IRCMonkey37914 (nobody@moz-3F544FC1.san.res.rr.com)
[05:38:05] <strcat> rust-core can expose C11 threads including thread-local data when there's libc
[05:38:37] *** Quits: IRCMonkey37914 (nobody@moz-3F544FC1.san.res.rr.com) (Client exited)
[05:38:46] <strcat> POSIX APIs are a bigger pain to deal with ;p, I'll get to that stuff eventually
[05:39:03] *** Joins: jeffdb (jeff@moz-D13B6004.hsd1.ca.comcast.net)
[05:39:37] <eddyb9> strcat: hmm, I was thinking more like "thread-owned". some semantics that would restrict the usage of static mut and make it safe
[05:40:08] <strcat> I think you could prove it was an atomic variable but I don't think rust will be able to state something is thread-owned
[05:40:11] <strcat> TLS is easy
[05:40:24] *** Quits: voxpopuli (fanservice@2239379C.2D9F9402.DCC32DC2.IP) (Ping timeout)
[05:41:37] <eddyb9> strcat: rustic already fakes the TLS segment, but that requires setting up GDT, which is what I want static mut for :P
[05:42:05] <eddyb9> hm, immutable should work as well
[05:42:18] * cmr *cough* #rust-osdev *cough*
[05:42:26] *** Quits: SingingBoyo (SingingBoy@DA28FB90.A5D0D593.4F048BDC.IP) (Ping timeout)
[05:42:37] *** Joins: fabiand (fabiand@moz-D873EB1C.adsl.alicedsl.de)
[05:44:34] <eddyb9> cmr: the xchat on my phone has small tabs, in my defense
[05:44:46] <cmr> eddyb9: xchat on your phone! you're quite brave.
[05:45:29] <eddyb9> cmr: N900, hence the 9 in my nick
[05:45:32] <cmr> Ahhh
[05:47:40] *** Quits: pyrac (pyrac@moz-E2FF17D7.w109-214.abo.wanadoo.fr) (Quit: pyrac)
[05:48:35] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Ping timeout)
[05:50:20] *** Joins: nano (nano@moz-74CAD1CA.superkabel.de)
[05:51:20] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[05:52:29] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[05:53:14] *** Joins: martndemus (martndemus@moz-876695FC.sshunet.nl)
[05:54:34] *** Joins: [squiddy] (squiddy@moz-58C3A897.adsl.alicedsl.de)
[05:55:17] *** Quits: martndemus (martndemus@moz-876695FC.sshunet.nl) (Ping timeout)
[05:58:13] *** Joins: martndemus (martndemus@moz-876695FC.sshunet.nl)
[05:59:35] *** Quits: jeaye (Jeaye@moz-34FEF2BB.hsd1.ca.comcast.net) (Quit: zzz)
[06:00:46] *** Quits: int3_ (int3_@moz-ADA4FF50.dsl.dynamic.sonic.net) (Client exited)
[06:01:10] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[06:01:41] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[06:01:43] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[06:01:52] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[06:01:58] *** Quits: ercxx (ercan@moz-7CFF3469.dyn.optonline.net) (Quit: WeeChat 0.4.2)
[06:02:22] *** Quits: jeffdb (jeff@moz-D13B6004.hsd1.ca.comcast.net) (Quit: jeffdb)
[06:03:33] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[06:04:07] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[06:06:32] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[06:06:38] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[06:10:18] *** Joins: Jackneill (Jackneill@moz-344A6123.pool.digikabel.hu)
[06:12:27] *** Quits: anri (solancile@moz-E49E7C4B.hsd1.wa.comcast.net) (Quit: anri)
[06:12:41] *** Joins: pyrac (pyrac@moz-E2FF17D7.w109-214.abo.wanadoo.fr)
[06:16:27] *** Joins: servo (servo@5AB4884B.FCC4549.14D5B978.IP)
[06:16:28] *** Quits: servo (servo@5AB4884B.FCC4549.14D5B978.IP) (Quit: servo)
[06:16:46] *** Joins: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP)
[06:18:32] *** Quits: nwmcsween (nwmcsween@E0025B86.51EE1362.3655BBF5.IP) (Ping timeout)
[06:19:07] *** Quits: pyrac (pyrac@moz-E2FF17D7.w109-214.abo.wanadoo.fr) (Quit: pyrac)
[06:20:03] *** Joins: earlzlap (earlz@moz-9E279EAD.neo.res.rr.com)
[06:20:12] *** Joins: jeffdb (jeff@moz-D13B6004.hsd1.ca.comcast.net)
[06:21:32] *** Quits: Earnestly (earnest@moz-BE290A2B.dyn.plus.net) (Ping timeout)
[06:21:32] *** Quits: martndemus (martndemus@moz-876695FC.sshunet.nl) (Ping timeout)
[06:21:46] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[06:22:19] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[06:23:34] *** Quits: paulproteus (quassel@199.199.210.158) (Ping timeout)
[06:23:34] *** Quits: madmoose (Hat@moz-E1973371.nerp.net) (Ping timeout)
[06:23:34] *** Quits: eagen (eagen@8737942B.7A99C13A.B7961A98.IP) (Ping timeout)
[06:24:02] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[06:25:17] *** Joins: paulproteus (quassel@458FE134.3EC36C88.CBDCF1DC.IP)
[06:27:26] *** Quits: jeffdb (jeff@moz-D13B6004.hsd1.ca.comcast.net) (Quit: jeffdb)
[06:28:42] *** Joins: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se)
[06:28:55] *** Joins: int3_ (int3_@moz-ADA4FF50.dsl.dynamic.sonic.net)
[06:29:49] *** Joins: madmoose (Hat@moz-E1973371.nerp.net)
[06:31:16] *** Quits: bleibig (bleibig@moz-CB11172C.hsd1.ca.comcast.net) (Quit: bleibig)
[06:33:25] *** Joins: nwmcsween (nwmcsween@E0025B86.51EE1362.3655BBF5.IP)
[06:34:37] *** Joins: AmunRa (Fu@moz-3B13DA05.cable.virginmedia.com)
[06:36:50] *** Quits: nwmcsween (nwmcsween@E0025B86.51EE1362.3655BBF5.IP) (Ping timeout)
[06:36:53] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[06:37:05] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[06:37:10] *** Joins: skade (skade@moz-D8051715.pools.arcor-ip.net)
[06:37:23] *** Quits: earlzlap (earlz@moz-9E279EAD.neo.res.rr.com) (Ping timeout)
[06:39:22] *** Joins: Ms2ger (Ms2ger@moz-C96856.adsl-dyn.isp.belgacom.be)
[06:40:29] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[06:41:00] *** Joins: crembo (crembo@moz-C2B364AA.vc.shawcable.net)
[06:45:13] *** Quits: crembo (crembo@moz-C2B364AA.vc.shawcable.net) (Client exited)
[06:46:48] *** Quits: mib_ptqmkh (Mibbit@CEDFF363.BC8DABAB.8DE9D37C.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[06:49:13] *** Quits: int3_ (int3_@moz-ADA4FF50.dsl.dynamic.sonic.net) (Client exited)
[06:51:02] *** Quits: AmunRa (Fu@moz-3B13DA05.cable.virginmedia.com) (Ping timeout)
[06:56:42] *** Quits: nano (nano@moz-74CAD1CA.superkabel.de) (Connection reset by peer)
[06:58:50] *** Joins: pyrac (pyrac@F1F89E09.73C89388.AD05C589.IP)
[06:59:42] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[07:01:17] *** Quits: mib_zri142 (Mibbit@moz-B3996059.hsd1.co.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[07:01:21] *** Quits: sluggo (Mibbit@moz-B3996059.hsd1.co.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[07:01:51] *** Quits: gretchen (Mibbit@moz-B3996059.hsd1.co.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[07:02:07] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[07:02:19] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[07:05:41] *** Joins: nsf (nsf@moz-EEF3238A.convex.ru)
[07:06:19] *** pmoore|away is now known as pmoore
[07:06:46] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[07:07:20] *** Joins: AmunRa (Fu@moz-3B13DA05.cable.virginmedia.com)
[07:07:30] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Client exited)
[07:08:00] *** Joins: martndemus (martndemus@moz-E30F5776.adsl.xs4all.nl)
[07:09:13] *** Quits: skade (skade@moz-D8051715.pools.arcor-ip.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[07:11:50] *** Quits: KindOne (KindOne@moz-61725A00.dynamic.ip.windstream.net) (Quit: www.adiirc.com - Free mIRC alternative - Without the Stockholm syndrome!)
[07:13:26] *** flaper87|afk is now known as flaper87
[07:16:04] *** Joins: anri (solancile@moz-E49E7C4B.hsd1.wa.comcast.net)
[07:16:24] <dbaupp> kemurphy: \o/
[07:17:01] <dbaupp> kemurphy: (I imagine that a patch that makes enums and structs handled sanely will mean that the feature gate can be removed)
[07:17:18] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[07:17:46] <strcat> dbaupp: jld opened another issue about it
[07:17:57] <dbaupp> strcat: link?
[07:18:06] *** Quits: Kxepal (Miranda@moz-3C594C69.pppoe.mtu-net.ru) (Quit: Kxepal)
[07:18:24] *** Joins: Kxepal (Miranda@moz-3C594C69.pppoe.mtu-net.ru)
[07:18:32] <strcat> hm
[07:18:35] <strcat> thought I saw one
[07:18:43] <cmr> dbaupp: what are we celebrating about?
[07:18:45] <strcat> oh. it's not an issue, it's related to discriminant size
[07:18:54] <strcat> dbaupp: nvm :)
[07:19:39] *** Joins: bent (chatzilla@87C1F78E.1DE10CA8.D8E68FF6.IP)
[07:19:56] <dbaupp> cmr: kemurphy's return
[07:20:04] <cmr> oh
[07:20:06] <dbaupp> cmr: you might get a celebration too if you come back :P
[07:20:10] <cmr> heh
[07:20:18] <dbaupp> strcat: oh ok
[07:20:19] <cmr> I can barely keep away!
[07:21:41] *** Joins: KindOne (KindOne@moz-61725A00.dynamic.ip.windstream.net)
[07:21:58] *** Quits: lmandel (lmandel@moz-705E7FCC.static.twtelecom.net) (Quit: lmandel)
[07:24:00] *** kimundi is now known as zz_kimundi
[07:25:10] *** Parts: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net) ()
[07:34:16] *** Quits: LRN (LRN@moz-50DF30B.nationalcablenetworks.ru) (Ping timeout)
[07:36:50] *** Joins: oberstet (quassel@moz-12991173.dynamic.mnet-online.de)
[07:37:42] *** jack|plane is now known as jack
[07:38:42] *** Joins: myra (myra@9B9315E1.A6025CA.1C37C358.IP)
[07:38:57] *** Parts: myra (myra@9B9315E1.A6025CA.1C37C358.IP) ()
[07:43:59] *** zz_kimundi is now known as kimundi
[07:45:48] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[07:48:38] *** Quits: AmunRa (Fu@moz-3B13DA05.cable.virginmedia.com) (Ping timeout)
[07:49:36] *** Quits: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP) (Connection reset by peer)
[07:49:57] *** Quits: pyrac (pyrac@F1F89E09.73C89388.AD05C589.IP) (Quit: pyrac)
[07:50:50] *** Joins: pyrac (pyrac@F1F89E09.73C89388.AD05C589.IP)
[07:54:02] *** Joins: int3_ (int3_@122E7B1.85C3B074.CED80046.IP)
[07:58:37] <dbaupp> Is kud1ing on IRC?
[07:59:34] <KokaKiwi> Hoy o/
[08:00:16] <dbaupp> KokaKiwi: you're kud1ing... or just saying hi?
[08:00:35] <KokaKiwi> Just saying hi ^^
[08:00:49] <dbaupp> heh, hi :)
[08:01:31] *** Quits: alonlevy (alon@moz-3F073415.bb.netvision.net.il) (Quit: Leaving)
[08:01:46] *** Joins: strcat1 (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:01:50] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[08:02:05] *** Quits: bent (chatzilla@87C1F78E.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[08:02:20] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[08:02:56] *** Joins: bent (chatzilla@87C1F78E.1DE10CA8.D8E68FF6.IP)
[08:03:12] *** Joins: skade (skade@30BBD5E6.505237C9.CAE22B62.IP)
[08:06:48] *** Joins: nrc (nrc@DA4ABEAF.1DE10CA8.D8E68FF6.IP)
[08:07:44] *** Quits: anshin (anshin@CD85F10D.F21429E2.354459FA.IP) (Quit: anshin)
[08:07:57] *** Quits: dbaupp (Thunderbir@moz-54ADD9F4.lns20.syd6.internode.on.net) (Ping timeout)
[08:08:08] *** Joins: dissimile (dissimile@moz-141B07E7.static.as13285.net)
[08:08:26] *** Joins: tgummerer_ (tgummerer@moz-FAADA9F9.kthopen.kth.se)
[08:08:55] *** Quits: pyrac (pyrac@F1F89E09.73C89388.AD05C589.IP) (Quit: pyrac)
[08:10:38] *** Joins: zeuxcg (zeuxcg@E46D3CE0.E7BADBF1.B0C2132F.IP)
[08:10:59] *** Joins: dbaupp (Thunderbir@moz-54ADD9F4.lns20.syd6.internode.on.net)
[08:11:31] *** Joins: alonlevy (alon@moz-3F073415.bb.netvision.net.il)
[08:15:02] *** Quits: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP) (Client exited)
[08:15:02] *** Joins: Ferreus (ferreus@moz-37536AD3.dip0.t-ipconnect.de)
[08:17:48] *** Quits: Ms2ger (Ms2ger@moz-C96856.adsl-dyn.isp.belgacom.be) (Quit: bbl)
[08:17:51] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:18:52] *** Quits: dbaupp (Thunderbir@moz-54ADD9F4.lns20.syd6.internode.on.net) (Ping timeout)
[08:20:40] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[08:20:42] *** Joins: m_kato (m_kato@moz-C286AD9A.bitcat.net)
[08:23:12] *** Joins: Blub\w (wry@7E3BB9D.71150E1A.237AE2BA.IP)
[08:24:55] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[08:25:15] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[08:26:09] *** Quits: zeuxcg (zeuxcg@E46D3CE0.E7BADBF1.B0C2132F.IP) (Ping timeout)
[08:27:01] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[08:31:18] *** Joins: zeuxcg (zeuxcg@E46D3CE0.E7BADBF1.B0C2132F.IP)
[08:31:25] *** Quits: strcat1 (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.2)
[08:31:29] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[08:31:33] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:33:48] *** Joins: dbaupp (Thunderbir@moz-54ADD9F4.lns20.syd6.internode.on.net)
[08:33:52] *** Joins: CarpNet (ac@moz-FD24B77.sohonet.co.uk)
[08:35:58] *** Joins: StarLight (StarLight@moz-C011427.dynamic.avangarddsl.ru)
[08:37:41] *** Quits: flowsnake (flowsnake@moz-1918C33E.aztw.cable.virginmedia.com) (Connection reset by peer)
[08:40:51] *** Quits: m_kato (m_kato@moz-C286AD9A.bitcat.net) (Ping timeout)
[08:41:51] *** Joins: flowsnake (flowsnake@moz-1918C33E.aztw.cable.virginmedia.com)
[08:42:04] *** Joins: m_kato (m_kato@moz-C286AD9A.bitcat.net)
[08:43:01] *** Joins: DeTeam (DeTeam@3F8887A3.6883A39.F5F3AF2.IP)
[08:44:20] *** Joins: sk (sk@6C023EB2.83606D1B.1FCE22BB.IP)
[08:45:12] *** Joins: Boreeas (SirWelling@moz-DD198FD.triple-a.uni-kl.de)
[08:49:39] *** Quits: m_kato (m_kato@moz-C286AD9A.bitcat.net) (Ping timeout)
[08:51:05] *** Joins: m_kato (m_kato@moz-C286AD9A.bitcat.net)
[08:51:52] *** Quits: ross (ross@moz-5EA04060.br.br.cox.net) (Quit: )
[08:53:19] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Client exited)
[08:53:20] *** Joins: robertknight (robertknig@moz-54528EE0.wby.mendeley.com)
[08:53:39] *** Joins: pyrac (pyrac@moz-9FF0B802.math.u-bordeaux1.fr)
[08:57:13] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Connection reset by peer)
[08:57:26] *** Quits: dbaupp (Thunderbir@moz-54ADD9F4.lns20.syd6.internode.on.net) (Ping timeout)
[08:58:44] *** Quits: m_kato (m_kato@moz-C286AD9A.bitcat.net) (Ping timeout)
[08:59:13] *** Joins: m_kato (m_kato@moz-C286AD9A.bitcat.net)
[09:00:44] *** Quits: zeuxcg (zeuxcg@E46D3CE0.E7BADBF1.B0C2132F.IP) (Ping timeout)
[09:02:06] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[09:04:41] * kemurphy <3 default impls
[09:04:53] <kemurphy> holy crap the ast fold looks so much nicer
[09:07:17] *** Joins: jdm (jdm@87C1F78E.1DE10CA8.D8E68FF6.IP)
[09:07:17] *** ChanServ sets mode: +o jdm
[09:10:21] *** Quits: Boreeas (SirWelling@moz-DD198FD.triple-a.uni-kl.de) (Ping timeout)
[09:11:38] *** Joins: AutomatedTester (David@moz-DB4A9C19.scl3.mozilla.com)
[09:12:07] *** Quits: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca) (Ping timeout)
[09:12:36] *** Quits: [squiddy] (squiddy@moz-58C3A897.adsl.alicedsl.de) (Ping timeout)
[09:13:54] *** Joins: zeuxcg (zeuxcg@E46D3CE0.E7BADBF1.B0C2132F.IP)
[09:15:45] *** Joins: dbaupp (Thunderbir@moz-54ADD9F4.lns20.syd6.internode.on.net)
[09:16:05] *** Quits: bent (chatzilla@87C1F78E.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[09:17:03] *** Joins: bent (chatzilla@87C1F78E.1DE10CA8.D8E68FF6.IP)
[09:18:15] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[09:18:51] *** Joins: Ms2ger (Ms2ger@moz-2E8A2F53.ugent.be)
[09:18:52] *** Quits: bent (chatzilla@87C1F78E.1DE10CA8.D8E68FF6.IP) (Quit: ChatZilla 0.9.90.1-rdmsoft [XULRunner 22.0/20130619132145])
[09:19:41] *** Joins: bent (chatzilla@DA4ABEAF.1DE10CA8.D8E68FF6.IP)
[09:25:19] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[09:25:28] *** Joins: donri (donri@moz-9BB61102.tbcn.telia.com)
[09:25:56] <kemurphy> i wonder....
[09:26:37] <kemurphy> rusti: let foo = include_str!("/etc/issue")
[09:26:39] -rusti- pastebinned 6 lines of output: http://ix.io/8vd
[09:26:42] *** Joins: geomyidae (quassel@DD6F7E3A.21468E9A.30200F38.IP)
[09:27:09] *** Joins: avsej (avsej@DF1824D5.EFF97412.48F984E6.IP)
[09:27:11] <tiffany> rusti: include_str!("/etc/issue")
[09:27:12] <eddyb9> kemurphy: hehe
[09:27:12] -rusti- "Arch Linux \\r (\\l)\n\n"
[09:27:20] <eddyb9> lol it works
[09:27:40] <eddyb9> rusti: include_str!("/etc/passwd")
[09:27:40] <kemurphy> oh derp
[09:27:42] -rusti- pastebinned 1 lines of output: http://ix.io/8Ff
[09:27:59] <eddyb9> kemurphy: it's jailed though
[09:27:59] <Ms2ger> Now, where are rusti's passwords stored...
[09:28:00] <kemurphy> lol yeah that's what popped into my head first, i figured /etc/issue would be more kosher :P
[09:28:11] *** Joins: jgilbert (jgilbert@DA4ABEAF.1DE10CA8.D8E68FF6.IP)
[09:28:19] <eddyb9> hahaha it actually worked
[09:28:28] <eddyb9> rusti: print(include_str!("/etc/passwd"))
[09:28:30] -rusti- pastebinned 11 lines of output: http://ix.io/8Fg
[09:28:31] *** Quits: heftig (heftig@moz-51161D0E.dip0.t-ipconnect.de) (Quit: Quitting)
[09:29:00] *** Joins: gour (gour@moz-C28B3483.adsl.net.t-com.hr)
[09:29:20] <eddyb9> rusti: print(include_str!("/home/rust/.bash_history"))
[09:29:22] -rusti- pastebinned 6 lines of output: http://ix.io/8Fh
[09:29:37] <dbaupp> kemurphy: it's got a strong sandbox so everything is kosher :P
[09:29:52] <kemurphy> dbaupp: hoped so :)
[09:29:52] <eddyb9> rusti: print(include_str!("/home/rust/.bashrc"))
[09:29:54] -rusti- pastebinned 6 lines of output: http://ix.io/8Fi
[09:30:20] <dbaupp> it's basically https://github.com/thestinger/rust-playpen, which uses https://github.com/thestinger/playpen
[09:31:07] <eddyb9> rusti: print(include_str!("/proc/self/exe"))
[09:31:08] -rusti- pastebinned 6 lines of output: http://ix.io/8Fj
[09:31:37] <eddyb9> that's cute
[09:31:43] *** Quits: m_kato (m_kato@moz-C286AD9A.bitcat.net) (Quit: Leaving...)
[09:31:54] <dbaupp> rusti: print(include_bin!("/proc/self/exe"))
[09:31:56] -rusti- pastebinned 7 lines of output: http://ix.io/8Fk
[09:32:08] <dbaupp> rusti: print!("{:?}", include_bin!("/proc/self/exe"))
[09:32:09] -rusti- line longer than 10000 characters, bailing out
[09:32:22] <eddyb9> bwah
[09:32:41] *** Quits: BizarreCake (BizarreCak@moz-361FE9B2.dynamic.barak-online.net) (Ping timeout)
[09:32:54] <eddyb9> rusti: print(include_str!("/proc/self/maps"))
[09:32:57] -rusti- pastebinned 87 lines of output: http://ix.io/8Fl
[09:33:26] <eddyb9> now you know exactly where everything is :D
[09:33:53] *** Quits: dbaupp (Thunderbir@moz-54ADD9F4.lns20.syd6.internode.on.net) (Ping timeout)
[09:34:03] <kemurphy> hm looks like driver and resolve have been refactored a bit
[09:34:19] *** Joins: dbaupp (Thunderbir@moz-2B9A51FF.lns20.syd6.internode.on.net)
[09:35:25] <kemurphy> dbaupp: so my old patch had a bit in resolve that rewrote expr_calls as expr_structs for tuple-like struct and enum variants
[09:35:51] <kemurphy> this had to return a new crate, which wasn't hard to inject into the driver flow
[09:36:20] <kemurphy> that seems more difficult now though; is resolve still the best place for that or should it split off and go elsewhere?
[09:36:42] <dbaupp> no idea, sorry
[09:37:09] *** Joins: bytewise (quassel@moz-414F1F47.informatik.rwth-aachen.de)
[09:37:44] *** Quits: int3_ (int3_@122E7B1.85C3B074.CED80046.IP) (Client exited)
[09:39:10] *** Joins: bholley (anonymous@moz-46B9419C.adsl.alicedsl.de)
[09:39:42] *** Quits: bytewise (quassel@moz-414F1F47.informatik.rwth-aachen.de) (Quit: )
[09:39:47] *** Joins: bytewise (bytewise@moz-414F1F47.informatik.rwth-aachen.de)
[09:43:47] *** Quits: zeuxcg (zeuxcg@E46D3CE0.E7BADBF1.B0C2132F.IP) (Ping timeout)
[09:44:03] *** Quits: bent (chatzilla@DA4ABEAF.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[09:44:55] *** Joins: bent (chatzilla@DA4ABEAF.1DE10CA8.D8E68FF6.IP)
[09:45:23] *** Quits: pyrac (pyrac@moz-9FF0B802.math.u-bordeaux1.fr) (Quit: pyrac)
[09:45:35] *** Quits: jgilbert (jgilbert@DA4ABEAF.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[09:48:03] *** Quits: bent (chatzilla@DA4ABEAF.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[09:48:19] *** Quits: alonlevy (alon@moz-3F073415.bb.netvision.net.il) (Ping timeout)
[09:48:34] <gour> do you consider that at 0.9 language is stable enough to start real-world project (i'm considering it along with wxrust) or waiting for 1.0 is recommended?
[09:48:55] *** Joins: bent (chatzilla@DA4ABEAF.1DE10CA8.D8E68FF6.IP)
[09:49:51] *** Joins: zeuxcg (zeuxcg@E46D3CE0.E7BADBF1.B0C2132F.IP)
[09:50:32] *** Quits: bytewise (bytewise@moz-414F1F47.informatik.rwth-aachen.de) (Input/output error)
[09:50:32] <mcpherrin> gour: You're definitely going to need to make changes to track the language
[09:50:52] <gour> mcpherrin: significant ones?
[09:52:16] *** Quits: skade (skade@30BBD5E6.505237C9.CAE22B62.IP) (Ping timeout)
[09:52:22] *** Quits: bent (chatzilla@DA4ABEAF.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[09:53:02] *** Quits: tgummerer_ (tgummerer@moz-FAADA9F9.kthopen.kth.se) (Ping timeout)
[09:53:16] <mcpherrin> gour: The basic language will stay the same, but you'll have to keep making changes for code to work
[09:53:33] <mcpherrin> gour: Library functions, even basic types, will keep changing
[09:53:49] <gour> mcpherrin: i see, so, more or less, the language is done for 1.0?
[09:54:36] *** Joins: IRCMonkey30878 (chatzilla@DA4ABEAF.1DE10CA8.D8E68FF6.IP)
[09:55:47] <mcpherrin> gour: how closures work kinda needs fixing, so there will be changes in that area
[09:56:00] <gour> ok.
[09:56:28] *** Quits: IRCMonkey30878 (chatzilla@DA4ABEAF.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[09:56:37] <gour> what is (recommended) build-system for rust to handle multi-platform project?
[09:57:13] *** kimundi is now known as zz_kimundi
[09:58:20] <mcpherrin> gour: I don't know if there's anything in particular people use
[09:58:36] *** Quits: DeTeam (DeTeam@3F8887A3.6883A39.F5F3AF2.IP) (Quit: DeTeam)
[09:58:41] <mcpherrin> You can get a lot of milage out of #[cfg]ing per platform
[09:59:00] <mcpherrin> I haven't really used rust cross-platform so I don't have any recommendations
[09:59:22] *** Quits: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp) (Client exited)
[10:00:14] *** Joins: skade (skade@30BBD5E6.505237C9.CAE22B62.IP)
[10:01:26] <gour> should rust work without any problem on freebsd?
[10:02:00] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[10:03:20] *** Joins: jgilbert (jgilbert@DA4ABEAF.1DE10CA8.D8E68FF6.IP)
[10:03:27] *** Joins: int3_ (int3_@122E7B1.85C3B074.CED80046.IP)
[10:03:31] *** Joins: bent (chatzilla@DA4ABEAF.1DE10CA8.D8E68FF6.IP)
[10:05:50] *** Joins: nkoep (nik@moz-DB4640F0.pool.mediaways.net)
[10:06:11] *** Quits: bent (chatzilla@DA4ABEAF.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[10:06:57] *** Joins: bent (chatzilla@DA4ABEAF.1DE10CA8.D8E68FF6.IP)
[10:09:18] *** Joins: xexio_ (xexio@moz-C3BB16B4.red-81-43-211.staticip.rima-tde.net)
[10:11:29] *** zz_kimundi is now known as kimundi
[10:14:11] *** Quits: dissimile (dissimile@moz-141B07E7.static.as13285.net) (Ping timeout)
[10:15:29] *** Joins: Jesse (jruderman@moz-537BCF9.hsd1.ca.comcast.net)
[10:16:54] *** Quits: gour (gour@moz-C28B3483.adsl.net.t-com.hr) (Quit: WeeChat 0.4.1)
[10:17:04] *** Quits: martndemus (martndemus@moz-E30F5776.adsl.xs4all.nl) (Ping timeout)
[10:18:16] *** xexio_ is now known as xexio
[10:18:52] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[10:19:21] *** Quits: zeuxcg (zeuxcg@E46D3CE0.E7BADBF1.B0C2132F.IP) (Ping timeout)
[10:20:05] *** Joins: dissimile (dissimile@moz-F3007ED4.static.as13285.net)
[10:20:45] <kimundi> Afaik freebsd isn't a officially supported platform
[10:20:58] *** Joins: themgt (themgt@moz-4C0A6F23.baf.movistar.cl)
[10:21:29] *** Quits: themgt (themgt@moz-4C0A6F23.baf.movistar.cl) (Client exited)
[10:22:22] <kimundi> It might work in theory but you'll probably need to add freebsd-specific cfgs
[10:23:00] <dbaupp> we do run the tests on freebsd on every landing
[10:23:35] <kimundi> we do? nevermind then -p
[10:23:41] *** Joins: hmax (hmax@moz-15514FA1.yandex.net)
[10:23:56] *** Quits: eddyb9 (eddy@C1AECB14.C75CDC83.4A6B528C.IP) (Quit: Leaving)
[10:24:12] *** Quits: dissimile (dissimile@moz-F3007ED4.static.as13285.net) (Quit: Either I put my laptop to sleep or my battery died)
[10:25:14] *** Quits: skade (skade@30BBD5E6.505237C9.CAE22B62.IP) (Ping timeout)
[10:25:31] <dbaupp> no idea if it's the full test suite or not though
[10:29:13] *** Quits: avsej (avsej@DF1824D5.EFF97412.48F984E6.IP) (Client exited)
[10:30:37] *** Quits: jgilbert (jgilbert@DA4ABEAF.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[10:30:46] *** Joins: martndemus (martndemus@moz-E30F5776.adsl.xs4all.nl)
[10:30:51] *** Joins: avsej (avsej@DF1824D5.EFF97412.48F984E6.IP)
[10:31:17] *** flaper87 is now known as flaper87|afk
[10:35:52] *** Joins: andre (andre@CA528A4A.45A4338E.8EE27E6.IP)
[10:36:01] *** Joins: alonlevy (alon@moz-8B6F1451.bb.netvision.net.il)
[10:39:17] *** Quits: Ms2ger (Ms2ger@moz-2E8A2F53.ugent.be) (Quit: bbl)
[10:40:52] *** Quits: martndemus (martndemus@moz-E30F5776.adsl.xs4all.nl) (Ping timeout)
[10:42:00] *** Joins: martndemus (martndemus@moz-E30F5776.adsl.xs4all.nl)
[10:43:29] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[10:45:46] *** Joins: jgilbert (jgilbert@DA4ABEAF.1DE10CA8.D8E68FF6.IP)
[10:46:34] *** Quits: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Quit: Leaving...)
[10:47:33] *** Joins: heftig (heftig@moz-E8E2034C.inf.fh-bonn-rhein-sieg.de)
[10:49:51] *** Quits: martndemus (martndemus@moz-E30F5776.adsl.xs4all.nl) (Ping timeout)
[10:55:43] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Client exited)
[11:00:59] *** Quits: dbaupp (Thunderbir@moz-2B9A51FF.lns20.syd6.internode.on.net) (Ping timeout)
[11:01:25] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[11:02:08] *** Joins: Earnestly (earnest@moz-BE290A2B.dyn.plus.net)
[11:02:12] *** Joins: ambimorph (amber@moz-F1964F26.hlrn.qwest.net)
[11:04:36] *** Joins: dbaupp (Thunderbir@moz-1613C652.lns20.syd6.internode.on.net)
[11:05:20] *** Joins: DeTeam (DeTeam@3F8887A3.6883A39.F5F3AF2.IP)
[11:06:55] *** Joins: fyolnish (fyolnish@moz-7C761119.uqwimax.jp)
[11:10:06] <kemurphy> oh man i forgot the pain of eliminating all the usages of tuple_variant_kind and struct_variant_kind
[11:15:01] *** Joins: xexio_ (xexio@955E5F8C.3A1C6308.FFDF157.IP)
[11:15:33] *** Quits: xexio_ (xexio@955E5F8C.3A1C6308.FFDF157.IP) (Quit: Konversation terminated!)
[11:16:08] *** Quits: bent (chatzilla@DA4ABEAF.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[11:16:23] *** Quits: xexio (xexio@moz-C3BB16B4.red-81-43-211.staticip.rima-tde.net) (Ping timeout)
[11:16:41] *** Joins: bent (chatzilla@DA4ABEAF.1DE10CA8.D8E68FF6.IP)
[11:17:22] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[11:18:30] *** Joins: martndemus (martndemus@moz-E30F5776.adsl.xs4all.nl)
[11:20:39] *** pmoore is now known as pmoore|away
[11:21:00] *** pmoore|away is now known as pmoore
[11:21:37] *** Quits: bholley (anonymous@moz-46B9419C.adsl.alicedsl.de) (Ping timeout)
[11:22:17] *** Quits: DeTeam (DeTeam@3F8887A3.6883A39.F5F3AF2.IP) (Ping timeout)
[11:23:47] *** Joins: DeTeam (DeTeam@92C799C.31715274.F5F3AF2.IP)
[11:25:10] *** Joins: bholley (anonymous@moz-E592B27C.adsl.alicedsl.de)
[11:25:39] *** Quits: jgilbert (jgilbert@DA4ABEAF.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[11:25:39] *** Joins: jordyd (jordyd@moz-151B7FEA.seg37.ucf.edu)
[11:27:08] *** Quits: bent (chatzilla@DA4ABEAF.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[11:27:48] *** Joins: pyrac (pyrac@moz-9FF0B802.math.u-bordeaux1.fr)
[11:27:57] *** Joins: bent (chatzilla@DA4ABEAF.1DE10CA8.D8E68FF6.IP)
[11:29:02] *** Joins: Ms2ger (Ms2ger@moz-DF0C9831.ugent.be)
[11:35:24] *** Joins: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[11:36:06] *** Joins: ski (md9slj@moz-E5796727.student.chalmers.se)
[11:41:35] *** Quits: SilverKey (SilverKey@moz-B589DA51.sw.biz.rr.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[11:41:38] *** flaper87|afk is now known as flaper87
[11:42:01] *** Joins: jgilbert (jgilbert@DA4ABEAF.1DE10CA8.D8E68FF6.IP)
[11:42:01] *** Quits: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[11:46:00] *** Joins: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[11:48:35] *** Quits: oberstet (quassel@moz-12991173.dynamic.mnet-online.de) (Client exited)
[11:48:41] *** Quits: Liothen (liothen@moz-266BCA86.spkn.qwest.net) (Quit: Textual IRC Client: www.textualapp.com)
[11:49:03] *** Quits: bent (chatzilla@DA4ABEAF.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[11:49:58] *** Joins: bent (chatzilla@DA4ABEAF.1DE10CA8.D8E68FF6.IP)
[11:51:03] *** Quits: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Quit: Bye!)
[11:51:46] *** Joins: nwmcsween (nwmcsween@E0025B86.51EE1362.3655BBF5.IP)
[11:51:52] *** Joins: skade (skade@30BBD5E6.505237C9.CAE22B62.IP)
[11:52:03] *** Quits: dolphinling (andrew@moz-80A1E448.uvm.edu) (Ping timeout)
[11:53:15] *** Joins: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[11:53:34] *** Quits: nwmcsween (nwmcsween@E0025B86.51EE1362.3655BBF5.IP) (Ping timeout)
[11:54:07] *** Joins: msingle (Thunderbir@moz-930E5D97.hr.hr.cox.net)
[11:55:56] *** Joins: dolphinling (andrew@moz-80A1E448.uvm.edu)
[11:57:43] *** Quits: heftig (heftig@moz-E8E2034C.inf.fh-bonn-rhein-sieg.de) (Ping timeout)
[11:58:22] *** Joins: heftig (heftig@moz-E8E2034C.inf.fh-bonn-rhein-sieg.de)
[12:00:30] *** Joins: ibnc (ibnc@moz-8A9CD85B.client.mchsi.com)
[12:01:53] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[12:01:58] *** Quits: heftig (heftig@moz-E8E2034C.inf.fh-bonn-rhein-sieg.de) (Ping timeout)
[12:03:10] *** Joins: tikue_ (tikue_star@moz-FEADCD38.hsd1.pa.comcast.net)
[12:03:19] *** Quits: johns (johns@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[12:03:21] *** Joins: johns (johns@moz-BBE3ABD.mv.mozilla.com)
[12:05:21] *** Joins: canhtak (jeremy@moz-1684132F.wl.t.ulaval.ca)
[12:07:56] *** Quits: tikue_ (tikue_star@moz-FEADCD38.hsd1.pa.comcast.net) (Ping timeout)
[12:12:35] *** Quits: pyrac (pyrac@moz-9FF0B802.math.u-bordeaux1.fr) (Ping timeout)
[12:14:09] *** Joins: oberstet (quassel@moz-12991173.dynamic.mnet-online.de)
[12:17:18] *** Joins: xexio (xexio@955E5F8C.3A1C6308.FFDF157.IP)
[12:17:50] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[12:24:44] *** Joins: LRN (LRN@moz-50DF30B.nationalcablenetworks.ru)
[12:25:19] *** Joins: themgt (themgt@moz-4C0A6F23.baf.movistar.cl)
[12:26:36] *** Quits: ibnc (ibnc@moz-8A9CD85B.client.mchsi.com) (Quit: )
[12:28:50] *** Joins: pnkfelix (pnkfelix@moz-B906FD97.bstnma.fios.verizon.net)
[12:28:50] *** ChanServ sets mode: +o pnkfelix
[12:32:33] *** Quits: alonlevy (alon@moz-8B6F1451.bb.netvision.net.il) (Quit: Leaving)
[12:37:24] *** Joins: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com)
[12:41:01] *** Quits: Ms2ger (Ms2ger@moz-DF0C9831.ugent.be) (Quit: bbl)
[12:46:15] *** Quits: skade (skade@30BBD5E6.505237C9.CAE22B62.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[12:46:31] *** Joins: exobit_ (textual@moz-E06F46F0.corp.bitshelter.com)
[12:46:48] *** Joins: alonlevy (alon@moz-61A0AD83.red.bezeqint.net)
[12:53:21] *** Joins: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca)
[12:56:43] *** bhearsum|afk is now known as bhearsum
[13:00:33] *** Quits: jhenahan (jhenahan@moz-65B7D4EE.hsd1.vt.comcast.net) (Quit: Textual IRC Client: www.textualapp.com)
[13:01:33] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[13:04:11] *** Quits: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca) (Quit: Leaving.)
[13:04:19] *** Joins: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca)
[13:05:06] *** Joins: pyrac (pyrac@moz-E2FF17D7.w109-214.abo.wanadoo.fr)
[13:12:38] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[13:14:18] *** Quits: int3_ (int3_@122E7B1.85C3B074.CED80046.IP) (Ping timeout)
[13:14:54] *** Joins: bjz_ (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[13:15:12] *** Quits: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[13:15:26] *** Joins: int3_ (int3_@122E7B1.85C3B074.CED80046.IP)
[13:18:17] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[13:21:36] *** Quits: alonlevy (alon@moz-61A0AD83.red.bezeqint.net) (Ping timeout)
[13:23:33] *** Quits: pnkfelix (pnkfelix@moz-B906FD97.bstnma.fios.verizon.net) (Quit: Leaving.)
[13:26:37] *** Joins: ksf (ksf@moz-E60E0F82.adsl.hansenet.de)
[13:26:52] <ksf> can we have better BigInt literals?
[13:27:03] <bstrie> thread about go -> 100% of people acknowledge that go is not a replacement for c++ -> people keep bringing up rust as a replacement for go #shitHNdoes
[13:27:06] <bstrie> ksf: we can!
[13:27:31] <bstrie> ksf: but only if people want
[13:27:34] <ksf> something like Haskell's literals being BigInts, and the rest being then done via from_bigint
[13:27:35] <bstrie> ksf: strcat really wants it
[13:28:00] <ksf> would mean BigInt needs to be in std or even core, though.
[13:28:42] <bstrie> I don't think bigint belongs in core
[13:28:46] <ksf> another option would be to go the c++ way, making all literals string and parsing them as constexprs at compile time.
[13:28:57] <bstrie> if you're doing #[no_std] then you're probably low-level enough that you'd rather not use bigints
[13:29:08] <ksf> well, you only need them at compile time.
[13:29:14] <bstrie> ksf: what, does c++ actually do that
[13:29:17] <bstrie> I never knew
[13:29:18] <ksf> as we're talking about literals
[13:29:30] <bstrie> but bigints have runtime overhead
[13:29:32] <ksf> it does, or it's slated for c++14.
[13:29:40] <bstrie> also they have unbounded size
[13:29:42] <ksf> c++ has some really funky constructor stuff.
[13:30:51] <ksf> yep, it's c++11. http://stackoverflow.com/questions/237804/what-new-capabilities-do-user-defined-literals-add-to-c
[13:31:54] <kimundi> We don't need bigint in std to support generic number literals
[13:32:10] <kimundi> well, maybe we need, depending on how to implement it
[13:33:15] <kimundi> Maybe have a proto-bigint type that the compiler uses for generic number literals, one that does just the bare minimum for supporting arbitrary big numbers
[13:33:36] <ksf> things like being able to write 10m / 1s would be cool, too. another c++11 thing.
[13:34:28] <kimundi> that might cause parsing troubles though
[13:34:43] <ksf> there's already type suffixes
[13:34:52] <bstrie> kimundi: I presume that user-defined literals in rust would have syntactic disambiguation
[13:35:01] <kimundi> yeah
[13:35:06] <bstrie> would probably look something like 10#m / 1#s
[13:35:25] <ksf> that's still painless enough so that people would use it.
[13:35:33] <ksf> ...which is the important pant.
[13:35:38] <ksf> part, even.
[13:36:34] *** Joins: lfox (lfox@moz-343B6F0C.nyc.biz.rr.com)
[13:36:53] *** Joins: malvarez (malvarez@5E36B4FF.E5444AFD.FD1591F7.IP)
[13:37:30] <bstrie> but it's not like you can't do the same thing today with something like `m(10) / s(1)` :P
[13:38:01] <kimundi> bigint / bigfractional literals could be implemnted by the compiler as exposing &'static [uint] and (&'static [uint], &'static [uint]), then custom types just would have to convert that into a form they can use
[13:38:28] <bstrie> struct Meter(int); struct Second(int); fn m(q: int) -> Meter { ... } fn s(q: int) -> Second { ... }
[13:38:40] <bstrie> and then just overload division on seconds and meters to return MetersPerSecond
[13:39:08] <bstrie> this gives you just as much compile-time goodness as C++ constexpr literals
[13:39:38] <bstrie> in the sense of reporting erroneous use of units
[13:40:39] *** Joins: tgummerer_ (tgummerer@moz-1E343164.public.su.se)
[13:41:10] <eddyb> bstrie: overloaded division wouldn't work at compile-time, though
[13:41:13] <kimundi> hm, a library full of unit defintions like that + a unit!(45 m) macro might be a nice combination
[13:41:33] *** Joins: fyolnish_ (fyolnish@moz-7C761119.uqwimax.jp)
[13:41:53] *** Quits: fyolnish (fyolnish@moz-7C761119.uqwimax.jp) (Ping timeout)
[13:42:15] <bstrie> eddyb: right, it's not as efficient as what C++ can do
[13:42:27] *** Quits: tiffany (kawaii@moz-28A8742A.dhcp.embarqhsd.net) (Ping timeout)
[13:42:38] <bstrie> but it's no less type safe
[13:42:43] <eddyb> bstrie: not about efficiency, but compile-time function evaluation (I think that's what CTFE means)
[13:42:58] <eddyb> bstrie: inlining works for non-statics
[13:43:05] <bstrie> and I presume here if we're using units then what we really care about is avoiding another ariane :P
[13:44:06] <kimundi> wouldn't llvm constant fold something like Meter(34) / Second(98) anyway?
[13:44:33] <bstrie> probably
[13:44:38] <eddyb> kimundi: yes, but not if it was in a static constant (which might not be the point of the discussion, I wasn't paying attention)
[13:44:49] <bstrie> it would probably do the same for if you hid the struct constructors behind thin functions
[13:45:29] <kimundi> Ah, it's about statics, gotcha. Well afaik there are some mysterious plans to support ctfe properly with the macro system somehow
[13:45:37] <bstrie> oh wait, the ariane explosion was because of overflow. I'm thinking of some mars mission
[13:46:02] <eddyb> is this possible currently? div<V, A : Unit<V>, B : Unit<V>>(x : A, y : B) -> Div<A, B> {*x / *y}
[13:46:06] <kimundi> yeah, mars. course correction, one team used meters, the other feet :P
[13:46:33] *** Joins: pnkfelix (pnkfelix@moz-5A4C52C7.hfc.comcastbusiness.net)
[13:46:33] *** ChanServ sets mode: +o pnkfelix
[13:47:30] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[13:47:30] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[13:47:58] <pauls> kimundi: probably not CTFE per se, but procedural macros, which has roughly the same power, and is understood better theoretically. 
[13:48:00] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[13:48:00] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[13:48:30] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[13:48:30] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[13:48:38] *** Joins: alonlevy (alon@moz-B0E66DB7.static.bezeqint.net)
[13:49:00] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[13:49:00] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[13:49:30] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[13:49:30] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[13:50:00] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[13:50:00] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[13:50:09] *** Quits: KindOne (KindOne@moz-61725A00.dynamic.ip.windstream.net) (Ping timeout)
[13:50:23] <pauls> I mean, I guess it does involving Eing Fs at CT...
[13:50:31] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[13:50:31] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[13:51:01] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[13:51:01] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[13:51:21] <bstrie> Luqman: ping
[13:51:31] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[13:51:31] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[13:51:45] *** Joins: int3__ (int3_@122E7B1.85C3B074.CED80046.IP)
[13:51:48] *** Joins: dissimile (dissimile@moz-F3007ED4.static.as13285.net)
[13:51:57] *** Quits: int3_ (int3_@122E7B1.85C3B074.CED80046.IP) (Connection reset by peer)
[13:52:01] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[13:52:01] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[13:52:05] <XMunkki> does rust have reflection? (or is it even planned)
[13:52:31] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[13:52:31] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[13:52:36] *** Quits: tgummerer_ (tgummerer@moz-1E343164.public.su.se) (Ping timeout)
[13:52:37] <bstrie> XMunkki: it does
[13:53:01] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[13:53:01] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[13:53:08] <bstrie> rusti: let x = 1; print!("{:?}", x);
[13:53:08] -rusti- 1()
[13:53:20] <XMunkki> bstrie: nice.. any pointers where to look at? the docs in http://static.rust-lang.org/doc/master/std/reflect/index.html leave a bit to wish for.. :)
[13:53:23] <bstrie> XMunkki: the :? format specifier uses reflection to print its argument
[13:53:30] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[13:53:30] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[13:53:38] <kimundi> compile time reflection though
[13:53:41] <bstrie> XMunkki: I've never used it myself :) what are you trying to do?
[13:54:01] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[13:54:01] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[13:54:09] *** Quits: fabiand (fabiand@moz-D873EB1C.adsl.alicedsl.de) (Quit: Verlassend)
[13:54:31] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[13:54:31] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[13:54:35] *** Joins: KindOne (KindOne@moz-39A20BD6.dynamic.ip.windstream.net)
[13:54:54] <XMunkki> exploring what can be done.. but my use cases go around things like scripting interfaces (being able to bind and call arbitrary functions, create and observe created values) and the like
[13:55:01] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[13:55:01] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[13:55:10] *** Joins: jensnockert (jensnocker@moz-F903F162.homerun.telia.com)
[13:55:12] <XMunkki> many good uses for reflection..
[13:55:57] <XMunkki> also external data definitons are good if you can read directly rust data structures.. (might be different foramts, some might be xml, some in rust-dialect, some in excel CSV etc)
[13:56:01] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[13:56:01] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[13:56:31] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[13:56:31] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[13:56:33] *** Joins: skade (skade@30BBD5E6.505237C9.CAE22B62.IP)
[13:56:43] <XMunkki> also doing editor frameworks benefit from reflection..
[13:57:01] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[13:57:01] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[13:57:31] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[13:57:31] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[13:57:48] <XMunkki> (I wouldn't mind if it was so that only tagged types/functions (like with [#reflect]) were available in the "reflection database")
[13:58:01] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[13:58:01] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[13:58:31] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[13:58:31] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[13:58:36] *** lbergstrom|away is now known as lbergstrom
[13:58:39] <XMunkki> of course the ultimate would be to able to reflect the actual AST of functions.. :) one could generate stuff like GPU implementations directly from a running rost codebase.. but I guess that goes too far in most peoples minds :)
[13:59:01] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[13:59:01] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[13:59:31] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[13:59:31] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[13:59:49] *** Joins: thom986 (Mibbit@moz-2DA4921B.w80-9.abo.wanadoo.fr)
[14:00:01] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[14:00:01] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[14:00:05] <thom986> hi !
[14:00:16] <thom986> got a problem for reading a file
[14:00:26] <thom986> (rust 0.8)
[14:00:31] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[14:00:31] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[14:00:49] *** Joins: crembo (crembo@moz-C2B364AA.vc.shawcable.net)
[14:01:01] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[14:01:01] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[14:01:31] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[14:01:31] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[14:01:55] <thom986> https://gist.github.com/homeostasie/7084353
[14:01:57] *** Joins: fabiand (fabiand@moz-D873EB1C.adsl.alicedsl.de)
[14:01:57] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[14:02:01] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[14:02:01] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[14:02:31] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[14:02:31] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[14:02:42] <thom986> f.open_reader(Open);
[14:02:48] <cmr> thom986: use std::rt::io::file::Open
[14:02:50] <kimundi> XMunkki: I imagine using attributes to generate wrappers for various languages to use will be the way it usually gues
[14:02:53] <kimundi> goes*
[14:03:01] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[14:03:01] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[14:03:05] <cmr> Sorry, std::rt::io::Open
[14:03:07] <cmr> http://static.rust-lang.org/doc/0.8/std/rt/io/enum.FileMode.html
[14:03:23] <kimundi> like #[lua] struct Foo{ ... } or so
[14:03:31] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[14:03:31] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[14:03:45] *** Quits: int3__ (int3_@122E7B1.85C3B074.CED80046.IP) (Connection reset by peer)
[14:03:58] <XMunkki> kimundi: well there are many cases where having access to "what can be in a datatype" and also a way to generate those at runtime is hugely beneficial.. I guess you can try to patch up single use cases with specialized attributes and so on but it's far from optimal
[14:04:01] *** Joins: int3_ (int3_@122E7B1.85C3B074.CED80046.IP)
[14:04:01] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[14:04:01] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[14:04:02] <thom986> thanks, it's work
[14:04:29] *** Quits: z0w0 (zack@moz-C877F2F7.lnse2.cha.bigpond.net.au) (Quit: z0w0)
[14:04:32] <thom986> first day with rust ^^ 
[14:04:47] <kimundi> XMunkki: Yeah, but at the same time always generating the neccessary runtime shims for all types all the time might be to much overhead for most catch
[14:05:01] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[14:05:01] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[14:05:05] <XMunkki> the more you move into a data driven model, the more helpful reflection is.. of course you can make do without but it tends to make the systems a lot more rigid, or you end up manually adding reflection information into all the types you need..
[14:05:22] *** Joins: ianj (ianjneu@moz-7140CF01.ccs.neu.edu)
[14:05:32] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[14:05:32] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[14:06:02] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[14:06:02] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[14:06:29] <XMunkki> kimundi: indeed (though many systems work ok with having full reflection info, like java, .net etc), though for that reason at least for all the use cases I see, it would be enough if only types tagged with [#reflect] would be included..
[14:06:32] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[14:06:32] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[14:06:54] <XMunkki> and maybe having a module and a crate wide to say the same thing
[14:07:02] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[14:07:02] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[14:07:03] <XMunkki> that way you basically request the overhead
[14:07:21] <XMunkki> and I assume the biggest overhead is space, runtime speed shouldn't be that affected..
[14:07:27] <cmr> Right
[14:07:30] <kimundi> yeah, I guess #[reflect] would be the way to go
[14:07:32] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[14:07:32] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[14:07:57] *** Quits: jensnockert (jensnocker@moz-F903F162.homerun.telia.com) (Input/output error)
[14:08:02] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[14:08:02] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[14:08:32] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[14:08:32] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[14:09:02] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[14:09:02] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[14:09:32] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[14:09:32] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[14:10:02] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[14:10:02] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[14:10:32] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[14:10:32] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[14:11:02] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[14:11:02] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[14:12:02] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[14:12:02] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[14:12:32] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[14:12:32] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[14:13:02] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[14:13:02] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[14:13:32] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[14:13:32] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[14:14:02] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[14:14:02] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[14:14:33] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[14:14:33] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[14:15:02] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[14:15:02] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[14:15:32] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[14:15:32] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[14:16:02] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[14:16:02] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[14:16:33] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[14:16:33] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[14:16:52] *** Joins: Cromulent (Cromulent@moz-983B638D.cable.virginmedia.com)
[14:17:03] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[14:17:03] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[14:17:33] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[14:17:33] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[14:18:03] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[14:18:03] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[14:18:33] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[14:18:33] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[14:18:51] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[14:19:03] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[14:19:03] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[14:19:12] <cmr> http://cmr.github.io/blog/2013/10/21/on-stack-safety/
[14:19:28] *** Joins: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com)
[14:20:03] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[14:20:03] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[14:20:33] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[14:20:33] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[14:21:03] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[14:21:03] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[14:21:33] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[14:21:33] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[14:22:03] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[14:22:03] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[14:22:33] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[14:22:33] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[14:22:52] *** Quits: donri (donri@moz-9BB61102.tbcn.telia.com) (Client exited)
[14:23:03] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[14:23:03] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[14:23:33] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[14:23:33] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[14:23:36] *** Parts: lbergstrom (Adium@moz-5D8E4B14.lightspeed.cicril.sbcglobal.net) ()
[14:24:03] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[14:24:03] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[14:24:33] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[14:24:33] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[14:25:14] *** Joins: alan (alan@32702EE8.939109B2.FB082A98.IP)
[14:25:33] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[14:25:33] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[14:26:03] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[14:26:03] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[14:26:33] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[14:26:33] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[14:27:03] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[14:27:03] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[14:27:09] *** Quits: ozten (ozten@moz-DD3B00B4.hsd1.wa.comcast.net) (Quit: ozten)
[14:27:33] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[14:27:33] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[14:27:45] <ianj> Jeez Tobbi.
[14:27:50] <ianj> Get it together man.
[14:28:04] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[14:28:04] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[14:28:34] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[14:28:34] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[14:28:38] *** jorendorff_away is now known as jorendorff
[14:29:04] *** Joins: Tobbi (Tobbi@moz-CAA98E97.xxx)
[14:29:04] *** Quits: Tobbi (Tobbi@moz-CAA98E97.xxx) (Max SendQ exceeded)
[14:29:46] <eddyb> ianj: meh, #minecraft on freenode has the best moderation I've seen. this Tobbi thing couldn't have happen there more than twice without a ban :P
[14:30:03] *** Joins: heftig (heftig@moz-E8E2034C.inf.fh-bonn-rhein-sieg.de)
[14:30:03] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[14:30:20] <cmr> jdm: ^ can you fix that?
[14:30:47] <cmr> eddyb: most of us have part/join turned off for non-actives, I imagine.
[14:31:01] <jdm> yes
[14:31:13] *** jdm sets mode: +b *!Tobbi@moz-CAA98E97.xxx
[14:31:57] *** Joins: Scriptor (historium@moz-E06F46F0.corp.bitshelter.com)
[14:32:29] <eddyb> cmr: it would be neat if my client could filter messages, like wireshark does, so you can remove the filter and see everything. or fold 2+ parts/joins into a "click to see everything" marker
[14:33:22] <cmr> weechat will let you filter join/part for people who haven't sent a message in the past N seconds, and lets you toggle it.
[14:33:46] *** jdm sets mode: -b *!Tobbi@moz-CAA98E97.xxx
[14:34:00] <eddyb> cmr: ah, I might take a look at that, thanks
[14:34:13] <eddyb> hmm, nobody answered my question: would the type system allow me to have this? fn div<V, A : Unit<V>, B : Unit<V>>(x : A, y : B) -> Div<V, A, B> {*x / *y}
[14:34:44] *** Joins: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net)
[14:34:46] <cmr> eddyb: nope
[14:34:52] *** Quits: bholley (anonymous@moz-E592B27C.adsl.alicedsl.de) (Ping timeout)
[14:35:00] <cmr> That'd be a cool feature
[14:35:08] <ianj> cmr: ah right. irssi has /ignore #rust JOINS PARTS
[14:35:11] <eddyb> you could implement Unitless and the basic 7 SI units used in physics and have compile-time validation
[14:35:37] <eddyb> so you couldn't add/sub values with different units
[14:35:49] *** Quits: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com) (Ping timeout)
[14:35:56] <eddyb> and the composing type would allow for pretty printing, if desired
[14:36:00] <eddyb> cmr: what's the blocker?
[14:36:03] <cmr> thing is, Div is a trait
[14:36:10] <cmr> not a type
[14:36:32] <cmr> you want to be able to say "I return the type of whatever Div of these types is", right?
[14:36:44] <eddyb> cmr: ah. Div in my case would be DivUnit, which would be a composed type
[14:36:58] <cmr> ah
[14:37:03] <cmr> that might be possible
[14:37:09] *** Joins: skoizza (Mibbit@moz-DE2B76A7.bootp.virginia.edu)
[14:37:21] <eddyb> MetersPerSecond doesn't have to exist, just DivUnit<V, Meter, Second>
[14:37:22] <jdm> heh, ill-kept hiatus
[14:37:43] <eddyb> and SI::Velocity<V> would be just that
[14:38:21] <skoizza> has anyone encountered these errors? http://mibpaste.com/kIyFX3 
[14:38:40] <cmr> skoizza: you called .recv() on a closed channel.
[14:39:16] *** Joins: jeffdb (jeff@moz-D13B6004.hsd1.ca.comcast.net)
[14:40:31] *** Joins: bholley (anonymous@moz-29DB901D.adsl.alicedsl.de)
[14:41:00] *** Joins: steveklabnik (steveklabn@moz-5EF6C37C.socal.res.rr.com)
[14:41:10] <eddyb> cmr: you could probably make more complex mul/div compositions go into an optimal shape, which you could alias: type Joule<V> = MulUnit<V, Kg<V>, Pow<V, Meter<V>, 2>, Pow<V, Second<V>, -2>>
[14:41:31] <eddyb> cmr: if you had variadic templates (with integer values permitted)
[14:41:52] *** Joins: sebcrozet (sebcrozet@moz-2517AE39.w80-13.abo.wanadoo.fr)
[14:44:10] *** Quits: skoizza (Mibbit@moz-DE2B76A7.bootp.virginia.edu) (Quit: http://www.mibbit.com ajax IRC Client)
[14:44:12] *** Joins: jensnockert (jensnocker@moz-F903F162.homerun.telia.com)
[14:45:50] *** Quits: avsej (avsej@DF1824D5.EFF97412.48F984E6.IP) (Client exited)
[14:46:52] *** Quits: [o__o] (~o__o@moz-24EBFAC7.me) (Ping timeout)
[14:49:24] *** Joins: ksf_ (ksf@moz-49DEA143.adsl.alicedsl.de)
[14:49:53] *** Quits: ksf (ksf@moz-E60E0F82.adsl.hansenet.de) (Ping timeout)
[14:50:18] *** Quits: crembo (crembo@moz-C2B364AA.vc.shawcable.net) (Client exited)
[14:51:38] *** Quits: Blub\w (wry@7E3BB9D.71150E1A.237AE2BA.IP) (Quit: bb tomorrow or maybe later tonight)
[14:51:57] *** Joins: crembo (crembo@moz-C2B364AA.vc.shawcable.net)
[14:52:46] *** Joins: [o__o] (~o__o@moz-24EBFAC7.me)
[14:53:25] *** Joins: skoizza (Mibbit@moz-5AF9AA47.hsd1.va.comcast.net)
[14:56:04] *** Quits: bholley (anonymous@moz-29DB901D.adsl.alicedsl.de) (Quit: bholley)
[14:56:36] *** Quits: ambimorph (amber@moz-F1964F26.hlrn.qwest.net) (Ping timeout)
[14:57:51] *** Joins: RMF (RMF@moz-E29BF4D9.dsl.telepac.pt)
[15:01:26] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[15:02:10] *** Joins: Ms2ger (Ms2ger@B7B2FF50.C60A97A6.F9FB0584.IP)
[15:03:06] *** Quits: bent (chatzilla@DA4ABEAF.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[15:03:53] *** Quits: pnkfelix (pnkfelix@moz-5A4C52C7.hfc.comcastbusiness.net) (Quit: Leaving.)
[15:03:55] *** Quits: jensnockert (jensnocker@moz-F903F162.homerun.telia.com) (Input/output error)
[15:04:03] *** Joins: bent (chatzilla@DA4ABEAF.1DE10CA8.D8E68FF6.IP)
[15:04:21] <KokaKiwi> I wondering, why not include an EditorConfig file at root of rust repo, it could be useful I think :o
[15:04:34] <KokaKiwi> I was wondering* (I think?)
[15:06:10] <eddyb> KokaKiwi: look in src/etc
[15:07:23] *** Quits: thom986 (Mibbit@moz-2DA4921B.w80-9.abo.wanadoo.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[15:07:41] <KokaKiwi> I don't see any EditorConfig file :o
[15:08:08] <KokaKiwi> (And as I'm using Sublime Text, I don't find any file which correspond :( )
[15:08:47] *** Quits: nwmcsween__ (nwmcsween@E0025B86.51EE1362.3655BBF5.IP) (Client exited)
[15:11:14] <eddyb> KokaKiwi: well, they have a few editor support files in there (emacs, gedit, kate, vim). and what do you need support for?
[15:12:44] *** Quits: yota (sdouche@moz-7D878FB8.securactive.net) (Connection reset by peer)
[15:13:16] <eddyb> KokaKiwi: pcmattman is using sublime, AFAIK, and I haven't heard him complain
[15:13:21] <KokaKiwi> EditorConfig file allow to set up multi-editor rules like indent style/size, tab width, end of line style, etc... :o
[15:13:29] <eddyb> KokaKiwi: aaah, a modeline
[15:13:37] <KokaKiwi> Yep
[15:13:39] <eddyb> for the rust project, not the language
[15:13:42] *** Quits: m314159 (marco@moz-161CB040.dynamic.surfer.at) (Ping timeout)
[15:13:43] *** Quits: Cromulent (Cromulent@moz-983B638D.cable.virginmedia.com) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[15:13:46] <KokaKiwi> Yep
[15:13:47] *** Joins: nwmcsween (nwmcsween@E0025B86.51EE1362.3655BBF5.IP)
[15:14:32] <KokaKiwi> That's why I told "at root of rust repo", because EditorConfig search recursively the file :)
[15:14:45] <KokaKiwi> (Like git)
[15:14:45] <eddyb> KokaKiwi: https://github.com/mozilla/rust/blob/master/.gitattributes
[15:14:52] <eddyb> there you go
[15:15:16] <KokaKiwi> Oh
[15:15:31] <KokaKiwi> I'll see if ST handle this kind of file
[15:15:53] *** Quits: JanC_ (janc@moz-6F54248C.dsl.scarlet.be) (Ping timeout)
[15:16:54] *** Quits: [o__o] (~o__o@moz-24EBFAC7.me) (Input/output error)
[15:16:55] <KokaKiwi> Meh, ST doesn't handle gitattributes file :(
[15:17:00] *** kimundi is now known as zz_kimundi
[15:17:07] *** Joins: [o__o] (~o__o@moz-24EBFAC7.me)
[15:17:11] <bstrie> the sublime text monad
[15:17:23] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[15:17:25] <bstrie> [o__o]: dance
[15:17:33] <bstrie> you're not fun
[15:17:47] * bstrie misses rustbot
[15:18:05] *** Joins: m314159 (marco@moz-161CB040.dynamic.surfer.at)
[15:20:24] <bstrie> cmr: haven't finished this article yet, but now you've got me wondering what it would be like if we managed to disallow recursion :P
[15:21:14] <bstrie> think of how much simpler everything would be!
[15:21:31] <bstrie> it would greatly simplify our TCO story, for one :)
[15:21:52] *** Quits: martndemus (martndemus@moz-E30F5776.adsl.xs4all.nl) (No route to host)
[15:21:54] *** Joins: martndemus (martndemus@moz-E30F5776.adsl.xs4all.nl)
[15:22:06] *** Quits: RMF (RMF@moz-E29BF4D9.dsl.telepac.pt) (Ping timeout)
[15:22:12] <Ms2ger> How about just primitive recursion?
[15:22:20] *** Quits: int3_ (int3_@122E7B1.85C3B074.CED80046.IP) (Client exited)
[15:22:23] <bstrie> NO RECURSION
[15:22:29] <bstrie> f you, the lambda calculus
[15:22:37] *** Joins: RMF (RMF@A9BCA681.5A35FBC1.2CFD4520.IP)
[15:22:43] <eddyb> constant space recursion?
[15:23:04] *** Joins: rveach (kvirc@E86DF00.F81DF239.C69D10BF.IP)
[15:23:22] <bstrie> haha, we can make recursion only allowed in unsafe code
[15:23:27] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[15:23:30] <XMunkki> would tail recursion be guaranteed to be constant stack space in all cases?
[15:23:33] <eddyb> bstrie: you're funny
[15:23:34] *** Joins: int3_ (int3_@122E7B1.85C3B074.CED80046.IP)
[15:23:35] *** Joins: jeaye (Jeaye@moz-34FEF2BB.hsd1.ca.comcast.net)
[15:24:47] <eddyb> XMunkki: if it can be optimized to a loop, it's most likely going to use constant space
[15:24:55] <bstrie> I can't tell whether the PL community would be delighted or horrified or infuriated at the idea of a language that forbade recursion
[15:24:56] *** Joins: pnkfelix (pnkfelix@moz-34F68D24.public.wayport.net)
[15:24:56] *** ChanServ sets mode: +o pnkfelix
[15:25:20] *** Quits: int3_ (int3_@122E7B1.85C3B074.CED80046.IP) (Ping timeout)
[15:25:21] <XMunkki> yeah.. was kinda thinking about tail calls in general.. which can be made to be constant..
[15:25:29] <Ms2ger> bstrie, why not all of those? :)
[15:25:35] *** Joins: thom986 (Mibbit@moz-D1162B67.w92-157.abo.wanadoo.fr)
[15:26:03] <XMunkki> or you could do it like .NET, so that they might be constant.. or not.. depending on the runtime.. (oh the fun times we had when we switched to 64bit and noticed they hadn't implemented tail calls and most of our code was made with F#)
[15:26:09] *** Quits: RMF (RMF@A9BCA681.5A35FBC1.2CFD4520.IP) (Ping timeout)
[15:26:59] <eddyb> I've theorized that f(n) = g(f(n-1), f(n-2), ..., f(n-k)), with a non-recursive g, can be optimized to a map-reduce with a k-sized context that you shift every time
[15:27:04] <thom986> hi
[15:27:20] <thom986> got another problem for reading a file
[15:27:23] <thom986> https://gist.github.com/homeostasie/7084353
[15:27:50] <thom986> is there anypage to understant better include (use) ?
[15:28:01] *** Quits: pnkfelix (pnkfelix@moz-34F68D24.public.wayport.net) (Quit: Leaving.)
[15:28:56] <eddyb> you can use it as a circular buffer, so no shifting required, and that could be optimized to a loop with k "evaluations" of f, using constant indexes in the context
[15:28:59] <bstrie> thom986: do you just want to read a file?
[15:29:28] *** Quits: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com) (Client exited)
[15:29:52] *** Quits: DeTeam (DeTeam@92C799C.31715274.F5F3AF2.IP) (Ping timeout)
[15:30:03] *** Joins: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com)
[15:30:08] *** Joins: DeTeam (DeTeam@92C799C.31715274.F5F3AF2.IP)
[15:30:21] <thom986> the idea behind is to read char by char in order to do static compression
[15:30:32] <thom986> but i start with read a file 
[15:30:56] *** Joins: RMF (RMF@moz-E29BF4D9.dsl.telepac.pt)
[15:31:05] <bstrie> thom986: I found this example today: https://gist.github.com/anonymous/d6a2443a8a63fae0b241
[15:31:10] <bstrie> thom986: see lines 17, 18, 19
[15:31:10] *** Joins: adridu59 (Mibbit@moz-9FA90C7C.rev.sfr.net)
[15:31:11] *** Joins: JanC_ (janc@moz-9D7B166B.dsl.scarlet.be)
[15:31:22] <adridu59> r? https://github.com/mozilla/rust/pull/9960
[15:31:46] <bstrie> uh oh
[15:31:50] <bstrie> we're at 9993 issues
[15:32:07] <bstrie> we're about to trigger some i10k bugs up in here
[15:32:13] *** Joins: dherman (dherman@moz-C6E36EE8.bltmmd.fios.verizon.net)
[15:32:13] *** ChanServ sets mode: +ao dherman dherman
[15:32:36] *** Quits: adridu59 (Mibbit@moz-9FA90C7C.rev.sfr.net) (Quit: http://www.mibbit.com ajax IRC Client)
[15:32:38] *** Quits: skoizza (Mibbit@moz-5AF9AA47.hsd1.va.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[15:32:57] <eddyb> rusti: for i in range(1, 9) { print!("{} ", range(2, i).reduce((0, 1), |(a, b), i| {(b, a + b)}) }
[15:32:58] -rusti- pastebinned 6 lines of output: http://ix.io/8Fy
[15:33:04] <eddyb> rusti: for i in range(1, 9) { print!("{} ", range(2, i).reduce((0, 1), |(a, b), i| {(b, a + b)}); }
[15:33:06] -rusti- pastebinned 6 lines of output: http://ix.io/8Fz
[15:33:08] <eddyb> rusti: for i in range(1, 9) { print!("{} ", range(2, i).reduce((0, 1), |(a, b), i| {(b, a + b)})); }
[15:33:10] -rusti- pastebinned 30 lines of output: http://ix.io/8FA
[15:33:45] <eddyb> I need to read the Iterator docs :(
[15:34:26] <thom986> @bstrie I've got an error : "cannot borrow `char_count` as mutable more than once at a time" when compiling 
[15:35:05] *** zz_kimundi is now known as kimundi
[15:35:09] <bstrie> thom986: right, that specific example doesn't compile :P see http://www.reddit.com/r/rust/comments/1ow7z2/could_anyone_help_me_understand_a_compiler_error/
[15:35:16] <bstrie> answer is in the comments
[15:35:56] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[15:37:51] *** Quits: RMF (RMF@moz-E29BF4D9.dsl.telepac.pt) (Ping timeout)
[15:38:09] *** Quits: Diamond (dick@moz-80556682.ks.ks.cox.net) (Ping timeout)
[15:38:32] *** Joins: RMF (RMF@A7614C7E.8D251DE0.F7A44A1B.IP)
[15:39:51] *** Quits: dherman (dherman@moz-C6E36EE8.bltmmd.fios.verizon.net) (Quit: dherman)
[15:39:59] *** Joins: earlzlap (earlz@moz-9E279EAD.neo.res.rr.com)
[15:40:14] *** Quits: RMF (RMF@A7614C7E.8D251DE0.F7A44A1B.IP) (Ping timeout)
[15:43:16] *** Joins: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net)
[15:43:25] *** kimundi is now known as zz_kimundi
[15:43:27] <thom986> @bstrie thanks for the helps
[15:44:23] *** Joins: pnkfelix (pnkfelix@moz-34F68D24.public.wayport.net)
[15:44:23] *** ChanServ sets mode: +o pnkfelix
[15:45:30] *** Joins: RMF (RMF@moz-E29BF4D9.dsl.telepac.pt)
[15:45:50] *** Joins: tikue_ (tikue_star@moz-FEADCD38.hsd1.pa.comcast.net)
[15:46:39] *** Joins: jxv (jxv@4732E7D7.2AB34561.9B38A32A.IP)
[15:48:39] *** Quits: DeTeam (DeTeam@92C799C.31715274.F5F3AF2.IP) (Quit: DeTeam)
[15:49:03] *** Joins: hoverbear (andrew@EBFA78B5.F19E5E7B.E74D50F2.IP)
[15:49:28] <erickt> cmr: no worries
[15:49:45] *** Joins: BitPuffin (isak@moz-98F8BF74.cust.tele2.se)
[15:50:50] <erickt> earlzlap: let me know if you still have questions about rust-mustache. I doubt anyone is using it at the moment as I just ported it from rust 0.5 :)
[15:51:26] *** Quits: KindOne (KindOne@moz-39A20BD6.dynamic.ip.windstream.net) (Input/output error)
[15:52:06] *** Joins: KindOne (KindOne@moz-39A20BD6.dynamic.ip.windstream.net)
[15:52:13] *** Quits: themgt (themgt@moz-4C0A6F23.baf.movistar.cl) (Quit: themgt)
[15:52:32] <Luqman> bstrie: pong
[15:52:46] <bstrie> erickt: hey whoa we're using rust-mustache on production for 20,000 users, are you saying we'll have to upgrade from rust 0.5 to get security updates??!??
[15:53:25] <bstrie> this is COMPLETELY unprofessional
[15:53:26] *** Quits: thom986 (Mibbit@moz-D1162B67.w92-157.abo.wanadoo.fr) (Quit: http://www.mibbit.com ajax IRC Client)
[15:53:39] <erickt> bstrie: and I didn't announce the upgrade either!
[15:53:54] *** Joins: int3_ (int3_@122E7B1.85C3B074.CED80046.IP)
[15:54:02] <erickt> bstrie: I just like to watch enterprises squirm
[15:54:04] * bstrie rages at erickt
[15:54:12] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[15:54:12] <bstrie> I'll be letting our legal team know about this!
[15:54:21] <erickt> please do
[15:54:24] <bstrie> haha
[15:54:31] <Ms2ger> And I'll only ever use Go!
[15:54:35] <bstrie> me too!!
[15:54:50] <bstrie> I've already begun installing Go 0.5
[15:54:50] *** Quits: pnkfelix (pnkfelix@moz-34F68D24.public.wayport.net) (Ping timeout)
[15:54:57] <erickt> hahha
[15:55:11] <erickt> because the important thing is the version number not the language
[15:55:19] *** Quits: BitPuffin (isak@moz-98F8BF74.cust.tele2.se) (Ping timeout)
[15:55:25] *** Joins: vk (chatzilla@3E9D68F2.B1163E0C.2A6693DD.IP)
[15:55:54] <Scriptor> see, this is why that guy picked Lua over Rust
[15:55:56] <erickt> vk: if you're the vk that was helping me update rust-mustache, I finally landed it. I'm sorry it took so long
[15:56:04] <bstrie> Luqman: was just pinging about the mut ~self thing
[15:56:08] <bstrie> which still seems... weird to me
[15:56:14] <bstrie> I get now that it's not unsound
[15:56:32] <bstrie> the idea of methods taking ownership is still a little mind-bending but w/e
[15:56:34] *** pmoore is now known as pmoore|dinner
[15:56:37] *** Joins: bholley (anonymous@moz-F435A2D1.dip0.t-ipconnect.de)
[15:56:41] <bstrie> it just looks plain weird :P
[15:57:04] *** Joins: ksf__ (ksf@moz-5B242B54.adsl.alicedsl.de)
[15:57:20] *** Quits: ksf_ (ksf@moz-49DEA143.adsl.alicedsl.de) (Ping timeout)
[15:57:26] <vk> erickt: I am, no problem at all. I was ashamed myself that I didn't notice your commits until recently after your response to the issue I raised. I was expecting a pull request to my repo, not to have my commits pulled into yours >_>.
[15:57:31] <erickt> Scriptor: I can understand that. Lua's got a JIT, and we killed off poor little rusti
[15:57:55] <erickt> done in before his time
[15:58:02] <Scriptor> erickt: we could always write a Rust->Lua compiler
[15:58:05] <erickt> vk: no problem! it was nice work
[15:58:11] <Scriptor> best of both worlds!
[15:58:34] <Luqman> bstrie: haha yea
[15:58:35] <erickt> we should, in all honesty. People *love* to embed lua in things
[15:58:43] <bstrie> I've made lua bindings
[15:58:44] <bstrie> like a dozen times
[15:58:46] <bstrie> for rust
[15:58:49] *** Quits: hmax (hmax@moz-15514FA1.yandex.net) (Quit: ????? ? ?? ??? (xchat 2.4.5 ??? ??????))
[15:59:06] *** Quits: int3_ (int3_@122E7B1.85C3B074.CED80046.IP) (Ping timeout)
[15:59:06] <bstrie> I'm always dissatisfied by lua's C api and then get disillusioned for like a month
[15:59:13] <bstrie> then go back and start all over again
[15:59:25] <Luqman> bstrie: i also have a patch to allow things like `let (a, mut b) = (1, 2); b = 3;` but sadly weird issues in stage2 :(
[15:59:36] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Client exited)
[15:59:38] <bstrie> Luqman: yeah, I'm fine with adding mut to patterns
[15:59:42] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Client exited)
[15:59:45] <bstrie> it's just that self is a weird pattern
[15:59:59] *** Joins: pnkfelix (pnkfelix@moz-34F68D24.public.wayport.net)
[15:59:59] *** ChanServ sets mode: +o pnkfelix
[16:00:01] <Luqman> it's not even really a pattern :P
[16:00:10] <bstrie> Luqman: do we allow `let (a, mut ~b) = foo();` ?
[16:00:31] <Luqman> right now? no
[16:00:34] <bstrie> Luqman: well it's a pattern, just not of our pattern grammar
[16:00:40] <bstrie> do we want to allow it there?
[16:01:06] *** Joins: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[16:01:25] *** Quits: pyrac (pyrac@moz-E2FF17D7.w109-214.abo.wanadoo.fr) (Quit: pyrac)
[16:01:32] <Luqman> bstrie: i don't think so
[16:01:50] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[16:01:54] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[16:01:57] *** Joins: lmandel (lmandel@125EF623.B2666F0E.66399531.IP)
[16:02:52] *** Joins: edorian (Mibbit@moz-1B4E52B2.dynamic.qsc.de)
[16:04:22] <erickt> dbaupp: thanks for the mustache patch :)
[16:04:41] <erickt> dbaupp: oh and the zmq patch too
[16:04:44] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[16:04:49] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[16:05:06] <bstrie> erickt: bite the bullet and just rename it to "rustache"
[16:05:08] *** Joins: ozten (ozten@moz-DD3B00B4.hsd1.wa.comcast.net)
[16:05:17] <bstrie> rust ache
[16:05:26] <erickt> that path leads to madness
[16:05:32] <bstrie> "rustash"
[16:05:36] <bstrie> phonetic spelling
[16:05:48] <cmr> stacherator
[16:05:58] <erickt> I think there's a medicated cream that treats rust ache
[16:06:12] *** Joins: Rincewind (Mibbit@moz-4B6F821B.adsl.inetia.pl)
[16:06:17] <Scriptor> you should call it tetanus
[16:06:24] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[16:06:25] <cmr> hah!
[16:06:39] <lkuper> there's a long tradition of "tetanus" for rust projects
[16:06:39] <cmr> that'd be a good name for some sort of injection library.
[16:06:54] <Scriptor> ah, figures
[16:06:54] *** Quits: Rincewind (Mibbit@moz-4B6F821B.adsl.inetia.pl) (Quit: http://www.mibbit.com ajax IRC Client)
[16:07:36] *** Quits: martndemus (martndemus@moz-E30F5776.adsl.xs4all.nl) (Ping timeout)
[16:07:37] <lkuper> or rust-related projects, e.g., https://github.com/paulstansifer/tetanus
[16:07:54] *** Joins: FreeFull (freefull@645AD8C8.5FE644CF.4A75C8A1.IP)
[16:08:07] <edorian> Is the following normal?  I have a test in "c.rs" which is included in "a.rs" and "b.rs". But "a.rs" also includes "b.rs". Then the testrunner created by"rustc a.rs --test" runs my test twice.
[16:08:39] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[16:08:40] <cmr> edorian: do you have `mod c` twice?
[16:08:42] * bstrie doesn't understand how modules work right now
[16:08:50] <bstrie> I don't even want to know
[16:08:50] *** Quits: lfox (lfox@moz-343B6F0C.nyc.biz.rr.com) (Quit: ZZZzzzâ€¦)
[16:09:00] <bstrie> just give me a single 100,000-line file
[16:09:10] <edorian> cmr: onece in "a.rs" and onece in "b.rs"
[16:09:20] <edorian> cmr: soo.. yes
[16:09:28] <erickt> does anyone know if rustpkg can pull in dependencies yet? I need to update my rust-mongrel2 package, which depends on zmq being around
[16:09:41] <cmr> edorian: That will include c.rs twice in the module tree, and they're entirely different copies of c.rs.
[16:09:43] <erickt> err, *rust-zmq being around
[16:09:50] <cmr> edorian: I suggest reading the module section of the tutorial.
[16:10:10] <cmr> erickt: should be able to
[16:10:11] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[16:10:13] <edorian> cmr: ok, thanks
[16:10:20] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[16:10:41] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[16:10:50] *** Quits: nrc (nrc@DA4ABEAF.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[16:11:02] <cmr> edorian: So yes, that is normal, but it's because you're doing it wrong ;)
[16:11:14] *** ksf__ is now known as ksf
[16:11:18] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[16:11:38] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[16:11:39] <ksf> extra::digest::Digest should be Reader + Writer + FooBar
[16:13:03] <ksf> .oO( the rust module system needs a Ph.D. to see the point of )
[16:13:24] <cmr> ksf: why?
[16:13:32] <cmr> also what *is* the point of it? :p
[16:14:22] * ksf would just have gone with haskell modules + inner modules a la java
[16:14:47] *** Quits: crembo (crembo@moz-C2B364AA.vc.shawcable.net) (Client exited)
[16:14:51] <ksf> and fix the path lookup thing to also look for foo::bar::baz in foo::bar/baz.rs
[16:14:52] <erickt> cmr: do you know of any project thats using rustpkg for dependencies?
[16:14:59] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[16:14:59] <bstrie> erickt: servo, perhaps?
[16:15:11] *** zz_kimundi is now known as kimundi
[16:15:27] <erickt> bstrie: thanks
[16:15:49] <ksf> this "a file is an anonymous mod{ ... } block" thing is highly suspect in my eyes.
[16:16:00] *** Quits: pnkfelix (pnkfelix@moz-34F68D24.public.wayport.net) (Ping timeout)
[16:16:04] <cmr> erickt: I don't know of any besides servo atm
[16:16:17] *** Joins: pnkfelix (pnkfelix@moz-34F68D24.public.wayport.net)
[16:16:17] *** ChanServ sets mode: +o pnkfelix
[16:16:21] <cmr> ksf: a file isn't an anonymous mod {...} block until you say `mod foo;` to include i
[16:16:23] <cmr> t
[16:16:49] *** Quits: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com) (Ping timeout)
[16:16:54] *** Joins: nrc (nrc@DA4ABEAF.1DE10CA8.D8E68FF6.IP)
[16:17:00] <cmr> And that doesn't touch the file, it's how it's included.
[16:17:39] <ksf> I still suspect the design of the module system involved looking at every module system in existence and doing something that no other system does.
[16:20:42] *** Quits: nrc (nrc@DA4ABEAF.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[16:22:33] <kimundi> ksf: The secret of the module system in regards to files is that files are not relevant for the logical module hierachy itself
[16:23:21] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[16:23:26] <kimundi> You can rewrite every rust crate into one big main.rs file, and you wouldn't need any non-mod related line of code
[16:24:46] <edorian> Is there something like include-guards in c++ to avoid mod the same file in a bigger project? 
[16:24:56] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[16:25:10] <kimundi> edorian: We need a lint for that, but in gneral, just don't do it
[16:25:27] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[16:25:27] <cmr> edorian: no, but there's also no problem with it since the file doesn't define the namespace it goes into.
[16:25:56] <kimundi> It's still confusing and not want you want, though. It duplicates all the definitions
[16:26:06] <kimundi> And they can not be used interchangably
[16:26:30] <edorian> ok, thanks :)
[16:27:17] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[16:27:36] *** Quits: pnkfelix (pnkfelix@moz-34F68D24.public.wayport.net) (Ping timeout)
[16:27:54] *** Joins: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP)
[16:30:24] *** Joins: pnkfelix (pnkfelix@moz-34F68D24.public.wayport.net)
[16:30:24] *** ChanServ sets mode: +o pnkfelix
[16:32:40] *** Joins: Cromulent (Cromulent@moz-983B638D.cable.virginmedia.com)
[16:32:52] *** Quits: Ms2ger (Ms2ger@B7B2FF50.C60A97A6.F9FB0584.IP) (Ping timeout)
[16:33:58] <kimundi> bstrie / Luqman: `let (a, ~mut b) = foo(); should work in the future though
[16:34:32] <kimundi> just like `let (a, ~ref b) = foo();` and `let (a, ~ref mut b) = foo();` today
[16:34:35] *** Joins: lfox (lfox@moz-343B6F0C.nyc.biz.rr.com)
[16:35:22] *** Quits: dissimile (dissimile@moz-F3007ED4.static.as13285.net) (Quit: Either I put my laptop to sleep or my battery died)
[16:36:11] <Luqman> kimundi: yep, that i got working
[16:36:20] <kimundi> great! :)
[16:36:28] *** Joins: pyrac (pyrac@moz-E2FF17D7.w109-214.abo.wanadoo.fr)
[16:37:36] <kimundi> rusti: let ref x = 5u; *x
[16:37:37] -rusti- 5u
[16:37:55] <kimundi> rusti: let ~ref x = ~5u; *x
[16:37:55] -rusti- 5u
[16:38:01] <kimundi> rusti: let ~(ref x) = ~5u; *x
[16:38:03] *** Quits: malvarez (malvarez@5E36B4FF.E5444AFD.FD1591F7.IP) (Quit: )
[16:38:12] -rusti- pastebinned 6 lines of output: http://ix.io/8FH
[16:38:44] *** Quits: vk (chatzilla@3E9D68F2.B1163E0C.2A6693DD.IP) (Client exited)
[16:38:46] <kimundi> hmm... I have a feeling that that ought to work
[16:39:54] *** Quits: rveach (kvirc@E86DF00.F81DF239.C69D10BF.IP) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[16:40:27] *** Quits: heftig (heftig@moz-E8E2034C.inf.fh-bonn-rhein-sieg.de) (Quit: Quitting)
[16:40:55] *** Joins: malvarez (kvirc@5E36B4FF.E5444AFD.FD1591F7.IP)
[16:41:08] <cmr> That's a tuple pattern. You don't have a tuple.
[16:41:32] <cmr> Probably a bug that it expects a , though
[16:41:45] <kimundi> That's not a tuple :P
[16:41:54] <cmr> ~() certainly is
[16:42:09] <kimundi> rusti: let ~(ref x,) = ~(5u,); *x
[16:42:10] -rusti- 5u
[16:42:16] <kimundi> That is a tuple!
[16:42:19] <ksf> ~400 total loc, 1.5s compile time and I'm wishing for incremental builds.
[16:42:19] <kimundi> ;)
[16:42:54] <kimundi> cmr: In an expression, (EXPR) is a noop, it could be in a pattern too
[16:42:57] <cmr> ksf: if it's any consolation, build times used to be worse :)
[16:43:06] *** Quits: johns (johns@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[16:43:12] *** Joins: johns (johns@moz-BBE3ABD.mv.mozilla.com)
[16:43:14] <FreeFull> rusti: let (x,_) = x; x
[16:43:17] -rusti- pastebinned 7 lines of output: http://ix.io/8FJ
[16:43:18] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[16:43:34] <XMunkki> been thinking it would be nice if the compiler was a service rather than a one off program.. in that it would stay resident and keep the last compiled state and do stuff incrementally from there..
[16:43:51] <cmr> XMunkki: not possible the way rustc is designed right now.
[16:43:53] <XMunkki> would add a lot of complexity into the compiler though :(
[16:43:55] <cmr> But that would be very nice.
[16:44:01] *** Joins: tefter (tefter@B5D119DC.B856A0A1.73804765.IP)
[16:44:12] <eddyb> XMunkki: nah that's doable using debuginfo in the previous output
[16:44:15] <ksf> making it parallel and making it incremental are two tasks that should largely overlap, though.
[16:44:16] <kimundi> XMunkki: That's called a REPL ;). We scraped our last week because it didn't work properly+
[16:44:39] <XMunkki> yeah.. I think it would basically require tracking complete possible dependency sets between every element
[16:44:45] <eddyb> XMunkki: a service wouldn't scale for keeping track of states
[16:45:12] *** Joins: vk (chatzilla@3E9D68F2.B1163E0C.2A6693DD.IP)
[16:45:30] <eddyb> I have an idea, but I can't come up with a provable design on my own
[16:45:59] <ksf> write something like shake in rust and then squeeze the compiler into it?
[16:46:02] *** Quits: jgilbert (jgilbert@DA4ABEAF.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[16:46:30] <XMunkki> but yeah, I guess the overall problem is iteration times.. working currently with a medium-to-big c++ codebase and while it's not as bad as it could be, it still takes a long time to see even the smallest change..
[16:46:37] *** Quits: pnkfelix (pnkfelix@moz-34F68D24.public.wayport.net) (Ping timeout)
[16:46:41] <ksf> http://hackage.haskell.org/package/shake-0.10.8
[16:47:08] *** Joins: josh (josh@moz-E500C116.mpls.qwest.net)
[16:47:11] <XMunkki> so if rust could keep the compile times low, that would rock :) but I guess that's important to everyone
[16:47:26] <eddyb> ksf: wouldn't work, I don't think
[16:47:58] <ksf> if it's a dag, even with generated dependencies, a shake-like system will work.
[16:48:17] <ksf> the only other comparable build system in terms of capability is ninja.
[16:48:21] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[16:48:33] <eddyb> -like. dependencies are complicated in Rust
[16:49:04] <strcat> we need support for static linking and whole program optimization for crates, so you can break up a program into 100 crates without ending up with 100 dynamic libraries
[16:49:04] *** Joins: ambimorph (amber@moz-F1964F26.hlrn.qwest.net)
[16:49:18] <strcat> and without sacrificing release build performance
[16:49:44] <strcat> I don't think we need any hacks, just that
[16:49:45] <ksf> I thought cross-crate optimisation is already done? read somethnig somewhere about it
[16:49:48] <strcat> no, it's not
[16:49:49] <FreeFull> A good REPL significantly changes the way you develop
[16:49:56] <XMunkki> does --emit-llvm for each crate and then doing an llvm bc combine for those work?
[16:50:06] <strcat> XMunkki: no
[16:50:12] <strcat> there's nowhere for the crate to read metadata from
[16:50:16] <strcat> crate == dynamic library, atm
[16:50:19] <strcat> no other way to use them
[16:50:36] <strcat> so, they're unusable for freestanding use cases
[16:50:39] <eddyb> you don't really want a build system, you want a change tracker with minimal propagation
[16:50:48] <XMunkki> right..
[16:50:57] <eddyb> at the file level, almost everything depends on everything
[16:51:15] *** Joins: pnkfelix (pnkfelix@moz-34F68D24.public.wayport.net)
[16:51:15] *** ChanServ sets mode: +o pnkfelix
[16:51:19] <strcat> almost everything widely used in libstd is a) generic or b) marked for cross-crate inlining
[16:51:41] <strcat> if we had cross-crate LTO, we wouldn't need all that overuse of inlining annotations
[16:51:58] <eddyb> hmpf, what about cross-module LTO?
[16:52:11] <ksf> that's the reason for crates in the first place
[16:52:16] <strcat> eddyb: modules aren't a compilation unit
[16:52:22] <XMunkki> yeah and statically linked executables would be easier to port to other platforms as well (most likely)
[16:52:24] <eddyb> what if they were?
[16:52:27] <strcat> eddyb: they can't be
[16:52:29] <eddyb> a quite earlier one
[16:52:30] <cmr> eddyb: that'd entirely break Rust
[16:52:46] <eddyb> higher level than an object file or even bc
[16:52:47] <strcat> eddyb: extern mod -> compilation unit, mod -> part of the same thing - it's just what they mean
[16:52:59] <strcat> eddyb: if you want a compilation unit, you want extern mod
[16:53:30] <strcat> we just don't happen to have either static linking or whole program optimization yet, so you're stuck with 2000 dynamic libraries and manually trying to do the job of a compiler with #[inline]
[16:53:44] * strcat shrugs
[16:53:54] <strcat> it's pretty clear to me that we just need to fix crates so that they can be used heavily
[16:54:01] <eddyb> I mean, break up generated code into modules, but only for the sake of minimalizing the change propagation
[16:54:30] <strcat> if you're talking about total build time, building a massive crate is faster than building 5 and turning them into 1
[16:54:46] <strcat> splitting it up slows down total build time (not very significantly, in most cases), but it means you can do incremental builds
[16:55:07] <ksf> strcat, what about paralellising the compiler, though?
[16:55:17] <strcat> ksf: doesn't require changes to rustc
[16:55:27] <strcat> intel implemented parallel function passes
[16:55:32] <ksf> if done correctly it involves all that dependency stuff already, which at that point only needs to be serialised somewhere.
[16:55:39] *** Quits: arodier74 (Thunderbir@moz-25EB015.in-addr.btopenworld.com) (Quit: arodier74)
[16:55:48] <strcat> ksf: we don't do any dep handling between modules
[16:56:00] <strcat> crate == compilation unit
[16:56:11] <cmr> It'd be nice if our analysis passes were parallel, but that'd be a huge project.
[16:56:13] <strcat> modules are code organization - a module may be a crate, but it doesn't have to be
[16:56:20] <strcat> cmr: it's done
[16:56:30] <strcat> intel implemented parallel function passes
[16:56:38] <cmr> Not LLVM, in rustc.
[16:56:38] <strcat> 90% of rust's build time is spent in LLVM optimizations
[16:56:46] *** Quits: pnkfelix (pnkfelix@moz-34F68D24.public.wayport.net) (Ping timeout)
[16:57:13] * ksf can't believe that. not at 1.5s for 400loc at -O0
[16:57:20] *** Joins: pnkfelix (pnkfelix@moz-34F68D24.public.wayport.net)
[16:57:20] *** ChanServ sets mode: +o pnkfelix
[16:57:30] <cmr> ksf: -Z time-passes
[16:57:32] <eddyb> strcat: I was thinking of something arcane. like one bc output, and it would be "edited" instead of completely rebuilt. splitting into modules makes it easier to deal with
[16:57:35] <cmr> ksf: look for yourself :)
[16:57:44] <strcat> eddyb: modules just aren't compilation units
[16:57:46] *** Quits: skade (skade@30BBD5E6.505237C9.CAE22B62.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[16:57:48] <strcat> it's not going to change
[16:57:52] <strcat> extern mod is a compilation unit
[16:57:58] <strcat> that's the difference between mod and extern mod
[16:58:00] <eddyb> not compilation units
[16:58:01] <ksf> 0.653 in llvm
[16:58:16] <strcat> for optimized builds*
[16:58:18] <ksf> translation, then tc are the second biggest.
[16:58:28] <strcat> optimization passes aren't run at -O-
[16:58:30] <eddyb> dependency units
[16:58:30] <strcat> -O0
[16:58:40] <eddyb> strcat: like hashmap buckets
[16:58:52] <strcat> ok, but parallel building in LLVM doesn't require us to do anything
[16:59:13] <ksf> for an unoptimised build, that's *a lot* of time spent in llvm
[16:59:16] <strcat> if we split stuff up, it's going to a) increase total build time and b) slow down the code
[16:59:23] *** Joins: martndemus (martndemus@moz-876695FC.sshunet.nl)
[16:59:35] <ksf> I don't care if it's slower in total if it can be incremental.
[16:59:43] <strcat> not talking about crates
[16:59:45] <strcat> responding to eddyb 
[16:59:59] <strcat> ksf: the rust build itself will never be incremental
[17:00:05] <strcat> by virtue of being a self-hosting compiler
[17:00:11] <eddyb> strcat: not completely split. just the output
[17:00:11] <strcat> only the stage0 part can be incremental
[17:00:25] <ksf> I'm talking about my own code
[17:00:37] <eddyb> like, take functions and put them in different files
[17:00:41] *** Quits: canhtak (jeremy@moz-1684132F.wl.t.ulaval.ca) (Quit: canhtak)
[17:00:42] <ksf> ...and my edit-compile-test cycle.
[17:00:54] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[17:01:05] *** Joins: strcat1 (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[17:01:17] <strcat1> ksf: split it into as many compilation units as you want
[17:01:20] <strcat1> just use extern mod instead of mod
[17:01:25] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[17:01:32] <strcat1> it will enforce that they have tree-like dependencies
[17:01:38] <strcat1> rather than allowing interdependencies like mod
[17:01:50] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (NickServ (GHOST command used by strcat1))
[17:01:53] <ksf> hmmm. what about using llvm's bytecode interpreter for development builds?
[17:01:53] *** strcat1 is now known as strcat
[17:01:54] *** Quits: pyrac (pyrac@moz-E2FF17D7.w109-214.abo.wanadoo.fr) (Ping timeout)
[17:01:54] *** Joins: Blub\w (wry@moz-3E6A3207.wireless.dyn.drei.com)
[17:02:14] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[17:02:28] *** Quits: pnkfelix (pnkfelix@moz-34F68D24.public.wayport.net) (Ping timeout)
[17:02:51] <eddyb> strcat: my idea is crazier than it sounds :P
[17:02:54] *** Joins: pyrac (pyrac@moz-E2FF17D7.w109-214.abo.wanadoo.fr)
[17:02:56] *** Joins: pnkfelix (pnkfelix@moz-34F68D24.public.wayport.net)
[17:02:56] *** ChanServ sets mode: +o pnkfelix
[17:03:33] <eddyb> strcat: and it's hard to formulate as I cannot hold the entire rust and llvm in my head at the moment
[17:03:48] <strcat> there's no need for splitting into compilation units beyond what crates offer
[17:04:01] <strcat> we do need crates to actually provide more than dynamic linking
[17:04:27] <strcat> shipping a library as an incredibly slow set of 100 shared objects isn't okay ;p
[17:04:28] <eddyb> I don't think you want to split libstd or rustc in a million crates
[17:04:32] <strcat> why not?
[17:04:44] <kimundi> Where's rusti?
[17:04:50] *** Quits: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Ping timeout)
[17:04:53] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[17:04:57] <eddyb> strcat: there should be a better, fancier solution to this
[17:04:59] <strcat> kimundi: my internet is cutting off
[17:05:05] <kimundi> ah, okay
[17:05:27] <strcat> eddyb: the best solution is to just use separate compilation units that can be a) statically linked (default), b) dynamically linked, c) compiled with whole program optimization
[17:05:29] <eddyb> hmm, there's a chance LLVM metadata could hold everything that is required for this
[17:05:50] <strcat> a 'crate' is rust's compilation unit and is just pissing 2 important pieces of that puzzle
[17:05:58] *** Quits: Ralith (ralith@moz-132F2FD4.sea.wa.customer.broadstripe.net) (Ping timeout)
[17:06:04] <eddyb> *piecing?
[17:06:09] <eddyb> ah, missing
[17:06:12] <strcat> er
[17:06:15] <strcat> missing, yeah ;p
[17:06:32] <eddyb> what I'm pissing is based on what I've seen
[17:06:48] <XMunkki> can't llvm metadata contain basically "anything"? like if nothing else, just do a base64 encoding of the whole data :D
[17:06:56] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[17:06:56] *** ChanServ sets mode: +ao brson brson
[17:06:57] <strcat> we don't need to do anything magical
[17:06:58] <strcat> really
[17:07:09] <ksf> oh, while we're at it, a -M flag would be great.
[17:07:09] <strcat> crates need to support static linking and LTO in addition to dynamic linking
[17:07:09] *** Quits: jdm (jdm@87C1F78E.1DE10CA8.D8E68FF6.IP) (Quit: Lost terminal)
[17:07:37] <strcat> we don't need to redesign the module/crate system, just need to finish implementing what we have so it's actually usable for splitting up compilation units
[17:07:49] <XMunkki> yeah I probably wouldn't even use dynamic linking if I had those
[17:07:53] *** Quits: jordyd (jordyd@moz-151B7FEA.seg37.ucf.edu) (Ping timeout)
[17:07:53] *** Quits: Ferreus (ferreus@moz-37536AD3.dip0.t-ipconnect.de) (Ping timeout)
[17:08:31] *** Quits: bent (chatzilla@DA4ABEAF.1DE10CA8.D8E68FF6.IP) (Quit: ChatZilla 0.9.90.1-rdmsoft [XULRunner 22.0/20130619132145])
[17:08:33] <strcat> atm it's pretty close to useless since no one wants 1000 shared objects, and most people who are using rust *do* care about performance so LTO for a release build is important (rust relies a lot of inlining, due to the safety/generic abstraction layers everywhere)
[17:08:37] *** Joins: riley (riley@8BA43816.9AA11D69.65DDFA89.IP)
[17:09:01] * strcat shrugs
[17:09:22] <eddyb> I change the code in one function, and outside of that function, nothing is affected. if I were to do a bindiff on the binary, only that function's code would be changed. trans could totally output only the changed function *in that case*
[17:09:30] <strcat> rustc needs to be taught to read metadata from a .a/.o or .bc/.ll file
[17:09:49] <strcat> eddyb: if you weren't even doing module-level optimizations
[17:09:55] <strcat> just function passes
[17:10:09] *** Quits: pnkfelix (pnkfelix@moz-34F68D24.public.wayport.net) (Ping timeout)
[17:10:24] <eddyb> without generics and any inlining (and maybe with other optimizations disabled), this isn't that hard to do
[17:10:34] <cmr> Ok, but without inlining and generics, rust is useless.
[17:11:00] <strcat> rust uses far more abstraction than C and is entirely dependent on cross-module optimizations
[17:11:12] <eddyb> just dependency tracking and the "splitting modules into bc files" would work well
[17:11:18] <eddyb> cmr, strcat: I know :)
[17:11:21] <strcat> it will be incredibly slow if you don't have that - nowhere close to the 10-15% slower than C area
[17:11:25] <ksf> for development builds even interpreted code would be acceptable, not to mention non-inlined.
[17:11:34] <strcat> I think if you have something like a game, you're going to have to optimize your debug builds
[17:11:57] <ksf> strcat, not the crate you're working on, though :)
[17:12:04] <eddyb> this is the hard part: making proper dependency tracking work *with* optimizations
[17:12:12] <strcat> eddyb: you can't
[17:12:23] <eddyb> but what if it would be possible?
[17:12:23] <strcat> LLVM optimizations don't work in a way that maps to dependencies
[17:12:26] <strcat> eddyb: it isn't
[17:12:40] <strcat> they don't optimize 'bar' solely based on the tree of stuff it calls
[17:12:57] <eddyb> can't LLVM tell me all its secrets what it looked at to optimize something?
[17:13:02] <strcat> no
[17:13:09] <eddyb> but it could :D
[17:13:12] *** flaper87 is now known as flaper87|afk
[17:13:19] <strcat> eddyb: no, that's not how the optimizations are done
[17:13:27] <ksf> well, but if it *could* see that no dependencies of bar changed it could choose to use a cached optimisation result.
[17:13:31] <strcat> there are lots of interprocedural optimizations and they take the whole program into consideration
[17:13:39] <ksf> that's blue sky thinking, now.
[17:13:40] <strcat> ksf: sure, but that's not how LLVM is designed
[17:14:04] <strcat> if you don't want to use LLVM, you can feel free to design another optimizing compiler with build speed prioritized over optimization quality
[17:14:07] <eddyb> ksf: me, every time, all the time
[17:14:32] *** Joins: vmx (vmx@8155E38.294C4FB6.EBB03D7A.IP)
[17:14:45] <strcat> they aren't going to accept patches changing stuff like that, the current model works fine and plenty of other LLVM languages don't have slow compiles
[17:14:45] *** Joins: yoshi (Mibbit@moz-CD177C2A.dip0.t-ipconnect.de)
[17:14:52] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[17:15:06] <strcat> C compiles very fast if you're using clang's module support
[17:15:07] <eddyb> strcat: I'm still pretty sure it's possible, but it might not be worth it (i.e. it could put a heavy weight on top of every optimization pass)
[17:15:09] <ksf> in e.g. the ghc case because ghc spends most of its time optimising stuff on its own.
[17:15:12] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[17:15:31] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[17:15:31] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Connection reset by peer)
[17:15:40] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Client exited)
[17:15:51] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[17:16:01] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[17:16:16] <strcat> eddyb: if it's an LLVM level change, it's not in rust's domain
[17:16:46] <ksf> that is, ghc/llvm builds aren't perceptably slower than ghc/gcc or ghc/native builds because the backend is doing little more than straight code generation.
[17:17:12] <eddyb> hmpf. well, it was just an idea...
[17:17:15] <strcat> rust just needs to support what C via clang supports - fast, incremental builds without giving up the possibility to do thorough whole program optimization when you want it
[17:17:34] <strcat> LLVM-level changes aren't needed, clang is *incredibly* fast at compiling C
[17:19:21] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[17:19:26] <eddyb> strcat: I could probably make better use of my time by contributing to rust-core and rustic
[17:19:37] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[17:21:18] <eddyb> strcat: did I mention I spent about two years trying to break (almost) all hash functions and asymmetric ciphers (the ones that use bitwise magic instead of actual math)?
[17:21:36] <strcat> heh
[17:21:38] <eddyb> strcat: the answer is: I don't fucking know. NP=P? no idea
[17:21:52] <strcat> ksf: I really want the default to be turning crates -> object file, and have the standard way to lay out a project be a whole bunch of crates
[17:22:12] <ksf> eclipse. 
[17:22:15] * ksf just remembered
[17:22:24] <eddyb> strcat: can it be done for rustc/libstd code without really changing its structure?
[17:22:32] <bstrie> ksf: yeah I saw it last friday, it wasn't very impressive
[17:22:34] <benh> strcat: instead of "crates -> dynamic libs"?
[17:22:43] <benh> (just wondering if i'm parsing you correctly)
[17:22:47] <strcat> benh: instead of crate == dynamic lib, yes
[17:22:49] <ksf> eclipse is what you want to look at when you want truly incremental builds, ecj is able to incrementally compile based on diffs.
[17:22:52] <eddyb> strcat: I mean, now that I think of it, you can split rustc into middle and front
[17:23:09] <strcat> benh: and we would also need to support compiling to LLVM bytecode to support LTO
[17:23:14] <strcat> but the default would just be static linking
[17:23:25] <bstrie> eddyb: libsyntax is ostensibly our front
[17:23:28] <bstrie> iirc
[17:23:37] <strcat> librustc still has layers
[17:23:39] *** Joins: mikezaby (mikezaby@moz-908EA8DE.home.otenet.gr)
[17:23:40] <bstrie> right
[17:23:41] <eddyb> bstrie: front uses libsyntax
[17:23:44] <bstrie> it's not the best division
[17:23:46] *** Parts: riley (riley@8BA43816.9AA11D69.65DDFA89.IP) (Leaving...)
[17:23:48] <ksf> OTOH, java is probably the language that's easiest to compile of them all.
[17:23:50] *** Joins: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP)
[17:24:16] <eddyb> java is also dumb
[17:24:22] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Client exited)
[17:24:23] <ksf> that, too.
[17:24:48] *** Quits: alonlevy (alon@moz-B0E66DB7.static.bezeqint.net) (Ping timeout)
[17:25:08] <strcat> a lot of the compilation speed issues are just from the library code being written in a way that leads to really slow compiles
[17:25:15] <strcat> like what boost does to C++
[17:25:48] <strcat> codegen is a lot better now, but the stdlib isn't (in terms of compile speed)
[17:26:41] <ksf> c/c++ is a whole another level of compilation time fuckup due to header reparsing.
[17:26:50] <strcat> ksf: clang has modules
[17:26:59] <ksf> not for c++ :(
[17:27:07] <strcat> it does, they just don't fully work ;p
[17:27:09] <cmr> yes for c++
[17:27:11] <ksf> you can precompile headers, though.
[17:27:29] <strcat> you can also export template instantiations from object files
[17:27:45] <strcat> so you can precompile the commonly used ones in a project
[17:27:52] <strcat> (thanks, C++11)
[17:27:55] <strcat> rust is missing that
[17:28:01] <benh> I thought c/c++ compilers had been smart enough to understand include guards and avoid reparsing them more than once or so?
[17:28:13] <strcat> although since we're forced to mark almost everything #[inline] for sane perf, it wouldn't help without fixing crates firt ;p
[17:28:18] <strcat> first*
[17:28:23] <strcat> benh: they are
[17:28:35] <cmr> benh: you're still adding a few million lines of headers if you're using the STL
[17:28:37] <strcat> gcc/clang/icc are, at least
[17:28:41] <strcat> cmr: not really
[17:28:48] <strcat> the C++ stdlib isn't very big
[17:28:56] <eddyb> strcat: what's with #[inline]?
[17:29:09] <eddyb> strcat: what's the default without it? it confuses me a bit
[17:29:11] <strcat> eddyb: crate == dynamic lib atm... so
[17:29:15] <bstrie> strcat: you wrote std::hashmap and all the methods, right?
[17:29:21] <strcat> eddyb: #[inline] means no symbol is output *in that crate*
[17:29:41] <strcat> eddyb: instead, every crate using the function deserializes the AST and recompiles it
[17:29:43] <benh> couldn't we, like, just output it
[17:29:46] <eddyb> strcat: oooh, so it's required for "user-side" codegen?
[17:29:57] <strcat> eddyb: it's required to work around not having cross-crate LTO
[17:30:02] <bstrie> eddyb: #[inline] allows cross-crate inlining
[17:30:04] <eddyb> wait, rust serializes AST?
[17:30:09] <strcat> you have to figure out every single function LLVM would want to inline and use #[inline]
[17:30:11] <bstrie> llvm will inline whatever it wants intra-crate
[17:30:14] <strcat> eddyb: when you're using crates, yes
[17:30:23] <strcat> rust-core prevents usage of crates due to the way it's laid out atm
[17:30:37] <strcat> until crates are fixed, it's forced to do that
[17:31:16] <cmr> Yeah, I don't know where I got the "few million" number.
[17:31:27] <cmr> It's only a few dozen thousand :p
[17:31:40] <strcat> cmr: libc++ is also a lot smaller
[17:32:40] <bstrie> question about the insert_or_update_with method on hashmaps
[17:32:57] <bstrie> it takes a closure, which takes a key and value
[17:33:05] <bstrie> but the method itself knows the key
[17:33:11] <strcat> cmr: 100k lines, but a lot of whitespace/comments
[17:33:16] <bstrie> so why does it need to be in the closure as well?
[17:33:30] <bstrie> when we can just close over the key
[17:33:30] <strcat> bstrie: it doesn't really
[17:33:37] *** Joins: happy4crazy (happy4craz@87D98E32.4046EB22.428F94DD.IP)
[17:33:38] <strcat> hashmap has a bunch of convoluted methods now ;\
[17:33:57] <bstrie> well insert_or_update_with is essential to get around the borrow checker
[17:34:04] <eddyb> strcat: is there any easy/fast way I can find the times it takes for each level/pass during the compilation of rustc or libstd?
[17:34:13] *** Quits: happy4crazy (happy4craz@87D98E32.4046EB22.428F94DD.IP) (Client exited)
[17:34:13] <cmr> eddyb: rustc -Z time-passes
[17:34:15] *** Joins: happy4crazy (happy4craz@87D98E32.4046EB22.428F94DD.IP)
[17:34:18] *** Quits: happy4crazy (happy4craz@87D98E32.4046EB22.428F94DD.IP) (Client exited)
[17:34:21] <strcat> you can also time the LLVM passes
[17:34:21] *** Joins: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP)
[17:34:30] <strcat> -Z time-llvm-passes
[17:34:33] <cmr> eddyb: http://huonw.github.io/isrustfastyet/mem/ will show them if you check the "passes" box
[17:34:42] <eddyb> cmr: sweet, that's what I wanted :D
[17:34:59] *** Joins: happy4crazy (happy4craz@87D98E32.4046EB22.428F94DD.IP)
[17:35:22] *** Quits: nwmcsween (nwmcsween@E0025B86.51EE1362.3655BBF5.IP) (Ping timeout)
[17:35:23] <eddyb> what if you could do my idea *before* some LLVM optimization passes, and it would work kinda like LTO... but first let me check times :D
[17:36:06] <strcat> eddyb: function passes run first, optimizing at a function level
[17:36:12] <strcat> and then interprocedural stuff is done
[17:36:20] <strcat> the function pass part can be done in parallel
[17:36:39] <cmr> Did that intel patch land? Do we just need to update our LLVM?
[17:36:53] *** Quits: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl) (Connection reset by peer)
[17:36:57] <eddyb> strcat: and maybe restricted to a conservative estimate of change propagation :P?
[17:37:02] <strcat> cmr: dunno if it landed
[17:37:07] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[17:37:10] <strcat> not really important if it has yet, because it will land
[17:37:15] <strcat> eddyb: no
[17:37:24] *** Joins: nano (nano@moz-74CAD1CA.superkabel.de)
[17:37:35] <strcat> function passes and module passes are the two levels - you're proposing using a different backend if you want something else
[17:38:06] <strcat> (LTO is sort of but barely another level, since it's just a module pass again after reading in semi-optimized bytecode)
[17:38:23] *** Quits: CarpNet (ac@moz-FD24B77.sohonet.co.uk) (Quit: Leaving)
[17:38:54] *** Quits: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl) (Connection reset by peer)
[17:39:00] <eddyb> hmm, "is rust fast yet" doesn't expand the LLVM passes :/
[17:39:07] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[17:39:23] <Luqman> cmr: what intel patch?
[17:40:05] <cmr> eddyb: we don't track them because LLVM doesn't give us "offset from the start", it gives duration.
[17:40:14] <cmr> Luqman: parallel function optimization
[17:40:36] *** Joins: Axord (xord@moz-1B228827.lsanca.dsl-w.verizon.net)
[17:41:52] *** Quits: ksf (ksf@moz-5B242B54.adsl.alicedsl.de) (Quit: Leaving)
[17:42:28] *** Quits: Axord (xord@moz-1B228827.lsanca.dsl-w.verizon.net) (Ping timeout)
[17:43:10] * strcat is amused by the loop-rerolling pass patches
[17:43:49] <cmr> heh
[17:43:52] <eddyb> well, looking at that graph makes me think that we could still translate everything in rustc, and if we had a way of having LLVM deal with only a relatively small amount of code, the results would be impressive anyway
[17:43:56] <strcat> they taught LLVM to undo manual loop unrolling
[17:43:58] *** Joins: geoffhill (geoffhill@moz-244CF33A.amazon.com)
[17:44:01] <bstrie> haha
[17:44:14] <strcat> so it can be redone in a better way + with vectorization support
[17:44:29] <eddyb> that's what I was thinking, vectorization :D
[17:44:45] <strcat> the loop vectorizer is integrated with unrolling
[17:45:16] *** Joins: jordyd (jordyd@moz-C76B0232.seg103.ucf.edu)
[17:45:22] *** Joins: TeXitoi (texitoi@moz-EA958D66.texitoi.eu)
[17:45:29] <TeXitoi> hi
[17:45:57] *** Quits: bholley (anonymous@moz-F435A2D1.dip0.t-ipconnect.de) (Quit: bholley)
[17:46:20] <eddyb> imagine implementing a 2D vector type, you'd have things like (a.x + b.x, a.y + b.y). LLVM can now turn that into a loop and then into a SIMD add
[17:46:41] <TeXitoi> http://texitoi.eu/~texitoi/k-nucleotide/k-nucleotide.my.rs : can someone explain to me why I need a timelife parameter in print_seq ?
[17:46:46] *** Joins: skade (skade@moz-D8051715.pools.arcor-ip.net)
[17:46:57] <eddyb> *lifetime :P
[17:47:32] <TeXitoi> eddyb: oups ;)
[17:47:39] <strcat> eddyb: well they also have SLP vectorization for that
[17:47:54] <strcat> loop rerolling is more about turning an unrolled loop that's still a loop back into a normal loop
[17:48:30] *** Joins: int3_ (int3_@122E7B1.85C3B074.CED80046.IP)
[17:48:31] <eddyb> hmm. like those weird check-4-bytes-at-a-time-strlen implementations?
[17:48:43] <strcat> yes, any manual loop unrolling
[17:48:53] *** Joins: tgummerer (tgummerer@moz-5DC8FA44.tbcn.telia.com)
[17:48:56] <strcat> just so that vectorization/unrolling can be redone better by LLVM
[17:49:08] *** Quits: martndemus (martndemus@moz-876695FC.sshunet.nl) (Ping timeout)
[17:49:12] * eddyb wonders if LLVM can do a better job at those arcane str*/mem* hacks
[17:49:22] *** Joins: martndemus (martndemus@moz-876695FC.sshunet.nl)
[17:49:33] *** Joins: SilverKey (SilverKey@moz-B589DA51.sw.biz.rr.com)
[17:49:43] *** Quits: int3_ (int3_@122E7B1.85C3B074.CED80046.IP) (Client exited)
[17:49:51] <strcat> eddyb: well, the CPU can do a better job.
[17:50:22] <strcat> modern intel CPUs have those functions implemented for *very* high performance in microcode
[17:50:29] <strcat> rep movsb, and so on
[17:50:39] *** Quits: tgummerer (tgummerer@moz-5DC8FA44.tbcn.telia.com) (Ping timeout)
[17:50:47] <eddyb> better than copying 16 bytes at a time or whatever?
[17:50:49] <strcat> it will be faster than doing it with SSE/AVX in most cases
[17:50:53] <kmc> modern meaning only Ivy Bridge and later
[17:50:57] <kmc> and there are caveats
[17:51:06] <eddyb> kmc: pffft no luck for my old i3
[17:51:16] <strcat> kmc: the linux kernel uses it even on older CPUs, it's still faster in most cases
[17:51:36] <eddyb> qemu would be pointless unless it uses some virtualization support
[17:51:38] <kmc> interesting
[17:51:43] <kmc> do you have a link about that?
[17:51:50] <strcat> kmc: yep, there's even a linus rant about it
[17:51:52] <strcat> sec
[17:52:09] <cmr> ohh a linus rant
[17:52:13] <cmr> those are always entertaining
[17:52:34] <eddyb> does it contain swearing?
[17:52:39] <bstrie> strcat: do you have a source for the loop-rerolling thing?
[17:52:55] <eddyb> (I would assume Ctrl+H :P)
[17:53:00] <Luqman> bstrie: there's a patch on the llvm mailing list
[17:53:05] <strcat> bstrie: it's just on the llvm-commits archive from last week
[17:53:45] <strcat> kmc: https://lkml.org/lkml/2011/8/12/267 here's *a* thread about it
[17:53:54] * kmc reads
[17:54:01] <strcat> not the one I was thinking of, but they reach the conclusion that they should stay with rep movsb here
[17:54:15] <strcat> there are benchmarks and bits of wisdom from kernel hackers ;p
[17:54:34] <kmc> oh well the first thing that comes up is that for the kernel to use SSE has a much higher cost because it needs to save/restore those registers
[17:54:41] <strcat> (like, if you want fast copies - align to 64-byte boundaries)
[17:54:52] <strcat> kmc: yeah, it's significant for small arrays but not so much for big ones
[17:54:55] *** Quits: busylizzy (lisa@85228838.12D0DC84.211374C4.IP) (Ping timeout)
[17:55:09] <strcat> and they still have benchmarks for the big ones showing it's not really any better
[17:55:15] *** Joins: pcwalton (pcwalton@moz-BE33DA21.fw1.sfo1.mozilla.net)
[17:55:15] *** ChanServ sets mode: +ao pcwalton pcwalton
[17:55:17] <strcat> and it's much worse for 64-byte aligned memory
[17:55:34] <kmc> interesting
[17:56:11] <strcat> I think where you get a major speed-up is when you're copying words by hand (no loop)
[17:56:27] <strcat> but they can't really use SSE/AVX for that.
[17:57:31] *** Joins: Axord (xord@moz-1B228827.lsanca.dsl-w.verizon.net)
[17:58:46] <kmc> Ivy Bridge CPUs have special optimization for REP MOVSB etc. but it's not used when the source and target buffers overlap mod 4k (even if they don't really overlap)
[17:58:53] <kmc> because they need to preserve the sequential semantics of REP MOVSB
[17:59:44] *** Quits: Axord (xord@moz-1B228827.lsanca.dsl-w.verizon.net) (Ping timeout)
[17:59:46] <strcat> ugh I screwed up the copysign intrinsic
[17:59:57] *** Joins: int3_ (int3_@122E7B1.85C3B074.CED80046.IP)
[18:00:16] *** Joins: busylizzy (lisa@85228838.12D0DC84.211374C4.IP)
[18:00:36] *** Quits: int3_ (int3_@122E7B1.85C3B074.CED80046.IP) (Client exited)
[18:00:57] *** Joins: int3_ (int3_@122E7B1.85C3B074.CED80046.IP)
[18:01:26] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[18:01:55] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[18:02:35] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[18:02:41] *** Quits: int3_ (int3_@122E7B1.85C3B074.CED80046.IP) (Ping timeout)
[18:03:44] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[18:03:46] *** Quits: robertknight (robertknig@moz-54528EE0.wby.mendeley.com) (Ping timeout)
[18:03:49] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Client exited)
[18:03:56] *** Quits: rossm (rossm@moz-EE3BB1DC.br.br.cox.net) (Quit: )
[18:04:11] *** Quits: geoffhill (geoffhill@moz-244CF33A.amazon.com) (Ping timeout)
[18:05:03] *** Joins: tgummerer (tgummerer@51D3B54.FEF996EA.EA6FEF3D.IP)
[18:06:08] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[18:07:45] *** Joins: jhenahan (jhenahan@3920B047.C9892D2F.6C361E84.IP)
[18:07:58] *** Joins: geoffhill (geoffhill@moz-244CF33A.amazon.com)
[18:11:13] *** Joins: pnkfelix (pnkfelix@moz-5A4C52C7.hfc.comcastbusiness.net)
[18:11:13] *** ChanServ sets mode: +o pnkfelix
[18:11:37] <pcwalton> lesson learned: if you want to provoke anger on Hacker News, disagree with a Turing Award winner about floating point semantics
[18:11:43] <pcwalton> on the other hand, it's my highest rated comment to date
[18:11:57] <kmc> but who was right? ;)
[18:12:03] <pcwalton> I'm pretty sure I'm right
[18:12:21] <pcwalton> it's about the way C promotes to double for all floating point arithmetic
[18:12:22] <Scriptor> what's the opposite of ad hominem
[18:12:27] <pcwalton> which I argue is weird
[18:12:27] *** Joins: rossm (rossm@moz-EE3BB1DC.br.br.cox.net)
[18:12:31] <kmc> argument from authority?
[18:12:40] <pcwalton> because, for one, it means you can't introduce temporaries without changing the semantics of the program!
[18:12:56] <pcwalton> but it's the main thing that Kahan argues for in "Why Java's Floating Point Hurts Everyone Everywhere" (which is a really obnoxious title)
[18:13:03] *** Quits: barosl (barosl@3DE683B6.E551553C.7544CABF.IP) (Quit: ëžœë¤ì€ ì‡ í‡´í–ˆìŠµë‹ˆë‹¤.)
[18:13:05] <strcat> pcwalton: it does that? I didn't know that... ;\
[18:13:09] <pcwalton> strcat: yeah!
[18:13:15] * strcat just knows about auto-promotion to int
[18:13:18] <pcwalton> it's hard to actually get C to do 32 bit floating point arithmetic :P
[18:13:21] <kmc> pcwalton: i tried to read that today but it was too rambly and timecube-esque
[18:13:26] <strcat> pcwalton: weird.
[18:13:34] *** Quits: jordyd (jordyd@moz-C76B0232.seg103.ucf.edu) (Ping timeout)
[18:13:35] <pcwalton> kmc: yeah, it's VERY hard to find his point
[18:13:39] <pcwalton> that is the main point that I can see
[18:13:39] *** Joins: ercxx (ercan@moz-7CFF3469.dyn.optonline.net)
[18:13:46] <pcwalton> he wants C's "all FP arithmetic is 64 bit"
[18:13:54] <kmc> (jumping back a sec) Linus rants can be entertaining but I also think open source needs to get to a point where his kind of behavior is no longer considered acceptable
[18:14:00] <kmc> and it makes me kinda sick that so many people still see Linus as a role model
[18:14:03] <pcwalton> and his argument is "here are a bunch of scientific calculations that go wrong if you use 32 bit arithmetic"
[18:14:07] <pcwalton> which is like...
[18:14:09] <bstrie> pcwalton: how dare you disagree with him, he won an award! an award named after someone!
[18:14:10] <pcwalton> well yeah
[18:14:17] * bstrie googles turing award
[18:14:19] <pcwalton> use 64 bit arithmetic if you need the precision :P
[18:14:42] <pcwalton> strcat: so Java fixed this to actually do arithmetic in the precision based on the type
[18:15:10] * strcat managed to screw up all the type signatures of the intrinsics he added
[18:15:14] <bstrie> pcwalton: wait... graydon was on the ieee 754 committee?
[18:15:16] <pcwalton> and William Kahan wrote a rant called "Why Java's Floating Point Hurts Everyone Everywhere" because of this :P
[18:15:17] <pcwalton> yeah, he was
[18:15:31] <strcat> sadly it's really hard to actually start using them before a snapshot
[18:15:34] <pcwalton> and I think Java was right
[18:15:38] <bstrie> wouldn't he have been like 18 at the time :P
[18:15:40] <strcat> because the number stuff is all macros and it doesn't like cfg ;s
[18:15:46] *** Quits: victorporof (victorporo@75D4E0BA.E3B14EAA.D111398B.IP) (Ping timeout)
[18:15:47] <pcwalton> bstrie: it was on one of the revised ones
[18:15:48] <kmc> bstrie: it's like when somebody posted some code ESR wrote and it was pretty bad and the commenters were like "how can you say it's bad, ESR wrote the book on how to be a hacker!"
[18:16:11] <pcwalton> anyway, I know William Kahan was right about what's most useful for scientific computing
[18:16:16] <pcwalton> they want 64 bit always
[18:16:19] <pcwalton> maximum precision
[18:16:33] *** Joins: DeTeam (DeTeam@3F8887A3.6883A39.F5F3AF2.IP)
[18:16:37] <pcwalton> but scientific computing isn't everything, for Servo I want minimum precision
[18:16:41] <strcat> pcwalton: so wouldn't they want 128-bit when it gets implemented in hardware?
[18:16:43] <pcwalton> and maximum speed
[18:16:45] <pcwalton> strcat: presumably
[18:17:01] *** Joins: obi_wan (Mibbit@moz-2CAEE807.access.hol.gr)
[18:17:06] <pcwalton> and anyway there are programming language principles here
[18:17:19] <pcwalton> and one of them is "you should be able to introduce temporaries without changing the meaning of the program"
[18:17:21] <pcwalton> which isn't true in C
[18:17:25] <bstrie> pcwalton: well I hereby present you with the Striegel Award, which is awarded annually to people with the audacity to challenge the opinions of people who have won the Turing Award
[18:17:27] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[18:17:31] <pcwalton> cool :)
[18:17:37] <bstrie> feel free to use this defense next time someone tries to argue from authority
[18:18:00] <kmc> bstrie: you should say it's "in memory of Alfred Nobel" and then the media will report it as a "Nobel Prize"
[18:18:11] <bstrie> pcwalton: note that the Striegel Award is basically the "Nobel Prize of computing", according to Wikipedia
[18:18:13] <cmr> Hah
[18:18:19] <bstrie> kmc: dammit you beat me to the joke :P
[18:19:05] <kmc> that's how the "Nobel Prize" in Economics came into being, 70 years after the rest ;P
[18:19:07] <strcat> pcwalton: so, how do you actually do 32-bit float arithmetic in C? or do you not do it?
[18:19:40] <pcwalton> strcat: the compiler optimizes 64 bit arithmetic down to 32 bit arithmetic if it can prove it won't lose information by doing so
[18:19:43] <pcwalton> for example
[18:19:43] <eddyb> oh wow that paper is so crazy
[18:19:47] *** Joins: spider-mario (spidermari@moz-2F72F6FF.dsl.quantic-telecom.net)
[18:19:56] <pcwalton> float a = ...; float b = ...; float c = a + b;
[18:19:59] *** Quits: martndemus (martndemus@moz-876695FC.sshunet.nl) (Ping timeout)
[18:19:59] <kmc> I thought single-precision fp was often not any faster than double
[18:20:04] <eddyb> not going to even attempt parsing
[18:20:04] <pcwalton> a + b is semantically 64 bit
[18:20:11] <kmc> but you can pack twice as much if you're vectorizing, so there's that
[18:20:13] <pcwalton> but since you immediately truncate it down to 32 bit
[18:20:22] <pcwalton> the compiler will optimize it down to a 32 bit add
[18:20:39] <XMunkki> also memory bandwidth might come into play at some point if you do lots and lots of simple flops in a loop
[18:20:41] <strcat> kmc: the important part is related to size
[18:20:49] <strcat> float arrays -> 2x as much stuff in cache
[18:21:03] <eddyb> pcwalton: so what would sizeof(a + b) be?
[18:21:04] <kmc> *nod*
[18:21:06] <strcat> (and yeah, double the number in vector registers)
[18:21:09] <eddyb> pcwalton: 8 or 4?
[18:21:14] <pcwalton> eddyb: I think it's 4
[18:21:14] <strcat> kmc: graphics stuff even uses half floats
[18:21:19] <pcwalton> the rules are REALLY weird
[18:21:30] <strcat> LLVM has partial support for at least converting to/from them
[18:21:37] *** Quits: spott (spott@moz-9B11536C.hsd1.co.comcast.net) (Client exited)
[18:21:41] <eddyb> pcwalton: promotion usually happens when types differ in signedness and/or size
[18:21:50] <pcwalton> it also happens with intermediate results
[18:21:58] *** Joins: spott (spott@moz-9B11536C.hsd1.co.comcast.net)
[18:21:58] <pcwalton> as I said on HN, these are NOT the same as far as I know:
[18:22:01] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[18:22:10] <pcwalton> auto a = b + c / d;
[18:22:11] <pcwalton> and
[18:22:16] *** Joins: robertknight (robertknig@moz-54528EE0.wby.mendeley.com)
[18:22:17] <pcwalton> auto tmp = c/d; auto a = b + tmp;
[18:22:37] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[18:22:42] <eddyb> pcwalton: if signedness differs, unsigned is used. if the size differs, the largest one is used
[18:22:49] <pcwalton> that's for ints
[18:22:50] <eddyb> pcwalton: oh, I see, that's quite different. let me test for it
[18:22:52] <pcwalton> for FP it's different
[18:23:01] <sfackler> it's also worse than that for ints
[18:23:13] <eddyb> the size rule still applies outside of the temporary rule you know
[18:23:15] *** Quits: earlzlap (earlz@moz-9E279EAD.neo.res.rr.com) (Ping timeout)
[18:23:22] <sfackler> a uint16_t can promote to a signed int
[18:23:23] <eddyb> sfackler: what do you mean?
[18:23:43] *** Quits: spott (spott@moz-9B11536C.hsd1.co.comcast.net) (Ping timeout)
[18:23:51] <eddyb> sfackler: oh yeah, sorry, unsigned is chosen if they have the same size. if they differ in size, the size of the largest one is used. my bad
[18:24:05] <eddyb> I have actually implemented these rules, they just weren't fresh in my head :P
[18:24:25] <eddyb> s/size of the largest one/signedness of the largest one/
[18:24:38] <eddyb> note to self: don't attempt to explain something important to anyone
[18:24:53] <eddyb> we've had enough failed rocket launches
[18:25:01] *** Joins: rveach (kvirc@20AA9D9B.FF79AAFA.C69D10BF.IP)
[18:26:41] *** Joins: g3orge (g3orge@moz-2CAEE807.access.hol.gr)
[18:27:23] <ercxx> sfackler: I can't build rust-postgres for some reason. I can build it with --test and have bunch of them fail.
[18:27:32] *** Joins: tjc (tjc@moz-BBE3ABD.mv.mozilla.com)
[18:27:33] *** ChanServ sets mode: +o tjc
[18:27:34] <sfackler> what errors are you seeing?
[18:28:08] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[18:28:08] <ercxx> oops, it complains about no main()
[18:28:15] <sfackler> some of the authentication tests require some setup on the postgres side of things
[18:28:15] *** Joins: lkuper (lkuper@moz-D862222C.dhcp-bl.indiana.edu)
[18:28:34] *** Quits: g3orge (g3orge@moz-2CAEE807.access.hol.gr) (Quit: Changing server)
[18:28:36] <ercxx> this is not a lib crate :)
[18:29:02] *** Joins: variable (root@B7EB2247.C9C74790.67659D25.IP)
[18:29:02] <sfackler> :) You should also be able to get rustpkg to pull it in instead of manually building it
[18:29:16] *** Quits: robertknight (robertknig@moz-54528EE0.wby.mendeley.com) (Ping timeout)
[18:29:22] <sfackler> e.g. "extern mod postgres = "github.com/sfackler/rust-postgres"; fn main() {}"
[18:30:28] <ercxx> Yeah, I was going to package it for Arch Linux not use it right away.
[18:30:57] <eddyb> pcwalton: this is really weird
[18:31:12] <sfackler> ah, cool
[18:31:29] <ercxx> How do I do it if it's not a lib though?
[18:31:43] *** Joins: themgt (themgt@moz-4C0A6F23.baf.movistar.cl)
[18:31:44] <sfackler> what do you mean?
[18:31:50] <sfackler> rustc --lib lib.rs should work
[18:32:03] *** Quits: happy4crazy (happy4craz@87D98E32.4046EB22.428F94DD.IP) (Client exited)
[18:32:14] <ercxx> that should do, thanks.
[18:32:59] *** Joins: alonlevy (alon@moz-61A0AD83.red.bezeqint.net)
[18:33:16] *** Quits: oberstet (quassel@moz-12991173.dynamic.mnet-online.de) (Client exited)
[18:33:54] <doomlord_> :) default arg issue reopened .. nice!
[18:33:59] <eddyb> pcwalton: float((1 << 24) + 4k) + 1.0f + 1.0f looks like it has float temporaries
[18:34:30] <eddyb> pcwalton: while float((1 << 24) + 2k) + 1.0f + 1.0f gives the correct result, which should only be possible with double temporaries
[18:34:31] *** Quits: tgummerer (tgummerer@51D3B54.FEF996EA.EA6FEF3D.IP) (Ping timeout)
[18:34:42] <pcwalton> yeah, I'm not extremely familiar with the rules but I'm pretty sure they're very complex
[18:34:43] *** Joins: tgummerer (tgummerer@51D3B54.FEF996EA.EA6FEF3D.IP)
[18:34:43] *** Joins: g3orge (g3orge@moz-2CAEE807.access.hol.gr)
[18:35:04] <eddyb> pcwalton: wait, what, it rounds *up*
[18:35:20] *** Quits: obi_wan (Mibbit@moz-2CAEE807.access.hol.gr) (Quit: http://www.mibbit.com ajax IRC Client)
[18:35:21] <pcwalton> which is why I think that the type signature of + for f32 should just be f32 x f32 -> f32 :)
[18:35:25] <strcat> I think we have a lot of undefined behaviour in the language ;\
[18:35:29] *** Quits: jhenahan (jhenahan@3920B047.C9892D2F.6C361E84.IP) (Quit: Textual IRC Client: www.textualapp.com)
[18:35:36] <strcat> pretty sure our float->int casts must be undef
[18:36:13] *** Joins: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com)
[18:36:18] <eddyb> pcwalton: no double temporaries, just floating-point weirdness
[18:36:24] <strcat> unless by 'the results are undefined' they don't mean undefined behaviour or an undef value...
[18:36:39] *** Quits: lahwran (lahwran@lahwran.net) (Ping timeout)
[18:37:01] *** Quits: themgt (themgt@moz-4C0A6F23.baf.movistar.cl) (Ping timeout)
[18:37:55] <eddyb> [21:37] <eddyb> << hex << int(float(1 << 25) + 1.0f + 1.0f + 1.0f + 1.0f + 1.0f + 1.0f + 1.0f + 1.0f + 1.0f + 1.0f + 1.0f + 1.0f + 1.0f + 1.0f + 1.0f + 1.0f + 1.0f + 1.0f + 1.0f + 1.0f)
[18:37:56] <eddyb> [21:37] <geordi> 2000000
[18:38:04] <eddyb> pcwalton: that sounds like you were wrong
[18:38:37] <eddyb> (4.0f is enough to "jump" to the next integer, 0x2000004)
[18:38:54] <pcwalton> eddyb: hmm
[18:39:08] *** Quits: skade (skade@moz-D8051715.pools.arcor-ip.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[18:39:10] <pcwalton> well, then C's floating point is hurting everyone everywhere ;)
[18:39:23] <eddyb> pcwalton: this is #geordi on freenode and I've spammed it a lot for you <3
[18:40:53] *** Joins: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[18:40:54] *** Quits: RMF (RMF@moz-E29BF4D9.dsl.telepac.pt) (Ping timeout)
[18:41:08] <pcwalton> eddyb: "Java gets us into trouble that old-fashioned Kernighan-Ritchie C avoided by rounding everything by default to double unless an explicit cast specified otherwise."
[18:41:21] <pcwalton> eddyb: "Java gets us into trouble because it rounds all subexpressions involving exclusively float operands to float precision."
[18:41:25] <pcwalton> *shrug*
[18:41:33] <eddyb> pcwalton: wait, so who was arguing for what?
[18:41:39] *** Quits: yoshi (Mibbit@moz-CD177C2A.dip0.t-ipconnect.de) (Quit: http://www.mibbit.com ajax IRC Client)
[18:41:43] *** Joins: Kruppe (user@moz-253119B0.esg.uwaterloo.ca)
[18:41:55] <pcwalton> eddyb: Kahan claims that C is doing 64-bit intermediate results
[18:42:19] <eddyb> pcwalton: uhm, sorry, you were claiming otherwise? I misunderstood. in that case, you are right :D
[18:42:34] <pcwalton> oh, I was claiming that C also does 64-bit intermediate results
[18:42:39] <pcwalton> I was claiming also*
[18:42:42] <pcwalton> I wasn't disputing that
[18:42:47] <eddyb> derp
[18:42:56] <pcwalton> ok, good to see we're on the same page :)
[18:42:59] *** Joins: skade (skade@moz-D8051715.pools.arcor-ip.net)
[18:43:10] *** Joins: spott (spott@moz-9B11536C.hsd1.co.comcast.net)
[18:43:15] <eddyb> this is the magic C does:
[18:43:17] <eddyb> [21:43] <eddyb> << hex << int(float(1 << 25) + 1.0f + 1.0f + 1.0f + 1.0f + 1.0f + 1.0f + 1.0f + 1.0f + 1.0 + 1.0f + 1.0f + 1.0f + 1.0f + 1.0f + 1.0f + 1.0f + 1.0f + 1.0f + 1.0f + 1.0f)
[18:43:19] <eddyb> [21:43] <geordi> 200000c
[18:43:28] <eddyb> pcwalton: now find the difference
[18:43:32] *** Joins: lahwran (lahwran@lahwran.net)
[18:44:27] <eddyb> (it's behaving exactly like I knew it would for integers, I'm not surprised)
[18:44:33] *** Quits: jxv (jxv@4732E7D7.2AB34561.9B38A32A.IP) (Ping timeout)
[18:44:41] <acrichto> rust has crossed the 10k issue/PR milestone!
[18:44:53] <acrichto> and only 1.3k of them are still open
[18:45:36] *** Joins: RMF (RMF@moz-EB3DDAE3.dsl.telepac.pt)
[18:45:39] *** Quits: xexio (xexio@955E5F8C.3A1C6308.FFDF157.IP) (Ping timeout)
[18:46:44] *** Quits: vmx (vmx@8155E38.294C4FB6.EBB03D7A.IP) (Ping timeout)
[18:47:34] <tjc> acrichto: darn, i was hoping I would be 10000 :-)
[18:47:45] *** Joins: vmx (vmx@8155E38.294C4FB6.EBB03D7A.IP)
[18:47:52] <eddyb> tjc: the cake was a lie
[18:47:55] *** Joins: int3_ (int3_@7F8DDCC4.C2437F4F.DC877F3B.IP)
[18:49:38] <tjc> eddyb: curses, foiled again!
[18:50:13] *** Joins: jordyd (jordyd@moz-151B7FEA.seg37.ucf.edu)
[18:50:31] *** ozten is now known as ozten|afk
[18:51:57] <acrichto> pcwalton: does rust have a defined order of destructors in a struct from bottom-to-top ?
[18:52:24] <pcwalton> acrichto: yes
[18:54:31] *** Quits: Amaranth (travis@moz-E80C96B9.sxct.qwest.net) (Quit: Linkinus - http://linkinus.com)
[18:54:33] *** Quits: DeTeam (DeTeam@3F8887A3.6883A39.F5F3AF2.IP) (Quit: DeTeam)
[18:54:37] <strcat> pcwalton: it seems like pre-standard C evaluated all arithmetic with doubles, but not anymore
[18:54:45] *** Joins: lima (ulises@moz-FE47672D.adsl.net.t-com.hr)
[18:55:29] <pcwalton> strcat: hmm, well in that case Kahan would have preferred pre-standard C
[18:55:48] <strcat> pcwalton: yeah I'm looking at these slides, and he says that ;p
[18:56:08] *** Quits: Kruppe (user@moz-253119B0.esg.uwaterloo.ca) (Ping timeout)
[18:56:21] *** Joins: Ms2ger (Ms2ger@B7B2FF50.C60A97A6.F9FB0584.IP)
[18:56:27] <pcwalton> strcat: http://en.wikipedia.org/wiki/C99#IEEE.C2.A0754_floating_point_support
[18:57:01] <strcat> ah 
[18:57:12] *** Quits: josh (josh@moz-E500C116.mpls.qwest.net) (Quit: josh)
[18:57:22] <strcat> so he doesn't like the c99 changes?
[18:57:28] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[18:57:34] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Client exited)
[18:57:38] <strcat> pcwalton: my mistake was looking at clang's output, because it defaults to C99 :)
[18:57:51] *** Quits: g3orge (g3orge@moz-2CAEE807.access.hol.gr) (Quit: leaving)
[18:57:51] *** Quits: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Ping timeout)
[18:58:44] <pcwalton> strcat: well, that paper is old, I'm not sure what his current opinions are
[18:58:55] *** Joins: steffenomak (steffenoma@moz-FB0A4BEB.student.uu.se)
[18:59:35] *** Quits: int3_ (int3_@7F8DDCC4.C2437F4F.DC877F3B.IP) (Client exited)
[18:59:47] *** Joins: Amaranth (travis@moz-E80C96B9.sxct.qwest.net)
[19:00:24] *** pmoore|dinner is now known as pmoore
[19:01:03] *** Joins: int3_ (int3_@7F8DDCC4.C2437F4F.DC877F3B.IP)
[19:01:08] *** Joins: rusti_ (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[19:01:59] *** Quits: lkuper (lkuper@moz-D862222C.dhcp-bl.indiana.edu) (Quit: Leaving)
[19:02:03] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[19:02:10] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[19:02:12] *** Joins: lkuper (lkuper@moz-D862222C.dhcp-bl.indiana.edu)
[19:02:25] *** Joins: strcat1 (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[19:03:52] *** Quits: SilverKey (SilverKey@moz-B589DA51.sw.biz.rr.com) (Ping timeout)
[19:03:58] *** Quits: Cromulent (Cromulent@moz-983B638D.cable.virginmedia.com) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[19:05:20] <kimundi> ha, registering a snapshot was issue 10000 ;P
[19:05:24] <geomyidae__> I must be misunderstanding something because it looks like Steve is using Andrew Deane's post from yesterday to somehow imply that the Go community is juxtaposed to the Rust community because Rust has an explicit community guideline.
[19:06:04] <strcat1> geomyidae__: hm?
[19:06:07] *** strcat1 is now known as strcat
[19:06:16] <geomyidae__> https://twitter.com/steveklabnik/status/392151017287995392
[19:06:23] <geomyidae__> Maybe I'm just missing a huge helping of context
[19:06:38] *** Joins: nrc (nrc@moz-BAE8D951.pck.nerim.net)
[19:06:42] <malvarez> My rustc just ran into an internal error, but rerunning with RUST_LOG=rustc prints out 134k lines, is this normal behaviour?
[19:06:48] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[19:07:06] * geomyidae__ grumbles, maybe it wasn't Andrew that wrote the blog post that was on HN last night, whatever, this isn't anything I should be spending brainpower on.
[19:07:30] *** Quits: nano (nano@moz-74CAD1CA.superkabel.de) (Connection reset by peer)
[19:08:31] <steveklabnik> geomyidae__: hey!
[19:08:48] <steveklabnik> all i mean is that i will always be programming in new languages
[19:08:59] <geomyidae__> hi steve :) maybe I misunderstood but how does a community guideline keep fanboys from being excited about a new language?
[19:09:03] <steveklabnik> i try not to identify as a '$LANG-ist'
[19:09:06] <geomyidae__> gotcha
[19:09:32] <steveklabnik> what i meant by community guidelines is that we have an explicit 'dont talk trash on people's work, make substantial criticisms' policy
[19:09:44] <steveklabnik> i would love it if rust didn't have Ruby's "lol java amirite?" mentality
[19:10:01] * geomyidae__ sees now
[19:10:03] *** Quits: hoverbear (andrew@EBFA78B5.F19E5E7B.E74D50F2.IP) (Ping timeout)
[19:10:07] <steveklabnik> :)
[19:10:31] <lkuper> steveklabnik: yeah, fwiw, I think that people have gotten called out on rust-dev for trashing Java before
[19:10:37] <steveklabnik> yup
[19:10:44] <steveklabnik> and go as well, iirc
[19:10:48] *** Joins: jxv (jxv@4732E7D7.2AB34561.9B38A32A.IP)
[19:11:13] <steveklabnik> anyway, i literally just accidentally deleted my last 4 hours of work, so i'mma go re-do all that :(
[19:11:24] <lkuper> D:
[19:11:25] <jason_> there is a lot to be learned from java
[19:11:29] <malvarez> steveklabnik: I don't think that mindset is exclusive to the Rust and Ruby's communities...
[19:11:41] <malvarez> Thrashing Java seems to be the cool thing to do nowadays
[19:12:27] *** Quits: andre (andre@CA528A4A.45A4338E.8EE27E6.IP) (Quit: leaving)
[19:12:40] <steveklabnik> it's not
[19:12:50] <steveklabnik> i only say Ruby specifically because i'm so heavily involved in it
[19:13:30] *** Joins: mib_ilgu57 (Mibbit@3520F8A.6C49F744.CB690DC5.IP)
[19:13:51] <Scriptor> there was some (very brief) java bashing earlier today in here
[19:14:33] <strcat> coffee sucks
[19:15:05] * strcat is weird and doesn't like drinking hot things when it's not cold though
[19:15:13] <tjc> that's what iced coffee is for!
[19:15:33] <strcat> iced coffee is usually more like sugar water if you don't make it yourself
[19:15:39] <tjc> depends where you get it
[19:15:48] <tjc> the good places use extra-strong cold-brewed coffee
[19:15:50] <malvarez> well it's not that hard to make anyways
[19:15:52] <tjc> and don't pre-sweeten it
[19:16:36] <Scriptor> I don't think I've ever bought pre-sweetened iced coffee
[19:16:38] <eddyb> strcat: today sucked. I planned on adding wrappers for at least the unordered (no suffix) versions of the atomic intrinsics and use an atomic add instead of CAS in a loop in LinearAllocator. and more stuff in rustic. I did nothing :(
[19:17:53] <jason_> cold-brewed coffee is so good
[19:18:12] *** Quits: alonlevy (alon@moz-61A0AD83.red.bezeqint.net) (Ping timeout)
[19:19:10] <malvarez> italian coffee makers are the best way to make coffee imho
[19:24:44] <malvarez> any feedback on what to do with my 134k lines rustc error log?
[19:25:24] <eddyb> strcat: oh, and I would've tried to figure the best way of doing aligned allocations in the Allocator trait. and for now, my change only allows a global allocator to replace the libc functions with something equivalently safe (especially when you have to implement those functions yourself)
[19:25:39] <eddyb> but brain went crazy. I'll go to sleep any minute now
[19:27:41] <tjc> malvarez: RUST_LOG=rustc will print out *all* the log messages for the compiler -- if you paste the last 10 lines or so, I can see if I can figure out which module is complaining
[19:27:42] <petantik> Is there a to_str function that can be applied to FileStream? 
[19:27:47] <tjc> then you can print out the log messages just for that module
[19:27:58] *** Joins: martndemus (martndemus@moz-876695FC.sshunet.nl)
[19:28:53] *** Quits: Kxepal (Miranda@moz-3C594C69.pppoe.mtu-net.ru) (Quit: Kxepal)
[19:29:39] *** Quits: nrc (nrc@moz-BAE8D951.pck.nerim.net) (Connection reset by peer)
[19:30:02] *** Quits: martndemus (martndemus@moz-876695FC.sshunet.nl) (Ping timeout)
[19:30:08] *** Quits: eddyb (eddy@3C6E2DBB.FFB4E060.A5830293.IP) (Connection reset by peer)
[19:30:14] *** Joins: Kxepal (Miranda@moz-3C594C69.pppoe.mtu-net.ru)
[19:30:19] <malvarez> @tjc: thanks, these are the last 15 lines http://pastebin.com/4DLKBj2e 
[19:30:19] *** Joins: eddyb (eddy@3C6E2DBB.FFB4E060.A5830293.IP)
[19:31:04] *** Quits: Ms2ger (Ms2ger@B7B2FF50.C60A97A6.F9FB0584.IP) (Quit: nn)
[19:31:29] <tjc> malvarez: try RUST_LOG=rustc::middle::typeck and see how much output that is
[19:31:43] <tjc> malvarez: Alternately, it's ok if you just want to report the bug, esp. if you have a small test case
[19:32:35] <kimundi> Uhm, are && and || overloadable?
[19:32:41] *** Quits: dbaupp (Thunderbir@moz-1613C652.lns20.syd6.internode.on.net) (Ping timeout)
[19:32:46] <tjc> the error message means that there's an inconsistency somewhere in how many type parameters something expects, vs. how many it's being applied to
[19:33:01] *** Quits: eddyb (eddy@3C6E2DBB.FFB4E060.A5830293.IP) (Ping timeout)
[19:33:09] *** ozten|afk is now known as ozten
[19:33:12] <malvarez> tjc: i'll try running the test again and see if I can get something more readable, thanks
[19:33:20] <kmc> is there any "token paste" in Rust macros, like CPP's ## operator?
[19:33:22] *** Quits: int3_ (int3_@7F8DDCC4.C2437F4F.DC877F3B.IP) (Client exited)
[19:33:48] *** Quits: ambimorph (amber@moz-F1964F26.hlrn.qwest.net) (Ping timeout)
[19:34:24] *** Joins: ambimorph (amber@moz-F1964F26.hlrn.qwest.net)
[19:34:29] <pauls> kmc: not really. My hope is that something like that (except more principled) will someday be implemented, as a replacement for the currently-broken `concat_idents!`. What are you trying to do?
[19:35:49] <kmc> i have Foo and FooWrapper, Bar and BarWrapper, etc. and want to access the wrappers systematically from a macro
[19:35:59] <bstrie> 10,000 bugs!
[19:36:03] * bstrie throws confetti
[19:36:15] <pauls> Wo,ooo!
[19:36:40] *** Joins: dbaupp (Thunderbir@moz-1613C652.lns20.syd6.internode.on.net)
[19:37:18] <pauls> kmc: you might be able to abstract out the X/XWrapper duplication with a macro also...
[19:37:58] <kmc> true
[19:38:09] <acrichto> SimonSapin: ping
[19:38:25] *** Quits: vk (chatzilla@3E9D68F2.B1163E0C.2A6693DD.IP) (Quit: ChatZilla 0.9.90.1 [Firefox 26.0a2/20131021004002])
[19:39:12] <bstrie> cmr: I can't believe you wasted issue #10,000 on something as pedestrian as "Register snapshots"
[19:39:26] *** Joins: echristo (echristo@60A74940.D6CCE4AE.77834EAA.IP)
[19:39:31] *** Quits: ambimorph (amber@moz-F1964F26.hlrn.qwest.net) (Ping timeout)
[19:39:47] <cmr> bstrie: I wanted it to be a whitespace fix, but that wasn't going to happen fast enough ;)
[19:40:10] *** Joins: canhtak (jeremy@moz-A67811CE.wl.t.ulaval.ca)
[19:40:44] <bstrie> just remove a single space, in a comment, in an x-failed test in the test suite
[19:40:49] <bstrie> that would have been glorious
[19:41:05] <bstrie> something to keep in mind for issue #100,000
[19:42:29] <bstrie> which, to extrapolate from the filing date of the two most recent issues, will happen sometime in 2034
[19:42:39] <bstrie> hopefully before the unix epoch strikes
[19:42:41] *** Quits: tikue_ (tikue_star@moz-FEADCD38.hsd1.pa.comcast.net) (Ping timeout)
[19:42:53] *** Parts: mib_ilgu57 (Mibbit@3520F8A.6C49F744.CB690DC5.IP) (Left all channels)
[19:45:21] <SimonSapin> acrichto: pong
[19:45:53] <acrichto> SimonSapin: I was curious to the status of the encodings proposal, after the mailing list/wiki page getting created, are there more efforts behind it?
[19:46:39] *** Joins: eddyb9 (eddy@3C6E2DBB.FFB4E060.A5830293.IP)
[19:46:39] *** Joins: devbug (quassel@2D4E172D.4C8B6099.9B57EA59.IP)
[19:47:05] <SimonSapin> acrichto: As I said on the mailing list, itâ€™s open to anyone who wants to work on it :) I might get to it myself, but I have a bunch of Servo stuff that comes before. (Assuming UTF-8 in Servo is good enough for now.)
[19:47:15] *** Quits: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com) (Ping timeout)
[19:47:35] <SimonSapin> acrichto: although a few days ago, Yurume said he wants to work on rust-encoding again. https://github.com/lifthrasiir/rust-encoding
[19:47:37] <acrichto> SimonSapin: ok cool, I may start to pick it up then, I'm mostly concerned about its interactions with std::rt and reading strings
[19:47:46] *** Joins: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com)
[19:47:57] *** Quits: edorian (Mibbit@moz-1B4E52B2.dynamic.qsc.de) (Quit: http://www.mibbit.com ajax IRC Client)
[19:47:59] *** Quits: rveach (kvirc@20AA9D9B.FF79AAFA.C69D10BF.IP) (Ping timeout)
[19:48:13] <SimonSapin> I think the way forward is to adapt the code in rust-encoding to the API in the wiki
[19:48:26] <SimonSapin> coordinate with Yurume / lifthrasiir
[19:48:34] <acrichto> cool, thanks!
[19:50:06] <SimonSapin> acrichto: itâ€™s great if you pick it up. Feel free to ping me when you make progress or if you need anything
[19:50:17] <steffenomak> Hey could I get some help with use and mod, it doesn't behave as I expect it to...
[19:50:37] <SimonSapin> steffenomak: the visibility rules changed recently in master
[19:50:47] <acrichto> SimonSapin: will do, it currently seems like a large amount of code, so I'm wondering how much we can keep out of libstd and how much of it should get moved in
[19:50:59] <steffenomak> ok? But I don't have problems with that
[19:51:37] <SimonSapin> steffenomak: sorry, it seemed related but it may be something else
[19:51:51] <steffenomak> SimonSapin: I get ab error that looks like this when I try to use my custom super special wrapper for sdl2 mismatched types: expected `~sdl2::keyboard::Keysym` but found `~sdl2::event::keyboard::Keysym`
[19:51:58] <steffenomak> thats my problem...
[19:52:57] *** Joins: cta (Mibbit@FD9B05FD.A9DA0237.DDE5D3F6.IP)
[19:52:58] *** Joins: basichash (basichash@moz-55569B25.opaltelecom.net)
[19:53:04] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Connection reset by peer)
[19:53:13] *** Quits: lfox (lfox@moz-343B6F0C.nyc.biz.rr.com) (Ping timeout)
[19:53:17] <steffenomak> SimonSapin: I am useing mod keyboard and mod video to get access to stuff in those modules but that wierds out the compiler
[19:53:30] <SimonSapin> acrichto: I think the important part is the API, and implementation for UTF-8 and possibly a few other encodings
[19:53:41] <SimonSapin> acrichto: other encodings can then be added later
[19:53:55] <basichash> I've heard a lot about Go, but a lot of people say rust is better. What are the main differences between the two languages?
[19:54:07] <cta> now that as_c_charp is gone in 0.8, what should I use instead?
[19:54:07] <steffenomak> SimonSapin: in every other file I can use, use error::* to access all stuff in those modules but not in event
[19:54:22] <cmr> basichash: They has different goals and problem spaces.
[19:54:31] <SimonSapin> acrichto: also, the relevant spec is http://encoding.spec.whatwg.org/ , not the various RFCs and IANA registry
[19:54:57] <eddyb9> steffenomak: do you use mod foobar {...} anywhere? it can be a source of confusion
[19:55:16] *** Joins: ak32 (ak32@moz-447EA120.red.bezeqint.net)
[19:55:46] <steffenomak> addub9: Don't thiks so but ill grep the code for it
[19:55:51] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[19:56:31] <basichash> cmr: what are they?
[19:56:33] <ak32> hey all, how can one write benchmark to https://github.com/mozilla/rust/issues/9964
[19:57:02] <ak32> cmr: is there any benchmark example that i can learn from?
[19:57:07] <steffenomak> addub9: You meant like: use mod foobar {...} with the use?
[19:57:13] *** Joins: lfox (lfox@moz-343B6F0C.nyc.biz.rr.com)
[19:57:13] *** Joins: niftynif (Mibbit@moz-B6DFA19D.wireless.oberlin.edu)
[19:57:27] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[19:57:37] <ercxx> Why do I have to `use std;` in a mod included in the main lib crate? Am I doing something wrong?
[19:57:59] <acrichto> basichash: I'd recommend reading https://github.com/mozilla/rust/wiki/Doc-language-FAQ and the tutorial/manual to get some more information about rust
[19:58:18] <eddyb9> steffenomak: no, I mean a module with a body
[19:58:46] <cmr> basichash: Rust is going for zero-overhead memory safety, to be suitable in cases where you can't afford a GC. It also adds a bunch of nice features like pattern matching and product types (enums/ADTs) and generics.
[19:58:46] <eddyb9> rusti: mod foobar {static x : int = 7;} foobar::x
[19:58:48] <acrichto> ercxx: each module starts out with a freshly clean empty namespace which you then must bring names into via `use` statements or by defining your own types
[19:58:52] *** Quits: rusti_ (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[19:58:59] <eddyb9> oh come on...
[19:59:07] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[19:59:12] <eddyb9> rusti: mod foobar {static x : int = 7;} foobar::x
[19:59:13] <acrichto> ercxx: all paths in expressions are module-relative, so if "std" isn't in scope, then "std::util::id" won't resolve because it doesn't know what std is
[19:59:15] -rusti- pastebinned 7 lines of output: http://ix.io/8Gc
[19:59:17] <steffenomak> addub5: I have modules with bodies, but not twice, I have a couple of other places where I use mod foobar;
[19:59:35] <eddyb9> rusti: mod foobar {pub static x : int = 7;} foobar::x
[19:59:36] -rusti- 7
[19:59:38] <acrichto> steffenomak: would you be able to point us at some code?
[19:59:39] <SiegeLord> ercxx: extern mod std; is only placed in the top level crate
[19:59:56] <SiegeLord> *crate root
[20:00:09] <eddyb9> steffenomak: use tab to autocomplete, you keep misspelling my nick :P
[20:00:11] <ercxx> ok
[20:00:30] <SiegeLord> It's a bit inconsistent, and I've been bitten by it... but it is what it is
[20:00:36] <SiegeLord> Or I guess... surprising
[20:00:48] <ak32> does anybody know a benchmark example that i can learn from?
[20:00:50] <steffenomak> eddyb9: lol sorry, fore some reasone weechat gives your nic in light gray with pink background...
[20:00:59] <kmc> basichash: I wouldn't say that one of Rust or Go is "better", without a problem you're trying to solve, but I think Rust is more interesting in that the problem it's solving is much harder and there are fewer other languages in that space
[20:01:02] <SiegeLord> Prelude, on the other hand, is included in each module... so...
[20:01:05] <steffenomak> @acrichto: just a sec
[20:01:09] <acrichto> ak32: search for the '#[bench]' attribute throughout libstd/libextra, you'll find some examples there
[20:01:17] *** Joins: strcat1 (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[20:01:23] <cmr> ak32: hi! see https://github.com/mozilla/rust/wiki/Doc-unit-testing#benchmarking
[20:01:25] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[20:01:31] *** strcat1 is now known as strcat
[20:01:37] <ak32> acrichto: thanks, i will do that
[20:01:44] <ak32> cmr: alright! :) thanks
[20:01:46] <kmc> basichash: Go is based on garbage collection everywhere, which is great for many things, but we already have Java, Scala, C#, Python, Ruby, OCaml, Haskell, JavaScript, ...
[20:01:58] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.2)
[20:02:03] <ercxx> SiegeLord: If I don't have 'extern mod something' then I shouldn't be able to do 'use something::something_else' right?
[20:02:08] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[20:02:20] *** pmoore is now known as pmoore|mtg
[20:02:25] <kimundi> righjt
[20:02:31] <steffenomak> @acrichto: https://github.com/steffenomak/sdl2-rs there you go
[20:02:36] <eddyb9> can we find someone else to host rusti?
[20:02:50] <kmc> basichash: also Go is just really lacking in abstraction power; you can't even define your own generic data structures or functions
[20:02:51] <eddyb9> strcat's internet keeps breaking :P
[20:02:57] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[20:03:06] <steffenomak> acrichto: https://github.com/steffenomak/sdl2-rs now ...
[20:03:19] <basichash> kmc: which would you recommend for concurrency?
[20:03:22] <kimundi> ercxx: btw, you don't need to do use std; if you just want to access something from std with an explicit path. you can just do, eg, let x = ::std::option::Some(5u);
[20:03:36] <cmr> basichash: Rust isn't production ready right now, Go is. That's a big difference :)
[20:03:59] <ercxx> kimundi: yeah, that works too. I just thought it was odd.
[20:04:01] <kmc> basichash: it depends what you're doing concurrently
[20:04:04] <eddyb9> cmr: pffft, don't sell us short :P
[20:04:24] <kimundi> ercxx: Well, it is consistent with the design of the module system
[20:04:31] <eddyb9> how does leading :: work? I cannot use it in "use"
[20:04:35] <kmc> basichash: Go is designed for massively concurrent I/O, servers and the like, and it's pretty good at that from what I hear
[20:04:47] <cmr> eddyb9: it's a global path, like adding a leading / to a filesystem path
[20:04:56] <kmc> situations where latency isn't so critical
[20:05:07] <cmr> eddyb9: `use` are always absolute, unless you use `self::` or `super::`, so it'd be redundant.
[20:05:11] <acrichto> steffenomak: it looks like you're re-importing a module twice
[20:05:26] <basichash> kmc: I've heard rust is very good with  concurrency also
[20:05:27] <ercxx> kimundi: thank you
[20:05:32] <acrichto> steffenomak: you've got 'mod keyboard' in lib.rs, but also in event.rs
[20:05:53] <cmr> basichash: there are still problems with the scheduler, and fork-join concurrency is very bad right now.
[20:05:53] <acrichto> steveklabnik: even though it's the same contents, the module is rooted in two different locations in the module hierarchy, so the types are not the same between them
[20:05:55] <kmc> basichash: yeah, concurrency is definitely a focus of both languages
[20:06:02] <acrichto> steffenomak: ^ (sorry steveklabnik)
[20:06:03] <SiegeLord> There's no reason why every module can't have a extern mod std; stuck into it
[20:06:05] <cmr> basichash: but yes, it's a goal
[20:06:10] <steffenomak> acrichto: Ok, and thats going to cause problems?
[20:06:10] <SiegeLord> Or a use ::std;
[20:06:13] <kmc> basichash: I personally wouldn't use Go though because its static typing is so half-assed
[20:06:27] <acrichto> steffenomak: event.rs shouldn't redeclare modules (as that introduces brand new types)
[20:06:38] <bstrie> kmc: no language wars!
[20:06:48] <steffenomak> acrichto: my reason for that is so that I can have everything under sdl2::
[20:06:51] <eddyb9> cmr: you can use leading :: to access things without any use statements?
[20:07:07] <cmr> eddyb9: yes.
[20:07:09] <acrichto> steffenomak: the event module should use the modules from sdl2
[20:07:11] <steffenomak> acrichto: ok so what sould I do to be able to use Window then?
[20:07:21] <cmr> bstrie: it's a fact, though, not really an opinion.
[20:07:34] <bstrie> cmr: then we can word it in less inflammatory terms :)
[20:07:39] <acrichto> steffenomak: if you're referencing a type from another module internally, then at the top you need `use module;` instead of at the bottom having 'mod module;'
[20:07:44] <cmr> fair enough
[20:07:58] <acrichto> steffenomak: each file should only get imported as a module once (twice creates same-name but different types)
[20:08:15] <kmc> I believe that sophisticated types are well worth the trouble, and it's not clear the Go designers do, or they have to pretend not to in order to market to their twin audience of scripting language fans and diehard "void* for life" C people
[20:08:16] <steffenomak> acrichto: Ok, so I just add use video instead of mod video.
[20:08:55] <eddyb9> kmc++
[20:09:02] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[20:09:23] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[20:09:27] <kmc> I don't think it's that inflammatory; I think everyone involved with Go will admit that having a sophisticated static type system is not one of their goals
[20:09:53] <malvarez> kmc++
[20:09:54] *** Joins: dherman (dherman@moz-C6E36EE8.bltmmd.fios.verizon.net)
[20:09:54] *** ChanServ sets mode: +ao dherman dherman
[20:09:58] <SiegeLord> I'm sure you wouldn't find the same wording in their feature list :P
[20:10:20] <SiegeLord> "Here, behold our terrible type system"
[20:10:39] <bstrie> kmc: I have no interest in dealing with go vs rust, flamewars, in this or any venue. keeping discussion civil is just preventative medicine to make my job easier
[20:10:40] <malvarez> Didn't the developers explicitly state that they don't think the extra complexity introduced by generics is worth it?
[20:10:56] <eddyb9> TBQH, one thing that weirded me out, before I got a chance to examine it closer, was the C-like-but-not-really syntax
[20:11:01] <kmc> malvarez: I thought it was more like "we don't know how to do it in a way we like, so we're putting it off"
[20:11:04] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[20:11:10] <kmc> eddyb9: both Go and Rust fit that description :)
[20:11:14] <kmc> bstrie: fair enough
[20:11:29] <kmc> i don't think we're that close to "flamewar" here but I am preaching to the choir so *shrug*
[20:11:39] <ak32> cmr: can you assign me to writing starts_with/ends_with issue?
[20:11:39] *** Quits: Jesin (Jessin_@moz-14627F8E.cc.lehigh.edu) (Ping timeout)
[20:11:52] <steffenomak> acrichto: but if I change out mod video from event and add use video instead I get error: unresolved import (maybe you meant `video::*`?)
[20:11:54] *** Quits: variable (root@B7EB2247.C9C74790.67659D25.IP) (Input/output error)
[20:11:55] <steffenomak> /home/steffenomak/repos/my_github_repos/sdl2-rs/src/sdl2/event.rs:2 use video;
[20:11:58] <malvarez> kmc: Yeah, that's basically what they said, with 'a way we like' being 'a way that makes their value proportional to their complexity'
[20:12:27] <cmr> ak32: No, but you can make a comment saying you're working on it
[20:12:29] <bstrie> kmc: as someone who monitors all freenode language channels for the string "rust", you'd be surprised at how much animosity towards rust I see in the go channel. I don't want us to start down that road
[20:12:41] <kmc> wow
[20:12:48] <ak32> cmr: fine... thanks
[20:12:49] *** Quits: dumitru (dgherman@moz-7C253BEB.getcadre.com) (User has been banned from Mozilla (Attempting to use a GTBot))
[20:12:50] <bstrie> it's not like it's all they talk about all day long
[20:12:52] <bstrie> but it's often depressing
[20:13:02] <cmr> ak32: (github doesn't let you assign issues to arbitrary people, it's not a very useful feature)
[20:13:06] <bstrie> any likewise people on HN can't get enough of mentioning go and rust in the same breath
[20:13:10] <acrichto> steffenomak: I'd recommend reading about the module system, http://static.rust-lang.org/doc/master/tutorial.html#crates-and-the-module-system before going too far, because sadly it's difficult to help diagnose these problems with little context
[20:13:14] <bstrie> just gets tiring after a while dealing with it
[20:13:15] *** Joins: Jesin (Jessin_@moz-14627F8E.cc.lehigh.edu)
[20:13:17] <eddyb9> kmc: but getting used to the missing () in if/while/match is not that hard (and with syntax highlight it kinda feels cleaner. just how I prefer not to put braces around one-statement if/else/while, in other languages)
[20:13:24] <ak32> cmr: uh huh, i see. :)
[20:13:26] <bstrie> I'm like, hey folks, how about comparing us to erlang for a change? or ada???
[20:13:26] <kmc> bstrie: yeah, I wish people would stop seeing the two as at all similar
[20:13:30] <brendanc> #go is not a nice channel in general. gave up on it
[20:13:31] <bstrie> but no, it's go all day long
[20:13:35] *** Quits: vodik (simon@moz-FD4ADBC6.cable.teksavvy.com) (Quit: class)
[20:13:41] <eddyb9> kmc: leaving out semicolons in rust actually has a purpose and I like it :P
[20:14:35] <benh> bstrie: i feel the appeal of erlang is its runtime and ours is still somewhat in flux, i'm happy to put that comparison off for a bit
[20:14:39] *** Quits: fabiand (fabiand@moz-D873EB1C.adsl.alicedsl.de) (Quit: Verlassend)
[20:14:44] <kmc> benh: yes
[20:14:58] <eddyb9> and because blocks can be values, I have an excuse for having the entire block on one line, and that's as good to me as brace-less one-statement blocks in other languages
[20:14:58] <kmc> eddyb9: sure but Rust syntax is "not actually C" in a much deeper way, which is that most things are secretly expressions
[20:15:22] <cmr> As I learn ML, I appreciate Rust more.
[20:15:30] <eddyb9> kmc: yupp, I thought of that when I mentioned semicolons
[20:15:35] *** Joins: eholk (eholk@moz-17BEA8A.bb.hrtc.net)
[20:15:48] *** Joins: int3_ (int3_@7F8DDCC4.C2437F4F.DC877F3B.IP)
[20:16:04] <kmc> rusti: fn f() -> int { return 3 + (return 4 + (return 5)) } f()
[20:16:05] -rusti- 5
[20:16:28] <eddyb9> wait, that should be a bug or something
[20:16:32] <cmr> Why?
[20:16:39] <kmc> it makes sense with the rules of the language
[20:16:49] <eholk> kmc: if you change the parentheses does it return a different value?
[20:16:56] <eholk> does rust specify an order of evaluation?
[20:16:57] <steffenomak> acrichto: I have been trying to do just that but when I do as I think sould work, the compiler gives me internal errors and stuff... But thx for the help. Will try making it work, and if it doesn't ill just kill the project
[20:16:58] <kmc> if everything is an expression then "return x" is an expression, and its type is !, because it doesn't itself finish evaluating
[20:17:05] <kmc> and ! will unify with anything
[20:17:18] <kmc> "return" as an expression is like calling a continuation
[20:17:19] <eddyb9> rusti: loop { (break); }
[20:17:20] -rusti- ()
[20:17:22] <SiegeLord> Could be an unreachable expression lint
[20:17:26] *** Quits: niftynif (Mibbit@moz-B6DFA19D.wireless.oberlin.edu) (Ping timeout)
[20:17:29] <benh> Can ! be a type in an argument list?
[20:17:32] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[20:17:37] <benh> I mean parameter list.
[20:17:41] <kmc> rusti: fn f() -> int { ((return 3) + return 4) + return 5 } f()
[20:17:42] -rusti- 3
[20:17:43] <eddyb9> SiegeLord: that's what I meant. maybe a warning...
[20:17:59] <eddyb9> changing the parens changes evaluation order
[20:18:05] <SiegeLord> Although it's hard to say what exactly is not reached there
[20:18:27] <benh> eddyb9: that seems reasonable...
[20:18:28] <acrichto> steffenomak: if you ever hit an ICE, please open an issue! Those are definitely bugs in the compiler that should be dealt with. Also, I don't think that our error messages are always the best, so if you have any suggestions on how to improve them also feel free to open an issue!
[20:18:47] <kmc> the similar case which actually comes up a lot in practice is  let y = match foo { None => return 0, Some(x) => x }
[20:19:16] <kimundi> Hm... You know you are bored and to deeply involved in a language if you start to clean up the the `bool` module...
[20:19:23] <eddyb9> kmc: see, I would wrap the return there
[20:19:56] <eddyb9> rusti: fn f() -> int { return 5; return 3; } f()
[20:19:57] -rusti- <anon>:9:35: 9:43 warning: unreachable statement, #[warn(unreachable_code)] on by default
[20:19:57] -rusti- <anon>:9          fn f() -> int { return 5; return 3; } f()
[20:19:57] -rusti-                                             ^~~~~~~~
[20:19:57] -rusti- 5
[20:20:11] <steffenomak> acrichto: Ok, so that are bugs if I hit them. If I can reproduce on a much smaller scale I'll report an issue.
[20:20:26] <eddyb9> kmc: that's what we need for expressions, I guess
[20:20:49] <acrichto> steffenomak: it's also ok if it's a fair amount of code, we can always help minimize it. We just need a snapshot of code at a point in time to narrow it down from
[20:21:10] <kmc> eddyb9: wrap it how?
[20:21:31] <eddyb9> kmc: a return statement in a block
[20:21:34] *** Joins: niftynif (Mibbit@moz-B6DFA19D.wireless.oberlin.edu)
[20:21:58] *** Quits: cta (Mibbit@FD9B05FD.A9DA0237.DDE5D3F6.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[20:22:01] <eddyb9> match foo { None => { return 0; }, Some(x) => x }
[20:22:50] <eddyb9> kmc: I'm totally fine with a lot of things being expressions, but control flow statements look weird as expressions
[20:23:10] *** Joins: alonlevy (alon@moz-B0E66DB7.static.bezeqint.net)
[20:23:13] <steffenomak> acrichto: I have found the source of it at least, ill branch my repo with the exact code that breaks it.
[20:23:23] *** Quits: dherman (dherman@moz-C6E36EE8.bltmmd.fios.verizon.net) (Quit: dherman)
[20:23:35] *** Joins: dumitru (dgherman@moz-7C253BEB.getcadre.com)
[20:23:43] <acrichto> steffenomak: excellent! (kind of)
[20:23:45] *** Joins: Kruppe (user@moz-253119B0.esg.uwaterloo.ca)
[20:23:46] <eddyb9> sure, an yield would work naturally with that, but everything else is uncomfortable
[20:23:49] <acrichto> ICE's are never fun to get :(
[20:24:16] <eddyb9> kmc: keep in mind I've started playing with rust like a week ago, and I've already contributed to rustc :P
[20:24:42] <eddyb9> like I said to dbaupp, it can be a PITA to fix things, but I'm in love
[20:24:45] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[20:27:07] *** Quits: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl) (Client exited)
[20:28:45] *** Quits: pnkfelix (pnkfelix@moz-5A4C52C7.hfc.comcastbusiness.net) (Quit: Leaving.)
[20:29:34] *** Joins: martndemus (martndemus@moz-876695FC.sshunet.nl)
[20:30:18] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[20:30:20] *** Joins: themgt (themgt@moz-EE7F7E8D.baf.movistar.cl)
[20:30:40] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[20:31:10] *** Joins: pnkfelix (pnkfelix@moz-5A4C52C7.hfc.comcastbusiness.net)
[20:31:10] *** ChanServ sets mode: +o pnkfelix
[20:31:39] *** Quits: martndemus (martndemus@moz-876695FC.sshunet.nl) (Ping timeout)
[20:33:05] *** Quits: skade (skade@moz-D8051715.pools.arcor-ip.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[20:33:47] *** Quits: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[20:34:27] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[20:34:47] *** Joins: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP)
[20:36:36] <acrichto> pcwalton: I think we're running struct destructors top-to-bottom instead of buttom-to-top
[20:36:51] <acrichto> brson: ^ may explain some runtime weirdness
[20:36:58] <pcwalton> acrichto: oh, that's bad
[20:37:10] <strcat> top-to-bottom seems like the only way you can run them, if you mean in terms of recursing into the type
[20:37:36] <strcat> or do you mean it's not running them in the reverse order of variable declaration?
[20:37:52] <mikezaby> how could i set a value to a struct that returned with unwrap?
[20:37:58] *** Joins: tiffany (kawaii@moz-28A8742A.dhcp.embarqhsd.net)
[20:38:18] <acrichto> strcat: https://gist.github.com/alexcrichton/7090562 prints "a\nb"
[20:38:21] <strcat> mikezaby: I'm not quite sure what you mean by that - Option's unwrap method?
[20:38:22] <mikezaby> https://gist.github.com/mikezaby/a44fbe5afeff622512ee
[20:38:26] <acrichto> I would expect it to print "b\na"
[20:38:35] *** Joins: martndemus (martndemus@moz-876695FC.sshunet.nl)
[20:38:40] <mikezaby> i get this error queue.rs:23:6: 23:38 error: cannot assign to immutable field
[20:38:40] <mikezaby> queue.rs:23       self.tail.as_mut().unwrap().next = Some(node);
[20:38:41] <strcat> acrichto: that's how it has to run them though
[20:38:55] <acrichto> strcat: why?
[20:39:12] <strcat> because if you destroyed the inner object first, you wouldn't be passing a valid &mut self to the outer object
[20:39:18] <strcat> C++ does it this way too
[20:39:33] <acrichto> strcat: no it should destroy b before a, by bottom-to-top I mean order of field declarations
[20:39:41] <acrichto> it should always destroy C first ofc
[20:39:49] <strcat> oh, why does field declaration order matter?
[20:39:51] <acrichto> but it should be C -> B -> A, not C -> A -> B
[20:40:01] <acrichto> it doesn't matter for safe rust b/c you can't share ownership
[20:40:07] <acrichto> but the scheduler kinda mucks with all that
[20:40:24] <acrichto> the scheduler has a PausibleCallback which internally has a handle on the event loop, which the scheduler also owns
[20:41:29] *** Quits: ak32 (ak32@moz-447EA120.red.bezeqint.net) (Quit: Leaving)
[20:43:08] *** Joins: tikue_ (tikue_star@26B1884B.3B4A6B80.689607DE.IP)
[20:44:14] *** Quits: Jackneill (Jackneill@moz-344A6123.pool.digikabel.hu) (Input/output error)
[20:45:20] <mikezaby> anyone can help with this https://gist.github.com/mikezaby/a44fbe5afeff622512ee ? sorry for the spam :(
[20:45:47] <strcat> mikezaby: what do you need help with, specifically?
[20:45:53] <mikezaby> queue.rs:23:6: 23:38 error: cannot assign to immutable field
[20:45:53] <mikezaby> queue.rs:23       self.tail.as_mut().unwrap().next = Some(node);
[20:45:58] <mikezaby> i have this error
[20:46:07] *** Quits: exobit_ (textual@moz-E06F46F0.corp.bitshelter.com) (Quit: )
[20:46:09] <strcat> @ is always immutable
[20:46:09] <mikezaby> and i wonder what i am doing wrong
[20:46:22] <strcat> it isn't owned, so it doesn't inherit mutability from an owner
[20:46:40] <strcat> @mut uses dynamic checking to implement safe mutability
[20:47:45] <mikezaby> so i should use owned pointer?
[20:47:56] <steffenomak> acrichto: I think I hit issue #5900 just so you know so I won't be filing a new issue
[20:48:46] <acrichto> steffenomak: hm that's interesting... I haven't seen that crop up much before :(
[20:48:50] *** Quits: alonlevy (alon@moz-B0E66DB7.static.bezeqint.net) (Ping timeout)
[20:49:00] <kmc> the terminology here is confusing :/   an @-box is not owned, but an @-pointer to that box is a value and so (like any other value) it has an owner
[20:49:13] <kmc> the owner of the @-pointer is responsible for decrementing the refcount on the @-box when the @-pointer goes out of scope
[20:49:56] <tjc> ooh, I got a Cthulhu error message
[20:49:58] <tjc> this is exciting
[20:50:03] *** pmoore|mtg is now known as pmoore|away
[20:50:10] <acrichto> tjc: we have a cthulhu error message ?!
[20:50:21] <tjc> acrichto: the runtime error messages that are, like, a paragraph of text
[20:50:25] <tjc> I thought those were Lovecraft quotes
[20:50:31] <acrichto> oh yeah!
[20:51:02] <steffenomak> acrichto: But for me it happens at an enum where I use an another enum that has the "as int", and when I remove just that one thing it starts to compile again.
[20:51:20] <acrichto> steffenomak: there is certainly something mysterious going on there
[20:51:23] *** Quits: pcwalton (pcwalton@moz-BE33DA21.fw1.sfo1.mozilla.net) (Quit: pcwalton)
[20:51:28] <steffenomak> acrichto: But should I post an update to the issue that is still isn't fixed?
[20:51:39] <acrichto> steffenomak: sure! bumps for awareness :)
[20:52:57] <steffenomak> acrichto: Then thats what I'm gonna do
[20:53:19] <mikezaby> kmc i dont know how to get the onwer of @-box :/
[20:53:40] <mikezaby> i think the part of the boxes in rust is the hardest to understand
[20:54:00] <strcat> mikezaby: there is no owner
[20:54:04] <strcat> @ boxes aren't owned
[20:54:23] <eddyb9> @ is shared
[20:54:28] <strcat> it's not really shared
[20:54:32] <strcat> Rc/RcMut are shared ownership
[20:55:03] <eddyb9> strcat: screw terminology :P
[20:55:10] *** sam113101 is now known as sam113101_afk
[20:55:34] <kimundi> In what way is a Rc hared in that a @ isn't?
[20:55:39] <kimundi> shared*
[20:56:09] <eddyb9> kimundi: shared_ptr sets the rules :P
[20:56:22] *** Joins: infynyxx_ (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[20:56:42] *** Joins: hoverbear (andrew@EBFA78B5.F19E5E7B.E74D50F2.IP)
[20:56:49] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[20:57:10] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[20:57:13] <kimundi> Both Rc and @ are reference counted right now, so... 
[20:57:15] <kmc> mikezaby: I think to fix this problem all you need to understand is that @ and @mut are different
[20:57:48] <kmc> "let mut node = @Node ..." lets you change which @-box the local variable 'node' points to, but it doesn't let you modify stuff inside that box, because it's an @ box and not an @mut box
[20:58:52] <strcat> kimundi: Rc has owners, they share the responsibility for destroying it
[20:59:28] <kmc> mikezaby: the situation is different with ~; if you say "let mut node = ~Node ..." then the local variable 'node' is the owner of the ~-box, and the mutability of that local variable determines the mutability of the ~-box
[20:59:37] <strcat> @ permits cycles and doesn't make any guarantees about destruction based on owners going out of scope
[20:59:55] <mikezaby> https://gist.github.com/mikezaby/a44fbe5afeff622512ee
[20:59:59] <kimundi> Well, the same is true for a @, no?
[21:00:00] <mikezaby> i changed to this
[21:00:17] <strcat> kimundi: @ doesn't have owners
[21:00:17] <mikezaby> is this corrent or i abuse the boxes?
[21:00:27] *** Joins: pcwalton (pcwalton@moz-BE33DA21.fw1.sfo1.mozilla.net)
[21:00:27] *** ChanServ sets mode: +ao pcwalton pcwalton
[21:00:42] *** Joins: strcat1 (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[21:00:43] <kimundi> I guess once @ is actually garbage collected it's technically only owned by the garbage collector
[21:00:54] <strcat1> kimundi: it's still technically not owned by variables
[21:01:12] <strcat1> creating a cycle in safe code is a simple proof of that
[21:01:15] <eddyb9> @ is referenced not owned
[21:01:29] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[21:01:31] <eddyb9> or something like that :P
[21:01:36] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[21:01:44] <kmc> mikezaby: and yeah, the different kinds of boxes/pointers are one of the hardest parts of Rust... our defense is that C++ makes you think about these things as well, it just doesn't check that you've done them correctly :)
[21:01:48] <strcat1> kimundi: and the implementation details aren't part of the guarantees - it doesn't guarantee destruction based on scopes
[21:01:59] <strcat1> kmc: I don't think it's that bad
[21:02:00] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[21:02:05] <strcat1> [1, 2, 3] vs (1, 2, 3) in python
[21:02:07] <strcat1> same thing
[21:02:26] <strcat1> that's just the @mut vs. @ difference
[21:02:34] <eddyb9> strcat1: uhm, that's a tuple in python...
[21:02:37] <kmc> yeah I was speaking more generally
[21:02:37] <strcat1> the documentation is absolutely terrible, but it's not complicated
[21:02:45] <eddyb9> strcat1: oh, you mean they're immutable?
[21:02:45] *** strcat1 is now known as strcat
[21:02:55] <strcat> eddyb9: yes, the difference between a list/tuple in python is only mutability
[21:03:07] <strcat> why does a tuple exist? because python says mutable things aren't hashable
[21:03:13] <kmc> in C++ a given Foo* could confer ownership or be borrowed or be ref-counted, and you only know from documentation (if you're not using smart pointers)
[21:03:21] *** Quits: pnkfelix (pnkfelix@moz-5A4C52C7.hfc.comcastbusiness.net) (Quit: Leaving.)
[21:03:21] <eddyb9> strcat: 2lazy2rehash
[21:03:40] <strcat> eddyb9: well you can't really rehash, you would need to know about all the owners for that
[21:03:46] <strcat> and know that they are in a dict
[21:03:48] *** Quits: msingle (Thunderbir@moz-930E5D97.hr.hr.cox.net) (Ping timeout)
[21:03:59] <brson> erickt: i've put in the request for a meetup in sf on 11/20
[21:04:07] <erickt> brson: thanks!
[21:04:09] <strcat> rust's @mut won't protect you from the problems that python rule protects people from
[21:04:27] <brson> erickt: let's wait a few days to see if there are any snags before scheduling it on meetup.com though
[21:04:34] <erickt> brson: let me know if there's anything else I can do to help
[21:04:38] <strcat> kmc: for a fair comparison you would be using equivalent code to rust though ;p
[21:04:40] <erickt> brson: sure thing
[21:04:41] <kimundi> Still, I think you can claim both @ and Rc to either be shared ownership or not to be shared ownership, depending on how you spin it
[21:04:55] <strcat> kimundi: you can't
[21:04:58] <strcat> you can make a cycle with @
[21:05:04] <kimundi> so?
[21:05:05] <strcat> there's not an owner if it's in a cycle
[21:05:13] *** Quits: sebcrozet (sebcrozet@moz-2517AE39.w80-13.abo.wanadoo.fr) (Quit: Gone)
[21:05:13] <strcat> ownership only applies to trees
[21:05:16] *** Quits: niftynif (Mibbit@moz-B6DFA19D.wireless.oberlin.edu) (Quit: http://www.mibbit.com ajax IRC Client)
[21:05:27] <kimundi> I don't see how that affects the property of more tan one location to keep the value alive
[21:05:28] <kmc> strcat: in which case you have a similar proliferation of pointer types but still no safety
[21:05:31] <erickt> pcwalton: ping
[21:05:47] <strcat> kmc: that's not entirely true though
[21:06:06] <strcat> rust doesn't do resource management better than C++, the safety comes from protection from reference invalidation
[21:06:19] *** Quits: lima (ulises@moz-FE47672D.adsl.net.t-com.hr) (Quit: Leaving)
[21:06:27] <eddyb9> kimundi: a cycle doesn't keep itself alive, at least not in decent GCs
[21:06:30] <kmc> I didn't say Rust does resource management better than C++, whatever that would mean
[21:06:30] <strcat> it is *simpler* than C++ due to lacking move/copy constructors, and it tends to make you write more performant code due to moving by default
[21:06:38] <strcat> kmc: s/better/safer/ then
[21:06:43] <eddyb9> (v8 has some docs on this GC thing)
[21:07:04] <kmc> I don't know how you're drawing the line between resource management and reference management such that C++'s unsafety lies entirely in the latter
[21:07:15] <pcwalton> erickt: pong
[21:07:36] <eddyb9> strcat: C++14 lets you use smart pointers without ever touching new, delete or raw pointers
[21:07:52] <strcat> kmc: std::unique_ptr is not less safe than Option<~T>
[21:07:54] <erickt> pcwalton: hey there! Do you happen to have a little blurb written up about sprocketnes I could use for the meetup?
[21:08:00] <eddyb9> strcat: but you have to use make_unique instead of ~
[21:08:07] <strcat> that part doesn't matter
[21:08:14] <strcat> C++ references/iterators are unsafe
[21:08:21] <pcwalton> erickt: hmm, I don't, but I can get you one later
[21:08:28] <kmc> strcat: sure it is, because you can take a reference to a unique_ptr and let it dangle... if you want to argue that unsafety is part of references and not part of unique_ptr, I'm fine with that, but don't think it's a useful distinction
[21:08:33] <erickt> pcwalton: awesome, thanks
[21:08:36] *** Quits: Blub\w (wry@moz-3E6A3207.wireless.dyn.drei.com) (Quit: night)
[21:08:38] <strcat> kmc: it is a useful distinction
[21:08:41] <strcat> otherwise ~T isn't safe
[21:08:42] <eddyb9> it's still verbose and not as safe, even in C++14
[21:08:47] *** Quits: malvarez (kvirc@5E36B4FF.E5444AFD.FD1591F7.IP) (Ping timeout)
[21:08:47] <strcat> because you can take an * ptr to it and it can dangle
[21:08:57] <strcat> just like C++
[21:09:25] <erickt> heh, we already have 7 people signed up for http://www.meetup.com/Rust-Bay-Area/events/143439552/, even though we don't have a definite time and place for it
[21:09:34] <kmc> I think things like freezing indicate that you can't completely separate box safety from reference safety
[21:09:42] <kmc> to know if your refs are safe, you have to know how the boxes behave
[21:10:03] <strcat> kmc: a unique pointer implementation in rust can be done with a regular struct with a destructor
[21:10:15] <strcat> ~ isn't special, it doesn't implement special safety semantics not in C++ or plain rust code
[21:10:26] <strcat> the only special part is that it supports GC
[21:10:52] <strcat> (well, it supports an imaginary GC ;p)
[21:11:52] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[21:12:27] *** Quits: int3_ (int3_@7F8DDCC4.C2437F4F.DC877F3B.IP) (Client exited)
[21:13:34] *** Quits: spider-mario (spidermari@moz-2F72F6FF.dsl.quantic-telecom.net) (Input/output error)
[21:17:36] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[21:17:40] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[21:19:39] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[21:22:38] *** Joins: nwmcsween (nwmcsween@E0025B86.51EE1362.3655BBF5.IP)
[21:23:04] *** Joins: alonlevy (alon@moz-E6115DFA.bb.netvision.net.il)
[21:24:43] <brson> erickt: is the meetup intended to be just a presentation about sprocketnes?
[21:24:55] *** Quits: blank_name (blank_name@2E4E7E43.800E1818.31EC03F3.IP) (Quit: leaving)
[21:24:57] *** Joins: Liothen (liothen@moz-266BCA86.spkn.qwest.net)
[21:24:59] *** Joins: blank_name (blank_name@2E4E7E43.800E1818.31EC03F3.IP)
[21:25:14] <erickt> brson: I'd love for there to be more, but so far I haven't been able to recruit anyone else to present
[21:25:37] *** Quits: blank_name (blank_name@2E4E7E43.800E1818.31EC03F3.IP) (Quit: leaving)
[21:25:43] *** Joins: blank_name (blank_name@2E4E7E43.800E1818.31EC03F3.IP)
[21:26:01] <erickt> brson: pcwalton has told me his talk would be about 30 min (or less if I recall correctly)
[21:26:10] <tjc> brson: IMO, chatting before the talk, then a 30-min talk, then chatting afterwards, is plenty for a meetup
[21:26:25] <pcwalton> ugh
[21:26:29] * pcwalton needs to block himself from HN for a while
[21:26:42] <pcwalton> getting into a stupid slapfight about floating point precision
[21:26:43] <tjc> pcwalton: I recommend LeechBlock for that
[21:27:01] <tjc> lets you block certain sites either at given times of day, or for x amount of time starting now
[21:27:01] <mcpherrin> pcwalton: I have strong opinons about flaots!
[21:27:02] <pcwalton> I was SO RIGHT about what the "auto" keyword does in C++
[21:27:03] <erickt> brson: I'll also add a "let me know if you want to do a lighting talk" to the meetup announcement
[21:27:46] *** Joins: malvarez (kvirc@5E36B4FF.E5444AFD.FD1591F7.IP)
[21:27:59] * mcpherrin needs to renable leechblock and stop reading pcwalton slapfights
[21:28:49] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[21:29:10] *** Quits: themgt (themgt@moz-EE7F7E8D.baf.movistar.cl) (Quit: themgt)
[21:29:40] <osa1> is there a term like Haskell's undefined to fill in the blanks to get it compiled?
[21:29:52] <tjc> osa1: Yes -- fail2!("Not implemented")
[21:29:57] *** Quits: steffenomak (steffenoma@moz-FB0A4BEB.student.uu.se) (Quit: WeeChat 0.4.2)
[21:30:02] <tjc> or fail!("Not implemented") if you're using 0.8
[21:30:31] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[21:31:02] <ercxx> What does this mean: error: cannot move out of captured outer variable in a heap closure ?
[21:31:22] <osa1> tjc: I'm using 0.8 but fail2! also worked
[21:31:26] <ercxx> I was looking at this SO question: http://stackoverflow.com/questions/19499387/calling-an-on-heap-function-argument-inside-of-a-closure
[21:31:36] <pcwalton> there is this weird thing related to the parable of the bikeshed whereby there are some topics which are so specialized that only a few people care about them, and so inconsequential to almost everybody else, that they engender tons of argument for no reason
[21:31:44] <pcwalton> it's not exactly bikeshedding because they aren't easy to have an opinion on
[21:31:57] *** Quits: tikue_ (tikue_star@26B1884B.3B4A6B80.689607DE.IP) (Ping timeout)
[21:32:05] <pcwalton> anyway, precision of intermediate floating point expressions is one of those
[21:32:46] <tjc> pcwalton: In this particular case, it's an opportunity to show off that one actually knows science that isn't computer science, and everybody loves being able to do that ;-)
[21:32:50] <sfackler> ecrxx: https://github.com/mozilla/rust/wiki/Doc-under-construction-FAQ
[21:33:07] <pcwalton> so I actually did learn some stuff about floating point from this debate so it's not totally useless, just 99% useless
[21:33:18] *** Quits: Jesse (jruderman@moz-537BCF9.hsd1.ca.comcast.net) (Quit: Jesse)
[21:33:42] *** Joins: tikue_ (tikue_star@26B1884B.3B4A6B80.689607DE.IP)
[21:33:47] <osa1> how does == on strings work?
[21:33:54] *** sam113101_afk is now known as sam113101
[21:33:55] <ercxx> sfackler: thank you
[21:34:03] <pcwalton> osa1: it's implemented in the standard library as a trait implementation of Eq
[21:34:12] <pcwalton> and it compares the strings for equality deeply (not by pointer)
[21:34:58] <osa1> awesome
[21:35:14] *** Quits: jordyd (jordyd@moz-151B7FEA.seg37.ucf.edu) (Ping timeout)
[21:35:14] *** Joins: gareth0 (gareth0@7B67FAFD.7B34A6AE.2653C6EC.IP)
[21:35:28] <osa1> last question, I have a borrowed str pointer and I want to create a ~ copy of it, how can I do that?
[21:35:43] <sfackler> s.to_owned()
[21:36:05] <osa1> great
[21:36:07] <osa1> thanks
[21:37:30] <tjc> brson or someone else who would know: is there an obvious wrong thing I'm doing if I see "fatal runtime error: thread-local pointer is null. bogus!" ?
[21:37:55] <acrichto> tjc: have you been modifying the runtime?
[21:38:03] <acrichto> or I/O stuff?
[21:38:06] <tjc> acrichto: Not in the slightest
[21:38:07] <tjc> just rustpkg
[21:38:11] <acrichto> that is not cool
[21:38:20] <tjc> acrichto: here's what I'm actually doing...
[21:38:20] <acrichto> tjc: what's the stack trace?
[21:38:35] <tjc> acrichto: I'll get the stack trace next but first I'll summarize what I was doing, which may be obviously silly
[21:38:38] <tjc> so I have a rustpkg test case
[21:38:54] * jensnockert hugs pcwalton.
[21:38:54] <tjc> it has a custom package script, so rustpkg calls rustpkg as a separate process, then that process spawns off a second process to call the package script
[21:39:03] <tjc> the package script code calls back into the rustpkg library
[21:39:09] <tjc> and it's there that the error message happens
[21:39:18] <tjc> So I have some vague guess that maybe what I'm doing isn't thread-safe but if so, I'm not sure what to fix
[21:39:21] <tjc> I'll paste the stack trace now
[21:39:31] *** Joins: steffenomak (steffenoma@moz-FB0A4BEB.student.uu.se)
[21:39:38] * jensnockert also hugs mcpherrin.
[21:39:38] <acrichto> although these are all separate processes so how would thread-safety come into play?
[21:39:47] <tjc> Well, I know, that's what puzzles me
[21:39:47] *** Quits: blank_name (blank_name@2E4E7E43.800E1818.31EC03F3.IP) (Quit: leaving)
[21:39:51] <tjc> I wouldn't *think* it woudl matter
[21:39:55] *** Joins: blank_name (blank_name@2E4E7E43.800E1818.31EC03F3.IP)
[21:40:04] <acrichto> these are just 'fn main() { ... }' programs, right?
[21:40:11] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Ping timeout)
[21:40:12] <tjc> yeah
[21:41:18] <tjc> acrichto: now that I'm trying to run it in gdb, it's actually behaving normally
[21:41:21] <tjc> *headdesk*
[21:41:29] <acrichto> tjc: excellent!
[21:41:35] <acrichto> so clearly we install gdb as a dep
[21:41:38] <tjc> acrichto: I'll try it a few more times
[21:41:39] <acrichto> and run all rustpkg processes in gdb
[21:41:44] <tjc> I'm sure it will fail eventually
[21:41:55] *** Quits: blank_name (blank_name@2E4E7E43.800E1818.31EC03F3.IP) (Quit: leaving)
[21:41:58] <acrichto> I very recently just ran gdb about 30 times before I got a failure
[21:42:00] *** Joins: blank_name (blank_name@2E4E7E43.800E1818.31EC03F3.IP)
[21:42:07] <acrichto> I like that it asks you to confirm a re-run if you're currently in a failure mode
[21:42:17] *** kimundi is now known as zz_kimundi
[21:42:44] *** Quits: blank_name (blank_name@2E4E7E43.800E1818.31EC03F3.IP) (Quit: leaving)
[21:43:12] *** Joins: vk (chatzilla@3E9D68F2.B1163E0C.2A6693DD.IP)
[21:43:20] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Client exited)
[21:43:54] *** Joins: crembo (crembo@moz-C2B364AA.vc.shawcable.net)
[21:44:12] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[21:44:18] *** Joins: rveach (kvirc@410D297A.C7FE7DD2.1302FB2C.IP)
[21:44:18] <pcwalton> oh, interesting
[21:44:26] <pcwalton> clang++ has FLT_EVAL_METHOD set to 0 with SSE
[21:44:28] <pcwalton> which means Rust's behavior
[21:44:34] <osa1> in a pattern matching I have LHS and RHS same terms, is there a way to reduce RHS to a single variable? I tried `as` keyword but didn't work
[21:44:40] <pcwalton> so clang++ floating point hurts everyone everywhere ;)
[21:44:44] <osa1> like LHS(term1, term2, term2) as l => l
[21:44:48] <tjc> acrichto: Okay, that one seems to be genuinely fixed. I'm scared, but I guess I'll go on with life for now
[21:45:06] <acrichto> tjc: that's disturbing...
[21:45:20] <strcat> pcwalton: I've just been dealing with float weirdness
[21:45:21] <tjc> acrichto: I'm wondering if it was because I was running with RUST_LOG=something before, and not now
[21:45:31] <strcat> pcwalton: another thing: reporting errors is completely non-standardized
[21:45:39] <acrichto> tjc: #9901 may alleviate problems with RUST_LOG
[21:45:42] <pcwalton> strcat: looks like the world is starting to standardize on Rust's behavior for floating point
[21:45:43] <strcat> some things use errno (old stuff), some use floating point exceptions (modern)
[21:45:50] <pcwalton> which, I learned, is called FLT_EVAL_METHOD=0
[21:45:55] <tjc> acrichto: I've never seen a problem like this with RUST_LOG before, though, and I use it all the time
[21:45:59] <acrichto> tjc: we don't really print reliably so when you do it a lot things start failing. Then the runtime tries to print that it's failing and everything gets real sad
[21:46:01] <strcat> clang defaults to -fno-math-errno (it doesn't preserve setting errno)
[21:46:03] <strcat> which is good.
[21:46:03] <tjc> I guess rustc has a case of the Mondays
[21:46:15] <strcat> pcwalton: LLVM's sqrt intrinsic is really messed up :(
[21:46:31] <strcat> pcwalton: since it can be lowered to a library sqrt call, it may set errno on < -0.0
[21:46:34] <strcat> so they made it undefined behaviour.
[21:46:50] <strcat> because they want to say it is readonly
[21:46:52] <pcwalton> fffff
[21:46:56] *** Quits: tgummerer (tgummerer@51D3B54.FEF996EA.EA6FEF3D.IP) (Ping timeout)
[21:47:10] <pcwalton> strcat: can we just make it inline asm? :P
[21:47:10] *** Joins: blank_name (blank_name@2E4E7E43.800E1818.31EC03F3.IP)
[21:47:12] <strcat> pcwalton: https://github.com/thestinger/rust-core/blob/b5cdd2c10952527f100bc439b1ecb993dface0d1/core/f64.rs#L35 need this hack for the stdlib too
[21:47:13] *** Quits: blank_name (blank_name@2E4E7E43.800E1818.31EC03F3.IP) (Quit: blank_name)
[21:47:19] <strcat> pcwalton: well, it will hopefully optimize that out
[21:47:25] *** Joins: blank_name (blank_name@2E4E7E43.800E1818.31EC03F3.IP)
[21:47:28] *** Quits: blank_name (blank_name@2E4E7E43.800E1818.31EC03F3.IP) (Quit: blank_name)
[21:47:29] <strcat> just not on platforms where it lowers to a lib call
[21:47:31] <strcat> ARM?
[21:47:41] *** Joins: blank_name (blank_name@2E4E7E43.800E1818.31EC03F3.IP)
[21:47:48] *** Quits: eholk (eholk@moz-17BEA8A.bb.hrtc.net) (Quit: eholk)
[21:47:48] *** Quits: blank_name (blank_name@2E4E7E43.800E1818.31EC03F3.IP) (Quit: leaving)
[21:48:11] <pcwalton> btw, are you OK with treating core as a kind of incubator for uplift to std, or at least making sure it stays compatible with std?
[21:48:21] <pcwalton> I'm very happy that you're experiment but I don't want a Phobos/Tango 
[21:48:26] <pcwalton> experimenting*
[21:48:49] <strcat> pcwalton: well I am going to try to upstream the changes it makes
[21:48:52] <pcwalton> ok
[21:48:55] <strcat> I state that in the README :)
[21:48:59] <pcwalton> ok, great
[21:49:28] <strcat> it tries to make the low-level stuff much more pretty than the stdlib currently does
[21:49:40] <strcat> and I have a Vec type instead of ~[T]
[21:49:55] <pcwalton> I was wondering about that, how do you deal with borrowing to a slice?
[21:49:57] <pcwalton> or borrowing subelements
[21:50:05] *** Parts: steffenomak (steffenoma@moz-FB0A4BEB.student.uu.se) (Leaving)
[21:50:09] <strcat> explicit atm
[21:50:14] <strcat> pcwalton: https://github.com/thestinger/rust-core/blob/b5cdd2c10952527f100bc439b1ecb993dface0d1/core/vec.rs#L73
[21:50:28] <pcwalton> is that painful? if not maybe we could just make that change upstream
[21:50:36] <pcwalton> I would like to see &[int] become [int] maybe
[21:50:55] <strcat> pcwalton: being able to implement implicit borrowing to &[int] maybe
[21:50:58] <strcat> and &str
[21:51:05] * strcat shrugs
[21:53:37] <strcat> pcwalton: I actually tried to expose the expect intrinsic for bounds checks but it doesn't work :(
[21:53:43] <strcat> lower-expect runs in function passes
[21:53:54] <strcat> could move it but meh
[21:54:07] <strcat> it only helped in a really convoluted case anyway
[21:54:15] <pcwalton> does the fail-bounds-check path not get put at the end of the fn?
[21:54:18] <osa1> "expected `&[&str]` but found `~[~str]`" I thought I can pass owned pointers to a function that expects borrowed pointer ...
[21:54:27] *** Quits: tikue_ (tikue_star@26B1884B.3B4A6B80.689607DE.IP) (Client exited)
[21:54:31] <pcwalton> I noticed that it wasn't but that was before marking it as noret
[21:54:35] <strcat> pcwalton: LLVM doesn't know what it does in libstd
[21:54:46] <strcat> pcwalton: and it's missing -> ! in libstd so it's not noreturn
[21:55:15] <strcat> in rust-core it lowers to trap, and LLVM weights again trap/unwinding afaict.
[21:55:19] <strcat> against*
[21:55:31] <pcwalton> oh, ok
[21:55:36] <pcwalton> well, we should just add -> ! in libstd
[21:55:40] <tjc> acrichto: I do indeed seem to get weird failures when I set RUST_LOG, but not without. So I'll just assume that your PR will fix it :-)
[21:55:56] * acrichto crosses fingers
[21:56:00] <strcat> pcwalton: we could also add #[cold]
[21:56:06] <strcat> they have a 'cold' attribute for functions
[21:56:11] *** Joins: blank_name (blank_name@2E4E7E43.800E1818.31EC03F3.IP)
[21:56:13] <pcwalton> different from coldcc?
[21:56:13] <strcat> but..... if LLVM inlines the function, it doesn't lower cold to anything
[21:56:15] <strcat> it's just gone
[21:56:29] <pcwalton> well, usually cold should imply noinline I would think
[21:56:39] <strcat> pcwalton: cold functions are basically a negative expect
[21:56:41] <pcwalton> as after all why bother inlining something cold
[21:56:44] <strcat> for any branch the function call dominates
[21:56:46] *** Joins: skade (skade@moz-D8051715.pools.arcor-ip.net)
[21:57:01] <strcat> I tried adding util::cold() but... it just lowers to nothing
[21:57:02] <strcat> ;p
[21:57:15] *** Quits: Kruppe (user@moz-253119B0.esg.uwaterloo.ca) (Ping timeout)
[21:57:25] <osa1> can anyone explain me why I'm getting expected `&[&str]` but found `~[~str]` error?
[21:57:38] <strcat> pcwalton: I think inlining would need to be taught to convert cold calls into branch metadata http://llvm.org/docs/BranchWeightMetadata.html
[21:57:51] <strcat> pcwalton: expect is close to useless atm.... lower-expect is the dumbest thing ever
[21:58:10] <strcat> it runs in the function pass and only works if it's used in a *very specific* pattern for a branch/switch
[21:58:12] <strcat> right above it.
[21:58:31] <strcat> I thought it might be useful for a few things but it would need LLVM work
[21:58:59] <sfackler> osa1: &[~str] is a different type than &[&str]
[21:58:59] *** Joins: steffenomak (steffenoma@moz-FB0A4BEB.student.uu.se)
[21:59:38] <strcat> pcwalton: anyway it makes bad IR for push if I don't mess around with the code a lot ;\
[21:59:40] <osa1> sfackler: well, there are cases where you can pass ~ to function that expects &
[21:59:48] <strcat> pcwalton: doesn't realize the realloc branch is the uncommon one
[21:59:59] <pcwalton> yeah, I worked around that by making realloc noinline..
[22:00:08] <pcwalton> I remember a few cases of massive code bloat relating to push
[22:00:30] <pcwalton> by realloc I mean push-slow
[22:00:44] *** Joins: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com)
[22:00:55] *** Joins: strcat1 (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[22:01:12] <strcat1> pcwalton: yeah, with the alternate vector layout the code is a lot smaller
[22:01:21] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[22:01:21] *** Quits: devbug (quassel@2D4E172D.4C8B6099.9B57EA59.IP) (Ping timeout)
[22:01:28] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[22:01:30] <strcat1> dunno how to deal with @ though :(
[22:01:33] <pcwalton> nice
[22:01:35] *** strcat1 is now known as strcat
[22:01:58] *** Joins: jordyd (jordyd@moz-8B0C503.seg101.ucf.edu)
[22:02:30] <strcat> current numbers for ~[T] vs. { len, cap, data* } are 45000ns/iter vs. 7000ns/iter
[22:02:52] <strcat> basically the same numbers with the vector preallocated or not both with the glibc allocator
[22:03:18] *** Quits: jxv (jxv@4732E7D7.2AB34561.9B38A32A.IP) (Ping timeout)
[22:03:22] *** Joins: mib_g70eaz (Mibbit@2FB1C6A8.D2312BC6.DDE5D3F6.IP)
[22:03:24] <strcat> (for pushing 10k elements)
[22:03:44] <mib_g70eaz> whats the best way to get a file size?
[22:04:02] <tjc> mib_g70eaz: It's a bit awkward, but see std::libc::stat
[22:04:18] <strcat> apparently libuv has fstat but we might not expose it
[22:04:28] <strcat> iirc stat is *really* weird on windows
[22:04:42] <mib_g70eaz> LOL
[22:04:48] <mib_g70eaz> alright ill give it a shot thanks
[22:04:55] *** Joins: bletch (Mibbit@moz-264643C7.bitstream.orcon.net.nz)
[22:05:58] *** Quits: bletch (Mibbit@moz-264643C7.bitstream.orcon.net.nz) (Quit: http://www.mibbit.com ajax IRC Client)
[22:06:06] <strcat> can rust currently link against a C library compiled with MSVC? or is the ABI wrong
[22:06:21] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[22:06:25] *** Joins: jxv (jxv@4732E7D7.2AB34561.9B38A32A.IP)
[22:06:31] *** Quits: steveklabnik (steveklabn@moz-5EF6C37C.socal.res.rr.com) (Ping timeout)
[22:06:36] <strcat> I'm thinking about implementing C11 threads as a wrapper around C++11 threads on windows and then using it from rust-core...
[22:06:55] <tjc> strcat: I don't think we support MSVC right now. I think there's an issue open on it if you search for "Visual Studio" or something
[22:07:30] <strcat> I just mean using a dll compiled by it though, not compiling rust with it
[22:07:39] <cmr> std::rt::io::FileInfo
[22:07:46] <cmr> Don't use std::libc
[22:07:54] *** Quits: doomlord_ (servitor@moz-3F3192E5.range86-184.btcentralplus.com) (Quit: Leaving)
[22:08:05] <cmr> You can call the .stat method on a Path
[22:08:07] <mib_g70eaz> cmr ftw
[22:08:17] <cmr> std::rt::io::file::FileInfo, sorry.
[22:08:38] *** Joins: int3_ (int3_@19B61655.2790ADDD.7C7FF317.IP)
[22:08:40] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Client exited)
[22:08:41] <cmr> Also I was thinking FileSystemInfo
[22:09:38] *** Quits: fhahn (fhahn@moz-7924DB5C.vie.surfer.at) (Ping timeout)
[22:10:26] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[22:11:58] *** Quits: crembo (crembo@moz-C2B364AA.vc.shawcable.net) (Client exited)
[22:12:39] *** Quits: mikezaby (mikezaby@moz-908EA8DE.home.otenet.gr) (Input/output error)
[22:13:27] *** Joins: donri (donri@moz-9BB61102.tbcn.telia.com)
[22:13:56] <mib_g70eaz> is the priority queue backed by a min or max heap?
[22:14:05] <strcat> max heap
[22:14:11] <mib_g70eaz> GG thanks
[22:14:25] <strcat> although it's the same thing if you make a newtype flipping the operators
[22:14:28] <strcat> ;p
[22:15:01] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[22:15:18] *** Quits: nsf (nsf@moz-EEF3238A.convex.ru) (Quit: WeeChat 0.4.2)
[22:15:32] *** Quits: malvarez (kvirc@5E36B4FF.E5444AFD.FD1591F7.IP) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[22:15:47] <strcat> rusti: let mut xs = extra::priority_queue::PriorityQueue::new(); xs.push(5); xs.push(2); xs.pop()
[22:15:48] -rusti- 5
[22:17:26] *** Quits: hoverbear (andrew@EBFA78B5.F19E5E7B.E74D50F2.IP) (Ping timeout)
[22:17:33] *** Joins: fhahn (fhahn@moz-7924DB5C.vie.surfer.at)
[22:18:21] *** Joins: hoverbear (andrew@EBFA78B5.F19E5E7B.E74D50F2.IP)
[22:20:49] *** Quits: skade (skade@moz-D8051715.pools.arcor-ip.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[22:23:03] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[22:24:14] *** Joins: crembo (crembo@moz-C2B364AA.vc.shawcable.net)
[22:25:18] *** Quits: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net) (Ping timeout)
[22:25:54] *** Joins: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net)
[22:29:38] *** Quits: infynyxx_ (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[22:29:59] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[22:31:41] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[22:37:05] <FreeFull> rusti: let mut xs = extra::priority_queue::PriorityQueue::new(); xs.push(2); xs.push(5); xs.pop()
[22:37:06] -rusti- 5
[22:37:21] <FreeFull> Makes sense
[22:37:52] <steffenomak> acrichto: Hey, I fixed my problem... I deleted everything that used the "as" statement in enums, and all works as expected... :D
[22:38:02] <acrichto> steffenomak: awesome!
[22:39:08] <h3r3tic> hey, is it possible to write a function which automatically converts a string to an enum without writing out all the enum variants by hand? I'm only after enums with empty ctors, e.g. the classical enum Animal { Cat, Dog }
[22:39:09] *** Joins: mcv (Mibbit@EE93301C.9875BCA6.DDE5D3F6.IP)
[22:39:19] <steffenomak> acrichto: It looks like the "as" breaks stuff. So now I know what not to do when writing bindings for clibs in rust. And again thx for the help
[22:39:42] <acrichto> steffenomak: no problem! and hopefully the 'as' stuff will get fixed soon, b/c that's certainly a bug in the compiler
[22:41:16] <steffenomak> acrichto: maybe, I would love to help, but I'm to new to rust and big projects to be of any help.
[22:41:37] <tjc> h3r3tic: You might be able to use Encodable/Decodable, but for a case like that it might be just easier to write it by hand :-)
[22:41:42] *** Joins: aatch (James@moz-B437F499.pocketrent.com)
[22:42:02] <acrichto> steffenomak: we certainly accept any and all help :), rust actually has a pretty low activation-energy for getting started (from what I've seen), so don't let the size intimidate you!
[22:42:27] <acrichto> steffenomak: we've got an E-easy tag on the bug tracker which might be a good place to start if you're looking to help out (to get your feet wet in the compiler)
[22:42:56] <mcv> Hey, can I bother someone here with a little code hiccup I've got in Rust 0.8?  I've got an Option<uint> object returned by str::find_str.  My code has Some(value) => { print(fmt!("%u", value)); } but on runtime this gives me "task <unnamed> failed at 'explicit failure', /build/buildd/rust-0.8-0.8/src/libstd/rt/io/stdio.rs:20
[22:42:58] <acrichto> steffenomak: https://github.com/mozilla/rust/wiki/Note-guide-for-new-contributors also has some more information about getting started if you're interested
[22:42:59] <steffenomak> acrichto: Mayby I'll check them out.
[22:43:03] <kmc> h3r3tic: you could write a macro which produces both the enum and the function
[22:43:06] <FreeFull> tjc: Maybe he gets the various cases from some data source
[22:43:14] <mib_g70eaz> in std::libc::types::os::arch::posix01::stat what does st_atime represent?
[22:43:18] <kmc> I think both rust-http and https://github.com/mozilla-servo/rust-cssparser do things like that
[22:43:35] <kmc> you might have to output it as a module because I don't think macros can output multiple items atm
[22:43:46] <tjc> FreeFull: Sure, then it would be better to use Decodable, or possibly something involving macros. AFAIK there's no easy solution implemented right now
[22:43:47] <kmc> mib_g70eaz: http://linux.die.net/man/2/stat
[22:43:52] <h3r3tic> tjc: interesting, thanks! yeah, it would be sufficient to write it out by hand, but then I'm allergic to boilerplate :)
[22:43:58] *** Joins: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca)
[22:43:59] <tjc> mib_g70eaz: atime is "access time", the last time the file was read or written
[22:44:12] <mib_g70eaz> sweet thanks!
[22:44:14] <tjc> mib_g70eaz: IIRC, this doesn't exist on some platforms, so it may not be something you can rely on across platforms
[22:44:24] <h3r3tic> kmc: aha! I thought there would be this option :) thanks, will need to read up on macros
[22:44:38] <kmc> h3r3tic: http://static.rust-lang.org/doc/master/tutorial-macros.html
[22:44:39] <tjc> h3r3tic: Understoodâ€¦ I think the main thing that would make it non-straightforward is handling failure
[22:44:51] <h3r3tic> mm
[22:45:02] <h3r3tic> kmc: tnx!
[22:45:04] *** Quits: blank_name (blank_name@2E4E7E43.800E1818.31EC03F3.IP) (Quit: leaving)
[22:45:08] *** Quits: pyrac (pyrac@moz-E2FF17D7.w109-214.abo.wanadoo.fr) (Quit: pyrac)
[22:45:18] *** Joins: blank_name (blank_name@2E4E7E43.800E1818.31EC03F3.IP)
[22:45:30] <h3r3tic> I do need to handle failure gracefully indeed.
[22:45:36] <steffenomak> acrichto: will take a look. Feel that rust is an amazing language and like it quite a lot and want to see it used more.
[22:45:49] <FreeFull> h3r3tic: Where are you getting the values for the enum from? Made them up yourself, or from some data source? Are they available at compile time or only at runtime?
[22:46:19] <ercxx> h3r3tic: https://github.com/chris-morgan/rust-http/blob/master/src/libhttp/headers/mod.rs#L845 and further down from there for how rust-http does it.
[22:46:32] *** Quits: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca) (Quit: ChatZilla 0.9.90.1 [Firefox 25.0/20131015052812])
[22:46:54] <h3r3tic> FreeFull: not sure if I'm following. all the values are predefined at compile time, otherwise it wouldn't be an enum. specifically, this is for pixel formats of OpenGL textures, which I'll be configuring via json files at runtime.
[22:47:14] <h3r3tic> ercxx: awesome, thanks :D
[22:47:48] <FreeFull> h3r3tic: You could probably just have a separate utility that generates the Rust code for you
[22:48:14] <h3r3tic> FreeFull: yup! and if the alternatives aren't simple enough, I might go for that.
[22:48:34] *** Joins: eatkinson (eatkinson@E606E84C.772DB3ED.90B17E8F.IP)
[22:48:46] *** Joins: xexio (xexio@moz-C3BB16B4.red-81-43-211.staticip.rima-tde.net)
[22:48:46] *** Quits: hoverbear (andrew@EBFA78B5.F19E5E7B.E74D50F2.IP) (Ping timeout)
[22:49:37] *** Joins: hoverbear (andrew@EBFA78B5.F19E5E7B.E74D50F2.IP)
[22:49:45] *** Quits: Scriptor (historium@moz-E06F46F0.corp.bitshelter.com) (Quit: Scriptor)
[22:49:49] <h3r3tic> ercxx: that's really neat. I think I'll be using that in a few places. much appreciated :3
[22:50:03] *** Joins: xexio_ (xexio@moz-C3BB16B4.red-81-43-211.staticip.rima-tde.net)
[22:50:05] *** Quits: xexio (xexio@moz-C3BB16B4.red-81-43-211.staticip.rima-tde.net) (Quit: Konversation terminated!)
[22:51:26] <mcv> Hey y'all, any chance I could get some help with some strange printing behavior I'm getting?  I'm getting a "killed by linked failure" error which is new and fascinating.
[22:51:38] <mcv> Er, new to me anyway.  =)
[22:52:37] <kmc> sure, can you pastebin your code?
[22:52:44] <mcv> Sure thing.
[22:52:54] <kmc> that error indicates that some other task has already failed and it's bring down this one with it
[22:53:26] <kmc> so the root cause will be a different error message (which might or might not print before the linked failure one, because threads)
[22:53:39] *** Joins: doomlord_ (servitor@moz-3F3192E5.range86-184.btcentralplus.com)
[22:54:19] <kmc> if you want a stack backtrace on the first failure, you can run in GDB and put a breakpoint on rust_begin_unwind
[22:54:24] <kmc> or use my little script which automates this  https://gist.github.com/kmcallister/7047619
[22:54:33] <FreeFull> kmc: Could it print during the linked failure one, mixing it all  up?
[22:54:34] <ercxx> h3r3tic: No problem.
[22:54:39] <kmc> FreeFull: maybe
[22:54:40] <mcv> Oh.  Hm.  Well I'm not doing anything overly complex.  You might see a silly syntactical thing right off the bat.
[22:54:48] <kmc> ok
[22:54:49] *** xexio_ is now known as xexio
[22:55:03] <ercxx> h3r3tic: I hated it while navigating the code though.
[22:55:43] *** Quits: basichash (basichash@moz-55569B25.opaltelecom.net) (Quit: Leaving)
[22:56:12] *** Joins: timers (timers@1AF43474.C9BFA536.BCAEBB33.IP)
[22:56:38] <mcv> Here's the issue.  Error on top, code on bottom:  http://pastebin.com/4KwiuMNY
[22:56:45] *** Parts: timers (timers@1AF43474.C9BFA536.BCAEBB33.IP) ()
[22:57:36] <mcv> Left out a little bit of other stuff to avoid clutter.  The issue is in the interior match.  Some(str_index) is causing the issue.
[22:57:50] <mcv> Or rather, that's where it exists.  If I comment out the print statement the code executes just fine.
[23:00:03] *** Quits: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net) (Client exited)
[23:00:24] *** Joins: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net)
[23:00:38] <osa1> is it possible do define self-referencing recursive data structure, something like: "let test_parser = ~Seq(test_parser, ~Seq(~Token(~"+"), ~Seq(test_parser, ~Empty)));" ?
[23:00:53] <kmc> osa1: not with unique pointers like that
[23:01:15] <kmc> you can do it with @-pointers
[23:01:24] <kmc> but the cycle will live until the task exits because we don't have a real garbage collector yet
[23:01:35] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[23:01:38] <osa1> hmm, let me try
[23:01:38] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[23:01:53] <kmc> you could also do it with borrowed pointers (with explicit lifetimes) in some cases, but it'd get really messy
[23:02:08] *** Quits: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net) (Ping timeout)
[23:02:09] <osa1> kmc: what should I change in my example to use @ pointers?
[23:03:15] *** Quits: huhlig-home (huhlig@moz-C8339267.hfc.comcastbusiness.net) (Ping timeout)
[23:03:15] <kmc> enum Thing { Seq(@Thing, @Thing), Token(~str), Empty }
[23:03:17] *** Quits: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP) (Quit: Leaving)
[23:03:20] <kmc> what's the overall goal here, though?
[23:03:27] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[23:03:30] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[23:03:31] <osa1> ahh I have to change the declaration ...
[23:03:38] <osa1> kmc: this is for learning purposes
[23:03:43] <kmc> okay
[23:04:14] <mcv> Hey kmc, sorry to keep pestering you.  Here's my pastebin link if you can spare a moment to help me get to the bottom of this:  http://pastebin.com/4KwiuMNY
[23:04:45] <mib_g70eaz> how does one instantiate an extra::list?
[23:04:51] *** Quits: vk (chatzilla@3E9D68F2.B1163E0C.2A6693DD.IP) (Ping timeout)
[23:04:55] <mib_g70eaz> cant seem to find a new function
[23:04:57] <osa1> kmc: do I need to change anything else? I'm still getting "unresolved name" error
[23:06:04] <engla> mib_g70eaz: it has the Nil and Cons constructors
[23:06:08] *** Quits: donri (donri@moz-9BB61102.tbcn.telia.com) (Client exited)
[23:07:11] <engla> rusti: use extra::list::{Nil,Cons};  Cons(1, @Cons(2, @Nil))
[23:07:11] -rusti- Cons(1, @Cons(2, @Nil))
[23:07:30] *** Quits: xexio (xexio@moz-C3BB16B4.red-81-43-211.staticip.rima-tde.net) (Quit: Konversation terminated!)
[23:07:32] *** jorendorff is now known as jorendorff_away
[23:09:54] *** Quits: ianj (ianjneu@moz-7140CF01.ccs.neu.edu) (Input/output error)
[23:11:29] *** Joins: jhenahan (jhenahan@moz-65B7D4EE.hsd1.vt.comcast.net)
[23:11:58] <mcv> Hey y'all, still looking for a brave soul to take a crack at this bug in printing inside a matched option.  http://pastebin.com/4KwiuMNY  Error occurs on print(fmt!("\n%?\n", str_index));  as in, commenting it out makes things work but, of course, I don't get my desired print functionality.
[23:13:43] *** Joins: malvarez (androirc@5E36B4FF.E5444AFD.FD1591F7.IP)
[23:14:14] *** Joins: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com)
[23:15:13] *** Quits: tefter (tefter@B5D119DC.B856A0A1.73804765.IP) (Client exited)
[23:15:31] *** Joins: catch878 (Mibbit@4D607BEE.80BB6BFD.DDE5D3F6.IP)
[23:15:34] <bjz_> mcv: firstly, you should be using the either git/master, or a nightly version if its provided by your package manager
[23:16:08] <kmc> mcv: in your situation I would do the GDB thing to get a backtrace
[23:16:36] <kmc> https://gist.github.com/kmcallister/7047619 (works on Linux, or run the GDB commands manually)
[23:16:40] <mcv> Okay.  I'll fiddle with that.  I did, just today, try to upgrade from 0.7 to 0.8 with some errors.  Might try removing everything and clean installing.
[23:16:53] <kmc> hard to diagnose a fail!() within the stdlib without knowing how it's being called
[23:17:14] <kmc> but perhaps try changing %? to %d
[23:18:11] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Client exited)
[23:18:26] *** Quits: Jesin (Jessin_@moz-14627F8E.cc.lehigh.edu) (Ping timeout)
[23:18:32] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[23:18:52] *** Quits: jxv (jxv@4732E7D7.2AB34561.9B38A32A.IP) (Ping timeout)
[23:19:14] <mcv> Alright, well I'm going to head out and try this again later after I re-do my Rust build.  Will try the backtrace if problem persists.  Rust has been acting wonky for me.
[23:19:26] <mcv> Thanks!  I appreciate the support.  =)
[23:19:40] *** Quits: mcv (Mibbit@EE93301C.9875BCA6.DDE5D3F6.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[23:20:14] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Ping timeout)
[23:20:21] *** Joins: Jesin (Jessin_@moz-14627F8E.cc.lehigh.edu)
[23:20:23] <h3r3tic> is there a neat way to convert an enum variant into a string? I can go with format!(), but that's kinda over kill :P
[23:22:25] <SiegeLord> Maybe #[deriving(ToStr)]
[23:23:31] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.2)
[23:23:33] <SiegeLord> Yeah, that works
[23:23:50] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[23:24:27] <bjz_> h3r3tic: also, don't rely on {:?} for a consistent representation (if doing something like serialisation). It's only meant for debug purposes.
[23:24:29] *** Quits: rossm (rossm@moz-EE3BB1DC.br.br.cox.net) (Quit: )
[23:24:38] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[23:24:43] <h3r3tic> SiegeLord: aha, tnx :D
[23:25:03] <h3r3tic> bjz_: oh? kay, tnx... I was going to go for that :P I guess I'll use SiegeLord's version :P
[23:25:22] <bjz_> :)
[23:25:28] <SiegeLord> There probably should be deriving(Default) though...
[23:25:32] <bjz_> yeah
[23:25:46] <h3r3tic> where does format! take the name from, though? :P
[23:25:47] <bjz_> and to_str should be a default method on Default
[23:26:15] <bjz_> h3r3tic: Default if {}, {:?} does reflection
[23:26:19] *** Quits: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[23:26:34] <bjz_> h3r3tic: that's std::fmt::Defualt
[23:26:50] *** Quits: olsonjeffery (pf@B8927AE1.CFEFA148.239A1A9E.IP) (Ping timeout)
[23:27:02] <h3r3tic> yeah, I was wondering if there was a neat way to get the name via reflection
[23:27:07] <h3r3tic> as {:?} does
[23:27:24] *** Joins: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com)
[23:27:40] <aatch> h3r3tic, technically yes, since {:?} manages it. But not particularly easily.
[23:27:43] <SiegeLord> I guess there's already deriving(Default) but it's the other Default
[23:28:18] <bjz_> h3r3tic: The representation is not garranteed, and I believe some of the reflection is abit hacky, and might be going a way - not sure though
[23:28:22] *** Joins: earlzlap (earlz@moz-9E279EAD.neo.res.rr.com)
[23:28:27] *** Quits: catch878 (Mibbit@4D607BEE.80BB6BFD.DDE5D3F6.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[23:28:53] <h3r3tic> mkay :P deriving(ToStr) it is
[23:28:55] <h3r3tic> thanks, guys :D
[23:30:06] *** Joins: rossm (rossm@moz-EE3BB1DC.br.br.cox.net)
[23:30:12] <bjz_> h3r3tic: I think this might be it: https://github.com/mozilla/rust/blob/master/src/libstd/sys.rs#L22
[23:30:14] *** Joins: Jesse_ (jruderman@moz-BBE3ABD.mv.mozilla.com)
[23:30:31] *** Quits: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com) (Connection reset by peer)
[23:30:36] <bjz_> it's what fmt::Poly uses: https://github.com/mozilla/rust/blob/master/src/libstd/fmt/mod.rs#L1093
[23:30:47] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[23:31:13] <bjz_> rusti: enum A { A1(int), A2 } std::sys::log_str(A1(2))
[23:31:17] -rusti- pastebinned 7 lines of output: http://ix.io/8Gq
[23:31:31] <bjz_> rusti: enum A { A1(int), A2 } std::sys::log_str(&A1(2))
[23:31:32] -rusti- ~"A1(2)"
[23:31:38] <h3r3tic> woo
[23:31:45] <h3r3tic> neat
[23:32:07] <bjz_> rusti: struct A { priv x: int } std::sys::log_str(&A { x: 2 })
[23:32:07] *** Quits: int3_ (int3_@19B61655.2790ADDD.7C7FF317.IP) (Connection reset by peer)
[23:32:08] -rusti- ~"main::A{x: 2}"
[23:32:26] <h3r3tic> good stuff
[23:32:40] <bjz_> h3r3tic: it's leaky in terms of privacy
[23:33:00] <h3r3tic> I love the automatic printing of complex structures. was parsing some json the other day, and being able to dump down the structure to the console turned out invaluable
[23:33:06] <bjz_> as I say, for hacky stuff - ok, but don't trust it
[23:33:11] <h3r3tic> mm
[23:33:23] <bjz_> isn't there a serialise trait?
[23:33:46] <h3r3tic> there's some stuff for that, yeah. but my use case is much simpler :P
[23:34:19] <h3r3tic> I just want to convert "sRGB8" into sRGB8, etc, for texture formats :3
[23:34:25] <bjz_> heh
[23:34:29] *** Quits: mib_g70eaz (Mibbit@2FB1C6A8.D2312BC6.DDE5D3F6.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[23:34:31] <h3r3tic> defining a post-processing pipeline via some json
[23:34:35] <bjz_> mm
[23:34:48] <bjz_> ooh, your getting fancy
[23:34:50] <bjz_> :P
[23:34:55] <h3r3tic> har har
[23:35:02] <bjz_> haww haww
[23:35:43] <bjz_> now try to make a compile time raytracer using our crude contexprs
[23:36:22] <bjz_> (surely there must be some hacky turing-completeness lurking in there?)
[23:36:38] <h3r3tic> haven't tried them constexprs yet :P
[23:36:49] <h3r3tic> and yeah, you don't need a lot
[23:37:00] <bjz_> static x: int = 1 * 3; // is about it
[23:37:18] <bjz_> bit-shifts casts
[23:37:37] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[23:38:06] <h3r3tic> there must be a pragma msg though
[23:38:09] * bjz_ puts a bounty on it
[23:38:14] <h3r3tic> otherwise you can't output your picture
[23:38:26] <h3r3tic> hm, maybe via compile time error
[23:38:36] <bjz_> heh
[23:40:58] *** Quits: crembo (crembo@moz-C2B364AA.vc.shawcable.net) (Client exited)
[23:42:44] *** Quits: josh (josh@moz-348C4790.hsd1.mn.comcast.net) (Quit: josh)
[23:46:02] *** Quits: alex-abreu (alex@moz-7421D6C9.mc.videotron.ca) (Ping timeout)
[23:46:02] *** Quits: malvarez (androirc@5E36B4FF.E5444AFD.FD1591F7.IP) (Ping timeout)
[23:46:30] *** Joins: alex-abreu (alex@moz-7421D6C9.mc.videotron.ca)
[23:47:29] *** sam113101 is now known as sam113101_afk
[23:49:15] *** sam113101_afk is now known as sam113101
[23:49:27] *** Quits: hoverbear (andrew@EBFA78B5.F19E5E7B.E74D50F2.IP) (Quit: hoverbear)
[23:50:05] <maikeru> eh.. std::rt::io::flate
[23:50:23] *** Quits: eatkinson (eatkinson@E606E84C.772DB3ED.90B17E8F.IP) (Quit: eatkinson)
[23:51:21] <ski> ("contexprs" ?)
[23:51:38] *** Quits: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se) (Ping timeout)
[23:56:05] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[23:56:05] <h3r3tic> hm, my version of the compiler borks when I try to use an attribute inside a macro
[23:56:21] <h3r3tic> I vaguely remember something about attributes in macros being fixed recently...
[23:56:32] <maikeru> well you can tell the wife is watching streaming video because downloading the compiler snapshot is taking FOREVER.
[23:56:56] *** Joins: Shaladdle (Shaladdle@moz-424BC304.hsd1.pa.comcast.net)
[23:58:50] *** Quits: lfox (lfox@moz-343B6F0C.nyc.biz.rr.com) (Ping timeout)
[23:59:32] *** jack is now known as jack|zzz
[23:59:56] *** Quits: Jesse_ (jruderman@moz-BBE3ABD.mv.mozilla.com) (Quit: Jesse_)
