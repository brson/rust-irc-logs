[00:01:11] *** Quits: lkuper_ (lkuper@FBF17CA0.FFCF2A3B.51B6877.IP) (Ping timeout)
[00:01:19] <brson> erickt: looks like the response is pretty good so far!
[00:01:57] <SiegeLord> Rust is used at OpenDNS?
[00:02:25] <brson> that's interesting!
[00:02:53] *** Joins: fread2281 (zcarterc@moz-CB181B42.dia.static.qwest.net)
[00:03:42] <erickt> brson: yeah! We might need to up the catering order :)
[00:03:54] <Earnestly> SiegeLord: That would be pretty cool.  Will the event be recorded?
[00:04:26] <SiegeLord> The email is ambiguous
[00:05:11] <cmr> erickt: yup, thanks!
[00:05:42] *** Quits: Jackneill (Jackneill@moz-BB5FEC0.pool.digikabel.hu) (Input/output error)
[00:05:44] *** Joins: lkuper_ (lkuper@FBF17CA0.FFCF2A3B.51B6877.IP)
[00:05:59] *** Quits: themgt (themgt@8DD3FFCF.E4336CA7.D5E2EC3A.IP) (Ping timeout)
[00:06:50] *** Quits: alan (alan@moz-FE02DD30.sat6.rackspace.com) (Quit: alan)
[00:07:56] <erickt> SiegeLord: what's this about Rust being used at OpenDNS? Was there an email?
[00:08:22] <brson> erickt: Frank D mentioned it is a topic for a lightning talk in a meetup comment
[00:08:24] <SiegeLord> http://www.meetup.com/Rust-Bay-Area/events/143439552/
[00:08:49] <erickt> ! yay!
[00:09:16] <brson> Earnestly: the plan is to record the talks, yes
[00:09:46] *** Joins: mib_mlmar0 (Mibbit@E1F2E211.599F34EC.DDE5D3F6.IP)
[00:10:01] <erickt> Earnestly: I forgot to include it in the description. I'll fix it now
[00:10:22] *** Quits: lmandel (lmandel@125EF623.B2666F0E.66399531.IP) (Quit: lmandel)
[00:10:46] *** Joins: themgt (themgt@moz-A337E176.baf.movistar.cl)
[00:11:33] *** Quits: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net) (Quit: Leaving.)
[00:12:13] <doublec> erickt: possibly this? http://labs.umbrella.com/2013/10/04/zeromq-helping-us-block-malicious-domains/
[00:12:19] <doublec> erickt: umbrella is part of opendns
[00:12:20] *** Quits: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP) (Ping timeout)
[00:12:55] *** Quits: alonlevy (alon@moz-E6115DFA.bb.netvision.net.il) (Ping timeout)
[00:13:05] *** Joins: doomlord_ (servitor@moz-3F3192E5.range86-184.btcentralplus.com)
[00:13:22] <erickt> doublec: I didn't know that, thanks for tracking it down
[00:13:31] <doublec> np
[00:15:40] *** Quits: lkuper_ (lkuper@FBF17CA0.FFCF2A3B.51B6877.IP) (Ping timeout)
[00:16:51] *** Quits: mib_mlmar0 (Mibbit@E1F2E211.599F34EC.DDE5D3F6.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[00:20:56] *** Quits: kelvin (Mibbit@4F363157.2E735A23.DDE5D3F6.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[00:21:59] *** Joins: lkuper_ (lkuper@FBF17CA0.FFCF2A3B.51B6877.IP)
[00:27:32] *** Quits: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[00:30:07] *** Joins: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP)
[00:31:02] *** Quits: hatman (Mibbit@moz-5AF9AA47.hsd1.va.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[00:34:14] *** Quits: lkuper_ (lkuper@FBF17CA0.FFCF2A3B.51B6877.IP) (Ping timeout)
[00:34:54] *** Quits: tjc (tjc@moz-F65A248F.tmodns.net) (Quit: Places to go, people to annoy)
[00:37:17] *** Quits: Heo__ (Heo@13864F63.2DD6919B.56C9C5CA.IP) (Ping timeout)
[00:37:54] *** Joins: Heo__ (Heo@13864F63.2DD6919B.56C9C5CA.IP)
[00:39:18] *** Quits: dsirenko (mitra@8E712A0.54C21BA0.9F317420.IP) (Ping timeout)
[00:39:57] *** Quits: XMunkki (xm@moz-84E87CA5.kapsi.fi) (Ping timeout)
[00:40:36] *** Joins: Ralith (ralith@moz-132F2FD4.sea.wa.customer.broadstripe.net)
[00:41:52] *** Joins: dsirenko (mitra@8E712A0.54C21BA0.9F317420.IP)
[00:42:48] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[00:43:20] *** Joins: XMunkki (xm@moz-84E87CA5.kapsi.fi)
[00:43:57] *** Joins: lkuper_ (lkuper@FBF17CA0.FFCF2A3B.51B6877.IP)
[00:47:09] *** Quits: ozten (ozten@19BD73A1.5D8BCA3A.A0C1B52F.IP) (Quit: ozten)
[00:47:35] *** Joins: ktt3ja (Mibbit@222D4A79.A9DA0237.DDE5D3F6.IP)
[00:48:42] <ktt3ja> in extra::dlist, there is a struct DListIterator<'self, T>
[00:48:51] <ktt3ja> T represents a generic type, but what is 'self supposed to be?
[00:48:51] *** Joins: Yeri (jasonjasmi@41C91A8A.CE609BA5.E39FBF79.IP)
[00:49:32] *** Quits: echristo (echristo@4241698A.2E4FD3DD.225F4543.IP) (Quit: echristo)
[00:51:54] *** Quits: doomlord_ (servitor@moz-3F3192E5.range86-184.btcentralplus.com) (Ping timeout)
[00:52:33] *** Quits: sproing (Mibbit@moz-350C37CE.dsl.dynamic.sonic.net) (Quit: http://www.mibbit.com ajax IRC Client)
[00:52:40] *** Joins: jvns (quassel@87D98E32.4046EB22.428F94DD.IP)
[00:53:03] *** Joins: ross (ross@moz-5EA04060.br.br.cox.net)
[00:53:52] <ercxx> ktt3ja: take a look at this : http://stackoverflow.com/questions/17490716/lifetimes-in-rust
[00:54:26] *** Quits: bytbox (s@moz-54E13927.washdc.fios.verizon.net) (Ping timeout)
[00:54:30] *** jorendorff is now known as jorendorff_away
[00:54:45] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Quit: Leaving.)
[00:57:16] *** Joins: bytbox (s@moz-54E13927.washdc.fios.verizon.net)
[00:57:26] <inspur> i compile rust file to exe ,an move it to another pc,it can't work,it said no rustrt.dll
[00:57:30] *** Quits: Yeri (jasonjasmi@41C91A8A.CE609BA5.E39FBF79.IP) (Client exited)
[00:57:43] *** Joins: bleibig (bleibig@moz-CB11172C.hsd1.ca.comcast.net)
[00:57:47] <ktt3ja> @ercxx: thank you
[00:57:49] <inspur> what's the problem
[00:57:49] *** Quits: lkuper_ (lkuper@FBF17CA0.FFCF2A3B.51B6877.IP) (Ping timeout)
[00:57:54] *** Joins: Yeri (jasonjasmi@41C91A8A.CE609BA5.E39FBF79.IP)
[00:58:09] *** Parts: Yeri (jasonjasmi@41C91A8A.CE609BA5.E39FBF79.IP) ()
[00:58:32] <ercxx> ktt3ja: no problem
[00:59:07] <inspur> anybody help?
[00:59:31] <mcpherrin> inspur: you need that dll
[00:59:43] *** Quits: geoffhill (geoffhill@moz-244CF33A.amazon.com) (Input/output error)
[00:59:49] <mcpherrin> Along with the other dlls that the installer puts on your computer
[00:59:53] *** Joins: geoffhill (geoffhill@moz-244CF33A.amazon.com)
[01:00:08] *** Quits: TeXitoi (texitoi@moz-EA958D66.texitoi.eu) (Ping timeout)
[01:00:26] *** Joins: TeXitoi (texitoi@moz-EA958D66.texitoi.eu)
[01:01:29] <inspur> i am so said
[01:01:39] <inspur> i can't make a only exe soft
[01:02:00] <inspur> sad
[01:03:30] *** Quits: geoffhill (geoffhill@moz-244CF33A.amazon.com) (Ping timeout)
[01:03:40] *** Joins: doomlord_ (servitor@moz-3F3192E5.range86-184.btcentralplus.com)
[01:04:20] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[01:04:37] *** Joins: jesse99 (jesse99@moz-8B1E0C5D.hsd1.wa.comcast.net)
[01:05:33] <aatch> Ah... alone in the office. Time to blast music
[01:06:08] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[01:06:30] <vk> When does one put up a uuid linkage attribute? Noticing it in places, but not sure where to find information on it.
[01:07:25] <aatch> vk, from my understanding, it's used to distinguish between crates of the same name
[01:07:44] <brson> i think uuid's are pretty much deprecated. the rustpkg way is urls
[01:07:47] *** Joins: lkuper_ (lkuper@FBF17CA0.FFCF2A3B.51B6877.IP)
[01:08:19] *** Joins: geoffhill (geoffhill@moz-244CF33A.amazon.com)
[01:08:28] <aatch> (I've never actually used them)
[01:09:11] <vk> Sounds like nothing to worry about then, thanks all.
[01:10:16] *** Joins: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net)
[01:11:55] *** Joins: adu (ajr@moz-60B25736.washdc.fios.verizon.net)
[01:15:32] *** Joins: dew1 (Instantbir@moz-E4452B8F.static.stls.mo.charter.com)
[01:16:02] *** Quits: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com) (Ping timeout)
[01:16:32] *** Quits: pcwalton (pcwalton@moz-BE33DA21.fw1.sfo1.mozilla.net) (Quit: pcwalton)
[01:17:59] <kmc> inspur: rustc doesn't support static linking yet, but it is something people want
[01:18:05] <kmc> it's labeled as high priority but not a 1.0 feature
[01:18:21] <kmc> you can do some degree of static linking today with rustc 
[01:18:32] <kmc> you can do some degree of static linking today with rustc --emit-llvm followed by clang -static
[01:18:52] <kmc> but it probably means not using the runtime and stdlib, and using something like https://github.com/thestinger/rust-core instead
[01:19:20] *** Quits: lkuper_ (lkuper@FBF17CA0.FFCF2A3B.51B6877.IP) (Ping timeout)
[01:20:12] <aatch> kmc, heh, I'm actually looking getting static linking working again properly. Since there seems to already be *some* support for it.
[01:20:29] *** Joins: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net)
[01:23:12] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Client exited)
[01:23:34] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[01:25:00] <brson> erickt: we might as well bump the attendance to 40. we only need to give 24 hours notice on the catering
[01:25:15] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Ping timeout)
[01:25:16] <brson> we can go up to 100
[01:25:22] <brson> ... but let's not
[01:25:22] *** Joins: lkuper_ (lkuper@FBF17CA0.FFCF2A3B.51B6877.IP)
[01:27:36] *** Quits: adu (ajr@moz-60B25736.washdc.fios.verizon.net) (Quit: adu)
[01:28:22] <erickt> 40 it is
[01:28:30] *** Quits: FreeFull (freefull@645AD8C8.5FE644CF.4A75C8A1.IP) (Ping timeout)
[01:33:28] *** Quits: geoffhill (geoffhill@moz-244CF33A.amazon.com) (Ping timeout)
[01:36:29] *** Joins: k4nar (quassel@moz-F5EFF779.kimsufi.com)
[01:36:29] *** jorendorff_away is now known as jorendorff
[01:37:00] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[01:37:38] *** Quits: ktt3ja (Mibbit@222D4A79.A9DA0237.DDE5D3F6.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[01:37:46] *** Quits: Heo__ (Heo@13864F63.2DD6919B.56C9C5CA.IP) (Ping timeout)
[01:37:58] *** Joins: Heo__ (Heo@13864F63.2DD6919B.56C9C5CA.IP)
[01:38:17] *** Joins: gandalf (zbraniecki@moz-BE33DA21.fw1.sfo1.mozilla.net)
[01:39:14] *** Quits: lkuper_ (lkuper@FBF17CA0.FFCF2A3B.51B6877.IP) (Ping timeout)
[01:39:41] <Jesse> nmatsakis: in http://smallcultfollowing.com/babysteps/blog/2013/10/24/iterators-yielding-mutable-references-take-2/ could you avoid some of the unsafety in the array iterator by using mut_split?
[01:40:27] <Jesse> like (result_slice, *data) = data.mut_split(1)
[01:44:17] <Jesse> i like the "let BinaryTree { ... } = *current" trick. cleaner than using match.
[01:48:26] *** Quits: BitPuffin (isak@moz-98F8BF74.cust.tele2.se) (Ping timeout)
[01:48:35] *** Quits: sammykim (sammy.kim@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[01:51:15] *** Joins: lkuper_ (lkuper@FBF17CA0.FFCF2A3B.51B6877.IP)
[01:51:23] *** Joins: sw17ch (sw17ch@moz-675AFBCF.hsd1.mi.comcast.net)
[01:51:54] *** Quits: jvns (quassel@87D98E32.4046EB22.428F94DD.IP) (Ping timeout)
[01:57:35] *** Joins: jvns (quassel@87D98E32.4046EB22.428F94DD.IP)
[02:00:05] *** Joins: FreeFull (freefull@8FF0F010.DD64ED55.370CF47B.IP)
[02:00:27] *** Joins: bellows (Mibbit@moz-393BE2AC.bootp.virginia.edu)
[02:00:31] *** Joins: scabaloo (student@44470F7C.9FF7733C.DDE5D3F6.IP)
[02:01:52] <bellows> anyone can explain whats wrong with this code? let mut argv: ~[~str] = pn.to_str().split_iter(':').filter_map(|x| if x != "" { Some(x.to_owned()) } else { None }).to_owned_vec();
[02:01:52] *** Quits: sw17ch (sw17ch@moz-675AFBCF.hsd1.mi.comcast.net) (Quit: sw17ch)
[02:01:53] *** Quits: FreeFull (freefull@8FF0F010.DD64ED55.370CF47B.IP) (Ping timeout)
[02:02:54] *** Quits: lkuper_ (lkuper@FBF17CA0.FFCF2A3B.51B6877.IP) (Ping timeout)
[02:03:01] <kmc> you could start by telling us why you think it's wrong -- compiler error? wrong output?
[02:03:36] <Luqman> calling variadic c functions: https://gist.github.com/luqmana/5a6960f831c2c2dc142b
[02:03:56] <bellows> compile error, says a borrowed value doesnt live long enough, not valid for method call 
[02:03:57] <kmc> maybe pastebin the properly formatted/indented code with the error message and/or output, so that people can look more easily
[02:04:02] <kmc> ok
[02:04:06] <aatch> rusti: let mut argv: ~[~str] = pn.to_str().split_iter(':').filter_map(|x| if x != "" { Some(x.to_owned()) } else { None }).to_owned_vec(); argv
[02:04:08] -rusti- pastebinned 7 lines of output: http://sprunge.us/WWYg
[02:04:15] <sp3d> assign pn.to_str() to an explicit temporary?
[02:04:15] <strcat> Luqman: awesome :)
[02:04:19] <kmc> the full error message will say things about the borrowings
[02:04:54] <aatch> rusti: let pn_str = pn.to_str(); let argv: ~[~str] = pn_str.split_iter(':').filter_map(|x| if x != "" { Some(x.to_owned()) } else { None }).to_owned_vec(); argv
[02:04:55] -rusti- pastebinned 7 lines of output: http://sprunge.us/OdKD
[02:05:07] *** Joins: FreeFull (freefull@39E40AFC.EAB6C47E.2567F73E.IP)
[02:05:18] * aatch facepalms
[02:05:20] <aatch> I'm an idiot
[02:05:28] <kmc> doubtful
[02:05:40] <aatch> rusti: let pn_str = ~"a:b:c"; let argv: ~[~str] = pn_str.split_iter(':').filter_map(|x| if x != "" { Some(x.to_owned()) } else { None }).to_owned_vec(); argv
[02:05:41] -rusti- ~[~"a", ~"b", ~"c"]
[02:06:01] *** Joins: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net)
[02:06:14] <mcpherrin> explicit temporaries for borrows is my least favourite part of Rust right now :(
[02:06:23] <sp3d> it's pretty annoying :/
[02:06:32] <aatch> mcpherrin, it is a known bug at least.
[02:06:47] <mcpherrin> yeah, for sure.
[02:06:57] <mcpherrin> nmatsakis blogged about this, right?
[02:06:57] <bellows> thanks. ill give this a try
[02:07:07] *** Quits: FreeFull (freefull@39E40AFC.EAB6C47E.2567F73E.IP) (Ping timeout)
[02:07:13] <aatch> (As in, it will be fixed eventually, rather than staying this way forever)
[02:08:17] *** Quits: Heo__ (Heo@13864F63.2DD6919B.56C9C5CA.IP) (Ping timeout)
[02:08:17] *** Quits: sfuerst (sfuerst@moz-5BD1BFEA.tukw.qwest.net) (Ping timeout)
[02:08:46] <Luqman> strcat: though i'm pretty it doesn't work cross crate and i haven't added the checks for the right calling convention :P
[02:09:04] *** Joins: Heo__ (Heo@13864F63.2DD6919B.56C9C5CA.IP)
[02:10:25] *** Joins: lfox (lfox@moz-F9C0E858.nycmny.east.verizon.net)
[02:11:26] *** Joins: lkuper (lkuper@FBF17CA0.FFCF2A3B.51B6877.IP)
[02:11:42] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[02:12:35] *** Joins: mib_st2qqw (Mibbit@moz-F15D0993.hsd1.va.comcast.net)
[02:13:00] <mib_st2qqw> hi
[02:13:31] <bellows> aatch: your first answer worked. no idea we needed this explicit temp. but thanks.
[02:14:01] <mib_st2qqw> is there a way we can specify a custom ordering rule for extra::priority_queue::PriorityQueue module?
[02:14:02] <aatch> bellows, yeah, it's not ideal...
[02:14:24] <strcat> mib_st2qqw: need to specify a new type
[02:15:04] <mib_st2qqw> I want to have an ordering rule for my custom struct 
[02:15:19] <strcat> you can define Ord for it and it will work
[02:15:47] *** Quits: kimundi (kimundi@moz-C410002E.dip0.t-ipconnect.de) (Ping timeout)
[02:15:57] <mib_st2qqw> how can we pass Ord to the PriorityQueue then?
[02:16:17] <strcat> don't need to pass it in, you just need a type that has Ord defined
[02:16:37] <strcat> impl Ord for Foo { ... } and then you can use a PriorityQueue of Foo
[02:16:52] *** Quits: heftig (heftig@moz-92EBD66A.dip0.t-ipconnect.de) (Ping timeout)
[02:17:03] <strcat> #[deriving(Ord)] above the struct definition can derive it (I think you can even specify the field order like Ord(a, b, c) - at least iirc)
[02:17:22] <mib_st2qqw> oh, can we just place that impl Ord anywhere in my .rs file?
[02:17:36] *** Joins: Jesin (Jessin_@moz-9BB5F6CF.cc.lehigh.edu)
[02:17:45] <strcat> mib_st2qqw: yes
[02:17:48] *** Joins: alex_abreu (alex@moz-7421D6C9.mc.videotron.ca)
[02:18:01] <mib_st2qqw> ok, thanks I'll try that approach
[02:18:16] <strcat> mib_st2qqw: PriorityQueue is a generic container, requiring Ord for the generic type
[02:18:19] <strcat> T: Ord
[02:18:34] <strcat> so any type implementing Ord will work with it
[02:18:43] *** Quits: alex-abreu (alex@moz-7421D6C9.mc.videotron.ca) (Ping timeout)
[02:18:53] *** Joins: kimundi (kimundi@moz-16FE982D.dip0.t-ipconnect.de)
[02:19:27] <mib_st2qqw> my struct is kind of complicated. it should contain TcpStream and PosixPath
[02:19:39] *** Quits: bleibig (bleibig@moz-CB11172C.hsd1.ca.comcast.net) (Quit: bleibig)
[02:20:19] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[02:20:22] *** Quits: jvns (quassel@87D98E32.4046EB22.428F94DD.IP) (Ping timeout)
[02:20:34] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[02:21:08] *** Joins: bleibig (bleibig@moz-CB11172C.hsd1.ca.comcast.net)
[02:21:33] *** Quits: scabaloo (student@44470F7C.9FF7733C.DDE5D3F6.IP) (Ping timeout)
[02:22:57] *** Joins: heftig (heftig@moz-22DF79F3.dip0.t-ipconnect.de)
[02:23:03] <SiegeLord> Does dead assignment lint not check closures?
[02:23:36] *** kimundi is now known as zz_kimundi
[02:24:06] *** Joins: adu (ajr@moz-60B25736.washdc.fios.verizon.net)
[02:24:23] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[02:24:24] <Luqman> strcat: works cross crate as well now :D
[02:24:34] <SiegeLord> Looks like I hit #7966
[02:25:09] <SiegeLord> I guess I'll add a dummy read... it's a useful warning usually
[02:25:45] *** Quits: lkuper (lkuper@FBF17CA0.FFCF2A3B.51B6877.IP) (Ping timeout)
[02:26:10] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[02:27:29] *** Quits: Jesin (Jessin_@moz-9BB5F6CF.cc.lehigh.edu) (Quit: Leaving)
[02:30:38] *** zz_kimundi is now known as kimundi
[02:31:58] <mib_st2qqw> is there an example i can find for impl Order ?
[02:32:04] *** Quits: lfox (lfox@moz-F9C0E858.nycmny.east.verizon.net) (Quit: ZZZzzz…)
[02:33:08] <mcpherrin> mib_st2qqw: you mean Orderable? Maybe src/libstd/num/f32.rs
[02:33:47] <mib_st2qqw> uhh.. where can i find that file?
[02:33:53] <mcpherrin> in the rust source
[02:34:13] <mcpherrin> github.com/mozilla/rust/
[02:34:47] <mib_st2qqw> thank you. i'll take a look
[02:34:50] <mcpherrin> https://github.com/mozilla/rust/blob/master/src/libstd/num/f32.rs
[02:34:59] <mib_st2qqw> thanks again
[02:35:23] <mcpherrin> there is also int_macros.rs in the same folder that has a macro for defining them for ints
[02:35:57] <mcpherrin> see https://github.com/mozilla/rust/blob/master/src/libstd/num/int_macros.rs#L59
[02:36:39] <mib_st2qqw> thanks
[02:37:30] <bjz_> mib_st2qqw: also note that there are default implementations provided for le, gt and ge, so you only need to implement lt
[02:38:24] *** Joins: lkuper (lkuper@FBF17CA0.FFCF2A3B.51B6877.IP)
[02:38:32] <mib_st2qqw> oh. ok
[02:38:55] <bjz_> mib_st2qqw: there is also #[deriving(Ord)]
[02:40:14] <bjz_> but that only works if your data type has the right types inside - ie. all the fields have to impl Ord as well (I think)
[02:40:28] *** Quits: adu (ajr@moz-60B25736.washdc.fios.verizon.net) (Quit: adu)
[02:40:38] <bjz_> then it creates an impl lexically orders it for you (I think)
[02:40:55] <bjz_> mib_st2qqw: you might have to check with dbaupp for the specifics though
[02:42:43] <mib_st2qqw> thank you. I'm trying to work on it.
[02:44:15] <dbaupp> mib_st2qqw: bjz_ is correct
[02:45:18] *** Quits: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP) (Ping timeout)
[02:45:51] *** Joins: anshin (anshin@CD85F10D.F21429E2.354459FA.IP)
[02:46:18] *** Quits: themgt (themgt@moz-A337E176.baf.movistar.cl) (Ping timeout)
[02:46:58] *** Quits: bellows (Mibbit@moz-393BE2AC.bootp.virginia.edu) (Quit: http://www.mibbit.com ajax IRC Client)
[02:47:13] *** Joins: themgt (themgt@moz-612819C3.baf.movistar.cl)
[02:50:13] *** Joins: earlzlap (earlz@moz-9E279EAD.neo.res.rr.com)
[02:50:37] <earlzlap> I'm unfamiliar with LLVM, but in theory can Rust cross compile for any platform that LLVM supports with minimal modifications? 
[02:50:37] <earlzlap> Or does Rust use a forked LLVM or something? 
[02:51:48] <pcmattman> earlzlap: https://github.com/mozilla/rust/issues/4259
[02:52:20] <dbaupp> Rust does use a forked llvm
[02:52:33] *** Joins: alan (alan@moz-F8EE186F.lightspeed.snantx.sbcglobal.net)
[02:52:43] <dbaupp> and supporting a new platform does require some knowledge in rustc
[02:52:47] <SiegeLord> You can use clang/llc to compile Rust's LLVM bytecode though
[02:52:55] *** Joins: MattM (Mibbit@moz-36A4840.resnet.stonybrook.edu)
[02:53:02] <SiegeLord> So the custom LLVM is not an impediment, I think (not 100% sure)
[02:53:11] <dbaupp> (but certainly not as much as if we were doing the whole thing.)
[02:53:56] <dbaupp> SiegeLord: IR isn't platform independent, and I think(?) you have to make rustc avoid generating some of the custom IR we have to use a plain clang (if that even works.)
[02:53:57] *** Joins: yghannam (yghannam@moz-C5BCCF4E.lightspeed.austtx.sbcglobal.net)
[02:54:00] *** Quits: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[02:54:10] <ercxx> what exactly is `()` ?
[02:54:22] *** Quits: lkuper (lkuper@FBF17CA0.FFCF2A3B.51B6877.IP) (Ping timeout)
[02:54:29] <dbaupp> the type with one inhabitant
[02:54:46] <MattM> I had a question regarding a possible bug in Rust 0.8, does anyone think they could help me out?
[02:55:06] <dbaupp> ercxx: a little bit like None in Python or nil(?) in Ruby
[02:55:08] *** Quits: future_horizons (Mibbit@moz-61717F7A.bitstream.orcon.net.nz) (Quit: http://www.mibbit.com ajax IRC Client)
[02:55:08] <dbaupp> MattM: yes
[02:55:19] <mcpherrin> ercxx: I'd use "void" in c in a lot of the same places
[02:55:48] <ercxx> why does task::try() returns Result<T, ()> then?
[02:56:11] <ercxx> that means T or nothing?
[02:56:14] <dbaupp> yeah
[02:56:29] <dbaupp> there's a patch making that Result<T, FailureReason> or something
[02:56:50] <earlzlap> SiegeLord: so it's possible to use rustc to compile to LLVM bytecode, and then compile that to any native code that LLVM supports?
[02:56:53] <ercxx> thansk
[02:57:00] *** Joins: cowboyd (cowboyd@moz-DD0FF83.lightspeed.austtx.sbcglobal.net)
[02:57:08] <earlzlap> ah wait, nvm
[02:57:09] <MattM> I found some macro code in a project using pre-0.8 rust that no longer works.
[02:57:10] <dbaupp> (i.e. in that instance the () is because we haven't implemented retreiving the argument to fail!() yet.)
[02:57:36] <ercxx> MattM: a lot of things changed.
[02:57:59] <ercxx> MattM: What project is it?
[02:58:06] <MattM> https://github.com/pcwalton/sprocketnes
[02:58:36] <cmr> MattM: yes, let hygiene broke sproketnes
[02:58:42] <cmr> sprocketnes bug, not rust bug
[02:59:11] <MattM> I was specifically wondering about one piece of macro code in the project
[02:59:48] <MattM> There's a macro that has the pattern (op: $op:expr, this: $this:ident), and it gets called with decode_op!(op: op, this: self)
[03:00:21] <MattM> It fails to compile since op is an identifier where it's called, and it can't match "op:" literally
[03:00:56] <MattM> Is this intended to happen in rust 0.8?
[03:01:37] *** Quits: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se) (Ping timeout)
[03:02:37] <dbaupp> I think that's the macros being hygienic with respect to let problem
[03:02:41] <dbaupp> at a guess
[03:03:07] *** Quits: johns (johns@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[03:03:11] *** Joins: johns (johns@moz-BBE3ABD.mv.mozilla.com)
[03:03:30] <mcpherrin> delicious hygiene
[03:04:23] *** Joins: FreeFull (freefull@45D79776.7442B134.CD72393B.IP)
[03:05:19] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[03:05:21] *** jorendorff is now known as jorendorff_away
[03:05:30] <MattM> dbaupp: Okay, thanks for the help
[03:05:46] *** Parts: MattM (Mibbit@moz-36A4840.resnet.stonybrook.edu) ()
[03:06:26] *** Quits: FreeFull (freefull@45D79776.7442B134.CD72393B.IP) (Ping timeout)
[03:06:58] *** Quits: dbaupp (Thunderbir@moz-EA27E3E6.lns20.syd6.internode.on.net) (Ping timeout)
[03:07:08] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[03:08:20] *** Joins: lkuper (lkuper@FBF17CA0.FFCF2A3B.51B6877.IP)
[03:08:37] *** Joins: zws3mb (Mibbit@7998D6B9.1A99F5FD.DDE5D3F6.IP)
[03:08:42] <earlzlap> Is there any remedy to name collisions with modules? Like say you found two helper libraries for rust both called `rusthelper`.. is it possible to use them without code modifications? 
[03:08:48] *** Quits: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[03:08:51] *** Quits: Heo__ (Heo@13864F63.2DD6919B.56C9C5CA.IP) (Ping timeout)
[03:08:52] *** Joins: dbaupp (Thunderbir@moz-EA27E3E6.lns20.syd6.internode.on.net)
[03:09:11] *** Joins: Heo__ (Heo@13864F63.2DD6919B.56C9C5CA.IP)
[03:10:26] <cmr> earlzlap: extern mod rusthelper_one = "...";
[03:11:25] <earlzlap> ah. 
[03:14:30] *** Quits: themgt (themgt@moz-612819C3.baf.movistar.cl) (Ping timeout)
[03:16:37] *** Joins: GeneralMaximus (ankur@BA07138C.9925E880.493B1C0B.IP)
[03:21:50] <inspur> when compile rust file if have any optimization switches?
[03:22:10] <cmr> inspur: see rustc --help. It's --opt-level or -O
[03:23:19] <inspur> opt-level 3 is better than 0?
[03:23:47] <cmr> inspur: 0 is none. 3 is all (or almost all). so, yes, although I think there are bugs that make 2 better than 3 sometimes.
[03:24:09] <inspur> thank you cmr
[03:24:13] <inspur> @cmr
[03:24:54] *** Quits: lkuper (lkuper@FBF17CA0.FFCF2A3B.51B6877.IP) (Ping timeout)
[03:25:35] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[03:26:01] *** Joins: jvns (quassel@moz-DE62990.nyc.res.rr.com)
[03:26:48] *** Joins: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net)
[03:27:16] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[03:27:49] *** Joins: eddyb (eddy@37F72125.9065A63B.FCAAE698.IP)
[03:29:22] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[03:30:52] *** Quits: yghannam (yghannam@moz-C5BCCF4E.lightspeed.austtx.sbcglobal.net) (Ping timeout)
[03:30:58] *** Quits: alan (alan@moz-F8EE186F.lightspeed.snantx.sbcglobal.net) (Quit: alan)
[03:32:38] *** Joins: Jesin (Jessin_@moz-9BB5F6CF.cc.lehigh.edu)
[03:35:49] *** Quits: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com) (Client exited)
[03:35:58] *** Joins: lkuper (lkuper@FBF17CA0.FFCF2A3B.51B6877.IP)
[03:36:37] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[03:37:16] *** Quits: Luqman (laden@moz-AB7945E9.csclub.uwaterloo.ca) (Ping timeout)
[03:40:50] *** Quits: ercxx (ercan@moz-7CFF3469.dyn.optonline.net) (Quit: WeeChat 0.4.2)
[03:44:30] <earlzlap> Is it possible to break a single module out to multiple files, easily? 
[03:45:44] *** Quits: nkoep (nik@moz-CE9FEF93.vpn.rwth-aachen.de) (Ping timeout)
[03:45:49] *** Quits: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net) (Ping timeout)
[03:45:53] *** Quits: Earnestly (earnest@moz-BE290A2B.dyn.plus.net) (Ping timeout)
[03:45:55] <earlzlap> The only thing I can think of is encasing the contents of the external file in `mod foo`.. but then using `pub mod foo` to link it together I don't think would actually work
[03:46:05] *** Quits: zws3mb (Mibbit@7998D6B9.1A99F5FD.DDE5D3F6.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[03:46:53] *** Joins: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net)
[03:47:06] <SiegeLord> reexporting is one, imperfect way
[03:48:02] <SiegeLord> To truly break apart a module into several files you use include! macro
[03:51:07] *** Joins: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca)
[03:51:09] *** Joins: ercxx (ercan@moz-7CFF3469.dyn.optonline.net)
[03:51:25] *** Joins: FreeFull (freefull@E8890AA4.B02B61BB.B7713959.IP)
[03:52:49] *** Quits: FreeFull (freefull@E8890AA4.B02B61BB.B7713959.IP) (No route to host)
[03:52:56] *** Quits: GeneralMaximus (ankur@BA07138C.9925E880.493B1C0B.IP) (Ping timeout)
[03:55:03] *** Quits: ross (ross@moz-5EA04060.br.br.cox.net) (Quit: )
[03:56:24] *** Quits: cowboyd (cowboyd@moz-DD0FF83.lightspeed.austtx.sbcglobal.net) (Client exited)
[03:56:30] *** Joins: GeneralMaximus (ankur@BA07138C.9925E880.493B1C0B.IP)
[03:56:37] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Quit: Konversation terminated!)
[03:57:49] *** Joins: sw17ch (sw17ch@moz-675AFBCF.hsd1.mi.comcast.net)
[03:59:39] *** Joins: nkoep (nik@moz-796C383E.pool.mediaways.net)
[04:00:30] *** Quits: lkuper (lkuper@FBF17CA0.FFCF2A3B.51B6877.IP) (Ping timeout)
[04:01:05] *** Joins: alan (alan@moz-F8EE186F.lightspeed.snantx.sbcglobal.net)
[04:03:41] *** Quits: jvns (quassel@moz-DE62990.nyc.res.rr.com) (Ping timeout)
[04:05:41] *** Joins: Luqman (laden@moz-AB7945E9.csclub.uwaterloo.ca)
[04:07:38] *** Quits: aatch (James@moz-B437F499.pocketrent.com) (Client exited)
[04:08:00] *** Joins: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se)
[04:08:06] *** Quits: eddyb9 (eddy@37F72125.9065A63B.FCAAE698.IP) (Ping timeout)
[04:08:52] *** Quits: Heo__ (Heo@13864F63.2DD6919B.56C9C5CA.IP) (Ping timeout)
[04:09:27] *** Joins: Heo__ (Heo@13864F63.2DD6919B.56C9C5CA.IP)
[04:11:41] *** Quits: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net) (Quit: Leaving)
[04:12:57] *** Quits: tiffany (kawaii@moz-28A8742A.dhcp.embarqhsd.net) (Ping timeout)
[04:13:12] *** Joins: tiffany (kawaii@moz-28A8742A.dhcp.embarqhsd.net)
[04:13:18] <SiegeLord> how would one write a vector to a file?
[04:13:26] <cmr> SiegeLord: In what format?
[04:13:45] <SiegeLord> Just a binary dump, but if there's something easier I'm all for it
[04:14:21] <cmr> well, there's extra::serialize which is ostensibly better but I wouldn't call it easier..
[04:16:25] <cmr> https://github.com/mozilla/rust/blob/master/src/libstd/unstable/raw.rs#L24 and https://github.com/mozilla/rust/blob/master/src/libstd/unstable/raw.rs#L47
[04:16:43] <cmr> It'd probably be easiest to do it for a slice.
[04:17:06] <cmr> And then it's just a loop over the raw bytes
[04:17:09] <cmr> (unsafe, of course)
[04:18:07] *** Quits: ercxx (ercan@moz-7CFF3469.dyn.optonline.net) (Quit: WeeChat 0.4.2)
[04:18:10] <dbaupp> you can convert to a &[u8] and just .write() that
[04:18:18] *** Joins: lkuper (lkuper@FBF17CA0.FFCF2A3B.51B6877.IP)
[04:18:55] <earlzlap> Is rustpkg actually being used, or is it considered too unstable still? 
[04:19:42] <dbaupp> SiegeLord: e.g. https://github.com/mozilla/rust/blob/master/src/libstd/rand/isaac.rs#L52-L54 is converting the [u32] of rng.rsl to a &mut [u8]
[04:19:42] <cmr> earlzlap: actually being used, though it still has its rough edges
[04:19:46] <cmr> earlzlap: servo uses it now.
[04:20:13] <dbaupp> cmr: really?
[04:20:16] *** Joins: eddyb9 (eddy@BF35C1DC.9A7C5F59.4A6B528C.IP)
[04:20:18] <cmr> dbaupp: yup!
[04:20:23] <Sharp> https://github.com/mozilla/rust/issues/6393 is annoying :(
[04:20:35] <dbaupp> cmr: awesome
[04:21:27] <earlzlap> alright. Just wondering if I should invest it using it heh
[04:21:55] *** Quits: lkuper (lkuper@FBF17CA0.FFCF2A3B.51B6877.IP) (Ping timeout)
[04:23:30] *** Joins: FreeFull (freefull@B340798F.5F38E2ED.1C105F65.IP)
[04:25:30] <dbaupp> hah, the #[feature(managed_boxes)] broke half the things on rust-ci
[04:25:47] <eddyb9> is that going on master right away?
[04:25:57] <cmr> eddyb9: what do you mean?
[04:26:48] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[04:26:52] <eddyb9> not sure what I was expecting, nvm :))
[04:27:05] *** Joins: lkuper (lkuper@FBF17CA0.FFCF2A3B.51B6877.IP)
[04:27:33] *** Quits: FreeFull (freefull@B340798F.5F38E2ED.1C105F65.IP) (Ping timeout)
[04:28:31] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[04:28:31] *** Joins: FreeFull (freefull@74CCEA6B.7A3CED43.43A8E534.IP)
[04:29:25] *** Quits: lkuper (lkuper@FBF17CA0.FFCF2A3B.51B6877.IP) (Ping timeout)
[04:30:25] *** Quits: cubic (cubic@moz-80241A3A.mc.videotron.ca) (Connection reset by peer)
[04:30:28] *** Quits: FreeFull (freefull@74CCEA6B.7A3CED43.43A8E534.IP) (Ping timeout)
[04:33:02] *** Joins: eatkinson (eatkinson@moz-261EDE03.hsd1.ca.comcast.net)
[04:33:26] <earlzlap> When using `rustpkg install github.com/steveklabnik/hello` I get a long error that boils down to nonexistent package.. Am I missing something? 
[04:33:32] *** Joins: FreeFull (freefull@A7281E59.FC342A73.43A8E534.IP)
[04:33:41] *** Joins: lkuper (lkuper@FBF17CA0.FFCF2A3B.51B6877.IP)
[04:33:48] <dbaupp> earlzlap: I get that too, fwiw
[04:34:11] <dbaupp> https://github.com/mozilla/rust/issues/9948
[04:35:21] <earlzlap> I don't understand how I'm suppose to distribute my package
[04:35:31] <earlzlap> Or how to install existing packages
[04:35:47] <earlzlap> (other than copying the source code and manually building and installing) 
[04:36:03] <strcat> it's an open bug
[04:37:24] <earlzlap> I guess I'm expecting rustpkg to do too much at the moment heh
[04:38:28] <killerswan> earlzlap: you're not alone :)
[04:38:36] *** Quits: gandalf (zbraniecki@moz-BE33DA21.fw1.sfo1.mozilla.net) (Ping timeout)
[04:39:29] <cmr> hm, that was supposed to have been fixed.
[04:39:45] *** Quits: Thiez (thiez@moz-BF669398.student.utwente.nl) (Ping timeout)
[04:40:17] *** Joins: Thiez (thiez@moz-BF669398.student.utwente.nl)
[04:40:56] *** Quits: sw17ch (sw17ch@moz-675AFBCF.hsd1.mi.comcast.net) (Quit: sw17ch)
[04:41:21] *** Quits: dew1 (Instantbir@moz-E4452B8F.static.stls.mo.charter.com) (Ping timeout)
[04:41:51] *** Joins: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com)
[04:43:59] *** Joins: gandalf (zbraniecki@24DF9C54.2379ECBA.D25A875A.IP)
[04:44:18] <sfackler> earlzlap: did you try changing your TMPDIR?
[04:44:27] <klutzy> rustc always ices when I use lib which was built by older rustc
[04:44:44] <strcat> klutzy: there isn't backwards compatibility at this point
[04:44:45] <sfackler> e.g. "env TMPDIR=$HOME/tmp rustpkg install github.com/steveklabnik/hello"
[04:44:47] <klutzy> I think it's ok to rebuild everything for now, but I feel there should be some error handling
[04:45:00] * dbaupp agrees
[04:45:05] <klutzy> strcat: is some kind of backw-comp planned?
[04:45:05] <strcat> there is error handling
[04:45:13] <strcat> but we never bump the version or the ABI version
[04:45:18] *** Joins: jeffdb_ (jeff@moz-D13B6004.hsd1.ca.comcast.net)
[04:45:22] <cmr> klutzy: yeah, for 1.0
[04:45:29] <strcat> not binary compatibility
[04:45:31] <strcat> that's not going to happen
[04:45:46] <klutzy> oh, right it's 1.0
[04:45:58] <cmr> over my dead body it won't happen, just maybe not *yet*
[04:46:14] <earlzlap> It'd be nice if it gave a warning saying "set TMPDIR" instead of "package not found" heh
[04:46:21] <cmr> earlzlap: it's a bug though.
[04:46:25] <dbaupp> it'd be nicer if it was just fixed for good
[04:46:41] *** Quits: FreeFull (freefull@A7281E59.FC342A73.43A8E534.IP) (Ping timeout)
[04:47:00] <sfackler> earlzlap: rustpkg is doing a rename instead of a move which fails when your temp directory is on a different filesystem then your install directory
[04:47:35] <earlzlap> either way I'm using the rustpkg source structure and conventions, but sticking with manual building so I don't have to worry about it heh
[04:47:51] <cmr> earlzlap: the rustpkg source structure consists exactly of main.rs
[04:48:21] <sfackler> or lib.rs
[04:48:25] <cmr> the src/$cratename is entirely superfluous now.
[04:48:53] <earlzlap> I mean using build/, src/PKG_ID, lib.rs, etc
[04:49:10] <cmr> build/, src/PKG_ID isn't needed and you shouldn't use it.
[04:49:53] <cmr> it was previously needed to work around a missing feature, but now that `rustpkg build` without a pkgid works, it isn't necessary.
[04:51:19] *** Quits: Voomer (Voomer@moz-CC05FF5E.hsd1.wa.comcast.net) (Ping timeout)
[04:53:41] *** Quits: mib_st2qqw (Mibbit@moz-F15D0993.hsd1.va.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[04:53:47] <Sharp> So let's say I declare a type like type table = HashMap<name, ~Entry<Contact>> and export it in a module mod.  Can I then call table::new() if I use mod somewhere else?  I'm assuming there's some really obvious reason why I can't.
[04:54:20] <cmr> Sharp: no, because typedefs don't cause namespacing.
[04:54:35] <cmr> it's an incongruency between how resolve sees the world and how we humans see the world.
[04:54:56] <cmr> Types introduce their own "module" which is why :: works with them.
[04:55:15] <Sharp> If typedefs don't cause namespacing, doesn't that imply it should work?  Or perhaps I'm missing something.
[04:55:36] <cmr> They don't imply namespacing in that table::new() doesn't work because table doesn't create a namespace
[04:55:43] <Sharp> Ah, I see what you're saying.
[04:56:10] <Sharp> I imagine there should be a way around that, if that's the only issue.  Or maybe the way around it is to just use the underlying type :P
[04:56:27] <cmr> there isn't a way around it atm.
[04:56:40] <dbaupp> (no way around it other than using HashMap, that is.)
[04:56:56] <Sharp> Is there a bug / feature request for that?  Would be kind of nice to abstract it a bit.
[04:57:12] <Sharp> But not really critical.
[04:57:18] <sfackler> fwiw, I'm not a huge fan of type aliases for things other than primitives because they don't abstract as much as you'd like
[04:57:25] *** Joins: Voomer (Voomer@moz-CC05FF5E.hsd1.wa.comcast.net)
[04:57:40] <cmr> sfackler: they don't abstract much as a feature or as current implementation?
[04:57:45] <dbaupp> depends what you're using them for
[04:57:50] <strcat> rusti: struct Foo {} impl Foo { fn foo() {} }
[04:57:51] -rusti- pastebinned 6 lines of output: http://sprunge.us/HVHF
[04:58:00] <sfackler> cmr: they don't abstract as much as soemthing like struct foo { priv inner: Thing }
[04:58:26] <strcat> rusti: use Bar = Foo; struct Foo; impl Foo { fn foo() {} } Bar::foo()
[04:58:27] -rusti- pastebinned 10 lines of output: http://sprunge.us/Rbcc
[04:58:33] <Sharp> I was going to say "yeah, but structs carry baggage that I don't need" but I'm not sure that's actually the case in Rust :P
[04:58:39] <strcat> rusti: use Bar = self::Foo; struct Foo; impl Foo { fn foo() {} } Bar::foo()
[04:58:40] -rusti- pastebinned 10 lines of output: http://sprunge.us/gCfJ
[04:58:50] <strcat> thanks for nothing rustc
[04:58:54] <strcat> ;p
[04:59:07] <strcat> one day I'll understand the visibility rules
[04:59:08] <dbaupp> inner fns == `???` as modules apparently
[04:59:23] <strcat> rusti: struct Foo; Foo
[04:59:24] -rusti- main::Foo
[04:59:36] <strcat> rusti: use Bar = main::Foo; struct Foo; impl Foo { fn foo() {} } Bar::foo()
[04:59:37] -rusti- pastebinned 10 lines of output: http://sprunge.us/JSFX
[04:59:41] <strcat> rusti: use Bar = self::main::Foo; struct Foo; impl Foo { fn foo() {} } Bar::foo()
[04:59:42] -rusti- pastebinned 10 lines of output: http://sprunge.us/UCFd
[04:59:45] <dbaupp> rusti: use Bar = self::foo:Foo; mod foo { struct Foo; impl Foo { pub fn foo() {} } } Bar::foo()
[04:59:46] -rusti- pastebinned 6 lines of output: http://sprunge.us/PIWe
[04:59:48] <dbaupp> rusti: use Bar = self::foo::Foo; mod foo { struct Foo; impl Foo { pub fn foo() {} } } Bar::foo()
[04:59:49] -rusti- pastebinned 10 lines of output: http://sprunge.us/Rdgj
[05:00:04] *** Joins: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp)
[05:00:13] <dbaupp> strcat: I think we're being sunk by being inside a function
[05:00:57] <Sharp> How smart is rusti?  Can you get it to close the function it defines?
[05:01:28] <strcat> you could
[05:01:30] *** Quits: lkuper (lkuper@FBF17CA0.FFCF2A3B.51B6877.IP) (Ping timeout)
[05:01:33] <Sharp> rusti: }
[05:01:34] -rusti- pastebinned 6 lines of output: http://sprunge.us/SPjb
[05:01:41] *** Joins: tikue_ (tikue_star@95463E68.3B4A6B80.689607DE.IP)
[05:01:47] <strcat> well
[05:01:50] <strcat> you're inside a scope
[05:02:00] <strcat> you're going to need to bubble up out of the scope
[05:02:04] <Sharp> Yeah, figured that out :P
[05:02:08] <strcat> and then open another function to hold the end 
[05:02:27] <Sharp> }rusti: } fn foo () { 
[05:02:32] <Sharp> Oops.
[05:02:37] <Sharp> rusti: } fn foo () {
[05:02:38] -rusti- pastebinned 6 lines of output: http://sprunge.us/CYMa
[05:02:50] <Sharp> Huh, wouldn't have expected a semicolon was necessary there.
[05:02:54] <Sharp> rusti: }; fn foo() { 
[05:02:55] -rusti- ()
[05:02:56] <strcat> Sharp: https://github.com/thestinger/rust-playpen/blob/master/bin/irc.sh
[05:02:58] <Sharp> Yay!
[05:03:04] <Sharp> Ah, thanks.
[05:03:04] <dbaupp> rusti: foo() }; } fn foo() { let r = 1i;
[05:03:05] -rusti- pastebinned 6 lines of output: http://sprunge.us/RFcZ
[05:03:20] <dbaupp> rusti: foo() }; } fn foo() { let r = { 1i
[05:03:21] -rusti- <anon>:8:8: 8:9 warning: unused variable: `r`, #[warn(unused_variable)] on by default
[05:03:21] -rusti- <anon>:8     let r = {
[05:03:21] -rusti-                  ^
[05:03:21] -rusti- 1
[05:04:20] <dbaupp> rusti: foo() }; let _ = r; } mod bar { struct Foo; impl Foo { pub fn foo() {} } } fn foo() { use Bar = bar::Foo; let r = { Bar::foo()
[05:04:21] -rusti- ()
[05:04:33] <cmr> whoa what
[05:04:38] <dbaupp> rusti: foo() }; let _ = r; } mod bar { struct Foo; impl Foo { pub fn foo() { println("Foo::foo"); } } } fn foo() { use Bar = bar::Foo; let r = { Bar::foo()
[05:04:39] -rusti- Foo::foo
[05:04:39] -rusti- ()
[05:04:48] <dbaupp> it works \o/
[05:04:50] <cmr> whaaat
[05:04:52] <dbaupp> Sharp: nice idea
[05:04:57] <cmr> how long has that worked
[05:05:03] <Sharp> Probably always :D
[05:05:09] <cmr> no, definitely not always.
[05:05:13] <cmr> maybe it's cross-crate that is broken?
[05:05:23] <cmr> extra::json doesn't use a typedef because that was broken.
[05:05:26] <dbaupp> cmr: are you talking about the actual code?
[05:05:28] <klutzy> no. rusti just compiles "... fn main() { ... #code# ... }"
[05:05:34] <dbaupp> cmr: that's not a type def... that's a use-rename
[05:05:38] <cmr> oh
[05:05:40] <cmr> I know how to read
[05:05:47] <cmr> anyway, bedtime :p
[05:05:50] * dbaupp doesn't believe cmr
[05:05:53] <Sharp> Night.
[05:05:56] * cmr doesn't believe cmr either
[05:06:15] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[05:07:03] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Connection reset by peer)
[05:07:08] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[05:07:09] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Connection reset by peer)
[05:07:23] *** Quits: nixprime (nixprime@moz-B5BC087D.hsd1.ca.comcast.net) (Quit: ZNC - http://znc.in)
[05:07:29] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[05:07:53] <SiegeLord> Hmm... does the documentation of libraries not get tested? I thought the code samples were ran...
[05:07:58] <dbaupp> yes
[05:08:04] <dbaupp> it doesn't get tested
[05:08:06] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Ping timeout)
[05:08:06] *** Quits: cdidd (cdidd@moz-86E95982.broadband.corbina.ru) (Ping timeout)
[05:08:13] <dbaupp> only the tutorials and manual get tested
[05:08:20] <SiegeLord> I see...
[05:08:20] <Sharp> dbaupp: That only works for traits, though, right?  So it wouldn't work in the HashMap case.
[05:08:33] <mcpherrin> dbaupp: dang it you keep saying things I have typed
[05:08:37] *** Joins: cdidd (cdidd@moz-D9FE9E00.broadband.corbina.ru)
[05:08:43] <dbaupp> Sharp: "that"?
[05:08:54] <Sharp> Sorry… what you pasted above.  The use-rename.
[05:09:03] <dbaupp> SiegeLord: https://github.com/mozilla/rust/issues/2925
[05:09:13] <dbaupp> Sharp: `Foo` isn't a trait there
[05:09:19] *** Quits: Heo__ (Heo@13864F63.2DD6919B.56C9C5CA.IP) (Ping timeout)
[05:09:43] *** Joins: Heo__ (Heo@13864F63.2DD6919B.56C9C5CA.IP)
[05:09:43] <dbaupp> it only works for renaming top level items, i.e. you can't alias a type with type parameters
[05:09:48] <dbaupp> mcpherrin: :P
[05:09:52] <Sharp> No, but I don't have access to any hypothetical functions of elements within Foo, either :P  Although arguably that's a good thing from an abstraction perspective.
[05:12:05] <SiegeLord> Time to try getopts... I don't know if I like the API
[05:12:21] *** Joins: FreeFull (freefull@28A324F3.CA1B67B5.159B5998.IP)
[05:12:21] <mcpherrin> getops api is pretty crummy
[05:12:46] <mcpherrin> but it's well-understood
[05:14:01] <killerswan> IMHO, all get opts APIs are crummy :D
[05:14:20] *** Quits: FreeFull (freefull@28A324F3.CA1B67B5.159B5998.IP) (Ping timeout)
[05:15:04] <SiegeLord> Oooh... there's a better one in getopts::grouped
[05:16:08] * dbaupp has no idea why the non-grouped API of getopts exists
[05:17:03] *** Joins: skade (skade@moz-A89F791B.pools.arcor-ip.net)
[05:17:22] *** Quits: Kxepal (Miranda@moz-6B9ED67C.pppoe.mtu-net.ru) (Ping timeout)
[05:18:00] <killerswan> the other stuff was there first
[05:18:57] *** Quits: bjz_ (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[05:18:59] *** Joins: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[05:19:17] *** Joins: lkuper (lkuper@FBF17CA0.FFCF2A3B.51B6877.IP)
[05:19:58] *** Quits: gandalf (zbraniecki@24DF9C54.2379ECBA.D25A875A.IP) (Quit: My lid went down)
[05:20:26] *** Joins: Kxepal (Miranda@moz-C9C3DD3D.pppoe.mtu-net.ru)
[05:21:02] <SiegeLord> "FIXME: #9311 This used to be private, but rustpkg somehow managed to depend on it. No idea what this does.
[05:21:04] <SiegeLord> lol
[05:22:21] <myname> hahaha
[05:22:23] *** Joins: FreeFull (freefull@693D464A.D720630C.89340297.IP)
[05:24:26] *** Quits: FreeFull (freefull@693D464A.D720630C.89340297.IP) (Ping timeout)
[05:26:01] *** Quits: jeffdb_ (jeff@moz-D13B6004.hsd1.ca.comcast.net) (Quit: jeffdb_)
[05:27:20] <sfackler> c.c
[05:27:23] *** Joins: FreeFull (freefull@B0823694.85A8EB94.8B684DB9.IP)
[05:28:27] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[05:29:20] *** Quits: FreeFull (freefull@B0823694.85A8EB94.8B684DB9.IP) (Ping timeout)
[05:30:10] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[05:30:30] *** Quits: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net) (Connection reset by peer)
[05:31:48] <Sharp> Can tuple structs have private fields?
[05:32:12] <SiegeLord> No
[05:33:02] <Sharp> That would be kind of nice, just to avoid the redundancy of saying "inner" every time for a wrapper struct.
[05:34:29] <sfackler> I agree, but a bug about it was wontfix'd for semi-understandable reasons
[05:34:57] <sfackler> it does cause some sadness though
[05:35:00] <sfackler> e.g. self.inner.inner.inner_mut_ref()
[05:35:00] <Sharp> Link?  I'm sure there are good reasons.
[05:35:17] <Sharp> Maybe an enum with one constructor is closer to what I want.  But that doesn't actually hide anything, I don't think.
[05:35:19] <SiegeLord> rusti: (1, 1) == (0, 0)
[05:35:21] <sfackler> https://github.com/mozilla/rust/issues/5489
[05:35:22] -rusti- false
[05:35:32] *** Joins: lazyden (lazyden@47A36AC9.35CBBBD0.F246D1AF.IP)
[05:35:32] <SiegeLord> Sweet..., glad that's implemented
[05:35:52] <Sharp> sfackler: Thanks.
[05:36:02] *** Quits: lazyden (lazyden@47A36AC9.35CBBBD0.F246D1AF.IP) (Quit: lazyden)
[05:37:39] *** Joins: FreeFull (freefull@8F06B20A.CF025174.398E636E.IP)
[05:39:04] *** Quits: earlzlap (earlz@moz-9E279EAD.neo.res.rr.com) (Quit: Leaving.)
[05:39:44] *** Quits: FreeFull (freefull@8F06B20A.CF025174.398E636E.IP) (Ping timeout)
[05:40:06] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Quit: Busying myself...)
[05:40:09] *** Joins: tjc (tjc@moz-AA7D7DF7.tmodns.net)
[05:40:10] *** ChanServ sets mode: +o tjc
[05:40:47] <dbaupp> does someone feel like getting some SO rep? http://stackoverflow.com/questions/19499387/calling-an-on-heap-function-argument-inside-of-a-closure
[05:41:21] <Sharp> Maybe I missed the discussion that would make that resolution clearer?  I know there's no privacy on tuple structs (now), I'm just wondering why.  Rust doesn't have privacy on arbitrary record expressions either, but it still has privacy for (record) structs.  Is it because tuple elements are immutable?
[05:41:39] <dbaupp> Tuple elements aren't immutable
[05:41:57] <Sharp> In the 0.8 documentation it says they are.
[05:42:00] <dbaupp> (they inherit mutability just like any other field)
[05:42:02] <Sharp> (Not talking about the struct variant).
[05:42:31] <dbaupp> rusti: let mut a = (1,2); { let (ref mut x, _) = a; *x += 1 } a
[05:42:32] -rusti- (2, 2)
[05:42:57] <Sharp> Weird.   Maybe I'm misinterpreting the docs.
[05:43:02] <dbaupp> link?
[05:43:27] <Sharp> http://static.rust-lang.org/doc/0.8/rust.html#tuple-types
[05:44:01] <dbaupp> eurgh
[05:44:10] <dbaupp> old old old stuff. :(
[05:44:23] <Sharp> Heh.  Okay, thanks for clearing that up :)
[05:44:33] <dbaupp> we used to be able to write `struct Foo { mut x: int }` so that `x` was always mutable
[05:44:51] *** Quits: nkoep (nik@moz-796C383E.pool.mediaways.net) (Ping timeout)
[05:44:54] <dbaupp> but then Rust changed to inherited mutability and that was removed (and everything became nice).
[05:45:02] <Sharp> Ah, gotcha.
[05:45:17] <dbaupp> heh, both of those dot points are wrong
[05:45:20] <Sharp> I think there are still things in the documentation that say you can do that.
[05:45:31] <dbaupp> rusti: let a = (1,2); a.n0()
[05:45:31] -rusti- 1
[05:45:37] <Sharp> Whoa.
[05:45:49] <Sharp> When did that happen?
[05:45:51] <dbaupp> it's just a standard library function
[05:46:00] <Sharp> Is it macrofied?
[05:46:03] <dbaupp> yeah
[05:46:06] <Sharp> Cool.
[05:46:12] <dbaupp> they're defined via a macro up to 12-tuples
[05:46:22] <Sharp> Oh, I thought you meant it worked for arbitrary n.
[05:46:35] <Sharp> Like (IIRC) c[ad]+r
[05:46:40] <dbaupp> oh I see
[05:46:55] <mcpherrin> I love my c[ad]+r 
[05:46:59] <dbaupp> https://github.com/mozilla/rust/blob/master/src/libstd/tuple.rs#L225-L339
[05:47:06] <mcpherrin> rNrs scheme adds an extra one each release
[05:47:07] <mcpherrin> I love it
[05:47:08] * dbaupp likes the triangle
[05:47:37] *** Quits: tjc (tjc@moz-AA7D7DF7.tmodns.net) (Quit: Places to go, people to annoy)
[05:47:50] <Sharp> I haven't really looked into Rust's macro system so I have no idea if something like that would be feasible.
[05:47:56] <dbaupp> no
[05:48:18] <dbaupp> it would have to be built into the compiler more deeply than a `macro_rules!` macro
[05:48:22] *** kimundi is now known as zz_kimundi
[05:48:24] <Sharp> I imagine the number of times you want to get more than 12 elements in and don't want an array or named fields is probably rather low, anyway.
[05:48:52] *** Quits: skade (skade@moz-A89F791B.pools.arcor-ip.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[05:49:01] <dbaupp> yeah, even 4 tuples are getting into "I should define a struct" territory
[05:49:36] <Sharp> I think 5… IIRC the average function takes 5 parameters or fewer
[05:49:44] <Sharp> So people can apparently keep that much in their head at once.
[05:50:20] <SiegeLord> cmr was having trouble with 2 today (in context of enumerate) :P
[05:50:57] <dbaupp> `for IndexedElement { index, element } in foo.iter().enumerate() { ... }`
[05:51:11] <Sharp> I would be confused by that, too, given that it's the opposite of Ruby's variant.
[05:51:12] <SiegeLord> XD
[05:51:24] <dbaupp> it's the same as Python
[05:51:33] <SiegeLord> It matches what D does, so it doesn't confuse me
[05:51:40] <Sharp> Ah, cool.
[05:51:48] <dbaupp> (and the for loop looks like Python's, so I think it's the "right" choice.)
[05:52:00] <Sharp> I would always copy Python over Ruby, pretty much.
[05:52:12] <Sharp> Except for significant whitespace, possibly.
[05:52:23] <dbaupp> and `lambda ...: ...`
[05:52:27] <SiegeLord> It looks so much like Python that I keep writing colons to close the initial for line...
[05:52:55] <dbaupp> SiegeLord: could probably hack the parser to allow `:` there :P
[05:53:04] <Sharp> Ruby didn't really have good lambda syntax until relatively recently (with ->).
[05:53:16] <SiegeLord> I was thinking about today of Rust having a parser that's extremely permissive...
[05:53:23] <SiegeLord> I decided that it's a bad idea
[05:53:33] <dbaupp> like html?
[05:53:42] <SiegeLord> Yeah... that's a good example
[05:53:50] <Sharp> Ewww.
[05:53:54] <dbaupp> Sharp: oh, really? I thought there was `{ |x| ... }` or something?
[05:53:58] <Sharp> That's not a lambda.
[05:54:04] <dbaupp> ah ok
[05:54:08] <Sharp> Technically, it's not even a Proc, actually :P
[05:54:12] * dbaupp <- used ruby, like, twice.
[05:54:23] <Sharp> Don't worry, you're not missing much.
[05:55:11] <mcpherrin> I kinda wish there existed an interactive compiler, that popped open $EDITOR, showed you the message, let you save and try again
[05:55:23] <mcpherrin> nice for trivial errors in the middle of long builds :)
[05:55:58] * mcpherrin just spent half hour building, only to get burned by an include file not being found
[05:56:13] <dbaupp> for Rust?
[05:56:17] <mcpherrin> no
[05:56:25] <mcpherrin> permissive compiler that suggested a fix would be nice though :P
[05:56:45] <dbaupp> intelligent compiler that did the (correct) fix would be better :P
[05:57:02] <strcat> https://github.com/mattdiamond/fuckitjs
[05:57:02] <SiegeLord> I was also thinking about that... "expected a =>, Fix? (y/n)"
[05:57:14] <SiegeLord> But again, decided that it's only useful for beginners
[05:57:15] <Sharp> Isn't that basically just a permissive system?  A compiler that tries to fix your code for you?
[05:57:22] <mcpherrin> strcat: haha was just about to mention that
[05:57:34] <mcpherrin> we need a fuckitrust
[05:57:39] <Sharp> Hah.
[05:57:43] <strcat> type error -> insert transmute
[05:57:44] <mcpherrin> that wraps everything in @ until borrow check errors go away
[05:57:55] <strcat> mcpherrin: no, transmute!
[05:57:58] <mcpherrin> strcat: or that
[05:58:10] *** Joins: bletch (Mibbit@4A8C362F.1F8D2044.631472FF.IP)
[05:58:17] <SiegeLord> Sometimes I wished for a tool that would permute all the 'ref', &, .clone() etc options to get borrowcheck to pass
[05:58:18] <mcpherrin> I think "didn't live long enough? Fuck it, garbage collector"
[05:58:35] *** Quits: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se) (Ping timeout)
[05:58:48] <mcpherrin> we need a "leak" keyword
[05:58:52] <Sharp> lol
[05:59:06] <mcpherrin> could be a lifetime
[05:59:18] <Sharp> I didn't realize until today that borrow checking uses lexical scope.
[05:59:20] <mcpherrin> stuff that never gets freed
[05:59:23] *** Joins: nkoep (nik@moz-6294A3BF.vpn.rwth-aachen.de)
[05:59:29] *** Joins: nsf (nsf@moz-EEF3238A.convex.ru)
[05:59:30] <SiegeLord> #[trust_me]
[05:59:51] <mcpherrin> SiegeLord: that's unsafe :p
[06:00:06] <SiegeLord> #[its_ok]
[06:00:21] <bletch> hi everyone
[06:00:32] *** Quits: lkuper (lkuper@FBF17CA0.FFCF2A3B.51B6877.IP) (Ping timeout)
[06:00:45] <dbaupp> hi bletch
[06:01:08] <bletch> :D
[06:01:26] <SiegeLord> Hmm... I really like Rust's type inference
[06:01:43] <Luqman> hmm, in which calling convention were varidiac functions ok again? just cdecl?
[06:01:56] <strcat> Luqman: probably
[06:02:00] <SiegeLord> It's not too little (like in D) and it's not too much
[06:02:02] *** Quits: tikue_ (tikue_star@95463E68.3B4A6B80.689607DE.IP) (Ping timeout)
[06:02:15] <SiegeLord> (also like in D, surprisingly)
[06:02:23] <Sharp> Is there such a thing as too much type inference?
[06:02:44] <SiegeLord> At some point you're offloading it to the reader, and that's bad
[06:02:45] <mcpherrin> Sharp: Maybe.  Have you tried to read some of Haskell's inference error messages?
[06:03:00] <Sharp> Ah yeah, I see what you're saying.
[06:03:29] <mcpherrin> Code readability is arguably 10x more important than writability
[06:03:31] * dbaupp would prefer having more type inference with the possibility of explicit types, like Haskell, to compulsory signatures
[06:03:37] <Sharp> Tons of type inference + IDE.
[06:03:55] <mcpherrin> IMO needing an IDE is a failure
[06:04:05] *** Joins: FreeFull (freefull@E66B76E6.EEA263E2.C7CD3B20.IP)
[06:04:13] <Sharp> You wouldn't need one.
[06:04:25] <Sharp> E.g., Rust today requires signatures for functions, an IDE could infer that.
[06:05:30] *** Joins: robertknight_ (robertknig@moz-1FB7516D.range81-157.btcentralplus.com)
[06:05:59] <Sharp> Or hell, if there is something an autocorrecting compiler could do, surely it's insert inferrable types at the signatures?
[06:06:11] <Sharp> (In the actual source).
[06:06:48] <SiegeLord> I draw the line at function signatures. Explicit types there are so informative
[06:09:19] *** Quits: Heo__ (Heo@13864F63.2DD6919B.56C9C5CA.IP) (Ping timeout)
[06:09:54] *** Joins: Heo__ (Heo@13864F63.2DD6919B.56C9C5CA.IP)
[06:13:11] *** Quits: robertknight_ (robertknig@moz-1FB7516D.range81-157.btcentralplus.com) (Ping timeout)
[06:13:33] *** Joins: BizarreCake (BizarreCak@moz-361FE9B2.dynamic.barak-online.net)
[06:15:18] *** Joins: Jackneill (Jackneill@moz-FCB132DA.pool.digikabel.hu)
[06:16:17] *** Joins: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP)
[06:17:19] *** Quits: FreeFull (freefull@E66B76E6.EEA263E2.C7CD3B20.IP) (Ping timeout)
[06:20:33] *** Joins: fabiand (fabiand@moz-CDE279C0.adsl.alicedsl.de)
[06:21:51] *** Joins: FreeFull (freefull@267734B5.F76F310C.6B0ACFBD.IP)
[06:24:38] <Luqman> https://github.com/mozilla/rust/pull/10064
[06:27:01] <pcmattman> Luqman: does that allow fn xyz(...) ?
[06:27:07] *** Quits: canhtak (jeremy@moz-ABE51D61.wl.t.ulaval.ca) (Quit: canhtak)
[06:27:26] <dbaupp> Luqman: that's very cool
[06:27:35] <pcmattman> (looking at the parser parts)
[06:27:57] <dbaupp> Luqman: the choice of 'A' is arbitrary?
[06:28:00] <eddyb9> huh?
[06:28:01] <Luqman> pcmattman: oh right, it does! that, i forgot to add that check
[06:28:16] <eddyb9> aah, variadic C
[06:28:17] <Luqman> dbaupp: yes, v was taken
[06:28:18] <pcmattman> :)
[06:29:45] <dbaupp> <3 format https://github.com/mozilla/rust/pull/10064/files#diff-31c6a728eb925b9f6b0124e93948d270R1363
[06:30:24] <eddyb9> I want variadic generics and the Fn trait :D
[06:30:37] <pcmattman> dbaupp: that's practically a language in itself
[06:31:06] * dbaupp works out what the smallest change he could make to make `format!` turing complete
[06:31:09] <pcmattman> it's also shiny
[06:31:36] <SiegeLord> How do you call these variadics? Using the normal syntax?
[06:32:09] <Luqman> yep, https://gist.github.com/luqmana/5a6960f831c2c2dc142b
[06:32:34] <SiegeLord> Interesting
[06:33:05] <Sharp> Aren't there single combinators that are Turing complete by themselves?
[06:33:22] <pcmattman> SiegeLord: can you retrieve the varargs in Rust?
[06:33:47] *** Quits: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com) (Ping timeout)
[06:33:49] <eddyb9> you shouldn't be able to. very unsafe
[06:34:00] <eddyb9> I mean, llvm has intrinsics for it
[06:34:31] <eddyb9> but people will abuse them, and until we have an usecase, there's no need to add support
[06:34:40] *** Joins: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com)
[06:34:49] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[06:35:24] <Luqman> variadic function must always have at least one named argument right?
[06:35:29] *** Quits: bletch (Mibbit@4A8C362F.1F8D2044.631472FF.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[06:35:47] <pcmattman> Luqman: yes
[06:36:49] <Sharp> Really?  I thought there were GCC extensions that let you get around that.  Maybe those only apply to macros though.
[06:37:14] *** flaper87|afk is now known as flaper87
[06:37:32] <pcmattman> extensions let you get around anything, if you write them that way ;)
[06:37:39] <pcmattman> that's why they are extensions
[06:38:08] <Sharp> Fair enough :)
[06:39:25] *** Quits: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com) (Ping timeout)
[06:41:35] *** Quits: jeaye (Jeaye@moz-34FEF2BB.hsd1.ca.comcast.net) (Quit: zzz)
[06:41:58] <Luqman> lol llvm doesn't seem to actually care if i just declare printf as: `fn printf(...) -> c_int`
[06:42:38] *** Quits: GeneralMaximus (ankur@BA07138C.9925E880.493B1C0B.IP) (Ping timeout)
[06:43:49] * dbaupp appears to have broken his rust-mode :'(
[06:43:50] *** Joins: alonlevy (alon@moz-61A0AD83.red.bezeqint.net)
[06:44:18] <mcpherrin> dbaupp: heathen emacs user.
[06:44:21] *** Joins: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com)
[06:44:28] *** Quits: barosl (barosl@3DE683B6.E551553C.7544CABF.IP) (Quit: 랜덤은 쇠퇴했습니다.)
[06:51:07] <dbaupp> mcpherrin: please try to accept people no matter their editor of choice (I know it's hard.)
[06:51:28] <dbaupp> :P
[06:52:24] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[06:53:01] <mcpherrin> dbaupp: I work in a company of Emacs users
[06:53:31] <dbaupp> you're the lone hold-out of vim?
[06:53:43] <mcpherrin> Not lone.  There's four or five of us ;)
[06:53:50] <mcpherrin> And then there's one guy who uses Eclipse.
[06:54:20] <dbaupp> hah
[06:55:53] <Sharp> Is there any easy way to "delegate" trait methods to a struct element?  Conceptually, "impl X for Y through Y.z".
[06:56:32] <Sharp> It just seems a little silly to write that code over and over for a wrapped element.
[06:56:38] <sfackler> Sharp: an attribute to do that has been proposed but not implemented yet
[06:56:51] <sfackler> something like #[delegate(Trait, self.whatever)] iirc
[06:56:51] <dbaupp> https://github.com/mozilla/rust/issues/7773
[06:57:00] <Sharp> Ah, neat!  Good to hear.
[06:57:03] <Sharp> Thanks.
[06:58:07] *** Quits: anshin (anshin@CD85F10D.F21429E2.354459FA.IP) (Quit: anshin)
[06:59:39] *** Joins: Houm (Houm@moz-25669AA8.fbx.proxad.net)
[07:01:41] <Luqman> dbaupp: thanks for that lexer logic! i must have been staring at that bit too long to simply my convoluted mess :P
[07:02:19] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[07:05:53] *** Joins: GeneralMaximus (ankur@BA07138C.9925E880.493B1C0B.IP)
[07:07:36] *** Joins: Ms2ger (Ms2ger@moz-F75FD788.adsl-dyn.isp.belgacom.be)
[07:08:53] *** Quits: eatkinson (eatkinson@moz-261EDE03.hsd1.ca.comcast.net) (Quit: eatkinson)
[07:09:50] *** Quits: Heo__ (Heo@13864F63.2DD6919B.56C9C5CA.IP) (Ping timeout)
[07:10:02] *** Joins: Heo__ (Heo@13864F63.2DD6919B.56C9C5CA.IP)
[07:12:52] *** Quits: nwmcsween (nwmcsween@E0025B86.51EE1362.3655BBF5.IP) (Ping timeout)
[07:13:06] *** Joins: Heather (Heather@19663F6.F53BAACC.9C17E900.IP)
[07:13:09] <Heather> unresolved import: there is no `io` in `std`
[07:13:10] <Heather> wow
[07:14:02] * Heather is reading changelog
[07:14:19] *** Quits: mcpherrin (mimcpher@moz-345B5EBA.csclub.uwaterloo.ca) (Quit: leaving)
[07:14:19] <dbaupp> Heather: std::rt::io
[07:14:33] *** Quits: GeneralMaximus (ankur@BA07138C.9925E880.493B1C0B.IP) (Quit: Computer has gone to sleep.)
[07:14:37] *** zz_kimundi is now known as kimundi
[07:14:39] <Heather> dbaupp why?
[07:14:57] <dbaupp> Luqman: np (new eyes can see the "obvious" more easily :) )
[07:15:00] *** Quits: papalazarou (papalazaro@moz-BE1C9F3F.lightspeed.frokca.sbcglobal.net) (Ping timeout)
[07:15:10] <dbaupp> Heather: because the old std::io was really bad, so we're replacing it with std::rt::io
[07:15:36] <dbaupp> "really bad" == not modern Rust at all
[07:15:37] <kimundi> And once the replacement works, it will move to std::io again I guess
[07:15:37] *** Joins: McPherrin (mimcpher@moz-345B5EBA.csclub.uwaterloo.ca)
[07:16:00] <Heather> dbaupp but  error: unresolved name `io::file_reader`
[07:16:16] <Heather> kimundi O_O
[07:16:28] *** Joins: papalazarou (papalazaro@moz-BE1C9F3F.lightspeed.frokca.sbcglobal.net)
[07:16:32] <kimundi> Not everything has an replacement yet afaik
[07:16:41] <dbaupp> file_reader certainly
[07:16:43] <dbaupp> .. does
[07:16:47] <Sharp> When I see functions defined like fn foo<'a>(&'a self), what is the 'a?
[07:16:54] <McPherrin> Sharp: lifetime!
[07:16:57] <kimundi> a named lifetime
[07:17:04] <Sharp> So it's true and there really are lifetime variables?
[07:17:11] <dbaupp> Heather: http://static.rust-lang.org/doc/master/std/rt/io/index.html (glance over that :) )
[07:17:15] <kimundi> &T always works with lifetimes, 'a just gives a name
[07:17:29] <dbaupp> ew, the examples there aren't code-formatted :(
[07:17:57] <Sharp> I looked through the documentation and I couldn't quite figure out what they were useful for.
[07:18:08] <dbaupp> Heather: of most interest will be http://static.rust-lang.org/doc/master/std/rt/io/file/index.html
[07:18:14] <kimundi> Sharp: It's not really a variable. It's more something like a generic type parameter that links different &-ptr together to the shortest common scope where they are valid
[07:18:15] <Sharp> Is it just so you can make sure lifetimes match if you have to dereference / readdress?
[07:19:04] <Heather> dbaupp this http://static.rust-lang.org/doc/master/std/rt/io/trait.Reader.html ?
[07:19:22] <Sharp> Is its scope lexical?
[07:19:42] <kimundi> yes, lexical scope
[07:19:55] <Heather> dbaupp is there json examples which use modern io ?
[07:20:02] <Heather> i mean load / save cfg
[07:20:33] <Sharp> So it only works on locals then?
[07:20:43] <Sharp>  / formals?
[07:20:55] <kimundi> Sharp: for example a hypothetical fn foo<T, U, V>(a: &T, b: &U) -> &V - Does it return a ptr that is valid as long as the T, as long as the U, or something completly different, like &'static V?
[07:21:45] <Sharp> I see.
[07:22:06] <kimundi> Sharp: Every lifetime is in some way connected to a local variable, and the whole system just works based on stack frames and lexical scope, so yes I suppose
[07:22:26] <Sharp> Is that information not inferrable by the compiler?
[07:22:39] <Sharp> (In your example).
[07:23:29] <kimundi> Anyway, that's the reason rust tries to be explicit: fn foo<'a, T, U, V>(a: &'a T, b: &'a U) -> &'a V would link them all together, while fn foo<'a, 'b, T, U, V>(a: &'a T, b: &'b U) -> &'a V would be valid as long as the T is, even if the U goes out of scope sooner
[07:23:48] *** Quits: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net) (Quit: killerswan)
[07:23:50] <dbaupp> Heather: I think you have to read to a string and then use the from_str (or whatever it is called)
[07:24:06] <Sharp> Oh.  Does Rust just assume the most conservative (shortest) possible lifetime if you aren't explicit?
[07:24:08] <Heather> dbaupp maybe something alike Path::new(path).open_writer(io::Create) ?
[07:24:10] <kimundi> Sharp: That would amount to whole-crate inference, and a design decision of rust is that types neeed to be explicitly given at API boundaries
[07:24:21] <dbaupp> Heather: if you wish to write to `path`, yes.
[07:24:39] <Heather> dbaupp yes, to file
[07:25:10] <kimundi> Sharp: If you aren't explicit rust defaults to temporary lifetimes. They are only valid for the function body of the function that receives them, and it's not possible to return a temporary lifetime
[07:25:17] <Sharp> Ahhh
[07:25:36] <Sharp> This explains a lot of the issues I've been having with lifetimes, I think :P
[07:25:57] <kimundi> foo<T, U, V>(a: &T, b: &U) OK; foo<T, U, V>(a: &T, b: &U) -> &V ERROR
[07:26:08] <dbaupp> kimundi: not always :P
[07:26:35] <dbaupp> (you can actually return something with 'static as an unannotated &V, but I think that's a bug.)
[07:26:52] <kimundi> (the dirty secret is that the second one can still work today, if the function returns a &'static V internally. But that hopefully get's removed, requiring an explicit -> &'static return type)
[07:27:16] <Sharp> Gotcha.  Thanks for the explanation--this clears up some things :)
[07:27:16] <dbaupp> rusti: fn bug() -> &int { static X: int = 1; &x } bug()
[07:27:17] -rusti- pastebinned 7 lines of output: http://sprunge.us/cBbe
[07:27:38] <dbaupp> rusti: fn bug() -> &int { static X: int = 1; &X } println!("{:?}", bug())
[07:27:39] -rusti- &1
[07:27:39] -rusti- ()
[07:28:48] *** flaper87 is now known as flaper87|afk
[07:28:57] <Heather> dbaupp how to I add path::open_reader to use ?
[07:29:10] <Heather> dbaupp I use Path but there is std::path::windows::Path and another one ....
[07:29:38] *** Quits: bleibig (bleibig@moz-CB11172C.hsd1.ca.comcast.net) (Quit: bleibig)
[07:29:40] <kimundi> Path used to be a typedef for one of WindowsPath or UnixPath
[07:29:45] <kimundi> No idea if it still is
[07:30:07] <dbaupp> Heather: just use std::path::Path
[07:30:30] <Heather> dbaupp error: type `&std::path::windows::Path` does not implement any method in scop e named `open_reader`
[07:30:34] <dbaupp> the other ones are "implementation details" (as in, std::path::Path choses unix::Path and windows::Path based on what platform you are on)
[07:30:59] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[07:31:08] <Heather> dbaupp I must add it to use?
[07:31:12] *** Joins: eatkinson (eatkinson@moz-261EDE03.hsd1.ca.comcast.net)
[07:31:54] <Heather> dbaupp unresolved import: there is no `open_reader` in `std::path::Path`
[07:31:54] <kimundi> "use std::path::Path;"
[07:32:18] <Heather> kimundi first error with it
[07:32:49] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[07:32:51] <dbaupp> do the docs say that Path has open_reader?
[07:32:53] *** Quits: eatkinson (eatkinson@moz-261EDE03.hsd1.ca.comcast.net) (Quit: eatkinson)
[07:33:17] <Heather> dbaupp http://static.rust-lang.org/doc/master/std/rt/io/file/trait.FileInfo.html#method.open_reader
[07:33:30] <dbaupp> that's not std::path
[07:33:42] <dbaupp> you ned to important that trait, and then call it as a method
[07:34:04] <dbaupp> *import
[07:34:09] <Heather> right I missed use std::rt::io::file::{FileInfo, FileReader};
[07:34:35] *** Joins: nrc (nrc@DA4ABEAF.1DE10CA8.D8E68FF6.IP)
[07:35:26] <kimundi> Hm, a irc bot for searching the documentation would be useful
[07:35:34] <Ms2ger> No lack of ::s
[07:35:50] <Heather> hm... error: mismatched types: expected `&mut std::rt::io::Reader<no-bounds>` but f ound `std::rt::io::file::FileReader`
[07:36:05] <kimundi> "rustdoc: find open_reader" or so
[07:36:38] <kimundi> Heather: You might have to cast it to a &mut Reader trait object
[07:38:22] <dbaupp> Ms2ger: Rust likes its ::s
[07:38:24] <Heather> kimundi oh :S not sure if that easy possible
[07:38:48] <dbaupp> at least one level will disappear when std::rt::io moves to std::io.
[07:39:04] *** Joins: squiddy (squiddy@moz-90823E24.adsl.alicedsl.de)
[07:39:12] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.2)
[07:39:27] <myname> does int64 actually work on 32 bit systems?
[07:39:27] <Sharp> One more question: can I use lifetime variables except in function signatures?
[07:39:56] <kimundi> Heather: If you have a foo of type std::rt::io::file::FileReader, then `&mut foo as &mut std::rt::io::Reader` does the cast
[07:40:18] <dbaupp> myname: yes
[07:40:33] <kimundi> Sharp: The named lifetime annotation is required in any type signature that uses references that are not 'static
[07:40:34] <Heather> kimundi I see ... -        Some(x) => file_reader(x), +        Some(x) => Ok(@mut x.open_reader(io::Open).unwrap() as @mut io::Reader),
[07:40:43] <dbaupp> myname: I think there might be some things missing (e.g. 64-bit checked arithmetic), but they work for the common case.
[07:40:49] *** Quits: Jesin (Jessin_@moz-9BB5F6CF.cc.lehigh.edu) (Quit: Leaving)
[07:40:49] <kimundi> Sharp: For example, struct Foo<'a> { data: &'a uint }
[07:40:59] <Sharp> Oh, huh.
[07:41:02] <dbaupp> kimundi: 'self
[07:41:02] <Sharp> That's neat.
[07:41:18] <kimundi> Ah, right
[07:41:37] <kimundi> In _types_ the _name_ needs to be 'self, but other than that there is not difference
[07:42:08] <kimundi> (legacy reasons, it's planned to make them also arbitrary nameable, and to allow more than one)
[07:42:14] <Sharp> So I suppose that answers my other question, then, which was going to be about destructuring.
[07:42:51] <kimundi> Hm? What is the question, I don't seee the connection to destructuring right now :)
[07:43:03] * kimundi is curious
[07:43:19] <Sharp> Well, I was basically going to ask if the compiler will let you specify a lifetime when you destructure, since the type isn't explicitly stated.
[07:43:27] <Heather> kimundi type `&mut std::rt::io::Reader<no-bounds>` does not implement any metho d in scope named `map` :(
[07:43:29] <Sharp> But if it's stated at the struct level then that's kind of irrelevant.
[07:43:51] <Sharp> (Or type level, rather).
[07:44:41] <kimundi> Sharp: Right. But destructuring also just happens inside a function body, so the compiler will help you with inference and so additionally to that.
[07:45:10] <Heather> kimundi got it, filereader does
[07:45:15] <Sharp> Ah yes.  Good point.
[07:45:49] <Sharp> Sorry, I just found out about Rust a couple of days ago so I'm still acclimating to it.
[07:46:15] <bjz> Sharp: no need to apologise!
[07:46:21] <bjz> :)
[07:46:26] <kimundi> Ha, don't appologize for wanting to learn xD
[07:47:05] <Sharp> Also good point(s)!  Just don't want to waste you guys' time too much more than I already have :D
[07:47:13] <myname> i'm too stupid for (int) float
[07:47:15] <kimundi> If anything, I should apologize more often for explaining things the other side didn't ask for ;)
[07:47:37] <kimundi> Pff, If I had more important things to do I wouldn't be here
[07:47:58] * kimundi said that while sitting at univesity and ignoring the prof
[07:48:02] *** Quits: nkoep (nik@moz-6294A3BF.vpn.rwth-aachen.de) (Ping timeout)
[07:48:38] <inspur> as int
[07:48:54] <Sharp> Heh.  Okay, then, I retract my apology.
[07:49:14] <myname> m(
[07:49:20] <myname> i should have totally know that
[07:49:29] <bjz> Sharp: what brings you to the wonderous world of Rust?
[07:49:51] <Sharp> The fact that its feature checklist is basically my wishlist? :P
[07:49:57] <bjz> heh
[07:50:22] <dbaupp> kimundi: good student you are :P
[07:51:37] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[07:54:22] *** Quits: alonlevy (alon@moz-61A0AD83.red.bezeqint.net) (Ping timeout)
[07:56:24] <Sharp> Hm.  Why do these two implementations conflict?  impl ReferenceMap<name,Contact> for Table and impl<K, V, T: Map<K, ~Entry<V>>> ReferenceMap<K,V> for T.
[07:56:35] *** Joins: eatkinson (eatkinson@moz-261EDE03.hsd1.ca.comcast.net)
[07:56:57] <Sharp> (Table does not implement Map).
[07:57:28] *** kimundi is now known as zz_kimundi
[07:58:31] <Luqman> Sharp: that check is not fine-grained enough yet, i don't think it even considers the type paramters til after it outputs that stage of compilation
[07:58:36] *** Quits: Ms2ger (Ms2ger@moz-F75FD788.adsl-dyn.isp.belgacom.be) (Quit: bbl)
[07:59:03] <Sharp> Oh, really?  Bah.
[07:59:22] <Sharp> How hard is it to get into the actual Rust internals?  It seems like there's a lot to do.
[07:59:45] <Luqman> some parts are easier than others.
[08:00:09] <Luqman> we have an E-Easy tag on our issue tracker, to mark off the relatively easy issues
[08:00:19] <Luqman> you could try starting with some of those to get a feel for things
[08:00:24] *** zz_kimundi is now known as kimundi
[08:00:29] <Sharp> Yeah, I think I will, thanks.
[08:00:50] <Sharp> I'm guessing that check does not fall into that category? :P
[08:01:22] <dbaupp> (be warned: some of the E-easy ones are tagged as such because they are easy for the filer, or someone who's familiar with the code in question)
[08:01:36] <kimundi> Sharp: For what it's worth, that check is planned to be relaxed
[08:01:38] <dbaupp> Sharp: yeah, that sort of type-system change is unlikely to be easy
[08:01:42] <Luqman> Sharp: haha, as far as I know no :P
[08:01:46] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[08:01:55] <dbaupp> kimundi: that check, really?
[08:02:15] <Sharp> Consider me warned :)
[08:02:23] <kimundi> Well, as in it should be possible to write something like that
[08:02:46] *** Quits: robn (robn@moz-76B0302C.static.internode.on.net) (Ping timeout)
[08:02:56] <kimundi> As long as the two implementation don't actually overlap it should be possible
[08:03:18] <Sharp> Is there a bug for that, or is it just sort of known?
[08:03:52] <Luqman> Sharp: it's there somewhere :P
[08:04:37] <Sharp> Just checking!
[08:07:14] *** jorendorff_away is now known as jorendorff
[08:07:52] *** Quits: BizarreCake (BizarreCak@moz-361FE9B2.dynamic.barak-online.net) (Ping timeout)
[08:08:05] *** Joins: lenstr (lenstr@1840DDBE.40DCB41A.B69CD7C4.IP)
[08:08:09] *** Joins: GeneralMaximus (ankur@BA07138C.9925E880.493B1C0B.IP)
[08:09:37] *** Quits: voxpopuli (fanservice@moz-CEF3689A.hsd1.pa.comcast.net) (Ping timeout)
[08:09:51] *** Quits: Heo__ (Heo@13864F63.2DD6919B.56C9C5CA.IP) (Ping timeout)
[08:10:11] *** Joins: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net)
[08:10:12] *** Joins: Heo__ (Heo@13864F63.2DD6919B.56C9C5CA.IP)
[08:10:48] *** Quits: lenstr (lenstr@1840DDBE.40DCB41A.B69CD7C4.IP) (Ping timeout)
[08:11:39] *** Joins: lenstr (lenstr@1840DDBE.40DCB41A.B69CD7C4.IP)
[08:12:19] *** Joins: robn (robn@moz-76B0302C.static.internode.on.net)
[08:12:43] *** Quits: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net) (Quit: killerswan)
[08:13:22] *** Quits: lenstr (lenstr@1840DDBE.40DCB41A.B69CD7C4.IP) (Ping timeout)
[08:13:52] *** Joins: lenstr (lenstr@1840DDBE.40DCB41A.B69CD7C4.IP)
[08:14:03] *** Quits: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP) (Connection reset by peer)
[08:16:39] *** Quits: lenstr (lenstr@1840DDBE.40DCB41A.B69CD7C4.IP) (Client exited)
[08:17:48] *** Quits: eatkinson (eatkinson@moz-261EDE03.hsd1.ca.comcast.net) (Quit: eatkinson)
[08:18:50] *** Joins: eatkinson (eatkinson@moz-261EDE03.hsd1.ca.comcast.net)
[08:19:18] <Heather> I can't match result anymore or am I doing something wrong
[08:20:14] *** Quits: eatkinson (eatkinson@moz-261EDE03.hsd1.ca.comcast.net) (Quit: eatkinson)
[08:20:32] <eddyb9> hmm, what are Either's variants?
[08:20:40] <eddyb9> Result is simple, Ok and Err
[08:20:46] <SiegeLord> Left and Right?
[08:20:47] <Luqman> Left & Right
[08:21:08] <SiegeLord> Maybe it should have been One and TheOther
[08:21:32] <eddyb9> TheOne and Only
[08:21:43] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[08:21:45] <Heather> ...
[08:21:55] <eddyb9> Luqman: I guess, that's close
[08:22:00] <Heather> so it still work for you? :S
[08:22:19] <Luqman> Heather: can you post the code?
[08:23:20] *** Quits: johns (johns@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[08:23:29] *** Joins: johns (johns@moz-BBE3ABD.mv.mozilla.com)
[08:23:33] *** Joins: eatkinson (eatkinson@moz-261EDE03.hsd1.ca.comcast.net)
[08:23:39] <Sharp> rusti: impl<'self> Table<'self> { pub fn new() -> Table<'self> { Table { /* … */ } }
[08:23:39] <Heather> Luqman https://gist.github.com/Heather/7151298
[08:23:39] -rusti- pastebinned 9 lines of output: http://sprunge.us/IKXh
[08:23:57] *** Joins: oberstet (quassel@moz-79F22AB8.dynamic.mnet-online.de)
[08:25:35] <Heather> Luqman  expected enum std::option::Option but found enum std::res ult::Result
[08:26:14] <dbaupp> rusti: struct Table<'self> { x: Option<&'self int> } impl<'self> Table<'self> { pub fn new<'a>() -> Table<'a> { Table { x: None } } } Table::new()
[08:26:14] -rusti- main::Table<>{x: None}
[08:26:35] <dbaupp> Heather: you need to check what type `res` is
[08:27:01] <Heather> dbaupp I guess std::result::Result<<V33>,<V34>>
[08:27:20] <Heather> dbaupp from error message
[08:27:29] <dbaupp> Heather: stop guessing and read the docs :P
[08:27:46] <dbaupp> check the return type of .open_reader
[08:27:50] <Heather> dbaupp what about error message, it said found it
[08:28:24] *** Joins: mindcat (mindcat@B2D2F0F4.69E5AD7C.D6E1F3C4.IP)
[08:28:28] <Heather> dbaupp how is it related to open_reader )
[08:28:34] <Heather> dbaupp it's from_reader
[08:28:34] <kimundi> Either is going to be removed though
[08:28:35] <Luqman> Heather: open_reader gives you Option not Result
[08:28:51] <dbaupp> Heather: because you're matching on the result of .open_reader().map()
[08:29:11] <dbaupp> Heather: so the enum variants you're matching on have to match the type of that
[08:29:39] <Heather> ah...
[08:30:25] <Sharp> @dbaupp: What I'm confused about is, where exactly is that lifetime variable coming from?
[08:30:36] <Heather> kimundi what will be removed?
[08:31:00] <Sharp> I thought perhaps it was unbound so I could use anything there, but when I tried changing it to something else it complained.
[08:31:12] <kimundi> std::either apparently
[08:31:15] <Luqman> Sharp: do you mean 'self ?
[08:31:20] <Sharp> Yeah.
[08:31:29] <kimundi> Because you usually just want to define a custom enum type
[08:32:17] <Luqman> Sharp: yea, 'self is a bit special right now since it's the only lifetime that can be placed in things like structs
[08:32:31] <Luqman> but that restriction will be lifted sooner or later
[08:32:45] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[08:32:51] <kimundi> The lifetime is not special, the name is
[08:32:56] *** Quits: doomlord_ (servitor@moz-3F3192E5.range86-184.btcentralplus.com) (Ping timeout)
[08:33:19] <kimundi> And the fact that you can only have one lifetime there
[08:33:45] <kimundi> So, the lifetime is normal, the environment syntax just treats it specially
[08:34:31] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[08:36:44] *** Joins: bholley (anonymous@moz-CB983BB6.superkabel.de)
[08:37:16] <kimundi> Sharp: Which position of the 'self in that code snippet did you wonder where it's coming from?
[08:37:30] <Sharp> That in the return type of new.
[08:37:37] <Sharp> Why is 'self even defined there?
[08:37:51] *** Joins: CarpNet (ac@moz-FD24B77.sohonet.co.uk)
[08:38:07] <kimundi> Sharp: The 'self is defined by the impl<'self>
[08:38:26] *** Joins: nielsle (nielsle@moz-C46DA772.boa.fiberby.dk)
[08:38:29] <Sharp> Well, yes, but there is no self for 'self to apply to in that case.
[08:38:40] <kimundi> just like regular type parameters, you can define them for all code inside the impl block if you implement generically.
[08:38:59] *** Joins: robertknight_ (robertknig@moz-54528EE0.wby.mendeley.com)
[08:39:14] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[08:39:15] <Sharp> Huh.  So you can specify (in theory, once the restriction of 'self is lifted) shared lifetimes between functions in an implementation?
[08:39:24] *** Joins: Blub\w (wry@7E3BB9D.71150E1A.237AE2BA.IP)
[08:39:25] <Sharp> (Or rather, a trait, since that's where the signature is defined).
[08:39:37] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[08:39:53] <kimundi> "for all possible lifetimes 'self, new() returns as Table<'self>"
[08:40:10] *** Joins: arodier74 (Thunderbir@moz-25EB015.in-addr.btopenworld.com)
[08:40:22] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[08:40:27] <kimundi> Sharp: Well, not really shared, but they get commonly _defined_
[08:42:15] <kimundi> The problem here is that in this case there are two different ways to write the definition in a way that has the same meaning, I think
[08:42:37] <Sharp> I can't help but feel like this is different from a type variable situation.  With type variables there are two levels of instantiation--they're bound when you instantiate the structure (possibly implicitly) and also when you call a type-variable'd function.
[08:42:52] <kimundi> the impl<'self> ... -> Table<'self> on, and the new<'a> -> Table<'a> one
[08:43:27] <Sharp> The new<'a> -> Table<'a> one makes sense to me because it doesn't imply that 'a is getting unified across all the functions in the impl.
[08:44:09] *** Quits: santiago (santiago@moz-8ADE82B4.socal.res.rr.com) (Ping timeout)
[08:44:23] *** Quits: eatkinson (eatkinson@moz-261EDE03.hsd1.ca.comcast.net) (Quit: eatkinson)
[08:44:25] <kimundi> Sharp: Right, with lifetimes it's basically orthogonal to that: all instanciations are the same code-wise, they just are valid or invalid depending on context, while a regular type parameter is always valid as long as there is not a type error
[08:44:37] <kimundi> Sharp: They don't get unified
[08:45:02] <kimundi> Sharp: For each function call, the lifetime still gets individually infered
[08:45:41] <Heather> how to convert to static? expected @ but found &
[08:45:54] <Sharp> Right, but since that's the case, the syntax doesn't make sense.  It would be different if Rust were using Prolog conventions and any lifetime variable could be used without declaring it as a tyvar first
[08:46:02] <kimundi> Heather: What do you mean with that?
[08:47:07] <kimundi> Sharp: Which part of the syntax doesn't make sense? It makes sense to me, but I have experience with rust and might have been brainwashed already :)
[08:47:49] <Heather> kimundi can I do let encf = @mut f as @mut io::Writer;
[08:47:50] <Sharp> The part where in every other situation, all lifetime variables are scoped at the same level and unify at that level.
[08:48:04] <Heather> kimundi it says that I need some kind of managed_boxes
[08:49:19] <Sharp> And also the part where type variables (which lifetime variables visually resemble) *do* unify across functions in the impl.
[08:49:24] <kimundi> Sharp: impl<'a, T> { fn foo() -> &'a T; fn bar() -> &'a T } is basically just a shorthand for impl { fn foo<'a, T>() -> &'a T; fn bar<'a, T>() -> &'a T } - The difference is that the function signatures are different, so for traits you might be force to use the first one
[08:50:06] <kimundi> Heather: That syntax is valid, but if it's the right thing to do I don'T know :)
[08:50:29] <dbaupp> Heather: what is the whole error message?
[08:50:31] <Sharp> Or rather, the "outer" level of type variables unifies across functions in the impl.  Although I sort of see what you're saying now
[08:50:43] <Sharp> It's just a declarative thing.
[08:50:52] <kimundi> right
[08:51:01] <kimundi> There is no deeper connection beyond that
[08:51:51] <Heather> kimundi dbaupp https://gist.github.com/Heather/7151616
[08:52:20] *** Joins: donri (donri@moz-9BB61102.tbcn.telia.com)
[08:52:45] <Sharp> Okay, I'm satisfied, I suppose :)  Just took me a moment to think through it.
[08:53:00] <dbaupp> Heather: "note: add #[feature(managed_boxes)] to the crate attributes to enable"
[08:53:15] <kimundi> Oh, did that land?
[08:54:03] <dbaupp> Heather: that means put `#[feature(managed_boxes)];` at the top of the file you are running rustc on (the same place as #[link] if you have one of them)
[08:54:54] <Heather> dbaupp I have #[crate_type = "bin"]; there
[08:55:07] <Heather> ah it needs ;
[08:55:13] <Heather> that's what I missed
[08:55:40] <dbaupp> kimundi: yes
[08:56:01] <dbaupp> kimundi: https://github.com/mozilla/rust/pull/9923
[08:56:07] <kimundi> nice
[08:56:40] <Heather> ok now I only need to fix readkey func because stdreader messed up too )
[08:59:10] <Heather> dbaupp what will be new for io::stdin().read_line(); ?
[08:59:35] <dbaupp> Heather: I don't think it exists yet
[09:00:04] <dbaupp> either grep the source code, or look at  thestd::rt::io::extensions::ReaderUtil trait
[09:00:07] <dbaupp> *the std::...
[09:00:42] <Heather> dbaupp ... so I even can't read line in rust now? )
[09:01:06] <dbaupp> Heather: I don't know, I haven't had to do it recently so I'm not sure if new-io has it yet or not
[09:01:11] <dbaupp> you'll have to check yourself
[09:01:49] <Heather> dbaupp I see... noone knows how to readline in rust -_-' huh that just sounds cool
[09:02:28] <dbaupp> no, *I* don't know.
[09:02:41] <Heather> dbaupp and I too :)
[09:05:11] *** Joins: santiago (santiago@moz-8ADE82B4.socal.res.rr.com)
[09:06:11] *** Joins: pongad (Mibbit@6ABC2E61.4671019F.DB2023DD.IP)
[09:06:21] *** Quits: pongad (Mibbit@6ABC2E61.4671019F.DB2023DD.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[09:09:49] *** Quits: Heo__ (Heo@13864F63.2DD6919B.56C9C5CA.IP) (Ping timeout)
[09:09:53] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Quit: Busying myself...)
[09:10:57] *** Joins: Heo__ (Heo@13864F63.2DD6919B.56C9C5CA.IP)
[09:15:29] *** Joins: Ferreus (ferreus@moz-6DBED067.dip0.t-ipconnect.de)
[09:16:16] *** Quits: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Ping timeout)
[09:17:17] *** Joins: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[09:21:01] *** Quits: arodier74 (Thunderbir@moz-25EB015.in-addr.btopenworld.com) (Quit: arodier74)
[09:21:41] *** Joins: avsej (avsej@DF1824D5.EFF97412.48F984E6.IP)
[09:22:45] *** Joins: arodier74 (Thunderbir@moz-25EB015.in-addr.btopenworld.com)
[09:23:23] *** Joins: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net)
[09:23:25] *** Joins: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net)
[09:23:38] <Heather> error: cannot borrow immutable local variable as mutable   let mut reader  = &mut f as &mut io::Reader; , any ideas ?
[09:23:39] *** Quits: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[09:23:44] <Heather> dbaupp ^
[09:24:30] *** Quits: arodier74 (Thunderbir@moz-25EB015.in-addr.btopenworld.com) (Quit: arodier74)
[09:24:53] *** Joins: arodier74 (Thunderbir@moz-25EB015.in-addr.btopenworld.com)
[09:26:03] <Heather> got it I will use @mut
[09:26:18] *** Parts: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net) ()
[09:26:32] *** Joins: z0w0 (zack@moz-C877F2F7.lnse2.cha.bigpond.net.au)
[09:26:48] *** kimundi is now known as zz_kimundi
[09:27:48] *** Joins: Ms2ger (Ms2ger@moz-4D57EC1A.ugent.be)
[09:28:36] *** Quits: robertknight (robertknig@moz-54528EE0.wby.mendeley.com) (Ping timeout)
[09:29:28] <Heather> dbaupp converted \o/ https://github.com/Heather/Mirana/commit/9505f368e548d97090f85c857ce76ccfe358a6a9
[09:32:12] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[09:32:50] *** Joins: lazyden (lazyden@47A36AC9.35CBBBD0.F246D1AF.IP)
[09:33:07] *** Joins: jdm (jdm@88F51059.F3BBB17D.144F44FA.IP)
[09:33:07] *** ChanServ sets mode: +o jdm
[09:33:28] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[09:35:09] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[09:38:44] <Sharp> Hmmmmm
[09:38:53] <Sharp>  99:33 error: mismatched types: expected `&str` but found `&str` (lifetime mismatch)
[09:39:32] <Sharp> 100:5 note: the anonymous lifetime #2 defined on the block at 98:71...
[09:39:33] <Sharp> 100:5 note: ...does not necessarily outlive the anonymous lifetime #1 defined on the block at 98:71
[09:39:54] <Sharp> So it appears that if I don't define 'self explicitly, it becomes a different instance each time?
[09:40:57] <Sharp> Or, no, wait, this happens even with 
[09:40:59] <Sharp> 'a.
[09:41:06] *** Quits: lazyden (lazyden@47A36AC9.35CBBBD0.F246D1AF.IP) (Quit: lazyden)
[09:41:38] <Sharp> I am very, very confused.
[09:41:46] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[09:42:24] *** Quits: Heo__ (Heo@13864F63.2DD6919B.56C9C5CA.IP) (Ping timeout)
[09:42:53] *** Joins: Heo__ (Heo@13864F63.2DD6919B.56C9C5CA.IP)
[09:43:19] <Sharp> Oh, wait, NM, got it.
[09:47:20] <StarLight> хм
[09:47:25] <StarLight> oops, wron window, sorry
[09:49:45] <nmatsakis> Jesse: yes, I suppose you could use mut_split -- of course that's also unsafely implemented :)
[09:52:41] <Sharp> Yay, variable lifetimes got rid of all my unsafe code (thus far, anyway).
[09:53:02] *** Quits: jst (quassel@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[09:53:03] *** Joins: jst (quassel@moz-BBE3ABD.mv.mozilla.com)
[09:53:06] *** Quits: johns (johns@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[09:53:06] *** Joins: johns (johns@moz-BBE3ABD.mv.mozilla.com)
[09:55:37] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[09:57:22] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[10:03:26] *** Quits: johns (johns@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[10:03:31] *** Joins: johns (johns@moz-BBE3ABD.mv.mozilla.com)
[10:07:03] *** Quits: Kxepal (Miranda@moz-C9C3DD3D.pppoe.mtu-net.ru) (Quit: Kxepal)
[10:07:20] *** Joins: Kxepal (Miranda@moz-C9C3DD3D.pppoe.mtu-net.ru)
[10:07:54] *** Joins: bent (chatzilla@DA4ABEAF.1DE10CA8.D8E68FF6.IP)
[10:08:13] *** Quits: Kxepal (Miranda@moz-C9C3DD3D.pppoe.mtu-net.ru) (Connection reset by peer)
[10:08:35] *** Joins: Kxepal (Miranda@moz-C9C3DD3D.pppoe.mtu-net.ru)
[10:08:48] *** Joins: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net)
[10:08:56] *** zz_kimundi is now known as kimundi
[10:09:06] *** Joins: eatkinson (eatkinson@moz-261EDE03.hsd1.ca.comcast.net)
[10:09:15] *** Joins: sk (sk@33BA8621.70EDD053.57C4AB8D.IP)
[10:12:41] *** Joins: skade (skade@30BBD5E6.505237C9.CAE22B62.IP)
[10:13:59] *** Quits: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp) (Ping timeout)
[10:14:07] *** Joins: jgilbert (jgilbert@DA4ABEAF.1DE10CA8.D8E68FF6.IP)
[10:21:41] *** Joins: andre_ (andre@CA528A4A.45A4338E.8EE27E6.IP)
[10:21:54] *** flaper87|afk is now known as flaper87
[10:24:46] *** Joins: doomlord_ (servitor@moz-3F3192E5.range86-184.btcentralplus.com)
[10:27:19] <dbaupp> Heather: cool :)
[10:27:40] <dbaupp> Heather: `print("Please, kill me ");`  I'm sure there is a better way to do this :P
[10:28:44] <dbaupp> Heather: e.g. you could adapt the old read_line: https://github.com/mozilla/rust/blob/61f8c059c4c6082683d78b2ee3d963f65fa1eb98/src/libstd/io.rs#L632-L649
[10:32:22] <SimonSapin> Hi. Do we have a pretty-print variant of "{:?}" ?
[10:32:34] *** Joins: jensnockert (jensnocker@moz-952CD207.ab.sol.lu.se)
[10:32:45] <SimonSapin> that would add newlines and indentation where appropriate
[10:32:46] *** Quits: jensnockert (jensnocker@moz-952CD207.ab.sol.lu.se) (Input/output error)
[10:32:57] *** Quits: jgilbert (jgilbert@DA4ABEAF.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[10:33:14] <dbaupp> SimonSapin: no
[10:33:52] <SimonSapin> dbaupp: does it sound like a good idea? Is there an existing bug about it?
[10:34:08] <SimonSapin> github issue search shows stuff about pretty-printing code, this is for values
[10:34:41] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[10:34:59] <dbaupp> It does sound reasonable (I don't know of an existing bug)
[10:35:40] <SimonSapin> I’ll write up something
[10:35:49] *** Joins: d3xter (sinz@moz-230BDF39.atmpu0020.highway.a1.net)
[10:35:55] <d3xter> hey guys
[10:36:09] <d3xter> is there any example on how to use "from_str" of the current master?
[10:36:19] <dbaupp> rusti: from_str::<int>("1")
[10:36:20] -rusti- Some(1)
[10:36:23] <dbaupp> rusti: from_str::<int>("abc")
[10:36:23] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[10:36:24] -rusti- None
[10:36:50] <dbaupp> rusti: match from_str("1") { Some(i) => { 1i + i } None => 0 }
[10:36:51] -rusti- 2
[10:37:12] <dbaupp> rusti: let x: Option<int> = from_str("1"); x
[10:37:13] -rusti- Some(1)
[10:37:34] <d3xter> dbaupp: thanks :)
[10:37:54] <eddyb9> rusti: from_str::<char>("abc")
[10:37:55] -rusti- pastebinned 6 lines of output: http://sprunge.us/dDOP
[10:38:05] <eddyb9> of course
[10:39:54] *** Quits: eddyb9 (eddy@BF35C1DC.9A7C5F59.4A6B528C.IP) (Ping timeout)
[10:40:02] *** Quits: Ms2ger (Ms2ger@moz-4D57EC1A.ugent.be) (Ping timeout)
[10:42:56] *** Quits: Heo__ (Heo@13864F63.2DD6919B.56C9C5CA.IP) (Ping timeout)
[10:43:04] *** Joins: Heo__ (Heo@13864F63.2DD6919B.56C9C5CA.IP)
[10:45:39] *** Quits: eatkinson (eatkinson@moz-261EDE03.hsd1.ca.comcast.net) (Quit: eatkinson)
[10:47:16] *** Quits: Heather (Heather@19663F6.F53BAACC.9C17E900.IP) (Ping timeout)
[10:48:25] *** flaper87 is now known as flaper87|afk
[10:49:40] *** Quits: heftig (heftig@moz-22DF79F3.dip0.t-ipconnect.de) (Quit: Quitting)
[10:51:46] <bjz> rusti:  from_str("1").map_default(0i, |x| x + 1)
[10:51:47] -rusti- pastebinned 9 lines of output: http://sprunge.us/aTNa
[10:52:04] <bjz> :(
[10:52:18] <bjz> rusti:  from_str::<int>("1").map_default(0, |x| x + 1)
[10:52:18] -rusti- 2
[10:52:30] *** Quits: mib_6wxnm4 (Mibbit@AD70DE1A.63849217.ABA51A88.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[10:53:12] *** Quits: LRN (LRN@moz-50DF30B.nationalcablenetworks.ru) (Ping timeout)
[10:53:39] *** Joins: LRN (LRN@moz-50DF30B.nationalcablenetworks.ru)
[10:58:38] *** Quits: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl) (Client exited)
[11:01:54] *** Quits: Jesse (jruderman@moz-537BCF9.hsd1.ca.comcast.net) (Quit: Jesse)
[11:04:02] *** Quits: Heo__ (Heo@13864F63.2DD6919B.56C9C5CA.IP) (Connection reset by peer)
[11:04:22] *** Joins: g3orge (g3orge@moz-CE3A1669.access.hol.gr)
[11:05:20] *** Quits: d3xter (sinz@moz-230BDF39.atmpu0020.highway.a1.net) (Quit: WeeChat 0.4.2)
[11:08:08] *** Joins: jensnockert (jensnocker@moz-A6AA3085.wireless.lu.se)
[11:08:30] *** Joins: Heo__ (Heo@13864F63.2DD6919B.56C9C5CA.IP)
[11:10:34] <sp3d> rusti: from_str::<~str>("abc")
[11:10:34] -rusti- Some(~"abc")
[11:14:31] *** Quits: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca) (Ping timeout)
[11:14:36] *** Joins: Jesse (jruderman@moz-537BCF9.hsd1.ca.comcast.net)
[11:18:07] *** Joins: maik (maik@moz-4CC490D4.dip0.t-ipconnect.de)
[11:18:17] *** Quits: jensnockert (jensnocker@moz-A6AA3085.wireless.lu.se) (Input/output error)
[11:19:17] *** Joins: robertknight (robertknig@moz-54528EE0.wby.mendeley.com)
[11:19:19] *** Joins: eddyb9 (eddy@37F72125.9065A63B.FCAAE698.IP)
[11:20:37] *** Quits: robertknight_ (robertknig@moz-54528EE0.wby.mendeley.com) (Ping timeout)
[11:21:03] *** Quits: robertknight (robertknig@moz-54528EE0.wby.mendeley.com) (Ping timeout)
[11:21:16] *** Joins: fyolnish (fyolnish@moz-BC27E898.uqwimax.jp)
[11:26:38] *** Joins: robertknight (robertknig@moz-54528EE0.wby.mendeley.com)
[11:27:21] *** Joins: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net)
[11:27:27] *** Parts: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net) ()
[11:33:59] *** Joins: jensnock_ (jensnocker@moz-A6AA3085.wireless.lu.se)
[11:36:23] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[11:37:08] *** Quits: arodier74 (Thunderbir@moz-25EB015.in-addr.btopenworld.com) (Quit: arodier74)
[11:37:39] *** Joins: arodier74 (Thunderbir@moz-25EB015.in-addr.btopenworld.com)
[11:38:03] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[11:38:35] <SimonSapin> dbaupp: Pretty formatting:  https://github.com/mozilla/rust/issues/10068
[11:40:09] *** Quits: jensnock_ (jensnocker@moz-A6AA3085.wireless.lu.se) (Input/output error)
[11:40:09] <dbaupp> SimonSapin: looks good
[11:40:42] *** Joins: Earnestly (earnest@moz-BE290A2B.dyn.plus.net)
[11:49:05] *** Quits: Blub\w (wry@7E3BB9D.71150E1A.237AE2BA.IP) (Ping timeout)
[11:49:17] *** Joins: Blub\w (wry@7E3BB9D.71150E1A.237AE2BA.IP)
[11:51:35] *** Joins: canhtak (jeremy@moz-3BB8F.wl.t.ulaval.ca)
[11:57:30] *** Quits: maik (maik@moz-4CC490D4.dip0.t-ipconnect.de) (Connection reset by peer)
[11:59:05] *** Quits: Heo__ (Heo@13864F63.2DD6919B.56C9C5CA.IP) (Quit: Leaving)
[11:59:10] *** Joins: Heo__ (Heo@13864F63.2DD6919B.56C9C5CA.IP)
[11:59:59] *** Quits: Heo__ (Heo@13864F63.2DD6919B.56C9C5CA.IP) (Quit: Leaving)
[12:00:06] *** Joins: Heo__ (Heo@13864F63.2DD6919B.56C9C5CA.IP)
[12:01:21] *** Quits: Heo__ (Heo@13864F63.2DD6919B.56C9C5CA.IP) (Quit: Leaving)
[12:01:26] *** Joins: hurderella (Heo@13864F63.2DD6919B.56C9C5CA.IP)
[12:03:04] *** Joins: heftig (heftig@moz-E8E2034C.inf.fh-bonn-rhein-sieg.de)
[12:05:47] *** Quits: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[12:07:20] *** bhearsum|afk is now known as bhearsum
[12:09:45] *** flaper87|afk is now known as flaper87
[12:12:22] *** Joins: Sorella (quildreen@2392D500.600E39D3.1ED99692.IP)
[12:15:41] *** Joins: jensnockert (jensnocker@moz-A6AA3085.wireless.lu.se)
[12:21:01] *** Quits: bent (chatzilla@DA4ABEAF.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[12:21:27] *** Quits: jensnockert (jensnocker@moz-A6AA3085.wireless.lu.se) (Connection reset by peer)
[12:21:46] *** kimundi is now known as zz_kimundi
[12:21:48] *** Joins: jensnockert (jensnocker@moz-A6AA3085.wireless.lu.se)
[12:23:59] *** Quits: jensnockert (jensnocker@moz-A6AA3085.wireless.lu.se) (Input/output error)
[12:28:31] *** Quits: GeneralMaximus (ankur@BA07138C.9925E880.493B1C0B.IP) (Quit: Computer has gone to sleep.)
[12:29:15] *** Joins: GeneralMaximus (ankur@BA07138C.9925E880.493B1C0B.IP)
[12:29:24] *** Quits: GeneralMaximus (ankur@BA07138C.9925E880.493B1C0B.IP) (Quit: Computer has gone to sleep.)
[12:30:53] *** Joins: jgilbert (jgilbert@DA4ABEAF.1DE10CA8.D8E68FF6.IP)
[12:36:17] *** Joins: tav (tav@moz-40D7C5F6.range109-154.btcentralplus.com)
[12:37:38] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[12:39:23] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[12:42:40] *** Quits: doomlord_ (servitor@moz-3F3192E5.range86-184.btcentralplus.com) (Ping timeout)
[12:44:45] *** Quits: arodier74 (Thunderbir@moz-25EB015.in-addr.btopenworld.com) (Quit: arodier74)
[12:50:06] *** Joins: Ms2ger (Ms2ger@moz-F75FD788.adsl-dyn.isp.belgacom.be)
[12:57:21] *** zz_kimundi is now known as kimundi
[12:58:03] *** Quits: g3orge (g3orge@moz-CE3A1669.access.hol.gr) (Quit: leaving)
[12:59:29] *** bhearsum is now known as bhearsum|afk
[12:59:32] *** jorendorff is now known as jorendorff_away
[13:07:10] *** Joins: umbridge (Mibbit@D8A5539E.964CDA78.7FDC720D.IP)
[13:08:43] *** Quits: mindcat (mindcat@B2D2F0F4.69E5AD7C.D6E1F3C4.IP) (Quit: Lost terminal)
[13:10:34] <umbridge> anybbody here?what is the bsearch method meaning of immutvector?
[13:11:39] <umbridge> binaryseach?
[13:13:46] <dbaupp> yes, binary search
[13:14:12] *** Joins: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net)
[13:14:22] <dbaupp> "Binary search a sorted vector with a comparator function." http://static.rust-lang.org/doc/master/std/vec/trait.ImmutableVector.html#tymethod.bsearch
[13:16:49] *** Quits: canhtak (jeremy@moz-3BB8F.wl.t.ulaval.ca) (Quit: canhtak)
[13:18:14] *** Quits: hurderella (Heo@13864F63.2DD6919B.56C9C5CA.IP) (Quit: Leaving)
[13:18:19] *** Joins: hurderella (Heo@13864F63.2DD6919B.56C9C5CA.IP)
[13:19:11] *** Quits: hurderella (Heo@13864F63.2DD6919B.56C9C5CA.IP) (Quit: Leaving)
[13:19:16] *** Joins: hurderella (Heo@13864F63.2DD6919B.56C9C5CA.IP)
[13:20:08] *** Joins: robertkn_ (robertknig@moz-54528EE0.wby.mendeley.com)
[13:21:54] *** Quits: robertkn_ (robertknig@moz-54528EE0.wby.mendeley.com) (Ping timeout)
[13:28:40] *** Quits: heftig (heftig@moz-E8E2034C.inf.fh-bonn-rhein-sieg.de) (Ping timeout)
[13:29:07] *** Joins: cowboyd (cowboyd@moz-1BD02A1E.sw.biz.rr.com)
[13:31:50] *** Joins: jvns (quassel@moz-DE62990.nyc.res.rr.com)
[13:32:00] <umbridge> how to make a function as its parameter,can you give me   an example?dbaupp
[13:32:05] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[13:32:32] *** Quits: _1126 (1126@moz-83D60E55.lileth.net) (Ping timeout)
[13:33:44] <dbaupp> rusti: let v = &[1,2,3,5,6,7]; v.bsearch(|x| 3.cmp(&x))
[13:33:45] -rusti- pastebinned 40 lines of output: http://sprunge.us/EgbF
[13:33:50] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[13:33:54] <dbaupp> rusti: let v = &[1i,2,3,5,6,7]; v.bsearch(|x| 3.cmp(&x))
[13:33:55] -rusti- pastebinned 40 lines of output: http://sprunge.us/LRgS
[13:34:10] <dbaupp> rusti: let v = &[1i,2,3,5,6,7]; v.bsearch(|x| 3i.cmp(&x))
[13:34:10] -rusti- pastebinned 7 lines of output: http://sprunge.us/DDIP
[13:34:32] <dbaupp> rusti: let v = &[1i,2,3,5,6,7]; v.bsearch(|x| 3i.cmp(x))
[13:34:32] -rusti- None
[13:34:45] <dbaupp> rusti: let v = &[1i,2,3,5,6,7]; v.bsearch(|x| x.cmp(&3i))
[13:34:45] -rusti- Some(2u)
[13:34:49] <dbaupp> rusti: let v = &[1i,2,3,5,6,7]; v.bsearch(|x| x.cmp(&4i))
[13:34:50] -rusti- None
[13:35:05] *** Quits: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net) (Quit: Sharp)
[13:35:23] <umbridge> thank you so much
[13:35:31] <Ms2ger> rusti: let v = &[1i,2,3,5,6,0i]; v.bsearch(|x| x.cmp(&4i))
[13:35:32] -rusti- None
[13:38:12] *** Joins: alonlevy (alon@moz-B0E66DB7.static.bezeqint.net)
[13:38:52] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[13:40:37] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[13:41:05] *** Joins: BizarreCake (BizarreCak@moz-361FE9B2.dynamic.barak-online.net)
[13:41:14] *** Joins: heftig (heftig@moz-E8E2034C.inf.fh-bonn-rhein-sieg.de)
[13:41:50] <bjz> rusti: let v = &[1i,2,3,5,6,7]; do v.bsearch |x| { x.cmp(&4i) }
[13:41:50] -rusti- None
[13:42:02] <bjz> umbridge: you can also do that ^
[13:42:37] <bjz> but it's usually better style to keep it as a parameter if its a small one-liner
[13:42:59] *** Joins: sebcrozet (sebcrozet@moz-A855F6C0.w82-127.abo.wanadoo.fr)
[13:43:06] *** Quits: sebcrozet (sebcrozet@moz-A855F6C0.w82-127.abo.wanadoo.fr) (Quit: Gone)
[13:43:24] *** Quits: johns (johns@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[13:43:26] *** Joins: johns (johns@moz-BBE3ABD.mv.mozilla.com)
[13:44:45] <eddyb> rusti: let v = &[1,2,3,5,6,7]; do v.bsearch |x| { x.cmp(&4) }
[13:44:45] -rusti- pastebinned 37 lines of output: http://sprunge.us/dMBh
[13:44:52] <eddyb> hmpf, lol
[13:44:53] <umbridge> thank you all the nice guys
[13:46:45] <bjz> eddyb: yeah, method inference is weird
[13:46:51] <bjz> :[
[13:47:13] <bjz> well, not weird, but inonsistent
[13:47:19] <bjz> *inconsistent
[13:47:53] <bjz> with inference of function parameter types
[13:48:09] *** Joins: jensnockert (jensnocker@moz-C994F2B6.wireless.lu.se)
[13:48:55] *** Joins: BitPuffin (isak@moz-98F8BF74.cust.tele2.se)
[13:52:03] *** Joins: arodier74 (Thunderbir@moz-25EB015.in-addr.btopenworld.com)
[13:57:01] *** Joins: _1126 (1126@moz-83D60E55.lileth.net)
[13:57:21] *** Quits: jensnockert (jensnocker@moz-C994F2B6.wireless.lu.se) (Connection reset by peer)
[13:57:38] *** Joins: jensnockert (jensnocker@moz-C994F2B6.wireless.lu.se)
[14:01:35] *** bhearsum|afk is now known as bhearsum
[14:02:57] *** Quits: jensnockert (jensnocker@moz-C994F2B6.wireless.lu.se) (Input/output error)
[14:03:20] *** Quits: johns (johns@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[14:03:24] *** Joins: johns (johns@moz-BBE3ABD.mv.mozilla.com)
[14:04:25] *** Joins: midewitt (midewitt@1C2D8ADF.6E91F788.2CFD4520.IP)
[14:07:05] *** Quits: jgraham (jgraham@moz-6C043AAD.webfaction.com) (Ping timeout)
[14:07:40] *** Joins: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca)
[14:09:04] *** Joins: GeneralMaximus (ankur@EE63E1A8.ACD9C904.BE90E62C.IP)
[14:12:43] *** Joins: ianj (ianjneu@moz-7140CF01.ccs.neu.edu)
[14:16:05] *** Quits: umbridge (Mibbit@D8A5539E.964CDA78.7FDC720D.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[14:16:29] *** Quits: bholley (anonymous@moz-CB983BB6.superkabel.de) (Ping timeout)
[14:17:59] *** Joins: jgraham (jgraham@moz-6C043AAD.webfaction.com)
[14:18:37] *** Quits: dreuge (Mibbit@moz-ACD5F5F6.dcs.shef.ac.uk) (Quit: http://www.mibbit.com ajax IRC Client)
[14:26:26] *** Quits: heftig (heftig@moz-E8E2034C.inf.fh-bonn-rhein-sieg.de) (Ping timeout)
[14:27:28] *** Joins: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net)
[14:30:11] *** Joins: hjr3 (hradtke@374E545A.3A8E9B0C.F9D9C60E.IP)
[14:30:26] *** Joins: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net)
[14:31:48] *** Quits: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net) (Quit: Sharp)
[14:38:43] <myname> is there a fast way to check if a given int is a square number? i tried i = (n as f64).sqrt() a int; if i * i == n ...
[14:38:48] <myname> but i consider it horribly slow
[14:39:28] <myname> if i == (n a f64).sqrt() does not work because of types and i am not sure if it's fast to convert from/to floats
[14:39:36] *** Joins: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP)
[14:40:29] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[14:41:29] *** Joins: charmander (Mibbit@moz-556197E1.bootp.virginia.edu)
[14:41:37] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[14:42:11] *** Joins: ozten (ozten@moz-DD3B00B4.hsd1.wa.comcast.net)
[14:42:12] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Quit: yichoi)
[14:42:13] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[14:42:31] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[14:42:35] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Quit: yichoi)
[14:42:53] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[14:43:34] *** Joins: Scriptor (historium@moz-E06F46F0.corp.bitshelter.com)
[14:44:08] <XMunkki> myname: might be of help http://stackoverflow.com/questions/295579/fastest-way-to-determine-if-an-integers-square-root-is-an-integer
[14:45:52] <myname> what the actual fuck
[14:46:11] <XMunkki> (well perfect square is what you're looking for so there are many ways :)
[14:46:25] *** Joins: amro (quassel@D9E34ACF.8AAAF769.FAAB0799.IP)
[14:46:42] <Ms2ger> Heh
[14:47:15] <charmander> is there any existing implementation of web crawler in rust?
[14:52:35] *** Quits: alonlevy (alon@moz-B0E66DB7.static.bezeqint.net) (Ping timeout)
[14:54:27] <jdm> nope
[14:54:36] *** Quits: nrc (nrc@DA4ABEAF.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[14:55:26] *** Joins: heftig (heftig@moz-E8E2034C.inf.fh-bonn-rhein-sieg.de)
[14:58:30] *** Joins: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP)
[14:58:30] *** ChanServ sets mode: +o pnkfelix
[14:58:33] <charmander> okay thanks
[15:00:08] *** Quits: dsirenko (mitra@8E712A0.54C21BA0.9F317420.IP) (Connection reset by peer)
[15:00:52] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[15:00:58] *** Quits: heftig (heftig@moz-E8E2034C.inf.fh-bonn-rhein-sieg.de) (Input/output error)
[15:01:02] *** Quits: jvns (quassel@moz-DE62990.nyc.res.rr.com) (Ping timeout)
[15:01:11] *** Quits: charmander (Mibbit@moz-556197E1.bootp.virginia.edu) (Quit: http://www.mibbit.com ajax IRC Client)
[15:01:12] *** Joins: heftig (heftig@moz-E8E2034C.inf.fh-bonn-rhein-sieg.de)
[15:02:30] *** Joins: yghannam (yghannam@moz-C5BCCF4E.lightspeed.austtx.sbcglobal.net)
[15:02:49] <FreeFull> myname: I think conversion between float and integer is one instruction on x86
[15:02:59] <myname> oh
[15:03:19] *** Quits: johns (johns@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[15:03:22] *** Joins: johns (johns@moz-BBE3ABD.mv.mozilla.com)
[15:03:26] *** Quits: GeneralMaximus (ankur@EE63E1A8.ACD9C904.BE90E62C.IP) (Quit: Computer has gone to sleep.)
[15:03:29] <cmr> as is sqrt
[15:03:39] <cmr> well, depends on how the compiler does it.
[15:04:29] *** Quits: yghannam (yghannam@moz-C5BCCF4E.lightspeed.austtx.sbcglobal.net) (Ping timeout)
[15:05:32] <FreeFull> Apparently you need to know the rounding mode is the right one though before you use the instruction, or you'll have to switch it twice which will incur about a 50 cycle cost?
[15:06:16] <FreeFull> If you know the rounding mode, it doesn't apply
[15:06:31] <cmr> well, is that using x87? what does sse (sqrtss) do?
[15:09:10] *** Joins: vodik (simon@moz-2AB8ABC6.dsl.bell.ca)
[15:13:27] *** Joins: lfox (lfox@moz-25ABC0FC.nyc.biz.rr.com)
[15:17:01] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[15:19:39] *** Quits: midewitt (midewitt@1C2D8ADF.6E91F788.2CFD4520.IP) (Client exited)
[15:19:57] *** Joins: pudgetta (Mibbit@moz-6EFF0CD8.cable.virginm.net)
[15:20:39] *** Quits: ambimorph (amber@moz-F1964F26.hlrn.qwest.net) (Ping timeout)
[15:20:55] *** Joins: robertkn_ (robertknig@moz-54528EE0.wby.mendeley.com)
[15:21:26] *** Joins: ambimorph (amber@moz-F1964F26.hlrn.qwest.net)
[15:22:43] *** Quits: robertkn_ (robertknig@moz-54528EE0.wby.mendeley.com) (Ping timeout)
[15:23:15] *** Joins: jeaye (Jeaye@moz-34FEF2BB.hsd1.ca.comcast.net)
[15:24:10] *** flaper87 is now known as flaper87|afk
[15:25:55] *** Quits: Ferreus (ferreus@moz-6DBED067.dip0.t-ipconnect.de) (Ping timeout)
[15:26:09] *** Joins: Kruppe (user@moz-253119B0.esg.uwaterloo.ca)
[15:26:37] *** Quits: pudgetta (Mibbit@moz-6EFF0CD8.cable.virginm.net) (Quit: http://www.mibbit.com ajax IRC Client)
[15:29:20] *** Joins: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net)
[15:29:52] *** Quits: BitPuffin (isak@moz-98F8BF74.cust.tele2.se) (Ping timeout)
[15:30:01] *** Joins: edorian (Mibbit@moz-C60F0337.dynamic.qsc.de)
[15:30:43] *** Quits: andre_ (andre@CA528A4A.45A4338E.8EE27E6.IP) (Ping timeout)
[15:35:01] *** Joins: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net)
[15:35:05] *** Joins: jvns (quassel@87D98E32.4046EB22.428F94DD.IP)
[15:36:51] *** Joins: ercxx (ercan@moz-7CFF3469.dyn.optonline.net)
[15:38:46] *** Joins: Kelvin (Mibbit@5F542617.599F34EC.DDE5D3F6.IP)
[15:39:07] *** Joins: exobit_ (textual@moz-E06F46F0.corp.bitshelter.com)
[15:39:11] *** Joins: nkoep (nik@moz-796C383E.pool.mediaways.net)
[15:39:36] *** Joins: andre_ (andre@CA528A4A.45A4338E.8EE27E6.IP)
[15:40:22] *** Quits: alan (alan@moz-F8EE186F.lightspeed.snantx.sbcglobal.net) (Quit: alan)
[15:41:21] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[15:42:03] *** Quits: Houm (Houm@moz-25669AA8.fbx.proxad.net) (Ping timeout)
[15:43:03] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[15:44:10] *** Joins: jeffdb_ (jeff@moz-D13B6004.hsd1.ca.comcast.net)
[15:44:19] *** Joins: maik (maik@moz-4CC490D4.dip0.t-ipconnect.de)
[15:44:47] *** Joins: midewitt (midewitt@1C2D8ADF.6E91F788.2CFD4520.IP)
[15:44:56] *** Joins: Houm (Houm@moz-25669AA8.fbx.proxad.net)
[15:47:03] <Kelvin> So I'm trying to implement an LRU cache in rust for files using an ordered data structure like a priority_queue, but I'm having an issue where when I grab a file in the cache, the access time is updated, but the list itself is not modified, meaning that the file is not moved from it's original spot
[15:47:32] <Kelvin> is there any data structure in rust that is ordered that I can force to update itself without modifying it first?
[15:47:40] <Kelvin> or should I just implement my own?
[15:48:28] *** Joins: dherman (dherman@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[15:48:28] *** ChanServ sets mode: +ao dherman dherman
[15:48:42] *** Quits: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP) (Quit: Leaving.)
[15:50:00] *** Quits: DasIch (dasich@moz-5EDA591.de) (Connection reset by peer)
[15:50:06] *** Quits: robertknight (robertknig@moz-54528EE0.wby.mendeley.com) (Connection reset by peer)
[15:50:22] *** Quits: avsej (avsej@DF1824D5.EFF97412.48F984E6.IP) (Client exited)
[15:51:00] <sfackler> a priority queue with access times provides more information than you need for an LRU cache. you can just use a deque
[15:52:06] *** Quits: paulproteus (quassel@199.199.210.158) (Client exited)
[15:52:19] *** Joins: paulproteus (quassel@458FE134.3EC36C88.CBDCF1DC.IP)
[15:57:50] *** kimundi is now known as zz_kimundi
[15:58:31] *** Joins: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP)
[15:58:31] *** ChanServ sets mode: +o pnkfelix
[15:59:21] *** Joins: alan (alan@moz-FE02DD30.sat6.rackspace.com)
[16:01:14] *** Quits: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP) (Quit: Leaving.)
[16:02:50] *** Quits: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[16:03:16] *** Joins: robertknight (robertknig@moz-54528EE0.wby.mendeley.com)
[16:03:27] *** Quits: johns (johns@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[16:03:30] *** Joins: johns (johns@moz-BBE3ABD.mv.mozilla.com)
[16:03:44] *** Joins: sphoorti (chatzilla@D8DECAE9.6904729C.E3E2C386.IP)
[16:04:13] *** Parts: sphoorti (chatzilla@D8DECAE9.6904729C.E3E2C386.IP) ()
[16:07:45] *** Quits: edorian (Mibbit@moz-C60F0337.dynamic.qsc.de) (Quit: http://www.mibbit.com ajax IRC Client)
[16:10:34] *** Quits: lfox (lfox@moz-25ABC0FC.nyc.biz.rr.com) (Quit: ZZZzzz…)
[16:11:43] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[16:14:35] *** Quits: cade (cade@66A6305B.C2D6DAC0.9510F13D.IP) (Ping timeout)
[16:14:48] *** Quits: km (quassel@moz-777F24DE.kevinmehall.com) (Ping timeout)
[16:14:52] *** Quits: stvc (quassel@DDF9BE86.571456BD.9510F13D.IP) (Ping timeout)
[16:15:35] *** flaper87|afk is now known as flaper87
[16:15:49] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[16:15:58] *** Quits: Kelvin (Mibbit@5F542617.599F34EC.DDE5D3F6.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[16:16:13] *** Joins: dsirenko (mitra@8E712A0.54C21BA0.9F317420.IP)
[16:16:45] *** Quits: wting (wting@4F978BD6.5564A9BA.9510F13D.IP) (Ping timeout)
[16:17:29] *** jorendorff_away is now known as jorendorff
[16:18:30] *** Quits: amro (quassel@D9E34ACF.8AAAF769.FAAB0799.IP) (Client exited)
[16:18:47] *** Joins: steffenomak (steffenoma@moz-FB0A4BEB.student.uu.se)
[16:18:49] *** Joins: cade (cade@66A6305B.C2D6DAC0.9510F13D.IP)
[16:22:02] *** Joins: CurlyBrace (Mibbit@moz-21083258.hsd1.va.comcast.net)
[16:22:26] *** Joins: stvc (quassel@DDF9BE86.571456BD.9510F13D.IP)
[16:22:27] <CurlyBrace> greetings
[16:22:41] *** Joins: km (quassel@moz-777F24DE.kevinmehall.com)
[16:22:49] <utkarsh> hello
[16:23:11] <CurlyBrace> Anyone have any suggestions on finding file size in rust?
[16:23:22] *** Quits: johns (johns@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[16:23:24] <CurlyBrace> baring reading through all the contents manually and counting, that is
[16:23:28] *** Joins: johns (johns@moz-BBE3ABD.mv.mozilla.com)
[16:23:50] <utkarsh> CurlyBrace, http://static.rust-lang.org/doc/master/std/rt/io/struct.FileStat.html?
[16:24:05] *** Joins: lfox (lfox@moz-F9C0E858.nycmny.east.verizon.net)
[16:25:04] <CurlyBrace> Gah, I figured there was an easy implementation, but I was barking up the wrong sub module tree
[16:25:05] <CurlyBrace> thanks muchly
[16:25:09] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[16:25:26] *** Quits: z0w0 (zack@moz-C877F2F7.lnse2.cha.bigpond.net.au) (Quit: z0w0)
[16:25:44] *** Joins: wting (wting@4F978BD6.5564A9BA.9510F13D.IP)
[16:26:21] *** Joins: mikezaby (mikezaby@moz-B26868E.home.otenet.gr)
[16:28:40] *** Quits: jdm (jdm@88F51059.F3BBB17D.144F44FA.IP) (Quit: Lost terminal)
[16:30:08] *** Quits: SilverKey (SilverKey@moz-B589DA51.sw.biz.rr.com) (Input/output error)
[16:31:22] *** Joins: bran (bran@moz-AC832EC7.compute-1.amazonaws.com)
[16:32:28] *** jorendorff is now known as jorendorff_away
[16:32:48] *** Joins: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net)
[16:35:59] *** Quits: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net) (Quit: Sharp)
[16:37:15] *** Quits: heftig (heftig@moz-E8E2034C.inf.fh-bonn-rhein-sieg.de) (Quit: Quitting)
[16:39:51] *** Joins: victorporof_ (victorporo@75D4E0BA.E3B14EAA.D111398B.IP)
[16:40:06] *** Quits: victorporof (victorporo@75D4E0BA.E3B14EAA.D111398B.IP) (Ping timeout)
[16:40:53] *** Quits: FreeFull (freefull@267734B5.F76F310C.6B0ACFBD.IP) (Ping timeout)
[16:41:17] <bran> hi, i'm trying to learn rust by writing an http server, but I'm not sure what I'm doing wrong here: https://gist.github.com/bickfordb/7157675
[16:41:32] *** Joins: Ferreus (ferreus@moz-9EABADA2.pools.arcor-ip.net)
[16:41:33] *** Joins: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net)
[16:41:39] <bran> do i need to make the handler type sendable?
[16:41:41] *** Joins: heftig (heftig@33E250E2.54B452C9.172227A7.IP)
[16:43:29] *** Quits: johns (johns@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[16:43:34] *** Joins: johns (johns@moz-BBE3ABD.mv.mozilla.com)
[16:43:54] *** Quits: dherman (dherman@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: dherman)
[16:44:32] *** Quits: fabiand (fabiand@moz-CDE279C0.adsl.alicedsl.de) (Quit: Verlassend)
[16:46:55] *** Joins: huseby (huseby@moz-4E8C421A.husebyhome.com)
[16:47:01] *** Joins: FreeFull (freefull@7DFC290D.B7A83051.176A30C.IP)
[16:47:22] *** Joins: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net)
[16:47:53] <cmr> bran: hi
[16:48:01] *** Joins: Ms2ger` (Ms2ger@moz-F75FD788.adsl-dyn.isp.belgacom.be)
[16:48:20] <CurlyBrace> bran, you in OS?
[16:48:35] *** Quits: Ms2ger (Ms2ger@moz-F75FD788.adsl-dyn.isp.belgacom.be) (Ping timeout)
[16:48:37] *** Joins: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net)
[16:48:54] *** Quits: Kruppe (user@moz-253119B0.esg.uwaterloo.ca) (Client exited)
[16:49:03] <cmr> bran: weird error, but you just need to put handler in a cell I think.
[16:50:05] *** Quits: ozten (ozten@moz-DD3B00B4.hsd1.wa.comcast.net) (Ping timeout)
[16:50:53] *** Quits: FreeFull (freefull@7DFC290D.B7A83051.176A30C.IP) (Ping timeout)
[16:51:32] *** Joins: dherman (dherman@moz-C07D5168.p2p.sfo1.mozilla.com)
[16:51:32] *** ChanServ sets mode: +ao dherman dherman
[16:51:43] *** Joins: oberstet_ (quassel@moz-B2946949.dynamic.mnet-online.de)
[16:52:54] *** Joins: victorporof (victorporo@75D4E0BA.E3B14EAA.D111398B.IP)
[16:52:57] *** Quits: oberstet (quassel@moz-79F22AB8.dynamic.mnet-online.de) (Ping timeout)
[16:53:37] *** Joins: Kruppe (user@moz-253119B0.esg.uwaterloo.ca)
[16:53:38] *** Quits: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net) (Quit: Sharp)
[16:54:07] *** Quits: victorporof_ (victorporo@75D4E0BA.E3B14EAA.D111398B.IP) (Ping timeout)
[16:54:07] *** Quits: BossKonaSegway (Michael@moz-2986F42D.col.wideopenwest.com) (Connection reset by peer)
[16:55:10] *** Joins: ozten (ozten@moz-DD3B00B4.hsd1.wa.comcast.net)
[16:56:00] *** Joins: BossKonaSegway (Michael@moz-2986F42D.col.wideopenwest.com)
[16:57:24] *** Quits: ozten (ozten@moz-DD3B00B4.hsd1.wa.comcast.net) (Ping timeout)
[16:58:13] *** Joins: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net)
[16:58:50] *** Quits: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net) (Quit: Sharp)
[16:59:11] *** Joins: ofeldt (ofeldt@moz-A32C5EAD.dip0.t-ipconnect.de)
[16:59:57] *** Joins: GeneralMaximus (ankur@5D4FDDCE.241AFF02.D2D1FAF0.IP)
[17:00:00] *** Quits: ofeldt- (ofeldt@moz-6094AD15.dip0.t-ipconnect.de) (Ping timeout)
[17:00:35] <bran> curlybrace: what do you mean by OS?
[17:01:10] <CurlyBrace> David Evans' Operating Systems course at UVA
[17:01:30] <CurlyBrace> Can anyone help me with my error here?
[17:01:30] <CurlyBrace> http://pastebin.com/iiunLZ5u
[17:01:39] <bran> curlybrace: no, sorry.  i'm in seattle
[17:01:48] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[17:02:28] *** Joins: FreeFull (freefull@65BF5007.48118853.1C105F65.IP)
[17:02:47] <bran> cmr: https://gist.github.com/bickfordb/7157675 that doesn't work 
[17:04:16] *** Joins: ozten (ozten@moz-DD3B00B4.hsd1.wa.comcast.net)
[17:04:34] *** Quits: jgilbert (jgilbert@DA4ABEAF.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[17:04:58] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[17:05:06] <cmr> bran: that's so weird
[17:05:15] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[17:05:18] <cmr> nmatsakis: ^
[17:05:34] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Client exited)
[17:05:35] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[17:05:36] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[17:06:04] <CurlyBrace> any advice on "cannot determine a type for this bounded type parameter: unconstrained type" errrors?
[17:06:06] <acrichto> bran: you're moving it out in a loop, if the loop executes more than once then bad things will happen
[17:06:15] <cmr> Ohhh it's a loop
[17:06:17] <cmr> duh
[17:06:23] <cmr> CurlyBrace: add a type hint somewhere.
[17:06:40] *** Quits: ozten (ozten@moz-DD3B00B4.hsd1.wa.comcast.net) (Ping timeout)
[17:06:56] <CurlyBrace> I've tried the 'as <type>', but that doesn't work either
[17:07:12] <cmr> that's not a type hint. https://github.com/mozilla/rust/wiki/The-Rusticon#syntaxicon
[17:07:25] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[17:07:27] *** Joins: mark_edward (quassel@moz-DCB0B750.lightspeed.cicril.sbcglobal.net)
[17:08:18] *** Joins: jgilbert (jgilbert@DA4ABEAF.1DE10CA8.D8E68FF6.IP)
[17:08:39] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[17:08:49] <CurlyBrace> I'm afraid I still don't quite understand - http://pastebin.com/zWYqMeve
[17:09:05] <cmr> Where is the failure?
[17:09:06] <bran> acrichto:  what's the right way to write a socket server that takes a handler-ish function?
[17:09:23] <CurlyBrace> on the "if (stat::<FileStat>).is_file {" line
[17:09:41] <acrichto> bran: the handler could be an extern "Rust" fn, or you could so something like making a factory which returns handler functions
[17:10:02] <acrichto> bran: you can't have just one ~fn() though because otherwise it would be executing with the same environment in multiple threads (race conditions)
[17:10:15] *** Quits: arodier74 (Thunderbir@moz-25EB015.in-addr.btopenworld.com) (Quit: arodier74)
[17:10:28] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[17:10:46] *** Joins: arodier74 (Thunderbir@moz-25EB015.in-addr.btopenworld.com)
[17:11:12] <bran> is there a copy for ~fns?
[17:11:49] <acrichto> bran: not right now, no
[17:12:38] *** Quits: jgilbert (jgilbert@DA4ABEAF.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[17:13:50] *** Quits: Ralith (ralith@moz-132F2FD4.sea.wa.customer.broadstripe.net) (Ping timeout)
[17:14:20] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[17:14:46] *** Quits: robertknight (robertknig@moz-54528EE0.wby.mendeley.com) (Ping timeout)
[17:15:36] <CurlyBrace> I tried stat::<FileStat>() too, no dice
[17:18:28] *** Joins: ozten (ozten@E17C4555.A89AEF29.4660C11C.IP)
[17:19:33] *** Quits: mikezaby (mikezaby@moz-B26868E.home.otenet.gr) (Input/output error)
[17:20:18] <CurlyBrace> Gah, I just need this one thing to be interpreted as the right type...
[17:20:50] *** Quits: ozten (ozten@E17C4555.A89AEF29.4660C11C.IP) (Ping timeout)
[17:20:56] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[17:22:02] *** Joins: robertknight (robertknig@moz-54528EE0.wby.mendeley.com)
[17:23:42] *** Quits: robertknight (robertknig@moz-54528EE0.wby.mendeley.com) (Ping timeout)
[17:24:06] *** Quits: killerswan (kevincantu@moz-CC0DC654.hsd1.ca.comcast.net) (Quit: killerswan)
[17:26:52] *** Joins: BitPuffin (isak@moz-98F8BF74.cust.tele2.se)
[17:27:11] <nmatsakis> bran: did you resolve your compile erroR? the problem is that you are moving the code in a loop
[17:27:42] *** zz_kimundi is now known as kimundi
[17:27:46] *** Joins: eatkinson (eatkinson@moz-9BE2710B.airbears2.berkeley.edu)
[17:27:48] <cmr> nmatsakis: would it be fairly easy to actually say that it's moved because it's in a loop in the error?
[17:27:48] <nmatsakis> bran: quite possibly you want the handler to be an object, so you can clone it
[17:28:08] <nmatsakis> cmr: not fairly easy, but might be possible
[17:28:26] <bran> nmatsakis: ok, that makes sense.  is there an example of this somewhere?
[17:28:35] <bran> does the object need to implement Clone?
[17:28:54] <kimundi> Hm, my fail! and ~Any patch now results in the runtime talking to me about old gods, please advise.
[17:29:03] <nmatsakis> bran: well I imagine you could do something like: trait SocketHandler : Clone { fn receive(self, ....) { ... } }
[17:29:08] <nmatsakis> kimundi: eh?
[17:29:09] *** Quits: squiddy (squiddy@moz-90823E24.adsl.alicedsl.de) (Ping timeout)
[17:29:18] <nmatsakis> kimundi: sounds like somebody got creative in their error message
[17:29:29] <nmatsakis> bran: and then instead of ~fn(...) you have ~SocketHandler 
[17:29:41] <kimundi> nmatsakis: I seem to trigger rtassert!s now, but I have no idea how that could be caused
[17:29:54] <kimundi> nmatsakis: As it worked before
[17:29:55] <nmatsakis> bran: another option would be to use an `extern "Rust" fn` (which has no context) and pass the context in explicitly
[17:30:37] <acrichto> kimundi: after the fun text it should print a reason as to why the assert was tripped
[17:30:40] <nmatsakis> kimundi: I know nothing of this :) but I like the idea of errors talking about awakening old gods :)
[17:30:52] <cmr> nmatsakis: it's lovecraft quotes
[17:30:58] <kimundi> Ah, yeah: fatal runtime error: thread-local pointer is null. bogus!
[17:31:05] <CurlyBrace> if (stat::<~FileStat>).is_file { still give me errors...
[17:31:12] * kimundi is silly for not pasting the actual error message
[17:31:13] <acrichto> kimundi: check the backtrace at that time (I've seen infinite recursion in printing a lot recently)
[17:31:21] <nmatsakis> bran: let me know if you need a more worked out example, I could prob draw up a gist
[17:31:22] *** Quits: oberstet_ (quassel@moz-B2946949.dynamic.mnet-online.de) (Client exited)
[17:31:42] <cmr> CurlyBrace: what is stat? Where did it come from?
[17:31:46] *** Joins: ozten (ozten@moz-DD3B00B4.hsd1.wa.comcast.net)
[17:32:20] <kimundi> nmatsakis: Btw, this is what the message looks like if you'Re curious: https://gist.github.com/Kimundi/abb7074f00932c11ed34
[17:32:24] <nmatsakis> bran: closures are sort of in a state of flux, so partially I am directing you to the most future proof options :) this particular case (~fn that gets called repeatedly) is unlikely to have a dedicated type for it, since it comes up rarely
[17:32:25] <CurlyBrace> I am matching stat
[17:32:25] <cmr> CurlyBrace: You're not giving enough code to actually help you.
[17:32:31] <CurlyBrace> see http://pastebin.com/zWYqMeve
[17:32:38] <CurlyBrace> Is that not enough?
[17:32:43] *** Joins: amro (quassel@8586EE21.B62DA81E.BF6473A8.IP)
[17:32:43] *** Quits: CarpNet (ac@moz-FD24B77.sohonet.co.uk) (Quit: Leaving)
[17:32:45] <CurlyBrace> I can go more in depth
[17:32:58] <nmatsakis> kimundi: wow, that's long. my eyes glaze right over it. 
[17:33:08] <cmr> If stat is a function, (stat::<FileStat>).is_file makes no sense.
[17:33:13] <kimundi> acrichto: Could you give me a short tutorial how to get to the backtrace?
[17:33:17] <nmatsakis> kimundi: ...but very lovely. :)
[17:33:18] <kimundi> nmatsakis: haha
[17:33:23] <CurlyBrace> its not a function, I think
[17:33:32] <acrichto> kimundi: oh just run it in gdb, it'll stop at the rtassert b/c it calls abort instead of throwing
[17:33:33] <cmr> Well you're calling it like one.
[17:33:52] <kimundi> acrichto: Is 'gdb make check' fine?
[17:34:03] *** Quits: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP) (Ping timeout)
[17:34:13] <acrichto> kimundi: I wish, instead you'll have to run gdb on the rust binary iteslf
[17:34:20] <bran> nmatsakis: In this case I was expecting the closure and its environment to be copied
[17:34:26] <acrichto> run with 'make check VERBOSE=1' to see what command segfaulted, then gdb that command manualy
[17:34:39] <CurlyBrace> Okay, better example: http://pastebin.com/WcJFEqAY - I just want to treat 'stat' as a FileStat
[17:34:50] <bran> nmatsakis: that's the objc block solution, i think
[17:34:53] <CurlyBrace> I've tried and failed to do 'x as y', type hints, etc
[17:35:01] <cmr> CurlyBrace: Well what type *is* stat?
[17:35:05] <kimundi> acrichto: Yeah, got the program name, I ran gdb, and now I think I have top  actually start it?
[17:35:15] <kimundi> to+
[17:35:19] <kimundi> to**
[17:35:21] <CurlyBrace> we are matching it as FileType, I think
[17:35:24] <acrichto> kimundi: oh sorry, once you're at the gdb prompt, then you can type 'r' to start the program
[17:35:32] <acrichto> kimundi: once the program dies, you can type 'bt' to get a backtrace
[17:35:32] <kimundi> AH, r it was
[17:35:45] <acrichto> kimundi: the symbols aren't fantastic, but they'll give you a general idea of what went wrong where
[17:35:57] *** Joins: hoverbear (andrew@moz-EE86CF77.wireless.uvic.ca)
[17:36:00] *** Joins: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP)
[17:36:03] <acrichto> kimundi: also I'm learning that linux gdb is so much better than osx gdb (I think b/c osx gdb is so much older by default)
[17:36:11] <CurlyBrace> I am trying to understand the example code from here: http://static.rust-lang.org/doc/master/std/rt/io/file/fn.stat.html
[17:36:13] *** Joins: Azdle (Azdle@moz-B334B496.hfc.comcastbusiness.net)
[17:36:15] <nmatsakis> bran: right, and indeed that was the older approach, but we've been removing support for "deep cloning" the closure environment, as part of a general move way from magic -- it's conceivable that the proposed `proc` type that will replace `~fn` could support cloning
[17:36:29] <nmatsakis> bran: for the time being, I think you can actually just write handler.clone()
[17:36:40] <nmatsakis> bran: it's just that this may get removed in the future with no direct equivalent
[17:36:47] <cmr> CurlyBrace: that example is wrong. it should be `if info.is_file`
[17:37:05] <nmatsakis> bran: (i.e., replcae the ref to `handler` that is having an error with `handler.clone()`)
[17:37:06] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[17:37:14] <hoverbear> cmr: I thought you were taking a break?
[17:37:44] <cmr> hoverbear: I was, but I got caught up with my schoolwork.
[17:37:56] <hoverbear> cmr: Good to see you back!
[17:38:06] <cmr> hoverbear: thanks :)
[17:38:33] *** Joins: bholley (anonymous@moz-CB983BB6.superkabel.de)
[17:38:46] <CurlyBrace> GAH
[17:38:55] <CurlyBrace> Well, that makes much more sense, of course
[17:38:57] <CurlyBrace> thanks all
[17:39:07] *** flaper87 is now known as flaper87|afk
[17:39:17] <hoverbear> cmr: I'm working on a C shell, this is my feelings: http://i.imgur.com/BVLBTnW.gif
[17:41:27] *** Joins: azakai (alon@moz-BBE3ABD.mv.mozilla.com)
[17:45:04] <CurlyBrace> Okay, stupid question, how do I print out an unsigned 64bit int?
[17:45:13] <cmr> println(x.to_str())
[17:45:34] <cmr> Or, println!("{}", x) etc
[17:45:38] *** Joins: claude (Mibbit@moz-99FF5A51.protectedgroup.com)
[17:45:46] *** Quits: claude (Mibbit@moz-99FF5A51.protectedgroup.com) (User has been banned from Mozilla (no spamming here))
[17:46:26] *** Joins: echristo (echristo@B3AA7BA8.D6CCE4AE.77834EAA.IP)
[17:46:56] <CurlyBrace> Interesting, I just put that in, and now it crashes my program
[17:47:20] <Scriptor> CurlyBrace: pastebin your code?
[17:47:51] <kimundi> acrichto: Hm, I'm having trouble reading the backtrace. Isn't it possible these days to enable debug info somehow?
[17:48:10] <CurlyBrace> http://pastebin.com/QSTCT59S
[17:48:16] <CurlyBrace> ^that's the whole thing
[17:48:23] <acrichto> kimundi: I've heard rumors that building with '-Z debug-info' works on the compiler now, but I've never used it myself so I couldn't attest to how useful it is
[17:48:25] <CurlyBrace> Line 177 is where the fun starts
[17:48:33] <acrichto> kimundi: if you paste the backtrace though I could help you take a look at it
[17:49:25] *** Joins: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com)
[17:49:25] *** ChanServ sets mode: +ao pcwalton pcwalton
[17:49:33] *** Joins: zslayton (Mibbit@81EB2473.5F4BC84E.66C78B76.IP)
[17:49:37] <kimundi> acrichto: Backtrace: https://gist.github.com/Kimundi/1fb9ed3d4e05a8a04511 Assoziated code: https://github.com/mozilla/rust/pull/9967
[17:50:17] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[17:50:18] <acrichto> kimundi: in the backtrace there's a Local::borrow for a Task, but the failing one is the second Local::unsafe_borrow for the scheduler
[17:50:33] <acrichto> kimundi: a Local::borrow removes the Task from tls, so when the second one comes around it needs the task to still be in tls
[17:51:02] <acrichto> kimundi: it looks like some logging is happening during failure, and I was having a lot of trouble with that which is why I moved it over to forcibly printing to stdout instead
[17:51:23] <acrichto> kimundi: I was thinking that with this patch the parent would print the message (if necessary), and if there's no parent then you forcibly print to the console (at least for now)
[17:52:18] *** Quits: dcolish (dcolish@1DB472A5.BE69FB10.416A0103.IP) (Ping timeout)
[17:52:21] *** Quits: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net) (Quit: sw17ch)
[17:53:49] *** Quits: eatkinson (eatkinson@moz-9BE2710B.airbears2.berkeley.edu) (Quit: eatkinson)
[17:54:23] <kimundi> acrichto: Hm, failure printing is seperate from the unwinding stuff right now. Did something change with that the last two days?
[17:54:58] <acrichto> kimundi: yesterday I landed a huge patch removing std::io basically, so that fair bit has changed
[17:55:28] <kimundi> ah, did that touch the prior begin_unwind function?
[17:55:37] <acrichto> kimundi: yes
[17:55:37] * kimundi has an idea baout what went wrong
[17:55:51] <CurlyBrace> nevermind, it works now!
[17:55:53] <CurlyBrace> Thanks again
[17:55:58] *** Joins: naudo (naudo@moz-B4663879.ptr.us.xo.net)
[17:56:08] *** Joins: avsej (avsej@D9A610B8.4841F515.FB33447D.IP)
[17:57:03] <sp3d> hey, how would I convert an &'static str into a *u8 when working without the stdlib?
[17:57:25] <acrichto> sp3d: you can use as_imm_buf to get the raw pointer
[17:57:35] <cmr> sp3d: https://github.com/mozilla/rust/blob/master/src/libstd/unstable/raw.rs#L34
[17:57:42] <cmr> sp3d: transmute to that, take the data ptr
[17:57:48] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[17:57:55] <cmr> acrichto: *without* the stdlib
[17:58:04] <sp3d> cast::transmute and as_imm_buf both appear to be in the stdlib according to the errors I'm seeing
[17:58:15] <cmr> sp3d: transmute is an intrinsic. see rust-core
[17:58:26] <sp3d> unstable::intrinsics::transmute should work?
[17:58:30] <strcat> sp3d: https://github.com/thestinger/rust-core mem::transmute and slice::Slice are there
[17:58:33] <cmr> nope, that's in std.
[17:58:39] *** Quits: Sorella (quildreen@2392D500.600E39D3.1ED99692.IP) (Quit: Ex-Chat)
[17:58:40] <Luqman> sp3d: another alternative is: let foo = bytes!("some string"); let x: *u8 = &foo[0];
[17:58:40] <sp3d> oh
[17:59:32] <sp3d> hm
[17:59:32] *** Joins: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net)
[18:01:24] *** Quits: FreeFull (freefull@65BF5007.48118853.1C105F65.IP) (Ping timeout)
[18:01:45] *** Quits: naudo (naudo@moz-B4663879.ptr.us.xo.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[18:02:00] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[18:03:04] *** Joins: dcolish (dcolish@1DB472A5.BE69FB10.416A0103.IP)
[18:03:05] <sp3d> hm, except I need a fail_bounds_check lang_item then
[18:03:12] <strcat> sp3d: just use rust-core
[18:03:34] <sp3d> that would definitely work
[18:03:49] <sp3d> I'm just frustrated that I need an entire runtime-replacement to do pointer arithmetic
[18:04:15] *** Ms2ger` is now known as Ms2ger
[18:04:17] <strcat> the language lets you handle bounds check failures as you wish
[18:04:28] *** Joins: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP)
[18:04:37] <sp3d> right--but I shouldn't even have to be indexing into the str to get the address of its buffer
[18:05:00] <strcat> it should be defined in the compiler at all
[18:05:03] <strcat> shouldn't*
[18:05:19] <sp3d> what shouldn't? bounds-check failure behavior?
[18:05:29] *** Quits: maik (maik@moz-4CC490D4.dip0.t-ipconnect.de) (Ping timeout)
[18:06:20] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[18:06:20] *** ChanServ sets mode: +ao brson brson
[18:06:26] <strcat> sp3d: containers
[18:06:37] <sp3d> mm
[18:06:41] <Luqman> sp3d: oh in the code snippet i gave you it isn't indexing into a string, bytes! just gives you a u8 vector and i just took advantage of the fact you can coerce &x[0] to *x
[18:09:35] <sp3d> I was seeing "error:  requires `fail_bounds_check` lang_item" when doing that
[18:10:03] <Luqman> yes, since you're indexing into a vector
[18:10:33] <Luqman> you can just put something like: `#[lang="fail_bound_check"] fn fail_bounds_check(_: *c_char, _: size_t, _: size_t, _: size_t) {}`
[18:10:36] *** Quits: GeneralMaximus (ankur@5D4FDDCE.241AFF02.D2D1FAF0.IP) (Quit: Computer has gone to sleep.)
[18:11:51] *** Quits: saml (sam@moz-14C16814.cst.lightpath.net) (Quit: Leaving)
[18:12:44] <sp3d> "let tuple = unsafe { &s as *&'static str as *(*u8, uint) }" seems to work
[18:13:13] <sp3d> oh, sorry, my bad--I thought you meant "it doesn't index" rather than "it's an &[u8], not a str"
[18:14:54] *** Joins: Sharp (Sharp@1710C26.8381A41.8725677B.IP)
[18:17:10] *** Joins: eatkinson (eatkinson@19197609.772DB3ED.90B17E8F.IP)
[18:18:50] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[18:20:31] *** Joins: robertknight (robertknig@moz-54528EE0.wby.mendeley.com)
[18:20:54] *** Quits: eatkinson (eatkinson@19197609.772DB3ED.90B17E8F.IP) (Quit: eatkinson)
[18:21:14] *** Quits: robertknight (robertknig@moz-54528EE0.wby.mendeley.com) (Quit: ["Textual IRC Client: www.textualapp.com"])
[18:21:56] *** Quits: heftig (heftig@33E250E2.54B452C9.172227A7.IP) (Quit: Quitting)
[18:27:35] *** Joins: robertknight (robertknig@moz-54528EE0.wby.mendeley.com)
[18:28:41] *** Quits: Axord (xord@moz-1B228827.lsanca.dsl-w.verizon.net) (Quit: I'm sure it's perfectly safe)
[18:36:04] *** Quits: robertknight (robertknig@moz-54528EE0.wby.mendeley.com) (Ping timeout)
[18:39:44] <CurlyBrace> Does using a vector iterator go in order, or randomly?
[18:39:56] <kmc> in order
[18:40:36] <CurlyBrace> gracoas
[18:40:38] <CurlyBrace> gracias*
[18:41:24] *** Quits: hoverbear (andrew@moz-EE86CF77.wireless.uvic.ca) (Quit: hoverbear)
[18:45:01] *** Joins: alisdair (textual@E1CEBB1A.D061F0C9.AA6AEE7B.IP)
[18:45:56] *** Quits: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP) (Ping timeout)
[18:47:14] *** Quits: skade (skade@30BBD5E6.505237C9.CAE22B62.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[18:47:26] *** Quits: alisdair (textual@E1CEBB1A.D061F0C9.AA6AEE7B.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[18:47:50] *** Joins: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP)
[18:48:07] <Sharp> So I have a borrowed pointer within an Option.  I apparently cannot get at the value pointed to by it because I "cannot move out of dereference of & pointer."  How do I get around this?
[18:48:17] <Sharp> (I assume it's some lifetime issue).
[18:48:27] <strcat> it's not a lifetime issue
[18:48:36] <strcat> a borrowed pointer is a non-owning view of a value
[18:48:38] *** Joins: hoverbear (andrew@moz-EE86CF77.wireless.uvic.ca)
[18:48:51] <strcat> do you know about move semantics?
[18:49:12] <Sharp> I don't understand how they're applied.
[18:49:16] *** Quits: Cromulent (Cromulent@moz-C2470BE2.cable.virginm.net) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[18:49:21] <Sharp> I essentially understand the difference between a move and a copy
[18:49:25] *** Joins: sebcrozet (sebcrozet@moz-2517AE39.w80-13.abo.wanadoo.fr)
[18:49:31] <Sharp> But not the precise rules used.
[18:49:47] <strcat> if a type has a destructor, &mut or &fn, it moves ownership
[18:50:06] *** Quits: zslayton (Mibbit@81EB2473.5F4BC84E.66C78B76.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[18:50:14] *** Quits: BizarreCake (BizarreCak@moz-361FE9B2.dynamic.barak-online.net) (Ping timeout)
[18:50:23] <sebcrozet> Hi, is it possible to disable bound checking (and any other runtime checks) globally?
[18:50:23] <strcat> you need to own the source to move from it
[18:50:26] <Sharp> This doesn't have &mut or &fn.  I suppose it might have a destructor but I'm not sure why it would, since it's just a Struct with no mixed in traits.
[18:50:32] <strcat> sebcrozet: no
[18:50:50] <sebcrozet> strcat: :(
[18:50:50] <strcat> sebcrozet: you can audit a specific case of indexing and use unchecked (unsafe) indexing
[18:50:51] *** Quits: sk (sk@33BA8621.70EDD053.57C4AB8D.IP) (Quit: Leaving)
[18:51:00] <strcat> sebcrozet: rust won't ever have a 'disable memory safety globally' switch
[18:51:05] <strcat> it doesn't make sense to do it that way
[18:51:26] *** Quits: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP) (Ping timeout)
[18:51:35] <McPherrin> Well, a "disable all runtime checks" switch isn't the most insane request ever
[18:51:50] <McPherrin> Defining the semantics of that is kinda hard though
[18:51:53] <strcat> if you don't want runtime checks, don't use them?
[18:52:07] <McPherrin> strcat: Doesn't ~[] have runtime checks on length?
[18:52:15] <sebcrozet> strcat: well in some applications (high performance computing) you dont care about those checks, and dont want to use the unsafe_get instead of the nice [] operator…
[18:52:19] <strcat> McPherrin: it's a dynamic array
[18:52:34] <strcat> sebcrozet: [] is defined as safe
[18:52:52] <McPherrin> strcat: I'm saying that one could want it, not that it's a good idea or even well defined request :P
[18:53:02] <strcat> I'm sure in HPC you care about memory safety, and the need to audit cases where you're opting out is there
[18:53:23] <strcat> McPherrin: I don't understand what kind of dynamic checks on ~[T] could be removed
[18:53:41] <strcat> it's a dynamic array, it coerces freely to a slice, and slices offer checked/unchecked indexes
[18:54:01] <sebcrozet> strcat: I know. That is why the capability to disable bounds checking (in order to keep syntactic simplicity) globally could be useful for some applications.
[18:54:16] <McPherrin> strcat: I mean in the [] operator which does it checked
[18:54:20] <sebcrozet> strcat: using unsafe_whatever instead of [] in math code is really ugly.
[18:54:22] <strcat> sebcrozet: if you disable bounds checking, [] needs to become unsafe
[18:54:28] <strcat> so you're still going to need unsafe blocks everywhere
[18:54:51] *** Joins: geoffhill (geoffhill@moz-244CF33A.amazon.com)
[18:54:55] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[18:54:57] *** Joins: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP)
[18:55:16] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[18:55:18] <McPherrin> Losing all the advantages of rust to save a branch or add some extra typing really doesn't seem worth it
[18:55:37] *** Quits: cade (cade@66A6305B.C2D6DAC0.9510F13D.IP) (Ping timeout)
[18:55:44] <McPherrin> If you've got a tight loop or something and your branch predictor is killing you, well, you might have to write some unsafe code
[18:56:28] <strcat> sebcrozet: division is also defined as safe, so there is a check for zero (since that's undefined behaviour) and there should be a check for INT_MIN / -1
[18:56:39] <Sharp> Yeah… I imagine bounds checks are handled pretty well by branch prediction.
[18:57:02] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[18:57:07] *** Quits: stvc (quassel@DDF9BE86.571456BD.9510F13D.IP) (Ping timeout)
[18:57:16] <Sharp> You can only ever index out of bounds once, after all :P
[18:57:22] *** Quits: wting (wting@4F978BD6.5564A9BA.9510F13D.IP) (Ping timeout)
[18:57:46] <strcat> well it depends on whether you're using the runtime or not
[18:57:51] <sebcrozet> ok… I dont see why disabling bound checking is so bad. If this is a compiler option, only people who do not care about safety will use it.
[18:57:51] <McPherrin> Hmm I suppose maybe if you're just barely blowing your icache in a tight loop, then maybe shaving a few instructions could help too
[18:58:12] <strcat> sebcrozet: it doesn't make sense based on how rust handles this stuff
[18:58:19] *** Joins: saml (sam@moz-14C16814.cst.lightpath.net)
[18:58:20] <strcat> it has clear boundaries between safety/unsafety
[18:58:31] <sebcrozet> I have the feeling this will prevent high performance math developper from using Rust instead of C++.
[18:58:33] <strcat> that's the biggest thing the language brings to the table over C++
[18:58:56] <kimundi> And if you start loosing them here and there you just create a dangerous false sense of security, and might just not use rust at all
[18:58:58] <sebcrozet> (or for gamedev)
[18:59:13] <strcat> sebcrozet: if correctness/safety isn't important in math/games, then sure
[18:59:23] *** Joins: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu)
[18:59:25] <kimundi> sebcrozet: There are still ways around it
[18:59:27] <McPherrin> sebcrozet: It's a single branch instruction that *will* be predicted correctly
[18:59:45] <McPherrin> sebcrozet: If that hurts you, it'll only be in very hot loops
[18:59:55] <McPherrin> And then you can optimize if you have to
[18:59:55] *** Joins: cade (cade@66A6305B.C2D6DAC0.9510F13D.IP)
[18:59:58] <kimundi> sebcrozet: Just use unsafe code, or design patterns that reduce the overhead, like Iterators instead of indexing in a tight loop
[19:00:21] <Sharp> Can't Rust also deterministically remove bounds checks in some cases?
[19:00:37] <kimundi> Well, llvm probably can
[19:00:44] <strcat> it probably can but it usually doesn't
[19:00:49] <strcat> LLVM
[19:00:51] <McPherrin> If you had typestate....
[19:00:53] <McPherrin> ;)
[19:00:59] <Sharp> Haha.
[19:01:09] <XMunkki> well as a game dev, I would love it if bounds checks, stack checks and all of those could be switched off by a compile time switch.. I know I could write my whole rust program using unsafes, but I'd rather have a good and long soak test with all the tests on and then switch them off when I'm satisfied I haven't done a mistake..
[19:01:18] *** Quits: amro (quassel@8586EE21.B62DA81E.BF6473A8.IP) (Connection reset by peer)
[19:01:25] <erickt> sebcrozet: you don't hit the bounds check if you're using the vec.iter() iterators
[19:01:31] <strcat> XMunkki: it's fundamentally not what rust is about
[19:01:41] *** Quits: lfox (lfox@moz-F9C0E858.nycmny.east.verizon.net) (Quit: ZZZzzz…)
[19:01:42] <strcat> it is strictly memory safe, and there are clear boundaries between safe/unsafe code
[19:01:56] <XMunkki> and rust still would make sense with its static checking for all other code
[19:02:00] <strcat> you're supposed to be able to audit unsafe blocks
[19:02:13] <Sharp> Aren't there plans to allow disabling of stack checks at the crate level?
[19:02:25] <strcat> there are no plans to disable stack safety
[19:02:46] <strcat> we closed a pull request doing that and agreed using guard pages in cases where performance is important would be best
[19:02:47] <XMunkki> well asides from ideological debates, what's the harm? there are use cases where high perf is nice..
[19:02:47] <Sharp> Maybe I misread cmr's proposal as official policy.
[19:02:54] <strcat> XMunkki: it's not ideological
[19:03:01] <strcat> rust, as a language, defines clear boundaries between safe/unsafe code
[19:03:09] <strcat> that's not going to change
[19:03:10] <erickt> XMunkki: do you often find yourself directly accessing array indices outside of iteration?
[19:03:14] <strcat> there isn't going to be an opt-out
[19:03:19] * kimundi casually throws in that you are still free to hack and disable stuff as you like, just don'T expect official support for it
[19:03:21] <cmr> Sharp: I still plan on doing that, but everything in thre crate becomes unsafe
[19:03:23] *** Joins: nano (nano@moz-74CAD1CA.superkabel.de)
[19:03:40] <XMunkki> erickt: of course not.. that's why the overhead of the checks bothers me.. though I'd want them for development time to be sure I haven't messed up..
[19:03:42] <Sharp> cmr: Well yeah, of course :)
[19:03:43] <strcat> cmr: or just set a guard page or two at the end, and have LLVM verify no stack frame is larger
[19:03:59] <cmr> strcat: not available when you don't have an MMU
[19:03:59] <strcat> XMunkki: so just use C++ and -fsanitize=address
[19:04:08] <erickt> XMunkki: you don't hit the bounds check if you use our .iter()
[19:04:13] <strcat> cmr: places you don't have an MMU aren't going to exist anymore
[19:04:24] <cmr> strcat: my arduino doesn't have an mmu
[19:04:38] <XMunkki> well c++ has a myriad of other problems.. that's why I've been looking for years for alternatives
[19:04:39] <erickt> XMunkki: the vec iterators compile down to the same code as the c++ iterators
[19:04:55] <kimundi> XMunkki: Out Iterators compile to very efficient code, just as if you would have written the tight loop manually in C
[19:04:58] <McPherrin> Do Cortex-M series have MMUs?
[19:05:03] <cmr> McPherrin: yes
[19:05:08] <XMunkki> erickt: that's really nice to know actually.. those iterator patterns might actually satisfy most of of the loops that I'd have..
[19:05:17] <cmr> Wait
[19:05:19] <cmr> No, it doesn't.
[19:05:29] <strcat> McPherrin: I think they have memory protection
[19:05:30] <cmr> m0 doesn't, at least.
[19:05:32] <strcat> but not a full MMU
[19:05:51] <strcat> so you couldn't have cheap COW fork
[19:05:54] <strcat> but you could have guard pages
[19:06:19] <McPherrin> Seagate launched hard drives yesterday with UDP/IP stacks built in
[19:06:30] <strcat> I really doubt there are many systems out there without any memory protection
[19:06:34] <McPherrin> I'm trying to get ahold of one, find out what chip it's running
[19:08:16] <strcat> XMunkki: you're free to write as much code in unsafe blocks as you want, and we'll end up having the same kind of debugging as you get with clang + sanitizers
[19:08:48] <strcat> when so much of rust is designed to clearly define that safe/unsafe boundary.... it just doesn't make sense to be buying into the language but not into that
[19:08:49] <cmr> Now that I think more about it, I don't think there's any difference between zero stack protection and guard pages: there's still no runtime cost, and no ABI implications for calling Rust.
[19:09:07] <cmr> (calling into rust)
[19:09:14] <strcat> cmr: right but we do need LLVM support
[19:09:18] <XMunkki> any idea how the memory protection work in ios phones and androids? is it similar to what you get from the desktops?
[19:09:19] *** Quits: bholley (anonymous@moz-CB983BB6.superkabel.de) (Quit: bholley)
[19:09:22] <cmr> Just need a way to expose the max stack frame size, and the runtime would set it up.
[19:09:23] <strcat> XMunkki: yes
[19:09:28] <McPherrin> XMunkki: Yes, they have bog standard MMUs
[19:09:31] <strcat> XMunkki: android/iOS require a full MMU
[19:09:32] *** Joins: cubic (cubic@moz-80241A3A.mc.videotron.ca)
[19:09:37] <benh> What is the story for 32bit lightweight tasks going to be?
[19:09:41] <benh> "just don't use too many, good luck"?
[19:09:48] <cmr> benh: we don't have them now, we won't have them in the future.
[19:09:53] <strcat> benh: don't host a server on 32-bit? 
[19:09:55] <strcat> ;p
[19:10:14] <McPherrin> strcat: I have to support 32 bit platforms for at least 5 more years :(
[19:10:21] <XMunkki> strcat: yeah well safety actually IS what I'm after.. but at some point I'm willing to "let go" and believe my code is safe enough and I'd rather have a bit more perf.. but as said by others, if the perf can be isolated neatly into unsafe blocks (like iterators), then I'l cool with that
[19:10:24] <jvns> I'm getting the type error "expected `~[&'static str]` but found `~[&'static str, .. 3]` " -- how do I make the '3' go away? =) *not understanding vector types at all*
[19:10:27] <cmr> McPherrin: but do you plan on spwaning hundreds of thousands to millions of tasks on them?
[19:10:29] <strcat> McPherrin: and do you need to spawn 100k tasks on it?
[19:10:38] <McPherrin> strcat: Maybe!
[19:10:46] <XMunkki> and nice about ios/android.. as I'd want to target those with rust some day, some year :)
[19:10:53] <strcat> XMunkki: well, that's the idea, writing safe primitives with unsafe blocks and building on them
[19:10:55] *** Quits: CurlyBrace (Mibbit@moz-21083258.hsd1.va.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[19:11:00] <strcat> and carefully auditing all of them
[19:11:41] <XMunkki> but in all honesty, I really need to first write code that I can look at and go "this would've been considerably faster without bounds/stack checking" before even starting to discuss/lobby for those seriously.. :)
[19:11:44] *** Quits: cade (cade@66A6305B.C2D6DAC0.9510F13D.IP) (Ping timeout)
[19:12:01] <strcat> XMunkki: well, you first need to actually be indexing and not just doing forward/reverse looping
[19:12:08] <strcat> because otherwise iterators are enough
[19:12:15] <jvns> ah ha! "Expressions producing vectors of definite size cannot be evaluated in a context expecting a vector of indefinite size"
[19:12:22] <strcat> and you need to do doing it in a way where LLVM can't hoist out the bounds check
[19:12:59] <XMunkki> strcat: indeed.. and I guess research about bounds checking is progressing continously (on all fronts), so there may be some small help from there as well
[19:13:30] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[19:13:36] <strcat> XMunkki: I think it will be rare that it will actually remove the checks
[19:13:42] <McPherrin> If you're randomly indexing into things, the cache penalty is likely to be higher than the bounds check by two or three orders of magnitude.
[19:13:42] *** Joins: stvc (quassel@DDF9BE86.571456BD.9510F13D.IP)
[19:13:46] <strcat> hoisting them out of the loop is pretty easy most of them time
[19:14:31] <strcat> XMunkki: there is bleeding edge vectorization and bounds check removal code written as LLVM passes, but they aren't upstream :)
[19:14:42] *** Joins: clayton (Mibbit@moz-CF186609.nintendo.com)
[19:14:44] <McPherrin> Worrying about cache performance is a way bigger deal than avoiding well predicted branches for performance
[19:14:45] <strcat> they need to be very solid to get upstream, and proven to be worth the compile-time cost
[19:14:45] *** Quits: dg (dg@moz-AF6F3E94.com) (Ping timeout)
[19:14:47] *** Joins: dg (dg@moz-AF6F3E94.com)
[19:14:59] *** Quits: km (quassel@moz-777F24DE.kevinmehall.com) (Ping timeout)
[19:15:04] <strcat> for example, http://polly.llvm.org/
[19:15:15] <XMunkki> mcpherrin: the bounds checks add to the cache penalty, though.. (unless you keep indexing the same array, but I guess the real "penalty" comes from complex code that jumps all around in the first place)
[19:15:17] <strcat> (I guess you might consider that upstream, but it's not part of LLVM by default)
[19:15:40] <XMunkki> oh hadn't seen polly before.. cheers for the linky
[19:16:35] <strcat> XMunkki: LLVM does have loop/slp vectorizers (loop at -O2 and above, slp at -O3), but they're simple/robust and run fast
[19:16:47] <strcat> it really, really sucks at removing bounds checks
[19:16:49] <strcat> ;p
[19:16:52] <strcat> hoisting it can do...
[19:17:15] *** Joins: tjc (tjc@moz-BBE3ABD.mv.mozilla.com)
[19:17:15] *** ChanServ sets mode: +o tjc
[19:17:56] *** Quits: Sharp (Sharp@1710C26.8381A41.8725677B.IP) (Quit: Sharp)
[19:18:01] *** Joins: wting (wting@4F978BD6.5564A9BA.9510F13D.IP)
[19:18:17] <clayton> Is this the correct place to get help building rust? I'm trying to follow the getting started tutorial, but having some trouble with it.
[19:18:52] <strcat> clayton: yes, it's the right place :)
[19:18:52] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[19:19:23] *** Quits: stvc (quassel@DDF9BE86.571456BD.9510F13D.IP) (Ping timeout)
[19:19:53] *** Quits: wting (wting@4F978BD6.5564A9BA.9510F13D.IP) (Ping timeout)
[19:19:59] *** Quits: hoverbear (andrew@moz-EE86CF77.wireless.uvic.ca) (Quit: hoverbear)
[19:20:34] *** Quits: dg (dg@moz-AF6F3E94.com) (Ping timeout)
[19:20:36] *** Joins: zslayton (Mibbit@81EB2473.5F4BC84E.66C78B76.IP)
[19:21:02] <clayton> great :) So I grabbed the 0.8 tarball, but when I get to running make, I'm getting an Exception "bad hash on download" in rust-0.8/src/etc/get-snapshot.py, line 89
[19:21:42] *** Quits: andre_ (andre@CA528A4A.45A4338E.8EE27E6.IP) (Quit: leaving)
[19:22:03] <clayton> (I have run configure)
[19:22:06] *** Quits: tjc (tjc@moz-BBE3ABD.mv.mozilla.com) (Quit: Places to go, people to annoy)
[19:22:09] *** Joins: tjc (tjc@moz-BBE3ABD.mv.mozilla.com)
[19:22:10] *** ChanServ sets mode: +o tjc
[19:22:27] *** Joins: dg (dg@moz-AF6F3E94.com)
[19:22:56] *** Joins: cade (cade@66A6305B.C2D6DAC0.9510F13D.IP)
[19:24:05] *** Joins: km (quassel@moz-777F24DE.kevinmehall.com)
[19:24:10] *** Joins: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca)
[19:24:17] *** Joins: wting (wting@4F978BD6.5564A9BA.9510F13D.IP)
[19:24:28] *** Joins: stvc (quassel@DDF9BE86.571456BD.9510F13D.IP)
[19:24:41] *** Joins: eatkinson (eatkinson@moz-261EDE03.hsd1.ca.comcast.net)
[19:25:35] <clayton> it looks like it's trying to fetch x86_64-unknown-linux-gnu/stage0/bin/rustc, which I gather is used to build the next stage of the compiler
[19:26:09] <clayton> I'm not sure if "unknown" is correct... I'm on ubuntu precise
[19:26:16] <benh> It's correct
[19:26:44] *** Quits: Jackneill (Jackneill@moz-FCB132DA.pool.digikabel.hu) (Input/output error)
[19:26:55] *** Joins: hoverbear (andrew@moz-EE86CF77.wireless.uvic.ca)
[19:26:56] <benh> I just tried following the steps in the tutorial and it verified the hash successfully
[19:27:06] <benh> :/
[19:27:21] <benh> the snapshot being rust-stage0-2013-09-23-348d844-linux-x86_64-47906010eb676cbf9e0caa0773d9ef2dce89e9f8.tar.bz2
[19:27:30] <clayton> darn. I'm behind some obnoxious network/proxy stuff.
[19:27:36] <clayton> yup, same file
[19:27:52] <clayton> Can I download that file via a browser to short-circuit that step?
[19:27:55] *** victorporof is now known as victorporof|away
[19:27:59] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Client exited)
[19:28:12] <benh> should be possibly, it'd just call curl, hm
[19:29:09] <benh> looks like it's from http://static.rust-lang.org/stage0-snapshots/rust-stage0-2013-09-23-348d844-linux-x86_64-47906010eb676cbf9e0caa0773d9ef2dce89e9f8.tar.bz2
[19:29:39] <benh> (and goes into the dl/ subdirectory of where you called configure)
[19:31:18] <clayton> well, the sha1 matches the filename if I download it with a browser, so here goes, I guess
[19:36:20] <TeXitoi> hi
[19:36:32] *** Joins: lfox (lfox@moz-F9C0E858.nycmny.east.verizon.net)
[19:38:28] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[19:38:34] <TeXitoi> http://texitoi.eu/~texitoi/k-nucleotide/k-nucleotide.my.rs : I can't understand why the par1 version have so much overhead comparing to the sequencial version (2.3 cpu seconds VS 1.8)
[19:39:32] <TeXitoi> If someone has an idea...
[19:41:30] <TeXitoi> any comment on the code itself is also welcome, I'm a rust beginner ;)
[19:42:00] *** Joins: heftig (heftig@moz-22DF79F3.dip0.t-ipconnect.de)
[19:42:22] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[19:42:30] *** Quits: cade (cade@66A6305B.C2D6DAC0.9510F13D.IP) (Ping timeout)
[19:42:42] *** Quits: dg (dg@moz-AF6F3E94.com) (Ping timeout)
[19:42:42] *** Quits: stvc (quassel@DDF9BE86.571456BD.9510F13D.IP) (Ping timeout)
[19:42:43] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[19:42:45] *** Quits: km (quassel@moz-777F24DE.kevinmehall.com) (Ping timeout)
[19:43:15] *** Joins: infynyxx_ (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[19:43:15] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Connection reset by peer)
[19:43:21] *** Quits: wting (wting@4F978BD6.5564A9BA.9510F13D.IP) (Ping timeout)
[19:43:21] *** Joins: dg (dg@moz-AF6F3E94.com)
[19:43:22] *** Joins: stvc (quassel@DDF9BE86.571456BD.9510F13D.IP)
[19:43:39] *** Joins: km (quassel@moz-777F24DE.kevinmehall.com)
[19:44:58] *** Quits: vodik (simon@moz-2AB8ABC6.dsl.bell.ca) (Quit: WeeChat 0.4.3-dev)
[19:45:26] *** Quits: StarLight (StarLight@moz-9EB0C86E.dynamic.avangarddsl.ru) (Ping timeout)
[19:47:02] <kimundi> TeXitoi: Well, spawning a task has overhead, could that be the culprit?
[19:47:38] *** Quits: bytbox (s@moz-54E13927.washdc.fios.verizon.net) (Ping timeout)
[19:47:49] *** Joins: cade (cade@66A6305B.C2D6DAC0.9510F13D.IP)
[19:47:54] *** Joins: wting (wting@4F978BD6.5564A9BA.9510F13D.IP)
[19:48:03] *** Quits: dg (dg@moz-AF6F3E94.com) (Ping timeout)
[19:48:11] *** Joins: dg (dg@moz-AF6F3E94.com)
[19:48:49] <TeXitoi> I only spawn 7 tasks
[19:48:59] <TeXitoi> (in the par1 version)
[19:49:24] *** Joins: bytbox (s@moz-54E13927.washdc.fios.verizon.net)
[19:49:41] *** Joins: StarLight (StarLight@moz-36BD674D.dynamic.avangarddsl.ru)
[19:50:21] *** Quits: jvns (quassel@87D98E32.4046EB22.428F94DD.IP) (Ping timeout)
[19:51:14] <TeXitoi> It seems a lot of overhead for 7 tasks
[19:52:56] *** Joins: zws3mb (Mibbit@4869ECF8.9B1DA26B.DDE5D3F6.IP)
[19:53:00] *** Quits: eatkinson (eatkinson@moz-261EDE03.hsd1.ca.comcast.net) (Quit: eatkinson)
[19:53:04] <zws3mb> Does copy still exist in 0.8?
[19:54:00] <strcat> no
[19:55:33] *** Joins: robertknight (robertknig@moz-1FB7516D.range81-157.btcentralplus.com)
[19:56:24] *** ozten is now known as ozten|afk
[19:56:57] *** Quits: robertknight (robertknig@moz-1FB7516D.range81-157.btcentralplus.com) (Client exited)
[19:57:19] *** Joins: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com)
[19:58:36] *** Joins: robertknight (robertknig@moz-1FB7516D.range81-157.btcentralplus.com)
[19:59:13] *** Quits: zslayton (Mibbit@81EB2473.5F4BC84E.66C78B76.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[20:03:29] *** Quits: lfox (lfox@moz-F9C0E858.nycmny.east.verizon.net) (Quit: ZZZzzz…)
[20:03:32] *** Joins: squiddy (squiddy@moz-90823E24.adsl.alicedsl.de)
[20:04:51] *** Joins: q66_ (q66@6EE9DE40.46454B5D.33AABD5F.IP)
[20:05:54] *** Quits: q66 (q66@6EE9DE40.46454B5D.33AABD5F.IP) (Ping timeout)
[20:06:53] *** Joins: reedlepee (Mibbit@9B9315E1.A6025CA.1C37C358.IP)
[20:07:32] *** Ms2ger is now known as odd
[20:07:36] *** odd is now known as Ms2ger
[20:08:10] *** Joins: eatkinson (eatkinson@moz-1047CAB3.airbears2.berkeley.edu)
[20:08:59] *** Joins: bholley (anonymous@moz-CB983BB6.superkabel.de)
[20:13:31] <zws3mb> error: internal compiler error: drop_ty_immediate: non-box ty 
[20:13:43] <zws3mb> anyone know what's going on?
[20:13:59] *** Quits: benh (ben@moz-4A0366D2.org) (Ping timeout)
[20:15:07] <eddyb9> zws3mb: what are you doing with Drop?
[20:15:52] <eddyb9> (unless rustc is doing something wrong with Drop, or "drop" in there is unrelated)
[20:16:03] <zws3mb> nothing, directly, at least. working on making a simple web server
[20:16:12] <zws3mb> (unrelated, I think)
[20:16:14] <tjc> zws3mb: So you haven't made any changes to the compiler?
[20:16:20] <tjc> if you haven't, then that's a rustc bug :-)
[20:16:21] <zws3mb> absolutely not
[20:16:24] <tjc> but are you using 0.8?
[20:16:26] <zws3mb> yes
[20:16:29] <tjc> Ah ok
[20:16:38] <tjc> Well, it might or might not happen too with a more recent git version, but...
[20:16:44] <tjc> if you can post a small test case, filing an issue would help
[20:17:21] *** Joins: benh (ben@moz-4A0366D2.org)
[20:17:48] <zws3mb> Clearly have no idea what precisely is producing it, but for a bit of context we're working on a webserver and I just tried stream.take(), stream being a TCPStream
[20:18:09] <tjc> For posting an issue, what helps is if you can make a version of your code that's as small as possible, but still results in the same error
[20:18:20] <tjc> If you can't minimize it, posting the code still helps, if you're willing to
[20:18:23] <zws3mb> <--(one of Evans' students)
[20:18:27] <tjc> Ah ok :-)
[20:18:50] <hoverbear> I wish my classes taught in Rust. Ugh.
[20:19:31] <tjc> hoverbear: as far as I know, there's only one university in the world where you can take a class taught in Rust :-)
[20:19:42] *** Joins: earlz2 (earlz@3BA8656D.F04AFED0.49B48A1E.IP)
[20:19:50] <hoverbear> tjc: I know right?
[20:20:05] <tjc> we didn't encourage it terribly hard, either...
[20:20:08] <earlz2> So, is `@` now #feature gated? 
[20:20:14] <hoverbear> It's sadly a US university, so it's worthless to me. :-P
[20:20:15] <tjc> we were afraid that Rust would be too immature and the students would get too frustrated :-)
[20:20:19] <tjc> earlz2: Yes, in git HEAD, anyway
[20:20:23] <hoverbear> tjc: I heard that's exactly what's happening.
[20:20:34] *** Quits: hoverbear (andrew@moz-EE86CF77.wireless.uvic.ca) (Quit: hoverbear)
[20:20:41] <eddyb9> rust is one of those projects where "unstable" is more useful than "stable", because bugs get fixed and syntax/semantics change more often than breakage (which I haven't seen yet)
[20:20:45] <tjc> hoverbear: I'm not sure… judging from the questions the students ask here, though, which are of high quality, the students are able to make some headway!
[20:20:59] <tjc> without being in the class myself, it's hard for me to say whether they're experiencing more learning than frustration :-)
[20:21:04] *** Quits: dherman (dherman@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: dherman)
[20:21:08] <tjc> (Of course, "more frustration than learning" could also apply to, say, a C++ class ;-)
[20:21:14] <eddyb9> Rust is awesome as a starting language
[20:21:22] <strcat> as a language, sure
[20:21:25] <strcat> the language is pretty solid
[20:21:28] <eddyb9> no teaching unsafe crap
[20:21:30] <earlz2> I assume that's so that @ isn't used by people new to the language then right? 
[20:21:31] <strcat> but most of what you deal with is the stdlib/runtime
[20:21:34] <tjc> honestly I'm not sure I would want to teach Rust as a first programming language, even in another year when the implementation is more stable
[20:21:41] <tjc> for some of the same reasons I wouldn't want to teach C as a first language
[20:21:42] <strcat> earlz2: no
[20:21:49] <tjc> control over resources is hard, and I think there are other programming ideas to teach first
[20:21:57] <strcat> feature gating is for features that may be removed, and that we aren't going to commit to a stable interface for
[20:22:04] <strcat> @ is likely going to become Gc<T>
[20:22:15] <strcat> and since we don't actually have a garbage collector.... it seemed like a good idea to just cordon it off
[20:22:16] <Ms2ger> tjc, you'd start with a GC-only language?
[20:22:18] <tjc> earlz2: Yeah, what strcat said -- it's a different thing from, say, "language levels" like Racket has
[20:22:19] <earlz2> That's what I was meaning, it won't have special syntax though
[20:22:24] <tjc> Ms2ger: Personally, I would start with one, yeah
[20:22:56] <Ms2ger> tjc, not everyone would agree with that ;)
[20:23:01] <Ms2ger> tjc, (not sure myself)
[20:23:02] *** Quits: snadon (chatzilla@moz-3BC727E8.mc.videotron.ca) (Quit: ChatZilla 0.9.90.1 [Firefox 25.0/20131022211721])
[20:23:16] <tjc> Ms2ger: Oh, I know :-) But, to me, manual memory management is an optimization, and I would rather teach correctness before performance
[20:23:41] <eddyb9> ES6/ES7 can be nice, but I've seen a lot of hate for JS, and native implementations are less mature than Rust
[20:24:02] <benh> I think I'd want to start with something as maintream as possible, like C# or Javascript something, just so people who run into trouble have the best chances of finding help *somewhere*
[20:24:06] <tjc> Yeah, I wouldn't teach JS as a first language either. It's not what JS was designed for.
[20:24:32] <Ms2ger> I was thought pascal first, then JS
[20:24:33] <eddyb9> tjc: Rc<T> *everywhere*
[20:24:41] <eddyb9> Ms2ger: eww, pascal
[20:24:45] <tjc> I would probably start with Racket (again, if I had a choice, which would be unlikely.) But I'm that kind of person.
[20:24:53] <Ms2ger> Well, "JS"... We never even saw "var"
[20:24:57] <tjc> Ms2ger: I was taught Pascal first, too! Scheme after that.
[20:24:59] <strcat> well that's the idea, if I force everyone to use Rc someone will have to implement the deref operator for me out of frustration
[20:25:00] <eddyb9> and taught JS can be pretty bad
[20:25:08] <tjc> eddyb9: Rc<T> everywhere would be a great way to make students hate programming :-)
[20:25:30] <eddyb9> tjc: which is more incentive to fix it :P
[20:25:36] <TeXitoi> tjc: I've done courses on js as a first language, and that's a REALLY BAD idea ;)
[20:25:48] <strcat> eddyb9: it won't ever be implicitly copyable like Gc<T> would, though
[20:26:01] <tjc> TeXitoi: I think JS as a first language is actually fairly common at schools with a "CS for non-majors" course
[20:26:08] <tjc> personally, I think that's a great way to make sure they stay non-majors ;-)
[20:26:22] <zws3mb> The class is entirely 3rd/4th years generally starting in Java, then C++...a huge chunk of people are still quite frustrated with Rust...
[20:26:46] <Ms2ger> tjc, heh, they use python for that here
[20:26:56] <tjc> zws3mb: Not to put you on the spot, but where do you stand on the frustration/learning continuum with it? :-)
[20:27:02] <tjc> Ms2ger: python sounds like it would be somewhat better
[20:27:29] * strcat learned C++ for aichallenge when python resulted in timing out or not being able to go deep enough into move prediction trees (not exactly minimax)
[20:28:02] <Ms2ger> I learned C++ while hacking on Gecko
[20:28:06] <eddyb9> tjc: sadly, it's going to be a while before ES6 gets used by more than enthusiasts fiddling with traceur-compiler. oh, and people teaching it right? add a few more years :(
[20:28:08] <Ms2ger> (Would not exactly encourage)
[20:28:17] *** Joins: maik (maik@moz-10F9C3B5.dip0.t-ipconnect.de)
[20:28:20] <Luqman> Ms2ger: that seems like jumping off the deep end :P
[20:28:20] <TeXitoi> strcat: the tron one ?
[20:28:26] <zws3mb> I feel like I'm starting to understand/enjoy Rust...but I'm not going to say I'm an expert or anything. Frustration has dipped significantly ever since we went over pointers
[20:28:26] <strcat> ants
[20:28:30] <Ms2ger> Luqman, that would seem correct :)
[20:28:51] <tjc> eddyb9: Yup, something to do with that whole problem of having millions of people using the old version and not particularly excited to upgrade :-)
[20:29:03] <tjc> zws3mb: that's good to hear
[20:29:19] *** Joins: lfox (lfox@moz-1D59E114.nycmny.fios.verizon.net)
[20:29:28] <tjc> I think there's a certain percentage of students who will always dwell on the syntax of the language they're using when perhaps their difficulties might actually be with higher-level concepts
[20:29:40] <tjc> when I was taking a class that used Scheme, lots of my fellow students would complain about all the parens
[20:29:57] <TeXitoi> I learned Haskell at the tron aichallenge ;)
[20:30:12] <cmr> I'm no expert, but I think a language used for teaching programming needs to have absolute conceptual purity.
[20:30:34] <tjc> cmr: Do you mean purity in the referential-transparency sense, or just purity as in clean design?
[20:30:38] <cmr> tjc: clean design
[20:30:43] <tjc> Yeah
[20:30:47] <cmr> No weird corner cases, fairly simple semantics.
[20:30:51] <cmr> Scheme is the best I've seen so far.
[20:30:52] <tjc> well, it's hard to find a real language that has that, but I think Racket probably comes closest
[20:30:53] <tjc> right
[20:31:03] <eddyb9> tjc: at some points, I was like "fuck IE and watch their userbase die out" (I think Google kinda manged to steal that market share). same concept might apply here
[20:31:19] <Luqman> tjc: though at first the teaching languages feel a bit restricting
[20:31:33] <tjc> eddyb9: Unfortunately, so many people are still using IE that as much as some people might like to, we can't just leave them behind :-(
[20:32:03] <Ms2ger> cmr, how about python?
[20:32:03] <tjc> Luqman: Yeah, it's a delicate trade-off… protecting you from confusing error messages vs. limiting you if you're one of the people who wants to go faster than the average person in the class
[20:32:19] <eddyb9> tjc: "you're using an outdated browser" etc. - it actually works
[20:32:23] <cmr> Ms2ger: No, definitely no. And Python is my home language, the language I get paid to teach and the one I learned first.
[20:32:53] <tjc> eddyb9: Ha, well, we also don't want to tell people "you're using an outdated browser" when they're just using the current version of a browser we might not like
[20:33:00] *** Joins: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP)
[20:33:02] <tjc> even if Google does that (if all your friends jumped off a cliff, etc. etc.)
[20:33:07] <sp3d> I'd agree Scheme is really good for teaching--there's hardly any surprises in the semantics
[20:33:36] <cmr> sp3d: the errors you get when you mess up are awful though
[20:33:38] <sp3d> if students know how the machine works, C is also a good language to start with imo
[20:33:38] <cmr> (at least with racket)
[20:33:39] <sp3d> mm
[20:33:59] <sp3d> I'm more familiar with guile
[20:34:02] <eddyb9> C is useless for anything practical
[20:34:13] <eddyb9> safety and nice code go right down the drain
[20:34:13] <cmr> I'd argue that C is more harmful than useful, and that a better, more consistent, less UB etc is more useful for teaching.
[20:34:38] <cmr> Basically "C with less janky semantics"
[20:34:50] <sp3d> Rust would be better, were it finished
[20:34:53] <SiegeLord> Err... that's quite a provocative statement :P
[20:35:04] <Luqman> wow rust front end to gcc
[20:35:04] *** Quits: bytbox (s@moz-54E13927.washdc.fios.verizon.net) (Quit: Lost terminal)
[20:35:05] <SiegeLord> C is used quite often, for many practical things
[20:35:14] *** Joins: robertkn_ (robertknig@moz-54528EE0.wby.mendeley.com)
[20:35:39] <sp3d> but teaching C first encourages an understanding of the memory and execution model beyond just a syntactic understanding of computation
[20:35:59] <tjc> eddyb9: I think "useless" is a bit of a strong statement. As I type this, I'm running an OS written in C (or a dialect thereof), my words are getting turned into packets transmitted by routers that are implemented in C...
[20:36:31] <tjc> I'm the first to admit C has problems, but most languages in wide use are useful *and* have problems, possibly big ones
[20:36:36] <SiegeLord> A good bit of programming relies on running software on real hardware
[20:36:55] *** Quits: robertkn_ (robertknig@moz-54528EE0.wby.mendeley.com) (Ping timeout)
[20:37:07] <SiegeLord> You can't keep running from hardware forever
[20:37:16] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[20:38:15] <eddyb9> tjc: people also wrote large projects in asm
[20:38:40] <tjc> eddyb9: True, but as far as I know, in the past 20 years or so, no large projects have been written in ASM except those that really need to be (device drivers, etc.)
[20:38:49] <strcat> tjc: rollercoaster tycoon!
[20:39:02] <tjc> and anyway, asm is useful, nothing we're doing would be possible without it :-)
[20:39:09] <eddyb9> tjc: yes, they've moved to C. does that mean it's actually practical?
[20:39:10] <strcat> https://en.wikipedia.org/wiki/RollerCoaster_Tycoon#Development ;p
[20:39:14] <tjc> As a target language, I mean. Generally not as a front-end language
[20:39:22] *** ozten|afk is now known as ozten
[20:39:30] <tjc> strcat: Heh, I didn't know that
[20:39:32] *** Quits: maik (maik@moz-10F9C3B5.dip0.t-ipconnect.de) (Ping timeout)
[20:40:05] <strcat> wait what
[20:40:14] <strcat> they are making... a live action rollercoaster tycoon movie?
[20:40:20] <sfackler> eddyb9: It's practical enough to have been the dominant programming language for the last 20 or 30 years
[20:40:46] <SiegeLord> If your definition of practical excludes C, I don't think it's a good definition :P
[20:40:52] <eddyb9> C++ in the right hands can help with clean code and efficient abstractions, but it's still not safe
[20:41:03] *** Quits: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu) (Ping timeout)
[20:41:06] <eddyb9> (that's where Rust comes in)
[20:41:33] *** Quits: Ms2ger (Ms2ger@moz-F75FD788.adsl-dyn.isp.belgacom.be) (Quit: nn)
[20:41:38] <eddyb9> sfackler: and IE dominated the market, so?
[20:41:58] <eddyb9> C was the best tool for the job back then
[20:42:37] <sfackler> it still is the best tool for many jobs today
[20:43:01] <sam113101> rust will be the next best tool for the job, right?
[20:43:16] <tjc> strcat: Movies based on video games? What's the world coming to? ;-)
[20:43:18] <AlexMax> i find C++ infurating, especailly when you're limited to C++98
[20:43:19] <eddyb9> rust is already better than C in many ways
[20:43:23] <tjc> sam113101: if we do our jobs well, then yes
[20:43:24] <AlexMax> and no boost
[20:43:41] <cmr> tjc: I very much enjoyed the final fantasy movies.
[20:43:41] <eddyb9> tjc, strcat: NFS movie, btw
[20:43:57] <tjc> cmr: I never played the games, so I figured I wouldn't have gotten much out of the movies
[20:44:00] <eddyb9> final fantasy has a storyline
[20:44:04] <strcat> eddyb9: yeah but at least that's not going to have a metal claw picking people up and drowning them in a pool
[20:44:06] <tjc> just saying there's certainly precedent for video-game movies :-)
[20:44:14] <strcat> or maybe I just played rollercoaster tycoon wrong?
[20:44:21] <eddyb9> haha
[20:44:37] <zws3mb> what!? Rollercoaster Tycoon was written in Assembly!?!?!
[20:45:33] <tjc> zws3mb: Apparently the original version was (according to Wikipedia), in the late '90s
[20:45:40] <eddyb9> zws3mb: some time in the future, we'll be surprised that we ever wrote anything in C
[20:46:00] * tjc won't be surprised, because he remembers why it happened
[20:46:05] <tjc> but maybe my grandchildren will be surprised ;-)
[20:46:46] <eddyb9> for me, that's in the past, because I like new things :P
[20:46:50] <sam113101> will rust ever have CTFE?
[20:46:57] <tjc> sam113101: Not for 1.0, anyway
[20:47:00] <tjc> possibly afterward
[20:47:01] <eddyb9> I've actually learned C++ in a kernel
[20:47:04] <strcat> it kind of makes sense, it's a simulation game so the entire game is basically an inner loop
[20:47:14] <strcat> and I bet optimizing compilers weren't very good then ;p
[20:47:14] <sam113101> b-because that's something I like about D
[20:47:25] <tjc> strcat: in the late '90s? compilers could optimize code then =P
[20:47:35] <tjc> there were certainly plenty of people who didn't believe in their compilers
[20:48:06] <strcat> tjc: s/very good/nearly as good/
[20:48:08] <eddyb9> oh the pretty driver code, so nice compared to unreadable linux spaghetti mess
[20:48:47] <sam113101> is linux an unreadable spaghetti mess?
[20:48:54] <eddyb9> tjc: if a PR for CTFE showed up, would "not for 1.0" matter?
[20:48:59] <strcat> tjc: gcc didn't do inlining properly in 2006 ;p
[20:49:02] <eddyb9> sam113101: I dare you
[20:49:25] <tjc> eddyb9: if somebody had a great, well-documented implementation with test cases, that didn't interact badly with other features, then personally I would want to integrate it...
[20:49:29] <tjc> can't speak for the whole team, though
[20:49:29] <sam113101> guys, what about creating a unix-like OS written entirely in rust?
[20:49:32] <eddyb9> sam113101: try and read some driver code and tell me what it does
[20:49:39] <eddyb9> sam113101: #rust-osdev
[20:49:50] <tjc> strcat: Heh, I didn't know that
[20:49:59] <tjc> inlining is a black art even now, though :-)
[20:50:02] <cmr> sam113101: Unix-likes are a tired concept.
[20:50:05] <sam113101> I'm not even familiar with anything system programming related
[20:50:05] <eddyb9> don't do unix for anything other than binary compat with linux/osx, pls
[20:50:14] <sam113101> cmr: what about plan9-like?
[20:50:24] <eddyb9> sam113101: *old*
[20:50:24] <benh> binary compat with nvidia.ko :))
[20:50:26] <cmr> sam113101: plan9 is Unix extrapolated.
[20:50:35] <strcat> linux is pretty close to plan9-like
[20:50:44] <eddyb9> benh: that one you automatically reverse engineer
[20:50:51] <eddyb9> I have the thing for that
[20:50:59] <eddyb9> just need free time :(
[20:51:02] <strcat> namespaces (especially mount namespaces), cgroups, /proc, /sys
[20:51:29] *** Joins: ahal_ (ahal@moz-94F07FF4.cable.teksavvy.com)
[20:51:32] <strcat> it even has 9p support ;p
[20:51:33] <cmr> I'm actually quite inspired by multics.
[20:51:35] *** Quits: ahal_ (ahal@moz-94F07FF4.cable.teksavvy.com) (Connection reset by peer)
[20:51:47] *** Joins: ancelin (ancelin@moz-C4C968AA.members.linode.com)
[20:51:49] <tjc> http://multicians.org/
[20:51:59] <tjc> Multics certainly seems to have a lasting crowd of admirers, anyway
[20:52:01] <cmr> hah
[20:52:02] <tjc> that counts for something
[20:52:05] <eddyb9> pedigree has a posix subsystem, linux syscalls on top of that wouldn't be *that* hard
[20:52:11] <cmr> I didn't know about that
[20:52:21] <tjc> Also: http://multicians.org/ring-zero-and-the-null-pointers.html
[20:52:41] <cmr> I wish I still had my notes from the OS class I sat in on during CMU's open house.
[20:53:08] <eddyb9> and then you could take bash-x86-linux-arch or bash-x86_64-linux-suse and use it
[20:53:19] <sfackler> cmr: best class at CMU imo
[20:53:55] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Client exited)
[20:54:05] *** Joins: Sorella (quildreen@9D963F5D.DF5D8AE7.54BCAB54.IP)
[20:54:09] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[20:54:13] <eddyb9> I wasn't in highschool, even, when I started OSdeving... what's that "theory" mean?
[20:55:27] *** Joins: edorian (Mibbit@moz-C60F0337.dynamic.qsc.de)
[20:56:33] <sfackler> multics is pretty great though
[20:56:56] *** Quits: Kruppe (user@moz-253119B0.esg.uwaterloo.ca) (Ping timeout)
[20:57:16] *** Quits: eatkinson (eatkinson@moz-1047CAB3.airbears2.berkeley.edu) (Quit: eatkinson)
[20:57:36] * tjc didn't have a computer until he was high-school-aged
[20:57:45] <tjc> I *wish* I could have started developing anything before then
[20:57:51] <tjc> Well, sometimes I do, anyway.
[20:57:54] *** Joins: eatkinson (eatkinson@moz-1047CAB3.airbears2.berkeley.edu)
[20:57:54] <sam113101> what's great about multics?
[20:58:14] <sam113101> I thought unix was made to "fix" some design flaws of multics
[20:58:20] *** Quits: robertknight (robertknig@moz-1FB7516D.range81-157.btcentralplus.com) (Ping timeout)
[20:58:31] * pcmattman did osdev before studying ostheory, highly recommend theory first with hindsight :P
[20:58:33] <tjc> sam113101: It was made to fix flaws of Multics, but...
[20:58:35] <eddyb9> tjc: I'm probably the youngest one here
[20:58:39] *** Quits: infynyxx_ (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[20:58:42] <tjc> sam113101: Multics people think it introduced more flaws :-)
[20:58:53] <tjc> sam113101: http://web.mit.edu/~simsong/www/ugh.pdf if you want to know about it :-)
[20:59:00] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[20:59:03] <tjc> that's a link to the full-text of the Unix-Haters' Handbook
[20:59:09] <tjc> recommended bedtime reading :-)
[20:59:23] *** Quits: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com) (Quit: .)
[21:00:15] <thewonderidiot> heh
[21:00:15] <eddyb9> I'm already in bed :P
[21:00:25] <kmc> istr there is syntax for declaring a function parameter 'mut', so I can mutate that local variable within the function
[21:00:33] <kmc> but I can't remember the right syntax
[21:00:40] <cmr> fn foo(mut a: int)
[21:00:44] <Luqman> kmc: fn foo(mut x: int) { ... }
[21:00:44] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[21:00:49] *** Joins: pcwalton (pcwalton@moz-BBE3ABD.mv.mozilla.com)
[21:00:49] *** ChanServ sets mode: +ao pcwalton pcwalton
[21:01:26] <eddyb9> I like let mut foo = foo;
[21:01:34] *** Joins: montezuma (Mibbit@moz-FBB1E8FB.cs.binghamton.edu)
[21:01:42] <eddyb9> because you can limit the scope of the mutability
[21:01:42] <montezuma> does anyone know the history of name 'rust' ?
[21:01:54] <zws3mb> Evans has brainwashed us all in to worshipping MULTICS. Or tried at least.
[21:01:56] *** Quits: pcwalton (pcwalton@moz-BBE3ABD.mv.mozilla.com) (Quit: pcwalton)
[21:02:04] <eddyb9> (and if it's immediate, you leave the original intact)
[21:02:07] *** Joins: pcwalton (pcwalton@moz-BBE3ABD.mv.mozilla.com)
[21:02:07] *** ChanServ sets mode: +ao pcwalton pcwalton
[21:02:14] <kmc> Luqman: thanks
[21:02:17] <tjc> montezuma: Graydon says it was named after http://en.wikipedia.org/wiki/Rust_%28fungus%29
[21:02:39] <SiegeLord> o_O
[21:02:45] <montezuma> tjc: thanks
[21:03:12] <tjc> I used to work at a company called Laszlo Systems
[21:03:25] <tjc> the official story was that it was named after the Hungarian designer László Moholy-Nagy
[21:03:27] <TeXitoi> Why there is no implementation of Iterator for Port ?
[21:03:28] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Client exited)
[21:03:32] <tjc> But actually, it was named after the founder's cat
[21:03:32] <McPherrin> tjc: Really? I'd always heard it was because we were taking old rusted ideas in PL
[21:03:33] <SiegeLord> "All rusts are obligate parasites, meaning that they require a living host to complete their life cycle. They generally do not kill the host plant but can severely reduce growth and yield."
[21:03:48] <SiegeLord> Is there some sort of C++ analogy here?
[21:03:49] <tjc> McPherrin: Depending who believe, either that's a backjustification for the name, or the fungus is a backjustification for the name
[21:03:52] <tjc> SiegeLord: lol
[21:04:05] <McPherrin> tjc: I'll have to waterboard it out of graydon ;)
[21:04:22] <tjc> McPherrin: It's much easier than that, just buy him a beer. one is all it takes :-)
[21:07:01] *** Quits: ambimorph (amber@moz-F1964F26.hlrn.qwest.net) (Ping timeout)
[21:07:18] *** Quits: avsej (avsej@D9A610B8.4841F515.FB33447D.IP) (Client exited)
[21:07:21] <strcat> rusti: 0_0
[21:07:23] *** Joins: jvns (quassel@87D98E32.4046EB22.428F94DD.IP)
[21:07:24] -rusti- 0
[21:07:44] *** Joins: Sharp (Sharp@1710C26.8381A41.8725677B.IP)
[21:07:49] *** Quits: eatkinson (eatkinson@moz-1047CAB3.airbears2.berkeley.edu) (Quit: eatkinson)
[21:08:10] *** Quits: reedlepee (Mibbit@9B9315E1.A6025CA.1C37C358.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[21:08:12] *** Joins: ambimorph (amber@moz-F1964F26.hlrn.qwest.net)
[21:08:16] *** bhearsum is now known as bhearsum|afk
[21:09:00] *** Quits: Azdle (Azdle@moz-B334B496.hfc.comcastbusiness.net) (Quit: Leaving)
[21:09:38] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[21:16:37] *** Quits: pcwalton (pcwalton@moz-BBE3ABD.mv.mozilla.com) (Quit: pcwalton)
[21:19:05] *** ozten is now known as ozten|afk
[21:19:09] <kmc> is there a magic builtin way to use types like c_int in #[no_std]; code? cc strcat
[21:19:32] <strcat> kmc: nope, it's the type of thing rust-core will have to define
[21:19:41] <kmc> okay
[21:19:46] <kmc> then I will submit my PR which defines them :)
[21:19:49] <kmc> soon :)
[21:19:55] <benh> strcat: is rust-core aiming to integrate with std eventually?
[21:20:10] <strcat> benh: eventually, but no plans on how to do it
[21:20:22] <strcat> need to define stuff like containers with custom allocators before worrying about that
[21:20:27] *** Quits: earlz2 (earlz@3BA8656D.F04AFED0.49B48A1E.IP) (Quit: Leaving.)
[21:21:09] *** Quits: tjc (tjc@moz-BBE3ABD.mv.mozilla.com) (Quit: zzzzzzzzzz)
[21:21:13] <benh> just figured stuff like c type aliases, libc bindings etc seems reasonably sharable
[21:22:19] <strcat> kmc: probably a ctypes module
[21:23:36] <strcat> I prefer doing the actual function bindings like https://github.com/thestinger/rust-core/blob/master/core/f64.rs
[21:23:44] *** Joins: refold (gman@moz-42D68426.a258.priv.bahnhof.se)
[21:23:52] <strcat> only exposing useful ones ofc
[21:25:16] *** Joins: dherman (dherman@moz-C07D5168.p2p.sfo1.mozilla.com)
[21:25:16] *** ChanServ sets mode: +ao dherman dherman
[21:25:16] <strcat> benh: well, maybe, but atm rust doesn't do things like rust-core
[21:26:19] *** Joins: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com)
[21:26:19] *** ChanServ sets mode: +ao pcwalton pcwalton
[21:26:21] *** Quits: refold (gman@moz-42D68426.a258.priv.bahnhof.se) (Quit: leaving)
[21:27:51] *** Quits: Sharp (Sharp@1710C26.8381A41.8725677B.IP) (Quit: Sharp)
[21:27:56] *** Joins: canhtak (jeremy@moz-3BB8F.wl.t.ulaval.ca)
[21:28:17] *** Quits: dherman (dherman@moz-C07D5168.p2p.sfo1.mozilla.com) (Ping timeout)
[21:29:17] *** Quits: jyyou (jyyou@moz-47B052FA.cs.nctu.edu.tw) (Ping timeout)
[21:30:05] *** Joins: dherman (dherman@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[21:30:05] *** ChanServ sets mode: +ao dherman dherman
[21:30:59] <brson> Does `-*- rust -*-` mean anything?
[21:31:10] <strcat> brson: I think it's some kind of mode line
[21:31:14] <strcat> I saw some and removed them
[21:31:23] <strcat> emacs mode line maybe? dunno.
[21:31:40] *** Joins: jyyou (jyyou@moz-47B052FA.cs.nctu.edu.tw)
[21:32:15] *** Joins: refold (gman@moz-42D68426.a258.priv.bahnhof.se)
[21:32:19] <McPherrin> brson: http://www.gnu.org/software/emacs/manual/html_node/emacs/Specifying-File-Variables.html
[21:32:34] <brson> thanks
[21:32:50] <clonejo> o_O "error: unresolved import: could not find `addrinfo` in `std::rt::io::net`."
[21:32:53] <McPherrin> I thought the rust style guide said to have emacs mode lines in files at some point
[21:32:56] *** Joins: Sharp (Sharp@1710C26.8381A41.8725677B.IP)
[21:33:31] <brson> McPherrin: seems to have fallen out of favor. They only exist in tests now, and I'm going to remove the remaining ones.
[21:34:13] <eddyb> there's something like a modeline in .gitconfig
[21:34:18] <McPherrin> I can't find any evidence of this, so I might be confused with another project
[21:34:57] *** Quits: refold (gman@moz-42D68426.a258.priv.bahnhof.se) (Quit: leaving)
[21:34:59] <strcat> brson: there are also some block modelines in the C++ parts
[21:35:16] <strcat> / buffer-file-coding-system: utf-8-unix
[21:35:26] <McPherrin> Mozilla-central has it, at least: https://developer.mozilla.org/en-US/docs/Developer_Guide/Coding_Style
[21:35:32] *** Joins: refold (gman@moz-42D68426.a258.priv.bahnhof.se)
[21:35:58] *** Joins: hoverbear (andrew@moz-86FCBF4B.gv.shawcable.net)
[21:36:40] *** Quits: refold (gman@moz-42D68426.a258.priv.bahnhof.se) (Quit: leaving)
[21:36:47] *** Joins: refold (gman@moz-42D68426.a258.priv.bahnhof.se)
[21:37:40] *** Quits: refold (gman@moz-42D68426.a258.priv.bahnhof.se) (Quit: leaving)
[21:37:51] <eddyb> https://github.com/redbrain/gccrs/tree/master/gcc/rust this is a complete waste of time IMO
[21:38:27] *** Joins: tjc (tjc@moz-92ECC6AC.danastreet.live555.com)
[21:38:27] *** ChanServ sets mode: +o tjc
[21:38:46] <eddyb> and it assumes GCC is somehow better than LLVM with custom front/middle-end
[21:38:57] *** Joins: refold (gman@moz-42D68426.a258.priv.bahnhof.se)
[21:38:57] <hoverbear> eddyb: Why in the world would you prefer gcc over llvm anyways/
[21:39:32] <strcat> gcc doesn't make you have to worry about ABI and passing by-hidden-pointer
[21:40:00] <SiegeLord> There's nothing wrong with having several compiler implementations
[21:40:06] <eddyb> hoverbear: tell that to this guy https://mail.mozilla.org/pipermail/rust-dev/2013-October/006163.html (although there could've been a discussion earlier in here)
[21:40:25] <tjc> In fact, having several implementations is better. Keeps everyone more semantically honest.
[21:40:52] <eddyb> it will be a long while before it can be useful for that
[21:41:10] <hoverbear> strcat: Interesting. Why not? (Disclaimer: We're required to use GCC for my class projects and I usually use scripting languages for my own code)
[21:41:13] *** Quits: nano (nano@moz-74CAD1CA.superkabel.de) (Connection reset by peer)
[21:41:28] <strcat> because gcc has a mixed frontend/backend
[21:41:30] <kmc> i agree with tjc in theory and eddyb in practice :)
[21:41:37] <strcat> the handling of the C ABI is available to any frontend
[21:41:52] <benh> i'm surprised that we're in a position to tell strangers that their projects are a waste of time o_o
[21:42:00] <eddyb> strcat: that's like also having libclang available to librustc
[21:42:02] <hoverbear> nHahaha
[21:42:02] <strcat> LLVM places purity over practicality when it comes to this, mostly because the LLVM devs only care about it from clang's POV ;p
[21:42:15] <strcat> eddyb: well, if we actually figured out how to use libclang without generating a C/C++ AST
[21:42:20] <dbaupp> benh++
[21:42:21] <hoverbear> I like LLVM's architecture of having the IR representation
[21:42:28] <strcat> gcc has an IR representation
[21:42:31] <strcat> GIMPLE
[21:42:57] <hoverbear> Right, but isn't LLVM's much nicer to work with and properly decoupled?
[21:43:10] <strcat> dunno
[21:43:11] *** Joins: jgilbert (jgilbert@DA4ABEAF.1DE10CA8.D8E68FF6.IP)
[21:43:23] <hoverbear> (I read http://www.aosabook.org/en/llvm.html but that's about all I know about llvm... GREAT article by the way)
[21:44:20] <eddyb> GCC has a lot of fixed parts. you're limited to one target arch and one frontend language per executable AFAIK
[21:44:27] <hoverbear> Yeah.
[21:45:08] <hoverbear> That was the main point of the article "Yeah, GCC is great, but we need something where we can use the parts as well, instead of just having this big monolithic thing"
[21:46:08] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[21:47:03] *** Quits: zws3mb (Mibbit@4869ECF8.9B1DA26B.DDE5D3F6.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[21:47:04] *** Joins: strcat1 (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[21:47:07] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Connection reset by peer)
[21:47:20] *** Quits: saml (sam@moz-14C16814.cst.lightpath.net) (Client exited)
[21:47:29] <strcat1> it'd be nice if my data drive didn't cause ATA errors and force me to hard reboot
[21:47:32] *** strcat1 is now known as strcat
[21:47:45] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[21:48:01] *** Joins: Florob (Florob@moz-39532932.de)
[21:48:07] *** Joins: doomlord_ (servitor@moz-3F3192E5.range86-184.btcentralplus.com)
[21:48:53] *** Joins: Jesin (Jessin_@moz-9BB5F6CF.cc.lehigh.edu)
[21:49:34] *** Joins: eatkinson (eatkinson@moz-1047CAB3.airbears2.berkeley.edu)
[21:49:51] <erickt> strcat: ugh. I hope you have backups. That doesn't sound like your drive is long for this world
[21:50:06] <strcat> yeah, I have backups
[21:50:14] <strcat> but I need a working copy and it doesn't all fit on my SSD
[21:50:22] *** Quits: Florob (Florob@moz-39532932.de) (Client exited)
[21:50:28] <strcat> and I don't have another laptop HDD :(
[21:50:58] *** ozten|afk is now known as ozten
[21:51:15] <strcat> they all seem to die
[21:55:10] <Sharp> Ah… I just figured out why I was getting that borrowed pointer issue.  You have to use ref with enums :)
[21:55:18] *** Quits: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net) (Quit: sw17ch)
[21:55:36] <Sharp> Probably should have read the borrowed pointers tutorial first :P
[21:57:27] *** Quits: eatkinson (eatkinson@moz-1047CAB3.airbears2.berkeley.edu) (Quit: eatkinson)
[21:59:06] *** Quits: cowboyd (cowboyd@moz-1BD02A1E.sw.biz.rr.com) (Client exited)
[21:59:28] *** Joins: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net)
[21:59:33] *** Quits: Blub\w (wry@7E3BB9D.71150E1A.237AE2BA.IP) (Quit: night)
[21:59:43] <SiegeLord> Is it a known thing that FileReader is very slow?
[22:00:03] *** Quits: sw17ch (sw17ch@moz-62998E95.hfc.comcastbusiness.net) (Quit: sw17ch)
[22:00:10] <strcat> SiegeLord: the stdlib is usually slow all around ;p
[22:00:36] <SiegeLord> But like... it's new code, afaik
[22:00:38] <pcwalton> no, it's not
[22:00:39] <brson> SiegeLord: maybe combine it with a BufferedReader?
[22:00:56] <pcwalton> servo uses the standard library and is faster at reflow than gecko and webkit
[22:01:19] <pcwalton> "not as fast as EASTL in all situations" != "slow all around"
[22:01:21] <strcat> pcwalton: all the containers are slow though :(
[22:01:25] <pcwalton> no
[22:01:27] <pcwalton> they are not
[22:01:29] <strcat> slower than libstdc++ by 3-5x
[22:01:30] <pcwalton> they are slow compared to EASTL maybe
[22:01:42] <brson> SiegeLord: acrichto has a few patches in the pipeline that improve I/O
[22:02:02] <strcat> treemap is 3x as slow as std::map, but it could probably be much better now that borrowck is better and it needs fewer swaps
[22:02:12] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Client exited)
[22:02:20] *** Joins: eatkinson (eatkinson@moz-1047CAB3.airbears2.berkeley.edu)
[22:02:23] <pcwalton> SiegeLord: the problem is homing I think
[22:02:25] <pcwalton> we're working on it.
[22:02:32] <pcwalton> yes, it's known.
[22:02:33] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[22:02:50] <acrichto> SiegeLord: if you've got specific benchmarks, please let me know! I'm trying to get I/O into a "class A" state, and I want to make sure that nothing is left behind
[22:03:04] <SiegeLord> I'm just reading a file, 4 bytes at a time
[22:03:09] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Connection reset by peer)
[22:03:14] <strcat> pcwalton: it's not unfixable, and it's not the language's fault
[22:03:19] <pcwalton> ok
[22:03:33] <dbaupp> SiegeLord: that sounds like buffering would help a lot
[22:03:37] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[22:04:13] <strcat> ringbuf would need to be rewritten with unsafe code, to reduce the allocation size by 50% by not using Option
[22:04:39] <strcat> hashmaps themselves are fast but vectors aren't
[22:05:02] <strcat> (std::hashmap is better than C++'s unordered_map.... but since it uses vectors it's slower)
[22:05:20] * strcat shrugs
[22:05:32] <montezuma> does rust support FreeBSD?   I see there is a port but I'm not sure how good it is
[22:05:46] *** Quits: tjc (tjc@moz-92ECC6AC.danastreet.live555.com) (Quit: zzzzzzzzzz)
[22:05:56] <SiegeLord> dbaupp: It would, I'm just curious why it doesn't do it by default
[22:06:08] *** Quits: exobit_ (textual@moz-E06F46F0.corp.bitshelter.com) (Quit: )
[22:06:13] <dbaupp> SiegeLord: incompleteness?
[22:06:20] * dbaupp shrugs
[22:06:28] <strcat> sometimes memory usage is more important than perf
[22:06:31] <McPherrin> montezuma: I'm not aware of any core developers using FreeBSD, but it could work
[22:06:34] * montezuma wonders why people would use libstdc++ over libc++
[22:06:43] <SiegeLord> How does one create a BufferedReader... I've been just doing Path::new().open_reader
[22:06:45] <montezuma> McPherrin: cool, thanks!
[22:07:03] <McPherrin> montezuma: If you find problems, file bugs or patches :)
[22:07:17] <dbaupp> SiegeLord: something in rt::io::buffered I think
[22:07:25] <SiegeLord> Oh I guess... buffered_reader(path::new().open_reader())
[22:07:32] <SiegeLord> Something like that... let's try it
[22:07:32] <montezuma> McPherrin: I'm working on an experimental project for my company; figured it might be a good chance to try out a new language
[22:07:45] <brson> FreeBSD isn't officially supported but we do keep it building on FreeBSD 9. I haven't heard of anybody using it lately
[22:08:05] <montezuma> brson: sad, but I guess it will have to do
[22:08:10] <strcat> montezuma: libc++ requires libc++abi to be robust (otherwise it has aborts everywhere) and libc++abi is in an experimental state on linux/windows
[22:08:14] * montezuma was debating between rust and go
[22:08:29] <montezuma> strcat: ok
[22:08:35] <strcat> but yes, libc++ is a faster, uses less memory and has a much smaller codebase ;p
[22:08:48] <strcat> and is a complete C++11 implementation
[22:09:00] *** Quits: fyolnish (fyolnish@moz-BC27E898.uqwimax.jp) (Ping timeout)
[22:09:05] * montezuma gives NULL to strcat 
[22:09:20] <strcat> we could have faster vectors than them because we can use realloc, but atm we don't.
[22:09:52] <dg> any clue what could cause "error: can't find crate for `std`" when compiling with external crates
[22:10:03] <strcat> dg: they were compiled with an old rustc?
[22:10:14] *** Joins: fyolnish (fyolnish@moz-2E5E8F7E.uqwimax.jp)
[22:10:16] <dg> ooh, that could be it, i think so
[22:10:21] <strcat> ah that won't work
[22:10:26] <XMunkki> btw is the represented size of Option<~T> -types the same as with ~T? (ie. does it internally use nulls instead of adding a separate tag value)
[22:10:33] <strcat> XMunkki: yes
[22:10:37] <strcat> it's basically the only enum special case atm
[22:10:56] <XMunkki> nice..
[22:11:02] <strcat> rusti: enum Foo<T> { A(T), B } std::mem::size_of::<~int>()
[22:11:05] -rusti- 8u
[22:11:09] <strcat> rusti: enum Foo<T> { A(T), B } std::mem::size_of::<A(~int)>()
[22:11:11] -rusti- pastebinned 6 lines of output: http://sprunge.us/Qgaf
[22:11:12] <strcat> er
[22:11:26] <strcat> rusti: enum Foo<T> { A(T), B } std::mem::size_of::<Foo<int>>()
[22:11:27] -rusti- 16u
[22:11:32] <strcat> rusti: enum Foo<T> { A(T), B } std::mem::size_of::<Foo<~int>>()
[22:11:33] -rusti- 8u
[22:12:14] <XMunkki> ok at least it's generic enough to work on more enum types than only Option
[22:12:47] <dbaupp> it works on any enum where it's worked out that there are two variants, one of which has a single value and the other of which contains a non-nullable pointer
[22:13:04] <dbaupp> (e.g. Either<~T, ()> gets optimised to a nullable pointer too.)
[22:14:48] * benh still kinda hopes for i15/i31/i63 for collapsed Either<integraltype,integraltype>
[22:14:55] <benh> (but I guess it doesn't quite work out that way)
[22:15:16] <strcat> you'd need overflow checks on every operation wouldn't you?
[22:15:22] *** Quits: BitPuffin (isak@moz-98F8BF74.cust.tele2.se) (Ping timeout)
[22:15:25] <benh> (maybe "i64exceptforI64_MAX" so we get at least small Option<>)
[22:15:29] <strcat> and not hardware supported ones
[22:15:33] *** Quits: Jesin (Jessin_@moz-9BB5F6CF.cc.lehigh.edu) (Ping timeout)
[22:15:48] <benh> strcat: you probably couldn't borrow the int in the branch of the Either that's represented by the tag bit being 1
[22:16:21] <strcat> pcwalton: do vectors show up in servo's profiling significantly?
[22:16:24] <sp3d> strcat: can you just overwrite the high bit to the last known state before letting other functions see it instead of having checks?
[22:16:28] <strcat> pcwalton: or hash tables
[22:17:01] *** Quits: sebcrozet (sebcrozet@moz-2517AE39.w80-13.abo.wanadoo.fr) (Quit: Gone)
[22:17:20] <strcat> sp3d: I don't think so, you need to preserve some sort of consistent behaviour on operations (wrapping)
[22:18:19] <strcat> the hw will be treating an i31 as a 32-bit integer
[22:18:33] <strcat> you'll be rolling your own operations
[22:18:42] <strcat> afaik at least
[22:18:46] <eddyb> unsigned is cheap
[22:19:07] <eddyb> at least between two u31's
[22:19:20] <benh> Wonder whether there's another good way to represent "integer with tag bits" as a sum type
[22:19:29] <benh> overloadable match operators..........
[22:19:33] *** Quits: eatkinson (eatkinson@moz-1047CAB3.airbears2.berkeley.edu) (Quit: eatkinson)
[22:20:00] <eddyb> (v8 managed to codegen operations for their Smi's - which are (i31 << 1) | 1)
[22:20:30] *** Joins: leon (leon@moz-87C88638.superkabel.de)
[22:20:42] <dg> strcat: that was it, thanks for the help
[22:20:54] * Sharp loves tag bits but doesn't think they necessarily belong in the Rust core.
[22:22:59] <McPherrin> Tag bits are one of those things that everybody seems to have to roll their own at some point
[22:23:07] <McPherrin> So having it in core is pretty reasonable I think
[22:23:22] *** Quits: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP) (Quit: buildmaster reconfigured: bot disconnecting)
[22:23:30] <McPherrin> (even if it has to be unsafe)
[22:23:34] <eddyb> it's an optimization as any other
[22:23:38] <pcwalton> strcat: no
[22:23:52] <Sharp> Perhaps… but often I want more than just one tag bit, or have to customize them in weird ways depending on my data.
[22:24:10] <strcat> pcwalton: so it's mostly hand-rolled trees with ~ and @?
[22:24:15] <strcat> that are perf-critical
[22:24:25] *** Joins: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP)
[22:25:17] <pcwalton> yeah
[22:25:22] <strcat> we can make vector push 6x faster and bounds checking faster so it's too bad they aren't the bottlenecks ;p
[22:25:23] <erickt> brson: we might need to bump up the catering order again. We're already at 36 (!!)
[22:25:49] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[22:26:11] <SiegeLord> Are there any new lightning talks?
[22:26:31] *** Joins: maik (maik@moz-10F9C3B5.dip0.t-ipconnect.de)
[22:26:34] <erickt> SiegeLord: I've only heard about the OpenDNS lightning talk
[22:26:41] <erickt> *checks mail...
[22:27:00] <cmr> montezuma: we support freebsd9. on my list is to drop that support and migrate it to freebsd10.
[22:27:08] *** Quits: jgilbert (jgilbert@DA4ABEAF.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[22:27:17] *** Joins: eatkinson (eatkinson@moz-1047CAB3.airbears2.berkeley.edu)
[22:27:45] *** Quits: eatkinson (eatkinson@moz-1047CAB3.airbears2.berkeley.edu) (Quit: eatkinson)
[22:27:49] <Sharp> If I don't use unsafe code I shouldn't segfault, right?
[22:27:56] <strcat> Sharp: right
[22:27:59] <cmr> Sharp: precluding bugs
[22:28:14] <Sharp> Then I've probably stumbled upon a bug, but it may be a 0.7 bug (that's what's in Brew's package manager).
[22:28:26] <cmr> 0.7 is so 3.5 months ago
[22:28:32] *** Quits: ianj (ianjneu@moz-7140CF01.ccs.neu.edu) (Quit: leaving)
[22:28:42] <SiegeLord> It's so old, it's rusted
[22:28:47] <rossm> -_-
[22:28:49] <Sharp> True, although thus far most of the stuff I've found in 0.7 seems to still be around in 0.8 ;)
[22:28:50] <erickt> SiegeLord: No other lightning talks yet. Want to give one? :D
[22:28:57] <SiegeLord> I'm on the other coast!
[22:29:04] <McPherrin> erickt: When do you want to have lightning talks by?
[22:29:19] <McPherrin> I need enough time to make a project and then write a talk about it :P
[22:29:21] <erickt> SiegeLord: road trip!
[22:29:55] <brson> erickt: i'm pinging the event coordinator to see how many humans she recommends squeezing into that room before we raise it again
[22:30:46] <cmr> pcwalton: you know sprocketnes doesn't build right now, right?
[22:30:58] <pcwalton> cmr: yeah I figured it didn't.
[22:32:26] <erickt> McPherrin: We could probably handle a presentation showing up on the day of the meetup, although I would recommend not waiting until the last minute
[22:32:40] <McPherrin> erickt: Okay :)
[22:33:10] <McPherrin> Hopefully I can stop my sleep-and-work days soon to do some Rust things
[22:33:38] *** Joins: jgilbert (jgilbert@DA4ABEAF.1DE10CA8.D8E68FF6.IP)
[22:33:41] *** Joins: Jesin (Jessin_@moz-841FAEB9.cc.lehigh.edu)
[22:33:50] <erickt> brson: Okay :) I'm going to be out travelling these next two weeks so I might not be watching the meetup as much as possible. Would you be able to keep an eye on it? You should have full admin rights to the group
[22:34:24] *** Joins: ktt3ja (Mibbit@moz-6B6EE8C0.hsd1.va.comcast.net)
[22:36:07] *** Joins: robertknight (robertknig@moz-54528EE0.wby.mendeley.com)
[22:36:52] *** Quits: Jesin (Jessin_@moz-841FAEB9.cc.lehigh.edu) (Ping timeout)
[22:37:18] <ktt3ja> why do I get the error at the end? http://pastebin.com/gJ0JRmsW
[22:37:55] *** Quits: jgilbert (jgilbert@DA4ABEAF.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[22:37:55] *** Quits: robertknight (robertknig@moz-54528EE0.wby.mendeley.com) (Ping timeout)
[22:38:57] *** Quits: nsf (nsf@moz-EEF3238A.convex.ru) (Quit: WeeChat 0.4.2)
[22:39:26] <brson> erickt: sure. how do i change the number of rsvp's allowed?
[22:39:42] <brson> oh i see
[22:40:08] <brson> yeah, I'll bump it as needed
[22:40:21] *** Joins: eatkinson (eatkinson@moz-261EDE03.hsd1.ca.comcast.net)
[22:40:29] <erickt> thanks!
[22:40:34] *** Quits: montezuma (Mibbit@moz-FBB1E8FB.cs.binghamton.edu) (Quit: http://www.mibbit.com ajax IRC Client)
[22:41:27] *** Joins: jgilbert (jgilbert@DA4ABEAF.1DE10CA8.D8E68FF6.IP)
[22:41:51] *** Joins: Jesin (Jessin_@moz-841FAEB9.cc.lehigh.edu)
[22:42:37] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[22:45:00] *** Quits: Jesin (Jessin_@moz-841FAEB9.cc.lehigh.edu) (Ping timeout)
[22:45:24] *** Quits: jgilbert (jgilbert@DA4ABEAF.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[22:46:17] *** Quits: ambimorph (amber@moz-F1964F26.hlrn.qwest.net) (Quit: Leaving.)
[22:46:54] *** Quits: fyolnish (fyolnish@moz-2E5E8F7E.uqwimax.jp) (Ping timeout)
[22:47:01] *** Quits: Scriptor (historium@moz-E06F46F0.corp.bitshelter.com) (Quit: Scriptor)
[22:47:41] *** Quits: jensnockert (jensnocker@moz-7DC16A5F.afb.bredband2.com) (Input/output error)
[22:47:49] <Sharp> Out of curiosity, is any address other than 0 explicitly forbidden to be a real address?  I know technically 0 and NULL don't have to be the same, but in practice they are.  I ask because it seems like if you were going to optimize situations like Some(~X)/None you could probably do it for as many addresses as were explicitly disallowed from being real.  E.g., Yes(~X) / No / Maybe would work with two illegal addresses.
[22:48:12] *** Joins: Jesin (Jessin_@moz-841FAEB9.cc.lehigh.edu)
[22:48:47] <McPherrin> Sharp: That's an implementation detail...
[22:49:05] *** Joins: fyolnish (fyolnish@moz-D3BB2B0E.uqwimax.jp)
[22:49:17] <McPherrin> Sharp: The whole first page is usually left unmapped, so 0-4096
[22:49:19] <Sharp> Is it an optimization LLVM can make by itself?  If we're special-casing Some/None I wouldn't imagine so.
[22:49:22] <Sharp> Oh, neat.
[22:49:33] <dbaupp> "usually"
[22:49:38] <McPherrin> But that's just how you've got your virtual memory set up
[22:50:01] <strcat> 0 can be a valid address, but LLVM never considers it to be atm
[22:50:25] <Sharp> Sure, but even on those platforms there is some equivalent NULL address (at least, for any platforms I can see Rust targeting, aka not LISP machines).
[22:50:28] <dbaupp> Sharp: (it is an optimisation in rustc, btw)
[22:50:29] <McPherrin> Most of the time if you're accessing 0, you know what you're doing and can deal with it
[22:50:45] <strcat> Sharp: 0 is a valid address on x86/x86_64/ARM
[22:50:56] <strcat> it's a valid address in the linux kernel
[22:51:16] <McPherrin> Like the ARM SoC I do some work on has stuff at zero
[22:51:22] <Sharp> Huh.  So is this optimization not really legal, then?  Or is the assumption that anyone who lives in that world knows they have to avoid assuming things like that?
[22:51:43] <Sharp> "Can't use Option in kernel code" etc.
[22:52:01] <strcat> Sharp: LLVM doesn't support 0 as a valid address, so it's not really rust's fault
[22:52:29] *** Joins: brendan (brendaneic@175FECE6.103DC7D.4EA770CF.IP)
[22:52:48] *** jack is now known as jack|travel
[22:52:58] <McPherrin> Like, I have a bit of a kernel that has CFLAGS += -fno-delete-null-pointer-checks for some C code
[22:53:46] <strcat> (and clang doesn't support that)
[22:54:03] <McPherrin> And have to be careful with representing pointers
[22:54:08] <McPherrin> it's obviously doable as we all get along
[22:55:13] <Sharp> So maybe the question shouldn't be a rigid "all the time thing" and more "when you say the whole first page is usually left unmapped, how usual is usually."
[22:55:43] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Client exited)
[22:55:55] <strcat> vm.mmap_min_addr is a sysctl tunable on linux
[22:56:06] <Sharp> Oh.  So you can't really assume anything, then.
[22:56:29] <strcat> well you can assume 0 means null within rust and C without worrying
[22:56:42] <Sharp> Right, but outside of that.
[22:56:55] <McPherrin> You could also, for example, not allow non-raw pointers in rust to be less than some value
[22:57:03] *** Quits: Jesin (Jessin_@moz-841FAEB9.cc.lehigh.edu) (Ping timeout)
[22:57:05] <Sharp> How could you enforce that?
[22:57:18] <McPherrin> Have it as an invariant on your allocator
[22:57:18] <strcat> by having the allocator not return them
[22:57:28] <dbaupp> keep calling malloc until you get something in the right range
[22:57:39] <Sharp> Heh
[22:57:49] <Sharp> I think introducing an extra check to every malloc would probably outweigh the benefits of doing this in the first place.
[22:58:15] <strcat> malloc doesn't map memory directly
[22:59:01] <Sharp> Depending on the implementation it asks for pages, right?
[22:59:58] *** Quits: tiffany (kawaii@moz-28A8742A.dhcp.embarqhsd.net) (Ping timeout)
[23:00:05] <strcat> any production quality allocator isn't going to directly fall through to mmap/munmap/mremap
[23:00:29] *** Quits: lfox (lfox@moz-1D59E114.nycmny.fios.verizon.net) (Quit: ZZZzzz…)
[23:00:31] <kmc> strcat: do you have thoughts on a license for rust-core?  i can drop in a stock BSD LICENSE with my PR if that's OK with you
[23:00:34] <strcat> it will have pools, size classes, and so on
[23:00:38] <strcat> kmc: it's the rust license
[23:00:50] <Sharp> Yeah, of course.  Although my impression was the default malloc wasn't necessarily that great.
[23:00:57] <Sharp> (In C, anyway).
[23:01:18] <dbaupp> depends on the platform
[23:01:19] <kmc> which is dual MIT/Apache?
[23:01:24] <strcat> I have it in each file but I didn't commit an actual license file yet
[23:01:27] <strcat> kmc: yes
[23:02:01] *** Joins: tiffany (kawaii@moz-EB8B0C08.dhcp.embarqhsd.net)
[23:02:06] * kmc wonders how Rust can be "Copyright (c) 2006-2009 Graydon Hoare; Copyright (c) 2009-2013 Mozilla Foundation" when we don't have contributors assign copyright
[23:02:15] <kmc> strcat: ok
[23:02:32] <strcat> kmc: it's wrong if it says that ;p
[23:02:41] <strcat> it should say The Rust Project Developers
[23:02:44] <strcat> like the headers
[23:02:59] <McPherrin> kmc: generally MoCo employees assign copyright though
[23:03:52] *** Quits: echristo (echristo@B3AA7BA8.D6CCE4AE.77834EAA.IP) (Quit: echristo)
[23:03:56] <strcat> heh we don't actually see to ship the licenses
[23:04:02] <strcat> oh nvm
[23:04:12] <dbaupp> COPYING?
[23:04:22] <strcat> no I didn't realize they were LICENSE-*
[23:04:26] <kmc> i was looking at those yeah
[23:04:29] <strcat> I looked in COPYING :)
[23:04:49] *** Quits: ktt3ja (Mibbit@moz-6B6EE8C0.hsd1.va.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[23:05:18] <Sharp> I guess there is a very dumb way you could ensure that you didn't get memory mapped to a range of size n… ask for (total available addressable space) / 2 + n continguous bytes and arrange your reserved values to be in the middle :P
[23:05:36] <brson> kmc: I've disagreed before about that 'Mozilla Foundation' attribution since mofo doesn't own any of rust, but the lawyers seemed to not care
[23:06:20] <strcat> kmc: https://github.com/thestinger/rust-core/commit/f91ce60b77a04356023e836f425faccecd8b3317
[23:06:30] *** Quits: fyolnish (fyolnish@moz-D3BB2B0E.uqwimax.jp) (Ping timeout)
[23:06:36] <brson> the various license files give attribution to different people. I think LICENSE-MIT is basically wrong
[23:06:47] <brson> and COPYRIGHT is right
[23:06:58] <strcat> and it doesn't use a unicode copyright symbol! that's the greater travesty
[23:07:14] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[23:07:22] <Earnestly> ☹
[23:07:27] <rossm> © forever
[23:07:46] <McPherrin> 
[23:08:30] <brson> McPherrin: oh, yeah, I guess MoFo owns my code
[23:08:45] <brson> a big chunk of rust then
[23:08:50] *** Joins: fyolnish (fyolnish@moz-CD4B139D.uqwimax.jp)
[23:09:17] <Earnestly> What, like Oracle or the Canonical CUA?
[23:09:29] <benh> I remember agreeing to something or other after submitting a PR with like five lines of formatting/comment changes, that might well have been a copyright assignment ;)
[23:09:35] <Earnestly> s/CLA
[23:09:59] <brson> mozilla does not require copyright assignment for volunteer contributors
[23:10:13] * Earnestly is not sure if the CLA prohibits you from using the code you wrote in your own or other projects…
[23:10:19] <McPherrin> Earnestly: The Canonical CLA gives a license to CAnonical to use their code, but you still own the copyright
[23:10:24] <dbaupp> Earnestly: no
[23:10:28] <benh> Yeah, I was being facetious, I imagine that would have required something more involved paperwork (also, I'm German, ugh)
[23:10:34] <Earnestly> dbaupp: Is it only Oracle who does that?
[23:10:38] <strcat> some companies require that they own code an employee writes on their own time too...
[23:10:58] * benh wonders whether "Copyright of project X: the project X developers" is actually a useful thing to state
[23:11:06] <strcat> Earnestly: oracle and canonical generally use CLA license agreements for contributors
[23:11:07] <dbaupp> Earnestly: no idea, but mozilla certainly doesn't.
[23:11:17] <McPherrin> The FSF, for example, requires you to give them the copyright to contributions
[23:11:22] <strcat> for example, Mir is GPLv3 and has copyright assignment
[23:11:31] <McPherrin> Er, GNU projects require it to be assigned to the FSF
[23:11:49] <Earnestly> dbaupp: Mozilla seems to be a fairly nice bunch when stuff like EME gets into an open standard. :x
[23:12:09] *** Quits: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net) (Client exited)
[23:12:22] <maikeru> https://github.com/mozilla/rust/wiki/Note-development-policy does say " If your contribution is nontrivial, we ask that you file a Mozilla "committer agreement"."
[23:12:36] <strcat> maikeru: which doesn't require copyright assignment
[23:12:52] <maikeru> True nuff
[23:12:54] <strcat> it basically just requires that you're not going to do something stupid like giving someone else your ssh keys
[23:13:45] <maikeru> Well and that like.. you're going to license it to Mozilla under terms they find acceptable, which is fair.
[23:14:21] <benh> You already kinda do that by editing a file that states the license at the top and submitting a PR that says "note contributions.md" or whatever
[23:14:27] <kmc> strcat: cool
[23:14:32] <benh> (I assume)
[23:14:39] <rossm> I release my code under CC0. is there a reason I should use a more restrictive license?
[23:14:57] <kmc> CC0 has a lot of words
[23:15:02] <kmc> dual license it for people who don't like reading
[23:15:08] <Earnestly> Depends on what you want others to do with your code
[23:15:15] <rossm> that's creative commons' "public domain" license
[23:15:18] <strcat> rossm: for example, if you want to require that people who contribute code to your project give up their rights to sue people using the code over patents
[23:15:30] <strcat> my understanding is that the apache2 license does that
[23:15:31] <strcat> and GPLv3
[23:15:37] <rossm> basically I don't care who uses it, or for what. I just want people to benefit from it if they can
[23:15:50] <Earnestly> strcat: One of the main reasons Samba moved to GPLv3 iirc
[23:15:53] <rossm> strcat I had never considered the issue of contributions by other people before. hm
[23:16:12] <maikeru> Yeah, I think a lot of people confuse copyright and licensing... like it's your code.. licensing however you want.. however many times you want.
[23:16:19] <maikeru> *ways not times
[23:16:23] <benh> Earnestly: arguably one of the main reasons for llvm/clang's success too? ;)
[23:17:21] <rossm> I don't believe very strongly in ownership over code. or IP in general. I'd rather not "license" my code at all. I just want to put it up so people can make use of it
[23:17:38] <rossm> it's not a big deal to me either way. I just want to make it available with no hassle
[23:17:42] <Sharp> benh: By that do you mean, Apple hates GPL?
[23:17:48] *** Quits: brendan (brendaneic@175FECE6.103DC7D.4EA770CF.IP) (Ping timeout)
[23:17:57] <Earnestly> benh: I don’t really think LLVM’s success has anything much to do with licenses regardless of what Apple/BSD want
[23:19:16] <benh> I'm vaguely implying that Apple is pumping engineer-hours into it to avoid relying on GPLv3 gnu toolchains
[23:19:42] <Earnestly> I think LLVM’s success is based on technical merits
[23:19:47] <Sharp> As near as I can tell, Apple is pretty much the reason why LLVM is not just another academic compiler.
[23:20:09] <brson> erickt: the meetup is raised to 50 attendees and that's probably as high as we want to go
[23:20:17] <brson> 12 spots left
[23:20:20] <Earnestly> Licensing is just cognative burden because of how we have designed our economies.
[23:21:03] *** Joins: SilverKey (SilverKey@moz-B589DA51.sw.biz.rr.com)
[23:21:28] <maikeru> holy **** yesterday was a busy commit day
[23:21:58] <erickt> brson: ok :) thanks for taking care of it
[23:22:48] <Earnestly> benh: http://lucumr.pocoo.org/2013/7/23/licensing/ is a fairly interesting read I think
[23:22:59] *** Joins: bytbox (s@moz-54E13927.washdc.fios.verizon.net)
[23:26:32] <benh> " There is a certain irony that “GNU/Linux” is now a sort of license conflict." heh
[23:26:57] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[23:27:17] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[23:27:31] <kmc> MODULE_LICENSE("GPL\0for files in the \"GPL\" directory")
[23:27:57] <McPherrin> kmc: A classic :)
[23:28:38] <McPherrin> benh: More than vague.  I've heard it straight from the mouths of apple llvm engineers
[23:28:53] *** Quits: edorian (Mibbit@moz-C60F0337.dynamic.qsc.de) (Quit: http://www.mibbit.com ajax IRC Client)
[23:29:02] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[23:29:04] <benh> McPherrin: But *I* was being vague!
[23:29:40] <Earnestly> http://thread.gmane.org/gmane.linux.busybox/17254
[23:29:55] <benh> mostly because I didn't have any llvm engineers to cite and also because I wouldn't want to sound like I'm negatively commenting on llvm's technical merits :/
[23:30:21] *** Quits: alan (alan@moz-FE02DD30.sat6.rackspace.com) (Ping timeout)
[23:32:06] <Sharp> LLVM always had technical merits, because it was a newish compiler designed by academics on computers that didn't have extremely strict resource requirements.
[23:33:25] <Sharp> But there's a world of difference between "promising" and "beating GCC on some benchmarks."
[23:33:40] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[23:33:57] *** Quits: maik (maik@moz-10F9C3B5.dip0.t-ipconnect.de) (Ping timeout)
[23:35:38] <maikeru> so.. managed_box... Rc<T> all the things?
[23:36:16] <strcat> well you should generally be able to just use unboxed values
[23:36:17] <McPherrin> plus those beautiful clang errors ;P
[23:36:27] *** Joins: mib_oopisb (Mibbit@moz-3879C893.retail.telecomitalia.it)
[23:37:11] <maikeru> Yeah, maybe, I'll have to see what this code is actually doing... 
[23:37:18] <strcat> benh: google puts effort into LLVM too and they don't care about the license
[23:37:27] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Quit: Leaving.)
[23:37:33] <strcat> and intel, and other groups
[23:39:41] *** Quits: eatkinson (eatkinson@moz-261EDE03.hsd1.ca.comcast.net) (Quit: eatkinson)
[23:40:47] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[23:40:54] *** Joins: weirdo (Mibbit@moz-A1446906.bootp.virginia.edu)
[23:41:18] <maikeru> oh.. io moved...
[23:42:26] *** Quits: Amaranth (travis@moz-F81BB56A.cpe.cableone.net) (Ping timeout)
[23:42:27] *** Joins: Amaranth (travis@moz-F81BB56A.cpe.cableone.net)
[23:42:44] <weirdo> im trying to implement the lt trait in Ord. i get a undeclared type name on 'Self' with this code
[23:42:56] <weirdo> fn lt(&self, other: &self)
[23:43:05] <weirdo> sorry..
[23:43:13] <weirdo> fn lt ( &self, other: &Self)
[23:43:28] <strcat> weirdo: use your real type 
[23:43:35] <strcat> Self can only be used in the trait itself
[23:43:55] <benh> strcat: thanks for clarifying, re:llvm contributors
[23:44:13] <weirdo> strcat: im trying to use it on 'str', but i still get expected &-ptr
[23:44:33] <strcat> weirdo: str isn't a type
[23:44:54] <strcat> ~str and &str are types, but they aren't actually ~T and &str
[23:45:03] *** jorendorff_away is now known as jorendorff
[23:45:25] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[23:45:27] *** Joins: eatkinson (eatkinson@moz-261EDE03.hsd1.ca.comcast.net)
[23:46:33] *** Quits: refold (gman@moz-42D68426.a258.priv.bahnhof.se) (Quit: leaving)
[23:46:43] *** Joins: refold (gman@moz-42D68426.a258.priv.bahnhof.se)
[23:50:15] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[23:52:17] <Sharp> Hm, well, I'm still seeing an issue with Rust 0.8 ("task <unnamed> failed at 'assertion failed: (w != 0)', /home/ubuntu/rust/rust-0.8/src/libstd/str.rs:2052").  But that doesn't clearly look like a segfault, I suppose.
[23:53:32] *** Quits: bholley (anonymous@moz-CB983BB6.superkabel.de) (Quit: bholley)
[23:55:48] <benh> I'm reading COPYRIGHT and it refers to a bunch of paths in src/rt/ that don't exist anymore
[23:56:09] <weirdo> strcat: im sorry but i dont understand... i keep gettin &-ptr errors no matter what type i put
[23:56:20] <strcat> weirdo: what type are you implementing Ord for?
[23:56:28] <strcat> impl Ord for ? { }
[23:56:49] <weirdo> comparing strings
[23:56:57] <strcat> but which type are you implementing it for
[23:57:05] <benh> also further down it says "the\naggregate "collected work" license of the Rust\ndistribution (MIT)"
[23:57:08] <strcat> it's already implementing for strings
[23:57:13] <strcat> rusti: "foo" < "bar"
[23:57:14] -rusti- false
[23:58:49] <brson> benh: there are probably new additions to the repo too that haven't had their license copied into COPYRIGHT
[23:59:00] *** Quits: mib_oopisb (Mibbit@moz-3879C893.retail.telecomitalia.it) (Quit: http://www.mibbit.com ajax IRC Client)
[23:59:10] <weirdo> strcat: Socketaddr
[23:59:49] *** Quits: ozten (ozten@moz-DD3B00B4.hsd1.wa.comcast.net) (Quit: ozten)
