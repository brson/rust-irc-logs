[00:00:07] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[00:00:27] <nrc> this used to work, now it doesn't: `this_result.extend(&mut ss.move_iter());`
[00:00:32] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[00:00:49] <nrc> move_iter() no longer implements Iterator ?
[00:01:08] <nrc> that is surprising
[00:01:20] <nrc> what do I need to tweak?
[00:01:57] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[00:03:07] <sfackler> nrc: I believe that extend now takes the iterator by value
[00:05:07] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[00:05:46] <acrichto> nrc: this_result.extend(ss.move_iter())
[00:05:50] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[00:07:07] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[00:07:14] <nrc> yep, works, thanks sfackler, acrichto 
[00:07:30] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[00:09:50] *** Joins: KokaKiwi (kokakiwi@moz-D674DAC6.kokakiwi.net)
[00:11:32] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[00:12:07] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[00:12:32] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[00:14:20] *** Joins: Armavica_ (virgile@moz-AD428ED7.ens.fr)
[00:14:52] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Quit: leaving)
[00:15:52] *** Quits: GrecKo (GrecKo@moz-A7AA1BB6.fr) (Quit: No Ping reply in 180 seconds.)
[00:15:54] *** Quits: Armavica_ (virgile@moz-AD428ED7.ens.fr) (Quit: leaving)
[00:16:07] *** Joins: GrecKo (GrecKo@moz-A7AA1BB6.fr)
[00:16:11] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[00:16:33] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[00:16:51] *** Quits: bvssvni (Mibbit@moz-A47B6F8E.bb.online.no) (Quit: http://www.mibbit.com ajax IRC Client)
[00:18:53] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[00:18:53] *** ChanServ sets mode: +ao pcwalton pcwalton
[00:25:13] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[00:25:38] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[00:28:12] *** Quits: andrew-__ (andrew-d_w@3B0E9325.9DFA657C.CC0301A2.IP) (Input/output error)
[00:28:32] *** Joins: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[00:31:10] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[00:31:34] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[00:32:08] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[00:32:36] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[00:34:31] *** Joins: andrew-__ (andrew-d_w@3B0E9325.9DFA657C.CC0301A2.IP)
[00:35:33] *** Quits: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Ping timeout)
[00:37:13] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[00:37:39] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[00:37:40] *** Joins: Sharp (Sharp@moz-633F3606.hsd1.ca.comcast.net)
[00:38:06] *** Quits: Sharp (Sharp@moz-633F3606.hsd1.ca.comcast.net) (Quit: Sharp)
[00:38:11] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[00:38:12] *** Joins: Sharp (Sharp@moz-633F3606.hsd1.ca.comcast.net)
[00:39:04] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[00:39:26] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[00:39:46] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[00:39:55] *** Quits: andrew-__ (andrew-d_w@3B0E9325.9DFA657C.CC0301A2.IP) (Input/output error)
[00:40:10] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[00:40:16] *** Joins: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[00:40:33] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[00:41:08] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[00:41:29] *** Joins: andrew-__ (andrew-d_w@3B0E9325.9DFA657C.CC0301A2.IP)
[00:41:33] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[00:41:48] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Quit: Konversation terminated!)
[00:41:52] *** Joins: enix_ (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[00:42:56] *** Quits: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Ping timeout)
[00:44:03] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[00:46:04] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[00:47:14] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[00:47:43] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[00:48:08] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[00:48:30] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[00:49:19] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[00:49:38] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[00:51:19] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Ping timeout)
[00:52:52] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.3)
[00:54:45] *** Quits: [o__o] (~o__o@604A2740.DB688352.F4ADE383.IP) (Ping timeout)
[00:55:24] *** Joins: [o__o] (~o__o@604A2740.DB688352.F4ADE383.IP)
[00:58:39] *** Quits: enix_ (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Ping timeout)
[00:58:49] *** Joins: arrdem (arrdem@moz-2E1DB1F9.ece.utexas.edu)
[01:01:54] *** Quits: arrdem (arrdem@moz-2E1DB1F9.ece.utexas.edu) (Quit: leaving)
[01:02:13] *** Joins: arrdem (arrdem@moz-2E1DB1F9.ece.utexas.edu)
[01:05:35] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[01:05:44] *** Joins: enix_ (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[01:05:46] *** Quits: andrew-__ (andrew-d_w@3B0E9325.9DFA657C.CC0301A2.IP) (Input/output error)
[01:06:09] *** Joins: andrew-d_w (andrew-d_w@3B0E9325.9DFA657C.CC0301A2.IP)
[01:06:44] *** Joins: zimbabao (rajaram@31A794DB.867BB49C.BE4CF869.IP)
[01:07:21] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[01:07:44] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[01:10:28] *** Quits: andrew-d_w (andrew-d_w@3B0E9325.9DFA657C.CC0301A2.IP) (Ping timeout)
[01:12:30] *** Joins: darkf (darkf@moz-F9058B8A.net)
[01:12:30] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[01:17:14] *** Joins: cmr (moznet@moz-EC676DFE.members.linode.com)
[01:19:21] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[01:19:44] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[01:20:21] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[01:20:47] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[01:23:04] *** Quits: brson (brson@moz-62518563.mtv2.mozilla.com) (Ping timeout)
[01:23:11] *** Quits: [o__o] (~o__o@604A2740.DB688352.F4ADE383.IP) (Input/output error)
[01:23:29] *** Joins: [o__o] (~o__o@604A2740.DB688352.F4ADE383.IP)
[01:23:55] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[01:25:20] *** Quits: sunfish (chatzilla@13F2CEC5.7672369.D8E68FF6.IP) (Ping timeout)
[01:25:24] *** Joins: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP)
[01:26:05] *** Joins: brson (brson@moz-62518563.mtv2.mozilla.com)
[01:26:06] *** ChanServ sets mode: +qo brson brson
[01:28:21] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[01:28:52] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[01:31:37] *** Quits: darkf (darkf@moz-F9058B8A.net) (Ping timeout)
[01:32:30] *** Joins: zimbabao (rajaram@31A794DB.867BB49C.BE4CF869.IP)
[01:34:27] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[01:34:48] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[01:37:05] *** Joins: ghrust (ghrust@7BEB6F9D.6A2AE50.F3114085.IP)
[01:37:05] <ghrust> [13rust] 15bors merged 06auto into 06master: 02http://git.io/tK7JxA
[01:37:05] *** Parts: ghrust (ghrust@7BEB6F9D.6A2AE50.F3114085.IP) ()
[01:41:59] *** Joins: ghrust (ghrust@94BD74B8.6A2AE50.F3114085.IP)
[01:41:59] <ghrust> [13rust] 15bors pushed 0 new commits to 06auto: 02http://git.io/Gb1-4g
[01:41:59] *** Parts: ghrust (ghrust@94BD74B8.6A2AE50.F3114085.IP) ()
[01:42:01] *** Joins: ghrust (ghrust@4089EBDC.6A2AE50.F3114085.IP)
[01:42:04] <ghrust> [13rust] 15bors pushed 2 new commits to 06auto: 02http://git.io/nO3rSQ
[01:42:04] <ghrust> 13rust/06auto 14e740c99 15Kevin Cantu: [std::cmp] add missing docs and provide an example
[01:42:04] <ghrust> 13rust/06auto 1420ced9c 15bors: auto merge of #12956 : killerswan/rust/docs, r=alexcrichton
[01:42:04] *** Parts: ghrust (ghrust@4089EBDC.6A2AE50.F3114085.IP) ()
[01:45:34] *** Joins: ghrust (ghrust@49477F7E.6A2AE50.F3114085.IP)
[01:45:34] <ghrust> [13rust] 15alexcrichton merged 06master into 06snap-stage3: 02http://git.io/lVWcXg
[01:45:34] *** Parts: ghrust (ghrust@49477F7E.6A2AE50.F3114085.IP) ()
[01:45:57] *** Joins: whitglint (uid15486@moz-31ABA2C0.irccloud.com)
[01:48:23] *** Quits: zimbabao (rajaram@31A794DB.867BB49C.BE4CF869.IP) (Connection reset by peer)
[01:48:38] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[01:48:42] <brson> dist-snap uploads docs now: http://static.rust-lang.org/doc/0.10-pre/index.html
[01:49:10] <brson> ugh, no pdfs though
[01:49:11] <brson> grr
[01:56:17] *** Quits: blank_name (blank_name@B7AFA74A.94CCB18F.53C6B850.IP) (Ping timeout)
[02:04:11] *** Quits: gimpf (gimpf@moz-F444DB07.adsl.highway.telekom.at) (Client exited)
[02:04:41] *** Joins: zimbabao (rajaram@31A794DB.867BB49C.BE4CF869.IP)
[02:04:57] *** Quits: zimbabao (rajaram@31A794DB.867BB49C.BE4CF869.IP) (Connection reset by peer)
[02:05:57] *** Joins: blank_name (blank_name@B7AFA74A.94CCB18F.53C6B850.IP)
[02:07:23] *** Joins: aurynj (Eon@C498BDEC.C264657C.C6282BC4.IP)
[02:08:28] *** Quits: enix_ (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Ping timeout)
[02:08:45] *** Joins: enix_ (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[02:11:38] *** Quits: cgaebel (clark@moz-F9D89110.nyc.res.rr.com) (Ping timeout)
[02:13:31] <erickt> brson: are we cutting 0.10 soon?
[02:13:44] <brson> erickt: aiming for next thurs
[02:13:53] <erickt> awesome
[02:14:25] <erickt> does this dist-snap work you're doing also result in a regular snapshot?
[02:14:54] <brson> no, it is for doing releases. snapshots are unchanged. i am going to add nightly builds this week though
[02:15:02] <erickt> nical's https://github.com/mozilla/rust/pull/13107 is doing some dancing around a serialization change
[02:15:16] <brson> nightly builds use the dist-snap process but change the name of everything to 'nightly'
[02:15:16] <erickt> ok
[02:17:08] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[02:17:08] *** ChanServ sets mode: +ao pcwalton pcwalton
[02:17:12] <erickt> any complaints about me starting a snapshot build now then?
[02:19:09] <acrichto> erickt: I started one about 10 mins ago
[02:19:19] <erickt> acrichto: thanks!
[02:20:57] *** Joins: zimbabao (rajaram@31A794DB.867BB49C.BE4CF869.IP)
[02:21:51] *** Quits: zimbabao (rajaram@31A794DB.867BB49C.BE4CF869.IP) (Connection reset by peer)
[02:26:07] *** Quits: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net) (Quit: Textual IRC Client: www.textualapp.com)
[02:26:07] *** Joins: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net)
[02:26:07] *** ChanServ sets mode: +o tjc
[02:26:07] *** Quits: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net) (Input/output error)
[02:26:15] *** Quits: dcrewi (david@moz-AB8667CE.gyrae.net) (Ping timeout)
[02:26:17] *** Joins: vfetwnuncszu (david@moz-AB8667CE.gyrae.net)
[02:26:32] *** vfetwnuncszu is now known as dcrewi
[02:28:33] *** Quits: eibwen (kvirc@moz-70651089.dip0.t-ipconnect.de) (Ping timeout)
[02:31:11] *** Quits: Axord (xord@moz-BC8E2FBC.static.rvsd.ca.charter.com) (Quit: I'm sure it's perfectly safe)
[02:32:01] *** Joins: ghrust (ghrust@94BD74B8.6A2AE50.F3114085.IP)
[02:32:01] <ghrust> [13rust] 15bors 04force-pushed 06auto from 1420ced9c to 14c83994e: 02http://git.io/N3iJvQ
[02:32:01] *** Parts: ghrust (ghrust@94BD74B8.6A2AE50.F3114085.IP) ()
[02:32:05] *** Joins: ghrust (ghrust@C95C9FF.6A2AE50.F3114085.IP)
[02:32:06] <ghrust> [13rust] 15bors pushed 2 new commits to 06auto: 02http://git.io/urfzlQ
[02:32:06] <ghrust> 13rust/06auto 148118406 15Alex Crichton: syntax: Tweak parsing bounds on generics paths...
[02:32:06] <ghrust> 13rust/06auto 14c329a17 15bors: auto merge of #13079 : alexcrichton/rust/colons, r=cmr...
[02:32:06] *** Parts: ghrust (ghrust@C95C9FF.6A2AE50.F3114085.IP) ()
[02:32:40] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[02:36:24] *** Quits: blank_name (blank_name@B7AFA74A.94CCB18F.53C6B850.IP) (Ping timeout)
[02:39:45] *** Joins: jdm (jdm@moz-AC9499B2.cable.teksavvy.com)
[02:42:58] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[02:43:08] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[02:44:42] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[02:44:56] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[02:45:03] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[02:45:11] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[02:46:45] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[02:46:52] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[02:46:58] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[02:47:11] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[02:47:17] *** Quits: ChrisMorgan (chris@moz-8DCBEA52.vic.adsl.internode.on.net) (Ping timeout)
[02:48:24] *** Joins: ChrisMorgan (chris@moz-8DCBEA52.vic.adsl.internode.on.net)
[02:54:23] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[02:55:46] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[03:00:25] *** Joins: zimbabao (rajaram@31A794DB.867BB49C.BE4CF869.IP)
[03:01:05] *** Joins: blank_name (blank_name@B7AFA74A.94CCB18F.53C6B850.IP)
[03:09:11] *** Quits: zimbabao (rajaram@31A794DB.867BB49C.BE4CF869.IP) (Connection reset by peer)
[03:17:56] *** Quits: KokaKiwi (kokakiwi@moz-D674DAC6.kokakiwi.net) (Ping timeout)
[03:26:19] *** Joins: zimbabao (rajaram@31A794DB.867BB49C.BE4CF869.IP)
[03:30:16] *** Joins: rook (rook@moz-DE88DB2D.hfc.comcastbusiness.net)
[03:33:13] *** Joins: darkf (darkf@moz-F9058B8A.net)
[03:36:11] *** Quits: zimbabao (rajaram@31A794DB.867BB49C.BE4CF869.IP) (Connection reset by peer)
[03:37:45] *** Quits: luz (lu.cy@moz-CD18B14B.customer.cdi.no) (Connection reset by peer)
[03:38:46] <brson> i wish i could figure out why make always thinks libuv is dirty
[03:40:15] *** Joins: luz (lu.cy@moz-CD18B14B.customer.cdi.no)
[03:43:41] <brson> fixing the windows try snap bot
[03:46:28] <brson> the freebsd build appears to rebuild every time
[03:47:23] *** Quits: zz_kimundi (kimundi@moz-F5F69403.dip0.t-ipconnect.de) (Ping timeout)
[03:47:35] *** Joins: KokaKiwi (kokakiwi@moz-D674DAC6.kokakiwi.net)
[03:47:37] <acrichto> brson: make clean removes all the objects/archives of libuv/compiler-rt
[03:47:45] <acrichto> (just a guess)
[03:50:51] *** Joins: huon (Thunderbir@8750FD8F.D5A1DCF.37681C44.IP)
[03:50:51] *** ChanServ sets mode: +o huon
[03:51:07] *** Joins: zz_kimundi (kimundi@moz-137CBE82.dip0.t-ipconnect.de)
[03:51:08] *** zz_kimundi is now known as kimundi
[03:52:43] *** Joins: zimbabao (rajaram@31A794DB.867BB49C.BE4CF869.IP)
[03:55:30] <brson> restarting buildbot 
[03:58:48] *** Quits: zimbabao (rajaram@31A794DB.867BB49C.BE4CF869.IP) (Connection reset by peer)
[04:08:33] *** Joins: canhtak (canhtak@moz-4FB0FBC1.wl.t.ulaval.ca)
[04:22:27] *** Quits: enix_ (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Quit: Konversation terminated!)
[04:23:04] *** Joins: enix_ (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[04:24:52] <brson> makefiles on bsd behave really oddly
[04:25:07] <brson> ours do i mean
[04:29:45] <brson> acrichto: r? https://github.com/mozilla/rust/pull/13151
[04:31:15] *** Joins: ghrust (ghrust@511FAEBD.6A2AE50.F3114085.IP)
[04:31:15] <ghrust> [13rust] 15brson pushed 4 new commits to 06dist-snap: 02http://git.io/Sq2Vtg
[04:31:15] <ghrust> 13rust/06dist-snap 14c060e2e 15Brian Anderson: install: Don't allow installation over the install files
[04:31:15] <ghrust> 13rust/06dist-snap 14545f012 15Brian Anderson: rustc: Fix detection of lib64 directory...
[04:31:15] <ghrust> 13rust/06dist-snap 146f7ef1e 15Brian Anderson: rustc: Fix tests for sysroot changes
[04:31:17] *** Parts: ghrust (ghrust@511FAEBD.6A2AE50.F3114085.IP) ()
[04:35:38] <ChrisMorgan> brson: BSD, I presume, won't use GNU make?
[04:37:08] <brson> ChrisMorgan: we use gmake on bsd
[04:37:52] <ChrisMorgan> OK
[04:42:18] <cmr> is it an older version perhaps?
[04:43:39] <huon> pnkfelix: https://github.com/mozilla/rust/issues/7590#issuecomment-38768470 the 2004 workweek was a long time ago :P
[04:44:02] <pnkfelix> huon: thx
[04:46:32] *** Quits: canhtak (canhtak@moz-4FB0FBC1.wl.t.ulaval.ca) (Quit: canhtak)
[04:46:56] *** Quits: brson (brson@moz-62518563.mtv2.mozilla.com) (Ping timeout)
[04:52:58] *** Quits: enix_ (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Ping timeout)
[05:12:23] *** Joins: zimbabao (rajaram@47769425.AE842F9B.81C3DAA1.IP)
[05:12:25] *** Quits: zw01 (zev@3C32E5CD.21A2D65F.BCF77D2A.IP) (Ping timeout)
[05:14:10] *** Joins: zw01 (zev@3C32E5CD.21A2D65F.BCF77D2A.IP)
[05:17:42] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[05:18:34] *** Joins: p1start (rewi@moz-E7F3D014.org)
[05:19:20] *** Parts: p1start (rewi@moz-E7F3D014.org) ()
[05:26:58] *** Quits: jdm (jdm@moz-AC9499B2.cable.teksavvy.com) (Ping timeout)
[05:27:57] *** Joins: eibwen (kvirc@moz-23942A6F.dip0.t-ipconnect.de)
[05:27:59] *** Joins: lpy (lpy@8B40CDAC.F09091A8.1348A864.IP)
[05:28:56] *** Quits: tedh (tedh@moz-F3B34318.hsd1.il.comcast.net) (Ping timeout)
[05:29:31] *** Joins: tedh (tedh@moz-F3B34318.hsd1.il.comcast.net)
[05:30:54] *** Quits: erickt (erickt@49C4075F.3AC15C18.2321E71E.IP) (Ping timeout)
[05:31:37] *** Joins: edwardw (edwardw@8229534F.B77F1D58.FAED9FFC.IP)
[05:35:33] *** Quits: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net) (Input/output error)
[05:51:10] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[05:54:02] *** Quits: huon (Thunderbir@8750FD8F.D5A1DCF.37681C44.IP) (Ping timeout)
[05:58:10] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[05:58:55] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[06:00:58] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[06:01:48] *** Quits: KokaKiwi (kokakiwi@moz-D674DAC6.kokakiwi.net) (Ping timeout)
[06:03:11] *** Joins: enix_ (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[06:08:38] *** Joins: eddyb (eddy@F8B50789.F33C1089.FB866788.IP)
[06:14:42] *** Quits: kaeso (kaeso@moz-F21FF626.unstable.it) (Ping timeout)
[06:16:31] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[06:16:40] *** Joins: TheHydroImpulse_ (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[06:16:53] *** Quits: TheHydroImpulse_ (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Quit: TheHydroImpulse_)
[06:19:08] *** Joins: kaeso (kaeso@moz-F21FF626.unstable.it)
[06:22:48] *** Quits: ChrisMorgan (chris@moz-8DCBEA52.vic.adsl.internode.on.net) (Ping timeout)
[06:23:13] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[06:28:55] *** Joins: NiccosSystem (NiccosSyst@moz-ED196BB4.customer.lyse.net)
[06:31:34] *** Joins: KokaKiwi (kokakiwi@moz-D674DAC6.kokakiwi.net)
[06:40:20] *** Quits: lpy (lpy@8B40CDAC.F09091A8.1348A864.IP) (Ping timeout)
[06:42:00] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[06:42:03] *** Joins: lpy (lpy@186A8F3A.F09091A8.1348A864.IP)
[06:43:47] *** Quits: darkf (darkf@moz-F9058B8A.net) (Ping timeout)
[06:48:09] <edwardw> r? https://github.com/mozilla/rust/pull/13034 review addressed and the only change is additional comments are added
[06:55:43] *** Joins: huon (Thunderbir@moz-7CC720CF.lns20.syd7.internode.on.net)
[06:55:43] *** ChanServ sets mode: +o huon
[06:58:13] *** Quits: KokaKiwi (kokakiwi@moz-D674DAC6.kokakiwi.net) (Ping timeout)
[07:07:43] *** Joins: intuxicated (intuxicate@3AEA5E5.FBDFAF77.BD3E1BB3.IP)
[07:12:11] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Connection reset by peer)
[07:12:32] *** Joins: Jesse_ (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[07:26:39] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[07:27:50] *** Joins: KokaKiwi (kokakiwi@moz-D674DAC6.kokakiwi.net)
[07:41:15] <eddyb> huon: should I call non-interior mutability "true mutability"?
[07:41:24] <huon> "inherited mutability"
[07:42:02] *** Joins: ghrust (ghrust@2DCF43EA.6A2AE50.F3114085.IP)
[07:42:02] <ghrust> [13rust] 15bors merged 06auto into 06master: 02http://git.io/urfzlQ
[07:42:02] *** Parts: ghrust (ghrust@2DCF43EA.6A2AE50.F3114085.IP) ()
[07:42:08] <eddyb> or I guess I could say "Exposed a mutable lexer::Reader interface, to remove the need for Cell and RefCell." (with StringReader and TtReader) but that's a bit too long :S
[07:42:57] <huon> that^ took 5 hours to land!
[07:43:07] <eddyb> bors down?
[07:43:15] <huon> "Use inherited mutability for lexer::Reader"
[07:43:25] <huon> it looks like it repeatedly lost 2 of the mac slaves
[07:43:36] <huon> and so had to keep retrying
[07:44:02] <eddyb> huon: thanks, that looks fine, I guess :D
[07:46:26] *** Quits: KokaKiwi (kokakiwi@moz-D674DAC6.kokakiwi.net) (Ping timeout)
[07:46:59] *** Joins: ghrust (ghrust@B750D19A.6A2AE50.F3114085.IP)
[07:46:59] <ghrust> [13rust] 15bors pushed 0 new commits to 06auto: 02http://git.io/MEXeEg
[07:46:59] *** Parts: ghrust (ghrust@B750D19A.6A2AE50.F3114085.IP) ()
[07:46:59] *** Joins: ghrust (ghrust@4BC7FFDD.6A2AE50.F3114085.IP)
[07:46:59] <ghrust> [13rust] 15bors pushed 3 new commits to 06auto: 02http://git.io/fN8vHw
[07:46:59] <ghrust> 13rust/06auto 147febdb7 15Corey Richardson: rustc: mark references w/anonymous lifetime nocapture...
[07:46:59] <ghrust> 13rust/06auto 14b8ed136 15Corey Richardson: Address review
[07:47:00] <ghrust> 13rust/06auto 148a1263d 15bors: auto merge of #13001 : cmr/rust/unnamed-lifetime-nocapture, r=nikomatsakis...
[07:47:02] *** Parts: ghrust (ghrust@4BC7FFDD.6A2AE50.F3114085.IP) ()
[07:49:09] *** Quits: aurynj (Eon@C498BDEC.C264657C.C6282BC4.IP) (Quit: Leaving)
[07:50:22] <eddyb> huon: now to figure out how to manage a linked list
[07:51:01] <eddyb> option dance!
[07:51:22] <eddyb> huon: do we have a singly linked list that I could maybe reuse?
[07:51:31] <huon> it's being removed
[07:51:34] *** Joins: sunfish (chatzilla@8F761026.B5EF4AF6.E96CA9D8.IP)
[07:51:34] <huon> just use a vector
[07:51:37] <huon> push and pop
[07:51:52] <eddyb> not sure if as efficient :S
[07:52:00] <eddyb> but probably easier to manage
[07:52:52] <huon> it's almost certainly faster
[07:52:58] <huon> much better for caches
[07:53:02] <huon> fewer allocations
[07:53:05] *** flaper87|afk is now known as flaper87
[08:16:39] *** Joins: KokaKiwi (kokakiwi@moz-D674DAC6.kokakiwi.net)
[08:18:04] *** Quits: edwardw (edwardw@8229534F.B77F1D58.FAED9FFC.IP) (Quit: Leaving...)
[08:28:29] *** Quits: KokaKiwi (kokakiwi@moz-D674DAC6.kokakiwi.net) (Ping timeout)
[08:28:52] *** Joins: KokaKiwi (kokakiwi@moz-D674DAC6.kokakiwi.net)
[08:32:08] *** Joins: ghrust (ghrust@C82447D.6A2AE50.F3114085.IP)
[08:32:08] <ghrust> [13rust] 15bors 04force-pushed 06auto from 148a1263d to 14c329a17: 02http://git.io/N3iJvQ
[08:32:08] *** Parts: ghrust (ghrust@C82447D.6A2AE50.F3114085.IP) ()
[08:32:08] *** Joins: ghrust (ghrust@4BC7FFDD.6A2AE50.F3114085.IP)
[08:32:08] <ghrust> [13rust] 15bors pushed 3 new commits to 06auto: 02http://git.io/qXll6Q
[08:32:08] <ghrust> 13rust/06auto 147febdb7 15Corey Richardson: rustc: mark references w/anonymous lifetime nocapture...
[08:32:08] <ghrust> 13rust/06auto 14b8ed136 15Corey Richardson: Address review
[08:32:09] <ghrust> 13rust/06auto 14e884b3c 15bors: auto merge of #13001 : cmr/rust/unnamed-lifetime-nocapture, r=nikomatsakis...
[08:32:11] *** Parts: ghrust (ghrust@4BC7FFDD.6A2AE50.F3114085.IP) ()
[08:36:28] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[08:44:22] *** Joins: darkf (darkf@moz-F9058B8A.net)
[08:50:29] <eddyb> I gotta rewrite TtReader
[08:50:49] <eddyb> right now $(...)* is worse than quadratic
[08:52:10] *** Joins: Zr40 (zr40@EE4BB9F5.926C319A.BE2F4011.IP)
[08:53:11] <huon> there's a bug about it
[08:53:14] <huon> iirc
[08:53:18] <eddyb> oh?
[08:53:26] <eddyb> doesn't look *that* hard to fix
[08:56:30] <eddyb> why has this resulted in an existential bikeshed? https://github.com/mozilla/rust/issues/10448
[08:56:50] <eddyb> maybe it's different than the => Trait proposal. in any case, I'd like to see an RFC
[08:57:21] <eddyb> *sigh* do I have to do it? I know how to implement https://github.com/mozilla/rust/issues/11455
[08:57:23] *** Quits: KokaKiwi (kokakiwi@moz-D674DAC6.kokakiwi.net) (Ping timeout)
[08:59:53] *** Joins: KokaKiwi (kokakiwi@moz-D674DAC6.kokakiwi.net)
[08:59:56] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Ping timeout)
[09:10:36] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[09:11:57] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[09:16:19] *** Joins: mediocrity (Thunderbir@moz-8A2E9A09.bredband.comhem.se)
[09:17:02] *** Joins: ghrust (ghrust@2DCF43EA.6A2AE50.F3114085.IP)
[09:17:02] <ghrust> [13rust] 15bors 04force-pushed 06auto from 14e884b3c to 14c329a17: 02http://git.io/N3iJvQ
[09:17:02] *** Parts: ghrust (ghrust@2DCF43EA.6A2AE50.F3114085.IP) ()
[09:17:04] *** Joins: ghrust (ghrust@7BEB6F9D.6A2AE50.F3114085.IP)
[09:17:04] <ghrust> [13rust] 15bors pushed 2 new commits to 06auto: 02http://git.io/vUXT5w
[09:17:04] <ghrust> 13rust/06auto 144112941 15Edward Wang: _match.rs: prune sub-match tree too aggressively...
[09:17:04] <ghrust> 13rust/06auto 14e560db7 15bors: auto merge of #13034 : edwardw/rust/match, r=nikomatsakis...
[09:17:04] *** Parts: ghrust (ghrust@7BEB6F9D.6A2AE50.F3114085.IP) ()
[09:20:01] *** Quits: mediocrity (Thunderbir@moz-8A2E9A09.bredband.comhem.se) (Quit: mediocrity)
[09:41:48] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[09:42:16] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[09:46:26] <cmr> http://buildbot.rust-lang.org/builders/auto-mac-32-opt/builds/4909/steps/test/logs/stdio
[09:46:28] <cmr> spurious?
[09:47:55] <eddyb> cmr: no
[09:47:59] <eddyb> cmr: look at the size
[09:48:17] <eddyb> it's trying to allocate ~2GB
[09:48:36] <eddyb> rusti: format!("{:x}", 2147487744)
[09:48:37] -rusti- 80001000
[09:48:44] <eddyb> slightly over it, even
[09:51:04] <cmr> hm
[09:51:32] <eddyb> not to mention that 32-bit code working with sizes is notorious for being broken above 2GB :P
[09:52:48] <eddyb> cmr: it probably doesn't have enough space in RSS, but even if it did, I bet the address space layout isn't optimal for inserting 2GB anywhere
[09:53:12] *** Joins: mediocrity (Thunderbir@moz-8A2E9A09.bredband.comhem.se)
[09:54:48] <huon> cmr: how many of the students-with-rust-stickers are regularly using Rust?
[09:54:54] <cmr> huon: 1
[09:54:56] <cmr> (me)
[09:54:59] <huon> (cool logo, btw)
[09:55:26] <eddyb> https://github.com/mozilla/rust/blob/master/src/test/run-pass/out-of-stack.rs huh
[09:55:39] <eddyb> I'm confused, at which point does it allocate 2GB?
[09:55:50] <cmr> eddyb: I know, but I don't care about that, only why it's suddenly trying to allocate 2G when it wasn't before.
[09:55:54] <cmr> yeah, me too :P
[09:57:00] *** Quits: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Quit: ChatZilla 0.9.90.1 [Firefox 31.0a1/20140326030203])
[09:57:29] <eddyb> cmr: TBQH, I wouldn't be surprised if this is a Mac OSX 0day
[09:57:36] <cmr> hm!
[09:57:42] <eddyb> I've seen enough shit recently
[09:57:44] <cmr> that test failed on linux 32opt too
[09:57:53] <eddyb> okay then it could be our fault
[09:58:04] <eddyb> cmr: link?
[09:58:07] <cmr> http://buildbot.rust-lang.org/builders/auto-linux-32-opt/builds/5009/steps/test/logs/stdio
[09:58:09] <cmr> https://github.com/mozilla/rust/pull/13001
[09:58:40] <eddyb> huh
[09:58:55] <eddyb> cmr: IR diff time
[09:58:59] <cmr> that's actually a good thing, I can probably debug this.
[10:01:20] <eddyb> kdiff3 works pretty well
[10:01:39] <eddyb> cmr: I've done even RUST_LOG inline diffs, though that doesn't apply here
[10:13:50] *** Quits: lpy (lpy@186A8F3A.F09091A8.1348A864.IP) (Connection reset by peer)
[10:14:09] *** Joins: lpy (lpy@8B40CDAC.F09091A8.1348A864.IP)
[10:23:12] *** Joins: bvssvni (Mibbit@moz-A47B6F8E.bb.online.no)
[10:39:20] *** Joins: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP)
[10:40:28] *** Quits: mawuli (mawuli@5054574.B199513B.DE15C958.IP) (Ping timeout)
[10:41:37] *** Joins: mawuli (mawuli@5054574.B199513B.DE15C958.IP)
[10:44:15] *** Quits: sigma (sigma@moz-15A267A9.range109-152.btcentralplus.com) (Client exited)
[10:45:17] <cmr> eddyb: builder fix confirmed working. is going smoothly now, making up for all the builds it completed but never moved into place.
[10:45:28] <cmr> as well as a few dozen sacrificial builds...
[10:45:57] <eddyb> cmr: pls none of this https://lh3.ggpht.com/-Uo7D8b5VgnM/UU756FnR60I/AAAAAAAAEcs/1FnzP6D1VxE/s1600/VDOIN0.D.png
[10:46:33] <huon> cmr: \o/
[10:46:47] <huon> (was it a multibuilder problem?)
[10:47:28] <cmr> huon: yeah I derped during an upgrade a few months ago.
[10:47:39] <huon> eddyb: but qi isn't paranormal... although some of the stuff stephen fry says is debatably true :P
[10:47:49] <huon> cmr: flipped conditions?
[10:48:03] <eddyb> cmr: can you easily check for PRs missing from the graph?
[10:48:04] <cmr> huon: try_recv instead of recv_opt mostly
[10:48:06] *** Joins: Axord (xord@moz-BC8E2FBC.static.rvsd.ca.charter.com)
[10:48:10] <huon> cmr: ah
[10:48:19] <huon> eddyb: it will do them automatically
[10:48:19] <cmr> huon: just pushed everything
[10:48:50] *** flaper87 is now known as flaper87|afk
[10:49:04] <huon> eddyb: (i.e. it has a "history" file of things that are benched, and just walks master backwards from HEAD benching things that aren't in that file)
[10:49:19] <cmr> doesn't actually use the history file
[10:49:22] <huon> oh?
[10:49:29] <cmr> uses the directory entries themselves
[10:49:36] <huon> ah
[10:49:44] <cmr> and compares that to the build directories.
[10:49:54] <cmr> any builds that don't have a bench dir are benched
[10:50:00] <cmr> the history file is maintained for you :p
[10:50:07] * huon feels special
[10:50:19] <huon> someone on the internet is doing something just for me
[10:50:33] <huon> (is the history file created from the directories?)
[10:50:50] <cmr> (no, when a bench finishes it append the sha to that file)
[10:51:02] <eddyb> doesn't sound perfectly safe
[10:51:04] <cmr> (so indirectly maybe)
[10:51:20] <eddyb> as in, it could get out of sync, couldn't it?
[10:51:25] <cmr> oh it certainly is
[10:51:28] <cmr> has duplicate entries etc.
[10:51:34] <eddyb> :|
[10:51:37] <huon> heh
[10:51:41] <eddyb> cmr: pls fix
[10:51:47] <eddyb> I demand correct graphs
[10:51:48] <cmr> you just check the timestamp though don't you?
[10:51:54] <huon> me?
[10:51:56] <cmr> yeah
[10:51:58] <cmr> of the history file
[10:52:01] <huon> which timestamp?
[10:52:27] <bvssvni> is it possible to compile rust with limited usage of memory?
[10:52:29] <cmr> do you actually use the history file for fetching the things?
[10:52:32] <huon> nope, I just download it and diff it with the benches that I've downloaded previously
[10:52:34] <cmr> bvssvni: not particulrly.
[10:52:36] <cmr> ah ok
[10:52:47] <huon> (so duplicates etc don't matter)
[10:52:52] <cmr> mhm
[10:53:08] <cmr> mind if I regen the history file from dir state?
[10:53:16] <huon> that'd be better
[10:53:30] <huon> keeps everything in sync
[10:53:36] *** Quits: mediocrity (Thunderbir@moz-8A2E9A09.bredband.comhem.se) (Quit: mediocrity)
[10:53:52] <eddyb> http://www.joelonsoftware.com/articles/APIWar.html so I found out what the SimCity thing was
[10:53:56] <huon> cmr: https://github.com/huonw/multibuilder/commit/c7ca04a766b5df061573e36d3f5f6342e5698388#diff-6a30e14ff645a30a1c304975308cf449R17 ?
[10:54:07] <cmr> huon: for debugging
[10:54:22] <cmr> probably bad ...
[10:54:26] <huon> but `error!()`?
[10:54:29] <cmr> but it helped a ton to see them dropped early
[10:54:33] <cmr> yeah I'm lazy :P
[10:54:36] <cmr> a disableable println!
[10:54:42] <cmr> (that's on by default)
[10:54:45] <huon> aren't error!()'s on by default?
[10:54:47] <huon> yeah
[10:54:52] <huon> at least use warn!() :P
[10:55:18] <eddyb> https://github.com/huonw/rust-malloc lol
[10:55:45] <huon> hah, that still uses zero.rs
[10:55:50] <eddyb> "very slow, not-threadsafe" Slam/Blam is the opposite of that
[10:56:00] <huon> eddyb: well done :P
[10:56:13] <eddyb> but it's not great either
[10:56:26] <eddyb> "Only useful for segfaulting and generally making programs incorrect."
[10:56:31] <eddyb> â‚¬>
[10:56:54] * huon implemented that entirely from scratch, without doing any research or reading into allocators, other than the vague ideas about internals he'd heard on IRC
[10:57:00] <huon> hence it being so horrible
[10:57:27] <cmr> huon: history.txt has been updated, but nothing else has changed.
[10:57:35] <cmr> in particular they used to be in nice chronological order
[10:57:38] <eddyb> while I basically stole a great man's smart idea built on top of a classic allocator
[10:57:40] <cmr> now they are in random readdir order
[10:57:40] <doener> cmr: regarding 13001, maybe there's unsafe code that violates the assumption that pointers with anon lifetimes can't escape?
[10:57:49] <cmr> doener:  that is what I suspect.
[10:58:11] <eddyb> doener: how does it get from that to "allocate 2GB + one page", I wonder?
[10:58:23] <cmr> who knows
[10:58:29] <eddyb> oh, pointing at garbage
[10:58:31] <cmr> optimization bugs are obscure
[10:58:33] <eddyb> fair enough
[10:58:50] <cmr> that test seems to hang forever on my box.
[10:59:00] <doener> cmr: from the top of my head, I think mk_t (or something in that area) might be guilty.
[10:59:03] <cmr> so it's probably allocating its 2G
[10:59:19] <cmr> doener: I don't think that uses lifetimes at all
[10:59:22] <cmr> besides &'stati
[10:59:24] <cmr> c
[10:59:26] <cmr> which isn't considered for this
[10:59:30] *** Quits: zimbabao (rajaram@47769425.AE842F9B.81C3DAA1.IP) (Ping timeout)
[11:01:49] *** Quits: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP) (Ping timeout)
[11:01:49] <doener> cmr: I'm thinking of the interner. Its keys are funky
[11:02:10] <doener> OTOH, that probably shouldn't matter for that test
[11:02:12] <cmr> that bug wouldn't manifest in this one test going crazy would it?
[11:02:14] <cmr> yeah
[11:02:33] <eddyb> optimized IR diff ;)
[11:03:32] * eddyb refreshes http://huonw.github.io/isrustfastyet/mem/ impatiently
[11:03:45] <cmr> you're going to be waiting probably 10-16 hours
[11:04:05] <huon> cmr: can you upload some now?
[11:04:10] <huon> (or is that hard work?)
[11:04:13] <cmr> huon: there's none to upload
[11:04:17] <cmr> everything is up
[11:04:33] <doener> eddyb: btw, I figured out why there are these weird shifts+and/or. InstCombine thinks it's not profitable to clean up that mess left behind by SROA
[11:04:40] <huon> cmr: oh ok
[11:04:55] <cmr> huon: (that is, it's actively building new rusts rather than benching)
[11:05:03] <doener> eddyb: I have some idea what to try to fix that
[11:05:32] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[11:05:53] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[11:06:17] <eddyb> cmr: you mean some of the past week is already uploaded, everything else is running?
[11:06:42] <cmr> eddyb: correct
[11:06:50] <huon> doener: did I see that you found the LLVM bug causing the i1 stuff to fail?
[11:07:00] *** Joins: ghrust (ghrust@511FAEBD.6A2AE50.F3114085.IP)
[11:07:00] <ghrust> [13rust] 15bors merged 06auto into 06master: 02http://git.io/vUXT5w
[11:07:00] *** Parts: ghrust (ghrust@511FAEBD.6A2AE50.F3114085.IP) ()
[11:07:30] <doener> huon: right, bug found and patch submitted. Was a post-3.4 regression in SROA
[11:07:34] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Ping timeout)
[11:07:53] <huon> doener: oh, a patch too? \o/
[11:08:42] <doener> with that patch, my i1 patch successfully builds and passes tests.
[11:09:06] <doener> optimized std.ll looks a bit better with it (~5k lines removed)
[11:11:01] <doener> oops, 3k actually, about 1.5% of the whole std.ll
[11:11:04] <huon> aweosme (5k out of?)
[11:11:08] <huon> oh, that's nice
[11:11:18] <huon> any difference post-opts?
[11:11:27] <doener> that is post-opts
[11:11:52] <huon> oh, even better \o/
[11:12:00] *** Joins: ghrust (ghrust@49477F7E.6A2AE50.F3114085.IP)
[11:12:00] <ghrust> [13rust] 15bors pushed 2 new commits to 06auto: 02http://git.io/tFvmFA
[11:12:00] <ghrust> 13rust/06auto 140f437b6 15Sean McArthur: serialize: use Result...
[11:12:00] <ghrust> 13rust/06auto 1411f4f7f 15bors: auto merge of #13107 : seanmonstar/rust/encoder-errors, r=erickt...
[11:12:00] *** Parts: ghrust (ghrust@49477F7E.6A2AE50.F3114085.IP) ()
[11:12:04] *** Joins: ghrust (ghrust@511FAEBD.6A2AE50.F3114085.IP)
[11:12:04] <ghrust> [13rust] 15bors pushed 0 new commits to 06auto: 02http://git.io/g_cIBw
[11:12:04] *** Parts: ghrust (ghrust@511FAEBD.6A2AE50.F3114085.IP) ()
[11:12:13] * huon hopes this lands
[11:14:23] <doener> pre-opt it's 5.4k lines, about 1.6%
[11:14:59] <doener> ~20M RSS reduction when compiling librustc (watched in top)
[11:19:38] <cmr> doener: ok this is extra strange. when I run the testcase manually, it hangs (presumably the iloop)
[11:19:41] <cmr> doener: when I run it in gdb
[11:19:47] <cmr> ctrl-c to get an idea of where it is at.
[11:19:49] <cmr> then continue it
[11:19:52] <cmr> it terminates!
[11:21:31] *** Joins: mediocrity (Thunderbir@moz-8A2E9A09.bredband.comhem.se)
[11:22:14] <eddyb> cmr: have you diff'd IR yet?
[11:23:30] *** Joins: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP)
[11:23:51] *** Joins: zimbabao (rajaram@47769425.AE842F9B.81C3DAA1.IP)
[11:31:41] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[11:32:31] <huon> woah, libbacktrace has a lot of compile warnings. (I assume we're just using the default make invocation for it?)
[11:38:27] <cmr> eddyb: I've diffed them, but I don't particularly see anything that should be of consequence -- https://gist.github.com/cmr/4616c540c8f4020aeaad
[11:40:06] <eddyb> kdiff3 https://gist.githubusercontent.com/cmr/4616c540c8f4020aeaad/raw/b4f005954814839a87163b6333aa1222cf71a345/old.ll https://gist.githubusercontent.com/cmr/4616c540c8f4020aeaad/raw/8dbe99521a680f6842996970dafc9d1a5d2e7607/new.ll
[11:40:09] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[11:40:11] <eddyb> <3 kio
[11:42:03] *** Quits: zimbabao (rajaram@47769425.AE842F9B.81C3DAA1.IP) (Ping timeout)
[11:44:08] *** Joins: gimpf (gimpf@moz-9EFA1B81.adsl.highway.telekom.at)
[11:45:10] <cmr> I'm going to try removing the outptr stuff..
[11:45:22] <eddyb> cmr: and use LLVM stuff?
[11:45:25] <cmr> hm?
[11:45:32] <cmr> no, I mean in my pr
[11:45:34] <eddyb> unless you mean something else
[11:46:54] <eddyb> cmr: rustfilt helps with the noise btw
[11:48:01] <eddyb> tail call fastcc void @loud_recurse()
[11:48:08] <eddyb> cmr: interesting, you caused TCO
[11:48:48] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[11:48:50] <cmr> oh that's the bug.
[11:48:52] <cmr> duh
[11:49:04] <eddyb> is that it?
[11:49:11] <cmr> yeah.
[11:49:16] <cmr> it will never overflow the stack
[11:49:19] <eddyb> hahaha
[11:49:30] <cmr> well.
[11:49:42] <eddyb> cmr: but it's obvious from kdiff3. did you not get it to run?
[11:49:45] <cmr> that's embarassing.
[11:50:02] <cmr> eddyb: no I saw that but it didn't register :(
[11:50:08] <cmr> too long without sleep
[11:50:57] <eddyb> cmr: http://i.imgur.com/pqBbvsP.png
[11:51:09] <eddyb> it probably was much worse before rustfilt
[11:51:31] <cmr> yeah, in a bad way.
[11:51:53] <eddyb> cmr: is it stage0 vs stage1? I see a range assert gone
[11:52:12] <cmr> well
[11:52:16] <cmr> one of them is stage2
[11:52:25] <cmr> one of them is from the arch package
[11:52:30] <eddyb> ahh
[11:54:34] <cmr> it's still a mystery as to why it request a 2G allocation
[11:56:54] <eddyb> cmr: something must be growing
[11:57:14] <eddyb> cmr: what's the RSS on your infinite run?
[11:58:16] <cmr> unbounded and growing it seems.
[11:58:29] <eddyb> so that's it
[11:58:34] <cmr> possibly the stdout buffer.
[11:58:38] <cmr> it started small
[11:58:42] <cmr> it's at 250M right now
[11:58:42] <eddyb> cmr: use the black box to stop TCO
[11:58:56] <cmr> already pushed the fix
[11:59:00] <eddyb> oh, ok :)
[11:59:03] <cmr> https://github.com/cmr/rust/commit/abedb868dce586a110effdcb73ad8a148351eec7#commitcomment-5818451
[12:03:53] <huon> the stdout buffer?
[12:04:06] <huon> isn't that fixed size??
[12:04:20] <huon> cmr: by r+ you mean r=someone, right?
[12:04:22] <cmr> well it never flushes.
[12:04:55] <cmr> well....
[12:04:59] <cmr> the test runs itself in a subprocess
[12:05:15] <cmr> and it's just an iloop println
[12:05:17] <eddyb> cmr: does your fix work?
[12:05:20] <cmr> eddyb: yes.
[12:05:28] <eddyb> odd
[12:05:39] <cmr> why is it odd?
[12:05:50] <eddyb> does black_box take by value or reference?
[12:05:55] <huon> value
[12:06:01] <eddyb> then it will break in the future
[12:06:10] <huon> cmr: can't you just put a black_box(&()) after the loud_recurse?
[12:06:12] <huon> eddyb: why?
[12:06:20] <huon> oh, non-zeroing
[12:06:24] <eddyb> yeah
[12:06:25] <cmr> ah yes
[12:06:35] <huon> erm, black_box(())
[12:06:39] <eddyb> huon: I suggested black_box(()) after the tail call :D
[12:06:39] <huon> works too
[12:06:51] <eddyb> (originally)
[12:06:53] <huon> eddyb: so did I :)
[12:07:01] <cmr> testing that
[12:07:01] *** Joins: ghrust (ghrust@511FAEBD.6A2AE50.F3114085.IP)
[12:07:01] <ghrust> [13rust] 15bors pushed 4 new commits to 06auto: 02http://git.io/zr9DNQ
[12:07:01] <ghrust> 13rust/06auto 147febdb7 15Corey Richardson: rustc: mark references w/anonymous lifetime nocapture...
[12:07:01] <ghrust> 13rust/06auto 14b8ed136 15Corey Richardson: Address review
[12:07:01] <ghrust> 13rust/06auto 14abedb86 15Corey Richardson: test/run-pass/out-of-stack: prevent tco...
[12:07:02] <huon> (without seeing your original suggestion)
[12:07:03] *** Parts: ghrust (ghrust@511FAEBD.6A2AE50.F3114085.IP) ()
[12:07:07] <cmr> crap
[12:07:11] <cmr> bors is too fast for me
[12:08:49] <eddyb> I've been scared of this, but... it.... compiles?
[12:09:06] <huon> eddyb: TtReader reform?
[12:10:49] *** Quits: eddyb (eddy@F8B50789.F33C1089.FB866788.IP) (Ping timeout)
[12:11:17] *** Joins: eddyb (eddy@F8B50789.F33C1089.FB866788.IP)
[12:11:25] <eddyb> what on bloody earth is going on with my laptop
[12:11:43] <eddyb> 500MB free RAM and it just stops dead in its tracks after killing rustc
[12:11:55] <eddyb> it's like it doesn't want to live anymore :(
[12:12:08] <eddyb> huon: -use std::cell::Cell;
[12:12:15] <cmr> I don't blame it, after killing rustc!
[12:12:34] <huon> eddyb: oh, just the lexer mutability inheritance?
[12:13:13] <eddyb> yeah
[12:13:17] <huon> cool
[12:13:36] <eddyb> but most of the P stuff is done, I just wanted to move the non-P @/cell cleanup in another PR
[12:13:52] <huon> does any of the P stuff compile?
[12:13:53] <eddyb> and damn, was that a good idea, considering the mess I made :P
[12:14:14] <eddyb> huon: fold probably needs a map abstraction over P all over the place
[12:14:29] <eddyb> but it's mainly borrowck errors
[12:17:02] *** Joins: canhtak (canhtak@moz-4FB0FBC1.wl.t.ulaval.ca)
[12:18:24] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[12:18:50] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[12:21:05] <doener> cmr: at least that proves that your change helps us to get better opts ;-)
[12:22:04] *** Joins: ghrust (ghrust@38D6F008.6A2AE50.F3114085.IP)
[12:22:04] <ghrust> [13rust] 15bors 04force-pushed 06auto from 14d963c61 to 14e560db7: 02http://git.io/N3iJvQ
[12:22:04] *** Parts: ghrust (ghrust@38D6F008.6A2AE50.F3114085.IP) ()
[12:22:04] *** Joins: ghrust (ghrust@2E45E35D.6A2AE50.F3114085.IP)
[12:22:04] <ghrust> [13rust] 15bors pushed 4 new commits to 06auto: 02http://git.io/fiMNyQ
[12:22:04] <ghrust> 13rust/06auto 147febdb7 15Corey Richardson: rustc: mark references w/anonymous lifetime nocapture...
[12:22:04] <ghrust> 13rust/06auto 14b8ed136 15Corey Richardson: Address review
[12:22:05] <ghrust> 13rust/06auto 145258e13 15Corey Richardson: test/run-pass/out-of-stack: prevent tco...
[12:22:07] *** Parts: ghrust (ghrust@2E45E35D.6A2AE50.F3114085.IP) ()
[12:25:49] <cmr> doener: yeah!
[12:28:48] <kimundi> eddyb: Hm, I'm bored and thinking about writing a RFC for HKT, but I'm not sure if I really should do it without having much experience about it. :P
[12:29:38] *** Quits: eddyb (eddy@F8B50789.F33C1089.FB866788.IP) (Ping timeout)
[12:30:31] <huon> kimundi: you scared him off :P
[12:30:40] <kimundi> darn
[12:30:41] <huon> (if you just feel like writing an RFC, https://github.com/mozilla/rust/issues/12730 would be cool ;) )
[12:30:43] <kimundi> ;D
[12:30:58] <huon> or anything in https://github.com/mozilla/rust/issues?labels=B-RFC&page=1&state=open
[12:31:15] * huon attempts to convince kimundi to do everyone's work for them
[12:31:27] * kimundi is afraid it might work
[12:37:32] *** Joins: eddyb (eddy@F8B50789.F33C1089.FB866788.IP)
[12:38:01] <eddyb> okay, I call BS, I think kdevelop's Stop All is delayed
[12:38:16] <eddyb> or my HDD is dying. that is just as possible
[12:39:29] <eddyb> Error 3 occurred at disk power-on lifetime: 12270 hours (511 days + 6 hours)
[12:39:37] <eddyb> I shouldn't have said anything X_X
[12:44:05] *** Quits: canhtak (canhtak@moz-4FB0FBC1.wl.t.ulaval.ca) (Ping timeout)
[12:45:38] *** Joins: canhtak (canhtak@moz-4FB0FBC1.wl.t.ulaval.ca)
[12:45:38] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[12:47:25] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[12:52:02] *** Joins: ghrust (ghrust@2DCF43EA.6A2AE50.F3114085.IP)
[12:52:02] <ghrust> [13rust] 15bors pushed 2 new commits to 06auto: 02http://git.io/5oU_AQ
[12:52:02] <ghrust> 13rust/06auto 14e12fda1 15Alex Crichton: bench: Put the spawn bench back on libgreen...
[12:52:02] <ghrust> 13rust/06auto 1415f9262 15bors: auto merge of #13136 : alexcrichton/rust/spawn-deadlock, r=brson...
[12:52:03] *** Parts: ghrust (ghrust@2DCF43EA.6A2AE50.F3114085.IP) ()
[12:52:04] *** Joins: ghrust (ghrust@511FAEBD.6A2AE50.F3114085.IP)
[12:52:04] <ghrust> [13rust] 15bors 04force-pushed 06auto from 14b8c8a82 to 14e560db7: 02http://git.io/N3iJvQ
[12:52:04] *** Parts: ghrust (ghrust@511FAEBD.6A2AE50.F3114085.IP) ()
[12:55:25] <huon> eddyb: part of the reason IRFY hasn't updated is because it was sitting prompting me for a password for 5(!) days
[12:55:27] <huon> whoops
[12:59:13] <eddyb> wtf is jbd2/sda2-8
[12:59:21] <eddyb> it's grinding my HDD
[12:59:35] <huon> eddyb: http://ubuntuforums.org/showthread.php?t=1899244
[12:59:37] <eddyb> and now it's gone
[12:59:41] <huon> haha, exactly the same question
[13:00:07] <eddyb> ohhh my HDD is full, that's bloody why
[13:00:46] <eddyb> rm -rf ~/Movies/*
[13:00:58] <eddyb> there, 9GB, hopefully it won't go mad again
[13:02:54] <kimundi> haha
[13:03:14] *** Joins: zimbabao (rajaram@31A794DB.867BB49C.BE4CF869.IP)
[13:05:19] <kimundi> eddyb: Hm, I've been thinking about HKT last few days. If it is based entirely on type lambdas without kind currying, then we have the advantage that it won't interact badly with default type parameters and variadics.
[13:05:46] <eddyb> that's the reason I wanted this model in the first place ;)
[13:06:04] <eddyb> currying will break everything that's not based on currying
[13:06:13] <kimundi> yeah
[13:06:20] <eddyb> f(a, b, c) works, f a b c works, f(a)(b)(c) NOPE
[13:06:32] *** Quits: zimbabao (rajaram@31A794DB.867BB49C.BE4CF869.IP) (Ping timeout)
[13:06:56] <kimundi> <T> Option<T> == Option<*> == Option
[13:08:17] <kimundi> Anyway, I've been mulling over whether to write a RFC about this... Problem is that I don't have any experience with HKT in general, and would only write it down because I've finally understood them :P
[13:11:25] *** flaper87|afk is now known as flaper87
[13:11:35] <eddyb> kimundi: type IoResult = Result<*, IoError>;
[13:11:48] <kimundi> yep
[13:11:53] <eddyb> because DRY
[13:12:43] <kimundi> My proposal would include the `*` form as binding-sugar for `IoResult = <T> Result<T, IoError>;`
[13:14:44] <pnkfelix> is it just me or is that a bit too much overloading of the `*` character?
[13:15:37] <pnkfelix> I know there's historical precendent for using `*` with HKT, but I think our current use for native ptrs is important.  (and I'm not attempting to state whether it causes rustc parsing problems; I'm talking about human parsing problems)
[13:15:50] <bstrie> on the green thread runtime, do we cache stacks and reuse them?
[13:15:56] <kimundi> pnkfelix: Well there is not choice. _ or * are the main candidates for this usage, and _ would conflict with partial type hints.
[13:15:58] <cmr> bstrie: yes.
[13:16:02] <bstrie> cmr: thanks
[13:16:21] <kimundi> pnkfelix: not much choice*
[13:16:34] <cmr> bstrie: we do now at least :p I initially wrote the code for that but got a conditino backwards, so we were *never* caching. acrichto fixed that though
[13:16:51] <pnkfelix> Is `?` not available?
[13:17:01] <pnkfelix> (not that I actually like `?` compared to `*`...)
[13:17:28] <bstrie> cmr: hahaha, wonderful
[13:17:32] <kimundi> pnkfelix: ? would work, but it doesn't make much sense as a wildcard. Switching partial type hints to it might work though.
[13:17:52] *** Quits: canhtak (canhtak@moz-4FB0FBC1.wl.t.ulaval.ca) (Quit: canhtak)
[13:17:59] <huon> kimundi: ? makes a lot of sense as a wildcard?
[13:18:11] <kimundi> Hm... actually I guess it makes as much sense for both, nevermind :P
[13:19:47] *** Quits: darnuria (darnuria@moz-AB6EB255.ip-91-121-133.eu) (Ping timeout)
[13:20:13] <kimundi> Compare:
[13:20:19] <kimundi> <T> Option<T> == Option<?> == Option 
[13:20:26] <kimundi> <T> Option<T> == Option<_> == Option 
[13:20:28] <kimundi> <T> Option<T> == Option<*> == Option
[13:20:53] <huon> eddyb: irfy updated a little bit
[13:20:56] <cmr> Option<->
[13:21:06] <kimundi> <T> Option<T> == Option<-> == Option
[13:21:13] <kimundi> heh
[13:21:24] <eddyb> huon: wat
[13:21:25] <huon> kimundi: Option<_> for HKT would be overloading the let x: Option<_> = foo(); syntax in a new & different way, right?
[13:21:33] <huon> eddyb: http://huonw.github.io/isrustfastyet/mem/
[13:21:34] <pnkfelix> perhaps even `Option<-->` if `Option<->` is too close to `Option<_>`
[13:21:45] <eddyb> huon: I added a lot of memory usage?
[13:21:56] <eddyb> huon: I hope it's a missing PR before me
[13:22:04] <pnkfelix> but probably `Option<->` is better than `Option<->`, even given potential confusion with `Option<_>`
[13:22:05] <huon> eddyb: presumably
[13:22:11] <kimundi> huon: Yes, it would conflict. But partial type hints themself could switch to a different symbol too, so I still see it as a possibility right now.
[13:22:20] <pnkfelix> sed -e s/is better than Option<->/is better than Option<-->/`
[13:22:31] *** Joins: zimbabao (rajaram@31A794DB.867BB49C.BE4CF869.IP)
[13:23:10] <cmr> of course then you get ludicrous things like - -> -
[13:23:31] <huon> -->-
[13:23:34] <eddyb> trait<-> Functor
[13:23:47] <eddyb> that looks like an arrow that goes both ways
[13:23:52] <eddyb> trait <-> Functor
[13:24:01] <eddyb> could be quite confusing
[13:24:08] <cmr> s/confusing/amusing/
[13:24:25] <kimundi> cmr: Right, thats another thing. The binding syntax does not necessary be identical to the kind signature syntax, as latter
[13:24:40] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[13:24:44] <kimundi> eddyb: I was thinking of something like `trait Functor for Self<*>`
[13:25:05] <kimundi> With regular trait declaration being sugar for `trait Foo for Self`
[13:25:05] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[13:25:14] <cmr> kimundi: I feel like that'd be overfly confusing, but perhaps not
[13:25:20] <cmr> I don't mind * though
[13:25:21] <kimundi> It would mirror implementation
[13:25:31] <kimundi> impl Foo for MyType
[13:25:41] <kimundi> impl Functor for MyType<*>
[13:25:49] <kimundi> impl Functor for <T> MyType<T>
[13:25:50] <eddyb> kimundi: but then if you put super-traits after Self: it will look like bounds
[13:26:06] * pnkfelix thinks the whole "use * to denote the type kind" is a mistake outside the context of type theory papers.
[13:26:13] <kimundi> eddyb: Well yeah, but you could put them before it too
[13:26:16] <eddyb> pnkfelix: type?
[13:26:21] <eddyb> Option<type>
[13:26:21] <pnkfelix> trait Foo for Self<type>
[13:26:40] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[13:26:42] <cmr> hey that's actually really nice
[13:26:44] <cmr> type -> type
[13:26:46] <cmr> even makes sense
[13:26:48] <cmr> +1
[13:27:06] <pnkfelix> this is the sort of thing that was a side benefit of that "use `type` instead of `unsized` for DST" blog post I wrote
[13:27:23] <eddyb> except then it's not really a shorthand
[13:27:26] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[13:27:29] <kimundi> The usage of * I'm using here is just a placeholder for whatever symbol would be suitable for a binding form of a type lambda, and would be not directly connected to name/symbol a type kind would have itself.
[13:27:55] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[13:28:20] <kimundi> Compare: foo(|x| x < 5) vs foo(_ < 5)   and   <T> Option<T> vs Option<*>
[13:28:43] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[13:29:09] <pnkfelix> as a dyed-in-the-wool schemer I'll probably always prefer `foo(|x| x < 5)` over `foo(_ < 5)`
[13:29:11] <kimundi> Option's kind could still separately be called `* -> *`, or `type -> type` etc.
[13:29:16] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[13:29:27] <pnkfelix> but I respect the needs of others for the shorthand.  :)
[13:29:57] <eddyb> type FnvHashMap = HashMap<*, *, FnvHasher>;
[13:30:04] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[13:30:05] <eddyb> there's something curious about that
[13:30:37] <kimundi> pnkfelix: Yeah, and for Rusts use case it would be to confusing because of different function and closure types, and the distinction between lambda definition and lambda evaluation.
[13:30:58] <kimundi> But for kinds there wouldn't be a difference, so we could support it as a shorthand.
[13:31:36] *** Quits: zimbabao (rajaram@31A794DB.867BB49C.BE4CF869.IP) (Ping timeout)
[13:31:49] <kimundi> eddyb: Yeah, if we make typedefs as usable as the actual type definition, then you could basically remove default params as a seperate feature.
[13:32:05] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[13:32:27] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[13:32:56] *** Joins: canhtak (canhtak@moz-4FB0FBC1.wl.t.ulaval.ca)
[13:33:02] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[13:33:26] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[13:33:56] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[13:34:18] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[13:37:04] *** Joins: ghrust (ghrust@94BD74B8.6A2AE50.F3114085.IP)
[13:37:04] <ghrust> [13rust] 15bors 04force-pushed 06auto from 1415f9262 to 14e560db7: 02http://git.io/N3iJvQ
[13:37:04] *** Parts: ghrust (ghrust@94BD74B8.6A2AE50.F3114085.IP) ()
[13:38:03] <eddyb> kimundi: not really
[13:38:15] <kimundi> Difference?
[13:38:36] <eddyb> now you can use HashMap<K, V> and HashMap<K, V, H>
[13:38:43] <kimundi> AH, right
[13:38:54] <kimundi> Difference being same name.
[13:48:05] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[13:48:30] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[13:48:30] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[13:48:51] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[13:48:55] *** Quits: sunfish (chatzilla@8F761026.B5EF4AF6.E96CA9D8.IP) (Ping timeout)
[13:49:21] *** Joins: darnuria (darnuria@moz-AB6EB255.ip-91-121-133.eu)
[13:50:37] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Ping timeout)
[13:50:40] *** Joins: zimbabao (rajaram@31A794DB.867BB49C.BE4CF869.IP)
[13:58:00] <eddyb> kimundi: what about macro_rules! { foo($a:expr) => (foo($a).bar()); foo(....) => .... }?
[13:58:23] <eddyb> having to repeat the macro name, while being able to define multiple macros in one block
[13:58:56] <kimundi> eddyb: Interesting idea
[13:59:07] <kimundi> eddyb: Would certainly be useful for some macro hacks
[13:59:40] <kimundi> eddyb: But it kinda removes that form of macro declaration further from "A macro is just a special item"
[14:00:33] <eddyb> kimundi: it removes the need for the foo! x (...) macro syntax
[14:00:48] <eddyb> and then you can just take a maybe-delimited token tree
[14:00:58] <kimundi> I wonder if you could get used to just double nesting {}: macro_rules! { foo { (...) =>> ... }}
[14:01:31] <eddyb> kimundi: how often do you need more than one case, though?
[14:02:11] <kimundi> eddyb: Well, the nice thing is this can get prototyped right now with loadable macros ;)
[14:02:25] <eddyb> hmm?
[14:02:40] <eddyb> you mean macro_rules_ng!?
[14:02:51] <kimundi> yeah
[14:03:30] <eddyb> kimundi: you can write an RFC on it if you want :P
[14:03:35] <kimundi> eddyb: Well repeating the name is not very DRY, and it has issues like "how to apply attributes to it"
[14:03:43] <eddyb> :/
[14:03:52] *** Quits: lpy (lpy@8B40CDAC.F09091A8.1348A864.IP) (Ping timeout)
[14:04:14] <kimundi> Then again, you could do macro_rules! { #[macro_export] foo(...) => ...}
[14:04:46] <kimundi> Actually, I would like _that_ more...
[14:05:19] *** Joins: sunfish (chatzilla@13F2CEC5.7672369.D8E68FF6.IP)
[14:05:55] <kimundi> eddyb: My initial reservation was about only pulling the name into the macro body without other related data still being per-macro_rules block. But if everything gets pushed down, then I'd be fine with it
[14:06:59] <kimundi> Hm, but then you get the DRY problem of multiple names but only one definition you'd want to add such attributes to...
[14:07:55] <kimundi> I wonder if you can combine it... macro_rules! { #[macro_export] foo {(...) => ...; (...) => ...}} as full form, with macro_rules! { #[macro_export] foo(...) => ...} being the short form.
[14:08:27] <kimundi> (Combineable inside the same macro_rules block of course)
[14:11:06] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[14:11:33] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[14:18:29] *** Joins: victorporof (victorporo@13F2CEC5.7672369.D8E68FF6.IP)
[14:20:25] *** Quits: canhtak (canhtak@moz-4FB0FBC1.wl.t.ulaval.ca) (Quit: canhtak)
[14:21:00] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[14:23:44] *** Quits: sunfish (chatzilla@13F2CEC5.7672369.D8E68FF6.IP) (Ping timeout)
[14:30:47] *** Joins: edwardw (edwardw@9366486F.7FC992B3.B3B412E5.IP)
[14:30:55] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[14:31:32] <eddyb> can I put `// FIXME(eddyb) #12938 Use Rc<[TokenTree]> after DST` in code?
[14:31:40] <eddyb> is that the good issue number for it?
[14:31:53] <eddyb> nevermind https://github.com/mozilla/rust/issues/6308
[14:34:02] *** Joins: canhtak (canhtak@moz-4FB0FBC1.wl.t.ulaval.ca)
[14:34:08] <edwardw> or #12938
[14:34:35] <edwardw> lol, that was what you said
[14:37:44] <eddyb> https://github.com/mozilla/rust/pull/13163 isn't this slightly less efficient, given in-place reallocs?
[14:38:13] *** Quits: mediocrity (Thunderbir@moz-8A2E9A09.bredband.comhem.se) (Quit: mediocrity)
[14:42:27] *** Joins: sunfish (chatzilla@13F2CEC5.7672369.D8E68FF6.IP)
[14:44:05] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[14:44:28] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[14:47:21] *** Joins: ghrust (ghrust@5AC7F92B.6A2AE50.F3114085.IP)
[14:47:22] <ghrust> [13rust] 15bors merged 06auto into 06master: 02http://git.io/57xhhw
[14:47:22] *** Parts: ghrust (ghrust@5AC7F92B.6A2AE50.F3114085.IP) ()
[14:49:05] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[14:49:28] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[14:50:10] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[14:50:43] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[14:51:09] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[14:51:35] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[14:52:20] *** Joins: lpy (lpy@1834E2CB.F09091A8.1348A864.IP)
[14:52:29] *** Joins: ghrust (ghrust@38D6F008.6A2AE50.F3114085.IP)
[14:52:29] <ghrust> [13rust] 15bors pushed 0 new commits to 06auto: 02http://git.io/ceUULw
[14:52:29] *** Parts: ghrust (ghrust@38D6F008.6A2AE50.F3114085.IP) ()
[14:52:30] *** Joins: ghrust (ghrust@7BEB6F9D.6A2AE50.F3114085.IP)
[14:52:30] <ghrust> [13rust] 15bors pushed 2 new commits to 06auto: 02http://git.io/XYQdFQ
[14:52:30] <ghrust> 13rust/06auto 144709364 15Alex Crichton: mk: Use rwildcard to calculate dependent files...
[14:52:30] <ghrust> 13rust/06auto 14266dc47 15bors: auto merge of #13142 : alexcrichton/rust/issue-13118, r=brson...
[14:52:30] *** Parts: ghrust (ghrust@7BEB6F9D.6A2AE50.F3114085.IP) ()
[14:52:53] <eddyb> worst part - non-copyable spans
[14:53:31] <eddyb> oh and we haven't fixed the Rc bug yet :(
[14:53:36] <eddyb> (the non-zero one)
[14:54:34] *** Joins: mediocrity (Thunderbir@moz-8A2E9A09.bredband.comhem.se)
[14:54:47] *** Quits: mediocrity (Thunderbir@moz-8A2E9A09.bredband.comhem.se) (Quit: mediocrity)
[14:55:07] <eddyb> rusti: ::std::mem::size_of::<(u32, u32, Option<::std::rc::Rc<int>>)>()
[14:55:08] -rusti- 24
[14:55:17] <eddyb> rusti: ::std::mem::size_of::<(u32, u32, Option<~int>)>()
[14:55:17] -rusti- 16
[14:55:37] <eddyb> that seems like an issue
[14:56:09] <edwardw> Rc<?> has two additional counters
[14:56:19] *** Joins: jdm (jdm@moz-AC9499B2.cable.teksavvy.com)
[14:56:38] <eddyb> edwardw: compared to?
[14:56:46] <edwardw> ~int?
[14:56:51] <eddyb> edwardw: look in Span
[14:57:03] <eddyb> expn_info: Option<@ExpnInfo>
[14:57:39] <edwardw> why Span has anything to do with this? I'm confused
[14:57:52] <eddyb> I want to replace @ with Rc
[14:58:02] <eddyb> that will add another 8 bytes to every Span
[14:58:08] <eddyb> Spans are abused by-value
[14:58:10] <edwardw> ah ok, yes it will
[14:58:53] <eddyb> let's try Option<~ExpnInfo>
[14:59:14] <eddyb> though the current model could share call sites
[14:59:54] <eddyb> yeah, that won't work
[15:01:23] *** Joins: mediocrity (Thunderbir@moz-8A2E9A09.bredband.comhem.se)
[15:02:02] <eddyb> let's just not touch it and see if it's the only @ left
[15:04:27] <eddyb> r? https://github.com/mozilla/rust/pull/13170
[15:12:46] *** Quits: mediocrity (Thunderbir@moz-8A2E9A09.bredband.comhem.se) (Quit: mediocrity)
[15:15:28] <eddyb> oh, I can probably do Rc<IdentInterner> as well
[15:32:59] <eddyb> haha I forgot to remove this comment // The &mut State is stored here to prevent recursive type.
[15:33:10] <eddyb> gj me
[15:33:26] <eddyb> (I hope I haven't confused anyone)
[15:34:13] <eddyb> pub fn end(&mut self) -> IoResult<()> { self.boxes.borrow_mut().pop().unwrap();
[15:34:17] <eddyb> why do we do this?
[15:35:15] <eddyb> "empty stack in tt_next_token" well, drat
[15:35:33] <eddyb> it did feel too easy
[15:37:55] *** Joins: lkuper (lkuper@87D98E32.4046EB22.428F94DD.IP)
[15:44:14] *** Quits: edwardw (edwardw@9366486F.7FC992B3.B3B412E5.IP) (Quit: Leaving...)
[15:47:08] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[15:47:30] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[15:48:17] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[15:48:49] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[15:49:13] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[15:49:44] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[15:49:50] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[15:50:08] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[15:50:39] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[15:51:09] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[15:51:44] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[15:52:12] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[15:52:47] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[15:53:09] <erickt> seanmonstar: ping
[15:55:28] *** Quits: lpy (lpy@1834E2CB.F09091A8.1348A864.IP) (Client exited)
[15:57:21] *** Joins: mediocrity (Thunderbir@moz-8A2E9A09.bredband.comhem.se)
[15:58:03] *** Quits: mediocrity (Thunderbir@moz-8A2E9A09.bredband.comhem.se) (Quit: mediocrity)
[16:02:09] *** Joins: edwardw (edwardw@7AF41815.E6BB1EAE.D39A8B3F.IP)
[16:02:57] <eddyb> are lexer::Reader's supposed to work after EOF?
[16:04:59] *** Joins: TimAbraldes (quassel@125EF623.B2666F0E.66399531.IP)
[16:06:45] *** Quits: Zr40 (zr40@EE4BB9F5.926C319A.BE2F4011.IP) (Quit: leaving)
[16:08:37] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[16:08:48] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[16:08:57] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[16:09:10] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[16:12:03] *** Quits: GrecKo (GrecKo@moz-A7AA1BB6.fr) (Quit: No Ping reply in 180 seconds.)
[16:12:21] *** Joins: GrecKo (GrecKo@moz-A7AA1BB6.fr)
[16:13:14] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[16:13:37] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[16:14:08] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[16:14:33] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[16:14:49] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[16:15:08] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[16:16:33] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[16:18:40] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[16:20:10] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[16:20:32] *** Quits: canhtak (canhtak@moz-4FB0FBC1.wl.t.ulaval.ca) (Quit: canhtak)
[16:20:35] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[16:20:48] *** Quits: lkuper (lkuper@87D98E32.4046EB22.428F94DD.IP) (Quit: lkuper)
[16:21:12] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[16:21:56] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[16:22:18] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[16:22:53] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[16:23:15] <erickt> nmatsakis: ping
[16:24:47] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[16:25:15] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[16:25:29] *** Quits: intuxicated (intuxicate@3AEA5E5.FBDFAF77.BD3E1BB3.IP) (Client exited)
[16:25:49] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[16:28:22] *** Quits: zimbabao (rajaram@31A794DB.867BB49C.BE4CF869.IP) (Ping timeout)
[16:35:39] *** Quits: doomlord_ (servitor@moz-99BE89EC.range86-184.btcentralplus.com) (Ping timeout)
[16:36:03] *** Joins: doomlord_ (servitor@moz-88D9A890.range86-184.btcentralplus.com)
[16:42:38] <Eridius> sigh, `make check-stage2` doesn't have its dependencies set up right
[16:42:41] <Eridius> seems to not build libnative
[16:43:14] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[16:43:36] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[16:47:05] <edwardw> Eridius: or just not rebuilt properly? in that case, https://github.com/mozilla/rust/pull/13142
[16:47:31] <Eridius> well I ran `make clean` after I hit the error the first time
[16:48:06] *** Quits: eddyb (eddy@F8B50789.F33C1089.FB866788.IP) (Ping timeout)
[16:48:16] <kimundi> Eridius: Yeah I have the same problem
[16:49:48] *** Joins: eddyb (eddy@F8B50789.F33C1089.FB866788.IP)
[16:52:04] *** Joins: ghrust (ghrust@99CAE845.6A2AE50.F3114085.IP)
[16:52:04] <ghrust> [13rust] 15bors 04force-pushed 06auto from 14266dc47 to 1425e5238: 02http://git.io/N3iJvQ
[16:52:04] *** Parts: ghrust (ghrust@99CAE845.6A2AE50.F3114085.IP) ()
[16:52:04] *** Joins: ghrust (ghrust@C82447D.6A2AE50.F3114085.IP)
[16:52:05] <ghrust> [13rust] 15bors pushed 2 new commits to 06auto: 02http://git.io/p9FKxw
[16:52:05] <ghrust> 13rust/06auto 14e12fda1 15Alex Crichton: bench: Put the spawn bench back on libgreen...
[16:52:05] <ghrust> 13rust/06auto 143b04fba 15bors: auto merge of #13136 : alexcrichton/rust/spawn-deadlock, r=brson...
[16:52:05] *** Parts: ghrust (ghrust@C82447D.6A2AE50.F3114085.IP) ()
[16:55:26] *** Joins: lkuper (lkuper@87D98E32.4046EB22.428F94DD.IP)
[17:01:00] *** Quits: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP) (Quit: rcirc on GNU Emacs 24.3.1)
[17:01:07] <seanmonstar> erickt: pong. looks like i missed a doc test
[17:01:24] <eddyb> ooooh, EOF is returned *after* it reached the end, so I should ensure that still works
[17:04:06] *** Joins: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[17:06:43] *** Quits: Kxepal (Miranda@moz-28B57678.pppoe.mtu-net.ru) (Ping timeout)
[17:11:02] *** Joins: Kxepal (Miranda@moz-AA60EEAD.pppoe.mtu-net.ru)
[17:18:39] <eddyb> acrichto: I think I've fixed the failure, but I'm adding one more commit
[17:29:30] *** Quits: olsonjeffery (pf@moz-57D1CF86.compute-1.amazonaws.com) (Quit: WeeChat 0.3.7)
[17:31:26] <eddyb> I'm watching https://travis-ci.org/mozilla/rust/jobs/21694425 for the TtReader failure
[17:31:52] <eddyb> oh, I didn't rebase so it's still accessible
[17:43:46] <eddyb> acrichto: seems to be fixed, r? https://github.com/mozilla/rust/pull/13170
[17:52:56] *** Quits: edwardw (edwardw@7AF41815.E6BB1EAE.D39A8B3F.IP) (Quit: Leaving...)
[17:53:48] *** Joins: edwardw (edwardw@C3D32C6E.E4C8743.30C05AB6.IP)
[17:53:58] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[17:53:58] *** ChanServ sets mode: +ao pcwalton pcwalton
[17:54:51] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[17:55:17] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[17:55:45] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[17:55:47] *** Joins: canhtak (canhtak@54F87F4D.60A12A38.BF4BC958.IP)
[17:56:07] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[17:57:11] *** Quits: mawuli (mawuli@5054574.B199513B.DE15C958.IP) (Ping timeout)
[17:57:45] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[17:58:20] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[17:58:45] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[17:58:45] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Connection reset by peer)
[17:59:11] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[17:59:38] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[17:59:51] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[18:00:14] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[18:00:45] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[18:01:58] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[18:02:55] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[18:03:20] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[18:04:59] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[18:05:28] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[18:06:05] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[18:06:27] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[18:07:40] *** Quits: kaeso (kaeso@moz-F21FF626.unstable.it) (Ping timeout)
[18:09:00] *** Quits: Jesse_ (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Quit: Jesse_)
[18:10:40] *** flaper87 is now known as flaper87|afk
[18:11:11] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Ping timeout)
[18:11:33] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[18:11:44] *** Joins: kaeso (kaeso@moz-F21FF626.unstable.it)
[18:11:55] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[18:12:17] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[18:12:53] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[18:13:43] *** Quits: GrecKo (GrecKo@moz-A7AA1BB6.fr) (Quit: No Ping reply in 180 seconds.)
[18:13:53] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[18:14:09] *** Joins: GrecKo (GrecKo@moz-A7AA1BB6.fr)
[18:14:22] *** Quits: KokaKiwi (kokakiwi@moz-D674DAC6.kokakiwi.net) (Ping timeout)
[18:16:56] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[18:21:13] *** Joins: andrew-__ (andrew-d_w@F831D131.9DFA657C.CC0301A2.IP)
[18:21:46] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[18:22:27] *** Quits: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Ping timeout)
[18:24:06] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[18:30:50] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[18:34:02] <eddyb> bleah, librustdoc
[18:39:36] <nmatsakis> erickt: pong
[18:43:43] *** Joins: brson (brson@moz-62518563.mtv2.mozilla.com)
[18:43:43] *** ChanServ sets mode: +qo brson brson
[18:44:00] *** Joins: KokaKiwi (kokakiwi@moz-D674DAC6.kokakiwi.net)
[18:50:08] <erickt> nmatsakis: good afternoon. I was just curious if you knew if pnkfelix's #5121 fix https://github.com/mozilla/rust/pull/13157 would help address the Encodable<JsonEncoder<'a>> issue you brought up the other day
[18:50:38] <nmatsakis> erickt: No, not really, that issue is more fundamental. I've been working on a sol'n the other day but am somewhat stymied by some issues related to #5121
[18:51:21] <nmatsakis> erickt: the basic problem there is that the lifetime 'a that you want to name (in the JSON encoder the way it is setup) is within the function itself,
[18:51:25] <nmatsakis> erickt: and hence the caller can't name it
[18:51:41] <nmatsakis> erickt: that is, you're asking the caller "give me sometihng that can be encoded into a buffer lasting as long as this internal part of my stack frame"
[18:52:03] <erickt> nmatsakis: ok thanks, I figured that was the case. Also, I submitted an rfc for an alternative design for Decodable that I think would avoid this issue: https://github.com/rust-lang/rfcs/pull/22
[18:52:10] <nmatsakis> erickt: anyway, my solution kind of generalizes JSON, so that you can say a bound like Encodable<JsonEncoder<MemWriteR>>
[18:52:12] *** Joins: ghrust (ghrust@C82447D.6A2AE50.F3114085.IP)
[18:52:12] <ghrust> [13rust] 15bors merged 06auto into 06master: 02http://git.io/p9FKxw
[18:52:12] *** Parts: ghrust (ghrust@C82447D.6A2AE50.F3114085.IP) ()
[18:52:37] <nmatsakis> erickt: I am not convinced this is a problem that should be solved by changing the traits (though that is one way to solve it), but I'll definitely take a look
[18:52:53] * nmatsakis knee deep in some detailed changes to spidermonkey right now
[18:53:17] <nmatsakis> erickt: I expect to be paying more attention to rust mid april or so fyi :)
[18:53:24] <erickt> :) no worries. I got to run now though, thanks for the info
[18:53:27] <erickt> I sure hope so!
[18:57:05] *** Joins: ghrust (ghrust@7BEB6F9D.6A2AE50.F3114085.IP)
[18:57:06] <ghrust> [13rust] 15bors pushed 2 new commits to 06auto: 02http://git.io/mnL2ew
[18:57:06] <ghrust> 13rust/06auto 146d3396b 15Kevin Cantu: [std::cmp] add missing docs and provide an example
[18:57:06] <ghrust> 13rust/06auto 147636bd7 15bors: auto merge of #12956 : killerswan/rust/docs, r=alexcrichton
[18:57:06] *** Parts: ghrust (ghrust@7BEB6F9D.6A2AE50.F3114085.IP) ()
[18:57:08] *** Joins: ghrust (ghrust@94BD74B8.6A2AE50.F3114085.IP)
[18:57:08] <ghrust> [13rust] 15bors pushed 0 new commits to 06auto: 02http://git.io/jKYE9g
[18:57:08] *** Parts: ghrust (ghrust@94BD74B8.6A2AE50.F3114085.IP) ()
[19:00:10] *** Joins: Jesse (jruderman@moz-62518563.mtv2.mozilla.com)
[19:02:19] *** Quits: whitglint (uid15486@moz-31ABA2C0.irccloud.com) (Quit: Connection closed for inactivity)
[19:04:34] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[19:10:49] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[19:20:53] <carter> nmatsakis: what was the outcome of your Floating point exploration?
[19:22:08] <nmatsakis> carter: besides a deep dislike for the IEEE spec? :)
[19:22:32] <carter> nmatsakis: if you have ideas of what something better would be that isn't just fixed point, for fixed size, please share
[19:22:38] <carter> theres a few follow on specs that are really cool too
[19:23:03] <nmatsakis> carter: I still fail to understand why the ordering definitions with respect to 0, -0, and NaN are helpful to anyone.
[19:23:13] <nmatsakis> but it's kind of a moot point, isn't it?
[19:23:30] <carter> i think the -0 vs 0 thing has to do with comparing finite limits
[19:23:43] <carter> you mean how they're equal, but compare as not equal?
[19:23:58] <nmatsakis> as I understand it, they compare equal, but are not equal.
[19:24:00] <carter> yes
[19:24:06] <carter> they have mathematical equality
[19:24:17] <nmatsakis> they are not equal in any sense that I can come up with
[19:24:27] <carter> umm
[19:24:28] <carter> well
[19:24:29] <nmatsakis> mathematical or otherwise
[19:24:48] <carter> nmatsakis: how much real analysis / measure theory / numerical analysis do you have?
[19:24:59] <carter> (i need to figure out how much background to use to motivate it)
[19:25:05] <nmatsakis> oh very little, but I feel like equality means: I can use A where I would use B and get the same result
[19:25:12] <carter> ah
[19:25:12] <carter> well
[19:25:14] <nmatsakis> and moreover,
[19:25:19] <carter> lets forget that for a moment
[19:25:23] <nmatsakis> I feel like floating points do not map to some precise number,
[19:25:28] <nmatsakis> but rather to a range of numbers
[19:25:28] <carter> nah, they do
[19:25:36] <nmatsakis> and hence 0 and -0 map to disjoint ranges,
[19:25:37] <carter> nope
[19:25:39] <nmatsakis> hence they behave differently
[19:25:40] <nmatsakis> not nope
[19:25:41] <nmatsakis> yes
[19:25:46] <nmatsakis> I mean, there is not infinite precision?
[19:25:51] <nmatsakis> well, I shouldn't speak so confidently,
[19:25:54] <nmatsakis> about a topic in which I am so uneducated.
[19:26:00] <nmatsakis> so educate me :)
[19:26:02] <eddyb> teehee
[19:26:05] <carter> nmatsakis: i've spent the past 2 years working on numerical computing things
[19:26:05] <eddyb> nmatsakis: I do this all the time
[19:26:10] <carter> ok
[19:26:20] <nmatsakis> carter: right, as I said, I was being presumptious :)
[19:26:22] <carter> yes
[19:26:28] <carter> i'm trying to politely call you on that :)
[19:26:49] <carter> I do agree that for fixed domain Y, the tradeoffs of IEEE floats are "wtfish"
[19:27:03] <carter> BUT, subject to "we need something that isn't a cluster on X, Y and Z"
[19:27:06] <carter> application domains
[19:27:14] <carter> floats are actually kinda nice once you talk about them
[19:27:17] <carter> so obs 1: 
[19:27:31] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[19:27:52] <carter> so whenever you do any comparision of two floats
[19:27:58] <carter> you actually dont wanna ask
[19:28:04] <carter> "are you equal or not"
[19:28:10] <nmatsakis> carter: one thing, I am actually going to hvae to go in a bit ;) but I am interested in this topic overall
[19:28:13] <carter> ok
[19:28:13] <nmatsakis> oh, yse, I agree with that
[19:28:18] <carter> you want to ask
[19:28:19] <nmatsakis> that's one of the reasons I don't understand
[19:28:26] <nmatsakis> why one would settle on such a troublesome def'n of ==
[19:28:27] <carter> "are you seperated by some Y"
[19:28:34] <carter> nmatsakis: shitty langs
[19:28:44] <carter> you shouldn't have equality of floats
[19:28:49] <carter> you should just have distance
[19:28:51] <carter> in your codes
[19:29:06] <nmatsakis> yes, agreed.
[19:29:11] <nmatsakis> I'm not sure I'd blame the language though
[19:29:15] <carter> which language?
[19:29:16] <nmatsakis> there is still a useful def'n of == to be had
[19:29:17] <nmatsakis> any language
[19:29:18] <carter> yes
[19:29:31] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[19:29:33] <carter> its just when you're not using them as Ints, you care about the distance
[19:29:35] <carter> mroe than the equality
[19:29:38] <nmatsakis> right
[19:30:19] <carter> so i kinda view floats as "you need to represent a useful grid on the real numbers with this many bits, what is the geometry of that grid of points "
[19:30:26] <nmatsakis> ok
[19:30:33] <nmatsakis> this all makes sense to me (sort of)
[19:30:37] <carter> yes
[19:30:44] <nmatsakis> but I still don't know why having 0 == -0 is useful to anyone ;)
[19:30:49] <nmatsakis> given that we shouldn't be using == anyway
[19:30:53] *** Joins: dherman (dherman@moz-B31C6965.dsl.pltn13.sbcglobal.net)
[19:30:53] *** ChanServ sets mode: +ao dherman dherman
[19:30:57] <nmatsakis> for anything mathematical
[19:31:03] <carter> nmatsakis: semantic equality != memory model equality
[19:31:08] <nmatsakis> and should (presumably) only be using it for things like hashes and so on
[19:31:24] <nmatsakis> what does semantic equality mean besides "I can use A where I would use B"
[19:31:38] *** Quits: dherman (dherman@moz-B31C6965.dsl.pltn13.sbcglobal.net) (Quit: dherman)
[19:31:38] <carter> 0 == -1 * 0
[19:31:40] <carter> in normal people math
[19:31:42] *** Joins: dherman (dherman@moz-B31C6965.dsl.pltn13.sbcglobal.net)
[19:31:42] *** ChanServ sets mode: +ao dherman dherman
[19:32:19] <carter> fact or fiction?
[19:32:20] <nmatsakis> sure, but floats are NOT normal people's math
[19:32:26] <carter> so?
[19:32:36] <carter> if i do 0 * 7 
[19:32:37] <nmatsakis> in normal people math: 0 / N == (-1 * 0) / N
[19:32:40] <carter> nope
[19:32:42] <carter> well
[19:32:43] <carter> hrm
[19:32:43] <carter> oh
[19:32:43] <nmatsakis> but not, evidently, in floats.
[19:32:47] <carter> its not?
[19:32:55] <nmatsakis> I believe that is the one place where 0 vs -0 makes a difference
[19:33:10] <nmatsakis> well I don't know that -1 * 0 yields -0
[19:33:14] <nmatsakis> I was trusting you on that
[19:33:24] <eddyb> rusti: 1/(-1 * 0)
[19:33:24] <carter> 0.0 / 7  == (-0.0) /8
[19:33:24] -rusti- task '<main>' failed at 'attempted to divide by zero', <anon>:10
[19:33:24] -rusti- application terminated with error code 101
[19:33:27] <eddyb> lol
[19:33:29] <carter> is true
[19:33:30] <carter> in ghci
[19:33:43] <nmatsakis> in particular, I think if N is infinity
[19:33:48] <eddyb> rusti: 1.0/(-1.0 * 0.0)
[19:33:48] <nmatsakis> you get different results
[19:33:49] -rusti- -inf
[19:33:49] <carter> oh
[19:33:50] <nmatsakis> inf vs -inf
[19:33:55] <nmatsakis> I realize inf is not a number,
[19:33:58] <carter> thats fine
[19:34:00] <nmatsakis> yet another reason floats are not "normal people's math"
[19:34:08] <carter> nope
[19:34:10] <nmatsakis> I feel like floats are:
[19:34:12] <nmatsakis> a useful abstraction
[19:34:17] <eddyb> rusti: 1.0/(-1.0 * 0.0 * -1.0 * -1.0)
[19:34:17] -rusti- -inf
[19:34:18] <nmatsakis> that resembles math as you know it
[19:34:20] <eddyb> rusti: 1.0/(-1.0 * 0.0 * -1.0)
[19:34:21] -rusti- inf
[19:34:22] <carter> nmatsakis: do you want me to teach real analsysis
[19:34:27] <carter> or do you want to arm chair complain
[19:34:34] <carter> we can't have both
[19:34:37] <nmatsakis> mostly I want to complain
[19:34:39] <carter> ok
[19:34:40] <carter> well
[19:34:41] <nmatsakis> to be perfectly honest ;)
[19:34:48] <carter> when you want to actually learn fun math
[19:34:50] <carter> lemme know
[19:34:51] <carter> :)
[19:34:52] <carter> :P
[19:34:57] <nmatsakis> I am interested in learning "real analysis"
[19:35:00] <carter> ok
[19:35:02] <carter> yes
[19:35:08] <nmatsakis> however, as I said, I don't know that now is the best time --
[19:35:17] <nmatsakis> but I am actually being serious.
[19:35:19] <carter> yes
[19:35:25] <nmatsakis> do you think what I wrote above is wrong?
[19:35:37] <nmatsakis> that floats are a useful abstraction that resembles math?
[19:35:41] <nmatsakis> it seems self evident to me.
[19:35:41] <carter> yes
[19:35:47] <carter> just not the math you expect
[19:35:55] <carter> its very sophicated aplied math math
[19:35:56] <nmatsakis> "normal people's math"
[19:36:09] <carter> when I say normal people math
[19:36:13] <carter> i mean applied mathematicians :)
[19:36:30] <carter> saying "i want magic precision"
[19:36:34] <carter> isn't tenable
[19:36:37] <carter> even if you have exact numbers
[19:36:37] <nmatsakis> do floats model some domain of mathematics that was invented independently of computers and floats?
[19:36:46] <carter> yes
[19:36:56] <carter> a discreteized grid on the extendend reals
[19:37:02] <carter> so combinatorics too!
[19:37:24] <carter> nmatsakis: i need to get back to working on my numerical tools :)
[19:37:28] <nmatsakis> and in this domain, what does equality mean.
[19:37:35] <carter> you dont use equality
[19:37:37] <carter> you use norms
[19:37:44] <carter> and ask "how far are you"
[19:37:46] <nmatsakis> ok
[19:37:53] <nmatsakis> so this is all what I thought before ;)
[19:37:56] <carter> :p
[19:37:57] <nmatsakis> so I'm still not seeing the answer to my question:
[19:38:01] <nmatsakis> if you're going to define equality,
[19:38:05] <nmatsakis> WHICH HAS NO USE IN YOUR MATH,
[19:38:08] <carter> nah
[19:38:10] <carter> it has uses
[19:38:11] <nmatsakis> why do you choose a broken definition?
[19:38:18] <nmatsakis> you just said "you don't use it"
[19:38:20] <carter> "am I dividing by zero or crazy shit, or something else"
[19:38:25] <carter> only for those corner cases :)
[19:38:31] <carter> nmatsakis: look at how BLAS / LAPACK use quality
[19:38:34] <carter> *equality
[19:38:37] <carter> eg
[19:38:41] <carter> lemme link you
[19:38:50] <carter> http://software.intel.com/sites/products/documentation/hpc/mkl/mklman/GUID-97718E5C-6E0A-44F0-B2B1-A551F0F164B2.htm
[19:38:58] <carter> for GEMM (genermal matrix mult)
[19:39:03] <carter> the way openblas etc do it
[19:39:17] <carter> they actually check if the constants a,b are ==0 or 1 or whatever
[19:39:21] <carter> to have special code paths
[19:39:30] <carter> that are a teeny bit faster for those common cases
[19:39:32] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[19:39:41] <nmatsakis> I'm unlikely to read that source code and extract much value :) but that sounds like an optimization, and one which would work equally well with a stricter def'n of equality
[19:39:46] <carter> nope
[19:39:50] <nmatsakis> they could as well compare == 0 || == -0
[19:39:51] <carter> why do the thing thats not the math
[19:39:55] <carter> whyyyyyyy
[19:40:00] <carter> i'm off
[19:40:00] <nmatsakis> because in the math,
[19:40:02] <carter> nope
[19:40:03] <carter> bye
[19:40:03] <nmatsakis> presumably,
[19:40:04] <carter> lalallal
[19:40:25] <nmatsakis> carter: I'm sorry I'm annoying you, but I am legitimately *trying* to understand here.
[19:41:01] <carter> yes
[19:41:08] <nmatsakis> I am still surprised to learn that you have both 0 and -0,
[19:41:14] <nmatsakis> in this math,
[19:41:17] <nmatsakis> and they are considered equal,
[19:41:18] <carter> its because theres a signed bit
[19:41:22] <nmatsakis> but behave differently in some operations.
[19:41:43] <carter> its a 1-3 hour chat to really dig into why
[19:41:51] <carter> with a board and caffeine and stuff
[19:41:51] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[19:42:07] <nmatsakis> agreed, I do think I'm unlikely to achieve enlightenment here on IRC.
[19:42:12] <carter> yeah
[19:42:15] <carter> i agree its weird
[19:42:20] <carter> and it took me a while to understand
[19:42:32] <carter> but i now think "given the constraints, i can't imagine how one would do better"
[19:42:54] *** Quits: GrecKo (GrecKo@moz-A7AA1BB6.fr) (Quit: No Ping reply in 180 seconds.)
[19:43:05] *** Joins: GrecKo (GrecKo@moz-A7AA1BB6.fr)
[19:43:06] <carter> and even if you had constant time extact reals
[19:43:13] <carter> a lot of precision issues would still exist
[19:43:34] <carter> floats just force you to think about it more :)
[19:43:44] <carter> g2
[19:43:45] <carter> g
[19:43:49] * carter happy hacking and ranting
[19:47:04] *** Joins: ghrust (ghrust@4BC7FFDD.6A2AE50.F3114085.IP)
[19:47:04] <ghrust> [13rust] 15bors pushed 4 new commits to 06auto: 02http://git.io/qefePQ
[19:47:04] <ghrust> 13rust/06auto 14bdd24b2 15Alex Crichton: rustc: Stop adding the Send bound implicitly...
[19:47:04] <ghrust> 13rust/06auto 14bb9172d 15Alex Crichton: Fix fallout of removing default bounds...
[19:47:04] <ghrust> 13rust/06auto 14f17efc7 15Alex Crichton: doc: Update the tutorial about bounds for traits
[19:47:06] *** Parts: ghrust (ghrust@4BC7FFDD.6A2AE50.F3114085.IP) ()
[19:47:52] *** Joins: victorporof_ (victorporo@13F2CEC5.7672369.D8E68FF6.IP)
[19:48:01] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[19:48:44] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[19:48:57] *** Quits: victorporof (victorporo@13F2CEC5.7672369.D8E68FF6.IP) (Ping timeout)
[19:51:04] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[19:53:30] *** Quits: andrew-__ (andrew-d_w@F831D131.9DFA657C.CC0301A2.IP) (Input/output error)
[19:53:44] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[19:53:44] *** Quits: lkuper (lkuper@87D98E32.4046EB22.428F94DD.IP) (Quit: lkuper)
[19:53:50] *** Joins: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net)
[19:59:04] *** Joins: lkuper (lkuper@87D98E32.4046EB22.428F94DD.IP)
[20:03:13] *** Quits: rook (rook@moz-DE88DB2D.hfc.comcastbusiness.net) (Ping timeout)
[20:08:21] *** Quits: lkuper (lkuper@87D98E32.4046EB22.428F94DD.IP) (Quit: lkuper)
[20:12:01] *** Joins: ghrust (ghrust@2E45E35D.6A2AE50.F3114085.IP)
[20:12:01] <ghrust> [13rust] 15bors pushed 1 new commit to 06auto: 02http://git.io/_kQOrg
[20:12:01] <ghrust> 13rust/06auto 148eaada5 15bors: auto merge of #13151 : brson/rust/dist, r=alexcrichton,brson...
[20:12:01] *** Parts: ghrust (ghrust@2E45E35D.6A2AE50.F3114085.IP) ()
[20:19:28] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[20:20:51] *** Quits: canhtak (canhtak@54F87F4D.60A12A38.BF4BC958.IP) (Quit: canhtak)
[20:21:18] *** Joins: rook (rook@moz-DE88DB2D.hfc.comcastbusiness.net)
[20:25:12] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[20:25:29] <erickt> seanmonstar: r+-ed
[20:26:44] *** Quits: jdm (jdm@moz-AC9499B2.cable.teksavvy.com) (Quit: Lost terminal)
[20:27:41] *** Quits: edwardw (edwardw@C3D32C6E.E4C8743.30C05AB6.IP) (Quit: Leaving...)
[20:32:31] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[20:32:53] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[20:34:33] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[20:34:54] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[20:35:27] *** Joins: canhtak (canhtak@54F87F4D.60A12A38.BF4BC958.IP)
[20:42:53] *** Quits: victorporof_ (victorporo@13F2CEC5.7672369.D8E68FF6.IP) (Ping timeout)
[20:47:47] *** Quits: dherman (dherman@moz-B31C6965.dsl.pltn13.sbcglobal.net) (Quit: dherman)
[20:48:54] *** Quits: aatch (James@moz-B437F499.pocketrent.com) (Quit: Leaving)
[20:49:04] *** Joins: aatch (James@moz-B437F499.pocketrent.com)
[20:49:41] * aatch has no patience for bikeshedding
[20:51:31] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[20:51:54] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[20:53:49] *** Quits: KokaKiwi (kokakiwi@moz-D674DAC6.kokakiwi.net) (Ping timeout)
[20:55:40] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[20:56:54] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[20:57:18] *** Quits: darnuria (darnuria@moz-AB6EB255.ip-91-121-133.eu) (Ping timeout)
[20:57:25] *** Joins: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net)
[20:57:25] *** ChanServ sets mode: +o tjc
[20:58:31] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[20:58:49] <carter> aatch: agreed
[20:58:52] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[20:58:59] <carter> aatch: overall, i like the core design
[20:59:18] <carter> and as long as it avoids commiting to thingsthat block fancy unportable simds, i'm happy
[20:59:21] <aatch> carter, oh, I'm talking about the shitfest in #rust that I just NOPE'd out of.
[20:59:29] <carter> tl;dr?
[20:59:31] <carter> please
[20:59:34] <carter> :)))
[20:59:47] <carter> i don't wanna try to read it
[21:00:14] <aatch> carter, imagine every inconsequential thing people bitch about with programming languages. It's that, all at once apparently.
[21:00:20] <carter> huh
[21:00:23] <carter> sooo, shoot me now
[21:00:31] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[21:00:45] <sfackler> I doubt it's worse than the "for great justice" email :P
[21:01:02] <SiegeLord> Ahaha, I remember that
[21:01:05] <carter> sfackler: speaking of emails, was my "if you like peformance and types, and you like rust and you're in nyc, come to hac nyc"
[21:01:07] <carter> ok?
[21:01:24] <eddyb> sfackler: y u remind me
[21:01:30] <carter> ?
[21:01:54] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[21:02:05] <sfackler> seems fine to me carter 
[21:02:07] <carter> k
[21:02:10] <sfackler> haskell's p. cool
[21:02:12] <carter> :)
[21:02:19] <carter> i think they're two complementary great flavors
[21:02:32] <carter> and subject to me having the time, i think theres a lot of room for tech transfer both ways
[21:02:37] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[21:02:57] *** Quits: sinistersnare (sinistersn@moz-7E48AC93.washdc.fios.verizon.net) (Client exited)
[21:03:01] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[21:03:08] <aatch> we need more carters and eddybs
[21:03:14] <carter> what'd i do?
[21:03:22] <aatch> carter, be awesome
[21:03:31] <carter> i feel like that undeserved
[21:03:40] <carter> my armchair : doing ratio is pretty skewwed
[21:04:09] <carter> brson: i just noticed yesterday the rust dev slot is no longer advertised
[21:05:12] <brson> carter: indeed
[21:05:19] <carter> lucky person
[21:05:28] <carter> i only talked myself into filling out the form 2 days ago
[21:05:33] <carter> i hate job applications
[21:06:14] <carter> speculative congrats to the lucky match )
[21:06:16] <eddyb> aatch: what's with me?
[21:06:16] <carter> :)
[21:06:32] <aatch> eddyb, also awesome :D
[21:06:41] <eddyb> aatch: the only reason you'd want more than one of me is because I'm so inefficient
[21:06:50] <carter> eddyb: i'm more inefficient
[21:06:58] <eddyb> you need a hundred monkeys to do the work of one man
[21:07:08] <aatch> eddyb, you're pretty efficient for an unpaid volunteer
[21:07:11] <aphistic> i'm a good monkey
[21:07:27] <eddyb> aatch: what if I don't you I don't do anything else all day?
[21:07:31] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[21:07:49] <carter> eddyb: you're self employed too? 
[21:07:58] <aatch> eddyb, I think accidentally most of that sentence
[21:08:00] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[21:08:09] <eddyb> aatch: oops
[21:08:13] <eddyb> aatch: what if I told you ...
[21:08:38] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[21:08:39] *** ChanServ sets mode: +ao dherman dherman
[21:08:43] <eddyb> carter: I wish (though I've done freelancing in the past). dropped out of highschool in november, currently... rusting
[21:08:49] <carter> huh
[21:09:02] <eddyb> (my bones)
[21:09:27] <eddyb> where's that fancy &T -> &[T] function?
[21:09:44] <aatch> eddyb, std::slice probably
[21:10:10] <eddyb> should I complain again about the docs?
[21:10:23] <carter> eddyb: documented complainnts are the best complaints
[21:10:28] <eddyb> http://static.rust-lang.org/doc/master/std/slice/fn.ref_slice.html
[21:10:36] <eddyb> carter: heh
[21:10:52] <eddyb> I want that link to be https://doc.rust-lang.org/master/std/slice/ref_slice
[21:11:23] <eddyb> or doc.rs as the domain, if we can get it
[21:12:06] <aatch> looks like there's a holding page or something there.
[21:12:44] <aatch> With some stuff that I *assume* is written in serbian.
[21:13:14] <carter> hha
[21:13:24] *** Joins: mediocrity (Thunderbir@moz-8A2E9A09.bredband.comhem.se)
[21:13:43] <eddyb> pub fn get_inner_tys<'a>(ty: &'a Ty) -> &'a [Ty] {
[21:13:46] <eddyb> 0 copy <3
[21:13:57] <eddyb> (previously returning Vec<@Ty>)
[21:14:59] <aatch> eddyb, nice.
[21:16:12] <carter> brson: anyways, i'm probably going to be doing a public release of my haskell numerical array stuff Â±2 days before / after april 1, i may start mulling how to port stuff to rust
[21:16:40] * carter wants HKT 
[21:16:44] <carter> :)
[21:16:50] <brson> acrichto: are you familiar with the phenominon in our build system where make always decends into the libuv makefiles even when everything is built?
[21:17:12] <brson> acrichto: I want that to go away for aesthetic reasons since it looks bad during 'make install'
[21:17:21] <brson> acrichto: spent a little time on it yesterday but couldn't pin it down
[21:17:33] <aatch> brson, some questions: 1) are you in SF? 2) if so, which office? 3) Could I come and meet some of you guys when I'm over there soon?
[21:17:42] <acrichto> brson: let me check
[21:17:46] <eddyb> brson: I have an idea
[21:17:53] <eddyb> brson: does it depend on a stamp file it never creates?
[21:18:09] <brson> carter: congrats on getting your lib out
[21:18:12] <carter> yeah
[21:18:24] <carter> still playing whackamole on some details, but its pubilc
[21:18:29] <carter> though not public alpha yet
[21:18:36] <brson> aatch: i'm in MV but commute to SF as needed. pcwalton and acrichto are in SF. you are welcome to come say 'hi' some time
[21:18:47] <carter> i've a really really nice way of supporting higher dim arrays in a nice way
[21:18:53] <pcwalton> oh hey, aatch, you're going to be in town? I'd love to say hi :)
[21:19:10] <aatch> Yeah, you know about the Hack dev day at Facebook?
[21:19:16] <pcwalton> I've heard about it
[21:19:23] <brson> eddyb: it does depend on a stamp but i think it's created
[21:19:30] <eddyb> can we have more outrage about Hack?
[21:19:44] <aatch> eddyb, only if I can stomp on your face.
[21:19:45] <brson> eddyb: what's Hack and why is it outrageous?
[21:20:02] * eddyb doesn't like that abomination created from Facebook only knowing PHP is now released onto the public
[21:20:04] <seanmonstar> Hack is Facebook's PHP++
[21:20:10] <brson> oh right
[21:20:23] <aatch> It's a nice language. I've been using it for months now.
[21:20:28] <pcwalton> I don't know anything about it but I have a ton of respect for Brian O'Sullivan
[21:20:32] <pcwalton> even if he doesn't like Rust's pointers ;)
[21:20:39] <carter> eheh
[21:20:39] <eddyb> aatch: but... but...
[21:20:41] <carter> Bos is cool
[21:20:46] <carter> aatch: what've you been using ti for?
[21:21:05] <eddyb> the solution to PHP being bad is not using PHP
[21:21:07] <aatch> carter, real work, which is more that most of the people nay-saying have done.
[21:21:19] <carter> oh, where at?
[21:21:27] <SiegeLord> One could use COBOL for real work too, heh
[21:21:36] <eddyb> SiegeLord: I want to sleep tonight
[21:21:46] <eddyb> I think I have COBOL books. maybe FORTRAN?
[21:21:54] *** Quits: mediocrity (Thunderbir@moz-8A2E9A09.bredband.comhem.se) (Quit: mediocrity)
[21:22:21] <aatch> carter, the start up I work for. We're building a new product on HHVM and Hack. We got advance access to the Hack tools.
[21:22:28] <carter> oh cool
[21:22:32] <carter> what startup is that?
[21:22:40] <aatch> carter, it's called PocketRent
[21:22:53] <aatch> online property management software
[21:23:07] <carter> hrm
[21:23:08] <eddyb> aatch: but I liked you!
[21:23:14] <carter> hack seems ok
[21:23:16] <eddyb> you were a cool guy :(
[21:23:19] <carter> what prompted using it?
[21:23:23] *** Joins: KokaKiwi (kokakiwi@moz-D674DAC6.kokakiwi.net)
[21:23:43] <aatch> carter, well we already used PHP, but for the new project we looked at using HHVM instead of Zend
[21:23:53] <carter> how much happier is life then?
[21:24:07] <eddyb> aatch: and this is why I got out of freelancing
[21:24:09] <acrichto> brson: can you reproduce the libuv making locally?
[21:24:20] <eddyb> (and will probably die of starvation but that's not relevant)
[21:24:26] <aatch> carter, I poked around in the HHVM source and found a bunch of Hack features, starting using them (somewhat incorrectly) without the tools.
[21:25:17] <brson> acrichto: yes. every time i run 'make' it does this https://gist.github.com/brson/9819283
[21:25:20] <aatch> Then I got an email from someone on the Hack team saying that they're interested in people outside of FB using Hack and gave us the tools. I've been under an NDA about it up until the launch
[21:25:24] <brson> acrichto: maybe just linux??
[21:25:32] <acrichto> brson: run this ls -l x86_64*/{rt/libuv/Release/libuv.a,rt/libuv/Makefile}
[21:25:35] <aatch> carter, Life is better with Hack though.
[21:25:36] <eddyb> aatch: was there no alternative you've considered?
[21:25:43] <acrichto> brson: what's the timestamp on those two files?
[21:25:59] <aatch> eddyb, we did. But it wasn't really worth it.
[21:26:14] <aatch> eddyb, the thing with PHP is that it's really easy to write really shit code.
[21:26:27] <eddyb> [11:04] <eddyb> why would anyone use a language that screamed "this is a hack over PHP" in its very name?
[21:26:28] <aatch> But it's possible to write very good code too.
[21:26:33] <brson> acrichto: https://gist.github.com/brson/9819283#file-gistfile2-txt
[21:26:34] <acrichto> brson: I don't think Release/libuv.a is ever getting touched, so the Makefile is always newer than libuv.a, so it always
[21:26:36] <acrichto> always builds
[21:26:39] <eddyb> aatch: I wish strcat would take part in my outrage
[21:26:54] *** Joins: darnuria (darnuria@moz-AB6EB255.ip-91-121-133.eu)
[21:27:04] *** Joins: ghrust (ghrust@49477F7E.6A2AE50.F3114085.IP)
[21:27:04] <ghrust> [13rust] 15bors merged 06auto into 06master: 02http://git.io/YuqZGQ
[21:27:04] *** Parts: ghrust (ghrust@49477F7E.6A2AE50.F3114085.IP) ()
[21:27:13] <eddyb> acrichto: https://github.com/mozilla/rust/pull/13170 r? I just fixed the only borrowck error in rustdoc, that should be it
[21:27:20] <acrichto> brson: https://gist.github.com/9819378
[21:27:32] <aatch> eddyb, I understand people not liking PHP, beginner programmers can write code that works without much trouble and that litters the landscape with all sorts of horrors.
[21:27:49] <acrichto> eddyb: you have a commit entitled "tt"
[21:27:52] <eddyb> so why patch up a broken language
[21:27:54] <eddyb> acrichto: huh?
[21:28:11] <acrichto> https://github.com/eddyb/rust/commit/ec577e9a7a525bc3620bdac70964f66c7f17521b
[21:28:11] <eddyb> did I really just... CRAP
[21:28:19] <eddyb> how do I cancel a rebase?
[21:28:28] <aatch> eddyb, because PHP is a bit like C++, theres a good language trying to escape.
[21:28:29] <acrichto> git rebase --abort
[21:28:31] <eddyb> okay, I managed
[21:28:51] <brson> acrichto: yeah, that does it. i'll put it on my dist branch. thanks
[21:28:52] <eddyb> acrichto: sorry. I just reordered and forgot to fixup
[21:29:05] <aatch> PHP isn't really *that* broken though. It's just the internet's favorite whipping boy.
[21:29:21] <acrichto> eddyb: no worries
[21:29:34] <eddyb> acrichto: fixed?
[21:29:42] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[21:29:59] <eddyb> aatch: Hack is a hack, and I feel like it's keeping PHP alive for longer than it should
[21:30:11] <aatch> eddyb, PHP wasn't going anywhere.
[21:30:45] <eddyb> aatch: this is Rust. we make our own future. quite literally
[21:30:51] * eddyb sheds a tear
[21:31:06] <carter> eddyb: chillax
[21:31:09] <carter> hack seems pretty neat
[21:31:30] <eddyb> acrichto: thanks :)
[21:31:56] <aatch> carter, you'll be pleased to know that they do plan to implement variance for type parameters eventually.
[21:32:02] *** Joins: ghrust (ghrust@4BC7FFDD.6A2AE50.F3114085.IP)
[21:32:02] <ghrust> [13rust] 15bors pushed 0 new commits to 06auto: 02http://git.io/4Ihu8w
[21:32:02] *** Parts: ghrust (ghrust@4BC7FFDD.6A2AE50.F3114085.IP) ()
[21:32:03] <carter> variance?
[21:32:03] *** Joins: ghrust (ghrust@88C0CBA2.6A2AE50.F3114085.IP)
[21:32:03] <ghrust> [13rust] 15bors pushed 4 new commits to 06auto: 02http://git.io/WFN1vA
[21:32:03] <ghrust> 13rust/06auto 14bdd24b2 15Alex Crichton: rustc: Stop adding the Send bound implicitly...
[21:32:03] <ghrust> 13rust/06auto 14bb9172d 15Alex Crichton: Fix fallout of removing default bounds...
[21:32:03] <ghrust> 13rust/06auto 148d0be73 15Alex Crichton: doc: Update the tutorial about bounds for traits
[21:32:05] *** Parts: ghrust (ghrust@88C0CBA2.6A2AE50.F3114085.IP) ()
[21:32:06] <carter> subtyping?!
[21:32:19] <carter> fully variance
[21:32:23] <carter> or record name subtyping
[21:32:23] * eddyb goes to bed to avoid more horrors
[21:32:52] <aatch> carter, could you briefly describe what "record name subtyping" is?
[21:33:24] <carter> nope
[21:33:28] <carter> literally walking outside now
[21:33:32] <carter> in 5 min
[21:33:32] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[21:33:44] <carter> look at ermine / purescript/  UR/web
[21:33:46] <carter> basically
[21:33:49] <carter> instead of subtyping
[21:33:54] <eddyb> https://github.com/eddyb/rust/commit/4138b17dd800881a06e0cf2535ae6e6d96150107
[21:33:58] <carter> you say "this argument needx these fields with tehse dayps"
[21:34:01] <carter> *these types
[21:34:08] <eddyb> just 1.5k :(
[21:34:35] <aatch> carter, oh, in that case, full variance (assuming those are the only two options)
[21:34:42] <carter> that gets tricky
[21:35:08] <aatch> I just want to be able to do `Vector<this>` (`this` being equivalent to our `Self`)
[21:35:54] *** Quits: eddyb (eddy@F8B50789.F33C1089.FB866788.IP) (Ping timeout)
[21:36:40] *** Joins: victorporof (victorporo@13F2CEC5.7672369.D8E68FF6.IP)
[21:47:32] *** Joins: jack (sid19593@moz-A42E5B7B.irccloud.com)
[21:50:31] <brson> trying to build first nightlies now
[21:50:34] *** Quits: Seldaek (seld@moz-5DEA7688.ch) (Ping timeout)
[21:51:03] *** Joins: Seldaek (seld@moz-5DEA7688.ch)
[21:52:31] <acrichto> brson: \o/
[21:53:18] <brson> after that i'll remove the doc builder, since the nightly builder does docs
[21:55:00] *** Joins: andrew-__ (andrew-d_w@F831D131.9DFA657C.CC0301A2.IP)
[21:56:13] *** Quits: andrew-d_w (andrew-d_w@moz-9A2674DF.dsl.static.sonic.net) (Ping timeout)
[21:59:01] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[21:59:23] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[22:01:08] *** Quits: NiccosSystem (NiccosSyst@moz-ED196BB4.customer.lyse.net) (Ping timeout)
[22:02:20] <kimundi> Nightlies, nice!
[22:08:02] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[22:08:24] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[22:15:40] *** Quits: sunfish (chatzilla@13F2CEC5.7672369.D8E68FF6.IP) (Ping timeout)
[22:18:15] *** Joins: NiccosSystem (NiccosSyst@moz-ED196BB4.customer.lyse.net)
[22:22:13] *** Joins: ChrisMorgan (chris@moz-8DCBEA52.vic.adsl.internode.on.net)
[22:39:35] *** Quits: victorporof (victorporo@13F2CEC5.7672369.D8E68FF6.IP) (Quit: victorporof)
[22:40:07] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[22:40:29] *** Quits: KokaKiwi (kokakiwi@moz-D674DAC6.kokakiwi.net) (Ping timeout)
[22:41:45] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[22:41:56] *** Joins: KokaKiwi (kokakiwi@moz-D674DAC6.kokakiwi.net)
[22:42:20] <acrichto> brson: do we want to build nightlies as cross compilers?
[22:42:44] <strcat> acrichto: does libnative allocate stacks itself on *nix?
[22:42:46] <brson> acrichto: idk. what are you thinking?
[22:43:03] <acrichto> brson: I'd want 64 -> 64 and 32 -> 32, but we probably don't need to build 64 -> 32 and 32 -> 64
[22:43:10] <acrichto> strcat: no, just passes through options to pthread_create()
[22:43:12] <brson> acrichto: i have it set up so that none of the installers include multiple hosts
[22:43:30] <acrichto> brson: oh, then it's probably fine
[22:43:37] <strcat> acrichto: okay good, that's what I thought
[22:43:38] <acrichto> and on second thought a nightly test of cross-compilation-ability is kinda nice
[22:43:41] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[22:43:41] <brson> even when the build is configured for multiple-hosts, 'prepare' only prepares bins for the build triple
[22:43:45] <strcat> was just wondering if we were using the glibc stack cache or our own
[22:44:03] <brson> so nightlies will test the cross, but not produce distributable cross compilers
[22:44:06] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[22:44:22] <brson> well, they'll test that the cross-config *builds*
[22:44:25] <brson> not a full test
[22:44:27] <acrichto> eh, that's fine
[22:44:32] <acrichto> that's normally good enough
[22:44:41] <acrichto> also, mac5 is definitely not working
[22:44:46] <acrichto> or at least not working at 100%
[22:44:46] <strcat> although maybe it would make sense to do the caching ourselves, since it's a quality of implementation thing for a libc to do it
[22:44:50] <acrichto> http://buildbot.rust-lang.org/buildslaves/mac5
[22:44:52] <acrichto> http://buildbot.rust-lang.org/buildslaves/mac4
[22:44:57] <acrichto> mac4 has far more builds for today
[22:44:58] <brson> acrichto: yeah, it's lame. i was doing dev on mac5 yesterday and it kept lagging
[22:45:01] <brson> something is wrong with it
[22:45:06] <brson> i'll send it to be reimaged
[22:45:12] * acrichto gasps
[22:45:22] <acrichto> it *really* didn't like the move
[22:45:41] <acrichto> brson: hm, so all its builds were restarted, so I wonder if it only builds when you restart buildbot
[22:45:42] <brson> is having it in rotation hurting us?
[22:45:46] <brson> do i need to pull it now?
[22:45:58] <acrichto> it's not really in the rotation at all
[22:46:01] <brson> k
[22:46:03] <acrichto> it hasn't built anything useful in a week
[22:46:36] <brson> fyi mw has lldb tests working and needs us to configure bots to work with lldb
[22:46:42] <brson> so, *sigh*
[22:46:46] <brson> more automation to add to the list
[22:47:05] <acrichto> :(
[22:47:06] <brson> have to move the buildmaster to ec2 first
[22:47:11] <brson> and upgrade bors
[22:47:14] <acrichto> lldb tests \o/
[22:47:24] <acrichto> I could help with automation if you want
[22:47:32] <acrichto> but it may take just as much time to bring me up to speed...
[22:47:46] <brson> i do want to teach somebody else how it works. i have a high bus factor on it
[22:47:48] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[22:47:56] <acrichto> lol
[22:48:03] <strcat> brson: do you think you could get a VM to put rusti on, along with the web interface for rust-lang.org?
[22:48:05] <acrichto> we need to get you an escort
[22:48:07] <acrichto> to avoid those buses
[22:48:11] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[22:48:16] <brson> strcat: yes
[22:48:20] <strcat> :D
[22:48:24] <bvssvni> cool
[22:48:37] <strcat> one day I'll be able to turn off my laptop
[22:48:41] <brson> lol
[22:48:42] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[22:48:48] <SiegeLord> XD
[22:49:16] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[22:49:23] <strcat> brson: it does need to be a recent distro though
[22:49:41] <strcat> fedora would work
[22:49:43] <brson> strcat: that's fine. feeling comfortable with ec2 now so we can do like anything
[22:49:46] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[22:49:49] *** Quits: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[22:49:55] <brson> thinking about other exotic vms we might want to put up for smoke tests
[22:49:58] <strcat> (or arch :P, that'd be easier due to nightlies)
[22:50:17] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[22:50:43] * aatch enters /g mode
[22:50:45] <strcat> brson: we technically already have daily building + testing on arch linux ;P
[22:50:47] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[22:50:47] <aatch> INSTALL GENTOO
[22:50:55] <strcat> that's why I get to be the one to complain about so many build issues
[22:51:03] <strcat> aatch: gentoo sucks, it's all about exherbo
[22:51:11] <strcat> exherbo, arch and nixos are the three distros I like ;)
[22:51:13] <cmr> exherbo++
[22:51:14] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[22:51:23] * aatch stops ricing
[22:51:30] *** Parts: carter (carter@moz-58F59B3A.members.linode.com) (Textual IRC Client: www.textualapp.com)
[22:51:31] *** Joins: carter (carter@moz-58F59B3A.members.linode.com)
[22:51:33] <strcat> although there are some nice gentoo devs
[22:51:38] <strcat> but there are also a lot of silly ones
[22:51:41] <acrichto> error: aborting due to 4485 previous errors
[22:51:42] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[22:51:43] <acrichto> wheeeeeee
[22:51:48] <strcat> that's pretty much why exherbo exists... too many silly gentoo devs
[22:52:04] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[22:52:18] * strcat doesn't have the patience to compile stuff for 2% perf wins
[22:52:30] <aatch> strcat, pretty much why I stopped using Gentoo.
[22:52:34] <strcat> the places where it really matters usually do their own per-platform asm
[22:52:46] <strcat> it does help significantly with firefox/chromium but meeeeeeeeeh
[22:53:04] *** Quits: darnuria (darnuria@moz-AB6EB255.ip-91-121-133.eu) (Ping timeout)
[22:53:14] <strcat> it doesn't help JS perf or video decode perf...
[22:53:24] <cmr> I always had *weird* issues with my browsers on gentoo
[22:53:48] <strcat> cmr: again, silly gentoo devs. they break a lot of stuff ;s
[22:54:08] <strcat> there are people intentionally breaking their packages with certain stuff they don't like, etc.
[22:54:16] <aatch> If I'm installing a package, I normally want to use it now. "In a few minutes" is reasonable, "In an hour", is not. 
[22:54:16] <strcat> debian has a bit of that too...
[22:55:04] <strcat> aatch: yeah, number one reason I use arch
[22:55:10] <strcat> I want it and I want it *now*
[22:55:24] <strcat> I'd go insane without easily having the latest stable releases of everything available ASAP
[22:55:32] <cmr> I've always found the idea of "ship llvm bytecode, do codegen with native features"
[22:55:38] <cmr> to be interesting
[22:55:44] <strcat> + having to build stuff myself, or make hundreds of package descriptions myself
[22:56:01] <cmr> not sure if anything before codegen cares about enabled features though
[22:56:01] <strcat> so as much as I like nixos, I probably won't use it for a while
[22:56:10] <aatch> I like Arch because it gives me the control I want over my system while making the nitty gritty decent to work with.
[22:56:28] <aatch> Also, some of the best docs I've seen
[22:56:34] <aatch> (in terms of breadth)
[22:56:43] <strcat> I use it because I get the latest stable release of all the things, and without patches upstream won't accept
[22:57:00] <strcat> + the AUR means you rarely have to write packages yourself
[22:57:12] <aatch> strcat, and even if you do, it's not exactly hard.
[22:57:12] <strcat> aatch: I wrote a lot of those docs ;)
[22:57:24] <aatch> strcat, well I thank you for it.
[22:57:25] * strcat has over 10k archwiki edits and is one of the admins ;)
[22:58:13] <aatch> ABS/pacman is much nicer than most other package managers I've seen.
[22:58:28] <cmr> Uhhh http://static.rust-lang.org/doc/master/sync/struct.Arc.html is missing all methods
[22:58:30] <strcat> especially now that makepkg has VCS support built-in
[22:58:42] <strcat> aatch: really need pacman hooks though ;s
[22:58:53] * strcat tired of wrangling groups/users in install files
[22:59:33] <aatch> strcat, I've not had to deal with it, so it's not too bad.
[22:59:36] <cmr> In fact, many types are missing all of their methods.
[22:59:55] <cmr> Probably just the ones that are reexported.
[23:00:16] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[23:00:17] <huon> cmr: there's an issue
[23:00:30] <aatch> cmr, huh, I wonder if it's related to the fix I put up a little while ago.
[23:00:35] *** Quits: NiccosSystem (NiccosSyst@moz-ED196BB4.customer.lyse.net) (Ping timeout)
[23:00:41] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[23:00:51] <acrichto> aatch: I just realized, I think it is yes
[23:00:59] <acrichto> it's stripping all private modules
[23:01:02] <acrichto> and 'mod arc;' is private
[23:01:05] <acrichto> so nothing gets hooked up
[23:01:05] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[23:01:07] <huon> cmr: https://github.com/mozilla/rust/issues/13091
[23:01:14] <strcat> aatch: https://projects.archlinux.org/svntogit/community.git/commit/trunk?h=packages/chrony&id=21323bdbd39e18bab26e0ccc6ea2701bd7ccf068 :(
[23:01:26] <aatch> I did test it locally and it looked like it worked ok. Maybe I missed something :/
[23:01:46] <huon> sounds like we need a testing infrastructure for rustdoc :)
[23:01:46] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[23:01:51] <acrichto> eh, it's ok, if we really cared about rustdoc regressions we'd write mor tests :P
[23:02:12] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[23:02:21] <strcat> users are a good test suite
[23:02:41] <aatch> users? Oh, you mean beta testers
[23:02:56] <cmr> ah that reminds me
[23:03:04] * huon `rm -rf src/test`
[23:03:06] <cmr> brson: are we going to enter some sort of freeze leading up to 1.0?
[23:03:08] <huon> lets just use the users :P
[23:03:13] <bvssvni> beta testers? oh, you mean alpha testers
[23:03:31] <bvssvni> :D
[23:03:44] <strcat> aatch: users/groups are clearly just an insane idea anyway
[23:03:54] <strcat> could be done so much better than how POSIX does it
[23:04:04] <strcat> packages should be able to drop in a file to a dir adding a user/group
[23:04:15] <strcat> passwd db is horrific
[23:04:21] * strcat shrugs
[23:04:58] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[23:05:41] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[23:05:44] * strcat forks shadow
[23:06:26] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[23:06:56] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[23:07:17] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[23:07:27] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[23:07:53] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[23:08:29] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[23:08:51] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[23:09:14] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[23:09:49] <brson> cmr: before 1.0 the dev process is going to change to a post-1.0 mode, but I don't intend a 'freeze' per se
[23:09:52] <brson> i much prefer continuous integration and delivery over release freezes
[23:10:08] <brson> so at some point we'll make it much harder to make changes to certain things
[23:10:11] <brson> before 1.0
[23:10:21] <brson> and put in place processes to avoid breaking backcompat
[23:10:41] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[23:10:41] <brson> but i'd rather not have a dev process that requires everybody stop what they are doing leading up to releases
[23:11:05] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[23:11:15] <cmr> that sounds good.
[23:11:20] <strcat> versions as branches works well
[23:11:33] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[23:11:41] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[23:11:50] <brson> i hope to avoid having multiple development branches as long as possible too, though it's inevitable for security fixes etc
[23:12:03] *** Joins: darnuria (darnuria@moz-AB6EB255.ip-91-121-133.eu)
[23:12:23] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[23:13:15] <strcat> brson: rust is a bit problematic in that many fixes are security fixes
[23:13:24] <strcat> codegen fixes or type system soundness fixes
[23:13:35] <strcat> some of which might require intensive refactoring
[23:13:37] <brson> potentially, yes. i have know idea what our security policy is
[23:13:42] <brson> - going to be
[23:13:48] <aatch> no*
[23:13:50] *** Quits: darnuria (darnuria@moz-AB6EB255.ip-91-121-133.eu) (Quit: WeeChat 0.4.3)
[23:13:56] *** Joins: darnuria (darnuria@moz-AB6EB255.ip-91-121-133.eu)
[23:14:26] <brson> i'm skeptical that we can provide much security backporting for the ~1.0 series since there will likely be no end to them
[23:14:30] <strcat> heh, that's the other thing about arch
[23:14:44] <strcat> much easier to be secure when you just follow upstream
[23:15:02] * strcat feels bad for debian packagers who have to backport stuff, and inevitably are a year behind ;s
[23:16:18] <strcat> https://security-tracker.debian.org/tracker/status/release/stable known + fixed security issues still there in debian ;)
[23:16:20] <strcat> security is hard...
[23:16:41] <strcat> (and those are just the ones packagers didn't miss)
[23:16:47] *** Quits: Leo` (Leo@moz-83832FE2.placeholder.fr) (Max SendQ exceeded)
[23:17:12] *** Joins: Leo` (Leo@moz-83832FE2.placeholder.fr)
[23:17:57] <strcat> brson: the linux kernel way is that releases are branched off, and people who care about it backport stuff
[23:18:18] <strcat> but for the most part, the process is not relevant to normal developers
[23:19:33] <strcat> brson: https://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/tree/Documentation/stable_kernel_rules.txt
[23:19:49] <strcat> linus himself doesn't ever touch the stable kernels (except to flame people now and then)
[23:21:04] *** Quits: k4nar (quassel@moz-EE8DAF45.ip-91-121-75.eu) (Quit: No Ping reply in 180 seconds.)
[23:21:17] *** Joins: k4nar (quassel@moz-EE8DAF45.ip-91-121-75.eu)
[23:22:09] <strcat> brson: so if someone reports a serious security issue, their security team will actually take care of it for stables in most cases
[23:22:24] <strcat> otherwise, it's just whatever people who care about the stables feel like backporting that's small enough
[23:22:31] *** Joins: mediocrity (Thunderbir@moz-8A2E9A09.bredband.comhem.se)
[23:23:06] <brson> that would be a great policy to be able to have since it requires no committements from us
[23:23:39] <brson> i suspect there will be significant pressure to have some commitment for security bugs
[23:24:33] <cmr> If the fixes are on master, and we don't break #[stable] code ... I don't see why we should do anything else.
[23:24:36] <strcat> brson: I think the trick is that when organizations start using rust, they'll be willing to have someone review fixes or backport stuff to their version
[23:24:39] <strcat> which is how it works for linux
[23:24:54] <strcat> brson: https://www.kernel.org/ you'll notice there are a bunch of supported stable releases there
[23:24:58] <strcat> because 'someone else' has to deal with it ;P
[23:25:53] *** Quits: mediocrity (Thunderbir@moz-8A2E9A09.bredband.comhem.se) (Quit: mediocrity)
[23:25:57] <strcat> imo rust just needs to provide the platform for them to do that
[23:26:12] <strcat> for example, allowing a volunteer who's a trusted member of the community to be the reviewer/maintainer for a stable branch
[23:26:13] <cmr> I don't think I've ever seen fixes backported onto old gcc's, though perhaps I haven't been paying attention.
[23:26:19] <strcat> we'd probably want it in another repo
[23:26:25] <strcat> (like they have a separate mailing list)
[23:26:39] <strcat> rust-1.1 repo, rust-1.2 repo, etc.
[23:27:10] <strcat> limited only by interest in community members in backporting stuff (+ mozilla could backport fixes for *serious* issues, when it gets to that point)
[23:27:56] <strcat> cmr: stuff has to be backported from master to the stable release though
[23:28:17] <strcat> cmr: 4.8 is a branch
[23:28:34] <strcat> if someone trusted actually cared enough to maintain an older branch, I think they could
[23:29:04] <strcat> cmr: http://gcc.gnu.org/develop.html could be more arrows going off to the right ;p
[23:31:06] *** Joins: mediocrity (Thunderbir@moz-8A2E9A09.bredband.comhem.se)
[23:31:16] *** Quits: mediocrity (Thunderbir@moz-8A2E9A09.bredband.comhem.se) (Quit: mediocrity)
[23:32:02] <cmr> brson: would it be possible for the try bots to set VERBOSE=1 ?
[23:32:20] *** Joins: ghrust (ghrust@B750D19A.6A2AE50.F3114085.IP)
[23:32:20] <ghrust> [13rust] 15bors merged 06auto into 06master: 02http://git.io/WFN1vA
[23:32:20] *** Parts: ghrust (ghrust@B750D19A.6A2AE50.F3114085.IP) ()
[23:34:21] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[23:37:02] *** Joins: ghrust (ghrust@49477F7E.6A2AE50.F3114085.IP)
[23:37:02] <ghrust> [13rust] 15bors pushed 0 new commits to 06auto: 02http://git.io/5gWGVA
[23:37:02] *** Parts: ghrust (ghrust@49477F7E.6A2AE50.F3114085.IP) ()
[23:39:03] <brson> cmr: yes. do you need it right now? I have several changes queued up for the next restart
[23:39:12] <cmr> brson: no.
[23:41:17] <huon> did I see talk of official nightly builds being imminent?
[23:41:32] *** Joins: tjc (tjc@moz-7EE2AFFC.hfc.comcastbusiness.net)
[23:41:32] *** ChanServ sets mode: +o tjc
[23:42:00] *** Joins: ghrust (ghrust@99CAE845.6A2AE50.F3114085.IP)
[23:42:00] <ghrust> [13rust] 15bors pushed 0 new commits to 06auto: 02http://git.io/5gWGVA
[23:42:00] *** Parts: ghrust (ghrust@99CAE845.6A2AE50.F3114085.IP) ()
[23:42:00] *** Joins: ghrust (ghrust@511FAEBD.6A2AE50.F3114085.IP)
[23:42:00] <ghrust> [13rust] 15bors pushed 2 new commits to 06auto: 02http://git.io/7g3V_g
[23:42:00] <ghrust> 13rust/06auto 1407aae2a 15Alex Crichton: native: Use WNOHANG before signaling...
[23:42:00] <ghrust> 13rust/06auto 14299c455 15bors: auto merge of #13131 : alexcrichton/rust/issue-13124, r=brson...
[23:42:01] *** Parts: ghrust (ghrust@511FAEBD.6A2AE50.F3114085.IP) ()
[23:43:15] <brson> huon: they will be available tonight. i'll make an announcement
[23:44:20] <sfackler> woo!
[23:45:14] <brson> i'm also going to put up a little script so we can just `curl http://rust-lang.org/rustup.sh | sh` to stay up to date
[23:46:11] <brson> actually `curl http://rust-lang.org/rustup.sh | sudo sh`
[23:47:11] <strcat> oh good, I have 268 emails since yesterday
[23:49:27] <strcat> acrichto: if you have Vec<T> internally, I think you should return ~[T]
[23:49:33] <strcat> because otherwise it's going to need to call shrink_to_fit
[23:49:39] <strcat> and the caller may want to push to it later
[23:49:54] <strcat> for good allocator support free will need to take a length
[23:50:08] <andrew-__> brson: i realize this is lots to ask, but: https please? :)
[23:50:41] <strcat> I consider it somewhat unfortunate that ~[T] will exist again
[23:51:05] <brson> andrew-__: not yet, sadly. why do you need it?
[23:51:20] *** Joins: jdm (jdm@FCCEA34F.7672369.D8E68FF6.IP)
[23:51:32] <andrew-__> brson: as in, if you're putting up a script that people will curl and pipe into 'sudo sh', it would make me very happy to have https :)
[23:51:48] <andrew-__> brson: i realize this is not something that is doable overnight ... or even remotely quickly
[23:51:54] <brson> oh, sure
[23:52:10] <brson> i'm not going to recommend this as the way for people to install rust generally
[23:52:13] <brson> just a secret for us
[23:52:16] *** Quits: eibwen (kvirc@moz-23942A6F.dip0.t-ipconnect.de) (Ping timeout)
[23:52:18] <strcat> andrew-__: the rust releases are signed
[23:52:34] <brson> but the signatures are distributed via http ...
[23:52:46] <strcat> brson: sure, but someone can't make a signature on your behalf
[23:52:47] <brson> we'll get https eventually
[23:53:02] <strcat> yeah, it should be https
[23:53:28] <andrew-__> strcat: the issue (albeit farfetched) is someone changing the shell script in transit to do something malicious
[23:53:40] <strcat> andrew-__: doesn't the shell script come from the tarball though?
[23:53:53] <andrew-__> strcat: in the case above, that is - grabbing it directly from the site
[23:53:55] <brson> this rustup.sh is just a tiny script that fetches the tarball
[23:54:01] <brson> it's not signed itself
[23:54:01] <strcat> ah
[23:54:22] <strcat> the snapshots should be signed too
[23:54:48] <strcat> https is great and all, but I don't really trust the turkish government to not issue a cert for rust-lang.org via turktrust (they've done similar stuff before)
[23:55:03] <strcat> or hey, the US government ;p
[23:55:30] <andrew-__> yeah, that's definitely something to worry about.  though it might be a bit premature to get rust-lang.org onto chrome's cert pinning list :P
[23:55:39] <andrew-__> (/ ff's list, for that matter)
[23:56:06] <strcat> makepkg automatically checks the signature when I build the arch package which is nice
[23:56:19] <strcat> but the snapshots are a bit worrying
[23:56:27] <strcat> someone could hijack s3 or wherever they come from
[23:56:38] <strcat> (or the dns, or use an evil tls cert)
[23:57:05] <andrew-__> web security is hard :(
[23:57:15] *** Joins: mediocrity (Thunderbir@moz-8A2E9A09.bredband.comhem.se)
[23:57:21] <strcat> hijack dns -> point dns at other site with a valid cert that you hacked (lets say nytimes.com)
[23:57:32] <strcat> and dns is totally broken ;p
[23:57:34] <brson> automatic signing is a can of security worms i don't want to deal with yet
[23:57:46] <brson> and i'm not about to start manually signing every snap and nightly
[23:57:48] <strcat> brson: well, you'd want a separate gpg key for that
[23:57:55] *** Quits: mediocrity (Thunderbir@moz-8A2E9A09.bredband.comhem.se) (Quit: mediocrity)
[23:57:58] <strcat> build server key, marked clearly as such
[23:58:13] <andrew-__> brson: yeah, that sounds like a nightmare.  how does FF deal with that kind of stuff?
[23:58:51] <brson> i'm sure there are lots of internal security reviews involved
[23:59:04] <brson> don't know what  ff does
[23:59:33] *** Joins: mediocrity (Thunderbir@moz-8A2E9A09.bredband.comhem.se)
[23:59:44] *** Quits: mediocrity (Thunderbir@moz-8A2E9A09.bredband.comhem.se) (Quit: mediocrity)
