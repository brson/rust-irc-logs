[00:00:17] <strcat> nmatsakis: I think you can still add comments
[00:00:23] <strcat> you need to pick a specific commit to comment on though
[00:02:20] <McPherrin> Is there any interest in having Rust support members of a struct smaller than a byte?
[00:02:41] <McPherrin> or good way of doing this already? (iirc there's a bitset somewhere)
[00:03:04] *** Quits: johns (johns@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[00:03:24] *** Joins: johns (johns@moz-BBE3ABD.mv.mozilla.com)
[00:03:28] *** Quits: yota (sdouche@moz-7D878FB8.securactive.net) (Ping timeout)
[00:03:38] *** Parts: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net) ()
[00:03:44] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[00:04:02] *** Joins: yota (sdouche@moz-7D878FB8.securactive.net)
[00:04:28] *** Joins: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP)
[00:04:41] <McPherrin> I might end up just writing a macro that generates code using a wrapped *u8 which gives me more flexibility anyways
[00:05:14] <McPherrin> like generating pretty fmt::Defaults
[00:05:43] *** Quits: alan (alan@32702EE8.939109B2.FB082A98.IP) (Quit: alan)
[00:07:35] *** Joins: robertknight (robertknig@moz-54528EE0.wby.mendeley.com)
[00:07:40] *** Quits: tjc (tjc@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: zzzzzzzzzz)
[00:07:59] <nmatsakis> strcat: I tried that but found myself unable?
[00:08:06] <nmatsakis> strcat: I'll perhaps try again though
[00:08:30] <strcat> nmatsakis: maybe you can only comment the diff for the commit, but it definitely works
[00:09:20] *** Quits: Jesin (Jessin_@moz-52A42BDD.cc.lehigh.edu) (Ping timeout)
[00:09:20] *** Quits: robertknight (robertknig@moz-54528EE0.wby.mendeley.com) (Ping timeout)
[00:10:52] <aatch> We're finally going to have multiple lifetime parameters on types?!
[00:11:06] * aatch is exceedingly happy
[00:11:58] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.2)
[00:12:44] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[00:14:32] *** Quits: fhahn (fhahn@moz-7924DB5C.vie.surfer.at) (Ping timeout)
[00:14:52] <kmc> ooh
[00:15:32] *** Quits: aeqwa (aeqwa@moz-634131FA.dsl.tropolys.de) (Quit: WeeChat 0.4.3-dev)
[00:15:59] *** jorendorff is now known as jorendorff_away
[00:16:09] *** Quits: nejucomo (Adium@moz-434492BB.dsl.static.sonic.net) (Quit: Leaving.)
[00:17:11] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[00:21:36] *** Quits: ozten (ozten@moz-DD3B00B4.hsd1.wa.comcast.net) (Quit: ozten)
[00:22:19] *** Joins: fhahn (fhahn@moz-7924DB5C.vie.surfer.at)
[00:22:59] *** Joins: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP)
[00:23:05] *** Quits: ofeldt (ofeldt@moz-E11B987D.dip0.t-ipconnect.de) (Ping timeout)
[00:23:09] *** Quits: johns (johns@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[00:23:26] *** Joins: johns (johns@moz-BBE3ABD.mv.mozilla.com)
[00:26:40] *** Quits: toddaaro (toddaaro@moz-98F46974.us) (Ping timeout)
[00:26:50] *** Joins: ofeldt (ofeldt@moz-E11B987D.dip0.t-ipconnect.de)
[00:30:54] *** Quits: doctor (root@1818E56D.5A29975A.67659D25.IP) (Ping timeout)
[00:31:57] *** Quits: skeet70 (skeet70@moz-496E571A.msu.montana.edu) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[00:34:10] *** Joins: variable (root@1818E56D.5A29975A.67659D25.IP)
[00:34:54] *** Joins: tjc (tjc@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[00:34:55] *** ChanServ sets mode: +o tjc
[00:35:24] *** Quits: tjc (tjc@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: Places to go, people to annoy)
[00:40:39] *** Joins: DAddYE_ (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[00:40:59] *** Quits: DAddYE_ (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Client exited)
[00:41:08] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (No route to host)
[00:41:19] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[00:43:31] *** Quits: johns (johns@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[00:43:50] *** Joins: johns (johns@moz-BBE3ABD.mv.mozilla.com)
[00:45:56] *** Joins: skeet70 (skeet70@moz-697F48F2.bzm-mt.client.bresnan.net)
[00:47:40] *** Joins: toddaaro (toddaaro@moz-98F46974.us)
[00:48:52] *** Joins: jstevans (Instantbir@moz-A59250C7.bootp.virginia.edu)
[00:48:54] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Client exited)
[00:49:22] *** Quits: toddaaro (toddaaro@moz-98F46974.us) (Ping timeout)
[00:50:08] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[00:53:17] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[00:54:36] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Client exited)
[00:54:42] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Client exited)
[00:54:57] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[00:55:07] *** Quits: KindOne (KindOne@moz-579149B3.dynamic.ip.windstream.net) (Ping timeout)
[00:55:22] *** Joins: echristo (echristo@60A74940.D6CCE4AE.77834EAA.IP)
[00:55:24] *** Joins: Jesin (Jessin_@moz-52A42BDD.cc.lehigh.edu)
[00:56:39] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Ping timeout)
[00:56:39] *** Joins: pnathan (Adium@moz-EF4F82C8.tukw.qwest.net)
[00:57:16] *** Quits: dbaupp (Thunderbir@moz-B3C9E9E8.lns20.syd6.internode.on.net) (Ping timeout)
[00:57:59] *** Joins: toddaaro (toddaaro@moz-98F46974.us)
[00:58:42] *** Joins: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net)
[00:58:44] *** Joins: KindOne (KindOne@moz-579149B3.dynamic.ip.windstream.net)
[01:00:13] <Sharp> Question for those in the know: where can I find a formal specification of Rust's ABI?
[01:00:23] <strcat> there isn't a stable ABI
[01:00:42] <Sharp> Does that mean I can change it, if there's a good reason?
[01:00:57] <strcat> yes
[01:01:27] <Sharp> Cool, thanks.  I don't know that I'll have to, I just imagine this could become an issue if I change how tuple structs are represented.
[01:02:02] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[01:03:03] *** Quits: johns (johns@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[01:03:28] *** Joins: johns (johns@moz-BBE3ABD.mv.mozilla.com)
[01:03:42] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Ping timeout)
[01:05:00] *** Quits: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP) (Ping timeout)
[01:05:08] <ChrisMorgan> task '<unnamed>' has overflowed its stack
[01:05:10] *** Quits: KindOne (KindOne@moz-579149B3.dynamic.ip.windstream.net) (Ping timeout)
[01:05:10] *** Quits: geoffhill (geoffhill@moz-244CF33A.amazon.com) (Ping timeout)
[01:05:23] <ChrisMorgan> [1]    22186 illegal hardware instruction (core dumped)  build/examples/client/example http://example.com/
[01:05:30] <ChrisMorgan> Ooh, fun :-)
[01:05:43] <strcat> LLVM's llvm.trap intrinsic does that to get a core dump
[01:07:55] <ChrisMorgan> That was me attempting to replace a ~self with self in rust-http in a place where the ~self was there because of a by-value self bug. Seems like it still doesn't work, but is now being caught in some way (it used to just segfault)
[01:08:12] *** Joins: raze (raze@moz-4E6675AF.bredband.comhem.se)
[01:08:55] <mletterle> "Does that mean I can change it, if there's a good reason? " Isn't that like.. everything up until 1.0?
[01:09:27] <Sharp> Well… a good reason like "more efficient" rather than "it's broken right now"
[01:09:36] <ChrisMorgan> mletterle: not universally; resistance to significant change is steadily increasing.
[01:09:51] *** Quits: zz_kimundi (kimundi@moz-E3DE4244.dip0.t-ipconnect.de) (Ping timeout)
[01:10:08] <ChrisMorgan> Some things: sure, there's good reason to change it, but it'll take five years to change it and we simply don't have that time for 1.0.
[01:10:09] *** Quits: ofeldt (ofeldt@moz-E11B987D.dip0.t-ipconnect.de) (Ping timeout)
[01:10:19] *** Joins: KindOne (KindOne@moz-D0FB2EE4.dynamic.ip.windstream.net)
[01:10:34] *** Quits: heftig (heftig@moz-C04B16C1.dip0.t-ipconnect.de) (Ping timeout)
[01:11:06] *** Joins: ktt3ja (Mibbit@moz-6B6EE8C0.hsd1.va.comcast.net)
[01:11:14] *** Joins: zz_kimundi (kimundi@moz-E3DE4244.dip0.t-ipconnect.de)
[01:11:24] *** Joins: ofeldt (ofeldt@moz-E11B987D.dip0.t-ipconnect.de)
[01:11:42] *** zz_kimundi is now known as kimundi
[01:12:00] *** Joins: heftig (heftig@moz-C04B16C1.dip0.t-ipconnect.de)
[01:12:29] *** Quits: ktt3ja (Mibbit@moz-6B6EE8C0.hsd1.va.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[01:12:55] *** Joins: ktt3ja (Mibbit@moz-6B6EE8C0.hsd1.va.comcast.net)
[01:14:40] <raze> How do you make a unicode char litteral? I've tried both '\u222B' and 'u+222b' and it doesn't seem to work.
[01:14:41] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[01:14:56] *** Quits: tautologico (shung@703660AA.CFE755C8.C27E1635.IP) (Quit: tautologico)
[01:15:32] <mletterle> Fair enough
[01:16:18] *** Joins: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net)
[01:16:27] <ChrisMorgan> raze: '\u222b' is right
[01:17:01] *** Quits: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com) (Ping timeout)
[01:17:04] *** q66_ is now known as q66
[01:17:34] *** Joins: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com)
[01:17:41] <hoverbear> Hmmm... I wonder if I could implement websockets in rust.
[01:17:54] <raze> huh oh yeah works, must have been something else.. thanks :)
[01:18:16] <ChrisMorgan> (My general feeling is that lowercase is the preferred style for the hex digits, but uppercase works fine too.)
[01:18:45] <ChrisMorgan> hoverbear: there is at least one utterly-minimal-and-incomplete implementation of websockets extant.
[01:18:56] * ChrisMorgan loves the word "extant"
[01:19:32] <hoverbear> ChrisMorgan: I'm sort of digging for a project in my networking class. We can propose alternatives to the standard RDP C web server.
[01:20:03] <ChrisMorgan> hoverbear: go for it! A complete implementation would be great.
[01:20:08] <hoverbear> Was also considering a TURN server since it would demonstrate the ability to navigate NAT.
[01:20:29] <ChrisMorgan> The prototype that I've seen of websockets in Rust hard-coded all the magic numbers.
[01:20:36] *** Joins: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net)
[01:20:37] <hoverbear> Ew.
[01:20:49] <ChrisMorgan> It was just that—a prototype, proof of concept.
[01:21:44] <hoverbear> ChrisMorgan: I have about 40-ish hours I can spend on it before it's due, don't know rust much at all.
[01:21:51] *** Quits: ofeldt (ofeldt@moz-E11B987D.dip0.t-ipconnect.de) (Ping timeout)
[01:22:25] <hoverbear> So mine would likely be similar until I could put more time into it
[01:22:54] <ChrisMorgan> hoverbear: you should find the TCP layer fairly easy to work with (you can look at my own rust-http to see how some things are done in it).
[01:23:27] <hoverbear> ChrisMorgan: That's great, I'm not really enjoying C's methodologies and Node.js's callbacks are lame.
[01:24:02] *** Joins: tjc (tjc@moz-211B6A6B.dedicated.static.sonic.net)
[01:24:02] *** ChanServ sets mode: +o tjc
[01:24:25] <ChrisMorgan> I implemented an HTTP server in C last year for an assignment in an "Advanced Programming" unit. I enjoyed it *enormously* but I've heard nothing but negative feedback from other students on it. Weird.
[01:24:50] <hoverbear> It's because it's functional
[01:25:55] *** Joins: ofeldt (ofeldt@moz-E11B987D.dip0.t-ipconnect.de)
[01:25:56] <ChrisMorgan> My HTTP server was successful, but it would have been much easier in Rust as it is now (it probably wasn't at all suitable then).
[01:26:33] <hoverbear> All student's learn here the first two years is Java, then they have to all learn C for high level classes (with no instruction) and then learn prolog after learning Lambda calculus. :-P
[01:26:54] <Sharp> That seems like a very sensible course of instruction, except for the Java bit.
[01:26:57] *** Quits: Yeri (jasonjasmi@BA0CD88C.B2E00889.31F69D78.IP) (Quit: Yeri)
[01:27:04] <hoverbear> Some C instruction would be great too
[01:27:10] <Sharp> Heh, yeah.
[01:27:33] <hoverbear> Either way, their experience with functional langauges is simply academic
[01:27:55] <Luqman> hoverbear: here's a really simple tcp server that simply spits back the clients ip & port
[01:27:57] <Luqman> https://gist.github.com/luqmana/12a9ecf94720b23b4e61
[01:28:26] <hoverbear> Luqman: Whoa! Thank you so much!
[01:28:27] *** Quits: diegoyam (quassel@FF9B1514.A4EC3D18.3A1EC144.IP) (Ping timeout)
[01:28:36] *** Quits: pnathan (Adium@moz-EF4F82C8.tukw.qwest.net) (Quit: Leaving.)
[01:29:17] <ChrisMorgan> hoverbear: I've answered a couple of Rust TCP-related questions on Stack Overflow, too, with examples.
[01:29:30] <hoverbear> I had a half working implementation in 0.7
[01:29:37] <hoverbear> Of a tcp http 1.0 server
[01:29:47] <hoverbear> Sorry, return as a space bar etc.
[01:29:49] *** Quits: nkoep (nik@moz-5DB02B84.pool.mediaways.net) (Client exited)
[01:30:10] <ChrisMorgan> Using extra::net, I presume?
[01:30:18] <Sharp> Wait, did rusti die?
[01:30:23] <ChrisMorgan> cmr: rusti?
[01:30:41] <hoverbear> ChrisMorgan: I'm not sure
[01:30:41] <pcwalton> acrichto: r? https://github.com/mozilla/rust/pull/10187
[01:30:52] *** Quits: pcwalton (pcwalton@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[01:30:59] <Luqman> ChrisMorgan: i have an identd back from 0.6 that used extra::net somewhere
[01:31:00] <strcat> Sharp: yes
[01:31:06] <Luqman> i want to update it one of these days
[01:31:14] <strcat> rust no longer runs in the sandbox
[01:31:20] <strcat> I don't know what's wrong
[01:31:23] <ChrisMorgan> hoverbear: old runtime stuff was extra::net::*, new stuff is std::rt::io::net::*
[01:31:31] <Sharp> :(
[01:31:35] * ChrisMorgan is somehow forever confusing strcat and cmr
[01:31:37] <strcat> it deadlocks
[01:32:24] <ChrisMorgan> Luqman: I've given up on getting Rust to work on my ARM tablet for the moment owing to this glibc 2.17 dependency :-(
[01:32:25] <Sharp> What happens when you gdb it?
[01:32:27] <hoverbear> It would be awesome if it took gists too. *Nudge nudge*
[01:33:09] <hoverbear> strcat: What do you mean deadlock?
[01:33:36] <strcat> it calls futex and never returns
[01:34:04] * Sharp just searched for futex and got no results :P
[01:34:17] <hoverbear> fast user mtuex
[01:34:22] <hoverbear> mutex*
[01:34:23] <Luqman> ChrisMorgan: i have a build you could try that was built against 2.13
[01:34:33] <Sharp> Ah, thanks.
[01:34:43] <hoverbear> I have some slides on it
[01:34:44] <hoverbear> One sec
[01:34:58] <ChrisMorgan> Luqman: I haven't been able to get a newer Ubuntu release to work on my tablet, as 13.04-13.10 are armhf only, and the release I'm using at present is armel, and I can't find a suitable preinstalled image that I can mount. :-(
[01:35:09] <ChrisMorgan> Luqman: that'd be nice
[01:35:43] <Luqman> ChrisMorgan: http://luqman.ca/stage0-snapshots/rust-stage0-2013-10-29-fed48cc-linux-arm-f5e1f0f5c8d0179521118b391d5d2fea19ff8f1e.tar.bz2
[01:37:05] * ChrisMorgan typed that URL out on his tablet successfully first time
[01:38:28] <hoverbear> Sharp: https://www.sharefest.me/e2ab09d5
[01:38:34] <hoverbear> Sharp: Page 23.
[01:38:37] <Sharp> Thanks muchly.
[01:39:03] <Sharp> Aw man, I have to download Chrome.
[01:39:16] <hoverbear> Sharp: Do you have a file upload service I can use?
[01:39:18] <hoverbear> Or email?
[01:39:28] <Sharp> I have email!
[01:39:51] <ChrisMorgan> Luqman: it works! :-)
[01:40:06] <Luqman> ChrisMorgan: awesome :D
[01:40:33] *** Quits: KindOne (KindOne@moz-D0FB2EE4.dynamic.ip.windstream.net) (Ping timeout)
[01:40:45] <hoverbear> Sharp: Sent. :)
[01:40:50] <Sharp> Thanks again!
[01:41:10] <ChrisMorgan> Luqman: is that lower dependency because of the OS you're building on?
[01:41:42] <Luqman> ChrisMorgan: yep, i built it on debian wheezy
[01:42:02] <Luqman> though i do have other builds from a debian testing machine too
[01:42:52] <Luqman> ChrisMorgan: oh, btw does it complain about not finding std if you try compiling something?
[01:43:13] <ChrisMorgan> Luqman: BTW, when I was saying that I couldn't build rustc on my tablet, storage was also part of the reason; with a total of 16GB of storage (2GB on my Ubuntu loop disk, but there's the containing ext4 partition I could use) I don't have much space to play with something that takes >2GB of storage space when compiling.
[01:43:58] <ChrisMorgan> Luqman: it does
[01:44:20] <ChrisMorgan> Luqman: I just hadn't got that far due to having a version of the code with @Writer, so it was failing before that
[01:44:58] *** Joins: KindOne (KindOne@moz-D3D9D2E9.dynamic.ip.windstream.net)
[01:45:22] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Quit: Gone to save the world!)
[01:45:28] <Luqman> ChrisMorgan: ah, so you can just copy lib/lib*.so to lib/rustc/arm-unknown-linux-gnueabi/lib/
[01:46:42] <ChrisMorgan> Ah yes, I do vaguely recall that step now.
[01:47:08] <ChrisMorgan> "cannot find -lmorestack" in linking with cc.
[01:47:37] <ChrisMorgan> (Same result as when I just added the lib directory with -L as an interim measure.)
[01:47:51] <hoverbear> Sharp: He shows several failed attempts that "look like they should work", so you can see possible design flaws.
[01:48:03] <Sharp> Yeah, I'm reading them now--very enlightening
[01:48:22] <hoverbear> Sharp: My fav prof.
[01:48:29] * Sharp likes your professor :)
[01:48:55] *** Quits: azakai (alon@moz-BBE3ABD.mv.mozilla.com) (Quit: Ex-Chat)
[01:48:59] <ChrisMorgan> Luqman: I think that there should be a libmorestack.a in lib/rustc/arm-unknown-linux-gnueabi/lib?
[01:49:15] <Luqman> ChrisMorgan: i guess the snapshot script doesn't package that
[01:49:27] <ChrisMorgan> Curious. Wonder why.
[01:49:31] <Luqman> oh right, because it just builds a copy itself
[01:49:36] <Luqman> along with everything else
[01:49:53] <brson> snapshots are just enough to run the compiler
[01:50:03] <brson> though we're going to start doing nightly binaries of everything ... son
[01:50:11] <ChrisMorgan> And the compiler doesn't need libmorestack?
[01:50:13] <brson> .. soon
[01:50:34] <brson> ChrisMorgan: no, morestack is statically linked to every crate
[01:50:39] <brson> so rustc already has it
[01:50:41] <Luqman> ChrisMorgan: http://csclub.uwaterloo.ca/~laden/libmorestack.a
[01:50:45] <ChrisMorgan> Ah, I perceive.
[01:50:52] *** Quits: TeXitoi (texitoi@moz-EA958D66.texitoi.eu) (Ping timeout)
[01:51:00] *** Joins: TeXitoi (texitoi@moz-EA958D66.texitoi.eu)
[01:52:09] <ChrisMorgan> Hmm, "linking with `cc` failed with code 1082157384".
[01:52:33] <ChrisMorgan> And no explanation of what the error was. :-(
[01:53:19] <hoverbear> Sharp: :)! I've been talking with him about rust and docker.
[01:54:06] <Sharp> What are his thoughts?  Is he going to teach the second class in Rust? :P
[01:54:48] *** Joins: johnmurray (jmurray@40511FB.62885029.A0D3DFE2.IP)
[01:55:04] *** Joins: rtm9zc (Mibbit@moz-51CD7743.herm.dmt.ntelos.net)
[01:55:30] <hoverbear> Sharp: No he's very traditional
[01:55:35] <brson> Luqman: so you have arm snapshots now?
[01:55:46] <hoverbear> Sharp: He finally moved to Postgres this year.
[01:55:58] <Sharp> From what?  DB2?
[01:56:14] <hoverbear> Sharp: I think it was Oracle
[01:56:22] <Sharp> Ah, okay.
[01:56:29] <Luqman> brson: yep, and it gets all the way to compiling libstd but OOMs since i only have ~128mb of ram :P
[01:56:36] <Sharp> I'm actually not certain that Oracle started up that long before Postgres.
[01:56:45] <hoverbear> Sharp: He said it's his first time using postgres and I know it used to be taught in Oracle
[01:56:49] <Sharp> But that's more because I'm ignorant of DB history.
[01:57:16] <hoverbear> Sharp: Yeah, I don't know/care.
[01:57:20] <adarq> hey, im sure this has been asked 1000 times.. but how would i "convert" a string to a uint? i don't want to use libc::atoi etc... can't seem to figure it out
[01:57:48] <Sharp> Postgres has copied enough of Oracle's features at this point that I imagine it's not too tricky a drop-in replacement.
[01:57:59] <ChrisMorgan> Luqman: in spite of this apparent link failure with a weird code (different each time, but always absurdly high), the binary is created and seems to function correctly for trivial ones at least.
[01:58:14] <ChrisMorgan> It does leave a .o file around, though.
[01:58:20] <hoverbear> adarq: Article from 2012 (so probably not accurate) http://garykwong.wordpress.com/2012/03/05/rust-made-easy-part-1/ 
[01:58:54] *** jorendorff_away is now known as jorendorff
[01:58:57] <hoverbear> adarq: More, 7 months ago (so probably not accurate) https://github.com/cfurrow/My-thoughts-on-Rust
[01:58:58] <ChrisMorgan> adarq: FromStr::from_str
[01:59:22] <Luqman> ChrisMorgan: weird, i'll investigate later. thanks!
[01:59:28] <adarq> thanks folks, will check
[01:59:39] *** Quits: tjc (tjc@moz-211B6A6B.dedicated.static.sonic.net) (Quit: zzzzzzzzzz)
[01:59:50] <ChrisMorgan> Luqman: I think this one is unlikely to be your fault.
[02:00:11] <ChrisMorgan> There, `make check` is finally functional once more for me! :-)
[02:00:15] <aatch> sfackler, ping
[02:00:35] *** Quits: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com) (Ping timeout)
[02:00:56] *** Quits: rtm9zc (Mibbit@moz-51CD7743.herm.dmt.ntelos.net) (Quit: http://www.mibbit.com ajax IRC Client)
[02:01:01] <sfackler> aatch: pong
[02:01:53] <aatch> sfackler, looking at rust-ssl, I'm having trouble figuring out how it's supposed to be used, rustpkg?
[02:02:05] <Luqman> ChrisMorgan: hmm so i see the same issue but the odd thing is if i run cc with the right args manually the status is 0 but rustc doesn't seem to think so
[02:02:09] *** Quits: FreeFull (freefull@E8BE3E80.34BA17B9.CAF63861.IP) (Ping timeout)
[02:02:22] <ChrisMorgan> OK, rustc isn't working entirely; -O is broken, gives LLVM "scope imbalance" failure in "Early CSE" pass.
[02:02:36] *** Joins: FreeFull (freefull@53823EC.48D46712.5872C891.IP)
[02:02:37] <sfackler> It should work with rustpkg. "extern ssl = "github.com/sfackler/rust-ssl";"
[02:02:45] <sfackler> it's still very much a beta thing fyi
[02:03:07] <Sharp> Futexes are hardware supported, or kernel?  I assume if the operations are truly atomic it's hardware.
[02:03:09] <ChrisMorgan> Luqman: could be a bug in rustc soundness, getting the return code the wrong way
[02:03:15] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[02:03:25] <aatch> sfackler, yeah, but it's also mostly a wrapper, so the actual SSL stuff *should* be solid, right?
[02:03:34] <sfackler> yep
[02:03:51] <Sharp> Or do they just rely on CAS?
[02:03:51] <sfackler> it seems to be a bit wonky on travis, though
[02:03:56] <sfackler> not sure what's up with that
[02:04:10] <sfackler> server certificate validation is also not really super usable
[02:04:31] <hoverbear> Sharp: Not sure. This is kernel level code he's trying to show how it works.
[02:04:57] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[02:05:05] <Sharp> Right, yeah, they stopped letting threads into the user space a while ago :)  Just curious.
[02:05:09] <Luqman> ChrisMorgan: also, i don't know how well llvm is supported on arm
[02:05:20] <hoverbear> Sharp: It looks like it relies on CAS.
[02:05:38] <Sharp> The algorithm he gave does, I just wasn't sure if that (or a slightly modified version) is what's actually used.
[02:05:39] <ChrisMorgan> Luqman: it certainly looks like there are soundness problems with -O.
[02:05:57] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[02:06:03] <hoverbear> Sharp: It's probably a simplified algorithm to fit on a slide.
[02:06:22] <Sharp> Who knows?  I imagine it has to run pretty quickly :D
[02:06:32] <hoverbear> Heck yeah.
[02:07:02] <hoverbear> Incredible, someone make a JVM on node.js.
[02:07:24] *** Quits: jgilbert (jgilbert@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[02:07:38] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[02:07:56] <Sharp> Too bad it wasn't on Rhino :P
[02:08:01] <ChrisMorgan> ... and then they ran Rhino on that.
[02:08:10] <hoverbear> tbh you probably could
[02:08:20] <Sharp> It would still probably be faster than Ruby.
[02:08:51] <hoverbear> V8 is pretty fast
[02:08:52] <ChrisMorgan> Then they stuck it in a Linux image and ran it on a JS x86 emulator.
[02:09:13] <hoverbear> Did you see someone made mac os 7 in browser?
[02:09:33] <Sharp> Using a tool like Emscripten?  Or do you mean a framework like SproutCore?
[02:09:39] <Sharp> Oh, OS 7.
[02:09:42] <Sharp> I didn't.
[02:09:54] <hoverbear> That was super cool
[02:10:15] <ChrisMorgan> Luqman: rust-http is running on ARM, compiled on ARM :-)
[02:10:21] <hoverbear> But I'm compiling and running this poor MBA at 4.45 right now.
[02:10:32] <adarq> ooo from_str worked, thanks folks. let x = from_str::<uint>(argv[1]).unwrap();
[02:10:49] <Luqman> ChrisMorgan: awesome!
[02:11:15] <ChrisMorgan> adarq: if it can be inferred that x is a uint later (e.g. if you pass it to something that takes a uint), you don't even need the ::<uint> part
[02:11:27] <adarq> ah
[02:11:28] <adarq> cool
[02:11:49] <ChrisMorgan> adarq: BTW, prefer u8/u16/u32/u64 over uint, the size of which is machine-dependent.
[02:12:06] <adarq> will do, thanks
[02:13:12] <hoverbear> ChrisMorgan: So the way I read that is "functionWithMultipleReturnTypes::<return type>(parameter).nextFunctionWithANormalReturnType()"?
[02:14:21] <ChrisMorgan> hoverbear: it's more or less `fn from_str<T: FromStr>(~str) -> T`, meaning that it returns an unknown return type. But then, based on how it's used, it may be able to infer the type.
[02:14:59] *** Joins: dmoz (dmoz@moz-87A29603.hsd1.fl.comcast.net)
[02:15:17] <ChrisMorgan> So, if you pass the value to a function that takes a uint, then it knows that that T must be resolved to uint. (That is, of course, assuming that it satisfies the constraint that it must implement FromStr, which uint does. If it didn't, compilation would fail.)
[02:15:23] <hoverbear> ChrisMorgan: What is "T: FromStr"?
[02:15:30] *** dmoz is now known as lamboluvr
[02:15:31] *** Quits: skeet70 (skeet70@moz-697F48F2.bzm-mt.client.bresnan.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[02:15:39] <lamboluvr> yo waddup rust
[02:15:40] <ChrisMorgan> It means "a type T that implements the FromStr trait"
[02:15:43] *** Quits: echristo (echristo@60A74940.D6CCE4AE.77834EAA.IP) (Quit: echristo)
[02:15:49] <lamboluvr> rust > d > go < parasail
[02:15:59] <hoverbear> ChrisMorgan: Ok, that's really cool. That's how traits work.
[02:16:22] <Sharp> Just finished the slide set, very neat.  Thanks again!
[02:16:24] <ChrisMorgan> The compiler gets all the types in one pass, then sets about resolving any types that need to be inferred. If at the end of that process it's left with ambiguity, it will complain.
[02:16:36] <hoverbear> Sharp: Let me know if you want any others.
[02:17:04] *** Joins: tikue_ (tikue_star@94F1ACEF.F3E8A984.689607DE.IP)
[02:17:14] <hoverbear> ChrisMorgan: Interesting. Does this lead to cases where a previously working program that has a function call removed breaks in other places than the place where the function was called?
[02:17:19] <Sharp> Heh, sure.  I probably will, just not right now :)  Need to get some sleep.
[02:17:19] *** Quits: heftig (heftig@moz-C04B16C1.dip0.t-ipconnect.de) (Ping timeout)
[02:17:29] <hoverbear> ChrisMorgan: Since it can no longer infer the types?
[02:17:35] *** Quits: Jesin (Jessin_@moz-52A42BDD.cc.lehigh.edu) (Ping timeout)
[02:18:00] <adarq> im playing with it, dont get how you pass the value of the string to a function asking for uint, i keep getting compile errors
[02:18:08] <kmc> so extra::sha1 was removed, yeah? is there an external replacement lib yet?
[02:18:18] <ChrisMorgan> Constraints are handy if you have things you need to do; for example, you might have a wrapper type for which you wish to implement things if the contained object implements them: e.g. `struct S<T> { t: T } impl<T: Eq> Eq for S<T> { fn eq(&self, other: &T) { self.t == other.t } }`
[02:19:15] *** Joins: Ralith (ralith@moz-A7071297.customer.broadstripe.net)
[02:19:24] <ChrisMorgan> hoverbear: constraints must be specified in the signature of the method, so the failure will be at most one step removed, unlike with things like C++ templates where the failure could be deep inside the template in such a case.
[02:19:26] *** Joins: heftig (heftig@moz-4F99FF26.dip0.t-ipconnect.de)
[02:19:55] <hoverbear> ChrisMorgan: Ok, that's an acceptable situation. :)
[02:20:48] *** Quits: johnmurray (jmurray@40511FB.62885029.A0D3DFE2.IP) (Quit: johnmurray)
[02:21:46] <Sharp> Although: macros!
[02:22:30] <kmc> grr I realize maintaining crypto code is terrifying but having SHA-1 in libextra was useful even for non-cryptographic applications
[02:22:53] <kmc> looks like I can import rustpkg's Sha1 but not actually use it
[02:23:06] *** Joins: MrByte (Dartakio@moz-147070D0.chy-wy.client.bresnan.net)
[02:25:16] <sfackler> I was pretty sad to see MD5 go as well :(
[02:25:47] <ChrisMorgan> Yes, macros make it easier to make a confusing situation, but they still end up easier than I hear C++ templates are to debug because of the way problems are caught early with explicit signatures. Rust could have had global type inference if desired (no need for type signatures anywhere). But that makes many things much harder to reason about.
[02:26:18] *** Quits: KeyboardWarrior (kw@moz-A916EA18.dia.static.qwest.net) (Connection reset by peer)
[02:26:44] <kmc> Servo's test harness uses Sha1 to generate ids that won't collide but it's not like we're worried about some attacker who wants them to collide or who makes timing measurements of our test suite
[02:26:57] <aatch> I have no idea how to use rustpkg. it makes no sense whatsoever
[02:27:15] <benh> I am happy to see MD5 go ;)
[02:29:12] <sfackler> benh: I'm not a fan of MD5 either, but protocols still use it
[02:29:58] <strcat> ChrisMorgan: debugging template issues is annoying but it's not nearly as bad as the equivalent error with macros or dynamic typing
[02:30:11] <strcat> the bigger problem is that requirements are never clearly specified
[02:32:03] <dcrewi> kmc: https://github.com/DaGenix/rust-crypto
[02:35:18] *** Quits: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net) (Quit: Sharp)
[02:35:55] <kmc> thanks
[02:35:57] <klutzy> git implements fast sha1 for non-crypt use
[02:36:10] <klutzy> maybe we have to implement similar one?
[02:37:30] *** Quits: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net) (Ping timeout)
[02:39:17] *** Joins: johnmurray (jmurray@40511FB.62885029.A0D3DFE2.IP)
[02:41:37] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[02:42:40] <jeaye> aatch: Yeah, it doesn't really follow any conventions.
[02:42:46] *** Joins: nejucomo (Adium@moz-434492BB.dsl.static.sonic.net)
[02:43:07] * jeaye likes the ol' `./configure && make && make install`
[02:43:39] *** Quits: johns (johns@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[02:43:49] *** Joins: johns (johns@moz-BBE3ABD.mv.mozilla.com)
[02:45:13] *** Joins: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp)
[02:45:29] *** Joins: GeneralMaximus (ankur@87231E3A.6E5D865F.274D17D6.IP)
[02:45:29] *** Quits: nejucomo (Adium@moz-434492BB.dsl.static.sonic.net) (Quit: Leaving.)
[02:45:39] *** Quits: Ralith (ralith@moz-A7071297.customer.broadstripe.net) (Ping timeout)
[02:45:40] *** Joins: Ralith (ralith@moz-A7071297.customer.broadstripe.net)
[02:46:04] *** Joins: tjc (tjc@moz-211B6A6B.dedicated.static.sonic.net)
[02:46:04] *** ChanServ sets mode: +o tjc
[02:47:05] *** Joins: pnathan (Adium@moz-EF4F82C8.tukw.qwest.net)
[02:47:06] *** Quits: tjc (tjc@moz-211B6A6B.dedicated.static.sonic.net) (Quit: Places to go, people to annoy)
[02:52:12] *** Joins: maik_ (maik@moz-35B8FD77.dip0.t-ipconnect.de)
[02:52:46] <hoverbear> Should I use 0.8 or git?
[02:53:35] <bstrie> hoverbear: git
[02:53:53] <sfackler> aatch: roughly, "mkdir root; cd root; rustpkg init; mkdir src/my_crate; echo 'extern mod ssl = "github.com/sfackler/rust-ssl"; fn main() { ... }' > src/my_crate/main.rs; rustpkg build my_crate"
[02:54:26] *** Quits: cwmma (Mibbit@moz-468348D6.hsd1.ma.comcast.net) (Ping timeout)
[02:54:43] *** Joins: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net)
[02:55:17] *** Quits: ktt3ja (Mibbit@moz-6B6EE8C0.hsd1.va.comcast.net) (Ping timeout)
[02:57:37] <aatch> Yay, I can open an SSL connection and read from the stream!
[02:57:49] *** Quits: tikue_ (tikue_star@94F1ACEF.F3E8A984.689607DE.IP) (Ping timeout)
[02:58:29] *** Joins: tikue_ (tikue_star@94F1ACEF.F3E8A984.689607DE.IP)
[02:59:19] <sfackler> \o/
[02:59:57] <aatch> Strangely, I'm putting the effort in to support SSL because I'm lazy. I
[03:00:28] <pcmattman> so lazy, aatch doesn't even finish sentences!
[03:00:35] <aatch> I'm doing stuff with IMAP and my mail server is only set up for SSL or STARTTLS.
[03:00:39] <pcmattman> :)
[03:01:06] *** Joins: ktt3ja (Mibbit@moz-6B6EE8C0.hsd1.va.comcast.net)
[03:01:06] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[03:02:55] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[03:03:19] <ChrisMorgan> Luqman: the rustc for ARM build that you gave me, at just over a day out of date, is already too old to build rust-http! (ReaderUtil finally got killed and replaced with default methods.)
[03:03:44] *** Quits: maik_ (maik@moz-35B8FD77.dip0.t-ipconnect.de) (Ping timeout)
[03:04:17] *** Joins: carllerche (carllerche@6B070D22.7E6A0813.1428D117.IP)
[03:04:39] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[03:04:58] <Luqman> ChrisMorgan: lol, it's only a day out of date :P
[03:05:10] <ChrisMorgan> Yep, we live in fun times :-)
[03:05:30] * ChrisMorgan wonders whether he should set up a wheezy VM to do the builds himself
[03:05:49] <hoverbear> Looks like the rust ./configure  has problems with spaces in the build path
[03:06:17] <hoverbear> https://gist.github.com/Hoverbear/3815cd5ab396681ee948
[03:06:20] <Luqman> ChrisMorgan: i should automate this :P
[03:06:38] <ChrisMorgan> That's another solution, and one I wouldn't exactly be displeased with.
[03:06:40] <ChrisMorgan> ;-)
[03:07:15] *** Quits: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net) (Quit: Leaving)
[03:07:20] *** Joins: maik_ (maik@moz-33C636B7.dip0.t-ipconnect.de)
[03:07:55] *** Quits: GeneralMaximus (ankur@87231E3A.6E5D865F.274D17D6.IP) (Quit: Computer has gone to sleep.)
[03:08:03] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[03:09:14] *** Quits: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca) (Quit: Leaving.)
[03:09:35] *** Joins: zws3mb (Mibbit@F72BDDB8.EEDD3B02.DDE5D3F6.IP)
[03:09:55] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[03:10:35] *** jorendorff is now known as jorendorff_away
[03:12:00] <Luqman> ChrisMorgan: i'll let you know when they're done
[03:12:05] <ChrisMorgan> Thanks :-)
[03:12:58] *** Quits: johnmurray (jmurray@40511FB.62885029.A0D3DFE2.IP) (Quit: johnmurray)
[03:13:00] *** Quits: Ralith (ralith@moz-A7071297.customer.broadstripe.net) (Ping timeout)
[03:14:34] *** Joins: johnmurray (jmurray@40511FB.62885029.A0D3DFE2.IP)
[03:16:18] *** Quits: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net) (Quit: Textual IRC Client: www.textualapp.com)
[03:16:20] *** Joins: Ralith (ralith@moz-A7071297.customer.broadstripe.net)
[03:17:46] *** Joins: DeTeam (DeTeam@moz-25868064.dyn.broadband.iskratelecom.ru)
[03:18:15] *** Quits: DeTeam (DeTeam@moz-25868064.dyn.broadband.iskratelecom.ru) (Quit: DeTeam)
[03:18:24] *** Joins: DeTeam (DeTeam@moz-25868064.dyn.broadband.iskratelecom.ru)
[03:19:19] <adarq> hey, in libstd/rt/io/net/unix.rs, the example has: let serv = Path('/path/to/..'); However, I have to use Path::new('/path/to..'); Is this 'older documentation' in the code or am I doing something wrong with how im requiring std etc
[03:19:29] *** Quits: DeTeam (DeTeam@moz-25868064.dyn.broadband.iskratelecom.ru) (Quit: DeTeam)
[03:19:51] <aatch> adarq, that's pretty old
[03:20:34] <adarq> ah ok
[03:21:30] <adarq> ya i'm encountering tons of stuff like that which is tripping me up a little.
[03:21:30] <adarq> thanks
[03:25:36] <adarq> is there a nice way to 'dump objects', it's like %? or something right, passed to fmt!?
[03:26:36] *** Joins: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net)
[03:26:46] <adarq> im confused because, in unix.rs there's a unit test at the bottom which is calling: UnixListener::bind(&path).listen(); I can't access '.listen()' though
[03:26:53] <hoverbear> Wow this rust ./configure script really doesn't want to work with spaces in paths.
[03:28:35] <ChrisMorgan> hoverbear: you know the easy solution, right?
[03:28:37] *** Quits: victorporof (victorporo@75D4E0BA.E3B14EAA.D111398B.IP) (Quit: victorporof)
[03:28:49] <hoverbear> ChrisMorgan: Yeah but it shouldn't be a problem.
[03:29:42] <ChrisMorgan> I agree. But it doesn't surprise me that it doesn't work; shell script isn't designed in such a way that spaces are supported accidentally.
[03:29:49] *** Joins: inspur (inspurhua@54B0D324.D4DDBED4.B3490680.IP)
[03:29:52] *** Joins: Jesin (Jessin_@moz-52A42BDD.cc.lehigh.edu)
[03:30:04] *** Joins: erickt (etryzelaar@moz-3F47D417.client.dsl.net)
[03:30:14] <inspur> struct Node {
[03:30:14] <inspur>     head : int,
[03:30:14] <inspur>     tail : Option<@Node>
[03:30:14] <inspur> }
[03:30:14] <inspur> type AList = Option<@Node> ;
[03:30:14] <inspur> impl ToStr for AList {
[03:30:31] <inspur>  error: failed to find an implementation of trait std::to_str::ToStr for @Node
[03:31:15] <inspur> why?
[03:31:32] <ChrisMorgan> inspur: avoid using @ which is on the way out; use ~Node instead if at all possible.
[03:32:12] <strcat> Gc will probably be like Rc but be implicitly copyable
[03:32:17] <ChrisMorgan> inspur: have you implemented ToStr for @Node? The code you've showed there implements it for Option<@Node>, not @Node.
[03:32:46] *** Quits: canhtak (canhtak@moz-1BED280F.wl.t.ulaval.ca) (Quit: canhtak)
[03:33:16] <inspur> i havnt implement ToStr for @node,may be its the problem
[03:33:32] <ChrisMorgan> That's what it's saying the problem is.
[03:34:17] *** Joins: dbaupp (Thunderbir@CE33C7D9.D5A1DCF.37681C44.IP)
[03:34:56] <adarq> hey, do i have to specify my own 'listen()' for UnixListener.. it's a trait in unix.rs but I can't access it as a member of the object returned by bind
[03:35:09] <adarq> also is thisthe right channel to ask noob questions in or is there another one for that hehe
[03:36:23] <inspur> impl ToStr for @Node {,impl ToStr for AList {,multiple applicable methods in scope
[03:36:38] *** Quits: erickt (etryzelaar@moz-3F47D417.client.dsl.net) (Ping timeout)
[03:36:41] <dbaupp> adarq: this channel is perfect :)
[03:36:53] <dbaupp> adarq: you have to import the trait to be able to use the methods
[03:37:20] <inspur> error: multiple applicable methods in scope
[03:37:21] <dbaupp> adarq: use path::to::unix::TraitName;
[03:39:45] <adarq> cool thanks.. i think im trying to use a trait that is defined specifically for unix.rs
[03:39:53] *** Joins: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca)
[03:40:23] <adarq> i have UnixListener included.. works good.. it's defined like: impl UnixListener {}.. just below it, there's impl Listener<...> for UnixListener { } , so that's not something that will export ?
[03:40:27] <adarq> I have to implement that myself?
[03:41:26] <dbaupp> I don't understand that question at all
[03:41:46] <ChrisMorgan> inspur: that's because there's already an impl<T: ToStr> ToStr for Option<T>
[03:41:51] *** Quits: maik_ (maik@moz-33C636B7.dip0.t-ipconnect.de) (Ping timeout)
[03:42:12] <dbaupp> adarq: if Listener is in scope then you should be able to call the methods from Listener on the UnixListener type
[03:42:38] <adarq> well, there's a trait for UnixListener which implements .listen().. inside of the unix.rs source, but I don't think I'm able to access it
[03:43:17] <ChrisMorgan> inspur: that is, once you've implemented ToStr for @Node, there is automatically an implementation of ToStr for Option<@Node> which, under the current rules, you can't override.
[03:44:47] <ChrisMorgan> adarq: Listen needs to be in scope.
[03:44:59] <ChrisMorgan> `use std::rt::io::Listener;`
[03:45:13] *** Quits: johnmurray (jmurray@40511FB.62885029.A0D3DFE2.IP) (Quit: johnmurray)
[03:45:22] <ChrisMorgan> Then you can call the methods the Listener trait supplies on any type that implements Listener.
[03:45:25] <inspur> thank you,ChrisMorgan
[03:46:02] *** Quits: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca) (Ping timeout)
[03:46:14] <adarq> thanks dbaupp, ChrisMorgan .. that fixed it
[03:46:52] <ChrisMorgan> adarq: you may find the rules tedious for a while, but you get a feel for them pretty quickly and it becomes second nature.
[03:47:26] <adarq> ya.. now im realizing that's in mod.rs
[03:47:26] *** Joins: brianm (brianm@moz-9B7D279E.dsl.static.sonic.net)
[03:48:15] <dbaupp> ChrisMorgan: I think we broke "Brian Oh" http://stackoverflow.com/questions/19677180/how-do-i-pass-object-stdrandtask-rng-to-a-function-in-rust :(
[03:49:17] <ChrisMorgan> Oops. Didn't mean that impression to come across. :-(
[03:49:58] <dbaupp> yeah... :S
[03:52:07] *** Quits: Jesin (Jessin_@moz-52A42BDD.cc.lehigh.edu) (Quit: Leaving)
[03:52:42] *** Joins: boredomist (boredomist@B16F530C.DC641F2C.BCAEBB33.IP)
[03:53:36] <ChrisMorgan> dbaupp: there, I hope that'll smooth it up.
[03:56:19] <dbaupp> ChrisMorgan: :)
[03:57:19] *** Quits: kimundi (kimundi@moz-E3DE4244.dip0.t-ipconnect.de) (Ping timeout)
[03:58:46] *** Quits: brianm (brianm@moz-9B7D279E.dsl.static.sonic.net) (Quit: Linkinus - http://linkinus.com)
[04:00:37] *** Joins: zz_kimundi (kimundi@moz-3999E347.dip0.t-ipconnect.de)
[04:00:54] *** zz_kimundi is now known as kimundi
[04:01:30] *** Quits: dbaupp (Thunderbir@CE33C7D9.D5A1DCF.37681C44.IP) (Ping timeout)
[04:06:02] *** Joins: erickt (etryzelaar@moz-3F47D417.client.dsl.net)
[04:06:52] <jack> brson: is there a reason to call them crates? where did that name come from? why not just "package"
[04:07:51] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[04:08:01] *** Quits: Earnestly (earnest@38FE72A5.82423D8F.BFD1ABFD.IP) (Ping timeout)
[04:08:46] *** Quits: pnathan (Adium@moz-EF4F82C8.tukw.qwest.net) (Quit: Leaving.)
[04:08:52] *** Joins: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net)
[04:09:45] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[04:10:45] *** Quits: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net) (Quit: Sharp)
[04:11:18] *** Quits: erickt (etryzelaar@moz-3F47D417.client.dsl.net) (Ping timeout)
[04:11:33] *** Joins: jdm (jdm@moz-AFF897B8.dsl.teksavvy.com)
[04:11:33] *** ChanServ sets mode: +o jdm
[04:12:24] <ChrisMorgan> jack: "crate" is one syllable of five letters, "package" is two syllables and seven letters.
[04:12:50] <myname> afaik it has historical reasons
[04:13:15] <ChrisMorgan> When the package manager was called cargo, I presume. But which came first? cargo or crates?
[04:15:34] <jack> ChrisMorgan: I had forgotten the cargo name.
[04:16:37] <ChrisMorgan> It changed to rustpkg quite some time before I started actually using Rust, but I had been keeping an eye on Rust when it was Cargo.
[04:18:13] *** Quits: ilyoan (ilyoan@B4104EBB.3CC170B1.1E14B209.IP) (Input/output error)
[04:22:09] <adarq> do other 'langs' embed tests in the source like rust does?
[04:23:04] *** Quits: johns (johns@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[04:23:19] *** Joins: johns (johns@moz-BBE3ABD.mv.mozilla.com)
[04:23:32] <ChrisMorgan> adarq: as an aside, Rust doesn't require you to do that—it just makes it a model that works well.
[04:24:51] <ChrisMorgan> In Java, a common convention is to have src/main/package/Class.java and src/test/package/ClassTest.java. They are in the same package but in wildly different places in the filesystem.
[04:25:29] <adarq> ya i like it
[04:25:34] <adarq> having tests in the file
[04:25:46] <ChrisMorgan> In Python, a common convention is to have a `tests` package or module, leaving the tests in the same directory but in another file.
[04:26:09] <ChrisMorgan> In Go, I think I've seen having x.go and x_test.go.
[04:27:25] <ChrisMorgan> Rust, of course, is different from languages like Java and Python in its compilation model; its compilation model means that you can just remove code at compile time so that it's not included in the execution/distribution unit.
[04:27:30] <ChrisMorgan> This is a Good Thing™.
[04:27:35] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[04:27:35] *** ChanServ sets mode: +ao dherman dherman
[04:27:48] <SiegeLord> D also has embedded tests
[04:28:05] <adarq> cool
[04:29:07] *** Quits: KindOne (KindOne@moz-D3D9D2E9.dynamic.ip.windstream.net) (Ping timeout)
[04:30:35] *** Quits: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com) (Ping timeout)
[04:30:49] *** Joins: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com)
[04:33:24] *** Joins: KindOne (KindOne@moz-B279AA10.dynamic.ip.windstream.net)
[04:33:55] *** Quits: zws3mb (Mibbit@F72BDDB8.EEDD3B02.DDE5D3F6.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[04:33:58] <ChrisMorgan> Personally I feel that closely integrated unit tests are a very good thing. Other types of tests will fit better in other places—and Rust lets you do that well also.
[04:34:40] *** Quits: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com) (Ping timeout)
[04:35:03] *** Joins: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com)
[04:35:33] <Luqman> ChrisMorgan: sorry it took so long but here http://luqman.ca/rust-builds/
[04:35:50] *** Joins: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net)
[04:35:52] *** Joins: gem (nandaja@B1D7FCCD.ECD4BE91.B84D4DA2.IP)
[04:36:04] <ChrisMorgan> Luqman: great, thanks!
[04:36:07] <Luqman> i also made a hard float target but i don't have anything to test on so no clue whether it works
[04:36:20] <adarq> ya i need to step my test game up
[04:36:46] <ChrisMorgan> Luqman: yeah, I've got armhf-compatible hardware, but an armel OS at present
[04:37:12] *** Quits: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net) (Quit: Sharp)
[04:37:28] <mark_edward> is this up to date? https://github.com/mozilla/rust/wiki/Doc-using-rustdoc
[04:38:10] <ChrisMorgan> Looks mostly so.
[04:38:25] *** Parts: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) ()
[04:38:28] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[04:38:57] <ChrisMorgan> The "Operating the rustdoc tool" section is out of date, but the conventions look to still be about right.
[04:39:49] <ChrisMorgan> (It's out of date because the old rustdoc has been replaced with rustdoc_ng, but the CLI is basically the same.)
[04:40:14] <Luqman> ChrisMorgan: let me know if it doesn't work
[04:40:33] <ChrisMorgan> Luqman: I don't have unzip :P
[04:40:44] <mark_edward> cool
[04:40:47] <adarq> anyone have a url to 'variable rules' when entering a spawn {} block? I created a stream outside of my spawn block, and im writing to it on the inside, but it's complaining, so i imagine im defying convention horribly
[04:40:48] * ChrisMorgan will use Python to unzip it instead of installing unzip
[04:40:58] *** variable is now known as doctor
[04:41:08] <Luqman> well, i guess that's a solution :P
[04:41:11] *** Joins: lasagnahog (Mibbit@moz-4B2DE764.hsd1.wa.comcast.net)
[04:41:21] <Luqman> but isn't it ubuntu? just an apt-get install away
[04:41:27] <doctor> ChrisMorgan: tar will extract zip files
[04:41:29] <aatch> Woo, I have a little stream interface for IMAP, now I just need to actually implement the protocol.
[04:42:02] <Luqman> doctor: really?
[04:42:05] <ChrisMorgan> Luqman: where would the fun be in `apt-get install unzip`?
[04:42:18] <adarq> "cannot borrow immutable captured outer variable in a heap closure as mutable" and "mutable variables cannot be implicitly captured".. i remember seeing a run down on that but not with tasks/spawn
[04:42:18] <doctor>      tar creates and manipulates streaming archive files.  This implementation     can extract from tar, pax, cpio, zip, jar, ar, xar, rpm, 7-zip, and ISO     9660 cdrom images and can create tar, pax, cpio, ar, zip, 7-zip, and shar     archives.
[04:42:28] <doctor> Luqman: ^ you don't even need to tell it a format
[04:42:39] <doctor> libarchive does the magical autodetection :)
[04:43:07] <doctor> ChrisMorgan: when I see apt-get my immediate thought isn't "fun" :)
[04:43:08] <ChrisMorgan> Oh no, `python -m zipfile -e x.zip .` is failing!
[04:43:49] <pcmattman> `unzip`?
[04:44:05] * doctor does not understand why people use 'unzip' when tar(1) just works
[04:44:11] <doctor> tar xf file.zip
[04:44:21] <pcmattman> how long has it been doing that?
[04:44:30] <lasagnahog> It's not portable
[04:44:37] <pcmattman> that too
[04:44:42] <Yurume> adarq, if your Send-able variable is mutable and named x, then try `let x = x;` outside and `let mut x = x;` inside.
[04:44:43] <pcmattman> does bsdtar do it too?
[04:44:45] <ChrisMorgan> doctor: doesn't work for me
[04:44:48] <doctor> pcmattman: this is BSD tar
[04:44:52] <pcmattman> ah
[04:44:57] <pcmattman> does gnu tar do it too?
[04:44:59] <ChrisMorgan> "tar: This does not look like a tar archive"
[04:45:00] <pcmattman> :D
[04:45:05] <doctor> pcmattman: GNU tar is braindead 
[04:45:09] <doctor> :(
[04:45:17] <pcmattman> sure, but it's used
[04:45:22] <doctor> ChrisMorgan: can you do it with a flag?
[04:45:24] <Yurume> tar xzvf, tar xjvf, tar xJvf, lol!
[04:45:28] <pcmattman> and that is why people use unzip :)
[04:45:49] <doctor> pcmattman: heh
[04:45:59] *** Joins: GeneralMaximus (ankur@375CEBE6.4C100BA0.8B6C1D65.IP)
[04:46:01] <strcat> Yurume: it autodetects that
[04:46:02] <McPherrin> doctor: I just have "tar xf" aliased to xf for even less typing :P
[04:46:06] <doctor> pcmattman: I somtimes forget that people are stuck with GNU tools 
[04:46:13] *** Joins: pnathan (Adium@moz-EF4F82C8.tukw.qwest.net)
[04:46:20] <Yurume> strcat, did you mean tar?
[04:46:21] <doctor> McPherrin: I make tars about as often as I extract em
[04:46:26] <doctor> otherwise I'd do that
[04:46:28] <lasagnahog> gunzip < foo.tar.gz | tar xfv -
[04:46:30] <strcat> Yurume: GNU tar and bsd tar autodetect that
[04:46:43] <Yurume> altirc 쓰시면 80/443도 돼요
[04:46:47] <doctor> Yurume: ?
[04:46:54] <Yurume> wa5t
[04:47:03] <adarq> Yurume, not working for me.. dno what to do tbh
[04:47:08] <adarq> tried it but same error
[04:47:15] <Yurume> oops, numlock sucks
[04:47:19] <Yurume> anyway
[04:47:34] <Yurume> adarq, can you paste an working example to pastebin or similar?
[04:47:51] *** Quits: btipling (btipling@moz-D51E0AEB.xen.prgmr.com) (Quit: ZNC - http://znc.sourceforge.net)
[04:47:55] <Yurume> strcat, oh, it indeed does, GNU tar seems to have -a aka --auto-compress option
[04:48:09] <Yurume> dunno it's default or not though
[04:48:22] <strcat> Yurume: xf is all you need to extract anything
[04:48:27] <strcat> you need acf to create anything, I think
[04:48:31] * strcat uses bsdtar though
[04:49:03] <adarq> sure 1sec, thanks
[04:49:04] <lasagnahog> Are intrusive linked lists possible in rust?  Specifically, can you write a generic implementation that client code can use without unsafe blocks.  It's ok if the implementation has to fall back on unsafe.
[04:49:04] <Yurume> good to know that
[04:49:23] *** Joins: btipling (btipling@moz-D51E0AEB.xen.prgmr.com)
[04:49:26] <lasagnahog> I'm curious if anyone has tried it.
[04:49:30] <strcat> lasagnahog: I don't think anyone has tried it
[04:49:43] <pcmattman> lasagnahog: what would the use case be?
[04:49:53] <strcat> I doubt it's possible to do with a safe interface without using Rc/Gc
[04:49:56] <McPherrin> intrusive data structures are pretty useful
[04:50:43] <lasagnahog> You can insert without allocating memory
[04:50:48] <McPherrin> I'm pretty sure you could do it if your elements are allocated out of a pool that owns them
[04:50:56] <McPherrin> and all the internal pointers are borrowed
[04:50:59] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[04:51:27] <strcat> McPherrin: you can't mutate something that's borrowed from, except through the borrow
[04:51:28] <lasagnahog> Your list elements basically contain the necessary memory to join the list.  Useful for code that has to behave gracefully under low memory conditions.
[04:51:46] <McPherrin> strcat: Well you'd have to set it up with unsafe code
[04:52:09] <McPherrin> It's used everywhere in video game code
[04:52:12] <Yurume> intrusive lists are often useful for managing multiple lists with overlapping elements
[04:52:26] * ChrisMorgan tries `git gc` to see how much space that will save on his rust repository clone which is taking over 400MB of the available 2GB
[04:52:42] <Yurume> anyway, I guess it would require unsafe ptrs
[04:52:48] <McPherrin> ChrisMorgan: You could also dump part of the rust history
[04:53:14] *** Quits: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com) (Quit: Konversation terminated!)
[04:53:22] <ChrisMorgan> McPherrin: can that really be done without breaking the ability to update?
[04:53:28] <strcat> no
[04:54:02] <McPherrin> ChrisMorgan: you'd have to export the patches from the "real" git repo and apply them to your flattened one
[04:54:05] <lasagnahog> You can also get slightly better cache behavior than non-intrusive lists since the list node and element will be more likely to occupy the same cache line
[04:54:05] <McPherrin> Easily scripted
[04:54:15] <adarq> hey yurume i pm'd you.. i put the file on my local server
[04:54:27] <ChrisMorgan> git gc saved me around 2MB.
[04:54:29] <strcat> ChrisMorgan: set core.compression = 9 in your git config ;p
[04:54:32] <lasagnahog> Of course, if you care about cache behavior you probably shouldn't be using linked lists.
[04:55:12] <McPherrin> lasagnahog: In general yes, but if you know which lists are traversed more often, you can organize your objects so they get better cache behaviour
[04:55:32] <strcat> lasagnahog: a linked list in rust would already be storing the element by-value, the benefit of intrusive lists would mostly be the ability to have one element in multiple containers
[04:55:53] <strcat> although if the containers could easily be proven to not outlive the element, you could store it by-pointer
[04:56:11] *** Quits: cubic (cubic@moz-80241A3A.mc.videotron.ca) (Connection reset by peer)
[04:56:29] <lasagnahog> Isn't it the opposite?  You can only have the element in one list at a time (or to be specific, one list per intrusive node in your structure)
[04:56:54] <Yurume> adarq, a-ha, you are spawning in the loop, which makes the inner closure unable to use most of outer variables
[04:57:01] <ChrisMorgan> Luqman: what's the go on contained/arm-unknown-linux-gnueabi/* and rust/* in your archives?
[04:57:09] <strcat> lasagnahog: you add any data structures you want the value to be in as fields to the value
[04:57:15] <Yurume> basically, outer variables "move" to the inner closure as needed
[04:57:19] <strcat> it can be in several trees/lists and there are even intrusive hash tables ;p
[04:57:38] <Yurume> and once moved, outer variables cannot be used outside or other closure
[04:57:56] <adarq> ah
[04:58:00] <lasagnahog> strcat: If the element type is large and you move it between lists a lot (e.g. passing it around through message queues or whatnot), you might suffer a penalty from moves/copies
[04:58:01] <adarq> i have to use like, spawn_with or something?
[04:58:07] <Luqman> ChrisMorgan: hmm, i just fail at zipping things :P, you can disregard the contained folder
[04:58:11] <adarq> or change my logic
[04:58:13] <Yurume> no, spawn_with won't solve your problem since it also moves that
[04:58:14] <Luqman> they're the same anyways
[04:58:16] <Yurume> in this case you will want Arc
[04:58:23] <lasagnahog> strcat: with intrusive lists you just unlink and link it elsewhere
[04:58:27] <Yurume> i.e. "Atomically Referenced-Counted" box
[04:58:34] <Yurume> which can be used across multiple tasks
[04:58:42] <strcat> lasagnahog: sure, and your whole program is an unsafe block ;p
[04:59:13] <Yurume> it may be possible that `stream` can be converted to a multiplexed version which will essentially be equivalent to Arc, but I haven't investigated it
[04:59:19] <ChrisMorgan> Luqman: good, that's what it looked like.
[04:59:30] <adarq> cool thanks alot
[04:59:42] <Yurume> (std::comm::SharedChan etc. is a good example of this: Chan itself cannot be shared, SharedChan created from Chan can.)
[05:00:07] <lasagnahog> strcat: Right.  It's probably not a good fit for the rust given the ambiguities with the lifetime.
[05:01:06] <lasagnahog> I did do a version of it in C++ where the list class participated in refcounting in tandem with a smart pointer class, and it worked pretty well.
[05:01:16] <hoverbear> Luqman: The code you sent me (https://gist.github.com/luqmana/12a9ecf94720b23b4e61) only seems to respond to local requests. I've tried using 'localhost' and '192.168.0.___' as IPs as well but no dice... Still playing with it.
[05:01:27] <lasagnahog> So it might be usable with something like Rc... but mutation would still be tricky
[05:01:55] <hoverbear> Luqman: Nevermind, pings don't either. Huh.
[05:02:00] <strcat> lasagnahog: mutation would work
[05:02:21] <ChrisMorgan> Luqman: that's working as well as the last build; thanks!
[05:02:27] <adarq> is there another/more preferred way to do this, yurume?
[05:02:36] <ChrisMorgan> (I mean it's still got the bogus cc return code, but it's working.)
[05:02:46] *** Quits: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com) (Ping timeout)
[05:02:47] <strcat> lasagnahog: RcMut/GcMut can be freely mutated until you borrow from them (they do freezing dynamically, since they can't just inherit mutability from an owner)
[05:02:56] <strcat> but all your references would be more RcMut/GcMut
[05:03:26] <Luqman> ChrisMorgan: yea, and -O is still broken
[05:03:33] <lasagnahog> Does rust have an offsetof intrinsic?
[05:03:40] <ChrisMorgan> Luqman: so I just keep on running `make` until everything's done :-)
[05:03:53] <strcat> lasagnahog: no
[05:04:04] <strcat> in C isn't it just done with a macro?
[05:04:07] <Luqman> hoverbear: any errors?
[05:04:12] *** Joins: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com)
[05:04:44] <hoverbear> Luqman: It's the firewall on mac
[05:04:47] <cmr> ChrisMorgan: I'm offended :P
[05:04:51] <adarq> im going to re-read rust tasks & communication
[05:04:53] <adarq> ;f
[05:04:57] <hoverbear> Luqman: Nevermind, no it isn't.
[05:05:06] <lasagnahog> It's usually implemented as such, but it's in the standard.
[05:05:07] <adarq> while true; do make; done
[05:05:20] <Luqman> hoverbear: i haven't tested on mac.
[05:05:26] <ChrisMorgan> cmr: there's an easy way to distinguish yourself from strcat: do a whole lot more! Rewrite the compiler perfectly! etc.
[05:05:32] <hoverbear> Luqman: I can't ping either
[05:05:36] <McPherrin> The usual way to get offsetof is pointer (obj + (&((Obj*)0->member)))
[05:05:37] <Yurume> adarq, I haven't tried network programming in Rust yet, so my knowledge is severely limited
[05:05:38] <ChrisMorgan> strcat: you should do the same so I can distinguish you from cmr consistently.
[05:05:38] <lasagnahog> I think if you try to implement it yourself you end up with undefined behavior
[05:05:45] <Luqman> i should really update rust on my laptop, it's on 0.8-pre xD
[05:05:45] <McPherrin> And that should work in rust
[05:06:07] <strcat> ChrisMorgan: it's okay I already took on the responsibility of rewriting the stdlib completely, but didn't really start
[05:06:08] <hoverbear> Luqman: In fact, the two machines are on entirely different subnets by the looks of it
[05:06:09] <strcat> ;p
[05:06:25] <lasagnahog> McPherrin: dereferencing of a NULL pointer, even if you then use & on the result, has undefined behavior IIRC
[05:06:40] <McPherrin> lasagnahog: It specifically is defined in this case to work
[05:06:55] <McPherrin> lasagnahog: to make this specific trick work
[05:07:11] <Luqman> hoverbear: you should still be able to reach it if it has a public ip
[05:07:26] <lasagnahog> McPherrin: I don't remember that, just that offsetof is defined by the standard
[05:07:42] <hoverbear> Luqman: lol I have no idea what is happening with this machine sip
[05:07:57] <hoverbear> Luqman: Restarted and seems ok
[05:08:13] <Yurume> adarq, hmm, thinking about that, shouldn't once accepted stream be owned by the spawned task?
[05:08:38] <hoverbear> Luqman: Yup, nevermind me
[05:08:51] <Luqman> hoverbear: works now?
[05:09:05] <hoverbear> Luqman: Yessir
[05:09:05] <Yurume> i.e. you don't want to share the accepted stream across tasks, you accept in the main task and spawn a task with a *fresh* accepted stream
[05:09:19] <olsonjeffery> ChrisMorgan: hey you seen any action on websockets in rust-http or elsewhere?
[05:09:24] <Yurume> I'm not familiar with new std::rt::io but it looks so
[05:09:29] *** Quits: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com) (Ping timeout)
[05:09:37] <hoverbear> olsonjeffery: I literally just asked him about that 2 hours ago. :)
[05:09:38] <ChrisMorgan> olsonjeffery: not in rust-http
[05:09:41] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[05:09:53] <Yurume> (and then I'm not sure why TcpAcceptor and TcpListener is distinct?!)
[05:10:08] <olsonjeffery> because linear types are cool, man
[05:10:10] <ChrisMorgan> https://github.com/jfager/d3cap
[05:10:20] <olsonjeffery> yeah, i showed you that project :P
[05:10:27] <strcat> lasagnahog: I don't think &a->b does a deref
[05:10:34] <strcat> it's just pointer arith
[05:10:45] <olsonjeffery> i recall you said something like "oh, heh. he's hardcoding the private key" or some such
[05:10:49] <ChrisMorgan> olsonjeffery: I know. That's all I know about as far as WebSocket is concerned.
[05:10:51] <hoverbear> ChrisMorgan: Well ain't that cool
[05:11:13] <ChrisMorgan> hoverbear: I should have shared the URL with you when you were asking. Well, that's the one I was referring to.
[05:11:16] <olsonjeffery> i had an idea for a webrtc fullstack project w/ rust on the backend
[05:11:26] <olsonjeffery> guess i can start in node.js until rust catches up
[05:11:26] <ChrisMorgan> As you can see: static SECRET: &'static str = "258EAFA5-E914-47DA-95CA-C5AB0DC85B11";
[05:11:27] <Luqman> Yurume: before, we didn't start listeneing until accept was called which made some things annoying like testing in a multithreaded environment.
[05:11:27] <strcat> lasagnahog: it seems like it'd be undefined though
[05:11:32] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[05:11:35] *** Joins: DeTeam (DeTeam@3F8887A3.6883A39.F5F3AF2.IP)
[05:11:40] <Luqman> Yurume: so the 2 actions were separated
[05:11:41] <strcat> lasagnahog: because pointer arithmetic more than one byte past the end of a valid object is undef...
[05:11:54] * strcat shrugs
[05:11:55] <ChrisMorgan> olsonjeffery: no! It is your duty to implement WebSocket in Rust instead! ;-)
[05:12:02] <hoverbear> ChrisMorgan: Was going to try it, but it's out of date.
[05:12:07] <hoverbear> olsonjeffery: I'm interested in helping
[05:12:12] <Luqman> Yurume: https://github.com/mozilla/rust/issues/8689
[05:12:16] <olsonjeffery> ChrisMorgan: i stand upon giants' shoulders, my friend :)
[05:12:17] <hoverbear> olsonjeffery: With webrtc
[05:12:26] <strcat> lasagnahog: yeah, glibc/gcc/clang use an intrinsic. you're right
[05:13:05] <ChrisMorgan> olsonjeffery: yes, the giants' shoulders are Rust and std::rt::io::net::tcp. So get moving!
[05:13:35] <Yurume> Luqman, ah, got it, was a bit confused with that
[05:14:54] <ChrisMorgan> Luqman: should I create an issue for the ARM linking return code failure?
[05:14:56] <olsonjeffery> and tls
[05:15:12] <olsonjeffery> which, from what ive read, sounds like is something that is being moved on, as well
[05:15:54] *** Joins: ilyoan (ilyoan@B4104EBB.3CC170B1.1E14B209.IP)
[05:15:55] <Luqman> ChrisMorgan: sure, go ahead
[05:17:12] <lasagnahog> strcat: I'm reading the spec.  It specifically mentions that using & on an expression of the form *foo is evaluated as if neither is present
[05:17:42] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[05:18:41] <lasagnahog> strcat: The problem is that, in this case, the expression is &x->f, or, desugared, &(*x).f, so I don't think that applies.
[05:19:52] <strcat> lasagnahog: either way it's undef because of the indexing past the end thing
[05:20:07] <strcat> so that's why gcc/clang have the intrinsic
[05:20:34] *** Joins: BizarreCake (BizarreCak@moz-361FE9B2.dynamic.barak-online.net)
[05:21:15] <lasagnahog> Are field accesses subject to the rules of pointer arithmetic with + or []?
[05:21:36] <lasagnahog> At any rate, I think clang will actually warn you if you try to write offsetof the usual way.
[05:22:59] *** Quits: johns (johns@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[05:23:21] *** Joins: johns (johns@moz-BBE3ABD.mv.mozilla.com)
[05:24:04] *** Quits: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP) (Ping timeout)
[05:24:32] *** Quits: bodie (bodie@moz-10569756.cmdnnj.fios.verizon.net) (Ping timeout)
[05:25:55] *** Quits: jstevans (Instantbir@moz-A59250C7.bootp.virginia.edu) (Ping timeout)
[05:26:09] *** Joins: skeet70 (skeet70@moz-697F48F2.bzm-mt.client.bresnan.net)
[05:26:12] *** Joins: froystig (froystig@moz-20E3E495.stanford.edu)
[05:26:36] *** Quits: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net) (Quit: Textual IRC Client: www.textualapp.com)
[05:28:29] *** Quits: froystig (froystig@moz-20E3E495.stanford.edu) (Quit: leaving)
[05:28:31] *** Joins: froystig (froystig@moz-20E3E495.stanford.edu)
[05:29:48] *** Quits: robn (robn@moz-76B0302C.static.internode.on.net) (Client exited)
[05:30:37] <ChrisMorgan> Luqman: filed as https://github.com/mozilla/rust/issues/10191
[05:30:56] <ChrisMorgan> Can someone label that A-ARM and whatever else is appropriate?
[05:31:35] <pcmattman> ChrisMorgan: it could be worth doing a small testcase with libuv to see if the issue is with Rust or with libuv's reporting of exit status
[05:32:00] * pcmattman should put that on the issue as a comment
[05:32:22] <ChrisMorgan> pcmattman: are any processes executed before it gets to linking?
[05:32:54] <pcmattman> off the top of my head, no
[05:35:15] *** Quits: BizarreCake (BizarreCak@moz-361FE9B2.dynamic.barak-online.net) (Ping timeout)
[05:37:00] *** Quits: ilyoan (ilyoan@B4104EBB.3CC170B1.1E14B209.IP) (Input/output error)
[05:41:16] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[05:41:28] *** Quits: jeaye (Jeaye@moz-34FEF2BB.hsd1.ca.comcast.net) (Quit: zzz)
[05:41:57] <Luqman> ChrisMorgan: thanks! 
[05:42:15] <Luqman> we should probably also make an issue for the failure with -O
[05:42:19] *** Joins: robn (robn@moz-76B0302C.static.internode.on.net)
[05:42:20] <ChrisMorgan> I'm already on it.
[05:42:31] <Luqman> sweet
[05:43:54] <ChrisMorgan> Luqman: filed as https://github.com/mozilla/rust/issues/10192
[05:44:14] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[05:44:20] <ChrisMorgan> Again, needs A-ARM
[05:44:45] <Luqman> added
[05:47:46] <ChrisMorgan> pcmattman: I can try just running a process, is std::rt::io::process what I need?
[05:47:50] *** Quits: mark_edward (quassel@moz-DCB0B750.lightspeed.cicril.sbcglobal.net) (Quit: http://quassel-irc.org - Chat comfortably. Anywhere.)
[05:47:59] <ChrisMorgan> Or std::run?
[05:48:03] *** Joins: mark_edward (quassel@5F06B402.AD1E507F.3688B332.IP)
[05:48:48] <pcmattman> std::run uses std::rt::io::process, so it's fine
[05:49:17] <lasagnahog> Is libuv a permanent solution or are there plans for a pure-Rust event loop?
[05:49:21] <pcmattman> (to be honest though, if a make check passes on ARM then that's already been tested)
[05:50:55] <Luqman> pcmattman: i haven't run `make check` on arm. never quite got that far :P
[05:51:03] <pcmattman> ah :)
[05:51:25] <pcmattman> make check TESTNAME=rtio-processes should test exit statuses and such
[05:51:38] <cmr> lasagnahog: a pure-Rust event loop already exists.
[05:51:38] <Luqman> though i guess i could try cross compile the test suite
[05:52:03] <ChrisMorgan> pcmattman: std::run::Process::new("echo", [~"foo"], std::run::ProcessOptions::new()).finish() is returning spuriously high values
[05:52:20] <ChrisMorgan> 1080882192. 1081480208.1081672720.
[05:52:45] <ChrisMorgan> (Expected value: 0.)
[05:53:34] <pcmattman> interesting, can you try with /bin/echo (just to be sure you're not hitting a "file not found")?
[05:54:22] <ChrisMorgan> Same result.
[05:55:06] <pcmattman> and that works on the shell?
[05:55:16] <lasagnahog> cmr: Interesting.  What backends does it support (e.g. kqueue, epoll, ...)?
[05:55:30] <ChrisMorgan> Yep.
[05:55:40] <pcmattman> awesome
[05:56:16] <cmr> lasagnahog: none of the above. pure pthreads.
[05:56:47] <lasagnahog> Huh?  So where does "event loop" enter into it?
[05:57:12] <cmr> Actually I hthink I'm confused
[05:58:15] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[05:58:39] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[05:58:39] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[05:58:47] <Luqman> ChrisMorgan: btw, how long does it take to compile on your arm machine. say something like a hello world?
[05:59:04] <cmr> lasagnahog: I don't know what I was thinking of, and I can't find whatever it was.
[06:00:02] <ChrisMorgan> Luqman: time (echo 'fn main(){}' | rustc -): real 0m5.573s user 0m1.150s sys 0m1.190s
[06:00:38] <ChrisMorgan> Luqman: then if I repeat it immediately, real0m1.356s user 0m0.910s sys 0m0.760s, and it stays around there.
[06:00:42] *** Joins: bheylin (brianheyli@moz-8255E94E.adsl.online.nl)
[06:01:01] <cmr> ChrisMorgan: Linux? It'd be cool if you could get perf traces :)
[06:01:24] <ChrisMorgan> cmr: perf won't work, this is sitting on the Android Linux kernel.
[06:01:31] <cmr> oh
[06:01:39] <Luqman> ChrisMorgan: ah, my board is just terribly slow then :P 4.64s user 4.41s system 31% cpu 28.455 total
[06:02:17] <ChrisMorgan> Mine is rather a slouch too—just perhaps not quite such a slouch.
[06:02:19] *** Joins: dbaupp (Thunderbir@moz-B3C9E9E8.lns20.syd6.internode.on.net)
[06:05:53] *** Quits: petantik (oz@moz-20EC2160.net) (Ping timeout)
[06:05:59] *** Quits: Caseus (bacon@moz-9F046088.members.linode.com) (Ping timeout)
[06:06:14] *** Quits: brianloveswords (brianloves@moz-CB223D1E.members.linode.com) (Ping timeout)
[06:06:14] *** Quits: alp (alp@moz-D1CEC204.com) (Ping timeout)
[06:06:14] *** Quits: bhearsum|afk (bhearsum@moz-FBAE94.members.linode.com) (Ping timeout)
[06:06:14] *** Quits: agrif (agrif@moz-94847975.net) (Ping timeout)
[06:06:14] *** Quits: ivan (ivan@moz-531C3EC9.members.linode.com) (Ping timeout)
[06:06:33] *** Quits: doy (doy@moz-8F23663C.net) (Ping timeout)
[06:06:33] *** Quits: lasagnahog (Mibbit@moz-4B2DE764.hsd1.wa.comcast.net) (Ping timeout)
[06:06:36] *** Quits: bstrie (ben@moz-D5A1D0F5.members.linode.com) (Ping timeout)
[06:06:36] *** Quits: ancelin (ancelin@moz-C4C968AA.members.linode.com) (Ping timeout)
[06:06:36] *** Quits: AlexMax (alexmax@moz-3D3F5603.funcrusher.net) (Ping timeout)
[06:06:36] *** Quits: xales (xales@moz-7DEA692E.forevernothing.com) (Ping timeout)
[06:06:45] *** Quits: friggle (friggle@moz-A607EAFA.members.linode.com) (Ping timeout)
[06:07:04] <ChrisMorgan> Aww, I had a nice theory that the 32-bit return code number was coming out as 01000000011?????????010000010000, but then the three bits (011) just before the nine arbitrary bits got different values too.
[06:08:14] *** Joins: eddyb (eddy@FE23D96E.F33C1089.FB866788.IP)
[06:09:12] *** Joins: Jackneill (Jackneill@moz-A68B0C5B.pool.digikabel.hu)
[06:09:50] *** Quits: bheylin (brianheyli@moz-8255E94E.adsl.online.nl) (Quit: bheylin)
[06:09:53] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[06:10:08] *** Joins: robertknight (robertknig@moz-54528EE0.wby.mendeley.com)
[06:11:49] *** Quits: robertknight (robertknig@moz-54528EE0.wby.mendeley.com) (Ping timeout)
[06:12:27] *** Joins: doy (doy@moz-8F23663C.net)
[06:12:28] *** Joins: xales (xales@moz-7DEA692E.forevernothing.com)
[06:12:32] *** Joins: AlexMax (alexmax@moz-3D3F5603.funcrusher.net)
[06:13:35] *** Joins: bhearsum (bhearsum@moz-FBAE94.members.linode.com)
[06:13:38] *** Joins: ancelin (ancelin@moz-C4C968AA.members.linode.com)
[06:13:52] *** Joins: agrif (agrif@moz-94847975.net)
[06:13:53] *** Joins: brianloveswords (brianloves@moz-CB223D1E.members.linode.com)
[06:13:53] *** Joins: alp (alp@moz-D1CEC204.com)
[06:13:58] *** Joins: petantik (oz@moz-20EC2160.net)
[06:13:58] *** Joins: Caseus (bacon@moz-9F046088.members.linode.com)
[06:14:47] *** Joins: tjc (tjc@97749FB7.FD5C31A1.284344F5.IP)
[06:14:47] *** ChanServ sets mode: +o tjc
[06:15:32] *** Joins: bstrie (ben@moz-D5A1D0F5.members.linode.com)
[06:16:22] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[06:16:57] *** Joins: friggle (friggle@moz-A607EAFA.members.linode.com)
[06:17:21] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[06:17:34] *** Quits: gem (nandaja@B1D7FCCD.ECD4BE91.B84D4DA2.IP) (Ping timeout)
[06:18:24] <sfackler> is it possible to use something relative to the current module?
[06:18:27] *** Joins: onr99 (onur@DBB90BD8.70012127.53438D71.IP)
[06:18:35] <ChrisMorgan> sfackler: yes, self::x
[06:18:41] <ChrisMorgan> Also super::x for up one level
[06:18:42] <sfackler> thanks
[06:19:01] <sfackler> i only knew about super so I was doing super::my_mod::thing :/
[06:19:15] *** Joins: ivan (ivan@moz-531C3EC9.members.linode.com)
[06:19:38] *** Quits: ercxx (ercan@moz-7CFF3469.dyn.optonline.net) (Quit: WeeChat 0.4.2)
[06:19:49] *** Joins: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP)
[06:20:47] *** Joins: froystig_ (froystig@moz-20E3E495.stanford.edu)
[06:20:50] *** Quits: froystig_ (froystig@moz-20E3E495.stanford.edu) (Quit: froystig_)
[06:20:58] *** Joins: bheylin (brianheyli@837B6557.E7BADBF1.B0C2132F.IP)
[06:22:25] *** Quits: mark_edward (quassel@5F06B402.AD1E507F.3688B332.IP) (Quit: http://quassel-irc.org - Chat comfortably. Anywhere.)
[06:22:28] *** Joins: mark_edward (quassel@5F06B402.AD1E507F.3688B332.IP)
[06:22:37] *** Quits: mark_edward (quassel@5F06B402.AD1E507F.3688B332.IP) (Quit: http://quassel-irc.org - Chat comfortably. Anywhere.)
[06:23:09] *** Joins: mark_edward (quassel@moz-DCB0B750.lightspeed.cicril.sbcglobal.net)
[06:26:53] *** Quits: tjc (tjc@97749FB7.FD5C31A1.284344F5.IP) (Ping timeout)
[06:33:27] *** Quits: thewonderidiot (mike@moz-5506A033.hsd1.ca.comcast.net) (Connection reset by peer)
[06:33:33] *** Joins: gem (nandaja@7BABA923.678D92FB.9D59D0D8.IP)
[06:34:02] *** Joins: ilyoan (ilyoan@B4104EBB.3CC170B1.1E14B209.IP)
[06:35:23] *** Joins: pyrac (pyrac@moz-84C91992.w90-60.abo.wanadoo.fr)
[06:38:21] *** Quits: bheylin (brianheyli@837B6557.E7BADBF1.B0C2132F.IP) (Quit: bheylin)
[06:39:40] *** Quits: ktt3ja (Mibbit@moz-6B6EE8C0.hsd1.va.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[06:44:59] *** Quits: DeTeam (DeTeam@3F8887A3.6883A39.F5F3AF2.IP) (Ping timeout)
[06:45:20] *** Joins: bodie (bodie@moz-9A1A7949.cmdnnj.fios.verizon.net)
[06:46:23] *** Joins: DeTeam (DeTeam@4BF7CF8C.F076A358.E5977C21.IP)
[06:49:47] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[06:49:48] *** Quits: DeTeam (DeTeam@4BF7CF8C.F076A358.E5977C21.IP) (Connection reset by peer)
[06:49:52] *** Quits: pnathan (Adium@moz-EF4F82C8.tukw.qwest.net) (Quit: Leaving.)
[06:51:46] *** Quits: pyrac (pyrac@moz-84C91992.w90-60.abo.wanadoo.fr) (Quit: pyrac)
[06:54:25] *** Joins: DeTeam (DeTeam@3F8887A3.6883A39.F5F3AF2.IP)
[06:54:28] *** Joins: Heather (Heather@19663F6.F53BAACC.9C17E900.IP)
[06:54:42] <Heather> my pull is finally merged \o/
[06:56:41] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Quit: ZZZzzz…)
[06:56:45] <dbaupp> Heather: \o/
[06:57:02] <Heather> dbaupp now I want to try to add pc-linux-gnu
[06:57:32] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[06:58:25] *** Quits: dcrewi (david@moz-AB8667CE.gyrae.net) (Ping timeout)
[06:58:39] *** Quits: alisdair (textual@28441AAB.AC6E1995.F0AE27BD.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[06:58:57] *** Quits: onr99 (onur@DBB90BD8.70012127.53438D71.IP) (Ping timeout)
[07:01:05] <Heather> dbaupp how to search in issue list?
[07:01:13] <Heather> dbaupp there are 1.3k of them
[07:01:35] *** Joins: onr99 (onur@DBB90BD8.70012127.53438D71.IP)
[07:02:06] <dbaupp> Heather: github's search
[07:02:33] <dbaupp> when you're on a (subpage of) mozilla/rust the search bar will search the code & issues of mozilla/rust
[07:02:43] <dbaupp> e.g. https://github.com/mozilla/rust/search?q=foo&ref=cmdform&type=Issues
[07:04:24] *** kimundi is now known as zz_kimundi
[07:04:27] <Heather> dbaupp yes, found, thanks
[07:05:37] *** Joins: tjc (tjc@moz-6EB4E533.dsl.tsoft.com)
[07:05:37] *** ChanServ sets mode: +o tjc
[07:05:45] *** Quits: eddyb9 (eddy@FE23D96E.F33C1089.FB866788.IP) (Ping timeout)
[07:05:51] <Heather> git push --prune origin is great thing
[07:05:55] *** Joins: alonlevy (alon@moz-E6115DFA.bb.netvision.net.il)
[07:07:29] *** Quits: houzi (houzi@moz-186722C6.getinternet.no) (Ping timeout)
[07:08:30] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[07:11:01] *** Joins: sk (sk@9E6B574B.EB2AA036.2CAF0D3B.IP)
[07:14:27] *** Joins: fabiand (fabiand@moz-66E3E423.adsl.alicedsl.de)
[07:15:05] <inspur> can use gdb debug the rust program?
[07:15:15] *** Quits: tav (tav@moz-40D7C5F6.range109-154.btcentralplus.com) (Quit: tav)
[07:15:35] *** Joins: tav (tav@moz-40D7C5F6.range109-154.btcentralplus.com)
[07:15:58] <dbaupp> inspur: yes
[07:16:15] *** Joins: nano (nano@moz-74CAD1CA.superkabel.de)
[07:16:26] *** Joins: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net)
[07:19:06] *** Quits: onr99 (onur@DBB90BD8.70012127.53438D71.IP) (Ping timeout)
[07:19:54] *** Joins: tiffany (kawaii@moz-28A8742A.dhcp.embarqhsd.net)
[07:20:13] <inspur> thanks a lot
[07:20:38] <McPherrin> There's a flag to put more debug info to make gdb better
[07:20:47] <ChrisMorgan> rustc -Z debug-info
[07:20:55] <McPherrin> there's also extra-debug-info
[07:20:57] <ChrisMorgan> Also -Z extra-debug-info which may provide more.
[07:21:06] <McPherrin> I haven't used either :P
[07:21:18] <McPherrin> (my code works the first time round ;) )
[07:22:09] <Sharp> Impossible.  Everybody ICEs the first time.
[07:22:12] <ChrisMorgan> McPherrin: I guess we won't get you to work on the debugger, then.
[07:23:03] <McPherrin> ChrisMorgan: heh, I am mostly joking.  I do appreciate a good debugger :)
[07:23:04] *** Quits: johns (johns@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[07:23:09] * Sharp prefers the option that maps trans instructions to LLVM instructions but can never remember what it is.
[07:23:21] *** Joins: johns (johns@moz-BBE3ABD.mv.mozilla.com)
[07:23:34] <dbaupp> Sharp: you mean `--emit-llvm -S`?
[07:23:37] * Sharp just adds all of them to get that one :P
[07:23:49] <McPherrin> We have a sweet tool to browse c++ objects like a filesystem at work
[07:23:51] <Sharp> Nope, that emits LLVM but it doesn't tell me which trans functions were called in the process
[07:23:53] <McPherrin> best way to debug things :)
[07:23:56] <Sharp> It's a -Z option.
[07:24:12] <Sharp> Probably something obvious like -Z trans.
[07:24:22] <McPherrin> Sharp: use the source, luke
[07:24:27] *** Joins: pyrac (pyrac@moz-84C91992.w90-60.abo.wanadoo.fr)
[07:24:34] <dbaupp> Sharp: there's `-Z help` btw
[07:24:36] <McPherrin> go read the list of options :P
[07:24:46] <Sharp> Haha
[07:24:50] *** Quits: nano (nano@moz-74CAD1CA.superkabel.de) (Connection reset by peer)
[07:24:54] <Sharp> But it's so easy to just use all of them ocne I have the list!
[07:25:03] <Sharp> once*
[07:25:05] *** Joins: eddyb9 (eddy@6FBF3B92.124F9E.4A6B528C.IP)
[07:26:01] *** Joins: eatkinson (eatkinson@moz-261EDE03.hsd1.ca.comcast.net)
[07:26:07] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.2)
[07:27:19] *** Joins: aeqwa (aeqwa@moz-634131FA.dsl.tropolys.de)
[07:28:18] <Sharp> See… the problem is, -z help doesn't really tell me which one.  It's not trans-stats, for example :)
[07:28:39] <Sharp> I think it may be count-llvm-insns, which totally doesn't sound like that's what it is.
[07:28:44] <Sharp> Yeah, that's what it is.
[07:30:52] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[07:31:03] *** Joins: Ms2ger (Ms2ger@B7B2FF50.C60A97A6.F9FB0584.IP)
[07:33:22] *** Quits: pyrac (pyrac@moz-84C91992.w90-60.abo.wanadoo.fr) (Quit: pyrac)
[07:34:25] *** Joins: sanxiyn (tinuviel@B4104EBB.3CC170B1.1E14B209.IP)
[07:35:01] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Quit: ZZZzzz…)
[07:35:28] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[07:36:14] *** Joins: pyrac (pyrac@moz-84C91992.w90-60.abo.wanadoo.fr)
[07:36:54] *** Parts: Heather (Heather@19663F6.F53BAACC.9C17E900.IP) ()
[07:37:26] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Quit: ZZZzzz…)
[07:37:54] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[07:39:41] *** Quits: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se) (Ping timeout)
[07:39:52] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Quit: ZZZzzz…)
[07:40:19] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[07:40:40] *** Joins: onr99 (onur@DBB90BD8.70012127.53438D71.IP)
[07:40:59] *** Joins: avsej (avsej@DF1824D5.EFF97412.48F984E6.IP)
[07:41:55] *** Quits: skeet70 (skeet70@moz-697F48F2.bzm-mt.client.bresnan.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[07:42:17] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Quit: ZZZzzz…)
[07:42:44] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[07:44:42] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Quit: ZZZzzz…)
[07:44:49] *** Joins: Ferreus (ferreus@moz-B5E7ECC1.dip0.t-ipconnect.de)
[07:45:09] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[07:46:34] *** Quits: pyrac (pyrac@moz-84C91992.w90-60.abo.wanadoo.fr) (Quit: pyrac)
[07:46:37] <dbaupp> <3 the new "did you mean to close this delimiter" message
[07:47:36] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Quit: ZZZzzz…)
[07:48:03] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[07:49:27] *** Joins: squiddy (squiddy@moz-10A271F9.adsl.alicedsl.de)
[07:50:02] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Quit: ZZZzzz…)
[07:50:30] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[07:50:55] <McPherrin> How do I go from a uint to an enum value?
[07:51:58] <ChrisMorgan> McPherrin: I believe FromPrimitive can do that.
[07:52:08] <ChrisMorgan> (You'll need #[deriving(FromPrimitive)] on the enum.)
[07:52:29] <sanxiyn> Yeah
[07:52:58] <McPherrin> Cool.
[07:54:30] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Quit: ZZZzzz…)
[07:54:33] <dbaupp> <3 erickt
[07:54:33] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[07:54:55] *** zz_kimundi is now known as kimundi
[07:56:57] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[08:00:07] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[08:02:23] *** Quits: fread2281 (zcarterc@moz-CB181B42.dia.static.qwest.net) (Ping timeout)
[08:03:02] *** Quits: johns (johns@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[08:03:05] *** Quits: eatkinson (eatkinson@moz-261EDE03.hsd1.ca.comcast.net) (Quit: eatkinson)
[08:03:15] *** Joins: johns (johns@moz-BBE3ABD.mv.mozilla.com)
[08:03:45] *** flaper87|afk is now known as flaper87
[08:04:35] *** Joins: fread2281 (zcarterc@moz-CB181B42.dia.static.qwest.net)
[08:05:09] *** Joins: aeqwa1 (aeqwa@moz-5CC431ED.dsl.tropolys.de)
[08:05:43] *** Quits: aeqwa (aeqwa@moz-634131FA.dsl.tropolys.de) (Ping timeout)
[08:06:34] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[08:08:43] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Quit: ZZZzzz…)
[08:09:49] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[08:11:01] *** Joins: robertknight (robertknig@moz-54528EE0.wby.mendeley.com)
[08:12:05] *** Quits: sanxiyn (tinuviel@B4104EBB.3CC170B1.1E14B209.IP) (Quit: Leaving)
[08:12:11] *** Quits: boredomist (boredomist@B16F530C.DC641F2C.BCAEBB33.IP) (Ping timeout)
[08:12:45] *** Quits: robertknight (robertknig@moz-54528EE0.wby.mendeley.com) (Ping timeout)
[08:12:50] *** Joins: nsf (nsf@moz-EEF3238A.convex.ru)
[08:13:03] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[08:15:35] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[08:15:50] *** Quits: KindOne (KindOne@moz-B279AA10.dynamic.ip.windstream.net) (Ping timeout)
[08:16:44] *** Quits: carllerche (carllerche@6B070D22.7E6A0813.1428D117.IP) (Quit: carllerche)
[08:17:18] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[08:19:13] *** Quits: alonlevy (alon@moz-E6115DFA.bb.netvision.net.il) (Quit: Leaving)
[08:20:23] *** Joins: KindOne (KindOne@moz-4B1CCA0B.dynamic.ip.windstream.net)
[08:21:39] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[08:23:07] <ChrisMorgan> Ah, I like it when I stop to add tests before committing and realise in consequence I made a blunder :-)
[08:23:08] *** Quits: johns (johns@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[08:23:20] *** Joins: johns (johns@moz-BBE3ABD.mv.mozilla.com)
[08:26:13] <Ms2ger> ChrisMorgan, hurrah for tests :)
[08:26:16] *** pmoore|away is now known as pmoore
[08:26:37] *** Quits: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP) (Ping timeout)
[08:26:44] * ChrisMorgan was reading hexadecimal digits from a stream but forgetting to add ten to the value of a-f
[08:27:28] *** Joins: pyrac (pyrac@151566EE.73C89388.AD05C589.IP)
[08:30:00] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[08:30:19] *** Quits: gem (nandaja@7BABA923.678D92FB.9D59D0D8.IP) (Ping timeout)
[08:30:30] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[08:32:08] <ChrisMorgan> Oh, cool. None::<u8> worked as None of type Option<u8>. I didn't actually expect it to work...
[08:32:16] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[08:32:27] * pcmattman sigh
[08:32:34] <pcmattman> "borrowed value does not live long enough" :(
[08:32:46] <ChrisMorgan> Everyone's favourite error.
[08:33:32] <eddyb9> pcmattman: even more like Dwarf Fortress
[08:36:33] <andor> sorry if this is a silly question/problem but i'm at the verge of ripping my hair out
[08:36:52] <Ms2ger> Try us
[08:37:04] <andor> i'm trying to get rust-stb-image to compile on master, but it tells me i need #[feature(globs)] because global imports
[08:37:16] <andor> which i promptly did add to all three files
[08:37:29] <andor> and the compiler couldn't care less about it
[08:37:30] <ChrisMorgan> You need to add #[feature(globs)]; to the crate root file only.
[08:37:51] <ChrisMorgan> The semicolon is important as it's an attribute on the crate.
[08:38:19] <andor> oh crap, yeah, missing semicolon
[08:38:20] <ChrisMorgan> Actually, it's not global imports, it's glob imports, glob referring to the * style of imports.
[08:39:06] *** Quits: RMF (RMF@moz-71FBA3E0.dsl.telepac.pt) (Ping timeout)
[08:39:13] <ChrisMorgan> The semicolon makes it apply to the outer object, no semicolon makes it apply to the item that follows.
[08:39:14] <Ms2ger> Which reminds me
[08:39:22] <andor> thanks, shows how careless i am
[08:39:23] <Ms2ger> Any macro guru around?
[08:39:45] <ChrisMorgan> Ms2ger: I've done quite a lot with macros now, but I'm just disappearing for 15 minutes.
[08:39:57] <ChrisMorgan> Ask and if no one has answered I will when I get back.
[08:40:05] <Ms2ger> Okay, thanks :)
[08:40:58] <pcmattman> eddyb9: well, it's that or "use of partially moved value" ;)
[08:41:28] <eddyb9> "partially"?
[08:41:35] <pcmattman> yep
[08:41:40] <eddyb9> how... can that happen?
[08:41:41] <pcmattman> it's been a good day
[08:41:51] *** Quits: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net) (Quit: Sharp)
[08:41:53] <eddyb9> goblins stole the other half?
[08:43:56] <pcmattman> no, just moving one field of a struct and not moving the others
[08:44:03] <pcmattman> or rather
[08:44:04] <eddyb9> lol
[08:44:09] <pcmattman> moving one field of a struct, and then trying to use others
[08:44:10] <eddyb9> that
[08:44:17] <eddyb9> *that sounds so weird
[08:45:23] <dbaupp> Ms2ger: I know bits and pieces about macros
[08:45:30] <Ms2ger> So I've got macros that create objects, and in some cases, I need to initialize some extra fields
[08:45:38] <Ms2ger> And right now, the macro does...
[08:46:08] <Ms2ger> $ctor { $parent: $parent_init::new($type_id, ($tag).to_str(), $document), $( $field: $field_init, )* };
[08:46:09] *** Joins: gem (nandaja@2306C846.BE681C88.A2DC32D.IP)
[08:46:34] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Client exited)
[08:46:47] <Ms2ger> But I don't want the macro to construct the object directly, but rather call $ctor::new
[08:47:16] <Ms2ger> But I can't figure out how to pass some arbitrary extra arguments in that case
[08:47:56] *** Ms2ger is now known as Nakor
[08:48:02] <dbaupp> as in $ctor::new(parent) sometimes and $ctor::new(parent, field1, field2) other times?
[08:48:04] *** Nakor is now known as Ms2ger
[08:48:12] <Ms2ger> Right
[08:48:31] <dbaupp> we don't have variadic functions, so it's not directly possible
[08:48:50] <dbaupp> if they're all the same type you can pass a vector, but I guess they're not...
[08:48:56] <Ms2ger> Well, with different values of $ctor
[08:48:59] <Luqman> dbaupp: i assume it depends on what $ctor is
[08:49:07] <dbaupp> Oh
[08:49:15] <dbaupp> Right...
[08:49:20] * dbaupp misunderstood
[08:49:29] <Ms2ger> So I want HTMLSpanElement::new(foo) and HTMLHeadingElement::new(foo, level1)
[08:49:42] <dbaupp> Doesn't $ctor::new(..., $($field_init),*) work?
[08:49:49] <dbaupp> something about commas?
[08:50:03] <Ms2ger> Let me try that... The commas definitely confused me :)
[08:50:11] *** Quits: ldunn (username@moz-94CB0FA.cyberius.net) (Ping timeout)
[08:50:35] <dbaupp> if it is complaining about commas then $ctor::new($parent_expr $(, $field_init)*) might work
[08:50:49] <dbaupp> anyway, gtg too
[08:52:00] *** Joins: nkoep (nik@moz-1C14C49F.pool.mediaways.net)
[08:54:50] *** Quits: tjc (tjc@moz-6EB4E533.dsl.tsoft.com) (Quit: Places to go, people to annoy)
[08:55:14] *** Quits: bytbox (s@moz-54E13927.washdc.fios.verizon.net) (Ping timeout)
[08:58:34] *** Joins: bytbox (s@moz-54E13927.washdc.fios.verizon.net)
[09:00:06] *** Quits: inspur (inspurhua@54B0D324.D4DDBED4.B3490680.IP) (Quit: )
[09:02:58] *** Quits: johns (johns@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[09:03:12] *** Joins: johns (johns@moz-BBE3ABD.mv.mozilla.com)
[09:04:33] <Ms2ger> dbaupp, looks like your help pushed me in the right direction, thanks!
[09:05:41] <ChrisMorgan> The , in $($x:ident),* is magic and means it'll match or expand to `foo`, `foo, bar`, `foo, bar, baz`, &c.
[09:05:48] *** Joins: RMF (RMF@4EAA63AE.44ED0B2A.7CFB50F9.IP)
[09:06:01] <eddyb9> the , is the separator
[09:06:20] <ChrisMorgan> Yeah, separator is probably a better word than magic.
[09:06:38] <eddyb9> interestingly enough, I have a similar special case for repeating patterns with a separator, in codeaze
[09:07:37] *** kimundi is now known as zz_kimundi
[09:08:22] <ChrisMorgan> Ms2ger: have you solved your problem?
[09:08:40] <Ms2ger> ChrisMorgan, yep!
[09:09:50] <ChrisMorgan> Güt.
[09:10:24] <eddyb9> Güt feeling?
[09:10:51] *** Quits: gem (nandaja@2306C846.BE681C88.A2DC32D.IP) (Ping timeout)
[09:12:48] *** zz_kimundi is now known as kimundi
[09:14:59] *** Quits: tikue_ (tikue_star@94F1ACEF.F3E8A984.689607DE.IP) (Ping timeout)
[09:15:37] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[09:20:33] *** Joins: amro (quassel@D9E34ACF.8AAAF769.FAAB0799.IP)
[09:20:42] *** Joins: bholley (anonymous@moz-BC4FAFB9.dip0.t-ipconnect.de)
[09:20:48] *** Quits: ofeldt (ofeldt@moz-E11B987D.dip0.t-ipconnect.de) (Ping timeout)
[09:23:09] *** Quits: johns (johns@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[09:23:24] *** Joins: johns (johns@moz-BBE3ABD.mv.mozilla.com)
[09:23:34] <Ms2ger> Hrm, not entirely, it seems
[09:23:36] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Quit: Leaving.)
[09:23:37] <Ms2ger> error: Local ambiguity: multiple parsing options: built-in NTs expr ('arg') or 1 other options.
[09:23:52] *** Joins: spider-mario (spidermari@moz-81131DB6.fbx.proxad.net)
[09:24:33] *** Joins: ofeldt (ofeldt@moz-E11B987D.dip0.t-ipconnect.de)
[09:25:51] <jdm> that's intimidating
[09:26:19] <Ms2ger> Quite
[09:27:03] *** Joins: gem (nandaja@43C91259.E36D966E.A2DC32D.IP)
[09:27:07] *** Quits: ofeldt (ofeldt@moz-E11B987D.dip0.t-ipconnect.de) (Ping timeout)
[09:27:54] *** Joins: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com)
[09:28:29] <Ms2ger> ChrisMorgan, still around? :)
[09:28:37] *** Quits: onr99 (onur@DBB90BD8.70012127.53438D71.IP) (Quit: Leaving)
[09:29:03] <ChrisMorgan> Ms2ger: prolliably
[09:29:42] <Ms2ger> Does that error message above mean anything to you? :)
[09:29:44] <ChrisMorgan> There are certain bugs with local ambiguity which are irreconcilable in the current system without changing the syntax to utterly remove the ambiguity.
[09:30:21] <Ms2ger> That doesn't sound encouraging :)
[09:30:51] <ChrisMorgan> And some that simply cannot be fixed at all, e.g. ones based on tt (token tree) with repetition are generally broken.
[09:30:51] <ChrisMorgan> What's the rule?
[09:31:04] *** Joins: ofeldt (ofeldt@moz-E11B987D.dip0.t-ipconnect.de)
[09:31:10] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[09:32:11] <Ms2ger> https://pastebin.mozilla.org/3388241
[09:32:53] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[09:33:45] *** Quits: ofeldt (ofeldt@moz-E11B987D.dip0.t-ipconnect.de) (Ping timeout)
[09:35:00] <jdm> Ms2ger: maybe pass ([])?
[09:35:30] <Ms2ger> error: No rules expected the token: (
[09:35:51] *** Quits: yusukesuzuki (yusukesuzu@moz-FEE44B6.net220148245.t-com.ne.jp) (Ping timeout)
[09:36:47] *** Joins: yusukesuzuki (yusukesuzu@moz-FEE44B6.net220148245.t-com.ne.jp)
[09:36:52] *** Quits: yusukesuzuki (yusukesuzu@moz-FEE44B6.net220148245.t-com.ne.jp) (Quit: yusukesuzuki)
[09:36:58] *** Joins: yusukesuzuki (yusukesuzu@moz-FEE44B6.net220148245.t-com.ne.jp)
[09:37:08] <ChrisMorgan> Ms2ger: change it to $(,$arg:expr)*, also removing the , from $ctor, and it probably works for me.
[09:37:18] * ChrisMorgan is away for some time now
[09:37:34] *** Joins: ofeldt (ofeldt@moz-E11B987D.dip0.t-ipconnect.de)
[09:38:37] <Ms2ger> error: No rules expected the token: ,
[09:38:37] <Ms2ger> handle_newable_element_with_args!(document, tag, "h1", HTMLHeadingElement, [Heading1]);
[09:38:37] <Ms2ger>                                                                          ^
[09:39:19] *** Quits: yusukesuzuki (yusukesuzu@moz-FEE44B6.net220148245.t-com.ne.jp) (Quit: Tiarra 0.1+svn-39209: SIGINT received; exit)
[09:39:31] *** Joins: skade (skade@30BBD5E6.505237C9.CAE22B62.IP)
[09:40:08] *** Joins: yusukesuzuki (yusukesuzu@moz-FEE44B6.net220148245.t-com.ne.jp)
[09:40:22] *** Joins: CarpNet (ac@moz-FD24B77.sohonet.co.uk)
[09:41:07] *** Joins: robertknight (robertknig@moz-54528EE0.wby.mendeley.com)
[09:41:40] *** Joins: alonlevy (alon@6B153134.230A010B.EFBC6494.IP)
[09:41:46] *** Quits: bholley (anonymous@moz-BC4FAFB9.dip0.t-ipconnect.de) (Ping timeout)
[09:42:12] *** Joins: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se)
[09:42:32] *** Joins: bholley (anonymous@moz-ECA833F6.dip0.t-ipconnect.de)
[09:46:37] *** Quits: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP) (Input/output error)
[09:47:04] *** Quits: ofeldt (ofeldt@moz-E11B987D.dip0.t-ipconnect.de) (Ping timeout)
[09:47:18] <dbaupp> Ms2ger: snippet of code?
[09:48:17] <eddyb9> Ms2ger: huh, what you working on?
[09:48:29] <dbaupp> eddyb9: macros
[09:49:01] <Ms2ger> dbaupp, https://pastebin.mozilla.org/3388241
[09:49:23] <Ms2ger> That last error was with the change ChrisMorgan suggested
[09:50:26] <dbaupp> changing [$($arg:expr),*] to [$(, arg:expr)*] ? 
[09:50:35] *** Joins: ofeldt (ofeldt@moz-E11B987D.dip0.t-ipconnect.de)
[09:50:39] <eddyb9> huh?
[09:51:05] <eddyb9> the second one looks barely parseable and requires a leading , 
[09:51:16] <Ms2ger> And dropping the , after $ctor, yes
[09:51:45] <dbaupp> you'll need to call `HTMLHeadingElement [Heading1]` then
[09:51:50] *** Quits: alonlevy (alon@6B153134.230A010B.EFBC6494.IP) (Ping timeout)
[09:52:01] <Ms2ger> Hmm
[09:52:02] <dbaupp> but that won't work because the expr parser is greedy and will eat the []
[09:52:11] <dbaupp> give me a minute
[09:52:53] <dbaupp> (you can use `rustc --pretty expanded` to see what it's expanding to, if you get something that expands, but doesn't actually work, btw.)
[09:52:55] *** Quits: voxpopuli (fanservice@17356A8.3591AA85.689607DE.IP) (Ping timeout)
[09:53:07] *** Quits: ofeldt (ofeldt@moz-E11B987D.dip0.t-ipconnect.de) (Ping timeout)
[09:53:57] *** Quits: gem (nandaja@43C91259.E36D966E.A2DC32D.IP) (Ping timeout)
[09:54:31] <Ms2ger> If you don't find anything, I can live with some code duplication ;)
[09:55:16] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[09:56:16] <dbaupp> ah! I think I know this bug
[09:57:05] *** Joins: ofeldt (ofeldt@moz-7BB72199.dip0.t-ipconnect.de)
[09:57:19] <dbaupp> https://github.com/mozilla/rust/issues/5902
[09:58:58] <Ms2ger> Heh
[09:59:05] *** Quits: skade (skade@30BBD5E6.505237C9.CAE22B62.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[09:59:10] <Ms2ger> That happens to be the exact some code I'm touching
[09:59:30] *** Joins: Palmik (palmik@moz-11EA685D.pks.muni.cz)
[09:59:42] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Client exited)
[09:59:54] <dbaupp> haha
[10:00:24] <dbaupp> Ms2ger: https://gist.github.com/huonw/4d8806b945a3f12a1e47 works for me (the first file is the expansion, the second is the actual code, silly gist & its alphabetical ordering)
[10:00:52] <dbaupp> in particular, bracketing the $arg:expr's and putting the , inside the $()* expansion
[10:01:37] <Ms2ger> A little ugly, but I can live with that if jdm can :)
[10:01:39] <Ms2ger> Thanks!
[10:01:54] <dbaupp> it also works more nicely without the outer []
[10:02:36] <dbaupp> Ms2ger: i.e. https://gist.github.com/huonw/4d8806b945a3f12a1e47#file-macro-3-rs
[10:02:43] <pyrac> Hi all. Is it me or is there a ')' missing on https://github.com/mozilla/rust/blob/master/mk/install.mk#L142 ?
[10:02:45] * Ms2ger compiles
[10:02:58] *** Quits: RMF (RMF@4EAA63AE.44ED0B2A.7CFB50F9.IP) (Ping timeout)
[10:02:59] <Ms2ger> dbaupp, oh, neat!
[10:03:26] <dbaupp> pyrac: looks like it
[10:03:54] <pyrac> dbaupp: it makes install fail for me. Should I submit a PR for such a small thing?
[10:03:59] <dbaupp> pyrac: definitely
[10:06:15] *** Joins: sweet_kid (Upasana@F685FB81.839A33D6.388CF16F.IP)
[10:06:17] <dbaupp> Ms2ger: one can also drop the , in https://gist.github.com/huonw/4d8806b945a3f12a1e47#file-macro-3-rs-L14 if https://gist.github.com/huonw/4d8806b945a3f12a1e47#file-macro-3-rs-L4 is changed to `($ctor:ident $(, $arg:expr)*) => {`
[10:06:51] *** Joins: RMF (RMF@4EAA63AE.44ED0B2A.7CFB50F9.IP)
[10:07:42] <pyrac> dbaupp: done :)
[10:08:32] <Ms2ger> dbaupp, you're a gentleman and a scholar
[10:08:47] <Ms2ger> Remind me to buy you a beer* if I ever run into you
[10:08:54] *** Joins: GeorgeH (George@moz-FB5F2302.hsd1.nj.comcast.net)
[10:08:57] <Ms2ger> (* or other beverage if preferred)
[10:09:20] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Ping timeout)
[10:10:10] *** Quits: ofeldt (ofeldt@moz-7BB72199.dip0.t-ipconnect.de) (Ping timeout)
[10:10:12] <dbaupp> pyrac: hm, it's weird that no-one else is hitting that (e.g. `make install` works fine for me)... how are you invoking it?
[10:10:29] <dbaupp> Ms2ger: np :)
[10:10:30] *** Joins: gem (nandaja@4763F90C.40D2FDEE.301675BC.IP)
[10:11:44] <pyrac> dbaupp: I have done nothing special. Just fetch and merge upstream and then make install
[10:13:05] <dbaupp> pyrac: ah it was changed just recently: https://github.com/mozilla/rust/commit/1c4a348b072a1b6191ac349aefffcc1c5fe84de7#diff-1
[10:13:07] *** Quits: fyolnish (fyolnish@moz-BE2BAE5B.miinet.jp) (Ping timeout)
[10:13:29] <dbaupp> '$(PREFIX_ROOT)' became '$(CFG_MANDIR'
[10:13:37] *** Joins: ofeldt (ofeldt@moz-7BB72199.dip0.t-ipconnect.de)
[10:13:55] <dbaupp> pyrac: could you fix the other 3 instances on lines 15[567] too?
[10:14:06] <pyrac> dbaupp: sure
[10:14:39] <dbaupp> pyrac: and it looks like the ) is meant to go after MANDIR, not at the end of the line
[10:15:51] <pyrac> dbaupp: yes you're right, I am on it
[10:16:40] <eddyb9> what... pinged me?
[10:17:25] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Quit: ZZZzzz…)
[10:17:57] *** Joins: skade (skade@30BBD5E6.505237C9.CAE22B62.IP)
[10:17:58] *** Quits: ofeldt (ofeldt@moz-7BB72199.dip0.t-ipconnect.de) (Ping timeout)
[10:19:27] *** Quits: skade (skade@30BBD5E6.505237C9.CAE22B62.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[10:20:38] *** Quits: sweet_kid (Upasana@F685FB81.839A33D6.388CF16F.IP) (Quit: Leaving)
[10:20:40] *** Joins: skade (skade@30BBD5E6.505237C9.CAE22B62.IP)
[10:21:38] *** Joins: ofeldt (ofeldt@moz-7BB72199.dip0.t-ipconnect.de)
[10:22:20] *** Quits: skade (skade@30BBD5E6.505237C9.CAE22B62.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[10:24:16] <pyrac> dbaupp: PR updated
[10:24:21] *** Joins: skade (skade@30BBD5E6.505237C9.CAE22B62.IP)
[10:26:04] *** Joins: andre (andre@CA528A4A.45A4338E.8EE27E6.IP)
[10:26:22] <dbaupp> pyrac: could you squash the two commits into 1?
[10:28:18] <pyrac> dbaupp: I should resubmit a PR for that? 
[10:28:35] <cmr> pyrac: you can force push to the branch to update the PR
[10:28:37] <dbaupp> pyrac: no, force-pushing a rebase/squashed branch is fine
[10:28:44] <cmr> dbaupp: ninja'd
[10:29:21] *** Quits: ofeldt (ofeldt@moz-7BB72199.dip0.t-ipconnect.de) (Ping timeout)
[10:29:31] *** kimundi is now known as zz_kimundi
[10:29:36] <dbaupp> cmr: I made it clearer that it was acceptable per Rust development procedure :P
[10:29:56] <cmr> dbaupp: but you used one more character than I did!
[10:30:29] <dbaupp> cmr: I had more information, and since it was only one character more, presumably high information density too
[10:30:50] *** Joins: tikue_ (tikue_star@moz-FEADCD38.hsd1.pa.comcast.net)
[10:30:50] <cmr> dbaupp: darn your science!
[10:31:11] * dbaupp is victorious! \o/
[10:32:39] *** Joins: ofeldt (ofeldt@moz-7BB72199.dip0.t-ipconnect.de)
[10:32:46] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[10:32:49] *** Quits: tikue_ (tikue_star@moz-FEADCD38.hsd1.pa.comcast.net) (Ping timeout)
[10:34:17] <pyrac> dbaupp: done, thanks for the help
[10:34:28] *** Quits: GeneralMaximus (ankur@375CEBE6.4C100BA0.8B6C1D65.IP) (Quit: Textual IRC Client: www.textualapp.com)
[10:34:30] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[10:35:10] *** Quits: ofeldt (ofeldt@moz-7BB72199.dip0.t-ipconnect.de) (Ping timeout)
[10:37:04] <dbaupp> pyrac: did you check it works, locally? (thank *you* for the fix!)
[10:38:07] *** Joins: BizarreCake (BizarreCak@moz-361FE9B2.dynamic.barak-online.net)
[10:38:40] *** Joins: ofeldt (ofeldt@moz-7BB72199.dip0.t-ipconnect.de)
[10:38:49] *** Joins: donri (donri@moz-9BB61102.tbcn.telia.com)
[10:39:13] <pyrac> dbaupp: yes it works for me
[10:39:22] *** Joins: moostik (moostik@moz-41419F92.w92-135.abo.wanadoo.fr)
[10:40:37] <dbaupp> pyrac: r+
[10:41:18] *** Joins: lenstr (lenstr@E0E80B8D.ED45D46B.DFEAE789.IP)
[10:42:35] <pyrac> dbaupp: great, thanks !
[10:43:43] *** Joins: Heather (Heather@19663F6.F53BAACC.9C17E900.IP)
[10:43:46] <Heather> disallowed operator in constant expression
[10:43:49] *** Quits: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com) (Ping timeout)
[10:43:57] <Heather> static ncore: ~uint = ~1;
[10:43:58] *** Joins: CyBeRKeL (cyber@E6A1FD6F.BE88DC8C.9C1C15C3.IP)
[10:44:29] <cmr> Heather: you can't have ~T in a static, since they require runtime heap allocation.
[10:45:32] <dbaupp> Heather: `static ncore: uint = 1;` should work?
[10:45:35] <Heather> cmr ... but I want mutable static variable :S
[10:45:45] <Heather> dbaupp it's not mutable ...
[10:45:48] *** Joins: Excureo (c@moz-EB93D257.static.knwc.wa.charter.com)
[10:45:54] <cmr> Heather: it's not mutable as ~uint either.
[10:46:04] <cmr> Heather: you want `static mut ncore: uint = 1;`
[10:46:09] <Heather> ah....
[10:46:12] <Heather> cmr sure
[10:46:27] <Heather> my fault, sure, thanks.
[10:46:27] <cmr> Requires unsafe code to access, because it can be racy.
[10:48:49] *** Quits: lenstr (lenstr@E0E80B8D.ED45D46B.DFEAE789.IP) (Client exited)
[10:51:31] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[10:54:21] *** Joins: Sorella (quildreen@9D963F5D.DF5D8AE7.54BCAB54.IP)
[10:54:33] *** Joins: orshem (orshem@E54CCADA.B9DE554A.EB50AD2C.IP)
[10:57:19] <eddyb9> Heather: you can have an unique ptr in a static, with Option
[10:57:54] *** Quits: moostik (moostik@moz-41419F92.w92-135.abo.wanadoo.fr) (Quit: leaving)
[10:57:59] *** Quits: avsej (avsej@DF1824D5.EFF97412.48F984E6.IP) (Ping timeout)
[10:58:06] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[10:58:13] <eddyb9> (but then you have to initialize and unwrap it by itself)
[10:58:17] <engla> you can?
[10:58:27] *** Joins: moostik (Icedove@moz-41419F92.w92-135.abo.wanadoo.fr)
[10:58:30] <eddyb9> engla: you set it to None
[10:59:07] <engla> yeah
[11:01:42] *** Quits: orshem (orshem@E54CCADA.B9DE554A.EB50AD2C.IP) (Quit: Leaving)
[11:02:04] *** Quits: pyrac (pyrac@151566EE.73C89388.AD05C589.IP) (Quit: pyrac)
[11:03:04] *** Quits: RMF (RMF@4EAA63AE.44ED0B2A.7CFB50F9.IP) (Quit: Computer has gone to sleep.)
[11:04:36] *** Joins: avsej (avsej@DF1824D5.EFF97412.48F984E6.IP)
[11:04:43] *** Quits: jesse98 (jjones@6251EDC2.15651213.B46B86FA.IP) (Connection reset by peer)
[11:05:09] *** Joins: jesse98 (jjones@6251EDC2.15651213.B46B86FA.IP)
[11:06:24] *** Joins: pyrac (pyrac@151566EE.73C89388.AD05C589.IP)
[11:08:16] <dbaupp> eddyb9, engla: I have a feeling that might crash because dtors aren't handled correctly in statics (i could easily be wrong though)
[11:08:47] <eddyb9> dbaupp: either manually set it to None or... fix statics
[11:09:13] *** Quits: Palmik (palmik@moz-11EA685D.pks.muni.cz) (Quit: Lost terminal)
[11:09:40] * pcmattman watches a make check run
[11:09:42] <pcmattman> (hurrah!)
[11:10:45] <dbaupp> eddyb9: ... and I think that a decision was made to disallow *types* (not just values) with dtors from appearing in statics totally.
[11:10:47] <eddyb9> pcmattman: are we still halted on the "external" nonsense?
[11:11:13] <pcmattman> yup, this make check is for #10109
[11:11:49] <eddyb9> dbaupp: well, would a ~T without a custom destructor work?
[11:12:36] *** Quits: Ms2ger (Ms2ger@B7B2FF50.C60A97A6.F9FB0584.IP) (Quit: bbl)
[11:12:46] <dbaupp> eddyb9: no, ~ has a dtor
[11:13:15] <dbaupp> (at least, it kinda has a dtor, I don't think it's regarded as impl-ing Drop...)
[11:13:33] <cmr> rusti :(
[11:13:35] <engla> a plain ~T in a static is has no use anyway anyway (you can't move out of it).
[11:15:41] *** Parts: Heather (Heather@19663F6.F53BAACC.9C17E900.IP) ()
[11:16:17] *** Quits: jdm (jdm@moz-AFF897B8.dsl.teksavvy.com) (Quit: Lost terminal)
[11:17:27] *** pmoore is now known as pmoore|away
[11:18:19] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[11:19:40] *** pmoore|away is now known as pmoore
[11:20:04] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[11:21:26] *** Joins: maik_ (maik@moz-33C636B7.dip0.t-ipconnect.de)
[11:25:09] *** Quits: silotis (quassel@moz-4B8C4631.oc.oc.cox.net) (Ping timeout)
[11:25:22] *** Joins: silotis (quassel@moz-4B8C4631.oc.oc.cox.net)
[11:27:55] *** Quits: six600110 (six600110@moz-C663577C.hsd1.il.comcast.net) (Quit: Ex-Chat)
[11:29:09] *** Joins: six600110 (six600110@moz-C663577C.hsd1.il.comcast.net)
[11:30:21] *** flaper87 is now known as flaper87|afk
[11:34:14] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[11:35:57] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[11:36:38] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[11:39:05] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Quit: ZZZzzz…)
[11:41:38] *** Joins: Earnestly (earnest@38FE72A5.82423D8F.BFD1ABFD.IP)
[11:44:04] *** Joins: exobit_ (textual@moz-E06F46F0.corp.bitshelter.com)
[11:48:10] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[11:49:31] *** Joins: lenstr (lenstr@E0E80B8D.ED45D46B.DFEAE789.IP)
[11:51:16] *** Quits: lenstr (lenstr@E0E80B8D.ED45D46B.DFEAE789.IP) (Ping timeout)
[11:51:34] *** Quits: ivan (ivan@moz-531C3EC9.members.linode.com) (Input/output error)
[11:52:27] *** Joins: lenstr (lenstr@E0E80B8D.ED45D46B.DFEAE789.IP)
[11:54:22] *** Quits: lenstr (lenstr@E0E80B8D.ED45D46B.DFEAE789.IP) (Ping timeout)
[11:58:35] *** Quits: avsej (avsej@DF1824D5.EFF97412.48F984E6.IP) (Ping timeout)
[12:00:03] *** Joins: avsej (avsej@DF1824D5.EFF97412.48F984E6.IP)
[12:01:45] *** Joins: ivan (ivan@moz-531C3EC9.members.linode.com)
[12:06:58] *** Quits: eddyb9 (eddy@6FBF3B92.124F9E.4A6B528C.IP) (Ping timeout)
[12:07:10] *** Quits: avsej (avsej@DF1824D5.EFF97412.48F984E6.IP) (Ping timeout)
[12:08:18] *** Joins: z0w0 (zack@moz-238C2341.lnse3.cha.bigpond.net.au)
[12:08:54] *** Quits: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au) (Ping timeout)
[12:10:47] *** Joins: johnmurray (jmurray@moz-299FF8FF.fw.nyc2.appnexus.com)
[12:12:11] *** Joins: ChrisMorgan (chris@moz-6AC741CA.static.tpgi.com.au)
[12:15:20] *** Parts: lenary (uid5084@moz-31ABA2C0.irccloud.com) ()
[12:18:40] *** Quits: moostik (Icedove@moz-41419F92.w92-135.abo.wanadoo.fr) (Ping timeout)
[12:21:13] *** Joins: moostik (Icedove@moz-747A39FA.w92-135.abo.wanadoo.fr)
[12:25:43] *** Joins: avsej (avsej@DF1824D5.EFF97412.48F984E6.IP)
[12:32:51] *** Joins: alonlevy (alon@moz-29263FE5.red.bezeqint.net)
[12:35:07] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[12:36:12] *** Joins: canhtak (canhtak@moz-66A0054D.wl.t.ulaval.ca)
[12:36:51] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[12:37:19] *** Quits: DeTeam (DeTeam@3F8887A3.6883A39.F5F3AF2.IP) (Broken pipe)
[12:39:40] *** Joins: reedlepee (Mibbit@9B9315E1.A6025CA.1C37C358.IP)
[12:40:39] *** Joins: DeTeam (DeTeam@3F8887A3.6883A39.F5F3AF2.IP)
[12:41:02] *** Quits: DeTeam (DeTeam@3F8887A3.6883A39.F5F3AF2.IP) (Input/output error)
[12:41:51] *** flaper87|afk is now known as flaper87
[12:42:46] *** Joins: jdm (jdm@moz-AFF897B8.dsl.teksavvy.com)
[12:42:46] *** ChanServ sets mode: +o jdm
[12:42:54] * ChrisMorgan couldn't think what to name a trivial convenience macro  in some tests, so he named it assert_thingy!
[12:43:22] *** Quits: johns (johns@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[12:43:41] *** Joins: johns (johns@moz-BBE3ABD.mv.mozilla.com)
[12:43:55] <eddyb> ChrisMorgan: what does it do?
[12:44:44] *** Joins: Heather (Heather@19663F6.F53BAACC.9C17E900.IP)
[12:45:01] <Heather> Where did you get llvm git?
[12:45:08] <ChrisMorgan> eddyb: it's just simple syntax sugar to reduce some repetition.
[12:45:18] <Heather> I can see it's from alexcrichton
[12:45:29] <Heather> which is forked from brson
[12:45:45] <Heather> which is forked from chapuni
[12:45:53] *** Joins: cdelo (cdelo@4748811C.DB827D7B.407F7C5B.IP)
[12:46:00] <Heather> why that queue?
[12:46:12] <eddyb> ChrisMorgan: but what does it actually do :D?
[12:47:01] <Heather> And who is chapuni?
[12:48:18] <Heather> why you preferred chapuni->brson->alexcrichton  instead of https://github.com/llvm-mirror/llvm ?
[12:49:09] <Heather> even why not http://llvm.org/git/llvm.git
[12:51:11] <ChrisMorgan> eddyb: macro_rules! assert_thingy { ($func:ident($value:expr) == $expected:expr) => {{ assert_eq!($func(&mut MemReader::new($value.as_bytes().into_owned()), |b| b == 0, $expected); }} }
[12:52:51] *** pmoore is now known as pmoore|lunch
[12:52:57] *** Quits: maik_ (maik@moz-33C636B7.dip0.t-ipconnect.de) (Ping timeout)
[12:53:25] *** jorendorff_away is now known as jorendorff
[12:53:28] <ChrisMorgan> That way I can write things like `assert_thingy!(read_decimal("0\0") == Some(0u8));` rather than `assert_eq!(read_decimal(&mut MemReader::new(bytes!("0\0").into_owned()), |b| b == 0, Some(0u8));` which gets a bore after a couple of dozen test cases.
[12:54:29] *** Quits: z0w0 (zack@moz-238C2341.lnse3.cha.bigpond.net.au) (Client exited)
[12:55:16] *** Quits: pauls (pauls@moz-7140CF01.ccs.neu.edu) (Ping timeout)
[12:57:33] <ChrisMorgan> I could have called it mwca! (Macro Without a Cool Acronym).
[12:57:41] <dbaupp> Heather: gits design means that it doesn't actually matter who one "forks" it from, since commits have a unique identifier (the hash) that is shared among all copies of a repo (the "fork" idea is actually essentially a Github layer on top of git, git itself just essentially sees the local repository & remotes)
[12:58:15] <dbaupp> ChrisMorgan: are you trying to rip a hole in the space time continuum? because mwca is a pretty cool acronym.
[12:59:24] <eddyb> ChrisMorgan: I would call it assert_read, and concat read_ to $func
[13:00:18] <ChrisMorgan> eddyb: you're overthinking it! This is simply a handful of test functions all coming one after the other...
[13:00:33] * dbaupp normally uses macro_rules! t ( ... )
[13:00:39] <dbaupp> (t for test :P )
[13:00:52] *** Joins: cowboyd (cowboyd@moz-1BD02A1E.sw.biz.rr.com)
[13:02:08] *** Joins: sweet_kid (Upasana@FEF49F03.D5887D8F.4A5F0685.IP)
[13:03:09] <ChrisMorgan> A recursive macro for tabular tests is a nicer idea.
[13:03:22] *** Quits: Heather (Heather@19663F6.F53BAACC.9C17E900.IP) (Quit: ~ Trillian - www.trillian.im ~)
[13:04:15] *** Quits: tupshin (quassel@moz-E7B03838.c3-0.nyr-ubr1.nyr.ny.cable.rcn.com) (Ping timeout)
[13:06:23] <ChrisMorgan> dbaupp: the "Without a Cool Acronym" part is one of the comparatively few popular culture references that I'm able to make.
[13:07:11] * dbaupp didn't get it :P
[13:08:30] <ChrisMorgan> I wouldn't worry about being upset.
[13:08:45] <ChrisMorgan> I gather it's quite a bit more popular in the US and the UK than in Australia.
[13:09:08] *** Quits: sweet_kid (Upasana@FEF49F03.D5887D8F.4A5F0685.IP) (Quit: Leaving)
[13:10:45] <dbaupp> yeah, I actually watched a few episodes with a friend a while ago, but I never caught the name of (what I now know to be) O.W.C.A.
[13:11:12] <ChrisMorgan> Read the Wikipedia article! Then you always understand all that needs to be known!
[13:11:36] * ChrisMorgan knows the basics of Star Wars from the Wikipedia article
[13:11:51] *** Quits: reedlepee (Mibbit@9B9315E1.A6025CA.1C37C358.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[13:14:11] *** zz_kimundi is now known as kimundi
[13:15:17] *** jorendorff is now known as jorendorff_away
[13:15:51] <ChrisMorgan> OK, now my macro makes it even cleaner: `test_reads!(http_version "HTTP/25.17\0" => Some((25, 17)), "http/1.0\0" => Some((1, 0)), "http 1.0\0" => None, etc.)
[13:17:37] *** Quits: gem (nandaja@4763F90C.40D2FDEE.301675BC.IP) (Client exited)
[13:19:59] *** Joins: maik_ (maik@moz-33C636B7.dip0.t-ipconnect.de)
[13:22:12] *** Joins: tupshin (quassel@moz-E7B03838.c3-0.nyr-ubr1.nyr.ny.cable.rcn.com)
[13:23:11] *** Joins: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net)
[13:23:19] *** Quits: johns (johns@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[13:23:41] *** Joins: johns (johns@moz-BBE3ABD.mv.mozilla.com)
[13:25:53] *** Joins: Ms2ger (Ms2ger@moz-E10D6F22.ugent.be)
[13:26:35] *** jorendorff_away is now known as jorendorff
[13:29:10] *** kimundi is now known as zz_kimundi
[13:29:49] *** Joins: lmandel (lmandel@moz-76CE9D51.cable.teksavvy.com)
[13:31:41] *** Joins: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com)
[13:31:42] *** Quits: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net) (Quit: Sharp)
[13:32:25] *** Quits: hjr3 (hradtke@moz-E87BDF1F.socal.res.rr.com) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[13:36:46] *** Quits: moostik (Icedove@moz-747A39FA.w92-135.abo.wanadoo.fr) (Ping timeout)
[13:36:57] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[13:38:41] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[13:42:01] *** Quits: skade (skade@30BBD5E6.505237C9.CAE22B62.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[13:42:35] *** Joins: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca)
[13:43:36] *** Quits: tav (tav@moz-40D7C5F6.range109-154.btcentralplus.com) (Quit: tav)
[13:47:01] *** Joins: moostik (Icedove@moz-5988E8E9.w92-135.abo.wanadoo.fr)
[13:51:28] *** Joins: skade (skade@moz-4D9CB8A6.sys11.net)
[13:51:33] <benh> Why is return an expression instead of a statement again? Pretty much just for the rhs of => in a match, practically?
[13:52:05] *** Joins: lfox (lfox@moz-343B6F0C.nyc.biz.rr.com)
[13:54:06] *** Joins: lenstr (lenstr@E0E80B8D.ED45D46B.DFEAE789.IP)
[13:55:14] *** Joins: darqland (ad@1FF1D5D4.3F1C4048.973C8D27.IP)
[13:55:43] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Ping timeout)
[13:55:44] <ChrisMorgan> Almost everything's an expression. It's convenient in places for return to be an expression with the result (); match branches are the most obvious case in my opinion.
[13:55:51] *** Quits: lenstr (lenstr@E0E80B8D.ED45D46B.DFEAE789.IP) (Ping timeout)
[13:56:02] *** Quits: skade (skade@moz-4D9CB8A6.sys11.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[13:56:14] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[13:58:59] <maik_> offtopic: is there any place where people showcase their programming workflow with all their tools?
[14:00:13] <sp3d> there's http://usesthis.com/
[14:00:22] <sp3d> but maybe that's not quite what you mean
[14:01:47] *** Joins: cubic (cubic@moz-80241A3A.mc.videotron.ca)
[14:03:00] *** Quits: johns (johns@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[14:03:21] *** Joins: johns (johns@moz-BBE3ABD.mv.mozilla.com)
[14:07:00] <maik_> yeah this goes in the right direction, but I am more interested in some "hardcore" workflow with vim or emacs. I started using vim + tmux 1 month ago and I am absolutely in love. But I am always hunting for a better workflow. . . 
[14:11:38] *** Quits: Axord (xord@moz-1B228827.lsanca.dsl-w.verizon.net) (Quit: I'm sure it's perfectly safe)
[14:12:01] *** zz_kimundi is now known as kimundi
[14:12:07] *** Joins: jvns (quassel@87D98E32.4046EB22.428F94DD.IP)
[14:13:22] <kimundi> I don't think return evaluates to ()
[14:13:36] <kimundi> I think it evaluates to !
[14:14:01] <kimundi> Because you can use it at any location without causing a type error
[14:14:12] <sp3d> yeah, "error: cannot determine a type for this bounded type parameter: unconstrained type"
[14:14:31] <sp3d> though that's *not* how ! behaves, really
[14:14:32] *** Quits: dsirenko (mitra@8E712A0.54C21BA0.9F317420.IP) (Ping timeout)
[14:14:41] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Quit: Gone to save the world!)
[14:17:04] *** Joins: dsirenko (mitra@8E712A0.54C21BA0.9F317420.IP)
[14:17:15] *** Joins: Axord (xord@moz-1B228827.lsanca.dsl-w.verizon.net)
[14:18:42] *** Joins: skade (skade@30BBD5E6.505237C9.CAE22B62.IP)
[14:20:46] *** Quits: sk (sk@9E6B574B.EB2AA036.2CAF0D3B.IP) (Ping timeout)
[14:24:01] *** Joins: gem (nandaja@4763F90C.40D2FDEE.301675BC.IP)
[14:26:32] *** Joins: Sharp (Sharp@moz-7B61DF4.dsl.static.sonic.net)
[14:27:27] *** Joins: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net)
[14:28:38] *** Quits: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net) (Client exited)
[14:29:29] *** Joins: nano (nano@moz-74CAD1CA.superkabel.de)
[14:32:39] <bstrie> maik_: I do all my coding and debugging in microsoft word
[14:33:21] <bstrie> if you ever see any embedded WordArt in rustc, that's me
[14:33:53] <darqland> anyone know where stringify! is 'defined' in the rust source, off hand?
[14:34:03] <darqland> my grep -r is useless or im blind
[14:34:24] <bstrie> darqland: I think all macros right now are defined in... src/libsyntax/ext
[14:34:37] *** Joins: pnathan (Adium@moz-EF4F82C8.tukw.qwest.net)
[14:34:44] <bstrie> what is stringify?
[14:35:26] *** Quits: skade (skade@30BBD5E6.505237C9.CAE22B62.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[14:35:37] <darqland> thanks.. not sure that's why i want to read source, it says: stringify! : pretty-print the Rust expression given as an argument
[14:36:37] <Sharp> bstrie: One of the most amusing (to me) things about the guide to PHP is that it species that you should not code in Microsoft Word
[14:36:46] *** Joins: sk (sk@A367FB1F.3E50858E.DFEAE789.IP)
[14:36:50] <Sharp> It flabbergasted me because until that moment it hadn ever occurred to me that people would try to do that.
[14:36:58] <sp3d> I know people that do that
[14:37:01] <bstrie> Sharp: link pls
[14:37:01] <sp3d> :(
[14:37:30] <Sharp> Sure, let me track it down.
[14:37:54] <Sharp> http://us3.php.net/manual/en/tutorial.firstpage.php
[14:38:08] <Sharp> "Note: A Note on Word Processors
[14:38:10] <Sharp> Word processors such as StarOffice Writer, Microsoft Word and Abiword are not optimal for editing PHP files. If you wish to use one for this test script, you must ensure that you save the file as plain text or PHP will not be able to read and execute the script."
[14:38:18] <bstrie> omg staroffice
[14:38:19] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[14:38:31] *** Joins: Scriptor (anonymous@moz-E06F46F0.corp.bitshelter.com)
[14:38:36] *** pmoore|lunch is now known as pmoore
[14:38:38] <Sharp> Isn't that amazing?
[14:39:19] <bstrie> huh, TIL that openoffice was based on staroffice
[14:39:59] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[14:40:18] <Sharp> Now that you've learned something new today, you're off the hook until tomorrow!
[14:40:53] * Sharp is, too, and he just woke up :)
[14:41:32] *** Joins: sweet_kid (Upasana@F685FB81.839A33D6.388CF16F.IP)
[14:42:01] <bstrie> I mean, well, PHP *was* intended for an audience unfamiliar with programming
[14:42:09] *** Joins: jvshahid (jvshahid@moz-53774307.nycm.ny.megapath.net)
[14:42:10] <bstrie> so a disclaimer like that isn't really unwarranted
[14:42:17] <Sharp> Yeah, I know.  I think I just didn't appreciate it until that point.
[14:42:36] <bstrie> let's add a similar disclaimer to the rust tutorial
[14:42:50] <Scriptor> that it isn't for beginners to programming?
[14:43:07] <Sharp> I think the disclaimer in our tutorial is that we assume you are familiar with C :/
[14:43:23] <Sharp> And memory management in general :P
[14:43:46] <bstrie> "For users coming from PHP, please note that word processors such as StarOffice Writer, Microsoft Word and Abiword are not optimal for editing Rust files."
[14:43:53] <Sharp> Haha
[14:44:05] <bstrie> ugh, no oxford comma
[14:44:16] <bstrie> this is truly the greatest sin on that page
[14:44:20] <Sharp> I have the feeling that anyone actually coming from PHP would find that terrifically funny.
[14:44:41] *** Joins: pauls (pauls@moz-7140CF01.ccs.neu.edu)
[14:44:54] *** Quits: lfox (lfox@moz-343B6F0C.nyc.biz.rr.com) (Ping timeout)
[14:44:55] <Scriptor> I can confirm this is indeed funny
[14:45:10] <bstrie> as a PHP dev by day, I third this notion
[14:45:22] <bstrie> although
[14:45:50] <bstrie> as someone who's just now learning web dev with python (as opposed to scripting tasks, which is what I've always used python for before)
[14:45:55] *** Joins: skade (skade@30BBD5E6.505237C9.CAE22B62.IP)
[14:45:56] <bstrie> it's remarkable how PHP Just Fucking Works
[14:46:14] <Sharp> PHP has, I think, become underrated as a language for doing what it is actually good at.
[14:47:04] <Ms2ger> Sharp, vulnerabilities? ;)
[14:47:06] <bstrie> like, I wanted to do exactly one thing on the server side for a little toy site I'm making
[14:47:14] <Sharp> Ms2ger: Hypertext preprocessing :P
[14:47:27] <bstrie> this would be about two lines of php, in a .php file, anywhere I want, with no hassle
[14:47:59] <bstrie> to do this in python took me two days
[14:48:03] *** Joins: houzi (houzi@moz-4F6A1E26.getinternet.no)
[14:48:16] * Sharp wonders if bstrie could actually get that line added to the document.
[14:48:44] <bstrie> I mean, I learned a lot
[14:49:00] <bstrie> for example, I learned that "pip uninstall" will not remove unused dependencies
[14:49:08] <Seldaek> bstrie: yeah hosting any python or ruby is tons of fun :)
[14:49:17] <bstrie> and then I learned the hard way that pip manages its own dependencies
[14:49:47] <bstrie> since it also doesn't have any way to tell you which dependencies are unused
[14:49:51] <Sharp> Sounds like a fun two days!
[14:50:08] <bstrie> like I said, I learned a lot :P
[14:50:16] <Seldaek> I'm surprised as the amount of php devs around here though
[14:50:22] <Seldaek> happily surprised I guess
[14:50:30] <bstrie> man, gotta make a living somehow
[14:50:40] <bstrie> rust don't pay the bills yet
[14:50:57] <Seldaek> no of course but C/C++ does 
[14:51:43] *** Joins: Kruppe (user@moz-253119B0.esg.uwaterloo.ca)
[14:51:45] *** Quits: jvshahid (jvshahid@moz-53774307.nycm.ny.megapath.net) (Quit: leaving)
[14:51:50] *** Joins: jvshahid (jvshahid@moz-53774307.nycm.ny.megapath.net)
[14:52:06] <bstrie> eh, you basically gotta be a genius or an idiot to make a living doing C/C++
[14:52:24] <Seldaek> hah
[14:52:29] <bstrie> as someone in-between, I don't have that luxury
[14:52:30] *** Quits: maik_ (maik@moz-33C636B7.dip0.t-ipconnect.de) (Connection reset by peer)
[14:52:38] <Scriptor> not a whole lot of C/C++ shops in the startup market
[14:53:26] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[14:53:37] *** jdm is now known as jdm|away
[14:54:14] <pnkfelix> bstrie: you just earned yourself a quote on my twitter feed
[14:54:39] <bstrie> I'm honored
[14:54:46] *** Joins: ianj (ianjneu@moz-7140CF01.ccs.neu.edu)
[14:55:11] <Seldaek> eh I have no idea, I'm also a php kid, though I have pretty much zero C/C++ knowledge 
[14:57:16] *** Quits: johnmurray (jmurray@moz-299FF8FF.fw.nyc2.appnexus.com) (Quit: johnmurray)
[14:59:14] *** Joins: johnmurray (jmurray@moz-299FF8FF.fw.nyc2.appnexus.com)
[14:59:52] <Ms2ger> bstrie, I guess that'd make me an idiot ;)
[15:00:18] <Ms2ger> Not that I make a living off C++ right now, but that's pretty much the plan
[15:00:45] <bstrie> Ms2ger: what do you plan to do?
[15:00:58] <Ms2ger> Gecko work
[15:01:00] *** Quits: johnmurray (jmurray@moz-299FF8FF.fw.nyc2.appnexus.com) (Ping timeout)
[15:01:07] <bstrie> nah you're a genius then
[15:01:18] <Ms2ger> Though I might end up with Servo by the time I finish uni :)
[15:01:19] <pnkfelix> I get the feeling that it might be both, actually.  (not for Ms2ger, I mean more in general.)
[15:01:25] *** Quits: Kruppe (user@moz-253119B0.esg.uwaterloo.ca) (Ping timeout)
[15:01:49] <pnkfelix> Ie. one must be a technical genius, but an idiot w.r.t overall life planning / happiness.
[15:02:02] *** Joins: johnmurray (jmurray@moz-299FF8FF.fw.nyc2.appnexus.com)
[15:02:11] <benh> i'd like to solicit further information re: making a living on C/C++ as just an idiot, anyway ;)
[15:02:13] <Ms2ger> Heh
[15:02:30] *** Joins: jstevans (Instantbir@C8825BE7.474E6E0A.DDE5D3F6.IP)
[15:02:42] <pnkfelix> benh: I think it involves liberal use of cut-and-paste
[15:03:05] <benh> That sounds like a good strategy for coming up with a resume, anyway
[15:04:48] *** Quits: sk (sk@A367FB1F.3E50858E.DFEAE789.IP) (Ping timeout)
[15:05:30] <ChrisMorgan> bstrie: when I'm sufficiently done with rust-http it'll all Just Work™ even better than PHP; assuming static linking is sorted by then, deployment will be almost as simple as PHP (dump the binary and start it, compared to dump the source file and it's done), but you'll get a consistent environment (no need to worry about what crazy settings PHP has set).
[15:05:44] *** Quits: SilverKey (SilverKey@moz-B589DA51.sw.biz.rr.com) (Ping timeout)
[15:05:46] * ChrisMorgan is looking forward to being able to move on to working on the web framework of his dreams
[15:06:04] <Scriptor> where would I dump the binary?
[15:06:29] *** Joins: SilverKey (SilverKey@moz-B589DA51.sw.biz.rr.com)
[15:08:19] *** Quits: skade (skade@30BBD5E6.505237C9.CAE22B62.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[15:08:21] <aeqwa1> hello i want to use #[deriving(Eq)] for my datastructure but i doesn't work :(     error message and my code in the link http://pastebin.com/bXxK61b7
[15:08:35] <ChrisMorgan> Scriptor: anywhere you liked. But not in any Apache/nginx docs directory; it'll be serving the desired port directly.
[15:09:18] *** Joins: bheylin (brianheyli@C709828D.E7BADBF1.B0C2132F.IP)
[15:09:21] <Scriptor> so I can just start it from the shell and have it listen on 80?
[15:09:40] <ChrisMorgan> Yes.
[15:09:44] <Sharp> You would probably need to sudo start it to listen on :80, of course.
[15:09:49] <pnkfelix> aeqwa1: for the second error, add a `#[deriving(Eq)]` above your `pub enum Tokens` item.
[15:10:25] *** Quits: avsej (avsej@DF1824D5.EFF97412.48F984E6.IP) (Ping timeout)
[15:10:36] <ChrisMorgan> Though, for a while at least (until it gets truly hardened and receives a proper audit) I'll be recommending reverse proxying through something like nginx to protect it from the worst.
[15:10:38] <kimundi> aeqwa1: deriving Eq recursivly calls eq on the contents of the type. Your other enums do not implement Eq, so it doesn't work
[15:10:55] <kimundi> aeqwa1: It's a bad error message
[15:10:57] <Scriptor> Sharp: nah, I'll just be root
[15:11:13] <Sharp> Oh, of course, why wouldn't you be?
[15:11:25] <Sharp> Makes everything much easier!
[15:11:30] <Scriptor> right?
[15:11:47] <aeqwa1> kimundi: thank you works fine :)
[15:13:06] <nmatsakis> I kind of miss the 78 col limit
[15:13:30] <Sharp> I was surprised to see it was 100.
[15:14:50] *** Joins: reedlepee (Mibbit@9B9315E1.A6025CA.1C37C358.IP)
[15:15:15] *** Quits: pyrac (pyrac@151566EE.73C89388.AD05C589.IP) (Ping timeout)
[15:15:16] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[15:15:17] *** Quits: pnathan (Adium@moz-EF4F82C8.tukw.qwest.net) (Quit: Leaving.)
[15:15:28] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[15:15:29] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[15:15:34] <Seldaek> ChrisMorgan: any plans for fcgi support? Though maybe that makes no sense and proxying would be good enough
[15:15:43] <ChrisMorgan> Seldaek: no plans.
[15:16:03] <ChrisMorgan> I don't see any point in supporting FastCGI. It's slow and doesn't add any value whatsoever that I can identify.
[15:16:09] <engla> the rules seem to be fuzzy about the line width. I guess the enforced width is what matters (100?)
[15:16:42] <Sharp> The style guide seems pretty clear, it says the width is 100.
[15:16:55] *** Quits: Ralith (ralith@moz-A7071297.customer.broadstripe.net) (Ping timeout)
[15:17:08] *** Quits: reedlepee (Mibbit@9B9315E1.A6025CA.1C37C358.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[15:17:08] <ChrisMorgan> But keep it to 80 if you can feasibly do so.
[15:17:17] <engla> see, that's fuzz
[15:17:19] *** Joins: lenstr (lenstr@E0E80B8D.ED45D46B.DFEAE789.IP)
[15:17:27] *** Quits: lenstr (lenstr@E0E80B8D.ED45D46B.DFEAE789.IP) (Client exited)
[15:17:39] <ChrisMorgan> The rule theoretically applied for the core code base is 80 soft limit, 100 hard limit.
[15:17:46] <Sharp> Add that to the style guide then :)  I don't remember reading that.
[15:17:57] <eddyb> > FastCGI is slow
[15:17:59] <ChrisMorgan> I recall seeing that somewhere, can't remember where.
[15:18:03] <eddyb> gotta love the irony
[15:18:11] <Seldaek> ChrisMorgan: yeah not sure about slowness compared to http parsing 
[15:18:12] *** Quits: Ms2ger (Ms2ger@moz-E10D6F22.ugent.be) (Ping timeout)
[15:18:38] <Sharp> It's why you should never include "fast" in the name of anything you do :P
[15:18:46] <ChrisMorgan> It's slow. Really slow. For basic responses, it'll take perf down by a factor of around two.
[15:18:58] <ChrisMorgan> Sharp: compare it with CGI and it *is* fast.
[15:19:00] <Seldaek> yeah, better use OMG, OMGCGI 
[15:19:30] <ChrisMorgan> Though even then, a Rust-based thing would perform pretty well for CGI.
[15:19:33] <Sharp> If you must, include it as part of a nonsense like futex.  I guess they sort of did that by calling it fcgi.
[15:19:55] <Sharp> Er, nonsense word.
[15:20:03] *** Quits: nano (nano@moz-74CAD1CA.superkabel.de) (Connection reset by peer)
[15:20:13] *** Joins: sk (sk@9E6B574B.EB2AA036.2CAF0D3B.IP)
[15:20:16] * ChrisMorgan loves being able to start a Rust web server and it's started within a couple of milliseconds at most (precise startup time unmeasured)
[15:20:18] *** Joins: Ralith (ralith@moz-A7071297.customer.broadstripe.net)
[15:20:53] * ChrisMorgan compares it with Django dev server where you'll be lucky to have it started in five seconds, or with stories he's heard of Ruby on Rails where it could take up to half a minute
[15:20:55] <eddyb> call me when we have something comparable with express.js (or better, I don't mind)
[15:21:00] *** pmoore is now known as pmoore|mtg
[15:22:33] <Seldaek> ChrisMorgan: yeah or java enterprise apps that take half a day to boot :p
[15:22:48] <Seldaek> Please wait, loading enterprise features!
[15:23:37] <eddyb> my highschool has oracle DB courses
[15:23:48] <eddyb> with all the ERD nonsense and the obsolete crap
[15:23:50] <ChrisMorgan> It's such a weird situation where most of the highest performing web servers are JVM-based, yet startup time is such an enormous problem for them, and they eat memory like Moore's law applied to memory and would go on forever.
[15:23:55] *** Quits: bheylin (brianheyli@C709828D.E7BADBF1.B0C2132F.IP) (Ping timeout)
[15:23:57] *** Joins: Kruppe (user@moz-58172F69.net.uwaterloo.ca)
[15:23:57] *** Joins: jeaye (Jeaye@moz-34FEF2BB.hsd1.ca.comcast.net)
[15:24:25] <Sharp> The highest performing web servers are JVM based?  I thought nginx routinely bested JVM based web servers on performance metrics.
[15:24:38] <eddyb> ChrisMorgan: well, because a lot of the fancy stuff is not even JITed
[15:24:43] *** Joins: avsej (avsej@DF1824D5.EFF97412.48F984E6.IP)
[15:25:00] <eddyb> Python without pypy? what's that mean, "speed"?
[15:25:13] <ChrisMorgan> Sharp: not talking about static file serving, talking about dynamic things.
[15:25:39] <ChrisMorgan> nginx is designed in a crazy way that makes it perform well but is horrible to maintain
[15:25:45] *** Joins: bheylin (brianheyli@C709828D.E7BADBF1.B0C2132F.IP)
[15:25:54] <Sharp> Ah, okay.  Well, my guess would be that of the servers competing in that space, JVM based ones are probably the most performant :P
[15:26:08] <Sharp> But not because the JVM is so special, just because more performant ones aren't even competing.
[15:26:12] * ChrisMorgan finds it incomprehensible how appallingly bad the joyent HTTP parser used in nginx, node.js and various other things is
[15:26:28] <ChrisMorgan> JVM has had an amazing amount of effort put into making it fast.
[15:26:46] <Seldaek> ChrisMorgan: you're building that from scratch right?
[15:26:49] <ChrisMorgan> Just like JavaScript has also now had a lot of effort. Just think how much faster Python would be if it had had that much effort put into it.
[15:27:07] <ChrisMorgan> Seldaek: building what from scratch? rust-http's HTTP parsing?
[15:27:15] <ChrisMorgan> Sure am.
[15:27:17] <Sharp> It's had a ludicrous amount of effort put into making it fast but it's still not going to be faster than native code under most circumstances, it's just that nobody writes dynamic web servers in native code :P
[15:28:05] * ChrisMorgan hopes Rust will change that
[15:28:09] <Sharp> Me too :)
[15:28:36] *** Quits: bheylin (brianheyli@C709828D.E7BADBF1.B0C2132F.IP) (Quit: bheylin)
[15:28:53] <Seldaek> ChrisMorgan: yup the http parsing. haven't had much time to look at it but your last email status or whateevr I read sounded interesting
[15:29:01] *** Quits: yota (sdouche@moz-7D878FB8.securactive.net) (Quit: Ex-Chat)
[15:29:44] <ChrisMorgan> Part of the reason I made rust-http's client functionality when I did rather than a month or two later is that the Servo team were threatening to wrap and use the joyent parser.
[15:29:54] <ChrisMorgan> Things like Duetto are interesting, making C/C++ more palatable for the web, but I think Rust is in a better position for it.
[15:31:07] <ChrisMorgan> And attributes work quite well for the client/server split, if desired—#[client] and #[server]. But it'll require custom syntax extensions to work.
[15:31:17] <Seldaek> yeah I think the amount of people here that come from php/ruby/python backgrounds is telling 
[15:31:26] * ChrisMorgan Python
[15:31:36] *** Joins: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net)
[15:31:42] * eddyb node.js
[15:31:48] * benh 
[15:32:02] <Sharp> Yeah, add JS to that list.
[15:32:02] <Seldaek> oh and that eddyb :)
[15:32:05] <ChrisMorgan> And I still love Python. But Rust's made it lose a little of its shine.
[15:32:20] <eddyb> fuck them snake scales :P
[15:32:38] * darqland C,node.js
[15:32:58] *** Joins: skade (skade@30BBD5E6.505237C9.CAE22B62.IP)
[15:32:59] *** darqland is now known as qrada
[15:33:09] *** Joins: Ms2ger (Ms2ger@moz-B4ABE13C.ugent.be)
[15:33:21] <eddyb> joyent's parser is like writing an ES6 generator, using traceur to turn it into a state machine, rewriting that by hand in Rust, compiling with full optimizations, taking the LLVM output then trying to redo it in C, preferable without requiring an optimizing compiler :P
[15:33:46] <Sharp> …Oh.
[15:34:01] <eddyb> get generators into Rust and you can make fun of them :)
[15:34:23] <eddyb> *preferably
[15:35:01] <benh> Let's reserve some keywords associated with random pet features of various programming communities just so we can pretend we're working on it ;)
[15:35:12] <ChrisMorgan> eddyb: no, Rust would have prevented lots of bugs.
[15:35:21] <Sharp> Like Java's goto?  Or did they actually add that?
[15:35:39] *** Joins: yota (sdouche@moz-7D878FB8.securactive.net)
[15:36:07] <eddyb> ChrisMorgan: "no" what?
[15:36:08] <ChrisMorgan> The joyent HTTP parser is *full* of bad bugs and HTTP/1.1 non-compliances. It doesn't even support extension methods at all!
[15:36:20] <eddyb> oh lol
[15:36:35] <eddyb> well then, you can make *even more* fun of them with generators in Rust
[15:37:01] <eddyb> benh: ES6 uses * to distinguish between functions and generators
[15:37:12] *** Quits: GeorgeH (George@moz-FB5F2302.hsd1.nj.comcast.net) (Quit: Leaving)
[15:37:37] <ChrisMorgan> Seriously, it is the messiest, most unmaintainable piece of code that I have *ever* tried to understand.
[15:37:38] <benh> let's parse 'fn*' and throw a special error then :)
[15:38:09] <Sharp> benh: Let's reserve comefrom!
[15:38:15] *** Joins: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP)
[15:38:41] *** Quits: skade (skade@30BBD5E6.505237C9.CAE22B62.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[15:39:00] <eddyb> I know it's silly, but you can implement it as syntax sugar: fn *range(start: int, stop: int) -> int {..} would have the type fn(int, int) -> SomeUnnamedType and SomeUnnamedType would implement Iterator<int>
[15:39:10] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[15:39:27] *** Quits: sk (sk@9E6B574B.EB2AA036.2CAF0D3B.IP) (Ping timeout)
[15:39:30] *** Joins: skade (skade@moz-4D9CB8A6.sys11.net)
[15:39:34] <ChrisMorgan> If the joyent HTTP parser was done with enums, for example, you'd be using matches and would hopefully get non-exhaustive match errors which would prevent you from making some of the bugs.
[15:39:46] <ChrisMorgan> Now compare its method-reading mess with mine: https://pastebin.mozilla.org/3390074
[15:39:58] <eddyb> so the * would appear only in the function declaration, not in any types
[15:40:39] * Sharp wonders if that could be further optimized than reading one byte at a time.
[15:40:53] <eddyb> ChrisMorgan: hmm, it could look nicer...
[15:41:04] <eddyb> "automatically generated" heh
[15:41:14] <ChrisMorgan> Mine takes the same fundamental concept as they tried to use in theirs (which is great for performance, but horrible for direct maintenance), but does it properly. It generates it from https://pastebin.mozilla.org/3390085
[15:41:21] <qrada> is there any way to 'dump an object' in rust, say with print.. somehow just dump it's structure/contents.. i saw something about fmt!("%?" ...) but i couldn't get it working.. i'm wondering if there's a way to dump an object so you can see methods/traits etc in some pretty format.. or is that completely unrealistic
[15:41:26] <qrada> just for debugging purposes
[15:41:40] <eddyb> "{:?}"
[15:41:42] <benh> format!("{:?}", obj goes here)
[15:41:49] <qrada> awesome.
[15:41:54] <benh> or, well, println!("{:?}", ...)
[15:42:01] <benh> format! yields a string
[15:42:20] <Sharp> ChrisMorgan: Further demonstrating why macros are the greatest gift of all™.
[15:42:44] <ChrisMorgan> Sharp: reading it one word at a time (i.e. 8 bytes on a 64-bit machine) at a time would probably be faster, but I haven't got to the stage where that's a worthwhile tweak yet
[15:43:08] <ChrisMorgan> Sharp: actually, the branchify! method is just simple syntax sugar for a function call that does the work.
[15:43:23] <Sharp> Hm.  I assume it *could* be done as a pure macro though.
[15:43:23] <ChrisMorgan> I'd love it if a macro could do it all, but at present I do actually generate Rust source code.
[15:43:25] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[15:43:32] <ChrisMorgan> No, a macro is not yet up to the task.
[15:43:59] <Sharp> Based on what I've looked at that's not really a technical limitation of the model, though, just the current implementation.
[15:44:29] <eddyb> the result is noisy...
[15:44:39] <ChrisMorgan> Certain necessary things (concatenating char literals into a str literal would be enough, actually) can't be done from macros at present.
[15:44:48] * Sharp doesn't care as long as it can be autogenerated from something clean and is fast :)
[15:45:17] <Sharp> eddyb: Flex output is unreadable but the input is lovely and the result is blazing.
[15:45:38] <Sharp> ChrisMorgan: I don't even think CPP macros can do that.
[15:45:44] *** Quits: johnmurray (jmurray@moz-299FF8FF.fw.nyc2.appnexus.com) (Quit: johnmurray)
[15:45:46] <Sharp> (But they should be able to!)
[15:45:53] <eddyb> ChrisMorgan: is the stream sync or async?
[15:46:16] <ChrisMorgan> eddyb: sure it's noisy, but it performs a little better than reading up to the space into a ~[u8] and then comparing.
[15:46:37] <eddyb> ChrisMorgan: no, I mean, noisier than doing the same thing in a different way :P
[15:46:40] <ChrisMorgan> Sharp: CPP macros are feeble, weak things compared to Rust macros, in concept. Rust macros have a lot more semantic information.
[15:46:52] <Sharp> Heh.
[15:47:07] <Sharp> I'm sure they will be able to do it at some point.
[15:47:15] <benh> still want nemerle style macros *pouts*
[15:47:27] <Sharp> That's the second time I've heard of Nemerle, ever.
[15:47:39] <benh> The first time might have been when I said the same thing last week or so ;)
[15:47:46] <pauls> I'm confused; why do you need char->string at the macro level?
[15:47:47] *** Joins: alex-abreu (alex@EA3B4035.84482E50.488A906A.IP)
[15:47:52] <Sharp> Nah, someone else mentioned it.
[15:48:00] <benh> I just don't know enough plt history to recognize where nemerle got its macros from
[15:48:01] <ChrisMorgan> Such a macro would be able to see that its two arguments were a char literal and a char literal and concatenate them into a str; a str literal and a char literal and concatenate them into a str; each time putting that back into the AST for the next step.
[15:48:03] <Sharp> Named after a character in Earthsea?  Excellent.
[15:48:13] <Sharp> (My aunt was close friends with Ursula Le Guin).
[15:48:24] <benh> :D
[15:49:21] <Sharp> JetBrains are good people.  Though it's not clear to me if they're directly involved in its development.
[15:49:49] <benh> afaiui nemerle started at a university department that basically got bought out by jetbrains
[15:49:50] <ChrisMorgan> pauls: it's got to end up with something like "CONNEC" (refer to my link), so the macro would need to be dicing the string somehow; the best way would be taking the input like ['P' [ 'O' 'S' 'T' => Post, 'U' ['T' => Put, 'S' 'H' => Push]], 'C' 'O' 'N' 'N' 'E' 'C' 'T' => Connect]
[15:49:56] <Sharp> Ah, fun.
[15:50:24] <benh> and now there's some cool russian community maintaining it
[15:50:30] *** Quits: Ms2ger (Ms2ger@moz-B4ABE13C.ugent.be) (Ping timeout)
[15:50:31] <pauls> ChrisMorgan: but can't you do the actual concatenation with ordinary functions?
[15:50:34] <benh> but it seems like mono support isn't on their schedule, alas
[15:50:44] <Sharp> I was going to ask
[15:50:49] <Sharp> 'Cause, I'm not going back to Windows :P
[15:50:50] <eddyb> pauls: no variadic functions yet
[15:50:50] <ChrisMorgan> pauls: not if you want top performance
[15:51:05] <eddyb> (nvm that last comment)
[15:51:09] <Sharp> Actually, ChrisMorgan…
[15:51:13] <pauls> ChrisMorgan: Always check to see if the optimizer will do it for you!
[15:51:14] <eddyb> no constexpr string-constant producing functions yet :P
[15:51:17] <Sharp> I wonder if LLVM will concatenate constants automatically
[15:51:25] <Sharp> It wouldn't surprise me
[15:51:34] <eddyb> pauls: a function returning ~str won't produce a static string
[15:51:38] <Sharp> It does lots of magic with C-string, at least.
[15:51:39] <ChrisMorgan> Sharp: there's no way to get it into a form it would take
[15:51:41] *** Quits: squiddy (squiddy@moz-10A271F9.adsl.alicedsl.de) (Ping timeout)
[15:51:48] <pauls> eddyb: Mmmh, ah.
[15:52:04] <Sharp> Oh.  Oh well :P
[15:52:05] <ChrisMorgan> pauls: I'm pretty confident it can't do such a thing yet. Later, perhaps (I'm still doubtful), but not yet.
[15:52:08] *** Joins: johnmurray (jmurray@moz-299FF8FF.fw.nyc2.appnexus.com)
[15:52:28] <pauls> I guess that I really do come from a Schemey performance-doesn't-matter point of view...
[15:52:37] <bstrie> < ChrisMorgan> bstrie: when I'm sufficiently done with rust-http it'll all Just Work™ even better than PHP;
[15:52:40] * benh is impressed how pauls always shows up when macros are discussed :)
[15:52:46] <Sharp> If you're writing a core HTTP parser you want to drive everything written in a systems programming language
[15:52:50] <Sharp> Performance mattereth.
[15:52:50] <ChrisMorgan> pauls: for a low level thing like rust-http, performance is pretty important
[15:52:55] <bstrie> ChrisMorgan: ah, but php doesn't even require me to *start* anything, it just serves the damn file :P
[15:53:07] <benh> bstrie: you start apache!
[15:53:22] <eddyb> ChrisMorgan: your code, with generators, could look something like this: if yield == 'C' && yield == 'O' && yield == 'N' && yield == 'N' && ...
[15:53:27] <pauls> In that event, it shouldn't be too hard to make a syntax extension that does that kind of concatenation.
[15:53:29] *** Joins: ahobden (chatzilla@moz-F9F61109.bcaafc.com)
[15:53:36] *** Joins: sk (sk@A367FB1F.3E50858E.DFEAE789.IP)
[15:53:40] <pauls> benh: I have an alert set for 'macro'.
[15:53:44] <qrada> {:?} is really helpful, nice
[15:53:45] <ChrisMorgan> bstrie: but does it have magic quotes turned on? Does it have mbstring? Is register globals enabled? Did someone change the upload limit? &c. ad infinitum et tedium
[15:53:47] *** Joins: ozten (ozten@moz-DD3B00B4.hsd1.wa.comcast.net)
[15:53:49] <pauls> (and 'macros')
[15:53:54] <Sharp> eddyb: ChrisMorgan's original source file is what I think the proper comparison is and I like it better :P
[15:54:12] <benh> Now I feel bad for repeatedly whining about them :)
[15:54:16] <Sharp> JS should have macros, incidentally.
[15:54:22] <ChrisMorgan> Sharp: sweet.js
[15:54:23] <eddyb> ChrisMorgan: I'm not really sure what you achieve with the crazy branching
[15:54:32] <Sharp> Thanks!
[15:54:36] <eddyb> is sweet.js pre or post Rust?
[15:54:37] <ChrisMorgan> eddyb: you mean the functionality or the speed?
[15:54:42] <Sharp> Maybe now I can actually use the language, by turning it into a different language :D
[15:54:48] <pauls> sweet.js was being designed last summer.
[15:54:49] <ChrisMorgan> Pre-Rust, I think.
[15:54:49] <bstrie> ChrisMorgan: yeah, I get the point :P but, in fact, one of the difficulties that I've encountered with this newfangled python web dev is that I have to jump through hoops to see changes to my code (i.e. install watchdog and use a custom script to restart the supervisor process whenever a file changes... ugh!)
[15:54:55] <Sharp> (Or I could just write in Rust and read in Emscripten--I saw that bug is still open, we should tackle it).
[15:55:11] <eddyb> Sharp: then, Rust's macros are sweet.js, so don't get your hopes up
[15:55:25] <eddyb> Sharp: if you want to use JS, try out ES6
[15:55:26] <pauls> Its macro system is sort of like the Rust macro system but more extreme.
[15:55:30] <eddyb> s/want/need/
[15:55:34] <Sharp> Rust's macros are expanded during preprocessing
[15:55:37] <Sharp> So I'm not sure what you mean by that?
[15:55:55] <ahobden> ES6 isn't really mature
[15:55:59] <ChrisMorgan> Anyway, I came across sweet.js and didn't understand it at the time. Then somewhere along the way I ran across Rust and had to understand its macros. Then a month or so ago I thought, "I wonder what sweet.js was really like?" and lo! I could immediately understand them all!
[15:56:02] <ahobden> It's not even as mature as Rust
[15:56:07] *** ahobden is now known as hoverbear
[15:56:12] <eddyb> Sharp: they copied the entire thing over. minus some implementation details
[15:56:17] <Sharp> Oh, I see.
[15:56:24] <Sharp> I haven't actually tried using Rust's macros yet
[15:56:27] <Sharp> But that's because I haven't had the need to
[15:56:40] <Sharp> In JS I am *constantly* wanting to macrofy things :P
[15:56:44] <ChrisMorgan> And Nemerle macros look quite like Rust macros, but without the requirement that it be specially contained, which is good for ensuring you understand it and for deterministic parsing.
[15:57:12] <eddyb> hoverbear: it's also not as unstable as Rust :))
[15:57:29] <pauls> One of the priorities for Rust is for unexpanded code to be parseable without knowing the definitions of macros. Sweet.js lacks this restriction.
[15:57:33] <hoverbear> eddyb: It sure is. Features are added any removed like weekly.
[15:57:50] <eddyb> hoverbear: to what?
[15:57:55] <hoverbear> eddyb: ES6. :-P
[15:58:02] <benh> ChrisMorgan: But nemerle macros basically let user code run arbitrary nemerle code at compile time, returning a new ast (or modifying a declaration, in the case of attribute-style macros)
[15:58:07] <ChrisMorgan> Oh yeah? Well Rust code can break every *day*!
[15:58:18] <eddyb> ES6 is a spec draft. you don't write code for imaginary future implementations
[15:58:25] *** Quits: amro (quassel@D9E34ACF.8AAAF769.FAAB0799.IP) (Client exited)
[15:58:29] <ChrisMorgan> benh: I get to just say the acronym "CTFE" and dismiss it :P
[15:58:31] <benh> It's closer to our syntax extensions, except that they can be defined in user code and have really sweet syntax sugar for ast matching/generation
[15:58:32] <hoverbear> eddyb: It's not as bad lately, but I still haven't decided to devote the effort to learning it. Using ES6 for browserside stuff is still 3-4 years away at least.
[15:58:54] <eddyb> hoverbear: traceur-compiler has decent performance
[15:58:55] <hoverbear> eddyb: Node.js side stuff is already starting to be usable though
[15:59:14] <hoverbear> eddyb: That's not using ES6. :) That's coding in ES6 and compiling it to something dumber.
[15:59:18] <benh> ChrisMorgan: CTFE of functions transforming ast snippets?
[15:59:19] <eddyb> hoverbear: its state machine generators beat native v8 generators
[15:59:25] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[15:59:42] <hoverbear> eddyb: Interesting. But please, don't cponvince me to learn ES6 instead of Rust. :-P
[15:59:57] *** Joins: alan (alan@moz-FE02DD30.sat6.rackspace.com)
[15:59:58] <eddyb> hoverbear: that *is* using ES6. without efforts like that, the development would move slower
[16:00:05] <eddyb> hoverbear: oh, I'm not, they are entirely different beasts
[16:00:36] <eddyb> I might move some of my stuff from client-side or node-webkit to rust-servo, if that ever happens
[16:00:55] <eddyb> right now, I can only see Rust improving :)
[16:00:55] <ChrisMorgan> benh: OK, you win. CTFE-enabled macros?
[16:01:05] <benh> My favorite "why would you ever do this" nemerle macro is generating a hierarchy of type definitions based on dialing into a database server at compile time and parsing the database schemas
[16:01:18] <Sharp> …That would have been really useful for a former job.
[16:01:24] *** Quits: avsej (avsej@DF1824D5.EFF97412.48F984E6.IP) (Client exited)
[16:01:35] <Sharp> And I didn't say that.
[16:01:47] <benh> but really I just like how they can pattern-match on ast "literals", returning new ast literals, etc
[16:02:15] <ChrisMorgan> That's the sort of thing that you can do in Python if you're so inclined. Even in RPython—you've got the full power of Python until it's finished loading!
[16:02:17] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[16:02:28] <ChrisMorgan> Rust is expected to have syntax extensions which could do these sorts of things eventually, BTW.
[16:02:51] <Sharp> Rust already has syntax extensions that can do those sorts of things, you just have to compile them in!
[16:02:52] <ChrisMorgan> Custom syntax extensions, I mean. So that you could write your own #[deriving(...)], for example.
[16:03:00] <Sharp> Oh, neat.
[16:03:12] <benh> it seems like a lot of the required mechanisms are already somewhere inside libsyntax/ext/, just not exposed to user code in such a nice, quasi-intuitive way :)
[16:03:14] <ChrisMorgan> It's fair to say it won't be Rust 1.0, though!
[16:03:38] <ChrisMorgan> And have #[client] and #[server] like Duetto's [[client]] and [[server]] for C/C++...
[16:03:52] <Sharp> That's okay, what's important for Rust 1.0 is to get stuff like the ABI right
[16:03:59] <Sharp> That it will be hugely painful to change afterwards
[16:04:21] <Sharp> IMO anyway.
[16:04:25] <Scriptor> is there a schedule anywhere for planned Rust release dates?
[16:04:44] * ChrisMorgan *really*, *really* wants custom syntax extensions
[16:05:06] <Sharp> Write them in? :P
[16:05:06] *** Joins: mar (huhas@moz-875676AE.residential.rdsnet.ro)
[16:05:20] <ChrisMorgan> Scriptor: not officially. There are vague hints and "when it's done", mostly.
[16:05:35] * Sharp figures if you get it working early they will be in 1.0 :)
[16:05:40] <Scriptor> they seem to be coming alone at a pretty regular pace
[16:05:45] *** Joins: Ms2ger (Ms2ger@moz-E10D6F22.ugent.be)
[16:05:46] <SiegeLord> The vague hint is next summer
[16:05:53] <Scriptor> really? damn
[16:05:55] <SiegeLord> (for 1.0)
[16:05:58] <Sharp> I've heard six months a lot.
[16:06:03] *** Parts: mar (huhas@moz-875676AE.residential.rdsnet.ro) ()
[16:06:08] <ChrisMorgan> ... for values of "summer" in the northern hemisphere only.
[16:06:13] <benh> I rememmber hearing nine months
[16:06:15] <Scriptor> winter for 0.9?
[16:06:19] <benh> but that might have been three months ago
[16:06:25] *** jdm|away is now known as jdm
[16:06:33] <Scriptor> plenty of time left to be a Rust hipster, I guess
[16:06:35] <ChrisMorgan> benh: that was being suggested under a month ago
[16:06:57] <SiegeLord> I wasn't aware of seasons in the southern hemisphere ;P
[16:07:01] *** Joins: pnathan (Adium@moz-EF4F82C8.tukw.qwest.net)
[16:07:01] <ChrisMorgan> Sharp: at present, I think my time is more productively spent in rust-http. Custom syntax extensions would be far to great an undertaking for me before 1.0.
[16:07:18] * Sharp doesn't want to be a Rust hipster, he wants to use Rust in production code!
[16:07:31] <ChrisMorgan> SiegeLord: Melbourne (my home city) is renowned across Australia as a place in which you can have all four seasons in one day.
[16:07:35] <Sharp> Yeah, fair enough.
[16:07:54] <benh> (nemerle also implements all the basic loops as a syntax extension, iirc. on top of recursive anonymous closures. :D)
[16:07:58] <ChrisMorgan> Now (if not three hours ago) I should really go to bed, it being just after 3am. You troublemakers, keeping me talking :P
[16:08:04] <Sharp> Haha
[16:08:46] <Sharp> Is Nemerle basically the realization of M-exprs?
[16:09:44] *** Quits: jstevans (Instantbir@C8825BE7.474E6E0A.DDE5D3F6.IP) (Ping timeout)
[16:10:00] <benh> i dunno :(
[16:10:18] <Sharp> benh: http://en.wikipedia.org/wiki/M-expression
[16:10:46] *** Quits: Ms2ger (Ms2ger@moz-E10D6F22.ugent.be) (Ping timeout)
[16:11:24] *** Quits: anri (solancile@moz-E49E7C4B.hsd1.wa.comcast.net) (Quit: anri)
[16:11:44] <benh> I don't grok enough of either nemerle or lisp to give a qualified answer though
[16:12:17] *** Joins: brendan (brendaneic@93F0F07A.10A53EE3.77834EAA.IP)
[16:12:20] <Sharp> Gotcha.  Well, Nemerle does seem interesting, shame Mono support isn't a priority.
[16:12:52] <benh> it used to work at some point, i assume the build system mostly bitrotted
[16:13:08] *** Quits: brendan (brendaneic@93F0F07A.10A53EE3.77834EAA.IP) (Quit: brendan)
[16:14:29] <eddyb> btw, once we get the Fn trait, not only we could have operator() for anything
[16:14:46] <eddyb> but it would be trivial to make a variadic operator[] work
[16:15:03] <eddyb> foo(1, 2, 3) and bar[a, b, c]
[16:15:26] *** Joins: dcrewi (david@moz-AB8667CE.gyrae.net)
[16:15:31] <eddyb> heck, with a few lines of code you can make the second syntax work for any function :P
[16:15:42] <eddyb> s/can/would be able to/
[16:16:39] *** Quits: wilsonk-laptop (kvirc@moz-8E86F35A.cg.shawcable.net) (Ping timeout)
[16:16:48] <eddyb> impl Index<Ret, ..Args> for T: Fn<Ret, ..Args> {fn index(self, ..args: Args) -> Ret {self(..args)}}
[16:17:30] *** Quits: pnathan (Adium@moz-EF4F82C8.tukw.qwest.net) (Quit: Leaving.)
[16:17:36] <eddyb> that's close to M-exprs, isn't it?
[16:17:49] *** Joins: ksf (ksf@moz-3AE535B1.adsl.hansenet.de)
[16:19:13] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[16:23:01] <Sharp> Close enough :P
[16:23:11] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[16:23:34] *** Joins: pyrac (pyrac@moz-84C91992.w90-60.abo.wanadoo.fr)
[16:23:50] *** Quits: Ferreus (ferreus@moz-B5E7ECC1.dip0.t-ipconnect.de) (Ping timeout)
[16:24:17] *** Joins: wilsonk-laptop (kvirc@moz-8E86F35A.cg.shawcable.net)
[16:24:31] <Sharp> (M-expressions aren't really about the syntax, though--more about the notion of implementing all syntax as sugar over syntax trees and lambda calculus).
[16:25:12] <eddyb> Sharp: oh I know :)
[16:27:12] *** Joins: lfox (lfox@moz-343B6F0C.nyc.biz.rr.com)
[16:27:15] *** Joins: edorian (Mibbit@moz-C8085F8D.dynamic.qsc.de)
[16:28:07] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[16:28:28] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[16:28:56] *** Joins: nif (Mibbit@moz-B6DFA19D.wireless.oberlin.edu)
[16:29:19] *** Quits: Kruppe (user@moz-58172F69.net.uwaterloo.ca) (Ping timeout)
[16:29:50] *** Joins: thewonderidiot (mstewart@moz-E41129BA.ipnetworksinc.net)
[16:30:10] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[16:30:58] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[16:35:09] *** Quits: dcrewi (david@moz-AB8667CE.gyrae.net) (Ping timeout)
[16:35:48] *** Quits: froystig (froystig@moz-20E3E495.stanford.edu) (Quit: leaving)
[16:37:15] *** kimundi is now known as zz_kimundi
[16:38:21] *** Quits: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca) (Quit: Leaving.)
[16:39:25] *** Joins: FrozenCow_ (FrozenCow@moz-B2DF4929.chello.nl)
[16:39:25] *** Quits: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl) (Connection reset by peer)
[16:41:39] *** Quits: ozten (ozten@moz-DD3B00B4.hsd1.wa.comcast.net) (Quit: ozten)
[16:42:37] *** Joins: sproing (Mibbit@moz-CCF6D31B.comcastcntr.pa.bo.comcast.net)
[16:42:43] *** Joins: ozten (ozten@moz-DD3B00B4.hsd1.wa.comcast.net)
[16:44:39] *** Joins: RMF (RMF@moz-71FBA3E0.dsl.telepac.pt)
[16:44:40] *** Quits: RMF (RMF@moz-71FBA3E0.dsl.telepac.pt) (Max SendQ exceeded)
[16:45:05] *** Joins: RMF (RMF@moz-71FBA3E0.dsl.telepac.pt)
[16:45:06] *** Quits: RMF (RMF@moz-71FBA3E0.dsl.telepac.pt) (Max SendQ exceeded)
[16:45:36] *** Joins: RMF (RMF@moz-71FBA3E0.dsl.telepac.pt)
[16:45:37] *** Quits: RMF (RMF@moz-71FBA3E0.dsl.telepac.pt) (Max SendQ exceeded)
[16:46:13] *** Joins: RMF (RMF@moz-71FBA3E0.dsl.telepac.pt)
[16:46:13] *** Quits: RMF (RMF@moz-71FBA3E0.dsl.telepac.pt) (Max SendQ exceeded)
[16:46:57] *** Joins: RMF (RMF@moz-71FBA3E0.dsl.telepac.pt)
[16:46:57] *** Quits: RMF (RMF@moz-71FBA3E0.dsl.telepac.pt) (Max SendQ exceeded)
[16:47:37] *** Joins: RMF (RMF@moz-71FBA3E0.dsl.telepac.pt)
[16:47:37] *** Quits: RMF (RMF@moz-71FBA3E0.dsl.telepac.pt) (Max SendQ exceeded)
[16:48:03] *** Joins: RMF (RMF@moz-71FBA3E0.dsl.telepac.pt)
[16:48:04] *** Quits: RMF (RMF@moz-71FBA3E0.dsl.telepac.pt) (Max SendQ exceeded)
[16:48:45] *** Joins: RMF (RMF@moz-71FBA3E0.dsl.telepac.pt)
[16:48:46] *** Quits: RMF (RMF@moz-71FBA3E0.dsl.telepac.pt) (Max SendQ exceeded)
[16:49:21] *** Joins: RMF (RMF@moz-71FBA3E0.dsl.telepac.pt)
[16:49:22] *** Quits: RMF (RMF@moz-71FBA3E0.dsl.telepac.pt) (Max SendQ exceeded)
[16:49:25] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[16:50:01] *** Joins: RMF (RMF@moz-71FBA3E0.dsl.telepac.pt)
[16:50:02] *** Quits: RMF (RMF@moz-71FBA3E0.dsl.telepac.pt) (Max SendQ exceeded)
[16:50:19] *** Joins: ktt3ja (Mibbit@moz-6B6EE8C0.hsd1.va.comcast.net)
[16:50:27] *** Joins: RMF (RMF@moz-71FBA3E0.dsl.telepac.pt)
[16:50:27] *** Quits: RMF (RMF@moz-71FBA3E0.dsl.telepac.pt) (Max SendQ exceeded)
[16:50:57] *** Joins: RMF (RMF@moz-71FBA3E0.dsl.telepac.pt)
[16:50:57] *** Quits: RMF (RMF@moz-71FBA3E0.dsl.telepac.pt) (Max SendQ exceeded)
[16:51:39] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Quit: ZZZzzz…)
[16:51:40] *** Joins: RMF (RMF@moz-71FBA3E0.dsl.telepac.pt)
[16:51:41] *** Quits: RMF (RMF@moz-71FBA3E0.dsl.telepac.pt) (Max SendQ exceeded)
[16:51:52] <mletterle> Someone's having problems.
[16:52:12] *** Joins: RMF (RMF@moz-71FBA3E0.dsl.telepac.pt)
[16:52:13] *** Quits: RMF (RMF@moz-71FBA3E0.dsl.telepac.pt) (Max SendQ exceeded)
[16:52:14] *** Joins: boredomist (boredomist@8186917.CC8FA3EE.E3401B6E.IP)
[16:52:39] *** Joins: RMF (RMF@moz-71FBA3E0.dsl.telepac.pt)
[16:52:39] *** Quits: RMF (RMF@moz-71FBA3E0.dsl.telepac.pt) (Max SendQ exceeded)
[16:53:12] *** Joins: RMF (RMF@moz-71FBA3E0.dsl.telepac.pt)
[16:53:12] *** Quits: RMF (RMF@moz-71FBA3E0.dsl.telepac.pt) (Max SendQ exceeded)
[16:53:22] *** Joins: pcwalton (pcwalton@moz-B51927E9.hsd1.ca.comcast.net)
[16:53:22] *** ChanServ sets mode: +ao pcwalton pcwalton
[16:53:46] *** Joins: RMF (RMF@moz-71FBA3E0.dsl.telepac.pt)
[16:53:47] *** Quits: RMF (RMF@moz-71FBA3E0.dsl.telepac.pt) (Max SendQ exceeded)
[16:54:11] * Sharp figures RMF is spamming some other room and getting kicked.
[16:54:21] *** Joins: RMF (RMF@moz-71FBA3E0.dsl.telepac.pt)
[16:54:22] *** Quits: RMF (RMF@moz-71FBA3E0.dsl.telepac.pt) (Max SendQ exceeded)
[16:54:27] <Sharp> Maybe not though.
[16:54:54] *** Joins: RMF (RMF@moz-71FBA3E0.dsl.telepac.pt)
[16:54:55] *** Quits: RMF (RMF@moz-71FBA3E0.dsl.telepac.pt) (Max SendQ exceeded)
[16:55:16] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[16:55:30] *** Joins: RMF (RMF@moz-71FBA3E0.dsl.telepac.pt)
[16:55:31] *** Quits: RMF (RMF@moz-71FBA3E0.dsl.telepac.pt) (Max SendQ exceeded)
[16:55:49] *** Quits: nkoep (nik@moz-1C14C49F.pool.mediaways.net) (Client exited)
[16:55:55] <mletterle> I mean.. who goes on the mozilla irc network to spam? rizon not attractive enough to you? WTH?
[16:56:12] *** Joins: RMF (RMF@moz-71FBA3E0.dsl.telepac.pt)
[16:56:13] *** Quits: RMF (RMF@moz-71FBA3E0.dsl.telepac.pt) (Max SendQ exceeded)
[16:56:19] <Sharp> The demographics? :P
[16:56:53] *** Joins: RMF (RMF@moz-71FBA3E0.dsl.telepac.pt)
[16:56:54] *** Quits: RMF (RMF@moz-71FBA3E0.dsl.telepac.pt) (Max SendQ exceeded)
[16:57:32] *** Joins: RMF (RMF@moz-71FBA3E0.dsl.telepac.pt)
[16:57:33] *** Quits: RMF (RMF@moz-71FBA3E0.dsl.telepac.pt) (Max SendQ exceeded)
[16:57:35] <qrada> dat RMF tho
[16:58:15] *** Joins: RMF (RMF@moz-71FBA3E0.dsl.telepac.pt)
[16:58:15] *** Quits: RMF (RMF@moz-71FBA3E0.dsl.telepac.pt) (Max SendQ exceeded)
[16:58:56] *** Joins: RMF (RMF@moz-71FBA3E0.dsl.telepac.pt)
[16:58:56] *** Quits: RMF (RMF@moz-71FBA3E0.dsl.telepac.pt) (Max SendQ exceeded)
[16:59:14] <cmr> jdm: can you ban ^
[16:59:26] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[16:59:27] *** Joins: RMF (RMF@moz-71FBA3E0.dsl.telepac.pt)
[16:59:28] *** Quits: RMF (RMF@moz-71FBA3E0.dsl.telepac.pt) (Max SendQ exceeded)
[16:59:32] *** Quits: Kxepal (Miranda@moz-18708274.pppoe.mtu-net.ru) (Ping timeout)
[16:59:33] *** jdm sets mode: +b RMF!*@*
[17:01:01] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[17:02:07] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[17:03:02] *** Joins: Kxepal (Miranda@moz-D17F72BD.pppoe.mtu-net.ru)
[17:05:32] *** Joins: Kruppe (user@moz-253119B0.esg.uwaterloo.ca)
[17:05:41] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[17:05:41] *** ChanServ sets mode: +ao brson brson
[17:06:09] *** Joins: jstevans (Instantbir@DC576269.67684BE1.DDE5D3F6.IP)
[17:07:24] *** Joins: cdelo_ (cdelo@31073680.31C0B4EF.D345515E.IP)
[17:08:22] *** Quits: cdelo (cdelo@4748811C.DB827D7B.407F7C5B.IP) (Ping timeout)
[17:08:56] *** Quits: alonlevy (alon@moz-29263FE5.red.bezeqint.net) (Ping timeout)
[17:08:59] *** Joins: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca)
[17:10:03] *** Joins: tjc (tjc@moz-BBE3ABD.mv.mozilla.com)
[17:10:03] *** ChanServ sets mode: +o tjc
[17:10:17] *** Quits: lfox (lfox@moz-343B6F0C.nyc.biz.rr.com) (Quit: ZZZzzz…)
[17:12:03] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[17:12:25] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Client exited)
[17:12:25] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[17:14:57] *** Quits: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca) (Ping timeout)
[17:15:43] *** Joins: hjr3 (hradtke@1A0AE795.28A5F6C3.A2D40ED2.IP)
[17:25:37] *** Joins: avsej (avsej@D9A610B8.4841F515.FB33447D.IP)
[17:26:19] *** Joins: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com)
[17:27:58] *** zz_kimundi is now known as kimundi
[17:28:17] *** Joins: Ms2ger (Ms2ger@moz-6EEC6E4D.adsl-dyn.isp.belgacom.be)
[17:30:27] *** Joins: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu)
[17:30:27] *** Joins: anri (solancile@moz-E49E7C4B.hsd1.wa.comcast.net)
[17:31:45] *** Quits: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net) (Ping timeout)
[17:33:47] *** pmoore|mtg is now known as pmoore
[17:34:17] *** Quits: blank_name (blank_name@FAB53C88.7071B2C8.31EC03F3.IP) (Quit: leaving)
[17:34:41] *** Joins: blank (blank@FAB53C88.7071B2C8.31EC03F3.IP)
[17:35:35] *** Quits: blank (blank@FAB53C88.7071B2C8.31EC03F3.IP) (Quit: WeeChat 0.4.2)
[17:35:38] *** Quits: Kruppe (user@moz-253119B0.esg.uwaterloo.ca) (Ping timeout)
[17:35:42] *** Joins: blank_name (blank_name@FAB53C88.7071B2C8.31EC03F3.IP)
[17:35:48] *** Joins: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net)
[17:38:27] *** Quits: cubic (cubic@moz-80241A3A.mc.videotron.ca) (Connection reset by peer)
[17:38:59] <kimundi> eddyb: I think even if rust gains those capabilities, the devs will likely not enable the user to wield them that freely. :) Afaik overloadable call operator is explicitly decided against, in order to give the user something to stand on.
[17:41:51] *** Quits: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se) (Ping timeout)
[17:42:23] *** Joins: devbug (quassel@2D4E172D.4C8B6099.9B57EA59.IP)
[17:43:00] <eddyb> kimundi: whoa? but how would the Fn trait be implemented?
[17:43:11] *** pmoore is now known as pmoore|away
[17:43:19] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[17:46:03] <mark_edward> can anyone help with some licensing stuff? it''s a bit offtopic, but i'd appreciate i?
[17:46:22] *** Joins: mib_0qgtac (Mibbit@moz-BC130050.connect.netcom.no)
[17:46:28] <kimundi> eddyb: Well, I meant that an () overload might only explicitly be allowed for the Fn trait
[17:46:41] <cmr> mark_edward: sure
[17:47:26] <mark_edward> cmr: Thanks!
[17:47:44] <mark_edward> so i'm writing a program that is based off of another program (basically a port to Rust), and it's unde rthe 3-clause BSD license
[17:48:11] <mark_edward> this license is compatible with the GPL3, according to the FSF, and i want to publuish my code under that
[17:48:12] *** Joins: jgilbert (jgilbert@moz-BBE3ABD.mv.mozilla.com)
[17:48:12] <eddyb> kimundi: the Fn trait *is* operator()
[17:48:20] <mark_edward> what do i have to do to do this properly?
[17:48:27] <eddyb> kimundi: anything implementing Fn would be callable
[17:48:54] <cmr> mark_edward: if you aren't including source or binaries from that other program, you don't need to do anything.
[17:49:23] <mark_edward> cmr: ok! do i need to do any mentioning or attribution?
[17:49:36] <cmr> mark_edward: you aren't required to by the license.
[17:50:28] <SiegeLord> Maybe Fn trait use a special syntax for calling it (kind of like Clone works)
[17:50:41] <SiegeLord> *could
[17:50:45] <mark_edward> cmr: thanks for the help, this stuff is so confusing!
[17:52:08] <eddyb> SiegeLord: that's not too bad, I guess. that means you can still build your own function objects, but code being generic over Fn will have to do f.call(...) instead of f(...)
[17:52:17] *** Joins: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP)
[17:52:28] <eddyb> SiegeLord: the good news is that it doesn't need to be a lang item then :)
[17:52:40] *** jorendorff is now known as jorendorff_away
[17:53:00] <eddyb> you can even call it Callable and get some hate from Java haters
[17:54:16] *** Quits: ofeldt (ofeldt@moz-7BB72199.dip0.t-ipconnect.de) (Ping timeout)
[17:54:56] *** Joins: nrc (nrc@7BE24E90.A5032A01.3CFC199D.IP)
[17:55:03] *** Quits: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com) (Quit: brendan)
[17:56:01] *** Quits: sk (sk@A367FB1F.3E50858E.DFEAE789.IP) (Quit: Leaving)
[17:58:19] *** Joins: ofeldt (ofeldt@moz-7BB72199.dip0.t-ipconnect.de)
[17:58:40] *** Joins: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com)
[17:59:10] <kimundi> eddyb: Actually, I think I confused call operator with assignment operator in my memory. Being able to call the object as obj(...) and not as obj.call(...) would be a requirement for closures and procs to be transitioned to Fn without breaking backwards compability
[17:59:31] <eddyb> ah, great :D
[18:00:30] *** jdm is now known as jdm|f00ding
[18:01:03] *** Joins: lfox (lfox@moz-343B6F0C.nyc.biz.rr.com)
[18:01:51] *** Quits: sproing (Mibbit@moz-CCF6D31B.comcastcntr.pa.bo.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[18:02:36] *** Quits: ofeldt (ofeldt@moz-7BB72199.dip0.t-ipconnect.de) (Ping timeout)
[18:03:37] <SiegeLord> So about that intermingled parameter blog entry... I don't understand why you need late bound parameters
[18:03:49] <SiegeLord> *lifetimes
[18:04:36] *** Quits: skade (skade@moz-4D9CB8A6.sys11.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[18:06:20] *** Joins: ofeldt (ofeldt@moz-7BB72199.dip0.t-ipconnect.de)
[18:06:33] *** Quits: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com) (Quit: brendan)
[18:08:55] *** Quits: Ralith (ralith@moz-A7071297.customer.broadstripe.net) (Ping timeout)
[18:09:45] *** Quits: ofeldt (ofeldt@moz-7BB72199.dip0.t-ipconnect.de) (Ping timeout)
[18:10:19] *** Joins: alonlevy (alon@moz-B0E66DB7.static.bezeqint.net)
[18:10:45] *** flaper87 is now known as flaper87|afk
[18:11:05] *** Joins: eatkinson (eatkinson@moz-261EDE03.hsd1.ca.comcast.net)
[18:11:11] *** Quits: tjc (tjc@moz-BBE3ABD.mv.mozilla.com) (Quit: zzzzzzzzzz)
[18:12:34] *** Joins: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com)
[18:12:48] *** Quits: eatkinson (eatkinson@moz-261EDE03.hsd1.ca.comcast.net) (Ping timeout)
[18:13:14] *** Joins: Ralith (ralith@moz-132F2FD4.sea.wa.customer.broadstripe.net)
[18:13:20] *** Joins: ofeldt (ofeldt@moz-7BB72199.dip0.t-ipconnect.de)
[18:13:41] *** Quits: pcwalton (pcwalton@moz-B51927E9.hsd1.ca.comcast.net) (Quit: pcwalton)
[18:15:59] *** kimundi is now known as zz_kimundi
[18:18:31] *** Quits: ofeldt (ofeldt@moz-7BB72199.dip0.t-ipconnect.de) (Ping timeout)
[18:18:36] *** Joins: tjc (tjc@moz-BBE3ABD.mv.mozilla.com)
[18:18:36] *** ChanServ sets mode: +o tjc
[18:19:54] *** Joins: kkris (kkris@moz-CB70009.yourvserver.net)
[18:20:05] *** jorendorff_away is now known as jorendorff
[18:20:47] <SiegeLord> The examples given in that blog entry don't really seem that useful to be worth introducing position dependence to a parameter list :/
[18:21:51] *** Joins: ofeldt (ofeldt@moz-7BB72199.dip0.t-ipconnect.de)
[18:24:27] *** Quits: pyrac (pyrac@moz-84C91992.w90-60.abo.wanadoo.fr) (Quit: pyrac)
[18:24:31] *** Quits: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com) (Quit: brendan)
[18:24:53] *** Joins: geoffhill (geoffhill@moz-79C8D45C.amazon.com)
[18:26:14] *** Quits: ofeldt (ofeldt@moz-7BB72199.dip0.t-ipconnect.de) (Ping timeout)
[18:28:37] *** Quits: Sorella (quildreen@9D963F5D.DF5D8AE7.54BCAB54.IP) (Quit: Ex-Chat)
[18:28:45] *** Joins: Sorella (quildreen@9D963F5D.DF5D8AE7.54BCAB54.IP)
[18:30:22] *** Joins: ofeldt (ofeldt@moz-7BB72199.dip0.t-ipconnect.de)
[18:31:08] *** Quits: CarpNet (ac@moz-FD24B77.sohonet.co.uk) (Quit: Leaving)
[18:32:21] <SiegeLord> So... why do the buffered writers not flush things upon drop? I note that it is documented... but not explained
[18:32:33] *** Quits: tjc (tjc@moz-BBE3ABD.mv.mozilla.com) (Quit: zzzzzzzzzz)
[18:34:22] <sfackler> SiegeLord: It could no longer implement Decorator since you can't move out of something with a destructor. Also, if the task is failing and then the flush raises a condition, the task will abort
[18:34:26] <sfackler> which seems unpleasant
[18:34:32] <sfackler> *the process will abort
[18:34:53] <SiegeLord> This failing during failing story seems very weak to me...
[18:35:31] <SiegeLord> That's yet to happen to me, but the 10 minutes spent figuring out why my file is not written has :P
[18:35:35] *** Quits: ofeldt (ofeldt@moz-7BB72199.dip0.t-ipconnect.de) (Ping timeout)
[18:36:09] *** Quits: lamboluvr (dmoz@moz-87A29603.hsd1.fl.comcast.net) (Quit: leaving)
[18:36:36] *** Joins: spooky (spooky@moz-EE8FD2C9.s.alfalinks.lv)
[18:36:57] <sfackler> It looks like the Reader/Writer APIs are being rewritten to remove conditions anyways, so it seems okay to add a destructor at that point
[18:37:09] <SiegeLord> That's exciting
[18:37:44] *** Joins: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com)
[18:37:45] <SiegeLord> Hopefully we'll get a generic read/write function/trait too
[18:37:54] <SiegeLord> (if there is one already, I don't know of it)
[18:38:13] *** Quits: SilverKey (SilverKey@moz-B589DA51.sw.biz.rr.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[18:38:22] <sfackler> Decorator should probably be split into two traits at that point
[18:38:35] <b> Last year I heard winter this year. ;) 
[18:38:52] *** Joins: ofeldt (ofeldt@moz-7BB72199.dip0.t-ipconnect.de)
[18:39:10] <b> Whoops. That was from an hour ago. Pardon. :o
[18:39:37] *** Joins: adu (ajr@moz-1A861F1E.washdc.fios.verizon.net)
[18:39:54] <SiegeLord> They're altering the deal. Pray that they don't alter it any further!
[18:41:04] *** Joins: echristo (echristo@moz-1892C634.hsd1.ca.comcast.net)
[18:42:22] <mark_edward> i have a file name lib.rs for my package, and #[link(name="realname")], but rustc always produces executables named lib. how can i fix this?
[18:42:25] *** Joins: echristo_ (echristo@60A74940.D6CCE4AE.77834EAA.IP)
[18:42:33] *** Joins: reedlepee (Mibbit@9B9315E1.A6025CA.1C37C358.IP)
[18:42:40] <cmr> mark_edward: -o, or use rustpkg
[18:42:48] *** Quits: echristo (echristo@moz-1892C634.hsd1.ca.comcast.net) (Ping timeout)
[18:42:48] *** echristo_ is now known as echristo
[18:42:51] <mark_edward> ok thanks
[18:43:36] *** Quits: StarLight (StarLight@moz-43B2932C.pppoe.avangarddsl.ru) (Ping timeout)
[18:45:23] *** Quits: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu) (Ping timeout)
[18:45:24] *** Joins: carllerche (carllerche@6B070D22.7E6A0813.1428D117.IP)
[18:47:08] *** Quits: Axord (xord@moz-1B228827.lsanca.dsl-w.verizon.net) (Ping timeout)
[18:47:31] *** Quits: ofeldt (ofeldt@moz-7BB72199.dip0.t-ipconnect.de) (Ping timeout)
[18:47:57] *** Joins: StarLight (StarLight@moz-20877D28.dynamic.avangarddsl.ru)
[18:49:39] *** Quits: echristo (echristo@60A74940.D6CCE4AE.77834EAA.IP) (Quit: echristo)
[18:50:07] *** Quits: adu (ajr@moz-1A861F1E.washdc.fios.verizon.net) (Quit: adu)
[18:50:30] *** Quits: jstevans (Instantbir@DC576269.67684BE1.DDE5D3F6.IP) (Ping timeout)
[18:50:54] *** Joins: ofeldt (ofeldt@moz-7BB72199.dip0.t-ipconnect.de)
[18:51:23] <SiegeLord> I think I'm going to draw a search icon for rustdoc... that search field is just too invisible
[18:53:14] <mark_edward> can we automatically derive std::fmt::Default yet?
[18:54:25] *** Quits: ofeldt (ofeldt@moz-7BB72199.dip0.t-ipconnect.de) (Ping timeout)
[18:56:35] *** Joins: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu)
[18:57:18] <cmr> mark_edward: no. what would the derived implementation do?
[18:57:43] <mark_edward> basically the same job as ToStr??
[18:57:51] <cmr> So why not just use ToStr?
[18:57:55] *** Joins: ofeldt (ofeldt@moz-7BB72199.dip0.t-ipconnect.de)
[18:58:42] <mark_edward> why do both ToStr and fmt::Default exist?
[18:58:45] <bstrie> you know what PHP has that rust needs? variable variables. let's add those
[18:59:21] <Sharp> Ewwwwwwwwwww
[18:59:23] <eddyb> bstrie: huh? do you mean the stupid ass $$?
[18:59:30] <bstrie> haha
[18:59:31] <bstrie> yesssss
[18:59:33] * Sorella agrees with bstrie
[18:59:39] <Sorella> Rust *definitely* needs those
[18:59:44] <Sharp> While we're at it, we might as well add named labels
[18:59:47] <Scriptor> it's a very powerful feature with much safety
[18:59:48] <Sorella> Also they're secure, and totally local
[18:59:52] <Sharp> *Label variables
[18:59:59] <bstrie> let foo = stdin().read(); let $foo = "yesssss";
[19:00:02] <eddyb> oh I can see right through that sarcasm
[19:00:26] <cmr> mark_edward: one is for creating a new string, one is for writing to a formatter.
[19:00:42] <cmr> mark_edward: rustdoc for examples uses fmt::Default to render to html
[19:00:50] <Sorella> Funny thing, I have just finished reading this: http://phpmanualmasterpieces.tumblr.com/post/65544023819/php-2-0-a-review-in-retrospect
[19:00:52] <eddyb> *however*, I wouldn't mind if reflection would be able to get the local scope as a hash map at some point :)
[19:01:14] <Sorella> eddyb, read-only?
[19:01:27] * Sorella is actually ambivalent about reflection
[19:01:45] <eddyb> $$ is kinda like that, but more like eval
[19:01:49] <heftig> Sorella: http://me.veekun.com/blog/2012/04/09/php-a-fractal-of-bad-design/ best rant
[19:01:52] *** Joins: Florob (Florob@moz-39532932.de)
[19:02:12] *** Quits: ofeldt (ofeldt@moz-7BB72199.dip0.t-ipconnect.de) (Ping timeout)
[19:02:24] *** Joins: Axord (xord@moz-1B228827.lsanca.dsl-w.verizon.net)
[19:02:25] <Sorella> eddyb, $$ is a monster :(
[19:02:27] <bstrie> Sorella: yeah, I was just reading it too :P
[19:02:42] *** Quits: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com) (Quit: brendan)
[19:02:43] <bstrie> heftig: haha, the author of that post is here in the channel
[19:02:45] <Sorella> Though, Io also allows full reflection on the locals. Including mutating. And dynamic scoping.
[19:03:09] <bstrie> in fact I found that php manual review on his twitter feed
[19:03:38] <Sharp> While it has its uses, I don't even *like* reflection in interpreted languages
[19:03:55] <cmr> eddyb: that's not possible.
[19:04:21] <eddyb> cmr: only in some debug mode, I'd presume
[19:04:45] <Sharp> Runtime reflection anyway.
[19:04:50] <eddyb> (a debugger should be able to do this, given proper debuginfo)
[19:05:22] *** Joins: maik (maik@moz-5EB7590A.dip0.t-ipconnect.de)
[19:05:23] <eddyb> Sharp: hmm, well, in JS, only the local scope is magic, AFAIK
[19:05:35] <Sorella> Sharp, not even when it's entirely separated as in Mirrors?
[19:05:51] <Sharp> I tend to view any time you have to use reflection as a failure of the original language, TBH.
[19:05:55] <eddyb> (and maybe the contents of the functions, depending on how you see it)
[19:05:56] *** Joins: ofeldt (ofeldt@moz-7BB72199.dip0.t-ipconnect.de)
[19:06:05] <Sorella> eddyb, Mozilla used to expose it. There is some other magic I guess, but I don't remember.
[19:06:25] <Sharp> Sorella: Mirrors?
[19:06:27] <Sorella> Sharp, run-time meta-programming.
[19:07:08] <Sharp> Maybe--I haven't ever used them.  It *sounds* like it fixes most of my issues with it.
[19:07:16] <Sorella> Sharp, mirrors are basically things that provide isolated reflection, so you can "buy into" the feature and its complexity/performance implications without poisoning everything else
[19:07:50] <eddyb> ES6 might have reflection, but it would be symmetric with proxies (so you can implement some proxy operations, the way they would happen on normal objects), and I'm not sure if there's much there that can't be done in the language itself
[19:08:26] <Sharp> Hm.  I'll have to look into that.
[19:08:32] <Sorella> I found proxies the only thing really lacking, as far as meta-programming goes.
[19:09:19] <Sorella> (and proper support for prototypical OO, but that one can't really be "fixed")
[19:09:32] <eddyb> Sorella: in?
[19:09:39] <Sharp> I think I'd have to be convinced that similar problems wouldn't crop up.  Every reflective system I've seen so far has kind of sucked :P
[19:09:49] <Sharp> But none of them approached it this way, so hey.
[19:10:10] <Sorella> eddyb, you can't make an Array delegate to something else.
[19:10:15] *** Quits: ofeldt (ofeldt@moz-7BB72199.dip0.t-ipconnect.de) (Ping timeout)
[19:10:31] <eddyb> Sorella: I mean, in JS?
[19:10:32] <Sorella> And they're going in a different direction on the primitives provided by the language.
[19:10:47] <Sorella> Yes, in JS.
[19:11:15] *** Quits: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu) (Ping timeout)
[19:12:02] <Sorella> Sharp, I believe Newspeak and Self have their whole reflection business done this way, though I'm not quite sure. They're interesting languages at any rate :)
[19:13:11] <Sharp> Hanging out in #rust is definitely good for those of us who like trying new languages, I've already learned about three today and it isn't even lunchtime :)
[19:13:16] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[19:14:27] *** Joins: ofeldt (ofeldt@moz-7BB72199.dip0.t-ipconnect.de)
[19:14:47] *** ozten is now known as ozten|afk
[19:15:22] *** Joins: sigma-pc (sigma@moz-488D5B97.range86-160.btcentralplus.com)
[19:15:24] *** Parts: sigma-pc (sigma@moz-488D5B97.range86-160.btcentralplus.com) ()
[19:15:51] <mark_edward> is there a macro to get hte name of the functio you're in?
[19:16:25] *** Quits: mib_0qgtac (Mibbit@moz-BC130050.connect.netcom.no) (Quit: http://www.mibbit.com ajax IRC Client)
[19:16:39] <eddyb> mark_edward: oh that would be too easy :P
[19:16:58] *** Joins: skade (skade@moz-7A6FDB52.web.vodafone.de)
[19:17:10] *** Quits: skade (skade@moz-7A6FDB52.web.vodafone.de) (Quit: Textual IRC Client: www.textualapp.com)
[19:17:12] <mark_edward> i take that as i no... there is a line!() and col!()? is there a file!()?
[19:17:48] <eddyb> (there might be a macro, I'm just feeling funny reading this PHP 2.0 blog post)
[19:18:23] <cmr> mark_edward: one was added recently I thought, I do remember reading the PR for it.
[19:18:28] *** Joins: engla (engla@moz-BFD53D48.selucle.dyn.perspektivbredband.net)
[19:19:21] <mark_edward> cmr: ok cool!
[19:20:29] *** Quits: ofeldt (ofeldt@moz-7BB72199.dip0.t-ipconnect.de) (Ping timeout)
[19:21:03] <cmr> mark_edward: maybe not, I can't find it.
[19:21:06] <cmr> mark_edward: file!() does exist though
[19:21:09] *** Quits: Ralith (ralith@moz-132F2FD4.sea.wa.customer.broadstripe.net) (Ping timeout)
[19:21:14] <mark_edward> ok, cool!
[19:24:23] <Liam`> Reading a blog post about rust, stumbled upon this oh-so-relatable quote. >One of the most common questions almost every Rust beginner asks is “when do I use managed pointers, and when do I use owned pointers?” Or, more simply, “what are all these ~ and @ symbols everywhere?” 
[19:24:27] *** Joins: ofeldt (ofeldt@moz-7BB72199.dip0.t-ipconnect.de)
[19:24:56] <Liam`> source: http://pcwalton.github.io/blog/2013/06/02/removing-garbage-collection-from-the-rust-language/
[19:27:09] <bstrie> Liam`: good news, those @ symbols should be completely gone, as far as you know :P
[19:27:20] *** Quits: edorian (Mibbit@moz-C8085F8D.dynamic.qsc.de) (Quit: http://www.mibbit.com ajax IRC Client)
[19:27:25] <Liam`> bstrie: i'm still not sure what they are
[19:27:32] <bstrie> are you never need to be!
[19:27:35] <bstrie> hooray!
[19:27:36] <Liam`> but but but
[19:27:40] <Liam`> "understanding"
[19:27:41] <bstrie> haha
[19:27:57] <cmr> Liam`: they're behind a feature gate, their final form will not be their current form.
[19:28:02] <mark_edward> where can i find the line!() macro in the rust source?
[19:28:10] <cmr> mark_edward: in libsyntax
[19:28:18] <bstrie> Liam`: they were awful things that attempted to shoehorn in semantics from other languages, with disastrous consequences for all the other code you ever wrote
[19:28:20] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[19:28:20] <pauls> mark_edward: syntax extensions are in libsyntax/ext
[19:28:38] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[19:29:44] *** Joins: Finde (Mibbit@moz-43B7213F.princeton.edu)
[19:29:59] <mark_edward> ok, thanks!
[19:30:08] <SiegeLord> Hmm... the calc hack used for the CSS of the search bar doesn't work in opear
[19:30:12] <SiegeLord> *Opera
[19:30:32] <bstrie> Liam`: basically, by ignoring their existence, you are not losing anything
[19:30:44] <bstrie> Liam`: learn ~. use ~. love ~.
[19:31:20] <bstrie> SiegeLord: we can't even use CSS, not all browsers support it yet
[19:31:25] <bstrie> we'll lose all our netscape 2 users
[19:31:32] <cmr> not to mention servo
[19:31:35] <bstrie> haha
[19:31:36] <cmr> :p
[19:31:37] <bstrie> and servo!!!
[19:31:42] *** Quits: alex-abreu (alex@EA3B4035.84482E50.488A906A.IP) (Ping timeout)
[19:31:43] <eddyb> -servo-calc
[19:31:49] *** Quits: andre (andre@CA528A4A.45A4338E.8EE27E6.IP) (Quit: leaving)
[19:31:56] <bstrie> I honestly wonder whether the world contains more netscape 2 users or servo users
[19:32:03] <eddyb> (FYI, I know that the prefixes are going to get removed :))
[19:32:08] *** Quits: ofeldt (ofeldt@moz-7BB72199.dip0.t-ipconnect.de) (Ping timeout)
[19:32:11] <eddyb> well, s/FYI/FWIW
[19:32:44] <bstrie> prefixes? what are prefixes. those don't exist, and never did
[19:33:20] <eddyb> bstrie: I meant to ask someone who knows... are there screenshots of some servo tests? I want to see the maximal feature set, out of curiosity :))
[19:33:32] <eddyb> bstrie: vendor-specific prefixes
[19:33:41] *** Quits: robertknight (robertknig@moz-54528EE0.wby.mendeley.com) (Ping timeout)
[19:33:46] *** Joins: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com)
[19:33:46] *** ChanServ sets mode: +ao pcwalton pcwalton
[19:33:51] <bstrie> screenshots of the tests? yeah, there are a few
[19:33:56] <bstrie> the ones I know of are all old though
[19:34:28] <bstrie> like, a few months old at least
[19:34:48] * benh saw a this-week-in-rust link on @rustlang and was hoping for a special halloween update :(
[19:34:54] <bstrie> eddyb: https://twitter.com/metajack/status/371041675633647616/photo/1
[19:34:58] <mark_edward> pauls: i see things like fail!() in libsyntax/expand.rs, but file!(), line!(), and col!() are nowhere to be ofund in there?
[19:34:59] <cmr> benh: what is th e halloween you speak of?
[19:35:14] <benh> some american thing, i reckon
[19:35:15] <eddyb> bstrie: it would be nice if automated, maybe on a page displaying acid3 score
[19:35:33] *** Joins: steffenomak (steffenoma@moz-FB0A4BEB.student.uu.se)
[19:35:48] <bstrie> eddyb: eh, servo probably crashes when it loads the acid3 page :P
[19:35:58] *** Joins: pyrac (pyrac@moz-84C91992.w90-60.abo.wanadoo.fr)
[19:35:59] *** Joins: ofeldt (ofeldt@moz-7BB72199.dip0.t-ipconnect.de)
[19:36:03] <pauls> mark_edward: source_util.rs
[19:36:10] *** Quits: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[19:36:18] <mark_edward> Thank you!
[19:36:25] <pauls> mark_edward: note that those utilities aren't macros; they're syntax extensions...
[19:36:32] <bstrie> cmr: you're probably used to it being spelled "hallowe'en", as is proper
[19:36:59] <pauls> ...and they're ordinary code that runs at compile time.
[19:37:21] *** Quits: ktt3ja (Mibbit@moz-6B6EE8C0.hsd1.va.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[19:37:31] *** Quits: BizarreCake (BizarreCak@moz-361FE9B2.dynamic.barak-online.net) (Ping timeout)
[19:37:36] <pauls> Macros that execute arbitrary code, rather than just pattern-matching `macro_rules!`-style, are a planned feature, but they're some way out.
[19:37:57] <benh> <:)
[19:38:04] <SiegeLord> Maybe I'll just ditch the search button altogether
[19:38:10] *** Joins: tedh (tedh@moz-F0B37C08.hsd1.il.comcast.net)
[19:38:19] *** Joins: sprocket (Mibbit@moz-FC822D3.broadband5.iol.cz)
[19:38:33] *** Quits: ofeldt (ofeldt@moz-7BB72199.dip0.t-ipconnect.de) (Ping timeout)
[19:40:11] *** Joins: kud1ing (Mibbit@moz-3358C513.pools.arcor-ip.net)
[19:41:26] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[19:41:46] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[19:42:37] *** Quits: pyrac (pyrac@moz-84C91992.w90-60.abo.wanadoo.fr) (Quit: pyrac)
[19:42:47] <Finde> could anyone tell me, is there a different set of steps needed for installing rust on OSX 10.9? I can't seem to get it working
[19:43:00] *** Joins: ofeldt (ofeldt@moz-7BB72199.dip0.t-ipconnect.de)
[19:43:02] *** Quits: johns (johns@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[19:43:04] *** Joins: johns (johns@moz-BBE3ABD.mv.mozilla.com)
[19:43:31] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Ping timeout)
[19:43:34] *** Quits: sprocket (Mibbit@moz-FC822D3.broadband5.iol.cz) (Quit: http://www.mibbit.com ajax IRC Client)
[19:43:34] <kud1ing> it works for me without any different steps
[19:43:43] <Finde> odd
[19:43:53] <bstrie> Finde: is that mavericks?
[19:43:53] <kud1ing> Finde: what is your problem?
[19:43:57] <kud1ing> yes
[19:44:12] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[19:44:13] <bstrie> some people have success after they reinstall the xcode command line tools
[19:44:46] <Finde> yeah mavericks
[19:44:47] <kud1ing> i had to remove my build directory though
[19:45:04] <kud1ing> something was wrong in the libuv part
[19:45:13] <Finde> this is the first thing I've been trying to install on the command line since I got this machine, so I installed the command line tools and xcode just for this
[19:45:26] <Finde> ah yeah that sounds like the error I'm getting
[19:46:44] <kud1ing> i guess that upgrading the OS does not automatically trigger a rebuild of affected files :)
[19:47:18] *** Quits: ofeldt (ofeldt@moz-7BB72199.dip0.t-ipconnect.de) (Ping timeout)
[19:51:01] *** Joins: ofeldt (ofeldt@moz-7BB72199.dip0.t-ipconnect.de)
[19:51:50] *** zz_kimundi is now known as kimundi
[19:52:39] *** Joins: Ralith (ralith@A8995AA9.62B6AF6A.922221DB.IP)
[19:53:20] <SiegeLord> Check out this sweet search input (needs JS on as doing it properly requires changes in rustdoc): http://siegelord.github.io/RustGnuplot/doc/gnuplot/index.html
[19:53:32] *** Quits: ofeldt (ofeldt@moz-7BB72199.dip0.t-ipconnect.de) (Ping timeout)
[19:55:12] <strcat> there's input type="search"
[19:56:23] <SiegeLord> Does that do anything?
[19:56:40] <strcat> it gets styled as a search input
[19:56:52] <SiegeLord> Doesn't look any different here...
[19:57:00] <Sharp> Might matter on mobile?
[19:57:01] *** Joins: ofeldt (ofeldt@moz-7BB72199.dip0.t-ipconnect.de)
[19:57:15] *** Quits: devbug (quassel@2D4E172D.4C8B6099.9B57EA59.IP) (Ping timeout)
[19:57:31] <strcat> SiegeLord: on which browser/OS?
[19:57:41] <SiegeLord> Firefox/Opera on Linux
[19:58:09] *** Joins: echristo (echristo@2C6BFF53.D6CCE4AE.77834EAA.IP)
[19:59:54] <Liam`> how old is the Rust project? in terms of the first commit
[20:00:03] <bstrie> let's check the git history!
[20:01:01] <bstrie> bah, that only goes back to 2010
[20:01:08] <bstrie> when there was already a lot of things written
[20:01:09] *** jdm|f00ding is now known as jdm
[20:01:21] <Liam`> stupid rebasing? lol
[20:01:32] <strcat> no
[20:01:32] <bstrie> nah, just not using source control for years, more likely
[20:01:37] <strcat> not that either
[20:01:56] <strcat> graydon said it was in mercurial before, and he didn't translate the history
[20:02:02] <strcat> and before that it was in monotone
[20:02:10] <Sharp> Why didn't he translate the history?
[20:02:13] <bstrie> monotone was my next guess :P
[20:02:27] <Sharp> I think git actually has a feature (SHA aliasing) that might let us merge it in post-hoc.
[20:02:31] <SiegeLord> Even on chromium it doesn't look any different... :P
[20:02:34] <bstrie> Sharp: maybe because he figured nobody would ever care about his pet programming language enough to bother doing archaelogy :P
[20:02:38] <Sharp> Heh.
[20:02:43] <Sharp> Hence why I brought that up.
[20:02:44] *** Joins: skeet70 (skeet70@moz-697F48F2.bzm-mt.client.bresnan.net)
[20:02:49] *** Quits: jvns (quassel@87D98E32.4046EB22.428F94DD.IP) (Ping timeout)
[20:02:58] <Sharp> I'm not positive it will work in this case though
[20:03:07] <Sharp> I think it's usually used to cut out history.  (I say "usually," I've never actually seen it used).
[20:03:08] <bstrie> SiegeLord: I think all that the "search" type does is sometimes add rounded corners
[20:03:08] * brendanc has a draft rust manual from 2009
[20:03:29] <Sharp> I figure it's still better to use it than not, though.  It's pretty much never a bad idea to add metadata.
[20:03:38] <Sharp> (Re: input type search).
[20:03:44] *** Quits: kud1ing (Mibbit@moz-3358C513.pools.arcor-ip.net) (Quit: http://www.mibbit.com ajax IRC Client)
[20:03:51] <brendanc> the manual claims development began in earnest in 2005
[20:04:08] <bstrie> but it was still a one-man project until like 2010 or so
[20:04:12] <bstrie> maybe 2009
[20:04:12] <SiegeLord> Sharp: What if it starts looking funny :P
[20:04:22] <bstrie> pcwalton was the first non-graydon person to work on it, iirc
[20:04:49] <Sharp> SiegeLord: Then explicitly style it with CSS :)
[20:05:22] <bstrie> SiegeLord: CSS resets! :P
[20:05:26] <SiegeLord> Wish web programming was as easy as non-web programming
[20:05:46] <bstrie> the grass is always greener
[20:05:54] *** Joins: alex-abreu (alex@EA3B4035.84482E50.488A906A.IP)
[20:05:56] <brendanc> definitely not public as of september 2009
[20:06:09] * Sharp finds web programming much easier, people are just finnicky about UI.
[20:06:13] <SiegeLord> bstrie: I'm already doing non-web programming... I know how green my grass is :P
[20:06:23] <bstrie> making nice UIs is always hard
[20:06:24] *** Quits: exobit_ (textual@moz-E06F46F0.corp.bitshelter.com) (Quit: )
[20:06:37] <Sharp> Right, it is hard!  But for very different reasons.
[20:06:49] <bstrie> or rather nice GUIs
[20:06:49] *** Joins: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu)
[20:07:20] <bstrie> CLIs are a little easier, somewhat
[20:07:30] <Sharp> Nice text-based UIs are not easy either.
[20:07:38] * Sharp looooved Borland Turbo C++ 3.5 for DOS
[20:08:00] *** Joins: jstevans (Instantbir@DDBD4DD9.589CEA99.B7830B68.IP)
[20:08:01] <SiegeLord> src/lib.rs:1:0: 1:0 error: transmute called on types with different sizes...
[20:08:18] <SiegeLord> I nearly had a heartattack when I saw that error yesterday 15 mins before my presentation
[20:08:25] <Sharp> Heh.
[20:08:29] <bstrie> what presentation
[20:08:29] <Sharp> What were you presenting?
[20:08:46] <SiegeLord> Just some machine learning bits... and I had the great idea to write the demos in Rust :P
[20:08:53] <Sharp> Haha
[20:08:58] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[20:09:02] <SiegeLord> And then a great idea not to update my Rust version on the laptop until a few hours before
[20:09:08] <Sharp> Did you manage to get it working?
[20:09:19] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[20:09:26] <Ms2ger> There's an important law here... If you present something rust-based, it'll crash or fail in some other way ;)
[20:09:26] <SiegeLord> Yeah, commented out a whole bunch of code, but eventually it worked
[20:09:34] <Sharp> Sweet!
[20:09:45] *** Quits: Addle (quassel@moz-89E971E4.cable.teksavvy.com) (Client exited)
[20:09:45] *** Joins: ktt3ja (Mibbit@moz-6B6EE8C0.hsd1.va.comcast.net)
[20:09:51] <SiegeLord> Now to fix it properly...
[20:09:53] *** Quits: ofeldt (ofeldt@moz-7BB72199.dip0.t-ipconnect.de) (Ping timeout)
[20:09:53] *** Quits: sankha93 (Instantbir@7061CD01.D6BD0D91.22D41759.IP) (Ping timeout)
[20:10:04] <bstrie> Ms2ger: no, I think the moral here is that if you update your programming environment 15 minutes before a presentation, you're gonna have a bad time
[20:10:27] <Luqman> bstrie: pssh, just stage1 should be enough
[20:10:40] <Ms2ger> Luqman++
[20:11:03] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[20:11:09] <SiegeLord> The reason why is that I coded to newer version of Rust, elsewhere
[20:11:22] <SiegeLord> *why I had to update
[20:11:44] <SiegeLord> That said, it would have been easier to fix if it actually gave me the right line number :P
[20:13:20] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[20:13:32] *** Joins: ofeldt (ofeldt@moz-7BB72199.dip0.t-ipconnect.de)
[20:15:11] *** Joins: SilverKey (SilverKey@moz-B589DA51.sw.biz.rr.com)
[20:16:06] <SiegeLord> Hmm... #[repr()] doesn't accept type aliases
[20:17:06] *** Joins: valenting (Thunderbir@8E5435E.7AF34920.FB866788.IP)
[20:17:45] *** Joins: expr (user@moz-B07FD20F.dyn.optonline.net)
[20:18:00] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[20:19:47] *** Joins: Addle (quassel@moz-89E971E4.cable.teksavvy.com)
[20:21:11] *** Quits: alex-abreu (alex@EA3B4035.84482E50.488A906A.IP) (Ping timeout)
[20:21:36] *** Quits: Addle (quassel@moz-89E971E4.cable.teksavvy.com) (Ping timeout)
[20:22:02] *** Joins: Addle (quassel@moz-89E971E4.cable.teksavvy.com)
[20:23:01] *** Quits: doctor (root@1818E56D.5A29975A.67659D25.IP) (Ping timeout)
[20:23:25] *** Joins: doctor (root@1818E56D.5A29975A.67659D25.IP)
[20:24:27] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Ping timeout)
[20:26:11] *** Quits: Jackneill (Jackneill@moz-A68B0C5B.pool.digikabel.hu) (Input/output error)
[20:28:57] *** Joins: robertknight (robertknig@moz-BD709226.range109-153.btcentralplus.com)
[20:30:39] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[20:31:38] <bstrie> in some example code I just accidentally named a metasyntactic variable "boo"
[20:31:47] <bstrie> I can't tell if this is holiday spirit, or dyslexia
[20:32:39] *** Joins: tikue_ (tikue_star@30C9EC33.F3E8A984.689607DE.IP)
[20:32:51] *** Quits: Finde (Mibbit@moz-43B7213F.princeton.edu) (Quit: http://www.mibbit.com ajax IRC Client)
[20:33:00] <strcat> bstrie: your keyboard is haunted
[20:33:06] <strcat> s/keyboard/text editor/
[20:33:33] <Sorella> bstrie, your text editor decided all the code you write today will be hallowe'en themed :D
[20:36:19] *** Joins: alex-abreu (alex@75B49992.1F0072FC.79E9D79A.IP)
[20:39:17] <tiffany> spooky
[20:39:35] <eddyb> pumpkin-face in ident pls
[20:39:50] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[20:41:03] *** Joins: Blub\w (wry@moz-D27A970C.wireless.dyn.drei.com)
[20:41:42] <eddyb> rusti: let ☠ = None::<()>; ☠
[20:41:49] <eddyb> RIP, rusti :(
[20:41:55] *** Joins: lbergstrom (Adium@moz-5D8E4B14.lightspeed.cicril.sbcglobal.net)
[20:43:28] *** Quits: doctor (root@1818E56D.5A29975A.67659D25.IP) (Ping timeout)
[20:43:51] *** Joins: doctor (root@1818E56D.5A29975A.67659D25.IP)
[20:44:47] *** Quits: fabiand (fabiand@moz-66E3E423.adsl.alicedsl.de) (Quit: Verlassend)
[20:45:40] *** Quits: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com) (Ping timeout)
[20:45:42] *** Joins: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com)
[20:46:39] *** Quits: jvshahid (jvshahid@moz-53774307.nycm.ny.megapath.net) (Quit: leaving)
[20:46:41] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[20:47:02] *** Joins: jvns (quassel@87D98E32.4046EB22.428F94DD.IP)
[20:47:41] *** Joins: huseby (huseby@moz-4E8C421A.husebyhome.com)
[20:47:56] *** Joins: nkoep (nik@moz-1C14C49F.pool.mediaways.net)
[20:48:29] *** Quits: expr (user@moz-B07FD20F.dyn.optonline.net) (Ping timeout)
[20:49:07] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[20:49:18] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[20:51:57] *** Quits: canhtak (canhtak@moz-66A0054D.wl.t.ulaval.ca) (Quit: canhtak)
[20:53:12] *** Quits: spooky (spooky@moz-EE8FD2C9.s.alfalinks.lv) (Quit: )
[21:01:56] *** Joins: nejucomo (Adium@moz-434492BB.dsl.static.sonic.net)
[21:04:06] *** bhearsum is now known as bhearsum|afk
[21:04:13] *** Quits: steffenomak (steffenoma@moz-FB0A4BEB.student.uu.se) (Ping timeout)
[21:04:16] *** Parts: lbergstrom (Adium@moz-5D8E4B14.lightspeed.cicril.sbcglobal.net) ()
[21:04:54] *** Quits: cdelo_ (cdelo@31073680.31C0B4EF.D345515E.IP) (Quit: Leaving)
[21:05:14] *** Quits: ianj (ianjneu@moz-7140CF01.ccs.neu.edu) (Quit: leaving)
[21:06:47] *** Quits: alex-abreu (alex@75B49992.1F0072FC.79E9D79A.IP) (Ping timeout)
[21:06:54] <joelteon> :D
[21:07:00] <joelteon> i'm going to write some halloween code
[21:08:19] <McPherrin> On holidays, Dr. Racket nee Scheme has holiday pictures on its loading screen
[21:08:38] <McPherrin> Rust should do something similar (themed colour schemes in errors??)
[21:09:13] <bstrie> McPherrin: the rust compiler is already scary enough :)
[21:10:19] <McPherrin> bstrie: :-)
[21:10:55] <McPherrin> You are haunted by the ghost of a variable!  Its soul has been moved!
[21:11:05] <sp3d> "error: lifetime ended prematurely" ;)
[21:11:31] *** Quits: johnmurray (jmurray@moz-299FF8FF.fw.nyc2.appnexus.com) (Quit: johnmurray)
[21:11:31] *** Quits: Jesse (jruderman@moz-537BCF9.hsd1.ca.comcast.net) (Quit: Jesse)
[21:12:49] *** Joins: mattm (Mibbit@moz-BC3191E8.resnet.stonybrook.edu)
[21:13:41] *** Parts: mattm (Mibbit@moz-BC3191E8.resnet.stonybrook.edu) ()
[21:14:24] *** ozten|afk is now known as ozten
[21:14:36] *** Joins: eatkinson (eatkinson@moz-D86C5DB2.airbears2.berkeley.edu)
[21:16:48] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[21:17:20] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[21:19:55] *** jorendorff is now known as jorendorff_away
[21:20:41] <bstrie> ChrisMorgan: I want to see us at the top of http://www.techempower.com/benchmarks/ by next week
[21:22:43] *** Quits: jstevans (Instantbir@DDBD4DD9.589CEA99.B7830B68.IP) (Ping timeout)
[21:22:55] *** Joins: alex-abreu (alex@EA3B4035.84482E50.488A906A.IP)
[21:28:40] *** Joins: robertkn_ (robertknig@moz-54528EE0.wby.mendeley.com)
[21:30:24] *** Quits: robertkn_ (robertknig@moz-54528EE0.wby.mendeley.com) (Ping timeout)
[21:32:46] *** Joins: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com)
[21:39:37] <bstrie> speaking of web frameworks, I'm incredibly impressed at the menagerie of tools that it takes to keep a python project running smoothly
[21:39:46] *** Quits: tikue_ (tikue_star@30C9EC33.F3E8A984.689607DE.IP) (Ping timeout)
[21:39:53] <bstrie> and by impressed I mean dismayed
[21:40:08] *** Quits: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com) (Quit: brendan)
[21:40:10] <bstrie> let's hope that ChrisMorgan saves us all, with the world's best web framework written in rust
[21:40:30] <bstrie> ChrisMorgan: btw, at some point you need to transition away from naming your thing "rust_http"
[21:41:20] <bstrie> because the sign of an accomplished programming language is that people no longer feel obligated to put the name of the language in the name of the project
[21:41:26] <bstrie> just saying
[21:41:31] <bstrie> start thinking of cool-sounding alternatives
[21:42:00] <kmc> ++
[21:42:08] <Ms2ger> libhttp
[21:42:09] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Client exited)
[21:42:22] <dbaupp> refrigator, antartica
[21:42:29] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[21:42:57] *** Quits: moostik (Icedove@moz-5988E8E9.w92-135.abo.wanadoo.fr) (Quit: moostik)
[21:43:13] *** Joins: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com)
[21:43:29] *** Quits: alonlevy (alon@moz-B0E66DB7.static.bezeqint.net) (Ping timeout)
[21:44:16] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Ping timeout)
[21:44:30] <dbaupp> *refrigerator
[21:44:54] *** Joins: cubic (cubic@moz-80241A3A.mc.videotron.ca)
[21:46:31] *** Quits: maik (maik@moz-5EB7590A.dip0.t-ipconnect.de) (Connection reset by peer)
[21:46:41] <bstrie> *antarctica
[21:46:52] *** Joins: jeffdb (jeffbelg@moz-ABCAA64B.efi.com)
[21:47:01] * dbaupp *almost* executed that joke well
[21:47:12] * bstrie still doesn't get it :P
[21:47:26] <dbaupp> bstrie: "cool sounding"
[21:47:40] <bstrie> sigh
[21:47:41] *** Quits: ofeldt (ofeldt@moz-7BB72199.dip0.t-ipconnect.de) (Ping timeout)
[21:48:03] *** Joins: jstevans (Instantbir@58E2B199.A9DA0237.DDE5D3F6.IP)
[21:48:13] *** Joins: Kruppe (user@moz-E150F49F.cpe.net.cable.rogers.com)
[21:48:40] <Ms2ger> groan
[21:48:44] *** Joins: cdelo (cdelo@31073680.31C0B4EF.D345515E.IP)
[21:48:52] *** Joins: tikue_ (tikue_star@30C9EC33.F3E8A984.689607DE.IP)
[21:49:04] <jeffdb> is the crates and modules section of the tutorial up to date?
[21:50:54] <bstrie> agh, `let` is not valid python
[21:51:08] <bstrie> jeffdb: I have no idea!
[21:51:09] *** Joins: ofeldt (ofeldt@moz-7BB72199.dip0.t-ipconnect.de)
[21:51:25] <bstrie> I think there might have been some changes recently
[21:51:29] <bstrie> to privacy and such
[21:51:32] <bstrie> that would impact modules
[21:51:38] <bstrie> but I can't elaborate
[21:52:29] <jeffdb> bstrie: thanks, I've avoided writing anything larger than one file, because that stuff is harder for me than it should be O_O
[21:53:34] <kmc> don't hesitate to ask if you have specific questions about crates and modules
[21:53:36] <jeffdb> but, I'm at like 500 LOC so I figure it's time to think about breaking it up a bit
[21:53:54] <dbaupp> jeffdb: the crates and modules section was rewritten fairly recently so it's approximately correct (modulo the privacy changes bstrie mentions, but, in theory, these changes make the system more intuitive)
[21:54:14] *** Joins: CarpNet (Alasdair@moz-25C796BC.cable.virginm.net)
[21:54:22] *** Joins: tjc (tjc@moz-BBE3ABD.mv.mozilla.com)
[21:54:22] *** ChanServ sets mode: +o tjc
[21:54:34] *** Quits: ofeldt (ofeldt@moz-7BB72199.dip0.t-ipconnect.de) (Ping timeout)
[21:55:36] *** Quits: carllerche (carllerche@6B070D22.7E6A0813.1428D117.IP) (Quit: carllerche)
[21:56:41] <jeffdb> only kinda related: I want to 'use some::module::*' and it's telling me to to #[feature(globs)] which is fine, but where do I put that? putting it above the use statement doesn't work
[21:57:27] *** Joins: carllerche (carllerche@6B070D22.7E6A0813.1428D117.IP)
[21:57:53] <dbaupp> jeffdb: "on the crate", which means at the top of the file on which you run rustc, with a `;` to attach it to the outer item (i.e. the crate)
[21:58:10] *** Joins: ofeldt (ofeldt@moz-7BB72199.dip0.t-ipconnect.de)
[21:58:23] <dbaupp> so foo.rs: `#[feature(globs)]; use std::*; fn main() {}`, `rustc foo.rs`
[21:58:33] *** Joins: steveklabnik (steveklabn@moz-5EF6C37C.socal.res.rr.com)
[21:58:41] *** Joins: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com)
[21:59:07] <jeffdb> dbaupp: cool. so a semicolon attaches #[]'s to the outer item?
[21:59:20] <jeffdb> I wasn't sure when to use a semicolon or not
[21:59:22] <dbaupp> jeffdb: yup
[21:59:45] <dbaupp> (it's likely changing to be less subtle, so don't get too attached to `;` being the only differentiator :P )
[21:59:58] <McPherrin> The semicolon semantics there are very subtle, and easy to miss if you don't know about them
[22:00:03] <jeffdb> I'm learning not to be attached to anything in rust
[22:00:09] <jeffdb> :)
[22:00:13] <dbaupp> good plan
[22:00:34] *** Parts: robertknight (robertknig@moz-BD709226.range109-153.btcentralplus.com) ()
[22:01:21] *** Quits: cowboyd (cowboyd@moz-1BD02A1E.sw.biz.rr.com) (Client exited)
[22:01:37] *** Quits: ofeldt (ofeldt@moz-7BB72199.dip0.t-ipconnect.de) (Ping timeout)
[22:02:21] *** Joins: mikezaby (mikezaby@moz-B26868E.home.otenet.gr)
[22:02:31] *** Parts: mikezaby (mikezaby@moz-B26868E.home.otenet.gr) ()
[22:03:02] *** Joins: azakai (alon@moz-BBE3ABD.mv.mozilla.com)
[22:03:13] *** Quits: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP) (Quit: buildmaster reconfigured: bot disconnecting)
[22:04:08] *** Joins: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP)
[22:04:51] *** Quits: FrozenCow_ (FrozenCow@moz-B2DF4929.chello.nl) (Client exited)
[22:05:40] *** Joins: ofeldt (ofeldt@moz-7BB72199.dip0.t-ipconnect.de)
[22:05:43] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Client exited)
[22:06:18] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[22:08:00] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Ping timeout)
[22:08:31] *** Joins: Jesin (Jessin_@moz-E3E3585E.cc.lehigh.edu)
[22:10:12] *** Quits: ksf (ksf@moz-3AE535B1.adsl.hansenet.de) (Client exited)
[22:13:00] *** Quits: jstevans (Instantbir@58E2B199.A9DA0237.DDE5D3F6.IP) (Ping timeout)
[22:13:01] *** Joins: willingc (willingc@moz-B4760708.san.res.rr.com)
[22:13:34] *** Joins: robertknight (robertknig@moz-BD709226.range109-153.btcentralplus.com)
[22:14:18] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[22:15:20] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[22:16:01] *** Quits: eatkinson (eatkinson@moz-D86C5DB2.airbears2.berkeley.edu) (Quit: eatkinson)
[22:16:03] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[22:16:08] <Ms2ger> How would you check whether an iterator yields at least two objects that satisfy a predicate?
[22:16:29] <strcat> .count(predicate)
[22:16:59] *** Quits: robertknight (robertknig@moz-BD709226.range109-153.btcentralplus.com) (Ping timeout)
[22:17:16] <Ms2ger> Nothing built-in that stops after finding the second?
[22:17:45] <engla> filter + take(2) + len?
[22:18:18] <engla> or just take(2), count I guess
[22:18:30] <engla> um no.. that was too dumb
[22:19:02] *** Quits: willingc (willingc@moz-B4760708.san.res.rr.com) (Ping timeout)
[22:22:08] <Ms2ger> take_while(P).nth(2).is_some(), maybe
[22:22:10] *** Quits: nejucomo (Adium@moz-434492BB.dsl.static.sonic.net) (Quit: Leaving.)
[22:23:08] *** Quits: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP) (Quit: buildmaster reconfigured: bot disconnecting)
[22:23:14] <engla> yes but index 1
[22:24:55] *** Quits: engla (engla@moz-BFD53D48.selucle.dyn.perspektivbredband.net) (Ping timeout)
[22:24:58] *** Joins: engla (engla@moz-BFD53D48.selucle.dyn.perspektivbredband.net)
[22:25:07] <engla> take-while would do something different than filter or count
[22:26:54] *** Quits: nsf (nsf@moz-EEF3238A.convex.ru) (Quit: WeeChat 0.4.2)
[22:27:21] *** Joins: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP)
[22:28:04] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[22:28:29] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Client exited)
[22:28:36] *** Joins: eatkinson (eatkinson@moz-392601D4.lightspeed.sntcca.sbcglobal.net)
[22:30:38] *** Quits: Scriptor (anonymous@moz-E06F46F0.corp.bitshelter.com) (Quit: Scriptor)
[22:30:47] *** Quits: engla (engla@moz-BFD53D48.selucle.dyn.perspektivbredband.net) (Ping timeout)
[22:30:53] *** Joins: engla (engla@moz-BFD53D48.selucle.dyn.perspektivbredband.net)
[22:32:42] *** Joins: nejucomo (Adium@moz-A94CACD5.dsl.pltn13.sbcglobal.net)
[22:32:51] *** Quits: jvns (quassel@87D98E32.4046EB22.428F94DD.IP) (Ping timeout)
[22:33:04] *** Quits: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP) (Quit: buildmaster reconfigured: bot disconnecting)
[22:33:11] *** Quits: lfox (lfox@moz-343B6F0C.nyc.biz.rr.com) (Quit: ZZZzzz…)
[22:33:42] *** Joins: rust-buildbot (rust-build@505BFA3.C3CCCE8C.D25A875A.IP)
[22:34:35] *** Quits: tjc (tjc@moz-BBE3ABD.mv.mozilla.com) (Quit: zzzzzzzzzz)
[22:34:47] *** Quits: nejucomo (Adium@moz-A94CACD5.dsl.pltn13.sbcglobal.net) (Quit: Leaving.)
[22:35:20] <mark_edward> what characters are legal as titles of macros?
[22:35:35] <eddyb> mark_edward: prolly a regular ident
[22:35:49] <eddyb> too bad we don't have rusti anymore to test :/
[22:36:20] *** Joins: moostik (Icedove@moz-5988E8E9.w92-135.abo.wanadoo.fr)
[22:36:22] *** Joins: nejucomo (Adium@moz-A94CACD5.dsl.pltn13.sbcglobal.net)
[22:37:20] <jeffdb> eddyb: did rusti die?
[22:38:29] <dbaupp> jeffdb: something changed that meant that rustc no longer runs in strcat's sandbox properly
[22:38:46] <jeffdb> poor little guy.
[22:38:49] *** Quits: Ms2ger (Ms2ger@moz-6EEC6E4D.adsl-dyn.isp.belgacom.be) (Quit: nn)
[22:39:46] <strcat> dbaupp: seemingly not related to the sandbox itself too
[22:40:26] <dbaupp> strcat: as in, it doesn't work even if you remove the sandbox?
[22:40:39] <strcat> it doesn't work even if all system are whitelisted and namespaces aren't used
[22:41:13] *** Quits: Blub\w (wry@moz-D27A970C.wireless.dyn.drei.com) (Quit: short night and ugly day ahead of me - baibai)
[22:41:14] <strcat> it does something weird to stdin/stdout
[22:41:21] *** jdm is now known as jdm|f00ding
[22:41:59] <eddyb> strcat: you sure it's not /dev/std*?
[22:42:13] <strcat> ?
[22:42:34] <strcat> it does weird invalid ioctl stuff
[22:43:10] <pcmattman> or at least invalid for not-a-tty
[22:43:23] *** Joins: tjc (tjc@2A83DB2C.B977E772.DD630FEE.IP)
[22:43:23] *** ChanServ sets mode: +o tjc
[22:43:31] <dbaupp> presumably related to porting stdio to use libuv
[22:43:42] <pcmattman> strcat: what happens if you run it under a pty instead of using a pipe?
[22:43:59] <strcat> dunno, I don't feel like spending more time debugging it
[22:48:19] *** Quits: sweet_kid (Upasana@F685FB81.839A33D6.388CF16F.IP) (Quit: Leaving)
[22:49:24] *** Joins: devbug (quassel@23AC5F12.9D950176.3655BBF5.IP)
[22:51:01] *** Quits: bholley (anonymous@moz-ECA833F6.dip0.t-ipconnect.de) (Quit: bholley)
[22:51:58] *** Quits: Florob (Florob@moz-39532932.de) (Client exited)
[22:52:55] *** Quits: tjc (tjc@2A83DB2C.B977E772.DD630FEE.IP) (Quit: Places to go, people to annoy)
[22:53:13] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[22:53:21] *** Quits: donri (donri@moz-9BB61102.tbcn.telia.com) (Client exited)
[22:53:34] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[22:54:20] *** Quits: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net) (Client exited)
[22:54:31] *** Joins: adu (ajr@moz-60B25736.washdc.fios.verizon.net)
[22:54:40] *** Joins: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net)
[22:54:54] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[22:55:15] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[22:56:27] *** Quits: Skif (emschwar@moz-CA025D57.ip.mcleodusa.net) (Ping timeout)
[22:56:51] *** Joins: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP)
[22:58:39] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[23:00:58] *** Quits: lenstr (lenstr@AF8EB999.6049B16A.85938D85.IP) (Client exited)
[23:03:41] *** Quits: reedlepee (Mibbit@9B9315E1.A6025CA.1C37C358.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[23:03:55] *** Quits: spider-mario (spidermari@moz-81131DB6.fbx.proxad.net) (Connection reset by peer)
[23:05:15] <pauls> mark_edward: same rules as normal idents.
[23:05:29] <mark_edward> thansk or the info!
[23:05:57] *** Quits: CarpNet (Alasdair@moz-25C796BC.cable.virginm.net) (Quit: Leaving)
[23:06:11] <jeffdb> right now the compiler note about feature gates is, "main.rs:11:4: 11:9 note: add #[feature(globs)] to the crate attributes to enable" does it make sense to add a semicolon after the directive into that compiler message? Are there cases where it wouldn't be added?
[23:06:51] <jeffdb> also, is this the kind of thing I can just make an issue about on github instead of asking here? (never contributed on github)
[23:07:16] *** Joins: canhtak (canhtak@moz-66A0054D.wl.t.ulaval.ca)
[23:07:22] <mark_edward> is there a way to block creating structs with record syntax without making everything private?
[23:07:44] <sfackler> I think there's an open PR to allow feature gates to be attached to any scope level instead of just the crate
[23:07:52] *** Quits: valenting (Thunderbir@8E5435E.7AF34920.FB866788.IP) (Ping timeout)
[23:08:15] <jeffdb> k
[23:08:21] <Sharp> mark_edward: Not that I know of.
[23:08:30] <strcat> mark_edward: make one field private
[23:08:35] <Sharp> Oh, duh.
[23:08:36] *** Joins: askalski (akuda@325F8E42.CC7751E8.6712E96B.IP)
[23:08:49] <mark_edward> strcat: ah, thanks!
[23:10:05] *** Joins: ianj (ianjneu@moz-7BA002E.hsd1.ma.comcast.net)
[23:10:33] <Sharp> strcat: do we optimize out private fields that are never used anywhere?  Or would that violate assumptions about structure layout?
[23:10:50] <strcat> we don't optimize anything really
[23:11:00] <strcat> what kind of optimization would we do?
[23:11:02] <Sharp> I feel like that's the sort of thing LLVM wouldn't be able to do though
[23:11:02] <pcwalton> acrichto: how do I print without the runtime?
[23:11:05] <Sharp> In the absence of other information.
[23:11:09] <Sharp> Well, we could remove them
[23:11:28] <Sharp> If they are never used, only created
[23:11:29] <sfackler> Sharp: you can use a zero-sized type like () to avoid making the struct any larger
[23:11:31] <strcat> there's no reason LLVM couldn't do something like that
[23:11:38] <Sharp> sfackler: True
[23:11:47] <Sharp> strcat: Disagreed, unless LLVM knows whether things are supposed to be exported or not
[23:11:52] <Sharp> I can't imagine that in general it could make that optimization.
[23:11:59] <strcat> it does know whether things are exported or not
[23:12:01] <strcat> functions
[23:12:12] <Sharp> But structs?
[23:12:19] <strcat> doesn't matter
[23:12:44] <strcat> LLVM doesn't have to care about the language level structs, it's in a better position
[23:12:57] <strcat> it already splits them into little pieces with SROA, and so on
[23:13:07] <Luqman> pcwalton: there's dumb_println somewhere
[23:13:11] <Sharp> I agree with you on that, but that also means it can't make struct specific optimizations, I'd think.
[23:13:19] <strcat> what kind of optimization?
[23:13:27] <Sharp> Again, removing fields that aren't used.
[23:13:29] <strcat> it removes unused fields from structs
[23:13:34] <strcat> it splits them into scalars
[23:13:39] <Sharp> What if it's used in a module?
[23:13:47] <Sharp> Er, used cross-crate, rather.
[23:14:03] <strcat> then neither rustc or LLVM can optimize it
[23:14:08] <Sharp> Right
[23:14:14] <Sharp> But how would LLVM know that?
[23:14:22] <Ralith> escape analysis
[23:14:23] <strcat> because it knows if functions are exported
[23:14:23] *** Quits: avsej (avsej@D9A610B8.4841F515.FB33447D.IP) (Ping timeout)
[23:14:34] <strcat> and the only relevant thing about struct layout is ABI is exported functions
[23:14:45] <strcat> types don't exist at runtime
[23:14:53] *** Quits: eatkinson (eatkinson@moz-392601D4.lightspeed.sntcca.sbcglobal.net) (Quit: eatkinson)
[23:14:54] <strcat> there's nothing exported for a struct
[23:15:10] *** Quits: geoffhill (geoffhill@moz-79C8D45C.amazon.com) (Ping timeout)
[23:15:14] <Sharp> You can't export a module level static then?
[23:15:24] <strcat> sure, that's part of the ABI
[23:15:28] <strcat> you can't optimize it
[23:15:31] <Sharp> Ah
[23:15:31] <strcat> in rust, or in LLVM
[23:15:36] <Sharp> Okay, cool
[23:15:40] <Sharp> As long as LLVM is aware of that.
[23:16:02] <strcat> rust structs are compatible with C by design, and you can't know whether or not something in a *crate you don't know about* uses it
[23:16:11] <strcat> ofc.... it doesn't matter, because LTO enables that kind of optimization
[23:16:19] <strcat> and we should have LTO support
[23:16:35] *** Quits: Jesin (Jessin_@moz-E3E3585E.cc.lehigh.edu) (Quit: Leaving)
[23:16:37] <Sharp> I wasn't suggesting that you could, I was suggesting that it would be hard for LLVM to do any optimization if it didn't have enough information to know whether it could do it at all… but yes, LTO would do that.
[23:16:42] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Client exited)
[23:17:02] *** Joins: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP)
[23:17:06] *** Quits: adu (ajr@moz-60B25736.washdc.fios.verizon.net) (Quit: adu)
[23:17:29] <Sharp> I guess more specifically, I was saying: Rust *should* be able to make optimizations LLVM can't because it simply has more information at its disposal, even if that's not true of Clang.
[23:17:44] <strcat> what information does it have?
[23:17:54] <Sharp> Typing information.
[23:17:55] *** Quits: ofeldt (ofeldt@moz-7BB72199.dip0.t-ipconnect.de) (Ping timeout)
[23:18:08] <Sharp> I *thought* it had extra scope information but apparently not.
[23:18:32] <strcat> I don't think doing optimizations in rustc makes sense
[23:18:48] *** Quits: infynyxx (infynyxx@DB780A29.749BA1D.DCC373F0.IP) (Ping timeout)
[23:18:55] <strcat> outputting less bytecode makes sense, to speed up compile-time
[23:19:03] <strcat> and communicating more information
[23:19:16] *** Joins: steven_is_false (user@C5B76363.1FF1EBF8.1ECA502.IP)
[23:19:17] <strcat> like aliasing data
[23:19:28] *** Quits: askalski (akuda@325F8E42.CC7751E8.6712E96B.IP) (Quit: Wychodzi)
[23:19:31] <Sharp> Maybe not a lot of optimizations, and definitely not until there are no more easy optimizations to do through LLVM, but I think saying "rustc shouldn't do any optimizations" is a bit extreme.
[23:19:52] <strcat> I don't think it's extreme.... it's not how LLVM is intended to be used
[23:19:59] <strcat> you're supposed to add metadata and write LLVM passes
[23:20:09] <strcat> so they aren't isolated from all of the analysis LLVM uses
[23:20:11] <Sharp> You can write LLVM passes explicitly for Rust?
[23:20:14] <strcat> yes
[23:20:17] <Sharp> Oh, neat!
[23:20:19] <strcat> LLVM can dynamically load passes
[23:20:24] <strcat> as plugins
[23:20:24] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Quit: Leaving.)
[23:20:38] <Sharp> In that case, yes, I suppose all the optimizations can take place in LLVM, in principle :)
[23:20:41] *** Quits: alan (alan@moz-FE02DD30.sat6.rackspace.com) (Ping timeout)
[23:21:17] <dbaupp> strcat: is TBAA blocked on something fundamental? or just developer time?
[23:21:47] <strcat> it requires writing an LLVM pass
[23:21:49] *** Joins: ofeldt (ofeldt@moz-7BB72199.dip0.t-ipconnect.de)
[23:22:02] <strcat> and I don't know how to integrate that into how rust builds LLVM
[23:22:17] <strcat> you have to build them in the LLVM source tree
[23:22:39] *** Joins: froglegstew (Mibbit@9B9315E1.A6025CA.1C37C358.IP)
[23:22:45] <Sharp> Can they be symlinked?
[23:22:51] <dbaupp> ah, yeah.
[23:22:55] <dbaupp> Sharp: not on windows
[23:22:57] *** Quits: froglegstew (Mibbit@9B9315E1.A6025CA.1C37C358.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[23:23:02] <Luqman> strcat: the builds script basically just run configure + make for llvm
[23:23:09] <Sharp> Windows has hard links
[23:23:13] *** Quits: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com) (Quit: brendan)
[23:23:16] <Luqman> then link a bunch of llvm .a libs into librustllvm
[23:23:19] *** Joins: reedlepee (Mibbit@9B9315E1.A6025CA.1C37C358.IP)
[23:23:21] <strcat> Luqman: but if you stick stuff in there you make the git submodule dirty, don't you?
[23:23:21] <Sharp> Which aren't quite the same but work.
[23:23:43] <dbaupp> Sharp: oh, ok
[23:23:47] <Sharp> git clean.
[23:23:51] *** Parts: steven_is_false (user@C5B76363.1FF1EBF8.1ECA502.IP) (ERC Version 5.3 (IRC client for Emacs))
[23:23:51] <strcat> I guess we could copy the whole LLVM source tree to another dir and build from there
[23:23:57] <Sharp> Not necessary ^
[23:24:26] <strcat> doing make shouldn't prevent you from pulling until you clean up stuff manually
[23:24:30] *** Joins: eatkinson (eatkinson@moz-DC7CD72F.airbears2.berkeley.edu)
[23:24:31] <Sharp> Or, switch to another branch and maintain it there, that's what e.g. Chef does for merging in remote recipes.
[23:24:33] <dbaupp> if they can be dynamically loaded, can't we write a pass in Rust exposing an extern "C" fn interface and load that?
[23:24:37] <Sharp> So for builds, use the build_rust branch.
[23:24:40] <strcat> dbaupp: no
[23:24:46] <strcat> LLVM is C++
[23:24:47] *** Joins: eddyb9 (eddy@FE23D96E.F33C1089.FB866788.IP)
[23:24:57] <Sharp> With git you should rarely to never have to create a new directory.
[23:25:15] <strcat> the C API exposes a fraction of the LLVM API with a terrible crufty/inflexible interface
[23:25:20] <strcat> it's not unusable for this
[23:25:32] <strcat> any LLVM passes we wrote would be C++
[23:25:43] <aatch> The passes interface relies on a fair bit of C++ magic too
[23:25:44] <strcat> the C API is essentially only for frontends
[23:25:52] <strcat> and it's barely adequate for that ;p
[23:26:22] <dbaupp> the passes don't have to be in the src/llvm directory though, do they?
[23:26:44] *** Quits: eddyb (eddy@FE23D96E.F33C1089.FB866788.IP) (Ping timeout)
[23:26:45] <strcat> you have to build them as part of the LLVM source tree
[23:26:49] <Sharp> Sounds like yes.  But I don't see why that's unworkable with sensible use of git.
[23:27:10] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[23:27:15] <Sharp> I'm sure there are other projects that do this anyway that Rust can copy.  Well, actually, I'm not, but I'd hope there are.
[23:28:06] <strcat> custom LLVM passes would also tie up to a specific LLVM version forever
[23:28:23] <strcat> if we were targeting 3.4, everyone would have to have 3.4
[23:28:32] <strcat> we're not always going to have a fork of it
[23:28:44] <strcat> dunno if that's a problem
[23:29:06] <strcat> anyway I don't want to start work on something like this that's going to end up stuck in political/structural issues
[23:29:09] <Sharp> I think in principle it should be possible to maintain the passes separately from Rust itself
[23:29:15] <Sharp> And update them with LLVM
[23:29:22] <Sharp> Since they're optimizations they should be optional anyway.
[23:29:30] *** Joins: robertknight (robertknig@moz-54528EE0.wby.mendeley.com)
[23:29:49] <strcat> the passes would be tied to code generating the metadata for them to consume in the frontend
[23:29:52] <mark_edward> is there any way to share macros between modules?
[23:30:05] <Sharp> Sure, but you could generate the metadata for a version of LLVM that didn't expect it
[23:30:12] <Sharp> You'd be lower-bounded by the Rust version, not LLVM version.
[23:30:13] <sfackler> mark_edward: #[macro_escape], but that only works within the same crate
[23:30:16] *** Quits: tiffany (kawaii@moz-28A8742A.dhcp.embarqhsd.net) (Ping timeout)
[23:30:19] <dbaupp> mark_edward: modules, yes, but crates, no.
[23:30:30] <mark_edward> ok, thanks for the advice guys
[23:31:04] <strcat> Sharp: the passes are only going to work with a specific LLVM version
[23:31:08] <strcat> the APIs aren't at all stable
[23:31:13] *** Quits: robertknight (robertknig@moz-54528EE0.wby.mendeley.com) (Ping timeout)
[23:31:18] <Sharp> Will they ever be?
[23:31:20] <strcat> no
[23:31:30] <dbaupp> strcat: how ridiculously infeasible would be conditional compilation for different LLVM versions be?
[23:31:32] <Sharp> Then LLVM doesn't really have pluggable passes...
[23:31:44] *** Joins: telotortium (Mibbit@moz-90BFA359.dhcp.mdsn.wi.charter.com)
[23:31:51] <strcat> it does, just not a stable API/ABI
[23:32:08] <strcat> only the C ABI is stable, and it's really crippled
[23:32:13] * Sharp thinks the best way to do something like that would be to "gate" Rust's LLVM version by forcing it to pass tests verifying that the plugins worked
[23:32:27] <Sharp> That would make sure plugins don't bitrot but leave people free to use later LLVM versions if they wanted
[23:32:41] <strcat> dbaupp: I'm definitely not going to maintain passes for more than one LLVM version ;\
[23:33:13] *** Joins: mcarberry (mcarberry@moz-BE1C9F3F.lightspeed.frokca.sbcglobal.net)
[23:33:26] <Sharp> But again, I don't think Rust's development should be halted if LLVM stops working with it, it just shouldn't download a later version of LLVM by default until those tests are fixed.
[23:33:27] <dbaupp> ... or, how about only using the plugins with a compatible LLVM, and just forgoing those optimisations when not possible?
[23:33:37] <mark_edward> dbaupp: do you have to import them? im getting that the mamcro is unknown
[23:33:52] <strcat> dbaupp: that would work
[23:33:58] <Sharp> I think that's the only option dbaupp, the question is how to make sure the plugins are compatible :)
[23:34:03] *** Quits: james4k (james@moz-E7990244.consolidated.net) (Ping timeout)
[23:34:11] <strcat> by hardcoding a specific version they expect
[23:34:35] <Sharp> And what happens if LLVM is bumped?  Does someone have to manually go in and reverify them?  Seems to me like this is something bors could do.
[23:34:47] <Sharp> That's mostly what I was suggesting, the whole thing could be automated.
[23:34:49] <strcat> bors can't test something like this
[23:34:59] <dbaupp> mark_edward: you don't import them, you just design your code so they're in scope when you need it (give me a second)
[23:35:02] <strcat> we don't have enough code/tests to verify codegen changes related to something like alias analysis
[23:35:19] <Sharp> Fair enough… I guess it would require a bigger test suite.  So you're saying manually gate LLVM, then?
[23:37:01] <dbaupp> mark_edward: e.g. std::rt has a few macros it wants, so it defines them in a separate mod marked with #[macro_escape] ( https://github.com/mozilla/rust/blob/master/src/libstd/rt/macros.rs ) and then loads that module first ( https://github.com/mozilla/rust/blob/master/src/libstd/rt/mod.rs#L100-L101 ) which means that every module (and their children) below that `pub mod` that in std::rt has the macros in scope
[23:38:21] *** Joins: adu (ajr@moz-60B25736.washdc.fios.verizon.net)
[23:40:29] *** Quits: skeet70 (skeet70@moz-697F48F2.bzm-mt.client.bresnan.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[23:42:38] *** Joins: james4k (james@moz-E7990244.consolidated.net)
[23:43:18] *** Quits: steveklabnik (steveklabn@moz-5EF6C37C.socal.res.rr.com) (Ping timeout)
[23:43:27] *** Joins: steveklabnik (steveklabn@moz-5EF6C37C.socal.res.rr.com)
[23:45:28] *** Quits: steveklabnik (steveklabn@moz-5EF6C37C.socal.res.rr.com) (Ping timeout)
[23:47:05] *** Quits: voxpopuli (fanservice@moz-FE161659.wv.cc.cmu.edu) (Ping timeout)
[23:47:57] *** Quits: eatkinson (eatkinson@moz-DC7CD72F.airbears2.berkeley.edu) (Quit: eatkinson)
[23:48:27] <acrichto> pcwalton: rterrln!() or uverrln!() depending on where you're at, or you can get the reader/writer from rt::io::native::stdio
[23:48:32] <pcwalton> ok
[23:51:01] *** Quits: btipling (btipling@moz-D51E0AEB.xen.prgmr.com) (Ping timeout)
[23:51:28] *** Quits: hjr3 (hradtke@1A0AE795.28A5F6C3.A2D40ED2.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[23:52:00] *** Quits: ozten (ozten@moz-DD3B00B4.hsd1.wa.comcast.net) (Quit: ozten)
[23:52:01] *** Joins: skeet70 (skeet70@moz-697F48F2.bzm-mt.client.bresnan.net)
[23:53:06] *** Quits: adu (ajr@moz-60B25736.washdc.fios.verizon.net) (Quit: adu)
[23:54:26] *** Quits: canhtak (canhtak@moz-66A0054D.wl.t.ulaval.ca) (Quit: canhtak)
[23:57:15] *** Quits: jeffdb (jeffbelg@moz-ABCAA64B.efi.com) (Quit: Leaving.)
[23:59:19] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[23:59:19] *** ChanServ sets mode: +ao dherman dherman
[23:59:59] *** Joins: jvshahid (jvshahid@moz-C1BC0CE4.nyc.res.rr.com)
