[00:00:02] <aatch> I know that LLVM has an `opaque` type, which is for handling `struct foo_t;` declarations in headers.
[00:01:03] <aatch> Also for creating types with reference loops (like struct Node<T> { val: T, next: Option<Box<T>> })
[00:01:09] *** Quits: James (quassel@moz-225vcm.range86-148.btcentralplus.com) (Ping timeout: 121 seconds)
[00:01:42] <GBGamer> so it seems that rust creates empty enums as ()
[00:01:43] <aatch> That should be Box<Node<T>>
[00:02:11] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[00:02:16] <GBGamer> at least for llvm bc
[00:02:48] <GBGamer> so an `enum VoidEnum {}` == `struct VoidStruct;` == `()` == (llvm) `{}`
[00:02:59] *** Quits: jga (jga@moz-ljt.t1q.244.77.IP) (Ping timeout: 121 seconds)
[00:03:36] <GBGamer> aatch: do you have access to a C compiler?
[00:03:43] <GBGamer> (or, specifically, clang)?
[00:03:47] *** Quits: njn (chatzilla@moz-6gdjm4.iinet.net.au) (Quit: ChatZilla 0.9.91.1 [Firefox 40.0a1/20150510205108])
[00:04:16] <aatch> Yes.
[00:04:37] <GBGamer> could you check what a FILE * is, in llvm ir?
[00:04:44] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[00:04:50] *** Joins: njn (chatzilla@moz-6gdjm4.iinet.net.au)
[00:05:11] <GBGamer> (like FILE *f = fopen(""); fclose(f))
[00:06:04] *** Quits: njn (chatzilla@moz-6gdjm4.iinet.net.au) (Quit: ChatZilla 0.9.91.1 [Firefox 40.0a1/20150510205108])
[00:07:28] *** Quits: acharles (acharles@moz-dvfnah.static.qwest.net) (Client exited)
[00:08:28] <GBGamer> I wish there was a good play.rust-lang.org replacement for C :/
[00:09:05] *** Quits: Jesin (Jesin@moz-oo8drm.eecs.lehigh.edu) (Quit: Leaving)
[00:09:23] *** Joins: anders (andars@moz-bsldst.sntcca.sbcglobal.net)
[00:12:44] <Luqman> GBGamer: http://gcc.godbolt.org/
[00:13:37] <GBGamer> Luqman: thank you :D
[00:14:03] <Luqman> but no llvm ir sadly
[00:14:14] <GBGamer> compiler options to the rescue!
[00:14:16] <GBGamer> -emit-llvm
[00:14:46] <Luqman> oh lol, i tried -emit-ir :P
[00:15:53] *** Joins: larsberg (Adium@moz-kmvlue.cable.rcn.com)
[00:16:11] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[00:18:28] <GBGamer> wow
[00:18:38] <GBGamer> FILEs are fucking huge
[00:18:51] <GBGamer> type { i32, i8*, i8*, i8*, i8*, i8*, i8*, i8*, i8*, i8*, i8*, i8*, %struct._IO_marker*, %struct._IO_FILE*, i32, i32, i64, i16, i8, [1 x i8], i8*, i64, i8*, i8*, i8*, i8*, i64, i32, [20 x i8] }
[00:18:53] *** Joins: njn (chatzilla@moz-6gdjm4.iinet.net.au)
[00:18:55] *** Quits: duesenfranz_ (jona@moz-711djm.tirol.surfer.at) (Client exited)
[00:19:46] <GBGamer> 216 bytes
[00:21:15] <bstrie> almost twice the size of a fat pointer! :P
[00:21:29] <GBGamer> bstrie: not bits, bytes :P
[00:21:38] <bstrie> ah I see
[00:21:50] <GBGamer> so, more than 16! times
[00:21:56] <aatch> bstrie, given that structure containts more than 2 pointers.
[00:22:08] *** Quits: simukis1 (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[00:22:19] *** Quits: ChrisMorgan (ChrisMorgan@moz-g6osuq.tpgi.com.au) (Ping timeout: 121 seconds)
[00:22:23] <aatch> GBGamer, more than 20922789888000 times?
[00:22:28] <bstrie> aatch: I don't have time to read backscroll, I live in the moment!
[00:22:46] <GBGamer> well, really, 13.5
[00:22:52] <GBGamer> (on x86_64)
[00:23:46] *** Joins: ChrisMorgan (ChrisMorgan@moz-g6osuq.tpgi.com.au)
[00:27:22] <GBGamer> now I'm very curious what a FILE looks like in C
[00:27:28] <GBGamer> (with the variable names)
[00:30:03] *** Joins: summerlight (summerlight@moz-99k.2mj.130.121.IP)
[00:33:36] <GBGamer> yeah, clang errors out on arithmetic on pointer to void
[00:33:46] <GBGamer> despite making void = i8
[00:36:28] *** chmanchester is now known as chmanchester|afk
[00:38:23] *** Joins: acharles (acharles@moz-mi1459.static.qwest.net)
[00:40:19] <GBGamer> yeah, arithmetic on a pointer to void is a GNU extension
[00:41:48] *** Joins: japaric (japaric@moz-uu6.ofc.236.190.IP)
[00:41:49] *** Quits: japaric (japaric@moz-uu6.ofc.236.190.IP) (Quit: WeeChat 1.1.1)
[00:46:59] *** Joins: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu)
[00:48:18] *** Quits: summerlight (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[00:50:52] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[00:53:53] *** Quits: larsberg (Adium@moz-kmvlue.cable.rcn.com) (Quit: Leaving.)
[00:58:46] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[01:00:36] *** Joins: jgallagher (john@moz-6ge.dhn.131.24.IP)
[01:04:40] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[01:06:38] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[01:12:03] *** Quits: davebettin (davebettin@moz-hde.5e5.136.67.IP) (Ping timeout: 121 seconds)
[01:12:11] <klutzy> hey klutzy, you've commented to the closed issue that you'll open new issue for some other thing, and you didn't open it for months
[01:12:14] <klutzy> you confused me
[01:15:09] *** Joins: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP)
[01:18:30] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[01:18:43] <blaenk> ???
[01:24:10] *** Joins: zxq9 (ceverett@moz-qsm369.mesh.ad.jp)
[01:25:10] *** Quits: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP) (Ping timeout: 121 seconds)
[01:30:13] *** Joins: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP)
[01:30:41] <WindowsBunny> acrichto: Thanks, now I have to spend my life carefully reading your PR
[01:32:29] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[01:32:48] <acrichto> WindowsBunny: :)
[01:34:29] *** Quits: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP) (A TLS packet with unexpected length was received.)
[01:36:53] <WindowsBunny> acrichto: I hereby forgive you of all your crimes in the past
[01:37:04] * acrichto rejoices
[01:38:38] <cmr> aturon: I'm definitely going to steal that compliment.
[01:39:05] <aturon> cmr: hahaha, well it's definitely not original to me. but good lord that PR!
[01:39:32] <steveklabnik> :)
[01:39:43] *** Quits: jdm (jdm@moz-ilbt2e.cable.teksavvy.com) (Quit: )
[01:40:17] *** Quits: joneshf-laptop (joneshf@moz-l4h.b5s.208.98.IP) (Ping timeout: 121 seconds)
[01:40:44] <WindowsBunny> >As to why `.note.rustc` works on MinGW, that's another good question...
[01:40:53] <WindowsBunny> Why anything works on MinGW is a good question
[01:41:15] <XMPPwocky> things work on MinGW?
[01:41:39] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[01:42:34] <WindowsBunny> acrichto: How was your experience with link.exe compared to things like ld.exe?
[01:43:34] <acrichto> WindowsBunny: it made me really not enjoy dlls on windows, but it also left me clueless how anything else works on unix
[01:43:45] <acrichto> other than that the only hard part I found was finding it
[01:43:52] <acrichto> and the fact that /usr/bin/link.exe is a thing in MinGW
[01:43:54] <acrichto> and it's not the thing you want
[01:44:02] <cmr> Yeah I discovered that these past few days too.
[01:44:10] <cmr> Quite unpleasently when I nuked an object file :(
[01:44:37] * cmr has been working on integrating crash reporting with Rust, requires msvc-built code on Windows
[01:45:27] <cmr> On the other hand, I've learned a lot about PE/COFF and Mach-O. More than I ever wanted to.
[01:47:50] <acrichto> cmr: hahaha I find these kinds of trips normally end with that as well
[01:47:52] *** Quits: sprang_ (sprang@moz-d0kmvi.12d9.sm5v.0009.2601.IP) (Ping timeout: 121 seconds)
[01:48:10] <acrichto> I was pretty far down the rabbit hole of SEH on windows before I realized it wasn't in our LLVM submodule just yet
[01:48:17] <acrichto> a rabbit hole for another day!
[01:48:43] <XMPPwocky> seh is pretty... unique
[01:49:26] <WindowsBunny> rabbit hole, heh
[01:49:58] *** Joins: davebettin (davebettin@moz-ip635p.or.comcast.net)
[01:54:21] *** Quits: ekidd (ekidd@moz-6t81cn.nh.comcast.net) (Ping timeout: 121 seconds)
[01:54:24] *** Quits: swgillespie (swgillespie@moz-1i5.3un.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[01:55:54] <klutzy> "In the standard Coff object format, section names are limited to the eight bytes ... The Microsoft PE variants of the Coff object file format add an extension to support the use of long section names."
[01:55:56] <klutzy> interesting!
[01:55:59] <klutzy> https://sourceware.org/binutils/docs/bfd/coff.html
[01:56:28] <acrichto> klutzy: oh! that must be why we pas -Wl,--enable-long-section-names to the linker by default for MinGW
[01:56:29] <klutzy> was unsure whether long name support is gnu-ld extension or not
[01:56:35] <klutzy> yep!
[01:56:51] <acrichto> I wonder if link.exe has an alternative to that
[01:57:14] <WindowsBunny> acrichto: Would we want to pass /DEBUG to link.exe to ensure a PDB is generated for debugging?
[01:57:45] <acrichto> WindowsBunny: perhaps! I haven't investigate the story much here, but I'm told that this requires LLVM support first which is unimplemented (but I have no verified these claims)
[01:58:20] <WindowsBunny> acrichto: it just means that it'll generate a PDB from any debug info that is provided
[01:58:35] <WindowsBunny> and if we don't provide any, then it'll only use that from static libraries which are linked in which do
[01:58:38] <acrichto> does the linker understand the dwarf debug info in the object files we provide?
[01:58:41] <WindowsBunny> No
[01:58:49] <acrichto> ah, then it's probably worth it for native libs anyway
[01:58:54] <acrichto> at least for debug builds
[01:59:03] <WindowsBunny> It doesn't really impair performance
[01:59:08] <WindowsBunny> It just adds a .pdb file
[01:59:15] *** Joins: morton (Mibbit@moz-juv.9o3.252.72.IP)
[01:59:23] <acrichto> I dunno, allocating "/DEBUG" on the heap as an argument to the linker is a pretty costly process
[01:59:53] <WindowsBunny> also, I recommend specifying /OPT:REF,ICF and not just /OPT:REF
[02:00:14] <WindowsBunny> that way it will also fold read only data
[02:01:37] *** Quits: morton (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[02:04:13] <klutzy> acrichto: uh, the page says it's only valid for objects; executables should have truncated one. so the long section feature is gnu extension
[02:04:45] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[02:05:28] *** Joins: gsingh93 (gulshan@moz-qnbukr.mi.comcast.net)
[02:06:35] *** Joins: erz (erz@moz-n26c5c.broadband.corbina.ru)
[02:06:47] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[02:08:28] <klutzy> it's more interesting that MS dumpbin even seems to understand long section names..
[02:09:11] *** Quits: davebettin (davebettin@moz-ip635p.or.comcast.net) (Ping timeout: 121 seconds)
[02:12:11] <WindowsBunny> acrichto: Oh, and if you specify /STACK, you'll finally know how big the main thread stack is for sure!
[02:12:12] <WindowsBunny> :D
[02:12:40] *** Quits: zz_kimundi (kimundi@moz-ocelec.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[02:14:41] *** Quits: ChrisMorgan (ChrisMorgan@moz-g6osuq.tpgi.com.au) (Ping timeout: 121 seconds)
[02:15:06] *** Joins: zz_kimundi (kimundi@moz-mmvhvu.dip0.t-ipconnect.de)
[02:15:07] *** zz_kimundi is now known as kimundi
[02:15:23] *** Joins: ChrisMorgan (ChrisMorgan@moz-g6osuq.tpgi.com.au)
[02:18:31] *** Joins: Rym (y@moz-o80acm.range86-189.btcentralplus.com)
[02:18:57] *** Joins: davebettin (davebettin@moz-ip635p.or.comcast.net)
[02:20:23] *** Quits: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[02:21:01] *** Joins: tamird (textual@moz-gg3hct.res.rr.com)
[02:30:33] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[02:34:57] *** Joins: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP)
[02:41:28] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[02:41:55] *** Quits: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP) (Ping timeout: 121 seconds)
[02:47:22] *** Joins: ekidd (ekidd@moz-6t81cn.nh.comcast.net)
[02:47:31] <vadimcn> acrichto: trying to build your MSVC pr... what are the command line parameters I'm supposed to give to configure?
[02:48:44] *** Quits: ekidd (ekidd@moz-6t81cn.nh.comcast.net) (Quit: Quitte)
[02:48:57] <frewsxcv> is anyone here aware of any free credits for digital ocean/aws/google cloud stuff? i'd like to be able to fuzz more rust things without digging into my wallet any further
[02:52:15] *** Joins: crumpler (Mibbit@moz-juv.9o3.252.72.IP)
[02:53:19] *** Quits: crumpler (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[02:55:20] <bstrie> frewsxcv: if you want to fuzz rust, kmc may lend you some hardware
[02:56:53] <kmc> frewsxcv: three words: travis ci
[02:57:16] <frewsxcv> kmc: does afl work on travis ci?
[02:58:52] <frewsxcv>  i figured travis wouldn't let me run processes for days
[03:00:10] *** Joins: davebettin_ (davebettin@moz-ip635p.or.comcast.net)
[03:00:22] *** Quits: davebettin (davebettin@moz-ip635p.or.comcast.net) (Ping timeout: 121 seconds)
[03:00:26] <Manishearth> frewsxcv: taskcluster! ask brson for help
[03:01:28] <WindowsBunny> frewsxcv: I think there's a one or two hour limit for free users
[03:01:48] <frewsxcv> yeah...two hours won't cut it....
[03:02:04] <Manishearth> frewsxcv: also, if you give me linux shell scripts for setting things up (sudo okay); I can make build machines for you in my department
[03:02:06] *** Joins: quantheory (quantheory@moz-dsb104.crel.jtvf.0001.2601.IP)
[03:02:07] <Manishearth> It's 50min
[03:02:23] <frewsxcv> 50min?
[03:02:47] <Manishearth> You'd need to tell me every time you want to run a fuzz though; I won't be able to expose an API to you
[03:02:49] <WindowsBunny> frewsxcv: I have a toaster you're free to attempt to run your stuff on, but I'll have to pause it if I want to toast some bread
[03:03:17] *** Joins: sprang_ (sprang@moz-6i5.c9m.56.172.IP)
[03:03:23] <frewsxcv> WindowsBunny: i think AFL on most CPUs will end up with computers as hot as toasters
[03:03:59] <WindowsBunny> in that case, maybe I'll run your AFL stuff whenever I do want to toast some bread
[03:04:08] *** Joins: p1start (p1start@moz-nftjhe.org)
[03:04:09] <frewsxcv> :)
[03:04:57] <frewsxcv> Manishearth: i appreciate your offer, but having to go through another person without having access to the machine sounds like a fair amount of work
[03:05:16] * frewsxcv is trying to make this as simple as possible for him
[03:05:33] <Manishearth> frewsxcv: you would just email me scripts and I would run them from vpn+screen
[03:05:41] <WindowsBunny> frewsxcv: Actually there is an API, it involves a text based protocol over IRC, but the server has rather poor response times
[03:05:56] <Manishearth> frewsxcv: really, taskcluster seems like what you want
[03:06:20] <frewsxcv> on a related note, is there a way to figure out what version of LLVM compiled rust?
[03:06:32] <frewsxcv> e.g. if i do a rustup, to find out what version of LLVM compiled that binary
[03:09:22] <Manishearth> I suggest you chat with ted or jgraham in the #ateam IRC channel and ask about the capabilities of taskcluster
[03:09:33] <frewsxcv> okay, thanks Manishearth 
[03:09:39] <Manishearth> because that's Mozilla infra to run huge jobs; iirc
[03:11:21] *** Joins: joneshf-laptop (joneshf@moz-t619m0.ucdavis.edu)
[03:19:57] *** Joins: bdero1 (bran@moz-lbs.91h.47.73.IP)
[03:20:05] *** Quits: bdero (bran@moz-216hqv.oo5r.e4su.0006.2601.IP) (Quit: Leaving.)
[03:25:28] *** Quits: bdero1 (bran@moz-lbs.91h.47.73.IP) (Ping timeout: 121 seconds)
[03:38:28] *** Quits: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu) (Connection closed)
[03:39:21] *** Joins: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu)
[03:39:43] <aatch> So, are people aware that git2 seems to have broken cargo?
[03:40:53] <huon> acrichto: ^
[03:41:06] <aatch> I blame lifetime elision.
[03:41:09] *** Quits: sprang_ (sprang@moz-6i5.c9m.56.172.IP) (Ping timeout: 121 seconds)
[03:43:34] *** Quits: gsingh93 (gulshan@moz-qnbukr.mi.comcast.net) (Ping timeout: 121 seconds)
[03:45:37] *** Quits: p1start (p1start@moz-nftjhe.org) (Ping timeout: 121 seconds)
[03:52:58] <acrichto> WindowsBunny: all good to know arguments! I'll see if I can't add a few before this lands
[03:53:20] <acrichto> vadimcn: currently `--arg="val with spaces"` is broken with the configure script, so I make sure that cl.exe is in my PATH before running ./configure
[03:53:27] <acrichto> aatch: how so?
[03:53:34] <aatch> acrichto, lifetime errors.
[03:53:52] <aatch> acrichto, that whole stuff with the RemoteCallbacks just looks wrong.
[03:54:09] <acrichto> on the current nightly?
[03:54:33] <aatch> acrichto, I just pulled cargo down, so yes
[03:56:09] <aatch> acrichto, basically, the lifetimes are setup such that it's impossible to construct the callbacks in a way that the lifetimes are valid.
[03:56:22] <vadimcn> acrichto: configure also complains about not finding either clang or gcc
[03:56:44] <acrichto> vadimcn: ah I was also running it out of a msys2 shell (64-bit)
[03:57:04] <acrichto> aatch: hm interesting, I shall investigate
[03:57:37] <aatch> acrichto, the simplest fix is taking the callbacks by-value (you could box them if you want to keep the null-pointer thing)
[03:58:09] <acrichto> hmm
[04:01:16] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Quit: It's a joke, it's all a joke.)
[04:03:22] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[04:06:44] *** Joins: davebettin__ (davebettin@moz-ip635p.or.comcast.net)
[04:10:10] *** Quits: davebettin_ (davebettin@moz-ip635p.or.comcast.net) (Ping timeout: 121 seconds)
[04:10:47] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[04:11:19] *** Quits: kmcguire (kmcguire@moz-bbqf14.res.bhn.net) (Ping timeout: 121 seconds)
[04:11:33] <aatch> acrichto, ok, even easier fix: change from &'cb mut RemoteCallbacks<'cb> to &'repo mut RemoteCallbacks<'cb>
[04:12:46] <acrichto> aatch:  hm but that would imply that the callbacks would have to be created before the repository, right?
[04:13:23] <aatch> acrichto, oh, this is in `remote`
[04:13:43] <acrichto> right, but 'repo is the lifetime of the source repository the remote was created from
[04:14:35] <aatch> acrichto, the problem is that right now it means the callbacks struct has to live for exactly as long as the closures it contains.
[04:14:51] <acrichto> yeah I was kinda hoping that it would shorten that lifetime
[04:14:58] <acrichto> I think I'll just take the callbacks by value and box them up for now
[04:19:46] <aatch> Ah well, I managed to build cargo. Now I can use `cargo rustc`!
[04:20:09] <acrichto> :D
[04:25:55] *** Joins: munksgaard (munksgaard@moz-478pev.u.parknet.dk)
[04:27:35] *** Joins: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP)
[04:28:59] <huon> are we intending to do https://internals.rust-lang.org/t/release-channels-git-branching-and-the-release-process/1940/7?u=huon ?
[04:32:37] *** Quits: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP) (Ping timeout: 121 seconds)
[04:39:27] *** Quits: Rym (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[04:43:23] *** Joins: nham (nham@moz-755.bu3.214.98.IP)
[04:45:34] <Manishearth> nrc: from the meeting minutes, you mentioned a student who was having trouble using crates
[04:45:50] <Manishearth> Probably because of blocked port 22
[04:46:08] <Manishearth> an insteadOf url rewrite in the gitconfig might help them
[04:46:40] <nrc> Manishearth: sounds likely, he said it was due to some kind of port blocking. I think he found a work around, not exactly sure what
[04:48:05] <Manishearth> nrc: git:// uses some random port, and git@github.com uses 22
[04:48:37] <Manishearth> http://stackoverflow.com/a/11383587/1198729
[04:48:39] <Manishearth> is a solution
[04:48:57] <Manishearth> and for git@ you can do the same thing
[04:49:02] <Manishearth> but of course the https version is slower
[04:49:04] <nrc> cool, thanks
[04:49:11] <Manishearth> so I pefer to use ssh.github.com
[04:49:34] <Manishearth> you can edit the ssh config file and tell it that sshing to github.com is ssh.github.com port 443
[04:49:46] <Manishearth> (add a host/port key to the conf entry)
[04:50:14] <nrc> What do you call the aspect of language design where you try to allow the user to make library types that work like built-in ones rather than treat built-ins as special cases?
[04:50:41] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[04:50:58] <Manishearth> nrc: extensibility? dunno
[04:51:10] <Manishearth> you mean stuff like OIBIT and the rest I assume
[04:51:16] <Manishearth> and rewritable lang items
[04:51:18] <nrc> yeah
[04:51:35] <nrc> not so much the features but the philosophy
[04:51:40] <Manishearth> I think with OIBIT we don't even need the marker types to be a lang item, they just are because we cache them somehow
[04:51:43] <Manishearth> yeah, got that
[04:51:45] <Manishearth> no diea
[04:51:47] <Manishearth> *idea
[04:51:55] <Manishearth> but that is something I love about Rust :)
[04:59:45] <Mutabah> Would adding an "expect" method to result require an RFC?
[04:59:48] <Mutabah> and would 
[05:00:02] <Mutabah> and would 'panic!("{}: {:?}", msg, e)' be a good panic for it?
[05:03:47] <Manishearth> Mutabah: require? no. That's only breaking as far as UFCS goes, which is okay
[05:03:57] <Manishearth> should you make one? probably.
[05:04:04] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[05:04:24] <Mutabah> Manishearth: Well, see second question, I'm hacking one up :D
[05:05:33] <Manishearth> Mutabah: is E: Display in Result?
[05:05:42] <Manishearth> also, no debug output please
[05:06:37] *** Joins: Rym (y@moz-o80acm.range86-189.btcentralplus.com)
[05:06:41] <quantheory> `Result::unwrap` uses `E: Debug`, which is what I assume Mutabah is trying to improve upon.
[05:06:44] *** Quits: munksgaard (munksgaard@moz-478pev.u.parknet.dk) (Ping timeout: 121 seconds)
[05:06:53] <Manishearth> ah
[05:06:54] <Manishearth> hm
[05:07:00] <Manishearth> lgtm
[05:07:14] <Manishearth> I'd prefer if expect() took the string argument directly though and no error outputting
[05:07:21] <Manishearth> no strong preference though
[05:08:18] <quantheory> IMO `.ok().expect("blah")` is already so short that we don't need a method directly on `Result` for that.
[05:09:10] <Mutabah> Manishearth: The problem with .ok().expect() is that is loses the error information
[05:09:50] <Mutabah> Basically, I've added a 'expect' method to the same impl block that holds unwrap
[05:10:10] <Manishearth> k
[05:10:23] <Mutabah> I'm wondering the format of the panic message
[05:10:33] <Manishearth> anyway, I'm mostly bikeshedding
[05:10:45] <Mutabah> unwrap() is pretty verbose, but Option::expecT() is just ("{}", msg)
[05:11:06] *** Quits: Rym (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[05:11:28] <Mutabah> `panic!("Unexpected Err({:?}) - {}", msg, e)` ?
[05:11:36] *** Quits: erz (erz@moz-n26c5c.broadband.corbina.ru) (Quit: My Mac has gone to sleep. ZZZzzz…)
[05:11:37] <Mutabah> (no, wait, reverse msg and e there
[05:14:00] <quantheory> Mutabah: I would prefer just the "{}: {:?}". Mostly let the user decide how they want the format to be.
[05:16:06] <Mutabah> quantheory: Yeah
[05:16:32] <Mutabah> It's a debugging thing anyway
[05:16:43] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[05:17:49] *** Joins: morton (Mibbit@moz-juv.9o3.252.72.IP)
[05:18:25] *** Joins: nodweber_ (nodweber@moz-knt.fgq.178.5.IP)
[05:18:31] *** Quits: morton (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[05:19:34] *** Joins: p1start (p1start@moz-nftjhe.org)
[05:21:04] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Connection closed)
[05:27:32] <sfackler> I've been meaning to add an impl<E: Debug> { pub fn expect(self, msg: &str) -> T { .. } } to REsult for a while
[05:30:53] <Mutabah> sfackler: Well, I think I'll PR this one
[05:31:36] <sfackler> cool
[05:32:08] <Mutabah> Where are the libcore tests?
[05:32:20] <Mutabah> (actually... is unwrap/expect tested?
[05:32:58] *** Quits: O01eg (o01eg@moz-ail.kf2.112.37.IP) (Client exited)
[05:33:23] *** Joins: erz (erz@moz-n26c5c.broadband.corbina.ru)
[05:35:15] *** Quits: Diggsey (diggsey@moz-5pbaa0.dsl.pipex.com) (Ping timeout: 121 seconds)
[05:37:24] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[05:37:50] *** Quits: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com) (Ping timeout: 121 seconds)
[05:40:33] <sfackler> Mutabah: libcoretest
[05:47:55] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[05:49:15] <Mutabah> not tests for unwrap it seems
[05:49:23] *** Quits: davebettin__ (davebettin@moz-ip635p.or.comcast.net) (Ping timeout: 121 seconds)
[05:52:43] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[05:53:13] *** Joins: Rym (y@moz-o80acm.range86-189.btcentralplus.com)
[05:53:28] *** Joins: summerlight (summerlight@moz-99k.2mj.130.121.IP)
[05:56:03] *** Joins: dinfuehr (dinfuehr@moz-c25.u8s.112.91.IP)
[05:57:47] *** Quits: Rym (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[05:58:37] *** Quits: aatch (james@moz-ciignl.bmm3.j08e.e000.2406.IP) (Connection closed)
[06:00:26] <Gankro> doener: Thinking about it more, it makes sense to me to make offset_raw be untyped, and only think in terms of bytes. It's only known usecase is treating pointers like integers in a way llvm understands, yeah?
[06:02:05] <Mutabah> Ok, so, if I add an 'expect' method, should I mark it as stable?
[06:02:14] <Mutabah> or have it unstbale
[06:03:58] <quantheory> It should be unstable.
[06:05:07] <Mutabah> good, that's what I've written :)
[06:10:17] *** Quits: GBGamer (GBGamer@moz-92sbjt.wa.comcast.net) (Ping timeout: 121 seconds)
[06:10:54] *** Quits: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net) (Quit: Lost terminal)
[06:11:41] *** Joins: GBGamer (GBGamer@moz-92sbjt.wa.comcast.net)
[06:15:14] *** Joins: James (quassel@moz-225vcm.range86-148.btcentralplus.com)
[06:15:28] *** Joins: sprang_ (sprang@moz-98q.7vl.56.172.IP)
[06:15:50] *** Quits: tamird (textual@moz-gg3hct.res.rr.com) (Quit: My Mac has gone to sleep. ZZZzzz…)
[06:18:00] *** Joins: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP)
[06:20:26] <Mutabah> PR filed, failed tidy check and was updated. https://github.com/rust-lang/rust/pull/25359#issuecomment-101526381 (darn trailing whitespacE)
[06:22:00] <huon> Mutabah: could you squash the commits?
[06:22:13] <huon> (also, the first line of the docs should have a .)
[06:22:40] <Mutabah> huon: I'll fix the docs, and try to squash them
[06:23:46] *** Quits: summerlight (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[06:23:54] *** Quits: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP) (Ping timeout: 121 seconds)
[06:24:50] <Manishearth> huon: r? on the attribute PR? :)
[06:25:49] *** Quits: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu) (Quit: Leaving)
[06:27:10] <Mutabah> huon: Ok, should be nice now
[06:28:35] <huon> Manishearth: which?
[06:28:58] *** Joins: ptalbot (ptalbot@moz-j4gnuh.fbx.proxad.net)
[06:29:46] <Mutabah> huon: I think the one that allows plugins to register attribites
[06:30:05] <Mutabah> (so that rustc knows that it uses said attributes)
[06:31:07] <huon> I was hoping for a link :)
[06:31:17] <Mutabah> :D
[06:31:28] <huon> ah, found it
[06:31:58] <Mutabah> gh#25168 ?
[06:31:58] <[o__o]> Add support for registering attributes with rustc in plugins: https://github.com/rust-lang/rust/pull/25168
[06:32:55] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[06:38:21] <quantheory> huon: Can you close #22139, the parsing error using associated items from associated types? #25171 fixed the parsing issue. (The specific example you used still doesn't compile due to a missing typeck feature, #22519.)
[06:41:49] *** Joins: squiddy (squiddy@moz-md4.pm3.19.178.IP)
[06:47:25] *** Joins: Rym (y@moz-o80acm.range86-189.btcentralplus.com)
[06:48:10] *** Quits: joneshf-laptop (joneshf@moz-t619m0.ucdavis.edu) (Ping timeout: 121 seconds)
[06:48:13] *** Joins: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu)
[06:48:49] *** Joins: Tobba (Tobba@moz-6oh.7ki.21.217.IP)
[06:50:06] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[06:51:56] *** Quits: Rym (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[06:53:15] *** Quits: James (quassel@moz-225vcm.range86-148.btcentralplus.com) (Ping timeout: 121 seconds)
[06:54:33] <Manishearth> huon: addressed
[06:55:35] *** Quits: ytain (ytain@moz-01dgko.cpe.pppoe.ca) (Quit: Textual IRC Client: www.textualapp.com)
[06:56:02] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[06:57:45] *** Quits: quantheory (quantheory@moz-dsb104.crel.jtvf.0001.2601.IP) (Quit: Leaving)
[07:02:01] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[07:03:49] <steveklabnik> https://github.com/rust-lang/rust/pull/25361 :confetti_ball:
[07:03:52] <steveklabnik> now i can sleep
[07:03:56] <steveklabnik> goodnight, all <3
[07:04:18] *** Quits: sprang_ (sprang@moz-98q.7vl.56.172.IP) (Ping timeout: 121 seconds)
[07:04:42] <huon> steveklabnik: will that authors file need updating to reflect that?
[07:06:20] *** Quits: Kingsquee (kingsley@moz-3fm07c.bchsia.telus.net) (Quit: Konversation terminated!)
[07:07:24] *** Joins: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se)
[07:08:01] <steveklabnik> huon: shouldn't. i pinged people to make sure they were part of AUTHORs as the PRs got accepted
[07:08:11] <steveklabnik> especially wrt the big book backport
[07:08:33] <steveklabnik> anyway, sleep for real :)
[07:09:07] *** Quits: FallingAlways (FallingTime@moz-1fu.gli.225.99.IP) (Connection closed)
[07:12:46] *** Joins: mib_eoe3by (Mibbit@moz-juv.9o3.252.72.IP)
[07:14:01] *** Joins: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP)
[07:15:22] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[07:15:25] <bluss> good night!
[07:15:39] <GBGamer> are there any plans in place for our llvm to be merged upstream?
[07:15:43] <GBGamer> just wondering?
[07:16:36] <Manishearth> GBGamer: cc doener 
[07:16:52] <GBGamer> doener: ping
[07:17:19] <klutzy> GBGamer: like this? https://github.com/rust-lang/rust/issues/4259
[07:18:47] <GBGamer> klutzy: yeah, but we still use our own branch
[07:19:29] *** Joins: munksgaard (munksgaard@moz-1i4.hq0.225.130.IP)
[07:22:14] *** Joins: Kingsquee (kingsley@moz-3fm07c.bchsia.telus.net)
[07:22:34] *** Quits: mib_eoe3by (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[07:22:55] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[07:23:18] *** Quits: nodweber_ (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[07:24:14] <klutzy> hmm, seems like all local patch is optimization  https://github.com/rust-lang/llvm/commits/rust-llvm-2015-02-19
[07:25:49] <klutzy> jemalloc opt patch is interesting; it's not acceptable to upstream as-is since it contains hardcoded jemalloc symbols
[07:27:04] <GBGamer> ah yeah, makes sense
[07:27:07] *** Joins: sprang_ (sprang@moz-d0kmvi.12d9.sm5v.0009.2601.IP)
[07:27:12] <GBGamer> thanks :)
[07:27:39] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[07:30:49] <kimundi> We should have an official definition of what "a library claiming to be 100% safe" actually means.
[07:34:12] <WindowsBunny> kimundi: Libraries which do not use `unsafe` are automatically 100% safe?
[07:34:25] <kimundi> Yeah, something like that
[07:34:51] <WindowsBunny> kimundi: And libraries which do use `unsafe` need to prove that there is no possible input that can be obtained safely which will cause the unsafe code to violate rust's safety rules
[07:35:40] <WindowsBunny> kimundi: and all their dependencies need to be 100% safe as well
[07:35:56] <WindowsBunny> unfortunately std and the core language use unsafe quite a bit, and nobody has proven they are 100% safe yet
[07:35:58] <kimundi> Thats the tricky point
[07:36:08] <WindowsBunny> so I don't think we'll have any 100% safe libraries for a while :|
[07:36:34] <kimundi> Declaring to be 100% safe should not be a dumb transitive relationship of never having used problematic unsafe code
[07:37:08] <kimundi> Otheriwse everything automatically turns 0% safe :P
[07:38:42] <reem> you can’t do io without unsafe
[07:39:04] <reem> transitively no unsafe is impossible
[07:40:12] <kimundi> It should be something like "If a independent project uses none or verified-safe unsafe code, then it may claim to be 100% safe. If independent libraries it depends on use unsafe code internally and have bugs, its not the fault of the project"
[07:40:38] *** Quits: erz (erz@moz-n26c5c.broadband.corbina.ru) (Quit: My Mac has gone to sleep. ZZZzzz…)
[07:40:51] <reem> I personally think we don’t need to standardize this
[07:41:31] *** Joins: Rym (y@moz-o80acm.range86-189.btcentralplus.com)
[07:41:46] <kimundi> Well its also not good to have pointless squabbles break out about it :P
[07:42:35] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[07:43:39] <kimundi> During the last day, I commented on two reddit comments that claim "iron being 100% safe" is not really true because it depends on libstd.
[07:43:49] <reem> yes, I read them
[07:44:39] <kimundi> Anyway, its not that a big deal, I just think its something that ought to be written down somewhere semi-official to point people at.
[07:44:44] <reem> they didn’t get very many upvotes, so it’s probably not a common problem
[07:46:05] *** Quits: Rym (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[07:48:27] *** Quits: squiddy (squiddy@moz-md4.pm3.19.178.IP) (Connection closed)
[07:50:52] *** Joins: casey (casey@moz-v0ns05.tpgi.com.au)
[07:51:03] *** Quits: casey (casey@moz-v0ns05.tpgi.com.au) (Connection closed)
[07:51:05] *** Joins: casey (casey@moz-v0ns05.tpgi.com.au)
[07:51:26] *** Joins: imperio (Mibbit@moz-ntj.aov.119.80.IP)
[07:59:39] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[07:59:40] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[08:01:43] <zwarich> I look forward to a semantics for unsafe code
[08:04:21] <WindowsBunny> I can't wait for when there's proper references detailing the exact semantics of the language
[08:05:43] *** Joins: laumann (thomas@moz-33d.hq0.225.130.IP)
[08:05:58] <doener> GBGamer: the longtmer(?) plan is to use plain upstream LLVM. The extra pass we have could be built separately and be loaded at runtime, so even if upstream doesn't want it (zwarich, is that so?) we can still use it
[08:06:21] <doener> GBGamer: for the jemalloc patches... not sure what we can do about them
[08:08:24] *** Quits: Kxepal (Miranda@moz-9hpqdo.pppoe.mtu-net.ru) (Ping timeout: 121 seconds)
[08:23:10] *** Joins: Guest63 (textual@moz-qfs.570.70.83.IP)
[08:25:26] <Manishearth> kimundi: technically no library is 100% safe from the transitively-uses-unsafe definition
[08:25:50] <Manishearth> though
[08:25:58] <huon> Manishearth: it may be
[08:26:11] <huon> although I can't imagine any such library would be very useful
[08:26:12] <Manishearth> pure math libraries perhaps
[08:26:13] <kimundi> Manishearth: THats my point, yeah
[08:26:28] <Manishearth> I don't know if the internal Add implementation transitively uses unsafe
[08:26:28] *** Joins: Guest63_ (textual@moz-qfs.570.70.83.IP)
[08:26:31] <Manishearth> IIRC Deref does
[08:26:37] <huon> the Add doesn't
[08:26:40] <huon> which Deref?
[08:26:45] <Manishearth> of &ptrs
[08:26:51] <huon> it doesn't
[08:26:54] <Manishearth> ah, nice
[08:27:01] <huon> all of those are implemented as calls to the built-in operator
[08:27:02] <kimundi> Its not really important wether there are actual "unsafe" blocks at all - the whole compiler code generation can be considered unsafe code.
[08:27:14] <Manishearth> huon: "the built in operator"
[08:27:15] <Manishearth> ?
[08:27:29] <kimundi> And if you trust the compiler to be correct, you can also trust the std library to be correct
[08:27:41] <Manishearth> huon: (btw I fixed that PR)
[08:27:46] <Manishearth> ish
[08:27:58] *** Quits: Guest63 (textual@moz-qfs.570.70.83.IP) (Ping timeout: 121 seconds)
[08:28:01] <kimundi> Manishearth: 1 + 2 will not call out to the Add implementantion, but actually to a build-in add operation for integers
[08:28:21] <Manishearth> I bet that more focus is given to compiler correctness than stdlib correctness
[08:28:29] <kimundi> That leads to the funny things where Add is implemented as `self + other`
[08:28:32] <Manishearth> even if it's not intentional
[08:28:37] <Manishearth> ah, nice
[08:29:24] <kimundi> Manishearth: Sure, but thats just transitory during development, not inherent, and hence kinda irrelevant as far as absolute claims are concerned.
[08:29:35] <Manishearth> yeah
[08:29:50] <kimundi> Anyway, I should calm down a bit :)
[08:30:05] <Manishearth> hah
[08:30:15] *** Joins: genbattle (genbattle@moz-r09mao.xtra.co.nz)
[08:31:40] *** Quits: ptalbot (ptalbot@moz-j4gnuh.fbx.proxad.net) (Ping timeout: 121 seconds)
[08:35:40] *** Joins: Rym (y@moz-o80acm.range86-189.btcentralplus.com)
[08:39:30] *** Quits: nham (nham@moz-755.bu3.214.98.IP) (Ping timeout: 121 seconds)
[08:40:14] *** Quits: Rym (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[08:43:22] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[08:45:36] *** Joins: davebettin (davebettin@moz-ip635p.or.comcast.net)
[08:47:43] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Ping timeout: 121 seconds)
[08:52:44] *** Quits: Guest63_ (textual@moz-qfs.570.70.83.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[08:56:13] <eddyb> Mutabah: did you show me the ARef thing? https://github.com/csherratt/atom
[08:57:53] <Mutabah> eddyb: Yeah
[08:58:04] <Mutabah> (It was part of my kernel)
[08:58:28] <Mutabah> eddyb: My usecase was different
[08:58:35] *** Joins: Guest63 (textual@moz-qfs.570.70.83.IP)
[08:58:45] <Mutabah> eddyb: Aref was basically an Arc, but instead of sharing ownership, it panicked if there were active borrows when it dropped
[08:59:52] <eddyb> oh, no, I confused that and the MoveCell
[09:00:27] *** Joins: zucchini (Mibbit@moz-0bs.vm4.172.5.IP)
[09:01:32] *** Joins: nham (nham@moz-755.bu3.214.98.IP)
[09:02:22] *** Joins: rkruppe_ (chatzilla@moz-3nj.rnu.131.95.IP)
[09:02:59] *** Quits: davebettin (davebettin@moz-ip635p.or.comcast.net) (Ping timeout: 121 seconds)
[09:04:02] *** Quits: zucchini (Mibbit@moz-0bs.vm4.172.5.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[09:04:51] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Ping timeout: 121 seconds)
[09:04:58] *** rkruppe_ is now known as rkruppe
[09:12:24] *** Quits: njn (chatzilla@moz-6gdjm4.iinet.net.au) (Quit: ChatZilla 0.9.91.1 [Firefox 40.0a1/20150510205108])
[09:14:51] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Ping timeout: 121 seconds)
[09:18:17] *** Joins: joneshf-laptop (joneshf@moz-l4h.b5s.208.98.IP)
[09:22:22] *** Joins: aepsil0n (eduard@moz-6491ha.mv2h.pepi.8071.2a02.IP)
[09:25:28] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[09:29:51] *** Joins: Rym (y@moz-o80acm.range86-189.btcentralplus.com)
[09:30:13] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[09:34:23] *** Quits: Rym (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[09:34:46] *** kimundi is now known as zz_kimundi
[09:35:14] <Mutabah> bluss: Re gh25359 Isn't an RFC a little heavy for adding a single method?
[09:35:14] <[o__o]> libcore/Result - Add an `expect` method that prints a message and the `Err` value: https://github.com/rust-lang/rust/pull/25359
[09:40:26] <bluss> Mutabah: It's the rule we have
[09:40:44] *** Joins: rkruppe (chatzilla@moz-liqrk5.hrz.tu-darmstadt.de)
[09:41:26] <bluss> if you skip that rule here, you'll have more trouble down the line, lots of PRs with just a method without RFCs. Just my thoughts
[09:41:59] <Mutabah> bluss: Point
[09:42:00] <bluss> https://github.com/rust-lang/rfcs#when-you-need-to-follow-this-process
[09:42:21] <Mutabah> "additions to std"... yeah
[09:44:05] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[09:48:21] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Ping timeout: 121 seconds)
[09:58:12] *** Joins: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP)
[10:02:57] *** Quits: nrc (nrc@moz-9luh02.xtra.co.nz) (Ping timeout: 121 seconds)
[10:03:36] *** Joins: pnkfelix (pnkfelix@moz-6v5.3nd.202.89.IP)
[10:03:37] *** ChanServ sets mode: +o pnkfelix
[10:05:07] *** Quits: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP) (Ping timeout: 121 seconds)
[10:06:13] *** Joins: summerlight (summerlight@moz-99k.2mj.130.121.IP)
[10:12:27] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[10:17:16] *** Quits: p1start (p1start@moz-nftjhe.org) (Ping timeout: 121 seconds)
[10:22:31] *** Joins: zmack (zmack@moz-htpein.home.aster.pl)
[10:23:44] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[10:24:01] *** Joins: Rym (y@moz-o80acm.range86-189.btcentralplus.com)
[10:25:00] *** Quits: mitsuhiko (mitsuhiko-m@moz-dcduic.srv.pocoo.org) (Ping timeout: 121 seconds)
[10:26:13] *** Quits: farcaller (farcaller@moz-8bdd0s.prod.ihdev.net) (Ping timeout: 121 seconds)
[10:26:15] *** Quits: dbussink (dbussink@moz-hsd6q3.bussink.me) (Ping timeout: 121 seconds)
[10:26:27] *** Quits: ricky26 (quassel@moz-j1rg9d.net) (Ping timeout: 121 seconds)
[10:26:27] *** Quits: Florob (Florob@moz-je09t8.de) (Ping timeout: 121 seconds)
[10:27:14] <bluss> There's beta.5 in the channel, but beta.4 is linked on the front page
[10:27:23] *** Joins: Florob (Florob@moz-je09t8.de)
[10:27:40] *** Quits: globin (globin@moz-isrgf8.de) (Ping timeout: 121 seconds)
[10:27:57] *** Quits: fredy (fredy@moz-s6pco4.okeanos.grnet.gr) (Ping timeout: 121 seconds)
[10:27:57] *** Joins: dbussink (dbussink@moz-hsd6q3.bussink.me)
[10:28:32] *** Quits: Rym (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[10:29:21] *** Quits: rkruppe (chatzilla@moz-liqrk5.hrz.tu-darmstadt.de) (Ping timeout: 121 seconds)
[10:29:37] *** Joins: globin (globin@moz-isrgf8.de)
[10:29:45] *** Joins: mitsuhiko (mitsuhiko-m@moz-dcduic.srv.pocoo.org)
[10:31:38] <bluss> I'm making a PR
[10:33:47] *** Quits: mitsuhiko (mitsuhiko-m@moz-dcduic.srv.pocoo.org) (Ping timeout: 121 seconds)
[10:34:13] *** Quits: globin (globin@moz-isrgf8.de) (Ping timeout: 121 seconds)
[10:34:46] *** Quits: mceier (mceier@moz-fm89sb.dynamic.chello.pl) (Ping timeout: 121 seconds)
[10:35:11] *** Quits: mtsr (mtsr@moz-5r1gp7.yourbnc.co.uk) (Ping timeout: 121 seconds)
[10:35:15] *** Joins: arielb1 (Mibbit@moz-cmi.jfj.114.192.IP)
[10:35:57] *** Joins: globin (globin@moz-isrgf8.de)
[10:36:28] *** Joins: rkruppe (chatzilla@moz-liqrk5.hrz.tu-darmstadt.de)
[10:36:49] *** Joins: mceier (mceier@moz-fm89sb.dynamic.chello.pl)
[10:36:52] *** Joins: mtsr (mtsr@moz-5r1gp7.yourbnc.co.uk)
[10:37:01] *** Joins: farcaller (farcaller@moz-8bdd0s.prod.ihdev.net)
[10:37:48] *** Joins: ricky26 (quassel@moz-j1rg9d.net)
[10:38:27] *** Joins: mitsuhiko (mitsuhiko-m@moz-dcduic.srv.pocoo.org)
[10:40:00] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[10:40:35] *** Joins: fredy (fredy@moz-s6pco4.okeanos.grnet.gr)
[10:40:50] *** Joins: proc (proc@moz-q5diaj.dip0.t-ipconnect.de)
[10:44:56] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[10:45:44] *** Joins: nerdopoly (nerdopoly@moz-aqvski.range86-143.btcentralplus.com)
[10:49:13] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Ping timeout: 121 seconds)
[10:54:01] *** Joins: bjz (bjz@moz-4l6.mjm.52.113.IP)
[10:54:52] *** Joins: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com)
[10:55:10] *** Joins: kmcguire_ (kmcguire@moz-pg1gb9.biz.rr.com)
[10:55:21] *** Quits: rkruppe (chatzilla@moz-liqrk5.hrz.tu-darmstadt.de) (Ping timeout: 121 seconds)
[10:58:55] *** Quits: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com) (Ping timeout: 121 seconds)
[10:58:59] *** Quits: bjz (bjz@moz-4l6.mjm.52.113.IP) (Ping timeout: 121 seconds)
[11:02:50] *** Joins: jga (jga@moz-7vm.t1q.244.77.IP)
[11:07:51] *** Quits: Guest63 (textual@moz-qfs.570.70.83.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[11:08:38] *** Quits: nerdopoly (nerdopoly@moz-aqvski.range86-143.btcentralplus.com) (Quit: Lost terminal)
[11:11:44] *** Quits: nham (nham@moz-755.bu3.214.98.IP) (Quit: leaving)
[11:11:44] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[11:18:10] *** Joins: Rym (y@moz-o80acm.range86-189.btcentralplus.com)
[11:18:54] *** Quits: jga (jga@moz-7vm.t1q.244.77.IP) (Connection closed)
[11:19:35] *** Joins: nerdopoly (nerdopoly@moz-aqvski.range86-143.btcentralplus.com)
[11:22:44] *** Quits: Rym (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[11:23:39] *** Joins: bjz (bjz@moz-puppgq.tpgi.com.au)
[11:24:27] *** Quits: Tobba (Tobba@moz-6oh.7ki.21.217.IP) (Connection closed)
[11:26:02] *** Quits: bjz (bjz@moz-puppgq.tpgi.com.au) (Connection closed)
[11:26:24] *** Joins: bjz (bjz@moz-puppgq.tpgi.com.au)
[11:26:35] *** Joins: semarie (semarie@moz-ib8bp9.us.unmetered.com)
[11:31:00] *** Joins: erz (erz@moz-n26c5c.broadband.corbina.ru)
[11:32:00] *** Quits: Kingsquee (kingsley@moz-3fm07c.bchsia.telus.net) (Quit: Konversation terminated!)
[11:33:59] *** Joins: Rym (y@moz-o80acm.range86-189.btcentralplus.com)
[11:35:50] *** Joins: jga (jga@moz-7vm.t1q.244.77.IP)
[11:39:46] *** Quits: genbattle (genbattle@moz-r09mao.xtra.co.nz) (Ping timeout: 121 seconds)
[11:39:46] *** Quits: kmcguire_ (kmcguire@moz-pg1gb9.biz.rr.com) (Quit: Leaving)
[11:39:49] *** Joins: kmcguire_ (kmcguire@moz-pg1gb9.biz.rr.com)
[11:39:57] *** Quits: Rym (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[11:45:00] *** Joins: tamird (textual@moz-gg3hct.res.rr.com)
[11:45:00] *** Joins: bdero (bran@moz-mqs.7dh.189.18.IP)
[11:46:54] *** Quits: bdero (bran@moz-mqs.7dh.189.18.IP) (Connection closed)
[11:46:54] *** Joins: bdero1 (bran@moz-mqs.7dh.189.18.IP)
[11:49:43] *** Joins: Rym (y@moz-o80acm.range86-189.btcentralplus.com)
[11:51:02] *** Joins: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP)
[11:51:31] <imperio> pnkfelix: can you go on #rust-fr please ?
[11:51:42] *** Quits: nerdopoly (nerdopoly@moz-aqvski.range86-143.btcentralplus.com) (Quit: leaving)
[11:52:38] *** Joins: Guest63 (textual@moz-qfs.570.70.83.IP)
[11:53:11] <pnkfelix> imperio: ... I am already there?
[11:53:22] <huon> bluss: ping
[11:53:47] <bluss> huon: hi
[11:54:37] <huon> bluss: I'm unsure if beta.5 is "meant" to be released, or if it's just a test
[11:54:44] <huon> do you happen to have a source of some form?
[11:55:00] <bluss> ok. I just noticed that my travis runs gets it from the beta channel
[11:55:13] <bluss> and I checked that all the URLs in the PR resolve
[11:55:13] <huon> oh, ok
[11:55:26] <huon> good enough for me, we can always revert if necessary.
[11:56:24] <huon> bluss: thanks
[11:56:25] <huon> !
[11:56:27] <bluss> I'll go actually install beta.5 now
[11:56:30] <bluss> :)
[11:57:02] *** Quits: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP) (Ping timeout: 121 seconds)
[12:03:47] *** Quits: tamird (textual@moz-gg3hct.res.rr.com) (Quit: My Mac has gone to sleep. ZZZzzz…)
[12:12:39] <aji> is there value/interest in a standard "pushback" iterator type that allows values to be pushed back onto the iterator?
[12:13:20] <aji> personally, the use case is on a character iterator for implementing a lexer
[12:13:54] <aji> it feels like the same category as Peekable
[12:14:16] <bluss> I agree
[12:14:42] <bluss> it already exists in itertools but I almost don't want to tell to not detract from any proposal to add it to libstd
[12:15:07] <aji> ah wait
[12:15:18] <aji> i should have searched crates.io first, just found that
[12:15:47] <bluss> actually the general version that keeps a whole vec of values put back is not in the latest version
[12:15:50] <bluss> yet
[12:16:05] <aji> yeah i was browsing the github repository
[12:16:10] <bluss> PutBack/PutBackN
[12:18:00] <bluss> aji: I'll put it on crates.io shortly
[12:21:47] <aji> i'm idly curious what the criteria is for something like this to be made standard
[12:22:14] <bluss> this one was unsuccessful https://github.com/rust-lang/rfcs/pull/1064
[12:23:13] <aji> i recall seeing this but can't remember what the advantage was over plain for loops
[12:25:19] <aji> something about being able to reuse the iterator?
[12:25:23] *** Quits: GBGamer (GBGamer@moz-92sbjt.wa.comcast.net) (Ping timeout: 121 seconds)
[12:26:23] <bluss> convenience and coding style, I think
[12:26:35] <bluss> it's not the exact same class of thing
[12:26:38] <Manishearth> aji: a generic iterator can't be reused
[12:26:46] <Manishearth> unless you use peek or something
[12:26:59] <bluss> if it's T: Clone it's still generic
[12:27:27] <aji> yeah that's what i thought
[12:27:49] <aji> i can kind of understand rejecting something like that
[12:27:52] *** Joins: larsberg (Adium@moz-kmvlue.cable.rcn.com)
[12:27:53] <aji> that's just to scratch an itch
[12:28:26] <bluss> I don't like how the RFC was closed
[12:28:58] <bluss> core team member gets to say their opinion, but then also close the ticket in the same comment
[12:29:05] <bluss> that's not an even handed process
[12:29:16] <Manishearth> bluss: the process has chanfged
[12:29:27] <bluss> this was 26 days ago
[12:29:52] <aji> well ultimately it *is* the core team's decision
[12:30:00] <Manishearth> https://github.com/rust-lang/rfcs/pull/1068
[12:30:09] <Manishearth> bluss: the new process landed last week
[12:30:38] <Manishearth> bluss: also, the closing core team member didn't put forward a new opinion, that was pretty established
[12:31:03] <Manishearth> It was closed for the same reasons as the last one; given that not much had changed in that space
[12:31:17] <bluss> I can read
[12:31:20] <bluss> but I don't agree
[12:31:25] <Manishearth> yes, so that wasn't an opinion
[12:31:49] <Manishearth> Besides, the core team's policy was not to accept rfcs just because they would be good to have close to 1.0
[12:31:51] <pnkfelix> bluss: I'm pretty sure that alex was just representing the consensus of the whole core team on the matter.  Not just his own personal opinion.
[12:31:56] <Manishearth> also that
[12:32:11] <Manishearth> there are tons of other rfcs that have been closed for similar reasons (sounds good, but not now)
[12:32:16] <pnkfelix> perhaps the core-team needs its own github account
[12:32:26] <pnkfelix> for actions that represent their consensus
[12:32:39] <Manishearth> and yeah, the core team discusses these things internally. A rough outline of their meetings is now available, but it wasn't at the time
[12:32:45] <huon> pnkfelix: I suspect that would now be each subteam having their own account
[12:33:00] <pnkfelix> huon: I guess that's true
[12:33:10] <huon> (still a reasonable idea)
[12:33:40] <pnkfelix> (that or just have some clear signature for such comments, to distingush.)
[12:33:51] <Manishearth> I think a signature makes more sense
[12:33:58] <Manishearth>  - The Rust Foobar subteam
[12:34:00] *** Quits: jga (jga@moz-7vm.t1q.244.77.IP) (Ping timeout: 121 seconds)
[12:34:59] <huon> we should have github teams ( https://github.com/orgs/rust-lang/teams ) for each subteam, so that the whole team can be @'d at once
[12:35:09] <bluss> that sounds nic
[12:35:11] *** Quits: steshaw (uid30841@moz-eom82r.uxbridge.irccloud.com) (Quit: Connection closed for inactivity)
[12:35:14] <Manishearth> that can be done? nice
[12:35:25] * huon files a bug
[12:35:30] <huon> but where... ?
[12:35:43] <huon> RFCs I suppose
[12:37:14] <huon> ( https://github.com/rust-lang/rfcs/issues/1118 )
[12:37:56] <eddyb> is there really a team just for me?
[12:38:00] * eddyb blushes
[12:38:06] <Manishearth> the eddy team
[12:38:23] <eddyb> (or is that a peculiarity of how GitHub displays that page?)
[12:39:16] <eddyb> Manishearth: 1 member · 1 repository · This summer, <insert plot line>
[12:39:23] <Manishearth> The eddy teams responsibility is ensuring that rustc breaks often
[12:39:28] <Manishearth> https://github.com/rust-lang/rust/issues/24928
[12:39:32] <Manishearth> ^ your first mission
[12:39:37] <Manishearth> should you choose to accept it
[12:39:52] <eddyb> pnkfelix: I vote for borg-core-rs
[12:40:04] <Manishearth> eddyb: you can mark org membership as private, but I think that's only private to external viewers
[12:40:07] * Manishearth checks
[12:41:15] <Manishearth> no, you can see all members
[12:41:20] <huon> eddyb: you're not that special, there's a few 1 member teams :P
[12:41:22] <Manishearth> but you may not necessarily see other teams
[12:41:31] <huon> (sorry to burst your bubble)
[12:41:41] <eddyb> huon: nah, I was hoping it made sense
[12:41:53] <Manishearth> things should never make sense
[12:41:57] <Manishearth> resist the urge to conform
[12:41:58] <Manishearth> revolt
[12:42:49] <WindowsBunny> I'm just sad there isn't a windows team :(
[12:43:31] <eddyb> maybe there should be a second-class-platform team
[12:43:38] <huon> I believe that's covered by the tools team
[12:43:39] <doener> eddyb: they confine us to our own teams because they're afraid of us :-p
[12:44:55] <eddyb> I for one welcome segregation
[12:45:45] <eddyb> do we have an "make libsyntax and librustc* (more) IDE-friendly" metaissue?
[12:45:56] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[12:48:15] <Manishearth> huon: tools is tools+docs+diagnostics, right?
[12:48:32] *** Quits: erz (erz@moz-n26c5c.broadband.corbina.ru) (Quit: My Mac has gone to sleep. ZZZzzz…)
[12:49:03] <pnkfelix> I clearly should expand the rust-mode team.
[12:49:11] <Manishearth> rust-mode?
[12:49:12] <pnkfelix> or wait, do I have authority to do that?
[12:49:23] <pnkfelix> Manishearth: its the emacs rust-mode.el
[12:49:28] <Manishearth> oh okay
[12:49:44] <Manishearth> I thought it was a rust subteam
[12:49:59] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Ping timeout: 121 seconds)
[12:52:19] <eddyb> hang on, what is this magic?
[12:52:43] <eddyb> lrwxrwxrwx   1 root root   27 Apr 26 18:00 lib64 -> /run/current-system/sw/lib//
[12:53:21] <eddyb> oh, that trick is why I don't need to patch the snapshot anymore. confused me, I thought the build system failed to refresh the snapshot
[12:57:46] *** Joins: jga (jga@moz-7vm.t1q.244.77.IP)
[12:58:14] *** Joins: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP)
[13:02:58] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[13:03:19] *** Quits: arielb1 (Mibbit@moz-cmi.jfj.114.192.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[13:03:22] *** Quits: anders (andars@moz-bsldst.sntcca.sbcglobal.net) (Ping timeout: 121 seconds)
[13:07:43] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[13:07:56] *** Quits: jga (jga@moz-7vm.t1q.244.77.IP) (Ping timeout: 121 seconds)
[13:09:48] *** Joins: ptalbot (ptalbot@moz-g2mokk.ircam.fr)
[13:11:54] <Mutabah> bluss: Ping, https://github.com/thepowersgang/rust-lang_rfcs/blob/result-expect/text/0000-result-expect.md
[13:16:53] *** Joins: erz (erz@moz-n26c5c.broadband.corbina.ru)
[13:18:45] <rkruppe> How can I run unit tests for a change I made to core? check-stage1-core does not exist and check-stage1-coretest doesn't rebuild libcore
[13:19:49] <rkruppe> Nvm, without NO_REBUILD=1 it does build libcore
[13:23:11] <simukis> error: type `collections::vec::Vec<net::Route>` does not implement any method in scope named `assert_receiver_is_total_eq`
[13:23:14] <simukis> that’s a nasty error
[13:23:18] <simukis> I remember them being better
[13:23:32] <simukis> (this is for deriving Eq)
[13:25:36] <bluss> Mutabah: I think it's good, can't think of anything to add
[13:27:36] <eddyb> simukis: you might be able to write a custom message to be displayed in such a case
[13:28:26] *** Quits: jgallagher (john@moz-6ge.dhn.131.24.IP) (Client exited)
[13:31:13] <simukis> eddyb: I’m not writing a library
[13:31:31] <simukis> that is, I’m using our libstd exclusively and I get such error
[13:31:37] <eddyb> simukis: I meant, in Eq's definition
[13:31:44] <simukis> ah, well, yeah
[13:32:00] <simukis> I just was complaining here, more than looking how to solve this :)
[13:32:06] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[13:32:41] <simukis> if I remember correctly before the error explicitly told you which inner type does not implement Eq
[13:37:16] <munksgaard> Since when has this been allowed?  https://github.com/Munksgaard/session-types/commit/678ef6adec8f80fccb7351d16af6bb5b92731712
[13:39:08] *** Joins: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP)
[13:39:46] <Mutabah> munksgaard: UFCS and associated types
[13:41:41] *** Quits: Rym (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[13:41:42] <munksgaard> Mutabah: I see! I guess I just hadn't realised that you could do stuff like that in the definition of a type. It's very nice though :) 
[13:42:52] *** Joins: jga (jga@moz-7vm.t1q.244.77.IP)
[13:45:08] *** Quits: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP) (Ping timeout: 121 seconds)
[13:46:27] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[13:49:59] *** Joins: nodweber_ (nodweber@moz-knt.fgq.178.5.IP)
[13:50:29] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Connection closed)
[13:57:38] *** Quits: jga (jga@moz-7vm.t1q.244.77.IP) (Connection closed)
[13:58:13] *** Quits: munksgaard (munksgaard@moz-1i4.hq0.225.130.IP) (Ping timeout: 121 seconds)
[14:01:02] *** Joins: jgallagher (john@moz-d5e8oc.hfc.comcastbusiness.net)
[14:04:34] *** Joins: Rym (y@moz-o80acm.range86-189.btcentralplus.com)
[14:12:57] *** Joins: jga (jga@moz-7vm.t1q.244.77.IP)
[14:18:06] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[14:18:35] *** Joins: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP)
[14:21:09] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Connection closed)
[14:22:08] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[14:24:34] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[14:25:13] *** Joins: ytain (ytain@moz-01dgko.cpe.pppoe.ca)
[14:26:04] *** Quits: barosl (barosl@moz-tmp.qma.67.220.IP) (Quit: Leaving)
[14:31:31] *** Joins: mib_jav2dg (Mibbit@moz-dl6.7mf.252.72.IP)
[14:31:35] <steveklabnik> pnkfelix: i'd imagine the tools subteam would be handling all those repos
[14:31:43] <steveklabnik> pnkfelix: so, ask them, whoever they are? :)
[14:32:06] *** Quits: mib_jav2dg (Mibbit@moz-dl6.7mf.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[14:32:37] *** Joins: GBGamer (GBGamer@moz-92sbjt.wa.comcast.net)
[14:33:54] <GBGamer> doener: thanks :)
[14:34:56] *** zz_kimundi is now known as kimundi
[14:37:56] <rkruppe> What does the make rule tmp/check-stage1-T-x86_64-pc-windows-gnu-H-x86_64-pc-windows-gnu-coretest.ok do?
[14:37:57] <rkruppe> It keeps failing after coretest compiled successfully with warnings, and make doesn't even try to rebuild coretest when I modify the unit test
[14:40:32] *** Joins: barosl (barosl@moz-tmp.qma.67.220.IP)
[14:47:31] *** Quits: larsberg (Adium@moz-kmvlue.cable.rcn.com) (Quit: Leaving.)
[14:49:17] *** Joins: mib_qhiur6 (Mibbit@moz-juv.9o3.252.72.IP)
[14:51:56] *** Quits: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP) (Ping timeout: 121 seconds)
[14:52:06] *** Quits: mib_qhiur6 (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[14:52:43] <rkruppe> touch'd libcore/lib.rs and currently rebuilding from scratch. Stupid flaky makefiles
[14:54:48] <kmc> what's flaky? a change in that file can affect all stage1+ products
[14:57:57] <rkruppe> kmc: That it rebuilds everything isn't flaky or wrong, that's the whole reason I touch'd that file
[14:58:04] <kmc> ahh
[14:59:24] <rkruppe> The problem is that I (1) had to rebuild anything except libcoretest and (2) had to force that rebuild
[15:00:53] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[15:01:34] <eddyb> rkruppe: that rule is actually a file path that gets touched after a successful test run of coretest for that target and host combination
[15:01:55] <eddyb> rkruppe: i.e. that rule is the coretest test itself
[15:02:41] <rkruppe> eddyb: So why might it fail? Or rather, why does the build die when the file isn't there, rather than running the test when it's not there?
[15:02:45] *** Quits: Rym (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[15:02:51] <eddyb> rkruppe: if it keeps failing, maybe run make with VERBOSE=1 and see what executable it runs
[15:03:14] <rkruppe> Too late now (doing clean rebuild), I'll try that next time
[15:03:17] <eddyb> rkruppe: the build doesn't die because the file is missing, the build dies because the test didn't succeed
[15:03:29] <rkruppe> But the test doesn't run, as far as I can tell
[15:03:31] <eddyb> which could even be "coretest.exe doesn't start"
[15:04:11] <rkruppe> Okay, still a terrible user experience
[15:04:30] *** Quits: erikj (erikj@moz-1bq7nj.com) (Quit: kfonx)
[15:04:42] <rkruppe> And if the tests compile but don't even start, /something/ is clearly terribly wrong, even if it's not the makefiles
[15:05:46] *** Joins: Rym (y@moz-o80acm.range86-189.btcentralplus.com)
[15:10:21] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[15:19:56] *** Joins: erikj (erikj@moz-1bq7nj.com)
[15:23:01] *** Quits: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu) (Quit: Leaving)
[15:23:58] *** Quits: barosl (barosl@moz-tmp.qma.67.220.IP) (Connection closed)
[15:24:04] *** Joins: tamird (textual@moz-gg3hct.res.rr.com)
[15:24:52] *** bvssvni is now known as bvssvin
[15:25:04] *** Joins: barosl (barosl@moz-tmp.qma.67.220.IP)
[15:28:12] *** Joins: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP)
[15:28:12] *** Quits: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP) (A TLS packet with unexpected length was received.)
[15:28:18] *** Joins: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP)
[15:29:28] *** Quits: imperio (Mibbit@moz-ntj.aov.119.80.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[15:32:55] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[15:34:57] *** Joins: c0170_ (c0170@moz-dev.ffi.127.79.IP)
[15:35:21] * aturon is chuckling at https://github.com/rust-lang/rust/issues/24928
[15:36:06] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Quit: It's a joke, it's all a joke.)
[15:37:20] *** Quits: c0170 (c0170@moz-bb29a4.cambridge.arm.com) (Ping timeout: 121 seconds)
[15:40:51] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[15:41:17] <steveklabnik> yeah it's a fun thread
[15:42:08] *** Joins: O01eg (o01eg@moz-t473kj.th81.4n8f.2698.2a02.IP)
[15:42:24] *** Quits: casey (casey@moz-v0ns05.tpgi.com.au) (Connection closed)
[15:42:46] *** Joins: casey (casey@moz-v0ns05.tpgi.com.au)
[15:46:48] *** Quits: casey (casey@moz-v0ns05.tpgi.com.au) (Ping timeout: 121 seconds)
[15:47:21] <rkruppe> Before I spend even more time on this: Is `make check-stage1-coretest NO_BENCH=1` the right way to run the tests from src/libcoretest/ ?
[15:47:38] *** Joins: davebettin (davebettin@moz-ip635p.or.comcast.net)
[15:47:49] <rkruppe> I've never run them before, and if the invocation is wrong, that would (sort of) explain my troubles
[15:48:42] <acrichto> rkruppe: yeah that should do it, you can omit the NO_BENCH=1 as well
[15:48:56] <acrichto> rkruppe: although the bots run stage2 tests which can sometimes have subtle differences
[15:48:59] <acrichto> but most of the time stage1 is fine
[15:53:56] <rkruppe> Then I don't know what's I'm doing wrong.
[15:54:02] <rkruppe>  The file x86_64-pc-windows-gnu/stage1/test/coretesttest-x86_64-pc-windows-gnu.exe exists (and is not suspiciously small or anything), but running it produces no output and exits immediately.
[15:54:22] *** Quits: tamird (textual@moz-gg3hct.res.rr.com) (Quit: My Mac has gone to sleep. ZZZzzz…)
[15:54:22] <acrichto> rkruppe: it could be that some dll couldn't be loaded
[15:54:32] <acrichto> I've seen those kinds of problems silently exit in the past (unfortunately)
[15:54:57] <rkruppe> For the record, I'm on 67ba6dc with immaterial modifications (libcore/num/flt2dec/bignum.rs)
[15:55:06] <rkruppe> acrichto: So how might I go about debugging that?
[15:56:18] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[15:58:05] <rkruppe> Gah, gdb just spits out "unknown target exception 0xc0000139 at 0x7fff2477c180"
[16:00:21] <acrichto> rkruppe: hm that's... I'm not quite sure :(
[16:01:02] <rkruppe> At least dependency walker seems to confirm your guess, some "implicit or forwarded dependency" was not found
[16:01:33] <WindowsBunny> DLL hell is the best hell
[16:02:13] <rkruppe> It's the std-<hash>.dll and test-<hash>.dll, but why? The stage1 run went through cleanly, and surely I don't need a stage3 build and `make install` just to run those tests?
[16:03:18] <rkruppe> I don't know enough about DLLs and how they are loaded to deal with this mess
[16:03:46] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[16:04:01] <rkruppe> Think it'll go away if I make clean and sacrifice a goat before I rebuild?
[16:06:35] *** Joins: gsingh93 (gulshan@moz-qnbukr.mi.comcast.net)
[16:07:53] <WindowsBunny> rkruppe: All that matters is whether the relevant DLL is in your PATH or the same directory as the binary
[16:08:14] <WindowsBunny> rkruppe: https://msdn.microsoft.com/en-us/library/windows/desktop/ms682586%28v=vs.85%29.aspx
[16:08:51] <WindowsBunny> Once you understand the DLL search path, then you can investigate with depends, and figure out whats not being done right
[16:09:27] <rkruppe> Well the stage1 DLLs are not in the test binary's directory, and they better not be in my PATH
[16:10:28] *** Joins: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP)
[16:10:46] <WindowsBunny> They're typically meant to be run through make though
[16:10:59] <WindowsBunny> so the question is, do the makefiles setup a custom PATH?
[16:11:05] <rkruppe> But make check-* doesn't work either
[16:11:15] <WindowsBunny> oh, then stuff is definitely weird :D
[16:11:39] <WindowsBunny> because `make check-blah` should definitely set everything up correctly
[16:11:44] <rkruppe> As far as I can tell, everything is how it should be. Libraries go in <target>/stage1/bin, test binaries into <target>/stage1/test, and some voodoo makes the the stage1 tests use stage1 artifacts, right?
[16:12:03] <WindowsBunny> and if not, try doing a make clean and sacrificing a goat
[16:12:40] <rkruppe> Maybe I have a Makefile that is fundamentally broken, but my HEAD is a merge by bors
[16:12:52] <rkruppe> And I didn't touch the build system at all
[16:12:57] * WindowsBunny shakes his fist at buildbot
[16:14:12] <rkruppe> WindowsBunny: Just to be absolutely sure, I don't need to build stage{2,3} and/or run `make install` to run the libcore tests on my modified libcore?
[16:16:05] <WindowsBunny> rkruppe: make check-blah should just work
[16:16:29] <WindowsBunny> rkruppe: but um, I believe stage1 tests sometimes don't work, you may need to do stage2 tests
[16:16:39] <rkruppe> It's make check-stage1
[16:16:51] <rkruppe> Oh yes, but that takes sooo loooong :(
[16:17:17] <rkruppe> And make clean rebuilds LLVM too, right?
[16:18:40] * rkruppe gives the build system the evil eye, sighs, and rebuilds
[16:19:16] <rkruppe> Or maybe I'll try an incremental check-stage2 first
[16:19:22] <WindowsBunny> rkruppe: try doing stage2 builds to see if they work
[16:19:28] <WindowsBunny> if stage2 works, but stage1 fails
[16:19:34] <WindowsBunny> well, there's not much you can do
[16:19:49] <rkruppe> I could drop everything and rewrite the build system from scratch
[16:19:51] <WindowsBunny> buildbot doesn't gate on stage1 tests, they're just a convenience for developers that often doesn't work
[16:20:04] <rkruppe> I wish that was _just_ a joke
[16:20:48] <WindowsBunny> the joke is rust's build system
[16:20:54] *** Joins: dschatz_ (dschatz@moz-nk1clf.bu.edu)
[16:21:00] *** Quits: nodweber_ (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[16:21:02] *** Quits: dschatz_ (dschatz@moz-nk1clf.bu.edu) (Quit: Leaving)
[16:21:07] *** Joins: dschatzberg (dschatz@moz-nk1clf.bu.edu)
[16:22:17] <dschatzberg> When building rust, can I specify the target using a target.json file?
[16:22:52] *** Joins: rkruppe_ (chatzilla@moz-3nj.rnu.131.95.IP)
[16:23:55] *** Joins: arielb1 (Ariel@moz-2trv48.red.bezeqint.net)
[16:24:13] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[16:24:17] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[16:25:05] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Ping timeout: 121 seconds)
[16:25:17] *** rkruppe_ is now known as rkruppe
[16:25:24] <rkruppe> WindowsBunny: Seriously. I want to finish dec2flt first, but the build system has just earned its place as the very next thing on my to do list.
[16:26:16] *** Quits: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP) (Connection closed)
[16:26:22] <WindowsBunny> rkruppe: I'm sure everyone would appreciate you fixing the build system
[16:26:42] *** Joins: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP)
[16:27:17] <XMPPwocky> "And when you gaze too long into the build system, the build system also gazes into you."
[16:27:20] <XMPPwocky> or something
[16:27:47] <rkruppe> The only question is whether I can. I certainly can't modify the Makefiles, I'd try writing a Rust program that generates dead simple Ninja files
[16:30:25] <WindowsBunny> rkruppe: As long as ninja is easy to get and use on windows
[16:31:01] <rkruppe> It's used by Chrome at least, so it can't be too bad
[16:35:47] *** Joins: imperio (Mibbit@moz-8otf3a.fbx.proxad.net)
[16:38:34] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[16:38:42] *** Joins: Astrum|Lap (Astrum|Lap@moz-7enfbr.co.comcast.net)
[16:39:42] *** Joins: mgottschlag (quassel@moz-3qnf1h.scc.kit.edu)
[16:41:59] *** Joins: dinfuehr_ (dinfuehr@moz-c25.u8s.112.91.IP)
[16:42:37] *** Quits: dinfuehr_ (dinfuehr@moz-c25.u8s.112.91.IP) (Connection closed)
[16:45:04] *** Quits: dinfuehr (dinfuehr@moz-c25.u8s.112.91.IP) (Ping timeout: 121 seconds)
[16:51:22] *** Quits: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP) (Client exited)
[16:52:46] *** Joins: mib_rf4na7 (Mibbit@moz-juv.9o3.252.72.IP)
[16:54:24] <nmatsakis> when did we introduce the RFC process?
[16:55:22] *** Quits: zmack (zmack@moz-htpein.home.aster.pl) (Connection closed)
[16:55:25] *** Quits: Guest63 (textual@moz-qfs.570.70.83.IP) (Ping timeout: 121 seconds)
[16:55:52] *** Joins: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP)
[16:56:11] *** Quits: mgottschlag (quassel@moz-3qnf1h.scc.kit.edu) (Ping timeout: 121 seconds)
[16:57:37] *** Quits: pnkfelix (pnkfelix@moz-6v5.3nd.202.89.IP) (Ping timeout: 121 seconds)
[16:58:18] *** Quits: GBGamer (GBGamer@moz-92sbjt.wa.comcast.net) (Ping timeout: 121 seconds)
[16:59:38] <aturon> nmatsakis: https://github.com/rust-lang/rfcs/commit/ae658eae003477ed5e7f0d7b4deb393c7c25052a
[17:01:16] <nmatsakis> oh duh
[17:01:19] <nmatsakis> thanks :)
[17:01:41] *** Quits: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP) (Connection closed)
[17:02:06] *** Joins: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP)
[17:04:04] *** Quits: mib_rf4na7 (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[17:04:28] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[17:06:47] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[17:07:13] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[17:07:26] *** Joins: GBGamer (GBGamer@moz-92sbjt.wa.comcast.net)
[17:08:43] <nmatsakis> hmm, I think the blog.rust-lang.org markdown style can't handle footnotes. I wonder if we should change to another one. is there a way on github pages to experiment with such a thing without actually doing it live?
[17:09:16] *** Joins: Kxepal (Miranda@moz-9hpqdo.pppoe.mtu-net.ru)
[17:10:51] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[17:11:31] <steveklabnik> i was shocked that rustdoc supported it
[17:11:45] *** Quits: Manishearth (manishearth@moz-8puj7k.net) (Ping timeout: 121 seconds)
[17:11:46] <steveklabnik> footnotes aren't really a markdown thing, unless that got added at some poitn and i didnt notice
[17:12:37] <aturon> nmatsakis: i think we recently changed it to use something closer to github's normal markdown engine, but brson would know more
[17:13:36] <nmatsakis> steveklabnik: well, many flavors support them :)
[17:13:46] <steveklabnik> TIL
[17:13:51] <nmatsakis> aturon: I did a bit of research, you can select the engine and options, from what I can see the engine we're using doesn't footnotes
[17:13:55] <nmatsakis> it's ok
[17:14:04] <nmatsakis> no big thing
[17:14:33] *** Quits: gsingh93 (gulshan@moz-qnbukr.mi.comcast.net) (Ping timeout: 121 seconds)
[17:15:25] *** Joins: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP)
[17:16:11] *** Quits: laumann (thomas@moz-33d.hq0.225.130.IP) (Ping timeout: 121 seconds)
[17:17:59] <nmatsakis> acrichto: so sometimes when I browse crates.io, I wish that it would print exactly what should be in cargo.toml file to use that package
[17:18:05] <nmatsakis> acrichto: specifically, it says (e.g.) foo = 0.5
[17:18:12] *** Joins: Manishearth (manishearth@moz-8puj7k.net)
[17:18:15] <nmatsakis> acrichto: but I think I'd rather it said [dependencies] \n foo = 0.5
[17:18:20] <nmatsakis> I think that's the only change that'd be needed?
[17:18:22] <steveklabnik> ive wondered that too
[17:18:41] <nmatsakis> either that, or include the [dependencies] in the template
[17:18:47] <nmatsakis> that might be ok too
[17:18:59] <nmatsakis> and some text like
[17:19:09] <nmatsakis> To use this package, add `foo = 0.5` to the [dependencies] section of your Cargo.toml
[17:19:21] *** Joins: canhtak (jeremy@moz-1a9fh1.luxdsl.pt.lu)
[17:19:35] <acrichto> nmatsakis: hm yeah I've wondered if that would be a good idea
[17:20:21] *** Quits: c0170_ (c0170@moz-dev.ffi.127.79.IP) (Ping timeout: 121 seconds)
[17:20:23] <nmatsakis> I feel like it could definitely be a bit more clear
[17:20:26] <nmatsakis> doesn't take much
[17:20:48] <acrichto> yeah
[17:20:51] <nmatsakis> I recall the first time I tried to use cargo (which was embarassingly recently ;) I spent a while reading docs and faws
[17:20:54] <nmatsakis> *faqs
[17:21:02] <nmatsakis> and being a bit frustrated at not finding this sort of "quick start" more prominent
[17:21:12] <nmatsakis> in the end because it was just too dang easy
[17:21:15] <nmatsakis> I suspect :)
[17:21:35] <nmatsakis> i.e., http://doc.crates.io/ tells me how to install and everything
[17:21:43] <nmatsakis> but doesn't get so far as adding a dependency
[17:22:02] <nmatsakis> I guess if you click on the guide it's there
[17:22:12] <nmatsakis> but even then it starts out with a git repo
[17:22:33] <nmatsakis> and doesn't (in fact) show me how to use a package from crates.io
[17:22:59] <nmatsakis> my guess is it was written before crates.io existed? :)
[17:23:34] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[17:24:46] *** Joins: Diggsey (diggsey@moz-e3pv94.dsl.pipex.com)
[17:25:18] *** Quits: canhtak (jeremy@moz-1a9fh1.luxdsl.pt.lu) (Client exited)
[17:25:45] <acrichto> nmatsakis: yeah...
[17:25:54] <acrichto> the cargo docs are kinda in need of a revamp
[17:26:08] <steveklabnik> agreeeed
[17:26:09] <acrichto> I know steveklabnik's been thinking about it for awhile, but I should also write some more docs for crates.io/build scripts ;)
[17:26:25] <steveklabnik> maybe next week i can do it. been saying that for a few weeks though
[17:26:35] <nmatsakis> all that said
[17:26:40] <nmatsakis> I still think that just having a sentence like I suggested
[17:26:43] <nmatsakis> on the page for each crate
[17:26:44] <nmatsakis> would go a long way
[17:27:09] *** Quits: Manishearth (manishearth@moz-8puj7k.net) (Ping timeout: 121 seconds)
[17:27:16] <nmatsakis> maybe I'm not typical, though, in that I have the basic ida in my head already (add to Cargo.toml etc) but can't remember the precise keyword
[17:27:55] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Ping timeout: 121 seconds)
[17:28:15] *** Joins: c0170 (c0170@moz-dev.ffi.127.79.IP)
[17:28:18] *** Joins: Manishearth (manishearth@moz-8puj7k.net)
[17:28:42] <rkruppe> Are you kidding me? Does check-stage2-coretest really not rebuild the test binary if I modify the test?
[17:29:00] <nmatsakis> sounds...unexpected
[17:30:51] <bstrie> why is it `std::marker::Unsize` instead of `std::marker::Unsized`?
[17:33:12] *** chmanchester|afk is now known as chmanchester
[17:33:56] *** Quits: Manishearth (manishearth@moz-8puj7k.net) (Ping timeout: 121 seconds)
[17:33:58] <rkruppe> Yup, manually deleting <target>/stage2/test/coretesttest-<target>.exe and re-running check-stage2-coretest picks up the fixed test
[17:34:11] * rkruppe continues his vendetta with the build system
[17:34:57] *** Joins: Manishearth (manishearth@moz-8puj7k.net)
[17:40:34] <sfackler> bstrie: I don't think either of those exist? http://doc.rust-lang.org/1.0.0-beta.5/std/marker/
[17:41:53] <nmatsakis> bstrie: that trait refers to when a value can be unsized
[17:42:12] <nmatsakis> bstrie: i.e., [T;3]: Unsize<[T]> holds
[17:42:28] <nmatsakis> bstrie: maybe not the best name, but Unsized doesn't seem right either
[17:42:35] <nmatsakis> "Unsizeable"
[17:44:04] *** Joins: frogonia (Mibbit@moz-juv.9o3.252.72.IP)
[17:44:57] *** Joins: avikpal (avikpal@moz-lhc.t2s.79.112.IP)
[17:45:51] <simias> Unsize is doubleplusungood
[17:47:00] <nmatsakis> so related to unsize, last night it occured to me that I wasn't clear on how well "feature-gated" the new unsize coercion stuff is 
[17:47:16] <nmatsakis> eddyb: ^ (I guess nrc isn't around)
[17:48:42] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[17:48:42] *** ChanServ sets mode: +o pcwalton
[17:48:46] *** Quits: GBGamer (GBGamer@moz-92sbjt.wa.comcast.net) (Ping timeout: 121 seconds)
[17:49:01] *** Quits: kmcguire_ (kmcguire@moz-pg1gb9.biz.rr.com) (Connection closed)
[17:49:38] *** Joins: kmcguire_ (kmcguire@moz-pg1gb9.biz.rr.com)
[17:52:59] <bluss> nmatsakis: that was my question too.. Any way to introduce this without making it stable?
[17:53:27] <nmatsakis> bluss: certainly it's possible, we can add a filter that checks that the things that get unsized fall into the current limits
[17:53:37] *** Quits: jethrogb (jethrob@moz-p2iedd.scintilla.utwente.nl) (Quit: Winners never quit.)
[17:53:39] <nmatsakis> bluss: and requires a feature-gate otherwise
[17:54:00] <nmatsakis> bluss: I just feel dumb for not having thought of it when reviewing the patch :(
[17:54:23] <eddyb> nmatsakis: aren't the traits unstable?
[17:54:46] <nmatsakis> eddyb: I have to check :) I guess so long as you don't implement the trait, it shouldn't really enable anything not already possible?
[17:54:50] <nmatsakis> that was after all the idea
[17:54:59] <eddyb> nmatsakis: or do coercions not trigger the stability mechanims?
[17:55:00] *** Joins: killercup (killercup@moz-qj5qhi.dip0.t-ipconnect.de)
[17:55:07] <bluss> I was thinking that Rc<Trait> will be stable
[17:55:18] <nmatsakis> so thinking about this a bit more
[17:55:19] <bluss> i.e that's what we want to feature gate too
[17:55:38] <nmatsakis> I THINK that, per the design, if the "opt in" trait (CoerceUnsized?) is unstable
[17:55:43] <nmatsakis> which is shoudl be since we prbably want to do renames ;)
[17:55:45] <nmatsakis> then nobody can implement it
[17:55:54] <nmatsakis> (except for stdlib)
[17:55:59] <eddyb> yes
[17:56:01] <nmatsakis> any impls we put in stdlib are "stable"
[17:56:05] <nmatsakis> in the sense that whatever final mechanism we use
[17:56:06] <nmatsakis> has to support them
[17:56:09] <nmatsakis> but that's ok
[17:56:09] <eddyb> the other issue is being generic over T: Unsize<Trait>
[17:56:16] <nmatsakis> well, Unsize is unstable too, right?
[17:56:21] <nmatsakis> (or should be)
[17:56:23] <eddyb> so everything should be fine
[17:56:29] <eddyb> nmatsakis: I very much expect it to be
[17:56:29] <nmatsakis> yes, I think so
[17:56:35] <nmatsakis> I'll double check that those traits are unstable
[17:56:53] <nmatsakis> I hadn't really thought hard about this. More that I woke up this morning thinking "oh dear, I hadn't considered how stability interacts"
[17:58:29] *** Quits: ptalbot (ptalbot@moz-g2mokk.ircam.fr) (Ping timeout: 121 seconds)
[17:58:52] *** chmanchester is now known as chamnchester|mtg
[17:59:42] <nmatsakis> eddyb: (yes, they are unstable)
[17:59:45] <nmatsakis> k
[18:01:16] <eddyb> can we have tuple iterators now?
[18:01:58] <eddyb> for x in (a, b, c).iter::<fmt::Debug>() { println!("{:?}", x); }
[18:02:00] *** Quits: untitaker (untitaker@moz-q9sn3v.highway.telekom.at) (Ping timeout: 121 seconds)
[18:02:43] <eddyb> let me rephrase: Unsize lets us do that. should we put such impls in libstd :P?
[18:03:08] <nmatsakis> are you assuming a b and c all have the same type?
[18:03:20] <nmatsakis> oh, I see
[18:03:37] <nmatsakis> sort of :)
[18:04:35] <nmatsakis> not something I've ever really wanted
[18:04:39] <nmatsakis> unlike zip!
[18:04:58] <nmatsakis> (for some reason, I still expect for (x, y) in (xs, ys) to work)
[18:05:06] *** Joins: untitaker (untitaker@moz-p6f4vq.highway.telekom.at)
[18:06:46] <eddyb> nmatsakis: that reminds me, I've meant to try something but never got around to it. abusing OIBIT to get specialization, that is
[18:08:30] <nmatsakis> eddyb: heh. so I realized that you can use OIBIT to do negative impls a while back, and proposed some limits to prevent that, though we've not implemented them (but neg impls are unstable) 
[18:09:07] <eddyb> nmatsakis: I've seen people hoping impl<T: !Foo> Foo for T would work, but that's undecideable
[18:09:53] <eddyb> nmatsakis: whereas using OIBIT actually makes sense, in terms of determining whether a type implements Foo
[18:10:11] <eddyb> because the FooDefault opt-outs don't depend on Foo or FooDefault
[18:11:17] <eddyb> nmatsakis: it's a bit bothersome because you have to repeat the same where clauses, but it is fully extensible, AFAIK
[18:11:41] <Manishearth> eddyb: I was trying to abuse oibit to get specialization (I assume you mean using blanket impls to get a trait impl and an overriden impl)
[18:11:45] <Manishearth> for heapsizeof
[18:11:46] <Manishearth> didn't work
[18:11:49] <Manishearth> forgot why
[18:11:50] *** Joins: annodomini (lambda@moz-hceqmj.hfc.comcastbusiness.net)
[18:12:11] <eddyb> Manishearth: did you opt out of the TraitDefault OIBIT impl for each Trait impl?
[18:12:51] <Manishearth> something like that
[18:12:53] <Manishearth> I forget
[18:13:04] <Manishearth> I tried a bunch of things
[18:15:06] *** Quits: summerlight (summerlight@moz-99k.2mj.130.121.IP) (Quit: Leaving)
[18:15:11] *** Joins: summerlight (summerlight@moz-99k.2mj.130.121.IP)
[18:19:05] <eddyb> src/ui/event.rs:13:5: 13:6 error: default trait implementations are not allowed to have genercis
[18:19:14] <Manishearth> heh
[18:19:16] <eddyb> apart from the misspelling... that is sad
[18:19:32] <Manishearth> I read that as genericitis
[18:19:44] <Manishearth> generics are the disease that plagues us all
[18:19:58] <Manishearth> we should switch to Go before it's too late :P
[18:20:14] <Manishearth> eddyb: also, !Trait only works properly in some situations 
[18:20:20] <Manishearth> I forgot which
[18:20:23] <arielb1> eddyb: negative impls only work structurally
[18:20:31] <Manishearth> sorry, this experimentation was a week ago or something
[18:20:34] <eddyb> the lack of generics makes me sad
[18:20:48] <arielb1> and you can always add non-standard negative impls
[18:20:53] <eddyb> arielb1: I know they propagate
[18:20:53] <arielb1> so you can't use them to get totality
[18:21:00] <eddyb> oh
[18:21:13] <eddyb> well, time to revert
[18:21:17] *** Quits: summerlight (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[18:21:20] <arielb1> because of the "non-standard type" problem
[18:21:57] <arielb1> I mean, if you have impl<T: Regular> Trait for T, impl Trait for Special, impl !Regular for Special
[18:22:06] <arielb1> you don't have impl<T> Trait for T
[18:22:23] <arielb1> because someone could `impl !Regular for NonStandard`
[18:23:17] <eddyb> hmm
[18:23:32] <arielb1> with specialization you want a single total impl to hold
[18:23:35] <eddyb> arielb1: but I need totality in an executable crate that knows all the tyles
[18:23:37] <eddyb> *types
[18:23:52] <arielb1> eddyb: rustc does not support a "single executable crate" mode
[18:24:02] <arielb1> I mean, the typechecking part doesn't
[18:24:29] <eddyb> let me rephrase: I need to know that individual types implement a certain trait
[18:24:52] <arielb1> but you only want to use the trait on concrete types?
[18:24:57] <eddyb> yes
[18:25:32] <eddyb> there's a downstream consumer that should either see a default impl (through a non-opted-out OIBIT-based blanket impl) or a specific impl
[18:25:45] <eddyb> for a bunch of specific types
[18:26:38] <eddyb> arielb1: the trait is Dispatch<E> (E as in "event"). the objects and the events may not know about each-other (sibling crates)
[18:27:25] <eddyb> arielb1: right now I have one crate and I manually implement every impl in the product of the object set and event set
[18:28:00] <arielb1> why don't negative impls work?
[18:28:07] <eddyb> because the trait is generic
[18:28:27] <arielb1> can't you go via tuples
[18:28:33] <eddyb> I was just going to try that
[18:28:34] <arielb1> impl DispatchVariant for (E,T)
[18:28:54] <arielb1> impl<E,T> Dispatch<E> for T where (E,T): DispatchVariant
[18:30:54] <eddyb> hopefully I'll be able to put this in a macro
[18:35:54] <eddyb> src/ide/rustc.rs:3:1: 3:27 error: can't find crate for `rustc_typeck` which `rustc_driver` depends on
[18:35:56] *** Joins: larsberg (Adium@moz-kmvlue.cable.rcn.com)
[18:36:01] <eddyb> riiight I need to rebuild rustc
[18:36:44] <arielb1> eddyb: actually it doesn't seem to work
[18:36:47] <arielb1> I mean, coherence fail
[18:36:56] <arielb1> http://is.gd/bT3I5U
[18:36:59] <eddyb> arielb1: why does that not surprise me?
[18:37:27] <eddyb> arielb1: that's more complicated than what I have
[18:37:49] <arielb1> why is this a coherence failure?
[18:38:14] *** Joins: jethrogb (jethrob@moz-p2iedd.scintilla.utwente.nl)
[18:38:30] *** Quits: jethrogb (jethrob@moz-p2iedd.scintilla.utwente.nl) (Quit: Winners never quit.)
[18:40:56] <eddyb> http://is.gd/RIcCiq
[18:41:01] <eddyb> this is closer to what I need
[18:41:14] <eddyb> but method resolution seems to give the wrong result
[18:42:57] <eddyb> OH
[18:43:01] <eddyb> arielb1: silly one-impl rules
[18:43:13] *** Quits: avikpal (avikpal@moz-lhc.t2s.79.112.IP) (Connection closed)
[18:43:48] <arielb1> eddyb: the coherence problem was a simple 10T error
[18:43:54] <arielb1> I had T:Generic+U:Generic
[18:43:59] <arielb1> instead of (T,U):Generic
[18:44:13] <eddyb> arielb1: http://is.gd/U291tW
[18:44:27] <eddyb> this is the pattern I need and it works \o/
[18:45:11] *** chamnchester|mtg is now known as chmanchester
[18:45:37] <nmatsakis> eddyb: I'm pretty sure this impl `impl<A, B, E> !NoDispatch for ((A, B), E)` is precisely the sort of thing I was proposing we forbid
[18:46:17] *** Joins: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com)
[18:47:14] <nmatsakis> eddyb: specifically here https://gist.github.com/nikomatsakis/bbe6821b9e79dd3eb477#file-e-md though I think this didn't make it into an rfc yet :(
[18:47:32] <nmatsakis> er, not there
[18:47:34] <nmatsakis> wrong link
[18:48:07] <nmatsakis> here https://gist.github.com/nikomatsakis/bbe6821b9e79dd3eb477#negative-reasoning-from-oibit-and-rfc-586
[18:48:20] *** Quits: c0170 (c0170@moz-dev.ffi.127.79.IP) (Connection closed)
[18:48:44] <eddyb> "negative reasoning" so pessimistic
[18:49:02] <arielb1> nmatsakis: why?
[18:49:07] <eddyb> nmatsakis: if you add specialization at the same time, I'm game
[18:49:23] <arielb1> We are not using negative bounds
[18:49:31] <nmatsakis> you are
[18:49:35] <nmatsakis> implicitly
[18:49:53] <arielb1> an OIBIT essentially has a positive impl for all ADTs that contain the proper contents except the forbidden ones
[18:49:56] <arielb1> no negative impls
[18:50:32] <nmatsakis> that gist shows how you can use OIBIT to trivially make a neg bound 
[18:50:36] <nmatsakis> in eddyb's example,
[18:50:42] <arielb1> gist?
[18:50:46] <nmatsakis> the one I linked to
[18:50:47] <nmatsakis> https://gist.github.com/nikomatsakis/bbe6821b9e79dd3eb477#negative-reasoning-from-oibit-and-rfc-586
[18:50:57] <nmatsakis> but in eddyb's code, he making a conditional neg impl
[18:50:59] <arielb1> it uses bounds in a negative impl
[18:51:03] <arielb1> eddyb doesn't
[18:51:05] <nmatsakis> yes he does
[18:51:19] <arielb1> I mean, I didn't so I didn't notice
[18:51:20] <nmatsakis> impl<A, B, E> !NoDispatch for ((A, B), E) where A: Dispatch<E>, B: Dispatch<E> {}
[18:51:38] <arielb1> you didn't quote the where-clauses
[18:51:39] <eddyb> I'm mimicking the conditions on the Dispatch impl
[18:51:43] <nmatsakis> arielb1: no, I didn't :)
[18:51:47] <arielb1> that confused me
[18:51:49] <nmatsakis> sorry
[18:52:02] <arielb1> nevermind
[18:52:21] <eddyb> nmatsakis: most of these things make more sense if you give an example that would break
[18:52:42] <arielb1> actually his program works even if you remove the where-clauses
[18:52:52] <arielb1> or replace them with ?Sized even
[18:53:15] <eddyb> arielb1: but that prevents you from having more specific impls on tuples
[18:53:41] <eddyb> which I happen to not need :)
[18:54:21] <eddyb> it might worse with some other impls but here there is no other possible impls of Dispatch<E> on (A, B) that I might want to allow
[18:54:21] <arielb1> eddyb: you can always add new !NoDispatch impls
[18:54:40] <arielb1> actually I think I got it backwards
[18:55:14] <arielb1> but you can add new NoDispatch impls
[18:55:25] <arielb1> and new !NoDispatch impls
[18:55:27] <arielb1> specific ones
[18:55:47] <eddyb> so even conditional negative impls might not be neccessary
[18:56:03] <eddyb> I would test it but I don't have a rustc build yet - hmm, maybe I don't need it
[18:56:15] * eddyb comments out the module that drives rustc
[18:57:01] *** Joins: nrc (nrc@moz-9luh02.xtra.co.nz)
[18:57:02] *** ChanServ sets mode: +o nrc
[18:57:14] <arielb1> hi nrc
[18:57:56] *** Parts: dschatzberg (dschatz@moz-nk1clf.bu.edu) ("Leaving")
[18:58:46] <eddyb> arielb1: interestingly, I get 4 conflicting implementations
[18:58:50] <eddyb> (out of about 20)
[18:58:58] <arielb1> code?
[18:59:06] <eddyb> it's pretty large :P
[18:59:27] <arielb1> are you the conflicts are real?
[18:59:35] <eddyb> arielb1: as I suspected, missing !NoDispatch impls
[19:00:13] <arielb1> nmatsakis: the trait situation is getting crazy enough I have to read RUST_LOG to debug it
[19:00:32] <arielb1> at least it actually shows the traitrefs :-)
[19:00:32] <eddyb> RUST_LOG=rustc::metadata is still broken
[19:00:42] <arielb1> we need a trait debuggre
[19:00:43] <eddyb> it dumps everything it ever reads
[19:00:43] <nrc> arielb1: hi, my computer is on, but I have some things to do before starting work. Reviewing your PR and getting the RFC PR landed are top of my list for this morning :-)
[19:01:16] <arielb1> nrc: and I am still not finished rebasing it
[19:01:29] <eddyb> arielb1: it's compiling the library, let's see if the executable using the library actually works
[19:02:32] <arielb1> nrc: working with that timezone difference...
[19:04:25] <arielb1> eddyb: that faux-specialization is nice
[19:04:27] <eddyb> arielb1: AAAARGH
[19:04:31] <arielb1> what?
[19:04:37] <eddyb> is does that stupid thing
[19:04:39] <eddyb> *it does
[19:04:50] <eddyb> arielb1: where it picks an impl and enforces the type from it
[19:04:50] <arielb1> stupid?
[19:05:04] <eddyb> the executable crate that invokes those impls doesn't compile
[19:05:07] <arielb1> eddyb: do you have where-clauses?
[19:05:17] <eddyb> on the negative impls? yes
[19:05:24] <eddyb> do you think removing them will fix the issue?
[19:05:29] <arielb1> where-clauses on negative impls don't really work
[19:06:01] *** Quits: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP) (Connection closed)
[19:06:24] *** Joins: brson (brson@moz-cfhap5.mtv2.mozilla.com)
[19:06:49] <arielb1> I think they are like region relationships in quantifiers
[19:07:13] *** nrc is now known as nrc|afk
[19:07:25] <arielb1>  - they are in the "sometimes seem to work, cause trouble, but don't really work"
[19:08:03] *** Joins: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP)
[19:09:33] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[19:10:45] <eddyb> arielb1: the thing is, the where clauses weren't preventing any conflicts... so I'm not sure that removing them will fix anything
[19:11:02] <arielb1> again what's the problem?
[19:11:05] <eddyb> arielb1: I guess there's also the issue of structural propagation
[19:11:33] <arielb1> where-clauses on negative impls are buggy
[19:11:48] <eddyb> arielb1: so the problem is that the compiler picks a specific E0 and every direct Dispatch<E> use acts like Dispatch<E0>
[19:12:06] <arielb1> acts like?
[19:12:20] <arielb1> if you specify E0 explicitly?
[19:12:25] <eddyb> you call .dispatch(&x) with different types of x
[19:12:39] <eddyb> and for some reason it expect them to be all the same type
[19:12:42] <eddyb> *expects
[19:12:43] <arielb1> could you gist the code + middle::traits log
[19:12:47] <eddyb> LOL
[19:12:59] <eddyb> arielb1: after a few days of reducing it, maybe
[19:13:13] <eddyb> I guess that if I remove the editor I could produce a reduced test case
[19:13:23] <eddyb> arielb1: it's the same issue I have in the gist if I leave only one impl
[19:13:29] <eddyb> s/gist/playpen
[19:13:46] <arielb1> link?
[19:13:49] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Ping timeout: 121 seconds)
[19:13:50] <eddyb> arielb1: http://is.gd/vUkNfN
[19:14:03] <eddyb> but here it's obvious that there's only one impl and that's it
[19:14:17] <eddyb> wait, no, there's more than one impl, it shouldn't do this
[19:14:44] <eddyb> arielb1: removing the where clause doesn't help either
[19:16:24] *** Joins: gsingh93 (gulshan@moz-qnbukr.mi.comcast.net)
[19:16:32] *** Joins: jethrogb (jethrob@moz-p2iedd.scintilla.utwente.nl)
[19:17:54] <eddyb> arielb1: maybe method resolution considers OIBIT bounds to never apply, or something?
[19:18:18] <arielb1> eddyb: its the same with UFCS
[19:18:24] <arielb1> and both use trait resolution
[19:20:26] *** Quits: frogonia (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[19:21:48] *** Quits: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP) (A TLS packet with unexpected length was received.)
[19:22:55] *** chmanchester is now known as chmanchester|afk
[19:27:41] <arielb1> eddyb: apparently we miss the negative impl
[19:28:11] <arielb1> CACHE MISS: cache_fresh_trait_pred=Binder(TraitPredicate(<(i32, FreshTy(0)) as NoDispatch>)), candidate=Err(Unimplemented)
[19:29:26] *** Quits: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP) (Connection closed)
[19:30:12] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[19:31:57] *** Joins: tamird (textual@moz-ti3.9hm.3.173.IP)
[19:32:13] <arielb1> ah well
[19:32:31] <arielb1> if candidates.vec.is_empty() { try!(self.assemble_candidates_from_default_impls(obligation, &mut candidates)); }
[19:33:02] <arielb1> mystery resolved
[19:33:03] *** Joins: nerdopoly (nerdopoly@moz-aqvski.range86-143.btcentralplus.com)
[19:34:02] <arielb1> and that's when we need our speculative matching
[19:34:40] <eddyb> arielb1: it finds only one impl because it doesn't look for default impls if it already found something?
[19:34:47] <arielb1> eddyb: exactly
[19:35:17] <eddyb> I'm guessing you can remove the condition if it doesn't affect performance noticeably
[19:35:24] <arielb1> well, you don't want to take the default impl if there is a negative impl
[19:35:28] *** Joins: ptalbot (ptalbot@moz-j4gnuh.fbx.proxad.net)
[19:35:58] <eddyb> oh, so a better condition would be "there are no negative impls"
[19:36:06] <arielb1> eddyb: no, there is a negative impl
[19:36:10] <eddyb> Manishearth: ^^ maybe this is where you got stuck
[19:36:16] <eddyb> arielb1: confusing!
[19:36:18] <arielb1> our trait-ref is (i32,_)
[19:36:26] <arielb1> the negative impl is for (i32,i32)
[19:36:29] <arielb1> this unifies
[19:36:53] *** Joins: larhat (Adium@moz-vlo5br.cable.virginm.net)
[19:36:55] <arielb1> we already want a surely-unifies
[19:37:05] <arielb1> to prevent inference-guessing in the presence of where-clauses
[19:37:28] <eddyb> that makes sense, but the solution is less obvious
[19:39:14] *** Joins: nham (nham@moz-755.bu3.214.98.IP)
[19:40:30] *** Joins: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP)
[19:40:34] *** Joins: c0170 (c0170@moz-dev.ffi.127.79.IP)
[19:41:32] <arielb1> eddyb: we need to make negative impls behave like where-clauses
[19:41:49] <arielb1> but for that we need to make where-clauses behave better
[19:42:14] <arielb1> nmatsakis: can we implement a definitely_unifies function?
[19:43:31] *** Joins: zmack (zmack@moz-j05.1kc.25.188.IP)
[19:44:19] *** Joins: swgillespie (swgillespie@moz-1i5.3un.220.167.IP)
[19:44:50] <nmatsakis> arielb1: can you be more precise? (I did at one point have a "one-way-match" function I used in trait matching, but we took it out for various reasons I don't have time to go into right now; but I think that may be what you are asking for, modulo regions)
[19:45:01] *** Quits: semarie (semarie@moz-ib8bp9.us.unmetered.com) (A TLS packet with unexpected length was received.)
[19:45:14] <arielb1> I want to see whether types will unify
[19:45:28] <arielb1> regardless of what happens with inference
[19:45:29] <arielb1> later on
[19:45:36] <eddyb> arielb1: maybe the whole "if inference variable, then flag as ambiguous" logic should be generalized
[19:45:57] <arielb1> actually, not realy
[19:46:17] <arielb1> for negative impls I need skolemization logic
[19:46:44] <arielb1> I want to match <%0 as Foo> with <$0 as Foo>
[19:47:09] <arielb1> but not <(i32,i32) as Foo> with <$0 as Foo>
[19:47:15] <arielb1> or ($0,$1) as Foo
[19:47:37] <arielb1> %0 is a parameter that comes from a trait-ref so I need to skolemize it
[19:48:36] <arielb1> i.e. I want forall $_i. exists %_j. T[$_i] = U[%_j]
[19:49:35] *** Joins: empoZ (empoZ@moz-ccitnk.priv.bahnhof.se)
[19:49:54] *** Quits: zmack (zmack@moz-j05.1kc.25.188.IP) (Connection closed)
[19:50:02] *** Quits: empoZ (empoZ@moz-ccitnk.priv.bahnhof.se) (Quit: - nbs-irc 2.39 - www.nbs-irc.net -)
[19:50:13] *** Joins: empoZ (empoZ@moz-ccitnk.priv.bahnhof.se)
[19:50:27] *** Quits: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP) (Connection closed)
[19:50:53] <arielb1> nmatsakis: don't we do that with regions with that plug_leaks thing
[19:52:02] *** Quits: blank_na1e (blank_name@moz-9koqv8.mi.frontiernet.net) (Quit: leaving)
[19:53:12] *** Joins: blank_name (blank_name@moz-9koqv8.mi.frontiernet.net)
[19:55:07] <brson> restarting mac4
[19:58:17] <brson> i'm going to start the 1.0 stable build now
[20:00:13] *** Quits: imperio (Mibbit@moz-8otf3a.fbx.proxad.net) (Quit: http://www.mibbit.com ajax IRC Client)
[20:00:48] *** Quits: kmcguire_ (kmcguire@moz-pg1gb9.biz.rr.com) (Connection closed)
[20:01:11] <acrichto> brson: \o/
[20:01:38] *** Joins: kmcguire_ (kmcguire@moz-pg1gb9.biz.rr.com)
[20:02:17] *** Joins: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP)
[20:06:03] <aturon> brson: lock and load!
[20:07:07] *** Joins: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP)
[20:07:39] <arielb1> nrc's new trait code is buggy
[20:08:13] <eddyb> arielb1: which trait code?
[20:08:39] <arielb1> nrc added some trait code for DST coercions
[20:09:22] *** chmanchester|afk is now known as chmanchester
[20:09:42] <eddyb> arielb1: now I feel bad for nrc
[20:09:54] <arielb1> it, err, somehow deduces such things as <[u64] as core::marker::Sized>
[20:09:57] <eddyb> arielb1: so where did I mess up?
[20:10:09] <arielb1> eddyb: in your case, you encountered a rustc bug
[20:10:10] *** Quits: ytain (ytain@moz-01dgko.cpe.pppoe.ca) (Quit: Textual IRC Client: www.textualapp.com)
[20:10:13] <arielb1> "inference guessing"
[20:10:21] <eddyb> no, I wrote the DST coercion code
[20:10:30] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[20:10:31] *** Quits: bdero1 (bran@moz-mqs.7dh.189.18.IP) (Ping timeout: 121 seconds)
[20:10:37] <eddyb> but I didn't change the rules for Sized
[20:10:56] <arielb1> I don't know
[20:11:03] <brson> bstrie: sweet reddit theme
[20:11:15] <arielb1> I didn't touch the trait code
[20:11:21] <arielb1> with my commit, at least
[20:11:45] <eddyb> the Unsize and CoerceUnsized stuff is new
[20:11:47] <arielb1> maybe you just manage to ignore Sized
[20:12:00] <arielb1> we get
[20:12:01] <arielb1> <[u64] as core::marker::Unsize<Foo>>
[20:12:04] <eddyb> ah!
[20:12:13] <eddyb> arielb1: where Foo is a trait?
[20:12:14] <arielb1> we have impl<T: Sized> Foo for T
[20:12:16] <arielb1> yes
[20:12:36] <eddyb> there should be a T: Sized obligation being generated
[20:12:44] <eddyb> if T is not a trait
[20:12:58] <eddyb> arielb1: surely we have tests for this?
[20:13:19] <arielb1> eddyb: somehow they miss it
[20:13:42] <arielb1> I think you probably just messed up trait matching
[20:14:07] <eddyb> arielb1: that was my first time touching the trait code, and I had almost no idea what I was doing
[20:14:09] <arielb1> or maybe you are just using it incorrectly
[20:14:33] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Ping timeout: 121 seconds)
[20:14:36] <eddyb> nrc already found a different issue with nested structures (it affects Mutex and maybe even RefCell)
[20:14:40] *** Quits: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP) (Connection closed)
[20:15:26] <arielb1> I think you just broke mk_assignty
[20:15:49] <eddyb> arielb1: https://github.com/rust-lang/rust/blob/master/src/librustc/middle/traits/select.rs#L2483-L2485
[20:15:59] <arielb1> well, you register obligations and don't check they are satisfied
[20:16:07] <arielb1> so its return value isn't worth much
[20:16:32] <eddyb> that's how it worked before
[20:16:36] <arielb1> and check_cast happens after select_all_fcx_obligations_or_error
[20:17:17] <eddyb> what's the exact testcase?
[20:17:31] <arielb1> eddyb: it is only a problem with casts
[20:17:37] <eddyb> you mean as?
[20:17:41] <arielb1> yes
[20:17:50] <eddyb> well, there's your issue
[20:17:52] <arielb1> the old cast code has enough bugs to hide all of yours
[20:17:56] <arielb1> I guarantee
[20:17:57] <eddyb> as is broken
[20:18:13] <arielb1> eddyb: I unbroke it
[20:18:39] <eddyb> you cannot early check for Sized because you might be dealing with an inference variable that hasn't been unified yet
[20:18:57] <eddyb> arielb1: it should just be triggering a coercion
[20:19:09] <eddyb> there is no such thing as trait object casts
[20:19:13] <eddyb> there are only coercions
[20:19:25] <eddyb> I hope you didn't reintroduce trait object casts
[20:19:25] <arielb1> there is *mut Foo -> *mut Bar RFC401
[20:19:34] *** Quits: acharles (acharles@moz-mi1459.static.qwest.net) (Client exited)
[20:19:44] <eddyb> great
[20:19:59] *** Quits: Rym (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[20:20:14] <arielb1> I think I will just run mk_assignty *after* cast-checking fails
[20:20:38] <eddyb> does mk_assignty attempt coercion?
[20:20:48] <eddyb> (and why is *mut T -> *mut Trait not a coercion?)
[20:21:02] <arielb1> eddyb: I am talking about *mut TraitFoo -> *mut TraitBar
[20:21:10] <eddyb> oh, that thing
[20:21:13] <arielb1> or *mut TraitFoo<Foo> -> *mut TraitFoo<Bar>
[20:21:21] <eddyb> that shouldn't need to touch coercion at that
[20:21:23] <eddyb> *at all
[20:22:47] <arielb1> eddyb: currently I only check casts if coercion fails
[20:22:54] <arielb1> I guess I should do it the other way 'round
[20:23:48] <eddyb> allowing all casts between raw pointers with minor exceptions? yeah, that seems like it should have priority
[20:23:54] *** Joins: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP)
[20:24:00] <eddyb> arielb1: sorry for the trouble
[20:26:47] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[20:29:29] *** Joins: imperio (Mibbit@moz-8otf3a.fbx.proxad.net)
[20:31:50] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[20:35:36] *** Joins: jdm (jdm@moz-0p6oj8.ckpj.s0pt.0450.2001.IP)
[20:35:50] <arielb1> nmatsakis: do we want to solve "inference leaps of logic"?
[20:36:19] <arielb1> I mean, the ty_infer ones
[20:36:20] *** Quits: swgillespie (swgillespie@moz-1i5.3un.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[20:36:21] <brson> I just closed the --no-capture pr https://github.com/rust-lang/rust/pull/24451
[20:36:26] <brson> on the basis that it's too late
[20:36:46] *** Joins: eibwen (eibwen@moz-uadegq.dip0.t-ipconnect.de)
[20:37:38] <mcpherrin> nooo :(
[20:37:46] * mcpherrin types --no-capture every single time
[20:37:55] <eddyb> mcpherrin: embrace the singularity
[20:38:08] <eddyb> brson: the topic is still lagging
[20:38:20] <aturon> hm, i thought we talked about doing --no-capture via deprecation post-1.0
[20:38:55] <mcpherrin> Having both would be a fine option too :)
[20:39:00] <brson> aturon: feel free to open if you disagree. i posted my weak reasoning in the closer
[20:39:44] <aturon> brson: i don't care too much, was just trying to recall the meeting outcome
[20:39:45] *** Quits: joneshf-laptop (joneshf@moz-l4h.b5s.208.98.IP) (Ping timeout: 121 seconds)
[20:40:04] *** Joins: swgillespie (swgillespie@moz-1i5.3un.220.167.IP)
[20:40:33] <brson> aturon: ok, yeah it looks like the notes indicated we want it, but to not rush
[20:41:00] *** aturon changes topic to '3 days to 1.0.0 http://blog.rust-lang.org/2015/02/13/Final-1.0-timeline.html | https://botbot.me/mozilla/rust-internals | https://buildbot.rust-lang.org/homu/queue/rust | see also #rustc and #rust-libs'
[20:41:37] <sfackler> http://i.ytimg.com/vi/JsOPHyuAuT0/hqdefault.jpg
[20:41:53] <aturon> bahahaha nice
[20:42:07] *** Joins: anom (anhedonia@moz-72p.nhl.10.176.IP)
[20:42:24] <mcpherrin> ++++
[20:44:46] <steveklabnik> homu just 500s every tim ei try to make a rollup :(
[20:46:49] *** Joins: Rym (y@moz-o80acm.range86-189.btcentralplus.com)
[20:48:27] *** Joins: poiru (poiru@moz-bmdn13.kapsi.fi)
[20:50:56] <kmc> sfackler: have you seen /r/rust recently :3
[20:51:20] <sfackler> ha
[20:52:07] <steveklabnik> it's so good
[20:52:11] <steveklabnik> though i DID prefer ocarina of time
[20:52:15] <steveklabnik> tbqh
[20:52:28] *** Joins: duesenfranz_ (jona@moz-711djm.tirol.surfer.at)
[20:54:24] <mcpherrin> Majora's Mask was a departure from some of the formula in the series to that point, and I think had a lot more NPC character development
[20:54:57] <mcpherrin> In particular, the fears and concerns of the NPCs in the clock town were a lot more nuanced than in really most other games.
[20:55:50] *** Joins: rkruppe_ (chatzilla@moz-3nj.rnu.131.95.IP)
[20:55:56] <mcpherrin> But maybe this is a #rust-gamedev topic :p
[20:56:17] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[20:56:31] <steveklabnik> hehe
[20:57:07] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Ping timeout: 121 seconds)
[20:57:16] *** rkruppe_ is now known as rkruppe
[20:58:15] *** Joins: laumann (thomas@moz-n9e72h.0.fullrate.dk)
[21:01:15] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[21:01:35] *** Quits: anom (anhedonia@moz-72p.nhl.10.176.IP) (Quit: leaving)
[21:01:48] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[21:01:48] *** ChanServ sets mode: +o pcwalton
[21:02:25] *** Quits: nerdopoly (nerdopoly@moz-aqvski.range86-143.btcentralplus.com) (Quit: leaving)
[21:02:28] *** Quits: blank_name (blank_name@moz-9koqv8.mi.frontiernet.net) (Ping timeout: 121 seconds)
[21:02:50] <mcpherrin> Majora's Mask was probably my favourite game for a long time :)
[21:04:28] *** Quits: laumann (thomas@moz-n9e72h.0.fullrate.dk) (Quit: leaving)
[21:04:58] <bluss> eddyb: is it still true that in Foo::<_>::new(), the number of type parameters expected is the number of type parameters in the impl<_> block for that method?
[21:05:18] <bluss> eddyb: because I've got a buggy snippet where it additionally expects two type parameters
[21:05:31] *** Parts: imperio (Mibbit@moz-8otf3a.fbx.proxad.net) ()
[21:05:34] <bluss> by additionally I mean, the snippet is buggy, and then it does that strange thing too
[21:06:09] <bluss> It's a testcase for an ICE.
[21:06:12] *** Joins: Guest63 (textual@moz-rvv.00r.255.109.IP)
[21:06:23] *** Quits: larhat (Adium@moz-vlo5br.cable.virginm.net) (Quit: Leaving.)
[21:06:59] *** Quits: kwantam (kwantam@moz-1adqok.DYNAPOOL.NYU.EDU) (Quit: WeeChat 1.1.1)
[21:07:08] <bluss> http://is.gd/2FKFDf
[21:07:39] <bluss> wow, is it too late already? It's not an ICE. I'm clearly confused. Anyway, it's a strange bug in rustc.
[21:09:13] *** Joins: kwantam (kwantam@moz-1adqok.DYNAPOOL.NYU.EDU)
[21:11:14] *** Quits: jgallagher (john@moz-d5e8oc.hfc.comcastbusiness.net) (Client exited)
[21:14:10] *** Joins: blank_name (blank_name@moz-lg2.tgt.79.172.IP)
[21:14:51] *** Quits: Rym (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[21:18:29] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[21:19:41] <arielb1> bluss: backwards inference of associated types is bad
[21:20:54] *** Quits: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP) (Connection closed)
[21:21:23] <bluss> I've tried to tinker with this code but I don't understand why it goes wrong
[21:21:38] <bluss> and the Dfs type is in successful use other places
[21:22:45] <bluss> arielb1: it doesn't seem like inference trouble actually, but some kind of bug where the first assoc type of the trait is mixed up with the first of the supertrait
[21:25:20] <bluss> if I try to qualify Dfs::<G>::new it says it expects 2 type parameters
[21:25:43] <bluss> (but the impl block has only one.)
[21:26:00] *** Joins: laumann (thomas@moz-n9e72h.0.fullrate.dk)
[21:26:08] *** Quits: laumann (thomas@moz-n9e72h.0.fullrate.dk) (Quit: leaving)
[21:26:20] <rovar> is there a way to transmute a ptr into an array?
[21:26:32] *** Joins: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP)
[21:26:35] *** Quits: swgillespie (swgillespie@moz-1i5.3un.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[21:28:01] <arielb1> rovar: ?
[21:28:42] <rovar> yea
[21:28:44] <rovar> :)
[21:28:45] <rovar> http://is.gd/ZKJSgK
[21:29:02] <rovar> trying to represent a contiguous chunk of memory as a 2d array. 
[21:29:03] <bluss> rovar: you could do something like this http://stackoverflow.com/a/29589604
[21:29:24] <bluss> rovar: my example only handles 1d arrays though
[21:29:48] <bluss> rovar: in general, I'd recommend transmuting to a _pointer_ to array
[21:29:59] <rovar> that's kind of what I'm doing in my example
[21:30:13] <rovar> .data is a const *T
[21:30:25] *** Quits: ptalbot (ptalbot@moz-j4gnuh.fbx.proxad.net) (Ping timeout: 121 seconds)
[21:30:27] <rovar> a 2d array should be the same as a 1d array in memory
[21:30:38] <bluss> rovar: you don't need repr though. you have .as_ptr()
[21:30:47] <rovar> oh cool
[21:31:12] <bluss> http://is.gd/ay1zqU
[21:31:26] <bluss> now just fix that so that the vec doesn't drop before you read through the reference :))
[21:31:44] <bluss> put it in a function, make it borrow properly
[21:32:05] <bluss> add some traits to check the array size matches, return an Option and voila it's safe
[21:32:21] *** nrc|afk is now known as nrc
[21:32:27] <rovar> except its incorrect
[21:32:49] <rovar> heh
[21:32:52] <rovar> hrrmls
[21:33:26] *** Quits: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP) (Connection closed)
[21:33:58] <rovar> at least it compiles..that's a good start :)
[21:36:12] <rovar> nm.. 0 on drop
[21:36:14] <rovar> http://is.gd/f52gEl
[21:36:22] <bluss> I told you
[21:36:23] <rovar> it is the correct behavior, that is comforting
[21:36:24] <bluss> :)
[21:36:27] *** Joins: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP)
[21:36:32] *** Quits: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP) (Connection closed)
[21:36:45] <rovar> I spend too much time in C
[21:37:25] *** Joins: laumann (thomas@moz-n9e72h.0.fullrate.dk)
[21:37:29] <rovar> free() don't 0 on drop
[21:38:01] <bluss> eh, reading after free is UB both here and there
[21:38:12] <bluss> so we can't expect anything
[21:39:23] <rovar> sure
[21:41:09] <arielb1> nrc: hi
[21:41:14] <arielb1> you're back
[21:41:29] <nrc> arielb1: hi, I am, what's up?
[21:41:36] <arielb1> its late here
[21:41:38] *** Quits: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP) (Client exited)
[21:41:51] <arielb1> I finished rebasing through
[21:41:57] *** Joins: Rym (y@moz-o80acm.range86-189.btcentralplus.com)
[21:42:05] <nrc> awesome, I'll review now
[21:42:19] <nrc> I just asked nmatsakis to merge the RFC PR
[21:42:59] *** Joins: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP)
[21:43:58] *** Quits: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP) (Connection closed)
[21:48:18] *** Joins: Kxepal832 (Miranda@moz-u0omr9.pppoe.mtu-net.ru)
[21:48:20] *** Quits: Kxepal (Miranda@moz-9hpqdo.pppoe.mtu-net.ru) (Ping timeout: 121 seconds)
[21:50:41] <nrc> arielb1: make tidy complains you have a TODO left in
[21:51:57] *** Joins: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net)
[21:51:57] *** ChanServ sets mode: +o pnkfelix
[21:58:17] <arielb1> nrc: I do
[21:59:41] *** Quits: Guest63 (textual@moz-rvv.00r.255.109.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[22:02:28] <arielb1> nrc: I left it in
[22:02:33] <arielb1> I think I can replace it with a fixme
[22:04:22] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Ping timeout: 121 seconds)
[22:05:03] *** Quits: proc (proc@moz-q5diaj.dip0.t-ipconnect.de) (Quit: Gotta eat my pizza)
[22:06:27] <nrc> arielb1: you could probably just remove it - the comment looks OK to me
[22:06:49] <arielb1> nrc: what's the point of it?
[22:06:59] <nrc> the comment?
[22:07:11] <arielb1> yes
[22:07:48] *** Quits: erz (erz@moz-n26c5c.broadband.corbina.ru) (Quit: My Mac has gone to sleep. ZZZzzz…)
[22:07:58] <nrc> do you mean the long comment above the TODO or the short one below
[22:09:13] <arielb1> the long comment
[22:13:15] <nrc> arielb1: the point seems to me to point out some perhaps unexpected code, and it gives you something to google for to get more info
[22:13:15] <arielb1> just remove the todo?
[22:13:22] <nrc> I would
[22:13:39] <nrc> You could write more if you wanted, but I don't think its important enough to leave a FIXME in for
[22:13:54] <nrc> and we can't merge with the TODO in
[22:13:57] *** Quits: Rym (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[22:14:16] <arielb1> removed
[22:14:30] <nrc> ta
[22:16:45] *** Joins: mib_dkm2a8 (Mibbit@moz-juv.9o3.252.72.IP)
[22:17:11] <nrc> oh no, you introduced an indentation nit on the following line :-p
[22:17:47] <arielb1> it was there before
[22:18:48] <arielb1> anyway
[22:18:56] <nrc> ah, I must have not noticed, sorry
[22:19:06] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[22:19:18] <nrc> arielb1: the tests in that PR are awesome!
[22:19:34] <arielb1> nrc: I still didn't write enough the first time
[22:21:16] *** Joins: Rym (y@moz-o80acm.range86-189.btcentralplus.com)
[22:24:19] <arielb1> I think I need to add fixes #issue for all unsupported cast
[22:24:33] <arielb1> like I did with fresh-float
[22:27:56] *** Joins: cengizIO (textual@moz-8q7.e78.233.176.IP)
[22:28:24] <cengizIO> 1.0 1.0 1.0
[22:30:34] <steveklabnik> cengizIO: three more days!
[22:30:43] <cengizIO> no wai. 
[22:31:08] <cengizIO> it's on June 15th
[22:31:14] <cmr> May
[22:31:31] <cmr> see the link.
[22:32:36] *** Joins: swgillespie (swgillespie@moz-1i5.3un.220.167.IP)
[22:33:02] <kmc> choo choo
[22:33:05] <kmc> train's leaving the station
[22:33:19] *** Quits: laumann (thomas@moz-n9e72h.0.fullrate.dk) (Quit: leaving)
[22:33:20] <seanmonstar> error: internal compiler error: cannot relate bound region: ReScope(DestructionScope(33)) <= ReLateBound(DebruijnIndex { depth: 1 }, BrAnon(2))
[22:33:21] <seanmonstar> le sad
[22:33:51] <arielb1> seanmonstar: are you using Self in type annotations?
[22:34:09] <seanmonstar> arielb1: Self is no where in this file
[22:34:36] <arielb1> could you report?
[22:35:42] <seanmonstar> yep
[22:36:00] <seanmonstar> trying to see if i can make a playpen
[22:36:00] <zmike_> anyone around who can help me with some macro syntax?
[22:36:32] <zmike_> I have https://gist.github.com/zmike/d91d42659c7a47ab0f96 and am getting compile errors
[22:39:53] <cmr> zmike_: not allowed to do field access with an expression.
[22:40:10] <zmike_> cmr: how can I successfully rewrite this?
[22:40:19] <seanmonstar> zmike: use an ident
[22:40:23] <seanmonstar> $member:ident
[22:40:24] <cmr> zmike_: use $member:ident
[22:41:01] <zmike_> oh neat
[22:41:02] <zmike_> thanks!
[22:41:27] <zmike_> btw apparently if you use a macro like this to try and access a private struct member you get a compiler panic
[22:42:01] *** Quits: arielb1 (Ariel@moz-2trv48.red.bezeqint.net) (Quit: Ex-Chat)
[22:42:10] *** Joins: arielb1 (Ariel@moz-2trv48.red.bezeqint.net)
[22:42:13] <arielb1> nrc: ping
[22:42:22] <nrc> arielb1: pong
[22:42:29] <arielb1> any comments?
[22:42:36] <cmr> zmike_: could you open an issue for that?
[22:42:55] <nrc> arielb1: sorry, got distracted, DXR/Rust support just landed
[22:43:06] <zmike_> cmr: okay
[22:43:21] <nrc> arielb1: back to reviewing now
[22:45:01] <zmike_> cmr: should I @ anyone?
[22:45:57] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[22:46:12] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[22:46:43] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[22:46:50] <cengizIO> btw cmr: I was being snarky
[22:46:53] *** Quits: duesenfranz_ (jona@moz-711djm.tirol.surfer.at) (Ping timeout: 121 seconds)
[22:47:49] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[22:48:00] <arielb1> so many duplicates of gh18623
[22:48:00] <[o__o]> ICE: DefID [...] was matchable against Obligation [...] but now is not: https://github.com/rust-lang/rust/issues/18623
[22:48:24] <arielb1> and the fix is so small
[22:49:58] *** Joins: rkruppe_ (chatzilla@moz-3nj.rnu.131.95.IP)
[22:50:19] *** Joins: zmack (zmack@moz-j05.1kc.25.188.IP)
[22:52:05] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Ping timeout: 121 seconds)
[22:52:07] *** rkruppe_ is now known as rkruppe
[22:53:35] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[22:54:21] *** Quits: zmack (zmack@moz-j05.1kc.25.188.IP) (Ping timeout: 121 seconds)
[22:57:20] <eddyb> nmatsakis: #25387
[22:57:28] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[22:57:32] <eddyb> huh, isn't there supposed to be a...
[22:57:54] <eddyb> nmatsakis: (so sorry) gh25387
[22:57:55] <[o__o]> Abstract over the file loading mechanism in libsyntax's Parser.: https://github.com/rust-lang/rust/pull/25387
[22:57:58] <eddyb> there we bloody go
[22:58:11] *** Joins: njn_ (chatzilla@moz-6gdjm4.iinet.net.au)
[22:58:13] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[23:00:00] *** njn_ is now known as njn
[23:00:21] *** Quits: gsingh93 (gulshan@moz-qnbukr.mi.comcast.net) (Ping timeout: 121 seconds)
[23:00:59] *** Quits: arielb1 (Ariel@moz-2trv48.red.bezeqint.net) (Connection closed)
[23:01:02] *** Joins: bdero (bran@moz-216hqv.oo5r.e4su.0006.2601.IP)
[23:04:51] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[23:05:57] *** kimundi is now known as zz_kimundi
[23:07:25] *** Quits: Astrum|Lap (Astrum|Lap@moz-7enfbr.co.comcast.net) (Client exited)
[23:08:34] *** Quits: stl (stl@moz-h0r.qae.15.176.IP) (Ping timeout: 121 seconds)
[23:16:33] *** Quits: bvssvin (sven@moz-qqolj8.bb.online.no) (Ping timeout: 121 seconds)
[23:16:50] *** Joins: bvssvni (sven@moz-qqolj8.bb.online.no)
[23:18:12] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Ping timeout: 121 seconds)
[23:18:35] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[23:19:17] *** Joins: GBGamer (GBGamer@moz-92sbjt.wa.comcast.net)
[23:20:13] *** Quits: brson (brson@moz-cfhap5.mtv2.mozilla.com) (Quit: leaving)
[23:20:15] *** Joins: brson (brson@moz-cfhap5.mtv2.mozilla.com)
[23:20:19] *** Quits: annodomini (lambda@moz-hceqmj.hfc.comcastbusiness.net) (Client exited)
[23:21:19] *** Quits: brson (brson@moz-cfhap5.mtv2.mozilla.com) (Quit: leaving)
[23:21:22] *** Joins: brson (brson@moz-cfhap5.mtv2.mozilla.com)
[23:21:22] *** ChanServ sets mode: +o brson
[23:24:02] *** Joins: aatch (james@moz-ciignl.bmm3.j08e.e000.2406.IP)
[23:25:32] *** Quits: cengizIO (textual@moz-8q7.e78.233.176.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[23:27:19] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[23:27:47] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[23:28:15] <acrichto> brson: ping
[23:28:39] <brson> acrichto: pong
[23:28:46] <acrichto> brson: what shall we call the new msvc builders?
[23:28:50] <acrichto> with relation to the old mingw builder
[23:28:52] <acrichto> builders*
[23:29:11] <acrichto> maybe just win-gnu and win-msvc
[23:29:58] *** Quits: zxq9 (ceverett@moz-qsm369.mesh.ad.jp) (Quit: Konversation terminated!)
[23:30:16] <brson> acrichto: -gnu and -msvc sound good, yeah
[23:33:14] *** Quits: mib_dkm2a8 (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[23:35:30] *** Quits: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[23:36:12] *** nrc is now known as nrc|afk
[23:37:38] *** Quits: kmcguire_ (kmcguire@moz-pg1gb9.biz.rr.com) (Ping timeout: 121 seconds)
[23:41:55] *** Joins: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu)
[23:45:17] <brson> Eridius: I'll take two keybase invites if you have them
[23:45:44] <brson> does keybase work with a github org?
[23:46:05] <brson> can keybase associate github.com/rust-lang with both the release signing key and the security signing key?
[23:46:18] <brson> i don't want it to be a personal account
[23:46:44] <mcpherrin> brson: I have keybase invites
[23:47:03] <brson> mcpherrin: cool. I'll take 2
[23:47:23] <brson> well wait is the account assocated with my email?
[23:47:26] *** GBGamer is now known as Guest53605
[23:47:26] <brson> i don't want that
[23:47:34] *** Quits: Guest53605 (GBGamer@moz-92sbjt.wa.comcast.net) (Connection closed)
[23:47:46] *** Joins: GBGamer (npm@moz-92sbjt.wa.comcast.net)
[23:48:03] *** Joins: stl (stl@moz-861.rr7.15.176.IP)
[23:48:06] <brson> actually, i might as well have a personal keybase account as well
[23:48:08] <brson> i gpg hard
[23:48:11] <geofft> API implies an email is required https://keybase.io/docs/api/1.0/call/signup 
[23:48:26] <brson> maybe I should use admin@rust-lang.org?
[23:48:29] <brson> maybe i should research this
[23:48:34] <acrichto> brson: I'm hijacking your repo an taking over its msvc branch FYI
[23:48:46] <brson> acrichto: glhf
[23:48:56] <mcpherrin> brson: Tell me emails and I'll send them invites
[23:49:15] <brson> mcpherrin: one each to banderson@mozilla.com,admin@rust-lang.org
[23:49:19] <mcpherrin> done
[23:49:22] <brson> thanks
[23:49:37] *** Quits: killercup (killercup@moz-qj5qhi.dip0.t-ipconnect.de) (Quit: Bye)
[23:50:24] *** Joins: jgallagher (john@moz-6ge.dhn.131.24.IP)
[23:51:56] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[23:52:28] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[23:56:17] *** Quits: jdm (jdm@moz-0p6oj8.ckpj.s0pt.0450.2001.IP) (Quit: )
