[00:00:03] <Ke> strcat: the problem is that some software doesn't work propely, if you don't choose your fonts or themes
[00:00:09] <Ke> like Gnome for instance
[00:00:11] <strcat> and deliciously dull zenburn grey everywhere
[00:00:16] <speckle> don't use Gnome? :P
[00:00:31] <strcat> Ke: hmm?
[00:00:52] <Ke> Gnome has no problme with trying to use a non-exising themes
[00:00:56] <olsonjeffery> i was pretty wild into tiling WMs for a while
[00:00:57] <speckle> More and more, Gnome seems like the "alternative" option while XFCE/Mate/Cinnamon/KDE are the main ones.
[00:00:59] *** Quits: zol (Zolomon@moz-CE018D85.members.linode.com) (Ping timeout)
[00:00:59] <olsonjeffery> im in recovery
[00:01:02] <strcat> afaik gtk/gnome default to adwaita which is basically the only working gtk theme now ;p
[00:01:20] <strcat> olsonjeffery: I despise layout-based tiling.
[00:01:37] *** Joins: zol (Zolomon@moz-CE018D85.members.linode.com)
[00:01:44] <Ke> strcat: that's some sort of sysadmin sacred knowledge just like sysvinit documentation
[00:02:03] * strcat loves being able to tab/stack any set of windows and do arbitrary splits in the same vein as vim splits though
[00:02:13] <Ke> I'd love to just have hardcoded icons that would just be displayed
[00:02:14] <speckle> if I understand correctly, tiling WMs are built on top of a DE, rather than replacing one 
[00:02:24] <strcat> speckle: a DE is a set of applications
[00:02:40] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[00:02:46] <bvssvni> the interface in Unity 3D is cool
[00:02:47] *** Quits: io2 (io2@moz-34E8FDD4.home.otenet.gr) (Quit: )
[00:02:50] <Ke> DE provides some things more than applications, like logind session
[00:02:51] <strcat> most wms aren't really built on anything but xlib and/or xcb
[00:02:56] <Ke> dbus sessions
[00:03:09] <strcat> Ke: neither of those is really part of the DE
[00:03:18] <strcat> session dbus starts when something asks for it
[00:03:33] <strcat> pam gives you a login session
[00:03:46] <Ke> ok the counterpart that communicates with logind session
[00:03:48] <strcat> if you use systemd or upstart, the pam session becomes a logind session
[00:04:09] <strcat> Ke: gnome-session basically just spawns the wm and nautilus and restarts them if they die
[00:04:22] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[00:04:25] <Ke> and inhibits the power keys
[00:04:37] <strcat> that's probably gnome-settings-daemon
[00:04:57] <Ke> =o)
[00:05:16] <strcat> anyway you really miss nothing not using a DE
[00:05:18] <strcat> ;p
[00:05:40] <discomfitor> you miss out on being able to argue with other people about why your DE is better than theirs
[00:05:43] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Quit: )
[00:05:45] <strcat> drag-and-drop doesn't need it, desktop icons are just a file manager feature (it runs as a daemon) you can use elsewhere
[00:05:47] <Ke> besides icons in gnome software
[00:06:09] <strcat> Ke: works fine for me ;p, although I don't currently use any
[00:06:19] <Ke> though nowadays I have no way to see icons, so I just guess what the placeholders might be
[00:06:54] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[00:07:29] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[00:07:34] *** Quits: Ferreus (ferreus@moz-C699A158.pools.arcor-ip.net) (Quit: WeeChat 0.4.2)
[00:07:52] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[00:11:47] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[00:12:42] *** Joins: brson (brson@E88F5EC0.CA971BF7.BBC5804F.IP)
[00:12:42] *** ChanServ sets mode: +ao brson brson
[00:14:24] *** Quits: jviereck (Adium@moz-F5B17422.ethz.ch) (Quit: Leaving.)
[00:15:31] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[00:15:55] *** Quits: brson (brson@E88F5EC0.CA971BF7.BBC5804F.IP) (Ping timeout)
[00:16:21] <SiegeLord> Hmm... I can't link executables using rustc
[00:16:41] <SiegeLord> It's missing __cxa_begin_catch, etc
[00:16:52] <SiegeLord> undefined reference to `__gxx_personality_v0'
[00:17:11] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[00:19:11] *** Quits: gwty (gwtypc@9765A544.E5EF4F0B.27560D6E.IP) (Ping timeout)
[00:20:42] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[00:20:43] <jhasse> SiegeLord, Windows or Linux?
[00:20:49] <SiegeLord> Linux
[00:22:00] *** Quits: skade (skade@moz-A6601A7F.dip0.t-ipconnect.de) (Quit: Textual IRC Client: www.textualapp.com)
[00:22:23] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[00:23:33] *** Joins: ianj (ianjneu@moz-7BA002E.hsd1.ma.comcast.net)
[00:24:47] *** Joins: sebcrozet (sebcrozet@moz-87D51607.w80-13.abo.wanadoo.fr)
[00:25:52] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[00:26:38] *** Joins: alan_andrade (alan_andra@11ED57E0.8C5D18C8.88E925D5.IP)
[00:27:53] *** Quits: maxiepoo (Max@moz-D66F3D4E.atvci.net) (Quit: maxiepoo)
[00:28:10] *** Quits: sebcrozet (sebcrozet@moz-87D51607.w80-13.abo.wanadoo.fr) (Client exited)
[00:28:46] <SiegeLord> Here's the full error: http://pastebin.ca/2517949
[00:28:57] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[00:30:42] <SiegeLord> Notably... somehow the build system did build the compiler...
[00:32:25] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[00:36:32] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[00:37:09] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[00:37:22] <wycats_> hey guys
[00:37:34] <wycats_> is there a way to go from ~T to &mut T?
[00:37:45] <kimundi> sure
[00:38:05] <kimundi> store the ~T somewhere mutable, and you can borrow a &mut T from it
[00:38:16] <wycats_> say more
[00:38:18] <FreeFull> I think it's easy to go from ~ to &mut but not vice versa
[00:38:18] <wycats_> what's the syntax?
[00:38:42] <FreeFull> rusti: let x : ~u8 = 3; x
[00:38:47] -rusti- pastebinned 7 lines of output: http://ix.io/9wJ
[00:38:50] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[00:38:53] <kimundi> let mut x = ~5; let y = &mut *x;
[00:39:01] <FreeFull> rusti: let x : ~u8 = &3; *x
[00:39:04] -rusti- pastebinned 7 lines of output: http://ix.io/9wK
[00:39:23] <wycats_> hmmm
[00:39:27] <wycats_> https://www.irccloud.com/pastebin/vIEyPhTV
[00:39:36] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[00:39:38] *** Joins: maxiepoo (Max@moz-D66F3D4E.atvci.net)
[00:39:46] <wycats_> counter is an ~OutputCounter
[00:39:52] <wycats_> OutputCounter implements OutputStream
[00:40:01] <wycats_> and I want to go from counter to a &mut OutputStream
[00:40:02] <kimundi> rusti: let mut x = ~5; fn add(x: &mut int) { *x += 100; } add(x); x
[00:40:02] -rusti- ~105
[00:40:43] *** Joins: ptc (Adium@moz-70022D61.hsd1.ma.comcast.net)
[00:40:47] <SiegeLord> Let me try compiling from a clean directory I guess...
[00:40:53] <FreeFull> Hmm
[00:40:56] <FreeFull> error: cannot borrow immutable dereference of ~ pointer as mutable
[00:41:05] <kimundi> ~OutputCounter -> &mut OutputCounter as &mut OutputStream
[00:41:12] <wycats_> seems like once I * it creates an immutable dereference
[00:41:26] <kimundi> wycats_: where do you put the * ?
[00:41:29] <FreeFull> Seems like going from immutable to mutable isn't that easy
[00:41:39] <wycats_> if I leave out the *, I get:
[00:41:42] <kimundi> its impoosible for references
[00:41:44] <wycats_> https://www.irccloud.com/pastebin/WwFwbAN9
[00:41:50] *** Quits: maxiepoo (Max@moz-D66F3D4E.atvci.net) (Quit: maxiepoo)
[00:42:00] <wycats_> I have let counter = ~OutputCounter::new() above
[00:42:03] <FreeFull> You probably have to clone for that
[00:42:10] <wycats_> and what I'm trying to do is go to a mutable borrow
[00:42:13] <wycats_> I don't want to clone
[00:42:21] <wycats_> nor does it seem like I should have to
[00:42:21] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[00:42:23] *** Quits: ptc (Adium@moz-70022D61.hsd1.ma.comcast.net) (Ping timeout)
[00:42:28] <FreeFull> Yeah, with clone you can go from immutable to mutable
[00:42:29] <kimundi> no, no clone
[00:42:40] <wycats_> should I be defining the original variable as mutable?
[00:42:41] <FreeFull> mutable to mutable works without clone
[00:42:42] <wycats_> is that the issue?
[00:42:45] *** Joins: dodj (Mibbit@moz-2DFDD4BD.range31-54.btcentralplus.com)
[00:42:46] <wycats_> wait
[00:42:47] <wycats_> I am
[00:42:53] <wycats_> let mut counter = ~OutputCounter::new()
[00:42:58] <wycats_> so I totally have a mutable counter
[00:43:04] <kimundi> wycats_: Your problem is that you try to create a &mut _to_ a immutable ~T
[00:43:05] <wycats_> now all I want is a mutable borrowed counter
[00:43:15] <wycats_> I don't have an immutable ~T
[00:43:19] <wycats_> I have a mutable T
[00:43:21] <wycats_> lemme gist
[00:43:38] <FreeFull> wycats_: Then you can just dereference and &mut and it should work
[00:43:40] <kimundi> wycats_: sure, now you create a &mut to a muitable ~T, but not a &mut to a mutable T 
[00:43:47] *** Joins: ercxx (ercan@moz-5B55241D.dyn.optonline.net)
[00:43:51] <wycats_> https://gist.github.com/anonymous/8140866#file-annotation-rs-L41-L42
[00:43:52] <kimundi> what FreeFull said
[00:44:12] <wycats_> what should I be typing on line 42?
[00:44:26] <dodj> I have a question: why does code suddenly work when you bring a random trait into scope: for example you need to do `use std::rand::Rng` before you can use a random number generator to generate numbers?
[00:44:44] <wycats_> dodj: because traits have to be in scope in order for them to be used in Rust
[00:44:44] <kimundi> let counter_stream = &mut *counter as &mut OutputStream;
[00:44:48] <ercxx> do we have default values in structs?
[00:44:51] <wycats_> kimundi: I tried that
[00:45:06] <FreeFull> With the dereference?
[00:45:10] <wycats_> https://www.irccloud.com/pastebin/0sL5oaSP
[00:45:11] <kimundi> wycats_: okay, then the soultion is still the same approach, but with different syntax
[00:45:24] <wycats_> *counter is creating an immutable dereference
[00:45:33] <wycats_> so it's too late to add the &mut on top
[00:45:37] *** Joins: victorporof (victorporo@AFD25FB8.16D3B2F1.79933D60.IP)
[00:45:37] <dodj> what if you want to keep things tidy (for example if I had something else called Rng)
[00:45:59] <kimundi> let mut conter_ref: &mut OutputCounter = counter; let counter_stream = counter_ref as &mut OutputStream;
[00:46:44] <FreeFull> rusti: let mut x = ~3u8; let y = &mut *x; *y
[00:46:45] -rusti- 3u8
[00:46:49] <dodj> @wycats_ what if you want to keep things tidy (for example if I had something else called Rng)
[00:46:50] <FreeFull> wycats_: See, it works
[00:46:52] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[00:47:02] <wycats_> kimundi: seems to have worked
[00:47:06] <wycats_> seems like a lot of lines of code
[00:47:16] <FreeFull> rusti: let mut x = ~3u8; let y = &mut *x; *y += 100
[00:47:16] -rusti- ()
[00:47:18] <wycats_> I also don't really undestand what I did
[00:47:19] <FreeFull> rusti: let mut x = ~3u8; let y = &mut *x; *y += 100; y
[00:47:20] <wycats_> which seems bad
[00:47:22] -rusti- pastebinned 18 lines of output: http://ix.io/9wN
[00:47:23] <FreeFull> rusti: let mut x = ~3u8; let y = &mut *x; *y += 100; *y
[00:47:23] -rusti- 103u8
[00:47:25] <wycats_> I have not been taught to fish
[00:47:38] *** Joins: locks (sid130@moz-5F4AA75A.irccloud.com)
[00:47:54] <FreeFull> Of course, *x got modified as well there
[00:48:08] <wycats_> why did that line work?
[00:48:22] <wycats_> the new middle line is basically creating a new mutable loan?
[00:48:28] <kimundi> wycats_: My last code example uses pointer _coercion_ to get the desired result, instead of lvalue dereference - both should work, but they are different code paths, and the are a few holes here and there in expressibility
[00:49:12] <wycats_> kimundi: I would have expected there to be some way to just explicitly say "give me a mutable loan from this mutable ~T"
[00:49:19] <wycats_> but I guess there's no explicit way to do that?
[00:49:25] <kimundi> wycats_: there is
[00:49:35] <kimundi> wycats_: &mut* is the way it should work
[00:49:40] <wycats_> but it's broken?
[00:49:43] <wycats_> I found a #bug?
[00:49:51] <FreeFull> It worked when I gave it to rusti
[00:49:55] <kimundi> apparently, but FreeFull seems to show you that it works :P
[00:49:55] <wycats_> O_O
[00:49:59] <wycats_> well
[00:50:26] <wycats_> so I have a ~T
[00:50:29] <ziad> rusti: let mut x = ~3u8; let y = &mut *x; *y += 100; *y; *x
[00:50:30] -rusti- 103u8
[00:50:37] <ziad> rusti: let mut x = ~3u8; let y = &mut *x; *y += 100; *x
[00:50:38] -rusti- 103u8
[00:50:55] <wycats_> honestly I'm not having the best luck trying to go from what you guys are passing to rusti to my situation
[00:50:56] <FreeFull> *y; is a no-op
[00:50:59] <wycats_> which probably makes me an idiot
[00:51:08] <ziad> FreeFull, yep
[00:51:11] <wycats_> but can we stick with my situation?
[00:51:17] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[00:51:22] <wycats_> and you can tell me what I'm allegedly supposed to be allowed to type?
[00:51:22] <kimundi> rusti: let mut x = ~~"foo"; let mut z = &mut*x; z.push("123"); println(*z);
[00:51:26] -rusti- pastebinned 7 lines of output: http://ix.io/9wO
[00:51:47] <wycats_> so I have a line that does let mut counter = ~OutputCounter::new()
[00:51:47] <FreeFull> wycats_: Your line 42 should work if you just add a * after the first &mut
[00:51:56] <wycats_> ok let me try it
[00:51:56] *** Joins: japaric (japaric@3CF63461.A11F2DDE.5C7588CA.IP)
[00:52:38] <wycats_> so this is the result (as before)
[00:52:42] <wycats_> https://www.irccloud.com/pastebin/k6mIMKwO
[00:52:43] <kimundi> wycats_: Well, I'm currently trying to figure out if FreeFull's examples should work in general, or only work for not-moving values like integers. Depending on wether that makes a difference, it might make  a differnt for your usecase too :P
[00:52:51] *** Joins: jviereck (Adium@moz-478E2D0F.dip0.t-ipconnect.de)
[00:53:03] <wycats_> fwiw: I'm having a shitty pain day today
[00:53:10] <wycats_> so forgive me if I'm cranky
[00:53:18] <wycats_> and yeah, I know that may be too much information
[00:53:26] <FreeFull> kimundi: Good point
[00:53:34] <FreeFull> It might be behaving specially for integers and such
[00:53:39] <wycats_> so the error I'm getting is "cannot borrow immutable dereference of ~ pointer as mutable"
[00:53:48] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[00:53:50] <wycats_> which seems to imply that *counter is making an immutable dereference
[00:54:02] <wycats_> in other words, it's too late for me to try to get it back as mutable
[00:54:09] <kimundi> is counter in a let mut ?
[00:54:13] <wycats_> yep
[00:54:19] <wycats_> https://gist.github.com/anonymous/8140866#file-annotation-rs-L41
[00:54:41] <FreeFull> What if you remove the as part?
[00:54:58] <kimundi> okay, then the problem might be that the derefernce unwraps the value from the ~ box
[00:55:25] <FreeFull> I wonder why it worked for integers
[00:55:39] <wycats_> hold on I have a couple of places of similar code
[00:55:46] <wycats_> lemme make sure I'm always looking at the same place
[00:55:53] <kimundi> FreeFull: The dereference copies the integer, and the &mut creates a temporary with that integer value
[00:55:58] <FreeFull> rusti: let mut x = ~Some(3); let y = &mut *x; *y
[00:55:59] -rusti- Some(3)
[00:56:14] <kimundi> thats still not moving
[00:56:30] <FreeFull> kimundi: Yeah, but modifying the integer using the &mut modified the original integer too
[00:56:46] <kimundi> it does?
[00:56:50] <FreeFull> Yeah
[00:57:00] <wycats_> ok
[00:57:10] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[00:57:18] <wycats_> so it looks like it was a combination of earlier issues and me being an idiot
[00:57:20] <FreeFull> rusti: let mut x = ~3; let y = &mut *x; *y += 30; *X
[00:57:21] <FreeFull> rusti: let mut x = ~3; let y = &mut *x; *y += 30; *x
[00:57:22] -rusti- pastebinned 7 lines of output: http://ix.io/9wP
[00:57:22] -rusti- 33
[00:57:25] <wycats_> I had two files with the same basic code
[00:57:28] <FreeFull> kimundi: See
[00:57:32] <wycats_> and I needed to wrap the code in a scope
[00:57:39] <wycats_> to avoid the borrowing from causing issues lower down
[00:57:49] <wycats_> hopefully I'll have everything working in 15 minutes and can post-mortem
[00:58:04] <kimundi> rusti: let mut x = ~~"owned"; let mut y = &mut *x; y.push("123"); println(y.to_str());
[00:58:06] -rusti- pastebinned 7 lines of output: http://ix.io/9wQ
[00:58:22] <wycats_> tl;dr the stuff you guys were saying ended up being true
[00:58:23] <wycats_> another question
[00:58:26] <wycats_> if I have a struct
[00:58:28] <wycats_> with a uint field
[00:58:36] <wycats_> and I want to look at it without moving it out
[00:58:44] <wycats_> (and it's `self` in a method)
[00:58:46] <kimundi> rusti: let mut x = ~~"owned"; let mut y = &mut *x; y.push_str("123"); println(y.to_str());
[00:58:47] -rusti- out.rs:9:39: 9:40 warning: variable does not need to be mutable, #[warn(unused_mut)] on by default
[00:58:47] -rusti- out.rs:9         let mut x = ~~"owned"; let mut y = &mut *x; y.push_str("123"); println(y.to_str());
[00:58:47] -rusti-                                                 ^
[00:58:47] -rusti- owned123
[00:58:47] -rusti- ()
[00:58:49] <wycats_> can I just do self.byte_count?
[00:58:55] <wycats_> it looks like it's getting moved out
[00:58:59] <kimundi> rusti: let mut x = ~~"owned"; let y = &mut *x; y.push_str("123"); println(y.to_str());
[00:58:59] <wycats_> but I would have expected it to get copied
[00:59:00] -rusti- owned123
[00:59:00] -rusti- ()
[00:59:08] <kimundi> okay, moving works too
[00:59:18] <wycats_> sorry for being cranky ;)
[00:59:45] <kimundi> in this case, forget what I said, the &mut* should get applied as a unit, and get you a &mut T to the T in a mutable ~T :P
[00:59:48] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[00:59:58] <wycats_> hm how can self be moved
[01:00:09] <FreeFull> kimundi: He's got a different question now
[01:00:17] <FreeFull> rusti: let mut x = ~~"owned"; let y = &mut *x; y.push_str("123"); println(x.to_str());
[01:00:18] <kimundi> ah, sorry
[01:00:19] -rusti- pastebinned 10 lines of output: http://ix.io/9wR
[01:00:27] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[01:00:30] <wycats_> https://gist.github.com/anonymous/8140984#file-output_counter-rs-L29
[01:00:37] <wycats_> so the error I'm getting here is
[01:00:45] <wycats_> https://www.irccloud.com/pastebin/R1TKzZTx
[01:00:50] <wycats_> but not sure how I moved self
[01:00:58] <wycats_> it's &mut so it shouldn't be movable... ?
[01:01:54] <FreeFull> I think what it says is that self already got moved before that
[01:02:12] <FreeFull> Hmm
[01:02:13] <kimundi> well, your using self before that, but thats indeed a strange error message
[01:02:28] <kimundi> what happens if you comment out the write_to_buffer calll?
[01:02:53] <wycats_> then the error goes away
[01:03:04] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[01:03:09] <dodj> I'd just like to say: I really enjoy writing code in rust - can write concise precise efficient beautiful code. It's just hard when there's no huge stackoverflow collection of all the questions you might ever be interested in. I'm sure once the language has settled down the tutorial will get polished - until then be patient with us! :)
[01:03:25] <wycats_> but how can that call have moved?!
[01:03:25] <kimundi> wycats_: the self value is not movable from a &mut, but the &mut T _itself_ is a moving type, as there can only be ever one mutable reference
[01:03:27] <speckle> on the other hand, it's very nice how active this channel is, dodj :)
[01:03:46] <kimundi> wycats_: whats the definition of the method?
[01:03:53] <wycats_> which method?
[01:03:53] <dodj> speckle: I don't like to bother ppl :)
[01:03:54] *** Joins: sebcrozet (sebcrozet@moz-D8879CC3.w80-13.abo.wanadoo.fr)
[01:03:58] <wycats_> fn write_to
[01:04:11] <wycats_> fn write_to_buffer(&self, output: &OutputStream)
[01:04:17] <wycats_> dodj: you have no choice with Rust
[01:04:18] <bvssvni> whycats_: check if '.write_tag_and_wire_type' uses an owned pointer
[01:04:31] <kimundi> wycats_: The traitpointer cast might count as a cast, as you take the existing &mut, and turn it into something else, a &mut Trait. Then the original value becomes invalid of course
[01:04:43] <wycats_> kimundi: come again
[01:04:45] *** bstrie_vacation is now known as whycats_
[01:04:58] <kimundi> lol bstrie
[01:05:14] <wycats_> is there any way I could avoid invalidating it?
[01:05:18] <wycats_> maybe by scoping the &mut?
[01:05:22] <wycats_> the cast*
[01:05:26] <kimundi> yes, try scoping
[01:05:38] *** Joins: heftig_ (heftig@moz-ED5586A1.dip0.t-ipconnect.de)
[01:05:59] <wycats_> hm no
[01:06:00] <wycats_> lemme show you
[01:06:04] <wycats_> but it didn't seem to work
[01:06:09] *** Joins: mixi (mixi@moz-DBD8904A.org)
[01:06:14] <kimundi> a nice {} pair around the write_to_buffer call?
[01:06:31] <wycats_> https://gist.github.com/anonymous/8141034#file-output_counter-rs-L29-L32
[01:06:31] *** Quits: heftig (heftig@moz-27707365.dip0.t-ipconnect.de) (Ping timeout)
[01:06:41] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[01:06:46] <wycats_> line 29
[01:06:53] <kimundi> hm
[01:07:05] <wycats_> still getting this on line 34:
[01:07:08] <wycats_> https://www.irccloud.com/pastebin/gDQmQuKg
[01:07:24] <FreeFull> The pains of memory safety without a package manager
[01:07:34] <kimundi> doesnt it print a Note of where it got moved from?
[01:07:50] <wycats_> https://www.irccloud.com/pastebin/4OL0QPvX
[01:08:09] <FreeFull> What
[01:08:13] <FreeFull> Why did I write package manager
[01:08:22] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[01:08:32] <FreeFull> I wanted to write garbage collection
[01:08:40] <wycats_> so this is weird kimundi 
[01:08:55] <FreeFull> I think I really need sleep
[01:08:56] <wycats_> I'm just trying to cast it to the trait so I can pass it along as a borrowed
[01:08:58] <kimundi> wycats_: Okay, the culprit is still the trait object cast - it counts as a move. hm...
[01:09:03] *** Quits: sk (sk@61A494B3.BA40E8A.AAC02D62.IP) (Quit: Leaving)
[01:09:37] <kimundi> this starts to look like something to bug nmatsakis about
[01:09:41] <kimundi> nmatsakis: ping :P
[01:09:42] <wycats_> ugh
[01:09:50] *** Quits: sebcrozet (sebcrozet@moz-D8879CC3.w80-13.abo.wanadoo.fr) (Ping timeout)
[01:09:54] <wycats_> just when I was starting to feel really warm and fuzzy
[01:10:02] <speckle> FreeFull, I am fueled by the hate of the garbage collector. It keeps me strong :)
[01:10:41] <FreeFull> speckle: Is it really that bad when writing desktop software?
[01:10:46] *** Joins: sebcrozet (sebcrozet@moz-2517AE39.w80-13.abo.wanadoo.fr)
[01:10:51] <kimundi> No idea how to proceed here - the problem I think is that the trait object cast does not count as a borrow, so it doesn't get reverted by a scope ending
[01:11:16] <wycats_> it feels crazy that a "trait object cast" counts as a move at all
[01:11:19] <wycats_> where is the move?
[01:11:20] <speckle> FreeFull, it's not *that* bad, no
[01:11:44] *** Quits: jviereck (Adium@moz-478E2D0F.dip0.t-ipconnect.de) (Quit: Leaving.)
[01:11:45] <kimundi> wycats_: You take the moving value &mut T and turn it into a moving value &mut Trait
[01:12:06] <wycats_> huh?
[01:12:06] <FreeFull> Haskell is the language that made me see garbage collection isn't that bad
[01:12:09] <kimundi> there is only one &mut before and after
[01:12:47] <kimundi> In other words, it would be memory unsafe to keep the &mut T around while also getting a &mut Trait
[01:12:54] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[01:13:01] <wycats_> I'm willing to do something to keep them separated
[01:13:07] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[01:13:25] <wycats_> I can temporarily give up the &mut self
[01:13:30] <wycats_> why doesn't the scope let me do that?
[01:13:38] <wycats_> can I cast it back?
[01:13:56] <kimundi> because apparently the borrow checker is not smart enough to see a trait object cast as a scoped borrow
[01:13:59] <wycats_> let selfy = stream as &mut OutputCounter?
[01:14:19] <kimundi> wycats_: Nor safely, as a trait object cast is a one way ticket
[01:14:35] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[01:14:45] <wycats_> kimundi: soooo
[01:14:48] <wycats_> where does that leave me?
[01:15:14] <kimundi> wycats_: Now, if you use a unsafe block you could just copy the &mut T, make the trait object cast, use it, and then let it go out of scope
[01:15:44] <wycats_> should I do that?
[01:16:01] <kimundi> I'm fuzzy on the details, but it should be safe as long as you don't actually use the original &mut during the &mut Trait alias
[01:16:07] <kimundi> No idea
[01:16:16] <kimundi> Need to get nmatsakis to answer :P
[01:16:25] <FreeFull> Write a comment explaining why the unsafe block is there
[01:16:37] <wycats_> kimundi: can you show me what exactly the unsafe block lookslike?
[01:16:43] <kimundi> Maybe even encapsulate it in a seperate function
[01:16:44] <bvssvni> wycats_: can you redefine 'write_nested' to work on OutputStream? Just throwing an idea.
[01:16:57] <wycats_> bvssvni: sadly no
[01:17:06] <wycats_> bvssvni: the whole reason for traits here is that I need the polymorphism here
[01:17:39] <bvssvni> wycats_: I think the problem is interesting, pls post something if you solve it.
[01:18:07] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[01:18:14] <wycats_> heh
[01:18:27] <wycats_> more likely I'll just take the week off and cry into my pillow about Rust ;)
[01:18:28] *** Joins: rgawdzik (chatzilla@moz-92BBC7AC.dsl.bell.ca)
[01:18:59] <wycats_> nmatsakis: ping
[01:19:34] <wycats_> kimundi: if you can show me the specifics of the unsafe block, I'll buy you a beer next time I see you, write a good comment, and make sure this gets handled in rust proper
[01:19:42] *** Quits: jhasse (jhass_000@moz-A95AC8A7.ewe-ip-backbone.de) (Quit: Verlassend)
[01:20:04] <kimundi> wycats_: Sec, I have one last idea how to solve it without a unsafe block
[01:20:09] <wycats_> kimundi: :D
[01:20:13] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Client exited)
[01:20:35] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[01:20:45] *** Quits: sebcrozet (sebcrozet@moz-2517AE39.w80-13.abo.wanadoo.fr) (Client exited)
[01:21:19] <dodj> if I have a function using type <T: Zero> and I want to call the static method zero(), how do I do this?
[01:21:22] <kimundi> wycats_: Okay, I moved the stuff we tried eralier into a seperate function: https://gist.github.com/Kimundi/8141115
[01:21:26] <kimundi> try that
[01:21:34] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[01:21:44] <kimundi> er,, change msg to message in the argument list
[01:22:13] <bvssvni> dodj: let a: T = Zero::zero();
[01:22:17] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Ping timeout)
[01:22:37] <dodj> bvssvni: Awesome: I think this should be in the tutorial
[01:22:53] <wycats_> you mean self.write_message right?
[01:23:00] <kimundi> no
[01:23:02] <wycats_> or move write_message out
[01:23:07] <wycats_> you have it in the impl
[01:23:12] <kimundi> oh, yeah
[01:23:14] <kimundi> move it out
[01:23:42] <kimundi> did't bother to read the outside code blocks :P
[01:24:26] <wycats_> it worked
[01:24:31] <kimundi> yay
[01:24:31] <wycats_> tell me why!
[01:24:32] <kimundi> Okay
[01:24:44] <kimundi> Basically, it is a bug
[01:25:16] <kimundi> If you put all in the same function, the borrow, and got confused with the trait object cast checker knows to much over the values in it
[01:25:32] <wycats_> how an english is performed
[01:25:37] <wycats_> my human parser could not read that sentence
[01:25:37] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[01:25:42] <wycats_> perhaps it is the pain
[01:25:45] <kimundi> sorry :)
[01:26:23] <kimundi> When you had put the trait object cast inline with the rest of the code, the borrow checker got confused with something that should be legal to do
[01:26:45] <wycats_> seems legit
[01:26:52] <wycats_> let me guess: "seems important, but not for 1.0"
[01:26:53] <wycats_> ;)
[01:26:59] <wycats_> that's basically all the tickets I care about ;)
[01:27:03] <kimundi> that is, temporary cast to the trait object, and getting the original mutable reference back after the scope of that expired
[01:27:24] <wycats_> since 1.0 will get shipped somewhere in 2016 or 2017 (:P), that makes me a sad panda
[01:27:40] <wycats_> kimundi: it seems weird that it could be fixed by moving it into a separate method but not a separate scope
[01:27:53] <kimundi> wycats_: Actually, it wpouldn't wonder me if this is a bug that nmatsakis can squash quickly :P
[01:28:02] <wycats_> hm would be nice :)
[01:28:06] <wycats_> I'm glad it worked without unsafe
[01:28:10] <wycats_> was making me queasy
[01:28:27] <kimundi> wycats_: The reason is that the seperate method call acts as a border for the borrow checker
[01:28:34] <kimundi> err, function call
[01:29:22] <kimundi> with the call, the borrow checker basically says "oh, this wants a &mut T, no problem, it gets it for the call, and afterwards we can use it again"
[01:29:52] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[01:30:21] <kimundi> It should arrive at the same conclusion without a seperate function, but - bugs :P
[01:30:45] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[01:31:28] <kimundi> Anyway, if you could make a reduced testcase of this bug and open an Issue, that would be nice
[01:32:07] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[01:32:13] <bvssvni> whycats_: try inline it!
[01:32:28] *** Quits: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl) (Client exited)
[01:33:17] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[01:34:17] *** Quits: smodo (tadnr@moz-6398EFDF.dclient.hispeed.ch) (Ping timeout)
[01:34:38] <speckle> hmm, how sane does it sound to build a widget toolkit on top of Rust's SDL2 bindings?
[01:35:01] <bvssvni> speckle: I have some thoughts about it
[01:35:11] *** Quits: zq (p@moz-4C4640FD.com) (Ping timeout)
[01:35:24] <bvssvni> speckle: the way Unity 3D does it  looks simple
[01:35:52] <speckle> unity 3d? okay, I'll look at what they do, thanks
[01:35:55] <bvssvni> speckle: Unity 3D calls the same function for rendering and for event handling
[01:36:06] *** Joins: zq (p@moz-4C4640FD.com)
[01:36:25] <bvssvni> speckle: pls tell me if you start something, would like to contribute
[01:36:58] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[01:37:41] <speckle> okay, bvssvni
[01:37:57] <speckle> as much as I want to use Rust, I think it's more realistic to use Python+Tkinter for my current project, and switch to Rust for my next one.  Hopefully the libraries will more mature then :P
[01:38:27] <bvssvni> :)
[01:38:40] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[01:39:16] *** Quits: Yurumechan (23f9939a@B2F514.E4420F21.EEF52F3A.IP) (Ping timeout)
[01:39:59] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[01:41:06] *** Joins: ptc (Adium@moz-70022D61.hsd1.ma.comcast.net)
[01:41:59] *** Joins: mib_6jpl58 (Mibbit@moz-F9ECE706.dyn.optonline.net)
[01:42:11] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[01:42:28] <wycats_> kimundi: I can try to put it together later but honestly I can barely think clearly atm
[01:42:40] <wycats_> if you ping me in a few hours I can try
[01:42:46] *** Quits: ptc (Adium@moz-70022D61.hsd1.ma.comcast.net) (Ping timeout)
[01:42:54] <wycats_> and I suspect that you could more easily do a reduced case than I can anyway
[01:43:05] <wycats_> but I'll do anything I can
[01:43:06] <kimundi> hah, It's almost 3 AM here, in a few hours I'm planning to be sound asleep :P
[01:43:30] <kimundi> Otherwise I would indeed be working on a testcase right now :P
[01:43:45] <kimundi> Lets see if I remember it tommorow
[01:43:51] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[01:47:12] <wycats_> kimundi: cool
[01:48:08] *** Joins: zmthy (Tim@moz-1D8B7413.dsl.dyn.ihug.co.nz)
[01:48:16] <wycats_> kimundi: thanks
[01:48:19] <wycats_> you saved my day
[01:48:22] <wycats_> and week actuall
[01:48:43] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[01:49:05] *** Joins: Yurumechan (23f9939a@B2F514.E4420F21.EEF52F3A.IP)
[01:49:19] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.2)
[01:49:25] <dodj> Is there a way to use template types in match branches?
[01:50:12] <wycats_> oh... earlier I had an issue that I ended up solving via let ann = &**annotation as &Message
[01:50:17] <wycats_> seems ... not good right?
[01:50:21] <kimundi> dodj: Considering that we don't have templates, I'd guess the answer is no :P
[01:50:32] <wycats_> I was iterating over for annotation in self.annotations.iter()
[01:50:35] <benh> don't nitpick >:[
[01:50:42] <wycats_> self.annotations is ~[~Annotation]
[01:50:45] *** Quits: Earnestly (earnest@88884C6.A3735F9C.39C00A7A.IP) (Ping timeout)
[01:50:52] <wycats_> and I had a method that takes a &Message
[01:50:59] <speckle> *will* Rust have templates? :)
[01:50:59] <wycats_> where Annotation implements Message
[01:51:03] <kimundi> It's not a nitpick I honestly don't know what he mean! :U
[01:51:12] <wycats_> seemed crazy that I needed to &**annotation
[01:51:15] <benh> wycats_: Maybe you really wanted a method that takes &T where T: Message?
[01:51:16] *** Joins: z0w0 (zack@moz-356923D4.lnse4.woo.bigpond.net.au)
[01:51:16] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[01:51:35] <wycats_> <T: Message>(message: &T) ?
[01:51:39] <benh> yeah
[01:51:44] <wycats_> hm
[01:51:46] <kimundi> dodj: What do you mean?
[01:51:49] <benh> eg. doing the static polymorphism thing instead of runtime polymorphism with boxed trait objects and virtual methods
[01:52:14] <dodj> kimundi: I'll go a just
[01:52:20] <dodj> *gist
[01:52:21] <wycats_> benh: why would that work?
[01:53:05] <kimundi> wycats_: why wouldn't it?
[01:53:14] <wycats_> why would that improve the situation
[01:53:22] <benh> wycats_: I'm not 100% sure what the problem is but it would save you "as" bit
[01:53:29] <benh> you might still need to adjust the level of indirection
[01:53:31] <kimundi> It would be faster and you wouldn't need to cast as much :P
[01:53:55] <benh> who knows what is faster :P
[01:53:58] <wycats_> heh
[01:54:07] <wycats_> https://www.irccloud.com/pastebin/oTV04WIx
[01:54:15] <kimundi> static dispatch > dynamic dispatch
[01:54:16] <dodj> kimundi: here's a gist https://gist.github.com/derekdreery/8141373, I'm trying to write a very generic dot product to practice with generics
[01:54:20] <wycats_> the implementation of write_nested is
[01:54:36] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[01:54:42] <wycats_> fn write_nested<I: Message>(&mut self, field: uint, message: &I)
[01:54:52] <dodj> https://gist.github.com/derekdreery/8141373 - the comma is included in the link :(
[01:55:08] <benh> And self is already a tait object? hmmm
[01:55:11] <benh> trait*
[01:55:13] <wycats_> confirm
[01:55:21] <wycats_> pub trait OutputStream
[01:55:38] <kimundi> dodj: Okay, got it. what do you want to do?
[01:55:41] <wycats_> https://gist.github.com/8141396
[01:55:51] <wycats_> https://gist.github.com/anonymous/8141396#file-output_stream-rs-L7
[01:56:09] <benh> mhm, but at the call site
[01:56:15] <dodj> kimundi: the gist currently doesn't compile - it says i cannot use something of type T in a match branch
[01:56:18] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[01:56:22] <benh> maybe there too you want... T_ with T_: OutputStream instead of plain OutputStream
[01:56:39] <wycats_> callsite: 
[01:56:40] <wycats_> https://gist.github.com/anonymous/8141404#file-annotation-rs-L92
[01:57:04] <wycats_> output: &mut OutputStream
[01:57:08] <wycats_> you're saying to make that generic too
[01:57:10] <wycats_> lemme try
[01:57:14] <benh> fn write_to_buffer<O: OutputStream>(&self, output: &O) is what I'm thinking
[01:57:22] <benh> but I'm losing confidence that that improves the design overall ;)
[01:57:49] <wycats_> https://www.irccloud.com/pastebin/waYblivG
[01:57:57] <benh> I wasn't really conscious of the fact that you can't call generic methods on boxed objects, so making methods generic actually reduces composability sometimes...?
[01:57:59] <wycats_> I'm more generally interested in why I needed &**
[01:58:02] <kimundi> dodj: I don't know ofg any restriction with generic types in match arms - could you post the actual error?
[01:58:06] <wycats_> I'm happy to continue to go down this path
[01:58:40] <kimundi> btw, what you wrote there is a manual desugaring of the for loop, any reason why you're not suing it directly? :)
[01:58:56] <benh> basically you'd need to thread the compile-time knowledge of the concrete type that is implementing the OutputStream trait all the way through the call stack here
[01:58:59] <dodj> kimundi: hello.rs:20:27: 20:30 error: the type of this value must be known in this context hello.rs:20 			Some((u, v)) => { acc = acc + *u * *v }
[01:59:15] <kimundi> ah
[01:59:25] <benh> which of course means your API won't work for situations where you make use of trait-objecty runtime polymorphism :/
[01:59:42] <kimundi> That has nothing todo with the match arm, but instead with inference of the acc variable
[02:00:05] <kimundi> change line 3 to let mut acc: T = zero::zero() and it should work
[02:00:08] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[02:00:38] <dodj> kimundi: already guessed the solution from your first comment ;) thanks very much - rust is hard!
[02:01:02] <kimundi> The problem I think is that "acc = acc + *u * *v" offers one or more generic possibilities,a nd the inferer can't figure out that you just want the same type T
[02:01:33] *** Quits: Krymise (Nietzsche@moz-CA789EF5.nwrknj.fios.verizon.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[02:01:41] <dodj> kimundi: I love that you can write such generic code - it seems a lot more powerful than c++
[02:02:02] <kimundi> He, C++ is more powerful still, but rusts generics are easier to reason about
[02:02:29] <dodj> c++ generics make my head hurt
[02:02:37] <benh> but anyway, annotations: ~[~Annotation], so annotations.iter() will yield a VecIterator<'a, &~Annotation> (where 'a is the lifetime of the vec that is borrowed while the iterator is around), so annotation will be &~Annotation
[02:02:46] <kimundi> Now just change that loop to a for loop and its perfect ;)
[02:03:16] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[02:03:17] <dodj> kimundi: Just let me check the tutorial ;)
[02:03:23] <benh> deref once and you have ~Annotation, again and it's the plain Annotation, then ref it again and ~Annotation can be cast to a &Message trait object ref
[02:04:05] <kimundi> dodj: Basically, what you wrote there is the code that "for (u, v) in it { acc = acc + *u * *v }" would desugar to ;)
[02:04:54] <wycats_> omg
[02:05:04] <wycats_> by removing all of the direct taking of traits
[02:05:07] <wycats_> and casting
[02:05:14] <wycats_> and replacing ALL of them with generic <I: Trait>
[02:05:17] <wycats_> it works
[02:05:20] <kimundi> mog!
[02:05:23] <wycats_> I had to change 100% of them
[02:05:30] <wycats_> you can't mix and match
[02:05:40] <wycats_> if one method took a <I: Message>(message: &I)
[02:05:54] <wycats_> I couldn't pass message to a function that took (message: &Message)
[02:06:00] <wycats_> but by using generics everywhere
[02:06:06] <wycats_> I was able to seriously cut down on casting
[02:06:22] <kimundi> Good, generics are the recommended way to do stuff :)
[02:06:30] <wycats_> yeah
[02:06:37] <wycats_> I wonder why the other way is supported at all
[02:06:41] <wycats_> given the pain it induces
[02:06:42] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[02:06:55] <benh> yeah, 'direct taking of traits' is "I'm taking a pair of an opaque object pointer of an unknown type, and a bunchof function pointers that work on that pointer", while generics are "this here function can be instantiated to work for all concrete types, but we need a separate copy for each"
[02:06:56] <kimundi> trait objects can do generics can'T 
[02:06:58] <wycats_> this is the commit: https://github.com/tildeio/buffoon/commit/1a44bcf05d1c0d879c863920927e52313b515c54
[02:07:06] *** Quits: q66_ (q66@6EE9DE40.46454B5D.33AABD5F.IP) (Ping timeout)
[02:07:33] <dodj> kimundi: got it
[02:07:48] <kimundi> dodj: Great :)
[02:08:22] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[02:08:37] <kimundi> wycats_: Trait objects are neccessary if you need dynamic dispatch, which is usually if you want to tread different types as the same types
[02:08:38] <wycats_> kimundi: I definitely feel now like there are two equivalent ways to do traits that don't compose at all
[02:08:44] <wycats_> kimundi: say more
[02:09:02] *** Quits: ziad (ziad@B20586FB.BDB3D91.6E370BFC.IP) (Quit: ziad)
[02:09:07] <wycats_> I know what dynamic dispatch is obviously
[02:09:16] <benh> rusti: let vec: ~[~ToStr] = ~[~42 as ~ToStr, ~("foo") as ~ToStr, ~() as ~ToStr]; for v in vec.iter() { println(v.to_str()); }
[02:09:17] -rusti- 42
[02:09:17] -rusti- foo
[02:09:17] -rusti- ()
[02:09:17] -rusti- ()
[02:09:17] <kimundi> wycats_: say you have a trait "Shape" and two types "Box" and "Circle"
[02:09:40] <benh> ^ you can't do that with generics because there's no one <T: ToStr> that makes ~[~T] a correct type for this vec
[02:09:40] <speckle> Rust has multiple dispatch sans visitor pattern? oh wow
[02:09:50] <benh> We have multiple dispatch?
[02:09:57] <dodj> kimundi: the reason for doing this example is to experiment with different strategies for spawning tasks to take care of different sections of the calculation - and to see if it is quicker than a straight computation
[02:10:05] <benh> i think trait objects are just single dispatch
[02:10:06] <speckle> oh nevermind, I confused multiple and dynamic dispatch, sorry
[02:10:06] <kimundi> wycats_: With generics, you can write a function that takes either a vector of Boxes or a vector of Circles, but not mixed. With trait objects, you can take either
[02:10:15] <wycats_> ahhh
[02:10:16] <wycats_> interesting
[02:10:29] <kimundi> wycats_: Like benh demonstrated with ToStr
[02:10:34] <wycats_> so the generics approach works as long as it will always be one or the other but not both
[02:10:43] <wycats_> while the trait approach works when it may be a mixed collection of both
[02:10:46] <kimundi> exactly
[02:10:53] <wycats_> so in general unless you're trying to handle a collection of mixed
[02:10:57] <wycats_> you should use generics
[02:11:03] <kimundi> yep
[02:11:14] <wycats_> hm
[02:11:17] <wycats_> nobody told me that :P
[02:11:27] <wycats_> seems like a #ProTip that the compiler could tell you
[02:11:28] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[02:11:32] <kimundi> It's all part of the manual and tutorials :P
[02:11:36] <wycats_> lolol
[02:11:42] <wycats_> I have never felt like such a noob as I do in Rust
[02:11:44] <wycats_> since like 2006
[02:11:53] <wycats_> it's good for me
[02:11:54] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[02:12:05] <wycats_> feeling like an idiot is good for you from time to time
[02:12:08] <benh> i think this is kinda a concept/distinction we stole from the fp people?
[02:12:15] <kimundi> Granted, now idea if those particular passages still exists today - I just rember them being explained as such when I read them a year ago
[02:12:26] <benh> I think haskell spells it out as the difference between universal quantification and existential quantification
[02:12:29] <wycats_> kimundi: and I think I've been told that if you use generics you're guaranteed static dispatch?
[02:12:36] <kimundi> wycats_: yep
[02:12:44] <wycats_> benh: terminology like that is definitely not going to turn away the noobs
[02:12:46] <wycats_> no siree
[02:12:47] <benh> our regular generics are their universally qualified generic functions, and existential types are a weird extenstion :P
[02:12:54] <wycats_> kimundi: that's pretty nice
[02:13:05] <benh> wycats_: I'm just trying to offer some more google-able terms than "here look at my rust-syntax example" :
[02:13:08] <benh> :D
[02:13:11] <wycats_> benh: hehe
[02:13:12] <kimundi> wycats_: the compiler basically emitts a seperate copy of each type instanciation of a function, and each gets optimized and inlined etc
[02:13:19] <wycats_> unsure if the results on google will help me
[02:13:21] <wycats_> kimundi: yeah
[02:13:23] <wycats_> that's pretty nice
[02:13:36] <benh> maybe something like
[02:13:36] <Edwards> Does Rust have any concept of a Char stream? That is, I basically want a std::io::Reader that I can read one Char at a time from.
[02:13:37] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[02:13:43] <wycats_> and the way to explain it is that you're defining a function that can be reused over and over again
[02:13:48] <wycats_> a "template"
[02:13:57] <wycats_> and you're explaining its "bounds"
[02:14:02] <wycats_> yes template is a bad word to use
[02:14:04] <wycats_> scumbag C++
[02:14:13] <benh> fn foo<T: Trait>(x: ~T) means "for every type T implementing Trait, there'll be a function f(x: ~T)"
[02:14:14] <wycats_> so what you're defining isn't a single function
[02:14:27] <wycats_> but rather a function that can be built for every type that fits into the bounds
[02:14:31] <kimundi> Edwards: well, you could define/use something th provides you a Char iterator
[02:14:33] <speckle> what's wrong with templates?
[02:14:50] <benh> and fn foo(x: ~Trait) means "the one function f can be called with any boxed object ~T as long as it's boxed with an implementation of Trait"
[02:14:54] <wycats_> fn foo<T: A + B> can make a function for every T that satisfies both A and B right?
[02:15:06] <benh> yeah
[02:15:07] <kimundi> yes
[02:15:35] <dodj> I like that you can pick out the properties you need to do your function using traits - and then write the function in as general a way as possible - I wouldn't know how to do that in C++
[02:15:39] <wycats_> and fn foo<T: A, U: B> can make a function for combinations of types T and U that satisfy A and B respectively
[02:15:54] <wycats_> so basically traits like ToStr are kind of different
[02:16:02] <wycats_> in that they exist in dynamic dispatch land
[02:16:19] <bvssvni> I think of traits as compositions
[02:16:33] <bvssvni> you have A type and B feature and A*B is the trait
[02:17:03] <dodj> bvssvni: is there an equivalent logic in C++?
[02:17:06] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[02:17:08] <bvssvni> the impl I mean
[02:17:31] <bvssvni> I am not familiar with C++, I come from C£
[02:17:35] <bvssvni> C#
[02:18:10] <kimundi> Afaik C++ can do all rust can, and much more in those areas
[02:18:32] <kimundi> because C++ templates are actually a turing complete functional meta language :P
[02:18:57] <dodj> haha
[02:19:00] <dodj> whoosh over my head
[02:19:14] <dodj> I did maths at uni - should have done comp sci
[02:20:03] <kimundi> dodj: It basically means someone with to much time can write you a C++ program that only compiles successfully if a given number is a prime number or something like that :P
[02:20:12] <speckle> nothing in comp sci is really as hard as stuff like abstract algebra, and I'm sure you did more complicated things than that
[02:20:19] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[02:21:34] <dodj> one thing I can say about c++ templates is that I find them much more difficult to understand than traits - especially when you start getting templates within templates
[02:21:48] <tiffany> C++ templates are a turing tar pit
[02:22:31] <speckle> it's possible to write spaghetti code that is difficult to understand for no good reason, I suppose
[02:22:41] *** Quits: moostik (Icedove@moz-40E6ACEF.w2-2.abo.wanadoo.fr) (Ping timeout)
[02:22:46] <bvssvni> I thought of an analogy today to traits in Rust
[02:23:03] <bvssvni> I was thinking of a RPG game
[02:23:09] <bvssvni> where the character is the struct
[02:23:20] <bvssvni> and the traits are the abilities you can upgrade
[02:23:24] *** Joins: random_nick_38264 (Mibbit@moz-A082F561.adsl.xtra.co.nz)
[02:23:31] <bvssvni> some traits are incompatible
[02:23:39] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[02:23:42] <bvssvni> so you choose a "path" to upgrade
[02:24:06] <bvssvni> you can implement a trait directly or a set of inherited traits
[02:24:18] <bvssvni> there are multiple ways to the same goal
[02:25:05] <bvssvni> eventually one needs some flowcharts to figure out how the compiler solves the generics
[02:25:10] <speckle> I think it would be more clear if you used a specific popular game :)
[02:25:58] <bvssvni> I will go home and rethink my analogy :D
[02:26:52] <dodj> So for the function I was just asking about: I needed to use a type that had a concept of zero, adding, and multiplying. Now any type with those concepts can plug this method in. Mathematicians love to generalise like this.
[02:27:10] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[02:27:15] <bvssvni> dodj: oh yes
[02:27:47] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[02:28:11] <dodj> it feels like multiple inheritance, which people sometimes say is confusing, but here I think it makes perfect sense
[02:28:15] <bvssvni> dodj: the question is, if you generalize certain algorithms based on zero, adding and multiplying, they might be better optimized using a different trait with conjugate etc.
[02:28:42] <dodj> that is true - this doesn't really consider optimization, just whether it will get the job done
[02:28:59] <bvssvni> dodj: just like different math formulas
[02:29:14] <bvssvni> dodj: that does the same job
[02:30:07] *** Joins: moostik (Icedove@moz-40E6ACEF.w2-2.abo.wanadoo.fr)
[02:30:29] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[02:31:02] <dodj> so in rust, you would have multiple functions and then when implementing a trait higher up, you can plug in the appropriate algorithm
[02:31:26] <bvssvni> you can event do generics hack on a struct to "pick" optimization strategy
[02:31:56] <dodj> cool, is that an intended feature - or a happy coincidence?
[02:32:22] <wycats_> kimundi: I understand things now thanks to your help
[02:32:26] <bvssvni> https://github.com/mozilla/rust/wiki/Doc-FAQ-Cheatsheet
[02:32:27] <wycats_> I just explained it to tomdale 
[02:32:33] <bvssvni> look for "phantom types"
[02:32:37] <wycats_> tl;dr use generic syntax for traits whenever possible
[02:32:45] <wycats_> it will make you happier and your program faster
[02:32:55] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[02:33:45] <kimundi> sounds about right :)
[02:34:42] <bvssvni> when you test generics in Rust, you can prove another category of algorithms will work
[02:34:56] <bvssvni> so basically there is full category theory in play :)
[02:35:17] <dodj> oh I see, so you could plug in the appropriate enum, and it will use the corresponding algorithm
[02:35:27] <dodj> I never did category theory ;)
[02:36:28] <bvssvni> me neither, but don't anyone ;)
[02:36:33] <bvssvni> *tell
[02:36:42] <speckle> can anyone here compare Rust to Haskell in terms of doing generic stuff like that? :)
[02:37:04] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[02:39:44] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[02:40:27] *** Quits: alan_andrade (alan_andra@11ED57E0.8C5D18C8.88E925D5.IP) (Input/output error)
[02:40:48] <kimundi> well, rust traits are bascially haskell typeclasses
[02:41:11] <kimundi> haskells are just more advanced, with higher kinded types and all that
[02:41:29] *** Joins: ptc (Adium@moz-70022D61.hsd1.ma.comcast.net)
[02:42:49] <kimundi> well, I'm going to bed, good night
[02:42:58] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[02:43:09] *** Quits: ptc (Adium@moz-70022D61.hsd1.ma.comcast.net) (Ping timeout)
[02:44:18] <speckle> bye kimundi 
[02:44:39] <speckle> without being a pro in both, it looks like Haskell is more expressive at a high level, but ultimately it's yet another language that has a GC :P
[02:44:41] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[02:45:00] <bvssvni> I tried to learn Haskell, several times
[02:45:10] <speckle> so it can't have low-level expressiveness to the same degree as Rust
[02:45:19] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[02:46:20] <speckle> bvssvni, maybe you can try learning Racket first? it's a fully functional dialect of Lisp but it's fairly simple
[02:46:32] *** Quits: moostik (Icedove@moz-40E6ACEF.w2-2.abo.wanadoo.fr) (Ping timeout)
[02:46:46] <bvssvni> speckle: my problem is learning to do all the stuff I am used to do in C#
[02:46:50] <speckle> aha
[02:47:20] <bvssvni> but functional programming is the way to go, specially for abstractions
[02:47:38] <speckle> I think the issue isn't you, it's the lack of IDEs and libraries to the same extent
[02:47:42] <speckle> the ecosystem has to catch up
[02:48:01] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[02:48:16] <speckle> M$ propped up a massive ecosystem of developer tools around C# and .NET in general
[02:48:36] <bvssvni> writing GUI code in C# is a dream
[02:48:50] *** Quits: dcrewi (david@moz-AB8667CE.gyrae.net) (Ping timeout)
[02:48:50] <bvssvni> this is 90% of what programmers need
[02:50:06] <bvssvni> the problem is lack of consistent gui across platforms
[02:50:20] <bvssvni> so HTML and Javascript tends to win
[02:50:30] <speckle> Writing a GUI toolkit for one platform is much easier than the task that cross-platform toolkits get, heh
[02:50:47] <bvssvni> if only there was a VM in the browser
[02:51:02] <speckle> oh, there were attempts at that such as Java applets
[02:51:07] <speckle> the problem is getting a secure VM into the browser
[02:51:16] <speckle> it needs to be designed that way ground-up
[02:51:24] <bvssvni> and integrated with DOOM
[02:51:26] <bvssvni> *DOM
[02:51:31] <Torwegia> Why would methods for a struct I made not be in scope?
[02:51:58] <bvssvni> Torwegia: did you create an impl with the same name as the struct?
[02:52:03] <Torwegia> ya
[02:52:13] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[02:52:16] <Torwegia> it seems to only be methods for a public trait I also made
[02:52:20] *** kimundi is now known as zz_kimundi
[02:53:31] <bvssvni> Torwegia: can you post some code at gist.github.com?
[02:53:49] <Torwegia> sure thing one sec
[02:54:04] *** Quits: random_nick_38264 (Mibbit@moz-A082F561.adsl.xtra.co.nz) (Quit: http://www.mibbit.com ajax IRC Client)
[02:54:46] *** Joins: vfetwnuncszu (david@moz-AB8667CE.gyrae.net)
[02:54:54] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[02:55:01] *** vfetwnuncszu is now known as dcrewi
[02:55:41] <Torwegia> https://gist.github.com/Torwegia/8141971
[02:56:14] <Torwegia> I don't understand why add_component isn't in scope
[02:57:24] <bvssvni> try add 'use entity::{Player, Entity};
[02:58:31] <Torwegia> that did the trick
[02:58:32] <Torwegia> thanks
[02:58:37] <benh> Trait methods are in scope when the trait is in the current scope. Just by loading mod entity, you only get entity::Entity etc.
[02:58:40] <Torwegia> I tried throw pub everywhere haha
[02:58:41] <benh> +( )
[02:58:42] *** Quits: z0w0 (zack@moz-356923D4.lnse4.woo.bigpond.net.au) (Quit: z0w0)
[02:59:03] <Torwegia> Thanks for the help!
[02:59:11] *** Joins: z0w0 (zack@moz-356923D4.lnse4.woo.bigpond.net.au)
[02:59:19] *** Quits: z0w0 (zack@moz-356923D4.lnse4.woo.bigpond.net.au) (Quit: z0w0)
[02:59:39] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[02:59:53] *** Joins: z0w0 (zack@moz-356923D4.lnse4.woo.bigpond.net.au)
[03:00:00] *** Quits: z0w0 (zack@moz-356923D4.lnse4.woo.bigpond.net.au) (Quit: z0w0)
[03:00:34] *** Joins: z0w0 (zack@moz-356923D4.lnse4.woo.bigpond.net.au)
[03:00:42] *** Quits: z0w0 (zack@moz-356923D4.lnse4.woo.bigpond.net.au) (Quit: z0w0)
[03:00:42] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[03:01:17] *** Joins: z0w0 (zack@moz-356923D4.lnse4.woo.bigpond.net.au)
[03:01:20] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[03:01:24] *** Quits: z0w0 (zack@moz-356923D4.lnse4.woo.bigpond.net.au) (Quit: z0w0)
[03:01:58] *** Joins: z0w0 (zack@moz-356923D4.lnse4.woo.bigpond.net.au)
[03:03:38] <Edwards> Where did ReaderUtil (specifically read_char) go in master? http://static.rust-lang.org/doc/0.8/std/io/trait.ReaderUtil.html
[03:03:40] *** Quits: z0w0 (zack@moz-356923D4.lnse4.woo.bigpond.net.au) (Ping timeout)
[03:05:09] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[03:07:40] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[03:11:12] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[03:12:52] *** Joins: z0w0 (zack@moz-356923D4.lnse4.woo.bigpond.net.au)
[03:12:53] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[03:14:06] *** Joins: mpie (Mibbit@moz-4FAE147D.graz.surfer.at)
[03:16:23] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[03:19:30] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[03:20:15] *** Joins: lpy (lpy@7360AA58.F09091A8.1348A864.IP)
[03:23:04] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[03:24:44] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[03:26:47] *** Joins: maxiepoo (Max@moz-D66F3D4E.atvci.net)
[03:27:02] *** Joins: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com)
[03:27:22] *** Quits: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com) (Quit: )
[03:28:16] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[03:30:56] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[03:31:27] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Ping timeout)
[03:34:10] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[03:35:29] <SiegeLord> Drat, hit a CMake bug while trying it for Rust... :/
[03:36:49] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[03:37:21] *** Quits: joelteon (bzzt@moz-317E8D0C.io) (Quit: I'm out)
[03:39:38] *** Quits: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net) (Ping timeout)
[03:40:04] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[03:41:14] *** Joins: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net)
[03:41:46] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[03:41:53] *** Joins: ptc (Adium@moz-70022D61.hsd1.ma.comcast.net)
[03:41:55] *** Joins: Skrylar (Skrylar@moz-F692F728.austin.res.rr.com)
[03:43:34] *** Quits: ptc (Adium@moz-70022D61.hsd1.ma.comcast.net) (Ping timeout)
[03:45:06] *** Quits: zz_kimundi (kimundi@moz-626CD9BD.dip0.t-ipconnect.de) (Ping timeout)
[03:45:14] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[03:48:44] *** Joins: zz_kimundi (kimundi@moz-10D472A5.dip0.t-ipconnect.de)
[03:48:59] *** Joins: alan_andrade (alan_andra@11ED57E0.8C5D18C8.88E925D5.IP)
[03:49:01] *** zz_kimundi is now known as kimundi
[03:49:47] *** Quits: maxiepoo (Max@moz-D66F3D4E.atvci.net) (Quit: maxiepoo)
[03:50:34] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[03:53:31] <Torwegia> Do you need to use an @ boxed object to get dynamic method dispatch?
[03:53:48] <Torwegia> Like in the tutorials section 17.4
[03:53:53] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[03:53:59] <SiegeLord> No
[03:54:23] <Torwegia> So it could be a vector of owned or borrowed pointers too?
[03:54:58] <SiegeLord> Yep, it explains a bit later in that section
[03:54:58] <tiffany> you can borrow owned pointers
[03:57:04] *** Joins: joelteon (bzzt@moz-317E8D0C.io)
[03:57:57] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[03:58:45] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[03:59:25] *** Joins: maxiepoo (Max@moz-D66F3D4E.atvci.net)
[03:59:43] *** Quits: taylanub (taylanub@5C1DD8D.A0C17C1E.EE6A91BF.IP) (Quit: Using Circe, the loveliest of all IRC clients)
[04:00:48] *** Quits: dcrewi (david@moz-AB8667CE.gyrae.net) (Ping timeout)
[04:01:01] *** Joins: vfetwnuncszu (david@moz-AB8667CE.gyrae.net)
[04:01:12] *** Quits: alan_andrade (alan_andra@11ED57E0.8C5D18C8.88E925D5.IP) (Input/output error)
[04:01:43] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[04:01:45] *** vfetwnuncszu is now known as dcrewi
[04:02:30] <Torwegia> Having fun learning traits so far haha
[04:02:38] *** Joins: brson (brson@981AA104.E81F12CD.76F66111.IP)
[04:02:39] *** ChanServ sets mode: +ao brson brson
[04:03:43] *** Quits: mib_6jpl58 (Mibbit@moz-F9ECE706.dyn.optonline.net) (Quit: http://www.mibbit.com ajax IRC Client)
[04:05:21] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[04:06:23] *** Quits: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca) (Quit: Leaving.)
[04:07:02] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[04:10:34] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[04:12:15] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[04:15:45] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[04:18:17] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[04:18:51] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[04:22:52] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[04:24:55] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[04:26:09] *** Quits: thesnowdog (doug@ADE066C5.CDB23781.6F17036B.IP) (Ping timeout)
[04:26:14] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[04:26:25] *** Joins: thesnowdog (doug@ADE066C5.CDB23781.6F17036B.IP)
[04:29:04] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[04:34:06] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[04:34:21] *** Quits: nattofriends (tsutsumi@moz-A9E340E1.fuqu.jp) (Ping timeout)
[04:34:47] *** Joins: nattofriends (tsutsumi@moz-A9E340E1.fuqu.jp)
[04:37:20] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[04:41:12] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[04:42:15] *** Joins: ptc (Adium@moz-70022D61.hsd1.ma.comcast.net)
[04:43:55] *** Quits: ptc (Adium@moz-70022D61.hsd1.ma.comcast.net) (Ping timeout)
[04:44:23] <ercxx> Where's the documentation for #[cfg()] ?
[04:44:56] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[04:45:10] <ercxx> got it
[04:46:38] <Skrylar> made some more progress on my binding guide: https://gist.github.com/Skrylar/8134638
[04:48:20] *** Quits: Skrylar (Skrylar@moz-F692F728.austin.res.rr.com) (Ping timeout)
[04:53:12] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[04:57:04] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[04:58:46] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[04:59:32] <wycats_> I'm compiling Rust on a new machine
[04:59:33] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[04:59:33] *** ChanServ sets mode: +ao pcwalton pcwalton
[04:59:37] <wycats_> don't worry I'll be back in 12-15 hours
[05:00:00] <achin> it doesn't take that long :P
[05:00:04] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Connection reset by peer)
[05:00:59] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[05:01:26] <wycats_> you're right... it's more like 3-5 hours
[05:02:16] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[05:02:26] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[05:03:58] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[05:06:13] <speckle> I wonder how developers for projects that take so long to compile manage to get anything done.  I personally can't imagine it.  I'm guessing it's easier if there are plenty of unit tests, so you don't have to build the whole thing to test?
[05:06:57] <Luqman> hehe, it isn't that bad :P
[05:07:27] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[05:07:32] <Luqman> i've been making changes to rustc and turnaround time to test it is really only a couple of minutes
[05:07:38] <achin> you have to adjuct your programming habits a bit
[05:08:26] <speckle> a couple minutes?? how??
[05:08:43] <speckle> do you skip 90% of the build process if you're only making a small change, maybe? or do you just unit test the one change you made?
[05:08:55] *** Quits: sigma (sigma@moz-6E1846A2.range86-184.btcentralplus.com) (Ping timeout)
[05:09:04] <achin> at work, a trivial change can sometimes impact enough things that it'll take a few hours to build
[05:09:15] <achin> the trick is to have a deep enough pipeline so you can jump to something else
[05:09:40] <speckle> ah, yeah - and I'm guessing you limit the number of cores the compiler uses so that you can keep doing stuff
[05:09:40] <Luqman> speckle: so i've only been making changes to librustc and hence it doesn't rebuild the stuff before that
[05:09:46] <speckle> aha!
[05:10:00] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[05:10:18] <Luqman> also tip, if you just want to test something quickly with stage1 rustc, --disable-optimize makes it slightly faster 
[05:10:33] <Luqman> though at the expense of later stages taking much longer to build
[05:11:40] *** Joins: alan_andrade (alan_andra@11ED57E0.8C5D18C8.88E925D5.IP)
[05:11:52] <achin> it would be neat if you could make a change, ship it off to build bot, and get an email when things pass/fail
[05:12:10] *** Joins: skrylar (skrylar@moz-F692F728.austin.res.rr.com)
[05:12:13] <skrylar> laptop ran out of power \o/
[05:12:24] *** Quits: brson (brson@981AA104.E81F12CD.76F66111.IP) (Quit: leaving)
[05:12:33] <Luqman> skrylar: awesome job on the guide btw!
[05:12:48] <skrylar> thank ye
[05:13:21] *** Quits: alan_andrade (alan_andra@11ED57E0.8C5D18C8.88E925D5.IP) (Ping timeout)
[05:13:27] <speckle> thanks, Luqman!
[05:13:40] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[05:13:50] <speckle> I'll keep that in mind if I ever need to change rustc
[05:16:03] *** Quits: b (b@moz-55CA322E.org) (Ping timeout)
[05:16:28] *** Joins: b (b@moz-55CA322E.org)
[05:17:05] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[05:17:48] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[05:18:18] *** Joins: Axord (xord@moz-C0D5F15A.lsanca.dsl-w.verizon.net)
[05:20:06] *** Quits: Axord (xord@moz-C0D5F15A.lsanca.dsl-w.verizon.net) (Ping timeout)
[05:21:09] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[05:22:50] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[05:25:05] *** Joins: sigma (sigma@moz-E3462A08.range86-135.btcentralplus.com)
[05:26:20] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[05:28:01] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[05:30:30] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[05:31:34] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[05:32:33] <ercxx> What is a 31 bit integer?
[05:33:16] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[05:33:28] <speckle> I'd assume it's some abomination for forcing signed integers to be positive, but I have no idea
[05:34:02] <ercxx> :)
[05:34:06] <achin> "In 1983, IBM introduced 31-bit addressing in the System/370-XA mainframe architecture as an upgrade to the 24-bit addressing of earlier models. This enhancement allowed address spaces to be 128 times larger, permitting programs to address memory above 16 MiB (referred to as "above the line")."
[05:34:44] <speckle> Maybe it could be his? http://stackoverflow.com/a/3774467 I hear Rust takes some influence from the ML family.
[05:34:51] <speckle> *be this
[05:35:01] <ercxx> So if I want to make sure I stay 31 bit while incrementing my int, just check its size?
[05:35:24] <achin> this looks like a much more correct answer, speckle 
[05:35:29] <ercxx> upnp standard requires it
[05:35:40] *** Joins: Axord (xord@moz-C0D5F15A.lsanca.dsl-w.verizon.net)
[05:35:42] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[05:36:05] *** Quits: canhtak (canhtak@moz-1AC8943.wl.t.ulaval.ca) (Quit: canhtak)
[05:36:12] <ercxx> speckle: thank you.
[05:36:41] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[05:37:31] *** Quits: Axord (xord@moz-C0D5F15A.lsanca.dsl-w.verizon.net) (Ping timeout)
[05:40:22] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[05:42:39] *** Joins: ptc (Adium@moz-70022D61.hsd1.ma.comcast.net)
[05:43:36] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[05:43:58] <Yurume> 31 bit integer? its interpretation may vary depending on the situation.
[05:43:58] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[05:44:20] *** Quits: ptc (Adium@moz-70022D61.hsd1.ma.comcast.net) (Ping timeout)
[05:44:38] *** Quits: smvv (smvv@moz-A397289C.xlshosting.net) (Ping timeout)
[05:45:18] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[05:45:36] <speckle> Ah, I thought there was a 31 bit integer type in Rust that I was not aware of
[05:45:41] <speckle> Guess not?
[05:48:47] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[05:48:50] <Yurume> there is no such thing, though I think I've heard of such proposal
[05:50:32] <speckle> oh, cool
[05:50:35] <Yurume> in reality, say, u31 will make many things complicated (it needs a whole bunch of different arithmetic operations and so on) and I don't think these complications are worth enough to support built-in tagged pointers
[05:50:46] <speckle> thanks!
[05:51:57] <Yurume> it would be pretty cool that there's a third-party library that maintains an internal representation (uint) which can be converted to Either<uint,~T> as needed ;)
[05:52:02] *** Joins: smvv (smvv@moz-A397289C.xlshosting.net)
[05:52:33] <speckle> yeah..
[05:52:37] *** Joins: Axord (xord@moz-C0D5F15A.lsanca.dsl-w.verizon.net)
[05:53:33] *** Joins: caltelt (nick@moz-433C008F.dyn.centurytel.net)
[05:53:42] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[05:55:56] <Yurume> hmm, it might work: struct Tagged<T> { priv repr: uint } impl<T> Tagged<T> { pub fn from_uint(v: uint) -> Tagged<T> { assert!(v == (v & (~0 >> 1))); Tagged{repr:(v<<1)&1} } pub fn from_ptr(v: ~T) -> Tagged<T> { let v: uint = unsafe{std::cast::transmute(v)}; Tagged{repr:v} }
[05:56:55] *** Quits: smvv (smvv@moz-A397289C.xlshosting.net) (Ping timeout)
[05:56:57] <Yurume> pub fn consume(self) -> Either<uint,~T> { let v=self.repr; if (v&1)==0 { Right(unsafe{std::cast::transmute(v)}) } else { Left(v>>1) } } }
[05:57:01] <Yurume> yeah, something like this.
[05:57:23] <Yurume> (and it will definitely need something converts to Either<uint,&'r T>, but that'd be trivial enough)
[05:57:45] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[05:58:01] <speckle> sorry I'm not there yet
[05:58:14] <speckle> I just wrote fizz buzz :)
[05:58:41] <bascule> speckle: lol I feel you
[05:58:42] <Yurume> speckle: ah sorry for a big code blob, Rust is capable for fabricating many awesome designs already ;)
[05:58:49] <Yurume> I just wanted to show that*
[05:58:57] <bascule> I just  wrote a simple IRC bot
[05:59:06] <Yurume> bascule: is it available in github?
[05:59:29] <bascule> not yet, I can gist it
[05:59:39] <speckle> Yurume, I am sure it's readable, I just don't understand Rust well enough yet. If it were C code that dense, I'd understand it just fine. 
[06:00:09] *** Quits: acrichto (acrichto@moz-B63D64BD.res.cmu.edu) (Ping timeout)
[06:00:34] *** Quits: rntz (rntz@moz-C76A8D96.sp.cs.cmu.edu) (Ping timeout)
[06:00:49] <caltelt> heylo
[06:00:52] *** Quits: rpearl (rpearl@moz-2B41ACB5.andrew.cmu.edu) (Ping timeout)
[06:00:53] <skrylar> Luqman: how does this look? https://gist.github.com/Skrylar/8142997
[06:00:54] *** Quits: bblum (bblum@moz-2B41ACB5.andrew.cmu.edu) (Ping timeout)
[06:03:45] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[06:05:25] *** Joins: acrichto (acrichto@moz-B63D64BD.res.cmu.edu)
[06:05:25] *** ChanServ sets mode: +o acrichto
[06:05:56] *** Joins: rntz (rntz@moz-C76A8D96.sp.cs.cmu.edu)
[06:06:13] *** Joins: rpearl (rpearl@moz-2B41ACB5.andrew.cmu.edu)
[06:06:15] *** Joins: bblum (bblum@moz-2B41ACB5.andrew.cmu.edu)
[06:07:23] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[06:11:02] <speckle> I find it odd how if-then expressions can return integer literals but not string literals.
[06:11:51] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[06:12:24] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[06:14:18] *** Quits: rgawdzik (chatzilla@moz-92BBC7AC.dsl.bell.ca) (Client exited)
[06:14:41] <skrylar> speckle: they can't?
[06:15:06] <achin> let x: &str = if true { "hello" } else { "world" };
[06:15:10] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[06:15:38] <speckle> Ah, that's what you have to do. Thanks.
[06:15:50] *** Joins: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net)
[06:15:51] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[06:16:02] <speckle> I put the if-else expression with strings inside of a print statement and it gave me an error :P
[06:16:09] <skrylar> achin: i'm not sure if thats a good idea, that just makes it a borrowed pointer to a compiled literal
[06:16:27] <ercxx> did we get struct inheritance yet?
[06:17:06] <achin> skrylar: i'm not sure why that's not a good idea?
[06:17:30] <speckle> That's odd, achin, your if-else works just fine inside of a print statement. Hmm...
[06:17:36] <skrylar> achin: depends on what he wants to do with the string
[06:17:49] <skrylar> if all he wants to do is print it, that's fine; but he can't store that
[06:18:01] <Luqman> speckle: do you mean using it with print! 
[06:18:03] <Luqman> ?
[06:18:20] <speckle> println, sorry
[06:18:23] *** Quits: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net) (Ping timeout)
[06:18:36] <achin> skrylar: right.  
[06:18:36] *** Joins: smvv (smvv@moz-A397289C.xlshosting.net)
[06:18:47] <Luqman> speckle: with println! or println (macro or function)?
[06:19:03] <speckle> I'm using println
[06:19:07] <speckle> if and else have incompatible types: expected `&'static str` but found `~str` (str storage differs: expected ~ but found &'static )
[06:19:33] <speckle> That's what I get when I try putting my own if-else inside of a print statement
[06:19:35] *** Joins: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net)
[06:20:36] <achin> skrylar: i guess we should say that such an if/else with string literals is just the same as a string literal in a non-if context
[06:21:06] <speckle> Oh, I see what's causing it.  The string literals were fine.  It just doesn't like it when I format the string literal  using fmt! before returning it from the if-else expression.
[06:23:08] <Edwards> So, I'm sure this has been asked a billion times at this point, but I'll ask again anyway - why can't you write an impl for a trait+struct that are both defined in different crates?
[06:23:31] <eevee> it's very rude
[06:24:27] *** Quits: Jesin (Jesin@moz-4B662E55.washdc.fios.verizon.net) (Quit: Leaving)
[06:25:31] <achin> Edwards: what do you mean?  
[06:25:36] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[06:26:50] <speckle> Nevermind, it's actually a different error - it's complaining that if and else return different types.  Sorry for being clueless
[06:26:59] <Edwards> achin: Like, I couldn't impl std::iter::Iterator<char> for std::io::Reader
[06:27:07] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[06:27:07] <Edwards> From my own crate
[06:27:20] <speckle> rusti: let x = if true {"hello"} else {false};
[06:27:22] -rusti- pastebinned 7 lines of output: http://ix.io/9wV
[06:27:36] *** Quits: klaus (koz@moz-E49E7C4B.hsd1.wa.comcast.net) (Quit: klaus)
[06:28:11] <Edwards> Sorry, that was a dumb example, of course I couldn't implement Iterator for another trait
[06:29:00] <speckle> Rust can be strict about some really unexpected things, wow.
[06:29:21] <Edwards> speckle: That error makes sense
[06:29:46] <speckle> Edwards, my example looks silly, but I ran into it when I was trying to either print a formatted string or a string literal
[06:30:01] <Edwards> Ah
[06:30:12] <Edwards> Yeah, I'm not deep enough into the language to understand how formatted strings work yet. :)
[06:30:13] <speckle> It considered them different types and refused to compile
[06:30:34] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[06:30:46] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[06:30:48] <Edwards> I do know that string literals are &'static str, and I'd bet that formatted strings are ~str
[06:31:16] <speckle> rusti: println(if true {"hello"} else {fmt!("%?", 1234)});
[06:31:18] -rusti- pastebinned 10 lines of output: http://ix.io/9wY
[06:31:28] <achin> a good way to to try to narrow down the problem is introduce explictly typed temporaries
[06:31:38] <Edwards> printf(if true {~"hello"} else {fmt!("world")})
[06:31:46] <Edwards> rusti: printf(if true {~"hello"} else {fmt!("world")})
[06:31:48] -rusti- pastebinned 10 lines of output: http://ix.io/9wZ
[06:31:51] <speckle> Oh, derp, rusti wants format! instead of fmt!
[06:32:04] <Edwards> rusti: printf(if true {~"hello"} else {format!("world")})
[06:32:05] <speckle> I guess rusti is running the latest version of Rust instead of 0.8?
[06:32:06] -rusti- pastebinned 7 lines of output: http://ix.io/9x0
[06:32:49] <speckle> rusti: println(if true {"hello"} else {format!("%?", 1234)});
[06:32:52] -rusti- pastebinned 7 lines of output: http://ix.io/9x2
[06:32:54] *** Joins: hacker_sam (hacker_sam@moz-39E7C4A7.dsl.bngr.epix.net)
[06:33:15] <Edwards> rusti: println(if true {~"hello"} else {format!("world")})
[06:33:16] -rusti- hello
[06:33:16] -rusti- ()
[06:33:17] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[06:33:20] <Edwards> There we go
[06:33:30] <speckle> Arghh, I guess format! is different from fmt!. I guess I should build the latest version of Rust instead of 0.8 :(
[06:33:44] <speckle> fmt! is in the tutorials, and yet it's not even letting us use it here
[06:33:48] <achin> rust moves fast.  it's a good idea to track the master branch
[06:34:02] <skrylar> I think you can write an impl for a trait across crates, but I haven't tried
[06:34:09] <skrylar> you can't write an impl for another struct though
[06:34:33] <achin> isn't it a common thing to write an impl for a trait that's specified in another crate?
[06:34:37] <Edwards> Wait, can you write impl TraitA for TraitB?
[06:34:49] <eevee> it's kinda silly to even make releases and then tell everyone not to bother using them  :)
[06:34:52] <skrylar> I don't think you can do it for two traits, that would be modifying other traits
[06:34:57] <skrylar> eevee: yeaaah, i agree with that one
[06:35:02] <skrylar> especially when the release doesn't work
[06:35:05] <eevee> the milestones are nice i suppose
[06:35:06] <eevee> ha
[06:35:06] <eevee> yes
[06:35:22] <skrylar> impl TraitA for Struct should work though
[06:35:33] <skrylar> I haven't tried that if both TraitA and Struct don't belong to the crate though
[06:35:35] <achin> for example, the ToJson trait is defined in some crate in libextra, but my custom struct can implement that trait no matter where it lives
[06:36:00] <skrylar> achin: i think the concern is that if T is in crate T, and S is in crate S, you can't impl T for S in crate C
[06:36:07] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[06:36:15] <Edwards> ^ What skrylar said
[06:36:20] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[06:36:24] <skrylar> e.g. you can't implement ToJson for objects in another lib
[06:36:39] <achin> ah, hm
[06:36:41] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[06:36:57] <skrylar> you *should* be able to do that, but I'm not a compiler nerd here
[06:37:12] <skrylar> (the use case would be, pretty much exactly a Tojson routine)
[06:37:25] <achin> i guess i can see where that might be hard to do
[06:37:35] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[06:37:38] <skrylar> no more hard than how it does it already
[06:37:48] <speckle> rusti: println(if true {"hello"} else {format!("{}", 1234)});
[06:37:48] <skrylar> there might be a concern with accidentally importing impl's though
[06:37:51] <achin> well, each crate is a binary (or library), right?
[06:37:51] <Edwards> I thought I heard someone say you couldn't do that. Maybe I'm just imagining things.
[06:37:57] -rusti- pastebinned 7 lines of output: http://ix.io/9x5
[06:38:01] <skrylar> how would you use::crate::impl?
[06:38:05] <speckle> There's my error!
[06:38:37] <Edwards> speckle: Yeah, it's because "hello" is type &'static str and format! returns type ~str
[06:38:46] <eevee> i thought the impl restriction was arbitrary actually
[06:38:52] <speckle> I guess we have to explicitly ~ the literals, thanks guys :)
[06:39:11] <skrylar> eevee: i can see the argument being made that theres no way to import that specifically since impls aren't named
[06:39:13] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[06:39:21] <eevee> fair point
[06:39:27] <skrylar> if i have a "toMsgPack" crate, how do you import the impls from it?
[06:39:36] <eevee> but would you want to import it anywhere else anyway...
[06:39:37] <skrylar> right now you can import the trait (and the impls along with it)
[06:39:49] <epdtry> eevee: haskell has some kind of issues with orphan instances, which rust's impl rule prevents
[06:40:52] <achin> error: cannot provide an extension implementation where both trait and type are not defined in this crate
[06:41:02] <achin> so you are right about that error, Edwards 
[06:41:04] <Edwards> Yeah, that's the one
[06:41:40] <achin> i'm not sure, though, what is meant exactly by "extension implementation"
[06:41:52] <skrylar> achin: basically, extension methods from C#
[06:42:03] <skrylar> you would be making an implementation that just provides more methods for a pre-defined object
[06:42:30] <skrylar> Isn't there a way to have traits with parents?
[06:42:52] * skrylar wonders if you could make a local trait that inherits another trait, to get around the problem
[06:42:54] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[06:42:58] *** Joins: ptc (Adium@moz-70022D61.hsd1.ma.comcast.net)
[06:43:30] <achin> that doesn't sound nearly as useful
[06:43:35] <Edwards> skrylar: You'd still need a separate impl for the parent trait, wouldn't you?
[06:44:28] <Edwards> rusti: trait A { fn test();} trait B : A { } struct X { } impl B for X { fn test() { } }
[06:44:36] -rusti- failed to pastebin 6 lines of output
[06:44:41] <Edwards> :|
[06:44:48] *** Quits: ptc (Adium@moz-70022D61.hsd1.ma.comcast.net) (Ping timeout)
[06:44:56] <Edwards> Anyway, I'm not sure if that works
[06:44:57] <mpie> how about wrapping the type in another struct?
[06:45:25] <Edwards> That'd probably work, but you'd have to re-impl all of the other traits for the wrapper struct too
[06:45:29] <Edwards> Which sounds gross.
[06:45:41] <achin> i'm curious: what's your exact usecase, Edwards ?
[06:46:34] <Luqman> mpie: yes, that's one way of getting around it. which is what i did when i wanted to be able to use the index operators on extra::Json https://github.com/luqmana/mcchat/blob/master/json.rs#L66
[06:46:59] <Edwards> achin: I was thinking about ways to make std::io::Reader work with std::iter::Iterator<u8>.
[06:47:09] <Edwards> Which lead me to thinking about impls across traits like this
[06:47:11] <Edwards> No specific use case
[06:47:57] <speckle> huh, rusti failed to pastebin output?
[06:48:08] <Edwards> rusti: trait A { fn test();} trait B : A { } struct X { } impl B for X { fn test() { } }
[06:48:10] -rusti- pastebinned 6 lines of output: http://ix.io/9x7
[06:48:22] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[06:48:36] <Edwards> rusti: trait A { fn test();} trait B : A { } struct X { x: ~str } impl B for X { fn test() { } }
[06:48:39] -rusti- pastebinned 7 lines of output: http://ix.io/9x8
[06:48:51] <Edwards> Yeah, that's what I expected
[06:49:22] <Edwards> RE: skrylar	 wonders if you could make a local trait that inherits another trait, to get around the problem
[06:49:53] <Edwards> It would still have to be an impl of A
[06:50:51] *** Quits: mpie (Mibbit@moz-4FAE147D.graz.surfer.at) (Quit: http://www.mibbit.com ajax IRC Client)
[06:52:05] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[06:56:06] *** Quits: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net) (Ping timeout)
[06:57:26] *** Joins: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net)
[06:58:03] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[07:00:19] *** Quits: sigma (sigma@moz-E3462A08.range86-135.btcentralplus.com) (Ping timeout)
[07:01:12] <joelteon> any TLS support for rust?
[07:01:29] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[07:02:13] *** Quits: caltelt (nick@moz-433C008F.dyn.centurytel.net) (Quit: Konversation terminated!)
[07:02:47] *** Joins: caltelt (nick@moz-433C008F.dyn.centurytel.net)
[07:03:25] *** caltelt is now known as juszczakn
[07:06:07] *** Quits: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net) (Ping timeout)
[07:07:19] *** Joins: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net)
[07:07:51] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[07:08:18] *** Quits: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net) (Quit: Taking a nap.)
[07:08:28] <skrylar> joelteon: thread local storage?
[07:08:33] <skrylar> yes, but its semi-deprecated
[07:08:47] <skrylar> you're intended to use task local storage and not worry about C threads
[07:08:56] <joelteon> transport layer security
[07:09:10] <klutzy> joelteon: there are some nss/openssl binding efforts at: https://github.com/chris-morgan/rust-http/pull/31
[07:09:12] <skrylar> that much i donno; i think they were removing some of the crypto code
[07:10:21] *** Quits: Liothen (liothen@moz-92B99500.org) (Quit: Textual IRC Client: www.textualapp.com)
[07:11:12] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[07:11:35] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[07:11:41] <skrylar> I feel like a weirdo whenever I replace someone's build system with cmake
[07:11:53] <klutzy> skrylar: (on another tls) I thought it is not deprecated, but just not recommended for most cases
[07:12:32] <skrylar> klutzy: one of the docs i read said they were considering removing it, but i'm not the authority on that
[07:12:34] <joelteon> oh good, rust-http
[07:13:04] <skrylar> i saw there was a termbox binding for rust, went and sent a pull request so that lib has a 'normal' cmake rig instead of waf o_O
[07:14:49] *** Joins: mib_98l0ry (Mibbit@moz-1095CD08.kanagawa.ocn.ne.jp)
[07:14:55] *** Joins: eddyb (eddy@EE946B63.921A1753.FCAAE698.IP)
[07:15:38] *** Joins: sigma (sigma@moz-587D448.range86-135.btcentralplus.com)
[07:16:46] *** Joins: jackneill (jackneill@moz-983C0303.pool.digikabel.hu)
[07:16:59] *** Joins: santiago (santiago@moz-8ADE82B4.socal.res.rr.com)
[07:17:11] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[07:17:53] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[07:20:39] *** Quits: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net) (Ping timeout)
[07:21:49] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[07:22:02] *** Quits: pyon (user@BCC41BDF.6C782DF8.1C8C8CE9.IP) (Quit: lag)
[07:24:49] *** Joins: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net)
[07:25:04] *** Joins: lenstr (lenstr@DC7ED2.9636F313.7A27613B.IP)
[07:25:49] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[07:26:31] *** Joins: c-a (c-a@380CCB84.6116A87C.3B6D96BA.IP)
[07:39:19] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[07:39:27] *** Joins: awidegreen (awidegreen@moz-947695F6.dip0.t-ipconnect.de)
[07:41:30] *** Quits: lenstr (lenstr@DC7ED2.9636F313.7A27613B.IP) (Client exited)
[07:42:49] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[07:43:18] *** Joins: ptc (Adium@moz-70022D61.hsd1.ma.comcast.net)
[07:43:45] *** Quits: zmthy (Tim@moz-1D8B7413.dsl.dyn.ihug.co.nz) (Quit: leaving)
[07:45:02] *** Quits: ptc (Adium@moz-70022D61.hsd1.ma.comcast.net) (Ping timeout)
[07:45:24] *** Quits: mib_98l0ry (Mibbit@moz-1095CD08.kanagawa.ocn.ne.jp) (Quit: http://www.mibbit.com ajax IRC Client)
[07:47:31] *** Joins: zmthy (Tim@moz-1D8B7413.dsl.dyn.ihug.co.nz)
[07:47:35] *** Quits: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com) (Input/output error)
[07:49:25] *** Quits: victorporof (victorporo@AFD25FB8.16D3B2F1.79933D60.IP) (Quit: victorporof)
[07:50:14] *** Joins: engla (engla@moz-F64E1B0F.cust.bredbandsbolaget.se)
[07:51:32] *** Quits: awidegreen (awidegreen@moz-947695F6.dip0.t-ipconnect.de) (Ping timeout)
[07:52:59] *** Quits: eddyb (eddy@EE946B63.921A1753.FCAAE698.IP) (Ping timeout)
[07:56:27] *** Joins: eddyb (eddy@EE946B63.921A1753.FCAAE698.IP)
[07:58:15] *** Joins: bellows (Mibbit@moz-1095CD08.kanagawa.ocn.ne.jp)
[07:59:43] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[08:01:09] *** Joins: victorporof (victorporo@AFD25FB8.16D3B2F1.79933D60.IP)
[08:13:58] *** Quits: juszczakn (nick@moz-433C008F.dyn.centurytel.net) (Quit: Konversation terminated!)
[08:14:56] <wycats_> if I have a &mut T and want to return it as a &T, is that possible?
[08:16:19] <eddyb> wycats_: &mut T coerces to &T
[08:17:06] <wycats_> lib.rs:18:4: 19:3 error: mismatched types: expected `&TimeChange` but found `&mut TimeChange` (values differ in mutability)
[08:17:31] <eddyb> hmm, no idea then
[08:17:36] <wycats_> welp
[08:17:38] <eddyb> wycats_: maybe "as" will work
[08:17:55] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[08:17:56] <wycats_> lib.rs:18:4: 18:23 error: non-scalar cast: `&mut TimeChange` as `&TimeChange`
[08:17:56] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Connection reset by peer)
[08:18:31] <eddyb> weird
[08:18:55] <klutzy> `as` is weird so doesn't work as expected in most cases :p
[08:18:57] <eddyb> wycats_: &*ptr should do the right thing (but I don't trust it myself)
[08:19:09] <wycats_> yeah it seemed to once I supplied a lifetime
[08:19:10] <Yurume> wycats_: can you post the whole function?
[08:19:13] <klutzy> it only works for primitives and trait coersion I think
[08:19:36] <klutzy> (and again there's high prob. that I'm wrong :p)
[08:19:36] <Yurume> I think the following will work: fn foo<'r>(x: &'r mut Bar) -> &'r Bar { x }
[08:19:45] <wycats_> https://www.irccloud.com/pastebin/TEPtn9Lr
[08:19:57] <wycats_> sucks that the &* is needed there
[08:20:35] <Yurume> wycats_: is self &'a mut TimeChange? weird.
[08:20:45] <wycats_> I'm writing a fluent style API
[08:20:50] <Yurume> is `self` `&'a mut TimeChange`?*
[08:21:35] *** Joins: Ms2ger (Ms2ger@moz-268A540A.access.telenet.be)
[08:21:48] *** Joins: pyrac (pyrac@moz-9F0C9816.w86-212.abo.wanadoo.fr)
[08:23:14] <wycats_> Yurume: right
[08:23:17] <wycats_> https://gist.github.com/8144104
[08:23:21] <wycats_> that's the whole thing
[08:23:42] <wycats_> the idea is you can say TimeChange::new()::years(10)::months(5) etc.
[08:24:08] <Yurume> .years(10).months(5) you meant?
[08:25:26] <Yurume> wycats_: I think, while your design for builder is sane, you should consume the self and return a value instead
[08:25:57] <wycats_> Yurume: so take self?
[08:25:59] <Yurume> i.e. fn year(self, y:uint) -> TimeChange { let mut tc = self; tc.year = y; tc }
[08:26:00] <Yurume> yes
[08:26:04] <wycats_> ah yeah
[08:26:06] <wycats_> makes total sense
[08:26:08] <wycats_> I'm a moron
[08:26:12] <wycats_> just keep moving it around
[08:26:15] *** Joins: MrFahrenheit (RageOfThou@3FEF494C.29C984D5.783DEDCA.IP)
[08:26:38] <Yurume> otherwise TimeChange::new().year(10) won't work, since ...new() will return a value which is not mutable by itself
[08:26:51] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[08:27:13] <skrylar> wycats_: whats the line that is breaking?
[08:27:20] <Yurume> values are mutable when they are mounted to some kind of mutable slot, i.e. mutable variables or RcMut (indirectly)
[08:27:22] <wycats_> everything in the above is working
[08:27:37] <skrylar> IME you can always drop mutability by simply not mentioning it anymore
[08:27:42] <wycats_> Yurume: and saying let mut TimeChange::new().year()... won't work?
[08:27:43] <skrylar> going backwards, not so much
[08:27:45] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Quit: Busying myself...)
[08:27:47] <klutzy> btw I'm not sure if it should be prohibited to return &mut T for `fn f<'r>(...) -> &'r T`
[08:27:55] <klutzy> (it's prohibited now)
[08:28:18] <Yurume> klutzy: yeah, that seems strange, although in this case the return value should be &'r mut T in order to be chained
[08:28:22] *** Joins: threecreepio (Adium@moz-9DA6CBAC.bredband.comhem.se)
[08:28:33] *** Quits: sigma (sigma@moz-587D448.range86-135.btcentralplus.com) (Client exited)
[08:28:55] <Yurume> so auto-demut does not work in the return value but it works in the function arguments?
[08:29:03] *** Quits: _Vi (vi@D7277DB6.6FF508C1.10C239DF.IP) (Ping timeout)
[08:29:23] <wycats_> it seems to be happy with it
[08:29:29] <wycats_> the chaining
[08:29:36] <skrylar> eddyb: does it seem logical to deal with a C terminal library by putting it in an owned unit struct? i did that, since it frees the lib when that struct drops out, and it controls who is writing to the screen
[08:29:59] <wycats_> this compiles: https://gist.github.com/8144167
[08:30:03] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[08:30:06] <wycats_> https://gist.github.com/wycats/8144167#file-lib-rs-L53
[08:30:21] <wycats_> the compiler is taking out a mutable loan for me it seems
[08:30:29] *** Joins: jessta (jessta@moz-FEFFE342.dyn.iinet.net.au)
[08:30:39] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[08:30:54] <Luqman> Yurume: fn year(mut self, y: uint) works btw
[08:30:57] <eddyb> skrylar: an unit struct as in "struct FooBar;"? - that's not a good idea, because anyone can construct it
[08:31:12] <Yurume> Luqman: did it get merged to the master? hurray
[08:31:12] <skrylar> eddyb: its done through a create method
[08:31:25] <skrylar> all though i haven't looked in to how to shield it from multi-calling yet
[08:31:34] <eddyb> skrylar: if you can see the type, you can construct it
[08:31:43] <eddyb> you can't prevent that
[08:31:56] <Yurume> struct FooBar { priv _dummy: () } ?
[08:32:20] <eddyb> Yurume: yeah. preferably holding some kind of state
[08:32:28] <skrylar> Yurume: i should see if that works; i didn't think about using private fields to block constructors
[08:33:06] <eddyb> it's the only way AFAIK. there's also empty enums which can't be safely constructed from Rust code
[08:33:14] <Luqman> eddyb: you can make the struct itself non public and only expose a static new method or something
[08:33:29] <eddyb> Luqman: then you can't hold the struct
[08:33:31] <Yurume> maybe we need to make sure that there is no equivalent concept to C++'s constructor and destructor
[08:34:01] <Yurume> "drop" is not a destructor, it looks like a destructor and it pratically replaces many uses of destructors but it's not exactly like a destructor
[08:34:22] <wycats_> this is pretty nice
[08:34:32] <Luqman> eddyb: what do you mean by hold? you can do `let x = Foo::new();` without Foo being public
[08:34:34] <Yurume> wycats_: btw are you working on something like tzcode?
[08:34:42] <skrylar> as long as Drop still cleans up whenever the object falls out of scope, heh
[08:34:44] <wycats_> I'm porting ActiveSupport's time sugar to rust
[08:34:46] <wycats_> for fun
[08:34:48] <Yurume> tzcode wrapper?*
[08:34:50] <wycats_> 2.days().ago()
[08:34:52] <Yurume> aha
[08:34:58] <wycats_> seriously just for fun
[08:35:05] <wycats_> kind of interested to see how it will feel totally typed
[08:35:17] <skrylar> Luqman: I think he means you cant set an explicit storage type to a private struct
[08:35:29] <skrylar> so let y : PrivateStruct = x.foo // not possible
[08:37:15] *** Joins: sigma (sigma@moz-587D448.range86-135.btcentralplus.com)
[08:37:54] *** Joins: johnrkd (johnrkd@E0A7FE54.52A24E51.B05A4819.IP)
[08:37:57] <Yurume> rusti: /*0.8 ahead*/ struct Days<T>(T); struct Ago<T>(Days<T>); trait X<T>{fn days(self)->Days<T>;} trait Y<T>{fn ago(self)->Ago<T>;} impl<T:Num> Days<T> for T{fn days(self)->Days<T>{Days(self)}} impl<T:Num> Ago<T> for Days<T>{fn ago(self)->Ago<T>{Ago(self)}} 2.days().ago()
[08:37:57] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[08:38:01] -rusti- pastebinned 6 lines of output: http://ix.io/9xb
[08:38:11] <eddyb> rusti: version
[08:38:12] -rusti- "rustc 0.9-pre (61f8c05 2013-10-24 13:01:18 -0700)"
[08:38:18] <Yurume> was it updated? :o
[08:38:19] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[08:38:31] <eddyb> Luqman: yeah, but you're restricted to a single function
[08:38:35] <Yurume> rusti: struct Days<T>(T); struct Ago<T>(Days<T>); trait X<T>{fn days(self)->Days<T>;} trait Y<T>{fn ago(self)->Ago<T>;} impl<T:Num> X<T> for T{fn days(self)->Days<T>{Days(self)}} impl<T:Num> Y<T> for Days<T>{fn ago(self)->Ago<T>{Ago(self)}} 2.days().ago()
[08:38:36] -rusti- main::Ago<int>(main::Days<int>(2))
[08:38:36] *** Joins: moostik (Icedove@moz-40E6ACEF.w2-2.abo.wanadoo.fr)
[08:38:42] <eddyb> Yurume: nope. just the latest working build
[08:38:42] <Yurume> it will work definitely
[08:38:47] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[08:38:58] <Yurume> eddyb: ah, two months ago...
[08:39:08] <Yurume> wycats_: proof of concept above.
[08:39:18] <Yurume> (sorry for dense code, but rusti does not accept a pastebin)
[08:39:40] <Yurume> you can ensure type safety using such singleton structs
[08:40:01] <skrylar> I'm learning all kinds of weird Rust things by trying to bind C libraries and layer the safeties over it ><
[08:40:03] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[08:40:13] *** Joins: nrc (ncameron@moz-A76F1825.cable.virginm.net)
[08:40:23] <skrylar> Yurume: i need to put that trick in my tip gist
[08:40:35] <Yurume> haha
[08:40:54] <wycats_> confirm
[08:40:58] <wycats_> here's another question
[08:41:41] <wycats_> https://gist.github.com/wycats/8144233#file-lib-rs-L57
[08:41:50] <wycats_> it says I'm trying to access tm_year on &Sel
[08:41:52] <wycats_> &Self
[08:42:04] <wycats_> lib.rs:57:41: 57:53 error: attempted access of field `tm_year` on type `&Self`, but no field with that name was found
[08:42:08] <wycats_> but this is a trait
[08:42:08] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[08:42:11] <wycats_> and Tm has that field
[08:42:22] <wycats_> is a trait not allowed to access fields?
[08:42:26] <wycats_> on self?
[08:42:33] <Yurume> since ChangeTime itself can be implemented to, say, integers
[08:42:34] *** Quits: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net) (Ping timeout)
[08:42:40] <Yurume> though it wouldn't make much sense
[08:42:52] <Yurume> also note that
[08:43:02] <Yurume> in this case you will want to define the method body to impl
[08:43:13] <johnrkd> i'm trying to compile rust from source on windows, and although python 2.7 is installed to C:\python27, ./configure won't find it; and i dont know how this line works: probe_need CFG_PYTHON      python2.7 python2.6 python2 python
[08:43:21] <wycats_> I would expect that the trait will just refuse to impl on integers
[08:43:27] <wycats_> instead of refusing to compile ahead of time
[08:43:32] <Yurume> no, it perfectly works!
[08:43:38] <Yurume> as I pasted above
[08:43:43] *** Joins: ptc (Adium@moz-70022D61.hsd1.ma.comcast.net)
[08:43:46] <wycats_> I'm confused
[08:43:47] <Yurume> impl SomeTrait for uint { ... } totally works
[08:44:22] <wycats_> ah
[08:44:35] <wycats_> so I make the method signature in the trait
[08:44:40] <Yurume> wycats_: traits are not like classes. if you're willing to take a some analogy, it's like a *temporary* class and it is not a direct property to the value
[08:44:41] <wycats_> and implement it in the Tm itself
[08:44:52] *** Joins: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net)
[08:44:56] <wycats_> Yurume: yeah I guess I just wasn't sure how default impls works
[08:44:59] <wycats_> worked*
[08:45:05] <wycats_> I assumed they were more like templated
[08:45:13] <Yurume> default impls are for default methods
[08:45:19] <Yurume> default methods?
[08:45:26] *** Quits: ptc (Adium@moz-70022D61.hsd1.ma.comcast.net) (Ping timeout)
[08:45:38] <Yurume> I think you meant a method implementation in the trait (not in the impl)
[08:45:50] *** Quits: bellows (Mibbit@moz-1095CD08.kanagawa.ocn.ne.jp) (Quit: http://www.mibbit.com ajax IRC Client)
[08:46:01] <Yurume> which is called a default method, and it does not have much knowledge about the actual type which implements that trait
[08:46:07] <Yurume> hence the error.
[08:46:48] <Yurume> default methods are mostly useful as helper interfaces around the core interface of the trait
[08:46:59] *** Quits: ofeldt (ofeldt@moz-32E7C15D.dip0.t-ipconnect.de) (Ping timeout)
[08:47:15] <Yurume> in this case you let types to implement only the core interface
[08:47:32] <Yurume> and helper interfaces will use these core interface to give a better API
[08:48:06] *** Joins: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com)
[08:48:39] <wycats_> yeah this all makes sense
[08:48:59] <wycats_> I was assuming that method impls in the trait would be templated onto the class they were applied to
[08:49:02] <wycats_> but they're dumber than that
[08:49:48] <Yurume> it's much more restricted (i.e. gives more safety in expense of agility) than templates
[08:50:21] <Yurume> for example, you don't need something like C++'s SFINAE ("Substitution Error Is Not An Error")
[08:50:22] *** Joins: nano (nano@moz-ED77243C.superkabel.de)
[08:50:35] <Yurume> Substitution Failure*
[08:51:00] *** Joins: ofeldt (ofeldt@moz-32E7C15D.dip0.t-ipconnect.de)
[08:53:26] *** Quits: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com) (Ping timeout)
[08:53:37] *** Quits: ofeldt (ofeldt@moz-32E7C15D.dip0.t-ipconnect.de) (Ping timeout)
[08:56:28] *** Quits: maxiepoo (Max@moz-D66F3D4E.atvci.net) (Quit: maxiepoo)
[08:57:00] *** Joins: ofeldt (ofeldt@moz-32E7C15D.dip0.t-ipconnect.de)
[08:58:47] *** Quits: ofeldt (ofeldt@moz-32E7C15D.dip0.t-ipconnect.de) (Ping timeout)
[08:58:59] *** Joins: twi (Adium@moz-C73A361F.business.telecomitalia.it)
[08:59:29] <eddyb> rusti: trait Foo<'a> {fn visit_i(&self, v: &'a int){walk_i(self, v)}}fn walk_i<'a, F: Foo<'a>>(this: &F, v: &'a int){}
[08:59:31] -rusti- pastebinned 10 lines of output: http://ix.io/9xc
[09:00:13] <eddyb> yeah, things have changed
[09:00:26] <skrylar> eddyb, Yurume: added it https://gist.github.com/Skrylar/8142997
[09:00:55] <Yurume> skrylar: great! FYI, my Github handle is @lifthrasiir.
[09:01:09] *** Joins: lenstr (lenstr@66C0DC19.121853A2.28B5BA55.IP)
[09:02:31] *** Joins: ofeldt (ofeldt@moz-32E7C15D.dip0.t-ipconnect.de)
[09:03:25] *** Quits: lenstr (lenstr@66C0DC19.121853A2.28B5BA55.IP) (Quit: Leaving...)
[09:04:59] <skrylar> Yurume: alright, i added a follow
[09:05:02] *** Joins: maxiepoo (Max@moz-D66F3D4E.atvci.net)
[09:07:41] <eddyb> mine is... well, take a guess :P
[09:07:59] *** Quits: Ms2ger (Ms2ger@moz-268A540A.access.telenet.be) (Ping timeout)
[09:08:01] <eddyb> skrylar: ```rust for highlighting. oh, wait, you're not using markdown :/
[09:08:30] <skrylar> eddyb: i have [source,rust] set, Github is just derping
[09:08:42] <eddyb> "If a structure contains private fields, you cannot actually create it from outside the crate which defines it." - module
[09:08:58] <eddyb> visibility is module-based. trait implementation is crate-based
[09:09:53] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[09:10:07] <skrylar> alright, i fixed it
[09:10:20] <skrylar> i'll wait to commit the new set for a little bit in case someone finds other errors
[09:11:56] <skrylar> actually nvm i'll just do it now
[09:13:07] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[09:13:10] <skrylar> eddyb: i haven't been using markdown because adoc just has a few more markups that i find useful at the moment; things like attributed quotes, note/tip/warning callouts are one of those
[09:13:26] <skrylar> there isn't a markdown way to say "this person said that" IIRC
[09:14:05] <Yurume> Markdown is indeed not designed for extensibility
[09:14:22] <skrylar> Yurume: asciidoc is basically DocBook as text notation, lol
[09:14:24] <Yurume> which limits its usefulness for documentation, for example
[09:14:30] <Yurume> aargh DocBook! XD
[09:15:01] <skrylar> its a little bit like rST in that there are [blocks] instead of block::, but it has a 1:1 with the majority of docbook elements and can be converted through the docbook chain to make books
[09:15:23] <skrylar> and now that asciidoctor exists as a ruby gem, its no longer painful to use
[09:15:34] <skrylar> the old python version isn't very well built :(
[09:16:46] <skrylar> i just realized i'm going to need to get sqlite bindings later
[09:17:56] <Yurume> I think pandoc supports asciidoc... only for writing (sadly).
[09:18:26] <skrylar> i think it can input it but it butchers it
[09:18:50] <skrylar> the internal structure for pandoc mirrors markdown+pandoc extensions
[09:19:19] <skrylar> so it doesn't matter what input you give, pandoc will lose things like annotated quotes
[09:19:33] *** Quits: z0w0 (zack@moz-356923D4.lnse4.woo.bigpond.net.au) (Quit: z0w0)
[09:20:29] <skrylar> i haven't felt industrious enough to peer in to the internals; haskell is a scary place
[09:21:11] <skrylar> ew. this is exactly what I don't want to see in a binding: https://github.com/linuxfood/rustsqlite/blob/master/src/sqlite/lib.rs
[09:21:13] *** Quits: nrc (ncameron@moz-A76F1825.cable.virginm.net) (Ping timeout)
[09:21:22] <skrylar> return Err(SQLITE_NOMEM)
[09:21:35] *** Joins: Jesin (Jesin@moz-4B662E55.washdc.fios.verizon.net)
[09:21:51] *** Joins: rca (rcatolino@moz-F94DC7FB.adsl.proxad.net)
[09:23:11] <skrylar> I prefer there to be a SqliteError enum with those values, so you get a clean Err(NoMemory) and thanks to repr that can be done for free
[09:24:01] *** Joins: Ms2ger (Ms2ger@moz-8F01DF4A.ugent.be)
[09:24:48] <skrylar> though i realize writing bindings isn't necessarily fun, and most people just want to get the lib working asap
[09:25:05] <eddyb> one thing to consider when writing a binding... it may be possible to rewrite the functionality in Rust, instead
[09:25:19] <skrylar> eddyb: not for something like sqlite
[09:25:39] <skrylar> its non-trivial to port that over and do the extensive failure testing they do
[09:26:02] <eddyb> (you may value safety over feature set)
[09:26:17] <eddyb> skrylar: sure, SDL is also something you can't just replicate in Rust
[09:26:19] <skrylar> I bind the safety back over the wrapper though
[09:26:29] <eddyb> keep in mind that is faux safety :P
[09:26:59] <skrylar> as far as what goes on on the C-side, yeah; though I just aim for making it hard to screw up using the lib on the Rust side
[09:27:29] <skrylar> At least for libs like SDL/Sqlite which are already massively tested
[09:27:37] <eddyb> that's the reason I am (well, should be. I blame the leg) writing a PNG decoder in Rust to replace a thin libpng wrapper
[09:28:03] <skrylar> heh
[09:28:10] <skrylar> "SOIL for rust"?
[09:29:06] <eddyb> I've yet to start implementing inflate. that's going to be fun (I hope I can beat zlib by using some specialization tricks a la C++)
[09:29:18] <skrylar> maybe with some SIMD macros, heh
[09:29:39] <Yurume> eddyb: do you have a working zlib implementation in Rust?
[09:29:47] <skrylar> Yurume: no, thats what inflate is
[09:29:57] <eddyb> that's the easy half, actually
[09:30:07] <Yurume> ah, okay, decoding only lib is easier (and fun)
[09:30:08] <skrylar> (inflate/deflate is the algorithm used by z)
[09:30:22] <eddyb> + headers + other nonsense
[09:30:36] *** Quits: dcrewi (david@moz-AB8667CE.gyrae.net) (Ping timeout)
[09:30:49] <Yurume> though getting an optimal decompressor involves some headaches
[09:30:54] <eddyb> Yurume: well, you can always cheap out and "deflate" using the noop block type
[09:31:19] <Yurume> I think some legacy browsers did not accept the raw block
[09:31:26] <eddyb> haha, what?
[09:31:44] <skrylar> that reminds me of wanting to make an auto-update engine, and when i looked at how rsync worked
[09:31:45] <Yurume> not sure, I've written a (dummy) PNG encoder about ten years ago
[09:32:01] <eddyb> Yurume: sounds like custom non-compliant inflate implementations
[09:32:08] <skrylar> all though to do it in rust, i'd have to fiddle with it to statically link std
[09:32:13] <Yurume> right, that is the real headache :(
[09:32:19] <eddyb> skrylar: already happening
[09:32:23] <Yurume> so I went to the static Huffman coding
[09:32:29] <skrylar> eddyb: updating or static std?
[09:32:38] <eddyb> statically linking against everything
[09:32:40] <Yurume> (and no LZ77)
[09:32:48] <skrylar> eddyb: this is a hilarious inverse of Go
[09:33:02] <skrylar> Go: Static linking. How to do dynamic? Tell everyone we'll deal with it someday and then don't!
[09:33:03] <eddyb> you have to provide a flag for it to use dynamic linking
[09:33:06] <skrylar> Rust: Dynamic link all the things. xD
[09:33:19] <eddyb> skrylar: not since a couple of weeks ago
[09:33:28] <johnrkd> so I just paste lines here and the bot deals with it ?
[09:33:33] <Yurume> how's going with the static and dynamic linkage story?
[09:33:38] <skrylar> eddyb: did they happen to get error handling too?
[09:33:40] <Yurume> johnrkd: limited to one line.
[09:33:55] <eddyb> skrylar: error handling? what do you mean?
[09:33:57] <Yurume> rusti: format!("Hi, {}!", "you'll")
[09:33:57] *** Joins: vfetwnuncszu (david@moz-AB8667CE.gyrae.net)
[09:33:57] -rusti- ~"Hi, you'll!"
[09:34:04] *** vfetwnuncszu is now known as dcrewi
[09:34:09] <skrylar> eddyb: they used to have exception support listed as 'someday'
[09:34:18] <skrylar> and in the interim, just did the horrible C-ism for returning error codes
[09:34:42] <eddyb> skrylar: not really. C++-style catchable exceptions are a nono
[09:34:48] <skrylar> :/
[09:34:52] <skrylar> i'll just keep rust then
[09:35:08] <eddyb> we actually have C++ exceptions *and* they are caught, but you can't stop propagation :P
[09:35:16] <skrylar> well, you 'can'
[09:35:18] <skrylar> its just clunky
[09:35:29] <eddyb> you can break a lot of stuff if you do
[09:35:31] <Yurume> johnrkd: any questions with code examples? :) (for larger codes, we normally recommend a pastebin)
[09:35:33] <skrylar> i saw task::try which spins off a task to run the block, which lets you do it
[09:35:41] <skrylar> at the cost of having loads of tasks blocked against each other
[09:36:03] <eddyb> skrylar: all stack dtors are ran while unwinding
[09:36:08] <Yurume> eddyb: but sometimes it is possible to catch SIGSEGV!
[09:36:15] <eddyb> skrylar: so you can actually have "finally"
[09:36:30] <eddyb> (||{...}).finally(||{...})
[09:36:33] <Yurume> (no kidding, C++ exception system using Win32 SEH allow such nonsense)
[09:36:37] <Yurume> allows*
[09:36:56] <skrylar> i like the condition system
[09:37:06] <eddyb> skrylar: I've heard it's going away
[09:37:12] <skrylar> i will dislike whoever removes that
[09:37:14] <skrylar> its useful
[09:37:28] <Yurume> for me, the condition system looks like a task-local analogue to the task system
[09:37:47] <klutzy> on condition: https://github.com/mozilla/rust/issues/10602
[09:37:50] <Yurume> tasks can fail and its failure may or may not be linked to the parent
[09:38:02] <skrylar> i like it because its basically a fail! with the optional ability to specify a recovery method if you care hard enough
[09:38:11] <skrylar> plus the condition can be set for multiple calls
[09:38:27] <klutzy> I guess io_error will be gone, but conditions will be refined
[09:38:43] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[09:40:32] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[09:41:42] *** Quits: maxiepoo (Max@moz-D66F3D4E.atvci.net) (Ping timeout)
[09:44:04] *** Joins: ptc (Adium@moz-70022D61.hsd1.ma.comcast.net)
[09:44:14] <skrylar> i posted a comment for clarification on there
[09:44:26] <skrylar> i think they want to remove being able to use closures, and limit it strictly to say, enums
[09:44:40] *** Joins: maxiepoo (Max@moz-D66F3D4E.atvci.net)
[09:44:43] <skrylar> where you set an ErrorStrategyEnum to one of a set number of recovery options
[09:44:58] *** Quits: ercxx (ercan@moz-5B55241D.dyn.optonline.net) (Quit: WeeChat 0.4.2)
[09:45:03] <skrylar> I'd be okay with that, since that's what I used it for anyway.
[09:45:04] <johnrkd> Yurume: nah i had the off_t bug while compiling under windows, but i found the solution in the open issue @ github; also, i thought the bot got multiple line input from irc and pastebinned it, before understanding rust_i_ is for interactive and the pastebin thing is for output :P
[09:45:51] *** Quits: ptc (Adium@moz-70022D61.hsd1.ma.comcast.net) (Ping timeout)
[09:48:57] *** Joins: amro (quassel@D9E34ACF.8AAAF769.FAAB0799.IP)
[09:50:04] *** Joins: yota (sdouche@moz-7D878FB8.securactive.net)
[09:52:27] *** Joins: sebcrozet (sebcrozet@moz-2517AE39.w80-13.abo.wanadoo.fr)
[09:54:50] *** Quits: b (b@moz-55CA322E.org) (Quit: ZNC - http://znc.in)
[09:56:21] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Input/output error)
[09:56:35] *** Joins: b (b@moz-55CA322E.org)
[09:56:52] <skrylar> there
[09:57:03] <skrylar> made a static mutable, it checks if a terminal has already been issued
[09:57:13] <skrylar> so now the struct from earlier is truly a singleton, as it should be
[09:58:14] *** Joins: andre_ (andre@CA528A4A.45A4338E.8EE27E6.IP)
[10:01:12] <eddyb> skrylar: make the static mutable an atomic (or use atomic operations), otherwise you're breaking thread safety
[10:01:32] *** Quits: maxiepoo (Max@moz-D66F3D4E.atvci.net) (Quit: maxiepoo)
[10:06:41] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[10:09:08] *** Joins: ninechars (glaebhoerl@3391DE98.E9231B2.A0179ACD.IP)
[10:09:16] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Input/output error)
[10:11:42] <skrylar> eddyb: i wouldn't begin to know how
[10:14:42] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[10:16:54] *** Joins: vodik (simon@moz-51845A17.range86-179.btcentralplus.com)
[10:18:16] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[10:25:13] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[10:25:18] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[10:28:51] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[10:33:51] *** Quits: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net) (Ping timeout)
[10:35:30] *** Joins: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net)
[10:35:55] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[10:36:06] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[10:38:20] *** Quits: sigma (sigma@moz-587D448.range86-135.btcentralplus.com) (Ping timeout)
[10:38:43] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[10:39:20] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[10:40:25] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[10:43:44] *** Joins: q66_ (q66@6EE9DE40.46454B5D.33AABD5F.IP)
[10:44:26] *** Joins: ptc (Adium@moz-70022D61.hsd1.ma.comcast.net)
[10:46:09] *** Quits: ptc (Adium@moz-70022D61.hsd1.ma.comcast.net) (Ping timeout)
[10:50:02] *** Joins: smodo (tadnr@moz-6398EFDF.dclient.hispeed.ch)
[10:52:17] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[10:52:23] *** Joins: robert (uid15951@moz-A42E5B7B.irccloud.com)
[10:53:24] *** Joins: ricepuddin (graham@A584E1EF.E6D957F2.39C00A7A.IP)
[10:53:37] *** Joins: sigma (sigma@moz-E16890C8.range86-145.btcentralplus.com)
[10:54:11] *** Joins: z0w0 (zack@moz-356923D4.lnse4.woo.bigpond.net.au)
[10:55:49] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[10:56:18] *** Joins: jaen (jaen@moz-336A316.play-internet.pl)
[10:59:27] *** Quits: lpy (lpy@7360AA58.F09091A8.1348A864.IP) (Quit: Leaving...)
[10:59:55] *** Quits: sigma (sigma@moz-E16890C8.range86-145.btcentralplus.com) (Ping timeout)
[11:03:42] *** Quits: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net) (Ping timeout)
[11:04:23] *** Joins: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net)
[11:04:52] *** Joins: dbaupp (Thunderbir@moz-7BAE2C31.pa.nsw.optusnet.com.au)
[11:18:08] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[11:27:43] *** Quits: pyrac (pyrac@moz-9F0C9816.w86-212.abo.wanadoo.fr) (Quit: pyrac)
[11:28:54] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[11:32:08] *** Quits: ofeldt (ofeldt@moz-32E7C15D.dip0.t-ipconnect.de) (Ping timeout)
[11:32:48] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[11:35:43] *** Joins: ofeldt (ofeldt@moz-BAAF4743.dip0.t-ipconnect.de)
[11:36:51] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[11:37:29] *** Joins: dredozubov (dredozubov@2F14E2C1.F70E5FA9.F63E14E8.IP)
[11:38:14] *** Quits: hacker_sam (hacker_sam@moz-39E7C4A7.dsl.bngr.epix.net) (Ping timeout)
[11:38:56] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[11:39:47] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Connection reset by peer)
[11:39:55] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[11:40:48] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[11:40:51] *** Joins: hacker_sam (hacker_sam@moz-D87A2311.dsl.bngr.epix.net)
[11:41:36] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[11:44:46] *** Joins: frau (frau@D747870C.75963994.405878F2.IP)
[11:44:49] *** Joins: ptc (Adium@moz-70022D61.hsd1.ma.comcast.net)
[11:46:30] <frau> So I want to extract a helper method taking an array, but my original (unrefactored) usage of ~[f32].push_all(...) now doesn't work because I made the parameter: &mut [f32]
[11:46:31] *** Quits: ptc (Adium@moz-70022D61.hsd1.ma.comcast.net) (Ping timeout)
[11:47:03] <frau> do I have to make the parameter ~[f32] or is there another way around it?
[11:49:06] *** Quits: dbaupp (Thunderbir@moz-7BAE2C31.pa.nsw.optusnet.com.au) (Ping timeout)
[11:50:21] *** Quits: hacker_sam (hacker_sam@moz-D87A2311.dsl.bngr.epix.net) (Ping timeout)
[11:51:08] <eddyb> frau: what does the method do?
[11:51:37] <eddyb> "another way" requires more context to decide the best approach
[11:51:40] *** Joins: spider-mario (spidermari@moz-81131DB6.fbx.proxad.net)
[11:52:10] <frau> eddyb: pushes a bunch of values onto the vector
[11:52:18] <frau> uhh
[11:52:23] <eddyb> it could take &mut ~[f32]
[11:52:25] <frau> generated from some other struct that the helper takes
[11:52:30] <frau> ohhhh
[11:52:31] <frau> cool
[11:53:02] *** Quits: zmthy (Tim@moz-1D8B7413.dsl.dyn.ihug.co.nz) (Ping timeout)
[11:53:34] <johnrkd> what does "can't find crate for `std`" really mean ?
[11:53:35] *** Joins: hacker_sam (hacker_sam@moz-55BCB16D.dsl.bngr.epix.net)
[11:53:39] <johnrkd> i just compiled from source on windwos
[11:54:02] <frau> eddyb: awesome that's exactly what I wanted
[11:54:06] <frau> thanks!
[11:54:11] <eddyb> johnrkd: sounds like you took rustc.exe out but didn't keep the directory structure around it
[11:56:58] <johnrkd> eddyb: i kept the structure intact, and tried mixing it too
[11:57:10] <johnrkd> std*.dll and .rlib are there
[11:57:11] *** Joins: dbaupp (Thunderbir@moz-FB4DEC5.pa.nsw.optusnet.com.au)
[11:57:26] <johnrkd> i'm thinking the package lookup depends on some env var !?
[11:57:41] <eddyb> johnrkd: maybe relative paths don't work, then you need to use ./configure --prefix=... and make install
[11:58:28] <eddyb> I doubt it cares much about env vars, it should be absolute and (maybe) relative (from the rustc.exe location)
[11:59:23] *** Joins: hacker_s_ (hacker_sam@moz-4B34DF4B.dsl.bngr.epix.net)
[11:59:43] *** Quits: hacker_sam (hacker_sam@moz-55BCB16D.dsl.bngr.epix.net) (Ping timeout)
[11:59:44] <johnrkd> :/ well it works under msys
[12:00:11] <johnrkd> i wanted to take it out though
[12:00:48] <dbaupp> fwiw, I can move the whole stage2 output directory around and everything works ok (on linux)
[12:01:11] <johnrkd> and all it takes is the stage2 tree ?
[12:01:56] <johnrkd> i moved it and tried executing under normal cmd.exe and it doesn't find the standard crates, even if i put them in the same directory
[12:02:12] <johnrkd> oh well, it works under msys, that's enough
[12:02:28] <dbaupp> weird
[12:02:37] *** Joins: Earnestly (earnest@88884C6.A3735F9C.39C00A7A.IP)
[12:02:48] <johnrkd> do we know who makes the windows installer for the releases ?
[12:03:13] <dbaupp> yes, mozilla
[12:03:43] <johnrkd> uh, i'd like rust to have daily snapshots in installer forms
[12:04:07] <johnrkd> many won't go trough compiling rust themselves on windows for the snapshot
[12:04:08] <dbaupp> I believe there may be some automation built into the make files for creating the installers, which gets triggered on releas
[12:04:08] <dbaupp> e
[12:04:11] <dbaupp> (I could be wrong)
[12:04:32] <dbaupp> but yes, official nightlies is something brson (the project lead) wants
[12:05:01] *** Quits: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net) (Ping timeout)
[12:05:37] <dbaupp> https://github.com/mozilla/rust/issues/3721 and https://github.com/mozilla/rust/issues/9877 , fwiw
[12:06:34] *** Joins: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net)
[12:06:43] *** Quits: frau (frau@D747870C.75963994.405878F2.IP) (Ping timeout)
[12:08:09] *** Joins: _Vi (vi@D7277DB6.6FF508C1.10C239DF.IP)
[12:08:20] <dbaupp> johnrkd: also, https://www.nuget.org/packages/Rust/
[12:08:38] *** Quits: hacker_s_ (hacker_sam@moz-4B34DF4B.dsl.bngr.epix.net) (Ping timeout)
[12:09:07] <dbaupp> johnrkd: that is apparently nightly windows builds (although they're unofficial)
[12:09:43] <johnrkd> oh :/ had i searched it before
[12:09:50] *** Joins: zmthy (Tim@moz-1D8B7413.dsl.dyn.ihug.co.nz)
[12:10:12] <johnrkd> \/mk/dist.mk has the rules to package to .exe
[12:10:59] <johnrkd> so they're waiting on binary installers for linux and osx
[12:12:07] <dbaupp> for nightlies on all platforms, yes
[12:12:27] <dbaupp> although doing it incrementally would be ok too (especially since windows is the hardest to build on)
[12:12:45] *** Joins: hacker_sam (hacker_sam@moz-DCC62DA0.dsl.bngr.epix.net)
[12:12:49] <johnrkd> is there something i can do to help it happen ?
[12:13:54] <dbaupp> I don't know personally
[12:14:21] <dbaupp> I'd guess there's not much, it's likely mostly infrastructure set up at mozilla's end
[12:14:55] <johnrkd> kaeso: "Luca Bruno (IRC: kaeso) is the initiator of the rust packaging effort"
[12:15:00] <dbaupp> feel free to talk to brson (Brian Anderson) when he's here (or comment on those issues on github)
[12:15:01] *** Quits: hacker_sam (hacker_sam@moz-DCC62DA0.dsl.bngr.epix.net) (Connection reset by peer)
[12:15:14] <johnrkd> thanks dbaupp :)
[12:15:20] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[12:16:34] *** Joins: hacker_sam (hacker_sam@moz-E89637BB.dsl.bngr.epix.net)
[12:22:23] *** Quits: dbaupp (Thunderbir@moz-FB4DEC5.pa.nsw.optusnet.com.au) (Ping timeout)
[12:23:22] *** Joins: Liigo (liigo@4A54D406.6C262C8.C3C201E8.IP)
[12:29:37] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[12:30:20] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[12:30:31] *** Quits: alex-abreu (alex@moz-5AD1ECCF.rev.sfr.net) (Ping timeout)
[12:32:09] <locks> anyone knows how much time "brew install rust" should take?
[12:33:53] <johnrkd> homebrew compiles from scratch right ? i just compiled in a vm with 1 core and it took 2.5hours iirc 
[12:35:08] *** Joins: frau (frau@D747870C.75963994.405878F2.IP)
[12:36:17] <locks> geez
[12:36:29] <locks> I'm up to about 1h at the moment, I think
[12:36:31] <eddyb> all sorts of fun can happen in a VM
[12:37:07] <johnrkd> yeah, supposedly it had enough memory though
[12:37:29] <johnrkd> so, if I run "rustc.exe t1.rs" -> "cant fin'd crate `std`"
[12:37:30] *** Quits: hacker_sam (hacker_sam@moz-E89637BB.dsl.bngr.epix.net) (Ping timeout)
[12:37:39] <johnrkd> now, if I run "rustc.exe -L . t1.rs" -> works
[12:38:09] <johnrkd> so I added . ("C:\Rust") to PATH; the same behavior happens though
[12:38:48] <eddyb> johnrkd: what's the absolute path of rustc.exe?
[12:39:02] *** Quits: frau (frau@D747870C.75963994.405878F2.IP) (Ping timeout)
[12:39:09] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[12:39:13] *** Quits: ricepuddin (graham@A584E1EF.E6D957F2.39C00A7A.IP) (Ping timeout)
[12:40:53] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[12:41:13] <johnrkd> eddyb: C:\Rust\rustc.exe
[12:41:15] <locks> 🍺  /usr/local/Cellar/rust/0.8: 35 files, 92M, built in 69.0 minutes
[12:41:17] <locks> yay
[12:41:29] <eddyb> johnrkd: that's a problem already. it's not in a folder named "bin"
[12:43:01] <johnrkd> eddyb: and so I moved * to ./bin and.. it works without "-L ."
[12:43:19] <eddyb> problem solved?
[12:43:31] <johnrkd> yeah.. i find it odd though :)
[12:43:33] <eddyb> you shouldn't need libraries in the current directory
[12:43:49] <eddyb> johnrkd: nope. it needs the same directory structure. that's what I said the first time :)
[12:44:07] <Mathuin> I'm trying to read a byte from stdin, so I write io::stdio::stdin().read_byte(), but io::stdio::stdin() is unknown
[12:44:18] <Mathuin> where is the problem ?
[12:44:24] <johnrkd> from inside stage1 (or 2) I copied, but i didn't maintain it relative to the system
[12:45:00] *** Joins: alex-abreu (alex@moz-212F84EB.w92-151.abo.wanadoo.fr)
[12:45:13] *** Joins: ptc (Adium@moz-70022D61.hsd1.ma.comcast.net)
[12:46:05] <johnrkd> Mathuin: lack of use clause ?
[12:46:50] *** Quits: eevee (eevee@moz-7B6C48E3.evrt.wa.frontiernet.net) (Quit: moving to vegas)
[12:46:59] *** Quits: ptc (Adium@moz-70022D61.hsd1.ma.comcast.net) (Ping timeout)
[12:47:07] <johnrkd> that's a quit message
[12:49:43] <Mathuin> johnrkd: I wrote use std::io::stdio;
[12:52:38] *** Quits: Liigo (liigo@4A54D406.6C262C8.C3C201E8.IP) (Quit: Bye)
[12:52:39] <johnrkd> rusti: io::stdout::stdout().write(~"uhh..")
[12:52:42] -rusti- pastebinned 13 lines of output: http://ix.io/9xf
[12:52:53] <johnrkd> rusti: std::io::stdout::stdout().write(~"uhh..")
[12:52:56] -rusti- pastebinned 13 lines of output: http://ix.io/9xg
[12:53:01] <eddyb> ::std
[12:53:15] <eddyb> rusti: ::std::io::stdin::stdout().write(~"uhh..")
[12:53:18] <eddyb> ERR
[12:53:18] -rusti- pastebinned 13 lines of output: http://ix.io/9xh
[12:53:21] <eddyb> rusti: ::std::io::stdio::stdout().write(~"uhh..")
[12:53:23] -rusti- pastebinned 13 lines of output: http://ix.io/9xi
[12:53:28] <eddyb> wait, what? I give up
[12:53:42] <eddyb> rusti: ::std::rtio::stdio::stdout().write(~"uhh..")
[12:53:45] -rusti- pastebinned 13 lines of output: http://ix.io/9xj
[12:53:55] <eddyb> hmpf
[12:54:10] <zmthy> quit
[12:54:13] *** Quits: zmthy (Tim@moz-1D8B7413.dsl.dyn.ihug.co.nz) (Quit: leaving)
[12:54:37] <locks> so many colons
[12:55:12] *** Quits: dcrewi (david@moz-AB8667CE.gyrae.net) (Ping timeout)
[12:55:31] *** Quits: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net) (Connection reset by peer)
[12:56:09] *** Quits: sebcrozet (sebcrozet@moz-2517AE39.w80-13.abo.wanadoo.fr) (Quit: Gone)
[12:56:55] *** Joins: hacker_sam (hacker_sam@moz-E58634C9.dsl.bngr.epix.net)
[12:57:08] <johnrkd> yeah about that, can they be ommitted, or are there plans for such thing ?
[12:58:12] *** Joins: pyrac (pyrac@moz-9F0C9816.w86-212.abo.wanadoo.fr)
[12:58:12] <eddyb> why would they be ommited?
[12:58:25] <johnrkd> less verbosity
[12:58:53] *** Quits: hacker_sam (hacker_sam@moz-E58634C9.dsl.bngr.epix.net) (Client exited)
[12:59:14] *** Joins: hacker_sam (hacker_sam@moz-E58634C9.dsl.bngr.epix.net)
[13:00:49] <eddyb> johnrkd: and... how would it look like without colons?
[13:01:14] <johnrkd> stdout().write
[13:01:38] <locks> isn't that what `use` are for?
[13:01:38] <eddyb> johnrkd: use std::io::stdio::stdout;
[13:01:49] <johnrkd> so it does happen
[13:01:59] <johnrkd> pardon me i just started :), barely wrote println
[13:02:16] <johnrkd> still reading around before typing
[13:06:03] <Mathuin> how do I move an iterator forward ?
[13:06:11] <eddyb> .next()
[13:06:22] <Mathuin> for 1 I know
[13:06:28] <Mathuin> but x times forward ?
[13:06:36] *** Joins: awidegreen (awidegreen@1196C493.EC0D9A3.7B8A71D0.IP)
[13:06:47] <eddyb> skip, maybe?
[13:06:57] <eddyb> Mathuin: look at std::iter::Iterator
[13:07:47] <Mathuin> that's what I'm doing
[13:08:07] <johnrkd> rusti: std::io::stdout().write(bytes!("so this works"))
[13:08:07] -rusti- so this works()
[13:08:24] *** Quits: awidegreen (awidegreen@1196C493.EC0D9A3.7B8A71D0.IP) (Ping timeout)
[13:08:40] *** Joins: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca)
[13:09:03] *** Quits: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net) (Ping timeout)
[13:12:05] *** Quits: twi (Adium@moz-C73A361F.business.telecomitalia.it) (Quit: Leaving.)
[13:12:19] *** Joins: canhtak (canhtak@moz-1AC8943.wl.t.ulaval.ca)
[13:12:25] *** Joins: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net)
[13:12:38] *** Joins: awidegreen (awidegreen@moz-3FE0A1F.a357.priv.bahnhof.se)
[13:15:34] *** Joins: lpy (lpy@7360AA58.F09091A8.1348A864.IP)
[13:15:48] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[13:16:56] *** Quits: canhtak (canhtak@moz-1AC8943.wl.t.ulaval.ca) (Quit: canhtak)
[13:20:33] *** Quits: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net) (Ping timeout)
[13:22:06] *** Joins: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net)
[13:26:04] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[13:27:23] *** Quits: engla (engla@moz-F64E1B0F.cust.bredbandsbolaget.se) (Ping timeout)
[13:27:43] *** Quits: awidegreen (awidegreen@moz-3FE0A1F.a357.priv.bahnhof.se) (Ping timeout)
[13:28:39] <bjz> johnrkd: also remember that rusti uses 0.8
[13:28:56] <bjz> oh wait - nvm
[13:29:31] *** Joins: canhtak (canhtak@moz-1AC8943.wl.t.ulaval.ca)
[13:29:48] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[13:30:49] *** Joins: sigma (sigma@moz-51C5EB32.range86-135.btcentralplus.com)
[13:33:14] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[13:34:32] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[13:34:34] *** Quits: jaen (jaen@moz-336A316.play-internet.pl) (Ping timeout)
[13:37:37] *** Joins: frau (frau@D747870C.75963994.405878F2.IP)
[13:39:26] *** Quits: frau (frau@D747870C.75963994.405878F2.IP) (Ping timeout)
[13:39:46] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[13:40:34] <kimundi> rusti: version
[13:40:36] -rusti- "rustc 0.9-pre (61f8c05 2013-10-24 13:01:18 -0700)"
[13:41:29] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[13:41:42] *** Quits: dsirenko (mitra@8E712A0.54C21BA0.9F317420.IP) (Quit: Konversation terminated!)
[13:42:39] *** Joins: dsirenko (mitra@8E712A0.54C21BA0.9F317420.IP)
[13:43:38] * eddyb hopes this works: extra::test::bench::benchmark(|b| b.iter(|| {
[13:47:51] <FreeFull> Hmm, rusti's version is a bit old now
[13:48:08] <FreeFull> I guess it's a known stableish version
[13:48:36] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[13:49:03] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[13:56:03] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[13:56:40] *** Quits: pyrac (pyrac@moz-9F0C9816.w86-212.abo.wanadoo.fr) (Quit: pyrac)
[13:57:35] *** Quits: tedh (tedh@moz-F3B34318.hsd1.il.comcast.net) (Quit: Textual IRC Client: www.textualapp.com)
[13:58:31] <kaeso> johnrkd: were you looking for me?
[13:59:28] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[14:01:13] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[14:01:25] *** Quits: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca) (Ping timeout)
[14:01:31] *** Quits: yota (sdouche@moz-7D878FB8.securactive.net) (Ping timeout)
[14:02:59] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[14:04:22] *** Quits: lpy (lpy@7360AA58.F09091A8.1348A864.IP) (Ping timeout)
[14:06:24] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[14:07:44] *** Quits: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net) (Ping timeout)
[14:08:06] *** Joins: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net)
[14:09:54] *** Quits: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net) (Ping timeout)
[14:10:20] *** Joins: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net)
[14:11:11] *** Joins: pyon (user@BCC41BDF.6C782DF8.1C8C8CE9.IP)
[14:12:41] *** Quits: nano (nano@moz-ED77243C.superkabel.de) (Connection reset by peer)
[14:16:49] <johnrkd> kaeso: yeah about packaging, then I saw you are involved in Linux packaging and I'm wondering about Windows packaging
[14:17:55] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[14:19:03] *** Quits: sigma (sigma@moz-51C5EB32.range86-135.btcentralplus.com) (Ping timeout)
[14:19:36] <kaeso> johnrkd: for nuget, Heather is often here around
[14:20:40] *** Joins: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca)
[14:21:17] <kaeso> johnrkd: see also https://github.com/mozilla/rust/wiki/Meeting-weekly-2013-12-10
[14:22:44] *** Quits: hacker_sam (hacker_sam@moz-E58634C9.dsl.bngr.epix.net) (Client exited)
[14:22:44] *** Joins: hacker_sam (hacker_sam@moz-E58634C9.dsl.bngr.epix.net)
[14:23:54] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[14:27:26] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[14:30:43] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[14:33:34] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[14:34:57] *** Joins: sigma (sigma@moz-D389C28E.range86-135.btcentralplus.com)
[14:35:33] <eddyb> what's the replacement for vec::raw::get?
[14:36:23] *** Joins: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com)
[14:38:21] *** Joins: frau (frau@D747870C.75963994.405878F2.IP)
[14:40:15] *** Quits: frau (frau@D747870C.75963994.405878F2.IP) (Ping timeout)
[14:40:21] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[14:40:46] *** Joins: yota (sdouche@moz-7D878FB8.securactive.net)
[14:42:03] *** Joins: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com)
[14:42:06] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[14:42:32] <johnrkd> when the compiler errors, the output comes in piecies, taking some seconds to output all
[14:42:34] <johnrkd> it's weird
[14:42:38] <johnrkd> pieces *
[14:43:25] *** Joins: engla (engla@moz-F64E1B0F.cust.bredbandsbolaget.se)
[14:43:57] *** Quits: ianj (ianjneu@moz-7BA002E.hsd1.ma.comcast.net) (Input/output error)
[14:46:40] <eddyb> johnrkd: it outputs errors as it finds them, I think
[14:47:48] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[14:48:44] *** Joins: nano (nano@moz-ED77243C.superkabel.de)
[14:49:02] *** Joins: klaus (koz@moz-E49E7C4B.hsd1.wa.comcast.net)
[14:49:07] *** Quits: engla (engla@moz-F64E1B0F.cust.bredbandsbolaget.se) (Ping timeout)
[14:49:40] *** Quits: eddyb (eddy@EE946B63.921A1753.FCAAE698.IP) (Ping timeout)
[14:50:48] *** Joins: saml (sam@moz-14C16814.cst.lightpath.net)
[14:51:54] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[14:52:45] *** Quits: vodik (simon@moz-51845A17.range86-179.btcentralplus.com) (Ping timeout)
[14:54:09] *** Joins: twi (Adium@C9686AE3.E56D53A1.1F318420.IP)
[14:54:58] *** Joins: awidegreen (awidegreen@moz-3FE0A1F.a357.priv.bahnhof.se)
[14:55:41] *** Quits: dredozubov (dredozubov@2F14E2C1.F70E5FA9.F63E14E8.IP) (Input/output error)
[14:56:17] <johnrkd> seems so
[14:58:55] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[14:59:16] *** Joins: dredozubov (dredozubov@2F14E2C1.F70E5FA9.F63E14E8.IP)
[15:00:13] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[15:00:20] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[15:01:20] *** Joins: jaen (jaen@moz-5805ADD5.play-internet.pl)
[15:01:26] *** Quits: awidegreen (awidegreen@moz-3FE0A1F.a357.priv.bahnhof.se) (Quit: leaving)
[15:01:31] *** Joins: awidegreen (awidegreen@moz-3FE0A1F.a357.priv.bahnhof.se)
[15:02:26] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[15:02:36] <SiegeLord> I think CMake is a bad fit for Rust... it's just too darn hard to add new languages to it
[15:03:01] <SiegeLord> What's another good tool to try next? I've personally only used CMake...
[15:03:05] <SiegeLord> Maybe SCons?
[15:03:16] <kimundi> wycats_: https://github.com/mozilla/rust/issues/11163
[15:03:23] *** Quits: twi (Adium@C9686AE3.E56D53A1.1F318420.IP) (Ping timeout)
[15:05:06] *** Joins: twi (Adium@C9686AE3.E56D53A1.1F318420.IP)
[15:05:34] *** Quits: amro (quassel@D9E34ACF.8AAAF769.FAAB0799.IP) (Client exited)
[15:05:37] *** Joins: noam (noam@F6B530A7.720527A7.416762B.IP)
[15:06:22] *** Quits: awidegreen (awidegreen@moz-3FE0A1F.a357.priv.bahnhof.se) (Ping timeout)
[15:08:43] *** Quits: z0w0 (zack@moz-356923D4.lnse4.woo.bigpond.net.au) (Client exited)
[15:09:49] *** Quits: dredozubov (dredozubov@2F14E2C1.F70E5FA9.F63E14E8.IP) (Input/output error)
[15:11:02] <Earnestly> Please not scons
[15:12:07] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[15:12:13] <johnrkd> http://www.scons.org/wiki/SconsVsOtherBuildTools#CMake
[15:14:42] *** Quits: twi (Adium@C9686AE3.E56D53A1.1F318420.IP) (Ping timeout)
[15:14:59] *** Joins: twi (Adium@C9686AE3.E56D53A1.1F318420.IP)
[15:14:59] <SiegeLord> What's wrong with SCons?
[15:15:33] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[15:16:27] *** whycats_ is now known as bstrie_mojitos
[15:16:54] <tiffany> I've been using scons
[15:17:02] <tiffany> it has a lot of issues that I've just been fudging my way past
[15:17:08] <tiffany> it handles cross compiling pretty poorly
[15:17:17] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[15:17:33] *** Quits: twi (Adium@C9686AE3.E56D53A1.1F318420.IP) (Ping timeout)
[15:17:44] <tiffany> my favourite build system is lake, I think
[15:17:50] *** Joins: twi (Adium@C9686AE3.E56D53A1.1F318420.IP)
[15:18:37] <Ms2ger> Turns out all make files work fine for minimal projects and they're all terrible for anything bigger than that
[15:19:03] <tiffany> make stops working very well when you have more than like 3 files
[15:19:09] *** Quits: jaen (jaen@moz-5805ADD5.play-internet.pl) (Ping timeout)
[15:19:20] <SiegeLord> I don't like make even for small projects
[15:19:33] <SiegeLord> Although it's all I use, as everything else seems worse in different ways
[15:20:04] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[15:20:06] *** Quits: hacker_sam (hacker_sam@moz-E58634C9.dsl.bngr.epix.net) (Client exited)
[15:20:32] *** Joins: rca_ (rcatolino@moz-2346035D.adsl.proxad.net)
[15:20:39] *** Quits: alex-abreu (alex@moz-212F84EB.w92-151.abo.wanadoo.fr) (Ping timeout)
[15:20:45] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[15:21:02] *** Joins: eddyb (eddy@EE946B63.921A1753.FCAAE698.IP)
[15:21:09] *** Quits: rca (rcatolino@moz-F94DC7FB.adsl.proxad.net) (Ping timeout)
[15:21:20] *** Joins: hacker_sam (hacker_sam@moz-E58634C9.dsl.bngr.epix.net)
[15:21:22] *** Joins: tedh (tedh@moz-969938AC.lightspeed.cicril.sbcglobal.net)
[15:21:24] <speckle> I have a newbie question: how do I dereference an owned pointer to pass it into a format! ?
[15:22:10] <speckle> rusti: let mut indirect = ~2; println(format!("The number is: {}", indirect));
[15:22:14] -rusti- pastebinned 10 lines of output: http://ix.io/9xp
[15:22:29] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[15:22:47] <speckle> sorry, it seems like something obvious, but I can't figure out the syntax to dereference something
[15:23:02] *** Joins: bynaryshef (bynaryshef@moz-DCC9E7CE.mem.bellsouth.net)
[15:23:09] <SiegeLord> I also heard of waf, but ever since I've read about their tiffie with Debian I've been avoiding it
[15:23:18] <eddyb> rusti: let mut indirect = ~2; println(format!("The number is: {}", *indirect));
[15:23:19] <kimundi> *indirect
[15:23:20] -rusti- out.rs:9:16: 9:24 warning: variable does not need to be mutable, #[warn(unused_mut)] on by default
[15:23:20] -rusti- out.rs:9         let mut indirect = ~2; println(format!("The number is: {}", *indirect));
[15:23:20] -rusti-                          ^~~~~~~~
[15:23:20] -rusti- The number is: 2
[15:23:21] -rusti- ()
[15:23:31] <speckle> thanky you, eddyb and kimundi!
[15:23:37] <eddyb> speckle: no C/C++ background?
[15:23:37] <speckle> thought * was for raw pointers
[15:23:43] <eddyb> ah, I see
[15:23:45] *** Quits: jaen (jaen@moz-E0979827.copit.pl) (Ping timeout)
[15:24:02] <speckle> eddyb, I know * in C, but I thought it was for raw pointers and to be avoided in Rust
[15:24:06] <tiffany> lake has a pretty unique approach to pkg-config
[15:24:27] <kimundi> * as type is for raw pointers, * as expression dereferences everything dereferenceable
[15:24:28] <eddyb> speckle: *T and *mut T are raw/unsafe pointers, the deref operation is generic
[15:24:38] <speckle> I see! It should still used be for dereferencing, just not for declarations.
[15:24:38] *** Quits: canhtak (canhtak@moz-1AC8943.wl.t.ulaval.ca) (Quit: canhtak)
[15:25:05] <speckle> Thanks, sorry I didn't realize that
[15:26:29] *** Quits: sigma (sigma@moz-D389C28E.range86-135.btcentralplus.com) (Ping timeout)
[15:26:43] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[15:26:53] *** Joins: vodik (simon@moz-51845A17.range86-179.btcentralplus.com)
[15:27:39] <kimundi> no need to apologizue
[15:28:49] *** Joins: derek_c (derek@9C93A574.B850C2C1.7DDEBB9E.IP)
[15:29:52] *** Joins: jaen (jaen@moz-1956C4CB.play-internet.pl)
[15:30:45] *** Joins: lpy (lpy@12172131.F09091A8.1348A864.IP)
[15:31:46] *** Joins: bougyman (bougyman@moz-C8C4EF5D.uvs.rcsntx.sbcglobal.net)
[15:33:45] *** Joins: amro (quassel@D9E34ACF.8AAAF769.FAAB0799.IP)
[15:34:45] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[15:35:38] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[15:37:11] <speckle> Now that I have the syntax for dereferencing down, I can't figure out how to modify an owned object by passing a pointer to it into a function.   I made it mutable, but the compiler is saying that it is immutable.
[15:37:45] <eddyb> speckle: &~T by any chance?
[15:39:06] *** Joins: frau (frau@D747870C.75963994.405878F2.IP)
[15:39:39] <speckle> Okay, tried that too
[15:39:45] <speckle> Doesn't work either
[15:40:56] *** Quits: frau (frau@D747870C.75963994.405878F2.IP) (Ping timeout)
[15:41:03] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[15:41:06] <kimundi> speckle: what do you mean with "passing apointer to it to a function" ?
[15:41:27] <kimundi> Do you mean something like "I have a ~T, and the function wants &T" ?
[15:41:49] *** Joins: sigma (sigma@moz-B6B774BD.range86-184.btcentralplus.com)
[15:42:09] <eddyb> speckle: I was asking because it's wrong, it should be &mut ~T to mutate the owned value
[15:42:34] *** Quits: vodik (simon@moz-51845A17.range86-179.btcentralplus.com) (Quit: WeeChat 0.4.3-dev)
[15:42:44] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[15:43:49] <kimundi> If you want to modify a type R by a function, then the function usually just needs to take &mut T, and you have to expelicitly borrow it as "let mut x: T = ...; foo(&mut x);"
[15:44:03] *** Quits: speckle (speckle@moz-AD109A29.hsd1.md.comcast.net) (Ping timeout)
[15:44:03] *** Quits: utkarsh (utkarsh@moz-CA9C0A97.members.linode.com) (Ping timeout)
[15:44:03] *** Quits: GameGamer43 (sid5533@moz-E77DEB21.irccloud.com) (Ping timeout)
[15:44:03] *** Quits: jack (uid19593@moz-A42E5B7B.irccloud.com) (Ping timeout)
[15:44:25] *** Joins: utkarsh (utkarsh@moz-CA9C0A97.members.linode.com)
[15:44:55] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[15:45:25] *** Joins: GameGamer43 (sid5533@moz-E77DEB21.irccloud.com)
[15:45:28] *** Joins: jack (sid19593@moz-A42E5B7B.irccloud.com)
[15:45:28] *** ChanServ sets mode: +o jack
[15:47:23] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[15:47:34] <kimundi> whoops, that R was supposed to be a T too :P
[15:47:50] *** Joins: vodik (simon@moz-51845A17.range86-179.btcentralplus.com)
[15:48:46] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[15:49:14] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[15:49:53] *** Joins: bkircher (bkircher@moz-561ED4D9.dip0.t-ipconnect.de)
[15:50:38] *** Quits: twi (Adium@C9686AE3.E56D53A1.1F318420.IP) (Ping timeout)
[15:51:50] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[15:53:13] *** Joins: twi (Adium@C9686AE3.E56D53A1.1F318420.IP)
[15:54:28] *** Joins: johanh (uid17185@moz-A42E5B7B.irccloud.com)
[15:55:28] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[15:59:39] *** Quits: twi (Adium@C9686AE3.E56D53A1.1F318420.IP) (Ping timeout)
[16:06:31] *** Joins: speckle (speckle@moz-AD109A29.hsd1.md.comcast.net)
[16:07:20] *** Quits: bkircher (bkircher@moz-561ED4D9.dip0.t-ipconnect.de) (Connection reset by peer)
[16:07:27] *** Joins: bkircher_ (bkircher@moz-561ED4D9.dip0.t-ipconnect.de)
[16:07:53] *** Joins: sebcrozet (sebcrozet@moz-A855F6C0.w82-127.abo.wanadoo.fr)
[16:07:57] <SiegeLord> What happened to rt::start?
[16:10:38] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[16:11:22] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[16:12:30] *** Quits: derek_c (derek@9C93A574.B850C2C1.7DDEBB9E.IP) (Ping timeout)
[16:18:37] *** Joins: derek_c (derek@8B5EB90.B09DFE73.7E5576EA.IP)
[16:18:38] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[16:19:39] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[16:20:07] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[16:24:46] <olsonjeffery> SiegeLord: mostly likely #11153 happened?
[16:24:57] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[16:25:16] <olsonjeffery> hm, maybe not. it hasn't landed yet.
[16:25:27] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[16:28:50] *** Quits: hacker_sam (hacker_sam@moz-E58634C9.dsl.bngr.epix.net) (Client exited)
[16:29:11] *** Joins: hacker_sam (hacker_sam@moz-E58634C9.dsl.bngr.epix.net)
[16:29:28] *** Quits: derek_c (derek@8B5EB90.B09DFE73.7E5576EA.IP) (Ping timeout)
[16:29:53] *** Quits: jaen (jaen@moz-1956C4CB.play-internet.pl) (Ping timeout)
[16:30:03] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[16:30:28] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[16:31:37] *** Quits: Kxepal (Miranda@moz-B5D86A4D.pppoe.mtu-net.ru) (Ping timeout)
[16:32:23] *** Joins: Blei (philipp@moz-B2F9E4BD.cust.bluewin.ch)
[16:33:02] *** Joins: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net)
[16:34:07] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[16:34:33] *** Joins: Kxepal (Miranda@moz-1631F09E.pppoe.mtu-net.ru)
[16:37:33] *** Joins: alex-abreu (alex@moz-5AD1ECCF.rev.sfr.net)
[16:39:50] *** Joins: frau (frau@D747870C.75963994.405878F2.IP)
[16:40:29] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[16:41:23] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[16:41:39] *** Quits: frau (frau@D747870C.75963994.405878F2.IP) (Ping timeout)
[16:42:25] *** Joins: jaen (jaen@moz-4616D27E.play-internet.pl)
[16:43:04] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[16:44:01] *** Quits: bkircher_ (bkircher@moz-561ED4D9.dip0.t-ipconnect.de) (Client exited)
[16:47:47] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[16:47:50] *** Quits: nano (nano@moz-ED77243C.superkabel.de) (Connection reset by peer)
[16:48:12] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[16:48:49] *** Joins: derek_c (derek@862DFFF5.727D7A21.EB673A25.IP)
[16:51:38] *** Quits: alex-abreu (alex@moz-5AD1ECCF.rev.sfr.net) (Quit: Leaving)
[16:52:00] *** Quits: hacker_sam (hacker_sam@moz-E58634C9.dsl.bngr.epix.net) (Client exited)
[16:52:01] *** Joins: hacker_sam (hacker_sam@moz-E58634C9.dsl.bngr.epix.net)
[16:52:22] *** Joins: alex-abreu (alex@moz-5AD1ECCF.rev.sfr.net)
[16:54:15] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[17:00:01] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[17:00:26] *** Joins: twi (Adium@moz-E1F80.business.telecomitalia.it)
[17:02:15] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[17:02:28] *** Joins: jhasse (jhass_000@moz-94D4DAE1.ewe-ip-backbone.de)
[17:02:56] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[17:03:06] *** Quits: twi (Adium@moz-E1F80.business.telecomitalia.it) (Ping timeout)
[17:03:39] *** Quits: zol (Zolomon@moz-CE018D85.members.linode.com) (Quit: WeeChat 0.3.0)
[17:03:40] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[17:03:51] *** Joins: twi (Adium@moz-E1F80.business.telecomitalia.it)
[17:06:21] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[17:09:18] *** Quits: twi (Adium@moz-E1F80.business.telecomitalia.it) (Ping timeout)
[17:09:35] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[17:11:00] *** Quits: derek_c (derek@862DFFF5.727D7A21.EB673A25.IP) (Ping timeout)
[17:11:17] *** Joins: twi (Adium@moz-E1F80.business.telecomitalia.it)
[17:12:14] *** Quits: eddyb (eddy@EE946B63.921A1753.FCAAE698.IP) (Ping timeout)
[17:12:20] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[17:12:56] <FreeFull> rusti: 3_u8
[17:12:59] -rusti- 3u8
[17:14:05] *** Quits: twi (Adium@moz-E1F80.business.telecomitalia.it) (Ping timeout)
[17:16:11] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[17:17:35] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Client exited)
[17:17:56] *** Joins: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net)
[17:18:54] *** Joins: twi (Adium@moz-E1F80.business.telecomitalia.it)
[17:19:39] *** Quits: DAddYE (DAddYE@moz-98D3933F.hsd1.ca.comcast.net) (Ping timeout)
[17:20:21] *** Quits: lpy (lpy@12172131.F09091A8.1348A864.IP) (Client exited)
[17:21:26] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[17:21:36] <sfackler> SiegeLord: I'd guess that the libgreen/libnative PR moved it
[17:21:44] *** Quits: twi (Adium@moz-E1F80.business.telecomitalia.it) (Ping timeout)
[17:21:52] *** Joins: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com)
[17:23:19] *** Quits: dew1 (Instantbir@moz-E4452B8F.static.stls.mo.charter.com) (Ping timeout)
[17:24:45] *** Joins: nano (nano@moz-ED77243C.superkabel.de)
[17:24:52] *** Joins: canhtak (canhtak@moz-FF2A8E0B.wl.t.ulaval.ca)
[17:25:51] *** Joins: derek_c (derek@D336B3C1.117B7BA2.EB673A25.IP)
[17:25:53] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[17:28:08] *** Joins: twi (Adium@moz-E1F80.business.telecomitalia.it)
[17:28:54] *** Quits: victorporof (victorporo@AFD25FB8.16D3B2F1.79933D60.IP) (Ping timeout)
[17:29:31] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[17:31:02] *** Joins: victorporof (victorporo@AFD25FB8.16D3B2F1.79933D60.IP)
[17:32:51] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[17:34:31] *** Quits: johnrkd (johnrkd@E0A7FE54.52A24E51.B05A4819.IP) (Ping timeout)
[17:35:56] *** Joins: johnrkd (johnrkd@857D8B0A.C6F4759.B05A4819.IP)
[17:36:25] *** Quits: twi (Adium@moz-E1F80.business.telecomitalia.it) (Ping timeout)
[17:37:39] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[17:37:51] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[17:38:01] *** Quits: yusukesuzuki (yusukesuzu@moz-FEE44B6.net220148245.t-com.ne.jp) (Connection reset by peer)
[17:38:24] *** Joins: yusukesuzuki (yusukesuzu@moz-FEE44B6.net220148245.t-com.ne.jp)
[17:38:36] *** Quits: yusukesuzuki (yusukesuzu@moz-FEE44B6.net220148245.t-com.ne.jp) (Quit: Tiarra 0.1+svn-39209: SIGINT received; exit)
[17:38:42] *** Joins: yusukesuzuki (yusukesuzu@moz-FEE44B6.net220148245.t-com.ne.jp)
[17:38:46] *** Joins: twi (Adium@moz-E1F80.business.telecomitalia.it)
[17:39:04] *** Joins: dd (chatzilla@F63B62E8.8AE8A320.7C0F3359.IP)
[17:40:37] *** Joins: frau (frau@D747870C.75963994.405878F2.IP)
[17:40:43] <dd> hi does there are some  changes in 0.9 due to which i am getting this error ::  mismatched types: expected `&str` but found `<VI0>` (expected &str but found integral variable)
[17:40:44] <dd> r4.rs:7 println(a);
[17:40:50] *** Quits: nano (nano@moz-ED77243C.superkabel.de) (Connection reset by peer)
[17:40:54] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[17:40:55] *** Joins: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net)
[17:41:02] <dd> code is : let a = 11;    
[17:41:29] <SiegeLord> You probably want something like println!("{}", a)
[17:41:43] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[17:41:54] <SiegeLord> println is a function that takes a string, println! is a macro that takes a format string and some arguments
[17:42:13] <dd> kk 
[17:42:33] *** Quits: frau (frau@D747870C.75963994.405878F2.IP) (Ping timeout)
[17:43:07] <dd> thnkx so much :)
[17:43:27] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[17:45:20] *** Quits: jaen (jaen@moz-4616D27E.play-internet.pl) (Ping timeout)
[17:45:34] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[17:46:26] *** Joins: elux (peter@moz-6B45ADE5.dsl.bell.ca)
[17:47:20] *** Joins: gwty (gwtypc@DA92C7D1.9DE0126.27560D6E.IP)
[17:47:41] *** Quits: twi (Adium@moz-E1F80.business.telecomitalia.it) (Ping timeout)
[17:47:56] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[17:47:58] *** Joins: twi (Adium@moz-E1F80.business.telecomitalia.it)
[17:48:28] *** Quits: amro (quassel@D9E34ACF.8AAAF769.FAAB0799.IP) (Client exited)
[17:48:47] *** Joins: mpie (Mibbit@moz-4FAE147D.graz.surfer.at)
[17:48:49] <dd> integer is not considered as true in rust ?? r8 ?
[17:48:52] <dd> like c ?
[17:48:55] <elux> hey guys
[17:49:54] <SiegeLord> dd: Correct.
[17:49:54] *** Quits: yota (sdouche@moz-7D878FB8.securactive.net) (Quit: Ex-Chat)
[17:50:59] <elux> ive spent a lot of time reading about rust, and it sounds really awesome. for my purposes id be writing web services with it.. so speaking http is a big deal.. but my gut tells me it'll be another year before i see enough activity of people writing servers with rust
[17:51:18] <elux> any thoughts?
[17:51:23] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[17:52:20] <SiegeLord> There's rust-http that is often talked about
[17:52:27] <dd> i hve no idea what is current status  but seems gr8 idea :)
[17:52:31] *** Quits: derek_c (derek@D336B3C1.117B7BA2.EB673A25.IP) (Quit: Leaving)
[17:53:00] <achin> https://github.com/chris-morgan/rust-http
[17:53:04] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[17:53:50] <elux> yes, i've seen that but i find it strange that http isn't in the core libs
[17:54:08] <elux> i also tried to compile the example and it didnt work on 10.9.1
[17:54:10] <elux> os x
[17:54:36] *** Quits: hacker_sam (hacker_sam@moz-E58634C9.dsl.bngr.epix.net) (Client exited)
[17:54:57] *** Joins: hacker_sam (hacker_sam@moz-E58634C9.dsl.bngr.epix.net)
[17:55:22] *** Quits: japaric (japaric@3CF63461.A11F2DDE.5C7588CA.IP) (Ping timeout)
[17:55:59] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[17:56:07] *** Quits: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net) (Client exited)
[17:56:07] *** Joins: DAddYE (DAddYE@moz-61EB081B.hfc.comcastbusiness.net)
[17:56:08] <achin> what are the issues on OSX?
[17:56:34] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[17:57:46] <elux> https://gist.github.com/pkieltyka/86ff977c127e43ecd4c7
[17:58:01] <elux> with rust 0.8
[17:58:13] <achin> you really should be using rust from the master branch
[17:58:17] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[17:58:29] *** Quits: yusukesuzuki (yusukesuzu@moz-FEE44B6.net220148245.t-com.ne.jp) (Ping timeout)
[17:58:40] *** Quits: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com) (Ping timeout)
[17:58:58] *** Joins: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com)
[17:59:04] <achin> rust-http is continually updated so that it works with the lastest version of rust
[17:59:06] <olsonjeffery> elux: the goal is to have a strong set of community extensions that will be "blessed" to work with the core lib. we aren't there yet.
[17:59:22] <achin> so it is not surprising at all that it will not work with rust 0.8
[17:59:26] <elux> ok cool. ill install rust from master, np!
[17:59:49] <olsonjeffery> elux: and i would observe that, when you say that "i find it strange", i would point that this viewpoint is more in line with the "Batteries included" approach to stdlibs of go, python, etc
[18:00:20] <achin> python does include a http client and http server as part of the stdlib
[18:00:31] <olsonjeffery> yes, it does. because python is "batteries included"
[18:00:38] <olsonjeffery> rust doesn't make that guarantee, is what im pointing out.
[18:00:41] *** Joins: japaric (japaric@5F207A99.A347E168.F4D5766F.IP)
[18:00:45] <elux> yea.. i understand..
[18:01:07] <olsonjeffery> but rust should also have an npm-style package repo ala npm by the timeframe of 1.0
[18:01:25] <elux> i guess i think its less confusing to offer a standard http driver, which doesnt stop community versions to exist
[18:01:28] <olsonjeffery> so it'll be easier to discover where to get that sort of functionality
[18:01:33] <elux> nice
[18:01:41] <speckle> the problem with the "latest" version of rust is that it's updated faster than one can compile it :S
[18:02:02] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[18:02:28] <olsonjeffery> such is the wont of alpha-quality software :P
[18:02:37] <speckle> I was hoping I could stay on 0.8 but it seems like we have to keep recompiling daily, huh?
[18:02:53] <elux> which is great :)
[18:03:08] <elux> i think rust is a beautiful language, and im going to be watching it closely
[18:03:43] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[18:03:56] <speckle> Yeah, if one is actively using the language, I suppose it's worth organizing one's schedule for nightly pulls and recompiles. you're right.
[18:04:33] *** Quits: hacker_sam (hacker_sam@moz-E58634C9.dsl.bngr.epix.net) (Client exited)
[18:04:33] *** Joins: hacker_sam (hacker_sam@moz-E58634C9.dsl.bngr.epix.net)
[18:04:53] <speckle> Heh, maybe there should even be a cron job for that
[18:05:17] <elux> well ill wait for 1.0 before i really get into it :)
[18:05:19] <olsonjeffery> i have a codebase that i build on master.. i just rebase my rust against master every few days... do a make && make install and fix the breaks
[18:05:35] <olsonjeffery> this comes up a lot with rustpkg repos that build on travis-ci and build against master nightly, as well
[18:05:49] <olsonjeffery> it's the cost of doing business atm, for better or worse.
[18:05:49] *** Quits: mpie (Mibbit@moz-4FAE147D.graz.surfer.at) (Quit: http://www.mibbit.com ajax IRC Client)
[18:06:05] <achin> i think that keeping  up with master is also a good way to get and stay familiar with the language
[18:06:06] <olsonjeffery> at this time, "doing rust" also includes "rebuilding rust master"
[18:06:11] *** Quits: twi (Adium@moz-E1F80.business.telecomitalia.it) (Ping timeout)
[18:06:44] <olsonjeffery> there are arch linux and ubuntu packages for nightly rebuilds against master
[18:06:56] <olsonjeffery> brew on osx has a way to build against rust master HEAD
[18:07:11] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[18:07:16] <achin> the advantage with ubuntu is you get a binary package
[18:07:37] <speckle> ubuntu, or debian derivates in general?
[18:07:44] <olsonjeffery> it's an ubuntu ppa
[18:07:47] <achin> yeah
[18:07:54] <olsonjeffery> travis-ci runs an ubuntu vm and that's what it updates from
[18:08:01] <achin> but buildign via homebrew or building via "make" is about the same, in my view
[18:08:09] *** Joins: twi (Adium@moz-E1F80.business.telecomitalia.it)
[18:08:17] *** Quits: twi (Adium@moz-E1F80.business.telecomitalia.it) (Max SendQ exceeded)
[18:08:26] *** Joins: twi (Adium@moz-E1F80.business.telecomitalia.it)
[18:09:08] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[18:09:08] *** ChanServ sets mode: +ao pcwalton pcwalton
[18:09:39] <speckle> ah, it's a ppa - so it won't directly work on debian, but it will with a little work
[18:09:50] <pcwalton> bors is stuck
[18:09:51] <pcwalton> http://buildbot.rust-lang.org/builders/auto-win-32-nopt-t/builds/2315/steps/clean/logs/stdio
[18:10:18] <achin> needs unstucking hammer?
[18:10:26] <o11c> the ubuntu PPA works just fine for Debian
[18:11:02] *** Joins: earlzlap (earlz@moz-483E1E31.neo.res.rr.com)
[18:11:18] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[18:11:59] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[18:12:34] *** Joins: Liothen (liothen@moz-92B99500.org)
[18:14:48] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[18:16:28] *** Quits: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl) (Client exited)
[18:17:14] *** Quits: bynaryshef (bynaryshef@moz-DCC9E7CE.mem.bellsouth.net) (Quit: Leaving)
[18:18:02] *** Quits: dd (chatzilla@F63B62E8.8AE8A320.7C0F3359.IP) (Quit: ChatZilla 0.9.90.1 [Firefox 26.0/20131206152524])
[18:18:23] *** Quits: wilmoore (wilmoore@moz-71431C3A.hsd1.co.comcast.net) (Ping timeout)
[18:18:46] *** Joins: pyrac (pyrac@moz-7D67191A.w90-5.abo.wanadoo.fr)
[18:19:14] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[18:19:54] *** Joins: ptc (Adium@moz-70022D61.hsd1.ma.comcast.net)
[18:20:01] *** Quits: vodik (simon@moz-51845A17.range86-179.btcentralplus.com) (Ping timeout)
[18:20:42] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[18:21:37] *** Quits: ptc (Adium@moz-70022D61.hsd1.ma.comcast.net) (Ping timeout)
[18:21:37] *** Joins: echristo (echristo@8063EDD3.D6CCE4AE.77834EAA.IP)
[18:22:46] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[18:23:54] *** Quits: sigma (sigma@moz-B6B774BD.range86-184.btcentralplus.com) (Ping timeout)
[18:24:06] *** Joins: awidegreen (awidegreen@moz-3FE0A1F.a357.priv.bahnhof.se)
[18:25:19] *** Quits: awidegreen (awidegreen@moz-3FE0A1F.a357.priv.bahnhof.se) (Quit: leaving)
[18:25:37] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[18:27:13] *** Joins: awidegreen (awidegreen@moz-3FE0A1F.a357.priv.bahnhof.se)
[18:28:41] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[18:31:44] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[18:31:45] *** ChanServ sets mode: +ao pcwalton pcwalton
[18:32:15] *** Quits: awidegreen (awidegreen@moz-3FE0A1F.a357.priv.bahnhof.se) (Ping timeout)
[18:32:44] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[18:36:54] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[18:37:23] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[18:37:29] *** Joins: maxli1 (maxli@moz-4D28BA20.student.cs.uwaterloo.ca)
[18:38:01] *** Quits: maxli (maxli@moz-4D28BA20.student.cs.uwaterloo.ca) (Ping timeout)
[18:38:31] *** Quits: hacker_sam (hacker_sam@moz-E58634C9.dsl.bngr.epix.net) (Client exited)
[18:38:52] *** Joins: hacker_sam (hacker_sam@moz-E58634C9.dsl.bngr.epix.net)
[18:38:54] *** Quits: ziad (ziad@moz-5729CEA7.hsd1.ca.comcast.net) (Quit: ziad)
[18:40:15] *** Joins: sigma (sigma@moz-F2EA75FD.range86-184.btcentralplus.com)
[18:41:20] *** Joins: frau (frau@D747870C.75963994.405878F2.IP)
[18:42:17] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[18:43:07] *** Quits: frau (frau@D747870C.75963994.405878F2.IP) (Ping timeout)
[18:44:08] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[18:46:19] *** Quits: rsaarelm (rsaarelm@moz-D1CB7158.dhcp.inet.fi) (Quit: down for maintenance)
[18:47:10] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[18:47:37] *** Joins: Ferreus (ferreus@3A61B81C.FE9B9CED.7B8A71D0.IP)
[18:47:51] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[18:50:59] *** Quits: hacker_sam (hacker_sam@moz-E58634C9.dsl.bngr.epix.net) (Client exited)
[18:51:00] *** Joins: hacker_sam (hacker_sam@moz-E58634C9.dsl.bngr.epix.net)
[18:51:08] *** Quits: twi (Adium@moz-E1F80.business.telecomitalia.it) (Ping timeout)
[18:52:05] *** Joins: twi (Adium@moz-E1F80.business.telecomitalia.it)
[18:52:47] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[18:53:13] *** Joins: ziad (ziad@B20586FB.BDB3D91.6E370BFC.IP)
[18:54:22] *** Quits: Ferreus (ferreus@3A61B81C.FE9B9CED.7B8A71D0.IP) (Ping timeout)
[18:55:16] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[18:56:30] *** Quits: tedh (tedh@moz-969938AC.lightspeed.cicril.sbcglobal.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[18:56:31] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[18:57:14] *** Joins: short (Mibbit@moz-68D50076.hsd1.or.comcast.net)
[19:02:01] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[19:02:24] <Seldaek> so I'm trying to call a function that's in windows.h in c++ and I get an undefined reference error when linking
[19:02:38] <Seldaek> any clue how I go about using windows API stuff?
[19:03:23] <Amanieu> which function is it?
[19:03:38] <Amanieu> some windows functions have a A/W suffix
[19:03:52] <Amanieu> or it could be the name mangling from stdcall
[19:03:53] <Seldaek> GetUserName
[19:04:32] <Amanieu> try GetUserNameA instead
[19:04:39] <itdaniher> question likely for Luqman etc on armhf building - "libstd-04ff901e-0.9-pre.so uses VFP register arguments, librustrt.a(rust_try.o) does not"
[19:04:42] <Amanieu> or GetUserNameW for the unicode version
[19:05:34] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[19:05:37] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[19:06:06] *** Joins: tedh (tedh@moz-969938AC.lightspeed.cicril.sbcglobal.net)
[19:06:12] <itdaniher> not entirely sure what's up - I've tried to append -mfloat-abi=hard after -marm where applicable to no success
[19:07:10] *** Quits: twi (Adium@moz-E1F80.business.telecomitalia.it) (Ping timeout)
[19:07:25] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[19:07:55] *** Joins: twi (Adium@moz-E1F80.business.telecomitalia.it)
[19:10:04] <Seldaek> Amanieu: thanks but still undefined reference to `GetUserNameA' (same with W)
[19:10:28] <Seldaek> probably i'm doing something stupid though.. first time I muck around with extern stuff
[19:10:34] <Seldaek> but I have to run now
[19:10:50] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[19:11:44] <SiegeLord> Hmm... SCons isn't very ideal either...
[19:11:56] *** Quits: twi (Adium@moz-E1F80.business.telecomitalia.it) (Quit: Leaving.)
[19:12:18] <SiegeLord> You really start appreciating the build tool's worth when you try using it for something the builders did not foresee
[19:13:28] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[19:14:13] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Quit: Busying myself...)
[19:15:14] *** Quits: _Vi (vi@D7277DB6.6FF508C1.10C239DF.IP) (Ping timeout)
[19:16:01] *** Quits: Liothen (liothen@moz-92B99500.org) (Ping timeout)
[19:17:03] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[19:18:25] *** Joins: Benvie (brandon@5FD20F9A.53D07D95.EFF8B7BF.IP)
[19:18:30] *** Quits: Benvie (brandon@5FD20F9A.53D07D95.EFF8B7BF.IP) (Client exited)
[19:19:02] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[19:19:03] *** ChanServ sets mode: +ao pcwalton pcwalton
[19:19:24] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[19:20:10] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[19:20:18] *** Joins: ptc (Adium@moz-70022D61.hsd1.ma.comcast.net)
[19:21:29] *** Quits: Ms2ger (Ms2ger@moz-8F01DF4A.ugent.be) (Quit: nn)
[19:22:01] *** Quits: ptc (Adium@moz-70022D61.hsd1.ma.comcast.net) (Ping timeout)
[19:22:57] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[19:22:57] *** ChanServ sets mode: +ao pcwalton pcwalton
[19:23:31] <SiegeLord> It basically has to re-scan the sources for dependencies each time you invoke it... that's just too slow
[19:23:43] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[19:25:17] *** Quits: jhasse (jhass_000@moz-94D4DAE1.ewe-ip-backbone.de) (Connection reset by peer)
[19:26:18] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[19:26:45] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[19:26:57] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Input/output error)
[19:28:53] <Mathuin> what build system do you use ?
[19:29:13] <Mathuin> for small programs I typically use a Makefile
[19:29:38] <pcwalton> acrichto: did you fix the cleaning problem on the windows bots?
[19:29:49] <wycats_> is there anything built into rust for adding a day to a Tm
[19:29:54] *** Joins: vodik (simon@moz-51845A17.range86-179.btcentralplus.com)
[19:29:58] <wycats_> that handles all the nuances of leap years etc.
[19:30:24] <wycats_> adding 24*3600s to a Timespec has the problem of leap seconds, I think
[19:30:42] *** Quits: threecreepio (Adium@moz-9DA6CBAC.bredband.comhem.se) (Quit: Leaving.)
[19:30:57] *** Joins: jhasse (jhasse@moz-94D4DAE1.ewe-ip-backbone.de)
[19:31:03] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[19:32:33] *** Quits: canhtak (canhtak@moz-FF2A8E0B.wl.t.ulaval.ca) (Quit: canhtak)
[19:35:23] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[19:38:31] *** Joins: maxiepoo (Max@moz-D66F3D4E.atvci.net)
[19:42:05] *** Joins: frau (frau@D747870C.75963994.405878F2.IP)
[19:42:57] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[19:44:40] *** Quits: frau (frau@D747870C.75963994.405878F2.IP) (Ping timeout)
[19:44:42] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[19:45:30] *** Joins: josh (josh@moz-348C4790.hsd1.mn.comcast.net)
[19:47:47] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[19:47:55] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[19:48:50] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[19:48:54] *** Quits: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net) (Quit: This bear's gotta fly.)
[19:48:57] *** Quits: maxiepoo (Max@moz-D66F3D4E.atvci.net) (Quit: maxiepoo)
[19:49:01] *** Joins: hoverbear (hoverbear@moz-86FCBF4B.gv.shawcable.net)
[19:50:41] *** Joins: maxiepoo (Max@moz-D66F3D4E.atvci.net)
[19:51:23] *** Joins: nawfel (Mibbit@2ED011AE.2DC668F.DFAB1F33.IP)
[19:51:30] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[19:51:36] *** Joins: mathadder (mathadder@1CF07A06.DC7A989C.7F8AB798.IP)
[19:52:14] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[19:53:31] *** Quits: maxiepoo (Max@moz-D66F3D4E.atvci.net) (Quit: maxiepoo)
[19:53:42] *** Joins: maxiepoo (Max@moz-D66F3D4E.atvci.net)
[19:53:48] <Luqman> itdaniher: yea, i ran into that as well
[19:53:56] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[19:54:52] *** Joins: yusukesuzuki (yusukesuzu@moz-FEE44B6.net220148245.t-com.ne.jp)
[19:54:59] *** Joins: eddyb (eddy@EE946B63.921A1753.FCAAE698.IP)
[19:55:39] <Luqman> itdaniher: workaround for now is to run make with VERBOSE=1 to find the line where it builds rust_try.ll with llc and just manually run it adding -float-abi=hard
[19:55:44] *** Joins: twi (Adium@moz-2D1E1C0A.cust.dsl.vodafone.it)
[19:55:46] <Luqman> then you can continue with make
[19:56:31] *** Quits: KindOne (KindOne@moz-BC3DD5AF.dynamic.ip.windstream.net) (Ping timeout)
[19:56:51] *** Quits: elux (peter@moz-6B45ADE5.dsl.bell.ca) (Quit: Leaving...)
[19:57:27] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[19:58:32] *** Quits: eddyb (eddy@EE946B63.921A1753.FCAAE698.IP) (Quit: Konversation terminated!)
[19:58:41] *** Joins: eddyb (eddy@EE946B63.921A1753.FCAAE698.IP)
[20:00:17] *** Joins: KindOne (KindOne@F926EE6.8E36DE4.EC6A1518.IP)
[20:00:22] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[20:04:06] *** Quits: sebcrozet (sebcrozet@moz-A855F6C0.w82-127.abo.wanadoo.fr) (Quit: Gone)
[20:04:11] <Luqman> itdaniher: the problem should go away once we update llvm again
[20:04:18] <Luqman> speaking of which
[20:04:35] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[20:04:50] <Luqman> acrichto: ^ planning on updating llvm anytime soon?
[20:05:12] *** Quits: jhasse (jhasse@moz-94D4DAE1.ewe-ip-backbone.de) (Quit: Verlassend)
[20:06:24] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[20:06:50] *** Quits: hacker_sam (hacker_sam@moz-E58634C9.dsl.bngr.epix.net) (Client exited)
[20:08:45] *** Quits: andre_ (andre@CA528A4A.45A4338E.8EE27E6.IP) (Quit: leaving)
[20:09:46] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[20:11:07] *** Quits: maxiepoo (Max@moz-D66F3D4E.atvci.net) (Quit: maxiepoo)
[20:11:12] *** Quits: nawfel (Mibbit@2ED011AE.2DC668F.DFAB1F33.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[20:13:52] *** Joins: maxiepoo (Max@moz-D66F3D4E.atvci.net)
[20:16:02] <itdaniher> Luqman: thanks! are you building on arm or crosscompiling?
[20:16:44] <Luqman> itdaniher: cross compiling
[20:17:04] <itdaniher> building on ARM I also had to drop "extern "C" void __clear_cache(void *, void*);
[20:20:11] <itdaniher> (llvm's ChildTarget.inc
[20:20:18] <itdaniher> and Memory.inc)
[20:20:41] *** Joins: ptc (Adium@moz-70022D61.hsd1.ma.comcast.net)
[20:21:32] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[20:21:39] <Luqman> itdaniher: weird, i have crosscompiled rustc to arm but i haven't run into that
[20:22:23] *** Quits: ptc (Adium@moz-70022D61.hsd1.ma.comcast.net) (Ping timeout)
[20:24:37] <itdaniher> Luqman: are you building with clang or gcc?
[20:24:59] <Luqman> itdaniher: gcc
[20:25:04] *** Joins: brson (brson@E88F5EC0.CA971BF7.BBC5804F.IP)
[20:25:04] *** ChanServ sets mode: +ao brson brson
[20:25:15] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[20:25:38] <itdaniher> ah, the offending line is local/include/clang/Basic/BuiltinsARM.def:BUILTIN(__clear_cache, "vv*v*", "")
[20:25:54] <itdaniher> so not surprising the issue doesn't pop up with gcc
[20:26:13] <Luqman> ah, i'm using this toolchain https://github.com/raspberrypi/tools/tree/master/arm-bcm2708/gcc-linaro-arm-linux-gnueabihf-raspbian
[20:28:05] <itdaniher> cool, I'll keep that in mind for future reference - the ARM computer I have is a quad core with 2gb of RAM, so crosscompiling isn't necessarily required
[20:28:53] <itdaniher> but with the number of hoops I had to jump through to get the right set of libs & headers on this 13.04 RFS... rethinking that assumption
[20:28:59] *** Quits: nattofriends (tsutsumi@moz-A9E340E1.fuqu.jp) (Ping timeout)
[20:29:14] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[20:29:25] <Luqman> itdaniher: ah awesome! up until recently i only had a small arm board with 128mb of ram to test with :P
[20:29:50] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[20:31:29] <itdaniher> T428 is fairly affordable and has the rk3188 cpu
[20:31:47] <itdaniher> hoping to use it as a basestation for my software defined radio tinkerings
[20:31:51] *** Quits: tedh (tedh@moz-969938AC.lightspeed.cicril.sbcglobal.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[20:33:28] *** Joins: nattofriends (tsutsumi@moz-A9E340E1.fuqu.jp)
[20:33:37] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[20:35:47] *** Quits: moostik (Icedove@moz-40E6ACEF.w2-2.abo.wanadoo.fr) (Quit: moostik)
[20:37:30] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[20:39:23] *** Joins: _Vi (vi@D7277DB6.6FF508C1.10C239DF.IP)
[20:41:29] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[20:41:53] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[20:43:30] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[20:43:57] <speckle> yeah, a lot of C libraries are immature enough on ARM platforms that Rust has a chance to sneak in :) good idea
[20:45:13] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[20:45:30] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[20:47:14] *** Quits: short (Mibbit@moz-68D50076.hsd1.or.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[20:49:08] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[20:49:26] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[20:50:45] *** Joins: jmgrosen (jmgrosen@moz-AB3ADE2D.sb.sd.cox.net)
[20:51:40] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[20:51:49] *** Quits: twi (Adium@moz-2D1E1C0A.cust.dsl.vodafone.it) (Connection reset by peer)
[20:52:10] *** Joins: twi (Adium@moz-2D1E1C0A.cust.dsl.vodafone.it)
[20:55:40] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[20:57:44] <acrichto> pcwalton: yeah I think I fixed the make clean issue
[20:58:11] <acrichto> Luqman: update llvm? we should be able to dit at any time, is the double make issue fixed upstream?
[20:58:17] *** Joins: Ferreus (ferreus@moz-9259AB7D.pools.arcor-ip.net)
[20:59:04] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[20:59:53] *** Joins: sigma1 (sigma@moz-F2EA75FD.range86-184.btcentralplus.com)
[20:59:58] *** Quits: maxiepoo (Max@moz-D66F3D4E.atvci.net) (Quit: maxiepoo)
[21:01:32] *** Quits: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com) (Quit: )
[21:02:07] *** Joins: jfbk (jfbk@moz-EEA9CFB3.nyc.res.rr.com)
[21:02:21] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[21:02:25] <acrichto> Luqman: ah, just saw the issue, sure I'll prepare an LLVM update
[21:02:56] <Luqman> acrichto: just made one :P https://github.com/luqmana/rust/tree/up-llvm just going through a build now
[21:03:23] *** Quits: sigma1 (sigma@moz-F2EA75FD.range86-184.btcentralplus.com) (Ping timeout)
[21:06:23] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[21:06:54] *** Quits: brson (brson@E88F5EC0.CA971BF7.BBC5804F.IP) (Quit: leaving)
[21:07:10] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[21:09:00] <acrichto> Luqman: how far are you in the build?
[21:09:06] <acrichto> I was hoping to see if we can omit https://github.com/luqmana/llvm/commit/8841dcef357e051c34a46030db7c7b1a83f9b1d8
[21:10:08] <Luqman> currently at x86_64-unknown-linux-gnu/stage2/lib/rustc/x86_64-unknown-linux-gnu/lib/librustc.so
[21:10:21] *** Joins: nrc (ncameron@moz-AD2938E.hari.cable.virginm.net)
[21:10:49] <Luqman> i can try removing that commit next
[21:11:20] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[21:11:58] <Luqman> and done, i'll try that now
[21:12:25] <acrichto> it just died somewhere in building libextra I think
[21:12:30] <acrichto> if it gets all the way to the end then we're good
[21:13:17] *** Quits: earlzlap (earlz@moz-483E1E31.neo.res.rr.com) (Ping timeout)
[21:13:33] *** Quits: nrc (ncameron@moz-AD2938E.hari.cable.virginm.net) (Ping timeout)
[21:13:34] <Luqman> ok
[21:14:47] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[21:15:44] *** Joins: maxiepoo (Max@moz-D66F3D4E.atvci.net)
[21:17:57] *** Quits: dew (Instantbir@moz-E4452B8F.static.stls.mo.charter.com) (Ping timeout)
[21:19:10] *** Joins: sigma1 (sigma@C91C7F36.70518F41.9D18269F.IP)
[21:19:13] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[21:19:15] *** Joins: ricepuddin (graham@A584E1EF.E6D957F2.39C00A7A.IP)
[21:19:41] *** Quits: c-a (c-a@380CCB84.6116A87C.3B6D96BA.IP) (Ping timeout)
[21:19:58] *** Joins: refold (gman@moz-42D68426.a258.priv.bahnhof.se)
[21:20:01] *** Quits: victorporof (victorporo@AFD25FB8.16D3B2F1.79933D60.IP) (Quit: victorporof)
[21:20:17] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[21:21:01] *** Joins: ptc (Adium@moz-70022D61.hsd1.ma.comcast.net)
[21:22:35] *** Joins: c-a (c-a@380CCB84.6116A87C.3B6D96BA.IP)
[21:22:42] <bascule>  13_4__8__ 9_11__12_  13_4__ 8_9__11_    13_ 4_8_   11__12_ 13_ 4_ 
[21:22:45] <bascule> 4|  8_9__11|  12_ 13\4|_ 8_9|  11_ 12\  4/ 8\\ 9\ 11/ 12/ 13| 4| 8|
[21:22:48] <bascule> 8| 9|_  12| 13|_4) 8|| 9|11| 12| 13| 4|/ 8_ 9\11\ 12V 13/| 4| 8| 9|
[21:22:50] *** Quits: ptc (Adium@moz-70022D61.hsd1.ma.comcast.net) (Ping timeout)
[21:22:51] <bascule> 9|  11_12| 13|  4_ 8< 9| 11|12| 13|_4| 8/ 9__11_ 12\| 13| 4|8_|9_|11_|
[21:22:54] <bascule> 11|_12|   4|_8| 9\_11\_12__13|_4__8_/9_/   12\13_\4_| 8(9_|11_|12_)
[21:22:57] <bascule>                                         
[21:23:44] *** Quits: bvssvni (Mibbit@moz-CBD76C21.bb.online.no) (Quit: http://www.mibbit.com ajax IRC Client)
[21:23:51] *** Joins: canhtak (canhtak@moz-59105D0.wl.t.ulaval.ca)
[21:24:17] *** Joins: bvssvni (Mibbit@moz-CBD76C21.bb.online.no)
[21:26:03] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[21:26:08] *** Joins: ercxx (ercan@moz-5B55241D.dyn.optonline.net)
[21:29:40] <eddyb> thank you ptc, no I can't read it >_>
[21:29:54] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[21:30:29] <bascule> :(
[21:32:23] <ziad> what does it say? FRIYI?:P
[21:33:27] *** Quits: Blei (philipp@moz-B2F9E4BD.cust.bluewin.ch) (Quit: WeeChat 0.4.2)
[21:34:57] <Luqman> acrichto: nope, hits an assertion in libstd, `MO->isDead() && "Cannot fold physreg def"' :(
[21:36:24] *** Joins: alan_andrade (alan_andra@255585B7.486CB18B.BE9AB0A6.IP)
[21:36:24] *** Quits: alan_andrade (alan_andra@255585B7.486CB18B.BE9AB0A6.IP) (Quit: Leaving...)
[21:37:25] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[21:37:54] <pcwalton> Luqman: acrichto: can we bug point that?
[21:38:36] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[21:43:06] <acrichto> Luqman: yeah that's what the patch was working around, but pcwalton has a good point about running bugpoint over the iR
[21:43:53] *** Joins: moostik (Icedove@moz-40E6ACEF.w2-2.abo.wanadoo.fr)
[21:44:04] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[21:44:37] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[21:45:45] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[21:47:35] *** Quits: vodik (simon@moz-51845A17.range86-179.btcentralplus.com) (Ping timeout)
[21:48:18] *** Joins: vodik (simon@moz-51845A17.range86-179.btcentralplus.com)
[21:48:18] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[21:49:38] *** Quits: lerc (quassel@moz-289EFA2.telstraclear.net) (Ping timeout)
[21:50:17] <Luqman> acrichto: yea, i can try running it through bugpoint
[21:51:01] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[21:52:55] *** Quits: jackneill (jackneill@moz-983C0303.pool.digikabel.hu) (Ping timeout)
[21:54:51] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[21:57:00] <cmr> The rust cake is in the oven :)
[21:58:09] *** Quits: vodik (simon@moz-51845A17.range86-179.btcentralplus.com) (Ping timeout)
[21:59:25] <indirect> bascule: gonna get down on friday?
[22:00:38] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[22:01:31] *** Quits: exobit (foo@moz-90D1B547.nycmny.fios.verizon.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[22:03:18] *** Joins: vodik (simon@moz-51845A17.range86-179.btcentralplus.com)
[22:04:12] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[22:05:21] *** Quits: vodik (simon@moz-51845A17.range86-179.btcentralplus.com) (Ping timeout)
[22:07:01] *** Quits: tautologico (uid22285@moz-A42E5B7B.irccloud.com) (Quit: Connection closed for inactivity)
[22:07:17] *** Joins: mye (mye@moz-59890F01.dip0.t-ipconnect.de)
[22:07:22] *** Quits: mye (mye@moz-59890F01.dip0.t-ipconnect.de) (Quit: mye)
[22:10:12] *** Joins: lerc (quassel@moz-289EFA2.telstraclear.net)
[22:10:40] *** Joins: pepper_chico (pepper_chi@E4B89D8C.3C9EA51F.F546FA5F.IP)
[22:10:44] *** Quits: rfw (rfw@moz-7D453A5B.rfw.name) (Quit: WeeChat 0.4.1)
[22:11:51] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[22:15:01] *** vq is now known as Vq
[22:15:16] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[22:19:49] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[22:21:09] *** Quits: eddyb (eddy@EE946B63.921A1753.FCAAE698.IP) (Ping timeout)
[22:21:24] *** Joins: ptc (Adium@moz-70022D61.hsd1.ma.comcast.net)
[22:23:16] *** Quits: ptc (Adium@moz-70022D61.hsd1.ma.comcast.net) (Ping timeout)
[22:23:17] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[22:25:33] *** Joins: eddyb (eddy@EE946B63.921A1753.FCAAE698.IP)
[22:25:52] *** Joins: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com)
[22:27:21] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[22:30:53] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[22:32:29] *** Quits: sigma1 (sigma@C91C7F36.70518F41.9D18269F.IP) (Ping timeout)
[22:34:46] *** Quits: rca_ (rcatolino@moz-2346035D.adsl.proxad.net) (Ping timeout)
[22:34:49] *** Joins: csherratt (csherratt@moz-CAF331EA.cable.teksavvy.com)
[22:37:04] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[22:37:59] *** Quits: eddyb (eddy@EE946B63.921A1753.FCAAE698.IP) (Ping timeout)
[22:38:36] *** Quits: heftig_ (heftig@moz-ED5586A1.dip0.t-ipconnect.de) (Input/output error)
[22:38:51] *** Joins: heftig (heftig@moz-ED5586A1.dip0.t-ipconnect.de)
[22:39:11] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[22:40:13] *** Quits: johnrkd (johnrkd@857D8B0A.C6F4759.B05A4819.IP) (Quit: )
[22:41:06] <csherratt> Does anyone else have problems linking to libnative? glfw-rs needs to be updated since start_on_main_thread has been removed. When we try to use link to native rustpkg fails. It seems to be able to link to libgreen but that is not really that helpful since we need a 1:1 scheduler. 
[22:41:48] *** Quits: StarLight (StarLight@moz-A9079A56.dynamic.avangarddsl.ru) (Ping timeout)
[22:42:11] *** Joins: samx (sami@moz-D9DA5773.dyn.optonline.net)
[22:42:41] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[22:43:26] *** Joins: vodik (simon@moz-51845A17.range86-179.btcentralplus.com)
[22:44:14] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[22:44:36] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[22:44:53] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[22:44:53] *** ChanServ sets mode: +ao pcwalton pcwalton
[22:44:58] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[22:45:23] *** Joins: StarLight (StarLight@moz-1B09A152.pppoe.avangarddsl.ru)
[22:45:36] <ercxx> How do I end a task with an infinite loop? Or is that a dumb way of doing things?
[22:46:05] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[22:46:17] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[22:46:35] <FreeFull> You could have something inside the loop check for an ending condition
[22:47:13] *** Quits: LimeBurst (me@247D1419.D73964AC.27A8748.IP) (Quit: leaving)
[22:47:19] *** Joins: limeburst (me@247D1419.D73964AC.27A8748.IP)
[22:47:22] <ercxx> I see
[22:49:00] <ercxx> FreeFull: thanks
[22:49:35] <FreeFull> That's just the standard solution in every language
[22:49:39] *** Quits: limeburst (me@247D1419.D73964AC.27A8748.IP) (Quit: leaving)
[22:49:44] *** Joins: limeburst (me@247D1419.D73964AC.27A8748.IP)
[22:50:30] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[22:51:33] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[22:51:43] *** Quits: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz) (Client exited)
[22:52:51] *** Quits: saml (sam@moz-14C16814.cst.lightpath.net) (Quit: Leaving)
[22:53:43] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[22:54:01] *** Joins: eddyb (eddy@EE946B63.921A1753.FCAAE698.IP)
[22:54:26] *** Quits: samx (sami@moz-D9DA5773.dyn.optonline.net) (Quit: This computer has gone to sleep)
[22:55:07] *** Joins: tedh (tedh@moz-F3B34318.hsd1.il.comcast.net)
[22:55:32] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[22:55:49] <cmr> csherratt: `extern mod native` doesn't succeed?
[22:56:09] *** Quits: klaus (koz@moz-E49E7C4B.hsd1.wa.comcast.net) (Quit: klaus)
[22:56:16] *** Joins: JamesNZ (james@moz-264643C7.bitstream.orcon.net.nz)
[22:57:09] *** Joins: erickt1 (Adium@moz-4B000CB7.dyn.optonline.net)
[22:57:47] *** Quits: dodj (Mibbit@moz-2DFDD4BD.range31-54.btcentralplus.com) (Quit: http://www.mibbit.com ajax IRC Client)
[22:58:44] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[22:59:38] <csherratt> cmr, yes when compiled with rustpkg it fails. When compiled with just rustc it seems to work. So I guess it is a rustpkg bug, just not sure why native is getting special treatment.
[23:00:26] <cmr> csherratt: are you sure your rustpkg isn't old?
[23:01:13] <csherratt> rustc -v and rustpkg -v both show the same hash.
[23:01:25] <csherratt> I'm not the only one who noticed it https://github.com/bjz/glfw-rs/issues/62
[23:01:29] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[23:01:33] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[23:01:34] *** ChanServ sets mode: +ao pcwalton pcwalton
[23:02:06] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[23:02:24] <cmr> odd, it's right next to extra etc.
[23:03:47] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[23:04:21] <csherratt> I did a make install and it does show up under /usr/
[23:04:30] *** Quits: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com) (Ping timeout)
[23:04:45] <cmr> jack: acrichto: do you know why this could be?
[23:06:42] *** Quits: ninechars (glaebhoerl@3391DE98.E9231B2.A0179ACD.IP) (Ping timeout)
[23:06:47] <eddyb> rustpkg does its own phase driving AFAIK
[23:06:47] <jack> no idea why building with rustpkg would be different.
[23:07:03] *** Joins: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com)
[23:07:16] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[23:09:01] *** Joins: jaen (jaen@moz-E0979827.copit.pl)
[23:09:25] *** Joins: aatch (aatch@moz-2BB0AC01.cable.telstraclear.net)
[23:09:45] *** Joins: tav (tav@moz-6D839A1A.range109-145.btcentralplus.com)
[23:10:03] *** Joins: dwrensha (chatzilla@moz-DE44EA45.hsd1.pa.comcast.net)
[23:10:28] *** Quits: sigma (sigma@moz-F2EA75FD.range86-184.btcentralplus.com) (Ping timeout)
[23:11:03] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[23:11:08] *** Quits: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com) (Ping timeout)
[23:11:08] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Input/output error)
[23:11:36] *** Joins: dew (Instantbir@moz-9D36B7B6.static.stls.mo.charter.com)
[23:12:57] <jack> except for injecting the crate_id, it should work exactly like rustc.
[23:13:09] <jack> it does more name inference.
[23:13:31] *** Quits: canhtak (canhtak@moz-59105D0.wl.t.ulaval.ca) (Quit: canhtak)
[23:14:11] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[23:14:35] *** Joins: Sgeo (quassel@moz-4E71E7BB.dyn.optonline.net)
[23:16:01] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[23:16:15] * sully just pulled it off a desk and then accidentally kicked the screen as it fell
[23:17:06] <csherratt> this is silly, there are two install locations for /usr/local/lib and /usr/local/lib/rustc/.../lib/ rustpkg only searches the former, which lacks libnative. So it looks like it is a bug in make install.
[23:17:30] <cmr> csherratt: the arch package, which uses make install, has libnative in /usr/lib
[23:17:45] <cmr> (it has it in both)
[23:19:14] *** Quits: vodik (simon@moz-51845A17.range86-179.btcentralplus.com) (Quit: WeeChat 0.4.3-dev)
[23:19:22] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[23:19:35] <csherratt> hmm, I'm going to try and build from a clean git repo see if that helps. But when I did a make install I did not see libnative being copied.
[23:21:11] *** Joins: canhtak (canhtak@moz-59105D0.wl.t.ulaval.ca)
[23:21:19] *** Joins: vodik (simon@moz-51845A17.range86-179.btcentralplus.com)
[23:26:57] *** Joins: sigma (sigma@moz-BFB7A653.range86-143.btcentralplus.com)
[23:27:11] *** Quits: pepper_chico (pepper_chi@E4B89D8C.3C9EA51F.F546FA5F.IP) (Quit: Ex-Chat)
[23:28:11] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[23:30:03] <Luqman> csherratt: afaik, /usr/lib/lib*.so is what rustc is linked against while /usr/lib/rustc/$TARGET/lib/lib*.so is what your binary will be linked against
[23:31:32] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[23:31:33] *** Joins: engla (engla@moz-F64E1B0F.cust.bredbandsbolaget.se)
[23:31:44] *** Quits: erickt1 (Adium@moz-4B000CB7.dyn.optonline.net) (Quit: Leaving.)
[23:34:08] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[23:34:33] *** Quits: AvianFlu (AvianFlu@moz-51534E77.c3-0.43d-ubr2.qens-43d.ny.cable.rcn.com) (Input/output error)
[23:37:27] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[23:38:13] <csherratt> Luqman: ldd confirms what you have said. But the debug logs form rustpkg show it looking at /usr/local/lib instead of /usr/local/lib/rustc/$TARGET/lib/lib*.so
[23:41:57] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[23:43:05] *** Quits: tiffany (kawaii@moz-FC0DB29D.dhcp.embarqhsd.net) (Input/output error)
[23:43:20] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Connection reset by peer)
[23:43:36] *** Joins: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru)
[23:44:47] <cmr> Luqman: I thought it was the other way around... the rustc dir has always confused me though
[23:45:10] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[23:45:17] *** Quits: dredozubov (dredozubov@moz-1E374954.nationalcablenetworks.ru) (Ping timeout)
[23:45:32] <Luqman> cmr: no, i mean the current way makes sense to me since you can have multiple targets
[23:46:34] <olsonjeffery> wow, nice.
[23:46:49] <cmr> Luqman: why wouldn't it go in /usr/$TARGET/lib ?
[23:46:54] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[23:46:55] <olsonjeffery> i generalized my mrpas demo to match the C impl and benched it alongside the original C impl..
[23:47:19] *** Quits: canhtak (canhtak@moz-59105D0.wl.t.ulaval.ca) (Quit: canhtak)
[23:47:30] <Luqman> cmr: you make a good point :P
[23:47:59] <olsonjeffery> C: 47313 nsecs Rust: 42622 nsecs
[23:48:02] <olsonjeffery> maybe its a clock precision issue
[23:48:13] *** Joins: canhtak (canhtak@moz-59105D0.wl.t.ulaval.ca)
[23:48:32] <olsonjeffery> the field-of-view maps are 95% identical too (the C one seems to be more permissive about "corner hugging" then my rust impl)
[23:49:17] <olsonjeffery> http://imgur.com/HWPbJgf
[23:49:29] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[23:49:57] <olsonjeffery> also tcod is a freakin' pain to link. you have to use the binary dist.. they don't even have makefiles for osx
[23:50:57] <Torwegia> Is there a way to cast a Trait in a box to some struct that implements that tait in the same box?
[23:51:24] <aatch> Torwegia, no.
[23:51:31] <cmr> Torwegia: you want to get a struct out of a trait object? that's not something you can do.
[23:51:57] <aatch> Because that would either break the idea of trait objects or allow for arbitrary type coercion.
[23:52:38] *** Joins: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP)
[23:52:39] <cmr> olsonjeffery: you're not giving -O to gcc
[23:54:09] <olsonjeffery> cmr: hah, that made it slower :P
[23:54:17] <olsonjeffery> 62963 nsecs
[23:55:24] <olsonjeffery> i should probably run each bin 1000 times and get amedian and mean
[23:55:27] <cmr> olsonjeffery: also try using #[bench], it will do stats magic to try to reduce deviation
[23:55:46] <olsonjeffery> cmr: well i just have the demo as a plan bin project right now
[23:56:30] <cmr> sure, but all you need to do is change your main fn into a #[bench] fn
[23:56:39] <olsonjeffery> https://github.com/olsonjeffery/mrpas-demo
[23:56:46] <olsonjeffery> well bench run it a bunch of times?
[23:56:47] <cmr> ooh, nice
[23:56:50] <cmr> yeah
[23:57:01] <olsonjeffery> you're on your own for building the tcod_mrpas sample
[23:57:10] <olsonjeffery> it was a pretty big hassle for me on osx 10.8
[23:57:23] *** Quits: thiez (thiez@moz-BF669398.student.utwente.nl) (Client exited)
[23:57:38] *** Quits: gkostyanikov (gkostyanik@DDEB91FD.A859D9FD.CA6E2165.IP) (Ping timeout)
[23:58:18] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Quit: Textual IRC Client: www.textualapp.com)
[23:58:46] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[23:58:56] *** Joins: erickt1 (Adium@moz-4B000CB7.dyn.optonline.net)
[23:58:59] <olsonjeffery> my late christmas present for the rust community ;)
[23:59:00] *** Quits: maxiepoo (Max@moz-D66F3D4E.atvci.net) (Quit: maxiepoo)
[23:59:12] <erickt1> acrichto: ping
[23:59:13] <olsonjeffery> there's gotta be a good reason that C is losing the benchmark, though
[23:59:20] <acrichto> erickt1: pong
[23:59:38] <cmr> I see it's using doubles, are you using f64?
[23:59:38] <aatch> olsonjeffery, honestly, I'm just happy it competes.
[23:59:59] <cmr> oh that's just the sample
