[00:00:13] *** Joins: ghservo (ghservo@94BD74B8.6A2AE50.F3114085.IP)
[00:00:13] <ghservo> [13servo] 15jdm closed issue #1733: Replace uses of cast::transmute with either cast::transmute_mut_unsafe or explicit pointer casts 02http://git.io/5Mqr0A
[00:00:13] *** Parts: ghservo (ghservo@94BD74B8.6A2AE50.F3114085.IP) ()
[00:05:03] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[00:08:29] <jdm> kmc: do other threads show anything interesting when you hit the failure?
[00:08:43] <jdm> I'm interested that this happens while cloning a note
[00:12:38] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[00:13:22] *** Quits: dzbarsky (Adium@BC1B0569.D5562F02.B5C6E82B.IP) (Quit: Leaving.)
[00:13:37] <kmc> i'll get a backtrace from all threads
[00:13:55] *** Joins: chenyang (user@moz-E57448EF.airbears2.berkeley.edu)
[00:15:51] <kmc> jdm: https://pastebin.mozilla.org/4405430
[00:17:05] <jdm> there are many interesting things going on there
[00:17:16] <kmc> yeah
[00:17:52] <kmc> there's a matches_generic_nth_child (which generates the failure) while other threads are also doing selector matching
[00:18:38] <jdm> there's a clear borrow happening for at least one node there
[00:20:09] <jdm> whoops, train pulling in
[00:20:37] *** Quits: jdm (jdm@CAB30FBD.8F96AEA7.2D179A7D.IP) (Quit: Lost terminal)
[00:23:23] *** Quits: mauricioc (mauricioc@moz-3A63F597.impa.br) (Ping timeout)
[00:23:34] *** Joins: mauricioc (mauricioc@moz-3A63F597.impa.br)
[00:24:09] *** Quits: hoverbear (hoverbear@moz-88074483.wireless.uvic.ca) (Quit: Taking a nap.)
[00:26:23] *** kimundi is now known as zz_kimundi
[00:33:35] *** Joins: brendan (brendaneic@BBB21EE2.F6F8CE9D.1DA58BFC.IP)
[00:43:16] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[00:44:26] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[00:44:48] *** Joins: nimish (quassel@6CD90D4F.B586C2A4.5F29FBA5.IP)
[00:49:02] *** Joins: lpy|codeforces (lpy@7360AA58.F09091A8.1348A864.IP)
[00:50:29] <kmc> so how did parallel layout land if it introduced a race condition that breaks reftests?
[00:50:32] <kmc> luck?
[00:50:58] *** Quits: Savago (Savago@D8B9C081.E820043D.D4C04133.IP) (Quit: Savago)
[00:51:18] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.3)
[00:52:58] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[00:53:35] *** nrc|afk is now known as nrc
[00:54:05] *** Quits: mihneadb (mihneadb@moz-9897BD47.static.ziggozakelijk.nl) (Quit: Computer gone to sleep - Zzzz...)
[00:54:39] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Ping timeout)
[00:56:45] *** Quits: newbie82 (kvirc@moz-98A4B5CB.dip0.t-ipconnect.de) (Ping timeout)
[00:59:25] *** Quits: brendan (brendaneic@BBB21EE2.F6F8CE9D.1DA58BFC.IP) (Quit: brendan)
[01:02:31] *** Quits: tobytailor (tobytailor@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: tobytailor)
[01:03:03] *** Quits: CaseyBecking (CaseyBecki@ED8170C4.82E507D6.C334098E.IP) (Ping timeout)
[01:03:07] <larsberg> IIRC, when I first ran into it we were investigating #1615 (but I don't know if it was that PR or one of the earlier ones that introduced the instability)
[01:03:07] <crowbot> Issue #1615: layout: Refactor flow construction to move around large structs less. - https://github.com/mozilla/servo/pull/1615
[01:06:50] *** Joins: gsnedders (gsnedders@C95C83A3.84389009.803EA162.IP)
[01:09:16] *** Quits: mauricioc (mauricioc@moz-3A63F597.impa.br) (Quit: Lost terminal)
[01:10:22] *** Quits: mccr8 (mccr8@moz-BBE3ABD.mv.mozilla.com) (Quit: )
[01:12:49] *** Joins: lpy|code_ (lpy@9A6870A6.F09091A8.1348A864.IP)
[01:13:30] *** Quits: lpy|codeforces (lpy@7360AA58.F09091A8.1348A864.IP) (Ping timeout)
[01:14:30] *** Quits: lpy|code_ (lpy@9A6870A6.F09091A8.1348A864.IP) (Ping timeout)
[01:16:58] *** Quits: chenyang (user@moz-E57448EF.airbears2.berkeley.edu) (Input/output error)
[01:17:21] *** Joins: hoverbear (hoverbear@moz-88074483.wireless.uvic.ca)
[01:18:27] *** Quits: nimish (quassel@6CD90D4F.B586C2A4.5F29FBA5.IP) (Ping timeout)
[01:34:23] *** Quits: hoverbear (hoverbear@moz-88074483.wireless.uvic.ca) (Quit: This bear's gotta fly.)
[01:34:25] *** Joins: CaseyBecking (CaseyBecki@moz-EDABF502.lsanca.fios.verizon.net)
[01:38:25] *** Joins: dzbarsky (Adium@BC1B0569.D5562F02.B5C6E82B.IP)
[01:38:30] <kmc> woah, we used to have reftests that launched Firefox via Selenium to generate the reference image :O
[01:38:32] *** Quits: dzbarsky (Adium@BC1B0569.D5562F02.B5C6E82B.IP) (Client exited)
[01:41:13] <cmr> hah
[01:41:17] <cmr> that's not a bad idea, really...
[01:41:32] <kmc> brson's doing.  nice work :)
[01:42:05] <kmc> but important pieces are missing now and i'm going to remove the remnants to avoid confusion
[01:42:16] <kmc> and open an issue to consider reviving it
[01:43:42] *** Quits: bhenry (bhenry@moz-B504BF3D.shaklee.com) (Quit: bhenry)
[01:43:48] <cmr> did anyone figure out the msttf explosions yet?
[01:43:50] <cmr> larsberg: ^
[01:43:54] <cmr> (brb)
[01:45:30] <kmc> cmr: what do you mean?
[01:45:41] <larsberg> cmr: not yet. Sorry I haven't had a chance to take a look at better fallback fonts yet; tons of interviews, PR reviews, and this rust upgrade have me a little swamped :-)
[01:45:56] <larsberg> kmc: I think he's referring to better fallbacks in the case that msttcorefonts is not installed
[01:46:03] <larsberg> e.g., better than crashing horribly
[01:47:23] <kmc> ah
[01:48:57] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[01:50:29] <cmr> larsberg: ok, just making sure someone didn't solve it before I go dump some time into it (now
[01:50:44] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Ping timeout)
[01:50:51] <larsberg> cmr: awesome, thanks for looking into it! :-)
[01:53:25] *** Joins: pradeep (pradeep@5AB4884B.FCC4549.14D5B978.IP)
[01:53:44] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[01:55:26] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Ping timeout)
[02:02:07] *** Quits: ibnc (ibnc@moz-718F3037.client.mchsi.com) (Client exited)
[02:05:18] *** Quits: reyre (reyre@moz-72FEF1DB.dsl.bell.ca) (Client exited)
[02:08:28] *** Joins: ghservo (ghservo@C95C9FF.6A2AE50.F3114085.IP)
[02:08:28] <ghservo> [13servo] 15kmcallister opened pull request #1767: Fix --help and remove old reftest system (06master...06misc) 02http://git.io/97wLIg
[02:08:28] *** Parts: ghservo (ghservo@C95C9FF.6A2AE50.F3114085.IP) ()
[02:13:10] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[02:13:24] *** Joins: ghservo (ghservo@4089EBDC.6A2AE50.F3114085.IP)
[02:13:24] <ghservo> [13servo] 15kmcallister opened issue #1768: Reftest against other browser engines 02http://git.io/LI2A_w
[02:13:24] *** Parts: ghservo (ghservo@4089EBDC.6A2AE50.F3114085.IP) ()
[02:14:30] *** Quits: kanzure (kanzure@F82784FC.7F5DF6F3.D07E361.IP) (Ping timeout)
[02:22:28] *** Joins: lpy|codeforces (lpy@665181D6.D58093C6.8C13C571.IP)
[02:24:15] *** Joins: reyre (reyre@moz-72FEF1DB.dsl.bell.ca)
[02:24:39] *** Quits: lpy|codeforces (lpy@665181D6.D58093C6.8C13C571.IP) (Connection reset by peer)
[02:24:44] *** Joins: lpy|code_ (lpy@665181D6.D58093C6.8C13C571.IP)
[02:24:59] *** Joins: mauricioc (mauricioc@A6903506.BF40BC51.2F0EC0E9.IP)
[02:25:05] *** Quits: dbaron (dbaron@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Ping timeout)
[02:26:06] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[02:26:06] *** ChanServ sets mode: +o pcwalton
[02:27:11] *** Quits: canhtak (canhtak@moz-251024EB.wl.t.ulaval.ca) (Quit: canhtak)
[02:28:48] <cmr> hm
[02:28:56] <cmr> has anyone succesfully x-forwarded servo?
[02:29:18] <cmr> looks like it wants glx, which, you know, makes sense.
[02:29:52] <larsberg> cmr: thats how most of samsung uses servo
[02:30:08] <cmr> I'm using xming on windows, might that affect it?
[02:30:26] <larsberg> I've only been able to get it to forward to xming, though, not the x server on osx
[02:30:31] <cmr> heh
[02:30:37] <cmr> one sec, will get log.
[02:30:56] <cmr> ... oh hey it worked this time
[02:31:02] <cmr> weirdo
[02:31:05] <larsberg> Lol
[02:31:51] *** Joins: harth_ (heather@moz-42412102.hsd1.ca.comcast.net)
[02:33:27] <cmr> https://gist.github.com/anonymous/56bdb230307d4b955187
[02:33:31] <cmr> I had assumed they were related.
[02:33:33] <cmr> but no
[02:33:38] <cmr> the succesful run printed that, too.
[02:33:39] *** Joins: Guest52 (email@EB8DDA44.BAAE117C.EEFFBC6A.IP)
[02:33:44] *** Quits: harth_ (heather@moz-42412102.hsd1.ca.comcast.net) (Ping timeout)
[02:33:56] <pradeep> cmr: fwiw, I get that every single time :P
[02:34:10] <cmr> so am I, with xming
[02:34:12] <pradeep> the warning
[02:34:27] <pradeep> the segmentation fault happens once every two times I run servo
[02:34:39] <pradeep> same here - xming
[02:35:08] <cmr> mm
[02:35:19] <cmr> well, I'm just glad it works
[02:35:56] <cmr> once I'm home I'll see if I get the same amount of segfaults with a real X server
[02:36:42] <pradeep> I'm using it on Windows with XMing... it takes a long time to display any page (~20s). Running (all) reftests is impossible.
[02:37:08] <cmr> I'm getting much faster pageloads for google.com at least
[02:37:37] <pradeep> running one reftest works once in a while. On a direct Ubuntu machine, it takes a few seconds to run _all_ the reftests.
[02:37:43] *** Quits: lpy|code_ (lpy@665181D6.D58093C6.8C13C571.IP) (Client exited)
[02:39:42] *** Quits: Guest52 (email@EB8DDA44.BAAE117C.EEFFBC6A.IP) (Excess Flood)
[02:39:53] *** Joins: Savago (Savago@moz-679D1D3C.hsd1.ca.comcast.net)
[02:41:44] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[02:42:10] *** Joins: canhtak (canhtak@moz-251024EB.wl.t.ulaval.ca)
[02:42:16] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[02:42:28] <cmr> scrolling wikipedia over it is an interesting experience.
[02:42:29] *** Quits: Savago (Savago@moz-679D1D3C.hsd1.ca.comcast.net) (Quit: Savago)
[02:44:17] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[02:52:11] *** Quits: reyre (reyre@moz-72FEF1DB.dsl.bell.ca) (Client exited)
[02:54:31] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[02:56:11] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Ping timeout)
[03:00:45] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[03:05:20] *** Joins: reyre (reyre@moz-72FEF1DB.dsl.bell.ca)
[03:06:23] *** Quits: zz_kimundi (kimundi@moz-66E7D193.dip0.t-ipconnect.de) (Ping timeout)
[03:08:22] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[03:08:59] *** Joins: cgaebel (clark@moz-8E0C6BCA.nyc.res.rr.com)
[03:10:13] *** Joins: zz_kimundi (kimundi@moz-236A69C1.dip0.t-ipconnect.de)
[03:10:14] *** zz_kimundi is now known as kimundi
[03:10:30] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[03:14:13] <larsberg> Cmr, pradeep can you open issues on xming stuff? I'm happy to fix them and have a setup, but i don't regularly run it...
[03:16:53] <cmr> larsberg: I can for the glx stuff, but I haven't been able to reproduce anything else in my short testing.
[03:17:53] <larsberg> Cool, please include your graphics driver, if possible. It's a bit of a mess on linux...
[03:18:47] <cmr> Graphics driver certainly shouldn't matter with X forwarding?
[03:19:05] <larsberg> pradeep: you might be able to set DISPLAY to 0.0 and have the tests run on the local X server instead of remoted, if permissions are set up correctly...
[03:21:36] <sp3d> nothing like the smell of aiglx in the morning :D
[03:22:49] <larsberg> cmr: depends on direct vs. indirect libgl. I should spend more time trying to make that more reliable / stable...
[03:25:32] <larsberg> pradeep: can you open an issue with a backtrace? I really thought I had fixed all the linux driver startup issues.
[03:26:12] *** Joins: ghservo (ghservo@B750D19A.6A2AE50.F3114085.IP)
[03:26:12] <ghservo> [13servo] 15cmr opened issue #1769: Servo over Xming is slow, unreliable 02http://git.io/sX310Q
[03:26:12] *** Parts: ghservo (ghservo@B750D19A.6A2AE50.F3114085.IP) ()
[03:26:17] <cmr> larsberg: https://github.com/mozilla/servo/issues/1769
[03:26:52] <larsberg> Thanks!
[03:27:03] <cmr> enough info?
[03:27:39] <cmr> Ok so I uninstalled the packages that provide corefonts on my system.
[03:27:41] <cmr> Servo still works
[03:27:54] <cmr> an strace shows it opening Liberation Sans ttf files.
[03:28:44] <cmr> after it looks for a bunch of ms fonts.
[03:28:58] <cmr> so... everything is good on my system!
[03:30:01] *** Quits: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca) (Quit: Leaving.)
[03:30:12] <cmr> this is with freetype 2.5.2 and fontconfig 2.11
[03:31:16] <cmr> I'll see if I can repro on some debian machines
[03:32:46] *** Joins: ghservo (ghservo@99CAE845.6A2AE50.F3114085.IP)
[03:32:46] <ghservo> [13servo] 15metajack closed pull request #1767: Fix --help and remove old reftest system (06master...06misc) 02http://git.io/97wLIg
[03:32:46] *** Parts: ghservo (ghservo@99CAE845.6A2AE50.F3114085.IP) ()
[03:32:48] *** Joins: ghservo (ghservo@4089EBDC.6A2AE50.F3114085.IP)
[03:32:48] <ghservo> [13servo] 15metajack reopened pull request #1767: Fix --help and remove old reftest system (06master...06misc) 02http://git.io/97wLIg
[03:32:48] *** Parts: ghservo (ghservo@4089EBDC.6A2AE50.F3114085.IP) ()
[03:32:52] <larsberg> Plenty of info, and that sounds very promising!
[03:33:11] <jack> critic seems asleep again
[03:33:31] <larsberg> I should be too, soon :)
[03:34:14] <larsberg> cmr: if you make a branch or PR available, one of us can also test on a debian/ubuntu box
[03:37:40] *** Joins: ghservo (ghservo@511FAEBD.6A2AE50.F3114085.IP)
[03:37:40] <ghservo> [13servo] 15bors-servo pushed 3 new commits to 06auto: 02http://git.io/ow3pCQ
[03:37:40] <ghservo> 13servo/06auto 14c277d25 15Keegan McAllister: Don't crash on bad command-line arguments...
[03:37:40] <ghservo> 13servo/06auto 142f2df09 15Keegan McAllister: Remove remnants of old reftest system...
[03:37:40] <ghservo> 13servo/06auto 1494a1246 15bors-servo: auto merge of #1767 : kmcallister/servo/misc, r=metajack
[03:37:42] *** Parts: ghservo (ghservo@511FAEBD.6A2AE50.F3114085.IP) ()
[03:45:00] *** Quits: cgaebel (clark@moz-8E0C6BCA.nyc.res.rr.com) (Ping timeout)
[03:48:37] *** Joins: stumpart (stumpart@moz-93393D0A.hsd1.ca.comcast.net)
[03:49:00] *** Quits: stumpart (stumpart@moz-93393D0A.hsd1.ca.comcast.net) (Quit: stumpart)
[03:49:45] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[03:49:53] *** Joins: stumpart (stumpart@moz-93393D0A.hsd1.ca.comcast.net)
[03:51:32] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Ping timeout)
[03:53:39] *** Joins: tobytailor (tobytailor@moz-CBD810C7.hsd1.ca.comcast.net)
[03:54:31] *** Quits: stumpart (stumpart@moz-93393D0A.hsd1.ca.comcast.net) (Quit: stumpart)
[03:55:19] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[03:56:59] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Ping timeout)
[03:57:04] *** Quits: mauricioc (mauricioc@A6903506.BF40BC51.2F0EC0E9.IP) (Quit: Lost terminal)
[04:04:37] *** Joins: ghservo (ghservo@49477F7E.6A2AE50.F3114085.IP)
[04:04:37] <ghservo> [13servo] 15bors-servo merged 06auto into 06master: 02http://git.io/ow3pCQ
[04:04:37] *** Parts: ghservo (ghservo@49477F7E.6A2AE50.F3114085.IP) ()
[04:04:38] *** Joins: ghservo (ghservo@94BD74B8.6A2AE50.F3114085.IP)
[04:04:38] <ghservo> [13servo] 15bors-servo closed pull request #1767: Fix --help and remove old reftest system (06master...06misc) 02http://git.io/97wLIg
[04:04:38] *** Parts: ghservo (ghservo@94BD74B8.6A2AE50.F3114085.IP) ()
[04:07:45] *** Joins: k4nar (quassel@moz-EE8DAF45.ip-91-121-75.eu)
[04:11:23] <cmr> larsberg: I don't have any branch! this is just off of master.
[04:12:22] *** Quits: reyre (reyre@moz-72FEF1DB.dsl.bell.ca) (Client exited)
[04:20:41] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Quit: leaving)
[04:20:50] *** Joins: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca)
[04:22:42] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[04:22:42] *** ChanServ sets mode: +o pcwalton
[04:26:58] *** Joins: dbaron (dbaron@6E6C815B.27376607.189F3E15.IP)
[04:31:26] *** Joins: dranov (dranov@E5164DA2.5ABDACB1.FB866788.IP)
[04:36:29] <pcwalton> there is a race atm
[04:36:31] <pcwalton> I'm working on a fix
[04:39:06] *** Joins: ghservo (ghservo@4BC7FFDD.6A2AE50.F3114085.IP)
[04:39:06] <ghservo> [13servo] 15pcwalton opened pull request #1770: layout: Rewrite the float context. (06master...06rewrite-float-context) 02http://git.io/7WcmMQ
[04:39:06] *** Parts: ghservo (ghservo@4BC7FFDD.6A2AE50.F3114085.IP) ()
[04:44:33] *** Joins: lpy|codeforces (lpy@7360AA58.F09091A8.1348A864.IP)
[04:56:04] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[04:57:45] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Ping timeout)
[04:57:49] *** Quits: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca) (Input/output error)
[04:58:30] *** Joins: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca)
[05:08:08] *** Joins: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[05:10:28] *** Quits: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[05:14:28] *** Quits: tobytailor (tobytailor@moz-CBD810C7.hsd1.ca.comcast.net) (Quit: tobytailor)
[05:15:35] <pradeep> larsberg: sorry for not responding earlier - was out for lunch. When I try `DISPLAY=0.0 ./servo <about-mozilla>`, I get 
[05:15:44] <pradeep> GLFW Error: ApiUnavailable (X11: Failed to open X display)
[05:15:45] <pradeep> GLFW initialization failed
[05:17:11] <pradeep> when I try with `DISPLAY=:0.0 ...` it also says "No protocol specified"
[05:17:36] <pradeep> am I doing this right?
[05:18:03] *** Quits: leyyin (leyyin@3AA5EA4A.C701BC71.64EC52E5.IP) (Quit: Leaving)
[05:23:32] *** Joins: sawrubh (uid6719@moz-5F4AA75A.irccloud.com)
[05:38:27] *** Joins: eddyb (eddy@moz-41DB10DA.residential.rdsnet.ro)
[05:44:31] *** Joins: lpy|code_ (lpy@9A6870A6.F09091A8.1348A864.IP)
[05:45:04] *** Quits: lpy|codeforces (lpy@7360AA58.F09091A8.1348A864.IP) (Ping timeout)
[05:47:45] *** Quits: robn (robn@moz-76B0302C.static.internode.on.net) (Ping timeout)
[05:49:39] *** Joins: robn (robn@moz-76B0302C.static.internode.on.net)
[05:49:53] *** Quits: lpy|code_ (lpy@9A6870A6.F09091A8.1348A864.IP) (Ping timeout)
[05:50:16] *** Joins: lpy|codeforces (lpy@E44EE2C4.F09091A8.1348A864.IP)
[05:50:43] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[05:52:33] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Ping timeout)
[05:54:30] *** Quits: victorporof (victorporo@moz-FFB76956.cpe.net.cable.rogers.com) (Quit: victorporof)
[05:56:50] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[05:58:30] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Ping timeout)
[05:59:02] *** Joins: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com)
[06:05:48] *** Quits: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com) (Ping timeout)
[06:06:45] *** Joins: stumpart (stumpart@moz-93393D0A.hsd1.ca.comcast.net)
[06:09:17] *** Joins: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com)
[06:15:04] *** Quits: esummers (esummers@moz-3B015C90.wi.res.rr.com) (Quit: Computer has gone to sleep.)
[06:15:28] *** Joins: esummers (esummers@moz-3B015C90.wi.res.rr.com)
[06:17:09] *** Quits: esummers (esummers@moz-3B015C90.wi.res.rr.com) (Ping timeout)
[06:18:05] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[06:18:12] *** lpy|codeforces is now known as lpy
[06:18:29] <lpy> I wrote a test for html/content but it time out.
[06:18:39] *** Quits: canhtak (canhtak@moz-251024EB.wl.t.ulaval.ca) (Quit: canhtak)
[06:18:47] <lpy> I did add `finish()` after the test
[06:20:37] *** Joins: brendan (brendaneic@BBB21EE2.F6F8CE9D.1DA58BFC.IP)
[06:20:54] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[06:24:46] *** Joins: esummers (esummers@moz-3B015C90.wi.res.rr.com)
[06:26:04] *** Quits: esummers (esummers@moz-3B015C90.wi.res.rr.com) (Quit: Computer has gone to sleep.)
[06:26:28] *** Joins: esummers (esummers@moz-3B015C90.wi.res.rr.com)
[06:26:36] *** Quits: stumpart (stumpart@moz-93393D0A.hsd1.ca.comcast.net) (Quit: stumpart)
[06:29:16] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[06:29:50] *** Quits: esummers (esummers@moz-3B015C90.wi.res.rr.com) (Ping timeout)
[06:34:11] *** Joins: matematikaadit (adit@B1E537D7.7BC6C1CC.B0C328E3.IP)
[06:37:46] *** Quits: kanru (kanru@moz-99690620.hinet-ip.hinet.net) (Ping timeout)
[06:47:17] *** Quits: brendan (brendaneic@BBB21EE2.F6F8CE9D.1DA58BFC.IP) (Quit: brendan)
[06:51:12] *** Joins: kanru (kanru@moz-99690620.hinet-ip.hinet.net)
[06:53:10] *** Joins: ghservo (ghservo@23EC81EC.6A2AE50.F3114085.IP)
[06:53:10] <ghservo> [13servo] 15lpy opened pull request #1771: Add check for non-Text children for document.title.(fixes #1742) (06master...06issue1742) 02http://git.io/HGi5ZA
[06:53:10] *** Parts: ghservo (ghservo@23EC81EC.6A2AE50.F3114085.IP) ()
[06:55:19] *** Quits: kanru (kanru@moz-99690620.hinet-ip.hinet.net) (Ping timeout)
[06:55:28] *** Quits: lpy (lpy@E44EE2C4.F09091A8.1348A864.IP) (Client exited)
[06:56:59] *** Joins: esummers (esummers@moz-3B015C90.wi.res.rr.com)
[06:58:10] *** Joins: gandalf (zbraniecki@moz-912D7A86.hsd1.ca.comcast.net)
[06:59:17] *** Joins: ghservo (ghservo@511FAEBD.6A2AE50.F3114085.IP)
[06:59:18] <ghservo> [13servo] 15pcwalton opened pull request #1772: layout: Stop racing on the JSManaged borrow flags (06master...06borrow-flags-race) 02http://git.io/zz8DRw
[06:59:18] *** Parts: ghservo (ghservo@511FAEBD.6A2AE50.F3114085.IP) ()
[06:59:26] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[07:01:27] *** Quits: gandalf (zbraniecki@moz-912D7A86.hsd1.ca.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[07:02:01] *** Joins: kanru (kanru@moz-99690620.hinet-ip.hinet.net)
[07:04:11] *** Joins: gandalf (zbraniecki@moz-912D7A86.hsd1.ca.comcast.net)
[07:05:22] *** Quits: esummers (esummers@moz-3B015C90.wi.res.rr.com) (Ping timeout)
[07:08:06] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[07:10:24] *** Joins: lpy (lpy@8D37022B.F09091A8.1348A864.IP)
[07:10:26] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[07:18:13] *** Quits: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca) (Quit: Leaving.)
[07:24:51] *** Joins: esummers (esummers@moz-3B015C90.wi.res.rr.com)
[07:31:33] *** Quits: esummers (esummers@moz-3B015C90.wi.res.rr.com) (Ping timeout)
[07:46:59] <sawrubh> so I moved a method from util.rs to a new module called error.rs (residing in the same place) and now I'm getting errors in the files inside dom/bindings/codegen about   error: unresolved name `throw_method_failed_with_details`
[07:48:23] <sawrubh> so do I need to add the moved method's reference to some file since the files can't find that method now
[07:49:37] *** Quits: gandalf (zbraniecki@moz-912D7A86.hsd1.ca.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[07:51:18] *** Quits: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com) (Input/output error)
[07:58:31] *** Joins: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com)
[07:58:32] *** Joins: gandalf (zbraniecki@moz-912D7A86.hsd1.ca.comcast.net)
[08:00:35] <pradeep> sawrubh: Did you update servo.rs?
[08:01:07] <pradeep> It contains a list of modules for layout
[08:01:10] <sawrubh> I fixed it, just had to add that method to the CodegenRust.py, I was earlier just adding the Enums
[08:04:32] <lpy> can `url` in `Page` be `None`?
[08:05:51] <SimonSapin> If not, it shouldnâ€™t be an option
[08:06:11] <SimonSapin> and it shouldnâ€™t ever be None
[08:06:42] <SimonSapin> if needed, come up with URLs in the about: scheme
[08:08:44] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[08:10:28] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[08:13:29] *** Joins: Debloper (debloper@moz-88FF8AE8.redhat.com)
[08:14:44] *** Joins: teosz (teosz@14885300.1934AA08.3EA6AAD8.IP)
[08:19:43] <lpy> SimonSapin: I see. thanks
[08:19:50] *** Quits: teosz (teosz@14885300.1934AA08.3EA6AAD8.IP) (Ping timeout)
[08:20:09] <SimonSapin> lpy: thatâ€™s my uninformed opinion :) I have no idea what the actual code does
[08:20:33] <lpy> SimonSapin: I am adding the url getter for `Page` indeed
[08:20:38] <lpy> s/indeed//
[08:20:55] <SimonSapin> is it an Option in the code?
[08:21:08] <lpy> yep
[08:21:40] <lpy> so if it is `None`, should I construct a new Url using "about:xxx" like you said?
[08:22:07] <SimonSapin> probably
[08:22:16] <SimonSapin> are there many such situations?
[08:23:15] <lpy> my opinion is it would never be `None`
[08:23:52] <SimonSapin> I agree
[08:30:05] *** Joins: esummers (esummers@moz-3B015C90.wi.res.rr.com)
[08:32:35] *** Quits: esummers (esummers@moz-3B015C90.wi.res.rr.com) (Ping timeout)
[08:38:29] *** Joins: esummers (esummers@moz-3B015C90.wi.res.rr.com)
[08:40:10] *** Quits: esummers (esummers@moz-3B015C90.wi.res.rr.com) (Ping timeout)
[08:42:59] *** Quits: cait (glenlivet@moz-9FE842F.cpe.net.cable.rogers.com) (Ping timeout)
[08:47:57] *** Joins: teosz (teosz@14885300.1934AA08.3EA6AAD8.IP)
[08:51:51] *** Quits: teosz (teosz@14885300.1934AA08.3EA6AAD8.IP) (Ping timeout)
[08:54:54] *** Quits: dbaron (dbaron@6E6C815B.27376607.189F3E15.IP) (Ping timeout)
[08:58:37] *** Quits: kanru (kanru@moz-99690620.hinet-ip.hinet.net) (Ping timeout)
[08:59:24] *** Quits: matematikaadit (adit@B1E537D7.7BC6C1CC.B0C328E3.IP) (Quit: Leaving)
[09:08:41] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[09:10:29] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[09:10:46] *** Joins: harth (heather@moz-42412102.hsd1.ca.comcast.net)
[09:11:54] *** Quits: robn (robn@moz-76B0302C.static.internode.on.net) (Ping timeout)
[09:12:38] *** Quits: harth (heather@moz-42412102.hsd1.ca.comcast.net) (Ping timeout)
[09:13:17] *** Joins: robn (robn@moz-76B0302C.static.internode.on.net)
[09:21:51] *** Quits: lpy (lpy@8D37022B.F09091A8.1348A864.IP) (Client exited)
[09:24:27] *** Joins: ghservo (ghservo@94BD74B8.6A2AE50.F3114085.IP)
[09:24:27] <ghservo> [13servo] 15sawrubh opened pull request #1773: Move Error, Fallible, ErrorResult out of utils.rs (fixes #1749) (06master...06issue1749) 02http://git.io/wuoFgA
[09:24:27] *** Parts: ghservo (ghservo@94BD74B8.6A2AE50.F3114085.IP) ()
[09:24:53] *** Joins: lpy (lpy@7360AA58.F09091A8.1348A864.IP)
[09:31:48] <lpy> :q
[09:32:31] *** Joins: kanru (kanru@moz-99690620.hinet-ip.hinet.net)
[09:37:54] *** Joins: nimish (quassel@6CD90D4F.B586C2A4.5F29FBA5.IP)
[09:39:14] *** Joins: esummers (esummers@moz-3B015C90.wi.res.rr.com)
[09:40:00] *** Joins: marcob (marco@moz-DC7B7372.dip0.t-ipconnect.de)
[09:41:44] *** Quits: esummers (esummers@moz-3B015C90.wi.res.rr.com) (Ping timeout)
[09:45:59] *** Quits: nimish (quassel@6CD90D4F.B586C2A4.5F29FBA5.IP) (Quit: http://quassel-irc.org - Chat comfortably. Anywhere.)
[09:46:02] *** Joins: nimish (quassel@6CD90D4F.B586C2A4.5F29FBA5.IP)
[09:46:51] *** Quits: gandalf (zbraniecki@moz-912D7A86.hsd1.ca.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[09:47:26] *** Joins: cait (glenlivet@moz-9FE842F.cpe.net.cable.rogers.com)
[09:50:46] *** Quits: nimish (quassel@6CD90D4F.B586C2A4.5F29FBA5.IP) (Quit: http://quassel-irc.org - Chat comfortably. Anywhere.)
[09:50:49] *** Joins: nimish_ (quassel@6CD90D4F.B586C2A4.5F29FBA5.IP)
[09:51:44] *** Quits: nimish_ (quassel@6CD90D4F.B586C2A4.5F29FBA5.IP) (Quit: http://quassel-irc.org - Chat comfortably. Anywhere.)
[09:51:48] *** Joins: nimish_ (quassel@6CD90D4F.B586C2A4.5F29FBA5.IP)
[09:51:52] *** Quits: nimish_ (quassel@6CD90D4F.B586C2A4.5F29FBA5.IP) (Quit: nimish_)
[09:52:55] *** Quits: k4nar (quassel@moz-EE8DAF45.ip-91-121-75.eu) (Ping timeout)
[09:54:21] *** Joins: k4nar (quassel@moz-EE8DAF45.ip-91-121-75.eu)
[09:56:35] *** Joins: msanchez (msanchez@E6836824.9773E83B.5D23F53B.IP)
[10:00:26] *** Quits: Debloper (debloper@moz-88FF8AE8.redhat.com) (Ping timeout)
[10:08:20] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[10:10:30] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[10:13:01] *** Quits: cait (glenlivet@moz-9FE842F.cpe.net.cable.rogers.com) (Ping timeout)
[10:26:36] *** Joins: mihneadb (mihneadb@9AE5E4E3.DE0DFBD7.31DFFEC1.IP)
[10:26:48] *** Quits: mihneadb (mihneadb@9AE5E4E3.DE0DFBD7.31DFFEC1.IP) (Max SendQ exceeded)
[10:28:30] *** Joins: glazou (glazou@D8B9C081.E820043D.D4C04133.IP)
[10:30:30] *** Joins: nimish (quassel@6CD90D4F.B586C2A4.5F29FBA5.IP)
[10:38:53] *** Joins: Ms2ger (Ms2ger@B7B2FF50.C60A97A6.F9FB0584.IP)
[10:40:13] *** Joins: esummers (esummers@moz-3B015C90.wi.res.rr.com)
[10:40:34] *** Quits: kanru (kanru@moz-99690620.hinet-ip.hinet.net) (Input/output error)
[10:41:01] *** Joins: kanru (kanru@moz-99690620.hinet-ip.hinet.net)
[10:41:01] *** Joins: mihneadb (mihneadb@9AE5E4E3.DE0DFBD7.31DFFEC1.IP)
[10:42:44] *** Quits: esummers (esummers@moz-3B015C90.wi.res.rr.com) (Ping timeout)
[10:50:08] *** Joins: ghservo (ghservo@511FAEBD.6A2AE50.F3114085.IP)
[10:50:08] <ghservo> [13servo] 15Ms2ger closed pull request #1771: Add check for non-Text children for document.title.(fixes #1742) (06master...06issue1742) 02http://git.io/HGi5ZA
[10:50:08] *** Parts: ghservo (ghservo@511FAEBD.6A2AE50.F3114085.IP) ()
[10:50:27] *** Joins: ghservo (ghservo@23EC81EC.6A2AE50.F3114085.IP)
[10:50:27] <ghservo> [13servo] 15Ms2ger reopened pull request #1771: Add check for non-Text children for document.title.(fixes #1742) (06master...06issue1742) 02http://git.io/HGi5ZA
[10:50:27] *** Parts: ghservo (ghservo@23EC81EC.6A2AE50.F3114085.IP) ()
[10:51:28] <lpy> Ms2ger: wried, right?
[10:51:46] <Ms2ger> Just poking critic
[10:52:08] <Ms2ger> Sometimes it forgets to create a review
[10:52:39] <lpy> haha
[10:55:48] *** Joins: ghservo (ghservo@23EC81EC.6A2AE50.F3114085.IP)
[10:55:48] <ghservo> [13servo] 15bors-servo pushed 0 new commits to 06auto: 02http://git.io/FKwZzg
[10:55:48] *** Parts: ghservo (ghservo@23EC81EC.6A2AE50.F3114085.IP) ()
[10:55:48] *** Joins: ghservo (ghservo@B750D19A.6A2AE50.F3114085.IP)
[10:55:48] <ghservo> [13servo] 15bors-servo pushed 2 new commits to 06auto: 02http://git.io/dH529Q
[10:55:48] <ghservo> 13servo/06auto 14f9f82ff 15lpy: Add check for non-Text children for document.title.(fixes #1742)
[10:55:48] <ghservo> 13servo/06auto 141a17112 15bors-servo: auto merge of #1771 : lpy/servo/issue1742, r=Ms2ger...
[10:55:49] *** Parts: ghservo (ghservo@B750D19A.6A2AE50.F3114085.IP) ()
[10:57:07] <lpy> Ms2ger: I have a method like `fn get_url(&self) { match self.url.unwrap { blah blah blah } }` and I got error "cannot move out of dereference of & pointer". do you have any idea?
[10:57:25] <lpy> the url is Option<(Url, bool)>
[10:57:56] <lpy> I saw that unwrap() is `fn unwrap(self)`.
[10:57:58] <sawrubh> Ms2ger: so I'll wait for jdm's comments, then fix that braces and that ordering
[10:58:04] <huon> lpy: self.url.as_ref()
[10:58:36] <huon> lpy: `match self.url.as_ref() { Some(&(ref url, b)) => { ... } None => { ... } }`
[10:59:16] *** Joins: newbie82 (kvirc@moz-8ADA2484.dip0.t-ipconnect.de)
[10:59:18] <huon> unless you're wanting to fail on None, in which case `let &(ref url, b) = self.url.as_ref().unwrap();` should be fine
[11:02:18] <lpy> huon: thank you :) I am not sure the behaviour. in my opinion, it should never be None
[11:02:49] <huon> if it is never None, why is it an Option?
[11:03:18] <lpy> That's why I am not sure.
[11:13:47] <Ms2ger> lpy, not sure about that
[11:14:38] <Ms2ger> huon, do you know if rustc has some kind of check on the ordering of use statements?
[11:18:36] <huon> Ms2ger: in what sense?
[11:18:46] <huon> (checking what, I mean)
[11:19:35] <Ms2ger> That they're in ordered alphabetically
[11:19:50] <huon> nope
[11:20:01] <huon> maybe we should have a lint for that
[11:20:14] <Ms2ger> I think that would be nice
[11:21:02] * huon will implement it
[11:21:18] <Ms2ger> <3
[11:22:36] *** Joins: cait (glenlivet@moz-9FE842F.cpe.net.cable.rogers.com)
[11:22:48] *** Joins: ghservo (ghservo@99CAE845.6A2AE50.F3114085.IP)
[11:22:48] <ghservo> [13servo] 15bors-servo closed issue #1742: document.title crashes on title element with non-Text children 02http://git.io/QRn10g
[11:22:48] *** Parts: ghservo (ghservo@99CAE845.6A2AE50.F3114085.IP) ()
[11:22:48] *** Joins: ghservo (ghservo@C82447D.6A2AE50.F3114085.IP)
[11:22:48] <ghservo> [13servo] 15bors-servo closed pull request #1771: Add check for non-Text children for document.title.(fixes #1742) (06master...06issue1742) 02http://git.io/HGi5ZA
[11:22:48] *** Parts: ghservo (ghservo@C82447D.6A2AE50.F3114085.IP) ()
[11:22:49] *** Joins: ghservo (ghservo@88C0CBA2.6A2AE50.F3114085.IP)
[11:22:49] <ghservo> [13servo] 15bors-servo closed pull request #1771: Add check for non-Text children for document.title.(fixes #1742) (06master...06issue1742) 02http://git.io/HGi5ZA
[11:22:49] *** Parts: ghservo (ghservo@88C0CBA2.6A2AE50.F3114085.IP) ()
[11:22:52] *** Joins: ghservo (ghservo@511FAEBD.6A2AE50.F3114085.IP)
[11:22:52] <ghservo> [13servo] 15bors-servo merged 06auto into 06master: 02http://git.io/dH529Q
[11:22:52] *** Parts: ghservo (ghservo@511FAEBD.6A2AE50.F3114085.IP) ()
[11:23:39] * jgraham considers registering areweviableyet.com
[11:25:41] <Ms2ger> :D
[11:33:57] *** Joins: ghservo (ghservo@2DCF43EA.6A2AE50.F3114085.IP)
[11:33:57] <ghservo> [13servo] 15Ms2ger opened pull request #1774: Remove no-op implementations from Element and add some spec links. (06master...06element-noops) 02http://git.io/uNzRmg
[11:33:57] *** Parts: ghservo (ghservo@2DCF43EA.6A2AE50.F3114085.IP) ()
[11:34:58] *** Quits: Ms2ger (Ms2ger@B7B2FF50.C60A97A6.F9FB0584.IP) (Quit: bbl)
[11:38:42] *** Quits: mihneadb (mihneadb@9AE5E4E3.DE0DFBD7.31DFFEC1.IP) (Quit: Computer gone to sleep - Zzzz...)
[11:41:47] *** Joins: esummers (esummers@moz-3B015C90.wi.res.rr.com)
[11:42:47] *** Quits: cait (glenlivet@moz-9FE842F.cpe.net.cable.rogers.com) (Ping timeout)
[11:43:27] *** Quits: esummers (esummers@moz-3B015C90.wi.res.rr.com) (Ping timeout)
[11:53:30] <larsberg> pradeep: sorry, I was on a tablet, so my statements about the DISPLAY were a bit cryptic :-)
[11:54:34] <larsberg> if the X permissions are set up correctly and there is an X server running on the console, then even from a remote/SSH session, you should be able to `export DISPLAY=:0.0` and have the output show up there instead of over the forwarded X session
[11:54:46] <larsberg> that might help for getting the reftests running more reliably/faster...
[11:58:33] <larsberg> pradeep: you can use xhost to allow a set of server to connect to the display (e.g., your subnet) or use one of the more secure xauth-based methods, IIRC. But I haven't used that stuff in like 10 years :-)
[12:04:29] *** Joins: Kostic (Kostic@C4D4CB5C.58A2DD99.2168A69F.IP)
[12:05:44] *** Parts: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com) ()
[12:05:50] *** Joins: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com)
[12:08:04] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[12:10:25] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[12:15:38] <sawrubh> any idea how do I convert a DOMParserBinding::SupportedTypeValues::valuelist to Option<DOMString>
[12:17:56] <sawrubh> I have a Text_html (which is a part of the enum SupportedTypeValues::valuelist and I need to convert that to an Option<~str>
[12:18:02] *** Joins: abinader (sid21713@moz-A42E5B7B.irccloud.com)
[12:23:02] *** Joins: cgaebel (clark@moz-8E0C6BCA.nyc.res.rr.com)
[12:39:48] *** Joins: canhtak (canhtak@moz-251024EB.wl.t.ulaval.ca)
[12:41:46] *** Joins: erteryeeru (email@C7368810.2DBAD852.EEFFBC6A.IP)
[12:42:33] *** Joins: esummers (esummers@moz-3B015C90.wi.res.rr.com)
[12:43:02] *** Joins: mihneadb (mihneadb@moz-9897BD47.static.ziggozakelijk.nl)
[12:45:02] *** Quits: esummers (esummers@moz-3B015C90.wi.res.rr.com) (Ping timeout)
[12:45:12] *** Joins: stumpart (stumpart@moz-93393D0A.hsd1.ca.comcast.net)
[12:48:24] *** Quits: erteryeeru (email@C7368810.2DBAD852.EEFFBC6A.IP) (Ping timeout)
[12:50:40] *** Quits: lpy (lpy@7360AA58.F09091A8.1348A864.IP) (Quit: Leaving...)
[12:50:57] *** Joins: lpy (lpy@7360AA58.F09091A8.1348A864.IP)
[12:51:21] *** Joins: cait (glenlivet@moz-9FE842F.cpe.net.cable.rogers.com)
[12:51:32] *** lpy is now known as lpy|afk
[12:57:42] *** Joins: ghservo (ghservo@C95C9FF.6A2AE50.F3114085.IP)
[12:57:42] <ghservo> [13servo] 15hyunjunekim closed pull request #1725: Pseudo element new (06master...06pseudo-element-new) 02http://git.io/phoI7Q
[12:57:42] *** Parts: ghservo (ghservo@C95C9FF.6A2AE50.F3114085.IP) ()
[13:00:15] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[13:05:19] *** Joins: ghservo (ghservo@88C0CBA2.6A2AE50.F3114085.IP)
[13:05:20] <ghservo> [13servo] 15sawrubh opened pull request #1775: DOMParser should pass the correct contentType (fixes #1741) (06master...06issue1741) 02http://git.io/kAm2Jg
[13:05:20] *** Parts: ghservo (ghservo@88C0CBA2.6A2AE50.F3114085.IP) ()
[13:08:43] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[13:10:31] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[13:12:20] <abinader> guys, I believe I need a little help in https://critic.hoppipolla.co.uk/r/771 :-)
[13:12:23] *** Quits: cait (glenlivet@moz-9FE842F.cpe.net.cable.rogers.com) (Ping timeout)
[13:12:32] <abinader> I triggered "rebase review"
[13:12:45] <abinader> then tried to rebase against master, w/o success
[13:12:58] <abinader> issue now is that it is stuck in "rebase review" step and I'm unable to cancel it
[13:18:47] *** Quits: canhtak (canhtak@moz-251024EB.wl.t.ulaval.ca) (Quit: canhtak)
[13:19:42] *** Joins: canhtak (canhtak@moz-251024EB.wl.t.ulaval.ca)
[13:20:27] *** Quits: canhtak (canhtak@moz-251024EB.wl.t.ulaval.ca) (Quit: canhtak)
[13:22:57] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[13:26:52] *** Joins: esummers (esummers@moz-3B015C90.wi.res.rr.com)
[13:27:35] *** Joins: tgkokk (tgkokk@moz-5CF0FE99.home.otenet.gr)
[13:27:52] *** Joins: Ms2ger (Ms2ger@moz-5DFD4924.ugent.be)
[13:30:12] <jgraham> abinader: looking
[13:30:26] <abinader> jgraham: thanks!
[13:33:36] <jgraham> abinader: Better?
[13:33:51] <abinader> jgraham: yay! :D
[13:33:54] <abinader> thanks!
[13:34:04] <abinader> ok
[13:34:13] <abinader> so I'll soon try to rebase stuff
[13:34:41] <abinader> it seems I need access to critic's repo in order to properly do it (according to https://critic.hoppipolla.co.uk/tutorial?item=rebase )
[13:35:00] <Ms2ger> Don't read that
[13:35:29] <Ms2ger> There's basically two ways to use critic, one is the way we use it, and the other is the way that rebases like that :/
[13:35:57] <abinader> yeah, but in the way we do it, I am completely lost in how to properly rebase stuff
[13:36:56] <abinader> it seems for me the only way would be to create a new critic review
[13:37:36] <jgraham> abinader: To do rebases in our critic you
[13:37:45] <jgraham> a) Push the rebased commit to github
[13:37:57] <jgraham> b) Note the full SHA1 of the new parent of the branch
[13:37:58] *** Quits: Ms2ger (Ms2ger@moz-5DFD4924.ugent.be) (Ping timeout)
[13:38:18] <jgraham> c) Go to "Rebase Review" on critic
[13:38:44] <jgraham> d) Enter the full SHA1 of the new parent you noted in step b) in the "upstream" input
[13:38:57] <jgraham> e) Click Rebase
[13:39:05] <abinader> ah, so I push the rebase to github first? hmm... this makes critic's tracking halted for a while, right?
[13:39:16] <jgraham> f) Click "Enable Tracking"
[13:39:23] <abinader> jgraham: I'd better document your steps on a wiki :-)
[13:39:37] <jgraham> abinader: Yes, tracking will get disabled when you do a force update
[13:39:48] <abinader> ok, I think I got it now
[13:39:57] <abinader> many thanks, jgraham!
[13:42:21] *** Joins: Ms2ger (Ms2ger@moz-FFE54A53.ugent.be)
[13:42:47] * Ms2ger kicks his connection
[13:45:54] *** Joins: ahal (ahal@moz-7DE89BF0.cable.teksavvy.com)
[13:46:05] *** Joins: ahal_ (ahal@moz-7DE89BF0.cable.teksavvy.com)
[13:46:15] *** Quits: ahal (ahal@moz-7DE89BF0.cable.teksavvy.com) (Connection reset by peer)
[13:46:16] *** ahal_ is now known as ahal
[13:47:33] *** Quits: Ms2ger (Ms2ger@moz-FFE54A53.ugent.be) (Quit: Leaving)
[13:47:39] *** Joins: Ms2ger (Ms2ger@moz-FFE54A53.ugent.be)
[13:54:38] *** bhearsum|afk is now known as bhearsum
[13:56:45] <Ms2ger> (Don't expect too much uptime from me, engineers apparently can't set up wifi)
[14:00:49] *** Joins: victorporof (victorporo@moz-FFB76956.cpe.net.cable.rogers.com)
[14:08:31] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[14:10:01] *** Quits: lpy|afk (lpy@7360AA58.F09091A8.1348A864.IP) (Ping timeout)
[14:10:28] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[14:17:16] *** Joins: cait (glenlivet@moz-9FE842F.cpe.net.cable.rogers.com)
[14:19:51] *** Quits: stumpart (stumpart@moz-93393D0A.hsd1.ca.comcast.net) (Quit: stumpart)
[14:20:01] *** Joins: reyre (reyre@86C3727C.33EE9F8A.1139E686.IP)
[14:22:01] *** Quits: Ms2ger (Ms2ger@moz-FFE54A53.ugent.be) (Ping timeout)
[14:27:32] *** Joins: jdm (jdm@CAB30FBD.8F96AEA7.2D179A7D.IP)
[14:27:32] *** ChanServ sets mode: +o jdm
[14:29:46] *** Joins: Ms2ger (Ms2ger@moz-F7F896C5.ugent.be)
[14:33:22] *** newbie82 is now known as eibwen
[14:35:24] <jdm> sawrubh: did you get an answer to your domparser type string question?
[14:37:34] *** Joins: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca)
[14:38:11] *** Joins: dlat (dlat@moz-6CE1A4.sickos.org)
[14:38:18] * Ms2ger wanders in again
[14:38:45] *** Quits: victorporof (victorporo@moz-FFB76956.cpe.net.cable.rogers.com) (Quit: victorporof)
[14:38:51] <larsberg> the only thing worse than conference wifi is hotel wifi...
[14:39:25] <Ms2ger> larsberg, you haven't been in this building...
[14:41:44] <glazou> next time larsberg is in paris, we'll invite him at a french governmental meeting to learn what really means crappy wifi
[14:42:21] *** Joins: lpy|afk (lpy@12172131.F09091A8.1348A864.IP)
[14:42:50] *** Quits: cait (glenlivet@moz-9FE842F.cpe.net.cable.rogers.com) (Ping timeout)
[14:43:01] <lpy|afk> jdm: ping
[14:43:05] <jdm> hi lpy|afk 
[14:43:06] *** lpy|afk is now known as lpy
[14:43:09] <larsberg> the worst is when it *almost* works. Or works in bursts. if it's just horrific, I just give up and read papers offline :-) was in a hotel for our last Servo workweek that was so bad I couldn't even maintain an IRC connection, which really sets the bar for me...
[14:43:28] <jgraham> You should all come round my house. 6 months after moving in we still don't have internet access.
[14:43:46] <glazou> ah worse than me
[14:43:50] <jgraham> There is, however, very expensive, very crappy cafe-style wifi
[14:43:50] <glazou> I moved 15-dec
[14:43:51] <lpy> jdm: Hi. for `url` in `Page`, is it possible that it will be `None`?
[14:43:51] * Ms2ger keeps that in mind in case he ever needs to be in London
[14:43:58] * jdm checks
[14:44:00] <glazou> internet access 01-feb
[14:44:16] <jdm> lpy: if it is, it's almost certainly before JS can start executing
[14:45:07] <lpy> jdm: so when we call `get_url`, it will always be non `None`?
[14:45:38] <jdm> lpy: from DOM-related code, yes. we set the url field to Some right after we finish HTML parsing.
[14:46:10] <lpy> jdm: then I don't have to consider that case.
[14:46:19] <jdm> yes, just use expect
[14:46:19] *** Quits: glazou (glazou@D8B9C081.E820043D.D4C04133.IP) (Quit: glazou)
[14:46:39] <SimonSapin> jdm: how about making this field not optional?
[14:46:55] <jdm> SimonSapin: that doesn't appear easy at this point
[14:47:04] *** Quits: Ms2ger (Ms2ger@moz-F7F896C5.ugent.be) (Ping timeout)
[14:47:14] <SimonSapin> because of <base>?
[14:47:19] <jdm> it's like most other optional fields in Page; we don't have a good initializer when we create the Page object
[14:47:29] <jdm> although maybe we could just use about:blank to start
[14:47:37] * jdm barely even knows what <base> is
[14:47:59] <abinader> oh, I liked JS<T> :-)
[14:48:03] <SimonSapin> <base href="http://example.com"> changes the base URL for other URLs in the document
[14:48:12] <jdm> oh, yuck
[14:48:15] <jdm> why does that exist
[14:48:35] * abinader refactoring all his HTMLCollections to replace @mut w/ that
[14:48:54] <SimonSapin> http://servomemes.tumblr.com/post/77770395832/chemistry-cat-ms2ger-is-not-letting-you-get-away
[14:49:12] <lpy> I have a small rust problem. when I used `match self.url.as_ref().unwrap() { &(ref url, _) => *url }` and I got error like "cannot move out of dereference of & pointer"
[14:49:20] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Client exited)
[14:49:39] <SimonSapin> s/_/ref _/ maybe?
[14:49:41] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[14:49:57] <jdm> no, that's a boolean value
[14:49:59] <jdm> it's the *url
[14:50:05] <SimonSapin> oh, right
[14:50:16] <jdm> lpy: you probably want the getter to return &Url, not Url
[14:50:31] *** Joins: Ms2ger (Ms2ger@moz-FFE54A53.ugent.be)
[14:51:00] * lpy is trying
[14:51:22] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[14:51:35] <lpy> hmm. a lifetime error
[14:51:40] <lpy> "cannot infer an appropriate lifetime for autoref due to conflicting requirements"
[14:52:17] <jdm> yeah, I'm not all that surprised
[14:52:28] <jdm> then just return Url and clone the value in the match
[14:52:43] <SimonSapin> lpy: is that with a name lifetime?
[14:52:53] <lpy> SimonSapin: no
[14:53:04] <SimonSapin> fn get_url<'a>(&'a self) -> &'a Url
[14:53:24] <jdm> also try scrapping the as_ref and the & in the match arm
[14:53:57] <Ms2ger> Why do we stick that boolean in the url field anyway?
[14:54:35] <jdm> Ms2ger: because they're kinda-sorta related
[14:54:43] <jdm> and I haven't got around to separating them into something sensible
[14:54:53] <lpy> we can't scrap as_ref, it will cause "cannot move out of dereference of & pointer"
[14:55:15] <jdm> lpy: that's only if you're returning *url, I think
[14:58:16] <Ms2ger> Well dammit
[14:58:33] <lpy> `match self.url.unwrap() { (ref url, _) => url.clone() } `won't work
[14:58:41] <Ms2ger> This is at least the fifth time I opened thunderbird because I need to send an email, read my new mail, and close it again
[14:59:02] *** Joins: stumpart (stumpart@moz-93393D0A.hsd1.ca.comcast.net)
[14:59:44] <jdm> lpy: why?
[14:59:56] <lpy> cannot move out of dereference of & pointer
[15:00:00] <jdm> huh
[15:00:02] *** Quits: Kostic (Kostic@C4D4CB5C.58A2DD99.2168A69F.IP) (Quit: Leaving)
[15:00:08] <lpy> and I think `unwrap` if `fn unwrap(self)`
[15:00:11] <jdm> oh, I guess that's unwrap, yeah
[15:00:17] <lpy> not `fn unwrap(&self)`
[15:00:25] <jdm> lpy: I guess get_ref() instead
[15:00:32] <jdm> which is basically as_ref().unwrap(), so same effect
[15:00:49] <lpy> trying
[15:01:07] * abinader experiencing similar stuff w/ a ~[JS<Element>] when using iter().find().map(|&maybe_elem| maybe_elem)
[15:01:28] <Ms2ger> .map(|elem| elem.clone())
[15:01:46] <abinader> ack, let me try that, thanks Ms2ger
[15:01:50] <Ms2ger> Np
[15:02:11] <abinader> btw, if we start using clone() in HTMLCollections, I wonder if we'll still have it live?
[15:02:23] * abinader not sure how clone() is implemented in JS<T>
[15:02:37] <Ms2ger> Clone just returns a new smart pointer
[15:02:48] <abinader> ah, great then
[15:03:02] <Ms2ger> Alright, vtables
[15:05:23] *** Joins: victorporof (victorporo@13F2CEC5.7672369.D8E68FF6.IP)
[15:05:59] <jdm> that's the spirit
[15:07:06] *** Joins: jackneill (jackneill@moz-DC2BD189.pool.digikabel.hu)
[15:08:11] * Ms2ger cries a bit
[15:08:20] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[15:08:21] <Ms2ger> jdm, please do make a backup :)
[15:08:28] <jdm> can do
[15:08:42] <abinader> anyone catching this while building @ mac?
[15:08:45] <abinader> task 'rustc' failed at 'lookup_item: id not found: 4478', /Users/bruno.d/Work/servo/src/compiler/rust/src/librustc/metadata/decoder.rs:92
[15:08:45] <abinader> error: internal compiler error: unexpected failure
[15:08:54] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[15:09:44] <jdm> abinader: do a make clean-servo
[15:10:20] *** Joins: cait (glenlivet@moz-9FE842F.cpe.net.cable.rogers.com)
[15:10:27] <abinader> jdm: aw yes :-) I did submodule update but forgot to clean build/, thanks!
[15:10:29] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[15:11:36] <abinader> jdm: hmm, guess it didn't work (error still exists), lemme try make clean...
[15:12:46] *** Joins: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com)
[15:15:07] <Ms2ger> sawrubh, so btw, probably leave the `use` reordering alone for now
[15:19:54] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[15:21:36] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[15:23:32] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[15:23:40] *** Joins: ghservo (ghservo@511FAEBD.6A2AE50.F3114085.IP)
[15:23:40] <ghservo> [13servo] 15lpy opened pull request #1776: Add url getter to Page.(fixes #1762) (06master...06issue1762) 02http://git.io/zbG73A
[15:23:40] *** Parts: ghservo (ghservo@511FAEBD.6A2AE50.F3114085.IP) ()
[15:23:55] *** Joins: LEOXD (Thunderbir@moz-ECCE2937.dk.customer.tdc.net)
[15:25:28] <jdm> lpy: want to find and fix users of url who can use the new getter instead now?
[15:26:02] *** Quits: reyre (reyre@86C3727C.33EE9F8A.1139E686.IP) (Quit: )
[15:26:11] <lpy> okay :)
[15:28:21] *** Quits: ggherdov_ (sid11402@moz-E77DEB21.irccloud.com) (User has been banned from Mozilla (no spamming here))
[15:28:21] *** Quits: evilpie (sid7877@moz-E77DEB21.irccloud.com) (User has been banned from Mozilla (no spamming here))
[15:28:21] *** Quits: henrikhodne (sid5765@moz-E77DEB21.irccloud.com) (User has been banned from Mozilla (no spamming here))
[15:31:03] *** Quits: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca) (Ping timeout)
[15:31:30] *** Joins: CaseyBec_ (CaseyBecki@C819F47.855BF9E7.701726B4.IP)
[15:31:34] *** Quits: CaseyBecking (CaseyBecki@moz-EDABF502.lsanca.fios.verizon.net) (Ping timeout)
[15:34:08] *** Joins: jaeholee (uid4856@moz-31ABA2C0.irccloud.com)
[15:35:08] <lpy> jdm: like this one? http://mxr.mozilla.org/servo/source/src/components/script/dom/htmlimageelement.rs#94
[15:35:19] <jdm> lpy: correct
[15:35:31] *** Joins: reyre (reyre@8A257803.33EE9F8A.1139E686.IP)
[15:35:39] *** Joins: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca)
[15:36:05] <lpy> currently I just use `grep -rn "\.url" src/components`
[15:36:46] <jdm> you just want to look under script/
[15:38:59] *** Quits: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca) (Input/output error)
[15:39:17] *** Quits: Ms2ger (Ms2ger@moz-FFE54A53.ugent.be) (Ping timeout)
[15:39:36] *** Joins: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca)
[15:42:13] *** Joins: Ms2ger (Ms2ger@moz-7DF2D258.ugent.be)
[15:42:40] <Ms2ger> jdm, want to file an issue to rename HTMLIframeElementTypeId to HTMLIFrameElementTypeId?
[15:42:52] <jdm> yes
[15:45:42] <Ms2ger> jdm, I've got https://pastebin.mozilla.org/4412393 now... Which ends up with borrowing errors
[15:45:43] *** Joins: ghservo (ghservo@511FAEBD.6A2AE50.F3114085.IP)
[15:45:43] <ghservo> [13servo] 15jdm opened issue #1777: Rename HTMLIframeElementTypeId to HTMLIFrameElementTypeId 02http://git.io/h6zWfA
[15:45:43] *** Parts: ghservo (ghservo@511FAEBD.6A2AE50.F3114085.IP) ()
[15:45:44] <Ms2ger> Ideas?
[15:46:34] <jdm> bleah
[15:47:33] <jdm> I'm tempted to just say transmute_region for now
[15:48:27] <Ms2ger> Eww
[15:48:43] <jdm> I don't know, maybe we could right casting methods that give us borrowed pointers so we can associate lifetimes properly, but that seems shady
[15:52:23] <jdm> s/right/write/
[15:53:16] *** Quits: eibwen (kvirc@moz-8ADA2484.dip0.t-ipconnect.de) (Ping timeout)
[15:54:34] *** Quits: maxli (maxli@moz-EE42E0E.student.cs.uwaterloo.ca) (Input/output error)
[15:54:51] <jdm> Ms2ger: an alternative is to transmute from &'a JS<Node> to &'a JS<T> instead :/
[15:55:17] <jdm> I'm pretty sure transmutation of some sort is necessary here though, since the typesystem doesn't know that the node passed in has the same lifetime of whatever derived one we create
[15:55:28] *** Joins: TimAbraldes (quassel@125EF623.B2666F0E.66399531.IP)
[15:56:48] *** Joins: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca)
[15:58:33] *** Joins: evilpie (sid7877@moz-E77DEB21.irccloud.com)
[15:59:56] *** Quits: lukad (luka@moz-3FD26969.me) (Quit: leaving)
[16:01:14] *** Joins: lukad (luka@moz-3FD26969.me)
[16:02:55] <lpy> jdm: done.
[16:03:49] <lpy> jdm: and for #1713, I couldn't find an appropriate place to write the Trait under style/
[16:03:50] <crowbot> Issue #1713: Implement Element.client{Top,Left,Width,Height} - https://github.com/mozilla/servo/issues/1713
[16:04:29] <jdm> lpy: node.rs
[16:04:55] <cmr> oh jeez
[16:05:02] <cmr> node.rs, a rust port of node.js
[16:05:10] <cmr> we already have rustuv, we're halfway there!
[16:05:22] <lpy> thank you
[16:05:32] *** Joins: dherman (dherman@moz-B31C6965.dsl.pltn13.sbcglobal.net)
[16:05:33] *** ChanServ sets mode: +qo dherman dherman
[16:06:23] *** Quits: yusukesuzuki (yusukesuzu@moz-43160292.net218219047.t-com.ne.jp) (Ping timeout)
[16:06:41] *** Joins: yusukesuzuki (yusukesuzu@moz-43160292.net218219047.t-com.ne.jp)
[16:08:32] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[16:10:30] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[16:10:40] * jdm -> disembark train
[16:11:40] *** Quits: jdm (jdm@CAB30FBD.8F96AEA7.2D179A7D.IP) (Quit: Lost terminal)
[16:12:07] *** Quits: Ms2ger (Ms2ger@moz-7DF2D258.ugent.be) (Ping timeout)
[16:13:38] *** lpy is now known as lpy|afk
[16:13:46] *** Quits: lpy|afk (lpy@12172131.F09091A8.1348A864.IP) (Client exited)
[16:14:26] *** Joins: ghservo (ghservo@2DCF43EA.6A2AE50.F3114085.IP)
[16:14:27] <ghservo> [13servo] 15bors-servo pushed 0 new commits to 06auto: 02http://git.io/KfG0nw
[16:14:27] *** Parts: ghservo (ghservo@2DCF43EA.6A2AE50.F3114085.IP) ()
[16:14:28] *** Joins: ghservo (ghservo@94BD74B8.6A2AE50.F3114085.IP)
[16:14:28] <ghservo> [13servo] 15bors-servo pushed 2 new commits to 06auto: 02http://git.io/XUlQGA
[16:14:28] <ghservo> 13servo/06auto 1459416c9 15Ms2ger: Remove no-op implementations from Element and add some spec links.
[16:14:28] <ghservo> 13servo/06auto 14ab72c47 15bors-servo: auto merge of #1774 : Ms2ger/servo/element-noops, r=jdm
[16:14:29] *** Parts: ghservo (ghservo@94BD74B8.6A2AE50.F3114085.IP) ()
[16:15:56] *** Joins: CaseyBecking (CaseyBecki@moz-EDABF502.lsanca.fios.verizon.net)
[16:16:34] *** Quits: tgkokk (tgkokk@moz-5CF0FE99.home.otenet.gr) (Quit: Textual IRC Client: www.textualapp.com)
[16:16:56] *** Quits: CaseyBec_ (CaseyBecki@C819F47.855BF9E7.701726B4.IP) (Ping timeout)
[16:17:55] *** Joins: lpy|afk (lpy@12172131.F09091A8.1348A864.IP)
[16:21:56] <jack> hmm. apparently moving .so files into my nightly build's plugins directory didn't actually work
[16:22:08] <jack> i had accidentally run the told firefox instead of the new one yesterday
[16:25:39] <jack> nm. they go in ~/.mozilla/plugins not the one next to the executable in teh build root
[16:28:38] *** Quits: mihneadb (mihneadb@moz-9897BD47.static.ziggozakelijk.nl) (Quit: Computer gone to sleep - Zzzz...)
[16:32:44] *** Quits: lpy|afk (lpy@12172131.F09091A8.1348A864.IP) (Client exited)
[16:33:20] *** Joins: harth (heather@moz-42412102.hsd1.ca.comcast.net)
[16:35:00] *** Joins: jdm (jdm@13F2CEC5.7672369.D8E68FF6.IP)
[16:35:00] *** ChanServ sets mode: +o jdm
[16:36:31] *** Quits: stumpart (stumpart@moz-93393D0A.hsd1.ca.comcast.net) (Quit: stumpart)
[16:37:12] *** Joins: tobytailor (tobytailor@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[16:37:56] *** Joins: ghservo (ghservo@C95C9FF.6A2AE50.F3114085.IP)
[16:37:56] <ghservo> [13servo] 15bors-servo merged 06auto into 06master: 02http://git.io/XUlQGA
[16:37:56] *** Parts: ghservo (ghservo@C95C9FF.6A2AE50.F3114085.IP) ()
[16:37:57] *** Joins: ghservo (ghservo@4BC7FFDD.6A2AE50.F3114085.IP)
[16:37:57] <ghservo> [13servo] 15bors-servo closed pull request #1774: Remove no-op implementations from Element and add some spec links. (06master...06element-noops) 02http://git.io/uNzRmg
[16:37:57] *** Parts: ghservo (ghservo@4BC7FFDD.6A2AE50.F3114085.IP) ()
[16:43:50] *** jdm is now known as jdm|lunch
[16:55:13] *** Quits: marcob (marco@moz-DC7B7372.dip0.t-ipconnect.de) (Quit: leaving)
[17:01:13] *** Joins: victorporof_ (victorporo@13F2CEC5.7672369.D8E68FF6.IP)
[17:01:30] *** Quits: victorporof (victorporo@13F2CEC5.7672369.D8E68FF6.IP) (Ping timeout)
[17:02:20] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[17:06:26] *** Joins: dbaron (dbaron@6E6C815B.27376607.189F3E15.IP)
[17:08:33] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[17:10:31] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[17:13:11] *** Joins: mccr8 (mccr8@moz-BBE3ABD.mv.mozilla.com)
[17:13:33] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[17:14:18] *** Quits: victorporof_ (victorporo@13F2CEC5.7672369.D8E68FF6.IP) (Ping timeout)
[17:14:31] *** Joins: victorporof (victorporo@13F2CEC5.7672369.D8E68FF6.IP)
[17:15:59] *** Joins: Kostic (Kostic@C4D4CB5C.58A2DD99.2168A69F.IP)
[17:21:31] *** Joins: eholk (eric@moz-F70D5031.hsd1.in.comcast.net)
[17:23:40] <Manishearth> cmr: Y'know, I was looking at that file yesterday, and the same thought struck me! :P
[17:23:48] <Manishearth> NodeRS!
[17:31:43] *** Joins: Ms2ger (Ms2ger@BFE4F509.6F5CD262.187A1082.IP)
[17:32:43] * Ms2ger waves at Manishearth 
[17:33:58] *** Quits: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca) (Input/output error)
[17:36:16] * Manishearth waves back
[17:36:43] *** jdm|lunch is now known as jdm
[17:37:42] *** Joins: ozten_ (ozten@moz-DD3B00B4.hsd1.wa.comcast.net)
[17:39:00] *** ozten_ is now known as ozten
[17:41:28] *** Joins: canhtak (canhtak@moz-251024EB.wl.t.ulaval.ca)
[17:42:48] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[17:46:09] <abinader> ok, work on HTMLCollections is done, will follow jgraham's rebase steps... may the force be with git... ;)
[17:46:36] <jgraham> abinader: Ask if you get stuck
[17:46:46] <jgraham> it is much easier to give help than fix a broken rebase
[17:47:19] <jgraham> (I don't actually know *how* to fix a rebase that is completed but uses the wrong revision as the upstream)
[17:47:27] <abinader> jgraham: agreed :-)
[17:48:03] *** Joins: hoverbear (hoverbear@726D908C.44E18222.E74D50F2.IP)
[17:48:32] *** Quits: ozten (ozten@moz-DD3B00B4.hsd1.wa.comcast.net) (Quit: ZNC - http://znc.in)
[17:49:18] <abinader> jgraham: Failed to rebase review. Server reply: The review is already being rebased by James Graham <james@hoppipolla.co.uk>.
[17:49:51] <abinader> (step e) from yours)
[17:49:54] *** Joins: ozten (ozten@moz-DD3B00B4.hsd1.wa.comcast.net)
[17:49:54] <abinader> of*
[17:50:26] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[17:50:33] *** Quits: ozten (ozten@moz-DD3B00B4.hsd1.wa.comcast.net) (Quit: ZNC - http://znc.in)
[17:50:36] <Ms2ger> Ha
[17:50:38] <Ms2ger> Dammit jgraham 
[17:50:39] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[17:50:48] <abinader> hehe
[17:52:30] *** Joins: ozten (ozten@moz-DD3B00B4.hsd1.wa.comcast.net)
[17:55:04] <jgraham> Hmm, interesting
[17:55:07] <jgraham> Which review?
[17:55:34] <abinader> jgraham: https://critic.hoppipolla.co.uk/rebasetrackingreview?review=771 :-)
[17:55:47] *** ahal is now known as ahal|afk
[17:56:06] *** Quits: Ms2ger (Ms2ger@BFE4F509.6F5CD262.187A1082.IP) (Quit: bbl)
[17:56:52] <jgraham> Curiously it tells me the same :)
[17:57:00] <jgraham> I guess I can poke at the db
[17:58:43] <jgraham> Well done. I hope I got it right; the merge commit looks kind of big
[17:59:27] <abinader> hmm yeah, I actually ended up refactoring / reorganizing patches
[18:00:06] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[18:00:50] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Quit: Jesse)
[18:01:27] *** Joins: victorporof_ (victorporo@13F2CEC5.7672369.D8E68FF6.IP)
[18:01:44] <abinader> indeed, it looks a bit weird
[18:02:06] *** Quits: victorporof (victorporo@13F2CEC5.7672369.D8E68FF6.IP) (Ping timeout)
[18:02:47] <abinader> it basically merged all changes from my previous master HEAD into current master HEAD together with my changes
[18:05:10] *** Quits: Kostic (Kostic@C4D4CB5C.58A2DD99.2168A69F.IP) (Ping timeout)
[18:06:09] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[18:08:19] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[18:10:28] *** Joins: jet (jet@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[18:11:59] *** abinader is now known as abinader_afk
[18:12:41] *** Joins: gandalf (zbraniecki@moz-912D7A86.hsd1.ca.comcast.net)
[18:13:04] *** Quits: msanchez (msanchez@E6836824.9773E83B.5D23F53B.IP) (Quit: Ex-Chat)
[18:20:34] *** Parts: LEOXD (Thunderbir@moz-ECCE2937.dk.customer.tdc.net) ()
[18:20:56] *** Joins: msanchez (msanchez@E6836824.9773E83B.5D23F53B.IP)
[18:21:16] <Manishearth> I'm getting segfaults when I run servo
[18:21:29] <jdm> backtrace?
[18:21:30] <Manishearth> pulled yesterday
[18:21:45] <Manishearth> fatal runtime error: unwinding again
[18:21:45] <Manishearth> Redirecting call to abort() to mozalloc_abort
[18:21:45] <Manishearth> Segmentation fault (core dumped)
[18:22:01] <Manishearth> There's some stuff about the ocean eating the land before that O.o
[18:22:14] *** Joins: jmgrosen (user@moz-A3814C08.sd.sd.cox.net)
[18:23:01] <jdm> Manishearth: do you see task failure messages before that?
[18:23:09] <jdm> setting a breakpoint in rust_fail in gdb would be instructive
[18:23:50] *** Joins: Kostic (Kostic@C4D4CB5C.58A2DD99.2168A69F.IP)
[18:24:13] *** Quits: msanchez (msanchez@E6836824.9773E83B.5D23F53B.IP) (Quit: Ex-Chat)
[18:24:45] <Manishearth> jdm: two failures, after a bunch of invalid property warnings
[18:24:46] <Manishearth> task '<unnamed>' failed at 'RefCell<T> already borrowed', /home/muon/Desktop/Programming/Mozilla/servo/src/compiler/rust/src/libstd/cell.rs:167
[18:24:49] <Manishearth> task '<unnamed>' failed at 'You should have disposed of the pixmap properly with destroy()! This pixmap will leak!', /home/muon/Desktop/Programming/Mozilla/servo/src/support/layers/rust-layers/platform/linux/surface.rs:185
[18:24:54] <jdm> ooh, yes
[18:25:00] <jdm> please show the backtrace from the first one
[18:25:09] <jdm> what page are you running servo with?
[18:25:20] <Manishearth> I opened google, and then tried to click a link
[18:25:28] <Manishearth> was getting a direct segfault with wikipedia
[18:25:32] <Manishearth> (it loads partially)
[18:25:37] *** Joins: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca)
[18:26:24] *** Quits: gandalf (zbraniecki@moz-912D7A86.hsd1.ca.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[18:27:18] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[18:28:11] *** ahal|afk is now known as ahal
[18:28:12] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[18:29:32] *** Quits: victorporof_ (victorporo@13F2CEC5.7672369.D8E68FF6.IP) (Ping timeout)
[18:29:33] *** Joins: victorporof (victorporo@13F2CEC5.7672369.D8E68FF6.IP)
[18:29:40] <Manishearth> jdm: I redirected stdout and stderr to a log file. It still printed something, that's the backtrace: https://manishearth.pastebin.mozilla.org/4413566
[18:30:04] <Manishearth> And the log file is : https://manishearth.pastebin.mozilla.org/4413568
[18:30:11] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[18:30:29] <jdm> Manishearth: please run under gdb, break on rust_fail and show gdb's backtrace
[18:30:31] *** Quits: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca) (Quit: Leaving.)
[18:30:32] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[18:31:50] *** Joins: gandalf (zbraniecki@moz-912D7A86.hsd1.ca.comcast.net)
[18:31:53] *** Quits: sawrubh (uid6719@moz-5F4AA75A.irccloud.com) (Quit: Connection closed for inactivity)
[18:32:42] <Manishearth> jdm: How do I tell it to break at rust_fail?
[18:32:51] <jdm> Manishearth: break rust_fail
[18:32:56] <Manishearth> break rust_fail?
[18:32:57] <Manishearth> ah
[18:33:02] <jdm> and say yes when it asks whether to set a pending breakpoint
[18:33:11] *** Quits: jmgrosen (user@moz-A3814C08.sd.sd.cox.net) (Input/output error)
[18:33:21] <jdm> Manishearth: have you used gdb much before?
[18:33:36] <Manishearth> jdm: I've used it to disassemble, not so much to debug
[18:33:41] <jdm> ah, I see
[18:33:47] <jdm> you get to learn an exciting new skill today :)
[18:33:56] <Manishearth> heh
[18:34:36] <Manishearth> libpng warning: iCCP: known incorrect sRGB profile
[18:34:36] <Manishearth> task '<unnamed>' failed at 'color type not supported', /home/muon/Desktop/Programming/Mozilla/servo/src/support/png/rust-png/lib.rs:138
[18:34:39] <Manishearth> [New LWP 27808]
[18:34:41] <Manishearth> [Switching to LWP 27808]
[18:34:44] <Manishearth> Breakpoint 1, 0x00007ffff7768840 in rust_fail () from /home/muon/Desktop/Programming/Mozilla/servo/build/x86_64-unknown-linux-gnu/src/compiler/rust/x86_64-unknown-linux-gnu/stage2/lib/rustc/x86_64-unknown-linux-gnu/lib/libstd-3e5aeb83-0.9.so
[18:34:47] <jdm> you can continue from that
[18:34:52] <jdm> it's not a fatal failure
[18:35:11] <Manishearth> gah, sigabort
[18:35:18] *** Joins: bjz_ (bjz@B398BE78.F804C29E.D35A31DF.IP)
[18:35:27] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[18:35:47] <Manishearth> /lib/x86_64-linux-gnu/libc.so.6(+0x7f576)[0x7ffff1e80576]
[18:35:47] <Manishearth> /usr/lib/x86_64-linux-gnu/libfontconfig.so.1(+0x1b196)[0x7ffff06fe196]
[18:35:47] <Manishearth> /usr/lib/x86_64-linux-gnu/libfontconfig.so.1(FcPatternDestroy+0x82)[0x7ffff06fe382]
[18:35:50] <Manishearth> /home/muon/Desktop/Programming/Mozilla/servo/build/x86_64-unknown-linux-gnu/src/components/gfx/libgfx-f3b80f93-0.1.so(_ZN8platform5linux9font_list20path_from_identifier19h90d55b05dfd6e6d5aK4v0.1E+0x5a4)[0x7ffff39792a4]
[18:35:54] <Manishearth> /home/muon/Desktop/Programming/Mozilla/servo/build/x86_64-unknown-linux-gnu/src/components/gfx/libgfx-f3b80f93-0.1.so(_ZN8platform5linux12font_context42FontContextHandleMethods$FontContextHandle27create_font_from_identifier21h0676473fc6c0ecbfGuau4v0.1E+0xda)[0x7ffff397269a]
[18:35:58] <Manishearth> /home/muon/Desktop/Programming/Mozilla/servo/build/x86_64-unknown-linux-gnu/src/components/gfx/libgfx-f3b80f93-0.1.so(_ZN12font_context11FontContext22get_font_by_descriptor21h7ca63bd394cd3cb4uHad4v0.1E+0x223)[0x7ffff3970dc3]
[18:36:05] <Manishearth> looks like a font issue
[18:36:40] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[18:38:04] <jdm> ok, I caught the borrow failure running google.com and clicking Advertising Programs
[18:38:19] <jdm> interesting, compositor-side rather than DOM side
[18:38:38] *** Quits: eholk (eric@moz-F70D5031.hsd1.in.comcast.net) (Quit: Konversation terminated!)
[18:39:13] *** Joins: ghservo (ghservo@4BC7FFDD.6A2AE50.F3114085.IP)
[18:39:13] <ghservo> [13servo] 15jdm opened issue #1778: Borrow failure removing ContainerLayer child 02http://git.io/TFteyg
[18:39:13] *** Parts: ghservo (ghservo@4BC7FFDD.6A2AE50.F3114085.IP) ()
[18:39:15] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[18:39:55] <jdm> Manishearth: want to try solving it? borrow failures are often relatively easy to solve.
[18:40:40] <Manishearth> jdm: Uh, what *is* a borrow failure?
[18:40:50] <Manishearth> <---never done low level C
[18:40:55] <jdm> I'm glad you've asked!
[18:40:59] <Manishearth> I know malloc and that's about it :p
[18:41:01] <jdm> this is something C doesn't have; it's unique to Rust.
[18:41:13] * jdm finds the RefCell docs
[18:41:25] * Manishearth is scared :p
[18:41:26] <jdm> http://static.rust-lang.org/doc/master/std/cell/struct.RefCell.html
[18:41:37] <jdm> a RefCell gives you some mutable memory
[18:41:46] <jdm> but anyone who wants to use it has to "borrow" access to it first
[18:42:01] <jdm> and if it's already borrowed, you get a failiure
[18:42:20] <jdm> so for any borrow failiure, you just have to look at the current stack and find the existing place where something has been borrowed
[18:42:20] <Manishearth> Ah
[18:42:27] <Manishearth> and unborrow it
[18:42:32] <jdm> and then find a way to scope that borrow so it is released before the new one
[18:43:14] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[18:43:53] <Manishearth> jdm: Uh, the error seems to be in cell.rs though
[18:43:56] <Manishearth> core rust code
[18:43:58] *** Joins: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com)
[18:44:10] <jdm> Manishearth: sure, that's the code that looks for existing borrows and bails out by calling fail!
[18:44:14] <Manishearth> ah
[18:44:15] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[18:44:45] *** Joins: bhenry (bhenry@moz-DA8D6F3B.shaklee.com)
[18:46:13] <Manishearth> jdm: brb
[18:46:37] <kmc> Manishearth: to get a backtrace on a rust failure, use https://gist.github.com/kmcallister/7047619 (or GDB manually)
[18:49:46] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[18:51:23] <kmc> you can change "backtrace" to "thread apply all backtrace"
[18:51:28] <kmc> to get a stack from every thread
[18:52:04] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[18:52:11] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[18:52:11] *** ChanServ sets mode: +o pcwalton
[18:55:13] <kmc> Manishearth: part of Rust's approach for guaranteeing memory safety (which C doesn't attempt, at all) is that you aren't allowed to have multiple references to the same object if one of them allows modifying the object (i.e. &mut instead of &)
[18:56:37] <kmc> verifying that this rule is followed mostly happens at compile time, in the compiler's "borrowchecker", but certain things like RefCell require "dynamic borrow" checks that can fail at runtime
[18:56:45] *** Quits: victorporof (victorporo@13F2CEC5.7672369.D8E68FF6.IP) (Quit: victorporof)
[18:56:45] *** Quits: tobytailor (tobytailor@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: tobytailor)
[18:57:02] *** Quits: jet (jet@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: jet)
[18:57:28] <pcwalton> oh, quick RFC: what do people think about turning on #[deny(unsafe_code)] in Servo modules and whitelisting specific modules with #[allow(unsafe_code)]?
[18:57:36] <pcwalton> maybe not right away but give layout a little time to bake first
[18:57:57] <kmc> feels like we would need to whitelist it for every module -__-
[18:58:00] <pcwalton> I really like the way block.rs and inline.rs have no unsafe code
[18:58:03] <pcwalton> nope
[18:58:04] <pcwalton> :)
[18:58:11] <pcwalton> at least not in *my* code! ;)
[18:58:18] <kmc> anyway i'm strongly in favor
[18:58:32] *** Joins: tobytailor (tobytailor@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[18:58:32] <kmc> we can do some chunks of it right away, if not layout
[18:58:34] *** Joins: ghservo (ghservo@2E45E35D.6A2AE50.F3114085.IP)
[18:58:34] <ghservo> [13servo] 15jdm opened issue #1779: Remove as many glob imports as possible 02http://git.io/Io8thQ
[18:58:34] *** Parts: ghservo (ghservo@2E45E35D.6A2AE50.F3114085.IP) ()
[18:59:20] <pcwalton> parallel.rs and wrapper.rs are part of the TCB
[18:59:29] *** Joins: jet (jet@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[18:59:36] <pcwalton> all the unsafe code in util.rs could probably be refactored
[18:59:42] <pcwalton> layout_task may be able to be refactored
[18:59:46] <jdm> I'm in favour
[18:59:59] <pcwalton> the unsafe code in context.rs, constructors, box_.rs is just bogus
[19:00:03] <pcwalton> (all my fault)
[19:00:12] <kmc> I am a little worried that it sets up an incentive to use unsafe { ... } blocks where allowed, rather than exporting unsafe fns, without thinking hard about guaranteeing safety at that point
[19:00:29] <kmc> that's the other part of this, the one that's much harder to audit
[19:00:37] <pcwalton> deny(unsafe_code) denies unsafe { â€¦ } blocks
[19:00:43] <pcwalton> so you have to go shove them in the right module
[19:00:58] <pcwalton> which is fine as it encourages explicit separation of the trusted computing base from the untrusted parts
[19:01:16] <pcwalton> ideally wrapper.rs and parallel.rs, and maybe a little unsafe glue, should be all the unsafe code in layout
[19:01:22] <pcwalton> there should be nothing else
[19:02:00] <kmc> my point is that if I'm lazy I might write   fn not_actually_safe() { unsafe { some_unsafe_fn() } }  within a TCB module in order to use it in one of the #[deny(unsafe_code)] modules
[19:02:06] <kmc> I mean that is an obvious case that we would catch in review
[19:02:25] <pcwalton> oh yeah, don't do that
[19:02:26] <kmc> but in general there can be a lot of subtlety
[19:03:05] <kmc> I think we're not that good about this currently
[19:03:25] <pcwalton> I am hoping that eventually once the layout algorithms "bake" the TCB will remain relatively stable
[19:03:26] <pcwalton> we'll see
[19:03:32] <kmc> yeah
[19:03:40] <pcwalton> but I feel like, say, Grid Layout
[19:03:47] <pcwalton> implementing Grid Layout should involve no change to the TCB
[19:03:53] <pcwalton> and therefore no security risk
[19:05:00] <pcwalton> one nice thing about the borrow races that we're currently seeing is that I think they aren't exploitable
[19:05:08] <pcwalton> if there's anything nice about races
[19:05:23] <pcwalton> sometimes you get lucky even with breaking the TCB
[19:05:46] <pcwalton> though of course I think it's foolish to read anything more into that than "we got lucky"
[19:05:47] <kmc> we should have @highfive warn about any PR that touches an #[allow(unsafe_code)] module (cc jdm)
[19:06:08] <jdm> that's slightly more challenging
[19:06:18] <jdm> since highfive doesn't see the full file contents
[19:06:30] <kmc> ah :/
[19:06:32] <jdm> so unless we mark those somewhere else (like in highfive's source itself...)
[19:06:38] <jdm> or we could store them in subdirectories
[19:06:40] <strcat> safe code called by the unsafe blocks is trusted to be correct too
[19:06:42] <jdm> that would be easy to check
[19:06:47] <strcat> it'd need to be done at a crate level
[19:07:21] <pcwalton> well, if you want to be totally sound
[19:08:20] *** Quits: Kostic (Kostic@C4D4CB5C.58A2DD99.2168A69F.IP) (Quit: Leaving)
[19:08:21] <kmc> I know there are parts of the Rust stdlib (and probably Servo too) which use module privacy rather than unsafe-tracking to guarantee safety of the external interface
[19:08:24] <kmc> that's scary
[19:08:36] <pcwalton> usually that comes about with fields
[19:08:42] <pcwalton> I kinda wish Rust had "unsafe fields"
[19:08:48] <pcwalton> I should write up an RFC for that at some point
[19:08:51] <kmc> because anybody can add "pub" without doing the deep and non-local thinking to guarantee it's safe
[19:09:00] <kmc> pcwalton: which would be hidden except in unsafe code?
[19:09:06] <pcwalton> kmc: if you look at them you have to be unsafe
[19:09:12] <kmc> +1
[19:09:56] <strcat> pcwalton: why not just get rid of priv and use stability attributes then? ;p
[19:10:07] <strcat> #[private] -> default deny warning
[19:10:09] * strcat shrugs
[19:10:24] <pcwalton> private is useful enough to get a keyword IMHO
[19:10:25] *** Joins: Savago (Savago@84BFEFEF.CB3251F2.284344F5.IP)
[19:11:17] <strcat> pcwalton: but if there's no safety issue, why can't I ignore the API stability issue?
[19:11:50] <pcwalton> you're asking for a way to force override privacy?
[19:12:04] <strcat> yes
[19:12:10] <pcwalton> I guess that's possible but that seems to me to be a separate issue from whether priv is a keyword
[19:12:53] <strcat> well it just seems like unsafe + priv + stability attributes are not orthogonal
[19:13:02] <strcat> priv overlaps with the stability attributes if it's not there for safety
[19:13:22] <pcwalton> yeah, but priv is so ubiquitous that it deserves a keyword IMHO
[19:13:29] <pcwalton> it could equally well be an attribute
[19:14:12] <kmc> you could implement unsafe fields with property get/set sugar
[19:14:17] <kmc> don't know if that was ever considered for Rust
[19:14:32] <pcwalton> yeah, but you still have to have a field somewhere
[19:14:41] <pcwalton> you still have to tell the compiler to reserve space for this thing
[19:14:47] <pcwalton> and then the question is how you get access to it
[19:22:18] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[19:22:18] *** ChanServ sets mode: +o brson
[19:22:44] *** Joins: matematikaadit (adit@F48E8A6E.467E8CF8.1DB4F4D3.IP)
[19:24:24] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[19:24:42] <pcwalton> jdm: re-r? https://github.com/mozilla/servo/pull/1772
[19:24:54] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[19:25:29] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[19:26:38] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[19:27:10] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[19:28:56] <pcwalton> kmc: r? https://github.com/mozilla/servo/pull/1770 when you get a chance
[19:29:36] <kmc> looking now
[19:29:54] <kmc> critic didn't pick it up?
[19:30:00] <pcwalton> guess not
[19:30:06] <pcwalton> I did force push
[19:30:07] <pcwalton> maybe that broke it
[19:30:45] *** Joins: ghservo (ghservo@B750D19A.6A2AE50.F3114085.IP)
[19:30:45] <ghservo> [13servo] 15jdm closed pull request #1770: layout: Rewrite the float context. (06master...06rewrite-float-context) 02http://git.io/7WcmMQ
[19:30:45] *** Parts: ghservo (ghservo@B750D19A.6A2AE50.F3114085.IP) ()
[19:30:49] *** Joins: ghservo (ghservo@C95C9FF.6A2AE50.F3114085.IP)
[19:30:49] <ghservo> [13servo] 15jdm reopened pull request #1770: layout: Rewrite the float context. (06master...06rewrite-float-context) 02http://git.io/7WcmMQ
[19:30:49] *** Parts: ghservo (ghservo@C95C9FF.6A2AE50.F3114085.IP) ()
[19:30:53] <jdm> there
[19:30:56] <jdm> critic sees it now
[19:31:00] <pcwalton> cool
[19:31:47] <kmc> is floats_context.rs -> floats.rs just a rename? or did contents change?
[19:31:54] *** Joins: ghservo (ghservo@C82447D.6A2AE50.F3114085.IP)
[19:31:54] <ghservo> [13servo] 15bors-servo pushed 0 new commits to 06auto: 02http://git.io/2sY7Tg
[19:31:54] *** Parts: ghservo (ghservo@C82447D.6A2AE50.F3114085.IP) ()
[19:31:55] *** Joins: ghservo (ghservo@511FAEBD.6A2AE50.F3114085.IP)
[19:31:55] <ghservo> [13servo] 15bors-servo pushed 2 new commits to 06auto: 02http://git.io/mnvV2g
[19:31:55] <ghservo> 13servo/06auto 143c288a5 15Patrick Walton: layout: Stop racing on the JSManaged borrow flags
[19:31:55] <ghservo> 13servo/06auto 14b7fb97c 15bors-servo: auto merge of #1772 : pcwalton/servo/borrow-flags-race, r=jdm...
[19:31:56] *** Parts: ghservo (ghservo@511FAEBD.6A2AE50.F3114085.IP) ()
[19:32:11] <pcwalton> the contents did change somewhat. mostly I just refactored some things. here's the biggest change:
[19:32:12] *** Quits: gandalf (zbraniecki@moz-912D7A86.hsd1.ca.comcast.net) (Quit: My MacBook has gone to sleep. ZZZzzzâ€¦)
[19:32:19] <pcwalton> previously FloatContext was this sort of affine thing
[19:32:22] <kmc> can you push a branch where the rename is split out from the content changes?
[19:32:30] <pcwalton> whereby it was either present or not present
[19:32:45] <pcwalton> and whenever you called .clone() (really confusing name) it would swap out the old location with "Invalid"
[19:32:51] <pcwalton> and then any attempt to access "Invalid" would cause failure
[19:33:03] <pcwalton> there were various methods that implicitly .clone()d as well, such as translate()
[19:33:13] <pcwalton> I found it very hard to get the dynamic affine-ness right
[19:33:25] <pcwalton> especially when making assign-heights resumable
[19:33:38] *** Quits: TimAbraldes (quassel@125EF623.B2666F0E.66399531.IP) (Connection reset by peer)
[19:33:39] *** Joins: TimAbraldes (quassel@125EF623.B2666F0E.66399531.IP)
[19:33:48] <pcwalton> so instead I just Arc the thing and use reference counting
[19:33:53] <pcwalton> (specifically, CowArc)
[19:34:14] <pcwalton> this is more like what other engines do -- they have one FloatingObjects struct that is present on a block if floats impact it
[19:34:20] <pcwalton> and as they discover floats they add it to the FloatingObjects struct
[19:34:27] <strcat> btw, is there a reason the copy-on-write methods are in a separate type?
[19:34:38] <pcwalton> I guess it could be merged with Arc
[19:35:22] <pcwalton> previously there was this dance whereby floats_in would get moved to floats_out
[19:35:32] <pcwalton> now we just have one field, floats, and mutate it in place
[19:35:42] <jack> jdm: you need to reenable tracking.
[19:35:44] <pcwalton> makes things simpler, saves memory and probably improves perf as well since there is less swapping
[19:35:50] <jack> on r/882
[19:35:56] <pcwalton> I measured a 2% perf difference
[19:35:58] <pcwalton> on wikipedia
[19:36:02] <pcwalton> probably noise but still
[19:36:07] <jdm> ah, refresh wasn't showing that
[19:36:08] <jdm> hold on
[19:36:10] <pcwalton> kmc: I'll push that branch.
[19:36:29] <kmc> thanks
[19:36:56] <jdm> jack: done
[19:37:06] *** Joins: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca)
[19:37:52] <pcwalton> kmc: https://github.com/pcwalton/servo/tree/temp-rewrite-float-context
[19:38:06] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[19:40:46] *** Quits: Savago (Savago@84BFEFEF.CB3251F2.284344F5.IP) (Quit: Savago)
[19:44:07] <jack> jdm: the merge commit is at 54% reviewed. how do i get it to 100%?
[19:44:15] <jack> i must be missing something
[19:44:24] <jdm> jack: the three views (press 1, 2, 3)
[19:48:44] *** Quits: bjz_ (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[19:48:48] <jack> jdm: ah. that interface is a little weird.
[19:48:51] <jdm> yep
[19:52:16] *** Quits: cgaebel (clark@moz-8E0C6BCA.nyc.res.rr.com) (Ping timeout)
[19:52:43] *** Joins: cgaebel (clark@moz-8E0C6BCA.nyc.res.rr.com)
[19:57:00] *** Joins: victorporof (victorporo@moz-FFB76956.cpe.net.cable.rogers.com)
[19:57:41] *** Quits: harth (heather@moz-42412102.hsd1.ca.comcast.net) (Client exited)
[19:58:05] <jack> pcwalton: I'm +1 on deny unsafe
[19:58:48] *** Joins: ghservo (ghservo@C95C9FF.6A2AE50.F3114085.IP)
[19:58:48] <ghservo> [13servo] 15bors-servo merged 06auto into 06master: 02http://git.io/mnvV2g
[19:58:48] *** Parts: ghservo (ghservo@C95C9FF.6A2AE50.F3114085.IP) ()
[19:58:50] *** Joins: ghservo (ghservo@99CAE845.6A2AE50.F3114085.IP)
[19:58:50] <ghservo> [13servo] 15bors-servo closed pull request #1772: layout: Stop racing on the JSManaged borrow flags (06master...06borrow-flags-race) 02http://git.io/zz8DRw
[19:58:50] *** Parts: ghservo (ghservo@99CAE845.6A2AE50.F3114085.IP) ()
[19:59:02] <eddyb> when's the rust master update estimated to happen?
[20:01:49] *** Joins: ghservo (ghservo@B750D19A.6A2AE50.F3114085.IP)
[20:01:49] <ghservo> [13servo] 15bors-servo pushed 0 new commits to 06auto: 02http://git.io/J60q3Q
[20:01:49] *** Parts: ghservo (ghservo@B750D19A.6A2AE50.F3114085.IP) ()
[20:01:51] *** Joins: ghservo (ghservo@7BEB6F9D.6A2AE50.F3114085.IP)
[20:01:51] <ghservo> [13servo] 15bors-servo pushed 2 new commits to 06auto: 02http://git.io/zBtDug
[20:01:51] <ghservo> 13servo/06auto 14014cf70 15Patrick Walton: layout: Rewrite the float context....
[20:01:51] <ghservo> 13servo/06auto 14580c23f 15bors-servo: auto merge of #1770 : pcwalton/servo/rewrite-float-context, r=kmcallister...
[20:01:51] *** Parts: ghservo (ghservo@7BEB6F9D.6A2AE50.F3114085.IP) ()
[20:06:50] *** Joins: eholk (eholk@moz-BA312F07.crest.iu.edu)
[20:07:27] *** Quits: hoverbear (hoverbear@726D908C.44E18222.E74D50F2.IP) (Quit: Taking a nap.)
[20:08:35] <larsberg> eddyb: soon as it can be. I'm getting started on submodules right now.
[20:08:58] <larsberg> I think our average rust upgrade time is ~2 weeks, but hopefully we'll beat that... I wouldn't lay odds, though :-)
[20:09:43] *** Joins: ghservo (ghservo@99CAE845.6A2AE50.F3114085.IP)
[20:09:43] <ghservo> [13rust-azure] 15kmcallister opened pull request #70: Link expat on Linux (needed for in-tree fontconfig) (06master...06linux-fontconfig) 02http://git.io/2ddGDA
[20:09:43] *** Parts: ghservo (ghservo@99CAE845.6A2AE50.F3114085.IP) ()
[20:10:47] <kmc> in case it wasn't clear I am also strongly in favor of deny(unsafe_code) :)
[20:12:04] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[20:12:23] *** abinader_afk is now known as abinader
[20:13:29] *** Joins: ghservo (ghservo@23EC81EC.6A2AE50.F3114085.IP)
[20:13:29] <ghservo> [13rust-fontconfig] 15kmcallister opened pull request #7: Use in-tree fontconfig on Linux as well (06master...06linux-fontconfig) 02http://git.io/FLEFHQ
[20:13:29] *** Parts: ghservo (ghservo@23EC81EC.6A2AE50.F3114085.IP) ()
[20:14:46] *** Joins: ghservo (ghservo@4089EBDC.6A2AE50.F3114085.IP)
[20:14:46] <ghservo> [13servo] 15kmcallister opened pull request #1780: Build Fontconfig 2.11 in-tree on Linux (06master...06linux-fontconfig) 02http://git.io/sP0o4Q
[20:14:46] *** Parts: ghservo (ghservo@4089EBDC.6A2AE50.F3114085.IP) ()
[20:18:29] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[20:18:50] *** Quits: crowbot (nodebot@moz-F5F7AC36.scl3.mozilla.com) (Ping timeout)
[20:18:50] *** Quits: nli (nli@moz-DB4A9C19.scl3.mozilla.com) (Ping timeout)
[20:18:50] *** Quits: gavin (gavin@moz-DB4A9C19.scl3.mozilla.com) (Ping timeout)
[20:18:56] *** Quits: johnath (johnath@moz-DB4A9C19.scl3.mozilla.com) (Ping timeout)
[20:19:27] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Ping timeout)
[20:19:27] *** Quits: AutomatedTester (David@moz-DB4A9C19.scl3.mozilla.com) (Ping timeout)
[20:19:27] *** Quits: froydnj (nfroyd@moz-DB4A9C19.scl3.mozilla.com) (Ping timeout)
[20:20:45] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[20:20:45] *** ChanServ sets mode: +o pcwalton
[20:21:04] *** Quits: tobytailor (tobytailor@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: tobytailor)
[20:22:41] *** Joins: teosz (teosz@14885300.1934AA08.3EA6AAD8.IP)
[20:27:13] <jack> larsberg: technically we've already been working on it for two weeks :)
[20:27:36] <larsberg> oh, yeah, the de-@-mut... whoops :-)
[20:28:56] *** Joins: froydnj (nfroyd@moz-DB4A9C19.scl3.mozilla.com)
[20:28:58] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[20:28:58] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:29:01] *** Joins: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com)
[20:29:01] *** Quits: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:29:04] *** Joins: gavin (gavin@moz-DB4A9C19.scl3.mozilla.com)
[20:29:09] *** Joins: nli (nli@moz-DB4A9C19.scl3.mozilla.com)
[20:29:28] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[20:29:28] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:29:31] *** Joins: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com)
[20:29:31] *** Quits: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:29:58] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[20:29:58] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:30:01] *** Joins: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com)
[20:30:01] *** Quits: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:30:28] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[20:30:28] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:30:31] *** Joins: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com)
[20:30:31] *** Quits: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:30:49] *** Joins: johnath (johnath@moz-DB4A9C19.scl3.mozilla.com)
[20:30:58] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[20:30:58] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:31:02] *** Joins: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com)
[20:31:02] *** Quits: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:31:29] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[20:31:29] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:31:32] *** Joins: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com)
[20:31:32] *** Quits: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:31:48] *** Joins: ghservo (ghservo@4089EBDC.6A2AE50.F3114085.IP)
[20:31:49] <ghservo> [13servo] 15bors-servo merged 06auto into 06master: 02http://git.io/zBtDug
[20:31:49] *** Parts: ghservo (ghservo@4089EBDC.6A2AE50.F3114085.IP) ()
[20:31:53] *** Joins: ghservo (ghservo@511FAEBD.6A2AE50.F3114085.IP)
[20:31:53] <ghservo> [13servo] 15bors-servo closed pull request #1770: layout: Rewrite the float context. (06master...06rewrite-float-context) 02http://git.io/7WcmMQ
[20:31:53] *** Parts: ghservo (ghservo@511FAEBD.6A2AE50.F3114085.IP) ()
[20:31:59] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[20:31:59] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:32:02] *** Joins: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com)
[20:32:02] *** Quits: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:32:29] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[20:32:29] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:32:33] *** Joins: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com)
[20:32:33] *** Quits: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:32:59] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[20:32:59] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:33:03] *** Joins: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com)
[20:33:03] *** Quits: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:33:29] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[20:33:29] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:33:33] *** Joins: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com)
[20:33:33] *** Quits: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:34:00] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[20:34:00] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:34:03] *** Joins: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com)
[20:34:03] *** Quits: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:34:12] *** Quits: strcat (strcat@moz-54F7FD49.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.3)
[20:34:30] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[20:34:30] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:34:34] *** Joins: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com)
[20:34:34] *** Quits: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:34:39] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[20:35:00] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[20:35:00] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:35:04] *** Joins: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com)
[20:35:04] *** Quits: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:35:30] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[20:35:30] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:35:34] *** Joins: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com)
[20:35:34] *** Quits: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:35:35] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[20:35:35] *** ChanServ sets mode: +o pcwalton
[20:36:01] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[20:36:01] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:36:05] *** Joins: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com)
[20:36:05] *** Quits: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:36:31] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[20:36:31] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:36:35] *** Joins: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com)
[20:36:35] *** Quits: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:37:01] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[20:37:01] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:37:05] *** Joins: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com)
[20:37:05] *** Quits: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:37:31] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[20:37:31] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:37:35] *** Joins: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com)
[20:37:35] *** Quits: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:38:01] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[20:38:01] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:38:05] *** Joins: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com)
[20:38:05] *** Quits: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:38:33] *** Quits: gavin (gavin@moz-DB4A9C19.scl3.mozilla.com) (Quit: leaving)
[20:38:36] *** Joins: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com)
[20:38:36] *** Quits: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:38:57] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[20:38:57] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:39:06] *** Joins: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com)
[20:39:06] *** Quits: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:39:12] *** Joins: gavin (gavin@moz-DB4A9C19.scl3.mozilla.com)
[20:39:28] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[20:39:28] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:39:36] *** Joins: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com)
[20:39:36] *** Quits: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:39:57] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[20:39:57] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:40:06] *** Joins: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com)
[20:40:06] *** Quits: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:40:28] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[20:40:28] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:40:36] *** Joins: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com)
[20:40:36] *** Quits: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:40:58] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[20:40:58] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:41:07] *** Joins: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com)
[20:41:07] *** Quits: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:41:28] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[20:41:28] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:41:37] *** Joins: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com)
[20:41:37] *** Quits: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:41:58] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[20:41:58] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:42:28] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[20:42:28] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:42:32] *** Joins: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com)
[20:42:32] *** Quits: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:42:58] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[20:42:58] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:43:03] *** Joins: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com)
[20:43:03] *** Quits: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:43:28] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[20:43:28] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:43:33] *** Joins: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com)
[20:43:33] *** Quits: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:43:40] *** Joins: ghservo (ghservo@88C0CBA2.6A2AE50.F3114085.IP)
[20:43:40] <ghservo> [13rust-azure] 15metajack closed pull request #70: Link expat on Linux (needed for in-tree fontconfig) (06master...06linux-fontconfig) 02http://git.io/2ddGDA
[20:43:40] *** Parts: ghservo (ghservo@88C0CBA2.6A2AE50.F3114085.IP) ()
[20:43:58] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[20:43:58] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:44:03] *** Joins: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com)
[20:44:03] *** Quits: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:44:19] *** Joins: ghservo (ghservo@88C0CBA2.6A2AE50.F3114085.IP)
[20:44:19] <ghservo> [13rust-fontconfig] 15metajack pushed 2 new commits to 06master: 02http://git.io/bbpPVA
[20:44:19] <ghservo> 13rust-fontconfig/06master 1434f83d9 15Keegan McAllister: Use in-tree fontconfig on Linux as well
[20:44:19] <ghservo> 13rust-fontconfig/06master 1469737e6 15Jack Moffitt: Merge pull request #7 from kmcallister/linux-fontconfig...
[20:44:19] *** Parts: ghservo (ghservo@88C0CBA2.6A2AE50.F3114085.IP) ()
[20:44:28] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[20:44:28] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:44:33] *** Joins: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com)
[20:44:33] *** Quits: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:44:58] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[20:44:58] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:45:03] *** Joins: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com)
[20:45:03] *** Quits: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:45:28] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[20:45:28] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:45:33] *** Joins: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com)
[20:45:33] *** Quits: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:45:58] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[20:45:58] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:46:03] *** Joins: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com)
[20:46:03] *** Quits: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:46:09] <jdm> jack: squashed
[20:46:28] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[20:46:28] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[20:46:28] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:46:33] *** Joins: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com)
[20:46:33] *** Quits: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:46:59] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[20:46:59] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:47:03] *** Joins: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com)
[20:47:03] *** Quits: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:47:17] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Ping timeout)
[20:47:29] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[20:47:29] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:47:33] *** Joins: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com)
[20:47:33] *** Quits: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:47:50] *** Quits: jet (jet@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Ping timeout)
[20:47:54] *** Quits: nli (nli@moz-DB4A9C19.scl3.mozilla.com) (Ping timeout)
[20:47:59] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[20:47:59] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:48:03] *** Joins: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com)
[20:48:03] *** Quits: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:48:11] *** Joins: nli (nli@moz-DB4A9C19.scl3.mozilla.com)
[20:48:22] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[20:48:22] *** ChanServ sets mode: +o pcwalton
[20:48:24] *** Joins: jet (jet@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[20:48:29] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[20:48:29] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:48:33] *** Joins: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com)
[20:48:33] *** Quits: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:49:00] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[20:49:00] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:49:03] *** Joins: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com)
[20:49:03] *** Quits: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:49:30] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[20:49:30] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:49:33] *** Joins: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com)
[20:49:33] *** Quits: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:49:49] *** Joins: ghservo (ghservo@99CAE845.6A2AE50.F3114085.IP)
[20:49:49] <ghservo> [13servo] 15bors-servo pushed 0 new commits to 06auto: 02http://git.io/MrF8JQ
[20:49:49] *** Parts: ghservo (ghservo@99CAE845.6A2AE50.F3114085.IP) ()
[20:49:53] *** Joins: ghservo (ghservo@2E45E35D.6A2AE50.F3114085.IP)
[20:49:53] <ghservo> [13servo] 15bors-servo pushed 2 new commits to 06auto: 02http://git.io/kD3agQ
[20:49:53] <ghservo> 13servo/06auto 14eee9cd9 15Josh Matthews: De-@mut the script crate.
[20:49:53] <ghservo> 13servo/06auto 14b699995 15bors-servo: auto merge of #1755 : jdm/servo/demut, r=metajack...
[20:49:54] *** Parts: ghservo (ghservo@2E45E35D.6A2AE50.F3114085.IP) ()
[20:50:00] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[20:50:00] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:50:03] *** Joins: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com)
[20:50:03] *** Quits: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:50:27] <eddyb> larsberg: I was asking because - well, I shouldn't advertise my work when I have RefCell failures :(
[20:50:30] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[20:50:30] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:50:34] *** Joins: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com)
[20:50:34] *** Quits: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:51:01] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[20:51:01] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:51:04] *** Joins: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com)
[20:51:04] *** Quits: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:51:31] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[20:51:31] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:51:34] *** Joins: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com)
[20:51:34] *** Quits: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:52:01] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[20:52:01] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:52:04] *** Joins: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com)
[20:52:04] *** Quits: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:52:15] <larsberg> eddyb: are those RefCell failures something you expect the Rust upgrade to remove the need for? We've introduced a lot of the RefCells in Servo so we *can* do the Rust upgrade... 
[20:52:31] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[20:52:31] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:52:34] *** Joins: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com)
[20:52:34] *** Quits: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:52:36] <eddyb> no, it's just something orthogonal I've hit
[20:52:36] *** Joins: hoverbear (hoverbear@moz-E87270B0.wireless.uvic.ca)
[20:53:01] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[20:53:01] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:53:04] *** Joins: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com)
[20:53:04] *** Quits: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:53:32] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[20:53:32] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:53:33] <eddyb> larsberg: but acrichto was doing something with stack traces, makes me think one could make a cfg(debug_refcell) version of std that stores stack traces for borrow_mut calls in case there is a subsequent failure
[20:53:35] *** Joins: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com)
[20:53:35] *** Quits: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:53:55] *** Quits: jackneill (jackneill@moz-DC2BD189.pool.digikabel.hu) (Ping timeout)
[20:54:02] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[20:54:02] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:54:05] *** Joins: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com)
[20:54:05] *** Quits: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:54:12] <eddyb> oh dear what's this madness?
[20:54:32] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[20:54:32] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:54:35] *** Joins: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com)
[20:54:35] *** Quits: AutomatedTester|AFK (David@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[20:54:40] *** jdm sets mode: +b Yoric!*@*
[20:54:45] *** jdm sets mode: +b AutomatedTester|AFK!*@*
[20:54:49] <larsberg> eddyb:  I'd be interested to see a bug that needs more interesting logging - right now, multiple borrows are usually pretty evident from the backtraces (and I've introduced quite a few during the @mut conversion I had to debug...)
[20:55:35] <eddyb> anyways, what I'm working on are overloaded derefs (including automatic ones!!!)
[20:55:37] <jdm> yeah, the nice thing is that borrow failures occur within the same stack
[20:55:45] <jdm> so it's just elbow grease to read up until you find it
[20:55:56] <larsberg> eddyb: +1 would be so much cleaner :-)
[20:56:07] <eddyb> does servo use any smart pointers?
[20:56:13] <larsberg> borrow failures are my favorite failures
[20:56:22] <jdm> hmm, crowbot died
[20:56:27] <eddyb> things you have to call methods on to get to an inner reference?
[20:56:52] <jdm> eddyb: do we ever
[20:56:59] <jdm> I am so excited for your traits
[20:57:09] <eddyb> @T is still alive because the AST needs it. with Rc<T>, there would be a million .borrow() calls
[20:57:12] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[20:58:09] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[20:58:10] *** ChanServ sets mode: +o pcwalton
[20:58:11] <larsberg> eddyb: as far as smart pointers, I think there's a bunch of stuff that has inner references (e.g., LayoutNode), but I'm not sure that we'd want the explicit calls to disappear from the code
[20:58:33] *** Joins: ghservo (ghservo@94BD74B8.6A2AE50.F3114085.IP)
[20:58:33] <ghservo> [13servo] 15hgentry opened pull request #1781: Renamed HTMLIframeElementTypeId to HTMLIFrameElementTypeId (06master...06mozilla-servo) 02http://git.io/i9sO7A
[20:58:33] *** Parts: ghservo (ghservo@94BD74B8.6A2AE50.F3114085.IP) ()
[20:58:50] <eddyb> larsberg: then there's just the .get() calls for RefCell's
[20:58:51] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[20:59:34] <eddyb> you can imagine why we wouldn't want borrow/borrow_mut calls on RefCell's to go away (calling a method taking &mut self would trigger a borrow_mut you can't see)
[21:00:08] <eddyb> larsberg: I'm actually getting past the point where the rewards outweigh the costs :(
[21:00:39] *** Quits: dbaron (dbaron@6E6C815B.27376607.189F3E15.IP) (Ping timeout)
[21:00:55] <larsberg> eddyb: yeah, if you're not getting rid of the .borrow() and .borrow_mut(), there's no point
[21:01:14] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[21:01:14] *** ChanServ sets mode: +o pcwalton
[21:01:17] <eddyb> however, this stuff is needed for DST and I'm pretty sure Rc<[T]> will go through the same path
[21:01:18] *** Quits: mccr8 (mccr8@moz-BBE3ABD.mv.mozilla.com) (Quit: computer sleep)
[21:01:29] <jdm> ooh, PR from a new name
[21:01:33] <jdm> that's always so exciting
[21:01:38] *** Joins: AutomatedTester (David@moz-DB4A9C19.scl3.mozilla.com)
[21:01:38] *** Quits: AutomatedTester (David@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[21:02:04] *** Joins: mccr8 (mccr8@moz-BBE3ABD.mv.mozilla.com)
[21:02:08] *** Joins: AutomatedTester (David@moz-DB4A9C19.scl3.mozilla.com)
[21:02:08] *** Quits: AutomatedTester (David@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[21:03:08] <eddyb> larsberg: well, the main benefit here is that we can hope to remove @T in another week ;)
[21:03:22] <eddyb> so that thought gives me strength to continue
[21:03:38] <larsberg> gaaaaaaha! gotta land the rust upgrade before that :-)
[21:03:45] <eddyb> hehe
[21:03:56] <eddyb> no rest for the wicked
[21:03:58] <larsberg> otherwise, it'll be back to our own branch and cherry-picking
[21:04:14] *** Quits: teosz (teosz@14885300.1934AA08.3EA6AAD8.IP) (Ping timeout)
[21:04:53] *** Joins: ghservo (ghservo@C82447D.6A2AE50.F3114085.IP)
[21:04:54] <ghservo> [13servo] 15bors-servo 04force-pushed 06auto from 14b699995 to 14580c23f: 02http://git.io/c8GovQ
[21:04:54] *** Parts: ghservo (ghservo@C82447D.6A2AE50.F3114085.IP) ()
[21:04:55] *** Joins: ghservo (ghservo@5AC7F92B.6A2AE50.F3114085.IP)
[21:04:55] <ghservo> [13servo] 15bors-servo pushed 2 new commits to 06auto: 02http://git.io/kIJlrg
[21:04:55] <ghservo> 13servo/06auto 14ff189fc 15Keegan McAllister: Build Fontconfig 2.11 in-tree on Linux...
[21:04:55] <ghservo> 13servo/06auto 14c1c2c56 15bors-servo: auto merge of #1780 : kmcallister/servo/linux-fontconfig, r=metajack...
[21:04:56] *** Parts: ghservo (ghservo@5AC7F92B.6A2AE50.F3114085.IP) ()
[21:05:02] <eddyb> larsberg: if you have some experience with debugging borrow_mut, I would be grateful if you knew any weird quirk...
[21:05:15] <eddyb> because right now it looks like a RefMut just doesn't die
[21:05:34] <jack> eddyb: You know about using braces to scope the borrow?
[21:05:34] <jdm> larsberg: fwiw I got rid of all @ in script/
[21:05:58] <eddyb> jack: there is only HashMap insert calls in the same scope, after the borrow_mut
[21:06:02] <eddyb> no recursion, no nothing
[21:06:06] *** Quits: jet (jet@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: jet)
[21:06:33] <eddyb> jack: and I tend to move borrows into one statement/expression, not that it's possible
[21:06:41] *** Joins: Ms2ger (Ms2ger@BFE4F509.6F5CD262.187A1082.IP)
[21:07:55] <larsberg> jdm: yeah, I think it's just the @FontContext/Manager stuff and layout's flow list of @Box
[21:08:02] *** Quits: pybot (py@C3406AEB.F09091A8.1348A864.IP) (Ping timeout)
[21:08:02] <larsberg> I didn't get those when I got rid of the @muts
[21:09:39] <larsberg> eddyb: it has to be either earlier in that function or somewhere up the call stack, no? Otherwise, the RefMut would have been destroyed and freed.
[21:10:23] <eddyb> right, let's stay realistic
[21:10:43] <eddyb> I didn't actually change anything relevant in that file, so it has to be one of the other things
[21:11:15] *** Joins: jet (jet@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[21:14:11] <eddyb> larsberg: I think I naively assumed nothing needs to mutate that RefCell *somewhere else*
[21:15:20] <eddyb> larsberg: and it's probably in a match
[21:15:51] *** Quits: dranov (dranov@E5164DA2.5ABDACB1.FB866788.IP) (Ping timeout)
[21:16:03] <eddyb> larsberg: found it, thanks :)
[21:16:30] <eddyb> I actually expected to be in that place, but the backtrace threw me off
[21:16:51] *** Joins: ghservo (ghservo@2E45E35D.6A2AE50.F3114085.IP)
[21:16:51] <ghservo> [13servo] 15bors-servo pushed 2 new commits to 06auto: 02http://git.io/d6SH3w
[21:16:51] <ghservo> 13servo/06auto 1439e571a 15hgentry: Renamed HTMLIframeElementTypeId to HTMLIFrameElementTypeId
[21:16:51] <ghservo> 13servo/06auto 1444bb669 15bors-servo: auto merge of #1781 : hgentry/servo/mozilla-servo, r=metajack...
[21:16:52] *** Parts: ghservo (ghservo@2E45E35D.6A2AE50.F3114085.IP) ()
[21:16:53] *** Joins: ghservo (ghservo@5AC7F92B.6A2AE50.F3114085.IP)
[21:16:53] <ghservo> [13servo] 15bors-servo 04force-pushed 06auto from 14c1c2c56 to 14580c23f: 02http://git.io/c8GovQ
[21:16:53] *** Parts: ghservo (ghservo@5AC7F92B.6A2AE50.F3114085.IP) ()
[21:17:20] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[21:17:25] <Ms2ger> \o/
[21:19:24] *** Joins: junior (junior@5900FAA2.158605EF.90FCC265.IP)
[21:22:09] *** Quits: jaeholee (uid4856@moz-31ABA2C0.irccloud.com) (Quit: Connection closed for inactivity)
[21:22:11] *** Quits: junior (junior@5900FAA2.158605EF.90FCC265.IP) (Quit: )
[21:22:28] *** Joins: piterparker (piterparke@1CB0F902.9204A931.39602C18.IP)
[21:22:48] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Client exited)
[21:24:00] *** Quits: matematikaadit (adit@F48E8A6E.467E8CF8.1DB4F4D3.IP) (Quit: Leaving)
[21:29:21] <larsberg> bhearsum: do you know if the Ahem font is installed on our builders? Or how I could check?
[21:29:54] <Ms2ger> I'd suspect it is not
[21:30:23] <Ms2ger> And you could test by pushing a reftest and seeing if bors lets it land :)
[21:30:25] <larsberg> Ms2ger: I was hoping that somebody in gecko needed it and it was part of the default images or something :-)
[21:30:37] <bhearsum> larsberg: i doubt it...
[21:30:47] <bhearsum> i don't think we have any special font packages for firefox builds
[21:31:22] <larsberg> bhearsum: np, thanks for the info! 
[21:31:37] <bhearsum> yw
[21:31:39] <larsberg> Ms2ger: yeah, I was reviewing a reftest that used it and it occured to me that might be a problem...
[21:31:53] *** Joins: ghservo (ghservo@C95C9FF.6A2AE50.F3114085.IP)
[21:31:53] <ghservo> [13servo] 15bors-servo 04force-pushed 06auto from 1444bb669 to 14580c23f: 02http://git.io/c8GovQ
[21:31:53] *** Parts: ghservo (ghservo@C95C9FF.6A2AE50.F3114085.IP) ()
[21:37:55] <Manishearth> jdm: I'll have a look at the error tomorrow then, I got sidetracked on something else that I had to do today
[21:38:00] <Manishearth> And I need to sleep now
[21:38:11] <jdm> Manishearth: sure, no worries
[21:38:16] <Ms2ger> Good night :)
[21:38:37] <Ms2ger> I'll be around tomorrow morning, in class tomorrow afternoon, and then offline for the weekend
[21:39:15] <jdm> enjoy
[21:39:28] <Manishearth> Ms2ger: Morning =?
[21:39:29] <Manishearth> :p
[21:39:37] <Manishearth> I'll be around in the afternoon. Or doing work
[21:39:39] <Ms2ger> Central European time
[21:39:51] <Ms2ger> For some value of central :)
[21:40:40] <Manishearth> Ms2ger: at least you didn't say CET
[21:40:44] <Manishearth> (http://vimeo.com/7403673)
[21:40:57] *** Joins: bholley (bholley@32EFA1FF.F0338C73.AECC5372.IP)
[21:41:11] <Manishearth> (transcript: https://msmvps.com/blogs/jon_skeet/archive/2009/11/02/omg-ponies-aka-humanity-epic-fail.aspx)
[21:41:15] <Manishearth> Wait, that's CST
[21:41:15] <Ms2ger> Half an hour? No, not today :)
[21:41:17] <Manishearth> nvm
[21:41:22] <Ms2ger> CST is America
[21:41:34] <Manishearth> Ms2ger: not *only* America
[21:41:51] <Manishearth> > Yes, CST is there three times. Once for Central Standard Time in the US â€“ which is UTC-6. It's also Central Standard Time in Australia â€“ where it's UTC+9.30. It's also Central Summer Time in Australia, where it's UTC+10.30.
[21:41:59] <Ms2ger> Oh rly
[21:42:06] <Ms2ger> Those Aussies
[21:44:00] *** Quits: dherman (dherman@moz-B31C6965.dsl.pltn13.sbcglobal.net) (Quit: dherman)
[21:46:34] *** Joins: dbaron (dbaron@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[21:50:37] *** Quits: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com) (Input/output error)
[21:53:25] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[21:55:06] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[21:55:17] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[21:56:02] *** Quits: piterparker (piterparke@1CB0F902.9204A931.39602C18.IP) (Connection reset by peer)
[21:56:59] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[22:02:20] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[22:03:23] *** Joins: crowbot (nodebot@moz-F5F7AC36.scl3.mozilla.com)
[22:03:29] *** Joins: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com)
[22:08:57] *** Joins: Savago (Savago@84BFEFEF.CB3251F2.284344F5.IP)
[22:09:56] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Client exited)
[22:11:14] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[22:12:53] *** Joins: ghservo (ghservo@23EC81EC.6A2AE50.F3114085.IP)
[22:12:53] <ghservo> [13servo] 15Ms2ger opened issue #1782: Review if object handles the removal of its data attribute correctly 02http://git.io/IvXR0Q
[22:12:53] *** Parts: ghservo (ghservo@23EC81EC.6A2AE50.F3114085.IP) ()
[22:12:55] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Ping timeout)
[22:13:31] <huon> Ms2ger: btw, the order of imports can have semantic meanings, and making the lint's #[allow] work properly with out-of-order imports will be annoying
[22:13:51] <Ms2ger> Mm
[22:14:20] <Ms2ger> Maybe it'd be possible to just turn it off for the entire file?
[22:14:26] <Ms2ger> /mod/whatever :)
[22:17:22] <jdm> huon: hmm? semantic differences?
[22:19:27] *** Joins: piterparker (AndChat570@1CB0F902.9204A931.39602C18.IP)
[22:23:55] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[22:23:55] *** ChanServ sets mode: +qo dherman dherman
[22:25:22] <huon> jdm: shadowing imports (I guess it only really matters for globs)
[22:26:25] <huon> Ms2ger: currently, an #[allow] on a mod turns it off for the whole tree below that (but yeah, it would be possible)
[22:26:42] <kmc> i have to step out for a bit but I'll look into this expat failure on my PR later
[22:29:22] <jdm> what to do, what to do
[22:30:39] *** bhearsum is now known as bhearsum|afk
[22:30:51] *** Joins: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp)
[22:34:35] *** Quits: sp3d (s@6361F3B1.19CD1E54.8354FB35.IP) (Ping timeout)
[22:36:56] *** Quits: tetsuharu (tetsuharu@moz-A3FEAA56.ap219.ftth.ucom.ne.jp) (Quit: )
[22:37:25] <Ms2ger> jdm, file bugs :)
[22:37:31] <jdm> heh
[22:37:41] <Ms2ger> Seriously
[22:38:32] <jdm> we are chewing through them pretty fast
[22:39:13] <jack> does anyone understand why the Iframe -> IFrame patch is failing compiling rust-http?
[22:39:19] *** Joins: teosz (teosz@14885300.1934AA08.3EA6AAD8.IP)
[22:39:26] *** Quits: piterparker (AndChat570@1CB0F902.9204A931.39602C18.IP) (Quit: Bye)
[22:39:34] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[22:39:34] *** ChanServ sets mode: +o pcwalton
[22:39:36] <Ms2ger> Only one of the bugs I filed earlier this week hasn't been taken yet, and it isn't actionable yet
[22:40:06] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[22:41:22] <eddyb> wow firefox is unresponsive at times...
[22:41:31] * eddyb has grown used to chrome
[22:41:53] <jack> having a single JS runtime for the browser and every tab is a little sucky sometimes :(
[22:42:05] <eddyb> no kidding
[22:42:12] <eddyb> and I have 0 extensions in firefox
[22:42:27] <jack> a spinloop in a page will hang the ui.
[22:42:37] <jack> makes for a great servo demo backdrop though :)
[22:42:43] <eddyb> Welcome to 2014
[22:42:48] <eddyb> jack: <3 servo
[22:42:54] *** Quits: bholley (bholley@32EFA1FF.F0338C73.AECC5372.IP) (Quit: bholley)
[22:43:16] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[22:43:16] *** ChanServ sets mode: +o pcwalton
[22:43:26] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[22:43:31] *** Quits: ahal (ahal@moz-7DE89BF0.cable.teksavvy.com) (Input/output error)
[22:44:51] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[22:46:33] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Ping timeout)
[23:00:39] *** Quits: doomlord_ (servitor@moz-99BE89EC.range86-184.btcentralplus.com) (Quit: Leaving)
[23:01:21] *** Joins: sp3d (s@6361F3B1.19CD1E54.8354FB35.IP)
[23:03:36] *** Quits: Ms2ger (Ms2ger@BFE4F509.6F5CD262.187A1082.IP) (Quit: nn)
[23:06:02] *** Quits: bhenry (bhenry@moz-DA8D6F3B.shaklee.com) (Quit: bhenry)
[23:06:13] *** Joins: bhenry (bhenry@moz-DA8D6F3B.shaklee.com)
[23:09:09] *** Joins: tobytailor (tobytailor@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[23:14:52] *** Quits: jdm (jdm@13F2CEC5.7672369.D8E68FF6.IP) (Quit: Lost terminal)
[23:16:15] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[23:16:15] *** ChanServ sets mode: +o pcwalton
[23:16:20] *** Quits: dbaron (dbaron@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: 8403864 bytes have been tenured, next gc will be global.)
[23:17:13] *** Joins: dbaron (dbaron@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[23:21:21] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Input/output error)
[23:21:50] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[23:23:32] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Ping timeout)
[23:27:26] *** Quits: teosz (teosz@14885300.1934AA08.3EA6AAD8.IP) (Quit: Lost terminal)
[23:38:25] *** Joins: piterparker (piterparke@1CB0F902.9204A931.39602C18.IP)
[23:45:56] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[23:46:05] <piterparker> Hi there. I cant compile servo because of error in one file (from 'nss' in 'support' dir). Should I checkout to compilable commit? I see there is no tags in repo yet.
[23:47:38] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Ping timeout)
[23:49:38] *** Joins: bholley (bholley@32EFA1FF.F0338C73.AECC5372.IP)
[23:50:13] <piterparker> Ok. I found this: https://github.com/mozilla/servo/issues/680. Is servo supporting 32bit environments now?
[23:50:32] *** Quits: eddyb (eddy@moz-41DB10DA.residential.rdsnet.ro) (Ping timeout)
[23:58:00] *** Joins: harth_ (heather@moz-42412102.hsd1.ca.comcast.net)
[23:59:52] *** Quits: harth_ (heather@moz-42412102.hsd1.ca.comcast.net) (Ping timeout)
