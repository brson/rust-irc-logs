[00:01:29] *** Quits: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu) (Ping timeout: 121 seconds)
[00:08:39] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[00:08:49] *** Quits: bombless_ (_@moz-odk.piv.41.59.IP) (Ping timeout: 121 seconds)
[00:10:14] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[00:10:15] *** ChanServ sets mode: +o pcwalton
[00:16:56] <Gankro> Protip: unsafe_no_drop_flag and zero-sized types is *super* busted
[00:17:04] <Gankro> I just triggered like 6 drops on one value
[00:18:18] *** Joins: Jesin (Jesin@moz-6pufsn.eecs.lehigh.edu)
[00:18:40] <bluss> well drop being called many times happens without a drop flag
[00:19:47] <Gankro> Yeah
[00:21:01] <Gankro> I just like that you can specify it on a type that *can't* be zeroed
[00:21:06] <Gankro> or filled
[00:21:12] <eddyb> heh
[00:21:17] <eddyb> will be fixed, eventually
[00:21:27] <eddyb> I was read map_in_place source and it already handles it correctly
[00:21:35] <eddyb> by... running the destructor artificially
[00:21:42] <Gankro> Also jesus why does Vec::push have *6* drop calls
[00:21:56] <eddyb> that's 6 moves
[00:21:58] <eddyb> lol
[00:22:01] <Gankro> static analysis plz
[00:22:12] <eddyb> Gankro: you found a nice way to count the number of moves
[00:22:18] <Gankro> ahaha
[00:22:21] <eddyb> now use it on something more complicated
[00:22:26] *** Joins: jgallagher (john@moz-6ge.dhn.131.24.IP)
[00:22:34] <Gankro> I invented move ctors!
[00:22:39] <eddyb> Q_Q
[00:22:45] <eddyb> ABORT
[00:23:01] <eddyb> Gankro: more like... move dtors. on empty data. lol
[00:23:20] <eddyb> well, no, you can do this on any structure
[00:23:32] *** Joins: rovar_ (rovar@moz-96effg.dyn.optonline.net)
[00:26:19] <Gankro> eddyb: it composes!
[00:26:20] <Gankro> https://play.rust-lang.org/?gist=842b995c15c40aedc072&version=nightly
[00:26:29] <Gankro> THE DREAM
[00:26:38] * Gankro goes and makes safe intrusive lists
[00:26:52] <WindowsBunny> acrichto: A few of your fs stabilizations indicate stable since 1.0.0 instead of 1.1.0
[00:26:59] <WindowsBunny> acrichto: I assume that's accidental?
[00:27:52] *** Joins: Quxxy (chatzilla@moz-efh10q.internode.on.net)
[00:33:24] <eddyb> Gankro: it's a move *dtor*
[00:33:30] <eddyb> Gankro: you don't get to see the new location
[00:33:38] <Gankro> eddyb: This seems pretty janky, yeah: https://play.rust-lang.org/?gist=b8b7c60ce11ea8a6c205&version=nightly
[00:34:14] <eddyb> Gankro: you are overriden with the drop pattern, you're just intentionally ignoring it
[00:34:40] <eddyb> wait
[00:34:54] <eddyb> ah, right, the last one is the one that's not to be ignored
[00:35:02] <Gankro> eddyb: Nah this is perfect. I'll get some big libraries to depend on this, and get move dtors standardized
[00:35:54] <eddyb> Gankro: http://is.gd/DUX8R7
[00:37:46] <Gankro> eddyb: Ah perfect, move dtors are even easier!
[00:40:18] *** Quits: jgallagher (john@moz-6ge.dhn.131.24.IP) (Client exited)
[00:42:56] <acrichto> WindowsBunny: which ones are those?
[00:43:16] <acrichto> WindowsBunny: oh yeah those are all meant to be 1.1.0
[00:45:59] *** Joins: grant (grant@moz-jfh.0nq.187.64.IP)
[00:54:44] *** chmanchester is now known as chmanchester|afk
[00:56:27] <bstrie> nmatsakis: look what I found: https://github.com/rust-lang/rust-wiki-backup/blob/fe709c998b52092a60a6f1d3d42dce0691b23e3c/Proposal-for-regions.md
[00:58:38] *** Joins: jgallagher (john@moz-6ge.dhn.131.24.IP)
[00:59:41] *** Quits: jgallagher (john@moz-6ge.dhn.131.24.IP) (Client exited)
[01:00:50] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[01:00:50] *** ChanServ sets mode: +ao erickt erickt
[01:01:25] <bstrie> erickt: you're alive! I was afraid you were kidnapped and being held for ransom
[01:01:51] <erickt> bstrie: I am!
[01:02:00] <erickt> got stolen off to europe
[01:02:04] <erickt> back now!
[01:02:11] <erickt> thursday lunch?
[01:03:00] <bstrie> erickt: yeah sure
[01:03:12] <bstrie> erickt: we have SO MANY people asking about the next meetup :P
[01:03:54] <erickt> bstrie: announcing it tonight!
[01:04:03] <erickt> it'll be 7/8
[01:04:19] <erickt> I think i'll try to do a dinner this month too
[01:08:54] <nmatsakis> bstrie: fun read :)
[01:11:22] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[01:11:42] <bstrie> nmatsakis: not that you have any time, but if you did it would be fun to read your retrospective on this particular rfc and how it compares to modern rust :D
[01:20:13] *** Joins: ChrisMorgan (ChrisMorgan@moz-g6osuq.tpgi.com.au)
[01:40:11] *** Quits: swgillespie (swgillespie@moz-o29.3un.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[01:40:44] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[01:41:51] *** Quits: dcb (dcb@moz-4hh.6p3.217.74.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[01:46:27] *** Joins: bkoropoff (bkoropoff@moz-kthi5c.wa.comcast.net)
[02:08:52] <aatch> Wow. my XOR list with dynamically-sized nodes seems to actually work!
[02:11:28] *** Joins: yjv (yjv@moz-kp2.hqu.153.50.IP)
[02:17:11] *** Joins: yjv_ (yjv@moz-kp2.hqu.153.50.IP)
[02:19:24] *** Quits: yjv (yjv@moz-kp2.hqu.153.50.IP) (Ping timeout: 121 seconds)
[02:20:04] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[02:22:39] *** Joins: yjv (yjv@moz-kp2.hqu.153.50.IP)
[02:25:05] *** Quits: yjv_ (yjv@moz-kp2.hqu.153.50.IP) (Ping timeout: 121 seconds)
[02:27:30] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[02:28:09] *** Joins: yjv_ (yjv@moz-kp2.hqu.153.50.IP)
[02:30:36] *** Quits: yjv (yjv@moz-kp2.hqu.153.50.IP) (Ping timeout: 121 seconds)
[02:33:50] *** Joins: yjv (yjv@moz-kp2.hqu.153.50.IP)
[02:36:08] *** Quits: yjv_ (yjv@moz-kp2.hqu.153.50.IP) (Ping timeout: 121 seconds)
[02:36:13] <huon> nrc: https://github.com/rust-lang/rust/pull/26152#event-326958274 :P
[02:37:00] * nrc looks
[02:37:56] <nrc> I see random letters and numbers :-p
[02:37:58] <bkoropoff> aatch: only drawback is that it's hard to make sense of in a debugger
[02:38:31] <huon> nrc: " rust-lang was assigned by rust-highfive 12 minutes ago "
[02:38:35] <aatch> nrc, I think he's referring to the fact that `rust-lang` itself was assigned.
[02:39:11] <WindowsBunny> How do you assign rust-lang???
[02:39:15] <aatch> bkoropoff, yeah, but this shaves two machine words of overhead off.
[02:39:17] *** Joins: yjv_ (yjv@moz-kp2.hqu.153.50.IP)
[02:39:56] <huon> WindowsBunny: that's how
[02:41:07] *** Quits: aatch (james@moz-is4j4r.cable.telstraclear.net) (Connection closed)
[02:41:29] *** Joins: aatch (james@moz-is4j4r.cable.telstraclear.net)
[02:41:48] *** Quits: yjv (yjv@moz-kp2.hqu.153.50.IP) (Ping timeout: 121 seconds)
[02:42:14] <bkoropoff> I'm trying to think of a better nomenclature than TypedArena/Arena
[02:42:43] <bkoropoff> Zone/Arena, maybe?
[02:44:44] *** Joins: yjv (yjv@moz-kp2.hqu.153.50.IP)
[02:47:14] *** Quits: yjv_ (yjv@moz-kp2.hqu.153.50.IP) (Ping timeout: 121 seconds)
[02:50:03] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[02:50:03] *** ChanServ sets mode: +ao erickt erickt
[02:50:13] *** Joins: yjv_ (yjv@moz-ncc.hqu.153.50.IP)
[02:50:37] *** Quits: mib_w2k67f (Mibbit@moz-hu6.nja.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[02:52:28] <nrc> huh, that's an interesting loop hole
[02:52:45] *** Quits: yjv (yjv@moz-kp2.hqu.153.50.IP) (Ping timeout: 121 seconds)
[02:53:36] *** Quits: ChrisMorgan (ChrisMorgan@moz-g6osuq.tpgi.com.au) (Ping timeout: 121 seconds)
[02:55:48] *** Quits: zz_kimundi (kimundi@moz-cak2a8.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[02:55:57] *** Joins: yjv (yjv@moz-lv1.02o.153.50.IP)
[02:57:13] *** Joins: summerlight (summerlight@moz-99k.2mj.130.121.IP)
[02:57:17] *** Quits: yjv (yjv@moz-lv1.02o.153.50.IP) (Connection closed)
[02:58:11] *** Joins: zz_kimundi (kimundi@moz-ktmie3.dip0.t-ipconnect.de)
[02:58:12] *** zz_kimundi is now known as kimundi
[02:58:16] *** Quits: yjv_ (yjv@moz-ncc.hqu.153.50.IP) (Ping timeout: 121 seconds)
[03:00:27] <eddyb> bkoropoff: Arena/DynamicArena
[03:00:31] <eddyb> or AnyArena
[03:01:09] <eddyb> nrc: oh did you see that other one?
[03:01:10] *** Joins: p1start (p1start@moz-nftjhe.org)
[03:01:13] <bkoropoff> DynamicArena is a bit too long
[03:01:33] <nrc> eddyb: which other one?
[03:01:37] <bkoropoff> Also, it doesn't limit you to the Any bound, so that would be misleading
[03:01:46] <eddyb> nrc: https://github.com/rust-lang/rust/pull/26023#issuecomment-109295341
[03:02:00] <eddyb> I wrote "longer? @bors" and @bors got assigned
[03:02:18] <nrc> eddyb: I did, and posted a fix to highfive already, thanks for pinging me on it
[03:02:41] <eddyb> cool
[03:03:20] <eddyb> I guess r? @rust-lang is "legitimate" except for the fact that it's a sub-team reference
[03:03:49] <eddyb> nrc: bonus points if it picks someone at random from the team or if it cc's them all
[03:04:08] <eddyb> nrc: you can cc them by assigning them one by one :D
[03:04:44] <eddyb> (can there be more than one assignee? that wouldn't be a bad idea IMO)
[03:04:53] <nrc> there can't
[03:06:40] *** Joins: c74d3 (c74d3a4ebb6@moz-u3bdim.mggc.hibn.4404.2002.IP)
[03:08:17] *** Quits: c74d (c74d3a4ebb6@moz-0ersgu.oc.cox.net) (Ping timeout: 121 seconds)
[03:08:39] *** c74d3 is now known as c74d
[03:09:43] <Gankro> Should repr(C) zero-sized types be linted against?
[03:10:11] *** Quits: zxq9 (ceverett@moz-qsm369.mesh.ad.jp) (Quit: Konversation terminated!)
[03:13:12] <geofft> Gankro: gh20660, I think 
[03:13:12] <[o__o]> Using #[repr(C)] on unit structs should warn: https://github.com/rust-lang/rust/issues/20660
[03:13:23] <bkoropoff> eddyb: Zone and HetZone?
[03:13:56] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[03:14:36] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Client exited)
[03:17:39] <Gankro> geofft: Oh, thanks!
[03:17:46] <Gankro> For now I'll not it as a gotcha
[03:17:49] <Gankro> *note
[03:18:32] *** Joins: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net)
[03:18:32] *** ChanServ sets mode: +o pcwalton
[03:18:51] *** Quits: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net) (Client exited)
[03:22:57] *** Quits: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[03:25:09] *** Joins: yjv (yjv@moz-qmj.02o.153.50.IP)
[03:27:36] *** Joins: semarie (semarie@moz-8jvbfr.nmte.ch)
[03:30:42] *** Joins: yjv_ (yjv@moz-qmj.02o.153.50.IP)
[03:33:10] *** Quits: yjv (yjv@moz-qmj.02o.153.50.IP) (Ping timeout: 121 seconds)
[03:36:13] *** Joins: yjv (yjv@moz-qmj.02o.153.50.IP)
[03:38:43] *** Quits: yjv_ (yjv@moz-qmj.02o.153.50.IP) (Ping timeout: 121 seconds)
[03:41:44] *** Joins: yjv_ (yjv@moz-qmj.02o.153.50.IP)
[03:41:56] <sfackler> WindowsBunny: do you know what error is returned on windows when writing an unavailable stdout?
[03:43:04] <WindowsBunny> sfackler: Uh, GetStdHandle should return NULL if there is no handle
[03:44:09] <sfackler> cool, thanks
[03:44:15] *** Quits: yjv (yjv@moz-qmj.02o.153.50.IP) (Ping timeout: 121 seconds)
[03:44:31] *** Quits: yjv_ (yjv@moz-qmj.02o.153.50.IP) (Connection closed)
[03:44:33] <WindowsBunny> sfackler: and it'll return INVALID_HANDLE_VALUE if there's an error :D
[03:45:43] <WindowsBunny> sfackler: There's an error code ERROR_INVALID_HANDLE
[03:45:52] <WindowsBunny> which I presume is returned if you try to interact with an invalid handle
[03:46:36] *** Joins: yjv (yjv@moz-qmj.02o.153.50.IP)
[03:47:37] <WindowsBunny> sfackler: Are you attempting to implement my RFC?
[03:48:22] <sfackler> yeah
[03:48:33] <sfackler> unless you were already planning on doing it?
[03:48:50] <WindowsBunny> sfackler: Nah, I'm totally fine with delegating that responsibility to you :P
[03:49:03] <sfackler> haha
[03:50:01] *** Quits: yjv (yjv@moz-qmj.02o.153.50.IP) (Connection closed)
[03:50:42] <WindowsBunny> sfackler: keep me updated if you need any help with the windows implementation
[03:51:17] <erickt> bstrie: http://www.meetup.com/Rust-Bay-Area/events/222260315/
[03:51:31] *** Quits: p1start (p1start@moz-nftjhe.org) (Ping timeout: 121 seconds)
[03:53:40] <aturon> erickt: \o/
[03:53:53] <erickt> :)
[03:54:13] <WindowsBunny> sfackler: Also keep me updated on entirely unrelated things as well. I like updates.
[03:55:08] <erickt> aturon: also as a special sneak peek, tomorrow I'm going to lock in a location for a rust picnic some weekend day :) I was thinking golden gate park if I can get a location
[03:56:44] <aturon> erickt: ooh! sounds like fun. ok, g2g
[03:57:10] <erickt> :)
[03:57:15] <Manishearth> bstrie: The intention is not to remove unstable features
[03:57:24] <erickt> aturon: oh, btw, lunch on thursday!
[03:57:40] <Manishearth> My Servo changes were just changing stuff like `use collections` to `use std::collections`
[03:57:41] <aturon> erickt: i'm in
[03:58:00] <Manishearth> bstrie: the intention is to figure out what should be stabilized :)
[03:58:11] <Manishearth> if you look at that PR I changed *very* little
[03:58:53] <Manishearth> the doc mentions workarounds because I noticed that almost every API that we use that's unstable is something that could be used in a stable form with a little bit of work, but of course we don't want to put that effort
[03:59:49] <Gankro> Am I correct in saying that, as of today, we do not actually reorder struct fields to avoid padding or anything like that?
[03:59:56] <sfackler> correct
[04:00:04] <Gankro> sfackler: Do we want to?
[04:02:09] <sfackler> that was the intention of the undefined repr rfc
[04:02:35] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[04:02:36] <sfackler> we should probably do it sooner rather than later to minimize the number of people that get screwed on bad assumptions
[04:03:38] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[04:05:39] <Gankro> sfackler: Also, perf
[04:06:05] <Gankro> Maybe save it for a bad version where we can't do much better :P
[04:08:45] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Ping timeout: 121 seconds)
[04:09:40] *** Joins: laumann (thomas@moz-n9e72h.0.fullrate.dk)
[04:11:51] *** Joins: sprang (sprang@moz-d0kmvi.12d9.sm5v.0009.2601.IP)
[04:11:58] <WindowsBunny> sfackler: Please at least randomize the order for now
[04:12:18] <WindowsBunny> Like, pseudo-random based on a hash that changes with each rust version
[04:12:38] <sfackler> yeah
[04:13:26] <nrc> order by aligned size, should give close to optimal packing
[04:13:49] <nrc> and is simple
[04:13:51] <WindowsBunny> sfackler: Also, I really really want a lint that warns me if I didn't mark something as repr(C)
[04:13:53] <WindowsBunny> For winapi
[04:14:30] <geofft> a slightly-safer-transmute might be a useful thing to have 
[04:15:28] <geofft> like something that distinguishes between transmuting a slice to a raw::slice, and transmuting a struct of four chars... 
[04:16:00] <sfackler> I think there's an open issue to make a lint that warns when passing non-repr-C things to extern functions
[04:16:32] <geofft> it is well-defined to pass slices and boxes, though, right? 
[04:17:11] <geofft> "FFI-safe" and "#[repr(C)])" aren't quite the same, and I don't think there's _anything_ in the language that captures the concept of "FFI-safe" 
[04:17:54] <nrc> geofft: you can't rely on the representation of anything, which includes pointers
[04:18:02] <WindowsBunny> geofft: Things that aren't repr(C) are _definitely_ not safe though
[04:18:09] <WindowsBunny> not ffi-safe that is
[04:18:10] <nrc> in particular the representation of slices/trait objects is not stable
[04:18:47] <WindowsBunny> so raw pointers are not always ffi-safe
[04:18:53] <WindowsBunny> because you can have raw fat pointers
[04:19:59] <nrc> yep, and we make no guarantees about what gets a thin vs a fat pointer
[04:20:11] <nrc> or that even a thin pointer is like a C thin pointer
[04:20:49] <geofft> the book passes raw pointers to (sized) Rust objects and also strongly implies that Option<extern "C" fn...> is FFI-safe / stable 
[04:21:26] <geofft> I'm pretty sure that, based on people relying on it, there are things that can't be changed at this point (like Option<extern fn>) 
[04:21:33] <geofft> even if they were never formally defined as stable 
[04:22:02] <WindowsBunny> nrc: Do we at least guarantee that raw pointers to repr(C) types are compatible with C pointers?
[04:22:23] <nrc> WindowsBunny: I don't think we do explicitly
[04:22:33] <nrc> but I feel like that ought to be safe to assume
[04:22:38] <WindowsBunny> nrc: well we should (and also raw pointers to numeric types)
[04:22:45] <WindowsBunny> I don't want to assume, I want to know for sure D:
[04:22:49] <geofft> yeah, that _definitely_ seems too-big-to-fail at this point 
[04:23:02] <nrc> geofft: yeah, in reality we are somewhat constrained by these kind of assumptions
[04:23:16] *** Quits: laumann (thomas@moz-n9e72h.0.fullrate.dk) (Ping timeout: 121 seconds)
[04:23:30] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[04:23:37] <WindowsBunny> nrc: Also, if I get a *mut from a &mut, what guarantees do I have that llvm won't reorder reads/writes to the &mut around the *mut?
[04:24:24] <aatch> I'd argue that these fall into "unspecified" rather than "undefined". As in, at any given time we *do* know whether or not *const T is sized or not, it's just not actually specified.
[04:24:27] <WindowsBunny> That's something I am worried about and I never got a clear answer yet
[04:25:12] <aatch> WindowsBunny, general rule of thumb: LLVM will not modify code such that it causes observable changes in behaviour.
[04:25:27] <nrc> WindowsBunny: I'm not 100% sure, but I would think LLVM wouldn't do that
[04:25:45] <aatch> WindowsBunny, given that we don't do *any* of our own alias analysis, LLVM will fallback to `may alias` for the two pointers.
[04:25:59] <nrc> I don't think we ever tell LLVM that any pointers are unique
[04:26:11] <WindowsBunny> Don't we mark our pointers as noalias?
[04:26:22] <aatch> WindowsBunny, in function arguments.
[04:26:36] *** Quits: jbomo (dkd@moz-uol4mm.fios.verizon.net) (Quit: )
[04:26:38] <WindowsBunny> Ah, so its only across function boundaries
[04:26:53] <WindowsBunny> so within the scope of a single function I'm totally safe
[04:27:05] <aatch> WindowsBunny, should be, yeah.
[04:27:10] <WindowsBunny> sweet
[04:27:31] <WindowsBunny> Now I just need a notarized guarantee from the rust core team assuring me that guarantee will hold
[04:27:43] <aatch> WindowsBunny, LLVM actually has a sanity check for alias analysis anyway where it will override a specific analysis pass if it's obvious that it's wrong.
[04:28:56] <aatch> WindowsBunny, so even if we did say that a `&mut T` and a `*mut T` casted from it don't alias, it'd go: "Well, that's just plain wrong" and ignore us.
[04:29:35] <aatch> WindowsBunny, and finally, if we ever do TBAA, we'll likely always return "may alias" for raw pointers.
[04:29:49] <WindowsBunny> now I feel a bit more comfortable when I'm writing unsafe heavy code :P
[04:31:16] <aatch> WindowsBunny, remember, LLVM is designed mostly for C/C++, where people do things like `*(float *)(&25)` which I'm pretty sure the C standard says is undefine.
[04:31:21] <aatch> undefined*
[04:32:10] <WindowsBunny> ah the joys of C/C++ abuse
[04:34:27] <WindowsBunny> steveklabnik: You should take notes on this and make sure its somewhere in the advanced section of the rust book :D
[04:55:10] *** Joins: ChrisMorgan (ChrisMorgan@moz-g6osuq.tpgi.com.au)
[04:57:49] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[05:00:10] <WindowsBunny> sfackler: So now everytime you write it does a branch on whether it is a sink or not, another branch on whether it is a console or a pipe
[05:00:43] <WindowsBunny> sfackler: And then the cost of actually writing to the console/pip overrides all those costs, also the utf8 <-> utf-16 conversion
[05:00:56] <sfackler> yep :)
[05:06:15] *** Joins: yjv (yjv@moz-536.02o.153.50.IP)
[05:07:40] <Mutabah> What's the make target that's best for testing libcore etc?
[05:07:47] <Mutabah> (i.e. does the minium amount to test it)
[05:11:51] *** Joins: yjv_ (yjv@moz-ujo.2iq.153.50.IP)
[05:14:12] *** Quits: yjv (yjv@moz-536.02o.153.50.IP) (Ping timeout: 121 seconds)
[05:14:18] *** Quits: Jesin (Jesin@moz-6pufsn.eecs.lehigh.edu) (Quit: Leaving)
[05:17:21] *** Joins: yjv (yjv@moz-ujo.2iq.153.50.IP)
[05:18:37] *** Joins: p1start (p1start@moz-nftjhe.org)
[05:19:50] *** Quits: yjv_ (yjv@moz-ujo.2iq.153.50.IP) (Ping timeout: 121 seconds)
[05:20:08] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[05:20:08] *** ChanServ sets mode: +ao erickt erickt
[05:23:32] *** Joins: yjv_ (yjv@moz-ujo.2iq.153.50.IP)
[05:24:22] *** Quits: yjv (yjv@moz-ujo.2iq.153.50.IP) (Ping timeout: 121 seconds)
[05:24:29] <sfackler> Mutabah: make check-stage1-coretest
[05:25:23] <Mutabah> sfackler: Thanks
[05:25:49] <Mutabah> (also - we have no tests for Result::unwrap it seems)
[05:29:07] *** Joins: yjv (yjv@moz-leu.2iq.153.50.IP)
[05:30:38] *** Quits: Amaranth (travis@moz-1raqsl.cpe.cableone.net) (Connection closed)
[05:30:56] *** Quits: O01eg (o01eg@moz-vo3rrg.nv60.4n8f.2698.2a02.IP) (Client exited)
[05:31:34] *** Quits: yjv_ (yjv@moz-ujo.2iq.153.50.IP) (Ping timeout: 121 seconds)
[05:36:01] *** Quits: ytain (ytain@moz-o0gerq.dsl.teksavvy.com) (Quit: Textual IRC Client: www.textualapp.com)
[05:37:08] *** Quits: yjv (yjv@moz-leu.2iq.153.50.IP) (Ping timeout: 121 seconds)
[05:44:25] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[05:47:53] <nrc> Would a programmer ever use quasiquoting outside of a syntax extension? (or the compiler itself)
[05:48:23] <sfackler> I can't imagine a use case
[05:50:09] *** Quits: amir (amir@moz-jnohkj.3bcq.01f6.0168.2a02.IP) (Ping timeout: 121 seconds)
[05:52:52] *** Joins: James_ (quassel@moz-8qs8a3.range86-148.btcentralplus.com)
[05:55:31] *** Quits: blaenk (blaenkdenum@moz-ggnkpd.res.rr.com) (Ping timeout: 121 seconds)
[05:58:24] <bkoropoff> nrc: I'm making good use of `Unsize` in the library I'm working on
[05:59:33] <aatch> bkoropoff, as am I.
[06:00:15] <aatch> bkoropoff, have you found that an impl for `T : Unsize<T>` would help?
[06:00:49] <nrc> nice :-)
[06:01:01] <bkoropoff> nrc: https://github.com/bkoropoff/monotonic
[06:01:56] <aatch> bkoropoff, typo in the README: `DymChain`
[06:01:57] *** Joins: skeuomorf (skeuomorf@moz-3l1.21q.32.197.IP)
[06:02:05] <bkoropoff> already fixed
[06:02:07] <nrc> interesting library
[06:02:47] <bkoropoff> nrc: I'm hoping to reduce use of `RefCell`.  There are tons of places in the compiler where we use it to accumulate entries into ever-growing vecs/hashmaps.
[06:04:49] *** Joins: amir (amir@moz-qbf4gg.fiber7.init7.net)
[06:07:46] *** Joins: trecer (textual@moz-2s7.vki.125.98.IP)
[06:08:56] *** Quits: trecer (textual@moz-2s7.vki.125.98.IP) (Connection closed)
[06:09:13] *** Joins: joneshf-laptop (joneshf@moz-l4h.b5s.208.98.IP)
[06:10:23] *** Joins: trecer (textual@moz-2s7.vki.125.98.IP)
[06:11:39] <nrc> that would be col
[06:11:42] <nrc> *cool
[06:12:31] <bkoropoff> The more unsafe code I write, the less I like panics
[06:18:54] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[06:23:23] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Quit: It's a joke, it's all a joke.)
[06:23:55] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[06:30:05] <SimonSapin> Is #[deny(deprecated)] on by default ?
[06:30:28] <Mutabah> Don't think so
[06:30:39] <Mutabah> That would break the stability garuntees
[06:31:35] <SimonSapin> ah, it’s a bad error message with #![deny(warnings)]
[06:34:19] *** Joins: erz (erz@moz-fiq1tl.broadband.corbina.ru)
[06:35:24] *** Quits: James_ (quassel@moz-8qs8a3.range86-148.btcentralplus.com) (Ping timeout: 121 seconds)
[06:36:13] *** Quits: bkoropoff (bkoropoff@moz-kthi5c.wa.comcast.net) (Client exited)
[06:38:34] *** Joins: squiddy (squiddy@moz-md4.pm3.19.178.IP)
[06:38:40] *** Joins: bjz (bjz@moz-0j4.2c9.87.203.IP)
[06:39:07] *** Quits: bjz (bjz@moz-0j4.2c9.87.203.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[06:56:57] *** Joins: bjz (bjz@moz-0j4.2c9.87.203.IP)
[07:06:03] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[07:08:43] *** Joins: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se)
[07:10:43] *** Quits: bjz (bjz@moz-0j4.2c9.87.203.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[07:11:44] *** Quits: trecer (textual@moz-2s7.vki.125.98.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[07:12:04] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[07:12:06] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[07:12:10] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Connection closed)
[07:12:14] *** Joins: laumann (thomas@moz-3m6.3kq.109.2.IP)
[07:12:36] *** Quits: Rym (uid91135@moz-n2i7qm.charlton.irccloud.com) (Quit: Connection closed for inactivity)
[07:16:33] <zwarich> aatch: I'm pretty sure that Rust relies on LLVM's "does this trivially must-alias?" check for correctness
[07:16:44] <zwarich> aatch: otherwise a bunch of unsafe code would break
[07:17:02] <zwarich> only one way to find out: remove it and bootstrap?
[07:17:09] <aatch> zwarich, does it? We don't really provide it much aliasing information to start with.
[07:17:33] <zwarich> aatch: well, I think some of the info provided on function params is now getting preserved after inlining
[07:18:48] *** Quits: c74d (c74d3a4ebb6@moz-u3bdim.mggc.hibn.4404.2002.IP) (Ping timeout: 121 seconds)
[07:19:05] <zwarich> I haven't looked at IR from rustc in a long time :P
[07:19:25] <zwarich> there was a GitHub issue where I was sort of arguing with strcat about this
[07:19:37] *** Joins: c74d (c74d3a4ebb6@moz-0ersgu.oc.cox.net)
[07:19:52] <zwarich> I claimed that Rust should have real well-defined behavior for unsafe code, whereas he thought that specifying things in terms of what LLVM does was better
[07:20:07] <zwarich> since that's what people have been relying on in practice :P
[07:20:07] <aatch> zwarich, yeah, but that's on LLVM to handle. I don't think there's much/any code that passes `&mut T` and an aliasing pointer to a function. Which is the only place I know of we might lie about aliasing.
[07:22:23] <zwarich> aatch: well, &T is also marked noalias
[07:25:03] *** Quits: grant (grant@moz-jfh.0nq.187.64.IP) (Client exited)
[07:25:16] *** Quits: nham (nham@moz-lglsfe.il.comcast.net) (Ping timeout: 121 seconds)
[07:25:26] <aatch> zwarich, only when `T` has no internal mutability.
[07:27:00] <zwarich> aatch: I am not completely convinced the concept of interior mutability is sound :-/
[07:27:21] <zwarich> s/interior/internal/
[07:28:52] <zwarich> anyways, will be curious to see what the 'rules' for unsafe code end up being
[07:29:12] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[07:29:12] *** ChanServ sets mode: +ao erickt erickt
[07:33:12] *** Joins: oli_obk__ (Mibbit@moz-7bq.0sb.52.141.IP)
[07:33:40] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[07:35:26] *** Quits: doener (doener@moz-929cn9.unity-media.net) (Ping timeout: 121 seconds)
[07:35:34] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[07:36:45] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Client exited)
[07:38:34] *** Quits: laumann (thomas@moz-3m6.3kq.109.2.IP) (Quit: leaving)
[07:38:50] *** Joins: laumann (thomas@moz-3m6.3kq.109.2.IP)
[07:54:01] *** Joins: mgottschlag (quassel@moz-h0g3ot.qiv1.bbcb.1398.2a00.IP)
[07:54:43] <Mutabah> Ah c**p, I should add 'tidy' to my local tests
[07:55:03] *** Joins: goyox86 (textual@moz-qfs.570.70.83.IP)
[07:58:40] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[08:05:45] <Mutabah> (I have my editor set up to do tabs... so I've been bitten a few times on rust PRs)
[08:06:14] *** Quits: Kingsquee (kingsley@moz-3fm07c.bchsia.telus.net) (Quit: Konversation terminated!)
[08:06:37] *** Quits: elif (chatzilla@moz-ev8m1p.res.rr.com) (Quit: ChatZilla 0.9.90.1-rdmsoft [XULRunner 29.0/20140421221237])
[08:07:08] *** Quits: njn (chatzilla@moz-c6c476.iinet.net.au) (Quit: ChatZilla 0.9.91.1 [Firefox 41.0a1/20150531163607])
[08:10:36] *** Joins: zmack (zmack@moz-htpein.home.aster.pl)
[08:13:17] *** Quits: Kxepal (Miranda@moz-0e9d1r.pppoe.mtu-net.ru) (Ping timeout: 121 seconds)
[08:13:47] *** Quits: laumann (thomas@moz-3m6.3kq.109.2.IP) (Ping timeout: 121 seconds)
[08:18:11] *** Joins: bjz (bjz@moz-puppgq.tpgi.com.au)
[08:24:11] *** Joins: laumann (thomas@moz-3m6.3kq.109.2.IP)
[08:25:26] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[08:37:22] *** Joins: nicknikolov (nicknikolov@moz-dfo.nv2.121.2.IP)
[08:52:06] *** Joins: mukilan (mukilan@moz-5ke.d4s.164.122.IP)
[08:55:20] *** Joins: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP)
[08:59:59] *** Joins: doener (doener@moz-eku96m.hsi08.unitymediagroup.de)
[09:00:12] *** Quits: summerlight (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[09:01:44] *** Joins: Binero_ (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP)
[09:02:10] *** Quits: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP) (Ping timeout: 121 seconds)
[09:02:16] *** Binero_ is now known as Binero
[09:05:57] *** Joins: zmack_ (zmack@moz-htpein.home.aster.pl)
[09:06:15] *** Quits: zmack_ (zmack@moz-htpein.home.aster.pl) (Connection closed)
[09:06:30] *** Quits: zmack (zmack@moz-htpein.home.aster.pl) (Connection closed)
[09:06:37] *** Joins: zmack (zmack@moz-htpein.home.aster.pl)
[09:08:28] *** Joins: mgottschlag2 (quassel@moz-nm3cpo.qiv1.bbcb.1398.2a00.IP)
[09:09:02] *** Quits: mgottschlag (quassel@moz-h0g3ot.qiv1.bbcb.1398.2a00.IP) (Ping timeout: 121 seconds)
[09:19:42] <eddyb> aatch: haaaa
[09:19:55] <eddyb> aatch: T: Unsize<T> is evil because traits happen to implement it for "downcasting"
[09:20:31] <aatch> eddyb, ??
[09:21:31] <eddyb> as in, Trait -> Trait unsizing is a thing
[09:21:45] <eddyb> think Trait+'a -> Trait+'b and Trait+Send -> Trait
[09:22:21] <eddyb> sized types, slices and anything that doesn't wrap a trait, they just don't do it
[09:22:33] <eddyb> aatch: oh but RefCell<Trait>: Unsize<RefCell<Trait>>
[09:22:39] <eddyb> so YMMV
[09:22:59] <aatch> eddyb, ok. But I want to be able to do T -> T with sized types.
[09:23:43] <aatch> eddyb, because right now my XOR list *only* works with unsized types.
[09:24:09] <eddyb> oh
[09:24:22] <aatch> eddyb, because, for example, i32 : Unsize<i32> isn't a thing.
[09:24:34] <eddyb> I am a bit confused
[09:24:38] *** Joins: summerlight (summerlight@moz-99k.2mj.130.121.IP)
[09:25:11] <eddyb> aatch: I wonder if coherence will allow an interesting trait
[09:25:28] *** Quits: mgottschlag2 (quassel@moz-nm3cpo.qiv1.bbcb.1398.2a00.IP) (Ping timeout: 121 seconds)
[09:25:56] <eddyb> trait Unsize2<T> {...} impl<T: ?Sized+Unsize<U>, U: ?Sized> Unsize2<T> for U {...} impl<T> Unsize2<T> for T {...}
[09:26:14] <aatch> eddyb, tried that, didn't work.
[09:26:20] <eddyb> coherence?
[09:26:24] <aatch> eddyb, yep.
[09:26:30] <eddyb> what's the error?
[09:26:37] <aatch> eddyb, overlapping impls
[09:26:57] <eddyb> I'm curious because *technically* X: Unsize<X> is never implemented by a sized X
[09:26:58] <aatch> eddyb, or at least, I tried something similar.
[09:27:08] <aatch> eddyb, gimme a sec.
[09:27:26] <eddyb> oh, you know what it is?
[09:27:44] <eddyb> selection returns ambiguous for type variables but doesn't check to see if they're sized
[09:28:07] <eddyb> if the target is sized, then we could return "not implemented" and maybe coherence will work
[09:33:42] <aatch> eddyb, https://github.com/Aatch/dynalist
[09:35:24] <eddyb> aatch: elem could have an "into_box" IMO
[09:35:30] <eddyb> Elem I mean
[09:35:41] <eddyb> or, oh!
[09:36:03] <eddyb> aatch: impl Elem<Any> with a downcast method :D
[09:36:26] <eddyb> and an into_inner for Elem<T> of sized T
[09:36:38] <eddyb> aatch: with proper downcasting, that would be pretty sweet
[09:36:39] *** kimundi is now known as zz_kimundi
[09:37:15] <aatch> eddyb, well right now `T` can't be Sized c.f. the above conversation.
[09:39:57] <eddyb> aatch: even in Elem?
[09:41:16] <aatch> eddyb, sure, you can have one in Elem, but Elem just exists because I can't return Box<T>.
[09:43:17] *** Quits: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP) (Client exited)
[09:48:23] *** Joins: ff (flaper87Moz@moz-a1iain.redhat.com)
[09:53:00] <eddyb> wait
[09:53:28] <eddyb> what if you had a downcasting impl that reverses... CoerceUnsized?
[09:53:39] <eddyb> ah but you need HKT :P
[09:55:31] *** Quits: ff (flaper87Moz@moz-a1iain.redhat.com) (Quit: 1.2)
[10:03:43] *** Quits: nicknikolov (nicknikolov@moz-dfo.nv2.121.2.IP) (Connection closed)
[10:12:47] *** Joins: vmx (vmx@moz-o1fkmb.dip0.t-ipconnect.de)
[10:18:40] *** Joins: duesenfranz_ (jona@moz-711djm.tirol.surfer.at)
[10:19:04] *** Parts: duesenfranz_ (jona@moz-711djm.tirol.surfer.at) ("")
[10:25:34] *** Quits: semarie (semarie@moz-8jvbfr.nmte.ch) (A TLS packet with unexpected length was received.)
[10:25:47] *** Joins: semarie (semarie@moz-9htnct.geoca.st)
[10:39:23] *** Joins: nicknikolov (nicknikolov@moz-dfo.nv2.121.2.IP)
[10:39:23] *** Quits: nicknikolov (nicknikolov@moz-dfo.nv2.121.2.IP) (Connection closed)
[10:39:24] *** Joins: nicknikolov (nicknikolov@moz-dfo.nv2.121.2.IP)
[10:42:49] *** Joins: Sho (sho@moz-s6t.arq.28.5.IP)
[10:49:03] *** Joins: duesenfranz_ (jona@moz-711djm.tirol.surfer.at)
[10:49:38] *** Quits: duesenfranz_ (jona@moz-711djm.tirol.surfer.at) (Client exited)
[10:50:49] *** Joins: duesenfranz_ (jona@moz-711djm.tirol.surfer.at)
[10:58:42] *** Quits: p1start (p1start@moz-nftjhe.org) (Ping timeout: 121 seconds)
[11:00:52] *** Quits: goyox86 (textual@moz-qfs.570.70.83.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[11:06:27] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[11:06:27] *** ChanServ sets mode: +ao erickt erickt
[11:11:12] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[11:16:57] <bluss> gh26173 ← this is exciting
[11:16:58] <[o__o]> Nonzeroing Move Hints (take3 branch): https://github.com/rust-lang/rust/pull/26173
[11:18:20] <oli_obk__> yea I was wondering about that... why isn't this simply done as an ast-expansion?
[11:19:19] <oli_obk__> -simply +"simply"
[11:19:48] <cmr> It uses detailed control flow information.
[11:21:02] <eddyb> oli_obk__: that would be... impossible
[11:21:15] <eddyb> oli_obk__: the AST is already frozen in place by the time name resolution happens
[11:21:28] <oli_obk__> right :/
[11:21:35] <eddyb> oli_obk__: and you need types to know what has to be moved and what copies
[11:21:42] <oli_obk__> also the move/copy info isn't available
[11:21:42] <eddyb> and what drops and what doesn't
[11:22:19] <oli_obk__> we so need a rust-IR
[11:22:31] <eddyb> it might be possible to rewrite some kind of MIR while keeping it semantically valid wrt safe Rust
[11:23:22] <aatch> oli_obk__, we need a Rust IR for many more reasons than just nonzeroing move hints.
[11:23:31] <eddyb> transforming code with conditional drops into code without them, but safe dynamic drop flags. not sure it's possible
[11:23:49] <eddyb> technically you can insert Option<T> and unwrap calls
[11:24:16] <eddyb> moving being .take_unwrap()
[11:24:27] <eddyb> (or .take().unwrap() since that method was removed IIRC)
[11:25:13] <eddyb> this is interesting though and probably related to refinement types
[11:25:19] <eddyb> aatch: hehe I know how to do it
[11:25:49] <eddyb> let x: T = foo(); if bar(&x) { consome(x); }
[11:26:16] <eddyb> consume, even
[11:26:40] <eddyb> let x: T = foo(); let x_1: Option<T>; if bar(&x) { consume(x); x_1 = None; } else { x_1 = Some(x); }
[11:26:43] <eddyb> tadaa
[11:27:18] <eddyb> now x is moved in both branches so control flow has been "normalized"
[11:27:47] <eddyb> value flow, even
[11:27:54] <bluss> um yes using option is like an explicit drop flag, we kind of knew this I think
[11:28:20] <eddyb> bluss: yes, but the obvious solution involves having to unwrap
[11:28:42] <bluss> ah and this is the reverse, that's nice
[11:29:13] <eddyb> let x: Option<T>::Some = Some(foo()); let x_1: Option<T>; if bar(&x.0) { consume(x.0); x_1 = None; } else { x_1 = x; }
[11:29:54] <eddyb> with refinement types, you can avoid moving things around, though it still requires a clever compiler to handle x_1 = x; specially
[11:30:13] <eddyb> preferably you'd change x's type from Option<T>::Some to Option<T> in-place
[11:38:38] *** Quits: A205B064 (A205B064@moz-rr4.khg.118.75.IP) (Ping timeout: 121 seconds)
[11:51:47] *** Joins: Amaranth (travis@moz-1raqsl.cpe.cableone.net)
[11:54:18] *** Joins: goyox86 (textual@moz-qfs.570.70.83.IP)
[11:54:47] *** Quits: bdero (bran@moz-lbs.91h.47.73.IP) (Ping timeout: 121 seconds)
[12:08:24] *** Joins: aepsil0n (eduard@moz-gtoi2p.hsi8.kabel-badenwuerttemberg.de)
[12:12:30] *** Joins: arielb1 (Mibbit@moz-cmi.jfj.114.192.IP)
[12:12:49] <arielb1> are unsized enums/tuples supposed to be supported?
[12:14:15] <arielb1> currently they cause ICE-s
[12:17:02] <eddyb> arielb1: not yet
[12:17:43] <arielb1> eventually?
[12:18:03] <eddyb> tuples... may work, if you add the relevant code to traits::select and trans::expr
[12:18:24] <eddyb> you can just treat them like structs
[12:18:49] <eddyb> I haven't heard much about enums
[12:26:02] *** Quits: madmalik (uid13697@moz-lfin5p.brockwell.irccloud.com) (Quit: Connection closed for inactivity)
[12:28:14] <arielb1> eddyb: is there a plan for that
[12:28:57] <arielb1> either making them work or making them error cleanly
[12:33:48] *** Joins: jgallagher (john@moz-6ge.dhn.131.24.IP)
[12:34:13] <eddyb> they should error right now
[12:35:59] *** zz_kimundi is now known as kimundi
[12:53:39] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[12:56:58] *** Quits: ranma42 (ranma42@moz-2if8va.di.unipi.it) (Ping timeout: 121 seconds)
[12:59:53] *** Joins: bdero (bran@moz-e4f4ei.mit.edu)
[13:00:25] *** Joins: ranma42 (ranma42@moz-2if8va.di.unipi.it)
[13:01:40] *** Quits: jevin (jevin@moz-sra.ovp.12.72.IP) (Ping timeout: 121 seconds)
[13:03:17] *** Quits: goyox86 (textual@moz-qfs.570.70.83.IP) (Quit: Textual IRC Client: www.textualapp.com)
[13:08:05] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[13:08:05] *** ChanServ sets mode: +ao erickt erickt
[13:08:19] <SimonSapin> why would my unit tests exit with SIGTRAP?
[13:11:34] *** Quits: oli_obk__ (Mibbit@moz-7bq.0sb.52.141.IP) (Ping timeout: 121 seconds)
[13:12:45] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[13:14:11] *** Quits: mib_vc22vm (Mibbit@moz-g6k.oht.161.46.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[13:14:34] *** Quits: bdero (bran@moz-e4f4ei.mit.edu) (Connection closed)
[13:15:18] <pnkfelix> SimonSapin: do you see it if you run them under a debugger?
[13:15:29] *** Joins: ytain (ytain@moz-o0gerq.dsl.teksavvy.com)
[13:16:08] <SimonSapin> pnkfelix: yes, but I `list` in gdb is not being helpful
[13:16:20] <pnkfelix> (I know there are at least places where, in debug builds, we emit debugtrap)
[13:16:45] <pnkfelix> (in particular when the drop flag has been given a value that is inconsistent with expectation)
[13:16:51] *** Quits: arielb1 (Mibbit@moz-cmi.jfj.114.192.IP) (Ping timeout: 121 seconds)
[13:17:19] <SimonSapin> pnkfelix: the stack trace says it happens in here: https://github.com/bluss/arrayvec/blob/ad226984/nodrop/src/lib.rs#L56-L62
[13:17:23] <pnkfelix> SimonSapin: how about disasm?  Do you see an explicit breakpoint trap ?
[13:17:42] <SimonSapin> I don’t know how to disassamble
[13:17:55] <pnkfelix> `dis`, I think
[13:18:02] <pnkfelix> no wait
[13:18:12] <pnkfelix> that disables the last breakpoint
[13:18:36] <pnkfelix> `disassemble` or just `disas`
[13:21:46] *** Joins: bdero (bran@moz-e4f4ei.mit.edu)
[13:23:42] *** Joins: oli_obk__ (Mibbit@moz-7bq.0sb.52.141.IP)
[13:24:57] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[13:26:17] *** Quits: _Vi (vi@moz-bbs.vhj.131.104.IP) (Ping timeout: 121 seconds)
[13:34:02] *** Quits: Moonlightning (blackl@moz-1rc.30c.23.184.IP) (Quit: The Nightmares will Collide. And become a Dream. <3)
[13:43:17] *** Joins: jevin (jevin@moz-sra.ovp.12.72.IP)
[13:45:28] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[13:45:28] *** ChanServ sets mode: +ao erickt erickt
[13:46:36] *** Joins: Rym (uid91135@moz-n2i7qm.charlton.irccloud.com)
[13:53:32] *** Quits: jgallagher (john@moz-6ge.dhn.131.24.IP) (Client exited)
[13:55:45] *** Quits: rovar (rovar@moz-6iq.47m.88.38.IP) (NickServ (RECOVER command used by rovar_))
[13:55:45] *** rovar_ is now known as rovar
[13:55:58] *** Joins: rovar_ (rovar@moz-6iq.47m.88.38.IP)
[13:59:15] <eddyb> nmatsakis: I wonder what you think of https://www.reddit.com/r/rust/comments/397xn3/why_does_anything_have_higher_priority_than/cs1d6sb?context=10
[13:59:50] <eddyb> nmatsakis: seems like Self: (DoubleEndedIterator if I: DoubleEndedIterator) would simplify it greately
[14:02:04] <nmatsakis> eddyb: I think there's a lot of "top priority" things :)
[14:02:11] *** Joins: erickt_ (erickt@moz-njt.vqi.14.76.IP)
[14:02:19] <nmatsakis> eddyb: I've also spent the last few weeks working on various holes in the type system around associated types etc
[14:02:32] <nmatsakis> eddyb: and I think the impl and out understanding is still playing catchup
[14:02:42] <nmatsakis> eddyb: so i'm reluctant to go about adding massive extensions
[14:02:48] <nmatsakis> eddyb: not to say that I wouldn't want to land your branch :) just ... feature-gated :0
[14:03:04] <nmatsakis> but we'll get there, I'm working on the rfcs for those holes now at least ;)
[14:03:14] <eddyb> nmatsakis: riiight but I am talking about a specific issue here, conditional where clauses
[14:03:30] <eddyb> or rather, encoding a conditional impl in a trait
[14:03:43] <nmatsakis> ah
[14:03:45] <nmatsakis> I didn't click through
[14:03:48] <eddyb> :P
[14:04:00] <nmatsakis> yes, that was something aturon and I talked about at some point, we definitely want that sort of thing, 
[14:04:08] <nmatsakis> I';m not sure the best way to do it
[14:04:12] <eddyb> would my code even work? I guess I could try to compile it
[14:04:12] <nmatsakis> let me click and see what you actually pointed me at :0
[14:04:25] <nmatsakis> it's worth nothing though that
[14:04:34] <nmatsakis> another option instead of impl trait
[14:04:36] <nmatsakis> that we might consider
[14:04:40] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[14:04:43] <nmatsakis> would be adding limited inference of return types  :)
[14:04:53] <eddyb> nope nope nope
[14:04:57] <nmatsakis> might be harder though..
[14:05:07] <eddyb> anonymized types are *so easy*
[14:05:24] <eddyb> because you have a barrier between the inference and the users
[14:05:31] <eddyb> without that barrier all hell breaks loose
[14:05:52] <nmatsakis> well, they both have their advantages
[14:05:58] <nmatsakis> but I'm not particularly keen on
[14:06:05] <nmatsakis> making the checking of one fn body
[14:06:07] <nmatsakis> dependent on checking another
[14:06:12] <nmatsakis> so adding ret type inference is not something I'd love to do
[14:06:15] <eddyb> nmatsakis: https://github.com/eddyb/rust/commit/b67a663394d1164ed61cc59fee42636b1e4ed6b0
[14:06:19] <nmatsakis> but sometimes you don't want a boundary :)
[14:06:26] <eddyb> features are so easy to implement when you don't add error checking
[14:06:40] <eddyb> well, I would reuse the current closure scheme for that
[14:06:54] <eddyb> opt-in nested functions - or even taking a whole module and doing local inference in it
[14:07:01] *** Joins: jevin_ (jevin@moz-sra.ovp.12.72.IP)
[14:07:15] <eddyb> *opt-in for nested functions
[14:07:19] *** Quits: jevin (jevin@moz-sra.ovp.12.72.IP) (Connection closed)
[14:07:28] *** Joins: _Vi (vi@moz-bbs.vhj.131.104.IP)
[14:08:03] <nmatsakis> eddyb: so what you wrote there looks roughly like what aturon and I sketched out a long time ago, but we were debating if we wanted something more "first class" I think
[14:08:20] <eddyb> makes sense
[14:08:22] <eddyb> https://github.com/eddyb/rust/commit/b67a663394d1164ed61cc59fee42636b1e4ed6b0#diff-e316089ce0820fd13d7dd1401048c54fR408
[14:08:49] <eddyb> so the associated type in impl blocks thing is a bit verbose but it's a kind of constant verbosity, you can change the body of the function and keep the rest as is
[14:09:08] <eddyb> it's the cost you have to pay for extensions methods, sadly
[14:10:01] <eddyb> I told Quxxy to use Output and not a named associated item, which makes it look like it means anything :P
[14:10:47] <eddyb> nmatsakis: if we start deducing associated type assignments from method signatures in which they are substituted, this would be somewhat shorter
[14:11:38] <Quxxy> eddyb: "Output" is a rubbish name, especially if you have more than one extension method per trait :)
[14:11:39] <eddyb> that is coincidentally what's necessary for `impl Trait` in a trait method signature to work
[14:11:47] <eddyb> Quxxy: you actually do?
[14:11:54] <Quxxy> Not in *this* instance, no
[14:12:02] <eddyb> I'm not seeing any
[14:12:06] <Quxxy> But I'm good at planning for features that'll never be implemented
[14:12:10] <eddyb> Quxxy: are you using my branch in production or something? :P
[14:12:23] <eddyb> oh
[14:12:30] <eddyb> Quxxy: you forgot to switch free functions to closures
[14:12:34] <eddyb> I should have some fun with that
[14:12:45] <eddyb> Quxxy: `as fn` should just not exist
[14:12:47] <eddyb> :D
[14:13:24] <Quxxy> eddyb: At least I found out that I can do `as fn(_,_) -> _` :P
[14:14:02] <eddyb> Quxxy: oh and \x20 is ugly
[14:14:17] <eddyb> you know you can replace \x20 with spaces
[14:14:22] <eddyb> and remove \n\ at the same time?
[14:14:24] <Quxxy> Yes, but trailing \ strips leading whitespace
[14:14:35] <eddyb> trailing \ does that, yes
[14:14:43] <eddyb> it escapes whitespace
[14:14:49] <eddyb> don't put it if you don't want it
[14:14:54] <Quxxy> And I *want* the lines terminated so it's clear that the trailing whitespace is supposed to be there
[14:15:15] <eddyb> now you're too picky :P
[14:15:21] <Quxxy> Normally, I would just put \n\ at the end of the line and be done with it
[14:15:46] <eddyb> playbot: "\ "
[14:15:47] -playbot- <anon>:9:11: 9:12 error: unknown character escape:  
[14:15:47] -playbot- <anon>:9         "\ "
[14:15:47] -playbot- output truncated; full output at: http://bit.ly/1dwjG9C
[14:15:47] <Quxxy> But Rust is *clever* about this, so I need \x20 on the next line because most of them start with whitespace
[14:15:56] <Quxxy> You were about to say...?
[14:16:17] <eddyb> well, I would just leave it without any backlashes
[14:16:26] <eddyb> but then tidy will kill me for having trailing spaces
[14:16:31] <Quxxy> Yup
[14:16:38] <Quxxy> It's almost like I already went through this once before :3
[14:17:12] <eddyb> it doesn't change the fact that \x20 is ugly :(
[14:17:18] <Quxxy> Well, no
[14:17:21] <Quxxy> No it doesn't
[14:25:29] *** Quits: erickt_ (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[14:25:42] *** Joins: jgallagher (john@moz-d5e8oc.hfc.comcastbusiness.net)
[14:34:05] *** Joins: harrisonclarke (harrisoncla@moz-p78oth.eastlink.ca)
[14:44:42] <pnkfelix> wait, is there not a way to mark a file to say tidy should ignore its trailing spaces?
[14:44:52] <pnkfelix> we can mark them to say ignore their long lines ...
[14:47:18] <eddyb> pnkfelix: there might be, but, for example, my editor will kill the trailing spaces
[14:47:30] <eddyb> and anyone who touches that file could accidentally do it and fun ensues
[14:50:12] <Quxxy> eddyb: Solution just occurred to me
[14:50:19] <Quxxy> s/ /./g
[14:50:25] <Quxxy> And .replace(' ', '.') on the output of the function
[14:50:47] <Quxxy> The assert_eq_cal macro does that to make discrepencies easier to spot
[14:51:29] <eddyb> there's a lot of spaces though
[14:51:33] <eddyb> Quxxy: nbsp :P
[15:16:45] *** Quits: harrisonclarke (harrisoncla@moz-p78oth.eastlink.ca) (Connection closed)
[15:17:55] *** Quits: squiddy (squiddy@moz-md4.pm3.19.178.IP) (Quit: Leaving)
[15:18:11] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[15:26:22] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[15:28:04] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[15:28:22] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[15:30:37] *** Joins: arielb1 (Ariel@moz-6an0ej.red.bezeqint.net)
[15:35:48] *** Joins: dcb (dcb@moz-j72nfe.ca.comcast.net)
[15:36:05] *** Joins: harrisonclarke (harrisoncla@moz-p78oth.eastlink.ca)
[15:38:13] <aepsil0n> i thought, there are no variadic functions in Rust. does anyone why this branch here exists: https://github.com/rust-lang/rust/blob/master/src/librustc_typeck/check/mod.rs#L2294 ?
[15:38:25] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Quit: It's a joke, it's all a joke.)
[15:38:29] *** Quits: arielb1 (Ariel@moz-6an0ej.red.bezeqint.net) (Ping timeout: 121 seconds)
[15:38:47] *** Joins: yjv (yjv@moz-j0cdis.fios.verizon.net)
[15:40:03] *** Quits: harrisonclarke (harrisoncla@moz-p78oth.eastlink.ca) (Connection closed)
[15:40:50] <geofft> aepsil0n: not totally sure, but I believe Rust supports extern "C" variadic functions so you can FFI to them, so the syntax has to support them 
[15:42:54] <geofft> yeah, looks like support was introduced in c669ccf3, commit message "libsyntax/librustc: Allow calling variadic foreign functions." 
[15:44:03] <aepsil0n> oh, that makes sense. thanks for the heads up.
[15:49:53] *** Quits: laumann (thomas@moz-3m6.3kq.109.2.IP) (Ping timeout: 121 seconds)
[16:00:24] *** Quits: Quxxy (chatzilla@moz-efh10q.internode.on.net) (Ping timeout: 121 seconds)
[16:04:01] *** Joins: harrisonclarke (harrisoncla@moz-g1kp2c.ns.bellaliant.net)
[16:05:15] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Client exited)
[16:06:50] *** Joins: eddyb_ (eddyb@moz-vpa.2f0.121.86.IP)
[16:09:34] *** Quits: eddyb (eddyb@moz-7uq.hlc.26.188.IP) (Ping timeout: 121 seconds)
[16:13:07] *** eddyb_ is now known as eddyb
[16:22:31] *** Joins: samnmax (samnmax@moz-1vk.aq9.27.72.IP)
[16:24:01] *** Joins: Astrum|Lap (Astrum|Lap@moz-7enfbr.co.comcast.net)
[16:28:16] *** Joins: O01eg (o01eg@moz-849.n83.112.37.IP)
[16:30:46] *** Quits: vmx (vmx@moz-o1fkmb.dip0.t-ipconnect.de) (Quit: Leaving)
[16:34:26] *** Quits: oli_obk__ (Mibbit@moz-7bq.0sb.52.141.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[16:45:15] <WindowsBunny> At last!
[16:45:21] <WindowsBunny> Improved github organization permissions!
[16:45:22] <WindowsBunny> https://github.com/blog/2020-improved-organization-permissions
[16:45:29] <WindowsBunny> (Opt-in) Members can view and mention all teams, even when they're not on those teams.
[16:45:36] <WindowsBunny> acrichto: Do this!
[16:46:20] <eddyb> do eeet
[16:49:16] *** Joins: pcwalton (pcwalton@moz-nh2.o1i.216.216.IP)
[16:49:16] *** ChanServ sets mode: +o pcwalton
[16:50:17] *** Joins: Jesin (Jesin@moz-6pufsn.eecs.lehigh.edu)
[16:55:15] *** Joins: laumann (thomas@moz-n9e72h.0.fullrate.dk)
[16:56:16] *** Quits: capella-s3 (capella-s3@moz-vcqob4.res.rr.com) (Quit: Talk atcha later)
[16:57:41] *** Joins: brson (brson@moz-cfhap5.mtv2.mozilla.com)
[16:57:42] *** ChanServ sets mode: +o brson
[16:57:47] *** Quits: zmack (zmack@moz-htpein.home.aster.pl) (Connection closed)
[17:00:20] *** Joins: Kxepal (Miranda@moz-nivk72.pppoe.mtu-net.ru)
[17:03:28] *** Joins: radiofreematt (Mibbit@moz-39rhuj.ca.comcast.net)
[17:04:27] *** Quits: radiofreematt (Mibbit@moz-39rhuj.ca.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[17:07:09] *** Joins: nham (nham@moz-lglsfe.il.comcast.net)
[17:15:24] *** Quits: summerlight (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[17:16:42] *** Joins: mib_32x4xe (Mibbit@moz-7aj.10j.65.151.IP)
[17:21:01] *** Quits: mib_32x4xe (Mibbit@moz-7aj.10j.65.151.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[17:25:29] *** Quits: pcwalton (pcwalton@moz-nh2.o1i.216.216.IP) (Client exited)
[17:25:39] *** chmanchester|afk is now known as chmanchester
[17:31:21] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[17:31:21] *** ChanServ sets mode: +ao erickt erickt
[17:37:09] *** Quits: dcb (dcb@moz-j72nfe.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[17:50:14] *** Joins: dinfuehr (dinfuehr@moz-qat0e8.highway.telekom.at)
[17:51:34] *** Joins: dcb (dcb@moz-j72nfe.ca.comcast.net)
[17:52:04] <acrichto> WindowsBunny: whoa!
[17:52:08] <acrichto> I will look into this soon
[17:53:05] <eddyb> nmatsakis: I hope I'm not just hijacking RFCs now with people waiting on me to come with the better proposals
[17:54:39] <eddyb> acrichto: I've hit a timeout (which I've seen before) but also an odd abort, here https://github.com/rust-lang/rust/pull/26141
[17:54:56] <eddyb> acrichto: http://buildbot.rust-lang.org/builders/auto-linux-32-opt/builds/5300/steps/test/logs/stdio
[17:55:15] <eddyb> this after the weird test corruption last week or whenever
[17:56:05] <eddyb> I'm wondering if the bots' hardware is stable. almost seems like they're overheating and going crazy, sometimes
[17:56:27] *** Quits: dcb (dcb@moz-j72nfe.ca.comcast.net) (Ping timeout: 121 seconds)
[17:56:28] <eddyb> acrichto: if you haven't seen the corruption, let me know and I'll look for it
[17:56:53] <acrichto> eddyb: ah yeah that unfortunately happens from time to time
[17:56:56] <acrichto> never had the chance to investigate :(
[17:59:28] *** Joins: avikpal (avikpal@moz-55l.imq.194.117.IP)
[17:59:37] *** Joins: dcb (dcb@moz-j72nfe.ca.comcast.net)
[18:00:31] *** Joins: eibwen (eibwen@moz-sf8cgb.dip0.t-ipconnect.de)
[18:00:32] *** Quits: dinfuehr (dinfuehr@moz-qat0e8.highway.telekom.at) (Connection closed)
[18:01:59] *** Quits: dcb (dcb@moz-j72nfe.ca.comcast.net) (Quit: Textual IRC Client: www.textualapp.com)
[18:02:04] *** Joins: dinfuehr (dinfuehr@moz-qat0e8.highway.telekom.at)
[18:02:40] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[18:02:40] *** ChanServ sets mode: +o pcwalton
[18:04:42] *** Joins: dcb (dcb@moz-j72nfe.ca.comcast.net)
[18:08:17] *** Quits: aatch (james@moz-is4j4r.cable.telstraclear.net) (Connection closed)
[18:12:51] *** Quits: Florob (Florob@moz-je09t8.de) (Ping timeout: 121 seconds)
[18:12:53] *** Joins: Florob (Florob@moz-je09t8.de)
[18:14:31] <eddyb> acrichto: this is what I was talking about btw http://buildbot.rust-lang.org/builders/auto-linux-32-opt/builds/5249/steps/test/logs/stdio
[18:14:42] <eddyb> I haven't ever seen or heard anything like that being discussed
[18:14:48] <acrichto> eddyb: ah yeah I've also seen that before
[18:14:58] <acrichto> nul bytes have been leaking in to paths and such, so I suspect we have some memory corruption somewhere
[18:15:03] <acrichto> but I've only ever seen it during pretty priting?
[18:15:10] <eddyb> that's odd
[18:15:49] <simukis> acrichto: https://github.com/rust-lang/rust/issues/25555 should be closed too?
[18:16:03] <acrichto> simukis: ah yes I will do so
[18:18:10] *** Joins: arielb1 (Ariel@moz-6an0ej.red.bezeqint.net)
[18:21:14] <brson> > 1100 people in #rust now
[18:21:55] <eddyb> brson: what's the network's top?
[18:24:34] <brson> eddyb: #rust is always the biggest
[18:24:51] <brson> and has been for years!
[18:25:14] <eddyb> I wasn't sure if I imagined that :D
[18:32:32] *** Quits: graydon (graydon@moz-dose3e.dyn.novuscom.net) (A TLS packet with unexpected length was received.)
[18:33:14] <acrichto> brson: signing us up for the early access of better github perms in https://github.com/blog/2020-improved-organization-permissions
[18:34:40] <acrichto> what's the most valuable feature we could ask from github organizations?
[18:34:47] <acrichto> none of their canned ones seem all that useful for us
[18:37:22] <brson> acrichto: groups that can only tag issues
[18:38:09] *** Joins: graydon (graydon@moz-dose3e.dyn.novuscom.net)
[18:38:11] <sfackler> removing merge-into-master privileges would be nice as well
[18:38:22] <brson> ah yeah
[18:38:44] <acrichto> ah well
[18:38:46] <acrichto> too late now :(
[18:40:01] <XMPPwocky> their teams features seems unfortunately useless for Rust, because nearly everything (docs and all) is in one repo
[18:43:45] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Connection closed)
[18:44:10] *** Quits: aepsil0n (eduard@moz-gtoi2p.hsi8.kabel-badenwuerttemberg.de) (Connection closed)
[18:44:31] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[18:44:35] <Gankro> nrc: is https://github.com/rust-lang/rfcs/blob/master/text/0401-coercions.md exhaustive in terms of All Of The Coercions?
[18:45:22] <eddyb> Gankro: the DST stuff has been obsoleted
[18:47:40] <arielb1> eddyb: could you write an rfc for anonymized types?
[18:47:52] <eddyb> mmaybe
[18:48:03] <eddyb> I have more details on the design now that I had previously
[18:48:14] <eddyb> more than there are in the original RFC, at least for the features that I implemented
[18:49:22] <eddyb> arielb1: I really want to, but I'm not sure I'll get to it
[18:49:41] <arielb1> it kind of requires one
[18:49:52] <arielb1> especially for variance/parameter relevance
[18:50:13] *** Joins: capella-s3 (capella-s3@moz-vcqob4.res.rr.com)
[18:50:14] <eddyb> definitely
[18:50:34] <eddyb> arielb1: I don't even feel comfortable with opening a PR before there's a new RFC for it
[18:52:45] *** Joins: larhat1 (Adium@moz-vlo5br.cable.virginm.net)
[18:56:31] *** Joins: zmack (zmack@moz-qdq.e19.24.188.IP)
[18:57:46] *** Joins: morton (Mibbit@moz-g6k.oht.161.46.IP)
[18:59:35] <brson> what should the minimum post length on our forums be
[18:59:42] <brson> i have had enough of 20chars
[18:59:58] <XMPPwocky> too short or too long?
[19:00:02] <brson> it's too long
[19:00:04] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[19:00:07] *** chmanchester is now known as cmanchester|afk
[19:00:09] <brson> I post a lot of 'agree'
[19:00:14] <brson> maybe it's just me...
[19:00:20] <acrichto> brson: why not just 0?
[19:00:26] <acrichto> we don't seem to have much of a spam problem
[19:00:27] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[19:00:38] <brson> ok
[19:00:48] <eddyb> acrichto: don't jinx it :P
[19:00:52] <brson> I guess it could discourage '+1' floods
[19:01:07] <brson> maybe a limit of 3, just so nobody can ever say '+1'
[19:01:13] <brson> maybe we can blacklist that message
[19:01:14] <steveklabnik> hehe
[19:01:25] <eddyb> brson: everyone will then do :+1:
[19:01:35] <brson> ofc, *I* want to be able to say 'I agree' so I'm part of the problem
[19:01:50] *** Quits: dcb (dcb@moz-j72nfe.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[19:02:28] <brson> minimum length is 1 on both sites now
[19:05:50] <steveklabnik> https://github.com/rust-lang/rust/issues/26188 <- thoughts on this potential patch?
[19:06:21] *** Quits: mukilan (mukilan@moz-5ke.d4s.164.122.IP) (A TLS packet with unexpected length was received.)
[19:06:30] <eddyb> steveklabnik: +1 from me
[19:06:52] *** Quits: nham (nham@moz-lglsfe.il.comcast.net) (Quit: Lost terminal)
[19:07:03] <eddyb> old cruft has to be purged
[19:07:49] <XMPPwocky> should there be a lint for that?
[19:08:11] *** Quits: zmack (zmack@moz-qdq.e19.24.188.IP) (Connection closed)
[19:08:13] <eddyb> clippy will come with Rust 1.5. by that time it should have a GUI already
[19:08:46] <Manishearth> eddyb: ?
[19:08:53] <Manishearth> oh right yes I want a clippy gui
[19:09:06] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[19:09:06] <eddyb> I wasn't being serious :|
[19:09:18] *** Joins: nham (nham@moz-lglsfe.il.comcast.net)
[19:09:28] <Manishearth> eddyb: I was only half joking :P
[19:09:37] <eddyb> just commenting on the fact that we might acquire lints for everything (which isn't a bad thing, but we should consider some automation)
[19:09:42] *** Quits: harrisonclarke (harrisoncla@moz-g1kp2c.ns.bellaliant.net) (Connection closed)
[19:09:48] *** Joins: harrisonclarke (harrisoncla@moz-g1kp2c.ns.bellaliant.net)
[19:10:09] *** Joins: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP)
[19:13:43] *** Joins: grant (grant@moz-jfh.0nq.187.64.IP)
[19:14:48] *** Quits: larhat1 (Adium@moz-vlo5br.cable.virginm.net) (Quit: Leaving.)
[19:18:12] *** Joins: zmack (zmack@moz-qdq.e19.24.188.IP)
[19:18:56] *** Quits: Astrum|Lap (Astrum|Lap@moz-7enfbr.co.comcast.net) (Client exited)
[19:19:15] *** Quits: nham (nham@moz-lglsfe.il.comcast.net) (Quit: Lost terminal)
[19:19:59] *** Joins: Astrum|Lap (Astrum|Lap@moz-7enfbr.co.comcast.net)
[19:20:16] *** Quits: dinfuehr (dinfuehr@moz-qat0e8.highway.telekom.at) (Connection closed)
[19:20:37] *** Joins: dinfuehr (dinfuehr@moz-qat0e8.highway.telekom.at)
[19:21:07] *** Quits: dinfuehr (dinfuehr@moz-qat0e8.highway.telekom.at) (Connection closed)
[19:21:25] *** Joins: dinfuehr (dinfuehr@moz-qat0e8.highway.telekom.at)
[19:21:30] *** Joins: nham (nham@moz-lglsfe.il.comcast.net)
[19:22:57] *** Quits: zmack (zmack@moz-qdq.e19.24.188.IP) (Connection closed)
[19:24:03] <nham> I made a change to compiletest, and I'd like to see why it's causing some tests to fail. so I added a debug! statement to compiletest/runtest.rs and am trying to run `RUST_LOG=debug make check-stage1-rfail`, but this causes my computer to hang and then my X server to crash
[19:24:08] <nham> does anyone know what I'm doing wrong here?
[19:24:22] *** Quits: joneshf-laptop (joneshf@moz-l4h.b5s.208.98.IP) (Connection closed)
[19:24:29] <Manishearth> never, ever, *ever* run rustc with rust_log=debug
[19:24:57] <XMPPwocky> hey, it's a great stress-test for your terminal emulator, i guess
[19:24:58] <Manishearth> use rust_log=debug=crate::module::module
[19:25:19] <XMPPwocky> Manishearth: now how do you know what module to use
[19:25:27] *** Quits: dinfuehr (dinfuehr@moz-qat0e8.highway.telekom.at) (Ping timeout: 121 seconds)
[19:25:44] *** Joins: joneshf-laptop (joneshf@moz-l4h.b5s.208.98.IP)
[19:26:17] *** Quits: blank_na1e (blank_name@moz-p4egrb.mi.frontiernet.net) (Quit: leaving)
[19:26:44] <eddyb> isn't it the other way around?
[19:26:51] <eddyb> RUST_LOG=crate::module::module
[19:26:57] <eddyb> optionally =DEBUG at the end
[19:27:00] <sfackler> yeah
[19:27:38] <eddyb> (RUST_LOG=LEVEL where LEVEL is INFO, DEBUG, ERROR, WARN, etc. should also work but they're not recommended for the reasons above)
[19:27:41] <nham> Manishearth: woot, thanks `RUST_LOG=compiletest::runtest=debug make check-stage1-rfail` seems to do it
[19:27:51] <eddyb> besides, rustc uses mostly only debug
[19:29:46] *** Joins: avikpal_ (avikpal@moz-8ju.mb2.232.117.IP)
[19:29:48] *** Joins: untitaker_ (untitaker@moz-ibc87j.highway.telekom.at)
[19:30:12] *** Joins: blank_name (blank_name@moz-p4egrb.mi.frontiernet.net)
[19:30:56] *** cmanchester|afk is now known as chmanchester
[19:31:56] *** Joins: zmack (zmack@moz-qdq.e19.24.188.IP)
[19:32:06] *** Quits: untitaker (untitaker@moz-pe2hcg.highway.telekom.at) (Ping timeout: 121 seconds)
[19:32:23] *** Quits: avikpal (avikpal@moz-55l.imq.194.117.IP) (Ping timeout: 121 seconds)
[19:33:33] *** Joins: larhat1 (Adium@moz-vlo5br.cable.virginm.net)
[19:34:14] *** Quits: duesenfranz_ (jona@moz-711djm.tirol.surfer.at) (Ping timeout: 121 seconds)
[19:34:20] *** Joins: njn (chatzilla@moz-c6c476.iinet.net.au)
[19:35:58] *** Quits: zmack (zmack@moz-qdq.e19.24.188.IP) (Ping timeout: 121 seconds)
[19:39:06] *** Joins: bdero1 (bran@moz-nd2f6b.dyn.mit.edu)
[19:39:57] *** Quits: arielb1 (Ariel@moz-6an0ej.red.bezeqint.net) (Ping timeout: 121 seconds)
[19:41:18] *** Quits: bdero (bran@moz-e4f4ei.mit.edu) (Ping timeout: 121 seconds)
[19:42:14] *** Quits: _Vi (vi@moz-bbs.vhj.131.104.IP) (Ping timeout: 121 seconds)
[19:45:02] *** Quits: semarie (semarie@moz-9htnct.geoca.st) (A TLS packet with unexpected length was received.)
[19:45:10] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[19:46:19] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[19:49:18] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Connection closed)
[19:50:41] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[19:51:34] *** Joins: duesenfranz_ (jona@moz-711djm.tirol.surfer.at)
[19:57:08] *** Joins: mib_azl3mo (Mibbit@moz-hu6.nja.252.72.IP)
[19:59:17] *** Joins: Tuba (Tobba@moz-o13d22.bredband.telia.com)
[20:00:32] *** Joins: bombless_ (_@moz-uag.piv.41.59.IP)
[20:01:57] *** Joins: bombless (_@moz-8llccf.0v2u.0v40.0da8.2001.IP)
[20:02:13] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[20:04:41] *** Quits: bombless_ (_@moz-uag.piv.41.59.IP) (Ping timeout: 121 seconds)
[20:04:48] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Quit: ChatZilla 0.9.91.1 [Firefox 38.0.5/20150525141253])
[20:05:32] *** Joins: arielb1 (Ariel@moz-6an0ej.red.bezeqint.net)
[20:07:15] *** Quits: nicknikolov (nicknikolov@moz-dfo.nv2.121.2.IP) (Connection closed)
[20:08:07] *** Tuba is now known as Tobba
[20:08:18] *** Joins: nicknikolov (nicknikolov@moz-dfo.nv2.121.2.IP)
[20:09:36] *** Joins: aepsil0n (eduard@moz-6491ha.mv2h.pepi.8071.2a02.IP)
[20:09:38] *** Quits: grant (grant@moz-jfh.0nq.187.64.IP) (Client exited)
[20:09:47] *** Quits: aepsil0n (eduard@moz-6491ha.mv2h.pepi.8071.2a02.IP) (Quit: Leaving.)
[20:16:12] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[20:16:12] *** ChanServ sets mode: +ao erickt erickt
[20:20:19] *** Quits: nicknikolov (nicknikolov@moz-dfo.nv2.121.2.IP) (Connection closed)
[20:21:44] *** Quits: avikpal_ (avikpal@moz-8ju.mb2.232.117.IP) (Connection closed)
[20:22:09] *** Joins: dinfuehr (dinfuehr@moz-vgkuuv.highway.telekom.at)
[20:23:49] *** Quits: dinfuehr (dinfuehr@moz-vgkuuv.highway.telekom.at) (Connection closed)
[20:23:57] *** Joins: dinfuehr (dinfuehr@moz-vgkuuv.highway.telekom.at)
[20:26:01] *** Joins: Xirdus (Mibbit@moz-noa5ui.tvk.wroc.pl)
[20:27:37] <Xirdus> ive just had to remove "use module_a::*;" from module B so B can find C::foo and C find B::bar
[20:28:04] *** Quits: mib_azl3mo (Mibbit@moz-hu6.nja.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[20:28:04] *** Quits: dinfuehr (dinfuehr@moz-vgkuuv.highway.telekom.at) (Ping timeout: 121 seconds)
[20:28:15] <bluss> glob imports are known to be buggy, that specific one too
[20:28:36] <Xirdus> well, i stumbled upon this before many times
[20:28:47] <WindowsBunny> Hopefully one day someone will fix/rewrite the import system so that globs work perfectly, especially in recursive cases
[20:28:51] <Xirdus> but here i had no circular reference of any kind ._.
[20:29:13] <WindowsBunny> Because if I could have recursive glob imports, I would be absolutely ecstatic
[20:29:45] <bluss> well B -> C -> B is a cycle
[20:30:18] <Xirdus> i meant, A didnt import anything
[20:31:05] *** Joins: _Vi (vi@moz-bbs.vhj.131.104.IP)
[20:31:10] <Xirdus> ...except for C::Baz::*
[20:31:22] <Xirdus> where Baz is enum
[20:35:26] <Xirdus> at one point i even got ICE
[20:35:32] <Xirdus> but cannot reproduce it now
[20:35:56] <Xirdus> is there a work ongoing wrt. glob import?
[20:37:08] <sfackler> not as far as i know
[20:37:26] <sfackler> though the work will probably involve burning the resolve code to the ground and rewriting it
[20:38:38] *** Quits: bombless (_@moz-8llccf.0v2u.0v40.0da8.2001.IP) (Ping timeout: 121 seconds)
[20:42:36] <Xirdus> might be a good time to start contributing
[20:52:17] <Gankro> nrc: ping
[20:52:50] <Gankro> hmm... probably a bit too early
[20:54:11] *** Joins: nicknikolov (nicknikolov@moz-qg7.vka.123.2.IP)
[20:54:11] <nrc> Gankro: meeting, 10 mins?
[20:54:19] <Gankro> oh hey, sure!
[20:55:24] <eddyb> sfackler: not sure how that will help if we don't understand the problem :P
[21:03:07] <nrc> Gankro: pong
[21:03:33] <Gankro> nrc: Actually now I want a bit of extra time to better present my questions, give *me* 10 mins :P
[21:03:44] <nrc> sure :-)
[21:06:05] *** Joins: dcb (dcb@moz-j72nfe.ca.comcast.net)
[21:12:46] *** Quits: Xirdus (Mibbit@moz-noa5ui.tvk.wroc.pl) (Quit: http://www.mibbit.com ajax IRC Client)
[21:15:38] *** Quits: dcb (dcb@moz-j72nfe.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[21:20:12] *** Quits: jgallagher (john@moz-d5e8oc.hfc.comcastbusiness.net) (Client exited)
[21:24:42] *** Joins: dinfuehr (dinfuehr@moz-vgkuuv.highway.telekom.at)
[21:27:28] *** chmanchester is now known as chmanchester|afk
[21:28:10] *** Joins: dcb (dcb@moz-j72nfe.ca.comcast.net)
[21:28:46] *** Quits: dinfuehr (dinfuehr@moz-vgkuuv.highway.telekom.at) (Ping timeout: 121 seconds)
[21:29:21] *** Quits: erz (erz@moz-fiq1tl.broadband.corbina.ru) (Quit: My Mac has gone to sleep. ZZZzzz…)
[21:32:49] *** Quits: Rusky (russell@moz-guv0b7.slkc.qwest.net) (Ping timeout: 121 seconds)
[21:33:08] *** Quits: arielb1 (Ariel@moz-6an0ej.red.bezeqint.net) (Quit: Ex-Chat)
[21:35:57] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[21:36:46] *** Joins: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com)
[21:40:17] *** Quits: jethrogb (jethrob@moz-p2iedd.scintilla.utwente.nl) (Quit: Winners never quit.)
[21:41:04] *** Joins: snorr (snorredc@moz-8g9ina.cust.comxnet.dk)
[21:42:39] *** Joins: James_ (quassel@moz-8qs8a3.range86-148.btcentralplus.com)
[21:43:42] <SimonSapin> playbot: 0xFF as char
[21:43:43] -playbot- '\u{ff}'
[21:44:57] *** Joins: aatch (james@moz-is4j4r.cable.telstraclear.net)
[21:47:19] *** Joins: Rusky (russell@moz-per60o.slkc.qwest.net)
[21:55:32] *** Quits: eddyb (eddyb@moz-vpa.2f0.121.86.IP) (Ping timeout: 121 seconds)
[21:56:54] *** Quits: larhat1 (Adium@moz-vlo5br.cable.virginm.net) (Quit: Leaving.)
[21:57:20] *** Joins: Xirdus (Mibbit@moz-noa5ui.tvk.wroc.pl)
[21:58:21] <Xirdus> anyone has some tips on how to begin journey with rustc development? specifically, how to build it and later use it the way it wont conflict with the path rust?
[22:06:16] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[22:14:50] *** Quits: nicknikolov (nicknikolov@moz-qg7.vka.123.2.IP) (Connection closed)
[22:22:50] *** Joins: swgillespie (swgillespie@moz-o29.3un.220.167.IP)
[22:24:01] *** Quits: skeuomorf (skeuomorf@moz-3l1.21q.32.197.IP) (Ping timeout: 121 seconds)
[22:25:28] *** Joins: dinfuehr (dinfuehr@moz-vgkuuv.highway.telekom.at)
[22:29:35] *** Quits: dinfuehr (dinfuehr@moz-vgkuuv.highway.telekom.at) (Ping timeout: 121 seconds)
[22:31:00] *** Quits: koobs (koobs@moz-lu0tvm.internode.on.net) (Ping timeout: 121 seconds)
[22:31:35] *** Joins: larhat1 (Adium@moz-vlo5br.cable.virginm.net)
[22:35:58] *** Quits: Xirdus (Mibbit@moz-noa5ui.tvk.wroc.pl) (Quit: http://www.mibbit.com ajax IRC Client)
[22:37:08] *** Quits: bdero1 (bran@moz-nd2f6b.dyn.mit.edu) (Ping timeout: 121 seconds)
[22:38:51] *** Joins: elif (chatzilla@moz-ev8m1p.res.rr.com)
[22:39:08] <bstrie> if we're still bikeshedding `-> impl Trait` syntax, I wonder if it would look better as `-> yield Trait`
[22:39:14] <bstrie> just going over our list of keywords and pondering
[22:40:10] <brson> lol
[22:40:11] *** Quits: snorr (snorredc@moz-8g9ina.cust.comxnet.dk) (A TLS packet with unexpected length was received.)
[22:44:56] *** Joins: jethrogb (jethrob@moz-p2iedd.scintilla.utwente.nl)
[22:45:31] *** Joins: Quxxy (chatzilla@moz-0nv.jkp.167.59.IP)
[22:49:35] <WindowsBunny> I have a question, since -> impl Trait is basically type inference in the function signature
[22:50:10] <WindowsBunny> If fn foo() -> impl Blah { bar() } and fn bar() -> impl Blah { foo() }
[22:50:22] <huon> you presumably get an error
[22:50:24] *** Quits: swgillespie (swgillespie@moz-o29.3un.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[22:50:34] <WindowsBunny> I should hope I get a reasonable error from the compiler
[22:50:46] <huon> (that sort of thing is something the RFC will nail down)
[22:50:50] <WindowsBunny> and not an ICE or something obscure like "Blah does not impl Sized"
[22:51:13] *** Joins: swgillespie (swgillespie@moz-o29.3un.220.167.IP)
[22:52:00] <huon> there's no guarantees the error messages won't be of that form at least temporarily
[22:54:59] *** Quits: larhat1 (Adium@moz-vlo5br.cable.virginm.net) (Quit: Leaving.)
[22:55:51] *** Joins: brandonson (brandonson@moz-04bj5s.cs.ubc.ca)
[22:57:55] *** Quits: harrisonclarke (harrisoncla@moz-g1kp2c.ns.bellaliant.net) (Connection closed)
[22:58:34] <aturon> WindowsBunny: yeah, that's an error. and yes, good error messages here are going to be important.
[23:03:36] *** Quits: duesenfranz_ (jona@moz-711djm.tirol.surfer.at) (Client exited)
[23:09:06] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[23:11:08] *** Quits: swgillespie (swgillespie@moz-o29.3un.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[23:11:17] *** Joins: swgillespie (swgillespie@moz-o29.3un.220.167.IP)
[23:14:17] *** Quits: Astrum|Lap (Astrum|Lap@moz-7enfbr.co.comcast.net) (Client exited)
[23:21:46] *** Joins: bdero (bran@moz-lbs.91h.47.73.IP)
[23:23:40] <Tobba> WindowsBunny: "stack overflow"
[23:24:02] <Tobba> (extrapolating from how every similar situation is currently handled)
[23:24:27] <WindowsBunny> Tobba: :|
[23:26:13] *** Joins: dinfuehr (dinfuehr@moz-vgkuuv.highway.telekom.at)
[23:28:18] *** Quits: bdero (bran@moz-lbs.91h.47.73.IP) (Connection closed)
[23:28:28] *** Joins: bdero (bran@moz-0e2lk5.sns9.e6pb.0197.2601.IP)
[23:28:55] *** Joins: harrisonclarke (harrisoncla@moz-g1kp2c.ns.bellaliant.net)
[23:30:13] *** Quits: Jesin (Jesin@moz-6pufsn.eecs.lehigh.edu) (Ping timeout: 121 seconds)
[23:30:15] *** Quits: dinfuehr (dinfuehr@moz-vgkuuv.highway.telekom.at) (Ping timeout: 121 seconds)
[23:32:57] *** Quits: harrisonclarke (harrisoncla@moz-g1kp2c.ns.bellaliant.net) (Ping timeout: 121 seconds)
[23:34:42] *** Quits: bjz (bjz@moz-puppgq.tpgi.com.au) (Quit: My Mac has gone to sleep. ZZZzzz…)
[23:35:49] *** Joins: harrisonclarke (harrisoncla@moz-g1kp2c.ns.bellaliant.net)
[23:37:29] *** Joins: bjz (bjz@moz-puppgq.tpgi.com.au)
[23:38:49] *** Quits: bjz (bjz@moz-puppgq.tpgi.com.au) (Quit: My Mac has gone to sleep. ZZZzzz…)
[23:39:18] *** Quits: harrisonclarke (harrisoncla@moz-g1kp2c.ns.bellaliant.net) (Connection closed)
[23:42:37] *** Quits: Rym (uid91135@moz-n2i7qm.charlton.irccloud.com) (Quit: Connection closed for inactivity)
[23:42:54] *** chmanchester|afk is now known as chmanchester
[23:43:40] *** Joins: jgallagher (john@moz-6ge.dhn.131.24.IP)
[23:43:47] <swgillespie> are there any tests for the driver?
[23:44:53] <sfackler> swgillespie: if there were they'd probably be in run-make
[23:45:00] <swgillespie> sfackler: thanks!
[23:45:07] *** Joins: Jesin (Jesin@moz-6pufsn.eecs.lehigh.edu)
[23:52:18] *** Quits: swgillespie (swgillespie@moz-o29.3un.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[23:52:24] *** Joins: swgillespie (swgillespie@moz-o29.3un.220.167.IP)
[23:56:22] *** Quits: jgallagher (john@moz-6ge.dhn.131.24.IP) (Ping timeout: 121 seconds)
[23:57:36] *** Joins: Kingsquee (kingsley@moz-3fm07c.bchsia.telus.net)
[23:58:21] *** Joins: jgallagher (john@moz-6ge.dhn.131.24.IP)
