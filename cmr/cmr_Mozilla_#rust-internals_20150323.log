[00:00:24] *** Joins: dcb (textual@moz-j72nfe.ca.comcast.net)
[00:07:38] *** Joins: jethrogb (jethrob@moz-p2iedd.scintilla.utwente.nl)
[00:09:54] *** Parts: mib_jz4epx (Mibbit@moz-b11uqs.dynamic.upc.nl) ()
[00:11:23] *** Joins: theme (theme@moz-i3mhhb.asianet.co.th)
[00:14:36] *** Quits: jethrogb (jethrob@moz-p2iedd.scintilla.utwente.nl) (Quit: Winners never quit.)
[00:16:57] *** Joins: Skyler (Skyler@moz-e93b35.sd.cox.net)
[00:19:04] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[00:19:12] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[00:19:51] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[00:20:14] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[00:21:18] <theme> So what is the current status of the trusted iterator problem?
[00:21:19] <theme> http://internals.rust-lang.org/t/the-trusted-iterator-length-problem/1302/28
[00:22:06] *** Quits: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[00:22:59] <theme> huon, nmatsakis, ping
[00:23:52] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[00:26:22] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz‚Ä¶)
[00:28:37] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[00:29:43] *** Joins: Rym (y@moz-vsu.f6d.55.31.IP)
[00:31:53] *** Joins: jethrogb (jethrob@moz-p2iedd.scintilla.utwente.nl)
[00:32:16] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz‚Ä¶)
[00:33:06] *** Quits: arrrrrrrrr (arrrrrrrrs@moz-ps014g.dynamic.qsc.de) (Ping timeout: 121 seconds)
[00:33:25] <reem> theme: https://github.com/rust-lang/rust/pull/23452 landed, so the problem with not just using an unsafe method is gone.
[00:33:29] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[00:33:40] *** Quits: jethrogb (jethrob@moz-p2iedd.scintilla.utwente.nl) (Quit: Winners never quit.)
[00:34:16] <theme> reem, That is one of the reasons I asked
[00:35:38] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz‚Ä¶)
[00:35:47] <huon> theme: pong
[00:36:24] <theme> huon, about the trusted iterator length thing
[00:36:56] <theme> do you think the unsafe exact_size() solution is ready for an RFC?
[00:37:06] <theme> I suspect that an associated constant is better
[00:37:38] <huon> why?
[00:38:20] <theme> huon, why do you think it *shouldn't* be a constant?
[00:38:43] <huon> it's not clear to me how associated constants work in generic contexts
[00:38:51] *** Quits: bleibig (bleibig@moz-btk.gm4.170.73.IP) (Connection closed)
[00:39:32] <theme> eh?
[00:39:50] *** Joins: bleibig (bleibig@moz-btk.gm4.170.73.IP)
[00:40:01] *** nrc|afk is now known as nrc
[00:40:41] <theme> huon, and for the comparisons thing
[00:40:54] <theme> huon, where do you intend to put the is_correct() method?
[00:41:04] *** Joins: marsel (user@moz-tjk.bk3.180.94.IP)
[00:41:55] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[00:42:36] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[00:45:45] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz‚Ä¶)
[00:46:49] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[00:47:34] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[00:51:04] <theme> Is the iterator's unsafe method ready for an RFC?
[00:52:34] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[00:54:45] *** Joins: jdm (jdm@moz-ilbt2e.cable.teksavvy.com)
[00:55:42] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz‚Ä¶)
[00:58:02] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[01:01:10] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz‚Ä¶)
[01:06:33] <reem> it's not pressing
[01:07:33] <theme> it's backwards compatible?
[01:07:43] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[01:09:28] *** Joins: jethrogb (jethrob@moz-p2iedd.scintilla.utwente.nl)
[01:10:21] *** Quits: jethrogb (jethrob@moz-p2iedd.scintilla.utwente.nl) (Quit: Winners never quit.)
[01:10:52] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz‚Ä¶)
[01:11:37] <nrc> Gankro, carllerche: I believe you two were interested in a Rope? I have a repo with string utilities including an unbalanced rope at https://github.com/nrc/strings.rs. Feedback welcome! (I don't think it is ready for putting on crates.io yet, but it is a start)
[01:13:06] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[01:14:45] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz‚Ä¶)
[01:19:11] *** Quits: KokaKiwi (kokakiwi@moz-cagds5.kokakiwi.net) (Connection closed)
[01:20:44] *** Joins: KokaKiwi (kokakiwi@moz-cagds5.kokakiwi.net)
[01:22:22] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[01:22:29] *** Joins: mib_mabolb (Mibbit@moz-juv.9o3.252.72.IP)
[01:22:46] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[01:22:54] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[01:24:52] *** Quits: mib_mabolb (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[01:25:46] *** Quits: jmitchell (jmitchell@moz-o8p.pug.156.104.IP) (Ping timeout: 121 seconds)
[01:25:54] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz‚Ä¶)
[01:33:55] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[01:41:05] *** Joins: jethrogb (jethrob@moz-p2iedd.scintilla.utwente.nl)
[01:43:56] *** Quits: jethrogb (jethrob@moz-p2iedd.scintilla.utwente.nl) (Quit: Winners never quit.)
[01:50:27] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz‚Ä¶)
[01:52:38] <carllerche> nrc: I will look when I get home. I implemented a rope with balancing in the bytes repo
[01:52:55] <carllerche> but just for u8, no encoding a
[02:00:32] <carllerche> nrc: https://github.com/carllerche/bytes/blob/master/src/rope.rs
[02:02:31] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[02:06:35] <nrc> nice!
[02:06:37] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[02:07:52] *** Joins: jethrogb (jethrob@moz-p2iedd.scintilla.utwente.nl)
[02:07:56] *** Quits: jethrogb (jethrob@moz-p2iedd.scintilla.utwente.nl) (Quit: Winners never quit.)
[02:09:12] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz‚Ä¶)
[02:09:44] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[02:18:56] *** Joins: mystor (mystor@moz-ldavpp.home3.cgocable.net)
[02:19:29] <bstrie> acrichto: remind me, why *did* rust change from dynamic-linking by default to static?
[02:20:02] <bstrie> was it to support the extended LTO that we never actually use because it takes forever?
[02:20:44] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz‚Ä¶)
[02:22:56] *** Joins: jethrogb (jethrob@moz-p2iedd.scintilla.utwente.nl)
[02:24:30] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[02:24:41] *** Quits: newbie (eibwen@moz-a8u4d3.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[02:25:15] *** Joins: adu (ajr@moz-0foa9t.md.comcast.net)
[02:26:38] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz‚Ä¶)
[02:27:29] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[02:27:44] <huon> bstrie: static linking works better with ABI instability
[02:28:26] <huon> (at least, dynamic linking is annoying with ABI instability)
[02:29:07] <bstrie> that sounds like a good reason
[02:30:39] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz‚Ä¶)
[02:32:05] *** Joins: _zxq9_ (ceverett@moz-qsm369.mesh.ad.jp)
[02:39:32] *** Quits: dcb (textual@moz-j72nfe.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz‚Ä¶)
[02:56:10] <huon> nrc: am I doing something wrong? https://github.com/rust-lang/rust/issues/23628#issuecomment-84764408
[02:56:47] <nrc> huon: doesn't look like it - aturon was having problems too last week, seems to be intermittent
[02:57:02] <nrc> I added a whole bunch of extra logging, let me see if anything interesting turned up...
[02:58:14] <nrc> but it did work for me earlier today
[02:58:38] <huon> I don't think I've ever tried to use triage: ... before, fwiw.
[02:58:57] <huon> (may or may not be relevant)
[02:59:01] <reem> is `triage:` available for non-r+-ers?
[02:59:05] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[02:59:52] <nrc> reem: no
[03:00:05] <nrc> in fact its restricted more than that
[03:00:06] <reem> ;(
[03:00:11] <reem> I see
[03:00:25] <nrc> basically to those at the triage meeting
[03:01:14] <reem> Whenever I do triage I always feel like I'm not actually accomplishing anything since I can't close or label issues
[03:01:47] <nrc> huon: it's basically not showing up in my logs at all. Could you check GH please and see if the hook sent properly and what the reply from my server was?
[03:02:19] <reem> might be interesting to have a separate bot that gives limited privileges to everyone who's ever had a PR merged or something that allows adding certain labels and nominating an issue for closing, which would tag an r+-er like highfive.
[03:02:22] <nrc> reem: the traige tool is more for the 1.0 triaging that we do in the traige meetings rather than more general triaging that you and others do
[03:02:33] <nrc> yeah
[03:02:40] <nrc> I was thinking we should do soemthing like that
[03:02:42] <huon> nrc: 200 "Success? processed new comment"
[03:02:57] <huon> with some line breaks in the middle
[03:03:24] <nrc> probably more restricted than anyone ever, but larger than the r+ group
[03:03:33] <nrc> huon: hmm, weird, thanks
[03:03:36] <huon> reem: you're free to ping this channel for closing/tagging (in case you didn't realise)
[03:04:09] <reem> huon: Ya but taking an email with 10 issues and sticking them all here seems like I've accomplished even less :)
[03:04:16] *** Joins: minzh (minzh@moz-u8rq5v.citrix.com)
[03:04:49] <reem> nrc: Ya, I just picked PR merged as a random metric.
[03:09:51] *** Quits: _zxq9_ (ceverett@moz-qsm369.mesh.ad.jp) (Quit: Konversation terminated!)
[03:09:53] <nrc> huon: could you resend the hook from GH please?
[03:19:23] *** Joins: gsingh93 (gulshan@moz-3fu4am.mi.comcast.net)
[03:22:20] *** Joins: jmitchell (jmitchell@moz-o8p.pug.156.104.IP)
[03:25:08] *** Quits: Kxepal (Miranda@moz-s2os05.pppoe.mtu-net.ru) (Ping timeout: 121 seconds)
[03:25:20] *** Joins: kimundi_ (kimundi@moz-rl5lt8.dip0.t-ipconnect.de)
[03:26:21] *** Quits: Johannes (Johannes@moz-4et8d7.ocn.ne.jp) (Ping timeout: 121 seconds)
[03:27:28] *** Joins: Kxepal (Miranda@moz-hj3bnl.pppoe.mtu-net.ru)
[03:28:51] *** Quits: kimundi (kimundi@moz-l9a7he.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[03:28:51] *** kimundi_ is now known as kimundi
[03:29:49] *** Joins: kushal (kdas@moz-q865c4.202.sitibroadband.in)
[03:33:09] <steveklabnik> reem: you can always ping me with issues to assign and i will
[03:33:11] <steveklabnik> if that's helpful
[03:33:27] <steveklabnik> i know that's not as satisfactory as just doing it, from experience :/
[03:34:10] *** Quits: marsel (user@moz-tjk.bk3.180.94.IP) (Ping timeout: 121 seconds)
[03:34:21] *** kimundi is now known as zz_kimundi
[03:38:47] *** Joins: garming (garming@moz-pqd1u2.xtra.co.nz)
[03:39:21] *** Quits: Rym (y@moz-vsu.f6d.55.31.IP) (Connection closed)
[03:39:58] *** Joins: Rym (y@moz-vsu.f6d.55.31.IP)
[03:41:11] *** zz_kimundi is now known as kimundi
[03:57:58] <huon> nrc: done
[03:59:04] <nrc> huon: thanks
[03:59:19] <nrc> at least this time Iit shows up in my logs, not very useful info though
[04:00:45] <nrc> actually
[04:00:51] <nrc> huon: could you send again please?
[04:04:02] <huon> nrc: done
[04:04:16] *** Quits: scott (uid25790@moz-e5ok1n.brockwell.irccloud.com) (Quit: Connection closed for inactivity)
[04:04:19] <nrc> \o/
[04:04:23] <nrc> worked that time
[04:04:40] <nrc> I had a bug with a funny async/callback thing
[04:04:44] * nrc blames node.js
[04:05:05] <nrc> huon: let me know if you notice it not working again
[04:09:58] *** Joins: semarie (semarie@moz-g00ato.abo.wanadoo.fr)
[04:11:25] <Gankro> nrc: I actually honestly have no idea what a "real" rope implementation looks like; I just know there's like a million different ways to "theoretically" do it. Got any recommended literature?
[04:12:14] <nrc> Gankro: no, no idea either - I think the hard bit is getting the balancing right and there are lots of different ways to do that
[04:12:21] <nrc> larsberg knows a lot about it
[04:12:39] <XMPPwocky> gap buffers are surprisingly good in practice
[04:14:15] <Gankro> nrc: Also yeah I guess usecase is kinda important for evaluation
[04:15:03] *** Joins: marsel (user@moz-tjk.bk3.180.94.IP)
[04:27:06] <ChrisMorgan> Why exactly do we not have `a += b` implemented truly as sugar for `a = a + b` yet? Since we shifted to by-value operators, I really can‚Äôt think of any reason for not having it as such simple sugar; there‚Äôs no longer any need for special augmented assignment operators.
[04:29:45] <Yurume> ChrisMorgan: risking the compatibility when the compound assignment becomes possible?
[04:29:50] <Yurume> I'm not sure though
[04:30:06] <ChrisMorgan> Yurume: compound assignment?
[04:30:22] <nrc> maybe just priorities?
[04:30:50] <Yurume> ChrisMorgan: I think that's the name for op=
[04:31:27] <ChrisMorgan> Yurume: yeah, it goes by various names, I just don‚Äôt recall having heard it called that before‚Äîaugmented assignment is the main name I know it by.
[04:31:42] <ChrisMorgan> Yurume: anyway, what do you mean, ‚Äúwhen it becomes possible‚Äù?
[04:31:57] <ChrisMorgan> I‚Äôm presenting the case that we should simply make it possible by doing this, as trivial sugar.
[04:33:10] <ChrisMorgan> We now have https://github.com/rust-lang/rfcs/pull/953 proposed which seems to me superfluous.
[04:34:37] <Yurume> ChrisMorgan: wait, are you for *not* making a separate trait or method for `+=`?
[04:35:07] <Yurume> or do you mean that any additional overloading for `+=` can be introduced without risking the backward compatibility?
[04:35:23] <Yurume> (which was my original point, but I was not very sure if it is indeed the case)
[04:36:07] <reem> ChrisMorgan: See the first comment on the RFC :)
[04:36:51] <ChrisMorgan> Oh yeah, I had forgotten about the DST side of things.
[04:36:57] <Yurume> and also bignums.
[04:37:24] <reem> I think the idea is you could += on T through an &mut T
[04:42:08] *** Quits: marsel (user@moz-tjk.bk3.180.94.IP) (Ping timeout: 121 seconds)
[04:43:36] *** Quits: jdm (jdm@moz-ilbt2e.cable.teksavvy.com) (Quit: )
[04:55:03] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Quit: It's a joke, it's all a joke.)
[04:56:29] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[04:59:21] <acrichto> sfackler: pushed
[04:59:28] <acrichto> steveklabnik: now I am!
[05:00:07] <acrichto> bstrie: the benefits of dynamic linking aren't currently outweighed by the costs for Rust's usage model right now, and in general it's more robust to statically link for Rut's current use case
[05:04:19] <XMPPwocky> Is there any reason not to use -static-libgcc?
[05:04:33] <klutzy> XMPPwocky: on win32?
[05:04:42] <XMPPwocky> right
[05:05:48] <klutzy> afaik static libgcc breaks unwinding mechanism beyond dll/exe boundaries
[05:06:32] <XMPPwocky> okay, but if i'm not using any dynamic linking, it should work?
[05:06:54] <klutzy> I guess so
[05:07:07] <XMPPwocky> neat
[05:07:25] <klutzy> well, I only know there is a problem, don't know if there are more :p
[05:07:45] <XMPPwocky> too late, now when things break it's your faults :P
[05:08:00] <klutzy> heh
[05:08:17] <klutzy> XMPPwocky: btw on win64 we does -static-libgcc
[05:08:30] <XMPPwocky> aha!
[05:08:38] <XMPPwocky> that's what i was missing
[05:08:45] <XMPPwocky> my old binaries worked on other people's machines
[05:08:57] <XMPPwocky> that must be why, they were built 64-bit
[05:10:32] *** Quits: minzh (minzh@moz-u8rq5v.citrix.com) (A TLS packet with unexpected length was received.)
[05:11:21] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[05:20:30] *** Quits: kmcguire (kmcguire@moz-c955nf.res.rr.com) (Ping timeout: 121 seconds)
[05:23:24] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Connection closed)
[05:28:16] *** Quits: adu (ajr@moz-0foa9t.md.comcast.net) (Client exited)
[05:32:56] *** Quits: sprang (sprang@moz-skdqur.hfc.comcastbusiness.net) (Ping timeout: 121 seconds)
[05:33:08] *** Joins: Rusky1 (russell@moz-2a17lj.slkc.qwest.net)
[05:34:13] *** Quits: Rusky (russell@moz-2a17lj.slkc.qwest.net) (Ping timeout: 121 seconds)
[05:35:05] *** Joins: sprang (sprang@moz-skdqur.hfc.comcastbusiness.net)
[05:37:30] *** Quits: theme (theme@moz-i3mhhb.asianet.co.th) (Quit: Leaving)
[05:37:44] *** Quits: O01eg (o01eg@moz-9qo7oc.ltb0.4n8f.2698.2a02.IP) (Client exited)
[05:41:12] *** Joins: minzh (minzh@moz-u8rq5v.citrix.com)
[05:48:20] *** Joins: reem (reem@moz-61svef.coob.q2h1.0009.2601.IP)
[05:49:28] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[05:56:46] *** Joins: scott (uid25790@moz-e5ok1n.brockwell.irccloud.com)
[05:58:23] *** Joins: det- (chris@moz-da97an.lv.cox.net)
[05:59:05] *** Quits: det (chris@moz-2pbdg1.lv.cox.net) (Ping timeout: 121 seconds)
[06:07:31] <tjakubow> urgh... rustdoc sorely needs to be updated to the namespaced enums world
[06:12:26] *** Joins: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se)
[06:17:08] <nrc> tjakubow: are you the hero that Rustdoc needs?
[06:17:14] <nrc> :-)
[06:20:13] *** Joins: bjz (bjz@moz-b43.1aa.161.202.IP)
[06:20:14] *** Quits: gsingh93 (gulshan@moz-3fu4am.mi.comcast.net) (Ping timeout: 121 seconds)
[06:25:00] *** Quits: reem (reem@moz-61svef.coob.q2h1.0009.2601.IP) (Connection closed)
[06:25:27] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[06:26:00] *** Joins: dcb (textual@moz-j72nfe.ca.comcast.net)
[06:29:31] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Ping timeout: 121 seconds)
[06:33:12] *** Joins: gsingh93 (gulshan@moz-3fu4am.mi.comcast.net)
[06:34:54] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[06:35:15] *** Joins: simukis (nagisa@moz-pol184.mif.vu.lt)
[06:35:23] *** Quits: hoverbear (hoverbear@moz-csaicn.gv.shawcable.net) (Quit: Time to hibernate.... ZzZz...)
[06:36:19] *** Quits: bjz (bjz@moz-b43.1aa.161.202.IP) (Quit: My Mac has gone to sleep. ZZZzzz‚Ä¶)
[06:39:38] *** Quits: simukis (nagisa@moz-pol184.mif.vu.lt) (Ping timeout: 121 seconds)
[06:41:21] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[06:42:04] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[06:42:43] *** Joins: simukis (nagisa@moz-pol184.mif.vu.lt)
[06:43:21] <tjakubow> huh, does libstd not ever use core::array ?
[06:46:38] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[06:49:30] <Mutabah> tjakubow: core::array is just the trait impls for arrays
[06:49:55] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[06:51:32] <tjakubow> I see
[06:51:43] <tjakubow>  those trait impls are never documented in libstd then :)
[06:51:46] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[06:53:13] <tjakubow> or actually, nvm, they probably are
[06:54:56] *** Quits: sprang (sprang@moz-skdqur.hfc.comcastbusiness.net) (Ping timeout: 121 seconds)
[06:56:17] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[06:58:50] *** Quits: jmitchell (jmitchell@moz-o8p.pug.156.104.IP) (Ping timeout: 121 seconds)
[07:05:19] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[07:05:19] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[07:05:20] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[07:10:38] *** Joins: dinfuehr (dinfuehr@moz-c25.u8s.112.91.IP)
[07:10:38] *** Quits: dinfuehr (dinfuehr@moz-c25.u8s.112.91.IP) (Connection closed)
[07:10:42] *** Joins: dinfuehr (dinfuehr@moz-c25.u8s.112.91.IP)
[07:10:52] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[07:13:57] *** Quits: simukis (nagisa@moz-pol184.mif.vu.lt) (Client exited)
[07:20:24] *** Joins: arrrrrrrrr (arrrrrrrrs@moz-ps014g.dynamic.qsc.de)
[07:21:22] *** Joins: marsel (user@moz-rvs.end.162.188.IP)
[07:25:58] *** Quits: gsingh93 (gulshan@moz-3fu4am.mi.comcast.net) (Ping timeout: 121 seconds)
[07:29:10] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[07:31:37] <bstrie> "The Rust garbage collector is not used in this project" we really need to update sprocketnes for 1.0...
[07:36:13] *** Quits: Rym (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[07:36:45] *** Joins: bjz (bjz@moz-4l6.mjm.52.113.IP)
[07:37:05] *** Joins: squiddy (squiddy@moz-md4.pm3.19.178.IP)
[07:37:19] *** Quits: dcb (textual@moz-j72nfe.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz‚Ä¶)
[07:38:23] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[07:40:06] *** Joins: simukis (nagisa@moz-pol184.mif.vu.lt)
[07:41:31] *** Quits: Kxepal (Miranda@moz-hj3bnl.pppoe.mtu-net.ru) (Ping timeout: 121 seconds)
[07:42:03] *** Quits: bkearns (Adium@moz-1kbdt7.ca.comcast.net) (Quit: Leaving.)
[07:42:49] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[07:42:49] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[07:42:50] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[07:47:01] *** Quits: simukis (nagisa@moz-pol184.mif.vu.lt) (Ping timeout: 121 seconds)
[07:50:38] *** Joins: simukis (nagisa@moz-pol184.mif.vu.lt)
[07:50:41] *** Quits: bjz (bjz@moz-4l6.mjm.52.113.IP) (Ping timeout: 121 seconds)
[07:51:17] *** Quits: simukis (nagisa@moz-pol184.mif.vu.lt) (Client exited)
[07:51:39] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[07:56:24] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[07:58:45] *** Joins: simukis (nagisa@moz-pol184.mif.vu.lt)
[07:58:53] *** Quits: bfops (uid58242@moz-e5u6m0.charlton.irccloud.com) (Quit: Connection closed for inactivity)
[07:59:02] *** Quits: simukis (nagisa@moz-pol184.mif.vu.lt) (Client exited)
[08:00:48] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Ping timeout: 121 seconds)
[08:01:09] *** Joins: reem (reem@moz-9o70fr.coob.q2h1.0009.2601.IP)
[08:02:31] *** Joins: ptalbot (ptalbot@moz-g2mokk.ircam.fr)
[08:09:04] *** Joins: killercup (killercup@moz-edmf2j.dip0.t-ipconnect.de)
[08:16:47] *** Joins: bjz (bjz@moz-puppgq.tpgi.com.au)
[08:18:33] *** Joins: Rym (y@moz-vsu.f6d.55.31.IP)
[08:18:49] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[08:23:03] *** Quits: Rym (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[08:26:52] *** Joins: munksgaard (munksgaard@moz-33d.hq0.225.130.IP)
[08:35:13] *** Joins: zmack (zmack@moz-sar.aat.233.213.IP)
[08:35:51] *** Joins: mitsuhiko (mitsuhiko-m@moz-dcduic.srv.pocoo.org)
[08:43:39] *** Quits: dinfuehr (dinfuehr@moz-c25.u8s.112.91.IP) (Ping timeout: 121 seconds)
[08:46:07] *** Joins: eibwen (eibwen@moz-rfa4i7.dip0.t-ipconnect.de)
[08:47:23] *** Quits: njn (chatzilla@moz-mv909v.iinet.net.au) (Quit: ChatZilla 0.9.91.1 [Firefox 39.0a1/20150322151316])
[08:48:56] *** Quits: zmack (zmack@moz-sar.aat.233.213.IP) (Connection closed)
[08:52:11] *** Quits: jethrogb (jethrob@moz-p2iedd.scintilla.utwente.nl) (Ping timeout: 121 seconds)
[08:53:14] *** Joins: zmack (zmack@moz-sar.aat.233.213.IP)
[08:55:53] *** Joins: dinfuehr (dinfuehr@moz-c25.u8s.112.91.IP)
[09:00:03] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Client exited)
[09:12:15] *** Joins: laumann (thomas@moz-vj4.hq0.225.130.IP)
[09:12:42] *** Joins: Rym (y@moz-vsu.f6d.55.31.IP)
[09:15:14] *** Joins: Tobba|Laptop (Tobba@moz-1hh.7ki.21.217.IP)
[09:16:13] *** Joins: larhat (Adium@moz-8v4.af0.232.213.IP)
[09:17:12] *** Quits: Rym (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[09:20:02] *** Joins: imperio (Mibbit@moz-psdrik.rev.sfr.net)
[09:25:35] *** Quits: reem (reem@moz-9o70fr.coob.q2h1.0009.2601.IP) (Connection closed)
[09:25:56] *** Joins: reem (reem@moz-9o70fr.coob.q2h1.0009.2601.IP)
[09:28:06] *** Joins: canhtak (canhtak@moz-kcs.u0t.149.5.IP)
[09:29:42] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[09:33:10] *** Quits: nrc (nrc@moz-4bhi2i.xtra.co.nz) (Ping timeout: 121 seconds)
[09:33:45] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Ping timeout: 121 seconds)
[09:38:35] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[09:42:24] *** Quits: kushal (kdas@moz-q865c4.202.sitibroadband.in) (Ping timeout: 121 seconds)
[09:43:59] *** Quits: Florob (Florob@moz-je09t8.de) (Ping timeout: 121 seconds)
[09:44:13] *** Quits: martin (martin@moz-bmp33l.u0v6.gff7.1608.2001.IP) (Ping timeout: 121 seconds)
[09:45:14] *** Quits: summerlight (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[09:47:59] *** Joins: martin (martin@moz-9td.bol.200.84.IP)
[09:48:29] *** Quits: killercup (killercup@moz-edmf2j.dip0.t-ipconnect.de) (Quit: My Mac has gone to sleep. ZZZzzz‚Ä¶)
[09:48:45] *** Quits: ebfull (ebfull@moz-2hf06a.co.comcast.net) (Connection closed)
[09:49:34] *** Joins: killercup (killercup@moz-edmf2j.dip0.t-ipconnect.de)
[09:51:48] *** Quits: reem (reem@moz-9o70fr.coob.q2h1.0009.2601.IP) (Connection closed)
[09:53:05] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[09:53:05] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[09:53:06] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[09:54:37] *** Quits: Tobba|Laptop (Tobba@moz-1hh.7ki.21.217.IP) (Connection closed)
[09:54:48] *** Joins: Tobba|Laptop (Tobba@moz-1hh.7ki.21.217.IP)
[09:56:41] *** Joins: Florob (Florob@moz-je09t8.de)
[10:06:52] *** Joins: Rym (y@moz-vsu.f6d.55.31.IP)
[10:10:20] *** kimundi is now known as zz_kimundi
[10:10:46] *** Joins: jethrogb (jethrob@moz-p2iedd.scintilla.utwente.nl)
[10:11:24] *** Quits: Rym (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[10:11:36] *** zz_kimundi is now known as kimundi
[10:12:20] *** Quits: minzh (minzh@moz-u8rq5v.citrix.com) (A TLS packet with unexpected length was received.)
[10:18:30] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[10:23:46] *** Quits: larhat (Adium@moz-8v4.af0.232.213.IP) (Quit: Leaving.)
[10:25:13] *** Joins: larhat (Adium@moz-8v4.af0.232.213.IP)
[10:26:45] *** Quits: marsel (user@moz-rvs.end.162.188.IP) (Ping timeout: 121 seconds)
[10:26:53] *** Quits: laumann (thomas@moz-vj4.hq0.225.130.IP) (Ping timeout: 121 seconds)
[10:27:47] *** Joins: ytain (ytain@moz-44k.q8p.140.24.IP)
[10:33:24] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[10:36:38] <arrrrrrrrr> what does it mean for a module to enclose a type?
[10:37:17] *** Joins: laumann (thomas@moz-vj4.hq0.225.130.IP)
[10:37:53] *** Joins: nodweber_ (nodweber@moz-knt.fgq.178.5.IP)
[10:39:37] *** Quits: nodweber_ (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[10:42:05] *** Joins: kmcguire_ (kmcguire@moz-pg1gb9.biz.rr.com)
[10:42:19] <imperio> arrrrrrrrr: For me it's like creating an enum with const values
[10:42:29] <imperio> example : mod Value {
[10:42:39] <imperio> never mind, I open a rust editor
[10:43:59] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[10:47:17] <imperio> arrrrrrrrr: I was thinking about something like that : http://is.gd/JBQ6zs
[10:47:54] <arrrrrrrrr> nmatsakis: what does it mean for a module to enclose a type?
[10:52:10] *** Quits: larhat (Adium@moz-8v4.af0.232.213.IP) (Quit: Leaving.)
[10:53:33] *** Joins: larhat (Adium@moz-8v4.af0.232.213.IP)
[10:54:41] *** Quits: laumann (thomas@moz-vj4.hq0.225.130.IP) (Ping timeout: 121 seconds)
[10:54:42] *** Joins: laumann (thomas@moz-vj4.hq0.225.130.IP)
[10:55:29] <imperio> I feel like a ghost sometimes...
[10:56:19] <arrrrrrrrr> I need something more than "for me it's like this"
[10:57:15] <imperio> arrrrrrrrr: a notification would have been better. I'll wait the answer too.
[10:57:22] *** Joins: _zxq9_ (ceverett@moz-qsm369.mesh.ad.jp)
[11:01:00] *** Joins: Rym (y@moz-vsu.f6d.55.31.IP)
[11:01:08] <kimundi> arrrrrrrrr: Do you have more context to that question?
[11:01:33] <arrrrrrrrr> https://github.com/rust-lang/rust/issues/22261#issuecomment-78204761
[11:03:19] *** Joins: zmack_ (zmack@moz-htpein.home.aster.pl)
[11:03:30] *** Quits: dinfuehr (dinfuehr@moz-c25.u8s.112.91.IP) (Connection closed)
[11:03:51] *** Joins: dinfuehr (dinfuehr@moz-c25.u8s.112.91.IP)
[11:05:32] *** Quits: Rym (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[11:05:36] *** Quits: jethrogb (jethrob@moz-p2iedd.scintilla.utwente.nl) (Quit: Winners never quit.)
[11:06:25] *** Quits: zmack (zmack@moz-sar.aat.233.213.IP) (Ping timeout: 121 seconds)
[11:08:03] *** Quits: dinfuehr (dinfuehr@moz-c25.u8s.112.91.IP) (Ping timeout: 121 seconds)
[11:10:46] <steveklabnik> acrichto: wooo. was working with tjakubow last night on the remaining primitive pages
[11:10:55] <kimundi> arrrrrrrrr: Hm, staring at that for 5 minutes did not help - no idea what exactly is meant either. I'm guessing that with "enclosing module" is meant that the type is defined in any submodule of that module, but not sure
[11:11:52] <steveklabnik> acrichto: apparently he got https://github.com/rust-lang/rust/pull/23633 working :)
[11:12:57] <imperio> kimundi: that's what I was thinking too
[11:13:08] *** Joins: summerlight (summerlight@moz-99k.2mj.130.121.IP)
[11:26:19] <mrmonday> is it possible to access the rest of the AST when implementing a Decorator? I need to lookup an item other than the one I'm decorating
[11:27:17] *** Quits: killercup (killercup@moz-edmf2j.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[11:28:26] *** Quits: canhtak (canhtak@moz-kcs.u0t.149.5.IP) (Client exited)
[11:33:38] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[11:35:16] *** Joins: killercu_ (killercup@moz-edmf2j.dip0.t-ipconnect.de)
[11:35:28] *** Quits: burntsushi (burntsushi@moz-t92kn9.ma.charter.com) (Ping timeout: 121 seconds)
[11:35:42] *** Joins: burntsushi (burntsushi@moz-t92kn9.ma.charter.com)
[11:44:53] *** Quits: killercu_ (killercup@moz-edmf2j.dip0.t-ipconnect.de) (Quit: My Mac has gone to sleep. ZZZzzz‚Ä¶)
[11:47:48] <arrrrrrrrr> rusti: #[repr(u8)]struct _X { _a: u32 }
[11:47:50] -playbot- ()
[11:47:52] <arrrrrrrrr> literally wat
[11:49:22] *** Joins: jethrogb (jethrob@moz-p2iedd.scintilla.utwente.nl)
[11:49:23] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[11:55:11] *** Joins: Rym (y@moz-vsu.f6d.55.31.IP)
[11:59:42] *** Quits: Rym (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[12:01:18] <kimundi> yay ignore-on-fail
[12:07:48] *** Joins: sprang (sprang@moz-skdqur.hfc.comcastbusiness.net)
[12:16:40] *** Joins: kushal (kdas@moz-s3u5m7.202.sitibroadband.in)
[12:19:08] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[12:21:28] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[12:28:21] *** Joins: killercup (killercup@moz-edmf2j.dip0.t-ipconnect.de)
[12:43:01] *** Joins: pnkfelix (pnkfelix@moz-je0.a5j.80.81.IP)
[12:43:01] *** ChanServ sets mode: +o pnkfelix
[12:43:27] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[12:49:20] *** Joins: Rym (y@moz-vsu.f6d.55.31.IP)
[12:51:54] *** Quits: jethrogb (jethrob@moz-p2iedd.scintilla.utwente.nl) (Ping timeout: 121 seconds)
[12:53:52] *** Quits: Rym (y@moz-vsu.f6d.55.31.IP) (Ping timeout: 121 seconds)
[12:54:01] <mrmonday> what's the right way of handling importing things in decorators? if I have multiple items marked as #[foo] and generate a use ...; statement, the compiler will complain about multiple symbols with the same name
[12:55:02] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[12:55:30] <mrmonday> I tried using fully qualified symbols, I seem to recall that not working though
[13:01:34] <mrmonday> huh, seems to be working now, guess I was doing something funky before
[13:02:40] *** Quits: sprang (sprang@moz-skdqur.hfc.comcastbusiness.net) (Ping timeout: 121 seconds)
[13:09:23] *** Quits: Tobba|Laptop (Tobba@moz-1hh.7ki.21.217.IP) (Ping timeout: 121 seconds)
[13:16:15] *** Joins: jethrogb (jethrob@moz-p2iedd.scintilla.utwente.nl)
[13:18:53] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[13:22:07] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[13:22:37] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[13:22:57] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Ping timeout: 121 seconds)
[13:26:03] *** Joins: nodweber_ (nodweber@moz-knt.fgq.178.5.IP)
[13:26:44] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Ping timeout: 121 seconds)
[13:32:45] *** Joins: Tobba|Laptop (Tobba@moz-1hh.7ki.21.217.IP)
[13:35:11] *** Joins: canhtak (canhtak@moz-kcs.u0t.149.5.IP)
[13:43:30] *** Joins: Rym (y@moz-vsu.f6d.55.31.IP)
[13:58:17] *** Quits: rovar (rovar@moz-m2j7h0.dyn.optonline.net) (Connection closed)
[14:09:59] *** Quits: Tobba|Laptop (Tobba@moz-1hh.7ki.21.217.IP) (Connection closed)
[14:21:18] *** Joins: evanfarrar (evanfarrar@moz-7vs.bl6.251.207.IP)
[14:24:27] *** Joins: WindowsBunny1 (Peter@moz-7f2st1.east.verizon.net)
[14:24:55] *** Quits: WindowsBunny (Peter@moz-gv8vtu.east.verizon.net) (Ping timeout: 121 seconds)
[14:25:02] *** Joins: rovar (rovar@moz-m2j7h0.dyn.optonline.net)
[14:27:19] *** Joins: alexchandel (Adium@moz-c7iqq1.sub-174-251-128.myvzw.com)
[14:29:46] *** Quits: kushal (kdas@moz-s3u5m7.202.sitibroadband.in) (Ping timeout: 121 seconds)
[14:33:08] *** Quits: garming (garming@moz-pqd1u2.xtra.co.nz) (Ping timeout: 121 seconds)
[14:40:19] *** Quits: untitaker (untitaker@moz-ae93uo.highway.telekom.at) (Ping timeout: 121 seconds)
[14:43:03] *** Joins: kushal (kdas@moz-s3u5m7.202.sitibroadband.in)
[14:44:52] *** Quits: lu324 (lu324___@moz-3v8ljg.dhcp.embarqhsd.net) (Quit: Leaving)
[14:45:00] *** Quits: alexchandel (Adium@moz-c7iqq1.sub-174-251-128.myvzw.com) (Quit: Leaving.)
[14:45:49] *** Joins: untitaker (untitaker@moz-afka6q.highway.telekom.at)
[14:46:59] *** Quits: pnkfelix (pnkfelix@moz-je0.a5j.80.81.IP) (Ping timeout: 121 seconds)
[14:52:16] *** Joins: pnkfelix (pnkfelix@moz-je0.a5j.80.81.IP)
[14:52:17] *** ChanServ sets mode: +o pnkfelix
[14:53:03] *** Quits: jethrogb (jethrob@moz-p2iedd.scintilla.utwente.nl) (Ping timeout: 121 seconds)
[14:58:46] *** Joins: lu324 (lu324___@moz-3v8ljg.dhcp.embarqhsd.net)
[14:58:47] <simukis> acrichto: SYN
[14:59:51] *** Joins: pauls (pauls@moz-e5p333.ccs.neu.edu)
[15:01:24] *** Joins: jmitchell (jmitchell@moz-o8p.pug.156.104.IP)
[15:02:52] *** Joins: jethrogb (jethrob@moz-p2iedd.scintilla.utwente.nl)
[15:06:13] *** Quits: kushal (kdas@moz-s3u5m7.202.sitibroadband.in) (Quit: Leaving)
[15:06:18] *** Joins: kushal (kdas@moz-s3u5m7.202.sitibroadband.in)
[15:13:00] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[15:14:17] *** Joins: jdm (jdm@moz-ilbt2e.cable.teksavvy.com)
[15:16:26] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[15:19:00] *** Quits: nodweber_ (nodweber@moz-knt.fgq.178.5.IP) (Ping timeout: 121 seconds)
[15:25:19] *** Quits: kushal (kdas@moz-s3u5m7.202.sitibroadband.in) (Ping timeout: 121 seconds)
[15:30:49] <simukis> wait, no openbsd snapshots?
[15:35:55] *** jdm is now known as Ms3ger
[15:36:19] *** Joins: alexchandel (Adium@moz-lgsu1i.hfc.comcastbusiness.net)
[15:38:06] *** Joins: O01eg (o01eg@moz-spb2m1.tap7.4n8f.2698.2a02.IP)
[15:38:16] *** Joins: kushal (kdas@moz-s3u5m7.202.sitibroadband.in)
[15:46:37] *** Ms3ger is now known as jdm
[15:54:02] *** Quits: laumann (thomas@moz-vj4.hq0.225.130.IP) (Ping timeout: 121 seconds)
[15:58:37] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Client exited)
[16:10:12] *** Quits: imperio (Mibbit@moz-psdrik.rev.sfr.net) (Quit: http://www.mibbit.com ajax IRC Client)
[16:10:14] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[16:11:33] *** Joins: Tuba (Tobba@moz-o13d22.bredband.telia.com)
[16:11:53] *** Quits: pnkfelix (pnkfelix@moz-je0.a5j.80.81.IP) (Quit: rcirc on GNU Emacs 24.3.92.1)
[16:14:32] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[16:16:41] <acrichto> simukis: hm, do I pong that? I need to read up more on TCP...
[16:16:43] <acrichto> steveklabnik: nice!
[16:17:44] *** Quits: squiddy (squiddy@moz-md4.pm3.19.178.IP) (Quit: Leaving)
[16:18:26] <steveklabnik> acrichto: does that patch look good to you? is that how we'd extend it for the other ones?
[16:18:32] <steveklabnik> we have like five things that need primitive pages
[16:18:56] <acrichto> steveklabnik: ah haven't had a chance to peek just yet, but should do so soon!
[16:19:07] <steveklabnik> cool, i'll leave it to you
[16:19:34] <steveklabnik> nmatsakis: ping! https://github.com/rust-lang/rust/pull/23285
[16:23:00] *** Joins: scialex (scialex@moz-if7.du5.16.138.IP)
[16:24:38] *** Quits: kushal (kdas@moz-s3u5m7.202.sitibroadband.in) (Quit: Leaving)
[16:30:23] *** Joins: Astrum|Lap (Astrum|Lap@moz-7enfbr.co.comcast.net)
[16:31:11] *** Joins: pcwalton (pcwalton@moz-u92.384.6.71.IP)
[16:31:11] *** ChanServ sets mode: +o pcwalton
[16:33:50] *** Joins: dcb (textual@moz-j72nfe.ca.comcast.net)
[16:37:15] *** Quits: pcwalton (pcwalton@moz-u92.384.6.71.IP) (Connection closed)
[16:37:21] *** Joins: pcwalton (pcwalton@moz-u92.384.6.71.IP)
[16:37:21] *** ChanServ sets mode: +o pcwalton
[16:39:09] *** Joins: Kxepal (Miranda@moz-hj3bnl.pppoe.mtu-net.ru)
[16:40:43] *** Tuba is now known as Tobba
[16:41:19] *** Quits: summerlight (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[16:43:24] *** Joins: Florob_ (Florob@moz-je09t8.de)
[16:43:39] *** Quits: Florob_ (Florob@moz-je09t8.de) (Quit: leaving)
[16:48:47] <arrrrrrrrr> acrichto: gh23607 r?
[16:48:47] <[o__o]> Derive missing trait implementations for cursor: https://github.com/rust-lang/rust/pull/23607
[16:49:16] <acrichto> arrrrrrrrr: can you add a comment to the PR as well? I personally work better with something in my inbox (easy to lose track of IRC messages)
[16:51:21] *** Quits: munksgaard (munksgaard@moz-33d.hq0.225.130.IP) (Ping timeout: 121 seconds)
[16:52:14] *** Quits: pcwalton (pcwalton@moz-u92.384.6.71.IP) (Client exited)
[16:55:59] *** Joins: marsel (user@moz-6n3.f56.180.94.IP)
[16:56:34] *** Parts: marsel (user@moz-6n3.f56.180.94.IP) ("ERC Version 5.3 (IRC client for Emacs)")
[16:57:08] *** Joins: marsel (user@moz-6n3.f56.180.94.IP)
[17:00:07] <arrrrrrrrr> >After 1.0 is released, future 1.x releases will be backwards compatible, meaning that existing code will continue to compile unmodified 
[17:00:09] <arrrrrrrrr> as if
[17:00:22] <arrrrrrrrr> >(modulo compiler bugs, of course).
[17:00:24] <arrrrrrrrr> of course
[17:01:11] <arrrrrrrrr> >This is very exciting, because any library we can write, you can write too.
[17:01:19] <arrrrrrrrr> wow, it's like you're trying to make me angry
[17:01:30] <arrrrrrrrr> so much disinfo in that post
[17:02:41] *** Quits: mystor (mystor@moz-ldavpp.home3.cgocable.net) (Connection closed)
[17:03:38] *** Joins: brson (brson@moz-cfhap5.mtv2.mozilla.com)
[17:03:38] *** ChanServ sets mode: +o brson
[17:04:18] *** Quits: rovar (rovar@moz-m2j7h0.dyn.optonline.net) (Ping timeout: 121 seconds)
[17:08:36] *** Joins: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net)
[17:08:36] *** ChanServ sets mode: +o pcwalton
[17:08:51] <eddyb> arrrrrrrrr: what post?
[17:08:59] <arrrrrrrrr> http://blog.rust-lang.org/2014/09/15/Rust-1.0.html
[17:10:52] *** Joins: c0170 (c0170@moz-4stj9o.cable.virginm.net)
[17:12:30] <brson> I think i need to focus on getting my feature gating patch landed https://github.com/rust-lang/rust/pull/23598
[17:13:15] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[17:16:27] <simukis> acrichto: oh, yes, you ACK it üòâ my question has evolved into a patch in the meantime, though
[17:17:02] *** Joins: w66745 (Mibbit@moz-b11uqs.dynamic.upc.nl)
[17:22:40] <brson> acrichto: acrichto r?https://github.com/rust-lang/rust/pull/23283
[17:22:44] <brson> acrcichto
[17:22:47] <brson> acrichto
[17:23:01] *** Quits: Murarth (Murarth@moz-mpmr8r.phnx.qwest.net) (Quit: brb, washing the cat)
[17:23:29] <Eridius> relative_from breaks with two absolute paths? But why? that was the primary use-case!
[17:23:34] *** Joins: Murarth (Murarth@moz-fbf.78t.166.46.IP)
[17:23:58] *** Joins: rovar (rovar@moz-m2j7h0.dyn.optonline.net)
[17:24:14] <brson> Eridius: indeed. the usefulness of the current incarnation is in doubt
[17:24:19] <Eridius> oh, symlinks
[17:24:55] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[17:25:55] *** Joins: dinfuehr (dinfuehr@moz-m49h9q.public.t-mobile.at)
[17:27:06] <simukis> normalise :: Path ‚Üí NormalisedPath; relative_from :: NormalisedPath ‚Üí NormalisedPath ‚Üí NormalisedPath;
[17:27:09] <simukis> the fix is easy
[17:27:23] <Eridius> or just have two methods?
[17:27:52] <Eridius> the problem isn't normalization, it's whether the filesystem has been tested for symlinks
[17:28:53] <Eridius> that said, relative_path made more sense back when Path always normalized, because the whole idea was if you add the result to the first path, you get the second path
[17:30:47] *** Quits: dinfuehr (dinfuehr@moz-m49h9q.public.t-mobile.at) (Connection closed)
[17:31:19] *** Quits: {-}grant ({0}grant@moz-fctpaa.mo.charter.com) (Ping timeout: 121 seconds)
[17:33:24] *** Quits: ptalbot (ptalbot@moz-g2mokk.ircam.fr) (Ping timeout: 121 seconds)
[17:35:46] *** Quits: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net) (Client exited)
[17:41:23] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[17:44:51] *** Quits: marsel (user@moz-6n3.f56.180.94.IP) (Ping timeout: 121 seconds)
[17:46:37] <simukis> after all this freebsd is more thought out than openbsd IMO
[17:50:21] *** Joins: imperio (Mibbit@moz-8otf3a.fbx.proxad.net)
[17:51:53] *** Joins: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net)
[17:51:53] *** ChanServ sets mode: +o pcwalton
[17:52:01] *** Quits: Murarth (Murarth@moz-fbf.78t.166.46.IP) (Quit: Mani Mani is always Mani Mani at Mani Mani with all Mani Mani Mani)
[17:52:25] *** Joins: Murarth (Murarth@moz-mpmr8r.phnx.qwest.net)
[17:53:51] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Quit: leaving)
[17:55:31] *** Joins: mystor (mystor@moz-ldavpp.home3.cgocable.net)
[17:56:52] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[17:57:14] *** Joins: gsingh93 (gulshan@moz-3fu4am.mi.comcast.net)
[17:57:38] *** Joins: erickt_ (erickt@moz-4hh.6p3.217.74.IP)
[18:00:59] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[18:01:13] <vadimcn> brson: r? https://github.com/rust-lang/rust-packaging/pull/23
[18:03:32] *** Quits: jmitchell (jmitchell@moz-o8p.pug.156.104.IP) (Ping timeout: 121 seconds)
[18:03:44] <acrichto> sfackler: could you publish a new version of rust-postgres for the bump in the byteorder version?
[18:04:32] <sfackler> acrichto: yeah
[18:07:11] *** Joins: jmitchell (jmitchell@moz-o8p.pug.156.104.IP)
[18:07:56] *** Quits: erickt_ (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[18:08:29] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[18:08:39] <sfackler> acrichto: done
[18:08:53] <acrichto> sfackler: thanks!
[18:11:31] *** Quits: larhat (Adium@moz-8v4.af0.232.213.IP) (Quit: Leaving.)
[18:13:19] *** Joins: jxv (jxv___@moz-qneod7.pk6i.d98i.030a.2602.IP)
[18:14:09] *** Quits: jmitchell (jmitchell@moz-o8p.pug.156.104.IP) (Ping timeout: 121 seconds)
[18:17:48] *** Joins: minzh (minzh@moz-vrp.b70.39.106.IP)
[18:19:27] *** Joins: jmitchell (jmitchell@moz-o8p.pug.156.104.IP)
[18:23:40] *** Joins: hoverbear (hoverbear@moz-82h62u.wireless.uvic.ca)
[18:24:11] *** Quits: jmitchell (jmitchell@moz-o8p.pug.156.104.IP) (Ping timeout: 121 seconds)
[18:25:02] <brson> vadimcn: thanks for pinging me. merged
[18:30:54] *** Quits: minzh (minzh@moz-vrp.b70.39.106.IP) (Connection closed)
[18:47:51] <kmc> who should I talk to about the future of middle::cfg and middle::dataflow
[18:51:36] <cmr> kmc: pnkfelix has been driving most of that work iirc
[18:54:14] <imperio> acrichto: sorry if I didn't explain well my thinking. I waasn't saying it didn't exist, just that I couldn't figure out a case where it would be and I was very curious about such a thing !
[18:55:35] <eddyb> kmc: aatch also worked in that area "recently" - but we haven't seen him around
[18:56:03] <eddyb> (for a month? two? I'm not sure)
[18:57:47] *** Quits: dcb (textual@moz-j72nfe.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz‚Ä¶)
[18:59:02] <semarie> simukis: does you experiment with openbsd successed ?
[18:59:45] <simukis> semarie: sadly. while I managed to go past buidling LLVM, there‚Äôs no snapshots for openbsd
[18:59:52] <simukis> or I don‚Äôt know where they are
[19:00:36] <semarie> no official snapshot, but openbsd-wip provide one
[19:00:42] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[19:01:47] <semarie> simukis: it is not exactly a snapshot (in rust sens): http://semarie.free.fr/rust/rust-stage0-0.0.0.20150317.c64d671-openbsd-amd64.tar.gz
[19:02:20] <semarie> it is a rustc-stage3 with system libraries
[19:02:23] <simukis> semarie: I decided to not bother too much with it, so there‚Äôs that.
[19:02:40] <simukis> I already spent way too much time on this
[19:03:28] <semarie> ok, I understand. it will be more easy when rustc will be in ports : pkg_add rustc will be enought for installing rustc :)
[19:03:43] *** Joins: sigma (sigma@moz-ohog4c.range86-135.btcentralplus.com)
[19:04:08] <simukis> semarie: the thing is that I want to build my own branch rather than just install rust
[19:04:18] <semarie> (but I have some work to finish before, as respecting lib*.so convention for naming)
[19:04:46] <semarie> yes, but as rustc is build with rustc, you need a rustc from somewhere first :)
[19:05:18] <simukis> ah, right, --system-rustc cfg option would work, yes.
[19:05:39] <semarie> my dev host use the package builded from openbsd-wip, and I build master regulary
[19:07:29] *** Joins: dinfuehr (dinfuehr@moz-4pfs7r.highway.telekom.at)
[19:08:37] *** Joins: ptalbot (ptalbot@moz-j4gnuh.fbx.proxad.net)
[19:10:12] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[19:20:27] *** bstrie changes topic to 'SEVEN DAYS TO BETA | https://botbot.me/mozilla/rust-internals | https://buildbot.rust-lang.org/homu/queue/rust | see also #rustc and #rust-libs'
[19:20:47] <arrrrrrrrr> SEVEN? I thought it was <= 19
[19:21:25] <bstrie> improvements to our tools have increased the accuracy of our measurements
[19:21:33] <arrrrrrrrr> impressive
[19:22:30] <bstrie> our margin of error is +- 1 DAYS
[19:23:26] <steveklabnik> playbot: SEVEN + 1 DAYS
[19:23:27] -playbot- <anon>:14:19: 14:23 error: expected one of `.`, `;`, `}`, or an operator, found `DAYS`
[19:23:27] -playbot- <anon>:14         SEVEN + 1 DAYS
[19:23:27] -playbot- output truncated; full output at: http://bit.ly/1boGJlZ
[19:23:29] <steveklabnik> haha
[19:23:32] <steveklabnik> i forgot it was here
[19:23:37] <steveklabnik> i was trying to make a 'type mismatch' joke
[19:24:19] *** Quits: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net) (Client exited)
[19:34:02] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[19:34:42] <Manishearth> steveklabnik: acrichto: I might not be able to do the rollup after this one
[19:34:49] <steveklabnik> Manishearth: cool, i will get on it
[19:34:52] <Manishearth> awesome
[19:34:52] <steveklabnik> no worries <3
[19:34:55] <steveklabnik> thanks for doing so many already
[19:34:59] <Manishearth> (this hasn't merged yet, so we should stil lwait)
[19:35:01] <Manishearth> np
[19:35:03] <steveklabnik> yeah totally
[19:35:06] <steveklabnik> i've been watching
[19:35:25] <Manishearth> queue is huge, and I'm busy for most of tomorrow 
[19:35:34] <steveklabnik> yeah it's another ~10 prs
[19:35:58] <steveklabnik> thanks for mentioning it though, i would have wanted to do it but wouldn't have wanted to step on your toes :)
[19:35:59] <Manishearth> if it was a small queue I could just kick off a build and go about my business but with such a large one there are bound to be errors
[19:36:22] <Manishearth> steveklabnik: feel free to initiate rollups -- just check the rollup branch on my repo if I have something in progress
[19:36:28] <steveklabnik> :+1:
[19:39:15] *** Joins: nrc (nrc@moz-4bhi2i.xtra.co.nz)
[19:39:15] *** ChanServ sets mode: +o nrc
[19:45:03] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[19:45:08] <brson> what is the date people are expecting the beta to be released?
[19:45:24] <cmr> brson: Mar 31
[19:45:24] <steveklabnik> well we said the 31st in the blog post
[19:45:30] <steveklabnik> which is a tuesday, not a friday, which is the full 6 weeks
[19:45:45] *** cmr changes topic to 'SEVEN DAYS TO BETA http://blog.rust-lang.org/2015/02/13/Final-1.0-timeline.html | https://botbot.me/mozilla/rust-internals | https://buildbot.rust-lang.org/homu/queue/rust | see also #rustc and #rust-libs'
[19:45:55] <apoelstra> hip hip hooray!
[19:47:38] *** Quits: zmack_ (zmack@moz-htpein.home.aster.pl) (Connection closed)
[19:49:38] *** Quits: hoverbear (hoverbear@moz-82h62u.wireless.uvic.ca) (Quit: Time to hibernate.... ZzZz...)
[19:52:21] *** Joins: ecr (chatzilla@moz-lbb.gon.175.205.IP)
[19:52:36] <reem> oh goodness
[19:52:58] <reem> aturon: ping
[19:53:49] *** Quits: mystor (mystor@moz-ldavpp.home3.cgocable.net) (Connection closed)
[19:57:49] <Manishearth> wait, Mar 31?
[19:57:53] <Manishearth> yay
[19:59:11] <ecr> I guess it's a good time to see what's changed in Rust while I was off working on Patina
[19:59:25] <reem> What's the status of the file_path feature gate? Is it probably going to be stabilized or probably going to be removed?
[19:59:32] <eddyb> ecr: Patina? that sounds familiar
[19:59:43] <ecr> eddyb: the Rust formal model
[19:59:50] <eddyb> ecr: oh!
[20:04:08] <eddyb> ecr: I guess associated types and closures. depends how long ago you stopped tracking it
[20:04:46] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[20:06:08] <ecr> eddyb: I think I stopped following it day-to-day about a year ago. I kept up with TWIR, but I didn't have the time to go into the details of things.
[20:06:15] *** Joins: dcb (textual@moz-j72nfe.ca.comcast.net)
[20:06:39] <ecr> But now I do!
[20:07:32] <aturon> reem: pong
[20:08:28] *** Joins: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net)
[20:08:28] *** ChanServ sets mode: +o pnkfelix
[20:08:28] <reem> aturon: I take it now is a better time for me to dig in to iron and figure out all the unstable things and such we and deps still use?
[20:08:46] <reem> (considering 1 week to beta and all)
[20:09:23] *** Joins: eerie (eerie@moz-nu5r7u.red.bezeqint.net)
[20:09:55] <pnkfelix> is homu ill?
[20:10:42] <pnkfelix> in particular I find these interactions worrisome: https://github.com/rust-lang/rust/pull/23536#issuecomment-85170961
[20:10:48] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[20:11:26] <aturon> reem: yes please :)
[20:11:44] <tiffany> does rustc use llvm.lifetime.[start,end]?
[20:11:51] <aturon> reem: i was planning to make an announcement last week, but my final stabilization PRs have been bouncing
[20:12:20] *** Quits: dinfuehr (dinfuehr@moz-4pfs7r.highway.telekom.at) (Connection closed)
[20:12:23] <cmr> tiffany: I don't think we currently do, because it's massively slow and inflates memory usage a lot.
[20:12:30] <cmr> tiffany: doener implemented it at some point.
[20:12:30] <reem> Cool. I just did iron proper and all we need is std::error::Error for core and std::fs::File::path for file_path
[20:12:35] <tiffany> oh
[20:12:44] <reem> dependencies will be a little harsher I think
[20:13:23] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[20:13:33] <aturon> reem: that's not bad at all :) 
[20:13:37] <ecr> oh wow, those lifetime elision rules are neat
[20:14:38] <reem> Also test the crate is unstable
[20:14:52] <reem> aturon: I'm just gonna compile a list and ping you when I'm done
[20:15:14] <aturon> reem: sounds good. re: test crate, acrichto, you might want to write a little FAQ or something about that
[20:15:54] <acrichto> reem: for the test crate, are you just using the benchmarking infrastructure?
[20:16:14] <reem> tests and benchmarks
[20:16:26] <acrichto> what do you use it in tests for?
[20:16:28] <reem> normal use
[20:16:30] <acrichto> benchmarks are known to be unstable
[20:16:36] <reem> iron, hyper.. everything
[20:17:10] *** Quits: ytain (ytain@moz-44k.q8p.140.24.IP) (Quit: Textual IRC Client: www.textualapp.com)
[20:17:11] <acrichto> oh I mean what do you use out of the test crate?
[20:17:18] <acrichto> you should not have to link to libtest for unit tests
[20:17:30] <reem> Oh I see
[20:17:48] <reem> bencharking then
[20:17:52] <reem> benchmarking*
[20:18:04] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[20:18:57] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[20:19:39] *** Quits: bjz (bjz@moz-puppgq.tpgi.com.au) (Quit: My Mac has gone to sleep. ZZZzzz‚Ä¶)
[20:20:48] <acrichto> ok, it's not currently planned for benchmarking to be stable at 1.0
[20:20:50] <reem> achernya: sorry, dropped for a sec
[20:20:50] <reem> acrichto*
[20:21:10] <acrichto> this is a known aspect of libtest though
[20:21:15] <acrichto> er, 
[20:21:16] <acrichto> 13:20 <@acrichto> ok, it's not currently planned for benchmarking to be stable at 1.0
[20:21:33] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[20:22:04] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[20:22:39] <cmr> acrichto: that's somewhat annoying/surprising, given the utility of the feature. will it be available in some form on crates.io, or should I start porting stuff to criterion.rs or something.
[20:23:10] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[20:23:10] *** ChanServ sets mode: +o pcwalton
[20:23:21] <nrc> pnkfelix: I'm looking at your example from playpen and it is giving me an error on my branch, but not one I was expecting
[20:23:29] <nrc> or understand
[20:23:35] <pnkfelix> nrc: hmm
[20:23:48] <nrc> I've removed the `as BoxFn` cast, because that should work by coercion now
[20:23:51] <pnkfelix> nrc: well we can reduce the example down to something smaller
[20:24:05] <acrichto> cmr: yeah it's definitely useful, and we do want it stable, but it seems much less important for tests/benchmarks to be running on stable rust than it does for libraries themselves
[20:24:06] <nrc> and now I get: the trait `Place<F/FnSpace.0,BP<core::ops::Fn<(),Output=()> + '_#5r>>` is not implemented for the type `BP<core::ops::Fn<(),Output=()> + '_#5r>`
[20:24:14] <cmr> acrichto: definitely.
[20:24:18] <pnkfelix> nrc: whoa
[20:24:18] <acrichto> cmr: e.g. if running benchmarks requires a nightly to run the benchmark framework that's not necessarily the end of the world
[20:24:24] <acrichto> cmr: but we hope to stabilize soon!
[20:24:28] <pnkfelix> nrc: (maybe move to #rustc ?)
[20:24:32] <nrc> pnkfelix: right
[20:24:33] <eddyb> nrc: how does that read without -v?
[20:24:34] <nrc> sure
[20:24:37] <cmr> acrichto: I think it's still a PR issue.
[20:25:10] <eddyb> playbot: let x: &Clone = &0; // cc nmatsakis
[20:25:11] -playbot- <anon>:14:25: 14:27 error: cannot convert to a trait object because trait `core::clone::Clone` is not object-safe [E0038]
[20:25:11] -playbot- <anon>:14         let x: &Clone = &0; // cc nmatsakis
[20:25:11] -playbot- output truncated; full output at: http://bit.ly/1CRUg1x
[20:25:22] <eddyb> nmatsakis: ^^ that would turn into a type mismatch
[20:25:27] <acrichto> cmr: true
[20:25:35] <eddyb> nmatsakis: is that acceptable?
[20:27:01] <reem> aturon: Tagged you in a meta-issue in iron. I'm linking issues in dependencies and extensions into that one.
[20:27:04] <nmatsakis> eddyb: are you just asking me about the error message usability?
[20:27:22] <aturon> reem: awesome, thanks for doing this :)
[20:27:31] <nmatsakis> eddyb: hmm interesting question; it'd be nice if it were the same
[20:27:55] <eddyb> nmatsakis: T: Unsafe<NonObjectSafeTrait> would never match
[20:28:27] *** Quits: canhtak (canhtak@moz-kcs.u0t.149.5.IP) (Client exited)
[20:30:21] *** Joins: mystor_ (mystor@moz-5cj.r78.15.130.IP)
[20:32:00] *** Joins: dinfuehr (dinfuehr@moz-4pfs7r.highway.telekom.at)
[20:32:36] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[20:35:53] <Eridius> ugh, do I really have to say &b"foo"[..] now?
[20:36:06] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Connection closed)
[20:36:21] <arrrrrrrrr> b-b-but fixed size byte strings was an essential feature
[20:36:36] <arrrrrrrrr> who doesn't need those daily
[20:36:50] <Eridius> I can't even say &b"foo" and rely on deref conversion because it doesn't work in this case (providing an argument to a generic function that takes IntoBytes)
[20:36:56] <Eridius> CString::new(&b"foo"[..]) >_<
[20:36:58] *** Quits: mystor_ (mystor@moz-5cj.r78.15.130.IP) (Connection closed)
[20:37:18] <Eridius> I guess I could say CString::from_slice() instead but that's not really any better
[20:37:22] <acrichto> Eridius: you don't need the byte strings for that specifically
[20:37:27] <acrichto> CString::new("foo") should work
[20:37:33] <eddyb> Eridius: bound-targeting coercions wanted (cc nmatsakis)
[20:37:37] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[20:38:06] <Eridius> acrichto: you're right, this particular bit of code doesn't actually need that. I think the bytestring comes from the old way it was doing FFI
[20:39:45] *** Joins: eerie_ (eerie@moz-nu5r7u.red.bezeqint.net)
[20:42:04] <seanmonstar> acrichto: a thought i had to stabilize benchmarks for 1.0: change #[bench] functions to not take a Bencher, but instead to return a Fn
[20:42:27] *** Quits: eerie (eerie@moz-nu5r7u.red.bezeqint.net) (Ping timeout: 121 seconds)
[20:42:47] <acrichto> seanmonstar: hm interesting! definitely a possibility yeah
[20:42:53] <acrichto> seanmonstar: you'd lose the ability to get the MB/s output though
[20:43:02] <seanmonstar> hmm true
[20:43:21] <seanmonstar> but once test::Bencher is stable, it could be added in
[20:43:32] *** Quits: dinfuehr (dinfuehr@moz-4pfs7r.highway.telekom.at) (Connection closed)
[20:44:00] <seanmonstar> with a default impl of Bench on Fn, and an easy Bench::new(Fn, bytes) or something
[20:45:18] <acrichto> hm perhaps yeah
[20:46:09] <seanmonstar> want an rfc?
[20:46:31] <seanmonstar> or is that not necessary since its unstable and non-std?
[20:46:49] <aturon> seanmonstar: that's an interesting idea :)
[20:46:52] <reem> seanmonstar: except we can't return closures
[20:46:59] <seanmonstar> sure we can
[20:47:06] <seanmonstar> move || {}
[20:47:14] <reem> what's the type of the fn which returns that?
[20:47:22] <seanmonstar> Fn
[20:47:38] <reem> I'm saying you cannot write an fn item with a type which allows it to return a closure
[20:47:49] <reem> ooooh you mean Fn the trait object
[20:47:51] <aturon> (without boxing)
[20:47:54] <seanmonstar> yes
[20:48:17] <reem> What if I don't want the overhead of a virtual call for each run of my benchmark?
[20:48:29] <cmr> I would imagine #[test] would wrap the function in a fn harness() { fn decorated() { .. } some_internal_stuff(decorated) }
[20:48:56] <seanmonstar> why most it be boxed?
[20:48:59] <seanmonstar> must*
[20:49:19] <cmr> seanmonstar: you can't return an unboxed trait, and you can't write the type of an unboxed closure.
[20:51:06] *** Quits: dcb (textual@moz-j72nfe.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz‚Ä¶)
[20:51:08] <aturon> seanmonstar: https://github.com/rust-lang/rfcs/pull/105 has a bit more background and a proposed solution (which would have to be post-1.0, naturally)
[20:54:36] <seanmonstar> well poop
[20:55:50] *** Joins: ff (flaper87Moz@moz-g7hu5v.ip56.fastwebnet.it)
[20:56:49] <seanmonstar> of course the #[bench] decorate could write out exactly what kind of closure is being returned, but there's no way to put that in a type arg, huh? like `struct ClosureA { .. } let iter = __bench::<ClosureA>();`
[20:58:00] *** Quits: poorman (poorman@moz-7p5b2o.res.rr.com) (Quit: )
[20:58:39] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[20:59:23] <WindowsBunny1> ricky26: http://reviews.llvm.org/rL232538
[21:01:02] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[21:04:00] *** Quits: semarie (semarie@moz-g00ato.abo.wanadoo.fr) (Ping timeout: 121 seconds)
[21:04:19] *** Quits: alexchandel (Adium@moz-lgsu1i.hfc.comcastbusiness.net) (Quit: Leaving.)
[21:04:48] <acrichto> seanmonstar: cmr: btw I tried to stabilize libtest for benchmarking awhile back, but it didn't end up panning out: https://github.com/rust-lang/rust/pull/20603
[21:05:02] <brson> buildbot is currently doing nothing
[21:05:51] <acrichto> hm, asking for a force did not help...
[21:05:55] <acrichto> barosl: ^
[21:05:58] *** Quits: sigma (sigma@moz-ohog4c.range86-135.btcentralplus.com) (Ping timeout: 121 seconds)
[21:06:11] <steveklabnik> hmm weird
[21:06:31] <acrichto> barosl: https://gist.github.com/alexcrichton/f3fe5ce37b3099b71004 (seeing a bunch of these in the logs)
[21:06:44] <steveklabnik> related, does rollup do https://github.com/rust-lang/rust/pull/23648 now?
[21:06:46] *** Quits: joneshf-laptop (joneshf@moz-l4h.b5s.208.98.IP) (Connection closed)
[21:06:48] <steveklabnik> with all those extra commits?
[21:06:54] *** Joins: joneshf-laptop (joneshf@moz-l4h.b5s.208.98.IP)
[21:08:45] <aturon> acrichto: maybe it's worth talking about plans here during the weekly meeting
[21:09:06] <acrichto> aturon: sure, I can bring it up
[21:09:18] *** Quits: Rym (y@moz-vsu.f6d.55.31.IP) (Connection closed)
[21:09:22] *** Joins: Rym_ (y@moz-vsu.f6d.55.31.IP)
[21:13:57] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[21:15:42] *** Quits: gavin (gavin@irc.mozilla.org) (SendQ exceeded)
[21:16:21] *** Joins: gavin (gavin@irc.mozilla.org)
[21:16:30] <simukis> acrichto: http://i.imgur.com/OhtvGIN.png oh wow! (stack overflow detection for freebsd is here!)
[21:16:37] <simukis> ‚Ä¶ err, I mean soon
[21:16:58] <acrichto> simukis: whoa, nice!
[21:18:20] *** Quits: gavin (gavin@irc.mozilla.org) (Connection closed)
[21:18:46] *** Joins: gavin (gavin@irc.mozilla.org)
[21:19:53] <imperio> acrichto: I just thought that someone could "append(true).write(false)" on the OpenOptions debate
[21:20:30] <Zoxc> simukis: What did you do? =P
[21:21:02] <acrichto> imperio: sure
[21:21:10] <simukis> Zoxc: https://github.com/nagisa/rust/tree/stack-handling-cleanup my in-progress branch
[21:21:14] *** Quits: gavin (gavin@irc.mozilla.org) (Connection closed)
[21:21:39] *** Joins: gavin (gavin@irc.mozilla.org)
[21:22:48] <simukis> Zoxc: short summary is __morestack is no more.
[21:22:54] <simukis> (pun not intended)
[21:23:05] <brson> eddyb: does /usr/bin/env exist on NixOS?
[21:23:17] <brson> I'm looking for *1* bin that exists in the same place everywhere...
[21:23:17] <Zoxc> simukis: but we need __morestack :/
[21:23:22] <eddyb> brson: it's the *only* thing in /usr
[21:23:29] <brson> eddyb: excellent, that's what i thought
[21:23:35] <eddyb> simukis: <3
[21:23:46] <simukis> Zoxc: it does nothing that guard page doesn‚Äôt do.
[21:23:48] <imperio> acrichto: so they still have the choice. Since your principal argument was about letting users having the choice when "appending", to "write" or not. And since most commonly I think they want "append" to "write", wouldn't it be better to do it this way ? Hum... I think it's a good point, no ?
[21:23:52] *** Quits: gavin (gavin@irc.mozilla.org) (Connection closed)
[21:23:57] <Zoxc> simukis: Yes it does
[21:24:09] <eddyb> simukis: probing?
[21:24:18] *** Joins: gavin (gavin@irc.mozilla.org)
[21:24:20] <simukis> eddyb: nope, __morestack doesn‚Äôt probe
[21:24:21] <eddyb> simukis: you need stack probing and I'm not sure what the status of that is
[21:24:21] <Zoxc> simukis: Guard pages aren't sufficient without stack probing, and LLVM doesn't do stack probing on all platforms
[21:24:40] <eddyb> simukis: __morestack avoids probing entirely
[21:24:52] <acrichto> imperio: I'd have to think more on this, if we're encoding a state machine behind the curtain as well it can also be quite confusing
[21:25:04] <brson> somedoy got a pr in ahead of me!
[21:25:11] <cmr> brson: abort it!
[21:25:13] *** Joins: zmack (zmack@moz-4b0.o8l.26.188.IP)
[21:25:14] <brson> dammit bors
[21:25:16] <imperio> acrichto: yes yes, don't worry. I'm just giving arguments to defend my point of view =D
[21:25:40] * simukis facepalms, forgot to test on "big" functions, sigh
[21:26:11] <brson> i am going to kill it
[21:26:41] *** Quits: gavin (gavin@irc.mozilla.org) (Connection closed)
[21:26:45] *** Quits: Amaranth (travis@moz-1raqsl.cpe.cableone.net) (Quit: So long!)
[21:26:50] <acrichto> brson: oh I did the `@bors: force` to push yours to the top
[21:26:54] *** Joins: hoverbear (hoverbear@moz-82h62u.wireless.uvic.ca)
[21:27:01] <aturon> acrichto: as_ref is hitting issues
[21:27:05] <simukis> Zoxc: do you perchance know what the morestack register gets initialised to or is it just junk?
[21:27:06] *** Joins: gavin (gavin@irc.mozilla.org)
[21:27:06] *** Joins: mystor_ (mystor@moz-5cj.r78.15.130.IP)
[21:27:23] <aturon> acrichto: in particular, because of the impls that "lift" AsRef over & and &mut, 
[21:27:30] <aturon> acrichto: it ends up trumping as_ref on Option/Result
[21:27:31] <Zoxc> simukis: What morestack register?
[21:27:43] <simukis> Zoxc: err, I mean the stack limit
[21:27:43] <aturon> acrichto: (despite those being inherent)
[21:28:13] <Zoxc> simukis: On which platform?
[21:28:29] <aturon> acrichto: this comes up only because of the -> &[T] conversion...
[21:28:37] <simukis> all of them preferably. I‚Äôm interested mostly wheter it is zeroed or not before we set it to anything
[21:28:49] <simukis> whether*
[21:28:51] <acrichto> aturon: whoa interesting
[21:29:03] <acrichto> aturon: I wonder if this would cause problems for as_mut on other primitives
[21:29:08] <acrichto> e.g. the I/O objects
[21:29:09] <aturon> (i'm tempted to just not move those impls to AsRef)
[21:29:15] <aturon> yes :-/
[21:29:18] <acrichto> aturon: +1
[21:29:22] *** Quits: gavin (gavin@irc.mozilla.org) (Connection closed)
[21:29:33] <aturon> well, it would cause problems if they also impl conversion traits
[21:29:46] *** Joins: gavin (gavin@irc.mozilla.org)
[21:30:57] <Zoxc> simukis: I don't know. I only know the one used on Windows used to trash TLS data =P
[21:31:54] *** Quits: gavin (gavin@irc.mozilla.org) (Connection closed)
[21:32:05] <Zoxc> simukis: I want to land my LLVM patch and remove all those usages though
[21:32:12] <aturon> acrichto: get_mut, whew
[21:32:18] *** Joins: gavin (gavin@irc.mozilla.org)
[21:32:26] <acrichto> aturon: lol
[21:32:27] <acrichto> oh right
[21:33:15] *** WindowsBunny1 is now known as WindowsBunny
[21:33:46] <simukis> Zoxc: I want you to land it too üòÉ
[21:34:34] *** Quits: gavin (gavin@irc.mozilla.org) (Connection closed)
[21:34:59] *** Joins: gavin (gavin@irc.mozilla.org)
[21:35:20] *** Quits: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net) (Connection closed)
[21:35:27] *** Joins: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net)
[21:35:28] *** ChanServ sets mode: +o pnkfelix
[21:36:06] <Zoxc> simukis: Do you happen to know ARM?
[21:36:33] <simukis> Zoxc: nope, only an ancient accent of x86.
[21:37:05] *** Quits: gavin (gavin@irc.mozilla.org) (Connection closed)
[21:37:08] <Zoxc> Could use some help with implementing probe-stack on ARM
[21:37:31] *** Joins: gavin (gavin@irc.mozilla.org)
[21:37:44] <Zoxc> Also could use help with a plot to coerce LLVM devs to apply patches
[21:38:52] <simukis> Zoxc: as far as I could see there was at least one who was enthusiastic to apply them?
[21:38:59] <simukis> somebody from gogol
[21:39:56] *** Quits: gavin (gavin@irc.mozilla.org) (Connection closed)
[21:40:22] *** Joins: gavin (gavin@irc.mozilla.org)
[21:40:53] <Zoxc> simukis: Enthusiastic might not be the right word =P
[21:41:00] <kmc> Gankro: 2-3 finger trees are a nice way to implement ropes if you want a persistent append operation
[21:41:21] <kmc> i.e. Rope + Rope -> Rope, without modifying either arg in place and without doing much copying
[21:41:26] <kmc> http://staff.city.ac.uk/~ross/papers/FingerTree.html
[21:42:45] *** Quits: gavin (gavin@irc.mozilla.org) (Connection closed)
[21:42:47] <nrc> kmc: is there any reason to use a finger tree in a non-functional language? I thought they were only 'good' where procedural data structures don't exist
[21:42:55] *** sunfish-away is now known as sunfish
[21:43:10] *** Joins: gavin (gavin@irc.mozilla.org)
[21:44:20] *** Joins: dinfuehr (dinfuehr@moz-4pfs7r.highway.telekom.at)
[21:45:19] *** Quits: tjakubow (tom@moz-ag87jj.fios.verizon.net) (Quit: WeeChat 1.1.1)
[21:45:35] *** Quits: gavin (gavin@irc.mozilla.org) (Connection closed)
[21:46:00] *** Joins: gavin (gavin@irc.mozilla.org)
[21:46:54] *** Quits: killercup (killercup@moz-edmf2j.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[21:47:08] *** Joins: Amaranth (travis@moz-1raqsl.cpe.cableone.net)
[21:48:17] *** Quits: gavin (gavin@irc.mozilla.org) (Connection closed)
[21:48:26] *** Quits: dinfuehr (dinfuehr@moz-4pfs7r.highway.telekom.at) (Ping timeout: 121 seconds)
[21:48:43] *** Joins: gavin (gavin@irc.mozilla.org)
[21:51:01] *** Quits: gavin (gavin@irc.mozilla.org) (Connection closed)
[21:51:26] *** Joins: gavin (gavin@irc.mozilla.org)
[21:51:47] <ecr> nrc: if you want persistent data structures
[21:52:12] <kmc> regardless of your language, there are use cases for fast, non-destructive sequence concatenation
[21:53:13] *** Joins: njn (chatzilla@moz-mv909v.iinet.net.au)
[21:53:13] <kmc> every practical functional language gives some way to implement procedural data structures
[21:53:39] <nrc> ecr: persistent as in to disk? How do finger trees help with that?
[21:53:42] *** Quits: gavin (gavin@irc.mozilla.org) (Connection closed)
[21:53:51] <kmc> no, persistent as in https://en.wikipedia.org/wiki/Persistent_data_structure
[21:54:05] <kmc> servo uses some of these in layout
[21:54:07] *** Joins: gavin (gavin@irc.mozilla.org)
[21:54:14] <kmc> to avoid re-doing work on incremental layout
[21:54:28] * nrc doesn't know much about finger trees - only what he read in 'purely functional data structures'
[21:54:44] <kmc> okasaki's book?
[21:54:59] <nrc> oh I see
[21:54:59] <ecr> that's the one
[21:55:05] <kmc> that's all about persistent data structures in the sense we're using
[21:55:17] <nrc> yeah, that book
[21:55:23] *** Joins: mib_ay36hh (Mibbit@moz-rdu.buq.36.70.IP)
[21:55:37] *** Joins: reem (reem@moz-2icmmi.ca.comcast.net)
[21:55:40] <kmc> I have this HTML parser which chops up and glues back together bits of its input
[21:55:47] <ecr> they're also useful if you're doing something where you might need to backtrack. it can be a lot easier than trying to figure out how to undo operations.
[21:55:55] <kmc> and that's mostly accomplished by splitting and merging windows into shared buffers
[21:56:03] <kmc> but it might be nice to have a persistent rope for the cases that aren't
[21:56:13] <kmc> so I can basically do String + String -> String cheaply and not think too hard about it
[21:56:23] *** Quits: gavin (gavin@irc.mozilla.org) (Connection closed)
[21:56:39] <nrc> so, the use cases are basically when you need to preserve your history?
[21:56:51] *** Joins: gavin (gavin@irc.mozilla.org)
[21:57:07] <nrc> kmc: how does that help with incremental layout?
[21:57:26] <kmc> maybe it's not for incremental but for style sharing or something. I forgot the details
[21:57:53] <kmc> you can also wrap a persistent data structure in a mutable, multithreaded interface
[21:57:59] <kmc> that supports cheap snapshots and optimistic lock-free updates
[21:58:17] <ecr> read-only = good for parallelism
[21:58:22] <kmc> the mutable state is just a pointer (+ a counter to avoid ABA problems)
[21:59:11] *** Quits: gavin (gavin@irc.mozilla.org) (Connection closed)
[21:59:17] <nrc> huh, interesting
[21:59:22] <kmc> the trick in Rust is that these schemes inherently involve shared ownership
[21:59:36] *** Joins: gavin (gavin@irc.mozilla.org)
[21:59:47] <kmc> servo has parallel layout, so the persistent data structures in layout have to use atomic refcounting
[21:59:56] <kmc> but even so, it was a huge perf win
[21:59:59] <pnkfelix> kmc: yeah i remember ropes being one of boehms driving use cases motivating GC
[22:00:00] <kmc> pcwalton has more of the details
[22:00:10] <kmc> interesting
[22:00:40] <nrc> ecr, kmc: thanks for the info!
[22:00:44] <kmc> np :)
[22:00:47] <ecr> :)
[22:01:06] * nrc reads more about persistent data structures...
[22:01:25] *** Quits: eerie_ (eerie@moz-nu5r7u.red.bezeqint.net) (Connection closed)
[22:01:47] *** Quits: gavin (gavin@irc.mozilla.org) (Connection closed)
[22:02:12] *** Joins: gavin (gavin@irc.mozilla.org)
[22:02:31] <kmc> one wrinkle is that you need lazy evaluation (as a language feature, or just a library) to get amortized time bounds on persistent data structures
[22:02:40] <kmc> and that entails not just shared ownership but shared mutation :/
[22:03:13] <kmc> i don't know how much the loss of those guarantees affects real-world performance; whether the pathological cases are hit often in practice or not
[22:03:50] *** Joins: summerlight (summerlight@moz-99k.2mj.130.121.IP)
[22:04:04] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[22:04:28] *** Quits: gavin (gavin@irc.mozilla.org) (Connection closed)
[22:04:50] *** Joins: gavin (gavin@irc.mozilla.org)
[22:06:56] *** Joins: gavin_ (gavin@irc.mozilla.org)
[22:07:07] <larsberg> nrc: finger trees are also nice for work stealing. The finger tree is cheap to update as you traverse an unbalanced tree, but still allows you to split the remaining work in half quickly (that's what we used in manticore for nested data parallelism in non flattened cases)
[22:07:41] *** Quits: gavin (gavin@irc.mozilla.org) (Connection closed)
[22:08:04] *** Joins: gavin (gavin@irc.mozilla.org)
[22:08:29] *** Quits: evanfarrar (evanfarrar@moz-7vs.bl6.251.207.IP) (Connection closed)
[22:08:51] *** Joins: evanfarrar (evanfarrar@moz-7vs.bl6.251.207.IP)
[22:11:47] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[22:13:03] *** Quits: evanfarrar (evanfarrar@moz-7vs.bl6.251.207.IP) (Ping timeout: 121 seconds)
[22:13:25] *** Quits: gavin_ (gavin@irc.mozilla.org) (Quit: leaving)
[22:14:16] <carllerche> larsberg: what is manticore?
[22:14:55] <larsberg> carllerche: sorry, that was my phd research group (a parallel standard ml compiler)
[22:15:16] <nrc> larsberg: neat
[22:15:18] <carllerche> ah
[22:19:44] *** Quits: hoverbear (hoverbear@moz-82h62u.wireless.uvic.ca) (Quit: Time to hibernate.... ZzZz...)
[22:19:50] <brson> i think we should close https://github.com/rust-lang/rfcs/pull/1007 out of principle
[22:27:09] <reem> while I agree the tone is inappropriate I doubt that would help
[22:27:22] *** Quits: Astrum|Lap (Astrum|Lap@moz-7enfbr.co.comcast.net) (Client exited)
[22:28:02] *** Joins: arielb1 (Ariel@moz-33pn30.red.bezeqint.net)
[22:30:23] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[22:30:32] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[22:31:41] <WindowsBunny> brson: It's always good to follow the wikipedia principle of assuming good faith
[22:32:22] *** Quits: summerlight (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[22:32:35] <steveklabnik> not much to assume there
[22:33:47] <Gankro> WindowsBunny: Wikipedia is also well known for having quite nasty moderation :P
[22:34:24] <geofft> how feasible is it for Rust to be a "systems language" in that definition by, like, 1.1? 
[22:34:43] <geofft> (sorry if I'm jumping into an established discussion, happy to be pointed at some existing converation) 
[22:34:45] *** sunfish is now known as sunfish-away
[22:34:51] <reem> if what's missing are some intrinsics and inline assembly, very feasible
[22:35:02] <geofft> is #[no_std] usable in the stable compiler? 
[22:35:16] <steveklabnik> no, it's behind a feature gate
[22:35:19] <reem> not yet, but there was just an rfcs issue opened to stabilize it at some point
[22:35:33] <steveklabnik> it's also basically only needed in kernel situations at the moment
[22:35:39] <steveklabnik> which is of course a use case of ours
[22:35:45] <geofft> yup 
[22:35:51] <steveklabnik> just hasn't been stablizied since the RT removal made it a bit less useful
[22:35:52] <reem> and those situations can just use nightlies for now, transitioning to stable when we stabilize their needed features
[22:35:59] <geofft> yeah, runtime removal made it a lot less pressing 
[22:36:19] <geofft> (my personal definition would also include a stable ABI, but that seems much harder and I think that RFC doesn't assume it) 
[22:36:46] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[22:37:07] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[22:37:29] *** Quits: mystor_ (mystor@moz-5cj.r78.15.130.IP) (Connection closed)
[22:41:53] <eddyb> here's an idea... no stable ABI, *ever*
[22:42:07] <eddyb> instead, user-defined ABIs
[22:42:37] <eddyb> with built-in platform/cconv ABIs for extern "C" and whatnot
[22:42:55] <reem> you're suggesting making the extern mechanism extensible?
[22:43:14] <eddyb> more like adding something entirely new, but yes
[22:43:22] <reem> interesting
[22:43:41] <eddyb> I have experimented before with this, in the context of a decompiler
[22:43:42] <geofft> I'd worry about a proliferation of ABIs for that 
[22:44:12] <geofft> in the existing world of C primacy, it's kind of awesome that everything speaks the platform's C ABI 
[22:44:17] <eddyb> since we have inline assembly, you should be able to emulate some of this already
[22:44:25] <geofft> and, like, Python's FFIs are called "ctypes" / "cffi" 
[22:44:35] *** Quits: reem (reem@moz-2icmmi.ca.comcast.net) (Connection closed)
[22:44:54] *** Joins: dinfuehr (dinfuehr@moz-4pfs7r.highway.telekom.at)
[22:44:57] <geofft> I'd be worried about having to care which artisanal homebrewed ABI my different crates are using 
[22:45:11] <eddyb> goffrie: you do know about windows' C ABIs, right?
[22:45:22] <geofft> there are like three, right? 
[22:45:25] *** Quits: mib_ay36hh (Mibbit@moz-rdu.buq.36.70.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[22:45:46] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Client exited)
[22:45:49] <barosl> acrichto, Every assertion failure is scary!
[22:45:50] <geofft> this seems like a great idea if you can keep the number of ABIs down 
[22:45:50] <eddyb> we have `extern "system"` just for windows
[22:46:05] <eddyb> goffrie: I was actually considering this just for local uses
[22:46:33] <eddyb> goffrie: what would you use stable ABIs for, in a kernel?
[22:46:34] <barosl> I believe the GitHub push API had been desynced for a while
[22:46:39] <geofft> loadable modules 
[22:46:50] <geofft> (also I'm geofft, I'm not quite goffrie :) ) 
[22:46:57] <eddyb> oops
[22:47:07] <acrichto> barosl: ah yeah I just restarted homu and nothing too bad has happened :P
[22:47:09] <eddyb> goffrie: sorry!
[22:47:11] <barosl> Maybe it would be also the reason why pnkfelix's comment got rejected as well, see https://github.com/rust-lang/rust/pull/23536#issuecomment-85170961
[22:47:13] <geofft> if someone's running a kernel, they shouldn't need to have a rustc sitting around that matches their exact kernel compiler 
[22:47:17] <eddyb> geofft: bad habit of typing more than just one char
[22:47:38] <geofft> especially if we're imagining a future where, like, a magical Rust kernel takes over the world and you start running it on Xen hosts 
[22:47:44] *** Quits: _zxq9_ (ceverett@moz-qsm369.mesh.ad.jp) (Quit: Konversation terminated!)
[22:47:50] <geofft> and end-users don't really have control over what kernel they use, their VPS provider picks it for them 
[22:48:10] <barosl> Anyway, now I should think what to do that assertion is proven false... Hmm...
[22:48:21] <geofft> but another use case I'm thinking about: if you want to replace libc, you need to offer something like NSS 
[22:48:49] <geofft> loadable modules for name resolution, that interop with the system library that _every_ app uses 
[22:48:50] <eddyb> geofft: I think the ABI isn't the worst of your problems in the first case
[22:48:57] *** Quits: dinfuehr (dinfuehr@moz-4pfs7r.highway.telekom.at) (Ping timeout: 121 seconds)
[22:49:12] <geofft> anyway I do agree that you could do this, today, in an out-of-core crate 
[22:49:26] <geofft> and it might be interesting to see if that works well enough, and a single ABI gets traction 
[22:49:44] <eddyb> you have to either block inlining *completely* or compile on-site
[22:50:06] <eddyb> given the possibility of Mill, I'd lean towards the latter
[22:51:12] <eddyb> where "compile" could just be a late codegen stage
[22:51:55] <eddyb> though it would still be problematic if you resolved/type-checked against a different version
[22:51:59] <geofft> Mill? 
[22:52:16] <geofft> compiling on-site makes proprietary software vendors unhappy :) 
[22:52:52] <eddyb> hence the late codegen thing
[22:53:21] <eddyb> geofft: http://millcomputing.com/docs/ (there's over 12h of talks, not sure if you have the time/patience)
[22:53:58] <geofft> oh right, vaguely remember hearing about that 
[22:54:11] <eddyb> geofft: the particular feature is specialization: you download bytecode and during installation you get machine code specific to your CPU
[22:55:01] <eddyb> in the case of Rust, it's much trickier
[22:57:30] *** Quits: arielb1 (Ariel@moz-33pn30.red.bezeqint.net) (Quit: Ex-Chat)
[22:58:04] *** Joins: mystor (mystor@moz-5cj.r78.15.130.IP)
[22:58:06] <acrichto> nrc: ping
[22:58:14] <nrc> acrichto: pong
[22:58:25] <acrichto> nrc: I tried to put https://github.com/rust-lang/rust/pull/23630 in a rollup I was making but it failed at stage1 libcore
[22:58:32] *** Quits: mystor (mystor@moz-5cj.r78.15.130.IP) (Connection closed)
[22:58:32] <acrichto> (just fyi)
[22:58:39] <acrichto> not sure if it was a bad interaction with another PR
[22:58:40] <nrc> thanks
[22:58:42] *** Joins: mystor (mystor@moz-5cj.r78.15.130.IP)
[22:59:10] *** kimundi is now known as zz_kimundi
[22:59:13] <nrc> it does build locally (I haven't tried running tests since I rebased), so probably a bad interaction
[22:59:57] <nrc> I would probaby avoid putting that in a rollup in any case - it is kind of a risky PR - some subtle and nasty breaking changes and I bet I missed some fallout on other platforms
[23:00:18] <nrc> talking of which how do I use try now?
[23:01:54] <acrichto> nrc: @bors: try
[23:01:55] <acrichto> in theory
[23:02:03] * nrc tries
[23:02:07] <nrc> no pun intended
[23:03:19] <eddyb> geofft: you could automate the reduction of the external interactions to a minimal stable API
[23:03:25] <eddyb> geofft: that's right, *API*
[23:04:00] <eddyb> geofft: most of the code would end up as a Rust-specific bytecode... or even LLVM IR/machine code
[23:04:31] <geofft> stable API + backwards-compatible bytecode specification of API would work 
[23:04:46] <geofft> but it's only different from an ABI in an extremely technical sense :) 
[23:04:56] <eddyb> nono
[23:04:58] <geofft> especially if all you have is bytecode and not source 
[23:05:14] <eddyb> geofft: the stable API interactions wouldn't be compiled on the vendor side
[23:05:28] <eddyb> oh, I see what you mean
[23:05:29] <geofft> like my goal is, I want someone to be able to load a closed-source kernel module into a closed-source kernel compiled with a different version of rustc 
[23:05:48] <geofft> I sorta feel like a "systems language" ought to do this, unless it's an ideological language that desires open source 
[23:06:12] <eddyb> you do need some compiler metadata compatibility
[23:06:24] <eddyb> but that's easier to provide than a stable ABI IMO
[23:06:25] <geofft> which, like, it would be entirely fair for a language to choose to be (lots of scripting languages have this property and they're not even ideological) 
[23:06:41] <eddyb> geofft: Rust's reasons are more... technical :D
[23:06:44] <geofft> but I don't think Rust is doing that, nor is there seemingly interest in Rust doing that 
[23:06:44] <geofft> yeah 
[23:06:49] <eddyb> binary patching is problematic
[23:08:00] <eddyb> you have to choose: either have ridig walls everywhere, reduced/no IPOs and the ability to patch dynamic libraries
[23:08:26] <eddyb> or go crazy with optimization at the cost of recompilation
[23:10:17] <eddyb> geofft: good luck fixing a nasty bug in a C/C++ header :P
[23:10:20] *** Quits: mystor (mystor@moz-5cj.r78.15.130.IP) (Connection closed)
[23:11:19] *** Joins: marsel (user@moz-6n3.f56.180.94.IP)
[23:11:51] *** Quits: ptalbot (ptalbot@moz-j4gnuh.fbx.proxad.net) (Ping timeout: 121 seconds)
[23:13:10] *** Joins: mystor_ (mystor@moz-5cj.r78.15.130.IP)
[23:17:09] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[23:18:19] * kmc ponders  impl Deref for Foo<PhantomParam> { type Target = Foo<OtherPhantomParam>; }
[23:18:46] *** Quits: kmcguire_ (kmcguire@moz-pg1gb9.biz.rr.com) (Ping timeout: 121 seconds)
[23:18:59] *** Joins: swgillespie (swgillespie@moz-upj.3un.220.167.IP)
[23:19:47] <huon> kmc: nrc will curse you and your keyboard for decades
[23:23:38] <nrc> I'm too busy cursing Git right now to curse anyone or anything else
[23:24:55] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[23:26:35] <geofft> thinking about this harder, why do you need #![no_std] to bypass libc? 
[23:27:11] <geofft> if you, in your crate, expose dynamic symbols that provide a POSIX ABI (using like syscall.rs), shouldn't libstd call those? 
[23:29:27] *** Quits: imperio (Mibbit@moz-8otf3a.fbx.proxad.net) (Quit: http://www.mibbit.com ajax IRC Client)
[23:30:35] <eddyb> geofft: there's some issues with self-imports
[23:32:13] <eddyb> kmc: hmm, I should try to abuse unsizing coercions like that
[23:33:29] <eddyb> playbot: struct Foo<T: ?Sized> { x: Box<T>, y: T } fn foo<T>(x: Box<Foo<[T; 3]>>) -> Box<Foo<[T]>> { x }
[23:33:30] -playbot- ()
[23:33:36] <eddyb> bwahahahaha
[23:34:06] <eddyb> there's no way I'm keeping this behavior
[23:34:20] *** Quits: eibwen (eibwen@moz-rfa4i7.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[23:35:51] <eddyb> nrc: are you aware of this, btw ^^?
[23:37:05] <eddyb> nmatsakis, nrc: for unsizing structs, you can't check just type params because a single type param can be used multiple times, and you can't check just the fields because of associated types
[23:37:12] <geofft> eddyb: I mean, you could do this less hackishly by just adding a libstd target for "expect the stuff POSIX requires from the crate being compiled" 
[23:37:15] <eddyb> (so I will try to do both)
[23:37:20] <geofft> like a pile of lang-items for syscalls, or something. 
[23:37:35] <eddyb> geofft: I mean... try defining a C-like function and import it
[23:37:42] <nrc> eddyb: nasty
[23:37:58] <nrc> I assume the generated code is broken?
[23:38:02] <eddyb> nrc: this is one of the reasons I removed the type param index
[23:38:20] <eddyb> the generated code is broken for unsized structs with prefixes *anyways*
[23:38:30] <eddyb> this is just slightly more broken
[23:38:47] <geofft> you could do it via #[lang(syscall="read"] extern "C" fn read(...) or something. 
[23:39:40] <eddyb> playbot-mini: #[no_mangle] extern "C" fn foobar() {} fn main() { extern "C" { fn foobar(); } unsafe { foobar() } }
[23:39:41] -playbot-mini- <anon>:1:14: 1:39 warning: function foobar is marked #[no_mangle], but not exported, #[warn(private_no_mangle_fns)] on by default
[23:39:41] -playbot-mini- <anon>:1 #[no_mangle] extern "C" fn foobar() {} fn main() { extern "C" { fn foobar(); } unsafe { foobar() } }
[23:39:41] -playbot-mini- output truncated; full output at: http://bit.ly/1ImAF8q
[23:39:51] <eddyb> playbot-mini: #[no_mangle] pub extern "C" fn foobar() {} fn main() { extern "C" { fn foobar(); } unsafe { foobar() } }
[23:40:01] <eddyb> huh... I was expecting a link error
[23:42:09] <eddyb> geofft: it might... just work
[23:45:40] *** Joins: dinfuehr (dinfuehr@moz-4pfs7r.highway.telekom.at)
[23:49:01] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[23:49:43] *** Quits: dinfuehr (dinfuehr@moz-4pfs7r.highway.telekom.at) (Ping timeout: 121 seconds)
[23:51:02] *** Quits: jxv (jxv___@moz-qneod7.pk6i.d98i.030a.2602.IP) (Connection closed)
[23:51:27] *** Joins: munksgaard (munksgaard@moz-urnkl5.u.parknet.dk)
[23:53:48] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[23:55:35] *** Joins: arrrrrrr1 (arrrrrrrrs@moz-re6slh.dynamic.qsc.de)
[23:58:25] *** Quits: arrrrrrrrr (arrrrrrrrs@moz-ps014g.dynamic.qsc.de) (Ping timeout: 121 seconds)
