[00:00:13] *** Quits: futile (felix@moz-t06qtr.pools.vodafone-ip.de) (Quit: WeeChat 1.2-rc1)
[00:00:58] <maurer> http://is.gd/DWIUSx I guess this is a smallened case of my confusion
[00:01:09] *** Quits: James (quassel@moz-225vcm.range86-148.btcentralplus.com) (Ping timeout: 121 seconds)
[00:01:15] <maurer> (basically just trying to write a function that takes a function returning Result<A, B>, and makes it return Result<B, A> instead
[00:02:00] *** Joins: dhole (dhole@moz-mkio03.dynamic.jazztel.es)
[00:02:11] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[00:03:11] *** Quits: choplin (choplin@moz-qkm9un.ap.nuro.jp) (Connection closed)
[00:03:43] *** Quits: dhole_ (dhole@moz-6muubn.dynamic.jazztel.es) (Ping timeout: 121 seconds)
[00:03:47] *** Quits: njn (chatzilla@moz-6gdjm4.iinet.net.au) (Quit: ChatZilla 0.9.91.1 [Firefox 40.0a1/20150510205108])
[00:04:30] *** Joins: frangio (frangio@moz-arj429.dc.uba.ar)
[00:04:44] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[00:04:48] *** Joins: njn (chatzilla@moz-6gdjm4.iinet.net.au)
[00:05:01] <blaenk> I can't get over the decision to have a flat namespace for packages
[00:05:46] <blaenk> I'm not a fan of things like iron's logger 'component' being named `logger` for example, imo it would've been nicer to the community to have named it something like `iron_logger`, same goes for anything like this
[00:05:48] <blaenk> cc reem
[00:06:04] *** Quits: njn (chatzilla@moz-6gdjm4.iinet.net.au) (Quit: ChatZilla 0.9.91.1 [Firefox 40.0a1/20150510205108])
[00:06:12] *** Quits: wolfviking0 (wolfviking0@moz-8hd.3b6.246.162.IP) (Client exited)
[00:06:20] <blaenk> checking pistondevelopers and looks like they do either make it unique or namespace it
[00:06:25] *** Joins: lov2cod (Adium@moz-u5q1mr.o38v.k60l.0119.2620.IP)
[00:06:28] <blaenk> https://github.com/PistonDevelopers/gfx_texture/blob/master/Cargo.toml#L3
[00:06:33] <reem> blaenk: I am super sympathetic to that, and share much of the same concerns.
[00:06:50] <blaenk> I previously had myproj-name, but then the whole hyphen mess makes it confusing to noobs
[00:07:00] *** Joins: wolfviking0 (wolfviking0@moz-8hd.3b6.246.162.IP)
[00:07:03] *** Quits: GaryOak_ (GaryOak_@moz-etoj16.hfc.comcastbusiness.net) (Connection closed)
[00:07:03] <blaenk> cause they'll write it as myproj-name in toml, but will have to know to write it as extern crate myproj_name; in the source
[00:07:20] <blaenk> I mistakenly remembered that the RFC would allow you to write extern crate myproj-name; and it would automatically convert it, but nope
[00:07:22] *** Quits: iliekturtles (mike@moz-c7hb0v.me.comcast.net) (A TLS packet with unexpected length was received.)
[00:07:28] *** Quits: acharles (acharles@moz-dvfnah.static.qwest.net) (Client exited)
[00:07:28] *** Joins: turtil (turtil@moz-98pgrn.orcon.net.nz)
[00:07:31] <reem> I really only took the flat names because they were there, and I’d rather have router mean iron’s router than some random weekend project, but that said I am more than amenable to giving up names if there is a better suited project.
[00:07:39] <blaenk> so I decided to preempt that and name my package myproj_name
[00:07:52] *** Joins: mjewkes (mjewkes@moz-uur7pt.eastlink.ca)
[00:08:05] <blaenk> fair enough, I was mainly talking about the idea in general than meaning to target any one of those projects
[00:08:13] <reem> I agree with you,f wiw
[00:08:14] <woboats> maurer, closure type signatures are complicated, but one thing I know is that a move || {} is not an Fn(), its an FnOnce()
[00:08:25] *** Quits: pgonda (peter@moz-s36.0tp.134.75.IP) (Ping timeout: 121 seconds)
[00:08:39] <reem> I would much rather have a single global namespace, as well as the ability to create organizations
[00:08:50] <reem> so it would be “iron” the main package, and “iron/router” etc.
[00:08:54] *** Joins: fleabay (Mibbit@moz-kr7nid.ip.windstream.net)
[00:09:00] <blaenk> yeah that's what I was hoping for
[00:09:03] <blaenk> exactly
[00:09:04] <fleabay> i have a strange issue
[00:09:05] *** Quits: Jesin (Jesin@moz-oo8drm.eecs.lehigh.edu) (Quit: Leaving)
[00:09:16] <fleabay> i build a c++ prog in vs2013
[00:09:16] <blaenk> in clojure it's like that, so like you know how yuou have iron/iron? you could just say 'iron' and it would know to use that
[00:09:17] <reem> you could even have organizations share the same namespace as global packages, and have one package per organization that is the package used
[00:09:18] *** Quits: hjr3 (hradtke@moz-lei.av4.169.69.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[00:09:23] *** Joins: anders (andars@moz-bsldst.sntcca.sbcglobal.net)
[00:09:25] <fleabay> and the icon shows the rust logo
[00:09:36] <fleabay> wth?
[00:09:52] <bstrie> I agree that namespaces would be nice. fortunately we can still tack them on if we want to
[00:10:09] <fleabay> the cmd.com has the rust logo attached somewhere
[00:10:09] <blaenk> you think so? what annoyed me the most is how intransigent the ones that made the decision seemed to be on the issue
[00:10:21] <fleabay> but how
[00:10:31] <blaenk> I blame the ruby lobbyists at the top
[00:10:38] <blaenk> and their ruby bubble
[00:10:45] *** Quits: druzac (druzac@moz-n22.kbj.141.64.IP) (Client exited)
[00:11:14] *** Quits: ygrek (user@moz-8j9aeu.org.ua) (Ping timeout: 121 seconds)
[00:11:24] *** Joins: james4k_ (james@moz-e6no8q.consolidated.net)
[00:11:25] *** Joins: umit (umit@moz-4v6.eei.232.176.IP)
[00:11:44] <bstrie> blaenk: I think you're reaching by guessing at motivations. we have the current setup because it suffices for the moment and it's the minimum necessary to get things done, and we can make it more complex if we need to
[00:11:57] <frangio> why is the convention to use 99 columns for rust programs, instead of the usual ~72?
[00:12:19] <blaenk> I don't think I'm reaching much. the people that helped influence the decision stated themselves that they liked how ruby was setup
[00:12:22] <blaenk> not much of a conspiracy theory
[00:12:35] <blaenk> and they were influential in the development of cargo etc
[00:12:38] <woboats> reem's solution seems right. The only reason to have a namespace it seems to me is if you're breaking up a large project into multiple crates.
[00:12:38] <blaenk> and crates.io
[00:12:40] *** Quits: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net) (A TLS packet with unexpected length was received.)
[00:12:48] <bstrie> frangio: 72 was too few, 99 was also too few but it was less too few, so it was settled upon
[00:13:14] <bstrie> blaenk: the people who developed cargo did not develop crates.io
[00:13:28] <woboats> Otherwise you need some sort of governance about which namespace some crate goes into.
[00:13:30] <frangio> bstrie: mmm i see, alright then
[00:13:39] <blaenk> ehh, that's news to me then. still though, one influences the other
[00:13:48] *** Joins: pgonda (peter@moz-s36.0tp.134.75.IP)
[00:14:02] <reem> bstrie: well, there is heavy overlap among those two groups
[00:14:07] <blaenk> yeah
[00:14:19] <bstrie> blaenk reem: acrichto developed crates.io himself, and he's not a rubyist at all
[00:14:20] <reem> wow nvm
[00:14:25] <reem> it’s just acrichto being amazing
[00:14:27] <blaenk> lol
[00:14:39] <blaenk> man acrichto has to go and do everything himself why he gotta be beast
[00:15:02] <reem> bstrie: fwiw I am not defending blaenk’s position, I was just under the mistaken assumption that the groups were similar
[00:15:23] *** Joins: druzac (druzac@moz-n22.kbj.141.64.IP)
[00:15:26] <ChrisMorgan> Hmm, must hook playpen’s “format” button up with nrc’s rustfmt instead of rustc --pretty.
[00:15:52] <nrc> yes please!
[00:16:08] <nrc> Probably need to do both atm - first through pretty, then through rustfmt
[00:16:11] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[00:16:13] <bstrie> ChrisMorgan: nah, we don't need multiple prettifiers, just make nrc's rustfmt good enough that we can scrap --pretty
[00:16:22] <blaenk> the people that made cargo still had major influence on what way to go
[00:16:28] *** Quits: nedp (nedp@moz-vg6vvt.bigpond.net.au) (Connection closed)
[00:16:33] <blaenk> understandably
[00:16:44] * ChrisMorgan is currently prettifying the web interface for the playpen
[00:16:45] <blaenk> and it's no secret that they had major ruby influences
[00:16:46] <FreeFull> --pretty gets used for things like expanding macros though
[00:16:47] <reem> blaenk: it’s the core team that makes the decision
[00:16:49] <bstrie> blaenk: the people who made cargo were contractors, the ownership of cargo has now passed to acrichto afaiu
[00:16:55] *** Quits: greggawatt (Adium@moz-c99204.s3c1.k774.5500.2604.IP) (Quit: Leaving.)
[00:16:59] <ChrisMorgan> FreeFull: --pretty normal doesn’t expand macros
[00:17:05] <blaenk> meh, let me pull up the discourse thread
[00:17:13] <FreeFull> Yeah, normal would be able to go away
[00:17:14] <reem> that said, one of those contractors was wycats, who is now on the core team, so it’s not like they’ve just vanished
[00:17:32] <ChrisMorgan> FreeFull: … and after that, “pretty” is a terrible flag name.
[00:17:44] *** Quits: Guest_ (textual@moz-6jfu02.dynamic.fusionbroadband.com) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[00:17:45] <nrc> we use pretty printing of expressions/types in some places in the compiler, perhaps just logging. The rest of pretty is not really sued
[00:17:52] <nrc> (except for pretty printing, obvs)
[00:18:12] <FreeFull> ChrisMorgan: Agreed
[00:18:14] *** Quits: oceanwhit (christianwh@moz-d046r2.res.rr.com) (Ping timeout: 121 seconds)
[00:18:29] *** Quits: kkimdev (kkimdev@moz-dj5rvn.59gh.vk5s.0000.2620.IP) (Ping timeout: 121 seconds)
[00:18:30] <fmtq> --beautiful
[00:18:31] <FreeFull> Although I'm not able to come up with a better one
[00:18:32] <fmtq> --fantastic
[00:18:34] *** Joins: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net)
[00:18:40] <frangio> what's do we mean by "adaptor" in rust parlance? i see it a lot in the docs but i'm not sure what the precise definition is
[00:18:44] <fmtq> --iconoclastic
[00:18:51] *** Joins: njn (chatzilla@moz-6gdjm4.iinet.net.au)
[00:18:52] <blaenk> wow, discourse hijacks ctrl-f lol
[00:18:55] *** Quits: duesenfranz_ (jona@moz-711djm.tirol.surfer.at) (Client exited)
[00:19:37] <fmtq> they argue it is necessary due to the ajax magic, blaenk
[00:19:45] <blaenk> ohhh yeah
[00:19:45] <reem> frangio: it’s often used in the context of iterators, an iterator adaptor is something like std::iter::Filter, which is the type returned by Iterator::filter, which takes an iterator and also implements iterator, where it modifies the behavior of the underlying iterator (adapts it)
[00:19:45] <bstrie> I hate their ajax magic
[00:19:48] <blaenk> cause it loads the posts as you go huh
[00:19:51] <fmtq> yes
[00:20:00] *** Quits: mib_rl9yau (Mibbit@moz-1o1.nir.100.5.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[00:20:01] <blaenk> cause webscale
[00:20:02] <fmtq> bstrie: get off the modern web then.
[00:20:07] <fmtq> gawsh
[00:20:20] <bstrie> frangio: usually it means a method on iterators that also returns an iterator, so you can chain them together arbitrarily
[00:20:26] *** Quits: fleabay (Mibbit@moz-kr7nid.ip.windstream.net) (Quit: http://www.mibbit.com ajax IRC Client)
[00:20:52] <reem> it can be used in other contexts where you have similar interactions too
[00:21:06] <woboats> maurer: http://is.gd/wzaAWt <- using FnBox, you can do what you wanted.
[00:21:24] <woboats> You got unclear error messages because you shouldn't have parameterized the functions.
[00:21:45] <woboats> And then you would've gotten error messages about functions not being Sized.
[00:21:56] <woboats> There is a way to achieve the same effect that is much simpler.
[00:22:01] *** Joins: Twinklebear (Twinklebear@moz-ttrcn3.ut.comcast.net)
[00:22:08] *** Quits: simukis1 (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[00:22:19] *** Quits: ChrisMorgan (ChrisMorgan@moz-g6osuq.tpgi.com.au) (Ping timeout: 121 seconds)
[00:22:33] *** Quits: wolfviking0 (wolfviking0@moz-8hd.3b6.246.162.IP) (Client exited)
[00:22:50] <woboats> well not the same effect, but if you don't need this to return a function, I mean, it is simpler
[00:23:14] <blaenk> https://internals.rust-lang.org/t/crates-io-package-policies/1041
[00:23:32] *** Quits: sayan (sayan@moz-ip8.595.51.106.IP) (Ping timeout: 121 seconds)
[00:23:41] *** Joins: ChrisMorgan (ChrisMorgan@moz-g6osuq.tpgi.com.au)
[00:24:03] <blaenk> I didn't like the argument that you're forced to come up with creative names so that's a good thing, or that it would be confusing to find bob/xml and jane/xml. in a flat namespace you'd just have one xml, but it'd be stupid to blindly go along with it instead of comparing them
[00:24:27] <blaenk> non issues imo
[00:24:47] <reem> blaenk: good news is you could add organizations later without breaking existing users implicitly
[00:24:54] <bstrie> blaenk: steve's opinion is just his opinion, the real reason for not doing namespaces is, just like everything else to do with 1.0, that it works now and we can go back and fix it up later
[00:25:44] <woboats> blaenk, I think though that it isn't useful to make every user a namespace though. That adds indirection for no benefit that I can see.
[00:25:47] *** Joins: lyc (lyc@moz-sgi.pqd.150.123.IP)
[00:25:59] <blaenk> this didn't seem like steve's diary entry divulging his opinion. I thought he was conveying on behalf of the rest of the team the decision they came down on
[00:26:28] <blaenk> so I don't think it's a mistake to take everything there as something that the team as a whole decided
[00:26:39] <bstrie> blaenk: and the rest of the team came down on that position because they had better things to do than devise a system for namespacing
[00:27:00] <blaenk> yes, that reason I can understand, my point is the other reasons that were given
[00:27:04] <woboats> Adding organization namespaces would be a good change, but it's not that high priority yet.
[00:27:19] <Havvy> `npm` recently gained a namespacing solution. Might as well take that in at some point. ;)
[00:27:22] <blaenk> yes, like anything else in the development of rust, that's understandable
[00:27:56] *** Joins: iliekturtles (mike@moz-c7hb0v.me.comcast.net)
[00:27:58] <bstrie> blaenk: I'm not sure what your objection is. if you think it should be changed, petition to have it changed and come up with a model for how it would work
[00:28:06] <aatch> Bah, are we still having this argument? It's not like any solution was going to make everybody happy. I'm sure some people are upset that crates.io exists in the first place.
[00:28:24] <bstrie> aatch: did you see that reddit thread yesterday about crates.io being down? no need to guess :P
[00:29:26] *** Joins: jeffasinger (jeff@moz-u5nog7.res.rr.com)
[00:29:34] <aatch> bstrie, oh no! crates.io is down! This is clearly going to be a long-term trend! We should use something that never goes down, like Github. /s
[00:29:51] *** Quits: lyc (lyc@moz-sgi.pqd.150.123.IP) (Ping timeout: 121 seconds)
[00:30:03] *** Joins: summerlight (summerlight@moz-99k.2mj.130.121.IP)
[00:30:06] <frangio> reem bstrie: there's also reader adaptors, right? i mean they're kind of iterators anyway. i'm writing a library that provides a function that takes an iterator of readers and returns a reader and i was wondering that would be an adaptor
[00:30:09] <bstrie> aatch: idea: let's stick crates.io in the blockchain!
[00:30:36] <bstrie> frangio: there's not really a concrete definition... I guess if you want to call it an adatpor, you can :P
[00:30:37] <reem> frangio: yes, there are some
[00:30:50] <reem> frangio: “adaptor” is a very loose term, it doesn’t have a strict meaning
[00:31:02] *** Quits: senderista (tdbaker@moz-ptgngd.dhcp4.washington.edu) (Client exited)
[00:31:20] *** Joins: mib_xgmyh1 (Mibbit@moz-ajce17.ma.comcast.net)
[00:31:40] <frangio> bstrie reem: awesome thanks :)
[00:31:44] *** Joins: oceanwhit (christianwh@moz-d046r2.res.rr.com)
[00:32:43] *** Quits: frangio (frangio@moz-arj429.dc.uba.ar) (Client exited)
[00:33:02] *** Joins: senderista (tdbaker@moz-ptgngd.dhcp4.washington.edu)
[00:34:15] *** Quits: senderista (tdbaker@moz-ptgngd.dhcp4.washington.edu) (Client exited)
[00:34:53] *** Joins: vmeson (rmacleod@moz-hs5cri.cable.teksavvy.com)
[00:35:03] *** Joins: lyc (lyc@moz-jft.nr8.226.207.IP)
[00:35:37] *** Joins: frangio (frangio@moz-arj429.dc.uba.ar)
[00:35:43] *** Quits: eric_lagergren (barsonme@moz-hshokg.q6t2.2174.0008.2601.IP) (Ping timeout: 121 seconds)
[00:35:56] <blaenk> bstrie: nah my gripe is mainly that it should've been a primary focus. I feel like it's the kind of thing you have to do from the beginning. I guess I'll take a look at how npm added support since someone said they added it after the fact
[00:36:28] *** chmanchester is now known as chmanchester|afk
[00:37:19] *** Joins: timando (tim@moz-3s96kt.internode.on.net)
[00:37:21] *** Joins: wolfviking0 (wolfviking0@moz-8hd.3b6.246.162.IP)
[00:37:46] *** Joins: lenstr (lenstr@moz-t72.vju.25.171.IP)
[00:37:53] *** Joins: lucian (lucian@moz-2c3pda.cable.virginm.net)
[00:37:57] <reem> blaenk: the approach we were discussing earlier (making organizations share the same namespace as packages, and x being sugar for x/x in the organization case) makes it possible to move to an organization mostly backwards compatibly 
[00:37:58] *** Quits: lenstr (lenstr@moz-t72.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[00:38:04] *** Quits: capcar (mathieu@moz-mi55kn.mc.videotron.ca) (Ping timeout: 121 seconds)
[00:38:11] <blaenk> Havvy: you have any other info on npm's addition?
[00:38:12] *** Joins: lenstr (lenstr@moz-t72.vju.25.171.IP)
[00:38:14] <reem> (the location of support packages, like router, would change, but that’s unavoidable)
[00:38:15] <blaenk> looking for info on it
[00:38:23] *** Joins: acharles (acharles@moz-mi1459.static.qwest.net)
[00:38:28] *** Joins: choplin (choplin@moz-qkm9un.ap.nuro.jp)
[00:38:33] <Havvy> blaenk:  It's @User/package-name
[00:38:33] <maurer> woboats: Why do I need to suddenly box my functions? Also why should I not have parameterized the function?
[00:38:39] <blaenk> thanks Havvy!
[00:38:41] <blaenk> reem: yeah
[00:38:57] <Havvy> It was rolled out along with private packages.
[00:38:58] <aatch> The thing that I think is important is that there's no support for "namespacing" crates in the language.
[00:39:07] *** Quits: lenstr (lenstr@moz-t72.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[00:39:12] <aatch> I can't do `extern crate bob/foo`
[00:39:41] <reem> aatch: cargo could provide support for using bob/foo and setting an alternative name in the Cargo.toml
[00:39:42] <blaenk> the namespacing we're talking about is in the registry, primarily to decrease naming collisions/squatting/etc.
[00:39:51] <woboats> maurer, tbh I'm not that intimate with how functions are implemented in the type system.
[00:40:10] <blaenk> so you could just do extern _ as _ though it wouldn't be very inconvenient
[00:40:14] <blaenk> and yeah what reem said
[00:40:19] *** Quits: druzac (druzac@moz-n22.kbj.141.64.IP) (Client exited)
[00:40:24] <blaenk> I think toml lets you specify keys as strings in order to contain any character too
[00:40:29] <woboats> maurer, for example, I don't know why you can't parameterize functions.
[00:40:34] <bstrie> blaenk: be warned, once you start discussing the propsect of namespacing you're going to bring all the Java converts out of the woodwork advocating for "com.foo.router.iron.reem"
[00:40:41] <blaenk> hahahaha
[00:40:54] <reem> :P
[00:41:04] <woboats> maurer, but since it seems you can't, you need to return a trait object, which needs to be bixed.
[00:41:10] <woboats> *boxed
[00:41:23] *** Joins: saterus (saterus@moz-rutqj0.res.rr.com)
[00:41:24] <woboats> maurer, otherwise, the size is unknown at compile time.
[00:41:33] <aatch> What I mean is that if two people make `xml` crates that use different ways of processing XML, it'll be difficult to work with both at the same time.
[00:41:38] <talchas> well, in that example, it's because you can't return a closure type
[00:41:55] *** Quits: lucian (lucian@moz-2c3pda.cable.virginm.net) (Ping timeout: 121 seconds)
[00:41:59] <talchas> because you can't give it a name and need to at the moment
[00:42:25] <blaenk> aatch: not sure why it'd be any more difficult than if they were named differently?
[00:42:27] <talchas> (you can parameterize argument types for closures, but that doesn't work return types)
[00:42:29] <talchas> work for*
[00:42:45] *** Quits: zacts (user@moz-qrtjuh.nm.comcast.net) (Quit: ERC Version 5.3 (IRC client for Emacs))
[00:42:49] <blaenk> so at the code level, barring built-in support for namespacing, you'd just use extern as or whatever
[00:42:49] <maurer> talchas: that seems a pretty big limitation :(
[00:42:50] <blaenk> to rename them
[00:43:08] <talchas> maurer: yeah, it's something that needs work
[00:43:20] *** Quits: JagaJaga (JagaJaga@moz-ua8.hhl.62.178.IP) (Ping timeout: 121 seconds)
[00:43:21] <aatch> talchas, maurer, it's not that big of a limitation.
[00:43:23] *** Quits: Fiveside (fiveside@moz-t2eatg.vsp.com) (Ping timeout: 121 seconds)
[00:43:37] <aatch> We can't return *unboxed* closures.
[00:43:46] <aatch> It's not like you can't return a boxed closure.
[00:43:55] <maurer> aatch: The problem with that is that it means that I either have to box all closures
[00:44:01] <blaenk> yeah I think reem's idea would be the simplest, barring language-level support for ns
[00:44:06] <blaenk> i.e. specify it in the toml
[00:44:08] <maurer> aatch: or I can't call the result of my operator the same way as my other closures
[00:44:14] <mbrubeck> maurer: It'll definitely be fixed sometime in the future - it's the first item listed at http://blog.rust-lang.org/2015/05/11/traits.html#the-future
[00:44:26] *** Quits: Anupkumar (uid16774@moz-cf8smb.uxbridge.irccloud.com) (Quit: Connection closed for inactivity)
[00:44:31] *** Quits: frangio (frangio@moz-arj429.dc.uba.ar) (Client exited)
[00:44:50] <aatch> maurer, it's a limitation *for you*, but the majority of uses of closures don't have them as return types.
[00:45:32] <reem> it is a temporary limitation, it’s something that rust wants to support at some point
[00:45:32] <mbrubeck> aatch: Well, that's partly because it's kind of annoying in Rust.  Haskell code has closures as return types all over the place.  :P
[00:45:38] *** Joins: frangio (frangio@moz-arj429.dc.uba.ar)
[00:45:38] <maurer> aatch: Combinators are pretty awesome
[00:45:48] <maurer> aatch: And seem like they would be icky to do in rust because of this
[00:46:11] <reem> maurer: you can usually just use your own trait instead of using Fn/FnMut/FnOnce
[00:46:23] <mbrubeck> also, returning iterators is a pain for the same reason.
[00:46:23] <maurer> reem: Can you link me to an example?
[00:46:26] <aatch> maurer, you are aware that Haskell boxes pretty much everything, right?
[00:46:34] <maurer> aatch: I am not trying to avoid boxes for efficiency
[00:46:36] <reem> maurer: to what?
[00:46:46] <maurer> reem: 21:02 < reem> maurer: you can usually just use your own trait instead of using Fn/FnMut/FnOnce
[00:46:47] <reem> *of what
[00:46:48] <mbrubeck> aatch: I was the one who brought up Haskell, and yes, I am.  :)
[00:46:59] *** Joins: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu)
[00:47:23] <aatch> mbrubeck, it's just annoying. "Haskell can do this thing" so can Rust, it's just that Rust doesn't do it automatically.
[00:47:24] <reem> maurer: I’d have to see exactly what you are trying to do to give you a representative example.
[00:47:51] <aatch> Haskell can do lots of things because everything ends up with several layers of indirection.
[00:48:18] *** Quits: summerlight (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[00:48:21] <reem> maurer: what I mean is that a closure is just some struct that implement Fn/FnMut/FnOnce, it’s not special, so just use another trait and name your types, and all is good.
[00:48:22] <maurer> reem: /DWIUSx I guess this is a smallened case of my confusion
[00:48:27] <maurer> err, mispaste
[00:48:32] <maurer> reem: http://is.gd/DWIUSx
[00:48:36] <mbrubeck> aatch: Sorry about that.  To clarify, I'm not claiming Rust can't do this or that Haskell is better because of this.  Just that "this use case is uncommon" can become circular -- if it were better-supported, it would be more common.
[00:49:53] <mbrubeck> maurer: You can't do that for the same reason you can't do this: http://is.gd/Wzmm67
[00:49:58] <mbrubeck> maurer: No generic return types (yet).
[00:50:07] *** Quits: frangio (frangio@moz-arj429.dc.uba.ar) (Client exited)
[00:50:38] <mindtree> -> impl Iterator<Item=Foo>  
[00:50:48] <mindtree> -> @Iterator<Item=Foo>
[00:50:52] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[00:50:54] <maurer> mbrubeck: Could you do that if you did where T:Sized or something like that?
[00:50:58] *** Joins: frangio (frangio@moz-arj429.dc.uba.ar)
[00:50:58] <aatch> abstract return types, is more accurate.
[00:50:58] <mbrubeck> maurer: No.
[00:51:02] *** Quits: frangio (frangio@moz-arj429.dc.uba.ar) (Client exited)
[00:51:22] <aatch> I'm a fan of bringing back `~` for them, btw.
[00:51:33] <woboats> maurer, the problem is that that syntax means that i should be able to type f::<String>() and get a String.
[00:51:36] <mindtree> -> IDK Iterator<Item=Foo>
[00:51:43] <mindtree> IDC*
[00:51:46] <woboats> But the function only returns an f64
[00:52:11] <mbrubeck> maurer: Anyway, as mentioned above, this is just a temporary pain, and will go away as soon as one of the proposals is fleshed out and implemented.
[00:52:21] <bstrie> maurer talchas aatch: reminder that you can return unboxed closures, as long as you passed them into the function as an argument 20:44   <   frangio!frangio@moz-arj429.dc.uba.ar [Client exited]
[00:52:27] <woboats> Some new syntax with new semantics is needed, like impl Trait or ~Trait or whatever.
[00:52:29] <bstrie> er, http://is.gd/0iacA4
[00:53:13] <blaenk> yesss ~Trait
[00:53:17] <blaenk> how are you aware of that snowflake
[00:53:29] <blaenk> did you scour old RFCs and conversations?
[00:53:51] <woboats> "<aatch> I'm a fan of bringing back `~` for them, btw."
[00:53:58] <blaenk> oo, :D nice one aatch
[00:54:16] *** Quits: wolfviking0 (wolfviking0@moz-8hd.3b6.246.162.IP) (Client exited)
[00:54:23] <aatch> I didn't come up with it. I don't remember who did though.
[00:54:28] <blaenk> I did
[00:54:32] <blaenk> all glory to me
[00:54:45] <bstrie> not thrilled at the idea of bringing ~ back :P
[00:54:56] *** Joins: csherratt (textual@moz-357qdq.cable.teksavvy.com)
[00:55:09] <aatch> bstrie, it's been a while since we removed it as syntax for owned pointers.
[00:55:11] *** Joins: m_kato (m_kato@moz-86b4bs.bitcat.net)
[00:55:17] <blaenk> https://github.com/rust-lang/rfcs/pull/529#issuecomment-67274402 aturon considered it for automatic conversions and then I realized it'd probably be awesome for ART
[00:55:18] <mindtree> `fn foos(&self) -> impl Iterator<Item=Foo> { foos.vec_of_bars.map(|bar| bar.foo) }`
[00:55:33] <aatch> bstrie, for what it's worth though, I don't care too much about how the feature works. `impl Foo` is fine too.
[00:55:36] <mindtree> .iter().map*
[00:56:09] <blaenk> agreed. the feature is the most important thing
[00:56:24] <mindtree> I kinda like @ for abstract/anonymous
[00:56:28] <woboats> I asked earlier but no one responded: is Sized the only trait that type parameters are bound by by default or are there others?
[00:56:35] <blaenk> just seems like ~ is pretty cool for it, like '~Iterator<i32>` be 'an Iterator<i32>-like'
[00:56:39] <aatch> I'm very much a syntax-follows-semantics guy.
[00:56:52] <aatch> woboats, currently, yes. It is the only default bound.
[00:56:55] <bstrie> woboats: it's the only one
[00:57:22] <woboats> And so that's built-in to the compiler and not something derived from a library level definition
[00:57:45] <mindtree> what if there was no syntax? i.e. `-> Iterator<Item=Foo>`
[00:58:11] <aatch> woboats, yep. There are two-ish unsized primitive types, [T] and str, and `Trait`
[00:58:21] <woboats> That is, it's not the case that you could define a new trait and define so that if it was in scope, type parameters were by default bound to it the way they are to Sized
[00:58:22] <bstrie> mindtree: good point, I wonder if there's some deeper problem with that
[00:58:28] *** Joins: wrl (lol@don.gs)
[00:58:46] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[00:59:06] <woboats> aatch, how are new !Sized types defined? (I guess I could just look at the code for Path)
[00:59:09] <mindtree> bstrie: ahh, I guess if you want to return a "reference to some anonymous iterator" the syntax would end up the same as returning a trait object
[00:59:18] <bstrie> mindtree: ah, yeah
[00:59:54] <aatch> woboats, you just use an unsized type in the definition.
[01:00:11] <woboats> aatch, that makes sense.
[01:00:33] <woboats> Sized is the only trait with built-in magic like this?
[01:00:36] *** Joins: jgallagher (john@moz-6ge.dhn.131.24.IP)
[01:00:44] <woboats> (of any sort, I mean)
[01:00:48] <aatch> woboats, that includes a type parameter with the Sized bound removed. So `struct Foo<T:?Sized>(T)` is unsized if T is unsized.
[01:01:18] <jgallagher> is this use of mem::transmute safe? (force a FnBox that has references to look like it’s ‘static, and use a channel to block and make sure it’s run before any references could fall out of scope) http://is.gd/dVBvZv
[01:01:29] <jgallagher> it appears to work correctly, but i’d like another set of eyes :)
[01:01:37] <woboats> Is Copy some kind of magic?
[01:01:43] <aatch> woboats, nope. Copy is technically a compiler thing, it's just that you have to opt into it. You can't force a non-Copy type to be copy.
[01:02:03] <aatch> woboats, the "nope" is for the point before the one you just made...
[01:02:09] <woboats> Yeah I could tell from timing
[01:02:10] <bstrie> Copy has a little magic, in a way that Send and Sync do not have
[01:02:33] <woboats> But Send & Sync are just normal traits which have a blanket impl?
[01:02:45] <aatch> woboats, not quite.
[01:03:08] *** Quits: dawehner (quassel@moz-id4.bjg.78.66.IP) (Ping timeout: 121 seconds)
[01:03:16] *** Joins: mnemnion (mnemnion@moz-8a187j.0r24.tle7.0009.2601.IP)
[01:03:17] <aatch> woboats, they are automatically implemented for any type that 1) is composed only of Send/Sync types and 2) doesn't opt-out.
[01:03:38] *** Quits: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net) (A TLS packet with unexpected length was received.)
[01:04:04] <woboats> aatch, but is that the semnatics of `impl Foo for .. {}` or is it built in to the language?
[01:04:26] <woboats> I've been reading the RFCs about this but not 100% following the nuance of them
[01:04:29] <aatch> woboats, it's built into the language.
[01:04:40] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[01:05:00] *** Quits: Altazimuth (Altazimuth@moz-rb7u6p.skybroadband.com) (Connection closed)
[01:05:07] <aatch> woboats, since a blanket impl would be self-referential: `impl<T:Send> Send for T`
[01:05:32] <woboats> So what does `impl Foo for .. {}` mean?
[01:05:47] <aatch> woboats, it's just that the compiler doesn't actually care what makes a type Send or Sync, it just cares about what types do and don't.
[01:05:58] *** Joins: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp)
[01:06:32] *** Quits: kent (kent@moz-nd2iqs.fl.atlanticbb.net) (Ping timeout: 121 seconds)
[01:06:38] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[01:06:49] <aatch> woboats, that... is a good question. I may have been wrong about much of what I just said.
[01:06:53] <aatch> Give me a minute
[01:08:58] <reem> it’s part of impl Foo for .. {}
[01:09:15] <reem> the language knows about Send/Sync for making Box<X + Send> work
[01:10:32] *** Quits: rootnode (rootnode@moz-go1ut4.ip1.george24.com) (Ping timeout: 121 seconds)
[01:10:34] *** Joins: senderista (tdbaker@moz-76rvlu.cs.washington.edu)
[01:10:53] *** Quits: mjewkes (mjewkes@moz-uur7pt.eastlink.ca) (Connection closed)
[01:11:18] *** joehillen is now known as joehillen|away
[01:12:03] *** Quits: davebettin (davebettin@moz-hde.5e5.136.67.IP) (Ping timeout: 121 seconds)
[01:12:20] *** Quits: jeffasinger (jeff@moz-u5nog7.res.rr.com) (Client exited)
[01:12:21] *** Joins: askujdhasd (bzlandfill@moz-r1qaud.cable.earthlink.net)
[01:12:51] <woboats> reem, that makes sense. is it intended that eventually Box<Foo + Bar> will work?
[01:12:59] <reem> likely yes
[01:13:04] <reem> details uncertain
[01:13:38] *** Quits: askujdhasd (bzlandfill@moz-r1qaud.cable.earthlink.net) (Quit: CGI:IRC (EOF))
[01:15:09] *** Joins: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP)
[01:15:09] *** Quits: oceanwhit (christianwh@moz-d046r2.res.rr.com) (Quit: Lost terminal)
[01:15:17] *** Quits: mib_xgmyh1 (Mibbit@moz-ajce17.ma.comcast.net) (Ping timeout: 121 seconds)
[01:15:18] *** Joins: zhoeon (fc@moz-cuhqb2.cable.teksavvy.com)
[01:16:53] *** Joins: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net)
[01:18:30] *** Joins: zhoeon_ (fc@moz-cuhqb2.cable.teksavvy.com)
[01:18:30] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[01:20:05] *** Joins: akiss (akiss@moz-vsuh1b.g9gc.5op0.fa00.2401.IP)
[01:20:42] <maurer> So, uh, do you all still want ICEs if they're being triggered by huge codebases?
[01:20:48] <maurer> Or do you only want ICEs if they're minimized?
[01:21:11] *** Joins: Guest_ (textual@moz-6um9co.ca.comcast.net)
[01:21:35] <aatch> maurer, if you can minimize them, that'd be great, but otherwise post them anyway.
[01:22:15] *** Quits: santiago (santiago@moz-8th.j2e.167.12.IP) (Quit: Computer has gone to sleep.)
[01:22:16] *** Quits: saterus (saterus@moz-rutqj0.res.rr.com) (Connection closed)
[01:22:18] <Mutabah> maurer: If you can't minimise, at least get the bactrace and debug output
[01:22:25] <Mutabah> s/debug/log/
[01:22:28] <maurer> Also, does beta count, or only if it repros on nightly?
[01:22:49] <Mutabah> beta counts
[01:22:58] <Mutabah> (afaik)
[01:23:14] *** Joins: fkaa (tundmatu@moz-501od2.business.telia.com)
[01:23:23] <Mutabah> Iirc, beta will become 1.0, so if beta is ICEing, it's an issue
[01:23:38] <XMPPwocky> Mutabah: from my understanding
[01:23:43] *** Quits: zhoeon_ (fc@moz-cuhqb2.cable.teksavvy.com) (Ping timeout: 121 seconds)
[01:23:45] <XMPPwocky> the betas wont
[01:24:02] <Mutabah> XMPPwocky: Hmm?
[01:24:09] <XMPPwocky> instead, it's like, beta *forks off* and 6 weeks later a 1.0 release comes from that 
[01:24:10] *** Joins: zxq9 (ceverett@moz-qsm369.mesh.ad.jp)
[01:24:23] <Mutabah> XMPPwocky: Yeah, beta has forked
[01:24:25] *** Joins: druzac (druzac@moz-n22.kbj.141.64.IP)
[01:25:02] <aatch> If it doesn't repro on nightly, then the fix should be added to beta. So still post and mention that it doesn't happen on nightly.
[01:25:10] *** Quits: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP) (Ping timeout: 121 seconds)
[01:25:55] <aatch> Sometimes issues will be fixed as a side-effect of other work.
[01:26:03] *** Joins: popow (Thunderbird@moz-03f.kd0.252.223.IP)
[01:26:21] <maurer> OK, trying to generate relevant backtraces (just wanted to make it wouldn't just be considered spamming the issue tracker)
[01:27:31] <aatch> maurer, as long as you make an effort in reporting the issue, it doesn't matter. Even if it's a duplicate, the extra information can just be copied to the other issue.
[01:27:45] <aatch> And already-fixed issues are easily closed.
[01:28:06] <aatch> It's low-effort "Things don't work" issues that are the clutter.
[01:30:13] *** Joins: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP)
[01:30:52] *** Quits: zhoeon (fc@moz-cuhqb2.cable.teksavvy.com) (Quit: leaving)
[01:31:15] <aatch> steveklabnik, did you just rollup a rollup PR?
[01:32:08] <datalus> hmm what's an easy way to join str slices?
[01:32:25] <aatch> datalus, into a String
[01:32:29] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[01:33:27] *** Quits: lov2cod (Adium@moz-u5q1mr.o38v.k60l.0119.2620.IP) (Ping timeout: 121 seconds)
[01:34:29] *** Quits: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP) (A TLS packet with unexpected length was received.)
[01:34:54] <datalus> Hmm, kind of tricky
[01:35:01] <datalus> I have a mix of string literals and string slices.
[01:35:08] *** Joins: daheise (Mibbit@moz-gl1dm6.knvltn.sbcglobal.net)
[01:35:14] *** Quits: Savago (Savago@moz-8hd.3b6.246.162.IP) (Client exited)
[01:35:25] <datalus> so like dir + "/" + lib_name + ".dll" ... the two variables are of type &str
[01:36:21] *** Joins: gopar (gopar@moz-5039uj.ca.comcast.net)
[01:38:02] <daheise> Hello. I was here earlier today asking about how to get from a C `char*`  to a Rust `String`. I got some advice, and I can compile now, but I get no output. This is the code I have right now. Does anyone have advice on how to accomplish this? http://is.gd/2ASir0
[01:38:42] <steveklabnik> aatch: a lot of my PRs modified the books' TOC, so they conflcited, so i fixed the conflicts
[01:39:07] <steveklabnik> and then i rolled in one last PR that i saw only after i did the rollup :)
[01:39:10] *** Quits: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net) (A TLS packet with unexpected length was received.)
[01:39:40] <XMPPwocky> datalus: luckily, string literals are also of type &str
[01:39:43] *** Quits: jdm (jdm@moz-ilbt2e.cable.teksavvy.com) (Quit: )
[01:39:47] *** Joins: lenstr (lenstr@moz-t72.vju.25.171.IP)
[01:40:02] <aatch> steveklabnik, I just saw the string of closed PRs in #rust-bots followed by your rollup, so it looked like you'd rolled up a rollup PR.
[01:40:17] *** Quits: joneshf-laptop (joneshf@moz-l4h.b5s.208.98.IP) (Ping timeout: 121 seconds)
[01:40:17] *** Quits: lenstr (lenstr@moz-t72.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[01:40:33] *** Joins: lenstr (lenstr@moz-t72.vju.25.171.IP)
[01:41:02] *** Quits: bren2010 (bren2010@moz-356.o3d.198.71.IP) (Quit: )
[01:41:27] *** Quits: lenstr (lenstr@moz-t72.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[01:41:39] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[01:41:55] *** Joins: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net)
[01:41:58] <FreeFull> daheise: Using from_raw_parts with a pointer you got from C is definitely not the right thing to do
[01:42:06] <steveklabnik> ahh
[01:42:13] <daheise> FreeFull: Ok, that's a start, then
[01:42:15] <steveklabnik> yeah, i just happened to be literally checking in on the rollup when it merged
[01:42:18] <steveklabnik> so i kicked off another
[01:42:30] *** Joins: starless (starless@moz-u9gmm1.res.rr.com)
[01:42:40] *** Quits: druzac (druzac@moz-n22.kbj.141.64.IP) (Client exited)
[01:42:48] *** Quits: DerisiveLogic (smuxi@moz-1jqqlg.biz.rr.com) (Ping timeout: 121 seconds)
[01:43:07] <FreeFull> daheise: You'll want to make a copy of the string data. String uses a different allocator from the C code
[01:43:51] *** Quits: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net) (A TLS packet with unexpected length was received.)
[01:44:22] <starless> Hey guys, can I do char arithmetic in Rust? Something to the end of: let x = 'a' + 1; // x is 'b'
[01:44:38] <aatch> starless, not with `char`
[01:44:55] <huon> starless: what are you trying to do? (at a higher level)
[01:45:15] <starless> huon: sorry to be that guy, but I'm just playing with Rust :p
[01:45:42] <starless> I should think relationships between alphanumeric characters are important enough, though
[01:45:45] <aatch> starless, `char` is a "unicode scalar value" (I think). Which is pretty much just the unicode codepoint for the character (unicode is *complicated*)
[01:45:47] <huon> starless: np, I was just wondering if we could achieve your goals some other way
[01:46:05] <huon> starless: you can cast a char to an integer and do arithmetic on that
[01:46:18] <FreeFull> playbot: 'b' as u32
[01:46:20] -playbot- 98
[01:46:23] <huon> or just use integers from the start, e.g. b'a' is a u8 with the ASCII value of a
[01:46:24] <FreeFull> playbot: b'a'
[01:46:25] -playbot- 97
[01:46:46] <FreeFull> b'x' has the type u8
[01:46:57] <ChrisMorgan> If asked to describe optimisation levels 0–3, what would you write?
[01:47:01] <starless> ok! thanks people.
[01:47:22] <FreeFull> There are also b"byte strings" which have the type  &[u8; N] (coerces to &[u8])
[01:47:47] <GBGamer> ChrisMorgan: 0 -- almost none, 1 -- pretty useless, 2 -- the optimization level you should use, 3 -- also pretty useless
[01:47:52] *** Quits: sprang_ (sprang@moz-d0kmvi.12d9.sm5v.0009.2601.IP) (Ping timeout: 121 seconds)
[01:47:53] <starless> FreeFull: noted! good to know
[01:48:04] <FreeFull> ChrisMorgan: I would write about the specific optimisations that get enabled at each level
[01:48:04] <steveklabnik> GBGamer: 03 and 02 in rust are only different by one pass
[01:48:16] <steveklabnik> it's true that in c and c++, 03 can be worse than 02
[01:48:18] <FreeFull> At least, the notable ones
[01:48:28] <ChrisMorgan> And if one wants to get specific, what do 1 and 3 do?
[01:48:40] <huon> NB. that the optimisation levels are implementation dependent
[01:48:58] <huon> e.g. I believe GCC's O3 is often worse than O2, but this doesn't hold for clang
[01:49:14] <huon> it also doesn't hold for rustc
[01:49:27] <FreeFull> cargo's --release uses O2
[01:49:32] <huon> no
[01:49:34] *** Joins: rootnode (rootnode@moz-go1ut4.ip1.george24.com)
[01:49:36] <FreeFull> That's changed?
[01:49:41] *** Quits: lyc (lyc@moz-jft.nr8.226.207.IP) (Connection closed)
[01:49:57] <huon> AFAIK, it's always been 3
[01:49:58] *** Joins: davebettin (davebettin@moz-ip635p.or.comcast.net)
[01:50:24] * ChrisMorgan finds it funny how we speak of -O3 even though -O is actually a boolean flag in rustc
[01:50:35] <niconii> playpen uses -O2
[01:50:38] <FreeFull> Oh, I was thinking of rustc's -O flag
[01:50:41] <GBGamer> -O is -O2
[01:50:53] *** Quits: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp) (Quit: Bye)
[01:50:56] <ChrisMorgan> GBGamer: well, it’s -C opt-level=2.
[01:51:07] <GBGamer> you know what I mean :P
[01:51:24] <daheise> FreeFull: Does this look more sane? It gets me the message, but I don't know if I can get it shorter. http://is.gd/HF3c97
[01:51:28] <GBGamer> so, according to stackoverflow: http://stackoverflow.com/questions/15548023/clang-optimization-levels
[01:51:40] *** Quits: grantdefayette (grantdefaye@moz-c2phg3.ct.charter.com) (Quit: This computer has gone to sleep)
[01:51:46] <huon> GBGamer: that's almost certainly changed now
[01:52:04] <GBGamer> yeah, I'm looking for updated docs
[01:52:04] <huon> clang/llvm are constantly adding/removing/tweaking passes
[01:52:18] <GBGamer> we use 3.7, right?
[01:52:47] <aatch> So it looks like opt-level=3 on rustc does an extra vectorisation pass and maybe additional arg-promotion and scalar evolution passes.
[01:52:58] <huon> it's sort-of meaningless to talk about the specific list of passes a compiler uses, at least, the "knowledge" doesn't transfer much.
[01:53:04] <FreeFull> daheise: At first glance, it looks correct
[01:53:27] *** Joins: kent (kent@moz-nd2iqs.fl.atlanticbb.net)
[01:53:31] <daheise> FreeFull: Thanks for looking
[01:53:43] *** Quits: meh (meh@moz-2vi7cf.42-151.net24.it) (Ping timeout: 121 seconds)
[01:53:43] <FreeFull> daheise: I'm just wondering, what does hello's declaration look on the C side?
[01:53:55] *** Joins: DerisiveLogic (smuxi@moz-g93io6.res.rr.com)
[01:54:21] *** Quits: ekidd (ekidd@moz-6t81cn.nh.comcast.net) (Ping timeout: 121 seconds)
[01:54:24] *** Quits: swgillespie (swgillespie@moz-1i5.3un.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[01:54:33] <daheise> FreeFull: It's short enough I'll just send the definition.  `char * hello() { return strdup("Hello"); }`
[01:54:37] <aatch> Looks like level 1 just removes some of the more computationally expensive optimisations.
[01:54:44] <ChrisMorgan> So why do we have -O as `-C opt-level=2` rather than `-C opt-level=3`?
[01:55:01] <FreeFull> daheise: Ok, on the Rust side that'd be *mut rather than *const
[01:55:04] *** Quits: senderista (tdbaker@moz-76rvlu.cs.washington.edu) (Client exited)
[01:55:42] <aatch> Notably, opt-level=1 doesn't merge functions, presumably because it's quite a slow pass.
[01:55:45] *** Joins: detsak (darren@moz-804egb.dyn.optonline.net)
[01:55:57] *** Quits: Guest_ (textual@moz-6um9co.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[01:55:58] *** Joins: donbright (Mibbit@moz-jfussa.ok.cox.net)
[01:56:35] <ChrisMorgan> Does “merge functions” means reducing duplication in generics?
[01:57:15] *** Joins: Guest_ (textual@moz-6um9co.ca.comcast.net)
[01:57:35] <aatch> ChrisMorgan, yep.
[01:58:08] *** Joins: fyolnish (fyolnish@moz-uup6dl.ocn.ne.jp)
[01:58:25] *** Joins: lyc_ (lyc@moz-jft.nr8.226.207.IP)
[01:58:47] <GBGamer> looks like you can get the different passes with llvm-as < /dev/null | opt -O3 -disable-output -debug-pass=Arguments
[01:59:07] <GBGamer> and you can get more info on the specific passes in the docs:
[01:59:13] <GBGamer> http://llvm.org/docs/Passes.html
[02:00:11] *** Joins: acgtyrant (acgtyrant@moz-3kd.b79.160.124.IP)
[02:00:34] *** Quits: }ls{ (uhelp@moz-98eld5.dip0.t-ipconnect.de) (Quit: User terminated by real life interrupt)
[02:01:50] *** Quits: akiss (akiss@moz-vsuh1b.g9gc.5op0.fa00.2401.IP) (Ping timeout: 121 seconds)
[02:02:37] <huon> GBGamer: nb. there's no guarantee that opt's passes will be the same as ours
[02:03:11] <GBGamer> don't we just pass our optimization flags to llvm?
[02:03:24] <aatch> Especially if you don't use the `opt` from the Rust build
[02:03:45] <GBGamer> well, obviously you should use that llvm :P
[02:04:02] *** Quits: starless (starless@moz-u9gmm1.res.rr.com) (Quit: Leaving)
[02:04:45] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[02:05:01] *** Joins: diego (Mibbit@moz-69p.i83.83.201.IP)
[02:05:23] *** Quits: housl (housl@moz-qnjt4k.ut.comcast.net) (Quit: WeeChat 1.1.1)
[02:05:23] *** Joins: gsingh93 (gulshan@moz-qnbukr.mi.comcast.net)
[02:06:01] <diego> hello rust folk. Does some one may tell me how to transform a &[String] into a Vec<String>
[02:06:25] <GBGamer> .to_owned(), I think?
[02:06:29] *** Joins: winding-lines (textual@moz-g7k4j8.ca.comcast.net)
[02:06:34] *** Quits: Wild_Cat (Max@moz-fa8mvt.dsl.teksavvy.com) (Ping timeout: 121 seconds)
[02:06:35] *** Joins: erz (erz@moz-n26c5c.broadband.corbina.ru)
[02:06:40] <GBGamer> don't quote me on that
[02:06:47] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[02:07:05] <acharles> https://gist.github.com/ahmedcharles/3ec9559a4887ab18ce8a Anyone know why this doesn’t work?
[02:07:06] <aatch> ".to_owned(), I think?" - GBGamer 
[02:07:14] <aatch> http://doc.rust-lang.org/std/primitive.slice.html#method.to_owned
[02:07:42] <aatch> acharles, what's wrong with it?
[02:07:54] *** Joins: zhoeon (fc@moz-cuhqb2.cable.teksavvy.com)
[02:08:07] <acharles> test.rs:9:66: 9:92 error: type `core::iter::StepBy<A, core::ops::Range<A>>` does not implement any method in scope named `skip_while`
[02:09:01] *** Quits: dmac_ (dmac@moz-4kcd1c.ca.comcast.net) (Ping timeout: 121 seconds)
[02:09:11] *** Quits: davebettin (davebettin@moz-ip635p.or.comcast.net) (Ping timeout: 121 seconds)
[02:09:12] <diego> GBGamer, aatch: works
[02:10:04] <GBGamer> aatch: I wasn't sure it worked on non-Copy types
[02:10:30] *** Joins: kkus (kkus@moz-baj4jj.74.srtnet.com)
[02:10:45] <aatch> acharles, that's because the Iterator impl for `StepBy` requires `A: Clone` and `&A : Add<&A, Output=A>`
[02:12:04] <acharles> Doesn’t Integer provide Add?
[02:12:15] <aatch> acharles, and `Integer` doesn't specify that you can add references together.
[02:12:40] *** Quits: zz_kimundi (kimundi@moz-ocelec.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[02:12:48] <acharles> Seems weird
[02:12:48] *** Parts: insaneinside (user@moz-dgv9mb.customer.broadstripe.net) ("bleh")
[02:13:04] <aatch> acharles, `Integer` says you can add two *values* together and get a new value, not that you can add together two references to those values and get a value out.
[02:13:46] <aatch> acharles, just add `where &A : Add<&A, Output=A>` to your function.
[02:14:40] *** Joins: zz_kimundi (kimundi@moz-mmvhvu.dip0.t-ipconnect.de)
[02:14:41] *** Quits: ChrisMorgan (ChrisMorgan@moz-g6osuq.tpgi.com.au) (Ping timeout: 121 seconds)
[02:14:45] <acharles> It complains about a missing lifetime specifier...
[02:14:47] *** Parts: donbright (Mibbit@moz-jfussa.ok.cox.net) ()
[02:14:52] <diego> another question... where am I making it wrong? http://miburl.com/BLhxK4 
[02:15:07] *** zz_kimundi is now known as kimundi
[02:15:18] *** Joins: ChrisMorgan (ChrisMorgan@moz-g6osuq.tpgi.com.au)
[02:15:41] <aatch> acharles, ah, right `where for<'a> &'a A : Add<&'a A, Output=A>`
[02:15:53] <aatch> acharles, forgot about that part.
[02:16:34] <aatch> diego, uhhh... that link doesn't go where I think it should go.
[02:17:01] *** Quits: zhoeon (fc@moz-cuhqb2.cable.teksavvy.com) (Quit: leaving)
[02:17:05] <diego> https://play.rust-lang.org ..
[02:17:09] *** Joins: playjax (chatzilla@moz-3p7j3t.optusnet.com.au)
[02:17:30] <aatch> diego, play.rust-lang.org uses is.gd as a shortener
[02:17:57] <niconii> diego: use the share button up top in playpen
[02:18:08] <niconii> diego: it'll give you a link you can paste in here
[02:18:18] <diego> http://is.gd/T1NA1p
[02:18:22] <diego> sory...
[02:18:24] <aatch> diego, I got redirected to some home-improvement page.
[02:18:29] *** Joins: Rym (y@moz-o80acm.range86-189.btcentralplus.com)
[02:18:35] <niconii> diego: it's okay
[02:18:57] *** Joins: davebettin (davebettin@moz-ip635p.or.comcast.net)
[02:18:58] <diego> it was generated by the "Minify URL" in the IRC web page
[02:19:00] <diego> sore
[02:19:04] <diego> sory
[02:19:49] <aatch> diego, anyway, enums are namespaced.
[02:19:52] *** Joins: zhoeon (fc@moz-cuhqb2.cable.teksavvy.com)
[02:20:04] <niconii> diego: anyway, in the match statement, you want ValueArgument::Supplied(val) and ValueArgument::MissingValue
[02:20:14] <acharles> https://gist.github.com/ahmedcharles/3ec9559a4887ab18ce8a Still not working :(
[02:20:16] <aatch> diego, http://doc.rust-lang.org/book/enums.html
[02:20:23] *** Quits: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[02:20:28] <niconii> diego: and you want to convert "jhon" to a string, so ValueArgument::Supplied("jhon".to_string())
[02:20:46] <diego> ya... that was the second test
[02:20:47] <diego> ...
[02:20:55] <niconii> diego: http://is.gd/BNA88r
[02:21:01] *** Joins: tamird (textual@moz-gg3hct.res.rr.com)
[02:21:09] <diego> but using Option I dont need to namespace Some nor None
[02:21:33] <Amaranth> diego: They're in the prelude
[02:21:44] <Amaranth> You could also do http://is.gd/F40bXK
[02:22:05] <Amaranth> The prelude is things automatically imported in every rust file, common things to save you the work
[02:22:06] <diego> I see
[02:22:08] <niconii> diego: std re-exports them as Some and None because they're so commonly used
[02:22:41] <diego> thanks all, it is a very nice communit
[02:23:13] <niconii> diego: yep, no problem
[02:23:37] <Amaranth> http://doc.rust-lang.org/std/prelude/v1/ has a list of the things automatically included for you
[02:23:42] <aatch> acharles, bah, you also a `Zero` bound on `A`
[02:23:55] <aatch> acharles, the error messages in these cases are not clear, unfortunately.
[02:24:27] <acharles> Hehe, indeed. Thanks for the help.
[02:24:46] <acharles> I wonder if I could find a way to make the messages better… though that’s probably not easy.
[02:25:04] <aatch> acharles, it's possible, just not easy, as you said.
[02:25:56] <aatch> acharles, we basically have to see if there is method that could be called if the bounds were correct. Doing that in a way that isn't useless would be difficult.
[02:27:15] *** Joins: rmgk_ (ragnar@moz-6s3rhm.dyn.telefonica.de)
[02:27:51] *** Quits: winding-lines (textual@moz-g7k4j8.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[02:28:00] <acharles> Yeah… it’s probably entirely non-trivial.
[02:28:22] *** Joins: M_D_K (M_D_K@moz-qouth3.ca)
[02:28:40] <aatch> acharles, it's the "in a way that's not useless" part that's hard.
[02:29:36] <acharles> The Zero doesn’t make it work :(
[02:29:58] <Sprog> Is there any way to force tail call optimization on a function?
[02:30:04] <Sprog> ex. scala has @Annotation.tailrec
[02:30:12] *** Quits: fabianvf (fabianvf@moz-fjqmui.va.comcast.net) (Connection closed)
[02:30:12] <Sprog> that way you dont have to trust the compiler
[02:30:24] <Sprog> and you get the additional bonus of throwing an error if it cant do it.
[02:30:33] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[02:30:43] *** Quits: rmgk (ragnar@moz-rtklpb.dyn.telefonica.de) (Ping timeout: 121 seconds)
[02:31:09] *** Quits: lyc_ (lyc@moz-jft.nr8.226.207.IP) (Connection closed)
[02:31:30] <aatch> Sprog, nope. Guaranteed TCO is hard, even if it's opt-in.
[02:31:52] <aatch> Sprog, it's a planned feature, but there's no timeline for it.
[02:32:00] <Sprog> aatch, why is it hard?
[02:32:42] *** Joins: d356 (d@moz-buqa6q.cpe.distributel.net)
[02:32:48] <huon> destructors make it easy for what looks like a tail call to not be a tail call
[02:32:51] *** Joins: zeebo (zeebo@moz-6rqv1a.ut.comcast.net)
[02:32:51] <aatch> Sprog, lots of things can prevent it from being possible and we'd have to detect those cases.
[02:33:49] <Sprog> Well im just curious. I was pretty sure compilers just used heuristics to detect it
[02:33:57] <Sprog> I dont think scala guarantees it unless you use the annotation
[02:34:12] <Sprog> not that you could do a similar thing in Rust, but the annotation makes sense. Pass that on to the user.
[02:34:17] <Sprog> mostly just talking theory here.
[02:34:57] *** Joins: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP)
[02:35:19] <aatch> Sprog, sure, there are heuristics, but if you ask for it and expect an error it's tricky to do, especially with generics, since one instance of the function might be fine and another not.
[02:35:46] *** Joins: winding-lines (textual@moz-g7k4j8.ca.comcast.net)
[02:35:59] *** Joins: mdinger (mdinger@moz-gn4ts5.9bf5.ppaa.0306.2602.IP)
[02:36:06] *** Quits: NatureLiang (NatureLiang@moz-0aj.tc3.126.171.IP) (Client exited)
[02:36:18] <mbrubeck> Sprog: Early versions of Rust had a `become` keyword that was used (or reserved for future use?) as a marker for tail calls.
[02:36:29] *** Joins: NatureLiang (NatureLiang@moz-0aj.tc3.126.171.IP)
[02:36:40] <fyolnish> rust compiles multiple versions of a function?
[02:36:41] <Sprog> aatch, how would templates affect it? Honest question. TCO is just rewriting a recursive function to use a loop instead. It should be invariant of the data type of the thing.
[02:36:59] <mbrubeck> Sprog: Here's a good summary - https://mail.mozilla.org/pipermail/rust-dev/2013-April/003557.html
[02:37:02] <aatch> Sprog, nope, destructors.
[02:37:34] <Sprog> mbrubeck, thanks for the read. I'll be sure to read it.
[02:37:41] <steveklabnik> mbrubeck: Sprog things have changed since then
[02:37:42] <aatch> If TCO was just a rewriting pass to a loop, it wouldn't be an explicit design decision in some languages.
[02:37:53] <steveklabnik> specifically, LLVM has added support on more architectures
[02:38:29] *** Quits: daheise (Mibbit@moz-gl1dm6.knvltn.sbcglobal.net) (Quit: http://www.mibbit.com ajax IRC Client)
[02:38:49] <steveklabnik> https://github.com/rust-lang/rfcs/pull/81
[02:39:14] *** Joins: michael1 (michael@moz-9vjtig.mo.charter.com)
[02:39:44] <fyolnish> rustc got rid of --emit-llvm?
[02:39:49] <aatch> Anyway, having it be an opt-in thing is fine, we just don't have the feature yet. Functional languages like Scala can do it easier.
[02:39:57] <aatch> fyolnish, `--emit llvm-ir`
[02:40:10] <Sprog> hmm
[02:40:16] <Sprog> im trying to understand how destructors make TCO hard.
[02:40:27] <fyolnish> "unknown emission type"
[02:40:38] <fyolnish> Sprog: they execute after the return
[02:40:44] *** Quits: brainproxy (michael@moz-9vjtig.mo.charter.com) (Ping timeout: 121 seconds)
[02:40:49] <aatch> In fact, I assume the only reason Scala requires the annotation is because of Java interop
[02:41:28] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[02:41:28] *** ChanServ sets mode: +o erickt
[02:41:55] *** Quits: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP) (Ping timeout: 121 seconds)
[02:41:56] *** Joins: lenstr (lenstr@moz-t72.vju.25.171.IP)
[02:42:06] <Sprog> hmm I had no idea TCO was this complicated
[02:42:09] <Sprog> guess I have some reading to do
[02:42:25] <Sprog> kinda wish my compilers class went over this class of optimization
[02:42:36] *** Quits: lenstr (lenstr@moz-t72.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[02:42:51] *** Joins: lenstr (lenstr@moz-t72.vju.25.171.IP)
[02:42:54] <geofft> Sprog: struct X; impl Drop for X {...}; fn foo(i: u32) {let q = if is_prime(i) {Some(X)} else {None}; if i == 0 {1} else {foo(i-1)}} 
[02:43:09] <aatch> Sprog, don't get me wrong, it's not like we're against it, or that it's infeasible. It's just the kind of thing that requires somebody that really knows what they're doing (i.e. not me) to figure out all the details.
[02:43:22] <aatch> Sprog, it's not TCO that's complicated, it's destructors.
[02:43:31] <geofft> the return value is always 1, but it has to run X::drop some annoying-to-track number of times :) 
[02:43:31] <aatch> Destructors make everything more complicated.
[02:43:47] *** Quits: lenstr (lenstr@moz-t72.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[02:43:51] <bstrie> Sprog: TCE erases the old stack frame and turns it into the new one, so you can't have any work "left over" to do in the old stack frame, such as destructors
[02:44:45] <aatch> I'm definitely sympathetic to zwarich's point-of-view that destructors aren't worth the cost.
[02:44:50] <Sprog> I can see how that's an issue
[02:45:14] <Sprog> I guess destructors are only useful for cleaning up pointers
[02:45:21] <Sprog> e.g C++ 
[02:45:25] <aatch> Sprog, not just that.
[02:45:37] <fyolnish> I'd argue that cleaning up is at least as useful as tco :p
[02:45:45] <aatch> Destructors can be used for all sorts of things.
[02:45:47] <geofft> if your language limits destructors to freeing memory, then sure, you couuld just do a giant auto-release pool around the tail call, or something 
[02:45:50] <bstrie> aatch: and if we didn't have them we'd be lamenting that too :P
[02:46:01] *** Quits: kkus (kkus@moz-baj4jj.74.srtnet.com) (Connection closed)
[02:46:04] <diego> one question about string concatenation.. http://is.gd/p3WDh1 what is wrong
[02:46:05] <aatch> bstrie, heh, probably.
[02:46:07] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[02:46:16] <Sprog> I'm not used to languages with destructors. I did OS class in C, some pet projects in C, and a few research projects in C++
[02:46:20] <Sprog> but I hardly ever used destructors
[02:46:24] <Sprog> except to keep memory clean
[02:46:30] <fyolnish> gcc/clang have destructors
[02:46:30] <Sprog> so im open to being elightened here.
[02:46:36] <mbrubeck> Sprog: http://blog.skylight.io/rust-means-never-having-to-close-a-socket/ has some examples of how destructors can be used in Rust.
[02:46:37] <aatch> bstrie, I'd be interested in what a true linear-typed Rust would look like.
[02:47:02] <mbrubeck> Sprog: https://blog.mozilla.org/research/2014/08/26/javascript-servos-only-garbage-collector/ is another example
[02:47:13] *** Joins: Wild_Cat (Max@moz-fa8mvt.dsl.teksavvy.com)
[02:47:22] *** Joins: ekidd (ekidd@moz-6t81cn.nh.comcast.net)
[02:47:43] <bstrie> aatch: I'm sure it will be interesting to explore one day
[02:48:16] <bstrie> aatch: honestly it wouldn't be too hard to tear out destructors, it would be the scope of a master's thesis
[02:48:33] <bstrie> "Rust Without RAII"
[02:48:44] *** Quits: ekidd (ekidd@moz-6t81cn.nh.comcast.net) (Quit: Quitte)
[02:49:12] <FreeFull> I still want linear types
[02:49:20] <Sprog> bstrie, language design is really cool
[02:49:30] <Sprog> bstrie, I wish my university offered a decent track for it.
[02:49:33] *** Joins: eric_lagergren (barsonme@moz-lr1hrn.wa.comcast.net)
[02:49:39] *** Joins: kvsari (kvsari@moz-fgsnv9.bbtec.net)
[02:50:08] <swgillespie> Sprog: there are a lot of great books out there if you're interested!
[02:50:47] <Sprog> I have the dragon book in front of me right now actually, anything else you can recommend?
[02:51:22] <bstrie> Sprog: I recommend that you come hang out at kmc's house in SF and spend months absorbing his library on programming languages :P
[02:51:27] <swgillespie> I personally enjoyed "Modern Compiler Implementation in C/Java/ML"
[02:51:37] <swgillespie> it's a great book and it walks you through the construction of a real compiler
[02:51:44] <Sprog> I'll check it out
[02:51:55] <Sprog> I like thinking about lisp variants at the moment actually
[02:51:57] <Sprog> strange enough
[02:52:04] <Sprog> I know im in a rust channel, but lisp is a neat language.
[02:52:22] <Murarth> BZZZZZZT, OUTSIDER.
[02:52:31] <bstrie> EXTERMINATE
[02:52:33] <bstrie> EXTERMINATE
[02:52:53] <Sprog> accidentally kicked a hornets nest
[02:52:54] <Sprog> whoopsies
[02:54:16] <Sprog> but come on, you guys have to appreciate everything as data
[02:54:17] <Sprog> right?
[02:54:19] <Sprog> .....right?
[02:54:32] <swgillespie> Sprog: oh absolutely! Rust's macro system is really similar to Scheme's
[02:55:01] <Sprog> hmm I'll have to look at that
[02:55:04] <Sprog> im still pretty new to rust
[02:55:10] <Murarth> I tried to learn either Scheme or Common Lisp once. Maybe it was too early in my programming career, but I didn't really get it.
[02:55:29] <Havvy> swgillespie:  I've been told it's a lot like Sweet.js's too.
[02:55:31] <Sprog> my first foray into functional programming was common lisp
[02:55:39] <aatch> I implemented Conway's Game of Life in Common LISP
[02:55:39] <Sprog> it holds a special place in my heart.
[02:55:46] <Havvy> Murarth:  Maybe try "How to Design Programs 2nd Edition"?
[02:55:47] <bstrie> Havvy: sweet.js was inspired by rust's system, they're both mozilla products
[02:56:06] <Havvy> bstrie:  Ah. I wasn't sure which way the inspiration went.
[02:57:18] <Murarth> Havvy: I think I just couldn't figure out how to do anything with it. It wasn't obvious to me how to open a socket or anything like that.
[02:57:36] <Sprog> it sure does take a long time getting used to thinking of stuff like + and / as functions though
[02:57:40] <Sprog> its very natural once you do.
[02:57:41] <swgillespie> Havvy: I've never heard of sweet js, that's pretty cool
[02:58:03] *** Joins: GGist (Mibbit@moz-st7v59.wa.comcast.net)
[02:58:14] <Sprog> LISP is having a crisis at the moment though, so I like to THINK about it haha
[02:58:25] <Sprog> I'm quickly preferring rust for everyday stuff.
[02:58:46] *** Joins: Guest22 (textual@moz-jt9juk.fibertel.com.ar)
[02:59:05] <aatch> Sprog, note that if you want to learn about language design, LISP-likes might not be the best option. Sure, there's more to language design than syntax, but the macro stuff makes it too easy to punt on difficult questions.
[02:59:35] *** Joins: Stents (Stents@moz-r8d.u6c.187.68.IP)
[03:00:10] *** Joins: davebettin_ (davebettin@moz-ip635p.or.comcast.net)
[03:00:16] <Havvy> swgillespie:  Rustbot is written with sweet.js.
[03:00:22] *** Quits: davebettin (davebettin@moz-ip635p.or.comcast.net) (Ping timeout: 121 seconds)
[03:00:32] <Havvy> Sprog:  What crisis is that?
[03:00:34] <aatch> Also, in my experience trying to add annotations like types to an S-expr syntax is really hard.
[03:00:53] <Havvy> aatch:  Have you seen typed-racket?
[03:01:00] <Stents> I had a question about dispatch, if I had a static dispatch function like this
[03:01:01] <aatch> Havvy, I have not.
[03:01:01] <Stents> pub fn genfn<T>(f: T) -> T {
[03:01:01] <Stents>     f
[03:01:01] <Stents> }
[03:01:11] <Stents> But then used it in a separate library only
[03:01:35] <Stents> Does the compiler figure out how to make a special version for each type like it normally would
[03:01:39] <Havvy> Stents:  Yes.
[03:01:42] <aatch> Stents, generic functions are inlined inside the crate you're compiling.
[03:02:26] <Stents> IF you didn't user a generic function at all would the function still be compiled into the binary?
[03:02:35] <aatch> No hidden boxing in Rust
[03:03:02] <aatch> Stents, if the generic function is never used, it'll never be monomorphised and never have code generated for it.
[03:03:11] <aatch> We don't compile generic functions at all.
[03:03:17] *** Joins: sprang_ (sprang@moz-6i5.c9m.56.172.IP)
[03:03:25] <geofft> I believe that one of the things that the "rlib" crate type includes is parsed source for these sorts of things 
[03:03:25] *** Joins: Guest__ (textual@moz-rtn.fg7.77.192.IP)
[03:03:29] <Stents> I see what you mean
[03:03:44] <Stents> What about generic structs, are they still considered static dispatch
[03:04:08] *** Joins: p1start (p1start@moz-nftjhe.org)
[03:04:13] *** Joins: frangio (frangio@moz-04sgf8.fibertel.com.ar)
[03:04:27] <Sprog> Havvy, I only recently heard about it - when reddit abandoned lisp on their backend they cited a bunch of reasons its not really that good
[03:04:39] <Sprog> havvy, I think most of it was lack of library support and poor threading support across variants
[03:04:43] <aatch> Stents, everything generic has to be monomorphised before we can do anything with it.
[03:04:45] <swgillespie> I thought reddit was Python, it was lisp?
[03:04:51] <Sprog> Yeah at one point
[03:05:07] <Havvy> "Poor threading support." "Goes to Python"
[03:05:09] <Sprog> http://www.redditblog.com/2005/12/on-lisp.html
[03:05:17] *** Joins: indefini (indefini@moz-4p4v25.ucom.ne.jp)
[03:05:30] <swgillespie> oooh, I didn't know that
[03:05:31] <swgillespie> that's cool
[03:06:18] <Sprog> yeah python is the antithesis of good choice there
[03:06:22] <Sprog> but at that time they had python or ruby
[03:06:24] <Sprog> pretty much
[03:06:36] <Sprog> both have GIL, so its pretty much pick whatever you like more
[03:06:36] <Sprog> haha
[03:07:05] *** Joins: druzac (druzac@moz-hn17us.vc.shawcable.net)
[03:07:47] <Havvy> Well, if you added a few more years, another lisp (Clojure) came onto the scene, and it's not plagued by the same library story as common-lisp.
[03:08:04] *** Joins: homa_rano (edre@moz-6pigob.cable.rcn.com)
[03:08:24] <Stents> How do generics work with dynamic linking?
[03:08:26] <swgillespie> I saw someone made a lisp that translates into a python AST too :P
[03:08:45] <aatch> Stents, do you know C++?
[03:09:05] <Stents> Aatch, I'm familiar with it.
[03:09:13] <Sprog> Clojure is really cool, I just really dislike the JVM
[03:09:20] <Sprog> I know, I program in Scala
[03:09:24] <Sprog> but that doesnt mean I like the JVM
[03:09:27] *** Joins: rbranson (rbranson@moz-oeg7f0.ca.comcast.net)
[03:09:27] *** Quits: Guest22 (textual@moz-jt9juk.fibertel.com.ar) (Quit: My Mac has gone to sleep. ZZZzzz…)
[03:09:34] <aatch> Stents, well generics are a bit like templates. We just serialize the AST into metadata in the library instead of require headers.
[03:09:44] <aatch> Stents, but it's pretty much the same thing.
[03:10:32] <Stents> Ok, so it would sort of compile the function when something compiles against the library is used instead of when the library is compiled?
[03:10:42] <aatch> Stents, correct.
[03:11:21] *** Joins: joneshf-laptop (joneshf@moz-t619m0.ucdavis.edu)
[03:13:46] *** Quits: timando (tim@moz-3s96kt.internode.on.net) (Quit: Konversation terminated!)
[03:15:59] *** Joins: colinsurprenant (colin@moz-q9ee1n.74.electronicbox.net)
[03:19:15] *** Quits: druzac (druzac@moz-hn17us.vc.shawcable.net) (Client exited)
[03:19:38] *** Quits: idegen (greg@moz-9c4nle.or.frontiernet.net) (Quit: Leaving.)
[03:19:58] *** Joins: idegen (greg@moz-9c4nle.or.frontiernet.net)
[03:20:30] *** Quits: fengshaun (fengshaun@moz-rf0qk5.cable.teksavvy.com) (Ping timeout: 121 seconds)
[03:24:07] *** Joins: jtdowney (jtdowney@moz-obnifk.il.comcast.net)
[03:26:13] *** Joins: mib_2cxzqn (Mibbit@moz-tah4h5.res.rr.com)
[03:26:47] *** Joins: lucian (lucian@moz-2c3pda.cable.virginm.net)
[03:27:27] *** Quits: mib_2cxzqn (Mibbit@moz-tah4h5.res.rr.com) (Quit: http://www.mibbit.com ajax IRC Client)
[03:27:40] <GBGamer> aatch: do you know what will happen with modules and templates, then?
[03:27:54] *** Joins: santiago (santiago@moz-ro2mm9.res.rr.com)
[03:28:03] <GBGamer> with C++17?
[03:30:14] *** Quits: rbranson (rbranson@moz-oeg7f0.ca.comcast.net) (Quit: Computer has gone to sleep.)
[03:30:34] *** Joins: fabianvf (fabianvf@moz-fjqmui.va.comcast.net)
[03:30:49] *** Quits: lucian (lucian@moz-2c3pda.cable.virginm.net) (Ping timeout: 121 seconds)
[03:31:33] *** Joins: lyc (lyc@moz-sgi.pqd.150.123.IP)
[03:31:52] *** Quits: NatureLiang (NatureLiang@moz-0aj.tc3.126.171.IP) (Client exited)
[03:32:57] *** Quits: pgonda (peter@moz-s36.0tp.134.75.IP) (Ping timeout: 121 seconds)
[03:34:20] *** Joins: tmtwd (tmtwd@moz-0kkm5n.cable.rogers.com)
[03:34:36] *** Quits: fabianvf (fabianvf@moz-fjqmui.va.comcast.net) (Ping timeout: 121 seconds)
[03:34:52] <tmtwd> uh, if it is not recommended to use Box::new, then wouldn't all data end up on the stack?
[03:35:13] <swgillespie> tmtwd: where did you see that?
[03:35:18] <huon> tmtwd: no
[03:35:23] <tmtwd> which part
[03:35:27] <huon> tmtwd: e.g. Vec<...> heap allocates its elements
[03:35:34] <tmtwd> I see
[03:35:36] *** Quits: lyc (lyc@moz-sgi.pqd.150.123.IP) (Ping timeout: 121 seconds)
[03:35:45] <huon> but, often, one doesn't need to heap allocate plain values
[03:35:51] <tmtwd> I see
[03:35:58] <huon> let the data structures do that internally if they need to
[03:36:03] <tmtwd> and Vect<...> is implemented with Box::new?
[03:36:08] <tmtwd> under the hood?
[03:36:09] <Mutabah> tmtwd: However, when using Box::new to create an object, you will end up with it being on the stack during the new call
[03:36:19] <huon> not directly, but it calls the same functions that Box::new calls
[03:36:26] <tmtwd> i see
[03:38:06] *** Quits: mnemnion (mnemnion@moz-8a187j.0r24.tle7.0009.2601.IP) (Connection closed)
[03:38:27] *** Joins: mnemnion (mnemnion@moz-8a187j.0r24.tle7.0009.2601.IP)
[03:38:28] *** Quits: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu) (Connection closed)
[03:39:21] *** Joins: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu)
[03:39:42] *** Joins: zyphrus (David@moz-1a4.urk.98.101.IP)
[03:40:11] *** Quits: colinsurprenant (colin@moz-q9ee1n.74.electronicbox.net) (Client exited)
[03:41:09] *** Quits: sprang_ (sprang@moz-6i5.c9m.56.172.IP) (Ping timeout: 121 seconds)
[03:41:53] *** Joins: maedhroz (maedhroz@moz-4jk5ho.res.rr.com)
[03:42:29] *** Quits: mnemnion (mnemnion@moz-8a187j.0r24.tle7.0009.2601.IP) (Ping timeout: 121 seconds)
[03:43:34] *** Quits: gsingh93 (gulshan@moz-qnbukr.mi.comcast.net) (Ping timeout: 121 seconds)
[03:44:07] *** Joins: lenstr (lenstr@moz-t72.vju.25.171.IP)
[03:44:57] *** Quits: lenstr (lenstr@moz-t72.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[03:44:59] *** Quits: jtdowney (jtdowney@moz-obnifk.il.comcast.net) (Quit: )
[03:45:12] *** Joins: lenstr (lenstr@moz-t72.vju.25.171.IP)
[03:45:37] *** Quits: p1start (p1start@moz-nftjhe.org) (Ping timeout: 121 seconds)
[03:46:00] <Selemur> Mutabah: I thought the book said the opposite
[03:46:05] *** Quits: lenstr (lenstr@moz-t72.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[03:46:16] <Mutabah> Selemur: About box? Box::new() isn't the box keyword
[03:46:24] <Mutabah> Box::new() is a normal method call
[03:46:40] <Selemur> something like "Rust is smarter than that" and "it writes it directly into the box"
[03:46:42] <Selemur> lemme check
[03:47:46] <Mutabah> Hmm... under optmisation it might (as implied, the box keyword makes it write into the box, but that's unstable still afaik)
[03:48:21] <Selemur> indeed it was under box syntax
[03:48:36] <Selemur> the new one, so dunno if the old one does it
[03:48:37] *** Quits: mdinger (mdinger@moz-gn4ts5.9bf5.ppaa.0306.2602.IP) (Ping timeout: 121 seconds)
[03:51:07] *** Joins: v21 (vee@moz-2gv.oe1.4.171.IP)
[03:52:17] *** Joins: druzac (druzac@moz-hn17us.vc.shawcable.net)
[03:53:26] *** Quits: d356 (d@moz-buqa6q.cpe.distributel.net) (Client exited)
[03:53:41] *** Joins: dmac (dmac@moz-2ig65r.ca.comcast.net)
[03:54:45] *** Quits: chc4 (chc4@moz-pdo0at.ma.comcast.net) (Quit: AHHHHH BEES)
[03:55:54] *** Joins: bren2010 (bren2010@moz-356.o3d.198.71.IP)
[03:56:07] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[03:56:08] <acharles> How do I get PartialEq implemented for &T?
[03:56:59] *** Joins: saterus (saterus@moz-rutqj0.res.rr.com)
[03:57:02] <ChrisMorgan> acharles: look through the implementations recorded: “impl<'a, 'b, A, B> PartialEq<&'b B> for &'a A where A: PartialEq<B> + ?Sized, B: ?Sized”
[03:57:36] <huon> i.e. implement PartialEq for T itself
[03:57:49] <ChrisMorgan> i.e. if T impl PartialEq, &T impl PartialEq.
[03:58:28] <acharles> I did that using derive
[04:01:16] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Quit: It's a joke, it's all a joke.)
[04:03:04] *** Joins: KLP (KLP@moz-qdcjho.res.rr.com)
[04:03:11] *** Joins: mattico (Matthew@moz-kumji8.0mtq.dm5j.ea00.2607.IP)
[04:03:22] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[04:03:25] *** Quits: mattico (Matthew@moz-kumji8.0mtq.dm5j.ea00.2607.IP) (Connection closed)
[04:03:44] <KLP> how can I initialize a property on a struct? or set it to a default?
[04:04:10] <KLP> something like size: u32 = &self.data.len() ?
[04:04:33] *** Quits: druzac (druzac@moz-hn17us.vc.shawcable.net) (Client exited)
[04:05:04] <mbrubeck> KLP: One way is to implement the Default trait for your type, and then create instances like `let x = MyStruct { a: 1, b: 2, ..MyStruct::default() };`
[04:05:05] *** Joins: druzac (druzac@moz-hn17us.vc.shawcable.net)
[04:05:15] <mbrubeck> KLP: That will use the default values for all fields not explicitly named.
[04:05:19] *** Quits: winding-lines (textual@moz-g7k4j8.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[04:05:48] <KLP> mbrubeck: cool , what if I wanted b to be 2x what a is?
[04:05:49] <mbrubeck> KLP: A simpler but less-flexible way is to create a constructor method that sets defaults on some or all fields.
[04:06:14] <ChrisMorgan> KLP: initialisation is all done at the one time with no fields able to depend on any other fields; if you seek to have `Foo { data: … }` become `Foo { data: …, size: data.len() }`, for example, you can’t do it.
[04:06:18] <KLP> I guess what I’m saying is rather than default or initializing a value, how can I make it based on another value
[04:06:23] <mbrubeck> KLP: Then use a custom constructor, like `fn new(a: u32) -> MyStruct { MyStruct { a: a, b: 2*a } }`
[04:06:24] <ChrisMorgan> You can’t.
[04:06:41] *** Joins: dellavg (dellavg@moz-9lesb5.retail.telecomitalia.it)
[04:06:44] <KLP> okay, thanks.
[04:06:44] *** Joins: davebettin__ (davebettin@moz-ip635p.or.comcast.net)
[04:07:00] <KLP> I think I don’t need to for what I want to accomplish
[04:07:12] *** Quits: orangeshark (erik@moz-ck11uv.44tj.56ot.0306.2602.IP) (Quit: Leaving)
[04:08:03] *** Quits: Guest_ (textual@moz-6um9co.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[04:08:16] <ChrisMorgan> In the case of something like having a size member which is always self.data.len()—you shouldn’t be doing that anyway, just use self.data.len(); presuming data to be a slice or such a thing, it’s just as fast, uses less memory and is more maintainable.
[04:08:32] *** Joins: Guest_ (textual@moz-6um9co.ca.comcast.net)
[04:09:31] <maurer> Is there any way I can get the type of something in the macro system?
[04:10:10] *** Quits: davebettin_ (davebettin@moz-ip635p.or.comcast.net) (Ping timeout: 121 seconds)
[04:10:37] <Mutabah> maurer: Data type, or fragment type?
[04:10:47] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[04:10:51] *** Quits: zzing (textual@moz-jucm1n.cpe.distributel.net) (Quit: Textual IRC Client: www.textualapp.com)
[04:11:19] *** Quits: kmcguire (kmcguire@moz-bbqf14.res.bhn.net) (Ping timeout: 121 seconds)
[04:11:21] *** Quits: dwrensha (chatzilla@moz-46o4hi.pa.comcast.net) (Ping timeout: 121 seconds)
[04:11:22] *** Joins: qard (qard@moz-nekdha.vc.shawcable.net)
[04:14:31] *** Quits: Selemur (chatzilla@moz-tpgfbn.kawo1.rwth-aachen.de) (Ping timeout: 121 seconds)
[04:15:23] <csherratt> So I wanted to show this off https://github.com/csherratt/pulse
[04:15:26] *** Quits: druzac (druzac@moz-hn17us.vc.shawcable.net) (Client exited)
[04:16:14] <mbrubeck> maurer: No; macro expansion happens before type-checking.
[04:17:46] <mbrubeck> csherratt: Cool!  Nice docs, too.
[04:17:54] <csherratt> thanks mbrubeck 
[04:20:25] <maurer> Mutabah: datatype
[04:20:28] <maurer> mbrubeck: OK
[04:20:35] <maurer> mbrubeck: maybe I can make this work using traits
[04:20:51] *** Joins: djcb (user@moz-nqdj21.elisa-laajakaista.fi)
[04:21:47] *** Quits: psy (psy@moz-93g.ntd.6.103.IP) (Connection closed)
[04:23:02] *** Joins: logan_e (logan_e@moz-ltn.qg3.218.73.IP)
[04:23:46] <Mutabah> maurer: However, there is the type_name intrinsic
[04:24:00] <Mutabah> maurer: WHich you can use to get a &'static str with the type name in it
[04:25:55] *** Joins: munksgaard (munksgaard@moz-478pev.u.parknet.dk)
[04:26:00] *** Quits: saterus (saterus@moz-rutqj0.res.rr.com) (Quit: )
[04:26:55] *** Joins: yeahnoob (Xanadu@moz-ku8.ugi.122.118.IP)
[04:27:35] *** Joins: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP)
[04:28:15] <maurer> Mutabah: Yeah, I think I just want to use the trait
[04:28:52] *** Joins: leaper (Mibbit@moz-57b.aq6.253.182.IP)
[04:29:21] *** Quits: acgtyrant (acgtyrant@moz-3kd.b79.160.124.IP) (Quit: 堕入 /dev/null)
[04:29:51] *** Quits: leaper (Mibbit@moz-57b.aq6.253.182.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[04:29:57] *** Quits: logan_e (logan_e@moz-ltn.qg3.218.73.IP) (Client exited)
[04:31:08] *** Quits: yeahnoob (Xanadu@moz-ku8.ugi.122.118.IP) (Ping timeout: 121 seconds)
[04:32:11] *** Quits: new_one (new_one@moz-suj.lcf.15.50.IP) (A TLS packet with unexpected length was received.)
[04:32:37] *** Quits: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP) (Ping timeout: 121 seconds)
[04:34:13] *** Quits: Gamecubic (cubic@moz-bglmk5.mc.videotron.ca) (Quit: Leaving)
[04:35:13] *** Joins: yeahnoob (Xanadu@moz-ku8.ugi.122.118.IP)
[04:35:57] *** Joins: demilux (demilux@moz-73qa6c.wa.comcast.net)
[04:36:43] *** Joins: ygrek (user@moz-8j9aeu.org.ua)
[04:39:27] *** Quits: Rym (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[04:39:54] *** Joins: cfcosta (cfcosta@moz-v9c.a3o.106.187.IP)
[04:40:16] *** Joins: skade (skade@moz-m9ib3m.pools.vodafone-ip.de)
[04:41:00] *** Quits: Guest_ (textual@moz-6um9co.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[04:42:59] <cfcosta> One question: on beta, how to use RefCell? using core::cell::refcell raises an error, and adding the external crate raises "error: use of unstable library feature 'core'"
[04:43:01] <mbrubeck> the latest custom CSS on /r/rust is creeping me out
[04:43:15] <mbrubeck> cfcosta: std::cell::RefCell
[04:43:32] *** Joins: friendly (Mibbit@moz-p0l.q36.8.24.IP)
[04:43:44] <mbrubeck> (std re-exports most of core, along with most of the other standard libs)
[04:44:32] <cfcosta> mbrubeck: oh, cool! that worked. Thanks!
[04:44:41] <friendly> Hiya all.  Is this a reasonable place to ask a new to Rust question?
[04:44:46] <mbrubeck> friendly: yes!
[04:44:53] <cfcosta> API documentation from rust is still confusing to read... But I don't know exactly why
[04:44:56] <friendly> Sweet happiness :-)
[04:45:13] <mbrubeck> cfcosta: All the re-exports definitely confuse the issue.
[04:45:35] <csherratt> 3 days now?
[04:45:40] *** Quits: umit (umit@moz-4v6.eei.232.176.IP) (Ping timeout: 121 seconds)
[04:45:45] <mbrubeck> \o/
[04:46:25] <friendly> I'm trying to implement a Complex type (to learn Rust among other things).  I got an Add for Cx<type> + Cx<type>, and Add for Cx<type> + type, but I can't figure out how to do:  type + Cx<type> because of E0210.  Is there a good workaround?
[04:46:41] *** Joins: lenstr (lenstr@moz-t72.vju.25.171.IP)
[04:46:49] *** Quits: Wild_Cat (Max@moz-fa8mvt.dsl.teksavvy.com) (Ping timeout: 121 seconds)
[04:46:49] <mbrubeck> friendly: Not really. :/
[04:47:01] <mbrubeck> friendly: The usual workaround for coherence issues is to wrap the external type in a newtype struct
[04:47:03] <Mutabah> friendly: Wait, you can't impl 'Add<MyType> for CoreType?
[04:47:13] <mbrubeck> but that's not very useful for operator overloading
[04:47:15] *** Quits: lenstr (lenstr@moz-t72.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[04:47:20] <friendly> I was worried that might be the answer.
[04:47:25] *** Joins: lenstr (lenstr@moz-t72.vju.25.171.IP)
[04:47:30] <Mutabah> Actually, logically it makes sense
[04:47:47] <Mutabah> (Having the left of the operator determine the set of operations
[04:47:54] <Mutabah> And usually be the resultant type
[04:47:58] <_habnabit> i'm trying to build cargo from source (after building rust from source due to needing a cross-compiler) and i'm getting some errors: http://paste.pound-python.org/raw/m4GqqMJBXklZSCnNcfLU/ is the full output from running `make`. this is cargo HEAD (d814fcb) and rust 1.0.0-beta.4
[04:48:14] <Mutabah> _habnabit: You don't need to rebuild rust/cargo for a cross compiler
[04:48:19] <aatch> friendly, what are you writing? I ask because I've successfully written `impl Add<Vector3 > for f32` before.
[04:48:23] *** Quits: lenstr (lenstr@moz-t72.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[04:48:59] <_habnabit> Mutabah, oh? i still don't see any official ARM binaries
[04:49:10] <Mutabah> _habnabit: See flexible target specs
[04:49:23] <friendly> aatch, do you have a link I could look at?
[04:49:28] <Mutabah> _habnabit: And rust may have a builtin ARM target
[04:49:49] <Mutabah> s/rust/rustc/
[04:49:51] <aatch> friendly, unfortunately no.
[04:50:23] <aatch> friendly, or, more accurately, no published code you can look at. I can whip something up on playpen though.
[04:50:28] <friendly> aatch, since f32 is not in your crate, how did you get around E0210?
[04:50:41] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[04:50:50] <mbrubeck> friendly: oh, hmm. Looks like aatch is right. http://is.gd/2wzSIN
[04:52:03] <friendly> thanks for the link.  That's pretty much what I'm doing, but my Foo is templatized as Cx<T>...
[04:53:44] <aatch> friendly, but this works: http://is.gd/s34Q56
[04:54:37] <friendly> I'm gonna give that a go..  back in a min.
[04:54:43] <_habnabit> Mutabah, ok, documentation seems pretty sparse; the most i can find is https://doc.rust-lang.org/rustc_back/target/
[04:55:44] *** Quits: dellavg (dellavg@moz-9lesb5.retail.telecomitalia.it) (Ping timeout: 121 seconds)
[04:56:11] <_habnabit> Mutabah, so is there an arm target .json file available somewhere?
[04:56:22] <mbrubeck> the arm target should be built-in.
[04:56:24] <Mutabah> _habnabit: yeah, it's kinda sparse, check out the examples in the repo ... somewhere
[04:56:37] <mbrubeck> The one thing the official binaries don't have is a cross-compiled libstd
[04:56:41] *** Joins: chao-tic (chao@moz-rs0mbe.xtra.co.nz)
[04:57:07] *** Quits: KLP (KLP@moz-qdcjho.res.rr.com) (Quit: http://www.kiwiirc.com/ - A hand crafted IRC client)
[04:57:16] <Mutabah> _habnabit: there are samples in src/test/run-make/target-specs/
[04:57:29] <mbrubeck> See also https://github.com/rust-lang/rust/blob/master/src/librustc_back/target/mod.rs#L342-L375
[04:57:32] <_habnabit> `cargo build --target=arm-unknown-linux-gnueabihf` gives me error: can't find crate for `std`
[04:57:38] <Mutabah> _habnabit: The contents ow which map to the Target type
[04:58:04] *** Joins: druzac (druzac@moz-hn17us.vc.shawcable.net)
[04:59:41] <_habnabit> Mutabah, i have no idea what the 'data-layout' should be, but it sounds like this should be built-in anyway?
[05:00:05] *** Quits: panicbit (panicbit@moz-r4ks4s.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[05:00:15] <Mutabah> _habnabit: maybe
[05:00:34] *** Quits: zhoeon (fc@moz-cuhqb2.cable.teksavvy.com) (Ping timeout: 121 seconds)
[05:00:34] <Mutabah> Yeah, it's not well documented, but the data_layout field does link to the LLVM docs
[05:01:01] <Mutabah> (no_std etc are those fuzzy edges)
[05:01:11] <Mutabah> _habnabit: Are you compiling for a linux box, or barebones?
[05:01:32] *** Joins: KLP (KLP@moz-qdcjho.res.rr.com)
[05:01:51] <_habnabit> Mutabah, host/build x86_64-apple-darwin and target arm-unknown-linux-gnueabihf
[05:02:29] *** Joins: psy (psy@moz-93g.ntd.6.103.IP)
[05:04:04] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[05:04:05] <Mutabah> _habnabit: try just passing --triple=arm-unknown-linux and see what happens?
[05:04:40] *** Quits: lutter1 (lutter@moz-7v7ueu.PUBLIC.monkeybrains.net) (Quit: Leaving.)
[05:04:46] <_habnabit> Mutabah, you mean --target? that gives me `error: Error loading target specification: Could not find specification for target "arm-unknown-linux"`
[05:05:20] <mbrubeck> _habnabit: So, you'll need to at least compile the standard library for your target.  The easiest way might be to compile all of rustc using the appropriate `--target` argument.
[05:05:55] <mbrubeck> Some people have had luck just compiling the libraries, but I'm not sure if there's a reliable set of instructions anywhere...
[05:05:57] <friendly> aatch, are you able to make that work if you build a Vector<T> instead of panic!?
[05:05:57] <_habnabit> mbrubeck, ok; i did that previously, but i was told it wasn't necessary
[05:06:26] <_habnabit> mbrubeck, the original issue i asked about was building cargo
[05:06:35] *** Joins: Rym (y@moz-o80acm.range86-189.btcentralplus.com)
[05:06:44] *** Quits: munksgaard (munksgaard@moz-478pev.u.parknet.dk) (Ping timeout: 121 seconds)
[05:06:55] <mbrubeck> _habnabit: Are you cross-compiling cargo in order to run it on ARM?
[05:07:11] <aatch> friendly, yep. Well I'm just returning the `other`.
[05:07:22] <_habnabit> mbrubeck, no; i was planning on running cargo only on os x
[05:07:34] <aatch> friendly, I'd need to add some bounds to actually do it prooerly.
[05:07:55] <mbrubeck> _habnabit: You shouldn't need to compile your own cargo then, I don't think...
[05:08:02] <_habnabit> mbrubeck, oh, okay
[05:08:09] <_habnabit> mbrubeck, so just use the cargo binaries?
[05:08:12] <mbrubeck> yeah
[05:08:16] <_habnabit> mbrubeck, i'll try that
[05:08:26] <friendly> aatch: yeah, I just got that to work too.  I can't make it add the parts though without it telling me Add<T> is not implemented for f64
[05:08:54] *** Quits: gingermusketeer (gingermuske@moz-8et0q0.compute.amazonaws.com) (Connection closed)
[05:08:58] *** Joins: gingermusketeer (gingermuske@moz-4b0kga.compute.amazonaws.com)
[05:09:17] *** Quits: mindtree (Mitch@moz-2hr.aae.240.116.IP) (Ping timeout: 121 seconds)
[05:10:36] *** Joins: srjek_ (srjek@moz-gg7i72.ece.uic.edu)
[05:10:36] *** Quits: srjek (srjek@moz-gg7i72.ece.uic.edu) (Connection closed)
[05:10:48] <aatch> friendly, you'll need a where clause like `f32: Add<T>`
[05:11:06] *** Quits: Rym (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[05:11:36] *** Quits: erz (erz@moz-n26c5c.broadband.corbina.ru) (Quit: My Mac has gone to sleep. ZZZzzz…)
[05:13:40] *** Joins: mindtree (Mitch@moz-ljt3g6.iprimus.net.au)
[05:13:44] <_habnabit> mbrubeck, seems to be going! thanks!
[05:14:29] <friendly> aatch:  I don't have where clauses really understood yet.  Here's what I've got, but I don't know how to tell it f64 has the Add trait:  impl<T: Add<T, Output=T>> Add<Cx<T>> for f64 {
[05:14:43] *** Quits: DemonOne (Avi@moz-b6r7nm.cablep.bezeqint.net) (Ping timeout: 121 seconds)
[05:14:54] <friendly> aatch: (thanks for all the help, btw)
[05:15:53] *** Joins: Shackra (Jorge@moz-7bh.ng6.177.186.IP)
[05:15:53] *** Quits: skade (skade@moz-m9ib3m.pools.vodafone-ip.de) (Connection closed)
[05:16:11] *** Joins: skade (skade@moz-m9ib3m.pools.vodafone-ip.de)
[05:16:43] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[05:16:50] *** Joins: Ace77 (Mibbit@moz-5ekgq1.cable.teksavvy.com)
[05:18:01] *** Joins: dwrensha (chatzilla@moz-46o4hi.pa.comcast.net)
[05:18:08] *** Joins: ai (ai@moz-pqofrl.sunline.net.ua)
[05:18:25] *** Joins: nodweber_ (nodweber@moz-knt.fgq.178.5.IP)
[05:18:38] *** Quits: spider-mario (spidermario@moz-3im.baq.163.37.IP) (Ping timeout: 121 seconds)
[05:18:48] *** Joins: acgtyrant (acgtyrant@moz-nc3.d1h.236.115.IP)
[05:18:56] *** Joins: thelastinuit (thelastinui@moz-doh.aqt.240.148.IP)
[05:19:21] *** Quits: druzac (druzac@moz-hn17us.vc.shawcable.net) (Client exited)
[05:19:34] *** Joins: p1start (p1start@moz-nftjhe.org)
[05:20:13] *** Joins: fabianvf (fabianvf@moz-fjqmui.va.comcast.net)
[05:20:40] *** Quits: Ace77 (Mibbit@moz-5ekgq1.cable.teksavvy.com) (Quit: http://www.mibbit.com ajax IRC Client)
[05:21:04] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Connection closed)
[05:21:13] *** Joins: dstrbad (dstrbad@moz-kqf.kub.217.31.IP)
[05:21:21] <friendly> aatch:  sweet happiness, it works.  I guess I can manually implement adding my type on the right for all plausible types on the left like such:::    impl Add<Cx<f64>> for f64 {     type Output = Cx<f64>;      fn add(self, other: Cx<f64>) -> Cx<f64> {         Cx::new(self + other.re, other.im)     } }
[05:22:09] *** Quits: choplin (choplin@moz-qkm9un.ap.nuro.jp) (Connection closed)
[05:22:46] *** Quits: passcod (passcod@moz-p68.ijk.131.104.IP) (A TLS packet with unexpected length was received.)
[05:23:23] <cfcosta> how long did it take you guys to understand lifetimes?
[05:23:24] *** Joins: passcod (passcod@moz-p68.ijk.131.104.IP)
[05:23:39] *** Joins: albertofem (textual@moz-03pmou.staticIP.rima-tde.net)
[05:24:01] <cfcosta> I've been back and forth to rust for a loong time
[05:24:15] *** Quits: fabianvf (fabianvf@moz-fjqmui.va.comcast.net) (Ping timeout: 121 seconds)
[05:24:21] <cfcosta> and every time I feel like I'm complicating the code too much and getting lost :(
[05:24:54] <bstrie> cfcosta: you just let the lifetimes flow around you like water
[05:24:57] <mbrubeck> cfcosta: It was not instant; that's for sure.
[05:25:26] *** Joins: giucam (giucam@moz-iv0nnc.bb.dnainternet.fi)
[05:25:28] <bstrie> cfcosta: close your eyes and inhale, feel the energy of the world rushing past you like a current in a stream
[05:26:19] <bstrie> cfcosta: ok so srsly what are you trying to do, maybe we can help :)
[05:28:06] *** Quits: dstrbad (dstrbad@moz-kqf.kub.217.31.IP) (Connection closed)
[05:28:24] *** Joins: sayan (sayan@moz-ip8.595.51.106.IP)
[05:28:28] *** Joins: dstrbad (dstrbad@moz-kqf.kub.217.31.IP)
[05:28:36] *** Joins: wldcordeiro (wldcordeiro@moz-pvsror.ut.comcast.net)
[05:29:01] *** Quits: niconii (nicole@moz-5gqgia.frgo.qwest.net) (Quit: Lost terminal)
[05:31:26] *** Quits: dstrbad (dstrbad@moz-kqf.kub.217.31.IP) (Connection closed)
[05:31:54] *** Joins: dstrbad (dstrbad@moz-kqf.kub.217.31.IP)
[05:32:58] *** Quits: O01eg (o01eg@moz-ail.kf2.112.37.IP) (Client exited)
[05:33:23] *** Joins: erz (erz@moz-n26c5c.broadband.corbina.ru)
[05:33:52] <friendly> It seems like a bug that I can explicitly "impl Add<MyType> for f64" but that "impl<T: Add<T>> Add<T> for T" errors with E0210.  Either the first one is wrong because I shouldn't be allowed to overload traits for types outside my crate, or the second one shouldn't give an error.
[05:34:10] *** Quits: chao-tic (chao@moz-rs0mbe.xtra.co.nz) (Ping timeout: 121 seconds)
[05:34:35] <aatch> friendly, well the second one is recursive anyway.
[05:34:56] <aatch> friendly, since you're saying "implement Add<T> for all types that implement Add<T>"
[05:35:08] <friendly> ahh, that seems like a valid complaint
[05:35:15] *** Quits: Diggsey (diggsey@moz-5pbaa0.dsl.pipex.com) (Ping timeout: 121 seconds)
[05:35:47] *** Joins: druzac (druzac@moz-hn17us.vc.shawcable.net)
[05:36:37] *** Quits: dstrbad (dstrbad@moz-kqf.kub.217.31.IP) (A TLS packet with unexpected length was received.)
[05:36:50] *** Joins: mnemnion (mnemnion@moz-kf3boi.ca.comcast.net)
[05:37:12] <friendly> so, should I avoid that for "left adds" too?
[05:37:24] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[05:37:26] <aatch> friendly, however, the rule for generic impls is that the parameters have to be used inside a local type. So `impl<T> Add<Cx<T>> for f32 where f32: Add<T, Output=f32>` is fine.
[05:37:50] *** Quits: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com) (Ping timeout: 121 seconds)
[05:38:54] <friendly> then I would explicitly declare that for f64, f32, i64, i32, i16, i8, u64, u32, u16, and u8?
[05:39:09] <aatch> friendly, yep. This is the kind of thing macros are for
[05:39:14] *** Joins: _seanc_ (textual@moz-h5l.3c0.164.67.IP)
[05:39:24] <friendly> heh, well that'll give me an excuse to learn macros.  lol
[05:39:50] <aatch> write the actual impl once in a macro, generate 12 implementations.
[05:40:04] <aatch> (you missed usize and isize)
[05:40:06] *** Joins: dhole_ (dhole@moz-nqg4vh.dynamic.jazztel.es)
[05:40:08] *** Quits: _seanc_ (textual@moz-h5l.3c0.164.67.IP) (Quit: Textual IRC Client: www.textualapp.com)
[05:40:08] <friendly> yeah, that's what I understood you to mean :-)
[05:40:52] *** Quits: mnemnion (mnemnion@moz-kf3boi.ca.comcast.net) (Ping timeout: 121 seconds)
[05:41:04] <friendly> btw, this gets uglier when I go to implement a matrix (Mx) type...  Then I've got all the builtins and all the Cx<all the builtins>
[05:41:10] *** Joins: zcourts (zcourts@moz-7ms809.cable.virginm.net)
[05:41:38] <friendly> oh well, I'm good for now.  Thank very much for your help.
[05:42:01] *** Joins: dawehner (quassel@moz-84r.uga.249.209.IP)
[05:42:36] *** Quits: dhole (dhole@moz-mkio03.dynamic.jazztel.es) (Ping timeout: 121 seconds)
[05:42:44] *** Joins: Ska1n (Mibbit@moz-to4413.nationalcablenetworks.ru)
[05:43:49] *** Quits: Ska1n (Mibbit@moz-to4413.nationalcablenetworks.ru) (Quit: http://www.mibbit.com ajax IRC Client)
[05:43:52] *** Joins: rbranson (rbranson@moz-oeg7f0.ca.comcast.net)
[05:44:00] *** Joins: choplin (choplin@moz-q517gi.u-tokyo.ac.jp)
[05:44:37] *** Quits: friendly (Mibbit@moz-p0l.q36.8.24.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[05:45:57] *** Quits: xilec (Mibbit@moz-g6k.oht.161.46.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[05:47:21] *** Quits: Shackra (Jorge@moz-7bh.ng6.177.186.IP) (Ping timeout: 121 seconds)
[05:47:55] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[05:47:55] *** ChanServ sets mode: +o erickt
[05:48:13] *** Quits: dawehner (quassel@moz-84r.uga.249.209.IP) (Ping timeout: 121 seconds)
[05:48:26] *** Quits: mindtree (Mitch@moz-ljt3g6.iprimus.net.au) (Ping timeout: 121 seconds)
[05:49:02] *** Joins: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net)
[05:49:10] *** Quits: Guest__ (textual@moz-rtn.fg7.77.192.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[05:49:23] *** Quits: davebettin__ (davebettin@moz-ip635p.or.comcast.net) (Ping timeout: 121 seconds)
[05:49:48] *** Joins: lenstr (lenstr@moz-t72.vju.25.171.IP)
[05:50:32] *** Quits: ai (ai@moz-pqofrl.sunline.net.ua) (Quit: Leaving.)
[05:50:43] *** Quits: lenstr (lenstr@moz-t72.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[05:52:43] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[05:53:11] *** Joins: Rym (y@moz-o80acm.range86-189.btcentralplus.com)
[05:53:28] *** Joins: summerlight (summerlight@moz-99k.2mj.130.121.IP)
[05:53:50] <seanmonstar> huh, apparently (&"hello").to_owned() returns &str, not String
[05:54:44] <aatch> playbot, let a : String = (&"hello").to_owned();
[05:54:45] -playbot- <anon>:9:26: 9:47 error: mismatched types:
[05:54:46] -playbot-  expected `collections::string::String`,
[05:54:46] -playbot- output truncated; full output at: http://bit.ly/1KHIE0o
[05:54:53] <aatch> playbot, let a : &str = (&"hello").to_owned();
[05:54:54] -playbot- ()
[05:54:58] *** Quits: skade (skade@moz-m9ib3m.pools.vodafone-ip.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[05:55:01] *** Joins: dalarmmst (dalarmmst@moz-mb21j4.bredband.comhem.se)
[05:55:59] *** Joins: sgk (uid48262@moz-fcc0jc.uxbridge.irccloud.com)
[05:56:03] *** Joins: dinfuehr (dinfuehr@moz-c25.u8s.112.91.IP)
[05:56:29] <seanmonstar> aatch: yep. i was very confused for a while when a to_owned() was giving me an error "expected String, found &str"
[05:56:42] <aatch> seanmonstar, ah, it's because `ToOwned` is implemented for all types that implement Clone
[05:57:21] <aatch> and &T implements Clone, so your &&str is cloned to &str
[05:57:43] <seanmonstar> aatch: i realize why once i figured out i had an &&str. didnt stop my staring and pondering if my trust in rustc is well deserved
[05:57:47] *** Quits: Rym (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[05:57:55] <seanmonstar> :)
[05:58:06] <aatch> seanmonstar, it didn't segfault, that's all the compiler cares about.
[05:58:17] <seanmonstar> lol yep
[05:58:37] *** Quits: aatch (james@moz-ciignl.bmm3.j08e.e000.2406.IP) (Connection closed)
[05:59:59] *** Quits: rbranson (rbranson@moz-oeg7f0.ca.comcast.net) (Quit: Computer has gone to sleep.)
[06:00:05] *** Joins: rbranson (rbranson@moz-oeg7f0.ca.comcast.net)
[06:00:15] *** Joins: espadrine (tyl@moz-l019mn.fbx.proxad.net)
[06:01:00] *** Quits: ygrek (user@moz-8j9aeu.org.ua) (Ping timeout: 121 seconds)
[06:01:13] *** Quits: rbranson (rbranson@moz-oeg7f0.ca.comcast.net) (Quit: Computer has gone to sleep.)
[06:01:41] *** Quits: wldcordeiro (wldcordeiro@moz-pvsror.ut.comcast.net) (Ping timeout: 121 seconds)
[06:04:10] *** Joins: griff (griff@moz-bf2.sbd.199.62.IP)
[06:04:17] *** Quits: griff (griff@moz-bf2.sbd.199.62.IP) (Client exited)
[06:04:19] *** Joins: emilk (emilk@moz-eossn5.cust.bredbandsbolaget.se)
[06:06:32] <frangio> is there an easy way to treat a string as a Read?
[06:06:43] <frangio> i'm can't get Cursor to work
[06:07:09] *** Quits: maedhroz (maedhroz@moz-4jk5ho.res.rr.com) (Connection closed)
[06:07:41] *** Quits: albertofem (textual@moz-03pmou.staticIP.rima-tde.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[06:08:19] <steveklabnik> frangio: http://doc.rust-lang.org/nightly/std/io/struct.Cursor.html shows Cursor only is Read for Vec<u8> and &[u8]
[06:08:30] <steveklabnik> so, you'd have to turn the string into bytes
[06:08:44] *** Joins: nercury (nercury@moz-fbs.e0f.20.5.IP)
[06:09:03] <frangio> so i can do "foo".as_bytes()
[06:09:17] *** Joins: vks (quassel@moz-b54qc9.fias.uni-frankfurt.de)
[06:09:24] <steveklabnik> yeah, that should work
[06:10:17] *** Quits: GBGamer (GBGamer@moz-92sbjt.wa.comcast.net) (Ping timeout: 121 seconds)
[06:10:54] *** Quits: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net) (Quit: Lost terminal)
[06:11:02] <ChrisMorgan> WIP playpen restyling &c.: http://temp.chrismorgan.info/rust-playpen/static/web.html
[06:11:29] *** Quits: murz (murz@moz-nr2kro.wa.comcast.net) (Quit: Be back later ...)
[06:11:32] *** Joins: QuadTan (Tan@moz-r5oa06.student.uu.se)
[06:11:39] *** Joins: mindtree (Mitch@moz-fog.g9r.240.116.IP)
[06:11:39] *** Joins: SneakySnake (nya@moz-i9is4u.pool.telekom.hu)
[06:11:40] *** Joins: GBGamer (GBGamer@moz-92sbjt.wa.comcast.net)
[06:11:50] <ChrisMorgan> Definitely not complete, but I figured I’d show what I have at this stage.
[06:13:17] *** Quits: KLP (KLP@moz-qdcjho.res.rr.com) (Quit: http://www.kiwiirc.com/ - A hand crafted IRC client)
[06:14:00] *** Quits: jophish (jophish@moz-epocft.broadband.tesco.net) (Ping timeout: 121 seconds)
[06:14:38] <huon> ChrisMorgan: I like it
[06:15:06] <ChrisMorgan> Works well down to a bit beyond 768px wide at present.
[06:15:07] *** Joins: mvyskocil (mvyskocil@moz-1fo.p0p.7.31.IP)
[06:15:14] *** Joins: James (quassel@moz-225vcm.range86-148.btcentralplus.com)
[06:15:21] <huon> ChrisMorgan: btw, have you see https://github.com/rust-lang/rust-playpen/issues/50 ?
[06:15:28] *** Joins: sprang_ (sprang@moz-98q.7vl.56.172.IP)
[06:15:50] *** Quits: tamird (textual@moz-gg3hct.res.rr.com) (Quit: My Mac has gone to sleep. ZZZzzz…)
[06:15:53] <ChrisMorgan> huon: yep, I intend to, for wide enough screens, put the two panels side by side eventually.
[06:16:23] <huon> ice
[06:16:25] <huon> *nice
[06:16:40] <huon> haha, the animation for 'share' is cute
[06:17:12] <ChrisMorgan> Animating letter-spacing was fun ☺
[06:18:00] *** Joins: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP)
[06:18:38] *** Quits: druzac (druzac@moz-hn17us.vc.shawcable.net) (Client exited)
[06:18:50] *** Joins: khades (Thunderbird@moz-ual.b31.186.31.IP)
[06:18:52] *** Quits: GGist (Mibbit@moz-st7v59.wa.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[06:20:06] *** Quits: d_rezzer (chatzilla@moz-t0fmuj.hfc.comcastbusiness.net) (Ping timeout: 121 seconds)
[06:20:44] *** Quits: qard (qard@moz-nekdha.vc.shawcable.net) (Connection closed)
[06:22:24] *** Joins: loyd (loyd@moz-uft.32f.108.213.IP)
[06:22:25] <ChrisMorgan> huon: any particular ideas or changes to suggest?
[06:23:11] <huon> nothing in particular
[06:23:46] *** Quits: summerlight (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[06:23:54] *** Quits: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP) (Ping timeout: 121 seconds)
[06:25:21] *** Quits: zyphrus (David@moz-1a4.urk.98.101.IP) (Ping timeout: 121 seconds)
[06:25:49] *** Quits: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu) (Quit: Leaving)
[06:26:53] *** Joins: InSaN-LeKeSi (Levent-yilm@moz-jrb.epm.40.176.IP)
[06:28:21] *** Quits: InSaN-LeKeSi (Levent-yilm@moz-jrb.epm.40.176.IP) (Quit: zurnachat.com)
[06:28:26] *** Joins: lassej (textual@moz-jv215g.dip0.t-ipconnect.de)
[06:28:56] *** Joins: skade (skade@moz-u1j.1t9.225.62.IP)
[06:28:58] *** Joins: ptalbot (ptalbot@moz-j4gnuh.fbx.proxad.net)
[06:28:59] *** Quits: alonlevy (alon@moz-p48.q13.159.94.IP) (Ping timeout: 121 seconds)
[06:29:07] *** Joins: chao-tic (chao@moz-rs0mbe.xtra.co.nz)
[06:31:31] *** Quits: giucam (giucam@moz-iv0nnc.bb.dnainternet.fi) (Ping timeout: 121 seconds)
[06:32:14] <maurer> Why do pattern variables have to be followed by => or =?
[06:32:24] <Mutabah> maurer: Sorry?
[06:32:37] <maurer> "pat variables must be followed by one of: => , ="
[06:32:54] <maurer> Is it something to do with avoiding lookahead in the lexer?
[06:32:55] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[06:32:57] <Mutabah> Oh, in macros (interesting, : should be in that list)
[06:33:11] <Mutabah> And yes, it's mostly to make the parser simpler
[06:33:19] <Mutabah> it also allows the pattern syntax to expand if needed
[06:33:25] <maurer> Hrm.
[06:33:33] <maurer> I was trying to do something of the form
[06:33:38] *** Quits: csherratt (textual@moz-357qdq.cable.teksavvy.com) (Quit: Textual IRC Client: www.textualapp.com)
[06:33:39] <klutzy> in macros, it's because the syntax may change in future
[06:34:08] <klutzy> in old days I used `$expr..$expr` in macro and it broke when `a..b` syntax added
[06:34:13] <maurer> derive!(a(x,_,3), b(_,x,4))
[06:34:14] <Mutabah> same
[06:34:18] <maurer> and encode it into a datalog query
[06:34:39] <ChrisMorgan> maurer: macros are currently overly restrictive to ensure that they do not have any impact on backwards-compatibleness of syntax changes.
[06:35:28] *** Joins: zyphrus (David@moz-1a4.urk.98.101.IP)
[06:35:36] <maurer> I guess I can try encoding it as
[06:35:50] <maurer> derive!(a(x,_,3)=, b(_,x,4)=)
[06:35:57] <maurer> looks silly, but less silly than not using macros
[06:36:07] *** Joins: slomo (slomo@moz-p8m0g2.net)
[06:36:53] <ChrisMorgan> maurer: another way is to ensure that the pattern is at the end of a token tree, e.g. [$x:pat]
[06:37:35] <maurer> ChrisMorgan: Oh, maybe my reading of the manual is wrong. If [$x:pat] is possible I'm fine
[06:37:40] *** Quits: ville (ville@moz-nadkam.elisa-laajakaista.fi) (Quit:  )
[06:38:54] <ChrisMorgan> It definitely should be.
[06:39:15] *** Joins: Lee1092 (uid13277@moz-p2e1ii.brockwell.irccloud.com)
[06:39:17] *** Quits: calp (calp@moz-3g06if.com) (Quit: ZNC - http://znc.in)
[06:39:23] <maurer> OK, I guess I just misread the manual, sorry
[06:39:39] <ChrisMorgan> Ooh, while I’m touching play.rust-lang.org I must also remember to hook up :w in the Vim mode to the evaluate button
[06:39:44] <frangio> why is <[T; N] as IntoIterator>::Item == &T instead of just T?
[06:39:54] <ChrisMorgan> Fortunately that isn’t hard ☺
[06:40:07] *** Joins: csherratt (textual@moz-357qdq.cable.teksavvy.com)
[06:40:23] <frangio> ChrisMorgan: that'd be sweet! i've found myself typing :w way too often there
[06:40:26] *** Joins: calp (calp@moz-3g06if.com)
[06:40:43] <XMPPwocky> frangio: [T; N] doesn't  actually implement IntoIterator, as I understand it
[06:40:48] <ChrisMorgan> frangio: I have succeeded
[06:40:49] <XMPPwocky> instead, &[T] does
[06:41:02] <frangio> XMPPwocky: ah you're right...
[06:41:04] <XMPPwocky> and [T; N] will coerce to &[T]
[06:41:24] <frangio> so is there any way i can .map over an array?
[06:41:40] <XMPPwocky> frangio: not easily :( :( :(
[06:41:47] <XMPPwocky> fixed-size arrays are very much second-class citizens
[06:41:49] *** Joins: squiddy (squiddy@moz-md4.pm3.19.178.IP)
[06:41:54] <XMPPwocky> you probably will be happier with a Vec
[06:41:54] *** Joins: albertofem (textual@moz-03pmou.staticIP.rima-tde.net)
[06:42:08] <frangio> okay i'll do that, thanks
[06:42:36] <frangio> are there any plans to make them a bit nicer to use?
[06:43:04] *** Joins: andresv (textual@moz-m48tte.sta.estpak.ee)
[06:43:36] *** Joins: GeorgeHahn (George@moz-ir6kj0.nj.comcast.net)
[06:44:05] <p1start> XMPPwocky: I thought the [T; N] → &[T] coercion was removed long ago with DST…
[06:44:11] *** Quits: DerisiveLogic (smuxi@moz-g93io6.res.rr.com) (Connection closed)
[06:44:24] <XMPPwocky> frangio: the issue is you need numeric generics or somethin
[06:44:27] <XMPPwocky> p1start: hm
[06:44:43] <p1start> playbot: for i in [1, 2, 3] {}
[06:44:44] -playbot- <anon>:9:9: 9:30 error: the trait `core::iter::Iterator` is not implemented for the type `[_; 3]` [E0277]
[06:44:44] -playbot- <anon>:9         for i in [1, 2, 3] {}
[06:44:44] -playbot- output truncated; full output at: http://bit.ly/1HgisMF
[06:44:46] <XMPPwocky> rusti; let x = [0u8; 42]; let y: &[i3[C2;
[06:44:48] <XMPPwocky> woops
[06:44:51] *** Quits: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net) (A TLS packet with unexpected length was received.)
[06:44:58] <XMPPwocky> rusti: let x = [0u8; 42]; let y: &[u8] = x;
[06:44:59] -playbot- <anon>:9:43: 9:44 error: mismatched types:
[06:45:00] -playbot-  expected `&[u8]`,
[06:45:00] -playbot- output truncated; full output at: http://bit.ly/1JGC8qs
[06:45:02] <XMPPwocky> huh
[06:45:04] *** Joins: DerisiveLogic (smuxi@moz-g93io6.res.rr.com)
[06:45:06] <XMPPwocky> rusti: let x = [0u8; 42]; let y: &[u8] = &x;
[06:45:07] -playbot- ()
[06:45:11] <XMPPwocky> ah, that's what it is
[06:45:16] <XMPPwocky> is that just deref coercions
[06:45:27] <p1start> XMPPwocky: Standard DST coercions
[06:45:44] *** Quits: Twinklebear (Twinklebear@moz-ttrcn3.ut.comcast.net) (Quit: Leaving)
[06:45:46] *** Joins: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net)
[06:45:50] *** Quits: GeorgeHahn (George@moz-ir6kj0.nj.comcast.net) (Quit: Leaving)
[06:45:52] <frangio> may i ask what that all means? :)
[06:46:19] *** Joins: giucam (giucam@moz-u9jnsc.c665.0nib.2060.2001.IP)
[06:46:23] *** Quits: lassej (textual@moz-jv215g.dip0.t-ipconnect.de) (Quit: My Mac has gone to sleep. ZZZzzz…)
[06:46:57] <p1start> frangio: TL;DR: You can’t iterate over [T; n], but you can iterate over &[T; n] because that implicitly coerces to &[T]
[06:47:23] *** Joins: Rym (y@moz-o80acm.range86-189.btcentralplus.com)
[06:47:25] <p1start> And <&[T] as IntoIterator>::Item == &T
[06:47:47] <frangio> ok i see
[06:48:10] *** Quits: joneshf-laptop (joneshf@moz-t619m0.ucdavis.edu) (Ping timeout: 121 seconds)
[06:48:13] *** Joins: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu)
[06:48:49] *** Joins: Tobba (Tobba@moz-6oh.7ki.21.217.IP)
[06:49:49] *** Quits: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net) (Ping timeout: 121 seconds)
[06:50:06] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[06:50:25] *** Joins: ygrek (user@moz-8j9aeu.org.ua)
[06:51:03] *** Joins: lenstr (lenstr@moz-t72.vju.25.171.IP)
[06:51:13] *** Joins: gunther (Mibbit@moz-7nptut.dyn.novuscom.net)
[06:51:24] *** Joins: Layl (Mibbit@moz-iachg4.sdb.prolocation.net)
[06:51:47] <Layl> Heya, anyone here familiar with winapi-rs?
[06:51:51] *** Quits: lenstr (lenstr@moz-t72.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[06:51:56] *** Quits: Rym (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[06:51:57] <tomaka> Layl: I think WindowsBunny is
[06:52:06] *** Joins: lenstr (lenstr@moz-t72.vju.25.171.IP)
[06:52:19] <Layl> I'm trying to wrap my head around the horror that is COM and how to use it from rust
[06:52:26] <tomaka> Ah yeah
[06:52:39] <tomaka> basically you have to manually define the vtable in each object
[06:52:45] <Layl> oh god
[06:52:49] <WindowsBunny> Layl: Hi
[06:52:51] *** Joins: ehiggs (ehiggs@moz-pob5cp.ugent.be)
[06:53:01] *** Quits: lenstr (lenstr@moz-t72.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[06:53:01] <WindowsBunny> Layl: Did you have any questions? :D
[06:53:08] * WindowsBunny nibbles on tomaka
[06:53:15] *** Quits: James (quassel@moz-225vcm.range86-148.btcentralplus.com) (Ping timeout: 121 seconds)
[06:53:22] <Layl> WindowsBunny, yea, how do I bring over a CLSID I need to use with winapi-rs?
[06:54:01] <WindowsBunny> Well, using winapi-rs is no different than using winapi in C, you just gotta call the correct functions the right way
[06:54:17] <WindowsBunny> If the CLSID you want isn't bound yet in winapi-rs, then I can easily add it
[06:54:38] <Layl> is there an example on how the CLSID is added in winapi-rs
[06:54:49] *** Joins: Nextra (Nextra@moz-b95poc.ewe-ip-backbone.de)
[06:54:56] *** Joins: Outlander (Mr@moz-tiv139.internode.on.net)
[06:55:06] <WindowsBunny> well, it depends on the CLSID
[06:55:30] <WindowsBunny> most of them are statics that can easily be extern'd to one of the uuid libraries
[06:55:35] *** Quits: ytain (ytain@moz-01dgko.cpe.pppoe.ca) (Quit: Textual IRC Client: www.textualapp.com)
[06:55:35] <tomaka> I wanted to show an example of using COM in winapi, but I can't find the code I wrote anymore
[06:55:48] <Layl> in this case I'm looking at CLSID_FileOpenDialog
[06:56:02] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[06:56:11] <WindowsBunny> https://github.com/retep998/winapi-rs/blob/master/lib/uuid-sys/src/lib.rs#L492
[06:56:18] <WindowsBunny> Oh good, it's in uuid-sys
[06:56:23] <tomaka> ah, there: https://github.com/retep998/winapi-rs/blob/master/src/lib.rs#L1155-L1206
[06:56:26] <WindowsBunny> so I'll just uh, fill those in quick
[06:57:11] <kimundi> pfffffff
[06:57:12] <Layl> any example that's already filled in so I can see how you add in the GUID?
[06:57:16] * kimundi laughs at the subreddit
[06:57:21] <WindowsBunny> I'm looking into improving the COM stuff with a macro
[06:58:04] <WindowsBunny> although, some of the CLSID's in uuid.lib are really weird
[06:58:09] *** Joins: ville (ville@moz-nadkam.elisa-laajakaista.fi)
[06:58:13] <WindowsBunny> CLSID_a  CLSID_b CLSID_c
[06:58:19] <WindowsBunny> I mean really, what the heck microsoft
[06:58:48] <Layl> I really don't know how to add in what I need here
[06:59:23] *** Joins: laparca (laparca@moz-rgcs06.mgob.kh00.0488.2a01.IP)
[06:59:33] <Layl> should I just uncomment the line for CLSID_FileOpenDialog and add a ": CLSID"?
[06:59:36] *** Quits: khades (Thunderbird@moz-ual.b31.186.31.IP) (Client exited)
[06:59:40] *** Joins: druzac (druzac@moz-hn17us.vc.shawcable.net)
[06:59:42] <WindowsBunny> That's actually what I'm doing right now :P
[06:59:57] <Layl> ah alright, should I make a fork as well or just wait for your fork
[07:00:02] *** Quits: albertofem (textual@moz-03pmou.staticIP.rima-tde.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[07:00:24] <WindowsBunny> CLSID_1 CLSID_2 CLSID_3
[07:00:27] <WindowsBunny> okay, seriously microsoft
[07:00:53] <Layl> I still think it would be really elegant to have a full rust stack
[07:01:07] *** Joins: debu (debu@moz-thlvnr.dyn.telefonica.de)
[07:01:10] <Layl> even if it would probably not happen since linux has the huge amount of installed userbase
[07:01:21] <WindowsBunny> Layl: Okay, I pushed a commit
[07:01:24] <Layl> thanks
[07:01:31] <WindowsBunny> you should be able to use the git version
[07:01:44] *** Joins: dstrbad (dstrbad@moz-a6pr9i.cable.xnet.hr)
[07:01:46] <WindowsBunny> Of course you'll still need the COM interface definitions for that type
[07:01:51] <WindowsBunny> but uh, those are a bit harder :D
[07:02:01] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[07:02:38] <Layl> happen to have an example on that?
[07:02:46] <Layl> or should I just not bother if I want to get that done within a week
[07:03:06] *** Joins: Nickleu (sailfish@moz-uo3.ii8.96.112.IP)
[07:03:13] <WindowsBunny> Well, it means having to write out a manual vtable definition
[07:03:16] <WindowsBunny> Which... isn't fun
[07:03:33] *** Quits: james4k_ (james@moz-e6no8q.consolidated.net) (Ping timeout: 121 seconds)
[07:04:18] *** Quits: sprang_ (sprang@moz-98q.7vl.56.172.IP) (Ping timeout: 121 seconds)
[07:04:50] <tomaka> Layl: https://github.com/retep998/winapi-rs/blob/master/src/lib.rs#L1155-L1206
[07:05:11] <Layl> I see
[07:05:20] *** Quits: giucam (giucam@moz-u9jnsc.c665.0nib.2060.2001.IP) (Connection closed)
[07:05:23] <Layl> I'm increasingly thinking I should just use the old pre-vista APIs
[07:05:28] <tomaka> the functions must be in the right order, so you should read the header files
[07:05:32] <Layl> even if microsoft would really like me very much to use these
[07:05:35] *** Joins: giucam (giucam@moz-7gjibu.c665.0nib.2060.2001.IP)
[07:06:20] *** Quits: Kingsquee (kingsley@moz-3fm07c.bchsia.telus.net) (Quit: Konversation terminated!)
[07:06:21] <WindowsBunny> damn, this vtable is big for IFileOpenDialog
[07:07:24] *** Joins: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se)
[07:07:28] *** Quits: Outlander (Mr@moz-tiv139.internode.on.net) (Quit: leaving)
[07:08:02] *** Quits: playjax (chatzilla@moz-3p7j3t.optusnet.com.au) (Ping timeout: 121 seconds)
[07:09:07] *** Quits: FallingAlways (FallingTime@moz-1fu.gli.225.99.IP) (Connection closed)
[07:09:21] *** Quits: nercury (nercury@moz-fbs.e0f.20.5.IP) (Ping timeout: 121 seconds)
[07:09:21] <Layl> this one also inherits from another class
[07:09:25] <Layl> how do I handle that?
[07:09:25] <WindowsBunny> well yeah
[07:09:34] <WindowsBunny> There is no inheritance in C
[07:09:38] <WindowsBunny> erm, Rust
[07:09:50] *** Quits: jwatt (roslea@jwatt.irc.users.mozilla.org) (Ping timeout: 121 seconds)
[07:09:57] <WindowsBunny> so it means you look at the C definition of the vtable :D
[07:10:07] <WindowsBunny> and not the C++ one
[07:10:49] <Layl> oh god what is this lovecraftian horror
[07:10:59] <WindowsBunny> That's COM
[07:11:52] *** Quits: thelastinuit (thelastinui@moz-doh.aqt.240.148.IP) (Quit: Textual IRC Client: www.textualapp.com)
[07:12:02] *** Quits: dstrbad (dstrbad@moz-a6pr9i.cable.xnet.hr) (A TLS packet with unexpected length was received.)
[07:12:12] *** Joins: simonoram (simonoram@moz-pllbvg.cable.virginm.net)
[07:12:32] <Layl> right, this is just gonna take too much time
[07:12:39] <Layl> I'm gonna resort to the pre-vista APIs
[07:12:59] <WindowsBunny> Layl: Well, if you feed me, I'll fill in the interface myself :D
[07:13:45] * Layl feeds WindowsBunny a carrot
[07:13:59] *** Joins: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP)
[07:14:44] *** Joins: ebel (rory@moz-l1ldq7.hsi4.kabel-badenwuerttemberg.de)
[07:14:47] *** Quits: chao-tic (chao@moz-rs0mbe.xtra.co.nz) (Quit: WeeChat 1.0.1)
[07:14:52] *** Joins: kaeluka (kaeluka@moz-tn3lqd.cust.bredbandsbolaget.se)
[07:15:22] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[07:15:48] *** Quits: kent (kent@moz-nd2iqs.fl.atlanticbb.net) (Ping timeout: 121 seconds)
[07:15:58] *** Quits: skade (skade@moz-u1j.1t9.225.62.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[07:17:08] <Layl> I'm trying to build a library similar to libuv but for higher level UI stuff instead, or at least a start of it
[07:17:18] <WindowsBunny> mkay, let's see what I can do about writing a macro to make COM easier to work with
[07:17:22] <Layl> so I can share functionality between my library phosphorus and conrod
[07:17:26] * WindowsBunny rips a macro from someone's fork
[07:18:02] *** Joins: lambda (Mibbit@moz-9ch.veh.194.137.IP)
[07:18:13] <Layl> specifically I hope to be able to share clipboard and file/folder browser functionality cross platform
[07:19:10] <maurer> Anyone know what <holmes macros>:10:33: 10:36 error: expected ident, found an interpolated pattern
[07:19:14] <maurer>  means?
[07:19:29] *** Joins: munksgaard (munksgaard@moz-1i4.hq0.225.130.IP)
[07:20:02] <WindowsBunny> maurer: Give up all hope and cry in a corner. That's what happens when I get an error inside a macro :D
[07:20:03] <Mutabah> maurer: You used a :pat fragment where it wanted an ident
[07:20:05] <maurer> https://bpaste.net/show/79cbf388b8f2 is the code
[07:20:06] *** Joins: skade (skade@moz-u1j.1t9.225.62.IP)
[07:20:35] <maurer> Mutabah: So, the macro I recurse into has cases for ident, _, and an expr
[07:20:36] *** Joins: thiblahute (tsaunier@moz-68f5rr.rev.sfr.net)
[07:20:45] <maurer> Mutabah: am I not allowed to case out on what kind of pattern it is?
[07:21:00] <Mutabah> I don't think so
[07:21:38] <maurer> And I don't suppose I can say $m:(ident||_||expr)
[07:21:45] <maurer> well, I guess an expr would include an ident
[07:21:45] *** Quits: Porkepix (Porkepix@moz-e1bv2v.rev.sfr.net) (Quit: My laptop has gone to sleep. ZZZzzz…)
[07:21:45] <Mutabah> (I _think_ that when parsing the macro invocation, it actually parses into an AST Pattern node
[07:21:50] <Layl> so, WindowsBunny, are you trying to automate COM vtable generation using macros?
[07:22:10] <maurer> but I guess I'd run into the same issue, where the expr would not be an ident for purposes of recursion
[07:22:14] *** Joins: Kingsquee (kingsley@moz-3fm07c.bchsia.telus.net)
[07:22:23] <WindowsBunny> Layl: I'm not going to automate creating them, I'm going to use macros to make them look a bit nicer in code, and a lot easier to use
[07:22:35] <WindowsBunny> So you can actually invoke methods on them
[07:22:36] <Layl> ah, I see
[07:22:55] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[07:23:18] *** Quits: nodweber_ (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[07:23:21] <WindowsBunny> Hmmmm
[07:23:30] <WindowsBunny> Is it possible to require that a type cannot be moved?
[07:23:32] <maurer> Mutabah: is there any way for me undo a matching? Say, match something as a pattern, then blit it back out as "raw" code to be matched again?
[07:23:40] <Mutabah> I don't know
[07:23:54] *** Quits: zyphrus (David@moz-1a4.urk.98.101.IP) (Ping timeout: 121 seconds)
[07:24:10] *** Quits: frangio (frangio@moz-04sgf8.fibertel.com.ar) (Ping timeout: 121 seconds)
[07:24:16] <ChrisMorgan> WindowsBunny: https://github.com/Manishearth/rust-tenacious
[07:24:25] *** Joins: jws (jsalter@moz-q98cl6.cable.virginm.net)
[07:24:38] <Mutabah> WindowsBunny: That plugin is as close as we have
[07:24:40] *** Joins: dstrbad (dstrbad@moz-a6pr9i.cable.xnet.hr)
[07:24:47] *** Joins: soma (Mibbit@moz-ef5.7ab.191.107.IP)
[07:24:52] <WindowsBunny> More specifically, I'd like to specify that the type is actually unsized :P
[07:24:52] *** Joins: nercury (nercury@moz-fbs.e0f.20.5.IP)
[07:24:57] <Manishearth> ChrisMorgan: hm?
[07:24:58] <Manishearth> oh
[07:24:58] <soma> Hello! Does every variable has some lifetime associated with it
[07:25:07] <Mutabah> (There have been discussions about a "Relocatable" trait)
[07:25:09] *** Quits: lambda (Mibbit@moz-9ch.veh.194.137.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[07:25:23] <WindowsBunny> It's because a COM interface is actually not the entire object
[07:25:24] <Mutabah> soma: Every object has a lifetime, yes
[07:25:32] *** Joins: alonlevy (alon@moz-ofv.tgc.142.37.IP)
[07:25:34] <Mutabah> soma: As a concept, not really as a named entitiy
[07:25:34] <Layl> WindowsBunny, how would someone move an unsized?
[07:26:11] <Layl> I don't see that as a concept that's valid on an unsized
[07:26:13] *** Quits: gunther (Mibbit@moz-7nptut.dyn.novuscom.net) (Quit: http://www.mibbit.com ajax IRC Client)
[07:26:17] <WindowsBunny> Layl: The problem is that the type isn't unsized, so some silly programmer might try to move it
[07:26:17] <Layl> since move is generally a stack action
[07:26:20] <soma> Mutabah: what's the difference?
[07:26:30] <maurer> Mutabah: well, it looks like I can avoid the initial match by doing a tt instead of a pat
[07:26:35] *** Joins: jaen (jaen@moz-ifmik2.copit.pl)
[07:26:44] <WindowsBunny> although, then again, maybe I'm just worrying too much
[07:26:46] <Layl> WindowsBunny, what happens if you move it anyways
[07:26:53] <maurer> Mutabah: but now I'm discovering that the next match doesn't seem to like the idea of casing out on the kind of syntax fragment that it is
[07:26:54] <Mutabah> soma: If you're looking for a lifetime name ('a) for a variable, they don't exist
[07:27:05] <WindowsBunny> Actually, it shouldn't be possible to get it on the stack anyway
[07:27:07] *** Joins: sprang_ (sprang@moz-d0kmvi.12d9.sm5v.0009.2601.IP)
[07:27:12] <Manishearth> WindowsBunny: note that that lint isn't perfect
[07:27:24] <Manishearth> until I get proper AST parenting, I can't fix that easily
[07:27:27] *** Joins: albertofem (textual@moz-kd4oel.user.ono.com)
[07:27:34] *** Quits: albertofem (textual@moz-kd4oel.user.ono.com) (Quit: Textual IRC Client: www.textualapp.com)
[07:27:39] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[07:27:45] <Manishearth> though removing the rvalue early returns will make it perfect
[07:27:50] <Manishearth> but overzealous
[07:27:58] *** Quits: jws (jsalter@moz-q98cl6.cable.virginm.net) (Client exited)
[07:28:00] <Manishearth> so not perfect perfect (just that it won't miss any moves)
[07:28:09] <soma> Mutabah: in rust book, it says "Technically, every reference has some lifetime associated with it", why not every variable?
[07:28:19] <WindowsBunny> but then again, you'll only get a COM interface through a pointer
[07:28:24] <WindowsBunny> so you should never have it by value
[07:28:52] <Manishearth> soma: because owned variables (containing no borrowed data) can be passed around as much as you want
[07:28:54] <Layl> I hoped that once I started working on game engines instead of desktop software, I would never have to look at windows APIs again but nooo
[07:29:00] <Layl> I just HAD to make an editor
[07:29:11] <WindowsBunny> Layl: games are a huge source of winapi
[07:29:14] <Manishearth> you can say that they are T: 'static
[07:29:15] <WindowsBunny> Layl: just ask tomaka
[07:29:23] <Manishearth> but that's not exact
[07:29:47] <Layl> I haven't had to use much winapi directly yet
[07:29:54] <Layl> emphasis on yet
[07:30:05] *** Quits: skade (skade@moz-u1j.1t9.225.62.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[07:30:26] <WindowsBunny> Don't worry, winapi-rs only exposes that awfulness to Rust
[07:30:40] <WindowsBunny> Really, most of the awfulness is on me
[07:30:53] <WindowsBunny> Having to manage this massive pile of bindings and libraries, and adding new stuff to it Q_Q
[07:30:57] <soma> Mutabah: ok.  why do we need named lifetimes?
[07:31:04] *** Quits: debu (debu@moz-thlvnr.dyn.telefonica.de) (Ping timeout: 121 seconds)
[07:31:16] *** Quits: rootnode (rootnode@moz-go1ut4.ip1.george24.com) (Connection closed)
[07:31:28] <Mutabah> soma: borrowck only sees the prototypes of objects and other functions, lifetime parameters tell it how borrows propagate
[07:31:41] <WindowsBunny> Manishearth: You can pass such fully owned things to generics that specify T: 'static
[07:31:43] <maurer> http://is.gd/YwnRIo Is there a way to do something like this?
[07:31:48] <Layl> WindowsBunny, does winapi-rs have bindings for GetOpenFileName?
[07:31:58] *** Joins: lucian (lucian@moz-2c3pda.cable.virginm.net)
[07:32:05] <maurer> (this would print out "arg", "blarg", 3 in an ideal world)
[07:32:19] *** Joins: Stents_ (Stents@moz-m0u.smp.170.166.IP)
[07:32:22] <soma> Mutabah: what does borrow propagation mean?
[07:32:32] <WindowsBunny> Layl: Not yet :D
[07:32:33] <Mutabah> maurer: ident is a valid subset of expr
[07:32:40] <Mutabah> maurer: I presume that that confuses the compiler
[07:32:53] <WindowsBunny> hmmm, its in comdlg32
[07:32:58] <maurer> Mutabah: the hope would be that it would pick ident when it can
[07:32:58] <WindowsBunny> I haven't started on that -sys crate yet
[07:33:01] <maurer> Mutabah: and expr otherwise
[07:33:06] <Layl> darn it
[07:33:10] *** Quits: AngelOfSol (AngelOfSol@moz-dj58kc.rh.rit.edu) (Quit: Remember to close the door when you're done!)
[07:33:14] <ChrisMorgan> Manishearth: owned variables have a lifetime, 'static.
[07:33:29] <ChrisMorgan> That’s how 'static is defined.
[07:33:34] <Mutabah> soma: What the lifetime of returned values are
[07:33:39] <WindowsBunny> Layl: Don't worry, you're free to become a masochistic maniac and work on it yourself :D
[07:33:49] <Mutabah> E.g. fn fcn<(v: &'a A) -> &'a A
[07:33:55] <Mutabah> E.g. `fn fcn<'a>(v: &'a A) -> &'a A`
[07:34:00] <Layl> the problem is I just don't have much time for all of this
[07:34:28] <Layl> I've got more stuff with deadlines I have to get finished
[07:34:39] *** Quits: lucian (lucian@moz-2c3pda.cable.virginm.net) (Quit: Leaving...)
[07:34:49] *** Joins: zyphrus (David@moz-1a4.urk.98.101.IP)
[07:35:03] *** Joins: frankmcsherry (frankmcsher@moz-jna.j5l.19.178.IP)
[07:35:14] *** Quits: Stents (Stents@moz-r8d.u6c.187.68.IP) (Ping timeout: 121 seconds)
[07:35:33] <Layl> I'll just get some stuff done that isn't blocked for now
[07:35:45] <Manishearth> ChrisMorgan: yeah
[07:35:54] <Manishearth> it's different from the lifetime in &'a though
[07:36:07] <Manishearth> 'a in &'a is the lifetime parameter for the &T type
[07:36:20] <Manishearth> 'static in T: 'static is a trait-y thing that is derived
[07:36:33] <Manishearth> though usually &'a is &'a T+'a, etc
[07:36:34] <frankmcsherry> Morning! Does anyone know if Rust/LLVM is smart enough to optimize out match logic for enum variants that are dead (i.e. never get assigned).
[07:36:46] <Manishearth> frankmcsherry: doubt it
[07:36:52] <ChrisMorgan> Manishearth: there’s not really any difference between them.
[07:37:03] <soma> Mutabah: sorry I still don't get it. Does borrow propagation mean binding a reference to another variable?
[07:37:05] <Manishearth> ChrisMorgan: one is a type param, the other is a trait bound
[07:37:08] <Manishearth> (ish)
[07:37:13] <Manishearth> technically, a difference
[07:37:23] <ChrisMorgan> Manishearth: yeah, but it doesn’t make any practical difference in what it means or how it is used.
[07:37:25] <Manishearth> practically, not really 
[07:37:27] <Manishearth> yeah
[07:37:29] <Manishearth> :)
[07:37:39] <Mutabah> soma: It just means that borrowck knows that a function returns a borrow of the input
[07:38:12] *** Quits: Takronix (Takronix@moz-nm15k0.hr.cox.net) (Connection closed)
[07:38:51] <soma> Mutabah: It seems to be only useful in function calls. Why does named lifetime exist in trait impl, struct...
[07:38:57] *** Quits: ygrek (user@moz-8j9aeu.org.ua) (Ping timeout: 121 seconds)
[07:39:09] <Mutabah> soma: Structs contain borrows
[07:39:36] <Mutabah> Impl blocks need to handle that case
[07:39:43] *** Joins: kmicu (kmicu@moz-uga.edn.218.91.IP)
[07:40:38] *** Quits: erz (erz@moz-n26c5c.broadband.corbina.ru) (Quit: My Mac has gone to sleep. ZZZzzz…)
[07:41:29] *** Joins: Rym (y@moz-o80acm.range86-189.btcentralplus.com)
[07:41:51] *** Joins: jophish (jophish@moz-epocft.broadband.tesco.net)
[07:42:10] *** Quits: jistone (jistone@moz-u47qar.redhat.com) (Ping timeout: 121 seconds)
[07:42:17] *** Quits: mcoffin (mcoffin@moz-8l6.usq.54.128.IP) (Quit: goodnight)
[07:42:35] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[07:43:27] *** Joins: Lilly (Lilly@moz-pfkvo9.bredband.comhem.se)
[07:44:05] <soma> Mutabah: Does &'a T mean 1. object T has a lifetime 'a ; 2. reference has a lifetime 'a; or 3. both are wrong ...
[07:44:43] *** Joins: wldcordeiro (wldcordeiro@moz-pvsror.ut.comcast.net)
[07:45:03] *** Joins: jistone (jistone@moz-u47qar.redhat.com)
[07:45:04] <woboats> soma: it means that the reference has a lifetime of at least 'a
[07:45:25] *** Quits: laparca (laparca@moz-rgcs06.mgob.kh00.0488.2a01.IP) (Quit: Leaving.)
[07:45:27] *** Joins: laparca (laparca@moz-rgcs06.mgob.kh00.0488.2a01.IP)
[07:45:42] *** Joins: blackdout (Mibbit@moz-6u7pgg.sntcca.sbcglobal.net)
[07:46:02] *** Joins: twipeD (wipeD@moz-vjpnq2.dip0.t-ipconnect.de)
[07:46:05] *** Quits: Rym (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[07:46:26] *** Quits: blackdout (Mibbit@moz-6u7pgg.sntcca.sbcglobal.net) (Quit: http://www.mibbit.com ajax IRC Client)
[07:46:45] <Mutabah> soma: The object pointed to by the reference exists for at least 'a
[07:46:59] *** Quits: v21 (vee@moz-2gv.oe1.4.171.IP) (A TLS packet with unexpected length was received.)
[07:47:19] *** Quits: jonatin (jonatin@moz-jl9ua2.ca.comcast.net) (Quit: Textual IRC Client: www.textualapp.com)
[07:48:25] *** Joins: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net)
[07:48:27] *** Quits: squiddy (squiddy@moz-md4.pm3.19.178.IP) (Connection closed)
[07:49:38] <soma> Mutabah: oh. so it is a constrain on binding operations, not some kind of properties a reference has, right?
[07:49:49] <acgtyrant> I want to call rust function in C like this: http://bluishcoder.co.nz/2013/08/08/linking_and_calling_rust_functions_from_c.html
[07:50:03] <heftig> soma: you can look at them like generics
[07:50:10] <acgtyrant> I fork the repo and update it to the current syntax and api: https://github.com/acgtyrant/rust-from-c-example
[07:50:26] *** Joins: skade (skade@moz-u1j.1t9.225.62.IP)
[07:50:26] <Mutabah> soma: The book covers this better than a question and answer session on IRC
[07:50:27] <heftig> a reference with a longer lifetime is a subtype of a reference with a shorter lifetime
[07:50:36] <acgtyrant> but i failed in `make`: mylib.rs:10:3: 10:6 error: binary operation `+` cannot be applied to type `usize` [E0369] mylib.rs:10   lhs + rhs
[07:50:43] <acgtyrant> any idea? thank you!
[07:50:52] *** Joins: casey (casey@moz-v0ns05.tpgi.com.au)
[07:50:53] <Mutabah> acgtyrant: What verison of rust are you using?
[07:50:58] <soma> Mutabah: ok. thank you for your help
[07:50:58] <acgtyrant> nightly
[07:51:03] *** Quits: casey (casey@moz-v0ns05.tpgi.com.au) (Connection closed)
[07:51:04] <Mutabah> acgtyrant: Recent?
[07:51:05] *** Joins: casey (casey@moz-v0ns05.tpgi.com.au)
[07:51:13] <Layl> acgtyrant, change the usizes to something like i32
[07:51:16] <acgtyrant> local/rust-nightly-bin 1.1.0_2015.05.13-1
[07:51:22] <acgtyrant> Layl, OK
[07:51:43] <Layl> note, this won't quite work if you're compiling on 64 bit iirc, you need to adjust your .c file a little bit
[07:51:45] <Mutabah> acgtyrant: ... why is #[lang=sized] on that function?
[07:51:45] <Layl> hold on while I look
[07:52:03] *** Joins: aravindavk (aravinda@moz-4r3.nu8.126.91.IP)
[07:52:18] *** Joins: khades (Thunderbird@moz-ual.b31.186.31.IP)
[07:52:19] <acgtyrant> Layl, same error: mylib.rs:10:3: 10:6 error: binary operation `+` cannot be applied to type `i32` [E0369]
[07:52:37] <Layl> that would be really odd
[07:52:38] *** Quits: espadrine (tyl@moz-l019mn.fbx.proxad.net) (Ping timeout: 121 seconds)
[07:53:06] <acgtyrant> Mutabah, if i do not add this attibute, i will meet this error: error: requires `sized` lang_item
[07:53:06] <acgtyrant> error: requires `sized` lang_item
[07:53:06] <acgtyrant> error: requires `sized` lang_item
[07:53:08] <Mutabah> acgtyrant: I ask again, why did you put the sized lang item on a function?
[07:53:21] *** Joins: lenstr (lenstr@moz-t72.vju.25.171.IP)
[07:53:25] <Mutabah> acgtyrant: Yes, either 1. include libcore "extern crate core;"
[07:53:35] <Layl> playbot: x: i32 = 5; y: i32 = 7; x + y
[07:53:36] -playbot- <anon>:9:10: 9:11 error: expected one of `!`, `.`, `::`, `;`, `{`, `}`, or an operator, found `:`
[07:53:36] -playbot- <anon>:9         x: i32 = 5; y: i32 = 7; x + y
[07:53:36] -playbot- output truncated; full output at: http://bit.ly/1Ixcg3f
[07:53:40] <Mutabah> or, make a trait 'trait Sized {}' and put that lang item on it
[07:53:47] <Layl> playbot: let x: i32 = 5; let y: i32 = 7; x + y
[07:53:49] -playbot- 12
[07:53:50] *** Joins: shik (shik@moz-lutbkc.ntu.edu.tw)
[07:54:01] <acgtyrant> Mutabah, i will try to include the libcore
[07:54:02] <Mutabah> acgtyrant: Hint -  Don't just stick lang items on things you don't understand
[07:54:11] *** Quits: lenstr (lenstr@moz-t72.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[07:54:19] *** Joins: lenstr (lenstr@moz-t72.vju.25.171.IP)
[07:54:22] *** Joins: nightpool (nightpool@moz-m1ltal.sub-70-192-12.myvzw.com)
[07:54:37] <Layl> acgtyrant, just remove the lang=sized and use the i32s
[07:54:41] <Layl> that should work I think
[07:54:52] <Mutabah> Layl: No, it needs Sized to be avalible iirc
[07:54:57] <Layl> ah I see
[07:55:01] *** Quits: soma (Mibbit@moz-ef5.7ab.191.107.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[07:55:05] <Layl> no wait, hm
[07:55:19] <Mutabah> Layl: However, sized shouldn't be on a function
[07:55:20] *** Quits: lenstr (lenstr@moz-t72.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[07:55:25] <Layl> wasn't there a different way to export C functions
[07:55:27] <Mutabah> I'm surprised this isn't an error or an ICE
[07:56:00] <Layl> "extern "C""
[07:56:17] <Mutabah> Layl: YEs, that should also be on this method
[07:56:20] <Layl> why does that file even have no_std
[07:56:28] <Layl> why would you possibly not want std
[07:56:34] <Mutabah> That post is very out of date
[07:56:49] <Mutabah> There are better examples in the book
[07:57:07] *** Quits: jophish (jophish@moz-epocft.broadband.tesco.net) (Connection closed)
[07:57:44] <Layl> is usize a ctype?
[07:57:52] <Layl> and thus needs #![allow(ctypes)] ?
[07:58:06] <Mutabah> No, it isn't a ctype
[07:58:10] *** Joins: tigrou3tac (fabien@moz-gdonfo.fbx.proxad.net)
[07:58:10] <Layl> acgtyrant, I'm cleaning up that rust file a bit to work with the current rustc
[07:58:15] <Mutabah> acgtyrant: That post you're copying is VERY out of date
[07:58:19] <Mutabah> and does several things wrong
[07:58:27] <acgtyrant> Mutabah, so it is _(:з」∠)_
[07:58:34] <Mutabah> acgtyrant: In the FFI section of the book, there is a better example
[07:58:41] <Layl> acgtyrant, I've got this now https://gist.github.com/LaylConway/943d677a476c019a20af Mutabah does it look correct?
[07:59:11] *** Joins: nicolai86 (Mibbit@moz-rpprm1.dip0.t-ipconnect.de)
[07:59:16] <Mutabah> Layl: That will be warning about improper ctypes, but yes, it looks good otherwise
[07:59:37] <Layl> warning would be fine here right now, a quick replace of the usize with i32 would fix it
[07:59:39] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[07:59:40] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[07:59:49] <Layl> updated it
[07:59:52] *** Quits: ehiggs (ehiggs@moz-pob5cp.ugent.be) (Quit: WeeChat 1.1.1)
[07:59:55] *** Quits: nicolai86 (Mibbit@moz-rpprm1.dip0.t-ipconnect.de) (Quit: http://www.mibbit.com ajax IRC Client)
[08:00:16] *** Joins: murz (murz@moz-nr2kro.wa.comcast.net)
[08:00:39] <Layl> acgtyrant, if you try the latest update I've made that should probably work
[08:00:44] <Layl> though I haven't looked at your makefile yet
[08:01:08] *** Joins: fabiand (fabiand@moz-rsvbmo.dip0.t-ipconnect.de)
[08:02:16] <Layl> I love how safe rust makes memory race conditions impossible
[08:03:24] *** Joins: jws (jsalter@moz-q98cl6.cable.virginm.net)
[08:03:54] *** Quits: basicdays (basicdays@moz-f3e.15a.49.72.IP) (Quit: I'm out)
[08:04:18] *** Quits: murz (murz@moz-nr2kro.wa.comcast.net) (Ping timeout: 121 seconds)
[08:04:30] *** Quits: jws (jsalter@moz-q98cl6.cable.virginm.net) (Client exited)
[08:04:31] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[08:04:50] *** Quits: loyd (loyd@moz-uft.32f.108.213.IP) (Ping timeout: 121 seconds)
[08:05:23] *** Quits: SneakySnake (nya@moz-i9is4u.pool.telekom.hu) (Connection closed)
[08:05:43] *** Joins: laumann (thomas@moz-33d.hq0.225.130.IP)
[08:05:57] *** Quits: QuadTan (Tan@moz-r5oa06.student.uu.se) (Quit: Leaving)
[08:06:16] <bstrie> Layl: were you the one doing rust for a class?
[08:06:28] <Layl> for my end exam, ea
[08:06:29] <Layl> *yea
[08:06:41] *** Joins: whidgle (Mibbit@moz-jl9m5a.obit.ru)
[08:06:41] <Layl> I hope to continue to use rust in my education after this
[08:06:48] <Layl> anything but C++
[08:07:23] <bstrie> Layl: how is that working out?
[08:07:27] *** Joins: areski (areski@moz-adq529.user.ono.com)
[08:07:30] <Layl> it's working out mixed
[08:07:46] <Layl> on the one side, I'm running into delays left and right, it's very clear that the rust ecosystem is in its infancy
[08:07:50] <acharles> How do I disambiguate a call between num::Zero and std::num::Zero when I want to call A::zero()?
[08:08:04] <Layl> on the other hand, it doesn't matter if I don't get the project done, as long as the customer's happy with my work within the time frame
[08:08:14] <maurer> Is there any way to suppress the unused assignment warning (or in general any warning) for a particular sub area of code?
[08:08:16] <XMPPwocky> acharles: <A as std::num::Zero>::zero( iirc
[08:08:24] *** Quits: Kxepal (Miranda@moz-9hpqdo.pppoe.mtu-net.ru) (Ping timeout: 121 seconds)
[08:08:30] <acharles> XMPPwocky: Thanks
[08:08:49] <maurer> (in this case I'm trying to suppress unused assignment within a particular macro that iterates over its arguments, and the first n-1 assignments are needed, and the nth is dead
[08:08:50] *** Quits: gopar (gopar@moz-5039uj.ca.comcast.net) (Quit: Leaving)
[08:08:57] <Layl> I hope to over the holidays refactor the code and get it to a good quality for use in my studies
[08:09:19] <Layl> also this is the best way to make sure dem darn designers don't touch my code
[08:09:31] <Layl> can't edit what you can't read
[08:10:16] *** Quits: sayan (sayan@moz-ip8.595.51.106.IP) (A TLS packet with unexpected length was received.)
[08:10:32] <XMPPwocky> where's that syntax extension that signed code
[08:10:39] <Layl> is it a common pattern to do: mod my_mod; pub use my_mod::*; ? 
[08:10:53] <Mutabah> Layl: Not a good one
[08:11:07] <Layl> why not
[08:11:14] *** Quits: aravindavk (aravinda@moz-4r3.nu8.126.91.IP) (Ping timeout: 121 seconds)
[08:11:18] <Mutabah> Glob imports are very quirky
[08:11:23] <Mutabah> Avoid wherever possible
[08:11:35] <Layl> so, I should avoid because of compiler bugs?
[08:11:43] <Layl> I haven't had problems so far
[08:11:59] <Mutabah> That, and your code can silently break if that module introduces a new item
[08:12:18] *** Quits: nercury (nercury@moz-fbs.e0f.20.5.IP) (Client exited)
[08:12:47] *** Joins: kent (kent@moz-nd2iqs.fl.atlanticbb.net)
[08:12:52] *** Quits: druzac (druzac@moz-hn17us.vc.shawcable.net) (Client exited)
[08:12:54] <Layl> seems globs are now considered stable anyways
[08:13:15] <Layl> I really don't see an alternative way to break up my module into files better without having endless separate modules
[08:13:17] <kagami> Guys, it's impossible to use libc and exit_status on rust beta, right?
[08:13:17] <frankmcsherry> I'm looking for an iterator adaptor that turns Iterator<Item=V> into Iterator<Item=(V,usize)> telling me how many times each element occurred in a row. Anything leap to mind, or roll my own?
[08:13:18] <acgtyrant> Layl, Mutabah it works, thank you!
[08:14:09] *** Joins: loyd (loyd@moz-uft.32f.108.213.IP)
[08:14:43] *** Joins: nercury (nercury@moz-fbs.e0f.20.5.IP)
[08:14:52] *** Joins: meh (meh@moz-aes.k52.255.46.IP)
[08:15:32] *** Joins: d_rezzer (chatzilla@moz-t0fmuj.hfc.comcastbusiness.net)
[08:15:40] *** Joins: martin1 (martin@moz-mbkero.wlan.ntnu.no)
[08:15:44] *** martin1 is now known as martinhath
[08:16:13] <Layl> kagami, libc is now a library iirc
[08:16:47] <Layl> kagami, https://crates.io/crates/libc
[08:17:14] <Layl> not sure why nightly still allows you to use the built in crate
[08:17:16] <kagami> Layl: oh, thanks.
[08:17:39] <kagami> Layl: and what about exit_status? How am I supposed to set custom exit status?
[08:17:41] *** Joins: csoriano_ (csoriano@moz-g6rkdc.net.upcbroadband.cz)
[08:17:52] <Stents_> How exactly do trait requirments work on struct generics?
[08:18:03] <Layl> kagami, no idea though I'm seeing something in rustuv
[08:18:07] <skade> Layl i think because nightly basically allows to use all features that rustc uses internally and rustc uses the built-in libc.
[08:18:20] <Stents_> Like where do you put them? In the struct definition or in the impl
[08:18:43] <Layl> skade, I really think then that there should be at least a feature gate on libc
[08:18:47] <Mutabah> Stents_: Within the generic block usually, or in a where clause after the first line
[08:18:49] <Layl> because this is such an easy mistake to make
[08:19:00] <Mutabah> Stents_: However, you also need the bounds in the impl
[08:20:01] <skade> Layl libc is feature gated: http://is.gd/5mAgLG
[08:20:05] <Stents_> I know how to add the requirement I just don't know whether to put it on the struct def or the impl
[08:20:18] <Stents_> I'm looking at a piece of source code that only has it on an impl for a trait
[08:20:18] <Layl> hm, I see
[08:20:33] <Layl> still an easy mistake to make but better than nothing
[08:20:37] <kimundi> Stents_: You can put them on either. If you put them on the struct, they are always required, if you put them on the impl you have the option of not requiring them for some impls
[08:20:43] <maurer> is there a way to get ints that overflow like normal?
[08:20:53] <skade> yep, trips me every time (and I mostly do FFI work)
[08:20:53] <maurer> rather than panicking on overflow?
[08:20:57] *** Quits: mindtree (Mitch@moz-fog.g9r.240.116.IP) (Ping timeout: 121 seconds)
[08:21:07] <Stents_> Is there any difference between putting them on everything or just one impl?
[08:21:12] <kimundi> maurer: there are methods for doing the wrapping math operations
[08:21:33] *** Joins: Nickleoi (sailfish@moz-17q.pgr.96.112.IP)
[08:21:40] <kimundi> Stents_: Well if you put them on a impl, it only applies to that one impl
[08:21:56] *** Quits: d_rezzer (chatzilla@moz-t0fmuj.hfc.comcastbusiness.net) (Ping timeout: 121 seconds)
[08:21:59] <tilpner> playbot: 250u8.wrapping_add(20) // maurer
[08:22:00] -playbot- 14
[08:22:08] <bluss> frankmcsherry: you can do it with itertools .coalesce but it's pretty verbose I guess
[08:22:26] *** Quits: Nickleu (sailfish@moz-uo3.ii8.96.112.IP) (Ping timeout: 121 seconds)
[08:22:38] <Stents_> kimundi, So if it doesn't meet the trait requirement it wont have that part implemented?
[08:22:46] <frankmcsherry> bluss: gotcha. I'll look in to that!
[08:22:47] <faern> If I have #[cfg(my_foo)] in my code. How do I turn that option on and off during compilation?
[08:22:49] <kimundi> Stents_: yep
[08:23:10] *** Joins: Guest63 (textual@moz-qfs.570.70.83.IP)
[08:23:16] *** Joins: kngl (Adium@moz-m3a3bq.ipv4.evonet.be)
[08:23:17] *** Joins: rootnode (rootnode@moz-go1ut4.ip1.george24.com)
[08:23:18] <huon> faern: pass `--cfg my_foo` to rustc
[08:23:26] <frankmcsherry> bluss: I have to write some iterators for other bits (custom stuff around my data structures) so maybe this will be good practice!
[08:23:28] <faern> Ah --cfg. Thanks
[08:23:33] <huon> faern: if you're using cargo, "features" are a better a approach
[08:23:41] *** Quits: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[08:24:00] <huon> faern: http://doc.crates.io/manifest.html#the-[features]-section
[08:24:04] <bluss> frankmcsherry: .map(|x| (x, 1)).coalesce(|a, b| if a.0 == b.0 { Ok((a.0, a.1 + b.1)) } else { Err((a, b)) } }  // soemthing like that
[08:24:04] <maurer> tilpner: Thanks. Out of curiosity, will that incur a function call? It's not an issue for what I'm writing right now, but very much would for some things I'm considering writing in the future
[08:24:15] <Layl> does the iron framework have a vagrant example?
[08:24:20] <faern> huon: Thanks.
[08:24:46] <bluss> frankmcsherry: since it's so cumbersome to return iterators maybe writing custom iterators is the best anyway. depends on use
[08:24:48] <reem> Layl: No, but it should be the same as any other rust, plus you need openssl
[08:24:50] <frankmcsherry> bluss: that's not so terrifying. is it ... it's probably hard to wrap up as a function without explicitly naming the type of the returned iterator, isn't it?
[08:25:04] <reem> Layl: other than that just build and run the binary
[08:25:08] <reem> as usual
[08:25:27] <bluss> frankmcsherry: use the typedef CoalesceFn (using a free function for the closure) and it might be ok
[08:25:42] <Layl> reem, just that openssl dependency is tricky, but I guess on an ubuntu vagrant machine you can just do an apt-get
[08:26:04] *** Joins: Gabriel_7 (Gabriel@moz-its6n2.mtgr.92aj.0e35.2a01.IP)
[08:26:14] *** Joins: Nickleu (sailfish@moz-9mo.ii8.96.112.IP)
[08:26:18] <munksgaard> What's the best way to use checked addition?
[08:26:28] *** Joins: Guest63_ (textual@moz-qfs.570.70.83.IP)
[08:26:33] <munksgaard> Or well, checked arithmetic in general, I guess.
[08:26:43] <munksgaard> Right now my build just panics...
[08:26:44] <reem> Layl: Yes, see github.com/sfackler/rust-openssl for docs
[08:27:23] <tilpner> maurer - Yes, it will, at least without optimizations.
[08:27:34] <Layl> the nice thing about having a vagrant example would be to have a 2 line always works "do this to try it"
[08:27:56] *** Joins: gonzaloserrano (Adium@moz-1nv.3t7.97.62.IP)
[08:27:58] *** Quits: Guest63 (textual@moz-qfs.570.70.83.IP) (Ping timeout: 121 seconds)
[08:28:09] <maurer> tilpner: that seems kind of insane to optimize for the non-wrapping case
[08:28:12] <maurer> :(
[08:28:37] <tilpner> maurer - Shouldn't be a problem if you enable optimizations.
[08:28:43] *** Quits: Nickleoi (sailfish@moz-17q.pgr.96.112.IP) (Ping timeout: 121 seconds)
[08:29:38] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[08:30:15] *** Joins: genbattle (genbattle@moz-r09mao.xtra.co.nz)
[08:30:16] *** Quits: Nickleu (sailfish@moz-9mo.ii8.96.112.IP) (Ping timeout: 121 seconds)
[08:30:23] <tilpner> maurer - Yes, -O1 will not call a function anymore.
[08:30:44] *** Joins: lenstr (lenstr@moz-t72.vju.25.171.IP)
[08:31:34] <Manishearth> munksgaard: overflow checking is enabled on debug builds
[08:31:40] *** Quits: ptalbot (ptalbot@moz-j4gnuh.fbx.proxad.net) (Ping timeout: 121 seconds)
[08:31:49] <Manishearth> if you want silently wrapping ints, use the Wrapping types and ops
[08:32:20] <munksgaard> Manishearth: Is there a library or anything that makes it possible to use Results for arithmetic?
[08:32:25] *** Joins: Clueless (Mibbit@moz-aaqf9b.res.rr.com)
[08:32:25] <bluss> DST for Rc merged https://github.com/rust-lang/rust/pull/24619
[08:32:35] <bluss> Rc<Trait> and Rc<[T]> here we come
[08:32:44] *** Quits: tav_ (tav@moz-ivrq8h.range31-52.btcentralplus.com) (Ping timeout: 121 seconds)
[08:32:52] <XMPPwocky> ronpaul.gif
[08:32:59] <munksgaard> Manishearth: Found it! https://doc.rust-lang.org/std/primitive.u8.html#method.checked_add
[08:33:02] <munksgaard> thanks to laumann 
[08:33:10] *** Quits: kaeluka (kaeluka@moz-tn3lqd.cust.bredbandsbolaget.se) (Client exited)
[08:33:20] *** Joins: tav (tav@moz-ivrq8h.range31-52.btcentralplus.com)
[08:33:53] <Clueless> anyone know why I can't compare these two strings? http://pastebin.com/7JLGXJ6e
[08:34:04] <Clueless> (line 6)
[08:34:19] <Manishearth> :)
[08:34:38] <XMPPwocky> Clueless: word ends up being &&str
[08:34:53] <Manishearth> munksgaard: why do you need checked addition? or is it for somethign other than sessions?
[08:35:00] <XMPPwocky> either do "for &word in t" or "for word in t { if *word == s ... "
[08:35:11] *** Quits: kent (kent@moz-nd2iqs.fl.atlanticbb.net) (Ping timeout: 121 seconds)
[08:35:12] <Layl> Clueless, any reason you're not making the function take in a vec reference instead?
[08:35:14] <XMPPwocky> Clueless: also, may I suggest the Iterator.any method
[08:35:21] <Clueless> oh i see, thanks XMPPwocky
[08:35:36] <XMPPwocky> Clueless: there
[08:35:37] <Layl> might be slightly easier to have a Vec<&str>
[08:35:38] *** Joins: Rym (y@moz-o80acm.range86-189.btcentralplus.com)
[08:35:42] *** Quits: dstrbad (dstrbad@moz-a6pr9i.cable.xnet.hr) (Ping timeout: 121 seconds)
[08:35:44] <XMPPwocky> there's also Iterator.find
[08:35:52] <XMPPwocky> Layl: but then you can't pass slices in
[08:35:53] *** Joins: dstrbad (dstrbad@moz-c2efsv.cable.xnet.hr)
[08:35:53] <Clueless> can't use Iterator.any in the real code, but thanks for the tip :)
[08:35:59] <XMPPwocky> if you *can* take a slice, why not take it?
[08:36:00] *** Quits: gonzaloserrano (Adium@moz-1nv.3t7.97.62.IP) (Ping timeout: 121 seconds)
[08:36:08] *** Joins: gonzaloserrano (Adium@moz-1nv.3t7.97.62.IP)
[08:36:31] <munksgaard> Manishearth: No it's just for an example I wanted to write for session-types
[08:36:41] <Manishearth> munksgaard: oh right examples :)
[08:36:42] *** Quits: nightpool (nightpool@moz-m1ltal.sub-70-192-12.myvzw.com) (Connection closed)
[08:36:57] <munksgaard> I thought it'd be fun to have a server that did some weird checked addition or something :)
[08:37:04] <Manishearth> haha
[08:37:16] *** Joins: Stents (Stents@moz-r8d.u6c.187.68.IP)
[08:37:16] <munksgaard> I'll show you when it's done, if you want to see it :)
[08:37:19] <ChrisMorgan> Anyone else want to review http://temp.chrismorgan.info/rust-playpen/static/web.html, offer suggestions, &c.?
[08:37:34] <ChrisMorgan> I think it’s approximately ready for merging now.
[08:37:54] <Layl> that's nice looking
[08:38:14] <bstrie> ChrisMorgan: for a second I thought you were jokingly asking me to review your "hello world" example
[08:38:25] <Layl> I'm not much of a fan of the fonts above the more colored buttons on the right though, ChrisMorgan 
[08:38:33] *** Quits: Clueless (Mibbit@moz-aaqf9b.res.rr.com) (Quit: http://www.mibbit.com ajax IRC Client)
[08:38:45] <ChrisMorgan> Layl: they’re the default serif at present.
[08:38:59] <bstrie> ChrisMorgan: as long as we're asking for ponies, can we have some visual separation between warning output and printed output?
[08:39:07] <ChrisMorgan> bstrie: try it!
[08:39:14] <Layl> ChrisMorgan, yea but the rest is sans-serif
[08:39:22] <bstrie> ChrisMorgan: yes, I like the yellow text, but I was thinking of like a little line or something :P
[08:39:22] <Layl> so it's odd to have that only be serif
[08:39:30] *** Quits: nham (nham@moz-755.bu3.214.98.IP) (Ping timeout: 121 seconds)
[08:39:32] <bstrie> maybe it's not a big deal
[08:39:44] <Manishearth> munksgaard: sure! 
[08:39:50] <bstrie> ChrisMorgan: is this just a new frontend or does it also include backend changes?
[08:39:54] <ChrisMorgan> I reckon colouring it is sufficient. It’s definitely better than what’s there at present.
[08:39:57] <Layl> also the : after the words there isn't really needed ChrisMorgan, so it would be perhaps good to remove that from there
[08:39:58] <ChrisMorgan> bstrie: frontend only.
[08:40:11] *** Joins: arBmind (Andreas@moz-j1put6.adsl.alicedsl.de)
[08:40:14] *** Quits: Rym (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[08:40:16] *** Quits: Stents_ (Stents@moz-m0u.smp.170.166.IP) (Ping timeout: 121 seconds)
[08:40:17] <ChrisMorgan> Layl: true, the colon was there from an earlier revision of the design.
[08:40:36] <Layl> making a quick screenie on how it would look with those changes
[08:40:48] <ChrisMorgan> No need, it’s updated.
[08:40:53] *** Joins: nico (nico@moz-u00aae.dip0.t-ipconnect.de)
[08:40:59] *** Quits: dstrbad (dstrbad@moz-c2efsv.cable.xnet.hr) (Ping timeout: 121 seconds)
[08:41:00] <Layl> http://i.imgur.com/ybvwSJc.png
[08:41:06] <Layl> already made the screenie so
[08:41:09] *** Joins: yati (yati@moz-phu.79g.169.122.IP)
[08:41:20] <Layl> looks slightly cleaner
[08:41:43] *** Joins: mr_trousers (Mibbit@moz-som.k89.198.94.IP)
[08:41:45] *** Quits: mkoskar (mkoskar@moz-4gk6rj.torservers.net) (Client exited)
[08:42:12] <Layl> other than that, it's a minor annoyance that I can't drag to change the area that's taken up by output/errors and the actual code, but that's more of a feature request than a problem with the style
[08:42:32] *** Joins: mkpankov` (user@moz-nleeis.partnertech.ru)
[08:42:47] *** Quits: mkpankov (mkpankov@moz-sc3.dee.149.83.IP) (Quit: Bye)
[08:42:54] *** Quits: mkpankov` (user@moz-nleeis.partnertech.ru) (Quit: ERC Version 5.3 (IRC client for Emacs))
[08:43:05] *** Joins: mkpankov (user@moz-nleeis.partnertech.ru)
[08:43:18] <ChrisMorgan> OK, PR made to https://github.com/rust-lang/rust-playpen/pull/89
[08:43:22] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[08:43:23] <mkpankov> hi
[08:43:30] <rkruppe> Speaking of playpen, what does the format button do, invoke rustc --pretty something? Because it seems to cause pretty awful formatting sometimes, and non-idiomatic at other times. Maybe it should be disabled until one of the rustfmt thingies is ready for prime time?
[08:44:10] <huon> rkruppe: yes just rustc --pretty
[08:44:12] <ChrisMorgan> rkruppe: yeah, --pretty, which is known to be quite poor at many things.
[08:44:24] <huon> I'm in favour of removing it for now
[08:44:27] <bluss> removing that button sounds good
[08:44:44] <mkpankov> I had an interesting discussion on twitter yesterday with a Java expert, and he claimed heap allocation in GC language isn't any slower than stack allocation in manually managed language (like C)
[08:44:47] *** Quits: meh (meh@moz-aes.k52.255.46.IP) (Ping timeout: 121 seconds)
[08:45:08] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[08:45:11] <mkpankov> which I found counterintuitive
[08:45:21] <frankmcsherry> mkpankov: it can actually be a lot faster.
[08:45:31] *** Quits: emilk_ (emilk@moz-56r.d93.8.185.IP) (Quit: Lost terminal)
[08:45:33] *** Joins: kaeluka (kaeluka@moz-tn3lqd.cust.bredbandsbolaget.se)
[08:45:36] *** Joins: davebettin (davebettin@moz-ip635p.or.comcast.net)
[08:45:43] <mkpankov> frankmcsherry: what can be faster than moving single pointer?
[08:45:49] <rkruppe> mkpankov: As far as GC misinformation goes, that's pretty accurate. Most GCs just bump a pointer (and check that it didn't go past the end of the available space)
[08:46:11] <Layl> though
[08:46:16] <Layl> heap ALLOCATION isn't the expensive part
[08:46:18] <rkruppe> It probably won't be faster, simply because of the check and because the stack can allocate many objects in one pointer bump, but it's not /that/ far from truth
[08:46:23] <frankmcsherry> mkpankov: i'm sorry, I misread at heap alloc in gc vs heap in non-gc. 
[08:46:42] <mkpankov> makes it harder to advocate Rust to Java people, huh
[08:46:50] <Layl> rather, the GC sweep is the expensive part
[08:46:51] <frankmcsherry> mkpankov: right, it should be "roughly the same" as the two; I retract my controversial statement. :)
[08:47:08] <yati> Hi. I'm trying to fire the system editor, much like git commit, using the std::process::Command API. Here's the code: http://is.gd/1f9tSV However, the program just sits there, waiting and the editor is not actually fired. Now when I make get_editor() return "gvim" instead of "vi[m]", it works. So I think this has to do with IO capture? 
[08:47:19] <bstrie> right, the hard part of memory management isn't the allocating, it's the freeing :P
[08:47:19] <rkruppe> mkpankov: Meh, it seems it's already hard to advocate to plenty of C++ people. I'll worry about the Java folks later
[08:47:25] <mkpankov> Layl: interesting, I forgot to bring it up
[08:47:31] <Layl> meanwhile, rust's entire lack of a need for garbage collection means it's miles faster as a result
[08:47:40] <bstrie> we're streets ahead
[08:47:41] *** Joins: soma (Mibbit@moz-ef5.7ab.191.107.IP)
[08:47:43] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Ping timeout: 121 seconds)
[08:47:44] <Layl> more important than speed however, is reliable speed
[08:47:53] <Layl> rust is runs at a reliable pace
[08:47:57] <frankmcsherry> related question: would you call Rust's memory "managed"? 
[08:47:59] <Layl> any GCed language does not
[08:48:12] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[08:48:19] <Layl> the importance of this depends on the application, from "not important at all" in websites
[08:48:19] <bstrie> frankmcsherry: if you'd call C++ and C memory "managed"
[08:48:23] <soma> Hello! When will it be useful to declare more than one lifetime? fn frob<'a, 'b>(s: &'a str, t: &'b str) ...
[08:48:28] <Layl> to "people die without this" in nuclear reactors
[08:48:33] <frankmcsherry> someone asked recently, and I couldn't tell if "managed" means "GC underneath" or if it meant "you don't manually alloc/free things"
[08:48:37] <rkruppe> Layl: Be careful with such generalizations. "Miles faster" is a tall claim and the right GC for the right workload can be pretty fast, especially compared to *naive* manual allocation
[08:48:50] <Layl> right, I retract my miles faster statement
[08:48:52] <mkpankov> however, he claimed compiler is able to detect if some allocations are not "escaping" the method, for example, and is able to simply decrement the pointer, much like stack frame collapse
[08:48:56] <reem> frankmcsherry: “managed” is often used to mean GCed
[08:48:57] <bstrie> yati: most likely, I'm not sure how to improve that
[08:48:59] <Layl> I uphold my reliability statement though
[08:49:01] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[08:49:04] <kimundi> soma: In cases where you want to keep the two lifetime seperate, for example if you want to seperate the two loater again
[08:49:06] <WindowsBunny> I dislike GC sweeps
[08:49:11] <WindowsBunny> they cause Minecraft to stutter
[08:49:15] <Layl> mkpankov, this isn't true
[08:49:17] <rkruppe> mkpankov: Yes, escape analysis + allocation sinking is a think
[08:49:18] <Layl> it just isn't at all
[08:49:19] <yati> frankmcsherry, Someone has to manage it. Usually I take "managed" to be not "manually managed"
[08:49:26] <mkpankov> so that would mean there's no sweep
[08:49:28] <rkruppe> But again, it's not reliably fast
[08:49:39] <Layl> mkpankov: what he's thinking of is the optimizations a generational GC does
[08:49:40] <frankmcsherry> reem: yeah, I'm trying to understand if that is right. I almost responded and said "I use unmanaged memory because ..." and then I realized that Rust handles the things I need.
[08:49:43] <Layl> this however isn't like this
[08:50:02] *** Quits: whidgle (Mibbit@moz-jl9m5a.obit.ru) (Quit: http://www.mibbit.com ajax IRC Client)
[08:50:03] <Layl> instead of detecting scope, a generational GC will push objects into generations
[08:50:03] <mkpankov> does Java GC do these optimizations?
[08:50:09] <Layl> and check long lived objects less often than short lived ones
[08:50:13] <VShell> frankmcsherry: managed is primarily a Microsoft term used to mean "integrates with .net", IME. but I guess it could also mean "GCed".
[08:50:14] <bstrie> mkpankov: escape analysis is completely separate from GC
[08:50:16] <frankmcsherry> reem: or maybe this is a "that ship has sailed" moment, and "managed" means GC, period.
[08:50:28] <ChrisMorgan> soma: `fn foo(&'a T, &U) -> &'a V` is fairly common (anonymous lifetime for one parameter); multiple lifetimes is definitely rarer.
[08:50:31] <Layl> to me, "managed" means ".NET"
[08:50:31] <yati> bstrie, let me try playing around with the stdout() and stdin() methods then
[08:50:40] <mkpankov> bstrie: ah, sorry, I meant just "Java"
[08:50:45] <kimundi> soma: Like, for `fn frob<'a, 'b>(s: &'a str, t: &'b str) -> (&'a str, &'b str)` you can take apart the returned tuple and recover the individual references with theier respective lifetimes. IF you only used a single one, then the returned references will have the biggest common lifetime, which might be shorter than each individually
[08:50:51] <Layl> since within the .NET world, anything said to be "managed" is a .NET library
[08:50:51] <bstrie> soma: very rarely useful, I know some people have examples but I can't think of any off the top of my head
[08:51:11] <frankmcsherry> mkpankov: C# (and the CLR) does escape analysis, and the ephemeral gen is literally just rewinding the heap pointer (like you do with the stack pointer).
[08:51:34] <soma> ok. thank you 
[08:51:35] *** Joins: Takronix (Takronix@moz-nm15k0.hr.cox.net)
[08:51:35] <Layl> frankmcsherry, I was told the JIT can't perform those optimizations within the time constraints
[08:51:36] <mkpankov> frankmcsherry: so the best case for them is just as good as for us?
[08:51:46] <ChrisMorgan> soma: at the implementation level you get things like `impl<'a, 'b, A, B> PartialEq<&'a A> for &'b B where A: PartialEq<B> + ?Sized, B: ?Sized`.
[08:51:59] <acgtyrant> i complied the rust code to dynamic lib, and call it from c successfully; but when i compiled the rust code to static lib and call it again, the compiler complained that the static library contains many undefined reference, how to let the static does not contain these reference?
[08:52:15] <bstrie> yati: you might be interested in https://github.com/rust-lang/rfcs/pull/1055
[08:52:32] <rkruppe> mkpankov: Practically, I don't think so. Many objects do escape, and even those that don't escape may be hard to prove to be non-escaping. It's certainly a nice speed up, but again, you can't rely on it as much
[08:52:44] *** Quits: Guest63_ (textual@moz-qfs.570.70.83.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[08:52:47] <frankmcsherry> Layl: so, there are lots of easy things the CLR JIT won't do, but I'm pretty sure escape analysis is something they are very sensitive to. I suppose we have the code now and can check?
[08:52:50] *** Joins: Halamix2 (Halamix2@moz-u7uja6.syrion.pl)
[08:52:51] <bstrie> acgtyrant: which compiler complained?
[08:52:53] *** Joins: dhole (dhole@moz-jidv9s.dynamic.jazztel.es)
[08:53:07] <acgtyrant> bstrie, gcc
[08:53:14] <Layl> frankmcsherry, it's very neat that now that the .NET runtime is open source, we can just check!
[08:53:21] <soma> ChrisMorgan: that's great, thanks
[08:53:32] *** Joins: futile (felix@moz-t06qtr.pools.vodafone-ip.de)
[08:53:34] *** Joins: meh (meh@moz-aes.k52.255.46.IP)
[08:53:39] <bstrie> acgtyrant: is it just a warning? does it work otherwise?
[08:54:02] <acgtyrant> bstrie, error, so the build failed
[08:54:26] <Layl> I wonder actually how much speed can be saved by batching allocations/deallocations
[08:54:31] <bstrie> acgtyrant: could you possibly file a bug? https://github.com/rust-lang/rust/issues
[08:54:51] <bstrie> Layl: probably lots, the tradeoff is "leaked" memory
[08:54:51] <frankmcsherry> Layl: lots! There was a paper on this recently. Lemme look for it.
[08:54:53] <mkpankov> rkruppe: hehe, what I can't rely on is reality of programming on managed languages... just saying "get rid of GC, it's unnecessary abstraction level" won't cut, it seems
[08:55:20] <acgtyrant> bstrie, i think this is not a bug...
[08:55:28] <Layl> mkpankov, for me, I came to rust because the GC was hurting my application actively
[08:55:36] *** Quits: dhole_ (dhole@moz-nqg4vh.dynamic.jazztel.es) (Ping timeout: 121 seconds)
[08:55:38] <Layl> I got frame stutters
[08:55:44] *** Quits: andresv (textual@moz-m48tte.sta.estpak.ee) (Quit: My Mac has gone to sleep. ZZZzzz…)
[08:55:45] <rkruppe> mkpankov: Well that's because it's a wrong statement. Rust is wonderful, but sometimes a Gc is more convenient.
[08:55:51] <bstrie> acgtyrant: sorry then, I don't know why it would work for dynamic mode but not static mode
[08:55:57] <Layl> I want to do marching cubes every single frame damn it
[08:56:10] <bstrie> Layl: is this rust program replacing an earlier program? is the rust version noticeably faster?
[08:56:19] <rkruppe> ... which is also why Rust will probably gain a Gc (or multiples) at some point in the future
[08:56:20] <frankmcsherry> Layl: bah, I can't find it. It was at PPoPP, and basically did boxcar-ing for allocations / memory operations.
[08:56:32] <Layl> bstrie, I do not have a comparison yet, but it's replacing an earlier C# game engine
[08:56:33] <mkpankov> rkruppe: when you want to have a graph with cycles and don't want to end up with Vec<Rc<RefCell<T>>>? D:
[08:56:39] <rkruppe> mkpankov: For example :)
[08:57:01] <Layl> it will probably take a while until I've got a decent comparison
[08:57:24] <mkpankov> Layl: ok, game programming is a thing, but that's more C++ people again
[08:57:40] *** Joins: jophish (jophish@moz-epocft.broadband.tesco.net)
[08:57:48] <Layl> mkpankov, it's valid for any kind of soft or hard realtime application
[08:58:09] <acgtyrant> bstrie, wait, let me organize my language
[08:58:12] <mkpankov> I mean, why am I asking this, I'm just preparing for meetup (I'm going to tell people about Rust), and it seems we'll have quite a lot of Java, Scala, Go people
[08:58:34] <Layl> mkpankov, to convince people, show threading in rust
[08:58:35] *** Joins: Guest63 (textual@moz-qfs.570.70.83.IP)
[08:58:40] <Layl> and RAII
[08:58:42] <yati> bstrie, Thanks :) BTW, This is how I solved it: http://is.gd/YRkUbc TLDR: use Command.status() instead of output() and set std[in|out](Stdio::inherit())
[08:58:43] <mkpankov> Layl: ?
[08:58:50] <mkpankov> ah
[08:58:54] <mkpankov> sorry, misread
[08:59:02] <mkpankov> sure, I do it
[08:59:07] <bstrie> yati: nice, I don't have much experience with the command API
[08:59:10] <Layl> basically, threading being impossible to do wrong in rust without unsafe is an amazing feature
[08:59:58] <Layl> next to that, RAII is a feature that's amazing to have
[09:00:20] <Layl> then you can show things like rust's pattern matching features
[09:00:28] <mkpankov> Layl: why do you think RAII is going to appeal to programmers who use GC? they used to not rely on destructors
[09:00:29] <Layl> the fact that unicode works by default
[09:00:37] *** Quits: lenstr (lenstr@moz-t72.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[09:00:51] <Layl> mkpankov, RAII is DEFINITELY going to appeal to programmers who use GC
[09:01:05] <frankmcsherry> mkpankov: I think (wrt those languages) you probably won't convince folks based on language features (scala rawr!). What Rust gives you (coming from these languages) is performance without giving up all of those features. Unless it is go, in which case you get lots of new features too.
[09:01:07] <Layl> dangling textures/buffers/whatever is the #1 cause of memory leaks in GCed game engines
[09:01:23] <Layl> having RAII just flat out eliminates that entire class of errors
[09:01:30] <huon> not quite
[09:01:32] <soma> Hello! Can I convert a trait object to some concrete struct?
[09:01:32] *** Joins: nham (nham@moz-755.bu3.214.98.IP)
[09:01:34] <acgtyrant> bstrie, see this: http://ix.io/iwJ
[09:01:45] *** Quits: wldcordeiro (wldcordeiro@moz-pvsror.ut.comcast.net) (Ping timeout: 121 seconds)
[09:01:46] <mkpankov> frankmcsherry: ha-ha, but worse is better, doesn't it? :D
[09:01:51] <huon> Layl: (e.g. one can have a "semantic" memory leak, with a cache that is never cleared or something like that)
[09:01:54] <mkpankov> *isn't
[09:02:13] <mkpankov> Layl: except when you leak the guards
[09:02:18] *** Joins: rkruppe_ (chatzilla@moz-3nj.rnu.131.95.IP)
[09:02:20] *** Joins: espadrine (tyl@moz-qfr4fg.abo.wanadoo.fr)
[09:02:30] <Layl> mkpankov, how are you going to leak the guards without unsafe code?
[09:02:35] *** Joins: lenstr (lenstr@moz-t72.vju.25.171.IP)
[09:02:42] *** Joins: mindtree (Mitch@moz-fog.g9r.240.116.IP)
[09:02:48] <mkpankov> Layl: put them into Rc cycle, mem::forget, anything
[09:02:53] <Layl> huon, I would consider that a different class of errors though
[09:02:59] *** Quits: davebettin (davebettin@moz-ip635p.or.comcast.net) (Ping timeout: 121 seconds)
[09:03:07] <mkpankov> Layl: aren't you aware of thread::scoped problem?
[09:03:08] <Layl> mkpankov, doesn't rust have Rc cycle resolving
[09:03:13] <mkpankov> Layl: no
[09:03:15] <kimundi> soma: Not easily, you need unsafe code and std::any::Any
[09:03:16] <Layl> as well, if you do mem::forget, you know what you're doing
[09:03:26] <Layl> hopefully
[09:03:43] <ChrisMorgan> kimundi: no need for unsafe, Any is completely safe.
[09:03:53] <Layl> I am not aware of those problems no mkpankov
[09:04:00] *** Joins: SneakySnake (nya@moz-i9is4u.pool.telekom.hu)
[09:04:16] <mkpankov> how come, the IRC wall all over it couple of weeks ago :]
[09:04:20] <mkpankov> *was
[09:04:40] <Layl> I've been away a bit
[09:04:47] <Layl> holidays and such
[09:04:51] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Ping timeout: 121 seconds)
[09:04:55] <mkpankov> Layl: https://github.com/rust-lang/rust/issues/24292
[09:04:57] <Layl> also I'm fairly new here
[09:04:58] *** rkruppe_ is now known as rkruppe
[09:05:01] <rkruppe> mkpankov: Another thing to emphasize in your evangelizing may be that, after some learning, most code isn't really harder to write than in those other languages. You sometimes get compiler errors that you wouldn't get in another language, but they're of the "oh, of course" kind, like a missed conversion or a typo
[09:05:27] *** Joins: vmx (vmx@moz-3m7oc1.dip0.t-ipconnect.de)
[09:05:32] <mkpankov> Layl: that single problem spawned discussion in several directions
[09:05:37] *** Quits: nercury (nercury@moz-fbs.e0f.20.5.IP) (Client exited)
[09:05:45] <Layl> mkpankov, is this going to be resolved before 1.0?
[09:06:02] <mkpankov> Layl: dunno, I guess no, if it isn't right now
[09:06:14] *** Quits: chrisarcand (gilmour@moz-aql.42g.236.104.IP) (Ping timeout: 121 seconds)
[09:06:20] <mkpankov> they destabilized it
[09:06:20] <Layl> would a fix after 1.0 be breaking?
[09:06:27] <rkruppe> It's already resolved, by declaring that thread::scoped was wrong to rely on destructors
[09:06:29] *** Quits: jordman (keusej@moz-lou.mm7.236.104.IP) (Ping timeout: 121 seconds)
[09:06:33] *** Quits: mr_trousers (Mibbit@moz-som.k89.198.94.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[09:06:41] <ChrisMorgan> rkruppe: … for memory safety.
[09:06:48] <mkpankov> well thread::scoped will have to be redesigned
[09:06:51] <rkruppe> ChrisMorgan: yes
[09:07:01] <rkruppe> It's only around as unstable to not break existing nightly users (that are mostly safe) while the new design matures
[09:07:05] <ChrisMorgan> (It’s important to note that that’s what the issue was.)
[09:07:38] <Layl> btw quick question, does rust have a way to do coroutines
[09:07:38] <mkpankov> rkruppe: yes, I get it, and I think that "types mismatch" or "lifetime error" indicate a design error
[09:07:47] <kimundi> ChrisMorgan: It is safe if you want to use a Any trait object. But if you want a custom trait object and use it like a Any, then afaik you need to jump through some additional loops that involve unsafe code. But that old knowledge from me, maybe something changed that makes it possible in general now
[09:08:25] <ChrisMorgan> kimundi: quite so; that’s what my mopa crate is for.
[09:08:27] <mkpankov> rkruppe: at the same time, there are "script" language people, who were tired of compiler yelling at them and get rid of it :P
[09:08:27] <rkruppe> mkpankov: Sometimes it's not a error in the design, you just forgot to box something in the right place, or forgot to invoke a Deref coercion, or moved where you should have taken a reference
[09:08:38] *** Joins: dstrbad (dstrbad@moz-kjh6ij.cable.xnet.hr)
[09:08:38] <acgtyrant> bstrie, i see now, i should add "-lrt -ldl -lpthread -lgcc_s -lpthread -lc -lm" in the gcc command...
[09:08:47] <Layl> I guess you could actually probably make a syntax extension that gives you baked in syntax support for coroutines
[09:08:55] <Layl> similar to C#'s "yield return"
[09:08:59] <rkruppe> mkpankov: Yes, but if they are that hostile towards tools helping them, it's an uphill battle for us Rust folks
[09:09:22] <rkruppe> Because the fundamental assumption of Rust is that humans are fallible and thus need programs to tell them when they messed up
[09:09:38] <Layl> I love rust exactly for how strict the compiler is
[09:09:42] <Layl> even enforcing coding standards
[09:09:47] <kimundi> ChrisMorgan: mopa?
[09:10:00] <ChrisMorgan> kimundi: mopa.
[09:10:04] <ChrisMorgan> My Own Personal Any.
[09:10:08] <kimundi> heh
[09:10:12] <Layl> mkpankov: you simply do not want to convince people who use scripts to use rust
[09:10:13] *** Quits: rootnode (rootnode@moz-go1ut4.ip1.george24.com) (Connection closed)
[09:10:17] <Layl> they are not the target audience of rust
[09:10:26] <Layl> they won't like rust and rustc won't like them
[09:11:17] <mkpankov> Layl: I wouldn't be so categorical
[09:11:27] <Layl> well, it's a bit of a generalization
[09:11:43] <ChrisMorgan> … and I just now published mopa 0.2.0 which makes it work on beta/stable.
[09:11:43] <Layl> but this is why scripting languages exist, to provide a less hard less strict environment
[09:11:46] <VShell> Layl: I like it for being strict but at the same time very easy to use once you understand lifetimes, and enforcing good code design and a clear understanding of what components manage what. I came from Python, and Rust is the perfect magical statically typed language for me.
[09:11:48] <mkpankov> I programmed in Python maybe 3-4 years ago
[09:12:14] *** Quits: zyphrus (David@moz-1a4.urk.98.101.IP) (Quit: Bye bye)
[09:12:24] *** Quits: njn (chatzilla@moz-6gdjm4.iinet.net.au) (Quit: ChatZilla 0.9.91.1 [Firefox 40.0a1/20150510205108])
[09:12:25] <Layl> VShell, the thing is, the type of people who often dig into scripts will be the kind who doesn't care much for good design, again generalization
[09:12:32] <mkpankov> I got used to compiler yelling at me when I tried learning Haskell :D
[09:12:36] <Layl> this isn't that wrong even
[09:13:03] *** Quits: mindtree (Mitch@moz-fog.g9r.240.116.IP) (Ping timeout: 121 seconds)
[09:13:06] <Layl> assuming the scripts are small and the actual bulk of the code is done in something else and by a more dedicated programmer
[09:13:45] <Layl> if your level designer gets frustrated with having to write in rust, by god he'll find a way to make the entire campaign in weird I/O tricks
[09:14:02] <VShell> hah
[09:14:08] <Layl> *cough* source engine *cough*
[09:14:17] * eddyb summons XMPPwocky
[09:14:23] *** Quits: acgtyrant (acgtyrant@moz-nc3.d1h.236.115.IP) (Quit: 堕入 /dev/null)
[09:14:30] *** Joins: SerialVelocity (SerialVeloc@moz-6rhag6.ic.ac.uk)
[09:14:48] *** Quits: arBmind (Andreas@moz-j1put6.adsl.alicedsl.de) (Connection closed)
[09:14:51] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Ping timeout: 121 seconds)
[09:15:24] <mkpankov> that statement smells of zealotry, though, and I'd rather avoid :)
[09:15:32] *** Joins: lucian (lucian@moz-iuo.htl.74.194.IP)
[09:16:12] <Layl> I'm here talking about more the category of small lua scripts, not bigger applications written in those scripting languages, just to be clear
[09:16:15] *** Joins: mkoskar (mkoskar@moz-ash.j1t.31.31.IP)
[09:16:35] <Layl> I'm sure there's plenty of good programmers writing well designed code in those languages, but I don't think rust will appeal much to those people either
[09:17:57] *** Quits: diego (Mibbit@moz-69p.i83.83.201.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[09:18:17] *** Joins: joneshf-laptop (joneshf@moz-l4h.b5s.208.98.IP)
[09:19:40] *** Joins: kgrandon (Adium@moz-4bb5cu.nemh.1887.0450.2001.IP)
[09:20:43] <Layl> time for a food break before I faint
[09:20:44] *** Quits: Layl (Mibbit@moz-iachg4.sdb.prolocation.net) (Quit: http://www.mibbit.com ajax IRC Client)
[09:22:10] *** Joins: acamda (adam@moz-1af19r.iinet.net.au)
[09:22:22] *** Joins: aepsil0n (eduard@moz-6491ha.mv2h.pepi.8071.2a02.IP)
[09:24:43] *** Quits: cfcosta (cfcosta@moz-v9c.a3o.106.187.IP) (Quit: Lost terminal)
[09:25:28] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[09:25:28] *** ChanServ sets mode: +o erickt
[09:27:33] *** Joins: panicbit (panicbit@moz-r4ks4s.dip0.t-ipconnect.de)
[09:29:49] *** Joins: Rym (y@moz-o80acm.range86-189.btcentralplus.com)
[09:30:13] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[09:32:19] *** Quits: m_khvoinitsky (quassel@moz-bkl6sn.d57a.lq23.04f8.2a01.IP) (A TLS packet with unexpected length was received.)
[09:32:22] *** Joins: m_khvoinitsky (quassel@moz-bkl6sn.d57a.lq23.04f8.2a01.IP)
[09:34:17] *** Quits: meh (meh@moz-aes.k52.255.46.IP) (Ping timeout: 121 seconds)
[09:34:23] *** Quits: Rym (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[09:34:43] *** Quits: dstrbad (dstrbad@moz-kjh6ij.cable.xnet.hr) (Ping timeout: 121 seconds)
[09:34:46] *** kimundi is now known as zz_kimundi
[09:35:21] *** Joins: mib_1hsvtr (Mibbit@moz-cou.38c.48.185.IP)
[09:36:00] *** Joins: Layl (Mibbit@moz-iachg4.sdb.prolocation.net)
[09:36:35] *** Quits: jml (jml@moz-mqpurn.178.in-addr.arpa) (Ping timeout: 121 seconds)
[09:36:35] *** Joins: grover (grover@moz-2o4.tci.145.198.IP)
[09:36:47] *** Quits: kaeluka (kaeluka@moz-tn3lqd.cust.bredbandsbolaget.se) (Client exited)
[09:36:56] <kagami> Could someone help with borrow checker? Let's say I have a struct with Option field. That struct is mutable. Is it possible to move the contents of that field (unwrap) to local variable and set it to None at the same time? I can do it separately (access Option value by ref or set it to None) but don't get how to do that simultaneously.
[09:37:17] <mib_1hsvtr> Hello everyone. Are there plans to add Display support to `[char]` types?
[09:37:37] <Layl> kagami, doesn't unwrap() consume the value?
[09:37:39] *** Joins: jml (jml@moz-mqpurn.178.in-addr.arpa)
[09:37:54] <Mutabah> kagami: .take()
[09:37:57] <kagami> Layl: but borrow checker will complain about moving the value from struct.
[09:38:15] <mib_1hsvtr> kagami:  std::mem::swap
[09:38:19] *** Parts: Halamix2 (Halamix2@moz-u7uja6.syrion.pl) ("Okej, chyba mi starczy na dziś")
[09:38:20] <Layl> kagami: could you give some sample code?
[09:38:21] <mib_1hsvtr> swap
[09:38:26] <Layl> I'm not sure what you're trying to do
[09:38:27] <Mutabah> kagami: opt.take() is basically ::std::mem::replace(&mut opt, NOne);
[09:38:47] <Layl> the thing is, why do you want to set the result to None
[09:38:50] <kagami> Mutabah: that works. Perfect! Thanks!
[09:39:05] <Layl> rather than make that value entirely unusable
[09:39:36] <kagami> Layl: I store tmp value in struct, then need to wrap it out at some point.
[09:39:38] <Mutabah> Layl: Because it's in a borrowed context
[09:39:38] <Kingsquee> in macros, can I turn an ident into a string
[09:39:47] <Mutabah> Kingsquee: stringify!
[09:39:47] <eddyb> Kingsquee: stringify!
[09:39:47] <Johannes> Hi! I need to install an older nightly version to match my system. How can I do this with the rustup.sh script?
[09:39:54] <eddyb> Johannes: --date
[09:39:59] <Kingsquee> trying 8V
[09:40:02] <Mutabah> Johannes: with --date, but it only goes back a few days iirc
[09:40:11] <Layl> kagami, so you still need to use that tmp after unwrapping it?
[09:40:21] <Johannes> oh.. i need april 25..
[09:40:42] *** Joins: rkruppe (chatzilla@moz-liqrk5.hrz.tu-darmstadt.de)
[09:40:46] <kagami> Layl: yes, to move it to vector.
[09:40:56] <Layl> but won't it be always None then?
[09:41:01] *** Joins: jwatt (roslea@jwatt.irc.users.mozilla.org)
[09:41:04] <Johannes> it seems to work fine. thanks!
[09:41:08] *** Quits: yeahnoob (Xanadu@moz-ku8.ugi.122.118.IP) (Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/)
[09:41:09] <Kingsquee> oh lordy it works
[09:41:10] *** Joins: }ls{ (uhelp@moz-ugaqf0.dip0.t-ipconnect.de)
[09:41:15] <Kingsquee> thanks guys \o/
[09:41:43] <ctjhoa> Johannes you could also use https://github.com/brson/multirust i think
[09:42:12] *** Quits: mib_1hsvtr (Mibbit@moz-cou.38c.48.185.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[09:42:39] <Johannes> ctjhoa: thanks! for now i'm good but i'll keep it in mind.
[09:43:02] <kagami> Layl: I mean I will use it in part of the code where I wrap it out. But after then, I don't need it anymore. (Probably I'm bad at explaining, may show you result if you're interested.)
[09:43:10] *** Quits: kgrandon (Adium@moz-4bb5cu.nemh.1887.0450.2001.IP) (Connection closed)
[09:43:17] *** Joins: kgrandon (Adium@moz-4bb5cu.nemh.1887.0450.2001.IP)
[09:43:26] <Layl> kagami, I would like to see the code yea
[09:43:39] <Layl> because this has the smell of a XY problem
[09:44:05] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[09:45:25] *** Quits: fabiand (fabiand@moz-rsvbmo.dip0.t-ipconnect.de) (Quit: Verlassend)
[09:46:48] *** Quits: Lilly (Lilly@moz-pfkvo9.bredband.comhem.se) (Quit: bajs)
[09:48:10] *** Joins: arBmind (Andreas@moz-j1put6.adsl.alicedsl.de)
[09:48:21] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Ping timeout: 121 seconds)
[09:48:43] *** Joins: fabiand (fabiand@moz-rsvbmo.dip0.t-ipconnect.de)
[09:48:55] *** Joins: murz (murz@moz-nr2kro.wa.comcast.net)
[09:50:12] *** Quits: futile (felix@moz-t06qtr.pools.vodafone-ip.de) (Quit: WeeChat 1.2-rc1)
[09:52:57] *** Quits: murz (murz@moz-nr2kro.wa.comcast.net) (Ping timeout: 121 seconds)
[09:54:26] *** Quits: areski (areski@moz-adq529.user.ono.com) (Ping timeout: 121 seconds)
[09:55:14] *** Joins: Guest22 (textual@moz-jt9juk.fibertel.com.ar)
[09:56:24] *** Quits: DerisiveLogic (smuxi@moz-g93io6.res.rr.com) (A TLS packet with unexpected length was received.)
[09:57:31] *** Quits: m_kato (m_kato@moz-86b4bs.bitcat.net) (Quit: Leaving...)
[09:58:12] *** Joins: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP)
[09:59:34] *** Joins: dstrbad (dstrbad@moz-756bkd.cable.xnet.hr)
[10:01:05] *** Quits: loyd (loyd@moz-uft.32f.108.213.IP) (Ping timeout: 121 seconds)
[10:01:41] *** Quits: martinhath (martin@moz-mbkero.wlan.ntnu.no) (Ping timeout: 121 seconds)
[10:02:12] *** Joins: loyd (loyd@moz-uft.32f.108.213.IP)
[10:02:57] *** Quits: nrc (nrc@moz-9luh02.xtra.co.nz) (Ping timeout: 121 seconds)
[10:03:36] *** Joins: pnkfelix (pnkfelix@moz-6v5.3nd.202.89.IP)
[10:03:37] *** ChanServ sets mode: +o pnkfelix
[10:03:56] *** Joins: Selemur (chatzilla@moz-tpgfbn.kawo1.rwth-aachen.de)
[10:04:05] *** Joins: acgtyrant (acgtyrant@moz-3kd.b79.160.124.IP)
[10:04:15] *** Quits: soma (Mibbit@moz-ef5.7ab.191.107.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[10:05:07] *** Quits: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP) (Ping timeout: 121 seconds)
[10:06:13] *** Joins: summerlight (summerlight@moz-99k.2mj.130.121.IP)
[10:07:37] *** Joins: DerisiveLogic (smuxi@moz-g93io6.res.rr.com)
[10:11:57] *** Joins: envi_u (envi@moz-ih5.olo.169.121.IP)
[10:12:27] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[10:15:03] *** Joins: martinhath (martin@moz-mbkero.wlan.ntnu.no)
[10:15:21] *** Quits: mkoskar (mkoskar@moz-ash.j1t.31.31.IP) (Ping timeout: 121 seconds)
[10:17:16] *** Quits: p1start (p1start@moz-nftjhe.org) (Ping timeout: 121 seconds)
[10:18:47] *** Joins: kent (kent@moz-nd2iqs.fl.atlanticbb.net)
[10:19:46] *** Joins: cow_2001 (un@moz-pk4.og5.226.188.IP)
[10:19:57] <cow_2001> how do I upgrade my rustlang installation?
[10:20:12] <cow_2001> i used the source code one
[10:20:17] <Layl> install a new one over the old one
[10:20:23] <cow_2001> that's it?
[10:20:30] <cow_2001> no stale files?
[10:20:34] <Layl> if you're compiling from source, pull the latest version
[10:20:37] <Layl> then just rebuild
[10:20:49] <Layl> the nightly binaries should be up to date enough though
[10:20:55] <bluss> there should be an uninstall file cow_2001 
[10:21:09] <Layl> that too
[10:21:18] <Layl> not if you install from source though I think
[10:21:27] <cow_2001> i've used the curl | sh installation method
[10:21:31] <bluss> I install from tarballs so I have /usr/lib/rustlib/uninstall.sh
[10:21:36] <cow_2001> ah
[10:21:41] <cow_2001> let's see
[10:21:46] <bluss> cow_2001: I don't know the details, but some install methods make sure to uninstall first
[10:21:51] <cow_2001> there it is!
[10:22:02] <cow_2001> thanks!
[10:22:06] <bluss> cow_2001: I've never tried to run it!
[10:22:22] <bluss> (I make a .deb to keep it clean that way)
[10:22:31] *** Joins: zmack (zmack@moz-htpein.home.aster.pl)
[10:22:41] *** Quits: lenstr (lenstr@moz-t72.vju.25.171.IP) (Quit: Leaving...)
[10:22:48] <cow_2001> how do you make a deb?
[10:22:56] <cow_2001> i remember there was an automatic deb creation tool
[10:23:19] <bluss> checkinstall, but that's too slow so I made a script
[10:23:44] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[10:23:50] *** Quits: irobevjod (irobevjod@moz-5bq.k90.254.5.IP) (Ping timeout: 121 seconds)
[10:23:59] *** Joins: Rym (y@moz-o80acm.range86-189.btcentralplus.com)
[10:24:12] <bluss> cow_2001: I'm sure there are better ways https://gist.github.com/anonymous/13aa98510f1e97d22d1e
[10:24:17] <bluss> but this works so far
[10:24:41] *** Quits: qrlpx (smuxi@moz-n7t.3nb.211.95.IP) (Ping timeout: 121 seconds)
[10:24:45] *** Quits: csoriano (csoriano@moz-vs8vb1.redhat.com) (Connection closed)
[10:24:57] <bluss> only real difference to checkinstall is the compression method of the .deb I think. But I don't want to wait minutes for it to compress that thing with xz
[10:25:00] *** Quits: mitsuhiko (mitsuhiko-m@moz-dcduic.srv.pocoo.org) (Ping timeout: 121 seconds)
[10:25:13] *** Quits: commandoline (commandolin@moz-s9gqj7.marten-de-vries.nl) (Ping timeout: 121 seconds)
[10:25:15] *** Joins: nercury (nercury@moz-fbs.e0f.20.5.IP)
[10:25:16] *** Joins: andresv (textual@moz-m48tte.sta.estpak.ee)
[10:25:29] *** Quits: dstrbad (dstrbad@moz-756bkd.cable.xnet.hr) (A TLS packet with unexpected length was received.)
[10:25:37] *** Quits: Rubennn (Rubennn@moz-md17sk.gewooniets.nl) (Ping timeout: 121 seconds)
[10:25:39] *** Joins: lenstr (lenstr@moz-t72.vju.25.171.IP)
[10:25:42] *** Quits: freefall (ff@moz-4lmh4m.privacyfoundation.ch) (Ping timeout: 121 seconds)
[10:25:47] *** Quits: twi (twi@moz-dhvtp3.clients.your-server.de) (Ping timeout: 121 seconds)
[10:25:47] *** Quits: ekarlso (ekarlso@moz-b4dnrb.net) (Ping timeout: 121 seconds)
[10:25:52] *** Quits: cmn (cmn@moz-r1h.buc.47.78.IP) (Ping timeout: 121 seconds)
[10:25:55] *** Quits: [dmp] (dennis@moz-tjonjm.d75.net) (Ping timeout: 121 seconds)
[10:25:55] *** Quits: prudhvi (prudhvi@moz-ohq61t.supr.io) (Ping timeout: 121 seconds)
[10:26:09] *** Quits: Merovius (mero@moz-osg8mh.merovius.de) (Ping timeout: 121 seconds)
[10:26:09] *** Quits: dottedmag (dottedmag@moz-6nqhod.dottedmag.net) (Ping timeout: 121 seconds)
[10:26:14] *** Quits: shahn (Sebastian@moz-njj84g.clients.your-server.de) (Ping timeout: 121 seconds)
[10:26:15] *** Quits: qrlpx_ (smuxi@moz-n7t.3nb.211.95.IP) (Ping timeout: 121 seconds)
[10:26:15] *** Quits: badboy (badboy_@moz-r416mt.rediger.net) (Ping timeout: 121 seconds)
[10:26:15] *** Quits: dbussink (dbussink@moz-hsd6q3.bussink.me) (Ping timeout: 121 seconds)
[10:26:16] *** Quits: atomic (atomic@moz-72353b.exit.babylon.network) (Ping timeout: 121 seconds)
[10:26:17] *** Quits: ker (smuxi@moz-q7vqj2.clients.your-server.de) (Ping timeout: 121 seconds)
[10:26:19] *** Quits: silven (quassel@moz-0roor3.priv.bahnhof.se) (Quit: No Ping reply in 180 seconds.)
[10:26:27] *** Quits: dalarmmst (dalarmmst@moz-mb21j4.bredband.comhem.se) (Ping timeout: 121 seconds)
[10:26:27] *** Quits: ricky26 (quassel@moz-j1rg9d.net) (Ping timeout: 121 seconds)
[10:26:27] *** Quits: Florob (Florob@moz-je09t8.de) (Ping timeout: 121 seconds)
[10:26:27] *** Joins: Rubennn (Rubennn@moz-md17sk.gewooniets.nl)
[10:26:28] *** Quits: tormoz (geov@moz-3q6.afp.124.178.IP) (Ping timeout: 121 seconds)
[10:26:28] *** Quits: Zr40 (zr40@moz-92llkv.adsl.xs4all.nl) (Ping timeout: 121 seconds)
[10:26:29] *** Quits: shadeslayer (shadeslayer@moz-45vi9r.jefferai.org) (Ping timeout: 121 seconds)
[10:26:30] *** Quits: decoder (quassel@moz-gn7.2ft.4.46.IP) (Ping timeout: 121 seconds)
[10:26:35] *** Quits: kalloc (root@moz-oqv.mdd.223.89.IP) (Ping timeout: 121 seconds)
[10:26:39] *** Quits: ville (ville@moz-nadkam.elisa-laajakaista.fi) (Ping timeout: 121 seconds)
[10:26:41] *** Quits: svenstaro (svenstaro@moz-6uaj59.net) (Ping timeout: 121 seconds)
[10:26:41] *** Quits: Deewiant (deewiant@moz-3m389u.deewiant.iki.fi) (Ping timeout: 121 seconds)
[10:26:42] *** Quits: Sycamore (Magnus@moz-qgig44.okeanos.grnet.gr) (Ping timeout: 121 seconds)
[10:26:42] *** Quits: mixi (mixi@moz-faa3k3.org) (Ping timeout: 121 seconds)
[10:26:42] *** Joins: qrlpx (smuxi@moz-n7t.3nb.211.95.IP)
[10:26:44] *** Quits: yati (yati@moz-phu.79g.169.122.IP) (Ping timeout: 121 seconds)
[10:26:49] *** Quits: contradictioned (quassel@moz-th4tob.clients.your-server.de) (Ping timeout: 121 seconds)
[10:26:50] *** Quits: Dtgr (antti@moz-55iepq.me) (Ping timeout: 121 seconds)
[10:26:51] *** Joins: decoder (quassel@moz-ochg88.vk11.b09u.04f8.2a01.IP)
[10:26:55] *** Quits: tilpner (tilpner@moz-6vhgm3.de) (Ping timeout: 121 seconds)
[10:26:57] *** Quits: kriben (kristian@moz-eus.n1b.226.188.IP) (Ping timeout: 121 seconds)
[10:26:57] *** Quits: zimbatm (zimbatm@moz-f37kde.com) (Ping timeout: 121 seconds)
[10:26:58] *** Quits: cow_2001 (un@moz-pk4.og5.226.188.IP) (Ping timeout: 121 seconds)
[10:26:58] *** Quits: ugglan (ugglan@moz-rjubsq.priv.bahnhof.se) (Ping timeout: 121 seconds)
[10:26:58] *** Quits: Gliptic (glip@moz-k8284o.org) (Ping timeout: 121 seconds)
[10:27:02] *** Quits: piotr (larroy@moz-deo.511.226.188.IP) (Ping timeout: 121 seconds)
[10:27:03] *** Quits: Ilari (user@moz-0c06o6.elisa-laajakaista.fi) (Ping timeout: 121 seconds)
[10:27:03] *** Quits: gekkio (gekkio@moz-gjerka.fi) (Ping timeout: 121 seconds)
[10:27:05] *** Quits: djcb (user@moz-nqdj21.elisa-laajakaista.fi) (Ping timeout: 121 seconds)
[10:27:08] *** Quits: flugsio (flugsio@moz-vuteei.bredband.comhem.se) (Ping timeout: 121 seconds)
[10:27:09] *** Quits: BenBE (nobody@moz-3le4af.ccs-baumann.de) (Ping timeout: 121 seconds)
[10:27:14] *** Quits: arch_ (arch@moz-kt47pv.fi) (Ping timeout: 121 seconds)
[10:27:20] *** Quits: dom96 (dom@moz-junuj4.org) (Ping timeout: 121 seconds)
[10:27:21] *** Quits: DasIch (dasich@moz-ddrbj8.de) (Ping timeout: 121 seconds)
[10:27:22] *** Quits: barometz (dominic@moz-vot83i.ip.telfort.nl) (Ping timeout: 121 seconds)
[10:27:23] *** Joins: Florob (Florob@moz-je09t8.de)
[10:27:27] *** Quits: jzerebecki (jan@moz-fg6pbg.zerebecki.de) (Ping timeout: 121 seconds)
[10:27:27] *** Quits: johnLate (johnlate@moz-tnr6fo.scnr.net) (Ping timeout: 121 seconds)
[10:27:28] *** Joins: silven (quassel@moz-c7n.2th.59.46.IP)
[10:27:30] *** Quits: erani (ferian@moz-a2ulsd.garde.fi) (Ping timeout: 121 seconds)
[10:27:32] <Layl> holy timeouts batman
[10:27:35] *** Quits: exalt (evan@moz-ru3hmd.ip.telfort.nl) (Ping timeout: 121 seconds)
[10:27:40] *** Quits: globin (globin@moz-isrgf8.de) (Ping timeout: 121 seconds)
[10:27:50] <Layl> is anyone else seeing this or just me
[10:27:53] *** Joins: tormoz (geov@moz-3q6.afp.124.178.IP)
[10:27:54] *** Quits: mths (mths@moz-q5p.nor.85.95.IP) (Ping timeout: 121 seconds)
[10:27:57] *** Quits: fredy (fredy@moz-s6pco4.okeanos.grnet.gr) (Ping timeout: 121 seconds)
[10:27:57] *** Joins: dbussink (dbussink@moz-hsd6q3.bussink.me)
[10:28:06] *** Joins: dottedmag (dottedmag@moz-6nqhod.dottedmag.net)
[10:28:08] *** Quits: Cork (Cork@moz-rmmud5.priv.bahnhof.se) (Ping timeout: 121 seconds)
[10:28:13] *** Quits: rmgk_ (ragnar@moz-6s3rhm.dyn.telefonica.de) (Ping timeout: 121 seconds)
[10:28:18] *** Quits: currysoup (sam@moz-l5c.ot6.226.188.IP) (Ping timeout: 121 seconds)
[10:28:19] *** Quits: mmalecki (maciej@moz-csrpuh.mmalecki.com) (Ping timeout: 121 seconds)
[10:28:25] *** Quits: dmac (dmac@moz-2ig65r.ca.comcast.net) (Connection closed)
[10:28:26] *** Joins: exalt (evan@moz-5pk.rob.171.82.IP)
[10:28:31] <Mutabah> Layl: It's just timeouts ;)
[10:28:32] *** Quits: Rym (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[10:28:41] *** Joins: nedp (nedp@moz-vg6vvt.bigpond.net.au)
[10:28:42] *** Joins: ekarlso (ekarlso@moz-b4dnrb.net)
[10:28:43] *** Quits: olsner (salparot@moz-8aqvfr.bredband.comhem.se) (Ping timeout: 121 seconds)
[10:29:02] <Layl> Mutabah, but there's a lot of them
[10:29:04] *** Joins: Sycamore (Magnus@moz-qgig44.okeanos.grnet.gr)
[10:29:18] <mkpankov> yeah that looks like network problem
[10:29:18] *** Quits: pkoretic (petarko@moz-avn.i27.237.77.IP) (Ping timeout: 121 seconds)
[10:29:18] *** Joins: joelpet (quassel@moz-eta24h.cust.bredbandsbolaget.se)
[10:29:21] *** Quits: rkruppe (chatzilla@moz-liqrk5.hrz.tu-darmstadt.de) (Ping timeout: 121 seconds)
[10:29:29] *** Joins: rmgk (ragnar@moz-6s3rhm.dyn.telefonica.de)
[10:29:31] *** Joins: StarLight (StarLight@moz-psr.sbd.226.188.IP)
[10:29:31] *** Joins: diodesign (diodesign@moz-joj45h.pepperfish.net)
[10:29:32] *** Joins: mmalecki (maciej@moz-csrpuh.mmalecki.com)
[10:29:32] *** Joins: erani (ferian@moz-a2ulsd.garde.fi)
[10:29:34] *** Joins: piotr (larroy@moz-deo.511.226.188.IP)
[10:29:35] *** Joins: laurie (laurie@moz-ot6p00.clients.your-server.de)
[10:29:37] *** Joins: globin (globin@moz-isrgf8.de)
[10:29:37] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[10:29:39] <wrl> uuyu/quit
[10:29:40] *** Joins: DasIch (dasich@moz-ddrbj8.de)
[10:29:42] *** Joins: gekkio (gekkio@moz-gjerka.fi)
[10:29:43] <wrl> son of a bitch
[10:29:44] *** Quits: wrl (lol@don.gs) (Quit: leaving)
[10:29:45] *** Joins: mitsuhiko (mitsuhiko-m@moz-dcduic.srv.pocoo.org)
[10:30:20] *** Joins: areski (areski@moz-erfa2b.dynamicIP.rima-tde.net)
[10:30:28] *** Joins: Gliptic (glip@moz-k8284o.org)
[10:30:29] *** Joins: mcsu (mcsu@moz-pi2mqp.wishf.co.uk)
[10:30:29] *** Joins: qrlpx_ (smuxi@moz-n7t.3nb.211.95.IP)
[10:31:05] *** Quits: krl (krl@moz-q0m.1lf.72.131.IP) (Ping timeout: 121 seconds)
[10:31:14] *** Joins: mths (mths@moz-q5p.nor.85.95.IP)
[10:31:32] *** Joins: currysoup (sam@moz-l5c.ot6.226.188.IP)
[10:31:39] *** Joins: krl (krl@moz-q0m.1lf.72.131.IP)
[10:31:45] *** Quits: chavezgu (chavezgu@moz-g2ioa3.sk83.bjud.7e00.2a01.IP) (Quit: WeeChat 1.0.1)
[10:31:49] *** Joins: chavezgu (chavezgu@moz-g2ioa3.sk83.bjud.7e00.2a01.IP)
[10:31:50] *** Joins: Altazimuth (Altazimuth@moz-rb7u6p.skybroadband.com)
[10:32:04] *** Quits: kent (kent@moz-nd2iqs.fl.atlanticbb.net) (Ping timeout: 121 seconds)
[10:32:10] *** Joins: cow_2001 (un@moz-pk4.og5.226.188.IP)
[10:32:43] *** Joins: tilpner (tilpner@moz-6vhgm3.de)
[10:32:47] *** Quits: mmatyas (mmatyas@moz-4lg94m.inf.u-szeged.hu) (Ping timeout: 121 seconds)
[10:32:48] *** Quits: tmtwd (tmtwd@moz-0kkm5n.cable.rogers.com) (Quit: Leaving)
[10:33:05] *** Quits: chavezgu (chavezgu@moz-g2ioa3.sk83.bjud.7e00.2a01.IP) (Quit: WeeChat 1.0.1)
[10:33:08] *** Joins: chavezgu (chavezgu@moz-g2ioa3.sk83.bjud.7e00.2a01.IP)
[10:33:11] *** Joins: dom96 (dom@moz-junuj4.org)
[10:33:19] *** Quits: Sycamore (Magnus@moz-qgig44.okeanos.grnet.gr) (Ping timeout: 121 seconds)
[10:33:21] *** Joins: Dtgr (antti@moz-55iepq.me)
[10:33:37] *** Joins: kriben (kristian@moz-eus.n1b.226.188.IP)
[10:33:44] *** Quits: gekkio (gekkio@moz-gjerka.fi) (Ping timeout: 121 seconds)
[10:33:45] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[10:33:47] *** Quits: mitsuhiko (mitsuhiko-m@moz-dcduic.srv.pocoo.org) (Ping timeout: 121 seconds)
[10:34:13] *** Quits: globin (globin@moz-isrgf8.de) (Ping timeout: 121 seconds)
[10:34:30] *** Quits: silven (quassel@moz-c7n.2th.59.46.IP) (Quit: No Ping reply in 180 seconds.)
[10:34:35] *** Quits: exalt (evan@moz-5pk.rob.171.82.IP) (Ping timeout: 121 seconds)
[10:34:38] *** Quits: diodesign (diodesign@moz-joj45h.pepperfish.net) (Ping timeout: 121 seconds)
[10:34:40] *** Joins: __mark__ (mark@moz-udut16.dynamic.chello.pl)
[10:34:42] *** Quits: laurie (laurie@moz-ot6p00.clients.your-server.de) (Ping timeout: 121 seconds)
[10:34:42] *** Quits: erani (ferian@moz-a2ulsd.garde.fi) (Ping timeout: 121 seconds)
[10:34:46] *** Quits: mceier (mceier@moz-fm89sb.dynamic.chello.pl) (Ping timeout: 121 seconds)
[10:34:49] *** Quits: DasIch (dasich@moz-ddrbj8.de) (Ping timeout: 121 seconds)
[10:34:55] *** Quits: mmalecki (maciej@moz-csrpuh.mmalecki.com) (Ping timeout: 121 seconds)
[10:35:01] *** Quits: Romster (Romster@moz-4g83e8.rev.eftel.com) (Ping timeout: 121 seconds)
[10:35:11] *** Quits: mtsr (mtsr@moz-5r1gp7.yourbnc.co.uk) (Ping timeout: 121 seconds)
[10:35:12] *** Quits: chavezgu (chavezgu@moz-g2ioa3.sk83.bjud.7e00.2a01.IP) (Quit: WeeChat 1.0.1)
[10:35:13] *** Quits: Gliptic (glip@moz-k8284o.org) (Ping timeout: 121 seconds)
[10:35:15] *** Joins: chavezgu (chavezgu@moz-g2ioa3.sk83.bjud.7e00.2a01.IP)
[10:35:27] *** Quits: Thiez (thiez@moz-300k3d.student.utwente.nl) (Ping timeout: 121 seconds)
[10:35:34] *** Joins: silven (quassel@moz-0roor3.priv.bahnhof.se)
[10:35:40] *** Joins: exalt (evan@moz-ru3hmd.ip.telfort.nl)
[10:35:51] *** Joins: Thiez (thiez@moz-61e.3he.89.130.IP)
[10:35:57] *** Joins: globin (globin@moz-isrgf8.de)
[10:35:58] *** Quits: mcsu (mcsu@moz-pi2mqp.wishf.co.uk) (Ping timeout: 121 seconds)
[10:35:58] *** Joins: mmalecki (maciej@moz-csrpuh.mmalecki.com)
[10:36:00] *** Joins: erani (ferian@moz-at3.rsu.116.212.IP)
[10:36:00] *** Joins: laurie (laurie@moz-ot6p00.clients.your-server.de)
[10:36:01] *** Joins: yati (yati@moz-phu.79g.169.122.IP)
[10:36:01] *** Joins: mcsu_ (mcsu@moz-pi2mqp.wishf.co.uk)
[10:36:02] *** Joins: diodesign (diodesign@moz-joj45h.pepperfish.net)
[10:36:04] *** Joins: pkoretic (petarko@moz-avn.i27.237.77.IP)
[10:36:04] *** Joins: BenBE (nobody@moz-3le4af.ccs-baumann.de)
[10:36:04] *** Joins: Ilari (user@moz-0c06o6.elisa-laajakaista.fi)
[10:36:06] *** Joins: DasIch (dasich@moz-ddrbj8.de)
[10:36:09] *** Joins: csoriano (csoriano@moz-16g.ma8.175.213.IP)
[10:36:12] *** Joins: ker (smuxi@moz-q7vqj2.clients.your-server.de)
[10:36:13] *** Joins: olsner (salparot@moz-8aqvfr.bredband.comhem.se)
[10:36:25] *** Joins: contradictioned (quassel@moz-th4tob.clients.your-server.de)
[10:36:26] *** Joins: rkruppe (chatzilla@moz-liqrk5.hrz.tu-darmstadt.de)
[10:36:31] *** Joins: mmatyas (mmatyas@moz-4lg94m.inf.u-szeged.hu)
[10:36:39] *** Quits: StarLight (StarLight@moz-psr.sbd.226.188.IP) (Connection closed)
[10:36:41] *** Joins: StarLight (StarLight@moz-psr.sbd.226.188.IP)
[10:36:44] *** Quits: piotr (larroy@moz-deo.511.226.188.IP) (Ping timeout: 121 seconds)
[10:36:49] *** Joins: shadeslayer (shadeslayer@moz-45vi9r.jefferai.org)
[10:36:49] *** Joins: mceier (mceier@moz-fm89sb.dynamic.chello.pl)
[10:36:49] *** Joins: Cork (Cork@moz-jbu.543.170.81.IP)
[10:36:52] *** Joins: mtsr (mtsr@moz-5r1gp7.yourbnc.co.uk)
[10:36:57] *** Joins: zimbatm (zimbatm@moz-f37kde.com)
[10:36:58] *** Joins: commandoline (commandolin@moz-s9gqj7.marten-de-vries.nl)
[10:37:03] *** Joins: cmn (cmn@moz-r1h.buc.47.78.IP)
[10:37:05] *** Joins: fredy (fredy@moz-s6pco4.okeanos.grnet.gr)
[10:37:17] *** Quits: vks (quassel@moz-b54qc9.fias.uni-frankfurt.de) (Ping timeout: 121 seconds)
[10:37:34] *** Quits: currysoup (sam@moz-l5c.ot6.226.188.IP) (Ping timeout: 121 seconds)
[10:37:45] *** Joins: piotr (larroy@moz-deo.511.226.188.IP)
[10:37:48] *** Joins: ricky26 (quassel@moz-j1rg9d.net)
[10:38:05] *** Joins: Sycamore (Magnus@moz-qgig44.okeanos.grnet.gr)
[10:38:06] *** Joins: currysoup (sam@moz-l5c.ot6.226.188.IP)
[10:38:27] *** Joins: mitsuhiko (mitsuhiko-m@moz-dcduic.srv.pocoo.org)
[10:38:36] *** Joins: barometz (dominic@moz-vot83i.ip.telfort.nl)
[10:38:43] *** Joins: ekiwi (kevin@moz-s75.v37.61.134.IP)
[10:38:50] *** Joins: mixi (mixi@moz-faa3k3.org)
[10:38:53] *** Joins: Deewiant (deewiant@moz-3m389u.deewiant.iki.fi)
[10:39:47] *** Quits: choplin (choplin@moz-q517gi.u-tokyo.ac.jp) (Connection closed)
[10:40:01] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[10:40:04] *** Joins: prudhvi (prudhvi@moz-ohq61t.supr.io)
[10:40:04] *** Joins: [dmp] (dennis@moz-tjonjm.d75.net)
[10:40:23] *** Joins: gekkio (gekkio@moz-gjerka.fi)
[10:40:32] *** Joins: johnLate (johnlate@moz-tnr6fo.scnr.net)
[10:40:50] *** Joins: proc (proc@moz-q5diaj.dip0.t-ipconnect.de)
[10:40:54] *** Joins: arch_ (arch@moz-kt47pv.fi)
[10:41:44] *** Joins: aisrael (aisrael@moz-f6q.anf.108.114.IP)
[10:41:54] *** Joins: ville (ville@moz-nadkam.elisa-laajakaista.fi)
[10:42:09] *** Joins: Romster (Romster@moz-4g83e8.rev.eftel.com)
[10:42:33] *** Joins: dstrbad (dstrbad@moz-857.7nj.164.89.IP)
[10:43:04] *** Quits: martinhath (martin@moz-mbkero.wlan.ntnu.no) (Ping timeout: 121 seconds)
[10:43:06] *** Quits: nedp (nedp@moz-vg6vvt.bigpond.net.au) (Connection closed)
[10:43:28] *** Joins: andre_ (andre@moz-rq2.b42.115.187.IP)
[10:43:41] *** Joins: flugsio (flugsio@moz-vuteei.bredband.comhem.se)
[10:44:56] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[10:45:38] *** Quits: loyd (loyd@moz-uft.32f.108.213.IP) (Ping timeout: 121 seconds)
[10:45:38] *** Quits: lenstr (lenstr@moz-t72.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[10:45:44] *** Joins: nerdopoly (nerdopoly@moz-aqvski.range86-143.btcentralplus.com)
[10:45:47] *** Joins: fabianvf (fabianvf@moz-fjqmui.va.comcast.net)
[10:46:53] <Layl> so say I've got a ValueCache, which should spit out mutable MyValue structs, but those should be the same across multiple calls, what would be the best way to do this
[10:47:09] <Layl> I can assume this won't be used across threads
[10:47:35] *** Joins: lenstr (lenstr@moz-t72.vju.25.171.IP)
[10:47:39] <Layl> I'm thinking just a Rc would work here but I feel kinda iffy using them
[10:48:08] *** Quits: DerisiveLogic (smuxi@moz-g93io6.res.rr.com) (Ping timeout: 121 seconds)
[10:48:10] *** Joins: martinhath (martin@moz-mbkero.wlan.ntnu.no)
[10:48:57] *** Joins: kaeluka (kaeluka@moz-onpo5m.eduroam.uu.se)
[10:49:13] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Ping timeout: 121 seconds)
[10:49:46] *** Quits: lenstr (lenstr@moz-t72.vju.25.171.IP) (Quit: Leaving...)
[10:49:49] *** Quits: fabianvf (fabianvf@moz-fjqmui.va.comcast.net) (Ping timeout: 121 seconds)
[10:50:52] *** Quits: kgrandon (Adium@moz-4bb5cu.nemh.1887.0450.2001.IP) (Quit: Leaving.)
[10:50:55] <bluss> using Rc<RefCell> has quita a syntactical overhead
[10:51:11] <bluss> nothing is iffy about Rc though I think, they are very lightweight
[10:51:28] *** Joins: meh (meh@moz-2vi7cf.42-151.net24.it)
[10:51:28] <Layl> I'm just not used to them
[10:51:36] <aji> Rc<RefCell<>> can also create reference cycles if you're not careful
[10:51:43] <bluss> Rc<T> is just a nonnullable pointer at runtime
[10:51:57] <bluss> (the rc stuff happens at clone and drop)
[10:52:08] <Layl> I'm aware of that
[10:52:17] <Layl> I'm just not entirely sure where a Rc should be used and where it shouldn't
[10:52:19] <aji> as an aside, is there a reason clones must be explicit?
[10:52:24] <bluss> I don't think cycles happen without being pretty obvious
[10:52:29] <aji> wait nm dumb question
[10:52:53] <Layl> I'm perhaps too used to a language like C# where it's entirely decided by the garbage collection, and C++ where you can do all the unsafe reference passing your heart desires
[10:52:59] <aji> bluss: they don't but it's a possibility the user should be aware of
[10:53:00] <bluss> Rust thankfully has no copy constructors or implicit application of those
[10:53:17] <bluss> aji: I guess yeah.
[10:53:21] <aji> Layl: you can do unsafe reference passing in Rust too with *mut and unsafe{} lol
[10:53:22] *** Joins: qwerty_nor (Thunderbird@moz-vuo.d5a.248.5.IP)
[10:53:41] *** Joins: choplin (choplin@moz-t9j5s8.t6mc.g9m6.001a.240d.IP)
[10:53:53] <Layl> well yea but it's something I'm trying to avoid
[10:54:01] *** Joins: bjz (bjz@moz-4l6.mjm.52.113.IP)
[10:54:08] <Layl> I'm not entirely sure what would be the best thing to do here
[10:54:25] <Layl> like I said, I've got that cache object, it would be best if the data 'lives' in a vector in there
[10:54:27] *** Joins: ugglan (ugglan@moz-rjubsq.priv.bahnhof.se)
[10:54:30] <bluss> Layl: caches are a bit tricky.
[10:54:31] <huon> Rc<RefCell<T>> is the 'easiest' thing
[10:54:44] <Layl> so I even need the Rc in there
[10:54:52] *** Joins: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com)
[10:54:55] <Layl> *do I
[10:55:14] <huon> you may be able to get a way with &RefCell<T>
[10:55:14] <Layl> because isn't RefCell just a runtime checked reference?
[10:55:18] <aji> you want to fetch things out of the cache and get references that never expire until the cache expires?
[10:55:21] *** Quits: rkruppe (chatzilla@moz-liqrk5.hrz.tu-darmstadt.de) (Ping timeout: 121 seconds)
[10:55:27] <aji> or never expire until the next fetch
[10:55:54] <Layl> aji, the cache gives out mutable values which have to be shared across usages
[10:55:58] <bluss> If you use &RefCell<T> instead of Rc<RefCell<T>> then you'll get some more complexity on the cache side
[10:56:06] *** Joins: mkoskar (mkoskar@moz-d4em5e.de.colt.net)
[10:56:19] <bluss> because that borrow of the RefCell will "freeze" the cache to only &self and not mutable borrows
[10:56:24] <bluss> as long as the borrow lasts.
[10:56:25] <aji> Layl: what's wrong with just a plain Vec<T>?
[10:56:29] <Layl> I'm not quite sure why RefCell has to be wrapped like that in either a & or a Rc
[10:56:43] *** Joins: svenstaro (svenstaro@moz-6uaj59.net)
[10:57:00] <aji> do you want to store the returned references somewhere else?
[10:57:03] <Layl> aji, I need to keep a reference to the actual value in different locations
[10:57:17] <aji> ah
[10:57:25] <Layl> basically, this is a UI library, the text widgets need to keep the cached fonts stored
[10:57:36] <Layl> as well, the fonts will automatically cache glyphs
[10:57:39] <aji> the way i've been doing that is with a HashMap<usize, T> and randomly generated usize, and using the usize as a "reference"
[10:57:43] <Layl> so that's why they need to be mutable
[10:57:44] <aji> then just fetching the values when i need them
[10:57:57] <aji> not the speediest but it's ok
[10:58:16] <Layl> that feels kinda iffy since that means I need to push up the actual cache in the render part
[10:58:40] <Layl> which certainly isn't an option for every single kind of thing different widgets want cached across widgets
[10:58:55] *** Quits: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com) (Ping timeout: 121 seconds)
[10:58:56] <aji> there's also this http://doc.rust-lang.org/arena/struct.TypedArena.html
[10:58:58] <aji> but it's unstable
[10:58:59] *** Quits: bjz (bjz@moz-4l6.mjm.52.113.IP) (Ping timeout: 121 seconds)
[10:59:05] <aji> and i don't know how much it costs
[10:59:24] <Layl> the reason I'm looking at Rc is because it seems to decently solve the problem
[10:59:29] <Layl> even if the cache expires
[10:59:30] <aisrael> hi, #rust. how come I’m now getting a compilation error on a #[allow(unused_results)]
[10:59:43] <aisrael> “error: expected item after attributes”
[10:59:44] *** Joins: mindtree (Mitch@moz-fog.g9r.240.116.IP)
[10:59:50] <aji> Rc<T> would work if the values don't need to change
[11:00:00] *** Quits: Sprog (Sprog@moz-u3bo4c.lv.cox.net) (Connection closed)
[11:00:00] <Layl> well this has to be mutable
[11:00:01] <bluss> aisrael: # attributes apply to the next item
[11:00:12] <Layl> why wouldn't Rc work if the values do change?
[11:00:12] <bluss> aisrael: #! instead to the item they are inside
[11:00:27] <bluss> aisrael: maybe you want #![allow(  at the top of the module?
[11:00:31] <aisrael> @bluss: Yeah. This compiled fine just a few days ago (I use nightlies)
[11:00:39] <Layl> it might be a bit cache unfriendly but I don't see why it wouldn't work to just have Rc<Font>
[11:00:47] <bluss> aisrael: ok that's strange
[11:00:47] *** Quits: slomo (slomo@moz-p8m0g2.net) (Quit: Ex-Chat)
[11:01:05] <aji> if you have that Rc in a thousand places you can't borrow one of them as mutable
[11:01:10] <aji> it's like having a thousand immutable borrows
[11:01:29] <aji> the Rc itself is just a pointer to the data and a reference count
[11:01:30] <bluss> aisrael: what is the next thing in the source?
[11:01:40] <aisrael> @bluss: it’s here, if you’re curious https://github.com/aisrael/queue/blob/master/src/main.rs#L37
[11:01:44] *** Quits: zcourts (zcourts@moz-7ms809.cable.virginm.net) (Client exited)
[11:01:58] <Layl> is there a way I can do something like that that's mutable instead then
[11:02:07] <aji> yes, Rc<RefCell<T>>
[11:02:22] <Layl> and RefCell does the mutability checking?
[11:02:25] <aji> yes
[11:02:31] <bluss> aisrael: I guess some rule got stricter. It makes sense now I think? You should be able to apply that to a block (insert a {  } pair)
[11:02:38] <Layl> hm, I'm not sure I entirely follow what RefCell does then
[11:02:38] <aji> it will panic! if you try to break the rules but good borrow discipline makes that not a problem
[11:02:41] *** Joins: Gliptic (glip@moz-k8284o.org)
[11:02:42] <bluss> aisrael: of course, the allow only applying inside that
[11:02:52] <aisrael> am on OS X 10.10.3, rust-nightly stable 1.0-2015-05-13. I should stop cleaning up homebrew after upgrades so I can at least revert to a previous nightly
[11:02:58] <aji> the RefCell itself stays immutable, and you use .borrow() and .borrow_mut() to attempt borrows of the contained value
[11:03:10] <bluss> Layl: RefCell allows you to mutate with only a &-borrow (not &mut)
[11:03:58] <Layl> I just still don't quite see why RefCell has to be wrapped in a Rc or &
[11:03:59] <bluss> Layl: things that are safely shared can do that. Another example are atomics that can be mutated with &-borrows. The details to ensure safety for the two cases differs
[11:04:20] <aisrael> @bluss: yeah, if I apply it to the containing Ok => {} block , I get unused attribute and the unused result warning back :p
[11:04:37] <bluss> Layl: it doesn't have to be wrapped, but you wanted to give it out to several users. Need Rc or & to have several users have a pointer to it at the same time
[11:04:41] <aji> you could use &RefCell<T> but you'll have to stick with something the compiler can figure out
[11:04:54] <mkpankov> will the stable upload happen overnight automatically or we'll have to wait until someone from the core team bumps some switch?
[11:04:56] *** Joins: Merovius (mero@moz-osg8mh.merovius.de)
[11:05:00] <Layl> oooh I see now
[11:05:05] <bluss> aisrael: I don't think that warning exists
[11:05:19] <Manishearth> mkpankov: I beleive human sacrifice is required
[11:05:26] <mkpankov> (asking because I'm in GMT+4 and waiting for HQ will make the release the next day for me)
[11:05:27] * Manishearth fetches the nearest Go programmer
[11:05:31] <Layl> is there a way I can statically enforce a .borrow() from a RefCell to be returned before the end of a scope?
[11:05:44] <aji> drop()
[11:06:06] <Manishearth> mkpankov: Layl use an &RefCell?
[11:06:06] <tilpner> huon - Is there a ban on any hostmasks related to Tor?
[11:06:07] <aji> i think they actually use that example on the RefCell page
[11:06:19] <Manishearth> I thought borrow() takes an &self anyway?
[11:06:24] <aji> http://doc.rust-lang.org/core/mem/fn.drop.html
[11:06:44] <Manishearth> oh you want to return early. Yeah, drop()
[11:06:45] <Layl> I mean that you literally can't at all accidentally give it to something else that keeps it longer
[11:06:48] *** Joins: arielb1 (Mibbit@moz-cmi.jfj.114.192.IP)
[11:06:56] <Manishearth> Layl: that already happens
[11:06:57] <aisrael> @bluss, i get “warning: unused result which must be used, #[warn(unused_must_use)] on by default” and “warning: unused attribute, #[warn(unused_attributes)] on by default” if I move the attribute so it compiles
[11:07:02] <Layl> ah I see
[11:07:17] <Manishearth> RefCell.borrow() takes the RefCell by &self, so the borrow() cannot outlive the scope in which borrow() was called
[11:07:20] <bluss> aisrael: yeah, unused_results doesn't exist
[11:07:21] <aisrael> i can work around using let _  = or unwrap(), but that feels… dirty ;)
[11:07:33] <bluss> aisrael: no that's just as good
[11:07:43] <Layl> aisrael, you need to .unwrap()
[11:07:49] <Layl> often unwrap() is used to report errors
[11:07:51] *** Quits: Guest63 (textual@moz-qfs.570.70.83.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[11:08:11] <Layl> if you don't expect an error to happen anyways, just unwrap() and it will panic!() to tell you if your assumption was wrong
[11:08:16] <Layl> this is why you're forced to handle the result
[11:08:38] *** Quits: nerdopoly (nerdopoly@moz-aqvski.range86-143.btcentralplus.com) (Quit: Lost terminal)
[11:08:52] <aisrael> @Layl: this is just a call to std::io::stdout().write() so I thought I could just ignore the result and tell the compiler I know what I’m doing (saves a few cycles, too)
[11:09:01] *** Quits: gonzaloserrano (Adium@moz-1nv.3t7.97.62.IP) (Quit: Leaving.)
[11:09:13] <Layl> those calls can fail
[11:09:15] <Layl> so you get a Result
[11:09:20] <bluss> if you want to ignore it I think let _ = is fine
[11:09:22] <aji> "let _ = bla" costs just as much 
[11:10:01] *** Quits: Slava_I (slava@moz-a7c.n0g.135.88.IP) (Connection closed)
[11:10:10] *** Quits: csherratt (textual@moz-357qdq.cable.teksavvy.com) (Ping timeout: 121 seconds)
[11:10:11] <Layl> though I can see the concern in saving a pipeline flush by not doing .unwrap(), aisrael, you're already doing a kernel boundary call
[11:10:12] <mkpankov> well let _ = bla won't optimize out the construction and deconstruction of the Result itself
[11:10:17] <Layl> you're at this point not concerned with a few cycles
[11:10:43] <aji> mkpankov: yeah but that's going to happen no matter what, isn't it?
[11:10:51] <Layl> also, don't micro optimize in advance
[11:10:57] <aji> right ^
[11:11:00] <mkpankov> aji: seems that is
[11:11:13] <bluss> let _  won't touch anything
[11:11:14] *** Joins: vks (quassel@moz-b54qc9.fias.uni-frankfurt.de)
[11:11:32] <Layl> aisrael, basically, just do the unwrap() until you profile and actually find unwrap() is a cause of performance problems
[11:11:36] <eddyb> LLVM could be smart enough to remove dead stores recursively
[11:11:36] <Layl> since this is IO though, that's unlikely
[11:11:44] *** Quits: nham (nham@moz-755.bu3.214.98.IP) (Quit: leaving)
[11:11:44] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[11:11:49] <aisrael> @Layl, of course. I just… I don’t know. So, there’s no more way to tell the compiler, ignore the fact that I’m throwing away this result?
[11:11:58] <Layl> no, by design
[11:12:02] <bluss> aisrael: let _ =  is the recommended way
[11:12:05] *** Joins: whidgle (Mibbit@moz-b94pma.cable.virginm.net)
[11:12:06] <mkpankov> eddyb: but not the side-effects in drop of Result
[11:12:08] <bluss> aisrael: but you can also disable the warning
[11:12:10] <Layl> bluss, isn't .unwrap() recommended
[11:12:18] <aji> unwrap doesn't ignore the result
[11:12:19] *** Quits: whidgle (Mibbit@moz-b94pma.cable.virginm.net) (Quit: http://www.mibbit.com ajax IRC Client)
[11:12:26] <bluss> Layl: let _ is recommended to ignore
[11:12:34] <Layl> aji, he doesn't really want to ignore the error though if it happens
[11:12:37] <aisrael> @bluss: That’s what I wanted to do, but localize to a single line (or, even fn )
[11:12:45] <mkpankov> so no, I don't believe it can be optimized so as to make the function not construct the return value
[11:12:49] <Layl> right to clarify, he doesn't expect an error to happen that he wants to ignore
[11:12:53] <bluss> aisrael: the warning you got told you the right warning to ignore
[11:12:56] <aisrael> I’m thinking if std::io fails, I can’t do much about it anyway
[11:12:57] <Layl> he just wants to ignore the fact that an error could happen
[11:13:02] <Layl> because he assumes none will
[11:13:08] <Layl> this is a situation where you use .unwrap()
[11:13:10] <aji> i personally would recommend .unwrap() for now
[11:13:12] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[11:13:32] <aji> you should be wary of throwing away results
[11:13:48] *** Parts: arielb1 (Mibbit@moz-cmi.jfj.114.192.IP) ()
[11:14:07] <Layl> get into a habit of .unwrap()ing, you'll get used to it
[11:14:13] <mkpankov> I also think unwrap is better. at least it's a panic if an error does happen, not silent continuation of work in some incomprehensible manner
[11:14:17] *** Joins: Slava_I (slava@moz-a7c.n0g.135.88.IP)
[11:14:28] *** Joins: duncan (paul@moz-dst.ms6.225.173.IP)
[11:14:31] <Layl> yea essentially, let _ = is a "on error continue"
[11:14:57] <Layl> if IO stops working, now's the time to panic
[11:14:58] <bluss> aisrael: did you find the warning's name?
[11:15:06] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[11:15:15] *** Joins: zcourts (zcourts@moz-rct.k2i.254.149.IP)
[11:15:22] <mkpankov> that turns Rust into bash w/o 'set -e' :P
[11:16:07] <Layl> is there a good definition of the 'proper' situation to use a Rc over other alternatives
[11:16:12] <bluss> I accept not wanting to insert panics into critical code. but then you shouldn't call stdio() in that context either
[11:16:37] <mkpankov> well maybe you should, but at least handle the error somehow
[11:16:56] <boblehest> Reading the recent article criticizing Rust, and this image is included: http://www.viva64.com/media/images/content/b/0324_Criticizing-Rust-Language-Why-Cpp-Will-Never-Die/image1.png
[11:16:56] <mkpankov> so as to exit gracefully, idk
[11:17:03] <aisrael> @bluss I’ve tried both #[allow(unused_must_use)] (based on the warning) and #[allow(unused_results)]. Same compiler error on that line, same warnings on the containing Ok => {}
[11:17:14] <boblehest> Seeing the C++ performance compared to C in that chart tells me that the benchmarks obviously are shit. :p
[11:17:16] <mkpankov> boblehest: oh no, please! :(
[11:17:42] <mkpankov> please don't quote that crap here, too, please! :((
[11:17:50] <aji> boblehest: also i like how python ruby etc are in what could be the "very very bad" tier
[11:17:52] <bluss> aisrael: ok that's weird, but that's the correct warning to ignore
[11:17:53] <kagami> Layl: here is the code: https://github.com/PistonDevelopers/gfx_text/blob/master/src/font.rs#L208-L251 Probably it's not optimal, but it's the best I've managed to do so far.
[11:17:55] <aji> yet nobody is writing webapps in C++
[11:18:01] *** Joins: shmoo (Mibbit@moz-lpse25.ericsson.net)
[11:18:04] <shmoo> hi
[11:18:08] *** Joins: Rym (y@moz-o80acm.range86-189.btcentralplus.com)
[11:18:26] <boblehest> mkpankov: Sorry, just that one remark, I promise!
[11:18:33] <shmoo> std::fs::create_dir_all fails if any part of the path already exists, is this a bug or a feature?
[11:18:34] <Layl> kagami: give me a moment, this was a while back and I kinda half forgot what it was about
[11:18:38] <mkpankov> I read the original blog post in Russian maybe 2 weeks ago, wrote several comments explaining the mistakes the author makes, and he never replied to any of them
[11:18:49] <aji> Layl: re Rc<>, idk, i suppose use your best judgement.
[11:18:52] <aisrael> There! It works if #[allow(unused_must_use)] is applied to the enclosing function
[11:18:59] <mkpankov> this is sensationalist yellow bullshit
[11:19:04] <aji> don't quote me on this, but i'm pretty sure it has the same performance as a Box<> for just using it,
[11:19:06] <aisrael> thanks, all. git commit && git push
[11:19:25] <aji> but you can't mutate the contained value, and you CAN clone it as many times as you want
[11:19:26] <kagami> Layl: it was about take(). I need to use it in this particular case because I iterate over chars_info and need to move data value to the vector.
[11:19:26] <Layl> kagami, wait, what does gfx_text do?
[11:19:35] *** Joins: nerdopoly (nerdopoly@moz-aqvski.range86-143.btcentralplus.com)
[11:19:42] <Layl> because I think this is exactly what I need right now if this library is usable
[11:19:42] <Manishearth> mkpankov: how does it read in Russian? I disliked the tone immesely (and the flippant dismissals of various things), but I wasn't sure because these things get lost in translation
[11:19:50] <Manishearth> *immenselyt
[11:20:07] <kagami> Layl: draw the text for gfx using freetype.
[11:20:08] <aji> pretty much nobody has been taking that article seriously
[11:20:10] <Manishearth> (of course, tone isn't a way to disquality a post, but it just annoyed me)
[11:20:14] <Manishearth> aji: ah
[11:20:23] <aji> even on /r/cpp it got lots of bad feedback
[11:20:35] <mkpankov> Manishearth: the translation is awful, in Russian the writing itself is better, but the tone is still bad
[11:20:36] <Layl> aji: link to the actual article for laughs?
[11:20:37] <Manishearth> aji: I think it put forth some good points actually, just that they were so buried and hidden beneath the rhetoric
[11:20:41] <Manishearth> mkpankov: ah
[11:20:50] <aji> would this be more appropriate for #rust-offtopic?
[11:20:54] <Manishearth> yes
[11:21:23] <Layl> link without question mark for the lazy: #rust-offtopic
[11:21:44] <SneakySnake> I never actually visited there
[11:22:14] *** Quits: indefini (indefini@moz-4p4v25.ucom.ne.jp) (Connection closed)
[11:22:20] *** Joins: jarrednicholls (uid19542@moz-s0evcl.uxbridge.irccloud.com)
[11:22:26] <jarrednicholls> Do we have any macro experts? :)
[11:22:32] <Layl> kagami, how does that library cache fonts currently?
[11:22:41] *** Joins: Marvin (Marvin@moz-aikc5m.cpe.webspeed.dk)
[11:22:44] *** Quits: Rym (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[11:22:49] <boblehest> mkpankov: Yeah, I didn't finish the article. I'm always interested in opinions from the "other side", but this one contained too much bullshit.
[11:22:52] <Marvin> How much memory overhead is there on a basic struct?
[11:23:11] <Layl> Marvin, depends
[11:23:21] <Layl> what kind of struct
[11:23:22] <kagami> Layl: stores one big texture in the memory. Chars coords are in HashMap, so it's O(1) access.
[11:23:32] <Marvin> a struct containing two u32 fields
[11:23:33] <bluss> Marvin: what do you count as overhead?
[11:23:35] <Layl> kagami, it does cache it across multiple draws right?
[11:23:39] *** Joins: bjz (bjz@moz-puppgq.tpgi.com.au)
[11:23:40] <mkpankov> boblehest: further discussion of this article happens on #rust-offtopic :)
[11:23:40] <Layl> also, is it currently usable
[11:23:45] <Marvin> anything more than what the fields use
[11:23:50] <Layl> if both of those are yes, I could kiss you right now
[11:23:53] <Layl> this is exactly what I need
[11:23:55] <bluss> Marvin: structs implementing Drop have one extra field, but that will be removed soonish
[11:24:06] <Layl> Marvin, what kind of fields?
[11:24:08] <bluss> Marvin: Rust's aim is of course zero overhead
[11:24:12] <Marvin> so a Point would use 8 bytes per struct?
[11:24:12] <Layl> this is important
[11:24:16] <bluss> Marvin: yes
[11:24:17] *** Joins: jeffasinger (jeff@moz-u5nog7.res.rr.com)
[11:24:19] <Marvin> oh, neat
[11:24:25] <Layl> structs get padded
[11:24:27] *** Quits: Tobba (Tobba@moz-6oh.7ki.21.217.IP) (Connection closed)
[11:24:31] <Marvin> so I can't blame the fact that my program gobbles mem on rust :(
[11:24:32] <Layl> depending on the layout
[11:24:37] <jarrednicholls> Having trouble w/ recursive/repeating macro: http://is.gd/sjo70a  Anyone try to do a repeating template with pairs of tokens?
[11:24:49] <kagami> Layl: you can do multiple draws (if it's the same Renderer instance) and render it at once (vertex/index coords stored in the vector and pushed to the vertex/index GPU buffer at once).
[11:24:49] <bluss> playbot: struct Point<T>(T, T);  std::mem::size_of::<Point<u32>>()
[11:24:51] -playbot- 8
[11:24:51] <Layl> iirc rust's padding is similar to how it's done in C generally
[11:24:54] <bluss> Marvin: ^
[11:24:59] <Marvin> Niiiice
[11:25:09] <Layl> kagami, I mean like, across multiple frames
[11:25:24] *** Joins: capcar (mathieu@moz-mi55kn.mc.videotron.ca)
[11:25:26] <Marvin> How would I prevent copying of data when having multiple lists?
[11:25:29] <bluss> Marvin: you can put #[repr(C)] on a struct to make it have C compatible layout
[11:26:02] *** Quits: bjz (bjz@moz-puppgq.tpgi.com.au) (Connection closed)
[11:26:06] <bluss> Marvin: (without this, rust makes no guarantees about order of fields and layout)
[11:26:11] *** Quits: aisrael (aisrael@moz-f6q.anf.108.114.IP) (Client exited)
[11:26:21] <Marvin> My code is littered with clone()s everywhere to get around ownership stuff, how can I fix that?
[11:26:24] *** Joins: bjz (bjz@moz-puppgq.tpgi.com.au)
[11:26:27] *** Joins: v21 (vee@moz-2gv.oe1.4.171.IP)
[11:26:47] <bluss> Marvin: if you want your Point<u32> to be copyable just like a simple u32, put #[derive(Copy, Clone)] on it
[11:27:01] <Marvin> I know
[11:27:12] <Marvin> I'm asking how to prevent cloning everything to get around ownership stuff
[11:27:18] <bluss> oh
[11:27:26] <Marvin> Boxes
[11:27:26] <Marvin> ?
[11:27:43] <Marvin> Things like this: http://i.imgur.com/Ss4POhk.png
[11:27:44] <kagami> Layl: right now there is no API for that. But I can add get_batch routine if you want. It would return batch instance which you could use in the render loop without any additional computations (though they are cheep anyway). Library is not yet mature, I pushed it just yesterday.
[11:28:03] <bluss> Marvin: thanks, an example will clarify
[11:28:11] <Layl> kagami, it would be fine for now since I'm gonna be caching the rendered font data anyways
[11:28:18] *** Joins: mkpankov` (mkpankov@moz-7qs.70f.16.195.IP)
[11:28:33] <Layl> I'll be happy to use it this early on to avoid writing my own font rendering
[11:28:48] <bluss> Marvin: if new_vertex is Copy, then you don't need the .clone() calls there. But what is new_vertex?
[11:28:57] <kagami> Layl: contributions are welcomed :)
[11:28:58] <Marvin> a Point
[11:29:13] <Marvin> bluss, wouldn't adding Copy just implicitly clone it?
[11:29:17] <Marvin> I'm looking to reduce memory usage
[11:29:24] <Marvin> by not cloning all the time
[11:29:32] <bluss> cloning is duplicating 8 bytes
[11:29:35] <bluss> it's harmless
[11:29:40] <Marvin> not when I'm doing it 25m times
[11:30:04] <bluss> .clone() is a trait method right? So what it does depends on the type
[11:30:08] <jarrednicholls> Marvin: that's the same as pushing a pointer around on 64bit system...
[11:30:13] <jarrednicholls> you can't do better than that
[11:30:21] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[11:30:23] <Marvin> oh
[11:30:24] <Marvin> right
[11:30:35] <bluss> Marvin: these are equivalent:  let x = 1; let y = x.clone(); let x = 1; let y = x;
[11:30:40] <Marvin> It still doesn't seem right to eat 2 gigs of ram to solve a 5000x5000 maze
[11:30:55] <Layl> kagami, I'll be sure to contribute when I need something specific
[11:30:57] <eddyb> 25M cells
[11:31:00] *** Joins: erz (erz@moz-n26c5c.broadband.corbina.ru)
[11:31:07] <Layl> do be aware that I tend to pad out my SLOC with comments a lot
[11:31:14] <Layl> I love me some comments
[11:31:16] <eddyb> you'd have to store 80 bytes per cell to get to 2GB
[11:31:23] <eddyb> unless you're storing something else
[11:31:34] <bluss> Marvin: what do you want to replace the points with? If a point is two u32, a *pointer* to it is probably just as large (8 bytes)
[11:31:47] <Marvin> bluss, nevermind, just realized that fact :)
[11:32:00] *** Quits: Kingsquee (kingsley@moz-3fm07c.bchsia.telus.net) (Quit: Konversation terminated!)
[11:32:04] <Marvin> do HashMaps have a lot of overhead with millions of entries?
[11:32:05] <bluss> it seems to be a fact that some are scared of the word clone
[11:32:12] <bluss> now how do we solve that
[11:32:19] *** Joins: yuja (yuja@moz-kvchbl.so-net.ne.jp)
[11:32:52] <boblehest> mkpankov: Yeah, I'm not really interested, some sentences in that article made me facepalm.
[11:32:59] *** Quits: khades (Thunderbird@moz-ual.b31.186.31.IP) (Ping timeout: 121 seconds)
[11:33:01] <Layl> Marvin, hashmaps /should/ have pretty small overhead
[11:33:07] <Layl> CPU overhead that is
[11:33:13] <boblehest> I like reading articles criticizing Rust to see if there are some valid points, but this was mostly horseshit.
[11:33:15] <Marvin> memory overhead 
[11:33:32] <Layl> eeeh kinda depends on implementation
[11:33:49] <Layl> if you have millions of entries, I more wonder what the collision overhead will be
[11:33:52] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[11:33:57] *** Joins: Rym (y@moz-o80acm.range86-189.btcentralplus.com)
[11:34:26] <Layl> if you have millions of entries, measure anyways
[11:34:29] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[11:34:37] <Layl> it should stand out a lot if your overhead on that many is a lot
[11:34:37] <bluss> the hashmap should have pretty uniform lookup speed. You could bench it, a plot vs #entries would be cool
[11:34:42] <eddyb> Marvin: each entry is at least (u64, K, V)
[11:35:39] <Marvin> so that's 24 bytes per cell for the source map, 8 bytes for the closed list and 8 for the queue
[11:35:41] <Marvin> not that bad
[11:35:43] <bluss> Marvin: tip #1 for use of rust collections is to  use ::with_capacity() to provide an allocation size up front
[11:35:44] *** Joins: gonzaloserrano (Adium@moz-1nv.3t7.97.62.IP)
[11:36:22] <jarrednicholls> Marvin: the HashMap is going to alloc more buckets than you're actually storing, and each bucket entry takes space itself to hold the key and value
[11:36:50] <Layl> jarrednicholls, isn't that a given with HashMaps
[11:37:17] *** Quits: choplin (choplin@moz-t9j5s8.t6mc.g9m6.001a.240d.IP) (Connection closed)
[11:37:43] *** Joins: murz (murz@moz-nr2kro.wa.comcast.net)
[11:37:52] <jarrednicholls> Layl: I know I'm stating a given, but the point is that 25M 8-byte Points + HashMap buckets can reasonably get you to 2G of memory
[11:38:14] *** Joins: lokydor (lokydor@moz-2oao7t.fbx.proxad.net)
[11:39:12] <jarrednicholls> bump – Having trouble w/ recursive/repeating macro: http://is.gd/sjo70a  Anyone try to do a repeating template with pairs of tokens?
[11:39:20] *** Quits: shmoo (Mibbit@moz-lpse25.ericsson.net) (Quit: http://www.mibbit.com ajax IRC Client)
[11:39:26] <Layl> hm, of course, I guess in Rust the value in a hashmap is going to be right there in the bucket and not a pointer to somewhere
[11:39:46] *** Quits: genbattle (genbattle@moz-r09mao.xtra.co.nz) (Ping timeout: 121 seconds)
[11:39:49] *** Joins: kmcguire_ (kmcguire@moz-pg1gb9.biz.rr.com)
[11:39:49] <Layl> that would increase the size of the thing a lot
[11:39:57] *** Quits: Rym (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[11:40:23] *** Quits: saiko-chriskun (saiko-chris@moz-e9nv1h.res.rr.com) (Ping timeout: 121 seconds)
[11:40:54] *** Quits: Saser (Saser@moz-nd3gjf.edstud.chalmers.se) (Quit: ByeBye!)
[11:40:57] <jarrednicholls> well not storing a pointer and instead storing the value would actually decrease the storage requirements of each value by 8-bytes
[11:41:02] *** Joins: Saser (Saser@moz-nd3gjf.edstud.chalmers.se)
[11:41:35] <jarrednicholls> just when I thought I knew macros...they are a bit unwieldy
[11:41:45] *** Quits: murz (murz@moz-nr2kro.wa.comcast.net) (Ping timeout: 121 seconds)
[11:42:34] *** Joins: Kirth (Kirth@moz-i3o2ls.k4vt.f0b6.06a8.2001.IP)
[11:43:41] *** Quits: SerialVelocity (SerialVeloc@moz-6rhag6.ic.ac.uk) (Quit: My Mac has gone to sleep. ZZZzzz…)
[11:43:55] *** Quits: vmeson (rmacleod@moz-hs5cri.cable.teksavvy.com) (Ping timeout: 121 seconds)
[11:44:04] *** Quits: mkoskar (mkoskar@moz-d4em5e.de.colt.net) (Ping timeout: 121 seconds)
[11:45:00] *** Joins: tamird (textual@moz-gg3hct.res.rr.com)
[11:45:20] *** Quits: zcourts (zcourts@moz-rct.k2i.254.149.IP) (Client exited)
[11:47:22] <Layl> kagami: a thing about gfx_text::new(), it seems you're using a sort of thing similar to the builder pattern there
[11:47:22] *** Quits: __ixti__ (ixti@moz-21k.dae.119.188.IP) (Connection closed)
[11:47:28] *** Joins: __ixti__ (ixti@moz-21k.dae.119.188.IP)
[11:47:36] <Layl> it might be an idea to fully follow the builder pattern things related to gfx have been using
[11:47:49] *** Joins: Kynes (Kynes@moz-j2us35.mit.edu)
[11:48:24] *** Quits: bmaxa (bmaxa@moz-0r8.5a9.250.87.IP) (Quit: Leaving)
[11:48:44] <Layl> I'm not sure if there's within gfx itself an example
[11:48:48] *** Joins: zcourts (zcourts@moz-7ms809.cable.virginm.net)
[11:49:41] *** Joins: Rym (y@moz-o80acm.range86-189.btcentralplus.com)
[11:50:32] *** huon sets mode: -b *!*@*.tor-exit.network
[11:50:45] *** Joins: freefall (ff@moz-j5rng1.tor-exit.network)
[11:50:53] <huon> freefall: \o/
[11:50:53] <freefall> huon: <3
[11:51:02] *** Joins: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP)
[11:51:17] *** Quits: skade (skade@moz-u1j.1t9.225.62.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[11:51:42] *** Quits: nerdopoly (nerdopoly@moz-aqvski.range86-143.btcentralplus.com) (Quit: leaving)
[11:52:26] *** Joins: skade (skade@moz-u1j.1t9.225.62.IP)
[11:52:38] *** Joins: Guest63 (textual@moz-qfs.570.70.83.IP)
[11:53:05] *** Joins: timonv (timonv@moz-7btgcn.dynamic.ziggo.nl)
[11:53:23] *** Quits: DasIch (dasich@moz-ddrbj8.de) (Connection closed)
[11:54:01] *** Quits: acgtyrant (acgtyrant@moz-3kd.b79.160.124.IP) (Ping timeout: 121 seconds)
[11:54:22] *** Joins: wishingal (Mibbit@moz-5ag.2lo.163.122.IP)
[11:54:43] *** Quits: skade (skade@moz-u1j.1t9.225.62.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[11:55:30] *** Joins: invoker (Mibbit@moz-6u5.bfd.54.122.IP)
[11:56:25] <invoker> hello, has anyone uses this AsciiGenerator to generate a series of random string http://doc.rust-lang.org/rand/rand/struct.AsciiGenerator.html? what's the syntax?
[11:56:37] *** Joins: choplin (choplin@moz-tjnm7m.t6mc.g9m6.001a.240d.IP)
[11:56:41] <huon> invoker: use http://doc.rust-lang.org/rand/rand/trait.Rng.html#method.gen_ascii_chars
[11:56:56] <huon> it's just a type that does the actual iteration :)
[11:57:02] *** Quits: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP) (Ping timeout: 121 seconds)
[11:58:10] *** Joins: slomo (slomo@moz-p8m0g2.net)
[11:58:51] <invoker> huon: Thanks, it works :)
[12:00:30] *** Quits: __mark__ (mark@moz-udut16.dynamic.chello.pl) (Client exited)
[12:02:25] *** Joins: Wild_Cat (Max@moz-fa8mvt.dsl.teksavvy.com)
[12:03:47] *** Quits: tamird (textual@moz-gg3hct.res.rr.com) (Quit: My Mac has gone to sleep. ZZZzzz…)
[12:04:13] *** Quits: Guest22 (textual@moz-jt9juk.fibertel.com.ar) (Quit: My Mac has gone to sleep. ZZZzzz…)
[12:05:24] *** Quits: VShell (Shell@moz-hh5bpk.hackr.org.uk) (A TLS packet with unexpected length was received.)
[12:05:31] *** Joins: VShell (Shell@moz-hh5bpk.hackr.org.uk)
[12:05:39] <mitsuhiko> is there by now something nicer than this:
[12:05:40] <mitsuhiko> rv.extend(slice.iter().cloned());
[12:05:41] <mitsuhiko> ?
[12:05:47] *** Joins: griff (griff@moz-bf2.sbd.199.62.IP)
[12:05:49] <mitsuhiko> (rv being a Vec<u8>)
[12:06:06] *** Joins: qb (Mibbit@moz-avf.f6m.218.46.IP)
[12:06:52] <bluss> there's an rfc for that to be rv.extend(slice)
[12:07:11] <bluss> https://github.com/rust-lang/rfcs/pull/839 not come to conclusion yet
[12:07:55] *** Joins: dstrbad_ (dstrbad@moz-bv5ihq.dsl.iskon.hr)
[12:08:38] <kagami> Layl: yea, builder pattern, used glutin's window builder as an example ( https://tomaka.github.io/glium/glium/index.html#initialization ). Not sure if I understand what do you mean by fully following the builder pattern.
[12:09:09] *** Joins: Guest22 (textual@moz-jt9juk.fibertel.com.ar)
[12:09:35] *** Quits: dstrbad (dstrbad@moz-857.7nj.164.89.IP) (Ping timeout: 121 seconds)
[12:09:35] *** Joins: Quanttek (quassel@moz-25k96c.6fkd.dvrb.8108.2a02.IP)
[12:09:42] *** Quits: kaeluka (kaeluka@moz-onpo5m.eduroam.uu.se) (Client exited)
[12:09:44] *** Joins: dalarmmst (dalarmmst@moz-mb21j4.bredband.comhem.se)
[12:10:11] *** Joins: fengshaun (fengshaun@moz-rf0qk5.cable.teksavvy.com)
[12:10:59] *** Joins: ahal (ahal@moz-b8e0a0.cpe.pppoe.ca)
[12:11:03] <Layl> kagami, like for example how you're using it right now: gfx_text::new(&mut canvas.factory).with_size(25).with_font(FONT_PATH).unwrap();
[12:11:27] *** Quits: kngl (Adium@moz-m3a3bq.ipv4.evonet.be) (Quit: Leaving.)
[12:11:31] <Layl> how it would instead work following the way glutin does it:
[12:11:48] <Layl> gfx_text::TextBuilder::new(&mut canvas.factory).with_size(25).with_font(FONT_PATH).build().unwrap();
[12:11:52] <Layl> or something similar
[12:12:41] *** Joins: khades (Thunderbird@moz-s8b.3vk.74.212.IP)
[12:13:00] <kagami> Layl: because unwrap() is just an alias for build().unwrap()
[12:13:11] <kagami> I've just implemented method with the same name.
[12:13:23] <bluss> mitsuhiko: for Vec<u8> in particular, doesn't Write::write do the same thing as extending with a slice, by the way
[12:14:02] <jarrednicholls> Any macro masters know how to accomplish this? I'm failing hard. http://is.gd/F00Psl
[12:14:27] <jarrednicholls> https://gist.github.com/jnicholls/b6eedb3b46e11125b300
[12:14:33] <mitsuhiko> bluss: yeah, might do that
[12:15:03] <mitsuhiko> but the useless .unwrap() makes it look terrible too
[12:15:21] <Layl> kagami, but why?
[12:15:37] *** Joins: acgtyrant (acgtyrant@moz-3kd.b79.160.124.IP)
[12:15:40] <simukis> do we have a type for owned byte arrays
[12:16:00] <kagami> Layl: don't know \ :3 / Just to be able to write more beatiful example.
[12:16:17] <Layl> for me, it made me not immediately realize it was a builder pattern
[12:16:40] <Layl> because at no point is it mentioned that it's a builder, and unwrap generally means "check the function I just ran"
[12:16:41] *** Quits: turtil (turtil@moz-98pgrn.orcon.net.nz) (Ping timeout: 121 seconds)
[12:17:01] <kagami> Yea, probably it's not so obvious. Fixed example in readme, btw.
[12:17:02] *** Joins: mib_q1rxd3 (Mibbit@moz-bid.6jo.206.122.IP)
[12:17:07] *** Joins: Porkepix (Porkepix@moz-q59.m4a.208.91.IP)
[12:17:25] <Layl> could I suggest renaming "new" to "new_builder" for clarity?
[12:17:34] <bluss> mitsuhiko: hehe. well.. you can .ok() it instead.
[12:17:38] <mib_q1rxd3> ?
[12:18:08] <kagami> Layl: too verbose IMO.
[12:18:14] *** Quits: mib_q1rxd3 (Mibbit@moz-bid.6jo.206.122.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[12:18:16] <simukis> lol, its Vec 😃 I probably should not write any code today
[12:18:33] *** Joins: Porkepix_ (Porkepix@moz-6v7.qtj.138.157.IP)
[12:18:43] <bluss> simukis: wow hehe
[12:18:49] <kagami> Layl: what about gfx_text::RendererBuilder::new ?
[12:19:04] <mitsuhiko> I really wish postfix ? and ! would become a thing
[12:19:08] <mitsuhiko> where ! does unwrap and ? does try!
[12:19:15] <Layl> kagami: hm, that would make it much clearer what you're building as well
[12:19:42] *** Joins: vmx_ (vmx@moz-q33mlr.dip0.t-ipconnect.de)
[12:19:46] <Layl> it's even more verbose though ;) but it does follow the same pattern as glutin uses
[12:20:03] <Layl> and what I've generally seen being used most
[12:20:08] *** Quits: vmx (vmx@moz-3m7oc1.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[12:20:44] <jpg> mitsuhiko: That would be cool, though having unwrap() ugly is kinda nice in a way because it makes it easier to spot.
[12:20:59] <mitsuhiko> jpg: the problem with unwrap() is that it destroys the error info
[12:21:01] <mitsuhiko> as there is none
[12:21:09] <mitsuhiko> ideally ! would provide a bit
[12:21:19] <saati> did rust ever have headers in the past or am i remembering something else?
[12:21:22] *** Joins: jnicklas (jonasnickla@moz-0ou5lc.bredband.comhem.se)
[12:21:26] <mitsuhiko> no headers
[12:21:40] <jpg> It’s never had a pre-processor afaik.
[12:21:42] *** Quits: Porkepix (Porkepix@moz-q59.m4a.208.91.IP) (Ping timeout: 121 seconds)
[12:21:47] <bluss> saati: it did have .rc files for crate files. not really headers
[12:22:05] *** Quits: invoker (Mibbit@moz-6u5.bfd.54.122.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[12:22:12] <jarrednicholls> oof, .rc must have been a pain on windows
[12:22:35] *** Joins: shahn (Sebastian@moz-pcm.9vk.46.78.IP)
[12:22:49] *** Joins: kalloc (root@moz-oqv.mdd.223.89.IP)
[12:22:58] <Layl> I'm kinda surprised not more people are using git flow
[12:23:01] <Layl> in the rust world I mean
[12:23:13] <Layl> because I would think it fits perfectly with the way cargo handles git repos
[12:23:15] <mitsuhiko> most people don't like git flow
[12:23:22] <Layl> why not
[12:23:33] <mitsuhiko> because it's too complex
[12:24:07] <jnicklas> In a lot of discussions about coherence and specialization it’s mentioned that implementing a trait should be forwards compatible. That is upstream crates should be able to implement a new trait without this breaking downstream crates. Isn’t this kind of chasing a pipe dream? We cannot ever have perfect forward compatibility. Sometimes breaking backwards compatibility is a necessity, so why should trait implementation be any different?
[12:24:11] <Layl> hm, I can understand that initially but it's pretty easy to learn if you've got a bit of git experience
[12:24:16] *** Joins: mkoskar (mkoskar@moz-h1o.l6v.183.46.IP)
[12:24:52] <Layl> a thing is though is that it would fit really well with the way cargo works, you can have the latest stable from master, or if you want the latest nightly of a lib, get it from develop
[12:25:19] *** Quits: mindtree (Mitch@moz-fog.g9r.240.116.IP) (Ping timeout: 121 seconds)
[12:25:23] *** Quits: GBGamer (GBGamer@moz-92sbjt.wa.comcast.net) (Ping timeout: 121 seconds)
[12:25:38] <jpg> Layl: If you are just talking about branch naming convention that’s one thing, when people say git-flow they generally imply buying into more stuff than just branch names.
[12:26:10] <Layl> such as what for example?
[12:26:12] *** Joins: mib_wjx944 (Mibbit@moz-nc0.qtm.104.223.IP)
[12:27:14] <kagami> Layl: pushed. Thanks for suggestions.
[12:27:25] <Layl> kagami: thanks for listening to my suggestions
[12:27:27] *** Joins: iu (iu@moz-6263qv.cc.cmu.edu)
[12:27:45] <Layl> kagami: is there a way to get a size estimate of a text when adding it to be batched up for rendering?
[12:27:47] *** Joins: kgrandon (Adium@moz-4bb5cu.nemh.1887.0450.2001.IP)
[12:28:06] <Layl> I'm working with a system that uses text size to determine layouts
[12:28:19] <Layl> so it's important to know the size of a text while things are being drawn on the screen
[12:28:56] *** Joins: jjthrash (jjthrash@moz-gsigbq.res.rr.com)
[12:29:06] <mkpankov> Layl: are you rewriting TeX? :P
[12:29:36] <Layl> mkpankov, nope, I'm just rewriting Servo :P
[12:30:00] <Layl> just joking of course, it's more like Unity's old Layout based UIs
[12:30:19] <Layl> because I love those
[12:30:27] <iu> Hi! If a function takes &MyVector<f64> and Deref is implemented for MyVector<f64>, how do I get &[f64] inside the function?
[12:30:37] <kagami> Layl: there is no such functionality in API currently but all information about char sizes is known, so it's possible to do.
[12:31:03] <Layl> kagami: what about word wrapping, is that currently handled?
[12:31:08] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[12:31:13] <iu> Should I implement as_slice?
[12:31:13] *** Joins: logan_e (logan_e@moz-ltn.qg3.218.73.IP)
[12:31:15] *** Quits: Ilari (user@moz-0c06o6.elisa-laajakaista.fi) (Ping timeout: 121 seconds)
[12:31:23] <Layl> I can put in a placeholder right now where text sizes have to be specified explicitly
[12:31:31] *** Quits: mib_wjx944 (Mibbit@moz-nc0.qtm.104.223.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[12:31:55] *** Joins: kamilc__ (kamil@moz-sh222i.play-internet.pl)
[12:32:07] <kagami> Layl: no. I think that would be not so easy to implement.
[12:32:13] *** Joins: skade (skade@moz-u1j.1t9.225.62.IP)
[12:32:14] *** Quits: mkoskar (mkoskar@moz-h1o.l6v.183.46.IP) (Ping timeout: 121 seconds)
[12:32:25] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[12:32:38] <jarrednicholls> everyone's dodging my macro issue :D
[12:32:40] <Layl> kagami: I think it would be not THAT hard if you're familiar with writing tokenizers
[12:32:49] <jarrednicholls> sore subject
[12:33:09] <Layl> the concept behind word wrapping is very similar to that of writing a tokenizer
[12:33:18] *** Joins: Ilari (user@moz-cb3c4u.elisa-laajakaista.fi)
[12:33:22] *** Joins: mindtree (Mitch@moz-fog.g9r.240.116.IP)
[12:33:32] *** Joins: badboy (badboy_@moz-r416mt.rediger.net)
[12:34:15] *** Quits: Porkepix_ (Porkepix@moz-6v7.qtj.138.157.IP) (Quit: My laptop has gone to sleep. ZZZzzz…)
[12:34:30] *** Joins: jzerebecki (jan@moz-fg6pbg.zerebecki.de)
[12:35:03] <Layl> I really need to overhaul phosphorus' rendering when I get to it
[12:35:11] *** Quits: steshaw (uid30841@moz-eom82r.uxbridge.irccloud.com) (Quit: Connection closed for inactivity)
[12:35:15] *** Quits: vks (quassel@moz-b54qc9.fias.uni-frankfurt.de) (Ping timeout: 121 seconds)
[12:35:15] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[12:35:19] <Layl> It should use a more browser-like render to texture system
[12:35:31] <Layl> right now I'm doing some weird delayed rendering system
[12:36:17] *** Quits: wishingal (Mibbit@moz-5ag.2lo.163.122.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[12:36:26] *** Quits: frankmcsherry (frankmcsher@moz-jna.j5l.19.178.IP) (Ping timeout: 121 seconds)
[12:37:08] *** Joins: lyc (lyc@moz-2pd.uqu.186.118.IP)
[12:37:24] *** Quits: logan_e (logan_e@moz-ltn.qg3.218.73.IP) (Client exited)
[12:37:58] *** Quits: yati (yati@moz-phu.79g.169.122.IP) (Quit: Leaving)
[12:38:01] <huon> jarrednicholls: the recursion doesn't reduce?
[12:38:24] <huon> jarrednicholls: that is, you're feeding exactly the same argument into the recursive call, so it is infinite recursion
[12:38:27] <jarrednicholls> huon: I get <anon>:6:9: 6:46 error: recursion limit reached while expanding the macro `recurse`
[12:38:30] *** Joins: pgonda (peter@moz-s36.0tp.134.75.IP)
[12:38:31] *** Quits: jnicklas (jonasnickla@moz-0ou5lc.bredband.comhem.se) (Client exited)
[12:38:34] <jarrednicholls> right
[12:39:05] <jarrednicholls> huon: I don't know how to reduce the layers properly...in most other cases and examples I've seen, it's done how I am doing it and the layers are peeled off properly
[12:40:19] <jarrednicholls> I am doing a repeat of a pair of arguments, and all the examples I've seen it's only done with a single argument
[12:40:26] <huon> jarrednicholls: http://is.gd/e6tFuZ
[12:40:47] <jarrednicholls> oh ok, that makes way more sense
[12:41:01] <huon> jarrednicholls: i.e. you need to match the head of the repetition separately
[12:41:05] <jarrednicholls> huon: you rock thank you
[12:41:10] <jarrednicholls> that makes total sense
[12:41:28] <jarrednicholls> I need more coffee
[12:41:29] <jarrednicholls> :D
[12:41:51] *** Quits: lyc (lyc@moz-2pd.uqu.186.118.IP) (Ping timeout: 121 seconds)
[12:42:14] *** Joins: lyc (lyc@moz-jft.nr8.226.207.IP)
[12:42:32] *** Quits: acamda (adam@moz-1af19r.iinet.net.au) (Ping timeout: 121 seconds)
[12:42:43] *** Quits: mindtree (Mitch@moz-fog.g9r.240.116.IP) (Ping timeout: 121 seconds)
[12:43:28] *** Joins: acamda (adam@moz-1af19r.iinet.net.au)
[12:43:59] *** Quits: Raven67854 (Raven67854@moz-8fl3ql.unassigned.ntelos.net) (Ping timeout: 121 seconds)
[12:44:08] *** Quits: alonlevy (alon@moz-ofv.tgc.142.37.IP) (Ping timeout: 121 seconds)
[12:44:32] *** Joins: vmeson (rmacleod@moz-hq5.1km.224.128.IP)
[12:44:52] <kagami> Layl: I considered it a bit and yea: in simple case it's not so hard. Say, we have square rectangle to put the text into and some text. We just split the words by spaces/break characters and put them on the same line while it fits. Though my main priority is outlined text, that was the main reason to implement this lib.
[12:44:57] *** Joins: mahdi (mahdi@moz-ehn.506.244.151.IP)
[12:45:00] *** Joins: matthewhill (matthewhill@moz-dsb.n37.205.137.IP)
[12:45:00] *** Quits: matthewhill (matthewhill@moz-dsb.n37.205.137.IP) (A TLS packet with unexpected length was received.)
[12:45:43] <Layl> kagami, can I put something else than a canvas into draw?
[12:45:54] <Layl> sorry to change the subject away from word wrapping but this is more a direct issue for me right now
[12:45:56] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[12:46:09] <Layl> *into draw_end
[12:46:16] *** Joins: aisrael (aisrael@moz-f6q.anf.108.114.IP)
[12:47:14] <Layl> kagami: actually what you want for this is Stream, it was introduced into gfx recently https://github.com/gfx-rs/gfx-rs/pull/702
[12:47:31] <Layl> I'm not sure if you're already using this or not
[12:47:32] *** Joins: Raven67854 (Raven67854@moz-8fl3ql.unassigned.ntelos.net)
[12:48:00] *** Joins: frankmcsherry (frankmcsher@moz-jna.j5l.19.178.IP)
[12:48:02] *** Joins: joel1 (joel@moz-6ampnk.gtri.gatech.edu)
[12:48:32] *** Quits: erz (erz@moz-n26c5c.broadband.corbina.ru) (Quit: My Mac has gone to sleep. ZZZzzz…)
[12:48:46] *** Joins: relicanth (Mibbit@moz-ugr.6na.189.18.IP)
[12:48:58] <kagami> Layl: there is issue for that: https://github.com/PistonDevelopers/gfx_text/issues/4
[12:49:01] <Layl> kagami, I think you can just put in Stream instead of Canvas and nothing will break
[12:49:05] *** Quits: fabiand (fabiand@moz-rsvbmo.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[12:49:08] <Layl> because Canvas implements Stream
[12:49:08] *** Joins: kaeluka (kaeluka@moz-onpo5m.eduroam.uu.se)
[12:49:22] <kagami> Layl: factory is also needed in draw_end
[12:49:33] <Layl> isn't factory part of Stream?
[12:49:41] *** Quits: tristanseifert (tristanseif@moz-r0t7ns.res.rr.com) (Ping timeout: 121 seconds)
[12:49:42] <Layl> the purpose of Stream is to have anything at all needed to render
[12:49:44] <relicanth> Hey, is there an easy way to turn a [char; 2] into a string?
[12:49:56] <Layl> the problem with Canvas is that it NEEDS to be a window's back buffer
[12:49:59] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Ping timeout: 121 seconds)
[12:50:08] <FreeFull> relicanth: Strings are stored as utf8, while char is represented by a 32-bit integer
[12:50:10] <Layl> rather than any arbitrary render target
[12:50:36] <kagami> Layl: part of Canvas struct. But Stream trait doesn't have it.
[12:50:56] <FreeFull> relicanth: The best thing to do is probably to create a new, empty String and use the .extend(...) method
[12:51:22] <Layl> kagami, hm, I see, then factory would have to be passed along to draw_end
[12:51:41] <Layl> so you would end up with: text.draw_end(&stream, &factory);
[12:51:42] <relicanth> FreeFull: ok, that seems reasonable. 2 characters is pretty small n for O(n)
[12:51:52] <relicanth> unless there's some way to restrict a string to 2 characters
[12:51:56] <FreeFull> relicanth: Or .push(...) twice since it's only two chars
[12:52:05] *** Quits: jophish (jophish@moz-epocft.broadband.tesco.net) (Connection closed)
[12:52:07] *** Joins: jophish (jophish@moz-epocft.broadband.tesco.net)
[12:52:31] <aisrael> hi, #rust folks. would anyone here know of any way to install rust unattended? i want to write an automated provisioning script (Ansible) to install rust for my dev box
[12:52:39] *** Quits: aisrael (aisrael@moz-f6q.anf.108.114.IP) (Client exited)
[12:52:46] <relicanth> FreeFull: yeah, I saw push, jw if there was a way to do it with one line :)
[12:52:52] *** Joins: aisrael (aisrael@moz-f6q.anf.108.114.IP)
[12:53:07] <kagami> Layl: yes, I think I'll make it like that. At first I was tried to provide just get_batch() but there is problems with borrow checking (see discussion).
[12:53:16] <Layl> mhm I saw
[12:53:33] <FreeFull> playbot: let foo = ['a', 'b']; foo.iter().cloned().collect::<String>()
[12:53:35] -playbot- "ab"
[12:53:43] <FreeFull> relicanth: Like that?
[12:53:43] <Layl> this is right now a blocking for phosphorus because I simply can't push a canvas through the render stack
[12:53:52] <mkpankov> strange
[12:54:02] <Layl> since phosphorus has to render to any arbitrary target
[12:54:06] <Layl> is there a workaround for now?
[12:54:10] <relicanth> FreeFull: that looks pretty reasonable too
[12:54:17] <mkpankov> why from_utf8 accepts Vec<u8> rather than &[u8]? http://doc.rust-lang.org/1.0.0-beta.5/collections/string/struct.String.html#method.from_utf8
[12:54:26] <FreeFull> Let's see if it will work without the cloned
[12:54:29] <relicanth> tbh honest I just want a quick hack to use replace for right now, I'm going to do it by hand later anyways
[12:54:30] <FreeFull> playbot: let foo = ['a', 'b']; foo.iter()..collect::<String>()
[12:54:31] -playbot- <anon>:9:43: 9:60 error: unresolved name `collect`
[12:54:32] -playbot- <anon>:9         let foo = ['a', 'b']; foo.iter()..collect::<String>()
[12:54:32] -playbot- output truncated; full output at: http://bit.ly/1FdVymU
[12:54:34] <FreeFull> playbot: let foo = ['a', 'b']; foo.iter().collect::<String>()
[12:54:36] -playbot- <anon>:9:42: 9:61 error: the trait `core::iter::FromIterator<&char>` is not implemented for the type `collections::string::String` [E0277]
[12:54:36] -playbot- <anon>:9         let foo = ['a', 'b']; foo.iter().collect::<String>()
[12:54:36] -playbot- output truncated; full output at: http://bit.ly/1EBZ6eI
[12:54:39] <FreeFull> Nope
[12:54:52] <relicanth> Worthy a try :)
[12:55:37] *** Quits: iu (iu@moz-6263qv.cc.cmu.edu) (Quit: )
[12:55:38] <relicanth> FreeFull: The last one is shortest by number of lines so I'll use that for now. Thanks for the help!
[12:55:58] <mkpankov> ah, because it wants to translate it in-place
[12:56:31] <mitsuhiko> mkpankov: because it processes it in place
[12:56:54] <Layl> kagami: thanks a lot for the work on this library, this should really help get stuff rolling with my project
[12:57:04] *** Quits: panicbit (panicbit@moz-r4ks4s.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[12:57:33] <FreeFull> relicanth: It is possible to make something faster that also avoids heap allocation, but it'd require an unsafe block
[12:57:53] *** Quits: mahdi (mahdi@moz-ehn.506.244.151.IP) (Ping timeout: 121 seconds)
[12:58:09] <FreeFull> I'm guessing you aren't that pressed for speed that this will be necessary though
[12:58:11] *** Joins: mnemnion (mnemnion@moz-kf3boi.ca.comcast.net)
[12:58:12] *** Joins: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP)
[12:58:19] <relicanth> FreeFull: I just need something quick to feed into replace for now, and it's 2 characters so I don't mind the allocations
[12:58:42] <relicanth> FreeFull: I am going to do the replacing by hand later so I don't need to call replace a bunch of times in a row
[12:58:48] <FreeFull> Ok
[12:59:19] *** Joins: kent (kent@moz-nd2iqs.fl.atlanticbb.net)
[12:59:48] *** Quits: acamda (adam@moz-1af19r.iinet.net.au) (Quit: leaving)
[13:01:11] *** Joins: fabiand (fabiand@moz-682dbr.dip0.t-ipconnect.de)
[13:01:50] *** Quits: Jesse (jruderman@moz-pqc1f5.ca.comcast.net) (Client exited)
[13:02:58] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[13:02:58] *** ChanServ sets mode: +o erickt
[13:03:22] *** Quits: anders (andars@moz-bsldst.sntcca.sbcglobal.net) (Ping timeout: 121 seconds)
[13:03:26] *** Quits: kent (kent@moz-nd2iqs.fl.atlanticbb.net) (Ping timeout: 121 seconds)
[13:04:16] <jarrednicholls> ah bummer
[13:04:29] <jarrednicholls> macro expansions do not understand their surrounding scope?
[13:04:37] <Manishearth> jarrednicholls: nope
[13:04:54] <Manishearth> jarrednicholls: even syntax extensions cannot move up the AST
[13:05:13] <jarrednicholls> Manishearth: roger that, thanks.
[13:06:54] *** Quits: Guest22 (textual@moz-jt9juk.fibertel.com.ar) (Quit: My Mac has gone to sleep. ZZZzzz…)
[13:07:00] *** Joins: iiixtiii (ixti@moz-21k.dae.119.188.IP)
[13:07:20] *** Quits: pgonda (peter@moz-s36.0tp.134.75.IP) (Ping timeout: 121 seconds)
[13:07:24] *** Joins: kngl (Adium@moz-m3a3bq.ipv4.evonet.be)
[13:07:38] *** Joins: pgonda (peter@moz-s36.0tp.134.75.IP)
[13:07:43] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[13:09:46] *** Quits: __ixti__ (ixti@moz-21k.dae.119.188.IP) (Ping timeout: 121 seconds)
[13:09:48] *** Joins: ptalbot (ptalbot@moz-g2mokk.ircam.fr)
[13:10:15] *** Joins: wei2912 (wei2912@moz-per.prp.156.175.IP)
[13:10:30] <Layl> kagami: thanks for the help so far, I'm gonna take a break from work and later check back, I subscribed to the issue
[13:10:44] *** Joins: jnicklas (jonasnickla@moz-d2599v.business.telia.com)
[13:11:03] *** Joins: mindtree (Mitch@moz-fog.g9r.240.116.IP)
[13:11:29] *** Quits: Layl (Mibbit@moz-iachg4.sdb.prolocation.net) (Quit: http://www.mibbit.com ajax IRC Client)
[13:12:39] <mitsuhiko> Manishearth: i consider that a feature :P
[13:12:44] *** Quits: nercury (nercury@moz-fbs.e0f.20.5.IP) (Client exited)
[13:15:25] *** Joins: Amun-Ra (Amun-Ra@moz-g7lqr7.ujk.edu.pl)
[13:15:27] <Amun-Ra> hi
[13:15:34] *** Joins: fabianvf (fabianvf@moz-j12.dim.197.216.IP)
[13:15:44] *** Quits: slomo (slomo@moz-p8m0g2.net) (Ping timeout: 121 seconds)
[13:16:06] *** Quits: vmeson (rmacleod@moz-hq5.1km.224.128.IP) (Quit: Konversation terminated!)
[13:16:17] *** Joins: alonlevy (alon@moz-p48.q13.159.94.IP)
[13:16:53] *** Joins: tkellen (tkellen@moz-f5ji1n.vt.comcast.net)
[13:16:53] *** Joins: erz (erz@moz-n26c5c.broadband.corbina.ru)
[13:16:54] *** Joins: slomo (slomo@moz-p8m0g2.net)
[13:19:16] *** Joins: vmx__ (vmx@moz-ksliek.dip0.t-ipconnect.de)
[13:19:18] *** Quits: yuja (yuja@moz-kvchbl.so-net.ne.jp) (Ping timeout: 121 seconds)
[13:21:42] *** Quits: vmx_ (vmx@moz-q33mlr.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[13:22:45] *** Joins: vmx_ (vmx@moz-l9i44m.dip0.t-ipconnect.de)
[13:22:59] *** Quits: qwerty_nor (Thunderbird@moz-vuo.d5a.248.5.IP) (Client exited)
[13:23:36] *** Quits: vmx__ (vmx@moz-ksliek.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[13:26:06] *** Quits: pgonda (peter@moz-s36.0tp.134.75.IP) (Ping timeout: 121 seconds)
[13:26:16] *** Quits: jophish (jophish@moz-epocft.broadband.tesco.net) (Connection closed)
[13:26:34] *** Joins: murz (murz@moz-nr2kro.wa.comcast.net)
[13:27:11] *** Joins: vmeson (rmacleod@moz-hq5.1km.224.128.IP)
[13:27:52] *** Joins: qwerty_nor (Thunderbird@moz-vuo.d5a.248.5.IP)
[13:28:26] *** Quits: jgallagher (john@moz-6ge.dhn.131.24.IP) (Client exited)
[13:30:35] *** Quits: vmx_ (vmx@moz-l9i44m.dip0.t-ipconnect.de) (Quit: Leaving)
[13:30:36] *** Quits: murz (murz@moz-nr2kro.wa.comcast.net) (Ping timeout: 121 seconds)
[13:31:07] *** Quits: SneakySnake (nya@moz-i9is4u.pool.telekom.hu) (Quit: Leaving)
[13:31:34] *** Quits: Wild_Cat (Max@moz-fa8mvt.dsl.teksavvy.com) (Connection closed)
[13:31:36] *** Quits: jnicklas (jonasnickla@moz-d2599v.business.telia.com) (Client exited)
[13:31:49] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[13:32:06] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[13:32:59] *** Joins: yuja (yuja@moz-kqflcs.so-net.ne.jp)
[13:33:36] <aisrael> Ahah! (Sorry I disconnected). Figured it out: sh rustup.sh -y —channel=nightly
[13:33:41] *** Joins: nercury (nercury@moz-fbs.e0f.20.5.IP)
[13:33:59] *** Joins: Guest22 (textual@moz-jt9juk.fibertel.com.ar)
[13:34:38] *** Quits: mindtree (Mitch@moz-fog.g9r.240.116.IP) (Ping timeout: 121 seconds)
[13:34:52] *** Quits: andresv (textual@moz-m48tte.sta.estpak.ee) (Quit: My Mac has gone to sleep. ZZZzzz…)
[13:35:13] *** Joins: jyeo (uid12229@moz-hv3ndn.charlton.irccloud.com)
[13:35:22] *** Joins: jnicklas (jonasnickla@moz-d2599v.business.telia.com)
[13:35:57] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[13:36:19] <jyeo> hmmm, i am trying to some simple arithmetic in a pattern but i can't get it to work
[13:36:24] <jyeo> my code is here: http://is.gd/aWn6eX
[13:36:30] <jyeo> am i doing something wrong here?
[13:36:45] *** Joins: mindtree (Mitch@moz-fog.g9r.240.116.IP)
[13:36:59] <Mutabah> jyeo: patterns are not expressions
[13:36:59] *** Quits: eholk (eric@moz-ecefu4.vva3.dsk6.000f.2601.IP) (Quit: Konversation terminated!)
[13:37:06] *** Quits: popow (Thunderbird@moz-03f.kd0.252.223.IP) (Client exited)
[13:37:11] <jyeo> :-/
[13:37:36] <jyeo> so rust doesn't evaluate the expressions into patterns?
[13:37:38] *** Joins: aodi (Mibbit@moz-bev7ua.corp.bahnhof.se)
[13:37:44] <Mutabah> No
[13:37:56] <bluss> nope you can't pattern match to match variables either
[13:37:58] <Mutabah> Patterns must be compile-time known
[13:38:02] *** Joins: grantdefayette (grantdefaye@moz-c2phg3.ct.charter.com)
[13:38:07] *** Quits: alonlevy (alon@moz-p48.q13.159.94.IP) (Ping timeout: 121 seconds)
[13:38:14] <Mutabah> (that does mean that 'const' items are valid within patterns)
[13:38:33] <ChrisMorgan> jyeo: patterns are the opposite of expressions.
[13:39:07] <aodi> Is there a 1.0-compatible crate somewhere for selection over channels? (std::sync::mpsc::Select)
[13:39:08] *** Joins: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP)
[13:39:54] *** Quits: aisrael (aisrael@moz-f6q.anf.108.114.IP) (Client exited)
[13:40:46] <mkpankov> jyeo: this seems as missed opportunity for constant propagation, again
[13:41:41] *** Quits: Rym (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[13:41:42] *** Joins: Gamecubic (cubic@moz-bglmk5.mc.videotron.ca)
[13:42:02] <jyeo> okay...
[13:42:20] <jyeo> what about guards? are there guards in rust when doing pattern matching?
[13:42:21] *** Joins: pgonda (peter@moz-s36.0tp.134.75.IP)
[13:42:25] <jyeo> like in ocaml
[13:42:26] <mkpankov> jyeo: yes
[13:42:58] <jyeo> oh right. found it
[13:43:00] <jyeo> thanks!
[13:43:00] <mbrubeck> aodi: https://github.com/csherratt/pulse is similar but doesn't actually use channels...
[13:43:01] *** Quits: relicanth (Mibbit@moz-ugr.6na.189.18.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[13:43:19] <mkpankov> jyeo: speaking of that constant propagation stuff, this might get improved in future
[13:43:20] <mbrubeck> aodi: It might be possible to just copy mpsc::select into an external crate, too.
[13:43:25] *** Joins: nicoch (nicoch@moz-g02d7k.be)
[13:43:28] <mbrubeck> (if it doesn't rely on other unstable features)
[13:43:33] *** Joins: tomprogrammer (thomas@moz-0lvdml.tr5r.qept.4dd0.2001.IP)
[13:43:49] *** Joins: Kirth_ (Kirth@moz-4fe.7rj.191.193.IP)
[13:44:17] *** Quits: Guest22 (textual@moz-jt9juk.fibertel.com.ar) (Quit: My Mac has gone to sleep. ZZZzzz…)
[13:44:42] *** Quits: shellac (pldms@moz-c7026f.bris.ac.uk) (Quit: Ex-Chat)
[13:44:50] *** Joins: shellac (pldms@moz-c7026f.bris.ac.uk)
[13:45:08] *** Quits: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP) (Ping timeout: 121 seconds)
[13:46:24] *** Quits: Kirth (Kirth@moz-i3o2ls.k4vt.f0b6.06a8.2001.IP) (Ping timeout: 121 seconds)
[13:46:27] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[13:46:38] *** Joins: quxer (quxer@moz-nc0.qtm.104.223.IP)
[13:48:37] *** Quits: pgonda (peter@moz-s36.0tp.134.75.IP) (Ping timeout: 121 seconds)
[13:49:05] <aodi> Is it likely that I'm doing something wrong if I feel the need to use mpsc::Select? I mean out of all unstable stuff I allow for now, that's the one I feel I can't do without. And I'm not even doing something highly concurrent. Is there an easy way around using it? If no, surely many more people would have "demanded" this to be supported for 1.0
[13:49:19] *** Quits: griff (griff@moz-bf2.sbd.199.62.IP) (Client exited)
[13:49:35] *** Parts: quxer (quxer@moz-nc0.qtm.104.223.IP) ()
[13:49:59] *** Joins: nodweber_ (nodweber@moz-knt.fgq.178.5.IP)
[13:50:29] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Connection closed)
[13:50:32] *** Joins: logan_e (logan_e@moz-mpr4r7.lsrhs.net)
[13:51:23] *** Quits: dstrbad_ (dstrbad@moz-bv5ihq.dsl.iskon.hr) (A TLS packet with unexpected length was received.)
[13:51:33] <FreeFull> aodi: Is it something the select! macro won't work for, them?
[13:51:35] <FreeFull> then*
[13:52:09] <aodi> FreeFull: The select! macro uses mpsc::Select.
[13:52:21] <aodi> It's the macro I'm using.
[13:53:12] <FreeFull> Ah, and the macro itself doesn't work with stable either?
[13:53:19] *** Joins: maximilian (Mibbit@moz-gmar0j.ethz.ch)
[13:53:43] <FreeFull> Yeah, that's a problem
[13:55:02] <aodi> Indeed. And I feel it should be a major blocker, not just for my own sake ie. "we all have our pet features." Rather, it seems (to me, probably I'm wrong then) that it's something many people would think is important.
[13:55:03] *** Quits: logan_e (logan_e@moz-mpr4r7.lsrhs.net) (Client exited)
[13:56:03] <simias> select is a bit of a missnomer anyway isn't it?
[13:56:12] <simias> at first I expected a POSIX-like select
[13:56:21] <simias> but it's quite different
[13:56:50] *** Joins: vmx (vmx@moz-ga9kub.pools.vodafone-ip.de)
[13:58:09] *** Joins: vks (quassel@moz-b54qc9.fias.uni-frankfurt.de)
[13:58:13] *** Quits: munksgaard (munksgaard@moz-1i4.hq0.225.130.IP) (Ping timeout: 121 seconds)
[13:58:23] *** Joins: d_rezzer (chatzilla@moz-t0fmuj.hfc.comcastbusiness.net)
[13:58:45] <FreeFull> simias: Yeah, it'd be nice if it worked with file descriptors too
[13:58:52] *** Joins: jtdowney (jtdowney@moz-gh1isj.static.twtelecom.net)
[13:59:06] *** Quits: maximilian (Mibbit@moz-gmar0j.ethz.ch) (Quit: http://www.mibbit.com ajax IRC Client)
[13:59:26] <FreeFull> Right now there is no way to select on both stdin and a tcp socket without spinning up threads or calling into libc directly
[13:59:39] <FreeFull> Or the Windows equivalent
[13:59:45] *** Quits: kgrandon (Adium@moz-4bb5cu.nemh.1887.0450.2001.IP) (Quit: Leaving.)
[13:59:59] <aepsil0n> is there a good reason, why static functions and environment-less closures are not Clone?
[14:00:22] *** Joins: dstrbad (dstrbad@moz-756bkd.cable.xnet.hr)
[14:00:29] *** Joins: winding-lines (textual@moz-g7k4j8.ca.comcast.net)
[14:00:39] *** Joins: Admin (Admin@moz-0pbl66.static.zebra.lt)
[14:01:01] <simias> aepsil0n: that's a good question, I stumbled upon that a few days ago
[14:01:02] *** Joins: jgallagher (john@moz-d5e8oc.hfc.comcastbusiness.net)
[14:01:17] *** Admin is now known as lyra2
[14:01:35] <aepsil0n> even `move || ...` closures could be clone if their entire environment is…
[14:01:47] <aepsil0n> maybe one should make an RFC for this
[14:02:01] <simias> well I could see why they wouldn't bother special-casing closures
[14:02:14] <simias> but for simple functions it doesn't make sense to me
[14:02:14] <bluss> Cloning closures would be very useful
[14:02:32] *** Joins: housl (housl@moz-qnjt4k.ut.comcast.net)
[14:02:33] *** Quits: winding-lines (textual@moz-g7k4j8.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[14:02:38] <bluss> simias: we actually have an ICE because simple functions don't impl Clone
[14:02:48] <bluss> so they must, eventually :)
[14:02:52] <simias> yeah, I mean that I could understand how it might have been ignored for closures
[14:03:05] *** Joins: terpstra (terpstra@moz-290p6a.gsi.de)
[14:03:07] <FreeFull> IMO we shouldn't have any cases where something is Copy but not Clone
[14:03:27] <simias> FreeFull: yeah that doesn't make sense to me either
[14:03:56] <simias> especially since you just end up writing your own Clone implementation which copies the functions around
[14:03:57] <aepsil0n> FreeFull: are only functions Copy? or also some closures?
[14:04:26] <bluss> http://is.gd/nDMBM7 <- function item (not fn pointer) without .clone()
[14:04:32] *** Joins: Rym (y@moz-o80acm.range86-189.btcentralplus.com)
[14:05:07] <FreeFull> aepsil0n: I don't think there are Copy closures
[14:05:43] <FreeFull> I think that ICE occurs because Copy has a Clone bound, but there are built-in types that are Copy but not Clone
[14:06:48] <simias> yeah it looks like some rustc code assumes that Copy implies Clone
[14:06:55] <simias> which again sounds reasonable
[14:07:22] <bluss> it's from the definition of Copy in libcore
[14:07:35] <FreeFull> Copy used to not imply Clone
[14:07:47] <FreeFull> Changing over is causing these issues
[14:08:02] <bluss> it makes sense in the long run
[14:08:42] <FreeFull> Yes, it's just some non-user-defined types that are broken
[14:09:08] <simias> there's quite some noise on many (most?) of my structs now though
[14:09:20] *** Quits: fengshaun (fengshaun@moz-rf0qk5.cable.teksavvy.com) (Quit: bye bye!)
[14:09:26] <simias> I thought make an emacs binding to insert #[derive(Clone,Copy,PartialEq,Eq)]
[14:09:37] <FreeFull> simias: Probably add Debug to that too
[14:09:52] <simias> well, on enums in particular
[14:09:58] <simias> FreeFull: yeah that too
[14:10:10] <simias> although I try not to use Debug too much because I'm still blurry on its semantics
[14:10:27] <simias> especially with pcwalton's proposal to remove Debug code in release builds
[14:10:48] <simias> on the other hand since there's no Display anymore it's not like we really have an alternative
[14:10:49] *** Joins: gonzaloserrano1 (Adium@moz-1nv.3t7.97.62.IP)
[14:10:49] *** Joins: qdbhg (qdbhg@moz-nc0.qtm.104.223.IP)
[14:10:58] <VShell> there's no Display?
[14:11:14] <simias> VShell: there wasn't last time I needed it
[14:11:21] <simias> it had been removed I think
[14:11:26] <Mutabah> simias: ... Display? on what?
[14:11:30] <Mutabah> simias: Oh, on derive
[14:11:33] <simias> yes
[14:11:40] <simias> previously "String"
[14:11:44] *** Quits: gonzaloserrano (Adium@moz-1nv.3t7.97.62.IP) (Connection closed)
[14:12:10] <simias> so if you want to pretty-print an enum in production code you have to use Debug or reinvent the wheel
[14:12:14] <simias> which is a bit annoying IMO
[14:12:22] <simias> since it carries the wrong semantics
[14:12:25] <VShell> oh, right, no derive for Display.
[14:12:40] <simias> it blurs the line between Display and Debug
[14:12:43] <bluss> simias: there's a debug builder, method on Formatter
[14:12:44] *** Joins: fengshaun (fengshaun@moz-rf0qk5.cable.teksavvy.com)
[14:13:00] <simias> bluss: you still have to put a bunch of glue though, don't you?
[14:13:11] <bluss> yeah
[14:13:15] *** Joins: Guest22 (textual@moz-jt9juk.fibertel.com.ar)
[14:13:31] <bluss> why not redirect from Display to Debug?
[14:13:31] <simias> for simple C-style enums #[derive(Display)] makes sense IMO
[14:13:50] *** Joins: niconii (nicole@moz-5gqgia.frgo.qwest.net)
[14:13:56] <simias> yeah it's possible but I don't understand why Display has been removed in the first place
[14:14:21] <simias> my understanding of it is that Display should represent the whole value while Debug is pretty much free-form
[14:14:23] <bluss> it hasn't been removed though, it was added and moved around and never had deriving
[14:14:39] <simias> bluss: you're sure? I was certain that it existed
[14:14:45] <bluss> I'm sure
[14:14:56] <simias> okay then, I must have been lost during the renaming
[14:15:21] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[14:15:23] <simias> at any rate, I expect that many users will use Debug for non-debug code just for convenience
[14:15:37] <simias> which will weaken the distinction between Display and Debug
[14:15:51] <simias> I know I do
[14:16:04] *** Quits: frankmcsherry (frankmcsher@moz-jna.j5l.19.178.IP) (Connection closed)
[14:16:14] <Mutabah> simias: The fun part is that even in "release" builds, you want debug output avaliable
[14:16:19] <niconii> simias: i think you've got it backwards; Debug should display all information about something for debug purposes, whereas Display is more of a human-readable representation
[14:16:21] <Mutabah> (even if it's runtime disabled via RUST_LOG
[14:16:38] *** Quits: mindtree (Mitch@moz-fog.g9r.240.116.IP) (Ping timeout: 121 seconds)
[14:16:51] <Mutabah> My way of debugging is always - Runtime enabled logging, full optimisation, debug symbols
[14:17:16] <niconii> so Display might hide some internal details that aren't really necessary to display normally
[14:17:18] <Mutabah> Because things WILL break in "release" builds, and you'll be hitting yourself when you can't find out why
[14:17:32] <VShell> simias: Debug shows the whole value including any internals, Display should display what you'd want a user to see.
[14:17:47] <simias> niconii, VShell: ah, okay
[14:17:55] <simias> mmh
[14:18:06] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[14:18:06] *** ChanServ sets mode: +o erickt
[14:18:11] *** Quits: brandonw (brandonw@moz-36sv6k.ma.charter.com) (Connection closed)
[14:18:27] *** Joins: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP)
[14:18:30] *** Joins: brandonw (brandonw@moz-36sv6k.ma.charter.com)
[14:18:44] <Mutabah> So, is there any tendany with that idea of disabling Debug in production code?
[14:18:51] <Binero> Does anyone know if it's possible to use glium in GTK? 
[14:18:52] <Mutabah> Because that seems kinda ... odd
[14:19:08] <Mutabah> (would it map to Display or an empty string? Would it error?)
[14:19:11] <VShell> so for one of my structs, Debug would output a ridiculous nested enum, Display would output something like "Foo.Bar.simple".
[14:19:15] <simias> Mutabah: there's been a lot of opposition on the RFC
[14:19:21] <niconii> simias: so for instance, in a game, Debug might display the id number of an enemy, its name, and all its variables, whereas Display might just print the name of the enemy
[14:19:37] <Mutabah> simias: Excuse me while I add to that opposition
[14:19:51] <simias> niconii: I think where it annoys me the most is on C-style enums
[14:20:03] <simias> where display and debug probably are the same thing anyway
[14:20:04] *** Joins: irobevjod (irobevjod@moz-c73e2q.static-ro.twistednetworks.net)
[14:20:19] *** Quits: dalarmmst (dalarmmst@moz-mb21j4.bredband.comhem.se) (Ping timeout: 121 seconds)
[14:20:24] <saml> is it congrats yet?
[14:20:38] <simias> and it's quite common (in my code at least) to display the name of an enum variant in the UI
[14:20:51] <simias> so that's not debug code at all
[14:20:54] *** Joins: kgrandon (Adium@moz-31bk9v.nemh.1887.0450.2001.IP)
[14:20:59] *** Joins: frankmcsherry (frankmcsher@moz-jna.j5l.19.178.IP)
[14:21:03] <simias> but the most convenient way to implement that is to #[derive(Debug)]
[14:21:09] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Connection closed)
[14:22:08] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[14:22:31] <simias> Mutabah: it's this RFC by the way: https://github.com/rust-lang/rfcs/pull/938
[14:24:22] <VShell> simias: I sorta feel that there should be a default impl<T> Display for T where T: Debug, although I don't know if that would be confusing.
[14:24:34] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[14:24:38] <Mutabah> Nah
[14:25:10] *** Quits: kgrandon (Adium@moz-31bk9v.nemh.1887.0450.2001.IP) (Quit: Leaving.)
[14:25:11] *** Joins: ytain (ytain@moz-01dgko.cpe.pppoe.ca)
[14:26:41] <nathan7> VShell: that would prevent implementations of Display
[14:26:42] <simias> I would be fine with a #[derive(Display)] which does the same thing as Debug by default
[14:26:52] <VShell> nathan7: bah.
[14:27:11] <simias> maybe that Display would require Debug or something like that
[14:28:08] *** Quits: slomo (slomo@moz-p8m0g2.net) (Quit: Ex-Chat)
[14:28:14] *** Quits: jtdowney (jtdowney@moz-gh1isj.static.twtelecom.net) (Quit: )
[14:28:32] *** Joins: slomo (slomo@moz-p8m0g2.net)
[14:29:21] *** Joins: jtdowney (jtdowney@moz-gh1isj.static.twtelecom.net)
[14:29:27] *** Quits: Kirth_ (Kirth@moz-4fe.7rj.191.193.IP) (Quit: Leaving)
[14:29:53] *** Joins: mkoskar (mkoskar@moz-80l.568.77.185.IP)
[14:31:09] *** Quits: qdbhg (qdbhg@moz-nc0.qtm.104.223.IP) (Connection closed)
[14:31:22] *** Joins: qdbhg (qdbhg@moz-nc0.qtm.104.223.IP)
[14:31:52] <mkpankov> I feel like it would discount the usability of Display
[14:31:58] *** Joins: nightpool (nightpool@moz-ucg0fb.mycingular.net)
[14:32:01] <mkpankov> what's Display, anyway?
[14:32:11] *** Quits: frankmcsherry (frankmcsher@moz-jna.j5l.19.178.IP) (Connection closed)
[14:32:21] <mkpankov> Debug is for screen printing during debugging
[14:32:23] <aodi> Anyone aware of something highly concurrent written in rust? I wonder if they too would be using mpsc::Select. At least servo has managed to do without it.
[14:32:36] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[14:32:37] *** Joins: GBGamer (GBGamer@moz-92sbjt.wa.comcast.net)
[14:33:19] <simias> mkpankov: it's a good question. Maybe having a distinction between Display and Debug was not such a great idea
[14:33:26] <simias> but it's too late for that anyway
[14:33:27] *** Quits: qdbhg (qdbhg@moz-nc0.qtm.104.223.IP) (Connection closed)
[14:33:46] <niconii> i dunno, having Display and Debug separate is useful for me
[14:33:52] <Mutabah> yeah
[14:34:01] <niconii> i wouldn't want to see it changed
[14:34:03] <Mutabah> User vs Developer is nice
[14:34:14] <Mutabah> For the few types that need that distinction
[14:34:22] <mkpankov> at some point I thought that it's for serialization to string
[14:34:28] <mkpankov> but then someone refuted me
[14:34:42] <VShell> surely you can and often do have multiple ways to display a given thing, anyway, even in command-line apps?
[14:34:54] <mitsuhiko> rustbot: vec![0i32, ..4];
[14:34:56] *** zz_kimundi is now known as kimundi
[14:35:03] <Mutabah> mitsuhiko: playbot
[14:35:10] <mitsuhiko> playbot: vec![0i32, ..4];
[14:35:11] <VShell> so having a single Display for a complex type might not be the greatest idea.
[14:35:11] -playbot- <anon>:9:20: 9:23 error: mismatched types:
[14:35:12] -playbot-  expected `i32`,
[14:35:12] -playbot- output truncated; full output at: http://bit.ly/1cTd715
[14:35:30] <GBGamer> playbot: vec![0i32; 4]
[14:35:32] -playbot- [0, 0, 0, 0]
[14:35:36] <mitsuhiko> ah
[14:35:40] <steveklabnik> aodi: you'd probably want to wrap your OS's nonblocking io primitives, or use something like mio
[14:36:00] <mitsuhiko> steveklabnik: would be nice if the docs for Vec mention that syntax for vec!
[14:36:20] <steveklabnik> they did
[14:36:25] <niconii> i said this earlier, but Display is basically the representation you'd want users to see, whereas Debug should show additional debug information like internal variables or things of that nature
[14:36:29] <mkpankov> I kinda get that when printing a graph, for example, Debug would print raw pointers in nodes, for example
[14:36:37] <niconii> what's going on behind the scenes, anyway
[14:36:38] <steveklabnik> yeah, last part of first section of http://doc.rust-lang.org/nightly/book/vectors.html
[14:36:41] *** Quits: jtdowney (jtdowney@moz-gh1isj.static.twtelecom.net) (A TLS packet with unexpected length was received.)
[14:36:44] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[14:36:51] <mkpankov> and Display would be doing like "user-suitable" printing
[14:36:52] <aodi> steveklabnik: Ok, something moderately concurrent then. :) When mpsc::Select is uh, good enough..?
[14:36:57] <steveklabnik> :)
[14:37:03] <mkpankov> but that looks like just a conventional distinction
[14:37:09] <FreeFull> steveklabnik: Does mio work with beta?
[14:37:25] <mkpankov> niconii: ah
[14:37:25] <steveklabnik> FreeFull: unsure
[14:37:34] <steveklabnik> mitsuhiko: that said, having it in the API docs as well would be nice, it's true
[14:37:43] *** Joins: dawehner (quassel@moz-h44.uga.249.209.IP)
[14:37:45] * steveklabnik goes to make a PR
[14:40:58] *** Joins: larhat (Adium@moz-64mvae.outplay.com)
[14:41:02] *** Quits: nightpool (nightpool@moz-ucg0fb.mycingular.net) (Ping timeout: 121 seconds)
[14:41:54] *** Joins: jophish (jophish@moz-epocft.broadband.tesco.net)
[14:42:29] *** Joins: saterus (saterus@moz-o0ug28.res.rr.com)
[14:42:49] *** Joins: figaro (Mibbit@moz-rmecge.dip0.t-ipconnect.de)
[14:42:53] *** Quits: figaro (Mibbit@moz-rmecge.dip0.t-ipconnect.de) (Quit: http://www.mibbit.com ajax IRC Client)
[14:43:03] <niconii> playbot-mini: fn main() { let h = "Hello!\nGoodbye!"; println!("{}", h); println!("{:?}", h); }
[14:43:04] -playbot-mini- Hello!
[14:43:04] -playbot-mini- Goodbye!
[14:43:04] -playbot-mini- "Hello!\nGoodbye!"
[14:43:15] <niconii> playbot-mini: use std::io::{Error, ErrorKind}; fn main() { let h = Error::new(ErrorKind::TimedOut, "oops!"); println!("{}", h); println!("{:?}", h); }
[14:43:16] -playbot-mini- oops!
[14:43:16] -playbot-mini- Error { repr: Custom(Custom { kind: TimedOut, error: StringError("oops!") }) }
[14:43:23] <niconii> maybe these help illustrate the difference
[14:43:57] *** Joins: nhowell (Mibbit@moz-tmht4l.BNSFLOGISTICS.COM)
[14:45:15] *** Joins: kgrandon (Adium@moz-cnbt07.nemh.1887.0450.2001.IP)
[14:45:35] *** Quits: jnicklas (jonasnickla@moz-d2599v.business.telia.com) (Client exited)
[14:47:14] *** Joins: anom (anhedonia@moz-24ed32.exit.babylon.network)
[14:47:29] *** Joins: colinsurprenant (colin@moz-rmn4e2.169.electronicbox.net)
[14:48:09] *** Joins: kent (kent@moz-nd2iqs.fl.atlanticbb.net)
[14:49:22] *** Joins: atesti (Mibbit@moz-ed7.eaa.69.195.IP)
[14:50:09] <niconii> both of these examples should be pretty common cases i think
[14:50:42] <niconii> wanting to print a string vs. wanting to print the actual string literal (for an REPL, playbot, etc.)
[14:51:26] <niconii> wanting to print an error message for the user vs. wanting to see the actual internal details of the error when debugging
[14:51:56] *** Quits: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP) (Ping timeout: 121 seconds)
[14:52:46] *** Quits: hebz0rl (hebz0rl@moz-cfcrtj.static.qsc.de) (Quit: Leaving)
[14:52:51] <niconii> i don't know what you'd replace these with that wouldn't end up being less elegant than having Display and Debug
[14:53:18] *** Quits: anom (anhedonia@moz-24ed32.exit.babylon.network) (Ping timeout: 121 seconds)
[14:53:28] *** Quits: yuja (yuja@moz-kqflcs.so-net.ne.jp) (Ping timeout: 121 seconds)
[14:54:31] <terpstra> having to write c++ after learning rust is like someone is screeching their nails along a chalk board every time i have to make a design decision
[14:54:43] *** Joins: ogham (rally@moz-s78.ubp.6.31.IP)
[14:54:56] *** Joins: sargas (sargas@moz-863roc.hfc.comcastbusiness.net)
[14:55:23] <mkpankov> what's the difference between playbot and playbot-mini ?
[14:55:45] <Mutabah> mkpankov: The latter has no wrapping main
[14:55:57] <niconii> playbot wraps everything inside fn main() and a show() function to print the last value
[14:56:13] <terpstra> playbot, "my hero"
[14:56:15] -playbot- "my hero"
[14:56:34] <mkomitee> Is it possible to cause a variable to be dropped before a scope ends?
[14:56:41] *** Joins: jnicklas (jonasnickla@moz-0ou5lc.bredband.comhem.se)
[14:56:46] *** Quits: nercury (nercury@moz-fbs.e0f.20.5.IP) (Client exited)
[14:57:14] <terpstra> call .drop() on it
[14:57:27] <ogham> call drop() or put it in another, smaller scope :)
[14:57:45] <mkomitee> std::fs::File doesn't implement any method in scope named 'drop'
[14:57:46] *** Joins: Jackneill (Jackneill@moz-hgscfd.pool.digikabel.hu)
[14:58:03] <mkomitee> And I tried using the trait so that it would be in scope, and that didn't help.
[14:58:07] <niconii> playbot: asdljfkads
[14:58:08] -playbot- <anon>:9:9: 9:19 error: unresolved name `asdljfkads`
[14:58:08] -playbot- <anon>:9         asdljfkads
[14:58:08] -playbot- output truncated; full output at: http://bit.ly/1E5wlG3
[14:58:11] <Mutabah> mkpankov: not .drop, drop()
[14:58:21] <mkomitee> oooooooh.
[14:58:22] <niconii> mkpankov: click on that link to see how playbot wraps that code
[14:58:30] <Mutabah> ::std::mem::drop iirc is the full path, but it's in the prelude
[14:58:36] <niconii> mkpankov: playbot-mini just compiles it directly
[14:58:41] <mkomitee> Thanks.
[14:58:58] <mkpankov> thanks
[14:58:59] <terpstra> oop, sorry
[14:59:04] <niconii> mkpankov: ...also click on that link to see that playbot is still on beta.3 for some reason
[14:59:15] <mkpankov> yep, noticed that, too
[14:59:16] <mkomitee> I'd normally use a scope, but I'm using it to close files before a ffi execve
[15:00:02] <mkomitee> I've grabbed a file as a raw fd, dup'd it, and now I'm closing the original file.
[15:00:06] *** Quits: jeffasinger (jeff@moz-u5nog7.res.rr.com) (Ping timeout: 121 seconds)
[15:00:43] <mkomitee> Thanks.
[15:00:53] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[15:01:13] *** Joins: JagaJaga (JagaJaga@moz-ua8.hhl.62.178.IP)
[15:01:42] *** Joins: Sprog (Sprog@moz-u3bo4c.lv.cox.net)
[15:02:45] *** Quits: Rym (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[15:04:30] *** Quits: erikj (erikj@moz-1bq7nj.com) (Quit: kfonx)
[15:04:39] *** Joins: dfinninger (dfinninger@moz-fe6.5n7.235.207.IP)
[15:04:45] <terpstra> Mutabah, how does Drop prevent me from calling .drop? the trait is pub.
[15:05:06] <terpstra> i can see it would be a disaster since it's (&self) and not (self)
[15:05:20] <terpstra> (&mut self) rather
[15:05:39] <Mutabah> terpstra: It doesn't prevent you afaik...
[15:05:44] *** Joins: Rym (y@moz-o80acm.range86-189.btcentralplus.com)
[15:05:47] *** Quits: fkaa (tundmatu@moz-501od2.business.telia.com) (RecvQ exceeded)
[15:05:55] <terpstra> Mutabah, it must be forbidden, otherwise you could double-free memory
[15:06:05] <terpstra> and i can't seem to find a way to run .drop() on a Drop type
[15:06:08] *** Quits: sirGusWrk (Gustav@moz-bo7slh.sme.bredbandsbolaget.se) (Connection closed)
[15:06:09] *** Joins: fkaa (tundmatu@moz-501od2.business.telia.com)
[15:06:14] <Mutabah> Most objects will zero the pointer on drop
[15:06:22] <Mutabah> terpstra: Why would you want to?
[15:06:23] *** Joins: Ms2ger (Ms2ger@moz-0smvhf.isp.belgacom.be)
[15:06:39] <rkruppe> It seems calling drop is simply disallowed: http://is.gd/tTxk9g
[15:06:40] *** Quits: nhowell (Mibbit@moz-tmht4l.BNSFLOGISTICS.COM) (Quit: http://www.mibbit.com ajax IRC Client)
[15:06:53] <kimundi> Mutabah: In Rust, "most" objects should not zero anything anymore on drop
[15:06:58] <Mutabah> well
[15:07:03] <Mutabah> there's the answer
[15:07:05] <terpstra> hello.rs:9:5: 9:11 error: explicit use of destructor method [E0040]
[15:07:10] <rkruppe> I'm sure there is an unsafe way to call drop() though
[15:07:21] <mkpankov> what
[15:07:33] <mkpankov> I recently used drop
[15:07:42] <mkpankov> and it moved there
[15:07:42] <Mutabah> mkpankov: this is about Drop::drop, not ::std::mem::drop
[15:07:55] <niconii> Drop::drop() would be the destructor, it doesn't actually drop it but rather is the code called before dropping, so
[15:08:13] <mkpankov> what do I call if I do drop(v);?
[15:08:37] <niconii> if you called it explicitly, you'd run the destructor without actually dropping it, which would probably be a bad idea?
[15:08:54] <Mutabah> niconii: No.
[15:09:03] <Mutabah> mkpankov: drop(v); calls ::std::mem::drop(v);
[15:09:04] <mkpankov> again, it moved into destructor
[15:09:14] *** Joins: minot (minot@moz-r0m4ta.minotstateu.edu)
[15:09:14] <mkpankov> and that prevented me from using the value later
[15:09:27] <mkpankov> so now I wonder what did I do :P
[15:09:28] <niconii> Mutabah: no, it's not a bad idea, or
[15:09:28] <Mutabah> (that method is part of the prelude)
[15:09:40] <terpstra> Mutabah, i don't want to, i just want to know how they prevented it in case i want to do the same for a trait i make in the future
[15:09:42] <Mutabah> niconii: No, you're confusing mkpankov 
[15:09:58] *** Joins: sirGusWrk (Gustav@moz-bo7slh.sme.bredbandsbolaget.se)
[15:09:59] *** Joins: nightpool (nightpool@moz-f6q7hd.sub-70-215-6.myvzw.com)
[15:09:59] <Mutabah> terpstra: the Drop trait is a lang item, I presume it's related to that
[15:10:04] <kimundi> THere are two _Different_ function named "drop"
[15:10:12] *** Quits: skade (skade@moz-u1j.1t9.225.62.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[15:10:12] <Mutabah> mkpankov: ::std::mem::drop is VERY different to Drop::drop()
[15:10:19] <Mutabah> ::std::mem::drop is just an empty method really
[15:10:21] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[15:10:26] <niconii> Mutabah: oh, i was more saying that to rkruppe
[15:10:34] <kimundi> mem::drop() is the default drop(v) in the prelude, and it takes a value by value and then directly drops it.
[15:10:44] *** Joins: nightpoo1 (nightpool@moz-f6q7hd.sub-70-215-6.myvzw.com)
[15:10:56] <kimundi> Drop::drop() is the method of the Drop trait, and is the actual destructor that runs if a type drops.
[15:11:06] <mkpankov> Mutabah: but it causes the type to call its' Drop::drop() inside because the ownership isn't transferred further?
[15:11:18] *** Quits: nightpool (nightpool@moz-f6q7hd.sub-70-215-6.myvzw.com) (Quit: leaving)
[15:11:30] <niconii> kimundi: err, right, yeah, i guess i didn't word that right
[15:11:31] <rkruppe> fn drop<T>(_x: T) {}
[15:11:31] <Mutabah> mkpankov: As part of the object going out of scope, yes
[15:11:31] <kimundi> drop(v) calls mem::drop() on v which then results internally in a call to Drop::drop(&mut v)
[15:11:34] <rkruppe> Simplest function ever
[15:11:46] <mkpankov> Mutabah: ah, so it's "trivial consumer"
[15:11:52] <Mutabah> rkruppe: Yep
[15:11:54] *** Joins: skade (skade@moz-u1j.1t9.225.62.IP)
[15:12:02] *** Quits: nightpoo1 (nightpool@moz-f6q7hd.sub-70-215-6.myvzw.com) (Quit: leaving)
[15:12:08] *** Quits: LeSingingTree (SingingTree@moz-sh9.0dv.37.202.IP) (Connection closed)
[15:12:10] *** Joins: JKWright (JKWright@moz-sed6c9.biz.rr.com)
[15:12:18] *** Joins: nightpool (nightpool@moz-f6q7hd.sub-70-215-6.myvzw.com)
[15:12:20] *** Joins: LeSingingTree (SingingTree@moz-sh9.0dv.37.202.IP)
[15:13:04] *** Quits: vodik (simon@moz-86ind4.dedicated.allstream.net) (Quit: WeeChat 1.1.1)
[15:13:12] *** Joins: vodik (simon@moz-86ind4.dedicated.allstream.net)
[15:13:43] *** Quits: dawehner (quassel@moz-h44.uga.249.209.IP) (Ping timeout: 121 seconds)
[15:13:51] *** Quits: joelteon (joelteon@moz-0gljna.n3ik.opad.5300.2607.IP) (Ping timeout: 121 seconds)
[15:14:04] *** Quits: jaster (jaster@moz-trk099.u42v.sj0n.5300.2607.IP) (Ping timeout: 121 seconds)
[15:14:09] *** Joins: pylbrecht (pylbrecht@moz-b4nhkg.dynamic.kabel-deutschland.de)
[15:15:07] *** Quits: wei2912 (wei2912@moz-per.prp.156.175.IP) (Quit: Lost terminal)
[15:15:19] *** Joins: murz (murz@moz-nr2kro.wa.comcast.net)
[15:15:24] *** Joins: sr-ix (textual@moz-lpiloj.static.grandenetworks.net)
[15:15:36] *** Quits: jvrbanac (jvrbanac@moz-932o89.kdmi.s520.4801.2001.IP) (Ping timeout: 121 seconds)
[15:15:42] *** Quits: halorgium (z@moz-kl0sh4.spork.in) (Ping timeout: 121 seconds)
[15:16:52] *** Joins: happy-dude_ (uid62780@moz-jt3517.charlton.irccloud.com)
[15:17:09] *** Quits: nightpool (nightpool@moz-f6q7hd.sub-70-215-6.myvzw.com) (Quit: leaving)
[15:19:21] *** Quits: murz (murz@moz-nr2kro.wa.comcast.net) (Ping timeout: 121 seconds)
[15:19:26] *** Quits: niconii (nicole@moz-5gqgia.frgo.qwest.net) (Ping timeout: 121 seconds)
[15:20:02] *** Joins: erikj (erikj@moz-1bq7nj.com)
[15:20:51] *** Quits: qb (Mibbit@moz-avf.f6m.218.46.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[15:21:01] *** Joins: jvrbanac (jvrbanac@moz-932o89.kdmi.s520.4801.2001.IP)
[15:21:07] *** Joins: halorgium (z@moz-kl0sh4.spork.in)
[15:21:30] <terpstra> Mutabah, .drop() is forbidden by rustc :-/ so you can't do the same for your own traits.
[15:22:00] <terpstra> that's a pity. i could well imagine situations where you want a 'you must implement this method' for a trait, but that method is not pub
[15:22:50] *** Joins: jedireza (jedireza@moz-m40.8gk.177.166.IP)
[15:22:52] *** Joins: joelteon (joelteon@moz-ghk0g7.io)
[15:23:01] *** Quits: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu) (Quit: Leaving)
[15:24:04] *** Joins: tamird (textual@moz-gg3hct.res.rr.com)
[15:24:16] <Ms2ger> terpstra, why would you do that?
[15:24:42] *** Quits: demilux (demilux@moz-73qa6c.wa.comcast.net) (A TLS packet with unexpected length was received.)
[15:24:52] *** bvssvni is now known as bvssvin
[15:25:25] <terpstra> well, i think could imagine a function that has certain preconditions for its use, that you then use internally to implement other default methods in a trait
[15:25:37] *** Quits: giucam (giucam@moz-7gjibu.c665.0nib.2060.2001.IP) (Ping timeout: 121 seconds)
[15:25:55] <terpstra> so, you are a good caller, and you provide safe access to the function
[15:26:04] <terpstra> let me check if c++ private virtual methods can do this
[15:26:46] <bluss> The latest DST PR brought in a very interesting intrinsic -- fn drop_in_place<T: ?Sized>(_: *mut T);
[15:26:52] <nathan7> OMGYES
[15:26:56] *** Quits: andre_ (andre@moz-rq2.b42.115.187.IP) (Quit: leaving)
[15:26:56] *** Joins: SneakySnake (nya@moz-i9is4u.pool.telekom.hu)
[15:27:08] *** Joins: niconii (nicole@moz-ojt2sa.frgo.qwest.net)
[15:27:14] *** Quits: SneakySnake (nya@moz-i9is4u.pool.telekom.hu) (Quit: Leaving)
[15:27:16] *** Joins: lutter1 (lutter@moz-7v7ueu.PUBLIC.monkeybrains.net)
[15:27:23] <bluss> exactly. Now just to learn the rules to handle the !Sized case correctly
[15:27:53] *** Quits: ruukasu (ruukasu@moz-obsv1c.res.rr.com) (Ping timeout: 121 seconds)
[15:28:12] *** Joins: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP)
[15:28:12] *** Quits: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP) (A TLS packet with unexpected length was received.)
[15:28:18] *** Joins: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP)
[15:28:23] <terpstra> Ms2ger, indeed c++ lets you do this design pattern.
[15:28:33] *** Quits: dstrbad (dstrbad@moz-756bkd.cable.xnet.hr) (A TLS packet with unexpected length was received.)
[15:29:12] *** Joins: SneakySnake (nya@moz-i9is4u.pool.telekom.hu)
[15:29:22] <terpstra> Ms2ger, http://is.gd/3ZQArL
[15:29:41] <Ms2ger> And where does calling .drop() come in?
[15:29:44] *** Quits: ebel (rory@moz-l1ldq7.hsi4.kabel-badenwuerttemberg.de) (Quit: Leaving)
[15:29:50] <terpstra> .drop() is like a private trait method
[15:29:57] <terpstra> which is what i was interested in having for myself
[15:30:05] *** Joins: murz (murz@moz-nr2kro.wa.comcast.net)
[15:30:07] <terpstra> but it's implemented as a special-case in rustc
[15:30:56] *** Quits: skade (skade@moz-u1j.1t9.225.62.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[15:30:57] <Ms2ger> Not really
[15:30:59] <terpstra> which, as i said, is a pity. it would have been perhaps more clever to have a keyword 'priv' for methods in a trait. then drop would be no special case and we could do this too
[15:31:33] <terpstra> Ms2ger, rust/src/librustc_typeck/check/callee.rs:45
[15:31:35] <terpstra> really.
[15:31:43] <Ms2ger> It's only logical that drop is a special case in a language that cares about memory safety
[15:31:51] <terpstra> i don't agree to that at all
[15:31:57] <terpstra> i agree you should not be able to call it
[15:31:59] *** Quits: sr-ix (textual@moz-lpiloj.static.grandenetworks.net) (Ping timeout: 121 seconds)
[15:32:03] <terpstra> i don't agree that means it must be a special case
[15:32:31] <GBGamer> why does drop take an &mut anyways?
[15:32:34] <apoelstra> hi guys, this morning i'm getting a compiler error from rustc
[15:32:43] <GBGamer> seems like it should take a self
[15:32:55] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[15:33:08] <GBGamer> then you don't need to worry about special casing
[15:33:11] <apoelstra> /home/apoelstra/dload/code/rust/src/librustc/lib.rs:170:1: 170:52 error: error E0038 from `librustc' also found in `tmp/extended-errors/librustc_typeck.json'
[15:33:16] *** Joins: hjr3 (hradtke@moz-lei.av4.169.69.IP)
[15:33:18] <terpstra> GBGamer, i agree. then you wouldn't need this compiler special case. but i suspect there may be a performance to passing a large object via the stack
[15:33:21] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[15:33:37] <terpstra> performance penalty*
[15:33:47] <GBGamer> well yeah, but if you're worried about that, #[inline]
[15:33:59] *** Quits: jedireza (jedireza@moz-m40.8gk.177.166.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[15:34:02] <GBGamer> you should only call it once or twice
[15:34:04] *** Joins: wolfviking0 (wolfviking0@moz-8hd.3b6.246.162.IP)
[15:34:57] *** Joins: c0170_ (c0170@moz-dev.ffi.127.79.IP)
[15:34:58] <talchas> if it takes (self), then it needs more special casing
[15:35:08] <GBGamer> what special casing?
[15:35:12] <talchas> because normally then self would be dropped at the end of the function
[15:35:24] <terpstra> that's the point
[15:35:38] <terpstra> oh, you mean that it would cause infinite drop() recursion? :)
[15:35:39] <talchas> terpstra: which would involve then calling drop again
[15:35:41] <talchas> yes
[15:35:48] <terpstra> fair enough
[15:35:55] <mk> how do I replace a value in an array of i64's? whenever I try to do `self.stack[index] = val;` I get “error: the trait `core::ops::Index<i64>` is not implemented for the type `[i64]`”
[15:35:59] <GBGamer> well it would be like the Add impls for integer/float types
[15:36:01] <talchas> also you would be able to call other functions which takes not-pointer self or T, which would both have that problem and not be fixed via special casing
[15:36:06] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Quit: It's a joke, it's all a joke.)
[15:36:25] <Selemur> mk: index with a usize
[15:36:27] <GBGamer> ah, that's true
[15:37:12] <GBGamer> maybe make it an unsafe trait?
[15:37:20] *** Quits: c0170 (c0170@moz-bb29a4.cambridge.arm.com) (Ping timeout: 121 seconds)
[15:37:22] <terpstra> just add a 'priv' keyword! :P
[15:37:29] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[15:37:35] *** Quits: saterus (saterus@moz-o0ug28.res.rr.com) (Connection closed)
[15:37:37] <terpstra> then we can have private trait methods too ;)
[15:37:47] <niconii> mk: `self.stack[index as usize] = val;` would work for example, though you should probably just make index a usize in the first place
[15:37:49] <GBGamer> If you made it unsafe, you wouldn't have to worry :D
[15:38:22] *** Joins: d356 (d@moz-buqa6q.cpe.distributel.net)
[15:38:42] <GBGamer> (and you could make it take self)
[15:38:57] *** Quits: jarrednicholls (uid19542@moz-s0evcl.uxbridge.irccloud.com) (Quit: Connection closed for inactivity)
[15:39:16] <talchas> I mean, or you take &mut and have exactly the correct behavior
[15:39:27] *** Joins: veqz (veqz@moz-nvr8g6.209.getinternet.no)
[15:39:29] *** Joins: panicbit (panicbit@moz-r4ks4s.dip0.t-ipconnect.de)
[15:39:45] *** Joins: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net)
[15:39:53] *** Joins: jedireza (jedireza@moz-m40.8gk.177.166.IP)
[15:39:55] <talchas> maybe it should be called ~DESTRUCTOR_YOU_CANT_CALL_ME :P
[15:40:09] *** Quits: jedireza (jedireza@moz-m40.8gk.177.166.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[15:40:33] <mk> niconii: aha, thanks!
[15:40:50] <GBGamer> well, I still agree it's a good idea to allow private trait functions
[15:40:51] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[15:41:54] *** Quits: v21 (vee@moz-2gv.oe1.4.171.IP) (Ping timeout: 121 seconds)
[15:42:08] *** Joins: O01eg (o01eg@moz-t473kj.th81.4n8f.2698.2a02.IP)
[15:42:24] *** Quits: casey (casey@moz-v0ns05.tpgi.com.au) (Connection closed)
[15:42:46] *** Joins: casey (casey@moz-v0ns05.tpgi.com.au)
[15:43:09] *** Joins: frankmcsherry (frankmcsher@moz-la1m3v.adsl.alicedsl.de)
[15:43:41] *** Joins: essem2 (Thunderbird@moz-0g3v4k.biz.rr.com)
[15:43:53] *** Quits: mkpankov` (mkpankov@moz-7qs.70f.16.195.IP) (Ping timeout: 121 seconds)
[15:44:51] *** Quits: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net) (Ping timeout: 121 seconds)
[15:44:55] *** Joins: Fiveside (fiveside@moz-t2eatg.vsp.com)
[15:44:58] *** Quits: tomaka (Pierre@moz-6lc2ai.abo.wanadoo.fr) (Connection closed)
[15:45:45] *** Joins: Guest_ (textual@moz-rtn.fg7.77.192.IP)
[15:46:06] *** Joins: giucam (giucam@moz-iv0nnc.bb.dnainternet.fi)
[15:46:48] *** Quits: casey (casey@moz-v0ns05.tpgi.com.au) (Ping timeout: 121 seconds)
[15:47:12] *** Quits: aodi (Mibbit@moz-bev7ua.corp.bahnhof.se) (Quit: http://www.mibbit.com ajax IRC Client)
[15:47:38] *** Joins: davebettin (davebettin@moz-ip635p.or.comcast.net)
[15:49:22] *** Joins: ruukasu (ruukasu@moz-obsv1c.res.rr.com)
[15:50:19] *** Quits: kaeluka (kaeluka@moz-onpo5m.eduroam.uu.se) (Client exited)
[15:51:17] *** Joins: tomaka (Pierre@moz-6lc2ai.abo.wanadoo.fr)
[15:51:22] *** Joins: andresv (textual@moz-rq7fak.cable.starman.ee)
[15:51:31] *** Quits: lyc (lyc@moz-jft.nr8.226.207.IP) (Connection closed)
[15:54:22] *** Quits: tamird (textual@moz-gg3hct.res.rr.com) (Quit: My Mac has gone to sleep. ZZZzzz…)
[15:55:56] *** Quits: mvyskocil (mvyskocil@moz-1fo.p0p.7.31.IP) (Ping timeout: 121 seconds)
[15:56:18] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[15:56:18] *** ChanServ sets mode: +o erickt
[15:56:20] *** Quits: envi_u (envi@moz-ih5.olo.169.121.IP) (Ping timeout: 121 seconds)
[15:58:59] *** Joins: demilich (Demilich@moz-obk.k9a.189.46.IP)
[15:59:06] *** Joins: montezuma (Mibbit@moz-tslo0q.mullvad.net)
[15:59:19] *** Joins: saterus (saterus@moz-o0ug28.res.rr.com)
[15:59:22] <niconii> oh, Add on vec was removed, huh
[15:59:26] <montezuma> hello
[15:59:26] *** Joins: gopar (gopar@moz-5039uj.ca.comcast.net)
[15:59:38] *** Joins: Savago (Savago@moz-k613vv.ca.comcast.net)
[15:59:45] *** Quits: laparca (laparca@moz-rgcs06.mgob.kh00.0488.2a01.IP) (Quit: Leaving.)
[16:00:03] <montezuma> can someone pinpoint me to a good tutorial on how to build static binaries with rust?
[16:00:03] *** Joins: dawehner (quassel@moz-46p.bjg.78.66.IP)
[16:00:22] <simias> montezuma: I did it last year
[16:00:30] *** Joins: jeffasinger (jeff@moz-v1r.v4m.197.205.IP)
[16:00:35] <simias> it involved calling the linker myself and messing with its command line
[16:00:40] <simias> 1/10 would not recommend
[16:00:45] <simias> maybe things have improved since then
[16:00:53] <montezuma> well, if i can script things, it should be fine, right?
[16:00:59] <mbrubeck> There's this rather extreme version: http://mainisusuallyafunction.blogspot.com/2015/01/151-byte-static-linux-binary-in-rust.html
[16:01:01] <Amaranth> To make it 100% static you'd need to build rustc to target musl then "cross compile" for musl
[16:01:20] <Amaranth> Or ignore any of the stdlib, sure :)
[16:01:36] *** Quits: lnwdr (lnwdr@moz-mj0.jna.74.195.IP) (Quit: Leaving...)
[16:01:44] <simias> Amaranth: why musl in particular?
[16:01:53] *** Quits: Guest_ (textual@moz-rtn.fg7.77.192.IP) (Ping timeout: 121 seconds)
[16:01:54] <montezuma> Amaranth: there's support for musl in rustc, right?
[16:01:58] <Amaranth> You can't statically link glibc and musl is the only other choice
[16:02:02] <simias> I think I managed to link my debian-provided libc without (too many) problems
[16:02:06] <Amaranth> montezuma: Yeah I think it landed a couple weeks ago
[16:02:16] <simias> I don't think debian ships glibc
[16:02:37] *** Quits: kamilc__ (kamil@moz-sh222i.play-internet.pl) (Quit: Leaving...)
[16:02:42] <Amaranth> They do and you can technically static link it but it's likely to cause problems and not supported by upstream iirc
[16:03:03] <montezuma> should i absolutely forget about arm+musl static for now?
[16:03:24] <demilich> Extreme newbie question: I have an variable 'i' of type 'usize' as an array index. I now want to check the value of the previous index, i.e. i - 1. How can prevent the 'arithmetic operation overflow' at i == 0? Is there like a 'clamp' function or how would one typically solve this simple problem?
[16:03:46] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[16:03:52] *** Quits: d356 (d@moz-buqa6q.cpe.distributel.net) (Client exited)
[16:04:01] <mbrubeck> demilich: Typically just `if i > 0 { ... }`
[16:04:10] <Amaranth> I dunno about arm+musl but don't see why it wouldn't work, unless the build system wasn't set up for it yet
[16:04:31] <demilich> okay, so basically solve it 'manually'. Thanks mbrubeck!
[16:04:34] <simias> Amaranth: ah ok
[16:04:43] *** Joins: GaryOak_ (GaryOak_@moz-etoj16.hfc.comcastbusiness.net)
[16:04:44] *** Joins: mkpankov` (mkpankov@moz-7qs.70f.16.195.IP)
[16:04:51] <simias> it worked in my use case but I didn't really try it extensively
[16:04:55] <montezuma> Amaranth: thx
[16:05:07] <Amaranth> simias: iirc the most likely thing to break is anything related to networking
[16:05:18] <mbrubeck> demilich: There's also http://doc.rust-lang.org/std/primitive.u32.html#method.checked_sub if that's better for your use case.
[16:05:22] *** Quits: acgtyrant (acgtyrant@moz-3kd.b79.160.124.IP) (Ping timeout: 121 seconds)
[16:05:34] <mbrubeck> demilich: Oh, or http://doc.rust-lang.org/std/primitive.u32.html#method.saturating_sub which is closer to what you asked for.
[16:05:57] <mbrubeck> playbot: 0.saturating_sub(1)
[16:05:58] -playbot- <anon>:9:11: 9:28 error: type `_` does not implement any method in scope named `saturating_sub`
[16:05:58] -playbot- <anon>:9         0.saturating_sub(1)
[16:05:58] -playbot- output truncated; full output at: http://bit.ly/1A0sgrK
[16:06:18] <niconii> mbrubeck: playpen is still on beta.3
[16:06:32] *** Joins: gsingh93 (gulshan@moz-qnbukr.mi.comcast.net)
[16:06:52] <demilich> mbrubeck: that was exactly what I was looking for
[16:06:57] *** Joins: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net)
[16:07:07] *** Joins: lov2cod (Adium@moz-6non61.eodv.k60l.0119.2620.IP)
[16:07:11] <mbrubeck> playbot: 0u64.saturating_sub(1)
[16:07:12] -playbot- 0
[16:07:13] *** Joins: dschatzberg (dschatz@moz-nk1clf.bu.edu)
[16:07:16] <niconii> ...oh, but actually, that was in beta.3 as well, wasn't i-- yeah
[16:07:19] *** Quits: arBmind (Andreas@moz-j1put6.adsl.alicedsl.de) (Quit: Leaving.)
[16:07:36] <simias> Amaranth: I think I remember something about warnings regarding that, yes
[16:07:42] <simias> I didn't use networking though
[16:07:47] <Amaranth> montezuma: https://github.com/rust-lang/rust/pull/24777 includes some instructions for how to build a rustc that targets a static musl
[16:08:23] <Amaranth> Looks like it might only be amd64 right now though
[16:08:49] *** Quits: wolfviking0 (wolfviking0@moz-8hd.3b6.246.162.IP) (Client exited)
[16:08:56] <Amaranth> Which is mainly going to be build system plumbing needed to make it work for armhf or arm64 I suspect
[16:09:40] *** Quits: Kurufu (Kurufu@moz-pvv8b5.res.rr.com) (Ping timeout: 121 seconds)
[16:09:42] *** Joins: wolfviking0 (wolfviking0@moz-8hd.3b6.246.162.IP)
[16:09:48] *** Quits: andresv (textual@moz-rq7fak.cable.starman.ee) (Quit: My Mac has gone to sleep. ZZZzzz…)
[16:09:53] *** Joins: andresv (textual@moz-rq7fak.cable.starman.ee)
[16:10:16] *** Quits: andresv (textual@moz-rq7fak.cable.starman.ee) (Quit: My Mac has gone to sleep. ZZZzzz…)
[16:10:20] *** Joins: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP)
[16:10:48] *** joehillen|away is now known as joehillen
[16:10:58] <Binero> Does anyone know if it's possible to use glium with GTK+? 
[16:11:30] <tomaka> Binero: should be possible if you implement the "Backend" trait
[16:11:43] *** Joins: Kurufu (Kurufu@moz-pvv8b5.res.rr.com)
[16:12:24] *** Joins: andresv_ (textual@moz-rq7fak.cable.starman.ee)
[16:13:38] *** Quits: kngl (Adium@moz-m3a3bq.ipv4.evonet.be) (Quit: Leaving.)
[16:14:40] *** Joins: nano (nano@moz-00j6et.dynamic.kabel-deutschland.de)
[16:15:35] *** Quits: nated2 (nated@moz-5dm.p03.138.67.IP) (Quit: Nettalk6 - www.ntalk.de)
[16:16:11] *** Joins: jeffasinger_ (jeff@moz-u5nog7.res.rr.com)
[16:16:41] *** Quits: jeffasinger (jeff@moz-v1r.v4m.197.205.IP) (Ping timeout: 121 seconds)
[16:16:41] *** jeffasinger_ is now known as jeffasinger
[16:17:08] *** Quits: timonv (timonv@moz-7btgcn.dynamic.ziggo.nl) (Ping timeout: 121 seconds)
[16:17:55] *** Joins: dstrbad (dstrbad@moz-976.4uv.217.31.IP)
[16:18:25] *** Joins: kngl (Adium@moz-m3a3bq.ipv4.evonet.be)
[16:18:43] *** Joins: btobolaski (btobolaski@moz-ltbh80.va.comcast.net)
[16:18:57] *** Quits: Guest22 (textual@moz-jt9juk.fibertel.com.ar) (Quit: My Mac has gone to sleep. ZZZzzz…)
[16:19:14] *** Joins: jkkm (sid80778@moz-dn0qov.uxbridge.irccloud.com)
[16:19:41] *** Joins: Guest_ (textual@moz-6um9co.ca.comcast.net)
[16:19:54] *** Quits: dstrbad (dstrbad@moz-976.4uv.217.31.IP) (A TLS packet with unexpected length was received.)
[16:20:04] *** Quits: dfinninger (dfinninger@moz-fe6.5n7.235.207.IP) (Connection closed)
[16:20:09] *** Quits: slomo (slomo@moz-p8m0g2.net) (Quit: Ex-Chat)
[16:21:00] *** Quits: nodweber_ (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[16:21:03] *** Joins: dfinninger (dfinninger@moz-fe6.5n7.235.207.IP)
[16:22:05] *** Quits: montezuma (Mibbit@moz-tslo0q.mullvad.net) (Quit: http://www.mibbit.com ajax IRC Client)
[16:22:51] *** Joins: rkruppe_ (chatzilla@moz-3nj.rnu.131.95.IP)
[16:23:16] *** Quits: kvsari (kvsari@moz-fgsnv9.bbtec.net) (Connection closed)
[16:23:44] *** Joins: Guest22 (textual@moz-jt9juk.fibertel.com.ar)
[16:24:06] *** Quits: gonzaloserrano1 (Adium@moz-1nv.3t7.97.62.IP) (Quit: Leaving.)
[16:24:13] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[16:24:17] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[16:25:05] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Ping timeout: 121 seconds)
[16:25:17] *** rkruppe_ is now known as rkruppe
[16:26:16] *** Quits: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP) (Connection closed)
[16:26:23] *** Quits: dfinninger (dfinninger@moz-fe6.5n7.235.207.IP) (Connection closed)
[16:26:34] *** Joins: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP)
[16:26:52] *** Joins: Admin_ (Admin@moz-0pbl66.static.zebra.lt)
[16:27:05] *** Quits: Quanttek (quassel@moz-25k96c.6fkd.dvrb.8108.2a02.IP) (Ping timeout: 121 seconds)
[16:27:26] *** Joins: ygrek (user@moz-8j9aeu.org.ua)
[16:29:23] *** Quits: andresv_ (textual@moz-rq7fak.cable.starman.ee) (Quit: My Mac has gone to sleep. ZZZzzz…)
[16:29:27] *** Joins: matt-r (mattr@moz-2ou06k.dh.suddenlink.net)
[16:30:00] *** Quits: lyra2 (Admin@moz-0pbl66.static.zebra.lt) (Ping timeout: 121 seconds)
[16:30:33] *** Admin_ is now known as lyra22
[16:30:45] *** Quits: aldeka (quassel@moz-qqf.of6.243.162.IP) (Connection closed)
[16:30:46] *** Joins: aldeka (quassel@moz-qqf.of6.243.162.IP)
[16:31:01] *** Quits: demilich (Demilich@moz-obk.k9a.189.46.IP) (Quit: )
[16:31:06] *** Quits: Kurufu (Kurufu@moz-pvv8b5.res.rr.com) (Ping timeout: 121 seconds)
[16:33:08] *** Joins: Kurufu (Kurufu@moz-pvv8b5.res.rr.com)
[16:34:05] *** Quits: irobevjod (irobevjod@moz-c73e2q.static-ro.twistednetworks.net) (Client exited)
[16:34:08] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[16:34:09] *** Quits: Ralith (ralith@moz-tiaj7p.customer.broadstripe.net) (Ping timeout: 121 seconds)
[16:34:15] *** Joins: irobevjodu (irobevjodu@moz-c73e2q.static-ro.twistednetworks.net)
[16:34:15] *** Quits: saterus (saterus@moz-o0ug28.res.rr.com) (Connection closed)
[16:34:36] *** Joins: saterus (saterus@moz-o0ug28.res.rr.com)
[16:35:36] *** Quits: hjr3 (hradtke@moz-lei.av4.169.69.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[16:36:12] *** Quits: martinhath (martin@moz-mbkero.wlan.ntnu.no) (Ping timeout: 121 seconds)
[16:36:29] *** ahal is now known as ahal|afk
[16:37:41] <piotr> hi
[16:37:52] <piotr> I'm trying to implement Decodable for BigUint
[16:37:56] *** Quits: jnicklas (jonasnickla@moz-0ou5lc.bredband.comhem.se) (Client exited)
[16:38:15] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[16:38:19] *** Joins: jnicklas (jonasnickla@moz-0ou5lc.bredband.comhem.se)
[16:38:34] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[16:38:38] *** Quits: saterus (saterus@moz-o0ug28.res.rr.com) (Ping timeout: 121 seconds)
[16:38:42] *** Joins: Astrum|Lap (Astrum|Lap@moz-7enfbr.co.comcast.net)
[16:38:48] *** Quits: Guest22 (textual@moz-jt9juk.fibertel.com.ar) (Quit: My Mac has gone to sleep. ZZZzzz…)
[16:39:10] <piotr> but I get eror "the impl does not reference any types defined in this crate; only traits defined in the current crate can be implemented for arbitrary types" Any ideas? http://pastebin.com/LykekNBf
[16:39:13] *** Quits: zcourts (zcourts@moz-7ms809.cable.virginm.net) (Client exited)
[16:39:39] *** Quits: Savago (Savago@moz-k613vv.ca.comcast.net) (Client exited)
[16:39:42] *** Joins: mgottschlag (quassel@moz-3qnf1h.scc.kit.edu)
[16:40:02] *** Quits: jnicklas (jonasnickla@moz-0ou5lc.bredband.comhem.se) (Client exited)
[16:40:22] *** Quits: nano (nano@moz-00j6et.dynamic.kabel-deutschland.de) (Connection closed)
[16:40:25] *** Joins: findow (Mibbit@moz-vgi49a.home.otenet.gr)
[16:40:50] *** Quits: Guest_ (textual@moz-6um9co.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[16:41:04] <findow> How can one perform deep copy of a struct? Is there a trait that does that?
[16:41:15] <XMPPwocky> Clone may be what you want
[16:41:16] *** Joins: hjr3 (hradtke@moz-lei.av4.169.69.IP)
[16:41:27] <findow> Clone is shallow
[16:41:35] <duncan> piotr: Decodable is already implemented for BigUint in the `num` crate, you will have to wrap it if you want to provide a different Decodable impelementation
[16:41:38] *** Joins: loyd (loyd@moz-uft.32f.108.213.IP)
[16:41:59] *** Quits: hjr3 (hradtke@moz-lei.av4.169.69.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[16:41:59] *** Joins: dinfuehr_ (dinfuehr@moz-c25.u8s.112.91.IP)
[16:42:04] *** Quits: dawehner (quassel@moz-46p.bjg.78.66.IP) (Ping timeout: 121 seconds)
[16:42:11] *** Quits: atesti (Mibbit@moz-ed7.eaa.69.195.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[16:42:29] <piotr> duncan: I'm using a csv reader and he doesn't know how to convert a string to BigUint
[16:42:37] *** Quits: dinfuehr_ (dinfuehr@moz-c25.u8s.112.91.IP) (Connection closed)
[16:45:04] *** Quits: dinfuehr (dinfuehr@moz-c25.u8s.112.91.IP) (Ping timeout: 121 seconds)
[16:45:53] *** Joins: nano (nano@moz-00j6et.dynamic.kabel-deutschland.de)
[16:46:33] <piotr> ah I think I'm missing FromStr trait
[16:47:23] *** Joins: insaneinside (user@moz-dgv9mb.customer.broadstripe.net)
[16:47:32] <nathan7> You're running into the coherence rules
[16:47:34] <duncan> yep, that should fix it
[16:47:57] <insaneinside> So I'm wondering what's up with the sizes here: <https://pastebin.mozilla.org/8833361>.  Are objects in Rust more than the sum of their parts?
[16:48:00] *** Quits: findow (Mibbit@moz-vgi49a.home.otenet.gr) (Quit: http://www.mibbit.com ajax IRC Client)
[16:48:02] *** Quits: mkoskar (mkoskar@moz-80l.568.77.185.IP) (Client exited)
[16:48:19] <nathan7> insaneinside: Yes.
[16:48:31] <insaneinside> nathan7: do tell!
[16:49:06] *** Joins: tadh (quassel@moz-pg51s5.CWRU.Edu)
[16:49:08] *** Joins: martinhath (martin@moz-tqe.r95.191.81.IP)
[16:49:14] <nathan7> insaneinside: so… you have ((u8, usize), usize, usize)
[16:49:21] *** Joins: hjr3 (hradtke@moz-lei.av4.169.69.IP)
[16:49:21] *** Joins: arBmind (Andreas@moz-ulmvpi.dip0.t-ipconnect.de)
[16:49:22] <nathan7> insaneinside: (the u8 is the enum discriminant for Option)
[16:49:59] *** Quits: ygrek (user@moz-8j9aeu.org.ua) (Ping timeout: 121 seconds)
[16:50:03] *** Quits: kngl (Adium@moz-m3a3bq.ipv4.evonet.be) (Quit: Leaving.)
[16:50:10] *** Quits: sgk (uid48262@moz-fcc0jc.uxbridge.irccloud.com) (Quit: Connection closed for inactivity)
[16:50:11] *** Joins: maugzoide (maugzoide@moz-ua3.1qv.43.177.IP)
[16:50:13] *** Quits: JagaJaga (JagaJaga@moz-ua8.hhl.62.178.IP) (Ping timeout: 121 seconds)
[16:50:14] <insaneinside> nathan7: that accounts for 25 of 40 bytes, no?
[16:50:37] <nathan7> insaneinside: yes, but a usize must be aligned naturally
[16:50:38] <XMPPwocky> 24, it's a union
[16:50:47] <insaneinside> ...riiiight.  Alignment.
[16:51:03] <XMPPwocky> oh, I see what you mean
[16:51:09] *** Quits: vks (quassel@moz-b54qc9.fias.uni-frankfurt.de) (Ping timeout: 121 seconds)
[16:51:12] <XMPPwocky> insaneinside: if the pointer is never null, wrap it in NonZero
[16:51:16] <XMPPwocky> and the whole struct'll be 24 bytes
[16:51:21] <nathan7> insaneinside: so u8 + 7 bytes of alignment
[16:51:22] *** Quits: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP) (Client exited)
[16:51:42] *** Joins: kngl (Adium@moz-m3a3bq.ipv4.evonet.be)
[16:51:46] <insaneinside> nathan7: got it, thanks!
[16:51:58] *** Joins: zcourts (zcourts@moz-7ms809.cable.virginm.net)
[16:51:59] <nathan7> you'll readily see it if you look at the IR
[16:52:03] *** Joins: DerisiveLogic (smuxi@moz-g93io6.res.rr.com)
[16:52:24] *** Quits: DerisiveLogic (smuxi@moz-g93io6.res.rr.com) (A TLS packet with unexpected length was received.)
[16:52:32] *** Joins: DerisiveLogic (smuxi@moz-g93io6.res.rr.com)
[16:52:36] *** Quits: tomprogrammer (thomas@moz-0lvdml.tr5r.qept.4dd0.2001.IP) (Connection closed)
[16:53:35] <nathan7> %FlexBox = type { %"2.core::option::Option<*mut u8>", i64, i64 }
[16:53:36] <nathan7> %"2.core::option::Option<*mut u8>" = type { i64, [0 x i64], [1 x i64] }
[16:53:36] <nathan7> @const815 = internal unnamed_addr constant { i64, [8 x i8] } { i64 0, [8 x i8] undef }
[16:53:36] *** Quits: espadrine (tyl@moz-qfr4fg.abo.wanadoo.fr) (Ping timeout: 121 seconds)
[16:53:44] *** Quits: SneakySnake (nya@moz-i9is4u.pool.telekom.hu) (Quit: Leaving)
[16:54:10] <nathan7> actually, derp, the last one shouldn't have been in there
[16:55:01] *** Quits: shellac (pldms@moz-c7026f.bris.ac.uk) (Ping timeout: 121 seconds)
[16:55:22] *** Quits: zmack (zmack@moz-htpein.home.aster.pl) (Connection closed)
[16:55:25] *** Quits: Guest63 (textual@moz-qfs.570.70.83.IP) (Ping timeout: 121 seconds)
[16:55:44] *** Joins: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP)
[16:56:00] *** Quits: zcourts (zcourts@moz-7ms809.cable.virginm.net) (Ping timeout: 121 seconds)
[16:56:05] *** Quits: colinsurprenant (colin@moz-rmn4e2.169.electronicbox.net) (Client exited)
[16:56:07] <pyon> Is there any way to say "you can't construct new instances of this enum, but you can pattern-match on existing instance of it"?
[16:56:11] *** Quits: mgottschlag (quassel@moz-3qnf1h.scc.kit.edu) (Ping timeout: 121 seconds)
[16:56:27] *** Joins: kendle (Mibbit@moz-aoh.2d9.137.219.IP)
[16:56:52] *** Joins: Guest22 (textual@moz-jt9juk.fibertel.com.ar)
[16:57:29] <pyon> Errr "you can't" --> "outside of this module, you can't".
[16:57:36] <XMPPwocky> i don't think so, python
[16:57:37] *** Quits: pnkfelix (pnkfelix@moz-6v5.3nd.202.89.IP) (Ping timeout: 121 seconds)
[16:57:38] <XMPPwocky> er, pyon
[16:57:43] <XMPPwocky> finger autocorrect
[16:58:18] *** Quits: GBGamer (GBGamer@moz-92sbjt.wa.comcast.net) (Ping timeout: 121 seconds)
[16:58:22] *** Parts: kendle (Mibbit@moz-aoh.2d9.137.219.IP) ()
[16:58:34] <pyon> Mmm... I guess I'll have to stick to the workaround of making a separate struct for each enum variant.
[16:58:39] *** Joins: saterus (saterus@moz-o0ug28.res.rr.com)
[16:58:40] <Dabo> pyon, You could store structs with private fields in each of the enum variants
[16:58:54] <Dabo> yeah
[16:59:06] *** Joins: mkoskar (mkoskar@moz-j81.fe3.128.95.IP)
[16:59:23] *** Joins: Matvey-Kuk (Mibbit@moz-dasckh.pppoe.mtu-net.ru)
[16:59:23] *** Quits: saterus (saterus@moz-o0ug28.res.rr.com) (Connection closed)
[16:59:35] *** Joins: saterus (saterus@moz-o0ug28.res.rr.com)
[17:01:32] *** Joins: saterus_ (saterus@moz-o0ug28.res.rr.com)
[17:01:32] *** Quits: saterus (saterus@moz-o0ug28.res.rr.com) (Connection closed)
[17:01:41] *** Quits: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP) (Connection closed)
[17:01:47] <Matvey-Kuk> Hello! I'm new in Rust, could you help me please to implement my own ToJson trait for Vec<MyObject>? The problem is - I don't really realise how 
[17:01:58] *** Joins: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP)
[17:02:28] <Yurume> Matvey-Kuk, ToJson is probably already implemented for every Vec<T> types, so you can simply go implement ToJson for MyObject
[17:02:52] <Yurume> http://doc.rust-lang.org/nightly/serialize/json/trait.ToJson.html
[17:03:03] <Yurume> `impl<A: ToJson> ToJson for Vec<A>` basicallys says the above
[17:03:15] *** Quits: Romster (Romster@moz-4g83e8.rev.eftel.com) (Ping timeout: 121 seconds)
[17:03:28] <Yurume> if you want a custom Json serialization for Vec<T> (e.g. use base64 encoding for Vec<u8>), you should have a wrapper type instead.
[17:03:43] *** Joins: Romster (Romster@moz-4g83e8.rev.eftel.com)
[17:03:52] <Matvey-Kuk> wow, i'll try to understand it, give me a second =)
[17:04:28] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[17:05:20] *** Quits: larhat (Adium@moz-64mvae.outplay.com) (Quit: Leaving.)
[17:06:47] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[17:07:06] *** Joins: alonlevy (alon@moz-p48.q13.159.94.IP)
[17:07:13] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[17:07:26] *** Joins: hhhhhhhhhh (mike@moz-969kuj.cable.virginm.net)
[17:07:26] *** Joins: GBGamer (GBGamer@moz-92sbjt.wa.comcast.net)
[17:07:29] *** Joins: jedireza (jedireza@moz-cjisgg.corp.yahoo.com)
[17:07:29] *** Quits: nano (nano@moz-00j6et.dynamic.kabel-deutschland.de) (Connection closed)
[17:07:35] <insaneinside> How does Box handle Drop?  It's not in boxed.rs... which means we've got some spooky compiler magic going on, right?
[17:07:43] <Ms2ger> We do
[17:07:46] <insaneinside> :(
[17:08:22] <Matvey-Kuk> I already implemented ToJson for my type and now I want to modify exactly Vec<MyType>. The main purpose is to serialise positions of object in Vec like: {1:{...MyObj1...}, 2:{..MyObj2..}}. What do you mean exactly when speak about wrapper? My structure with Vec in it?
[17:09:16] *** Joins: Kxepal (Miranda@moz-9hpqdo.pppoe.mtu-net.ru)
[17:10:33] *** Quits: pylbrecht (pylbrecht@moz-b4nhkg.dynamic.kabel-deutschland.de) (Connection closed)
[17:10:51] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[17:10:51] *** ChanServ sets mode: +o erickt
[17:11:43] <vadimcn> acrichto: which version of msvc are you using?  VS2013 chokes on dirent.h when configuring LLVM with cmake
[17:11:45] *** Quits: Manishearth (manishearth@moz-8puj7k.net) (Ping timeout: 121 seconds)
[17:13:02] *** Joins: daheise (Mibbit@moz-bn0.hv2.219.128.IP)
[17:14:06] <acrichto> vadimcn: hm I remember seeing that error, I'm using VS2013 as well and I'm trying to remember how I fixed that...
[17:14:11] <acrichto> vadimcn: is this compiling rust_builtin.c?
[17:14:33] *** Quits: gsingh93 (gulshan@moz-qnbukr.mi.comcast.net) (Ping timeout: 121 seconds)
[17:14:46] <dschatzberg> When building rust, can I specify the target using a target.json file?
[17:15:04] <daheise> Hello, I wanted to see if anyone would be willing to look at a bit of code I've written with the FFI. It takes a C `char *` and creates a rust `String`. http://miburl.com/HJUrsQ 
[17:15:18] <daheise> It works, but I want to know if there are any suggestions for improvements
[17:15:25] *** Joins: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP)
[17:15:28] *** Quits: areski (areski@moz-erfa2b.dynamicIP.rima-tde.net) (Ping timeout: 121 seconds)
[17:16:11] *** Quits: laumann (thomas@moz-33d.hq0.225.130.IP) (Ping timeout: 121 seconds)
[17:16:14] *** Quits: mkoskar (mkoskar@moz-j81.fe3.128.95.IP) (Client exited)
[17:16:20] <vadimcn> acrichto: no, this is while configuring llvm
[17:16:22] <bluss> daheise: that url is broken
[17:16:28] <bluss> well the redirection of it
[17:16:39] <acrichto> vadimcn: oh weird... I don't remember that happening at all
[17:17:05] <Marvin> How do I concat a list of &str-s?
[17:17:14] <daheise> https://github.com/daheise/tidbits/blob/master/c_str_rs/src/hellors.rs
[17:18:09] <bluss> Marvin: using .concat() or .connect methods
[17:18:12] *** Joins: Manishearth (manishearth@moz-8puj7k.net)
[17:18:58] *** Joins: agjacome (agjacome@moz-acoq63.dynamic.jazztel.es)
[17:19:05] <acrichto> vadimcn: could you gist the full logs?
[17:19:13] <Marvin> sorry, I mean a vec
[17:19:21] *** Joins: canhtak (jeremy@moz-1a9fh1.luxdsl.pt.lu)
[17:19:27] *** Joins: mib_z9l2er (Mibbit@moz-mgmtfn.dyn.telefonica.de)
[17:20:15] *** Joins: skade (skade@moz-m9ib3m.pools.vodafone-ip.de)
[17:20:21] *** Quits: c0170_ (c0170@moz-dev.ffi.127.79.IP) (Ping timeout: 121 seconds)
[17:20:49] *** Quits: kngl (Adium@moz-m3a3bq.ipv4.evonet.be) (Ping timeout: 121 seconds)
[17:21:13] <bluss> daheise: well it looks like it should work. There's the CStr type if you want that, that's probably the route that requires the least amount of code
[17:21:34] <piotr> what's the best way to curry a function?
[17:21:40] *** Joins: edlothiol (user@moz-i70j4f.dynamic.kabel-deutschland.de)
[17:21:51] <bluss> daheise: CStr::from_ptr, then make a String using CStr::to_bytes()
[17:22:34] <mbrubeck> daheise: The code looks fine, though if you want to use more library code you can use CStr::from_ptr, which does something similar internally: http://is.gd/OZhYaY
[17:22:38] *** Quits: fabianvf (fabianvf@moz-j12.dim.197.216.IP) (Connection closed)
[17:22:50] <mbrubeck> or, what bluss said
[17:22:52] <bluss> 2/2 rusties agree
[17:22:58] *** Joins: Shackra (Jorge@moz-7bh.ng6.177.186.IP)
[17:23:23] *** Quits: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[17:23:34] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[17:23:57] *** Joins: eerie (Mibbit@moz-9ml73n.red.bezeqint.net)
[17:24:19] *** Quits: eerie (Mibbit@moz-9ml73n.red.bezeqint.net) (Quit: http://www.mibbit.com ajax IRC Client)
[17:24:25] *** Joins: Quanttek (quassel@moz-25k96c.6fkd.dvrb.8108.2a02.IP)
[17:24:26] <daheise> bluss, mbrubeck: ok, thanks
[17:24:46] *** Joins: Diggsey (diggsey@moz-e3pv94.dsl.pipex.com)
[17:25:18] *** Quits: canhtak (jeremy@moz-1a9fh1.luxdsl.pt.lu) (Client exited)
[17:26:59] *** Quits: Havvy (Havvy@moz-2v0ao2.5euu.k9bm.0007.2601.IP) (Connection closed)
[17:27:09] *** Quits: Manishearth (manishearth@moz-8puj7k.net) (Ping timeout: 121 seconds)
[17:27:18] <Marvin> How do I concatenate a vector of &strs?
[17:27:37] <bluss> Marvin: .concat() should work
[17:27:42] <bluss> playbot: vec!["hi", "there"].concat()
[17:27:44] -playbot- "hithere"
[17:27:49] <Marvin> omg
[17:27:50] <Marvin> is it that simple
[17:27:53] <steveklabnik> also
[17:27:55] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Ping timeout: 121 seconds)
[17:28:00] <steveklabnik> playbot: vec!["hi", "there"].connect()
[17:28:01] -playbot- <anon>:9:29: 9:38 error: this function takes 1 parameter but 0 parameters were supplied [E0061]
[17:28:01] -playbot- <anon>:9         vec!["hi", "there"].connect()
[17:28:01] -playbot- output truncated; full output at: http://bit.ly/1JHXHH0
[17:28:04] <steveklabnik> playbot: vec!["hi", "there"].connect(" ")
[17:28:05] -playbot- "hi there"
[17:28:10] <Marvin> even better, thanks
[17:28:14] *** Joins: c0170 (c0170@moz-dev.ffi.127.79.IP)
[17:28:17] *** Joins: Manishearth (manishearth@moz-8puj7k.net)
[17:28:23] <steveklabnik> that might get renamed to join
[17:28:56] *** Joins: Ralith (ralith@moz-miv.lne.251.63.IP)
[17:28:58] *** Joins: anom (anhedonia@moz-hjpnuk.snydernet.net)
[17:29:09] *** ahal|afk is now known as ahal
[17:29:23] *** Joins: Papels (Mibbit@moz-vqb.jhu.10.186.IP)
[17:29:41] *** Joins: ai (ai@moz-pqofrl.sunline.net.ua)
[17:30:29] *** Joins: papierschiff (papierschif@moz-dpdu0t.pia.fu-berlin.de)
[17:30:43] *** Quits: Papels (Mibbit@moz-vqb.jhu.10.186.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[17:30:48] <mbrubeck> steveklabnik: By the way, I started collecting a list of FAQs for this channel.  A lot of it is stuff that's somewhere in the docs but hard to search for if you don't know the right keyword. Haven't figured out yet if it would be useful to publish somewhere... https://etherpad.mozilla.org/rust-irc-faq
[17:31:01] <mbrubeck> (the concat/connect question reminded me)
[17:31:06] <steveklabnik> mbrubeck: :)
[17:31:17] <mpark> steveklabnik: join sounds like a good name
[17:31:19] <steveklabnik> i am vaguely against FAQs, but it might still be useful
[17:31:22] <bluss> mbrubeck: nice work!
[17:31:23] <steveklabnik> we have like twelve faqs already
[17:31:46] <Marvin> FAQs are very useful though
[17:31:54] <bluss> we need one good faq
[17:32:03] <insaneinside> 1. "Where is the FAQ?"
[17:32:32] *** Joins: Pieter (Mibbit@moz-7bjs3j.ftth.telfortglasvezel.nl)
[17:33:12] *** chmanchester|afk is now known as chmanchester
[17:33:26] *** Quits: daheise (Mibbit@moz-bn0.hv2.219.128.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[17:33:56] *** Quits: Manishearth (manishearth@moz-8puj7k.net) (Ping timeout: 121 seconds)
[17:34:02] <bluss> mbrubeck: the rustbot also has some factoids defined
[17:34:05] <papierschiff> hej, how can i avoid the checking of "Some" / "None" when accessing an vector? (becouse i know there is something in the vector)
[17:34:16] <joelteon> how do you know
[17:34:23] *** Quits: Matvey-Kuk (Mibbit@moz-dasckh.pppoe.mtu-net.ru) (Quit: http://www.mibbit.com ajax IRC Client)
[17:34:29] <papierschiff> while !self.stack.is_empty() { ...
[17:34:35] *** Quits: Pieter (Mibbit@moz-7bjs3j.ftth.telfortglasvezel.nl) (Quit: http://www.mibbit.com ajax IRC Client)
[17:34:41] <bluss> mbrubeck: but we barely know how to list them or browse them like we would this faq
[17:34:51] <insaneinside> How does Box accomplish boxed-(up/down?)casts?  e.g. for some type Type: Trait, there *is* an implicit conversion from `Box<Type>` to `Box<Trait>` when necessary, correct?
[17:34:57] *** Joins: Manishearth (manishearth@moz-8puj7k.net)
[17:35:21] <rkruppe> papierschiff: while let Some(x) = self.stack.pop() ?
[17:35:23] *** Joins: dmac_ (dmac@moz-4kcd1c.ca.comcast.net)
[17:35:30] <vadimcn> acrichto: https://gist.github.com/vadimcn/ff8d76915b8641d5b2ac#file-configure-log
[17:35:50] <steveklabnik> mbrubeck: regardless, nice job. these certianly are frequent questions
[17:35:58] *** Joins: dstrbad (dstrbad@moz-4li.ml6.217.31.IP)
[17:36:00] *** Quits: nico (nico@moz-u00aae.dip0.t-ipconnect.de) (Connection closed)
[17:36:22] <steveklabnik> insaneinside: it's not clear to me what you're actually asking
[17:36:23] *** Joins: daheise (Mibbit@moz-680fo7.dz.ornl.gov)
[17:36:28] *** Joins: jimb (user@moz-09a.i8g.126.207.IP)
[17:36:32] <rkruppe> insaneinside: Box is currently magic, in the bright DST future similar coercions would exist for all smart pointers (maybe it's already there, I don't know)
[17:36:40] <mpark> playbot: vec!["hi", "there"].iter().join(" ")
[17:36:41] -playbot- <anon>:9:36: 9:45 error: type `core::slice::Iter<'_, &str>` does not implement any method in scope named `join`
[17:36:41] -playbot- <anon>:9         vec!["hi", "there"].iter().join(" ")
[17:36:41] -playbot- output truncated; full output at: http://bit.ly/1FeA4pT
[17:36:53] <bluss> rkruppe: insaneinside: Rc<Trait> merged today!
[17:37:03] <seanmonstar> mpark: you want connect(" ")
[17:37:19] <insaneinside> bluss: is that magic as well?
[17:37:22] <rkruppe> bluss: So does that include a general mechanism for all library types to opt in, or is it more magic?
[17:37:24] *** Quits: dstrbad (dstrbad@moz-4li.ml6.217.31.IP) (A TLS packet with unexpected length was received.)
[17:37:34] <mpark> seanmonstar: yeah, I saw that steveklabnik used it above but I also found: http://burntsushi.net/rustdoc/collect/iter/trait.StringJoiner.html so I wanted to try it out
[17:37:40] <bluss> I think it's non-magic
[17:37:42] <rkruppe> Alternatively, what's the PR number? I'll go read that
[17:37:54] <seanmonstar> mpark: thats in a different crate, not std
[17:37:58] <mpark> oh oops, I need the 'use' in that case
[17:37:59] <mpark> haha
[17:38:08] <mpark> yep yep.
[17:38:09] <bluss> rkruppe: https://github.com/rust-lang/rust/pull/24619
[17:38:37] *** Joins: Havvy (Havvy@moz-2v0ao2.5euu.k9bm.0007.2601.IP)
[17:38:52] <papierschiff> rkruppe: this doesn't work, becouse i don't pop in every while cycle. and i need access the the stack.
[17:38:55] <mpark> I've got a trivial fix for a broken link in the book, should I just create a PR?
[17:38:57] <acrichto> vadimcn: wow that is quite weird, is the src/llvm dir dirty in any way?
[17:39:20] *** Quits: Gabriel_7 (Gabriel@moz-its6n2.mtgr.92aj.0e35.2a01.IP) (Ping timeout: 121 seconds)
[17:39:23] <vadimcn> acrichto: no
[17:39:29] <rkruppe> mpark: Steve once told me no PR is too small
[17:39:35] <steveklabnik> truth
[17:39:36] *** Quits: simonoram (simonoram@moz-pllbvg.cable.virginm.net) (Client exited)
[17:39:59] <acrichto> vadimcn: hm are you running from a msys shell?
[17:40:01] <mpark> haha ok, I'm just building the docs to make sure it's fixed and I'll create one
[17:40:10] *** Joins: dawehner (quassel@moz-id4.bjg.78.66.IP)
[17:40:16] <acrichto> vadimcn: there's some errors about missing files that are all msys paths, but other errors are all widnows paths
[17:40:28] <vadimcn> acrichto: no, from cmd
[17:40:40] <acrichto> vadimcn: ah that may be it then
[17:41:01] <vadimcn> well, msys bin is on the PATH
[17:41:09] *** Quits: hjr3 (hradtke@moz-lei.av4.169.69.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[17:41:29] <acrichto> vadimcn: we pass cmake the path to the LLVM source directory as an argument
[17:41:42] <acrichto> maybe that's not getting translated?
[17:41:49] <acrichto> or the fact that we (cd $dir && cmake ...)
[17:41:58] <acrichto> that's caused problems I've seen in the past
[17:41:58] <vadimcn> well, I can try running from msys bash
[17:42:02] <acrichto> b/c the CWD is one way or another
[17:42:11] <mbrubeck> piotr: Here's a really limited `curry` function: http://is.gd/Z8vAkD
[17:42:17] <Binero> Does anyone know how to create a menu_bar with the gtk library in Rust? https://github.com/rust-gnome/gtk/
[17:42:34] <insaneinside> bluss: so... `CoerceUnsized`?
[17:43:10] *** Joins: umbridge (Mibbit@moz-g6k.oht.161.46.IP)
[17:43:15] <mbrubeck> piotr: Well, actually a partial application function.  I guess I mis-named it.
[17:43:22] <vadimcn> acrichto: are you using msys2 cmake?
[17:43:23] <bluss> insaneinside: did you see the example in the test cases?
[17:43:40] <acrichto> vadimcn: nah I installed it separately, although I think the msys2 one should also work
[17:43:50] <insaneinside> bluss: I'm currently reading the RFC.. don't think I did.
[17:44:57] *** Joins: avikpal (avikpal@moz-lhc.t2s.79.112.IP)
[17:45:06] *** Joins: Douman (Douman@moz-of6a0v.dynamic.mts-nn.ru)
[17:45:20] <klutzy> msys2 packages are usually tuned to use /c/path rather than c:\path, so it's likely to cause issues
[17:45:37] <klutzy> (don't know if it's problematic right now)
[17:45:40] <mbrubeck> piotr: Here's a proper `curry` for functions of two arguments: http://is.gd/3o2e0c
[17:45:58] <mbrubeck> piotr: The original function has to take arguments by reference because reasons.
[17:45:59] <piotr> mbrubeck: mindbending
[17:46:06] <Binero> gleb: Is your GTK library feature-complete? 
[17:46:40] <gleb> Binero: not exactly.. it still needs a lot of work
[17:47:07] <Binero> gleb: Ah, explains a lot. Couldn't find bindings to menu_bar :p
[17:47:32] <insaneinside> bluss: ah, so.. I see <https://github.com/nrc/rust/commit/db1b14a194cbdbba813aeb4773ee7fa203a40fb1>, in which CoerceUnsized is implemented ... by default?
[17:47:37] <piotr> I'm trying to test for hash collisions with a HashMap of vectors, running into problems in line 6, any hints?  http://pastebin.com/szxWPbbz
[17:47:44] *** Joins: fluffi (Mibbit@moz-9o5r4v.mn.charter.com)
[17:47:50] <insaneinside> bluss: i.e., there's no `fn coerce` in the impl there.
[17:48:14] *** Joins: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net)
[17:48:15] *** Joins: Savago (Savago@moz-8hd.3b6.246.162.IP)
[17:48:17] <bluss> insaneinside: it's a trait without methods, the important information is in the types involved
[17:48:24] *** Joins: colinsurprenant (colin@moz-rmn4e2.169.electronicbox.net)
[17:48:42] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[17:48:42] *** ChanServ sets mode: +ao pcwalton pcwalton
[17:48:46] *** Quits: GBGamer (GBGamer@moz-92sbjt.wa.comcast.net) (Ping timeout: 121 seconds)
[17:49:01] *** Quits: kmcguire_ (kmcguire@moz-pg1gb9.biz.rr.com) (Connection closed)
[17:49:14] <mbrubeck> piotr: HashMap.get returns a reference, not a value. You might want to use http://doc.rust-lang.org/std/collections/struct.HashMap.html#method.entry
[17:49:16] <insaneinside> bluss: so <https://github.com/rust-lang/rfcs/blob/master/text/0401-coercions.md#custom-unsizing-coercions> is out of date?
[17:49:30] *** Joins: ogham_ (rally@moz-m7s.023.6.31.IP)
[17:49:34] <bluss> insaneinside: I don't know the details
[17:49:35] <talchas> piotr: if you want to remove the vector and re-add it, you'll need to call remove, not get
[17:49:38] *** Joins: kmcguire_ (kmcguire@moz-pg1gb9.biz.rr.com)
[17:50:02] *** Quits: kgrandon (Adium@moz-cnbt07.nemh.1887.0450.2001.IP) (Quit: Leaving.)
[17:51:57] *** Quits: ogham (rally@moz-s78.ubp.6.31.IP) (Ping timeout: 121 seconds)
[17:51:59] <myname> are there any plans for rust programming games?
[17:52:05] <piotr> but can I get a mut from entry()
[17:52:06] <piotr> ?
[17:52:33] *** ogham_ is now known as ogham
[17:52:40] <piotr> ok now it compiles
[17:52:46] <piotr>         let nodeIds: &mut Vec<u64> = hashed.entry(hash).or_insert(Vec::new());
[17:52:57] <piotr> I think I'm too stupid for this language
[17:53:10] <mbrubeck> myname: Yeah, there's even a #rust-gamedev IRC channel and https://www.reddit.com/r/rust_gamedev/ subreddit
[17:53:21] <mbrubeck> myname: If you mean, using Rust for creating games
[17:53:28] *** Joins: hjr3 (hradtke@moz-lei.av4.169.69.IP)
[17:53:37] *** Quits: jethrogb (jethrob@moz-p2iedd.scintilla.utwente.nl) (Quit: Winners never quit.)
[17:53:44] <myname> no, that's not it
[17:53:59] <mbrubeck> Ah, more like programming contests?
[17:54:01] <myname> more like robo code or the like
[17:54:31] <tilpner> myname - If there are, they don't have to public and of high visibility. Create one yourself! :)
[17:54:50] *** Quits: Kynes (Kynes@moz-j2us35.mit.edu) (Quit: Leaving)
[17:55:00] *** Joins: killercup (killercup@moz-qj5qhi.dip0.t-ipconnect.de)
[17:55:05] *** Quits: anom (anhedonia@moz-hjpnuk.snydernet.net) (Ping timeout: 121 seconds)
[17:55:08] *** Quits: mkpankov (user@moz-nleeis.partnertech.ru) (Ping timeout: 121 seconds)
[17:55:22] <papierschiff> i postet my question on stackoverflow, perhaps it is easier to see the problem with the code...
[17:55:25] <papierschiff> http://stackoverflow.com/questions/30222059/rust-avoid-optional-checking-accessing-vector
[17:55:25] *** Joins: Hannibal_Smith (nico@moz-hacth9.retail.telecomitalia.it)
[17:56:05] *** Joins: logan_e (logan_e@moz-mpr4r7.lsrhs.net)
[17:56:28] *** Quits: Nextra (Nextra@moz-b95poc.ewe-ip-backbone.de) (Connection closed)
[17:56:30] *** Joins: kamilc__ (kamil@moz-sh222i.play-internet.pl)
[17:56:57] *** Quits: qwerty_nor (Thunderbird@moz-vuo.d5a.248.5.IP) (Ping timeout: 121 seconds)
[17:57:15] *** Joins: fabianvf (fabianvf@moz-fjqmui.va.comcast.net)
[17:57:18] <talchas> papierschiff: the best way for that is probably while let Some(top) = self.stack.pop() {}
[17:57:43] <talchas> which combine the is_empty, last, and pop calls into the while
[17:58:29] *** Quits: ptalbot (ptalbot@moz-g2mokk.ircam.fr) (Ping timeout: 121 seconds)
[17:58:46] *** Joins: dawehner-afk (quassel@moz-46p.bjg.78.66.IP)
[17:58:52] *** chmanchester is now known as chamnchester|mtg
[17:59:24] *** Quits: daheise (Mibbit@moz-680fo7.dz.ornl.gov) (Quit: http://www.mibbit.com ajax IRC Client)
[17:59:30] <GaryOak_> rust would be tough in a programming competition
[18:00:07] *** Quits: dawehner (quassel@moz-id4.bjg.78.66.IP) (Ping timeout: 121 seconds)
[18:00:40] <talchas> you could also do let stack = std::mem::replace(self.stack, Vec::new()); for top in stack { ... } (unfortunately I think you can't just do for top in self.stack, due to calling a self method in the loop)
[18:01:15] *** Joins: shellac (textual@moz-k1l6dn.bris.ac.uk)
[18:01:27] <killercup> @steveklabnik i'm here if you have any question regarding https://github.com/killercup/trpl-ebook
[18:02:00] *** Quits: untitaker (untitaker@moz-q9sn3v.highway.telekom.at) (Ping timeout: 121 seconds)
[18:02:04] <papierschiff> talchas: this looks good, so it was possible my mistake. thx
[18:02:49] <mbrubeck> papierschiff: I agree with talchas that `while let Some(top) = ...` is best in this case.  But more generally, you can replace your `if let` with `let top = self.stack.last().unwrap()` to get equivalent behavior in less code.
[18:03:50] *** Quits: lov2cod (Adium@moz-6non61.eodv.k60l.0119.2620.IP) (Quit: Leaving.)
[18:04:23] *** Joins: gonzaloserrano (Adium@moz-dlc.6hf.231.77.IP)
[18:05:06] *** Joins: untitaker (untitaker@moz-p6f4vq.highway.telekom.at)
[18:06:07] <papierschiff> mbrubeck: than i will geht the error "irrefutable while-let pattern [E0165]"
[18:06:12] *** Joins: savage884 (dev@moz-39ha0d.com)
[18:07:20] *** Joins: ekiara (emk@moz-o2c214.tech.co.ke)
[18:08:01] <bluss> papierschiff: did you forget the Some in while let Some(top)
[18:08:03] <mbrubeck> papierschiff: Huh?
[18:08:50] <savage884> Hey, so, I had a little application built with Hyper that queried a web service. Last week it compiled. This week it's telling me the client doesn't live long enough, so I'm scratching my head. Are there any Hyper guys around who might just happen to know what... happened?
[18:09:08] *** Quits: terpstra (terpstra@moz-290p6a.gsi.de) (Quit: Leaving)
[18:09:40] <kagami> https://etherpad.mozilla.org/rust-irc-faq <- I'm wondering why there are so many ways in Rust to do the same thing. Slices and iterators are the most vague things for me.
[18:09:49] <papierschiff> mbrubeck: ah, now i understand your idea.
[18:10:24] <bluss> kagami: are there many ways?
[18:10:45] <kagami> bluss: see e.g. converting vec to a slice
[18:11:05] <kagami> All example code uses &v[..] but somehow &v also works
[18:11:36] <bluss> yes maybe that's the evolutionary history that we haven't cleaned up enough
[18:11:50] *** Joins: annodomini (lambda@moz-hceqmj.hfc.comcastbusiness.net)
[18:11:57] <bluss> but &v[..] is just a special case of &v[a..b], both slice endpoints are optional
[18:12:13] <savage884> kagami: I think that on just happens to do the same thing because &vec is a slice and &vec[..] is a slice including all the indices, whereas, say, &vec[1..] skips the first one.
[18:12:36] *** Joins: dawehner (quassel@moz-id4.bjg.78.66.IP)
[18:12:40] *** Quits: papierschiff (papierschif@moz-dpdu0t.pia.fu-berlin.de) (Connection closed)
[18:12:43] *** Joins: rbranson (rbranson@moz-i7m.9o0.201.199.IP)
[18:12:58] *** Joins: hhhhhhhh1 (mike@moz-969kuj.cable.virginm.net)
[18:13:37] *** Joins: fkaa_ (tundmatu@moz-501od2.business.telia.com)
[18:14:03] *** Quits: mme (mme@moz-osl5of.de) (Quit: ZNC - http://znc.in)
[18:14:11] *** Joins: DrPete_ (DrPete@moz-utglrt.skybroadband.com)
[18:14:42] *** Quits: lucian (lucian@moz-iuo.htl.74.194.IP) (Ping timeout: 121 seconds)
[18:14:48] <davebettin> Can someone explain this lifetime annotation? https://github.com/hyperium/hyper/blob/master/src/server/request.rs#L18
[18:14:49] *** Joins: papierschiff (papierschif@moz-dpdu0t.pia.fu-berlin.de)
[18:14:59] *** Quits: DrPete (DrPete@moz-7jn.4nb.124.2.IP) (Ping timeout: 121 seconds)
[18:15:06] *** Quits: summerlight (summerlight@moz-99k.2mj.130.121.IP) (Quit: Leaving)
[18:15:11] *** Joins: summerlight (summerlight@moz-99k.2mj.130.121.IP)
[18:15:22] *** Quits: ekiwi (kevin@moz-s75.v37.61.134.IP) (Client exited)
[18:15:50] *** Quits: dawehner-afk (quassel@moz-46p.bjg.78.66.IP) (Ping timeout: 121 seconds)
[18:15:51] *** Quits: fkaa (tundmatu@moz-501od2.business.telia.com) (Ping timeout: 121 seconds)
[18:15:58] *** Joins: panda (Mibbit@moz-g3m.svq.102.192.IP)
[18:16:04] <talchas> davebettin: "'b must live at least as long as 'a"
[18:16:31] <davebettin> talchas: awesome. thx
[18:16:32] <talchas> (which is required to have &'a mut &'b mut X, as otherwise the inner pointer could stop being valid)
[18:16:33] <panda> Hi, I am mostly a newbie, and I had a question about Boxed allocations
[18:16:55] *** Joins: jshs (jshs@moz-lat0b0.dip0.t-ipconnect.de)
[18:17:03] <panda> I was wondering i one can use Box::new to allocate a struct without allocating anything on the stack
[18:17:14] <panda> (as it stands, i believe the argument is allocated on the stack)
[18:17:23] <Ms2ger> Test it ::)
[18:17:29] <panda> my problem is I have a large struct (two u16 arrays of isze 1<<24)
[18:17:42] <panda> and currently Box::new throws a stack overflow error
[18:17:44] <panda> which makes sense
[18:17:50] <bluss> panda: it's a known problem, if you're on the nightlies use feature(box_syntax)
[18:18:03] <panda> ah i see
[18:18:15] *** Quits: gregburd (uid85367@moz-513f2i.ealing.irccloud.com) (Quit: Connection closed for inactivity)
[18:18:17] *** Joins: Guest_ (textual@moz-rtn.fg7.77.192.IP)
[18:18:17] <panda> nightly from when (i am on one from mid march, but can update)
[18:18:32] <bluss> you don't need to update, it should be the same
[18:18:43] <panda> cool thank you
[18:19:08] *** Joins: Guest__ (textual@moz-6um9co.ca.comcast.net)
[18:19:20] <mbrubeck> Can anyone explain why T requires a 'static bound here but U does not? http://is.gd/3o2e0c
[18:19:52] *** Joins: mcoffin (mcoffin@moz-8l6.usq.54.128.IP)
[18:20:00] <savage884> Ok, have a git diff now. :) Why does this seem to fix a lifetime problem? https://github.com/archer884/zip/commit/b2a59f259f750e6ee1173b23cee0801c4e33b8b7
[18:20:33] <bluss> panda: and then you need the box syntax i.e.  let pointer = box [1,2,3];
[18:20:51] *** Quits: Guest__ (textual@moz-6um9co.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[18:21:16] <panda> yeah, i got that part
[18:21:17] *** Quits: summerlight (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[18:21:18] <panda> thanks a lot
[18:21:21] <bluss> panda: is it a Box<[u16; N]> or a Box<[u16]>?
[18:21:23] *** Joins: Guest__ (textual@moz-6um9co.ca.comcast.net)
[18:21:28] <panda> i didn't know about box_syntax, but googling was usefule
[18:21:32] <mcoffin> ls
[18:21:38] *** Quits: jeffasinger (jeff@moz-u5nog7.res.rr.com) (Client exited)
[18:21:40] <bluss> the latter you can create from a Vec without unstable features
[18:21:41] <panda> actually i was just trying to allocate a struct
[18:21:44] <panda> which contained a
[18:21:46] <bluss> ah
[18:21:47] <panda> [u16; nN]
[18:21:52] <panda> *[u16;N]
[18:21:59] <panda> but with box syntax it works great
[18:21:59] <mbrubeck> savage884: It looks like your original, `query` creates a Client and returns a reference to something owned by the Client, but the Client goes out of scope when `query` returns so the reference would be a dangling pointer.
[18:22:04] <panda> is box syntax in 1.0?
[18:22:25] <Ms2ger> Not in release
[18:22:29] <panda> ok
[18:22:29] <kagami> Wow, that was scary https://a.thumbs.redditmedia.com/_MuD7UoVO1UNkn1IVO_tINRp89199HxyA4VZIqGfN90.png (from a /r/rust)
[18:22:33] <savage884> mbrubeck: That's what I thought. But what? oO
[18:22:36] *** Joins: ixti (ixti@moz-21k.dae.119.188.IP)
[18:24:16] <mbrubeck> savage884: A function in Rust can only return references to data that outlives the function.  That's a core part of Rust's memory safety.
[18:24:26] *** Quits: iiixtiii (ixti@moz-21k.dae.119.188.IP) (Ping timeout: 121 seconds)
[18:24:35] <savage884> mbrubeck: Yes, but what is it returning that doesn't outlive the function? 
[18:24:40] <GaryOak_> Is it because T is being moved twice while U is only moved once?
[18:25:14] <savage884> mbrubeck: This code actually compiled a week ago, for one thing... So... Is it complaining that the response from the server belongs to the client? ...I'm not actually even returning the response, though. So that doesn't make sense, either.
[18:25:28] <bluss> mbrubeck: yes  Box<Trait> is implicitly Box<Trait + 'static>
[18:25:35] *** Joins: dstrbad (dstrbad@moz-84igdg.dsl.iskon.hr)
[18:25:37] <jshs> mbrubeck: re curry: this is more generic http://is.gd/IG0QRK
[18:25:43] *** Quits: dstrbad (dstrbad@moz-84igdg.dsl.iskon.hr) (A TLS packet with unexpected length was received.)
[18:25:44] <mbrubeck> savage884: Oh, I see...
[18:26:09] <mbrubeck> jshs: Nice. I'm still curious why no bound on U
[18:26:30] *** Joins: jeffasinger (jeff@moz-u5nog7.res.rr.com)
[18:26:33] <annodomini> Anyone have a favorite JS/HTML based slideshow software? I'm looking for something fairly simple that I can put together some slides for a short "Intro to Rust" presentation for the Boston meetup/1.0 release party.
[18:26:33] <savage884> mbrubeck: Yeah. It's definitely above my head. :)
[18:26:51] <bluss> mbrubeck: http://is.gd/Gdu3bj
[18:27:06] *** Quits: lyra22 (Admin@moz-0pbl66.static.zebra.lt) (Quit: Leaving)
[18:27:09] <bluss> mbrubeck: that's why. Without the 'a it's implicitly 'static there
[18:27:35] <carllerche> Has anybody setup CI on windows w/ appveyor to run both 32 & 64 bit?
[18:27:38] <savage884> This also fixes it, which I think is even weirder, because I don't see how the scope can be any different: https://github.com/archer884/zip/commit/ba2b69886a5fb802d8176af6291d1ec8fe5fe68e
[18:27:42] *** Joins: kaeluka (kaeluka@moz-tn3lqd.cust.bredbandsbolaget.se)
[18:28:05] *** Quits: Kurufu (Kurufu@moz-pvv8b5.res.rr.com) (Ping timeout: 121 seconds)
[18:28:35] *** Joins: Delimiter (Mibbit@moz-1451mh.unity-media.net)
[18:28:42] <mbrubeck> savage884: Very weird.
[18:29:07] <Delimiter> hi, is there a time in rust that is guaranteed to be monotone (does not jump if system clock is changed)?
[18:29:25] <carllerche> Delimiter: time crate or clock_ticks (supports windows as well)
[18:30:08] *** Joins: Kurufu (Kurufu@moz-pvv8b5.res.rr.com)
[18:30:10] *** Quits: Hannibal_Smith (nico@moz-hacth9.retail.telecomitalia.it) (Quit: Leaving)
[18:30:40] <Delimiter> @carllerche, I cannot find clock_ticks. which function do you mean in the time crate?
[18:30:57] <carllerche> Delimiter: no, clock_ticks is a different crate
[18:31:19] <carllerche> https://crates.io/crates/clock_ticks
[18:32:22] *** Quits: gonzaloserrano (Adium@moz-dlc.6hf.231.77.IP) (Quit: Leaving.)
[18:32:25] *** Joins: gonzaloserrano (Adium@moz-dlc.6hf.231.77.IP)
[18:32:25] <piotr> how can I convert a BigUint back to u64
[18:32:36] <savage884> mbrubeck: Glad I'm not the only one who thought so. :p
[18:32:43] <Delimiter> @carllerche: oh, ok. do you mean PreciseTime in the time crate?
[18:32:45] *** Joins: dellavg (dellavg@moz-9lesb5.retail.telecomitalia.it)
[18:32:48] <carllerche> yes
[18:33:01] <Delimiter> I didn't know it was monotone, thanks!
[18:33:04] <piotr> I'm not sure how to use ToPrimitive trait
[18:33:45] <Delimiter> @carllerche: oh, actually, it's SteadyTime ;)
[18:33:47] *** Quits: skade (skade@moz-m9ib3m.pools.vodafone-ip.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[18:33:52] <jshs> mbrubeck: the inner closure captures the argument `t` of the outer closure, which transfers lifetime restrictions (not sure how to make that precise)
[18:34:23] *** Quits: logan_e (logan_e@moz-mpr4r7.lsrhs.net) (Client exited)
[18:34:26] <mbrubeck> jshs, bluss: Okay, I think I get the gist at least.
[18:34:31] *** Joins: Hannibal_Smith (nico@moz-hacth9.retail.telecomitalia.it)
[18:34:35] *** Joins: dfinninger (dfinninger@moz-fe6.5n7.235.207.IP)
[18:34:59] <jshs> mbrubeck: as bluss said, Box<Fn ...> means Box<Fn ... + 'static>, but you can't guarantee the 'static here without bounding T
[18:35:01] <bluss> great. a T value is captured, no U value is captured
[18:35:05] *** Quits: csoriano_ (csoriano@moz-g6rkdc.net.upcbroadband.cz) (Client exited)
[18:35:16] *** Quits: papierschiff (papierschif@moz-dpdu0t.pia.fu-berlin.de) (Connection closed)
[18:35:34] *** Joins: csoriano_ (csoriano@moz-g6rkdc.net.upcbroadband.cz)
[18:35:38] <mbrubeck> right
[18:35:41] <bluss> so it's just that rustc sees that you capture a T and try to match that to the requirements of the Box<FnMut>
[18:36:05] *** Quits: gonzaloserrano (Adium@moz-dlc.6hf.231.77.IP) (Quit: Leaving.)
[18:36:05] *** Quits: Guest__ (textual@moz-6um9co.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[18:36:25] <bluss> The default 'static is a semi-recent change
[18:36:37] <bluss> it would yell needs lifetime before I think
[18:36:44] *** Joins: xauth (vincent@moz-r6n7aq.xs4all.nl)
[18:37:15] <bluss> oh and &'a FnMut has a different default, &'a (FnMut() + 'a)
[18:37:41] *** Joins: simonoram (simonoram@moz-pllbvg.cable.virginm.net)
[18:37:52] <kagami> Wow, rust 1.0 will be released in two days? Nice.
[18:38:13] *** Quits: shellac (textual@moz-k1l6dn.bris.ac.uk) (Ping timeout: 121 seconds)
[18:38:14] *** Joins: jethrogb (jethrob@moz-p2iedd.scintilla.utwente.nl)
[18:38:30] *** Quits: jethrogb (jethrob@moz-p2iedd.scintilla.utwente.nl) (Quit: Winners never quit.)
[18:38:38] *** Quits: dfinninger (dfinninger@moz-fe6.5n7.235.207.IP) (Ping timeout: 121 seconds)
[18:39:10] *** Joins: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net)
[18:40:19] *** Quits: ayonix (quassel@moz-4i0eh6.xyz) (A TLS packet with unexpected length was received.)
[18:40:25] *** Joins: cptroot (Mibbit@moz-n169l8.caltech.edu)
[18:40:54] *** Joins: nham (nham@moz-755.bu3.214.98.IP)
[18:41:08] *** Joins: anom (anhedonia@moz-7v49kj.rana.at)
[18:41:28] *** Quits: panda (Mibbit@moz-g3m.svq.102.192.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[18:43:13] *** Quits: avikpal (avikpal@moz-lhc.t2s.79.112.IP) (Connection closed)
[18:43:30] *** Joins: lucian (lucian@moz-2c3pda.cable.virginm.net)
[18:45:11] *** chamnchester|mtg is now known as chmanchester
[18:45:36] <tomaka> time to rename "usize/isize" to "uint/int"
[18:46:17] *** Joins: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com)
[18:46:44] *** Joins: dfinninger (dfinninger@moz-fe6.5n7.235.207.IP)
[18:46:46] <mkomitee> Is there a generic way to go from [T] -> Vec<T>?
[18:46:48] *** Quits: frankmcsherry (frankmcsher@moz-la1m3v.adsl.alicedsl.de) (Connection closed)
[18:47:14] *** Joins: fizzbooze (bp@moz-no6phj.sm5k.54kg.0101.2620.IP)
[18:47:28] <tomaka> mkomitee: .to_vec()
[18:47:32] *** Quits: lucian (lucian@moz-2c3pda.cable.virginm.net) (Ping timeout: 121 seconds)
[18:48:01] <mkomitee> Thanks.
[18:48:13] *** Joins: TankC (TankC@moz-403.51d.194.66.IP)
[18:48:20] *** Quits: c0170 (c0170@moz-dev.ffi.127.79.IP) (Connection closed)
[18:48:34] *** Joins: mjewkes (mjewkes@moz-48akd8.eastlink.ca)
[18:49:03] *** Joins: dfinning_ (dfinninger@moz-fe6.5n7.235.207.IP)
[18:49:28] *** Quits: dfinninger (dfinninger@moz-fe6.5n7.235.207.IP) (Connection closed)
[18:49:34] *** Quits: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[18:49:37] <mkomitee> I can never find what I need in the docs. I searched for slice, and got https://doc.rust-lang.org/std/slice/index.html, when I needed https://doc.rust-lang.org/std/primitive.slice.html
[18:49:54] *** Quits: jyeo (uid12229@moz-hv3ndn.charlton.irccloud.com) (Quit: Connection closed for inactivity)
[18:51:17] *** Quits: mjewkes (mjewkes@moz-48akd8.eastlink.ca) (Quit: Leaving...)
[18:51:22] *** Quits: glandium (glandium@moz-8d53n2.ocn.ne.jp) (Ping timeout: 121 seconds)
[18:51:56] <TankC> I'm really struggling with the following error: "cannot infer an appropriate lifetime for automatic coercion due to conflicting requirements"
[18:51:56] *** Quits: nyuszika7h (nyuszika7h@cadoth.net) (Ping timeout: 121 seconds)
[18:52:05] <TankC> snippet here: http://is.gd/3AHhyM
[18:52:30] <TankC> It's raised when I attempt to call IronError::create(Foo, "bar")
[18:53:08] *** Joins: areski (areski@moz-prr0dt.user.ono.com)
[18:53:15] <TankC> I'm not sure how to suggest to the compiler the proper lifetimes
[18:53:15] *** Joins: slomo (slomo@moz-p8m0g2.net)
[18:53:58] *** Joins: freiguy1 (Mibbit@moz-pk0.3db.236.192.IP)
[18:54:01] *** Quits: essem2 (Thunderbird@moz-0g3v4k.biz.rr.com) (Client exited)
[18:54:13] *** Quits: JKWright (JKWright@moz-sed6c9.biz.rr.com) (Ping timeout: 121 seconds)
[18:54:14] *** Quits: b52 (b52@moz-8g2e8f.de) (Quit: WeeChat 1.1.1)
[18:54:48] <mpark> steveklabnik, rkruppe: here's the trivial PR that I mentioned for TRPL: https://github.com/rust-lang/rust/pull/25379
[18:54:59] <freiguy1> Is there any way I can group elements together into a new vec without searching through the grouped result twice like this: http://is.gd/eOW7JR ?
[18:55:28] <bluss> freiguy1: you can use sort or sort_by
[18:55:40] <TankC> IronError::new should move the GbxError onto the heap. I guess the issue is with the &str reference being assigned to GbxError.message
[18:55:43] *** Joins: dstrbad (dstrbad@moz-84igdg.dsl.iskon.hr)
[18:56:19] *** Quits: savage884 (dev@moz-39ha0d.com) (Quit: leaving)
[18:56:31] <freiguy1> bluss: ahh yes, thanks
[18:56:50] <bluss> freiguy1: well that's just half of it I guess. :/
[18:56:56] *** Joins: glandium (glandium@moz-iphv8f.ocn.ne.jp)
[18:57:00] *** Joins: nrc (nrc@moz-9luh02.xtra.co.nz)
[18:57:00] *** ChanServ sets mode: +o nrc
[18:57:16] <jmesmon> freiguy1: itertools has a group_by, which might be what you're after
[18:57:36] <bluss> oh that's right. That needs sorting first too, but it does the rest
[18:57:42] <freiguy1> bluss: yeah, it maybe isn't less computation, but it's less code
[18:58:17] <freiguy1> jmesmon: cool, I saw that after googling 'rust group_by'. Is this a pretty stable and accepted library?
[18:58:57] *** Joins: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net)
[18:58:58] *** Quits: psy (psy@moz-93g.ntd.6.103.IP) (Ping timeout: 121 seconds)
[18:59:05] <jmesmon> freiguy1: people do use it. I don't know what I'd call stable & accepted though.
[18:59:24] *** Joins: logan_e (logan_e@moz-mpr4r7.lsrhs.net)
[18:59:28] *** Joins: sayan (sayan@moz-ip8.595.51.106.IP)
[18:59:30] *** Quits: ellinokon (ellinokon@moz-gh5.r2h.62.178.IP) (A TLS packet with unexpected length was received.)
[18:59:34] *** Joins: ellinokon (ellinokon@moz-gh5.r2h.62.178.IP)
[19:00:12] <jmesmon> It's actually a bit annoying that it only handles runs of keys... I suppose one that handled arbitrary orderings would have some hidden complexity in key lookups.
[19:00:15] *** Quits: jedireza (jedireza@moz-cjisgg.corp.yahoo.com) (Quit: My Mac has gone to sleep. ZZZzzz…)
[19:00:17] *** Joins: isomarcte (isomarcte@moz-vqvrcl.hfc.comcastbusiness.net)
[19:00:29] *** Joins: turtil (turtil@moz-gfc.es4.23.103.IP)
[19:00:59] *** Joins: zzmp (zzmp@moz-4ds.959.14.76.IP)
[19:01:15] *** Parts: csoriano_ (csoriano@moz-g6rkdc.net.upcbroadband.cz) ("")
[19:01:37] *** Joins: Waroong (textual@moz-o43.eij.14.12.IP)
[19:02:34] *** Quits: danilo (danilo@moz-qhkkt5.yourvserver.net) (Connection closed)
[19:03:01] *** Quits: hjr3 (hradtke@moz-lei.av4.169.69.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[19:04:28] <killercup> @mkomitee making primitives more 'relevant' in search is something i originally wanted to do last weekend ;) https://github.com/rust-lang/rust/issues/25167
[19:04:33] *** Quits: simonoram (simonoram@moz-pllbvg.cable.virginm.net) (Client exited)
[19:05:09] <bluss> freiguy1: I'm the maintainer. Minor breaking changes to occur, but major should only be with deprecation and 0.x number version bump (for now)
[19:05:25] <bluss> *do occur
[19:06:01] *** Quits: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP) (Connection closed)
[19:06:17] *** Quits: xauth (vincent@moz-r6n7aq.xs4all.nl) (Quit: Konversation terminated!)
[19:06:19] *** Quits: dawehner (quassel@moz-id4.bjg.78.66.IP) (Ping timeout: 121 seconds)
[19:06:24] *** Joins: brson (brson@moz-cfhap5.mtv2.mozilla.com)
[19:06:54] <freiguy1> bluss: cool, thanks! I'm used to the linq library or the collection lib for scala, both of which are very robust.
[19:07:13] *** nrc is now known as nrc|afk
[19:07:23] <freiguy1> bluss: and itertools adds a lot of missing pieces
[19:07:57] <bluss> most of the pieces are very simple, the idea is just to have them somewhere
[19:08:03] *** Joins: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP)
[19:08:39] *** Quits: logan_e (logan_e@moz-mpr4r7.lsrhs.net) (Client exited)
[19:09:33] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[19:09:47] *** Parts: duncan (paul@moz-dst.ms6.225.173.IP) ()
[19:09:53] *** Joins: wldcordeiro (wldcordeiro@moz-pvsror.ut.comcast.net)
[19:11:10] <Waroong> Hey guys, technologically, what would you say are some of Rust's downsides?
[19:11:29] <zofrex> does "it's hard" count
[19:11:56] <tomaka> Waroong: long compile-times
[19:12:03] <Waroong> zofrex no
[19:12:07] <joehillen> Waroong: right now, it's unoptimized. That will change eventually though
[19:12:09] <Waroong> tomaka that wouldn't count imho
[19:12:19] <tomaka> Waroong: Rust doesn't like "bad code" so it's annoying to write prototypes
[19:12:23] <Havvy> It's biggest upside is also its biggest downside. Dealing with the borrow checker when writing in a garbage collected language would be sufficient for instance.
[19:12:33] <Waroong> what about inherent, built-in downsides that are just there and will be there forever?
[19:12:39] <tomaka> Waroong: well, long compile-times will always be a factor as there are more checks than with any other language
[19:13:27] <Waroong> what about the language itself?
[19:13:34] <Waroong> in kind of an abstract way
[19:13:37] *** Joins: basicdays (basicdays@moz-f3e.15a.49.72.IP)
[19:13:46] <joehillen> Waroong: it's too perfect ;)
[19:13:49] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Ping timeout: 121 seconds)
[19:13:53] <tomaka> there are many problems because of things not implemented yet
[19:13:58] <tomaka> but that are planned
[19:14:10] <Havvy> Struct literals use colons instead of equal signs making a slight imperfection in the grammar's consistency.
[19:14:39] <Waroong> coz you know like Python has inherent problem with concurrency that can't really be fixed without changing the language in a major way
[19:14:43] <Waroong> or with lambda functions
[19:14:49] *** Joins: hjr3 (hradtke@moz-lei.av4.169.69.IP)
[19:14:52] <joehillen> Havvy: don't forget nested type params and a bit shift operator, a mistake they inherited from C++
[19:14:56] *** Quits: wolfviking0 (wolfviking0@moz-8hd.3b6.246.162.IP) (Client exited)
[19:15:24] *** Quits: hjr3 (hradtke@moz-lei.av4.169.69.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[19:15:28] <tomaka> Waroong: Rust is a system language, so basically everything that the O/S allows you to do can be done
[19:15:58] <Waroong> tomaka of course, but how sane will that "done" be within the language? Are there things for which these won't be too elegant?
[19:15:59] <eddyb> s/OS/hardware
[19:16:04] <tomaka> the language itself doesn't have a limit in what can be done in terms of logic
[19:16:20] *** Joins: gsingh93 (gulshan@moz-qnbukr.mi.comcast.net)
[19:16:23] *** Joins: simonoram (simonoram@moz-pllbvg.cable.virginm.net)
[19:16:32] *** Joins: jethrogb (jethrob@moz-p2iedd.scintilla.utwente.nl)
[19:16:50] <geofft> Waroong: one big one for me right now is the lack of a stable ABI, which means that e.g. loadable kernel modules for a Rust kernel are way more painful than they need to be 
[19:17:07] <geofft> of course, I'm not sure there _is_ a Rust kernel with loadable kernel modules yet, and this can be solved in the future 
[19:17:22] <joehillen> Waroong: are you referring to the GIL? Rust has no GC so it will never have that problem. The borrow system makes concurrency completely safe.
[19:17:39] *** Joins: hjr3 (hradtke@moz-lei.av4.169.69.IP)
[19:17:50] *** Quits: Jackneill (Jackneill@moz-hgscfd.pool.digikabel.hu) (Quit: Leaving)
[19:18:20] <geofft> another one is that there's not a lot of static analysis of what functions can do. there's no trait for "function that doesn't allocate memory" or whatever 
[19:18:27] <tomaka> Waroong: there's a problem in Rust that hasn't been tackled yet, which is that you can't store an object and the borrow of this object in the same struct
[19:18:29] <geofft> although perhaps this isn't unsolvable either 
[19:18:42] <fredy> Hello all, is there any way to know if a type implements a trait in runtime? I am trying to do sth like this http://is.gd/1bMJf2
[19:18:51] *** Joins: ayonix (quassel@moz-4i0eh6.xyz)
[19:18:55] <geofft> (or "function that provably terminates", or something) 
[19:18:55] <tomaka> this may seem anedoctical, but it means that you have to use reference-counter pointers where you could use regular pointers instead
[19:19:19] <tomaka> sometimes ^
[19:19:22] *** Quits: moa (Cedric@moz-d23h55.abo.wanadoo.fr) (Ping timeout: 121 seconds)
[19:19:30] <geofft> there's also no Lua-style sandboxing of code, where code doesn't have access to things you don't explicitly give it. but that's not Rust's intended use case at all 
[19:19:42] *** Quits: jfredett (Adium@moz-a9ilmn.fios.verizon.net) (Connection closed)
[19:19:45] *** Joins: jfredett (Adium@moz-a9ilmn.fios.verizon.net)
[19:20:13] <Marvin> How would I substring a string? like Python's "hello"[2:]
[19:20:15] <geofft> fredy: I think the Any type documents that it's not usable for "can it implement this trait", just "is it this type" 
[19:20:47] *** Joins: kkus (kkus@moz-u8u.iof.234.165.IP)
[19:20:49] *** Quits: Waroong (textual@moz-o43.eij.14.12.IP) (Ping timeout: 121 seconds)
[19:21:03] <geofft> fredy: which makes sense if you think about Rust's types/trait model: there are just two levels, pointers to actual things and trait objects for a specific trait 
[19:21:17] <geofft> there's no multi-level virtual inheritance the way there is in C++ 
[19:21:48] *** Quits: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP) (A TLS packet with unexpected length was received.)
[19:21:53] <bluss> Marvin: &"hello"[2..]
[19:22:55] *** chmanchester is now known as chmanchester|afk
[19:22:56] *** Joins: wilfredh (uid159@moz-md9so9.brockwell.irccloud.com)
[19:24:05] *** Quits: twipeD (wipeD@moz-vjpnq2.dip0.t-ipconnect.de) (Quit: G'bye)
[19:24:09] *** Joins: wipeD (wipeD@moz-vjpnq2.dip0.t-ipconnect.de)
[19:24:33] *** Joins: nico (nico@moz-u00aae.dip0.t-ipconnect.de)
[19:24:38] <fredy> geofft: I see, so I have to find another way to implement what I want. Thanks!
[19:25:41] <geofft> yeah. I might consider some sort of mega-trait that implements an asThisTrait(&self) -> Option<&ThisTrait>, asThatTrait(&self) -> Option<&ThatTrait>, etc. 
[19:25:49] *** Joins: skade (skade@moz-r95a5b.dip0.t-ipconnect.de)
[19:25:51] <panicbit> bluss, Marvin. But doing it like that can be a bad idea:
[19:25:54] <panicbit> playbot: &"☺"[1..]
[19:25:55] <geofft> depends on your use case a lot 
[19:25:55] -playbot- output truncated; full output at: http://bit.ly/1PjED8X
[19:26:04] <panicbit> (it panics)
[19:26:37] <bluss> yes. it's about where you get the indices from. Should be from a interrogator method like .find or so
[19:26:54] <fredy> I see
[19:27:22] *** NameNotFound is now known as zz_NameNotFound
[19:27:59] <panicbit> bluss: Sure. I just point this out because I think that that's a difference to the behaviour of Pythons slicing.
[19:28:01] *** Joins: ayonix_ (quassel@moz-4i0eh6.xyz)
[19:28:21] *** Quits: ayonix (quassel@moz-4i0eh6.xyz) (Ping timeout: 121 seconds)
[19:28:35] *** Quits: nico (nico@moz-u00aae.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[19:28:36] *** Joins: pgonda (peter@moz-s36.0tp.134.75.IP)
[19:28:44] *** Joins: mib_845ps2 (Mibbit@moz-crr.mqi.101.89.IP)
[19:29:00] <bluss> right another difference is that indices are unsigned
[19:29:11] <bluss> and no out of bounds indexing allowed
[19:29:11] <mib_845ps2> Is rust suitable for general purpose web developement? Or its not fit for that purpose ?
[19:29:26] *** Quits: cmn (cmn@moz-r1h.buc.47.78.IP) (Connection closed)
[19:29:26] *** Quits: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP) (Connection closed)
[19:29:35] <geofft> mib_845ps2: http://arewewebyet.com/ 
[19:29:47] *** Quits: sayan (sayan@moz-ip8.595.51.106.IP) (Quit: Leaving)
[19:30:03] <geofft> it's certainly a fine language for web development (if a compiled language is what you're looking for), but a lot of stuff is still in the works 
[19:30:10] <tomaka> it fits but it's not ready
[19:30:10] *** Joins: owickstrom (owickstrom@moz-dq04n8.bredband.comhem.se)
[19:30:12] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[19:30:12] <geofft> it's nowhere as mature as like, Django or Rails 
[19:30:31] *** Joins: frankmcsherry (frankmcsher@moz-la1m3v.adsl.alicedsl.de)
[19:31:12] *** Quits: fjh (fjh@moz-mof4p1.62vh.lq23.04f8.2a01.IP) (Quit: ZNC - http://znc.in)
[19:31:20] *** Quits: m_khvoinitsky (quassel@moz-bkl6sn.d57a.lq23.04f8.2a01.IP) (Connection closed)
[19:31:57] *** Joins: tamird (textual@moz-ti3.9hm.3.173.IP)
[19:32:09] *** Quits: gekkio (gekkio@moz-gjerka.fi) (Ping timeout: 121 seconds)
[19:32:31] *** Joins: w4ffles (textual@moz-g7g.toe.144.12.IP)
[19:32:49] *** Quits: vmeson (rmacleod@moz-hq5.1km.224.128.IP) (Quit: Konversation terminated!)
[19:33:03] *** Joins: nerdopoly (nerdopoly@moz-aqvski.range86-143.btcentralplus.com)
[19:33:04] *** Joins: Gabriel_7 (Gabriel@moz-its6n2.mtgr.92aj.0e35.2a01.IP)
[19:33:11] <panicbit> bluss: This question got me thinking. Wouldn't it be nice if ops::Index was implemented for iterators? Such that you could do "it[2..5]" instead of "it.skip(2).take(3)"?
[19:33:29] *** Joins: andresv (textual@moz-rq7fak.cable.starman.ee)
[19:33:31] <FreeFull> I want CTFE
[19:33:33] *** Quits: simonoram (simonoram@moz-pllbvg.cable.virginm.net) (Client exited)
[19:33:38] *** Joins: vmeson (rmacleod@moz-hq5.1km.224.128.IP)
[19:33:56] <FreeFull> For initialing arrays in consts
[19:34:10] <bluss> panicbit: we can do that when we have IndexGet (by-value indexing)
[19:34:12] <andresv> from playpen: note: the compiler unexpectedly panicked. this is a bug. http://is.gd/opW3VB
[19:34:34] <bluss> panicbit: well, we probably can't do that because it would require a blanket impl for Index
[19:34:36] *** Quits: owickstrom (owickstrom@moz-dq04n8.bredband.comhem.se) (Quit: leaving)
[19:34:59] <panicbit> Hm
[19:34:59] *** Quits: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[19:35:02] *** Joins: owickstrom (owickstrom@moz-dq04n8.bredband.comhem.se)
[19:35:02] *** Joins: jedireza (jedireza@moz-cjisgg.corp.yahoo.com)
[19:35:20] *** Joins: shellac (textual@moz-9b49cr.cable.virginm.net)
[19:35:24] *** Joins: skade_ (skade@moz-m9ib3m.pools.vodafone-ip.de)
[19:35:28] *** Joins: ptalbot (ptalbot@moz-j4gnuh.fbx.proxad.net)
[19:36:15] <tomaka> andresv: note that replacing `i = A / 4` with `i = A / 4.0` removes it
[19:36:29] <andresv> should I report this bug or is it already reported
[19:36:32] <tomaka> andresv: ICEs are often due to programming errors
[19:36:53] *** Joins: larhat (Adium@moz-vlo5br.cable.virginm.net)
[19:37:01] <Havvy> tomaka:  It still needs to be reported if it hasn't already been.
[19:37:17] <tomaka> yeah
[19:37:24] *** Quits: skade (skade@moz-r95a5b.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[19:37:24] *** Joins: psy (psy@moz-93g.ntd.6.103.IP)
[19:37:28] *** Quits: maugzoide (maugzoide@moz-ua3.1qv.43.177.IP) (Quit: (null))
[19:37:34] <tomaka> with my rust experience I have some techniques to understand how to bypass ICEs :D
[19:37:48] <niconii> hmm, playpen though
[19:38:15] *** Joins: dawehner (quassel@moz-id4.bjg.78.66.IP)
[19:38:21] <niconii> andresv: since playpen is still on beta.3, you might want to test that out on your own computer
[19:38:27] *** Quits: dstrbad (dstrbad@moz-84igdg.dsl.iskon.hr) (A TLS packet with unexpected length was received.)
[19:38:30] <niconii> andresv: to make sure it hasn't actually been fixed already
[19:38:31] <panicbit> andresv: This issue is apparently already reported: https://github.com/rust-lang/rust/issues/25373
[19:38:47] <panicbit> was*
[19:39:20] *** Joins: Jesse (jruderman@moz-pqc1f5.ca.comcast.net)
[19:40:30] *** Joins: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP)
[19:40:31] *** Joins: simonoram (simonoram@moz-pllbvg.cable.virginm.net)
[19:40:34] *** Joins: c0170 (c0170@moz-dev.ffi.127.79.IP)
[19:40:39] *** Joins: SneakySnake (nya@moz-i9is4u.pool.telekom.hu)
[19:40:52] <mib_845ps2> what would be the most rust like high level general purpose language with GC?
[19:41:01] <mkomitee> killercup: consider me a big +1 on that issue.
[19:41:10] *** Joins: pylbrecht (pylbrecht@moz-b4nhkg.dynamic.kabel-deutschland.de)
[19:41:13] <kali> mib_845ps2: scala maybe
[19:41:49] *** Quits: choplin (choplin@moz-tjnm7m.t6mc.g9m6.001a.240d.IP) (Connection closed)
[19:42:01] <mib_845ps2> kali: i know swift borrowed a lot from rust but its tied to apple ecosyste
[19:42:50] <kali> but who need a GC when you have a borrow checker anyway ? :)
[19:43:04] <mkomitee> Add to that the fact that the first and third choices (first being of little utility, third being what I needed) look identical in the search except for their colors. Apparently I wanted the "black" slice doc instead of the "blue" slice doc. 
[19:43:04] <mbrubeck> mib_845ps2: http://gallium.inria.fr/blog/introduction-to-mezzo/ is an ML-style GC language with Rust-like ownership concepts.
[19:43:23] *** Joins: JagaJaga (JagaJaga@moz-ua8.hhl.62.178.IP)
[19:43:28] *** Quits: pgonda (peter@moz-s36.0tp.134.75.IP) (Ping timeout: 121 seconds)
[19:43:31] *** Joins: zmack (zmack@moz-j05.1kc.25.188.IP)
[19:43:41] *** Joins: pgonda (peter@moz-s36.0tp.134.75.IP)
[19:44:19] *** Joins: swgillespie (swgillespie@moz-1i5.3un.220.167.IP)
[19:44:31] <mib_845ps2> mbrubeck: thanks
[19:44:46] <mib_845ps2> kali: coming from python background it just seems too complicated
[19:44:51] *** Quits: freiguy1 (Mibbit@moz-pk0.3db.236.192.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[19:44:52] *** Quits: nonsensickle_ (nonsensickl@moz-4v0.gkd.16.182.IP) (Connection closed)
[19:44:54] *** Quits: LeSingingTree (SingingTree@moz-sh9.0dv.37.202.IP) (Connection closed)
[19:45:15] *** Joins: LeSingingTree (SingingTree@moz-sh9.0dv.37.202.IP)
[19:45:18] *** Joins: nonsensickle_ (nonsensickl@moz-4v0.gkd.16.182.IP)
[19:45:31] *** Joins: Guest__ (textual@moz-6um9co.ca.comcast.net)
[19:45:42] *** Joins: lov2cod (Adium@moz-6non61.eodv.k60l.0119.2620.IP)
[19:46:08] <rkruppe> mib_845ps2: It gets much, much easier with experience. I come from Python too.
[19:46:42] <mib_845ps2> rkruppe: what do you use rust for?
[19:46:50] *** Joins: twi (twi@moz-dhvtp3.clients.your-server.de)
[19:46:50] <SneakySnake> My efforts are continuously oppressed by the borrow checker
[19:46:58] <Havvy> !mib @ mib_845ps2
[19:46:58] <rustbot> mib_845ps2: Hello, Mibbit user with a “mib_<random>” nickname. Please change your nickname to something less confusing by saying `/nick NEW_NAME_HERE`.
[19:47:15] *** mib_845ps2 is now known as tejinder
[19:47:25] <SneakySnake> I have come to the conclusion that the borrow checker hates me and everything I stand for
[19:47:27] *** Quits: Guest__ (textual@moz-6um9co.ca.comcast.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[19:47:32] *** Joins: choplin (choplin@moz-qkm9un.ap.nuro.jp)
[19:48:00] <kali> SneakySnake: you need patience to get in the comfort zone
[19:48:03] *** Joins: bltavares (bltavares@moz-56b.34b.242.162.IP)
[19:48:07] *** Joins: Guest__ (textual@moz-6um9co.ca.comcast.net)
[19:48:39] *** Joins: Zr40 (zr40@moz-92llkv.adsl.xs4all.nl)
[19:48:41] <SneakySnake> Sometimes I feel like I am running around in circles to satisfy the borrow chcker
[19:48:44] *** Quits: jshs (jshs@moz-lat0b0.dip0.t-ipconnect.de) (Client exited)
[19:48:51] *** Quits: anom (anhedonia@moz-7v49kj.rana.at) (Quit: leaving)
[19:49:18] <SneakySnake> Just (half) joking, stopping now
[19:49:28] <kali> no, i understand the feeling.
[19:49:32] <kagami> SneakySnake: well, you haven't tried haskell yet :) It required even more fun to satisfy the compiler.
[19:49:35] *** Joins: empoZ (empoZ@moz-ccitnk.priv.bahnhof.se)
[19:49:53] <insaneinside> SneakySnake: don't worry, eventually you'll get to the point where the answer is "oh sorry, we use spooky compiler magic to do that in the standard library."
[19:49:54] *** Quits: zmack (zmack@moz-j05.1kc.25.188.IP) (Connection closed)
[19:49:56] <kali> been there.
[19:49:59] *** Quits: jedireza (jedireza@moz-cjisgg.corp.yahoo.com) (Quit: My Mac has gone to sleep. ZZZzzz…)
[19:50:02] *** Quits: empoZ (empoZ@moz-ccitnk.priv.bahnhof.se) (Quit: - nbs-irc 2.39 - www.nbs-irc.net -)
[19:50:08] <SneakySnake> In C++, I feel a lot more free, but sometimes the same thing happens in trying to figure out why my program crashes
[19:50:12] *** Quits: hjr3 (hradtke@moz-lei.av4.169.69.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[19:50:13] *** Joins: empoZ (empoZ@moz-ccitnk.priv.bahnhof.se)
[19:50:25] *** joehillen is now known as joehillen|away
[19:50:27] *** Quits: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP) (Connection closed)
[19:50:45] *** Quits: andresv (textual@moz-rq7fak.cable.starman.ee) (Quit: My Mac has gone to sleep. ZZZzzz…)
[19:50:53] <SneakySnake> Just running around in circles trying to chase down a heisenbug that even static analysis tools and code instrumentation can't detect
[19:50:55] *** Quits: owickstrom (owickstrom@moz-dq04n8.bredband.comhem.se) (Ping timeout: 121 seconds)
[19:50:56] <myname> kagami: huh? haskell is pretty easy
[19:50:58] *** Joins: gchp (gchp@moz-jv3.ej8.255.109.IP)
[19:51:00] <simukis> can I pattern match through a reference? i.e. `.find(|(x, y)|)`, but the find method passes in a reference, so it doesn’t work.
[19:51:03] *** Joins: m_khvoinitsky (quassel@moz-bkl6sn.d57a.lq23.04f8.2a01.IP)
[19:51:03] <SneakySnake> So there is definitely a tradeoff
[19:51:09] <rkruppe> SneakySnake: That's exactly why I don't like to write C++. If it crashes, it's harder to fix than a rustc error, and if it doesn't crash I get paranoid
[19:51:11] *** Joins: sommoyogurt (sommoyogurt@moz-p79ls2.ip245.fastwebnet.it)
[19:51:20] <kali> rkruppe: +1
[19:51:38] *** Quits: simonoram (simonoram@moz-pllbvg.cable.virginm.net) (Client exited)
[19:51:51] *** Quits: gchp (gchp@moz-jv3.ej8.255.109.IP) (Quit: Leaving...)
[19:52:02] *** Quits: blank_na1e (blank_name@moz-9koqv8.mi.frontiernet.net) (Quit: leaving)
[19:52:15] <kali> the borrow checker is unforgiven, but loyal
[19:52:26] <bluss> is there a way to take a list of lifetime and type parameters as macro arguments?
[19:53:01] <bluss> basically to expand to  impl<($stuff),*> Foo for $type { }
[19:53:12] *** Joins: blank_name (blank_name@moz-9koqv8.mi.frontiernet.net)
[19:53:16] *** Quits: fizzbooze (bp@moz-no6phj.sm5k.54kg.0101.2620.IP) (Ping timeout: 121 seconds)
[19:53:47] *** Joins: simonoram (simonoram@moz-pllbvg.cable.virginm.net)
[19:53:59] *** Quits: Fiveside (fiveside@moz-t2eatg.vsp.com) (Ping timeout: 121 seconds)
[19:54:06] *** Joins: hjr3 (hradtke@moz-lei.av4.169.69.IP)
[19:55:49] *** Quits: dfinning_ (dfinninger@moz-fe6.5n7.235.207.IP) (Connection closed)
[19:55:54] *** Quits: Selemur (chatzilla@moz-tpgfbn.kawo1.rwth-aachen.de) (Connection closed)
[19:56:42] *** Joins: Stents_ (Stents@moz-r8d.u6c.187.68.IP)
[19:56:43] *** Quits: slomo (slomo@moz-p8m0g2.net) (Quit: Ex-Chat)
[19:57:00] <tejinder> Can you guys please give me some suggestions to new programming languages? I am not concerned about system level programming. I just need advice. I only know python language. Thanks in advance.
[19:57:03] *** Quits: fabiand (fabiand@moz-682dbr.dip0.t-ipconnect.de) (Quit: Verlassend)
[19:57:20] *** Joins: viel (zeroknowled@moz-2k31nn.retail.telecomitalia.it)
[19:57:22] <myname> haskell
[19:57:28] <Hannibal_Smith> tejinder, really a stange question to ask here. OCaml is pretty nice
[19:57:31] <rkruppe> bluss: tt can match lifetimes, but it appears you can't paste it in parameter lists http://is.gd/Iiludx
[19:58:48] *** Quits: dawehner (quassel@moz-id4.bjg.78.66.IP) (Ping timeout: 121 seconds)
[19:58:51] *** Quits: Stents (Stents@moz-r8d.u6c.187.68.IP) (Ping timeout: 121 seconds)
[19:59:18] *** Quits: twi (twi@moz-dhvtp3.clients.your-server.de) (A TLS packet with unexpected length was received.)
[19:59:24] *** Joins: dawehner (quassel@moz-46p.bjg.78.66.IP)
[19:59:29] *** Joins: apdapreturns (Davi_@moz-fsddcr.gvt.net.br)
[20:00:02] *** Joins: thelastinuit (thelastinui@moz-doh.aqt.240.148.IP)
[20:00:21] <apdapreturns> Where should I go to learn Rust? I saw Rust in Y hours, doc.rust-lang.org and some books but I'm not sure
[20:00:36] *** Quits: Guest22 (textual@moz-jt9juk.fibertel.com.ar) (Quit: My Mac has gone to sleep. ZZZzzz…)
[20:00:47] <niconii> !book
[20:00:48] *** Quits: kmcguire_ (kmcguire@moz-pg1gb9.biz.rr.com) (Connection closed)
[20:00:48] <rustbot> The Rust Programming Language, read it online at http://doc.rust-lang.org/book/
[20:01:12] <niconii> apdapreturns: ^ that would be the definitive place to learn
[20:01:13] *** Quits: thelastinuit (thelastinui@moz-doh.aqt.240.148.IP) (Quit: Textual IRC Client: www.textualapp.com)
[20:01:20] <tejinder> thanks for suggestions all :)
[20:01:38] *** Joins: kmcguire_ (kmcguire@moz-pg1gb9.biz.rr.com)
[20:01:48] <niconii> apdapreturns: there's also rust by example, i'm not sure if it's up-to-date though?
[20:01:53] *** Quits: m_khvoinitsky (quassel@moz-bkl6sn.d57a.lq23.04f8.2a01.IP) (A TLS packet with unexpected length was received.)
[20:01:58] <apdapreturns> 1.0 beta -> stable is nailing the last performance / general issues?
[20:02:17] *** Joins: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP)
[20:02:34] *** Joins: naerbnic (naerbnic@moz-ad7.4ra.239.216.IP)
[20:02:41] *** Joins: jedireza (jedireza@moz-cjisgg.corp.yahoo.com)
[20:02:45] <Hannibal_Smith> No, there are issues like drop on zero (or am I wrong?)
[20:02:55] <rkruppe> apdapreturns: No, it only guarantees backwards compatibility. Everything will get even better in the coming releases (one every six weeks!)
[20:02:55] <Hannibal_Smith> Ahhh, zero on drop
[20:03:01] *** Quits: SneakySnake (nya@moz-i9is4u.pool.telekom.hu) (Connection closed)
[20:03:01] <bluss> !book @ apdapreturns 
[20:03:02] <rustbot> apdapreturns: The Rust Programming Language, read it online at http://doc.rust-lang.org/book/
[20:03:29] <apdapreturns> How does it compare in benchmarks, not a considerable slowdown like Java, right?
[20:03:31] <bluss> rkruppe: yeah it seems impossible
[20:03:43] <niconii> apdapreturns: 1.0 is just when you can expect your code to not break
[20:03:52] <niconii> apdapreturns: rust aims to be competitive with c++
[20:04:07] <mkpankov`> apdareturns more like speed up, in many cases
[20:04:09] <Hannibal_Smith> apdapreturns, if you are good, you can even surpass C++
[20:04:09] *** Joins: wolfviking0 (wolfviking0@moz-8hd.3b6.246.162.IP)
[20:04:14] <rkruppe> apdapreturns: The goal is to be as fast as C++. Sometimes that doesn't work, and sometimes you have to put in more effort than we'd like, but it's already pretty good
[20:04:23] *** Joins: Delemiter (Mibbit@moz-1451mh.unity-media.net)
[20:04:27] <apdapreturns> Is there any equivalent for this @ Rust? https://goo.gl/uGpvmq
[20:04:32] *** Joins: ygrek (user@moz-8j9aeu.org.ua)
[20:04:32] *** Quits: mkpankov` (mkpankov@moz-7qs.70f.16.195.IP) (Connection closed)
[20:04:39] *** Joins: mkpankov (mkpankov@moz-o5n.evt.23.84.IP)
[20:04:44] <apdapreturns> and it's write counterparts, etc
[20:04:50] <Delemiter> hey, how do I loop in reverse (like 8...0)
[20:05:00] <Delemiter> ?
[20:05:01] <FreeFull> Delemiter: With 8 included?
[20:05:02] <apdapreturns> Delemiter, make a counter starting from 8 and then decrease it
[20:05:08] <niconii> apdapreturns: that's some really os-specific stuff, but if you can do that in C, rust can interface with C
[20:05:13] <rkruppe> apdapreturns: You can just call any C function. There should be a crate somewhere that makes it easy (somethingsomething-sys)
[20:05:14] <Delemiter> nope, but with 0 included ;)
[20:05:14] <Murarth> (0..8).rev()
[20:05:23] <FreeFull> What Murarth said then
[20:05:31] <apdapreturns> or that
[20:05:40] <FreeFull> playbot: for x in (0..8).rev() { print!("{} ", x); }
[20:05:41] <apdapreturns> if I didn't know that I'd use that archaic solution :P
[20:05:42] -playbot- 7 6 5 4 3 2 1 0 ()
[20:05:47] <Wqer`> I've wondered about this myself. How come 8..0 isn't supported?
[20:05:52] <Delemiter> @Murath, perfect, thanks ;)
[20:06:16] <rkruppe> Wqer`: It's just an empty range, because end <= start. That is useful sometimes, and more consistent always.
[20:06:26] <apdapreturns> playbot: for x in (8..0) { print!("{} ", x); }
[20:06:28] -playbot- ()
[20:06:32] *** Wqer` is now known as wqer
[20:06:49] <rkruppe> Wqer`: Imagine if the start and end are variables, then it would silently switch order :x
[20:07:07] *** Joins: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP)
[20:07:30] *** Quits: jophish (jophish@moz-epocft.broadband.tesco.net) (Connection closed)
[20:07:33] *** Joins: jophish (jophish@moz-epocft.broadband.tesco.net)
[20:07:38] *** Quits: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net) (A TLS packet with unexpected length was received.)
[20:07:52] *** Quits: xificurC (xificurC@moz-3u7gmd.chello.sk) (Connection closed)
[20:08:06] *** Quits: arBmind (Andreas@moz-ulmvpi.dip0.t-ipconnect.de) (Quit: Leaving.)
[20:09:22] *** chmanchester|afk is now known as chmanchester
[20:09:47] *** Joins: Fiveside (fiveside@moz-t2eatg.vsp.com)
[20:10:10] *** Quits: ytain (ytain@moz-01dgko.cpe.pppoe.ca) (Quit: Textual IRC Client: www.textualapp.com)
[20:10:23] <apdapreturns> What is the problem with macros?
[20:10:25] <posix4e> Is there a rust foundation
[20:10:29] <apdapreturns> "Macros ... will prevent any good IDEs from existing"
[20:10:30] <steveklabnik> posix4e: there is not
[20:10:30] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[20:10:45] <steveklabnik> posix4e: the closest thing is mozilla itself, but of course, that's very different than a dedicated entity
[20:10:49] <geofft> apdapreturns: re ReadProcessMemory, https://github.com/retep998/winapi-rs/blob/master/lib/kernel32-sys/src/lib.rs#L1236 
[20:10:56] <posix4e> Purposeful? Should we start one
[20:10:57] <steveklabnik> apdapreturns: that is one person's opinion
[20:11:05] <geofft> apdapreturns: https://crates.io/crates/kernel32-sysl 
[20:11:11] <steveklabnik> posix4e: imho, such a thing would be useful in say, a year or two
[20:11:33] <geofft> apdapreturns: Rust's current macro system (macro_rules!) is designed to make sure that it's possible to correctly highlight / syntax-check code, even if you aren't expanding the macros 
[20:11:35] <posix4e> I think the issue is I'd like to donate
[20:11:45] *** Quits: colinsurprenant (colin@moz-rmn4e2.169.electronicbox.net) (Client exited)
[20:11:51] *** Joins: zcourts (zcourts@moz-7ms809.cable.virginm.net)
[20:11:57] <apdapreturns> okay
[20:11:59] <Delemiter> hmm, how do you initialize a [Arc<Mutex<usize>>; 100] ??
[20:12:01] <posix4e> Taxes ya know
[20:12:02] <Zr40> how do I use Manishearth's clippy plugin? I've added it to dev-dependencies in Cargo.toml, but building my code with #![plugin(clippy)] returns: error: can't find crate for `clippy`
[20:12:11] <steveklabnik> Delemiter: right now, you have to type it out 100 times
[20:12:21] *** Quits: tadh (quassel@moz-pg51s5.CWRU.Edu) (Ping timeout: 121 seconds)
[20:12:33] <steveklabnik> Delemiter: fixed size arrays are a bit awkward
[20:12:39] <Delemiter> @steveklabnik: seriously!? ;(
[20:12:42] *** Joins: asQuirreL (asQuirreL@moz-ro1qqu.ox.ac.uk)
[20:12:43] <steveklabnik> posix4e: understood :) 
[20:12:45] <posix4e> No macro magic
[20:12:46] *** Quits: vmx (vmx@moz-ga9kub.pools.vodafone-ip.de) (Quit: Leaving)
[20:12:48] *** Quits: mfs (mfs@moz-g35m6n.sda.io) (Ping timeout: 121 seconds)
[20:12:51] <steveklabnik> Delemiter: yeah, if it's not Clone
[20:12:52] *** Joins: jaster (jaster@moz-trk099.u42v.sj0n.5300.2607.IP)
[20:12:56] <steveklabnik> err Copy
[20:13:03] <steveklabnik> alternatively, use a Vec
[20:13:07] <Delemiter> steveklabnik, ok, thanks!
[20:13:07] <steveklabnik> instead of an array
[20:13:14] <mcoffin> In a syntax extension, why doesn't quote_item recognize parameterized generic lifetimes when quoting a method? For instance, I it yells about an unexpected token `'b` when the quote on line 31 is invoked. https://gist.github.com/mcoffin/559e717d63259570abf4
[20:13:16] *** Quits: ygrek (user@moz-8j9aeu.org.ua) (Ping timeout: 121 seconds)
[20:13:21] *** Joins: twi (twi@moz-dhvtp3.clients.your-server.de)
[20:14:16] <mcoffin> Also: is there a better way to do it that I'm just missing?
[20:14:19] *** Joins: m_khvoinitsky (quassel@moz-bkl6sn.d57a.lq23.04f8.2a01.IP)
[20:14:33] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Ping timeout: 121 seconds)
[20:14:40] *** Quits: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP) (Connection closed)
[20:15:03] <tomaka> mcoffin: I think that a method is not an item
[20:15:32] <tomaka> mcoffin: the `'b` it yells about is probably at "&'b mut self"
[20:15:36] *** Quits: asmodeius (asmodeius@moz-vhv.7vr.156.149.IP) (Ping timeout: 121 seconds)
[20:15:50] <tomaka> rusti: fn foo<'a>(&'a mut self) {}
[20:15:51] -playbot- <anon>:9:21: 9:23 error: unexpected token: `'a`
[20:15:51] -playbot- <anon>:9         fn foo<'a>(&'a mut self) {}
[20:15:51] -playbot- output truncated; full output at: http://bit.ly/1JIpVS7
[20:15:51] <mitsuhiko> wtf happend to the /r/rust design?
[20:16:00] <mitsuhiko> there appears to be a scary circle
[20:16:15] <mitsuhiko> of an owl?
[20:16:22] *** Joins: gy (Mibbit@moz-8qh.1fk.166.205.IP)
[20:16:44] <steveklabnik> mitsuhiko: it's a joke
[20:16:49] <steveklabnik> there's a legend of zelda game
[20:16:55] <tomaka> mcoffin: you need to group the "impl" and the "fn" inside it
[20:16:57] <steveklabnik> where a moon is ominously getting bigger for three days
[20:16:58] *** Joins: xificurC (xificurC@moz-3u7gmd.chello.sk)
[20:16:59] <mitsuhiko> aaah
[20:17:01] <tomaka> mcoffin: an "impl" block *is* an item
[20:17:07] *** Joins: tadh (quassel@moz-pg51s5.CWRU.Edu)
[20:17:08] *** Joins: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net)
[20:17:15] <mitsuhiko> steveklabnik: and i even played it
[20:17:18] <steveklabnik> hahah :)
[20:17:19] *** Quits: choplin (choplin@moz-qkm9un.ap.nuro.jp) (Connection closed)
[20:17:35] *** Joins: debu (debu@moz-6momm3.adsl.alicedsl.de)
[20:17:37] *** Joins: Guest22 (textual@moz-jt9juk.fibertel.com.ar)
[20:17:53] <rkruppe> I wonder how big it'll get until the 1.0 release (when it presumably ends?)
[20:18:03] <mitsuhiko> so if i would make an rfc for making .lock() on mutex panic: would that even make sense?
[20:18:09] <mitsuhiko> or is the ship sailed for changing that api
[20:18:50] *** Joins: choplin (choplin@moz-96vu56.t6mc.g9m6.001a.240d.IP)
[20:18:54] *** Quits: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[20:18:56] <bluss> changing yes. Deprecating and adding a new method would be possible
[20:19:02] *** Joins: new_one (new_one@moz-suj.lcf.15.50.IP)
[20:19:17] <apdapreturns> Do I use cargo to build my Rust programs?
[20:19:30] *** Quits: wipeD (wipeD@moz-vjpnq2.dip0.t-ipconnect.de) (Connection closed)
[20:19:30] <steveklabnik> apdapreturns: yes
[20:19:34] *** Quits: acharles (acharles@moz-mi1459.static.qwest.net) (Client exited)
[20:19:38] <steveklabnik> the vast, vast majority of them anway
[20:19:44] *** Quits: choplin (choplin@moz-96vu56.t6mc.g9m6.001a.240d.IP) (Connection closed)
[20:19:45] <rkruppe> bluss, mitsuhiko The new API would have to use a less obvious name than lock() though :(
[20:19:59] *** Quits: Rym (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[20:20:13] *** Quits: lov2cod (Adium@moz-6non61.eodv.k60l.0119.2620.IP) (Connection closed)
[20:20:14] <mkomitee> Anyone know of a way to mutate argv0 in a rust program?
[20:20:58] *** Joins: kgrandon (Adium@moz-ilv.ukc.122.2.IP)
[20:21:12] <steveklabnik> what would that do?
[20:21:15] <steveklabnik> just curious
[20:21:27] <mkomitee> Change the process name in the process tree. 
[20:21:37] *** Joins: jshs (jshs@moz-lat0b0.dip0.t-ipconnect.de)
[20:21:40] *** Quits: vmeson (rmacleod@moz-hq5.1km.224.128.IP) (Ping timeout: 121 seconds)
[20:21:44] <steveklabnik> ahh
[20:21:53] <mkomitee> Which rarely matters, but I'm trying to do something dirty where it does.
[20:22:26] <steveklabnik> so  exists
[20:22:28] <steveklabnik> http://doc.rust-lang.org/nightly/std/rt/args/index.html
[20:22:31] <steveklabnik> but it is unstable
[20:22:43] <steveklabnik> looks like http://doc.rust-lang.org/nightly/std/rt/args/fn.put.html would do that, i'd imagine
[20:22:56] <mkomitee> Though not beta-stable.
[20:23:16] *** Quits: kamilc__ (kamil@moz-sh222i.play-internet.pl) (Quit: Linkinus - http://linkinus.com)
[20:23:35] *** Joins: cmn (cmn@moz-r1h.buc.47.78.IP)
[20:23:54] *** Joins: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP)
[20:24:34] <mkomitee> Thanks. I had no idea there was a std:rt.
[20:24:54] *** joehillen|away is now known as joehillen
[20:25:01] <steveklabnik> our runtime is very, very small
[20:25:07] <steveklabnik> but yeah, it exists :)
[20:25:14] <mkomitee> I don't know if I can offer any real constructive feedback, but I've struggled w/ the rust documentation. Some things are hard to find, but in ways that make it seem like it doesn't exist.
[20:25:58] <mcoffin> tomaka: Gotcha. What I ended up doing is temporarily wrapping the fn in an impl block, then unwrapping it, then putting it in to the real impl block: https://gist.github.com/mcoffin/559e717d63259570abf4. Seems like a lot of effort. Any reason there isn't a quote_impl_item! macro so one could procedurally build ImplItems?
[20:26:15] <mkomitee> For example, this: https://github.com/rust-lang/rust/issues/25167 -- the results of searching for slice aren't helpful.
[20:26:16] <steveklabnik> mkomitee: yeah, the std lib docs are a bit akward sometimes. i found this by searching for 'args' though
[20:26:38] <apdapreturns> i can use macros to make funcs that take any number of arguments?
[20:26:41] *** Quits: emilk (emilk@moz-eossn5.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[20:26:43] <mkomitee> You're right. This one is on me :)
[20:26:47] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[20:26:47] *** ChanServ sets mode: +o erickt
[20:26:54] <maurer> Wow, macro_rules! does end up being super flexible
[20:26:58] <maurer> https://bpaste.net/show/04437a2fd608
[20:27:09] <geofft> apdapreturns: yes. well, things you call in macros always have a !, like println!() 
[20:27:15] <geofft> but you can define your own things like println! 
[20:27:31] <apdapreturns> that ! makes it look so more enthusiastic
[20:27:36] <tomaka> mcoffin: quote macros are mostly used by the compiler itself
[20:27:37] <eddyb> maurer: is that prolog?
[20:27:40] <mkomitee> That issue though, I searched for slice (wanted to know how to go slice -> vec) and the only difference between the first (not helpful) and third (helpful) entries is the color of the substring slice. Even the descriptions are identical.
[20:27:40] <geofft> :) 
[20:27:51] <tomaka> mcoffin: If a macro is missing it's probably because the compiler didn't need it
[20:27:52] <geofft> it's to make you know that the insides don't necessarily follow normal Rust rules 
[20:27:58] <maurer> eddyb: It's closer to datalog, but yeah
[20:28:03] <maurer> eddyb: (since it's forwards chaining)
[20:28:03] <apdapreturns> what is a variable binding? I looked onto the concept and how they are more powerful and secure because they start immutable but it didn't really explain what it is
[20:28:19] <steveklabnik> apdapreturns: what did you read? just curious
[20:28:28] <apdapreturns> https://doc.rust-lang.org/book/variable-bindings.html
[20:28:28] <steveklabnik> http://doc.rust-lang.org/nightly/book/variable-bindings.html is the offical docs on them
[20:28:32] <steveklabnik> gotcha
[20:28:51] <steveklabnik> how much programming have you done before? and in what langauges?
[20:29:10] *** zz_NameNotFound is now known as NameNotFound
[20:29:12] *** Quits: boblehest (jlode@moz-mquaka.customer.lyse.net) (Quit: leaving)
[20:29:12] *** Joins: ygrek (user@moz-8j9aeu.org.ua)
[20:29:57] <apdapreturns> I have done some C++, didn't advance much on it, Lua (that I'm not so good anymore, I should read PIL again), mostly.
[20:30:05] <steveklabnik> okay
[20:30:14] <steveklabnik> so, bindings are very similar to variables in C++ and Lua
[20:30:14] <apdapreturns> Variable bindings are just variables that start immutable and have type inference?
[20:30:17] <steveklabnik> the main differences are
[20:30:19] *** Quits: pgonda (peter@moz-s36.0tp.134.75.IP) (Ping timeout: 121 seconds)
[20:30:21] <steveklabnik> bindings are immutable by default
[20:30:32] <steveklabnik> bindings have 'shadowing', which means you can re-delcare them, and the old one gets ignored
[20:30:45] <steveklabnik> and, you can use patterns to create a binding
[20:30:55] *** Quits: areski (areski@moz-prr0dt.user.ono.com) (Ping timeout: 121 seconds)
[20:30:58] <steveklabnik> rust's 'let x = 5;' is very similar to C++'s 'int x = 5;'
[20:31:08] <steveklabnik> well, that'd be const int
[20:31:09] *** Quits: Lee1092 (uid13277@moz-p2e1ii.brockwell.irccloud.com) (Quit: Connection closed for inactivity)
[20:31:09] <steveklabnik> i guess
[20:31:10] <steveklabnik> heh
[20:31:48] *** Quits: maraoz (maraoz@moz-7fc9s6.fibertel.com.ar) (Ping timeout: 121 seconds)
[20:31:50] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[20:32:11] *** Joins: arBmind (Andreas@moz-pkceb5.adsl.alicedsl.de)
[20:32:34] <apdapreturns> patterns contain matchers?
[20:32:36] *** Joins: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net)
[20:32:56] <apdapreturns> like, it uses matchers to do something if a certain binding's value is something except _ (anything)?
[20:33:10] *** Joins: wuah (Mibbit@moz-ia6.3kp.70.141.IP)
[20:33:18] <eddyb> apdapreturns: patterns *are* matchers
[20:33:22] *** Joins: peeves (Mibbit@moz-dasckh.pppoe.mtu-net.ru)
[20:33:25] *** Joins: DemonOne (Avi@moz-b6r7nm.cablep.bezeqint.net)
[20:33:34] *** Joins: areski (areski@moz-prr0dt.user.ono.com)
[20:33:35] <eddyb> unless you're using a specific definition of "matcher"
[20:33:54] <steveklabnik> so like, 'let (x, y) = (1, 2)' < the left side is a pattern, it matches the right side
[20:33:59] <steveklabnik> after that, x will be 1 and y will be 2
[20:34:13] <mkomitee> steveklabnik: is there a way I can gain access to std::rt using beta?
[20:34:18] <steveklabnik> nope
[20:34:20] <mkomitee> via a crate or something?
[20:34:24] <steveklabnik> you have to use nightly for unstable things
[20:34:36] <tomaka> `let &&((a, &&b), &c, &d) = &&((1, &&2), &3, &4);` works as well
[20:34:38] <apdapreturns> so, to learn Rust I'd read the book and then the cross-links in between to understand at more details?
[20:34:41] <mkomitee> k.
[20:34:47] <steveklabnik> there are a few crates which rust keeps private that you can use external forms for, but not the runtime
[20:34:48] *** Joins: nwin (textual@moz-r1aari.pools.arcor-ip.net)
[20:34:58] *** Quits: Guest_ (textual@moz-rtn.fg7.77.192.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[20:35:14] *** Quits: wuah (Mibbit@moz-ia6.3kp.70.141.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[20:35:35] *** Joins: jdm (jdm@moz-0p6oj8.ckpj.s0pt.0450.2001.IP)
[20:35:35] *** ChanServ sets mode: +o jdm
[20:36:04] <mkomitee> I was hoping rt was one of them, but I guess if I want to be super-shady I should be on nightly.
[20:36:20] *** Quits: swgillespie (swgillespie@moz-1i5.3un.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[20:36:21] *** Joins: james4k_ (james@moz-e6no8q.consolidated.net)
[20:36:46] *** Joins: eibwen (eibwen@moz-uadegq.dip0.t-ipconnect.de)
[20:36:53] *** Joins: carlcolglazier (uid64399@moz-118bsh.ealing.irccloud.com)
[20:39:45] *** Quits: joneshf-laptop (joneshf@moz-l4h.b5s.208.98.IP) (Ping timeout: 121 seconds)
[20:39:45] *** Quits: peeves (Mibbit@moz-dasckh.pppoe.mtu-net.ru) (Quit: http://www.mibbit.com ajax IRC Client)
[20:39:49] *** Joins: nano (nano@moz-00j6et.dynamic.kabel-deutschland.de)
[20:40:04] *** Joins: swgillespie (swgillespie@moz-1i5.3un.220.167.IP)
[20:40:06] <currysoup> Hey everyone - I was just wondering if rustc has been designed with tooling in mind? In a similar fashion to clang. 
[20:40:34] <steveklabnik> tooling is something we care a lot about, but we don't have all the bells and whistles yet
[20:40:53] <XMPPwocky> librustc is certainly usable
[20:41:01] <XMPPwocky> http://is.gd/jOuZgi what's 'a ?
[20:41:08] <steveklabnik> yeah. the status is basically 'it's fine' not 'whoah! amaze!'
[20:41:22] <steveklabnik> XMPPwocky: a liftime annotation?
[20:41:24] <currysoup> Im interested in working on an IDE (for fun mostly) is it possible to get the AST for indexing purposes, etc?
[20:41:28] <XMPPwocky> steveklabnik: but what lifetime/
[20:41:39] <steveklabnik> the one you're using PhantomData for
[20:42:06] <XMPPwocky> but that's never specified
[20:42:08] <apdapreturns> http://doc.rust-lang.org/nightly/book/the-stack-and-the-heap.html "has a trick up its sleve" s/sleve/sleeve
[20:42:09] <XMPPwocky> I *suspect* it's 'static
[20:42:13] *** Quits: Shackra (Jorge@moz-7bh.ng6.177.186.IP) (Connection closed)
[20:42:16] <steveklabnik> currysoup: not yet. we aren't comfortable stabilizing the AST
[20:42:32] <steveklabnik> apdapreturns: nice catch! would you like to send a pull request, or should i fix it myseelf?
[20:42:43] <steveklabnik> currysoup: that said, you can use libsyntax, which is unstable, or erikt's syntex proejct
[20:42:45] <apdapreturns> you can fix it
[20:42:54] <dcrewi> currysoup: you could use libsyntax, but I expect it doesn't handle partially-typed text very well
[20:42:57] *** Quits: ygrek (user@moz-8j9aeu.org.ua) (Ping timeout: 121 seconds)
[20:43:14] <dcrewi> currysoup: plus what steveklabnik said
[20:43:19] <currysoup> ah cool
[20:44:08] <steveklabnik> apdapreturns: https://github.com/rust-lang/rust/pull/25382
[20:44:11] *** Quits: dellavg (dellavg@moz-9lesb5.retail.telecomitalia.it) (Ping timeout: 121 seconds)
[20:44:14] <steveklabnik> :)
[20:44:15] *** Joins: Shackra (Jorge@moz-7bh.ng6.177.186.IP)
[20:44:28] <apdapreturns> np
[20:44:37] <Fenhl> where do binaries produced by multirust's version of `cargo run --release` go?
[20:45:08] <steveklabnik> Fenhl: they should be in target/release like anything else, not specific to multirust
[20:45:22] *** Joins: emilk (emilk@moz-eossn5.cust.bredbandsbolaget.se)
[20:45:24] *** Joins: boblehest (jlode@moz-mquaka.customer.lyse.net)
[20:45:25] *** Joins: maraoz (maraoz@moz-7fc9s6.fibertel.com.ar)
[20:45:43] <skade_> apdapreturns joining the party late, but there is: https://github.com/phildawes/racer which does completion - if that's of any interest to you
[20:45:53] <apdapreturns> will look
[20:46:01] *** Quits: jimb (user@moz-09a.i8g.126.207.IP) (Ping timeout: 121 seconds)
[20:46:12] <Fenhl> steveklabnik: my projectpath/target has no release subdir…?
[20:46:47] *** Joins: Rym (y@moz-o80acm.range86-189.btcentralplus.com)
[20:47:05] <steveklabnik> how old is your cargo?
[20:47:31] <Fenhl> steveklabnik: cargo 0.2.0-nightly (a078e01 2015-05-11) (built 2015-05-12)
[20:48:03] <Fenhl> this is of course the multirust proxy
[20:48:07] <steveklabnik> huh
[20:48:21] *** Joins: poiru (poiru@moz-bmdn13.kapsi.fi)
[20:48:49] <steveklabnik> $ cargo run --release
[20:49:00] <steveklabnik> $ ls target/release/ guessing_game
[20:49:10] <steveklabnik> $ cargo -V
[20:49:10] <steveklabnik> cargo 0.2.0-nightly (0d75eb6 2015-05-07) (built 2015-05-09)
[20:49:29] *** Joins: findow (Mibbit@moz-41t.55v.34.199.IP)
[20:49:31] * steveklabnik runs 'multirust update'
[20:49:32] *** Quits: findow (Mibbit@moz-41t.55v.34.199.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[20:49:45] *** Joins: mkpankov` (user@moz-o5n.evt.23.84.IP)
[20:49:52] *** Quits: tejinder (Mibbit@moz-crr.mqi.101.89.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[20:50:00] <Fenhl> nvm I was looking in the wrong directory
[20:50:06] <steveklabnik> :)
[20:50:10] <Fenhl> <.<
[20:50:16] <steveklabnik> happens to the best of us
[20:51:31] *** Quits: Delemiter (Mibbit@moz-1451mh.unity-media.net) (Quit: http://www.mibbit.com ajax IRC Client)
[20:52:17] *** Quits: hjr3 (hradtke@moz-lei.av4.169.69.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[20:52:19] *** Quits: dschatzberg (dschatz@moz-nk1clf.bu.edu) (Quit: Leaving)
[20:52:24] *** Joins: duesenfranz_ (jona@moz-711djm.tirol.surfer.at)
[20:54:23] <mitsuhiko> bluss, rkruppe: what about acquire()?
[20:55:49] *** Joins: rkruppe_ (chatzilla@moz-3nj.rnu.131.95.IP)
[20:55:56] *** Joins: csoriano_ (csoriano@moz-g6rkdc.net.upcbroadband.cz)
[20:56:17] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[20:56:17] *** ChanServ sets mode: +o erickt
[20:57:05] *** Quits: Delimiter (Mibbit@moz-1451mh.unity-media.net) (Quit: http://www.mibbit.com ajax IRC Client)
[20:57:07] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Ping timeout: 121 seconds)
[20:57:16] *** rkruppe_ is now known as rkruppe
[20:57:31] *** Joins: demilich_ (demilich@moz-484efq.adsl.alicedsl.de)
[20:58:15] *** Joins: laumann (thomas@moz-n9e72h.0.fullrate.dk)
[20:58:48] *** Quits: jedireza (jedireza@moz-cjisgg.corp.yahoo.com) (Quit: My Mac has gone to sleep. ZZZzzz…)
[21:01:04] *** Joins: dawehner-afk (quassel@moz-46p.bjg.78.66.IP)
[21:01:04] *** Quits: ixti (ixti@moz-21k.dae.119.188.IP) (Connection closed)
[21:01:04] *** Quits: dawehner (quassel@moz-46p.bjg.78.66.IP) (Connection closed)
[21:01:05] *** Joins: _ixti_ (ixti@moz-21k.dae.119.188.IP)
[21:01:11] *** Joins: essem2 (Thunderbird@moz-0g3v4k.biz.rr.com)
[21:01:15] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[21:01:39] *** Quits: demilich_ (demilich@moz-484efq.adsl.alicedsl.de) (Quit: Leaving)
[21:01:48] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[21:01:48] *** ChanServ sets mode: +ao pcwalton pcwalton
[21:01:55] *** Joins: minot2 (kkus@moz-baj4jj.74.srtnet.com)
[21:02:25] *** Quits: nerdopoly (nerdopoly@moz-aqvski.range86-143.btcentralplus.com) (Quit: leaving)
[21:02:28] *** Quits: blank_name (blank_name@moz-9koqv8.mi.frontiernet.net) (Ping timeout: 121 seconds)
[21:02:39] *** Joins: demilich_ (demilich@moz-484efq.adsl.alicedsl.de)
[21:03:02] *** Joins: moa (Cedric@moz-d23h55.abo.wanadoo.fr)
[21:03:06] *** Quits: simonoram (simonoram@moz-pllbvg.cable.virginm.net) (Client exited)
[21:03:38] <bluss> mitsuhiko: sounds good. Maybe even a better metaphor since access goes through the returned mutexguard
[21:04:25] *** Parts: csoriano_ (csoriano@moz-g6rkdc.net.upcbroadband.cz) ("")
[21:04:28] *** Quits: laumann (thomas@moz-n9e72h.0.fullrate.dk) (Quit: leaving)
[21:04:46] *** Quits: Douman (Douman@moz-of6a0v.dynamic.mts-nn.ru) (Quit: )
[21:05:35] *** Joins: ryanhiebert (ryanhiebert@moz-nsd5kl.ks.cox.net)
[21:05:41] <mitsuhiko> lock.obtain() :P
[21:05:50] *** Quits: jfredett (Adium@moz-a9ilmn.fios.verizon.net) (Ping timeout: 121 seconds)
[21:05:55] <killercup> @steveklabnik, i just fiddled with the ebook stuff a bit more. I think i'm done for now :) there are a few code blocks with weird/no highlighting in the markdown src and there is some latex magic required for code line breaks (https://github.com/killercup/trpl-ebook/issues/3)
[21:05:56] *** Joins: jfredett (Adium@moz-a9ilmn.fios.verizon.net)
[21:06:10] <mitsuhiko> Also why do all mutexes poison?
[21:06:12] *** Joins: Guest63 (textual@moz-rvv.00r.255.109.IP)
[21:06:14] <mitsuhiko> A Mutex<()> surely never poisons
[21:06:23] *** Quits: larhat (Adium@moz-vlo5br.cable.virginm.net) (Quit: Leaving.)
[21:06:24] *** Joins: dfinninger (dfinninger@moz-6a9v7n.res.rr.com)
[21:06:58] <FreeFull> I'm sure Mutex<()> will still be poisoned if a thread that holds the lock on it panics
[21:06:59] *** Quits: kwantam (kwantam@moz-1adqok.DYNAPOOL.NYU.EDU) (Quit: WeeChat 1.1.1)
[21:08:24] *** Quits: kaeluka (kaeluka@moz-tn3lqd.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[21:08:31] <killercup> steveklabnik: oh, and i dont have a way to automate the conversion from epub to .mobi for kindle
[21:09:05] *** Joins: kwantam (kwantam@moz-1adqok.DYNAPOOL.NYU.EDU)
[21:09:18] *** Quits: GaryOak_ (GaryOak_@moz-etoj16.hfc.comcastbusiness.net) (Connection closed)
[21:09:21] *** Quits: jeffasinger (jeff@moz-u5nog7.res.rr.com) (Client exited)
[21:09:24] *** Quits: dawehner-afk (quassel@moz-46p.bjg.78.66.IP) (Ping timeout: 121 seconds)
[21:10:10] <demilich_> Newbie question: I don't really understand how arrays work in rust (coming from Java). For example: How would the signature of a function look, which takes an arbitrarily sized two-dimensional array? In Java I could just write 'private void processArray(int[][] someArray)' but in Rust it only seems to work if I specify the exact array dimensions in the function header
[21:10:25] *** Quits: james4k_ (james@moz-e6no8q.consolidated.net) (Ping timeout: 121 seconds)
[21:10:27] *** Quits: dfinninger (dfinninger@moz-6a9v7n.res.rr.com) (Ping timeout: 121 seconds)
[21:10:31] *** Joins: lenstr (lenstr@moz-el8.vju.25.171.IP)
[21:10:46] *** Joins: zyphrus (David@moz-1a4.urk.98.101.IP)
[21:10:51] *** Joins: wipeD (wipeD@moz-vjpnq2.dip0.t-ipconnect.de)
[21:11:04] <simias> does rust even support multidimensional arrays?
[21:11:10] <rovar> sure
[21:11:14] *** Quits: jgallagher (john@moz-d5e8oc.hfc.comcastbusiness.net) (Client exited)
[21:11:31] <swgillespie> demilich_: you can do &[[i32]] for that
[21:11:32] <Murarth> It's not pretty, though. [[T; N]; M]
[21:11:47] <rovar> demilich_, in rust, like C, an array (the type) is a fixed size,  so [u64; 5] is an array of 5 u64's. 
[21:11:49] <simias> ah yeah, that's contiuous of course
[21:11:51] *** Quits: qrlpx_ (smuxi@moz-n7t.3nb.211.95.IP) (Connection closed)
[21:11:52] <bluss> we can call those nested arrays
[21:12:03] <Murarth> Maybe it shold have some syntactic sugar, e.g. [T; N; M]
[21:12:06] <panicbit> I'd be interested in how to get a &[&[T]] from a Vec<Vec<T>>
[21:12:09] <rovar> a slice, does reference contiguous memory, but the size of the "array" isn't part of the type
[21:12:23] <rovar> a slice and/or a Vec is more like the Array in Java
[21:12:27] <bluss> panicbit: you can't, without allocating space to store the slices unfortunately
[21:12:36] *** Quits: essem2 (Thunderbird@moz-0g3v4k.biz.rr.com) (Client exited)
[21:12:44] <panicbit> bluss: I thought as much :/
[21:13:13] <rovar> panicbit, you could, however, transmute the vec data into an array of sized arrays, since they don't have overhead :)
[21:13:18] *** Quits: tadh (quassel@moz-pg51s5.CWRU.Edu) (Connection closed)
[21:13:26] *** Quits: bltavares (bltavares@moz-56b.34b.242.162.IP) (Connection closed)
[21:13:31] *** Joins: bltavares (bltavares@moz-u6pgnh.7l10.lipn.4802.2001.IP)
[21:13:32] <rovar> i'm not sure if I'm making sense at all, my mind is so fried
[21:13:45] <simias> Murarth: meh
[21:13:57] <meh> simias, >:(
[21:14:09] <simias> do you really use multidimentional arrays all that often? I've always disliked them
[21:14:10] *** Joins: blank_name (blank_name@moz-lg2.tgt.79.172.IP)
[21:14:14] <simias> meh: meh
[21:14:14] <rovar> meh: Murarth
[21:14:17] <panicbit> rovar: Yeah that does make sense. Although it would constrain you to a fixed size.
[21:14:33] *** Joins: james4k_ (james@moz-e6no8q.consolidated.net)
[21:14:40] <simias> well, in rust it would at least bound check for you I guess
[21:14:51] *** Quits: Rym (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[21:14:55] <demilich_> simias: just trying 'Game of Life' for learning Rust. Also very common in game programming in general
[21:14:56] <rovar> I haven't had a need to make multidimensional arrays yet
[21:15:00] <Murarth> In many languages, the generally accepted practice is just to create a [T; N * M] and handle index calculation in your own code.
[21:15:04] *** Joins: jtdowney (jtdowney@moz-gh1isj.static.twtelecom.net)
[21:15:17] *** Quits: skade_ (skade@moz-m9ib3m.pools.vodafone-ip.de) (Connection closed)
[21:15:23] <bluss> there are crates for multidim arrays
[21:15:29] *** Joins: skade (skade@moz-m9ib3m.pools.vodafone-ip.de)
[21:15:30] <simias> demilich_: I generally just use a single dimension array and do the arithmetic explicitely
[21:15:38] <panicbit> demilich_: I did that ~two weeks ago. If you want to take a look at my messy code...
[21:15:41] <bluss> many crates for matrices. for general n-dim arrays I don't know so many
[21:15:48] <demilich_> okay, that works of course
[21:15:49] *** Quits: ai (ai@moz-pqofrl.sunline.net.ua) (Quit: Leaving.)
[21:16:02] <simias> which I think is the only way to get a contiguous "2 dimensional" array if they're dynamically sized?
[21:16:25] <simias> since Vec<Vec<_>> wouldn't be continuous
[21:16:30] <simias> contiguous*
[21:16:31] *** Joins: tomprogrammer (thomas@moz-j8v2jd.tr5r.qept.4dd0.2001.IP)
[21:16:36] <rovar> rustbot: let u : [[u32; 2]; 2] = [[0,1],[0,1];
[21:16:48] *** Quits: hhhhhhhhhh (mike@moz-969kuj.cable.virginm.net) (Quit: WeeChat 1.1.1)
[21:16:57] <rovar> playbot: let u : [[u32; 2]; 2] = [[0,1],[0,1];
[21:16:57] -playbot- <anon>:9:33: 9:34 note: unclosed delimiter
[21:16:57] -playbot- <anon>:9         let u : [[u32; 2]; 2] = [[0,1],[0,1];
[21:16:57] -playbot- output truncated; full output at: http://bit.ly/1JeuQfq
[21:17:02] <rovar> playbot: let u : [[u32; 2]; 2] = [[0,1],[0,1]];
[21:17:03] -playbot- ()
[21:17:06] <rovar> woot
[21:17:17] <simias> playbot: let u : [[u32; 2]; 2] = [[0,1],[0,1]]; u
[21:17:18] <rovar> could be worse, IMO
[21:17:19] -playbot- [[0, 1], [0, 1]]
[21:17:27] <bluss> simias: allocated memory is an abstraction that maps memory to a linear space of addresses, so allocating one chunk is natural
[21:17:52] <simias> bluss: I don't get your point
[21:18:20] *** Quits: wipeD (wipeD@moz-vjpnq2.dip0.t-ipconnect.de) (Connection closed)
[21:18:29] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[21:18:33] *** Quits: ogham (rally@moz-m7s.023.6.31.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[21:19:10] <bluss> just that n-dimensional arrays need to map into just one dimension somehow
[21:19:14] *** Quits: daze (daze@moz-tc29eq.static.zebra.lt) (Connection closed)
[21:20:03] *** Joins: choplin (choplin@moz-96vu56.t6mc.g9m6.001a.240d.IP)
[21:20:06] *** Quits: joel1 (joel@moz-6ampnk.gtri.gatech.edu) (Ping timeout: 121 seconds)
[21:20:25] <demilich_> it is more about the syntax: mapTile[x][y] is easier to understand than mapTile[<index calculation here>]
[21:20:31] <rovar> playbot: let u = [[u32: 2]; 2] = transmute(vec![0u32, 1u32, 2u32, 3u32].as_slice().repr().data); u
[21:20:32] -playbot- <anon>:9:22: 9:23 error: expected one of `!`, `,`, `.`, `::`, `;`, `]`, `{`, or an operator, found `:`
[21:20:32] -playbot- <anon>:9         let u = [[u32: 2]; 2] = transmute(vec![0u32, 1u32, 2u32, 3u32].as_slice().repr().data); u
[21:20:32] -playbot- output truncated; full output at: http://bit.ly/1HegKbF
[21:20:34] *** Joins: Porkepix (Porkepix@moz-e1bv2v.rev.sfr.net)
[21:20:40] <simias> demilich_: just wrap it in an accessor function
[21:20:49] <simias> I mean, yeah, I get your point
[21:20:54] *** Quits: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP) (Connection closed)
[21:21:11] <simias> It's just that I've had enough issues with multidimentional arrays in C that I don't bother with them anymore
[21:21:20] <rovar> playbot: let u = [[u32: 2]; 2] = transmute((vec![0u32, 1u32, 2u32, 3u32]).as_slice().repr().data);
[21:21:20] -playbot- <anon>:9:22: 9:23 error: expected one of `!`, `,`, `.`, `::`, `;`, `]`, `{`, or an operator, found `:`
[21:21:21] -playbot- <anon>:9         let u = [[u32: 2]; 2] = transmute((vec![0u32, 1u32, 2u32, 3u32]).as_slice().repr().data);
[21:21:21] -playbot- output truncated; full output at: http://bit.ly/1JevBFo
[21:21:31] <rovar> playbot: let u : [[u32: 2]; 2] = transmute((vec![0u32, 1u32, 2u32, 3u32]).as_slice().repr().data);
[21:21:31] -playbot- <anon>:9:22: 9:23 error: expected one of `(`, `+`, `::`, `;`, `<`, or `]`, found `:`
[21:21:32] -playbot- <anon>:9         let u : [[u32: 2]; 2] = transmute((vec![0u32, 1u32, 2u32, 3u32]).as_slice().repr().data);
[21:21:32] -playbot- output truncated; full output at: http://bit.ly/1HegOs8
[21:22:30] <panicbit> demilich_: (My game of life impl https://github.com/panicbit/game_of_life/blob/master/src/main.rs)
[21:22:34] *** Quits: sommoyogurt (sommoyogurt@moz-p79ls2.ip245.fastwebnet.it) (Connection closed)
[21:22:46] <demilich_> taking a look now
[21:22:55] *** Joins: sommoyogurt (sommoyogurt@moz-p79ls2.ip245.fastwebnet.it)
[21:23:11] *** Quits: patrickod (patrickod@moz-mlf.3hi.131.104.IP) (Quit: ZNC - http://znc.in)
[21:23:17] <gy> killercup: this is awesome! i just started looking for pdf version of nightly docs
[21:23:28] <panicbit> demilich_: I simply used Vec<Vec<T>> and added some accessor functions like get(x,y) and get_mut(x,y)
[21:23:41] *** Joins: patrickod (patrickod@moz-9nrl2k.patrickod.com)
[21:24:05] *** Quits: choplin (choplin@moz-96vu56.t6mc.g9m6.001a.240d.IP) (Ping timeout: 121 seconds)
[21:24:33] *** Joins: Waroong (textual@moz-o43.eij.14.12.IP)
[21:24:44] *** Quits: boblehest (jlode@moz-mquaka.customer.lyse.net) (Connection closed)
[21:25:00] <demilich_> panicbit: I see, I like your solution
[21:25:09] <panicbit> demilich_: Thank you :)
[21:25:18] <rkruppe> One could implement std::ops::{Index,IndexMut} too, to be able to write grid[(x, y)]
[21:25:38] *** Quits: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net) (Ping timeout: 121 seconds)
[21:25:40] *** Joins: Gamecubic__ (cubic@moz-bglmk5.mc.videotron.ca)
[21:25:42] <rkruppe> If only Rust would allow me to omit the parentheses on tuples
[21:26:00] *** Joins: laumann (thomas@moz-n9e72h.0.fullrate.dk)
[21:26:04] <Waroong> if only Rust had syntax-significant whitespace and ditched parentheses altogether ^.^
[21:26:07] *** Quits: mib_z9l2er (Mibbit@moz-mgmtfn.dyn.telefonica.de) (Quit: http://www.mibbit.com ajax IRC Client)
[21:26:08] *** Joins: dalarmmst (dalarmmst@moz-mb21j4.bredband.comhem.se)
[21:26:08] *** Quits: laumann (thomas@moz-n9e72h.0.fullrate.dk) (Quit: leaving)
[21:26:15] *** Parts: talchas (user@moz-8ubbgk.ca.comcast.net) ("ERC Version 5.3 (IRC client for Emacs)")
[21:26:16] *** Joins: talchas (user@moz-8ubbgk.ca.comcast.net)
[21:26:32] *** Joins: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP)
[21:26:35] <mbrubeck> if only Rust let you override the comma operator
[21:26:35] *** Quits: swgillespie (swgillespie@moz-1i5.3un.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[21:26:46] <rkruppe> Overloading the comma is madness.
[21:26:57] *** Quits: sommoyogurt (sommoyogurt@moz-p79ls2.ip245.fastwebnet.it) (Ping timeout: 121 seconds)
[21:27:01] *** Quits: gy (Mibbit@moz-8qh.1fk.166.205.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[21:27:13] <panicbit> If only Rust's syntax would adjust itself to everyone's wishes.
[21:27:18] <rkruppe> I like significant whitespace in Python but in Rust I'm too invested in blocks-as-expressions to sensibly switch, even as an optional alternative
[21:27:38] <rovar> hmm
[21:27:39] <rovar> http://is.gd/ZKJSgK
[21:27:45] <rovar> that's as far as I can get :)
[21:28:09] *** Quits: mkpankov (mkpankov@moz-o5n.evt.23.84.IP) (Connection closed)
[21:28:43] *** Quits: Gamecubic (cubic@moz-bglmk5.mc.videotron.ca) (Ping timeout: 121 seconds)
[21:29:52] *** Quits: fabianvf (fabianvf@moz-fjqmui.va.comcast.net) (Connection closed)
[21:30:09] *** Quits: nwin (textual@moz-r1aari.pools.arcor-ip.net) (Quit: My Mac Mini has gone to sleep. ZZZzzz…)
[21:30:10] *** Joins: GaryOak_ (GaryOak_@moz-etoj16.hfc.comcastbusiness.net)
[21:30:25] *** Quits: ptalbot (ptalbot@moz-j4gnuh.fbx.proxad.net) (Ping timeout: 121 seconds)
[21:30:52] *** Quits: Hannibal_Smith (nico@moz-hacth9.retail.telecomitalia.it) (Quit: Leaving)
[21:30:53] *** Joins: slashus2 (slashus2___@moz-dj7anc.res.rr.com)
[21:30:56] *** Joins: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net)
[21:31:52] *** Joins: pfeyz (pfeyz@moz-5nlog6.webfaction.com)
[21:31:53] *** Quits: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net) (Connection closed)
[21:31:59] *** Joins: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net)
[21:32:09] *** Quits: jfredett (Adium@moz-a9ilmn.fios.verizon.net) (Ping timeout: 121 seconds)
[21:32:15] *** Joins: jfredett (Adium@moz-a9ilmn.fios.verizon.net)
[21:32:21] *** nrc|afk is now known as nrc
[21:33:26] *** Quits: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP) (Connection closed)
[21:34:14] *** Joins: starless (starless@moz-u9gmm1.res.rr.com)
[21:34:19] *** Joins: wilma (Mibbit@moz-i7cb3r.fios.verizon.net)
[21:34:59] *** NameNotFound is now known as zz_NameNotFound
[21:36:01] *** Quits: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net) (Ping timeout: 121 seconds)
[21:36:07] *** Joins: essem2 (Thunderbird@moz-0g3v4k.biz.rr.com)
[21:36:27] *** Joins: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP)
[21:36:32] *** Quits: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP) (Connection closed)
[21:36:33] *** Quits: slashus2 (slashus2___@moz-dj7anc.res.rr.com) (Quit: Leaving)
[21:37:25] *** Joins: laumann (thomas@moz-n9e72h.0.fullrate.dk)
[21:37:27] <steveklabnik> killercup: neat :) im in a metting, let's talk in a few
[21:37:36] *** Joins: mkpankov (mkpankov@moz-o5n.evt.23.84.IP)
[21:38:45] *** Quits: tkellen (tkellen@moz-f5ji1n.vt.comcast.net) (Client exited)
[21:39:13] *** Quits: essem2 (Thunderbird@moz-0g3v4k.biz.rr.com) (Client exited)
[21:39:15] <mitsuhiko> what's the intended way to recover from a poisoned mutex?
[21:39:18] *** Joins: plietar (Mibbit@moz-qshn0t.ic.ac.uk)
[21:39:22] <mitsuhiko> mutexes all the way down?
[21:39:30] <mitsuhiko> eg: put the mutex in a mutex so you can swap the mutex safely?
[21:39:50] *** Joins: akelleher (Mibbit@moz-oeq5l3.res.rr.com)
[21:39:51] <rovar> err
[21:39:57] *** Quits: wldcordeiro (wldcordeiro@moz-pvsror.ut.comcast.net) (Connection closed)
[21:40:01] *** Quits: nano (nano@moz-00j6et.dynamic.kabel-deutschland.de) (Connection closed)
[21:40:11] *** Joins: wldcordeiro (wldcordeiro@moz-pvsror.ut.comcast.net)
[21:40:27] <steveklabnik> mitsuhiko: last para of http://doc.rust-lang.org/nightly/std/sync/struct.Mutex.html#poisoning
[21:40:29] *** Quits: Uther (Thunderbird@moz-gssp49.fbx.proxad.net) (Connection closed)
[21:40:32] *** Joins: Uther (Thunderbird@moz-gssp49.fbx.proxad.net)
[21:40:40] <mitsuhiko> steveklabnik: does not help
[21:40:43] *** Joins: mattico (matt@moz-uf7ijl.bff5.ebih.ea00.2607.IP)
[21:40:47] <mitsuhiko> it does not explain that
[21:40:57] *** zz_NameNotFound is now known as NameNotFound
[21:40:59] <Waroong> speaking of syntax significant whitespace, does anyone know of an IDE plugin/IDE that has the feature of completely hiding the brackets but generates them depending on the whitespace
[21:41:05] *** Quits: w4ffles (textual@moz-g7g.toe.144.12.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[21:41:13] <steveklabnik> was thinking into_inner would be the recovery thing, but as i said, in a meeting so :)
[21:41:14] <mitsuhiko> steveklabnik: this example does not cover how to reactivate the mutex
[21:41:15] *** Quits: saterus_ (saterus@moz-o0ug28.res.rr.com) (Connection closed)
[21:41:16] <plietar> Hi, is there a way to create a heterogeneous Vec in rust, but where the elements are all in the form Foo<T>, but with different Ts ?
[21:41:17] *** Parts: akelleher (Mibbit@moz-oeq5l3.res.rr.com) ()
[21:41:32] <plietar> I currently have a Vec<Box<Any + 'static>>
[21:41:32] <steveklabnik> bbs
[21:41:35] <rovar> mitsuhiko, I don't think reactivating a mutex is the right approach.  I think crashing gracefully at that point is the right approach
[21:41:36] *** Joins: saterus (saterus@moz-o0ug28.res.rr.com)
[21:41:37] <mitsuhiko> as far as i can tell it does not unpoison the mutex
[21:41:38] *** Quits: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP) (Client exited)
[21:41:52] *** Joins: ygrek (user@moz-8j9aeu.org.ua)
[21:41:55] *** Joins: Soni (SoniEx2@moz-br4.ur1.74.201.IP)
[21:41:55] *** Joins: Rym (y@moz-o80acm.range86-189.btcentralplus.com)
[21:41:57] <mitsuhiko> rovar: well, i'm the first person to subscribe to the idea that panics are final
[21:41:58] <plietar> But that does not enforce that the elements are Foo's
[21:42:00] <mitsuhiko> and you do not coever from them
[21:42:04] <bluss> plietar: yes, you need some kind of trait object type like that (makes the vec homogenous)
[21:42:06] <rovar> if you have mutable access to the thing holding the mutex, you *could* assign a new mutex, I think. 
[21:42:08] <mitsuhiko> (i think unwinding is a terrible idea)
[21:42:09] <Soni> how do I get started?
[21:42:16] <bluss> plietar: you can use a more specific trait
[21:42:16] <mitsuhiko> but the whole point of the current api is that supposedly you can recover a mutex
[21:42:20] *** Quits: shellac (textual@moz-9b49cr.cable.virginm.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[21:42:25] <apdapreturns> oo i'm getting the hang of rust
[21:42:30] <mitsuhiko> rovar: but then you need to put the mutex into another mutex
[21:42:33] *** Quits: ahal (ahal@moz-b8e0a0.cpe.pppoe.ca) (A TLS packet with unexpected length was received.)
[21:42:35] <mitsuhiko> otherwise, how do you swap the mutex?
[21:42:46] <rovar> you can recover from a panic, not recover a mutex
[21:42:54] <zzmp> Can I mark an *mut that I got from a C ffi as Send?
[21:42:59] <mitsuhiko> rovar: that's what i said
[21:42:59] *** Joins: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP)
[21:43:07] <rkruppe> zzmp: You can wrap it in a struct and mark that as Send
[21:43:14] <rovar> sometimes crashing is the right thing for a program to do
[21:43:15] <mitsuhiko> so to "recover" the mutex you put the whole mutex in another mutex and swap the inner mutex if it ends up poisoned
[21:43:19] <zzmp> Sync had a detailed explanation, but I was unsure if Send would remain safe
[21:43:21] <plietar> bluss: Not a 100% sure what you mean, how would that work ?
[21:43:33] <rovar> IMO programs don't crash enough
[21:43:34] <bluss> plietar: Any is a trait
[21:43:37] <mitsuhiko> rovar: so if it would be my decision then panics would always be final
[21:43:43] <zzmp> rkruppe: When it sends, does it copy a ptr to the same memory location? Is that why Send is safe?
[21:43:47] *** Joins: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net)
[21:43:56] <mitsuhiko> but clearly some people think that unwinding is some magical thing that is worth keeping :-/
[21:43:58] *** Quits: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP) (Connection closed)
[21:44:00] <bluss> plietar: Box<FooTrait> could be something more specific that implements what you need
[21:44:09] <bluss> plietar: need from the Foo<T>'s in the vec
[21:44:14] <mitsuhiko> but from where i stand right now the mutex api is just terrible for both people that subscribe to the idea of panics and the ones who do not
[21:44:19] <mitsuhiko> (panics as in recoverable panics)
[21:44:22] <rovar> heh
[21:44:23] <rkruppe> zzmp: Send doesn't affect what copies/moves do, only if they are legal
[21:44:28] <Soni> wait...
[21:44:36] *** Quits: Soni (SoniEx2@moz-br4.ur1.74.201.IP) (Quit: Leaving)
[21:44:39] <rkruppe> mitsuhiko: Did anyone claim poisoning is for recovering the Mutex?
[21:44:42] <zzmp> So what happens to a *mut when it is copied/moved?
[21:44:47] <plietar> bluss: So would FooTrait inherit Any ?
[21:44:58] <rkruppe> zzmp: Nothing. The address is copied. End of story.
[21:45:07] <zzmp> awesome. Thanks!
[21:45:34] <bluss> plietar: no, it wouldn't unfortunately
[21:45:39] *** Quits: saterus (saterus@moz-o0ug28.res.rr.com) (Ping timeout: 121 seconds)
[21:45:41] <mitsuhiko> rkruppe: why else would you expose the panicking then?
[21:45:51] *** Joins: ogham (rally@moz-gl5.06e.6.31.IP)
[21:46:05] *** Joins: tristanseifert (tristanseif@moz-r0t7ns.res.rr.com)
[21:46:07] <tristanseifert> t
[21:46:09] <mitsuhiko> my understanding is that the reason lock() returns a LockResult is to facilitate recovering from a poisoned mutex
[21:46:13] <plietar> Oh, so I would need to reimplement all the TypeId and downcast stuff as well ?
[21:46:14] <rkruppe> mitsuhiko: So that you can spawn worker threads and, if they crash, restart them, creating *new* mutexes (mutices?) in the process
[21:46:27] <mitsuhiko> rkruppe: that only works if you don't share anything
[21:46:33] <mitsuhiko> imagine you have a mutex for a connection pool
[21:46:36] *** Quits: DerisiveLogic (smuxi@moz-g93io6.res.rr.com) (A TLS packet with unexpected length was received.)
[21:46:40] <mitsuhiko> and the pool is shared between workers
[21:46:52] <mitsuhiko> and you have a panic right after fetching a connection
[21:46:55] <mitsuhiko> you *need* to recover
[21:47:03] <mitsuhiko> or you can only terminate the whole process and take all worker threads down
[21:48:01] <rkruppe> I think it's a holdover from when the concurrency story was a lot closer to Erlang-style fault tolerant green threads
[21:48:10] <rkruppe> But I'm not convinced it's entirely useless either
[21:48:18] *** Joins: Kxepal832 (Miranda@moz-u0omr9.pppoe.mtu-net.ru)
[21:48:20] *** Quits: Kxepal (Miranda@moz-9hpqdo.pppoe.mtu-net.ru) (Ping timeout: 121 seconds)
[21:48:21] <XMPPwocky> muteeses
[21:48:33] <mitsuhiko> rkruppe: my point is it should not be the default api
[21:48:35] <rkruppe> You'd need a way to shut down everybody else who was using the Mutex though
[21:48:36] <ogham> I hate these muteeses to peeses!
[21:48:38] *** Joins: colinsurprenant (colin@moz-rmn4e2.169.electronicbox.net)
[21:48:41] <rkruppe> mitsuhiko: I agree
[21:49:02] <mitsuhiko> XMPPwocky: mutexen
[21:49:14] <bluss> mitsuhiko: what if you ignore poisoning and just keep using the mutexes?
[21:49:20] *** Quits: colinsurprenant (colin@moz-rmn4e2.169.electronicbox.net) (Client exited)
[21:49:31] <rkruppe> bluss: Then all .lock() calls are uglier for the extra .unwrap()
[21:49:45] <rkruppe> Nothing more, I think, it just makes shared memory concurrency uglier
[21:49:45] <bluss> well that's the "default"
[21:49:57] <mitsuhiko> rkruppe: it's not just uglier but also harder to debug
[21:49:59] <bluss> by ignore I mean using the .into_inner()
[21:50:04] <mitsuhiko> because if the unwrap fails it does not say why
[21:50:09] <bluss> on the poisonerror
[21:50:10] *** Quits: Marvin (Marvin@moz-aikc5m.cpe.webspeed.dk) (Connection closed)
[21:51:01] *** Quits: Havvy (Havvy@moz-2v0ao2.5euu.k9bm.0007.2601.IP) (Connection closed)
[21:51:05] *** Joins: mindtree (Mitch@moz-fog.g9r.240.116.IP)
[21:51:16] <rkruppe> mitsuhiko: Can't the error message be improved by adding the right trait impl to PoisonError?
[21:51:56] *** Joins: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net)
[21:51:57] *** ChanServ sets mode: +o pnkfelix
[21:52:07] *** Joins: Havvy (Havvy@moz-2v0ao2.5euu.k9bm.0007.2601.IP)
[21:52:22] <mitsuhiko> bluss: not sure what you mean?
[21:53:13] *** Joins: mcoffee (mcoffee@moz-erlnm0.bchsia.telus.net)
[21:53:16] *** Joins: kaeluka (kaeluka@moz-tn3lqd.cust.bredbandsbolaget.se)
[21:53:23] <mitsuhiko> rkruppe: how so?
[21:53:30] *** Quits: rbranson (rbranson@moz-i7m.9o0.201.199.IP) (Quit: Computer has gone to sleep.)
[21:54:04] *** Quits: kmicu (kmicu@moz-uga.edn.218.91.IP) (Client exited)
[21:54:14] <rkruppe> mitsuhiko: IIRC the panic message or Result::unwrap() is taken from the error value. Trying to find details right now
[21:54:24] *** Quits: thiblahute (tsaunier@moz-68f5rr.rev.sfr.net) (Ping timeout: 121 seconds)
[21:54:31] *** Quits: jjthrash (jjthrash@moz-gsigbq.res.rr.com) (Quit: Leaving...)
[21:56:14] *** Joins: boblehest (jlode@moz-mquaka.customer.lyse.net)
[21:57:50] *** Joins: panda (Mibbit@moz-g3m.svq.102.192.IP)
[21:57:59] <rkruppe> It's supposed to use the error's Debug. Doesn't really explain why the actual error message is "Any"
[21:58:14] *** Parts: frewsxcv (uid86219@moz-dneii9.brockwell.irccloud.com) ("")
[21:59:15] <panda> hi, i was wondering if there was a cannonical way (or any way) to create a variable of type [HashMap<u32, u16>; N] (i.e., an array of hashmaps
[21:59:16] *** Joins: tyrion-mx (tyrion@moz-e4rh2f.7by7.de)
[21:59:21] *** Quits: Waroong (textual@moz-o43.eij.14.12.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[21:59:29] *** Quits: tigrou3tac (fabien@moz-gdonfo.fbx.proxad.net) (Ping timeout: 121 seconds)
[21:59:41] *** Quits: Guest63 (textual@moz-rvv.00r.255.109.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[21:59:48] *** Joins: Soni (SoniEx2@moz-br4.ur1.74.201.IP)
[21:59:56] <panda> ?
[22:01:11] <Soni> where/how do I talk to the moznet guys?
[22:01:44] <bluss> mitsuhiko: I actually don't know how unsafe it is, but you could continue using poisoned mutexes
[22:02:13] <bluss> mitsuhiko: using .into_inner() on the error
[22:02:15] *** Quits: naerbnic (naerbnic@moz-ad7.4ra.239.216.IP) (Client exited)
[22:02:16] <steveklabnik> panda: arrays are a bit annoying to use, you'd have to type it out N times. Vecs are easier
[22:02:21] <mbrubeck> Soni: I think gavin is an ircop and might know the right place to ask questions...
[22:02:38] <panicbit> panda: Yeah, you'd have to spell it out like this: http://is.gd/rMEj0A
[22:02:49] <mitsuhiko> bluss: don't think that works
[22:03:50] <panicbit> panda: As suggested, a Vec would be easier but if you really, REALLY want to have the kind of array you specified with as less typing as possible you'd probably have to use a small macro.
[22:03:55] <Soni> mbrubeck, are they here? (as in, not away)
[22:04:04] <sfackler> mitsuhiko: foo.lock().unwrap_or_else(|e| e.into_inner()) I believe
[22:04:17] *** Joins: shellac (textual@moz-9b49cr.cable.virginm.net)
[22:04:22] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Ping timeout: 121 seconds)
[22:04:36] *** Joins: pgonda (peter@moz-s36.0tp.134.75.IP)
[22:04:41] *** Quits: hhhhhhhh1 (mike@moz-969kuj.cable.virginm.net) (Quit: WeeChat 1.1.1)
[22:04:48] <panda> so
[22:05:03] <panicbit> panda: So if you can live with a Vec just use that
[22:05:03] *** Quits: proc (proc@moz-q5diaj.dip0.t-ipconnect.de) (Quit: Gotta eat my pizza)
[22:05:04] <panda> does rust take advantage of an array's fixed sizeness
[22:05:06] <sfackler> if you're going to call it often you could make an extension trait that adds a force_lock() method or whatever
[22:05:21] <panda> this is the only reason i was thinking of using an array
[22:05:28] *** Joins: naerbnic (naerbnic@moz-ad7.4ra.239.216.IP)
[22:05:29] <panda> basically if you know the index range
[22:05:30] <mbrubeck> Soni: I'm not certain, but he's usually around most of the time during US/Pacific business hours. Might be in and out of meetings and things, though.
[22:05:30] <panda> and size
[22:05:37] <panda> can you eliminate bounds check?
[22:05:43] *** Joins: dpc (dpc@moz-t6gr4b.ca.comcast.net)
[22:05:47] <panda> *does rust eliminzate bound check?
[22:05:48] <rkruppe> mitsuhiko: The bad error message when a trait panics is "PoisonError { inner: .. }", right? That can be fixed any time by changing the impl<T> Debug for PoisonError<T>
[22:06:00] <steveklabnik> panda: sometimes, sometimes not
[22:06:22] <Soni> mbrubeck, ugh, ok thanks
[22:06:26] <rkruppe> Though how much more useful it can be made without adding bounds on T is questionable
[22:06:37] <panda> steveklabnik: so are arrays any better than vecs for elemination?
[22:06:39] <rkruppe> Yet another use case of specializations and/or negative bound s:)
[22:06:44] *** Quits: frankmcsherry (frankmcsher@moz-la1m3v.adsl.alicedsl.de) (Connection closed)
[22:06:49] <panda> (basically this is why i was trying to use an array)
[22:06:52] <mitsuhiko> rkruppe: ah indeed
[22:07:33] <rkruppe> panda: Well the length is known, which may help for constant indices, but if the indices are not known to LLVM, it doesn't help
[22:07:41] <steveklabnik> panda: yeah, what rkruppe said
[22:07:48] *** Quits: erz (erz@moz-n26c5c.broadband.corbina.ru) (Quit: My Mac has gone to sleep. ZZZzzz…)
[22:09:09] *** Quits: martinhath (martin@moz-tqe.r95.191.81.IP) (Ping timeout: 121 seconds)
[22:10:15] <dpc> Is anyone aware what's the status of mio, and rust-aio/rust-events ?
[22:10:47] *** Joins: hjr3 (hradtke@moz-lei.av4.169.69.IP)
[22:11:12] *** Quits: eric_lagergren (barsonme@moz-lr1hrn.wa.comcast.net) (Connection closed)
[22:11:38] *** Quits: plietar (Mibbit@moz-qshn0t.ic.ac.uk) (Quit: http://www.mibbit.com ajax IRC Client)
[22:12:48] *** Quits: panda (Mibbit@moz-g3m.svq.102.192.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[22:12:53] *** Joins: tcard (tcard@moz-jdrdbk.ddns.jazztel.es)
[22:13:04] <tcard> hi people
[22:13:15] <tcard> I have a question
[22:13:33] <apoelstra> tcard: you can just ask
[22:13:57] *** Quits: Rym (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[22:14:09] <tcard> I have an array of type [Option<String>; 100]
[22:14:19] <tcard> I want to initialize a variable to 100 Nones
[22:14:22] *** Quits: wolfviking0 (wolfviking0@moz-8hd.3b6.246.162.IP) (Client exited)
[22:14:29] <mitsuhiko> so apparently even if the lock fails due to a poisoned mutex it's still locked?
[22:14:39] <tcard> but if I try [None; 100], it complains that String is not Copy
[22:15:11] <tcard> fair enough, I think I understand that
[22:15:15] <panicbit> Somebody had the same question/issue a few minutes ago :P
[22:15:29] <tcard> if I actually type 100 times "None", it works
[22:15:30] *** Quits: wilma (Mibbit@moz-i7cb3r.fios.verizon.net) (Quit: http://www.mibbit.com ajax IRC Client)
[22:15:32] <mbrubeck> tcard: fixed-sized arrays can be extremely un-ergonomic in Rust... you might want to just use a Vec.
[22:15:35] <tcard> panicbit: same as mine?
[22:15:47] *** Joins: AngelOfSol (AngelOfSol@moz-dj58kc.rh.rit.edu)
[22:15:54] <panicbit> Uh, panda
[22:15:56] <rkruppe> mitsuhiko: The poison contains the MutexGuard so that you can access the poisoned data, as explained by bluss
[22:15:58] <panicbit> @tcard
[22:16:10] *** Quits: btobolaski (btobolaski@moz-ltbh80.va.comcast.net) (Quit: Textual IRC Client: www.textualapp.com)
[22:16:10] <rkruppe> If the poison is dropped, the lock should be free again too
[22:16:33] *** Joins: saterus (saterus@moz-rutqj0.res.rr.com)
[22:16:41] <panicbit> tcard: Sorry. Yes, your problem.
[22:16:53] <tcard> mbrubeck: I see. anyway, as I'm just tinkering for learning, I'd like to see if there is a way of doing that with an array
[22:17:03] <pylbrecht> hi there, i just looked into rust today and it looks really cool! are there any good talks (e.g. on youtube) on rust? i like watching that kind of stuff before i go to sleep.
[22:17:38] <panicbit> tcard: There probably is a way but the code might get a little dirty :P
[22:17:44] <pylbrecht> it's a bit harder to search for it because there's this game called 'rust'
[22:17:54] <tcard> so I tried a macro, but it doesn't let me transform to something like '$x, $y', it says 'macro expansion ignores token `,` and any following'
[22:18:09] <panicbit> pylbrecht: Have you tried adding "lang" to your queries?
[22:18:10] *** Joins: IslandUsurper (lyle@moz-80gme0.2m7b.cbes.0306.2602.IP)
[22:18:33] *** Quits: jshs (jshs@moz-lat0b0.dip0.t-ipconnect.de) (Client exited)
[22:18:47] *** Joins: lyc (lyc@moz-2pd.uqu.186.118.IP)
[22:19:04] <mitsuhiko> maybe i misunderstand this poisoning
[22:19:06] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[22:19:08] *** Joins: mkoskar (mkoskar@moz-skq614.dfri.se)
[22:19:10] <mitsuhiko> i thought the mutex does not recocer
[22:19:12] <pylbrecht> panicbit: not yet.
[22:19:39] <panicbit> pylbrecht: There should be a few ~4 or 5 talks popping up on youtube
[22:19:40] <pylbrecht> panicbit: cool, thanks a lot!
[22:20:02] <rkruppe> mitsuhiko: The Mutex doesn't recover. It remains poisoned. But a poisoned lock can be acquired and released, and you can peek at the data if you expect the poison and handle it.
[22:20:06] *** Joins: Guest72 (textual@moz-41t.55v.34.199.IP)
[22:20:16] <pylbrecht> panicbit: yeah, indeed. enough for tonight's pre-sleep ritual. thanks again!
[22:20:22] *** Quits: tno (tomas@moz-d4qohc.7pm2.so41.08a0.2001.IP) (Connection closed)
[22:20:23] <rkruppe> At least that's my understanding, I don't think I ever did any work with that whole thing
[22:20:29] <panicbit> pylbrecht: I have a similar habit :). np :)
[22:20:49] * mitsuhiko tries with nightlies
[22:21:14] *** Joins: Rym (y@moz-o80acm.range86-189.btcentralplus.com)
[22:21:20] *** Joins: choplin (choplin@moz-qkm9un.ap.nuro.jp)
[22:21:30] *** Quits: jophish (jophish@moz-epocft.broadband.tesco.net) (Connection closed)
[22:22:37] <rkruppe> Aw yiss, the three hundred lines of virtually-pseudo code are finally close enough to actual Rust that they fail because of privacy errors rather than type checking or name resolution.
[22:22:50] *** Quits: lyc (lyc@moz-2pd.uqu.186.118.IP) (Ping timeout: 121 seconds)
[22:23:13] <rkruppe> If I'm lucky, I can start actually running any code in two days or so :P
[22:23:36] *** Quits: zyga (zyga@moz-84t.g3u.7.89.IP) (Ping timeout: 121 seconds)
[22:24:16] *** Joins: zyga (zyga@moz-84t.g3u.7.89.IP)
[22:25:22] *** Quits: choplin (choplin@moz-qkm9un.ap.nuro.jp) (Ping timeout: 121 seconds)
[22:26:10] *** Joins: Guest_ (textual@moz-rtn.fg7.77.192.IP)
[22:26:33] *** Joins: griff (griff@moz-bf2.sbd.199.62.IP)
[22:28:24] *** Quits: zyga (zyga@moz-84t.g3u.7.89.IP) (Ping timeout: 121 seconds)
[22:28:51] *** Quits: jtdowney (jtdowney@moz-gh1isj.static.twtelecom.net) (Ping timeout: 121 seconds)
[22:31:09] *** Joins: jedireza (jedireza@moz-cjisgg.corp.yahoo.com)
[22:31:43] *** Quits: hjr3 (hradtke@moz-lei.av4.169.69.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[22:32:35] *** Joins: swgillespie (swgillespie@moz-1i5.3un.220.167.IP)
[22:32:37] *** Joins: arBmind1 (Andreas@moz-2taknk.dyn.telefonica.de)
[22:33:11] *** Quits: kaeluka (kaeluka@moz-tn3lqd.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[22:33:19] *** Quits: laumann (thomas@moz-n9e72h.0.fullrate.dk) (Quit: leaving)
[22:34:12] *** Joins: frankmcsherry (frankmcsher@moz-la1m3v.adsl.alicedsl.de)
[22:34:13] *** Quits: arBmind (Andreas@moz-pkceb5.adsl.alicedsl.de) (Ping timeout: 121 seconds)
[22:34:25] *** Joins: w4ffles (textual@moz-34v1r4.res.rr.com)
[22:34:35] *** Joins: panda (Mibbit@moz-g3m.svq.102.192.IP)
[22:35:39] <gsingh93> steveklabnik: can you explain how your dining philosophers solution prevents deadlock?
[22:35:45] *** Quits: Ms2ger (Ms2ger@moz-0smvhf.isp.belgacom.be) (Ping timeout: 121 seconds)
[22:36:34] <AeroNotix> one thing in the docs (such as https://doc.rust-lang.org/book/ownership.html) is that they mention "cost" as if we're clearly certain that they mean *runtime* cost, whereas at no point (that I've seen) is this mentioned explicitly that it is runtime "cost"
[22:36:38] *** Joins: zyga (zyga@moz-84t.g3u.7.89.IP)
[22:36:42] <AeroNotix> be it memory or cpu usage or w/e
[22:36:44] <AeroNotix> just a vague "cost"
[22:36:54] *** Quits: kent (kent@moz-nd2iqs.fl.atlanticbb.net) (Ping timeout: 121 seconds)
[22:37:34] <AeroNotix> or perhaps I should just assume, w/e.
[22:38:12] *** Quits: lutter1 (lutter@moz-7v7ueu.PUBLIC.monkeybrains.net) (Quit: Leaving.)
[22:38:19] *** Joins: lutter1 (lutter@moz-7v7ueu.PUBLIC.monkeybrains.net)
[22:38:30] <bluss> if it's zero-cost, then it has no cost in any runtime metric I guess?
[22:38:34] <rkruppe> AeroNotix: It can mean several of those things, sometimes at the same time. For example, not boxing small types saves memory while also improving performance (cache hits) through better spatial locality
[22:38:42] <panicbit> AeroNotix: The second paragraph of the "Meta" section states "You do not pay any run-time cost for any of these features."
[22:38:58] <AeroNotix> panicbit: yeah I did just see that and facepalmed a little. 
[22:39:13] <AeroNotix> It really is the first time I've seen any further explanation, in my defense.
[22:40:06] <steveklabnik> gsingh93: sure. one lefty philosopher means that the ordering is no longer total
[22:40:20] <steveklabnik> gsingh93: the original djikstra paper has a proof, iirc
[22:40:52] <steveklabnik> AeroNotix: "You do not pay any run-time cost for any of these features." ?
[22:41:14] <panicbit> AeroNotix: It probably would make sense to mention "cost at runtime" before using just "cost" instead
[22:41:16] *** Joins: yuja (yuja@moz-kqflcs.so-net.ne.jp)
[22:41:19] <steveklabnik> oh sorry, saw that panicbit mentioned it :)
[22:41:46] <AeroNotix> yeah, it's 00:45 here! (any excuse:P)
[22:41:52] <steveklabnik> hehe it's all good
[22:42:07] *** Joins: orangeshark (erik@moz-d2eenc.44tj.56ot.0306.2602.IP)
[22:42:13] <rkruppe> Oh, another European. Hi!
[22:42:42] <AeroNotix> Hi.
[22:43:09] *** Quits: giucam (giucam@moz-iv0nnc.bb.dnainternet.fi) (Ping timeout: 121 seconds)
[22:43:12] *** Quits: pylbrecht (pylbrecht@moz-b4nhkg.dynamic.kabel-deutschland.de) (Quit: good night)
[22:43:33] <ChrisMorgan> acrichto: OK, https://github.com/rust-lang/rust-playpen/pull/89 is ready to merge in my opinion.
[22:44:30] <ChrisMorgan> Replacing the colour PNG logo with a black trimmed SVG logo took 131KB down to 6KB, which is nice.
[22:44:36] <panicbit> Can we get rid of ^L in the playground? :P
[22:44:56] <ChrisMorgan> panicbit: ^L?
[22:45:13] *** Quits: kgrandon (Adium@moz-ilv.ukc.122.2.IP) (Quit: Leaving.)
[22:45:15] <FreeFull> I'd like if the playground's editor didn't capture ^T for that weird swapping thing
[22:45:19] <Soni> how should I learn rust?
[22:45:19] <panicbit> ChrisMorgan: As in "Ctrl + L"
[22:45:40] <mbrubeck> FreeFull: +1
[22:45:50] <FreeFull> Soni: What languages have you had experience with before?
[22:45:57] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[22:46:03] <panicbit> ChrisMorgan: I hate to manually shuffle my mouse into the address bar...
[22:46:05] *** Quits: areski (areski@moz-prr0dt.user.ono.com) (Ping timeout: 121 seconds)
[22:46:05] <ChrisMorgan> panicbit: ah, I hadn’t actually tried pressing it. I read “background” rather than “playground”.
[22:46:09] <mbrubeck> FreeFull: Though arguably this should be fixed in the browser - https://bugzilla.mozilla.org/show_bug.cgi?id=1052569
[22:46:11] <ChrisMorgan> panicbit: Alt+D
[22:46:12] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[22:46:21] <panicbit> ChrisMorgan: Nice, thanks!
[22:46:43] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[22:46:48] <ChrisMorgan> L for Location, D for… aDDress?
[22:46:49] <Soni> FreeFull, Lua, Python, Java, C, PHP, JS, Forth, Brainfuck, in no particular order
[22:46:52] <panicbit> ChrisMorgan: Should have tried looking up hotkey alternatives..
[22:46:53] *** Quits: duesenfranz_ (jona@moz-711djm.tirol.surfer.at) (Ping timeout: 121 seconds)
[22:47:10] <ChrisMorgan> panicbit: Alt+D has worked for ever, Ctrl+L merely almost forever.
[22:47:26] *** Joins: sambotron (sambotron@moz-lgc.bdf.247.173.IP)
[22:47:33] <bluss> ChrisMorgan: oh I was just going to lobby you for shortcuts. Ctrl+T is transpose, I'd like it to be new tab..
[22:47:48] <mbrubeck> Soni: The book is a good place to start: http://doc.rust-lang.org/nightly/book/
[22:47:49] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[22:48:28] <FreeFull> Soni: I'd look at the http://doc.rust-lang.org/1.0.0-beta.5/book/ and at http://rustbyexample.com/
[22:48:31] <mbrubeck> bluss: The worst thing is that, at least in my Firefox, Ctrl-T transposes *and* opens a new tab.
[22:48:34] *** Parts: IslandUsurper (lyle@moz-80gme0.2m7b.cbes.0306.2602.IP) ()
[22:48:34] *** Quits: cow_2001 (un@moz-pk4.og5.226.188.IP) (Quit: ASCII Muhammad - @o<-<)
[22:48:35] *** Quits: sambotron (sambotron@moz-lgc.bdf.247.173.IP) (Quit: )
[22:48:37] *** Joins: egrep (egrep@moz-vqao7u.org)
[22:48:46] <mbrubeck> bluss: Which means that I don't even notice that I've transposed two random characters until some random time later.
[22:48:49] <bluss> oh I would prefer that to mine
[22:48:54] <FreeFull> Soni: One tricky bit is that not all documentation is guaranteed to be 100% accurate/complete yet
[22:49:07] <bluss> your firefox is better than my firefox
[22:49:11] *** Quits: zcourts (zcourts@moz-7ms809.cable.virginm.net) (Client exited)
[22:49:30] <panicbit> ChrisMorgan: Wow, your additions look great :)
[22:49:55] *** Joins: rkruppe_ (chatzilla@moz-3nj.rnu.131.95.IP)
[22:50:19] *** Joins: zmack (zmack@moz-j05.1kc.25.188.IP)
[22:50:48] <gsingh93> steveklabnik: oh, I missed that the last guy had 0 4 as the ordering instead of 4 0. also, what's the point of the send the done message? is it to have the threads block? doesn't the join take care of that?
[22:51:04] <ChrisMorgan> Oh good, a simple editor.commands.removeCommand("transposeletters") fixes Ctrl+T.
[22:51:13] <gsingh93> of sending the done message*
[22:51:22] *** Joins: hjr3 (hradtke@moz-lei.av4.169.69.IP)
[22:52:05] *** Quits: rkruppe (chatzilla@moz-3nj.rnu.131.95.IP) (Ping timeout: 121 seconds)
[22:52:07] *** rkruppe_ is now known as rkruppe
[22:52:10] <panicbit> ChrisMorgan: I'll definitely inject that using (grease|temper)monkey...
[22:52:22] <panicbit> tamper*
[22:52:31] <steveklabnik> gsingh93: sending the done message should have been removed before the PR got merged
[22:52:36] <ChrisMorgan> Default commands are listed at <https://github.com/ajaxorg/ace/blob/ad5802be065525283170a2d3c64300d678829d8c/lib/ace/commands/default_commands.js>. Ideally I’d just unlink the Ctrl+T part, but gutting the entire command works for me in that particular case…
[22:52:59] <panicbit> ChrisMorgan: Wait. Ctrl + T?
[22:53:18] <ChrisMorgan> Whoa, Ctrl+,!
[22:53:28] <panicbit> Ace :)
[22:53:35] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[22:54:21] *** Quits: zmack (zmack@moz-j05.1kc.25.188.IP) (Ping timeout: 121 seconds)
[22:54:38] <ChrisMorgan> So the whole cog icon I put there is a poor man’s version of Ctrl+,
[22:55:25] <acrichto> ChrisMorgan: awesome, thanks! I will merge that soon
[22:55:35] <mkomitee> is it possible via the various mechanisms of conditional compilation, to use one codepath for debug builds and another for builds used for deploy?
[22:55:39] <AeroNotix> So does Rust need mutexes?
[22:55:39] *** Joins: iitaku (Mibbit@moz-u578hl.ocn.ne.jp)
[22:55:41] *** Quits: edlothiol (user@moz-i70j4f.dynamic.kabel-deutschland.de) (Ping timeout: 121 seconds)
[22:55:51] <AeroNotix> as much as other languagees.
[22:55:54] <FreeFull> Rust has mutexes
[22:55:58] <FreeFull> In the standard library
[22:56:10] <bluss> ChrisMorgan: heroic!! /me salutes the killing of the ctrl-t hogging command
[22:56:12] <rkruppe> AeroNotix: If you want to share mutable memory, yes. But you can also use message passing and you can share immutable data without Mutex
[22:56:13] *** Quits: Guest72 (textual@moz-41t.55v.34.199.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[22:56:14] *** Joins: lucian (lucian@moz-2c3pda.cable.virginm.net)
[22:56:22] *** Quits: lucian (lucian@moz-2c3pda.cable.virginm.net) (A TLS packet with unexpected length was received.)
[22:56:23] *** Joins: lucian (lucian@moz-2c3pda.cable.virginm.net)
[22:56:33] *** Quits: hjr3 (hradtke@moz-lei.av4.169.69.IP) (Quit: My MacBook has gone to sleep. ZZZzzz…)
[22:56:34] <AeroNotix> oh right, let mut, I forgot about that.
[22:56:38] *** Quits: tomprogrammer (thomas@moz-j8v2jd.tr5r.qept.4dd0.2001.IP) (Quit: WeeChat 1.1.1)
[22:57:28] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[22:58:10] *** Joins: njn_ (chatzilla@moz-6gdjm4.iinet.net.au)
[22:58:13] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[23:00:00] *** njn_ is now known as njn
[23:00:21] *** Quits: gsingh93 (gulshan@moz-qnbukr.mi.comcast.net) (Ping timeout: 121 seconds)
[23:00:33] <iitaku> I have forked rust.git and writing some patches, but compile is toooo slow. Is there any way to boost compile time of rustc development?
[23:01:11] <rkruppe> iitaku: I feel you :(
[23:01:42] <ebfull> iitaku: you could try to just compile stage1
[23:01:46] <rkruppe> Depending on what you modified, running only stage1 or stage2 tests may be enough
[23:01:51] <mbrubeck> mkomitee: Yes - #[cfg(debug_assertions)] is enabled by default in debug builds only.
[23:02:02] *** Joins: nico (nico@moz-u00aae.dip0.t-ipconnect.de)
[23:02:07] *** Joins: zhoeon (fc@moz-cuhqb2.cable.teksavvy.com)
[23:02:11] *** Quits: saterus (saterus@moz-rutqj0.res.rr.com) (Connection closed)
[23:02:32] *** Joins: saterus (saterus@moz-rutqj0.res.rr.com)
[23:02:53] <rkruppe> iitaku: Out of curiosity, what kind of patches are you writing?
[23:02:53] *** Quits: saterus (saterus@moz-rutqj0.res.rr.com) (Connection closed)
[23:03:01] *** Joins: saterus (saterus@moz-rutqj0.res.rr.com)
[23:04:03] *** Quits: nicoch (nicoch@moz-g02d7k.be) (Quit: My Mac has gone to sleep. ZZZzzz…)
[23:04:24] *** Quits: shellac (textual@moz-9b49cr.cable.virginm.net) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[23:04:51] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[23:05:24] *** Quits: Quanttek (quassel@moz-25k96c.6fkd.dvrb.8108.2a02.IP) (Ping timeout: 121 seconds)
[23:05:57] *** kimundi is now known as zz_kimundi
[23:06:04] *** Quits: nico (nico@moz-u00aae.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[23:06:07] <mkomitee> mbrubeck: thanks. just found that (in a reddit thread :))
[23:06:11] <iitaku> Thanks for reply. I guess, problem is just typing 'make' will cause building all dependent modules (i.e. compile librustc/lib.rs will build whole of the librustc) ...
[23:06:37] <rkruppe> Yeah, maybe don't do that when you're developing
[23:06:46] *** Quits: yuja (yuja@moz-kqflcs.so-net.ne.jp) (Ping timeout: 121 seconds)
[23:06:52] <rkruppe> Run `make tips` for information on how to build only what you need
[23:06:59] <mbrubeck> Hmm, `debug_assertions` should probably be added to http://doc.rust-lang.org/reference.html#conditional-compilation (cc steveklabnik)
[23:07:23] <steveklabnik> sure :)
[23:07:25] *** Quits: Astrum|Lap (Astrum|Lap@moz-7enfbr.co.comcast.net) (Client exited)
[23:07:31] <iitaku> Nice.
[23:08:02] *** Quits: debu (debu@moz-6momm3.adsl.alicedsl.de) (Ping timeout: 121 seconds)
[23:08:34] *** Quits: stl (stl@moz-h0r.qae.15.176.IP) (Ping timeout: 121 seconds)
[23:08:51] <rkruppe> It will still take many minutes. I just added three `pub` modifiers in core and I don't think I'll get the resulting binary before I go to sleep -.-
[23:10:29] *** Joins: __ixti__ (ixti@moz-21k.dae.119.188.IP)
[23:11:21] <iitaku> I started to write SPIR backend of rust for 3 days ago. BR!
[23:12:45] *** Joins: dawehner (quassel@moz-id4.bjg.78.66.IP)
[23:12:53] *** Quits: demilich_ (demilich@moz-484efq.adsl.alicedsl.de) (Quit: Leaving)
[23:13:12] *** Joins: Selemur (chatzilla@moz-tpgfbn.kawo1.rwth-aachen.de)
[23:13:15] *** Quits: _ixti_ (ixti@moz-21k.dae.119.188.IP) (Ping timeout: 121 seconds)
[23:14:17] *** Joins: mdinger (mdinger@moz-pospjk.9bf5.ppaa.0306.2602.IP)
[23:14:36] *** Parts: swgillespie (swgillespie@moz-1i5.3un.220.167.IP) ("Textual IRC Client: www.textualapp.com")
[23:14:40] *** Joins: swgillespie (swgillespie@moz-1i5.3un.220.167.IP)
[23:14:44] <JustAPerson> iitaku: hosting that anywhere currently? 
[23:15:59] <mdinger> Are defaults implemented for associated types yet? I can't get it to work: http://is.gd/aUWTsw
[23:16:06] *** Joins: Twinklebear (Twinklebear@moz-ttrcn3.ut.comcast.net)
[23:16:24] *** Quits: griff (griff@moz-bf2.sbd.199.62.IP) (Client exited)
[23:16:28] <mdinger> ah nope
[23:16:32] <mdinger> https://github.com/rust-lang/rust/issues/19476
[23:16:33] *** Quits: bvssvin (sven@moz-qqolj8.bb.online.no) (Ping timeout: 121 seconds)
[23:16:36] <mdinger> nvm
[23:16:50] *** Joins: bvssvni (sven@moz-qqolj8.bb.online.no)
[23:17:47] *** Quits: pgonda (peter@moz-s36.0tp.134.75.IP) (Ping timeout: 121 seconds)
[23:18:12] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Ping timeout: 121 seconds)
[23:18:26] <currysoup> I have a somewhat clowny question, cargo itself doesnt seem to be hosted on crates.io - might be useful for building tooling, would it be sensible for the cargo libraries to be on there?
[23:18:35] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[23:18:54] *** Joins: asmodeius (asmodeius@moz-vhv.7vr.156.149.IP)
[23:19:09] *** Joins: BZaidan (quassel@moz-jv9fh3.org.ly)
[23:19:16] *** Joins: GBGamer (GBGamer@moz-92sbjt.wa.comcast.net)
[23:19:24] *** Quits: BZaidan (quassel@moz-jv9fh3.org.ly) (A TLS packet with unexpected length was received.)
[23:19:36] *** Joins: BZaidan (quassel@moz-jv9fh3.org.ly)
[23:20:13] *** Quits: brson (brson@moz-cfhap5.mtv2.mozilla.com) (Quit: leaving)
[23:20:15] *** Joins: brson (brson@moz-cfhap5.mtv2.mozilla.com)
[23:20:19] *** Quits: annodomini (lambda@moz-hceqmj.hfc.comcastbusiness.net) (Client exited)
[23:21:19] *** Quits: brson (brson@moz-cfhap5.mtv2.mozilla.com) (Quit: leaving)
[23:21:22] *** Joins: brson (brson@moz-cfhap5.mtv2.mozilla.com)
[23:21:22] *** ChanServ sets mode: +ao brson brson
[23:21:29] *** Joins: Rachael (Mibbit@moz-v60o51.ca.comcast.net)
[23:21:34] *** Quits: jaen (jaen@moz-ifmik2.copit.pl) (Connection closed)
[23:23:11] *** Quits: zeph (zeph@moz-jn4cjt.3nlo.p53a.ffda.2602.IP) (Ping timeout: 121 seconds)
[23:24:02] *** Joins: aatch (james@moz-ciignl.bmm3.j08e.e000.2406.IP)
[23:24:45] *** Quits: Raven67854 (Raven67854@moz-8fl3ql.unassigned.ntelos.net) (Quit: Leaving)
[23:25:05] *** Joins: zeph (zeph@moz-jn4cjt.3nlo.p53a.ffda.2602.IP)
[23:26:00] *** Quits: loyd (loyd@moz-uft.32f.108.213.IP) (Ping timeout: 121 seconds)
[23:26:38] *** Quits: iitaku (Mibbit@moz-u578hl.ocn.ne.jp) (Quit: http://www.mibbit.com ajax IRC Client)
[23:26:50] *** Joins: Raven67854 (Raven67854@moz-8fl3ql.unassigned.ntelos.net)
[23:27:09] <mbrubeck> currysoup: Might want to propose that in #cargo
[23:27:19] *** Quits: blaenk (blaenkdenum@moz-em283u.res.rr.com) (Connection closed)
[23:27:47] *** Joins: blaenk (blaenkdenum@moz-em283u.res.rr.com)
[23:28:14] *** Quits: mattico (matt@moz-uf7ijl.bff5.ebih.ea00.2607.IP) (Quit: Leaving)
[23:28:15] <currysoup> mbrubeck: cool - thanks :)
[23:28:36] *** Quits: zhoeon (fc@moz-cuhqb2.cable.teksavvy.com) (Ping timeout: 121 seconds)
[23:28:54] *** Joins: robojeb (Mibbit@moz-su0f9k.fios.verizon.net)
[23:29:58] *** Quits: zxq9 (ceverett@moz-qsm369.mesh.ad.jp) (Quit: Konversation terminated!)
[23:30:39] <fmtq> will rust end up being like lisp, having a million dialects?
[23:31:14] *** Quits: agjacome (agjacome@moz-acoq63.dynamic.jazztel.es) (Ping timeout: 121 seconds)
[23:32:06] <mbrubeck> fmtq: I think it's a little harder to build your own Rust than it is to build your own Lisp.  So that might keep a damper on fragmentation...
[23:32:17] *** Quits: wldcordeiro (wldcordeiro@moz-pvsror.ut.comcast.net) (Ping timeout: 121 seconds)
[23:33:14] *** Joins: Irrelium (Irrelium@moz-4kl.9ut.19.71.IP)
[23:33:29] *** Joins: kent (kent@moz-nd2iqs.fl.atlanticbb.net)
[23:33:40] *** Quits: mkpankov (mkpankov@moz-o5n.evt.23.84.IP) (Quit: Bye)
[23:34:05] *** Joins: mkpankov (user@moz-o5n.evt.23.84.IP)
[23:34:07] <Selemur> Loving the moon on reddit
[23:34:17] *** Quits: mkpankov (user@moz-o5n.evt.23.84.IP) (A TLS packet with unexpected length was received.)
[23:34:18] <Selemur> who's the jester that puts these things up all the time
[23:34:20] <carlcolglazier> I could go without. 
[23:34:25] *** Quits: mkpankov` (user@moz-o5n.evt.23.84.IP) (A TLS packet with unexpected length was received.)
[23:34:40] *** Joins: mkpankov (user@moz-o5n.evt.23.84.IP)
[23:35:05] *** Joins: Church (hatter@moz-7jrea0.dyn.optonline.net)
[23:35:30] *** Quits: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[23:35:37] *** Quits: mdinger (mdinger@moz-pospjk.9bf5.ppaa.0306.2602.IP) (Quit: Leaving)
[23:36:02] *** Quits: meh (meh@moz-2vi7cf.42-151.net24.it) (Ping timeout: 121 seconds)
[23:36:12] *** nrc is now known as nrc|afk
[23:36:19] *** Quits: kent (kent@moz-nd2iqs.fl.atlanticbb.net) (Connection closed)
[23:37:12] *** Joins: jtdowney (jtdowney@moz-obnifk.il.comcast.net)
[23:37:38] *** Quits: kmcguire_ (kmcguire@moz-pg1gb9.biz.rr.com) (Ping timeout: 121 seconds)
[23:38:01] <aatch> Given that there's only 4 major C++ compilers out there, and Rust has similar, if not higher, complexity for implementation, I'm going to say that fragmentation of the language is unlikely.
[23:38:05] *** Joins: rouma (zack@moz-p8e0re.res.rr.com)
[23:38:37] <aatch> (The four compilers being gcc, clang, cl.exe (Microsoft's) and icc)
[23:38:51] <pcwalton> Green Hills!
[23:39:09] <aatch> pcwalton, Green Hills?
[23:39:54] <pcwalton> it's a C++ compiler popular in embedded
[23:40:53] <aatch> pcwalton, ah, well I considered not including `icc` in my list since I've only ever seen Intel talk about it.
[23:41:19] *** Quits: GaryOak_ (GaryOak_@moz-etoj16.hfc.comcastbusiness.net) (Connection closed)
[23:41:35] <mkpankov> rumors are, it's pretty good at vectorization
[23:41:55] *** Joins: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu)
[23:42:24] *** Quits: exadeci (uid35778@moz-l8iij7.ealing.irccloud.com) (Quit: Connection closed for inactivity)
[23:45:15] *** Quits: zeph (zeph@moz-jn4cjt.3nlo.p53a.ffda.2602.IP) (Ping timeout: 121 seconds)
[23:45:57] *** Joins: iitaku (Mibbit@moz-u578hl.ocn.ne.jp)
[23:46:14] *** Quits: iitaku (Mibbit@moz-u578hl.ocn.ne.jp) (Quit: http://www.mibbit.com ajax IRC Client)
[23:46:29] *** Quits: sargas (sargas@moz-863roc.hfc.comcastbusiness.net) (Quit: Leaving)
[23:46:33] *** Joins: stl (stl@moz-861.rr7.15.176.IP)
[23:46:35] *** Joins: sargas (sargas@moz-863roc.hfc.comcastbusiness.net)
[23:47:17] *** Quits: sargas (sargas@moz-863roc.hfc.comcastbusiness.net) (Quit: Leaving)
[23:47:23] *** Joins: sargas (sargas@moz-863roc.hfc.comcastbusiness.net)
[23:47:23] <Thiez> Is there any way to print indirection (&) with Display and Debug?
[23:47:26] *** GBGamer is now known as Guest53605
[23:47:26] *** Quits: jedireza (jedireza@moz-cjisgg.corp.yahoo.com) (Quit: My Mac has gone to sleep. ZZZzzz…)
[23:47:34] *** Quits: Guest53605 (GBGamer@moz-92sbjt.wa.comcast.net) (Connection closed)
[23:47:40] *** Joins: GBGamer (npm@moz-92sbjt.wa.comcast.net)
[23:48:03] <Thiez> because it seems that for some reason there is a blanket implementation for &'a T where T: Debug/Display that simply prints the dereffed value
[23:48:12] *** Quits: mkpankov (user@moz-o5n.evt.23.84.IP) (A TLS packet with unexpected length was received.)
[23:48:16] <pcwalton> Thiez: no, I don't think so
[23:48:43] <Thiez> I was a bit surprised when my Option<&u8> printed as Some(1) :)
[23:48:46] *** Quits: frankmcsherry (frankmcsher@moz-la1m3v.adsl.alicedsl.de) (Connection closed)
[23:48:49] *** Quits: Guest22 (textual@moz-jt9juk.fibertel.com.ar) (Quit: My Mac has gone to sleep. ZZZzzz…)
[23:48:50] *** Quits: skade (skade@moz-m9ib3m.pools.vodafone-ip.de) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[23:48:54] <robojeb> Why would the compiler be telling me that '+' cannot be applied to Wrapping<T>? I thought that was the point of it
[23:49:13] <GBGamer> robojeb: code?
[23:49:37] <mbrubeck> robojeb: To two Wrapping<T>, or to Wrapping<T> and something else?  (Also, what is T?)
[23:49:37] *** Quits: killercup (killercup@moz-qj5qhi.dip0.t-ipconnect.de) (Quit: Bye)
[23:49:38] *** Joins: mkpankov (mkpankov@moz-o5n.evt.23.84.IP)
[23:50:05] *** Quits: panda (Mibbit@moz-g3m.svq.102.192.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[23:50:22] <robojeb> One sec what is the best way to post code
[23:50:24] *** Joins: jgallagher (john@moz-6ge.dhn.131.24.IP)
[23:50:34] <GBGamer> what's up with play.rust-lang.org?
[23:50:45] <geofft> GBGamer: re-CSS'd, shift-reload if necessary 
[23:50:45] <mbrubeck> GBGamer: force-reload?
[23:50:56] <GBGamer> I think I preferred the old style...
[23:51:07] <mbrubeck> robojeb: gist, or http://play.rust-lang.org, or http://pastebin.mozilla.org
[23:51:08] *** Joins: zeph (zeph@moz-jn4cjt.3nlo.p53a.ffda.2602.IP)
[23:51:12] <GBGamer> it's like... rusty now
[23:51:30] <GBGamer> (colored rusty)
[23:51:56] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[23:52:03] *** Joins: Wild_Cat (Max@moz-fa8mvt.dsl.teksavvy.com)
[23:52:09] *** Joins: kalail (uid62296@moz-5ck9vu.charlton.irccloud.com)
[23:52:19] <robojeb> I am trying to implement a long integer (for fun and knowledge) so I have been playing with and add_with_carry type function http://is.gd/YMAKuA
[23:52:19] <panicbit> robojeb: https://play.rust-lang.org/ , http://pastebin.com , Github Gists etc
[23:52:28] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[23:53:05] <robojeb> this is just a shortened test
[23:53:07] <panicbit> mbrubeck: Argh, did not see your answer
[23:53:27] <mbrubeck> robojeb: It looks like Add<Wrapping<T>> for Wrapping<T> is only implemented for specific T - http://doc.rust-lang.org/std/num/struct.Wrapping.html
[23:54:43] <robojeb> so when the addition is occuring the type is still Wrapping<T>? Sorry I come from a C++ background. Does it not substitute like a template and become Wrapping<u8>?
[23:54:59] <aatch> robojeb, so we don't have templates.
[23:55:12] <aatch> robojeb, we have a property parameterized type system.
[23:55:25] <robojeb> yeah I am slowly learning it
[23:55:27] <Thiez> a properly parameterized type system that gets in your way in this case :D
[23:56:00] <GBGamer> one sec, robojeb
[23:56:03] <aatch> robojeb, think of it like the compiler making sure that every single possible substitution of your template is valid.
[23:56:06] <GBGamer> I've almost got it working!
[23:56:11] <mbrubeck> robojeb: http://is.gd/Ao2rVA
[23:56:16] <robojeb> @aatch that is nice
[23:56:17] *** Quits: jdm (jdm@moz-0p6oj8.ckpj.s0pt.0450.2001.IP) (Quit: )
[23:56:32] *** Quits: happy-dude_ (uid62780@moz-jt3517.charlton.irccloud.com) (Quit: Connection closed for inactivity)
[23:56:53] <Thiez> perhaps there should be a trait for types that supports wrapping_{add,sub,whatever}, so that can be used as a constraint in this type of scenario
[23:56:55] <GBGamer> mbrubeck: argh you beat me to it!
[23:56:57] <aatch> robojeb, we do monomorphise like C++ templates though, so the performance characteristics are similar. (Better in some cases).
[23:57:07] *** Quits: asQuirreL (asQuirreL@moz-ro1qqu.ox.ac.uk) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[23:57:14] <Thiez> ah, or that
[23:57:15] <robojeb> mbrubeck I totally forgot about where
[23:57:16] <mbrubeck> Did I win the "how many times can I write `Wrapping<T>` on one line" contest?
[23:57:18] *** Quits: molokdot2 (molokdotc@moz-kjf.mdl.255.187.IP) (Quit: leaving)
[23:57:24] <Thiez> mbrubeck: you did.
[23:57:47] *** Quits: lenstr (lenstr@moz-el8.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[23:58:25] <GBGamer> you can get rid of one of those Wrapping<T>s
[23:58:37] <GBGamer> (Add<Output=Wrapping<T>)
[23:58:55] <Thiez> or make it even more generic: fn add_test<T,U>(x:Wrapping<T>, y:Wrapping<U>) -> <Wrapping<T> as Add<Wrapping<U>>>::Output where Wrapping<T>: Add<Wrapping<U>>
[23:59:16] <mbrubeck> Or even more generic: fn add_test<T,U,V>(x:T, y:U) -> V where T: Add<U, Output=V>
