[00:00:20] *** Joins: mccr8 (mccr8@moz-BBE3ABD.mv.mozilla.com)
[00:01:36] *** Quits: dherman (dherman@moz-BBE3ABD.mv.mozilla.com) (Quit: dherman)
[00:03:15] *** Joins: fabrice (fabrice@moz-CC46F4AB.hinet-ip.hinet.net)
[00:03:49] *** Quits: fabrice (fabrice@moz-CC46F4AB.hinet-ip.hinet.net) (Max SendQ exceeded)
[00:04:13] *** Joins: fabrice (fabrice@347FA24B.24D9B0A0.495EC8CD.IP)
[00:04:45] *** Quits: fabrice (fabrice@347FA24B.24D9B0A0.495EC8CD.IP) (Max SendQ exceeded)
[00:05:41] *** Joins: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com)
[00:05:48] *** Joins: fabrice (fabrice@moz-CC46F4AB.hinet-ip.hinet.net)
[00:05:57] *** Joins: ghservo (ghservo@C8693FCB.6A2AE50.F3114085.IP)
[00:05:57] <ghservo> [13servo] 15SimonSapin opened issue #1673: Move to rust-url 02http://git.io/47eP5A
[00:05:57] *** Parts: ghservo (ghservo@C8693FCB.6A2AE50.F3114085.IP) ()
[00:06:18] *** Joins: eatkinson (eatkinson@moz-261EDE03.hsd1.ca.comcast.net)
[00:06:22] *** Quits: fabrice (fabrice@moz-CC46F4AB.hinet-ip.hinet.net) (Max SendQ exceeded)
[00:06:47] *** Joins: fabrice (fabrice@347FA24B.24D9B0A0.495EC8CD.IP)
[00:07:20] *** Quits: fabrice (fabrice@347FA24B.24D9B0A0.495EC8CD.IP) (Max SendQ exceeded)
[00:07:36] *** Quits: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com) (Ping timeout)
[00:07:47] *** Joins: jet (jet@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[00:07:56] *** Joins: fabrice (fabrice@moz-CC46F4AB.hinet-ip.hinet.net)
[00:08:31] *** Quits: fabrice (fabrice@moz-CC46F4AB.hinet-ip.hinet.net) (Max SendQ exceeded)
[00:08:46] *** Joins: fabrice (fabrice@moz-CC46F4AB.hinet-ip.hinet.net)
[00:08:59] <SimonSapin> Aaand, another brain dump :)
[00:10:21] <pcwalton> +1
[00:10:34] *** Quits: eatkinson (eatkinson@moz-261EDE03.hsd1.ca.comcast.net) (Quit: ZNC - http://znc.in)
[00:10:59] *** Quits: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[00:11:04] *** Joins: eatkinson (eatkinson@moz-261EDE03.hsd1.ca.comcast.net)
[00:13:12] *** Quits: CaseyBecking (CaseyBecki@ED8170C4.82E507D6.C334098E.IP) (Client exited)
[00:13:42] *** Joins: CaseyBecking (CaseyBecki@ED8170C4.82E507D6.C334098E.IP)
[00:15:22] *** Quits: CaseyBecking (CaseyBecki@ED8170C4.82E507D6.C334098E.IP) (Ping timeout)
[00:17:02] *** Quits: Jayflux (Jason@moz-1A106D3C.as13285.net) (Quit: Leaving)
[00:17:40] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[00:18:16] *** Joins: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com)
[00:19:52] *** Joins: ghservo (ghservo@9C8B94D4.6A2AE50.F3114085.IP)
[00:19:52] <ghservo> 01[13servo01] 15bors-servo pushed 0 new commits to 06auto: 02http://git.io/O3pGqw
[00:19:52] *** Parts: ghservo (ghservo@9C8B94D4.6A2AE50.F3114085.IP) ()
[00:19:53] *** Joins: ghservo (ghservo@2EE61FCC.6A2AE50.F3114085.IP)
[00:19:53] <ghservo> 01[13servo01] 15bors-servo pushed 6 new commits to 06auto: 02http://git.io/HYatDg
[00:19:53] <ghservo> 13servo/06auto 1493d7ddd 15Keegan McAllister: Add a simple iframe test page
[00:19:53] <ghservo> 13servo/06auto 14d1f98e0 15Keegan McAllister: Convert data-url.html to a reftest
[00:19:53] <ghservo> 13servo/06auto 14d723798 15Keegan McAllister: Eliminate string match allocation in url.rs
[00:19:55] *** Parts: ghservo (ghservo@2EE61FCC.6A2AE50.F3114085.IP) ()
[00:22:02] *** Joins: CaseyBecking (CaseyBecki@ED8170C4.82E507D6.C334098E.IP)
[00:22:37] *** Quits: fabrice (fabrice@moz-CC46F4AB.hinet-ip.hinet.net) (Quit: Leaving.)
[00:25:05] *** Quits: Savago (Savago@D8B9C081.E820043D.D4C04133.IP) (Quit: Savago)
[00:29:29] *** Quits: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com) (Quit: brendan)
[00:30:22] *** Quits: mccr8 (mccr8@moz-BBE3ABD.mv.mozilla.com) (Quit: computer sleep)
[00:32:42] *** Joins: larsberg (larsberg@moz-5D8E4B14.lightspeed.cicril.sbcglobal.net)
[00:32:58] *** Joins: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com)
[00:33:25] *** Joins: mccr8 (mccr8@moz-BBE3ABD.mv.mozilla.com)
[00:33:39] *** Quits: jet (jet@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: jet)
[00:38:56] *** Joins: fabrice (fabrice@moz-99690620.hinet-ip.hinet.net)
[00:40:41] *** Joins: sammykim (sammy.kim@5AB4884B.FCC4549.14D5B978.IP)
[00:43:03] <sammykim> I am wondering how does the servo guarantee thread safe with DOM access in parallel? Isn't there any document or anything?
[00:46:40] *** Joins: june0cho (Mibbit@5AB4884B.FCC4549.14D5B978.IP)
[00:49:51] *** Joins: ghservo (ghservo@C8693FCB.6A2AE50.F3114085.IP)
[00:49:51] <ghservo> [13servo] 15bors-servo closed pull request #1672: Tests and mix fixes (06master...06tests) 02http://git.io/9bKm0g
[00:49:51] *** Parts: ghservo (ghservo@C8693FCB.6A2AE50.F3114085.IP) ()
[00:49:53] *** Joins: ghservo (ghservo@24260B07.6A2AE50.F3114085.IP)
[00:49:53] <ghservo> 01[13servo01] 15bors-servo merged 06auto into 06master: 02http://git.io/HYatDg
[00:49:53] *** Parts: ghservo (ghservo@24260B07.6A2AE50.F3114085.IP) ()
[00:52:39] *** Joins: lpy (lpy@54B459A1.4439B922.7CEBAF5A.IP)
[00:54:27] *** Joins: lpy_ (lpy@54B459A1.4439B922.7CEBAF5A.IP)
[00:54:44] *** Quits: lpy (lpy@54B459A1.4439B922.7CEBAF5A.IP) (Ping timeout)
[00:55:51] *** Joins: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP)
[00:56:37] *** Quits: lpy_ (lpy@54B459A1.4439B922.7CEBAF5A.IP) (Ping timeout)
[00:57:50] *** Joins: dherman (dherman@moz-BBE3ABD.mv.mozilla.com)
[00:57:50] *** ChanServ sets mode: +qo dherman dherman
[00:59:12] <larsberg> sammykim: right now, we prevent script from mutating the tree at the same time that layout is running by blocking script
[00:59:39] <larsberg> you will notice in dom/window.rs, there is a function "wait_until_safe_to_modify_dom" that waits for layout to complete a reflow (which touches DOM nodes) before making an edit
[00:59:55] <larsberg> Until we have the COW DOM in place, we need to do that, as otherwise layout could be reading data that script is changing.
[01:00:09] <larsberg> There is no document, but there are some notes on the design from jack's presentation in suwon
[01:00:18] <larsberg> http://metajack.im/presentations/servo%20architecture%20-%20suwon%20work%20week%202013.pdf and https://github.com/mozilla/servo/wiki/Transcription---Notes-from-Servo-Architecture-talk-in-Suwon
[01:00:50] *** Quits: CaseyBecking (CaseyBecki@ED8170C4.82E507D6.C334098E.IP) (Ping timeout)
[01:05:01] *** Quits: tobytailor (tobytailor@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: tobytailor)
[01:07:02] <sammykim> larsberg: Thanks. if the reflow isn't finised and event doesn't modify dom in layout, script can't modify dom until now. Do I understand correct?
[01:09:12] <larsberg> sammykim: That is correct. Any time that script needs to modify the DOM, it checks (by calling that wait_until_safe_to_modify_dom function) to ensure that reflow has finished.
[01:09:42] <sammykim> And #1496(servo pr) patrick says if we call parent_node, it's not safe because we can modify about parent, but as long as fn parent() return data with node()(see : https://github.com/mozilla/servo/pull/1496/files#diff-1dd58baf6588230698951b0c0d58a820R537) I don't know when the data can mutate.
[01:09:42] <crowbot> Issue #1496: Pseudo element build flow and box - https://github.com/mozilla/servo/pull/1496
[01:10:47] <larsberg> sammykim: I believe that pcwalton's comment is about the parallelism in layout itself
[01:10:56] <sammykim> If we want to make them mutable, they should call node.mut_node() but parent_node call just node.node()
[01:11:07] <larsberg> he is saying that it is unsafe to modify the parent of a node because each of the two children could try to do so at the same time
[01:12:14] <larsberg> So, this is not about the interaction with script, but instead about the fact that layout itself will process many DOM nodes in parallel
[01:13:14] <sammykim> larsberg: yes I understand about what patrick says exactly. But in which situation, it could be? :( I don't know when it happens . I don't understand exactly. In layout, even if I call parent_node, it's return mut node, it returns just immutable node. Then isn't it OK? :)
[01:14:16] <sammykim> If fn parent_node returns mutable node, it is obviously problem. :)
[01:15:56] *** Quits: eibwen (kvirc@moz-95DC2A62.dip0.t-ipconnect.de) (Ping timeout)
[01:17:09] *** Quits: dherman (dherman@moz-BBE3ABD.mv.mozilla.com) (Quit: dherman)
[01:17:09] <sammykim> larsberg: By the way , Thanks for spending time with me for andwering :)
[01:17:17] <larsberg> sammykim: Hrm, let me take a look at the code and pcwalton's comment now. I seem to remember him in jdm talking about it at the meeting this week quickly, but it is not in the notes.
[01:17:37] <larsberg> no problem - sorry I don't know about this PR! We try to split them up across the team :-)
[01:18:36] <larsberg> pcwalton's comments on it are at: https://github.com/mozilla/servo/wiki/Meeting-2014-02-10#wiki-acid2-status
[01:20:28] <sammykim> larsberg: Thanks for link . I am reading right now.
[01:23:12] <larsberg> sammykim: Is this being done in a bottom-up traversal pass? If so, I suspect the problem is that when the child node is being processed, the parent has not yet been processed.
[01:23:38] <larsberg> I suspect that is why he says "You can have limited access to siblings/parents if that pass is not touching it.", referring to properties that were computed in a previous pass.
[01:23:54] *** Quits: mccr8 (mccr8@moz-BBE3ABD.mv.mozilla.com) (Quit: computer sleep)
[01:25:59] <sammykim> We ues it to get before_style from parent node . before tyle is filled in css matching time. So I think it's OK. 
[01:26:02] <sammykim> use*
[01:26:22] *** Joins: CaseyBecking (CaseyBecki@moz-EDABF502.lsanca.fios.verizon.net)
[01:26:33] <sammykim> And it's bottom up traversal(postorder).
[01:27:44] <sammykim> pcwalton says blabla if that pass is not touching it. touching means just getting data or setting data or both ?
[01:28:24] *** Joins: ghservo (ghservo@C8693FCB.6A2AE50.F3114085.IP)
[01:28:24] <ghservo> [13servo] 15kmcallister opened issue #1674: Width calculation is wrong for replaced elements 02http://git.io/qJfLFg
[01:28:24] *** Parts: ghservo (ghservo@C8693FCB.6A2AE50.F3114085.IP) ()
[01:28:48] *** Quits: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com) (Quit: brendan)
[01:30:00] *** Joins: canhtak (canhtak@moz-71C1AFFE.wl.t.ulaval.ca)
[01:30:10] <eatkinson> hello all
[01:30:16] <sammykim> hi~
[01:30:22] <eatkinson> im a little confused about flow tree polymorphism since the rewrite
[01:30:45] <eatkinson> sammykim: hi
[01:31:12] <eatkinson> is there someone here who can clarify how with_base/with_mut_base works in flow.rs?
[01:31:37] <kmc> hi eatkinson!
[01:31:46] <eatkinson> hi kmc!
[01:32:29] *** Joins: mccr8 (mccr8@moz-F6A7B612.dsl.dynamic.sonic.net)
[01:32:51] <kmc> seems we only have with_base for FloatContext; the Flow methods are just base / mut_base
[01:33:20] <kmc> anyway the assumption is that any struct implementing the Flow trait starts with a field of type BaseFlow, so we can access BaseFlow members without dynamic dispatch
[01:34:30] <eatkinson> so if i implement Flow on something without BaseFlow as its first field things will go horrible wrong?
[01:35:37] <jack> eatkinson: i suspect so.
[01:36:14] <jack> well, actually it's not going to be that bad unless you cast it. because the trait doesn't now about fields, so it'll have to do a virtual method call to the struct impl which would know aobut the fields.
[01:36:24] *** Joins: ghservo (ghservo@79968228.6A2AE50.F3114085.IP)
[01:36:24] <ghservo> [13servo] 15kmcallister opened issue #1675: iframes eventually crash on resize 02http://git.io/8zE5ww
[01:36:24] *** Parts: ghservo (ghservo@79968228.6A2AE50.F3114085.IP) ()
[01:36:29] <sammykim> Why does the servo reflow three times at first loading?
[01:36:54] <jack> sammykim: sounds like a bug. i assume there is one blank paint for hte default gray background, then the page load + reflow
[01:36:59] <jack> but it shoudln't reflow another time
[01:37:29] <larsberg> it depends on the page; I've seen some happen if there are images on the page once the image loads (IIRC)
[01:37:32] <sammykim> jack: I think so. It was just two times before. but it grows three times :( ha
[01:37:38] <kmc> eatkinson: yeah, it will go horribly wrong if you make it into a ~Flow / &Flow and then pass that to base() or mut_base()
[01:37:39] <larsberg> I thought I had about-mozilla down to two reflows
[01:38:10] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[01:38:59] <sammykim> larsberg: I see Thanks :) I tested with pseudo test page :-)
[01:39:42] <larsberg> sammykim: you may need to follow up with pcwalton. Even just reading data from your parent that was set in a previous pass is dangerous because there is no guarantee (from the Rust types and compiler) that it will not be set later in the current pass. That is why he suggested you cascade or copy down the data you need from the parent to the child in a previous pass.
[01:41:03] <larsberg> sammykim: if you see specific pages that you think have extra reflows (particularly at load), feel free to open an issue and we can look into it
[01:41:51] <eatkinson> jack, kmc: ok that makes sense. So then the various FlowUtil traits call base/mut_base to avoid the vtable jump for methods in Flow?
[01:42:13] <kmc> well, for things that can be done with only BaseFlow, yeah
[01:42:19] <sammykim> larsberg: In last sentence , If I have a test case with more than two timew reflow, Can I open the issue ? 
[01:42:20] <jack> eatkinson: that would be my guess. eventually we plan to solve this with field constraints on traits.
[01:43:02] <larsberg> sammykim: sure! we may just say that it's because of a delayed resource load, script interaction, etc. but feel free to open issues if something seems to be wrong!
[01:43:22] <sammykim> Thanks for answering me about parent node things. I agree even if I get it's immutable data, we can transmute or some other type that we can modify. 
[01:43:55] <larsberg> I know reflows are especially bad right now because they repaint the whole page, which is probably particularly bad for you over a remote X11 connectionâ€¦
[01:43:57] <sammykim> I think if pcwalton comes here , I want to talk about it more deeply :) Thanks lars 
[01:44:22] <sammykim> right it's horrible with X11 . it's too slow than native.
[01:44:35] *** Joins: pradeep (pradeep@5AB4884B.FCC4549.14D5B978.IP)
[01:45:36] <sammykim> larsberg: I need to copy style from parent to child in cascade time. Thanks for advice and kind link :)
[01:46:26] <eatkinson> jack, kmc: awesome, thanks! that clears things up
[01:46:47] <larsberg> sammykim: no problem - glad to help!
[01:50:34] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[01:52:27] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Ping timeout)
[01:55:05] *** Quits: mccr8 (mccr8@moz-F6A7B612.dsl.dynamic.sonic.net) (Quit: computer sleep)
[01:55:12] *** Joins: lpy (lpy@54B459A1.4439B922.7CEBAF5A.IP)
[01:57:18] *** Quits: lpy (lpy@54B459A1.4439B922.7CEBAF5A.IP) (Ping timeout)
[02:04:04] *** Quits: gimpf (gimpf@moz-B9D88B00.adsl.highway.telekom.at) (Quit: Leaving.)
[02:07:49] *** Joins: sonwow (Mibbit@5AB4884B.FCC4549.14D5B978.IP)
[02:13:12] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[02:13:12] *** ChanServ sets mode: +o pcwalton
[02:16:55] *** Joins: victorporof (victorporo@8F761026.B5EF4AF6.E96CA9D8.IP)
[02:18:21] *** eatkinson is now known as eatkinson-away
[02:18:30] *** eatkinson-away is now known as eatkinson
[02:20:26] *** eatkinson is now known as eatkinson-away
[02:20:58] *** eatkinson-away is now known as eatkinson
[02:21:46] *** eatkinson is now known as eatkinson-away
[02:22:56] <recrack> jdm: ping
[02:26:26] *** Joins: eholk_ (eholk@moz-F70D5031.hsd1.in.comcast.net)
[02:35:38] *** Quits: larsberg (larsberg@moz-5D8E4B14.lightspeed.cicril.sbcglobal.net) (Quit: Leaving.)
[02:39:08] *** Quits: lurk_ (chatzilla@moz-F088D030.hsd1.in.comcast.net) (Ping timeout)
[02:44:00] *** Quits: bholley (bholley@moz-A2189431.hsd1.ca.comcast.net) (Quit: bholley)
[02:44:48] *** Joins: elan (elancaster@moz-1C4F0CAA.dhcp.rvsd.ca.charter.com)
[02:45:30] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[02:47:29] *** Quits: azakai (alon@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[02:51:31] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[02:53:32] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Ping timeout)
[02:55:04] *** Quits: harth (heather@moz-42412102.hsd1.ca.comcast.net) (Client exited)
[02:55:56] *** Joins: lpy (lpy@54B459A1.4439B922.7CEBAF5A.IP)
[02:58:00] *** Quits: lpy (lpy@54B459A1.4439B922.7CEBAF5A.IP) (Ping timeout)
[03:00:15] *** Quits: elan (elancaster@moz-1C4F0CAA.dhcp.rvsd.ca.charter.com) (Quit: elan)
[03:01:30] *** Quits: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[03:07:13] *** Quits: CaseyBecking (CaseyBecki@moz-EDABF502.lsanca.fios.verizon.net) (Client exited)
[03:08:38] *** Quits: maxli (maxli@moz-B19F68ED.student.cs.uwaterloo.ca) (Input/output error)
[03:09:14] *** Joins: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca)
[03:13:28] *** Quits: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca) (Quit: Leaving.)
[03:14:13] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[03:16:14] *** Joins: tobytailor (tobytailor@moz-CBD810C7.hsd1.ca.comcast.net)
[03:16:51] *** eatkinson-away is now known as eatkinson
[03:26:23] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Quit: leaving)
[03:36:46] *** Joins: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net)
[03:36:47] *** ChanServ sets mode: +o pcwalton
[03:41:25] *** Quits: ibnc (ibnc@moz-718F3037.client.mchsi.com) (Quit: )
[03:47:39] *** Joins: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP)
[03:48:03] *** Joins: jdm (jdm@CA0BC3BB.187B3A7C.7042C455.IP)
[03:48:03] *** ChanServ sets mode: +o jdm
[03:48:17] <jdm> recrack: pong
[03:49:00] <recrack> jdm: hi, how are you?
[03:49:07] <jdm> I am well!
[03:49:08] <recrack> i saw your comments.
[03:49:35] <recrack> https://critic.hoppipolla.co.uk/showcomment?chain=2180
[03:50:01] <recrack> this code is from https://github.com/mozilla/servo/blob/master/src/components/main/layout/wrapper.rs#L70
[03:50:28] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[03:50:44] <recrack> i didn't actually understand.
[03:51:53] <jdm> recrack: so the problem is that (eventually) script could be mutating the data property while layout is accessing it.
[03:52:11] <jdm> that can't actually happen right now, but I don't think we should do it this way.
[03:52:22] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[03:52:23] <jdm> layout should run the same code as prepare_data: get the attribute, create a url
[03:52:48] <jdm> (we don't actually need the data member or prepare_data with this change)
[03:54:25] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Ping timeout)
[03:56:42] *** Joins: lpy (lpy@54B459A1.4439B922.7CEBAF5A.IP)
[03:58:15] <recrack> jdm: you mean, i don't need follow this code? ( https://github.com/mozilla/servo/blob/master/src/components/script/dom/htmlimageelement.rs )
[03:58:30] <recrack> and layout/wrapper.rs#L70 .
[03:58:46] *** Quits: lpy (lpy@54B459A1.4439B922.7CEBAF5A.IP) (Ping timeout)
[03:59:06] *** Quits: victorporof (victorporo@8F761026.B5EF4AF6.E96CA9D8.IP) (Quit: victorporof)
[03:59:07] <jdm> oh right, we do the same thing in other places
[03:59:08] <jdm> bleah
[03:59:11] *** Quits: kkris (kkris@moz-CB70009.yourvserver.net) (Ping timeout)
[03:59:24] *** Joins: kkris (kkris@moz-CB70009.yourvserver.net)
[03:59:32] <recrack> where can i get it?
[03:59:51] <jdm> I mean that we do the "wrong" thing already in code like htmlimageelement
[04:00:00] <Manishearth> jdm: So when does servo generally fetch data from one thread to the other? Eg fetching the image data here, when is it *supposed* to happen?
[04:00:18] <Manishearth> At some initial state?
[04:00:41] <jdm> recrack: I'm going to file issues about code like htmlimageelement to discuss the correct solution; for your changes, I would like you to follow my comments and create a Url from the attribute in the layout wrapper code
[04:00:42] *** Quits: sammykim (sammy.kim@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[04:01:38] <pcwalton> gonna take a look at :before/:after now
[04:01:44] <jdm> Manishearth: it's a bit unclear right now. we always talk about having a copy-on-write DOM, such that layout could already read certain properties and not worry about threadsafety (they would be updated with changed values once layout is finished)
[04:01:48] <jdm> however, that doesn't exist yet
[04:02:06] <Manishearth> Ah, so currently it
[04:02:15] <Manishearth> 's a mishmash of various concurrency practices?
[04:02:15] <Manishearth> ick
[04:02:16] <jdm> so at the moment it's safe for layout to read any data it wants from DOM nodes
[04:02:24] <Manishearth> ah, or that
[04:02:24] *** Quits: eholk_ (eholk@moz-F70D5031.hsd1.in.comcast.net) (Quit: eholk_)
[04:02:34] <pcwalton> no it's not, because I will hunt you down if you do ;)
[04:02:36] <Manishearth> So later on it will become more restrictive i guess
[04:02:36] <jdm> since we stop executing any script while layout is running
[04:02:38] <pcwalton> (and r- your patch)
[04:02:49] <Manishearth> jdm: doesn't that miss the point?
[04:02:49] <jdm> pcwalton: yeah, so you're going to be interested in the issue I'm filing
[04:02:50] <pcwalton> you have to write unsafe { â€¦ } to do it anyway
[04:03:02] <pcwalton> unless I missed a hole!
[04:03:12] <jdm> pcwalton: with_image_element
[04:03:34] <jdm> https://github.com/mozilla/servo/blob/master/src/components/main/layout/wrapper.rs#L70
[04:03:42] <jdm> I mean, that does require unsafe obviously
[04:03:53] <jdm> but it does tend to complicate our COW DOM desire
[04:04:29] <pcwalton> that's part of LayoutNode, soâ€¦ oh, ok, COW DOM
[04:04:31] *** Joins: eholk_ (eholk@moz-F70D5031.hsd1.in.comcast.net)
[04:04:44] *** Quits: eholk_ (eholk@moz-F70D5031.hsd1.in.comcast.net) (Quit: eholk_)
[04:04:50] <pcwalton> that doesn't pose a problem for running *reflow* (i.e. computing positions of things) or display list construction in parallel
[04:04:59] <pcwalton> but that does pose a problem for performing style recalc concurrently
[04:05:24] *** Joins: harth (heather@moz-42412102.hsd1.ca.comcast.net)
[04:07:24] *** Quits: harth (heather@moz-42412102.hsd1.ca.comcast.net) (Ping timeout)
[04:08:31] <Manishearth> pcwalton: so eventually the plan is to make everything thread safe?
[04:08:45] *** Joins: CaseyBecking (CaseyBecki@moz-EDABF502.lsanca.fios.verizon.net)
[04:09:23] *** Joins: sammykim (sammy.kim@5AB4884B.FCC4549.14D5B978.IP)
[04:10:47] *** Joins: ghservo (ghservo@79968228.6A2AE50.F3114085.IP)
[04:10:47] <ghservo> [13servo] 15jdm opened issue #1676: LayoutWrapper reads data members of derived element types 02http://git.io/dNXHRw
[04:10:47] *** Parts: ghservo (ghservo@79968228.6A2AE50.F3114085.IP) ()
[04:13:20] <pcwalton> Manishearth: well, I am not sure what you mean by that. everything should be thread *safe* as far as I know
[04:13:34] <pcwalton> but the question is whether style recalc should be able to run concurrently with script
[04:13:44] <pcwalton> that I don't know, we need to experiment to find out whether COW approaches work
[04:14:00] <pcwalton> everything *else* as far as I know should be able to run fully pipelined
[04:14:47] *** Joins: harth (heather@moz-42412102.hsd1.ca.comcast.net)
[04:15:17] <Manishearth> pcwalton: yeah, thats what I meant
[04:15:50] <pcwalton> we don't know, gotta experiment :)
[04:16:05] <pcwalton> Blink doesn't seem to think it's worth it, but I question their methodology
[04:16:15] <pcwalton> I think we don't know whether it works
[04:16:27] <Manishearth> Had a look at the code yesterday, the threading is confusing. But I don't speak Rust (yet) so that could be it
[04:16:41] <pcwalton> well, the nice thing about the threading is that you aren't allowed to mess it up
[04:16:46] <Manishearth> yep
[04:17:01] <pcwalton> I have locked down layout so that as far as I know the Rust compiler will yell at you if you tried to do something you shouldn't
[04:17:07] <pcwalton> (unless you type unsafe { â€¦ })
[04:17:14] <pcwalton> if you find a hole, file a bug :)
[04:17:16] <Manishearth> How good is the browser meant to be on a non-parallelable platform (eg embedded, single core)
[04:17:38] <pcwalton> I think it should be pretty good, especially after my changes in style recalc land
[04:17:42] <pcwalton> but of course multicore is the focus
[04:18:03] <Manishearth> I think someone had asked jdm that at his talk (Deb linked me to it, awesome talk!), but I wasn't clear on how that is achieved
[04:18:19] <pcwalton> we aren't going to implement optimizations to squeeze out every last piece of sequential performance if they'll make parallelism harder
[04:18:25] <pcwalton> there are already engines that do that out there :)
[04:18:35] <Manishearth> pcwalton: but how would it be faster than standard browsers on non-parallel? 
[04:18:38] <pcwalton> that said, there are some pages where we are faster than existing engines sequentially
[04:18:57] <pcwalton> just various little optimizations
[04:19:07] <Manishearth> ah, I see. Optimize as you go
[04:19:09] <pcwalton> for example, we flatten inline boxes per roc's suggestion
[04:19:14] <pcwalton> most other engines don't do that
[04:19:18] <pcwalton> but that's great for cache locality
[04:19:32] <pcwalton> and we observe wins from that even sequentially
[04:22:58] *** Joins: lpy (lpy@54B459A1.4439B922.7CEBAF5A.IP)
[04:26:27] <jdm> Manishearth: you should come to gnunify this weekend and hack on servo :)
[04:28:15] * jdm needs to go check out
[04:28:56] *** Quits: jdm (jdm@CA0BC3BB.187B3A7C.7042C455.IP) (Quit: Lost terminal)
[04:31:44] *** eatkinson is now known as eatkinson-away
[04:33:03] *** Quits: CaseyBecking (CaseyBecki@moz-EDABF502.lsanca.fios.verizon.net) (Ping timeout)
[04:33:18] *** Joins: CaseyBecking (CaseyBecki@moz-2B35B9F3.reverse.softlayer.com)
[04:34:26] <june0cho> SimonSapin: ping
[04:37:51] <recrack> jdm: Should i have to wait for fix #1676 issue?
[04:37:51] <crowbot> Issue #1676: LayoutWrapper reads data members of derived element types - https://github.com/mozilla/servo/issues/1676
[04:45:50] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[04:45:50] *** ChanServ sets mode: +qo dherman dherman
[04:53:03] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[04:54:43] <pcwalton> SimonSapin: can you check my comment at the end of https://github.com/mozilla/servo/pull/1496 to make sure it sounds sane?
[04:55:05] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Ping timeout)
[04:55:08] <pcwalton> from my reading of the spec it seems correct but you know about all the edge cases
[05:00:14] *** Joins: CaseyBec_ (CaseyBecki@moz-208015F3.swissinet.com)
[05:01:19] *** Quits: CaseyBecking (CaseyBecki@moz-2B35B9F3.reverse.softlayer.com) (Ping timeout)
[05:04:43] *** Quits: fairfieldt (fairfieldt@moz-D8998E1C.xen.prgmr.com) (Ping timeout)
[05:05:38] *** Quits: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[05:05:59] *** Joins: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP)
[05:07:42] *** Quits: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[05:08:12] *** Joins: fairfieldt (fairfieldt@moz-D8998E1C.xen.prgmr.com)
[05:21:16] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Ping timeout)
[05:22:39] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[05:28:02] *** Joins: CaseyBecking (CaseyBecki@moz-C478FFDC.rev.poneytelecom.eu)
[05:28:34] *** Quits: CaseyBec_ (CaseyBecki@moz-208015F3.swissinet.com) (Ping timeout)
[05:31:19] *** Quits: CaseyBecking (CaseyBecki@moz-C478FFDC.rev.poneytelecom.eu) (Quit: Leaving...)
[05:49:04] *** Quits: pcwalton (pcwalton@moz-DA87EE4.hsd1.ca.comcast.net) (Quit: pcwalton)
[05:53:49] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[05:55:39] *** Quits: six600110 (six600110@moz-9117A1DE.hsd1.il.comcast.net) (Client exited)
[05:55:39] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Ping timeout)
[05:57:35] *** Quits: harth (heather@moz-42412102.hsd1.ca.comcast.net) (Client exited)
[06:13:55] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[06:19:26] *** Joins: eddyb (eddy@moz-92B95652.residential.rdsnet.ro)
[06:33:23] *** Quits: cait^ (glenlivet@moz-9FE842F.cpe.net.cable.rogers.com) (Client exited)
[06:33:38] *** Joins: cait (glenlivet@moz-9FE842F.cpe.net.cable.rogers.com)
[06:37:47] *** Joins: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP)
[06:39:13] *** Quits: canhtak (canhtak@moz-71C1AFFE.wl.t.ulaval.ca) (Quit: canhtak)
[06:40:19] *** Quits: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[06:40:39] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[06:45:49] *** Quits: tobytailor (tobytailor@moz-CBD810C7.hsd1.ca.comcast.net) (Quit: tobytailor)
[06:47:57] *** Joins: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP)
[06:50:27] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Client exited)
[06:53:36] *** Joins: nidhimj22 (chatzilla@moz-B145F03A.mtnl.net.in)
[06:55:21] *** Quits: cait (glenlivet@moz-9FE842F.cpe.net.cable.rogers.com) (Ping timeout)
[07:01:12] *** Parts: nidhimj22 (chatzilla@moz-B145F03A.mtnl.net.in) ()
[07:10:51] *** Joins: jackneill (jackneill@moz-89B574C7.pool.digikabel.hu)
[07:15:54] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[07:16:34] *** Parts: sammykim (sammy.kim@5AB4884B.FCC4549.14D5B978.IP) ()
[07:18:33] *** Quits: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP) (Client exited)
[07:18:54] *** Joins: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP)
[07:20:41] *** Quits: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[07:21:04] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[07:22:50] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Ping timeout)
[07:30:09] *** Joins: cait (glenlivet@moz-9FE842F.cpe.net.cable.rogers.com)
[07:33:15] *** Joins: bholley (bholley@moz-A2189431.hsd1.ca.comcast.net)
[07:34:43] *** Quits: bholley (bholley@moz-A2189431.hsd1.ca.comcast.net) (Quit: bholley)
[07:38:46] *** Joins: jensnockert (jensnocker@moz-4C68E8F4.mobileonline.telia.com)
[07:38:54] *** Joins: bholley (bholley@moz-A2189431.hsd1.ca.comcast.net)
[07:40:49] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[07:42:41] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Ping timeout)
[07:55:26] *** Quits: cait (glenlivet@moz-9FE842F.cpe.net.cable.rogers.com) (Ping timeout)
[07:55:44] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[08:09:57] *** Quits: eddyb (eddy@moz-92B95652.residential.rdsnet.ro) (Ping timeout)
[08:11:23] *** Joins: eddyb (eddy@EF91BDF3.921A1753.FCAAE698.IP)
[08:11:34] *** Joins: Ms2ger (Ms2ger@4A49FFC8.EA68D5B.F15B0BB3.IP)
[08:13:27] *** Quits: eddyb (eddy@EF91BDF3.921A1753.FCAAE698.IP) (Ping timeout)
[08:14:38] *** Joins: eddyb (eddy@1BF544DF.9065A63B.FCAAE698.IP)
[08:18:27] *** Quits: bholley (bholley@moz-A2189431.hsd1.ca.comcast.net) (Quit: bholley)
[08:26:59] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[08:27:06] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[08:28:38] *** Quits: jackneill (jackneill@moz-89B574C7.pool.digikabel.hu) (Ping timeout)
[08:29:18] *** Quits: fairfieldt (fairfieldt@moz-D8998E1C.xen.prgmr.com) (Ping timeout)
[08:33:05] *** Joins: fairfieldt (fairfieldt@moz-D8998E1C.xen.prgmr.com)
[08:33:10] *** Quits: eddyb (eddy@1BF544DF.9065A63B.FCAAE698.IP) (Ping timeout)
[08:33:37] *** Joins: eddyb (eddy@688E9026.F7C96DA2.FCAAE698.IP)
[08:39:20] *** Joins: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP)
[08:40:14] *** Joins: harth (heather@moz-42412102.hsd1.ca.comcast.net)
[08:41:54] *** Quits: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[08:42:16] *** Quits: harth (heather@moz-42412102.hsd1.ca.comcast.net) (Ping timeout)
[08:42:20] *** Quits: yusukesuzuki (yusukesuzu@moz-43160292.net218219047.t-com.ne.jp) (Quit: Tiarra 0.1+svn-39209: SIGINT received; exit)
[08:42:47] *** Joins: yusukesuzuki (yusukesuzu@moz-43160292.net218219047.t-com.ne.jp)
[08:43:05] *** Quits: yusukesuzuki (yusukesuzu@moz-43160292.net218219047.t-com.ne.jp) (Quit: Tiarra 0.1+svn-39209: SIGTERM received; exit)
[08:43:11] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:43:12] *** Joins: yusukesuzuki (yusukesuzu@moz-43160292.net218219047.t-com.ne.jp)
[08:43:15] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[08:46:54] *** Quits: fairfieldt (fairfieldt@moz-D8998E1C.xen.prgmr.com) (Ping timeout)
[08:48:53] *** Quits: sonwow (Mibbit@5AB4884B.FCC4549.14D5B978.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[08:52:40] *** Joins: ramitos (ramitos@moz-5AC0C94E.netvisao.pt)
[08:54:38] *** Joins: fairfieldt (fairfieldt@moz-D8998E1C.xen.prgmr.com)
[09:16:24] *** Joins: Debloper (debloper@moz-88FF8AE8.redhat.com)
[09:30:06] *** Quits: Ms2ger (Ms2ger@4A49FFC8.EA68D5B.F15B0BB3.IP) (Quit: bbl)
[09:42:08] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[09:42:31] *** Joins: madmoose (Hat@73F3A637.B23483B.7BA20D97.IP)
[09:44:01] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Ping timeout)
[09:49:31] *** Quits: dbaron (dbaron@moz-B3F1D17A.dsl.dynamic.sonic.net) (Quit: 8403864 bytes have been tenured, next gc will be global.)
[09:58:17] *** Joins: Kostic (Kostic@moz-658742F8.mbb.telenor.rs)
[10:01:05] *** Quits: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net) (Ping timeout)
[10:01:51] *** Quits: SimonSapin (simon@moz-9A1FE870.exyr.org) (Ping timeout)
[10:02:06] *** Joins: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net)
[10:09:46] *** Joins: six600110 (six600110@moz-9117A1DE.hsd1.il.comcast.net)
[10:11:12] *** Joins: cait (glenlivet@moz-9FE842F.cpe.net.cable.rogers.com)
[10:13:13] *** Quits: cait (glenlivet@moz-9FE842F.cpe.net.cable.rogers.com) (Ping timeout)
[10:13:45] <eddyb> 0 1 1 1 255 :D
[10:14:06] *** Quits: ramitos (ramitos@moz-5AC0C94E.netvisao.pt) (Quit: Computer has gone to sleep.)
[10:15:03] *** Joins: SimonSapin (simon@moz-9A1FE870.exyr.org)
[10:15:19] <SimonSapin> june0cho: pong
[10:15:21] <SimonSapin> (time zones!)
[10:15:22] <eddyb> while the rust logo has 0 0 (before the first length code)
[10:22:12] *** Joins: victorporof (victorporo@8F761026.B5EF4AF6.E96CA9D8.IP)
[10:27:29] *** Joins: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP)
[10:30:03] *** Quits: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[10:30:46] *** Joins: Ms2ger (Ms2ger@moz-9D94162.ugent.be)
[10:34:26] *** Quits: pradeep (pradeep@5AB4884B.FCC4549.14D5B978.IP) (Quit: leaving)
[10:43:15] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[10:43:33] *** Quits: Kostic (Kostic@moz-658742F8.mbb.telenor.rs) (Quit: Leaving)
[10:43:37] *** Joins: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP)
[10:43:50] <recrack> SimonSapin:ping
[10:44:03] <SimonSapin> Hi recrack 
[10:44:13] <recrack> SimonSapin, Hi~! :)
[10:44:37] <recrack> i have a question for your comment
[10:45:08] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Ping timeout)
[10:45:27] <recrack> about #1631 issue
[10:45:27] <crowbot> Issue #1631: Impl background image property and and others. - https://github.com/mozilla/servo/pull/1631
[10:46:11] <recrack> how can i support base url in stylesheet?
[10:48:07] <SimonSapin> in style/stylesheets.rs, the constructors for the Stylesheet struct get passed a base_url
[10:48:23] <recrack> yes, i saw it.
[10:48:34] <eddyb> I so wish macros could expand to match arms
[10:48:39] <eddyb> so much duplication :(
[10:48:59] <SimonSapin> this needs to be passed through multiple function as an additional argument in order to be available where you need it
[10:51:00] <Cork> is there any documentations what works in servo currently? (or a todo list)
[10:54:55] <Ms2ger> The source
[10:55:41] <SimonSapin> there is a todo item for writing documentation
[10:56:36] *** Quits: jensnockert (jensnocker@moz-4C68E8F4.mobileonline.telia.com) (Connection reset by peer)
[10:56:57] <eddyb> SimonSapin: what if we handle code documentation like some projects handle translations?
[10:57:13] <SimonSapin> eddyb: that is?
[10:58:44] <eddyb> you easily get undocumented items in an external tool, browse the code (Java-IDE-like code nagivation) and input docs
[10:59:04] <SimonSapin> that would be nice
[10:59:23] <eddyb> good to know my dusty magic IDE ideas still make sense
[10:59:25] <SimonSapin> now we need someone to write/setup that tool, in addition to people actually writing docs :)
[11:00:21] <eddyb> SimonSapin: most of it should be something generic to work with rust code. nrc's work on DXR+rust (I think that's the project's name) could be valuable here
[11:03:29] *** Quits: recrack (recrack@5AB4884B.FCC4549.14D5B978.IP) (Quit: )
[11:04:37] <eddyb> Ms2ger: this is working <3
[11:05:00] <eddyb> time to implement state saving
[11:06:41] *** Joins: eibwen (kvirc@moz-222E10E3.dip0.t-ipconnect.de)
[11:09:16] *** Joins: victorporof_ (victorporo@8F761026.B5EF4AF6.E96CA9D8.IP)
[11:10:07] *** Quits: victorporof (victorporo@8F761026.B5EF4AF6.E96CA9D8.IP) (Ping timeout)
[11:22:56] *** Joins: ramitos (ramitos@moz-5AC0C94E.netvisao.pt)
[11:29:36] *** Quits: dumitru (dgherman@moz-7C253BEB.getcadre.com) (Ping timeout)
[11:33:03] *** Joins: dumitru (dgherman@moz-7C253BEB.getcadre.com)
[11:39:39] *** Quits: eddyb (eddy@688E9026.F7C96DA2.FCAAE698.IP) (Ping timeout)
[11:43:20] *** Joins: eddyb (eddy@688E9026.F7C96DA2.FCAAE698.IP)
[11:43:23] *** Quits: fabrice (fabrice@moz-99690620.hinet-ip.hinet.net) (Quit: Leaving.)
[11:43:51] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[11:45:58] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Ping timeout)
[11:47:31] *** Joins: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net)
[11:51:10] *** Quits: Ms2ger (Ms2ger@moz-9D94162.ugent.be) (Ping timeout)
[12:04:37] *** Joins: cmr (moznet@moz-EC676DFE.members.linode.com)
[12:08:32] *** Joins: fabrice (fabrice@347FA24B.24D9B0A0.495EC8CD.IP)
[12:17:32] *** Joins: victorporof (victorporo@8F761026.B5EF4AF6.E96CA9D8.IP)
[12:18:33] *** Quits: victorporof_ (victorporo@8F761026.B5EF4AF6.E96CA9D8.IP) (Ping timeout)
[12:20:02] *** Joins: Kostic (Kostic@C4D4CB5C.58A2DD99.2168A69F.IP)
[12:23:57] *** Joins: gimpf (gimpf@moz-3F236853.adsl.highway.telekom.at)
[12:24:55] *** Joins: Ms2ger (Ms2ger@moz-E441BAC.ugent.be)
[12:26:07] *** Quits: alex__ (alex@moz-7421D6C9.mc.videotron.ca) (Ping timeout)
[12:33:30] <eddyb> Ms2ger: it's "find where the off-by-one occurs" time!
[12:33:47] <Ms2ger> I always loved that!
[12:34:29] *** Quits: ramitos (ramitos@moz-5AC0C94E.netvisao.pt) (Quit: Computer has gone to sleep.)
[12:38:00] *** Quits: Kostic (Kostic@C4D4CB5C.58A2DD99.2168A69F.IP) (Quit: Leaving)
[12:39:00] *** Joins: LEOXD (Thunderbir@moz-ECCE2937.dk.customer.tdc.net)
[12:41:39] *** Joins: victorporof_ (victorporo@8F761026.B5EF4AF6.E96CA9D8.IP)
[12:43:10] *** Quits: victorporof (victorporo@8F761026.B5EF4AF6.E96CA9D8.IP) (Ping timeout)
[12:43:52] *** Joins: abinader (sid21713@moz-A42E5B7B.irccloud.com)
[12:46:10] *** Quits: Ms2ger (Ms2ger@moz-E441BAC.ugent.be) (Ping timeout)
[12:46:55] *** Joins: Ms2ger (Ms2ger@moz-947B8309.ugent.be)
[12:57:23] *** bhearsum|afk is now known as bhearsum
[13:09:10] *** Joins: cait (glenlivet@moz-9FE842F.cpe.net.cable.rogers.com)
[13:11:33] *** Joins: Kostic (Kostic@C4D4CB5C.58A2DD99.2168A69F.IP)
[13:12:35] *** Quits: Ms2ger (Ms2ger@moz-947B8309.ugent.be) (Ping timeout)
[13:17:04] *** Quits: victorporof_ (victorporo@8F761026.B5EF4AF6.E96CA9D8.IP) (Ping timeout)
[13:20:49] *** Joins: victorporof (victorporo@8F761026.B5EF4AF6.E96CA9D8.IP)
[13:21:22] *** Joins: larsberg (larsberg@moz-5D8E4B14.lightspeed.cicril.sbcglobal.net)
[13:24:08] *** Joins: canhtak (canhtak@moz-71C1AFFE.wl.t.ulaval.ca)
[13:27:30] *** Quits: victorporof (victorporo@8F761026.B5EF4AF6.E96CA9D8.IP) (Ping timeout)
[13:30:59] *** Joins: Ms2ger (Ms2ger@moz-A8CA4C29.ugent.be)
[13:33:19] *** Joins: ahal (ahal@moz-7DE89BF0.cable.teksavvy.com)
[13:33:26] *** Quits: gimpf (gimpf@moz-3F236853.adsl.highway.telekom.at) (Ping timeout)
[13:39:24] *** Joins: victorporof (victorporo@8F761026.B5EF4AF6.E96CA9D8.IP)
[13:39:39] *** Joins: alex-abreu (alex@moz-7421D6C9.mc.videotron.ca)
[13:41:46] *** Quits: victorporof (victorporo@8F761026.B5EF4AF6.E96CA9D8.IP) (Quit: victorporof)
[13:44:12] *** Joins: ramitos (ramitos@moz-5AC0C94E.netvisao.pt)
[13:47:07] *** Quits: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com) (Ping timeout)
[13:47:37] *** Quits: kanru (kanru@moz-99690620.hinet-ip.hinet.net) (Ping timeout)
[13:48:53] *** Joins: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com)
[13:49:32] *** Joins: jackneill (jackneill@moz-89B574C7.pool.digikabel.hu)
[13:49:39] *** AutomatedTester is now known as dburns
[13:50:23] *** dburns is now known as AutomatedTester
[13:51:28] *** Quits: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com) (Ping timeout)
[13:55:18] <eddyb> png load 'test/loading.png': 1936098730 ns/iter (+/- 18761901)
[13:55:21] <eddyb> that looks bad
[13:56:45] *** Joins: doomlord_ (servitor@moz-9B2006BF.range109-151.btcentralplus.com)
[13:56:52] *** Joins: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com)
[14:02:16] *** Quits: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com) (Ping timeout)
[14:07:54] *** Quits: canhtak (canhtak@moz-71C1AFFE.wl.t.ulaval.ca) (Quit: canhtak)
[14:09:36] *** Joins: victorporof (victorporo@13F2CEC5.7672369.D8E68FF6.IP)
[14:11:38] *** Quits: ahal (ahal@moz-7DE89BF0.cable.teksavvy.com) (Input/output error)
[14:12:17] *** Joins: ahal (ahal@moz-7DE89BF0.cable.teksavvy.com)
[14:19:41] <eddyb> Ms2ger: I think I have a testcase for "awful compression"
[14:22:30] <eddyb> I would output something like that if I were to write an encoder... though it should be easier to reduce entropy within the IDAT data than it is to do the actual compression with dynamic huffman code
[14:22:35] <eddyb> *codes
[14:23:20] <eddyb> wha, is zlib taking longer than my inflate impl?
[14:23:28] <eddyb> it hasn't finished yet :/
[14:27:56] *** Joins: canhtak (canhtak@moz-71C1AFFE.wl.t.ulaval.ca)
[14:29:55] <eddyb> png load 'test/loading.png': 1609290855 ns/iter (+/- 39529991)
[14:30:58] <eddyb> Ms2ger: no, actually I do 1.9s, zlib does 1.6s, it's just the bench runner being very slow
[14:33:14] *** Quits: canhtak (canhtak@moz-71C1AFFE.wl.t.ulaval.ca) (Quit: canhtak)
[14:38:26] <eddyb> Ms2ger: ouch, fixed huffman tree blocks are 7 times slower in my implementation :/
[14:46:14] <eddyb> dynamic ones are a bit better. 140ms vs 527ms (less than 4 times slower)
[14:47:18] <eddyb> Ms2ger: it's not that bad considering the PNG filter running part takes significantly longer
[14:47:25] <eddyb> actually, hmm, let
[14:48:22] <eddyb> ehm. let's test the dynamic implementation for fixed and see if it's slower at all
[14:50:49] *** Joins: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com)
[14:51:40] <eddyb> haha, my code shouldn't compile at all, I think I've found a hole in macro hygiene
[14:52:32] *** Quits: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com) (Ping timeout)
[14:57:45] *** Quits: Ms2ger (Ms2ger@moz-A8CA4C29.ugent.be) (Ping timeout)
[14:59:44] *** Quits: ramitos (ramitos@moz-5AC0C94E.netvisao.pt) (Quit: Computer has gone to sleep.)
[15:10:03] *** Joins: Ms2ger (Ms2ger@moz-A8CA4C29.ugent.be)
[15:17:36] *** Joins: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com)
[15:19:22] *** Quits: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com) (Ping timeout)
[15:21:44] *** Joins: mccr8 (mccr8@moz-F6A7B612.dsl.dynamic.sonic.net)
[15:25:56] *** Joins: canhtak (canhtak@moz-71C1AFFE.wl.t.ulaval.ca)
[15:26:01] *** Quits: alex-abreu (alex@moz-7421D6C9.mc.videotron.ca) (Ping timeout)
[15:29:40] *** Joins: alex-abreu (alex@moz-7421D6C9.mc.videotron.ca)
[15:40:21] *** Joins: diegoyam (quassel@FF9B1514.A4EC3D18.3A1EC144.IP)
[15:42:03] *** Quits: canhtak (canhtak@moz-71C1AFFE.wl.t.ulaval.ca) (Quit: canhtak)
[15:48:28] *** Quits: diegoyam (quassel@FF9B1514.A4EC3D18.3A1EC144.IP) (Client exited)
[15:48:44] *** Joins: diegoyam (quassel@FF9B1514.A4EC3D18.3A1EC144.IP)
[15:51:12] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[15:51:12] *** ChanServ sets mode: +qo dherman dherman
[15:55:24] *** Quits: Ms2ger (Ms2ger@moz-A8CA4C29.ugent.be) (Ping timeout)
[15:58:44] *** Quits: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP) (Ping timeout)
[15:59:19] *** Joins: yichoi (yichoi@5AB4884B.FCC4549.14D5B978.IP)
[16:05:09] *** Quits: cait (glenlivet@moz-9FE842F.cpe.net.cable.rogers.com) (Ping timeout)
[16:17:06] *** Quits: mccr8 (mccr8@moz-F6A7B612.dsl.dynamic.sonic.net) (Quit: computer sleep)
[16:18:39] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Ping timeout)
[16:22:02] <eddyb> the dynamic table is only slightly slower than the fixed one, not faster. mkay
[16:22:31] *** Joins: canhtak (canhtak@moz-71C1AFFE.wl.t.ulaval.ca)
[16:24:39] *** Joins: dbaron (dbaron@moz-B3F1D17A.dsl.dynamic.sonic.net)
[16:25:49] *** Quits: Debloper (debloper@moz-88FF8AE8.redhat.com) (Quit: Leaving.)
[16:34:14] *** Joins: jet (jet@moz-79F891EE.hsd1.ca.comcast.net)
[16:37:20] *** Joins: cait (glenlivet@moz-9FE842F.cpe.net.cable.rogers.com)
[16:39:58] *** Quits: canhtak (canhtak@moz-71C1AFFE.wl.t.ulaval.ca) (Quit: canhtak)
[16:40:37] *** Joins: dherman (dherman@moz-B31C6965.dsl.pltn13.sbcglobal.net)
[16:40:37] *** ChanServ sets mode: +qo dherman dherman
[16:42:42] *** Joins: elan (elancaster@moz-1C4F0CAA.dhcp.rvsd.ca.charter.com)
[16:44:24] *** Joins: eholk_ (eholk@18305C91.D158D03F.6E370BFC.IP)
[16:46:20] *** Joins: tobytailor (tobytailor@moz-CBD810C7.hsd1.ca.comcast.net)
[16:48:26] *** Joins: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com)
[16:49:15] *** Joins: ghservo (ghservo@DE823A67.6A2AE50.F3114085.IP)
[16:49:15] <ghservo> [13servo] 15pcwalton opened issue #1677: Try to avoid hitting the platform font list for simple fonts 02http://git.io/tSaSNg
[16:49:15] *** Parts: ghservo (ghservo@DE823A67.6A2AE50.F3114085.IP) ()
[16:50:19] *** Quits: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com) (Ping timeout)
[16:52:38] <jack> larsberg: Rc::from_send??
[16:53:24] <jack> is that needed because Rc::new takes T: Freeze?
[16:53:27] *** Joins: bholley (bholley@moz-A2189431.hsd1.ca.comcast.net)
[16:53:38] <eddyb> jack: in an older version?
[16:54:36] <larsberg> jack: yes
[16:54:49] <eddyb> Freeze | Send was required to prevent cycles, but we ripped that out
[16:54:56] <eddyb> or rather, strcat did
[16:55:35] <jack> eddyb: this is servo's Rust, which is probably before that change
[16:55:43] <larsberg> eddyb: we're about 5 weeks old at this point. I'd love to have both that change and the new borrow checker rules, as dealing with the @mut removal requires all sorts of intermediate scopes to extend .borrow() call result lifetimes appropriately
[16:55:52] <eddyb> eww
[16:56:35] <larsberg> I pity whomever reviews the compositor changes, as that had @muts inside @mutsâ€¦ 
[16:57:37] *** Quits: lpy (lpy@54B459A1.4439B922.7CEBAF5A.IP) (Ping timeout)
[16:57:41] *** Joins: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com)
[16:58:42] *** Joins: lpy (lpy@54B459A1.4439B922.7CEBAF5A.IP)
[16:58:52] *** Joins: ghservo (ghservo@4BC7FFDD.6A2AE50.F3114085.IP)
[16:58:52] <ghservo> 01[13servo01] 15bors-servo pushed 0 new commits to 06auto: 02http://git.io/pMxtjw
[16:58:52] *** Parts: ghservo (ghservo@4BC7FFDD.6A2AE50.F3114085.IP) ()
[16:58:52] *** Joins: ghservo (ghservo@2EE61FCC.6A2AE50.F3114085.IP)
[16:58:53] <ghservo> 01[13servo01] 15bors-servo pushed 2 new commits to 06auto: 02http://git.io/bV4Zow
[16:58:53] <ghservo> 13servo/06auto 14f89eec1 15Lars Bergstrom: Fix GLUT build for Android
[16:58:53] <ghservo> 13servo/06auto 14a0a61fe 15bors-servo: auto merge of #1668 : larsbergstrom/servo/windowing_android_fixups, r=metajack...
[16:58:53] *** Parts: ghservo (ghservo@2EE61FCC.6A2AE50.F3114085.IP) ()
[16:59:07] *** Joins: ghservo (ghservo@5AC7F92B.6A2AE50.F3114085.IP)
[16:59:07] <ghservo> 01[13rust-png01] 15metajack pushed 3 new commits to 06master: 02http://git.io/JOyQOg
[16:59:07] <ghservo> 13rust-png/06master 14f206055 15Erik Hedvall: Updated Rust
[16:59:07] <ghservo> 13rust-png/06master 147a89146 15Erik Hedvall: Added .rlib to .gitignore
[16:59:07] <ghservo> 13rust-png/06master 14a24f48d 15Jack Moffitt: Merge pull request #23 from Ogeon/master...
[16:59:09] *** Parts: ghservo (ghservo@5AC7F92B.6A2AE50.F3114085.IP) ()
[17:00:09] <larsberg> eddyb: oh, wow, yeah, I see that Rc::new no longer has any restriction on the type you pass it.That would save me a bunch of madness I'm doing right now to make FrameTree Sendâ€¦
[17:01:43] <jack> larsberg: i was glad you brought that issue up yesterday. finding out what is not Send or Freeze is the worst :(
[17:02:00] *** Quits: bholley (bholley@moz-A2189431.hsd1.ca.comcast.net) (Quit: bholley)
[17:02:02] <cmr> someone is working on that now.
[17:02:34] <eddyb> might take a while, but it will be cool to see in action :D
[17:03:58] *** Joins: bholley (bholley@moz-A2189431.hsd1.ca.comcast.net)
[17:04:45] *** Quits: cait (glenlivet@moz-9FE842F.cpe.net.cable.rogers.com) (Ping timeout)
[17:09:54] <larsberg> jack: yeah, I'm tracking down a "WHY U NO :SEND?" right now, and keep thinking, "boy, I'd rather be reviewing PRs in areas of layout that require me to reference incomplete whatwg specs insteadâ€¦"
[17:10:48] *** Joins: ibnc (ibnc@moz-718F3037.client.mchsi.com)
[17:12:37] <jack> haha
[17:13:34] *** Joins: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca)
[17:19:12] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[17:26:14] *** Joins: brson (brson@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[17:26:14] *** ChanServ sets mode: +o brson
[17:27:38] *** Quits: eholk_ (eholk@18305C91.D158D03F.6E370BFC.IP) (Quit: eholk_)
[17:27:44] *** Joins: cait (glenlivet@moz-9FE842F.cpe.net.cable.rogers.com)
[17:30:56] *** Quits: cait (glenlivet@moz-9FE842F.cpe.net.cable.rogers.com) (Ping timeout)
[17:35:21] *** Joins: ramitos (ramitos@moz-5AC0C94E.netvisao.pt)
[17:35:39] *** Quits: ramitos (ramitos@moz-5AC0C94E.netvisao.pt) (Quit: Computer has gone to sleep.)
[17:36:04] *** Quits: maxli (maxli@moz-F47DD19B.student.cs.uwaterloo.ca) (Quit: Leaving.)
[17:36:23] *** ahal is now known as ahal|lunch
[17:37:05] *** Joins: ramitos (ramitos@moz-5AC0C94E.netvisao.pt)
[17:38:15] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[17:42:03] *** Quits: ramitos (ramitos@moz-5AC0C94E.netvisao.pt) (Quit: Computer has gone to sleep.)
[17:42:23] *** Joins: canhtak (canhtak@moz-5ED861D3.wl.t.ulaval.ca)
[17:43:22] *** Joins: ramitos (ramitos@moz-5AC0C94E.netvisao.pt)
[17:43:57] *** Quits: ramitos (ramitos@moz-5AC0C94E.netvisao.pt) (Quit: Computer has gone to sleep.)
[17:47:02] *** Joins: azakai (alon@moz-BBE3ABD.mv.mozilla.com)
[17:49:38] *** Quits: bholley (bholley@moz-A2189431.hsd1.ca.comcast.net) (Quit: bholley)
[17:50:57] *** Joins: eholk_ (eholk@589AA5EC.7EDA02CF.51B6877.IP)
[17:51:41] *** ahal|lunch is now known as ahal
[17:52:04] *** Joins: bholley (bholley@moz-A2189431.hsd1.ca.comcast.net)
[18:02:02] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[18:03:13] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[18:05:42] *** Quits: lpy (lpy@54B459A1.4439B922.7CEBAF5A.IP) (Client exited)
[18:07:14] *** Joins: mccr8 (mccr8@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[18:07:48] *** Joins: maxli (maxli@moz-B19F68ED.student.cs.uwaterloo.ca)
[18:11:24] *** Quits: eholk_ (eholk@589AA5EC.7EDA02CF.51B6877.IP) (Quit: eholk_)
[18:11:54] *** Quits: mccr8 (mccr8@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: computer sleep)
[18:12:51] *** Joins: Savago (Savago@D8B9C081.E820043D.D4C04133.IP)
[18:13:24] *** Joins: mccr8 (mccr8@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[18:16:48] *** Joins: ghservo (ghservo@B750D19A.6A2AE50.F3114085.IP)
[18:16:48] <ghservo> [13servo] 15bors-servo closed pull request #1668: Fix GLUT build for Android (06master...06windowing_android_fixups) 02http://git.io/waC88g
[18:16:48] *** Parts: ghservo (ghservo@B750D19A.6A2AE50.F3114085.IP) ()
[18:16:50] *** Joins: ghservo (ghservo@B750D19A.6A2AE50.F3114085.IP)
[18:16:50] <ghservo> 01[13servo01] 15bors-servo merged 06auto into 06master: 02http://git.io/bV4Zow
[18:16:50] *** Parts: ghservo (ghservo@B750D19A.6A2AE50.F3114085.IP) ()
[18:17:27] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[18:18:58] *** Joins: valenting (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP)
[18:19:20] <abustany> so continuing with my quest of changing functions that take a *c_char to &c_char, most functions from the ToCStr trait seem to be using raw pointers
[18:19:22] <abustany> not borrowed ones
[18:20:14] <abustany> apparently CString is a wrapper around *c_char, but I guess we can't use those interchangeably?
[18:25:59] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[18:25:59] *** ChanServ sets mode: +o pcwalton
[18:29:07] <abustany> strings in rust are not null terminated are they?
[18:29:12] <cmr> no.
[18:29:44] <abustany> right, else ToCStr would make little sense
[18:31:29] <abustany> I'm a bit at loss how to get a &c_char from a CString though... The current code uses mystring.to_c_str().with_ref(...), which is correct, since (as far as I understand) the with_ref makes sure the raw pointer will be live while the closure is executed
[18:36:13] *** Joins: lpy (lpy@54B459A1.4439B922.7CEBAF5A.IP)
[18:38:00] *** Joins: lpy_ (lpy@54B459A1.4439B922.7CEBAF5A.IP)
[18:38:22] *** Quits: lpy (lpy@54B459A1.4439B922.7CEBAF5A.IP) (Ping timeout)
[18:40:03] *** Quits: lpy_ (lpy@54B459A1.4439B922.7CEBAF5A.IP) (Ping timeout)
[18:43:41] *** Joins: harth (heather@moz-42412102.hsd1.ca.comcast.net)
[18:43:44] *** Joins: cait (glenlivet@moz-9FE842F.cpe.net.cable.rogers.com)
[18:45:46] *** Quits: canhtak (canhtak@moz-5ED861D3.wl.t.ulaval.ca) (Quit: canhtak)
[19:00:28] *** Joins: brendan (brendaneic@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[19:03:18] *** Joins: ramitos (ramitos@moz-5AC0C94E.netvisao.pt)
[19:03:28] *** Quits: ramitos (ramitos@moz-5AC0C94E.netvisao.pt) (Quit: Computer has gone to sleep.)
[19:03:41] *** Joins: askalski (akuda@2BA4E5A7.CC7751E8.6712E96B.IP)
[19:11:02] *** Joins: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[19:12:57] *** Quits: valenting (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP) (Ping timeout)
[19:13:50] *** Joins: valenting (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP)
[19:17:19] *** Quits: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com) (Input/output error)
[19:17:20] *** Joins: ghservo (ghservo@C8693FCB.6A2AE50.F3114085.IP)
[19:17:20] <ghservo> [13servo] 15ibnc opened pull request #1678: Multiple Compositor Layers (Do Not Merge) (06master...06position_fixed_scroll_behavior) 02http://git.io/ybRahw
[19:17:20] *** Parts: ghservo (ghservo@C8693FCB.6A2AE50.F3114085.IP) ()
[19:17:43] *** Quits: eholk (eholk@moz-BA312F07.crest.iu.edu) (Quit: eholk)
[19:19:20] *** Joins: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com)
[19:19:44] *** Quits: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com) (Input/output error)
[19:25:14] *** Quits: diegoyam (quassel@FF9B1514.A4EC3D18.3A1EC144.IP) (Client exited)
[19:25:22] *** Joins: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com)
[19:25:27] *** Joins: Ms2ger (Ms2ger@B7B2FF50.C60A97A6.F9FB0584.IP)
[19:31:24] *** Quits: Kostic (Kostic@C4D4CB5C.58A2DD99.2168A69F.IP) (Quit: Leaving)
[19:38:45] *** Joins: lpy (lpy@54B459A1.4439B922.7CEBAF5A.IP)
[19:39:19] *** Quits: askalski (akuda@2BA4E5A7.CC7751E8.6712E96B.IP) (Quit: Wychodzi)
[19:40:53] *** Quits: lpy (lpy@54B459A1.4439B922.7CEBAF5A.IP) (Ping timeout)
[19:42:17] *** Quits: brendan (brendaneic@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: brendan)
[19:44:32] *** Joins: brendan (brendaneic@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[19:46:28] *** Quits: Ms2ger (Ms2ger@B7B2FF50.C60A97A6.F9FB0584.IP) (Ping timeout)
[19:46:55] *** Quits: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[19:49:19] *** Quits: bholley (bholley@moz-A2189431.hsd1.ca.comcast.net) (Quit: bholley)
[19:51:08] *** Quits: brson (brson@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Ping timeout)
[19:51:14] *** Quits: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[19:54:15] *** Joins: askalski (akuda@2BA4E5A7.CC7751E8.6712E96B.IP)
[19:55:05] *** Joins: bjz (bjz@B398BE78.F804C29E.D35A31DF.IP)
[19:56:36] *** Quits: brendan (brendaneic@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: brendan)
[19:56:55] *** Joins: brendan (brendaneic@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[19:57:18] *** Joins: brson (brson@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[19:57:18] *** ChanServ sets mode: +o brson
[19:57:28] *** Quits: brson (brson@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: leaving)
[20:02:12] *** Joins: brson (brson@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[20:02:12] *** ChanServ sets mode: +o brson
[20:02:52] *** Joins: diegoyam (quassel@FF9B1514.A4EC3D18.3A1EC144.IP)
[20:02:54] *** Quits: diegoyam (quassel@FF9B1514.A4EC3D18.3A1EC144.IP) (Quit: diegoyam)
[20:03:20] *** Quits: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net) (Connection reset by peer)
[20:03:21] *** Joins: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net)
[20:17:22] *** Joins: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[20:17:43] *** Quits: victorporof (victorporo@13F2CEC5.7672369.D8E68FF6.IP) (Quit: victorporof)
[20:17:51] *** Quits: brson (brson@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Ping timeout)
[20:18:34] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[20:19:36] *** Quits: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[20:22:16] *** Joins: canhtak (canhtak@moz-4D8F0D46.wl.t.ulaval.ca)
[20:24:49] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[20:39:31] *** Joins: lpy (lpy@54B459A1.4439B922.7CEBAF5A.IP)
[20:41:33] *** Quits: lpy (lpy@54B459A1.4439B922.7CEBAF5A.IP) (Ping timeout)
[20:46:37] *** ahal is now known as ahal|afk
[20:46:51] *** Quits: jackneill (jackneill@moz-89B574C7.pool.digikabel.hu) (Ping timeout)
[20:50:13] *** Quits: askalski (akuda@2BA4E5A7.CC7751E8.6712E96B.IP) (Quit: Wychodzi)
[20:52:31] *** Quits: fabrice (fabrice@347FA24B.24D9B0A0.495EC8CD.IP) (Ping timeout)
[20:58:05] *** Quits: brendan (brendaneic@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: brendan)
[20:58:36] *** Quits: mccr8 (mccr8@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: computer sleep)
[20:59:26] *** Joins: fabrice (fabrice@347FA24B.24D9B0A0.495EC8CD.IP)
[20:59:29] *** Quits: elan (elancaster@moz-1C4F0CAA.dhcp.rvsd.ca.charter.com) (Quit: elan)
[20:59:47] *** Quits: dbaron (dbaron@moz-B3F1D17A.dsl.dynamic.sonic.net) (Ping timeout)
[21:01:22] *** Joins: elan (elancaster@moz-1C4F0CAA.dhcp.rvsd.ca.charter.com)
[21:02:02] *** Quits: jet (jet@moz-79F891EE.hsd1.ca.comcast.net) (Quit: jet)
[21:02:32] *** Joins: brendan (brendaneic@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[21:05:02] *** Joins: bholley (bholley@moz-A2189431.hsd1.ca.comcast.net)
[21:06:26] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[21:07:08] *** Joins: jet (jet@moz-79F891EE.hsd1.ca.comcast.net)
[21:08:41] *** Quits: ToBeFree (tobefree@moz-EA367A59.de) (Ping timeout)
[21:09:42] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[21:09:42] *** ChanServ sets mode: +o pcwalton
[21:10:50] *** Quits: eddyb (eddy@688E9026.F7C96DA2.FCAAE698.IP) (Ping timeout)
[21:11:53] *** Quits: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[21:12:36] *** Joins: rustilite (rustilite@moz-54F7FD49.cpe.net.cable.rogers.com)
[21:12:48] *** Joins: ToBeFree (tobefree@moz-EA367A59.de)
[21:13:04] *** Joins: mccr8 (mccr8@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[21:14:46] *** ahal|afk is now known as ahal
[21:14:49] *** Quits: harth (heather@moz-42412102.hsd1.ca.comcast.net) (Client exited)
[21:14:59] <jack> pcwalton: in box_.rs there are functions content_width() and content_height() which claim to compute width and height
[21:15:11] <jack> but they just return Au(0) for generic boxes and iframes
[21:15:17] <jack> I'm a little confused
[21:15:43] <pcwalton> jack: hmm, I don't remember how those are used
[21:15:46] <pcwalton> they're probably busted
[21:15:51] *** Quits: bholley (bholley@moz-A2189431.hsd1.ca.comcast.net) (Quit: bholley)
[21:18:11] <jack> pcwalton: ah. they are only ever called by text and images
[21:18:22] <jack> this is probably just some relic of hte past.
[21:18:47] <SimonSapin> so weâ€™re already collecting those?
[21:18:50] <jack> basically assign_height calls it 
[21:19:05] <jack> probably it should get folded in. i'll file a bug
[21:19:23] <pcwalton> yeah, I'm sure it's a relic of the past
[21:21:15] *** Joins: ghservo (ghservo@94BD74B8.6A2AE50.F3114085.IP)
[21:21:15] <ghservo> [13servo] 15metajack opened issue #1679: Box::content_height and Box::content_width should be removed 02http://git.io/9IuHbw
[21:21:15] *** Parts: ghservo (ghservo@94BD74B8.6A2AE50.F3114085.IP) ()
[21:24:08] *** Joins: brson (brson@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[21:24:08] *** ChanServ sets mode: +o brson
[21:24:27] *** Quits: jet (jet@moz-79F891EE.hsd1.ca.comcast.net) (Quit: jet)
[21:29:12] *** Joins: jensnockert (jensnocker@moz-4C68E8F4.mobileonline.telia.com)
[21:29:15] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[21:30:11] *** Joins: victorporof (victorporo@13F2CEC5.7672369.D8E68FF6.IP)
[21:40:16] *** Joins: lpy (lpy@54B459A1.4439B922.7CEBAF5A.IP)
[21:40:51] *** ahal is now known as ahal|afg
[21:40:56] *** ahal|afg is now known as ahal|afk
[21:41:20] *** Joins: harth (heather@3C88B487.19D7DCC9.12FC38C.IP)
[21:42:18] *** Quits: lpy (lpy@54B459A1.4439B922.7CEBAF5A.IP) (Ping timeout)
[21:45:09] *** Quits: brendan (brendaneic@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: brendan)
[21:48:39] *** Quits: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net) (Input/output error)
[21:49:03] *** Joins: dbaron (dbaron@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[21:49:54] *** Joins: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net)
[21:53:05] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[21:53:16] *** Quits: dherman (dherman@moz-B31C6965.dsl.pltn13.sbcglobal.net) (Quit: dherman)
[21:58:52] *** Joins: brendan (brendaneic@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[22:00:58] *** Quits: valenting (Thunderbir@9A1975C1.39CE2EE.E400A05F.IP) (Ping timeout)
[22:01:24] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[22:02:00] *** Quits: fabrice (fabrice@347FA24B.24D9B0A0.495EC8CD.IP) (Quit: Leaving.)
[22:02:06] *** Joins: fabrice (fabrice@347FA24B.24D9B0A0.495EC8CD.IP)
[22:03:05] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[22:03:15] *** Joins: gandalf (zbraniecki@moz-912D7A86.hsd1.ca.comcast.net)
[22:03:49] *** Quits: gandalf (zbraniecki@moz-912D7A86.hsd1.ca.comcast.net) (Quit: Textual IRC Client: www.textualapp.com)
[22:06:09] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[22:06:44] *** Quits: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com) (Input/output error)
[22:07:27] *** Joins: sawrubh|bot (~sawrubhbo@moz-E0F149F7.members.linode.com)
[22:16:05] *** Joins: jet (jet@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[22:26:10] *** Quits: jensnockert (jensnocker@moz-4C68E8F4.mobileonline.telia.com) (Connection reset by peer)
[22:27:34] *** Joins: bholley (bholley@moz-A2189431.hsd1.ca.comcast.net)
[22:31:51] *** Quits: exobit_ (textual@moz-E06F46F0.corp.bitshelter.com) (Quit: )
[22:41:01] *** Joins: lpy (lpy@54B459A1.4439B922.7CEBAF5A.IP)
[22:41:19] *** Quits: harth (heather@3C88B487.19D7DCC9.12FC38C.IP) (Client exited)
[22:43:06] *** Quits: lpy (lpy@54B459A1.4439B922.7CEBAF5A.IP) (Ping timeout)
[22:46:28] *** Joins: harth (heather@F868728F.C187DD10.12FC38C.IP)
[22:50:52] *** ahal|afk is now known as ahal
[22:59:25] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[23:00:55] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[23:12:58] *** bhearsum is now known as bhearsum|afk
[23:14:50] *** Quits: victorporof (victorporo@13F2CEC5.7672369.D8E68FF6.IP) (Quit: victorporof)
[23:16:45] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[23:17:05] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[23:18:29] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[23:24:15] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[23:26:06] *** Joins: victorporof (victorporo@8F761026.B5EF4AF6.E96CA9D8.IP)
[23:27:47] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[23:29:02] *** Quits: brendan (brendaneic@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: brendan)
[23:29:30] *** Quits: LEOXD (Thunderbir@moz-ECCE2937.dk.customer.tdc.net) (Ping timeout)
[23:30:15] *** Quits: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net) (Input/output error)
[23:31:00] *** Quits: kaksmet (kaksmet@moz-2D34ADFA.dynamic.se.alltele.net) (Client exited)
[23:31:39] *** Joins: TimAbraldes (quassel@moz-7FD19BDC.hsd1.or.comcast.net)
[23:35:49] *** Quits: victorporof (victorporo@8F761026.B5EF4AF6.E96CA9D8.IP) (Ping timeout)
[23:36:38] *** Quits: fabrice (fabrice@347FA24B.24D9B0A0.495EC8CD.IP) (Connection reset by peer)
[23:36:43] *** Joins: fabrice (fabrice@moz-CC46F4AB.hinet-ip.hinet.net)
[23:37:18] *** Quits: fabrice (fabrice@moz-CC46F4AB.hinet-ip.hinet.net) (Max SendQ exceeded)
[23:37:44] *** Joins: fabrice (fabrice@moz-CC46F4AB.hinet-ip.hinet.net)
[23:41:29] <kmc> so i found the code causing block images to shrink as the window grows
[23:41:30] <kmc> https://github.com/mozilla/servo/blob/a0a61fe976c7d4e84cd33b3f121385acc76f3fa2/src/components/main/layout/box_.rs#L1180-L1182
[23:41:45] *** Joins: lpy (lpy@54B459A1.4439B922.7CEBAF5A.IP)
[23:43:14] <kmc> bounds.size.width already holds the correct image size, and the noncontent_width of the image box includes a right margin extending to the edge of the page
[23:43:48] *** Quits: lpy (lpy@54B459A1.4439B922.7CEBAF5A.IP) (Ping timeout)
[23:46:04] *** Quits: ahal (ahal@moz-7DE89BF0.cable.teksavvy.com) (Input/output error)
[23:48:14] *** Quits: canhtak (canhtak@moz-4D8F0D46.wl.t.ulaval.ca) (Quit: canhtak)
[23:50:32] *** Joins: victorporof (victorporo@8F761026.B5EF4AF6.E96CA9D8.IP)
[23:52:02] *** Quits: fabrice (fabrice@moz-CC46F4AB.hinet-ip.hinet.net) (Ping timeout)
[23:54:12] <pcwalton> larsberg: I think https://github.com/mozilla/servo/pull/1644 is ready for your review
[23:56:26] *** Joins: fabrice (fabrice@moz-CC46F4AB.hinet-ip.hinet.net)
