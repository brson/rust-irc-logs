[00:01:31] *** Quits: Sho (sho@moz-anta7k.cust.telecolumbus.net) (Quit: Konversation terminated!)
[00:06:43] *** Joins: Murarth_ (Murarth@moz-jpotpi.phnx.qwest.net)
[00:06:50] *** Quits: Murarth (Murarth@moz-mpmr8r.phnx.qwest.net) (NickServ (RECOVER command used by Murarth_))
[00:06:50] *** Murarth_ is now known as Murarth
[00:08:12] *** Quits: skeuomorf (skeuomorf@moz-a8h.ni9.32.197.IP) (Ping timeout: 121 seconds)
[00:12:09] *** Joins: Murarth_ (Murarth@moz-60m.b85.166.46.IP)
[00:12:16] *** Quits: Murarth (Murarth@moz-jpotpi.phnx.qwest.net) (NickServ (RECOVER command used by Murarth_))
[00:12:16] *** Murarth_ is now known as Murarth
[00:14:29] *** Joins: skeuomorf (skeuomorf@moz-a8h.ni9.32.197.IP)
[00:16:52] *** Quits: blank_name (blank_name@moz-j00b3g.mi.frontiernet.net) (Ping timeout: 121 seconds)
[00:18:53] *** Joins: blank_name (blank_name@moz-j00b3g.mi.frontiernet.net)
[00:24:47] *** Joins: davebettin (textual@moz-acc.cl4.35.72.IP)
[00:27:16] <nrc> nmatsakis: you should join rust-lang
[00:27:59] <nrc> nmatsakis: (repeating here):
[00:28:08] <nrc> So, right now the following range is an error: `1..5u32` because we don't use the type of the rhs to infer the type of the lhs. gh25743 fixes this and would infer u32 for the type of the lhs, meaning it is now type correct
[00:28:08] <[o__o]> Improve diagnostic messages for range patterns.: https://github.com/rust-lang/rust/pull/25743
[00:28:17] <nrc> This seems like a good thing to me and I'd like to r+
[00:28:24] <nrc> Can anyone think of a reason this would not be a good thing?
[00:28:34] <nrc> Or any way this could be a breaking change?
[00:28:44] *** Joins: Moonlightning (blackl@moz-1rc.30c.23.184.IP)
[00:32:58] *** Quits: brson (brson@moz-cfhap5.mtv2.mozilla.com) (Quit: leaving)
[00:33:41] *** Joins: peeves (Mibbit@moz-juv.9o3.252.72.IP)
[00:35:36] <aatch> nrc, I can't think of how it would be a breaking change.
[00:35:59] <nrc> it did seem unlikely to me
[00:36:09] <nrc> but I've been caught out before....
[00:36:33] *** Quits: davebettin (textual@moz-acc.cl4.35.72.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[00:37:11] *** Quits: Guest38 (textual@moz-4hh.6p3.217.74.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[00:38:28] *** Joins: brson (brson@moz-u4t.ku8.145.82.IP)
[00:38:28] *** ChanServ sets mode: +o brson
[00:38:49] <aatch> nrc, well ultimately the patterns need to match the expression type anyway, so I can't think of how this would cause existing code to fail.
[00:40:08] *** Joins: Guest38 (textual@moz-4hh.6p3.217.74.IP)
[00:43:14] *** Quits: peeves (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[00:48:51] *** Quits: skeuomorf (skeuomorf@moz-a8h.ni9.32.197.IP) (Ping timeout: 121 seconds)
[00:49:30] *** Joins: skeuomorf (skeuomorf@moz-a8h.ni9.32.197.IP)
[00:54:25] *** Quits: rovar (rovar@moz-6iq.47m.88.38.IP) (NickServ (RECOVER command used by rovar_))
[00:54:25] *** rovar_ is now known as rovar
[00:54:37] *** Joins: rovar_ (rovar@moz-6iq.47m.88.38.IP)
[00:56:07] *** Joins: joneshf-laptop (joneshf@moz-l4h.b5s.208.98.IP)
[00:56:27] *** Joins: blank_na1e (blank_name@moz-p4egrb.mi.frontiernet.net)
[00:58:36] *** Quits: Kingsquee (kingsley@moz-3fm07c.bchsia.telus.net) (Quit: Konversation terminated!)
[00:59:02] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[00:59:20] *** Quits: blank_name (blank_name@moz-j00b3g.mi.frontiernet.net) (Ping timeout: 121 seconds)
[01:01:03] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[01:01:29] *** Quits: skeuomorf (skeuomorf@moz-a8h.ni9.32.197.IP) (Ping timeout: 121 seconds)
[01:05:37] <Gankro> huon: Are you too busy to handle PRs right now? (e.g. should I not be pinging/assigning you for feedback)
[01:06:31] *** chmanchester is now known as chmanchester|afk
[01:13:11] *** Quits: joneshf-laptop (joneshf@moz-l4h.b5s.208.98.IP) (Ping timeout: 121 seconds)
[01:20:12] *** Quits: gsingh93 (gulshan@moz-qnbukr.mi.comcast.net) (Ping timeout: 121 seconds)
[01:23:08] *** Quits: brson (brson@moz-u4t.ku8.145.82.IP) (Quit: leaving)
[01:26:00] *** Joins: joneshf-laptop (joneshf@moz-l4h.b5s.208.98.IP)
[01:47:25] *** Joins: annodomini (lambda@moz-qgii5v.ma.comcast.net)
[01:48:03] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Ping timeout: 121 seconds)
[01:50:19] *** Quits: Guest38 (textual@moz-4hh.6p3.217.74.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[01:54:22] *** Quits: nham (nham@moz-lglsfe.il.comcast.net) (Ping timeout: 121 seconds)
[01:57:16] *** Joins: gsingh93 (gulshan@moz-ln1ktu.st3l.iv8o.0004.2601.IP)
[01:58:16] *** Joins: swgillespie (swgillespie@moz-o29.3un.220.167.IP)
[02:04:28] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[02:11:17] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Connection closed)
[02:15:15] *** Quits: gsingh93 (gulshan@moz-ln1ktu.st3l.iv8o.0004.2601.IP) (Ping timeout: 121 seconds)
[02:19:49] *** Quits: binkarus (textual@moz-014tff.ca.comcast.net) (Connection closed)
[02:22:51] *** Quits: joneshf-laptop (joneshf@moz-l4h.b5s.208.98.IP) (Connection closed)
[02:24:32] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[02:30:35] *** Joins: dcb (textual@moz-j72nfe.ca.comcast.net)
[02:35:02] *** kimundi is now known as zz_kimundi
[02:35:28] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Ping timeout: 121 seconds)
[02:42:44] *** Quits: dcb (textual@moz-j72nfe.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[02:44:46] *** Joins: dcb (textual@moz-j72nfe.ca.comcast.net)
[02:45:35] *** Quits: dcb (textual@moz-j72nfe.ca.comcast.net) (Quit: Textual IRC Client: www.textualapp.com)
[02:47:39] <huon> Gankro: I'm struggling to find to dig into anything non-trivial, yeah
[02:48:29] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[02:49:10] *** Joins: dcb (textual@moz-j72nfe.ca.comcast.net)
[02:49:39] *** Quits: zz_kimundi (kimundi@moz-pvqpe9.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[02:51:07] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[02:51:34] *** Joins: zz_kimundi (kimundi@moz-bt8log.dip0.t-ipconnect.de)
[02:51:35] *** zz_kimundi is now known as kimundi
[02:59:27] *** Quits: annodomini (lambda@moz-qgii5v.ma.comcast.net) (Client exited)
[03:03:18] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[03:06:40] *** Joins: nham (nham@moz-lglsfe.il.comcast.net)
[03:12:02] *** Quits: swgillespie (swgillespie@moz-o29.3un.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[03:12:31] *** Joins: p1start (p1start@moz-nftjhe.org)
[03:16:02] *** Quits: andars (andars@moz-bsldst.sntcca.sbcglobal.net) (Ping timeout: 121 seconds)
[03:16:36] *** Joins: andars (andars@moz-bsldst.sntcca.sbcglobal.net)
[03:18:16] *** Joins: davebettin (textual@moz-acc.cl4.35.72.IP)
[03:25:58] *** Quits: Murarth (Murarth@moz-60m.b85.166.46.IP) (Quit: Alfador is the Entity!)
[03:26:25] *** Joins: Murarth (Murarth@moz-jpotpi.phnx.qwest.net)
[03:27:50] *** Joins: semarie (semarie@moz-md1mas.ipredator.se)
[03:28:15] *** Joins: jhsis (Mibbit@moz-j8qj35.vs.shawcable.net)
[03:28:59] *** Quits: andars (andars@moz-bsldst.sntcca.sbcglobal.net) (Ping timeout: 121 seconds)
[03:29:21] *** Quits: jhsis (Mibbit@moz-j8qj35.vs.shawcable.net) (Quit: http://www.mibbit.com ajax IRC Client)
[03:30:20] *** Joins: joneshf-laptop (joneshf@moz-l4h.b5s.208.98.IP)
[03:34:25] <nrc> cmr: iirc you've landed some big 'remove dead code patches' in the past. Did you use a global static analysis for this? 
[03:34:34] <cmr> nrc: lolno.
[03:34:47] <cmr> nrc: Well, kinda.
[03:35:05] <cmr> I wrapped the lib.rs in a `mod foo { ... }` and let rustc do it for me.
[03:35:16] <cmr> But now that everything is in separate crates that becomes harder.
[03:35:30] <doener> acrichto: pong
[03:35:52] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[03:36:26] <nrc> cmr: ah, right, good hack!
[03:36:37] *** Quits: Rym (y@moz-mhu.sd4.38.217.IP) (Quit: WeeChat 1.0)
[03:36:42] <nrc> it should be easy to make dxr calculate this, I guess
[03:37:05] <nrc> I just found some hilariously broken code which such an analysis might have shown up
[03:37:08] *** Joins: Rym (uid91135@moz-n2i7qm.charlton.irccloud.com)
[03:37:16] <nrc> I wonder if there are other cases
[03:38:17] *** Joins: andars (andars@moz-bsldst.sntcca.sbcglobal.net)
[03:41:46] *** Joins: gunther (Mibbit@moz-juv.9o3.252.72.IP)
[03:48:06] *** Quits: gunther (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[03:49:56] *** Quits: davebettin (textual@moz-acc.cl4.35.72.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[03:51:46] *** Joins: dcb_ (textual@moz-j72nfe.ca.comcast.net)
[03:51:53] *** Quits: dcb (textual@moz-j72nfe.ca.comcast.net) (Ping timeout: 121 seconds)
[03:52:19] *** Joins: davebettin (textual@moz-acc.cl4.35.72.IP)
[03:52:48] *** dcb_ is now known as dcb
[03:56:16] <doener> acrichto: sorry, have to leave again, will be on vacation for a week
[03:57:34] <cmr> doener: have fun!
[03:57:48] *** Joins: binkarus (textual@moz-014tff.ca.comcast.net)
[04:01:01] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[04:01:28] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[04:05:18] *** Joins: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net)
[04:05:18] *** ChanServ sets mode: +o pcwalton
[04:05:26] *** Quits: davebettin (textual@moz-acc.cl4.35.72.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[04:05:30] *** Joins: davebettin (textual@moz-acc.cl4.35.72.IP)
[04:05:34] *** Quits: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net) (Client exited)
[04:11:21] *** Quits: davebettin (textual@moz-acc.cl4.35.72.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[04:16:03] *** Joins: OmniMancer (omnimancer@moz-7jd.t80.149.118.IP)
[04:16:39] <OmniMancer> Can rust ever have a stable ABI considering things like inlining and generics?
[04:17:06] <cmr> OmniMancer: Doubtful, at least not in the current state.
[04:17:24] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[04:17:49] <OmniMancer> due to the serialisation of functions into binaries?
[04:18:54] *** Quits: binkarus (textual@moz-014tff.ca.comcast.net) (Quit: Textual IRC Client: www.textualapp.com)
[04:19:09] <cmr> No, due to the inlining, generics, and lack of a well-defined calling convention.
[04:19:58] *** Quits: O01eg (o01eg@moz-58bgnj.kdi6.4n8f.2698.2a02.IP) (Client exited)
[04:20:08] <OmniMancer> though i guess C++ hs similar issues in most areas
[04:20:56] *** Joins: skeuomorf (skeuomorf@moz-a8h.ni9.32.197.IP)
[04:22:34] <koobs> cmr: wca has build an updated stage0 for cargo (10/amd64) how do we get it to you and using it ?
[04:22:50] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[04:23:08] <koobs> s/build/built
[04:25:26] *** Joins: davebettin (textual@moz-acc.cl4.35.72.IP)
[04:25:47] *** Joins: Kingsquee (kingsley@moz-3fm07c.bchsia.telus.net)
[04:26:23] <cmr> koobs: No idea! Should talk to acrichto 
[04:26:42] <koobs> cmr: thanks
[04:26:56] <koobs> cmr: how do you normally handle new arch/version bootstraps?
[04:27:04] <koobs> again an acrichto thing?
[04:27:09] <cmr> I have no idea, I haven't really been doing any of that stuff.
[04:27:13] <cmr> Or paying attention to it.
[04:27:19] <cmr> Probably a brson thing.
[04:27:38] <acrichto> koobs: a new platform for bootstrapping?
[04:27:56] <acrichto> koobs: is this for freebsd?
[04:28:26] <koobs> acrichto: well you have freebsd buildbots, and im provisioning two new ones with benjamin
[04:28:30] <koobs> acrichto: yep
[04:28:32] <koobs> cc wca 
[04:28:42] <acrichto> koobs: oh nice! do we need a new snapshot for freebsd?
[04:28:50] <acrichto> I figured the current ones would work ok?
[04:28:54] <koobs> acrichto: im not sure if you have cargo ones
[04:29:04] <acrichto> ah yeah we don't have any freebsd cargo snapshots
[04:29:09] <koobs> we're tagetting 10/amd64 first, but then we'll look at i386 and other versions
[04:29:17] <koobs> acrichto: yeh, wca has one
[04:29:21] <acrichto> oh nice
[04:29:31] <koobs> how do we get it into rust_dist download thingy
[04:29:42] <acrichto> rust_dist?
[04:29:57] <koobs>  RUST_DIST_SERVER
[04:30:01] <koobs> etc etc
[04:30:09] <koobs> so that the buildbots will use it for cargo/crate things
[04:30:21] <koobs> tldr; we need direction from here to integrate
[04:30:32] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[04:30:34] <acrichto> koobs: I'm somewhat confused, what's the goal here?
[04:30:41] <acrichto> getting freebsd bots for rust, cargo, or both?
[04:31:02] <koobs> whatever you do for other platforms
[04:31:06] <koobs> 'all the things'
[04:31:22] <koobs> target state, taking into considerationm what is/isnt done now upstream
[04:31:25] <acrichto> koobs: ok, so the first thing would probably be freebsd snapshots for rust
[04:31:32] <acrichto> koobs: does the current freebsd snapshot not work?
[04:32:24] <koobs> hang, summoning wca 
[04:34:25] <wca> I have a cargo binary bootstrap for FreeBSD 10 amd64.
[04:34:46] <wca> Have been using it to build crates the last few days w/o problems
[04:34:59] <acrichto> wca: for rust though, the current freebsd snapshots work?
[04:35:16] <koobs> acrichto: yes
[04:35:25] <koobs> on amd64/10
[04:35:28] <wca> acrichto: yes, the stage0 snaps work ok, although I submitted a patch (that you merged) that fixes building if already installed
[04:35:36] <acrichto> koobs: ah ok, in that sense then there's no need to set up snapshots for Rust
[04:35:52] <acrichto> wca: koobs: if you guys want to send me the freebsd snapshot for cargo I can upload it to the expected spot
[04:35:55] <koobs> acrichto: the question about new snaps is for !amd64 archs and !10 versions
[04:35:58] <acrichto> and then we can work on getting builders set up
[04:36:10] <koobs> acrichto: ill have my pgp keys sent to ben today
[04:36:12] <wca> acrichto: http://people.freebsd.org/~will/public_distfiles/cargo-0.2.0-x86_64-unknown-freebsd.txz
[04:36:15] <acrichto> koobs: right now we have snapshots for freebsd still generating, so I think we'll stick with those for now
[04:36:20] <koobs> acrichto: and we'd like them setup to use system llvm 
[04:36:25] <koobs> acrichto: ok
[04:36:35] <wca> acrichto: I can upload a detached pgp signature also if you'd like
[04:36:46] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[04:36:47] <acrichto> koobs: I think for now it'd be best to stick to using the bundled LLVM as that'll be far more reliable
[04:36:49] <acrichto> wca: nah that's fine
[04:37:04] <acrichto> wca: what's the sha256?
[04:37:17] <koobs> acrichto: im looking to reduce the build time
[04:37:32] <acrichto> koobs: llvm build are cached between builds
[04:37:35] <koobs> and ensure our llvm ports/packages can be improved over time based on results from rust too
[04:37:41] <acrichto> koobs: e.g. make clean doesn't remove llvm
[04:37:45] <wca> acrichto: SHA256 (cargo-0.2.0-x86_64-unknown-freebsd.txz) = 312cd9e4fcae2177a9eac27b8c409f1586897e162b0132e86639b6b99ba5db5a
[04:37:50] <acrichto> wca: cool
[04:38:42] <koobs> acrichto: there is the question of the freebsd9 builder (new), there are no snaps for it, and a third buildbot (for freebsd 11) dont have them either
[04:39:13] <acrichto> wca: hm the other snapshots for cargo are all produced from `make dist`, and it looks like this is a different format?
[04:39:21] <acrichto> wca: could you generate one with `make dist` instead?
[04:39:32] <wca> acrichto: it's just the binary, since AFAICT that's all that was actually used in the cargo build
[04:39:50] <acrichto> wca: yeah but may as well be consistent
[04:40:19] <acrichto> koobs: we don't have a snapshot-per-builder, only a snapshot-per-platform
[04:40:26] <acrichto> koobs: e.g. msvc and gnu windows only have one snapshot
[04:41:29] <koobs> acrichto: the current 10/amd64 snap doesnt work on 9 (and presumably 11)
[04:41:50] <acrichto> koobs: I'm a little lost, so we currently have a freebsd snapshot
[04:41:57] <acrichto> does it work on 9/10/11?
[04:42:05] <koobs> acrichto: no, just 10
[04:42:37] <acrichto> koobs: ah, in that case I thik we may awnt to just start producing snapshots on freebsd 9?
[04:42:50] <bstrie> acrichto: I think that's blocked on removing segmented stacks
[04:42:50] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[04:42:58] <koobs> likely among other things
[04:43:16] <bstrie> koobs: why doesn't the snapshot for 10 work on 11?
[04:43:22] <koobs> i dont know what producing version independent binaries will entail
[04:43:32] <koobs> bstrie: ill have a look to confirm
[04:44:05] <koobs> bstrie: are version specific bootstrap not desirable?
[04:44:05] <acrichto> koobs: hm well if we need to upload custom snapshots we can, you'll just want to run the normal snapshot building process
[04:44:16] <acrichto> koobs: if possible we prefer to have fewer snapshots
[04:44:57] <koobs> sure. so dont proliferate/create snapshots where others will work
[04:44:59] <koobs> gotcha
[04:45:20] <bstrie> koobs: would we need to be the ones hosting the snapshots?
[04:45:30] <koobs> bstrie: would you not want to?
[04:45:52] <koobs> the goal would be for all of this to be official rust stuff, no?
[04:45:52] <bstrie> koobs: well if you wanted to host them then you wouldn't need to go through us, and you could have as many snapshots per platform as you wanted :)
[04:46:15] <koobs> sure, but theres a distinction to be made between what we do/create for our ports/packages, and what exiosts up there
[04:46:31] <koobs> we can certainly make it easier too expand the ecosystem
[04:46:47] <koobs> it feels like im missing something here
[04:46:50] <wca> acrichto: if you re-pull, new SHA256 is dc995df789cecb53db3484fdb831b32e76b1d9b1ef19b5c9ae60c3bd118c76b6
[04:47:22] <acrichto> wca: did the url change? (I think it should be .tar.gz)
[04:47:28] <wca> no url change
[04:47:33] <bstrie> koobs: I have nothing against it, I just thought that your goal was to cut us out of the process and maintain it independently
[04:47:34] <wca> argh
[04:47:42] <wca> yes, tar.gz
[04:47:58] <acrichto> wca: cool
[04:47:59] <koobs> bstrie: our goal is to make rust great on freebsd, and support rust in achieving that with as little overhead as possible
[04:48:12] <koobs> bstrie: if at all
[04:48:24] <acrichto> koobs: so moving forward I think the steps would be:
[04:48:32] <acrichto> 1) get the auto-slaves hooked up and get green builds on them
[04:48:39] <acrichto> 2) get the snap slaves hooked up and get green builds on them
[04:48:39] <koobs> bstrie: part of that will come through exposing rust/cargo ecosystem through our ports tree/packages
[04:48:45] <acrichto> 3) get the cargo auto slaves hooked up and green builds
[04:48:47] <koobs> acrichto: yep
[04:48:50] <koobs> sounds good
[04:48:51] <acrichto> 4) get the cargo snap slaves hooked up and green
[04:49:09] <koobs> forgive me, whats the different between auto slaves and snap slaves?
[04:49:18] <koobs> one is cargo itself, the other the bootstrap builder?
[04:49:26] *** Quits: Diggsey (diggsey@moz-9s9ol4.dsl.pipex.com) (Ping timeout: 121 seconds)
[04:49:41] <acrichto> koobs: auto == what bors watches
[04:49:44] <wca> it's not necessarily required to have snapshots for every version of FreeBSD, but major versions do entail ABI changes, so occasionally some userland binaries have to be re-built.
[04:49:45] <acrichto> snap == what produces snapshots
[04:49:53] <koobs> acrichto: ack
[04:50:58] <acrichto> wca: ok cargo snapshot uploaded
[04:51:02] <wca> thanks!
[04:51:09] <koobs> <3
[04:51:17] <bstrie> I'm curious, how often do we even make new snapshots these days? it must have slowed down immensely
[04:51:19] <acrichto> koobs: do you know how to hook up the auto slaves?
[04:51:28] <acrichto> looks like brson added some room for them, but I haven't seen them connected yet
[04:51:42] <wca> bstrie: I don't think cutting anybody out is the goal, quite the opposite honestly :)
[04:51:44] <acrichto> bstrie: same way as usual for rust, we just push to a branch an dtrigger a build
[04:52:24] <cmr> acrichto: how often, not how.
[04:52:31] <acrichto> oh
[04:52:43] <wca> does Rust have a plan to support non-x86 platforms?
[04:52:45] <acrichto> bstrie: we do cargo snapshots basically never now (not for a month and a half at least)
[04:52:46] <bstrie> acrichto: should we be getting edunham in on this?
[04:52:51] <koobs> acrichto: no, still getting inf side setup with ben
[04:52:52] <cmr> wca: we already support ARM and MIPS.
[04:52:54] <acrichto> bstrie: rust snapshots still happen ~1/mo kinda
[04:53:03] <wca> cmr: not according to http://www.rust-lang.org/install.html
[04:53:05] <acrichto> koobs: ah ok
[04:53:21] <cmr> wca: we don't have binary builds for those hosts, but you can cross-compile to them.
[04:53:31] <wca> what's the rationale for that?
[04:53:39] <cmr> Oh, and powerpc.
[04:53:50] <cmr> For not having binary builds? Lack of time/manpower/demand.
[04:54:01] <wca> ok.
[04:54:06] <bstrie> wca: most people developing for those targets don't need to do actual development on the targets themselves
[04:54:23] <wca> ah, so they cross-compile from another platform and deliver end user binaries as such
[04:54:38] <bstrie> right, it's for things like writing code for your router
[04:54:45] <bstrie> or for your rpi
[04:54:47] <wca> yeah, or your raspberry pi (
[04:54:55] <wca> (which I had in mind on FreeBSD at least :))
[04:55:14] <koobs> wca: if i knew how to build an image for usb, id turn on my pandaboard for it :)
[04:55:26] <koobs> wca: bought one, never used it :(~
[04:55:32] <koobs> bit more grunt
[04:55:42] <wca> koobs: brd@ is working on that :)
[04:55:42] <aatch> wca, some people have gotten Rust running on an RPi
[04:55:49] <koobs> wca: usb images?
[04:55:52] <wca> koobs: yea
[04:55:55] <koobs> ooer.
[04:56:01] <bstrie> aatch: the compiler itself?
[04:56:06] <cmr> bstrie: yep.
[04:56:21] <bstrie> I don't even want to know how long that takes to compile
[04:56:37] <koobs> bstrie: should go find an arm server vps provider to sponsor some vm's
[04:56:46] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[04:59:59] <wca> i keep forgetting there's no runtime... so not much point in providing said binaries
[05:02:49] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[05:05:51] <XMPPwocky> rpi buildbots! 
[05:05:58] <XMPPwocky> i can't imagine how long that'd take
[05:06:27] <cmr> Eons but thankfully you would only have to run tests on the device (like we do with android)
[05:06:32] <cmr> (though we emulate that I believe)
[05:17:18] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[05:22:58] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[05:33:24] *** Quits: bdero (bran@moz-lbs.91h.47.73.IP) (Ping timeout: 121 seconds)
[05:37:22] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[05:40:06] *** Quits: OmniMancer (omnimancer@moz-7jd.t80.149.118.IP) (Quit: AndroIRC - Android IRC Client ( http://www.androirc.com ))
[05:42:46] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[05:45:12] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[05:46:29] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[05:48:36] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[05:56:18] *** Joins: James (quassel@moz-8qs8a3.range86-148.btcentralplus.com)
[05:56:47] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[05:56:57] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[05:59:23] *** Quits: davebettin (textual@moz-acc.cl4.35.72.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[05:59:58] *** Quits: aatch (james@moz-5r41gb.6pd7.20lj.e000.2406.IP) (Connection closed)
[06:00:48] *** Quits: andars (andars@moz-bsldst.sntcca.sbcglobal.net) (Ping timeout: 121 seconds)
[06:03:06] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[06:03:30] *** Quits: c0170 (c0170@moz-4stj9o.cable.virginm.net) (Ping timeout: 121 seconds)
[06:06:40] *** Quits: Havvy (Havvy@moz-epv20b.wa.comcast.net) (Connection closed)
[06:07:46] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Client exited)
[06:07:48] *** Joins: Havvy (Havvy@moz-2v0ao2.5euu.k9bm.0007.2601.IP)
[06:10:34] *** Quits: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com) (Ping timeout: 121 seconds)
[06:16:47] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[06:21:32] *** Joins: c0170 (c0170@moz-bb29a4.cambridge.arm.com)
[06:22:52] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[06:31:01] *** Joins: squiddy (squiddy@moz-md4.pm3.19.178.IP)
[06:32:37] *** Quits: joh (uid13099@moz-2c7ap3.ealing.irccloud.com) (Quit: Connection closed for inactivity)
[06:33:06] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Quit: It's a joke, it's all a joke.)
[06:33:49] <richo> cmr: powerpc can't self host regardless, and I haven't gotten to the bottom of why yet
[06:33:58] <richo> I strongly suspect it's because I yolo'd morestack
[06:34:18] *** Joins: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com)
[06:35:05] <huon> richo: hm, the error case of morestack (i.e. stack overflow) shouldn't ever be hit for a successful compile, so removing it shouldn't make a difference
[06:35:34] <richo> that's what I thought. I really haven't poked very much. 
[06:35:59] <richo> what I *really* want to do is fix ./configure --host across arches, so I don't have to keep updating my hack to build a new host compiler
[06:36:15] <richo> but the rustc's I've built work well enough to print their help, but explode if you try to parse a hello world
[06:36:48] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[06:42:13] *** Joins: munksgaard (munksgaard@moz-urnkl5.u.parknet.dk)
[06:43:05] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[06:48:39] *** Joins: kushal (kdas@moz-so4.f0d.244.121.IP)
[06:51:11] *** Quits: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com) (Ping timeout: 121 seconds)
[06:52:20] *** Quits: James (quassel@moz-8qs8a3.range86-148.btcentralplus.com) (Ping timeout: 121 seconds)
[06:56:48] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[07:02:11] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[07:02:46] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[07:09:05] *** Joins: Tobba (Tobba@moz-6oh.7ki.21.217.IP)
[07:16:49] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[07:18:36] *** Quits: skeuomorf (skeuomorf@moz-a8h.ni9.32.197.IP) (Ping timeout: 121 seconds)
[07:19:19] *** Quits: joneshf-laptop (joneshf@moz-l4h.b5s.208.98.IP) (Connection closed)
[07:20:06] *** Joins: joneshf-laptop (joneshf@moz-l4h.b5s.208.98.IP)
[07:22:32] *** Joins: skeuomorf (skeuomorf@moz-a8h.ni9.32.197.IP)
[07:22:52] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[07:23:27] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[07:24:10] *** Joins: dinfuehr (dinfuehr@moz-c25.u8s.112.91.IP)
[07:33:14] *** Quits: munksgaard (munksgaard@moz-urnkl5.u.parknet.dk) (Connection closed)
[07:37:39] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[07:40:28] <SimonSapin> Cargo already suppresses warnings in dependencies, right?
[07:42:49] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[07:50:59] *** Quits: dcb (textual@moz-j72nfe.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[07:56:49] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[07:57:05] *** Quits: Kxepal (Miranda@moz-082iv9.pppoe.mtu-net.ru) (Ping timeout: 121 seconds)
[07:58:25] *** Joins: Kxepal (Miranda@moz-et10ht.pppoe.mtu-net.ru)
[08:02:07] *** Joins: erz (erz@moz-fiq1tl.broadband.corbina.ru)
[08:02:30] *** Joins: dcb (textual@moz-j72nfe.ca.comcast.net)
[08:02:41] *** Quits: dcb (textual@moz-j72nfe.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[08:02:46] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[08:03:15] *** Joins: dcb (textual@moz-j72nfe.ca.comcast.net)
[08:04:42] *** Quits: dcb (textual@moz-j72nfe.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[08:05:02] *** Joins: dcb (textual@moz-j72nfe.ca.comcast.net)
[08:05:10] *** Joins: eddyb (eddyb@moz-e8s.ur8.27.188.IP)
[08:08:26] *** Quits: dcb (textual@moz-j72nfe.ca.comcast.net) (Quit: Textual IRC Client: www.textualapp.com)
[08:08:46] <Mutabah> eddyb: Re yesterday - I was looking at the stable docs it seems. Now I have a nice unsized Rc/Arc in my kernel
[08:08:53] *** Joins: ptalbot (ptalbot@moz-1gn7gb.eu0n.jcdj.0660.2001.IP)
[08:09:44] *** Quits: nham (nham@moz-lglsfe.il.comcast.net) (Quit: leaving)
[08:10:27] <eddyb> hehe
[08:10:40] <eddyb> Mutabah: that's what I needed when I started with Rust
[08:10:58] <eddyb> Mutabah: you should also be able to write a StaticMutex (with an actual value inside)
[08:11:36] <Mutabah> I have such a thng
[08:11:40] <Mutabah> Have had it for a while actually
[08:11:59] <eddyb> including StaticMutex::new(foo)?
[08:12:12] <Mutabah> Yep
[08:12:23] <Mutabah> Actually, it's a kernel, so Mutex = StaticMutex
[08:12:35] <eddyb> but... UnsafeCell::new is only a few days old, isn't it?
[08:12:59] <Mutabah> Oh, haven't had the nice const fn for that long
[08:13:33] <Mutabah> (was referring to Mutex in a static scope)
[08:13:39] <eddyb> one thing I wanted trait objects for is Arc<Device>
[08:13:52] <Mutabah> *nod*
[08:13:59] <Mutabah> I actually put it in for ref-counted buffers
[08:14:09] <eddyb> it would work so much better than the mess we had in C++
[08:14:39] <Mutabah> eddyb: Have you seen my kernel yet? I'm quite proud of how well it's working
[08:14:40] <eddyb> UsbHubDevice was the odd one, I believe. it had to be UsbDevice and UsbHub at the same time
[08:15:03] <eddyb> and both of those inherited Device. cue to virtual inheritance
[08:15:09] <eddyb> whereas in Rust... hahaha trait objects
[08:15:25] <eddyb> the problem vanishes
[08:16:00] <eddyb> and I can have Arc<IrqHandler> and other nice things
[08:16:48] <eddyb> but since then I've come to refine my designs. in particular, I like static dispatch a lot and I would recompile and reload modules at runtime just to get it
[08:16:49] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[08:17:38] <eddyb> a way to do it is have both dynamic+reflective and static modes, but the static mode isn't used unless it fits perfectly
[08:17:51] *** Joins: munksgaard (munksgaard@moz-1f0.hq0.225.130.IP)
[08:18:55] <eddyb> but that kind of flexibility is impossible or outright hard in Rust. I've experimented a bit with it in a GUI and I need a DSL if I want to easily write trees that adapt to the most efficient structure possible
[08:20:17] *** Joins: Guest38 (textual@moz-j72nfe.ca.comcast.net)
[08:22:48] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[08:31:01] *** Joins: bgamari (bgamari@moz-m173ho.hsi8.kabel-badenwuerttemberg.de)
[08:36:50] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[08:42:48] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[08:46:44] *** Joins: laumann (thomas@moz-gqpfnm.science.ku.dk)
[08:56:54] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[08:57:44] *** Joins: aepsil0n (eduard@moz-6491ha.mv2h.pepi.8071.2a02.IP)
[09:02:47] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[09:07:01] *** Quits: _Vi (vi@moz-bbs.vhj.131.104.IP) (Ping timeout: 121 seconds)
[09:07:05] *** Quits: njn (chatzilla@moz-c6c476.iinet.net.au) (Quit: ChatZilla 0.9.91.1 [Firefox 41.0a1/20150531163607])
[09:16:54] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[09:23:05] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[09:37:29] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[09:39:11] *** Joins: skeuomor1 (skeuomorf@moz-24o.5or.32.197.IP)
[09:40:29] *** Quits: Guest38 (textual@moz-j72nfe.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[09:40:35] *** Joins: nicknikolov (nicknikolov@moz-k0r.8sn.209.90.IP)
[09:41:39] *** Quits: skeuomorf (skeuomorf@moz-a8h.ni9.32.197.IP) (Ping timeout: 121 seconds)
[09:42:58] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[09:44:47] *** Joins: skeuomorf (skeuomorf@moz-3dm.q8a.32.197.IP)
[09:47:12] *** Quits: skeuomor1 (skeuomorf@moz-24o.5or.32.197.IP) (Ping timeout: 121 seconds)
[09:53:49] *** Quits: erz (erz@moz-fiq1tl.broadband.corbina.ru) (Quit: My Mac has gone to sleep. ZZZzzz…)
[09:56:38] *** Quits: munksgaard (munksgaard@moz-1f0.hq0.225.130.IP) (Ping timeout: 121 seconds)
[09:57:40] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[10:01:57] *** Quits: semarie (semarie@moz-md1mas.ipredator.se) (Connection closed)
[10:02:13] *** Joins: zmack (zmack@moz-htpein.home.aster.pl)
[10:02:15] *** Joins: semarie (semarie@moz-ps1.jdc.105.89.IP)
[10:02:36] *** Joins: erz (erz@moz-fiq1tl.broadband.corbina.ru)
[10:03:03] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[10:04:11] *** Quits: erz (erz@moz-fiq1tl.broadband.corbina.ru) (Quit: My Mac has gone to sleep. ZZZzzz…)
[10:10:56] *** Quits: p1start (p1start@moz-nftjhe.org) (Ping timeout: 121 seconds)
[10:11:57] *** Joins: p1start (p1start@moz-nftjhe.org)
[10:20:08] *** Quits: c0170 (c0170@moz-bb29a4.cambridge.arm.com) (Connection closed)
[10:20:13] *** Joins: c0170 (c0170@moz-bb29a4.cambridge.arm.com)
[10:20:21] *** Joins: summerlight_ (summerlight@moz-99k.2mj.130.121.IP)
[10:20:23] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[10:23:11] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[10:31:30] *** Quits: kushal (kdas@moz-so4.f0d.244.121.IP) (Ping timeout: 121 seconds)
[10:32:56] *** Quits: mceier (mceier@moz-fm89sb.dynamic.chello.pl) (Ping timeout: 121 seconds)
[10:34:59] *** Joins: mceier (mceier@moz-fm89sb.dynamic.chello.pl)
[10:38:03] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[10:38:38] *** Quits: skeuomorf (skeuomorf@moz-3dm.q8a.32.197.IP) (Quit: WeeChat 1.2)
[10:42:26] *** Quits: nicknikolov (nicknikolov@moz-k0r.8sn.209.90.IP) (Connection closed)
[10:42:54] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[10:53:56] *** Quits: nrc (nrc@moz-14pjgj.xtra.co.nz) (Ping timeout: 121 seconds)
[10:55:14] *** Quits: p1start (p1start@moz-nftjhe.org) (Ping timeout: 121 seconds)
[10:58:23] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[10:59:45] *** Quits: c0170 (c0170@moz-bb29a4.cambridge.arm.com) (Connection closed)
[11:00:25] *** Joins: c0170 (c0170@moz-bb29a4.cambridge.arm.com)
[11:06:28] *** Joins: arielb1 (Mibbit@moz-44kh6r.tau.ac.il)
[11:07:27] *** Quits: Skyler (Skyler@moz-rv949t.sd.cox.net) (Client exited)
[11:09:16] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[11:11:07] *** Joins: nrc (nrc@moz-14pjgj.xtra.co.nz)
[11:11:07] *** ChanServ sets mode: +o nrc
[11:15:42] *** Quits: nrc (nrc@moz-14pjgj.xtra.co.nz) (Ping timeout: 121 seconds)
[11:17:42] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[11:21:39] *** Joins: aatch (james@moz-is4j4r.cable.telstraclear.net)
[11:23:59] *** Joins: nicknikolov (nicknikolov@moz-k0r.8sn.209.90.IP)
[11:29:20] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[11:36:51] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[11:39:55] *** Joins: munksgaard (munksgaard@moz-ob0t16.0.fullrate.dk)
[11:40:53] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[11:43:52] *** Joins: Skyler (Skyler@moz-rv949t.sd.cox.net)
[11:47:16] *** Quits: Tobba (Tobba@moz-6oh.7ki.21.217.IP) (Ping timeout: 121 seconds)
[11:52:22] *** Joins: Sho (sho@moz-pr1n4c.cust.telecolumbus.net)
[11:56:51] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[12:02:49] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[12:04:16] *** Joins: madmalik (uid13697@moz-lfin5p.brockwell.irccloud.com)
[12:07:32] *** Quits: munksgaard (munksgaard@moz-ob0t16.0.fullrate.dk) (Ping timeout: 121 seconds)
[12:13:29] *** Quits: summerlight_ (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[12:14:38] *** Quits: Skyler (Skyler@moz-rv949t.sd.cox.net) (Client exited)
[12:14:44] *** Quits: Kingsquee (kingsley@moz-3fm07c.bchsia.telus.net) (Quit: Konversation terminated!)
[12:15:34] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[12:16:21] *** Joins: eddyb_ (eddyb@moz-c0q.mv7.25.188.IP)
[12:16:38] *** Joins: harrisonclarke (harrisoncla@moz-p78oth.eastlink.ca)
[12:16:51] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[12:18:38] *** Quits: laumann (thomas@moz-gqpfnm.science.ku.dk) (Ping timeout: 121 seconds)
[12:19:06] *** Joins: kushal (kdas@moz-9bk.f0d.244.121.IP)
[12:19:26] *** Quits: eddyb (eddyb@moz-e8s.ur8.27.188.IP) (Ping timeout: 121 seconds)
[12:20:40] *** Joins: laumann (thomas@moz-3v9.hq0.225.130.IP)
[12:22:48] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[12:24:02] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Quit: Leaving)
[12:24:08] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[12:27:24] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[12:28:00] *** Quits: harrisonclarke (harrisoncla@moz-p78oth.eastlink.ca) (Connection closed)
[12:31:27] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[12:32:46] *** Joins: harrisonclarke (harrisoncla@moz-p78oth.eastlink.ca)
[12:32:47] *** Joins: jdm (jdm@moz-ilbt2e.cable.teksavvy.com)
[12:32:52] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[12:34:26] *** Joins: jdm_ (jdm@moz-ilbt2e.cable.teksavvy.com)
[12:35:40] *** Joins: Skyler (Skyler@moz-rv949t.sd.cox.net)
[12:36:59] *** Quits: jdm (jdm@moz-ilbt2e.cable.teksavvy.com) (Ping timeout: 121 seconds)
[12:37:10] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[12:37:53] *** Quits: harrisonclarke (harrisoncla@moz-p78oth.eastlink.ca) (Connection closed)
[12:39:25] *** Joins: harrisonclarke (harrisoncla@moz-p78oth.eastlink.ca)
[12:41:31] *** Quits: capella-s3 (capella-s3@moz-vcqob4.res.rr.com) (Quit: Talk atcha later)
[12:43:00] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[12:43:37] *** Quits: harrisonclarke (harrisoncla@moz-p78oth.eastlink.ca) (Ping timeout: 121 seconds)
[12:48:43] *** Joins: peeves (Mibbit@moz-juv.9o3.252.72.IP)
[12:49:45] *** Joins: _Vi (vi@moz-bbs.vhj.131.104.IP)
[12:54:24] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[12:57:51] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[13:02:47] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[13:04:01] *** Quits: squiddy (squiddy@moz-md4.pm3.19.178.IP) (Quit: Leaving)
[13:08:42] *** Joins: harrisonclarke (harrisoncla@moz-p78oth.eastlink.ca)
[13:12:44] *** Quits: c0170 (c0170@moz-bb29a4.cambridge.arm.com) (Connection closed)
[13:14:02] *** Quits: harrisonclarke (harrisoncla@moz-p78oth.eastlink.ca) (Ping timeout: 121 seconds)
[13:17:12] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[13:20:31] *** Joins: duesenfranz_ (jona@moz-711djm.tirol.surfer.at)
[13:22:12] *** Quits: Sho (sho@moz-pr1n4c.cust.telecolumbus.net) (Ping timeout: 121 seconds)
[13:22:49] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[13:24:49] *** Joins: Sho (sho@moz-pr1n4c.cust.telecolumbus.net)
[13:27:00] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[13:34:15] *** Quits: jgallagher (john@moz-6ge.dhn.131.24.IP) (Client exited)
[13:36:08] *** Quits: jdm_ (jdm@moz-ilbt2e.cable.teksavvy.com) (Quit: )
[13:37:12] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[13:37:37] *** Joins: bdero (bran@moz-91hi89.mit.edu)
[13:38:25] *** Quits: rovar_ (rovar@moz-6iq.47m.88.38.IP) (Quit: Leaving)
[13:38:28] *** Joins: rovar_ (rovar@moz-6iq.47m.88.38.IP)
[13:38:38] *** Quits: rovar (rovar@moz-96effg.dyn.optonline.net) (NickServ (RECOVER command used by rovar_))
[13:38:38] *** rovar_ is now known as rovar
[13:38:51] *** Joins: rovar_ (rovar@moz-96effg.dyn.optonline.net)
[13:40:50] *** Quits: laumann (thomas@moz-3v9.hq0.225.130.IP) (Quit: leaving)
[13:42:41] *** eddyb_ is now known as eddyb
[13:42:49] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[13:44:50] *** Quits: bdero (bran@moz-91hi89.mit.edu) (Connection closed)
[13:47:36] *** Joins: bdero (bran@moz-p0q27u.mit.edu)
[13:47:44] *** Parts: bdero (bran@moz-p0q27u.mit.edu) ()
[13:47:49] *** Quits: zmack (zmack@moz-htpein.home.aster.pl) (Connection closed)
[13:48:10] *** Joins: zmack (zmack@moz-htpein.home.aster.pl)
[13:56:43] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[13:57:56] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (A TLS packet with unexpected length was received.)
[13:58:24] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[14:01:12] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (A TLS packet with unexpected length was received.)
[14:02:30] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[14:03:00] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[14:04:26] *** Joins: harrisonclarke (harrisoncla@moz-p78oth.eastlink.ca)
[14:08:19] *** Quits: duesenfranz_ (jona@moz-711djm.tirol.surfer.at) (Client exited)
[14:08:56] *** Joins: joh (uid13099@moz-2c7ap3.ealing.irccloud.com)
[14:11:18] *** Joins: munksgaard (munksgaard@moz-ob0t16.0.fullrate.dk)
[14:16:43] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[14:17:26] *** Quits: ptalbot (ptalbot@moz-1gn7gb.eu0n.jcdj.0660.2001.IP) (Ping timeout: 121 seconds)
[14:19:49] *** Joins: capella-s3 (capella-s3@moz-vcqob4.res.rr.com)
[14:21:52] *** Quits: aatch (james@moz-is4j4r.cable.telstraclear.net) (Ping timeout: 121 seconds)
[14:22:48] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[14:31:14] *** Joins: jincreator (Thunderbird@moz-d7i.i1g.195.175.IP)
[14:36:43] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[14:39:29] *** Quits: semarie (semarie@moz-ps1.jdc.105.89.IP) (A TLS packet with unexpected length was received.)
[14:39:42] *** Joins: semarie (semarie@moz-kvs6fc.torservers.net)
[14:40:58] *** Joins: mukilan (mukilan@moz-cjo.er7.164.122.IP)
[14:43:01] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[14:43:31] *** Joins: jdm (jdm@moz-ilbt2e.cable.teksavvy.com)
[14:44:10] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[14:47:06] *** Joins: jgallagher (john@moz-d5e8oc.hfc.comcastbusiness.net)
[14:48:21] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Ping timeout: 121 seconds)
[14:51:16] *** Joins: davebettin (textual@moz-rnhkmd.bendcable.com)
[14:52:42] *** Joins: bkearns (Adium@moz-2l9j31.ca.comcast.net)
[14:56:33] *** Quits: bkearns (Adium@moz-2l9j31.ca.comcast.net) (Quit: Leaving.)
[14:56:39] *** Joins: bkearns (Adium@moz-2l9j31.ca.comcast.net)
[14:56:44] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[14:56:57] *** Quits: bkearns (Adium@moz-2l9j31.ca.comcast.net) (Connection closed)
[14:58:24] *** Joins: bkearns (Adium@moz-2l9j31.ca.comcast.net)
[14:58:50] *** Joins: gsingh93 (gulshan@moz-ln1ktu.st3l.iv8o.0004.2601.IP)
[15:03:01] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[15:08:49] *** Joins: new_one (new_one@moz-ps5j1c.fs1g.619c.a880.2604.IP)
[15:09:13] *** Quits: aepsil0n (eduard@moz-6491ha.mv2h.pepi.8071.2a02.IP) (Connection closed)
[15:10:52] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[15:16:44] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[15:19:59] <SimonSapin> Triage: I think this can be close, IIRC we decided against crypto in std. https://github.com/rust-lang/rfcs/issues/729
[15:23:01] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[15:25:34] *** Quits: jdm (jdm@moz-ilbt2e.cable.teksavvy.com) (Quit: )
[15:36:45] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[15:36:45] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Quit: It's a joke, it's all a joke.)
[15:37:49] *** Joins: ptalbot (ptalbot@moz-j4gnuh.fbx.proxad.net)
[15:41:41] *** Joins: dgrunwald (Daniel@moz-pqarhu.hsi4.kabel-badenwuerttemberg.de)
[15:42:39] *** Joins: Astrum|Lap (Astrum|Lap@moz-7enfbr.co.comcast.net)
[15:43:01] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[15:47:37] *** Joins: dinfuehr_ (dinfuehr@moz-c25.u8s.112.91.IP)
[15:47:38] *** Quits: dinfuehr_ (dinfuehr@moz-c25.u8s.112.91.IP) (Connection closed)
[15:47:59] *** Joins: dinfuehr_ (dinfuehr@moz-c25.u8s.112.91.IP)
[15:48:25] *** Quits: eternaleye (eternaleye@moz-7ps.ehi.245.50.IP) (Ping timeout: 121 seconds)
[15:50:10] *** Joins: eternaleye (eternaleye@moz-7ps.ehi.245.50.IP)
[15:51:13] *** Quits: dinfuehr (dinfuehr@moz-c25.u8s.112.91.IP) (Ping timeout: 121 seconds)
[15:52:01] *** Quits: dinfuehr_ (dinfuehr@moz-c25.u8s.112.91.IP) (Ping timeout: 121 seconds)
[15:53:52] <new_one> what is the command for running the rust tests?
[15:54:17] <new_one> (couldn't find on Contributing.md)
[15:54:22] *** Quits: eternaleye (eternaleye@moz-7ps.ehi.245.50.IP) (Ping timeout: 121 seconds)
[15:54:55] <Manishearth> new_one: make check
[15:55:08] <Manishearth> make check-stage1 if you don't want to run it for stage2 (which is lsower)
[15:55:57] <eddyb> not slower, but takes more time
[15:56:45] <Manishearth> yeah
[15:56:55] <Manishearth> eddyb: the stage2 build is slower than stage1 iirc
[15:57:24] <eddyb> why would that me?
[15:57:30] <eddyb> *be. maybe you had debug mode on?
[15:57:34] <Manishearth> perhaps
[15:57:38] <Manishearth> I don't know
[15:57:55] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[16:00:31] *** Joins: eternaleye (eternaleye@moz-7ps.ehi.245.50.IP)
[16:02:46] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[16:03:35] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (A TLS packet with unexpected length was received.)
[16:08:04] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[16:16:45] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[16:19:30] *** Quits: mtsr_ (mtsr@moz-40gpj7.yourbnc.co.uk) (Ping timeout: 121 seconds)
[16:19:34] *** Joins: O01eg (o01eg@moz-i1t4iu.kiim.3egh.2698.2a02.IP)
[16:23:02] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[16:26:05] *** Joins: Guest38 (textual@moz-4hh.6p3.217.74.IP)
[16:48:01] *** Joins: eibwen (eibwen@moz-0okbs7.dip0.t-ipconnect.de)
[16:49:30] *** Quits: arielb1 (Mibbit@moz-44kh6r.tau.ac.il) (Quit: http://www.mibbit.com ajax IRC Client)
[16:49:35] *** Quits: kushal (kdas@moz-9bk.f0d.244.121.IP) (Ping timeout: 121 seconds)
[16:56:46] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[16:57:05] <eddyb> acrichto: this is amazing
[16:57:36] *** Joins: mtsr_ (mtsr@moz-s5jpgs.yourbnc.co.uk)
[16:58:13] <eddyb> acrichto: I'm obviously referring to the outer static in a confusing way, but how can that thread still keep going?
[16:58:29] <eddyb> I'm not even mad, it's just going in circles
[16:59:06] <acrichto> eddyb: ...?
[16:59:14] <eddyb> acrichto: https://github.com/rust-lang/rust/issues/25088
[16:59:35] <eddyb> I somehow doubt the last comment clears it up
[17:01:15] <acrichto> eddyb: right, I'm super confused if you're trying to clear something up
[17:01:23] <acrichto> I don't really know what you're getting at?
[17:01:47] *** Quits: gsingh93 (gulshan@moz-ln1ktu.st3l.iv8o.0004.2601.IP) (Ping timeout: 121 seconds)
[17:02:22] <eddyb> so the macro expands to something like static NAME: LocalKey = { /* implementation details */ LocalKey::new(init_fn, getter_fn)};
[17:02:42] <acrichto> indeed
[17:02:51] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[17:02:56] <acrichto> (I wrote all of this)
[17:03:00] <eddyb> the LocalKey doesn't have a significant address and it could be a constant if not for some compatibility issues
[17:03:23] <acrichto> well compatibility issues being "fundamentally impossible"
[17:03:32] <acrichto> a constant is something whose value is known at compile time
[17:03:34] <eddyb> it could have been a constant from the start
[17:03:37] <acrichto> you don't know the value of the address at compile time
[17:03:46] <eddyb> but it doesn't hold addresses
[17:03:52] <eddyb> it holds two function pointers
[17:03:59] <acrichto> those... are not known at compile time
[17:04:08] <eddyb> uhm, they are
[17:04:21] <eddyb> playbot: fn foo() {} const FN: fn() = foo; FN()
[17:04:23] -playbot- ()
[17:04:26] <acrichto> ah well
[17:05:19] <acrichto> so I don't disagree, but we can't do this any more
[17:05:24] <acrichto> it's a static, not a const, and it's stable
[17:05:45] <eddyb> right, I ACK'd that. #[inline] won't hurt anything though
[17:05:54] <eddyb> (if it worked)
[17:06:18] <eddyb> since you depend on type-level semantics of immutable statics, nothing else
[17:06:23] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[17:07:42] <eddyb> acrichto: sorry for the wasted time
[17:07:59] <acrichto> eddyb: oh no, just trying to make sure we're all on the same page
[17:10:26] <eddyb> ScopedKey has a chance of either using rvalue borrow semantics across the board (but that's tricky without exposing a type that's Sync on some platforms and not Sync on others, and you'd need a hack to have a non-thread_local static behave the same as a thread_local static)
[17:10:45] <eddyb> or just the same getter model, but in a const
[17:11:39] <acrichto> yeah we can do whatever we want with ScopedKey as it's #[unstable]
[17:12:39] <eddyb> acrichto: as an aside, do you happen to know whether it's possbile to do native TLS on all platforms we support, and what's blocking it? is it incompatible semantics, missing platform support, or missing LLVM thread_local support?
[17:12:47] *** Joins: Diggsey (diggsey@moz-8jb74a.dsl.pipex.com)
[17:14:37] <acrichto> eddyb: for Windows I know in the past there was weird mingw/msys stuff going on, but I forget at this point (and we may be able to start using it perhaps?)
[17:14:43] <eddyb> playbot: fn foo() -> for<'a> &'a T { unimplemented!() }
[17:14:44] -playbot- <anon>:9:29: 9:30 error: expected ident, found `&`
[17:14:44] -playbot- <anon>:9         fn foo() -> for<'a> &'a T { unimplemented!() }
[17:14:44] -playbot- output truncated; full output at: http://bit.ly/1Fq7fT0
[17:14:49] <acrichto> eddyb: for platforms like android/mips/powerpc/etc I don't know what the story is there
[17:15:04] <acrichto> eddyb: I suspect it's just a lack of platform support though
[17:15:11] <acrichto> as in the target just doesn't support loading ELF images with TLS inside them
[17:15:35] <eddyb> TLS works outside of ELF, doesn't it?
[17:16:02] <acrichto> thread_local does the ELF-like TLS
[17:16:08] <acrichto> you can use pthread-like TLS basically everywhere
[17:16:47] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[17:17:12] <eddyb> https://arowboat.wordpress.com/2011/08/10/android-linux-arm-and-tls-register-emulation/ this is messed up
[17:18:41] <WindowsBunny> hmmm
[17:19:14] <WindowsBunny> acrichto: We only do the search for where msvc is installed in the build system?
[17:19:33] <WindowsBunny> acrichto: So if you actually wanna use rustc you have to use rust from within the VS command prompt?
[17:19:43] <acrichto> WindowsBunny: for now, yeah
[17:19:54] <acrichto> I was thinking of exploring more options later, but I'm open to adding the probing to rustc itself
[17:20:03] <acrichto> I did not feel the probing logic was rock solid at all though
[17:20:08] <acrichto> it was very specific to VS 12
[17:20:10] <acrichto> and amd64
[17:20:17] <acrichto> which makes me uncomfortable to bake into rustc
[17:20:25] <acrichto> I'm not sure if there's standard practice here either though
[17:20:47] <eddyb> WindowsBunny: doesn't VS have a script to set up env vars?
[17:21:05] <eddyb> that you could run from a different shell? (though a bash one wouldn't work, obviously)
[17:21:32] *** Quits: harrisonclarke (harrisoncla@moz-p78oth.eastlink.ca) (Connection closed)
[17:22:05] *** Joins: brson (brson@moz-cfhap5.mtv2.mozilla.com)
[17:22:06] *** ChanServ sets mode: +o brson
[17:23:05] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[17:23:11] <WindowsBunny> eddyb: I've setup a bat that does that for now
[17:23:23] <WindowsBunny> seems to work for now
[17:23:32] <WindowsBunny> although rustc crashing instead of panicking is funny :P
[17:23:57] *** Joins: bdero (bran@moz-itn.uao.189.18.IP)
[17:27:38] <WindowsBunny> acrichto: Hmmm, I tested my msvc rust, and it correctly links to msvcrt, the dynamic version
[17:28:08] <acrichto> WindowsBunny: that's... bad? good? unexpected?
[17:28:30] <WindowsBunny> acrichto: It's different than what happened for you
[17:29:15] <acrichto> WindowsBunny: are you referring to the compiler itself or an executable it generated?
[17:29:35] <WindowsBunny> acrichto: an executable generated
[17:30:01] <acrichto> do you expect it to not do so?
[17:30:02] <WindowsBunny> acrichto: What command line did you use to build your exe?
[17:30:16] <Luqman> eddyb: arm tls is pretty sad
[17:30:49] <acrichto> WindowsBunny: probably just `rustc foo.rs`
[17:30:53] *** Quits: poorman (poorman@moz-sdl0oq.res.rr.com) (Ping timeout: 121 seconds)
[17:30:56] <WindowsBunny> hmmm
[17:31:12] <WindowsBunny> my rustc doesn't seem to be doing dead code elimination either
[17:31:15] <WindowsBunny> my exe size is huge
[17:31:29] *** Joins: poorman (poorman@moz-ne2.2ic.131.12.IP)
[17:31:34] <acrichto> yeah I don't think we're as aggressive on windows
[17:31:43] <acrichto> bugs in GNU (at least awhile ago) and no one's worked with MSVC yet
[17:31:59] <bstrie> do we allow lvalues like `foo() = 2;` ?
[17:32:05] <WindowsBunny> acrichto: I mean, yours was really tiny
[17:32:11] <WindowsBunny> yours was 89 KB
[17:32:15] <eddyb> bstrie: "allow" in what way?
[17:32:19] <WindowsBunny> mine is 1,149 KB
[17:32:22] <bstrie> eddyb: is any code of that ever possible
[17:32:26] <eddyb> bstrie: that will never compile, for any possible definition of foo
[17:32:37] <eddyb> you can't return a first-class lvalue, Rust doesn't have them
[17:32:39] <acrichto> WindowsBunny: whoa weird
[17:32:42] <bstrie> ok, I saw someone proposing an API like that on reddit and I'm like... what
[17:32:47] <eddyb> (unlike C++)
[17:33:01] <eddyb> bstrie: link?
[17:33:08] <eddyb> was it array(i) = x;?
[17:33:15] <bstrie> eddyb: https://www.reddit.com/r/rust/comments/3878qz/feedback_gatheringhelp_me_design_api_for_kuchiki/
[17:33:22] <bstrie> eddyb: doc.replace("head")  = "bar"
[17:33:36] *** Quits: zmack (zmack@moz-htpein.home.aster.pl) (Connection closed)
[17:33:57] <WindowsBunny> acrichto: Are you sure you actually build the program correctly?
[17:34:03] <eddyb> bstrie: that's confusing
[17:34:05] <XMPPwocky> but you *can* use indexing for that, right?
[17:34:16] <acrichto> WindowsBunny: not particularly, I wasn't taking rigorous logs or anything or looking for anything in particular
[17:35:03] <WindowsBunny> acrichto: Another thing, depends.exe for your foo.exe says
[17:35:06] <WindowsBunny> "Error: Modules with different CPU types were found."
[17:35:11] <eddyb> XMPPwocky: ohgodwhy
[17:35:17] <WindowsBunny> I think your .exe didn't build correctly
[17:35:18] *** Joins: mib_sl8fhu (Mibbit@moz-g6k.oht.161.46.IP)
[17:35:20] <eddyb> foo[Replace("foo")] = "bar"
[17:35:29] <XMPPwocky> eddyb: and if you invoke deref coercions, you can assign different things to it!
[17:35:38] <WindowsBunny> acrichto: especially since it crashes the moment I try to run it
[17:36:48] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[17:37:37] <WindowsBunny> my exe has a bazillion symbols, even stuff like udp sockets is in there :|
[17:40:28] *** Joins: zmack (zmack@moz-htpein.home.aster.pl)
[17:41:39] *** Joins: arielb1 (Ariel@moz-9he9ta.red.bezeqint.net)
[17:42:25] *** Joins: trecer (textual@moz-uij.3un.220.167.IP)
[17:42:49] *** chmanchester|afk is now known as chmanchester
[17:42:52] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[17:43:20] *** Quits: zmack (zmack@moz-htpein.home.aster.pl) (Connection closed)
[17:44:40] *** Joins: harrisonclarke (harrisoncla@moz-g1kp2c.ns.bellaliant.net)
[17:45:26] <brson> i can build servo with a patched rust that tries to optimize linkage of monomorphic functions. around 33% of downstream monomorphizations received one of two modified (optimized) linkage attributes
[17:45:58] <brson> some fraction of those 33% did not need to be reemitted at all because they were not #[inline]
[17:46:13] <brson> that's potentially the best case, for debug builds at least
[17:46:25] <brson> today i'll test changes to compile times
[17:46:57] *** Joins: zmack (zmack@moz-htpein.home.aster.pl)
[17:50:59] *** Quits: zmack (zmack@moz-htpein.home.aster.pl) (Ping timeout: 121 seconds)
[17:51:47] <bstrie> brson: great
[17:52:20] <bstrie> brson: somebody on #rust yesterday remarked that they've measured their compilation time on rust nightly is already 70% what it is on rust 1.0
[17:53:39] *** Joins: andars (andars@moz-bsldst.sntcca.sbcglobal.net)
[17:55:35] <brson> bstrie: wow, do you know what optimizations have gone in recently?
[17:56:03] <bstrie> brson: I know that I saw two things go in which both claimed 10% reduction in compilation times
[17:56:58] *** Joins: poorman_ (poorman@moz-sdl0oq.res.rr.com)
[17:57:05] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[17:57:05] *** ChanServ sets mode: +o pcwalton
[17:59:01] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[17:59:47] *** Quits: poorman (poorman@moz-ne2.2ic.131.12.IP) (Ping timeout: 121 seconds)
[18:00:20] *** Joins: sigma (sigma@moz-im7cik.range86-135.btcentralplus.com)
[18:01:29] *** Joins: kushal (kdas@moz-iq5.378.143.114.IP)
[18:02:54] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[18:08:25] *** Joins: jdm (jdm@moz-ohpa2e.ckpj.s0pt.0450.2001.IP)
[18:15:54] *** Joins: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP)
[18:16:49] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[18:17:02] *** Joins: jonas (jonas@moz-pq39vq.dynamic.mnet-online.de)
[18:17:16] <jonas> Are there any resources on how the build process of the Rust compiler works? Especially, what the different stages mean?
[18:18:19] <brson> jonas: 'make help' has the only real docs
[18:18:57] <brson> jonas: they are readable at the top of Makefile.in too
[18:19:24] <Eridius> `make tips` and `make nitty-gritty` have info too
[18:19:24] <cmr> jonas: the stages are a standard compiler bootstrap, you can find information about bootstrapping online.
[18:19:26] *** Joins: zmack (zmack@moz-qdq.e19.24.188.IP)
[18:20:14] <jonas> Cool. Thanks you all. I'll look into right away.
[18:20:32] *** cmr changes topic to '24 days to 1.1.0 | https://botbot.me/mozilla/rust-internals | https://buildbot.rust-lang.org/homu/queue/rust | see also #rustc and #rust-libs'
[18:22:37] *** Joins: Tuba (Tobba@moz-o13d22.bredband.telia.com)
[18:22:49] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[18:24:01] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Connection closed)
[18:25:35] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[18:27:36] *** Quits: arielb1 (Ariel@moz-9he9ta.red.bezeqint.net) (Ping timeout: 121 seconds)
[18:28:29] *** Joins: arielb1 (Ariel@moz-9he9ta.red.bezeqint.net)
[18:28:42] *** Quits: bdero (bran@moz-itn.uao.189.18.IP) (Quit: Leaving.)
[18:28:43] *** Joins: bdero (bran@moz-91hi89.mit.edu)
[18:32:13] *** Quits: zmack (zmack@moz-qdq.e19.24.188.IP) (Connection closed)
[18:45:00] *** Quits: mukilan (mukilan@moz-cjo.er7.164.122.IP) (A TLS packet with unexpected length was received.)
[18:47:14] *** Joins: gsingh93 (gulshan@moz-ln1ktu.st3l.iv8o.0004.2601.IP)
[18:48:21] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[18:48:43] *** Quits: Guest38 (textual@moz-4hh.6p3.217.74.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[18:50:44] *** Joins: zmack (zmack@moz-qdq.e19.24.188.IP)
[18:51:14] *** Joins: tamird (textual@moz-ga3.afc.209.65.IP)
[18:52:51] *** Quits: zmack (zmack@moz-qdq.e19.24.188.IP) (Connection closed)
[18:54:43] *** Quits: bkearns (Adium@moz-2l9j31.ca.comcast.net) (Quit: Leaving.)
[18:55:52] *** Joins: zmack (zmack@moz-qdq.e19.24.188.IP)
[18:57:47] *** Parts: jonas (jonas@moz-pq39vq.dynamic.mnet-online.de) ()
[19:00:49] *** Joins: geri (Mibbit@moz-o67l17.highway.telekom.at)
[19:00:51] <geri> hi
[19:00:55] *** Quits: sigma (sigma@moz-im7cik.range86-135.btcentralplus.com) (Connection closed)
[19:01:12] <geri> eddyb: hey
[19:03:51] <trecer> How does Rust implement dropping Boxes of unsized types? Doesn't it need to know the size to pass to exchange_free? 
[19:04:16] <cmr> trecer: Box<T> where T is unsized is a "fat pointer" that carries its length.
[19:05:23] <eddyb> oh hi exchange heap
[19:05:36] *** Joins: killercup (killercup@moz-723bo4.dip0.t-ipconnect.de)
[19:05:45] <eddyb> one of this days it will disappear
[19:06:52] <trecer> @cmr, ah ok, so does compiler magic go in and insert that? because all Box appears to contain is a Unique<T>
[19:07:53] <cmr> trecer: yes, that's just how DST works.
[19:07:54] *** Quits: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP) (A TLS packet with unexpected length was received.)
[19:08:22] <cmr> http://smallcultfollowing.com/babysteps/blog/2014/01/05/dst-take-5/
[19:09:13] <eddyb> DSTv5 is kind of out of date, but I guess it's fine if you ignore the details of Rc<T> there
[19:09:35] <eddyb> trecer: Unique<T> is an annotated *mut T. *mut Trait is possible, just like &mut Trait is
[19:11:49] <eddyb> &mut Trait doesn't really need a destructor and size and alignment, but it still has them in the vtable
[19:13:10] <trecer> eddby: so is there any way to access that size at run time? e.g. for a custom Box implementation? 
[19:13:59] <geri> eddyb: hi, i will test the volatile now!!
[19:16:44] <trecer> *eddyb:
[19:17:11] <Eridius> trecer: mem::size_of_val seems to work
[19:17:34] <Eridius> playbot: let b: Box<[u8]> = Box::new([1, 2, 3]); ::std::mem::size_of_val(&*b)
[19:17:35] -playbot- <anon>:9:49: 9:72 error: the trait `core::marker::Sized` is not implemented for the type `[u8]` [E0277]
[19:17:35] -playbot- <anon>:9         let b: Box<[u8]> = Box::new([1, 2, 3]); ::std::mem::size_of_val(&*b)
[19:17:35] -playbot- output truncated; full output at: http://bit.ly/1dJTmcM
[19:17:57] <Eridius> oh hmm, works in my slightly-old 1.1 nightly
[19:18:15] <Eridius> ah, 1.0 still requires Sized on size_of_val
[19:18:42] <trecer> Ah, I'm ok upgrading to 1.1 nightly if it works there!
[19:19:07] <eddyb> yeah, we need nightly bots :(
[19:20:09] <eddyb> trecer: Rc<T> is fully implemented in the library, and it supports unsized types
[19:21:09] *** Joins: nrc (nrc@moz-14pjgj.xtra.co.nz)
[19:21:10] *** ChanServ sets mode: +o nrc
[19:22:20] <trecer> eddyb: thanks, that looks like a good reference
[19:24:35] *** Quits: munksgaard (munksgaard@moz-ob0t16.0.fullrate.dk) (Ping timeout: 121 seconds)
[19:25:04] *** Joins: kecolus (kecolus@moz-i7cb3r.fios.verizon.net)
[19:26:56] *** Joins: kmc (keegan@moz-gjgn5n.compute.amazonaws.com)
[19:27:08] *** Quits: _Vi (vi@moz-bbs.vhj.131.104.IP) (Ping timeout: 121 seconds)
[19:27:34] <kmc> "Harassment includes verbal comments that reinforce social structures of domination related to gender, gender identity, ..."  -- rustcamp code of conduct http://rustcamp.com/conduct.html
[19:27:42] <kmc> but harassing men for being men, white people for being white, etc is ok?
[19:27:46] <kmc> y'all should amend that
[19:28:00] <kmc> and don't assume that "geek feminism" knows what they're talking about just because they registered a wikia subdomain
[19:28:33] <cmr> Contacting the Ada Foundation is probably a good idea.
[19:28:34] <kmc> I don't want to fight about this, just registering my disapproval
[19:28:39] <kmc> I want nothing to do with them, thanks
[19:28:43] <kmc> anyway
[19:28:44] *** Parts: kmc (keegan@moz-gjgn5n.compute.amazonaws.com) ()
[19:29:24] <cmr> initiative, whoops.
[19:31:49] <gavin> that is what we call "false equivalency" with a dash of "semantic tunnel vision"
[19:32:10] *** Joins: nham (nham@moz-lglsfe.il.comcast.net)
[19:32:33] <Manishearth> Hm, I want to propose a talk for rustcamp, I have either too many or too few things to talk about :p
[19:33:04] *** Joins: bkearns (Adium@moz-rudtng.static.wiline.com)
[19:33:30] <Manishearth> I should chat with steve about the expected level of talks. "tutorials on advanced techniques in Rust" all sounds good, but perhaps plugins are *too* advanced
[19:33:45] <Manishearth> Oh.
[19:33:46] <Manishearth> Oh!
[19:34:09] <Manishearth> cmr: think people would be interested in a talk about https://github.com/Munksgaard/rust-sessions ?
[19:34:21] <Manishearth> sadly there isn't a public paper yet, but the stuff is amazing
[19:34:26] <Manishearth> I could ask the authors to submit a talk
[19:38:33] *** Quits: davebettin (textual@moz-rnhkmd.bendcable.com) (Quit: My Mac has gone to sleep. ZZZzzz…)
[19:38:48] *** Quits: kushal (kdas@moz-iq5.378.143.114.IP) (Quit: Leaving)
[19:45:01] *** Quits: semarie (semarie@moz-kvs6fc.torservers.net) (A TLS packet with unexpected length was received.)
[19:45:49] *** Joins: kmc (keegan@moz-gjgn5n.compute.amazonaws.com)
[19:46:00] <kmc> who's organizing rustcamp anyway? who should I contact about issues
[19:48:49] <cmr> brson: ^ do you know?
[19:48:53] <brson> kmc: talk to aturon
[19:49:07] <kmc> thanks
[19:50:07] *** Joins: larhat (Adium@moz-vlo5br.cable.virginm.net)
[19:51:03] *** Joins: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP)
[19:51:55] <edunham> Manishearth: propose many talks of varying scopes; see which gets picked?
[19:52:01] *** Parts: kmc (keegan@moz-gjgn5n.compute.amazonaws.com) ()
[19:56:10] <new_one> nrc: hi! I put up a change to move part of the enum code to the save API -- want to check in with you that I'm doing it right
[19:57:35] <nrc> new_one: awesome! I have a meeting in a couple of minutes, but I'll leave some comments on it later this morning
[19:58:03] *** Quits: tamird (textual@moz-ga3.afc.209.65.IP) (Quit: Textual IRC Client: www.textualapp.com)
[19:59:58] *** Joins: tamird (textual@moz-ga3.afc.209.65.IP)
[20:00:11] *** Quits: gsingh93 (gulshan@moz-ln1ktu.st3l.iv8o.0004.2601.IP) (Ping timeout: 121 seconds)
[20:05:57] *** Quits: zmack (zmack@moz-qdq.e19.24.188.IP) (Connection closed)
[20:06:19] *** Joins: zmack (zmack@moz-qdq.e19.24.188.IP)
[20:11:56] *** chmanchester is now known as chmanchester|afk
[20:12:03] *** Joins: gsingh93 (gulshan@moz-ln1ktu.st3l.iv8o.0004.2601.IP)
[20:12:31] *** Joins: p1start (p1start@moz-nftjhe.org)
[20:12:48] *** Quits: bdero (bran@moz-91hi89.mit.edu) (Ping timeout: 121 seconds)
[20:15:30] *** Joins: dinfuehr (dinfuehr@moz-h1bj2t.highway.telekom.at)
[20:18:36] *** Joins: davebettin (textual@moz-acc.cl4.35.72.IP)
[20:19:48] *** Quits: trecer (textual@moz-uij.3un.220.167.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[20:22:24] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[20:22:42] *** Joins: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com)
[20:25:21] *** Joins: _Vi (vi@moz-bbs.vhj.131.104.IP)
[20:26:30] *** Quits: zmack (zmack@moz-qdq.e19.24.188.IP) (Connection closed)
[20:26:48] *** Quits: kecolus (kecolus@moz-i7cb3r.fios.verizon.net) (Quit: Leaving)
[20:28:16] *** Quits: p1start (p1start@moz-nftjhe.org) (Ping timeout: 121 seconds)
[20:28:56] *** Joins: zmack (zmack@moz-qdq.e19.24.188.IP)
[20:29:14] <SimonSapin> brson: Can people sell t-shirts with the Rust logo? https://twitter.com/derekdamko/status/605823272815443968
[20:29:29] <SimonSapin> my reading of https://github.com/rust-lang/rust/issues/11562#issuecomment-50833809 is yes, but I don’t know
[20:30:24] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[20:31:17] <Manishearth> edunham: good idea :p
[20:32:01] *** Joins: laumann (thomas@moz-n9e72h.0.fullrate.dk)
[20:32:22] <Manishearth> then again , probly wont be able to come because of college + funding. we'll see
[20:32:42] <cmr> Yeah, same here.
[20:33:12] <cmr> SimonSapin: ohhhhhhhh that shirt is sweeet. my favorite phrase too.
[20:33:44] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Quit: No Ping reply in 180 seconds.)
[20:34:12] <Manishearth> regardless I should prepare talks and slide decks for my fav topics; i should be doing more than intro-to-rust now that the india community is picking up
[20:34:16] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Quit: Leaving.)
[20:34:27] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[20:34:53] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[20:36:15] <brson> i'll take one of the shirts
[20:37:54] <brson> SimonSapin: there are yet unresolved trademark issues that will govern how people can use the logo in commerce, and i'm not sure how it would affect this
[20:38:26] <cmr> You don't receive any revenue on teespring I think, but I'm not sure.
[20:38:43] <brson> SimonSapin: even if there are restrictions, I believe the policy will be along the lines of, 'ask somebody for permission'
[20:38:43] *** Tuba is now known as Tobba
[20:38:48] <brson> this t looks a-ok to me
[20:38:58] <SimonSapin> brson: could you respond to that person? (Are you on twitter?)
[20:39:34] <brson> SimonSapin: i do not have a personal account, and do not want to use the rust-lang account to say anything about legal policy
[20:39:38] <brson> so no
[20:40:57] <brson> SimonSapin: i'd suggest they ask aturon personally
[20:41:15] *** chmanchester|afk is now known as chmanchester
[20:41:44] <aturon> SimonSapin: brson: yeah, that sounds good to me, we are actively talking to people about this
[20:41:52] <aturon> (on the legal side)
[20:44:02] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Quit: No Ping reply in 180 seconds.)
[20:45:29] *** Quits: larhat (Adium@moz-vlo5br.cable.virginm.net) (Quit: Leaving.)
[20:45:33] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[20:46:36] *** Quits: laumann (thomas@moz-n9e72h.0.fullrate.dk) (Quit: leaving)
[20:48:20] *** Quits: harrisonclarke (harrisoncla@moz-g1kp2c.ns.bellaliant.net) (Connection closed)
[20:49:02] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Quit: No Ping reply in 180 seconds.)
[20:50:17] <gleb> after I `configure --enable-compiler-docs` and `make`, where do I find the compiler libraries docs?
[20:50:31] *** Joins: larhat (Adium@moz-vlo5br.cable.virginm.net)
[20:50:38] <brson> I'm creating u64 cryptographic hashes from a bunch of different sources, some themselves u64 crytpo hashes. Is there any way I can combine multiple u64 hashes that is cheap and secure (right now I'm running back through SipHasher again)?
[20:50:55] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[20:52:15] <brson> gleb: should be in subfolders under the doc folder
[20:52:33] <brson> i wrote a patch not long ago that unconditionally disabled compiler docs though. they may not be generated at all
[20:53:20] <gleb> brson: I only see the stable crates there
[20:53:35] <gleb> hmm
[20:55:31] *** Joins: fredrik (fredrik@moz-2b08ue.priv.bahnhof.se)
[20:55:49] *** Joins: ddamko (derekdamko@moz-plrm4a.toriangroup.com)
[20:55:54] <gleb> that should read: the usual crates: alloc, core, collections, libc, std
[20:55:57] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Quit: No Ping reply in 180 seconds.)
[20:56:05] <brson> if i use rustc-serialize to serialize a struct with a single u64 field with rblm will it emit extra metadata for the shape of the struct, or will it emit the same size metadata as the single u64?
[20:56:22] <Eridius> brson: in theory, if the hash is evenly distributed across the u64 space, you can just xor them
[20:56:39] <brson> Eridius: nice! that's what i was hoping
[20:56:51] <sfackler> guava uses addition
[20:57:26] <Eridius> hrm, wrapping addition might work too. That way you'd at least be somewhat insulated from poorly-distributed hashes
[20:57:27] <ddamko> aturon: is there or can ther be and open discussion ie. hangout on  the Rust design/marketing community?
[20:57:35] <Eridius> e.g. 3 values that hash to 1, 2, 3, would xor poorly
[20:57:43] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[20:58:57] <ddamko> I know there is the IRC #rust-design but there is not much activity.
[20:59:47] <aturon> ddamko: hey there -- a couple things
[21:00:16] <aturon> first, i wanted to mention that we're working with dherman and mozilla staff to try to figure out the full trademark policy, etc (see https://github.com/rust-lang/rust/issues/11562#issuecomment-108097016)
[21:00:23] <aturon> we should have more on that front in the near future
[21:00:46] <aturon> sorry that this has stalled the shirt effort for the moment, it's taking some time to pull the pieces together
[21:01:07] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Quit: No Ping reply in 180 seconds.)
[21:01:11] *** Quits: davebettin (textual@moz-acc.cl4.35.72.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[21:01:14] *** Joins: davebettin (textual@moz-acc.cl4.35.72.IP)
[21:01:15] <aturon> as far as an open call, etc., there's nothing currently in the works, but we're just building this stuff out
[21:01:28] <aturon> (e.g. the #rust-design channel is brand new)
[21:02:03] <ddamko> Ah thanks. OK at least there is movement. Sorry if I am pestering and I know legal stuff is complicated.
[21:02:07] <aturon> ddamko: have you seen https://internals.rust-lang.org/ ? that can be a good place to get somet discussion going
[21:02:24] <aturon> ddamko: no, not at all! we've been working on getting this figured out anyway
[21:02:32] <ddamko> I will keep at it. Thanks.
[21:02:43] <aturon> ddamko: e.g. https://internals.rust-lang.org/t/should-rust-have-an-art-design-team/2075/ about a possible design subteam
[21:03:15] <aturon> ddamko: i should have more for you on the trademark front by monday
[21:03:19] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[21:05:05] *** Quits: dinfuehr (dinfuehr@moz-h1bj2t.highway.telekom.at) (Connection closed)
[21:05:18] *** Quits: larhat (Adium@moz-vlo5br.cable.virginm.net) (Quit: Leaving.)
[21:05:39] <Sho> design team sounds cool, i'd love to get some iconography to represent rust concepts (e.g. "trait") to use in my code completion popups
[21:06:47] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Quit: No Ping reply in 180 seconds.)
[21:06:55] <aturon> ddamko: ok, got to run to meetings, but please don't hesitate to reach out, and i'll ping you once i know more
[21:07:02] *** Joins: harrisonclarke (harrisoncla@moz-7hfo21.eastlink.ca)
[21:07:11] <ddamko> aturon: thanks.
[21:08:48] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[21:11:27] <arielb1> anyone knows how to get sane output out of kcachegrind?
[21:11:27] <arielb1> I have one method taking 13%, self 0.02%, all submethods taking 1% in total
[21:11:27] <arielb1> including other callers
[21:12:27] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Quit: No Ping reply in 180 seconds.)
[21:13:21] *** Quits: Yurume (Yurume@moz-0t8.piq.68.115.IP) (Ping timeout: 121 seconds)
[21:14:02] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[21:14:32] *** Joins: Yurume (Yurume@moz-0t8.piq.68.115.IP)
[21:16:08] <brson> it looks like the rbml encoder is pretty efficient and will emit `struct A { field: B }` the same as just `B`
[21:17:18] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Quit: No Ping reply in 180 seconds.)
[21:17:55] *** Joins: Guest38 (textual@moz-4hh.6p3.217.74.IP)
[21:18:15] *** Quits: killercup (killercup@moz-723bo4.dip0.t-ipconnect.de) (Quit: Bye)
[21:19:16] *** Quits: tamird (textual@moz-ga3.afc.209.65.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[21:19:27] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[21:21:23] *** Quits: bgamari (bgamari@moz-m173ho.hsi8.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[21:21:37] *** Quits: jgallagher (john@moz-d5e8oc.hfc.comcastbusiness.net) (Client exited)
[21:24:04] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Quit: No Ping reply in 180 seconds.)
[21:27:49] <gleb> brson: if the makefile says `ifdef CFG_COMPILER_DOCS` and config.mk says `CFG_ENABLE_COMPILER_DOCS := 1` is this a bug?
[21:28:23] <gleb> also there's a compiler-docs target, maybe the configure flag isn't needed at all
[21:29:50] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[21:32:34] *** Quits: madmalik (uid13697@moz-lfin5p.brockwell.irccloud.com) (Quit: Connection closed for inactivity)
[21:33:24] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Quit: No Ping reply in 180 seconds.)
[21:34:30] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[21:36:02] <jdm> nmatsakis: what is your reaction to learning that rustc spends as long in the type checking and const checking passes (~50s) as trans and llvm (~50s) for the script crate in servo?
[21:37:27] <nrc> jdm: sounds about right to me
[21:37:42] <nrc> new_one: perfect! Thanks for the PR
[21:38:04] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Quit: No Ping reply in 180 seconds.)
[21:39:58] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[21:43:44] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Quit: No Ping reply in 180 seconds.)
[21:44:00] <brson> gleb: that sounds like a bug yes
[21:44:31] <brson> jdm: sounds like opportunity
[21:44:59] <brson> maybe there are places in script that are monomorphized to agressively and could be devirtualized to be easier on the compiler
[21:45:13] <brson> though ofc typeck should just be faster
[21:45:26] <nmatsakis> jdm: I've been doing some detailed profiling of rustc execution times; I have to turn my latest scripts to analyze the script crate
[21:45:34] <brson> i really want a profiler that suggests cold paths to revirtualize
[21:45:38] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[21:46:03] *** Quits: geri (Mibbit@moz-o67l17.highway.telekom.at) (Quit: http://www.mibbit.com ajax IRC Client)
[21:46:03] <gleb> brson: should I file a PR to fix that variable name?
[21:46:06] <nmatsakis> jdm: I am optimistic that we'll be able to make big improvements but I don't have a concrete plan yet :) 
[21:46:10] *** Quits: eibwen (eibwen@moz-0okbs7.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[21:46:14] <jdm> glad to hear it!
[21:47:10] <brson> gleb: yes, please
[21:47:29] *** Quits: zmack (zmack@moz-qdq.e19.24.188.IP) (Connection closed)
[21:51:24] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Quit: No Ping reply in 180 seconds.)
[21:52:32] *** Joins: swgillespie (swgillespie@moz-o29.3un.220.167.IP)
[21:52:37] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[21:52:59] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[21:53:04] <arielb1> nmatsakis: what's the *point* of the VecPerParamSpace in predicates_for_generics?
[21:53:30] *** Quits: jincreator (Thunderbird@moz-d7i.i1g.195.175.IP) (Ping timeout: 121 seconds)
[21:53:30] <arielb1> or in VtableImplData
[21:54:03] *** Quits: peeves (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[21:54:19] <nmatsakis> arielb1: in some of those cases there is no point, and I've been thinking about moving to a plain Vec<>
[21:54:26] <nmatsakis> I don't remember off hand if those are the ones, but I suspect so
[21:54:34] <arielb1> git grep couldn't find anything interesting
[21:55:38] *** Quits: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP) (A TLS packet with unexpected length was received.)
[21:56:23] *** Joins: jincreator (Thunderbird@moz-d7i.i1g.195.175.IP)
[21:56:53] *** Quits: dgrunwald (Daniel@moz-pqarhu.hsi4.kabel-badenwuerttemberg.de) (Connection closed)
[21:57:15] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Quit: No Ping reply in 180 seconds.)
[21:59:28] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[22:00:56] *** Joins: bdero (bran@moz-216hqv.oo5r.e4su.0006.2601.IP)
[22:01:48] <arielb1> seems stupid
[22:01:53] <arielb1> including map_move_nested
[22:02:18] *** Quits: Skyler (Skyler@moz-rv949t.sd.cox.net) (Client exited)
[22:03:53] <richo> Where are segmented stacks actually disabled for openbsd/bitrig?
[22:03:57] *** Quits: kimundi (kimundi@moz-bt8log.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[22:04:05] <richo> I grepped around for all their #[cfg]'s, but oculdn't actually find a thing
[22:04:54] <vadimcn> hmm, is there a way to override CFG_... vars in the configure script?
[22:05:37] *** Joins: Skyler (Skyler@moz-rv949t.sd.cox.net)
[22:05:58] *** Joins: tamird (textual@moz-lat.dkr.14.50.IP)
[22:06:10] *** Quits: spastorino (sid27384@moz-i6sgse.brockwell.irccloud.com) (Ping timeout: 121 seconds)
[22:06:22] <richo> most of them have accessors (the val and valopt calls define them)
[22:06:29] <richo> if not you can always just munge config.mk afterward :/
[22:07:32] <vadimcn> I'm trying to override CFG_PYTHON, don't see a flag for it anywhere
[22:07:46] <vadimcn> acrichto: ^
[22:07:48] <richo> Ah, yeah it doesn't have a frob, it's set by a probe call
[22:07:56] <richo> (I was doing this the other day)
[22:08:21] <richo> I can PR making it configurable if you want, it'll become yet another exciting feature of configure though
[22:08:33] <richo> because I think probe wants to putvar so there'll be some shenanigans
[22:09:00] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Quit: No Ping reply in 180 seconds.)
[22:09:11] *** Quits: reem (sid78397@moz-octfcu.brockwell.irccloud.com) (Ping timeout: 121 seconds)
[22:10:26] *** Joins: zz_kimundi (kimundi@moz-6vnj1q.dip0.t-ipconnect.de)
[22:10:45] *** Quits: carllerche (sid50851@moz-8i75uq.brockwell.irccloud.com) (Ping timeout: 121 seconds)
[22:10:49] *** zz_kimundi is now known as kimundi
[22:10:58] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[22:11:12] *** Quits: eddyb (eddyb@moz-c0q.mv7.25.188.IP) (Ping timeout: 121 seconds)
[22:12:03] <vadimcn> richo: yeah, it'd be nice to be able to set it manually.  Right now probe finds the wrong python and I can't override it short of editing the config script itself
[22:12:16] <richo> yup
[22:13:15] <richo> ok, I can see how to do this
[22:13:59] *** Quits: aturon (sid36348@moz-n3h4qj.brockwell.irccloud.com) (Ping timeout: 121 seconds)
[22:13:59] *** Quits: mno2 (sid33176@moz-nd1l6h.brockwell.irccloud.com) (Ping timeout: 121 seconds)
[22:14:03] *** Quits: davebettin (textual@moz-acc.cl4.35.72.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[22:14:12] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Quit: No Ping reply in 180 seconds.)
[22:15:19] *** Joins: davebettin (textual@moz-acc.cl4.35.72.IP)
[22:15:43] <richo> vadimcn: ooc, what are you really trying to do?
[22:15:45] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[22:15:49] <richo> is your python just in a weird place?
[22:15:53] <richo> or weirdly named?
[22:15:56] <acrichto> vadimcn: unfortunately I think you just gotta frob PATH for now
[22:16:03] <richo> acrichto: I ahve a patch :)
[22:16:06] <acrichto> \o/
[22:17:03] <richo> https://github.com/rust-lang/rust/pull/25971
[22:17:40] <richo> I feel better about lurking the _PROVIDED thing in now
[22:18:19] *** Quits: frewsxcv (uid86219@moz-dneii9.brockwell.irccloud.com) (Ping timeout: 121 seconds)
[22:18:39] *** Joins: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP)
[22:19:26] <vadimcn> cool!
[22:20:09] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Quit: No Ping reply in 180 seconds.)
[22:21:49] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[22:21:59] *** Quits: davebettin (textual@moz-acc.cl4.35.72.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[22:22:32] *** Joins: davebettin (textual@moz-acc.cl4.35.72.IP)
[22:24:21] *** Joins: carllerche (carllerche@moz-foj7sq.or.comcast.net)
[22:24:52] *** Quits: Sho (sho@moz-pr1n4c.cust.telecolumbus.net) (Quit: Konversation terminated!)
[22:25:03] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Quit: No Ping reply in 180 seconds.)
[22:25:08] <carllerche> Does anybody know what would be causing this bug? https://github.com/rust-lang/rust/issues/25972
[22:25:14] <carllerche> huon: thoughts? https://github.com/rust-lang/rust/issues/25972
[22:26:44] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[22:27:01] *** Quits: ddamko (derekdamko@moz-plrm4a.toriangroup.com) (Quit: Leaving)
[22:28:17] *** Quits: wycats (sid79@moz-b4lrm3.brockwell.irccloud.com) (Ping timeout: 121 seconds)
[22:29:36] <rovar> we saw one of these last fall. I couldn't repro on my linux box :)
[22:30:23] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Quit: No Ping reply in 180 seconds.)
[22:30:53] *** Joins: SilverKey (SilverKey@moz-b7q751.biz.rr.com)
[22:31:05] <rovar> the easy fix is to never panic in a thread :P
[22:31:12] *** Quits: SilverKey (SilverKey@moz-b7q751.biz.rr.com) (Quit: Cheerio!)
[22:31:28] <carllerche> rovar: I spotted this in tests
[22:31:37] <carllerche> which will panic a lot in threads :P
[22:31:41] <rovar> heh
[22:31:50] <cmr> '/b 16
[22:32:09] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[22:33:22] *** Joins: aatch (james@moz-is4j4r.cable.telstraclear.net)
[22:35:31] <Gankro> What's the timeline on associated const's being stable look like? 1.2 possible?
[22:36:01] <cmr> Gankro: my understanding is that they are still awfully buggy.
[22:36:09] <Gankro> Hmm
[22:36:16] <nrc> And there are some unanswered questions too
[22:36:18] <Gankro> Probably should just use methods, then
[22:36:32] <nrc> I'd be very surprised to see them stable any time soon
[22:37:21] <cmr> me too.
[22:38:37] <Gankro> Ooh fun I already made a bug happen
[22:38:40] *** Quits: aatch (james@moz-is4j4r.cable.telstraclear.net) (Quit: Leaving)
[22:40:18] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Quit: No Ping reply in 180 seconds.)
[22:40:21] <Gankro> circularlicious: https://play.rust-lang.org/?gist=0ba4a9442dd52d6a8ab2&version=nightly
[22:40:56] <cmr> heh, and it overflows the stack trying to print it.
[22:41:02] *** Quits: ptalbot (ptalbot@moz-j4gnuh.fbx.proxad.net) (Ping timeout: 121 seconds)
[22:41:45] *** Quits: davebettin (textual@moz-acc.cl4.35.72.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[22:41:47] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[22:42:28] *** Quits: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu) (Quit: Leaving)
[22:43:41] <Gankro> At least it doesn't just spew uninit memory :P
[22:45:00] *** Joins: davebettin (textual@moz-acc.cl4.35.72.IP)
[22:45:01] *** Quits: gsingh93 (gulshan@moz-ln1ktu.st3l.iv8o.0004.2601.IP) (Ping timeout: 121 seconds)
[22:45:41] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[22:47:28] *** Joins: ChrisMorgan (ChrisMorgan@moz-g6osuq.tpgi.com.au)
[22:47:54] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[22:49:03] *** Joins: reem (sid78397@moz-octfcu.brockwell.irccloud.com)
[22:49:19] *** Quits: bkearns (Adium@moz-rudtng.static.wiline.com) (Quit: Leaving.)
[22:50:13] *** Joins: larhat (Adium@moz-vlo5br.cable.virginm.net)
[22:51:06] *** Quits: swgillespie (swgillespie@moz-o29.3un.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[22:51:55] *** Joins: jgallagher (john@moz-6ge.dhn.131.24.IP)
[22:52:39] *** Quits: Guest38 (textual@moz-4hh.6p3.217.74.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[22:52:54] *** Joins: njn (chatzilla@moz-c6c476.iinet.net.au)
[22:53:08] <nmatsakis> nrc: so i was messing with Rc<Trait> today -- I think the Clone impl for Rc<T> still requires T: Sized...
[22:53:12] * nmatsakis should file an issue
[22:53:18] <nmatsakis> kind makes it less than useful though :)
[22:53:54] *** Quits: carllerche (carllerche@moz-foj7sq.or.comcast.net) (Client exited)
[22:54:12] <cmr> nmatsakis: why is that?
[22:54:12] <nmatsakis> hmm 
[22:54:17] <nmatsakis> maybe I was wrong though
[22:54:37] <cmr> The Clone impl never touches the data, at least.
[22:54:38] <nmatsakis> cmr: well an Rc that can't be cloned...not so handy :)
[22:54:46] <cmr> No, I mean, why would it need T: Sized
[22:54:49] <nmatsakis> oh, I'm not saying it SHOULD require T: Sized
[22:54:53] <nmatsakis> but actually I think I was wrong
[22:55:01] *** Quits: davebettin (textual@moz-acc.cl4.35.72.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[22:55:04] <nmatsakis> must have been some other trait I was having a problem with
[22:55:07] <cmr> I guess I'm just not sure what the rules are
[22:55:50] *** Quits: jdm (jdm@moz-ohpa2e.ckpj.s0pt.0450.2001.IP) (Quit: )
[22:56:07] *** Joins: mno2 (sid33176@moz-nd1l6h.brockwell.irccloud.com)
[22:57:34] <nmatsakis> cmr: as you say, I expect Clone to not require T: Sized, it's jsut that the default is to require `Sized`, so it's easy to overlook and accidentally require it
[22:57:50] <cmr> Oh that's what you mean.
[22:57:55] *** Joins: Guest38 (textual@moz-4hh.6p3.217.74.IP)
[22:58:02] <cmr> Not, "still requires under the current type system", but "the impl is wrong"
[22:59:41] *** Quits: fredrik (fredrik@moz-2b08ue.priv.bahnhof.se) (Ping timeout: 121 seconds)
[23:00:25] *** Joins: frewsxcv (sid86219@moz-dneii9.brockwell.irccloud.com)
[23:05:13] *** Quits: reem (sid78397@moz-octfcu.brockwell.irccloud.com) (Quit: )
[23:05:27] *** Quits: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP) (A TLS packet with unexpected length was received.)
[23:06:33] <pcwalton> acrichto: brson: just FYI, __morestack prologues are hurting profiling on ARM
[23:06:38] *** Joins: swgillespie (swgillespie@moz-o29.3un.220.167.IP)
[23:06:46] <pcwalton> I'm adding hacks to the profiler to try to reduce their harmfulness
[23:06:58] <pcwalton> but it'd be good to get rid of them soon
[23:08:07] *** Joins: wycats (sid79@moz-b4lrm3.brockwell.irccloud.com)
[23:08:07] *** ChanServ sets mode: +o wycats
[23:08:41] *** Joins: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP)
[23:08:50] *** Joins: James (quassel@moz-8qs8a3.range86-148.btcentralplus.com)
[23:09:09] *** Quits: wycats (sid79@moz-b4lrm3.brockwell.irccloud.com) (Quit: )
[23:09:17] *** Quits: swgillespie (swgillespie@moz-o29.3un.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[23:09:25] <brson> pcwalton: ok
[23:09:33] *** Joins: swgillespie (swgillespie@moz-o29.3un.220.167.IP)
[23:12:40] *** Joins: spastorino (sid27384@moz-i6sgse.brockwell.irccloud.com)
[23:12:45] *** Quits: ConnorDoyle (ConnorDoyle@moz-hud.3ra.116.199.IP) (Ping timeout: 121 seconds)
[23:12:57] *** Joins: carllerche (sid50851@moz-8i75uq.brockwell.irccloud.com)
[23:13:44] *** Joins: aturon (sid36348@moz-n3h4qj.brockwell.irccloud.com)
[23:13:44] *** ChanServ sets mode: +o aturon
[23:15:21] *** Joins: reem (sid78397@moz-octfcu.brockwell.irccloud.com)
[23:17:09] *** Quits: nicknikolov (nicknikolov@moz-k0r.8sn.209.90.IP) (Connection closed)
[23:18:56] <brson> nmatsakis: still waiting on crater results
[23:19:08] <nmatsakis> brson: k
[23:19:39] *** Joins: nicknikolov (nicknikolov@moz-k0r.8sn.209.90.IP)
[23:19:51] *** Quits: James (quassel@moz-8qs8a3.range86-148.btcentralplus.com) (Ping timeout: 121 seconds)
[23:20:38] *** Joins: aatch (james@moz-5r41gb.6pd7.20lj.e000.2406.IP)
[23:25:24] *** Quits: harrisonclarke (harrisoncla@moz-7hfo21.eastlink.ca) (Connection closed)
[23:27:04] *** Quits: tamird (textual@moz-lat.dkr.14.50.IP) (Connection closed)
[23:29:22] <sfackler> acrichto: btw, do you know if there's an existing issue covering the method resolution issues that popped up when trying to call methods on Box<Error+Sync+Send>?
[23:30:10] *** Quits: nham (nham@moz-lglsfe.il.comcast.net) (Ping timeout: 121 seconds)
[23:30:14] <acrichto> sfackler: hm, perhaps? I think nmatsakis would know better?
[23:31:22] *** Quits: swgillespie (swgillespie@moz-o29.3un.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[23:31:47] <sfackler> nmatsakis: error::Error has some downcasting methods defined on it, but they aren't callable with normal method syntax from a Box<Error+Sync+Send> due to the extra bounds. Coercing to a Box<Error+'static> allows it to work, as does calling it ufcs style: https://github.com/rust-lang/rust/blob/master/src/libstd/io/error.rs#L303-L310
[23:31:49] <sfackler> any idea why?
[23:32:06] <nmatsakis> yes, that doesn't work :)
[23:32:12] <nmatsakis> I'm not sure if there is an issue, let me check
[23:32:46] <nmatsakis> (in partcular, upcasting to trait objects is not part of the method search rules right now)
[23:33:07] <nmatsakis> so sort of https://github.com/rust-lang/rust/issues/5665 but this is a more specific problem
[23:33:46] <nmatsakis> hmm so i explained the problem here https://github.com/rust-lang/rust/issues/18737
[23:34:05] <nmatsakis> but I don't see an issue covering the expansion
[23:34:08] <nmatsakis> should prob be an RFC issue
[23:34:51] <sfackler> cool, i'll file it later tonight
[23:37:29] *** Joins: Jesin (Jesin@moz-6elflj.eecs.lehigh.edu)
[23:37:34] *** Quits: larhat (Adium@moz-vlo5br.cable.virginm.net) (Quit: Leaving.)
[23:40:04] <arielb1> nmatsakis: do you have any comments on my wf patch?
[23:40:16] <arielb1> and implicator
[23:42:06] *** Joins: bkearns (Adium@moz-rudtng.static.wiline.com)
[23:43:05] <brson> well building servo with my patch takes 15 seconds longer than without, so I've got some profiling to do
[23:43:09] <brson> guh
[23:43:10] *** Quits: brson (brson@moz-cfhap5.mtv2.mozilla.com) (Quit: leaving)
[23:44:05] <arielb1> brson: your patch?
[23:45:48] <nmatsakis> arielb1: I haven't had time to process it :( not forgotten about it though
[23:46:15] <arielb1> my patch is still WIP
[23:46:31] <arielb1> kind-of
[23:46:35] *** Joins: Kingsquee (kingsley@moz-3fm07c.bchsia.telus.net)
[23:46:49] <arielb1> what's the implicator business?
[23:48:27] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[23:48:47] <arielb1> is it another copy of check_wf
[23:49:13] *** Joins: nham (nham@moz-lglsfe.il.comcast.net)
[23:49:18] <arielb1> the type part of
[23:49:36] *** kimundi is now known as zz_kimundi
[23:49:52] <arielb1> it *ignores* ty_bare_fn for some reason
[23:50:29] <arielb1> I *would* expect fn() -> &'a &'b () to require 'a <= 'b
[23:51:28] <arielb1> the :Sized constraint of tuples and vecs is essentially a predicate
[23:51:39] <arielb1> and implicator handles these too
[23:54:46] *** Joins: summerlight_ (summerlight@moz-99k.2mj.130.121.IP)
[23:55:09] *** Joins: swgillespie (swgillespie@moz-o29.3un.220.167.IP)
[23:57:30] *** Quits: arielb1 (Ariel@moz-9he9ta.red.bezeqint.net) (Connection closed)
[23:59:39] *** Quits: Astrum|Lap (Astrum|Lap@moz-7enfbr.co.comcast.net) (Client exited)
