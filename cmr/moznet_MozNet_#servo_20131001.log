[00:01:21] <jdm> there is some serious wrestling happening in the samsung offices
[00:01:33] <brson> jack: wanna come downstairs to mtv-2 cya?
[00:02:06] <cmr> jdm: good or bad?
[00:02:18] <jdm> cmr: it sounds like a party on the conference call
[00:02:24] <cmr> oh, heh
[00:02:55] *** Joins: dzbarsky (Adium@moz-400775DC.wireless-pennnet.upenn.edu)
[00:03:12] <brson> https://etherpad.mozilla.org/Servo-meeting-weekly
[00:11:24] *** Quits: mccr8 (mccr8@moz-BBE3ABD.mv.mozilla.com) (Quit: mccr8)
[00:16:54] *** Quits: silverroots (uid10556@moz-31ABA2C0.irccloud.com) (Ping timeout)
[00:19:29] *** Quits: dzbarsky (Adium@moz-400775DC.wireless-pennnet.upenn.edu) (Ping timeout)
[00:29:04] *** Quits: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com) (Quit: brendan)
[00:29:18] *** Joins: robn (robn@moz-76B0302C.static.internode.on.net)
[00:33:39] *** Quits: jet (jet@moz-BE33DA21.fw1.sfo1.mozilla.net) (Quit: jet)
[00:46:20] *** Quits: tikue_ (tkuehn@B46F4FD2.21C37D63.689607DE.IP) (Quit: tikue_)
[00:52:28] *** Joins: tikue_ (tkuehn@B46F4FD2.21C37D63.689607DE.IP)
[00:52:58] <tikue_> i think when frame trees are sent to the compositor, it currently replaces the entire tree. this causes a visible flash on the entire page when only an iframe is changing. the constellation could do a diff and send an update message rather than a new tree every time
[00:59:09] <lbergstrom> tikue_: aha, makes sense. I'll create an issue for it. that's possibly off the summit demo path, so I probably won't look at it until next week :-)
[00:59:57] <lbergstrom> btw, I'm currently looking at some issues with hideous numbers of textures getting created on the graphics card, particularly for heavily-animated pages (e.g., that summit demo)
[01:00:04] <tikue_> lbergstrom: cool :) i'm swamped with work or i'd look into it myself
[01:00:11] <tikue_> yeah i saw that in the meeting notes
[01:00:55] <lbergstrom> I'm going to keep plugging at it tomorrow, but if you have any ideas, feel free to shoot them my way. tracking down extra references to random objects is un-fun.
[01:01:48] <tikue_> will do, though i don't foresee having too much time to look at it in the near future :\ good luck hehe
[01:01:52] *** Joins: ghservo (ghservo@DE823A67.6A2AE50.F3114085.IP)
[01:01:52] <ghservo> [13servo] 15larsbergstrom opened issue #997: Compositor updates update the whole tree  02http://git.io/L4BAYg
[01:01:52] *** Parts: ghservo (ghservo@DE823A67.6A2AE50.F3114085.IP) ()
[01:02:19] <lbergstrom> No worries; just wanted to mention it in case something jumped out. I'll get it tomorrow, by hook or by crook.
[01:04:45] <tikue_> haha
[01:05:24] <tikue_> lbergstrom: it'd be worth getting in touch with eschweic as well. i think he might have some ideas to go off of
[01:05:36] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[01:05:52] <lbergstrom> tikue_: thanks for the tip - will do
[01:16:36] *** Quits: tjc (tjc@moz-7B0110AD.mv.mozilla.com) (Quit: zzzzzzzzzz)
[01:20:15] *** Joins: sammykim (Mibbit@B4104EBB.3CC170B1.1E14B209.IP)
[01:20:51] *** Joins: annevk (annevk@moz-95E235BF.hfc.comcastbusiness.net)
[01:36:20] *** Quits: engla (engla@moz-DBD1D96E.cust.bredbandsbolaget.se) (Ping timeout)
[01:47:43] *** Quits: azakai (alon@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[01:48:23] *** Joins: eatkinson (eatkinson@moz-261EDE03.hsd1.ca.comcast.net)
[01:50:27] *** Quits: gandalf (zbraniecki@moz-BE33DA21.fw1.sfo1.mozilla.net) (Quit: My lid went down)
[01:50:53] *** Quits: valenting (Thunderbir@55FBCC0.8C025854.E16F0CF5.IP) (Ping timeout)
[01:56:17] *** Joins: MauricioC (mauricioc@moz-2CFCD404.impa.br)
[02:00:22] *** Quits: annevk (annevk@moz-95E235BF.hfc.comcastbusiness.net) (Connection reset by peer)
[02:00:36] *** Joins: annevk (annevk@moz-95E235BF.hfc.comcastbusiness.net)
[02:04:08] *** Quits: joone_ (joone@moz-C50DC051.jf.intel.com) (Ping timeout)
[02:04:22] *** Joins: joone_ (joone@moz-C50DC051.jf.intel.com)
[02:15:04] *** Joins: ghservo (ghservo@2EE61FCC.6A2AE50.F3114085.IP)
[02:15:04] <ghservo> [13mozjs] 15jdm opened pull request #6: Add proxy trace hooks. (06master...06tracehook)  02http://git.io/bfNisg
[02:15:04] *** Parts: ghservo (ghservo@2EE61FCC.6A2AE50.F3114085.IP) ()
[02:15:11] *** Joins: ghservo (ghservo@2EE61FCC.6A2AE50.F3114085.IP)
[02:15:11] <ghservo> [13rust-mozjs] 15jdm opened pull request #38: Add finalize and trace hooks for proxies. (06master...06tracehook)  02http://git.io/pG3N1Q
[02:15:11] *** Parts: ghservo (ghservo@2EE61FCC.6A2AE50.F3114085.IP) ()
[02:16:05] *** Joins: ghservo (ghservo@DE823A67.6A2AE50.F3114085.IP)
[02:16:05] <ghservo> [13servo] 15jdm opened pull request #998: Make proxy bindings generate trace and finalization hooks. (06master...06tracehook)  02http://git.io/ZEDBDw
[02:16:05] *** Parts: ghservo (ghservo@DE823A67.6A2AE50.F3114085.IP) ()
[02:16:52] <jdm> yay submodules
[02:28:55] *** bz_dinner is now known as bz
[02:30:48] *** Quits: tikue_ (tkuehn@B46F4FD2.21C37D63.689607DE.IP) (Quit: tikue_)
[02:31:10] *** Joins: silverroots (uid10556@moz-31ABA2C0.irccloud.com)
[02:32:12] *** Quits: kimundi (kimundi@moz-FECF1514.dip0.t-ipconnect.de) (Ping timeout)
[02:35:42] *** Joins: tikue_ (tikue_star@B46F4FD2.21C37D63.689607DE.IP)
[02:35:44] *** Joins: zz_kimundi (kimundi@moz-F02A6FA4.dip0.t-ipconnect.de)
[02:35:50] *** zz_kimundi is now known as kimundi
[02:36:11] *** Quits: Jesse (jruderman@moz-BBE3ABD.mv.mozilla.com) (Quit: Jesse)
[02:40:09] *** Quits: tikue_ (tikue_star@B46F4FD2.21C37D63.689607DE.IP) (Client exited)
[02:40:59] *** Joins: dbaron (dbaron@moz-C566053C.dsl.dynamic.sonic.net)
[02:42:57] *** Joins: tikue_ (tikue_star@B46F4FD2.21C37D63.689607DE.IP)
[02:43:19] *** Quits: tikue_ (tikue_star@B46F4FD2.21C37D63.689607DE.IP) (Client exited)
[02:45:00] *** Joins: tikue_ (tikue_star@B46F4FD2.21C37D63.689607DE.IP)
[02:51:58] *** Quits: dbaron (dbaron@moz-C566053C.dsl.dynamic.sonic.net) (Quit: 8403864 bytes have been tenured, next gc will be global.)
[02:56:10] *** Joins: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[02:59:37] *** Joins: lmandel (lmandel@moz-76CE9D51.cable.teksavvy.com)
[03:04:19] *** Quits: doomlord_ (servitor@moz-728E30A7.range109-151.btcentralplus.com) (Quit: Leaving)
[03:04:23] *** Quits: doomlord__ (servitor@moz-728E30A7.range109-151.btcentralplus.com) (Quit: Leaving)
[03:06:28] *** Quits: lmandel (lmandel@moz-76CE9D51.cable.teksavvy.com) (Quit: lmandel)
[03:12:10] *** Joins: Jesse (jruderman@moz-537BCF9.hsd1.ca.comcast.net)
[03:16:57] *** Joins: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP)
[03:16:57] <ghservo> [13servo] 15sammykim opened issue #999: Crash iframe test case  02http://git.io/UsGSFg
[03:16:57] *** Parts: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP) ()
[03:19:55] *** Joins: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP)
[03:23:54] *** Quits: MauricioC (mauricioc@moz-2CFCD404.impa.br) (Ping timeout)
[03:33:33] *** Joins: ghservo (ghservo@9C8B94D4.6A2AE50.F3114085.IP)
[03:33:33] <ghservo> [13servo] 15jdm opened issue #1000: Ignore content inside an iframe element while parsing  02http://git.io/fOsRTg
[03:33:33] *** Parts: ghservo (ghservo@9C8B94D4.6A2AE50.F3114085.IP) ()
[03:33:46] <jdm> ooh, issue 1000
[03:43:25] *** Quits: annevk (annevk@moz-95E235BF.hfc.comcastbusiness.net) (Input/output error)
[03:43:51] *** Joins: annevk (annevk@moz-95E235BF.hfc.comcastbusiness.net)
[03:45:38] *** Quits: annevk (annevk@moz-95E235BF.hfc.comcastbusiness.net) (Ping timeout)
[03:52:45] <tikue_> jdm, what does issue 1000 mean
[03:53:30] <jdm> tikue_: it refers to https://gist.github.com/sammykim/6773342#file-iframe_test-html-L4
[03:55:45] *** Quits: tikue_ (tikue_star@B46F4FD2.21C37D63.689607DE.IP) (Client exited)
[03:58:57] *** Joins: tikue_ (tikue_star@B46F4FD2.21C37D63.689607DE.IP)
[04:00:46] *** Quits: emi (whatabunch@moz-9FE842F.cpe.net.cable.rogers.com) (Ping timeout)
[04:12:08] *** Quits: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[04:13:47] *** Joins: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP)
[04:14:01] *** Joins: dbaron (dbaron@moz-C566053C.dsl.dynamic.sonic.net)
[04:29:50] *** Joins: lmandel (lmandel@moz-76CE9D51.cable.teksavvy.com)
[04:30:33] *** Joins: emi (whatabunch@moz-9FE842F.cpe.net.cable.rogers.com)
[04:35:57] *** Quits: emi (whatabunch@moz-9FE842F.cpe.net.cable.rogers.com) (Ping timeout)
[04:41:26] *** Quits: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[04:43:21] *** Joins: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP)
[04:46:50] *** Quits: lmandel (lmandel@moz-76CE9D51.cable.teksavvy.com) (Quit: lmandel)
[05:19:15] <jack> jdm: you still up?
[05:19:23] <jdm> jack: yep
[05:19:28] <jack> what is BaseProxyHandler?
[05:19:56] <jack> is that juse an abstract base class that othe proxy handlers inherit from?
[05:20:01] <jack> is there a DocumentProxyHandler?
[05:20:02] *** Quits: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[05:20:31] <jdm> jack: yes, BaseProxyHandler is the abstract base
[05:21:02] <jdm> jack: there's no DocumentProxyHandler; there's just a derived class that takes a ProxyTraps structure full of function pointers
[05:21:21] <jdm> and each proxy specialization fills out a ProxyTraps
[05:21:32] *** Joins: ghservo (ghservo@F6EE6DE3.6A2AE50.F3114085.IP)
[05:21:32] <ghservo> 01[13mozjs01] 15metajack pushed 2 new commits to 06master: 02http://git.io/kQNxAw
[05:21:32] <ghservo> 13mozjs/06master 1481aeed0 15Josh Matthews: Add proxy trace hooks.
[05:21:32] <ghservo> 13mozjs/06master 14d57edb9 15Jack Moffitt: Merge pull request #6 from jdm/tracehook...
[05:21:32] *** Parts: ghservo (ghservo@F6EE6DE3.6A2AE50.F3114085.IP) ()
[05:22:00] <jack> why is getPrototypeOf still *u8?
[05:22:12] <jack> actually more than just that is still *u8
[05:22:52] <jdm> yeah, it's because they're unused at the moment
[05:23:13] <jdm> and don't appear to be causing any problems so far
[05:23:33] <jack> and finalize never needs to be nulled i guess?
[05:23:51] <jdm> yes
[05:24:04] <jdm> trace should be the same way, but there aren't mandatory trace hooks yet
[05:25:07] <jack> out of curiosity what other kind of proxy handlers would there be?
[05:25:53] *** Quits: bz (bzbarsky@moz-EA9A3995.bstnma.fios.verizon.net) (Ping timeout)
[05:27:08] <jack> Also, what is ProxyTraps?
[05:28:59] *** Quits: brson (brson@moz-BBE3ABD.mv.mozilla.com) (Quit: leaving)
[05:30:52] <jdm> jack: there are security wrappers, and direct and indirect proxies
[05:31:09] <jdm> and at least one more, I think
[05:31:42] <jdm> jack: ProxyTraps is just a struct of function pointers for allowing Rust code to specialize proxy handlers
[05:31:57] <jdm> just simulating a vtable
[05:33:14] <jack> So only implement the direct proxies?
[05:33:34] <jack> I suppose I'm not super sure what direct and indirect mean.
[05:33:45] <jack> Ours is called ForwardingProxyHandler
[05:45:12] <jdm> jack: direct has to do with http://wiki.ecmascript.org/doku.php?id=harmony:direct_proxies
[05:46:02] <jdm> anyways, ours is called ForwardingProxyHandler because it doesn't encode any special behaviour itself
[05:46:26] <jdm> it just forwards the trap to the Rust methods or the parent implementation
[05:47:14] <jdm> aha
[05:47:27] <jdm> indirect proxy handlers are the implementation of the old harmony proxy spec
[05:49:13] *** Joins: tjc (tjc@moz-6EB4E533.dsl.tsoft.com)
[05:49:13] *** ChanServ sets mode: +o tjc
[05:53:57] *** Joins: ghservo (ghservo@F6EE6DE3.6A2AE50.F3114085.IP)
[05:53:57] <ghservo> [13rust-mozjs] 15metajack closed pull request #38: Add finalize and trace hooks for proxies. (06master...06tracehook)  02http://git.io/pG3N1Q
[05:53:57] *** Parts: ghservo (ghservo@F6EE6DE3.6A2AE50.F3114085.IP) ()
[05:53:58] *** Joins: ghservo (ghservo@C8693FCB.6A2AE50.F3114085.IP)
[05:53:58] <ghservo> 01[13rust-mozjs01] 15metajack pushed 2 new commits to 06master: 02http://git.io/SlhktQ
[05:53:58] <ghservo> 13rust-mozjs/06master 141a9a5c3 15Josh Matthews: Add finalize and trace hooks for proxies.
[05:53:58] <ghservo> 13rust-mozjs/06master 14f021625 15Jack Moffitt: Merge pull request #38 from jdm/tracehook...
[05:53:58] *** Parts: ghservo (ghservo@C8693FCB.6A2AE50.F3114085.IP) ()
[05:57:16] *** Joins: bz (bzbarsky@moz-EA9A3995.bstnma.fios.verizon.net)
[05:57:50] *** Quits: jdm (jdm@7F255D02.1B9223B5.AE2B2F80.IP) (Input/output error)
[05:57:52] *** Joins: jdm (jdm@7F255D02.1B9223B5.AE2B2F80.IP)
[05:57:52] *** ChanServ sets mode: +o jdm
[06:09:06] *** Quits: eatkinson (eatkinson@moz-261EDE03.hsd1.ca.comcast.net) (Quit: eatkinson)
[06:20:29] *** bz is now known as bz_sleep
[06:21:23] *** Joins: timot (timot@moz-1A989AA3.mobile.tre.se)
[06:27:48] *** Joins: ghservo (ghservo@9C8B94D4.6A2AE50.F3114085.IP)
[06:27:48] <ghservo> 01[13servo01] 15bors-servo pushed 0 new commits to 06auto: 02http://git.io/NM823w
[06:27:48] *** Parts: ghservo (ghservo@9C8B94D4.6A2AE50.F3114085.IP) ()
[06:27:53] *** Joins: ghservo (ghservo@C8693FCB.6A2AE50.F3114085.IP)
[06:27:53] <ghservo> 01[13servo01] 15bors-servo pushed 2 new commits to 06auto: 02http://git.io/H_qEbQ
[06:27:53] <ghservo> 13servo/06auto 14cb826f9 15Josh Matthews: Make proxy bindings generate trace and finalization hooks.
[06:27:53] <ghservo> 13servo/06auto 145fc5542 15bors-servo: auto merge of #998 : jdm/servo/tracehook, r=metajack...
[06:27:53] *** Parts: ghservo (ghservo@C8693FCB.6A2AE50.F3114085.IP) ()
[06:27:53] *** Joins: Ms2ger (Ms2ger@moz-2F2A356D.adsl-dyn.isp.belgacom.be)
[06:41:51] *** Quits: jdm (jdm@7F255D02.1B9223B5.AE2B2F80.IP) (Quit: Lost terminal)
[06:45:45] *** Joins: ghservo (ghservo@DE823A67.6A2AE50.F3114085.IP)
[06:45:46] <ghservo> 01[13servo01] 15bors-servo merged 06auto into 06master: 02http://git.io/H_qEbQ
[06:45:46] *** Parts: ghservo (ghservo@DE823A67.6A2AE50.F3114085.IP) ()
[06:45:46] *** Joins: ghservo (ghservo@C8693FCB.6A2AE50.F3114085.IP)
[06:45:46] <ghservo> [13servo] 15bors-servo closed issue #962: Figure out how to use trace hooks in conjunction with proxy objects  02http://git.io/zABgpA
[06:45:46] *** Parts: ghservo (ghservo@C8693FCB.6A2AE50.F3114085.IP) ()
[06:45:47] *** Joins: ghservo (ghservo@2EE61FCC.6A2AE50.F3114085.IP)
[06:45:47] <ghservo> [13servo] 15bors-servo closed pull request #998: Make proxy bindings generate trace and finalization hooks. (06master...06tracehook)  02http://git.io/ZEDBDw
[06:45:47] *** Parts: ghservo (ghservo@2EE61FCC.6A2AE50.F3114085.IP) ()
[06:48:15] *** Joins: bholley (anonymous@moz-D5EB36E2.rev.numericable.fr)
[06:51:51] *** Quits: timot (timot@moz-1A989AA3.mobile.tre.se) (Connection reset by peer)
[06:51:54] *** Joins: timot_ (timot@moz-1A989AA3.mobile.tre.se)
[06:59:34] *** Quits: tjc (tjc@moz-6EB4E533.dsl.tsoft.com) (Quit: Places to go, people to annoy)
[07:11:18] *** Quits: Ms2ger (Ms2ger@moz-2F2A356D.adsl-dyn.isp.belgacom.be) (Quit: bbl)
[07:29:01] *** Quits: dbaron (dbaron@moz-C566053C.dsl.dynamic.sonic.net) (Quit: g'night)
[07:33:02] *** Joins: timot (timot@moz-1A989AA3.mobile.tre.se)
[07:34:07] *** Quits: timot_ (timot@moz-1A989AA3.mobile.tre.se) (Ping timeout)
[07:34:50] *** Quits: timot (timot@moz-1A989AA3.mobile.tre.se) (Ping timeout)
[07:37:20] *** Joins: timot (timot@moz-DF4A6D9D.anonymous.at.anonine.com)
[07:41:40] *** Joins: Debloper (debloper@moz-88FF8AE8.redhat.com)
[07:55:44] *** Joins: victorporof (victorporo@35F65A40.E0F96B01.D111398B.IP)
[07:56:35] *** Quits: bz_sleep (bzbarsky@moz-EA9A3995.bstnma.fios.verizon.net) (Ping timeout)
[08:06:37] *** Joins: robertknight (robertknig@moz-54528EE0.wby.mendeley.com)
[08:07:17] *** Joins: bjz_ (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[08:07:23] *** Quits: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[08:08:18] *** Quits: robertknight (robertknig@moz-54528EE0.wby.mendeley.com) (Ping timeout)
[08:30:23] *** Joins: robertknight (robertknig@moz-54528EE0.wby.mendeley.com)
[08:33:14] *** Quits: yury (yury@moz-86474802.ok.ok.cox.net) (Ping timeout)
[08:33:16] *** Joins: yury (yury@moz-86474802.ok.ok.cox.net)
[08:35:49] *** Quits: timot (timot@moz-DF4A6D9D.anonymous.at.anonine.com) (Ping timeout)
[08:35:54] *** Joins: timot (timot@moz-D037EF70.cust.tele2.se)
[08:37:58] *** Joins: emi (whatabunch@moz-9FE842F.cpe.net.cable.rogers.com)
[08:39:58] *** Quits: emi (whatabunch@moz-9FE842F.cpe.net.cable.rogers.com) (Ping timeout)
[08:56:27] *** Quits: sammykim (Mibbit@B4104EBB.3CC170B1.1E14B209.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[08:58:01] *** Quits: timot (timot@moz-D037EF70.cust.tele2.se) (Ping timeout)
[09:21:48] *** Quits: Luqman (laden@moz-AB7945E9.csclub.uwaterloo.ca) (Ping timeout)
[09:22:11] *** Quits: tikue_ (tikue_star@B46F4FD2.21C37D63.689607DE.IP) (Ping timeout)
[09:27:58] *** Joins: timot (timot@moz-D037EF70.cust.tele2.se)
[09:57:21] *** Quits: dbaupp (Thunderbir@moz-EAA09AEF.lns20.syd7.internode.on.net) (Quit: dbaupp)
[10:00:10] *** Joins: dbaupp (Thunderbir@moz-EAA09AEF.lns20.syd7.internode.on.net)
[10:02:13] *** Quits: Jesse (jruderman@moz-537BCF9.hsd1.ca.comcast.net) (Quit: Jesse)
[10:02:20] *** Joins: Jesse (jruderman@moz-537BCF9.hsd1.ca.comcast.net)
[10:02:28] *** Quits: bjz_ (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[10:02:47] *** Joins: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[10:06:00] *** Joins: bz_sleep (bzbarsky@moz-EA9A3995.bstnma.fios.verizon.net)
[10:44:09] *** Joins: emi (whatabunch@moz-9FE842F.cpe.net.cable.rogers.com)
[10:46:06] *** Quits: emi (whatabunch@moz-9FE842F.cpe.net.cable.rogers.com) (Ping timeout)
[10:53:18] *** Joins: jensnockert (jensnocker@9CEA43E3.5B393F0A.A94117DA.IP)
[10:54:23] *** Quits: jensnockert (jensnocker@9CEA43E3.5B393F0A.A94117DA.IP) (Connection reset by peer)
[11:46:43] *** Joins: emi (whatabunch@moz-9FE842F.cpe.net.cable.rogers.com)
[11:48:39] *** Quits: emi (whatabunch@moz-9FE842F.cpe.net.cable.rogers.com) (Ping timeout)
[11:51:16] *** Joins: Ms2ger (Ms2ger@moz-C4AD1860.ugent.be)
[11:58:42] *** Joins: Kostic (marko@C4D4CB5C.58A2DD99.2168A69F.IP)
[12:12:57] *** Joins: doomlord_ (servitor@moz-728E30A7.range109-151.btcentralplus.com)
[12:25:55] *** Quits: Ms2ger (Ms2ger@moz-C4AD1860.ugent.be) (Ping timeout)
[12:27:23] *** Joins: Ms2ger (Ms2ger@moz-FFBA2AB4.ugent.be)
[12:30:37] *** Quits: timot (timot@moz-D037EF70.cust.tele2.se) (Ping timeout)
[12:33:08] *** Joins: timot (timot@moz-B3E7DB2F.anonymous.at.anonine.com)
[12:48:47] *** Joins: emi (whatabunch@moz-9FE842F.cpe.net.cable.rogers.com)
[12:54:17] *** Quits: emi (whatabunch@moz-9FE842F.cpe.net.cable.rogers.com) (Ping timeout)
[13:07:08] *** Joins: doomlord__ (servitor@moz-728E30A7.range109-151.btcentralplus.com)
[13:07:18] *** Quits: doomlord__ (servitor@moz-728E30A7.range109-151.btcentralplus.com) (Connection reset by peer)
[13:08:34] *** Joins: annevk (annevk@moz-44E1DA04.wireless.csail.mit.edu)
[13:14:22] *** Quits: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Quit: Leaving...)
[13:20:50] *** Quits: Houm (Houm@moz-25669AA8.fbx.proxad.net) (Ping timeout)
[13:45:09] *** Joins: ahal (ahal@FCCEA34F.7672369.D8E68FF6.IP)
[13:48:15] *** Quits: nielsle (nielsle@moz-5CE8ECCD.boa.fiberby.dk) (Ping timeout)
[13:52:45] *** Joins: tgummerer (tgummerer@moz-5DC8FA44.tbcn.telia.com)
[13:53:44] *** Joins: nielsle (nielsle@moz-5CE8ECCD.boa.fiberby.dk)
[13:59:17] *** Joins: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[13:59:22] *** Quits: timot (timot@moz-B3E7DB2F.anonymous.at.anonine.com) (Ping timeout)
[14:01:24] *** Joins: timot (timot@moz-D037EF70.cust.tele2.se)
[14:02:02] *** Quits: fredy (fredy@moz-E7647C0E.vm.okeanos.grnet.gr) (Ping timeout)
[14:08:58] *** Joins: jdm (jdm@7F255D02.1B9223B5.AE2B2F80.IP)
[14:08:58] *** ChanServ sets mode: +o jdm
[14:12:13] *** bz_sleep is now known as bz
[14:12:50] *** Joins: mihneadb (mihneadb@C4EA9901.688AC74E.FCAAE698.IP)
[14:14:39] *** Quits: vivekg (uid10501@moz-E77DEB21.irccloud.com) (Ping timeout)
[14:14:57] *** Quits: kseo (uid14607@moz-E77DEB21.irccloud.com) (Ping timeout)
[14:14:57] *** Quits: silverroots (uid10556@moz-31ABA2C0.irccloud.com) (Ping timeout)
[14:14:57] *** Quits: wilfred (uid159@moz-5F4AA75A.irccloud.com) (Ping timeout)
[14:14:57] *** Quits: jyeo_away (uid12229@moz-E77DEB21.irccloud.com) (Ping timeout)
[14:14:57] *** Quits: sawrubh (uid6719@moz-5F4AA75A.irccloud.com) (Ping timeout)
[14:15:02] *** Quits: evilpie (uid7877@moz-E77DEB21.irccloud.com) (Ping timeout)
[14:22:18] *** Joins: emi (whatabunch@moz-9FE842F.cpe.net.cable.rogers.com)
[14:26:50] *** Quits: nielsle (nielsle@moz-5CE8ECCD.boa.fiberby.dk) (Ping timeout)
[14:28:52] *** Joins: nielsle (nielsle@moz-5CE8ECCD.boa.fiberby.dk)
[14:40:29] *** Joins: kseo_ (uid14607@moz-E77DEB21.irccloud.com)
[14:40:32] *** Joins: evilpie (uid7877@moz-E77DEB21.irccloud.com)
[14:41:44] *** Joins: vivekg (uid10501@moz-E77DEB21.irccloud.com)
[14:44:10] *** Quits: mihneadb (mihneadb@C4EA9901.688AC74E.FCAAE698.IP) (Input/output error)
[14:45:24] *** Quits: nielsle (nielsle@moz-5CE8ECCD.boa.fiberby.dk) (Ping timeout)
[15:01:28] *** Quits: tgummerer (tgummerer@moz-5DC8FA44.tbcn.telia.com) (Ping timeout)
[15:13:21] <jdm> huh
[15:13:28] <jdm> how did my rust-mozjs changes build on master?
[15:13:34] <jdm> they're on top of the rust language upgrade
[15:13:39] <jdm> and I can't build locally now
[15:14:42] <jdm> oh, they're not
[15:14:45] <jdm> fascinating
[15:15:22] *** Quits: Ms2ger (Ms2ger@moz-FFBA2AB4.ugent.be) (Ping timeout)
[15:16:36] *** Joins: tgummerer (tgummerer@51D3B54.FEF996EA.EA6FEF3D.IP)
[15:17:21] *** Joins: ghservo (ghservo@24260B07.6A2AE50.F3114085.IP)
[15:17:21] <ghservo> [13servo] 15SimonSapin opened pull request #1001: Add style structs and cascading in the new style system (06master...06newnewcss)  02http://git.io/4staPQ
[15:17:21] *** Parts: ghservo (ghservo@24260B07.6A2AE50.F3114085.IP) ()
[15:18:02] <jdm> ooh
[15:22:57] *** Joins: lmandel (lmandel@13F2CEC5.7672369.D8E68FF6.IP)
[15:29:50] *** Joins: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP)
[15:37:10] *** Joins: mccr8 (mccr8@moz-BBE3ABD.mv.mozilla.com)
[15:39:16] *** Joins: dbaron (dbaron@moz-C566053C.dsl.dynamic.sonic.net)
[15:40:28] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[15:40:45] *** Joins: jet (jet@moz-79F891EE.hsd1.ca.comcast.net)
[15:50:32] *** Joins: fredy (fredy@moz-E7647C0E.vm.okeanos.grnet.gr)
[15:53:45] *** Quits: tgummerer (tgummerer@51D3B54.FEF996EA.EA6FEF3D.IP) (Ping timeout)
[16:01:30] *** Quits: annevk (annevk@moz-44E1DA04.wireless.csail.mit.edu) (Input/output error)
[16:01:56] *** Joins: annevk (annevk@moz-44E1DA04.wireless.csail.mit.edu)
[16:03:51] *** Quits: annevk (annevk@moz-44E1DA04.wireless.csail.mit.edu) (Ping timeout)
[16:03:52] *** Joins: heather (heather@moz-A0276582.hsd1.ca.comcast.net)
[16:06:25] *** Quits: robertknight (robertknig@moz-54528EE0.wby.mendeley.com) (Ping timeout)
[16:15:44] *** Joins: jyeo_away (uid12229@moz-E77DEB21.irccloud.com)
[16:17:05] *** Joins: wilfred (uid159@moz-5F4AA75A.irccloud.com)
[16:18:33] *** Joins: silverroots (uid10556@moz-31ABA2C0.irccloud.com)
[16:18:53] *** ahal is now known as ahal|lunch
[16:19:31] *** Joins: sawrubh (uid6719@moz-5F4AA75A.irccloud.com)
[16:28:12] *** Joins: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com)
[16:34:11] *** Joins: Ms2ger (Ms2ger@moz-2F2A356D.adsl-dyn.isp.belgacom.be)
[16:38:26] *** Joins: azakai (alon@moz-BBE3ABD.mv.mozilla.com)
[16:47:14] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[16:47:14] *** ChanServ sets mode: +qo dherman dherman
[16:53:07] *** Quits: dbaron (dbaron@moz-C566053C.dsl.dynamic.sonic.net) (Ping timeout)
[16:55:24] *** Joins: annevk (annevk@moz-44E1DA04.wireless.csail.mit.edu)
[16:57:59] *** Quits: Debloper (debloper@moz-88FF8AE8.redhat.com) (Quit: Leaving.)
[17:01:03] *** Joins: tikue_ (tikue_star@moz-FEADCD38.hsd1.pa.comcast.net)
[17:01:33] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[17:01:33] *** ChanServ sets mode: +o brson
[17:01:46] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[17:05:15] *** Joins: tjc (tjc@moz-7B0110AD.mv.mozilla.com)
[17:05:15] *** ChanServ sets mode: +o tjc
[17:07:40] *** Quits: heather (heather@moz-A0276582.hsd1.ca.comcast.net) (Client exited)
[17:08:01] *** Joins: heather (heather@moz-A0276582.hsd1.ca.comcast.net)
[17:09:54] *** Quits: heather (heather@moz-A0276582.hsd1.ca.comcast.net) (Ping timeout)
[17:11:57] *** Joins: nielsle (nielsle@moz-5CE8ECCD.boa.fiberby.dk)
[17:15:59] *** Joins: Jayflux (Jason@moz-6B79D832.as13285.net)
[17:16:24] *** Joins: Jayflux_ (Jason@moz-6B79D832.as13285.net)
[17:16:25] *** Quits: Jayflux_ (Jason@moz-6B79D832.as13285.net) (Quit: Jayflux_)
[17:22:07] *** Quits: victorporof (victorporo@35F65A40.E0F96B01.D111398B.IP) (Quit: victorporof)
[17:28:25] *** Quits: tikue_ (tikue_star@moz-FEADCD38.hsd1.pa.comcast.net) (Ping timeout)
[17:30:29] *** Joins: Luqman (laden@moz-AB7945E9.csclub.uwaterloo.ca)
[17:33:16] *** Joins: dbaron (dbaron@moz-BE33DA21.fw1.sfo1.mozilla.net)
[17:36:53] *** ahal|lunch is now known as ahal
[17:39:04] *** Joins: victorporof (victorporo@16E89FDD.B0D0881A.79933D60.IP)
[17:40:57] *** Quits: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[17:43:48] *** Quits: jet (jet@moz-79F891EE.hsd1.ca.comcast.net) (Quit: jet)
[17:49:42] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[17:49:45] *** Joins: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com)
[17:49:45] *** ChanServ sets mode: +o pcwalton
[17:57:46] * jdm shakes his fist at github
[17:58:09] <Ms2ger> Ah, decentralized VCS's
[18:01:16] <SimonSapin> Ms2ger: what about them?
[18:06:11] *** Joins: jet (jet@moz-79F891EE.hsd1.ca.comcast.net)
[18:08:34] *** Quits: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com) (Quit: pcwalton)
[18:10:17] *** Joins: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com)
[18:10:17] *** ChanServ sets mode: +o pcwalton
[18:12:15] <lbergstrom> tjc: for your question about rustpkg having a flag to automatically check out dependencies into src/, I'm not a huge fan personally for servo
[18:12:29] <pcwalton> gonna be trying to land stuff today
[18:12:44] <lbergstrom> we have to make PRs for them so the thing we list in the dependency (to the mozilla-servo version) is not the one we edit (our local fork)
[18:12:55] * pcwalton writes "got doff" instead of "git diff" a lot
[18:14:32] <tjc> lbergstrom: hmm
[18:14:45] <tjc> lbergstrom: So you would prefer to manually copy things to the location of your local fork?
[18:16:18] <lbergstrom> tjc: yes, I would
[18:16:19] <lbergstrom> tjc: I am going to have to do a bunch of git magic anyway as soon as I want to land the changes, since I can't (or shouldn't, by convention) push changes to stuff like rust-azure directly to the place we are pulling from
[18:16:26] <tjc> lbergstrom: Okay, noted
[18:16:31] <lbergstrom> tjc: but it's probably worth asking jack as well post-summit
[18:16:42] <tjc> lbergstrom: Or during the summit, he'll be in the same place as me :-)
[18:17:20] <lbergstrom> tjc: wasn't that one of the "5 non-success factors for attending the summit": talking to people you know? :-)
[18:17:35] <tjc> lbergstrom: hahaha
[18:17:38] <tjc> where was this list? I didn't read it
[18:17:49] <tjc> also I like "non-success"
[18:17:55] <tjc> let's rename the fail!() macro to non-succeed!() ;-)
[18:18:17] <kmc> pcwalton: cool, I'm available to review
[18:18:26] <pcwalton> it's blocked by a rust patch
[18:18:37] *** Joins: heather (heather@moz-A0276582.hsd1.ca.comcast.net)
[18:20:31] *** Quits: heather (heather@moz-A0276582.hsd1.ca.comcast.net) (Ping timeout)
[18:21:17] *** Quits: dbaron (dbaron@moz-BE33DA21.fw1.sfo1.mozilla.net) (Quit: 8403864 bytes have been tenured, next gc will be global.)
[18:27:02] *** Joins: timot_ (timot@moz-4DC1FDA.bredband.tre.se)
[18:27:06] *** Joins: dbaron (dbaron@moz-BE33DA21.fw1.sfo1.mozilla.net)
[18:27:28] *** Quits: timot (timot@moz-D037EF70.cust.tele2.se) (Ping timeout)
[18:28:29] <SimonSapin> Should I be matching selectors against Element, Node, or AbstractNode?
[18:29:02] <annevk> SimonSapin: AbstractElement?
[18:29:16] <pcwalton> I would assume AbstractNode
[18:30:17] <annevk> Selectors is a function of matching against an Element in a tree of Elements and returning a boolean
[18:30:48] <SimonSapin> annevk: I know that, I mean in Servoâ€™s implementation
[18:31:03] <annevk> The element does not necessarily have to be a DOM Element node... although I guess WebVTT might have gone a different direction now
[18:31:14] <annevk> SimonSapin: sure
[18:31:24] <SimonSapin> I want elements, but the way to traverse the tree seems to be on AbstractNode
[18:31:27] <Ms2ger> This Abstract crap really ducks
[18:31:31] <Ms2ger> Ducks, eh
[18:31:34] <Ms2ger> Sucks, too
[18:32:57] *** Quits: timot_ (timot@moz-4DC1FDA.bredband.tre.se) (Ping timeout)
[18:33:18] <SimonSapin> is an elementâ€™s parent node (if any) always an element?
[18:33:24] <SimonSapin> or are there document nodes?
[18:34:54] <Ms2ger> There are document nodes, yes
[18:35:21] <Ms2ger> Could also be a DocumentFragment, depending on the case
[18:35:39] *** Joins: timot_ (timot@moz-D037EF70.cust.tele2.se)
[18:36:16] <SimonSapin> so :root is (roughly) `element.parent.type_id() != ElementType` ?
[18:36:38] *** Quits: lbergstrom (Adium@moz-5D8E4B14.lightspeed.cicril.sbcglobal.net) (Input/output error)
[18:36:43] *** Joins: lbergstrom (Adium@moz-5D8E4B14.lightspeed.cicril.sbcglobal.net)
[18:37:22] *** Quits: Kostic (marko@C4D4CB5C.58A2DD99.2168A69F.IP) (Ping timeout)
[18:37:44] <Ms2ger> What does the spec say?
[18:37:53] *** Joins: mihneadb (mihneadb@moz-913E7D88.residential.rdsnet.ro)
[18:38:57] <SimonSapin> Does Servoâ€™s script::dom::node::Node tree have the same shape is what the DOM spec describes?
[18:39:30] <Ms2ger> I hope so
[18:40:02] *** Joins: timot (timot@moz-4DC1FDA.bredband.tre.se)
[18:40:32] *** Quits: timot_ (timot@moz-D037EF70.cust.tele2.se) (Ping timeout)
[18:42:49] *** Quits: timot (timot@moz-4DC1FDA.bredband.tre.se) (Ping timeout)
[18:44:17] *** Joins: eholk (eholk@moz-BA312F07.crest.iu.edu)
[18:45:21] *** Joins: timot (timot@moz-4DC1FDA.bredband.tre.se)
[18:51:52] *** Quits: mihneadb (mihneadb@moz-913E7D88.residential.rdsnet.ro) (Input/output error)
[18:52:20] *** Joins: mihneadb (mihneadb@moz-913E7D88.residential.rdsnet.ro)
[18:54:02] *** Quits: mihneadb (mihneadb@moz-913E7D88.residential.rdsnet.ro) (Ping timeout)
[18:57:29] *** Joins: tikue_ (tikue_star@ABF748F2.CD72397.689607DE.IP)
[18:58:55] <jdm> SimonSapin: can you be more specific?
[18:59:03] *** Joins: mihneadb (mihneadb@moz-913E7D88.residential.rdsnet.ro)
[18:59:05] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[19:00:13] <SimonSapin> jdm: does the root element have a parent_node? Would the DOM spec answer this?
[19:00:43] <jdm> it's complicated by the fact that Document is not a Node in Servo right now
[19:01:04] <jdm> when that changes, the root element should have a parent
[19:02:24] <kmc> in theory, Node is the superclass of everything and Element are the "real" HTML nodes (excluding text, doctype, etc)?
[19:02:57] <SimonSapin> jdm: so if I want to iterate ancestor elements, I should check for both parent_node == None and parent_node == Some(not an element)
[19:03:50] * jdm feels like we already have ancestor element traversal somewhere
[19:04:17] <jdm> 608:    pub fn nearest_ancestor_element(&self) -> AbstractNode<LayoutView> {
[19:05:03] <jdm> SimonSapin: but yes, that should suffice I guess
[19:05:19] <jdm> https://pastebin.mozilla.org/3177969
[19:05:22] <jdm> why am I getting this error :(
[19:05:31] *** Quits: mihneadb (mihneadb@moz-913E7D88.residential.rdsnet.ro) (Input/output error)
[19:06:46] <SimonSapin> oh, thatâ€™s in the main crate
[19:07:27] <SimonSapin> and not quite what Iâ€™m looking for
[19:07:40] <SimonSapin> but Iâ€™ll do something similar, thanks
[19:13:33] <bz> kmc: Node is elements, text, comments, documents, document fragments
[19:13:39] <bz> kmc: anything that can be in a DOM tree
[19:14:02] <bz> kmc: Element is the things that go in angle brackets in XML (except CDATA sections)
[19:14:14] <bz> kmc: HTMLElement is actual HTML elements.  ;)
[19:14:28] <kmc> okay
[19:14:48] <kmc> in a HTML document, what goes in angle brackets besides HTML elements? unknown tags?
[19:14:58] <bz> SVG elements
[19:15:00] <bz> mathml elements
[19:15:09] <bz> in an HTML document (text/html) unknown tags are also considered HTML elements
[19:15:25] <bz> So if you do <foopy> you get an object implementing the HTMLUnknownElement interface
[19:15:28] *** Quits: jet (jet@moz-79F891EE.hsd1.ca.comcast.net) (Quit: jet)
[19:15:45] <kmc> ok
[19:15:54] <bz> But if you do: <div><svg><rect/></svg></div>
[19:15:56] *** Quits: bholley (anonymous@moz-D5EB36E2.rev.numericable.fr) (Quit: bholley)
[19:16:08] <bz> that has an HTMLDivElement, then an SVGSVGElement inside it, and an SVGRectElement inside that
[19:16:29] <bz> I mean, technically comments are inside angle brackets too.  ;)
[19:16:47] <bz> Defining what makes for an "element" without just bottoming out in the parsing algorithm is hard.
[19:17:04] <kmc> it's pretty weird to me that comments end up in the DOM tree... seems contrary to the idea of a comment ;)
[19:17:20] <bz> Heh
[19:17:32] <bz> It's even weirder that processing instructions do!
[19:17:34] <bz> in some ways
[19:17:43] <bz> (but XML declarations don't, say)
[19:18:05] <bz> But historically they kinda had to, because this:
[19:18:12] <bz> <style><!--
[19:18:14] *** Joins: jet (jet@moz-79F891EE.hsd1.ca.comcast.net)
[19:18:16] <bz> div { color: red; }
[19:18:18] <bz> --></style>
[19:18:20] <bz> Needs to work.
[19:18:25] <kmc> ah right
[19:18:26] *** Joins: timot_ (timot@moz-7088860C.bredband.tre.se)
[19:18:28] *** Quits: jet (jet@moz-79F891EE.hsd1.ca.comcast.net) (Quit: jet)
[19:18:28] <bz> And color divs red.
[19:18:45] *** Quits: timot (timot@moz-4DC1FDA.bredband.tre.se) (Ping timeout)
[19:19:08] * bz will be back
[19:19:11] *** bz is now known as bz_away
[19:22:20] *** Quits: tjc (tjc@moz-7B0110AD.mv.mozilla.com) (Ping timeout)
[19:26:27] *** Joins: tjc (tjc@moz-BBE3ABD.mv.mozilla.com)
[19:26:27] *** ChanServ sets mode: +o tjc
[19:28:44] *** Quits: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com) (Quit: brendan)
[19:32:33] *** Joins: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com)
[19:44:22] *** Joins: heather (heather@moz-A0276582.hsd1.ca.comcast.net)
[19:46:45] *** Quits: tjc (tjc@moz-BBE3ABD.mv.mozilla.com) (Quit: zzzzzzzzzz)
[19:58:25] *** Joins: Kostic (marko@moz-9735382A.mbb.telenor.rs)
[20:07:43] *** Quits: bz_away (bzbarsky@moz-EA9A3995.bstnma.fios.verizon.net) (Ping timeout)
[20:08:51] *** Joins: bholley (anonymous@moz-D5EB36E2.rev.numericable.fr)
[20:18:01] *** Quits: dbaron (dbaron@moz-BE33DA21.fw1.sfo1.mozilla.net) (Quit: 8403864 bytes have been tenured, next gc will be global.)
[20:18:43] *** Joins: jet (jet@moz-BE33DA21.fw1.sfo1.mozilla.net)
[20:22:27] *** Quits: nielsle (nielsle@moz-5CE8ECCD.boa.fiberby.dk) (Ping timeout)
[20:23:49] *** Quits: Ms2ger (Ms2ger@moz-2F2A356D.adsl-dyn.isp.belgacom.be) (Quit: nn)
[20:24:34] *** Joins: tjc (tjc@moz-7B0110AD.mv.mozilla.com)
[20:24:34] *** ChanServ sets mode: +o tjc
[20:40:52] *** Joins: nielsle (nielsle@moz-5CE8ECCD.boa.fiberby.dk)
[20:40:55] <kmc> SimonSapin: I can review your style system PR if nobody else is doing it
[20:41:19] <SimonSapin> kmc: Iâ€™m not aware of anyone else doing it, go ahead :)
[20:46:59] *** Joins: jensnockert (jensnocker@moz-C5F27039.cust.bredband2.com)
[20:49:44] *** Quits: jensnockert (jensnocker@moz-C5F27039.cust.bredband2.com) (Ping timeout)
[20:52:57] *** Quits: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com) (Quit: brendan)
[20:53:00] *** Quits: ahal (ahal@FCCEA34F.7672369.D8E68FF6.IP) (Ping timeout)
[20:55:03] *** Joins: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com)
[20:57:15] *** Joins: jensnockert (jensnocker@moz-C5F27039.cust.bredband2.com)
[21:00:36] *** Quits: Kostic (marko@moz-9735382A.mbb.telenor.rs) (Ping timeout)
[21:01:21] *** Quits: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com) (Quit: brendan)
[21:05:30] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[21:06:56] *** Quits: jensnockert (jensnocker@moz-C5F27039.cust.bredband2.com) (Input/output error)
[21:08:36] *** Quits: jet (jet@moz-BE33DA21.fw1.sfo1.mozilla.net) (Quit: jet)
[21:09:26] *** Joins: vodik (simon@moz-29D35BB8.net.uwaterloo.ca)
[21:10:46] *** Quits: pcwalton (pcwalton@moz-7B0110AD.mv.mozilla.com) (Ping timeout)
[21:11:12] *** Joins: pcwalton (pcwalton@moz-BBE3ABD.mv.mozilla.com)
[21:11:12] *** ChanServ sets mode: +o pcwalton
[21:21:30] *** Joins: jet (jet@moz-BE33DA21.fw1.sfo1.mozilla.net)
[21:22:12] <SimonSapin> Is node.abstract the AbstractNode corresponding to a Node? Why is it an option?
[21:22:18] *** Joins: bz_away (bzbarsky@moz-EA9A3995.bstnma.fios.verizon.net)
[21:24:07] <SimonSapin> There is as_abstract_node, which requires a JSContext ...
[21:25:22] *** Joins: erickt_ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[21:26:10] <brson> jack: can I have your test case where the rust logo freezes?
[21:26:18] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[21:26:30] <jack> brson: one sec
[21:28:01] <jack> brson: https://gist.github.com/metajack/6785390
[21:28:06] <jack> images come from src/test/html
[21:30:21] <pcwalton> does anyone know offhand the last time servo was updated to rust master?
[21:30:55] <jdm> SimonSapin: don't use node.abstract
[21:31:00] <jdm> it's too hard to get right and it's going away
[21:31:33] <SimonSapin> jdm: is there anything written down on how Element, Node, and AbstractNode fit together?
[21:31:41] <jdm> SimonSapin: if there's a DOM method that needs access to the original AbstractNode, you can add the method name to needsAbstract in Bindings.conf
[21:31:49] <jdm> SimonSapin: no, but it's not that difficult
[21:31:59] <jdm> SimonSapin: AbstractNode has a pointer to something that is at least a Node
[21:32:00] * pcwalton would love to refactor to make them traits
[21:32:06] <jack> pcwalton: i have a rust upgrade waiting in teh wings, but i got stuck on the submodule updates for cpu rendering
[21:32:09] <jdm> it might be an Element or any other derivative
[21:32:13] <pcwalton> jack: ok
[21:32:21] <pcwalton> I can maybe do that as part of my patches?
[21:32:24] <pcwalton> since I need the rust upgrade
[21:32:33] <jdm> SimonSapin: all derivatives of Node have Node as the first field so we can cast between them "safely"
[21:32:33] <jack> all my submodule changes got pushed i think, only the servo one is waiting.
[21:33:02] *** Quits: annevk (annevk@moz-44E1DA04.wireless.csail.mit.edu) (Input/output error)
[21:33:27] <SimonSapin> jdm: ok so far
[21:33:28] *** Joins: annevk (annevk@moz-44E1DA04.wireless.csail.mit.edu)
[21:33:43] <jack> pcwalton: i think my servo changes are in this branch: https://github.com/metajack/servo/tree/start-rustpkg
[21:33:46] <pcwalton> ok
[21:34:01] <jack> i'm happy to rebase over your changes. 
[21:34:16] *** Quits: bholley (anonymous@moz-D5EB36E2.rev.numericable.fr) (Quit: bholley)
[21:34:20] <jack> i can just cherry pick the rustpkg stuff out of the branch too.
[21:34:23] *** Quits: vodik (simon@moz-29D35BB8.net.uwaterloo.ca) (Quit: WeeChat 0.4.2-rc2)
[21:34:38] <jack> everything was very mechanical except for one small piece with netsurf callbacks, but that might be in the submodules and not in servo.
[21:35:12] *** Quits: annevk (annevk@moz-44E1DA04.wireless.csail.mit.edu) (Ping timeout)
[21:38:29] <SimonSapin> jdm: so to get an Element from a Node, check .type_id then use std::cast::transmute?
[21:38:47] <jdm> SimonSapin: no. if you only have a Node, you need to get the AbstractNode
[21:39:36] * jdm -> dinner
[21:39:41] <SimonSapin> jdm: how do I do that?
[21:47:14] *** Joins: dbaron (dbaron@moz-BE33DA21.fw1.sfo1.mozilla.net)
[21:47:28] *** Joins: dzbarsky (Adium@76587571.D5562F02.B5C6E82B.IP)
[21:50:32] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[21:52:45] <lbergstrom> brson: on recent servos, you should see the logo freeze (along with most of the computer's UI) and resume again after 1â€“5 seconds
[21:53:24] <lbergstrom> Seems to be related to consuming serious amounts of video ram (you can watch the video ram suddenly drop to a few MB before the freeze and jump back up right after)
[21:54:32] <lbergstrom> reducing the number of buffers we hold onto (by reducing the size of the BufferMap) seems to reduce the pressure but not entirely remove it, so it's not the only thing causing the hiccups
[21:54:45] <pcwalton> I could perhaps look into that
[21:54:50] <pcwalton> once I finish this rebasing
[21:55:00] <pcwalton> use the GL profiler tool on Mac
[21:55:02] <lbergstrom> further, reducing that number of buffers causes us to crash in AzCreateSkiaDrawTargetForFBO with kmc's recent change to remove the AddRef
[21:56:15] <kmc> dang
[21:56:22] <lbergstrom> pcwalton: I'd greatly appreciate another pair of eyes on it - it kills the summit demo and is probably something somebody more skilled with GL profiling than I (I'm using that tool combined with the driver monitor), but there's a lot of output to parse through and I'm just coming up to speed on opengl
[21:57:07] <pcwalton> ok
[21:57:08] <lbergstrom> kmc: your change might be the right one â€” the AddRef could just be countering a missing clone() somewhere in the servo codebase that was supposed to be incrementing the count
[21:57:09] <kmc> so do you think removing the AddRef was incorrect, or did it just reveal another bug elsewhere
[21:57:13] <kmc> *nod*
[21:57:43] *** Quits: dzbarsky (Adium@76587571.D5562F02.B5C6E82B.IP) (Quit: Leaving.)
[21:58:02] <pcwalton> whoa
[21:58:04] <pcwalton> /Users/pwalton/Source/servo/src/components/script/dom/bindings/codegen/ClientRectListBinding.rs:283:14: 283:23 error: mismatched types: expected `*u8` but found `extern "C" extern fn(*js::jsapi::struct_JSFreeOp, *std::libc::types::common::c95::c_void)` (expected *-ptr but found extern fn)
[21:58:16] <pcwalton> jdm: have you seen that? do I need to make clean something?
[21:58:44] <pcwalton> oh, I bet mozjs is out of date
[21:59:48] *** Joins: dherman (dherman@moz-B31C6965.dsl.pltn13.sbcglobal.net)
[21:59:48] *** ChanServ sets mode: +qo dherman dherman
[22:08:42] *** Joins: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com)
[22:19:49] <brson> when I run jack's demo.html servo mostly crashes in proxy_Finalize
[22:20:03] <brson> i mean, it always crashes there, but sometimes it crashes earlier as well
[22:21:44] <jack> oh.
[22:21:51] <jack> you need the document rooting patch
[22:21:59] <jack> or jdm's commit that should have landed earlier
[22:22:06] <jack> basically tracing was broken
[22:22:26] <brson> i do have the tracehook commit
[22:23:01] <brson> maybe i need to rebuild something
[22:23:02] <jack> here's my diff https://gist.github.com/metajack/6786169
[22:23:47] *** Quits: dbaron (dbaron@moz-BE33DA21.fw1.sfo1.mozilla.net) (Quit: 8403864 bytes have been tenured, next gc will be global.)
[22:24:14] *** Joins: dbaron (dbaron@moz-BE33DA21.fw1.sfo1.mozilla.net)
[22:24:39] <brson> how do I force bindings to be regenerated?
[22:25:36] <brson> rm *pkl
[22:25:55] *** Quits: lmandel (lmandel@13F2CEC5.7672369.D8E68FF6.IP) (Quit: lmandel)
[22:26:38] <jdm> brson: or make bindings
[22:26:59] <jdm> SimonSapin: I need more context about your code
[22:28:13] <SimonSapin> jdm: I want to access stuff on Element (tag_name, attrs, etc.) and traverse the tree (iter ancestors, iter previous sibling elements)
[22:28:15] *** Joins: dzbarsky (Adium@76587571.D5562F02.B5C6E82B.IP)
[22:28:45] <jdm> SimonSapin: I need context about what is calling your code
[22:29:01] <jdm> we likely need to pass in an AbstractNode from somewhere
[22:29:22] <SimonSapin> jdm: Iâ€™m making up new APIs, I donâ€™t know really
[22:29:34] <jdm> SimonSapin: do you have a pointer to your repo or something?
[22:29:53] <jdm> you might just need to require that someone passes in an AbstractNode along with a Node or something
[22:30:00] <jdm> or just pass in the AbstractNode and derive the node from that
[22:30:04] <brson> i'm still crashing during GC
[22:31:24] <jdm> brson: make sure you've updated mozjs, rust-mozjs, and servo
[22:31:49] <jdm> to the revisions specified in https://github.com/mozilla/servo/commit/cb826f99202f4539aa46b3fd07fbe557182b085a
[22:32:29] *** Quits: jet (jet@moz-BE33DA21.fw1.sfo1.mozilla.net) (Quit: jet)
[22:35:30] *** Quits: tjc (tjc@moz-7B0110AD.mv.mozilla.com) (Ping timeout)
[22:36:09] <SimonSapin> the main thing the style system does is "give the computed value for a some element"
[22:37:32] <jdm> SimonSapin: I recommend taking an AbstractNode parameter, asserting that node.is_element() is true, and using node.with_element to access the element properties
[22:37:48] <SimonSapin> taking &Element to represent an element seemed natural, but maybe it should take AbstractNode instead
[22:37:53] <jdm> correct
[22:38:25] <SimonSapin> Iâ€™m not quite sure why, but Iâ€™ll try it
[22:38:38] <jdm> well, taking an Element could probably work, as well
[22:38:50] <jdm> but the traversing becomes slightly more difficult
[22:39:00] <jdm> all of our utility methods deal with AbstractNode
[22:39:06] <SimonSapin> is AbstractNode what box generation is manipulating?
[22:39:15] <jdm> yep
[22:39:16] *** Joins: tjc (tjc@moz-BBE3ABD.mv.mozilla.com)
[22:39:16] *** ChanServ sets mode: +o tjc
[22:39:22] <SimonSapin> ok, so that makes sense
[22:44:05] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[22:46:59] *** Joins: rbarker (rbarker@moz-BBE3ABD.mv.mozilla.com)
[22:48:37] *** Joins: ghservo (ghservo@24260B07.6A2AE50.F3114085.IP)
[22:48:37] <ghservo> [13servo] 15brson opened pull request #1002: Run script in its own thread to avoid starving other tasks (06master...06scriptthread)  02http://git.io/6bSDfw
[22:48:37] *** Parts: ghservo (ghservo@24260B07.6A2AE50.F3114085.IP) ()
[22:49:29] *** Joins: dzbarsky1 (Adium@E5216EFC.D5562F02.B5C6E82B.IP)
[22:49:33] *** Quits: dzbarsky (Adium@76587571.D5562F02.B5C6E82B.IP) (Ping timeout)
[22:49:39] <jdm> brson: is there a way to pin a task to a thread so that it will never be stolen?
[22:49:49] <jdm> having the script task migrate between threads will be bad for the JS engine
[22:50:15] <brson> jdm: that patch does so
[22:50:21] <jdm> rockin'
[22:52:20] <lbergstrom> brson: well, I feel like a dummy! very glad you fixed that, as it appears I was completely barking up the wrong tree looking at video card issues
[22:52:38] <kmc> why's it bad for the JS engine?
[22:52:40] *** Joins: ghservo (ghservo@F6EE6DE3.6A2AE50.F3114085.IP)
[22:52:40] <ghservo> 01[13servo01] 15bors-servo pushed 0 new commits to 06auto: 02http://git.io/zJzvuQ
[22:52:40] *** Parts: ghservo (ghservo@F6EE6DE3.6A2AE50.F3114085.IP) ()
[22:52:45] *** Joins: ghservo (ghservo@F6EE6DE3.6A2AE50.F3114085.IP)
[22:52:45] <ghservo> 01[13servo01] 15bors-servo pushed 2 new commits to 06auto: 02http://git.io/vJoIdw
[22:52:45] <ghservo> 13servo/06auto 1438ea000 15Brian Anderson: Run script in its own thread to avoid starving other tasks
[22:52:45] <ghservo> 13servo/06auto 14be5deb2 15bors-servo: auto merge of #1002 : brson/servo/scriptthread, r=jdm...
[22:52:45] *** Parts: ghservo (ghservo@F6EE6DE3.6A2AE50.F3114085.IP) ()
[22:53:12] <jdm> kmc: thread-local storage
[22:53:16] <jdm> assertions about threading
[22:53:17] <jdm> etc.
[22:55:24] <kmc> ok
[22:55:32] *** Joins: bjz_ (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[22:55:45] *** Quits: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[22:58:14] *** Quits: jdm (jdm@7F255D02.1B9223B5.AE2B2F80.IP) (Quit: Lost terminal)
[23:00:21] *** Joins: azita (Azita@moz-BBE3ABD.mv.mozilla.com)
[23:01:23] *** Quits: reyre (reyre@moz-89E9865B.com) (Ping timeout)
[23:03:59] *** Joins: ghservo (ghservo@DE823A67.6A2AE50.F3114085.IP)
[23:03:59] <ghservo> [13servo] 15brson opened issue #1003: Allow SpiderMonkey tasks to participate in work stealing  02http://git.io/qKKaXQ
[23:03:59] *** Parts: ghservo (ghservo@DE823A67.6A2AE50.F3114085.IP) ()
[23:04:12] *** Quits: bjz_ (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Quit: Leaving...)
[23:04:24] *** Quits: eholk (eholk@moz-BA312F07.crest.iu.edu) (Quit: eholk)
[23:04:42] *** Joins: reyre (reyre@moz-89E9865B.com)
[23:10:49] *** Joins: ghservo (ghservo@24260B07.6A2AE50.F3114085.IP)
[23:10:49] <ghservo> 01[13servo01] 15bors-servo merged 06auto into 06master: 02http://git.io/vJoIdw
[23:10:49] *** Parts: ghservo (ghservo@24260B07.6A2AE50.F3114085.IP) ()
[23:10:50] *** Joins: ghservo (ghservo@2EE61FCC.6A2AE50.F3114085.IP)
[23:10:50] <ghservo> [13servo] 15bors-servo closed pull request #1002: Run script in its own thread to avoid starving other tasks (06master...06scriptthread)  02http://git.io/6bSDfw
[23:10:50] *** Parts: ghservo (ghservo@2EE61FCC.6A2AE50.F3114085.IP) ()
[23:13:23] *** Joins: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP)
[23:13:23] <ghservo> 01[13servo01] 15bors-servo pushed 0 new commits to 06auto: 02http://git.io/PlYILw
[23:13:23] *** Parts: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP) ()
[23:13:31] *** Joins: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP)
[23:13:31] <ghservo> 01[13servo01] 15bors-servo pushed 7 new commits to 06auto: 02http://git.io/llbOCw
[23:13:31] <ghservo> 13servo/06auto 14cb340df 15Simon Sapin: Add style structs.
[23:13:31] <ghservo> 13servo/06auto 1496dce99 15Simon Sapin: Handle 'color: currentColor'
[23:13:31] <ghservo> 13servo/06auto 147a70200 15Simon Sapin: Resolve 'unset' to 'initial' or 'inherit' when parsing.
[23:13:32] *** Parts: ghservo (ghservo@1E8607E8.6A2AE50.F3114085.IP) ()
[23:15:44] *** kimundi is now known as zz_kimundi
[23:17:16] *** Joins: eatkinson (eatkinson@moz-392601D4.lightspeed.sntcca.sbcglobal.net)
[23:21:46] <tikue_> hmm, the rust loga still stalls sometimes for me
[23:24:06] *** Joins: victorporof_ (victorporo@16E89FDD.B0D0881A.79933D60.IP)
[23:24:07] *** Quits: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com) (Ping timeout)
[23:24:54] <SimonSapin> kmc: I have more style system stuff coming, do you prefer a separate pull request?
[23:25:02] *** Quits: victorporof (victorporo@16E89FDD.B0D0881A.79933D60.IP) (Ping timeout)
[23:29:41] *** Quits: luisbg (luisbg@moz-E7587DBE.collabora.co.uk) (Ping timeout)
[23:30:16] <kmc> oh bors failed with "src/components/script/style/tests/mod.rs:1: incorrect license"
[23:30:31] <SimonSapin> I get bitten every time I add a new file :)
[23:30:33] <kmc> appending to the existing PR is fine
[23:30:44] <kmc> just make a note if you amend any of the existing commits
[23:32:58] <lbergstrom> tikue_: the rust logo is fine for me now (high-end macbook pro), but summit.html still has the issue for me (though it is also improved). The script task was definitely an issue, but I suspect there is still a problem related to video memory usage.
[23:33:10] <SimonSapin> I now have naive selector matching
[23:33:17] <kmc> \o/ yay
[23:33:26] <SimonSapin> meaning there is a lot of low hanging fruits for optimization
[23:34:04] <kmc> i wonder how quickly we can get it faster than netsurf
[23:34:07] <SimonSapin> also not implementing pseudo-classes other than :not(), but they are easy to add as needed
[23:34:30] <SimonSapin> (pushed to #1001)
[23:34:40] *** Joins: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com)
[23:35:43] *** Quits: eatkinson (eatkinson@moz-392601D4.lightspeed.sntcca.sbcglobal.net) (Quit: eatkinson)
[23:36:05] *** Joins: luisbg (luisbg@moz-E7587DBE.collabora.co.uk)
[23:37:25] *** Quits: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com) (Quit: brendan)
[23:40:14] *** Joins: eatkinson (eatkinson@moz-392601D4.lightspeed.sntcca.sbcglobal.net)
[23:41:06] *** Quits: eatkinson (eatkinson@moz-392601D4.lightspeed.sntcca.sbcglobal.net) (Quit: eatkinson)
[23:44:13] <tikue_> lbergstrom, oh, ok yeah I was looking at summit.html. rust logo works really well now
[23:46:22] *** Joins: jet (jet@moz-BE33DA21.fw1.sfo1.mozilla.net)
[23:46:27] *** Joins: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com)
[23:46:38] *** Quits: azakai (alon@moz-BBE3ABD.mv.mozilla.com) (Quit: Ex-Chat)
[23:47:02] *** Quits: dherman (dherman@moz-B31C6965.dsl.pltn13.sbcglobal.net) (Quit: dherman)
[23:47:43] <kmc> SimonSapin: why do important/normal need to be @-vectors?
[23:48:47] <lbergstrom> tikue_: summit.html looks a bit better if we reduce the size of the buffer_map in the render_task. Little bit jerky, but not as bad
[23:48:50] *** Joins: dherman (dherman@moz-B31C6965.dsl.pltn13.sbcglobal.net)
[23:48:50] *** ChanServ sets mode: +qo dherman dherman
[23:49:02] <lbergstrom> Eventually crash in 0   ???                           	0x00000110f8e51000 0 + 1172406865920
[23:49:02] <lbergstrom> 1   libjs-2b1863329f7b31d9-0.1.dylib	0x0000000110f8dc8f js::NewProxyObject(JSContext*, js::BaseProxyHandler*, JS::Value const&, JSObject*, JSObject*, JSObject*, JSObject*) + 79
[23:49:02] <lbergstrom> 2   libscript-cbe173ed81c9a181-0.1.dylib	0x00000001114e8c3b dom::bindings::codegen::BindingDeclarations::HTMLCollectionBinding::Wrap_::_4c1ac4a0d8afcda5::v0.1 + 1035 (HTMLCollectionBinding.rs:580)
[23:49:42] *** Quits: azita (Azita@moz-BBE3ABD.mv.mozilla.com) (Quit: azita)
[23:58:38] *** Quits: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com) (Quit: brendan)
