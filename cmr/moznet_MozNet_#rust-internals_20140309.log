[00:01:02] <eddyb> #rebasecaturday
[00:01:37] <eddyb> pcwalton gifted me all the conflicts ever
[00:07:21] <eddyb> nmatsakis: sorry I didn't manage to come up with tests today :(
[00:11:32] *** Quits: eddyb (eddy@F8B50789.F33C1089.FB866788.IP) (Ping timeout)
[00:32:44] <strcat> huon: https://github.com/mozilla/rust/pull/12772 r?
[00:32:56] <strcat> I'll do vec_ng -> vec separately
[01:05:42] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Quit: Jesse)
[01:19:52] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[01:21:40] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[01:31:58] *** Joins: ghrust (ghrust@4089EBDC.6A2AE50.F3114085.IP)
[01:31:58] <ghrust> [13rust] 15bors pushed 4 new commits to 06auto: 02http://git.io/62m_UA
[01:31:59] <ghrust> 13rust/06auto 14af7c313 15Luca Bruno: doc: don't refer to 'char' as characters...
[01:31:59] <ghrust> 13rust/06auto 149b3c63b 15Luca Bruno: doc: uniform std::char doc-strings...
[01:31:59] <ghrust> 13rust/06auto 14331f907 15Luca Bruno: doc: add two missing char methods doc-strings...
[01:32:01] *** Parts: ghrust (ghrust@4089EBDC.6A2AE50.F3114085.IP) ()
[01:36:24] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[01:38:19] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[01:46:43] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[01:52:40] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[01:54:13] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Connection reset by peer)
[01:54:29] *** Joins: Jesse_ (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[01:56:27] *** Quits: Jesse_ (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[02:00:25] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[02:06:19] *** Joins: brson (brson@6A848D32.C1B840DD.76F66111.IP)
[02:06:19] *** ChanServ sets mode: +qo brson brson
[02:11:24] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[02:13:19] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[02:41:49] *** Quits: sunfish (chatzilla@moz-42DA0C69.dsl.dynamic.sonic.net) (Ping timeout)
[02:41:55] *** Joins: ghrust (ghrust@B750D19A.6A2AE50.F3114085.IP)
[02:41:55] <ghrust> [13rust] 15bors merged 06auto into 06master: 02http://git.io/62m_UA
[02:41:55] *** Parts: ghrust (ghrust@B750D19A.6A2AE50.F3114085.IP) ()
[02:46:53] *** Joins: ghrust (ghrust@511FAEBD.6A2AE50.F3114085.IP)
[02:46:53] <ghrust> [13rust] 15bors pushed 0 new commits to 06auto: 02http://git.io/wLbstQ
[02:46:53] *** Parts: ghrust (ghrust@511FAEBD.6A2AE50.F3114085.IP) ()
[02:46:54] *** Joins: ghrust (ghrust@B750D19A.6A2AE50.F3114085.IP)
[02:46:54] <ghrust> [13rust] 15bors pushed 4 new commits to 06auto: 02http://git.io/pmARcQ
[02:46:54] <ghrust> 13rust/06auto 14f8e1a9f 15Laurent Bonnans: fs: use an iterative algorithm for 'mkdir_recursive'...
[02:46:54] <ghrust> 13rust/06auto 141518cf9 15Laurent Bonnans: fs: use an iterative algorithm for 'rmdir_recursive'
[02:46:54] <ghrust> 13rust/06auto 14f453677 15Laurent Bonnans: fs: units tests for mkdir_recusive and rmdir_recursive
[02:46:56] *** Parts: ghrust (ghrust@B750D19A.6A2AE50.F3114085.IP) ()
[02:53:26] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[02:55:24] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[02:55:59] *** Joins: lpy (lpy@12172131.F09091A8.1348A864.IP)
[02:56:03] *** Joins: bvssvni (Mibbit@moz-C4579D6F.bb.online.no)
[02:56:48] <huon> acrichto: https://github.com/mozilla/rust/pull/12747 r? last commit
[02:58:18] <huon> acrichto: oh... just noticed the tabs vs. spaces indentation. fixing now.
[02:58:31] <acrichto> huon: hm I'm not sure modifying sundown is a great idea
[02:59:02] <acrichto> we'd have to be sure to keep the change if we ever update sunwodnw
[02:59:07] <acrichto> to hoedown or something like that
[02:59:15] <sfackler> acrichto: does "no_run" seem like an okay name for a thing to make a doc code block compile-only? i.e ```rust,no_run
[02:59:39] <acrichto> sfackler: norun perhaps, following the trend
[02:59:43] <acrichto> although it may be a bad trend
[02:59:55] <sfackler> we do have should_fail as opposed to shouldfail
[03:00:04] <acrichto> ah nvmd
[03:00:08] <acrichto> no_run is cool
[03:00:12] <sfackler> but also notrust!
[03:00:37] *** Quits: lpy (lpy@12172131.F09091A8.1348A864.IP) (Client exited)
[03:00:42] <acrichto> such consistency
[03:00:57] *** Quits: strcat (strcat@moz-61B073BC.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.3)
[03:01:07] <sfackler> I also could have sworn that a no_run-like thing alread existed. Was it in the initial doctest PR you made?
[03:01:08] <huon> acrichto: this seems like it's a fundamental bug with sundown...
[03:01:48] <huon> acrichto: and I would be very disappointed if we were to be forced to use pandoc for the rustdoc documentation itself :(
[03:01:48] <acrichto> huon: I'd rather update wording instead of showing examples then
[03:02:10] <sfackler> huon: can we push the fix upstream?
[03:02:16] <huon> sfackler: upstream is dead
[03:02:28] <huon> acrichto: really?? no examples??
[03:02:30] <acrichto> hoedown is the new "upstream"
[03:02:36] <sfackler> ah
[03:02:42] <acrichto> surely there's a way to do this
[03:03:04] <huon> we could be zero width breaks in the `'s or something ridiculous like that
[03:03:07] <sfackler> can you use the &xxxx; encoding for the ` character?
[03:03:08] <huon> *put
[03:03:18] <huon> sfackler: won't work in a codeblock
[03:03:52] <acrichto> huon: a 4-space indend plus backticks renders correctly
[03:03:56] <sfackler> oh yeah
[03:04:02] <huon> acrichto: but then it gets tested
[03:04:09] <huon> and it's not rust
[03:04:10] <acrichto> huon: # fn main() { /*
[03:04:14] <acrichto> # */ }
[03:04:17] * huon cries
[03:04:22] <huon> ok
[03:04:24] <sfackler> haha
[03:05:13] *** kimundi is now known as zz_kimundi
[03:06:52] *** Joins: ghrust (ghrust@38D6F008.6A2AE50.F3114085.IP)
[03:06:52] <ghrust> [13rust] 15bors 04force-pushed 06auto from 144c2ce3b to 14e1681df: 02http://git.io/N3iJvQ
[03:06:52] *** Parts: ghrust (ghrust@38D6F008.6A2AE50.F3114085.IP) ()
[03:07:17] <sfackler> acrichto: are you okay with changing notrust to not_rust while I'm messing around in rustdoc?
[03:07:54] <acrichto> sure
[03:08:37] * huon likes 'no trust'
[03:09:54] <huon> acrichto: doesn't work...
[03:09:58] <sfackler> s.contains("ignore") || s.contains("not_rust") || s.contains("no_trust")
[03:09:59] <sfackler> there!
[03:10:03] <huon> they're still syntax highlighted
[03:10:12] <huon> and that ignores # lines
[03:10:22] <huon> so it's trying to highlight `'s
[03:10:33] <huon> and that's a lexing failure
[03:10:55] <huon> sfackler: <3
[03:13:11] <huon> acrichto: oooh, hack solution: have it `/** <code example> */ # fn foo() {}` so the /**'s are still visible
[03:14:11] <acrichto> cool
[03:16:35] <huon> btw, why can't we upgrade to hoedown atm?
[03:16:53] <acrichto> we could, we just don't have much reason to
[03:17:00] <acrichto> there's nothing holding us back
[03:19:08] <huon> r? https://github.com/mozilla/rust/pull/12747
[03:20:19] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[03:22:26] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[03:23:59] <huon> acrichto: looking at hoedown now, it's done pretty much exactly the same patch I did: https://github.com/hoedown/hoedown/blob/master/src/document.c#L1354
[03:24:05] <huon> modulo variable names :P
[03:25:40] <acrichto> hm, that's a pretty legit reason to upgrade to hoedown instead of using sundown
[03:25:58] * huon files a bug
[03:26:03] *** Quits: nanotech (nanotech@moz-DD3580FD.members.linode.com) (Quit: ZNC - http://znc.in)
[03:28:39] <huon> https://github.com/mozilla/rust/issues/12776
[03:29:28] <huon> rusti: let proc = ();
[03:29:28] -rusti- <anon>:10:13: 10:17 error: found `proc` in ident position
[03:29:28] -rusti- <anon>:10         let proc = ();
[03:29:28] -rusti-                       ^~~~
[03:29:28] -rusti- error: aborting due to previous error
[03:29:28] -rusti- application terminated with error code 101
[03:29:31] <huon> acrichto: ^
[03:29:49] <acrichto> huon: ?
[03:29:53] <acrichto> seems different from the ambiguity
[03:30:48] <huon> acrichto: `proc: foo` can never be a variable+type declaration, because `proc` can't ever appear there
[03:31:06] <acrichto> semantically, yes, but parser-wise, it's still an ambiguity
[03:32:32] <huon> 'proc' isn't a valid pattern, and so the `function_argument := pattern ':' type` production isn't satisfied
[03:32:48] <huon> i.e. as soon as the parse sees `proc` it knows it's not parsing a pattern
[03:32:57] <acrichto> proc is an ident, so it's a valid pattern?
[03:33:04] <huon> no, it's not an ident
[03:33:12] <acrichto> as a token it's an ident
[03:33:18] <acrichto> this is a legit but I encountered
[03:33:22] <acrichto> our parser may need fixing
[03:33:29] <acrichto> but it is a current bug nonetheless
[03:33:37] <huon> rusti: fn foo(proc: int) {}
[03:33:38] -rusti- <anon>:10:16: 10:20 error: found `proc` in ident position
[03:33:38] -rusti- <anon>:10         fn foo(proc: int) {}
[03:33:38] -rusti-                          ^~~~
[03:33:38] -rusti- error: aborting due to previous error
[03:33:38] -rusti- application terminated with error code 101
[03:33:48] <huon> rusti: proc(proc: int) {}
[03:33:48] -rusti- <anon>:10:14: 10:18 error: found `proc` in ident position
[03:33:49] -rusti- <anon>:10         proc(proc: int) {}
[03:33:49] -rusti-                        ^~~~
[03:33:49] -rusti- error: aborting due to previous error
[03:33:49] -rusti- application terminated with error code 101
[03:33:49] <acrichto> yes, that's the bug
[03:34:04] <acrichto> proc(proc:Send())
[03:34:05] <huon> but.. those errors are correct?
[03:34:05] <acrichto> that's valid syntax
[03:34:14] <acrichto> when specifying bounds
[03:34:15] <huon> does it parse with your patch?
[03:34:18] <acrichto> no
[03:34:25] <acrichto> you have to do _: proc:Send()
[03:34:34] <huon> oh, I see
[03:34:39] * huon now understands
[03:34:54] <acrichto> it is kinda obscure...
[03:34:58] <acrichto> but it seems quite unfortunate
[03:34:59] <huon> yeah, I guess that is it just needing fixing so that `proc(proc` => parse internals as a type
[03:35:41] <huon> rusti: let _: |a: int|;
[03:35:44] -rusti- ()
[03:35:48] <huon> weird
[03:35:55] <huon> I guess that makes sense though...
[03:39:41] *** Joins: nanotech (nanotech@moz-DD3580FD.members.linode.com)
[03:45:01] <sfackler> acrichto: r? https://github.com/mozilla/rust/pull/12777
[03:46:25] <huon> rusti: trait Trait {} let _: |&Trait:Send|;
[03:46:26] -rusti- <anon>:10:39: 10:43 error: reference to trait `Send` where a type is expected; try `@Send`, `~Send`, or `&Send`
[03:46:27] -rusti- <anon>:10         trait Trait {} let _: |&Trait:Send|;
[03:46:27] -rusti-                                                 ^~~~
[03:46:27] -rusti- error: aborting due to previous error
[03:46:28] <huon> acrichto: ^
[03:46:29] -rusti- application terminated with error code 101
[03:46:51] *** Joins: lpy (lpy@7360AA58.F09091A8.1348A864.IP)
[03:47:01] <acrichto> hm, that's distrubing
[03:47:09] <acrichto> I will open a full issue
[03:48:08] *** Quits: gwty (gwtypc@8CA05C65.5C2F1574.BD94A9D5.IP) (Ping timeout)
[03:49:20] *** Joins: BRANDIE988 (BRANDIE988@moz-B9877666.pools.arcor-ip.net)
[03:50:05] <huon> eh... the rustdoc crate is stamping on the rustdoc.md testing rule
[03:50:26] <huon> acrichto: can I change `make check-stage2-doc-std` to `check-stage2-doc-crate-std`?
[03:51:11] <acrichto> sure
[03:51:12] <BRANDIE988> appraise excalibur online competition:     http://ow.ly/tZz0c
[03:51:22] *** Quits: BRANDIE988 (BRANDIE988@moz-B9877666.pools.arcor-ip.net) (Client exited)
[03:51:53] *** Quits: zz_kimundi (kimundi@moz-DCDD522C.dip0.t-ipconnect.de) (Ping timeout)
[03:53:26] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[03:54:47] <sfackler> ack, why is deriving(Eq) looking for an Eq impl for a phantom parameter
[03:54:52] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Connection reset by peer)
[03:55:13] *** Joins: Jesse_ (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[03:55:18] <acrichto> sfackler: https://github.com/mozilla/rust/issues/7671
[03:55:46] *** Joins: zz_kimundi (kimundi@moz-2289D570.dip0.t-ipconnect.de)
[03:55:48] *** zz_kimundi is now known as kimundi
[03:57:10] *** Quits: Jesse_ (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[04:02:15] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Connection reset by peer)
[04:16:51] *** Joins: ghrust (ghrust@2DCF43EA.6A2AE50.F3114085.IP)
[04:16:51] <ghrust> [13rust] 15bors merged 06auto into 06master: 02http://git.io/eib0SA
[04:16:51] *** Parts: ghrust (ghrust@2DCF43EA.6A2AE50.F3114085.IP) ()
[04:20:44] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Client exited)
[04:21:06] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[04:21:49] *** Joins: ghrust (ghrust@5AC7F92B.6A2AE50.F3114085.IP)
[04:21:49] <ghrust> [13rust] 15bors pushed 0 new commits to 06auto: 02http://git.io/nSPWeg
[04:21:49] *** Parts: ghrust (ghrust@5AC7F92B.6A2AE50.F3114085.IP) ()
[04:21:50] *** Joins: ghrust (ghrust@88C0CBA2.6A2AE50.F3114085.IP)
[04:21:50] <ghrust> [13rust] 15bors pushed 10 new commits to 06auto: 02http://git.io/cSq_6Q
[04:21:50] <ghrust> 13rust/06auto 14b5f9e28 15Huon Wilson: rustdoc: run on plain Markdown files....
[04:21:50] <ghrust> 13rust/06auto 147c701fa 15Huon Wilson: rustdoc: add table-of-contents recording & rendering, use it with plain...
[04:21:50] <ghrust> 13rust/06auto 14469a2af 15Huon Wilson: rustdoc: hardcode each header as a link....
[04:21:52] *** Parts: ghrust (ghrust@88C0CBA2.6A2AE50.F3114085.IP) ()
[04:22:48] *** Quits: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp) (Ping timeout)
[04:27:58] *** Quits: bvssvni (Mibbit@moz-C4579D6F.bb.online.no) (Quit: http://www.mibbit.com ajax IRC Client)
[04:30:06] <huon> cmr: ping
[04:43:15] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[04:45:15] *** Quits: luz (lu.cy@moz-CD18B14B.customer.cdi.no) (Quit: 04‚Üê)
[04:47:14] *** Quits: rustilite (rustilite@moz-61B073BC.cpe.net.cable.rogers.com) (Ping timeout)
[04:47:47] <huon> huh? http://buildbot.rust-lang.org/builders/auto-linux-64-nopt-t/builds/3738/steps/compile/logs/stdio
[04:47:55] *** Quits: rusti (rusti@moz-61B073BC.cpe.net.cable.rogers.com) (Ping timeout)
[04:47:56] <huon> This is pdfTeX, Version 3.1415926-1.40.10 (TeX Live 2009/Debian)
[04:47:56] <huon> entering extended mode
[04:47:57] <huon> make: *** [doc/guide-tasks.pdf] Error 1
[04:47:57] <huon> program finished with exit code 2
[04:48:05] <huon> no information at all :/
[04:49:23] *** Joins: luz (lu.cy@moz-586CCE3D.pw)
[04:50:06] <sfackler> sounds like pdfTeX
[04:51:54] *** Joins: ghrust (ghrust@511FAEBD.6A2AE50.F3114085.IP)
[04:51:54] <ghrust> [13rust] 15bors 04force-pushed 06auto from 14e599dbb to 145f64adc: 02http://git.io/N3iJvQ
[04:51:54] *** Parts: ghrust (ghrust@511FAEBD.6A2AE50.F3114085.IP) ()
[04:53:26] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[04:55:21] *** Quits: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net) (Ping timeout)
[04:57:31] <huon> r? https://github.com/mozilla/rust/pull/12747 (last commit)
[04:58:14] *** Joins: luziie (luziie@moz-CD18B14B.customer.cdi.no)
[04:59:12] <sfackler> ack, glob imports that redefine Reader are evil
[04:59:33] <huon> s/that redefine Reader //
[05:00:33] <sfackler> huon: I think that span error I saw earlier is just the fact that the span attached to an EOF token is bogus. Does that seem right?
[05:00:52] <huon> I've got no idea
[05:01:13] <huon> there is an open PR adjusting spans, I think
[05:01:18] <huon> (or maybe it landed?)
[05:01:32] <huon> acrichto: r? https://github.com/mozilla/rust/pull/12747 (last commit)
[05:04:28] *** Quits: blank_name (blank_name@2C5A9B5B.E6D3F868.537E532E.IP) (Connection reset by peer)
[05:08:21] *** Joins: blank_name (blank_name@2C5A9B5B.E6D3F868.537E532E.IP)
[05:13:45] *** Quits: isaacd (quassel@moz-6902374D.dhcp.oxfr.ma.charter.com) (Input/output error)
[05:17:57] *** Joins: Jesse (jruderman@moz-9754CB0.hsd1.ca.comcast.net)
[05:18:10] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[05:21:10] *** Joins: erickt__ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[05:23:15] *** Quits: erickt__ (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[05:25:40] <cmr> huon: pong.
[05:26:17] <huon> cmr: just wondering about HDD status?
[05:26:26] <cmr> in the mail.
[05:26:38] <cmr> I actually meant to pick it up today :( but forgot :(
[05:28:06] <huon> okay
[05:32:22] *** Joins: edwardw (edwardw@655F78EA.BF27AFA4.B9C6B12A.IP)
[05:36:05] *** Quits: luziie (luziie@moz-CD18B14B.customer.cdi.no) (Connection reset by peer)
[05:37:20] *** Joins: luziie (luziie@moz-CD18B14B.customer.cdi.no)
[05:38:03] *** Quits: luziie (luziie@moz-CD18B14B.customer.cdi.no) (Connection reset by peer)
[05:38:47] *** Joins: luziie (luziie@moz-CD18B14B.customer.cdi.no)
[06:01:54] *** Joins: ghrust (ghrust@99CAE845.6A2AE50.F3114085.IP)
[06:01:54] <ghrust> [13rust] 15bors merged 06auto into 06master: 02http://git.io/CsHWTg
[06:01:54] *** Parts: ghrust (ghrust@99CAE845.6A2AE50.F3114085.IP) ()
[06:06:50] *** Joins: ghrust (ghrust@4BC7FFDD.6A2AE50.F3114085.IP)
[06:06:50] <ghrust> [13rust] 15bors pushed 0 new commits to 06auto: 02http://git.io/x4Rt2g
[06:06:50] *** Parts: ghrust (ghrust@4BC7FFDD.6A2AE50.F3114085.IP) ()
[06:06:52] *** Joins: ghrust (ghrust@38D6F008.6A2AE50.F3114085.IP)
[06:06:52] <ghrust> [13rust] 15bors pushed 11 new commits to 06auto: 02http://git.io/cUNd_w
[06:06:52] <ghrust> 13rust/06auto 14b5f9e28 15Huon Wilson: rustdoc: run on plain Markdown files....
[06:06:52] <ghrust> 13rust/06auto 147c701fa 15Huon Wilson: rustdoc: add table-of-contents recording & rendering, use it with plain...
[06:06:52] <ghrust> 13rust/06auto 14469a2af 15Huon Wilson: rustdoc: hardcode each header as a link....
[06:06:54] *** Parts: ghrust (ghrust@38D6F008.6A2AE50.F3114085.IP) ()
[06:08:40] <sfackler> huon: no! I was hoping that my PR would merge before that one so I wouldn't have to update it :P
[06:09:28] <huon> sfackler: I'm gonna be forced to cancel your builds if mine fails again :P
[06:09:50] *** Quits: lpy (lpy@7360AA58.F09091A8.1348A864.IP) (Connection reset by peer)
[06:09:57] *** Joins: lpy_ (lpy@7360AA58.F09091A8.1348A864.IP)
[06:10:05] <sfackler> :C
[06:15:10] *** Joins: rusti (rusti@moz-61B073BC.cpe.net.cable.rogers.com)
[06:15:15] *** Joins: rustilite (rustilite@moz-61B073BC.cpe.net.cable.rogers.com)
[06:41:49] *** Joins: ghrust (ghrust@99CAE845.6A2AE50.F3114085.IP)
[06:41:49] <ghrust> [13rust] 15bors pushed 2 new commits to 06auto: 02http://git.io/l9jTmQ
[06:41:49] <ghrust> 13rust/06auto 1471cab04 15Steven Fackler: Add an option to not run rustdoc blocks...
[06:41:49] <ghrust> 13rust/06auto 14e959c87 15bors: auto merge of #12777 : sfackler/rust/no_run, r=alexcrichton...
[06:41:50] *** Parts: ghrust (ghrust@99CAE845.6A2AE50.F3114085.IP) ()
[06:41:58] *** lpy_ is now known as lpy
[06:49:10] *** Quits: Diamond (dick@moz-80556682.ks.ks.cox.net) (Quit: Leaving.)
[06:53:39] *** Quits: edwardw (edwardw@655F78EA.BF27AFA4.B9C6B12A.IP) (Quit: Leaving...)
[06:56:27] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[06:56:30] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Quit: TheHydroImpulse)
[07:01:20] <sfackler> muahaha
[07:08:50] *** Quits: limeburst (me@247D1419.D73964AC.27A8748.IP) (Client exited)
[07:11:23] *** Joins: fufurr (ghiigo@489966C3.9E7AC4F9.C329A229.IP)
[07:11:25] <fufurr> free pc game http://tinyurl.com/pugohby
[07:13:24] *** Quits: fufurr (ghiigo@489966C3.9E7AC4F9.C329A229.IP) (Quit: )
[07:17:50] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[07:21:54] *** Quits: rdgawdzi (rdgawdzi@moz-21D6B3DE.csclub.uwaterloo.ca) (Ping timeout)
[07:22:38] *** Quits: Luqman (laden@moz-AB7945E9.csclub.uwaterloo.ca) (Ping timeout)
[07:22:43] *** Joins: Luqman (laden@moz-AB7945E9.csclub.uwaterloo.ca)
[07:23:31] *** Joins: gwty (gwtypc@EBDF953E.B13196B9.137C914F.IP)
[07:28:00] *** Joins: rdgawdzi (rdgawdzi@moz-21D6B3DE.csclub.uwaterloo.ca)
[07:49:25] *** Joins: Diamond (dick@moz-80556682.ks.ks.cox.net)
[07:51:46] *** Joins: ghrust (ghrust@C95C9FF.6A2AE50.F3114085.IP)
[07:51:46] <ghrust> [13rust] 15bors merged 06auto into 06master: 02http://git.io/l9jTmQ
[07:51:46] *** Parts: ghrust (ghrust@C95C9FF.6A2AE50.F3114085.IP) ()
[07:56:48] *** Joins: ghrust (ghrust@7BEB6F9D.6A2AE50.F3114085.IP)
[07:56:48] <ghrust> [13rust] 15bors pushed 0 new commits to 06auto: 02http://git.io/wDrAaw
[07:56:48] *** Parts: ghrust (ghrust@7BEB6F9D.6A2AE50.F3114085.IP) ()
[07:57:56] <huon> sfackler: :'(
[08:00:47] *** Joins: limeburst (me@247D1419.D73964AC.27A8748.IP)
[08:01:33] <huon> sfackler: and it wasn't even a legitimate failure
[08:01:46] * huon is suspicious
[08:23:37] *** Quits: Diamond (dick@moz-80556682.ks.ks.cox.net) (Quit: Leaving.)
[08:25:40] *** Joins: gimpf (gimpf@moz-529430CF.adsl.highway.telekom.at)
[08:28:34] *** Quits: luziie (luziie@moz-CD18B14B.customer.cdi.no) (Connection reset by peer)
[08:31:42] *** Quits: tca (sid17279@moz-A42E5B7B.irccloud.com) (Ping timeout)
[08:31:42] *** Quits: larsberg (sid16141@moz-A42E5B7B.irccloud.com) (Ping timeout)
[08:32:02] *** Quits: jack (sid19593@moz-A42E5B7B.irccloud.com) (Ping timeout)
[08:45:40] *** Joins: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP)
[08:46:46] *** Joins: ghrust (ghrust@88C0CBA2.6A2AE50.F3114085.IP)
[08:46:46] <ghrust> [13rust] 15bors pushed 11 new commits to 06auto: 02http://git.io/IdkUSQ
[08:46:46] <ghrust> 13rust/06auto 1469b8ef8 15Huon Wilson: rustdoc: run on plain Markdown files....
[08:46:46] <ghrust> 13rust/06auto 14f22c96c 15Huon Wilson: rustdoc: add table-of-contents recording & rendering, use it with plain...
[08:46:46] <ghrust> 13rust/06auto 147a70ec1 15Huon Wilson: rustdoc: hardcode each header as a link....
[08:46:48] *** Parts: ghrust (ghrust@88C0CBA2.6A2AE50.F3114085.IP) ()
[08:57:09] *** Quits: canhtak (canhtak@moz-46C3B4C8.wl.t.ulaval.ca) (Quit: canhtak)
[09:00:34] *** Joins: eddyb (eddy@F8B50789.F33C1089.FB866788.IP)
[09:08:07] *** Quits: luz (lu.cy@moz-586CCE3D.pw) (Quit: 04‚Üê)
[09:08:12] *** Joins: luz (lu.cy@moz-CD18B14B.customer.cdi.no)
[09:22:31] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[09:24:54] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[09:26:11] <eddyb> acrichto: my changes were always conditional on debug info not being output for locals/arguments
[09:26:39] <eddyb> so they don't break anything. but feel free to close the PR until I actually get back to it
[09:29:45] <eddyb> huon: I guess I didn't make it explicit enough: I'm pretty sure the Vec adds a lot and then I can't tell the difference between stage2 with Vec and my patch
[09:29:55] <eddyb> I'll wait on a snapshot and report
[09:30:16] <eddyb> *the Vec change
[09:49:09] <eddyb> nmatsakis: I can implement Out in the library without overhead btw. abusing a struct OutKey<'a> {priv /* some lifetime variance marker */} as a "token of initialization"
[09:51:49] <eddyb> if I thought I could waste an hour getting a prototype working, I would do that
[10:03:21] *** Quits: gwty (gwtypc@EBDF953E.B13196B9.137C914F.IP) (Ping timeout)
[10:05:15] *** Joins: gwty (gwtypc@D42E67D8.4CFE793B.49FF672.IP)
[10:06:43] *** Joins: ghrust (ghrust@49477F7E.6A2AE50.F3114085.IP)
[10:06:43] <ghrust> [13rust] 15bors 04force-pushed 06auto from 14741fc41 to 14e959c87: 02http://git.io/N3iJvQ
[10:06:43] *** Parts: ghrust (ghrust@49477F7E.6A2AE50.F3114085.IP) ()
[10:18:56] *** Quits: gwty (gwtypc@D42E67D8.4CFE793B.49FF672.IP) (Ping timeout)
[10:21:51] *** Joins: doener (doener@moz-C68F600D.unity-media.net)
[10:31:01] <eddyb> a million conflicts in liveness
[10:31:15] * huon doesn't believe that
[10:31:21] <huon> there's not even a million lines :P
[10:31:38] <eddyb> huon: tell pcwalton that
[10:32:15] * huon puts it on the meeting agenda: "inform pcwalton that there are >= 1e6 lines in liveness"
[10:33:02] <eddyb> in other news, I think I can just use a trie in it to prevent exponential memory blowups
[10:35:06] *** Joins: larsberg (sid16141@moz-A42E5B7B.irccloud.com)
[10:35:56] <eddyb> only 3 conflicts left O_O?
[10:50:04] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Connection reset by peer)
[10:50:13] *** Joins: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com)
[10:53:09] *** Joins: tca (sid17279@moz-A42E5B7B.irccloud.com)
[10:53:10] <eddyb> do we have some sort of RefCell unwrapping?
[11:07:35] <eddyb> nevermind I removed @ and RefCell
[11:16:45] *** Joins: ghrust (ghrust@2DCF43EA.6A2AE50.F3114085.IP)
[11:16:45] <ghrust> [13rust] 15bors merged 06auto into 06master: 02http://git.io/udVnPg
[11:16:45] *** Parts: ghrust (ghrust@2DCF43EA.6A2AE50.F3114085.IP) ()
[11:18:06] *** Joins: jack (sid19593@moz-A42E5B7B.irccloud.com)
[11:34:43] <huon> sfackler: ha! I landed it, even with your meddling
[11:34:44] <huon> :P
[11:41:48] <eddyb> inb4 -#[feature(managed_boxes)];
[11:42:07] *** Joins: luziie (luziie@moz-CD18B14B.customer.cdi.no)
[11:42:12] *** Quits: luz (lu.cy@moz-CD18B14B.customer.cdi.no) (Ping timeout)
[11:52:23] *** Joins: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net)
[11:52:23] *** Quits: TheHydroImpulse (TheHydroIm@moz-A9FB1B83.ed.shawcable.net) (Quit: TheHydroImpulse)
[11:55:01] *** Quits: doomlord_ (servitor@moz-99BE89EC.range86-184.btcentralplus.com) (Quit: Leaving)
[11:56:43] *** Joins: ghrust (ghrust@94BD74B8.6A2AE50.F3114085.IP)
[11:56:43] <ghrust> [13rust] 15bors pushed 0 new commits to 06auto: 02http://git.io/Kt3UzA
[11:56:43] *** Parts: ghrust (ghrust@94BD74B8.6A2AE50.F3114085.IP) ()
[11:56:45] *** Joins: ghrust (ghrust@2E45E35D.6A2AE50.F3114085.IP)
[11:56:45] <ghrust> [13rust] 15bors pushed 5 new commits to 06auto: 02http://git.io/x1CQBg
[11:56:45] <ghrust> 13rust/06auto 14cbe6971 15Huon Wilson: std: Move rand to librand....
[11:56:45] <ghrust> 13rust/06auto 14cbff6b5 15Huon Wilson: Remove the dependence of std::io::test on rand....
[11:56:46] <ghrust> 13rust/06auto 1477e7da5 15Huon Wilson: Update users for the std::rand -> librand move.
[11:56:48] *** Parts: ghrust (ghrust@2E45E35D.6A2AE50.F3114085.IP) ()
[12:00:01] <doener> why is bool i8 instead of i1?
[12:00:10] <eddyb> doener: we have an issue for this
[12:00:18] <huon> doener: it's-a-bug
[12:00:43] <huon> although there might be some implementation detail that means it is (or wasn't) possible to be i1
[12:00:45] * huon shrugs
[12:00:55] <huon> *isn't
[12:01:08] <doener> huon: that's the thing I've been aiming for ;-)
[12:01:25] <huon> yeah... find the bug :P
[12:01:31] <eddyb> it's a bit hard because there's a lot of code assuming loading from a *T will yield T
[12:01:34] <doener> 8106
[12:01:38] <doener> not helpful :-p
[12:02:01] <eddyb> doener: treating Rvalue(ByValue) bool datums as i1 should work
[12:02:20] <eddyb> if you ignore that most of trans isn't using Datum yet
[12:02:26] <doener> eddyb: why not ByRef?
[12:02:39] <eddyb> ByRef means the LLVM value is a pointer
[12:02:45] <doener> I know
[12:02:52] <eddyb> you can't have a pointer to a bit
[12:03:07] <eddyb> the clang way (that we may want) is to conver to i1 when loading
[12:03:11] <eddyb> *convert
[12:08:52] <doener> eddyb: is that rust-specific? LLVM doesn't seem to have a problem with i1*
[12:08:58] <eddyb> huh
[12:09:04] <eddyb> how does that work?
[12:09:16] <doener> datalayout enforces that i1 is represented as a byte
[12:09:17] <eddyb> doener: there must be a reason clang doesn't use i1*
[12:09:22] <eddyb> ooooh I see
[12:09:33] <eddyb> that must be newer than the issue itself, methinks
[12:09:34] <doener> I guess because C has no real i1 
[12:09:36] <huon> what's (i1*) + 1 do?
[12:09:46] <eddyb> huon: it's a byte in memory
[12:09:56] <eddyb> that's what the data layout thing means
[12:10:04] <huon> ah, I see
[12:10:06] <huon> cool
[12:10:09] <eddyb> doener: so, uhm... change trans::type_ then?
[12:10:12] <eddyb> and see what happens
[12:10:18] <doener> guess I'll do that
[12:10:40] <eddyb> this might mean we can move enum bool {false, true} in the library
[12:10:51] <eddyb> after we teach ADT this trick
[12:11:34] *** Joins: doomlord_ (servitor@moz-99BE89EC.range86-184.btcentralplus.com)
[12:11:44] *** Quits: doomlord_ (servitor@moz-99BE89EC.range86-184.btcentralplus.com) (Connection reset by peer)
[12:11:45] *** Joins: doomlord__ (servitor@moz-99BE89EC.range86-184.btcentralplus.com)
[12:12:03] <huon> we could remove `if` and `while` just have `match` as the only conditional
[12:13:07] <doener> llvm got a such test that loads/stores i1 in 2008
[12:13:27] <doener> everything from i1 to i256 in fact
[12:13:49] <doener> oh well, let's see what happens with the type change
[12:14:09] <eddyb> doener: I wonder if strcat was misinformed then
[12:14:34] <eddyb> now I feel so silly thinking of all the changes required when we can have i1 pointers
[12:14:52] <huon> what about: https://github.com/mozilla/rust/issues/8106#issuecomment-21723113 ?
[12:15:01] <huon> has that changed in clang?
[12:15:16] <eddyb> "the issue before was that we were also storing them as i1"
[12:15:49] <huon> yes, that's my point: wouldn't i1* be exactly storing them as i1??
[12:15:58] <eddyb> but why was that an issue?
[12:16:08] <eddyb> we're missing context here :/
[12:16:13] <huon> git history dive
[12:16:41] *** Joins: ghrust (ghrust@49477F7E.6A2AE50.F3114085.IP)
[12:16:41] <ghrust> [13rust] 15bors pushed 5 new commits to 06auto: 02http://git.io/QWQxgg
[12:16:41] <ghrust> 13rust/06auto 14cbe6971 15Huon Wilson: std: Move rand to librand....
[12:16:41] <ghrust> 13rust/06auto 143affcea 15Huon Wilson: Remove the dependence of std::io::test on rand....
[12:16:42] <ghrust> 13rust/06auto 14101459b 15Huon Wilson: Update users for the std::rand -> librand move.
[12:16:44] *** Parts: ghrust (ghrust@49477F7E.6A2AE50.F3114085.IP) ()
[12:17:59] <huon> b34f871ddac7bc84366b25c89d0a69926cb069e0
[12:18:15] <huon> aa3aa3b1b2b6d648af35122905d4958ad72377fb
[12:18:41] <huon> i guess the first one is most relevant
[12:19:10] <huon> ... and it has no information about the context :/
[12:20:11] <eddyb> doener: you can check these examples to see if it helps in general https://github.com/mozilla/rust/issues/8106#issuecomment-30406678
[12:20:53] <doener> eddyb: are these still a problem? Maybe strcat's fix to llvm already handled that?
[12:21:08] <eddyb> I should re-check...
[12:21:27] <doener> already on it
[12:21:46] <doener> still broken
[12:23:31] <eddyb> thought so
[12:25:18] * eddyb @ pruning Sunday
[12:32:56] *** Quits: rustilite (rustilite@moz-61B073BC.cpe.net.cable.rogers.com) (Ping timeout)
[12:34:11] *** Joins: rustilite (rustilite@moz-61B073BC.cpe.net.cable.rogers.com)
[12:34:13] <doener> eddyb: both optimized to ret i64 0
[12:34:18] <doener> with bool as i1
[12:36:42] *** Joins: ghrust (ghrust@511FAEBD.6A2AE50.F3114085.IP)
[12:36:42] <ghrust> [13rust] 15bors 04force-pushed 06auto from 14f10749a to 1462f1d68: 02http://git.io/N3iJvQ
[12:36:42] *** Parts: ghrust (ghrust@511FAEBD.6A2AE50.F3114085.IP) ()
[12:36:42] *** Joins: ghrust (ghrust@4BC7FFDD.6A2AE50.F3114085.IP)
[12:36:42] <ghrust> [13rust] 15bors pushed 5 new commits to 06auto: 02http://git.io/MWgo6w
[12:36:42] <ghrust> 13rust/06auto 1432755e9 15Huon Wilson: std: Move rand to librand....
[12:36:42] <ghrust> 13rust/06auto 14e5c25fe 15Huon Wilson: Remove the dependence of std::io::test on rand....
[12:36:43] <ghrust> 13rust/06auto 14491e192 15Huon Wilson: Update users for the std::rand -> librand move.
[12:36:45] *** Parts: ghrust (ghrust@4BC7FFDD.6A2AE50.F3114085.IP) ()
[12:36:47] <eddyb> doener: :D:D
[12:38:03] <eddyb> doener: I wonder what other places benefit from actually having bool short-circuiting being recognized by LLVM
[12:39:53] <doener> I currently wonder why we emit so much "br i1 false, ..."
[12:40:22] <doener> IIRC huon and me fixed that once
[12:40:33] <doener> hm, maybe it's some other place where it pops up now
[12:40:45] <eddyb> doener: we also emit branches to a single match arm
[12:43:03] <eddyb> cmr: so glibc can't drop ~500MB of RAM
[12:43:16] <eddyb> which is bad... and I'm pretty sure I know where some of it is
[12:43:28] <eddyb> the type interner should use a TypedArena
[12:44:04] <eddyb> faster and cleaner than using the heap
[12:45:18] <doener> yay, segfault building std in stage2 :-/
[12:45:51] <eddyb> huh
[12:45:56] <eddyb> RefCell has a set method?
[12:47:50] *** Joins: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP)
[12:58:28] <doener> *sigh* no-opt build doesn't segfault
[13:13:03] *** Quits: jensnockert (jensnocker@moz-9353D75F.e0f8471ae7fa.afb.bredband2.com) (Input/output error)
[13:24:07] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[13:26:29] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[13:26:33] *** Joins: edwardw (edwardw@24D7341C.32602B75.B9C6B12A.IP)
[13:33:47] *** Joins: gwty (gwtypc@E863A5CB.A37514C7.8A00C703.IP)
[13:39:00] <doener> ah, the "br i1 false, ..." stuff is from the 0 check for %
[13:42:53] <eddyb> 15074 lines of IR for #[no_uv];fn main(){}#[start]fn start(_:int, _:**u8)->int{println!("Hello World!");0}
[13:43:06] <eddyb> acrichto: ^^ I was hoping for micro Hello World :/
[13:44:03] <doener> eddyb: std::io::println("Hello World!");
[13:44:30] <eddyb> 15130 lines of IR, even worse
[13:45:26] <doener> eddyb: ah, you're using LTO, right?
[13:45:32] <eddyb> yupp
[13:47:14] <doener> vtables :-/
[13:47:26] <eddyb> but nothing stores to TLS...
[13:47:38] <eddyb> so it should kill all that stuff
[13:48:01] <doener> circular references :-/
[13:48:15] <eddyb> good job, everyone
[13:48:27] <doener> e.g. io::Writer::write_uint is only referenced from a vtable which in turn is only referenced by that function AFAICT
[13:48:46] <eddyb> ugh
[13:48:57] <eddyb> may I suggest moving all the convenience method out of the vtable?
[13:49:11] <eddyb> so the vtable becomes mostly just a write method?
[13:49:14] <eddyb> *methods
[13:49:52] <doener> hm, oh, missed one vtable. The unwinding code 
[14:02:11] *** Quits: Axord (xord@moz-C0D5F15A.lsanca.dsl-w.verizon.net) (Ping timeout)
[14:04:35] *** Joins: Axord (xord@moz-C0D5F15A.lsanca.dsl-w.verizon.net)
[14:07:31] *** Joins: eibwen (kvirc@moz-163297C8.dip0.t-ipconnect.de)
[14:10:59] *** Joins: canhtak (canhtak@moz-46C3B4C8.wl.t.ulaval.ca)
[14:13:28] *** Quits: gwty (gwtypc@E863A5CB.A37514C7.8A00C703.IP) (Ping timeout)
[14:34:36] <eddyb> gaah borrow checker errors are just wrong
[14:34:42] <eddyb> more confusing than useful
[14:35:02] <eddyb> there's no way what they're saying is true
[14:35:45] <eddyb> AH HA
[14:36:22] <eddyb> I needed a method on Foo<'a> to take &'a self instead of &self because a structure was storing &'a Foo<'a>... thanks for nothing, borrowck
[14:40:04] <eddyb> well, no, I should rather disconnect those lifetimes in the structure
[14:40:18] <eddyb> otherwise I have to use &'a mut ExtCtxt *everywhere*
[14:40:28] <eddyb> <'a> even
[14:48:45] *** Quits: lpy (lpy@7360AA58.F09091A8.1348A864.IP) (Ping timeout)
[15:02:25] *** Joins: gwty (gwtypc@E863A5CB.A37514C7.8A00C703.IP)
[15:24:43] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[15:24:55] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[15:27:17] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[15:29:07] *** Joins: jensnockert (jensnocker@moz-EDDEAFC.tbcn.telia.com)
[15:42:14] *** Joins: lpy (lpy@12172131.F09091A8.1348A864.IP)
[16:01:29] <eddyb> regionck is being generous today: error: aborting due to 177 previous errors
[16:06:15] *** Joins: mawuli (mawuli@7178A47A.5A8F9859.DE15C958.IP)
[16:08:42] *** Quits: mawuli (mawuli@7178A47A.5A8F9859.DE15C958.IP) (Ping timeout)
[16:11:23] *** Joins: mawuli (mawuli@7178A47A.5A8F9859.DE15C958.IP)
[16:23:17] *** Joins: isaacd (quassel@moz-6902374D.dhcp.oxfr.ma.charter.com)
[16:28:33] *** Joins: jdm (jdm@moz-AC9499B2.cable.teksavvy.com)
[16:30:51] *** Joins: ssira (ssira@moz-F6206352.kanagawa.ocn.ne.jp)
[16:36:34] *** Joins: intuxicated (intuxicate@A9443CC2.9D1E10BA.3FFBF42F.IP)
[16:46:07] *** Quits: larsberg (sid16141@moz-A42E5B7B.irccloud.com) (Ping timeout)
[16:46:28] *** Quits: jack (sid19593@moz-A42E5B7B.irccloud.com) (Ping timeout)
[16:50:58] *** Joins: larsberg (sid16141@moz-A42E5B7B.irccloud.com)
[16:51:25] *** Quits: Kxepal (Miranda@moz-DA894BAA.pppoe.mtu-net.ru) (Ping timeout)
[16:54:57] <doener> meh, rebuilding LLVM :-/
[16:55:20] *** Joins: Kxepal (Miranda@moz-2F3DCB10.pppoe.mtu-net.ru)
[16:58:59] *** Joins: jack (sid19593@moz-A42E5B7B.irccloud.com)
[17:01:49] <eddyb> what have I done fn ty_str_ctxt<'a>(&'a self) -> tyencode::ctxt<'a, 'a>;
[17:04:27] <kimundi> eddyb: haha
[17:04:39] <eddyb> at least it compiles
[17:04:50] <eddyb> kimundi: so a bunch of stuff has &'a ty::ctxt<'a> now
[17:04:59] <eddyb> but there's a subtle choice there
[17:05:36] <eddyb> I can make the outer structure generic over <'a, 'b> and use &'a ty::ctxt<'b>, to make it usable with &ty::ctxt
[17:05:52] <eddyb> or I can replace functions creating that structure to take &'a ty::ctxt<'a>
[17:05:58] <eddyb> (i.e. to link those two)
[17:06:10] <eddyb> I might have to just make a type alias to have that everywhere
[17:16:49] *** Joins: ghrust (ghrust@4089EBDC.6A2AE50.F3114085.IP)
[17:16:49] <ghrust> [13rust] 15bors 04force-pushed 06auto from 14bc923bf to 1462f1d68: 02http://git.io/N3iJvQ
[17:16:49] *** Parts: ghrust (ghrust@4089EBDC.6A2AE50.F3114085.IP) ()
[17:20:51] *** Quits: mawuli (mawuli@7178A47A.5A8F9859.DE15C958.IP) (Ping timeout)
[17:25:06] *** Joins: mawuli (mawuli@7178A47A.5A8F9859.DE15C958.IP)
[17:25:44] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[17:27:38] *** Quits: lpy (lpy@12172131.F09091A8.1348A864.IP) (Client exited)
[17:28:08] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[17:35:49] *** Quits: jdm (jdm@moz-AC9499B2.cable.teksavvy.com) (Quit: Lost terminal)
[17:40:51] <eddyb> nmatsakis: do you think we should have aliases for patterns like &'a Foo<'a>?
[17:41:16] <eddyb> I've already done type CrateContext<'a> = &'a CrateContext<'a>; out of frustration
[17:41:42] <eddyb> *sigh* now I have to do it for Block as well
[17:49:06] <eddyb> nmatsakis: ooooh this makes trans look nicer :D
[17:49:13] <eddyb> I'll have to turn this into a few PRs
[17:49:35] <eddyb> basically, Block is an anonymous reference to a block, Block<'a> can be returned
[17:49:49] <eddyb> much nicer than &'a Block<'a>
[17:57:05] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Quit: It's a joke, it's all a joke.)
[17:57:48] *** Joins: japaric1 (japaric@C9A6A67A.CBA91732.95AFB88D.IP)
[17:58:01] *** Quits: japaric (japaric@5FC96F56.29721F33.F29ED47E.IP) (Ping timeout)
[17:58:41] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[18:08:19] <eddyb> error: aborting due to 156 previous errors // barely making a dent
[18:16:53] *** Quits: mawuli (mawuli@7178A47A.5A8F9859.DE15C958.IP) (Ping timeout)
[18:23:54] *** Quits: doener (doener@moz-C68F600D.unity-media.net) (Quit: leaving)
[18:31:40] <edwardw> bors auto-linux-64-x-android-t is offline. will it affect the building / merging?
[18:34:01] *** Quits: jensnockert (jensnocker@moz-EDDEAFC.tbcn.telia.com) (Input/output error)
[18:34:29] *** Joins: jensnockert (jensnocker@moz-EDDEAFC.tbcn.telia.com)
[18:36:16] *** Quits: jensnockert (jensnocker@moz-EDDEAFC.tbcn.telia.com) (Ping timeout)
[18:41:38] *** Quits: Meistarin (Nsa@moz-C7E162F6.ca.us.panicbnc.net) (Input/output error)
[18:48:44] *** Joins: jensnockert (jensnocker@moz-EDDEAFC.tbcn.telia.com)
[18:48:59] <eddyb> nmatsakis: ouch, I may have hit a variance stopgap
[18:50:32] *** Joins: Meistarin (Nsa@moz-C7E162F6.ca.us.panicbnc.net)
[18:50:32] *** Quits: Meistarin (Nsa@moz-C7E162F6.ca.us.panicbnc.net) (Max SendQ exceeded)
[18:57:33] *** Joins: Meistarin (Nsa@moz-C7E162F6.ca.us.panicbnc.net)
[18:57:33] *** Quits: Meistarin (Nsa@moz-C7E162F6.ca.us.panicbnc.net) (Max SendQ exceeded)
[19:00:33] *** Joins: Meistarin (Nsa@moz-C7E162F6.ca.us.panicbnc.net)
[19:00:33] *** Quits: Meistarin (Nsa@moz-C7E162F6.ca.us.panicbnc.net) (Max SendQ exceeded)
[19:01:03] *** Joins: Meistarin (Nsa@moz-C7E162F6.ca.us.panicbnc.net)
[19:01:03] *** Quits: Meistarin (Nsa@moz-C7E162F6.ca.us.panicbnc.net) (Max SendQ exceeded)
[19:01:34] *** Joins: Meistarin (Nsa@moz-C7E162F6.ca.us.panicbnc.net)
[19:01:34] *** Quits: Meistarin (Nsa@moz-C7E162F6.ca.us.panicbnc.net) (Max SendQ exceeded)
[19:02:03] *** Joins: Meistarin (Nsa@moz-C7E162F6.ca.us.panicbnc.net)
[19:02:03] *** Quits: Meistarin (Nsa@moz-C7E162F6.ca.us.panicbnc.net) (Max SendQ exceeded)
[19:02:34] *** Joins: Meistarin (Nsa@moz-C7E162F6.ca.us.panicbnc.net)
[19:02:34] *** Quits: Meistarin (Nsa@moz-C7E162F6.ca.us.panicbnc.net) (Max SendQ exceeded)
[19:03:04] *** Joins: Meistarin (Nsa@moz-C7E162F6.ca.us.panicbnc.net)
[19:03:04] *** Quits: Meistarin (Nsa@moz-C7E162F6.ca.us.panicbnc.net) (Max SendQ exceeded)
[19:03:34] *** Joins: Meistarin (Nsa@moz-C7E162F6.ca.us.panicbnc.net)
[19:03:34] *** Quits: Meistarin (Nsa@moz-C7E162F6.ca.us.panicbnc.net) (Max SendQ exceeded)
[19:04:04] *** Joins: Meistarin (Nsa@moz-C7E162F6.ca.us.panicbnc.net)
[19:04:04] *** Quits: Meistarin (Nsa@moz-C7E162F6.ca.us.panicbnc.net) (Max SendQ exceeded)
[19:04:34] *** Joins: Meistarin (Nsa@moz-C7E162F6.ca.us.panicbnc.net)
[19:04:34] *** Quits: Meistarin (Nsa@moz-C7E162F6.ca.us.panicbnc.net) (Max SendQ exceeded)
[19:05:04] *** Joins: Meistarin (Nsa@moz-C7E162F6.ca.us.panicbnc.net)
[19:05:04] *** Quits: Meistarin (Nsa@moz-C7E162F6.ca.us.panicbnc.net) (Max SendQ exceeded)
[19:05:34] *** Joins: Meistarin (Nsa@moz-C7E162F6.ca.us.panicbnc.net)
[19:05:34] *** Quits: Meistarin (Nsa@moz-C7E162F6.ca.us.panicbnc.net) (Max SendQ exceeded)
[19:06:04] *** Joins: Meistarin (Nsa@moz-C7E162F6.ca.us.panicbnc.net)
[19:06:04] *** Quits: Meistarin (Nsa@moz-C7E162F6.ca.us.panicbnc.net) (Max SendQ exceeded)
[19:06:09] *** Quits: isaacd (quassel@moz-6902374D.dhcp.oxfr.ma.charter.com) (Input/output error)
[19:06:34] *** Joins: Meistarin (Nsa@moz-C7E162F6.ca.us.panicbnc.net)
[19:06:34] *** Quits: Meistarin (Nsa@moz-C7E162F6.ca.us.panicbnc.net) (Max SendQ exceeded)
[19:07:04] *** Joins: Meistarin (Nsa@moz-C7E162F6.ca.us.panicbnc.net)
[19:07:04] *** Quits: Meistarin (Nsa@moz-C7E162F6.ca.us.panicbnc.net) (Max SendQ exceeded)
[19:07:34] *** Joins: Meistarin (Nsa@moz-C7E162F6.ca.us.panicbnc.net)
[19:07:34] *** Quits: Meistarin (Nsa@moz-C7E162F6.ca.us.panicbnc.net) (Max SendQ exceeded)
[19:10:15] *** Quits: jensnockert (jensnocker@moz-EDDEAFC.tbcn.telia.com) (Input/output error)
[19:10:49] *** Joins: mawuli (mawuli@moz-A89BBCE.com.gh)
[19:20:33] *** Joins: enix (enix@moz-A50569DD.c3-0.slvr-ubr1.lnh-slvr.md.cable.rcn.com)
[19:26:32] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[19:28:55] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[19:34:48] <eddyb> nmatsakis: gaah I have variance issues :(
[19:34:52] <eddyb> do we not infer variance?
[19:35:08] <eddyb> can I stick markers in something to get more flexibility?
[19:38:42] <eddyb> this doesn't work fn tcx<'a>(&'a self) -> ty::ctxt<'a> { self.tcx }
[19:39:23] *** Quits: japaric1 (japaric@C9A6A67A.CBA91732.95AFB88D.IP) (Ping timeout)
[19:41:28] *** Joins: aatch_ (James@moz-B437F499.pocketrent.com)
[19:41:46] *** aatch_ is now known as aatch
[19:41:55] *** Quits: gwty (gwtypc@E863A5CB.A37514C7.8A00C703.IP) (Connection reset by peer)
[19:46:31] <eddyb> HAH I can reproduce
[19:46:33] <eddyb> rusti: use std::vec_ng::Vec; struct Foo<'a> {x: &'a Vec<&'a int>} trait Bar {fn bar<'b>(&'b self) -> &'b Foo<'b>;} struct Baz<'a> {y: &'a Foo<'a>} impl<'a> Bar for Baz<'a> {fn bar<'b>(&'b self) -> &'b Foo<'b>{self.y}}
[19:46:34] -rusti- pastebinned 11 lines of output: http://sprunge.us/cbiW
[19:46:37] <eddyb> now to fix it
[19:50:14] <eddyb> nmatsakis: I can't use lifetime variance markers to fix this :(
[19:51:04] <eddyb> and another day has passed and #12610 is waiting. such a failure on my side
[19:51:37] <eddyb> hmm, I can fix *some* of it
[19:54:45] <eddyb> nmatsakis: I didn't check for priv/public
[19:55:04] <eddyb> nmatsakis: I'm not even sure I can do that from typeck::check
[19:57:30] <eddyb> nmatsakis: maybe tomorrow I can write those dreaded tests *sigh*. gtg
[19:58:22] <bstrie> eddyb: do you happen to have any rust stickers?
[19:58:28] <eddyb> bstrie: nope
[19:58:44] <bstrie> eddyb: do you know anyone in europe who happens to have any rust stickers? :P
[19:58:48] <eddyb> nope
[19:58:59] *** Quits: rustilite (rustilite@moz-61B073BC.cpe.net.cable.rogers.com) (Client exited)
[19:59:01] *** Quits: rusti (rusti@moz-61B073BC.cpe.net.cable.rogers.com) (Client exited)
[19:59:04] <bstrie> I promised stickers to someone, but mine are all in a location that I won't be at for weeks :P
[19:59:15] <bstrie> and also, of course, the recipient is in europe
[19:59:19] <eddyb> I was really hoping to amaze everyone with chopping a few hundred MBs of RAM off the LLVM flatline... but tough luck with this variance stuff
[19:59:22] <eddyb> bstrie: ahh I see
[20:00:19] <huon> bstrie: flaper87|afk does, iirc
[20:01:34] * eddyb pokes pnkfelix
[20:01:38] <eddyb> he's not even here :(
[20:02:09] * eddyb => bed
[20:03:02] <bstrie> flaper87|afk: I hear you have a cache of rust stickers, and also live in europe. is this true?!
[20:03:37] <kaeso> bstrie: flaper87|afk is in north italy (milan)
[20:05:16] *** Quits: eddyb (eddy@F8B50789.F33C1089.FB866788.IP) (Ping timeout)
[20:06:52] <bstrie> nmatsakis: lots of people saying "fuck you dst" and it took me a moment to realize that they weren't suddenly really mad at rust's type system
[20:07:21] <SiegeLord> Haha
[20:20:40] *** Quits: summerlight (summerligh@327FC32B.2C956A45.501EFF44.IP) (Ping timeout)
[20:26:18] *** Quits: huon (Thunderbir@moz-826BD85A.lns20.syd6.internode.on.net) (Ping timeout)
[20:42:19] *** Quits: edwardw (edwardw@24D7341C.32602B75.B9C6B12A.IP) (Quit: Leaving...)
[21:11:01] *** Quits: zv (zv@moz-955F83E9.hsd1.ca.comcast.net) (Ping timeout)
[21:13:41] *** Joins: strcat (strcat@moz-61B073BC.cpe.net.cable.rogers.com)
[21:27:22] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[21:29:44] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[21:30:54] *** Joins: zv (zv@moz-CF5B1159.lightspeed.sntcca.sbcglobal.net)
[21:41:11] *** Joins: rusti (rusti@moz-61B073BC.cpe.net.cable.rogers.com)
[21:41:18] *** Joins: rustilite (rustilite@moz-61B073BC.cpe.net.cable.rogers.com)
[21:47:41] <brson> acrichto: fyi, i tried converting StdRng to a buffered OSRng and the OSRng is slower
[21:47:48] <brson> need to remember to tell pcwalton that
[21:47:59] <acrichto> brson: by how much?
[21:49:03] <brson> `stdtest rand` went from 58s to 1m4s-1m16s
[21:49:28] <acrichto> hm, so not hugely so
[21:49:44] <brson> we may want to remove the impl of SeedableRng from StdRng
[21:49:51] <brson> OSRng isn't seedable
[21:51:08] <acrichto> it could just ignore it in theory
[21:51:33] *** Quits: zv (zv@moz-CF5B1159.lightspeed.sntcca.sbcglobal.net) (Ping timeout)
[21:52:03] <brson> i'm liking having the benchmarks be scattered amongst the normal test suite
[21:52:06] <sfackler> is it recommended to read straight from /dev/unrandom or read from it to seed another rng?
[21:52:16] <sfackler> *urandom
[21:52:26] <brson> sfackler: some people say to just use /dev/urandom
[21:52:27] <sfackler> reading from /dev/unrandom would probably be bad
[21:53:58] <brson> bbl
[21:58:05] *** Quits: strcat (strcat@moz-61B073BC.cpe.net.cable.rogers.com) (Quit: WeeChat 0.4.3)
[21:58:10] *** Quits: rustilite (rustilite@moz-61B073BC.cpe.net.cable.rogers.com) (Client exited)
[21:58:11] *** Quits: rusti (rusti@moz-61B073BC.cpe.net.cable.rogers.com) (Client exited)
[22:01:31] *** Quits: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP) (Ping timeout)
[22:08:29] *** Quits: brson (brson@6A848D32.C1B840DD.76F66111.IP) (Ping timeout)
[22:09:25] *** Joins: zv (zv@moz-955F83E9.hsd1.ca.comcast.net)
[22:09:50] *** Joins: japaric (japaric@ED0876AA.5160B97E.BFC118EE.IP)
[22:23:53] *** Quits: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net) (Connection reset by peer)
[22:32:13] *** Joins: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP)
[22:32:31] *** Quits: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP) (Connection reset by peer)
[22:35:25] *** Joins: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP)
[22:35:55] *** Quits: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP) (Connection reset by peer)
[22:36:51] *** Joins: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP)
[22:37:04] *** Quits: NiccosSystem (NiccosSyst@AB1AFDE.FC7B0C35.A7597CB6.IP) (Connection reset by peer)
[22:39:41] *** Joins: sunfish (chatzilla@moz-42DA0C69.dsl.dynamic.sonic.net)
[22:53:36] *** Quits: gimpf (gimpf@moz-529430CF.adsl.highway.telekom.at) (Quit: Leaving.)
[22:57:05] *** Joins: japaric1 (japaric@8068DEC.4F37C8B4.BFC118EE.IP)
[22:57:31] *** Quits: japaric (japaric@ED0876AA.5160B97E.BFC118EE.IP) (Connection reset by peer)
[23:00:18] *** Quits: mawuli (mawuli@moz-A89BBCE.com.gh) (Ping timeout)
[23:17:18] *** Joins: rusti (rusti@moz-61B073BC.cpe.net.cable.rogers.com)
[23:17:21] *** Joins: rustilite (rustilite@moz-61B073BC.cpe.net.cable.rogers.com)
[23:20:18] *** Joins: strcat (strcat@moz-61B073BC.cpe.net.cable.rogers.com)
[23:28:10] *** Joins: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP)
[23:30:33] *** Quits: erickt (etryzelaar@8C9ECD8F.3A598286.F12515B4.IP) (Ping timeout)
[23:33:39] *** Quits: eibwen (kvirc@moz-163297C8.dip0.t-ipconnect.de) (Ping timeout)
[23:34:10] *** Joins: SiegeLord (sl@moz-CAF07B4C.hsd1.ma.comcast.net)
[23:37:46] *** Joins: mawuli (mawuli@moz-A89BBCE.com.gh)
[23:46:13] *** Joins: brson (brson@moz-BBE3ABD.mv.mozilla.com)
[23:46:13] *** ChanServ sets mode: +qo brson brson
