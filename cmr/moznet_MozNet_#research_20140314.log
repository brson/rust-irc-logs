[00:01:21] *** Quits: brson (brson@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Ping timeout)
[00:05:19] *** Joins: gal (gal@moz-BBE3ABD.mv.mozilla.com)
[00:05:29] *** Quits: gal (gal@moz-BBE3ABD.mv.mozilla.com) (Quit: gal)
[00:07:06] *** Joins: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu)
[00:14:24] *** Joins: brson (brson@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[00:14:24] *** ChanServ sets mode: +o brson
[00:19:43] *** Quits: gds (user@moz-E3A7B2B5.range86-160.btcentralplus.com) (Quit: ERC Version 5.3 (IRC client for Emacs))
[00:20:47] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[00:20:47] *** ChanServ sets mode: +qo dherman dherman
[00:28:08] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[00:28:12] <nmatsakis> shu: I have that problem sometimes, yes
[00:28:19] <nmatsakis> among many others
[00:33:02] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[00:33:02] *** ChanServ sets mode: +o pcwalton
[00:44:30] *** Quits: mccr9 (mccr8@moz-BBE3ABD.mv.mozilla.com) (Quit: computer sleep)
[00:44:39] *** terrence-flu is now known as terrence-afk
[00:54:22] *** Joins: mccr8 (mccr8@moz-48A4B8F7.dsl.dynamic.sonic.net)
[00:55:33] *** Joins: gal (gal@moz-D6B8E762.hsd1.ca.comcast.net)
[01:03:46] *** Quits: cjones (cjones@moz-45913895.socal.res.rr.com) (Quit: Ex-Chat)
[01:03:48] *** Quits: jj2baile (jon@moz-345B5EBA.csclub.uwaterloo.ca) (Connection reset by peer)
[01:08:15] *** Quits: mccr8 (mccr8@moz-48A4B8F7.dsl.dynamic.sonic.net) (Quit: )
[01:11:28] *** Joins: jj2baile (jon@moz-345B5EBA.csclub.uwaterloo.ca)
[01:33:37] *** Joins: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net)
[01:34:28] *** Quits: gal (gal@moz-D6B8E762.hsd1.ca.comcast.net) (Quit: gal)
[01:37:25] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[01:41:14] *** Quits: brson (brson@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Ping timeout)
[01:42:00] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[01:42:00] *** ChanServ sets mode: +o pcwalton
[01:52:36] *** Quits: sunfish (chatzilla@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Ping timeout)
[02:01:04] *** Quits: brendan (brendaneic@moz-BBE3ABD.mv.mozilla.com) (Quit: brendan)
[02:05:50] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[02:22:27] *** Quits: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu) (Quit: Leaving...)
[02:33:24] *** Quits: mbx (mbebenita@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: mbx)
[02:34:35] *** Quits: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net) (Quit: dherman)
[02:37:59] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[02:37:59] *** ChanServ sets mode: +o pcwalton
[02:38:47] *** Joins: mbx (mbebenita@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[02:39:19] *** Quits: mbx (mbebenita@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: mbx)
[02:43:10] *** Joins: mbx (mbebenita@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[02:43:38] *** Quits: mbx (mbebenita@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: mbx)
[02:44:31] *** Joins: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu)
[02:47:08] *** Quits: mchang (mchang@BE99BE02.84BCE52A.BCAEBB33.IP) (Quit: mchang)
[02:50:28] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[02:50:57] *** Joins: tobytailor (tobytailor@moz-CBD810C7.hsd1.ca.comcast.net)
[03:00:38] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[03:00:38] *** ChanServ sets mode: +o pcwalton
[03:02:51] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[03:07:35] *** Quits: tobytailor (tobytailor@moz-CBD810C7.hsd1.ca.comcast.net) (Quit: tobytailor)
[03:08:16] *** Joins: mbx (mbebenita@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[03:10:11] *** Joins: tobytailor (tobytailor@moz-CBD810C7.hsd1.ca.comcast.net)
[03:13:08] *** Joins: brendan (brendaneic@35E90EE3.B8B12C49.396B22AD.IP)
[03:22:00] *** Quits: azakai|2 (alon@moz-8D0CC798.lightspeed.sntcca.sbcglobal.net) (Ping timeout)
[03:28:09] *** Quits: brendan (brendaneic@35E90EE3.B8B12C49.396B22AD.IP) (Quit: brendan)
[03:30:07] *** Quits: ebryn (sid2895@moz-5F4AA75A.irccloud.com) (Quit: Connection closed for inactivity)
[03:36:48] *** Joins: azakai|2 (alon@moz-8D0CC798.lightspeed.sntcca.sbcglobal.net)
[03:40:48] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[03:40:49] *** ChanServ sets mode: +o pcwalton
[03:40:55] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[03:51:32] *** Quits: mbx (mbebenita@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Quit: mbx)
[03:55:58] *** Joins: brendan (brendaneic@35E90EE3.B8B12C49.396B22AD.IP)
[03:56:15] *** Joins: gal (gal@moz-D6B8E762.hsd1.ca.comcast.net)
[04:03:14] *** Quits: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu) (Client exited)
[04:03:35] *** Joins: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu)
[04:05:27] *** Quits: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu) (Ping timeout)
[04:10:52] *** Joins: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu)
[04:21:26] *** Quits: tobytailor (tobytailor@moz-CBD810C7.hsd1.ca.comcast.net) (Quit: tobytailor)
[04:27:37] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[04:28:53] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[04:41:04] *** Joins: mbx (mbebenita@moz-B45FE61C.hsd1.ca.comcast.net)
[04:41:11] *** Joins: cjones (cjones@moz-45913895.socal.res.rr.com)
[04:42:03] *** Joins: jet (jet@moz-99690620.hinet-ip.hinet.net)
[04:51:15] *** Joins: roc (chatzilla@moz-99690620.hinet-ip.hinet.net)
[05:00:03] *** Quits: jack (sid19593@moz-A42E5B7B.irccloud.com) (Ping timeout)
[05:00:03] *** Quits: system64 (uid17738@moz-A42E5B7B.irccloud.com) (Ping timeout)
[05:01:34] *** Joins: jack (sid19593@moz-A42E5B7B.irccloud.com)
[05:02:57] *** Joins: system64 (uid17738@moz-A42E5B7B.irccloud.com)
[05:12:11] *** Quits: brendan (brendaneic@35E90EE3.B8B12C49.396B22AD.IP) (Quit: brendan)
[05:19:18] *** Joins: tobytailor (tobytailor@moz-CBD810C7.hsd1.ca.comcast.net)
[05:46:29] *** Quits: gal (gal@moz-D6B8E762.hsd1.ca.comcast.net) (Quit: gal)
[05:47:25] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[05:56:00] *** Joins: gal (gal@moz-D6B8E762.hsd1.ca.comcast.net)
[05:58:44] *** Quits: jet (jet@moz-99690620.hinet-ip.hinet.net) (Quit: jet)
[06:35:32] *** Joins: jet (jet@moz-99690620.hinet-ip.hinet.net)
[07:00:45] *** Quits: terrence-afk (terrence@moz-B38D16E9.sb.sd.cox.net) (Ping timeout)
[07:10:50] *** Quits: tobytailor (tobytailor@moz-CBD810C7.hsd1.ca.comcast.net) (Quit: tobytailor)
[07:27:58] *** Quits: gal (gal@moz-D6B8E762.hsd1.ca.comcast.net) (Quit: gal)
[07:28:11] *** Joins: sankha93 (sankha93@7061CD01.D6BD0D91.22D41759.IP)
[07:30:31] *** Quits: cjones (cjones@moz-45913895.socal.res.rr.com) (Quit: Ex-Chat)
[07:30:45] *** Joins: gal (gal@moz-D6B8E762.hsd1.ca.comcast.net)
[07:36:01] *** Quits: jet (jet@moz-99690620.hinet-ip.hinet.net) (Quit: jet)
[07:36:14] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[07:38:21] *** Joins: jet (jet@moz-99690620.hinet-ip.hinet.net)
[07:43:17] *** Quits: lth|away (lth@C3CF3668.251DEEED.18DB33F7.IP) (Quit: leaving)
[08:07:03] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[08:20:44] *** Quits: jet (jet@moz-99690620.hinet-ip.hinet.net) (Quit: jet)
[08:41:10] *** Quits: gal (gal@moz-D6B8E762.hsd1.ca.comcast.net) (Quit: gal)
[09:04:37] *** Joins: jet (jet@moz-99690620.hinet-ip.hinet.net)
[09:05:26] *** Quits: jet (jet@moz-99690620.hinet-ip.hinet.net) (Quit: jet)
[09:14:21] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Quit: rcirc on GNU Emacs 24.3.50.1)
[09:26:46] *** Quits: mbx (mbebenita@moz-B45FE61C.hsd1.ca.comcast.net) (Quit: mbx)
[09:34:55] *** Quits: sankha93 (sankha93@7061CD01.D6BD0D91.22D41759.IP) (Ping timeout)
[09:49:57] *** Joins: gds (user@moz-E3A7B2B5.range86-160.btcentralplus.com)
[09:51:25] *** Quits: roc (chatzilla@moz-99690620.hinet-ip.hinet.net) (Ping timeout)
[09:53:09] *** Joins: roc (chatzilla@moz-99690620.hinet-ip.hinet.net)
[10:06:20] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (services.mozilla.org (Too many invalid passwords))
[10:06:28] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[10:06:28] *** Quits: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com) (Max SendQ exceeded)
[10:07:32] *** Joins: Yoric (Yoric@moz-DB4A9C19.scl3.mozilla.com)
[10:17:09] *** Quits: roc (chatzilla@moz-99690620.hinet-ip.hinet.net) (Ping timeout)
[10:29:56] *** Quits: lkuper (lkuper@moz-C0CD33ED.hsd1.in.comcast.net) (Quit: lkuper)
[10:42:40] *** Joins: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP)
[11:26:22] *** Joins: sankha93 (sankha93@7061CD01.D6BD0D91.22D41759.IP)
[11:40:36] <nmatsakis> pnkfelix: ping
[11:40:48] <pnkfelix> nmatsakis: pong
[11:40:54] <nmatsakis> pnkfelix: I don't have a lot of time to chat (gotta go get breakfast etc) but look at https://gist.github.com/nikomatsakis/9546184
[11:41:12] <nmatsakis> pnkfelix: let me know what you think, I'll be back in an hour or so
[11:41:24] <pnkfelix> nmatsakis: k
[11:41:53] <pnkfelix> nmatsakis: (by the way, do you/we know if the IEEE 754 total ordering is in fact a superset of the float partial order?)
[11:42:08] <pnkfelix> (superset in the sense of comparison relations as sets of pairs)
[11:42:57] <pnkfelix> nmatsakis: I've been meaning to look over IEEE 754 anyway, so no worries if you do not know off hand
[11:45:39] <larsberg> nmatsakis should track down Guy Steele and pick his brain occasionally about stuff like this - isn't he out at the Boston Oracle/Sun office? :-)
[11:53:51] *** jorendorff_away is now known as jorendorff
[11:54:40] <pnkfelix> nmatsakis: won't partial_eq(-0.0, 0.0) return true while cmp(-0.0, 0.0) returns LessThan ?
[12:13:17] * pnkfelix realizes he has been ignoring the pickle that -0.0 introduces into the mix.  Wooo 754.
[12:16:11] <samth> larsberg: yes, he is
[12:29:54] *** Quits: sankha93 (sankha93@7061CD01.D6BD0D91.22D41759.IP) (Connection reset by peer)
[12:37:30] *** jorendorff is now known as jorendorff_away
[12:39:05] <nmatsakis> pnkfelix: I forgot about -0. I'd probably have total order make -0 === 0 ;)
[12:39:31] <nmatsakis> pnkfelix: but yeah, good point. Re: IEEE total order, who cares? we're free to define our own. but the -0 thing is a good point.
[12:39:56] <nmatsakis> pnkfelix: still I can't imagine a total ordering in which those laws I said don't hold
[12:40:04] <nmatsakis> (excepting -0 and 0)
[12:41:26] <nmatsakis> pnkfelix: (seriously though, maybe -0 and 0 SHOULD be equal in total order.)
[12:47:20] <pnkfelix> blah
[12:48:04] <pnkfelix> nmatsakis: the more I think about it, the more I think trying to stuff the two relations into a single coherent trait is a wild goose chase
[12:48:50] <pnkfelix> nmatsakis: but yes, the cmp "total" order could equate -0 and 0
[12:49:13] <pnkfelix> nmatsakis: and then we could provide a separate function/method to expose the true IEEE total order
[12:49:51] <pnkfelix> nmatsakis: then at least we would have a prayer of defining a coherent single Ord trait.  But then sort would not "work" out of the box for -0.0 and +0.0
[12:50:32] <pnkfelix> nmatsakis: this might be okay
[12:51:11] <pnkfelix> since someone who is relying on the relationship between -0.0 and +0.0 should probably be either passing in their own comparator or using a newtyped wrapper around f32/f64
[13:02:15] *** Joins: jdm (jdm@moz-AC9499B2.cable.teksavvy.com)
[13:12:18] <nmatsakis> pnkfelix: I just walked to library; on the way over, I was thinking that I was crazy to suggest 0/-0 should be equal... though of course we always have the "IEEE started it" defense
[13:12:55] <nmatsakis> pnkfelix: in particular it seems we need a trait for "total equality" separtae from "total ordering"
[13:13:07] <nmatsakis> or maybe that's not really needed
[13:13:13] <pnkfelix> nmatsakis: don't get me wrong, I suspect we may get laughed out of the room if we try this.
[13:13:36] <nmatsakis> I was just thinking that if you wanted to write generic code where it held that A EQ B => A substitutable for B and vice versa,
[13:13:44] <nmatsakis> well you know that's not an unreasonable thing
[13:13:55] <pnkfelix> to get laughed out of the room?
[13:14:00] <pnkfelix> sure, happens to me all the time
[13:14:05] <nmatsakis> no, writing generic code where A EQ B has some meaning :)
[13:14:15] <pnkfelix> oh yes
[13:14:18] <nmatsakis> but getting laughed out too
[13:14:27] <nmatsakis> so my cousin asked alex stepanov
[13:14:35] <nmatsakis> his answer was basically "don't sort arrays with nan"
[13:14:41] <nmatsakis> if you think nan may be present, partition first
[13:14:45] <pnkfelix> clealy we need === and == operators
[13:14:54] * nmatsakis dies
[13:14:57] <pnkfelix> == for numeric, scheme-y eqv?
[13:15:05] <nmatsakis> ~=
[13:15:06] <pnkfelix> I am half-kidding, of course
[13:15:17] <nmatsakis> meaningless-==
[13:15:18] <pnkfelix> isn't ~= a pattern binding syntax or something in Perl et al?
[13:15:21] <nmatsakis> yes
[13:15:31] <nmatsakis> it WOULD actually be useful :)
[13:15:37] <nmatsakis> we have a FuzzyEq trait I think
[13:15:41] <nmatsakis> or did at one point
[13:15:48] <pnkfelix> well
[13:15:49] <nmatsakis> of course typically one wants to define one's own meaning of epsilon
[13:16:03] <nmatsakis> that is, I was always taught "never use == on floats, compare the absolute difference"
[13:16:17] <pnkfelix> I feel like we're trying to bend over backwards to support the {<, >, ==, etc} operators on f32/f64
[13:16:24] <nmatsakis> oh yes we are
[13:16:25] <pnkfelix> and at the same time, its basically the wrong thing to do
[13:16:33] <nmatsakis> well that's been strcat's position
[13:16:36] <nmatsakis> i.e., have two traits
[13:16:46] <pnkfelix> yep.
[13:16:47] <nmatsakis> but I thikn pcwalton's point is well-taken
[13:16:52] <nmatsakis> if you want to write sort
[13:16:59] <nmatsakis> it'd be nice for it to not have to use total ordering,
[13:17:00] <nmatsakis> but maybe it just does
[13:17:05] <nmatsakis> I think he found it was a 10-15% hit
[13:17:15] <pnkfelix> oh he did actually benchmark it?
[13:17:17] <nmatsakis> we could of course have something separate just for sorting arrays of floats
[13:17:18] <nmatsakis> yes he did
[13:17:23] <nmatsakis> in C++ I think? something simple
[13:17:53] <pnkfelix> bring back conditions
[13:18:10] <pnkfelix> actually I don't know if they'd actually solve this
[13:18:37] <pnkfelix> (i was thinking something along the lines of signalling a condition if you encountered NaN while sorting an array)
[13:18:55] <nmatsakis> unrelated: https://twitter.com/nikomatsakis/status/444462566438608896
[13:19:05] <nmatsakis> pnkfelix: you still have to compare
[13:19:06] <nmatsakis> :)
[13:19:14] <nmatsakis> maybe we should just ban the use of non-signaling nan
[13:19:16] <pnkfelix> yeah, no what I was thinking was
[13:19:48] <nmatsakis> I don't remember sorting algorithms well enough to understand just how concrete this impact is
[13:19:54] <pnkfelix> well, what I was thinking was actually crazy
[13:19:56] <nmatsakis> in particular we use some terrifying hybrid monster sort
[13:20:08] <pnkfelix> (it involved trying to redo the sort from scratch.  What did I think this was, PJS?)
[13:20:08] <nmatsakis> timsort I think it's called
[13:20:21] <pnkfelix> yeah, I've skimmed over that code
[13:20:42] <nmatsakis> so I'm not sure precisely where you'd need an extra compare or two
[13:21:06] <nmatsakis> I was thinking on the walk over, it seems ... not unreasonable that one could design a sorting algorthm that didn't fall over if there were nan's present
[13:21:22] <nmatsakis> I mean their final location would probably be undefined or something
[13:21:36] <nmatsakis> but I don't know that I care to swap back in all the details :)
[13:22:25] <nmatsakis> e.g., I feel like the partition step in qsort,
[13:22:36] <nmatsakis> I guess if you picked a NaN pivot,
[13:22:42] <nmatsakis> you'd just wind up putting everything to the left
[13:22:53] <nmatsakis> (because you're asking ELEM < PIVOT and that's always false)
[13:23:11] <nmatsakis> or rather to the right I guess
[13:23:20] <nmatsakis> anyway you see what I mean
[13:24:15] <pnkfelix> nmatsakis: yeah I'm not sure what actually goes wrong
[13:24:20] <nmatsakis> I guess what i'm saying is: just because sorting in C++ requires certain conditions, it doesn't necessarily follow that one can't write an efficient sort with weaker conditions
[13:24:27] <nmatsakis> presumably somewhat less efficient
[13:24:33] <nmatsakis> but *how much*
[13:25:27] <pnkfelix> A sort like that wouldn't be using cmp
[13:25:37] <pnkfelix> it would be using lt_partial, or whatever
[13:25:56] <pnkfelix> which means that you'd want one sort algorithm that uses cmp, and another that uses lt_partial
[13:26:07] <pnkfelix> which basically means (from my POV) that you want two traits
[13:26:30] <nmatsakis> that's whta I'm getting at
[13:26:40] <nmatsakis> though I don't know if the last step follows
[13:26:54] <nmatsakis> (I'd personally like to expose many sorting algorithms anyway )
[13:26:54] <pnkfelix> if you don't do that last step
[13:27:09] <pnkfelix> then you end up with sort_via_lt<O:Ord>(..) { ... }
[13:27:17] <pnkfelix> and sort_via_cmp<O:Ord>(..) { ... }
[13:27:23] <nmatsakis> I just like the idea of a standard library that has entries for everything in CLR :) though with a good default choice
[13:27:27] <pnkfelix> well, that's not actually the problem
[13:27:32] <nmatsakis> es
[13:27:34] <nmatsakis> *yes
[13:27:35] <nmatsakis> you'd have that
[13:27:41] <nmatsakis> I agree it's cleaner to have distinct traits
[13:27:50] <nmatsakis> in some sense of cleaner
[13:27:51] <pnkfelix> the problem is instead that I'm still not convinced that you can coherently put all the methods into one trait
[13:27:57] <nmatsakis> right
[13:28:00] <nmatsakis> that's the point, I guess
[13:28:07] <nmatsakis> is that if there is no relation (like the one I wrote) between partial and total
[13:28:09] <pnkfelix> at least, not without also saying "these methods up here actually have nothing to do with this cmp thing down her"
[13:28:11] <nmatsakis> then why are they together?
[13:28:15] <pnkfelix> RIght
[13:28:21] <pnkfelix> Well
[13:28:25] *** Joins: mccr8 (mccr8@moz-48A4B8F7.dsl.dynamic.sonic.net)
[13:28:26] <nmatsakis> there is an argument,
[13:28:40] <nmatsakis> which is basically Stroustroup's point about having too dang many traits
[13:28:51] <nmatsakis> so it's a good idea to lump together sets of related operations
[13:28:55] <nmatsakis> such that you can refactor the code
[13:29:02] <nmatsakis> to have more requirements than it did before
[13:29:07] <nmatsakis> but still within the same "genre"
[13:29:14] <nmatsakis> without changing anything from the interface
[13:29:24] <nmatsakis> I think the reason to have separate traits
[13:29:30] <nmatsakis> is if there are types for which it is feasible to implement a partial LT
[13:29:34] <nmatsakis> but infeasible to implement a total ordering
[13:29:42] <nmatsakis> float doesn't qualify
[13:29:59] <nmatsakis> this is why, e.g., I would separate equality from ordering
[13:30:02] <pnkfelix> elements of a lattice?
[13:30:16] <nmatsakis> it seems clear that there are such types
[13:30:18] <pnkfelix> (or more generally, of a partial order, I guess)
[13:30:37] <nmatsakis> so then the question is how common are those, and do you want sort to work etc,
[13:30:41] <pnkfelix> Okay.  So we should maybe catalogue instances of such types
[13:30:49] <nmatsakis> yeah I think good examples would be good
[13:30:51] <nmatsakis> but I'm tilting back again :)
[13:30:56] <nmatsakis> towards two traits
[13:31:04] <nmatsakis> in particular:
[13:31:11] <nmatsakis> I think strostroup's argument hinges on a judgement call
[13:31:14] <nmatsakis> about what is the same "genre"
[13:31:22] <nmatsakis> and I think there's a good argument to be made that partial and total equality are not
[13:31:29] <nmatsakis> vs (say) + and -
[13:31:36] <pnkfelix> hmm
[13:31:40] <nmatsakis> though of course we separate those
[13:31:49] <nmatsakis> well, vs < and >
[13:31:49] <pnkfelix> because we are incoherent
[13:32:05] <pnkfelix> (I kid)
[13:32:18] <nmatsakis> yes, to follow stroustroup, I think the basic arithmetic ops should go together, but people want to add strings for some god forsaken reason
[13:32:36] <nmatsakis> in particular it seems like + and * are sort of inseparable
[13:32:40] <pnkfelix> thanks Ojava
[13:32:53] <nmatsakis> but you can multiple strings by an integer, that makes total sense :)
[13:33:01] <nmatsakis> best python idiom ever
[13:33:04] <nmatsakis> " " * 80
[13:33:24] * nmatsakis groans
[13:33:38] <nmatsakis> (I actually do like `" "*80`. I just hate floats.)
[13:33:50] <nmatsakis> well, I don't like " "*80 more than (say) " ".rep(80)
[13:34:05] <nmatsakis> and I much prefer format!() to a + b
[13:34:10] <nmatsakis> er, format!("{}{}", a, b)
[13:34:16] <nmatsakis> admittedly somewhat longer
[13:34:21] <pnkfelix> i go either way
[13:34:28] <nmatsakis> but usually you have things like
[13:34:35] <nmatsakis> "Foo: " + foo + " Bar: " + bar 
[13:34:39] <nmatsakis> and that's just awful
[13:34:50] <nmatsakis> (not to mention horribly inefficient)
[13:35:16] * nmatsakis rapidly degenerating into spewing irrelevant nonsense
[13:35:42] <pnkfelix> We need to put `-g` into the flags you get from --enable-debuginfo
[13:35:46] <pnkfelix> or rather, --enable-debug
[13:36:43] <pnkfelix> although... this file/line num info looks bogus...
[13:37:02] <pnkfelix> codemap::CodeMap::lookup_filemap_idx::hd20dfd9f6410a674zKd::v0.10.pre () at bitv.rs:114 ?  I don't think so.
[13:37:34] <nmatsakis> uh, no
[13:38:03] <pnkfelix> oh well, thank goodness our mangled symbols encode so much ifno
[13:38:19] <nmatsakis> :)
[13:38:42] * nmatsakis fondly remembers the days of "glue_drop12356"
[13:38:52] <nmatsakis> "Uh, what type is THAT??"
[13:43:49] <nmatsakis> larsberg: re: Guy Steele, I actually know someone who works in his group, I should ping them and invite myself to give a talk or somtehing :)
[13:44:04] * nmatsakis star struck
[13:45:28] *** Joins: roc (chatzilla@8ACF1000.5EFFC0B8.24454B25.IP)
[13:47:13] * pnkfelix laughs as he sees the most recent patent granted to Guy Steele
[13:47:25] <pnkfelix> the hardware solution to our current problem
[13:47:56] <nmatsakis> ha
[13:48:02] <nmatsakis> pnkfelix: link?
[13:48:10] <pnkfelix> http://patft.uspto.gov/netacgi/nph-Parser?patentnumber=8,543,631
[13:48:46] <nmatsakis> sounds relevant
[13:49:04] <pnkfelix> well except that I think we want our solution to work well on current ecommodity hardware
[13:49:33] <pnkfelix> I wonder what Fortress regarding traits for floating point
[13:49:33] <nmatsakis> I remain in ignorance of how having NaN propogate through ALL expressions EXCEPT binary comparisons -- where it masquerades as a legit value that just follows annoying rules -- helps anyone
[13:49:54] <nmatsakis> despite having read various papers about IEEE floats
[13:49:59] <nmatsakis> before I decided I was wasting too much time
[13:50:02] <nmatsakis> and it doesn't matter anyway
[13:50:28] <nmatsakis> one neat thing I did learn,
[13:50:32] <nmatsakis> is that if you bitcast a float to an int,
[13:50:35] <nmatsakis> and do comparisons,
[13:50:40] <nmatsakis> at least under some conditions that I'm not 100% sure of,
[13:50:42] <nmatsakis> you get the right result
[13:50:49] <pnkfelix> yeah
[13:50:51] <nmatsakis> but I think that must be dependent on endian-ness, if nothing else?
[13:51:03] <nmatsakis> I didn't dig into the details of that
[13:51:03] <pnkfelix> that's the main problem that I think we'd have with that approach
[13:51:11] <pnkfelix> but maybe we could live with that
[13:51:16] <pnkfelix> dunno
[13:51:21] <nmatsakis> what's the main problem?
[13:51:23] <nmatsakis> endian-ness?
[13:51:25] <pnkfelix> the endian-ness)
[13:51:29] <nmatsakis> hey man we define *a* total order :)
[13:51:33] <nmatsakis> it may not be the one you learned in grade school
[13:51:44] <nmatsakis> ;)
[13:56:52] *** Quits: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu) (Client exited)
[13:57:13] *** Joins: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu)
[13:59:02] *** Quits: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu) (Ping timeout)
[14:04:48] *** Joins: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu)
[14:05:43] *** Quits: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu) (Client exited)
[14:05:44] *** Joins: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu)
[14:05:44] <pnkfelix> nmatsakis: by the way, I was pondering this morning...
[14:05:59] <pnkfelix> nmatsakis: do we have any actual reason to take real pointers to zero-sized structs?
[14:06:04] *** Quits: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu) (Client exited)
[14:06:24] <pnkfelix> nmatsakis: i.e. zero-sized structs are just meant as phantom values to fill in some type
[14:06:34] *** Joins: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu)
[14:06:39] <pnkfelix> (i.e. like newtyping `()` )
[14:07:05] <pnkfelix> nmatsakis: and so maybe `&()` and `&Z` for any Z s.t. size_of::<Z>() == 0
[14:07:10] <pnkfelix> nmatsakis: should themselves also have size 0
[14:07:37] <pnkfelix> nmatsakis: I admit, this becomes ... strange
[14:07:48] <nmatsakis> pnkfelix: we have already taken some steps in this direction
[14:07:56] <nmatsakis> e.g., I think strcat pushed a change whereby ~T for any zero-size T is null
[14:07:58] <nmatsakis> this caused problems
[14:08:02] <nmatsakis> because Some(~T) no lonegr works
[14:08:09] <nmatsakis> so then they were going to push a patch so that it was 1
[14:08:17] <nmatsakis> this was r+'d without any review,
[14:08:19] <nmatsakis> or rather,
[14:08:22] *** Quits: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu) (Ping timeout)
[14:08:24] <nmatsakis> I didn't notice it at the time :)
[14:08:26] <pnkfelix> nmatsakis: so
[14:08:29] <nmatsakis> it seems like a big decision to me though
[14:08:31] <nmatsakis> and probably worth discussing
[14:08:31] <pnkfelix> nmatsakis: the reason that it broken Some(~T)
[14:08:35] <nmatsakis> but in general I happen to agree
[14:08:39] <nmatsakis> that it makes sense overall
[14:08:41] <pnkfelix> nmatsakis: is because of that optimziation that ~T is non-null
[14:08:43] <pnkfelix> nmatsakis: right?
[14:08:44] <nmatsakis> right
[14:08:46] *** Joins: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu)
[14:08:51] <pnkfelix> nmatsakis: maybe that could be refined
[14:08:53] <pnkfelix> nmatsakis: to
[14:09:01] <pnkfelix> nmatsakis: ~T is nonnull solely for T of size > 0
[14:09:57] <pnkfelix> its like some  weird through the looking glass place
[14:10:37] <nmatsakis> why
[14:10:46] <nmatsakis> I like the idea of using 1 :)
[14:11:45] <pnkfelix> that ~T is 1u if T has size zero ?
[14:12:35] <pnkfelix> I guess that is as sane as anything else.  The main reason I was thinking of trying to make it zero size
[14:12:47] <pnkfelix> was analogous to what we are doing with Allocators
[14:13:15] <pnkfelix> i.e. to enable coding patterns where people can feel free to put in fields of ~T type
[14:13:26] *** Quits: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu) (Client exited)
[14:13:33] *** jorendorff_away is now known as jorendorff
[14:13:37] <pnkfelix> and if T is zero-sized, their struct won't be bloated with useless words with constant value 1.
[14:13:47] *** Joins: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu)
[14:14:23] <pnkfelix> I dont' know what other languages support such rich generic programming *and* zero size types
[14:15:02] <pnkfelix> Maybe the haskell has explored this domain
[14:15:12] <pnkfelix> sed -e s/the haskell/the haskell community/
[14:15:36] *** Quits: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu) (Ping timeout)
[14:18:49] <pnkfelix> oh dear, my cfg testing driver ate up 8.55 GB
[14:22:55] *** Joins: brendan (brendaneic@35E90EE3.B8B12C49.396B22AD.IP)
[14:40:52] <nmatsakis> pnkfelix: I agree with the motivation that ~T, &T where T is zero-size should basically be free
[14:41:46] <nmatsakis> pnkfelix: I'd...kind of like it if ~T (and &T?) were zero-size if T was zero-size
[14:42:20] <pnkfelix> definitely need to figure out if there are good motivating examples
[14:42:32] <nmatsakis> pnkfelix: in the back of my mind wycats point that ~T and T should behave as much the same as possible has been bugging me, though I think at worst it's a kind of wart, not a crippling failure.
[14:42:47] <nmatsakis> or rather it's the "as possible" qualifier that gives us an out ;)
[14:43:08] <nmatsakis> but definitely in the core design days, I didn't think of T and ~T as semantically equivalent in the way I do now
[14:43:39] <pnkfelix> oh that reminds me
[14:43:44] <pnkfelix> I need to re-read that note you sent me
[14:43:49] <pnkfelix> about Own<..>
[14:44:19] <pnkfelix> (but first, i want to try to get some more hacking done... I've been on irc talking to others too much)
[14:45:13] <nmatsakis> pnkfelix: yeah I have to do PJS things :( but I want to do more thinking on Own, my latest thought is that it may not be worth it for it to be user extensible
[14:45:42] <nmatsakis> pnkfelix: though I thought of a potential contrary use case, but one with a near trivial workaround...
[14:46:00] <nmatsakis> anyway, let's talk later, I really do have to do other things
[14:46:31] <pnkfelix> nmatsakis: k.  Not sure how long I'll make it today, I was up before 5 am walking our dog
[14:46:44] <pnkfelix> and I've found that I end up just starting my day right afterward when that happens
[14:46:57] <pnkfelix> which is kind of great
[14:47:06] <pnkfelix> until 4pm rolls around...
[14:47:13] <nmatsakis> pnkfelix: welcome to my life
[14:47:18] <nmatsakis> s/dog/Daphne/
[14:47:20] <pnkfelix> 2014Mar14 15:47 <nmatsakis> pnkfelix: welcome to my life
[14:47:30] <pnkfelix> whoa, I didn't meant to do that
[14:47:46] <nmatsakis> well, if you were me, you'd be saying, 
[14:47:52] <nmatsakis> I don't want to walk this dog without a cup of coffee
[14:47:54] <nmatsakis> let me set my alarm for 4:30
[14:48:08] <nmatsakis> but I guess you're just less addicted.
[14:48:32] <pnkfelix> more like
[14:48:37] <pnkfelix> still hoping the dog will start sleeping in
[14:48:45] <nmatsakis> oh, you're in that phase
[14:48:50] <nmatsakis> ;)
[14:48:57] <pnkfelix> it could happen
[14:49:06] <pnkfelix> anyway, talk to you later
[15:01:45] *** Joins: sankha93 (sankha93@7061CD01.D6BD0D91.22D41759.IP)
[15:06:29] *** Quits: brendan (brendaneic@35E90EE3.B8B12C49.396B22AD.IP) (Quit: brendan)
[15:13:36] *** Joins: brendan (brendaneic@35E90EE3.B8B12C49.396B22AD.IP)
[15:27:44] *** Joins: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu)
[15:33:09] <nmatsakis> pnkfelix: ok, not to dive in, but maybe we should just not define Ord on floats. Then we can make two newtype wrappers, and provide a (unsafely impl'd) function to convert &[f32] to &[NewtypedF32WithSomeSemanticsItsYourFaultIfItsWrong]
[15:34:14] *** Joins: gal (gal@moz-D6B8E762.hsd1.ca.comcast.net)
[15:39:20] *** Quits: brendan (brendaneic@35E90EE3.B8B12C49.396B22AD.IP) (Quit: brendan)
[15:39:54] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[15:42:32] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[15:45:35] *** Joins: brendan (brendaneic@35E90EE3.B8B12C49.396B22AD.IP)
[15:47:22] *** Quits: brendan (brendaneic@35E90EE3.B8B12C49.396B22AD.IP) (Ping timeout)
[15:55:59] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[16:03:17] *** Joins: mchang (mchang@BE99BE02.84BCE52A.BCAEBB33.IP)
[16:08:55] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[16:20:10] *** Joins: dherman (dherman@moz-B31C6965.dsl.pltn13.sbcglobal.net)
[16:20:10] *** ChanServ sets mode: +qo dherman dherman
[16:21:51] *** Joins: sunfish (chatzilla@moz-42DA0C69.dsl.dynamic.sonic.net)
[16:23:45] *** Joins: faramarz (faramarz@moz-6988E8D1.hsd1.ca.comcast.net)
[16:39:12] <wycats> nmatsakis: definitely not a crippling failure
[16:39:43] <wycats> But something that can't really be fixed post-1.0
[16:41:41] <pnkfelix> nmatsakis: not implementing Ord on floats was certainly one of the options I was pushing
[16:41:55] <pnkfelix> nmatsakis: maybe people would be less scared of that if someone prototyped its impact on libstd
[16:42:18] <nmatsakis> pnkfelix: yeah
[16:42:26] <pnkfelix> nmatsakis: Also, regarding our ~ZeroSized being 0 sized, I just saw this in #rust: 
[16:42:37] <pnkfelix> nmatsakis: 2014Mar14 17:40 <sp3d> wow, "as *_ as *()" is going to be way nicer ...
[16:42:50] <nmatsakis> uh
[16:43:12] <nmatsakis> yeah, I thought of that
[16:43:17] <pnkfelix> nmatsakis: The `*()` idiom would have to go if we did ~ZeroSized is 0 sized ... well, maybe not.  Depends on what rules we would apply to *-ptrs
[16:43:21] <nmatsakis> it seems like `*()` as "*void" is wrong
[16:43:30] <nmatsakis> really we want an unsized type called void
[16:43:35] <nmatsakis> something like "struct void { [u8] }"
[16:43:36] <pnkfelix> oooh
[16:43:41] <pnkfelix> cute
[16:44:09] <nmatsakis> DST: the gift that keeps on giving
[16:44:30] <nmatsakis> I have to write up the stuff from work week, I plan to incorporate your proposal pnkfelix 
[16:44:42] <nmatsakis> just seems strictly better than unsized
[16:44:44] <pnkfelix> nmatsakis: I was disturbed by some of the negative feedback
[16:44:51] <nmatsakis> from whence?
[16:44:55] <pnkfelix> nmatsakis: reddit
[16:45:08] <nmatsakis> hmm. I don't usually read reddit or worry too much :) but I guess I'll peruse
[16:45:09] <pnkfelix> nmatsakis: but I think most of the negative feedback was from people who haven't thought too hard about the issue
[16:45:24] <mccr8> you should make your arguments in cat meme form
[16:45:34] <nmatsakis> of all negative feedback, I feel most comfortable ignoring negative feedback from reddit (well, maybe even more so from HN)
[16:45:55] <nmatsakis> if you don't even have the guts to put your opinion in the comments on the actual blog, forget it.
[16:46:02] <pnkfelix> nmatsakis: The one I *was* worried about was that brson said he does not understand what `<type T: Sized>` means
[16:46:39] <pnkfelix> i had thought I had been, if anything, redundant in how I had written the post, but maybe I failed to explain things properly.
[16:46:55] <nmatsakis> I think this is more about viewing the same syntax with a different lens
[16:47:12] <nmatsakis> i.e., if you don't think about <T> as "a type parameter T"
[16:47:18] <pnkfelix> nmatsakis: I do really like how it opens up the future for other kinds
[16:47:20] <nmatsakis> but rather a shorthand for a more general form
[16:47:24] <nmatsakis> "kind T : Bounds"
[16:47:25] <pnkfelix> nmatsakis: exactly
[16:47:33] <nmatsakis> my first reaction was like brson
[16:47:45] <nmatsakis> but as I thought about it more it seemed downright elegant
[16:48:00] <nmatsakis> well, we'll see
[16:48:00] <dherman> zomg void ^^ is brilliant
[16:48:05] <dherman> such type haxx
[16:48:06] <pnkfelix> nmatsakis: for HKT we could do `<type Functor<type X>>`
[16:48:18] <pnkfelix> nmatsakis: oh that reminds me
[16:48:28] *** Joins: tobytailor (tobytailor@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[16:48:39] <nmatsakis> well,
[16:48:42] <pnkfelix> nmatsakis: you were musing yesterday about how it opens up the possibility of adding new other defaults that you get automatically via <T>
[16:48:43] <nmatsakis> I don't particularly want to give a name to X
[16:48:57] <nmatsakis> (but type Functor<type> is maybe not bad)
[16:48:58] <pnkfelix> (`<type Function<type>>` then, I guess)
[16:49:10] <nmatsakis> anyway, yes?
[16:49:13] <pnkfelix> so
[16:49:18] <pnkfelix> regarding adding other defaults
[16:49:27] <pnkfelix> nmatsakis: if you *really* want to make that possible
[16:49:30] <pnkfelix> nmatsakis: then we could do this:
[16:49:48] <nmatsakis> (I don't know that I do, but carry on)
[16:50:24] <pnkfelix> nmatsakis: Instead of providing a syntax for generalizing in every possible way
[16:50:33] <pnkfelix> every possible dimension, that is
[16:50:46] <pnkfelix> nmatsakis: encode which dimenions you want to generalize on
[16:50:49] <pnkfelix> nmatsakis: by doing
[16:51:16] <pnkfelix> `fn foo<type(anysize) X>(..) { ... }`
[16:51:36] <pnkfelix> nmatsakis: and if other dimensions get added
[16:51:43] <pnkfelix> nmatsakis: we have a spot to mix them in
[16:51:49] <nmatsakis> yeah I don't think it's worth the price
[16:51:51] <pnkfelix> nmatsakis: but, this is pretty ugly
[16:52:01] <pnkfelix> nmatsakis: I'm inclined to agree
[16:53:04] *** Quits: mccr8 (mccr8@moz-48A4B8F7.dsl.dynamic.sonic.net) (Connection reset by peer)
[16:53:07] *** Joins: mccr8 (mccr8@moz-48A4B8F7.dsl.dynamic.sonic.net)
[16:54:43] <pnkfelix> nmatsakis: Just to bring the two conversations together
[16:55:02] <pnkfelix> nmatsakis: perhaps instead of partitioning the universe into Type = Sized | Unsized
[16:55:30] <pnkfelix> nmatsakis: perhaps it should be Type = StaticSized | DynamicSized | ZeroSized
[16:56:08] <pnkfelix> nmatsakis: but then you want the default to be <T> ==> <type T:(StaticSized | ZeroSized)>
[16:56:25] <pnkfelix> and I don't think our current system allows us to express union-types S|T
[16:56:54] <pnkfelix> nmatsakis: ("StaticSized" really meant "StaticPositiveSize")
[16:56:55] <nmatsakis> why do we want ZeroSized?
[16:57:01] <nmatsakis> and why is thta not a subset of Sized?
[16:57:02] <pnkfelix> nmatsakis: because they are so wacky and different
[16:57:08] <nmatsakis> I guess that's the same question
[16:57:09] <nmatsakis> how so?
[16:57:18] <pnkfelix> nmatsakis: someone is likely to assume
[16:57:46] <pnkfelix> nmatsakis: that ~T for T:Sized is transmutable to a word-sized pointer
[16:57:50] <nmatsakis> well
[16:57:58] <nmatsakis> that's unsafe code
[16:58:03] <pnkfelix> nmatsakis: yes, true
[16:58:11] <nmatsakis> but it might be something you want to be able to assume
[16:58:13] <pnkfelix> nmatsakis: but it still seemed like a decent thing to partition off
[16:58:16] <nmatsakis> (and it's reasonable for ~T to be 1)
[16:58:25] <nmatsakis> that is, for ~T to still be a pointer, just an invalid one
[16:58:38] <nmatsakis> I still don't know that there is a usecase for ~T vs T
[16:59:00] <pnkfelix> nmatsakis: right, this comes back to the question of whether we would ever want sizeof<~T> to be 0 for some T, right?
[16:59:16] <pnkfelix> nmatsakis: or are you saying
[16:59:19] <nmatsakis> (that is, for ~T to have size 0 -- the main use case for ~T over T I can see is precisely IF you want to guarantee it is a pointer, independent of sizeof(T))
[16:59:29] <pnkfelix> nmatsakis: that transmute would just emit a constant `1` for this case?
[16:59:32] <nmatsakis> in which case, you are defeated by the "optimization" that ~T has size 0
[16:59:56] <nmatsakis> well I don't know (or particular care) what transmute would do, but the box operator can return 1
[17:00:07] <nmatsakis> if we assume that sizeof(~T) == sizeof(uint) for all T
[17:01:23] <nmatsakis> man why are pdf viewers on linux so crappy.
[17:01:43] <pnkfelix> nmatsakis: If I understand your point correctly
[17:01:58] <pnkfelix> nmatsakis: You are saying that the main reason for ever using `~T` in generic code
[17:02:16] <pnkfelix> nmatsakis: is to be able to make use of the assumtion that `sizeof(~T) == sizeof(uint)`
[17:02:30] *** Quits: mccr8 (mccr8@moz-48A4B8F7.dsl.dynamic.sonic.net) (Ping timeout)
[17:02:32] <nmatsakis> yes
[17:02:40] <pnkfelix> nmatsakis: but I would claim that one *might* make use of the weaker assumption that `sizeof(~T) <= sizeof(uint)` for all T
[17:02:53] <pnkfelix> nmatsakis: though that makes writing code much harder
[17:02:55] <nmatsakis> yes, conceivably, I'm just wondering when
[17:03:04] <nmatsakis> that's the main question under discussion I guess :)
[17:03:05] *** Joins: mccr8 (mccr8@moz-48A4B8F7.dsl.dynamic.sonic.net)
[17:03:06] <pnkfelix> nmatsakis: and thus that led me to wonder if you could use the trait bound
[17:03:10] <pnkfelix> nmatsakis: and conclude:
[17:03:20] <pnkfelix> nmatsakis: `sizeof(~T) == sizeof(uint)` for all T:Sized
[17:03:30] <pnkfelix> nmatsakis: `sizeof(~T) == 2*sizeof(uint)` for all T:Unsized
[17:03:40] <nmatsakis> (ok, the pdf viewer is running out of memory... argh.)
[17:03:42] <pnkfelix> nmatsakis: `sizeof(~T) == 0` for all T:ZeroSized
[17:04:02] <nmatsakis> I think assumption #2 in particular may not hold in the future :)
[17:04:03] <pnkfelix> nmatsakis: but probably the saner thing is to identify a common parent between ZeroSized and Sized
[17:04:17] <nmatsakis> I agree you have summarized the question though
[17:04:27] <pnkfelix> nmatsakis: and then introduce the weaker invariant I outlined above.  But still allow people to specialize for the PositivelySized case
[17:04:33] <pnkfelix> nmatsakis: okay
[17:04:41] <nmatsakis> but I would like a concrete example, the invariant that sizeof(~T) == uint for all T:Sized is much easier to take advantage of
[17:04:51] <pnkfelix> nmatsakis: Assumption #2 is going to break due to virtual struct?  Or something else?
[17:05:02] <nmatsakis> because I think it's an obvious generalization to permit things like:
[17:05:10] <nmatsakis> [[int]] or even [Trait]
[17:05:12] <pnkfelix> nmatsakis: (I'm inclined to agree, that I am almost certainly over-engineering at this point)
[17:05:20] <nmatsakis> but I haven't thought hard about it
[17:05:23] <pnkfelix> nmatsakis: oh yes, that's right
[17:05:24] <nmatsakis> maybe it breaks in awful ways
[17:05:31] <pnkfelix> nmatsakis: I had forgot you mentioned [[int]]
[17:05:36] <nmatsakis> i.e., it seems that the existential qualifiers "bubble up" to the outside
[17:05:39] <nmatsakis> so it might just "not work"
[17:05:52] <nmatsakis> probably just doesn't work actually
[17:06:10] <nmatsakis> so maybe your assumption #2 will hold
[17:06:59] <pnkfelix> nmatsakis: well, it may not be all that useful of an assumption
[17:07:19] <pnkfelix> nmatsakis: better to, i dunno, figure out a way to expose the true pointer size via an associated type or something
[17:07:26] <pnkfelix> associated constant I meant
[17:07:32] <nmatsakis> intrinsic?
[17:07:39] <pnkfelix> wait, we already have an intrinsic
[17:07:41] <pnkfelix> ignore me
[17:07:45] <nmatsakis> yes :)
[17:08:21] *** Quits: mccr8 (mccr8@moz-48A4B8F7.dsl.dynamic.sonic.net) (Ping timeout)
[17:08:26] <pnkfelix> (the whole point of properties like #1 and #2 is to *not* have to write that code, to be able to build in the assumption directly into your code, for better or for worse)
[17:08:58] <pnkfelix> ((and we probably should discourage such coupling, if possible.))
[17:17:23] *** jdm is now known as jdm|meeting
[17:21:01] *** Quits: mekki (mekki@moz-86249198.dsl.teksavvy.com) (Connection reset by peer)
[17:21:43] *** Joins: mekki (mekki@moz-86249198.dsl.teksavvy.com)
[17:27:43] *** Joins: mccr8 (mccr8@moz-48A4B8F7.dsl.dynamic.sonic.net)
[17:31:47] *** Joins: mbx (mbebenita@moz-B45FE61C.hsd1.ca.comcast.net)
[17:34:07] *** Joins: terrence-afk (terrence@moz-B38D16E9.sb.sd.cox.net)
[17:35:07] *** Quits: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu) (Client exited)
[17:35:28] *** Joins: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu)
[17:37:16] *** Quits: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu) (Ping timeout)
[17:37:58] *** Quits: mccr8 (mccr8@moz-48A4B8F7.dsl.dynamic.sonic.net) (Ping timeout)
[17:39:14] *** Joins: mccr8 (mccr8@moz-48A4B8F7.dsl.dynamic.sonic.net)
[17:39:50] *** Joins: mccr8_ (mccr8@moz-48A4B8F7.dsl.dynamic.sonic.net)
[17:40:37] *** Quits: mccr8 (mccr8@moz-48A4B8F7.dsl.dynamic.sonic.net) (Quit: )
[17:40:37] *** mccr8_ is now known as mccr8
[17:41:06] *** mccr8 is now known as mccr8_
[17:47:00] *** jdm|meeting is now known as jdm
[17:50:18] *** Joins: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu)
[17:52:20] *** Quits: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu) (Ping timeout)
[17:55:00] <nmatsakis> dherman: i'm really happy about how typed objects are turning out
[17:55:09] <nmatsakis> dherman: the latest draft of the spec is looking very right to me
[17:55:09] <dherman> :D
[17:55:13] <dherman> link?
[17:55:16] <nmatsakis> well,
[17:55:20] <nmatsakis> I don't quite mean what's on the page :0
[17:55:24] <dherman> heh
[17:55:26] <nmatsakis> but https://github.com/dslomov-chromium/typed-objects-es7
[17:55:49] <nmatsakis> I think what's there is mostly up to date, actually, though I still owe dmitry and thorough read,
[17:55:52] <nmatsakis> as well as adding some missing sections
[17:55:54] <nmatsakis> but what I like a lot
[17:56:02] <dherman> quick overview on what's missing/wrong?
[17:56:26] <nmatsakis> I think he told me that the array support is basically incomplete
[17:56:31] <dherman> ok
[17:56:53] <nmatsakis> I've been working though a bit on a DLS paper (maybe crazy)
[17:57:04] <nmatsakis> overall I feel like the system describes itself
[17:57:20] <nmatsakis> there don't seem to be many hidden rough edges
[17:57:26] <nmatsakis> let me give the example I'm thinking of
[17:57:41] <nmatsakis> bsaically, now you have "type objects" which are: scalars, structs, and fixed-length arrays
[17:57:53] <nmatsakis> (and object, any, string)
[17:58:00] <nmatsakis> these all share the nice "fixed-size" property,
[17:58:04] <nmatsakis> you can treat them all the same as well
[17:58:11] <nmatsakis> e.g., typeObject(intialValue) always yields an instance 
[17:58:15] <nmatsakis> even for scalars
[17:58:24] <nmatsakis> uint8(22) ==> yields a number
[17:58:43] <nmatsakis> granted it doesn't yield a "uint8"
[17:58:54] <nmatsakis> but that's not really an issue necessarily,
[17:59:09] <nmatsakis> i.e., depending on how one chose to define +, it's not clear that a "uint8" is distinguishable from a number
[17:59:45] <nmatsakis> (to handle the case where length is not known, you cna always instantiate "typeObject.array(N)")
[17:59:55] *** Quits: pnkfelix (pnkfelix@87C1F78E.1DE10CA8.D8E68FF6.IP) (Quit: rcirc on GNU Emacs 24.3.1)
[18:00:43] <nmatsakis> dherman: dmitry and I had a call today, one of the things we discussed was "typeof typedObject" and value objects etc,
[18:00:55] <nmatsakis> we should talk about it later
[18:00:59] *** jorendorff is now known as jorendorff_away
[18:01:54] <dherman> nmatsakis: sounds good
[18:02:31] <dherman> nmatsakis: presumably the typeObject(initialValue) thing gets trickier with types like int64
[18:02:40] <dherman> we have to have new value types for that?
[18:02:58] <dherman> btw I may lobby brendan to let you and dmitry take ownership of value types
[18:03:19] <dherman> you guys are the natural ones to take it on, and they affect your work more than anyone else
[18:03:36] <nmatsakis> dherman: yes, that makes sense, at least the underlying machinery
[18:03:46] <nmatsakis> dherman: brendan seemed very interested in the "end game",
[18:03:50] <nmatsakis> I am more interested in laying the groundwork
[18:03:56] <nmatsakis> let the syntax (if any) come later
[18:04:06] <dherman> god yes
[18:04:08] <nmatsakis> dherman: yes int64 etc will require new value types
[18:04:11] <dherman> ok
[18:04:16] <dherman> nmatsakis: I'm available now any time
[18:04:20] <nmatsakis> I think I see a way to fit this all together
[18:04:20] <dherman> my call is over
[18:04:27] <nmatsakis> oh, ok, I'm at a cafe, going to eat lunch then go home
[18:04:30] <dherman> kk
[18:04:30] <nmatsakis> I'll ping you :)
[18:04:33] <dherman> ping me whenever
[18:04:37] <nmatsakis> (library rooms were reserved)
[18:05:16] <dherman> ah
[18:05:17] <dherman> bummer
[18:05:27] <nmatsakis> well actually they were free but apparently you can only use a room for 2h
[18:05:32] <nmatsakis> and I already reserved one for 2h to chat with dmitry
[18:05:36] <nmatsakis> even though I only used 30 mins of it :)
[18:05:46] * nmatsakis shrugs
[18:06:05] *** jorendorff_away is now known as jorendorff
[18:11:18] *** Joins: dherman_ (dherman@moz-B31C6965.dsl.pltn13.sbcglobal.net)
[18:11:31] *** Quits: dherman (dherman@moz-B31C6965.dsl.pltn13.sbcglobal.net) (Ping timeout)
[18:11:32] *** dherman_ is now known as dherman
[18:14:00] <nmatsakis> dherman: per my prior observation, to be consistent, though, I think uint8() ought to yield 0 (not sure what it does now)
[18:15:16] <dherman> makes sense
[18:15:37] <dherman> IOW, the result of uint8 has typeof number and is guaranteed to be an integer in the range [0, 255]
[18:15:42] <dherman> nmatsakis: ^^
[18:15:55] <nmatsakis> yes
[18:16:05] <dherman> this sounds great
[18:16:09] <dherman> you guys are doing such great work
[18:19:05] *** terrence-afk is now known as terrence
[18:24:55] *** Joins: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu)
[18:42:58] *** Quits: eholk (eholk@moz-BA312F07.crest.iu.edu) (Quit: eholk)
[18:44:12] *** Quits: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu) (Client exited)
[18:44:43] *** Joins: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu)
[18:46:25] *** Quits: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu) (Ping timeout)
[19:11:15] <nmatsakis> dherman: 10-20 mins? I'm home, but I have a big headache, took some advil.
[19:11:31] <dherman> sure
[19:11:32] <dherman> :(
[19:11:32] <dherman> take your time
[19:11:46] <dherman> for me excedrin >>> advil
[19:11:56] <dherman> took some for my headache this morning :)
[19:12:15] <nmatsakis> hmm we just have advil. or more accurately, generic ibuprofen,.
[19:12:23] <nmatsakis> never tried anything else :)
[19:13:21] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[19:13:21] *** ChanServ sets mode: +o pcwalton
[19:13:57] *** Joins: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu)
[19:18:18] *** Quits: gal (gal@moz-D6B8E762.hsd1.ca.comcast.net) (Quit: gal)
[19:25:28] *** Quits: mbx (mbebenita@moz-B45FE61C.hsd1.ca.comcast.net) (Quit: mbx)
[19:31:59] *** Joins: ebryn (sid2895@moz-5F4AA75A.irccloud.com)
[19:38:25] *** Quits: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu) (Client exited)
[19:38:46] *** Joins: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu)
[19:39:33] <nmatsakis> dherman: ping 
[19:39:42] <dherman> pong
[19:40:24] <dherman> nmatsakis: I'm in my vidyo room
[19:40:36] *** Quits: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu) (Ping timeout)
[19:45:11] *** Quits: sankha93 (sankha93@7061CD01.D6BD0D91.22D41759.IP) (Ping timeout)
[19:50:35] *** Joins: mbx (mbebenita@moz-B45FE61C.hsd1.ca.comcast.net)
[20:03:41] *** Joins: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu)
[20:05:40] *** Quits: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu) (Ping timeout)
[20:07:24] *** Quits: mccr8_ (mccr8@moz-48A4B8F7.dsl.dynamic.sonic.net) (Quit: mccr8_)
[20:16:43] *** Joins: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu)
[20:17:21] *** jorendorff is now known as jorendorff_away
[20:17:59] *** Quits: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu) (Client exited)
[20:18:21] *** Joins: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu)
[20:19:25] *** Quits: roc (chatzilla@8ACF1000.5EFFC0B8.24454B25.IP) (Ping timeout)
[20:20:00] *** Joins: roc (chatzilla@8ACF1000.5EFFC0B8.24454B25.IP)
[20:20:17] *** Quits: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu) (Ping timeout)
[20:22:01] *** Quits: nmatsakis (nmatsakis@moz-DB4A9C19.scl3.mozilla.com) (Input/output error)
[20:22:18] *** Joins: nmatsakis (nmatsakis@moz-DB4A9C19.scl3.mozilla.com)
[20:22:19] *** ChanServ sets mode: +o nmatsakis
[20:23:38] *** Quits: jack (sid19593@moz-A42E5B7B.irccloud.com) (Ping timeout)
[20:23:41] *** jorendorff_away is now known as jorendorff
[20:24:19] *** Joins: mccr8 (mccr8@moz-48A4B8F7.dsl.dynamic.sonic.net)
[20:25:37] *** Quits: mbx (mbebenita@moz-B45FE61C.hsd1.ca.comcast.net) (Ping timeout)
[20:25:47] *** Quits: nmatsakis (nmatsakis@moz-DB4A9C19.scl3.mozilla.com) (Input/output error)
[20:25:52] *** Joins: nmatsaki1 (nmatsakis@moz-DB4A9C19.scl3.mozilla.com)
[20:26:51] *** Quits: luwang (luwang@moz-3DE2A657.cse.ust.hk) (Ping timeout)
[20:27:03] *** Joins: mbx (mbebenita@moz-B45FE61C.hsd1.ca.comcast.net)
[20:27:03] *** Joins: luwang (luwang@DCC06C40.F2008CF1.AE1A4313.IP)
[20:27:20] *** Joins: jack (sid19593@moz-A42E5B7B.irccloud.com)
[20:28:52] *** Joins: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu)
[20:29:24] *** Quits: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu) (Connection reset by peer)
[20:29:36] *** Joins: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu)
[20:46:19] *** Quits: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com) (Quit: pcwalton)
[20:51:51] *** Joins: pcwalton (pcwalton@moz-C07D5168.p2p.sfo1.mozilla.com)
[20:51:51] *** ChanServ sets mode: +o pcwalton
[20:55:57] *** Quits: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu) (Client exited)
[20:56:17] *** Joins: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu)
[20:58:14] *** Quits: int3_ (int3_@moz-F9C0ECEB.subnet-224.amherst.edu) (Ping timeout)
[21:03:42] *** Quits: mccr8 (mccr8@moz-48A4B8F7.dsl.dynamic.sonic.net) (Quit: mccr8)
[21:07:11] *** Joins: mccr8 (mccr8@moz-48A4B8F7.dsl.dynamic.sonic.net)
[21:12:56] *** shu is now known as drchuckles_phd
[21:13:05] *** Joins: brson (brson@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[21:13:05] *** ChanServ sets mode: +o brson
[21:13:35] *** Quits: drchuckles_phd (sguo@moz-DB4A9C19.scl3.mozilla.com) (Quit: [1] segmentation fault (core dumped))
[21:14:32] *** Joins: shu (sguo@moz-DB4A9C19.scl3.mozilla.com)
[21:23:50] *** Quits: dherman (dherman@moz-B31C6965.dsl.pltn13.sbcglobal.net) (Quit: dherman)
[21:31:58] *** Joins: gal (gal@moz-D6B8E762.hsd1.ca.comcast.net)
[21:32:12] *** Quits: gal (gal@moz-D6B8E762.hsd1.ca.comcast.net) (Quit: gal)
[21:32:23] *** Joins: gal (gal@moz-D6B8E762.hsd1.ca.comcast.net)
[21:32:39] *** Quits: gal (gal@moz-D6B8E762.hsd1.ca.comcast.net) (Quit: gal)
[21:33:07] *** Joins: gal (gal@moz-D6B8E762.hsd1.ca.comcast.net)
[21:33:20] *** Quits: gal (gal@moz-D6B8E762.hsd1.ca.comcast.net) (Quit: gal)
[21:37:32] *** Joins: gal (gal@moz-D6B8E762.hsd1.ca.comcast.net)
[21:37:41] *** Quits: gal (gal@moz-D6B8E762.hsd1.ca.comcast.net) (Quit: gal)
[21:49:16] *** Quits: mccr8 (mccr8@moz-48A4B8F7.dsl.dynamic.sonic.net) (Quit: mccr8)
[22:05:27] *** Joins: mccr8 (mccr8@moz-48A4B8F7.dsl.dynamic.sonic.net)
[22:20:42] *** Quits: gds (user@moz-E3A7B2B5.range86-160.btcentralplus.com) (Ping timeout)
[22:21:38] *** Joins: mccr8_ (mccr8@moz-48A4B8F7.dsl.dynamic.sonic.net)
[22:21:48] *** Quits: mccr8_ (mccr8@moz-48A4B8F7.dsl.dynamic.sonic.net) (Quit: mccr8_)
[22:28:35] *** Joins: dherman (dherman@moz-6CA476B1.hsd1.ca.comcast.net)
[22:28:35] *** ChanServ sets mode: +qo dherman dherman
[22:39:33] *** Joins: int3_ (int3_@moz-13C8D70.ri.ri.cox.net)
[22:40:51] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[22:43:09] <dherman> does anyone have any idea what SAD would mean, possibly in the context of next-generation hardware?
[22:43:25] <dherman> google is no help, too many possible expansions
[22:43:49] <dherman> or in the context of advanced media processing
[22:48:51] <dherman> looks like it's in the context of SIMD
[22:49:42] <dherman> nmatsaki1: are you still around by chance?
[22:49:46] <dherman> I imagine not
[22:50:21] <dherman> shu: ping?
[22:50:21] *** Joins: gal (gal@moz-D6B8E762.hsd1.ca.comcast.net)
[22:50:22] *** Joins: int3__ (int3_@moz-13C8D70.ri.ri.cox.net)
[22:51:01] *** Quits: int3_ (int3_@moz-13C8D70.ri.ri.cox.net) (Ping timeout)
[22:51:46] <mccr8> dherman: first google hit suggests it is "sum-of-absolute- differences"
[22:51:49] <mccr8> http://www.researchgate.net/publication/248822807_An_Investigation_on_FPGA_based_SAD_Hardware_Implementations
[22:52:38] <mccr8> (searching for sad hardware)
[22:52:58] <dherman> yeah
[22:53:02] <dherman> andreas just filled me in
[22:53:05] <dherman> it's popular in codecs
[22:53:12] <dherman> mccr8: thx!
[22:53:32] <mccr8> np
[22:54:47] *** Joins: brendan (brendaneic@moz-F75AEEB2.public.wayport.net)
[22:55:38] *** Joins: int3_ (int3_@moz-13C8D70.ri.ri.cox.net)
[22:56:49] *** Quits: copumpkin (copumpkin@moz-FC353116.dyn.optonline.net) (Ping timeout)
[22:56:49] *** Quits: int3__ (int3_@moz-13C8D70.ri.ri.cox.net) (Ping timeout)
[22:57:02] *** Joins: int3__ (int3_@moz-13C8D70.ri.ri.cox.net)
[22:57:33] *** Joins: copumpkin (copumpkin@moz-FC353116.dyn.optonline.net)
[22:58:25] *** Quits: int3_ (int3_@moz-13C8D70.ri.ri.cox.net) (Ping timeout)
[23:01:39] *** Joins: int3_ (int3_@moz-13C8D70.ri.ri.cox.net)
[23:02:20] *** Quits: int3__ (int3_@moz-13C8D70.ri.ri.cox.net) (Ping timeout)
[23:04:03] *** Quits: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net) (Quit: azita)
[23:07:09] <dherman> pcwalton: ping
[23:07:14] <pcwalton> dherman: pong
[23:07:45] <dherman> what was the earlier web components concept that got dropped and you hated?
[23:07:54] <dherman> you were saying basically you don't want anything that generates flows from css
[23:07:56] <dherman> right?
[23:08:34] <pcwalton> sorry, was running finicky tests
[23:08:45] <pcwalton> so no, that's stronger than what I wanted
[23:08:50] <pcwalton> what I didn't like was Decorators
[23:08:53] <dherman> ah
[23:09:03] <pcwalton> generating flows from CSS is something that already happens today, with pseudo-elements
[23:09:17] <pcwalton> I don't like them either :) but they're water under the bridge and we know how to slot them in the parallel framework
[23:09:21] <dherman> aha ok
[23:09:39] <pcwalton> what is bad for Servo is creating real DOM nodes from CSS
[23:09:52] <pcwalton> real DOM nodes == JavaScript can see them and/or you can attach events to them
[23:09:53] <dherman> ahhhh
[23:10:00] <dherman> I'd like us to get involved in the conversation about how to do true information hiding with web components
[23:10:23] <pcwalton> this basically rules out any sort of XBL-like technology
[23:10:29] <dherman> and that may involve something like pseudo-elements
[23:10:40] <pcwalton> that sounds bad
[23:10:45] <dherman> hm
[23:10:50] <pcwalton> if it's layout only, I'm fine with it
[23:10:51] <dherman> how do you reconcile that with your desire to self-host?
[23:11:13] <pcwalton> so what I would like is for the "matching" to be purely doable in script land
[23:11:45] <pcwalton> it should not be done as part of CSS selector matching, or else we will have to block the main thread on CSS selector matching and you can kiss any hopes of COW DOM goodbye
[23:12:15] <pcwalton> current Web Components is fine with this because it's simple enough that it's just associated with tag names
[23:12:26] <pcwalton> self-hosting is fine because all we want are special tag names
[23:12:28] <dherman> current WC doesn't yet have support for truly hidden implementations
[23:12:43] <pcwalton> what do you mean by a "hidden implementation"? do you mean a sort of shadow DOM?
[23:12:51] <dherman> shadow DOM with actual information hiding
[23:12:53] <pcwalton> that is fine
[23:12:57] <dherman> shadow DOM today will only be for "scoped" styling
[23:13:04] <dherman> but you can reach under the hood if you try
[23:13:21] <pcwalton> what I object to is using CSS to determine how a Web Component gets applied
[23:13:21] <dherman> I would like us to be involved with the next round of WC discussions
[23:13:39] <dherman> ok, I'm not sure I quite understand what that would look like
[23:13:59] <pcwalton> for example, I'm fine with saying "all <foo> tags get blessed into a Web Component"
[23:14:11] <pcwalton> I'm not fine with saying "all <foo> tags that are first children of siblings of <bar> tags get blessed into a Web Component"
[23:14:17] <pcwalton> i.e. arbitrary CSS selectors
[23:14:21] <pcwalton> that way lies madness
[23:14:27] *** Quits: brson (brson@moz-DFAA4E15.p2p.sfo1.mozilla.com) (Ping timeout)
[23:15:13] <dherman> help me close the loop -- how does that interfere with COW DOM
[23:15:26] *** Joins: azita (Azita@moz-C1FB2A8.hsd1.ca.comcast.net)
[23:15:45] *** Quits: int3_ (int3_@moz-13C8D70.ri.ri.cox.net) (Client exited)
[23:15:54] <pcwalton> it does because if you need to perform selector matching in order to instantiate nodes that are part of the JavaScript event loop, then you have to block the JavaScript event loop as you perform the selector matching
[23:15:54] *** Joins: brson (brson@moz-DFAA4E15.p2p.sfo1.mozilla.com)
[23:15:54] *** ChanServ sets mode: +o brson
[23:16:08] *** Joins: int3_ (int3_@moz-13C8D70.ri.ri.cox.net)
[23:16:11] <pcwalton> we want selector matching to be done off the main thread, so that the JavaScript event loop can never observe the results of selector matching
[23:16:29] <pcwalton> or to be more accurate, that selector matching never interferes with the JavaScript event loop
[23:16:53] <dherman> I probably just don't know enough about how WC's are hooked up to understand the relationship to the JS event loop
[23:16:57] <dherman> I'll have to read more
[23:17:25] <dherman> pcwalton: there's a one day summit on extensible web coming up in a couple weeks
[23:17:53] <dherman> would you be willing to come?
[23:17:55] <dherman> it's a friday
[23:17:56] *** Quits: int3_ (int3_@moz-13C8D70.ri.ri.cox.net) (Ping timeout)
[23:18:13] <pcwalton> in March or April?
[23:18:27] <dherman> april 4
[23:18:31] <pcwalton> I guess so, yeah
[23:18:40] <dherman> I'd like to get servo on people's radar, and also people are interested in studying CSS extensibility
[23:18:41] <pcwalton> I'm not going to be sleeping for the next couple of weeks :)
[23:18:45] <pcwalton> because of Acid2
[23:18:51] <pcwalton> would like to take a vacation at some point
[23:18:53] <dherman> ah
[23:18:54] <dherman> right
[23:18:54] <pcwalton> but it's fine, I'll come
[23:18:59] <dherman> don't interfere with your vacation
[23:19:04] <pcwalton> no, it's all right
[23:19:06] <pcwalton> I have nothing planned
[23:19:25] <pcwalton> or rather, I had something planned for the last week of March but Acid2 killed it so it doesn't matter :)
[23:19:26] <dherman> ok, I'd like to make sure that anything anyone plans for CSS has servo on its radar
[23:19:33] <dherman> :((
[23:21:01] <dherman> I've just asked them to reserve a seat for you
[23:21:04] <pcwalton> ok, cool
[23:21:05] <pcwalton> thanks!
[23:21:09] <dherman> thank you
[23:21:29] *** Quits: mbx (mbebenita@moz-B45FE61C.hsd1.ca.comcast.net) (Ping timeout)
[23:28:07] *** Joins: mbx (mbebenita@moz-B45FE61C.hsd1.ca.comcast.net)
[23:28:36] *** Quits: gal (gal@moz-D6B8E762.hsd1.ca.comcast.net) (Quit: gal)
[23:29:55] *** Parts: faramarz (faramarz@moz-6988E8D1.hsd1.ca.comcast.net) ()
[23:31:38] *** Quits: brendan (brendaneic@moz-F75AEEB2.public.wayport.net) (Quit: brendan)
[23:35:52] *** Joins: brendan (brendaneic@moz-F75AEEB2.public.wayport.net)
[23:37:00] *** Joins: gal (gal@moz-D6B8E762.hsd1.ca.comcast.net)
[23:37:29] *** Quits: brendan (brendaneic@moz-F75AEEB2.public.wayport.net) (Quit: brendan)
[23:39:28] *** Joins: brendan (brendaneic@moz-F75AEEB2.public.wayport.net)
[23:43:20] *** Quits: mekki (mekki@moz-86249198.dsl.teksavvy.com) (Quit: Leaving.)
[23:48:18] *** Quits: mbx (mbebenita@moz-B45FE61C.hsd1.ca.comcast.net) (Ping timeout)
[23:52:11] *** Joins: mbx (mbebenita@moz-B45FE61C.hsd1.ca.comcast.net)
