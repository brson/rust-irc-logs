[00:03:12] *** Quits: npm (npm@moz-ims.mg6.56.172.IP) (Ping timeout: 121 seconds)
[00:04:10] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[00:12:50] *** Joins: kmcguire (kmcguire@moz-c955nf.res.rr.com)
[00:15:01] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[00:17:09] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[00:25:32] *** Joins: aatch (james@moz-ciignl.bmm3.j08e.e000.2406.IP)
[00:26:46] *** Quits: gsingh93 (gulshan@moz-qnbukr.mi.comcast.net) (Ping timeout: 121 seconds)
[00:27:22] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[00:27:33] *** Quits: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net) (Ping timeout: 121 seconds)
[00:28:37] *** Quits: Skyler (Skyler@moz-nu4i4b.sd.cox.net) (Client exited)
[00:38:39] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[00:43:30] *** Quits: kmcguire (kmcguire@moz-c955nf.res.rr.com) (Ping timeout: 121 seconds)
[00:43:54] *** Quits: brson (brson@moz-0i1.c9m.56.172.IP) (Quit: leaving)
[00:44:12] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[00:47:22] *** Quits: ytain (ytain@moz-ge9fgi.dsl.teksavvy.com) (Connection closed)
[00:47:24] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[00:49:13] *** Joins: gsingh93 (gulshan@moz-qnbukr.mi.comcast.net)
[00:51:34] *** Joins: Skyler (Skyler@moz-rv949t.sd.cox.net)
[00:52:20] *** Joins: summerlight_ (summerlight@moz-99k.2mj.130.121.IP)
[00:57:35] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[00:58:15] <bstrie> hm, to address compilation time, I think it would be useful to have a `cargo check` that just runs the compiler through the typechecking phases and stops before codegen
[01:01:18] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[01:03:13] <aatch> bstrie, probably. Why not add it to cargo and open a PR?
[01:03:21] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[01:09:12] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[01:12:41] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Connection closed)
[01:13:49] <bstrie> aatch: I would want to add it to cargo by just having it pass a flag to rustc, and I'm still thinking about what sort of interface rustc would want to provide for that
[01:13:55] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[01:14:02] <aatch> bstrie, we have one.
[01:14:07] <aatch> bstrie, `-Z no-trans`
[01:14:10] <bstrie> ...we do? I didn't see it in rustc -h
[01:14:11] <bstrie> aha
[01:14:30] <bstrie> putting it behind -Z solves the problem for now, I suppose :P
[01:15:25] <aatch> I mean, I'm not sure that `-Z` is a good long-term place for these flags, (since we also have parse-only and no-analysis, which now that I think about are very similar).
[01:20:16] <bstrie> aatch: my only remaining concern is whether or not that flag would fail to play nicely with projects composed of multiple crates. can't compile foo if it depends on bar, but you didn't actually write anything out for bar
[01:20:57] <bstrie> what's a big cargo-based project I can test with?
[01:20:59] *** Quits: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[01:21:12] <bstrie> servo uses mach at the top level, and I'd rather not much with that
[01:21:16] <bstrie> *muck
[01:21:25] *** Quits: untitaker (untitaker@moz-bp4l2l.highway.telekom.at) (Ping timeout: 121 seconds)
[01:21:57] <Manishearth> bstrie: big size-wise?
[01:21:59] <Manishearth> try skia
[01:22:12] <Manishearth> otherwise, h5e and hyper both take a while to compile
[01:22:19] <Manishearth> (skia is bindings)
[01:22:27] <bstrie> Manishearth: big as in number-of-crates-wise
[01:22:44] <Manishearth> bstrie: Servo, and use ./mach cargo and ./mach rustc to get the appropriately-linked-up cargo/rustc
[01:22:59] <Manishearth> cargo root is components/servo
[01:23:16] <aatch> bstrie, maybe an additional flag to `cargo build` to only build dependencies?
[01:24:00] <Manishearth> aatch: does -Z no-trans work with deps?
[01:24:03] <bstrie> aatch: the *ideal* solution would be a flag to let us write out crate metadata before embarking on codegen, because that would be indepently useful for parallelizing builds :)
[01:24:11] <Manishearth> ^ +1
[01:24:31] <Manishearth> I'd love if -Z no-trans would generate the metadata and stop
[01:25:00] <bstrie> maybe I should go shave that yak first
[01:25:15] <aatch> bstrie, sure, but in the mean time, I think that most people are just going to want to check a single crate each time.
[01:25:44] <aatch> bstrie, so a one-time wait of building the dependencies isn't bad.
[01:25:55] <aatch> I mean, it's still strictly better than what we have now.
[01:25:57] <bstrie> hm, you're right, there's no need to recompile deps each time
[01:30:16] *** Joins: untitaker (untitaker@moz-vndvcr.highway.telekom.at)
[01:30:44] <Manishearth> bstrie: if you could get https://github.com/rust-lang/cargo/issues/595 to work, then its not even a problem
[01:30:50] <Manishearth> cargo rustc lib.rs -Z no-trans
[01:30:59] <Manishearth> as in yo uwon't need a separat ecargo check
[01:36:12] <bstrie> Manishearth: we'd definitely still want one anyway, we don't want to go encouraging people to bake -Z flags into their workflow
[01:36:20] <bstrie> that's how you end up with de facto standards
[01:37:35] *** Joins: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net)
[01:37:38] <bstrie> that's a good questin actually, will -Z flags be available in release builds? <-- aturon 
[01:38:23] <Manishearth> bstrie: true
[01:41:35] *** Quits: swgillespie (swgillespie@moz-1i5.3un.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[01:57:22] *** Joins: Florob (Florob@moz-je09t8.de)
[01:58:52] <kmc> huh. I hadn't thought about typechecking a whole dependency graph of crates without running trans/LLVM for all of them
[01:58:59] <kmc> for any, I mean
[02:00:16] <cmr> neither had I. but it seems like it'd be able to cut overall compiletime down by half.
[02:01:52] *** Quits: Florob (Florob@moz-je09t8.de) (Quit: leaving)
[02:06:56] *** Joins: marsel (user@moz-1mr.iia.180.94.IP)
[02:07:40] <kmc> yeah
[02:08:26] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[02:09:08] <kmc> I came up with the idea to write metadata early, but it didn't occur to me that you could check a whole project while building *only* metadata
[02:09:24] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[02:09:53] <aatch> Metadata is still embedded in libraries intended to present just a C interface, right?
[02:10:04] *** Quits: kimundi (kimundi@moz-qie1ht.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[02:10:08] <kmc> you mean staticlib crates? I'm not sure
[02:10:31] <Amaranth> bstrie: I think the piston examples end up dragging in about 30 crates of dependencies, if you still need an example
[02:10:41] *** Quits: summerlight_ (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[02:10:45] <Amaranth> err, not example, test case, whatever
[02:11:21] *** Joins: kimundi (kimundi@moz-al1nvt.dip0.t-ipconnect.de)
[02:12:11] <aatch> At any rate, one advantage of writing metadata out to a separate file is that you could specify that you don't want the metadata to be embedded in the output.
[02:12:37] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[02:12:54] *** Quits: rovar (rovar@moz-6iq.47m.88.38.IP) (NickServ (RECOVER command used by Guest6710))
[02:12:55] *** Guest6710 is now known as rovar
[02:13:07] *** Joins: rovar_ (rovar@moz-6iq.47m.88.38.IP)
[02:13:19] <aatch> If we don't compress the metadata file, but still compress the metadata in the output, then that'll help too.
[02:15:32] *** kimundi is now known as zz_kimundi
[02:16:29] *** Joins: Twisol (textual@moz-b8p.mnr.166.130.IP)
[02:22:03] *** zz_kimundi is now known as kimundi
[02:25:01] *** Joins: scemin (scemin@moz-6v59cl.user.start.ca)
[02:27:00] *** Joins: montezuma (Mibbit@moz-juv.9o3.252.72.IP)
[02:29:10] *** Quits: gsingh93 (gulshan@moz-qnbukr.mi.comcast.net) (Ping timeout: 121 seconds)
[02:31:08] *** Quits: scemin (scemin@moz-6v59cl.user.start.ca) (Client exited)
[02:34:33] *** Quits: montezuma (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[02:37:24] <bstrie> Amaranth: ah yes, piston sounds good for this
[02:38:21] *** Quits: chc4 (chc4@moz-pdo0at.ma.comcast.net) (Quit: AHHHHH BEES)
[02:53:29] *** Joins: Florob (Florob@moz-je09t8.de)
[02:55:24] *** Quits: Twisol (textual@moz-b8p.mnr.166.130.IP) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[02:56:05] *** Joins: kushal (kdas@moz-so4.f0d.244.121.IP)
[02:58:36] *** Joins: p1start (p1start@moz-nftjhe.org)
[03:02:52] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[03:06:59] <bstrie> hm, in the parser, why is `virtual` in the list of keywords used today instead of the list of keywords that might be used someday
[03:07:15] <bstrie> also, we still have `proc` reserved
[03:10:06] <huon> presumably an oversight for virtual
[03:11:16] <bstrie> mostly I'm just curious if we actually have any gated feature that uses the keyword
[03:11:24] <huon> grep for it?
[03:11:24] <ChrisMorgan> Why does Drop::drop take &mut self rather than self?
[03:11:26] <bstrie> tucked away somewhere in the bowels of the compiler
[03:12:03] <Mutabah> ChrisMorgan: I believe to avoid too much special-casing of the drop method
[03:12:31] <bstrie> ChrisMorgan: I remember this being a big discussion a long time ago, forget the ultimate reason
[03:13:10] *** Quits: erz (erz@moz-n2p94l.broadband.corbina.ru) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[03:13:49] <nrc> bstrie: no, I think it is oversight
[03:14:00] <nrc> First PR using rustfmt: https://github.com/rust-lang/rust/pull/24927
[03:14:01] <huon> nrc: "automatically done with rustfmt" \o/
[03:14:02] <nrc> \o/
[03:15:20] <bstrie> nrc: is rustfmt at a stage where I can read the output without recoiling in horror? :)
[03:15:38] <nrc> bstrie: the output is that PR
[03:15:50] <bstrie> I'm scared
[03:15:52] <nrc> there is no post-hoc editing
[03:15:56] <bstrie> what if it doesn't conform to my personal style
[03:16:09] <nrc> it is configurable to some extent
[03:16:16] <bstrie> what if you revealed yourself as a filthy tab-user after all these years!
[03:16:32] *** Quits: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com) (Ping timeout: 121 seconds)
[03:17:02] <nrc> (I should note there is a reason it is only run on those files, there is a way to go before it can do the whole distro)
[03:17:06] <p1start> nrc: Which rustfmt is this?
[03:17:15] <nrc> (and it doesn't attempt to reformat everything)
[03:17:30] <nrc> p1start: https://github.com/nrc/rustfmt
[03:17:49] *** Joins: GBGamer (npm@moz-92sbjt.wa.comcast.net)
[03:18:00] <GBGamer> hey, I'm getting an issue with compiling rustc
[03:18:14] <GBGamer> could someone else try to compile the latest master?
[03:18:19] <GBGamer> (from scratch)
[03:18:53] <huon> nrc: is that related to https://internals.rust-lang.org/t/completing-rustfmt-and-the-rust-style-guidelines/1685/53?u=huon or https://internals.rust-lang.org/t/completing-rustfmt-and-the-rust-style-guidelines/1685/37?u=huon ?
[03:18:58] <GBGamer> the error is: make/platform/clang_linux.mk:16: *** "unable to infer compiler target triple for "
[03:19:13] <nrc> huon: no
[03:19:32] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[03:19:33] <GBGamer> After a ton of warnings about "dropping arch '...' from lib '...'"
[03:19:42] <GBGamer> in clang_darwin.mk
[03:19:45] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[03:19:55] <nrc> huon: its the version I was talking about further up in that thread
[03:20:31] <nrc> GBGamer: have you tried re-configuring?
[03:20:43] <GBGamer> yeah
[03:20:56] <GBGamer> I'm currently attempting to redownload...
[03:22:14] <GBGamer> what is weird is I was able to compile earlier today (as evidenced by the 5-7 times I've had to compile over the past three days :/)
[03:23:39] <GBGamer> and I've emptied my CC and CFLAGS environment variables, which I know's caused problems in the past
[03:25:11] <bstrie> nrc: I infer that you disagree with Official Rust Standards about soft wrapping at 100 instead of 80 :P
[03:25:45] <GBGamer> I'd like to voice my disagreement about that as well
[03:25:57] <GBGamer> My computer screen is less than 200 characters wide
[03:26:13] <nrc> bstrie: I ... I have left that kind of configurable. I've got an ideal width of 80 and a max width of 100, I'm fairly inconsistent about where to wrap
[03:26:31] <GBGamer> And I like having my code on one half, and docs/youtube/whatever on the other
[03:27:02] <nrc> bstrie: it probably needs some polishing as to where exactly to use the ideal vs max widths
[03:27:08] <ChrisMorgan> nrc: I reckon it should be soft wrap after 79, hard wrap after 99. So on src/librustc_resolve/lib.rs, old line 71, it should have remained as is because itâ€™s 99 characters long unwrapped.
[03:27:33] <bstrie> GBGamer: you just need a thinner font like the luxurious PragmataPro http://www.fsd.it/fonts/pragmatapro.htm :P
[03:27:36] *** Joins: semarie (semarie@moz-c3u0pj.li)
[03:28:11] <GBGamer> ugh, those capitals tho...
[03:28:17] <GBGamer> not very nice looking
[03:28:27] <GBGamer> (imo)
[03:28:31] <ChrisMorgan> And yet 197â€“199 were merged to one line of 95 charactersâ€¦
[03:28:31] <nrc> ChrisMorgan: I think I agree, I haven't tried hard enough to do that in some places, e.g., imports
[03:28:51] <nrc> right, it depends on the context how the ideal vs max are used
[03:29:02] <GBGamer> I personally use liberation mono 9
[03:29:08] <nrc> ChrisMorgan: very much WIP
[03:29:17] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[03:29:39] *** Quits: Kxepal832 (Miranda@moz-vu2q70.pppoe.mtu-net.ru) (Ping timeout: 121 seconds)
[03:30:16] <ChrisMorgan> In `fn foo(multiple lines of arguments)\n-> return type`, I reckon visual indent would have the -> aligned with the (, not after it, so that it would be one space closer to the edge than the arguments which were aligned after the (.
[03:31:07] <ChrisMorgan> Itâ€™s nice seeing this stuff happening â˜º
[03:31:24] <nrc> I prefer aligning -> with indent + 4, ie., with the where clause
[03:31:34] <nrc> but that style is not followed in much of the repo
[03:31:59] <nrc> for stuff like this I have configuration options for what I think is the current style vs ideal style
[03:32:03] <ChrisMorgan> I like visual indent (as distinct from hanging indent).
[03:32:15] *** Joins: Kxepal (Miranda@moz-vu2q70.pppoe.mtu-net.ru)
[03:32:23] <nrc> I try to make sure both work, but am only trying to land a PR which makes things more consistent for now
[03:32:32] <nrc> ChrisMorgan: could you explain the difference?
[03:32:36] <ChrisMorgan> In some ways Iâ€™d like such a thing to *not* be configurable.
[03:33:19] <ChrisMorgan> nrc: https://www.python.org/dev/peps/pep-0008/#indentation
[03:33:55] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[03:34:42] <ChrisMorgan> Hanging indent: `long_thing(\n\targ1,\n\targ2)`. Visual indent: `long_thing(arg1,\n           arg2)`.
[03:34:43] <nrc> I like visual ident for args, hanging indent is ugly
[03:34:55] <ChrisMorgan> Yeah, visual indent is normally nicer.
[03:35:23] <scott> visual indent is really awful when the beginning part is long
[03:35:27] <nrc> for the return type, I find a visual indent is harder to scan - the return type doesn't stand out from the args
[03:35:52] <ChrisMorgan> Sadly PEP 8 doesnâ€™t explicitly *quite* give visual indent that name, but the pep8 tool does.
[03:37:12] <bstrie> visual indent doesn't scale, hanging indent looks better in pathological cases :P
[03:37:15] *** Quits: sprang (sprang@moz-d0kmvi.12d9.sm5v.0009.2601.IP) (Ping timeout: 121 seconds)
[03:37:18] <ChrisMorgan> nrc: really, why should there be *any* additional indent on -> and where? Why shouldnâ€™t they line up with the fn? `fn foo(args with optional line breaks following visual indent)\n-> Return\nwhere Foo {\n    body\n}
[03:37:35] <ChrisMorgan> bstrie: â€¦ and thatâ€™s the only reason hanging indent in things like function calls should be allowed at all, IMO.
[03:37:52] <phaylon> I'm actually going with "indent once if line is inside a grouping", so `->` and `where` are in line with `fn`. I do not expect it to catch on :)
[03:38:05] <phaylon> oh, maybe it will
[03:38:24] *** Joins: sprang (sprang@moz-d0kmvi.12d9.sm5v.0009.2601.IP)
[03:38:25] <GBGamer> I like the librustc way of doing it, personally
[03:38:27] <ChrisMorgan> (Maybe I just donâ€™t like allowing the `{` to go on its own line.)
[03:38:30] <nrc> I like -> and where to be indented - makes them look like part of the function, makes it easy to scan down the lhs for items
[03:38:40] <bstrie> ChrisMorgan: unless you're writing a sufficiently-smart formatter, you're better off assuming that all cases are pathological and just going with hanging indent
[03:38:44] <nrc> I am being converted towards new line before {
[03:38:59] <GBGamer> nrc: I would really love to do that
[03:39:10] <nrc> it looks nice with where clauses, so why not be consistent with functions without where clauses
[03:39:13] <Luqman> nrc: no, we're losing more people :(
[03:39:21] <GBGamer> Actually, librustc is only my second favorite format
[03:39:35] <nrc> bstrie: the formatter doesn't need to be very smart to do that, and hanging is so ugly
[03:39:39] <GBGamer> I'd much prefer linux-style (although 4-space, not 8-tab)
[03:40:01] <bstrie> nrc: better plan: abolish wrapping entirely and all this goes away :)
[03:40:03] <GBGamer> I can't remember what it's called
[03:40:07] <nrc> there is no rustc style :-p every crate is different!
[03:40:20] <nrc> bstrie: everything on one line!
[03:40:23] <GBGamer> nrc: librustc_trans, then :P
[03:40:38] <GBGamer> nrc: yessss
[03:40:41] <Luqman> every file*
[03:40:58] <GBGamer> fn main { let a = "hello world"; println!("{}", a); }
[03:42:44] <GBGamer> fn usage(verbose: bool, include_unstable_options: bool) { let groups = if verbose { config::rustc_optgroups()     } else { config::rustc_short_optgroups() }; let groups : Vec<_> = groups.into_iter() .filter(|x| include_uns    table_options || x.is_stable()) .map(|x|x.opt_group) .collect(); let message = format!("Usage: rustc [OPTIONS    ] INPUT"); let extra_help = if verbose { "" } else { "\n    --help -v           Print the full set of options
[03:42:53] <GBGamer> ^ this is how we should write all programs
[03:43:27] <bstrie> GBGamer: not extreme enough, we should just be writing raw AST instead
[03:43:43] <GBGamer> just get rid of rust entirely: write in llvm ir
[03:44:03] <GBGamer> s/ir/bc
[03:44:08] <GBGamer> no more issues with style!
[03:44:32] <c74d> Does the borrow-checker work on that?
[03:45:39] <ChrisMorgan> Just erase all non-essential whitespace.
[03:45:57] <aatch> c74d, the only part of the compiler that cares about what Rust code actually looks like is the parser.
[03:47:50] <c74d> I don't suppose LLVM bitcode can be fed the subsequent bits of rustc and type-checked and borrow-checked just as thoroughly as Rust source, though?
[03:47:54] <c74d> *fed to
[03:48:04] <GBGamer> unlikely
[03:48:56] <ChrisMorgan> aatch: well, a procedural macro can have significant whitespace if it wants to.
[03:49:28] <ChrisMorgan> (It probably shouldnâ€™t, but it can.)
[03:49:49] <aatch> ChrisMorgan, I'd argue that still counts as the parser.
[03:50:02] <GBGamer> I feel like it would be interesting to write an entire program in a compiler plugin
[03:50:13] <GBGamer> And I wonder if it would be possible
[03:50:17] <GBGamer> (it should be possible)
[03:50:27] <aatch> Well quasiquoting means it is.
[03:51:16] *** Quits: p1start (p1start@moz-nftjhe.org) (Ping timeout: 121 seconds)
[03:51:44] *** Joins: gsingh93 (gulshan@moz-qnbukr.mi.comcast.net)
[04:01:11] *** Joins: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP)
[04:07:48] *** Quits: Diggsey (diggsey@moz-oatv88.dsl.pipex.com) (Ping timeout: 121 seconds)
[04:23:28] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[04:26:44] *** Quits: kushal (kdas@moz-so4.f0d.244.121.IP) (Ping timeout: 121 seconds)
[04:27:58] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[04:28:54] <bstrie> we really need to make the shootout not try to compile rust code with -C lto
[04:28:57] <nrc> hmm, libgraphviz is a bit more interesting: https://github.com/nrc/rust/commit/4f13368792b7c2e8523f64472d505fbeaa12748a
[04:29:04] <bstrie> "oh hey look the rust compiler takes 15 seconds to compile a single file"
[04:29:33] <nrc> when we do switch to hanging indent, I'm not sure if we should move the (
[04:29:51] <nrc> and we are failing a bit when hitting macros, but that is somewhat to be expected
[04:30:23] <nrc> not sure if I should land that one...
[04:31:55] <nrc> I could just fix up the macros manually, I guess
[04:32:24] <bstrie> acrichto: can we make -C lto unstable so that people stop using it to argue that the rust compiler is slow? :P
[04:34:07] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[04:35:17] <cmr> nrc: is your current formatting manual?
[04:35:23] <Yurume> -C slow-lto
[04:35:29] <Yurume> then we can try making -C fast-lto
[04:35:30] <nrc> cmr: no fully automatic
[04:35:42] <bstrie> -C basically-just-make-the-compiler-15x-slower-for-no-benefit
[04:35:50] <cmr> nrc: by what tool?
[04:36:03] <cmr> (please say your rustfmt)
[04:36:10] <nrc> cmr: https://github.com/nrc/rustfmt
[04:36:29] <Yurume> bstrie: -C cost-ineffective-futile-attempt
[04:36:35] <cmr> niiiice.
[04:38:52] *** Quits: semarie (semarie@moz-c3u0pj.li) (A TLS packet with unexpected length was received.)
[04:41:02] *** Quits: marsel (user@moz-1mr.iia.180.94.IP) (Ping timeout: 121 seconds)
[04:41:14] *** Joins: munksgaard (munksgaard@moz-478pev.u.parknet.dk)
[04:46:02] *** Joins: semarie (semarie@moz-24ed32.exit.babylon.network)
[04:54:59] *** Joins: rprichard (rprichard@moz-qtpr9r.en8f.d045.0009.2601.IP)
[05:16:40] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[05:16:59] *** Quits: munksgaard (munksgaard@moz-478pev.u.parknet.dk) (Ping timeout: 121 seconds)
[05:17:37] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[05:19:49] *** Joins: p1start (p1start@moz-nftjhe.org)
[05:22:08] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[05:24:39] *** Quits: eddyb_ (eddyb@moz-mj8.sgj.26.188.IP) (Ping timeout: 121 seconds)
[05:27:33] *** Quits: tamird (textual@moz-5v5pe2.ca.comcast.net) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[05:31:54] *** Quits: O01eg (o01eg@moz-vdhhdg.f0so.4n8f.2698.2a02.IP) (Client exited)
[05:31:56] *** Joins: eddyb (eddyb@moz-mj8.sgj.26.188.IP)
[05:32:51] *** Joins: eibwen (eibwen@moz-oora8v.dip0.t-ipconnect.de)
[05:36:09] *** Joins: gen_battle (genbattle@moz-4v0.gkd.16.182.IP)
[05:37:55] *** Quits: doener (doener@moz-929cn9.unity-media.net) (Connection closed)
[05:39:32] *** Quits: genbattle (genbattle@moz-4v0.gkd.16.182.IP) (Ping timeout: 121 seconds)
[05:39:33] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[05:40:19] *** Quits: gen_battle (genbattle@moz-4v0.gkd.16.182.IP) (Ping timeout: 121 seconds)
[05:45:06] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Quit: It's a joke, it's all a joke.)
[05:47:56] *** Joins: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com)
[05:49:41] <GBGamer> Yeah, okay
[05:49:46] <GBGamer> it really doesn't work
[05:49:58] <GBGamer> compiling does not work
[05:50:43] <GBGamer> argh
[05:50:44] <GBGamer> Okay, I figured it out
[05:50:53] <GBGamer> You need to set CC now
[05:51:04] <klutzy> hmm?
[05:51:05] <GBGamer> why? why isn't it set in the makefile?
[05:51:29] <klutzy> you mean `make` doesn't work?
[05:52:12] <GBGamer> Makefile doesn't set CC, so if the environment variable is unset, then CC will not be set
[05:52:26] <GBGamer> or wait...
[05:52:31] <GBGamer> No, this is a deeper bug
[05:52:35] <GBGamer> hrm
[05:52:43] <GBGamer> Because compiling libllvm works
[05:52:50] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Client exited)
[05:52:58] <GBGamer> but, if CC is unset, then compiling rustc will fail
[05:53:28] <GBGamer> argh, I hate autotools
[05:53:53] <cmr> we don't use autotools?
[05:54:02] <GBGamer> yeah, rustc does
[05:54:14] <GBGamer> (./configure? isn't that autotools?)
[05:54:19] <cmr> no, rustc doesn't.
[05:54:23] <GBGamer> (that's what I always called autotools)
[05:54:24] <cmr> that's a custom written configure script.
[05:55:05] <cmr> the CFG_CC gets cached in config.mk so it shouldn't matter if you unset it or not.
[05:55:12] <GBGamer> well it does
[05:55:20] <cmr> like, I don't even have CC set.
[05:55:28] <GBGamer> because CC= make -j8 doesn't work
[05:55:34] <GBGamer> while CC=clang make -j8 does
[05:55:37] <cmr> that is not unset
[05:55:43] <cmr> that is an empty environment variable.
[05:55:47] <cmr> of course *that* doesn't work.
[05:56:02] <GBGamer> hrm? then why does compiling llvm work?
[05:56:08] *** Quits: ebfull (ebfull@moz-2hf06a.co.comcast.net) (Quit: Konversation terminated!)
[05:56:14] *** Joins: ebfull (ebfull@moz-2hf06a.co.comcast.net)
[05:56:16] <GBGamer> Also, why did it work yesterday?
[05:57:09] <GBGamer> nah, it is unset
[05:57:24] <GBGamer> or nevermind... hmm
[05:57:26] <GBGamer> one sec
[05:57:48] *** Quits: aatch (james@moz-ciignl.bmm3.j08e.e000.2406.IP) (Connection closed)
[05:58:03] <GBGamer> You're right, huh
[05:58:10] <scott> any ideas when std::intrinsics::type_name might become stable?
[05:58:21] <cmr> scott: almost certainly never.
[05:58:39] <GBGamer> why did I think that CC= make makes CC unset?
[05:58:40] <scott> it would be great to add a t! macro to playbot's template, and that being unstable is the only blocker
[05:58:41] <cmr> due to being an instrinsic.
[05:59:11] <scott> what's the best solution? a way to print types would be useful for teaching in #rust
[05:59:40] <cmr> I don't know.
[06:01:05] <GBGamer> I always just assumed that any configure files were related to autotools
[06:01:37] <scott> I guess we could just move playbot back to nightly
[06:01:44] <GBGamer> but I would like to know: why does a blank CC work for compiling llvm, but not for compiling rust...
[06:01:48] <scott> there doesn't seem to be much benefit to having it on beta
[06:02:44] *** Joins: James (quassel@moz-9kp9p2.range86-148.btcentralplus.com)
[06:02:48] <cmr> GBGamer: looks like autotools checks for the empty string in env vars and if it's empty, doesn't consider it set.
[06:03:02] <klutzy> llvm uses its own `configure` so it would be possible
[06:03:10] <GBGamer> ah, makes sense
[06:03:13] <cmr> llvm uses legit-autotools
[06:04:06] <GBGamer> well, I think it's probably? a good idea to check for that?
[06:04:17] <GBGamer> I mean, easy enough to do.
[06:04:32] <GBGamer> would anyone mind that?
[06:05:40] <klutzy> not sure; there are many env variables and it's confusing to permit only some of them empty
[06:05:55] <GBGamer> hmm, guess I won't change it then
[06:06:02] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[06:07:28] *** Joins: squiddy (squiddy@moz-md4.pm3.19.178.IP)
[06:11:45] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[06:16:19] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[06:22:24] *** Joins: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net)
[06:22:24] *** ChanServ sets mode: +o pnkfelix
[06:23:29] *** Quits: squiddy (squiddy@moz-md4.pm3.19.178.IP) (Ping timeout: 121 seconds)
[06:24:40] <bstrie> can attributes apply to assignment statements?
[06:24:46] <cmr> no.
[06:24:51] <bstrie> hmm
[06:24:51] <cmr> no attributes on statements.
[06:25:10] <bstrie> thus dies the dream of `#[volatile] let x;` :P
[06:26:11] <geofft> that's an item, not an assignment statement, no? 
[06:26:23] <cmr> no, that's not an item.
[06:26:34] <bstrie> maybe we could have a wrapper type for volatile things
[06:26:35] <cmr> items are the things allowed directly inside module bodies.
[06:26:41] <bstrie> implemented with compiler magic
[06:27:32] <bstrie> let x: Volatile<usize>;
[06:27:35] <huon> no particular need for compiler magic
[06:27:47] <huon> we already have the intrinsics
[06:27:52] <bstrie> oh we do? great :)
[06:27:56] <cmr> yeah, such an API wouldn't feel very nice though.
[06:28:22] <cmr> ie it'd be an explicit .load()/.store(), since if you have Deref/DerefMut, the compiler wouldn't emit the volatile loads/stores.
[06:28:44] <huon> it could behave like a Cell, but stricter in terms of if/when interactions happen
[06:29:00] <bstrie> well if we want it to be nice we can have a full-fledged keyword, I'm just trying to think of the least-invasive proposal possible :P
[06:29:02] *** Joins: squiddy (squiddy@moz-md4.pm3.19.178.IP)
[06:30:35] <p1start> Attributes on patterns would be much more useful than attributes on `let` anyway
[06:30:50] <cmr> yeah.
[06:30:50] <p1start> So you could use #[volatile] in `match` as well
[06:30:54] <p1start> Like mut
[06:31:04] <cmr> (yeah re: huon)
[06:31:22] <bstrie> let #[volatile] x;
[06:31:26] <bstrie> maybe still better than a keyword
[06:31:56] <reem> attributes on patterns sounds incredibly useful
[06:32:04] <p1start> Also, the accepted RFC 16 totally allows attributes on statements: https://github.com/rust-lang/rfcs/blob/master/text/0016-more-attributes.md
[06:32:15] <cmr> it's totally not implemented.
[06:32:21] <huon> it seems like volatility is more likely to be an inherent property of a memory location, rather than something that makes sense for "random" variable bindings
[06:32:25] <p1start> Yeah, thatâ€™s the problem
[06:32:45] <p1start> (the problem is that itâ€™s not implemented, I mean)
[06:33:22] <p1start> Also, we have pattern macros, so maybe let volatile!(x) = 1; could be done with some compiler magic
[06:35:08] <XMPPwocky> why not do what we do with atomics
[06:35:33] <huon> XMPPwocky: that's what the Volatile<usize> idea from above is, right? :)
[06:35:37] <XMPPwocky> hm, yeah
[06:35:48] <XMPPwocky> you could have a VolatileCell, equivalent to Cell but implemented with volatile intrinsics
[06:41:41] *** Quits: gsingh93 (gulshan@moz-qnbukr.mi.comcast.net) (Ping timeout: 121 seconds)
[06:42:49] <cmr> Volatiles are so infrequently useful though.
[06:44:00] <WindowsBunny> what do volatiles offer over Cell?
[06:44:04] <GBGamer> but when they're useful, they're really useful
[06:44:25] <GBGamer> WindowsBunny: completely seperate things
[06:44:29] <huon> WindowsBunny: they're necessary for certain hardware interactions
[06:46:14] *** Joins: munksgaard (munksgaard@moz-478pev.u.parknet.dk)
[06:47:21] *** Joins: Tuba (Tobba@moz-6oh.7ki.21.217.IP)
[06:50:35] *** Joins: eddyb__ (eddyb@moz-mj8.sgj.26.188.IP)
[06:51:02] *** Quits: eddyb (eddyb@moz-mj8.sgj.26.188.IP) (Connection closed)
[06:52:21] *** Quits: madmalik (uid13697@moz-lfin5p.brockwell.irccloud.com) (Quit: Connection closed for inactivity)
[06:55:28] <GBGamer> why does make install take so long?
[06:55:38] <GBGamer> (rustc)
[06:56:51] <bstrie> reading this Reenix paper makes me nostalgic for the box syntax :P
[06:57:35] <bstrie> pnkfelix: I was told you're the one in charge of placement-in, what's the status of that :)
[06:57:37] <GBGamer> bstrie: take it back! #![feature(box_syntax)] :P
[06:57:44] *** Quits: James (quassel@moz-9kp9p2.range86-148.btcentralplus.com) (Ping timeout: 121 seconds)
[06:57:49] <bstrie> GBGamer: no! must... resist... nightly...
[06:58:19] <GBGamer> Do we have any idea when box syntax is coming back?
[06:58:29] <bstrie> GBGamer: I was just asking
[06:58:49] <GBGamer> Oh, yeah, I totally didn't understand that question
[07:00:03] <XMPPwocky> pssshhh
[07:00:19] <GBGamer> pshaw?
[07:00:20] <XMPPwocky> i just hexedit the beta to nop out stability checks
[07:00:35] <GBGamer> You don't even need to do that
[07:01:06] <GBGamer> It's actually really easy to turn off stability checks for beta, if you compile yourself
[07:01:22] <GBGamer> (although, you know... don't do that)
[07:02:51] *** Joins: eddyb (eddyb@moz-mj8.sgj.26.188.IP)
[07:04:23] *** Quits: Tuba (Tobba@moz-6oh.7ki.21.217.IP) (Ping timeout: 121 seconds)
[07:04:31] *** Quits: eddyb (eddyb@moz-mj8.sgj.26.188.IP) (Quit: Konversation terminated!)
[07:05:57] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[07:09:31] <WindowsBunny> GBGamer: What's the point of having your own locally built beta with disabled stability checks?
[07:10:28] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[07:11:22] *** Quits: Murarth (Murarth@moz-eb5009.dyn.nltelcom.net) (Quit: Mani Mani is always Mani Mani at Mani Mani with all Mani Mani Mani)
[07:11:40] *** Joins: Murarth (Murarth@moz-mpmr8r.phnx.qwest.net)
[07:17:07] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Client exited)
[07:17:09] <eddyb__> WindowsBunny: are the builder logs still public?
[07:17:23] <WindowsBunny> eddyb__: buildbot logs are public
[07:17:28] <eddyb__> just grab the key from there :P
[07:17:58] *** Joins: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de)
[07:33:28] *** Quits: mgottschlag (quassel@moz-8uvcc8.hsi15.kabel-badenwuerttemberg.de) (Ping timeout: 121 seconds)
[07:41:18] *** Quits: munksgaard (munksgaard@moz-478pev.u.parknet.dk) (Ping timeout: 121 seconds)
[07:44:30] *** Quits: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com) (Ping timeout: 121 seconds)
[07:49:49] *** Quits: swgillespie (swgillespie@moz-rn1.vmq.232.104.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[07:50:18] *** Joins: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se)
[07:51:47] *** Joins: mib_ebyr9k (Mibbit@moz-vtqnf3.res.rr.com)
[07:54:36] *** Quits: Kxepal (Miranda@moz-vu2q70.pppoe.mtu-net.ru) (Connection closed)
[07:59:40] *** Joins: Kxepal (Miranda@moz-u3tmbo.pppoe.mtu-net.ru)
[08:00:05] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[08:02:13] *** Joins: summerlight_ (summerlight@moz-99k.2mj.130.121.IP)
[08:02:24] *** Quits: semarie (semarie@moz-24ed32.exit.babylon.network) (Ping timeout: 121 seconds)
[08:02:58] *** Joins: semarie (semarie@moz-aibut3.zenger.nl)
[08:04:02] *** Quits: mib_ebyr9k (Mibbit@moz-vtqnf3.res.rr.com) (Quit: http://www.mibbit.com ajax IRC Client)
[08:04:37] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[08:06:11] *** Quits: sprang (sprang@moz-d0kmvi.12d9.sm5v.0009.2601.IP) (Ping timeout: 121 seconds)
[08:07:26] *** Joins: laumann (thomas@moz-3v9.hq0.225.130.IP)
[08:07:58] *** Joins: sprang (sprang@moz-d0kmvi.12d9.sm5v.0009.2601.IP)
[08:09:10] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[08:09:29] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[08:09:53] *** Joins: doener (doener@moz-929cn9.unity-media.net)
[08:11:12] *** Joins: munksgaard (munksgaard@moz-vj4.hq0.225.130.IP)
[08:11:51] *** Joins: laumann_ (thomas@moz-3v9.hq0.225.130.IP)
[08:12:20] *** Joins: madmalik (uid13697@moz-lfin5p.brockwell.irccloud.com)
[08:14:13] *** Joins: Guest63 (textual@moz-qfs.570.70.83.IP)
[08:15:51] *** Joins: mjboa (mike@moz-gfdglf.hsi06.unitymediagroup.de)
[08:32:23] *** Joins: Tuba (Tobba@moz-6oh.7ki.21.217.IP)
[08:34:31] *** Joins: kushal (kdas@moz-so4.f0d.244.121.IP)
[08:39:49] <pnkfelix> r? https://github.com/rust-lang/rust/pull/24932
[08:42:47] <huon> pnkfelix: how subtle
[08:42:59] <pnkfelix> huon: it was super fun to track down
[08:54:14] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[08:58:48] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[08:59:24] <pnkfelix> huon: btw
[09:00:04] <pnkfelix> huon: I noticed that if I put `compile-flags:-g` in the test, it barfs on my own build because my configuration already adds `-g`
[09:00:05] *** Joins: Tobba_ (Tobba@moz-6oh.7ki.21.217.IP)
[09:00:26] <pnkfelix> huon: do you know the right way to encode a test, in a robust way, that really wants to require `-g` ?
[09:00:31] <huon> pnkfelix: hm
[09:00:43] <huon> I recall some other problem along this lines earlier
[09:00:48] <huon> I don't recall the solution
[09:00:49] <pnkfelix> huon: (it also seems questionable that the compiler errors on multiple `-g` flags...)
[09:01:04] <pnkfelix> huon: I guess we could try to make compiletest smarter
[09:01:23] <pnkfelix> in terms of not inserting flags that were already in the command line.
[09:01:32] <huon> or make the compiler 'smarter' (just yesterday I was annoyed at cargo for the same thing)
[09:02:00] *** Quits: Tuba (Tobba@moz-6oh.7ki.21.217.IP) (Ping timeout: 121 seconds)
[09:02:50] <pnkfelix> huon: yeah making `rustc` more "robust" is another option.  but I don't know, for some options I guess you may want to future-proof for option of "many occurrences has different behavior from a single occurrence"
[09:03:03] <pnkfelix> huon: the way e.g. that in some programs, `-v -v` is "more verbose" than `-v`
[09:03:12] <pnkfelix> but then again, I sort of think the latter is an anti-pattern anyway
[09:03:56] *** Quits: spastorino (sid27384@moz-2ij.vkt.184.192.IP) (Ping timeout: 121 seconds)
[09:03:58] *** Quits: carllerche (sid50851@moz-2ij.vkt.184.192.IP) (Ping timeout: 121 seconds)
[09:04:07] *** Quits: jvns (sid26231@moz-2ij.vkt.184.192.IP) (Ping timeout: 121 seconds)
[09:04:22] *** Quits: squiddy (squiddy@moz-md4.pm3.19.178.IP) (Quit: Leaving)
[09:05:11] *** Joins: jvns (sid26231@moz-p7mvuh.brockwell.irccloud.com)
[09:05:40] *** Joins: carllerche (sid50851@moz-8i75uq.brockwell.irccloud.com)
[09:05:40] *** Joins: spastorino (sid27384@moz-i6sgse.brockwell.irccloud.com)
[09:07:05] <bluss> can I nominate things for beta inclusion?
[09:10:46] *** Joins: aepsil0n (eduard@moz-6491ha.mv2h.pepi.8071.2a02.IP)
[09:11:09] *** Quits: laumann_ (thomas@moz-3v9.hq0.225.130.IP) (Quit: leaving)
[09:11:54] <pnkfelix> bluss: i had thought the intention was that the PR reviewers would do it. but what PR are you thinking of?
[09:13:29] <bluss> https://github.com/rust-lang/rust/pull/24865
[09:23:14] <pnkfelix> i'm not personally convinced that a bug like this warrants cherry-pick to beta but I'll put it on the nomination list so we at least discuss it.
[09:35:07] *** Joins: imperio (Mibbit@moz-pt7l4r.rev.sfr.net)
[09:39:08] <doener> kimundi: ping
[09:44:30] <bluss> thanks pnkfelix, yeah it's just nominating
[09:44:41] <bluss> just want it to be discussed
[09:45:07] <bluss> playbot: (-1i8..127).collect::<Vec<_>>()
[09:45:09] -playbot- playpen: application terminated abnormally with signal 4 (Illegal instruction)
[09:47:03] *** kimundi is now known as zz_kimundi
[09:48:23] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[09:52:56] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[09:57:32] *** Quits: Tobba_ (Tobba@moz-6oh.7ki.21.217.IP) (Ping timeout: 121 seconds)
[10:04:53] <SimonSapin> Manishearth: when do you use @bors: force rather than p=1?
[10:05:48] *** Quits: summerlight_ (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[10:05:55] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[10:06:56] *** Quits: Guest63 (textual@moz-qfs.570.70.83.IP) (Ping timeout: 121 seconds)
[10:12:22] *** Quits: johnsoft (johnsoft@moz-69mrig.res.rr.com) (Ping timeout: 121 seconds)
[10:12:39] *** Joins: johnsoft (johnsoft@moz-69mrig.res.rr.com)
[10:13:42] *** Quits: nrc (nrc@moz-9v1svd.xtra.co.nz) (Ping timeout: 121 seconds)
[10:18:02] *** Quits: aepsil0n (eduard@moz-6491ha.mv2h.pepi.8071.2a02.IP) (Connection closed)
[10:22:46] *** Joins: Tobba_ (Tobba@moz-6oh.7ki.21.217.IP)
[10:25:06] *** Quits: kushal (kdas@moz-so4.f0d.244.121.IP) (Quit: Leaving)
[10:28:26] *** Quits: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net) (Ping timeout: 121 seconds)
[10:31:54] <SimonSapin> Manishearth: doesnâ€™t look like force did anything on https://github.com/rust-lang/rust/pull/24932 , can you p=1 it?
[10:32:50] *** Quits: Kingsquee (kingsley@moz-qq7ns6.bchsia.telus.net) (Quit: Konversation terminated!)
[10:33:29] *** Joins: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com)
[10:34:38] <doener> hm, do I need to force it again? I'm scared that I might confuse it...
[10:40:13] <doener> ok, that did it
[10:42:33] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[10:44:31] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[10:45:31] *** Joins: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net)
[10:45:31] *** ChanServ sets mode: +o pnkfelix
[10:47:05] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[10:52:55] *** Joins: Guest63 (textual@moz-qfs.570.70.83.IP)
[10:55:10] *** Joins: ptalbot (ptalbot@moz-l1t9t8.fbx.proxad.net)
[11:01:39] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[11:06:16] *** Joins: summerlight_ (summerlight@moz-99k.2mj.130.121.IP)
[11:15:36] *** Joins: ytain (ytain@moz-ge9fgi.dsl.teksavvy.com)
[11:34:09] *** Quits: sprang (sprang@moz-d0kmvi.12d9.sm5v.0009.2601.IP) (Ping timeout: 121 seconds)
[11:36:43] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[11:41:15] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[11:46:32] *** Quits: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net) (Ping timeout: 121 seconds)
[11:47:10] *** Joins: Guest63_ (textual@moz-qfs.570.70.83.IP)
[11:49:41] *** Quits: Guest63 (textual@moz-qfs.570.70.83.IP) (Ping timeout: 121 seconds)
[11:51:43] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[12:00:19] *** Joins: erz (erz@moz-efrhus.broadband.corbina.ru)
[12:09:52] *** Quits: ptalbot (ptalbot@moz-l1t9t8.fbx.proxad.net) (Ping timeout: 121 seconds)
[12:11:07] *** Joins: bdero1 (bran@moz-lbs.91h.47.73.IP)
[12:11:14] *** Joins: zmack (zmack@moz-1oe.89t.76.82.IP)
[12:11:15] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[12:11:17] *** Quits: bdero (bran@moz-216hqv.oo5r.e4su.0006.2601.IP) (Connection closed)
[12:13:20] <Manishearth> SimonSapin: force means immediately drop everthing
[12:13:34] <SimonSapin> Manishearth: which apparently didnâ€™t happen
[12:14:29] *** Quits: scott (uid25790@moz-e5ok1n.brockwell.irccloud.com) (Quit: Connection closed for inactivity)
[12:15:13] <Manishearth> yeah
[12:15:16] <Manishearth> it doesnt always work
[12:17:10] *** Quits: Tobba_ (Tobba@moz-6oh.7ki.21.217.IP) (Ping timeout: 121 seconds)
[12:24:59] <imperio> no one is working on the "pretty printing" of rustc --explain right ?
[12:25:06] *** Joins: ptalbot (ptalbot@moz-p7j122.hk46.a8t0.0e35.2a01.IP)
[12:25:14] <Manishearth> nope
[12:26:43] *** Quits: DenSchub (DenSchub@moz-6io4fd.hol4.1ume.2260.2a02.IP) (Ping timeout: 121 seconds)
[12:40:39] *** Joins: marsel (user@moz-173.6df.180.94.IP)
[12:42:04] <bluss> imperio: I was just thinking that every error explanation should have a short title / summary line
[12:43:55] *** Joins: ytain_ (ytain@moz-trdbtq.dsl.teksavvy.com)
[12:45:50] <imperio> bluss: I think it's a good idea
[12:46:22] <imperio> bluss: it would avoid the need to read what's the error is talking about to know its subject
[12:46:23] <huon> imperio: there is someone working on something close
[12:46:29] <imperio> how would you do that ?
[12:46:37] <huon> https://github.com/rust-lang/rust/pull/24884
[12:46:54] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[12:46:57] <imperio> huon: I "heard" of that but I wasn't sure, that's why I'm asking. You know who it is ?
[12:46:57] *** Quits: ytain (ytain@moz-ge9fgi.dsl.teksavvy.com) (Ping timeout: 121 seconds)
[12:47:24] <imperio> oh okay
[12:47:49] <imperio> that's not exactly the same
[12:47:59] *** Quits: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com) (Connection closed)
[12:47:59] <imperio> I would work on the parsing/printing of errors
[12:48:38] *** Joins: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com)
[12:49:03] *** Quits: p1start (p1start@moz-nftjhe.org) (Ping timeout: 121 seconds)
[12:51:43] <imperio> someone told me that I could reuse the code of rustc doc to parse, so I guess I'll look this
[12:51:48] <SimonSapin> I donâ€™t understand this borrowck error https://gist.github.com/anonymous/521710aad2464d7ca6da
[12:51:51] <SimonSapin> It says the a re-borrow of &mut T lasts much longer than it used to
[12:51:53] <SimonSapin> and adding { } blocks does not help
[12:52:08] <SimonSapin> `kid` is &mut Trait
[12:52:21] *** Quits: madmalik (uid13697@moz-lfin5p.brockwell.irccloud.com) (Quit: Connection closed for inactivity)
[12:52:40] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[12:52:58] *** Joins: DenSchub (DenSchub@moz-4qh7qk.0b101010.org)
[13:15:27] *** Joins: pnkfelix (pnkfelix@moz-6v5.3nd.202.89.IP)
[13:15:27] *** ChanServ sets mode: +o pnkfelix
[13:18:52] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[13:23:22] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[13:24:13] <nathan7> random thought: a marker trait for uninhabited types, and/or a stdlib uninhabited type
[13:24:21] *** Quits: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com) (Connection closed)
[13:24:35] <nathan7> I have some traits that have an associated Error type, but I also have some implementations that can't fail
[13:24:37] *** Joins: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com)
[13:25:29] *** Quits: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net) (Ping timeout: 121 seconds)
[13:26:01] <nathan7> so I have `enum Void {}`, `type Error = Void` in the impl block, and a subtrait with "safe" versions with a blanket impl for `Trait::Error = Void`
[13:26:55] <nathan7> (everything normally returns `Result<T, Self::Error>`, but if `Self::Error` is uninhabited, I can safely use unreachable! for the Err case)
[13:29:08] *** Quits: rovar (rovar@moz-96effg.dyn.optonline.net) (NickServ (RECOVER command used by rovar_))
[13:29:08] *** rovar_ is now known as rovar
[13:29:22] *** Joins: rovar_ (rovar@moz-96effg.dyn.optonline.net)
[13:30:46] *** Joins: sprang (sprang@moz-d0kmvi.12d9.sm5v.0009.2601.IP)
[13:31:28] <bluss> nathan7: reem's got it, but it doesn't impl Error https://crates.io/crates/void
[13:31:51] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[13:34:18] <nathan7> an uninhabited type could technically implement any trait that doesn't have static methods
[13:36:06] <nathan7> playbot: enum Void {}; fn id(x: Void) -> Void {}
[13:36:07] -playbot- <anon>:9:23: 9:48 error: not all control paths return a value [E0269]
[13:36:07] -playbot- <anon>:9         enum Void {}; fn id(x: Void) -> Void {}
[13:36:07] -playbot- output truncated; full output at: http://bit.ly/1P6fd9n
[13:36:09] <nathan7> playbot: enum Void {}; fn id(x: Void) -> Void { x }
[13:36:10] -playbot- ()
[13:36:36] <doener> steveklabnik: ping
[13:36:59] <doener> steveklabnik: unping
[13:38:40] <nathan7> pung?
[13:43:05] <doener> gnip
[13:49:34] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[13:54:09] *** zz_kimundi is now known as kimundi
[13:54:35] *** Quits: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com) (Connection closed)
[13:55:13] *** Joins: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com)
[14:21:36] *** Joins: tamird (textual@moz-5v5pe2.ca.comcast.net)
[14:22:56] *** Quits: laumann (thomas@moz-3v9.hq0.225.130.IP) (Quit: leaving)
[14:33:05] <pnkfelix> huon: do you need to rubber stamp PR 24943, or shall I just merge it?
[14:33:14] <pnkfelix> gh24943
[14:33:15] <[o__o]> cherry-pick of PR #24553 to [beta]: https://github.com/rust-lang/rust/pull/24943
[14:33:54] *** Joins: Diggsey (diggsey@moz-smvs7a.dsl.pipex.com)
[14:34:06] <pnkfelix> (i guess there's no harm in letting a secondary person get a chance to double check, or just have the fun of hitting the "Merge" button, since we don't get the chance to do that too much in this project.)
[14:36:56] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[14:41:03] <steveklabnik> doener: :)
[14:41:28] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[14:42:50] <doener> steveklabnik: I meant to ask what the plan is WRT getting rid of the LLVM fork
[14:44:49] *** Quits: munksgaard (munksgaard@moz-vj4.hq0.225.130.IP) (Ping timeout: 121 seconds)
[14:44:57] <steveklabnik> ah
[14:45:07] <steveklabnik> i'm guessing unping means you figured it out?
[14:47:05] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[14:47:09] *** Quits: sprang (sprang@moz-d0kmvi.12d9.sm5v.0009.2601.IP) (Ping timeout: 121 seconds)
[14:47:39] <doener> steveklabnik: no, just that I didn't actually have time to talk back then. Didn't think about that before pinging
[14:49:15] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[14:49:22] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[14:52:09] *** Joins: sprang (sprang@moz-d0kmvi.12d9.sm5v.0009.2601.IP)
[14:52:23] <steveklabnik> ah
[14:52:25] <steveklabnik> okay, well
[14:52:46] <steveklabnik> i'm not sure what the exact steps are in the plan. but last i checked, the only patches we had in LLVm were performance related. and that we're on a prerelease
[14:53:06] <steveklabnik> my understanidng is that we want it to work with at least that new release, and possibly older ones, depending on how tough it is
[14:53:12] <steveklabnik> there's a thread on internals about this 
[14:53:38] *** Joins: eataix (eataix@moz-um7.336.116.50.IP)
[14:53:47] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[14:53:49] *** Quits: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com) (Connection closed)
[14:54:05] *** Joins: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com)
[14:56:27] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[15:02:35] <doener> steveklabnik: support for 3.5 was officially dropped a few days ago, and AFAICT except for a single commit that is about the Go bindings (but touches a C API that we don't use), we are using 3.6.0 + patches (i.e. technically pre-releases, but doesn't actually matter enough to warrent an upgrade of the in-tree LLVM)
[15:02:43] *** Quits: imperio (Mibbit@moz-pt7l4r.rev.sfr.net) (Quit: http://www.mibbit.com ajax IRC Client)
[15:03:52] *** Joins: bytewise (bytewise@moz-he6t2a.eduroam.rwth-aachen.de)
[15:05:24] *** Quits: zmack (zmack@moz-1oe.89t.76.82.IP) (Connection closed)
[15:10:07] *** Joins: jdm (jdm@moz-ul43ak.dsl.bell.ca)
[15:10:32] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[15:15:15] *** Quits: marsel (user@moz-173.6df.180.94.IP) (Ping timeout: 121 seconds)
[15:18:41] *** Joins: zmack (zmack@moz-1oe.89t.76.82.IP)
[15:21:08] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Quit: Leaving.)
[15:21:50] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[15:25:30] *** Quits: semarie (semarie@moz-aibut3.zenger.nl) (Quit: WeeChat 1.1)
[15:25:56] *** Joins: semarie (semarie@moz-4lmh4m.privacyfoundation.ch)
[15:30:12] *** Quits: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com) (Connection closed)
[15:30:18] *** Joins: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com)
[15:30:54] *** Quits: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com) (Connection closed)
[15:30:59] *** Quits: semarie (semarie@moz-4lmh4m.privacyfoundation.ch) (Ping timeout: 121 seconds)
[15:31:12] *** Joins: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com)
[15:31:43] *** Quits: bytewise (bytewise@moz-he6t2a.eduroam.rwth-aachen.de) (Quit: Quit)
[15:31:53] <doener> steveklabnik: do you mean this one? https://internals.rust-lang.org/t/targeted-llvm-for-1-0/1371
[15:33:07] *** Joins: semarie (semarie@moz-4lmh4m.privacyfoundation.ch)
[15:35:08] <SimonSapin> pnkfelix: https://github.com/servo/servo/blob/rustup_2015-04-25/components/layout/incremental.rs#L206-L223
[15:35:13] <steveklabnik> doener: yeah thats what i was thinking of
[15:35:39] <pnkfelix> SimonSapin: thanks
[15:36:20] *** Joins: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr)
[15:37:52] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Quit: It's a joke, it's all a joke.)
[15:39:31] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[15:40:31] *** Joins: mib_jyc00m (Mibbit@moz-juv.9o3.252.72.IP)
[15:40:43] *** Joins: munksgaard (munksgaard@moz-478pev.u.parknet.dk)
[15:41:47] *** Joins: npm (npm@moz-160.mg6.56.172.IP)
[15:41:55] *** Quits: GBGamer (npm@moz-92sbjt.wa.comcast.net) (Ping timeout: 121 seconds)
[15:42:02] *** npm is now known as GBGamer
[15:42:13] <GBGamer> I need some advice
[15:42:48] <GBGamer> I've added a flag to the compiler for my personal use; -C no-bounds-check
[15:43:22] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[15:43:25] <GBGamer> but obviously, that now means that indexing is unsafe
[15:44:02] <GBGamer> however, I don't think a compiler flag should make you change your code
[15:44:15] <GBGamer> what should I do?
[15:44:46] <GBGamer> (also, would anyone else like this in the real rustc, or would you rather it be relegated to a custom compiler)
[15:44:53] <seanmonstar> GBGamer: make a wrapper type that impls Index<usize>, calling get_unchecked() internally, and use when performance needs it?
[15:45:03] <steveklabnik> we've rejected the concept of this flag before
[15:45:18] <GBGamer> performance is not the issue here, its the panic lang item
[15:45:25] <seanmonstar> ah
[15:45:27] <steveklabnik> i'm about to step out, but thought i'd mention it
[15:45:32] <bluss> GBGamer: you could make it abort() instead of panic, just generally?
[15:45:59] <GBGamer> I realize the community doesn't like it, which is why I thought I'd keep it in my own rustc
[15:46:03] <GBGamer> bluss: not with a kernel
[15:46:41] <eternaleye> wycats: Glad I got it right - I've spent more than a little time tearing my hair out over Unix time vs. UTC vs. TAI vs. CLOCK_REALTIME vs. CLOCK_MONOTONIC vs. KILL ME NOW, so the way Joda-time divides it up is very very nice IMO
[15:46:44] <GBGamer> the point is to !always! call index_safe, which returns an option, except in the standard library
[15:46:54] <wycats> eternaleye: yeah
[15:47:02] <wycats> I did a lot of research leading up to that very tiny API :P
[15:47:07] <wycats> and joda-time did a really good job
[15:47:16] <wycats> I worked on the various time APIs in Rails back in the day
[15:47:19] <bluss> GBGamer: so the actual problem is.. you don't want to implement panic? You don't want code to ever panic?
[15:47:30] <seanmonstar> GBGamer: there's slice.get(), which is the same as this index_safe
[15:47:48] <GBGamer> not in the very central kernel code
[15:47:51] <eternaleye> wycats: I swear, humanity's done an amazing job of screwing up the definition of time...
[15:47:56] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[15:47:59] <wycats> can confirm
[15:48:07] <GBGamer> anything else will be on top of that, and just use the standard library
[15:48:16] <eternaleye> wycats: At least *meters* don't suddenly appear or vanish when you get within a kilometer of them!
[15:48:23] <GBGamer> I'm doing experiments :D
[15:48:25] <eternaleye> wycats: (leap seconds, and when they get announced)
[15:48:28] <wycats> leap millimeters
[15:49:26] <wycats> my favorite is the realization that arbitrary_date + 1 month is a nonsensical question
[15:49:30] <wycats> once you realize that it's game over
[15:49:38] <wycats> arbitrary_date + 1 year too
[15:49:48] *** Quits: mib_jyc00m (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[15:50:00] <GBGamer> the point is to not use any C at all in this project, which means a few things must be changed from normal rust
[15:50:45] <seanmonstar> impl Add<i32> for Month { fn add(&self, _) { panic!("trololol") } }
[15:51:10] <wycats> eternaleye: tbqh I looked at joda-time and I was basically just like "yep"
[15:51:13] <wycats> "let's do that"
[15:51:20] <wycats> some of it will be outside std
[15:51:33] <wycats> but we may as well make the std types compatible with a good story for times and dates
[15:51:36] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[15:51:43] <seanmonstar> wycats: my research into time suggested that the makers of joda-time thought it was a bit wrong, and then made jsr-something
[15:51:46] <wycats> and I don't see the point in restricting a "Duration" type to 500 years
[15:51:49] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[15:51:54] <wycats> seanmonstar: there are some details, yeah
[15:52:05] <wycats> I would say minor details that are pretty specific to the Java impl
[15:52:55] <wycats> for example, from "Why JSR-310 is not joda-time" -> "Joda-Time defines two key interfaces - ReadableInstant and ReadablePartial. Both the Instant class (simple instant in time) and the DateTime class (human view of an instant in time) are implementations of ReadableInstant. This is wrong"
[15:53:09] *** Joins: munksgaa1d (munksgaard@moz-urnkl5.u.parknet.dk)
[15:53:11] <wycats> "Joda-Time accepts null as a valid value in most of its methods. For date/times it means 1970-01-01T00:00Z. For durations it means zero"
[15:53:18] <wycats> "This approach causes random bugs if your code happens to provide a null to Joda-Time that you hadn't originally planned for. Instead of throwing an error, Joda-Time continues, and the resulting date/time is going to be different from what you want"
[15:53:28] <wycats> these are details, not anything fundamental about the core concepts
[15:53:58] <seanmonstar> i thought i remember them also saying something about eras
[15:55:46] <seanmonstar> ah, chronologies is what they called them
[15:56:08] *** Quits: munksgaard (munksgaard@moz-478pev.u.parknet.dk) (Ping timeout: 121 seconds)
[15:57:07] <GBGamer> well, I guess I'll make it unsafe to index if you compile with -C no-bounds-check then, go with my gut
[15:57:21] *** Quits: zmack (zmack@moz-1oe.89t.76.82.IP) (Connection closed)
[15:58:20] <seanmonstar> GBGamer: if its not doing bounds checking... its just `return ptr.offset(i);`?
[15:58:56] <GBGamer> seanmonstar: basically, yeah
[15:59:22] <GBGamer> except that it takes a usize instead of an isize
[15:59:28] <seanmonstar> GBGamer: so then its basically get_unchecked
[15:59:42] <GBGamer> yup
[15:59:50] <seanmonstar> as thats unsafe, sounds right
[15:59:56] <wycats> seanmonstar: http://blog.joda.org/2009/11/why-jsr-310-isn-joda-time_4941.html
[16:00:10] <seanmonstar> wycats: yep, thats what i was looking at
[16:00:16] <GBGamer> yeah, makes sense to me, was just wondering if anyone had any complaints
[16:00:18] <seanmonstar> about pluggable chronologies
[16:01:04] <wycats> http://www.threeten.org/articles/index.html
[16:01:25] <wycats> you'll see that they still have Duration and Instant
[16:01:53] <seanmonstar> yea, i didnt mean to say they threw joda-time out the window with jsr-310
[16:02:22] *** Joins: curmet (Mibbit@moz-juv.9o3.252.72.IP)
[16:02:25] <seanmonstar> as they say at the bottom of that article, "Joda-Time isn't broken!"
[16:02:27] <wycats> :)
[16:02:27] <wycats> c
[16:02:32] <wycats> the core concepts are basically intact
[16:03:09] <wycats> the thing that was very clarifying to me was that you can resolve a Period into a Duration only by reference to a particular Instant
[16:03:14] <seanmonstar> i just meant that i hope you're looking at 310 and not just joda-time
[16:03:15] <wycats> that made the relationships clear
[16:03:18] <wycats> seanmonstar: ah yes
[16:03:28] <wycats> joda-time just had a lot more accessible and clear rationale
[16:03:53] <wycats> I'm not in love with the concept of Partials
[16:04:19] <wycats> I guess in theory they're just curried Periods
[16:04:22] <seanmonstar> the name doesnt even explain to me what they are
[16:04:26] <wycats> confirm
[16:04:37] <wycats> they are things like "May 10"
[16:04:39] <wycats> missing a year
[16:04:51] <wycats> and you can convert them into the full type by adding stuff
[16:05:09] <seanmonstar> looks like String to me, or (Month, Day)
[16:05:17] <wycats> (Month, Day) yeah
[16:05:27] <GBGamer> anyone know where it is in the compiler that makes deref of a ptr unsafe?
[16:05:29] <wycats> mostly, I like the idea of being clear when you are trying to do some operation with caveats
[16:05:42] <wycats> seanmonstar: to give you a specific example from Skylight
[16:05:47] <wycats> we have billing
[16:05:56] <wycats> so someone signs up on January 30
[16:06:04] <wycats> we add one month and bill them on...
[16:06:08] <wycats> February 30?
[16:06:11] <wycats> obviously not
[16:06:15] <wycats> the question itself is ambiguous
[16:06:26] <wycats> and I would like Rust's APIs to be clear about that
[16:06:49] <wycats> one option I have been thinking about is date.add_months(1, Underflow)
[16:06:52] <seanmonstar> yea, though the definition of month is already foggy
[16:06:53] <wycats> or Overflow
[16:06:58] <wycats> right, but it can happen
[16:07:05] <seanmonstar> is it monthly billing, or 30-day billing?
[16:07:09] <wycats> I have a real problem with adding something like 1 year, 5 months, 3 days
[16:07:11] <wycats> seanmonstar: exactly
[16:07:18] <wycats> we do monthly billing
[16:07:35] <wycats> 30 day billing can tricky especially if someone gets billed twice in the same month
[16:07:37] <wycats> (1 and 31)
[16:07:48] <wycats> that could be a financial hardship for people if they get paid monthly or something
[16:08:00] <wycats> also just confusing
[16:08:06] <seanmonstar> yea
[16:08:16] <seanmonstar> thanks gregorian calendar
[16:09:22] <GBGamer> I wish the French had gotten their way with the calendar
[16:09:37] *** Joins: imperio (Mibbit@moz-8otf3a.fbx.proxad.net)
[16:11:43] <seanmonstar> wycats: day_to_bill = (start_day / days_in_that_month * days_current_month).floor()
[16:11:49] <seanmonstar> herrggg
[16:13:52] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Client exited)
[16:14:46] <WindowsBunny> seanmonstar: I like that
[16:16:34] *** Joins: gsingh93 (gulshan@moz-qnbukr.mi.comcast.net)
[16:17:35] <eternaleye> wycats: Discover (as in credit cards) resolves it by doing monthly billing... and forbidding the user from setting a bill-by date later than the 28th.
[16:17:38] <rovar> dates are hard
[16:17:52] <eternaleye> wycats: Then they just hold the day-of-month constant.
[16:18:10] <rovar> we should move to the metric time system
[16:18:24] <eternaleye> rovar: Don't get me started on how those are worse...
[16:18:25] <tamird> acrichto im seeing some interesting failures running android tests: a handful of `x86_64-apple-darwin/stage1/lib/rustlib/arm-linux-androideabi/lib/libstd-4e7c5e5c.so: error: undefined reference to 'pthread_rwlock_*`. any idea what's up?
[16:18:55] <eternaleye> rovar: In particular, 24 and 60 are very, very nice in terms of divisibility.
[16:18:56] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[16:18:57] <tamird> ^ logs out after 'error: linking with `/opt/ndk_standalone/bin/arm-linux-androideabi-gcc` failed: exit code: 1'
[16:19:37] <eternaleye> rovar: Metric time optimizes too far for computers, UTC optimizes too far for astronomers, and neither is really sensible.
[16:20:00] <rovar> yea, but the month divisions are arbitrary, we should go by weeks, or switch to 13 months a year :) 
[16:20:24] <eternaleye> Clearly we should have 12 months, and at the end of the year we celebrate Five Days Darkness
[16:21:06] <eternaleye> Steal our calendar system from a tabletop RPG (Exalted)
[16:22:32] <acrichto> tamird: whoa that's weird, I've never seen that before
[16:22:41] <acrichto> tamird: maybe some compilers or sysroots are getting mixed up?
[16:22:59] <GBGamer> eternaleye: wasn't that the French revolutionary system?
[16:23:08] <tamird> everything seems to be correctly rooted in the arm-linux-androideabi build :(
[16:23:23] <GBGamer> (except that they celebrated the revolution during the five days)
[16:23:26] <tamird> maybe stage2 will work? i'll try it
[16:23:28] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[16:23:42] <rovar> Kodak ran a 13 month calendar for decades
[16:23:48] <acrichto> tamird: I wonder if the ndk you have is too old?
[16:23:58] <acrichto> tamird: if you poke around in the ndk are those symbols in header files and such?
[16:24:16] <rovar> changing a calendar seems easier that writing consistent datetime APIs :)
[16:25:06] <tamird> acrichto hm, seems not. `ag pthread_rwlock /opt/ndk_standalone` didn't find anything
[16:25:18] *** Quits: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr) (Connection closed)
[16:25:24] <tamird> i wonder if the default "make me a standalone ndk" incantation defaults to an ancient API level?
[16:25:38] <acrichto> tamird: maybe? I'm not even sure how to check my local one though :(
[16:25:39] *** Joins: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr)
[16:25:49] <acrichto> something about r9d for me
[16:25:54] <acrichto> not sure what that means
[16:26:56] *** Quits: Guest63_ (textual@moz-qfs.570.70.83.IP) (Ping timeout: 121 seconds)
[16:27:33] <tamird> that's the ndk version
[16:27:36] <tamird> hang on
[16:27:43] *** Quits: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr) (Connection closed)
[16:27:44] *** Joins: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr)
[16:28:01] <tamird> bam, here we go. i had previously compiled the standalone ndk without a specific android API version...and it defaulted to android-3
[16:28:06] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Connection closed)
[16:28:13] <tamird> i've now compiled it with android-21 and the symbols are there
[16:28:59] *** Quits: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr) (Connection closed)
[16:29:20] *** Joins: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr)
[16:29:26] *** Joins: npm (npm@moz-urd.pod.125.50.IP)
[16:29:28] *** Quits: GBGamer (npm@moz-160.mg6.56.172.IP) (Connection closed)
[16:29:29] <acrichto> yay!
[16:31:55] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[16:34:09] *** Quits: pnkfelix (pnkfelix@moz-6v5.3nd.202.89.IP) (Connection closed)
[16:36:25] *** Joins: Astrum|Lap (Astrum|Lap@moz-7enfbr.co.comcast.net)
[16:39:21] <Eridius> gh15919 appears to be closeable, as it no longer occurs. pnkfelix added E-needstest to it. Should the issue be kept open or should it be closed? (i.e. are closed issues with E-needstest still tracked properly?)
[16:39:21] <[o__o]> Fixed length array type with high un-suffixed count literal incorrectly treated as negative count: https://github.com/rust-lang/rust/issues/15919
[16:40:44] *** Quits: ptalbot (ptalbot@moz-p7j122.hk46.a8t0.0e35.2a01.IP) (Ping timeout: 121 seconds)
[16:42:45] *** Quits: blank_name (blank_name@moz-sct.ivp.36.50.IP) (Ping timeout: 121 seconds)
[16:44:42] *** Joins: blank_name (blank_name@moz-kau.24b.36.50.IP)
[16:44:44] <seanmonstar> Eridius: i'd think an issue that needstest should be open, until it no longer is lacking tests
[16:45:15] <seanmonstar> as in that case, the issue is that a test is missing
[16:46:51] <Eridius> well, that could be tracked by removing the E-needstest label
[16:47:06] <Eridius> also the other day I'd swear I saw a closed issue get labelled with E-needstest (without being reopened), but I don't remember what it was
[16:47:54] *** Joins: arrdem_ (arrdem@moz-mho.ehc.170.107.IP)
[16:47:58] *** Quits: arrdem_ (arrdem@moz-mho.ehc.170.107.IP) (Quit: leaving)
[16:53:58] *** Joins: GBGamer (npm@moz-urd.pod.125.50.IP)
[17:00:32] *** Quits: gsingh93 (gulshan@moz-qnbukr.mi.comcast.net) (Ping timeout: 121 seconds)
[17:06:35] *** Joins: scott (uid25790@moz-e5ok1n.brockwell.irccloud.com)
[17:09:31] <steveklabnik> oh my: http://blogs.technet.com/b/packagemanagement/archive/2015/04/29/introducing-packagemanagement-in-windows-10.aspx
[17:11:11] <WindowsBunny> steveklabnik: welp
[17:11:19] <XMPPwocky> "In Windows 10 we are launching a new PackageManagement feature (formerly referred to as OneGet) that enables ITPros or DevOps to automate software discovery, installation, and inventory (SDII)[...]"
[17:11:30] <XMPPwocky> i think i got buzzword bingo there
[17:13:05] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[17:14:32] <steveklabnik> i mention it here because i assume we'll have to package stuff up at some point for it
[17:18:02] *** Quits: jdm (jdm@moz-ul43ak.dsl.bell.ca) (Quit: )
[17:19:56] <tamird> acrichto new error: error: only position independent executables (PIE) are supported.
[17:20:11] <tamird> probably because i'm using android-21...looks like android broke their ABI https://code.google.com/p/android-developer-preview/issues/detail?id=888
[17:22:35] <acrichto> tamird: oh hm, I think we have an issue on that somewhere..
[17:22:46] <acrichto> tamird: but you may have to modify the target spec to always pass -pie
[17:22:50] *** Quits: npm (npm@moz-urd.pod.125.50.IP) (Connection closed)
[17:23:26] *** Joins: npm (npm@moz-urd.pod.125.50.IP)
[17:24:48] <tamird> acrichto how? `// compile-flags:-pie`?
[17:26:17] *** Joins: killercup (killercup@moz-gpufip.dip0.t-ipconnect.de)
[17:26:27] <tamird> oh you mean CFG_GCCISH_LINK_FLAGS_arm-linux-androideabi
[17:27:22] <acrichto> tamird: oh I meant modifying src/librustc_back/target/...
[17:27:29] <acrichto> but it is a... little more permanent
[17:27:34] <acrichto> I think I'm using api rev 19
[17:27:40] <acrichto> (and the bots are as well)
[17:27:43] <acrichto> so you may want to roll back to that
[17:27:49] <acrichto> (not sure if that's possible)
[17:28:30] <tamird> yeah it's possible. maybe ill just do that
[17:28:36] <tamird> there's a gem in here: `// FIXME #17437 (and #17448): Android doesn't support position dependent executables anymore.`
[17:31:27] <acrichto> I have a feeling there's a lot of gems lying around related to things like android :P
[17:33:34] *** Quits: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr) (Connection closed)
[17:33:35] *** Joins: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr)
[17:36:59] *** Quits: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr) (Connection closed)
[17:37:31] *** Joins: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr)
[17:38:45] *** Joins: avikpal (avikpal@moz-hn5.igl.194.117.IP)
[17:43:44] *** Quits: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr) (Connection closed)
[17:43:45] *** Joins: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr)
[17:44:38] *** Quits: avikpal (avikpal@moz-hn5.igl.194.117.IP) (Ping timeout: 121 seconds)
[17:45:05] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[17:45:05] *** ChanServ sets mode: +o pcwalton
[17:45:32] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[17:48:10] *** Quits: curmet (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[17:50:40] *** Joins: chc4 (chc4@moz-pdo0at.ma.comcast.net)
[17:50:58] *** Joins: avikpal (avikpal@moz-kei.imq.194.117.IP)
[17:51:17] *** Quits: erz (erz@moz-efrhus.broadband.corbina.ru) (Connection closed)
[17:51:37] *** Joins: erz (erz@moz-efrhus.broadband.corbina.ru)
[17:55:05] *** Quits: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr) (Connection closed)
[17:55:31] *** Joins: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr)
[17:55:52] <wycats> eternaleye: in our case the bill date is just whatever day they sign up
[17:56:03] <wycats> we resolve by pushing the date forward whenever we reach an invalid day
[17:56:07] <wycats> "overflow"
[17:56:16] <wycats> an alternative is "underflow" for metered billing
[17:56:20] <wycats> but you have to decide
[17:56:47] *** Quits: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu) (Quit: Leaving)
[17:57:24] *** Quits: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr) (Connection closed)
[17:57:25] *** Joins: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr)
[18:00:30] *** Quits: munksgaa1d (munksgaard@moz-urnkl5.u.parknet.dk) (Ping timeout: 121 seconds)
[18:01:20] *** Joins: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu)
[18:01:34] *** Joins: avikpal_ (avikpal@moz-1iu.36b.194.117.IP)
[18:01:43] *** Joins: simukis (nagisa@moz-8t068g.static.zebra.lt)
[18:02:03] *** Quits: avikpal (avikpal@moz-kei.imq.194.117.IP) (Ping timeout: 121 seconds)
[18:04:50] *** Quits: avikpal_ (avikpal@moz-1iu.36b.194.117.IP) (Connection closed)
[18:05:10] *** Joins: jdm (jdm@moz-4vu.06r.98.75.IP)
[18:06:44] *** Joins: avikpal (avikpal@moz-ror.mde.194.117.IP)
[18:07:35] *** Quits: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu) (Quit: Leaving)
[18:09:05] <seanmonstar> wycats: so, in your example of Jan 30, since it overflows feb to march 1st... they get billed twice in march?
[18:09:07] *** Joins: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu)
[18:10:02] *** Quits: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu) (Quit: Leaving)
[18:11:17] <tamird> acrichto can you check what version the android VM used on the bots is? `android list avd` should give it away
[18:11:18] *** Joins: avikpal_ (avikpal@moz-2en.6lo.194.117.IP)
[18:11:34] <tamird> it might be time now to turn on PIE for android
[18:11:36] <acrichto> tamird: API level 19
[18:11:41] *** Quits: avikpal (avikpal@moz-ror.mde.194.117.IP) (Ping timeout: 121 seconds)
[18:11:41] <acrichto> or 18
[18:11:43] <acrichto> hmm
[18:11:47] * acrichto actually checks
[18:12:28] <acrichto> tamird: 18
[18:14:56] *** Joins: kushal (kdas@moz-ms7.p9k.51.106.IP)
[18:15:07] *** Quits: avikpal_ (avikpal@moz-2en.6lo.194.117.IP) (Connection closed)
[18:15:52] *** Joins: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu)
[18:16:08] <tamird> acrichto thanks! https://github.com/rust-lang/rust/pull/24953
[18:18:49] <wycats> seanmonstar: no, the next bill will be April 1
[18:18:59] <wycats> we bill based on usage so it doesn't really matter
[18:19:08] <wycats> maybe it saves them a few cents based on the bucketing but whatever
[18:19:47] *** Quits: killercup (killercup@moz-gpufip.dip0.t-ipconnect.de) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[18:20:10] *** Joins: avikpal (avikpal@moz-8fq.hfh.194.117.IP)
[18:20:25] <seanmonstar> wycats: oh, so you do add(1, Overflow) from the last billing date, not the start date
[18:20:29] <wycats> right
[18:21:37] <Gankro> Is the core team membership documented anywhere now that the wiki is gone?
[18:22:20] <seanmonstar> Gankro: theres a wiki backup repo
[18:22:24] <seanmonstar> if not elsewhere
[18:24:26] *** Quits: avikpal (avikpal@moz-8fq.hfh.194.117.IP) (Ping timeout: 121 seconds)
[18:24:28] *** Joins: avikpal_ (avikpal@moz-9hu.mde.194.117.IP)
[18:24:58] <Gankro> seanmonstar: Ah cool, that gave me the extra google-fu necessary to find it
[18:25:23] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[18:25:53] *** Joins: brson (brson@moz-cfhap5.mtv2.mozilla.com)
[18:25:54] *** ChanServ sets mode: +o brson
[18:28:53] *** Quits: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu) (Quit: Leaving)
[18:30:17] *** Quits: kushal (kdas@moz-ms7.p9k.51.106.IP) (Quit: Leaving)
[18:31:18] *** Joins: avikpal (avikpal@moz-77c.6lo.194.117.IP)
[18:31:22] *** Quits: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr) (Connection closed)
[18:31:32] *** Quits: avikpal_ (avikpal@moz-9hu.mde.194.117.IP) (Ping timeout: 121 seconds)
[18:31:53] *** Joins: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr)
[18:34:51] *** Quits: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr) (Connection closed)
[18:34:52] *** Joins: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr)
[18:35:10] *** Joins: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu)
[18:35:32] *** Joins: avikpal_ (avikpal@moz-m8k.6lo.194.117.IP)
[18:35:48] *** Quits: avikpal (avikpal@moz-77c.6lo.194.117.IP) (Ping timeout: 121 seconds)
[18:36:52] *** Quits: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr) (Connection closed)
[18:37:21] *** Joins: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr)
[18:39:46] *** Quits: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr) (Connection closed)
[18:39:47] *** Joins: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr)
[18:39:56] *** Joins: A205B064 (A205B064@moz-9s9nhk.nap.wideopenwest.com)
[18:40:14] *** Joins: avikpal (avikpal@moz-jt0.6lo.194.117.IP)
[18:40:29] *** Quits: avikpal_ (avikpal@moz-m8k.6lo.194.117.IP) (Ping timeout: 121 seconds)
[18:41:19] *** Joins: swgillespie (swgillespie@moz-1i5.3un.220.167.IP)
[18:41:45] *** Quits: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr) (Connection closed)
[18:42:11] *** Joins: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr)
[18:42:11] *** Quits: sprang (sprang@moz-d0kmvi.12d9.sm5v.0009.2601.IP) (Ping timeout: 121 seconds)
[18:42:36] *** Quits: imperio (Mibbit@moz-8otf3a.fbx.proxad.net) (Quit: http://www.mibbit.com ajax IRC Client)
[18:44:34] *** Quits: avikpal (avikpal@moz-jt0.6lo.194.117.IP) (Ping timeout: 121 seconds)
[18:44:51] *** Joins: avikpal (avikpal@moz-64t.p8t.194.117.IP)
[18:47:06] *** Quits: GBGamer (npm@moz-urd.pod.125.50.IP) (Quit: Lost terminal)
[18:49:41] *** Joins: arielb1 (Ariel@moz-78pi5m.red.bezeqint.net)
[18:52:06] *** Joins: avikpal_ (avikpal@moz-obs.36b.194.117.IP)
[18:52:09] *** Joins: sigma (sigma@moz-ohog4c.range86-135.btcentralplus.com)
[18:52:57] *** Quits: avikpal (avikpal@moz-64t.p8t.194.117.IP) (Ping timeout: 121 seconds)
[18:54:50] *** Joins: gsingh93 (gulshan@moz-qnbukr.mi.comcast.net)
[18:56:32] *** Quits: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr) (Connection closed)
[18:56:33] *** Joins: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr)
[18:58:07] *** Quits: avikpal_ (avikpal@moz-obs.36b.194.117.IP) (Ping timeout: 121 seconds)
[18:59:17] *** Quits: Rusky (russell@moz-du8evc.slkc.qwest.net) (Quit: Leaving.)
[18:59:54] <brson> I changed all P-backcompat-lang to P-high and removed them from the 1.0 milestone
[19:00:04] *** Joins: ptalbot (ptalbot@moz-j4gnuh.fbx.proxad.net)
[19:00:16] <brson> tomorrow we should probably make sure all P-high are assigned to somebody or relabel them
[19:00:30] *** Joins: Rusky (russell@moz-du8evc.slkc.qwest.net)
[19:01:39] *** Quits: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr) (Connection closed)
[19:02:10] *** Joins: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr)
[19:04:48] <arielb1> brson: all bugs become features?
[19:04:50] *** Joins: avikpal (avikpal@moz-le2.4af.194.117.IP)
[19:07:28] <carllerche> wycats: seanmonstar if a user signs up Jan 30, they will not be billed march 1st, they will be billed feb 28th
[19:07:45] <wycats> carllerche: oh right
[19:07:49] <wycats> anyway, some decision has to be made
[19:07:53] <wycats> either overflow or underflow
[19:07:59] <wycats> in our case it's usage based so it doesn't matter
[19:10:00] *** Quits: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se) (Ping timeout: 121 seconds)
[19:10:16] *** Joins: bluss (bluss@moz-ec5o68.cust.bredbandsbolaget.se)
[19:10:41] *** Joins: killercup (killercup@moz-gpufip.dip0.t-ipconnect.de)
[19:13:45] *** Quits: avikpal (avikpal@moz-le2.4af.194.117.IP) (Ping timeout: 121 seconds)
[19:14:37] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[19:16:48] *** Joins: avikpal (avikpal@moz-f4i.kva.227.117.IP)
[19:19:07] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[19:21:02] *** Quits: npm (npm@moz-urd.pod.125.50.IP) (Connection closed)
[19:21:03] <doener> kimundi: ping
[19:21:12] <kimundi> doener: pong
[19:22:16] *** Joins: npm (npm@moz-vr5.mg6.56.172.IP)
[19:22:29] <doener> kimundi: could you also get the perf annotation data for the C++ version of your benchmark?
[19:23:05] <doener> kimundi: just for the lswr function
[19:23:19] <kimundi> doener: sure, but remind me again what exactly I have to do to generate those :)
[19:23:35] <doener> perf record cargo bench rust_unsafe_big; perf report --stdio --percent-limit 1
[19:23:51] <doener> perf annotate --stdio -s <symbol_name_here>
[19:24:16] <doener> kimundi: err, cpp_naive_big, not rust_unsafe_big in the cargo call
[19:24:24] <doener> cnp lazyness
[19:24:30] <doener> laziness?
[19:26:02] <kimundi> doener: https://gist.github.com/Kimundi/b951f3438f009bbd7bd0
[19:26:18] *** Quits: npm (npm@moz-vr5.mg6.56.172.IP) (Ping timeout: 121 seconds)
[19:26:19] <arielb1> wow rustc gives so much better error messages than gcc
[19:26:39] *** Joins: npm (npm@moz-urd.pod.125.50.IP)
[19:27:16] <wycats> arielb1: confirm
[19:27:30] *** Joins: O01eg (o01eg@moz-9um173.bvrr.4n8f.2698.2a02.IP)
[19:28:21] <arielb1> warning: initialization from incompatible pointer type
[19:29:18] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[19:29:29] <arielb1> g++ actually says the types
[19:29:31] <arielb1> but they are C++ types
[19:29:46] <arielb1> and no "expected X, found Y"
[19:31:13] *** Joins: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net)
[19:33:06] <bluss> that's what I think when I see suggestions to improve rustc's error reporting. It's already so damn good, I don't ask for more
[19:34:12] *** Joins: Twisol (textual@moz-6tk.mnr.166.130.IP)
[19:34:24] <doener> kimundi: thanks!
[19:35:07] *** Quits: summerlight_ (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[19:35:43] <tamird> acrichto new problem with this android stuff! 'CANNOT LINK EXECUTABLE: cannot locate symbol "_ZN3oom20hbe17bc7efc9a3a19JZaE" referenced by "./packed-tuple-struct-layout.stage2-arm-linux-androideabi"'
[19:36:01] <tamird> this is at the point of trying to run the executable
[19:36:26] <simukis> missing shared libraries?
[19:36:44] <simukis> run ldd on your executable
[19:38:03] <tamird> argh, i'm on darwin and this is an ELF
[19:38:05] <tamird> so i can't
[19:38:41] *** Quits: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr) (Connection closed)
[19:38:42] *** Joins: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr)
[19:39:07] *** Quits: filsmick (filsmick@moz-bar7fk.abo.wanadoo.fr) (Quit: )
[19:40:11] *** Joins: Kingsquee (kingsley@moz-qq7ns6.bchsia.telus.net)
[19:40:50] <wycats> in case anyone is interested: https://www.youtube.com/watch?t=881&v=LazvK39Oc4U
[19:42:00] <doener> wycats: is the offset into the video intentional?
[19:42:03] <wycats> nope
[19:42:04] <wycats> sorry
[19:42:13] <tamird> simukis wat now it worked, after i used `adb shell` and poked around a bit but made no changes
[19:43:34] <arielb1> do we try to share bitcode of monomorphized instantiations in any way?
[19:45:01] *** Quits: semarie (semarie@moz-4lmh4m.privacyfoundation.ch) (A TLS packet with unexpected length was received.)
[19:45:35] *** Joins: genbattle (genbattle@moz-4v0.gkd.16.182.IP)
[19:46:05] *** Quits: Twisol (textual@moz-6tk.mnr.166.130.IP) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[19:48:48] <bluss> wycats: just noticing that Debug output now isn't very far from JSON for basic collections
[19:51:22] <simukis> I believe you shouldnâ€™t use Debug or Display for serialisation
[19:51:52] <bluss> true
[19:59:43] *** Joins: willem (willem@moz-facs2s.dynamic.upc.nl)
[19:59:45] *** Joins: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net)
[19:59:46] *** ChanServ sets mode: +o pnkfelix
[20:00:49] *** Joins: sprang (sprang@moz-q60.c9m.56.172.IP)
[20:03:16] *** Joins: munksgaard (munksgaard@moz-478pev.u.parknet.dk)
[20:03:22] *** Joins: imperio (Mibbit@moz-8otf3a.fbx.proxad.net)
[20:06:17] <wycats> simukis: totally agree
[20:06:32] <wycats> Display is for human (non-programmer) viewer
[20:06:36] <wycats> (like CLI output)
[20:06:43] <wycats> Debug is for the programmer viewer
[20:06:51] <wycats> serialization is a separate concern
[20:09:14] <simukis> I already commented on Display being for humans at https://github.com/rust-lang/rfcs/issues/1074#issuecomment-94544705
[20:09:32] <simukis> did the meaning of Display change recently?
[20:09:58] <simukis> or can we really assume â€œhas an obvious string representationâ€ to mean â€œfor human viewerâ€?
[20:11:11] <simukis> Documentation for Display still says â€œWhen a value can be semantically expressed as a Stringâ€
[20:12:36] *** Joins: munksgaa1d (munksgaard@moz-urnkl5.u.parknet.dk)
[20:15:34] *** Joins: larhat (Adium@moz-tb1ulb.cable.virginm.net)
[20:15:35] *** Quits: munksgaard (munksgaard@moz-478pev.u.parknet.dk) (Ping timeout: 121 seconds)
[20:15:39] <rovar> is ptr::Unique slated to end up in 1.0?
[20:15:46] <rovar> and if not, what is?
[20:16:06] <simukis> Box is pretty much the same thing as ptr::Unique
[20:16:32] <rovar> does it let me do ptr arithmetic?
[20:16:55] <simukis> hmmâ€¦
[20:17:03] <kmc> wycats: nice talk :)
[20:17:09] <wycats> the audio was kinda bad
[20:17:31] <rovar> i'm using Unique::offset quite a bit
[20:17:42] <rovar> no real way around it, navigating an mmap'd buffer
[20:17:53] <kmc> I don't think this notion of "directly against the metal" is meaningful :)
[20:17:55] <rovar> I guess I could transmute it to a slice of slices..
[20:18:00] <kmc> at least, not in a way that also makes it an obvious punchline to apply it to V8
[20:18:04] <kmc> which is also a native code compiler
[20:18:32] <kmc> no GC and such are meaningful, but you covered that separately
[20:18:55] *** Joins: nrc (nrc@moz-9v1svd.xtra.co.nz)
[20:18:56] *** ChanServ sets mode: +o nrc
[20:19:30] *** Quits: sigma (sigma@moz-ohog4c.range86-135.btcentralplus.com) (Connection closed)
[20:21:34] *** Quits: npm (npm@moz-urd.pod.125.50.IP) (Quit: AndroIRC - Android IRC Client ( http://www.androirc.com ))
[20:23:45] *** Joins: James (quassel@moz-9kp9p2.range86-148.btcentralplus.com)
[20:23:50] <rovar> anyone know where I can find the status of the ptr::Unique or what might be planned to replace it before 1.0?
[20:25:05] <mcpherrin> rovar: I wouldn't expect it to be stabalized before 1.0 if it isn't already
[20:25:55] *** Quits: sunfish (sunfish@moz-no0.93r.245.63.IP) (Quit: Changing server)
[20:26:13] <rovar> ah
[20:26:24] <rovar> std::ptr::PtrExt has offset and is stable
[20:27:23] <mcpherrin> 1.0 is only two weeks away
[20:27:46] <simukis> rovar: PtrExt has been removed and all methods moved as associated to *const T and *mut T instead AFAIR
[20:28:14] <simukis> i.e. it doesnâ€™t show up in docs, at least for beta.3.
[20:28:16] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[20:28:50] <rovar> gotcha
[20:28:53] *** Joins: sunfish (sunfish@moz-no0.93r.245.63.IP)
[20:28:57] <simukis> you can easily make a wrapper for Box yourself where you use transmute to `*mut T` in Deref
[20:28:58] <rovar> google sent me to an alpha link
[20:29:29] <rovar> I don't actually have an interest in Box, I wanted the safe ptr arithmetic, e.g. ::offset
[20:29:36] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[20:29:45] <arielb1> rovar: ptr arithmetic is unsafe
[20:29:47] <rovar> but yea, it seems that *mut and *const now support offset()
[20:29:50] <rovar> arielb1, quite :)
[20:30:01] *** Quits: sunfish (sunfish@moz-no0.93r.245.63.IP) (Quit: leaving)
[20:30:49] *** Joins: sunfish (sunfish@moz-no0.93r.245.63.IP)
[20:31:59] *** Quits: sunfish (sunfish@moz-no0.93r.245.63.IP) (Quit: leaving)
[20:32:07] <kmc> 13:16 < simukis> Box is pretty much the same thing as ptr::Unique
[20:32:13] <kmc> that's not the case
[20:32:31] *** Joins: sunfish (sunfish@moz-no0.93r.245.63.IP)
[20:32:35] <rovar> let cell = self.region.data().offset(index * self.frame_size as isize) as *const u32;
[20:32:37] <rovar> weeee
[20:32:47] *** Quits: sunfish (sunfish@moz-no0.93r.245.63.IP) (Quit: leaving)
[20:32:48] <kmc> ptr::Unique wraps a raw pointer transparently, and indicates ownership but does not manage memory
[20:33:30] *** Joins: sunfish (sunfish@moz-no0.93r.245.63.IP)
[20:33:52] *** Quits: sunfish (sunfish@moz-no0.93r.245.63.IP) (Quit: leaving)
[20:33:59] *** Joins: sunfish (sunfish@moz-no0.93r.245.63.IP)
[20:34:42] <XMPPwocky> unique is NonZero too, right?
[20:35:02] <XMPPwocky> i guess yes
[20:35:04] <XMPPwocky> yes.
[20:35:38] <simukis> what it doesnâ€™t do is allocate and deallocate memory, yes.
[20:36:49] *** Joins: kermi (Mibbit@moz-juv.9o3.252.72.IP)
[20:37:05] <rovar> hmm
[20:37:21] <rovar> if I wanted to do this correctly I'd need a global reference counter for my allocator..
[20:37:31] <rovar> rather the allocated slab
[20:37:34] *** Quits: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com) (Ping timeout: 121 seconds)
[20:37:46] <rovar> hmmm
[20:37:47] <kmc> it's not "pretty much the same" though :P
[20:39:16] *** Quits: munksgaa1d (munksgaard@moz-urnkl5.u.parknet.dk) (Ping timeout: 121 seconds)
[20:40:10] *** Quits: avikpal (avikpal@moz-f4i.kva.227.117.IP) (Connection closed)
[20:41:18] *** Joins: munksgaard (munksgaard@moz-478pev.u.parknet.dk)
[20:43:20] *** Joins: Rym_ (y@moz-rmaga4.range86-187.btcentralplus.com)
[20:49:46] *** Quits: kermi (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[20:50:40] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[20:55:51] *** Quits: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net) (Ping timeout: 121 seconds)
[20:57:40] *** Quits: sprang (sprang@moz-q60.c9m.56.172.IP) (Ping timeout: 121 seconds)
[21:01:05] *** Joins: Rusky1 (russell@moz-c2fmlv.slkc.qwest.net)
[21:02:35] *** Quits: Rusky (russell@moz-du8evc.slkc.qwest.net) (Ping timeout: 121 seconds)
[21:03:43] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[21:04:17] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[21:04:38] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[21:05:31] <larsberg> Are most of the rust 1.0 release parties happening at tech spaces with talks or cultural spaces? I was asking around a bit in Chicago, and we seem to have some options, but I don't know what "flavor" most of the non-moz-office parties are taking...
[21:05:51] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[21:05:52] *** ChanServ sets mode: +o pcwalton
[21:06:03] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[21:06:06] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[21:06:06] *** ChanServ sets mode: +o pcwalton
[21:08:11] <Eridius> aturon: I just ran into a huge problem with your scoped threads RFC: https://github.com/rust-lang/rfcs/pull/1084#discussion_r29380954
[21:08:34] <Eridius> basically, actually implementing Scope::spawn() shows that it allows for non-thread-safe borrows
[21:09:50] *** Quits: jdm (jdm@moz-4vu.06r.98.75.IP) (Quit: )
[21:11:49] *** Joins: Twisol (textual@moz-6tk.mnr.166.130.IP)
[21:11:50] *** Quits: joneshf-laptop (joneshf@moz-l4h.b5s.208.98.IP) (Ping timeout: 121 seconds)
[21:12:22] *** Joins: tynopex (Mibbit@moz-gh3.gum.189.205.IP)
[21:18:03] <brson> larsberg: i think most are happening in mozilla offices, universities and other offices
[21:18:24] <brson> larsberg: in sf we're having lightning talks, and quite a few of them apparently, but are trying to focus on mingling
[21:18:27] <brson> and activities
[21:18:42] <brson> i've proposed pin the tail on the donkey
[21:18:47] *** Quits: doener (doener@moz-929cn9.unity-media.net) (Quit: leaving)
[21:18:50] <kmc> brson: how many lightning talks?
[21:18:50] <brson> for t-shirts
[21:19:28] <brson> kmc: erickt has mentioned at least 6, but i don't know how firm they are
[21:19:50] <kmc> mine's pretty much ready, should be about 6 min
[21:20:27] <larsberg> brson: thanks! just trying to explore options, and it turned out the mofo people in Chicago have some inroads with major city locations, but I'm not sure I want to talk about rust in e.g., the armory of the art institute :-)
[21:21:06] <larsberg> brson: if I can pull something together, I'll try to keep with the spirit and keep any talking light and focus on eating/mingling. Though it's a little harder in Chicago due to a bit less (public) awareness, so people I've talked to seem to want another overview talk
[21:21:26] <brson> larsberg: do what's best for rust in chicago
[21:21:46] * simukis giggles at google being useless for people using rust. weâ€™re so innovative in our use of web google canâ€™t keep its wits about.
[21:22:29] <larsberg> brson: awesome, will do. unrelatedly, I ordered rust buttons from https://www.buttonfrog.com/, because why not?
[21:28:36] *** Joins: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net)
[21:32:43] *** Quits: tynopex (Mibbit@moz-gh3.gum.189.205.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[21:42:43] *** Quits: killercup (killercup@moz-gpufip.dip0.t-ipconnect.de) (Quit: Bye)
[21:48:21] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[21:49:18] *** Quits: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu) (Quit: Leaving)
[21:50:06] *** Joins: blank_na1e (blank_name@moz-igojne.mi.frontiernet.net)
[21:51:18] *** Joins: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu)
[21:51:32] *** Quits: blank_name (blank_name@moz-kau.24b.36.50.IP) (Ping timeout: 121 seconds)
[21:51:47] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[21:51:47] *** ChanServ sets mode: +o pcwalton
[21:53:18] *** Joins: sprang (sprang@moz-d0kmvi.12d9.sm5v.0009.2601.IP)
[21:53:22] *** Joins: killercup (killercup@moz-gpufip.dip0.t-ipconnect.de)
[21:53:25] *** Quits: killercup (killercup@moz-gpufip.dip0.t-ipconnect.de) (Connection closed)
[22:00:20] *** Quits: Twisol (textual@moz-6tk.mnr.166.130.IP) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[22:00:35] *** Joins: Twisol (textual@moz-6tk.mnr.166.130.IP)
[22:02:12] *** Quits: sprang (sprang@moz-d0kmvi.12d9.sm5v.0009.2601.IP) (Connection closed)
[22:03:06] *** Joins: sprang (sprang@moz-d0kmvi.12d9.sm5v.0009.2601.IP)
[22:04:28] <SimonSapin> I have a raw pointer that could be Option<Box<T>> instead, but I need to make sure the allocation is aligned to at least 16 bytes. Is there a way to do this?
[22:05:00] <Eridius> where does the pointer come from?
[22:05:25] <bstrie> nmatsakis: want to get lunch tomorrow? we can invite erickt as well :)
[22:05:28] <Eridius> nm, I see what you're saying
[22:05:31] <SimonSapin> an allocation that I make
[22:05:56] <Eridius> SimonSapin: you need the allocation to be aligned to at least 16 bytes, even if the type T has a smaller required alignment?
[22:06:27] <SimonSapin> Eridius: Yes
[22:06:34] <SimonSapin> to put stuff in the lower bits
[22:06:48] <SimonSapin> https://github.com/servo/string-cache
[22:07:22] <Eridius> I would be wary about using a Box after mangling the pointer like that
[22:07:32] <Eridius> i.e. if I were you I'd just stick with the raw pointer
[22:07:49] <SimonSapin> uh, ok
[22:07:54] <bluss> Can you use NonZero? And keep using Option that way
[22:08:15] <bluss> Option<PtrTaggedBox<T>>
[22:08:21] <SimonSapin> This is just a random idea to try to reduce the amount of unsafe code in this library
[22:08:35] <SimonSapin> unsafe pointers work
[22:08:40] *** Quits: eibwen (eibwen@moz-oora8v.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[22:08:43] <SimonSapin> (with null for None)
[22:08:57] <Eridius> you could write an abstraction around the pointer that looks like Box but de-mangles the pointer whenever it creates the `&T` from it
[22:09:18] <Eridius> and do what bluss suggested and use core::nonzero::NonZero in order to allow for the null pointer optimization
[22:13:43] *** Quits: swgillespie (swgillespie@moz-1i5.3un.220.167.IP) (Quit: My MacBook Pro has gone to sleep. ZZZzzzâ€¦)
[22:13:57] *** Quits: munksgaard (munksgaard@moz-478pev.u.parknet.dk) (Ping timeout: 121 seconds)
[22:14:24] *** Quits: imperio (Mibbit@moz-8otf3a.fbx.proxad.net) (Quit: http://www.mibbit.com ajax IRC Client)
[22:14:54] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[22:15:57] *** Quits: Twisol (textual@moz-6tk.mnr.166.130.IP) (Quit: My Mac has gone to sleep. ZZZzzzâ€¦)
[22:18:50] *** Joins: sprang_ (sprang@moz-d0kmvi.12d9.sm5v.0009.2601.IP)
[22:18:50] *** Quits: sprang (sprang@moz-d0kmvi.12d9.sm5v.0009.2601.IP) (Connection closed)
[22:21:37] *** Quits: sprang_ (sprang@moz-d0kmvi.12d9.sm5v.0009.2601.IP) (Connection closed)
[22:23:58] <bluss> you could wrap that up in a generic implementation I guess
[22:24:02] *** Quits: larhat (Adium@moz-tb1ulb.cable.virginm.net) (Quit: Leaving.)
[22:24:17] * bluss cargo new ptrtaggedbox
[22:30:50] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[22:32:20] *** Joins: naerbnic (Mibbit@moz-q2p.4ra.239.216.IP)
[22:33:40] *** Quits: chc4 (chc4@moz-pdo0at.ma.comcast.net) (Ping timeout: 121 seconds)
[22:35:12] *** Quits: naerbnic (Mibbit@moz-q2p.4ra.239.216.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[22:37:05] *** Joins: naerbnic (naerbnic@moz-q2p.4ra.239.216.IP)
[22:38:55] <brson> flaper87: ping
[22:47:23] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[22:47:52] *** Quits: Astrum|Lap (Astrum|Lap@moz-7enfbr.co.comcast.net) (Client exited)
[22:50:37] <arielb1> nmatsakis: I've got instant-reject (gh24965) mostly done
[22:50:37] <[o__o]> [WIP] Use a hash-table when selecting impls: https://github.com/rust-lang/rust/pull/24965
[22:51:44] <pnkfelix> nmatsakis: nrc: ping
[22:54:39] *** Quits: ptalbot (ptalbot@moz-j4gnuh.fbx.proxad.net) (Ping timeout: 121 seconds)
[22:55:23] *** Quits: willem (willem@moz-facs2s.dynamic.upc.nl) (Quit: leaving)
[22:56:06] *** Quits: naerbnic (naerbnic@moz-q2p.4ra.239.216.IP) (Client exited)
[22:56:23] *** Joins: naerbnic (naerbnic@moz-q2p.4ra.239.216.IP)
[22:56:46] *** Quits: James (quassel@moz-9kp9p2.range86-148.btcentralplus.com) (Ping timeout: 121 seconds)
[23:03:09] *** Quits: naerbnic (naerbnic@moz-q2p.4ra.239.216.IP) (Client exited)
[23:04:44] *** Joins: naerbnic (naerbnic@moz-q2p.4ra.239.216.IP)
[23:10:13] *** Quits: mtsr (mtsr@moz-hphuar.yourbnc.co.uk) (Ping timeout: 121 seconds)
[23:10:19] *** Quits: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu) (Quit: Leaving)
[23:10:33] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[23:11:01] *** Joins: blaenk (blaenkdenum@moz-7pqc8t.n2pv.fsko.e000.2605.IP)
[23:11:04] <pnkfelix> nmatsakis: nrc: I was pinging to ask whether it was safe to say that the scope of the `Self` type param in `impl<P ...> Tr for Ty where C ...`does not include the params `P ...` but *does* include the clauses `C ...`, and thus perhaps we should take more care in the AST design and in syntax::visit in distinguishing the two cases.
[23:11:15] *** Joins: sprang (sprang@moz-d0kmvi.12d9.sm5v.0009.2601.IP)
[23:11:29] <pnkfelix> nmatsakis: nrc: but now it is late so I'll just check in again about it in the morning. (The relevant ticket is gh24944 )
[23:11:29] <[o__o]> Beta Regression: cannot reference Self from where clause for inherent impl: https://github.com/rust-lang/rust/issues/24944
[23:12:52] *** Joins: mtsr (mtsr@moz-hphuar.yourbnc.co.uk)
[23:13:17] *** Joins: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu)
[23:14:15] <sfackler> acrichto: had a chance to look at the debug builders thing?
[23:15:16] <acrichto> sfackler: ah yeah we talked about it today, I'll try to write up a comment soon
[23:15:28] *** Quits: simukis (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[23:16:28] *** Quits: Tobba (Tobba@moz-o13d22.bredband.telia.com) (Ping timeout: 121 seconds)
[23:17:06] <sfackler> cool
[23:17:52] *** Quits: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com) (Ping timeout: 121 seconds)
[23:18:31] *** Joins: swgillespie (swgillespie@moz-1i5.3un.220.167.IP)
[23:18:46] *** Joins: froglegstew (Mibbit@moz-juv.9o3.252.72.IP)
[23:19:32] *** Joins: chc4 (chc4@moz-pdo0at.ma.comcast.net)
[23:19:38] *** Quits: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu) (Quit: Leaving)
[23:19:59] *** Quits: froglegstew (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[23:21:55] *** Joins: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu)
[23:24:12] *** Joins: njn (chatzilla@moz-7npk8s.iinet.net.au)
[23:25:11] *** Quits: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu) (Quit: Leaving)
[23:25:42] *** Joins: blaenk_ (blaenkdenum@moz-12e081.res.rr.com)
[23:26:48] *** Quits: gsingh93 (gulshan@moz-qnbukr.mi.comcast.net) (Ping timeout: 121 seconds)
[23:26:56] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[23:26:56] *** ChanServ sets mode: +o pcwalton
[23:27:30] *** Quits: blaenk (blaenkdenum@moz-7pqc8t.n2pv.fsko.e000.2605.IP) (Ping timeout: 121 seconds)
[23:27:47] *** Joins: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu)
[23:29:25] *** blaenk_ is now known as blaenk
[23:29:55] *** Quits: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu) (Quit: Leaving)
[23:30:05] *** Joins: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu)
[23:32:31] *** Quits: pnkfelix (pnkfelix@moz-eljppb.fbx.proxad.net) (Quit: rcirc on GNU Emacs 24.5.1)
[23:35:02] *** Quits: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu) (Quit: Leaving)
[23:35:16] *** Joins: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu)
[23:38:12] <bstrie> brson steveklabnik: because people will never stop complaining, I propose that we remove the `curl rustup | sudo sh` from rlo and the docs before 1.0
[23:39:19] *** Quits: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu) (Quit: Leaving)
[23:39:28] *** Joins: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu)
[23:39:58] *** Quits: Siosm (quassel@moz-hkaoqt.fr) (A TLS packet with unexpected length was received.)
[23:40:07] *** Joins: Siosm (quassel@moz-hkaoqt.fr)
[23:40:08] *** Quits: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu) (Quit: Leaving)
[23:40:19] *** Joins: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu)
[23:44:01] <bluss> SimonSapin: I created a taggedptr crate actually
[23:48:13] *** Quits: ytain_ (ytain@moz-trdbtq.dsl.teksavvy.com) (Quit: Textual IRC Client: www.textualapp.com)
[23:49:09] *** Quits: hyunsik (hyunsik@moz-3qgjl9.ca.comcast.net) (Ping timeout: 121 seconds)
[23:50:04] *** Joins: blaenk_ (blaenkdenum@moz-12e081.res.rr.com)
[23:51:32] *** Quits: blaenk (blaenkdenum@moz-12e081.res.rr.com) (Ping timeout: 121 seconds)
[23:52:33] <brson> bstrie: i still hope to modify rustup to do the sudo itself before 1.0
[23:52:41] *** Quits: arielb1 (Ariel@moz-78pi5m.red.bezeqint.net) (Connection closed)
[23:52:46] *** Joins: weirdogds (Mibbit@moz-juv.9o3.252.72.IP)
[23:53:35] *** Quits: weirdogds (Mibbit@moz-juv.9o3.252.72.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[23:53:42] <brson> if i don't though i'm still not sure i want to remove it. it's what people actually use
[23:56:01] <bstrie> brson: even just changing it to the two lines `curl rustup` and `sudo ./rustup` would be enough to dispel the incessant haters
[23:56:36] <zwarich> running unsigned things from the internet as root seems like a bad idea :P
[23:57:30] <bstrie> zwarich: if you can't download the binary securely, what makes you think you can download the checksum securely :P
[23:57:44] <Eridius> if you can't trust the installer, what makes you think you can trust the things it installed?
[23:57:49] <bstrie> if TLS is broken, you have bigger problems
[23:58:04] <SimonSapin> brson: please only try sudo when necessary. I have multirust in a user-writable directory.
[23:59:18] <brson> SimonSapin: iow you want the *multirust* install to not sudo, not rustup.sh? Whatever technique we use in rustup.sh can be duplicated in multirust's blastoff script too, sure.
[23:59:39] <brson> (multirust only sudo's in the blastoff script)
[23:59:53] <SimonSapin> I donâ€™t use blastoff, so whatever
