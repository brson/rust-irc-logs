[00:03:37] *** Joins: achanda (achanda@moz-qv7q4n.ca.comcast.net)
[00:10:35] *** Joins: rustbot (havvy@moz-epv20b.wa.comcast.net)
[00:35:26] *** Quits: nagisa (nagisa@moz-8t068g.static.zebra.lt) (Ping timeout: 121 seconds)
[00:43:56] *** Quits: brson (brson@moz-qjbkeh.mtv2.mozilla.com) (Quit: leaving)
[01:21:24] <Gankro> nmatsakis: I can respect that. Just know that complaints only get you so far as "your usecase sure sounds niche" :P
[02:12:20] *** Quits: achanda (achanda@moz-qv7q4n.ca.comcast.net) (Connection closed)
[02:43:52] *** Quits: kimundi (kimundi@moz-4gvoif.8lpn.sem7.57bc.2002.IP) (Ping timeout: 121 seconds)
[02:49:57] *** Joins: kimundi (kimundi@moz-opd.h2h.188.87.IP)
[02:58:16] *** Joins: aatch (james@moz-i1k1ks.tlms.2o1v.e006.2406.IP)
[04:07:05] *** Joins: achanda (achanda@moz-qv7q4n.ca.comcast.net)
[05:02:29] *** Quits: aatch (james@moz-i1k1ks.tlms.2o1v.e006.2406.IP) (Quit: Leaving)
[06:34:59] *** Quits: rdgawdzi (sid91768@moz-36ps68.ealing.irccloud.com) (Quit: )
[06:35:08] *** Joins: rdgawdzi (sid91768@moz-mt7qcd.highgate.irccloud.com)
[07:23:35] *** Quits: SimonSapin (simon@moz-ju2imn.exyr.org) (Quit: Bye)
[07:28:04] *** Joins: SimonSapin (simon@moz-ju2imn.exyr.org)
[07:29:28] *** Quits: achanda (achanda@moz-qv7q4n.ca.comcast.net) (Connection closed)
[07:34:30] *** Joins: achanda (achanda@moz-qv7q4n.ca.comcast.net)
[07:44:37] *** Quits: achanda (achanda@moz-qv7q4n.ca.comcast.net) (Connection closed)
[08:21:32] *** Joins: achanda (achanda@moz-qv7q4n.ca.comcast.net)
[08:44:53] *** Joins: nagisa (nagisa@moz-8t068g.static.zebra.lt)
[09:35:35] *** Quits: achanda (achanda@moz-qv7q4n.ca.comcast.net) (Connection closed)
[12:30:44] <nmatsakis> Gankro: joining a string with commas sounds niche?
[12:30:45] *** Joins: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua)
[12:31:03] <nmatsakis> Gankro: I may be just complaining :P but I dispute assessment
[12:31:07] <nmatsakis> *that assessment
[13:08:00] *** Quits: nagisa (nagisa@moz-8t068g.static.zebra.lt) (Connection closed)
[13:08:38] *** Joins: nagisa (nagisa@moz-8t068g.static.zebra.lt)
[14:14:15] *** Joins: killercup (killercup@moz-4udt1b.dip0.t-ipconnect.de)
[14:14:27] *** Quits: killercup (killercup@moz-4udt1b.dip0.t-ipconnect.de) (Quit: Bye)
[14:39:58] *** Joins: bluss (bluss@moz-dc3fi4.customer.cdi.no)
[15:13:24] *** Joins: bluss_ (bluss@moz-4s1svj.dialup.ice.net)
[15:16:01] *** Quits: bluss (bluss@moz-dc3fi4.customer.cdi.no) (Ping timeout: 121 seconds)
[15:29:07] <Gankro> nmatsakis: I dunno, every language *I've* ever seen has strings as an immutable thing
[15:29:25] <nmatsakis> Gankro: StringBuffer?
[15:29:39] <Gankro> nmatsakis: Yeah but all we have is String and str!
[15:29:41] <nmatsakis> but anyway the real use case is that .connect() and .collect() don't work in most cases i've wanted them
[15:29:47] <nmatsakis> String == StringBuffer
[15:29:52] <Gankro> whaaat
[15:29:59] <nmatsakis> yes, it is.Also, C++ strings are mutable :)
[15:29:59] <Gankro> that's craaaazy :P
[15:30:04] <nmatsakis> no, it's not. think about it.
[15:30:13] * Gankro is joking
[15:30:15] <nmatsakis> ok :)
[15:30:22] <nmatsakis> but anyway, what I always REALLY want to do is:
[15:30:32] <nmatsakis> foo.iter().map(|x| ...).connect(",")
[15:30:42] <nmatsakis> or
[15:30:53] <nmatsakis> foo.iter().map(|x| /* make a String */).collect::<String>()
[15:30:54] <nmatsakis> and I think neither works
[15:33:22] <Gankro> nmatsakis: So I'll state the obvious that constructing Strings just to concatenate them is a tad inefficient
[15:33:48] <nmatsakis> Gankro: ... and I'll state the obvious that if I cared about that, I'd do it a different way.
[15:33:54] <Gankro> haha :)
[15:33:56] <nmatsakis> I mean not everything is the inner loop
[15:34:24] <nmatsakis> I mean if collect() works on &str
[15:34:28] <nmatsakis> don't you think it should work for String?
[15:35:11] <Gankro> Yeah that makes sense
[15:35:32] <Gankro> I think the tricky bit is that "," is a str. So you'd have to allocate "," for every single one, right?
[15:35:41] <nmatsakis> well you're assuming I want a "," in the middle
[15:35:48] <nmatsakis> in those cases, usually I want something after each one
[15:35:50] <nmatsakis> e.g. a `;`
[15:35:56] <nmatsakis> the connect() case is different
[15:36:00] <Gankro> Oh ok
[15:36:01] <nmatsakis> but yeah I could allcoate a bunch of commas
[15:36:03] <nmatsakis> I really don't care 
[15:36:11] <nmatsakis> I mean I'm talking a list of length 3 or something
[15:36:20] * Gankro has spent too much time avoiding all allocations
[15:36:22] <nmatsakis> the particular use case here that I've been working on
[15:36:27] <nmatsakis> is generating code frmo my LR(1) thing
[15:36:30] <nmatsakis> and really it doesn't matter
[15:36:36] <nmatsakis> I just want to spend as little time as possible
[15:36:40] <nmatsakis> writing this annoying grungy code
[15:36:47] <nmatsakis> :)
[15:37:14] <Gankro> nmatsakis: I mean, these two patterns seem fairly easy to encode as utility functions if you're doing it a lot?
[15:37:28] <nmatsakis> yes, and I have done so in some cases
[15:37:32] <nmatsakis> but I think that string munging
[15:37:32] <Gankro> Definitely agree on collect/extend String
[15:37:38] <nmatsakis> is something we should make as clean as possible
[15:37:50] <nmatsakis> anyway I'll maybe write up an RFC or something at some point
[15:38:00] <Gankro> nmatsakis: My only pause on it is that it really encourages you to use strings inefficiently
[15:38:38] <bluss_> nmatsakis: I'm expecting that we want .join(sep) aka .connect(sep) on iterators in libstd
[15:38:38] <Gankro> nmatsakis: Ah yeah it's a trait impl, so it'd be insta-stable :/
[15:40:29] <nmatsakis> bluss_: I'd like it
[15:40:51] <nmatsakis> Gankro: we could at least make it possible to have feature-gated impls that just get ignored 
[15:40:55] <nmatsakis> I don't think that'd be too hard to do
[15:40:57] <nmatsakis> (in the compiler I mean)
[15:41:14] <Gankro> nmatsakis: omg yes please
[15:42:51] *** Quits: Gankro (sid71432@moz-sc2bd6.charlton.irccloud.com) (Quit: )
[15:42:58] *** Joins: Gankro (sid71432@moz-g8qprj.ealing.irccloud.com)
[16:36:53] <Gankro> nmatsakis: are unstable traits something real I can really ask for for reals, though? Should I file an issue somewhere?
[16:37:39] <Gankro> nmatsakis: historically there has been concern about std using the traits but other libraries not being able to.
[16:38:04] <nmatsakis> Gankro: unstable traits or impls?
[16:38:12] <Gankro> oh impls
[16:38:59] <nmatsakis> Gankro: well, that could happen -- I imagine what we would do is ignore them unless the feature gate was enabled,
[16:39:05] <nmatsakis> Gankro: so std could just not enable the feature-gate
[16:39:17] <nmatsakis> Gankro: but I've not thought hard about this, there might be some wackiness that ensues
[16:40:11] <nmatsakis> Gankro: seems like it'd be very useful though and it's worth strongly considering 
[16:41:32] <Gankro> nmatsakis: https://github.com/rust-lang/rfcs/issues/1223
[16:42:10] <nmatsakis> I feel like specialization would make this trickier tho
[16:44:19] <nmatsakis> I'll write some notes in the issue
[17:27:37] *** Joins: achanda (achanda@moz-qv7q4n.ca.comcast.net)
[17:27:45] *** Quits: nagisa (nagisa@moz-8t068g.static.zebra.lt) (A TLS packet with unexpected length was received.)
[18:23:27] *** Joins: brson (brson@moz-l8ebtf.sfo1.mozilla.com)
[18:23:27] *** ChanServ sets mode: +qo brson brson
[18:28:25] *** Joins: nagisa (nagisa@moz-8t068g.static.zebra.lt)
[18:54:45] *** Quits: brson (brson@moz-l8ebtf.sfo1.mozilla.com) (Connection closed)
[18:58:06] *** Joins: killercup (killercup@moz-f6o3r9.dip0.t-ipconnect.de)
[18:58:46] *** Quits: achanda (achanda@moz-qv7q4n.ca.comcast.net) (Ping timeout: 121 seconds)
[19:47:22] *** Joins: LinuxBunny (Retep998@moz-vlal7g.east.verizon.net)
[19:48:12] *** Joins: achanda (achanda@moz-s19.c8s.234.98.IP)
[19:52:21] *** Joins: achanda_ (achanda@moz-qv7q4n.ca.comcast.net)
[19:53:19] *** Quits: achanda (achanda@moz-s19.c8s.234.98.IP) (Ping timeout: 121 seconds)
[19:57:14] *** Quits: LinuxBunny (Retep998@moz-vlal7g.east.verizon.net) (Ping timeout: 121 seconds)
[19:59:18] *** Joins: achanda (achanda@moz-qv7q4n.ca.comcast.net)
[19:59:23] *** Quits: achanda_ (achanda@moz-qv7q4n.ca.comcast.net) (Ping timeout: 121 seconds)
[20:10:20] *** Quits: achanda (achanda@moz-qv7q4n.ca.comcast.net) (Ping timeout: 121 seconds)
[20:15:43] *** Joins: achanda (achanda@moz-qv7q4n.ca.comcast.net)
[20:34:46] *** Quits: achanda (achanda@moz-qv7q4n.ca.comcast.net) (Ping timeout: 121 seconds)
[20:35:31] *** Joins: apasel422 (Mibbit@moz-6ga37r.ma.comcast.net)
[20:40:27] *** Quits: bluss_ (bluss@moz-4s1svj.dialup.ice.net) (Ping timeout: 121 seconds)
[20:42:57] *** Joins: bluss (bluss@moz-4s1svj.dialup.ice.net)
[20:50:05] *** Quits: bluss (bluss@moz-4s1svj.dialup.ice.net) (Ping timeout: 121 seconds)
[20:52:17] *** Joins: achanda (achanda@moz-qv7q4n.ca.comcast.net)
[20:57:32] *** Joins: bluss (bluss@moz-dc3fi4.customer.cdi.no)
[21:07:10] *** Quits: Manishearth (manishearth@moz-uc30rq.anapnea.net) (Connection closed)
[21:07:14] *** Joins: manishearth (manishearth@moz-uc30rq.anapnea.net)
[21:07:14] *** ChanServ sets mode: +ao manishearth manishearth
[21:08:11] *** Quits: manishearth (manishearth@moz-uc30rq.anapnea.net) (Quit: Lost terminal)
[21:08:22] *** Joins: manishearth (manishearth@moz-uc30rq.anapnea.net)
[21:08:22] *** ChanServ sets mode: +ao manishearth manishearth
[21:55:56] *** Quits: apasel422 (Mibbit@moz-6ga37r.ma.comcast.net) (Quit: http://www.mibbit.com ajax IRC Client)
[22:07:24] *** Joins: achanda_ (achanda@moz-qv7q4n.ca.comcast.net)
[22:07:44] *** Quits: achanda (achanda@moz-qv7q4n.ca.comcast.net) (Connection closed)
[22:28:28] *** Quits: achanda_ (achanda@moz-qv7q4n.ca.comcast.net) (Ping timeout: 121 seconds)
[22:51:47] *** Quits: killercup (killercup@moz-f6o3r9.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[23:05:56] *** Quits: gleb (gleb@moz-3u1drv.rusanovka-net.kiev.ua) (Ping timeout: 121 seconds)
[23:22:03] *** Joins: achanda (achanda@moz-qv7q4n.ca.comcast.net)
[23:27:12] *** Quits: achanda (achanda@moz-qv7q4n.ca.comcast.net) (Ping timeout: 121 seconds)
[23:31:06] *** Joins: achanda (achanda@moz-qv7q4n.ca.comcast.net)
[23:43:02] *** Quits: achanda (achanda@moz-qv7q4n.ca.comcast.net) (Connection closed)
[23:45:16] *** Joins: achanda (achanda@moz-qv7q4n.ca.comcast.net)
[23:47:32] *** Quits: achanda (achanda@moz-qv7q4n.ca.comcast.net) (Connection closed)
