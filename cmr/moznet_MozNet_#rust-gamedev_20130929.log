[00:12:19] *** Joins: maik (maik@moz-5DA9E925.dip0.t-ipconnect.de)
[00:13:31] *** Quits: squiddy (squiddy@moz-4265BEBB.adsl.alicedsl.de) (Quit: Leaving)
[00:14:15] *** Joins: sastraxi (Thunderbir@moz-16AB02E.cable.sta.mountaincable.net)
[00:19:16] *** Quits: maik (maik@moz-5DA9E925.dip0.t-ipconnect.de) (Ping timeout)
[00:20:58] *** Quits: sp3d (a@6361F3B1.19CD1E54.8354FB35.IP) (Ping timeout)
[00:22:05] <sastraxi> hey all, i'm working through the tutorial and had a question
[00:22:26] <sastraxi> what's the motivation for having different pointer types available for self in method declarations?
[00:22:54] <dbaupp> it allows you to express exactly what you want the behaviour of the method is, just like with a normal function
[00:23:11] <dbaupp> e.g. it might take self by-val, and so would move/consume some types
[00:23:26] <dbaupp> (like file.close() would be cool to make `file` unusable afterwards)
[00:23:31] <sastraxi> OK. from my limited understanding i'm not sure if i'd ever not use &self
[00:23:42] <dbaupp> or it might take &mut self, since you want to modify some fields of self
[00:23:50] <dbaupp> but yeah, &self is the most common one
[00:24:14] <sastraxi> because the other pointer types can be frozen into a borrowed, right?
[00:24:42] <sastraxi> ooh whoops, wrong chat window--meant this to go in #rust
[00:24:46] <dbaupp> yes, methods are the same as functions in that regard
[00:24:58] <cmr> &self, &mut self, and (rarely) self, are the ones I view as useful.
[00:25:07] <cmr> I have used @mut self once, but that was a very weird circumstance.
[00:25:09] <dbaupp> ~self and @self are most useful for trait objects
[00:25:32] *** Joins: sp3d (a@6361F3B1.19CD1E54.8354FB35.IP)
[00:25:45] <sastraxi> dbaupp: to restrict the type of pointer it can work on? or to provide different functionality for different pointer types
[00:26:23] <sastraxi> cmr: when would you just use self? I think I saw that in the trait impl for ___ but I can't think of anything other than that
[00:26:34] <cmr> sastraxi: when you want to consume the thing
[00:26:38] <cmr> like, closing a file
[00:26:49] <cmr> or calling listen() on a socket
[00:27:27] <sastraxi> hmm, I'm trying to wrap my head around that--doesn't just "self" mean that we're getting a copy of the object?
[00:27:50] <cmr> nope
[00:28:58] <sastraxi> cmr: do you mind taking a second to explain then? the tutorial doesn't seem to cover that case
[00:29:03] <dbaupp> well, it does, but depending on the type, that will mean that the original object is unusable (in the compilers eyes), and that's a "move"
[00:29:06] <cmr> sastraxi: yeah, sure.
[00:29:20] <dbaupp> (it does mean you get a memcpy style copy, that is)
[00:29:41] <cmr> rusti: struct Foo { x: uint } impl Foo { fn consume(self) -> uint { self.x } } let f = Foo { x: 42 }; f.consume()
[00:29:43] -rusti- 42u
[00:29:48] <cmr> rusti: struct Foo { x: uint } impl Foo { fn consume(self) -> uint { self.x } } let f = Foo { x: 42 }; f.consume(); f
[00:29:49] -rusti- main::Foo{x: 42u}
[00:29:59] <dbaupp> cmr: (need a dtor)
[00:30:02] <cmr> rusti: struct Foo { x: uint } impl Foo { fn consume(self) -> uint { self.x } } impl Drop for Foo { fn drop(&mut self) { } } let f = Foo { x: 42 }; f.consume(); f
[00:30:04] -rusti- pastebinned 8 lines of output: http://sprunge.us/ZUgb
[00:30:07] <cmr> (I know)
[00:30:41] <sastraxi> oh!
[00:31:06] <Amaranth> Wait so it invalidates your handle but it actually copies?
[00:31:24] <sastraxi> oh that's really cool
[00:31:26] <cmr> Amaranth: everything in rust is a shallow copy
[00:31:46] <Amaranth> cmr: Do we have any copy elision?
[00:31:55] <cmr> sastraxi: it's how our TCP interface works. see https://github.com/cmr/rust-examples/blob/master/echo_server.rs#L5 for example
[00:31:56] <sastraxi> so objects only exist in one place
[00:32:02] <cmr> Amaranth: no idea
[00:32:15] <cmr> sastraxi: you can't listen on a socket twice, because calling listen consumes the listener, and returns an acceptor.
[00:32:20] <Amaranth> I mean relying on copy elision feels like falling into the sufficiently smart compiler trap but it is better than nothing
[00:32:23] *** Quits: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl) (Quit: Leaving)
[00:32:40] <sastraxi> cmr and dbaupp: thanks!
[00:32:54] <sastraxi> back to the docs!
[00:33:15] <dbaupp> Amaranth: it has to transfer the data somehow, right? (I guess copy-elision means converting `x: Foo` to be `x: &Foo` under the hood?)
[00:34:52] <Amaranth> dbaupp: Right, copy elision would be the compiler being able to tell you never actually used both separately (which rust knows because it enforces that) and generating code that passes a reference instead
[00:35:14] <cmr> I actually think we might do that now
[00:35:21] <cmr> Pretty sure self is always a pointer
[00:35:23] <cmr> Not positive
[00:35:23] <dbaupp> i.e. we get LLVM to do that?
[00:35:30] <dbaupp> that's a bug though
[00:35:35] <cmr> Oh
[00:35:37] <cmr> :p
[00:35:38] <dbaupp> (passing self in the env, rather than as a normal param)
[00:35:45] <Amaranth> hehe, I'm sure LLVM has optimization passes for it considering C++
[00:56:50] *** Quits: tiffany (kawaii@moz-EB8B0C08.dhcp.embarqhsd.net) (Ping timeout)
[01:02:23] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[01:07:41] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[01:22:53] *** Quits: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net) (Ping timeout)
[01:29:47] *** Joins: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net)
[01:32:58] *** Joins: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP)
[01:34:13] <kvark> bjz: ping2
[01:38:30] *** Quits: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net) (Ping timeout)
[01:42:20] *** Quits: glennsl (textual@moz-5D7B804F.getinternet.no) (Quit: My MacBook Pro has gone to sleep. ZZZzzz…)
[01:43:43] *** Quits: sastraxi (Thunderbir@moz-16AB02E.cable.sta.mountaincable.net) (Client exited)
[01:58:32] *** Joins: ryeguy (ryeguy@9C569A0.5D1143CD.E8644521.IP)
[02:13:21] *** Quits: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[02:27:51] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[02:28:44] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[02:32:33] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[02:32:49] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[02:34:49] *** Quits: kimundi (kimundi@moz-E17678C9.dip0.t-ipconnect.de) (Ping timeout)
[02:38:18] *** Joins: zz_kimundi (kimundi@moz-AAC1E158.dip0.t-ipconnect.de)
[02:38:19] *** zz_kimundi is now known as kimundi
[02:46:58] *** Joins: Lurk_ (chatzilla@moz-F088D030.hsd1.in.comcast.net)
[02:49:06] *** Quits: kvark (Mibbit@F21FE202.8C19BC3D.26E1259.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[02:51:34] *** Quits: Ferreus (ferreus@moz-80A38711.dyn.telefonica.de) (Quit: WeeChat 0.4.1)
[03:09:19] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Client exited)
[03:10:19] *** Quits: tikue_ (tkuehn@4245E30A.E2CAEE6E.689607DE.IP) (Ping timeout)
[03:10:22] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[03:16:11] *** Quits: bytewise (bytewise@moz-4A801D04.unitymediagroup.de) (Quit: Leaving)
[03:28:02] *** Quits: canhtak (jeremy@moz-C6007F4.wl.t.ulaval.ca) (Quit: canhtak)
[03:31:03] *** Joins: tikue_ (tkuehn@4245E30A.E2CAEE6E.689607DE.IP)
[03:32:22] <cmr> bjz: I'm watching gl-rs now, thanks for the cc
[03:32:43] <cmr> Considering that I've never written anything beyond hello triangle, I'm becoming decently well versed in gl :p
[03:32:50] <bjz> heh
[03:32:53] * cmr also contributes to mesa and piglit when he has time.
[03:32:53] <bjz> :)
[03:33:06] <cmr> working on the drivers is so much more fun than actually writing programs using them :p
[03:34:21] <ryeguy> are you guys developing 2d or 3d games?
[03:40:46] <ryeguy> just wondering if the people going straight opengl are doing 2d or 3d
[03:41:01] <cmr> I plan on creating a flixel-like 2d engine over opengl
[03:42:09] <ryeguy> why go for direct opengl instead of sfml or sdl?
[03:42:50] <cmr> Why use an extra layer of abstraction?
[03:43:01] <ryeguy> because it saves time, i guess?
[03:43:12] <ryeguy> you just end up recreating what the engines have done already, imo
[03:43:23] <cmr> Yeah, but I'm writing an engine, that's the point :P
[03:43:33] <ryeguy> ah
[03:43:37] <ryeguy> fair enough
[03:44:07] <cmr> We need more pure-Rust things. For a variety of reasons, just wrapping a C lib is uninteresting.
[03:44:23] <ryeguy> agreed
[03:44:27] <dbaupp> (and slow)
[03:44:41] <ryeguy> is the overhead to wrapping a c lib significant>?
[03:44:59] <cmr> It's not as bad as it used to be atm but it's still pretty bad.
[03:45:09] <ryeguy> will it get better?
[03:45:21] <dbaupp> ryeguy: if/when segmented stacks come back, it will likely get worse
[03:45:23] <cmr> I very much doubt it.
[03:45:47] <dbaupp> each* call to C will require allocating* a new stack (*not strictly true)
[03:46:00] <cmr> On the plus side, once we are using 1GiB stacks on x64, it won't matter :P
[03:46:18] <dbaupp> <3 infinite address space
[03:47:17] <ryeguy> rust is interesting enough that i'm sure a solid 2d engine will pop up soon enough
[03:47:41] <cmr> I just said I'm going to write one :P
[03:48:07] <cmr> Although "solid" might be overly optimistic
[03:48:10] <ryeguy> hehe
[03:48:38] <ryeguy> i guess i just assumed it was a side project or something
[03:49:01] <cmr> What, side projects aren't legitimate? :P
[03:50:05] <ryeguy> heh, they can be
[03:50:34] <ryeguy> theres the ones that turn out to be great, then the ones that are just tossed on github with no docs (which are still useful!)
[03:51:15] <ryeguy> back to the performance hit though - how significant is the hit for caling into C libs?
[03:51:38] <ryeguy> is it "you want to avoid it" or "try to not do it if you can"?
[03:51:58] <cmr> I haven't measure it in a while.
[03:52:02] <cmr> It's more of the second one though
[03:52:24] <ryeguy> so, still better than doing a game in java/c#? thats all that matters to me
[03:52:33] <ryeguy> because those are still acceptably fast imo
[03:52:46] <cmr> Yeah, deffers.
[03:55:10] *** Joins: Yurume (yurume@AC58A8CE.8A059B47.E313B915.IP)
[03:58:28] *** Joins: nielsle (nielsle@moz-5CE8ECCD.boa.fiberby.dk)
[04:07:17] *** Quits: ryeguy (ryeguy@9C569A0.5D1143CD.E8644521.IP) (Quit: )
[04:13:12] *** Quits: tikue_ (tkuehn@4245E30A.E2CAEE6E.689607DE.IP) (Quit: tikue_)
[04:29:23] *** Joins: maik (maik@moz-5DA9E925.dip0.t-ipconnect.de)
[04:31:38] *** Joins: tikue_ (tkuehn@4245E30A.E2CAEE6E.689607DE.IP)
[04:36:12] *** Quits: maik (maik@moz-5DA9E925.dip0.t-ipconnect.de) (Ping timeout)
[04:42:00] *** Joins: maik (maik@moz-5DA9E925.dip0.t-ipconnect.de)
[05:07:09] *** Quits: maik (maik@moz-5DA9E925.dip0.t-ipconnect.de) (Ping timeout)
[05:14:28] *** Joins: maik (maik@moz-5DA9E925.dip0.t-ipconnect.de)
[06:04:20] *** Quits: maik (maik@moz-5DA9E925.dip0.t-ipconnect.de) (Ping timeout)
[06:22:13] *** Quits: Lurk_ (chatzilla@moz-F088D030.hsd1.in.comcast.net) (Ping timeout)
[06:52:38] *** Joins: bjz_ (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[06:52:45] *** Quits: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[06:59:55] *** Joins: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP)
[07:18:55] *** Quits: jeaye (Jeaye@moz-34FEF2BB.hsd1.ca.comcast.net) (Ping timeout)
[07:24:21] *** Joins: maik (maik@moz-5DA9E925.dip0.t-ipconnect.de)
[07:42:35] *** Quits: maik (maik@moz-5DA9E925.dip0.t-ipconnect.de) (Ping timeout)
[07:49:51] *** Joins: sebcrozet (sebcrozet@moz-7FB6C00B.w193-252.abo.wanadoo.fr)
[07:51:01] *** Joins: squiddy (squiddy@moz-543CC057.adsl.alicedsl.de)
[08:56:57] *** Quits: bjz_ (brendanzab@B398BE78.F804C29E.D35A31DF.IP) (Connection reset by peer)
[08:56:59] *** Joins: bjz (brendanzab@B398BE78.F804C29E.D35A31DF.IP)
[08:59:49] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[10:08:37] *** Quits: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[10:10:26] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Ping timeout)
[10:10:55] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[10:12:14] *** Joins: glennsl (textual@moz-5D7B804F.getinternet.no)
[10:14:27] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[11:03:23] *** tikue_ is now known as tikue_sleep_question_mark
[11:03:28] *** Quits: tikue_sleep_question_mark (tkuehn@4245E30A.E2CAEE6E.689607DE.IP) (Quit: tikue_sleep_question_mark)
[11:14:46] *** Quits: sebcrozet (sebcrozet@moz-7FB6C00B.w193-252.abo.wanadoo.fr) (Quit: Gone)
[11:21:05] *** Joins: CarpNet (Alasdair@moz-EF831A5E.cable.virginmedia.com)
[11:32:58] *** Joins: canhtak (jeremy@877D54DD.7A8E554D.FC900DAF.IP)
[11:52:39] *** Quits: squiddy (squiddy@moz-543CC057.adsl.alicedsl.de) (Ping timeout)
[12:19:03] *** Joins: tiffany (kawaii@moz-EB8B0C08.dhcp.embarqhsd.net)
[12:28:16] *** Joins: kvark (Mibbit@F21FE202.8C19BC3D.26E1259.IP)
[12:28:25] <kvark> bjz: ping-ping
[12:49:19] *** Quits: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl) (Ping timeout)
[12:58:29] *** Joins: squiddy (squiddy@moz-543CC057.adsl.alicedsl.de)
[13:19:50] *** Joins: steveklabnik (steveklabn@moz-5EF6C37C.socal.res.rr.com)
[13:38:38] <bjz> kvark: hoy!
[13:39:35] *** Joins: pnkfelix1 (pnkfelix@moz-43495417.fbx.proxad.net)
[13:41:02] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Ping timeout)
[13:41:14] <kvark> bjz: finally!
[13:41:50] <kvark> where did Vec?::to_ptr go?
[13:42:49] <tiffany> as_ptr
[13:43:00] <kvark> ah
[13:43:02] <kvark> so simple
[13:43:05] <tiffany> rusti: &[1,2,3].as_ptr()
[13:43:06] -rusti- <anon>:7:10: 8:5 error: type `[<VI2>, .. 3]` does not implement any method in scope named `as_ptr`
[13:43:06] -rusti- <anon>:7          &[1,2,3].as_ptr()
[13:43:06] -rusti- <anon>:8     };
[13:43:06] -rusti- error: aborting due to previous error
[13:43:06] -rusti- application terminated with error code 101
[13:43:24] <kvark> I mean not std::vec but cgmath::vector::Vec*
[13:43:30] <tiffany> oh
[13:48:58] <kvark> bjz?
[13:52:00] <bjz> kvark: sorry!
[13:52:22] <bjz> kvark: was replying to your post on your issue
[13:52:25] <kvark> ah
[13:53:12] <bjz> yes, that is an oversight
[13:53:53] <kvark> ok, I'll work around it then for now
[13:54:07] <kvark> failed to find an implementation of trait cgmath::angle::Angle<<V3>> for f32
[13:54:17] <kvark> nevermind
[13:54:30] <bjz> for now you can use: vec.i(0), and have it implicitly coerce to a *T
[13:54:40] <kvark> ok, thanks
[13:55:31] <bjz> because Array::i returns a reference bound to the lifetime of Self
[13:59:03] <kvark> ok, next question
[13:59:10] <kvark> cgmath::rotation
[13:59:42] <kvark> how is rotate_point supposed to differ from rotate_vec or rotate_ray?
[14:04:56] <bjz> just on the type level. cgmath::rotation is fare too bloated :(
[14:05:27] <kvark> I don't see why rotate_* stuff would be different
[14:10:09] <kvark> I'll consider cleaning this up, if you don't mind
[14:10:26] <kvark> I'd also like to have an affine transform trait similar to rotation
[14:10:45] <kvark> this one would definitely have transform_vec and transform_point implemented different
[14:12:33] <kvark> bjz: also, I don't see Vec::i() defined...
[14:13:58] <bjz> you're looking for Array::i
[14:14:40] <bjz> haven't implemented the transforms yet :(
[14:16:43] <bjz> for rotations the difference is purely semantic, rotate_point rotates a geometric location (affine space) around the origin, rotate_vec rotates a transformation
[14:21:22] <kvark> I see
[14:21:32] <kvark> semantics-  makes sence
[14:21:46] <kvark> but what about implementation? we know that it's going to be the same
[14:30:43] <kvark> bjz?
[14:31:03] <bjz> implementation would be the same
[14:31:35] <kvark> so can we share it on the trait level?
[14:33:29] <bjz> how would that look?
[14:34:35] <kvark> 1) cast point to vec 2) rotate_vec 3) cast vec to point
[14:36:48] <bjz> yeah we could do that
[14:37:25] <bjz> sorry, I'm abit distracted by uni work right now
[14:37:26] <bjz> :(
[14:37:33] <kvark> no worries
[15:25:54] *** Joins: maik (maik@moz-41A4E36A.dip0.t-ipconnect.de)
[15:28:01] *** Joins: Ferreus (ferreus@moz-F0869777.dyn.telefonica.de)
[15:28:46] *** Joins: jdm (jdm@7F255D02.1B9223B5.AE2B2F80.IP)
[15:29:14] *** Joins: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl)
[15:34:38] *** Quits: StarLight (StarLight@moz-DBB2336A.dynamic.avangarddsl.ru) (Ping timeout)
[15:38:59] *** Joins: StarLight (StarLight@moz-3B2C1A39.dynamic.avangarddsl.ru)
[15:47:04] *** Joins: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP)
[15:55:35] *** Joins: bytewise (bytewise@moz-4A801D04.unitymediagroup.de)
[15:55:36] *** Quits: kvark (Mibbit@F21FE202.8C19BC3D.26E1259.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[16:05:58] *** Joins: Amaranthus (travis@moz-F81BB56A.cpe.cableone.net)
[16:06:11] *** Quits: Amaranth (travis@moz-F81BB56A.cpe.cableone.net) (Ping timeout)
[16:46:33] *** Quits: maik (maik@moz-41A4E36A.dip0.t-ipconnect.de) (Ping timeout)
[16:57:19] *** Joins: maik (maik@moz-41A4E36A.dip0.t-ipconnect.de)
[17:02:14] *** Joins: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net)
[17:07:08] *** Joins: tikue_ (tkuehn@moz-FEADCD38.hsd1.pa.comcast.net)
[17:09:25] *** Quits: tikue_ (tkuehn@moz-FEADCD38.hsd1.pa.comcast.net) (Ping timeout)
[17:11:22] *** Joins: dandy (Dandy@moz-84CC8377.hsd1.co.comcast.net)
[17:12:28] *** Joins: Lurk_ (chatzilla@moz-F088D030.hsd1.in.comcast.net)
[17:12:30] *** Quits: Lurk_ (chatzilla@moz-F088D030.hsd1.in.comcast.net) (Client exited)
[17:17:52] *** jdm is now known as jdm|f00d
[17:28:21] *** Quits: pnkfelix1 (pnkfelix@moz-43495417.fbx.proxad.net) (Quit: Leaving.)
[17:34:29] *** Quits: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net) (Ping timeout)
[17:35:25] *** Quits: Amaranthus (travis@moz-F81BB56A.cpe.cableone.net) (Ping timeout)
[17:35:30] *** Joins: Amaranth (travis@moz-F81BB56A.cpe.cableone.net)
[17:38:57] *** Joins: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net)
[17:57:19] *** Quits: maik (maik@moz-41A4E36A.dip0.t-ipconnect.de) (Ping timeout)
[18:02:24] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[18:03:59] *** Quits: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com) (Ping timeout)
[18:04:15] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Ping timeout)
[18:19:33] *** Joins: rusti (rusti@moz-54F7FD49.cpe.net.cable.rogers.com)
[18:31:33] *** Quits: canhtak (jeremy@877D54DD.7A8E554D.FC900DAF.IP) (Ping timeout)
[18:32:47] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[18:38:14] *** Quits: Yurume (yurume@AC58A8CE.8A059B47.E313B915.IP) (Ping timeout)
[18:42:52] *** Quits: steveklabnik (steveklabn@moz-5EF6C37C.socal.res.rr.com) (Quit: bye for now)
[18:50:09] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Ping timeout)
[18:50:56] *** Joins: canhtak (jeremy@877D54DD.7A8E554D.FC900DAF.IP)
[18:52:02] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[18:53:47] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Ping timeout)
[18:54:09] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[18:56:07] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Ping timeout)
[19:30:15] *** Quits: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP) (Quit: Leaving.)
[19:32:32] *** Quits: FrozenCow (FrozenCow@moz-B2DF4929.chello.nl) (Client exited)
[19:37:05] *** Joins: tikue_ (tkuehn@moz-FEADCD38.hsd1.pa.comcast.net)
[19:41:50] *** Joins: steveklabnik (steveklabn@moz-5EF6C37C.socal.res.rr.com)
[19:43:46] *** Quits: dandy (Dandy@moz-84CC8377.hsd1.co.comcast.net) (Quit: Leaving)
[19:49:16] *** Joins: dandy (Dandy@moz-84CC8377.hsd1.co.comcast.net)
[19:50:30] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[19:58:12] *** Joins: maik (maik@moz-41A4E36A.dip0.t-ipconnect.de)
[20:01:01] *** Quits: maik (maik@moz-41A4E36A.dip0.t-ipconnect.de) (Ping timeout)
[20:02:17] *** Quits: sp3d (a@6361F3B1.19CD1E54.8354FB35.IP) (Ping timeout)
[20:02:38] *** Quits: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net) (Ping timeout)
[20:04:49] *** Quits: bytewise (bytewise@moz-4A801D04.unitymediagroup.de) (Quit: Leaving)
[20:09:41] *** jdm|f00d is now known as jdm
[20:41:19] *** Quits: canhtak (jeremy@877D54DD.7A8E554D.FC900DAF.IP) (Quit: canhtak)
[20:52:45] *** Joins: kvark (Mibbit@3CE6C4B2.8C19BC3D.26E1259.IP)
[20:52:51] <kvark> bjz: ping
[20:55:21] *** Joins: erickt1 (Adium@49C4075F.3AC15C18.2321E71E.IP)
[20:56:04] *** tikue_ is now known as tikue-
[21:05:36] <kvark> guys, does anyone work with openal-rs?
[21:06:57] *** Quits: squiddy (squiddy@moz-543CC057.adsl.alicedsl.de) (Ping timeout)
[21:07:05] *** Joins: pnkfelix (pnkfelix@moz-43495417.fbx.proxad.net)
[21:09:52] <dandy> bjz probably
[21:10:28] <kvark> I know, but he doesn't respond atm...
[21:10:35] <bjz> jeaye is going to I think
[21:10:50] <kvark> oh, you are here
[21:11:00] <bjz> sorry, just got back
[21:11:09] <bjz> (was sleeping)
[21:11:09] <kvark> I was wondering on how to provide fixes for it
[21:11:16] <kvark> well back then!
[21:11:30] <bjz> (bottom of the planet is me)
[21:11:37] <kvark> do I need to fix some kind of a generator first, or fix it dirrectly?
[21:12:03] <bjz> no, it is not generated
[21:12:21] <kvark> okey
[21:12:45] <bjz> btw, any suggestions on a wav file I could use for an example?
[21:13:05] * bjz was looking in archive.org
[21:14:08] <kvark> FYI, I've got wave loader here as well:
[21:14:09] <kvark> https://code.google.com/p/claymore-game/source/browse/engine/audio.rs
[21:14:40] *** Quits: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net) (Ping timeout)
[21:15:16] *** Joins: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net)
[21:17:56] <bjz> kvark: I'm wondering if I should just unwrap things again, keep things low level for openal
[21:18:15] <kvark> oh
[21:18:40] <kvark> actually, I'm using your OpenAL stuff on lowest level
[21:19:14] <kvark> these high-level Source and Buffer are not useful to me, since you decided to go the explicit new/delete way with all the cloning available
[21:19:35] <bjz> yep
[21:19:48] <kvark> in other words, the way you put them in doesn't work for everyone, so yes, I'd prefer having just the low level stuff, since that's what I'm using anyway
[21:19:57] <bjz> sure
[21:20:17] <bjz> thanks, I wanted to know that
[21:20:32] <kvark> yw
[21:20:55] <kvark> man I've got so much code... the weekend is almost over, and I've only finished the engine part... the game code is ahead
[21:21:32] <bjz> yeah, it's easier to update incremenmtally
[21:21:48] *** Joins: maik (maik@moz-41A4E36A.dip0.t-ipconnect.de)
[21:22:32] <dandy> what you working on kvark?
[21:23:03] <dandy> https://code.google.com/p/claymore-game/ ?
[21:23:04] <kvark> dandy: http://claymore-dev.blogspot.ca/
[21:23:07] <kvark> yeah
[21:23:08] <maik> bjz, ping
[21:23:15] <bjz> hoy
[21:23:52] <maik> bjz, seems like glfw needs some fixing for the current master, there are no @fn anymore
[21:24:13] <bjz> maik: haven't I updated?
[21:24:34] <bjz> where are the @fns?
[21:24:41] <maik> bjz, let me check
[21:25:51] <maik> bjz, oh hm yes you have updated it 
[21:26:06] <bjz> :)
[21:26:26] <maik> how do I update submodules with git? I thought with git submodule update?
[21:27:16] <steveklabnik> you cry.
[21:27:16] <steveklabnik> ;)
[21:27:29] <steveklabnik> kidding, sorry.
[21:30:05] <maik> ah with "git submodule foreach git pull origin master"
[21:30:33] <pnkfelix> At this point I use: `git submodule sync; git submodule update —init`
[21:30:45] <pnkfelix> but maybe your invocation is better ...
[21:31:32] <steveklabnik> There's More Than One Way To Git It
[21:32:08] <maik> yeah and I am always messing it up :D
[21:36:17] *** Joins: canhtak (jeremy@877D54DD.7A8E554D.FC900DAF.IP)
[21:38:58] <bjz> kvark: so what is wrong with my current bindings?
[21:39:10] <bjz> kvark: *wrapper?
[21:41:25] *** Quits: tikue- (tkuehn@moz-FEADCD38.hsd1.pa.comcast.net) (Quit: tikue-)
[21:41:43] <kvark> I'm fixing them now
[21:41:45] <bjz> kvark: I'm wondering if I should just factor out all the get_* things as opposed to using the enums
[21:41:47] <kvark> adding tons of mut stuff
[21:42:15] <bjz> ?
[21:42:35] <bjz> have you seen how the haskell wrapper does it? http://hackage.haskell.org/package/OpenAL
[21:42:58] <kvark> not really, might be interesting
[21:43:07] <kvark> have to finish this CL first
[21:43:47] <bjz> what do you mean by 'adding lots of mut stuff'
[21:44:10] <kvark> Get* stuff should accept *mut
[21:44:18] <kvark> alGen* stuff - as well
[21:44:32] <bjz> the wrapper fns?
[21:44:46] <bjz> I thought for the ffi fns I had *mut
[21:44:59] <kvark>  pub fn alGetListenerf(param: ALenum, value: *ALfloat);
[21:45:01] <kvark> should be
[21:45:03] <kvark>  pub fn alGetListenerf(param: ALenum, value: *mut ALfloat);
[21:46:04] <bjz> weird - must not have updated it
[21:46:27] <kvark> me? I'm pretty sure I'm not more than 1 day old
[21:46:43] <bjz> yeah, I must not have
[21:46:48] <bjz> not you
[21:46:50] <kvark> do you have it locally?
[21:46:54] <bjz> yep
[21:46:58] <kvark> doh
[21:47:06] <bjz> *facepalm*
[21:47:27] <kvark> I've also got rid of vec_to_ptr
[21:47:31] <kvark> don't like it
[21:48:25] <kvark> I suppose I should stop and wait for you to update...
[21:49:09] <bjz> yeah
[21:49:27] <bjz> I had got rid of it too
[21:49:37] <kvark> ok, cool
[21:49:43] <kvark> -20mins of my time
[21:50:52] <bjz> but then I stupidly overwrote it by accident
[21:51:00] <bjz> I'll update it though
[21:51:09] <kvark> wait, so you don't have it?
[21:51:12] <maik> btw is there an open source alternative to openal? with 3d sounds etc?
[21:51:21] <kvark> openal has 3d sounds...
[21:51:26] <bjz> maik: no, unfortunately
[21:51:26] <maik> i know
[21:51:29] <kvark> ah
[21:51:32] <kvark> dunno then
[21:51:33] <kvark> :)
[21:51:53] <bjz> maik: fmod is apparrently really good, but its proprietory
[21:52:00] <Amaranth> OpenAL Soft is open source, not sure what you mean
[21:52:02] <maik> bjz, most things are proprietary :(
[21:52:53] <maik> Amaranth, I meant if there is an alternative to openal that is also open source
[21:53:05] <bjz> Amaranth: I'm guessing maik isn't a fan of openal
[21:53:24] <kvark> I'd be curious to know what maik doesn't like about it
[21:53:26] <maik> bjz, no I am just researching 
[21:54:15] <Amaranth> There is an open source (2 clause BSD iirc) engine meant for iOS I was looking at that has its own implementation, dunno how good it is
[21:54:26] <maik> I have absolutely no knowledge about sounds in general
[21:54:39] <Amaranth> http://kearwood.com/content/kraken-custom-audio-engine-hrtf-and-reverb
[21:55:59] <maik> what do you think of https://www.youtube.com/watch?v=nKnhcsRTNME ?
[21:56:28] <Amaranth> I think you might be able to use that in 20 years
[21:56:46] <maik> what do you mean?
[21:57:15] <Amaranth> maik: Patents
[22:02:50] *** Joins: tikue_ (tkuehn@moz-FEADCD38.hsd1.pa.comcast.net)
[22:05:07] <kvark> bjz: let me know when you are done plz
[22:07:48] <bjz> sure
[22:08:21] *** Joins: sp3d (a@6361F3B1.19CD1E54.8354FB35.IP)
[22:10:04] <Amaranth> maik: The one I linked seems to still use OpenAL but considering what it does by itself that's probably just as an API to send a stream of audio out
[22:10:44] *** Quits: maik (maik@moz-41A4E36A.dip0.t-ipconnect.de) (Ping timeout)
[22:13:48] <bjz> kvark: done!
[22:14:16] <bjz> kvark: so you would prefer it if I got rid of Clone off the handles?
[22:14:29] <bjz> and called delete in the destructors?
[22:14:57] <kvark> bjz: definitely, that would allow me to use your structs instead of mine
[22:15:02] <bjz> cool
[22:15:28] <kvark> bjz: btw, gl-rs is really nice. Now feels as close to OpenTK as possible.
[22:15:35] <cmr> Wait what
[22:15:38] <cmr> What's OpenTK?
[22:15:44] <bjz> kvark: cheers!
[22:15:46] <bjz> :)
[22:16:21] <kvark> OpenTK is an OpenGL binding layer in .Net, used for a lot of stuff, including MonoGame
[22:16:35] *** Quits: tikue_ (tkuehn@moz-FEADCD38.hsd1.pa.comcast.net) (Quit: tikue_)
[22:16:40] <kvark> I used to work with it closely when doing stuff with Boo language
[22:16:44] <Amaranth> Actually it looks like Kraken's OpenAL replacement might be closed source
[22:16:56] <Amaranth> He calls it Siren and has references to that in the code but no code for it
[22:17:31] <kvark> he should *release the Kraken* opensource then ;)
[22:18:42] <tiffany> what's bad about openAL?
[22:20:10] <bjz> kvark: I think the issue I had with using the destructors is that buffers might not be deleted if they are currently in use by a source
[22:20:20] <kvark> bjz: and to rebuild openal I need to delete '.rust' first?
[22:20:24] <Amaranth> http://sourceforge.net/projects/clunk/ and https://github.com/stuffmatic/kowalski look interesting
[22:20:32] <bjz> kvark: yeah :(
[22:20:42] <bjz> kvark: issue with rustpkg
[22:21:03] <bjz> I normally do:  rm -rf .rust && rustpkg build openal
[22:21:28] <bjz> kvark: does that make sense re. Buffers? any other solutions?
[22:22:23] <bjz> Amaranth: nice!
[22:22:30] <kvark> bjz: why is it a problem for you? let the OpenAL keep it alive constantly, but it's fine to be dead from the programmers perspective
[22:22:55] <bjz> kvark: so just accept the memory leak?
[22:23:01] <kvark> leak?
[22:23:12] <kvark> what leak?
[22:23:14] <bjz> if the buffer is not cleaned up?
[22:24:06] <bjz> basically, if the Rust destructor is called on the openal buffer, it could fail if its in use by a source
[22:24:12] <kvark> I don't understand. We issue glDeleteBuffers and forget about it.
[22:24:17] <kvark> ah, the destructor fails?
[22:24:27] <bjz> if it is in use, openal doesn't delete the buffer
[22:24:29] <kvark> that seems to be incorrect from OpenAL perspective
[22:24:39] *** Quits: steveklabnik (steveklabn@moz-5EF6C37C.socal.res.rr.com) (Quit: uhhh tmux?)
[22:24:43] <kvark> wait
[22:24:45] <bjz> if you read the docs, that's what it says
[22:25:01] <kvark> yeah, same with OpenGL
[22:25:10] <kvark> it doesn't delete it *right away*
[22:25:24] <kvark> it deletes it later, at least that was my understanding
[22:25:45] <bjz> Amaranth: kowalski looks nice - shame it looks to be dead
[22:26:26] <Amaranth> bjz: That's wouldn't be too concerning if it worked
[22:26:37] <Amaranth> But it seems to have died halfway through a rewrite
[22:26:48] <bjz> yup
[22:26:51] *** Joins: steveklabnik (steveklabn@moz-5EF6C37C.socal.res.rr.com)
[22:27:02] <bjz> Amaranth: it would have been preferrable seeing as it was in C
[22:27:26] <bjz> Amaranth: somebody could write a Rust one! :D
[22:27:47] <bjz> kvark: looking at the docs
[22:28:50] <bjz> Amaranth: could use this as a base: https://github.com/JeremyLetang/rust-portaudio
[22:29:00] <bjz> Amaranth: but I know nothing of sound stuff
[22:29:17] <Amaranth> bjz: I'd be all rude and base it on sdl2 :P
[22:29:22] * bjz smells a rabbit hole of yaks
[22:29:32] <bjz> Amaranth: heh, np
[22:30:17] *** Quits: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net) (Ping timeout)
[22:30:19] <bjz> Amaranth: unfortunately I have a philosophical disagreement with god-frameworks
[22:30:23] <bjz> x)
[22:30:30] <cmr> god-frameworks?
[22:30:41] <Amaranth> Err, doesn't glfw do nearly everything sdl does?
[22:31:01] <bjz> Amaranth: only windowing/input
[22:31:16] <kvark> simple question: i've got objects a,b,and c of the same type. How do I iterate over them with mutation?
[22:31:31] <bjz> .mut_iter()
[22:31:31] <Amaranth> Well, right, so SDL started out as a cross platform 2D drawing API with the windowing and input handling to go with it
[22:31:33] <bjz> I think
[22:31:47] <Amaranth> At some point people wrote audio and networking libraries to go with it
[22:32:01] <cmr> and font rasterization and image loading and...
[22:32:17] <Amaranth> Sure but they're all addon libraries
[22:32:23] <bjz> rusti: let mut v = ~[1, 2, 3]; for i in v.iter_mut() { i +=1; } v
[22:32:24] -rusti- pastebinned 8 lines of output: http://sprunge.us/YQeR
[22:32:42] <cmr> sure
[22:32:48] <bjz> rusti: let mut v = ~[1, 2, 3]; for i in v.mut_iter() { i +=1; } v
[22:32:48] -rusti- <anon>:7:57: 7:62 error: binary operation + cannot be applied to type `&mut <VI2>`
[22:32:48] -rusti- <anon>:7          let mut v = ~[1, 2, 3]; for i in v.mut_iter() { i +=1; } v
[22:32:48] -rusti-                                                                   ^~~~~
[22:32:49] -rusti- error: aborting due to previous error
[22:32:50] -rusti- application terminated with error code 101
[22:32:56] <bjz> rusti: let mut v = ~[1, 2, 3]; for i in v.mut_iter() { *i +=1; } v
[22:32:57] <kvark> bjz: doh, totally missed that
[22:32:57] -rusti- ~[2, 3, 4]
[22:33:04] <bjz> kvark: thar ^
[22:33:06] <kvark> thanks
[22:33:11] <kvark> though
[22:33:25] <kvark> actually I didn't want to copy them
[22:33:36] <bjz> heh
[22:33:42] <kvark> so its [&mut a,&mut b, &mut c].mut_iter()
[22:34:09] <cmr> then you'll have a &mut &mut
[22:34:14] <bjz> no, (&mut [a, b, c]).mut_iter()
[22:34:31] <cmr> use move_iter if you're going to create a vec of refs
[22:34:33] <kvark> wouldn't [a,b,c] create a copy instantly
[22:34:39] <bjz> no
[22:34:42] <cmr> bjz: no?
[22:35:00] <cmr> pretty sure it'd construct a new [, ..3] and move the values into it
[22:35:15] <bjz> cmr: oh, no, (&mut ~[a, b, c]).mut_iter()	
[22:35:29] <bjz> cmr: isn't it?
[22:35:30] <kvark> and I don't want the move either
[22:35:36] <cmr> bjz: no?
[22:35:42] <kvark> bjz: ~[a,b,c] sounds totally wrong here...
[22:35:44] <bjz> :P
[22:35:53] <cmr> bjz: that'd be an iterator yielding &mut over a &mut ~[T]
[22:36:08] <bjz> I'm not saying that's how you'd call it
[22:36:17] <cmr> kvark: pretty sure you want [&mut a, &mut b, &mut c].move_iter
[22:36:17] *** Quits: CarpNet (Alasdair@moz-EF831A5E.cable.virginmedia.com) (Quit: Leaving)
[22:36:41] <bjz> cmr: move_iter consumes the vector
[22:36:46] <kvark> ah, why move_iter()?
[22:36:59] <kvark> ok
[22:37:02] <bjz> kvark: ok, what do you want?
[22:37:02] <kvark> cmr: agreed
[22:37:14] <cmr> kvark: so you're getting the original &mut T's, not a &mut &mut T
[22:37:22] <kvark> but somehow [&mut a,&mut b, &mut c].mut_iter() also worked for me
[22:37:50] <bjz> kvark: was it a mut vec you were iterating over?
[22:37:51] <cmr> autoderef to the rescue I imagine
[22:38:05] <bjz> kvark: mut_iter takes a &mut self
[22:38:28] <kvark> oh
[22:38:31] <bjz> kvark: which is what I was trying to express above
[22:38:40] <bjz> (but completely failed)
[22:38:52] <kvark> nevermind then. It has probably failed, but I'd see it only later on after another 1000 errors are fixed :)
[22:39:06] <kvark> so I'll use move_iter() now and see how far it gets me
[22:39:09] <bjz> &mut self on a vec of &mut Ts would work as well
[22:39:21] <bjz> kvark: look at the type signatures
[22:39:28] <bjz> that always helps
[22:39:33] <kvark> heh
[22:39:40] *** Quits: jdm (jdm@7F255D02.1B9223B5.AE2B2F80.IP) (Ping timeout)
[22:40:10] <bjz> http://static.rust-lang.org/doc/master/std/vec/trait.MutableVector.html#tymethod.mut_iter
[22:40:29] <bjz> seems it takes self for mut_iter
[22:40:35] <bjz> which makes sense
[22:40:49] <bjz> seeing as it's impled on a &'self mut [T]
[22:42:40] <bjz> kvark: not that move_iter is impled on a ~[T], with a bare self, so once it's moved into the iterator you can't retrieve it
[22:42:52] <bjz> *not
[22:42:54] <bjz> *note
[22:42:57] <bjz> -_-#
[22:43:48] <kvark> yeah, I'm calling it on a fixed-size one, which contains just &mut of other stuff, so moving it anywhere is OK
[22:44:13] <bjz> ok cool
[22:44:43] <kvark> thanks for help guys :)
[22:44:52] *** Joins: jxv (jxv@moz-8FB92450.lightspeed.irvnca.sbcglobal.net)
[22:44:56] <bjz> np!
[22:57:26] *** Quits: steveklabnik (steveklabn@moz-5EF6C37C.socal.res.rr.com) (Ping timeout)
[23:02:00] *** Quits: kvark (Mibbit@3CE6C4B2.8C19BC3D.26E1259.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[23:07:13] *** Quits: Ferreus (ferreus@moz-F0869777.dyn.telefonica.de) (Quit: WeeChat 0.4.1)
[23:09:10] *** Joins: steveklabnik (steveklabn@moz-5EF6C37C.socal.res.rr.com)
[23:25:17] *** Joins: tikue_ (tkuehn@1010CB72.CD72397.689607DE.IP)
[23:28:17] *** Quits: tikue_ (tkuehn@1010CB72.CD72397.689607DE.IP) (Quit: tikue_)
[23:32:18] *** Joins: jdm (jdm@7F255D02.1B9223B5.AE2B2F80.IP)
[23:33:32] *** Joins: Ferreus (ferreus@moz-F0869777.dyn.telefonica.de)
[23:46:14] *** Joins: jeaye (Jeaye@moz-34FEF2BB.hsd1.ca.comcast.net)
[23:50:44] *** Joins: jeaye_ (Jeaye@moz-34FEF2BB.hsd1.ca.comcast.net)
[23:50:53] *** Quits: jeaye (Jeaye@moz-34FEF2BB.hsd1.ca.comcast.net) (Ping timeout)
[23:51:38] *** jeaye_ is now known as jeaye
