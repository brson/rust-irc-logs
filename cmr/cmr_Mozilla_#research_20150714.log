[00:18:45] *** Joins: cimes (cimes@moz-sfmbhq.il.comcast.net)
[00:19:54] *** khuey is now known as khuey|away
[00:31:14] *** Quits: jdm (jdm@moz-ilbt2e.cable.teksavvy.com) (Quit: )
[00:36:15] *** Quits: azakai (alon@moz-440p0p.ujol.1ibb.0101.2620.IP) (Quit: Ex-Chat)
[00:54:58] *** Quits: laleh (Adium@moz-h8636h.mobile.uci.edu) (Quit: Leaving.)
[01:01:14] *** khuey|away is now known as khuey
[01:11:52] *** Joins: azakai|2 (alon@moz-l3ofdg.sntcca.sbcglobal.net)
[01:17:13] *** Quits: mchang (mchang@moz-q472sa.res.rr.com) (Client exited)
[01:37:17] *** Joins: laleh (Adium@moz-hgq383.reshsg.uci.edu)
[01:47:40] *** Quits: brson (brson@moz-cfhap5.mtv2.mozilla.com) (Connection closed)
[01:55:26] *** Quits: ehsan (ehsan@moz-qui.764.213.67.IP) (A TLS packet with unexpected length was received.)
[01:56:58] *** Joins: ehsan (ehsan@moz-qui.764.213.67.IP)
[02:24:21] *** Quits: ehsan (ehsan@moz-qui.764.213.67.IP) (Quit: vanished into thin air...)
[02:51:06] *** Joins: jweathersby (Adium@moz-tdlkum.ip.windstream.net)
[03:03:35] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[03:10:44] *** Joins: azakai|2_ (alon@moz-l3ofdg.sntcca.sbcglobal.net)
[03:10:47] *** Quits: azakai|2 (alon@moz-l3ofdg.sntcca.sbcglobal.net) (Connection closed)
[03:24:15] *** khuey is now known as khuey|away
[03:42:05] *** khuey|away is now known as khuey
[04:06:33] *** Joins: brson (brson@moz-1t0.c9m.56.172.IP)
[04:06:33] *** ChanServ sets mode: +o brson
[04:44:14] *** Joins: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net)
[04:44:14] *** ChanServ sets mode: +o pcwalton
[04:44:24] *** Quits: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net) (Client exited)
[04:54:12] *** Joins: ddamjano (Instantbird@moz-0pmadb.dynamic.surfer.at)
[05:00:14] *** Quits: ddamjano (Instantbird@moz-0pmadb.dynamic.surfer.at) (Ping timeout: 121 seconds)
[05:01:26] *** khuey is now known as khuey|away
[05:03:39] *** Quits: brson (brson@moz-1t0.c9m.56.172.IP) (Connection closed)
[05:06:09] *** Quits: jweathersby (Adium@moz-tdlkum.ip.windstream.net) (Quit: Leaving.)
[06:06:21] *** Quits: roc (chatzilla@moz-h8ll9b.dqqd.b0fh.0cb0.2001.IP) (Ping timeout: 121 seconds)
[06:06:29] *** Joins: jweathersby (Adium@moz-tdlkum.ip.windstream.net)
[06:10:31] *** Quits: jweathersby (Adium@moz-tdlkum.ip.windstream.net) (Ping timeout: 121 seconds)
[06:18:04] *** Joins: ddamjano (Instantbird@moz-0pmadb.dynamic.surfer.at)
[06:53:35] <dherman> holy moly, ES6 is pretty nice
[07:17:00] *** Joins: roc (chatzilla@moz-6ra.cvv.98.121.IP)
[07:24:46] *** Quits: ddamjano (Instantbird@moz-0pmadb.dynamic.surfer.at) (Ping timeout: 121 seconds)
[07:25:52] *** Joins: mbx (textual@moz-qglifo.dyn.forthnet.gr)
[07:57:43] *** Quits: mbx (textual@moz-qglifo.dyn.forthnet.gr) (Quit: My Mac has gone to sleep. ZZZzzz…)
[08:05:00] *** Joins: ddamjano (Instantbird@moz-mddkaj.static.inode.at)
[08:34:55] *** Joins: Dexter_ (Alessio@moz-gva73k.retail.telecomitalia.it)
[08:46:25] *** jandem-away is now known as jandem
[09:44:32] *** Joins: jweathersby (Adium@moz-tdlkum.ip.windstream.net)
[09:48:36] *** Quits: jweathersby (Adium@moz-tdlkum.ip.windstream.net) (Ping timeout: 121 seconds)
[10:31:15] *** Joins: bjz (bjz@moz-puppgq.tpgi.com.au)
[10:37:16] *** Joins: Dexter__ (Alessio@moz-gva73k.retail.telecomitalia.it)
[10:37:27] *** Quits: Dexter_ (Alessio@moz-gva73k.retail.telecomitalia.it) (Ping timeout: 121 seconds)
[10:39:15] *** Joins: Dexter_ (Alessio@moz-gva73k.retail.telecomitalia.it)
[10:42:08] *** Quits: Dexter__ (Alessio@moz-gva73k.retail.telecomitalia.it) (Ping timeout: 121 seconds)
[10:42:58] *** Dexter_ is now known as Dexter
[10:48:30] *** Joins: Dexter_ (Alessio@moz-gva73k.retail.telecomitalia.it)
[10:49:27] *** Quits: Dexter (Alessio@moz-gva73k.retail.telecomitalia.it) (Ping timeout: 121 seconds)
[10:53:26] *** Joins: Dexter__ (Alessio@moz-gva73k.retail.telecomitalia.it)
[10:53:45] *** Quits: Dexter_ (Alessio@moz-gva73k.retail.telecomitalia.it) (Ping timeout: 121 seconds)
[10:57:28] <Manishearth> Gankro: I'm not sure if this intentionally came with the rename, but TARPL seems to cover more than just unsafe code, unlike TURPL when I last saw it
[10:57:31] <Manishearth> +1
[11:00:00] *** Joins: Dexter_ (Alessio@moz-gva73k.retail.telecomitalia.it)
[11:01:50] *** Quits: Dexter__ (Alessio@moz-gva73k.retail.telecomitalia.it) (Ping timeout: 121 seconds)
[11:03:05] <Manishearth> Stuff like elision and all, which wasn't documented at all in the past but rather was in the hive-mind of #rust-internals
[11:09:19] *** Joins: mukilan (mukilan@moz-uaj.174.164.122.IP)
[11:18:43] *** Dexter_ is now known as Dexter
[11:20:32] *** Quits: ddamjano (Instantbird@moz-mddkaj.static.inode.at) (Ping timeout: 121 seconds)
[11:22:35] *** Quits: mukilan (mukilan@moz-uaj.174.164.122.IP) (A TLS packet with unexpected length was received.)
[11:32:03] *** Joins: wcosta (wander@moz-er7.5ve.255.191.IP)
[11:32:19] *** Joins: mukilan (mukilan@moz-uaj.174.164.122.IP)
[11:32:40] *** Quits: mukilan (mukilan@moz-uaj.174.164.122.IP) (A TLS packet with unexpected length was received.)
[12:00:26] *** Joins: ddamjano (Instantbird@moz-mddkaj.static.inode.at)
[12:14:00] *** Joins: mukilan (mukilan@moz-uaj.174.164.122.IP)
[12:24:12] <SimonSapin> Gankro: "The only way to possibly defend against thread-unsafety would be to not use threading at all." http://cglab.ca/~abeinges/blah/turpl/_book/safe-unsafe-meaning.html Should this mention the Global Interpreter Lock of some languages?
[12:25:34] <Manishearth> SimonSapin: no
[12:25:53] <Manishearth> GIL doesn't solve it
[12:26:13] <Manishearth> oh wait data races
[12:26:16] <Manishearth> GIL solves that
[12:26:31] <SimonSapin> the context is Why we have Sync and Send
[12:26:32] <Manishearth> race conditions, nope.
[12:26:33] <Manishearth> yeah
[12:28:14] <SimonSapin> how does Java deal with data races?
[12:29:14] <Manishearth> SimonSapin: ha
[12:29:15] <Manishearth> ha ha
[12:29:30] <Manishearth> I think it only deals with it if you mark things as volatile? not sure
[12:29:41] <SimonSapin> http://stackoverflow.com/a/1162596/1162888 says fine-grained locking
[12:30:25] <Manishearth> java has volatile for basically atomicking (or mutex-wrapping) a variable
[12:30:33] <Manishearth> and synchronized for mutex-wrapping a block of code
[12:30:34] <Manishearth> ish
[12:32:40] <Manishearth> SimonSapin: I *think* without volatile you can get a data race. I'm not sured
[12:32:44] <Manishearth> *sure
[12:36:03] <larsberg> SimonSapin: Manishearth: You should wait for aturon to come on; he spent a lot of time on java concurrency libraries (working with Doug Lea) and knows all the things
[13:04:19] *** Joins: jweathersby (Adium@moz-tdlkum.ip.windstream.net)
[13:05:47] *** Joins: jdm (jdm@moz-ilbt2e.cable.teksavvy.com)
[13:08:23] *** Quits: jweathersby (Adium@moz-tdlkum.ip.windstream.net) (Ping timeout: 121 seconds)
[13:17:02] *** Joins: Dexter_ (Alessio@moz-gva73k.retail.telecomitalia.it)
[13:17:26] *** Joins: Dexter__ (Alessio@moz-gva73k.retail.telecomitalia.it)
[13:17:39] *** Quits: Dexter (Alessio@moz-gva73k.retail.telecomitalia.it) (NickServ (RECOVER command used by Dexter__))
[13:17:39] *** Dexter__ is now known as Dexter
[13:21:04] *** Quits: Dexter_ (Alessio@moz-gva73k.retail.telecomitalia.it) (Ping timeout: 121 seconds)
[13:23:00] *** Joins: tadh (quassel@moz-iq6hhs.biz.rr.com)
[13:30:22] *** Quits: wcosta (wander@moz-er7.5ve.255.191.IP) (Quit: Leaving.)
[13:32:39] *** khuey|away is now known as khuey
[13:33:47] *** Joins: wcosta (wander@moz-er7.5ve.255.191.IP)
[13:33:51] *** Joins: jweathersby (Adium@moz-tdlkum.ip.windstream.net)
[13:35:17] *** Joins: Dexter_ (Alessio@moz-gva73k.retail.telecomitalia.it)
[13:35:50] *** Quits: Dexter (Alessio@moz-gva73k.retail.telecomitalia.it) (Ping timeout: 121 seconds)
[13:48:16] *** Joins: Dexter (Alessio@moz-gva73k.retail.telecomitalia.it)
[13:48:37] *** Quits: Dexter_ (Alessio@moz-gva73k.retail.telecomitalia.it) (Ping timeout: 121 seconds)
[13:50:40] *** Quits: cimes (cimes@moz-sfmbhq.il.comcast.net) (Quit: Leaving)
[13:54:27] *** Quits: ddamjano (Instantbird@moz-mddkaj.static.inode.at) (Ping timeout: 121 seconds)
[13:54:51] *** Quits: wcosta (wander@moz-er7.5ve.255.191.IP) (Quit: Leaving.)
[13:57:02] *** Joins: ddamjano (Instantbird@moz-mddkaj.static.inode.at)
[14:19:02] *** Joins: cimes (cimes@moz-lvg.16c.135.128.IP)
[14:34:32] *** terrence-pto is now known as terrence
[14:36:15] *** Quits: bjz (bjz@moz-puppgq.tpgi.com.au) (Quit: My Mac has gone to sleep. ZZZzzz…)
[14:43:22] *** Joins: bjz (bjz@moz-puppgq.tpgi.com.au)
[14:49:14] *** Joins: mukilan_ (mukilan@moz-mu4.o0o.164.122.IP)
[14:49:42] *** Quits: mukilan (mukilan@moz-uaj.174.164.122.IP) (Ping timeout: 121 seconds)
[14:51:37] *** Quits: mukilan_ (mukilan@moz-mu4.o0o.164.122.IP) (A TLS packet with unexpected length was received.)
[14:51:54] *** Joins: mukilan (mukilan@moz-mu4.o0o.164.122.IP)
[14:55:23] *** Joins: brson (brson@moz-cfhap5.mtv2.mozilla.com)
[14:55:23] *** ChanServ sets mode: +o brson
[14:59:21] *** Joins: mchang (mchang@moz-q472sa.res.rr.com)
[15:02:53] <brson> https://etherpad.mozilla.org/rust-prod-1
[15:05:36] *** Quits: ddamjano (Instantbird@moz-mddkaj.static.inode.at) (Ping timeout: 121 seconds)
[15:13:32] <Gankro> Manishearth: SimonSapin: Java prevents data races by guaranteeing a minimal level of atomicity, but it doesn't prevent entering Very Stupid States and crashing or anything.
[15:19:22] *** Joins: ehsan (ehsan@moz-i5m.05u.207.66.IP)
[15:26:40] *** Joins: till (till@moz-khrut1.dyn.telefonica.de)
[15:32:35] * jdm really enjoys reading things that aturon writes
[15:32:38] <jdm> good job keep it up
[15:38:26] *** Joins: ddamjano (Instantbird@moz-pjcecu.dynamic.surfer.at)
[15:48:03] *** Joins: Dexter_ (Alessio@moz-ien6f7.retail.telecomitalia.it)
[15:50:26] *** Quits: mukilan (mukilan@moz-mu4.o0o.164.122.IP) (A TLS packet with unexpected length was received.)
[15:50:49] *** Quits: Dexter (Alessio@moz-gva73k.retail.telecomitalia.it) (Ping timeout: 121 seconds)
[15:54:43] *** Joins: mukilan (mukilan@moz-mu4.o0o.164.122.IP)
[16:03:02] *** Quits: Dexter_ (Alessio@moz-ien6f7.retail.telecomitalia.it) (Ping timeout: 121 seconds)
[16:07:59] *** Joins: Dexter (Alessio@moz-ien6f7.retail.telecomitalia.it)
[16:15:59] *** Joins: gregglind (glind@moz-no0.93r.245.63.IP)
[16:19:00] *** khuey is now known as khuey|away
[16:31:13] *** Quits: laleh (Adium@moz-hgq383.reshsg.uci.edu) (Quit: Leaving.)
[16:36:10] *** Joins: mccr8 (mccr8@moz-cfhap5.mtv2.mozilla.com)
[16:41:17] *** Joins: pcwalton (pcwalton@moz-nh2.o1i.216.216.IP)
[16:41:17] *** ChanServ sets mode: +o pcwalton
[16:55:34] <aturon> jdm: aww shucks :D
[16:56:35] <aturon> SimonSapin: the thread at https://www.reddit.com/r/rust/comments/39csth/can_somebody_explain_what_this_means_rust_is_no/ may be of interest
[16:56:49] <aturon> in particular we discuss the difference in "thread safety" between Java and Rust
[17:02:21] *** Quits: Dexter (Alessio@moz-ien6f7.retail.telecomitalia.it) (Quit: Leaving)
[17:03:36] *** Joins: laleh (Adium@moz-h8636h.mobile.uci.edu)
[17:03:46] *** Quits: cimes (cimes@moz-lvg.16c.135.128.IP) (Ping timeout: 121 seconds)
[17:10:00] *** khuey|away is now known as khuey
[17:20:11] *** Joins: azakai (alon@moz-5sq26a.ujol.1ibb.0101.2620.IP)
[17:28:01] *** Joins: ScottMichaud__ (ScottMichau@moz-i4mljt.cpe.pppoe.ca)
[17:30:01] *** Joins: ScottMichaud (ScottMichau@moz-i4mljt.cpe.pppoe.ca)
[17:30:57] *** Quits: ScottMichaud_ (ScottMichau@moz-i4mljt.cpe.pppoe.ca) (Ping timeout: 121 seconds)
[17:31:02] *** Joins: cimes (cimes@moz-lvg.16c.135.128.IP)
[17:31:36] *** Quits: pcwalton (pcwalton@moz-nh2.o1i.216.216.IP) (Client exited)
[17:32:29] *** Quits: ScottMichaud__ (ScottMichau@moz-i4mljt.cpe.pppoe.ca) (Ping timeout: 121 seconds)
[17:37:23] *** Quits: ddamjano (Instantbird@moz-pjcecu.dynamic.surfer.at) (Ping timeout: 121 seconds)
[18:20:49] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[18:20:49] *** ChanServ sets mode: +o pcwalton
[18:37:34] *** Quits: jdm (jdm@moz-ilbt2e.cable.teksavvy.com) (Quit: )
[18:45:57] *** Joins: ddamjano (Instantbird@moz-pjcecu.dynamic.surfer.at)
[18:52:00] *** Quits: ddamjano (Instantbird@moz-pjcecu.dynamic.surfer.at) (Ping timeout: 121 seconds)
[19:02:48] *** Quits: ehsan (ehsan@moz-i5m.05u.207.66.IP) (A TLS packet with unexpected length was received.)
[19:05:47] *** Joins: ehsan (ehsan@moz-i5m.05u.207.66.IP)
[19:25:55] *** Quits: ehsan (ehsan@moz-i5m.05u.207.66.IP) (A TLS packet with unexpected length was received.)
[19:44:40] *** Joins: ehsan (ehsan@moz-0ccvu8.ckpj.s0pt.0450.2001.IP)
[19:48:05] *** Quits: ehsan (ehsan@moz-0ccvu8.ckpj.s0pt.0450.2001.IP) (A TLS packet with unexpected length was received.)
[19:48:25] *** Joins: ddamjano (Instantbird@moz-pjcecu.dynamic.surfer.at)
[19:48:31] *** Quits: mukilan (mukilan@moz-mu4.o0o.164.122.IP) (A TLS packet with unexpected length was received.)
[19:58:35] *** Quits: ddamjano (Instantbird@moz-pjcecu.dynamic.surfer.at) (Ping timeout: 121 seconds)
[20:05:42] *** Joins: ehsan (ehsan@moz-dtbg3k.ckpj.s0pt.0450.2001.IP)
[20:21:15] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[20:21:44] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[20:21:44] *** ChanServ sets mode: +o pcwalton
[20:22:58] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[20:23:14] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[20:23:14] *** ChanServ sets mode: +o pcwalton
[20:25:04] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[20:25:15] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[20:25:15] *** ChanServ sets mode: +o pcwalton
[20:31:39] *** Quits: till (till@moz-khrut1.dyn.telefonica.de) (A TLS packet with unexpected length was received.)
[20:32:01] *** Joins: till (till@moz-khrut1.dyn.telefonica.de)
[20:36:03] *** Quits: till (till@moz-khrut1.dyn.telefonica.de) (Ping timeout: 121 seconds)
[20:40:49] <larsberg> brson: our Samsung friends did some meme-related tweaking to the Rust logo for Servo, while we await delivery of an "official" one - http://i.imgur.com/157mlnN.png :-)
[20:42:26] <brson> larsberg: nice, i'm adding that to my archives
[20:42:38] <nrc> Such Rust, much Servo. Wow!
[20:44:35] <larsberg> nrc: I think I should tweet something similar to that over http://twitter.com/ServoDev in honor of the new logo.
[20:44:55] <nrc> r+
[20:46:07] <samth> larsberg: there was actually a doge bit on the delta safety video on a flight recently :)
[21:29:11] *** Joins: ddamjano (Instantbird@moz-pjcecu.dynamic.surfer.at)
[21:32:16] *** Joins: till (till@moz-khrut1.dyn.telefonica.de)
[21:34:31] *** Joins: jdm (jdm@moz-mu9.06r.98.75.IP)
[21:35:41] *** Quits: cimes (cimes@moz-lvg.16c.135.128.IP) (Quit: Leaving)
[21:36:47] *** Quits: till (till@moz-khrut1.dyn.telefonica.de) (Ping timeout: 121 seconds)
[21:39:09] *** Joins: till (till@moz-khrut1.dyn.telefonica.de)
[21:42:50] *** Quits: till (till@moz-khrut1.dyn.telefonica.de) (A TLS packet with unexpected length was received.)
[21:44:42] *** gregglind is now known as gregglind_away
[21:50:44] *** Joins: reqshark (reqshark@moz-942p6h.static.wiline.com)
[22:03:30] *** Joins: cimes (cimes@moz-sfmbhq.il.comcast.net)
[22:09:57] *** Quits: tadh (quassel@moz-iq6hhs.biz.rr.com) (Connection closed)
[22:20:02] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[22:20:35] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[22:20:35] *** ChanServ sets mode: +o pcwalton
[22:22:32] *** Quits: ddamjano (Instantbird@moz-pjcecu.dynamic.surfer.at) (Ping timeout: 121 seconds)
[22:26:20] *** Joins: ScottMichaud_ (ScottMichau@moz-i4mljt.cpe.pppoe.ca)
[22:26:37] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Ping timeout: 121 seconds)
[22:29:38] *** Quits: ScottMichaud (ScottMichau@moz-i4mljt.cpe.pppoe.ca) (Ping timeout: 121 seconds)
[22:30:22] *** Quits: ScottMichaud_ (ScottMichau@moz-i4mljt.cpe.pppoe.ca) (Ping timeout: 121 seconds)
[22:30:52] *** Joins: ScottMichaud_ (ScottMichau@moz-i4mljt.cpe.pppoe.ca)
[22:43:28] *** Joins: till (till@moz-khrut1.dyn.telefonica.de)
[22:47:51] *** Quits: till (till@moz-khrut1.dyn.telefonica.de) (Ping timeout: 121 seconds)
[22:58:29] <khuey> roc: is there a reason rr replays stdout but not stderr?
[22:59:00] <roc> it's supposed to replay stderr.
[22:59:07] <roc> maybe there's a bug.
[22:59:11] <khuey> hmm
[22:59:23] <khuey> or maybe something is just wrong with my stuff
[22:59:31] * khuey will poke
[22:59:37] <roc> FdTable maintains a mapping of fd numbers to StdioMonitors
[22:59:50] <khuey> I recorded and replayed ./mach mochitest blah but there's no terminal output
[22:59:52] <roc> possibly that's getting confused
[22:59:54] <khuey> yeah
[22:59:57] <khuey> I'll look
[23:01:22] <roc> another possibility is that the writes you want to see got handled by syscall buffering
[23:01:53] *** Quits: ehsan (ehsan@moz-dtbg3k.ckpj.s0pt.0450.2001.IP) (A TLS packet with unexpected length was received.)
[23:01:54] <roc> the syscall buffering code has an array of per-fd flags to disable syscall buffering for fds we care about
[23:02:03] <roc> but there could be bugs where that gets out of sync
[23:07:55] <aturon> jdm: btw, you and i should talk soon about the rest of the inheritance story
[23:08:20] <jdm> be still my heart
[23:11:17] <aturon> jdm: lol :) does thursday or friday morning this week work for you?
[23:11:34] <jdm> aturon: yep, either should be fine
[23:11:43] <aturon> ok great, i'll get an invite out!
[23:12:06] <khuey> so will/did_write never get called
[23:13:32] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[23:13:32] *** ChanServ sets mode: +o pcwalton
[23:18:37] *** Quits: jdm (jdm@moz-mu9.06r.98.75.IP) (Quit: )
[23:35:22] *** Quits: jweathersby (Adium@moz-tdlkum.ip.windstream.net) (Quit: Leaving.)
[23:35:39] <khuey> roc: how come did_dup doesn't copy the FileMonitor?
[23:36:27] <roc> because it creates a reference to the same underlying file object
[23:37:02] <roc> per dup(2) man page, "They refer to  the  same  open  file  description  (see  open(2))  and  thus share file offset and file status flags"
[23:37:45] <khuey> right, so shouldn't StdioMonitor want to see both the original and the dup?
[23:37:46] <roc> For the FileMonitors we have now, it doesn't matter, since they don't really have state
[23:38:25] <roc> yes. fds[to] and fds[from] will each have a reference to the same StdioMonitor and it should get did_write callbacks for writes to both fds
[23:38:57] <roc> when we add support for X11 socket monitoring we'll have some kind of XSocketMonitor which will have state
[23:39:07] <khuey> oh, I see
[23:39:13] <roc> hmm
[23:39:29] <roc> one case we don't handle right now is smuggling an fd through a socket via CMSG
[23:40:28] <roc> so I guess it's possible for some harness code to use that and the StdioMonitor won't follow
[23:40:41] <roc> there are probably other cases I haven't thought of
[23:48:10] *** Joins: ehsan (ehsan@moz-qui.764.213.67.IP)
[23:49:02] <khuey> roc: hmm, it looks like the first thing this recording does is close stdio
[23:50:08] * khuey grumbles about the shell being weird
[23:53:11] <khuey> at least I have a minimal testcase now
[23:53:18] * khuey fiddles
[23:56:02] *** Quits: bjz (bjz@moz-puppgq.tpgi.com.au) (Quit: My Mac has gone to sleep. ZZZzzz…)
[23:57:00] *** Joins: bjz (bjz@moz-puppgq.tpgi.com.au)
[23:57:35] <khuey> aha
[23:57:49] <roc> I gotta run
[23:58:18] *** Quits: mccr8 (mccr8@moz-cfhap5.mtv2.mozilla.com) (Quit: quit)
[23:58:22] <khuey> we're not handling fcntl F_DUPFD correctly
[23:58:23] <khuey> easy fix
[23:58:29] * khuey will send a PR
[23:59:14] <roc> please add test :-)
