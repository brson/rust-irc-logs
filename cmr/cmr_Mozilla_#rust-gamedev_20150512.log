[00:01:11] *** Quits: Gabriel_7 (Gabriel@moz-2utsta.mtgr.92aj.0e35.2a01.IP) (Quit: Quitte)
[00:03:01] *** Quits: Rym (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[00:04:25] *** Quits: zeiris (zeiris@moz-8jbmam.letter.agency) (Ping timeout: 121 seconds)
[00:04:28] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Ping timeout: 121 seconds)
[00:06:38] *** Joins: zeiris (zeiris@moz-8jbmam.letter.agency)
[00:11:11] *** Quits: kkimdev (kkimdev@moz-54q.uh9.135.104.IP) (Ping timeout: 121 seconds)
[00:18:23] *** Joins: kkimdev (kkimdev@moz-dj5rvn.59gh.vk5s.0000.2620.IP)
[00:28:27] *** Quits: brson (brson@moz-cfhap5.mtv2.mozilla.com) (Quit: leaving)
[00:30:04] *** Joins: Rym (y@moz-o80acm.range86-189.btcentralplus.com)
[00:34:09] *** Quits: zeiris (zeiris@moz-8jbmam.letter.agency) (Ping timeout: 121 seconds)
[00:34:27] *** Quits: Rym (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[00:36:02] *** Joins: zeiris (zeiris@moz-8jbmam.letter.agency)
[00:39:58] <kmcguire> cmr, about to have to drop into rust land from java
[00:40:35] *** Joins: davebettin (davebettin@moz-ip635p.or.comcast.net)
[00:40:48] <kmcguire> i cant get java to draw but about 40,000 at most
[00:49:24] *** Quits: zeiris (zeiris@moz-8jbmam.letter.agency) (Ping timeout: 121 seconds)
[00:49:41] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[00:50:18] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[00:50:29] *** Joins: kvark (Mibbit@moz-8egann.cpe.pppoe.ca)
[00:55:27] *** Joins: zeiris (zeiris@moz-8jbmam.letter.agency)
[00:58:50] *** Joins: csherratt (textual@moz-357qdq.cable.teksavvy.com)
[01:00:27] <csherratt> kvark so you want to move to coroutines/fibers?
[01:04:22] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[01:04:46] *** Quits: zeiris (zeiris@moz-8jbmam.letter.agency) (Ping timeout: 121 seconds)
[01:05:58] *** Joins: zeiris (zeiris@moz-8jbmam.letter.agency)
[01:09:00] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[01:12:03] *** Joins: nstoddard_ (nstoddard@moz-ce50ao.dhcp.embarqhsd.net)
[01:12:17] *** Quits: nstoddard (nstoddard@moz-ce50ao.dhcp.embarqhsd.net) (Connection closed)
[01:12:27] *** nstoddard_ is now known as nstoddard
[01:16:42] *** Quits: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu) (Quit: Leaving)
[01:19:24] *** Quits: zeiris (zeiris@moz-8jbmam.letter.agency) (Ping timeout: 121 seconds)
[01:20:05] *** Joins: zeiris (zeiris@moz-8jbmam.letter.agency)
[01:20:10] <kvark> csherratt: yes
[01:22:32] <csherratt> my only worry is this https://github.com/rustcc/coroutine-rs/issues/31
[01:23:24] *** Joins: fkaa (tundmatu@moz-501od2.business.telia.com)
[01:25:08] <kvark> csherratt: that's a very nice find!
[01:27:20] <ytain> there's also http://www.boost.org/doc/libs/1_58_0/libs/coroutine/doc/html/index.html and https://github.com/olk/boost-fiber
[01:30:22] <csherratt> kvark: otherwise I have already tried to add plugin await to coroutine-rs in my branch.
[01:30:44] <csherratt> It won't be hard to add to fibe-rs
[01:32:21] *** Quits: zeiris (zeiris@moz-8jbmam.letter.agency) (Ping timeout: 121 seconds)
[01:33:01] *** Joins: zeiris (zeiris@moz-8jbmam.letter.agency)
[01:33:48] *** Joins: Rym (y@moz-o80acm.range86-189.btcentralplus.com)
[01:35:42] *** Quits: kmcguire (kmcguire@moz-bbqf14.res.bhn.net) (Ping timeout: 121 seconds)
[01:35:58] *** Joins: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net)
[01:37:41] *** Quits: zeiris (zeiris@moz-8jbmam.letter.agency) (Ping timeout: 121 seconds)
[01:38:20] *** Joins: zeiris (zeiris@moz-8jbmam.letter.agency)
[01:42:15] *** Joins: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu)
[01:44:24] <kvark> csherratt: huh, you are way ahead of me in this direction then
[01:44:54] <kvark> I'd like to get the generic associated types to make it beautiful
[01:45:33] *** Quits: dmac (dmac@moz-4kcd1c.ca.comcast.net) (Ping timeout: 121 seconds)
[01:47:08] <csherratt> let (a, b, c) = (future_a, future_b, future_c).get() ?
[01:50:56] <kvark> csherratt: I don't think multiple wait even needs to be a feature
[01:51:13] <kvark> csherratt: AFAIK, it all comes down to a single wait
[01:51:36] <kvark> waiting for A, B, then C is not supposed to be slower than having a barrier waiting for (A, B, C)
[01:52:23] <kvark> hmm, now that I think of it, waiting for A, then B, then C, would involve several (potentially not needed) context switches
[01:52:40] *** Joins: lurk_ (chatzilla@moz-qm19cj.in.comcast.net)
[01:53:08] <csherratt> It's an optimization, which can be done later.
[01:54:03] <csherratt> The case that I really wanted that for was a deferred function call. That only calls once all the futures are ready.
[01:55:30] <kvark> csherratt: isn't it achieved already with await/
[01:55:40] <kvark> you call fun1, you wait, you call fun2
[01:56:48] <csherratt> Fibers would make that easy.
[01:59:08] *** Quits: lurk_ (chatzilla@moz-qm19cj.in.comcast.net) (Quit: ChatZilla 0.9.91-rdmsoft [XULRunner 32.0.3/20140923175406])
[02:04:30] <cmr> Anyone know if jakerr is sometimes in IRC?
[02:07:11] *** Quits: qrlpx_ (smuxi@moz-n7t.3nb.211.95.IP) (Ping timeout: 121 seconds)
[02:07:59] *** Joins: w4ffles (textual@moz-34v1r4.res.rr.com)
[02:11:50] *** Joins: dmac (dmac@moz-2ig65r.ca.comcast.net)
[02:14:24] *** Quits: zz_kimundi (kimundi@moz-krnn6s.dip0.t-ipconnect.de) (Ping timeout: 121 seconds)
[02:15:15] *** Joins: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com)
[02:15:43] *** Quits: Rym (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[02:16:04] *** Joins: zz_kimundi (kimundi@moz-ocelec.dip0.t-ipconnect.de)
[02:16:05] *** zz_kimundi is now known as kimundi
[02:16:41] *** Quits: Guest44 (textual@moz-to0.eos.163.209.IP) (Ping timeout: 121 seconds)
[02:28:34] *** Joins: demilux (demilux@moz-73qa6c.wa.comcast.net)
[02:30:20] *** Quits: kkimdev (kkimdev@moz-dj5rvn.59gh.vk5s.0000.2620.IP) (Ping timeout: 121 seconds)
[02:35:41] *** Quits: w4ffles (textual@moz-34v1r4.res.rr.com) (Quit: My Mac has gone to sleep. ZZZzzz…)
[02:40:18] *** Quits: zeiris (zeiris@moz-8jbmam.letter.agency) (Ping timeout: 121 seconds)
[02:40:25] *** Joins: zeiris (zeiris@moz-8jbmam.letter.agency)
[02:40:42] *** Quits: ytain (ytain@moz-01dgko.cpe.pppoe.ca) (Quit: Textual IRC Client: www.textualapp.com)
[02:43:18] <csherratt> I love when people write things like this "While recycling might sound great just because of civic duty, the real purpose is that these recyclers are able to return the owned memory to you, using a pattern not unlike standard allocation."
[02:44:34] *** Quits: zeiris (zeiris@moz-8jbmam.letter.agency) (Ping timeout: 121 seconds)
[02:46:47] *** Joins: summerlight (summerlight@moz-99k.2mj.130.121.IP)
[02:47:34] *** Joins: w4ffles (textual@moz-34v1r4.res.rr.com)
[02:49:10] *** Quits: bdero (bran@moz-216hqv.oo5r.e4su.0006.2601.IP) (Ping timeout: 121 seconds)
[02:50:15] *** Quits: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net) (Client exited)
[02:51:33] *** Joins: zeiris (zeiris@moz-8jbmam.letter.agency)
[02:55:40] *** Quits: zeiris (zeiris@moz-8jbmam.letter.agency) (Ping timeout: 121 seconds)
[02:56:52] *** Joins: zeiris (zeiris@moz-8jbmam.letter.agency)
[02:58:03] *** Joins: kkimdev (kkimdev@moz-q8ps02.6cjs.vk5s.0000.2620.IP)
[03:09:27] *** Joins: p1start (p1start@moz-nftjhe.org)
[03:12:54] *** Quits: w4ffles (textual@moz-34v1r4.res.rr.com) (Quit: My Mac has gone to sleep. ZZZzzz…)
[03:13:19] *** Joins: w4ffles (textual@moz-34v1r4.res.rr.com)
[03:20:24] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[03:23:48] *** Quits: kkimdev (kkimdev@moz-q8ps02.6cjs.vk5s.0000.2620.IP) (Ping timeout: 121 seconds)
[03:24:06] *** Quits: erz (erz@moz-n26c5c.broadband.corbina.ru) (Quit: My Mac has gone to sleep. ZZZzzz…)
[03:25:22] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[03:28:42] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[03:34:13] *** Quits: Wild_Cat (Max@moz-fa8mvt.dsl.teksavvy.com) (Ping timeout: 121 seconds)
[03:35:42] *** Quits: zeiris (zeiris@moz-8jbmam.letter.agency) (Ping timeout: 121 seconds)
[03:35:49] *** Joins: zeiris (zeiris@moz-8jbmam.letter.agency)
[03:37:32] *** Quits: csherratt (textual@moz-357qdq.cable.teksavvy.com) (Ping timeout: 121 seconds)
[03:39:52] *** Quits: kvark (Mibbit@moz-8egann.cpe.pppoe.ca) (Quit: http://www.mibbit.com ajax IRC Client)
[03:41:09] *** Joins: JFlash (textual@moz-eimsel.fios.verizon.net)
[03:42:46] *** Joins: csherratt (textual@moz-357qdq.cable.teksavvy.com)
[03:44:04] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[03:46:03] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[03:46:59] *** Joins: davebettin_ (davebettin@moz-ip635p.or.comcast.net)
[03:47:09] *** Quits: csherratt (textual@moz-357qdq.cable.teksavvy.com) (Quit: My Mac has gone to sleep. ZZZzzz…)
[03:47:28] *** Quits: orangeshark (erik@moz-2b7bqd.44tj.56ot.0306.2602.IP) (Quit: Leaving)
[03:49:41] *** Quits: davebettin (davebettin@moz-ip635p.or.comcast.net) (Ping timeout: 121 seconds)
[03:49:43] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[03:56:11] *** Joins: csherratt (textual@moz-357qdq.cable.teksavvy.com)
[03:58:26] *** Quits: zeiris (zeiris@moz-8jbmam.letter.agency) (Connection closed)
[04:01:49] *** Quits: JFlash (textual@moz-eimsel.fios.verizon.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[04:02:22] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[04:05:37] *** Quits: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com) (Connection closed)
[04:05:54] *** Joins: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com)
[04:06:45] *** Quits: csherratt (textual@moz-357qdq.cable.teksavvy.com) (Quit: My Mac has gone to sleep. ZZZzzz…)
[04:07:40] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[04:11:23] *** Joins: zyphrus (David@moz-1a4.urk.98.101.IP)
[04:15:39] *** Joins: fkaa_ (tundmatu@moz-501od2.business.telia.com)
[04:18:08] *** Quits: fkaa (tundmatu@moz-501od2.business.telia.com) (Ping timeout: 121 seconds)
[04:28:51] * eddyb_ ponders about replicating this in Rust http://www.oberhofer.co/how-barcode-localization-works-in-quaggajs/
[04:29:57] <eddyb_> mmm the smell of fresh paper http://www.icics.org/2005/download/P0840.pdf
[04:32:25] <eddyb_> grrr I need to find out which chrome flag I enabled that makes PDFs have thin text
[04:32:51] <eddyb_> "Enable the new material UI in the PDF Viewer" oh, cool
[04:33:26] <eddyb_> "If enabled, text is rendered with signed distance fields rather than bitmap alpha masks. #distance-field-text"
[04:33:29] <eddyb_> welp
[04:33:35] <eddyb_> let's see what this does
[04:33:41] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[04:34:49] *** Quits: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[04:37:51] *** Joins: SHC (quassel@moz-p7a.c8h.241.117.IP)
[04:45:13] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[04:49:26] *** Joins: dmac_ (dmac@moz-2ig65r.ca.comcast.net)
[04:51:19] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Quit: It's a joke, it's all a joke.)
[04:52:51] *** Joins: ytain (ytain@moz-01dgko.cpe.pppoe.ca)
[04:58:24] *** Quits: dmac_ (dmac@moz-2ig65r.ca.comcast.net) (Ping timeout: 121 seconds)
[05:01:52] *** Joins: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com)
[05:04:21] *** Quits: w4ffles (textual@moz-34v1r4.res.rr.com) (Quit: My Mac has gone to sleep. ZZZzzz…)
[05:06:22] *** Quits: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[05:07:31] *** Quits: genbattle (genbattle@moz-4v0.gkd.16.182.IP) (Ping timeout: 121 seconds)
[05:07:40] *** Quits: Feyn (Feyn@moz-r04.5ro.115.42.IP) (Ping timeout: 121 seconds)
[05:07:56] *** Joins: Feyn (Feyn@moz-r04.5ro.115.42.IP)
[05:10:06] *** Quits: niconii (nicole@moz-5gqgia.frgo.qwest.net) (Quit: p)
[05:17:21] *** Quits: skitoo (Thunderbird@moz-urd0va.fbx.proxad.net) (Ping timeout: 121 seconds)
[05:19:04] *** Joins: indefini (indefini@moz-4p4v25.ucom.ne.jp)
[05:27:16] *** Quits: O01eg (o01eg@moz-cn8.4u9.194.109.IP) (Client exited)
[05:31:56] *** Joins: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net)
[05:32:01] *** Quits: pcwalton (pcwalton@moz-6kjabm.ca.comcast.net) (Client exited)
[05:34:30] *** Joins: kkimdev (kkimdev@moz-q8ps02.6cjs.vk5s.0000.2620.IP)
[05:40:21] *** Quits: demilux (demilux@moz-73qa6c.wa.comcast.net) (A TLS packet with unexpected length was received.)
[05:40:22] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[05:48:23] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[05:50:47] *** Quits: KdotJPG (KdotJPG@moz-6ric4h.rlghnc.sbcglobal.net) (Ping timeout: 121 seconds)
[05:52:12] *** Joins: KdotJPG (KdotJPG@moz-3nhcoo.801f.5ehq.0306.2602.IP)
[05:56:01] *** Joins: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com)
[05:56:34] *** Quits: ytain (ytain@moz-01dgko.cpe.pppoe.ca) (Quit: Textual IRC Client: www.textualapp.com)
[05:58:34] *** Joins: SneakySnake (nya@moz-i9is4u.pool.telekom.hu)
[06:00:31] *** Quits: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[06:06:00] *** Joins: James (quassel@moz-225vcm.range86-148.btcentralplus.com)
[06:06:21] *** Quits: Gamecubic (cubic@moz-bglmk5.mc.videotron.ca) (Quit: Leaving)
[06:08:16] *** Joins: jaen (jaen@moz-ifmik2.copit.pl)
[06:10:40] *** Quits: eddyb_ (eddyb@moz-egg.q07.26.188.IP) (Ping timeout: 121 seconds)
[06:14:48] *** Quits: Twinklebear (Twinklebear@moz-ttrcn3.ut.comcast.net) (Quit: Leaving)
[06:21:52] *** Quits: AngelOfSol (AngelOfSol@moz-dj58kc.rh.rit.edu) (Connection closed)
[06:37:44] *** Joins: squiddy (squiddy@moz-md4.pm3.19.178.IP)
[06:40:22] *** Joins: debuuu (debu@moz-thlvnr.dyn.telefonica.de)
[06:40:58] *** Joins: demilux (demilux@moz-73qa6c.wa.comcast.net)
[06:41:24] *** Quits: davebettin_ (davebettin@moz-ip635p.or.comcast.net) (Ping timeout: 121 seconds)
[06:43:40] *** Quits: kkimdev (kkimdev@moz-q8ps02.6cjs.vk5s.0000.2620.IP) (Ping timeout: 121 seconds)
[06:45:00] *** Quits: demilux (demilux@moz-73qa6c.wa.comcast.net) (Ping timeout: 121 seconds)
[06:45:56] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Client exited)
[06:45:57] *** Joins: e_svedang (e_svedang@moz-p1r4ve.bredband.comhem.se)
[06:49:32] *** Quits: James (quassel@moz-225vcm.range86-148.btcentralplus.com) (Ping timeout: 121 seconds)
[06:50:12] *** Joins: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com)
[06:53:53] *** Joins: csherratt (colin@moz-357qdq.cable.teksavvy.com)
[06:54:42] *** Quits: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[06:55:32] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[06:56:45] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[06:56:46] *** Quits: SHC (quassel@moz-p7a.c8h.241.117.IP) (Ping timeout: 121 seconds)
[06:57:07] *** Joins: SHC (quassel@moz-fbh.qrj.93.59.IP)
[06:57:39] *** Joins: Codenator (Mibbit@moz-i23.v94.198.81.IP)
[06:59:01] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[07:00:01] *** Quits: KdotJPG (KdotJPG@moz-3nhcoo.801f.5ehq.0306.2602.IP) (Ping timeout: 121 seconds)
[07:00:07] *** Quits: e_svedang (e_svedang@moz-p1r4ve.bredband.comhem.se) (Client exited)
[07:00:20] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[07:01:46] *** Joins: Tobba (Tobba@moz-6oh.7ki.21.217.IP)
[07:02:43] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[07:03:41] *** Joins: twipeD (wipeD@moz-mesdod.dip0.t-ipconnect.de)
[07:08:20] *** Quits: squiddy (squiddy@moz-md4.pm3.19.178.IP) (Connection closed)
[07:16:03] *** Joins: squiddy (squiddy@moz-md4.pm3.19.178.IP)
[07:16:51] *** Joins: kkimdev (kkimdev@moz-jq0.6h8.135.104.IP)
[07:19:25] *** Quits: Tobba (Tobba@moz-6oh.7ki.21.217.IP) (Connection closed)
[07:20:16] *** Joins: IanCormac84 (Nathan@moz-p3n.mia.214.206.IP)
[07:23:20] *** Joins: eddyb (Mibbit@moz-gua2rr.lbi.ro)
[07:24:08] <eddyb> https://github.com/rust-lang/rust/pull/25323 reduces the memory usage of cargo run --release ../rust-by-example/examples/**.rs from over 2GB to under 500MB
[07:26:33] *** Joins: Tobba (Tobba@moz-6oh.7ki.21.217.IP)
[07:27:03] <eddyb> Tobba: you have some of the worst timings :P
[07:27:05] <eddyb> https://github.com/rust-lang/rust/pull/25323 reduces the memory usage of cargo run --release ../rust-by-example/examples/**.rs from over 2GB to under 500MB
[07:27:16] *** Parts: Codenator (Mibbit@moz-i23.v94.198.81.IP) ()
[07:27:31] <Tobba> eddyb: fuck yeah
[07:27:33] <eddyb> I'm looking at the 1.2MB peak and it's so much nicer at that level
[07:28:05] <eddyb> Tobba: it also starts in only a couple seconds
[07:28:16] <eddyb> Tobba: after having type-checked 120 crates
[07:28:22] <Tobba> brilliant
[07:28:36] <eddyb> making it work for rustc is a different challenge entirely
[07:29:28] <Tobba> still
[07:29:57] <eddyb> Tobba: technically, I don't need full type-checking, just type collection and maybe coherence, but the sub-passes are not publicly exposed
[07:30:47] <Tobba> fun, but sane(r) compile times for 1.0 is a huge win
[07:30:54] <csherratt> 18.3 -> 0.61 seconds?
[07:32:16] <eddyb> csherratt: yes
[07:32:40] <eddyb> Tobba: you'd have to bug someone to backport it to 1.0 *and* make sure it's sane
[07:32:51] <eddyb> it bootstraps at least
[07:32:54] <Tobba> oh, right :/
[07:32:59] <eddyb> and I just compiling all the piston crates with it
[07:32:59] <Tobba> still, I only use nightly, so
[07:33:02] <eddyb> *compiled
[07:34:07] <eddyb> huon, Yurume: the metadata-related thing I was talking about, minor compile-time win, may want to take a look at it https://github.com/rust-lang/rust/pull/25323
[07:35:28] *** Quits: kkimdev (kkimdev@moz-jq0.6h8.135.104.IP) (Quit: Leaving)
[07:37:43] <csherratt> So, I came up with a neat design for how to bind components to entities. https://gist.github.com/csherratt/91cdc7850826f83d80f3
[07:38:40] <huon> eddyb: woah, nice patch
[07:38:47] <huon> eddyb: I assume it passes `make check`?
[07:39:13] <eddyb> huon: I... I guess I can run that now since I just finished rustc-stage3
[07:39:21] <eddyb> so I should have all the libraries it may possibly want
[07:40:38] <eddyb> huon: if it doesn't drain my battery, I'll let you know when it finishes (I've gotten out of my rustc contribution habits :P)
[07:41:08] <huon> eddyb: oh, if you're on battery power probably better to not run it now
[07:44:20] *** Joins: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com)
[07:44:41] <eddyb> so I think cargo does detect if I plug in my custom rustc, but nesting shell instances with each one adding a rustc library path in LD_LIBRARY_PATH... it can break. well, it broke because I had used stage1 by accident, but fixing config.fish didn't work because of the nesting
[07:45:00] <eddyb> huon: can I configure multirust to install symlinks (which I assume it does?) in a specific directory?
[07:45:17] <eddyb> I've been using ~/.local/rust-nightly with rustup for a while now
[07:45:26] *** Quits: debuuu (debu@moz-thlvnr.dyn.telefonica.de) (Ping timeout: 121 seconds)
[07:45:53] <eddyb> I would probably have to make multirust detect NixOS and do a proper fancy setup. not sure if such contributions would be welcome or if I have to time to fiddle with it
[07:47:30] *** Quits: csherratt (colin@moz-357qdq.cable.teksavvy.com) (Quit: Konversation terminated!)
[07:47:35] <eddyb> tomaka: oh and the new dynamic loading X libs thing... it's not support "by default" on NixOS, while libGL.so is in /run/opengl-driver/lib which is always a part of $LD_LIBRARY_PATH
[07:48:36] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[07:48:50] *** Quits: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[07:48:51] <eddyb> tomaka: I need to make a smarter default.nix - I depend on the X libs and you can link against them, but they are not added to LD_LIBRARY_PATH. this might be an usecase overlooked by the nix people
[07:49:37] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[07:49:37] <tomaka> huh
[07:49:46] <eddyb> not your fault, just noting some peculiarities
[07:50:11] <eddyb> (I solved it by adding ~/.nix-profile/lib to LD_LIBRARY_PATH and installing the right libs in my user profile - something you're not supposed to do, fwiw)
[07:50:19] <tomaka> how is any Xlib-using program supposed to work if you don't have the libs in LD_LIBRARy_PATH?
[07:50:34] <eddyb> tomaka: linking
[07:50:43] <tomaka> static linking?
[07:50:51] <eddyb>         libX11-xcb.so.1 => /nix/store/jgqyzammhz5rs720s7ixhl3gwic2isa1-libX11-1.6.2/lib/libX11-xcb.so.1 (0x00007f7acc31f000)
[07:51:01] <huon> eddyb: I don't know
[07:51:06] <eddyb> from ldd glxgears
[07:51:07] <huon> eddyb: (about configuring multirust)
[07:51:20] <huon> eddyb: ask brson or flaper87
[07:51:31] <tomaka> looks like static linking
[07:51:44] <eddyb> tomaka: that's dynamic linking to an immutable file
[07:52:05] <tomaka> yeah but xcb is a small part of xlib
[07:52:12] <tomaka> the rest of xlib should be staticl inked
[07:52:13] <eddyb> well, it's just one lib
[07:52:24] <eddyb> there's like 10 xcb .so's
[07:52:46] <eddyb>         libX11.so.6 => /nix/store/04kh0a6a5vvyisi90ijbp4d81yxhdmn7-libX11-1.6.2/lib/libX11.so.6 (0x00007f7acd419000)
[07:53:50] <eddyb> tomaka: the beauty of this all is that NixOS can start doing LTO if a compiler can provide it without ruining link times
[07:54:33] <eddyb> "dynamic" linking for reuse when things don't get inlined
[07:55:10] <eddyb> tomaka: oh I should have read this before https://nixos.org/wiki/How_to_package_closed-source_software
[07:56:42] <eddyb> OH!
[07:57:11] <eddyb> tomaka: this is what I was missing: stdenv.lib.makeLibraryPath - I actually had a bunch of hacks to extract the library paths from linker flags, so I can run factorio
[07:59:26] *** Quits: dmac (dmac@moz-2ig65r.ca.comcast.net) (Connection closed)
[08:01:24] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[08:02:28] <tomaka> eddyb: I wonder if your rust PR fixes the problem of glium taking one hour to compile
[08:03:48] <Tobba> tomaka: christ, I guess check how much time it spends in coherence checking?
[08:04:39] <eddyb> Tobba: welcome to cargo
[08:04:46] <eddyb> I guess you can --verbose and copy it out
[08:05:06] <eddyb> tomaka: I have a linux build if you want me to test anything...
[08:05:19] <eddyb> (it definitely *felt* like everything compiled faster)
[08:05:55] <Tobba> cargo-bui-- *gets carried away by angry mob*
[08:06:26] <tomaka> I don't remember what was causing it
[08:06:37] <tomaka> I know it's a 32-bits issue only
[08:07:04] <eddyb> tomaka: on windows? 32-bit windows sucks
[08:07:34] <eddyb> (or rather, mingw does)
[08:08:00] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[08:08:01] <Tobba> cygwin is so much better but has worse support for some reason
[08:08:06] <Tobba> mingw ports are dodgier than most chinese imports
[08:08:11] <eddyb> tomaka: it should be easy to check as coherence is the first thing that takes more than a few seconds
[08:08:26] <eddyb> Tobba: cygwin has a nasty fork, if that hasn't been fixed
[08:08:40] <Tobba> not sure
[08:08:52] <eddyb> compiling GCC took ages because of it
[08:09:07] <eddyb> why did I compile GCC under cygwin? C++ osdev
[08:09:36] <huon> you can use `cargo rustc` now
[08:09:39] <Tobba> but at least it has a gdb that can use TUI mode and a mintty that doesn't fail that often
[08:09:44] <huon> (e.g. `cargo rustc -- -Z time-passes`)
[08:10:02] <Tobba> wait what
[08:10:21] <huon> newly implemented :)
[08:10:24] <Tobba> this is great
[08:10:39] <Tobba> this means I don't need to use cargo-build, I think
[08:10:46] <Tobba> sanity: restored
[08:11:01] <huon> https://github.com/rust-lang/cargo/pull/1568
[08:11:48] *** Joins: JFlash (textual@moz-eimsel.fios.verizon.net)
[08:11:50] <eddyb> huon: good thing I didn't implement all that code for finding paths to dependencies using RUST_LOG=cargo
[08:11:57] <Tobba> well, the real question is if it fails badly if you specify --emit obj
[08:12:21] <huon> I think it'll work fine
[08:12:49] <eddyb> grr
[08:13:01] <eddyb> huon: check failure. in valgrind. not in Rust code
[08:13:09] <eddyb> _dl_map_object_deps
[08:13:23] *** Joins: demilux (demilux@moz-73qa6c.wa.comcast.net)
[08:13:41] <eddyb> there's also the run-make simd test, let's see if that fails
[08:13:47] *** Joins: Lilly (Lilly@moz-pfkvo9.bredband.comhem.se)
[08:17:16] <eddyb> Tobba, huon: https://gist.github.com/eddyb/7271197884a79accb928
[08:17:25] *** Quits: demilux (demilux@moz-73qa6c.wa.comcast.net) (Ping timeout: 121 seconds)
[08:17:48] <eddyb> not the best visualisation :/
[08:19:17] <eddyb> ohhh you know what it is? both expansion and configuration 2 can be reduced by doing early #[cfg(...)] pruning
[08:19:42] <eddyb> which is backwards compat, at most you're not going to get some parse errors
[08:20:00] <eddyb> actually, the log macros are badly defined
[08:20:57] <eddyb> they should be conditionally defined instead of sticking the cfg!(debug_assertions) in a boolean
[08:21:11] <eddyb> not sure how much that shaves off the two passes
[08:21:22] <eddyb> also, this is #rustc material
[08:21:45] <Tobba> huon: that *almost* does the right thing, it seems too basically work
[08:21:55] <Tobba> it just needlessly produces a staticlib
[08:22:20] <Tobba> (crate-type = ["staticlib"] is the only configuration where outputting object files wont fail in inexplicable ways)
[08:22:27] <Tobba> unless that was fixed, I can't remember
[08:23:01] <eddyb> Tobba: so the typeck peak is 1.1MB for fn main() {}. guess where most of that goes? filemaps imported from external crates. I thought spans didn't even work across crates :|
[08:23:19] <Tobba> :|
[08:23:26] *** Quits: JFlash (textual@moz-eimsel.fios.verizon.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[08:23:30] *** Joins: JFlash (textual@moz-eimsel.fios.verizon.net)
[08:23:36] <eddyb> it definitely doesn't *need* any darn span
[08:24:58] *** Joins: FrozenCow (FrozenCow@moz-i2tvv4.chello.nl)
[08:25:15] <Tobba> cargo being cargo also means that you can't specify where it puts the "target" directory
[08:25:34] *** Quits: JFlash (textual@moz-eimsel.fios.verizon.net) (Quit: Textual IRC Client: www.textualapp.com)
[08:25:36] <Tobba> (i.e cargo rustc is nigh useless vs a dummy build with manual rustc invocations because it will build all of your dependencies 20 times)
[08:25:38] <eddyb> Tobba: so 0.5MB of filemaps and 0.5MB of token trees
[08:25:53] <eddyb> spans it doesn't need and macros it doesn't need
[08:26:44] <eddyb> Tobba: maybe it's time to stop encoding macros as strings containing source code :P
[08:26:58] <eddyb> and probably lots of whitespace
[08:27:05] <Tobba> sounds good to me
[08:29:27] *** Joins: tomaka_ (Pierre@moz-8lbrro.abo.wanadoo.fr)
[08:29:47] *** Quits: twipeD (wipeD@moz-mesdod.dip0.t-ipconnect.de) (Quit: G'bye)
[08:30:37] *** Quits: tomaka (Pierre@moz-8lbrro.abo.wanadoo.fr) (Ping timeout: 121 seconds)
[08:32:26] <eddyb> "This information is enough to generate valid debuginfo for items inlined from other crates."
[08:33:29] <eddyb> Tobba: apparently it's "just information about length, line breaks, and multibyte characters" - amounting to over 500kB :|
[08:35:51] <Tobba> :|
[08:36:23] <eddyb> Tobba, Yurume: you know what? this information should never be in a data structure, it should be extracted on demand from a RBML bytestream, which itself should be mmaped
[08:36:51] <eddyb> so, yeah, more metadata reform. why does everything lead to metadata?
[08:37:01] <Tobba> metadata is hard
[08:37:22] <eddyb> cue to bvssvni_ presenting Piston's meta project
[08:38:02] *** Quits: SHC (quassel@moz-fbh.qrj.93.59.IP) (Ping timeout: 121 seconds)
[08:38:11] *** Joins: SHC (quassel@moz-7nu.05b.204.117.IP)
[08:38:29] *** Joins: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com)
[08:40:18] <tomaka_> just released glium 0.3.7, because it doesn't compile on nightly >_>
[08:40:32] <tomaka_> because 0.3.6 doesn't compile on nightly*
[08:41:16] <tomaka_> the problem is that if brson runs his regression tests, it won't detect glium
[08:42:17] *** Quits: SHC (quassel@moz-7nu.05b.204.117.IP) (Ping timeout: 121 seconds)
[08:42:57] *** Joins: SHC (quassel@moz-5ic.t4j.213.117.IP)
[08:43:01] *** Quits: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[08:46:36] *** tomaka_ is now known as tomaka
[08:50:18] *** Quits: unC0Rr (unC0Rr@moz-s45.u1j.192.62.IP) (Connection closed)
[08:50:52] *** Joins: unC0Rr (unC0Rr@moz-s45.u1j.192.62.IP)
[08:53:19] <tomaka> hum, that's funny, I'm getting "glxFBConfig failed" when running my game on linux
[08:53:29] <tomaka> on the same machine where I work on glutin
[08:53:35] <tomaka> and glutin works perfectly fine
[08:54:06] *** Joins: nerdopoly (nerdopoly@moz-aqvski.range86-143.btcentralplus.com)
[08:55:40] <tomaka> Seriously, I need some sort of expert about how glx works
[08:56:17] <tomaka> glutin's code is a conversion to rust of the example code in the OpenGL wiki
[08:56:20] <kagami> Whoa, spent 15 minutes trying to figure out strange artefacts at the screen. It turned out I can't create buffer with len=128. I thought that vertex/index buffers are just common stores of points...
[08:57:43] *** Joins: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net)
[08:57:51] <kagami> Hm, 32/64/256/512 works ok. Maybe me video driver is buggy?
[08:57:55] <kagami> my*
[08:57:56] *** Joins: CarpNet_ (Alasdair@moz-44bvmo.kimsufi.com)
[08:57:57] *** Quits: CarpNet (Alasdair@moz-44bvmo.kimsufi.com) (Connection closed)
[08:58:55] *** CarpNet_ is now known as CarpNet
[09:00:07] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[09:00:32] <tomaka> I don't think a driver that doesn't allow creating buffers of size 128 would go undetected for long
[09:06:51] *** Joins: bjz (bjz@moz-4l6.mjm.52.113.IP)
[09:07:46] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[09:14:07] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[09:19:35] *** Joins: Codenator (Mibbit@moz-i23.v94.198.81.IP)
[09:19:40] *** Parts: Codenator (Mibbit@moz-i23.v94.198.81.IP) ()
[09:20:36] *** Quits: bjz (bjz@moz-4l6.mjm.52.113.IP) (Ping timeout: 121 seconds)
[09:21:08] *** Joins: ecogiko (ecogiko@moz-3ap.oqi.93.145.IP)
[09:21:55] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[09:32:13] <kagami> Hm, probably that was caused by R8 texture format. Either my shader is broken or I can't just blend vec4 color with single-component texture.
[09:32:40] *** Joins: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com)
[09:32:41] <kagami> Or I need some special sampler for that...
[09:37:09] *** Quits: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[09:37:37] *** Joins: davebettin (davebettin@moz-ip635p.or.comcast.net)
[09:37:58] <eddyb> Tobba: a startup time of 7.5s for librustc wouldn't be *that* bad, if I could make incremental updates work
[09:39:09] <eddyb> Tobba: but! if you modify anything outside a function, that's 7.5 seconds you have to wait before semantic analysis can be queried again, and I don't like that
[09:41:39] *** Quits: davebettin (davebettin@moz-ip635p.or.comcast.net) (Ping timeout: 121 seconds)
[09:42:06] <eddyb> there's no easy way to "optimize" the log macros because conditional definition would result in debug assertions being fixed at the time of the compilation of the log crate, which is *not* what you want
[09:43:57] <eddyb> that also means "configuration 2" is not churning through logging *and* type-checking is performed on the expressions even if debug assertions are disabled
[09:44:04] <eddyb> type checking and resolution and... yeah
[09:47:22] *** Joins: qrlpx (smuxi@moz-n7t.3nb.211.95.IP)
[09:49:00] *** Quits: Tobba (Tobba@moz-6oh.7ki.21.217.IP) (Ping timeout: 121 seconds)
[09:49:37] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[09:50:23] *** Joins: bjz (bjz@moz-puppgq.tpgi.com.au)
[10:00:16] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[10:02:53] *** Joins: twipeD (wipeD@moz-mesdod.dip0.t-ipconnect.de)
[10:04:20] *** Joins: Tobba (Tobba@moz-6oh.7ki.21.217.IP)
[10:04:44] *** Joins: genbattle (genbattle@moz-ikj3l8.xtra.co.nz)
[10:04:46] *** Quits: Luqman (laden@moz-bjmiqc.csclub.uwaterloo.ca) (Ping timeout: 121 seconds)
[10:04:52] *** Joins: Luqman (laden@moz-bjmiqc.csclub.uwaterloo.ca)
[10:05:03] *** Quits: zyphrus (David@moz-1a4.urk.98.101.IP) (Quit: Bye bye)
[10:07:37] *** Quits: indefini (indefini@moz-4p4v25.ucom.ne.jp) (Connection closed)
[10:08:35] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[10:12:18] *** Joins: kkimdev (kkimdev@moz-54q.uh9.135.104.IP)
[10:14:20] *** Quits: eddyb (Mibbit@moz-gua2rr.lbi.ro) (Quit: http://www.mibbit.com ajax IRC Client)
[10:15:22] *** Quits: summerlight (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[10:17:53] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[10:20:32] *** Quits: Tobba (Tobba@moz-6oh.7ki.21.217.IP) (Ping timeout: 121 seconds)
[10:23:08] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[10:23:40] *** Joins: Tobba (Tobba@moz-6oh.7ki.21.217.IP)
[10:24:10] *** Quits: ecogiko (ecogiko@moz-3ap.oqi.93.145.IP) (Quit: leaving)
[10:26:48] *** Joins: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com)
[10:31:20] *** Quits: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[10:37:28] *** Quits: stl (stl@moz-fg4.kee.15.176.IP) (Ping timeout: 121 seconds)
[10:39:19] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[10:40:58] *** Quits: Tobba (Tobba@moz-6oh.7ki.21.217.IP) (Ping timeout: 121 seconds)
[10:48:00] *** Quits: guycook (quassel@moz-rpa0ek.snap.net.nz) (Connection closed)
[10:49:21] *** Joins: Tobba (Tobba@moz-6oh.7ki.21.217.IP)
[10:50:30] <tomaka> travis is ultra slow again T_T
[10:52:46] *** Quits: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[10:56:12] *** Joins: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net)
[10:58:46] *** Joins: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com)
[11:00:06] *** Quits: mmatyas (mmatyas@moz-4lg94m.inf.u-szeged.hu) (Connection closed)
[11:00:10] *** Quits: Tobba (Tobba@moz-6oh.7ki.21.217.IP) (Ping timeout: 121 seconds)
[11:01:00] *** Quits: IanCormac84 (Nathan@moz-p3n.mia.214.206.IP) (Ping timeout: 121 seconds)
[11:02:06] *** Joins: aepsil0n (eduard@moz-ob9p8k.hsi8.kabel-badenwuerttemberg.de)
[11:02:56] *** Joins: stl (stl@moz-h0r.qae.15.176.IP)
[11:03:42] *** Joins: IanCormac84 (Nathan@moz-p3n.mia.214.206.IP)
[11:05:17] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[11:05:43] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[11:08:06] *** Quits: p1start (p1start@moz-nftjhe.org) (Ping timeout: 121 seconds)
[11:08:18] *** Quits: Kingsquee (kingsley@moz-3fm07c.bchsia.telus.net) (Quit: Konversation terminated!)
[11:10:10] *** Joins: skitoo (Thunderbird@moz-urd0va.fbx.proxad.net)
[11:10:20] *** Quits: IanCormac84 (Nathan@moz-p3n.mia.214.206.IP) (Ping timeout: 121 seconds)
[11:11:35] *** Joins: IanCormac84 (Nathan@moz-p3n.mia.214.206.IP)
[11:16:56] * kmcguire drools..
[11:17:15] <kmcguire> i just... found... vertex blending/skinning 
[11:17:45] <kmcguire> this might be the best thing since sliced bread
[11:19:06] *** Joins: mmatyas (mmatyas@moz-4lg94m.inf.u-szeged.hu)
[11:20:39] *** Joins: eddyb_ (eddyb@moz-egg.q07.26.188.IP)
[11:20:57] *** Joins: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com)
[11:25:29] *** Quits: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[11:28:48] *** eddyb_ is now known as eddyb
[11:30:41] *** Quits: Lilly (Lilly@moz-pfkvo9.bredband.comhem.se) (Quit: bajs)
[11:32:53] *** Quits: kkimdev (kkimdev@moz-54q.uh9.135.104.IP) (Quit: Leaving)
[11:33:11] *** Joins: Gamecubic (cubic@moz-bglmk5.mc.videotron.ca)
[11:33:40] *** Joins: IanCormac841 (Nathan@moz-p3n.mia.214.206.IP)
[11:34:17] *** Quits: IanCormac84 (Nathan@moz-p3n.mia.214.206.IP) (Ping timeout: 121 seconds)
[11:34:18] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[11:39:07] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[11:39:54] <kagami> bvssvni_: Hi. I made gfx_text library to render text with freetype for gfx-rs. Is it worth to create repo at PistonDevelopers to place it there?
[11:41:20] *** Quits: mindtree (Mitch@moz-3cabkn.iprimus.net.au) (Ping timeout: 121 seconds)
[11:41:58] *** Quits: genbattle (genbattle@moz-ikj3l8.xtra.co.nz) (Ping timeout: 121 seconds)
[11:41:58] *** Joins: bdero (bran@moz-216hqv.oo5r.e4su.0006.2601.IP)
[11:42:03] *** Joins: mindtree (Mitch@moz-5rf8bv.iprimus.net.au)
[11:45:59] *** Quits: jwilm (jwilm@moz-1rin99.hfc.comcastbusiness.net) (Ping timeout: 121 seconds)
[11:52:33] *** Joins: bdero1 (bran@moz-lbs.91h.47.73.IP)
[11:52:46] *** Quits: bdero (bran@moz-216hqv.oo5r.e4su.0006.2601.IP) (Quit: Leaving.)
[11:56:40] <eddyb> kagami: there's already similar capabilities in gfx-graphics
[11:57:20] <eddyb> kagami: if it only depends on gfx-rs and freetype, you might be able to place it under gfx-rs (talk to kvark... but he's not around. cmr?)
[12:01:00] <kagami> eddyb: yes, the only deps are gfx-rs and freetype. I asked kvark, but he said it's too high-level so kinda not fits the gfx-rs org.
[12:01:14] <eddyb> oh
[12:02:05] <eddyb> IMO a backend-specific text drawing library doesn't make that much sense
[12:03:06] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[12:03:54] <kagami> But gfx-rs is backend-independent, isn't it? I mean it's abstraction over multiple graphics API.
[12:04:54] <tomaka> Yeah, and each graphic API is also an abstraction over the proprietary formats of commands sent to the GPU
[12:05:06] <eddyb> ehm, right. but to piston-graphics, gfx-rs itself is a back end, the other two being glium and raw OpenGL
[12:05:14] <tomaka> piston is therefore an abstraction of an abstraction of an abstraction
[12:06:11] <kagami> eddyb: yea, piston is a higher abstraction. I just need something easy enough for my other small project, without huge dependency tree.
[12:06:34] <kagami> s/easy/simple/
[12:07:56] <kagami> But the main thing in such libraries is rendering the texture, so it can be extracted into the separate tiny library without any dependencies except freetype at all. So it would be even more portable than piston :)
[12:08:36] <cmr> eddyb: what's up?
[12:09:16] <eddyb> cmr: sorry, turns out kagami talked to kvark
[12:09:28] <cmr> ok.
[12:10:27] *** Joins: Codenator (Mibbit@moz-i23.v94.198.81.IP)
[12:11:24] *** Parts: Codenator (Mibbit@moz-i23.v94.198.81.IP) ()
[12:14:10] *** Joins: Wild_Cat (Max@moz-fa8mvt.dsl.teksavvy.com)
[12:14:44] *** Quits: kalail (uid62296@moz-5ck9vu.charlton.irccloud.com) (Quit: Connection closed for inactivity)
[12:15:08] *** Joins: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com)
[12:19:10] *** Quits: nerdopoly (nerdopoly@moz-aqvski.range86-143.btcentralplus.com) (Quit: leaving)
[12:19:39] *** Quits: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[12:21:04] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[12:22:12] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[12:23:47] <eddyb> tomaka: I'll be hearing from you next nightly. really curious if it helps with glium at all https://github.com/rust-lang/rust/pull/25323
[12:24:51] <tomaka> :o)
[12:24:59] <cmr> Ooooh
[12:25:13] <cmr> eddyb: nice fix, thanks!
[12:25:39] <cmr> Cute branch name too, always a plus.
[12:25:44] <cmr> Luqman would be proud.
[12:30:45] *** Joins: erz (erz@moz-n26c5c.broadband.corbina.ru)
[12:46:22] *** Quits: SHC (quassel@moz-5ic.t4j.213.117.IP) (Ping timeout: 121 seconds)
[12:47:37] *** Joins: SHC (quassel@moz-hep.65a.241.117.IP)
[12:56:52] *** Joins: summerlight (summerlight@moz-99k.2mj.130.121.IP)
[12:57:26] *** Quits: mindtree (Mitch@moz-5rf8bv.iprimus.net.au) (Ping timeout: 121 seconds)
[12:58:00] *** Quits: Wild_Cat (Max@moz-fa8mvt.dsl.teksavvy.com) (Connection closed)
[12:58:29] *** Joins: mindtree (Mitch@moz-sl76id.iprimus.net.au)
[12:58:57] *** Joins: Tobba (Tobba@moz-o13d22.bredband.telia.com)
[13:03:51] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[13:08:06] <kmcguire> if i implement a quaternion for rotation in GLSL.. its going to limit my vertex/sec.. has too obviously greatly.. hmm.. if something doesnt move much it would definately be a waste of computational power 
[13:08:20] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (Ping timeout: 121 seconds)
[13:08:50] *** Quits: mindtree (Mitch@moz-sl76id.iprimus.net.au) (Ping timeout: 121 seconds)
[13:09:18] *** Joins: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com)
[13:09:58] <cmr> kmcguire: slerp you mean? or the actual conversion to matrix and then multiplication?
[13:11:05] <kmcguire> yeah the actual matrix
[13:11:28] <kmcguire> well.. wait
[13:12:28] <kmcguire> no matrix
[13:13:48] *** Quits: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[13:14:29] <kmcguire> hmm
[13:14:56] *** Joins: kvark (Mibbit@moz-p3c.rcb.221.216.IP)
[13:19:03] <eddyb> cmr: I only did it for my pet project :P. 2GB -> 500MB (compiling all 120 .rs files of rust-by-example in the same process, paused after typeck)
[13:19:16] <kmcguire> cmr, thanks
[13:19:52] <cmr> kmcguire: no problem I guess? :P
[13:20:08] <kmcguire> hehe you made me realize i can do it without a matrix
[13:20:08] <eddyb> not only is that still too much, but I believe there's a lot of redundancy (same data from libstd being loaded over and over again)
[13:20:35] <cmr> eddyb: working on a rustc daemon? :)
[13:20:41] *** Joins: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com)
[13:21:21] <eddyb> cmr: the rid3 thing
[13:21:37] <cmr> ah.
[13:21:41] <cmr> close enough really.
[13:22:01] <eddyb> cmr: each open file has at least one background compiler instance and it can be queried for type info from the editor
[13:22:29] <eddyb> it is pretty stand alone at the moment, and controlled through a channel
[13:23:17] <eddyb> tomaka: also https://github.com/rust-lang/rust/issues/22068 (if you haven't seen it)
[13:23:54] <tomaka> oh
[13:24:02] <tomaka> actually I don't compile on the raspi, I thought this was not possible
[13:24:13] <tomaka> I cross-compile from my linux machine, then transfer the binary to the raspi
[13:31:57] *** Joins: bjz_ (bjz@moz-puppgq.tpgi.com.au)
[13:32:02] *** Quits: bjz (bjz@moz-puppgq.tpgi.com.au) (Connection closed)
[13:32:38] *** Joins: zeiris (zeiris@moz-8jbmam.letter.agency)
[13:33:03] *** Parts: IanCormac841 (Nathan@moz-p3n.mia.214.206.IP) ("http://pidgin.renatosilva.me - Pidgin++")
[13:33:59] <kvark> kagami: low-level or not is not a problem, I've never said it is. What I said is - there is no point for gfx_text to be under gfx-rs if no one of the core devs uses it. Things need to bake a little before getting adopted, that's why I'd prefer you to just have it under your name, we'll see how it gets perceived. I don't mind PistonDevelopers group either
[13:35:37] <fkaa_> very cool: https://twitter.com/HandsofSight/status/596823405476720640/photo/1
[13:35:42] *** fkaa_ is now known as fkaa
[13:36:03] <fkaa> normal 2d tile editor gone 3d
[13:36:05] <kvark> fkaa: looks like sprites?
[13:36:24] <fkaa> the site has a good demonstration of it http://crocotile3d.com/
[13:39:39] *** Joins: Lilly (Lilly@moz-pfkvo9.bredband.comhem.se)
[13:39:45] *** Joins: ytain (ytain@moz-01dgko.cpe.pppoe.ca)
[13:39:47] *** Joins: nodweber (nodweber@moz-knt.fgq.178.5.IP)
[13:40:43] <kvark> fkaa: I like the name
[13:41:39] <fkaa> heh yeah, seems good for someone as art illiterate as me
[13:42:40] *** Quits: bdero1 (bran@moz-lbs.91h.47.73.IP) (Connection closed)
[13:43:47] *** Joins: bdero (bran@moz-216hqv.oo5r.e4su.0006.2601.IP)
[13:44:13] *** Joins: alexggordon (alexggordon@moz-em9tm4.mo.charter.com)
[13:44:33] *** Joins: demilux (demilux@moz-73qa6c.wa.comcast.net)
[13:45:27] *** Quits: aepsil0n (eduard@moz-ob9p8k.hsi8.kabel-badenwuerttemberg.de) (Connection closed)
[13:47:04] <kvark> summoning core devs here https://github.com/gfx-rs/gfx-rs/issues/726
[13:48:35] *** Quits: demilux (demilux@moz-73qa6c.wa.comcast.net) (Ping timeout: 121 seconds)
[13:53:45] *** Joins: lenstr (lenstr@moz-t72.vju.25.171.IP)
[13:54:32] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[13:55:42] *** Joins: canhtak (jeremy@moz-kcs.u0t.149.5.IP)
[13:58:48] <fkaa> kvark: got any suggestions for some more examples?
[13:59:51] <kvark> fkaa: shadows
[14:00:16] <kvark> fkaa: alternatively, write some app that is not an example. Maybe a simple 2D platformer
[14:00:22] * tomaka should write examples for glium as well
[14:00:22] <fkaa> perfect! i've actually never dabbled with them before
[14:00:30] <fkaa> that too, hehe
[14:01:36] *** Joins: erickt (erickt@moz-njt.vqi.14.76.IP)
[14:03:30] *** Joins: demilux (demilux@moz-73qa6c.wa.comcast.net)
[14:03:42] *** Joins: davebettin (davebettin@moz-ip635p.or.comcast.net)
[14:21:54] *** Joins: Codenator (Mibbit@moz-i23.v94.198.81.IP)
[14:21:57] *** Parts: Codenator (Mibbit@moz-i23.v94.198.81.IP) ()
[14:21:58] *** Quits: erickt (erickt@moz-njt.vqi.14.76.IP) (Ping timeout: 121 seconds)
[14:28:31] *** Joins: AngelOfSol (AngelOfSol@moz-dj58kc.rh.rit.edu)
[14:32:52] <bvssvni_> kagami: that would be nice!
[14:32:57] *** bvssvni_ is now known as bvssvni
[14:33:54] <bvssvni> kagami: I’ve added you to the admin group so you can transfer the project
[14:33:56] * WindowsBunny nibbles on tomaka
[14:38:34] *** Quits: Feyn (Feyn@moz-r04.5ro.115.42.IP) (Quit: Leaving)
[14:39:02] *** Quits: SHC (quassel@moz-hep.65a.241.117.IP) (Ping timeout: 121 seconds)
[14:39:15] *** Joins: SHC (quassel@moz-hep.65a.241.117.IP)
[14:42:05] <kagami> bvssvni: published, thanks! https://github.com/PistonDevelopers/gfx_test
[14:42:24] <tomaka> "test"? shouldn't it be "text"?
[14:42:24] <kagami> Would greatly appreciate any review/hints since I'm very new to Rust and CG in general
[14:42:47] <kagami> Also, library is still work in progress, there are some bugs and things to be done.
[14:42:55] <tomaka> kagami: You made a typo in the name
[14:43:16] <bvssvni> kagami: you can go to “settings” and rename it
[14:43:28] <kagami> oops, renamed, thanks.
[14:47:42] <fkaa> haha
[14:47:44] <fkaa> nice
[14:47:55] *** Joins: mib_wp7wfa (Mibbit@moz-j8h.enp.3.185.IP)
[14:48:17] *** Quits: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[14:49:31] *** Quits: nodweber (nodweber@moz-knt.fgq.178.5.IP) (A TLS packet with unexpected length was received.)
[14:51:57] *** Quits: mib_wp7wfa (Mibbit@moz-j8h.enp.3.185.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[14:56:34] <bvssvni> kagami: the code looks quite nice!
[14:56:56] *** Quits: Raven67854 (Raven67854@moz-8fl3ql.unassigned.ntelos.net) (Quit: Leaving)
[14:58:12] *** Joins: Raven67854 (Raven67854@moz-8fl3ql.unassigned.ntelos.net)
[14:59:56] <kagami> bvssvni: haha, thanks.
[15:05:34] *** Quits: squiddy (squiddy@moz-md4.pm3.19.178.IP) (Quit: Leaving)
[15:06:48] *** Joins: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP)
[15:09:16] <kmcguire> hmm i can do 9 matrix multiplications on the CPU.. 9 MM on another CPU (background).. or 17 on the GPU
[15:09:30] <kmcguire> per each object
[15:10:39] <kmcguire> im going to KISS
[15:12:04] <tomaka> a matrix multiplication is something like 10-20 nanoseconds IIRC
[15:12:23] <tomaka> it may take more time to transfer the matrix between the threads than do the multiplications
[15:13:33] <tomaka> so stop worrying about your matrix multiplication performances, because the bottleneck will most likely never come from this
[15:13:47] *** Quits: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[15:15:01] *** Quits: demilux (demilux@moz-73qa6c.wa.comcast.net) (A TLS packet with unexpected length was received.)
[15:17:29] *** Joins: SiegeLord (sl@moz-9jtaei.ca.comcast.net)
[15:17:53] *** Joins: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca)
[15:21:17] *** Joins: davebettin_ (davebettin@moz-ip635p.or.comcast.net)
[15:21:35] <kmcguire> good thinking
[15:22:08] <ytain> or you can use libsimdpp
[15:22:31] *** Joins: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net)
[15:22:34] *** Quits: harrisonclarke (harrisoncla@moz-uur7pt.eastlink.ca) (Connection closed)
[15:23:53] *** Joins: jxv (jxv@moz-2celrt.res.rr.com)
[15:23:54] *** Quits: davebettin (davebettin@moz-ip635p.or.comcast.net) (Ping timeout: 121 seconds)
[15:24:17] *** Joins: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com)
[15:24:32] *** Quits: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP) (Client exited)
[15:26:27] *** Joins: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP)
[15:26:43] *** Quits: canhtak (jeremy@moz-kcs.u0t.149.5.IP) (Client exited)
[15:27:16] <kmcguire> lol, darn java is taking about 3911ns using the Matrix.multiplyMM
[15:27:43] <fkaa> that doesn't seem right
[15:27:52] <fkaa> how are you profiling this?
[15:28:09] *** Quits: tomaka (Pierre@moz-8lbrro.abo.wanadoo.fr) (Ping timeout: 121 seconds)
[15:28:33] *** Joins: nerdopoly (nerdopoly@moz-aqvski.range86-143.btcentralplus.com)
[15:28:35] *** Joins: tomaka (Pierre@moz-8lbrro.abo.wanadoo.fr)
[15:28:40] *** Quits: Astrum|Lap (Astrum|Lap@moz-skcefh.co.comcast.net) (Ping timeout: 121 seconds)
[15:29:35] *** Quits: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com) (Connection closed)
[15:30:19] *** Joins: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com)
[15:31:00] <kmcguire> fkaa, i did a crappy profile, using a loop and taking the number of nano seconds elapsed
[15:31:14] <fkaa> how many loops?
[15:31:24] <kmcguire> 75000
[15:31:36] <fkaa> the jvm might need a lot more to properly optimize it
[15:31:54] <ytain> kmcguire is that on Android?
[15:32:23] <kmcguire> hold on it might be a little inflated
[15:32:27] <kmcguire> yes android
[15:33:08] <ytain> dalvik does optimization once 
[15:33:14] <ytain> and saves to the cache
[15:33:31] <kmcguire> i think I am using the ART..
[15:33:33] <kmcguire> i think
[15:33:39] <ytain> and the optimization is not very geared to the math functions
[15:34:03] <kmcguire> let me switch to the dalvik
[15:35:41] *** Joins: w4ffles (textual@moz-g7g.toe.144.12.IP)
[15:35:57] *** Joins: davebettin__ (davebettin@moz-ip635p.or.comcast.net)
[15:36:06] <kmcguire> both the same, ~3952ns
[15:36:50] <kmcguire> i will prolly look at using rust to do some of that work
[15:37:01] <kmcguire> i think java has a high function call overhead
[15:37:28] <ytain> how about native code?
[15:37:38] <kmcguire> yes, i need to test native
[15:37:46] <kmcguire> i am curious
[15:37:58] <ytain> try both c++ and rust
[15:38:24] <ytain> c++ has also libsimdpp that has support for NEON extensions which could accelerate some math stuff
[15:38:52] <ytain> also there's a library for c++ called Eigen
[15:38:55] *** Quits: davebettin_ (davebettin@moz-ip635p.or.comcast.net) (Ping timeout: 121 seconds)
[15:39:00] <ytain> for math related stuff
[15:39:05] <ytain> you can try using it
[15:39:50] <sad> i think worrying about some matrix multiplications for a game is waste of time
[15:39:51] *** Joins: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net)
[15:40:27] *** Quits: SiegeLord (sl@moz-9jtaei.ca.comcast.net) (Quit: It's a joke, it's all a joke.)
[15:40:41] <Tiffany> matrix multiplication is about 95% of the CPU usage of the render thread in my engine, sad
[15:40:47] <Tiffany> it's not exactly a waste of time
[15:40:57] <Tiffany> although I could do it on the GPU if the render thread was a bottleneck, which it isn't
[15:41:09] <fkaa> are you making "Matrix – The Game"?
[15:41:30] <kvark> Tiffany: yeah, it sounds wrong
[15:42:15] <ytain> https://software.intel.com/en-us/articles/using-simd-technologies-on-intel-architecture-to-speed-up-game-code
[15:42:25] <Tiffany> the matrix math is already being SIMDed
[15:42:36] <Tiffany> in some cases because of autovectorisation, in other cases because of math libs
[15:42:54] *** Quits: lenstr (lenstr@moz-t72.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[15:43:35] <sad> how could you possible be bottlenecked on matrix ?
[15:43:40] <Tiffany> the routine that generates all of the matrices is about 60 lines of code that compiles to about 2000 lines of assembly
[15:43:47] <Tiffany> lots and lots of simd instructions
[15:44:10] <kvark> Tiffany: it's still relative. If your render thread takes less then a millisecond per frame, who cares what it spends time on?
[15:44:18] <Tiffany> yeah
[15:44:28] <kvark> Tiffany: the question is: is matrix multiplication really a bottleneck for the whole app
[15:44:34] <Tiffany> the only case matrix math becomes the bottleneck is when I'm rendering 10000 instanced objects
[15:44:39] <Tiffany> without physics
[15:44:59] <Tiffany> which would be a strange game
[15:45:03] *** Joins: lenstr (lenstr@moz-t72.vju.25.171.IP)
[15:47:21] <sad> how long does it take to it to do 10,000
[15:47:34] <Tiffany> I'm not sure, I've never tried it
[15:47:55] <Tiffany> that and I usually look at percentages rather than milliseconds
[15:48:04] <sad> o ic
[15:48:30] <kmcguire> well im in the design phase so im just looking at getting a design that gives me good battery usage and can handle lots of instanced objects that are in a hiarchy
[15:48:37] <Tiffany> the main reason matrix math is 95% of the render thread is because the other 5% is doing rapidfire GL calls
[15:48:48] <kmcguire> and Tiffany is just saying that matrix math comprises the majority of his render thread work
[15:48:50] <Tiffany> it will be even more ridiculous under vulkan, since then it will just be a for loop to submit all the command buffers for that frame
[15:48:54] <Tiffany> his?
[15:49:19] *** Joins: eddyb_ (eddyb@moz-egg.q07.26.188.IP)
[15:49:24] *** Quits: FrozenCow (FrozenCow@moz-i2tvv4.chello.nl) (Ping timeout: 121 seconds)
[15:49:38] <kvark> Tiffany: her? their?
[15:49:41] <Tiffany> her
[15:49:42] <sad> on the internet your a guy until proven otherwise duh
[15:49:51] *** Quits: eddyb (eddyb@moz-egg.q07.26.188.IP) (Connection closed)
[15:50:05] *** Joins: niconii (nicole@moz-5gqgia.frgo.qwest.net)
[15:50:52] <kmcguire> this is the second time this has happened over about two weeks lol
[15:51:11] <kmcguire> what was the other person's name.. if i could just remember it
[15:52:06] <kvark> Tiffany: it's nice to have a diverse community! hope you are not being offended
[15:52:08] *** Quits: lenstr (lenstr@moz-t72.vju.25.171.IP) (Connection closed)
[15:52:10] <kmcguire> sorry, i grew up in an online world where everyone was a he
[15:52:11] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[15:52:14] <Tiffany> not really
[15:52:23] <Tiffany> it just kind of baffles me that someone would default to 'he' for a name like mine
[15:52:41] *** Joins: O01eg (o01eg@moz-ail.kf2.112.37.IP)
[15:52:46] <Tiffany> it's happened before
[15:53:05] <kmcguire> im not used to there being a she so i have to get used to thinking about it lol
[15:53:11] *** Joins: lenstr (lenstr@moz-t72.vju.25.171.IP)
[15:53:42] <kmcguire> well let me go finish figuring something out
[15:53:46] * kmcguire spirals into the void
[15:53:51] *** Quits: SHC (quassel@moz-hep.65a.241.117.IP) (Connection closed)
[15:54:46] <fkaa> kvark: https://github.com/gfx-rs/gfx_examples/issues/18 is also fixed
[15:56:43] <kvark> fkaa: thanks!
[15:57:09] <fkaa> no need to thank me every time ;o
[15:57:51] <niconii> kmcguire: me?
[15:58:34] <kmcguire> well at 20fps my worst case scenario is a max of updating 1,428 four legged creatures (consuming the entire time slice of one second)
[15:58:43] *** Joins: harrisonclarke (harrisoncla@moz-th044a.ns.bellaliant.net)
[15:59:24] <kmcguire> my best case could be 1,700, which isnt bad, i really only need 714 so thats 50% cpu load minimum
[15:59:44] <kmcguire> niconii, yes it was you, lol, i did it again!
[15:59:56] <kvark> Tiffany: is this code online?
[16:00:06] <Tiffany> some of it is, but that part is in C
[16:00:39] <kvark> huh, that's weird. Are you migrating the existing C codebase to Rust gradually?
[16:00:50] <Tiffany> no
[16:01:24] <Tiffany> this is representative of how the matrix math is done: https://github.com/TheCodeLab/IntenseLogic/blob/master/src/graphics/floatspace.c#L140
[16:01:54] <kmcguire> if i dropped from 3us to 30ns for matrix multiplication i would be looking at going from 50% cpu load to 4%
[16:02:05] *** Quits: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP) (Connection closed)
[16:02:26] <Tiffany> I've been kind of on and off with actually writing stuff in rust
[16:02:39] <Tiffany> about a year ago I wrote a demo against this codebase in rust, as well as a few other things
[16:02:44] <Tiffany> I will try to do some more things after 1.0
[16:05:59] *** Quits: davebettin__ (davebettin@moz-ip635p.or.comcast.net) (Ping timeout: 121 seconds)
[16:13:23] *** Quits: harrisonclarke (harrisoncla@moz-th044a.ns.bellaliant.net) (Connection closed)
[16:14:45] *** Joins: harrisonclarke (harrisoncla@moz-th044a.ns.bellaliant.net)
[16:17:00] *** Quits: skitoo (Thunderbird@moz-urd0va.fbx.proxad.net) (Ping timeout: 121 seconds)
[16:17:51] *** Quits: lenstr (lenstr@moz-t72.vju.25.171.IP) (Connection closed)
[16:20:18] *** Joins: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP)
[16:21:20] *** Joins: lenstr (lenstr@moz-t72.vju.25.171.IP)
[16:21:22] *** Quits: lenstr (lenstr@moz-t72.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[16:29:36] *** Quits: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP) (Connection closed)
[16:30:02] *** Joins: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP)
[16:32:30] *** Quits: silven (quassel@moz-0roor3.priv.bahnhof.se) (Ping timeout: 121 seconds)
[16:32:41] *** Joins: silven (quassel@moz-0roor3.priv.bahnhof.se)
[16:32:42] *** eddyb_ is now known as eddyb
[16:35:44] *** Joins: eerie (eerie@moz-9ml73n.red.bezeqint.net)
[16:38:27] *** Joins: Astrum|Lap (Astrum|Lap@moz-7enfbr.co.comcast.net)
[16:45:47] <eddyb> Tobba: under 180MB if I don't run intra-function typechecking (which I don't need) :D
[16:46:08] <eddyb> had to modify librustc_typeck to make a bunch of modules public for that
[16:46:20] <eddyb> that's very close to 1MB per file
[16:46:26] <eddyb> and we know how those are wasted
[16:46:40] <eddyb> Tobba: almost infinitely scalable (TM)
[16:46:57] <kvark> Tiffany: it looks like you are constructing a matrix for each of the displacement, rotation, scale, plus some others?
[16:47:17] <eddyb> how do I list the threads of a process?
[16:47:32] <eddyb> I have 240 of the darn things and I want to be sure they're all halted
[16:47:44] <eddyb> (waiting on a semaphore, I guess)
[16:51:19] *** Quits: eerie (eerie@moz-9ml73n.red.bezeqint.net) (Connection closed)
[16:51:24] <eddyb> * 1    process 17324 "rid3" 0x00007f92ebbfb122 in brw_state_batch () from /run/opengl-driver/lib/dri/i965_dri.so
[16:51:42] <eddyb> where's my 240 background threads?!
[16:52:06] *** Quits: w4ffles (textual@moz-g7g.toe.144.12.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[16:54:24] *** Quits: tomaka (Pierre@moz-8lbrro.abo.wanadoo.fr) (Ping timeout: 121 seconds)
[16:54:59] *** Quits: harrisonclarke (harrisoncla@moz-th044a.ns.bellaliant.net) (Connection closed)
[16:55:09] *** Joins: davebettin (davebettin@moz-hde.5e5.136.67.IP)
[16:55:12] *** Joins: harrisonclarke (harrisoncla@moz-th044a.ns.bellaliant.net)
[16:55:44] *** Quits: harrisonclarke (harrisoncla@moz-th044a.ns.bellaliant.net) (Connection closed)
[16:55:54] *** Quits: mtsr (mtsr@moz-5r1gp7.yourbnc.co.uk) (Quit: YourBNC - (https://yourbnc.co.uk))
[16:58:16] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[16:58:17] *** Joins: mtsr (mtsr@moz-5r1gp7.yourbnc.co.uk)
[16:58:59] <kvark> Tiffany: so, it's not the problem with MM speed but rather with the architecture
[17:00:36] *** Quits: kvark (Mibbit@moz-p3c.rcb.221.216.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[17:03:19] *** Joins: hhhhhhhhhh (mike@moz-969kuj.cable.virginm.net)
[17:08:49] *** Joins: brson (brson@moz-cfhap5.mtv2.mozilla.com)
[17:12:40] <Tiffany> kvark: if I needed to do matrix construction faster I could try to combine rotation+translation+scale into a single matrix to be multiplied with projection
[17:14:03] *** Joins: dmac_ (dmac@moz-4kcd1c.ca.comcast.net)
[17:14:04] *** Joins: kvark (Mibbit@moz-p3c.rcb.221.216.IP)
[17:16:28] <kvark> Tiffany: exactly
[17:16:39] *** Joins: KdotJPG (KdotJPG@moz-6ric4h.rlghnc.sbcglobal.net)
[17:16:53] <kvark> that should be a fairly straightforward/non-invasive optimization
[17:17:01] <Tiffany> yeah
[17:23:31] <Luqman> cmr: hmm? what would i be proud of?
[17:24:19] <Luqman> oh that, yay it already landed :D
[17:24:25] <Luqman> eddyb: +++
[17:27:08] *** Joins: James (quassel@moz-225vcm.range86-148.btcentralplus.com)
[17:27:21] *** Joins: w4ffles (textual@moz-g7g.toe.144.12.IP)
[17:30:59] *** Quits: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP) (Client exited)
[17:36:21] *** Joins: Twinklebear (Twinklebear@moz-jqm.nvh.110.128.IP)
[17:41:10] *** Joins: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP)
[17:46:42] *** Quits: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP) (Connection closed)
[17:48:47] *** Quits: silven (quassel@moz-0roor3.priv.bahnhof.se) (Ping timeout: 121 seconds)
[17:49:03] *** Joins: silven (quassel@moz-0roor3.priv.bahnhof.se)
[17:51:32] *** Quits: w4ffles (textual@moz-g7g.toe.144.12.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[17:53:04] *** Joins: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP)
[17:54:09] *** Joins: w4ffles (textual@moz-g7g.toe.144.12.IP)
[17:56:47] *** Joins: tomaka (Pierre@moz-6lc2ai.abo.wanadoo.fr)
[17:57:56] *** Quits: summerlight (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[17:58:22] *** Quits: untitaker (untitaker@moz-i9ab1o.highway.telekom.at) (Ping timeout: 121 seconds)
[18:00:34] *** Quits: KdotJPG (KdotJPG@moz-6ric4h.rlghnc.sbcglobal.net) (Ping timeout: 121 seconds)
[18:01:09] *** Quits: Luqman (laden@moz-bjmiqc.csclub.uwaterloo.ca) (Ping timeout: 121 seconds)
[18:01:17] *** Joins: untitaker (untitaker@moz-q9sn3v.highway.telekom.at)
[18:02:40] *** Joins: Luqman (laden@moz-bjmiqc.csclub.uwaterloo.ca)
[18:03:48] *** Joins: eerie (eerie@moz-9ml73n.red.bezeqint.net)
[18:06:33] *** Quits: eerie (eerie@moz-9ml73n.red.bezeqint.net) (Connection closed)
[18:11:02] *** Joins: KdotJPG (KdotJPG@moz-8c8lbb.801f.5ehq.0306.2602.IP)
[18:12:50] *** Joins: vosen (vosen@moz-mtm1g4.dynamic.chello.pl)
[18:15:55] *** Quits: vosen (vosen@moz-mtm1g4.dynamic.chello.pl) (Connection closed)
[18:16:01] *** Joins: vosen (vosen@moz-mtm1g4.dynamic.chello.pl)
[18:16:20] *** Joins: vosen_ (vosen@moz-mtm1g4.dynamic.chello.pl)
[18:16:20] *** Quits: vosen (vosen@moz-mtm1g4.dynamic.chello.pl) (Connection closed)
[18:18:04] *** vosen_ is now known as vosen
[18:20:36] *** Joins: ecogiko (ecogiko@moz-p59qrv.chello.nl)
[18:23:44] *** Joins: kkimdev (kkimdev@moz-54q.uh9.135.104.IP)
[18:24:33] *** Quits: Twinklebear (Twinklebear@moz-jqm.nvh.110.128.IP) (Quit: Leaving)
[18:25:18] *** Quits: w4ffles (textual@moz-g7g.toe.144.12.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[18:31:14] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[18:32:06] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[18:32:15] *** Quits: hhhhhhhhhh (mike@moz-969kuj.cable.virginm.net) (Quit: WeeChat 1.1.1)
[18:33:11] *** Joins: w4ffles (textual@moz-g7g.toe.144.12.IP)
[18:34:09] *** Joins: mkpankov` (user@moz-dhr.u5t.23.84.IP)
[18:37:59] *** Joins: kalail (uid62296@moz-5ck9vu.charlton.irccloud.com)
[18:40:28] *** Quits: alexggordon (alexggordon@moz-em9tm4.mo.charter.com) (Quit: Lost terminal)
[18:42:08] *** Joins: debuuu (debu@moz-thlvnr.dyn.telefonica.de)
[18:42:49] *** Joins: SerialVelocity_ (SerialVeloc@moz-attia0.cable.virginm.net)
[18:44:50] *** Quits: SerialVelocity (SerialVeloc@moz-attia0.cable.virginm.net) (Ping timeout: 121 seconds)
[18:51:15] <kvark> fkaa: remember I was telling that russian community seems to be a little too skeptical about rust?
[18:52:09] <kvark> well, this article is the translation of one such instance - http://www.viva64.com/en/b/0324/
[18:53:02] <FreeFull> kvark: Yeah, it was on HN
[18:53:31] <kvark> of course, the author is a part of vocal minority, I don't know what the silent majority thinks
[18:53:34] *** Quits: ixjf`bnc (ixjf@moz-a3o4db.pl) (Quit: Aw yeah, baby!)
[18:53:34] *** Quits: Deltanic (Deltanic@moz-a3o4db.pl) (Quit: ayy)
[18:53:41] <eddyb> kvark: there seems to be somewhat of an anti-west sentiment going on. Elbrus comes to mind
[18:54:04] <kvark> eddyb: hope you are joking
[18:54:25] *** Joins: Deltanic (Deltanic@moz-h5m.4ii.62.178.IP)
[18:54:26] <eddyb> kvark: well, I would have to give more data points
[18:55:13] <eddyb> but I expect many russian developers to be more skeptical of something like a new language developed by... oh forget it
[18:55:23] <eddyb> I'll inform you if I found my point :P
[18:55:59] <kvark> eddyb: I believe you are very far from truth. A lot of these russian devs, like me, are living and working in the west.
[18:56:50] <eddyb> yeah, that's not at all something I wanted to negate by describing a specific subculture
[18:56:53] <kvark> there is no reason for them to be more skeptical than for any other devs, if only not for the fact C++ is insanely popular there
[18:57:23] <kvark> eddyb: ok, ping me when you find something
[18:57:30] <fkaa> kvark: yeah i read that one
[18:59:40] <kvark> FreeFull: I don't see it there now. Do you have a link?
[19:00:02] *** Joins: qrlpx_ (smuxi@moz-n7t.3nb.211.95.IP)
[19:00:40] <fkaa> kvark: https://news.ycombinator.com/item?id=9531822
[19:01:17] <kvark> > "It's true that Rust aficionados tend to come across as religious zealots." uh oh
[19:01:34] <eddyb> kvark: I know someone who works in reverse engineering in Russia (an infosec company, not sure which one) and he seems genuinely interested in Rust, fwiw
[19:01:44] <FreeFull> https://www.reddit.com/r/cpp/comments/35pn6h/criticizing_the_rust_language_and_why_cc_will/ Actual C++ programmers seem to think more highly of Rust
[19:01:50] <eddyb> I hope any suspicions I have are unfounded and there's many more like him
[19:01:59] <eddyb> FreeFull: FSVO "actual"
[19:02:03] <kvark> eddyb: sweet :) 
[19:04:45] <FreeFull> eddyb: Yeah
[19:05:00] *** Quits: davebettin (davebettin@moz-hde.5e5.136.67.IP) (Ping timeout: 121 seconds)
[19:05:03] <FreeFull> s/Actual C++ programmers/people in r\/cpp/
[19:06:05] *** Quits: Deltanic (Deltanic@moz-h5m.4ii.62.178.IP) (Quit: ayy)
[19:07:16] <tomaka> I'm also an "actual C++ programmer" and I think highly of Rust :p
[19:08:58] <FreeFull> =P
[19:09:00] <eddyb> tomaka: we can tell :P
[19:09:04] *** Joins: debu (debu@moz-thlvnr.dyn.telefonica.de)
[19:09:27] <eddyb> (glutin is amazing to have at 1.0 <3)
[19:10:20] *** Quits: w4ffles (textual@moz-g7g.toe.144.12.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[19:11:34] *** Quits: debuuu (debu@moz-thlvnr.dyn.telefonica.de) (Ping timeout: 121 seconds)
[19:11:53] <ecogiko> Hello! I have been getting into opengl with glium and I am studying the exercises from github. In the image example, there is a matrix in the uniforms, why is that, what's the purpose of that matrix? 
[19:12:51] <kvark> The Matrix is everywhere. It is all around us. Even now, in this very room.
[19:14:12] <ecogiko> Hahaha, well, that explains it.
[19:14:37] <kvark> ecogiko: not trying to dismiss the issue, tomaka should be able to help you
[19:15:57] <tomaka> ah
[19:16:15] <tomaka> ecogiko: well, that matrix in particular is pointless
[19:16:57] <ecogiko> Lol. Okay.
[19:17:34] <tomaka> It just shows how you would rotate or move the image or something
[19:18:45] <ecogiko> Yeah, I was fiddling a little with the values and for some it changed how it was projected onto the screen. (I am sure if I should called it a projection matrix
[19:19:52] *** Joins: eerie (eerie@moz-9ml73n.red.bezeqint.net)
[19:20:18] *** Quits: kkimdev (kkimdev@moz-54q.uh9.135.104.IP) (Ping timeout: 121 seconds)
[19:29:09] *** Quits: nerdopoly (nerdopoly@moz-aqvski.range86-143.btcentralplus.com) (Quit: leaving)
[19:31:47] *** Joins: kkimdev (kkimdev@moz-dj5rvn.59gh.vk5s.0000.2620.IP)
[19:44:06] <eddyb> hmm, I'm watching someone play Boson X (https://www.youtube.com/watch?v=07rtgRjV5yI)
[19:44:15] <eddyb> though I believe I've seen it before
[19:44:28] <eddyb> it's really cool that you can pretty much count the triangles :P
[19:44:36] <eddyb> but it still looks good
[19:45:39] *** Joins: FrozenCow (FrozenCow@moz-i2tvv4.chello.nl)
[19:46:20] *** Joins: mjewkes (mjewkes@moz-6v8.jf9.227.142.IP)
[19:46:37] <kvark> eddyb: I bet it's heavier on the tooling side than on graphics ;)
[19:46:50] <kvark> eddyb: automate the timing of all these events
[19:47:02] *** Quits: FrozenCow (FrozenCow@moz-i2tvv4.chello.nl) (Quit: Leaving)
[19:49:56] *** Joins: eerie_ (eerie@moz-9ml73n.red.bezeqint.net)
[19:51:06] *** Joins: w4ffles (textual@moz-g7g.toe.144.12.IP)
[19:52:57] *** Quits: eerie (eerie@moz-9ml73n.red.bezeqint.net) (Ping timeout: 121 seconds)
[19:53:49] *** Joins: genbattle (genbattle@moz-r09mao.xtra.co.nz)
[19:54:46] *** Joins: canhtak (jeremy@moz-1a9fh1.luxdsl.pt.lu)
[19:54:48] *** Quits: erickt (erickt@moz-4hh.6p3.217.74.IP) (Ping timeout: 121 seconds)
[19:58:22] *** Quits: canhtak (jeremy@moz-1a9fh1.luxdsl.pt.lu) (Client exited)
[20:03:51] *** Joins: p1start (p1start@moz-nftjhe.org)
[20:05:46] *** Quits: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[20:06:15] *** Joins: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com)
[20:08:49] *** Quits: Lilly (Lilly@moz-pfkvo9.bredband.comhem.se) (Quit: bajs)
[20:11:01] *** Quits: eerie_ (eerie@moz-9ml73n.red.bezeqint.net) (Connection closed)
[20:18:27] <FreeFull> eddyb: Go ahead and play it
[20:19:23] <FreeFull> eddyb: Fun fact: The levels are generated from plain-text decriptions, and therefore it's really easy to cheat by making everything an accelerating floor
[20:19:44] <eddyb> FreeFull: it takes pieces and combines them?
[20:20:58] *** Joins: canhtak (jeremy@moz-1a9fh1.luxdsl.pt.lu)
[20:21:03] *** Joins: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP)
[20:21:32] <FreeFull> eddyb: Yeah
[20:22:01] *** Joins: hhhhhhhhhh (mike@moz-969kuj.cable.virginm.net)
[20:24:42] *** Quits: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu) (Quit: Leaving)
[20:25:24] *** Quits: canhtak (jeremy@moz-1a9fh1.luxdsl.pt.lu) (Client exited)
[20:25:43] *** Quits: ecogiko (ecogiko@moz-p59qrv.chello.nl) (Quit: leaving)
[20:26:02] *** Joins: jwilm (jwilm@moz-1rin99.hfc.comcastbusiness.net)
[20:26:43] *** Quits: Boscop (me@moz-5ac.5rj.126.98.IP) (Connection closed)
[20:27:07] *** Joins: Boscop (me@moz-5ac.5rj.126.98.IP)
[20:28:10] *** Quits: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com) (Ping timeout: 121 seconds)
[20:28:53] <kvark> anyone knows if AerialX visits this place?
[20:30:03] *** Joins: Kingsquee (kingsley@moz-3fm07c.bchsia.telus.net)
[20:31:49] <fkaa> kvark: spirv sounds fun! ..not :(
[20:32:34] <kvark> fkaa: you are watching gfx-rs issues? sweet:)
[20:32:44] <fkaa> i get notified yeah
[20:34:01] <fkaa> would a spirv translator take the ir and spit out something else?
[20:34:05] <fkaa> or the other way around
[20:34:10] *** Joins: Gabriel_7 (Gabriel@moz-evm75k.mtgr.92aj.0e35.2a01.IP)
[20:34:55] <kvark> fkaa: I'd imagine AST -> SPIR, but if you can do LLVM IR -> SPIR - that'd work too
[20:35:08] *** Joins: erickt (erickt@moz-4hh.6p3.217.74.IP)
[20:35:14] <fkaa> (this is way out of my league ;))
[20:36:10] *** Quits: p1start (p1start@moz-nftjhe.org) (Ping timeout: 121 seconds)
[20:37:32] <kvark> huh, "Khronos will open-source LLVM <-> SPIR-V tools" - that's new for me
[20:37:40] <kvark> means we don't need AST->SPIR-V?..
[20:38:04] <Aaron> kvark: hi
[20:38:10] <fkaa> they will provide a reference implementation
[20:38:18] <fkaa> at least that's what i picked up from the talks
[20:38:23] *** Quits: twipeD (wipeD@moz-mesdod.dip0.t-ipconnect.de) (Connection closed)
[20:38:26] <fkaa> and it'll be completely optional
[20:38:55] *** Joins: Rym_ (y@moz-o80acm.range86-189.btcentralplus.com)
[20:39:14] <kvark> Aaron: hey! I'm wondering about getting some emscripten going
[20:39:22] <kvark> Aaron: what have you been up to lately?
[20:39:29] <Aaron> I need to update it :/
[20:39:49] *** Quits: w4ffles (textual@moz-g7g.toe.144.12.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[20:40:11] <Aaron> Work, busy things. Not much interesting lately :/
[20:40:42] <Aaron> My ugly std fork needs merging, mainly.
[20:41:11] <kvark> Aaron: would it be easy to try out emscripten after rust-1.0 release?
[20:41:18] *** Joins: mindtree (Mitch@moz-2hr.aae.240.116.IP)
[20:41:55] <Aaron> I hope to make it so when I get a chance.
[20:42:15] <kvark> Aaron: ok, cool. Let me know when it's time to try
[20:42:16] <Aaron> Was thinking about maybe touching it so I'd have something to show off on friday but meh, dunno :P
[20:42:19] *** Joins: w4ffles (textual@moz-g7g.toe.144.12.IP)
[20:42:24] <fkaa> hm, is there a reason why some file formats have "reserved" bytes in the header?
[20:42:33] <fkaa> https://www.khronos.org/registry/spir-v/papers/WhitePaper.html
[20:42:41] <kvark> Aaron: are you coming to Toronto Meetup?
[20:42:44] <Aaron> I am.
[20:42:58] <kvark> sweeet:)
[20:43:05] <Aaron> :)
[20:44:48] *** Quits: Binero (jeroen@moz-91joat.69vi.s4ge.1810.2a02.IP) (Client exited)
[20:47:10] <eddyb> hmm
[20:47:31] *** Joins: davebettin (davebettin@moz-hde.5e5.136.67.IP)
[20:47:33] <eddyb> so no_std Rust could be used with SPIR-V?
[20:47:50] <eddyb> the SIMD support isn't good enough though
[20:48:00] <fkaa> it'd work the same as with glassfull i guess?
[20:48:21] <eddyb> fkaa: rustc already generates LLVM IR
[20:48:29] <kvark> glassful is AST -> GLSL, no IR involved
[20:48:34] <fkaa> oh
[20:49:08] <eddyb> the advantage of SPIR-V is that you can do some optimizations before passing it to the driver
[20:49:26] <eddyb> not sure how much it will matter
[20:50:07] <kvark> > SPIR-V is designed to be a target for device independent optimizations.
[20:55:53] <eddyb> tomaka: apparently NixOS has the NDK version from October 2014, i.e. android-ndk-r10c
[20:56:29] <eddyb> tomaka: I'm tempted to try and build an APK without manually downloading and generating a toolchain :P
[20:56:51] <eddyb> nixos.pkgs.androidsdk_4_4       android-sdk-24.0.1
[20:56:53] <eddyb> no way
[20:58:44] *** Quits: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com) (Client exited)
[20:59:12] *** Joins: pcwalton (pcwalton@moz-l8ebtf.sfo1.mozilla.com)
[21:01:27] <eddyb> just gonna run nix-env -i android-{sdk,ndk-r10c} and I'll try to build rust for it overnight
[21:03:49] *** Joins: summerlight (summerlight@moz-99k.2mj.130.121.IP)
[21:15:42] *** Quits: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP) (Connection closed)
[21:19:50] *** Joins: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP)
[21:21:44] *** Quits: debu (debu@moz-thlvnr.dyn.telefonica.de) (Ping timeout: 121 seconds)
[21:38:27] *** Quits: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP) (Connection closed)
[21:40:12] *** Joins: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP)
[21:41:29] *** Quits: eddyb (eddyb@moz-egg.q07.26.188.IP) (Ping timeout: 121 seconds)
[21:44:38] *** Joins: eddyb (eddyb@moz-egg.q07.26.188.IP)
[21:47:04] *** Quits: genbattle (genbattle@moz-r09mao.xtra.co.nz) (Ping timeout: 121 seconds)
[21:50:38] *** Quits: mindtree (Mitch@moz-2hr.aae.240.116.IP) (Ping timeout: 121 seconds)
[21:50:48] *** Joins: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu)
[21:50:58] *** Joins: mindtree (Mitch@moz-2hr.aae.240.116.IP)
[21:52:38] *** Quits: erz (erz@moz-n26c5c.broadband.corbina.ru) (Quit: My Mac has gone to sleep. ZZZzzz…)
[21:55:25] <kvark> erickt: ping
[21:56:07] <erickt> kvark: pong
[21:56:32] <kvark> so how are you going to proceed with SF? Will XMppWocky show off some stuff?
[21:57:28] <erickt> kvark: I'm planning on grabbing a room (or the projector) and demoing things to those who are interested
[21:57:54] <kvark> aha, I see. Do you still have a link to my gist comment about demo instructions?
[21:57:59] <erickt> not sure about XMPPwocky yet :)
[21:58:03] <erickt> yeah
[21:58:19] *** Joins: lenstr (lenstr@moz-t72.vju.25.171.IP)
[21:58:55] <kvark> ok, I've updated both the code and the data. Camera can be rotated now, among other things. Please have a run when you get a chance before the show, just to make sure.
[21:59:43] <kvark> erickt: most importantly, everything works on Rust-beta now (yay!)
[21:59:53] <erickt> woohoo!
[22:00:34] <kvark> so when you have a chance, please make sure you are doing it on rust-beta
[22:01:10] <erickt> will do
[22:11:42] *** Quits: hhhhhhhhhh (mike@moz-969kuj.cable.virginm.net) (Quit: WeeChat 1.1.1)
[22:11:59] *** Quits: vosen (vosen@moz-mtm1g4.dynamic.chello.pl) (Quit: Leaving)
[22:12:58] *** Joins: mib_a76own (Mibbit@moz-0hu1ne.rcsntx.sbcglobal.net)
[22:13:26] *** Quits: mib_a76own (Mibbit@moz-0hu1ne.rcsntx.sbcglobal.net) (Quit: http://www.mibbit.com ajax IRC Client)
[22:13:31] *** Quits: w4ffles (textual@moz-g7g.toe.144.12.IP) (Quit: My Mac has gone to sleep. ZZZzzz…)
[22:18:40] *** Quits: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP) (Connection closed)
[22:20:34] <kvark> eddyb: ping
[22:22:13] *** Quits: mjewkes (mjewkes@moz-6v8.jf9.227.142.IP) (Connection closed)
[22:27:47] <Dabo> How hard is it to embed an image into the binary so that assets directories aren't needed at runtime?
[22:28:06] <Dabo> like with include_bytes!()
[22:28:51] <kvark> Dabo: you nailed it. include_bytes ftw
[22:29:06] <eddyb> kvark: pong
[22:29:13] *** Joins: orangeshark (erik@moz-ck11uv.44tj.56ot.0306.2602.IP)
[22:29:23] *** Quits: fkaa (tundmatu@moz-501od2.business.telia.com) (Ping timeout: 121 seconds)
[22:29:37] *** Quits: summerlight (summerlight@moz-99k.2mj.130.121.IP) (Ping timeout: 121 seconds)
[22:29:42] <eddyb> (not to self: do not try to install both the NDK and the SDK with not much disk space left)
[22:29:44] <eddyb> *note even
[22:30:11] <kvark> eddyb: 3 things. 1) you are my expert in Rust features, when are associated generic types going to be there? 2) this is the test case - http://is.gd/rQQgMY maybe you can propose a workaround?..
[22:30:16] <Dabo> kvark, then just image::load instead of image::open?
[22:30:28] *** Quits: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com) (Connection closed)
[22:30:33] <eddyb> kvark: HKT?
[22:30:44] *** Joins: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com)
[22:31:17] <kvark> Dabo: yes, load should do it (https://github.com/PistonDevelopers/image/blob/1482a7931f6e9c00474ab6bd51bf5171733a964d/src/dynimage.rs#L572)
[22:31:26] <kvark> eddyb: I don't think this is HKT
[22:31:37] <kvark> though, I'm not an expert, obviously :)
[22:31:40] *** Joins: acharles (acharles@moz-dvfnah.static.qwest.net)
[22:31:44] <eddyb> if you want trait Foo { type Bar<T>; } that's HKT
[22:32:02] <kvark> eh, means we'll have to wait for a while, right?..
[22:32:08] <Dabo> kvark, awesome, thanks
[22:32:43] <eddyb> kvark: the workaround is to have a trait generic over T
[22:32:52] <eddyb> kvark: as use it as a type constructor
[22:32:54] *** Parts: acharles (acharles@moz-dvfnah.static.qwest.net) ()
[22:33:41] <kvark> eddyb: right, I couldn't come up with a good solution like this yet, will need to try once more
[22:33:45] *** Joins: acharles (acharles@moz-dvfnah.static.qwest.net)
[22:33:57] *** Quits: lenstr (lenstr@moz-t72.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[22:34:52] *** Quits: SneakySnake (nya@moz-i9is4u.pool.telekom.hu) (Connection closed)
[22:35:19] <kvark> eddyb: 3) https://github.com/PistonDevelopers/hematite/issues/217 (Hematite on gfx_scene)
[22:35:42] <kvark> eddyb: I'd do the actual port, I just need to know if it's aligned with your goals
[22:35:47] <eddyb> is hematite still using SDL2?
[22:36:10] <eddyb> I think a bunch of hematite's code is in something-voxel now
[22:36:10] <kvark> that's orthogonal, but yes
[22:36:25] <eddyb> SDL2 should die, we have glutin
[22:36:32] <eddyb> created 17456 symlinks in user environment
[22:36:33] <eddyb> yusss
[22:36:36] <kvark> certainly
[22:37:07] <kvark> but voxels or not, you are still using gfx batches (and gfx obviously), so gfx_scene is compatible
[22:37:23] <kvark> are you doing any culling work?
[22:37:29] <eddyb> kvark: yes, in main.rs
[22:37:41] <eddyb> or do you mean something else?
[22:38:00] *** Quits: Astrum|Lap (Astrum|Lap@moz-7enfbr.co.comcast.net) (Client exited)
[22:38:18] <kvark> eddyb: frustum culling. I don't see it yet
[22:38:18] *** Joins: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP)
[22:38:52] *** Quits: SerialVelocity_ (SerialVeloc@moz-attia0.cable.virginm.net) (Quit: My Mac has gone to sleep. ZZZzzz…)
[22:40:02] <eddyb> kvark: https://github.com/PistonDevelopers/hematite/blob/master/src/main.rs#L233
[22:40:55] <eddyb> kvark: I believe it's really inefficient in a few ways
[22:41:05] <eddyb> but it's done at the chunk level
[22:41:08] *** Quits: jaen (jaen@moz-ifmik2.copit.pl) (Quit: WeeChat 1.1.1)
[22:41:49] <kvark> and a chunk is 16x16x16 cubes?
[22:41:52] <eddyb> yes
[22:42:08] *** Joins: sargas (sargas@moz-863roc.hfc.comcastbusiness.net)
[22:42:19] <kvark> is chunk a single draw call?
[22:42:20] <eddyb> kvark: and there's descriptions of the vanilla client's new culling algorithm, which is based on line-of-sight, that should be implemented at some point
[22:42:32] <eddyb> kvark: it's a single buffer, yes
[22:43:24] <kvark> eddyb: it's done in a weird way. You transform all the cubes into the projection space to compute a compound bounding box
[22:43:41] <kvark> wouldn't it be easier to compute a box in local space, and convert it as a whole to the projection space?..
[22:44:44] *** Quits: kalail (uid62296@moz-5ck9vu.charlton.irccloud.com) (Quit: Connection closed for inactivity)
[22:46:42] <eddyb> huh
[22:46:59] <eddyb> kvark: I transform all the corners
[22:47:19] <kvark> ah, I see
[22:47:22] <eddyb> kvark: those are not ranges, but arrays :P
[22:47:23] <kvark> bummer
[22:47:47] <eddyb> it really needs documentation
[22:48:30] <kvark> eddyb: how many different shaders are used?
[22:48:34] *** Joins: saterus (saterus@moz-rutqj0.res.rr.com)
[22:52:11] *** Quits: nstoddard (nstoddard@moz-ce50ao.dhcp.embarqhsd.net) (Quit: ChatZilla 0.9.91.1 [Firefox 37.0.2/20150415140819])
[22:53:46] <kvark> alright, gtg
[22:53:50] *** Quits: kvark (Mibbit@moz-p3c.rcb.221.216.IP) (Quit: http://www.mibbit.com ajax IRC Client)
[22:55:46] <datalus> has anyone tried hop swapping game code out?
[22:58:35] *** Quits: sargas (sargas@moz-863roc.hfc.comcastbusiness.net) (Quit: Leaving)
[23:00:08] *** Quits: kmcguire (kmcguire@moz-pg1gb9.biz.rr.com) (Ping timeout: 121 seconds)
[23:01:58] *** Quits: mindtree (Mitch@moz-2hr.aae.240.116.IP) (Quit: leaving)
[23:05:27] *** Joins: mindtree (Mitch@moz-2hr.aae.240.116.IP)
[23:05:43] *** Joins: genbattle (genbattle@moz-4v0.gkd.16.182.IP)
[23:06:00] *** Quits: bjz_ (bjz@moz-puppgq.tpgi.com.au) (Quit: My Mac has gone to sleep. ZZZzzz…)
[23:07:25] *** Joins: Wild_Cat (Max@moz-fa8mvt.dsl.teksavvy.com)
[23:08:09] *** Quits: saterus (saterus@moz-rutqj0.res.rr.com) (Connection closed)
[23:08:10] <datalus> for now ive gotten a pretty decent system of reloading dynamic libs of code
[23:08:34] <datalus> but i don't think i can get it to work for 1.0, a lot of the features im using are still unstable
[23:10:50] <datalus> was wondering if anyone on the piston project or any related libraries were or have thought about this?
[23:24:34] *** Quits: Jesin (Jesin@moz-t88s6v.cc.lehigh.edu) (Quit: Leaving)
[23:26:15] *** Quits: mkpankov` (user@moz-dhr.u5t.23.84.IP) (Ping timeout: 121 seconds)
[23:26:16] *** Joins: Jesin (Jesin@moz-oo8drm.eecs.lehigh.edu)
[23:27:27] *** Quits: genbattle (genbattle@moz-4v0.gkd.16.182.IP) (Connection closed)
[23:34:29] *** Joins: lenstr (lenstr@moz-t72.vju.25.171.IP)
[23:35:27] *** Quits: lenstr (lenstr@moz-t72.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[23:35:40] *** Joins: lenstr (lenstr@moz-t72.vju.25.171.IP)
[23:36:46] *** Quits: lenstr (lenstr@moz-t72.vju.25.171.IP) (A TLS packet with unexpected length was received.)
[23:42:07] *** Quits: harrisonclarke (harrisoncla@moz-6v8.jf9.227.142.IP) (Connection closed)
[23:47:01] *** Joins: kmcguire (kmcguire@moz-bbqf14.res.bhn.net)
[23:50:04] *** Quits: brson (brson@moz-cfhap5.mtv2.mozilla.com) (Quit: leaving)
[23:52:49] *** Joins: sambotron (sambotron@moz-lgc.bdf.247.173.IP)
[23:52:50] *** Quits: sambotron (sambotron@moz-lgc.bdf.247.173.IP) (Quit: )
[23:55:02] *** kimundi is now known as zz_kimundi
[23:57:21] *** Quits: Gabriel_7 (Gabriel@moz-evm75k.mtgr.92aj.0e35.2a01.IP) (Connection closed)
